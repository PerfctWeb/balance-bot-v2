const _0x44fead=_0x55f0;function _0x3775(){const _0x1a3419=['push','node','constructor','argv','update','1640919HGTuHa',',\x20must\x20be\x20a\x204\x20digit\x20number','Unexpected\x20error:',',\x20but\x20version\x20','Automatically\x20restarting\x20BM','Balance\x20Bot\x20>\x20','log','host','inherit','values','bb/','--port','1805178JEAlTq','split','4aasnys','restore','staging','SIGTERM','keys','versions','fork','toString','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','terminate','(((.+)+)+)+$','121864RWjiwP','error','test','307822mMrkvC','bm.js','yargs/yargs','port','320445qCSqwA','ipc','install.js','-----------------------------------------------------------------------------------','540zFEcwp','The\x20installed\x20Node.js\x20version\x20is\x20','user','reinstall','101495wLwsfc','kill','705286gjGtAU','Error\x20while\x20updating\x20Balance\x20Bot:','exit','apply'];_0x3775=function(){return _0x1a3419;};return _0x3775();}(function(_0x5e73f5,_0x62e186){const _0x5db69b=_0x55f0,_0x392a46=_0x5e73f5();while(!![]){try{const _0x27c76a=parseInt(_0x5db69b(0x1c7))/0x1+parseInt(_0x5db69b(0x1d5))/0x2+-parseInt(_0x5db69b(0x1cb))/0x3+parseInt(_0x5db69b(0x1ec))/0x4*(parseInt(_0x5db69b(0x1d3))/0x5)+parseInt(_0x5db69b(0x1ea))/0x6+parseInt(_0x5db69b(0x1de))/0x7+-parseInt(_0x5db69b(0x1c4))/0x8*(parseInt(_0x5db69b(0x1cf))/0x9);if(_0x27c76a===_0x62e186)break;else _0x392a46['push'](_0x392a46['shift']());}catch(_0x23cf0d){_0x392a46['push'](_0x392a46['shift']());}}}(_0x3775,0x2fab1));const _0x328adf=function(){let _0x9f7f94=!![];return function(_0x188119,_0x14cbcb){const _0x475713=_0x9f7f94?function(){const _0x22113e=_0x55f0;if(_0x14cbcb){const _0x51b7db=_0x14cbcb[_0x22113e(0x1d8)](_0x188119,arguments);return _0x14cbcb=null,_0x51b7db;}}:function(){};return _0x9f7f94=![],_0x475713;};}(),_0x5b5501=_0x328adf(this,function(){const _0x3a9889=_0x55f0;return _0x5b5501['toString']()['search'](_0x3a9889(0x1c3))[_0x3a9889(0x1c0)]()[_0x3a9889(0x1db)](_0x5b5501)['search'](_0x3a9889(0x1c3));});_0x5b5501();const fs=require('fs'),argv=require(_0x44fead(0x1c9))(process[_0x44fead(0x1dc)]['slice'](0x2))[_0x44fead(0x1dc)],childProcess=require('child_process'),nodeversion=process[_0x44fead(0x1f1)][_0x44fead(0x1da)],minversion=0x10;nodeversion[_0x44fead(0x1eb)]('.')[0x0]<minversion&&(console['log'](),console[_0x44fead(0x1e4)]('-----------------------------------------------------------------------------------'),console[_0x44fead(0x1e4)](_0x44fead(0x1d0)+nodeversion+_0x44fead(0x1e1)+minversion+'\x20or\x20above\x20is\x20required'),console[_0x44fead(0x1e4)](_0x44fead(0x1c1)),console[_0x44fead(0x1e4)](_0x44fead(0x1ce)),console[_0x44fead(0x1e4)](),process['exit'](0x1));if(argv[_0x44fead(0x1ca)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x44fead(0x1c6)](argv[_0x44fead(0x1ca)])&&(console[_0x44fead(0x1e4)]('Error:\x20Invalid\x20argument\x20'+argv[_0x44fead(0x1ca)]+_0x44fead(0x1df)),process[_0x44fead(0x1d7)](0x1));}let args=[];function _0x55f0(_0x481dfd,_0x1ae2ea){const _0x48e1d7=_0x3775();return _0x55f0=function(_0x5b5501,_0x328adf){_0x5b5501=_0x5b5501-0x1c0;let _0x3775ae=_0x48e1d7[_0x5b5501];return _0x3775ae;},_0x55f0(_0x481dfd,_0x1ae2ea);}argv['port']&&(args[_0x44fead(0x1d9)](_0x44fead(0x1e9)),args['push'](argv[_0x44fead(0x1ca)]));argv[_0x44fead(0x1e5)]&&(args[_0x44fead(0x1d9)]('--host'),args[_0x44fead(0x1d9)](argv[_0x44fead(0x1e5)]));argv[_0x44fead(0x1d1)]&&(args['push']('--user'),args[_0x44fead(0x1d9)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x44fead(0x1d9)]('-d');let bmpath=_0x44fead(0x1e8);const bmfile=_0x44fead(0x1c8),updatefile=_0x44fead(0x1cd);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x44fead(0x1d7),async()=>{handleTerminate();}),process['on'](_0x44fead(0x1ef),async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function startBM(){const _0x5a38ff=_0x44fead;let _0x67b100=![];const _0x40c570={'cwd':'','stdio':[_0x5a38ff(0x1e6),_0x5a38ff(0x1e6),'inherit',_0x5a38ff(0x1cc)]};pid1=childProcess[_0x5a38ff(0x1f2)](bmpath+bmfile,args,_0x40c570),pid1['on']('message',_0x334375=>{const _0x202c57=_0x5a38ff,_0x41c530=Object[_0x202c57(0x1e7)](_0x334375)[0x1]==_0x202c57(0x1ee);switch(Object[_0x202c57(0x1f0)](_0x334375)[0x0]){case _0x202c57(0x1dd):if(_0x41c530)startUpdate('2s');else startUpdate('2');break;case _0x202c57(0x1d2):if(_0x41c530)startUpdate('3s');else startUpdate('3');break;case _0x202c57(0x1ed):handleRestore();break;case _0x202c57(0x1c2):handleTerminate();break;}}),pid1['on'](_0x5a38ff(0x1c5),function(_0x3f108d){const _0x5b75c9=_0x5a38ff;if(_0x67b100)return;_0x67b100=!![],logging(_0x5b75c9(0x1e0),_0x3f108d);}),pid1['on'](_0x5a38ff(0x1d7),function(_0x53a39d){const _0x13cbaf=_0x5a38ff;if(terminating)return;if(updating)return;if(_0x67b100)return;_0x67b100=!![],console[_0x13cbaf(0x1e4)](_0x13cbaf(0x1e2)),startBM();});}async function handleTerminate(){const _0x3d0a39=_0x44fead;stopBM(),await sleep(0x3e8),process[_0x3d0a39(0x1d7)](0x0);}function stopBM(){const _0x5a777f=_0x44fead;terminating=!![];if(pid1)pid1[_0x5a777f(0x1d4)]();pid1=null;}function startUpdate(_0x4483d1){const _0x3b08ca=_0x44fead;updating=!![],stopBM();let _0x3024e3=![];const _0x49b485={'cwd':'','stdio':['inherit',_0x3b08ca(0x1e6),'inherit','ipc']};let _0x475fbb=[];if(staging)_0x475fbb[_0x3b08ca(0x1d9)](_0x4483d1+'s');else _0x475fbb[_0x3b08ca(0x1d9)](_0x4483d1);pid2=childProcess[_0x3b08ca(0x1f2)](updatefile,_0x475fbb,_0x49b485),pid2['on'](_0x3b08ca(0x1c5),function(_0x59b3d7){const _0x3b46f9=_0x3b08ca;updating=![];if(_0x3024e3)return;_0x3024e3=!![],logging(_0x3b46f9(0x1d6),_0x59b3d7);}),pid2['on']('exit',function(_0x38618d){updating=![];if(_0x3024e3)return;_0x3024e3=!![],terminating=![],startBM();});}function handleRestore(){const _0x338fda=_0x44fead;if(pid1)pid1[_0x338fda(0x1d4)]();}function logging(_0x433354){const _0x518dac=_0x44fead;console[_0x518dac(0x1e4)](_0x518dac(0x1e3)+_0x433354);}function sleep(_0x11c0d5){return new Promise(_0x2170cb=>setTimeout(_0x2170cb,_0x11c0d5));}