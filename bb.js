const _0x215562=_0x3042;(function(_0x2913e9,_0x1ce413){const _0x4c19b0=_0x3042,_0x482e74=_0x2913e9();while(!![]){try{const _0x461b5e=parseInt(_0x4c19b0(0x198))/0x1+parseInt(_0x4c19b0(0x13f))/0x2*(-parseInt(_0x4c19b0(0x126))/0x3)+parseInt(_0x4c19b0(0x195))/0x4*(parseInt(_0x4c19b0(0xc9))/0x5)+parseInt(_0x4c19b0(0xb1))/0x6*(-parseInt(_0x4c19b0(0xbd))/0x7)+parseInt(_0x4c19b0(0x1a9))/0x8*(parseInt(_0x4c19b0(0x175))/0x9)+parseInt(_0x4c19b0(0x1e1))/0xa+parseInt(_0x4c19b0(0x17d))/0xb;if(_0x461b5e===_0x1ce413)break;else _0x482e74['push'](_0x482e74['shift']());}catch(_0x1d9650){_0x482e74['push'](_0x482e74['shift']());}}}(_0x1825,0xca48b));const _0x56026b=function(){let _0x482ed2=!![];return function(_0x157741,_0x5811a5){const _0x55f57a=_0x482ed2?function(){const _0xa13b6a=_0x3042;if(_0x5811a5){const _0x15ebdb=_0x5811a5[_0xa13b6a(0x17b)](_0x157741,arguments);return _0x5811a5=null,_0x15ebdb;}}:function(){};return _0x482ed2=![],_0x55f57a;};}(),_0x1ffad9=_0x56026b(this,function(){const _0x4406fe=_0x3042;return _0x1ffad9[_0x4406fe(0x131)]()[_0x4406fe(0xad)](_0x4406fe(0x10e))[_0x4406fe(0x131)]()[_0x4406fe(0x1e4)](_0x1ffad9)[_0x4406fe(0xad)]('(((.+)+)+)+$');});_0x1ffad9();'use strict';process[_0x215562(0xe3)]['NTBA_FIX_319']=0x1;const childProcess=require('child_process'),FileSync=require(_0x215562(0xee)),fs=require('fs'),fns=require(_0x215562(0x189)),low=require(_0x215562(0x1a2)),path=require(_0x215562(0x177)),crypto=require(_0x215562(0x1d7)),Crypt=require(_0x215562(0xdc))[_0x215562(0xed)],RSA=require(_0x215562(0xdc))[_0x215562(0xa7)],bcrypt=require(_0x215562(0x1cc)),jwt=require(_0x215562(0x18d)),analyticsLib=require('analytics')[_0x215562(0x148)],googleAnalytics=require(_0x215562(0x118))[_0x215562(0x148)],ipaddr=require(_0x215562(0x1d9)),argv=require(_0x215562(0x163))(process['argv'][_0x215562(0x1cd)](0x2))[_0x215562(0x181)],PORT=argv[_0x215562(0x174)]||_0x215562(0x144),pattern=/^[0-9]{2,4}$/;if(!pattern[_0x215562(0x10a)](PORT))return console[_0x215562(0xa0)](_0x215562(0x1b0)+PORT+_0x215562(0xef)),process[_0x215562(0x10c)](0x1);const HOST=argv[_0x215562(0x142)]||_0x215562(0xbb),userID=argv[_0x215562(0xb3)]||'';let bbpath=_0x215562(0x156);const botfile='bot.js',configfile=_0x215562(0x1db),settingsfile=_0x215562(0x15d),securefile=_0x215562(0x1ac);!fs[_0x215562(0x1cf)](bbpath+botfile)&&(bbpath='');const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath+_0x215562(0x194)),configpath=userID?bbpath+_0x215562(0x123)+userID+'/':bbpath+_0x215562(0x123),configbackuppath=configpath+_0x215562(0x171);!fs[_0x215562(0x1cf)](configpath)&&fs[_0x215562(0x1ae)](configpath);!fs[_0x215562(0x1cf)](configbackuppath)&&fs['mkdirSync'](configbackuppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x215562(0x1e9)]({'bots':[]})[_0x215562(0xea)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x215562(0x1e9)]({'settings':{'timeshift':0x0}})['write']();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x215562(0x1e9)]({'secure':{},'blacklist':[]})['write']();let crypt=new Crypt({'md':_0x215562(0xe5),'rsaStandard':_0x215562(0x1b6)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[];const serverversion=require('./'+bbpath+'version.json')[_0x215562(0x1dc)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler;oneTimeMigration(),cleanBlacklist();const express=require(_0x215562(0x186)),app=express(),http=require('http')[_0x215562(0x155)](app);app[_0x215562(0x1ce)](express[_0x215562(0xfd)](path[_0x215562(0x1e3)](__dirname,bbpath,_0x215562(0x1dd)))),app[_0x215562(0x1ce)](express[_0x215562(0xfd)](path[_0x215562(0x1e3)](__dirname,bbpath,_0x215562(0xff)))),app['get']('/',function(_0x582fc0,_0x423192){const _0x1573a5=_0x215562;_0x423192[_0x1573a5(0x190)](path[_0x1573a5(0x1e3)](__dirname,bbpath,_0x1573a5(0x1dd),_0x1573a5(0x143)));}),app[_0x215562(0xac)](_0x215562(0x117),function(_0x11879d,_0x2b0fe1){const _0x53ad17=_0x215562;_0x2b0fe1[_0x53ad17(0x190)](path[_0x53ad17(0x1e3)](__dirname,bbpath,_0x53ad17(0xff),'index.html'));}),app['get'](_0x215562(0x161),(_0x4ba065,_0x5b2d5a)=>{const _0x241c2f=_0x215562;_0x5b2d5a[_0x241c2f(0x190)](path[_0x241c2f(0x1e3)](__dirname,bbpath,'build','index.html'));}),app['get']('/:bot/performance',(_0x26c674,_0x4143b6)=>{const _0xa91f64=_0x215562;_0x4143b6['sendFile'](path[_0xa91f64(0x1e3)](__dirname,bbpath,_0xa91f64(0xff),_0xa91f64(0x143)));}),app[_0x215562(0xac)]('/:bot/coins',(_0x175b0c,_0x970e3d)=>{const _0x439637=_0x215562;_0x970e3d[_0x439637(0x190)](path[_0x439637(0x1e3)](__dirname,bbpath,_0x439637(0xff),_0x439637(0x143)));}),app[_0x215562(0xac)]('/:bot/history',(_0x4bab0f,_0x3aaab2)=>{const _0x166914=_0x215562;_0x3aaab2[_0x166914(0x190)](path[_0x166914(0x1e3)](__dirname,bbpath,_0x166914(0xff),'index.html'));}),app[_0x215562(0xac)]('/:bot/configuration',(_0x39408a,_0x2f9a54)=>{const _0x1a6d8a=_0x215562;_0x2f9a54[_0x1a6d8a(0x190)](path[_0x1a6d8a(0x1e3)](__dirname,bbpath,_0x1a6d8a(0xff),_0x1a6d8a(0x143)));}),app['get']('/:bot/support',(_0x31e5b8,_0x430001)=>{const _0x3e7ee8=_0x215562;_0x430001[_0x3e7ee8(0x190)](path[_0x3e7ee8(0x1e3)](__dirname,bbpath,_0x3e7ee8(0xff),_0x3e7ee8(0x143)));}),http[_0x215562(0x1a6)](PORT,HOST);const io=require(_0x215562(0xa6))(http,{}),analytics=analyticsLib({'app':_0x215562(0xde),'plugins':[googleAnalytics({'trackingId':_0x215562(0xb2)})]}),TelegramBot=require(_0x215562(0x1ec));let tgBot;if(settings[_0x215562(0x1bd)]&&settings['telegramToken']!=''&&settings['telegramUsername']&&settings[_0x215562(0x184)]!='')initTelegram();initStates(),startServer(),startSocket(),startScheduler();function startServer(){const _0x2c330e=_0x215562;console[_0x2c330e(0xa0)](''),console[_0x2c330e(0xa0)](_0x2c330e(0x147)),logging(_0x2c330e(0xc7)+PORT),console['log']('-----------------------------------------------------------------------------------');if(config['length']!=0x0)config[_0x2c330e(0x1a5)](_0x27dd19=>{const _0x2f5632=_0x2c330e;if(_0x27dd19[_0x2f5632(0xfe)]==_0x2f5632(0x18e)||_0x27dd19[_0x2f5632(0xfe)]=='new')logging(_0x2f5632(0x180)+_0x27dd19[_0x2f5632(0x1ea)]+_0x2f5632(0x15c)+_0x27dd19[_0x2f5632(0xb8)]),startBot([_0x27dd19[_0x2f5632(0x1ea)],userID],{'cwd':bbpath},function(_0x437329){if(_0x437329)logging(_0x437329);});else(_0x27dd19[_0x2f5632(0xfe)]==_0x2f5632(0xa1)||_0x27dd19['status']==_0x2f5632(0xb7))&&logging(_0x2f5632(0xa8)+_0x27dd19[_0x2f5632(0x1ea)]+_0x2f5632(0x15c)+_0x27dd19['botname']);});else!newBot&&console[_0x2c330e(0xa0)]('>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!');if(newBot)addBot();console[_0x2c330e(0xa0)](_0x2c330e(0x147)),console[_0x2c330e(0xa0)]('');}function startSocket(){const _0x6d652e=_0x215562;io['on'](_0x6d652e(0x1af),_0x49decb=>{const _0x313338=_0x6d652e;let _0x14eaec,_0x5bcb19,_0x4fd81e,_0x334d7a,_0x17f013;const _0x30808c=_0x49decb[_0x313338(0x154)][_0x313338(0x172)][_0x313338(0x16e)];_0x5bcb19=_0x30808c[_0x313338(0x127)](/bot[0-9]{3}/);if(_0x5bcb19)_0x4fd81e=_0x5bcb19[0x0][_0x313338(0x127)](/[0-9]{3}/);if(_0x4fd81e)_0x14eaec=_0x4fd81e[0x0];else _0x14eaec=_0x313338(0xf0);const _0x32177c=_0x49decb[_0x313338(0x154)][_0x313338(0x1c6)][_0x313338(0x9f)];if(!_0x32177c)_0x49decb['emit'](_0x313338(0xfe),{'publicKey':secure['publicKey']});else{_0x334d7a=timelyDecrypt(_0x32177c,![]);if(!_0x334d7a)logging(_0x313338(0x12e));else{_0x17f013=normalizeIP(_0x49decb[_0x313338(0x1d2)]['remoteAddress'])[_0x313338(0x14a)];if(!devices[_0x334d7a])devices[_0x334d7a]={'uuid':_0x334d7a,'access':{'token':null}};devices[_0x334d7a]['ip']=_0x17f013;const _0x5f56f6=addClient(_0x49decb['id'],_0x334d7a,_0x14eaec);setAccess(_0x5f56f6),_0x49decb['on'](_0x313338(0x1a1),_0x4f4419=>{const _0x1ded2e=_0x313338,_0x4c8170=timelyDecrypt(_0x4f4419[_0x1ded2e(0xf8)]);if(_0x4c8170){_0x4f4419={'username':_0x4f4419[_0x1ded2e(0x14f)],'password':_0x4c8170},devices[_0x334d7a][_0x1ded2e(0x12b)]=validateCredentials(_0x4f4419,_0x334d7a);if(devices[_0x334d7a][_0x1ded2e(0x12b)][_0x1ded2e(0x170)]==![]&&devices[_0x334d7a][_0x1ded2e(0x12b)]['reason']==_0x1ded2e(0xce))_0x49decb['emit'](_0x1ded2e(0xfe),{'access':devices[_0x334d7a][_0x1ded2e(0x12b)]}),loginAccess2FA(_0x334d7a,_0x17f013);else{if(devices[_0x334d7a][_0x1ded2e(0x12b)][_0x1ded2e(0x170)]==![]&&devices[_0x334d7a][_0x1ded2e(0x12b)][_0x1ded2e(0xf2)]=='invalid\x20credentials')_0x49decb[_0x1ded2e(0x193)]('status',{'access':devices[_0x334d7a][_0x1ded2e(0x12b)]});else devices[_0x334d7a]['access']['allow']&&devices[_0x334d7a][_0x1ded2e(0x12b)][_0x1ded2e(0xf2)]==_0x1ded2e(0x19c)&&(getClientsWithUuid(_0x334d7a)[_0x1ded2e(0x1a5)](_0x41bd1a=>{setAccess(_0x41bd1a);}),setTokenRefresh(_0x334d7a),setSessionTimeout('login',_0x334d7a));}}else logging(_0x1ded2e(0xe7));}),_0x49decb['on'](_0x313338(0xa9),()=>{resetPassword();}),_0x49decb['on'](_0x313338(0x14e),_0x5a9659=>{removeClient(_0x49decb['id']);});}}});}function initClient(_0x1bff15){const _0x5037b0=_0x215562;if(_0x1bff15!=_0x5037b0(0xf0)&&config[_0x5037b0(0x17e)]!=''){if(pid[_0x1bff15])pid[_0x1bff15][_0x5037b0(0x1a8)]({'function':_0x5037b0(0x1ad),'args':null});}}function getSocket(_0x58c856){const _0xc8ad9f=_0x215562;return io[_0xc8ad9f(0xa4)][_0xc8ad9f(0xa4)][_0xc8ad9f(0xac)](_0x58c856);}function setAccess(_0x3ff10c){const _0x2fa03c=_0x215562,_0x21ad45=getSocket(_0x3ff10c['id']),_0x5ba8c7=_0x3ff10c[_0x2fa03c(0x17a)],_0x37dfba=_0x3ff10c[_0x2fa03c(0x1e8)];devices[_0x5ba8c7][_0x2fa03c(0x12b)]=validateAccess(devices[_0x5ba8c7]['access']['token'],_0x5ba8c7),_0x21ad45[_0x2fa03c(0x1e3)](_0x5ba8c7);if(devices[_0x5ba8c7][_0x2fa03c(0x12b)][_0x2fa03c(0x170)]){_0x21ad45[_0x2fa03c(0x1e3)](_0x37dfba);if(_0x37dfba==_0x2fa03c(0xf0))initializeSocketBotManager(_0x21ad45);else initializeSocketBot(_0x21ad45);initClient(_0x37dfba);}devices[_0x5ba8c7][_0x2fa03c(0x12b)][_0x2fa03c(0x15f)]&&devices[_0x5ba8c7]['access'][_0x2fa03c(0xf2)]==_0x2fa03c(0xc0)&&setSessionTimeout('2FA',_0x5ba8c7),devices[_0x5ba8c7][_0x2fa03c(0x12b)][_0x2fa03c(0x15f)]&&devices[_0x5ba8c7]['access'][_0x2fa03c(0xf2)]==_0x2fa03c(0x9e)&&setSessionTimeout(_0x2fa03c(0x1a1),_0x5ba8c7),_0x21ad45[_0x2fa03c(0x193)](_0x2fa03c(0xfe),{'status':_0x3ff10c[_0x2fa03c(0xdd)],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x5ba8c7]['access'],'externalip':devices[_0x5ba8c7]['ip'],'publicKey':secure['publicKey']}),devices[_0x5ba8c7][_0x2fa03c(0x12b)]['allow']==![]&&devices[_0x5ba8c7][_0x2fa03c(0x12b)][_0x2fa03c(0xf2)]==_0x2fa03c(0x165)&&temporaryAccess2FA(_0x5ba8c7,devices[_0x5ba8c7]['ip']);}function setSessionTimeout(_0x523d3f,_0xeab331){const _0x432984=_0x215562;let _0x59d6a3;if(_0x523d3f=='login')_0x59d6a3=loginExpiry*0x3c*0x3e8;else _0x59d6a3=devices[_0xeab331][_0x432984(0x139)][_0x432984(0x1e6)]*0x3c*0x3e8-(new Date()[_0x432984(0xe8)]()-devices[_0xeab331]['telegramIpApproval'][_0x432984(0xfb)]);if(devices[_0xeab331]['pidExpireLogin'])clearTimeout(devices[_0xeab331][_0x432984(0x1de)]);devices[_0xeab331]['pidExpireLogin']=setTimeout(()=>{const _0x1d6078=_0x432984;if(devices[_0xeab331][_0x1d6078(0x104)])clearTimeout(devices[_0xeab331][_0x1d6078(0x104)]);removeSocketListeners(_0xeab331),addBlacklist(_0xeab331),devices[_0xeab331][_0x1d6078(0x139)]=null,devices[_0xeab331][_0x1d6078(0x135)]=null,devices[_0xeab331][_0x1d6078(0x12b)][_0x1d6078(0x15f)]=null,devices[_0xeab331][_0x1d6078(0x12b)]=validateAccess(devices[_0xeab331][_0x1d6078(0x12b)][_0x1d6078(0x15f)],_0xeab331),!(devices[_0xeab331][_0x1d6078(0x12b)][_0x1d6078(0x170)]&&devices[_0xeab331][_0x1d6078(0x12b)][_0x1d6078(0xf2)]=='login\x20not\x20required')&&(_0x523d3f==_0x1d6078(0x1a1)?io['to'](_0xeab331)[_0x1d6078(0x193)](_0x1d6078(0xfe),{'access':{'allow':![],'reason':'access\x20timeout','token':null}}):io['to'](_0xeab331)[_0x1d6078(0x193)](_0x1d6078(0xfe),{'access':{'allow':![],'reason':_0x1d6078(0xcb),'token':null}})),devices[_0xeab331][_0x1d6078(0x12b)][_0x1d6078(0x15f)]=null;},_0x59d6a3);}function setTokenRefresh(_0x5216dc){const _0x102ef2=_0x215562;if(devices[_0x5216dc][_0x102ef2(0x104)])clearTimeout(devices[_0x5216dc][_0x102ef2(0x104)]);devices[_0x5216dc][_0x102ef2(0x104)]=setTimeout(()=>{const _0x140f38=_0x102ef2;getClientsWithUuid(_0x5216dc)[_0x140f38(0x13d)]!=0x0?(devices[_0x5216dc][_0x140f38(0x12b)]=refreshToken(_0x5216dc),io['to'](_0x5216dc)[_0x140f38(0x193)](_0x140f38(0xfe),{'status':'connected','serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x5216dc][_0x140f38(0x12b)],'externalip':devices[_0x5216dc]['ip'],'publicKey':secure[_0x140f38(0x115)]}),setTokenRefresh(_0x5216dc)):clearTimeout(devices[_0x5216dc][_0x140f38(0x104)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x7e429c){const _0x1fc1e2=_0x215562,_0x1d8c7a=getClient(_0x7e429c['id'])['uuid'];_0x7e429c['emit'](_0x1fc1e2(0x11b),config),_0x7e429c[_0x1fc1e2(0x193)]('settings',cleanSettings()),_0x7e429c['on'](_0x1fc1e2(0xf4),_0x5125d6=>{const _0x51692a=_0x1fc1e2;if(validateAccess(_0x5125d6,_0x1d8c7a)[_0x51692a(0x170)])addBot();else logging(_0x51692a(0x159));}),_0x7e429c['on']('update-bot',(_0x33e668,_0x2ddc90)=>{const _0x5af2b0=_0x1fc1e2;if(validateAccess(_0x2ddc90,_0x1d8c7a)[_0x5af2b0(0x170)])toggleBot(_0x33e668[_0x5af2b0(0x1ea)],_0x33e668[_0x5af2b0(0xfe)],_0x33e668[_0x5af2b0(0x1d6)]);else logging(_0x5af2b0(0x168));}),_0x7e429c['on']('delete-bot',(_0x14737d,_0x353a71)=>{const _0x72ee9c=_0x1fc1e2;if(validateAccess(_0x353a71,_0x1d8c7a)[_0x72ee9c(0x170)])deleteBot(_0x14737d);else logging(_0x72ee9c(0x145));}),_0x7e429c['on'](_0x1fc1e2(0xeb),(_0x23ffb5,_0x343bf9)=>{const _0x3e5cce=_0x1fc1e2;if(validateAccess(_0x343bf9,_0x1d8c7a)[_0x3e5cce(0x170)])storeSettings(_0x23ffb5,!![]);else logging(_0x3e5cce(0x1ba));}),_0x7e429c['on'](_0x1fc1e2(0x188),_0x41f749=>{const _0x20e35e=_0x1fc1e2;if(validateAccess(_0x41f749,_0x1d8c7a)[_0x20e35e(0x170)]){if(devices[_0x1d8c7a]['pidRefreshToken'])clearTimeout(devices[_0x1d8c7a][_0x20e35e(0x104)]);if(devices[_0x1d8c7a][_0x20e35e(0x1de)])clearTimeout(devices[_0x1d8c7a]['pidExpireLogin']);removeSocketListeners(getClient(_0x7e429c['id'])['uuid']),addBlacklist(_0x1d8c7a),devices[_0x1d8c7a]['telegramIpApproval']=null,devices[_0x1d8c7a]['telegram2FaApproval']=null,devices[_0x1d8c7a][_0x20e35e(0x12b)][_0x20e35e(0x15f)]=null,io['to'](getClient(_0x7e429c['id'])[_0x20e35e(0x17a)])['emit'](_0x20e35e(0xfe),{'access':{'allow':![],'reason':_0x20e35e(0xc2),'token':null}});}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function initializeSocketBot(_0x45d6d1){const _0x193090=_0x215562,_0x510b3f=getClient(_0x45d6d1['id'])[_0x193090(0x1e8)],_0x3dd698=getClient(_0x45d6d1['id'])[_0x193090(0x17a)];_0x45d6d1['on']('get-logs',(_0x360477,_0x382a1a)=>{const _0x162fce=_0x193090;if(validateAccess(_0x382a1a,_0x3dd698)['allow']){if(pid[_0x510b3f])pid[_0x510b3f][_0x162fce(0x1a8)]({'function':_0x162fce(0xe4),'args':_0x360477});}else logging(_0x162fce(0xd2));}),_0x45d6d1['on'](_0x193090(0x152),(_0x3ed9b6,_0x26618d)=>{const _0x25f350=_0x193090;if(validateAccess(_0x26618d,_0x3dd698)[_0x25f350(0x170)]){if(pid[_0x510b3f])pid[_0x510b3f][_0x25f350(0x1a8)]({'function':_0x25f350(0xe9),'args':_0x3ed9b6});}else logging(_0x25f350(0x1c7));}),_0x45d6d1['on'](_0x193090(0xc8),(_0x4e4c16,_0x4dbf1c)=>{const _0x25285c=_0x193090;if(validateAccess(_0x4dbf1c,_0x3dd698)[_0x25285c(0x170)]){if(pid[_0x510b3f])pid[_0x510b3f]['send']({'function':_0x25285c(0x134),'args':_0x4e4c16});}else logging(_0x25285c(0x9d));}),_0x45d6d1['on']('store-headless',(_0x3f0be8,_0xcb32a8)=>{const _0x2027c6=_0x193090;if(validateAccess(_0xcb32a8,_0x3dd698)[_0x2027c6(0x170)]){if(pid[_0x510b3f])pid[_0x510b3f][_0x2027c6(0x1a8)]({'function':_0x2027c6(0x18b),'args':_0x3f0be8});}else logging(_0x2027c6(0x112));}),_0x45d6d1['on'](_0x193090(0x1d1),_0x402b6c=>{const _0x2948a4=_0x193090;if(validateAccess(_0x402b6c,_0x3dd698)[_0x2948a4(0x170)]){if(pid[_0x510b3f])pid[_0x510b3f][_0x2948a4(0x1a8)]({'function':_0x2948a4(0x116),'args':null});}else logging(_0x2948a4(0xc3));}),_0x45d6d1['on'](_0x193090(0xa2),(_0x450397,_0x50525f)=>{const _0x26780f=_0x193090;if(validateAccess(_0x50525f,_0x3dd698)[_0x26780f(0x170)]){if(pid[_0x510b3f])pid[_0x510b3f]['send']({'function':'placeOrder','args':_0x450397});}else logging('Unauthorized\x20attempt\x20to\x20place\x20market\x20order');}),_0x45d6d1['on'](_0x193090(0x1b4),_0xa9da29=>{const _0x3cd998=_0x193090;if(validateAccess(_0xa9da29,_0x3dd698)[_0x3cd998(0x170)]){if(pid[_0x510b3f])pid[_0x510b3f]['send']({'function':_0x3cd998(0x1c4),'args':null});}else logging(_0x3cd998(0x138));}),_0x45d6d1['on'](_0x193090(0x188),_0x2432e1=>{const _0x56148d=_0x193090;if(validateAccess(_0x2432e1,_0x3dd698)[_0x56148d(0x170)]){if(devices[_0x3dd698]['pidRefreshToken'])clearTimeout(devices[_0x3dd698]['pidRefreshToken']);if(devices[_0x3dd698][_0x56148d(0x1de)])clearTimeout(devices[_0x3dd698]['pidExpireLogin']);removeSocketListeners(getClient(_0x45d6d1['id'])[_0x56148d(0x17a)]),addBlacklist(_0x3dd698),devices[_0x3dd698][_0x56148d(0x139)]=null,devices[_0x3dd698][_0x56148d(0x135)]=null,devices[_0x3dd698]['access'][_0x56148d(0x15f)]=null,io['to'](getClient(_0x45d6d1['id'])['uuid'])[_0x56148d(0x193)](_0x56148d(0xfe),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}else logging(_0x56148d(0x1bc));});}function removeSocketListeners(_0x589e89){const _0x30e412=_0x215562;getClientsWithUuid(_0x589e89)[_0x30e412(0x1a5)](_0x101873=>{const _0x4e98bf=_0x30e412;getSocket(_0x101873['id'])[_0x4e98bf(0xd3)]();});}function cleanSettings(){const _0x3bc4b6=_0x215562;let _0x4ae824=settings;return settings[_0x3bc4b6(0x1bd)]&&settings['telegramToken']!=''&&(_0x4ae824={..._0x4ae824,'telegramToken':'************'}),settings[_0x3bc4b6(0x1b7)]&&settings[_0x3bc4b6(0x1b7)]!=''&&(_0x4ae824={..._0x4ae824,'bbPassword':_0x3bc4b6(0xf9)}),_0x4ae824;}function startBot(_0x50f197,_0x46c5a4,_0x3e6e3e){const _0x1c40c6=_0x215562;let _0x55de2d=![];const _0xf5ee8a=_0x50f197[0x0];_0x46c5a4={..._0x46c5a4,'stdio':[_0x1c40c6(0x1a7),'inherit',_0x1c40c6(0x1a7),_0x1c40c6(0x1c9)]},pid[_0xf5ee8a]=childProcess[_0x1c40c6(0xdf)](botfile,_0x50f197,_0x46c5a4),pid[_0xf5ee8a]['on'](_0x1c40c6(0x1b5),_0x54b6da=>{const _0x10f521=_0x1c40c6;switch(Object['keys'](_0x54b6da)[0x0]){case _0x10f521(0xb8):updateBotName(_0xf5ee8a,_0x54b6da[_0x10f521(0xb8)]);break;case _0x10f521(0xfe):updateStatus(_0xf5ee8a,_0x54b6da[_0x10f521(0xfe)]);break;case _0x10f521(0x1d6):updateLive(_0xf5ee8a,_0x54b6da[_0x10f521(0x1d6)]);break;case _0x10f521(0xec):updateLive(_0xf5ee8a,_0x54b6da[_0x10f521(0xec)]),io['to'](_0xf5ee8a)['emit'](_0x10f521(0xfe),{'access':{'allow':![],'reason':_0x10f521(0xf5),'token':null}});break;case'stop':_0x54b6da[_0x10f521(0x167)]=='restart'&&stopBot(_0xf5ee8a);_0x54b6da[_0x10f521(0x167)]==_0x10f521(0xc1)&&toggleBot(_0xf5ee8a,_0x10f521(0xa1),'stopped');break;case _0x10f521(0x14b):sendTelegram(_0xf5ee8a,_0x54b6da[_0x10f521(0x14b)]);break;case'function':io['to'](_0xf5ee8a)[_0x10f521(0x193)](_0x54b6da[_0x10f521(0x11c)],_0x54b6da[_0x10f521(0x19f)]);break;}}),pid[_0xf5ee8a]['on'](_0x1c40c6(0xd4),function(_0x13e252){if(_0x55de2d)return;_0x55de2d=!![],_0x3e6e3e(_0x13e252);}),pid[_0xf5ee8a]['on'](_0x1c40c6(0x10c),function(_0x4bc45f){const _0x326f63=_0x1c40c6;if(_0x55de2d)return;_0x55de2d=!![],_0x3e6e3e(null);const _0x2c8edb=dbConfig['get'](_0x326f63(0x11b))['find']({'botID':_0xf5ee8a})[_0x326f63(0xcf)]();_0x2c8edb&&(_0x2c8edb[_0x326f63(0xfe)]==_0x326f63(0x18e)||_0x2c8edb['status']==_0x326f63(0xba))&&(updateLive(_0xf5ee8a,_0x326f63(0x1c8)),logging(_0x326f63(0x162)+_0xf5ee8a),startBot([_0xf5ee8a,userID],{'cwd':bbpath},function(_0x4435d5){if(_0x4435d5)logging(_0x4435d5);}));});}function stopBot(_0x1de6d5){const _0x2f040e=_0x215562;getClientsWithBotID(_0x1de6d5)[_0x2f040e(0x1a5)](_0xba4d69=>{getSocket(_0xba4d69['id'])['disconnect'](!![]),removeClient(_0xba4d69['id']);});if(pid[_0x1de6d5])pid[_0x1de6d5][_0x2f040e(0xc1)]();}function addBot(){const _0x56eec5=_0x215562;let _0x2f1ebc;for(let _0x1f50ff=0x1;_0x1f50ff<0x3e9;_0x1f50ff++){_0x2f1ebc=_0x1f50ff[_0x56eec5(0x131)]()[_0x56eec5(0xbc)](0x3,'0');let _0x13524b=config[_0x56eec5(0xd0)](_0x35380a=>_0x35380a[_0x56eec5(0x1ea)]==_0x2f1ebc);if(!_0x13524b)break;}if(_0x2f1ebc==='1000'){logging(_0x56eec5(0x1da));return;}logging(_0x56eec5(0x1d0)+_0x2f1ebc),dbConfig['get'](_0x56eec5(0x11b))[_0x56eec5(0x13c)]({'botID':_0x2f1ebc,'botname':_0x56eec5(0xc5)+_0x2f1ebc,'status':'new','live':''})['write'](),startBot([_0x2f1ebc,userID],{'cwd':bbpath},function(_0x5012bd){if(_0x5012bd)logging(_0x5012bd);}),config=getConfiguration(),io['to'](_0x56eec5(0xf0))[_0x56eec5(0x193)](_0x56eec5(0x11b),config);}function deleteBot(_0x2ba5a8){const _0x55e38a=_0x215562;getClientsWithBotID(_0x2ba5a8)[_0x55e38a(0x1a5)](_0x1fc6ea=>{const _0x3e133b=_0x55e38a;getSocket(_0x1fc6ea['id'])[_0x3e133b(0x14e)](!![]),removeClient(_0x1fc6ea['id']);}),dbConfig[_0x55e38a(0xac)](_0x55e38a(0x11b))[_0x55e38a(0x1a3)]({'botID':_0x2ba5a8})[_0x55e38a(0xea)](),logging(_0x55e38a(0x17f)+_0x2ba5a8),stopBot(_0x2ba5a8);try{fs[_0x55e38a(0x114)](path[_0x55e38a(0x1e3)](configpath,_0x55e38a(0x11f)+_0x2ba5a8+_0x55e38a(0xae))),fs['unlinkSync'](path[_0x55e38a(0x1e3)](configpath,_0x55e38a(0x11f)+_0x2ba5a8+_0x55e38a(0x10d))),fs[_0x55e38a(0x114)](path[_0x55e38a(0x1e3)](configpath,_0x55e38a(0x11f)+_0x2ba5a8+_0x55e38a(0x101))),fs['unlinkSync'](path['join'](configpath,_0x55e38a(0x11f)+_0x2ba5a8+_0x55e38a(0x1d8)));}catch(_0x353d0b){if(_0x353d0b)logging(_0x55e38a(0x160),_0x353d0b);}config=getConfiguration(),io['to'](_0x55e38a(0xf0))['emit'](_0x55e38a(0x11b),config);}function toggleBot(_0x13553a,_0x48b2e4,_0x1665c6){const _0xfc53dc=_0x215562;dbConfig[_0xfc53dc(0xac)]('bots')[_0xfc53dc(0xd0)]({'botID':_0x13553a})[_0xfc53dc(0x15e)]({'status':_0x48b2e4})[_0xfc53dc(0x15e)]({'live':_0x1665c6})[_0xfc53dc(0xea)]();if(_0x48b2e4=='enabled'||_0x48b2e4==_0xfc53dc(0xba))logging(_0xfc53dc(0x1c1)+_0x13553a),startBot([_0x13553a,userID],{'cwd':bbpath},function(_0x242667){if(_0x242667)logging(_0x242667);});else(_0x48b2e4==_0xfc53dc(0xa1)||_0x48b2e4=='new-disabled')&&(logging('disabled\x20Bot\x20'+_0x13553a),stopBot(_0x13553a));config=getConfiguration(),io['to']('botmanager')['emit']('bots',config);}function toggleStatus(_0x39e6c1){const _0x41af9f=_0x215562;let _0x3e3c6d=dbConfig[_0x41af9f(0xac)](_0x41af9f(0x11b))[_0x41af9f(0xd0)]({'botID':_0x39e6c1})[_0x41af9f(0xcf)](),_0x317a4f;if(_0x3e3c6d[_0x41af9f(0xfe)]===_0x41af9f(0x18e))_0x317a4f='disabled';else{if(_0x3e3c6d[_0x41af9f(0xfe)]==='new')_0x317a4f=_0x41af9f(0xb7);else{if(_0x3e3c6d[_0x41af9f(0xfe)]==='new-disabled')_0x317a4f=_0x41af9f(0xba);else{if(_0x3e3c6d[_0x41af9f(0xfe)]===_0x41af9f(0xa1))_0x317a4f='enabled';}}}return _0x317a4f;}function updateStatus(_0x2967ce,_0x287aff){const _0x1544b6=_0x215562;dbConfig[_0x1544b6(0xac)](_0x1544b6(0x11b))[_0x1544b6(0xd0)]({'botID':_0x2967ce})[_0x1544b6(0x15e)]({'status':_0x287aff})[_0x1544b6(0xea)](),config=getConfiguration(),io['to'](_0x1544b6(0xf0))[_0x1544b6(0x193)](_0x1544b6(0x11b),config);}function _0x3042(_0x32bf0,_0x5ba398){const _0x595a01=_0x1825();return _0x3042=function(_0x1ffad9,_0x56026b){_0x1ffad9=_0x1ffad9-0x99;let _0x18254f=_0x595a01[_0x1ffad9];return _0x18254f;},_0x3042(_0x32bf0,_0x5ba398);}function updateLive(_0x3b033e,_0x186d4c){const _0x101ab5=_0x215562;dbConfig[_0x101ab5(0xac)](_0x101ab5(0x11b))[_0x101ab5(0xd0)]({'botID':_0x3b033e})['assign']({'live':_0x186d4c})[_0x101ab5(0xea)](),config=getConfiguration(),io['to']('botmanager')[_0x101ab5(0x193)](_0x101ab5(0x11b),config);}function updateBotName(_0x47e386,_0x4412c7){const _0x3590a8=_0x215562;dbConfig['get'](_0x3590a8(0x11b))[_0x3590a8(0xd0)]({'botID':_0x47e386})[_0x3590a8(0x15e)]({'botname':_0x4412c7})[_0x3590a8(0xea)](),config=getConfiguration(),io['to'](_0x3590a8(0xf0))['emit']('bots',config);}function telegramError(_0x55ce14){const _0xbef71d=_0x215562;console['log'](getTimeStamp()+_0xbef71d(0x1e0));}function validateTelegram(_0x2ccf0e){const _0x114549=_0x215562;if(_0x2ccf0e['from'][_0x114549(0x14f)]!=settings[_0x114549(0x184)]&&'@'+_0x2ccf0e['from'][_0x114549(0x14f)]!=settings['telegramUsername'])return tgBot[_0x114549(0x19d)](_0x2ccf0e[_0x114549(0x1d4)]['id'],_0x114549(0x15b),{'parse_mode':'HTML'})[_0x114549(0x1aa)](_0x3b1972=>{telegramError(_0x3b1972);}),![];return!![];}async function initTelegram(){const _0x448291=_0x215562;if(tgBot)tgBot[_0x448291(0x10b)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x448291(0x1bd)],{'polling':!![]});let _0x14ee3f=_0x448291(0x16f);_0x14ee3f+='\x0a',_0x14ee3f+=_0x448291(0x106),_0x14ee3f+=_0x448291(0x1df),_0x14ee3f+=_0x448291(0x124),_0x14ee3f+=_0x448291(0xbe),_0x14ee3f+=_0x448291(0x14c),_0x14ee3f+=_0x448291(0x1e5),_0x14ee3f+=_0x448291(0xe6),_0x14ee3f+=_0x448291(0x1ab);let _0x59b5e4=_0x448291(0xe1);_0x59b5e4+='\x0a',_0x59b5e4+=_0x14ee3f,tgBot['onText'](/\/start/,_0x51c837=>{const _0xb24af2=_0x448291;if(!validateTelegram(_0x51c837))return;if(settings[_0xb24af2(0xe2)]!=_0x51c837[_0xb24af2(0x1d4)]['id'])updateSetting('telegramChatId',_0x51c837[_0xb24af2(0x1d4)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0xb24af2(0x19d)](_0x51c837[_0xb24af2(0x1d4)]['id'],_0x59b5e4)['catch'](_0x300966=>{telegramError(_0x300966);});}),tgBot['onText'](/\/enable/,_0x20c18c=>{const _0x343eaa=_0x448291;if(!validateTelegram(_0x20c18c))return;if(settings[_0x343eaa(0xe2)]!=_0x20c18c[_0x343eaa(0x1d4)]['id'])updateSetting(_0x343eaa(0xe2),_0x20c18c[_0x343eaa(0x1d4)]['id']);updateSetting(_0x343eaa(0xa5),!![]),tgBot['sendMessage'](_0x20c18c[_0x343eaa(0x1d4)]['id'],_0x343eaa(0x178))[_0x343eaa(0x1aa)](_0x42530c=>{telegramError(_0x42530c);});}),tgBot['onText'](/\/config/,async _0x3ddf79=>{const _0x1fc906=_0x448291;if(!validateTelegram(_0x3ddf79))return;tgBot[_0x1fc906(0x120)]('callback_query'),tgBot[_0x1fc906(0x19d)](_0x3ddf79[_0x1fc906(0x1d4)]['id'],_0x1fc906(0x19e),{'reply_markup':{'inline_keyboard':[[{'text':_0x1fc906(0x103),'callback_data':_0x1fc906(0x121)},{'text':_0x1fc906(0xbf),'callback_data':'alerts'},{'text':'All','callback_data':_0x1fc906(0x12f)}]]}})['catch'](_0x2e4eff=>{telegramError(_0x2e4eff);}),tgBot['on'](_0x1fc906(0x17c),async _0x1e92ac=>{const _0x4d1468=_0x1fc906,_0x31cd1b=_0x1e92ac[_0x4d1468(0x1c5)],_0x3dff3a=_0x1e92ac[_0x4d1468(0x1b5)];tgBot[_0x4d1468(0x1b1)](_0x1e92ac['id'])['then'](async()=>{const _0x970990=_0x4d1468;_0x31cd1b==_0x970990(0x121)&&(updateSetting(_0x970990(0xe0),_0x970990(0x121)),updateSetting(_0x970990(0xa5),!![]),await tgBot[_0x970990(0x19d)](_0x3dff3a[_0x970990(0x1d4)]['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')[_0x970990(0x1aa)](_0x1de8f1=>{telegramError(_0x1de8f1);}));_0x31cd1b=='alerts'&&(updateSetting(_0x970990(0xe0),'alerts'),updateSetting(_0x970990(0xa5),!![]),await tgBot[_0x970990(0x19d)](_0x3dff3a[_0x970990(0x1d4)]['id'],'Ok,\x20will\x20send\x20alert\x20notifications\x20only')[_0x970990(0x1aa)](_0x2f24df=>{telegramError(_0x2f24df);}));_0x31cd1b=='all'&&(updateSetting(_0x970990(0xe0),_0x970990(0x12f)),updateSetting(_0x970990(0xa5),!![]),await tgBot['sendMessage'](_0x3dff3a['chat']['id'],_0x970990(0x18a))[_0x970990(0x1aa)](_0x3cfa2d=>{telegramError(_0x3cfa2d);}));if(!settings['telegramChatId'])tgBot[_0x970990(0x19d)](_0x3dff3a[_0x970990(0x1d4)]['id'],_0x970990(0x1b8))[_0x970990(0x1aa)](_0x57a904=>{telegramError(_0x57a904);});}),tgBot['removeListener']('callback_query');});}),tgBot['onText'](/\/status/,_0xae93bd=>{const _0x3ae05a=_0x448291;if(!validateTelegram(_0xae93bd))return;let _0x345445=_0x3ae05a(0x173);config[_0x3ae05a(0x1a5)](_0x415c96=>{const _0x4817da=_0x3ae05a;_0x345445+=_0x4817da(0xc5)+_0x415c96[_0x4817da(0x1ea)]+_0x4817da(0x15c)+_0x415c96[_0x4817da(0xb8)]+':\x20'+_0x415c96[_0x4817da(0xfe)]+'\x20/\x20'+_0x415c96['live']+'\x0a';}),_0x345445+='\x0a',_0x345445+=_0x3ae05a(0x16b),_0x345445+=!settings[_0x3ae05a(0xa5)]?_0x3ae05a(0xb0):'Notifications\x20enabled\x0a',_0x345445+=settings[_0x3ae05a(0xa5)]?settings[_0x3ae05a(0xe0)]==_0x3ae05a(0x12f)?_0x3ae05a(0xfc):_0x3ae05a(0x166)+settings[_0x3ae05a(0xe0)]+_0x3ae05a(0x1be):'',tgBot[_0x3ae05a(0x19d)](_0xae93bd['chat']['id'],_0x345445,{'parse_mode':_0x3ae05a(0xb4)})[_0x3ae05a(0x1aa)](_0x133cfd=>{telegramError(_0x133cfd);});}),tgBot[_0x448291(0x13b)](/\/restart/,_0x4d66ca=>{const _0xf550b3=_0x448291;if(!validateTelegram(_0x4d66ca))return;tgBot[_0xf550b3(0x120)]('callback_query');const _0x417e05=getEnabledBots();if(_0x417e05[_0xf550b3(0x13d)]==0x0)tgBot['sendMessage'](_0x4d66ca[_0xf550b3(0x1d4)]['id'],_0xf550b3(0x102))[_0xf550b3(0x1aa)](_0x4f5e41=>{telegramError(_0x4f5e41);});else{if(_0x417e05[_0xf550b3(0x13d)]>0x1)_0x417e05[_0xf550b3(0x13c)]({'botID':_0xf550b3(0x12f)});let _0x31c85e=[],_0x1d08f3=[];const _0x8c4076=_0x417e05[_0xf550b3(0x13d)]%0x4==0x0||_0x417e05[_0xf550b3(0x13d)]%0x4==0x3||_0x417e05['length']%0x3==0x1?0x4:0x3;let _0x3661a5=0x0;_0x417e05[_0xf550b3(0x1a5)]((_0x5378b1,_0xb45b00)=>{const _0x2aa7e3=_0xf550b3;if(_0xb45b00%_0x8c4076==0x0)_0x1d08f3=[];_0x1d08f3[_0x2aa7e3(0x13c)]({'text':_0x5378b1[_0x2aa7e3(0x1ea)]==_0x2aa7e3(0x12f)?_0x2aa7e3(0x14d):_0x2aa7e3(0xc5)+_0x5378b1[_0x2aa7e3(0x1ea)],'callback_data':_0x5378b1[_0x2aa7e3(0x1ea)]}),_0xb45b00%_0x8c4076==0x0&&(_0x31c85e[_0x3661a5]=_0x1d08f3,_0x3661a5++);}),tgBot[_0xf550b3(0x19d)](_0x4d66ca[_0xf550b3(0x1d4)]['id'],_0xf550b3(0x110),{'reply_markup':{'inline_keyboard':_0x31c85e}})[_0xf550b3(0x1aa)](_0x4d1feb=>{telegramError(_0x4d1feb);}),tgBot['on'](_0xf550b3(0x17c),async _0x5765ae=>{const _0x556dbb=_0xf550b3,_0x2f1ad0=_0x5765ae[_0x556dbb(0x1c5)],_0x43ea28=_0x5765ae[_0x556dbb(0x1b5)];tgBot[_0x556dbb(0x1b1)](_0x5765ae['id'])[_0x556dbb(0xcc)](async()=>{const _0x2f4ea6=_0x556dbb;if(_0x2f1ad0==_0x2f4ea6(0x12f)){if(settings[_0x2f4ea6(0xe0)]==_0x2f4ea6(0x121))tgBot['sendMessage'](_0x43ea28['chat']['id'],'Bot\x20Mgr\x20>\x20restarting\x20all\x20bots')[_0x2f4ea6(0x1aa)](_0x4f3aa6=>{telegramError(_0x4f3aa6);});config[_0x2f4ea6(0x1a5)](_0x5512f8=>{const _0xcb4c9a=_0x2f4ea6;stopBot(_0x5512f8[_0xcb4c9a(0x1ea)]);});}else{if(settings[_0x2f4ea6(0xe0)]==_0x2f4ea6(0x121))tgBot['sendMessage'](_0x43ea28[_0x2f4ea6(0x1d4)]['id'],'Bot\x20Mgr\x20>\x20restarting\x20Bot\x20'+_0x2f1ad0)[_0x2f4ea6(0x1aa)](_0x465d58=>{telegramError(_0x465d58);});stopBot(_0x2f1ad0);}}),tgBot[_0x556dbb(0x120)]('callback_query');});}}),tgBot['onText'](/\/on/,_0x53c1dd=>{const _0x16cef1=_0x448291;if(!validateTelegram(_0x53c1dd))return;tgBot[_0x16cef1(0x120)]('callback_query');const _0x4a0345=getDisabledBots();if(_0x4a0345[_0x16cef1(0x13d)]==0x0)tgBot[_0x16cef1(0x19d)](_0x53c1dd['chat']['id'],_0x16cef1(0x111))[_0x16cef1(0x1aa)](_0x5ba04c=>{telegramError(_0x5ba04c);});else{if(_0x4a0345['length']>0x1)_0x4a0345['push']({'botID':_0x16cef1(0x12f)});let _0x23feb1=[],_0x2a6099=[];const _0xd75959=_0x4a0345[_0x16cef1(0x13d)]%0x4==0x0||_0x4a0345[_0x16cef1(0x13d)]%0x4==0x3||_0x4a0345[_0x16cef1(0x13d)]%0x3==0x1?0x4:0x3;let _0x29f90e=0x0;_0x4a0345['forEach']((_0x1de43d,_0x2e9fa3)=>{const _0x478c0d=_0x16cef1;if(_0x2e9fa3%_0xd75959==0x0)_0x2a6099=[];_0x2a6099[_0x478c0d(0x13c)]({'text':_0x1de43d['botID']==_0x478c0d(0x12f)?'All\x20bots':'Bot\x20'+_0x1de43d['botID'],'callback_data':_0x1de43d[_0x478c0d(0x1ea)]}),_0x2e9fa3%_0xd75959==0x0&&(_0x23feb1[_0x29f90e]=_0x2a6099,_0x29f90e++);}),tgBot[_0x16cef1(0x19d)](_0x53c1dd['chat']['id'],_0x16cef1(0xf7),{'reply_markup':{'inline_keyboard':_0x23feb1}})[_0x16cef1(0x1aa)](_0x543d04=>{telegramError(_0x543d04);}),tgBot['on'](_0x16cef1(0x17c),async _0x11fc16=>{const _0xf8e619=_0x16cef1,_0x253330=_0x11fc16[_0xf8e619(0x1c5)],_0x20d6c7=_0x11fc16[_0xf8e619(0x1b5)];tgBot[_0xf8e619(0x1b1)](_0x11fc16['id'])[_0xf8e619(0xcc)](async()=>{const _0x49b237=_0xf8e619;if(_0x253330==_0x49b237(0x12f)){if(settings[_0x49b237(0xe0)]==_0x49b237(0x121))tgBot[_0x49b237(0x19d)](_0x20d6c7[_0x49b237(0x1d4)]['id'],_0x49b237(0x1d5))[_0x49b237(0x1aa)](_0x2187af=>{telegramError(_0x2187af);});_0x4a0345[_0x49b237(0x1a5)](_0x291819=>{const _0x1b4e50=_0x49b237;if(_0x291819[_0x1b4e50(0x1ea)]!=_0x1b4e50(0x12f))toggleBot(_0x291819[_0x1b4e50(0x1ea)],toggleStatus(_0x291819[_0x1b4e50(0x1ea)]),'stopped');});}else{if(settings['telegramEvents']==_0x49b237(0x121))tgBot['sendMessage'](_0x20d6c7['chat']['id'],_0x49b237(0x1c3)+_0x253330)[_0x49b237(0x1aa)](_0x5c691f=>{telegramError(_0x5c691f);});toggleBot(_0x253330,toggleStatus(_0x253330),'stopped');}}),tgBot[_0xf8e619(0x120)](_0xf8e619(0x17c));});}}),tgBot[_0x448291(0x13b)](/\/off/,_0x41c691=>{const _0xa51d87=_0x448291;if(!validateTelegram(_0x41c691))return;tgBot[_0xa51d87(0x120)](_0xa51d87(0x17c));const _0x4d9aba=getEnabledBots();if(_0x4d9aba[_0xa51d87(0x13d)]==0x0)tgBot[_0xa51d87(0x19d)](_0x41c691[_0xa51d87(0x1d4)]['id'],'No\x20bots\x20running\x20right\x20now')[_0xa51d87(0x1aa)](_0x42036f=>{telegramError(_0x42036f);});else{if(_0x4d9aba[_0xa51d87(0x13d)]>0x1)_0x4d9aba[_0xa51d87(0x13c)]({'botID':_0xa51d87(0x12f)});let _0x6034d=[],_0x25b5c9=[];const _0x63c5bf=_0x4d9aba[_0xa51d87(0x13d)]%0x4==0x0||_0x4d9aba[_0xa51d87(0x13d)]%0x4==0x3||_0x4d9aba['length']%0x3==0x1?0x4:0x3;let _0x46f7da=0x0;_0x4d9aba[_0xa51d87(0x1a5)]((_0x20a1e8,_0x1a348a)=>{const _0x1a127e=_0xa51d87;if(_0x1a348a%_0x63c5bf==0x0)_0x25b5c9=[];_0x25b5c9[_0x1a127e(0x13c)]({'text':_0x20a1e8[_0x1a127e(0x1ea)]==_0x1a127e(0x12f)?'All\x20bots':_0x1a127e(0xc5)+_0x20a1e8[_0x1a127e(0x1ea)],'callback_data':_0x20a1e8[_0x1a127e(0x1ea)]}),_0x1a348a%_0x63c5bf==0x0&&(_0x6034d[_0x46f7da]=_0x25b5c9,_0x46f7da++);}),tgBot[_0xa51d87(0x19d)](_0x41c691[_0xa51d87(0x1d4)]['id'],_0xa51d87(0x1b3),{'reply_markup':{'inline_keyboard':_0x6034d}})[_0xa51d87(0x1aa)](_0x421496=>{telegramError(_0x421496);}),tgBot['on'](_0xa51d87(0x17c),async _0x3adda1=>{const _0x139c73=_0xa51d87,_0x3d9baa=_0x3adda1[_0x139c73(0x1c5)],_0x16c03d=_0x3adda1[_0x139c73(0x1b5)];tgBot[_0x139c73(0x1b1)](_0x3adda1['id'])[_0x139c73(0xcc)](async()=>{const _0x327608=_0x139c73;if(_0x3d9baa=='all'){if(settings['telegramEvents']=='orders')tgBot[_0x327608(0x19d)](_0x16c03d['chat']['id'],_0x327608(0xaf))['catch'](_0x20630c=>{telegramError(_0x20630c);});_0x4d9aba[_0x327608(0x1a5)](_0x2d1e78=>{const _0x4a5a6b=_0x327608;if(_0x2d1e78[_0x4a5a6b(0x1ea)]!=_0x4a5a6b(0x12f))toggleBot(_0x2d1e78[_0x4a5a6b(0x1ea)],toggleStatus(_0x2d1e78['botID']),_0x4a5a6b(0x1c8));});}else{if(settings[_0x327608(0xe0)]==_0x327608(0x121))tgBot['sendMessage'](_0x16c03d[_0x327608(0x1d4)]['id'],_0x327608(0x11d)+_0x3d9baa)[_0x327608(0x1aa)](_0x15e7c3=>{telegramError(_0x15e7c3);});toggleBot(_0x3d9baa,toggleStatus(_0x3d9baa),_0x327608(0x1c8));}}),tgBot[_0x139c73(0x120)](_0x139c73(0x17c));});}}),tgBot[_0x448291(0x13b)](/\/disable/,_0x83cb81=>{const _0x58599e=_0x448291;if(!validateTelegram(_0x83cb81))return;tgBot[_0x58599e(0x19d)](_0x83cb81[_0x58599e(0x1d4)]['id'],'Notifications\x20disabled')[_0x58599e(0x1aa)](_0x315a78=>{telegramError(_0x315a78);}),updateSetting('telegramEnabled',![]);}),tgBot[_0x448291(0x13b)](/\/help/,_0x300f7c=>{const _0x4cb0f2=_0x448291;if(!validateTelegram(_0x300f7c))return;tgBot[_0x4cb0f2(0x19d)](_0x300f7c[_0x4cb0f2(0x1d4)]['id'],_0x14ee3f)[_0x4cb0f2(0x1aa)](_0x3779a7=>{telegramError(_0x3779a7);});}),tgBot['on'](_0x448291(0xd1),_0x3fd66c=>{const _0xd16000=_0x448291;_0x3fd66c[_0xd16000(0x131)]()['includes'](_0xd16000(0x10f))&&(logging(_0xd16000(0x19b)),tgBot[_0xd16000(0x10b)](),tgBot=null,io['to'](_0xd16000(0xf0))[_0xd16000(0x193)](_0xd16000(0x1a0),_0xd16000(0x19b)));}),process[_0x448291(0xc4)](_0x448291(0x15a),()=>{const _0x115c08=_0x448291;if(tgBot)tgBot[_0x115c08(0x10b)]();process[_0x115c08(0x10c)](0x1);}),process[_0x448291(0xc4)](_0x448291(0x1c2),()=>{const _0x29f7a5=_0x448291;if(tgBot)tgBot[_0x29f7a5(0x10b)]();process['exit'](0x1);});}}function disableTelegram(){const _0x3e1087=_0x215562;tgBot&&(tgBot[_0x3e1087(0x10b)](),tgBot=null);}function sendTelegram(_0x301987,_0x30e6f2){const _0x4480f9=_0x215562;if(settings['telegramEnabled']){if(settings[_0x4480f9(0xe0)]==_0x4480f9(0x12f)||(_0x30e6f2['type']=='error'||_0x30e6f2[_0x4480f9(0x128)]==_0x4480f9(0x157))&&settings['telegramEvents']=='alerts'||_0x30e6f2['type']==_0x4480f9(0x149)&&settings[_0x4480f9(0xe0)]==_0x4480f9(0x121)){if(tgBot&&settings[_0x4480f9(0xe2)]){if(_0x30e6f2['showname'])tgBot['sendMessage'](settings[_0x4480f9(0xe2)],_0x30e6f2[_0x4480f9(0xb8)]+_0x4480f9(0x151)+_0x30e6f2[_0x4480f9(0x141)])[_0x4480f9(0x1aa)](_0x384a47=>{telegramError(_0x384a47);});else tgBot[_0x4480f9(0x19d)](settings['telegramChatId'],_0x4480f9(0xc5)+_0x301987+_0x4480f9(0x151)+_0x30e6f2[_0x4480f9(0x141)])[_0x4480f9(0x1aa)](_0x254c95=>{telegramError(_0x254c95);});}}}}function getDeviceWithIp(_0x572956){return devices['find'](_0x340dfb=>_0x340dfb['ip']===_0x572956);}function temporaryAccess2FA(_0x343762,_0x1f28a9){const _0x8855ac=_0x215562;let _0x403da1=new Date(),_0x4716d8=![];if(lastIpApproval){if(_0x403da1-lastIpApproval<0x1388)_0x4716d8=!![];}lastIpApproval=new Date();if(_0x4716d8)return;tgBot&&settings[_0x8855ac(0xe2)]&&(tgBot[_0x8855ac(0x120)](_0x8855ac(0x17c)),tgBot[_0x8855ac(0x19d)](settings[_0x8855ac(0xe2)],_0x8855ac(0x185)+normalizeIP(_0x1f28a9)[_0x8855ac(0x109)]+_0x8855ac(0xd6),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x8855ac(0x1eb),'callback_data':'5'},{'text':_0x8855ac(0x132),'callback_data':'15'},{'text':'30\x20min','callback_data':'30'},{'text':_0x8855ac(0xb6),'callback_data':'reject'}]]}})[_0x8855ac(0x1aa)](_0x431640=>{telegramError(_0x431640);}),tgBot['on'](_0x8855ac(0x17c),async _0x5c8dd1=>{const _0x3ce56d=_0x8855ac,_0x430eb4=_0x5c8dd1[_0x3ce56d(0x1c5)],_0x52450e=_0x5c8dd1[_0x3ce56d(0x1b5)];tgBot[_0x3ce56d(0x1b1)](_0x5c8dd1['id'])[_0x3ce56d(0xcc)](async()=>{const _0x7b9c76=_0x3ce56d;devices[_0x343762][_0x7b9c76(0x139)]={'clientip':_0x1f28a9,'timestamp':new Date()[_0x7b9c76(0xe8)](),'expiry':_0x430eb4},_0x430eb4!=_0x7b9c76(0xb6)?(await tgBot[_0x7b9c76(0x19d)](_0x52450e[_0x7b9c76(0x1d4)]['id'],_0x7b9c76(0xdb)+_0x430eb4+_0x7b9c76(0x153),{'parse_mode':'HTML'})[_0x7b9c76(0x1aa)](_0x12372d=>{telegramError(_0x12372d);}),io['to'](_0x343762)['emit'](_0x7b9c76(0xfe),{'access':{'allow':![],'reason':_0x7b9c76(0xf5),'token':null}})):(await tgBot['sendMessage'](_0x52450e[_0x7b9c76(0x1d4)]['id'],_0x7b9c76(0x1ed))[_0x7b9c76(0x1aa)](_0x308224=>{telegramError(_0x308224);}),io['to'](_0x343762)[_0x7b9c76(0x193)]('status',{'access':{'allow':![],'reason':_0x7b9c76(0xca),'token':null}}));}),tgBot['removeListener'](_0x3ce56d(0x17c));}));}function loginAccess2FA(_0x259c28,_0x3938e7){const _0x488e93=_0x215562;tgBot&&settings[_0x488e93(0xe2)]&&(tgBot[_0x488e93(0x120)](_0x488e93(0x17c)),tgBot['sendMessage'](settings['telegramChatId'],'Allow\x20login\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x3938e7)[_0x488e93(0x109)]+_0x488e93(0xd6),{'parse_mode':_0x488e93(0xb4),'reply_markup':{'inline_keyboard':[[{'text':_0x488e93(0x9c),'callback_data':loginExpiry},{'text':'reject','callback_data':_0x488e93(0xb6)}]]}})[_0x488e93(0x1aa)](_0x44f794=>{telegramError(_0x44f794);}),tgBot['on'](_0x488e93(0x17c),async _0x154e7a=>{const _0x433e5f=_0x488e93,_0x52e7d7=_0x154e7a[_0x433e5f(0x1c5)],_0x232b79=_0x154e7a[_0x433e5f(0x1b5)];tgBot[_0x433e5f(0x1b1)](_0x154e7a['id'])[_0x433e5f(0xcc)](async()=>{const _0x3eead7=_0x433e5f;devices[_0x259c28][_0x3eead7(0x135)]={'clientip':_0x3938e7,'timestamp':new Date()[_0x3eead7(0xe8)](),'expiry':_0x52e7d7},_0x52e7d7!='reject'?(await tgBot[_0x3eead7(0x19d)](_0x232b79['chat']['id'],'Login\x20accepted',{'parse_mode':_0x3eead7(0xb4)})[_0x3eead7(0x1aa)](_0xaa8380=>{telegramError(_0xaa8380);}),io['to'](_0x259c28)[_0x3eead7(0x193)](_0x3eead7(0xfe),{'access':{'allow':![],'reason':_0x3eead7(0xf5),'token':null}})):(await tgBot['sendMessage'](_0x232b79[_0x3eead7(0x1d4)]['id'],'Login\x20rejected')[_0x3eead7(0x1aa)](_0xfbec5=>{telegramError(_0xfbec5);}),io['to'](_0x259c28)[_0x3eead7(0x193)](_0x3eead7(0xfe),{'access':{'allow':![],'reason':_0x3eead7(0xb5),'token':null}}));}),tgBot['removeListener'](_0x433e5f(0x17c));}));}function getConfiguration(){const _0xefc4fd=_0x215562;return dbConfig[_0xefc4fd(0xac)]('bots')[_0xefc4fd(0x1a4)](_0xefc4fd(0x1ea))[_0xefc4fd(0xcf)]()||[];}function getEnabledBots(){const _0x147362=_0x215562;return dbConfig['get'](_0x147362(0x11b))[_0x147362(0x1a4)](_0x147362(0x1ea))[_0x147362(0x12c)]({'status':_0x147362(0x18e)})['value']()||[];}function getDisabledBots(){const _0x49b145=_0x215562;return dbConfig[_0x49b145(0xac)](_0x49b145(0x11b))[_0x49b145(0x1a4)](_0x49b145(0x1ea))[_0x49b145(0x12c)]({'status':'disabled'})[_0x49b145(0xcf)]()||[];}function getSettings(){const _0x4856ce=_0x215562;return dbSettings['get'](_0x4856ce(0x179))[_0x4856ce(0xcf)]()||{'timeshift':0x0};}function getSecure(){const _0x4c77cf=_0x215562;return dbSecure[_0x4c77cf(0xac)](_0x4c77cf(0x199))[_0x4c77cf(0xcf)]()||{};}function getBlacklist(){const _0x4a95ef=_0x215562;return dbSecure[_0x4a95ef(0xac)]('blacklist')[_0x4a95ef(0xcf)]()||[];}function broadcastToBots(_0x18f045,_0x5a4e22){const _0x275cd1=_0x215562;config[_0x275cd1(0x1a5)](_0x1a233e=>{const _0x24916a=_0x275cd1;if(_0x1a233e[_0x24916a(0xfe)]=='enabled'&&_0x1a233e[_0x24916a(0x1d6)]==_0x24916a(0x122)){if(pid[_0x1a233e[_0x24916a(0x1ea)]])pid[_0x1a233e[_0x24916a(0x1ea)]][_0x24916a(0x1a8)]({[_0x18f045]:_0x5a4e22});}});}function storeSettings(_0x5702de,_0x326086=![]){const _0x46ed0b=_0x215562;_0x5702de={...settings,..._0x5702de};if(_0x326086&&_0x5702de[_0x46ed0b(0x1b7)]!=_0x46ed0b(0xf9)&&_0x5702de[_0x46ed0b(0x1b7)]!=''){const _0x5e11d4=crypt['decrypt'](secure[_0x46ed0b(0x1bb)],_0x5702de[_0x46ed0b(0x1b7)])[_0x46ed0b(0x1b5)]['split']('@')[0x0],_0x363266=bcrypt['hashSync'](_0x5e11d4,saltRounds);_0x5702de={..._0x5702de,'bbPassword':_0x363266};}if(_0x326086&&_0x5702de[_0x46ed0b(0x1bd)]!='************'&&_0x5702de[_0x46ed0b(0x1bd)]!=''){const _0x28aabc=crypt['decrypt'](secure['privateKey'],_0x5702de[_0x46ed0b(0x1bd)])[_0x46ed0b(0x1b5)]['split']('@')[0x0];_0x5702de={..._0x5702de,'telegramToken':_0x28aabc};}const _0x238ae2=_0x5702de[_0x46ed0b(0x1bd)]!='************'&&_0x5702de[_0x46ed0b(0x1bd)]!=settings['telegramToken']||_0x5702de[_0x46ed0b(0x184)]!=settings[_0x46ed0b(0x184)],_0x3304d8=_0x5702de['telegramToken']==''||_0x5702de[_0x46ed0b(0x184)]=='';if(_0x238ae2)_0x5702de['telegramEvents']=_0x46ed0b(0x12f);for(const [_0x80e0f2,_0x57bd7e]of Object[_0x46ed0b(0x136)](_0x5702de)){if(_0x80e0f2==_0x46ed0b(0x1bd)&&_0x57bd7e=='************'){_0x5702de[_0x46ed0b(0x1bd)]=settings[_0x46ed0b(0x1bd)];continue;};if(_0x80e0f2==_0x46ed0b(0x1b7)&&_0x57bd7e=='************'){_0x5702de[_0x46ed0b(0x1b7)]=settings[_0x46ed0b(0x1b7)];continue;};dbSettings['set'](_0x46ed0b(0x140)+_0x80e0f2,_0x57bd7e)[_0x46ed0b(0xea)]();}settings=_0x5702de,io['to'](_0x46ed0b(0xf0))[_0x46ed0b(0x193)](_0x46ed0b(0x179),cleanSettings()),broadcastToBots(_0x46ed0b(0x100),settings[_0x46ed0b(0x100)]);if(_0x238ae2&&!_0x3304d8)initTelegram();if(_0x238ae2&&_0x3304d8)disableTelegram();getAllClients()[_0x46ed0b(0x1a5)](_0x231541=>{const _0x5231b7=_0x46ed0b;getSocket(_0x231541['id'])[_0x5231b7(0x193)](_0x5231b7(0xfe),{'access':{'allow':![],'reason':_0x5231b7(0xf5),'token':null}});});}function updateSetting(_0x3f99e8,_0x5cd3e6){const _0x450ac8=_0x215562;dbSettings[_0x450ac8(0xc6)](_0x450ac8(0x140)+_0x3f99e8,_0x5cd3e6)[_0x450ac8(0xea)](),settings=getSettings(),io['to'](_0x450ac8(0xf0))[_0x450ac8(0x193)](_0x450ac8(0x179),cleanSettings());}function storeSecure(_0x5b0e54){const _0x181161=_0x215562;dbSecure[_0x181161(0xac)](_0x181161(0x199))[_0x181161(0x13c)](_0x5b0e54)[_0x181161(0xea)](),secure=_0x5b0e54;}function addBlacklist(_0x578ffe){const _0x4ac843=_0x215562;cleanBlacklist();let _0xc2718b;devices[_0x578ffe][_0x4ac843(0x139)]?_0xc2718b=Math[_0x4ac843(0x187)](devices[_0x578ffe][_0x4ac843(0x139)]['expiry'],loginExpiry):_0xc2718b=loginExpiry,dbSecure['get']('blacklist')['push']({'expiry':new Date()[_0x4ac843(0xe8)]()+_0xc2718b*0x3c*0x3e8,'token':devices[_0x578ffe][_0x4ac843(0x12b)][_0x4ac843(0x15f)]})[_0x4ac843(0xea)](),blacklist=dbSecure['get'](_0x4ac843(0x11a))[_0x4ac843(0xcf)]();}function _0x1825(){const _0x2e0bb3=['Alerts','temporary\x20token\x20generated','kill','logged\x20out','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','once','Bot\x20','set','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','store-configuration','5ikxokO','temporary\x20access\x20rejected','temporary\x20access\x20timeout','then','name','2FA\x20login\x20required','value','find','polling_error','Unauthorized\x20attempt\x20to\x20get\x20logs','removeAllListeners','error','from','</b>\x20?','User\x20has\x20been\x20validated','Invalid\x20username\x20or\x20IP\x20address','temporary\x20access\x20not\x20allowed','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','Access\x20enabled\x20for\x20','hybrid-crypto-js','server','Balance\x20Bot','fork','telegramEvents','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','telegramChatId','env','emitHistory','sha256','/status\x20-\x20show\x20bot(s)\x20status\x0a','Unauthorized\x20login\x20attempt\x20(timeout)','getTime','getPortfolio','write','store-settings','started','Crypt','lowdb/adapters/FileSync',',\x20must\x20be\x20a\x204\x20digit\x20number','botmanager','page','reason','Bot\x20Mgr\x20>\x20','add-bot','reload','loginRequired','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','password','************','getHours','timestamp','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','static','status','build','timeshift','-performance.json','No\x20bots\x20running\x20right\x20now','Orders','pidRefreshToken','secret','/enable\x20-\x20enable\x20notifications\x0a','split','https://hodlerhacks.com','show','test','stopPolling','exit','-events.json','(((.+)+)+)+$','404\x20Not\x20Found','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','All\x20bots\x20running\x20right\x20now','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','isDirectory','unlinkSync','publicKey','getStartingBalances','/:bot','@analytics/google-analytics','temporaryAccessAllowed','blacklist','bots','function','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','getDate','bot-','removeListener','orders','running','config/','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','getMinutes','3ptUAHl','match','type','isIPv4MappedAddress','login\x20required','access','filter','whitelistEnabled','Unauthorized\x20login\x20attempt\x20(public\x20key)','all','hashSync','toString','15\x20min','No\x20authentication\x20token','storeConfiguration','telegram2FaApproval','entries','hex','Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins','telegramIpApproval','randomBytes','onText','push','length','hasOwnProperty','3098972FiFZNU','settings.','event','host','index.html','3000','Unauthorized\x20attempt\x20to\x20delete\x20bot','exp','-----------------------------------------------------------------------------------','default','order','store','telegram','/on\x20-\x20start\x20bot(s)\x0a','All\x20bots','disconnect','username','cloneDeep','\x20>\x20','get-portfolio','\x20minutes','handshake','createServer','bb/','success','map','Unauthorized\x20attempt\x20to\x20add\x20bot','SIGINT','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','\x20|\x20','bb-settings.json','assign','token','error\x20while\x20deleting\x20config\x20files:\x20','/:bot/portfolio','restarting\x20Bot\x20','yargs/yargs','getFullYear','2FA\x20required','Notifications\x20types:\x20','stop','Unauthorized\x20attempt\x20to\x20update\x20bot','login\x20token\x20valid','kind','<b>Telegram\x20bot\x20status:</b>\x0a','Invalid\x20authentication\x20token\x20(1)','Token\x20blacklisted','referer','You\x20can\x20use\x20the\x20following\x20commands:\x0a','allow','backup/','headers','<b>Balance\x20Bot\x20status:</b>\x0a','port','367425GQXClm','isValid','path','Notifications\x20enabled','settings','uuid','apply','callback_query','17567154rNLRKv','apiKey','deleted\x20Bot\x20','starting\x20bot\x20|\x20Bot\x20','argv','yes','bbUsername','telegramUsername','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','express','max','logout','date-fns','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','storeHeadless','login\x20not\x20required','jsonwebtoken','enabled','compareSync','sendFile','sign','whitelist','emit','clients','3756552DMPOGh','invalid\x20credentials','Password\x20reset\x20rejected','8204rlaqRw','secure','Invalid\x20IP\x20address','Invalid\x20Telegram\x20token','login\x20token\x20generated','sendMessage','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','args','notification','login','lowdb','remove','sortBy','forEach','listen','inherit','send','24tfoeKV','catch','/help\x20-\x20show\x20available\x20commands\x0a','bb-secure.json','initclient','mkdirSync','connection','Error:\x20Invalid\x20argument\x20','answerCallbackQuery','copyFileSync','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','cancel-loading','message','RSA-OAEP','bbPassword','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','verify','Unauthorized\x20attempt\x20to\x20update\x20settings','privateKey','Unauthorized\x20attempt\x20to\x20log\x20out','telegramToken','\x20only\x0a','clientip','::1','enabled\x20Bot\x20','SIGTERM','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','cancelLoading','data','auth','Unauthorized\x20attempt\x20to\x20get\x20portfolio','stopped','ipc','::ffff:127.0.0.1','getSeconds','bcryptjs','slice','use','existsSync','starting\x20new\x20bot\x20|\x20Bot\x20','get-starting-balances','conn','Invalid\x20authentication\x20token\x20(2)','chat','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','live','crypto','-results.json','ipaddr.js','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','bb-config.json','version','build2','pidExpireLogin','/disable\x20-\x20disable\x20notifications\x0a',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','10599010pVbiWL','getMonth','join','constructor','/off\x20-\x20stop\x20bot(s)\x0a','expiry','f2aRequired','bot','defaults','botID','5\x20min','node-telegram-bot-api','Temporary\x20access\x20rejected','Balance\x20Bot\x20Server','readdirSync','generateKeyPairAsync','accept','Unauthorized\x20attempt\x20to\x20store\x20configuration','2FA\x20login\x20token\x20generated','encryptedUuid','log','disabled','place-order','parse','sockets','telegramEnabled','socket.io','RSA','idling\x20bot\x20\x20\x20|\x20Bot\x20','reset-password','toIPv4Address','getUTCHours','get','search','-config.json','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','Notifications\x20disabled\x0a','318vyqKiT','UA-192771731-1','user','HTML','2FA\x20login\x20rejected','reject','new-disabled','botname','toIPv4MappedAddress','new','127.0.0.1','padStart','178129wNyXWv','/restart\x20-\x20restart\x20bot(s)\x0a'];_0x1825=function(){return _0x2e0bb3;};return _0x1825();}function cleanBlacklist(){const _0x5ed5fb=_0x215562;let _0xa60173=dbSecure[_0x5ed5fb(0xac)]('blacklist')[_0x5ed5fb(0x150)]()[_0x5ed5fb(0xcf)](),_0x4e8544=new Date()['getTime']();_0xa60173['forEach'](_0x2705fa=>{const _0x39be05=_0x5ed5fb;_0x2705fa[_0x39be05(0x1e6)]<_0x4e8544&&dbSecure[_0x39be05(0xac)]('blacklist')[_0x39be05(0x1a3)]({'expiry':_0x2705fa[_0x39be05(0x1e6)]})[_0x39be05(0xea)]();});}function initStates(){const _0x4e6a6e=_0x215562;let _0x200553=getConfiguration();_0x200553[_0x4e6a6e(0x1a5)](_0xe6f4ef=>{_0xe6f4ef['live']='stopped';}),storeConfiguration(_0x200553);}function onKeys(){const _0x185c2e=new RSA();return new Promise(_0x416a0d=>{const _0x5e2ae6=_0x3042;_0x185c2e[_0x5e2ae6(0x9b)]()[_0x5e2ae6(0xcc)](_0x5e56de=>{_0x416a0d(_0x5e56de);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x22e91b=_0x215562;let _0x16271f=getConfiguration(),_0x3f61ef=![];_0x16271f['forEach'](_0x202bb5=>{const _0x3cbb2a=_0x3042;if(_0x202bb5[_0x3cbb2a(0xfe)]=='running')_0x202bb5[_0x3cbb2a(0xfe)]='enabled',_0x3f61ef=!![];else _0x202bb5[_0x3cbb2a(0xfe)]=='stopped'&&(_0x202bb5[_0x3cbb2a(0xfe)]=_0x3cbb2a(0xa1),_0x3f61ef=!![]);});if(_0x3f61ef)storeConfiguration(_0x16271f);let _0x2752a2=getSecure();if(!_0x2752a2[_0x22e91b(0x13e)]('secret')){let _0x754ed3=await generateKeys();_0x2752a2[_0x22e91b(0x115)]=_0x754ed3[_0x22e91b(0x115)],_0x2752a2[_0x22e91b(0x1bb)]=_0x754ed3[_0x22e91b(0x1bb)],_0x2752a2['secret']=crypto[_0x22e91b(0x13a)](0x20)[_0x22e91b(0x131)](_0x22e91b(0x137));;storeSecure(_0x2752a2);}let _0x4dc3d9=getSettings();_0x3f61ef=![];!_0x4dc3d9['hasOwnProperty'](_0x22e91b(0xf6))&&(_0x4dc3d9[_0x22e91b(0xf6)]=![],_0x4dc3d9[_0x22e91b(0x183)]='',_0x4dc3d9['bbPassword']='',_0x4dc3d9[_0x22e91b(0x1e7)]=![],_0x3f61ef=!![]);!_0x4dc3d9['hasOwnProperty'](_0x22e91b(0x12d))&&(_0x4dc3d9['whitelistEnabled']=![],_0x4dc3d9[_0x22e91b(0x192)]=[],_0x4dc3d9[_0x22e91b(0x119)]=![],_0x3f61ef=!![]);if(!_0x4dc3d9[_0x22e91b(0x13e)](_0x22e91b(0xa5))){if(_0x4dc3d9[_0x22e91b(0xe2)])_0x4dc3d9[_0x22e91b(0xa5)]=!![];else _0x4dc3d9['telegramEnabled']=![];_0x3f61ef=!![];}if(_0x3f61ef)storeSettings(_0x4dc3d9);}function storeConfiguration(_0x25744b){const _0x21b21a=_0x215562;dbConfig['get'](_0x21b21a(0x11b))['remove']()[_0x21b21a(0xea)](),dbConfig['get'](_0x21b21a(0x11b))['push'](..._0x25744b)[_0x21b21a(0xea)](),config=_0x25744b;}function resetPassword(){const _0x311c33=_0x215562;tgBot&&settings[_0x311c33(0xe2)]&&(tgBot[_0x311c33(0x120)](_0x311c33(0x17c)),tgBot[_0x311c33(0x19d)](settings[_0x311c33(0xe2)],_0x311c33(0xda),{'parse_mode':_0x311c33(0xb4),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x311c33(0x182)},{'text':'no','callback_data':'no'}]]}})[_0x311c33(0x1aa)](_0x4dc580=>{telegramError(_0x4dc580);}),tgBot['on'](_0x311c33(0x17c),async _0x77bcd2=>{const _0x542c01=_0x311c33,_0x4fbfcb=_0x77bcd2[_0x542c01(0x1c5)],_0x58edaa=_0x77bcd2['message'];tgBot[_0x542c01(0x1b1)](_0x77bcd2['id'])[_0x542c01(0xcc)](async()=>{const _0x4fe322=_0x542c01;if(_0x4fbfcb!='no'){const _0x5420ed=0xf,_0x1cc2ce='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$',_0x23432c=Array[_0x4fe322(0xd5)](crypto['randomFillSync'](new Uint32Array(_0x5420ed)))[_0x4fe322(0x158)](_0xce2ab4=>_0x1cc2ce[_0xce2ab4%_0x1cc2ce['length']])[_0x4fe322(0x1e3)](''),_0x48cf2d=bcrypt[_0x4fe322(0x130)](_0x23432c,saltRounds);storeSettings({'bbPassword':_0x48cf2d}),await tgBot[_0x4fe322(0x19d)](_0x58edaa[_0x4fe322(0x1d4)]['id'],'Password\x20has\x20been\x20reset\x20to:\x20'+_0x23432c,{'parse_mode':_0x4fe322(0xb4)})[_0x4fe322(0x1aa)](_0x18cb62=>{telegramError(_0x18cb62);});}else await tgBot[_0x4fe322(0x19d)](_0x58edaa[_0x4fe322(0x1d4)]['id'],_0x4fe322(0x197))[_0x4fe322(0x1aa)](_0x368d4b=>{telegramError(_0x368d4b);});}),tgBot[_0x542c01(0x120)](_0x542c01(0x17c));}));}function logging(_0x1dcf79){const _0x3eb4a6=_0x215562;console[_0x3eb4a6(0xa0)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x1dcf79);if(tgBot&&settings['telegramChatId']&&settings[_0x3eb4a6(0xe0)]!=_0x3eb4a6(0x121))tgBot[_0x3eb4a6(0x19d)](settings['telegramChatId'],_0x3eb4a6(0xf3)+_0x1dcf79)[_0x3eb4a6(0x1aa)](_0x272163=>{telegramError(_0x272163);});}function getServerTime(){const _0x563bb1=_0x215562,_0x12c014=new Date();return _0x12c014[_0x563bb1(0x164)]()+'/'+(_0x12c014[_0x563bb1(0x1e2)]()+0x1)[_0x563bb1(0x131)]()['padStart'](0x2,'0')+'/'+_0x12c014[_0x563bb1(0x11e)]()[_0x563bb1(0x131)]()[_0x563bb1(0xbc)](0x2,'0')+'\x20'+_0x12c014[_0x563bb1(0xfa)]()[_0x563bb1(0x131)]()[_0x563bb1(0xbc)](0x2,'0')+':'+_0x12c014[_0x563bb1(0x125)]()['toString']()[_0x563bb1(0xbc)](0x2,'0')+':'+_0x12c014[_0x563bb1(0x1cb)]()[_0x563bb1(0x131)]()[_0x563bb1(0xbc)](0x2,'0');}function getTimeStamp(){const _0x180b99=_0x215562,_0xc6332d=shiftedTime();return _0xc6332d[_0x180b99(0x164)]()+'/'+(_0xc6332d['getMonth']()+0x1)[_0x180b99(0x131)]()[_0x180b99(0xbc)](0x2,'0')+'/'+_0xc6332d['getDate']()[_0x180b99(0x131)]()[_0x180b99(0xbc)](0x2,'0')+'\x20'+_0xc6332d[_0x180b99(0xfa)]()['toString']()['padStart'](0x2,'0')+':'+_0xc6332d[_0x180b99(0x125)]()[_0x180b99(0x131)]()['padStart'](0x2,'0')+':'+_0xc6332d[_0x180b99(0x1cb)]()[_0x180b99(0x131)]()[_0x180b99(0xbc)](0x2,'0');}function shiftedTime(){const _0x41da86=_0x215562,_0x435592=new Date();let _0x4c67c7=_0x435592;if(settings[_0x41da86(0x100)]&&settings[_0x41da86(0x100)]!==0x0)_0x4c67c7=fns['add'](_0x435592,{'hours':settings[_0x41da86(0x100)]});return _0x4c67c7;}function startScheduler(){const _0x59c600=_0x215562;let _0x2a150c=new Date()[_0x59c600(0xab)]();_0x2a150c==0x1&&backupConfigFiles();_0x2a150c==0x9&&triggerAnalytics();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}function backupConfigFiles(){const _0x3874ac=_0x215562;fs[_0x3874ac(0x9a)](configpath,{'withFileTypes':!![]})[_0x3874ac(0x1a5)](_0xafdba3=>{const _0x14203f=_0x3874ac;if(!_0xafdba3[_0x14203f(0x113)]())fs[_0x14203f(0x1b2)](configpath+_0xafdba3[_0x14203f(0xcd)],configbackuppath+_0xafdba3[_0x14203f(0xcd)]);});}function triggerAnalytics(){const _0x23c3c6=_0x215562;analytics[_0x23c3c6(0xf1)]({'title':_0x23c3c6(0x99),'href':_0x23c3c6(0x108),'path':'/v'+serverversion});}function validateCredentials(_0x3ff286,_0x2dca24){const _0x4df0d3=_0x215562;if(_0x3ff286[_0x4df0d3(0x14f)]==settings[_0x4df0d3(0x183)]&&bcrypt[_0x4df0d3(0x18f)](_0x3ff286[_0x4df0d3(0xf8)],settings[_0x4df0d3(0x1b7)])){if(settings[_0x4df0d3(0x1e7)])return{'allow':![],'reason':_0x4df0d3(0xce),'token':null};else{const _0x3c03a4=generateLoginToken(_0x2dca24);return{'allow':!![],'reason':_0x4df0d3(0x19c),'token':_0x3c03a4};}}else return{'allow':![],'reason':_0x4df0d3(0x196),'token':null};}function refreshToken(_0x535dce){const _0x5b5455=generateLoginToken(_0x535dce);return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x5b5455};}function validateAccess(_0x3655ac,_0x235a7a){const _0x264be1=_0x215562;let _0x1e075c=devices[_0x235a7a]['ip'],_0x133252;const _0x1632fe=_0x18efd6=>{const _0xd83b84=_0x3042;if(settings[_0xd83b84(0xf6)]){if(settings['f2aRequired']){if(telegram2FaApproved(_0x235a7a)){const _0x322912=generateLoginToken(_0x235a7a);return{'allow':!![],'reason':_0xd83b84(0x9e),'token':_0x322912};}else return{'allow':![],'reason':_0xd83b84(0x12a),'token':null};}else return _0x133252=validToken(_0x18efd6,_0x235a7a),_0x133252['hasOwnProperty'](_0xd83b84(0x157))?{'allow':!![],'reason':_0xd83b84(0x169),'token':_0x18efd6}:{'allow':![],'reason':_0xd83b84(0x12a),'token':null};}else return{'allow':!![],'reason':_0xd83b84(0x18c),'token':null};};if(settings[_0x264be1(0x12d)]){let _0x12a56d=[...settings[_0x264be1(0x192)],_0x264be1(0x1c0),_0x264be1(0x1ca),_0x264be1(0xbb)];if(_0x12a56d['includes'](_0x1e075c))return _0x1632fe(_0x3655ac);else{_0x133252=validToken(_0x3655ac,_0x235a7a);if(_0x133252[_0x264be1(0x13e)](_0x264be1(0x157)))return _0x1632fe(_0x3655ac);else{if(telegramIpApproved(_0x235a7a)){const _0x3c2928=generateToken(_0x235a7a);return _0x133252=_0x1632fe(_0x3655ac),_0x133252['allow']?{'allow':!![],'reason':_0x264be1(0xc0),'token':_0x3c2928}:_0x133252;}else return settings[_0x264be1(0x119)]?{'allow':![],'reason':_0x264be1(0x165),'token':null}:{'allow':![],'reason':_0x264be1(0xd9),'token':null};}}}else return _0x1632fe(_0x3655ac);}function timelyDecrypt(_0x3ed531,_0x401ea7=!![]){const _0x1f2c04=_0x215562;if(_0x3ed531)try{const _0x2c30ef=crypt['decrypt'](secure[_0x1f2c04(0x1bb)],_0x3ed531)[_0x1f2c04(0x1b5)],_0x1b2681=_0x2c30ef['split']('@')[0x0],_0x2480c2=_0x2c30ef[_0x1f2c04(0x107)]('@')[0x1],_0x1ddc7d=new Date()[_0x1f2c04(0xe8)]();if(_0x401ea7){if(_0x1ddc7d-_0x2480c2<maxSecretAge*0x3e8)return _0x1b2681;else return![];}else return _0x1b2681;}catch(_0xa6dcec){return![];}else return![];}const validToken=(_0x1778c8,_0x5696ca)=>{const _0x48b12e=_0x215562,_0x2b7365=devices[_0x5696ca]['ip'];if(!_0x1778c8)return{'error':_0x48b12e(0x133)};for(let _0x4ba9ab of blacklist){if(_0x4ba9ab[_0x48b12e(0x15f)]==_0x1778c8)return{'error':_0x48b12e(0x16d)};}let _0x373d48;try{_0x373d48=jwt[_0x48b12e(0x1b9)](_0x1778c8,secure['secret']+_0x5696ca);}catch{return{'error':_0x48b12e(0x16c)};}if(!_0x373d48['hasOwnProperty'](_0x48b12e(0x1bf))&&!_0x373d48[_0x48b12e(0x13e)](_0x48b12e(0x14f))||!_0x373d48['hasOwnProperty'](_0x48b12e(0x146)))return{'error':_0x48b12e(0x1d3)};if(!_0x373d48[_0x48b12e(0x13e)](_0x48b12e(0x14f))&&_0x373d48[_0x48b12e(0x13e)](_0x48b12e(0x1bf))){const {clientip:_0x3ee25b}=_0x373d48;return _0x2b7365==_0x3ee25b?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x48b12e(0x19a)};}else{if(_0x373d48[_0x48b12e(0x13e)](_0x48b12e(0x14f))&&_0x373d48['hasOwnProperty'](_0x48b12e(0x1bf))){const {username:_0x391ed6,clientip:_0x33d258}=_0x373d48;return settings[_0x48b12e(0x183)]==_0x391ed6&&_0x2b7365==_0x33d258?{'success':_0x48b12e(0xd7)}:{'error':_0x48b12e(0xd8)};}}},generateLoginToken=_0x9a5b80=>{const _0x367c53=_0x215562;if(_0x9a5b80){const _0x4a9f97=devices[_0x9a5b80]['ip'];return jwt[_0x367c53(0x191)]({'username':settings[_0x367c53(0x183)],'clientip':_0x4a9f97},secure[_0x367c53(0x105)]+_0x9a5b80,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x4ff434=>{const _0x11c7ef=_0x215562;if(_0x4ff434){const _0x30d4b8=devices[_0x4ff434]['ip'];return jwt[_0x11c7ef(0x191)]({'clientip':_0x30d4b8},secure[_0x11c7ef(0x105)]+_0x4ff434,{'expiresIn':devices[_0x4ff434][_0x11c7ef(0x139)]['expiry']*0x3c});}else return![];},telegramIpApproved=_0x2cf20b=>{const _0x3a780e=_0x215562;let _0x5e531d=![];return devices[_0x2cf20b][_0x3a780e(0x139)]&&devices[_0x2cf20b][_0x3a780e(0x139)][_0x3a780e(0x1e6)]!=_0x3a780e(0xb6)&&(_0x5e531d=devices[_0x2cf20b][_0x3a780e(0x139)][_0x3a780e(0x1bf)]==devices[_0x2cf20b]['ip']&&new Date()[_0x3a780e(0xe8)]()-devices[_0x2cf20b]['telegramIpApproval'][_0x3a780e(0xfb)]<devices[_0x2cf20b][_0x3a780e(0x139)]['expiry']*0x3c*0x3e8),_0x5e531d;},telegram2FaApproved=_0x1eaa61=>{const _0x28c6c4=_0x215562;let _0x3f1dac=![];return devices[_0x1eaa61]['telegram2FaApproval']&&devices[_0x1eaa61][_0x28c6c4(0x135)][_0x28c6c4(0x1e6)]!=_0x28c6c4(0xb6)&&(_0x3f1dac=devices[_0x1eaa61]['telegram2FaApproval'][_0x28c6c4(0x1bf)]==devices[_0x1eaa61]['ip']&&new Date()['getTime']()-devices[_0x1eaa61][_0x28c6c4(0x135)]['timestamp']<devices[_0x1eaa61][_0x28c6c4(0x135)][_0x28c6c4(0x1e6)]*0x3c*0x3e8),_0x3f1dac;},normalizeIP=_0x272fe6=>{const _0x362bd0=_0x215562;let _0x3314d7=null,_0x4f18c6=null;if(ipaddr[_0x362bd0(0x176)](_0x272fe6)){const _0x519cb1=ipaddr[_0x362bd0(0xa3)](_0x272fe6);_0x519cb1[_0x362bd0(0x16a)]()==='ipv6'?(_0x519cb1[_0x362bd0(0x129)]()&&(_0x3314d7=_0x519cb1[_0x362bd0(0xaa)]()['toString']()),_0x4f18c6=_0x519cb1['toString']()):(_0x3314d7=_0x519cb1['toString'](),_0x4f18c6=_0x519cb1[_0x362bd0(0xb9)]()['toString']());}return{'show':_0x3314d7?_0x3314d7:_0x4f18c6,'store':_0x4f18c6};};