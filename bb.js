const _0x462750=_0x5320;(function(_0x13555f,_0x29fc55){const _0x24224f=_0x5320,_0x35a84a=_0x13555f();while(!![]){try{const _0x389d16=-parseInt(_0x24224f(0x155))/0x1+-parseInt(_0x24224f(0x1a0))/0x2+-parseInt(_0x24224f(0x164))/0x3*(-parseInt(_0x24224f(0x16d))/0x4)+-parseInt(_0x24224f(0x14a))/0x5+parseInt(_0x24224f(0xf4))/0x6*(-parseInt(_0x24224f(0xe7))/0x7)+parseInt(_0x24224f(0x1c8))/0x8+parseInt(_0x24224f(0x129))/0x9*(parseInt(_0x24224f(0x198))/0xa);if(_0x389d16===_0x29fc55)break;else _0x35a84a['push'](_0x35a84a['shift']());}catch(_0x501ee7){_0x35a84a['push'](_0x35a84a['shift']());}}}(_0x344f,0xb5c3b));const _0x13f9cc=function(){let _0x3059ae=!![];return function(_0x2c0e9d,_0x37ca37){const _0x42949e=_0x3059ae?function(){if(_0x37ca37){const _0x400761=_0x37ca37['apply'](_0x2c0e9d,arguments);return _0x37ca37=null,_0x400761;}}:function(){};return _0x3059ae=![],_0x42949e;};}(),_0x5cf950=_0x13f9cc(this,function(){const _0x2969f7=_0x5320;return _0x5cf950['toString']()['search'](_0x2969f7(0x187))[_0x2969f7(0x1aa)]()[_0x2969f7(0x192)](_0x5cf950)[_0x2969f7(0x17e)]('(((.+)+)+)+$');});_0x5cf950();'use strict';process[_0x462750(0x1d4)][_0x462750(0x15d)]=0x1;const childProcess=require('child_process'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),low=require(_0x462750(0x19f)),path=require('path'),crypto=require('crypto'),Crypt=require(_0x462750(0xcb))['Crypt'],RSA=require(_0x462750(0xcb))[_0x462750(0xde)],bcrypt=require(_0x462750(0x10a)),jwt=require('jsonwebtoken'),analyticsLib=require(_0x462750(0xd3))[_0x462750(0x1b1)],googleAnalytics=require('@analytics/google-analytics')[_0x462750(0x1b1)],ipaddr=require(_0x462750(0xed));let bbpath='bb/';const botfile=_0x462750(0xd2),configfile=_0x462750(0xe9),settingsfile=_0x462750(0x1c4),securefile=_0x462750(0x1c0);!fs[_0x462750(0x1a7)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0x462750(0x18a);!fs[_0x462750(0x1a7)](configpath)&&fs[_0x462750(0x179)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x462750(0x115)]({'bots':[]})[_0x462750(0x174)]();function _0x344f(){const _0x6fdef2=['/enable\x20-\x20enable\x20notifications\x0a','search','unlinkSync','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','store-settings',':\x20Bot\x20Mgr\x20>\x20','Password\x20reset\x20rejected','error','Bot\x20Mgr\x20>\x20','isIPv4MappedAddress','(((.+)+)+)+$','2FA\x20required','sign','config/','Notifications\x20enabled','error\x20while\x20deleting\x20log\x20files:\x20','botname','telegramChatId','SIGINT','reject','data','constructor','/:bot/portfolio','\x20/\x20','randomFillSync','isValid','socket.io','12293230kIIBdA','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','hasOwnProperty','then','blacklist','whitelist','remoteAddress','lowdb','2120358FqQaIb','https://hodlerhacks.com','length','split','exp','keys','event','existsSync','enabled\x20Bot\x20','/disable\x20-\x20disable\x20notifications\x0a','toString','-config.json','yes','orders','build','chat','polling_error','default','2FA\x20login\x20token\x20generated','push','place-order','from','logged\x20out','-results.json','404\x20Not\x20Found','max','filter','Invalid\x20authentication\x20token\x20(1)','enabled','telegramUsername','static','15\x20min','bb-secure.json','sha256','5\x20min','Ok,\x20will\x20send\x20alert\x20notifications\x20only','bb-settings.json','</b>\x20?','You\x20can\x20use\x20the\x20following\x20commands:\x0a','Unauthorized\x20attempt\x20to\x20store\x20configuration','5812336ttLfqe','getStartingBalances','User\x20has\x20been\x20validated','/restart\x20-\x20restart\x20a\x20bot\x0a','************','sendFile','getDate','temporary\x20token\x20generated','encryptedUuid','accept','No\x20bots\x20enabled\x20right\x20now','access\x20timeout','env','Token\x20blacklisted','2FA\x20login\x20required','login\x20not\x20required','new','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','getSeconds','::ffff:127.0.0.1','2FA','Access\x20enabled\x20for\x20','update-bot','clientip','bbUsername','timeshift','Login\x20rejected','token','bots','set','getMonth','hybrid-crypto-js','expiry','\x20|\x20','randomBytes','allow','decrypt','settings.','bot.js','analytics','invalid\x20credentials','/:bot/support','HTML','idling\x20bot\x20\x20\x20|\x20Bot\x20','Balance\x20Bot','node-telegram-bot-api','entries','message','join','Invalid\x20Telegram\x20token','RSA','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','/:bot/performance','emit','fork','Invalid\x20authentication\x20token\x20(2)','<b>Balance\x20Bot\x20status:</b>\x0a','reset-password','match','2086WtvFtR','Password\x20has\x20been\x20reset\x20to:\x20','bb-config.json','http','bbPassword','publicKey','ipaddr.js','log','30\x20min','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','value','args','removeListener','4926XLjJJl','/:bot','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','verify','success','answerCallbackQuery','Unauthorized\x20attempt\x20to\x20get\x20portfolio','disabled','password','inherit','SIGTERM','includes','get','kind','live','deleted\x20Bot\x20','headers','disconnect','Bot\x20','<b>Telegram\x20bot\x20status:</b>\x0a','toIPv4Address','Unauthorized\x20attempt\x20to\x20delete\x20bot','bcryptjs','forEach','secret','new-disabled','temporary\x20access\x20not\x20allowed','page','index.html','stopPolling','login\x20token\x20generated','bot-','getTime','defaults','Unauthorized\x20attempt\x20to\x20update\x20bot','temporaryAccessAllowed','listen','sendMessage','stopped','Notifications\x20types:\x20','/help\x20-\x20show\x20avaiable\x20commands\x0a','callback_query','Unauthorized\x20attempt\x20to\x20update\x20settings','whitelistEnabled','127.0.0.1','remove','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','-----------------------------------------------------------------------------------','order','hashSync','cloneDeep','\x20only\x0a','::1','18jEAzec','onText','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','timestamp','reload','add','logout','get-portfolio','exit','telegramToken','starting','Notifications\x20disabled','telegramEnabled','reason','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','getFullYear','add-bot','telegram','-performance.json','store-configuration','connection','show','No\x20authentication\x20token','hex','find','getMinutes','botID','botmanager','express','starting\x20new\x20bot\x20|\x20Bot\x20','Notifications\x20enabled\x0a','disabled\x20Bot\x20','status','2255825rCkymI','login','Temporary\x20access\x20rejected','username','Invalid\x20username\x20or\x20IP\x20address','all','-events.json','catch','login\x20token\x20valid','use','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','1366946nQxoFy','loginRequired','delete-bot','once','telegramEvents','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','secure','sortBy','NTBA_FIX_319','settings','getHours','starting\x20bot\x20|\x20Bot\x20','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','running','Allow\x20login\x20from\x20IP\x20address\x20<b>','2487YFvYpn','getPortfolio','parse','/:bot/history','Unauthorized\x20attempt\x20to\x20log\x20out','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','send','started','All','3292IFnzRT','ipv6','removeAllListeners','Orders','privateKey','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','padStart','write','type','build2','storeHeadless','\x20minutes','mkdirSync','assign','alerts','\x20>\x20'];_0x344f=function(){return _0x6fdef2;};return _0x344f();}const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x462750(0x115)]({'settings':{'timeshift':0x0}})[_0x462750(0x174)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x462750(0x115)]({'secure':{},'blacklist':[]})['write']();let crypt=new Crypt({'md':_0x462750(0x1c1),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+'version.json')['version'],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0x462750(0x145)),app=express(),http=require(_0x462750(0xea))['createServer'](app);app['use'](express['static'](path['join'](__dirname,bbpath,_0x462750(0x176)))),app[_0x462750(0x153)](express[_0x462750(0x1be)](path[_0x462750(0xdc)](__dirname,bbpath,_0x462750(0x1ae)))),app['get']('/',function(_0x546d8b,_0x5662be){const _0xeab0ac=_0x462750;_0x5662be[_0xeab0ac(0x1cd)](path['join'](__dirname,bbpath,'build2',_0xeab0ac(0x110)));}),app[_0x462750(0x100)](_0x462750(0xf5),function(_0xb13aa6,_0x48f62d){const _0x297b52=_0x462750;_0x48f62d['sendFile'](path[_0x297b52(0xdc)](__dirname,bbpath,_0x297b52(0x1ae),_0x297b52(0x110)));}),app['get'](_0x462750(0x193),(_0x328d7a,_0x364664)=>{const _0x4f0692=_0x462750;_0x364664['sendFile'](path[_0x4f0692(0xdc)](__dirname,bbpath,_0x4f0692(0x1ae),_0x4f0692(0x110)));}),app[_0x462750(0x100)](_0x462750(0xe0),(_0x10545c,_0x1e1b50)=>{const _0x28e7cf=_0x462750;_0x1e1b50[_0x28e7cf(0x1cd)](path[_0x28e7cf(0xdc)](__dirname,bbpath,'build',_0x28e7cf(0x110)));}),app[_0x462750(0x100)]('/:bot/coins',(_0x4fcb06,_0x2f4060)=>{const _0x50245a=_0x462750;_0x2f4060[_0x50245a(0x1cd)](path[_0x50245a(0xdc)](__dirname,bbpath,'build','index.html'));}),app['get'](_0x462750(0x167),(_0xb85225,_0x3000f5)=>{const _0x13c7f4=_0x462750;_0x3000f5[_0x13c7f4(0x1cd)](path['join'](__dirname,bbpath,'build','index.html'));}),app['get']('/:bot/configuration',(_0x3f58d7,_0x8d0779)=>{const _0xc8d6ad=_0x462750;_0x8d0779[_0xc8d6ad(0x1cd)](path[_0xc8d6ad(0xdc)](__dirname,bbpath,_0xc8d6ad(0x1ae),_0xc8d6ad(0x110)));}),app[_0x462750(0x100)](_0x462750(0xd5),(_0x1e5c1e,_0x5b85e6)=>{const _0x118988=_0x462750;_0x5b85e6[_0x118988(0x1cd)](path[_0x118988(0xdc)](__dirname,bbpath,_0x118988(0x1ae),'index.html'));}),http[_0x462750(0x118)](PORT);const analytics=analyticsLib({'app':_0x462750(0xd8),'plugins':[googleAnalytics({'trackingId':'UA-192771731-1'})]}),TelegramBot=require(_0x462750(0xd9));let tgBot;if(settings[_0x462750(0x132)]&&settings[_0x462750(0x132)]!=''&&settings[_0x462750(0x1bd)]&&settings[_0x462750(0x1bd)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x4227ba=_0x462750;console[_0x4227ba(0xee)](''),console[_0x4227ba(0xee)](_0x4227ba(0x123)),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console['log'](_0x4227ba(0x123));if(config[_0x4227ba(0x1a2)]!=0x0)config[_0x4227ba(0x10b)](_0x2941b8=>{const _0x19710f=_0x4227ba;if(_0x2941b8[_0x19710f(0x149)]=='enabled'||_0x2941b8[_0x19710f(0x149)]==_0x19710f(0x1d8))logging(_0x19710f(0x160)+_0x2941b8[_0x19710f(0x143)]+_0x19710f(0xcd)+_0x2941b8[_0x19710f(0x18d)]),startBot([_0x2941b8[_0x19710f(0x143)]],{'cwd':bbpath},function(_0x4cf32a){if(_0x4cf32a)logging(_0x4cf32a);});else(_0x2941b8[_0x19710f(0x149)]=='disabled'||_0x2941b8['status']==_0x19710f(0x10d))&&logging(_0x19710f(0xd7)+_0x2941b8[_0x19710f(0x143)]+_0x19710f(0xcd)+_0x2941b8[_0x19710f(0x18d)]);});else!newBot&&console['log'](_0x4227ba(0xdf));if(newBot)addBot();console['log'](_0x4227ba(0x123)),console[_0x4227ba(0xee)]('');}function startSocket(){const _0x365305=_0x462750,_0x5ab2f9=require(_0x365305(0x197))(http,{});_0x5ab2f9['on'](_0x365305(0x13d),_0x189b3a=>{const _0x5ec961=_0x365305;let _0x17968f,_0x3286d8,_0x3f4208;const _0x1c3aa3=_0x189b3a['handshake'][_0x5ec961(0x104)]['referer'],_0x67a722=_0x189b3a['handshake']['auth'][_0x5ec961(0x1d0)];if(!_0x67a722)_0x189b3a[_0x5ec961(0xe1)](_0x5ec961(0x149),{'publicKey':secure[_0x5ec961(0xec)]});else{uuid=timelyDecrypt(_0x189b3a['handshake']['auth'][_0x5ec961(0x1d0)],![]),_0x3286d8=_0x1c3aa3['match'](/bot[0-9]{3}/);if(_0x3286d8)_0x3f4208=_0x3286d8[0x0][_0x5ec961(0xe6)](/[0-9]{3}/);if(_0x3f4208)_0x17968f=_0x3f4208[0x0];else _0x17968f=_0x5ec961(0x144);if(socket[_0x17968f])socket[_0x17968f][_0x5ec961(0x105)](!![]);socket[_0x17968f]=_0x189b3a,setAccess(_0x17968f);if(accessControl[_0x5ec961(0xcf)]){if(_0x17968f==_0x5ec961(0x144))initializeSocketBotManager();else initializeSocketBot(_0x17968f);}if(!serverStatus[_0x17968f])serverStatus[_0x17968f]='connected';socket[_0x17968f]['on']('login',_0x5a727e=>{const _0x9f6ad2=_0x5ec961,_0x35b47e=timelyDecrypt(_0x5a727e[_0x9f6ad2(0xfc)]);if(_0x35b47e){_0x5a727e={'username':_0x5a727e[_0x9f6ad2(0x14d)],'password':_0x35b47e};let _0x56ab1f=validateCredentials(_0x5a727e);if(_0x56ab1f[_0x9f6ad2(0xcf)]==![]&&_0x56ab1f[_0x9f6ad2(0x136)]==_0x9f6ad2(0x1d6))socket[_0x17968f][_0x9f6ad2(0xe1)](_0x9f6ad2(0x149),{'access':_0x56ab1f}),loginAccess2FA(externalip);else{if(_0x56ab1f[_0x9f6ad2(0xcf)]==![]&&_0x56ab1f[_0x9f6ad2(0x136)]==_0x9f6ad2(0xd4))socket[_0x17968f][_0x9f6ad2(0xe1)]('status',{'access':_0x56ab1f});else{if(_0x56ab1f['allow']&&_0x56ab1f[_0x9f6ad2(0x136)]==_0x9f6ad2(0x112)){token=_0x56ab1f[_0x9f6ad2(0xc7)];for(let _0x18e2a6 in socket){if(_0x18e2a6==_0x9f6ad2(0x144))initializeSocketBotManager();else initializeSocketBot(_0x18e2a6);socket[_0x18e2a6][_0x9f6ad2(0xe1)](_0x9f6ad2(0x149),{'status':serverStatus[_0x18e2a6]||_0x9f6ad2(0x133),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x56ab1f,'externalip':externalip,'publicKey':secure[_0x9f6ad2(0xec)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout('login');}}}}else logging('Unauthorized\x20attempt\x20logging\x20in\x20(timeout)');}),socket[_0x17968f]['on'](_0x5ec961(0xe5),()=>{resetPassword();}),socket[_0x17968f]['on'](_0x5ec961(0x105),_0x3d6a3e=>{let _0xcf3195=[];for(let _0x4a754e in socket){if(_0x4a754e!=_0x17968f)_0xcf3195[_0x4a754e]=socket[_0x4a754e];}socket=_0xcf3195;});if(_0x17968f!=_0x5ec961(0x144)&&config['apiKey']!=''){if(pid[_0x17968f])pid[_0x17968f][_0x5ec961(0x16a)]({'function':'initclient','args':null});}}});}function setAccess(_0x51c012){const _0x2a8936=_0x462750;externalip=normalizeIP(socket[_0x51c012]['conn'][_0x2a8936(0x19e)])['store'],accessControl=validateAccess(token),accessControl[_0x2a8936(0xc7)]&&accessControl['reason']==_0x2a8936(0x1cf)&&setSessionTimeout(_0x2a8936(0x1dc)),accessControl[_0x2a8936(0xc7)]&&accessControl[_0x2a8936(0x136)]=='2FA\x20login\x20token\x20generated'&&setSessionTimeout(_0x2a8936(0x14b)),socket[_0x51c012][_0x2a8936(0xe1)](_0x2a8936(0x149),{'status':serverStatus[_0x51c012]||_0x2a8936(0x133),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x2a8936(0xec)],'loginNow':accessControl[_0x2a8936(0x136)]=='login\x20required'||accessControl[_0x2a8936(0x136)]==_0x2a8936(0x1d6)}),accessControl[_0x2a8936(0xcf)]==![]&&accessControl[_0x2a8936(0x136)]=='2FA\x20required'&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x108098){const _0x4986f4=_0x462750;let _0x351451;if(_0x108098=='login')_0x351451=loginExpiry*0x3c*0x3e8;else _0x351451=telegramIpApproval['expiry']*0x3c*0x3e8-(new Date()[_0x4986f4(0x114)]()-telegramIpApproval[_0x4986f4(0x12c)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x430720=_0x4986f4;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x3d66d4=validateAccess(token);if(!(_0x3d66d4[_0x430720(0xcf)]&&_0x3d66d4[_0x430720(0x136)]==_0x430720(0x1d7)))for(let _0x4254db in socket){socket[_0x4254db][_0x430720(0xe1)](_0x430720(0x149),{'access':{'allow':![],'reason':_0x430720(0x1d3),'token':null}});}token=null;},_0x351451);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x17bff6=_0x5320;let _0x45a240=refreshToken();for(let _0x47eeb2 in socket){socket[_0x47eeb2][_0x17bff6(0xe1)]('status',{'status':serverStatus[_0x47eeb2]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x45a240,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x20e610=_0x462750;socket[_0x20e610(0x144)][_0x20e610(0xe1)](_0x20e610(0xc8),config),socket[_0x20e610(0x144)][_0x20e610(0xe1)](_0x20e610(0x15e),cleanSettings()),socket[_0x20e610(0x144)]['on'](_0x20e610(0x139),_0x2f2538=>{const _0x5eda5d=_0x20e610;if(validateAccess(_0x2f2538)[_0x5eda5d(0xcf)])addBot();else logging('Unauthorized\x20attempt\x20to\x20add\x20bot');}),socket['botmanager']['on'](_0x20e610(0xc2),(_0x5b5fb,_0x53d0f7)=>{const _0x1d5aa7=_0x20e610;if(validateAccess(_0x53d0f7)[_0x1d5aa7(0xcf)])toggleBot(_0x5b5fb[_0x1d5aa7(0x143)],_0x5b5fb[_0x1d5aa7(0x149)],_0x5b5fb[_0x1d5aa7(0x102)]);else logging(_0x1d5aa7(0x116));}),socket[_0x20e610(0x144)]['on'](_0x20e610(0x157),(_0x31e404,_0x7c8949)=>{const _0x416ca3=_0x20e610;if(validateAccess(_0x7c8949)[_0x416ca3(0xcf)])deleteBot(_0x31e404);else logging(_0x416ca3(0x109));}),socket[_0x20e610(0x144)]['on'](_0x20e610(0x181),(_0x30ba67,_0x5828bc)=>{const _0x5574ff=_0x20e610;if(validateAccess(_0x5828bc)[_0x5574ff(0xcf)])storeSettings(_0x30ba67,!![]);else logging(_0x5574ff(0x11e));}),socket[_0x20e610(0x144)]['on'](_0x20e610(0x12f),_0x42bd59=>{const _0x113ff6=_0x20e610;if(validateAccess(_0x42bd59)[_0x113ff6(0xcf)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x1541cb in socket){socket[_0x1541cb][_0x113ff6(0xe1)](_0x113ff6(0x149),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x113ff6(0x168));});}function initializeSocketBot(_0x15d5cf){const _0x193eb1=_0x462750;socket[_0x15d5cf]['on']('get-logs',(_0x563996,_0x55bd2d)=>{const _0x57bc78=_0x5320;if(validateAccess(_0x55bd2d)[_0x57bc78(0xcf)]){if(pid[_0x15d5cf])pid[_0x15d5cf][_0x57bc78(0x16a)]({'function':'emitHistory','args':_0x563996});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),socket[_0x15d5cf]['on'](_0x193eb1(0x130),(_0x418beb,_0x4c2ce0)=>{const _0x306ee4=_0x193eb1;if(validateAccess(_0x4c2ce0)[_0x306ee4(0xcf)]){if(pid[_0x15d5cf])pid[_0x15d5cf][_0x306ee4(0x16a)]({'function':_0x306ee4(0x165),'args':_0x418beb});}else logging(_0x306ee4(0xfa));}),socket[_0x15d5cf]['on'](_0x193eb1(0x13c),(_0x2c26f4,_0x215d84)=>{const _0x1ffaf2=_0x193eb1;if(validateAccess(_0x215d84)[_0x1ffaf2(0xcf)]){if(pid[_0x15d5cf])pid[_0x15d5cf][_0x1ffaf2(0x16a)]({'function':'storeConfiguration','args':_0x2c26f4});}else logging(_0x1ffaf2(0x1c7));}),socket[_0x15d5cf]['on']('store-headless',(_0x2753dd,_0xcb1068)=>{const _0x25fa69=_0x193eb1;if(validateAccess(_0xcb1068)[_0x25fa69(0xcf)]){if(pid[_0x15d5cf])pid[_0x15d5cf]['send']({'function':_0x25fa69(0x177),'args':_0x2753dd});}else logging(_0x25fa69(0x180));}),socket[_0x15d5cf]['on']('get-starting-balances',_0xb46f8b=>{const _0x592279=_0x193eb1;if(validateAccess(_0xb46f8b)['allow']){if(pid[_0x15d5cf])pid[_0x15d5cf][_0x592279(0x16a)]({'function':_0x592279(0x1c9),'args':null});}else logging(_0x592279(0x137));}),socket[_0x15d5cf]['on'](_0x193eb1(0x1b4),(_0x473b7b,_0x58faee)=>{const _0x15e073=_0x193eb1;if(validateAccess(_0x58faee)[_0x15e073(0xcf)]){if(pid[_0x15d5cf])pid[_0x15d5cf][_0x15e073(0x16a)]({'function':'placeOrder','args':_0x473b7b});}else logging(_0x15e073(0x172));}),socket[_0x15d5cf]['on']('logout',_0x3e005b=>{const _0x1a4281=_0x193eb1;if(validateAccess(_0x3e005b)['allow']){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x2af153 in socket){socket[_0x2af153][_0x1a4281(0xe1)]('status',{'access':{'allow':![],'reason':_0x1a4281(0x1b6),'token':null}});}}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function removeSocketListeners(){const _0x5b3fca=_0x462750;for(let _0x354932 in socket){socket[_0x354932][_0x5b3fca(0x16f)]();}}function cleanSettings(){const _0x12b1a0=_0x462750;let _0xd0ffae=settings;return settings[_0x12b1a0(0x132)]&&settings['telegramToken']!=''&&(_0xd0ffae={..._0xd0ffae,'telegramToken':_0x12b1a0(0x1cc)}),settings[_0x12b1a0(0xeb)]&&settings[_0x12b1a0(0xeb)]!=''&&(_0xd0ffae={..._0xd0ffae,'bbPassword':'************'}),_0xd0ffae;}function startBot(_0x5796e6,_0x2fcd9a,_0x38cef2){const _0x227a91=_0x462750;let _0x102789=![];const _0x293f14=_0x5796e6[0x0];_0x2fcd9a={..._0x2fcd9a,'stdio':[_0x227a91(0xfd),_0x227a91(0xfd),'inherit','ipc']},pid[_0x293f14]=childProcess[_0x227a91(0xe2)](botfile,_0x5796e6,_0x2fcd9a),pid[_0x293f14]['on'](_0x227a91(0xdb),_0x2c6c10=>{const _0xaf53de=_0x227a91;switch(Object[_0xaf53de(0x1a5)](_0x2c6c10)[0x0]){case _0xaf53de(0x18d):updateBotName(_0x293f14,_0x2c6c10[_0xaf53de(0x18d)]);break;case'status':updateStatus(_0x293f14,_0x2c6c10[_0xaf53de(0x149)]);break;case _0xaf53de(0x102):updateLive(_0x293f14,_0x2c6c10[_0xaf53de(0x102)]);break;case _0xaf53de(0x16b):updateLive(_0x293f14,_0x2c6c10[_0xaf53de(0x16b)]);if(socket[_0x293f14])socket[_0x293f14][_0xaf53de(0xe1)](_0xaf53de(0x149),{'access':{'allow':![],'reason':_0xaf53de(0x12d),'token':null}});break;case _0xaf53de(0x13a):sendTelegram(_0x293f14,_0x2c6c10[_0xaf53de(0x13a)]);break;case'function':if(socket[_0x293f14])socket[_0x293f14][_0xaf53de(0xe1)](_0x2c6c10['function'],_0x2c6c10[_0xaf53de(0xf2)]);break;}}),pid[_0x293f14]['on']('error',function(_0x40fc4e){if(_0x102789)return;_0x102789=!![],_0x38cef2(_0x40fc4e);}),pid[_0x293f14]['on'](_0x227a91(0x131),function(_0x3f5f6b){const _0x6173c4=_0x227a91;if(_0x102789)return;_0x102789=!![],_0x38cef2(null);const _0x5ca188=dbConfig[_0x6173c4(0x100)](_0x6173c4(0xc8))[_0x6173c4(0x141)]({'botID':_0x293f14})['value']();_0x5ca188&&(_0x5ca188['status']==_0x6173c4(0x1bc)||_0x5ca188[_0x6173c4(0x149)]==_0x6173c4(0x1d8))&&(updateLive(_0x293f14,'stopped'),_0x3f5f6b!=0x4d&&(logging('restarting\x20Bot\x20'+_0x293f14),startBot([_0x293f14],{'cwd':bbpath},function(_0x333576){if(_0x333576)logging(_0x333576);})));});}function stopBot(_0x3a5cc1){const _0x2416e1=_0x462750;if(socket[_0x3a5cc1])socket[_0x3a5cc1][_0x2416e1(0x105)](!![]);if(pid[_0x3a5cc1])pid[_0x3a5cc1]['kill']();}function addBot(){const _0x271ad0=_0x462750;let _0x5d2339;for(let _0x3cca9c=0x1;_0x3cca9c<0x3e9;_0x3cca9c++){_0x5d2339=_0x3cca9c[_0x271ad0(0x1aa)]()['padStart'](0x3,'0');let _0x2640e6=config[_0x271ad0(0x141)](_0x9a7f49=>_0x9a7f49[_0x271ad0(0x143)]==_0x5d2339);if(!_0x2640e6)break;}if(_0x5d2339==='1000'){logging(_0x271ad0(0x122));return;}logging(_0x271ad0(0x146)+_0x5d2339),dbConfig[_0x271ad0(0x100)](_0x271ad0(0xc8))[_0x271ad0(0x1b3)]({'botID':_0x5d2339,'botname':'Bot\x20'+_0x5d2339,'status':_0x271ad0(0x1d8),'live':''})[_0x271ad0(0x174)](),startBot([_0x5d2339],{'cwd':bbpath},function(_0x4bbe43){if(_0x4bbe43)logging(_0x4bbe43);}),config=getConfiguration();if(socket['botmanager'])socket['botmanager'][_0x271ad0(0xe1)](_0x271ad0(0xc8),config);}function deleteBot(_0x2d99f0){const _0x572bcf=_0x462750;if(socket[_0x2d99f0])socket[_0x2d99f0][_0x572bcf(0x105)](!![]);dbConfig[_0x572bcf(0x100)](_0x572bcf(0xc8))[_0x572bcf(0x121)]({'botID':_0x2d99f0})[_0x572bcf(0x174)](),logging(_0x572bcf(0x103)+_0x2d99f0),stopBot(_0x2d99f0);try{fs[_0x572bcf(0x17f)](path['join'](configpath,_0x572bcf(0x113)+_0x2d99f0+_0x572bcf(0x1ab))),fs[_0x572bcf(0x17f)](path[_0x572bcf(0xdc)](configpath,'bot-'+_0x2d99f0+_0x572bcf(0x150))),fs['unlinkSync'](path[_0x572bcf(0xdc)](configpath,_0x572bcf(0x113)+_0x2d99f0+_0x572bcf(0x13b))),fs['unlinkSync'](path[_0x572bcf(0xdc)](configpath,'bot-'+_0x2d99f0+_0x572bcf(0x1b7)));}catch(_0x1d7383){if(_0x1d7383)logging(_0x572bcf(0x18c),_0x1d7383);}config=getConfiguration();if(socket[_0x572bcf(0x144)])socket[_0x572bcf(0x144)][_0x572bcf(0xe1)]('bots',config);}function toggleBot(_0xf96438,_0x2902f7,_0x27f2b5){const _0x195122=_0x462750;dbConfig['get']('bots')[_0x195122(0x141)]({'botID':_0xf96438})[_0x195122(0x17a)]({'status':_0x2902f7})[_0x195122(0x17a)]({'live':_0x27f2b5})['write']();if(_0x2902f7==_0x195122(0x1bc)||_0x2902f7==_0x195122(0x1d8))logging(_0x195122(0x1a8)+_0xf96438),startBot([_0xf96438],{'cwd':bbpath},function(_0x4e6da6){if(_0x4e6da6)logging(_0x4e6da6);});else(_0x2902f7==_0x195122(0xfb)||_0x2902f7=='new-disabled')&&(logging(_0x195122(0x148)+_0xf96438),stopBot(_0xf96438));config=getConfiguration();if(socket['botmanager'])socket[_0x195122(0x144)]['emit']('bots',config);}function updateStatus(_0x57dd99,_0x5a304f){const _0x227d9e=_0x462750;dbConfig['get']('bots')[_0x227d9e(0x141)]({'botID':_0x57dd99})[_0x227d9e(0x17a)]({'status':_0x5a304f})[_0x227d9e(0x174)](),config=getConfiguration();if(socket['botmanager'])socket[_0x227d9e(0x144)][_0x227d9e(0xe1)]('bots',config);}function updateLive(_0x675b95,_0x1a9926){const _0x4c2d99=_0x462750;dbConfig['get']('bots')[_0x4c2d99(0x141)]({'botID':_0x675b95})['assign']({'live':_0x1a9926})[_0x4c2d99(0x174)](),config=getConfiguration();if(socket[_0x4c2d99(0x144)])socket[_0x4c2d99(0x144)][_0x4c2d99(0xe1)]('bots',config);}function updateBotName(_0x1447cd,_0x3cdb7e){const _0x4d247a=_0x462750;dbConfig['get'](_0x4d247a(0xc8))['find']({'botID':_0x1447cd})[_0x4d247a(0x17a)]({'botname':_0x3cdb7e})[_0x4d247a(0x174)](),config=getConfiguration();if(socket['botmanager'])socket['botmanager'][_0x4d247a(0xe1)](_0x4d247a(0xc8),config);}function telegramError(_0x8802bd){const _0x3aac4a=_0x462750;console[_0x3aac4a(0xee)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed');}function validateTelegram(_0x541301){const _0x41d88c=_0x462750;if(_0x541301[_0x41d88c(0x1b5)][_0x41d88c(0x14d)]!=settings[_0x41d88c(0x1bd)]&&'@'+_0x541301[_0x41d88c(0x1b5)][_0x41d88c(0x14d)]!=settings[_0x41d88c(0x1bd)])return tgBot[_0x41d88c(0x119)](_0x541301[_0x41d88c(0x1af)]['id'],_0x41d88c(0x1d9),{'parse_mode':_0x41d88c(0xd6)})['catch'](_0xc4d1a6=>{telegramError(_0xc4d1a6);}),![];return!![];}async function initTelegram(){const _0x23b95c=_0x462750;if(tgBot)tgBot['stopPolling'](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings['telegramToken'],{'polling':!![]});let _0x43fd4c=_0x23b95c(0x1c6);_0x43fd4c+='\x0a',_0x43fd4c+=_0x23b95c(0x17d),_0x43fd4c+=_0x23b95c(0x1a9),_0x43fd4c+=_0x23b95c(0xf0),_0x43fd4c+=_0x23b95c(0x1cb),_0x43fd4c+='/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a',_0x43fd4c+=_0x23b95c(0x11c);let _0x587a98=_0x23b95c(0x154);_0x587a98+='\x0a',_0x587a98+=_0x43fd4c,tgBot['onText'](/\/start/,_0x374c3e=>{const _0x57d4fb=_0x23b95c;if(!validateTelegram(_0x374c3e))return;if(settings[_0x57d4fb(0x18e)]!=_0x374c3e[_0x57d4fb(0x1af)]['id'])updateSetting(_0x57d4fb(0x18e),_0x374c3e[_0x57d4fb(0x1af)]['id']);updateSetting(_0x57d4fb(0x135),!![]),tgBot[_0x57d4fb(0x119)](_0x374c3e[_0x57d4fb(0x1af)]['id'],_0x587a98)[_0x57d4fb(0x151)](_0x4f06e5=>{telegramError(_0x4f06e5);});}),tgBot[_0x23b95c(0x12a)](/\/enable/,_0x353ecd=>{const _0x288446=_0x23b95c;if(!validateTelegram(_0x353ecd))return;if(settings[_0x288446(0x18e)]!=_0x353ecd[_0x288446(0x1af)]['id'])updateSetting(_0x288446(0x18e),_0x353ecd[_0x288446(0x1af)]['id']);updateSetting(_0x288446(0x135),!![]),tgBot[_0x288446(0x119)](_0x353ecd[_0x288446(0x1af)]['id'],_0x288446(0x18b))[_0x288446(0x151)](_0x26a3e5=>{telegramError(_0x26a3e5);});}),tgBot[_0x23b95c(0x12a)](/\/config/,async _0x34d6d2=>{const _0x5ecdf8=_0x23b95c;if(!validateTelegram(_0x34d6d2))return;tgBot[_0x5ecdf8(0xf3)](_0x5ecdf8(0x11d)),tgBot['sendMessage'](_0x34d6d2[_0x5ecdf8(0x1af)]['id'],_0x5ecdf8(0x199),{'reply_markup':{'inline_keyboard':[[{'text':_0x5ecdf8(0x170),'callback_data':_0x5ecdf8(0x1ad)},{'text':'Alerts','callback_data':_0x5ecdf8(0x17b)},{'text':_0x5ecdf8(0x16c),'callback_data':_0x5ecdf8(0x14f)}]]}})[_0x5ecdf8(0x151)](_0x556695=>{telegramError(_0x556695);}),tgBot['on'](_0x5ecdf8(0x11d),async _0x2897b0=>{const _0x3b2701=_0x5ecdf8,_0x114e98=_0x2897b0[_0x3b2701(0x191)],_0x58c795=_0x2897b0[_0x3b2701(0xdb)];tgBot[_0x3b2701(0xf9)](_0x2897b0['id'])[_0x3b2701(0x19b)](async()=>{const _0x3309a8=_0x3b2701;_0x114e98==_0x3309a8(0x1ad)&&(updateSetting(_0x3309a8(0x159),_0x3309a8(0x1ad)),updateSetting('telegramEnabled',!![]),await tgBot['sendMessage'](_0x58c795[_0x3309a8(0x1af)]['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')['catch'](_0x349306=>{telegramError(_0x349306);}));_0x114e98=='alerts'&&(updateSetting(_0x3309a8(0x159),_0x3309a8(0x17b)),updateSetting('telegramEnabled',!![]),await tgBot[_0x3309a8(0x119)](_0x58c795['chat']['id'],_0x3309a8(0x1c3))[_0x3309a8(0x151)](_0x7b8265=>{telegramError(_0x7b8265);}));_0x114e98==_0x3309a8(0x14f)&&(updateSetting('telegramEvents',_0x3309a8(0x14f)),updateSetting(_0x3309a8(0x135),!![]),await tgBot[_0x3309a8(0x119)](_0x58c795[_0x3309a8(0x1af)]['id'],'Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications')[_0x3309a8(0x151)](_0x13142f=>{telegramError(_0x13142f);}));if(!settings['telegramChatId'])tgBot['sendMessage'](_0x58c795['chat']['id'],_0x3309a8(0x15a))[_0x3309a8(0x151)](_0x1a3cff=>{telegramError(_0x1a3cff);});}),tgBot[_0x3b2701(0xf3)](_0x3b2701(0x11d));});}),tgBot[_0x23b95c(0x12a)](/\/status/,_0x113915=>{const _0x22fa74=_0x23b95c;if(!validateTelegram(_0x113915))return;let _0x494cae=_0x22fa74(0xe4);config[_0x22fa74(0x10b)](_0x136ce0=>{const _0xe12da9=_0x22fa74;_0x494cae+=_0xe12da9(0x106)+_0x136ce0[_0xe12da9(0x143)]+_0xe12da9(0xcd)+_0x136ce0[_0xe12da9(0x18d)]+':\x20'+_0x136ce0[_0xe12da9(0x149)]+_0xe12da9(0x194)+_0x136ce0['live']+'\x0a';}),_0x494cae+='\x0a',_0x494cae+=_0x22fa74(0x107),_0x494cae+=!settings[_0x22fa74(0x135)]?'Notifications\x20disabled\x0a':_0x22fa74(0x147),_0x494cae+=settings[_0x22fa74(0x135)]?settings['telegramEvents']=='all'?_0x22fa74(0x161):_0x22fa74(0x11b)+settings['telegramEvents']+_0x22fa74(0x127):'',tgBot[_0x22fa74(0x119)](_0x113915[_0x22fa74(0x1af)]['id'],_0x494cae,{'parse_mode':_0x22fa74(0xd6)})[_0x22fa74(0x151)](_0x189db4=>{telegramError(_0x189db4);});}),tgBot[_0x23b95c(0x12a)](/\/restart/,_0x34b8d4=>{const _0xf79d28=_0x23b95c;if(!validateTelegram(_0x34b8d4))return;tgBot[_0xf79d28(0xf3)]('callback_query');const _0x15fe63=getEnabledBots();if(_0x15fe63['length']==0x0)tgBot[_0xf79d28(0x119)](_0x34b8d4['chat']['id'],_0xf79d28(0x1d2))[_0xf79d28(0x151)](_0x1db016=>{telegramError(_0x1db016);});else{let _0x45a71=[],_0x3a0b00=[];const _0x35bafb=_0x15fe63[_0xf79d28(0x1a2)]%0x4==0x0||_0x15fe63['length']%0x4==0x3||_0x15fe63[_0xf79d28(0x1a2)]%0x3==0x1?0x4:0x3;let _0x1015d2=0x0;_0x15fe63[_0xf79d28(0x10b)]((_0x23e646,_0xc3cfcc)=>{const _0x2a9c3f=_0xf79d28;if(_0xc3cfcc%_0x35bafb==0x0)_0x3a0b00=[];_0x3a0b00[_0x2a9c3f(0x1b3)]({'text':_0x2a9c3f(0x106)+_0x23e646[_0x2a9c3f(0x143)],'callback_data':_0x23e646[_0x2a9c3f(0x143)]}),_0xc3cfcc%_0x35bafb==0x0&&(_0x45a71[_0x1015d2]=_0x3a0b00,_0x1015d2++);}),tgBot[_0xf79d28(0x119)](_0x34b8d4['chat']['id'],_0xf79d28(0x12b),{'reply_markup':{'inline_keyboard':_0x45a71}})['catch'](_0x41b3dc=>{telegramError(_0x41b3dc);}),tgBot['on']('callback_query',async _0x29f089=>{const _0x453acf=_0xf79d28,_0x1894cb=_0x29f089[_0x453acf(0x191)],_0x114157=_0x29f089[_0x453acf(0xdb)];tgBot[_0x453acf(0xf9)](_0x29f089['id'])[_0x453acf(0x19b)](async()=>{const _0x558347=_0x453acf;if(settings['telegramEvents']==_0x558347(0x1ad))tgBot[_0x558347(0x119)](_0x114157['chat']['id'],_0x558347(0xf6)+_0x1894cb)[_0x558347(0x151)](_0x98547a=>{telegramError(_0x98547a);});stopBot(_0x1894cb);}),tgBot[_0x453acf(0xf3)](_0x453acf(0x11d));});}}),tgBot[_0x23b95c(0x12a)](/\/disable/,_0x168106=>{const _0x2b3eb2=_0x23b95c;if(!validateTelegram(_0x168106))return;tgBot[_0x2b3eb2(0x119)](_0x168106[_0x2b3eb2(0x1af)]['id'],_0x2b3eb2(0x134))[_0x2b3eb2(0x151)](_0x42a643=>{telegramError(_0x42a643);}),updateSetting(_0x2b3eb2(0x135),![]);}),tgBot[_0x23b95c(0x12a)](/\/help/,_0xfe51a8=>{const _0x249fe6=_0x23b95c;if(!validateTelegram(_0xfe51a8))return;tgBot[_0x249fe6(0x119)](_0xfe51a8['chat']['id'],_0x43fd4c)['catch'](_0x35d0c7=>{telegramError(_0x35d0c7);});}),tgBot['on'](_0x23b95c(0x1b0),_0x532359=>{const _0x288061=_0x23b95c;if(_0x532359['toString']()['includes'](_0x288061(0x1b8))){logging('Invalid\x20Telegram\x20token'),tgBot[_0x288061(0x111)](),tgBot=null;if(socket[_0x288061(0x144)])socket[_0x288061(0x144)][_0x288061(0xe1)]('notification',_0x288061(0xdd));}}),process[_0x23b95c(0x158)](_0x23b95c(0x18f),()=>{const _0x2b648a=_0x23b95c;if(tgBot)tgBot[_0x2b648a(0x111)]();process[_0x2b648a(0x131)](0x1);}),process[_0x23b95c(0x158)](_0x23b95c(0xfe),()=>{const _0xa0f0ed=_0x23b95c;if(tgBot)tgBot[_0xa0f0ed(0x111)]();process[_0xa0f0ed(0x131)](0x1);});}}function disableTelegram(){const _0x304fdb=_0x462750;tgBot&&(tgBot[_0x304fdb(0x111)](),tgBot=null);}function sendTelegram(_0x51589c,_0x56273d){const _0x5115d0=_0x462750;if(settings['telegramEnabled']){if(settings['telegramEvents']=='all'||(_0x56273d[_0x5115d0(0x175)]==_0x5115d0(0x184)||_0x56273d['type']==_0x5115d0(0xf8))&&settings['telegramEvents']=='alerts'||_0x56273d['type']==_0x5115d0(0x124)&&settings[_0x5115d0(0x159)]==_0x5115d0(0x1ad)){if(tgBot&&settings[_0x5115d0(0x18e)])tgBot[_0x5115d0(0x119)](settings[_0x5115d0(0x18e)],'Bot\x20'+_0x51589c+_0x5115d0(0x17c)+_0x56273d[_0x5115d0(0x1a6)])[_0x5115d0(0x151)](_0x185a57=>{telegramError(_0x185a57);});}}}function temporaryAccess2FA(_0x5e29fc){const _0x438d2a=_0x462750;let _0x2c452f=new Date(),_0x53a68e=![];if(lastIpApproval){if(_0x2c452f-lastIpApproval<0x1388)_0x53a68e=!![];}lastIpApproval=new Date();if(_0x53a68e)return;tgBot&&settings[_0x438d2a(0x18e)]&&(tgBot['removeListener'](_0x438d2a(0x11d)),tgBot[_0x438d2a(0x119)](settings[_0x438d2a(0x18e)],'Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x5e29fc)[_0x438d2a(0x13e)]+_0x438d2a(0x1c5),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x438d2a(0x1c2),'callback_data':'5'},{'text':_0x438d2a(0x1bf),'callback_data':'15'},{'text':_0x438d2a(0xef),'callback_data':'30'},{'text':_0x438d2a(0x190),'callback_data':_0x438d2a(0x190)}]]}})[_0x438d2a(0x151)](_0x58ac4e=>{telegramError(_0x58ac4e);}),tgBot['on']('callback_query',async _0x56bb61=>{const _0x54b252=_0x438d2a,_0x5ccdc1=_0x56bb61[_0x54b252(0x191)],_0x4a12ee=_0x56bb61[_0x54b252(0xdb)];tgBot[_0x54b252(0xf9)](_0x56bb61['id'])['then'](async()=>{const _0x963eaa=_0x54b252;if(_0x5ccdc1!=_0x963eaa(0x190)){telegramIpApproval={'clientip':_0x5e29fc,'timestamp':new Date()['getTime'](),'expiry':_0x5ccdc1},await tgBot[_0x963eaa(0x119)](_0x4a12ee[_0x963eaa(0x1af)]['id'],_0x963eaa(0xc1)+_0x5ccdc1+_0x963eaa(0x178),{'parse_mode':_0x963eaa(0xd6)})[_0x963eaa(0x151)](_0x3d174b=>{telegramError(_0x3d174b);});for(let _0x2e6b31 in socket){socket[_0x2e6b31][_0x963eaa(0xe1)](_0x963eaa(0x149),{'access':{'allow':![],'reason':_0x963eaa(0x12d),'token':null}});}}else await tgBot[_0x963eaa(0x119)](_0x4a12ee[_0x963eaa(0x1af)]['id'],_0x963eaa(0x14c))[_0x963eaa(0x151)](_0x38f7ac=>{telegramError(_0x38f7ac);});}),tgBot['removeListener'](_0x54b252(0x11d));}));}function loginAccess2FA(_0x54f835){const _0xca06c0=_0x462750;tgBot&&settings[_0xca06c0(0x18e)]&&(tgBot[_0xca06c0(0xf3)](_0xca06c0(0x11d)),tgBot[_0xca06c0(0x119)](settings[_0xca06c0(0x18e)],_0xca06c0(0x163)+normalizeIP(_0x54f835)[_0xca06c0(0x13e)]+_0xca06c0(0x1c5),{'parse_mode':_0xca06c0(0xd6),'reply_markup':{'inline_keyboard':[[{'text':_0xca06c0(0x1d1),'callback_data':loginExpiry},{'text':_0xca06c0(0x190),'callback_data':'reject'}]]}})[_0xca06c0(0x151)](_0x462fae=>{telegramError(_0x462fae);}),tgBot['on'](_0xca06c0(0x11d),async _0x33cdeb=>{const _0x4ee2e0=_0xca06c0,_0x2d36d7=_0x33cdeb[_0x4ee2e0(0x191)],_0x2e14c4=_0x33cdeb[_0x4ee2e0(0xdb)];tgBot[_0x4ee2e0(0xf9)](_0x33cdeb['id'])[_0x4ee2e0(0x19b)](async()=>{const _0x5e9f40=_0x4ee2e0;if(_0x2d36d7!=_0x5e9f40(0x190)){telegram2FaApproval={'clientip':_0x54f835,'timestamp':new Date()[_0x5e9f40(0x114)](),'expiry':_0x2d36d7},await tgBot[_0x5e9f40(0x119)](_0x2e14c4[_0x5e9f40(0x1af)]['id'],'Login\x20accepted',{'parse_mode':_0x5e9f40(0xd6)})[_0x5e9f40(0x151)](_0x5c6706=>{telegramError(_0x5c6706);});for(let _0x30692c in socket){socket[_0x30692c][_0x5e9f40(0xe1)](_0x5e9f40(0x149),{'access':{'allow':![],'reason':_0x5e9f40(0x12d),'token':null}});}}else await tgBot[_0x5e9f40(0x119)](_0x2e14c4[_0x5e9f40(0x1af)]['id'],_0x5e9f40(0xc6))[_0x5e9f40(0x151)](_0x2e15e0=>{telegramError(_0x2e15e0);});}),tgBot['removeListener']('callback_query');}));}function getConfiguration(){const _0x4241c7=_0x462750;return dbConfig['get'](_0x4241c7(0xc8))[_0x4241c7(0x15c)](_0x4241c7(0x143))['value']()||[];}function getEnabledBots(){const _0x426e85=_0x462750;return dbConfig[_0x426e85(0x100)](_0x426e85(0xc8))[_0x426e85(0x15c)](_0x426e85(0x143))[_0x426e85(0x1ba)]({'status':_0x426e85(0x1bc)})[_0x426e85(0xf1)]()||[];}function getSettings(){const _0x133133=_0x462750;return dbSettings[_0x133133(0x100)]('settings')[_0x133133(0xf1)]()||{'timeshift':0x0};}function getSecure(){const _0x27a231=_0x462750;return dbSecure[_0x27a231(0x100)]('secure')[_0x27a231(0xf1)]()||{};}function getBlacklist(){const _0x11d2c6=_0x462750;return dbSecure[_0x11d2c6(0x100)](_0x11d2c6(0x19c))[_0x11d2c6(0xf1)]()||[];}function broadcastToBots(_0x158f92,_0x1b7f7c){config['forEach'](_0x88add6=>{const _0x548f94=_0x5320;if(_0x88add6[_0x548f94(0x149)]==_0x548f94(0x1bc)&&_0x88add6[_0x548f94(0x102)]==_0x548f94(0x162)){if(pid[_0x88add6['botID']])pid[_0x88add6['botID']]['send']({[_0x158f92]:_0x1b7f7c});}});}function storeSettings(_0x3b7d8b,_0x117cc3=![]){const _0x6d9af=_0x462750;_0x3b7d8b={...settings,..._0x3b7d8b};if(_0x117cc3&&_0x3b7d8b[_0x6d9af(0xeb)]!=_0x6d9af(0x1cc)&&_0x3b7d8b['bbPassword']!=''){const _0x5add36=crypt['decrypt'](secure[_0x6d9af(0x171)],_0x3b7d8b['bbPassword'])['message'][_0x6d9af(0x1a3)]('@')[0x0],_0x187a70=bcrypt[_0x6d9af(0x125)](_0x5add36,saltRounds);_0x3b7d8b={..._0x3b7d8b,'bbPassword':_0x187a70};}if(_0x117cc3&&_0x3b7d8b[_0x6d9af(0x132)]!=_0x6d9af(0x1cc)&&_0x3b7d8b[_0x6d9af(0x132)]!=''){const _0x55aece=crypt['decrypt'](secure[_0x6d9af(0x171)],_0x3b7d8b['telegramToken'])[_0x6d9af(0xdb)][_0x6d9af(0x1a3)]('@')[0x0];_0x3b7d8b={..._0x3b7d8b,'telegramToken':_0x55aece};}const _0x1b5644=_0x3b7d8b[_0x6d9af(0x132)]!=_0x6d9af(0x1cc)&&_0x3b7d8b[_0x6d9af(0x132)]!=settings[_0x6d9af(0x132)]||_0x3b7d8b['telegramUsername']!=settings[_0x6d9af(0x1bd)],_0x2297f0=_0x3b7d8b[_0x6d9af(0x132)]==''||_0x3b7d8b[_0x6d9af(0x1bd)]=='';if(_0x1b5644)_0x3b7d8b[_0x6d9af(0x159)]='all';for(const [_0x4c796d,_0x31c383]of Object[_0x6d9af(0xda)](_0x3b7d8b)){if(_0x4c796d==_0x6d9af(0x132)&&_0x31c383==_0x6d9af(0x1cc)){_0x3b7d8b[_0x6d9af(0x132)]=settings['telegramToken'];continue;};if(_0x4c796d=='bbPassword'&&_0x31c383==_0x6d9af(0x1cc)){_0x3b7d8b['bbPassword']=settings['bbPassword'];continue;};dbSettings['set'](_0x6d9af(0xd1)+_0x4c796d,_0x31c383)[_0x6d9af(0x174)]();}settings=_0x3b7d8b;if(socket[_0x6d9af(0x144)])socket[_0x6d9af(0x144)][_0x6d9af(0xe1)](_0x6d9af(0x15e),cleanSettings());broadcastToBots(_0x6d9af(0xc5),settings['timeshift']);if(_0x1b5644&&!_0x2297f0)initTelegram();if(_0x1b5644&&_0x2297f0)disableTelegram();for(let _0x55836b in socket){setAccess(_0x55836b);}}function updateSetting(_0x51fbc7,_0x5cccf8){const _0x90d552=_0x462750;dbSettings[_0x90d552(0xc9)](_0x90d552(0xd1)+_0x51fbc7,_0x5cccf8)[_0x90d552(0x174)](),settings=getSettings();if(socket['botmanager'])socket['botmanager'][_0x90d552(0xe1)](_0x90d552(0x15e),cleanSettings());}function storeSecure(_0x41ca8f){const _0x4c1b2b=_0x462750;dbSecure[_0x4c1b2b(0x100)](_0x4c1b2b(0x15b))[_0x4c1b2b(0x1b3)](_0x41ca8f)[_0x4c1b2b(0x174)](),secure=_0x41ca8f;}function addBlacklist(){const _0x2b6cef=_0x462750;cleanBlacklist();let _0x46d38a;telegramIpApproval?_0x46d38a=Math[_0x2b6cef(0x1b9)](telegramIpApproval[_0x2b6cef(0xcc)],loginExpiry):_0x46d38a=loginExpiry,dbSecure['get'](_0x2b6cef(0x19c))[_0x2b6cef(0x1b3)]({'expiry':new Date()[_0x2b6cef(0x114)]()+_0x46d38a*0x3c*0x3e8,'token':token})[_0x2b6cef(0x174)](),blacklist=dbSecure[_0x2b6cef(0x100)](_0x2b6cef(0x19c))['value']();}function cleanBlacklist(){const _0x2dc79d=_0x462750;let _0x266673=dbSecure['get'](_0x2dc79d(0x19c))[_0x2dc79d(0x126)]()[_0x2dc79d(0xf1)](),_0x3ec8a2=new Date()['getTime']();_0x266673[_0x2dc79d(0x10b)](_0x2e70be=>{const _0x472610=_0x2dc79d;_0x2e70be[_0x472610(0xcc)]<_0x3ec8a2&&dbSecure[_0x472610(0x100)]('blacklist')[_0x472610(0x121)]({'expiry':_0x2e70be[_0x472610(0xcc)]})['write']();});}function initStates(){const _0x5170d2=_0x462750;let _0x3bbb90=getConfiguration();_0x3bbb90[_0x5170d2(0x10b)](_0x294052=>{const _0x1c9529=_0x5170d2;_0x294052[_0x1c9529(0x102)]=_0x1c9529(0x11a);}),storeConfiguration(_0x3bbb90);}function onKeys(){const _0x58e2f1=new RSA();return new Promise(_0x4ec90c=>{const _0x5df3ab=_0x5320;_0x58e2f1['generateKeyPairAsync']()[_0x5df3ab(0x19b)](_0x44988e=>{_0x4ec90c(_0x44988e);});});}function _0x5320(_0x56aa58,_0x22a370){const _0x153d10=_0x344f();return _0x5320=function(_0x5cf950,_0x13f9cc){_0x5cf950=_0x5cf950-0xc1;let _0x344ffb=_0x153d10[_0x5cf950];return _0x344ffb;},_0x5320(_0x56aa58,_0x22a370);}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x5d938f=_0x462750;let _0x28c600=getConfiguration(),_0x59301c=![];_0x28c600[_0x5d938f(0x10b)](_0x4f15d1=>{const _0x572748=_0x5d938f;if(_0x4f15d1[_0x572748(0x149)]=='running')_0x4f15d1['status']=_0x572748(0x1bc),_0x59301c=!![];else _0x4f15d1[_0x572748(0x149)]=='stopped'&&(_0x4f15d1[_0x572748(0x149)]=_0x572748(0xfb),_0x59301c=!![]);});if(_0x59301c)storeConfiguration(_0x28c600);let _0x4a1f8b=getSecure();if(!_0x4a1f8b[_0x5d938f(0x19a)]('secret')){let _0xdda93b=await generateKeys();_0x4a1f8b[_0x5d938f(0xec)]=_0xdda93b[_0x5d938f(0xec)],_0x4a1f8b['privateKey']=_0xdda93b[_0x5d938f(0x171)],_0x4a1f8b[_0x5d938f(0x10c)]=crypto[_0x5d938f(0xce)](0x20)[_0x5d938f(0x1aa)](_0x5d938f(0x140));;storeSecure(_0x4a1f8b);}let _0xc583b4=getSettings();_0x59301c=![];!_0xc583b4[_0x5d938f(0x19a)]('loginRequired')&&(_0xc583b4[_0x5d938f(0x156)]=![],_0xc583b4['bbUsername']='',_0xc583b4[_0x5d938f(0xeb)]='',_0xc583b4['f2aRequired']=![],_0x59301c=!![]);!_0xc583b4[_0x5d938f(0x19a)](_0x5d938f(0x11f))&&(_0xc583b4[_0x5d938f(0x11f)]=![],_0xc583b4['whitelist']=[],_0xc583b4[_0x5d938f(0x117)]=![],_0x59301c=!![]);if(!_0xc583b4[_0x5d938f(0x19a)]('telegramEnabled')){if(_0xc583b4[_0x5d938f(0x18e)])_0xc583b4['telegramEnabled']=!![];else _0xc583b4[_0x5d938f(0x135)]=![];_0x59301c=!![];}if(_0x59301c)storeSettings(_0xc583b4);}function storeConfiguration(_0x2fd388){const _0x46faef=_0x462750;dbConfig['get']('bots')[_0x46faef(0x121)]()[_0x46faef(0x174)](),dbConfig[_0x46faef(0x100)]('bots')[_0x46faef(0x1b3)](..._0x2fd388)[_0x46faef(0x174)](),config=_0x2fd388;}function resetPassword(){const _0x227a54=_0x462750;tgBot&&settings[_0x227a54(0x18e)]&&(tgBot[_0x227a54(0xf3)](_0x227a54(0x11d)),tgBot[_0x227a54(0x119)](settings['telegramChatId'],_0x227a54(0x169),{'parse_mode':_0x227a54(0xd6),'reply_markup':{'inline_keyboard':[[{'text':_0x227a54(0x1ac),'callback_data':_0x227a54(0x1ac)},{'text':'no','callback_data':'no'}]]}})['catch'](_0x21caa6=>{telegramError(_0x21caa6);}),tgBot['on'](_0x227a54(0x11d),async _0x5b993c=>{const _0x1006d6=_0x227a54,_0x49256d=_0x5b993c[_0x1006d6(0x191)],_0x37bddb=_0x5b993c[_0x1006d6(0xdb)];tgBot[_0x1006d6(0xf9)](_0x5b993c['id'])[_0x1006d6(0x19b)](async()=>{const _0x2c5355=_0x1006d6;if(_0x49256d!='no'){const _0xdaa6df=0xf,_0x41ed09='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$',_0x26988c=Array[_0x2c5355(0x1b5)](crypto[_0x2c5355(0x195)](new Uint32Array(_0xdaa6df)))['map'](_0x2534c5=>_0x41ed09[_0x2534c5%_0x41ed09[_0x2c5355(0x1a2)]])[_0x2c5355(0xdc)](''),_0x4509b4=bcrypt[_0x2c5355(0x125)](_0x26988c,saltRounds);storeSettings({'bbPassword':_0x4509b4}),await tgBot['sendMessage'](_0x37bddb[_0x2c5355(0x1af)]['id'],_0x2c5355(0xe8)+_0x26988c,{'parse_mode':_0x2c5355(0xd6)})[_0x2c5355(0x151)](_0x2ec012=>{telegramError(_0x2ec012);});}else await tgBot[_0x2c5355(0x119)](_0x37bddb[_0x2c5355(0x1af)]['id'],_0x2c5355(0x183))[_0x2c5355(0x151)](_0x29560a=>{telegramError(_0x29560a);});}),tgBot[_0x1006d6(0xf3)](_0x1006d6(0x11d));}));}function logging(_0x5c9ad2){const _0x2cb148=_0x462750;console['log'](getTimeStamp()+_0x2cb148(0x182)+_0x5c9ad2);if(tgBot&&settings['telegramChatId']&&settings[_0x2cb148(0x159)]!=_0x2cb148(0x1ad))tgBot['sendMessage'](settings[_0x2cb148(0x18e)],_0x2cb148(0x185)+_0x5c9ad2)[_0x2cb148(0x151)](_0x54bbc5=>{telegramError(_0x54bbc5);});}function getServerTime(){const _0x15232b=_0x462750,_0x4f6fe9=new Date();return _0x4f6fe9['getFullYear']()+'/'+(_0x4f6fe9[_0x15232b(0xca)]()+0x1)[_0x15232b(0x1aa)]()[_0x15232b(0x173)](0x2,'0')+'/'+_0x4f6fe9['getDate']()['toString']()[_0x15232b(0x173)](0x2,'0')+'\x20'+_0x4f6fe9[_0x15232b(0x15f)]()[_0x15232b(0x1aa)]()['padStart'](0x2,'0')+':'+_0x4f6fe9[_0x15232b(0x142)]()[_0x15232b(0x1aa)]()['padStart'](0x2,'0')+':'+_0x4f6fe9[_0x15232b(0x1da)]()[_0x15232b(0x1aa)]()[_0x15232b(0x173)](0x2,'0');}function getTimeStamp(){const _0x3223ad=_0x462750,_0x3edcd7=shiftedTime();return _0x3edcd7[_0x3223ad(0x138)]()+'/'+(_0x3edcd7[_0x3223ad(0xca)]()+0x1)['toString']()[_0x3223ad(0x173)](0x2,'0')+'/'+_0x3edcd7[_0x3223ad(0x1ce)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x3edcd7[_0x3223ad(0x15f)]()[_0x3223ad(0x1aa)]()[_0x3223ad(0x173)](0x2,'0')+':'+_0x3edcd7[_0x3223ad(0x142)]()[_0x3223ad(0x1aa)]()[_0x3223ad(0x173)](0x2,'0')+':'+_0x3edcd7[_0x3223ad(0x1da)]()['toString']()[_0x3223ad(0x173)](0x2,'0');}function shiftedTime(){const _0x2e715f=_0x462750,_0x19033d=new Date();let _0x1b3ab8=_0x19033d;if(settings[_0x2e715f(0xc5)]&&settings['timeshift']!==0x0)_0x1b3ab8=fns[_0x2e715f(0x12e)](_0x19033d,{'hours':settings[_0x2e715f(0xc5)]});return _0x1b3ab8;}function startAnalytics(){let _0x4ae4a5=new Date()['getUTCHours']();_0x4ae4a5==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x1c3ab6=_0x462750;analytics[_0x1c3ab6(0x10f)]({'title':'Balance\x20Bot\x20Server','href':_0x1c3ab6(0x1a1),'path':'/v'+serverversion});}function validateCredentials(_0x2a8e13){const _0x43bb6a=_0x462750;if(_0x2a8e13[_0x43bb6a(0x14d)]==settings[_0x43bb6a(0xc4)]&&bcrypt['compareSync'](_0x2a8e13[_0x43bb6a(0xfc)],settings['bbPassword'])){if(settings['f2aRequired'])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x2625fc=generateLoginToken();return{'allow':!![],'reason':_0x43bb6a(0x112),'token':_0x2625fc};}}else return{'allow':![],'reason':_0x43bb6a(0xd4),'token':null};}function refreshToken(){const _0x274a09=_0x462750,_0x13fa54=generateLoginToken();return{'allow':!![],'reason':_0x274a09(0x112),'token':_0x13fa54};}function validateAccess(_0x5a96e4){const _0x2450bf=_0x462750;let _0x2f60ec;const _0x3c994f=_0x169aa7=>{const _0x19840b=_0x5320;if(settings[_0x19840b(0x156)]){if(settings['f2aRequired']){if(telegram2FaApproved()){const _0x38a56b=generateLoginToken();return{'allow':!![],'reason':_0x19840b(0x1b2),'token':_0x38a56b};}else return{'allow':![],'reason':_0x19840b(0x1d6),'token':null};}else return _0x2f60ec=validToken(_0x169aa7),_0x2f60ec[_0x19840b(0x19a)]('success')?{'allow':!![],'reason':_0x19840b(0x152),'token':_0x169aa7}:{'allow':![],'reason':'login\x20required','token':null};}else return{'allow':!![],'reason':_0x19840b(0x1d7),'token':null};};if(settings[_0x2450bf(0x11f)]){let _0x316c5a=[...settings[_0x2450bf(0x19d)],_0x2450bf(0x128),_0x2450bf(0x1db),_0x2450bf(0x120)];if(_0x316c5a[_0x2450bf(0xff)](externalip))return _0x3c994f(_0x5a96e4);else{_0x2f60ec=validToken(_0x5a96e4);if(_0x2f60ec[_0x2450bf(0x19a)]('success'))return _0x3c994f(_0x5a96e4);else{if(telegramIpApproved()){const _0x3e62c0=generateToken();return _0x2f60ec=_0x3c994f(_0x5a96e4),_0x2f60ec[_0x2450bf(0xcf)]?{'allow':!![],'reason':_0x2450bf(0x1cf),'token':_0x3e62c0}:_0x2f60ec;}else return settings[_0x2450bf(0x117)]?{'allow':![],'reason':_0x2450bf(0x188),'token':null}:{'allow':![],'reason':_0x2450bf(0x10e),'token':null};}}}else return _0x3c994f(_0x5a96e4);}function timelyDecrypt(_0xeb82e8,_0x2d07c9=!![]){const _0x37765e=_0x462750;if(_0xeb82e8)try{const _0x2924b6=crypt[_0x37765e(0xd0)](secure['privateKey'],_0xeb82e8)['message'],_0x1df136=_0x2924b6[_0x37765e(0x1a3)]('@')[0x0],_0x411210=_0x2924b6[_0x37765e(0x1a3)]('@')[0x1],_0xca18a9=new Date()[_0x37765e(0x114)]();if(_0x2d07c9){if(_0xca18a9-_0x411210<maxSecretAge*0x3e8)return _0x1df136;else return![];}else return _0x1df136;}catch{return![];}else return![];}const validToken=_0x1a46f9=>{const _0x526b95=_0x462750;if(!_0x1a46f9)return{'error':_0x526b95(0x13f)};for(let _0x23621a of blacklist){if(_0x23621a[_0x526b95(0xc7)]==_0x1a46f9)return{'error':_0x526b95(0x1d5)};}let _0xe046ec;try{_0xe046ec=jwt[_0x526b95(0xf7)](_0x1a46f9,secure[_0x526b95(0x10c)]+uuid);}catch{return{'error':_0x526b95(0x1bb)};}if(!_0xe046ec[_0x526b95(0x19a)]('clientip')&&!_0xe046ec[_0x526b95(0x19a)](_0x526b95(0x14d))||!_0xe046ec[_0x526b95(0x19a)](_0x526b95(0x1a4)))return{'error':_0x526b95(0xe3)};if(!_0xe046ec[_0x526b95(0x19a)]('username')&&_0xe046ec[_0x526b95(0x19a)](_0x526b95(0xc3))){const {clientip:_0x580f77}=_0xe046ec;return externalip==_0x580f77?{'success':'User\x20has\x20been\x20validated'}:{'error':'Invalid\x20IP\x20address'};}else{if(_0xe046ec['hasOwnProperty'](_0x526b95(0x14d))&&_0xe046ec[_0x526b95(0x19a)](_0x526b95(0xc3))){const {username:_0xab64e9,clientip:_0x3ebd08}=_0xe046ec;return settings[_0x526b95(0xc4)]==_0xab64e9&&externalip==_0x3ebd08?{'success':_0x526b95(0x1ca)}:{'error':_0x526b95(0x14e)};}}},generateLoginToken=()=>{const _0x547c09=_0x462750;if(uuid)return jwt[_0x547c09(0x189)]({'username':settings[_0x547c09(0xc4)],'clientip':externalip},secure['secret']+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x26995e=_0x462750;if(uuid)return jwt['sign']({'clientip':externalip},secure[_0x26995e(0x10c)]+uuid,{'expiresIn':telegramIpApproval[_0x26995e(0xcc)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x5e84c4=_0x462750;let _0x3df263=![];return telegramIpApproval&&telegramIpApproval[_0x5e84c4(0xcc)]!=_0x5e84c4(0x190)&&(_0x3df263=telegramIpApproval[_0x5e84c4(0xc3)]==externalip&&new Date()[_0x5e84c4(0x114)]()-telegramIpApproval[_0x5e84c4(0x12c)]<telegramIpApproval['expiry']*0x3c*0x3e8),_0x3df263;},telegram2FaApproved=()=>{const _0x3c64c2=_0x462750;let _0x369aed=![];return telegram2FaApproval&&telegram2FaApproval['expiry']!=_0x3c64c2(0x190)&&(_0x369aed=telegram2FaApproval[_0x3c64c2(0xc3)]==externalip&&new Date()[_0x3c64c2(0x114)]()-telegram2FaApproval[_0x3c64c2(0x12c)]<telegram2FaApproval[_0x3c64c2(0xcc)]*0x3c*0x3e8),_0x369aed;},normalizeIP=_0x51fd31=>{const _0x480b3d=_0x462750;let _0x1acf23=null,_0x1bf66b=null;if(ipaddr[_0x480b3d(0x196)](_0x51fd31)){const _0x5d374a=ipaddr[_0x480b3d(0x166)](_0x51fd31);_0x5d374a[_0x480b3d(0x101)]()===_0x480b3d(0x16e)?(_0x5d374a[_0x480b3d(0x186)]()&&(_0x1acf23=_0x5d374a[_0x480b3d(0x108)]()[_0x480b3d(0x1aa)]()),_0x1bf66b=_0x5d374a[_0x480b3d(0x1aa)]()):(_0x1acf23=_0x5d374a[_0x480b3d(0x1aa)](),_0x1bf66b=_0x5d374a['toIPv4MappedAddress']()[_0x480b3d(0x1aa)]());}return{'show':_0x1acf23?_0x1acf23:_0x1bf66b,'store':_0x1bf66b};};