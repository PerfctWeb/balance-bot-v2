const _0x34c562=_0x238d;(function(_0x2b5a81,_0x51ec62){const _0x173fe6=_0x238d,_0x546dd2=_0x2b5a81();while(!![]){try{const _0x5bc11=-parseInt(_0x173fe6(0x14f))/0x1+parseInt(_0x173fe6(0xeb))/0x2*(parseInt(_0x173fe6(0xa6))/0x3)+parseInt(_0x173fe6(0x184))/0x4+parseInt(_0x173fe6(0x16a))/0x5+parseInt(_0x173fe6(0x89))/0x6+-parseInt(_0x173fe6(0xce))/0x7+-parseInt(_0x173fe6(0x143))/0x8;if(_0x5bc11===_0x51ec62)break;else _0x546dd2['push'](_0x546dd2['shift']());}catch(_0x465b23){_0x546dd2['push'](_0x546dd2['shift']());}}}(_0x3c29,0xb399c));const _0x43dc6a=function(){let _0x2bcf0b=!![];return function(_0x1c1303,_0x9d45d7){const _0x1af06b=_0x2bcf0b?function(){const _0x1d99dd=_0x238d;if(_0x9d45d7){const _0x570661=_0x9d45d7[_0x1d99dd(0x110)](_0x1c1303,arguments);return _0x9d45d7=null,_0x570661;}}:function(){};return _0x2bcf0b=![],_0x1af06b;};}(),_0x397c26=_0x43dc6a(this,function(){const _0x4de0e9=_0x238d;return _0x397c26['toString']()[_0x4de0e9(0xf3)](_0x4de0e9(0x154))[_0x4de0e9(0x113)]()[_0x4de0e9(0xdc)](_0x397c26)[_0x4de0e9(0xf3)](_0x4de0e9(0x154));});_0x397c26();function _0x238d(_0x11082d,_0x228561){const _0x8a6d21=_0x3c29();return _0x238d=function(_0x397c26,_0x43dc6a){_0x397c26=_0x397c26-0x79;let _0x3c29bf=_0x8a6d21[_0x397c26];return _0x3c29bf;},_0x238d(_0x11082d,_0x228561);}'use strict';process[_0x34c562(0x12d)][_0x34c562(0x11e)]=0x1;const childProcess=require('child_process'),FileSync=require(_0x34c562(0xb6)),fs=require('fs'),fns=require(_0x34c562(0x87)),low=require(_0x34c562(0x19a)),path=require('path'),crypto=require(_0x34c562(0x174)),Crypt=require('hybrid-crypto-js')[_0x34c562(0x120)],RSA=require(_0x34c562(0x13f))[_0x34c562(0x79)],bcrypt=require(_0x34c562(0x10d)),jwt=require(_0x34c562(0x151)),analyticsLib=require(_0x34c562(0x10c))[_0x34c562(0xe8)],googleAnalytics=require('@analytics/google-analytics')[_0x34c562(0xe8)],ipaddr=require(_0x34c562(0xdd));let bbpath=_0x34c562(0xe9);const botfile=_0x34c562(0x7e),configfile=_0x34c562(0xf9),settingsfile=_0x34c562(0x121),securefile=_0x34c562(0xe0);!fs[_0x34c562(0x13b)](bbpath+botfile)&&(bbpath='');function _0x3c29(){const _0x2173b7=['getTime','toString','reset-password','log','notification','Login\x20rejected','/:bot/support','logged\x20out',':\x20Bot\x20Mgr\x20>\x20','static','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','No\x20authentication\x20token','NTBA_FIX_319','get','Crypt','bb-settings.json','/enable\x20-\x20enable\x20notifications\x0a','toIPv4MappedAddress','orders','botname','Notifications\x20enabled\x0a','node-telegram-bot-api','assign','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','entries','clientip','deleted\x20Bot\x20','env','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','add','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','polling_error','kill','unlinkSync','decrypt','2FA\x20required','includes','Invalid\x20authentication\x20token\x20(1)','getDate','express','delete-bot','existsSync','data','temporary\x20access\x20not\x20allowed','type','hybrid-crypto-js','build','\x20minutes','Unauthorized\x20attempt\x20to\x20get\x20portfolio','324304CDWQzA','getUTCHours','exp','5\x20min','get-logs','storeHeadless','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','Alerts','store-settings','apiKey','sendFile','SIGINT','558060twwyWQ','compareSync','jsonwebtoken','<b>Balance\x20Bot\x20status:</b>\x0a','toIPv4Address','(((.+)+)+)+$','blacklist','running','reload','stopPolling','isIPv4MappedAddress','bots','2FA','hasOwnProperty','getHours','keys','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','127.0.0.1','login','headers','from','sha256','login\x20not\x20required','invalid\x20credentials','Bot\x20','whitelistEnabled','access\x20timeout','350840oAHmvl','padStart','remoteAddress','connected','/:bot/coins','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','store','SIGTERM','defaults','-config.json','crypto','disconnect','HTML','filter','-----------------------------------------------------------------------------------','match','timestamp','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','You\x20can\x20use\x20the\x20following\x20commands:\x0a','botmanager','find','Password\x20has\x20been\x20reset\x20to:\x20','-events.json','stopped','timeshift','1231580IEgdMe','publicKey','temporaryAccessAllowed','build2','args','http','privateKey','send','Unauthorized\x20attempt\x20to\x20add\x20bot','getFullYear','update-bot','Bot\x20Mgr\x20>\x20','conn','restart','logout','************','whitelist','removeAllListeners','-performance.json','Notifications\x20types:\x20','answerCallbackQuery','Invalid\x20Telegram\x20token','lowdb','handshake','starting','RSA','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','split','createServer','connection','bot.js','success','\x20/\x20','onText','2FA\x20login\x20required',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','yes','randomBytes','\x20only\x0a','date-fns','remove','5557758DgNDXi','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','telegramEvents','disabled\x20Bot\x20','stop','telegramUsername','catch','error','settings.','telegramToken','Password\x20reset\x20rejected','404\x20Not\x20Found','new-disabled','login\x20token\x20generated','emit','order','\x20|\x20','kind','bbUsername','password','botID','new','exit','once','Balance\x20Bot','store-configuration','1000','temporary\x20token\x20generated','all','1340589ePhyAq','ipv6','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','allow','show','Access\x20enabled\x20for\x20','/help\x20-\x20show\x20avaiable\x20commands\x0a','<b>Telegram\x20bot\x20status:</b>\x0a','fork','encryptedUuid','Balance\x20Bot\x20Server','store-headless','use','randomFillSync','verify','bbPassword','lowdb/adapters/FileSync','sendMessage','All','map','secret','live','message','getSeconds','push','Notifications\x20enabled','https://hodlerhacks.com','getPortfolio','enabled','expiry','max','Notifications\x20disabled\x0a','UA-192771731-1','Unauthorized\x20attempt\x20to\x20log\x20out','enabled\x20Bot\x20','telegramEnabled','settings','removeListener','parse','chat','2918839qOttUZ','alerts','secure','Token\x20blacklisted','/restart\x20-\x20restart\x20a\x20bot\x0a','Unauthorized\x20attempt\x20to\x20store\x20configuration','Notifications\x20disabled','inherit','Unauthorized\x20attempt\x20to\x20update\x20settings','Ok,\x20will\x20send\x20alert\x20notifications\x20only','auth','login\x20token\x20valid','disabled','join','constructor','ipaddr.js','restarting\x20Bot\x20','write','bb-secure.json','forEach','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','f2aRequired','reject','getMonth','::1','page','default','bb/','telegramChatId','2dapgoV','</b>\x20?','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','generateKeyPairAsync','Login\x20accepted','listen','ipc','callback_query','search','User\x20has\x20been\x20validated','2FA\x20login\x20token\x20generated','set','index.html','telegram','bb-config.json','mkdirSync','sign','version','loginRequired','getStartingBalances','login\x20required','username','idling\x20bot\x20\x20\x20|\x20Bot\x20','reason','status','length','bot-','value','then','No\x20bots\x20enabled\x20right\x20now','add-bot','function','/disable\x20-\x20disable\x20notifications\x0a','analytics','bcryptjs','token','hashSync','apply','/:bot/configuration'];_0x3c29=function(){return _0x2173b7;};return _0x3c29();}const configpath=bbpath+'config/';!fs[_0x34c562(0x13b)](configpath)&&fs[_0x34c562(0xfa)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x34c562(0x172)]({'bots':[]})[_0x34c562(0xdf)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings['defaults']({'settings':{'timeshift':0x0}})[_0x34c562(0xdf)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x34c562(0x172)]({'secure':{},'blacklist':[]})['write']();let crypt=new Crypt({'md':_0x34c562(0x164),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+'version.json')[_0x34c562(0xfc)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0x34c562(0x139)),app=express(),http=require(_0x34c562(0x189))[_0x34c562(0x7c)](app);app[_0x34c562(0xb2)](express[_0x34c562(0x11b)](path['join'](__dirname,bbpath,_0x34c562(0x187)))),app[_0x34c562(0xb2)](express[_0x34c562(0x11b)](path[_0x34c562(0xdb)](__dirname,bbpath,_0x34c562(0x140)))),app['get']('/',function(_0x3042e6,_0x28f749){const _0x431f0e=_0x34c562;_0x28f749[_0x431f0e(0x14d)](path['join'](__dirname,bbpath,_0x431f0e(0x187),_0x431f0e(0xf7)));}),app['get']('/:bot',function(_0x2d4357,_0x2ba90a){const _0x24eea1=_0x34c562;_0x2ba90a[_0x24eea1(0x14d)](path['join'](__dirname,bbpath,_0x24eea1(0x140),_0x24eea1(0xf7)));}),app[_0x34c562(0x11f)]('/:bot/portfolio',(_0xc9d6da,_0x3d4ac9)=>{const _0x45def0=_0x34c562;_0x3d4ac9[_0x45def0(0x14d)](path[_0x45def0(0xdb)](__dirname,bbpath,_0x45def0(0x140),_0x45def0(0xf7)));}),app[_0x34c562(0x11f)]('/:bot/performance',(_0x29ef78,_0x40fb8f)=>{const _0x2b1b05=_0x34c562;_0x40fb8f['sendFile'](path[_0x2b1b05(0xdb)](__dirname,bbpath,'build',_0x2b1b05(0xf7)));}),app[_0x34c562(0x11f)](_0x34c562(0x16e),(_0x8d12ab,_0xf69cb0)=>{const _0x3484dd=_0x34c562;_0xf69cb0[_0x3484dd(0x14d)](path[_0x3484dd(0xdb)](__dirname,bbpath,_0x3484dd(0x140),'index.html'));}),app['get']('/:bot/history',(_0x3adfe0,_0x177046)=>{const _0x47f735=_0x34c562;_0x177046[_0x47f735(0x14d)](path[_0x47f735(0xdb)](__dirname,bbpath,_0x47f735(0x140),_0x47f735(0xf7)));}),app[_0x34c562(0x11f)](_0x34c562(0x111),(_0x190e1d,_0x55cb0e)=>{const _0x4c80ae=_0x34c562;_0x55cb0e['sendFile'](path[_0x4c80ae(0xdb)](__dirname,bbpath,_0x4c80ae(0x140),'index.html'));}),app[_0x34c562(0x11f)](_0x34c562(0x118),(_0x211149,_0x1fd5df)=>{const _0x50e1fd=_0x34c562;_0x1fd5df[_0x50e1fd(0x14d)](path['join'](__dirname,bbpath,_0x50e1fd(0x140),_0x50e1fd(0xf7)));}),http[_0x34c562(0xf0)](PORT);const analytics=analyticsLib({'app':_0x34c562(0xa1),'plugins':[googleAnalytics({'trackingId':_0x34c562(0xc6)})]}),TelegramBot=require(_0x34c562(0x127));let tgBot;if(settings[_0x34c562(0x92)]&&settings[_0x34c562(0x92)]!=''&&settings[_0x34c562(0x8e)]&&settings[_0x34c562(0x8e)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x50dcc7=_0x34c562;console[_0x50dcc7(0x115)](''),console['log'](_0x50dcc7(0x178)),logging(_0x50dcc7(0x15f)+PORT),console[_0x50dcc7(0x115)](_0x50dcc7(0x178));if(config['length']!=0x0)config['forEach'](_0x194ffe=>{const _0x449848=_0x50dcc7;if(_0x194ffe[_0x449848(0x103)]==_0x449848(0xc2)||_0x194ffe['status']==_0x449848(0x9e))logging('starting\x20bot\x20|\x20Bot\x20'+_0x194ffe['botID']+_0x449848(0x99)+_0x194ffe[_0x449848(0x125)]),startBot([_0x194ffe[_0x449848(0x9d)]],{'cwd':bbpath},function(_0x176739){if(_0x176739)logging(_0x176739);});else(_0x194ffe[_0x449848(0x103)]==_0x449848(0xda)||_0x194ffe['status']==_0x449848(0x95))&&logging(_0x449848(0x101)+_0x194ffe[_0x449848(0x9d)]+'\x20|\x20'+_0x194ffe[_0x449848(0x125)]);});else!newBot&&console[_0x50dcc7(0x115)](_0x50dcc7(0x130));if(newBot)addBot();console['log'](_0x50dcc7(0x178)),console[_0x50dcc7(0x115)]('');}function startSocket(){const _0x1f60cb=_0x34c562,_0x5df3e8=require('socket.io')(http,{});_0x5df3e8['on'](_0x1f60cb(0x7d),_0x2e9c30=>{const _0xee0700=_0x1f60cb;let _0x345ab1,_0x31d5cc,_0x446779;const _0x519963=_0x2e9c30[_0xee0700(0x19b)][_0xee0700(0x162)]['referer'],_0x40e1e3=_0x2e9c30[_0xee0700(0x19b)]['auth'][_0xee0700(0xaf)];if(!_0x40e1e3)_0x2e9c30[_0xee0700(0x97)](_0xee0700(0x103),{'publicKey':secure['publicKey']});else{uuid=timelyDecrypt(_0x2e9c30[_0xee0700(0x19b)][_0xee0700(0xd8)][_0xee0700(0xaf)],![]),_0x31d5cc=_0x519963[_0xee0700(0x179)](/bot[0-9]{3}/);if(_0x31d5cc)_0x446779=_0x31d5cc[0x0]['match'](/[0-9]{3}/);if(_0x446779)_0x345ab1=_0x446779[0x0];else _0x345ab1='botmanager';if(socket[_0x345ab1])socket[_0x345ab1]['disconnect'](!![]);socket[_0x345ab1]=_0x2e9c30,setAccess(_0x345ab1);if(accessControl[_0xee0700(0xa9)]){if(_0x345ab1==_0xee0700(0x17e))initializeSocketBotManager();else initializeSocketBot(_0x345ab1);}if(!serverStatus[_0x345ab1])serverStatus[_0x345ab1]=_0xee0700(0x16d);socket[_0x345ab1]['on'](_0xee0700(0x161),_0x42b6d7=>{const _0x46f10b=_0xee0700,_0x1392ce=timelyDecrypt(_0x42b6d7['password']);if(_0x1392ce){_0x42b6d7={'username':_0x42b6d7[_0x46f10b(0x100)],'password':_0x1392ce};let _0x3898b4=validateCredentials(_0x42b6d7);if(_0x3898b4[_0x46f10b(0xa9)]==![]&&_0x3898b4[_0x46f10b(0x102)]==_0x46f10b(0x82))socket[_0x345ab1]['emit'](_0x46f10b(0x103),{'access':_0x3898b4}),loginAccess2FA(externalip);else{if(_0x3898b4[_0x46f10b(0xa9)]==![]&&_0x3898b4['reason']==_0x46f10b(0x166))socket[_0x345ab1][_0x46f10b(0x97)]('status',{'access':_0x3898b4});else{if(_0x3898b4[_0x46f10b(0xa9)]&&_0x3898b4['reason']==_0x46f10b(0x96)){token=_0x3898b4['token'];for(let _0x366c77 in socket){if(_0x366c77==_0x46f10b(0x17e))initializeSocketBotManager();else initializeSocketBot(_0x366c77);socket[_0x366c77][_0x46f10b(0x97)]('status',{'status':serverStatus[_0x366c77]||_0x46f10b(0x19c),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x3898b4,'externalip':externalip,'publicKey':secure[_0x46f10b(0x185)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x46f10b(0x161));}}}}else logging(_0x46f10b(0xe2));}),socket[_0x345ab1]['on'](_0xee0700(0x114),()=>{resetPassword();}),socket[_0x345ab1]['on'](_0xee0700(0x175),_0x303d08=>{let _0x49cca5=[];for(let _0x5030ee in socket){if(_0x5030ee!=_0x345ab1)_0x49cca5[_0x5030ee]=socket[_0x5030ee];}socket=_0x49cca5;});if(_0x345ab1!=_0xee0700(0x17e)&&config[_0xee0700(0x14c)]!=''){if(pid[_0x345ab1])pid[_0x345ab1]['send']({'function':'initclient','args':null});}}});}function setAccess(_0x3ac87e){const _0x48e030=_0x34c562;externalip=normalizeIP(socket[_0x3ac87e][_0x48e030(0x190)][_0x48e030(0x16c)])[_0x48e030(0x170)],accessControl=validateAccess(token),accessControl[_0x48e030(0x10e)]&&accessControl['reason']==_0x48e030(0xa4)&&setSessionTimeout(_0x48e030(0x15b)),accessControl[_0x48e030(0x10e)]&&accessControl[_0x48e030(0x102)]==_0x48e030(0xf5)&&setSessionTimeout(_0x48e030(0x161)),socket[_0x3ac87e][_0x48e030(0x97)](_0x48e030(0x103),{'status':serverStatus[_0x3ac87e]||_0x48e030(0x19c),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':accessControl[_0x48e030(0x102)]==_0x48e030(0xff)||accessControl[_0x48e030(0x102)]==_0x48e030(0x82)}),accessControl[_0x48e030(0xa9)]==![]&&accessControl['reason']==_0x48e030(0x135)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0xe1b97f){const _0xb5c6a1=_0x34c562;let _0x5a3200;if(_0xe1b97f==_0xb5c6a1(0x161))_0x5a3200=loginExpiry*0x3c*0x3e8;else _0x5a3200=telegramIpApproval[_0xb5c6a1(0xc3)]*0x3c*0x3e8-(new Date()['getTime']()-telegramIpApproval[_0xb5c6a1(0x17a)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x8d2367=_0xb5c6a1;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x5186f6=validateAccess(token);if(!(_0x5186f6[_0x8d2367(0xa9)]&&_0x5186f6[_0x8d2367(0x102)]=='login\x20not\x20required'))for(let _0x32f75b in socket){socket[_0x32f75b][_0x8d2367(0x97)](_0x8d2367(0x103),{'access':{'allow':![],'reason':_0x8d2367(0x169),'token':null}});}token=null;},_0x5a3200);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x33ef84=_0x238d;let _0x24422e=refreshToken();for(let _0x35d9ea in socket){socket[_0x35d9ea]['emit'](_0x33ef84(0x103),{'status':serverStatus[_0x35d9ea]||_0x33ef84(0x19c),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x24422e,'externalip':externalip,'publicKey':secure[_0x33ef84(0x185)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0xb3b036=_0x34c562;socket[_0xb3b036(0x17e)]['emit'](_0xb3b036(0x15a),config),socket[_0xb3b036(0x17e)]['emit'](_0xb3b036(0xca),cleanSettings()),socket[_0xb3b036(0x17e)]['on'](_0xb3b036(0x109),_0x3a1635=>{const _0x5c8ee2=_0xb3b036;if(validateAccess(_0x3a1635)[_0x5c8ee2(0xa9)])addBot();else logging(_0x5c8ee2(0x18c));}),socket[_0xb3b036(0x17e)]['on'](_0xb3b036(0x18e),(_0x25c928,_0x3b343b)=>{const _0x4ba424=_0xb3b036;if(validateAccess(_0x3b343b)[_0x4ba424(0xa9)])toggleBot(_0x25c928[_0x4ba424(0x9d)],_0x25c928[_0x4ba424(0x103)],_0x25c928[_0x4ba424(0xbb)]);else logging('Unauthorized\x20attempt\x20to\x20update\x20bot');}),socket['botmanager']['on'](_0xb3b036(0x13a),(_0x38e7e4,_0x27b85e)=>{if(validateAccess(_0x27b85e)['allow'])deleteBot(_0x38e7e4);else logging('Unauthorized\x20attempt\x20to\x20delete\x20bot');}),socket['botmanager']['on'](_0xb3b036(0x14b),(_0x302906,_0x7c5722)=>{const _0x4e4815=_0xb3b036;if(validateAccess(_0x7c5722)[_0x4e4815(0xa9)])storeSettings(_0x302906,!![]);else logging(_0x4e4815(0xd6));}),socket['botmanager']['on'](_0xb3b036(0x192),_0x16ad20=>{const _0x130e17=_0xb3b036;if(validateAccess(_0x16ad20)['allow']){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x26856f in socket){socket[_0x26856f][_0x130e17(0x97)]('status',{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x130e17(0xc7));});}function initializeSocketBot(_0x5dce5a){const _0x151674=_0x34c562;socket[_0x5dce5a]['on'](_0x151674(0x147),(_0x13ebd3,_0x4f1792)=>{const _0x4ce1d6=_0x151674;if(validateAccess(_0x4f1792)[_0x4ce1d6(0xa9)]){if(pid[_0x5dce5a])pid[_0x5dce5a]['send']({'function':'emitHistory','args':_0x13ebd3});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),socket[_0x5dce5a]['on']('get-portfolio',(_0x1e3e93,_0x5d7dfc)=>{const _0x2ceed4=_0x151674;if(validateAccess(_0x5d7dfc)[_0x2ceed4(0xa9)]){if(pid[_0x5dce5a])pid[_0x5dce5a][_0x2ceed4(0x18b)]({'function':_0x2ceed4(0xc1),'args':_0x1e3e93});}else logging(_0x2ceed4(0x142));}),socket[_0x5dce5a]['on'](_0x151674(0xa2),(_0x3c5b51,_0x2e942f)=>{const _0x230a30=_0x151674;if(validateAccess(_0x2e942f)[_0x230a30(0xa9)]){if(pid[_0x5dce5a])pid[_0x5dce5a][_0x230a30(0x18b)]({'function':'storeConfiguration','args':_0x3c5b51});}else logging(_0x230a30(0xd3));}),socket[_0x5dce5a]['on'](_0x151674(0xb1),(_0x37edec,_0xb8dbb2)=>{const _0x599257=_0x151674;if(validateAccess(_0xb8dbb2)[_0x599257(0xa9)]){if(pid[_0x5dce5a])pid[_0x5dce5a][_0x599257(0x18b)]({'function':_0x599257(0x148),'args':_0x37edec});}else logging(_0x599257(0x17c));}),socket[_0x5dce5a]['on']('get-starting-balances',_0x2beafa=>{const _0x46d440=_0x151674;if(validateAccess(_0x2beafa)[_0x46d440(0xa9)]){if(pid[_0x5dce5a])pid[_0x5dce5a][_0x46d440(0x18b)]({'function':_0x46d440(0xfe),'args':null});}else logging('Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances');}),socket[_0x5dce5a]['on']('place-order',(_0x5f3ddc,_0x112eeb)=>{const _0x1e4088=_0x151674;if(validateAccess(_0x112eeb)[_0x1e4088(0xa9)]){if(pid[_0x5dce5a])pid[_0x5dce5a][_0x1e4088(0x18b)]({'function':'placeOrder','args':_0x5f3ddc});}else logging('Unauthorized\x20attempt\x20to\x20place\x20market\x20order');}),socket[_0x5dce5a]['on'](_0x151674(0x192),_0x314c12=>{const _0x15db85=_0x151674;if(validateAccess(_0x314c12)[_0x15db85(0xa9)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x12e277 in socket){socket[_0x12e277][_0x15db85(0x97)]('status',{'access':{'allow':![],'reason':_0x15db85(0x119),'token':null}});}}else logging(_0x15db85(0xc7));});}function removeSocketListeners(){const _0x5d2d04=_0x34c562;for(let _0x46c9fe in socket){socket[_0x46c9fe][_0x5d2d04(0x195)]();}}function cleanSettings(){const _0x1d8a66=_0x34c562;let _0x1afb02=settings;return settings[_0x1d8a66(0x92)]&&settings['telegramToken']!=''&&(_0x1afb02={..._0x1afb02,'telegramToken':'************'}),settings[_0x1d8a66(0xb5)]&&settings[_0x1d8a66(0xb5)]!=''&&(_0x1afb02={..._0x1afb02,'bbPassword':'************'}),_0x1afb02;}function startBot(_0x730c8b,_0x3ea3fc,_0x3a837b){const _0x14c665=_0x34c562;let _0x370b84=![];const _0x3380d7=_0x730c8b[0x0];_0x3ea3fc={..._0x3ea3fc,'stdio':[_0x14c665(0xd5),_0x14c665(0xd5),_0x14c665(0xd5),_0x14c665(0xf1)]},pid[_0x3380d7]=childProcess[_0x14c665(0xae)](botfile,_0x730c8b,_0x3ea3fc),pid[_0x3380d7]['on'](_0x14c665(0xbc),_0x119a2f=>{const _0x337081=_0x14c665;switch(Object[_0x337081(0x15e)](_0x119a2f)[0x0]){case'botname':updateBotName(_0x3380d7,_0x119a2f[_0x337081(0x125)]);break;case _0x337081(0x103):updateStatus(_0x3380d7,_0x119a2f[_0x337081(0x103)]);break;case'live':updateLive(_0x3380d7,_0x119a2f[_0x337081(0xbb)]);break;case'started':updateLive(_0x3380d7,_0x119a2f['started']);if(socket[_0x3380d7])socket[_0x3380d7][_0x337081(0x97)](_0x337081(0x103),{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x337081(0x8d):_0x119a2f[_0x337081(0x8d)]==_0x337081(0x191)&&stopBot(_0x3380d7);_0x119a2f[_0x337081(0x8d)]==_0x337081(0x132)&&toggleBot(_0x3380d7,'disabled',_0x337081(0x182));break;case _0x337081(0xf8):sendTelegram(_0x3380d7,_0x119a2f[_0x337081(0xf8)]);break;case _0x337081(0x10a):if(socket[_0x3380d7])socket[_0x3380d7][_0x337081(0x97)](_0x119a2f['function'],_0x119a2f[_0x337081(0x188)]);break;}}),pid[_0x3380d7]['on'](_0x14c665(0x90),function(_0x3819d3){if(_0x370b84)return;_0x370b84=!![],_0x3a837b(_0x3819d3);}),pid[_0x3380d7]['on'](_0x14c665(0x9f),function(_0x40f90f){const _0x54106b=_0x14c665;if(_0x370b84)return;_0x370b84=!![],_0x3a837b(null);const _0x103b8c=dbConfig[_0x54106b(0x11f)](_0x54106b(0x15a))[_0x54106b(0x17f)]({'botID':_0x3380d7})['value']();_0x103b8c&&(_0x103b8c['status']==_0x54106b(0xc2)||_0x103b8c[_0x54106b(0x103)]==_0x54106b(0x9e))&&(updateLive(_0x3380d7,_0x54106b(0x182)),logging(_0x54106b(0xde)+_0x3380d7),startBot([_0x3380d7],{'cwd':bbpath},function(_0x25a1ed){if(_0x25a1ed)logging(_0x25a1ed);}));});}function stopBot(_0x460f7a){const _0x172eb4=_0x34c562;if(socket[_0x460f7a])socket[_0x460f7a][_0x172eb4(0x175)](!![]);if(pid[_0x460f7a])pid[_0x460f7a][_0x172eb4(0x132)]();}function addBot(){const _0x18e661=_0x34c562;let _0x3315dd;for(let _0x1b507c=0x1;_0x1b507c<0x3e9;_0x1b507c++){_0x3315dd=_0x1b507c[_0x18e661(0x113)]()[_0x18e661(0x16b)](0x3,'0');let _0x514738=config[_0x18e661(0x17f)](_0x2b254c=>_0x2b254c[_0x18e661(0x9d)]==_0x3315dd);if(!_0x514738)break;}if(_0x3315dd===_0x18e661(0xa3)){logging(_0x18e661(0x16f));return;}logging('starting\x20new\x20bot\x20|\x20Bot\x20'+_0x3315dd),dbConfig[_0x18e661(0x11f)](_0x18e661(0x15a))[_0x18e661(0xbe)]({'botID':_0x3315dd,'botname':'Bot\x20'+_0x3315dd,'status':_0x18e661(0x9e),'live':''})[_0x18e661(0xdf)](),startBot([_0x3315dd],{'cwd':bbpath},function(_0x53a6c0){if(_0x53a6c0)logging(_0x53a6c0);}),config=getConfiguration();if(socket[_0x18e661(0x17e)])socket[_0x18e661(0x17e)][_0x18e661(0x97)]('bots',config);}function deleteBot(_0x4652fc){const _0xf3ac27=_0x34c562;if(socket[_0x4652fc])socket[_0x4652fc][_0xf3ac27(0x175)](!![]);dbConfig[_0xf3ac27(0x11f)]('bots')[_0xf3ac27(0x88)]({'botID':_0x4652fc})['write'](),logging(_0xf3ac27(0x12c)+_0x4652fc),stopBot(_0x4652fc);try{fs[_0xf3ac27(0x133)](path['join'](configpath,_0xf3ac27(0x105)+_0x4652fc+_0xf3ac27(0x173))),fs[_0xf3ac27(0x133)](path[_0xf3ac27(0xdb)](configpath,_0xf3ac27(0x105)+_0x4652fc+_0xf3ac27(0x181))),fs['unlinkSync'](path['join'](configpath,_0xf3ac27(0x105)+_0x4652fc+_0xf3ac27(0x196))),fs[_0xf3ac27(0x133)](path['join'](configpath,_0xf3ac27(0x105)+_0x4652fc+'-results.json'));}catch(_0x306583){if(_0x306583)logging('error\x20while\x20deleting\x20log\x20files:\x20',_0x306583);}config=getConfiguration();if(socket['botmanager'])socket[_0xf3ac27(0x17e)][_0xf3ac27(0x97)](_0xf3ac27(0x15a),config);}function toggleBot(_0xb78d7c,_0x23cba6,_0x346d72){const _0x54e37d=_0x34c562;dbConfig[_0x54e37d(0x11f)](_0x54e37d(0x15a))[_0x54e37d(0x17f)]({'botID':_0xb78d7c})[_0x54e37d(0x128)]({'status':_0x23cba6})[_0x54e37d(0x128)]({'live':_0x346d72})[_0x54e37d(0xdf)]();if(_0x23cba6=='enabled'||_0x23cba6==_0x54e37d(0x9e))logging(_0x54e37d(0xc8)+_0xb78d7c),startBot([_0xb78d7c],{'cwd':bbpath},function(_0x17a8d3){if(_0x17a8d3)logging(_0x17a8d3);});else(_0x23cba6==_0x54e37d(0xda)||_0x23cba6=='new-disabled')&&(logging(_0x54e37d(0x8c)+_0xb78d7c),stopBot(_0xb78d7c));config=getConfiguration();if(socket[_0x54e37d(0x17e)])socket['botmanager'][_0x54e37d(0x97)](_0x54e37d(0x15a),config);}function updateStatus(_0x28701d,_0x5b1a8f){const _0x5eeea7=_0x34c562;dbConfig[_0x5eeea7(0x11f)](_0x5eeea7(0x15a))[_0x5eeea7(0x17f)]({'botID':_0x28701d})[_0x5eeea7(0x128)]({'status':_0x5b1a8f})[_0x5eeea7(0xdf)](),config=getConfiguration();if(socket[_0x5eeea7(0x17e)])socket[_0x5eeea7(0x17e)][_0x5eeea7(0x97)]('bots',config);}function updateLive(_0x367cbf,_0x1c1ac6){const _0x31e3e7=_0x34c562;dbConfig['get'](_0x31e3e7(0x15a))[_0x31e3e7(0x17f)]({'botID':_0x367cbf})[_0x31e3e7(0x128)]({'live':_0x1c1ac6})[_0x31e3e7(0xdf)](),config=getConfiguration();if(socket['botmanager'])socket[_0x31e3e7(0x17e)][_0x31e3e7(0x97)](_0x31e3e7(0x15a),config);}function updateBotName(_0x504dc7,_0x1ebda8){const _0x3d9120=_0x34c562;dbConfig[_0x3d9120(0x11f)]('bots')[_0x3d9120(0x17f)]({'botID':_0x504dc7})[_0x3d9120(0x128)]({'botname':_0x1ebda8})[_0x3d9120(0xdf)](),config=getConfiguration();if(socket[_0x3d9120(0x17e)])socket[_0x3d9120(0x17e)][_0x3d9120(0x97)](_0x3d9120(0x15a),config);}function telegramError(_0xc04ebc){const _0x188cdf=_0x34c562;console[_0x188cdf(0x115)](getTimeStamp()+_0x188cdf(0x83));}function validateTelegram(_0x3a5503){const _0x2aad98=_0x34c562;if(_0x3a5503[_0x2aad98(0x163)][_0x2aad98(0x100)]!=settings[_0x2aad98(0x8e)]&&'@'+_0x3a5503[_0x2aad98(0x163)][_0x2aad98(0x100)]!=settings[_0x2aad98(0x8e)])return tgBot[_0x2aad98(0xb7)](_0x3a5503['chat']['id'],_0x2aad98(0x149),{'parse_mode':'HTML'})[_0x2aad98(0x8f)](_0x452e45=>{telegramError(_0x452e45);}),![];return!![];}async function initTelegram(){const _0x321a8e=_0x34c562;if(tgBot)tgBot[_0x321a8e(0x158)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x321a8e(0x92)],{'polling':!![]});let _0xb86142=_0x321a8e(0x17d);_0xb86142+='\x0a',_0xb86142+=_0x321a8e(0x122),_0xb86142+=_0x321a8e(0x10b),_0xb86142+='/config\x20-\x20notification\x20types\x20to\x20receive\x0a',_0xb86142+=_0x321a8e(0xd2),_0xb86142+=_0x321a8e(0x17b),_0xb86142+=_0x321a8e(0xac);let _0x3d1cf4=_0x321a8e(0x129);_0x3d1cf4+='\x0a',_0x3d1cf4+=_0xb86142,tgBot[_0x321a8e(0x81)](/\/start/,_0x26cc3e=>{const _0xd3c5c5=_0x321a8e;if(!validateTelegram(_0x26cc3e))return;if(settings['telegramChatId']!=_0x26cc3e[_0xd3c5c5(0xcd)]['id'])updateSetting(_0xd3c5c5(0xea),_0x26cc3e[_0xd3c5c5(0xcd)]['id']);updateSetting('telegramEnabled',!![]),tgBot['sendMessage'](_0x26cc3e['chat']['id'],_0x3d1cf4)[_0xd3c5c5(0x8f)](_0x88c914=>{telegramError(_0x88c914);});}),tgBot[_0x321a8e(0x81)](/\/enable/,_0xc46cb=>{const _0x139a51=_0x321a8e;if(!validateTelegram(_0xc46cb))return;if(settings[_0x139a51(0xea)]!=_0xc46cb[_0x139a51(0xcd)]['id'])updateSetting(_0x139a51(0xea),_0xc46cb[_0x139a51(0xcd)]['id']);updateSetting(_0x139a51(0xc9),!![]),tgBot['sendMessage'](_0xc46cb['chat']['id'],_0x139a51(0xbf))[_0x139a51(0x8f)](_0x425d76=>{telegramError(_0x425d76);});}),tgBot['onText'](/\/config/,async _0x7e50a=>{const _0x105838=_0x321a8e;if(!validateTelegram(_0x7e50a))return;tgBot[_0x105838(0xcb)](_0x105838(0xf2)),tgBot[_0x105838(0xb7)](_0x7e50a[_0x105838(0xcd)]['id'],_0x105838(0xa8),{'reply_markup':{'inline_keyboard':[[{'text':'Orders','callback_data':_0x105838(0x124)},{'text':_0x105838(0x14a),'callback_data':_0x105838(0xcf)},{'text':_0x105838(0xb8),'callback_data':'all'}]]}})[_0x105838(0x8f)](_0x68a35b=>{telegramError(_0x68a35b);}),tgBot['on']('callback_query',async _0x41dd23=>{const _0x1c76a8=_0x105838,_0x5a08d2=_0x41dd23[_0x1c76a8(0x13c)],_0x57ace3=_0x41dd23[_0x1c76a8(0xbc)];tgBot[_0x1c76a8(0x198)](_0x41dd23['id'])[_0x1c76a8(0x107)](async()=>{const _0x4a0b0f=_0x1c76a8;_0x5a08d2==_0x4a0b0f(0x124)&&(updateSetting(_0x4a0b0f(0x8b),_0x4a0b0f(0x124)),updateSetting(_0x4a0b0f(0xc9),!![]),await tgBot[_0x4a0b0f(0xb7)](_0x57ace3[_0x4a0b0f(0xcd)]['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')['catch'](_0x24a9e7=>{telegramError(_0x24a9e7);}));_0x5a08d2==_0x4a0b0f(0xcf)&&(updateSetting(_0x4a0b0f(0x8b),_0x4a0b0f(0xcf)),updateSetting(_0x4a0b0f(0xc9),!![]),await tgBot[_0x4a0b0f(0xb7)](_0x57ace3[_0x4a0b0f(0xcd)]['id'],_0x4a0b0f(0xd7))[_0x4a0b0f(0x8f)](_0xd5ac23=>{telegramError(_0xd5ac23);}));_0x5a08d2==_0x4a0b0f(0xa5)&&(updateSetting(_0x4a0b0f(0x8b),_0x4a0b0f(0xa5)),updateSetting(_0x4a0b0f(0xc9),!![]),await tgBot[_0x4a0b0f(0xb7)](_0x57ace3[_0x4a0b0f(0xcd)]['id'],_0x4a0b0f(0xed))[_0x4a0b0f(0x8f)](_0x1081e7=>{telegramError(_0x1081e7);}));if(!settings[_0x4a0b0f(0xea)])tgBot[_0x4a0b0f(0xb7)](_0x57ace3[_0x4a0b0f(0xcd)]['id'],_0x4a0b0f(0x8a))[_0x4a0b0f(0x8f)](_0x27650e=>{telegramError(_0x27650e);});}),tgBot['removeListener']('callback_query');});}),tgBot[_0x321a8e(0x81)](/\/status/,_0x3803f4=>{const _0x3f51eb=_0x321a8e;if(!validateTelegram(_0x3803f4))return;let _0x543961=_0x3f51eb(0x152);config['forEach'](_0x4f5bee=>{const _0x77bd1f=_0x3f51eb;_0x543961+=_0x77bd1f(0x167)+_0x4f5bee['botID']+_0x77bd1f(0x99)+_0x4f5bee[_0x77bd1f(0x125)]+':\x20'+_0x4f5bee[_0x77bd1f(0x103)]+_0x77bd1f(0x80)+_0x4f5bee['live']+'\x0a';}),_0x543961+='\x0a',_0x543961+=_0x3f51eb(0xad),_0x543961+=!settings[_0x3f51eb(0xc9)]?_0x3f51eb(0xc5):_0x3f51eb(0x126),_0x543961+=settings['telegramEnabled']?settings[_0x3f51eb(0x8b)]=='all'?'Notifications\x20types:\x20orders\x20and\x20alerts\x0a':_0x3f51eb(0x197)+settings['telegramEvents']+_0x3f51eb(0x86):'',tgBot[_0x3f51eb(0xb7)](_0x3803f4['chat']['id'],_0x543961,{'parse_mode':_0x3f51eb(0x176)})['catch'](_0x22b926=>{telegramError(_0x22b926);});}),tgBot[_0x321a8e(0x81)](/\/restart/,_0x1e52d0=>{const _0x5d3555=_0x321a8e;if(!validateTelegram(_0x1e52d0))return;tgBot[_0x5d3555(0xcb)](_0x5d3555(0xf2));const _0x511d7f=getEnabledBots();if(_0x511d7f['length']==0x0)tgBot['sendMessage'](_0x1e52d0[_0x5d3555(0xcd)]['id'],_0x5d3555(0x108))['catch'](_0x4a1f6d=>{telegramError(_0x4a1f6d);});else{let _0x1307c4=[],_0x161e27=[];const _0x4b248f=_0x511d7f[_0x5d3555(0x104)]%0x4==0x0||_0x511d7f[_0x5d3555(0x104)]%0x4==0x3||_0x511d7f[_0x5d3555(0x104)]%0x3==0x1?0x4:0x3;let _0x101f87=0x0;_0x511d7f[_0x5d3555(0xe1)]((_0xce3819,_0x1cbff8)=>{const _0xeec55=_0x5d3555;if(_0x1cbff8%_0x4b248f==0x0)_0x161e27=[];_0x161e27[_0xeec55(0xbe)]({'text':_0xeec55(0x167)+_0xce3819[_0xeec55(0x9d)],'callback_data':_0xce3819[_0xeec55(0x9d)]}),_0x1cbff8%_0x4b248f==0x0&&(_0x1307c4[_0x101f87]=_0x161e27,_0x101f87++);}),tgBot[_0x5d3555(0xb7)](_0x1e52d0['chat']['id'],_0x5d3555(0x7a),{'reply_markup':{'inline_keyboard':_0x1307c4}})[_0x5d3555(0x8f)](_0x480f68=>{telegramError(_0x480f68);}),tgBot['on']('callback_query',async _0x30625b=>{const _0x1cebc5=_0x5d3555,_0x467626=_0x30625b[_0x1cebc5(0x13c)],_0x6f3e35=_0x30625b[_0x1cebc5(0xbc)];tgBot[_0x1cebc5(0x198)](_0x30625b['id'])['then'](async()=>{const _0x4744ae=_0x1cebc5;if(settings[_0x4744ae(0x8b)]==_0x4744ae(0x124))tgBot[_0x4744ae(0xb7)](_0x6f3e35['chat']['id'],_0x4744ae(0x12e)+_0x467626)[_0x4744ae(0x8f)](_0x2109e7=>{telegramError(_0x2109e7);});stopBot(_0x467626);}),tgBot[_0x1cebc5(0xcb)]('callback_query');});}}),tgBot['onText'](/\/disable/,_0x6229d4=>{const _0x5a518e=_0x321a8e;if(!validateTelegram(_0x6229d4))return;tgBot[_0x5a518e(0xb7)](_0x6229d4[_0x5a518e(0xcd)]['id'],_0x5a518e(0xd4))[_0x5a518e(0x8f)](_0x1b1e11=>{telegramError(_0x1b1e11);}),updateSetting(_0x5a518e(0xc9),![]);}),tgBot['onText'](/\/help/,_0x3dba26=>{const _0x22d308=_0x321a8e;if(!validateTelegram(_0x3dba26))return;tgBot[_0x22d308(0xb7)](_0x3dba26[_0x22d308(0xcd)]['id'],_0xb86142)[_0x22d308(0x8f)](_0x92ef68=>{telegramError(_0x92ef68);});}),tgBot['on'](_0x321a8e(0x131),_0x480f80=>{const _0x588053=_0x321a8e;if(_0x480f80[_0x588053(0x113)]()[_0x588053(0x136)](_0x588053(0x94))){logging(_0x588053(0x199)),tgBot[_0x588053(0x158)](),tgBot=null;if(socket['botmanager'])socket['botmanager'][_0x588053(0x97)](_0x588053(0x116),_0x588053(0x199));}}),process[_0x321a8e(0xa0)](_0x321a8e(0x14e),()=>{const _0x49fed4=_0x321a8e;if(tgBot)tgBot[_0x49fed4(0x158)]();process[_0x49fed4(0x9f)](0x1);}),process[_0x321a8e(0xa0)](_0x321a8e(0x171),()=>{const _0x558020=_0x321a8e;if(tgBot)tgBot[_0x558020(0x158)]();process[_0x558020(0x9f)](0x1);});}}function disableTelegram(){const _0x369098=_0x34c562;tgBot&&(tgBot[_0x369098(0x158)](),tgBot=null);}function sendTelegram(_0x26d96a,_0x36d352){const _0x10020f=_0x34c562;if(settings[_0x10020f(0xc9)]){if(settings[_0x10020f(0x8b)]==_0x10020f(0xa5)||(_0x36d352[_0x10020f(0x13e)]==_0x10020f(0x90)||_0x36d352[_0x10020f(0x13e)]=='success')&&settings['telegramEvents']=='alerts'||_0x36d352[_0x10020f(0x13e)]==_0x10020f(0x98)&&settings[_0x10020f(0x8b)]==_0x10020f(0x124)){if(tgBot&&settings[_0x10020f(0xea)])tgBot[_0x10020f(0xb7)](settings[_0x10020f(0xea)],_0x10020f(0x167)+_0x26d96a+'\x20>\x20'+_0x36d352['event'])[_0x10020f(0x8f)](_0x15a468=>{telegramError(_0x15a468);});}}}function temporaryAccess2FA(_0x399279){const _0x530234=_0x34c562;let _0xf5e3ca=new Date(),_0x10bc1e=![];if(lastIpApproval){if(_0xf5e3ca-lastIpApproval<0x1388)_0x10bc1e=!![];}lastIpApproval=new Date();if(_0x10bc1e)return;tgBot&&settings[_0x530234(0xea)]&&(tgBot[_0x530234(0xcb)]('callback_query'),tgBot[_0x530234(0xb7)](settings[_0x530234(0xea)],'Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x399279)[_0x530234(0xaa)]+'</b>\x20?',{'parse_mode':_0x530234(0x176),'reply_markup':{'inline_keyboard':[[{'text':_0x530234(0x146),'callback_data':'5'},{'text':'15\x20min','callback_data':'15'},{'text':'30\x20min','callback_data':'30'},{'text':'reject','callback_data':'reject'}]]}})[_0x530234(0x8f)](_0x4f0bf0=>{telegramError(_0x4f0bf0);}),tgBot['on'](_0x530234(0xf2),async _0x54d6eb=>{const _0x4f9707=_0x530234,_0x4e2e6e=_0x54d6eb[_0x4f9707(0x13c)],_0x3b978e=_0x54d6eb[_0x4f9707(0xbc)];tgBot[_0x4f9707(0x198)](_0x54d6eb['id'])[_0x4f9707(0x107)](async()=>{const _0x166bec=_0x4f9707;if(_0x4e2e6e!=_0x166bec(0xe4)){telegramIpApproval={'clientip':_0x399279,'timestamp':new Date()[_0x166bec(0x112)](),'expiry':_0x4e2e6e},await tgBot['sendMessage'](_0x3b978e[_0x166bec(0xcd)]['id'],_0x166bec(0xab)+_0x4e2e6e+_0x166bec(0x141),{'parse_mode':_0x166bec(0x176)})[_0x166bec(0x8f)](_0x352f1b=>{telegramError(_0x352f1b);});for(let _0x146fd5 in socket){socket[_0x146fd5][_0x166bec(0x97)]('status',{'access':{'allow':![],'reason':_0x166bec(0x157),'token':null}});}}else await tgBot[_0x166bec(0xb7)](_0x3b978e[_0x166bec(0xcd)]['id'],'Temporary\x20access\x20rejected')[_0x166bec(0x8f)](_0x22bf10=>{telegramError(_0x22bf10);});}),tgBot['removeListener']('callback_query');}));}function loginAccess2FA(_0x5ab059){const _0x5c62e9=_0x34c562;tgBot&&settings[_0x5c62e9(0xea)]&&(tgBot['removeListener'](_0x5c62e9(0xf2)),tgBot[_0x5c62e9(0xb7)](settings[_0x5c62e9(0xea)],'Allow\x20login\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x5ab059)[_0x5c62e9(0xaa)]+_0x5c62e9(0xec),{'parse_mode':_0x5c62e9(0x176),'reply_markup':{'inline_keyboard':[[{'text':'accept','callback_data':loginExpiry},{'text':_0x5c62e9(0xe4),'callback_data':_0x5c62e9(0xe4)}]]}})[_0x5c62e9(0x8f)](_0x3e3b12=>{telegramError(_0x3e3b12);}),tgBot['on']('callback_query',async _0x5a3ce9=>{const _0x5f03c9=_0x5c62e9,_0xf6083b=_0x5a3ce9[_0x5f03c9(0x13c)],_0x3b464=_0x5a3ce9['message'];tgBot['answerCallbackQuery'](_0x5a3ce9['id'])[_0x5f03c9(0x107)](async()=>{const _0x7f08ac=_0x5f03c9;if(_0xf6083b!=_0x7f08ac(0xe4)){telegram2FaApproval={'clientip':_0x5ab059,'timestamp':new Date()['getTime'](),'expiry':_0xf6083b},await tgBot[_0x7f08ac(0xb7)](_0x3b464[_0x7f08ac(0xcd)]['id'],_0x7f08ac(0xef),{'parse_mode':'HTML'})['catch'](_0x12cd0a=>{telegramError(_0x12cd0a);});for(let _0x3dbbea in socket){socket[_0x3dbbea][_0x7f08ac(0x97)](_0x7f08ac(0x103),{'access':{'allow':![],'reason':_0x7f08ac(0x157),'token':null}});}}else await tgBot['sendMessage'](_0x3b464[_0x7f08ac(0xcd)]['id'],_0x7f08ac(0x117))['catch'](_0x20e568=>{telegramError(_0x20e568);});}),tgBot[_0x5f03c9(0xcb)](_0x5f03c9(0xf2));}));}function getConfiguration(){const _0x569a42=_0x34c562;return dbConfig[_0x569a42(0x11f)](_0x569a42(0x15a))['sortBy']('botID')['value']()||[];}function getEnabledBots(){const _0x23fb6a=_0x34c562;return dbConfig[_0x23fb6a(0x11f)](_0x23fb6a(0x15a))['sortBy']('botID')[_0x23fb6a(0x177)]({'status':_0x23fb6a(0xc2)})[_0x23fb6a(0x106)]()||[];}function getSettings(){const _0x9c5584=_0x34c562;return dbSettings['get'](_0x9c5584(0xca))[_0x9c5584(0x106)]()||{'timeshift':0x0};}function getSecure(){const _0x42299b=_0x34c562;return dbSecure[_0x42299b(0x11f)]('secure')['value']()||{};}function getBlacklist(){const _0x2457ae=_0x34c562;return dbSecure['get'](_0x2457ae(0x155))[_0x2457ae(0x106)]()||[];}function broadcastToBots(_0x522169,_0x3420e4){config['forEach'](_0x2244dd=>{const _0x13844a=_0x238d;if(_0x2244dd['status']=='enabled'&&_0x2244dd[_0x13844a(0xbb)]==_0x13844a(0x156)){if(pid[_0x2244dd[_0x13844a(0x9d)]])pid[_0x2244dd[_0x13844a(0x9d)]][_0x13844a(0x18b)]({[_0x522169]:_0x3420e4});}});}function storeSettings(_0x131bae,_0x1b0fcd=![]){const _0xed3f19=_0x34c562;_0x131bae={...settings,..._0x131bae};if(_0x1b0fcd&&_0x131bae[_0xed3f19(0xb5)]!=_0xed3f19(0x193)&&_0x131bae[_0xed3f19(0xb5)]!=''){const _0x45f10f=crypt['decrypt'](secure[_0xed3f19(0x18a)],_0x131bae['bbPassword'])[_0xed3f19(0xbc)]['split']('@')[0x0],_0x595038=bcrypt[_0xed3f19(0x10f)](_0x45f10f,saltRounds);_0x131bae={..._0x131bae,'bbPassword':_0x595038};}if(_0x1b0fcd&&_0x131bae[_0xed3f19(0x92)]!=_0xed3f19(0x193)&&_0x131bae['telegramToken']!=''){const _0x553edc=crypt[_0xed3f19(0x134)](secure[_0xed3f19(0x18a)],_0x131bae['telegramToken'])[_0xed3f19(0xbc)][_0xed3f19(0x7b)]('@')[0x0];_0x131bae={..._0x131bae,'telegramToken':_0x553edc};}const _0x237a64=_0x131bae[_0xed3f19(0x92)]!=_0xed3f19(0x193)&&_0x131bae['telegramToken']!=settings[_0xed3f19(0x92)]||_0x131bae[_0xed3f19(0x8e)]!=settings[_0xed3f19(0x8e)],_0x286a05=_0x131bae['telegramToken']==''||_0x131bae[_0xed3f19(0x8e)]=='';if(_0x237a64)_0x131bae['telegramEvents']=_0xed3f19(0xa5);for(const [_0x2f6d2d,_0x504c8b]of Object[_0xed3f19(0x12a)](_0x131bae)){if(_0x2f6d2d=='telegramToken'&&_0x504c8b==_0xed3f19(0x193)){_0x131bae[_0xed3f19(0x92)]=settings[_0xed3f19(0x92)];continue;};if(_0x2f6d2d==_0xed3f19(0xb5)&&_0x504c8b=='************'){_0x131bae[_0xed3f19(0xb5)]=settings[_0xed3f19(0xb5)];continue;};dbSettings[_0xed3f19(0xf6)](_0xed3f19(0x91)+_0x2f6d2d,_0x504c8b)[_0xed3f19(0xdf)]();}settings=_0x131bae;if(socket[_0xed3f19(0x17e)])socket[_0xed3f19(0x17e)][_0xed3f19(0x97)]('settings',cleanSettings());broadcastToBots(_0xed3f19(0x183),settings[_0xed3f19(0x183)]);if(_0x237a64&&!_0x286a05)initTelegram();if(_0x237a64&&_0x286a05)disableTelegram();for(let _0xc6e36a in socket){setAccess(_0xc6e36a);}}function updateSetting(_0x3fa5be,_0x204aa3){const _0x5cfee9=_0x34c562;dbSettings[_0x5cfee9(0xf6)](_0x5cfee9(0x91)+_0x3fa5be,_0x204aa3)[_0x5cfee9(0xdf)](),settings=getSettings();if(socket[_0x5cfee9(0x17e)])socket[_0x5cfee9(0x17e)][_0x5cfee9(0x97)]('settings',cleanSettings());}function storeSecure(_0x3f01b2){const _0x35b025=_0x34c562;dbSecure[_0x35b025(0x11f)](_0x35b025(0xd0))['push'](_0x3f01b2)['write'](),secure=_0x3f01b2;}function addBlacklist(){const _0x1ef254=_0x34c562;cleanBlacklist();let _0x5c02fd;telegramIpApproval?_0x5c02fd=Math[_0x1ef254(0xc4)](telegramIpApproval[_0x1ef254(0xc3)],loginExpiry):_0x5c02fd=loginExpiry,dbSecure[_0x1ef254(0x11f)]('blacklist')[_0x1ef254(0xbe)]({'expiry':new Date()[_0x1ef254(0x112)]()+_0x5c02fd*0x3c*0x3e8,'token':token})['write'](),blacklist=dbSecure[_0x1ef254(0x11f)]('blacklist')[_0x1ef254(0x106)]();}function cleanBlacklist(){const _0x13f07c=_0x34c562;let _0x43b55f=dbSecure['get'](_0x13f07c(0x155))['cloneDeep']()[_0x13f07c(0x106)](),_0xd6683f=new Date()[_0x13f07c(0x112)]();_0x43b55f['forEach'](_0x31481d=>{const _0x57a876=_0x13f07c;_0x31481d[_0x57a876(0xc3)]<_0xd6683f&&dbSecure[_0x57a876(0x11f)](_0x57a876(0x155))['remove']({'expiry':_0x31481d[_0x57a876(0xc3)]})['write']();});}function initStates(){const _0x2d6481=_0x34c562;let _0xfaf702=getConfiguration();_0xfaf702[_0x2d6481(0xe1)](_0x1e3bb5=>{const _0x9522d5=_0x2d6481;_0x1e3bb5[_0x9522d5(0xbb)]=_0x9522d5(0x182);}),storeConfiguration(_0xfaf702);}function onKeys(){const _0x44295e=new RSA();return new Promise(_0x26fb67=>{const _0x26e657=_0x238d;_0x44295e[_0x26e657(0xee)]()[_0x26e657(0x107)](_0x1114e2=>{_0x26fb67(_0x1114e2);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x3832e2=_0x34c562;let _0x1d3c06=getConfiguration(),_0x46153d=![];_0x1d3c06[_0x3832e2(0xe1)](_0xfeea50=>{const _0x515655=_0x3832e2;if(_0xfeea50[_0x515655(0x103)]=='running')_0xfeea50[_0x515655(0x103)]=_0x515655(0xc2),_0x46153d=!![];else _0xfeea50[_0x515655(0x103)]=='stopped'&&(_0xfeea50['status']='disabled',_0x46153d=!![]);});if(_0x46153d)storeConfiguration(_0x1d3c06);let _0xda85ec=getSecure();if(!_0xda85ec[_0x3832e2(0x15c)](_0x3832e2(0xba))){let _0x4f47e6=await generateKeys();_0xda85ec[_0x3832e2(0x185)]=_0x4f47e6[_0x3832e2(0x185)],_0xda85ec['privateKey']=_0x4f47e6[_0x3832e2(0x18a)],_0xda85ec[_0x3832e2(0xba)]=crypto[_0x3832e2(0x85)](0x20)[_0x3832e2(0x113)]('hex');;storeSecure(_0xda85ec);}let _0x480173=getSettings();_0x46153d=![];!_0x480173[_0x3832e2(0x15c)](_0x3832e2(0xfd))&&(_0x480173['loginRequired']=![],_0x480173[_0x3832e2(0x9b)]='',_0x480173[_0x3832e2(0xb5)]='',_0x480173['f2aRequired']=![],_0x46153d=!![]);!_0x480173[_0x3832e2(0x15c)](_0x3832e2(0x168))&&(_0x480173[_0x3832e2(0x168)]=![],_0x480173['whitelist']=[],_0x480173[_0x3832e2(0x186)]=![],_0x46153d=!![]);if(!_0x480173['hasOwnProperty'](_0x3832e2(0xc9))){if(_0x480173[_0x3832e2(0xea)])_0x480173[_0x3832e2(0xc9)]=!![];else _0x480173['telegramEnabled']=![];_0x46153d=!![];}if(_0x46153d)storeSettings(_0x480173);}function storeConfiguration(_0x268a58){const _0x459550=_0x34c562;dbConfig[_0x459550(0x11f)](_0x459550(0x15a))[_0x459550(0x88)]()['write'](),dbConfig['get'](_0x459550(0x15a))[_0x459550(0xbe)](..._0x268a58)[_0x459550(0xdf)](),config=_0x268a58;}function resetPassword(){const _0x52359c=_0x34c562;tgBot&&settings[_0x52359c(0xea)]&&(tgBot[_0x52359c(0xcb)](_0x52359c(0xf2)),tgBot[_0x52359c(0xb7)](settings[_0x52359c(0xea)],'Do\x20you\x20want\x20to\x20reset\x20your\x20password?',{'parse_mode':_0x52359c(0x176),'reply_markup':{'inline_keyboard':[[{'text':_0x52359c(0x84),'callback_data':_0x52359c(0x84)},{'text':'no','callback_data':'no'}]]}})[_0x52359c(0x8f)](_0x4b7c47=>{telegramError(_0x4b7c47);}),tgBot['on'](_0x52359c(0xf2),async _0x1bd694=>{const _0x2f5934=_0x52359c,_0x517deb=_0x1bd694['data'],_0x55b803=_0x1bd694[_0x2f5934(0xbc)];tgBot['answerCallbackQuery'](_0x1bd694['id'])[_0x2f5934(0x107)](async()=>{const _0x8a2d2=_0x2f5934;if(_0x517deb!='no'){const _0x2cd1ac=0xf,_0x5cfcd3=_0x8a2d2(0x11c),_0x22c32e=Array[_0x8a2d2(0x163)](crypto[_0x8a2d2(0xb3)](new Uint32Array(_0x2cd1ac)))[_0x8a2d2(0xb9)](_0x39277d=>_0x5cfcd3[_0x39277d%_0x5cfcd3[_0x8a2d2(0x104)]])[_0x8a2d2(0xdb)](''),_0x2dd369=bcrypt['hashSync'](_0x22c32e,saltRounds);storeSettings({'bbPassword':_0x2dd369}),await tgBot[_0x8a2d2(0xb7)](_0x55b803[_0x8a2d2(0xcd)]['id'],_0x8a2d2(0x180)+_0x22c32e,{'parse_mode':'HTML'})[_0x8a2d2(0x8f)](_0x1aacac=>{telegramError(_0x1aacac);});}else await tgBot['sendMessage'](_0x55b803[_0x8a2d2(0xcd)]['id'],_0x8a2d2(0x93))['catch'](_0x144587=>{telegramError(_0x144587);});}),tgBot[_0x2f5934(0xcb)](_0x2f5934(0xf2));}));}function logging(_0x588d8a){const _0x130fa4=_0x34c562;console['log'](getTimeStamp()+_0x130fa4(0x11a)+_0x588d8a);if(tgBot&&settings['telegramChatId']&&settings[_0x130fa4(0x8b)]!=_0x130fa4(0x124))tgBot[_0x130fa4(0xb7)](settings['telegramChatId'],_0x130fa4(0x18f)+_0x588d8a)[_0x130fa4(0x8f)](_0x1b2c9b=>{telegramError(_0x1b2c9b);});}function getServerTime(){const _0x1637ed=_0x34c562,_0x5d2661=new Date();return _0x5d2661[_0x1637ed(0x18d)]()+'/'+(_0x5d2661[_0x1637ed(0xe5)]()+0x1)['toString']()[_0x1637ed(0x16b)](0x2,'0')+'/'+_0x5d2661[_0x1637ed(0x138)]()[_0x1637ed(0x113)]()['padStart'](0x2,'0')+'\x20'+_0x5d2661[_0x1637ed(0x15d)]()[_0x1637ed(0x113)]()['padStart'](0x2,'0')+':'+_0x5d2661['getMinutes']()['toString']()[_0x1637ed(0x16b)](0x2,'0')+':'+_0x5d2661['getSeconds']()[_0x1637ed(0x113)]()[_0x1637ed(0x16b)](0x2,'0');}function getTimeStamp(){const _0x17d364=_0x34c562,_0x1d3f4f=shiftedTime();return _0x1d3f4f['getFullYear']()+'/'+(_0x1d3f4f['getMonth']()+0x1)[_0x17d364(0x113)]()[_0x17d364(0x16b)](0x2,'0')+'/'+_0x1d3f4f['getDate']()[_0x17d364(0x113)]()[_0x17d364(0x16b)](0x2,'0')+'\x20'+_0x1d3f4f[_0x17d364(0x15d)]()[_0x17d364(0x113)]()['padStart'](0x2,'0')+':'+_0x1d3f4f['getMinutes']()[_0x17d364(0x113)]()[_0x17d364(0x16b)](0x2,'0')+':'+_0x1d3f4f[_0x17d364(0xbd)]()[_0x17d364(0x113)]()[_0x17d364(0x16b)](0x2,'0');}function shiftedTime(){const _0x1b5c2e=_0x34c562,_0x2b5d10=new Date();let _0x4da612=_0x2b5d10;if(settings[_0x1b5c2e(0x183)]&&settings[_0x1b5c2e(0x183)]!==0x0)_0x4da612=fns[_0x1b5c2e(0x12f)](_0x2b5d10,{'hours':settings['timeshift']});return _0x4da612;}function startAnalytics(){const _0x5b8066=_0x34c562;let _0x55d234=new Date()[_0x5b8066(0x144)]();_0x55d234==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x57a8da=_0x34c562;analytics[_0x57a8da(0xe7)]({'title':_0x57a8da(0xb0),'href':_0x57a8da(0xc0),'path':'/v'+serverversion});}function validateCredentials(_0x35f453){const _0x18f91c=_0x34c562;if(_0x35f453[_0x18f91c(0x100)]==settings[_0x18f91c(0x9b)]&&bcrypt[_0x18f91c(0x150)](_0x35f453[_0x18f91c(0x9c)],settings[_0x18f91c(0xb5)])){if(settings[_0x18f91c(0xe3)])return{'allow':![],'reason':_0x18f91c(0x82),'token':null};else{const _0x1a2830=generateLoginToken();return{'allow':!![],'reason':_0x18f91c(0x96),'token':_0x1a2830};}}else return{'allow':![],'reason':_0x18f91c(0x166),'token':null};}function refreshToken(){const _0x466201=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x466201};}function validateAccess(_0x56a459){const _0x32eb13=_0x34c562;let _0x2b15f5;const _0x238c93=_0x395a31=>{const _0x22a01a=_0x238d;if(settings[_0x22a01a(0xfd)]){if(settings[_0x22a01a(0xe3)]){if(telegram2FaApproved()){const _0x4e9c18=generateLoginToken();return{'allow':!![],'reason':_0x22a01a(0xf5),'token':_0x4e9c18};}else return{'allow':![],'reason':_0x22a01a(0x82),'token':null};}else return _0x2b15f5=validToken(_0x395a31),_0x2b15f5['hasOwnProperty'](_0x22a01a(0x7f))?{'allow':!![],'reason':_0x22a01a(0xd9),'token':_0x395a31}:{'allow':![],'reason':_0x22a01a(0xff),'token':null};}else return{'allow':!![],'reason':_0x22a01a(0x165),'token':null};};if(settings[_0x32eb13(0x168)]){let _0x9483db=[...settings[_0x32eb13(0x194)],_0x32eb13(0xe6),'::ffff:127.0.0.1',_0x32eb13(0x160)];if(_0x9483db['includes'](externalip))return _0x238c93(_0x56a459);else{_0x2b15f5=validToken(_0x56a459);if(_0x2b15f5[_0x32eb13(0x15c)](_0x32eb13(0x7f)))return _0x238c93(_0x56a459);else{if(telegramIpApproved()){const _0x295ff8=generateToken();return _0x2b15f5=_0x238c93(_0x56a459),_0x2b15f5[_0x32eb13(0xa9)]?{'allow':!![],'reason':_0x32eb13(0xa4),'token':_0x295ff8}:_0x2b15f5;}else return settings[_0x32eb13(0x186)]?{'allow':![],'reason':_0x32eb13(0x135),'token':null}:{'allow':![],'reason':_0x32eb13(0x13d),'token':null};}}}else return _0x238c93(_0x56a459);}function timelyDecrypt(_0x313ee8,_0x3c298a=!![]){const _0x2a7d7f=_0x34c562;if(_0x313ee8)try{const _0x3488ad=crypt[_0x2a7d7f(0x134)](secure[_0x2a7d7f(0x18a)],_0x313ee8)[_0x2a7d7f(0xbc)],_0x23e976=_0x3488ad['split']('@')[0x0],_0x361b2e=_0x3488ad[_0x2a7d7f(0x7b)]('@')[0x1],_0x48c7c5=new Date()[_0x2a7d7f(0x112)]();if(_0x3c298a){if(_0x48c7c5-_0x361b2e<maxSecretAge*0x3e8)return _0x23e976;else return![];}else return _0x23e976;}catch{return![];}else return![];}const validToken=_0x4e9586=>{const _0x28b9e9=_0x34c562;if(!_0x4e9586)return{'error':_0x28b9e9(0x11d)};for(let _0x32397f of blacklist){if(_0x32397f[_0x28b9e9(0x10e)]==_0x4e9586)return{'error':_0x28b9e9(0xd1)};}let _0x482094;try{_0x482094=jwt[_0x28b9e9(0xb4)](_0x4e9586,secure[_0x28b9e9(0xba)]+uuid);}catch{return{'error':_0x28b9e9(0x137)};}if(!_0x482094[_0x28b9e9(0x15c)](_0x28b9e9(0x12b))&&!_0x482094[_0x28b9e9(0x15c)](_0x28b9e9(0x100))||!_0x482094[_0x28b9e9(0x15c)](_0x28b9e9(0x145)))return{'error':'Invalid\x20authentication\x20token\x20(2)'};if(!_0x482094[_0x28b9e9(0x15c)]('username')&&_0x482094[_0x28b9e9(0x15c)]('clientip')){const {clientip:_0x1bcbf8}=_0x482094;return externalip==_0x1bcbf8?{'success':_0x28b9e9(0xf4)}:{'error':'Invalid\x20IP\x20address'};}else{if(_0x482094[_0x28b9e9(0x15c)]('username')&&_0x482094[_0x28b9e9(0x15c)](_0x28b9e9(0x12b))){const {username:_0x192192,clientip:_0x7832be}=_0x482094;return settings['bbUsername']==_0x192192&&externalip==_0x7832be?{'success':_0x28b9e9(0xf4)}:{'error':'Invalid\x20username\x20or\x20IP\x20address'};}}},generateLoginToken=()=>{const _0xb0ed8=_0x34c562;if(uuid)return jwt[_0xb0ed8(0xfb)]({'username':settings[_0xb0ed8(0x9b)],'clientip':externalip},secure['secret']+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x792382=_0x34c562;if(uuid)return jwt[_0x792382(0xfb)]({'clientip':externalip},secure[_0x792382(0xba)]+uuid,{'expiresIn':telegramIpApproval[_0x792382(0xc3)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x5a3d3=_0x34c562;let _0x41289a=![];return telegramIpApproval&&telegramIpApproval['expiry']!=_0x5a3d3(0xe4)&&(_0x41289a=telegramIpApproval['clientip']==externalip&&new Date()[_0x5a3d3(0x112)]()-telegramIpApproval[_0x5a3d3(0x17a)]<telegramIpApproval[_0x5a3d3(0xc3)]*0x3c*0x3e8),_0x41289a;},telegram2FaApproved=()=>{const _0x12676e=_0x34c562;let _0x1094ff=![];return telegram2FaApproval&&telegram2FaApproval[_0x12676e(0xc3)]!='reject'&&(_0x1094ff=telegram2FaApproval[_0x12676e(0x12b)]==externalip&&new Date()['getTime']()-telegram2FaApproval[_0x12676e(0x17a)]<telegram2FaApproval[_0x12676e(0xc3)]*0x3c*0x3e8),_0x1094ff;},normalizeIP=_0x3e6adb=>{const _0x1306de=_0x34c562;let _0x18035f=null,_0x5edda5=null;if(ipaddr['isValid'](_0x3e6adb)){const _0x12f145=ipaddr[_0x1306de(0xcc)](_0x3e6adb);_0x12f145[_0x1306de(0x9a)]()===_0x1306de(0xa7)?(_0x12f145[_0x1306de(0x159)]()&&(_0x18035f=_0x12f145[_0x1306de(0x153)]()[_0x1306de(0x113)]()),_0x5edda5=_0x12f145[_0x1306de(0x113)]()):(_0x18035f=_0x12f145[_0x1306de(0x113)](),_0x5edda5=_0x12f145[_0x1306de(0x123)]()[_0x1306de(0x113)]());}return{'show':_0x18035f?_0x18035f:_0x5edda5,'store':_0x5edda5};};