const _0x25188a=_0x3ec0;(function(_0x22b129,_0x31f115){const _0x556ac0=_0x3ec0,_0x3ff0c0=_0x22b129();while(!![]){try{const _0x1ff3d5=parseInt(_0x556ac0(0x1ff))/0x1+-parseInt(_0x556ac0(0x298))/0x2+-parseInt(_0x556ac0(0x250))/0x3*(parseInt(_0x556ac0(0x220))/0x4)+parseInt(_0x556ac0(0x1d1))/0x5+-parseInt(_0x556ac0(0x2b2))/0x6*(-parseInt(_0x556ac0(0x223))/0x7)+-parseInt(_0x556ac0(0x1c9))/0x8*(parseInt(_0x556ac0(0x2b4))/0x9)+-parseInt(_0x556ac0(0x1db))/0xa*(-parseInt(_0x556ac0(0x288))/0xb);if(_0x1ff3d5===_0x31f115)break;else _0x3ff0c0['push'](_0x3ff0c0['shift']());}catch(_0x44642a){_0x3ff0c0['push'](_0x3ff0c0['shift']());}}}(_0x556e,0x6e1be));const _0x3f6581=function(){let _0x293b2e=!![];return function(_0x31a983,_0x523044){const _0x1908c4=_0x293b2e?function(){const _0x191d86=_0x3ec0;if(_0x523044){const _0x42a697=_0x523044[_0x191d86(0x29f)](_0x31a983,arguments);return _0x523044=null,_0x42a697;}}:function(){};return _0x293b2e=![],_0x1908c4;};}(),_0x445442=_0x3f6581(this,function(){const _0xe88232=_0x3ec0;return _0x445442[_0xe88232(0x1d9)]()[_0xe88232(0x229)](_0xe88232(0x22e))[_0xe88232(0x1d9)]()[_0xe88232(0x20c)](_0x445442)[_0xe88232(0x229)](_0xe88232(0x22e));});_0x445442();'use strict';function _0x556e(){const _0x2a43c4=['accept','Orders','orders','botmanager','once','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','username','Notifications\x20disabled\x0a','reject','conn','</b>\x20?','hasOwnProperty','cloneDeep','date-fns','blacklist','expiry','sendFile','Ok,\x20will\x20send\x20alert\x20notifications\x20only','No\x20authentication\x20token','polling_error','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','/:bot/performance','socket.io','chat','includes','live','50373mjIRPp','getUTCHours','toIPv4Address','getSeconds','Bot\x20Mgr\x20>\x20','removeListener','listen','get-portfolio','map','find','initclient','/:bot/portfolio','build2','add','exp','getDate','\x20/\x20','All','env','idling\x20bot\x20\x20\x20|\x20Bot\x20','\x20|\x20','unlinkSync','all','function','restarting\x20Bot\x20','Unauthorized\x20attempt\x20to\x20get\x20portfolio','timeshift','Balance\x20Bot','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','encryptedUuid','crypto','kind','answerCallbackQuery','/enable\x20-\x20enable\x20notifications\x0a','alerts','log','User\x20has\x20been\x20validated','ipc','bbPassword','forEach','toIPv4MappedAddress','entries','push','yes','::ffff:127.0.0.1','stopped','Invalid\x20authentication\x20token\x20(2)','token','emit','join','place-order','telegramEnabled','new-disabled','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','decrypt','SIGINT','209187EKVMpb','split','from','Invalid\x20IP\x20address','order','connected','login\x20token\x20generated','args','stopPolling','Bot\x20','removeAllListeners','isIPv4MappedAddress','\x20only\x0a','data','RSA-OAEP','deleted\x20Bot\x20','949726vAurjI','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','catch','index.html','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','Login\x20rejected','createServer','apply','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','disabled','telegramUsername','Unauthorized\x20attempt\x20to\x20log\x20out','bb/','page','bb-secure.json','invalid\x20credentials','hex','defaults','hashSync','getMinutes','\x20minutes','login\x20not\x20required','Unauthorized\x20attempt\x20to\x20update\x20bot','get-logs','version','Notifications\x20disabled','16002xmHWAh','bbUsername','31725Phzujp','Password\x20has\x20been\x20reset\x20to:\x20','max','404\x20Not\x20Found','SIGTERM','settings','delete-bot','reload','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','5\x20min','child_process','botname','ipaddr.js','Crypt','HTML','************','bots','Login\x20accepted','filter','onText','botID','temporary\x20token\x20generated','connection','whitelistEnabled','callback_query','allow','2FA','mkdirSync','UA-192771731-1','password','new','/:bot/history','/:bot/coins','write','auth','reason','-----------------------------------------------------------------------------------','kill','<b>Telegram\x20bot\x20status:</b>\x0a','randomFillSync','Access\x20enabled\x20for\x20','sha256','temporaryAccessAllowed','\x20>\x20','Unauthorized\x20attempt\x20to\x20get\x20logs','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','started','bot-','fork','sendMessage','Unauthorized\x20attempt\x20to\x20add\x20bot','RSA','30\x20min','logout','emitHistory','assign','add-bot','328JJzTSW','/:bot','enabled\x20Bot\x20','telegramChatId','whitelist','/disable\x20-\x20disable\x20notifications\x0a','telegramEvents','handshake','114710xJRdDS','starting','padStart','Temporary\x20access\x20rejected','message','login','@analytics/google-analytics','compareSync','toString','NTBA_FIX_319','340fWWhXE','hybrid-crypto-js','2FA\x20login\x20token\x20generated','publicKey','status','sign','show','Notifications\x20types:\x20','bcryptjs','starting\x20new\x20bot\x20|\x20Bot\x20','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','2FA\x20required','Password\x20reset\x20rejected','f2aRequired','telegram','getTime','enabled','bb-config.json','No\x20bots\x20enabled\x20right\x20now','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','build','lowdb/adapters/FileSync','Notifications\x20enabled\x0a','send','remove','get','referer','get-starting-balances','event','error','reset-password','success','secret','store','timestamp','settings.','581486jugHIh','length','placeOrder','/help\x20-\x20show\x20avaiable\x20commands\x0a','login\x20token\x20valid','exit','inherit','node-telegram-bot-api','loginRequired','Invalid\x20Telegram\x20token','sortBy','store-headless','type','constructor','value','Unauthorized\x20attempt\x20to\x20update\x20settings','secure','then','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','/restart\x20-\x20restart\x20a\x20bot\x0a','disconnect','-events.json','Notifications\x20enabled','bot.js','default','telegramToken',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','set','/:bot/support','access\x20timeout','generateKeyPairAsync','running','match','172ATqQmu','storeHeadless','getFullYear','1421pDmfrp','15\x20min','verify','getMonth','disabled\x20Bot\x20','store-settings','search','Ok,\x20will\x20send\x20order\x20notifications\x20only','notification','privateKey','bb-settings.json','(((.+)+)+)+$','Invalid\x20username\x20or\x20IP\x20address','ipv6','2FA\x20login\x20required','analytics','lowdb','<b>Balance\x20Bot\x20status:</b>\x0a','clientip'];_0x556e=function(){return _0x2a43c4;};return _0x556e();}process[_0x25188a(0x262)][_0x25188a(0x1da)]=0x1;const childProcess=require(_0x25188a(0x2be)),FileSync=require(_0x25188a(0x1f0)),fs=require('fs'),fns=require(_0x25188a(0x243)),low=require(_0x25188a(0x233)),path=require('path'),crypto=require(_0x25188a(0x26e)),Crypt=require(_0x25188a(0x1dc))[_0x25188a(0x2c1)],RSA=require(_0x25188a(0x1dc))[_0x25188a(0x1c3)],bcrypt=require(_0x25188a(0x1e3)),jwt=require('jsonwebtoken'),analyticsLib=require(_0x25188a(0x232))[_0x25188a(0x217)],googleAnalytics=require(_0x25188a(0x1d7))['default'],ipaddr=require(_0x25188a(0x2c0));let bbpath=_0x25188a(0x2a4);const botfile=_0x25188a(0x216),configfile=_0x25188a(0x1ec),settingsfile=_0x25188a(0x22d),securefile=_0x25188a(0x2a6);!fs['existsSync'](bbpath+botfile)&&(bbpath='');const configpath=bbpath+'config/';!fs['existsSync'](configpath)&&fs[_0x25188a(0x2cf)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x25188a(0x2a9)]({'bots':[]})[_0x25188a(0x2d5)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings['defaults']({'settings':{'timeshift':0x0}})[_0x25188a(0x2d5)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x25188a(0x2a9)]({'secure':{},'blacklist':[]})[_0x25188a(0x2d5)]();let crypt=new Crypt({'md':_0x25188a(0x1b9),'rsaStandard':_0x25188a(0x296)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+'version.json')[_0x25188a(0x2b0)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require('express'),app=express(),http=require('http')[_0x25188a(0x29e)](app);app['use'](express['static'](path[_0x25188a(0x281)](__dirname,bbpath,'build2'))),app['use'](express['static'](path['join'](__dirname,bbpath,'build'))),app['get']('/',function(_0x212268,_0x3205e0){const _0x2d375d=_0x25188a;_0x3205e0[_0x2d375d(0x246)](path[_0x2d375d(0x281)](__dirname,bbpath,_0x2d375d(0x25c),'index.html'));}),app[_0x25188a(0x1f4)](_0x25188a(0x1ca),function(_0x27f778,_0x5a6cf3){const _0x9170cf=_0x25188a;_0x5a6cf3[_0x9170cf(0x246)](path['join'](__dirname,bbpath,_0x9170cf(0x1ef),_0x9170cf(0x29b)));}),app['get'](_0x25188a(0x25b),(_0x246038,_0x55c725)=>{const _0x34b649=_0x25188a;_0x55c725['sendFile'](path[_0x34b649(0x281)](__dirname,bbpath,_0x34b649(0x1ef),'index.html'));}),app['get'](_0x25188a(0x24b),(_0x546a4d,_0x227043)=>{const _0x7ecd75=_0x25188a;_0x227043['sendFile'](path[_0x7ecd75(0x281)](__dirname,bbpath,'build',_0x7ecd75(0x29b)));}),app[_0x25188a(0x1f4)](_0x25188a(0x2d4),(_0x253878,_0x4aaf3c)=>{const _0x4cc66f=_0x25188a;_0x4aaf3c[_0x4cc66f(0x246)](path[_0x4cc66f(0x281)](__dirname,bbpath,_0x4cc66f(0x1ef),'index.html'));}),app[_0x25188a(0x1f4)](_0x25188a(0x2d3),(_0x3fb562,_0x3e87fe)=>{const _0x5988e3=_0x25188a;_0x3e87fe[_0x5988e3(0x246)](path[_0x5988e3(0x281)](__dirname,bbpath,_0x5988e3(0x1ef),_0x5988e3(0x29b)));}),app[_0x25188a(0x1f4)]('/:bot/configuration',(_0x4a48d1,_0x4c6093)=>{const _0x417d88=_0x25188a;_0x4c6093[_0x417d88(0x246)](path[_0x417d88(0x281)](__dirname,bbpath,_0x417d88(0x1ef),'index.html'));}),app[_0x25188a(0x1f4)](_0x25188a(0x21b),(_0x347978,_0x2218c8)=>{_0x2218c8['sendFile'](path['join'](__dirname,bbpath,'build','index.html'));}),http[_0x25188a(0x256)](PORT);const analytics=analyticsLib({'app':_0x25188a(0x26b),'plugins':[googleAnalytics({'trackingId':_0x25188a(0x2d0)})]}),TelegramBot=require(_0x25188a(0x206));let tgBot;if(settings[_0x25188a(0x218)]&&settings[_0x25188a(0x218)]!=''&&settings[_0x25188a(0x2a2)]&&settings[_0x25188a(0x2a2)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x5b19ed=_0x25188a;console[_0x5b19ed(0x273)](''),console[_0x5b19ed(0x273)](_0x5b19ed(0x1b4)),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console[_0x5b19ed(0x273)](_0x5b19ed(0x1b4));if(config['length']!=0x0)config[_0x5b19ed(0x277)](_0x56c101=>{const _0x51cbca=_0x5b19ed;if(_0x56c101[_0x51cbca(0x1df)]==_0x51cbca(0x1eb)||_0x56c101[_0x51cbca(0x1df)]==_0x51cbca(0x2d2))logging('starting\x20bot\x20|\x20Bot\x20'+_0x56c101['botID']+_0x51cbca(0x264)+_0x56c101['botname']),startBot([_0x56c101[_0x51cbca(0x2c8)]],{'cwd':bbpath},function(_0x35c49d){if(_0x35c49d)logging(_0x35c49d);});else(_0x56c101[_0x51cbca(0x1df)]==_0x51cbca(0x2a1)||_0x56c101[_0x51cbca(0x1df)]=='new-disabled')&&logging(_0x51cbca(0x263)+_0x56c101[_0x51cbca(0x2c8)]+'\x20|\x20'+_0x56c101[_0x51cbca(0x2bf)]);});else!newBot&&console[_0x5b19ed(0x273)]('>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!');if(newBot)addBot();console[_0x5b19ed(0x273)](_0x5b19ed(0x1b4)),console[_0x5b19ed(0x273)]('');}function startSocket(){const _0x5a1840=_0x25188a,_0x2539c8=require(_0x5a1840(0x24c))(http,{});_0x2539c8['on'](_0x5a1840(0x2ca),_0x545c89=>{const _0x4dbb2d=_0x5a1840;let _0x4c53e2,_0x540ea3,_0x580f44;const _0x3304f3=_0x545c89[_0x4dbb2d(0x1d0)]['headers'][_0x4dbb2d(0x1f5)],_0x2ac207=_0x545c89['handshake'][_0x4dbb2d(0x1b2)][_0x4dbb2d(0x26d)];if(!_0x2ac207)_0x545c89[_0x4dbb2d(0x280)](_0x4dbb2d(0x1df),{'publicKey':secure[_0x4dbb2d(0x1de)]});else{uuid=timelyDecrypt(_0x545c89['handshake'][_0x4dbb2d(0x1b2)][_0x4dbb2d(0x26d)],![]),_0x540ea3=_0x3304f3[_0x4dbb2d(0x21f)](/bot[0-9]{3}/);if(_0x540ea3)_0x580f44=_0x540ea3[0x0]['match'](/[0-9]{3}/);if(_0x580f44)_0x4c53e2=_0x580f44[0x0];else _0x4c53e2=_0x4dbb2d(0x239);if(socket[_0x4c53e2])socket[_0x4c53e2]['disconnect'](!![]);socket[_0x4c53e2]=_0x545c89,setAccess(_0x4c53e2);if(accessControl[_0x4dbb2d(0x2cd)]){if(_0x4c53e2==_0x4dbb2d(0x239))initializeSocketBotManager();else initializeSocketBot(_0x4c53e2);}if(!serverStatus[_0x4c53e2])serverStatus[_0x4c53e2]=_0x4dbb2d(0x28d);socket[_0x4c53e2]['on'](_0x4dbb2d(0x1d6),_0x3c61fa=>{const _0x154907=_0x4dbb2d,_0x1ab8f3=timelyDecrypt(_0x3c61fa[_0x154907(0x2d1)]);if(_0x1ab8f3){_0x3c61fa={'username':_0x3c61fa[_0x154907(0x23c)],'password':_0x1ab8f3};let _0x12d782=validateCredentials(_0x3c61fa);if(_0x12d782['allow']==![]&&_0x12d782[_0x154907(0x1b3)]==_0x154907(0x231))socket[_0x4c53e2][_0x154907(0x280)](_0x154907(0x1df),{'access':_0x12d782}),loginAccess2FA(externalip);else{if(_0x12d782[_0x154907(0x2cd)]==![]&&_0x12d782[_0x154907(0x1b3)]==_0x154907(0x2a7))socket[_0x4c53e2][_0x154907(0x280)](_0x154907(0x1df),{'access':_0x12d782});else{if(_0x12d782['allow']&&_0x12d782['reason']==_0x154907(0x28e)){token=_0x12d782[_0x154907(0x27f)];for(let _0x3c9209 in socket){if(_0x3c9209==_0x154907(0x239))initializeSocketBotManager();else initializeSocketBot(_0x3c9209);socket[_0x3c9209][_0x154907(0x280)]('status',{'status':serverStatus[_0x3c9209]||_0x154907(0x1d2),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x12d782,'externalip':externalip,'publicKey':secure[_0x154907(0x1de)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x154907(0x1d6));}}}}else logging('Unauthorized\x20attempt\x20logging\x20in\x20(timeout)');}),socket[_0x4c53e2]['on'](_0x4dbb2d(0x1f9),()=>{resetPassword();}),socket[_0x4c53e2]['on'](_0x4dbb2d(0x213),_0x2e763d=>{let _0x161e56=[];for(let _0x367c9c in socket){if(_0x367c9c!=_0x4c53e2)_0x161e56[_0x367c9c]=socket[_0x367c9c];}socket=_0x161e56;});if(_0x4c53e2!=_0x4dbb2d(0x239)&&config['apiKey']!=''){if(pid[_0x4c53e2])pid[_0x4c53e2]['send']({'function':_0x4dbb2d(0x25a),'args':null});}}});}function setAccess(_0xc464a3){const _0x5c6401=_0x25188a;externalip=normalizeIP(socket[_0xc464a3][_0x5c6401(0x23f)]['remoteAddress'])[_0x5c6401(0x1fc)],accessControl=validateAccess(token),accessControl[_0x5c6401(0x27f)]&&accessControl[_0x5c6401(0x1b3)]==_0x5c6401(0x2c9)&&setSessionTimeout(_0x5c6401(0x2ce)),accessControl[_0x5c6401(0x27f)]&&accessControl['reason']=='2FA\x20login\x20token\x20generated'&&setSessionTimeout('login'),socket[_0xc464a3][_0x5c6401(0x280)]('status',{'status':serverStatus[_0xc464a3]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x5c6401(0x1de)],'loginNow':accessControl['reason']=='login\x20required'||accessControl['reason']=='2FA\x20login\x20required'}),accessControl[_0x5c6401(0x2cd)]==![]&&accessControl['reason']==_0x5c6401(0x1e6)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x36d9e4){const _0x2b6914=_0x25188a;let _0x239fd9;if(_0x36d9e4==_0x2b6914(0x1d6))_0x239fd9=loginExpiry*0x3c*0x3e8;else _0x239fd9=telegramIpApproval[_0x2b6914(0x245)]*0x3c*0x3e8-(new Date()['getTime']()-telegramIpApproval['timestamp']);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x2ded99=_0x2b6914;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x576059=validateAccess(token);if(!(_0x576059[_0x2ded99(0x2cd)]&&_0x576059[_0x2ded99(0x1b3)]==_0x2ded99(0x2ad)))for(let _0x3501da in socket){socket[_0x3501da]['emit']('status',{'access':{'allow':![],'reason':_0x2ded99(0x21c),'token':null}});}token=null;},_0x239fd9);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x33cba0=_0x3ec0;let _0x3f6f6d=refreshToken();for(let _0x41abf2 in socket){socket[_0x41abf2][_0x33cba0(0x280)](_0x33cba0(0x1df),{'status':serverStatus[_0x41abf2]||_0x33cba0(0x1d2),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x3f6f6d,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x34c61e=_0x25188a;socket[_0x34c61e(0x239)][_0x34c61e(0x280)]('bots',config),socket[_0x34c61e(0x239)][_0x34c61e(0x280)](_0x34c61e(0x2b9),cleanSettings()),socket[_0x34c61e(0x239)]['on'](_0x34c61e(0x1c8),_0xb9731e=>{const _0x42efaf=_0x34c61e;if(validateAccess(_0xb9731e)[_0x42efaf(0x2cd)])addBot();else logging(_0x42efaf(0x1c2));}),socket[_0x34c61e(0x239)]['on']('update-bot',(_0x20c39f,_0x4e56f2)=>{const _0xd3d139=_0x34c61e;if(validateAccess(_0x4e56f2)[_0xd3d139(0x2cd)])toggleBot(_0x20c39f['botID'],_0x20c39f[_0xd3d139(0x1df)],_0x20c39f['live']);else logging(_0xd3d139(0x2ae));}),socket[_0x34c61e(0x239)]['on'](_0x34c61e(0x2ba),(_0x1d1759,_0x5d3f57)=>{const _0x55e32f=_0x34c61e;if(validateAccess(_0x5d3f57)[_0x55e32f(0x2cd)])deleteBot(_0x1d1759);else logging('Unauthorized\x20attempt\x20to\x20delete\x20bot');}),socket[_0x34c61e(0x239)]['on'](_0x34c61e(0x228),(_0x283825,_0x20cfbd)=>{const _0x1a9927=_0x34c61e;if(validateAccess(_0x20cfbd)[_0x1a9927(0x2cd)])storeSettings(_0x283825,!![]);else logging(_0x1a9927(0x20e));}),socket['botmanager']['on'](_0x34c61e(0x1c5),_0xa1ad18=>{const _0x2e3372=_0x34c61e;if(validateAccess(_0xa1ad18)[_0x2e3372(0x2cd)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x554294 in socket){socket[_0x554294][_0x2e3372(0x280)](_0x2e3372(0x1df),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x2e3372(0x2a3));});}function initializeSocketBot(_0x33e802){const _0x4e09c1=_0x25188a;socket[_0x33e802]['on'](_0x4e09c1(0x2af),(_0x1da54c,_0x55f50b)=>{const _0x56e62e=_0x4e09c1;if(validateAccess(_0x55f50b)[_0x56e62e(0x2cd)]){if(pid[_0x33e802])pid[_0x33e802]['send']({'function':_0x56e62e(0x1c6),'args':_0x1da54c});}else logging(_0x56e62e(0x1bc));}),socket[_0x33e802]['on'](_0x4e09c1(0x257),(_0x303be2,_0x3f6ed2)=>{const _0x3d2ea2=_0x4e09c1;if(validateAccess(_0x3f6ed2)[_0x3d2ea2(0x2cd)]){if(pid[_0x33e802])pid[_0x33e802][_0x3d2ea2(0x1f2)]({'function':'getPortfolio','args':_0x303be2});}else logging(_0x3d2ea2(0x269));}),socket[_0x33e802]['on']('store-configuration',(_0x3b382d,_0x5f00cc)=>{const _0x5b94f8=_0x4e09c1;if(validateAccess(_0x5f00cc)[_0x5b94f8(0x2cd)]){if(pid[_0x33e802])pid[_0x33e802][_0x5b94f8(0x1f2)]({'function':'storeConfiguration','args':_0x3b382d});}else logging('Unauthorized\x20attempt\x20to\x20store\x20configuration');}),socket[_0x33e802]['on'](_0x4e09c1(0x20a),(_0x2fc520,_0x1ce13a)=>{const _0x393578=_0x4e09c1;if(validateAccess(_0x1ce13a)[_0x393578(0x2cd)]){if(pid[_0x33e802])pid[_0x33e802][_0x393578(0x1f2)]({'function':_0x393578(0x221),'args':_0x2fc520});}else logging('Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration');}),socket[_0x33e802]['on'](_0x4e09c1(0x1f6),_0x44d2eb=>{const _0x13178c=_0x4e09c1;if(validateAccess(_0x44d2eb)[_0x13178c(0x2cd)]){if(pid[_0x33e802])pid[_0x33e802][_0x13178c(0x1f2)]({'function':'getStartingBalances','args':null});}else logging(_0x13178c(0x2a0));}),socket[_0x33e802]['on'](_0x4e09c1(0x282),(_0x271438,_0xbeee6e)=>{const _0x5a2457=_0x4e09c1;if(validateAccess(_0xbeee6e)[_0x5a2457(0x2cd)]){if(pid[_0x33e802])pid[_0x33e802]['send']({'function':_0x5a2457(0x201),'args':_0x271438});}else logging(_0x5a2457(0x1e5));}),socket[_0x33e802]['on']('logout',_0x29e7de=>{const _0x97a86d=_0x4e09c1;if(validateAccess(_0x29e7de)[_0x97a86d(0x2cd)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x4a43ca in socket){socket[_0x4a43ca][_0x97a86d(0x280)]('status',{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function removeSocketListeners(){const _0x2270fe=_0x25188a;for(let _0x25c6f3 in socket){socket[_0x25c6f3][_0x2270fe(0x292)]();}}function cleanSettings(){const _0x3dd54e=_0x25188a;let _0x3cc249=settings;return settings[_0x3dd54e(0x218)]&&settings['telegramToken']!=''&&(_0x3cc249={..._0x3cc249,'telegramToken':_0x3dd54e(0x2c3)}),settings[_0x3dd54e(0x276)]&&settings[_0x3dd54e(0x276)]!=''&&(_0x3cc249={..._0x3cc249,'bbPassword':_0x3dd54e(0x2c3)}),_0x3cc249;}function startBot(_0x9e75ef,_0x1e34ad,_0xcad38){const _0x9cadb1=_0x25188a;let _0xd5f732=![];const _0x45c7d1=_0x9e75ef[0x0];_0x1e34ad={..._0x1e34ad,'stdio':[_0x9cadb1(0x205),_0x9cadb1(0x205),_0x9cadb1(0x205),_0x9cadb1(0x275)]},pid[_0x45c7d1]=childProcess[_0x9cadb1(0x1c0)](botfile,_0x9e75ef,_0x1e34ad),pid[_0x45c7d1]['on'](_0x9cadb1(0x1d5),_0x56f785=>{const _0x3c353d=_0x9cadb1;switch(Object['keys'](_0x56f785)[0x0]){case'botname':updateBotName(_0x45c7d1,_0x56f785[_0x3c353d(0x2bf)]);break;case'status':updateStatus(_0x45c7d1,_0x56f785[_0x3c353d(0x1df)]);break;case _0x3c353d(0x24f):updateLive(_0x45c7d1,_0x56f785[_0x3c353d(0x24f)]);break;case _0x3c353d(0x1be):updateLive(_0x45c7d1,_0x56f785[_0x3c353d(0x1be)]);if(socket[_0x45c7d1])socket[_0x45c7d1][_0x3c353d(0x280)](_0x3c353d(0x1df),{'access':{'allow':![],'reason':_0x3c353d(0x2bb),'token':null}});break;case _0x3c353d(0x1e9):sendTelegram(_0x45c7d1,_0x56f785['telegram']);break;case _0x3c353d(0x267):if(socket[_0x45c7d1])socket[_0x45c7d1][_0x3c353d(0x280)](_0x56f785[_0x3c353d(0x267)],_0x56f785[_0x3c353d(0x28f)]);break;}}),pid[_0x45c7d1]['on'](_0x9cadb1(0x1f8),function(_0x3eda84){if(_0xd5f732)return;_0xd5f732=!![],_0xcad38(_0x3eda84);}),pid[_0x45c7d1]['on'](_0x9cadb1(0x204),function(_0x2838f7){const _0x8451a9=_0x9cadb1;if(_0xd5f732)return;_0xd5f732=!![],_0xcad38(null);const _0x3e2662=dbConfig[_0x8451a9(0x1f4)](_0x8451a9(0x2c4))[_0x8451a9(0x259)]({'botID':_0x45c7d1})[_0x8451a9(0x20d)]();_0x3e2662&&(_0x3e2662['status']=='enabled'||_0x3e2662['status']=='new')&&(updateLive(_0x45c7d1,_0x8451a9(0x27d)),_0x2838f7!=0x4d&&(logging(_0x8451a9(0x268)+_0x45c7d1),startBot([_0x45c7d1],{'cwd':bbpath},function(_0x402537){if(_0x402537)logging(_0x402537);})));});}function stopBot(_0x3eeb80){const _0x274c86=_0x25188a;if(socket[_0x3eeb80])socket[_0x3eeb80][_0x274c86(0x213)](!![]);if(pid[_0x3eeb80])pid[_0x3eeb80][_0x274c86(0x1b5)]();}function addBot(){const _0x48f853=_0x25188a;let _0x5ddf48;for(let _0x249ffa=0x1;_0x249ffa<0x3e9;_0x249ffa++){_0x5ddf48=_0x249ffa[_0x48f853(0x1d9)]()[_0x48f853(0x1d3)](0x3,'0');let _0x317011=config['find'](_0x509036=>_0x509036[_0x48f853(0x2c8)]==_0x5ddf48);if(!_0x317011)break;}if(_0x5ddf48==='1000'){logging('the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached');return;}logging(_0x48f853(0x1e4)+_0x5ddf48),dbConfig[_0x48f853(0x1f4)](_0x48f853(0x2c4))[_0x48f853(0x27a)]({'botID':_0x5ddf48,'botname':_0x48f853(0x291)+_0x5ddf48,'status':'new','live':''})['write'](),startBot([_0x5ddf48],{'cwd':bbpath},function(_0x5c6b46){if(_0x5c6b46)logging(_0x5c6b46);}),config=getConfiguration();if(socket['botmanager'])socket[_0x48f853(0x239)][_0x48f853(0x280)](_0x48f853(0x2c4),config);}function deleteBot(_0x384685){const _0xbda921=_0x25188a;if(socket[_0x384685])socket[_0x384685][_0xbda921(0x213)](!![]);dbConfig[_0xbda921(0x1f4)](_0xbda921(0x2c4))[_0xbda921(0x1f3)]({'botID':_0x384685})['write'](),logging(_0xbda921(0x297)+_0x384685),stopBot(_0x384685);try{fs[_0xbda921(0x265)](path['join'](configpath,_0xbda921(0x1bf)+_0x384685+'-config.json')),fs[_0xbda921(0x265)](path[_0xbda921(0x281)](configpath,_0xbda921(0x1bf)+_0x384685+_0xbda921(0x214))),fs['unlinkSync'](path[_0xbda921(0x281)](configpath,_0xbda921(0x1bf)+_0x384685+'-performance.json')),fs['unlinkSync'](path['join'](configpath,_0xbda921(0x1bf)+_0x384685+'-results.json'));}catch(_0x5f4f18){if(_0x5f4f18)logging('error\x20while\x20deleting\x20log\x20files:\x20',_0x5f4f18);}config=getConfiguration();if(socket[_0xbda921(0x239)])socket[_0xbda921(0x239)]['emit'](_0xbda921(0x2c4),config);}function toggleBot(_0xcb98a,_0x24f50c,_0x401fff){const _0x4863f5=_0x25188a;dbConfig[_0x4863f5(0x1f4)](_0x4863f5(0x2c4))['find']({'botID':_0xcb98a})['assign']({'status':_0x24f50c})[_0x4863f5(0x1c7)]({'live':_0x401fff})[_0x4863f5(0x2d5)]();if(_0x24f50c==_0x4863f5(0x1eb)||_0x24f50c==_0x4863f5(0x2d2))logging(_0x4863f5(0x1cb)+_0xcb98a),startBot([_0xcb98a],{'cwd':bbpath},function(_0x51b68f){if(_0x51b68f)logging(_0x51b68f);});else(_0x24f50c==_0x4863f5(0x2a1)||_0x24f50c==_0x4863f5(0x284))&&(logging(_0x4863f5(0x227)+_0xcb98a),stopBot(_0xcb98a));config=getConfiguration();if(socket[_0x4863f5(0x239)])socket['botmanager']['emit']('bots',config);}function updateStatus(_0xed3c72,_0x1c6968){const _0x2914b7=_0x25188a;dbConfig[_0x2914b7(0x1f4)](_0x2914b7(0x2c4))[_0x2914b7(0x259)]({'botID':_0xed3c72})[_0x2914b7(0x1c7)]({'status':_0x1c6968})[_0x2914b7(0x2d5)](),config=getConfiguration();if(socket[_0x2914b7(0x239)])socket['botmanager']['emit'](_0x2914b7(0x2c4),config);}function updateLive(_0x555913,_0x1ff4e1){const _0x5eebeb=_0x25188a;dbConfig[_0x5eebeb(0x1f4)](_0x5eebeb(0x2c4))[_0x5eebeb(0x259)]({'botID':_0x555913})['assign']({'live':_0x1ff4e1})[_0x5eebeb(0x2d5)](),config=getConfiguration();if(socket[_0x5eebeb(0x239)])socket[_0x5eebeb(0x239)][_0x5eebeb(0x280)](_0x5eebeb(0x2c4),config);}function updateBotName(_0x3aa519,_0x297a39){const _0x4f8ad1=_0x25188a;dbConfig['get'](_0x4f8ad1(0x2c4))['find']({'botID':_0x3aa519})['assign']({'botname':_0x297a39})[_0x4f8ad1(0x2d5)](),config=getConfiguration();if(socket['botmanager'])socket[_0x4f8ad1(0x239)]['emit'](_0x4f8ad1(0x2c4),config);}function telegramError(_0x1caef8){const _0x26f07c=_0x25188a;console[_0x26f07c(0x273)](getTimeStamp()+_0x26f07c(0x219));}function validateTelegram(_0x22eaa8){const _0x2e4fd3=_0x25188a;if(_0x22eaa8[_0x2e4fd3(0x28a)][_0x2e4fd3(0x23c)]!=settings[_0x2e4fd3(0x2a2)]&&'@'+_0x22eaa8['from'][_0x2e4fd3(0x23c)]!=settings[_0x2e4fd3(0x2a2)])return tgBot['sendMessage'](_0x22eaa8['chat']['id'],_0x2e4fd3(0x24a),{'parse_mode':_0x2e4fd3(0x2c2)})[_0x2e4fd3(0x29a)](_0x596f14=>{telegramError(_0x596f14);}),![];return!![];}async function initTelegram(){const _0xce22b3=_0x25188a;if(tgBot)tgBot[_0xce22b3(0x290)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0xce22b3(0x218)],{'polling':!![]});let _0x54ae26='You\x20can\x20use\x20the\x20following\x20commands:\x0a';_0x54ae26+='\x0a',_0x54ae26+=_0xce22b3(0x271),_0x54ae26+=_0xce22b3(0x1ce),_0x54ae26+='/config\x20-\x20notification\x20types\x20to\x20receive\x0a',_0x54ae26+=_0xce22b3(0x212),_0x54ae26+=_0xce22b3(0x2bc),_0x54ae26+=_0xce22b3(0x202);let _0x1aa6dd='Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a';_0x1aa6dd+='\x0a',_0x1aa6dd+=_0x54ae26,tgBot[_0xce22b3(0x2c7)](/\/start/,_0x25e28c=>{const _0xdd48b4=_0xce22b3;if(!validateTelegram(_0x25e28c))return;if(settings['telegramChatId']!=_0x25e28c[_0xdd48b4(0x24d)]['id'])updateSetting(_0xdd48b4(0x1cc),_0x25e28c[_0xdd48b4(0x24d)]['id']);updateSetting(_0xdd48b4(0x283),!![]),tgBot[_0xdd48b4(0x1c1)](_0x25e28c['chat']['id'],_0x1aa6dd)['catch'](_0x17f28d=>{telegramError(_0x17f28d);});}),tgBot['onText'](/\/enable/,_0x37f0b3=>{const _0x38e145=_0xce22b3;if(!validateTelegram(_0x37f0b3))return;if(settings[_0x38e145(0x1cc)]!=_0x37f0b3['chat']['id'])updateSetting(_0x38e145(0x1cc),_0x37f0b3[_0x38e145(0x24d)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0x38e145(0x1c1)](_0x37f0b3[_0x38e145(0x24d)]['id'],_0x38e145(0x215))[_0x38e145(0x29a)](_0x15ca32=>{telegramError(_0x15ca32);});}),tgBot[_0xce22b3(0x2c7)](/\/config/,async _0x4afa6b=>{const _0x81b136=_0xce22b3;if(!validateTelegram(_0x4afa6b))return;tgBot[_0x81b136(0x255)](_0x81b136(0x2cc)),tgBot['sendMessage'](_0x4afa6b[_0x81b136(0x24d)]['id'],_0x81b136(0x1bd),{'reply_markup':{'inline_keyboard':[[{'text':_0x81b136(0x237),'callback_data':_0x81b136(0x238)},{'text':'Alerts','callback_data':_0x81b136(0x272)},{'text':_0x81b136(0x261),'callback_data':_0x81b136(0x266)}]]}})['catch'](_0x391f3c=>{telegramError(_0x391f3c);}),tgBot['on'](_0x81b136(0x2cc),async _0x211d5e=>{const _0x168a46=_0x81b136,_0x7f4e4=_0x211d5e[_0x168a46(0x295)],_0x595faf=_0x211d5e[_0x168a46(0x1d5)];tgBot['answerCallbackQuery'](_0x211d5e['id'])[_0x168a46(0x210)](async()=>{const _0x472e9e=_0x168a46;_0x7f4e4==_0x472e9e(0x238)&&(updateSetting(_0x472e9e(0x1cf),'orders'),updateSetting(_0x472e9e(0x283),!![]),await tgBot[_0x472e9e(0x1c1)](_0x595faf[_0x472e9e(0x24d)]['id'],_0x472e9e(0x22a))[_0x472e9e(0x29a)](_0x294152=>{telegramError(_0x294152);}));_0x7f4e4==_0x472e9e(0x272)&&(updateSetting(_0x472e9e(0x1cf),'alerts'),updateSetting(_0x472e9e(0x283),!![]),await tgBot[_0x472e9e(0x1c1)](_0x595faf[_0x472e9e(0x24d)]['id'],_0x472e9e(0x247))['catch'](_0xf6b112=>{telegramError(_0xf6b112);}));_0x7f4e4==_0x472e9e(0x266)&&(updateSetting(_0x472e9e(0x1cf),_0x472e9e(0x266)),updateSetting(_0x472e9e(0x283),!![]),await tgBot[_0x472e9e(0x1c1)](_0x595faf[_0x472e9e(0x24d)]['id'],_0x472e9e(0x26c))[_0x472e9e(0x29a)](_0xba2da1=>{telegramError(_0xba2da1);}));if(!settings[_0x472e9e(0x1cc)])tgBot[_0x472e9e(0x1c1)](_0x595faf[_0x472e9e(0x24d)]['id'],_0x472e9e(0x1ee))[_0x472e9e(0x29a)](_0x496a48=>{telegramError(_0x496a48);});}),tgBot[_0x168a46(0x255)](_0x168a46(0x2cc));});}),tgBot[_0xce22b3(0x2c7)](/\/status/,_0x2ddc11=>{const _0x968da9=_0xce22b3;if(!validateTelegram(_0x2ddc11))return;let _0x12ad24=_0x968da9(0x234);config[_0x968da9(0x277)](_0x59f84f=>{const _0x60e2ec=_0x968da9;_0x12ad24+='Bot\x20'+_0x59f84f['botID']+'\x20|\x20'+_0x59f84f['botname']+':\x20'+_0x59f84f[_0x60e2ec(0x1df)]+_0x60e2ec(0x260)+_0x59f84f[_0x60e2ec(0x24f)]+'\x0a';}),_0x12ad24+='\x0a',_0x12ad24+=_0x968da9(0x1b6),_0x12ad24+=!settings[_0x968da9(0x283)]?_0x968da9(0x23d):_0x968da9(0x1f1),_0x12ad24+=settings[_0x968da9(0x283)]?settings[_0x968da9(0x1cf)]==_0x968da9(0x266)?_0x968da9(0x299):_0x968da9(0x1e2)+settings[_0x968da9(0x1cf)]+_0x968da9(0x294):'',tgBot[_0x968da9(0x1c1)](_0x2ddc11[_0x968da9(0x24d)]['id'],_0x12ad24,{'parse_mode':'HTML'})[_0x968da9(0x29a)](_0x377bd3=>{telegramError(_0x377bd3);});}),tgBot['onText'](/\/restart/,_0x3d4e6f=>{const _0x74ff7a=_0xce22b3;if(!validateTelegram(_0x3d4e6f))return;tgBot[_0x74ff7a(0x255)]('callback_query');const _0x1563ab=getEnabledBots();if(_0x1563ab[_0x74ff7a(0x200)]==0x0)tgBot[_0x74ff7a(0x1c1)](_0x3d4e6f['chat']['id'],_0x74ff7a(0x1ed))[_0x74ff7a(0x29a)](_0xec7dec=>{telegramError(_0xec7dec);});else{let _0x5ba379=[],_0x4514ba=[];const _0x165d62=_0x1563ab[_0x74ff7a(0x200)]%0x4==0x0||_0x1563ab[_0x74ff7a(0x200)]%0x4==0x3||_0x1563ab[_0x74ff7a(0x200)]%0x3==0x1?0x4:0x3;let _0x4c8498=0x0;_0x1563ab[_0x74ff7a(0x277)]((_0x2333d6,_0x1be98f)=>{const _0x2d8f45=_0x74ff7a;if(_0x1be98f%_0x165d62==0x0)_0x4514ba=[];_0x4514ba[_0x2d8f45(0x27a)]({'text':'Bot\x20'+_0x2333d6[_0x2d8f45(0x2c8)],'callback_data':_0x2333d6[_0x2d8f45(0x2c8)]}),_0x1be98f%_0x165d62==0x0&&(_0x5ba379[_0x4c8498]=_0x4514ba,_0x4c8498++);}),tgBot[_0x74ff7a(0x1c1)](_0x3d4e6f[_0x74ff7a(0x24d)]['id'],_0x74ff7a(0x29c),{'reply_markup':{'inline_keyboard':_0x5ba379}})[_0x74ff7a(0x29a)](_0x24ca8=>{telegramError(_0x24ca8);}),tgBot['on'](_0x74ff7a(0x2cc),async _0x4660a9=>{const _0x4a914e=_0x74ff7a,_0x22712c=_0x4660a9[_0x4a914e(0x295)],_0x4e9192=_0x4660a9[_0x4a914e(0x1d5)];tgBot['answerCallbackQuery'](_0x4660a9['id'])[_0x4a914e(0x210)](async()=>{const _0x360dee=_0x4a914e;if(settings[_0x360dee(0x1cf)]==_0x360dee(0x238))tgBot[_0x360dee(0x1c1)](_0x4e9192['chat']['id'],_0x360dee(0x285)+_0x22712c)[_0x360dee(0x29a)](_0x5a13fe=>{telegramError(_0x5a13fe);});stopBot(_0x22712c);}),tgBot['removeListener'](_0x4a914e(0x2cc));});}}),tgBot[_0xce22b3(0x2c7)](/\/disable/,_0x1c165f=>{const _0x3867ac=_0xce22b3;if(!validateTelegram(_0x1c165f))return;tgBot[_0x3867ac(0x1c1)](_0x1c165f[_0x3867ac(0x24d)]['id'],_0x3867ac(0x2b1))[_0x3867ac(0x29a)](_0x11d168=>{telegramError(_0x11d168);}),updateSetting('telegramEnabled',![]);}),tgBot[_0xce22b3(0x2c7)](/\/help/,_0x44dcf9=>{const _0x2d528d=_0xce22b3;if(!validateTelegram(_0x44dcf9))return;tgBot[_0x2d528d(0x1c1)](_0x44dcf9['chat']['id'],_0x54ae26)[_0x2d528d(0x29a)](_0x431e96=>{telegramError(_0x431e96);});}),tgBot['on'](_0xce22b3(0x249),_0x265ef1=>{const _0x50eea7=_0xce22b3;if(_0x265ef1[_0x50eea7(0x1d9)]()['includes'](_0x50eea7(0x2b7))){logging(_0x50eea7(0x208)),tgBot[_0x50eea7(0x290)](),tgBot=null;if(socket[_0x50eea7(0x239)])socket[_0x50eea7(0x239)]['emit'](_0x50eea7(0x22b),_0x50eea7(0x208));}}),process[_0xce22b3(0x23a)](_0xce22b3(0x287),()=>{const _0x270f12=_0xce22b3;if(tgBot)tgBot['stopPolling']();process[_0x270f12(0x204)](0x1);}),process[_0xce22b3(0x23a)](_0xce22b3(0x2b8),()=>{const _0x54801b=_0xce22b3;if(tgBot)tgBot['stopPolling']();process[_0x54801b(0x204)](0x1);});}}function disableTelegram(){const _0x509159=_0x25188a;tgBot&&(tgBot[_0x509159(0x290)](),tgBot=null);}function sendTelegram(_0x55c566,_0x4afbde){const _0x1c1c70=_0x25188a;if(settings[_0x1c1c70(0x283)]){if(settings[_0x1c1c70(0x1cf)]==_0x1c1c70(0x266)||(_0x4afbde[_0x1c1c70(0x20b)]=='error'||_0x4afbde[_0x1c1c70(0x20b)]=='success')&&settings[_0x1c1c70(0x1cf)]==_0x1c1c70(0x272)||_0x4afbde[_0x1c1c70(0x20b)]==_0x1c1c70(0x28c)&&settings[_0x1c1c70(0x1cf)]==_0x1c1c70(0x238)){if(tgBot&&settings['telegramChatId'])tgBot[_0x1c1c70(0x1c1)](settings[_0x1c1c70(0x1cc)],'Bot\x20'+_0x55c566+_0x1c1c70(0x1bb)+_0x4afbde[_0x1c1c70(0x1f7)])[_0x1c1c70(0x29a)](_0x3d62e0=>{telegramError(_0x3d62e0);});}}}function temporaryAccess2FA(_0x4576b4){const _0x32c06e=_0x25188a;let _0x2650e0=new Date(),_0x5a4baf=![];if(lastIpApproval){if(_0x2650e0-lastIpApproval<0x1388)_0x5a4baf=!![];}lastIpApproval=new Date();if(_0x5a4baf)return;tgBot&&settings[_0x32c06e(0x1cc)]&&(tgBot[_0x32c06e(0x255)](_0x32c06e(0x2cc)),tgBot[_0x32c06e(0x1c1)](settings[_0x32c06e(0x1cc)],_0x32c06e(0x23b)+normalizeIP(_0x4576b4)['show']+'</b>\x20?',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x32c06e(0x2bd),'callback_data':'5'},{'text':_0x32c06e(0x224),'callback_data':'15'},{'text':_0x32c06e(0x1c4),'callback_data':'30'},{'text':_0x32c06e(0x23e),'callback_data':_0x32c06e(0x23e)}]]}})[_0x32c06e(0x29a)](_0x5da97d=>{telegramError(_0x5da97d);}),tgBot['on'](_0x32c06e(0x2cc),async _0xa8547=>{const _0x3adfc4=_0x32c06e,_0x50ba18=_0xa8547[_0x3adfc4(0x295)],_0x5176d6=_0xa8547['message'];tgBot[_0x3adfc4(0x270)](_0xa8547['id'])[_0x3adfc4(0x210)](async()=>{const _0x4e2224=_0x3adfc4;if(_0x50ba18!=_0x4e2224(0x23e)){telegramIpApproval={'clientip':_0x4576b4,'timestamp':new Date()[_0x4e2224(0x1ea)](),'expiry':_0x50ba18},await tgBot[_0x4e2224(0x1c1)](_0x5176d6['chat']['id'],_0x4e2224(0x1b8)+_0x50ba18+_0x4e2224(0x2ac),{'parse_mode':'HTML'})['catch'](_0x4d23e9=>{telegramError(_0x4d23e9);});for(let _0x2f934e in socket){socket[_0x2f934e][_0x4e2224(0x280)]('status',{'access':{'allow':![],'reason':_0x4e2224(0x2bb),'token':null}});}}else await tgBot['sendMessage'](_0x5176d6['chat']['id'],_0x4e2224(0x1d4))[_0x4e2224(0x29a)](_0x137d91=>{telegramError(_0x137d91);});}),tgBot['removeListener']('callback_query');}));}function loginAccess2FA(_0x3c8836){const _0x3a2e83=_0x25188a;tgBot&&settings[_0x3a2e83(0x1cc)]&&(tgBot[_0x3a2e83(0x255)](_0x3a2e83(0x2cc)),tgBot['sendMessage'](settings[_0x3a2e83(0x1cc)],'Allow\x20login\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x3c8836)[_0x3a2e83(0x1e1)]+_0x3a2e83(0x240),{'parse_mode':_0x3a2e83(0x2c2),'reply_markup':{'inline_keyboard':[[{'text':_0x3a2e83(0x236),'callback_data':loginExpiry},{'text':_0x3a2e83(0x23e),'callback_data':'reject'}]]}})['catch'](_0xdf967f=>{telegramError(_0xdf967f);}),tgBot['on'](_0x3a2e83(0x2cc),async _0x437201=>{const _0x2e7f59=_0x3a2e83,_0x1a87cf=_0x437201[_0x2e7f59(0x295)],_0x2ed7bc=_0x437201['message'];tgBot[_0x2e7f59(0x270)](_0x437201['id'])['then'](async()=>{const _0x4490fd=_0x2e7f59;if(_0x1a87cf!=_0x4490fd(0x23e)){telegram2FaApproval={'clientip':_0x3c8836,'timestamp':new Date()['getTime'](),'expiry':_0x1a87cf},await tgBot[_0x4490fd(0x1c1)](_0x2ed7bc[_0x4490fd(0x24d)]['id'],_0x4490fd(0x2c5),{'parse_mode':_0x4490fd(0x2c2)})[_0x4490fd(0x29a)](_0x1d7083=>{telegramError(_0x1d7083);});for(let _0x2bed3a in socket){socket[_0x2bed3a][_0x4490fd(0x280)](_0x4490fd(0x1df),{'access':{'allow':![],'reason':'reload','token':null}});}}else await tgBot[_0x4490fd(0x1c1)](_0x2ed7bc['chat']['id'],_0x4490fd(0x29d))[_0x4490fd(0x29a)](_0x5464a3=>{telegramError(_0x5464a3);});}),tgBot[_0x2e7f59(0x255)](_0x2e7f59(0x2cc));}));}function getConfiguration(){const _0x3c11f6=_0x25188a;return dbConfig['get'](_0x3c11f6(0x2c4))[_0x3c11f6(0x209)](_0x3c11f6(0x2c8))[_0x3c11f6(0x20d)]()||[];}function getEnabledBots(){const _0x7452a2=_0x25188a;return dbConfig[_0x7452a2(0x1f4)](_0x7452a2(0x2c4))[_0x7452a2(0x209)]('botID')[_0x7452a2(0x2c6)]({'status':'enabled'})[_0x7452a2(0x20d)]()||[];}function _0x3ec0(_0x3fde78,_0x5dc0d4){const _0x3b3b96=_0x556e();return _0x3ec0=function(_0x445442,_0x3f6581){_0x445442=_0x445442-0x1b2;let _0x556e4e=_0x3b3b96[_0x445442];return _0x556e4e;},_0x3ec0(_0x3fde78,_0x5dc0d4);}function getSettings(){const _0x5ec0cb=_0x25188a;return dbSettings[_0x5ec0cb(0x1f4)]('settings')[_0x5ec0cb(0x20d)]()||{'timeshift':0x0};}function getSecure(){const _0x58c0e7=_0x25188a;return dbSecure['get'](_0x58c0e7(0x20f))[_0x58c0e7(0x20d)]()||{};}function getBlacklist(){const _0x545e63=_0x25188a;return dbSecure['get']('blacklist')[_0x545e63(0x20d)]()||[];}function broadcastToBots(_0x328873,_0x118727){const _0x31bd7e=_0x25188a;config[_0x31bd7e(0x277)](_0x177735=>{const _0x2895ce=_0x31bd7e;if(_0x177735[_0x2895ce(0x1df)]==_0x2895ce(0x1eb)&&_0x177735[_0x2895ce(0x24f)]==_0x2895ce(0x21e)){if(pid[_0x177735[_0x2895ce(0x2c8)]])pid[_0x177735[_0x2895ce(0x2c8)]][_0x2895ce(0x1f2)]({[_0x328873]:_0x118727});}});}function storeSettings(_0x554e64,_0x309769=![]){const _0x22cfae=_0x25188a;_0x554e64={...settings,..._0x554e64};if(_0x309769&&_0x554e64['bbPassword']!=_0x22cfae(0x2c3)&&_0x554e64[_0x22cfae(0x276)]!=''){const _0x2ff7e9=crypt[_0x22cfae(0x286)](secure['privateKey'],_0x554e64[_0x22cfae(0x276)])[_0x22cfae(0x1d5)][_0x22cfae(0x289)]('@')[0x0],_0x25e7c4=bcrypt['hashSync'](_0x2ff7e9,saltRounds);_0x554e64={..._0x554e64,'bbPassword':_0x25e7c4};}if(_0x309769&&_0x554e64[_0x22cfae(0x218)]!=_0x22cfae(0x2c3)&&_0x554e64[_0x22cfae(0x218)]!=''){const _0x159437=crypt['decrypt'](secure[_0x22cfae(0x22c)],_0x554e64['telegramToken'])[_0x22cfae(0x1d5)][_0x22cfae(0x289)]('@')[0x0];_0x554e64={..._0x554e64,'telegramToken':_0x159437};}const _0x28ac54=_0x554e64[_0x22cfae(0x218)]!='************'&&_0x554e64[_0x22cfae(0x218)]!=settings[_0x22cfae(0x218)]||_0x554e64[_0x22cfae(0x2a2)]!=settings[_0x22cfae(0x2a2)],_0x2db6aa=_0x554e64[_0x22cfae(0x218)]==''||_0x554e64[_0x22cfae(0x2a2)]=='';if(_0x28ac54)_0x554e64[_0x22cfae(0x1cf)]=_0x22cfae(0x266);for(const [_0x44e316,_0x299ba2]of Object[_0x22cfae(0x279)](_0x554e64)){if(_0x44e316==_0x22cfae(0x218)&&_0x299ba2==_0x22cfae(0x2c3)){_0x554e64[_0x22cfae(0x218)]=settings[_0x22cfae(0x218)];continue;};if(_0x44e316==_0x22cfae(0x276)&&_0x299ba2==_0x22cfae(0x2c3)){_0x554e64[_0x22cfae(0x276)]=settings[_0x22cfae(0x276)];continue;};dbSettings[_0x22cfae(0x21a)](_0x22cfae(0x1fe)+_0x44e316,_0x299ba2)[_0x22cfae(0x2d5)]();}settings=_0x554e64;if(socket[_0x22cfae(0x239)])socket[_0x22cfae(0x239)]['emit'](_0x22cfae(0x2b9),cleanSettings());broadcastToBots('timeshift',settings[_0x22cfae(0x26a)]);if(_0x28ac54&&!_0x2db6aa)initTelegram();if(_0x28ac54&&_0x2db6aa)disableTelegram();for(let _0x2ca269 in socket){setAccess(_0x2ca269);}}function updateSetting(_0x2f885f,_0x4f60f8){const _0x41d13a=_0x25188a;dbSettings[_0x41d13a(0x21a)](_0x41d13a(0x1fe)+_0x2f885f,_0x4f60f8)[_0x41d13a(0x2d5)](),settings=getSettings();if(socket[_0x41d13a(0x239)])socket[_0x41d13a(0x239)][_0x41d13a(0x280)](_0x41d13a(0x2b9),cleanSettings());}function storeSecure(_0x35c955){const _0x1ceb46=_0x25188a;dbSecure[_0x1ceb46(0x1f4)](_0x1ceb46(0x20f))[_0x1ceb46(0x27a)](_0x35c955)[_0x1ceb46(0x2d5)](),secure=_0x35c955;}function addBlacklist(){const _0x1c08da=_0x25188a;cleanBlacklist();let _0x559482;telegramIpApproval?_0x559482=Math[_0x1c08da(0x2b6)](telegramIpApproval[_0x1c08da(0x245)],loginExpiry):_0x559482=loginExpiry,dbSecure[_0x1c08da(0x1f4)](_0x1c08da(0x244))[_0x1c08da(0x27a)]({'expiry':new Date()[_0x1c08da(0x1ea)]()+_0x559482*0x3c*0x3e8,'token':token})[_0x1c08da(0x2d5)](),blacklist=dbSecure[_0x1c08da(0x1f4)]('blacklist')[_0x1c08da(0x20d)]();}function cleanBlacklist(){const _0x4720f3=_0x25188a;let _0x2825a5=dbSecure[_0x4720f3(0x1f4)](_0x4720f3(0x244))[_0x4720f3(0x242)]()[_0x4720f3(0x20d)](),_0x4ee225=new Date()[_0x4720f3(0x1ea)]();_0x2825a5[_0x4720f3(0x277)](_0x107823=>{const _0x3bf62f=_0x4720f3;_0x107823[_0x3bf62f(0x245)]<_0x4ee225&&dbSecure[_0x3bf62f(0x1f4)](_0x3bf62f(0x244))[_0x3bf62f(0x1f3)]({'expiry':_0x107823[_0x3bf62f(0x245)]})['write']();});}function initStates(){const _0x34f590=_0x25188a;let _0x1007da=getConfiguration();_0x1007da[_0x34f590(0x277)](_0x3554b6=>{const _0x29db9d=_0x34f590;_0x3554b6['live']=_0x29db9d(0x27d);}),storeConfiguration(_0x1007da);}function onKeys(){const _0x5adcda=new RSA();return new Promise(_0x2eb4c5=>{const _0x347d5f=_0x3ec0;_0x5adcda[_0x347d5f(0x21d)]()[_0x347d5f(0x210)](_0xd7d6c7=>{_0x2eb4c5(_0xd7d6c7);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x9c8fe3=_0x25188a;let _0x3b9d1f=getConfiguration(),_0x3732df=![];_0x3b9d1f['forEach'](_0x3177e4=>{const _0x48c325=_0x3ec0;if(_0x3177e4[_0x48c325(0x1df)]==_0x48c325(0x21e))_0x3177e4[_0x48c325(0x1df)]=_0x48c325(0x1eb),_0x3732df=!![];else _0x3177e4['status']==_0x48c325(0x27d)&&(_0x3177e4[_0x48c325(0x1df)]=_0x48c325(0x2a1),_0x3732df=!![]);});if(_0x3732df)storeConfiguration(_0x3b9d1f);let _0xcda1f=getSecure();if(!_0xcda1f[_0x9c8fe3(0x241)](_0x9c8fe3(0x1fb))){let _0x273ea3=await generateKeys();_0xcda1f[_0x9c8fe3(0x1de)]=_0x273ea3[_0x9c8fe3(0x1de)],_0xcda1f[_0x9c8fe3(0x22c)]=_0x273ea3[_0x9c8fe3(0x22c)],_0xcda1f['secret']=crypto['randomBytes'](0x20)['toString'](_0x9c8fe3(0x2a8));;storeSecure(_0xcda1f);}let _0x3b9a10=getSettings();_0x3732df=![];!_0x3b9a10['hasOwnProperty'](_0x9c8fe3(0x207))&&(_0x3b9a10[_0x9c8fe3(0x207)]=![],_0x3b9a10[_0x9c8fe3(0x2b3)]='',_0x3b9a10[_0x9c8fe3(0x276)]='',_0x3b9a10[_0x9c8fe3(0x1e8)]=![],_0x3732df=!![]);!_0x3b9a10['hasOwnProperty'](_0x9c8fe3(0x2cb))&&(_0x3b9a10['whitelistEnabled']=![],_0x3b9a10['whitelist']=[],_0x3b9a10[_0x9c8fe3(0x1ba)]=![],_0x3732df=!![]);if(!_0x3b9a10[_0x9c8fe3(0x241)](_0x9c8fe3(0x283))){if(_0x3b9a10['telegramChatId'])_0x3b9a10[_0x9c8fe3(0x283)]=!![];else _0x3b9a10['telegramEnabled']=![];_0x3732df=!![];}if(_0x3732df)storeSettings(_0x3b9a10);}function storeConfiguration(_0x3e8ca1){const _0x3486ca=_0x25188a;dbConfig[_0x3486ca(0x1f4)](_0x3486ca(0x2c4))[_0x3486ca(0x1f3)]()['write'](),dbConfig[_0x3486ca(0x1f4)](_0x3486ca(0x2c4))[_0x3486ca(0x27a)](..._0x3e8ca1)[_0x3486ca(0x2d5)](),config=_0x3e8ca1;}function resetPassword(){const _0x267579=_0x25188a;tgBot&&settings['telegramChatId']&&(tgBot[_0x267579(0x255)](_0x267579(0x2cc)),tgBot[_0x267579(0x1c1)](settings['telegramChatId'],_0x267579(0x211),{'parse_mode':_0x267579(0x2c2),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x267579(0x27b)},{'text':'no','callback_data':'no'}]]}})[_0x267579(0x29a)](_0x1574c8=>{telegramError(_0x1574c8);}),tgBot['on'](_0x267579(0x2cc),async _0x33f2cd=>{const _0x29ae37=_0x267579,_0x4632b3=_0x33f2cd[_0x29ae37(0x295)],_0x3255a9=_0x33f2cd[_0x29ae37(0x1d5)];tgBot[_0x29ae37(0x270)](_0x33f2cd['id'])[_0x29ae37(0x210)](async()=>{const _0x44f67e=_0x29ae37;if(_0x4632b3!='no'){const _0x4892ec=0xf,_0x478572='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$',_0x273a39=Array[_0x44f67e(0x28a)](crypto[_0x44f67e(0x1b7)](new Uint32Array(_0x4892ec)))[_0x44f67e(0x258)](_0x154e72=>_0x478572[_0x154e72%_0x478572[_0x44f67e(0x200)]])['join'](''),_0x1fa5be=bcrypt[_0x44f67e(0x2aa)](_0x273a39,saltRounds);storeSettings({'bbPassword':_0x1fa5be}),await tgBot['sendMessage'](_0x3255a9[_0x44f67e(0x24d)]['id'],_0x44f67e(0x2b5)+_0x273a39,{'parse_mode':'HTML'})['catch'](_0x232c2f=>{telegramError(_0x232c2f);});}else await tgBot[_0x44f67e(0x1c1)](_0x3255a9[_0x44f67e(0x24d)]['id'],_0x44f67e(0x1e7))[_0x44f67e(0x29a)](_0x3b4670=>{telegramError(_0x3b4670);});}),tgBot[_0x29ae37(0x255)](_0x29ae37(0x2cc));}));}function logging(_0x89c55b){const _0x497301=_0x25188a;console['log'](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x89c55b);if(tgBot&&settings[_0x497301(0x1cc)]&&settings[_0x497301(0x1cf)]!=_0x497301(0x238))tgBot[_0x497301(0x1c1)](settings[_0x497301(0x1cc)],_0x497301(0x254)+_0x89c55b)[_0x497301(0x29a)](_0x2ad335=>{telegramError(_0x2ad335);});}function getServerTime(){const _0x3b3a4e=_0x25188a,_0x1e479d=new Date();return _0x1e479d[_0x3b3a4e(0x222)]()+'/'+(_0x1e479d['getMonth']()+0x1)[_0x3b3a4e(0x1d9)]()[_0x3b3a4e(0x1d3)](0x2,'0')+'/'+_0x1e479d[_0x3b3a4e(0x25f)]()[_0x3b3a4e(0x1d9)]()[_0x3b3a4e(0x1d3)](0x2,'0')+'\x20'+_0x1e479d['getHours']()[_0x3b3a4e(0x1d9)]()[_0x3b3a4e(0x1d3)](0x2,'0')+':'+_0x1e479d[_0x3b3a4e(0x2ab)]()[_0x3b3a4e(0x1d9)]()['padStart'](0x2,'0')+':'+_0x1e479d[_0x3b3a4e(0x253)]()[_0x3b3a4e(0x1d9)]()[_0x3b3a4e(0x1d3)](0x2,'0');}function getTimeStamp(){const _0x1a2414=_0x25188a,_0x4fd598=shiftedTime();return _0x4fd598[_0x1a2414(0x222)]()+'/'+(_0x4fd598[_0x1a2414(0x226)]()+0x1)[_0x1a2414(0x1d9)]()[_0x1a2414(0x1d3)](0x2,'0')+'/'+_0x4fd598[_0x1a2414(0x25f)]()[_0x1a2414(0x1d9)]()[_0x1a2414(0x1d3)](0x2,'0')+'\x20'+_0x4fd598['getHours']()[_0x1a2414(0x1d9)]()[_0x1a2414(0x1d3)](0x2,'0')+':'+_0x4fd598[_0x1a2414(0x2ab)]()['toString']()[_0x1a2414(0x1d3)](0x2,'0')+':'+_0x4fd598[_0x1a2414(0x253)]()[_0x1a2414(0x1d9)]()['padStart'](0x2,'0');}function shiftedTime(){const _0x2b195c=_0x25188a,_0x50139f=new Date();let _0x4a347d=_0x50139f;if(settings[_0x2b195c(0x26a)]&&settings[_0x2b195c(0x26a)]!==0x0)_0x4a347d=fns[_0x2b195c(0x25d)](_0x50139f,{'hours':settings[_0x2b195c(0x26a)]});return _0x4a347d;}function startAnalytics(){const _0xbe7679=_0x25188a;let _0x27c0c0=new Date()[_0xbe7679(0x251)]();_0x27c0c0==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x2f4df1=_0x25188a;analytics[_0x2f4df1(0x2a5)]({'title':'Balance\x20Bot\x20Server','href':'https://hodlerhacks.com','path':'/v'+serverversion});}function validateCredentials(_0x1bd9b6){const _0x391978=_0x25188a;if(_0x1bd9b6['username']==settings[_0x391978(0x2b3)]&&bcrypt[_0x391978(0x1d8)](_0x1bd9b6['password'],settings['bbPassword'])){if(settings[_0x391978(0x1e8)])return{'allow':![],'reason':_0x391978(0x231),'token':null};else{const _0x1dd66f=generateLoginToken();return{'allow':!![],'reason':_0x391978(0x28e),'token':_0x1dd66f};}}else return{'allow':![],'reason':_0x391978(0x2a7),'token':null};}function refreshToken(){const _0x54913a=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x54913a};}function validateAccess(_0x2beaae){const _0x1264ac=_0x25188a;let _0x28facf;const _0x1c92c4=_0xe8d314=>{const _0x1568ae=_0x3ec0;if(settings['loginRequired']){if(settings['f2aRequired']){if(telegram2FaApproved()){const _0x29ce19=generateLoginToken();return{'allow':!![],'reason':_0x1568ae(0x1dd),'token':_0x29ce19};}else return{'allow':![],'reason':_0x1568ae(0x231),'token':null};}else return _0x28facf=validToken(_0xe8d314),_0x28facf[_0x1568ae(0x241)](_0x1568ae(0x1fa))?{'allow':!![],'reason':_0x1568ae(0x203),'token':_0xe8d314}:{'allow':![],'reason':'login\x20required','token':null};}else return{'allow':!![],'reason':_0x1568ae(0x2ad),'token':null};};if(settings['whitelistEnabled']){let _0x2e9354=[...settings[_0x1264ac(0x1cd)],'::1',_0x1264ac(0x27c),'127.0.0.1'];if(_0x2e9354[_0x1264ac(0x24e)](externalip))return _0x1c92c4(_0x2beaae);else{_0x28facf=validToken(_0x2beaae);if(_0x28facf[_0x1264ac(0x241)](_0x1264ac(0x1fa)))return _0x1c92c4(_0x2beaae);else{if(telegramIpApproved()){const _0x314e77=generateToken();return _0x28facf=_0x1c92c4(_0x2beaae),_0x28facf[_0x1264ac(0x2cd)]?{'allow':!![],'reason':_0x1264ac(0x2c9),'token':_0x314e77}:_0x28facf;}else return settings[_0x1264ac(0x1ba)]?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':'temporary\x20access\x20not\x20allowed','token':null};}}}else return _0x1c92c4(_0x2beaae);}function timelyDecrypt(_0x20e049,_0x1ed5b3=!![]){const _0x57d53e=_0x25188a;if(_0x20e049)try{const _0x2a6d45=crypt[_0x57d53e(0x286)](secure[_0x57d53e(0x22c)],_0x20e049)[_0x57d53e(0x1d5)],_0x398edd=_0x2a6d45['split']('@')[0x0],_0x3791bb=_0x2a6d45['split']('@')[0x1],_0xcb1694=new Date()[_0x57d53e(0x1ea)]();if(_0x1ed5b3){if(_0xcb1694-_0x3791bb<maxSecretAge*0x3e8)return _0x398edd;else return![];}else return _0x398edd;}catch{return![];}else return![];}const validToken=_0x1c9a8e=>{const _0x371010=_0x25188a;if(!_0x1c9a8e)return{'error':_0x371010(0x248)};for(let _0x3fbe10 of blacklist){if(_0x3fbe10[_0x371010(0x27f)]==_0x1c9a8e)return{'error':'Token\x20blacklisted'};}let _0x3cca82;try{_0x3cca82=jwt[_0x371010(0x225)](_0x1c9a8e,secure['secret']+uuid);}catch{return{'error':'Invalid\x20authentication\x20token\x20(1)'};}if(!_0x3cca82[_0x371010(0x241)]('clientip')&&!_0x3cca82[_0x371010(0x241)]('username')||!_0x3cca82['hasOwnProperty'](_0x371010(0x25e)))return{'error':_0x371010(0x27e)};if(!_0x3cca82[_0x371010(0x241)](_0x371010(0x23c))&&_0x3cca82[_0x371010(0x241)](_0x371010(0x235))){const {clientip:_0x2fd96b}=_0x3cca82;return externalip==_0x2fd96b?{'success':_0x371010(0x274)}:{'error':_0x371010(0x28b)};}else{if(_0x3cca82[_0x371010(0x241)](_0x371010(0x23c))&&_0x3cca82['hasOwnProperty'](_0x371010(0x235))){const {username:_0x52646d,clientip:_0x3a9a86}=_0x3cca82;return settings[_0x371010(0x2b3)]==_0x52646d&&externalip==_0x3a9a86?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x371010(0x22f)};}}},generateLoginToken=()=>{const _0x8a4f3c=_0x25188a;if(uuid)return jwt[_0x8a4f3c(0x1e0)]({'username':settings[_0x8a4f3c(0x2b3)],'clientip':externalip},secure['secret']+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x581763=_0x25188a;if(uuid)return jwt[_0x581763(0x1e0)]({'clientip':externalip},secure[_0x581763(0x1fb)]+uuid,{'expiresIn':telegramIpApproval[_0x581763(0x245)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x4d3002=_0x25188a;let _0x3335e0=![];return telegramIpApproval&&telegramIpApproval[_0x4d3002(0x245)]!=_0x4d3002(0x23e)&&(_0x3335e0=telegramIpApproval['clientip']==externalip&&new Date()[_0x4d3002(0x1ea)]()-telegramIpApproval[_0x4d3002(0x1fd)]<telegramIpApproval[_0x4d3002(0x245)]*0x3c*0x3e8),_0x3335e0;},telegram2FaApproved=()=>{const _0x273301=_0x25188a;let _0x3f7a40=![];return telegram2FaApproval&&telegram2FaApproval['expiry']!=_0x273301(0x23e)&&(_0x3f7a40=telegram2FaApproval[_0x273301(0x235)]==externalip&&new Date()[_0x273301(0x1ea)]()-telegram2FaApproval[_0x273301(0x1fd)]<telegram2FaApproval['expiry']*0x3c*0x3e8),_0x3f7a40;},normalizeIP=_0x51c76b=>{const _0x41b835=_0x25188a;let _0x51b4fb=null,_0x30fd42=null;if(ipaddr['isValid'](_0x51c76b)){const _0x4a4ed2=ipaddr['parse'](_0x51c76b);_0x4a4ed2[_0x41b835(0x26f)]()===_0x41b835(0x230)?(_0x4a4ed2[_0x41b835(0x293)]()&&(_0x51b4fb=_0x4a4ed2[_0x41b835(0x252)]()['toString']()),_0x30fd42=_0x4a4ed2['toString']()):(_0x51b4fb=_0x4a4ed2[_0x41b835(0x1d9)](),_0x30fd42=_0x4a4ed2[_0x41b835(0x278)]()['toString']());}return{'show':_0x51b4fb?_0x51b4fb:_0x30fd42,'store':_0x30fd42};};