const _0x329ef6=_0x40d3;(function(_0x3e4793,_0x5854f3){const _0x4682ff=_0x40d3,_0x3c516a=_0x3e4793();while(!![]){try{const _0x34d5ed=parseInt(_0x4682ff(0x7a))/0x1*(-parseInt(_0x4682ff(0x90))/0x2)+-parseInt(_0x4682ff(0x8e))/0x3*(-parseInt(_0x4682ff(0x8f))/0x4)+parseInt(_0x4682ff(0x68))/0x5*(parseInt(_0x4682ff(0x8b))/0x6)+-parseInt(_0x4682ff(0x76))/0x7*(-parseInt(_0x4682ff(0x6b))/0x8)+-parseInt(_0x4682ff(0x67))/0x9+parseInt(_0x4682ff(0x8d))/0xa+parseInt(_0x4682ff(0x7d))/0xb*(parseInt(_0x4682ff(0x86))/0xc);if(_0x34d5ed===_0x5854f3)break;else _0x3c516a['push'](_0x3c516a['shift']());}catch(_0x3e62f3){_0x3c516a['push'](_0x3c516a['shift']());}}}(_0x2b12,0x5a364));const _0x2533e7=function(){let _0x286f72=!![];return function(_0x296185,_0x29069d){const _0x56b794=_0x286f72?function(){if(_0x29069d){const _0x526b41=_0x29069d['apply'](_0x296185,arguments);return _0x29069d=null,_0x526b41;}}:function(){};return _0x286f72=![],_0x56b794;};}(),_0x26855c=_0x2533e7(this,function(){const _0x2b2a4b=_0x40d3;return _0x26855c[_0x2b2a4b(0x8a)]()[_0x2b2a4b(0x69)]('(((.+)+)+)+$')[_0x2b2a4b(0x8a)]()[_0x2b2a4b(0x85)](_0x26855c)['search']('(((.+)+)+)+$');});_0x26855c();const fs=require('fs'),argv=require(_0x329ef6(0x71))(process['argv']['slice'](0x2))['argv'],childProcess=require(_0x329ef6(0x66)),nodeversion=process[_0x329ef6(0x75)][_0x329ef6(0x7c)],minversion=0x10;nodeversion[_0x329ef6(0x77)]('.')[0x0]<minversion&&(console[_0x329ef6(0x95)](),console[_0x329ef6(0x95)](_0x329ef6(0x7b)),console[_0x329ef6(0x95)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x329ef6(0x91)+minversion+'\x20or\x20above\x20is\x20required'),console[_0x329ef6(0x95)](_0x329ef6(0x79)),console[_0x329ef6(0x95)](_0x329ef6(0x7b)),console[_0x329ef6(0x95)](),process['exit'](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv[_0x329ef6(0x78)])&&(console[_0x329ef6(0x95)](_0x329ef6(0x83)+argv['port']+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x329ef6(0x93)](0x1));}let args=[];function _0x40d3(_0x589c36,_0x255e79){const _0x12cb30=_0x2b12();return _0x40d3=function(_0x26855c,_0x2533e7){_0x26855c=_0x26855c-0x65;let _0x2b1248=_0x12cb30[_0x26855c];return _0x2b1248;},_0x40d3(_0x589c36,_0x255e79);}argv[_0x329ef6(0x78)]&&(args[_0x329ef6(0x6a)](_0x329ef6(0x72)),args['push'](argv['port']));argv[_0x329ef6(0x84)]&&(args['push'](_0x329ef6(0x74)),args[_0x329ef6(0x6a)](argv[_0x329ef6(0x84)]));argv[_0x329ef6(0x81)]&&(args[_0x329ef6(0x6a)](_0x329ef6(0x9a)),args['push'](argv[_0x329ef6(0x81)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x329ef6(0x6a)]('-d');let bmpath=_0x329ef6(0x6d);const bmfile=_0x329ef6(0x6f),updatefile=_0x329ef6(0x94);!fs[_0x329ef6(0x97)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x329ef6(0x93),async()=>{handleTerminate();}),process['on'](_0x329ef6(0x73),async()=>{handleTerminate();}),process['on'](_0x329ef6(0x80),async()=>{handleTerminate();}),startBM();function startBM(){const _0x293f40=_0x329ef6;let _0x20ecbe=![];const _0x12f5d2={'cwd':'','stdio':['inherit',_0x293f40(0x70),_0x293f40(0x70),'ipc']};pid1=childProcess[_0x293f40(0x82)](bmpath+bmfile,args,_0x12f5d2),pid1['on'](_0x293f40(0x7e),_0x538dec=>{const _0x11f4b8=_0x293f40,_0x43bdca=Object[_0x11f4b8(0x96)](_0x538dec)[0x1]==_0x11f4b8(0x65);switch(Object[_0x11f4b8(0x7f)](_0x538dec)[0x0]){case _0x11f4b8(0x98):if(_0x43bdca)startUpdate('2s');else startUpdate('2');break;case _0x11f4b8(0x87):if(_0x43bdca)startUpdate('3s');else startUpdate('3');break;case _0x11f4b8(0x6c):handleRestore();break;case _0x11f4b8(0x99):handleTerminate();break;}}),pid1['on'](_0x293f40(0x88),function(_0x1cea12){if(_0x20ecbe)return;_0x20ecbe=!![],logging('Unexpected\x20error:',_0x1cea12);}),pid1['on']('exit',function(_0x279779){const _0x5efa4f=_0x293f40;if(terminating)return;if(updating)return;if(_0x20ecbe)return;_0x20ecbe=!![],console['log'](_0x5efa4f(0x6e)),startBM();});}async function handleTerminate(){const _0x5d22c5=_0x329ef6;stopBM(),await sleep(0x3e8),process[_0x5d22c5(0x93)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x562fca){const _0x3bde7d=_0x329ef6;updating=!![],stopBM();let _0x5730d0=![];const _0x99f522={'cwd':'','stdio':['inherit','inherit','inherit','ipc']};let _0x4accde=[];if(staging)_0x4accde[_0x3bde7d(0x6a)](_0x562fca+'s');else _0x4accde[_0x3bde7d(0x6a)](_0x562fca);pid2=childProcess[_0x3bde7d(0x82)](updatefile,_0x4accde,_0x99f522),pid2['on'](_0x3bde7d(0x88),function(_0x33e054){const _0x59da20=_0x3bde7d;updating=![];if(_0x5730d0)return;_0x5730d0=!![],logging(_0x59da20(0x89),_0x33e054);}),pid2['on']('exit',function(_0x5685c0){updating=![];if(_0x5730d0)return;_0x5730d0=!![],terminating=![],startBM();});}function _0x2b12(){const _0x4fb1ea=['--port','SIGTERM','--host','versions','7TtksCk','split','port','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','1GXIzLu','-----------------------------------------------------------------------------------','node','4631ybwbLs','message','keys','SIGINT','user','fork','Error:\x20Invalid\x20argument\x20','host','constructor','4908InIrcQ','reinstall','error','Error\x20while\x20updating\x20Balance\x20Bot:','toString','907428WDTGfT','Balance\x20Bot\x20>\x20','4007780FKVwsj','3PQJPvX','1490408jlOsTF','1356438sbUzhD',',\x20but\x20version\x20','kill','exit','install.js','log','values','existsSync','update','terminate','--user','staging','child_process','6278310jrNAki','5TqPgQY','search','push','5188080QnamJd','restore','bb/','Automatically\x20restarting\x20BM','bm.js','inherit','yargs/yargs'];_0x2b12=function(){return _0x4fb1ea;};return _0x2b12();}function handleRestore(){const _0x23a6cd=_0x329ef6;if(pid1)pid1[_0x23a6cd(0x92)]();}function logging(_0xbcb025){const _0x3dcb2e=_0x329ef6;console[_0x3dcb2e(0x95)](_0x3dcb2e(0x8c)+_0xbcb025);}function sleep(_0x56cc3e){return new Promise(_0x51ac5f=>setTimeout(_0x51ac5f,_0x56cc3e));}