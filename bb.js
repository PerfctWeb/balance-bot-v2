const _0xe344e1=_0x1a8b;(function(_0x3f7ddc,_0x505196){const _0x547c5b=_0x1a8b,_0x18e0ac=_0x3f7ddc();while(!![]){try{const _0x136d59=parseInt(_0x547c5b(0x1fe))/0x1*(parseInt(_0x547c5b(0x1c1))/0x2)+-parseInt(_0x547c5b(0x26e))/0x3*(-parseInt(_0x547c5b(0x208))/0x4)+-parseInt(_0x547c5b(0x281))/0x5+-parseInt(_0x547c5b(0x1a3))/0x6*(-parseInt(_0x547c5b(0x2a4))/0x7)+-parseInt(_0x547c5b(0x1d7))/0x8*(-parseInt(_0x547c5b(0x27d))/0x9)+-parseInt(_0x547c5b(0x296))/0xa*(parseInt(_0x547c5b(0x1bf))/0xb)+parseInt(_0x547c5b(0x222))/0xc*(-parseInt(_0x547c5b(0x1d1))/0xd);if(_0x136d59===_0x505196)break;else _0x18e0ac['push'](_0x18e0ac['shift']());}catch(_0x6c600e){_0x18e0ac['push'](_0x18e0ac['shift']());}}}(_0x42ae,0x421c4));const _0x2bb0ef=function(){let _0x16672b=!![];return function(_0x44d16e,_0x4e306f){const _0x18cd63=_0x16672b?function(){const _0x7b2ca9=_0x1a8b;if(_0x4e306f){const _0x57137d=_0x4e306f[_0x7b2ca9(0x22b)](_0x44d16e,arguments);return _0x4e306f=null,_0x57137d;}}:function(){};return _0x16672b=![],_0x18cd63;};}(),_0x54de1d=_0x2bb0ef(this,function(){const _0x576e2e=_0x1a8b;return _0x54de1d[_0x576e2e(0x21f)]()[_0x576e2e(0x1d2)]('(((.+)+)+)+$')[_0x576e2e(0x21f)]()[_0x576e2e(0x1e5)](_0x54de1d)[_0x576e2e(0x1d2)](_0x576e2e(0x211));});_0x54de1d();'use strict';process[_0xe344e1(0x233)][_0xe344e1(0x1df)]=0x1;const childProcess=require(_0xe344e1(0x260)),FileSync=require(_0xe344e1(0x1ba)),fs=require('fs'),fns=require(_0xe344e1(0x27c)),low=require(_0xe344e1(0x2af)),path=require('path'),crypto=require(_0xe344e1(0x218)),Crypt=require(_0xe344e1(0x1ee))[_0xe344e1(0x257)],RSA=require('hybrid-crypto-js')[_0xe344e1(0x2aa)],bcrypt=require(_0xe344e1(0x29f)),jwt=require(_0xe344e1(0x24b)),analyticsLib=require(_0xe344e1(0x235))[_0xe344e1(0x287)],googleAnalytics=require(_0xe344e1(0x294))[_0xe344e1(0x287)],ipaddr=require(_0xe344e1(0x1f0));let bbpath=_0xe344e1(0x1b3);const botfile='bot.js',configfile='bb-config.json',settingsfile=_0xe344e1(0x1c0),securefile='bb-secure.json';!fs[_0xe344e1(0x1e9)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0xe344e1(0x227);!fs[_0xe344e1(0x1e9)](configpath)&&fs[_0xe344e1(0x236)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0xe344e1(0x1b6)]({'bots':[]})[_0xe344e1(0x1be)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0xe344e1(0x1b6)]({'settings':{'timeshift':0x0}})[_0xe344e1(0x1be)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure['defaults']({'secure':{},'blacklist':[]})[_0xe344e1(0x1be)]();let crypt=new Crypt({'md':_0xe344e1(0x1b9),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+_0xe344e1(0x214))[_0xe344e1(0x1d5)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0xe344e1(0x22f)),app=express(),http=require(_0xe344e1(0x206))[_0xe344e1(0x1a7)](app);app[_0xe344e1(0x264)](express[_0xe344e1(0x256)](path['join'](__dirname,bbpath,_0xe344e1(0x202)))),app[_0xe344e1(0x264)](express['static'](path['join'](__dirname,bbpath,_0xe344e1(0x20f)))),app[_0xe344e1(0x207)]('/',function(_0x5df6f3,_0x55b2a6){const _0x328126=_0xe344e1;_0x55b2a6[_0x328126(0x2b4)](path[_0x328126(0x28e)](__dirname,bbpath,_0x328126(0x202),_0x328126(0x27f)));}),app[_0xe344e1(0x207)](_0xe344e1(0x2a5),function(_0x5d3557,_0x1d6de8){const _0x2fde27=_0xe344e1;_0x1d6de8[_0x2fde27(0x2b4)](path[_0x2fde27(0x28e)](__dirname,bbpath,'build',_0x2fde27(0x27f)));}),app[_0xe344e1(0x207)]('/:bot/portfolio',(_0x1c9709,_0x14fd32)=>{const _0x3f7479=_0xe344e1;_0x14fd32[_0x3f7479(0x2b4)](path['join'](__dirname,bbpath,_0x3f7479(0x20f),_0x3f7479(0x27f)));}),app[_0xe344e1(0x207)](_0xe344e1(0x1a0),(_0x120ef1,_0x44c495)=>{const _0x1907a4=_0xe344e1;_0x44c495[_0x1907a4(0x2b4)](path['join'](__dirname,bbpath,_0x1907a4(0x20f),'index.html'));}),app[_0xe344e1(0x207)](_0xe344e1(0x24f),(_0x21cac2,_0x51d0df)=>{const _0x1e762a=_0xe344e1;_0x51d0df[_0x1e762a(0x2b4)](path['join'](__dirname,bbpath,'build',_0x1e762a(0x27f)));}),app[_0xe344e1(0x207)](_0xe344e1(0x1d0),(_0x11f3cd,_0x561387)=>{const _0x4672be=_0xe344e1;_0x561387[_0x4672be(0x2b4)](path[_0x4672be(0x28e)](__dirname,bbpath,_0x4672be(0x20f),_0x4672be(0x27f)));}),app['get'](_0xe344e1(0x248),(_0x206884,_0x459128)=>{const _0x465ef1=_0xe344e1;_0x459128['sendFile'](path[_0x465ef1(0x28e)](__dirname,bbpath,'build',_0x465ef1(0x27f)));}),app[_0xe344e1(0x207)]('/:bot/support',(_0x410054,_0x2b4dbb)=>{const _0x86e20c=_0xe344e1;_0x2b4dbb[_0x86e20c(0x2b4)](path['join'](__dirname,bbpath,_0x86e20c(0x20f),_0x86e20c(0x27f)));}),http['listen'](PORT);const analytics=analyticsLib({'app':_0xe344e1(0x1e1),'plugins':[googleAnalytics({'trackingId':_0xe344e1(0x204)})]}),TelegramBot=require('node-telegram-bot-api');let tgBot;if(settings['telegramToken']&&settings[_0xe344e1(0x239)]!=''&&settings[_0xe344e1(0x226)]&&settings[_0xe344e1(0x226)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x2749d9=_0xe344e1;console[_0x2749d9(0x22e)](''),console[_0x2749d9(0x22e)]('-----------------------------------------------------------------------------------'),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console[_0x2749d9(0x22e)](_0x2749d9(0x21a));if(config[_0x2749d9(0x22a)]!=0x0)config['forEach'](_0x2828c3=>{const _0x47b42b=_0x2749d9;if(_0x2828c3[_0x47b42b(0x1c8)]==_0x47b42b(0x1bd)||_0x2828c3[_0x47b42b(0x1c8)]==_0x47b42b(0x20e))logging('starting\x20bot\x20|\x20Bot\x20'+_0x2828c3[_0x47b42b(0x1fa)]+_0x47b42b(0x28b)+_0x2828c3[_0x47b42b(0x2ac)]),startBot([_0x2828c3[_0x47b42b(0x1fa)]],{'cwd':bbpath},function(_0x317d0f){if(_0x317d0f)logging(_0x317d0f);});else(_0x2828c3['status']=='disabled'||_0x2828c3[_0x47b42b(0x1c8)]=='new-disabled')&&logging('idling\x20bot\x20\x20\x20|\x20Bot\x20'+_0x2828c3[_0x47b42b(0x1fa)]+_0x47b42b(0x28b)+_0x2828c3['botname']);});else!newBot&&console[_0x2749d9(0x22e)](_0x2749d9(0x261));if(newBot)addBot();console[_0x2749d9(0x22e)](_0x2749d9(0x21a)),console[_0x2749d9(0x22e)]('');}function startSocket(){const _0x7155db=_0xe344e1,_0x2be86a=require(_0x7155db(0x27b))(http,{});_0x2be86a['on']('connection',_0x55bb2b=>{const _0x27d48c=_0x7155db;let _0x3d1691,_0x1bf662,_0x4d9df0;const _0x4bc9ab=_0x55bb2b['handshake'][_0x27d48c(0x225)][_0x27d48c(0x20b)],_0x2b316f=_0x55bb2b['handshake']['auth'][_0x27d48c(0x2ba)];if(!_0x2b316f)_0x55bb2b[_0x27d48c(0x25c)](_0x27d48c(0x1c8),{'publicKey':secure[_0x27d48c(0x1a2)]});else{uuid=timelyDecrypt(_0x55bb2b[_0x27d48c(0x224)][_0x27d48c(0x2b5)][_0x27d48c(0x2ba)],![]),_0x1bf662=_0x4bc9ab[_0x27d48c(0x1f1)](/bot[0-9]{3}/);if(_0x1bf662)_0x4d9df0=_0x1bf662[0x0]['match'](/[0-9]{3}/);if(_0x4d9df0)_0x3d1691=_0x4d9df0[0x0];else _0x3d1691=_0x27d48c(0x259);if(socket[_0x3d1691])socket[_0x3d1691][_0x27d48c(0x263)](!![]);socket[_0x3d1691]=_0x55bb2b,setAccess(_0x3d1691);if(accessControl[_0x27d48c(0x217)]){if(_0x3d1691=='botmanager')initializeSocketBotManager();else initializeSocketBot(_0x3d1691);}if(!serverStatus[_0x3d1691])serverStatus[_0x3d1691]=_0x27d48c(0x20a);socket[_0x3d1691]['on'](_0x27d48c(0x276),_0x165631=>{const _0x5e3681=_0x27d48c,_0x17b07b=timelyDecrypt(_0x165631['password']);if(_0x17b07b){_0x165631={'username':_0x165631[_0x5e3681(0x1f5)],'password':_0x17b07b};let _0x261425=validateCredentials(_0x165631);if(_0x261425[_0x5e3681(0x217)]==![]&&_0x261425[_0x5e3681(0x1f9)]==_0x5e3681(0x29e))socket[_0x3d1691][_0x5e3681(0x25c)](_0x5e3681(0x1c8),{'access':_0x261425}),loginAccess2FA(externalip);else{if(_0x261425[_0x5e3681(0x217)]==![]&&_0x261425[_0x5e3681(0x1f9)]==_0x5e3681(0x1d8))socket[_0x3d1691]['emit'](_0x5e3681(0x1c8),{'access':_0x261425});else{if(_0x261425[_0x5e3681(0x217)]&&_0x261425[_0x5e3681(0x1f9)]==_0x5e3681(0x1c3)){token=_0x261425['token'];for(let _0x4d1f7f in socket){if(_0x4d1f7f==_0x5e3681(0x259))initializeSocketBotManager();else initializeSocketBot(_0x4d1f7f);socket[_0x4d1f7f]['emit'](_0x5e3681(0x1c8),{'status':serverStatus[_0x4d1f7f]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x261425,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x5e3681(0x276));}}}}else logging(_0x5e3681(0x297));}),socket[_0x3d1691]['on'](_0x27d48c(0x2b8),()=>{resetPassword();}),socket[_0x3d1691]['on'](_0x27d48c(0x263),_0x376fa3=>{let _0x208367=[];for(let _0x2ececa in socket){if(_0x2ececa!=_0x3d1691)_0x208367[_0x2ececa]=socket[_0x2ececa];}socket=_0x208367;});if(_0x3d1691!=_0x27d48c(0x259)&&config['apiKey']!=''){if(pid[_0x3d1691])pid[_0x3d1691][_0x27d48c(0x255)]({'function':'initclient','args':null});}}});}function setAccess(_0x310a38){const _0x35a104=_0xe344e1;externalip=normalizeIP(socket[_0x310a38][_0x35a104(0x272)][_0x35a104(0x2be)])['store'],accessControl=validateAccess(token),accessControl[_0x35a104(0x285)]&&accessControl[_0x35a104(0x1f9)]==_0x35a104(0x1b5)&&setSessionTimeout(_0x35a104(0x267)),accessControl[_0x35a104(0x285)]&&accessControl[_0x35a104(0x1f9)]==_0x35a104(0x19f)&&setSessionTimeout(_0x35a104(0x276)),socket[_0x310a38]['emit'](_0x35a104(0x1c8),{'status':serverStatus[_0x310a38]||_0x35a104(0x1f2),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x35a104(0x1a2)],'loginNow':accessControl[_0x35a104(0x1f9)]==_0x35a104(0x1a1)||accessControl['reason']==_0x35a104(0x29e)}),accessControl[_0x35a104(0x217)]==![]&&accessControl[_0x35a104(0x1f9)]==_0x35a104(0x221)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x3cc792){const _0x33d657=_0xe344e1;let _0x147b65;if(_0x3cc792==_0x33d657(0x276))_0x147b65=loginExpiry*0x3c*0x3e8;else _0x147b65=telegramIpApproval[_0x33d657(0x2ad)]*0x3c*0x3e8-(new Date()['getTime']()-telegramIpApproval[_0x33d657(0x1e2)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x19f223=_0x33d657;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x524b89=validateAccess(token);if(!(_0x524b89[_0x19f223(0x217)]&&_0x524b89[_0x19f223(0x1f9)]==_0x19f223(0x2a8)))for(let _0x2c9653 in socket){socket[_0x2c9653][_0x19f223(0x25c)](_0x19f223(0x1c8),{'access':{'allow':![],'reason':'access\x20timeout','token':null}});}token=null;},_0x147b65);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x35c234=_0x1a8b;let _0x5e6f49=refreshToken();for(let _0x49acc4 in socket){socket[_0x49acc4][_0x35c234(0x25c)]('status',{'status':serverStatus[_0x49acc4]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x5e6f49,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x485e38=_0xe344e1;socket['botmanager'][_0x485e38(0x25c)](_0x485e38(0x210),config),socket[_0x485e38(0x259)][_0x485e38(0x25c)]('settings',cleanSettings()),socket[_0x485e38(0x259)]['on']('add-bot',_0x192546=>{const _0x5e4d1b=_0x485e38;if(validateAccess(_0x192546)[_0x5e4d1b(0x217)])addBot();else logging('Unauthorized\x20attempt\x20to\x20add\x20bot');}),socket['botmanager']['on'](_0x485e38(0x1f3),(_0x4f5e4,_0x33e1ee)=>{const _0x3b789b=_0x485e38;if(validateAccess(_0x33e1ee)[_0x3b789b(0x217)])toggleBot(_0x4f5e4[_0x3b789b(0x1fa)],_0x4f5e4[_0x3b789b(0x1c8)],_0x4f5e4[_0x3b789b(0x26f)]);else logging('Unauthorized\x20attempt\x20to\x20update\x20bot');}),socket[_0x485e38(0x259)]['on'](_0x485e38(0x23e),(_0x12df20,_0x322869)=>{const _0x961d55=_0x485e38;if(validateAccess(_0x322869)[_0x961d55(0x217)])deleteBot(_0x12df20);else logging(_0x961d55(0x244));}),socket[_0x485e38(0x259)]['on'](_0x485e38(0x2a1),(_0xdaaf28,_0x205cec)=>{const _0x3f80bc=_0x485e38;if(validateAccess(_0x205cec)[_0x3f80bc(0x217)])storeSettings(_0xdaaf28,!![]);else logging('Unauthorized\x20attempt\x20to\x20update\x20settings');}),socket[_0x485e38(0x259)]['on'](_0x485e38(0x289),_0x3021c0=>{const _0xc35cd5=_0x485e38;if(validateAccess(_0x3021c0)[_0xc35cd5(0x217)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x1d44f6 in socket){socket[_0x1d44f6][_0xc35cd5(0x25c)](_0xc35cd5(0x1c8),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0xc35cd5(0x279));});}function initializeSocketBot(_0x3cd9b0){const _0x8167c5=_0xe344e1;socket[_0x3cd9b0]['on'](_0x8167c5(0x1ac),(_0x270014,_0x11131f)=>{const _0x2e7aa0=_0x8167c5;if(validateAccess(_0x11131f)['allow']){if(pid[_0x3cd9b0])pid[_0x3cd9b0]['send']({'function':_0x2e7aa0(0x253),'args':_0x270014});}else logging(_0x2e7aa0(0x28d));}),socket[_0x3cd9b0]['on']('get-portfolio',(_0x26a431,_0x2e301f)=>{const _0x2a54c8=_0x8167c5;if(validateAccess(_0x2e301f)[_0x2a54c8(0x217)]){if(pid[_0x3cd9b0])pid[_0x3cd9b0][_0x2a54c8(0x255)]({'function':_0x2a54c8(0x268),'args':_0x26a431});}else logging('Unauthorized\x20attempt\x20to\x20get\x20portfolio');}),socket[_0x3cd9b0]['on'](_0x8167c5(0x280),(_0x4f7180,_0x1912c4)=>{const _0x32e066=_0x8167c5;if(validateAccess(_0x1912c4)[_0x32e066(0x217)]){if(pid[_0x3cd9b0])pid[_0x3cd9b0]['send']({'function':_0x32e066(0x230),'args':_0x4f7180});}else logging(_0x32e066(0x1ab));}),socket[_0x3cd9b0]['on'](_0x8167c5(0x2bd),(_0x4ee5e8,_0x42f65b)=>{const _0x2592c1=_0x8167c5;if(validateAccess(_0x42f65b)[_0x2592c1(0x217)]){if(pid[_0x3cd9b0])pid[_0x3cd9b0][_0x2592c1(0x255)]({'function':_0x2592c1(0x232),'args':_0x4ee5e8});}else logging(_0x2592c1(0x241));}),socket[_0x3cd9b0]['on']('get-starting-balances',_0x26c9af=>{const _0x8a9506=_0x8167c5;if(validateAccess(_0x26c9af)[_0x8a9506(0x217)]){if(pid[_0x3cd9b0])pid[_0x3cd9b0][_0x8a9506(0x255)]({'function':_0x8a9506(0x1a4),'args':null});}else logging('Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances');}),socket[_0x3cd9b0]['on'](_0x8167c5(0x22d),(_0x16e6f0,_0x5f4447)=>{const _0x540b32=_0x8167c5;if(validateAccess(_0x5f4447)[_0x540b32(0x217)]){if(pid[_0x3cd9b0])pid[_0x3cd9b0][_0x540b32(0x255)]({'function':'placeOrder','args':_0x16e6f0});}else logging(_0x540b32(0x25e));}),socket[_0x3cd9b0]['on'](_0x8167c5(0x289),_0x2be78c=>{const _0x57dc97=_0x8167c5;if(validateAccess(_0x2be78c)[_0x57dc97(0x217)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x3c7f7f in socket){socket[_0x3c7f7f][_0x57dc97(0x25c)](_0x57dc97(0x1c8),{'access':{'allow':![],'reason':_0x57dc97(0x24e),'token':null}});}}else logging(_0x57dc97(0x279));});}function removeSocketListeners(){const _0x209d81=_0xe344e1;for(let _0x27491e in socket){socket[_0x27491e][_0x209d81(0x228)]();}}function cleanSettings(){const _0xa6f036=_0xe344e1;let _0x49f64b=settings;return settings['telegramToken']&&settings[_0xa6f036(0x239)]!=''&&(_0x49f64b={..._0x49f64b,'telegramToken':_0xa6f036(0x1c2)}),settings[_0xa6f036(0x1aa)]&&settings['bbPassword']!=''&&(_0x49f64b={..._0x49f64b,'bbPassword':_0xa6f036(0x1c2)}),_0x49f64b;}function startBot(_0x5e8246,_0x2d1f5e,_0xf8836b){const _0x337d50=_0xe344e1;let _0x28225a=![];const _0x5cbf9f=_0x5e8246[0x0];_0x2d1f5e={..._0x2d1f5e,'stdio':['inherit','inherit','inherit',_0x337d50(0x219)]},pid[_0x5cbf9f]=childProcess[_0x337d50(0x1e6)](botfile,_0x5e8246,_0x2d1f5e),pid[_0x5cbf9f]['on'](_0x337d50(0x275),_0x5ce8ba=>{const _0x2b0548=_0x337d50;switch(Object[_0x2b0548(0x1e3)](_0x5ce8ba)[0x0]){case'botname':updateBotName(_0x5cbf9f,_0x5ce8ba[_0x2b0548(0x2ac)]);break;case'status':updateStatus(_0x5cbf9f,_0x5ce8ba[_0x2b0548(0x1c8)]);break;case _0x2b0548(0x26f):updateLive(_0x5cbf9f,_0x5ce8ba[_0x2b0548(0x26f)]);break;case'started':updateLive(_0x5cbf9f,_0x5ce8ba[_0x2b0548(0x21b)]);if(socket[_0x5cbf9f])socket[_0x5cbf9f][_0x2b0548(0x25c)]('status',{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x2b0548(0x25f):sendTelegram(_0x5cbf9f,_0x5ce8ba[_0x2b0548(0x25f)]);break;case _0x2b0548(0x229):if(socket[_0x5cbf9f])socket[_0x5cbf9f][_0x2b0548(0x25c)](_0x5ce8ba[_0x2b0548(0x229)],_0x5ce8ba[_0x2b0548(0x25b)]);break;}}),pid[_0x5cbf9f]['on'](_0x337d50(0x1ea),function(_0x283da6){if(_0x28225a)return;_0x28225a=!![],_0xf8836b(_0x283da6);}),pid[_0x5cbf9f]['on']('exit',function(_0x281cb6){const _0xccd60d=_0x337d50;if(_0x28225a)return;_0x28225a=!![],_0xf8836b(null);const _0x222e70=dbConfig[_0xccd60d(0x207)](_0xccd60d(0x210))[_0xccd60d(0x242)]({'botID':_0x5cbf9f})[_0xccd60d(0x1eb)]();_0x222e70&&(_0x222e70[_0xccd60d(0x1c8)]==_0xccd60d(0x1bd)||_0x222e70[_0xccd60d(0x1c8)]=='new')&&(updateLive(_0x5cbf9f,'stopped'),_0x281cb6!=0x4d&&(logging(_0xccd60d(0x266)+_0x5cbf9f),startBot([_0x5cbf9f],{'cwd':bbpath},function(_0xe9c208){if(_0xe9c208)logging(_0xe9c208);})));});}function stopBot(_0x3fa288){const _0x2cda00=_0xe344e1;if(socket[_0x3fa288])socket[_0x3fa288][_0x2cda00(0x263)](!![]);if(pid[_0x3fa288])pid[_0x3fa288][_0x2cda00(0x1c6)]();}function addBot(){const _0x11aeeb=_0xe344e1;let _0x1efaf8;for(let _0x14c75f=0x1;_0x14c75f<0x3e9;_0x14c75f++){_0x1efaf8=_0x14c75f[_0x11aeeb(0x21f)]()['padStart'](0x3,'0');let _0x27e1a1=config[_0x11aeeb(0x242)](_0x132ecd=>_0x132ecd[_0x11aeeb(0x1fa)]==_0x1efaf8);if(!_0x27e1a1)break;}if(_0x1efaf8==='1000'){logging(_0x11aeeb(0x1ec));return;}logging(_0x11aeeb(0x2a7)+_0x1efaf8),dbConfig['get'](_0x11aeeb(0x210))['push']({'botID':_0x1efaf8,'botname':_0x11aeeb(0x295)+_0x1efaf8,'status':_0x11aeeb(0x20e),'live':''})[_0x11aeeb(0x1be)](),startBot([_0x1efaf8],{'cwd':bbpath},function(_0x3d1dbd){if(_0x3d1dbd)logging(_0x3d1dbd);}),config=getConfiguration();if(socket['botmanager'])socket[_0x11aeeb(0x259)]['emit'](_0x11aeeb(0x210),config);}function deleteBot(_0x12fd09){const _0x3530c3=_0xe344e1;if(socket[_0x12fd09])socket[_0x12fd09][_0x3530c3(0x263)](!![]);dbConfig['get'](_0x3530c3(0x210))['remove']({'botID':_0x12fd09})[_0x3530c3(0x1be)](),logging(_0x3530c3(0x1fb)+_0x12fd09),stopBot(_0x12fd09);try{fs[_0x3530c3(0x1a8)](path[_0x3530c3(0x28e)](configpath,'bot-'+_0x12fd09+'-config.json')),fs[_0x3530c3(0x1a8)](path['join'](configpath,_0x3530c3(0x19d)+_0x12fd09+_0x3530c3(0x20d))),fs[_0x3530c3(0x1a8)](path[_0x3530c3(0x28e)](configpath,_0x3530c3(0x19d)+_0x12fd09+_0x3530c3(0x1ef))),fs[_0x3530c3(0x1a8)](path[_0x3530c3(0x28e)](configpath,_0x3530c3(0x19d)+_0x12fd09+_0x3530c3(0x201)));}catch(_0x45ab78){if(_0x45ab78)logging(_0x3530c3(0x2a3),_0x45ab78);}config=getConfiguration();if(socket[_0x3530c3(0x259)])socket[_0x3530c3(0x259)][_0x3530c3(0x25c)](_0x3530c3(0x210),config);}function toggleBot(_0x153bc1,_0x2ea3ab,_0x2a7fa2){const _0x129822=_0xe344e1;dbConfig[_0x129822(0x207)]('bots')['find']({'botID':_0x153bc1})[_0x129822(0x258)]({'status':_0x2ea3ab})[_0x129822(0x258)]({'live':_0x2a7fa2})['write']();if(_0x2ea3ab=='enabled'||_0x2ea3ab==_0x129822(0x20e))logging(_0x129822(0x247)+_0x153bc1),startBot([_0x153bc1],{'cwd':bbpath},function(_0x3ea7bf){if(_0x3ea7bf)logging(_0x3ea7bf);});else(_0x2ea3ab==_0x129822(0x1af)||_0x2ea3ab==_0x129822(0x1a6))&&(logging(_0x129822(0x2b7)+_0x153bc1),stopBot(_0x153bc1));config=getConfiguration();if(socket['botmanager'])socket[_0x129822(0x259)]['emit'](_0x129822(0x210),config);}function updateStatus(_0x5cece3,_0x52f6bc){const _0x37eb4e=_0xe344e1;dbConfig[_0x37eb4e(0x207)](_0x37eb4e(0x210))[_0x37eb4e(0x242)]({'botID':_0x5cece3})[_0x37eb4e(0x258)]({'status':_0x52f6bc})[_0x37eb4e(0x1be)](),config=getConfiguration();if(socket[_0x37eb4e(0x259)])socket[_0x37eb4e(0x259)][_0x37eb4e(0x25c)](_0x37eb4e(0x210),config);}function updateLive(_0x34bcd6,_0x330652){const _0x3d3580=_0xe344e1;dbConfig[_0x3d3580(0x207)]('bots')[_0x3d3580(0x242)]({'botID':_0x34bcd6})[_0x3d3580(0x258)]({'live':_0x330652})[_0x3d3580(0x1be)](),config=getConfiguration();if(socket[_0x3d3580(0x259)])socket[_0x3d3580(0x259)][_0x3d3580(0x25c)](_0x3d3580(0x210),config);}function updateBotName(_0x6a096a,_0xa647f4){const _0x51be15=_0xe344e1;dbConfig[_0x51be15(0x207)](_0x51be15(0x210))['find']({'botID':_0x6a096a})[_0x51be15(0x258)]({'botname':_0xa647f4})[_0x51be15(0x1be)](),config=getConfiguration();if(socket[_0x51be15(0x259)])socket[_0x51be15(0x259)][_0x51be15(0x25c)](_0x51be15(0x210),config);}function telegramError(_0x443243){const _0xf5613e=_0xe344e1;console[_0xf5613e(0x22e)](getTimeStamp()+_0xf5613e(0x27e));}function validateTelegram(_0x2a8029){const _0x2d95be=_0xe344e1;if(_0x2a8029[_0x2d95be(0x1b0)]['username']!=settings[_0x2d95be(0x226)]&&'@'+_0x2a8029[_0x2d95be(0x1b0)][_0x2d95be(0x1f5)]!=settings[_0x2d95be(0x226)])return tgBot['sendMessage'](_0x2a8029['chat']['id'],_0x2d95be(0x269),{'parse_mode':_0x2d95be(0x277)})[_0x2d95be(0x205)](_0x34703f=>{telegramError(_0x34703f);}),![];return!![];}async function initTelegram(){const _0x2fc112=_0xe344e1;if(tgBot)tgBot[_0x2fc112(0x19c)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings['telegramToken'],{'polling':!![]});let _0x56e082=_0x2fc112(0x1b8);_0x56e082+='\x0a',_0x56e082+=_0x2fc112(0x238),_0x56e082+=_0x2fc112(0x1e7),_0x56e082+=_0x2fc112(0x21d),_0x56e082+='/restart\x20-\x20restart\x20a\x20bot\x0a',_0x56e082+=_0x2fc112(0x2b3),_0x56e082+='/help\x20-\x20show\x20avaiable\x20commands\x0a';let _0x2b89d0=_0x2fc112(0x1d4);_0x2b89d0+='\x0a',_0x2b89d0+=_0x56e082,tgBot['onText'](/\/start/,_0x24a47a=>{const _0x2f1874=_0x2fc112;if(!validateTelegram(_0x24a47a))return;if(settings[_0x2f1874(0x288)]!=_0x24a47a[_0x2f1874(0x274)]['id'])updateSetting(_0x2f1874(0x288),_0x24a47a['chat']['id']);updateSetting(_0x2f1874(0x270),!![]),tgBot[_0x2f1874(0x1c5)](_0x24a47a[_0x2f1874(0x274)]['id'],_0x2b89d0)[_0x2f1874(0x205)](_0x5d20eb=>{telegramError(_0x5d20eb);});}),tgBot[_0x2fc112(0x29b)](/\/enable/,_0x12b5cb=>{const _0x504b48=_0x2fc112;if(!validateTelegram(_0x12b5cb))return;if(settings[_0x504b48(0x288)]!=_0x12b5cb[_0x504b48(0x274)]['id'])updateSetting(_0x504b48(0x288),_0x12b5cb[_0x504b48(0x274)]['id']);updateSetting(_0x504b48(0x270),!![]),tgBot[_0x504b48(0x1c5)](_0x12b5cb['chat']['id'],_0x504b48(0x24a))['catch'](_0x5c527b=>{telegramError(_0x5c527b);});}),tgBot[_0x2fc112(0x29b)](/\/config/,async _0x49a798=>{const _0x4b238b=_0x2fc112;if(!validateTelegram(_0x49a798))return;tgBot[_0x4b238b(0x2a6)](_0x4b238b(0x2b1)),tgBot['sendMessage'](_0x49a798[_0x4b238b(0x274)]['id'],_0x4b238b(0x1f8),{'reply_markup':{'inline_keyboard':[[{'text':_0x4b238b(0x2a2),'callback_data':'orders'},{'text':_0x4b238b(0x23d),'callback_data':_0x4b238b(0x1ad)},{'text':_0x4b238b(0x23c),'callback_data':'all'}]]}})[_0x4b238b(0x205)](_0x59184d=>{telegramError(_0x59184d);}),tgBot['on'](_0x4b238b(0x2b1),async _0x53fbdd=>{const _0xce3099=_0x4b238b,_0x37b557=_0x53fbdd[_0xce3099(0x299)],_0x5bdea2=_0x53fbdd['message'];tgBot[_0xce3099(0x28f)](_0x53fbdd['id'])[_0xce3099(0x1ff)](async()=>{const _0x2bf70d=_0xce3099;_0x37b557==_0x2bf70d(0x1da)&&(updateSetting('telegramEvents',_0x2bf70d(0x1da)),updateSetting(_0x2bf70d(0x270),!![]),await tgBot[_0x2bf70d(0x1c5)](_0x5bdea2['chat']['id'],_0x2bf70d(0x2a9))[_0x2bf70d(0x205)](_0x1fa7e9=>{telegramError(_0x1fa7e9);}));_0x37b557==_0x2bf70d(0x1ad)&&(updateSetting(_0x2bf70d(0x1d6),_0x2bf70d(0x1ad)),updateSetting(_0x2bf70d(0x270),!![]),await tgBot['sendMessage'](_0x5bdea2[_0x2bf70d(0x274)]['id'],'Ok,\x20will\x20send\x20alert\x20notifications\x20only')[_0x2bf70d(0x205)](_0x610702=>{telegramError(_0x610702);}));_0x37b557=='all'&&(updateSetting(_0x2bf70d(0x1d6),'all'),updateSetting('telegramEnabled',!![]),await tgBot[_0x2bf70d(0x1c5)](_0x5bdea2[_0x2bf70d(0x274)]['id'],_0x2bf70d(0x243))[_0x2bf70d(0x205)](_0x2aed3a=>{telegramError(_0x2aed3a);}));if(!settings[_0x2bf70d(0x288)])tgBot['sendMessage'](_0x5bdea2[_0x2bf70d(0x274)]['id'],_0x2bf70d(0x250))['catch'](_0x9b1ace=>{telegramError(_0x9b1ace);});}),tgBot['removeListener'](_0xce3099(0x2b1));});}),tgBot[_0x2fc112(0x29b)](/\/status/,_0x213800=>{const _0x5f3307=_0x2fc112;if(!validateTelegram(_0x213800))return;let _0x2c3f55=_0x5f3307(0x26a);config[_0x5f3307(0x2ab)](_0x5ce395=>{const _0x53cfec=_0x5f3307;_0x2c3f55+='Bot\x20'+_0x5ce395[_0x53cfec(0x1fa)]+_0x53cfec(0x28b)+_0x5ce395[_0x53cfec(0x2ac)]+':\x20'+_0x5ce395[_0x53cfec(0x1c8)]+'\x20/\x20'+_0x5ce395[_0x53cfec(0x26f)]+'\x0a';}),_0x2c3f55+='\x0a',_0x2c3f55+=_0x5f3307(0x290),_0x2c3f55+=!settings[_0x5f3307(0x270)]?'Notifications\x20disabled\x0a':_0x5f3307(0x2bb),_0x2c3f55+=settings[_0x5f3307(0x270)]?settings[_0x5f3307(0x1d6)]==_0x5f3307(0x1db)?_0x5f3307(0x1bb):_0x5f3307(0x29c)+settings[_0x5f3307(0x1d6)]+_0x5f3307(0x23b):'',tgBot[_0x5f3307(0x1c5)](_0x213800[_0x5f3307(0x274)]['id'],_0x2c3f55,{'parse_mode':_0x5f3307(0x277)})[_0x5f3307(0x205)](_0x505322=>{telegramError(_0x505322);});}),tgBot[_0x2fc112(0x29b)](/\/restart/,_0x10e3bf=>{const _0x494f0f=_0x2fc112;if(!validateTelegram(_0x10e3bf))return;tgBot[_0x494f0f(0x2a6)](_0x494f0f(0x2b1));const _0x53c9be=getEnabledBots();if(_0x53c9be[_0x494f0f(0x22a)]==0x0)tgBot[_0x494f0f(0x1c5)](_0x10e3bf[_0x494f0f(0x274)]['id'],_0x494f0f(0x1a5))[_0x494f0f(0x205)](_0x2146f8=>{telegramError(_0x2146f8);});else{let _0x5331fb=[],_0x261b4=[];const _0x2aebcf=_0x53c9be[_0x494f0f(0x22a)]%0x4==0x0||_0x53c9be[_0x494f0f(0x22a)]%0x4==0x3||_0x53c9be[_0x494f0f(0x22a)]%0x3==0x1?0x4:0x3;let _0x548bd3=0x0;_0x53c9be['forEach']((_0x1e4a5c,_0x598cea)=>{const _0x429500=_0x494f0f;if(_0x598cea%_0x2aebcf==0x0)_0x261b4=[];_0x261b4[_0x429500(0x249)]({'text':'Bot\x20'+_0x1e4a5c[_0x429500(0x1fa)],'callback_data':_0x1e4a5c[_0x429500(0x1fa)]}),_0x598cea%_0x2aebcf==0x0&&(_0x5331fb[_0x548bd3]=_0x261b4,_0x548bd3++);}),tgBot[_0x494f0f(0x1c5)](_0x10e3bf['chat']['id'],_0x494f0f(0x212),{'reply_markup':{'inline_keyboard':_0x5331fb}})[_0x494f0f(0x205)](_0x5b2392=>{telegramError(_0x5b2392);}),tgBot['on']('callback_query',async _0x18adae=>{const _0x588b33=_0x494f0f,_0xf69f7c=_0x18adae[_0x588b33(0x299)],_0x43e872=_0x18adae[_0x588b33(0x275)];tgBot[_0x588b33(0x28f)](_0x18adae['id'])['then'](async()=>{const _0x5e8244=_0x588b33;if(settings['telegramEvents']==_0x5e8244(0x1da))tgBot['sendMessage'](_0x43e872[_0x5e8244(0x274)]['id'],_0x5e8244(0x1cc)+_0xf69f7c)[_0x5e8244(0x205)](_0x44b586=>{telegramError(_0x44b586);});stopBot(_0xf69f7c);}),tgBot[_0x588b33(0x2a6)](_0x588b33(0x2b1));});}}),tgBot[_0x2fc112(0x29b)](/\/disable/,_0x380d60=>{const _0xe7b962=_0x2fc112;if(!validateTelegram(_0x380d60))return;tgBot[_0xe7b962(0x1c5)](_0x380d60[_0xe7b962(0x274)]['id'],_0xe7b962(0x1fd))[_0xe7b962(0x205)](_0x55991b=>{telegramError(_0x55991b);}),updateSetting(_0xe7b962(0x270),![]);}),tgBot[_0x2fc112(0x29b)](/\/help/,_0x539670=>{const _0x2ed419=_0x2fc112;if(!validateTelegram(_0x539670))return;tgBot[_0x2ed419(0x1c5)](_0x539670[_0x2ed419(0x274)]['id'],_0x56e082)[_0x2ed419(0x205)](_0x1ec3b2=>{telegramError(_0x1ec3b2);});}),tgBot['on'](_0x2fc112(0x291),_0x4df32d=>{const _0xbe579=_0x2fc112;if(_0x4df32d[_0xbe579(0x21f)]()[_0xbe579(0x282)]('404\x20Not\x20Found')){logging('Invalid\x20Telegram\x20token'),tgBot['stopPolling'](),tgBot=null;if(socket['botmanager'])socket['botmanager'][_0xbe579(0x25c)](_0xbe579(0x25a),_0xbe579(0x2b2));}}),process[_0x2fc112(0x1bc)](_0x2fc112(0x298),()=>{const _0x2d5337=_0x2fc112;if(tgBot)tgBot[_0x2d5337(0x19c)]();process[_0x2d5337(0x24d)](0x1);}),process['once'](_0x2fc112(0x2b9),()=>{const _0x432f75=_0x2fc112;if(tgBot)tgBot[_0x432f75(0x19c)]();process[_0x432f75(0x24d)](0x1);});}}function disableTelegram(){tgBot&&(tgBot['stopPolling'](),tgBot=null);}function sendTelegram(_0x220d58,_0x4e0a22){const _0x4f4f0e=_0xe344e1;if(settings[_0x4f4f0e(0x270)]){if(settings[_0x4f4f0e(0x1d6)]==_0x4f4f0e(0x1db)||(_0x4e0a22[_0x4f4f0e(0x1ce)]==_0x4f4f0e(0x1ea)||_0x4e0a22[_0x4f4f0e(0x1ce)]==_0x4f4f0e(0x2b6))&&settings[_0x4f4f0e(0x1d6)]==_0x4f4f0e(0x1ad)||_0x4e0a22[_0x4f4f0e(0x1ce)]=='order'&&settings['telegramEvents']==_0x4f4f0e(0x1da)){if(tgBot&&settings[_0x4f4f0e(0x288)])tgBot[_0x4f4f0e(0x1c5)](settings[_0x4f4f0e(0x288)],_0x4f4f0e(0x295)+_0x220d58+_0x4f4f0e(0x246)+_0x4e0a22[_0x4f4f0e(0x28a)])[_0x4f4f0e(0x205)](_0x25b628=>{telegramError(_0x25b628);});}}}function temporaryAccess2FA(_0x4bef46){const _0x4f0e19=_0xe344e1;let _0x2a170c=new Date(),_0x296fca=![];if(lastIpApproval){if(_0x2a170c-lastIpApproval<0x1388)_0x296fca=!![];}lastIpApproval=new Date();if(_0x296fca)return;tgBot&&settings['telegramChatId']&&(tgBot[_0x4f0e19(0x2a6)](_0x4f0e19(0x2b1)),tgBot[_0x4f0e19(0x1c5)](settings[_0x4f0e19(0x288)],_0x4f0e19(0x215)+normalizeIP(_0x4bef46)['show']+_0x4f0e19(0x1b1),{'parse_mode':_0x4f0e19(0x277),'reply_markup':{'inline_keyboard':[[{'text':_0x4f0e19(0x28c),'callback_data':'5'},{'text':_0x4f0e19(0x278),'callback_data':'15'},{'text':'30\x20min','callback_data':'30'},{'text':_0x4f0e19(0x1b2),'callback_data':_0x4f0e19(0x1b2)}]]}})[_0x4f0e19(0x205)](_0x4298e7=>{telegramError(_0x4298e7);}),tgBot['on'](_0x4f0e19(0x2b1),async _0x8a5173=>{const _0x3265cc=_0x4f0e19,_0x1dda2a=_0x8a5173[_0x3265cc(0x299)],_0x3cd368=_0x8a5173[_0x3265cc(0x275)];tgBot[_0x3265cc(0x28f)](_0x8a5173['id'])[_0x3265cc(0x1ff)](async()=>{const _0x40841d=_0x3265cc;if(_0x1dda2a!=_0x40841d(0x1b2)){telegramIpApproval={'clientip':_0x4bef46,'timestamp':new Date()['getTime'](),'expiry':_0x1dda2a},await tgBot['sendMessage'](_0x3cd368[_0x40841d(0x274)]['id'],'Access\x20enabled\x20for\x20'+_0x1dda2a+_0x40841d(0x2a0),{'parse_mode':_0x40841d(0x277)})[_0x40841d(0x205)](_0xd6ab89=>{telegramError(_0xd6ab89);});for(let _0x2dc6d1 in socket){socket[_0x2dc6d1][_0x40841d(0x25c)](_0x40841d(0x1c8),{'access':{'allow':![],'reason':_0x40841d(0x213),'token':null}});}}else await tgBot[_0x40841d(0x1c5)](_0x3cd368[_0x40841d(0x274)]['id'],_0x40841d(0x1e4))[_0x40841d(0x205)](_0x207939=>{telegramError(_0x207939);});}),tgBot['removeListener'](_0x3265cc(0x2b1));}));}function loginAccess2FA(_0x1b7f3b){const _0x4d8ebf=_0xe344e1;tgBot&&settings['telegramChatId']&&(tgBot['removeListener']('callback_query'),tgBot[_0x4d8ebf(0x1c5)](settings[_0x4d8ebf(0x288)],_0x4d8ebf(0x200)+normalizeIP(_0x1b7f3b)[_0x4d8ebf(0x1c9)]+_0x4d8ebf(0x1b1),{'parse_mode':_0x4d8ebf(0x277),'reply_markup':{'inline_keyboard':[[{'text':_0x4d8ebf(0x1ed),'callback_data':loginExpiry},{'text':_0x4d8ebf(0x1b2),'callback_data':_0x4d8ebf(0x1b2)}]]}})['catch'](_0x88a7d3=>{telegramError(_0x88a7d3);}),tgBot['on'](_0x4d8ebf(0x2b1),async _0x1ddb2a=>{const _0x5559b4=_0x4d8ebf,_0x203034=_0x1ddb2a[_0x5559b4(0x299)],_0xbcd0ee=_0x1ddb2a[_0x5559b4(0x275)];tgBot[_0x5559b4(0x28f)](_0x1ddb2a['id'])['then'](async()=>{const _0x1af393=_0x5559b4;if(_0x203034!=_0x1af393(0x1b2)){telegram2FaApproval={'clientip':_0x1b7f3b,'timestamp':new Date()[_0x1af393(0x245)](),'expiry':_0x203034},await tgBot[_0x1af393(0x1c5)](_0xbcd0ee[_0x1af393(0x274)]['id'],_0x1af393(0x1d3),{'parse_mode':'HTML'})[_0x1af393(0x205)](_0x133b60=>{telegramError(_0x133b60);});for(let _0x41383c in socket){socket[_0x41383c]['emit'](_0x1af393(0x1c8),{'access':{'allow':![],'reason':_0x1af393(0x213),'token':null}});}}else await tgBot['sendMessage'](_0xbcd0ee[_0x1af393(0x274)]['id'],'Login\x20rejected')[_0x1af393(0x205)](_0x38d616=>{telegramError(_0x38d616);});}),tgBot[_0x5559b4(0x2a6)](_0x5559b4(0x2b1));}));}function getConfiguration(){const _0x1a7618=_0xe344e1;return dbConfig[_0x1a7618(0x207)]('bots')['sortBy']('botID')['value']()||[];}function getEnabledBots(){const _0x2b1306=_0xe344e1;return dbConfig[_0x2b1306(0x207)](_0x2b1306(0x210))['sortBy']('botID')['filter']({'status':_0x2b1306(0x1bd)})[_0x2b1306(0x1eb)]()||[];}function getSettings(){const _0x373ef9=_0xe344e1;return dbSettings['get'](_0x373ef9(0x29a))[_0x373ef9(0x1eb)]()||{'timeshift':0x0};}function getSecure(){const _0x3492e1=_0xe344e1;return dbSecure[_0x3492e1(0x207)](_0x3492e1(0x22c))[_0x3492e1(0x1eb)]()||{};}function getBlacklist(){const _0xb3aca4=_0xe344e1;return dbSecure['get'](_0xb3aca4(0x1b4))['value']()||[];}function _0x42ae(){const _0x5d7e1c=['-performance.json','ipaddr.js','match','starting','update-bot','remove','username','hasOwnProperty','secret','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','reason','botID','deleted\x20Bot\x20','f2aRequired','Notifications\x20disabled','162664TgWbJJ','then','Allow\x20login\x20from\x20IP\x20address\x20<b>','-results.json','build2','Invalid\x20IP\x20address','UA-192771731-1','catch','http','get','8LMJEYk','toIPv4Address','connected','referer','toIPv4MappedAddress','-events.json','new','build','bots','(((.+)+)+)+$','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','reload','version.json','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','max','allow','crypto','ipc','-----------------------------------------------------------------------------------','started','ipv6','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','decrypt','toString','Bot\x20Mgr\x20>\x20','2FA\x20required','4251696gfgUXP','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','handshake','headers','telegramUsername','config/','removeAllListeners','function','length','apply','secure','place-order','log','express','storeConfiguration','loginRequired','storeHeadless','env','timeshift','analytics','mkdirSync','sign','/enable\x20-\x20enable\x20notifications\x0a','telegramToken','Invalid\x20authentication\x20token\x20(1)','\x20only\x0a','All','Alerts','delete-bot','getHours','set','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','find','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','Unauthorized\x20attempt\x20to\x20delete\x20bot','getTime','\x20>\x20','enabled\x20Bot\x20','/:bot/configuration','push','Notifications\x20enabled','jsonwebtoken','Invalid\x20username\x20or\x20IP\x20address','exit','logged\x20out','/:bot/coins','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','getMinutes','::1','emitHistory','add','send','static','Crypt','assign','botmanager','notification','args','emit','whitelist','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','telegram','child_process','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','disconnect','use','stopped','restarting\x20Bot\x20','2FA','getPortfolio','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','<b>Balance\x20Bot\x20status:</b>\x0a','isIPv4MappedAddress','::ffff:127.0.0.1','getDate','624081fySZjx','live','telegramEnabled','generateKeyPairAsync','conn','getMonth','chat','message','login','HTML','15\x20min','Unauthorized\x20attempt\x20to\x20log\x20out','password','socket.io','date-fns','405396PXtLla',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','index.html','store-configuration','1325210tNOfzX','includes','split','No\x20authentication\x20token','token','clientip','default','telegramChatId','logout','event','\x20|\x20','5\x20min','Unauthorized\x20attempt\x20to\x20get\x20logs','join','answerCallbackQuery','<b>Telegram\x20bot\x20status:</b>\x0a','polling_error','whitelistEnabled','temporary\x20access\x20not\x20allowed','@analytics/google-analytics','Bot\x20','4553060oqBkIp','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','SIGINT','data','settings','onText','Notifications\x20types:\x20','randomBytes','2FA\x20login\x20required','bcryptjs','\x20minutes','store-settings','Orders','error\x20while\x20deleting\x20log\x20files:\x20','7YZpBlT','/:bot','removeListener','starting\x20new\x20bot\x20|\x20Bot\x20','login\x20not\x20required','Ok,\x20will\x20send\x20order\x20notifications\x20only','RSA','forEach','botname','expiry','settings.','lowdb','bbUsername','callback_query','Invalid\x20Telegram\x20token','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','sendFile','auth','success','disabled\x20Bot\x20','reset-password','SIGTERM','encryptedUuid','Notifications\x20enabled\x0a','getFullYear','store-headless','remoteAddress','hex','stopPolling','bot-','padStart','2FA\x20login\x20token\x20generated','/:bot/performance','login\x20required','publicKey','2978772glwBcZ','getStartingBalances','No\x20bots\x20enabled\x20right\x20now','new-disabled','createServer','unlinkSync','parse','bbPassword','Unauthorized\x20attempt\x20to\x20store\x20configuration','get-logs','alerts','running','disabled','from','</b>\x20?','reject','bb/','blacklist','temporary\x20token\x20generated','defaults','User\x20has\x20been\x20validated','You\x20can\x20use\x20the\x20following\x20commands:\x0a','sha256','lowdb/adapters/FileSync','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','once','enabled','write','11gWNRqS','bb-settings.json','2YdOQKX','************','login\x20token\x20generated','Password\x20has\x20been\x20reset\x20to:\x20','sendMessage','kill','Balance\x20Bot\x20Server','status','show','exp','randomFillSync','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','temporaryAccessAllowed','type','127.0.0.1','/:bot/history','13iMrMhP','search','Login\x20accepted','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','version','telegramEvents','48yyVDSW','invalid\x20credentials','Password\x20reset\x20rejected','orders','all','privateKey','compareSync','getSeconds','NTBA_FIX_319','yes','Balance\x20Bot','timestamp','keys','Temporary\x20access\x20rejected','constructor','fork','/disable\x20-\x20disable\x20notifications\x0a','Invalid\x20authentication\x20token\x20(2)','existsSync','error','value','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','accept','hybrid-crypto-js'];_0x42ae=function(){return _0x5d7e1c;};return _0x42ae();}function broadcastToBots(_0x289c57,_0x2a4259){const _0xc1043a=_0xe344e1;config[_0xc1043a(0x2ab)](_0x3e1758=>{const _0x7ecf25=_0xc1043a;if(_0x3e1758[_0x7ecf25(0x1c8)]==_0x7ecf25(0x1bd)&&_0x3e1758[_0x7ecf25(0x26f)]==_0x7ecf25(0x1ae)){if(pid[_0x3e1758[_0x7ecf25(0x1fa)]])pid[_0x3e1758[_0x7ecf25(0x1fa)]]['send']({[_0x289c57]:_0x2a4259});}});}function storeSettings(_0x55f703,_0x5f5a83=![]){const _0x23d391=_0xe344e1;_0x55f703={...settings,..._0x55f703};if(_0x5f5a83&&_0x55f703[_0x23d391(0x1aa)]!=_0x23d391(0x1c2)&&_0x55f703[_0x23d391(0x1aa)]!=''){const _0x19e6cb=crypt[_0x23d391(0x21e)](secure[_0x23d391(0x1dc)],_0x55f703['bbPassword'])[_0x23d391(0x275)][_0x23d391(0x283)]('@')[0x0],_0x5f4d3f=bcrypt['hashSync'](_0x19e6cb,saltRounds);_0x55f703={..._0x55f703,'bbPassword':_0x5f4d3f};}if(_0x5f5a83&&_0x55f703[_0x23d391(0x239)]!=_0x23d391(0x1c2)&&_0x55f703['telegramToken']!=''){const _0x2a9440=crypt[_0x23d391(0x21e)](secure[_0x23d391(0x1dc)],_0x55f703[_0x23d391(0x239)])[_0x23d391(0x275)][_0x23d391(0x283)]('@')[0x0];_0x55f703={..._0x55f703,'telegramToken':_0x2a9440};}const _0x565721=_0x55f703['telegramToken']!=_0x23d391(0x1c2)&&_0x55f703[_0x23d391(0x239)]!=settings[_0x23d391(0x239)]||_0x55f703['telegramUsername']!=settings['telegramUsername'],_0x17cd7d=_0x55f703[_0x23d391(0x239)]==''||_0x55f703[_0x23d391(0x226)]=='';if(_0x565721)_0x55f703[_0x23d391(0x1d6)]=_0x23d391(0x1db);for(const [_0x428d94,_0x5c9e1b]of Object['entries'](_0x55f703)){if(_0x428d94==_0x23d391(0x239)&&_0x5c9e1b==_0x23d391(0x1c2)){_0x55f703[_0x23d391(0x239)]=settings[_0x23d391(0x239)];continue;};if(_0x428d94=='bbPassword'&&_0x5c9e1b=='************'){_0x55f703[_0x23d391(0x1aa)]=settings[_0x23d391(0x1aa)];continue;};dbSettings[_0x23d391(0x240)](_0x23d391(0x2ae)+_0x428d94,_0x5c9e1b)[_0x23d391(0x1be)]();}settings=_0x55f703;if(socket[_0x23d391(0x259)])socket[_0x23d391(0x259)][_0x23d391(0x25c)]('settings',cleanSettings());broadcastToBots(_0x23d391(0x234),settings[_0x23d391(0x234)]);if(_0x565721&&!_0x17cd7d)initTelegram();if(_0x565721&&_0x17cd7d)disableTelegram();for(let _0x43cd55 in socket){setAccess(_0x43cd55);}}function updateSetting(_0x412bd8,_0x2fff65){const _0x360145=_0xe344e1;dbSettings[_0x360145(0x240)]('settings.'+_0x412bd8,_0x2fff65)[_0x360145(0x1be)](),settings=getSettings();if(socket['botmanager'])socket[_0x360145(0x259)][_0x360145(0x25c)](_0x360145(0x29a),cleanSettings());}function storeSecure(_0x38d17f){const _0x40c37f=_0xe344e1;dbSecure['get'](_0x40c37f(0x22c))[_0x40c37f(0x249)](_0x38d17f)[_0x40c37f(0x1be)](),secure=_0x38d17f;}function addBlacklist(){const _0x18d0f2=_0xe344e1;cleanBlacklist();let _0x41175c;telegramIpApproval?_0x41175c=Math[_0x18d0f2(0x216)](telegramIpApproval[_0x18d0f2(0x2ad)],loginExpiry):_0x41175c=loginExpiry,dbSecure['get'](_0x18d0f2(0x1b4))[_0x18d0f2(0x249)]({'expiry':new Date()['getTime']()+_0x41175c*0x3c*0x3e8,'token':token})[_0x18d0f2(0x1be)](),blacklist=dbSecure[_0x18d0f2(0x207)](_0x18d0f2(0x1b4))[_0x18d0f2(0x1eb)]();}function cleanBlacklist(){const _0x3ee856=_0xe344e1;let _0x5410a8=dbSecure[_0x3ee856(0x207)](_0x3ee856(0x1b4))['cloneDeep']()[_0x3ee856(0x1eb)](),_0x236eea=new Date()['getTime']();_0x5410a8[_0x3ee856(0x2ab)](_0x59d21e=>{const _0x499206=_0x3ee856;_0x59d21e['expiry']<_0x236eea&&dbSecure['get'](_0x499206(0x1b4))[_0x499206(0x1f4)]({'expiry':_0x59d21e['expiry']})[_0x499206(0x1be)]();});}function initStates(){const _0x14982d=_0xe344e1;let _0x226be1=getConfiguration();_0x226be1[_0x14982d(0x2ab)](_0x4292e8=>{const _0x48bf4d=_0x14982d;_0x4292e8[_0x48bf4d(0x26f)]=_0x48bf4d(0x265);}),storeConfiguration(_0x226be1);}function onKeys(){const _0x414d37=new RSA();return new Promise(_0x438102=>{const _0x1b84f5=_0x1a8b;_0x414d37[_0x1b84f5(0x271)]()[_0x1b84f5(0x1ff)](_0x33e408=>{_0x438102(_0x33e408);});});}function _0x1a8b(_0x4ed96d,_0x18b061){const _0x5d2c1b=_0x42ae();return _0x1a8b=function(_0x54de1d,_0x2bb0ef){_0x54de1d=_0x54de1d-0x19b;let _0x42ae6a=_0x5d2c1b[_0x54de1d];return _0x42ae6a;},_0x1a8b(_0x4ed96d,_0x18b061);}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x594cc9=_0xe344e1;let _0x28791b=getConfiguration(),_0x23f435=![];_0x28791b[_0x594cc9(0x2ab)](_0x3f22df=>{const _0x48eed8=_0x594cc9;if(_0x3f22df[_0x48eed8(0x1c8)]==_0x48eed8(0x1ae))_0x3f22df[_0x48eed8(0x1c8)]=_0x48eed8(0x1bd),_0x23f435=!![];else _0x3f22df['status']==_0x48eed8(0x265)&&(_0x3f22df[_0x48eed8(0x1c8)]=_0x48eed8(0x1af),_0x23f435=!![]);});if(_0x23f435)storeConfiguration(_0x28791b);let _0x294879=getSecure();if(!_0x294879['hasOwnProperty']('secret')){let _0x502dfa=await generateKeys();_0x294879['publicKey']=_0x502dfa[_0x594cc9(0x1a2)],_0x294879[_0x594cc9(0x1dc)]=_0x502dfa[_0x594cc9(0x1dc)],_0x294879[_0x594cc9(0x1f7)]=crypto[_0x594cc9(0x29d)](0x20)['toString'](_0x594cc9(0x19b));;storeSecure(_0x294879);}let _0xfd5606=getSettings();_0x23f435=![];!_0xfd5606['hasOwnProperty'](_0x594cc9(0x231))&&(_0xfd5606[_0x594cc9(0x231)]=![],_0xfd5606[_0x594cc9(0x2b0)]='',_0xfd5606[_0x594cc9(0x1aa)]='',_0xfd5606['f2aRequired']=![],_0x23f435=!![]);!_0xfd5606['hasOwnProperty'](_0x594cc9(0x292))&&(_0xfd5606[_0x594cc9(0x292)]=![],_0xfd5606[_0x594cc9(0x25d)]=[],_0xfd5606[_0x594cc9(0x1cd)]=![],_0x23f435=!![]);if(!_0xfd5606[_0x594cc9(0x1f6)](_0x594cc9(0x270))){if(_0xfd5606[_0x594cc9(0x288)])_0xfd5606['telegramEnabled']=!![];else _0xfd5606[_0x594cc9(0x270)]=![];_0x23f435=!![];}if(_0x23f435)storeSettings(_0xfd5606);}function storeConfiguration(_0x2547d8){const _0x169f44=_0xe344e1;dbConfig[_0x169f44(0x207)]('bots')[_0x169f44(0x1f4)]()[_0x169f44(0x1be)](),dbConfig[_0x169f44(0x207)](_0x169f44(0x210))[_0x169f44(0x249)](..._0x2547d8)[_0x169f44(0x1be)](),config=_0x2547d8;}function resetPassword(){const _0x5d603b=_0xe344e1;tgBot&&settings[_0x5d603b(0x288)]&&(tgBot[_0x5d603b(0x2a6)](_0x5d603b(0x2b1)),tgBot[_0x5d603b(0x1c5)](settings[_0x5d603b(0x288)],_0x5d603b(0x262),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x5d603b(0x1e0)},{'text':'no','callback_data':'no'}]]}})['catch'](_0x24f507=>{telegramError(_0x24f507);}),tgBot['on']('callback_query',async _0x3c5ce9=>{const _0x1abe27=_0x5d603b,_0x26eb98=_0x3c5ce9[_0x1abe27(0x299)],_0x153130=_0x3c5ce9[_0x1abe27(0x275)];tgBot[_0x1abe27(0x28f)](_0x3c5ce9['id'])[_0x1abe27(0x1ff)](async()=>{const _0x2844bc=_0x1abe27;if(_0x26eb98!='no'){const _0x504605=0xf,_0x2aa5b3=_0x2844bc(0x223),_0x461a3c=Array['from'](crypto[_0x2844bc(0x1cb)](new Uint32Array(_0x504605)))['map'](_0x540aa4=>_0x2aa5b3[_0x540aa4%_0x2aa5b3[_0x2844bc(0x22a)]])[_0x2844bc(0x28e)](''),_0x1d55d2=bcrypt['hashSync'](_0x461a3c,saltRounds);storeSettings({'bbPassword':_0x1d55d2}),await tgBot[_0x2844bc(0x1c5)](_0x153130[_0x2844bc(0x274)]['id'],_0x2844bc(0x1c4)+_0x461a3c,{'parse_mode':'HTML'})[_0x2844bc(0x205)](_0xdb93b8=>{telegramError(_0xdb93b8);});}else await tgBot[_0x2844bc(0x1c5)](_0x153130[_0x2844bc(0x274)]['id'],_0x2844bc(0x1d9))[_0x2844bc(0x205)](_0x3506e7=>{telegramError(_0x3506e7);});}),tgBot[_0x1abe27(0x2a6)](_0x1abe27(0x2b1));}));}function logging(_0x2f579a){const _0x217977=_0xe344e1;console[_0x217977(0x22e)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x2f579a);if(tgBot&&settings['telegramChatId']&&settings[_0x217977(0x1d6)]!=_0x217977(0x1da))tgBot[_0x217977(0x1c5)](settings['telegramChatId'],_0x217977(0x220)+_0x2f579a)[_0x217977(0x205)](_0x1c295a=>{telegramError(_0x1c295a);});}function getServerTime(){const _0x2f07a2=_0xe344e1,_0x22dd68=new Date();return _0x22dd68[_0x2f07a2(0x2bc)]()+'/'+(_0x22dd68[_0x2f07a2(0x273)]()+0x1)[_0x2f07a2(0x21f)]()[_0x2f07a2(0x19e)](0x2,'0')+'/'+_0x22dd68[_0x2f07a2(0x26d)]()[_0x2f07a2(0x21f)]()[_0x2f07a2(0x19e)](0x2,'0')+'\x20'+_0x22dd68[_0x2f07a2(0x23f)]()['toString']()['padStart'](0x2,'0')+':'+_0x22dd68[_0x2f07a2(0x251)]()[_0x2f07a2(0x21f)]()[_0x2f07a2(0x19e)](0x2,'0')+':'+_0x22dd68[_0x2f07a2(0x1de)]()[_0x2f07a2(0x21f)]()[_0x2f07a2(0x19e)](0x2,'0');}function getTimeStamp(){const _0x44cff7=_0xe344e1,_0xcbc9a5=shiftedTime();return _0xcbc9a5['getFullYear']()+'/'+(_0xcbc9a5['getMonth']()+0x1)[_0x44cff7(0x21f)]()['padStart'](0x2,'0')+'/'+_0xcbc9a5[_0x44cff7(0x26d)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0xcbc9a5[_0x44cff7(0x23f)]()[_0x44cff7(0x21f)]()[_0x44cff7(0x19e)](0x2,'0')+':'+_0xcbc9a5['getMinutes']()['toString']()[_0x44cff7(0x19e)](0x2,'0')+':'+_0xcbc9a5[_0x44cff7(0x1de)]()[_0x44cff7(0x21f)]()[_0x44cff7(0x19e)](0x2,'0');}function shiftedTime(){const _0xffc512=_0xe344e1,_0x9ccda2=new Date();let _0x2dc3ed=_0x9ccda2;if(settings[_0xffc512(0x234)]&&settings[_0xffc512(0x234)]!==0x0)_0x2dc3ed=fns[_0xffc512(0x254)](_0x9ccda2,{'hours':settings[_0xffc512(0x234)]});return _0x2dc3ed;}function startAnalytics(){let _0x232d01=new Date()['getUTCHours']();_0x232d01==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x4f5027=_0xe344e1;analytics['page']({'title':_0x4f5027(0x1c7),'href':'https://hodlerhacks.com','path':'/v'+serverversion});}function validateCredentials(_0x4bc022){const _0x2e17d1=_0xe344e1;if(_0x4bc022[_0x2e17d1(0x1f5)]==settings[_0x2e17d1(0x2b0)]&&bcrypt[_0x2e17d1(0x1dd)](_0x4bc022[_0x2e17d1(0x27a)],settings[_0x2e17d1(0x1aa)])){if(settings[_0x2e17d1(0x1fc)])return{'allow':![],'reason':_0x2e17d1(0x29e),'token':null};else{const _0x452443=generateLoginToken();return{'allow':!![],'reason':_0x2e17d1(0x1c3),'token':_0x452443};}}else return{'allow':![],'reason':'invalid\x20credentials','token':null};}function refreshToken(){const _0x5c3a8e=_0xe344e1,_0xda73d2=generateLoginToken();return{'allow':!![],'reason':_0x5c3a8e(0x1c3),'token':_0xda73d2};}function validateAccess(_0x58bb58){const _0x3b94df=_0xe344e1;let _0x2c3524;const _0xa724cb=_0x5f122c=>{const _0x52e76b=_0x1a8b;if(settings[_0x52e76b(0x231)]){if(settings[_0x52e76b(0x1fc)]){if(telegram2FaApproved()){const _0x4a3c94=generateLoginToken();return{'allow':!![],'reason':'2FA\x20login\x20token\x20generated','token':_0x4a3c94};}else return{'allow':![],'reason':_0x52e76b(0x29e),'token':null};}else return _0x2c3524=validToken(_0x5f122c),_0x2c3524['hasOwnProperty']('success')?{'allow':!![],'reason':'login\x20token\x20valid','token':_0x5f122c}:{'allow':![],'reason':_0x52e76b(0x1a1),'token':null};}else return{'allow':!![],'reason':_0x52e76b(0x2a8),'token':null};};if(settings[_0x3b94df(0x292)]){let _0x4c1cde=[...settings['whitelist'],_0x3b94df(0x252),_0x3b94df(0x26c),_0x3b94df(0x1cf)];if(_0x4c1cde['includes'](externalip))return _0xa724cb(_0x58bb58);else{_0x2c3524=validToken(_0x58bb58);if(_0x2c3524['hasOwnProperty'](_0x3b94df(0x2b6)))return _0xa724cb(_0x58bb58);else{if(telegramIpApproved()){const _0x578205=generateToken();return _0x2c3524=_0xa724cb(_0x58bb58),_0x2c3524[_0x3b94df(0x217)]?{'allow':!![],'reason':_0x3b94df(0x1b5),'token':_0x578205}:_0x2c3524;}else return settings[_0x3b94df(0x1cd)]?{'allow':![],'reason':_0x3b94df(0x221),'token':null}:{'allow':![],'reason':_0x3b94df(0x293),'token':null};}}}else return _0xa724cb(_0x58bb58);}function timelyDecrypt(_0x512287,_0x399999=!![]){const _0x1edfee=_0xe344e1;if(_0x512287)try{const _0x415b56=crypt['decrypt'](secure[_0x1edfee(0x1dc)],_0x512287)['message'],_0x20fa63=_0x415b56[_0x1edfee(0x283)]('@')[0x0],_0xc185b9=_0x415b56[_0x1edfee(0x283)]('@')[0x1],_0x190dba=new Date()[_0x1edfee(0x245)]();if(_0x399999){if(_0x190dba-_0xc185b9<maxSecretAge*0x3e8)return _0x20fa63;else return![];}else return _0x20fa63;}catch{return![];}else return![];}const validToken=_0x288946=>{const _0x29f6af=_0xe344e1;if(!_0x288946)return{'error':_0x29f6af(0x284)};for(let _0x1b99f3 of blacklist){if(_0x1b99f3[_0x29f6af(0x285)]==_0x288946)return{'error':'Token\x20blacklisted'};}let _0x3c9351;try{_0x3c9351=jwt['verify'](_0x288946,secure['secret']+uuid);}catch{return{'error':_0x29f6af(0x23a)};}if(!_0x3c9351['hasOwnProperty'](_0x29f6af(0x286))&&!_0x3c9351[_0x29f6af(0x1f6)]('username')||!_0x3c9351[_0x29f6af(0x1f6)](_0x29f6af(0x1ca)))return{'error':_0x29f6af(0x1e8)};if(!_0x3c9351['hasOwnProperty'](_0x29f6af(0x1f5))&&_0x3c9351[_0x29f6af(0x1f6)](_0x29f6af(0x286))){const {clientip:_0x326b51}=_0x3c9351;return externalip==_0x326b51?{'success':_0x29f6af(0x1b7)}:{'error':_0x29f6af(0x203)};}else{if(_0x3c9351[_0x29f6af(0x1f6)](_0x29f6af(0x1f5))&&_0x3c9351[_0x29f6af(0x1f6)](_0x29f6af(0x286))){const {username:_0x3d0fa5,clientip:_0x1a67f5}=_0x3c9351;return settings[_0x29f6af(0x2b0)]==_0x3d0fa5&&externalip==_0x1a67f5?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x29f6af(0x24c)};}}},generateLoginToken=()=>{const _0x367787=_0xe344e1;if(uuid)return jwt[_0x367787(0x237)]({'username':settings[_0x367787(0x2b0)],'clientip':externalip},secure['secret']+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x5ed924=_0xe344e1;if(uuid)return jwt[_0x5ed924(0x237)]({'clientip':externalip},secure['secret']+uuid,{'expiresIn':telegramIpApproval[_0x5ed924(0x2ad)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x941373=_0xe344e1;let _0x59f23a=![];return telegramIpApproval&&telegramIpApproval[_0x941373(0x2ad)]!=_0x941373(0x1b2)&&(_0x59f23a=telegramIpApproval['clientip']==externalip&&new Date()[_0x941373(0x245)]()-telegramIpApproval[_0x941373(0x1e2)]<telegramIpApproval[_0x941373(0x2ad)]*0x3c*0x3e8),_0x59f23a;},telegram2FaApproved=()=>{const _0x1b348a=_0xe344e1;let _0x4e8761=![];return telegram2FaApproval&&telegram2FaApproval[_0x1b348a(0x2ad)]!=_0x1b348a(0x1b2)&&(_0x4e8761=telegram2FaApproval[_0x1b348a(0x286)]==externalip&&new Date()[_0x1b348a(0x245)]()-telegram2FaApproval[_0x1b348a(0x1e2)]<telegram2FaApproval['expiry']*0x3c*0x3e8),_0x4e8761;},normalizeIP=_0x142e78=>{const _0x3bdf1a=_0xe344e1;let _0x3d6fe7=null,_0x4c4a3a=null;if(ipaddr['isValid'](_0x142e78)){const _0x3d2e7b=ipaddr[_0x3bdf1a(0x1a9)](_0x142e78);_0x3d2e7b['kind']()===_0x3bdf1a(0x21c)?(_0x3d2e7b[_0x3bdf1a(0x26b)]()&&(_0x3d6fe7=_0x3d2e7b[_0x3bdf1a(0x209)]()['toString']()),_0x4c4a3a=_0x3d2e7b[_0x3bdf1a(0x21f)]()):(_0x3d6fe7=_0x3d2e7b[_0x3bdf1a(0x21f)](),_0x4c4a3a=_0x3d2e7b[_0x3bdf1a(0x20c)]()[_0x3bdf1a(0x21f)]());}return{'show':_0x3d6fe7?_0x3d6fe7:_0x4c4a3a,'store':_0x4c4a3a};};