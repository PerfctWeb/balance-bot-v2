const _0x47265e=_0x3732;(function(_0x3b9e22,_0x30dc4c){const _0x174d86=_0x3732,_0x1b364=_0x3b9e22();while(!![]){try{const _0x203dcf=parseInt(_0x174d86(0xfb))/0x1*(-parseInt(_0x174d86(0xc3))/0x2)+-parseInt(_0x174d86(0xfe))/0x3*(-parseInt(_0x174d86(0xd8))/0x4)+-parseInt(_0x174d86(0xe2))/0x5*(-parseInt(_0x174d86(0xfc))/0x6)+-parseInt(_0x174d86(0xca))/0x7*(-parseInt(_0x174d86(0xf7))/0x8)+-parseInt(_0x174d86(0xd6))/0x9*(-parseInt(_0x174d86(0xe0))/0xa)+-parseInt(_0x174d86(0xe5))/0xb*(-parseInt(_0x174d86(0xf0))/0xc)+parseInt(_0x174d86(0xec))/0xd*(-parseInt(_0x174d86(0xf8))/0xe);if(_0x203dcf===_0x30dc4c)break;else _0x1b364['push'](_0x1b364['shift']());}catch(_0x30468c){_0x1b364['push'](_0x1b364['shift']());}}}(_0x3c16,0x6eeff));const _0xe3609f=function(){let _0x1343b5=!![];return function(_0x3dd680,_0x267bcc){const _0x2bb7c2=_0x1343b5?function(){const _0x275c3e=_0x3732;if(_0x267bcc){const _0x315120=_0x267bcc[_0x275c3e(0xeb)](_0x3dd680,arguments);return _0x267bcc=null,_0x315120;}}:function(){};return _0x1343b5=![],_0x2bb7c2;};}(),_0x266780=_0xe3609f(this,function(){const _0x4b4954=_0x3732;return _0x266780['toString']()['search'](_0x4b4954(0xc1))[_0x4b4954(0xf9)]()[_0x4b4954(0xfd)](_0x266780)[_0x4b4954(0xd1)](_0x4b4954(0xc1));});_0x266780();const fs=require('fs'),argv=require(_0x47265e(0xdd))(process[_0x47265e(0xe9)]['slice'](0x2))[_0x47265e(0xe9)],childProcess=require(_0x47265e(0xf5)),nodeversion=process[_0x47265e(0xda)][_0x47265e(0xc5)],minversion=0x10;nodeversion[_0x47265e(0xf1)]('.')[0x0]<minversion&&(console[_0x47265e(0xdf)](),console[_0x47265e(0xdf)](_0x47265e(0xd7)),console['log'](_0x47265e(0xf3)+nodeversion+',\x20but\x20version\x20'+minversion+_0x47265e(0xc7)),console[_0x47265e(0xdf)](_0x47265e(0xd0)),console[_0x47265e(0xdf)](_0x47265e(0xd7)),console[_0x47265e(0xdf)](),process[_0x47265e(0xd5)](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern[_0x47265e(0xe3)](argv[_0x47265e(0xde)])&&(console[_0x47265e(0xdf)](_0x47265e(0xe8)+argv[_0x47265e(0xde)]+_0x47265e(0xcb)),process[_0x47265e(0xd5)](0x1));}let args=[];function _0x3c16(){const _0x59154b=['--host','14ggEcyk','kill','node','SIGTERM','\x20or\x20above\x20is\x20required','existsSync','message','98nNjlWa',',\x20must\x20be\x20a\x204\x20digit\x20number','terminate','user','--user','Automatically\x20restarting\x20BM','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','search','bb/','bm.js','keys','exit','18ONMSTY','-----------------------------------------------------------------------------------','4WoSyav','update','versions','install.js','ipc','yargs/yargs','port','log','438140hznuwh','--port','40PaYvJe','test','fork','439813twChdB','Unexpected\x20error:','error','Error:\x20Invalid\x20argument\x20','argv','Balance\x20Bot\x20>\x20','apply','3545009GOaJGa','reinstall','Error\x20while\x20updating\x20Balance\x20Bot:','restore','132ELudQn','split','values','The\x20installed\x20Node.js\x20version\x20is\x20','host','child_process','push','120840jIaDBX','14ZMrTdx','toString','SIGINT','74234KIsSKP','355152kQgPDS','constructor','102849gUjiJs','inherit','(((.+)+)+)+$'];_0x3c16=function(){return _0x59154b;};return _0x3c16();}argv[_0x47265e(0xde)]&&(args[_0x47265e(0xf6)](_0x47265e(0xe1)),args[_0x47265e(0xf6)](argv['port']));argv[_0x47265e(0xf4)]&&(args[_0x47265e(0xf6)](_0x47265e(0xc2)),args[_0x47265e(0xf6)](argv[_0x47265e(0xf4)]));argv[_0x47265e(0xcd)]&&(args['push'](_0x47265e(0xce)),args[_0x47265e(0xf6)](argv[_0x47265e(0xcd)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x47265e(0xf6)]('-d');let bmpath=_0x47265e(0xd2);const bmfile=_0x47265e(0xd3),updatefile=_0x47265e(0xdb);function _0x3732(_0x434a93,_0x892f55){const _0xefa248=_0x3c16();return _0x3732=function(_0x266780,_0xe3609f){_0x266780=_0x266780-0xc1;let _0x3c16b8=_0xefa248[_0x266780];return _0x3c16b8;},_0x3732(_0x434a93,_0x892f55);}!fs[_0x47265e(0xc8)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x47265e(0xd5),async()=>{handleTerminate();}),process['on'](_0x47265e(0xc6),async()=>{handleTerminate();}),process['on'](_0x47265e(0xfa),async()=>{handleTerminate();}),startBM();function startBM(){const _0x551ac7=_0x47265e;let _0x448d38=![];const _0x3c93ce={'cwd':'','stdio':[_0x551ac7(0xff),'inherit','inherit',_0x551ac7(0xdc)]};pid1=childProcess['fork'](bmpath+bmfile,args,_0x3c93ce),pid1['on'](_0x551ac7(0xc9),_0x21b1d7=>{const _0x22c385=_0x551ac7,_0x12d2d4=Object[_0x22c385(0xf2)](_0x21b1d7)[0x1]=='staging';switch(Object[_0x22c385(0xd4)](_0x21b1d7)[0x0]){case _0x22c385(0xd9):if(_0x12d2d4)startUpdate('2s');else startUpdate('2');break;case _0x22c385(0xed):if(_0x12d2d4)startUpdate('3s');else startUpdate('3');break;case _0x22c385(0xef):handleRestore();break;case _0x22c385(0xcc):handleTerminate();break;}}),pid1['on'](_0x551ac7(0xe7),function(_0x112bfb){const _0x337ea8=_0x551ac7;if(_0x448d38)return;_0x448d38=!![],logging(_0x337ea8(0xe6),_0x112bfb);}),pid1['on']('exit',function(_0x452b14){const _0x4a9ed1=_0x551ac7;if(terminating)return;if(updating)return;if(_0x448d38)return;_0x448d38=!![],console['log'](_0x4a9ed1(0xcf)),startBM();});}async function handleTerminate(){const _0x3b139c=_0x47265e;stopBM(),await sleep(0x3e8),process[_0x3b139c(0xd5)](0x0);}function stopBM(){const _0x36af5e=_0x47265e;terminating=!![];if(pid1)pid1[_0x36af5e(0xc4)]();pid1=null;}function startUpdate(_0x1673c5){const _0x39aaa8=_0x47265e;updating=!![],stopBM();let _0x27ea6a=![];const _0x1bc60={'cwd':'','stdio':['inherit','inherit',_0x39aaa8(0xff),_0x39aaa8(0xdc)]};let _0xb7d449=[];if(staging)_0xb7d449[_0x39aaa8(0xf6)](_0x1673c5+'s');else _0xb7d449[_0x39aaa8(0xf6)](_0x1673c5);pid2=childProcess[_0x39aaa8(0xe4)](updatefile,_0xb7d449,_0x1bc60),pid2['on'](_0x39aaa8(0xe7),function(_0x1088a1){const _0x506454=_0x39aaa8;updating=![];if(_0x27ea6a)return;_0x27ea6a=!![],logging(_0x506454(0xee),_0x1088a1);}),pid2['on'](_0x39aaa8(0xd5),function(_0xfb39e0){updating=![];if(_0x27ea6a)return;_0x27ea6a=!![],terminating=![],startBM();});}function handleRestore(){if(pid1)pid1['kill']();}function logging(_0x4549d8){const _0x19be0d=_0x47265e;console['log'](_0x19be0d(0xea)+_0x4549d8);}function sleep(_0x285766){return new Promise(_0x3cfecd=>setTimeout(_0x3cfecd,_0x285766));}