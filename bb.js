const _0x2535fc=_0x13a1;(function(_0x36e868,_0x392370){const _0x1bedab=_0x13a1,_0x195481=_0x36e868();while(!![]){try{const _0x16e543=-parseInt(_0x1bedab(0x19d))/0x1*(-parseInt(_0x1bedab(0x13b))/0x2)+-parseInt(_0x1bedab(0x19c))/0x3+-parseInt(_0x1bedab(0x10b))/0x4*(-parseInt(_0x1bedab(0x14d))/0x5)+-parseInt(_0x1bedab(0x1d9))/0x6+-parseInt(_0x1bedab(0x181))/0x7*(parseInt(_0x1bedab(0x196))/0x8)+parseInt(_0x1bedab(0x1c8))/0x9+parseInt(_0x1bedab(0x17b))/0xa;if(_0x16e543===_0x392370)break;else _0x195481['push'](_0x195481['shift']());}catch(_0x2eb03e){_0x195481['push'](_0x195481['shift']());}}}(_0x4348,0x267bd));const _0x524925=function(){let _0x43cbde=!![];return function(_0x154756,_0x1e427f){const _0x143a0e=_0x43cbde?function(){const _0x5509c1=_0x13a1;if(_0x1e427f){const _0x1f424b=_0x1e427f[_0x5509c1(0x17e)](_0x154756,arguments);return _0x1e427f=null,_0x1f424b;}}:function(){};return _0x43cbde=![],_0x143a0e;};}(),_0x3abbe2=_0x524925(this,function(){const _0x2954d8=_0x13a1;return _0x3abbe2['toString']()[_0x2954d8(0x116)](_0x2954d8(0x120))['toString']()[_0x2954d8(0x12c)](_0x3abbe2)[_0x2954d8(0x116)](_0x2954d8(0x120));});_0x3abbe2();'use strict';process[_0x2535fc(0x168)][_0x2535fc(0x128)]=0x1;const childProcess=require(_0x2535fc(0x1a0)),FileSync=require(_0x2535fc(0xc1)),fs=require('fs'),fns=require(_0x2535fc(0x179)),low=require('lowdb'),path=require(_0x2535fc(0xfd)),crypto=require('crypto'),Crypt=require(_0x2535fc(0x124))[_0x2535fc(0x169)],RSA=require(_0x2535fc(0x124))[_0x2535fc(0x106)],bcrypt=require(_0x2535fc(0xe1)),jwt=require(_0x2535fc(0xe7)),analyticsLib=require(_0x2535fc(0x12a))[_0x2535fc(0x1d2)],googleAnalytics=require(_0x2535fc(0x1cc))[_0x2535fc(0x1d2)],ipaddr=require('ipaddr.js');let bbpath=_0x2535fc(0x109);const botfile=_0x2535fc(0xd8),configfile=_0x2535fc(0x1d3),settingsfile=_0x2535fc(0xe3),securefile=_0x2535fc(0xde);!fs[_0x2535fc(0x11d)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0x2535fc(0x14a);!fs[_0x2535fc(0x11d)](configpath)&&fs[_0x2535fc(0x174)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x2535fc(0xe2)]({'bots':[]})['write']();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x2535fc(0xe2)]({'settings':{'timeshift':0x0}})[_0x2535fc(0x16a)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure['defaults']({'secure':{},'blacklist':[]})[_0x2535fc(0x16a)]();let crypt=new Crypt({'md':_0x2535fc(0x180),'rsaStandard':_0x2535fc(0xba)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+_0x2535fc(0x14b))['version'],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0x2535fc(0xca)),app=express(),http=require('http')[_0x2535fc(0x13f)](app);app[_0x2535fc(0x15e)](express[_0x2535fc(0x1c5)](path[_0x2535fc(0x16d)](__dirname,bbpath,_0x2535fc(0x173)))),app[_0x2535fc(0x15e)](express[_0x2535fc(0x1c5)](path[_0x2535fc(0x16d)](__dirname,bbpath,_0x2535fc(0xc8)))),app[_0x2535fc(0x1bc)]('/',function(_0xaaa3ee,_0x2d22de){const _0x2b0392=_0x2535fc;_0x2d22de[_0x2b0392(0xff)](path[_0x2b0392(0x16d)](__dirname,bbpath,_0x2b0392(0x173),'index.html'));}),app[_0x2535fc(0x1bc)](_0x2535fc(0xcb),function(_0x3eaee0,_0x2755bd){const _0x2dd32b=_0x2535fc;_0x2755bd[_0x2dd32b(0xff)](path['join'](__dirname,bbpath,_0x2dd32b(0xc8),_0x2dd32b(0xce)));}),app[_0x2535fc(0x1bc)](_0x2535fc(0x1b7),(_0x389874,_0x15114b)=>{const _0x1e7723=_0x2535fc;_0x15114b['sendFile'](path[_0x1e7723(0x16d)](__dirname,bbpath,_0x1e7723(0xc8),_0x1e7723(0xce)));}),app[_0x2535fc(0x1bc)](_0x2535fc(0x11a),(_0x582afe,_0x291093)=>{const _0x27c6c3=_0x2535fc;_0x291093[_0x27c6c3(0xff)](path[_0x27c6c3(0x16d)](__dirname,bbpath,_0x27c6c3(0xc8),_0x27c6c3(0xce)));}),app[_0x2535fc(0x1bc)](_0x2535fc(0x1b3),(_0x1249ed,_0x487e22)=>{const _0x329836=_0x2535fc;_0x487e22[_0x329836(0xff)](path[_0x329836(0x16d)](__dirname,bbpath,_0x329836(0xc8),_0x329836(0xce)));}),app[_0x2535fc(0x1bc)](_0x2535fc(0x1c9),(_0x423b76,_0x379191)=>{const _0x4d7ebc=_0x2535fc;_0x379191['sendFile'](path[_0x4d7ebc(0x16d)](__dirname,bbpath,_0x4d7ebc(0xc8),_0x4d7ebc(0xce)));}),app[_0x2535fc(0x1bc)](_0x2535fc(0x10e),(_0x43fa65,_0x93dabc)=>{const _0x4eaa28=_0x2535fc;_0x93dabc[_0x4eaa28(0xff)](path['join'](__dirname,bbpath,'build','index.html'));}),app[_0x2535fc(0x1bc)](_0x2535fc(0xd2),(_0x5d2e5e,_0x240613)=>{const _0x53a1be=_0x2535fc;_0x240613[_0x53a1be(0xff)](path[_0x53a1be(0x16d)](__dirname,bbpath,_0x53a1be(0xc8),'index.html'));}),http['listen'](PORT);const analytics=analyticsLib({'app':_0x2535fc(0xbd),'plugins':[googleAnalytics({'trackingId':_0x2535fc(0x16b)})]}),TelegramBot=require(_0x2535fc(0x1a2));let tgBot;if(settings[_0x2535fc(0x1c7)]&&settings[_0x2535fc(0x1c7)]!=''&&settings[_0x2535fc(0x162)]&&settings[_0x2535fc(0x162)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x27db41=_0x2535fc;console[_0x27db41(0x15c)](''),console[_0x27db41(0x15c)]('-----------------------------------------------------------------------------------'),logging(_0x27db41(0xfb)+PORT),console[_0x27db41(0x15c)](_0x27db41(0x1a4));if(config[_0x27db41(0x135)]!=0x0)config[_0x27db41(0x146)](_0x5482da=>{const _0x5b7be2=_0x27db41;if(_0x5482da[_0x5b7be2(0xdc)]=='enabled'||_0x5482da[_0x5b7be2(0xdc)]==_0x5b7be2(0x14f))logging('starting\x20bot\x20|\x20Bot\x20'+_0x5482da[_0x5b7be2(0x134)]+_0x5b7be2(0x114)+_0x5482da[_0x5b7be2(0xd7)]),startBot([_0x5482da[_0x5b7be2(0x134)]],{'cwd':bbpath},function(_0x5a1d37){if(_0x5a1d37)logging(_0x5a1d37);});else(_0x5482da['status']==_0x5b7be2(0x1d8)||_0x5482da['status']==_0x5b7be2(0x1a1))&&logging(_0x5b7be2(0xeb)+_0x5482da[_0x5b7be2(0x134)]+_0x5b7be2(0x114)+_0x5482da['botname']);});else!newBot&&console[_0x27db41(0x15c)]('>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!');if(newBot)addBot();console[_0x27db41(0x15c)](_0x27db41(0x1a4)),console[_0x27db41(0x15c)]('');}function startSocket(){const _0x38d69e=_0x2535fc,_0x22a760=require('socket.io')(http,{});_0x22a760['on'](_0x38d69e(0x113),_0x493e11=>{const _0x39ed82=_0x38d69e;let _0x17880b,_0xcd41b3,_0xc22df9;const _0x18fd27=_0x493e11[_0x39ed82(0x126)][_0x39ed82(0x1bb)]['referer'],_0x1249b3=_0x493e11[_0x39ed82(0x126)][_0x39ed82(0x101)]['encryptedUuid'];if(!_0x1249b3)_0x493e11[_0x39ed82(0x1cd)](_0x39ed82(0xdc),{'publicKey':secure[_0x39ed82(0x187)]});else{uuid=timelyDecrypt(_0x493e11[_0x39ed82(0x126)][_0x39ed82(0x101)][_0x39ed82(0x115)],![]),_0xcd41b3=_0x18fd27[_0x39ed82(0xc0)](/bot[0-9]{3}/);if(_0xcd41b3)_0xc22df9=_0xcd41b3[0x0]['match'](/[0-9]{3}/);if(_0xc22df9)_0x17880b=_0xc22df9[0x0];else _0x17880b=_0x39ed82(0x105);if(socket[_0x17880b])socket[_0x17880b]['disconnect'](!![]);socket[_0x17880b]=_0x493e11,setAccess(_0x17880b);if(accessControl[_0x39ed82(0xe8)]){if(_0x17880b==_0x39ed82(0x105))initializeSocketBotManager();else initializeSocketBot(_0x17880b);}if(!serverStatus[_0x17880b])serverStatus[_0x17880b]=_0x39ed82(0xdb);socket[_0x17880b]['on'](_0x39ed82(0xc6),_0x3938ed=>{const _0x30fd07=_0x39ed82,_0x18537b=timelyDecrypt(_0x3938ed[_0x30fd07(0xb9)]);if(_0x18537b){_0x3938ed={'username':_0x3938ed[_0x30fd07(0xdf)],'password':_0x18537b};let _0x20a566=validateCredentials(_0x3938ed);if(_0x20a566[_0x30fd07(0xe8)]==![]&&_0x20a566['reason']=='2FA\x20login\x20required')socket[_0x17880b]['emit'](_0x30fd07(0xdc),{'access':_0x20a566}),loginAccess2FA(externalip);else{if(_0x20a566[_0x30fd07(0xe8)]==![]&&_0x20a566['reason']==_0x30fd07(0x1d0))socket[_0x17880b][_0x30fd07(0x1cd)](_0x30fd07(0xdc),{'access':_0x20a566});else{if(_0x20a566['allow']&&_0x20a566['reason']==_0x30fd07(0xef)){token=_0x20a566[_0x30fd07(0x164)];for(let _0x19b136 in socket){if(_0x19b136==_0x30fd07(0x105))initializeSocketBotManager();else initializeSocketBot(_0x19b136);socket[_0x19b136][_0x30fd07(0x1cd)](_0x30fd07(0xdc),{'status':serverStatus[_0x19b136]||_0x30fd07(0x1c4),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x20a566,'externalip':externalip,'publicKey':secure[_0x30fd07(0x187)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x30fd07(0xc6));}}}}else logging(_0x30fd07(0x12e));}),socket[_0x17880b]['on'](_0x39ed82(0x167),()=>{resetPassword();}),socket[_0x17880b]['on']('disconnect',_0x24fcf0=>{let _0x4b4799=[];for(let _0x4513c9 in socket){if(_0x4513c9!=_0x17880b)_0x4b4799[_0x4513c9]=socket[_0x4513c9];}socket=_0x4b4799;});if(_0x17880b!=_0x39ed82(0x105)&&config['apiKey']!=''){if(pid[_0x17880b])pid[_0x17880b][_0x39ed82(0x1ac)]({'function':'initclient','args':null});}}});}function setAccess(_0x10e9d4){const _0x43ad7b=_0x2535fc;externalip=normalizeIP(socket[_0x10e9d4]['conn']['remoteAddress'])[_0x43ad7b(0x140)],accessControl=validateAccess(token),accessControl[_0x43ad7b(0x164)]&&accessControl['reason']==_0x43ad7b(0x155)&&setSessionTimeout('2FA'),accessControl[_0x43ad7b(0x164)]&&accessControl[_0x43ad7b(0x165)]==_0x43ad7b(0x1d7)&&setSessionTimeout(_0x43ad7b(0xc6)),socket[_0x10e9d4][_0x43ad7b(0x1cd)](_0x43ad7b(0xdc),{'status':serverStatus[_0x10e9d4]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x43ad7b(0x187)],'loginNow':accessControl[_0x43ad7b(0x165)]==_0x43ad7b(0x1c3)||accessControl[_0x43ad7b(0x165)]=='2FA\x20login\x20required'}),accessControl['allow']==![]&&accessControl[_0x43ad7b(0x165)]==_0x43ad7b(0x139)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x1447a3){const _0x12945c=_0x2535fc;let _0x2a2359;if(_0x1447a3==_0x12945c(0xc6))_0x2a2359=loginExpiry*0x3c*0x3e8;else _0x2a2359=telegramIpApproval[_0x12945c(0xfe)]*0x3c*0x3e8-(new Date()[_0x12945c(0x171)]()-telegramIpApproval[_0x12945c(0x127)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x4537a9=_0x12945c;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x144054=validateAccess(token);if(!(_0x144054[_0x4537a9(0xe8)]&&_0x144054[_0x4537a9(0x165)]==_0x4537a9(0xd5)))for(let _0x43a6a5 in socket){socket[_0x43a6a5][_0x4537a9(0x1cd)](_0x4537a9(0xdc),{'access':{'allow':![],'reason':_0x4537a9(0xb8),'token':null}});}token=null;},_0x2a2359);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x40bc6a=_0x13a1;let _0x5f39ef=refreshToken();for(let _0x947c3 in socket){socket[_0x947c3][_0x40bc6a(0x1cd)](_0x40bc6a(0xdc),{'status':serverStatus[_0x947c3]||_0x40bc6a(0x1c4),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x5f39ef,'externalip':externalip,'publicKey':secure[_0x40bc6a(0x187)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0xda391e=_0x2535fc;socket[_0xda391e(0x105)]['emit'](_0xda391e(0x153),config),socket[_0xda391e(0x105)]['emit']('settings',cleanSettings()),socket[_0xda391e(0x105)]['on']('add-bot',_0x1a7737=>{const _0x1b801c=_0xda391e;if(validateAccess(_0x1a7737)[_0x1b801c(0xe8)])addBot();else logging(_0x1b801c(0x10c));}),socket['botmanager']['on'](_0xda391e(0x13c),(_0x4a90e8,_0x25a26a)=>{const _0x363d30=_0xda391e;if(validateAccess(_0x25a26a)[_0x363d30(0xe8)])toggleBot(_0x4a90e8['botID'],_0x4a90e8['status'],_0x4a90e8[_0x363d30(0x170)]);else logging(_0x363d30(0x13d));}),socket[_0xda391e(0x105)]['on'](_0xda391e(0x108),(_0x3b24f4,_0x545c40)=>{const _0x242e15=_0xda391e;if(validateAccess(_0x545c40)[_0x242e15(0xe8)])deleteBot(_0x3b24f4);else logging(_0x242e15(0x14c));}),socket[_0xda391e(0x105)]['on']('store-settings',(_0x406faa,_0xe258cf)=>{const _0x267a8f=_0xda391e;if(validateAccess(_0xe258cf)[_0x267a8f(0xe8)])storeSettings(_0x406faa,!![]);else logging(_0x267a8f(0x178));}),socket[_0xda391e(0x105)]['on'](_0xda391e(0x121),_0x5a9603=>{const _0x1c8ffa=_0xda391e;if(validateAccess(_0x5a9603)[_0x1c8ffa(0xe8)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x5064a5 in socket){socket[_0x5064a5][_0x1c8ffa(0x1cd)]('status',{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x1c8ffa(0x111));});}function initializeSocketBot(_0x1b4aee){const _0x518bf7=_0x2535fc;socket[_0x1b4aee]['on'](_0x518bf7(0xf5),(_0x3af22c,_0xe4347e)=>{const _0x304fdf=_0x518bf7;if(validateAccess(_0xe4347e)[_0x304fdf(0xe8)]){if(pid[_0x1b4aee])pid[_0x1b4aee][_0x304fdf(0x1ac)]({'function':'emitHistory','args':_0x3af22c});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),socket[_0x1b4aee]['on'](_0x518bf7(0x159),(_0x3d5dae,_0x10c974)=>{const _0x433496=_0x518bf7;if(validateAccess(_0x10c974)['allow']){if(pid[_0x1b4aee])pid[_0x1b4aee][_0x433496(0x1ac)]({'function':_0x433496(0x119),'args':_0x3d5dae});}else logging('Unauthorized\x20attempt\x20to\x20get\x20portfolio');}),socket[_0x1b4aee]['on'](_0x518bf7(0xf4),(_0x17eb93,_0x2bcae5)=>{const _0xad67ba=_0x518bf7;if(validateAccess(_0x2bcae5)[_0xad67ba(0xe8)]){if(pid[_0x1b4aee])pid[_0x1b4aee][_0xad67ba(0x1ac)]({'function':_0xad67ba(0x1a6),'args':_0x17eb93});}else logging(_0xad67ba(0xc3));}),socket[_0x1b4aee]['on'](_0x518bf7(0x142),(_0x555d57,_0x8f87a2)=>{const _0x40895a=_0x518bf7;if(validateAccess(_0x8f87a2)[_0x40895a(0xe8)]){if(pid[_0x1b4aee])pid[_0x1b4aee][_0x40895a(0x1ac)]({'function':_0x40895a(0x11f),'args':_0x555d57});}else logging('Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration');}),socket[_0x1b4aee]['on'](_0x518bf7(0x172),_0x320ef3=>{const _0x5768dc=_0x518bf7;if(validateAccess(_0x320ef3)['allow']){if(pid[_0x1b4aee])pid[_0x1b4aee][_0x5768dc(0x1ac)]({'function':'getStartingBalances','args':null});}else logging(_0x5768dc(0xcf));}),socket[_0x1b4aee]['on'](_0x518bf7(0x166),(_0x42590e,_0x323e01)=>{const _0x453a84=_0x518bf7;if(validateAccess(_0x323e01)['allow']){if(pid[_0x1b4aee])pid[_0x1b4aee][_0x453a84(0x1ac)]({'function':_0x453a84(0x1ca),'args':_0x42590e});}else logging(_0x453a84(0x1ba));}),socket[_0x1b4aee]['on'](_0x518bf7(0x121),_0x1722d7=>{const _0x898018=_0x518bf7;if(validateAccess(_0x1722d7)['allow']){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x23e243 in socket){socket[_0x23e243][_0x898018(0x1cd)](_0x898018(0xdc),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x898018(0x111));});}function removeSocketListeners(){const _0x422fc6=_0x2535fc;for(let _0xac7a14 in socket){socket[_0xac7a14][_0x422fc6(0x1ae)]();}}function cleanSettings(){const _0x46cc64=_0x2535fc;let _0x5ac973=settings;return settings[_0x46cc64(0x1c7)]&&settings[_0x46cc64(0x1c7)]!=''&&(_0x5ac973={..._0x5ac973,'telegramToken':'************'}),settings[_0x46cc64(0x15f)]&&settings[_0x46cc64(0x15f)]!=''&&(_0x5ac973={..._0x5ac973,'bbPassword':_0x46cc64(0x19f)}),_0x5ac973;}function startBot(_0x147ea6,_0x5e841f,_0x445051){const _0x41fd5d=_0x2535fc;let _0x564acc=![];const _0x3caefe=_0x147ea6[0x0];_0x5e841f={..._0x5e841f,'stdio':[_0x41fd5d(0x175),_0x41fd5d(0x175),_0x41fd5d(0x175),_0x41fd5d(0x10a)]},pid[_0x3caefe]=childProcess[_0x41fd5d(0x163)](botfile,_0x147ea6,_0x5e841f),pid[_0x3caefe]['on']('message',_0x512c0b=>{const _0x3f62b2=_0x41fd5d;switch(Object[_0x3f62b2(0x1cb)](_0x512c0b)[0x0]){case _0x3f62b2(0xd7):updateBotName(_0x3caefe,_0x512c0b['botname']);break;case _0x3f62b2(0xdc):updateStatus(_0x3caefe,_0x512c0b[_0x3f62b2(0xdc)]);break;case _0x3f62b2(0x170):updateLive(_0x3caefe,_0x512c0b[_0x3f62b2(0x170)]);break;case _0x3f62b2(0x103):updateLive(_0x3caefe,_0x512c0b[_0x3f62b2(0x103)]);if(socket[_0x3caefe])socket[_0x3caefe][_0x3f62b2(0x1cd)]('status',{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x3f62b2(0x1da):_0x512c0b['stop']=='restart'&&stopBot(_0x3caefe);_0x512c0b[_0x3f62b2(0x1da)]=='kill'&&toggleBot(_0x3caefe,_0x3f62b2(0x1d8),_0x3f62b2(0x143));break;case _0x3f62b2(0x18f):sendTelegram(_0x3caefe,_0x512c0b[_0x3f62b2(0x18f)]);break;case _0x3f62b2(0xdd):if(socket[_0x3caefe])socket[_0x3caefe][_0x3f62b2(0x1cd)](_0x512c0b[_0x3f62b2(0xdd)],_0x512c0b['args']);break;}}),pid[_0x3caefe]['on'](_0x41fd5d(0xd6),function(_0x3cd33c){if(_0x564acc)return;_0x564acc=!![],_0x445051(_0x3cd33c);}),pid[_0x3caefe]['on']('exit',function(_0x250415){const _0xe2b92a=_0x41fd5d;if(_0x564acc)return;_0x564acc=!![],_0x445051(null);const _0x3b1f22=dbConfig[_0xe2b92a(0x1bc)](_0xe2b92a(0x153))[_0xe2b92a(0x10f)]({'botID':_0x3caefe})[_0xe2b92a(0x161)]();_0x3b1f22&&(_0x3b1f22[_0xe2b92a(0xdc)]==_0xe2b92a(0x147)||_0x3b1f22['status']==_0xe2b92a(0x14f))&&(updateLive(_0x3caefe,'stopped'),logging(_0xe2b92a(0x12f)+_0x3caefe),startBot([_0x3caefe],{'cwd':bbpath},function(_0x4faab7){if(_0x4faab7)logging(_0x4faab7);}));});}function stopBot(_0x180cd6){const _0x391fe7=_0x2535fc;if(socket[_0x180cd6])socket[_0x180cd6][_0x391fe7(0x110)](!![]);if(pid[_0x180cd6])pid[_0x180cd6]['kill']();}function addBot(){const _0x3c0978=_0x2535fc;let _0x1677a4;for(let _0x33ddce=0x1;_0x33ddce<0x3e9;_0x33ddce++){_0x1677a4=_0x33ddce['toString']()[_0x3c0978(0x144)](0x3,'0');let _0x3b6760=config[_0x3c0978(0x10f)](_0x149083=>_0x149083[_0x3c0978(0x134)]==_0x1677a4);if(!_0x3b6760)break;}if(_0x1677a4===_0x3c0978(0x1d4)){logging('the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached');return;}logging(_0x3c0978(0x102)+_0x1677a4),dbConfig[_0x3c0978(0x1bc)](_0x3c0978(0x153))['push']({'botID':_0x1677a4,'botname':_0x3c0978(0xe6)+_0x1677a4,'status':_0x3c0978(0x14f),'live':''})[_0x3c0978(0x16a)](),startBot([_0x1677a4],{'cwd':bbpath},function(_0x593a94){if(_0x593a94)logging(_0x593a94);}),config=getConfiguration();if(socket[_0x3c0978(0x105)])socket[_0x3c0978(0x105)][_0x3c0978(0x1cd)](_0x3c0978(0x153),config);}function deleteBot(_0x44001c){const _0xbf07b0=_0x2535fc;if(socket[_0x44001c])socket[_0x44001c]['disconnect'](!![]);dbConfig['get'](_0xbf07b0(0x153))[_0xbf07b0(0x188)]({'botID':_0x44001c})[_0xbf07b0(0x16a)](),logging(_0xbf07b0(0x194)+_0x44001c),stopBot(_0x44001c);try{fs[_0xbf07b0(0x1d6)](path[_0xbf07b0(0x16d)](configpath,'bot-'+_0x44001c+_0xbf07b0(0x193))),fs['unlinkSync'](path[_0xbf07b0(0x16d)](configpath,_0xbf07b0(0xc2)+_0x44001c+_0xbf07b0(0x118))),fs[_0xbf07b0(0x1d6)](path[_0xbf07b0(0x16d)](configpath,_0xbf07b0(0xc2)+_0x44001c+_0xbf07b0(0x137))),fs[_0xbf07b0(0x1d6)](path[_0xbf07b0(0x16d)](configpath,_0xbf07b0(0xc2)+_0x44001c+_0xbf07b0(0x1d5)));}catch(_0x5e7dce){if(_0x5e7dce)logging('error\x20while\x20deleting\x20log\x20files:\x20',_0x5e7dce);}config=getConfiguration();if(socket['botmanager'])socket['botmanager'][_0xbf07b0(0x1cd)](_0xbf07b0(0x153),config);}function toggleBot(_0x222dc2,_0x239f9b,_0x5d6665){const _0x333210=_0x2535fc;dbConfig[_0x333210(0x1bc)](_0x333210(0x153))[_0x333210(0x10f)]({'botID':_0x222dc2})[_0x333210(0x1b5)]({'status':_0x239f9b})[_0x333210(0x1b5)]({'live':_0x5d6665})['write']();if(_0x239f9b==_0x333210(0x147)||_0x239f9b==_0x333210(0x14f))logging(_0x333210(0x104)+_0x222dc2),startBot([_0x222dc2],{'cwd':bbpath},function(_0x266220){if(_0x266220)logging(_0x266220);});else(_0x239f9b==_0x333210(0x1d8)||_0x239f9b==_0x333210(0x1a1))&&(logging(_0x333210(0x145)+_0x222dc2),stopBot(_0x222dc2));config=getConfiguration();if(socket[_0x333210(0x105)])socket[_0x333210(0x105)][_0x333210(0x1cd)](_0x333210(0x153),config);}function updateStatus(_0x150b10,_0x5b4547){const _0x581884=_0x2535fc;dbConfig[_0x581884(0x1bc)](_0x581884(0x153))[_0x581884(0x10f)]({'botID':_0x150b10})[_0x581884(0x1b5)]({'status':_0x5b4547})[_0x581884(0x16a)](),config=getConfiguration();if(socket[_0x581884(0x105)])socket['botmanager'][_0x581884(0x1cd)](_0x581884(0x153),config);}function updateLive(_0x495deb,_0x2eb3f6){const _0x47cb01=_0x2535fc;dbConfig[_0x47cb01(0x1bc)](_0x47cb01(0x153))[_0x47cb01(0x10f)]({'botID':_0x495deb})[_0x47cb01(0x1b5)]({'live':_0x2eb3f6})[_0x47cb01(0x16a)](),config=getConfiguration();if(socket['botmanager'])socket[_0x47cb01(0x105)][_0x47cb01(0x1cd)](_0x47cb01(0x153),config);}function updateBotName(_0x310fd1,_0x55da10){const _0x2bc977=_0x2535fc;dbConfig[_0x2bc977(0x1bc)]('bots')[_0x2bc977(0x10f)]({'botID':_0x310fd1})[_0x2bc977(0x1b5)]({'botname':_0x55da10})[_0x2bc977(0x16a)](),config=getConfiguration();if(socket[_0x2bc977(0x105)])socket[_0x2bc977(0x105)]['emit']('bots',config);}function telegramError(_0x26ab18){const _0x3f9694=_0x2535fc;console[_0x3f9694(0x15c)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed');}function _0x4348(){const _0x3b581=['Ok,\x20will\x20send\x20order\x20notifications\x20only','use','bbPassword','Notifications\x20enabled\x0a','value','telegramUsername','fork','token','reason','place-order','reset-password','env','Crypt','write','UA-192771731-1','exit','join','sign','\x20>\x20','live','getTime','get-starting-balances','build2','mkdirSync','inherit','All','15\x20min','Unauthorized\x20attempt\x20to\x20update\x20settings','date-fns','loginRequired','1522730xJyiFF','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','settings','apply',':\x20Bot\x20Mgr\x20>\x20','sha256','52423xRqCXc','https://hodlerhacks.com','2FA\x20login\x20required','isIPv4MappedAddress','cloneDeep','404\x20Not\x20Found','publicKey','remove','accept','User\x20has\x20been\x20validated','Orders','Notifications\x20enabled','order','getFullYear','telegram','toIPv4Address','polling_error','bbUsername','-config.json','deleted\x20Bot\x20','clientip','176ezebXt','<b>Telegram\x20bot\x20status:</b>\x0a','Password\x20has\x20been\x20reset\x20to:\x20','push','answerCallbackQuery','telegramChatId','848508CGwEQN','12rcWftK','add','************','child_process','new-disabled','node-telegram-bot-api','from','-----------------------------------------------------------------------------------','Temporary\x20access\x20rejected','storeConfiguration','orders','type','Access\x20enabled\x20for\x20','\x20/\x20','Token\x20blacklisted','send','success','removeAllListeners','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','kind','includes','No\x20authentication\x20token','/:bot/coins','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','assign','yes','/:bot/portfolio','stopPolling','temporaryAccessAllowed','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','headers','get','/disable\x20-\x20disable\x20notifications\x0a','Invalid\x20Telegram\x20token','/enable\x20-\x20enable\x20notifications\x0a','sendMessage','telegramEvents','Balance\x20Bot\x20Server','login\x20required','starting','static','No\x20bots\x20enabled\x20right\x20now','telegramToken','1241361gSThFZ','/:bot/history','placeOrder','keys','@analytics/google-analytics','emit','Allow\x20login\x20from\x20IP\x20address\x20<b>','whitelist','invalid\x20credentials','parse','default','bb-config.json','1000','-results.json','unlinkSync','2FA\x20login\x20token\x20generated','disabled','924186BOXmqS','stop','privateKey','</b>\x20?','hashSync','timeshift','access\x20timeout','password','RSA-OAEP','getUTCHours','alerts','Balance\x20Bot','<b>Balance\x20Bot\x20status:</b>\x0a','getSeconds','match','lowdb/adapters/FileSync','bot-','Unauthorized\x20attempt\x20to\x20store\x20configuration','getDate','Ok,\x20will\x20send\x20alert\x20notifications\x20only','login','message','build','verify','express','/:bot','entries','isValid','index.html','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','Notifications\x20disabled','/help\x20-\x20show\x20avaiable\x20commands\x0a','/:bot/support','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','login\x20not\x20required','error','botname','bot.js','running','sortBy','connected','status','function','bb-secure.json','username','getMinutes','bcryptjs','defaults','bb-settings.json','You\x20can\x20use\x20the\x20following\x20commands:\x0a','HTML','Bot\x20','jsonwebtoken','allow','randomBytes','Invalid\x20username\x20or\x20IP\x20address','idling\x20bot\x20\x20\x20|\x20Bot\x20','map','removeListener','reject','login\x20token\x20generated','event','decrypt','\x20only\x0a','onText','store-configuration','get-logs','randomFillSync','hex','once','toString','whitelistEnabled','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','getHours','path','expiry','sendFile','page','auth','starting\x20new\x20bot\x20|\x20Bot\x20','started','enabled\x20Bot\x20','botmanager','RSA','max','delete-bot','bb/','ipc','292004fnGhxj','Unauthorized\x20attempt\x20to\x20add\x20bot','ipv6','/:bot/configuration','find','disconnect','Unauthorized\x20attempt\x20to\x20log\x20out','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','connection','\x20|\x20','encryptedUuid','search','\x20minutes','-events.json','getPortfolio','/:bot/performance','getMonth','then','existsSync','chat','storeHeadless','(((.+)+)+)+$','logout','Notifications\x20types:\x20','data','hybrid-crypto-js','Login\x20accepted','handshake','timestamp','NTBA_FIX_319','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','analytics','telegramEnabled','constructor','all','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','restarting\x20Bot\x20','/restart\x20-\x20restart\x20a\x20bot\x0a','reload','login\x20token\x20valid','secure','botID','length','SIGINT','-performance.json','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','2FA\x20required','split','29508NGbeqs','update-bot','Unauthorized\x20attempt\x20to\x20update\x20bot','Notifications\x20disabled\x0a','createServer','store','settings.','store-headless','stopped','padStart','disabled\x20Bot\x20','forEach','enabled','callback_query','toIPv4MappedAddress','config/','version.json','Unauthorized\x20attempt\x20to\x20delete\x20bot','20APOBui','generateKeyPairAsync','new','hasOwnProperty','catch','blacklist','bots','5\x20min','temporary\x20token\x20generated','notification','Invalid\x20authentication\x20token\x20(1)','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','get-portfolio','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','secret','log'];_0x4348=function(){return _0x3b581;};return _0x4348();}function _0x13a1(_0x52b4a9,_0xe822f9){const _0x110ab8=_0x4348();return _0x13a1=function(_0x3abbe2,_0x524925){_0x3abbe2=_0x3abbe2-0xb7;let _0x4348c3=_0x110ab8[_0x3abbe2];return _0x4348c3;},_0x13a1(_0x52b4a9,_0xe822f9);}function validateTelegram(_0x5c316a){const _0x3fd0ca=_0x2535fc;if(_0x5c316a[_0x3fd0ca(0x1a3)][_0x3fd0ca(0xdf)]!=settings[_0x3fd0ca(0x162)]&&'@'+_0x5c316a[_0x3fd0ca(0x1a3)]['username']!=settings[_0x3fd0ca(0x162)])return tgBot[_0x3fd0ca(0x1c0)](_0x5c316a[_0x3fd0ca(0x11e)]['id'],_0x3fd0ca(0x158),{'parse_mode':_0x3fd0ca(0xe5)})['catch'](_0x177984=>{telegramError(_0x177984);}),![];return!![];}async function initTelegram(){const _0x4459ff=_0x2535fc;if(tgBot)tgBot[_0x4459ff(0x1b8)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x4459ff(0x1c7)],{'polling':!![]});let _0x9c9351=_0x4459ff(0xe4);_0x9c9351+='\x0a',_0x9c9351+=_0x4459ff(0x1bf),_0x9c9351+=_0x4459ff(0x1bd),_0x9c9351+='/config\x20-\x20notification\x20types\x20to\x20receive\x0a',_0x9c9351+=_0x4459ff(0x130),_0x9c9351+=_0x4459ff(0x112),_0x9c9351+=_0x4459ff(0xd1);let _0x4280fa=_0x4459ff(0x15a);_0x4280fa+='\x0a',_0x4280fa+=_0x9c9351,tgBot['onText'](/\/start/,_0x1b2453=>{const _0x4613e8=_0x4459ff;if(!validateTelegram(_0x1b2453))return;if(settings['telegramChatId']!=_0x1b2453[_0x4613e8(0x11e)]['id'])updateSetting(_0x4613e8(0x19b),_0x1b2453[_0x4613e8(0x11e)]['id']);updateSetting(_0x4613e8(0x12b),!![]),tgBot[_0x4613e8(0x1c0)](_0x1b2453['chat']['id'],_0x4280fa)[_0x4613e8(0x151)](_0x49a2d5=>{telegramError(_0x49a2d5);});}),tgBot[_0x4459ff(0xf3)](/\/enable/,_0x700e52=>{const _0x37ddd1=_0x4459ff;if(!validateTelegram(_0x700e52))return;if(settings[_0x37ddd1(0x19b)]!=_0x700e52[_0x37ddd1(0x11e)]['id'])updateSetting(_0x37ddd1(0x19b),_0x700e52[_0x37ddd1(0x11e)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0x37ddd1(0x1c0)](_0x700e52[_0x37ddd1(0x11e)]['id'],_0x37ddd1(0x18c))[_0x37ddd1(0x151)](_0x9325fb=>{telegramError(_0x9325fb);});}),tgBot[_0x4459ff(0xf3)](/\/config/,async _0x38c23c=>{const _0x11f943=_0x4459ff;if(!validateTelegram(_0x38c23c))return;tgBot[_0x11f943(0xed)](_0x11f943(0x148)),tgBot['sendMessage'](_0x38c23c['chat']['id'],_0x11f943(0x1af),{'reply_markup':{'inline_keyboard':[[{'text':_0x11f943(0x18b),'callback_data':'orders'},{'text':'Alerts','callback_data':_0x11f943(0xbc)},{'text':_0x11f943(0x176),'callback_data':_0x11f943(0x12d)}]]}})['catch'](_0x45cd36=>{telegramError(_0x45cd36);}),tgBot['on']('callback_query',async _0x17bd83=>{const _0x456f5a=_0x11f943,_0x1e8461=_0x17bd83[_0x456f5a(0x123)],_0x3b71ab=_0x17bd83[_0x456f5a(0xc7)];tgBot[_0x456f5a(0x19a)](_0x17bd83['id'])[_0x456f5a(0x11c)](async()=>{const _0x3ce6a6=_0x456f5a;_0x1e8461==_0x3ce6a6(0x1a7)&&(updateSetting(_0x3ce6a6(0x1c1),_0x3ce6a6(0x1a7)),updateSetting('telegramEnabled',!![]),await tgBot[_0x3ce6a6(0x1c0)](_0x3b71ab['chat']['id'],_0x3ce6a6(0x15d))[_0x3ce6a6(0x151)](_0x369f9a=>{telegramError(_0x369f9a);}));_0x1e8461==_0x3ce6a6(0xbc)&&(updateSetting(_0x3ce6a6(0x1c1),_0x3ce6a6(0xbc)),updateSetting(_0x3ce6a6(0x12b),!![]),await tgBot[_0x3ce6a6(0x1c0)](_0x3b71ab[_0x3ce6a6(0x11e)]['id'],_0x3ce6a6(0xc5))[_0x3ce6a6(0x151)](_0x45e046=>{telegramError(_0x45e046);}));_0x1e8461==_0x3ce6a6(0x12d)&&(updateSetting(_0x3ce6a6(0x1c1),_0x3ce6a6(0x12d)),updateSetting(_0x3ce6a6(0x12b),!![]),await tgBot['sendMessage'](_0x3b71ab[_0x3ce6a6(0x11e)]['id'],_0x3ce6a6(0x129))[_0x3ce6a6(0x151)](_0x3537a0=>{telegramError(_0x3537a0);}));if(!settings[_0x3ce6a6(0x19b)])tgBot['sendMessage'](_0x3b71ab[_0x3ce6a6(0x11e)]['id'],_0x3ce6a6(0x17c))[_0x3ce6a6(0x151)](_0x48462b=>{telegramError(_0x48462b);});}),tgBot['removeListener'](_0x456f5a(0x148));});}),tgBot[_0x4459ff(0xf3)](/\/status/,_0x3586b2=>{const _0x543a43=_0x4459ff;if(!validateTelegram(_0x3586b2))return;let _0x5529ca=_0x543a43(0xbe);config[_0x543a43(0x146)](_0xaa29bb=>{const _0x4805b3=_0x543a43;_0x5529ca+=_0x4805b3(0xe6)+_0xaa29bb[_0x4805b3(0x134)]+_0x4805b3(0x114)+_0xaa29bb[_0x4805b3(0xd7)]+':\x20'+_0xaa29bb[_0x4805b3(0xdc)]+_0x4805b3(0x1aa)+_0xaa29bb[_0x4805b3(0x170)]+'\x0a';}),_0x5529ca+='\x0a',_0x5529ca+=_0x543a43(0x197),_0x5529ca+=!settings[_0x543a43(0x12b)]?_0x543a43(0x13e):_0x543a43(0x160),_0x5529ca+=settings['telegramEnabled']?settings['telegramEvents']==_0x543a43(0x12d)?'Notifications\x20types:\x20orders\x20and\x20alerts\x0a':_0x543a43(0x122)+settings[_0x543a43(0x1c1)]+_0x543a43(0xf2):'',tgBot[_0x543a43(0x1c0)](_0x3586b2['chat']['id'],_0x5529ca,{'parse_mode':_0x543a43(0xe5)})[_0x543a43(0x151)](_0xa62e22=>{telegramError(_0xa62e22);});}),tgBot[_0x4459ff(0xf3)](/\/restart/,_0x31e704=>{const _0x5b0e59=_0x4459ff;if(!validateTelegram(_0x31e704))return;tgBot[_0x5b0e59(0xed)](_0x5b0e59(0x148));const _0x3c0095=getEnabledBots();if(_0x3c0095[_0x5b0e59(0x135)]==0x0)tgBot[_0x5b0e59(0x1c0)](_0x31e704[_0x5b0e59(0x11e)]['id'],_0x5b0e59(0x1c6))['catch'](_0x4c74f1=>{telegramError(_0x4c74f1);});else{let _0xfb623c=[],_0x56a5ef=[];const _0x537ff7=_0x3c0095[_0x5b0e59(0x135)]%0x4==0x0||_0x3c0095['length']%0x4==0x3||_0x3c0095['length']%0x3==0x1?0x4:0x3;let _0x219511=0x0;_0x3c0095['forEach']((_0x324662,_0x12fa98)=>{const _0x4d734f=_0x5b0e59;if(_0x12fa98%_0x537ff7==0x0)_0x56a5ef=[];_0x56a5ef[_0x4d734f(0x199)]({'text':_0x4d734f(0xe6)+_0x324662[_0x4d734f(0x134)],'callback_data':_0x324662[_0x4d734f(0x134)]}),_0x12fa98%_0x537ff7==0x0&&(_0xfb623c[_0x219511]=_0x56a5ef,_0x219511++);}),tgBot[_0x5b0e59(0x1c0)](_0x31e704[_0x5b0e59(0x11e)]['id'],_0x5b0e59(0x138),{'reply_markup':{'inline_keyboard':_0xfb623c}})['catch'](_0x22edc3=>{telegramError(_0x22edc3);}),tgBot['on'](_0x5b0e59(0x148),async _0x4f122e=>{const _0x3e68fc=_0x5b0e59,_0x427682=_0x4f122e[_0x3e68fc(0x123)],_0x459e51=_0x4f122e[_0x3e68fc(0xc7)];tgBot[_0x3e68fc(0x19a)](_0x4f122e['id'])[_0x3e68fc(0x11c)](async()=>{const _0x1ee0c7=_0x3e68fc;if(settings['telegramEvents']==_0x1ee0c7(0x1a7))tgBot[_0x1ee0c7(0x1c0)](_0x459e51[_0x1ee0c7(0x11e)]['id'],'Bot\x20Mgr\x20>\x20restarting\x20Bot\x20'+_0x427682)['catch'](_0x14791d=>{telegramError(_0x14791d);});stopBot(_0x427682);}),tgBot[_0x3e68fc(0xed)]('callback_query');});}}),tgBot['onText'](/\/disable/,_0xeb10d5=>{const _0x17c72b=_0x4459ff;if(!validateTelegram(_0xeb10d5))return;tgBot[_0x17c72b(0x1c0)](_0xeb10d5[_0x17c72b(0x11e)]['id'],_0x17c72b(0xd0))[_0x17c72b(0x151)](_0x21eb94=>{telegramError(_0x21eb94);}),updateSetting(_0x17c72b(0x12b),![]);}),tgBot[_0x4459ff(0xf3)](/\/help/,_0x45b72b=>{const _0x20ae41=_0x4459ff;if(!validateTelegram(_0x45b72b))return;tgBot[_0x20ae41(0x1c0)](_0x45b72b[_0x20ae41(0x11e)]['id'],_0x9c9351)[_0x20ae41(0x151)](_0x1cd674=>{telegramError(_0x1cd674);});}),tgBot['on'](_0x4459ff(0x191),_0x3f5bb9=>{const _0x1aa913=_0x4459ff;if(_0x3f5bb9['toString']()[_0x1aa913(0x1b1)](_0x1aa913(0x186))){logging('Invalid\x20Telegram\x20token'),tgBot[_0x1aa913(0x1b8)](),tgBot=null;if(socket[_0x1aa913(0x105)])socket[_0x1aa913(0x105)][_0x1aa913(0x1cd)](_0x1aa913(0x156),_0x1aa913(0x1be));}}),process[_0x4459ff(0xf8)](_0x4459ff(0x136),()=>{const _0x525f99=_0x4459ff;if(tgBot)tgBot[_0x525f99(0x1b8)]();process[_0x525f99(0x16c)](0x1);}),process[_0x4459ff(0xf8)]('SIGTERM',()=>{if(tgBot)tgBot['stopPolling']();process['exit'](0x1);});}}function disableTelegram(){const _0x3343d3=_0x2535fc;tgBot&&(tgBot[_0x3343d3(0x1b8)](),tgBot=null);}function sendTelegram(_0x24e136,_0x1b7666){const _0x56a053=_0x2535fc;if(settings[_0x56a053(0x12b)]){if(settings[_0x56a053(0x1c1)]==_0x56a053(0x12d)||(_0x1b7666['type']==_0x56a053(0xd6)||_0x1b7666[_0x56a053(0x1a8)]=='success')&&settings[_0x56a053(0x1c1)]==_0x56a053(0xbc)||_0x1b7666['type']==_0x56a053(0x18d)&&settings[_0x56a053(0x1c1)]==_0x56a053(0x1a7)){if(tgBot&&settings[_0x56a053(0x19b)])tgBot['sendMessage'](settings[_0x56a053(0x19b)],_0x56a053(0xe6)+_0x24e136+_0x56a053(0x16f)+_0x1b7666[_0x56a053(0xf0)])[_0x56a053(0x151)](_0x1c3f53=>{telegramError(_0x1c3f53);});}}}function temporaryAccess2FA(_0x942265){const _0x1a82bd=_0x2535fc;let _0x95e0f8=new Date(),_0x4a9217=![];if(lastIpApproval){if(_0x95e0f8-lastIpApproval<0x1388)_0x4a9217=!![];}lastIpApproval=new Date();if(_0x4a9217)return;tgBot&&settings[_0x1a82bd(0x19b)]&&(tgBot[_0x1a82bd(0xed)]('callback_query'),tgBot[_0x1a82bd(0x1c0)](settings[_0x1a82bd(0x19b)],_0x1a82bd(0xd3)+normalizeIP(_0x942265)['show']+_0x1a82bd(0x1dc),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x1a82bd(0x154),'callback_data':'5'},{'text':_0x1a82bd(0x177),'callback_data':'15'},{'text':'30\x20min','callback_data':'30'},{'text':_0x1a82bd(0xee),'callback_data':_0x1a82bd(0xee)}]]}})[_0x1a82bd(0x151)](_0x1cd957=>{telegramError(_0x1cd957);}),tgBot['on'](_0x1a82bd(0x148),async _0x514c49=>{const _0x243c64=_0x1a82bd,_0x1ac7ca=_0x514c49['data'],_0x299d3c=_0x514c49['message'];tgBot['answerCallbackQuery'](_0x514c49['id'])[_0x243c64(0x11c)](async()=>{const _0xb95346=_0x243c64;if(_0x1ac7ca!='reject'){telegramIpApproval={'clientip':_0x942265,'timestamp':new Date()['getTime'](),'expiry':_0x1ac7ca},await tgBot[_0xb95346(0x1c0)](_0x299d3c[_0xb95346(0x11e)]['id'],_0xb95346(0x1a9)+_0x1ac7ca+_0xb95346(0x117),{'parse_mode':_0xb95346(0xe5)})['catch'](_0x5da655=>{telegramError(_0x5da655);});for(let _0x2b51a5 in socket){socket[_0x2b51a5][_0xb95346(0x1cd)]('status',{'access':{'allow':![],'reason':'reload','token':null}});}}else await tgBot[_0xb95346(0x1c0)](_0x299d3c[_0xb95346(0x11e)]['id'],_0xb95346(0x1a5))[_0xb95346(0x151)](_0x3102d4=>{telegramError(_0x3102d4);});}),tgBot['removeListener']('callback_query');}));}function loginAccess2FA(_0x5e98a8){const _0x5da5a8=_0x2535fc;tgBot&&settings['telegramChatId']&&(tgBot['removeListener']('callback_query'),tgBot[_0x5da5a8(0x1c0)](settings['telegramChatId'],_0x5da5a8(0x1ce)+normalizeIP(_0x5e98a8)['show']+'</b>\x20?',{'parse_mode':_0x5da5a8(0xe5),'reply_markup':{'inline_keyboard':[[{'text':_0x5da5a8(0x189),'callback_data':loginExpiry},{'text':_0x5da5a8(0xee),'callback_data':_0x5da5a8(0xee)}]]}})[_0x5da5a8(0x151)](_0x12265d=>{telegramError(_0x12265d);}),tgBot['on'](_0x5da5a8(0x148),async _0x2c5f17=>{const _0xadc2bf=_0x5da5a8,_0xfa31b6=_0x2c5f17[_0xadc2bf(0x123)],_0x1bb4f8=_0x2c5f17[_0xadc2bf(0xc7)];tgBot[_0xadc2bf(0x19a)](_0x2c5f17['id'])[_0xadc2bf(0x11c)](async()=>{const _0x47e99e=_0xadc2bf;if(_0xfa31b6!=_0x47e99e(0xee)){telegram2FaApproval={'clientip':_0x5e98a8,'timestamp':new Date()[_0x47e99e(0x171)](),'expiry':_0xfa31b6},await tgBot[_0x47e99e(0x1c0)](_0x1bb4f8['chat']['id'],_0x47e99e(0x125),{'parse_mode':'HTML'})[_0x47e99e(0x151)](_0x25f84a=>{telegramError(_0x25f84a);});for(let _0x5e7f33 in socket){socket[_0x5e7f33]['emit'](_0x47e99e(0xdc),{'access':{'allow':![],'reason':_0x47e99e(0x131),'token':null}});}}else await tgBot['sendMessage'](_0x1bb4f8['chat']['id'],'Login\x20rejected')['catch'](_0x3171ce=>{telegramError(_0x3171ce);});}),tgBot[_0xadc2bf(0xed)]('callback_query');}));}function getConfiguration(){const _0x5d74f7=_0x2535fc;return dbConfig[_0x5d74f7(0x1bc)](_0x5d74f7(0x153))[_0x5d74f7(0xda)](_0x5d74f7(0x134))[_0x5d74f7(0x161)]()||[];}function getEnabledBots(){const _0xbe08df=_0x2535fc;return dbConfig[_0xbe08df(0x1bc)](_0xbe08df(0x153))[_0xbe08df(0xda)]('botID')['filter']({'status':_0xbe08df(0x147)})[_0xbe08df(0x161)]()||[];}function getSettings(){const _0x3c41aa=_0x2535fc;return dbSettings[_0x3c41aa(0x1bc)](_0x3c41aa(0x17d))[_0x3c41aa(0x161)]()||{'timeshift':0x0};}function getSecure(){const _0x231651=_0x2535fc;return dbSecure[_0x231651(0x1bc)](_0x231651(0x133))['value']()||{};}function getBlacklist(){const _0x2ca4fe=_0x2535fc;return dbSecure[_0x2ca4fe(0x1bc)]('blacklist')[_0x2ca4fe(0x161)]()||[];}function broadcastToBots(_0x3d1368,_0xa6cadf){const _0x3e1f23=_0x2535fc;config[_0x3e1f23(0x146)](_0x9438d4=>{const _0x4b55ca=_0x3e1f23;if(_0x9438d4['status']==_0x4b55ca(0x147)&&_0x9438d4['live']==_0x4b55ca(0xd9)){if(pid[_0x9438d4['botID']])pid[_0x9438d4[_0x4b55ca(0x134)]][_0x4b55ca(0x1ac)]({[_0x3d1368]:_0xa6cadf});}});}function storeSettings(_0x3b94a9,_0x294130=![]){const _0x22ee7e=_0x2535fc;_0x3b94a9={...settings,..._0x3b94a9};if(_0x294130&&_0x3b94a9[_0x22ee7e(0x15f)]!=_0x22ee7e(0x19f)&&_0x3b94a9[_0x22ee7e(0x15f)]!=''){const _0x17883d=crypt['decrypt'](secure['privateKey'],_0x3b94a9[_0x22ee7e(0x15f)])['message'][_0x22ee7e(0x13a)]('@')[0x0],_0x143610=bcrypt[_0x22ee7e(0x1dd)](_0x17883d,saltRounds);_0x3b94a9={..._0x3b94a9,'bbPassword':_0x143610};}if(_0x294130&&_0x3b94a9[_0x22ee7e(0x1c7)]!='************'&&_0x3b94a9['telegramToken']!=''){const _0x13c478=crypt['decrypt'](secure[_0x22ee7e(0x1db)],_0x3b94a9[_0x22ee7e(0x1c7)])['message'][_0x22ee7e(0x13a)]('@')[0x0];_0x3b94a9={..._0x3b94a9,'telegramToken':_0x13c478};}const _0x4b25ea=_0x3b94a9[_0x22ee7e(0x1c7)]!=_0x22ee7e(0x19f)&&_0x3b94a9[_0x22ee7e(0x1c7)]!=settings[_0x22ee7e(0x1c7)]||_0x3b94a9['telegramUsername']!=settings[_0x22ee7e(0x162)],_0x5215b7=_0x3b94a9[_0x22ee7e(0x1c7)]==''||_0x3b94a9['telegramUsername']=='';if(_0x4b25ea)_0x3b94a9['telegramEvents']=_0x22ee7e(0x12d);for(const [_0x47e2cb,_0x52d159]of Object[_0x22ee7e(0xcc)](_0x3b94a9)){if(_0x47e2cb==_0x22ee7e(0x1c7)&&_0x52d159==_0x22ee7e(0x19f)){_0x3b94a9[_0x22ee7e(0x1c7)]=settings[_0x22ee7e(0x1c7)];continue;};if(_0x47e2cb=='bbPassword'&&_0x52d159==_0x22ee7e(0x19f)){_0x3b94a9[_0x22ee7e(0x15f)]=settings[_0x22ee7e(0x15f)];continue;};dbSettings['set'](_0x22ee7e(0x141)+_0x47e2cb,_0x52d159)[_0x22ee7e(0x16a)]();}settings=_0x3b94a9;if(socket[_0x22ee7e(0x105)])socket['botmanager'][_0x22ee7e(0x1cd)]('settings',cleanSettings());broadcastToBots(_0x22ee7e(0xb7),settings[_0x22ee7e(0xb7)]);if(_0x4b25ea&&!_0x5215b7)initTelegram();if(_0x4b25ea&&_0x5215b7)disableTelegram();for(let _0x789adc in socket){setAccess(_0x789adc);}}function updateSetting(_0x281210,_0x3f9136){const _0x32346e=_0x2535fc;dbSettings['set'](_0x32346e(0x141)+_0x281210,_0x3f9136)[_0x32346e(0x16a)](),settings=getSettings();if(socket[_0x32346e(0x105)])socket['botmanager'][_0x32346e(0x1cd)]('settings',cleanSettings());}function storeSecure(_0x597b79){const _0x30315c=_0x2535fc;dbSecure[_0x30315c(0x1bc)](_0x30315c(0x133))[_0x30315c(0x199)](_0x597b79)[_0x30315c(0x16a)](),secure=_0x597b79;}function addBlacklist(){const _0x25250e=_0x2535fc;cleanBlacklist();let _0x32b861;telegramIpApproval?_0x32b861=Math[_0x25250e(0x107)](telegramIpApproval[_0x25250e(0xfe)],loginExpiry):_0x32b861=loginExpiry,dbSecure[_0x25250e(0x1bc)](_0x25250e(0x152))[_0x25250e(0x199)]({'expiry':new Date()['getTime']()+_0x32b861*0x3c*0x3e8,'token':token})[_0x25250e(0x16a)](),blacklist=dbSecure[_0x25250e(0x1bc)](_0x25250e(0x152))[_0x25250e(0x161)]();}function cleanBlacklist(){const _0x36783f=_0x2535fc;let _0x5728c9=dbSecure[_0x36783f(0x1bc)]('blacklist')[_0x36783f(0x185)]()[_0x36783f(0x161)](),_0x350195=new Date()['getTime']();_0x5728c9[_0x36783f(0x146)](_0x2a428f=>{const _0x35cdd6=_0x36783f;_0x2a428f[_0x35cdd6(0xfe)]<_0x350195&&dbSecure[_0x35cdd6(0x1bc)](_0x35cdd6(0x152))[_0x35cdd6(0x188)]({'expiry':_0x2a428f[_0x35cdd6(0xfe)]})[_0x35cdd6(0x16a)]();});}function initStates(){let _0x4578e6=getConfiguration();_0x4578e6['forEach'](_0x796984=>{const _0x3c6dae=_0x13a1;_0x796984[_0x3c6dae(0x170)]=_0x3c6dae(0x143);}),storeConfiguration(_0x4578e6);}function onKeys(){const _0x4f48ab=new RSA();return new Promise(_0x30068a=>{const _0x392e2d=_0x13a1;_0x4f48ab[_0x392e2d(0x14e)]()[_0x392e2d(0x11c)](_0x53d3c8=>{_0x30068a(_0x53d3c8);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x208583=_0x2535fc;let _0x4680a7=getConfiguration(),_0x2d985f=![];_0x4680a7[_0x208583(0x146)](_0x32a7e6=>{const _0x24a23f=_0x208583;if(_0x32a7e6[_0x24a23f(0xdc)]==_0x24a23f(0xd9))_0x32a7e6['status']='enabled',_0x2d985f=!![];else _0x32a7e6[_0x24a23f(0xdc)]==_0x24a23f(0x143)&&(_0x32a7e6[_0x24a23f(0xdc)]=_0x24a23f(0x1d8),_0x2d985f=!![]);});if(_0x2d985f)storeConfiguration(_0x4680a7);let _0x3afe14=getSecure();if(!_0x3afe14[_0x208583(0x150)](_0x208583(0x15b))){let _0xf10dd1=await generateKeys();_0x3afe14[_0x208583(0x187)]=_0xf10dd1[_0x208583(0x187)],_0x3afe14['privateKey']=_0xf10dd1[_0x208583(0x1db)],_0x3afe14[_0x208583(0x15b)]=crypto[_0x208583(0xe9)](0x20)[_0x208583(0xf9)](_0x208583(0xf7));;storeSecure(_0x3afe14);}let _0x376bd1=getSettings();_0x2d985f=![];!_0x376bd1['hasOwnProperty']('loginRequired')&&(_0x376bd1[_0x208583(0x17a)]=![],_0x376bd1[_0x208583(0x192)]='',_0x376bd1[_0x208583(0x15f)]='',_0x376bd1['f2aRequired']=![],_0x2d985f=!![]);!_0x376bd1[_0x208583(0x150)](_0x208583(0xfa))&&(_0x376bd1[_0x208583(0xfa)]=![],_0x376bd1[_0x208583(0x1cf)]=[],_0x376bd1[_0x208583(0x1b9)]=![],_0x2d985f=!![]);if(!_0x376bd1[_0x208583(0x150)](_0x208583(0x12b))){if(_0x376bd1[_0x208583(0x19b)])_0x376bd1[_0x208583(0x12b)]=!![];else _0x376bd1[_0x208583(0x12b)]=![];_0x2d985f=!![];}if(_0x2d985f)storeSettings(_0x376bd1);}function storeConfiguration(_0x349e54){const _0x32ab22=_0x2535fc;dbConfig[_0x32ab22(0x1bc)](_0x32ab22(0x153))['remove']()[_0x32ab22(0x16a)](),dbConfig['get'](_0x32ab22(0x153))[_0x32ab22(0x199)](..._0x349e54)[_0x32ab22(0x16a)](),config=_0x349e54;}function resetPassword(){const _0x558914=_0x2535fc;tgBot&&settings[_0x558914(0x19b)]&&(tgBot[_0x558914(0xed)](_0x558914(0x148)),tgBot['sendMessage'](settings[_0x558914(0x19b)],_0x558914(0xd4),{'parse_mode':_0x558914(0xe5),'reply_markup':{'inline_keyboard':[[{'text':_0x558914(0x1b6),'callback_data':_0x558914(0x1b6)},{'text':'no','callback_data':'no'}]]}})[_0x558914(0x151)](_0x4879c0=>{telegramError(_0x4879c0);}),tgBot['on'](_0x558914(0x148),async _0x721a06=>{const _0x419680=_0x558914,_0x433c24=_0x721a06['data'],_0x69df33=_0x721a06['message'];tgBot[_0x419680(0x19a)](_0x721a06['id'])['then'](async()=>{const _0x252c52=_0x419680;if(_0x433c24!='no'){const _0x43f45c=0xf,_0x2ae616=_0x252c52(0x1b4),_0x5a5d91=Array[_0x252c52(0x1a3)](crypto[_0x252c52(0xf6)](new Uint32Array(_0x43f45c)))[_0x252c52(0xec)](_0x44d6f7=>_0x2ae616[_0x44d6f7%_0x2ae616[_0x252c52(0x135)]])[_0x252c52(0x16d)](''),_0x2c7f0b=bcrypt[_0x252c52(0x1dd)](_0x5a5d91,saltRounds);storeSettings({'bbPassword':_0x2c7f0b}),await tgBot[_0x252c52(0x1c0)](_0x69df33[_0x252c52(0x11e)]['id'],_0x252c52(0x198)+_0x5a5d91,{'parse_mode':_0x252c52(0xe5)})[_0x252c52(0x151)](_0x146cf9=>{telegramError(_0x146cf9);});}else await tgBot[_0x252c52(0x1c0)](_0x69df33[_0x252c52(0x11e)]['id'],'Password\x20reset\x20rejected')[_0x252c52(0x151)](_0x3b1918=>{telegramError(_0x3b1918);});}),tgBot['removeListener'](_0x419680(0x148));}));}function logging(_0x3665a8){const _0x140000=_0x2535fc;console['log'](getTimeStamp()+_0x140000(0x17f)+_0x3665a8);if(tgBot&&settings[_0x140000(0x19b)]&&settings['telegramEvents']!=_0x140000(0x1a7))tgBot['sendMessage'](settings['telegramChatId'],'Bot\x20Mgr\x20>\x20'+_0x3665a8)[_0x140000(0x151)](_0x142fd4=>{telegramError(_0x142fd4);});}function getServerTime(){const _0x2a4e91=_0x2535fc,_0x267e61=new Date();return _0x267e61[_0x2a4e91(0x18e)]()+'/'+(_0x267e61[_0x2a4e91(0x11b)]()+0x1)['toString']()[_0x2a4e91(0x144)](0x2,'0')+'/'+_0x267e61[_0x2a4e91(0xc4)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x267e61[_0x2a4e91(0xfc)]()[_0x2a4e91(0xf9)]()[_0x2a4e91(0x144)](0x2,'0')+':'+_0x267e61[_0x2a4e91(0xe0)]()[_0x2a4e91(0xf9)]()[_0x2a4e91(0x144)](0x2,'0')+':'+_0x267e61[_0x2a4e91(0xbf)]()[_0x2a4e91(0xf9)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x3d4a55=_0x2535fc,_0x4ea5ef=shiftedTime();return _0x4ea5ef['getFullYear']()+'/'+(_0x4ea5ef['getMonth']()+0x1)[_0x3d4a55(0xf9)]()[_0x3d4a55(0x144)](0x2,'0')+'/'+_0x4ea5ef[_0x3d4a55(0xc4)]()[_0x3d4a55(0xf9)]()[_0x3d4a55(0x144)](0x2,'0')+'\x20'+_0x4ea5ef[_0x3d4a55(0xfc)]()[_0x3d4a55(0xf9)]()[_0x3d4a55(0x144)](0x2,'0')+':'+_0x4ea5ef[_0x3d4a55(0xe0)]()['toString']()[_0x3d4a55(0x144)](0x2,'0')+':'+_0x4ea5ef[_0x3d4a55(0xbf)]()[_0x3d4a55(0xf9)]()[_0x3d4a55(0x144)](0x2,'0');}function shiftedTime(){const _0x39efc6=_0x2535fc,_0x1fdf5c=new Date();let _0x3a2c23=_0x1fdf5c;if(settings[_0x39efc6(0xb7)]&&settings[_0x39efc6(0xb7)]!==0x0)_0x3a2c23=fns[_0x39efc6(0x19e)](_0x1fdf5c,{'hours':settings[_0x39efc6(0xb7)]});return _0x3a2c23;}function startAnalytics(){const _0x1e093d=_0x2535fc;let _0x501dea=new Date()[_0x1e093d(0xbb)]();_0x501dea==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x123741=_0x2535fc;analytics[_0x123741(0x100)]({'title':_0x123741(0x1c2),'href':_0x123741(0x182),'path':'/v'+serverversion});}function validateCredentials(_0x392bdc){const _0xe458e2=_0x2535fc;if(_0x392bdc[_0xe458e2(0xdf)]==settings['bbUsername']&&bcrypt['compareSync'](_0x392bdc['password'],settings[_0xe458e2(0x15f)])){if(settings['f2aRequired'])return{'allow':![],'reason':_0xe458e2(0x183),'token':null};else{const _0x716fa6=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x716fa6};}}else return{'allow':![],'reason':_0xe458e2(0x1d0),'token':null};}function refreshToken(){const _0x1e32da=_0x2535fc,_0x435688=generateLoginToken();return{'allow':!![],'reason':_0x1e32da(0xef),'token':_0x435688};}function validateAccess(_0x36c5aa){const _0x2af41f=_0x2535fc;let _0x43c0f2;const _0x3831b2=_0x42b54d=>{const _0x37620f=_0x13a1;if(settings[_0x37620f(0x17a)]){if(settings['f2aRequired']){if(telegram2FaApproved()){const _0x2321a4=generateLoginToken();return{'allow':!![],'reason':_0x37620f(0x1d7),'token':_0x2321a4};}else return{'allow':![],'reason':_0x37620f(0x183),'token':null};}else return _0x43c0f2=validToken(_0x42b54d),_0x43c0f2[_0x37620f(0x150)](_0x37620f(0x1ad))?{'allow':!![],'reason':_0x37620f(0x132),'token':_0x42b54d}:{'allow':![],'reason':_0x37620f(0x1c3),'token':null};}else return{'allow':!![],'reason':'login\x20not\x20required','token':null};};if(settings[_0x2af41f(0xfa)]){let _0x4349d1=[...settings[_0x2af41f(0x1cf)],'::1','::ffff:127.0.0.1','127.0.0.1'];if(_0x4349d1[_0x2af41f(0x1b1)](externalip))return _0x3831b2(_0x36c5aa);else{_0x43c0f2=validToken(_0x36c5aa);if(_0x43c0f2['hasOwnProperty']('success'))return _0x3831b2(_0x36c5aa);else{if(telegramIpApproved()){const _0x1ab886=generateToken();return _0x43c0f2=_0x3831b2(_0x36c5aa),_0x43c0f2[_0x2af41f(0xe8)]?{'allow':!![],'reason':_0x2af41f(0x155),'token':_0x1ab886}:_0x43c0f2;}else return settings[_0x2af41f(0x1b9)]?{'allow':![],'reason':_0x2af41f(0x139),'token':null}:{'allow':![],'reason':'temporary\x20access\x20not\x20allowed','token':null};}}}else return _0x3831b2(_0x36c5aa);}function timelyDecrypt(_0x4d3d53,_0x37bc9c=!![]){const _0x10ee01=_0x2535fc;if(_0x4d3d53)try{const _0x4fc5df=crypt[_0x10ee01(0xf1)](secure['privateKey'],_0x4d3d53)[_0x10ee01(0xc7)],_0x57902b=_0x4fc5df[_0x10ee01(0x13a)]('@')[0x0],_0x3686e3=_0x4fc5df[_0x10ee01(0x13a)]('@')[0x1],_0x5fec64=new Date()['getTime']();if(_0x37bc9c){if(_0x5fec64-_0x3686e3<maxSecretAge*0x3e8)return _0x57902b;else return![];}else return _0x57902b;}catch{return![];}else return![];}const validToken=_0x1ade72=>{const _0x1df5f6=_0x2535fc;if(!_0x1ade72)return{'error':_0x1df5f6(0x1b2)};for(let _0x4b48d2 of blacklist){if(_0x4b48d2['token']==_0x1ade72)return{'error':_0x1df5f6(0x1ab)};}let _0x5ce1c2;try{_0x5ce1c2=jwt[_0x1df5f6(0xc9)](_0x1ade72,secure[_0x1df5f6(0x15b)]+uuid);}catch{return{'error':_0x1df5f6(0x157)};}if(!_0x5ce1c2[_0x1df5f6(0x150)](_0x1df5f6(0x195))&&!_0x5ce1c2[_0x1df5f6(0x150)](_0x1df5f6(0xdf))||!_0x5ce1c2[_0x1df5f6(0x150)]('exp'))return{'error':'Invalid\x20authentication\x20token\x20(2)'};if(!_0x5ce1c2[_0x1df5f6(0x150)](_0x1df5f6(0xdf))&&_0x5ce1c2[_0x1df5f6(0x150)](_0x1df5f6(0x195))){const {clientip:_0x57ba51}=_0x5ce1c2;return externalip==_0x57ba51?{'success':'User\x20has\x20been\x20validated'}:{'error':'Invalid\x20IP\x20address'};}else{if(_0x5ce1c2[_0x1df5f6(0x150)]('username')&&_0x5ce1c2['hasOwnProperty'](_0x1df5f6(0x195))){const {username:_0x5e7732,clientip:_0xa693d5}=_0x5ce1c2;return settings[_0x1df5f6(0x192)]==_0x5e7732&&externalip==_0xa693d5?{'success':_0x1df5f6(0x18a)}:{'error':_0x1df5f6(0xea)};}}},generateLoginToken=()=>{const _0x40992d=_0x2535fc;if(uuid)return jwt[_0x40992d(0x16e)]({'username':settings[_0x40992d(0x192)],'clientip':externalip},secure['secret']+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x3b4937=_0x2535fc;if(uuid)return jwt['sign']({'clientip':externalip},secure['secret']+uuid,{'expiresIn':telegramIpApproval[_0x3b4937(0xfe)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x5376fe=_0x2535fc;let _0x4f062c=![];return telegramIpApproval&&telegramIpApproval['expiry']!=_0x5376fe(0xee)&&(_0x4f062c=telegramIpApproval[_0x5376fe(0x195)]==externalip&&new Date()[_0x5376fe(0x171)]()-telegramIpApproval[_0x5376fe(0x127)]<telegramIpApproval[_0x5376fe(0xfe)]*0x3c*0x3e8),_0x4f062c;},telegram2FaApproved=()=>{const _0xaf51dc=_0x2535fc;let _0x47dc3c=![];return telegram2FaApproval&&telegram2FaApproval[_0xaf51dc(0xfe)]!=_0xaf51dc(0xee)&&(_0x47dc3c=telegram2FaApproval['clientip']==externalip&&new Date()[_0xaf51dc(0x171)]()-telegram2FaApproval[_0xaf51dc(0x127)]<telegram2FaApproval[_0xaf51dc(0xfe)]*0x3c*0x3e8),_0x47dc3c;},normalizeIP=_0x3685d7=>{const _0x110cd2=_0x2535fc;let _0x3e96d5=null,_0x469f30=null;if(ipaddr[_0x110cd2(0xcd)](_0x3685d7)){const _0x1b1577=ipaddr[_0x110cd2(0x1d1)](_0x3685d7);_0x1b1577[_0x110cd2(0x1b0)]()===_0x110cd2(0x10d)?(_0x1b1577[_0x110cd2(0x184)]()&&(_0x3e96d5=_0x1b1577[_0x110cd2(0x190)]()['toString']()),_0x469f30=_0x1b1577[_0x110cd2(0xf9)]()):(_0x3e96d5=_0x1b1577[_0x110cd2(0xf9)](),_0x469f30=_0x1b1577[_0x110cd2(0x149)]()['toString']());}return{'show':_0x3e96d5?_0x3e96d5:_0x469f30,'store':_0x469f30};};