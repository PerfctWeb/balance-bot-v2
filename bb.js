const _0x36edbf=_0x53c3;(function(_0x42a50c,_0x5e21ea){const _0x510dff=_0x53c3,_0x3e9c0c=_0x42a50c();while(!![]){try{const _0x57f0fd=parseInt(_0x510dff(0xf8))/0x1+parseInt(_0x510dff(0xf2))/0x2+parseInt(_0x510dff(0xd3))/0x3*(-parseInt(_0x510dff(0xd9))/0x4)+-parseInt(_0x510dff(0xdd))/0x5+-parseInt(_0x510dff(0xee))/0x6+-parseInt(_0x510dff(0xff))/0x7+parseInt(_0x510dff(0xec))/0x8;if(_0x57f0fd===_0x5e21ea)break;else _0x3e9c0c['push'](_0x3e9c0c['shift']());}catch(_0x3e22b5){_0x3e9c0c['push'](_0x3e9c0c['shift']());}}}(_0x5f31,0x9e441));const _0x89fc63=function(){let _0x4de5de=!![];return function(_0x391e69,_0x43e5fc){const _0x4ceb91=_0x4de5de?function(){const _0x451b2b=_0x53c3;if(_0x43e5fc){const _0x490e79=_0x43e5fc[_0x451b2b(0xd6)](_0x391e69,arguments);return _0x43e5fc=null,_0x490e79;}}:function(){};return _0x4de5de=![],_0x4ceb91;};}(),_0x57c74c=_0x89fc63(this,function(){const _0x183333=_0x53c3;return _0x57c74c[_0x183333(0xe4)]()[_0x183333(0xda)](_0x183333(0xeb))['toString']()[_0x183333(0xe9)](_0x57c74c)['search'](_0x183333(0xeb));});_0x57c74c();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x36edbf(0xf4)][_0x36edbf(0x103)](0x2))[_0x36edbf(0xf4)],childProcess=require(_0x36edbf(0xdf)),nodeversion=process[_0x36edbf(0xef)][_0x36edbf(0xe1)],minversion=0x10;nodeversion[_0x36edbf(0xf9)]('.')[0x0]<minversion&&(console[_0x36edbf(0xed)](),console[_0x36edbf(0xed)](_0x36edbf(0xe3)),console['log'](_0x36edbf(0xe0)+nodeversion+',\x20but\x20version\x20'+minversion+'\x20or\x20above\x20is\x20required'),console[_0x36edbf(0xed)](_0x36edbf(0xf5)),console[_0x36edbf(0xed)](_0x36edbf(0xe3)),console['log'](),process['exit'](0x1));if(argv[_0x36edbf(0x102)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x36edbf(0xe6)](argv[_0x36edbf(0x102)])&&(console[_0x36edbf(0xed)](_0x36edbf(0xd7)+argv[_0x36edbf(0x102)]+_0x36edbf(0x104)),process[_0x36edbf(0xde)](0x1));}let args=[];argv[_0x36edbf(0x102)]&&(args['push']('--port'),args[_0x36edbf(0xd4)](argv['port']));argv[_0x36edbf(0xf7)]&&(args[_0x36edbf(0xd4)](_0x36edbf(0x100)),args[_0x36edbf(0xd4)](argv['host']));argv[_0x36edbf(0xdc)]&&(args['push'](_0x36edbf(0xe8)),args[_0x36edbf(0xd4)](argv[_0x36edbf(0xdc)]));const staging=argv['s']||![],debugging=argv['d']||![];function _0x5f31(){const _0x2ec518=['terminate','--user','constructor','update','(((.+)+)+)+$','24819344bfhLqf','log','1414260zYwVsz','versions','existsSync','fork','1548136QXjmYB','Automatically\x20restarting\x20BM','argv','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','error','host','105327EMlECC','split','message','Balance\x20Bot\x20>\x20','inherit','kill','Unexpected\x20error:','8205855cDFkxn','--host','ipc','port','slice',',\x20must\x20be\x20a\x204\x20digit\x20number','staging','3fWDdEu','push','bm.js','apply','Error:\x20Invalid\x20argument\x20','install.js','5149084gUsveT','search','Error\x20while\x20updating\x20Balance\x20Bot:','user','3191550QwJRNJ','exit','child_process','The\x20installed\x20Node.js\x20version\x20is\x20','node','keys','-----------------------------------------------------------------------------------','toString','restore','test'];_0x5f31=function(){return _0x2ec518;};return _0x5f31();}debugging&&args['push']('-d');let bmpath='bb/';const bmfile=_0x36edbf(0xd5),updatefile=_0x36edbf(0xd8);!fs[_0x36edbf(0xf0)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x36edbf(0xde),async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function _0x53c3(_0x3fd9ee,_0x1aa3e7){const _0x203813=_0x5f31();return _0x53c3=function(_0x57c74c,_0x89fc63){_0x57c74c=_0x57c74c-0xd3;let _0x5f31dc=_0x203813[_0x57c74c];return _0x5f31dc;},_0x53c3(_0x3fd9ee,_0x1aa3e7);}function startBM(){const _0x1f79e3=_0x36edbf;let _0x42960d=![];const _0x3ae948={'cwd':'','stdio':['inherit',_0x1f79e3(0xfc),'inherit',_0x1f79e3(0x101)]};pid1=childProcess[_0x1f79e3(0xf1)](bmpath+bmfile,args,_0x3ae948),pid1['on'](_0x1f79e3(0xfa),_0x5a4abf=>{const _0x366bfa=_0x1f79e3,_0x447867=Object['values'](_0x5a4abf)[0x1]==_0x366bfa(0x105);switch(Object[_0x366bfa(0xe2)](_0x5a4abf)[0x0]){case _0x366bfa(0xea):if(_0x447867)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x447867)startUpdate('3s');else startUpdate('3');break;case _0x366bfa(0xe5):handleRestore();break;case _0x366bfa(0xe7):handleTerminate();break;}}),pid1['on'](_0x1f79e3(0xf6),function(_0x213efa){const _0x2db321=_0x1f79e3;if(_0x42960d)return;_0x42960d=!![],logging(_0x2db321(0xfe),_0x213efa);}),pid1['on'](_0x1f79e3(0xde),function(_0x2f3dd0){const _0xca43da=_0x1f79e3;if(terminating)return;if(updating)return;if(_0x42960d)return;_0x42960d=!![],console[_0xca43da(0xed)](_0xca43da(0xf3)),startBM();});}async function handleTerminate(){const _0x4bdbee=_0x36edbf;stopBM(),await sleep(0x3e8),process[_0x4bdbee(0xde)](0x0);}function stopBM(){const _0x2f53d3=_0x36edbf;terminating=!![];if(pid1)pid1[_0x2f53d3(0xfd)]();pid1=null;}function startUpdate(_0x14ceca){const _0x4d5514=_0x36edbf;updating=!![],stopBM();let _0x458ac4=![];const _0x5d9607={'cwd':'','stdio':[_0x4d5514(0xfc),_0x4d5514(0xfc),'inherit',_0x4d5514(0x101)]};let _0x1962f4=[];if(staging)_0x1962f4[_0x4d5514(0xd4)](_0x14ceca+'s');else _0x1962f4[_0x4d5514(0xd4)](_0x14ceca);pid2=childProcess[_0x4d5514(0xf1)](updatefile,_0x1962f4,_0x5d9607),pid2['on'](_0x4d5514(0xf6),function(_0x4e0b37){const _0x583d81=_0x4d5514;updating=![];if(_0x458ac4)return;_0x458ac4=!![],logging(_0x583d81(0xdb),_0x4e0b37);}),pid2['on']('exit',function(_0x5abe83){updating=![];if(_0x458ac4)return;_0x458ac4=!![],terminating=![],startBM();});}function handleRestore(){const _0x36306b=_0x36edbf;if(pid1)pid1[_0x36306b(0xfd)]();}function logging(_0x472849){const _0x590115=_0x36edbf;console['log'](_0x590115(0xfb)+_0x472849);}function sleep(_0x4edac4){return new Promise(_0x1c56d5=>setTimeout(_0x1c56d5,_0x4edac4));}