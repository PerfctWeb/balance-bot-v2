const _0x91bbb4=_0x13db;(function(_0x11b591,_0xe70230){const _0x5a38ff=_0x13db,_0x56666a=_0x11b591();while(!![]){try{const _0x4ff4d0=-parseInt(_0x5a38ff(0x13e))/0x1*(-parseInt(_0x5a38ff(0x150))/0x2)+parseInt(_0x5a38ff(0x13c))/0x3+parseInt(_0x5a38ff(0x160))/0x4+-parseInt(_0x5a38ff(0x14a))/0x5+parseInt(_0x5a38ff(0x13d))/0x6+parseInt(_0x5a38ff(0x15a))/0x7*(-parseInt(_0x5a38ff(0x139))/0x8)+-parseInt(_0x5a38ff(0x146))/0x9;if(_0x4ff4d0===_0xe70230)break;else _0x56666a['push'](_0x56666a['shift']());}catch(_0x460b95){_0x56666a['push'](_0x56666a['shift']());}}}(_0x3dad,0x970ac));const _0x30f330=function(){let _0x4f46c2=!![];return function(_0x438645,_0x285d35){const _0x88c517=_0x4f46c2?function(){if(_0x285d35){const _0x266906=_0x285d35['apply'](_0x438645,arguments);return _0x285d35=null,_0x266906;}}:function(){};return _0x4f46c2=![],_0x88c517;};}(),_0x1e65d1=_0x30f330(this,function(){const _0x349d7f=_0x13db;return _0x1e65d1['toString']()[_0x349d7f(0x156)]('(((.+)+)+)+$')['toString']()[_0x349d7f(0x15b)](_0x1e65d1)['search'](_0x349d7f(0x137));});_0x1e65d1();const fs=require('fs'),argv=require(_0x91bbb4(0x138))(process['argv'][_0x91bbb4(0x15c)](0x2))[_0x91bbb4(0x13a)],childProcess=require(_0x91bbb4(0x141)),nodeversion=process[_0x91bbb4(0x14c)]['node'],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x91bbb4(0x143)](),console['log'](_0x91bbb4(0x152)),console[_0x91bbb4(0x143)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+',\x20but\x20version\x20'+minversion+_0x91bbb4(0x136)),console['log']('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x91bbb4(0x143)](_0x91bbb4(0x152)),console[_0x91bbb4(0x143)](),process[_0x91bbb4(0x142)](0x1));if(argv[_0x91bbb4(0x140)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x91bbb4(0x149)](argv['port'])&&(console['log'](_0x91bbb4(0x154)+argv[_0x91bbb4(0x140)]+_0x91bbb4(0x13f)),process['exit'](0x1));}let args=[];argv[_0x91bbb4(0x140)]&&(args[_0x91bbb4(0x14e)](_0x91bbb4(0x153)),args['push'](argv[_0x91bbb4(0x140)]));argv['host']&&(args[_0x91bbb4(0x14e)](_0x91bbb4(0x148)),args[_0x91bbb4(0x14e)](argv['host']));argv[_0x91bbb4(0x155)]&&(args['push']('--user'),args['push'](argv[_0x91bbb4(0x155)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x91bbb4(0x14e)]('-d');let bmpath=_0x91bbb4(0x159);const bmfile=_0x91bbb4(0x145),updatefile=_0x91bbb4(0x147);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');function _0x13db(_0x516cc2,_0x5316a4){const _0x298a0c=_0x3dad();return _0x13db=function(_0x1e65d1,_0x30f330){_0x1e65d1=_0x1e65d1-0x134;let _0x3dadd1=_0x298a0c[_0x1e65d1];return _0x3dadd1;},_0x13db(_0x516cc2,_0x5316a4);}let pid1,pid2,updating=![],terminating=![];process['on'](_0x91bbb4(0x142),async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on'](_0x91bbb4(0x144),async()=>{handleTerminate();}),startBM();function startBM(){const _0x4937ff=_0x91bbb4;let _0x48afc4=![];const _0xfeac3a={'cwd':'','stdio':[_0x4937ff(0x151),_0x4937ff(0x151),_0x4937ff(0x151),'ipc']};pid1=childProcess['fork'](bmpath+bmfile,args,_0xfeac3a),pid1['on'](_0x4937ff(0x14d),_0x36a6b8=>{const _0x13bd09=_0x4937ff,_0x171e8a=Object['values'](_0x36a6b8)[0x1]==_0x13bd09(0x158);switch(Object['keys'](_0x36a6b8)[0x0]){case'update':if(_0x171e8a)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x171e8a)startUpdate('3s');else startUpdate('3');break;case _0x13bd09(0x13b):handleRestore();break;case'terminate':handleTerminate();break;}}),pid1['on'](_0x4937ff(0x157),function(_0x2ad19d){const _0x2a428a=_0x4937ff;if(_0x48afc4)return;_0x48afc4=!![],logging(_0x2a428a(0x14b),_0x2ad19d);}),pid1['on'](_0x4937ff(0x142),function(_0x98ef80){const _0x2ea3af=_0x4937ff;if(terminating)return;if(updating)return;if(_0x48afc4)return;_0x48afc4=!![],console[_0x2ea3af(0x143)](_0x2ea3af(0x135)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){const _0x5ba63b=_0x91bbb4;terminating=!![];if(pid1)pid1[_0x5ba63b(0x15e)]();pid1=null;}function startUpdate(_0x5e4e28){const _0x2566c2=_0x91bbb4;updating=!![],stopBM();let _0x154a2c=![];const _0x3b35a2={'cwd':'','stdio':['inherit',_0x2566c2(0x151),'inherit',_0x2566c2(0x134)]};let _0x4e6bc3=[];if(staging)_0x4e6bc3[_0x2566c2(0x14e)](_0x5e4e28+'s');else _0x4e6bc3[_0x2566c2(0x14e)](_0x5e4e28);pid2=childProcess[_0x2566c2(0x15f)](updatefile,_0x4e6bc3,_0x3b35a2),pid2['on']('error',function(_0x582e37){const _0x429757=_0x2566c2;updating=![];if(_0x154a2c)return;_0x154a2c=!![],logging(_0x429757(0x14f),_0x582e37);}),pid2['on']('exit',function(_0x421472){updating=![];if(_0x154a2c)return;_0x154a2c=!![],terminating=![],startBM();});}function _0x3dad(){const _0x8a7270=['13176468UCXVng','install.js','--host','test','2986700VNViZg','Unexpected\x20error:','versions','message','push','Error\x20while\x20updating\x20Balance\x20Bot:','1443452PgxIxq','inherit','-----------------------------------------------------------------------------------','--port','Error:\x20Invalid\x20argument\x20','user','search','error','staging','bb/','7udwkIh','constructor','slice','Balance\x20Bot\x20>\x20','kill','fork','713608WdRNJW','ipc','Automatically\x20restarting\x20BM','\x20or\x20above\x20is\x20required','(((.+)+)+)+$','yargs/yargs','100376kBaOKW','argv','restore','2692185OaxOna','5370504apMCJl','1wVqlGF',',\x20must\x20be\x20a\x204\x20digit\x20number','port','child_process','exit','log','SIGINT','bm.js'];_0x3dad=function(){return _0x8a7270;};return _0x3dad();}function handleRestore(){const _0x4fdb34=_0x91bbb4;if(pid1)pid1[_0x4fdb34(0x15e)]();}function logging(_0xd48f92){const _0x2c212d=_0x91bbb4;console[_0x2c212d(0x143)](_0x2c212d(0x15d)+_0xd48f92);}function sleep(_0x5aa8b5){return new Promise(_0x411c17=>setTimeout(_0x411c17,_0x5aa8b5));}