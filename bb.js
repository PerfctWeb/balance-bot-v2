const _0x181a42=_0x1e39;(function(_0x53bfc7,_0x54bbf0){const _0x41c293=_0x1e39,_0x5698ff=_0x53bfc7();while(!![]){try{const _0x2bdaf8=parseInt(_0x41c293(0x1f1))/0x1*(parseInt(_0x41c293(0x1dc))/0x2)+-parseInt(_0x41c293(0x1bf))/0x3+-parseInt(_0x41c293(0x1e6))/0x4*(parseInt(_0x41c293(0x1e8))/0x5)+-parseInt(_0x41c293(0x1cb))/0x6+-parseInt(_0x41c293(0x1ed))/0x7+parseInt(_0x41c293(0x1c6))/0x8+-parseInt(_0x41c293(0x1db))/0x9*(-parseInt(_0x41c293(0x1ca))/0xa);if(_0x2bdaf8===_0x54bbf0)break;else _0x5698ff['push'](_0x5698ff['shift']());}catch(_0x3a1aa5){_0x5698ff['push'](_0x5698ff['shift']());}}}(_0xa62b,0xa1b81));const _0x261fb7=function(){let _0x4a204f=!![];return function(_0x452331,_0x1bb9e7){const _0x255bd3=_0x4a204f?function(){const _0x4cd8ef=_0x1e39;if(_0x1bb9e7){const _0x1ec752=_0x1bb9e7[_0x4cd8ef(0x1eb)](_0x452331,arguments);return _0x1bb9e7=null,_0x1ec752;}}:function(){};return _0x4a204f=![],_0x255bd3;};}(),_0x4e74bd=_0x261fb7(this,function(){const _0x5d08ca=_0x1e39;return _0x4e74bd[_0x5d08ca(0x1e2)]()[_0x5d08ca(0x1cd)]('(((.+)+)+)+$')[_0x5d08ca(0x1e2)]()[_0x5d08ca(0x1c0)](_0x4e74bd)[_0x5d08ca(0x1cd)](_0x5d08ca(0x1c4));});function _0xa62b(){const _0x238f86=['4185888MbAXeu','keys','search','\x20or\x20above\x20is\x20required','SIGTERM','versions','push','error','message','user','Balance\x20Bot\x20>\x20',',\x20but\x20version\x20','host','argv','slice','restore','10044NwTzoY','2338hywakH','The\x20installed\x20Node.js\x20version\x20is\x20','yargs/yargs','bm.js','inherit','existsSync','toString','Error\x20while\x20updating\x20Balance\x20Bot:','--user','Error:\x20Invalid\x20argument\x20','2871420ovAKXt','terminate','5ooQeCl','--host','fork','apply','kill','8016218YVKcGl','log','port','-----------------------------------------------------------------------------------','1069bXlZeK',',\x20must\x20be\x20a\x204\x20digit\x20number','1406784CfjUiB','constructor','exit','--port','node','(((.+)+)+)+$','update','8593032ptmRYU','bb/','SIGINT','Unexpected\x20error:','12260srywcO'];_0xa62b=function(){return _0x238f86;};return _0xa62b();}_0x4e74bd();const fs=require('fs'),argv=require(_0x181a42(0x1de))(process['argv'][_0x181a42(0x1d9)](0x2))[_0x181a42(0x1d8)],childProcess=require('child_process'),nodeversion=process[_0x181a42(0x1d0)][_0x181a42(0x1c3)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x181a42(0x1ee)](),console[_0x181a42(0x1ee)](_0x181a42(0x1f0)),console['log'](_0x181a42(0x1dd)+nodeversion+_0x181a42(0x1d6)+minversion+_0x181a42(0x1ce)),console['log']('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x181a42(0x1ee)](_0x181a42(0x1f0)),console[_0x181a42(0x1ee)](),process[_0x181a42(0x1c1)](0x1));if(argv[_0x181a42(0x1ef)]){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv[_0x181a42(0x1ef)])&&(console[_0x181a42(0x1ee)](_0x181a42(0x1e5)+argv[_0x181a42(0x1ef)]+_0x181a42(0x1be)),process[_0x181a42(0x1c1)](0x1));}let args=[];argv[_0x181a42(0x1ef)]&&(args[_0x181a42(0x1d1)](_0x181a42(0x1c2)),args[_0x181a42(0x1d1)](argv['port']));argv[_0x181a42(0x1d7)]&&(args[_0x181a42(0x1d1)](_0x181a42(0x1e9)),args[_0x181a42(0x1d1)](argv[_0x181a42(0x1d7)]));argv['user']&&(args[_0x181a42(0x1d1)](_0x181a42(0x1e4)),args[_0x181a42(0x1d1)](argv[_0x181a42(0x1d4)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x181a42(0x1d1)]('-d');let bmpath=_0x181a42(0x1c7);const bmfile=_0x181a42(0x1df),updatefile='install.js';!fs[_0x181a42(0x1e1)](bmpath+bmfile)&&(bmpath='');function _0x1e39(_0x436cd7,_0x155735){const _0x322c05=_0xa62b();return _0x1e39=function(_0x4e74bd,_0x261fb7){_0x4e74bd=_0x4e74bd-0x1be;let _0xa62bbe=_0x322c05[_0x4e74bd];return _0xa62bbe;},_0x1e39(_0x436cd7,_0x155735);}let pid1,pid2,updating=![],terminating=![];process['on'](_0x181a42(0x1c1),async()=>{handleTerminate();}),process['on'](_0x181a42(0x1cf),async()=>{handleTerminate();}),process['on'](_0x181a42(0x1c8),async()=>{handleTerminate();}),startBM();function startBM(){const _0x46f2b4=_0x181a42;let _0x10562b=![];const _0x44960d={'cwd':'','stdio':[_0x46f2b4(0x1e0),_0x46f2b4(0x1e0),_0x46f2b4(0x1e0),'ipc']};pid1=childProcess[_0x46f2b4(0x1ea)](bmpath+bmfile,args,_0x44960d),pid1['on'](_0x46f2b4(0x1d3),_0x28a382=>{const _0x39c1f0=_0x46f2b4,_0x5e7813=Object['values'](_0x28a382)[0x1]=='staging';switch(Object[_0x39c1f0(0x1cc)](_0x28a382)[0x0]){case _0x39c1f0(0x1c5):if(_0x5e7813)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x5e7813)startUpdate('3s');else startUpdate('3');break;case _0x39c1f0(0x1da):handleRestore();break;case _0x39c1f0(0x1e7):handleTerminate();break;}}),pid1['on'](_0x46f2b4(0x1d2),function(_0x210717){const _0x4d39e5=_0x46f2b4;if(_0x10562b)return;_0x10562b=!![],logging(_0x4d39e5(0x1c9),_0x210717);}),pid1['on'](_0x46f2b4(0x1c1),function(_0x812302){if(terminating)return;if(updating)return;if(_0x10562b)return;_0x10562b=!![],console['log']('Automatically\x20restarting\x20BM'),startBM();});}async function handleTerminate(){const _0x1a00e7=_0x181a42;stopBM(),await sleep(0x3e8),process[_0x1a00e7(0x1c1)](0x0);}function stopBM(){const _0x1c87c9=_0x181a42;terminating=!![];if(pid1)pid1[_0x1c87c9(0x1ec)]();pid1=null;}function startUpdate(_0x22d775){const _0x50bbbb=_0x181a42;updating=!![],stopBM();let _0x4b3c6b=![];const _0x4309bf={'cwd':'','stdio':[_0x50bbbb(0x1e0),'inherit','inherit','ipc']};let _0x59bed0=[];if(staging)_0x59bed0[_0x50bbbb(0x1d1)](_0x22d775+'s');else _0x59bed0[_0x50bbbb(0x1d1)](_0x22d775);pid2=childProcess[_0x50bbbb(0x1ea)](updatefile,_0x59bed0,_0x4309bf),pid2['on']('error',function(_0x589793){const _0x4eb5bd=_0x50bbbb;updating=![];if(_0x4b3c6b)return;_0x4b3c6b=!![],logging(_0x4eb5bd(0x1e3),_0x589793);}),pid2['on'](_0x50bbbb(0x1c1),function(_0x3c3a1a){updating=![];if(_0x4b3c6b)return;_0x4b3c6b=!![],terminating=![],startBM();});}function handleRestore(){const _0x3430d8=_0x181a42;if(pid1)pid1[_0x3430d8(0x1ec)]();}function logging(_0x20d96c){const _0x1baec3=_0x181a42;console[_0x1baec3(0x1ee)](_0x1baec3(0x1d5)+_0x20d96c);}function sleep(_0x387025){return new Promise(_0xe9a6f4=>setTimeout(_0xe9a6f4,_0x387025));}