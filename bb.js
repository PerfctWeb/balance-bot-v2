const _0x353ed6=_0xcc01;(function(_0x309315,_0xa01c26){const _0x33a420=_0xcc01,_0x5b7a43=_0x309315();while(!![]){try{const _0x2420c8=parseInt(_0x33a420(0x1e2))/0x1+-parseInt(_0x33a420(0x1dc))/0x2*(parseInt(_0x33a420(0x1df))/0x3)+-parseInt(_0x33a420(0x1e4))/0x4+-parseInt(_0x33a420(0x1de))/0x5+-parseInt(_0x33a420(0x1f2))/0x6*(-parseInt(_0x33a420(0x1f9))/0x7)+parseInt(_0x33a420(0x1ea))/0x8+parseInt(_0x33a420(0x1ee))/0x9*(parseInt(_0x33a420(0x1dd))/0xa);if(_0x2420c8===_0xa01c26)break;else _0x5b7a43['push'](_0x5b7a43['shift']());}catch(_0x526ac1){_0x5b7a43['push'](_0x5b7a43['shift']());}}}(_0x2575,0xc293a));const _0x2e7c7d=function(){let _0x5625b0=!![];return function(_0x393fd5,_0x47c263){const _0x3d5755=_0x5625b0?function(){const _0x2a2859=_0xcc01;if(_0x47c263){const _0x495650=_0x47c263[_0x2a2859(0x1fe)](_0x393fd5,arguments);return _0x47c263=null,_0x495650;}}:function(){};return _0x5625b0=![],_0x3d5755;};}(),_0x3f7ebd=_0x2e7c7d(this,function(){const _0x323e3e=_0xcc01;return _0x3f7ebd[_0x323e3e(0x1fb)]()['search']('(((.+)+)+)+$')[_0x323e3e(0x1fb)]()[_0x323e3e(0x1f5)](_0x3f7ebd)[_0x323e3e(0x1f6)](_0x323e3e(0x1e3));});_0x3f7ebd();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x353ed6(0x206)][_0x353ed6(0x204)](0x2))['argv'],childProcess=require(_0x353ed6(0x1ec)),nodeversion=process[_0x353ed6(0x209)][_0x353ed6(0x20b)],minversion=0x10;function _0xcc01(_0x12d8e3,_0x442dca){const _0x26e96d=_0x2575();return _0xcc01=function(_0x3f7ebd,_0x2e7c7d){_0x3f7ebd=_0x3f7ebd-0x1da;let _0x25758e=_0x26e96d[_0x3f7ebd];return _0x25758e;},_0xcc01(_0x12d8e3,_0x442dca);}nodeversion[_0x353ed6(0x1db)]('.')[0x0]<minversion&&(console[_0x353ed6(0x201)](),console[_0x353ed6(0x201)]('-----------------------------------------------------------------------------------'),console['log'](_0x353ed6(0x1e0)+nodeversion+',\x20but\x20version\x20'+minversion+'\x20or\x20above\x20is\x20required'),console['log'](_0x353ed6(0x1f1)),console['log']('-----------------------------------------------------------------------------------'),console['log'](),process[_0x353ed6(0x1ef)](0x1));if(argv[_0x353ed6(0x20c)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x353ed6(0x208)](argv['port'])&&(console[_0x353ed6(0x201)]('Error:\x20Invalid\x20argument\x20'+argv[_0x353ed6(0x20c)]+_0x353ed6(0x20a)),process[_0x353ed6(0x1ef)](0x1));}let args=[];argv[_0x353ed6(0x20c)]&&(args[_0x353ed6(0x1f3)](_0x353ed6(0x202)),args['push'](argv[_0x353ed6(0x20c)]));argv[_0x353ed6(0x1fc)]&&(args['push'](_0x353ed6(0x1e7)),args[_0x353ed6(0x1f3)](argv[_0x353ed6(0x1fc)]));argv['user']&&(args[_0x353ed6(0x1f3)](_0x353ed6(0x20d)),args[_0x353ed6(0x1f3)](argv[_0x353ed6(0x1ed)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x353ed6(0x1f3)]('-d');let bmpath=_0x353ed6(0x200);const bmfile=_0x353ed6(0x1f0),updatefile=_0x353ed6(0x1ff);!fs[_0x353ed6(0x1eb)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x353ed6(0x1ef),async()=>{handleTerminate();}),process['on'](_0x353ed6(0x1e5),async()=>{handleTerminate();}),process['on'](_0x353ed6(0x207),async()=>{handleTerminate();}),startBM();function _0x2575(){const _0x2ca59a=['Balance\x20Bot\x20>\x20','terminate','2381936UHYpNe','existsSync','child_process','user','3771153LtkDUb','exit','bm.js','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','1134078FeudkD','push','Unexpected\x20error:','constructor','search','Error\x20while\x20updating\x20Balance\x20Bot:','inherit','49ijjhsC','message','toString','host','keys','apply','install.js','bb/','log','--port','kill','slice','update','argv','SIGINT','test','versions',',\x20must\x20be\x20a\x204\x20digit\x20number','node','port','--user','error','split','2684968HsGGki','10TRxoPH','1781800isAxCg','3LPnhqQ','The\x20installed\x20Node.js\x20version\x20is\x20','ipc','1421158StBbBE','(((.+)+)+)+$','3860712iweZWt','SIGTERM','restore','--host'];_0x2575=function(){return _0x2ca59a;};return _0x2575();}function startBM(){const _0x5491b7=_0x353ed6;let _0x31056e=![];const _0x1889fb={'cwd':'','stdio':[_0x5491b7(0x1f8),'inherit',_0x5491b7(0x1f8),_0x5491b7(0x1e1)]};pid1=childProcess['fork'](bmpath+bmfile,args,_0x1889fb),pid1['on'](_0x5491b7(0x1fa),_0x445ccf=>{const _0x31e67a=_0x5491b7,_0x2b55a2=Object['values'](_0x445ccf)[0x1]=='staging';switch(Object[_0x31e67a(0x1fd)](_0x445ccf)[0x0]){case _0x31e67a(0x205):if(_0x2b55a2)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x2b55a2)startUpdate('3s');else startUpdate('3');break;case _0x31e67a(0x1e6):handleRestore();break;case _0x31e67a(0x1e9):handleTerminate();break;}}),pid1['on'](_0x5491b7(0x1da),function(_0x39583c){const _0xf06b83=_0x5491b7;if(_0x31056e)return;_0x31056e=!![],logging(_0xf06b83(0x1f4),_0x39583c);}),pid1['on'](_0x5491b7(0x1ef),function(_0x14062b){const _0xde913d=_0x5491b7;if(terminating)return;if(updating)return;if(_0x31056e)return;_0x31056e=!![],console[_0xde913d(0x201)]('Automatically\x20restarting\x20BM'),startBM();});}async function handleTerminate(){const _0x33266f=_0x353ed6;stopBM(),await sleep(0x3e8),process[_0x33266f(0x1ef)](0x0);}function stopBM(){const _0x350903=_0x353ed6;terminating=!![];if(pid1)pid1[_0x350903(0x203)]();pid1=null;}function startUpdate(_0x5a2087){const _0x5c28a4=_0x353ed6;updating=!![],stopBM();let _0x2dfa6c=![];const _0xe5edf2={'cwd':'','stdio':[_0x5c28a4(0x1f8),_0x5c28a4(0x1f8),_0x5c28a4(0x1f8),'ipc']};let _0x30095e=[];if(staging)_0x30095e[_0x5c28a4(0x1f3)](_0x5a2087+'s');else _0x30095e[_0x5c28a4(0x1f3)](_0x5a2087);pid2=childProcess['fork'](updatefile,_0x30095e,_0xe5edf2),pid2['on'](_0x5c28a4(0x1da),function(_0x966ec3){const _0x50b084=_0x5c28a4;updating=![];if(_0x2dfa6c)return;_0x2dfa6c=!![],logging(_0x50b084(0x1f7),_0x966ec3);}),pid2['on'](_0x5c28a4(0x1ef),function(_0xba9e1b){updating=![];if(_0x2dfa6c)return;_0x2dfa6c=!![],terminating=![],startBM();});}function handleRestore(){const _0x2573ab=_0x353ed6;if(pid1)pid1[_0x2573ab(0x203)]();}function logging(_0x23a2cd){const _0x1f31bd=_0x353ed6;console['log'](_0x1f31bd(0x1e8)+_0x23a2cd);}function sleep(_0x910a1b){return new Promise(_0x40fa04=>setTimeout(_0x40fa04,_0x910a1b));}