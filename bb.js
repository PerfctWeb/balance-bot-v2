const _0x47040e=_0x1d18;(function(_0x4f413d,_0x109049){const _0x10f93d=_0x1d18,_0x4ab4bf=_0x4f413d();while(!![]){try{const _0x56d087=-parseInt(_0x10f93d(0x23b))/0x1*(-parseInt(_0x10f93d(0x22b))/0x2)+parseInt(_0x10f93d(0x25a))/0x3+-parseInt(_0x10f93d(0x236))/0x4*(-parseInt(_0x10f93d(0x21d))/0x5)+parseInt(_0x10f93d(0x294))/0x6+-parseInt(_0x10f93d(0x238))/0x7+-parseInt(_0x10f93d(0x1c9))/0x8*(parseInt(_0x10f93d(0x249))/0x9)+-parseInt(_0x10f93d(0x2ab))/0xa;if(_0x56d087===_0x109049)break;else _0x4ab4bf['push'](_0x4ab4bf['shift']());}catch(_0x43eb2a){_0x4ab4bf['push'](_0x4ab4bf['shift']());}}}(_0x11d4,0x5b5c4));const _0x1dce63=function(){let _0x27115b=!![];return function(_0x3af7e5,_0x4f5aca){const _0x455528=_0x27115b?function(){const _0x45a078=_0x1d18;if(_0x4f5aca){const _0x358427=_0x4f5aca[_0x45a078(0x1cb)](_0x3af7e5,arguments);return _0x4f5aca=null,_0x358427;}}:function(){};return _0x27115b=![],_0x455528;};}(),_0x3b7091=_0x1dce63(this,function(){const _0x3288e5=_0x1d18;return _0x3b7091[_0x3288e5(0x2a5)]()[_0x3288e5(0x22c)]('(((.+)+)+)+$')[_0x3288e5(0x2a5)]()[_0x3288e5(0x289)](_0x3b7091)[_0x3288e5(0x22c)](_0x3288e5(0x1ae));});_0x3b7091();'use strict';process[_0x47040e(0x20c)][_0x47040e(0x29e)]=0x1;const childProcess=require(_0x47040e(0x25e)),FileSync=require(_0x47040e(0x250)),fs=require('fs'),fns=require(_0x47040e(0x246)),low=require(_0x47040e(0x229)),path=require(_0x47040e(0x1de)),crypto=require(_0x47040e(0x1ef)),Crypt=require('hybrid-crypto-js')['Crypt'],RSA=require(_0x47040e(0x211))['RSA'],bcrypt=require('bcryptjs'),jwt=require('jsonwebtoken'),analyticsLib=require('analytics')[_0x47040e(0x210)],googleAnalytics=require(_0x47040e(0x226))['default'],ipaddr=require(_0x47040e(0x1ad));let bbpath=_0x47040e(0x220);const botfile='bot.js',configfile=_0x47040e(0x295),settingsfile=_0x47040e(0x268),securefile='bb-secure.json';!fs[_0x47040e(0x20f)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0x47040e(0x22a);!fs[_0x47040e(0x20f)](configpath)&&fs[_0x47040e(0x1c4)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig['defaults']({'bots':[]})[_0x47040e(0x267)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x47040e(0x1d9)]({'settings':{'timeshift':0x0}})[_0x47040e(0x267)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x47040e(0x1d9)]({'secure':{},'blacklist':[]})['write']();let crypt=new Crypt({'md':_0x47040e(0x2ad),'rsaStandard':_0x47040e(0x282)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+'version.json')[_0x47040e(0x2a0)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;function _0x11d4(){const _0x4546bc=['Invalid\x20username\x20or\x20IP\x20address','************','then','privateKey','telegramUsername','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20*','inherit','build2','starting\x20new\x20bot\x20|\x20Bot\x20','apiKey','sign','497505yIYYMN','Markdown','get-portfolio','bb/','static','status','blacklist','emit','assign','@analytics/google-analytics','build','telegramEvents','lowdb','config/','99254uevxcL','search','forEach','disabled\x20Bot\x20','split','ipc','/:bot/performance','/help\x20-\x20show\x20avaiable\x20commands\x0a','new-disabled','padStart','restarting\x20Bot\x20','4xCBeju','catch','2807868decJnZ','token','Invalid\x20Telegram\x20token','6bNJQWc','reload','-performance.json','Unauthorized\x20attempt\x20to\x20update\x20settings','getSeconds','message','Temporary\x20access\x20rejected','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','from','hashSync','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','date-fns',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','clientip','36aQCsJG','Unauthorized\x20attempt\x20to\x20update\x20bot','set','polling_error','live','/:bot/history','Bot\x20Mgr\x20>\x20','lowdb/adapters/FileSync','loginRequired','-----------------------------------------------------------------------------------','Unauthorized\x20attempt\x20to\x20store\x20configuration','removeAllListeners','Login\x20accepted','index.html','login\x20required','settings.','chat','1364133HbmXHC','keys','Unauthorized\x20attempt\x20to\x20get\x20logs','log','child_process','Balance\x20Bot\x20Server','whitelist','Unauthorized\x20attempt\x20to\x20add\x20bot','answerCallbackQuery','hex','Notifications\x20enabled\x0a','Ok,\x20will\x20send\x20alert\x20notifications\x20only','encryptedUuid','write','bb-settings.json','includes','decrypt','unlinkSync','use','filter','2FA\x20required','/:bot/portfolio','toIPv4MappedAddress','\x20only\x0a','Invalid\x20authentication\x20token\x20(2)','Orders','Allow\x20login\x20from\x20IP\x20address\x20*','function','store','callback_query','bot-','15\x20min','access\x20timeout','::1','botmanager','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','alerts','stopPolling','all','RSA-OAEP','Unauthorized\x20attempt\x20to\x20delete\x20bot','expiry','isValid','page','/:bot/support','max','constructor','createServer','Unauthorized\x20attempt\x20to\x20get\x20portfolio','socket.io','password','sendFile','login','No\x20authentication\x20token','secret','-results.json','username','882150ThGofe','bb-config.json','starting','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','\x20|\x20','Unauthorized\x20attempt\x20to\x20log\x20out','getMinutes','removeListener','randomBytes','new','NTBA_FIX_319','show','version','*\x20?','starting\x20bot\x20|\x20Bot\x20','settings','User\x20has\x20been\x20validated','toString','30\x20min','https://hodlerhacks.com','getStartingBalances','Notifications\x20types:\x20','enabled','1033950QWIBYp','isIPv4MappedAddress','sha256','get-starting-balances','/enable\x20-\x20enable\x20notifications\x0a','referer','getTime','auth','logout','login\x20token\x20valid','UA-192771731-1','telegram','store-headless','/disable\x20-\x20disable\x20notifications\x0a','once','sortBy','get','allow','placeMarketOrder','send','kill','event','entries','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','/:bot/configuration','sendMessage','Access\x20enabled\x20for\x20','stopped','getUTCHours','telegramChatId','botID','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','whitelistEnabled','randomFillSync','ipaddr.js','(((.+)+)+)+$','parse','Notifications\x20disabled\x0a','Invalid\x20IP\x20address','bots','Balance\x20Bot','enabled\x20Bot\x20','-events.json','node-telegram-bot-api','accept','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','127.0.0.1','f2aRequired','getMonth','ipv6','timestamp','getFullYear','logged\x20out','notification','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','success','data','mkdirSync','push','You\x20can\x20use\x20the\x20following\x20commands:\x0a','hasOwnProperty','started','240536IvjvJj','connected','apply','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','::ffff:127.0.0.1','conn','2FA\x20login\x20required','telegramEnabled','remove','\x20>\x20','publicKey','temporaryAccessAllowed','storeHeadless','botname','invalid\x20credentials','join','defaults','idling\x20bot\x20\x20\x20|\x20Bot\x20','\x20minutes','disabled','2FA\x20login\x20token\x20generated','path','error','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','reason','cloneDeep','secure','getDate','initclient','temporary\x20access\x20not\x20allowed','Token\x20blacklisted','yes','orders','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','emitHistory','getHours','disconnect','crypto','running','reset-password','temporary\x20token\x20generated','onText','handshake','match','express','listen','store-configuration','Invalid\x20authentication\x20token\x20(1)','telegramToken','find','add-bot','deleted\x20Bot\x20','Notifications\x20enabled','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20*personal*\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','reject','Bot\x20','type','market-order','fork','timeshift','compareSync','exit','bbUsername','store-settings','bbPassword','SIGINT','env','value','map','existsSync','default','hybrid-crypto-js'];_0x11d4=function(){return _0x4546bc;};return _0x11d4();}oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0x47040e(0x1f6)),app=express(),http=require('http')[_0x47040e(0x28a)](app);app[_0x47040e(0x26c)](express[_0x47040e(0x221)](path['join'](__dirname,bbpath,_0x47040e(0x219)))),app['use'](express[_0x47040e(0x221)](path[_0x47040e(0x1d8)](__dirname,bbpath,'build'))),app['get']('/',function(_0x48d211,_0x401d76){const _0x296aa5=_0x47040e;_0x401d76[_0x296aa5(0x28e)](path[_0x296aa5(0x1d8)](__dirname,bbpath,_0x296aa5(0x219),_0x296aa5(0x256)));}),app[_0x47040e(0x19b)]('/:bot',function(_0x2e1170,_0x5c82b6){const _0x4381d9=_0x47040e;_0x5c82b6[_0x4381d9(0x28e)](path[_0x4381d9(0x1d8)](__dirname,bbpath,_0x4381d9(0x227),_0x4381d9(0x256)));}),app[_0x47040e(0x19b)](_0x47040e(0x26f),(_0x5b4ad8,_0x534c7a)=>{const _0x16de8a=_0x47040e;_0x534c7a[_0x16de8a(0x28e)](path[_0x16de8a(0x1d8)](__dirname,bbpath,_0x16de8a(0x227),_0x16de8a(0x256)));}),app['get'](_0x47040e(0x231),(_0x56ce05,_0x11a361)=>{const _0x393724=_0x47040e;_0x11a361[_0x393724(0x28e)](path[_0x393724(0x1d8)](__dirname,bbpath,_0x393724(0x227),_0x393724(0x256)));}),app['get']('/:bot/coins',(_0x350864,_0x846c6a)=>{const _0x24e01a=_0x47040e;_0x846c6a['sendFile'](path[_0x24e01a(0x1d8)](__dirname,bbpath,'build',_0x24e01a(0x256)));}),app[_0x47040e(0x19b)](_0x47040e(0x24e),(_0x2d6fed,_0x3a4015)=>{const _0x4a0234=_0x47040e;_0x3a4015[_0x4a0234(0x28e)](path[_0x4a0234(0x1d8)](__dirname,bbpath,_0x4a0234(0x227),'index.html'));}),app[_0x47040e(0x19b)](_0x47040e(0x1a3),(_0x25a09e,_0x53e943)=>{const _0x1abf48=_0x47040e;_0x53e943[_0x1abf48(0x28e)](path[_0x1abf48(0x1d8)](__dirname,bbpath,_0x1abf48(0x227),_0x1abf48(0x256)));}),app[_0x47040e(0x19b)](_0x47040e(0x287),(_0x22faf2,_0x3a73bf)=>{const _0x5092ae=_0x47040e;_0x3a73bf['sendFile'](path['join'](__dirname,bbpath,_0x5092ae(0x227),_0x5092ae(0x256)));}),http[_0x47040e(0x1f7)](PORT);const analytics=analyticsLib({'app':_0x47040e(0x1b3),'plugins':[googleAnalytics({'trackingId':_0x47040e(0x195)})]}),TelegramBot=require(_0x47040e(0x1b6));let tgBot;if(settings[_0x47040e(0x1fa)]&&settings[_0x47040e(0x1fa)]!=''&&settings[_0x47040e(0x216)]&&settings[_0x47040e(0x216)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x2c8b51=_0x47040e;console['log'](''),console['log'](_0x2c8b51(0x252)),logging(_0x2c8b51(0x1eb)+PORT),console[_0x2c8b51(0x25d)](_0x2c8b51(0x252));if(config['length']!=0x0)config[_0x2c8b51(0x22d)](_0x94a45=>{const _0x4c331a=_0x2c8b51;if(_0x94a45['status']==_0x4c331a(0x2aa)||_0x94a45[_0x4c331a(0x222)]=='new')logging(_0x4c331a(0x2a2)+_0x94a45[_0x4c331a(0x1a9)]+_0x4c331a(0x298)+_0x94a45[_0x4c331a(0x1d6)]),startBot([_0x94a45[_0x4c331a(0x1a9)]],{'cwd':bbpath},function(_0x235d2d){if(_0x235d2d)logging(_0x235d2d);});else(_0x94a45[_0x4c331a(0x222)]==_0x4c331a(0x1dc)||_0x94a45['status']==_0x4c331a(0x233))&&logging(_0x4c331a(0x1da)+_0x94a45[_0x4c331a(0x1a9)]+_0x4c331a(0x298)+_0x94a45['botname']);});else!newBot&&console[_0x2c8b51(0x25d)](_0x2c8b51(0x27e));if(newBot)addBot();console[_0x2c8b51(0x25d)](_0x2c8b51(0x252)),console[_0x2c8b51(0x25d)]('');}function startSocket(){const _0x4eaa14=_0x47040e,_0x58a452=require(_0x4eaa14(0x28c))(http,{});_0x58a452['on']('connection',_0x319f33=>{const _0x59207e=_0x4eaa14;let _0x245511,_0xbe1fe8,_0x3df48a;const _0x3d3c6f=_0x319f33[_0x59207e(0x1f4)]['headers'][_0x59207e(0x2b0)],_0x17ed53=_0x319f33['handshake']['auth'][_0x59207e(0x266)];if(!_0x17ed53)_0x319f33['emit'](_0x59207e(0x222),{'publicKey':secure['publicKey']});else{uuid=timelyDecrypt(_0x319f33['handshake'][_0x59207e(0x2b2)][_0x59207e(0x266)],![]),_0xbe1fe8=_0x3d3c6f[_0x59207e(0x1f5)](/bot[0-9]{3}/);if(_0xbe1fe8)_0x3df48a=_0xbe1fe8[0x0][_0x59207e(0x1f5)](/[0-9]{3}/);if(_0x3df48a)_0x245511=_0x3df48a[0x0];else _0x245511=_0x59207e(0x27c);if(socket[_0x245511])socket[_0x245511][_0x59207e(0x1ee)](!![]);socket[_0x245511]=_0x319f33,setAccess(_0x245511);if(accessControl[_0x59207e(0x19c)]){if(_0x245511==_0x59207e(0x27c))initializeSocketBotManager();else initializeSocketBot(_0x245511);}if(!serverStatus[_0x245511])serverStatus[_0x245511]=_0x59207e(0x1ca);socket[_0x245511]['on'](_0x59207e(0x28f),_0x1a273c=>{const _0x39b930=_0x59207e,_0x35f2cc=timelyDecrypt(_0x1a273c[_0x39b930(0x28d)]);if(_0x35f2cc){_0x1a273c={'username':_0x1a273c[_0x39b930(0x293)],'password':_0x35f2cc};let _0x30a221=validateCredentials(_0x1a273c);if(_0x30a221[_0x39b930(0x19c)]==![]&&_0x30a221['reason']==_0x39b930(0x1cf))socket[_0x245511][_0x39b930(0x224)]('status',{'access':_0x30a221}),loginAccess2FA(externalip);else{if(_0x30a221[_0x39b930(0x19c)]==![]&&_0x30a221['reason']==_0x39b930(0x1d7))socket[_0x245511][_0x39b930(0x224)]('status',{'access':_0x30a221});else{if(_0x30a221[_0x39b930(0x19c)]&&_0x30a221['reason']=='login\x20token\x20generated'){token=_0x30a221['token'];for(let _0x2a9cce in socket){if(_0x2a9cce==_0x39b930(0x27c))initializeSocketBotManager();else initializeSocketBot(_0x2a9cce);socket[_0x2a9cce]['emit'](_0x39b930(0x222),{'status':serverStatus[_0x2a9cce]||_0x39b930(0x296),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x30a221,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x39b930(0x28f));}}}}else logging(_0x39b930(0x1aa));}),socket[_0x245511]['on'](_0x59207e(0x1f1),()=>{resetPassword();}),socket[_0x245511]['on'](_0x59207e(0x1ee),_0x4196a7=>{let _0x1d5970=[];for(let _0x493f57 in socket){if(_0x493f57!=_0x245511)_0x1d5970[_0x493f57]=socket[_0x493f57];}socket=_0x1d5970;});if(_0x245511!=_0x59207e(0x27c)&&config[_0x59207e(0x21b)]!=''){if(pid[_0x245511])pid[_0x245511][_0x59207e(0x19e)]({'function':_0x59207e(0x1e6),'args':null});}}});}function setAccess(_0x4f4a0d){const _0x19204b=_0x47040e;externalip=normalizeIP(socket[_0x4f4a0d][_0x19204b(0x1ce)]['remoteAddress'])[_0x19204b(0x276)],accessControl=validateAccess(token),accessControl[_0x19204b(0x239)]&&accessControl[_0x19204b(0x1e2)]==_0x19204b(0x1f2)&&setSessionTimeout('2FA'),accessControl[_0x19204b(0x239)]&&accessControl['reason']==_0x19204b(0x1dd)&&setSessionTimeout(_0x19204b(0x28f)),socket[_0x4f4a0d]['emit']('status',{'status':serverStatus[_0x4f4a0d]||_0x19204b(0x296),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x19204b(0x1d3)],'loginNow':accessControl[_0x19204b(0x1e2)]==_0x19204b(0x257)||accessControl[_0x19204b(0x1e2)]=='2FA\x20login\x20required'}),accessControl[_0x19204b(0x19c)]==![]&&accessControl[_0x19204b(0x1e2)]=='2FA\x20required'&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0xee402){const _0x3e00ee=_0x47040e;let _0x51fd61;if(_0xee402==_0x3e00ee(0x28f))_0x51fd61=loginExpiry*0x3c*0x3e8;else _0x51fd61=telegramIpApproval[_0x3e00ee(0x284)]*0x3c*0x3e8-(new Date()[_0x3e00ee(0x2b1)]()-telegramIpApproval[_0x3e00ee(0x1bd)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x82e461=_0x3e00ee;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x5718f7=validateAccess(token);if(!(_0x5718f7[_0x82e461(0x19c)]&&_0x5718f7[_0x82e461(0x1e2)]=='login\x20not\x20required'))for(let _0x16b13a in socket){socket[_0x16b13a][_0x82e461(0x224)](_0x82e461(0x222),{'access':{'allow':![],'reason':_0x82e461(0x27a),'token':null}});}token=null;},_0x51fd61);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x1cb4a7=_0x1d18;let _0x6429e6=refreshToken();for(let _0xbb96a7 in socket){socket[_0xbb96a7][_0x1cb4a7(0x224)]('status',{'status':serverStatus[_0xbb96a7]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x6429e6,'externalip':externalip,'publicKey':secure[_0x1cb4a7(0x1d3)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x8989a2=_0x47040e;socket['botmanager'][_0x8989a2(0x224)](_0x8989a2(0x1b2),config),socket['botmanager'][_0x8989a2(0x224)]('settings',cleanSettings()),socket['botmanager']['on'](_0x8989a2(0x1fc),_0x42a533=>{const _0x516b14=_0x8989a2;if(validateAccess(_0x42a533)[_0x516b14(0x19c)])addBot();else logging(_0x516b14(0x261));}),socket[_0x8989a2(0x27c)]['on']('update-bot',(_0x5c57b2,_0xe60d26)=>{const _0x28ad5f=_0x8989a2;if(validateAccess(_0xe60d26)[_0x28ad5f(0x19c)])toggleBot(_0x5c57b2[_0x28ad5f(0x1a9)],_0x5c57b2[_0x28ad5f(0x222)],_0x5c57b2['live']);else logging(_0x28ad5f(0x24a));}),socket[_0x8989a2(0x27c)]['on']('delete-bot',(_0x3f1b7a,_0x4318c2)=>{const _0x288b73=_0x8989a2;if(validateAccess(_0x4318c2)[_0x288b73(0x19c)])deleteBot(_0x3f1b7a);else logging(_0x288b73(0x283));}),socket['botmanager']['on'](_0x8989a2(0x209),(_0x204413,_0x2b6f7d)=>{const _0x470c16=_0x8989a2;if(validateAccess(_0x2b6f7d)[_0x470c16(0x19c)])storeSettings(_0x204413,!![]);else logging(_0x470c16(0x23e));}),socket['botmanager']['on'](_0x8989a2(0x193),_0x518a90=>{const _0x4c6dcf=_0x8989a2;if(validateAccess(_0x518a90)[_0x4c6dcf(0x19c)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x56e5a2 in socket){socket[_0x56e5a2][_0x4c6dcf(0x224)](_0x4c6dcf(0x222),{'access':{'allow':![],'reason':_0x4c6dcf(0x1bf),'token':null}});}}else logging(_0x4c6dcf(0x299));});}function initializeSocketBot(_0x3ef79e){const _0x157641=_0x47040e;socket[_0x3ef79e]['on']('get-logs',(_0x19ceca,_0x25153b)=>{const _0x166d26=_0x1d18;if(validateAccess(_0x25153b)['allow']){if(pid[_0x3ef79e])pid[_0x3ef79e][_0x166d26(0x19e)]({'function':_0x166d26(0x1ec),'args':_0x19ceca});}else logging(_0x166d26(0x25c));}),socket[_0x3ef79e]['on'](_0x157641(0x21f),(_0x31211f,_0x2202c3)=>{const _0x2e87aa=_0x157641;if(validateAccess(_0x2202c3)['allow']){if(pid[_0x3ef79e])pid[_0x3ef79e]['send']({'function':'getPortfolio','args':_0x31211f});}else logging(_0x2e87aa(0x28b));}),socket[_0x3ef79e]['on'](_0x157641(0x1f8),(_0xb8c44c,_0x55bc51)=>{const _0x16da54=_0x157641;if(validateAccess(_0x55bc51)[_0x16da54(0x19c)]){if(pid[_0x3ef79e])pid[_0x3ef79e][_0x16da54(0x19e)]({'function':'storeConfiguration','args':_0xb8c44c});}else logging(_0x16da54(0x253));}),socket[_0x3ef79e]['on'](_0x157641(0x197),(_0x5c31f7,_0x109a1b)=>{const _0x44e307=_0x157641;if(validateAccess(_0x109a1b)[_0x44e307(0x19c)]){if(pid[_0x3ef79e])pid[_0x3ef79e]['send']({'function':_0x44e307(0x1d5),'args':_0x5c31f7});}else logging(_0x44e307(0x1e1));}),socket[_0x3ef79e]['on'](_0x157641(0x2ae),_0x463a3f=>{const _0x85b723=_0x157641;if(validateAccess(_0x463a3f)['allow']){if(pid[_0x3ef79e])pid[_0x3ef79e][_0x85b723(0x19e)]({'function':_0x85b723(0x2a8),'args':null});}else logging('Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances');}),socket[_0x3ef79e]['on'](_0x157641(0x203),(_0x26662a,_0x316323)=>{const _0x5c7730=_0x157641;if(validateAccess(_0x316323)[_0x5c7730(0x19c)]){if(pid[_0x3ef79e])pid[_0x3ef79e][_0x5c7730(0x19e)]({'function':_0x5c7730(0x19d),'args':_0x26662a});}else logging('Unauthorized\x20attempt\x20to\x20place\x20market\x20order');}),socket[_0x3ef79e]['on'](_0x157641(0x193),_0x4befb7=>{const _0x29621f=_0x157641;if(validateAccess(_0x4befb7)[_0x29621f(0x19c)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x5ac1f3 in socket){socket[_0x5ac1f3][_0x29621f(0x224)](_0x29621f(0x222),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x29621f(0x299));});}function removeSocketListeners(){const _0x18e6b5=_0x47040e;for(let _0x263f1e in socket){socket[_0x263f1e][_0x18e6b5(0x254)]();}}function cleanSettings(){const _0x3dbe1c=_0x47040e;let _0x3a65c0=settings;return settings['telegramToken']&&settings[_0x3dbe1c(0x1fa)]!=''&&(_0x3a65c0={..._0x3a65c0,'telegramToken':_0x3dbe1c(0x213)}),settings[_0x3dbe1c(0x20a)]&&settings['bbPassword']!=''&&(_0x3a65c0={..._0x3a65c0,'bbPassword':'************'}),_0x3a65c0;}function startBot(_0x5aa28d,_0x33a5f5,_0x47a4d2){const _0x4c3dbd=_0x47040e;let _0x5af7b0=![];const _0x58eba2=_0x5aa28d[0x0];_0x33a5f5={..._0x33a5f5,'stdio':[_0x4c3dbd(0x218),_0x4c3dbd(0x218),'inherit',_0x4c3dbd(0x230)]},pid[_0x58eba2]=childProcess[_0x4c3dbd(0x204)](botfile,_0x5aa28d,_0x33a5f5),pid[_0x58eba2]['on']('message',_0x100158=>{const _0x4876c8=_0x4c3dbd;switch(Object[_0x4876c8(0x25b)](_0x100158)[0x0]){case _0x4876c8(0x1d6):updateBotName(_0x58eba2,_0x100158[_0x4876c8(0x1d6)]);break;case _0x4876c8(0x222):updateStatus(_0x58eba2,_0x100158[_0x4876c8(0x222)]);break;case _0x4876c8(0x24d):updateLive(_0x58eba2,_0x100158[_0x4876c8(0x24d)]);break;case _0x4876c8(0x1c8):updateLive(_0x58eba2,_0x100158[_0x4876c8(0x1c8)]);if(socket[_0x58eba2])socket[_0x58eba2][_0x4876c8(0x224)](_0x4876c8(0x222),{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x4876c8(0x196):sendTelegram(_0x58eba2,_0x100158[_0x4876c8(0x196)]);break;case _0x4876c8(0x275):if(socket[_0x58eba2])socket[_0x58eba2]['emit'](_0x100158[_0x4876c8(0x275)],_0x100158['args']);break;}}),pid[_0x58eba2]['on']('error',function(_0x25b487){if(_0x5af7b0)return;_0x5af7b0=!![],_0x47a4d2(_0x25b487);}),pid[_0x58eba2]['on'](_0x4c3dbd(0x207),function(_0x5c6383){const _0x1883be=_0x4c3dbd;if(_0x5af7b0)return;_0x5af7b0=!![],_0x47a4d2(null);const _0x242664=dbConfig[_0x1883be(0x19b)]('bots')[_0x1883be(0x1fb)]({'botID':_0x58eba2})['value']();_0x242664&&(_0x242664['status']==_0x1883be(0x2aa)||_0x242664[_0x1883be(0x222)]==_0x1883be(0x29d))&&(updateLive(_0x58eba2,_0x1883be(0x1a6)),_0x5c6383!=0x4d&&(logging(_0x1883be(0x235)+_0x58eba2),startBot([_0x58eba2],{'cwd':bbpath},function(_0x311ea9){if(_0x311ea9)logging(_0x311ea9);})));});}function stopBot(_0x258742){const _0x744889=_0x47040e;if(socket[_0x258742])socket[_0x258742][_0x744889(0x1ee)](!![]);if(pid[_0x258742])pid[_0x258742][_0x744889(0x19f)]();}function addBot(){const _0x2ebff7=_0x47040e;let _0x79daf3;for(let _0x1493c2=0x1;_0x1493c2<0x3e9;_0x1493c2++){_0x79daf3=_0x1493c2['toString']()[_0x2ebff7(0x234)](0x3,'0');let _0x3a4cf5=config[_0x2ebff7(0x1fb)](_0x129f15=>_0x129f15[_0x2ebff7(0x1a9)]==_0x79daf3);if(!_0x3a4cf5)break;}if(_0x79daf3==='1000'){logging(_0x2ebff7(0x1a2));return;}logging(_0x2ebff7(0x21a)+_0x79daf3),dbConfig[_0x2ebff7(0x19b)](_0x2ebff7(0x1b2))[_0x2ebff7(0x1c5)]({'botID':_0x79daf3,'botname':_0x2ebff7(0x201)+_0x79daf3,'status':_0x2ebff7(0x29d),'live':''})[_0x2ebff7(0x267)](),startBot([_0x79daf3],{'cwd':bbpath},function(_0x191c22){if(_0x191c22)logging(_0x191c22);}),config=getConfiguration();if(socket['botmanager'])socket[_0x2ebff7(0x27c)][_0x2ebff7(0x224)](_0x2ebff7(0x1b2),config);}function deleteBot(_0x3a92e9){const _0x4106e9=_0x47040e;if(socket[_0x3a92e9])socket[_0x3a92e9][_0x4106e9(0x1ee)](!![]);dbConfig[_0x4106e9(0x19b)](_0x4106e9(0x1b2))[_0x4106e9(0x1d1)]({'botID':_0x3a92e9})[_0x4106e9(0x267)](),logging(_0x4106e9(0x1fd)+_0x3a92e9),stopBot(_0x3a92e9);try{fs[_0x4106e9(0x26b)](path[_0x4106e9(0x1d8)](configpath,_0x4106e9(0x278)+_0x3a92e9+'-config.json')),fs[_0x4106e9(0x26b)](path['join'](configpath,_0x4106e9(0x278)+_0x3a92e9+_0x4106e9(0x1b5))),fs['unlinkSync'](path[_0x4106e9(0x1d8)](configpath,_0x4106e9(0x278)+_0x3a92e9+_0x4106e9(0x23d))),fs[_0x4106e9(0x26b)](path[_0x4106e9(0x1d8)](configpath,'bot-'+_0x3a92e9+_0x4106e9(0x292)));}catch(_0x96b476){if(_0x96b476)logging('error\x20while\x20deleting\x20log\x20files:\x20',_0x96b476);}config=getConfiguration();if(socket[_0x4106e9(0x27c)])socket['botmanager'][_0x4106e9(0x224)](_0x4106e9(0x1b2),config);}function toggleBot(_0x5313ca,_0x2f8e0a,_0x5887d1){const _0x5b75ef=_0x47040e;dbConfig[_0x5b75ef(0x19b)](_0x5b75ef(0x1b2))[_0x5b75ef(0x1fb)]({'botID':_0x5313ca})['assign']({'status':_0x2f8e0a})['assign']({'live':_0x5887d1})[_0x5b75ef(0x267)]();if(_0x2f8e0a==_0x5b75ef(0x2aa)||_0x2f8e0a==_0x5b75ef(0x29d))logging(_0x5b75ef(0x1b4)+_0x5313ca),startBot([_0x5313ca],{'cwd':bbpath},function(_0x3f6e6b){if(_0x3f6e6b)logging(_0x3f6e6b);});else(_0x2f8e0a=='disabled'||_0x2f8e0a==_0x5b75ef(0x233))&&(logging(_0x5b75ef(0x22e)+_0x5313ca),stopBot(_0x5313ca));config=getConfiguration();if(socket[_0x5b75ef(0x27c)])socket[_0x5b75ef(0x27c)][_0x5b75ef(0x224)](_0x5b75ef(0x1b2),config);}function updateStatus(_0x5c8bcb,_0x5855b5){const _0x32f818=_0x47040e;dbConfig[_0x32f818(0x19b)](_0x32f818(0x1b2))[_0x32f818(0x1fb)]({'botID':_0x5c8bcb})[_0x32f818(0x225)]({'status':_0x5855b5})[_0x32f818(0x267)](),config=getConfiguration();if(socket[_0x32f818(0x27c)])socket[_0x32f818(0x27c)][_0x32f818(0x224)](_0x32f818(0x1b2),config);}function updateLive(_0x1d903e,_0x404882){const _0x306057=_0x47040e;dbConfig[_0x306057(0x19b)]('bots')[_0x306057(0x1fb)]({'botID':_0x1d903e})[_0x306057(0x225)]({'live':_0x404882})['write'](),config=getConfiguration();if(socket[_0x306057(0x27c)])socket['botmanager'][_0x306057(0x224)]('bots',config);}function updateBotName(_0x84aa86,_0x418381){const _0x33a929=_0x47040e;dbConfig[_0x33a929(0x19b)](_0x33a929(0x1b2))[_0x33a929(0x1fb)]({'botID':_0x84aa86})[_0x33a929(0x225)]({'botname':_0x418381})[_0x33a929(0x267)](),config=getConfiguration();if(socket[_0x33a929(0x27c)])socket['botmanager'][_0x33a929(0x224)](_0x33a929(0x1b2),config);}function telegramError(_0xcc6542){const _0x40993f=_0x47040e;console['log'](getTimeStamp()+_0x40993f(0x247));}function validateTelegram(_0xa65c4c){const _0x2c430b=_0x47040e;if(_0xa65c4c[_0x2c430b(0x243)][_0x2c430b(0x293)]!=settings[_0x2c430b(0x216)]&&'@'+_0xa65c4c[_0x2c430b(0x243)][_0x2c430b(0x293)]!=settings[_0x2c430b(0x216)])return tgBot['sendMessage'](_0xa65c4c[_0x2c430b(0x259)]['id'],_0x2c430b(0x1ff),{'parse_mode':_0x2c430b(0x21e)})['catch'](_0x60ae0=>{telegramError(_0x60ae0);}),![];return!![];}async function initTelegram(){const _0x5e190e=_0x47040e;if(tgBot)tgBot[_0x5e190e(0x280)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x5e190e(0x1fa)],{'polling':!![]});let _0x253a20=_0x5e190e(0x1c6);_0x253a20+='\x0a',_0x253a20+=_0x5e190e(0x2af),_0x253a20+=_0x5e190e(0x198),_0x253a20+='/config\x20-\x20notification\x20types\x20to\x20receive\x0a',_0x253a20+='/restart\x20-\x20restart\x20a\x20bot\x0a',_0x253a20+=_0x5e190e(0x1e0),_0x253a20+=_0x5e190e(0x232);let _0x4f454e='Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a';_0x4f454e+='\x0a',_0x4f454e+=_0x253a20,tgBot[_0x5e190e(0x1f3)](/\/start/,_0x43fb24=>{const _0x4647f7=_0x5e190e;if(!validateTelegram(_0x43fb24))return;if(settings[_0x4647f7(0x1a8)]!=_0x43fb24[_0x4647f7(0x259)]['id'])updateSetting('telegramChatId',_0x43fb24['chat']['id']);updateSetting(_0x4647f7(0x1d0),!![]),tgBot['sendMessage'](_0x43fb24[_0x4647f7(0x259)]['id'],_0x4f454e)[_0x4647f7(0x237)](_0x2b95b2=>{telegramError(_0x2b95b2);});}),tgBot[_0x5e190e(0x1f3)](/\/enable/,_0x3ddb70=>{const _0x18c872=_0x5e190e;if(!validateTelegram(_0x3ddb70))return;if(settings[_0x18c872(0x1a8)]!=_0x3ddb70[_0x18c872(0x259)]['id'])updateSetting(_0x18c872(0x1a8),_0x3ddb70[_0x18c872(0x259)]['id']);updateSetting(_0x18c872(0x1d0),!![]),tgBot[_0x18c872(0x1a4)](_0x3ddb70[_0x18c872(0x259)]['id'],_0x18c872(0x1fe))[_0x18c872(0x237)](_0x29f500=>{telegramError(_0x29f500);});}),tgBot['onText'](/\/config/,async _0x56cd3b=>{const _0x239fbd=_0x5e190e;if(!validateTelegram(_0x56cd3b))return;tgBot[_0x239fbd(0x29b)](_0x239fbd(0x277)),tgBot[_0x239fbd(0x1a4)](_0x56cd3b['chat']['id'],_0x239fbd(0x1cc),{'reply_markup':{'inline_keyboard':[[{'text':_0x239fbd(0x273),'callback_data':_0x239fbd(0x1ea)},{'text':'Alerts','callback_data':_0x239fbd(0x27f)},{'text':'All','callback_data':'all'}]]}})['catch'](_0x1fe56f=>{telegramError(_0x1fe56f);}),tgBot['on']('callback_query',async _0x5e5a7d=>{const _0x22158e=_0x239fbd,_0x2d3a9c=_0x5e5a7d[_0x22158e(0x1c3)],_0x4f52af=_0x5e5a7d[_0x22158e(0x240)];tgBot['answerCallbackQuery'](_0x5e5a7d['id'])[_0x22158e(0x214)](async()=>{const _0x18394e=_0x22158e;_0x2d3a9c==_0x18394e(0x1ea)&&(updateSetting(_0x18394e(0x228),'orders'),updateSetting(_0x18394e(0x1d0),!![]),await tgBot[_0x18394e(0x1a4)](_0x4f52af[_0x18394e(0x259)]['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')[_0x18394e(0x237)](_0x4455ec=>{telegramError(_0x4455ec);}));_0x2d3a9c==_0x18394e(0x27f)&&(updateSetting(_0x18394e(0x228),_0x18394e(0x27f)),updateSetting('telegramEnabled',!![]),await tgBot['sendMessage'](_0x4f52af[_0x18394e(0x259)]['id'],_0x18394e(0x265))[_0x18394e(0x237)](_0x3881f2=>{telegramError(_0x3881f2);}));_0x2d3a9c=='all'&&(updateSetting(_0x18394e(0x228),_0x18394e(0x281)),updateSetting(_0x18394e(0x1d0),!![]),await tgBot[_0x18394e(0x1a4)](_0x4f52af[_0x18394e(0x259)]['id'],_0x18394e(0x1c1))[_0x18394e(0x237)](_0x2bffc3=>{telegramError(_0x2bffc3);}));if(!settings[_0x18394e(0x1a8)])tgBot[_0x18394e(0x1a4)](_0x4f52af[_0x18394e(0x259)]['id'],_0x18394e(0x245))[_0x18394e(0x237)](_0x4ee45d=>{telegramError(_0x4ee45d);});}),tgBot[_0x22158e(0x29b)](_0x22158e(0x277));});}),tgBot['onText'](/\/status/,_0x2424ef=>{const _0x10df36=_0x5e190e;if(!validateTelegram(_0x2424ef))return;let _0x4db1fc='*Balance\x20Bot\x20status:*\x0a';config[_0x10df36(0x22d)](_0x25116b=>{const _0x36412f=_0x10df36;_0x4db1fc+=_0x36412f(0x201)+_0x25116b['botID']+_0x36412f(0x298)+_0x25116b[_0x36412f(0x1d6)]+':\x20'+_0x25116b[_0x36412f(0x222)]+'\x20/\x20'+_0x25116b[_0x36412f(0x24d)]+'\x0a';}),_0x4db1fc+='\x0a',_0x4db1fc+='*Telegram\x20bot\x20status:\x0a*',_0x4db1fc+=!settings[_0x10df36(0x1d0)]?_0x10df36(0x1b0):_0x10df36(0x264),_0x4db1fc+=settings[_0x10df36(0x1d0)]?settings['telegramEvents']==_0x10df36(0x281)?_0x10df36(0x297):_0x10df36(0x2a9)+settings[_0x10df36(0x228)]+_0x10df36(0x271):'',tgBot[_0x10df36(0x1a4)](_0x2424ef[_0x10df36(0x259)]['id'],_0x4db1fc,{'parse_mode':_0x10df36(0x21e)})['catch'](_0xd03125=>{telegramError(_0xd03125);});}),tgBot[_0x5e190e(0x1f3)](/\/restart/,_0x3f1291=>{const _0x112f9d=_0x5e190e;if(!validateTelegram(_0x3f1291))return;tgBot[_0x112f9d(0x29b)](_0x112f9d(0x277));const _0x189e82=getEnabledBots();if(_0x189e82['length']==0x0)tgBot[_0x112f9d(0x1a4)](_0x3f1291[_0x112f9d(0x259)]['id'],'No\x20bots\x20enabled\x20right\x20now')[_0x112f9d(0x237)](_0x4f6548=>{telegramError(_0x4f6548);});else{let _0x390271=[],_0x292c2d=[];const _0x3b3aa4=_0x189e82['length']%0x4==0x0||_0x189e82['length']%0x4==0x3||_0x189e82['length']%0x3==0x1?0x4:0x3;let _0x38842d=0x0;_0x189e82['forEach']((_0x2fb1f2,_0x5315fb)=>{const _0x173f70=_0x112f9d;if(_0x5315fb%_0x3b3aa4==0x0)_0x292c2d=[];_0x292c2d[_0x173f70(0x1c5)]({'text':_0x173f70(0x201)+_0x2fb1f2[_0x173f70(0x1a9)],'callback_data':_0x2fb1f2[_0x173f70(0x1a9)]}),_0x5315fb%_0x3b3aa4==0x0&&(_0x390271[_0x38842d]=_0x292c2d,_0x38842d++);}),tgBot[_0x112f9d(0x1a4)](_0x3f1291[_0x112f9d(0x259)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20restart?',{'reply_markup':{'inline_keyboard':_0x390271}})[_0x112f9d(0x237)](_0x405ffa=>{telegramError(_0x405ffa);}),tgBot['on'](_0x112f9d(0x277),async _0x90dfdb=>{const _0x5254d6=_0x112f9d,_0x8a7257=_0x90dfdb[_0x5254d6(0x1c3)],_0x27be02=_0x90dfdb[_0x5254d6(0x240)];tgBot[_0x5254d6(0x262)](_0x90dfdb['id'])[_0x5254d6(0x214)](async()=>{const _0x4d1343=_0x5254d6;if(settings['telegramEvents']==_0x4d1343(0x1ea))tgBot['sendMessage'](_0x27be02[_0x4d1343(0x259)]['id'],_0x4d1343(0x1b8)+_0x8a7257)[_0x4d1343(0x237)](_0x451639=>{telegramError(_0x451639);});stopBot(_0x8a7257);}),tgBot[_0x5254d6(0x29b)](_0x5254d6(0x277));});}}),tgBot[_0x5e190e(0x1f3)](/\/disable/,_0x17f923=>{const _0xe84918=_0x5e190e;if(!validateTelegram(_0x17f923))return;tgBot['sendMessage'](_0x17f923['chat']['id'],'Notifications\x20disabled')[_0xe84918(0x237)](_0x2b5a7a=>{telegramError(_0x2b5a7a);}),updateSetting(_0xe84918(0x1d0),![]);}),tgBot[_0x5e190e(0x1f3)](/\/help/,_0x4c2ea5=>{const _0x4118e0=_0x5e190e;if(!validateTelegram(_0x4c2ea5))return;tgBot['sendMessage'](_0x4c2ea5['chat']['id'],_0x253a20)[_0x4118e0(0x237)](_0x5c2107=>{telegramError(_0x5c2107);});}),tgBot['on'](_0x5e190e(0x24c),_0x4a250b=>{const _0x4050c0=_0x5e190e;if(_0x4a250b[_0x4050c0(0x2a5)]()[_0x4050c0(0x269)]('404\x20Not\x20Found')){logging('Invalid\x20Telegram\x20token'),tgBot[_0x4050c0(0x280)](),tgBot=null;if(socket[_0x4050c0(0x27c)])socket[_0x4050c0(0x27c)][_0x4050c0(0x224)](_0x4050c0(0x1c0),_0x4050c0(0x23a));}}),process[_0x5e190e(0x199)](_0x5e190e(0x20b),()=>{if(tgBot)tgBot['stopPolling']();process['exit'](0x1);}),process['once']('SIGTERM',()=>{const _0x52811f=_0x5e190e;if(tgBot)tgBot['stopPolling']();process[_0x52811f(0x207)](0x1);});}}function disableTelegram(){tgBot&&(tgBot['stopPolling'](),tgBot=null);}function sendTelegram(_0x261ce2,_0x140391){const _0x1cbb84=_0x47040e;if(settings[_0x1cbb84(0x1d0)]){if(settings[_0x1cbb84(0x228)]==_0x1cbb84(0x281)||(_0x140391[_0x1cbb84(0x202)]==_0x1cbb84(0x1df)||_0x140391[_0x1cbb84(0x202)]==_0x1cbb84(0x1c2))&&settings[_0x1cbb84(0x228)]==_0x1cbb84(0x27f)||_0x140391[_0x1cbb84(0x202)]=='order'&&settings[_0x1cbb84(0x228)]=='orders'){if(tgBot&&settings[_0x1cbb84(0x1a8)])tgBot[_0x1cbb84(0x1a4)](settings[_0x1cbb84(0x1a8)],_0x1cbb84(0x201)+_0x261ce2+_0x1cbb84(0x1d2)+_0x140391[_0x1cbb84(0x1a0)])['catch'](_0x41f722=>{telegramError(_0x41f722);});}}}function temporaryAccess2FA(_0x2182f9){const _0x55c0f5=_0x47040e;let _0x26add3=new Date(),_0xa6ac79=![];if(lastIpApproval){if(_0x26add3-lastIpApproval<0x1388)_0xa6ac79=!![];}lastIpApproval=new Date();if(_0xa6ac79)return;tgBot&&settings['telegramChatId']&&(tgBot['removeListener'](_0x55c0f5(0x277)),tgBot['sendMessage'](settings[_0x55c0f5(0x1a8)],_0x55c0f5(0x217)+normalizeIP(_0x2182f9)['show']+_0x55c0f5(0x2a1),{'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':_0x55c0f5(0x279),'callback_data':'15'},{'text':_0x55c0f5(0x2a6),'callback_data':'30'},{'text':_0x55c0f5(0x200),'callback_data':'reject'}]]}})[_0x55c0f5(0x237)](_0x831f88=>{telegramError(_0x831f88);}),tgBot['on'](_0x55c0f5(0x277),async _0x149b9e=>{const _0x23988b=_0x55c0f5,_0xfeba45=_0x149b9e[_0x23988b(0x1c3)],_0x49a561=_0x149b9e[_0x23988b(0x240)];tgBot['answerCallbackQuery'](_0x149b9e['id'])[_0x23988b(0x214)](async()=>{const _0x4d5533=_0x23988b;if(_0xfeba45!='reject'){telegramIpApproval={'clientip':_0x2182f9,'timestamp':new Date()[_0x4d5533(0x2b1)](),'expiry':_0xfeba45},await tgBot[_0x4d5533(0x1a4)](_0x49a561['chat']['id'],_0x4d5533(0x1a5)+_0xfeba45+_0x4d5533(0x1db),{'parse_mode':_0x4d5533(0x21e)})[_0x4d5533(0x237)](_0x912a89=>{telegramError(_0x912a89);});for(let _0x2d0e43 in socket){socket[_0x2d0e43][_0x4d5533(0x224)]('status',{'access':{'allow':![],'reason':_0x4d5533(0x23c),'token':null}});}}else await tgBot[_0x4d5533(0x1a4)](_0x49a561[_0x4d5533(0x259)]['id'],_0x4d5533(0x241))[_0x4d5533(0x237)](_0x4632dc=>{telegramError(_0x4632dc);});}),tgBot[_0x23988b(0x29b)](_0x23988b(0x277));}));}function loginAccess2FA(_0x318b55){const _0x324b64=_0x47040e;tgBot&&settings[_0x324b64(0x1a8)]&&(tgBot[_0x324b64(0x29b)](_0x324b64(0x277)),tgBot[_0x324b64(0x1a4)](settings[_0x324b64(0x1a8)],_0x324b64(0x274)+normalizeIP(_0x318b55)[_0x324b64(0x29f)]+_0x324b64(0x2a1),{'parse_mode':_0x324b64(0x21e),'reply_markup':{'inline_keyboard':[[{'text':_0x324b64(0x1b7),'callback_data':loginExpiry},{'text':_0x324b64(0x200),'callback_data':_0x324b64(0x200)}]]}})[_0x324b64(0x237)](_0x5a40b6=>{telegramError(_0x5a40b6);}),tgBot['on'](_0x324b64(0x277),async _0x19e72e=>{const _0x2c4456=_0x324b64,_0x3fadd0=_0x19e72e[_0x2c4456(0x1c3)],_0x3c0423=_0x19e72e[_0x2c4456(0x240)];tgBot['answerCallbackQuery'](_0x19e72e['id'])[_0x2c4456(0x214)](async()=>{const _0x55b0bc=_0x2c4456;if(_0x3fadd0!=_0x55b0bc(0x200)){telegram2FaApproval={'clientip':_0x318b55,'timestamp':new Date()['getTime'](),'expiry':_0x3fadd0},await tgBot[_0x55b0bc(0x1a4)](_0x3c0423[_0x55b0bc(0x259)]['id'],_0x55b0bc(0x255),{'parse_mode':_0x55b0bc(0x21e)})['catch'](_0x5d566a=>{telegramError(_0x5d566a);});for(let _0x4d0a8b in socket){socket[_0x4d0a8b]['emit'](_0x55b0bc(0x222),{'access':{'allow':![],'reason':_0x55b0bc(0x23c),'token':null}});}}else await tgBot[_0x55b0bc(0x1a4)](_0x3c0423[_0x55b0bc(0x259)]['id'],'Login\x20rejected')['catch'](_0x4cd27b=>{telegramError(_0x4cd27b);});}),tgBot[_0x2c4456(0x29b)](_0x2c4456(0x277));}));}function getConfiguration(){const _0x14111b=_0x47040e;return dbConfig['get'](_0x14111b(0x1b2))['sortBy'](_0x14111b(0x1a9))[_0x14111b(0x20d)]()||[];}function getEnabledBots(){const _0x398abd=_0x47040e;return dbConfig[_0x398abd(0x19b)](_0x398abd(0x1b2))[_0x398abd(0x19a)](_0x398abd(0x1a9))[_0x398abd(0x26d)]({'status':'enabled'})['value']()||[];}function getSettings(){const _0x4a5f89=_0x47040e;return dbSettings[_0x4a5f89(0x19b)](_0x4a5f89(0x2a3))[_0x4a5f89(0x20d)]()||{'timeshift':0x0};}function getSecure(){const _0xe96df8=_0x47040e;return dbSecure[_0xe96df8(0x19b)](_0xe96df8(0x1e4))['value']()||{};}function getBlacklist(){const _0xf580da=_0x47040e;return dbSecure['get'](_0xf580da(0x223))[_0xf580da(0x20d)]()||[];}function broadcastToBots(_0x10c62e,_0x1ff3d8){config['forEach'](_0x15b85e=>{const _0x5ca88a=_0x1d18;if(_0x15b85e['status']==_0x5ca88a(0x2aa)&&_0x15b85e[_0x5ca88a(0x24d)]==_0x5ca88a(0x1f0)){if(pid[_0x15b85e[_0x5ca88a(0x1a9)]])pid[_0x15b85e['botID']][_0x5ca88a(0x19e)]({[_0x10c62e]:_0x1ff3d8});}});}function storeSettings(_0x1de246,_0x3162fa=![]){const _0xaffd61=_0x47040e;_0x1de246={...settings,..._0x1de246};if(_0x3162fa&&_0x1de246[_0xaffd61(0x20a)]!=_0xaffd61(0x213)&&_0x1de246['bbPassword']!=''){const _0x533ee0=crypt['decrypt'](secure['privateKey'],_0x1de246[_0xaffd61(0x20a)])[_0xaffd61(0x240)]['split']('@')[0x0],_0x5c07af=bcrypt[_0xaffd61(0x244)](_0x533ee0,saltRounds);_0x1de246={..._0x1de246,'bbPassword':_0x5c07af};}if(_0x3162fa&&_0x1de246[_0xaffd61(0x1fa)]!=_0xaffd61(0x213)&&_0x1de246['telegramToken']!=''){const _0x34bd2a=crypt[_0xaffd61(0x26a)](secure[_0xaffd61(0x215)],_0x1de246[_0xaffd61(0x1fa)])[_0xaffd61(0x240)][_0xaffd61(0x22f)]('@')[0x0];_0x1de246={..._0x1de246,'telegramToken':_0x34bd2a};}const _0x3d9c60=_0x1de246[_0xaffd61(0x1fa)]!='************'&&_0x1de246[_0xaffd61(0x1fa)]!=settings[_0xaffd61(0x1fa)]||_0x1de246[_0xaffd61(0x216)]!=settings[_0xaffd61(0x216)],_0x57c98f=_0x1de246['telegramToken']==''||_0x1de246[_0xaffd61(0x216)]=='';if(_0x3d9c60)_0x1de246[_0xaffd61(0x228)]='all';for(const [_0x2091b0,_0x10b3af]of Object[_0xaffd61(0x1a1)](_0x1de246)){if(_0x2091b0==_0xaffd61(0x1fa)&&_0x10b3af=='************'){_0x1de246['telegramToken']=settings[_0xaffd61(0x1fa)];continue;};if(_0x2091b0=='bbPassword'&&_0x10b3af==_0xaffd61(0x213)){_0x1de246[_0xaffd61(0x20a)]=settings[_0xaffd61(0x20a)];continue;};dbSettings[_0xaffd61(0x24b)](_0xaffd61(0x258)+_0x2091b0,_0x10b3af)['write']();}settings=_0x1de246;if(socket[_0xaffd61(0x27c)])socket[_0xaffd61(0x27c)][_0xaffd61(0x224)](_0xaffd61(0x2a3),cleanSettings());broadcastToBots(_0xaffd61(0x205),settings['timeshift']);if(_0x3d9c60&&!_0x57c98f)initTelegram();if(_0x3d9c60&&_0x57c98f)disableTelegram();for(let _0xe210e3 in socket){setAccess(_0xe210e3);}}function updateSetting(_0x2ef013,_0x446a3c){const _0x4fdb01=_0x47040e;dbSettings[_0x4fdb01(0x24b)](_0x4fdb01(0x258)+_0x2ef013,_0x446a3c)[_0x4fdb01(0x267)](),settings=getSettings();if(socket[_0x4fdb01(0x27c)])socket[_0x4fdb01(0x27c)]['emit']('settings',cleanSettings());}function storeSecure(_0x24edf1){const _0x599e6f=_0x47040e;dbSecure[_0x599e6f(0x19b)](_0x599e6f(0x1e4))['push'](_0x24edf1)['write'](),secure=_0x24edf1;}function addBlacklist(){const _0x3d912d=_0x47040e;cleanBlacklist();let _0x5f2c37;telegramIpApproval?_0x5f2c37=Math[_0x3d912d(0x288)](telegramIpApproval[_0x3d912d(0x284)],loginExpiry):_0x5f2c37=loginExpiry,dbSecure[_0x3d912d(0x19b)]('blacklist')[_0x3d912d(0x1c5)]({'expiry':new Date()['getTime']()+_0x5f2c37*0x3c*0x3e8,'token':token})[_0x3d912d(0x267)](),blacklist=dbSecure[_0x3d912d(0x19b)](_0x3d912d(0x223))['value']();}function cleanBlacklist(){const _0x4630c3=_0x47040e;let _0x2be868=dbSecure['get'](_0x4630c3(0x223))[_0x4630c3(0x1e3)]()[_0x4630c3(0x20d)](),_0x2ff277=new Date()['getTime']();_0x2be868[_0x4630c3(0x22d)](_0x3bca15=>{const _0x43d312=_0x4630c3;_0x3bca15['expiry']<_0x2ff277&&dbSecure['get']('blacklist')[_0x43d312(0x1d1)]({'expiry':_0x3bca15[_0x43d312(0x284)]})['write']();});}function initStates(){const _0x2aa773=_0x47040e;let _0x88cbc9=getConfiguration();_0x88cbc9[_0x2aa773(0x22d)](_0x16f3ff=>{const _0x5a9367=_0x2aa773;_0x16f3ff[_0x5a9367(0x24d)]='stopped';}),storeConfiguration(_0x88cbc9);}function onKeys(){const _0x32d639=new RSA();return new Promise(_0x29aa9d=>{_0x32d639['generateKeyPairAsync']()['then'](_0x5896f7=>{_0x29aa9d(_0x5896f7);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x325a15=_0x47040e;let _0x21cc6e=getConfiguration(),_0x47c599=![];_0x21cc6e[_0x325a15(0x22d)](_0x496258=>{const _0x5eeed3=_0x325a15;if(_0x496258[_0x5eeed3(0x222)]=='running')_0x496258[_0x5eeed3(0x222)]='enabled',_0x47c599=!![];else _0x496258[_0x5eeed3(0x222)]==_0x5eeed3(0x1a6)&&(_0x496258[_0x5eeed3(0x222)]=_0x5eeed3(0x1dc),_0x47c599=!![]);});if(_0x47c599)storeConfiguration(_0x21cc6e);let _0x620368=getSecure();if(!_0x620368[_0x325a15(0x1c7)](_0x325a15(0x291))){let _0x819c7c=await generateKeys();_0x620368[_0x325a15(0x1d3)]=_0x819c7c[_0x325a15(0x1d3)],_0x620368[_0x325a15(0x215)]=_0x819c7c[_0x325a15(0x215)],_0x620368['secret']=crypto[_0x325a15(0x29c)](0x20)[_0x325a15(0x2a5)](_0x325a15(0x263));;storeSecure(_0x620368);}let _0x3d25dd=getSettings();_0x47c599=![];!_0x3d25dd[_0x325a15(0x1c7)]('loginRequired')&&(_0x3d25dd[_0x325a15(0x251)]=![],_0x3d25dd['bbUsername']='',_0x3d25dd[_0x325a15(0x20a)]='',_0x3d25dd[_0x325a15(0x1ba)]=![],_0x47c599=!![]);!_0x3d25dd[_0x325a15(0x1c7)](_0x325a15(0x1ab))&&(_0x3d25dd[_0x325a15(0x1ab)]=![],_0x3d25dd[_0x325a15(0x260)]=[],_0x3d25dd[_0x325a15(0x1d4)]=![],_0x47c599=!![]);if(!_0x3d25dd[_0x325a15(0x1c7)](_0x325a15(0x1d0))){if(_0x3d25dd[_0x325a15(0x1a8)])_0x3d25dd[_0x325a15(0x1d0)]=!![];else _0x3d25dd[_0x325a15(0x1d0)]=![];_0x47c599=!![];}if(_0x47c599)storeSettings(_0x3d25dd);}function storeConfiguration(_0x399d0a){const _0x4592e8=_0x47040e;dbConfig[_0x4592e8(0x19b)](_0x4592e8(0x1b2))['remove']()['write'](),dbConfig[_0x4592e8(0x19b)]('bots')[_0x4592e8(0x1c5)](..._0x399d0a)[_0x4592e8(0x267)](),config=_0x399d0a;}function resetPassword(){const _0x5c4a7c=_0x47040e;tgBot&&settings[_0x5c4a7c(0x1a8)]&&(tgBot[_0x5c4a7c(0x29b)](_0x5c4a7c(0x277)),tgBot[_0x5c4a7c(0x1a4)](settings[_0x5c4a7c(0x1a8)],_0x5c4a7c(0x242),{'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[[{'text':_0x5c4a7c(0x1e9),'callback_data':_0x5c4a7c(0x1e9)},{'text':'no','callback_data':'no'}]]}})[_0x5c4a7c(0x237)](_0x4513e2=>{telegramError(_0x4513e2);}),tgBot['on'](_0x5c4a7c(0x277),async _0x3484fb=>{const _0x3b508a=_0x5c4a7c,_0x36aaa6=_0x3484fb[_0x3b508a(0x1c3)],_0x59d4a9=_0x3484fb[_0x3b508a(0x240)];tgBot[_0x3b508a(0x262)](_0x3484fb['id'])[_0x3b508a(0x214)](async()=>{const _0x3273d1=_0x3b508a;if(_0x36aaa6!='no'){const _0xbbb986=0xf,_0x5f12a5=_0x3273d1(0x27d),_0x3fd36b=Array[_0x3273d1(0x243)](crypto[_0x3273d1(0x1ac)](new Uint32Array(_0xbbb986)))[_0x3273d1(0x20e)](_0x5b847a=>_0x5f12a5[_0x5b847a%_0x5f12a5['length']])['join'](''),_0x58be3f=bcrypt[_0x3273d1(0x244)](_0x3fd36b,saltRounds);storeSettings({'bbPassword':_0x58be3f}),await tgBot[_0x3273d1(0x1a4)](_0x59d4a9[_0x3273d1(0x259)]['id'],'Password\x20has\x20been\x20reset\x20to:\x20'+_0x3fd36b,{'parse_mode':_0x3273d1(0x21e)})[_0x3273d1(0x237)](_0xd0d9a2=>{telegramError(_0xd0d9a2);});}else await tgBot[_0x3273d1(0x1a4)](_0x59d4a9[_0x3273d1(0x259)]['id'],'Password\x20reset\x20rejected')['catch'](_0x5f2ac7=>{telegramError(_0x5f2ac7);});}),tgBot[_0x3b508a(0x29b)]('callback_query');}));}function logging(_0x241a2f){const _0xd604a4=_0x47040e;console['log'](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x241a2f);if(tgBot&&settings[_0xd604a4(0x1a8)]&&settings[_0xd604a4(0x228)]!=_0xd604a4(0x1ea))tgBot[_0xd604a4(0x1a4)](settings['telegramChatId'],_0xd604a4(0x24f)+_0x241a2f)['catch'](_0x5045d4=>{telegramError(_0x5045d4);});}function getServerTime(){const _0x32e3e6=_0x47040e,_0x2d209b=new Date();return _0x2d209b[_0x32e3e6(0x1be)]()+'/'+(_0x2d209b[_0x32e3e6(0x1bb)]()+0x1)[_0x32e3e6(0x2a5)]()[_0x32e3e6(0x234)](0x2,'0')+'/'+_0x2d209b[_0x32e3e6(0x1e5)]()[_0x32e3e6(0x2a5)]()[_0x32e3e6(0x234)](0x2,'0')+'\x20'+_0x2d209b[_0x32e3e6(0x1ed)]()[_0x32e3e6(0x2a5)]()[_0x32e3e6(0x234)](0x2,'0')+':'+_0x2d209b[_0x32e3e6(0x29a)]()['toString']()['padStart'](0x2,'0')+':'+_0x2d209b[_0x32e3e6(0x23f)]()[_0x32e3e6(0x2a5)]()[_0x32e3e6(0x234)](0x2,'0');}function getTimeStamp(){const _0x27533c=_0x47040e,_0x3bac9a=shiftedTime();return _0x3bac9a[_0x27533c(0x1be)]()+'/'+(_0x3bac9a['getMonth']()+0x1)[_0x27533c(0x2a5)]()['padStart'](0x2,'0')+'/'+_0x3bac9a[_0x27533c(0x1e5)]()[_0x27533c(0x2a5)]()['padStart'](0x2,'0')+'\x20'+_0x3bac9a['getHours']()[_0x27533c(0x2a5)]()[_0x27533c(0x234)](0x2,'0')+':'+_0x3bac9a[_0x27533c(0x29a)]()[_0x27533c(0x2a5)]()['padStart'](0x2,'0')+':'+_0x3bac9a[_0x27533c(0x23f)]()[_0x27533c(0x2a5)]()[_0x27533c(0x234)](0x2,'0');}function _0x1d18(_0x78fcca,_0x5051b2){const _0xe7f8a2=_0x11d4();return _0x1d18=function(_0x3b7091,_0x1dce63){_0x3b7091=_0x3b7091-0x193;let _0x11d440=_0xe7f8a2[_0x3b7091];return _0x11d440;},_0x1d18(_0x78fcca,_0x5051b2);}function shiftedTime(){const _0x5546db=_0x47040e,_0x10d025=new Date();let _0x5ec508=_0x10d025;if(settings[_0x5546db(0x205)]&&settings[_0x5546db(0x205)]!==0x0)_0x5ec508=fns['add'](_0x10d025,{'hours':settings[_0x5546db(0x205)]});return _0x5ec508;}function startAnalytics(){const _0x3f24fa=_0x47040e;let _0x22ecba=new Date()[_0x3f24fa(0x1a7)]();_0x22ecba==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x35a099=_0x47040e;analytics[_0x35a099(0x286)]({'title':_0x35a099(0x25f),'href':_0x35a099(0x2a7),'path':'/v'+serverversion});}function validateCredentials(_0x364f17){const _0x4969ad=_0x47040e;if(_0x364f17['username']==settings[_0x4969ad(0x208)]&&bcrypt[_0x4969ad(0x206)](_0x364f17[_0x4969ad(0x28d)],settings['bbPassword'])){if(settings[_0x4969ad(0x1ba)])return{'allow':![],'reason':_0x4969ad(0x1cf),'token':null};else{const _0x5bce67=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x5bce67};}}else return{'allow':![],'reason':_0x4969ad(0x1d7),'token':null};}function refreshToken(){const _0xf0eca0=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0xf0eca0};}function validateAccess(_0x59e5d1){const _0x3ded05=_0x47040e;let _0x46b7d3;const _0x34191c=_0xe8f619=>{const _0x5df56e=_0x1d18;if(settings[_0x5df56e(0x251)]){if(settings['f2aRequired']){if(telegram2FaApproved()){const _0x1dad11=generateLoginToken();return{'allow':!![],'reason':_0x5df56e(0x1dd),'token':_0x1dad11};}else return{'allow':![],'reason':_0x5df56e(0x1cf),'token':null};}else return _0x46b7d3=validToken(_0xe8f619),_0x46b7d3[_0x5df56e(0x1c7)](_0x5df56e(0x1c2))?{'allow':!![],'reason':_0x5df56e(0x194),'token':_0xe8f619}:{'allow':![],'reason':_0x5df56e(0x257),'token':null};}else return{'allow':!![],'reason':'login\x20not\x20required','token':null};};if(settings['whitelistEnabled']){let _0x164650=[...settings[_0x3ded05(0x260)],_0x3ded05(0x27b),_0x3ded05(0x1cd),_0x3ded05(0x1b9)];if(_0x164650[_0x3ded05(0x269)](externalip))return _0x34191c(_0x59e5d1);else{_0x46b7d3=validToken(_0x59e5d1);if(_0x46b7d3[_0x3ded05(0x1c7)](_0x3ded05(0x1c2)))return _0x34191c(_0x59e5d1);else{if(telegramIpApproved()){const _0x242dca=generateToken();return _0x46b7d3=_0x34191c(_0x59e5d1),_0x46b7d3[_0x3ded05(0x19c)]?{'allow':!![],'reason':'temporary\x20token\x20generated','token':_0x242dca}:_0x46b7d3;}else return settings[_0x3ded05(0x1d4)]?{'allow':![],'reason':_0x3ded05(0x26e),'token':null}:{'allow':![],'reason':_0x3ded05(0x1e7),'token':null};}}}else return _0x34191c(_0x59e5d1);}function timelyDecrypt(_0x40c700,_0x4c39f5=!![]){const _0x13924a=_0x47040e;if(_0x40c700)try{const _0x4917e6=crypt['decrypt'](secure[_0x13924a(0x215)],_0x40c700)['message'],_0x14b3b8=_0x4917e6[_0x13924a(0x22f)]('@')[0x0],_0x31f768=_0x4917e6['split']('@')[0x1],_0x1fbf3f=new Date()[_0x13924a(0x2b1)]();if(_0x4c39f5){if(_0x1fbf3f-_0x31f768<maxSecretAge*0x3e8)return _0x14b3b8;else return![];}else return _0x14b3b8;}catch{return![];}else return![];}const validToken=_0x8bb855=>{const _0xc76268=_0x47040e;if(!_0x8bb855)return{'error':_0xc76268(0x290)};for(let _0x4035b1 of blacklist){if(_0x4035b1[_0xc76268(0x239)]==_0x8bb855)return{'error':_0xc76268(0x1e8)};}let _0x5e98dc;try{_0x5e98dc=jwt['verify'](_0x8bb855,secure[_0xc76268(0x291)]+uuid);}catch{return{'error':_0xc76268(0x1f9)};}if(!_0x5e98dc[_0xc76268(0x1c7)](_0xc76268(0x248))&&!_0x5e98dc[_0xc76268(0x1c7)](_0xc76268(0x293))||!_0x5e98dc[_0xc76268(0x1c7)]('exp'))return{'error':_0xc76268(0x272)};if(!_0x5e98dc[_0xc76268(0x1c7)](_0xc76268(0x293))&&_0x5e98dc['hasOwnProperty'](_0xc76268(0x248))){const {clientip:_0x348e1e}=_0x5e98dc;return externalip==_0x348e1e?{'success':_0xc76268(0x2a4)}:{'error':_0xc76268(0x1b1)};}else{if(_0x5e98dc[_0xc76268(0x1c7)](_0xc76268(0x293))&&_0x5e98dc[_0xc76268(0x1c7)](_0xc76268(0x248))){const {username:_0x243ce6,clientip:_0x1fd51b}=_0x5e98dc;return settings[_0xc76268(0x208)]==_0x243ce6&&externalip==_0x1fd51b?{'success':'User\x20has\x20been\x20validated'}:{'error':_0xc76268(0x212)};}}},generateLoginToken=()=>{const _0x4301ea=_0x47040e;if(uuid)return jwt[_0x4301ea(0x21c)]({'username':settings[_0x4301ea(0x208)],'clientip':externalip},secure[_0x4301ea(0x291)]+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x49ef65=_0x47040e;if(uuid)return jwt[_0x49ef65(0x21c)]({'clientip':externalip},secure['secret']+uuid,{'expiresIn':telegramIpApproval[_0x49ef65(0x284)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x90dd78=_0x47040e;let _0x52463b=![];return telegramIpApproval&&telegramIpApproval[_0x90dd78(0x284)]!='reject'&&(_0x52463b=telegramIpApproval[_0x90dd78(0x248)]==externalip&&new Date()['getTime']()-telegramIpApproval[_0x90dd78(0x1bd)]<telegramIpApproval[_0x90dd78(0x284)]*0x3c*0x3e8),_0x52463b;},telegram2FaApproved=()=>{const _0x4c1494=_0x47040e;let _0x260b30=![];return telegram2FaApproval&&telegram2FaApproval['expiry']!='reject'&&(_0x260b30=telegram2FaApproval[_0x4c1494(0x248)]==externalip&&new Date()[_0x4c1494(0x2b1)]()-telegram2FaApproval[_0x4c1494(0x1bd)]<telegram2FaApproval['expiry']*0x3c*0x3e8),_0x260b30;},normalizeIP=_0x2e6a8a=>{const _0x555d7f=_0x47040e;let _0x4e743f=null,_0x1a5328=null;if(ipaddr[_0x555d7f(0x285)](_0x2e6a8a)){const _0x2eb867=ipaddr[_0x555d7f(0x1af)](_0x2e6a8a);_0x2eb867['kind']()===_0x555d7f(0x1bc)?(_0x2eb867[_0x555d7f(0x2ac)]()&&(_0x4e743f=_0x2eb867['toIPv4Address']()[_0x555d7f(0x2a5)]()),_0x1a5328=_0x2eb867[_0x555d7f(0x2a5)]()):(_0x4e743f=_0x2eb867[_0x555d7f(0x2a5)](),_0x1a5328=_0x2eb867[_0x555d7f(0x270)]()[_0x555d7f(0x2a5)]());}return{'show':_0x4e743f?_0x4e743f:_0x1a5328,'store':_0x1a5328};};