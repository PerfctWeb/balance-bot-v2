const _0x274bf9=_0x4468;(function(_0x220791,_0x34c607){const _0x4237ca=_0x4468,_0x4bd3bf=_0x220791();while(!![]){try{const _0x8aa26b=-parseInt(_0x4237ca(0x1d4))/0x1*(parseInt(_0x4237ca(0x1da))/0x2)+parseInt(_0x4237ca(0x1e3))/0x3*(parseInt(_0x4237ca(0x1e7))/0x4)+parseInt(_0x4237ca(0x1ea))/0x5+parseInt(_0x4237ca(0x1de))/0x6+-parseInt(_0x4237ca(0x1f1))/0x7*(-parseInt(_0x4237ca(0x1f4))/0x8)+parseInt(_0x4237ca(0x1e6))/0x9*(-parseInt(_0x4237ca(0x1e4))/0xa)+-parseInt(_0x4237ca(0x1d8))/0xb;if(_0x8aa26b===_0x34c607)break;else _0x4bd3bf['push'](_0x4bd3bf['shift']());}catch(_0x48a0a2){_0x4bd3bf['push'](_0x4bd3bf['shift']());}}}(_0x522b,0x52315));const _0x56ecea=function(){let _0x2cd603=!![];return function(_0x2fbe86,_0x1e7354){const _0x4354a4=_0x2cd603?function(){const _0x593fd9=_0x4468;if(_0x1e7354){const _0x22f93a=_0x1e7354[_0x593fd9(0x1f6)](_0x2fbe86,arguments);return _0x1e7354=null,_0x22f93a;}}:function(){};return _0x2cd603=![],_0x4354a4;};}(),_0x1ecddf=_0x56ecea(this,function(){const _0x13a485=_0x4468;return _0x1ecddf[_0x13a485(0x1cb)]()[_0x13a485(0x1ed)](_0x13a485(0x1f0))[_0x13a485(0x1cb)]()[_0x13a485(0x1e2)](_0x1ecddf)['search'](_0x13a485(0x1f0));});_0x1ecddf();const fs=require('fs'),argv=require(_0x274bf9(0x1cc))(process['argv'][_0x274bf9(0x1db)](0x2))[_0x274bf9(0x1fa)],childProcess=require(_0x274bf9(0x1ee)),nodeversion=process[_0x274bf9(0x1ec)][_0x274bf9(0x1cf)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0x274bf9(0x1dc)](),console[_0x274bf9(0x1dc)](_0x274bf9(0x1f3)),console[_0x274bf9(0x1dc)]('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+_0x274bf9(0x1e8)+minversion+'\x20or\x20above\x20is\x20required'),console[_0x274bf9(0x1dc)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x274bf9(0x1dc)](_0x274bf9(0x1f3)),console['log'](),process[_0x274bf9(0x1e9)](0x1));if(argv[_0x274bf9(0x1d2)]){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv[_0x274bf9(0x1d2)])&&(console[_0x274bf9(0x1dc)](_0x274bf9(0x1f9)+argv[_0x274bf9(0x1d2)]+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x274bf9(0x1e9)](0x1));}let args=[];argv[_0x274bf9(0x1d2)]&&(args[_0x274bf9(0x1ef)](_0x274bf9(0x1d9)),args[_0x274bf9(0x1ef)](argv[_0x274bf9(0x1d2)]));argv[_0x274bf9(0x1d6)]&&(args['push']('--host'),args[_0x274bf9(0x1ef)](argv['host']));argv[_0x274bf9(0x1df)]&&(args['push']('--user'),args[_0x274bf9(0x1ef)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args['push']('-d');function _0x4468(_0x19dfc9,_0x1a6b9d){const _0x1e6a08=_0x522b();return _0x4468=function(_0x1ecddf,_0x56ecea){_0x1ecddf=_0x1ecddf-0x1ca;let _0x522bc0=_0x1e6a08[_0x1ecddf];return _0x522bc0;},_0x4468(_0x19dfc9,_0x1a6b9d);}let bmpath=_0x274bf9(0x1d0);const bmfile='bm.js',updatefile=_0x274bf9(0x1dd);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];function _0x522b(){const _0xb70ac8=['child_process','push','(((.+)+)+)+$','7IzjigH','Automatically\x20restarting\x20BM','-----------------------------------------------------------------------------------','4404416bQWhuO','SIGTERM','apply','ipc','update','Error:\x20Invalid\x20argument\x20','argv','staging','toString','yargs/yargs','Error\x20while\x20updating\x20Balance\x20Bot:','inherit','node','bb/','Unexpected\x20error:','port','error','118163kkwsJd','terminate','host','restore','12279388BwVBLw','--port','2WnJARa','slice','log','install.js','1530192UCMTBX','user','values','SIGINT','constructor','6KuVgNb','10CFqsQV','keys','891468KpxxyM','666164RaGxiK',',\x20but\x20version\x20','exit','2657590NOVhoM','kill','versions','search'];_0x522b=function(){return _0xb70ac8;};return _0x522b();}process['on']('exit',async()=>{handleTerminate();}),process['on'](_0x274bf9(0x1f5),async()=>{handleTerminate();}),process['on'](_0x274bf9(0x1e1),async()=>{handleTerminate();}),startBM();function startBM(){const _0xf558c3=_0x274bf9;let _0x3ba81e=![];const _0x34bcf7={'cwd':'','stdio':[_0xf558c3(0x1ce),_0xf558c3(0x1ce),'inherit',_0xf558c3(0x1f7)]};pid1=childProcess['fork'](bmpath+bmfile,args,_0x34bcf7),pid1['on']('message',_0x3cdd84=>{const _0x338920=_0xf558c3,_0x5d2142=Object[_0x338920(0x1e0)](_0x3cdd84)[0x1]==_0x338920(0x1ca);switch(Object[_0x338920(0x1e5)](_0x3cdd84)[0x0]){case _0x338920(0x1f8):if(_0x5d2142)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x5d2142)startUpdate('3s');else startUpdate('3');break;case _0x338920(0x1d7):handleRestore();break;case _0x338920(0x1d5):handleTerminate();break;}}),pid1['on'](_0xf558c3(0x1d3),function(_0x223ddf){const _0x2856a4=_0xf558c3;if(_0x3ba81e)return;_0x3ba81e=!![],logging(_0x2856a4(0x1d1),_0x223ddf);}),pid1['on'](_0xf558c3(0x1e9),function(_0x4d9c91){const _0x228229=_0xf558c3;if(terminating)return;if(updating)return;if(_0x3ba81e)return;_0x3ba81e=!![],console[_0x228229(0x1dc)](_0x228229(0x1f2)),startBM();});}async function handleTerminate(){const _0x429473=_0x274bf9;stopBM(),await sleep(0x3e8),process[_0x429473(0x1e9)](0x0);}function stopBM(){const _0x22ff00=_0x274bf9;terminating=!![];if(pid1)pid1[_0x22ff00(0x1eb)]();pid1=null;}function startUpdate(_0x1dd384){const _0x1b62b2=_0x274bf9;updating=!![],stopBM();let _0x341a3b=![];const _0x5a0a8a={'cwd':'','stdio':['inherit',_0x1b62b2(0x1ce),_0x1b62b2(0x1ce),'ipc']};let _0x35959e=[];if(staging)_0x35959e[_0x1b62b2(0x1ef)](_0x1dd384+'s');else _0x35959e[_0x1b62b2(0x1ef)](_0x1dd384);pid2=childProcess['fork'](updatefile,_0x35959e,_0x5a0a8a),pid2['on']('error',function(_0x4a2eea){const _0x17c5b6=_0x1b62b2;updating=![];if(_0x341a3b)return;_0x341a3b=!![],logging(_0x17c5b6(0x1cd),_0x4a2eea);}),pid2['on'](_0x1b62b2(0x1e9),function(_0x57d371){updating=![];if(_0x341a3b)return;_0x341a3b=!![],terminating=![],startBM();});}function handleRestore(){const _0x53c241=_0x274bf9;if(pid1)pid1[_0x53c241(0x1eb)]();}function logging(_0xaf39d1){console['log']('Balance\x20Bot\x20>\x20'+_0xaf39d1);}function sleep(_0x3b0661){return new Promise(_0x47abbc=>setTimeout(_0x47abbc,_0x3b0661));}