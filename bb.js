const _0x5ae0af=_0x544b;(function(_0x4a8cf8,_0x17888c){const _0x278ada=_0x544b,_0x3e0433=_0x4a8cf8();while(!![]){try{const _0x336901=parseInt(_0x278ada(0xff))/0x1+parseInt(_0x278ada(0x15a))/0x2+parseInt(_0x278ada(0x161))/0x3+-parseInt(_0x278ada(0x16c))/0x4*(-parseInt(_0x278ada(0x1f7))/0x5)+parseInt(_0x278ada(0x1c2))/0x6*(-parseInt(_0x278ada(0x207))/0x7)+-parseInt(_0x278ada(0x1e2))/0x8*(parseInt(_0x278ada(0x189))/0x9)+parseInt(_0x278ada(0x182))/0xa*(-parseInt(_0x278ada(0x164))/0xb);if(_0x336901===_0x17888c)break;else _0x3e0433['push'](_0x3e0433['shift']());}catch(_0xc90722){_0x3e0433['push'](_0x3e0433['shift']());}}}(_0x41aa,0x5c04c));const _0x1d3117=function(){let _0x5e015f=!![];return function(_0x35ab28,_0x3c6270){const _0x579eb5=_0x5e015f?function(){if(_0x3c6270){const _0x101481=_0x3c6270['apply'](_0x35ab28,arguments);return _0x3c6270=null,_0x101481;}}:function(){};return _0x5e015f=![],_0x579eb5;};}(),_0x489a2b=_0x1d3117(this,function(){const _0x4e22e6=_0x544b;return _0x489a2b[_0x4e22e6(0x12d)]()[_0x4e22e6(0x107)]('(((.+)+)+)+$')[_0x4e22e6(0x12d)]()['constructor'](_0x489a2b)[_0x4e22e6(0x107)]('(((.+)+)+)+$');});_0x489a2b();'use strict';process[_0x5ae0af(0x129)]['NTBA_FIX_319']=0x1;const childProcess=require(_0x5ae0af(0x17f)),FileSync=require(_0x5ae0af(0x102)),fs=require('fs'),fns=require('date-fns'),low=require(_0x5ae0af(0x1bd)),path=require(_0x5ae0af(0x193)),crypto=require(_0x5ae0af(0x151)),Crypt=require(_0x5ae0af(0x16f))['Crypt'],RSA=require(_0x5ae0af(0x16f))[_0x5ae0af(0x191)],bcrypt=require(_0x5ae0af(0x200)),jwt=require(_0x5ae0af(0xec)),analyticsLib=require(_0x5ae0af(0x13e))[_0x5ae0af(0x194)],googleAnalytics=require(_0x5ae0af(0x1a4))[_0x5ae0af(0x194)],ipaddr=require('ipaddr.js');let bbpath=_0x5ae0af(0x188);const botfile=_0x5ae0af(0x103),configfile='bb-config.json',settingsfile='bb-settings.json',securefile=_0x5ae0af(0x1d7);!fs[_0x5ae0af(0x1ed)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0x5ae0af(0x10f);!fs[_0x5ae0af(0x1ed)](configpath)&&fs[_0x5ae0af(0x1fe)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x5ae0af(0x1f0)]({'bots':[]})[_0x5ae0af(0x18f)]();function _0x544b(_0x3665ac,_0x186e58){const _0x140deb=_0x41aa();return _0x544b=function(_0x489a2b,_0x1d3117){_0x489a2b=_0x489a2b-0xec;let _0x41aa1a=_0x140deb[_0x489a2b];return _0x41aa1a;},_0x544b(_0x3665ac,_0x186e58);}const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x5ae0af(0x1f0)]({'settings':{'timeshift':0x0}})[_0x5ae0af(0x18f)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x5ae0af(0x1f0)]({'secure':{},'blacklist':[]})['write']();let crypt=new Crypt({'md':'sha256','rsaStandard':_0x5ae0af(0x1e1)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+_0x5ae0af(0x1d4))[_0x5ae0af(0x1c9)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require('express'),app=express(),http=require(_0x5ae0af(0x105))[_0x5ae0af(0x203)](app);app[_0x5ae0af(0x181)](express[_0x5ae0af(0x17e)](path[_0x5ae0af(0x175)](__dirname,bbpath,'build2'))),app[_0x5ae0af(0x181)](express[_0x5ae0af(0x17e)](path[_0x5ae0af(0x175)](__dirname,bbpath,_0x5ae0af(0x1cd)))),app[_0x5ae0af(0x1ac)]('/',function(_0x41daed,_0x21a829){const _0x3dd5ac=_0x5ae0af;_0x21a829['sendFile'](path[_0x3dd5ac(0x175)](__dirname,bbpath,_0x3dd5ac(0x1c1),_0x3dd5ac(0x110)));}),app[_0x5ae0af(0x1ac)]('/:bot',function(_0x54be47,_0x7db769){const _0x28500e=_0x5ae0af;_0x7db769[_0x28500e(0xfc)](path[_0x28500e(0x175)](__dirname,bbpath,_0x28500e(0x1cd),_0x28500e(0x110)));}),app[_0x5ae0af(0x1ac)](_0x5ae0af(0x14e),(_0x1c4fad,_0x262d7a)=>{const _0x2838ca=_0x5ae0af;_0x262d7a[_0x2838ca(0xfc)](path['join'](__dirname,bbpath,'build','index.html'));}),app[_0x5ae0af(0x1ac)](_0x5ae0af(0x197),(_0x3104fe,_0xc3e215)=>{const _0x7cd775=_0x5ae0af;_0xc3e215[_0x7cd775(0xfc)](path[_0x7cd775(0x175)](__dirname,bbpath,_0x7cd775(0x1cd),'index.html'));}),app['get'](_0x5ae0af(0xfe),(_0x333c7f,_0x91d8ae)=>{const _0x3f5b5c=_0x5ae0af;_0x91d8ae[_0x3f5b5c(0xfc)](path[_0x3f5b5c(0x175)](__dirname,bbpath,'build',_0x3f5b5c(0x110)));}),app[_0x5ae0af(0x1ac)](_0x5ae0af(0x12a),(_0x4a9b35,_0x3c30ca)=>{const _0x34f3d6=_0x5ae0af;_0x3c30ca[_0x34f3d6(0xfc)](path['join'](__dirname,bbpath,_0x34f3d6(0x1cd),_0x34f3d6(0x110)));}),app[_0x5ae0af(0x1ac)](_0x5ae0af(0x15e),(_0x54d9ab,_0xe7cc38)=>{const _0x211550=_0x5ae0af;_0xe7cc38[_0x211550(0xfc)](path[_0x211550(0x175)](__dirname,bbpath,'build',_0x211550(0x110)));}),app[_0x5ae0af(0x1ac)](_0x5ae0af(0x132),(_0x40c5ab,_0x5810e8)=>{const _0x2b8271=_0x5ae0af;_0x5810e8[_0x2b8271(0xfc)](path[_0x2b8271(0x175)](__dirname,bbpath,_0x2b8271(0x1cd),_0x2b8271(0x110)));}),http['listen'](PORT);const analytics=analyticsLib({'app':_0x5ae0af(0x1f8),'plugins':[googleAnalytics({'trackingId':'UA-192771731-1'})]}),TelegramBot=require(_0x5ae0af(0x18b));let tgBot;if(settings[_0x5ae0af(0x1a8)]&&settings[_0x5ae0af(0x1a8)]!=''&&settings[_0x5ae0af(0x1be)]&&settings[_0x5ae0af(0x1be)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x59286a=_0x5ae0af;console[_0x59286a(0xfa)](''),console[_0x59286a(0xfa)]('-----------------------------------------------------------------------------------'),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console[_0x59286a(0xfa)]('-----------------------------------------------------------------------------------');if(config['length']!=0x0)config['forEach'](_0x2fed7f=>{const _0x5bac8a=_0x59286a;if(_0x2fed7f['status']==_0x5bac8a(0x156)||_0x2fed7f[_0x5bac8a(0x1bc)]=='new')logging(_0x5bac8a(0x1e0)+_0x2fed7f[_0x5bac8a(0x131)]+_0x5bac8a(0x126)+_0x2fed7f[_0x5bac8a(0xf0)]),startBot([_0x2fed7f[_0x5bac8a(0x131)]],{'cwd':bbpath},function(_0x461eab){if(_0x461eab)logging(_0x461eab);});else(_0x2fed7f[_0x5bac8a(0x1bc)]==_0x5bac8a(0x19d)||_0x2fed7f[_0x5bac8a(0x1bc)]==_0x5bac8a(0x1ec))&&logging(_0x5bac8a(0x12b)+_0x2fed7f['botID']+_0x5bac8a(0x126)+_0x2fed7f[_0x5bac8a(0xf0)]);});else!newBot&&console[_0x59286a(0xfa)](_0x59286a(0x183));if(newBot)addBot();console[_0x59286a(0xfa)]('-----------------------------------------------------------------------------------'),console[_0x59286a(0xfa)]('');}function startSocket(){const _0xea29d2=_0x5ae0af,_0x5e36ba=require(_0xea29d2(0x17b))(http,{});_0x5e36ba['on'](_0xea29d2(0x19a),_0x14e79d=>{const _0x5ceba8=_0xea29d2;let _0x12bcd9,_0x3038b8,_0x521b2a;const _0xa2f32b=_0x14e79d[_0x5ceba8(0x1d2)]['headers'][_0x5ceba8(0x180)],_0xd433aa=_0x14e79d[_0x5ceba8(0x1d2)][_0x5ceba8(0x1ea)][_0x5ceba8(0x166)];if(!_0xd433aa)_0x14e79d[_0x5ceba8(0x1bb)](_0x5ceba8(0x1bc),{'publicKey':secure[_0x5ceba8(0x158)]});else{uuid=timelyDecrypt(_0x14e79d['handshake'][_0x5ceba8(0x1ea)]['encryptedUuid'],![]),_0x3038b8=_0xa2f32b[_0x5ceba8(0x196)](/bot[0-9]{3}/);if(_0x3038b8)_0x521b2a=_0x3038b8[0x0][_0x5ceba8(0x196)](/[0-9]{3}/);if(_0x521b2a)_0x12bcd9=_0x521b2a[0x0];else _0x12bcd9='botmanager';if(socket[_0x12bcd9])socket[_0x12bcd9]['disconnect'](!![]);socket[_0x12bcd9]=_0x14e79d,setAccess(_0x12bcd9);if(accessControl[_0x5ceba8(0x202)]){if(_0x12bcd9==_0x5ceba8(0x179))initializeSocketBotManager();else initializeSocketBot(_0x12bcd9);}if(!serverStatus[_0x12bcd9])serverStatus[_0x12bcd9]=_0x5ceba8(0x1b0);socket[_0x12bcd9]['on'](_0x5ceba8(0x19c),_0x170360=>{const _0x7d186=_0x5ceba8,_0xb94474=timelyDecrypt(_0x170360[_0x7d186(0x1a1)]);if(_0xb94474){_0x170360={'username':_0x170360[_0x7d186(0x1c4)],'password':_0xb94474};let _0x50909f=validateCredentials(_0x170360);if(_0x50909f[_0x7d186(0x202)]==![]&&_0x50909f[_0x7d186(0x149)]==_0x7d186(0x141))socket[_0x12bcd9][_0x7d186(0x1bb)](_0x7d186(0x1bc),{'access':_0x50909f}),loginAccess2FA(externalip);else{if(_0x50909f[_0x7d186(0x202)]==![]&&_0x50909f[_0x7d186(0x149)]==_0x7d186(0x11b))socket[_0x12bcd9]['emit'](_0x7d186(0x1bc),{'access':_0x50909f});else{if(_0x50909f['allow']&&_0x50909f[_0x7d186(0x149)]==_0x7d186(0x1cb)){token=_0x50909f['token'];for(let _0x3ab3c8 in socket){if(_0x3ab3c8=='botmanager')initializeSocketBotManager();else initializeSocketBot(_0x3ab3c8);socket[_0x3ab3c8]['emit'](_0x7d186(0x1bc),{'status':serverStatus[_0x3ab3c8]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x50909f,'externalip':externalip,'publicKey':secure[_0x7d186(0x158)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout('login');}}}}else logging(_0x7d186(0x121));}),socket[_0x12bcd9]['on'](_0x5ceba8(0x1d0),()=>{resetPassword();}),socket[_0x12bcd9]['on']('disconnect',_0x3cbd82=>{let _0x1ef65e=[];for(let _0x3fa76e in socket){if(_0x3fa76e!=_0x12bcd9)_0x1ef65e[_0x3fa76e]=socket[_0x3fa76e];}socket=_0x1ef65e;});if(_0x12bcd9!=_0x5ceba8(0x179)&&config[_0x5ceba8(0x1fb)]!=''){if(pid[_0x12bcd9])pid[_0x12bcd9]['send']({'function':_0x5ceba8(0x19f),'args':null});}}});}function setAccess(_0x4502cc){const _0xc6a266=_0x5ae0af;externalip=normalizeIP(socket[_0x4502cc][_0xc6a266(0x199)][_0xc6a266(0xf7)])[_0xc6a266(0x187)],accessControl=validateAccess(token),accessControl['token']&&accessControl[_0xc6a266(0x149)]==_0xc6a266(0x1c8)&&setSessionTimeout(_0xc6a266(0x178)),accessControl['token']&&accessControl[_0xc6a266(0x149)]==_0xc6a266(0x1eb)&&setSessionTimeout(_0xc6a266(0x19c)),socket[_0x4502cc][_0xc6a266(0x1bb)](_0xc6a266(0x1bc),{'status':serverStatus[_0x4502cc]||_0xc6a266(0x1e3),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0xc6a266(0x158)],'loginNow':accessControl[_0xc6a266(0x149)]==_0xc6a266(0xf9)||accessControl[_0xc6a266(0x149)]==_0xc6a266(0x141)}),accessControl[_0xc6a266(0x202)]==![]&&accessControl[_0xc6a266(0x149)]==_0xc6a266(0x1f1)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x2504ea){const _0x59a184=_0x5ae0af;let _0x46de4b;if(_0x2504ea==_0x59a184(0x19c))_0x46de4b=loginExpiry*0x3c*0x3e8;else _0x46de4b=telegramIpApproval[_0x59a184(0x147)]*0x3c*0x3e8-(new Date()[_0x59a184(0x1b6)]()-telegramIpApproval[_0x59a184(0x16b)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x1c5a48=_0x59a184;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x173a9a=validateAccess(token);if(!(_0x173a9a[_0x1c5a48(0x202)]&&_0x173a9a['reason']==_0x1c5a48(0x1b7)))for(let _0x36ce68 in socket){socket[_0x36ce68]['emit'](_0x1c5a48(0x1bc),{'access':{'allow':![],'reason':_0x1c5a48(0x128),'token':null}});}token=null;},_0x46de4b);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x40f962=_0x544b;let _0x324f00=refreshToken();for(let _0x245b0a in socket){socket[_0x245b0a][_0x40f962(0x1bb)](_0x40f962(0x1bc),{'status':serverStatus[_0x245b0a]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x324f00,'externalip':externalip,'publicKey':secure[_0x40f962(0x158)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x566f2a=_0x5ae0af;socket['botmanager'][_0x566f2a(0x1bb)]('bots',config),socket['botmanager']['emit']('settings',cleanSettings()),socket[_0x566f2a(0x179)]['on'](_0x566f2a(0x11a),_0x4431b2=>{const _0x561c1c=_0x566f2a;if(validateAccess(_0x4431b2)[_0x561c1c(0x202)])addBot();else logging(_0x561c1c(0x111));}),socket[_0x566f2a(0x179)]['on'](_0x566f2a(0x163),(_0x45c3b4,_0x204e85)=>{const _0xea301b=_0x566f2a;if(validateAccess(_0x204e85)['allow'])toggleBot(_0x45c3b4[_0xea301b(0x131)],_0x45c3b4[_0xea301b(0x1bc)],_0x45c3b4[_0xea301b(0x1b3)]);else logging(_0xea301b(0x165));}),socket[_0x566f2a(0x179)]['on']('delete-bot',(_0x33b096,_0x4ec13c)=>{const _0x2ca309=_0x566f2a;if(validateAccess(_0x4ec13c)['allow'])deleteBot(_0x33b096);else logging(_0x2ca309(0x1b9));}),socket[_0x566f2a(0x179)]['on'](_0x566f2a(0x205),(_0x366e6a,_0x57012d)=>{if(validateAccess(_0x57012d)['allow'])storeSettings(_0x366e6a,!![]);else logging('Unauthorized\x20attempt\x20to\x20update\x20settings');}),socket[_0x566f2a(0x179)]['on'](_0x566f2a(0x1f3),_0x28e9d2=>{const _0x2640b3=_0x566f2a;if(validateAccess(_0x28e9d2)[_0x2640b3(0x202)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x53580f in socket){socket[_0x53580f][_0x2640b3(0x1bb)]('status',{'access':{'allow':![],'reason':_0x2640b3(0xf4),'token':null}});}}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function initializeSocketBot(_0x5ce95d){const _0x3b8055=_0x5ae0af;socket[_0x5ce95d]['on'](_0x3b8055(0x1b5),(_0xdb347e,_0x1d7c22)=>{const _0x590d28=_0x3b8055;if(validateAccess(_0x1d7c22)[_0x590d28(0x202)]){if(pid[_0x5ce95d])pid[_0x5ce95d][_0x590d28(0x15d)]({'function':_0x590d28(0x13a),'args':_0xdb347e});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),socket[_0x5ce95d]['on'](_0x3b8055(0x113),(_0x22237a,_0x441866)=>{const _0x54f945=_0x3b8055;if(validateAccess(_0x441866)['allow']){if(pid[_0x5ce95d])pid[_0x5ce95d][_0x54f945(0x15d)]({'function':'getPortfolio','args':_0x22237a});}else logging(_0x54f945(0x153));}),socket[_0x5ce95d]['on'](_0x3b8055(0x12c),(_0x541bcf,_0x14bdf4)=>{const _0x67d2bc=_0x3b8055;if(validateAccess(_0x14bdf4)[_0x67d2bc(0x202)]){if(pid[_0x5ce95d])pid[_0x5ce95d]['send']({'function':_0x67d2bc(0x11f),'args':_0x541bcf});}else logging(_0x67d2bc(0x1db));}),socket[_0x5ce95d]['on']('store-headless',(_0x16d7d4,_0x1d9593)=>{const _0x45d644=_0x3b8055;if(validateAccess(_0x1d9593)[_0x45d644(0x202)]){if(pid[_0x5ce95d])pid[_0x5ce95d][_0x45d644(0x15d)]({'function':_0x45d644(0x1b2),'args':_0x16d7d4});}else logging(_0x45d644(0x140));}),socket[_0x5ce95d]['on'](_0x3b8055(0x150),_0x5733e1=>{const _0x3860ee=_0x3b8055;if(validateAccess(_0x5733e1)['allow']){if(pid[_0x5ce95d])pid[_0x5ce95d][_0x3860ee(0x15d)]({'function':'getStartingBalances','args':null});}else logging(_0x3860ee(0x160));}),socket[_0x5ce95d]['on'](_0x3b8055(0x1c7),(_0xc27c32,_0x41e3eb)=>{const _0x377ad5=_0x3b8055;if(validateAccess(_0x41e3eb)[_0x377ad5(0x202)]){if(pid[_0x5ce95d])pid[_0x5ce95d][_0x377ad5(0x15d)]({'function':_0x377ad5(0x209),'args':_0xc27c32});}else logging(_0x377ad5(0x108));}),socket[_0x5ce95d]['on'](_0x3b8055(0x1f3),_0x92a310=>{const _0x5e93ae=_0x3b8055;if(validateAccess(_0x92a310)[_0x5e93ae(0x202)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x288c65 in socket){socket[_0x288c65][_0x5e93ae(0x1bb)](_0x5e93ae(0x1bc),{'access':{'allow':![],'reason':_0x5e93ae(0xf4),'token':null}});}}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function removeSocketListeners(){const _0x269343=_0x5ae0af;for(let _0x3a2a5b in socket){socket[_0x3a2a5b][_0x269343(0x12e)]();}}function cleanSettings(){const _0x251487=_0x5ae0af;let _0x1ed2ad=settings;return settings['telegramToken']&&settings[_0x251487(0x1a8)]!=''&&(_0x1ed2ad={..._0x1ed2ad,'telegramToken':_0x251487(0x1a2)}),settings[_0x251487(0xfd)]&&settings[_0x251487(0xfd)]!=''&&(_0x1ed2ad={..._0x1ed2ad,'bbPassword':'************'}),_0x1ed2ad;}function startBot(_0x37b626,_0x2436a1,_0x111336){const _0x2e9ec2=_0x5ae0af;let _0x4d0b16=![];const _0x5c1ac8=_0x37b626[0x0];_0x2436a1={..._0x2436a1,'stdio':[_0x2e9ec2(0x139),_0x2e9ec2(0x139),_0x2e9ec2(0x139),_0x2e9ec2(0x148)]},pid[_0x5c1ac8]=childProcess[_0x2e9ec2(0x120)](botfile,_0x37b626,_0x2436a1),pid[_0x5c1ac8]['on'](_0x2e9ec2(0x1d1),_0x535d69=>{const _0x58edc4=_0x2e9ec2;switch(Object['keys'](_0x535d69)[0x0]){case'botname':updateBotName(_0x5c1ac8,_0x535d69['botname']);break;case _0x58edc4(0x1bc):updateStatus(_0x5c1ac8,_0x535d69[_0x58edc4(0x1bc)]);break;case _0x58edc4(0x1b3):updateLive(_0x5c1ac8,_0x535d69['live']);break;case _0x58edc4(0x127):sendTelegram(_0x5c1ac8,_0x535d69[_0x58edc4(0x127)]);break;case'function':if(socket[_0x5c1ac8])socket[_0x5c1ac8]['emit'](_0x535d69[_0x58edc4(0x1b4)],_0x535d69[_0x58edc4(0x1ae)]);break;}}),pid[_0x5c1ac8]['on']('error',function(_0x978d85){if(_0x4d0b16)return;_0x4d0b16=!![],_0x111336(_0x978d85);}),pid[_0x5c1ac8]['on'](_0x2e9ec2(0x10c),function(_0x2afef7){const _0x3a1cd6=_0x2e9ec2;if(_0x4d0b16)return;_0x4d0b16=!![],_0x111336(null);const _0x35b3bb=dbConfig[_0x3a1cd6(0x1ac)](_0x3a1cd6(0x155))[_0x3a1cd6(0x1f9)]({'botID':_0x5c1ac8})[_0x3a1cd6(0x152)]();_0x35b3bb&&(_0x35b3bb[_0x3a1cd6(0x1bc)]==_0x3a1cd6(0x156)||_0x35b3bb[_0x3a1cd6(0x1bc)]==_0x3a1cd6(0x101))&&(updateLive(_0x5c1ac8,_0x3a1cd6(0x18d)),logging(_0x3a1cd6(0x17a)+_0x5c1ac8),startBot([_0x5c1ac8],{'cwd':bbpath},function(_0x44ba8d){if(_0x44ba8d)logging(_0x44ba8d);}));});}function stopBot(_0x376a43){const _0x174a9a=_0x5ae0af;if(pid[_0x376a43])pid[_0x376a43][_0x174a9a(0x10d)]();}function addBot(){const _0x1e3faa=_0x5ae0af;let _0x447fad;for(let _0x3a5c79=0x1;_0x3a5c79<0x3e9;_0x3a5c79++){_0x447fad=_0x3a5c79['toString']()[_0x1e3faa(0x143)](0x3,'0');let _0x148b0c=config[_0x1e3faa(0x1f9)](_0x22181a=>_0x22181a[_0x1e3faa(0x131)]==_0x447fad);if(!_0x148b0c)break;}if(_0x447fad===_0x1e3faa(0x14b)){logging(_0x1e3faa(0x1da));return;}logging('starting\x20new\x20bot\x20|\x20Bot\x20'+_0x447fad),dbConfig[_0x1e3faa(0x1ac)](_0x1e3faa(0x155))['push']({'botID':_0x447fad,'botname':_0x1e3faa(0x1ba)+_0x447fad,'status':_0x1e3faa(0x101),'live':''})[_0x1e3faa(0x18f)](),startBot([_0x447fad],{'cwd':bbpath},function(_0x35e703){if(_0x35e703)logging(_0x35e703);}),config=getConfiguration();if(socket[_0x1e3faa(0x179)])socket[_0x1e3faa(0x179)]['emit'](_0x1e3faa(0x155),config);}function deleteBot(_0x407049){const _0x218637=_0x5ae0af;dbConfig[_0x218637(0x1ac)](_0x218637(0x155))[_0x218637(0x1a6)]({'botID':_0x407049})[_0x218637(0x18f)](),logging('deleted\x20Bot\x20'+_0x407049),stopBot(_0x407049);try{fs[_0x218637(0x1e7)](path[_0x218637(0x175)](configpath,_0x218637(0x19b)+_0x407049+_0x218637(0x204))),fs[_0x218637(0x1e7)](path[_0x218637(0x175)](configpath,_0x218637(0x19b)+_0x407049+_0x218637(0x195))),fs['unlinkSync'](path[_0x218637(0x175)](configpath,'bot-'+_0x407049+_0x218637(0x13b))),fs[_0x218637(0x1e7)](path['join'](configpath,'bot-'+_0x407049+'-results.json'));}catch(_0xd5cb83){if(_0xd5cb83)logging(_0x218637(0x1d3),_0xd5cb83);}config=getConfiguration();if(socket[_0x218637(0x179)])socket['botmanager']['emit'](_0x218637(0x155),config);}function toggleBot(_0x5d574c,_0xbe01b4,_0x5b0acb){const _0x387637=_0x5ae0af;dbConfig[_0x387637(0x1ac)](_0x387637(0x155))[_0x387637(0x1f9)]({'botID':_0x5d574c})[_0x387637(0x1ef)]({'status':_0xbe01b4})['assign']({'live':_0x5b0acb})[_0x387637(0x18f)]();if(_0xbe01b4==_0x387637(0x156)||_0xbe01b4==_0x387637(0x101))logging(_0x387637(0x138)+_0x5d574c),startBot([_0x5d574c],{'cwd':bbpath},function(_0x4c64b4){if(_0x4c64b4)logging(_0x4c64b4);});else(_0xbe01b4==_0x387637(0x19d)||_0xbe01b4==_0x387637(0x1ec))&&(logging(_0x387637(0x1a7)+_0x5d574c),stopBot(_0x5d574c));config=getConfiguration();if(socket['botmanager'])socket[_0x387637(0x179)][_0x387637(0x1bb)](_0x387637(0x155),config);}function updateStatus(_0x3690bc,_0x15fa5f){const _0x64c90=_0x5ae0af;dbConfig[_0x64c90(0x1ac)](_0x64c90(0x155))[_0x64c90(0x1f9)]({'botID':_0x3690bc})[_0x64c90(0x1ef)]({'status':_0x15fa5f})[_0x64c90(0x18f)](),config=getConfiguration();if(socket['botmanager'])socket[_0x64c90(0x179)][_0x64c90(0x1bb)](_0x64c90(0x155),config);}function updateLive(_0x30e773,_0x4089de){const _0x4df3d3=_0x5ae0af;dbConfig[_0x4df3d3(0x1ac)]('bots')[_0x4df3d3(0x1f9)]({'botID':_0x30e773})[_0x4df3d3(0x1ef)]({'live':_0x4089de})[_0x4df3d3(0x18f)](),config=getConfiguration();if(socket[_0x4df3d3(0x179)])socket[_0x4df3d3(0x179)][_0x4df3d3(0x1bb)](_0x4df3d3(0x155),config);}function updateBotName(_0x3c4fbf,_0x27913e){const _0x24e258=_0x5ae0af;dbConfig[_0x24e258(0x1ac)](_0x24e258(0x155))[_0x24e258(0x1f9)]({'botID':_0x3c4fbf})[_0x24e258(0x1ef)]({'botname':_0x27913e})[_0x24e258(0x18f)](),config=getConfiguration();if(socket[_0x24e258(0x179)])socket[_0x24e258(0x179)][_0x24e258(0x1bb)](_0x24e258(0x155),config);}function telegramError(_0x1bf71b){const _0x5a9089=_0x5ae0af;console[_0x5a9089(0xfa)](getTimeStamp()+_0x5a9089(0x18a));}function validateTelegram(_0x4fdf2c){const _0x5d3ef9=_0x5ae0af;if(_0x4fdf2c[_0x5d3ef9(0xee)][_0x5d3ef9(0x1c4)]!=settings[_0x5d3ef9(0x1be)]&&'@'+_0x4fdf2c[_0x5d3ef9(0xee)][_0x5d3ef9(0x1c4)]!=settings[_0x5d3ef9(0x1be)])return tgBot['sendMessage'](_0x4fdf2c['chat']['id'],_0x5d3ef9(0x16a),{'parse_mode':_0x5d3ef9(0x124)})['catch'](_0x2101d4=>{telegramError(_0x2101d4);}),![];return!![];}async function initTelegram(){const _0x5a3b8a=_0x5ae0af;if(tgBot)tgBot['stopPolling'](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x5a3b8a(0x1a8)],{'polling':!![]});let _0x3e27c6='You\x20can\x20use\x20the\x20following\x20commands:\x0a';_0x3e27c6+='\x0a',_0x3e27c6+=_0x5a3b8a(0x186),_0x3e27c6+=_0x5a3b8a(0x1ce),_0x3e27c6+=_0x5a3b8a(0x10e),_0x3e27c6+=_0x5a3b8a(0x176),_0x3e27c6+=_0x5a3b8a(0x190),_0x3e27c6+=_0x5a3b8a(0x1cf);let _0xf5999a='Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a';_0xf5999a+='\x0a',_0xf5999a+=_0x3e27c6,tgBot[_0x5a3b8a(0x1ee)](/\/start/,_0x53fbdb=>{const _0x3cfced=_0x5a3b8a;if(!validateTelegram(_0x53fbdb))return;if(settings[_0x3cfced(0x14f)]!=_0x53fbdb[_0x3cfced(0x1e9)]['id'])updateSetting(_0x3cfced(0x14f),_0x53fbdb['chat']['id']);updateSetting(_0x3cfced(0x14d),!![]),tgBot[_0x3cfced(0x1d9)](_0x53fbdb[_0x3cfced(0x1e9)]['id'],_0xf5999a)[_0x3cfced(0x136)](_0x28eb98=>{telegramError(_0x28eb98);});}),tgBot['onText'](/\/enable/,_0x503bc6=>{const _0x3d5dae=_0x5a3b8a;if(!validateTelegram(_0x503bc6))return;if(settings[_0x3d5dae(0x14f)]!=_0x503bc6[_0x3d5dae(0x1e9)]['id'])updateSetting(_0x3d5dae(0x14f),_0x503bc6['chat']['id']);updateSetting(_0x3d5dae(0x14d),!![]),tgBot[_0x3d5dae(0x1d9)](_0x503bc6[_0x3d5dae(0x1e9)]['id'],_0x3d5dae(0x13d))[_0x3d5dae(0x136)](_0x1bb511=>{telegramError(_0x1bb511);});}),tgBot[_0x5a3b8a(0x1ee)](/\/config/,async _0x53643b=>{const _0x21cfc3=_0x5a3b8a;if(!validateTelegram(_0x53643b))return;tgBot[_0x21cfc3(0x1dd)]('callback_query'),tgBot['sendMessage'](_0x53643b[_0x21cfc3(0x1e9)]['id'],'Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?',{'reply_markup':{'inline_keyboard':[[{'text':_0x21cfc3(0x1c0),'callback_data':_0x21cfc3(0x100)},{'text':_0x21cfc3(0x112),'callback_data':'alerts'},{'text':_0x21cfc3(0x206),'callback_data':'all'}]]}})['catch'](_0x596223=>{telegramError(_0x596223);}),tgBot['on']('callback_query',async _0x41018b=>{const _0x243ee4=_0x21cfc3,_0x57ff02=_0x41018b[_0x243ee4(0x18e)],_0x48f598=_0x41018b['message'];tgBot[_0x243ee4(0x173)](_0x41018b['id'])[_0x243ee4(0x1f4)](async()=>{const _0x473b1f=_0x243ee4;_0x57ff02=='orders'&&(updateSetting(_0x473b1f(0x137),_0x473b1f(0x100)),updateSetting(_0x473b1f(0x14d),!![]),await tgBot[_0x473b1f(0x1d9)](_0x48f598[_0x473b1f(0x1e9)]['id'],_0x473b1f(0x122))[_0x473b1f(0x136)](_0x2257e=>{telegramError(_0x2257e);}));_0x57ff02=='alerts'&&(updateSetting(_0x473b1f(0x137),_0x473b1f(0x13f)),updateSetting(_0x473b1f(0x14d),!![]),await tgBot[_0x473b1f(0x1d9)](_0x48f598[_0x473b1f(0x1e9)]['id'],'Ok,\x20will\x20send\x20alert\x20notifications\x20only')[_0x473b1f(0x136)](_0xf05800=>{telegramError(_0xf05800);}));_0x57ff02=='all'&&(updateSetting('telegramEvents',_0x473b1f(0x154)),updateSetting(_0x473b1f(0x14d),!![]),await tgBot[_0x473b1f(0x1d9)](_0x48f598['chat']['id'],_0x473b1f(0x1c5))['catch'](_0x16dc05=>{telegramError(_0x16dc05);}));if(!settings[_0x473b1f(0x14f)])tgBot[_0x473b1f(0x1d9)](_0x48f598['chat']['id'],_0x473b1f(0x1e6))[_0x473b1f(0x136)](_0x248110=>{telegramError(_0x248110);});}),tgBot[_0x243ee4(0x1dd)](_0x243ee4(0x1e4));});}),tgBot[_0x5a3b8a(0x1ee)](/\/status/,_0x596f8f=>{const _0x5c4543=_0x5a3b8a;if(!validateTelegram(_0x596f8f))return;let _0x214227=_0x5c4543(0x1aa);config[_0x5c4543(0x115)](_0x3230df=>{const _0x51b870=_0x5c4543;_0x214227+='Bot\x20'+_0x3230df[_0x51b870(0x131)]+'\x20|\x20'+_0x3230df['botname']+':\x20'+_0x3230df['status']+_0x51b870(0x1f5)+_0x3230df[_0x51b870(0x1b3)]+'\x0a';}),_0x214227+='\x0a',_0x214227+='*Telegram\x20bot\x20status:\x0a*',_0x214227+=!settings[_0x5c4543(0x14d)]?_0x5c4543(0x1e8):'Notifications\x20enabled\x0a',_0x214227+=settings[_0x5c4543(0x14d)]?settings[_0x5c4543(0x137)]==_0x5c4543(0x154)?_0x5c4543(0x11d):_0x5c4543(0x1d5)+settings[_0x5c4543(0x137)]+_0x5c4543(0x1f6):'',tgBot[_0x5c4543(0x1d9)](_0x596f8f[_0x5c4543(0x1e9)]['id'],_0x214227,{'parse_mode':_0x5c4543(0x124)})[_0x5c4543(0x136)](_0x3b6e52=>{telegramError(_0x3b6e52);});}),tgBot[_0x5a3b8a(0x1ee)](/\/restart/,_0x4ff8e3=>{const _0x166373=_0x5a3b8a;if(!validateTelegram(_0x4ff8e3))return;tgBot[_0x166373(0x1dd)](_0x166373(0x1e4));const _0x138900=getEnabledBots();if(_0x138900[_0x166373(0x146)]==0x0)tgBot['sendMessage'](_0x4ff8e3[_0x166373(0x1e9)]['id'],_0x166373(0x17c))[_0x166373(0x136)](_0x5d0fbc=>{telegramError(_0x5d0fbc);});else{let _0x2f1bdf=[],_0x5e2e4e=[];const _0x241f7e=_0x138900['length']%0x4==0x0||_0x138900[_0x166373(0x146)]%0x4==0x3||_0x138900[_0x166373(0x146)]%0x3==0x1?0x4:0x3;let _0x4def0e=0x0;_0x138900[_0x166373(0x115)]((_0x5bf702,_0x35a5b5)=>{const _0xa15615=_0x166373;if(_0x35a5b5%_0x241f7e==0x0)_0x5e2e4e=[];_0x5e2e4e['push']({'text':_0xa15615(0x1ba)+_0x5bf702[_0xa15615(0x131)],'callback_data':_0x5bf702[_0xa15615(0x131)]}),_0x35a5b5%_0x241f7e==0x0&&(_0x2f1bdf[_0x4def0e]=_0x5e2e4e,_0x4def0e++);}),tgBot[_0x166373(0x1d9)](_0x4ff8e3[_0x166373(0x1e9)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20restart?',{'reply_markup':{'inline_keyboard':_0x2f1bdf}})[_0x166373(0x136)](_0x22d1e3=>{telegramError(_0x22d1e3);}),tgBot['on'](_0x166373(0x1e4),async _0x584ca4=>{const _0x4fb1b8=_0x166373,_0x202248=_0x584ca4['data'],_0x421669=_0x584ca4[_0x4fb1b8(0x1d1)];tgBot[_0x4fb1b8(0x173)](_0x584ca4['id'])[_0x4fb1b8(0x1f4)](async()=>{const _0x1baa39=_0x4fb1b8;if(settings[_0x1baa39(0x137)]==_0x1baa39(0x100))tgBot['sendMessage'](_0x421669[_0x1baa39(0x1e9)]['id'],'Bot\x20Mgr\x20>\x20restarting\x20Bot\x20'+_0x202248)[_0x1baa39(0x136)](_0xc27b75=>{telegramError(_0xc27b75);});stopBot(_0x202248);}),tgBot[_0x4fb1b8(0x1dd)]('callback_query');});}}),tgBot[_0x5a3b8a(0x1ee)](/\/disable/,_0x3a0d24=>{const _0x291148=_0x5a3b8a;if(!validateTelegram(_0x3a0d24))return;tgBot[_0x291148(0x1d9)](_0x3a0d24[_0x291148(0x1e9)]['id'],_0x291148(0xed))[_0x291148(0x136)](_0x2e6d57=>{telegramError(_0x2e6d57);}),updateSetting(_0x291148(0x14d),![]);}),tgBot[_0x5a3b8a(0x1ee)](/\/help/,_0x58a77e=>{const _0x59ce7b=_0x5a3b8a;if(!validateTelegram(_0x58a77e))return;tgBot[_0x59ce7b(0x1d9)](_0x58a77e[_0x59ce7b(0x1e9)]['id'],_0x3e27c6)[_0x59ce7b(0x136)](_0x7e345c=>{telegramError(_0x7e345c);});}),tgBot['on']('polling_error',_0x6edad5=>{const _0x5cfcda=_0x5a3b8a;if(_0x6edad5['toString']()['includes']('404\x20Not\x20Found')){logging(_0x5cfcda(0x201)),tgBot['stopPolling'](),tgBot=null;if(socket[_0x5cfcda(0x179)])socket[_0x5cfcda(0x179)][_0x5cfcda(0x1bb)]('notification',_0x5cfcda(0x201));}}),process[_0x5a3b8a(0x10b)](_0x5a3b8a(0x1a5),()=>{const _0x482024=_0x5a3b8a;if(tgBot)tgBot['stopPolling']();process[_0x482024(0x10c)](0x1);}),process[_0x5a3b8a(0x10b)](_0x5a3b8a(0x162),()=>{const _0x556731=_0x5a3b8a;if(tgBot)tgBot[_0x556731(0x208)]();process[_0x556731(0x10c)](0x1);});}}function disableTelegram(){const _0x23934d=_0x5ae0af;tgBot&&(tgBot[_0x23934d(0x208)](),tgBot=null);}function sendTelegram(_0x52193b,_0x4ab4c3){const _0x1c7189=_0x5ae0af;if(settings[_0x1c7189(0x14d)]){if(settings[_0x1c7189(0x137)]==_0x1c7189(0x154)||(_0x4ab4c3[_0x1c7189(0x1a9)]==_0x1c7189(0x134)||_0x4ab4c3[_0x1c7189(0x1a9)]==_0x1c7189(0x123))&&settings[_0x1c7189(0x137)]=='alerts'||_0x4ab4c3['type']==_0x1c7189(0x1c3)&&settings['telegramEvents']==_0x1c7189(0x100)){if(tgBot&&settings[_0x1c7189(0x14f)])tgBot[_0x1c7189(0x1d9)](settings[_0x1c7189(0x14f)],_0x1c7189(0x1ba)+_0x52193b+_0x1c7189(0x1e5)+_0x4ab4c3[_0x1c7189(0x174)])[_0x1c7189(0x136)](_0x170a27=>{telegramError(_0x170a27);});}}}function temporaryAccess2FA(_0x4d0e75){const _0x2454a9=_0x5ae0af;tgBot&&settings[_0x2454a9(0x14f)]&&(tgBot[_0x2454a9(0x1dd)](_0x2454a9(0x1e4)),tgBot['sendMessage'](settings['telegramChatId'],_0x2454a9(0x15c)+normalizeIP(_0x4d0e75)[_0x2454a9(0xfb)]+_0x2454a9(0x18c),{'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[[{'text':_0x2454a9(0x13c),'callback_data':'5'},{'text':_0x2454a9(0x1d6),'callback_data':'15'},{'text':_0x2454a9(0x11c),'callback_data':'30'},{'text':_0x2454a9(0x1a0),'callback_data':'reject'}]]}})[_0x2454a9(0x136)](_0x3b2a3c=>{telegramError(_0x3b2a3c);}),tgBot['on'](_0x2454a9(0x1e4),async _0x6c3ae0=>{const _0x1656a1=_0x2454a9,_0x1c7a75=_0x6c3ae0['data'],_0x33c673=_0x6c3ae0[_0x1656a1(0x1d1)];tgBot[_0x1656a1(0x173)](_0x6c3ae0['id'])['then'](async()=>{const _0x238daa=_0x1656a1;if(_0x1c7a75!=_0x238daa(0x1a0)){telegramIpApproval={'clientip':_0x4d0e75,'timestamp':new Date()[_0x238daa(0x1b6)](),'expiry':_0x1c7a75},await tgBot[_0x238daa(0x1d9)](_0x33c673[_0x238daa(0x1e9)]['id'],'Access\x20enabled\x20for\x20'+_0x1c7a75+'\x20minutes',{'parse_mode':_0x238daa(0x124)})[_0x238daa(0x136)](_0x8f3c1e=>{telegramError(_0x8f3c1e);});for(let _0x2c2210 in socket){socket[_0x2c2210]['emit'](_0x238daa(0x1bc),{'access':{'allow':![],'reason':_0x238daa(0x114),'token':null}});}}else await tgBot[_0x238daa(0x1d9)](_0x33c673[_0x238daa(0x1e9)]['id'],_0x238daa(0x192))[_0x238daa(0x136)](_0x426a6e=>{telegramError(_0x426a6e);});}),tgBot[_0x1656a1(0x1dd)](_0x1656a1(0x1e4));}));}function loginAccess2FA(_0xb5b6ff){const _0x4c5365=_0x5ae0af;tgBot&&settings[_0x4c5365(0x14f)]&&(tgBot[_0x4c5365(0x1dd)](_0x4c5365(0x1e4)),tgBot['sendMessage'](settings[_0x4c5365(0x14f)],'Allow\x20login\x20from\x20IP\x20address\x20*'+normalizeIP(_0xb5b6ff)[_0x4c5365(0xfb)]+'*\x20?',{'parse_mode':_0x4c5365(0x124),'reply_markup':{'inline_keyboard':[[{'text':_0x4c5365(0x1ff),'callback_data':loginExpiry},{'text':_0x4c5365(0x1a0),'callback_data':'reject'}]]}})[_0x4c5365(0x136)](_0x2aaa08=>{telegramError(_0x2aaa08);}),tgBot['on'](_0x4c5365(0x1e4),async _0x28ee00=>{const _0xe29a20=_0x4c5365,_0x554eb7=_0x28ee00[_0xe29a20(0x18e)],_0x133b59=_0x28ee00[_0xe29a20(0x1d1)];tgBot['answerCallbackQuery'](_0x28ee00['id'])['then'](async()=>{const _0x3a2a8d=_0xe29a20;if(_0x554eb7!=_0x3a2a8d(0x1a0)){telegram2FaApproval={'clientip':_0xb5b6ff,'timestamp':new Date()[_0x3a2a8d(0x1b6)](),'expiry':_0x554eb7},await tgBot[_0x3a2a8d(0x1d9)](_0x133b59[_0x3a2a8d(0x1e9)]['id'],_0x3a2a8d(0xf8),{'parse_mode':'Markdown'})[_0x3a2a8d(0x136)](_0x14d4a2=>{telegramError(_0x14d4a2);});for(let _0x595198 in socket){socket[_0x595198][_0x3a2a8d(0x1bb)](_0x3a2a8d(0x1bc),{'access':{'allow':![],'reason':_0x3a2a8d(0x114),'token':null}});}}else await tgBot[_0x3a2a8d(0x1d9)](_0x133b59['chat']['id'],'Login\x20rejected')[_0x3a2a8d(0x136)](_0x334485=>{telegramError(_0x334485);});}),tgBot['removeListener'](_0xe29a20(0x1e4));}));}function getConfiguration(){const _0x12d202=_0x5ae0af;return dbConfig['get'](_0x12d202(0x155))[_0x12d202(0x1cc)](_0x12d202(0x131))['value']()||[];}function getEnabledBots(){const _0x42ca60=_0x5ae0af;return dbConfig['get'](_0x42ca60(0x155))[_0x42ca60(0x1cc)](_0x42ca60(0x131))[_0x42ca60(0xef)]({'status':_0x42ca60(0x156)})[_0x42ca60(0x152)]()||[];}function getSettings(){const _0x8dd25e=_0x5ae0af;return dbSettings[_0x8dd25e(0x1ac)]('settings')[_0x8dd25e(0x152)]()||{'timeshift':0x0};}function getSecure(){const _0x564d9a=_0x5ae0af;return dbSecure['get'](_0x564d9a(0x1fa))[_0x564d9a(0x152)]()||{};}function getBlacklist(){const _0x25e18a=_0x5ae0af;return dbSecure['get'](_0x25e18a(0x135))[_0x25e18a(0x152)]()||[];}function broadcastToBots(_0x5cd004,_0x1375e6){config['forEach'](_0x50cd05=>{const _0x76ba65=_0x544b;if(_0x50cd05['status']==_0x76ba65(0x156)&&_0x50cd05[_0x76ba65(0x1b3)]==_0x76ba65(0x14c)){if(pid[_0x50cd05[_0x76ba65(0x131)]])pid[_0x50cd05[_0x76ba65(0x131)]][_0x76ba65(0x15d)]({[_0x5cd004]:_0x1375e6});}});}function storeSettings(_0xb09c08,_0x3bf3a4=![]){const _0x1c5d01=_0x5ae0af;_0xb09c08={...settings,..._0xb09c08};if(_0x3bf3a4&&_0xb09c08[_0x1c5d01(0xfd)]!=_0x1c5d01(0x1a2)&&_0xb09c08[_0x1c5d01(0xfd)]!=''){const _0x5c7260=crypt[_0x1c5d01(0x16d)](secure[_0x1c5d01(0x168)],_0xb09c08[_0x1c5d01(0xfd)])[_0x1c5d01(0x1d1)][_0x1c5d01(0x116)]('@')[0x0],_0x21d07f=bcrypt[_0x1c5d01(0x104)](_0x5c7260,saltRounds);_0xb09c08={..._0xb09c08,'bbPassword':_0x21d07f};}if(_0x3bf3a4&&_0xb09c08['telegramToken']!='************'&&_0xb09c08[_0x1c5d01(0x1a8)]!=''){const _0x2f9875=crypt[_0x1c5d01(0x16d)](secure[_0x1c5d01(0x168)],_0xb09c08[_0x1c5d01(0x1a8)])['message'][_0x1c5d01(0x116)]('@')[0x0];_0xb09c08={..._0xb09c08,'telegramToken':_0x2f9875};}const _0x1a3bfe=_0xb09c08['telegramToken']!=_0x1c5d01(0x1a2)&&_0xb09c08[_0x1c5d01(0x1a8)]!=settings[_0x1c5d01(0x1a8)]||_0xb09c08[_0x1c5d01(0x1be)]!=settings[_0x1c5d01(0x1be)],_0x305a57=_0xb09c08[_0x1c5d01(0x1a8)]==''||_0xb09c08[_0x1c5d01(0x1be)]=='';if(_0x1a3bfe)_0xb09c08[_0x1c5d01(0x137)]=_0x1c5d01(0x154);for(const [_0x4a7de3,_0x17d071]of Object[_0x1c5d01(0xf2)](_0xb09c08)){if(_0x4a7de3==_0x1c5d01(0x1a8)&&_0x17d071=='************'){_0xb09c08[_0x1c5d01(0x1a8)]=settings[_0x1c5d01(0x1a8)];continue;};if(_0x4a7de3==_0x1c5d01(0xfd)&&_0x17d071=='************'){_0xb09c08[_0x1c5d01(0xfd)]=settings[_0x1c5d01(0xfd)];continue;};dbSettings[_0x1c5d01(0x19e)](_0x1c5d01(0x1ca)+_0x4a7de3,_0x17d071)[_0x1c5d01(0x18f)]();}settings=_0xb09c08;if(socket['botmanager'])socket[_0x1c5d01(0x179)][_0x1c5d01(0x1bb)]('settings',cleanSettings());broadcastToBots(_0x1c5d01(0x145),settings[_0x1c5d01(0x145)]);if(_0x1a3bfe&&!_0x305a57)initTelegram();if(_0x1a3bfe&&_0x305a57)disableTelegram();for(let _0xf607ae in socket){setAccess(_0xf607ae);}}function updateSetting(_0x20a998,_0xd2184e){const _0x40a9e3=_0x5ae0af;dbSettings[_0x40a9e3(0x19e)](_0x40a9e3(0x1ca)+_0x20a998,_0xd2184e)[_0x40a9e3(0x18f)](),settings=getSettings();if(socket[_0x40a9e3(0x179)])socket[_0x40a9e3(0x179)][_0x40a9e3(0x1bb)](_0x40a9e3(0x12f),cleanSettings());}function _0x41aa(){const _0x2fa611=['store-configuration','toString','removeAllListeners','settings','::1','botID','/:bot/support','randomBytes','error','blacklist','catch','telegramEvents','enabled\x20Bot\x20','inherit','emitHistory','-performance.json','5\x20min','Notifications\x20enabled','analytics','alerts','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','2FA\x20login\x20required','clientip','padStart','toIPv4MappedAddress','timeshift','length','expiry','ipc','reason','yes','1000','running','telegramEnabled','/:bot/portfolio','telegramChatId','get-starting-balances','crypto','value','Unauthorized\x20attempt\x20to\x20get\x20portfolio','all','bots','enabled','isIPv4MappedAddress','publicKey','getDate','307050LUeIvY','getFullYear','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20*','send','/:bot/configuration','Balance\x20Bot\x20Server','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','1539039AKZbml','SIGTERM','update-bot','3135099yswVJM','Unauthorized\x20attempt\x20to\x20update\x20bot','encryptedUuid','verify','privateKey','whitelist','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20*personal*\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','timestamp','244YCzwSZ','decrypt','loginRequired','hybrid-crypto-js','secret','generateKeyPairAsync','Invalid\x20authentication\x20token\x20(2)','answerCallbackQuery','event','join','/restart\x20-\x20restart\x20a\x20bot\x0a','Invalid\x20IP\x20address','2FA','botmanager','restarting\x20Bot\x20','socket.io','No\x20bots\x20enabled\x20right\x20now','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','static','child_process','referer','use','20rXPuEI','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','f2aRequired','getUTCHours','/enable\x20-\x20enable\x20notifications\x0a','store','bb/','2538QyqDNO',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','node-telegram-bot-api','*\x20?','stopped','data','write','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','RSA','Temporary\x20access\x20rejected','path','default','-events.json','match','/:bot/performance','No\x20authentication\x20token','conn','connection','bot-','login','disabled','set','initclient','reject','password','************','Invalid\x20authentication\x20token\x20(1)','@analytics/google-analytics','SIGINT','remove','disabled\x20Bot\x20','telegramToken','type','*Balance\x20Bot\x20status:*\x0a','::ffff:127.0.0.1','get','Invalid\x20username\x20or\x20IP\x20address','args','max','connected','sign','storeHeadless','live','function','get-logs','getTime','login\x20not\x20required','getMinutes','Unauthorized\x20attempt\x20to\x20delete\x20bot','Bot\x20','emit','status','lowdb','telegramUsername','exp','Orders','build2','6dsTIjc','order','username','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','ipv6','market-order','temporary\x20token\x20generated','version','settings.','login\x20token\x20generated','sortBy','build','/disable\x20-\x20disable\x20notifications\x0a','/help\x20-\x20show\x20avaiable\x20commands\x0a','reset-password','message','handshake','error\x20while\x20deleting\x20log\x20files:\x20','version.json','Notifications\x20types:\x20','15\x20min','bb-secure.json','Token\x20blacklisted','sendMessage','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','Unauthorized\x20attempt\x20to\x20store\x20configuration','push','removeListener','map','getMonth','starting\x20bot\x20|\x20Bot\x20','RSA-OAEP','3032taAWEN','starting','callback_query','\x20>\x20','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','unlinkSync','Notifications\x20disabled\x0a','chat','auth','2FA\x20login\x20token\x20generated','new-disabled','existsSync','onText','assign','defaults','2FA\x20required','https://hodlerhacks.com','logout','then','\x20/\x20','\x20only\x0a','27205JTjtKa','Balance\x20Bot','find','secure','apiKey','bbUsername','getHours','mkdirSync','accept','bcryptjs','Invalid\x20Telegram\x20token','allow','createServer','-config.json','store-settings','All','4685002HpxoSK','stopPolling','placeMarketOrder','Bot\x20Mgr\x20>\x20','jsonwebtoken','Notifications\x20disabled','from','filter','botname','whitelistEnabled','entries','hasOwnProperty','logged\x20out','page','token','remoteAddress','Login\x20accepted','login\x20required','log','show','sendFile','bbPassword','/:bot/coins','724651NdBJma','orders','new','lowdb/adapters/FileSync','bot.js','hashSync','http','kind','search','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','cloneDeep','parse','once','exit','kill','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','config/','index.html','Unauthorized\x20attempt\x20to\x20add\x20bot','Alerts','get-portfolio','reload','forEach','split','127.0.0.1','randomFillSync','compareSync','add-bot','invalid\x20credentials','30\x20min','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','isValid','storeConfiguration','fork','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','Ok,\x20will\x20send\x20order\x20notifications\x20only','success','Markdown','temporaryAccessAllowed','\x20|\x20','telegram','access\x20timeout','env','/:bot/history','idling\x20bot\x20\x20\x20|\x20Bot\x20'];_0x41aa=function(){return _0x2fa611;};return _0x41aa();}function storeSecure(_0x37266d){const _0x4873ed=_0x5ae0af;dbSecure[_0x4873ed(0x1ac)]('secure')[_0x4873ed(0x1dc)](_0x37266d)[_0x4873ed(0x18f)](),secure=_0x37266d;}function addBlacklist(){const _0x1d3c39=_0x5ae0af;cleanBlacklist();let _0x4b6659;telegramIpApproval?_0x4b6659=Math[_0x1d3c39(0x1af)](telegramIpApproval[_0x1d3c39(0x147)],loginExpiry):_0x4b6659=loginExpiry,dbSecure[_0x1d3c39(0x1ac)](_0x1d3c39(0x135))[_0x1d3c39(0x1dc)]({'expiry':new Date()[_0x1d3c39(0x1b6)]()+_0x4b6659*0x3c*0x3e8,'token':token})[_0x1d3c39(0x18f)](),blacklist=dbSecure[_0x1d3c39(0x1ac)]('blacklist')[_0x1d3c39(0x152)]();}function cleanBlacklist(){const _0x1b762d=_0x5ae0af;let _0x465adf=dbSecure[_0x1b762d(0x1ac)](_0x1b762d(0x135))[_0x1b762d(0x109)]()[_0x1b762d(0x152)](),_0x518681=new Date()[_0x1b762d(0x1b6)]();_0x465adf['forEach'](_0x18e908=>{const _0x35a6da=_0x1b762d;_0x18e908[_0x35a6da(0x147)]<_0x518681&&dbSecure[_0x35a6da(0x1ac)](_0x35a6da(0x135))[_0x35a6da(0x1a6)]({'expiry':_0x18e908[_0x35a6da(0x147)]})['write']();});}function initStates(){const _0x392f44=_0x5ae0af;let _0x5c012d=getConfiguration();_0x5c012d[_0x392f44(0x115)](_0x5a7a94=>{const _0x10f0f5=_0x392f44;_0x5a7a94[_0x10f0f5(0x1b3)]=_0x10f0f5(0x18d);}),storeConfiguration(_0x5c012d);}function onKeys(){const _0x272973=new RSA();return new Promise(_0x517a89=>{const _0x28bdbd=_0x544b;_0x272973[_0x28bdbd(0x171)]()[_0x28bdbd(0x1f4)](_0x2e7e47=>{_0x517a89(_0x2e7e47);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x39a86d=_0x5ae0af;let _0x1b6df7=getConfiguration(),_0x26eeba=![];_0x1b6df7[_0x39a86d(0x115)](_0x58883d=>{const _0x1d1b8f=_0x39a86d;if(_0x58883d[_0x1d1b8f(0x1bc)]==_0x1d1b8f(0x14c))_0x58883d[_0x1d1b8f(0x1bc)]=_0x1d1b8f(0x156),_0x26eeba=!![];else _0x58883d['status']==_0x1d1b8f(0x18d)&&(_0x58883d['status']=_0x1d1b8f(0x19d),_0x26eeba=!![]);});if(_0x26eeba)storeConfiguration(_0x1b6df7);let _0x41dc87=getSecure();if(!_0x41dc87[_0x39a86d(0xf3)](_0x39a86d(0x170))){let _0xd5ba22=await generateKeys();_0x41dc87[_0x39a86d(0x158)]=_0xd5ba22[_0x39a86d(0x158)],_0x41dc87[_0x39a86d(0x168)]=_0xd5ba22[_0x39a86d(0x168)],_0x41dc87[_0x39a86d(0x170)]=crypto[_0x39a86d(0x133)](0x20)[_0x39a86d(0x12d)]('hex');;storeSecure(_0x41dc87);}let _0x1e7765=getSettings();_0x26eeba=![];!_0x1e7765[_0x39a86d(0xf3)](_0x39a86d(0x16e))&&(_0x1e7765[_0x39a86d(0x16e)]=![],_0x1e7765[_0x39a86d(0x1fc)]='',_0x1e7765[_0x39a86d(0xfd)]='',_0x1e7765[_0x39a86d(0x184)]=![],_0x26eeba=!![]);!_0x1e7765['hasOwnProperty'](_0x39a86d(0xf1))&&(_0x1e7765[_0x39a86d(0xf1)]=![],_0x1e7765[_0x39a86d(0x169)]=[],_0x1e7765[_0x39a86d(0x125)]=![],_0x26eeba=!![]);if(!_0x1e7765['hasOwnProperty']('telegramEnabled')){if(_0x1e7765['telegramChatId'])_0x1e7765[_0x39a86d(0x14d)]=!![];else _0x1e7765[_0x39a86d(0x14d)]=![];_0x26eeba=!![];}if(_0x26eeba)storeSettings(_0x1e7765);}function storeConfiguration(_0x103dff){const _0x2e5c6a=_0x5ae0af;dbConfig['get'](_0x2e5c6a(0x155))['remove']()[_0x2e5c6a(0x18f)](),dbConfig[_0x2e5c6a(0x1ac)](_0x2e5c6a(0x155))[_0x2e5c6a(0x1dc)](..._0x103dff)['write'](),config=_0x103dff;}function resetPassword(){const _0x388705=_0x5ae0af;tgBot&&settings[_0x388705(0x14f)]&&(tgBot[_0x388705(0x1dd)](_0x388705(0x1e4)),tgBot['sendMessage'](settings['telegramChatId'],_0x388705(0x17d),{'parse_mode':_0x388705(0x124),'reply_markup':{'inline_keyboard':[[{'text':_0x388705(0x14a),'callback_data':'yes'},{'text':'no','callback_data':'no'}]]}})[_0x388705(0x136)](_0x45060f=>{telegramError(_0x45060f);}),tgBot['on'](_0x388705(0x1e4),async _0x5abae1=>{const _0xd587b4=_0x388705,_0x5abf99=_0x5abae1[_0xd587b4(0x18e)],_0x27214a=_0x5abae1[_0xd587b4(0x1d1)];tgBot[_0xd587b4(0x173)](_0x5abae1['id'])[_0xd587b4(0x1f4)](async()=>{const _0x32fec5=_0xd587b4;if(_0x5abf99!='no'){const _0x54552d=0xf,_0x261e0a='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$',_0x2b9a77=Array['from'](crypto[_0x32fec5(0x118)](new Uint32Array(_0x54552d)))[_0x32fec5(0x1de)](_0x592c74=>_0x261e0a[_0x592c74%_0x261e0a[_0x32fec5(0x146)]])['join'](''),_0x4f9265=bcrypt[_0x32fec5(0x104)](_0x2b9a77,saltRounds);storeSettings({'bbPassword':_0x4f9265}),await tgBot['sendMessage'](_0x27214a['chat']['id'],'Password\x20has\x20been\x20reset\x20to:\x20'+_0x2b9a77,{'parse_mode':'Markdown'})['catch'](_0x29ccda=>{telegramError(_0x29ccda);});}else await tgBot[_0x32fec5(0x1d9)](_0x27214a[_0x32fec5(0x1e9)]['id'],'Password\x20reset\x20rejected')[_0x32fec5(0x136)](_0x390b29=>{telegramError(_0x390b29);});}),tgBot['removeListener'](_0xd587b4(0x1e4));}));}function logging(_0x2ee0cb){const _0x5a6166=_0x5ae0af;console[_0x5a6166(0xfa)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x2ee0cb);if(tgBot&&settings[_0x5a6166(0x14f)]&&settings[_0x5a6166(0x137)]!=_0x5a6166(0x100))tgBot['sendMessage'](settings[_0x5a6166(0x14f)],_0x5a6166(0x20a)+_0x2ee0cb)['catch'](_0x444a96=>{telegramError(_0x444a96);});}function getServerTime(){const _0x51d7e3=_0x5ae0af,_0x128b34=new Date();return _0x128b34[_0x51d7e3(0x15b)]()+'/'+(_0x128b34[_0x51d7e3(0x1df)]()+0x1)[_0x51d7e3(0x12d)]()[_0x51d7e3(0x143)](0x2,'0')+'/'+_0x128b34[_0x51d7e3(0x159)]()['toString']()[_0x51d7e3(0x143)](0x2,'0')+'\x20'+_0x128b34[_0x51d7e3(0x1fd)]()[_0x51d7e3(0x12d)]()['padStart'](0x2,'0')+':'+_0x128b34[_0x51d7e3(0x1b8)]()['toString']()[_0x51d7e3(0x143)](0x2,'0')+':'+_0x128b34['getSeconds']()[_0x51d7e3(0x12d)]()[_0x51d7e3(0x143)](0x2,'0');}function getTimeStamp(){const _0x40d822=_0x5ae0af,_0x2c1c87=shiftedTime();return _0x2c1c87[_0x40d822(0x15b)]()+'/'+(_0x2c1c87['getMonth']()+0x1)[_0x40d822(0x12d)]()[_0x40d822(0x143)](0x2,'0')+'/'+_0x2c1c87[_0x40d822(0x159)]()['toString']()[_0x40d822(0x143)](0x2,'0')+'\x20'+_0x2c1c87['getHours']()[_0x40d822(0x12d)]()[_0x40d822(0x143)](0x2,'0')+':'+_0x2c1c87[_0x40d822(0x1b8)]()[_0x40d822(0x12d)]()[_0x40d822(0x143)](0x2,'0')+':'+_0x2c1c87['getSeconds']()[_0x40d822(0x12d)]()[_0x40d822(0x143)](0x2,'0');}function shiftedTime(){const _0x5bf6d2=_0x5ae0af,_0x51fbd0=new Date();let _0x4152ca=_0x51fbd0;if(settings[_0x5bf6d2(0x145)]&&settings[_0x5bf6d2(0x145)]!==0x0)_0x4152ca=fns['add'](_0x51fbd0,{'hours':settings[_0x5bf6d2(0x145)]});return _0x4152ca;}function startAnalytics(){const _0xa96fed=_0x5ae0af;let _0xb4554d=new Date()[_0xa96fed(0x185)]();_0xb4554d==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x9696d2=_0x5ae0af;analytics[_0x9696d2(0xf5)]({'title':_0x9696d2(0x15f),'href':_0x9696d2(0x1f2),'path':'/v'+serverversion});}function validateCredentials(_0x10dc15){const _0x8eebfe=_0x5ae0af;if(_0x10dc15[_0x8eebfe(0x1c4)]==settings[_0x8eebfe(0x1fc)]&&bcrypt[_0x8eebfe(0x119)](_0x10dc15[_0x8eebfe(0x1a1)],settings[_0x8eebfe(0xfd)])){if(settings['f2aRequired'])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x530ded=generateLoginToken();return{'allow':!![],'reason':_0x8eebfe(0x1cb),'token':_0x530ded};}}else return{'allow':![],'reason':_0x8eebfe(0x11b),'token':null};}function refreshToken(){const _0x179f47=_0x5ae0af,_0x514ad0=generateLoginToken();return{'allow':!![],'reason':_0x179f47(0x1cb),'token':_0x514ad0};}function validateAccess(_0x399c16){const _0x3e1898=_0x5ae0af;let _0x157724;const _0x16d2ad=_0x47c0df=>{const _0x2ba75a=_0x544b;if(settings[_0x2ba75a(0x16e)]){if(settings[_0x2ba75a(0x184)]){if(telegram2FaApproved()){const _0x44074d=generateLoginToken();return{'allow':!![],'reason':_0x2ba75a(0x1eb),'token':_0x44074d};}else return{'allow':![],'reason':_0x2ba75a(0x141),'token':null};}else return _0x157724=validToken(_0x47c0df),_0x157724['hasOwnProperty'](_0x2ba75a(0x123))?{'allow':!![],'reason':'login\x20token\x20valid','token':_0x47c0df}:{'allow':![],'reason':'login\x20required','token':null};}else return{'allow':!![],'reason':'login\x20not\x20required','token':null};};if(settings[_0x3e1898(0xf1)]){let _0x4cd06b=[...settings['whitelist'],_0x3e1898(0x130),_0x3e1898(0x1ab),_0x3e1898(0x117)];if(_0x4cd06b['includes'](externalip))return _0x16d2ad(_0x399c16);else{_0x157724=validToken(_0x399c16);if(_0x157724['hasOwnProperty']('success'))return _0x16d2ad(_0x399c16);else{if(telegramIpApproved()){const _0x5e8220=generateToken();return _0x157724=_0x16d2ad(_0x399c16),_0x157724[_0x3e1898(0x202)]?{'allow':!![],'reason':_0x3e1898(0x1c8),'token':_0x5e8220}:_0x157724;}else return settings[_0x3e1898(0x125)]?{'allow':![],'reason':_0x3e1898(0x1f1),'token':null}:{'allow':![],'reason':'temporary\x20access\x20not\x20allowed','token':null};}}}else return _0x16d2ad(_0x399c16);}function timelyDecrypt(_0x63af59,_0x5096a6=!![]){const _0x531fb4=_0x5ae0af;if(_0x63af59)try{const _0x4f689c=crypt['decrypt'](secure[_0x531fb4(0x168)],_0x63af59)[_0x531fb4(0x1d1)],_0x2995f4=_0x4f689c[_0x531fb4(0x116)]('@')[0x0],_0x368c37=_0x4f689c[_0x531fb4(0x116)]('@')[0x1],_0x3de221=new Date()[_0x531fb4(0x1b6)]();if(_0x5096a6){if(_0x3de221-_0x368c37<maxSecretAge*0x3e8)return _0x2995f4;else return![];}else return _0x2995f4;}catch{return![];}else return![];}const validToken=_0x3b5baf=>{const _0x48922e=_0x5ae0af;if(!_0x3b5baf)return{'error':_0x48922e(0x198)};for(let _0x1b62c1 of blacklist){if(_0x1b62c1[_0x48922e(0xf6)]==_0x3b5baf)return{'error':_0x48922e(0x1d8)};}let _0x536982;try{_0x536982=jwt[_0x48922e(0x167)](_0x3b5baf,secure[_0x48922e(0x170)]+uuid);}catch{return{'error':_0x48922e(0x1a3)};}if(!_0x536982[_0x48922e(0xf3)](_0x48922e(0x142))&&!_0x536982[_0x48922e(0xf3)](_0x48922e(0x1c4))||!_0x536982[_0x48922e(0xf3)](_0x48922e(0x1bf)))return{'error':_0x48922e(0x172)};if(!_0x536982[_0x48922e(0xf3)](_0x48922e(0x1c4))&&_0x536982[_0x48922e(0xf3)](_0x48922e(0x142))){const {clientip:_0xee0386}=_0x536982;return externalip==_0xee0386?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x48922e(0x177)};}else{if(_0x536982[_0x48922e(0xf3)]('username')&&_0x536982['hasOwnProperty'](_0x48922e(0x142))){const {username:_0x25cc5d,clientip:_0x28c141}=_0x536982;return settings['bbUsername']==_0x25cc5d&&externalip==_0x28c141?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x48922e(0x1ad)};}}},generateLoginToken=()=>{const _0xa9f1c5=_0x5ae0af;if(uuid)return jwt[_0xa9f1c5(0x1b1)]({'username':settings[_0xa9f1c5(0x1fc)],'clientip':externalip},secure['secret']+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x277cda=_0x5ae0af;if(uuid)return jwt['sign']({'clientip':externalip},secure[_0x277cda(0x170)]+uuid,{'expiresIn':telegramIpApproval[_0x277cda(0x147)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x1f1bff=_0x5ae0af;let _0xb4015b=![];return telegramIpApproval&&telegramIpApproval[_0x1f1bff(0x147)]!=_0x1f1bff(0x1a0)&&(_0xb4015b=telegramIpApproval[_0x1f1bff(0x142)]==externalip&&new Date()[_0x1f1bff(0x1b6)]()-telegramIpApproval[_0x1f1bff(0x16b)]<telegramIpApproval[_0x1f1bff(0x147)]*0x3c*0x3e8),_0xb4015b;},telegram2FaApproved=()=>{const _0x332415=_0x5ae0af;let _0x3df102=![];return telegram2FaApproval&&telegram2FaApproval[_0x332415(0x147)]!=_0x332415(0x1a0)&&(_0x3df102=telegram2FaApproval['clientip']==externalip&&new Date()[_0x332415(0x1b6)]()-telegram2FaApproval[_0x332415(0x16b)]<telegram2FaApproval['expiry']*0x3c*0x3e8),_0x3df102;},normalizeIP=_0x30e286=>{const _0x1d943d=_0x5ae0af;let _0x375aee=null,_0x3a337c=null;if(ipaddr[_0x1d943d(0x11e)](_0x30e286)){const _0x491412=ipaddr[_0x1d943d(0x10a)](_0x30e286);_0x491412[_0x1d943d(0x106)]()===_0x1d943d(0x1c6)?(_0x491412[_0x1d943d(0x157)]()&&(_0x375aee=_0x491412['toIPv4Address']()[_0x1d943d(0x12d)]()),_0x3a337c=_0x491412[_0x1d943d(0x12d)]()):(_0x375aee=_0x491412[_0x1d943d(0x12d)](),_0x3a337c=_0x491412[_0x1d943d(0x144)]()[_0x1d943d(0x12d)]());}return{'show':_0x375aee?_0x375aee:_0x3a337c,'store':_0x3a337c};};