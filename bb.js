const _0x497049=_0x6879;(function(_0x1f28ac,_0x55b6f3){const _0x4332b0=_0x6879,_0x4d276e=_0x1f28ac();while(!![]){try{const _0x92383e=parseInt(_0x4332b0(0x97))/0x1+-parseInt(_0x4332b0(0x89))/0x2*(parseInt(_0x4332b0(0x9b))/0x3)+parseInt(_0x4332b0(0x98))/0x4+-parseInt(_0x4332b0(0xa4))/0x5+parseInt(_0x4332b0(0x7f))/0x6*(-parseInt(_0x4332b0(0xa3))/0x7)+parseInt(_0x4332b0(0xa2))/0x8*(-parseInt(_0x4332b0(0x85))/0x9)+parseInt(_0x4332b0(0x8d))/0xa;if(_0x92383e===_0x55b6f3)break;else _0x4d276e['push'](_0x4d276e['shift']());}catch(_0x115b43){_0x4d276e['push'](_0x4d276e['shift']());}}}(_0x4d54,0x803e8));const _0x17ffc6=function(){let _0x40bf57=!![];return function(_0x1e0219,_0x4d75ab){const _0x45e89b=_0x40bf57?function(){const _0x302fe6=_0x6879;if(_0x4d75ab){const _0x1cc1dc=_0x4d75ab[_0x302fe6(0x92)](_0x1e0219,arguments);return _0x4d75ab=null,_0x1cc1dc;}}:function(){};return _0x40bf57=![],_0x45e89b;};}(),_0x527f10=_0x17ffc6(this,function(){const _0x46b990=_0x6879;return _0x527f10['toString']()[_0x46b990(0xa5)](_0x46b990(0xa7))['toString']()[_0x46b990(0x81)](_0x527f10)[_0x46b990(0xa5)](_0x46b990(0xa7));});_0x527f10();function _0x4d54(){const _0x200654=['message','install.js','1822476VghqAJ','reinstall','constructor','bm.js','keys','Unexpected\x20error:','3303xiRlWX','argv','kill','log','6gZNnOk','--host','restore','\x20or\x20above\x20is\x20required','9138870BCTdsA','The\x20installed\x20Node.js\x20version\x20is\x20','fork','exit','child_process','apply','ipc','inherit','-----------------------------------------------------------------------------------','Error\x20while\x20updating\x20Balance\x20Bot:','646182sHRnOW','980860iFdDVE','slice','existsSync','279297auMEdu','port','SIGTERM','user','staging','Balance\x20Bot\x20>\x20',',\x20must\x20be\x20a\x204\x20digit\x20number','9224uHPlOM','7ftiafD','1369010pwEJNO','search','host','(((.+)+)+)+$','split',',\x20but\x20version\x20','bb/','error','push','--user'];_0x4d54=function(){return _0x200654;};return _0x4d54();}const fs=require('fs'),argv=require('yargs/yargs')(process[_0x497049(0x86)][_0x497049(0x99)](0x2))[_0x497049(0x86)],childProcess=require(_0x497049(0x91)),nodeversion=process['versions']['node'],minversion=0x10;nodeversion[_0x497049(0xa8)]('.')[0x0]<minversion&&(console[_0x497049(0x88)](),console['log'](_0x497049(0x95)),console[_0x497049(0x88)](_0x497049(0x8e)+nodeversion+_0x497049(0xa9)+minversion+_0x497049(0x8c)),console[_0x497049(0x88)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x497049(0x88)]('-----------------------------------------------------------------------------------'),console[_0x497049(0x88)](),process[_0x497049(0x90)](0x1));function _0x6879(_0x3cabac,_0x338a50){const _0x53b7a7=_0x4d54();return _0x6879=function(_0x527f10,_0x17ffc6){_0x527f10=_0x527f10-0x7d;let _0x4d545a=_0x53b7a7[_0x527f10];return _0x4d545a;},_0x6879(_0x3cabac,_0x338a50);}if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv['port'])&&(console['log']('Error:\x20Invalid\x20argument\x20'+argv[_0x497049(0x9c)]+_0x497049(0xa1)),process['exit'](0x1));}let args=[];argv['port']&&(args['push']('--port'),args[_0x497049(0xac)](argv['port']));argv[_0x497049(0xa6)]&&(args[_0x497049(0xac)](_0x497049(0x8a)),args['push'](argv[_0x497049(0xa6)]));argv[_0x497049(0x9e)]&&(args[_0x497049(0xac)](_0x497049(0xad)),args[_0x497049(0xac)](argv[_0x497049(0x9e)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args['push']('-d');let bmpath=_0x497049(0xaa);const bmfile=_0x497049(0x82),updatefile=_0x497049(0x7e);!fs[_0x497049(0x9a)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on']('exit',async()=>{const _0x41f4b1=_0x497049;stopBM(),await sleep(0x3e8),process[_0x41f4b1(0x90)](0x0);}),process['on'](_0x497049(0x9d),async()=>{stopBM(),await sleep(0x3e8),process['exit'](0x0);}),process['on']('SIGINT',async()=>{const _0x4521ea=_0x497049;stopBM(),await sleep(0x3e8),process[_0x4521ea(0x90)](0x0);}),startBM();function startBM(){const _0x4d8d5d=_0x497049;let _0xddf376=![];const _0x56e39f={'cwd':'','stdio':[_0x4d8d5d(0x94),_0x4d8d5d(0x94),_0x4d8d5d(0x94),_0x4d8d5d(0x93)]};pid1=childProcess[_0x4d8d5d(0x8f)](bmpath+bmfile,args,_0x56e39f),pid1['on'](_0x4d8d5d(0x7d),_0x3891b0=>{const _0x3ff955=_0x4d8d5d,_0x265397=Object['values'](_0x3891b0)[0x1]==_0x3ff955(0x9f);switch(Object[_0x3ff955(0x83)](_0x3891b0)[0x0]){case'update':if(_0x265397)startUpdate('2s');else startUpdate('2');break;case _0x3ff955(0x80):if(_0x265397)startUpdate('3s');else startUpdate('3');break;case _0x3ff955(0x8b):handleRestore();break;}}),pid1['on'](_0x4d8d5d(0xab),function(_0x7e1e19){const _0x19f99e=_0x4d8d5d;if(_0xddf376)return;_0xddf376=!![],logging(_0x19f99e(0x84),_0x7e1e19);}),pid1['on'](_0x4d8d5d(0x90),function(_0x18c500){const _0x570fa8=_0x4d8d5d;if(terminating)return;if(updating)return;if(_0xddf376)return;_0xddf376=!![],console[_0x570fa8(0x88)]('Automatically\x20restarting\x20BM'),startBM();});}function stopBM(){const _0x3c1cfa=_0x497049;terminating=!![];if(pid1)pid1[_0x3c1cfa(0x87)]();pid1=null;}function startUpdate(_0x269df4){const _0x39fa49=_0x497049;updating=!![],stopBM();let _0x516e43=![];const _0x5ae4b5={'cwd':'','stdio':['inherit','inherit',_0x39fa49(0x94),_0x39fa49(0x93)]};let _0x4d7eb5=[];if(staging)_0x4d7eb5[_0x39fa49(0xac)](_0x269df4+'s');else _0x4d7eb5[_0x39fa49(0xac)](_0x269df4);pid2=childProcess[_0x39fa49(0x8f)](updatefile,_0x4d7eb5,_0x5ae4b5),pid2['on']('error',function(_0x236ba8){const _0x2de716=_0x39fa49;updating=![];if(_0x516e43)return;_0x516e43=!![],logging(_0x2de716(0x96),_0x236ba8);}),pid2['on'](_0x39fa49(0x90),function(_0x4d4449){updating=![];if(_0x516e43)return;_0x516e43=!![],terminating=![],startBM();});}function handleRestore(){const _0x321afb=_0x497049;if(pid1)pid1[_0x321afb(0x87)]();}function logging(_0x31756c){const _0x35ac63=_0x497049;console['log'](_0x35ac63(0xa0)+_0x31756c);}function sleep(_0x1c667a){return new Promise(_0x37b563=>setTimeout(_0x37b563,_0x1c667a));}