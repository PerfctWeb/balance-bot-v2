const _0x104968=_0x290c;function _0x3d76(){const _0x344a5c=['198840unKItR','versions','keys','ipc','node','1034dzPAmF','test','log','Process\x20exit','Automatically\x20restarting\x20BM','--user','224CmDzhB','exit','child_process','461836flMHYY','98UFrWZA','-----------------------------------------------------------------------------------','Error:\x20Invalid\x20argument\x20','message','kill','6rGeKlC','search','fork','apply','argv','install.js','inherit','1900575yxrYlK','error','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','toString',',\x20but\x20version\x20','user',',\x20must\x20be\x20a\x204\x20digit\x20number','port','The\x20installed\x20Node.js\x20version\x20is\x20','slice','Starting\x20update','(((.+)+)+)+$','constructor','restore','bb/','8663IlBOYU','--host','7UrFSUx','values','update','52668gRrxUR','2745102lmNtYh','305670GNQyLu','host','Process\x20SIGINT','push'];_0x3d76=function(){return _0x344a5c;};return _0x3d76();}(function(_0x42c439,_0x3b371d){const _0x2304b3=_0x290c,_0x1453c3=_0x42c439();while(!![]){try{const _0x1c931a=parseInt(_0x2304b3(0x1ae))/0x1*(-parseInt(_0x2304b3(0x193))/0x2)+-parseInt(_0x2304b3(0x198))/0x3*(parseInt(_0x2304b3(0x192))/0x4)+-parseInt(_0x2304b3(0x19f))/0x5+parseInt(_0x2304b3(0x17f))/0x6*(-parseInt(_0x2304b3(0x1b0))/0x7)+-parseInt(_0x2304b3(0x18f))/0x8*(-parseInt(_0x2304b3(0x1b3))/0x9)+parseInt(_0x2304b3(0x180))/0xa+parseInt(_0x2304b3(0x189))/0xb*(parseInt(_0x2304b3(0x184))/0xc);if(_0x1c931a===_0x3b371d)break;else _0x1453c3['push'](_0x1453c3['shift']());}catch(_0x1895ca){_0x1453c3['push'](_0x1453c3['shift']());}}}(_0x3d76,0x3f396));const fs=require('fs'),argv=require('yargs/yargs')(process[_0x104968(0x19c)][_0x104968(0x1a8)](0x2))[_0x104968(0x19c)],childProcess=require(_0x104968(0x191)),nodeversion=process[_0x104968(0x185)][_0x104968(0x188)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console['log'](),console[_0x104968(0x18b)]('-----------------------------------------------------------------------------------'),console[_0x104968(0x18b)](_0x104968(0x1a7)+nodeversion+_0x104968(0x1a3)+minversion+'\x20or\x20above\x20is\x20required'),console[_0x104968(0x18b)](_0x104968(0x1a1)),console[_0x104968(0x18b)](_0x104968(0x194)),console[_0x104968(0x18b)](),process['exit'](0x1));if(argv[_0x104968(0x1a6)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x104968(0x18a)](argv[_0x104968(0x1a6)])&&(console[_0x104968(0x18b)](_0x104968(0x195)+argv['port']+_0x104968(0x1a5)),process[_0x104968(0x190)](0x1));}let args=[];argv[_0x104968(0x1a6)]&&(args[_0x104968(0x183)]('--port'),args[_0x104968(0x183)](argv['port']));argv[_0x104968(0x181)]&&(args['push'](_0x104968(0x1af)),args[_0x104968(0x183)](argv['host']));argv[_0x104968(0x1a4)]&&(args[_0x104968(0x183)](_0x104968(0x18e)),args[_0x104968(0x183)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x104968(0x183)]('-d');let bmpath=_0x104968(0x1ad);function _0x290c(_0x244923,_0x3ba0f9){const _0x1ff134=_0x3d76();return _0x290c=function(_0x47d7fd,_0x309f99){_0x47d7fd=_0x47d7fd-0x17f;let _0x3d76e6=_0x1ff134[_0x47d7fd];return _0x3d76e6;},_0x290c(_0x244923,_0x3ba0f9);}const bmfile='bm.js',updatefile=_0x104968(0x19d);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x104968(0x190),()=>{const _0x591987=_0x104968;stopBM(_0x591987(0x18c));}),process['on']('SIGINT',()=>{const _0x295e93=_0x104968;stopBM(_0x295e93(0x182));}),startBM();function startBM(){const _0x184e8f=_0x104968,_0x36b3d0=function(){let _0x218e77=!![];return function(_0x3e6c86,_0xfe4aac){const _0x1eedb9=_0x218e77?function(){const _0x38034c=_0x290c;if(_0xfe4aac){const _0x11ba3b=_0xfe4aac[_0x38034c(0x19b)](_0x3e6c86,arguments);return _0xfe4aac=null,_0x11ba3b;}}:function(){};return _0x218e77=![],_0x1eedb9;};}(),_0x8d93fa=_0x36b3d0(this,function(){const _0x237c9a=_0x290c;return _0x8d93fa[_0x237c9a(0x1a2)]()[_0x237c9a(0x199)]('(((.+)+)+)+$')['toString']()[_0x237c9a(0x1ab)](_0x8d93fa)[_0x237c9a(0x199)](_0x237c9a(0x1aa));});_0x8d93fa();let _0x5e0ee7=![];const _0x3e8bb2={'cwd':'','stdio':['inherit','inherit','inherit','ipc']};pid1=childProcess[_0x184e8f(0x19a)](bmpath+bmfile,args,_0x3e8bb2),pid1['on'](_0x184e8f(0x196),_0x385efe=>{const _0x129d35=_0x184e8f,_0x401a2f=Object[_0x129d35(0x1b1)](_0x385efe)[0x1]=='staging';switch(Object[_0x129d35(0x186)](_0x385efe)[0x0]){case _0x129d35(0x1b2):if(_0x401a2f)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x401a2f)startUpdate('3s');else startUpdate('3');break;case _0x129d35(0x1ac):handleRestore();break;}}),pid1['on'](_0x184e8f(0x1a0),function(_0x42de27){if(_0x5e0ee7)return;_0x5e0ee7=!![],logging('Unexpected\x20error:',_0x42de27);}),pid1['on'](_0x184e8f(0x190),function(_0x554af2){const _0xc7e4e3=_0x184e8f;if(terminating)return;if(updating)return;if(_0x5e0ee7)return;_0x5e0ee7=!![],console['log'](_0xc7e4e3(0x18d)),startBM();});}function stopBM(_0x514dc0){const _0x5035f9=_0x104968;console[_0x5035f9(0x18b)](_0x514dc0+'\x20-\x20stopping\x20BM'),terminating=!![];if(pid1)pid1[_0x5035f9(0x197)]();pid1=null;}function startUpdate(_0x5580c4){const _0x43bd9b=_0x104968;updating=!![],stopBM(_0x43bd9b(0x1a9));let _0x5822a1=![];const _0x90f398={'cwd':'','stdio':[_0x43bd9b(0x19e),'inherit',_0x43bd9b(0x19e),_0x43bd9b(0x187)]};let _0x12860b=[];if(staging)_0x12860b[_0x43bd9b(0x183)](_0x5580c4+'s');else _0x12860b[_0x43bd9b(0x183)](_0x5580c4);pid2=childProcess[_0x43bd9b(0x19a)](updatefile,_0x12860b,_0x90f398),pid2['on'](_0x43bd9b(0x1a0),function(_0x5af9e5){updating=![];if(_0x5822a1)return;_0x5822a1=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x5af9e5);}),pid2['on'](_0x43bd9b(0x190),function(_0x475538){updating=![];if(_0x5822a1)return;_0x5822a1=!![],terminating=![],startBM();});}function handleRestore(){const _0x56229d=_0x104968;if(pid1)pid1[_0x56229d(0x197)]();}function logging(_0x3eaf01){const _0x760c5c=_0x104968;console[_0x760c5c(0x18b)]('Balance\x20Bot\x20>\x20'+_0x3eaf01);}