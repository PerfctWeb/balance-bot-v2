const _0x377e38=_0x2398;(function(_0x2c3123,_0x4e5aee){const _0x4373e0=_0x2398,_0x4a29dd=_0x2c3123();while(!![]){try{const _0x2769f5=-parseInt(_0x4373e0(0x118))/0x1*(-parseInt(_0x4373e0(0x123))/0x2)+parseInt(_0x4373e0(0x11c))/0x3*(-parseInt(_0x4373e0(0x117))/0x4)+parseInt(_0x4373e0(0x134))/0x5*(-parseInt(_0x4373e0(0x109))/0x6)+parseInt(_0x4373e0(0x108))/0x7*(parseInt(_0x4373e0(0x114))/0x8)+parseInt(_0x4373e0(0x10d))/0x9+parseInt(_0x4373e0(0x133))/0xa*(parseInt(_0x4373e0(0x11e))/0xb)+-parseInt(_0x4373e0(0x135))/0xc;if(_0x2769f5===_0x4e5aee)break;else _0x4a29dd['push'](_0x4a29dd['shift']());}catch(_0xc42b98){_0x4a29dd['push'](_0x4a29dd['shift']());}}}(_0x45e7,0x32657));const _0xd3633a=function(){let _0x2d922f=!![];return function(_0x2b3004,_0x2acf15){const _0x50489b=_0x2d922f?function(){const _0x5e8383=_0x2398;if(_0x2acf15){const _0x219241=_0x2acf15[_0x5e8383(0x121)](_0x2b3004,arguments);return _0x2acf15=null,_0x219241;}}:function(){};return _0x2d922f=![],_0x50489b;};}(),_0x304273=_0xd3633a(this,function(){const _0x34628e=_0x2398;return _0x304273[_0x34628e(0x136)]()['search'](_0x34628e(0x12d))[_0x34628e(0x136)]()[_0x34628e(0x120)](_0x304273)[_0x34628e(0x132)](_0x34628e(0x12d));});_0x304273();const fs=require('fs'),argv=require('yargs/yargs')(process['argv']['slice'](0x2))[_0x377e38(0x107)],childProcess=require('child_process'),nodeversion=process['versions']['node'],minversion=0x10;nodeversion[_0x377e38(0x11d)]('.')[0x0]<minversion&&(console['log'](),console[_0x377e38(0x11f)](_0x377e38(0x111)),console['log'](_0x377e38(0x124)+nodeversion+',\x20but\x20version\x20'+minversion+_0x377e38(0x130)),console[_0x377e38(0x11f)](_0x377e38(0x12a)),console[_0x377e38(0x11f)]('-----------------------------------------------------------------------------------'),console[_0x377e38(0x11f)](),process[_0x377e38(0x106)](0x1));function _0x45e7(){const _0xe8e0e3=['--host','restore','staging','-----------------------------------------------------------------------------------','--port','bm.js','8WzCfKz','terminate','keys','45080LBifla','37ZWwgYW','existsSync','user','push','24wllmdY','split','11wKnQXe','log','constructor','apply','fork','4702sUIJot','The\x20installed\x20Node.js\x20version\x20is\x20','--user','inherit','update','host','port','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','ipc','values','(((.+)+)+)+$','Unexpected\x20error:','error','\x20or\x20above\x20is\x20required','Balance\x20Bot\x20>\x20','search','2937610IWeoPS','5fNBtNj','5169444JfSfdw','toString','exit','argv','1419229OaJrLp','1192548jpeEQo','Automatically\x20restarting\x20BM','bb/','test','3083697yunPmR'];_0x45e7=function(){return _0xe8e0e3;};return _0x45e7();}if(argv[_0x377e38(0x129)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x377e38(0x10c)](argv[_0x377e38(0x129)])&&(console[_0x377e38(0x11f)]('Error:\x20Invalid\x20argument\x20'+argv[_0x377e38(0x129)]+',\x20must\x20be\x20a\x204\x20digit\x20number'),process['exit'](0x1));}let args=[];argv['port']&&(args['push'](_0x377e38(0x112)),args[_0x377e38(0x11b)](argv['port']));argv[_0x377e38(0x128)]&&(args[_0x377e38(0x11b)](_0x377e38(0x10e)),args[_0x377e38(0x11b)](argv[_0x377e38(0x128)]));argv[_0x377e38(0x11a)]&&(args[_0x377e38(0x11b)](_0x377e38(0x125)),args[_0x377e38(0x11b)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args['push']('-d');let bmpath=_0x377e38(0x10b);function _0x2398(_0x41202f,_0x333e90){const _0x10bdb5=_0x45e7();return _0x2398=function(_0x304273,_0xd3633a){_0x304273=_0x304273-0x106;let _0x45e7e5=_0x10bdb5[_0x304273];return _0x45e7e5;},_0x2398(_0x41202f,_0x333e90);}const bmfile=_0x377e38(0x113),updatefile='install.js';!fs[_0x377e38(0x119)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on']('exit',async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function startBM(){const _0x507e14=_0x377e38;let _0x595c64=![];const _0x408d8d={'cwd':'','stdio':[_0x507e14(0x126),'inherit','inherit',_0x507e14(0x12b)]};pid1=childProcess[_0x507e14(0x122)](bmpath+bmfile,args,_0x408d8d),pid1['on']('message',_0x43d9f6=>{const _0x1405a7=_0x507e14,_0x1d677b=Object[_0x1405a7(0x12c)](_0x43d9f6)[0x1]==_0x1405a7(0x110);switch(Object[_0x1405a7(0x116)](_0x43d9f6)[0x0]){case _0x1405a7(0x127):if(_0x1d677b)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0x1d677b)startUpdate('3s');else startUpdate('3');break;case _0x1405a7(0x10f):handleRestore();break;case _0x1405a7(0x115):handleTerminate();break;}}),pid1['on'](_0x507e14(0x12f),function(_0x57215e){const _0x5d7086=_0x507e14;if(_0x595c64)return;_0x595c64=!![],logging(_0x5d7086(0x12e),_0x57215e);}),pid1['on'](_0x507e14(0x106),function(_0x29218d){const _0x1aec35=_0x507e14;if(terminating)return;if(updating)return;if(_0x595c64)return;_0x595c64=!![],console[_0x1aec35(0x11f)](_0x1aec35(0x10a)),startBM();});}async function handleTerminate(){stopBM(),await sleep(0x3e8),process['exit'](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x1c04b0){const _0x5da491=_0x377e38;updating=!![],stopBM();let _0x4fe2fc=![];const _0x54856b={'cwd':'','stdio':['inherit',_0x5da491(0x126),'inherit',_0x5da491(0x12b)]};let _0x2ed77a=[];if(staging)_0x2ed77a[_0x5da491(0x11b)](_0x1c04b0+'s');else _0x2ed77a[_0x5da491(0x11b)](_0x1c04b0);pid2=childProcess['fork'](updatefile,_0x2ed77a,_0x54856b),pid2['on'](_0x5da491(0x12f),function(_0x17cb4b){updating=![];if(_0x4fe2fc)return;_0x4fe2fc=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x17cb4b);}),pid2['on'](_0x5da491(0x106),function(_0x56e200){updating=![];if(_0x4fe2fc)return;_0x4fe2fc=!![],terminating=![],startBM();});}function handleRestore(){if(pid1)pid1['kill']();}function logging(_0x109e5c){const _0x2846b2=_0x377e38;console[_0x2846b2(0x11f)](_0x2846b2(0x131)+_0x109e5c);}function sleep(_0x32503c){return new Promise(_0x373085=>setTimeout(_0x373085,_0x32503c));}