const _0x18fcf9=_0x3492;(function(_0x4cc873,_0x29f28c){const _0x1b33ca=_0x3492,_0x18391e=_0x4cc873();while(!![]){try{const _0x31d08a=parseInt(_0x1b33ca(0x1a9))/0x1*(parseInt(_0x1b33ca(0xda))/0x2)+-parseInt(_0x1b33ca(0x146))/0x3+-parseInt(_0x1b33ca(0xc6))/0x4*(parseInt(_0x1b33ca(0x11a))/0x5)+parseInt(_0x1b33ca(0x19a))/0x6+parseInt(_0x1b33ca(0x17e))/0x7+parseInt(_0x1b33ca(0x155))/0x8+-parseInt(_0x1b33ca(0x108))/0x9*(parseInt(_0x1b33ca(0x170))/0xa);if(_0x31d08a===_0x29f28c)break;else _0x18391e['push'](_0x18391e['shift']());}catch(_0x178c1b){_0x18391e['push'](_0x18391e['shift']());}}}(_0x216d,0x36665));const _0x15e0e2=function(){let _0x9d883e=!![];return function(_0xa47daf,_0x392882){const _0x1016b5=_0x9d883e?function(){const _0x17c55f=_0x3492;if(_0x392882){const _0x11d6b0=_0x392882[_0x17c55f(0x1b2)](_0xa47daf,arguments);return _0x392882=null,_0x11d6b0;}}:function(){};return _0x9d883e=![],_0x1016b5;};}(),_0x4a2f9d=_0x15e0e2(this,function(){const _0x1d95a9=_0x3492;return _0x4a2f9d[_0x1d95a9(0x112)]()[_0x1d95a9(0x105)](_0x1d95a9(0x118))[_0x1d95a9(0x112)]()[_0x1d95a9(0x17c)](_0x4a2f9d)[_0x1d95a9(0x105)]('(((.+)+)+)+$');});_0x4a2f9d();'use strict';process[_0x18fcf9(0x109)][_0x18fcf9(0x193)]=0x1;const childProcess=require('child_process'),FileSync=require(_0x18fcf9(0x120)),fs=require('fs'),fns=require(_0x18fcf9(0xde)),low=require(_0x18fcf9(0x1c1)),path=require(_0x18fcf9(0xd1)),crypto=require(_0x18fcf9(0x1d6)),Crypt=require(_0x18fcf9(0x11d))[_0x18fcf9(0x181)],RSA=require(_0x18fcf9(0x11d))[_0x18fcf9(0x180)],bcrypt=require(_0x18fcf9(0x150)),jwt=require(_0x18fcf9(0x1b8)),analyticsLib=require(_0x18fcf9(0x1d5))[_0x18fcf9(0x135)],googleAnalytics=require(_0x18fcf9(0xec))[_0x18fcf9(0x135)],ipaddr=require('ipaddr.js');let bbpath=_0x18fcf9(0x14b);const botfile=_0x18fcf9(0x119),configfile=_0x18fcf9(0xc2),settingsfile=_0x18fcf9(0xc5),securefile=_0x18fcf9(0x159);!fs[_0x18fcf9(0xcf)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0x18fcf9(0x16e);!fs[_0x18fcf9(0xcf)](configpath)&&fs['mkdirSync'](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x18fcf9(0x1a0)]({'bots':[]})[_0x18fcf9(0x19e)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x18fcf9(0x1a0)]({'settings':{'timeshift':0x0}})[_0x18fcf9(0x19e)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x18fcf9(0x1a0)]({'secure':{},'blacklist':[]})[_0x18fcf9(0x19e)]();let crypt=new Crypt({'md':_0x18fcf9(0xee),'rsaStandard':_0x18fcf9(0x1b5)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+_0x18fcf9(0xf0))['version'],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0x18fcf9(0x1b7)),app=express(),http=require(_0x18fcf9(0x19f))['createServer'](app);app[_0x18fcf9(0x1ae)](express[_0x18fcf9(0x194)](path['join'](__dirname,bbpath,'build2'))),app['use'](express[_0x18fcf9(0x194)](path[_0x18fcf9(0x195)](__dirname,bbpath,_0x18fcf9(0x124)))),app[_0x18fcf9(0x15a)]('/',function(_0x3f8d07,_0x4d2494){const _0x3b7195=_0x18fcf9;_0x4d2494[_0x3b7195(0xd0)](path[_0x3b7195(0x195)](__dirname,bbpath,'build2',_0x3b7195(0x11c)));}),app[_0x18fcf9(0x15a)](_0x18fcf9(0x102),function(_0x36bf2c,_0x2fe633){const _0x584144=_0x18fcf9;_0x2fe633[_0x584144(0xd0)](path[_0x584144(0x195)](__dirname,bbpath,_0x584144(0x124),_0x584144(0x11c)));}),app[_0x18fcf9(0x15a)](_0x18fcf9(0x19c),(_0x335c66,_0x4d63f6)=>{const _0x2a896e=_0x18fcf9;_0x4d63f6['sendFile'](path['join'](__dirname,bbpath,'build',_0x2a896e(0x11c)));}),app[_0x18fcf9(0x15a)](_0x18fcf9(0x137),(_0x1787b4,_0x375c25)=>{const _0x1d069f=_0x18fcf9;_0x375c25[_0x1d069f(0xd0)](path[_0x1d069f(0x195)](__dirname,bbpath,'build',_0x1d069f(0x11c)));}),app[_0x18fcf9(0x15a)](_0x18fcf9(0x115),(_0x3f6f4e,_0x128538)=>{const _0x2bdee3=_0x18fcf9;_0x128538[_0x2bdee3(0xd0)](path[_0x2bdee3(0x195)](__dirname,bbpath,_0x2bdee3(0x124),_0x2bdee3(0x11c)));}),app['get']('/:bot/history',(_0x21fc1b,_0x480469)=>{const _0x4ffc89=_0x18fcf9;_0x480469['sendFile'](path['join'](__dirname,bbpath,_0x4ffc89(0x124),_0x4ffc89(0x11c)));}),app[_0x18fcf9(0x15a)](_0x18fcf9(0x13d),(_0x25b002,_0x8c4695)=>{const _0x1925bf=_0x18fcf9;_0x8c4695[_0x1925bf(0xd0)](path[_0x1925bf(0x195)](__dirname,bbpath,_0x1925bf(0x124),'index.html'));}),app[_0x18fcf9(0x15a)](_0x18fcf9(0x1d1),(_0x264fbb,_0x3ced56)=>{const _0x55c0a8=_0x18fcf9;_0x3ced56[_0x55c0a8(0xd0)](path[_0x55c0a8(0x195)](__dirname,bbpath,_0x55c0a8(0x124),'index.html'));}),http[_0x18fcf9(0x151)](PORT);const analytics=analyticsLib({'app':_0x18fcf9(0x1d2),'plugins':[googleAnalytics({'trackingId':_0x18fcf9(0x169)})]}),TelegramBot=require(_0x18fcf9(0x18f));let tgBot;if(settings[_0x18fcf9(0x156)]&&settings[_0x18fcf9(0x156)]!=''&&settings[_0x18fcf9(0xcd)]&&settings['telegramUsername']!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x51a3da=_0x18fcf9;console[_0x51a3da(0x1bf)](''),console['log'](_0x51a3da(0xfb)),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console[_0x51a3da(0x1bf)]('-----------------------------------------------------------------------------------');if(config[_0x51a3da(0x1b6)]!=0x0)config[_0x51a3da(0x160)](_0x684087=>{const _0x31a28b=_0x51a3da;if(_0x684087[_0x31a28b(0xbf)]==_0x31a28b(0x18a)||_0x684087[_0x31a28b(0xbf)]==_0x31a28b(0xd2))logging(_0x31a28b(0x1bb)+_0x684087[_0x31a28b(0x1bc)]+_0x31a28b(0x178)+_0x684087[_0x31a28b(0xe4)]),startBot([_0x684087[_0x31a28b(0x1bc)]],{'cwd':bbpath},function(_0x573298){if(_0x573298)logging(_0x573298);});else(_0x684087['status']==_0x31a28b(0xb6)||_0x684087['status']=='new-disabled')&&logging(_0x31a28b(0x1ce)+_0x684087[_0x31a28b(0x1bc)]+'\x20|\x20'+_0x684087[_0x31a28b(0xe4)]);});else!newBot&&console[_0x51a3da(0x1bf)]('>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!');if(newBot)addBot();console[_0x51a3da(0x1bf)](_0x51a3da(0xfb)),console[_0x51a3da(0x1bf)]('');}function startSocket(){const _0x556ed8=_0x18fcf9,_0x37069a=require(_0x556ed8(0x174))(http,{});_0x37069a['on'](_0x556ed8(0x126),_0x19a8be=>{const _0x5b16ef=_0x556ed8;let _0x16e50c,_0x279962,_0x2f734f;const _0x3bf9c7=_0x19a8be['handshake'][_0x5b16ef(0xf3)][_0x5b16ef(0xdd)],_0x3927ad=_0x19a8be[_0x5b16ef(0xca)][_0x5b16ef(0x1c6)]['encryptedUuid'];if(!_0x3927ad)_0x19a8be[_0x5b16ef(0xba)]('status',{'publicKey':secure[_0x5b16ef(0x179)]});else{uuid=timelyDecrypt(_0x19a8be['handshake']['auth'][_0x5b16ef(0x1d4)],![]),_0x279962=_0x3bf9c7[_0x5b16ef(0x17b)](/bot[0-9]{3}/);if(_0x279962)_0x2f734f=_0x279962[0x0][_0x5b16ef(0x17b)](/[0-9]{3}/);if(_0x2f734f)_0x16e50c=_0x2f734f[0x0];else _0x16e50c=_0x5b16ef(0x129);if(socket[_0x16e50c])socket[_0x16e50c]['disconnect'](!![]);socket[_0x16e50c]=_0x19a8be,setAccess(_0x16e50c);if(accessControl['allow']){if(_0x16e50c==_0x5b16ef(0x129))initializeSocketBotManager();else initializeSocketBot(_0x16e50c);}if(!serverStatus[_0x16e50c])serverStatus[_0x16e50c]=_0x5b16ef(0xdc);socket[_0x16e50c]['on'](_0x5b16ef(0x1d0),_0x2528b3=>{const _0x56f591=_0x5b16ef,_0x2b790a=timelyDecrypt(_0x2528b3[_0x56f591(0x13b)]);if(_0x2b790a){_0x2528b3={'username':_0x2528b3[_0x56f591(0xb8)],'password':_0x2b790a};let _0x1c03a0=validateCredentials(_0x2528b3);if(_0x1c03a0['allow']==![]&&_0x1c03a0[_0x56f591(0x152)]==_0x56f591(0x147))socket[_0x16e50c][_0x56f591(0xba)]('status',{'access':_0x1c03a0}),loginAccess2FA(externalip);else{if(_0x1c03a0[_0x56f591(0x1b0)]==![]&&_0x1c03a0[_0x56f591(0x152)]==_0x56f591(0xf6))socket[_0x16e50c][_0x56f591(0xba)](_0x56f591(0xbf),{'access':_0x1c03a0});else{if(_0x1c03a0[_0x56f591(0x1b0)]&&_0x1c03a0['reason']==_0x56f591(0x142)){token=_0x1c03a0[_0x56f591(0x1a5)];for(let _0x1acfdc in socket){if(_0x1acfdc=='botmanager')initializeSocketBotManager();else initializeSocketBot(_0x1acfdc);socket[_0x1acfdc][_0x56f591(0xba)]('status',{'status':serverStatus[_0x1acfdc]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x1c03a0,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x56f591(0x1d0));}}}}else logging(_0x56f591(0x1cb));}),socket[_0x16e50c]['on'](_0x5b16ef(0x1a2),()=>{resetPassword();}),socket[_0x16e50c]['on'](_0x5b16ef(0xd5),_0x1d7510=>{let _0x37511a=[];for(let _0x280863 in socket){if(_0x280863!=_0x16e50c)_0x37511a[_0x280863]=socket[_0x280863];}socket=_0x37511a;});if(_0x16e50c!=_0x5b16ef(0x129)&&config[_0x5b16ef(0xe1)]!=''){if(pid[_0x16e50c])pid[_0x16e50c][_0x5b16ef(0x1cc)]({'function':_0x5b16ef(0x197),'args':null});}}});}function setAccess(_0x4dccfb){const _0x3c741a=_0x18fcf9;externalip=normalizeIP(socket[_0x4dccfb][_0x3c741a(0x130)][_0x3c741a(0x187)])['store'],accessControl=validateAccess(token),accessControl['token']&&accessControl['reason']==_0x3c741a(0x191)&&setSessionTimeout(_0x3c741a(0x10c)),accessControl[_0x3c741a(0x1a5)]&&accessControl[_0x3c741a(0x152)]==_0x3c741a(0x199)&&setSessionTimeout('login'),socket[_0x4dccfb]['emit'](_0x3c741a(0xbf),{'status':serverStatus[_0x4dccfb]||_0x3c741a(0x15e),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x3c741a(0x179)],'loginNow':accessControl[_0x3c741a(0x152)]==_0x3c741a(0x1ba)||accessControl['reason']==_0x3c741a(0x147)}),accessControl[_0x3c741a(0x1b0)]==![]&&accessControl['reason']=='2FA\x20required'&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x3b7976){const _0x18461c=_0x18fcf9;let _0x3d3965;if(_0x3b7976==_0x18461c(0x1d0))_0x3d3965=loginExpiry*0x3c*0x3e8;else _0x3d3965=telegramIpApproval['expiry']*0x3c*0x3e8-(new Date()[_0x18461c(0x133)]()-telegramIpApproval[_0x18461c(0x158)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x2916a1=_0x18461c;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x25d782=validateAccess(token);if(!(_0x25d782[_0x2916a1(0x1b0)]&&_0x25d782[_0x2916a1(0x152)]==_0x2916a1(0x13c)))for(let _0x43fe8b in socket){socket[_0x43fe8b][_0x2916a1(0xba)](_0x2916a1(0xbf),{'access':{'allow':![],'reason':'access\x20timeout','token':null}});}token=null;},_0x3d3965);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x4be8a6=_0x3492;let _0x1534a4=refreshToken();for(let _0x44ca16 in socket){socket[_0x44ca16][_0x4be8a6(0xba)](_0x4be8a6(0xbf),{'status':serverStatus[_0x44ca16]||_0x4be8a6(0x15e),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x1534a4,'externalip':externalip,'publicKey':secure[_0x4be8a6(0x179)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x3e03b5=_0x18fcf9;socket[_0x3e03b5(0x129)]['emit'](_0x3e03b5(0x101),config),socket['botmanager'][_0x3e03b5(0xba)](_0x3e03b5(0xcc),cleanSettings()),socket['botmanager']['on'](_0x3e03b5(0x19b),_0x45ce2d=>{const _0x262ad3=_0x3e03b5;if(validateAccess(_0x45ce2d)[_0x262ad3(0x1b0)])addBot();else logging(_0x262ad3(0x167));}),socket[_0x3e03b5(0x129)]['on'](_0x3e03b5(0x1c3),(_0x3fcaa4,_0x255fe)=>{const _0x30eaf9=_0x3e03b5;if(validateAccess(_0x255fe)['allow'])toggleBot(_0x3fcaa4[_0x30eaf9(0x1bc)],_0x3fcaa4['status'],_0x3fcaa4[_0x30eaf9(0x188)]);else logging(_0x30eaf9(0x16a));}),socket['botmanager']['on'](_0x3e03b5(0x121),(_0x36956d,_0x409144)=>{const _0x1f2eee=_0x3e03b5;if(validateAccess(_0x409144)[_0x1f2eee(0x1b0)])deleteBot(_0x36956d);else logging(_0x1f2eee(0x1a8));}),socket[_0x3e03b5(0x129)]['on']('store-settings',(_0x39e225,_0x454657)=>{const _0x2140c7=_0x3e03b5;if(validateAccess(_0x454657)[_0x2140c7(0x1b0)])storeSettings(_0x39e225,!![]);else logging(_0x2140c7(0x12e));}),socket[_0x3e03b5(0x129)]['on'](_0x3e03b5(0x144),_0x567910=>{const _0x178f61=_0x3e03b5;if(validateAccess(_0x567910)[_0x178f61(0x1b0)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x5b9da2 in socket){socket[_0x5b9da2]['emit']('status',{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x178f61(0x1cd));});}function initializeSocketBot(_0x52a888){const _0x5ccc32=_0x18fcf9;socket[_0x52a888]['on'](_0x5ccc32(0x140),(_0x2c7d9c,_0xf61569)=>{const _0x1e01bb=_0x5ccc32;if(validateAccess(_0xf61569)[_0x1e01bb(0x1b0)]){if(pid[_0x52a888])pid[_0x52a888][_0x1e01bb(0x1cc)]({'function':_0x1e01bb(0xeb),'args':_0x2c7d9c});}else logging(_0x1e01bb(0xfd));}),socket[_0x52a888]['on']('get-portfolio',(_0x36518f,_0xa9885)=>{const _0x54cbf7=_0x5ccc32;if(validateAccess(_0xa9885)['allow']){if(pid[_0x52a888])pid[_0x52a888]['send']({'function':'getPortfolio','args':_0x36518f});}else logging(_0x54cbf7(0x163));}),socket[_0x52a888]['on'](_0x5ccc32(0xff),(_0x529147,_0x592440)=>{const _0x2ed1de=_0x5ccc32;if(validateAccess(_0x592440)[_0x2ed1de(0x1b0)]){if(pid[_0x52a888])pid[_0x52a888][_0x2ed1de(0x1cc)]({'function':'storeConfiguration','args':_0x529147});}else logging(_0x2ed1de(0x10e));}),socket[_0x52a888]['on'](_0x5ccc32(0x1c0),(_0x1cfee2,_0xb3646a)=>{const _0x249968=_0x5ccc32;if(validateAccess(_0xb3646a)['allow']){if(pid[_0x52a888])pid[_0x52a888][_0x249968(0x1cc)]({'function':_0x249968(0x172),'args':_0x1cfee2});}else logging(_0x249968(0xd6));}),socket[_0x52a888]['on'](_0x5ccc32(0x19d),_0x28e1de=>{const _0x40f593=_0x5ccc32;if(validateAccess(_0x28e1de)['allow']){if(pid[_0x52a888])pid[_0x52a888][_0x40f593(0x1cc)]({'function':_0x40f593(0x176),'args':null});}else logging('Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances');}),socket[_0x52a888]['on'](_0x5ccc32(0x12d),(_0x47b22b,_0x11aa7e)=>{const _0x5ccff0=_0x5ccc32;if(validateAccess(_0x11aa7e)[_0x5ccff0(0x1b0)]){if(pid[_0x52a888])pid[_0x52a888][_0x5ccff0(0x1cc)]({'function':_0x5ccff0(0x132),'args':_0x47b22b});}else logging(_0x5ccff0(0x104));}),socket[_0x52a888]['on'](_0x5ccc32(0x144),_0x335df3=>{const _0x3442a7=_0x5ccc32;if(validateAccess(_0x335df3)[_0x3442a7(0x1b0)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x155cd6 in socket){socket[_0x155cd6][_0x3442a7(0xba)](_0x3442a7(0xbf),{'access':{'allow':![],'reason':_0x3442a7(0xef),'token':null}});}}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function removeSocketListeners(){const _0x4c5a7e=_0x18fcf9;for(let _0x18bae8 in socket){socket[_0x18bae8][_0x4c5a7e(0x183)]();}}function cleanSettings(){const _0x4d7dbf=_0x18fcf9;let _0x35d412=settings;return settings[_0x4d7dbf(0x156)]&&settings[_0x4d7dbf(0x156)]!=''&&(_0x35d412={..._0x35d412,'telegramToken':_0x4d7dbf(0x18d)}),settings[_0x4d7dbf(0x1ca)]&&settings[_0x4d7dbf(0x1ca)]!=''&&(_0x35d412={..._0x35d412,'bbPassword':_0x4d7dbf(0x18d)}),_0x35d412;}function startBot(_0x33229c,_0x2e140a,_0x309686){const _0x3fc163=_0x18fcf9;let _0xca30ab=![];const _0x43a2fa=_0x33229c[0x0];_0x2e140a={..._0x2e140a,'stdio':['inherit','inherit',_0x3fc163(0x111),_0x3fc163(0x1af)]},pid[_0x43a2fa]=childProcess[_0x3fc163(0x186)](botfile,_0x33229c,_0x2e140a),pid[_0x43a2fa]['on'](_0x3fc163(0x141),_0x4d9bbd=>{const _0x824503=_0x3fc163;switch(Object[_0x824503(0xbb)](_0x4d9bbd)[0x0]){case'botname':updateBotName(_0x43a2fa,_0x4d9bbd[_0x824503(0xe4)]);break;case'status':updateStatus(_0x43a2fa,_0x4d9bbd['status']);break;case _0x824503(0x188):updateLive(_0x43a2fa,_0x4d9bbd[_0x824503(0x188)]);break;case _0x824503(0x175):updateLive(_0x43a2fa,_0x4d9bbd['started']);if(socket[_0x43a2fa])socket[_0x43a2fa]['emit']('status',{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x824503(0x1cf):sendTelegram(_0x43a2fa,_0x4d9bbd[_0x824503(0x1cf)]);break;case _0x824503(0x15d):if(socket[_0x43a2fa])socket[_0x43a2fa]['emit'](_0x4d9bbd['function'],_0x4d9bbd['args']);break;}}),pid[_0x43a2fa]['on']('error',function(_0x43fcd8){if(_0xca30ab)return;_0xca30ab=!![],_0x309686(_0x43fcd8);}),pid[_0x43a2fa]['on'](_0x3fc163(0xbd),function(_0x45419a){const _0x30c48c=_0x3fc163;if(_0xca30ab)return;_0xca30ab=!![],_0x309686(null);const _0x33a09a=dbConfig[_0x30c48c(0x15a)]('bots')[_0x30c48c(0xb7)]({'botID':_0x43a2fa})['value']();_0x33a09a&&(_0x33a09a[_0x30c48c(0xbf)]=='enabled'||_0x33a09a[_0x30c48c(0xbf)]==_0x30c48c(0xd2))&&(updateLive(_0x43a2fa,'stopped'),_0x45419a!=0x4d&&(logging('restarting\x20Bot\x20'+_0x43a2fa),startBot([_0x43a2fa],{'cwd':bbpath},function(_0xf2c3fd){if(_0xf2c3fd)logging(_0xf2c3fd);})));});}function stopBot(_0x4279ca){const _0x1804e7=_0x18fcf9;if(socket[_0x4279ca])socket[_0x4279ca][_0x1804e7(0xd5)](!![]);if(pid[_0x4279ca])pid[_0x4279ca]['kill']();}function addBot(){const _0x11adb1=_0x18fcf9;let _0x5716d1;for(let _0x20dd23=0x1;_0x20dd23<0x3e9;_0x20dd23++){_0x5716d1=_0x20dd23[_0x11adb1(0x112)]()[_0x11adb1(0x114)](0x3,'0');let _0x3cbdf7=config['find'](_0x1b28d9=>_0x1b28d9[_0x11adb1(0x1bc)]==_0x5716d1);if(!_0x3cbdf7)break;}if(_0x5716d1===_0x11adb1(0xfe)){logging(_0x11adb1(0x1a1));return;}logging('starting\x20new\x20bot\x20|\x20Bot\x20'+_0x5716d1),dbConfig['get'](_0x11adb1(0x101))[_0x11adb1(0x154)]({'botID':_0x5716d1,'botname':_0x11adb1(0x1da)+_0x5716d1,'status':'new','live':''})[_0x11adb1(0x19e)](),startBot([_0x5716d1],{'cwd':bbpath},function(_0xfdbea6){if(_0xfdbea6)logging(_0xfdbea6);}),config=getConfiguration();if(socket['botmanager'])socket[_0x11adb1(0x129)][_0x11adb1(0xba)](_0x11adb1(0x101),config);}function deleteBot(_0x4be477){const _0x5b8797=_0x18fcf9;if(socket[_0x4be477])socket[_0x4be477][_0x5b8797(0xd5)](!![]);dbConfig[_0x5b8797(0x15a)](_0x5b8797(0x101))['remove']({'botID':_0x4be477})[_0x5b8797(0x19e)](),logging(_0x5b8797(0x1d7)+_0x4be477),stopBot(_0x4be477);try{fs[_0x5b8797(0x165)](path['join'](configpath,_0x5b8797(0x14f)+_0x4be477+'-config.json')),fs[_0x5b8797(0x165)](path[_0x5b8797(0x195)](configpath,_0x5b8797(0x14f)+_0x4be477+_0x5b8797(0xc9))),fs[_0x5b8797(0x165)](path[_0x5b8797(0x195)](configpath,_0x5b8797(0x14f)+_0x4be477+'-performance.json')),fs[_0x5b8797(0x165)](path['join'](configpath,_0x5b8797(0x14f)+_0x4be477+'-results.json'));}catch(_0x29c994){if(_0x29c994)logging(_0x5b8797(0x1ab),_0x29c994);}config=getConfiguration();if(socket[_0x5b8797(0x129)])socket[_0x5b8797(0x129)]['emit'](_0x5b8797(0x101),config);}function toggleBot(_0x37face,_0xc10ea1,_0x2a02dd){const _0x20f361=_0x18fcf9;dbConfig[_0x20f361(0x15a)](_0x20f361(0x101))[_0x20f361(0xb7)]({'botID':_0x37face})['assign']({'status':_0xc10ea1})[_0x20f361(0xf1)]({'live':_0x2a02dd})[_0x20f361(0x19e)]();if(_0xc10ea1==_0x20f361(0x18a)||_0xc10ea1=='new')logging(_0x20f361(0xf8)+_0x37face),startBot([_0x37face],{'cwd':bbpath},function(_0x1e7955){if(_0x1e7955)logging(_0x1e7955);});else(_0xc10ea1==_0x20f361(0xb6)||_0xc10ea1==_0x20f361(0x113))&&(logging('disabled\x20Bot\x20'+_0x37face),stopBot(_0x37face));config=getConfiguration();if(socket[_0x20f361(0x129)])socket[_0x20f361(0x129)]['emit'](_0x20f361(0x101),config);}function updateStatus(_0x3ab227,_0x5c218e){const _0x386c83=_0x18fcf9;dbConfig[_0x386c83(0x15a)]('bots')[_0x386c83(0xb7)]({'botID':_0x3ab227})[_0x386c83(0xf1)]({'status':_0x5c218e})[_0x386c83(0x19e)](),config=getConfiguration();if(socket[_0x386c83(0x129)])socket[_0x386c83(0x129)][_0x386c83(0xba)](_0x386c83(0x101),config);}function updateLive(_0xf49845,_0x1d824a){const _0x66188a=_0x18fcf9;dbConfig[_0x66188a(0x15a)](_0x66188a(0x101))['find']({'botID':_0xf49845})[_0x66188a(0xf1)]({'live':_0x1d824a})[_0x66188a(0x19e)](),config=getConfiguration();if(socket['botmanager'])socket[_0x66188a(0x129)]['emit'](_0x66188a(0x101),config);}function updateBotName(_0x33dec3,_0x5444bd){const _0x25e5f1=_0x18fcf9;dbConfig['get'](_0x25e5f1(0x101))[_0x25e5f1(0xb7)]({'botID':_0x33dec3})[_0x25e5f1(0xf1)]({'botname':_0x5444bd})[_0x25e5f1(0x19e)](),config=getConfiguration();if(socket[_0x25e5f1(0x129)])socket[_0x25e5f1(0x129)][_0x25e5f1(0xba)]('bots',config);}function telegramError(_0x268e30){const _0x1c09f1=_0x18fcf9;console[_0x1c09f1(0x1bf)](getTimeStamp()+_0x1c09f1(0x17a));}function validateTelegram(_0x4e5fb9){const _0x418447=_0x18fcf9;if(_0x4e5fb9[_0x418447(0x18b)][_0x418447(0xb8)]!=settings[_0x418447(0xcd)]&&'@'+_0x4e5fb9[_0x418447(0x18b)][_0x418447(0xb8)]!=settings[_0x418447(0xcd)])return tgBot[_0x418447(0x1a7)](_0x4e5fb9[_0x418447(0xc7)]['id'],_0x418447(0x16d),{'parse_mode':_0x418447(0xfc)})[_0x418447(0x177)](_0x555de2=>{telegramError(_0x555de2);}),![];return!![];}async function initTelegram(){const _0x4d527b=_0x18fcf9;if(tgBot)tgBot[_0x4d527b(0x10f)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x4d527b(0x156)],{'polling':!![]});let _0x3312cd=_0x4d527b(0x17f);_0x3312cd+='\x0a',_0x3312cd+=_0x4d527b(0x192),_0x3312cd+='/disable\x20-\x20disable\x20notifications\x0a',_0x3312cd+=_0x4d527b(0x1a6),_0x3312cd+=_0x4d527b(0x12c),_0x3312cd+=_0x4d527b(0x1c4),_0x3312cd+=_0x4d527b(0x1ad);let _0x51eed8=_0x4d527b(0x1ac);_0x51eed8+='\x0a',_0x51eed8+=_0x3312cd,tgBot[_0x4d527b(0x16f)](/\/start/,_0x1b7801=>{const _0x50677c=_0x4d527b;if(!validateTelegram(_0x1b7801))return;if(settings[_0x50677c(0x164)]!=_0x1b7801['chat']['id'])updateSetting(_0x50677c(0x164),_0x1b7801[_0x50677c(0xc7)]['id']);updateSetting(_0x50677c(0xc1),!![]),tgBot[_0x50677c(0x1a7)](_0x1b7801[_0x50677c(0xc7)]['id'],_0x51eed8)['catch'](_0x876576=>{telegramError(_0x876576);});}),tgBot['onText'](/\/enable/,_0x2e14e3=>{const _0x408a6d=_0x4d527b;if(!validateTelegram(_0x2e14e3))return;if(settings[_0x408a6d(0x164)]!=_0x2e14e3[_0x408a6d(0xc7)]['id'])updateSetting(_0x408a6d(0x164),_0x2e14e3[_0x408a6d(0xc7)]['id']);updateSetting('telegramEnabled',!![]),tgBot['sendMessage'](_0x2e14e3[_0x408a6d(0xc7)]['id'],_0x408a6d(0xf7))['catch'](_0x2e07bd=>{telegramError(_0x2e07bd);});}),tgBot[_0x4d527b(0x16f)](/\/config/,async _0x340479=>{const _0x5f4129=_0x4d527b;if(!validateTelegram(_0x340479))return;tgBot[_0x5f4129(0x190)](_0x5f4129(0x17d)),tgBot[_0x5f4129(0x1a7)](_0x340479[_0x5f4129(0xc7)]['id'],'Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?',{'reply_markup':{'inline_keyboard':[[{'text':_0x5f4129(0x1c2),'callback_data':_0x5f4129(0xdf)},{'text':'Alerts','callback_data':_0x5f4129(0x145)},{'text':_0x5f4129(0x10a),'callback_data':'all'}]]}})[_0x5f4129(0x177)](_0x19e9aa=>{telegramError(_0x19e9aa);}),tgBot['on'](_0x5f4129(0x17d),async _0x1ffe3f=>{const _0x39dcee=_0x5f4129,_0x409a80=_0x1ffe3f[_0x39dcee(0x14d)],_0x5c8c41=_0x1ffe3f['message'];tgBot[_0x39dcee(0xd9)](_0x1ffe3f['id'])[_0x39dcee(0x12f)](async()=>{const _0x13e3f9=_0x39dcee;_0x409a80==_0x13e3f9(0xdf)&&(updateSetting(_0x13e3f9(0x1dc),_0x13e3f9(0xdf)),updateSetting(_0x13e3f9(0xc1),!![]),await tgBot[_0x13e3f9(0x1a7)](_0x5c8c41['chat']['id'],_0x13e3f9(0x14e))['catch'](_0x424fcf=>{telegramError(_0x424fcf);}));_0x409a80==_0x13e3f9(0x145)&&(updateSetting('telegramEvents',_0x13e3f9(0x145)),updateSetting(_0x13e3f9(0xc1),!![]),await tgBot[_0x13e3f9(0x1a7)](_0x5c8c41[_0x13e3f9(0xc7)]['id'],_0x13e3f9(0x122))[_0x13e3f9(0x177)](_0x2efb12=>{telegramError(_0x2efb12);}));_0x409a80==_0x13e3f9(0x1b4)&&(updateSetting(_0x13e3f9(0x1dc),_0x13e3f9(0x1b4)),updateSetting(_0x13e3f9(0xc1),!![]),await tgBot['sendMessage'](_0x5c8c41[_0x13e3f9(0xc7)]['id'],_0x13e3f9(0x149))[_0x13e3f9(0x177)](_0x91f99=>{telegramError(_0x91f99);}));if(!settings[_0x13e3f9(0x164)])tgBot[_0x13e3f9(0x1a7)](_0x5c8c41[_0x13e3f9(0xc7)]['id'],_0x13e3f9(0x10b))[_0x13e3f9(0x177)](_0x783784=>{telegramError(_0x783784);});}),tgBot[_0x39dcee(0x190)](_0x39dcee(0x17d));});}),tgBot['onText'](/\/status/,_0x132eb4=>{const _0x4c23dc=_0x4d527b;if(!validateTelegram(_0x132eb4))return;let _0x48fff5=_0x4c23dc(0x1b3);config[_0x4c23dc(0x160)](_0x184571=>{const _0xc5467=_0x4c23dc;_0x48fff5+='Bot\x20'+_0x184571[_0xc5467(0x1bc)]+_0xc5467(0x178)+_0x184571[_0xc5467(0xe4)]+':\x20'+_0x184571[_0xc5467(0xbf)]+_0xc5467(0xbe)+_0x184571[_0xc5467(0x188)]+'\x0a';}),_0x48fff5+='\x0a',_0x48fff5+=_0x4c23dc(0xd4),_0x48fff5+=!settings[_0x4c23dc(0xc1)]?_0x4c23dc(0x131):_0x4c23dc(0xe6),_0x48fff5+=settings[_0x4c23dc(0xc1)]?settings[_0x4c23dc(0x1dc)]=='all'?_0x4c23dc(0xd8):_0x4c23dc(0xb9)+settings[_0x4c23dc(0x1dc)]+'\x20only\x0a':'',tgBot['sendMessage'](_0x132eb4[_0x4c23dc(0xc7)]['id'],_0x48fff5,{'parse_mode':_0x4c23dc(0xfc)})['catch'](_0x119dce=>{telegramError(_0x119dce);});}),tgBot[_0x4d527b(0x16f)](/\/restart/,_0x29bc7e=>{const _0x52da35=_0x4d527b;if(!validateTelegram(_0x29bc7e))return;tgBot[_0x52da35(0x190)](_0x52da35(0x17d));const _0x36d1ea=getEnabledBots();if(_0x36d1ea[_0x52da35(0x1b6)]==0x0)tgBot[_0x52da35(0x1a7)](_0x29bc7e[_0x52da35(0xc7)]['id'],_0x52da35(0xdb))[_0x52da35(0x177)](_0x7ca8da=>{telegramError(_0x7ca8da);});else{let _0x5ade6b=[],_0x1bbf34=[];const _0x348018=_0x36d1ea[_0x52da35(0x1b6)]%0x4==0x0||_0x36d1ea['length']%0x4==0x3||_0x36d1ea[_0x52da35(0x1b6)]%0x3==0x1?0x4:0x3;let _0x5014e7=0x0;_0x36d1ea[_0x52da35(0x160)]((_0x593544,_0xc7ab57)=>{const _0x1fcf0=_0x52da35;if(_0xc7ab57%_0x348018==0x0)_0x1bbf34=[];_0x1bbf34[_0x1fcf0(0x154)]({'text':'Bot\x20'+_0x593544[_0x1fcf0(0x1bc)],'callback_data':_0x593544['botID']}),_0xc7ab57%_0x348018==0x0&&(_0x5ade6b[_0x5014e7]=_0x1bbf34,_0x5014e7++);}),tgBot[_0x52da35(0x1a7)](_0x29bc7e[_0x52da35(0xc7)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20restart?',{'reply_markup':{'inline_keyboard':_0x5ade6b}})[_0x52da35(0x177)](_0x3aa5bf=>{telegramError(_0x3aa5bf);}),tgBot['on']('callback_query',async _0x1d53e8=>{const _0x52dbf7=_0x52da35,_0x59d784=_0x1d53e8['data'],_0x40f0a8=_0x1d53e8[_0x52dbf7(0x141)];tgBot[_0x52dbf7(0xd9)](_0x1d53e8['id'])['then'](async()=>{const _0x455e9a=_0x52dbf7;if(settings[_0x455e9a(0x1dc)]==_0x455e9a(0xdf))tgBot['sendMessage'](_0x40f0a8['chat']['id'],'Bot\x20Mgr\x20>\x20restarting\x20Bot\x20'+_0x59d784)[_0x455e9a(0x177)](_0xb76cc8=>{telegramError(_0xb76cc8);});stopBot(_0x59d784);}),tgBot[_0x52dbf7(0x190)]('callback_query');});}}),tgBot[_0x4d527b(0x16f)](/\/disable/,_0x2defb6=>{const _0x49ee29=_0x4d527b;if(!validateTelegram(_0x2defb6))return;tgBot[_0x49ee29(0x1a7)](_0x2defb6[_0x49ee29(0xc7)]['id'],_0x49ee29(0x189))[_0x49ee29(0x177)](_0x4a245f=>{telegramError(_0x4a245f);}),updateSetting(_0x49ee29(0xc1),![]);}),tgBot[_0x4d527b(0x16f)](/\/help/,_0x13394c=>{const _0x1cfc36=_0x4d527b;if(!validateTelegram(_0x13394c))return;tgBot[_0x1cfc36(0x1a7)](_0x13394c[_0x1cfc36(0xc7)]['id'],_0x3312cd)[_0x1cfc36(0x177)](_0x3c4370=>{telegramError(_0x3c4370);});}),tgBot['on'](_0x4d527b(0xce),_0x17c1cd=>{const _0x117ec1=_0x4d527b;if(_0x17c1cd[_0x117ec1(0x112)]()['includes'](_0x117ec1(0x100))){logging(_0x117ec1(0x138)),tgBot[_0x117ec1(0x10f)](),tgBot=null;if(socket['botmanager'])socket[_0x117ec1(0x129)][_0x117ec1(0xba)](_0x117ec1(0x1d3),'Invalid\x20Telegram\x20token');}}),process[_0x4d527b(0x127)](_0x4d527b(0x168),()=>{const _0x27bfe1=_0x4d527b;if(tgBot)tgBot[_0x27bfe1(0x10f)]();process['exit'](0x1);}),process[_0x4d527b(0x127)](_0x4d527b(0x1bd),()=>{const _0x17880c=_0x4d527b;if(tgBot)tgBot[_0x17880c(0x10f)]();process[_0x17880c(0xbd)](0x1);});}}function disableTelegram(){tgBot&&(tgBot['stopPolling'](),tgBot=null);}function sendTelegram(_0x6585d8,_0x44f6c2){const _0x30524c=_0x18fcf9;if(settings['telegramEnabled']){if(settings[_0x30524c(0x1dc)]=='all'||(_0x44f6c2[_0x30524c(0x1c5)]==_0x30524c(0x1db)||_0x44f6c2['type']==_0x30524c(0x161))&&settings[_0x30524c(0x1dc)]==_0x30524c(0x145)||_0x44f6c2[_0x30524c(0x1c5)]=='order'&&settings[_0x30524c(0x1dc)]==_0x30524c(0xdf)){if(tgBot&&settings[_0x30524c(0x164)])tgBot[_0x30524c(0x1a7)](settings['telegramChatId'],_0x30524c(0x1da)+_0x6585d8+'\x20>\x20'+_0x44f6c2[_0x30524c(0xf9)])[_0x30524c(0x177)](_0x5a9793=>{telegramError(_0x5a9793);});}}}function temporaryAccess2FA(_0x28215f){const _0x4e2d38=_0x18fcf9;let _0x4c97a0=new Date(),_0xc0469b=![];if(lastIpApproval){if(_0x4c97a0-lastIpApproval<0x1388)_0xc0469b=!![];}lastIpApproval=new Date();if(_0xc0469b)return;tgBot&&settings['telegramChatId']&&(tgBot[_0x4e2d38(0x190)](_0x4e2d38(0x17d)),tgBot[_0x4e2d38(0x1a7)](settings['telegramChatId'],_0x4e2d38(0x16c)+normalizeIP(_0x28215f)[_0x4e2d38(0xf2)]+_0x4e2d38(0xe9),{'parse_mode':_0x4e2d38(0xfc),'reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':'15\x20min','callback_data':'15'},{'text':_0x4e2d38(0x143),'callback_data':'30'},{'text':'reject','callback_data':_0x4e2d38(0x157)}]]}})[_0x4e2d38(0x177)](_0x44483f=>{telegramError(_0x44483f);}),tgBot['on'](_0x4e2d38(0x17d),async _0x4bfad4=>{const _0xeef556=_0x4e2d38,_0x3d3ab0=_0x4bfad4[_0xeef556(0x14d)],_0x11292f=_0x4bfad4['message'];tgBot[_0xeef556(0xd9)](_0x4bfad4['id'])[_0xeef556(0x12f)](async()=>{const _0x483593=_0xeef556;if(_0x3d3ab0!=_0x483593(0x157)){telegramIpApproval={'clientip':_0x28215f,'timestamp':new Date()['getTime'](),'expiry':_0x3d3ab0},await tgBot['sendMessage'](_0x11292f['chat']['id'],_0x483593(0xcb)+_0x3d3ab0+_0x483593(0x125),{'parse_mode':_0x483593(0xfc)})['catch'](_0x24224a=>{telegramError(_0x24224a);});for(let _0x57cee4 in socket){socket[_0x57cee4][_0x483593(0xba)](_0x483593(0xbf),{'access':{'allow':![],'reason':'reload','token':null}});}}else await tgBot[_0x483593(0x1a7)](_0x11292f[_0x483593(0xc7)]['id'],'Temporary\x20access\x20rejected')[_0x483593(0x177)](_0x3bd918=>{telegramError(_0x3bd918);});}),tgBot[_0xeef556(0x190)](_0xeef556(0x17d));}));}function loginAccess2FA(_0x4c1bda){const _0x813ab8=_0x18fcf9;tgBot&&settings[_0x813ab8(0x164)]&&(tgBot[_0x813ab8(0x190)](_0x813ab8(0x17d)),tgBot[_0x813ab8(0x1a7)](settings[_0x813ab8(0x164)],_0x813ab8(0x1c9)+normalizeIP(_0x4c1bda)['show']+_0x813ab8(0xe9),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'accept','callback_data':loginExpiry},{'text':_0x813ab8(0x157),'callback_data':_0x813ab8(0x157)}]]}})[_0x813ab8(0x177)](_0x4a0cea=>{telegramError(_0x4a0cea);}),tgBot['on'](_0x813ab8(0x17d),async _0x48d8aa=>{const _0x39db2d=_0x813ab8,_0x90bce7=_0x48d8aa['data'],_0x4e3736=_0x48d8aa[_0x39db2d(0x141)];tgBot['answerCallbackQuery'](_0x48d8aa['id'])[_0x39db2d(0x12f)](async()=>{const _0x12be87=_0x39db2d;if(_0x90bce7!='reject'){telegram2FaApproval={'clientip':_0x4c1bda,'timestamp':new Date()[_0x12be87(0x133)](),'expiry':_0x90bce7},await tgBot[_0x12be87(0x1a7)](_0x4e3736[_0x12be87(0xc7)]['id'],_0x12be87(0xc0),{'parse_mode':'HTML'})[_0x12be87(0x177)](_0x2d6ddd=>{telegramError(_0x2d6ddd);});for(let _0x2bf020 in socket){socket[_0x2bf020][_0x12be87(0xba)]('status',{'access':{'allow':![],'reason':_0x12be87(0x153),'token':null}});}}else await tgBot[_0x12be87(0x1a7)](_0x4e3736[_0x12be87(0xc7)]['id'],_0x12be87(0x123))[_0x12be87(0x177)](_0x25390e=>{telegramError(_0x25390e);});}),tgBot[_0x39db2d(0x190)]('callback_query');}));}function _0x216d(){const _0x530e73=['loginRequired','error\x20while\x20deleting\x20log\x20files:\x20','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','/help\x20-\x20show\x20avaiable\x20commands\x0a','use','ipc','allow','bbUsername','apply','<b>Balance\x20Bot\x20status:</b>\x0a','all','RSA-OAEP','length','express','jsonwebtoken','compareSync','login\x20required','starting\x20bot\x20|\x20Bot\x20','botID','SIGTERM','Invalid\x20authentication\x20token\x20(1)','log','store-headless','lowdb','Orders','update-bot','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','type','auth','split','Token\x20blacklisted','Allow\x20login\x20from\x20IP\x20address\x20<b>','bbPassword','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','send','Unauthorized\x20attempt\x20to\x20log\x20out','idling\x20bot\x20\x20\x20|\x20Bot\x20','telegram','login','/:bot/support','Balance\x20Bot','notification','encryptedUuid','analytics','crypto','deleted\x20Bot\x20','login\x20token\x20valid','https://hodlerhacks.com','Bot\x20','error','telegramEvents','disabled','find','username','Notifications\x20types:\x20','emit','keys','f2aRequired','exit','\x20/\x20','status','Login\x20accepted','telegramEnabled','bb-config.json','timeshift','hasOwnProperty','bb-settings.json','170876AGqNdb','chat','blacklist','-events.json','handshake','Access\x20enabled\x20for\x20','settings','telegramUsername','polling_error','existsSync','sendFile','path','new','getDate','<b>Telegram\x20bot\x20status:</b>\x0a','disconnect','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','getSeconds','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','answerCallbackQuery','520058MdCzvF','No\x20bots\x20enabled\x20right\x20now','connected','referer','date-fns','orders','No\x20authentication\x20token','apiKey','decrypt','clientip','botname','getMonth','Notifications\x20enabled\x0a','toIPv4MappedAddress','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','</b>\x20?','getHours','emitHistory','@analytics/google-analytics','stopped','sha256','logged\x20out','version.json','assign','show','headers','isIPv4MappedAddress','whitelistEnabled','invalid\x20credentials','Notifications\x20enabled','enabled\x20Bot\x20','event','map','-----------------------------------------------------------------------------------','HTML','Unauthorized\x20attempt\x20to\x20get\x20logs','1000','store-configuration','404\x20Not\x20Found','bots','/:bot','sortBy','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','search','filter','entries','531plfzUV','env','All','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','2FA','isValid','Unauthorized\x20attempt\x20to\x20store\x20configuration','stopPolling','privateKey','inherit','toString','new-disabled','padStart','/:bot/coins','remove','yes','(((.+)+)+)+$','bot.js','10KSpuVp','parse','index.html','hybrid-crypto-js','Bot\x20Mgr\x20>\x20','Password\x20has\x20been\x20reset\x20to:\x20','lowdb/adapters/FileSync','delete-bot','Ok,\x20will\x20send\x20alert\x20notifications\x20only','Login\x20rejected','build','\x20minutes','connection','once','includes','botmanager','cloneDeep','add','/restart\x20-\x20restart\x20a\x20bot\x0a','place-order','Unauthorized\x20attempt\x20to\x20update\x20settings','then','conn','Notifications\x20disabled\x0a','placeOrder','getTime','Invalid\x20authentication\x20token\x20(2)','default','value','/:bot/performance','Invalid\x20Telegram\x20token',':\x20Bot\x20Mgr\x20>\x20','secure','password','login\x20not\x20required','/:bot/configuration','127.0.0.1','2FA\x20required','get-logs','message','login\x20token\x20generated','30\x20min','logout','alerts','259614vlcUdb','2FA\x20login\x20required','Password\x20reset\x20rejected','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','sign','bb/','expiry','data','Ok,\x20will\x20send\x20order\x20notifications\x20only','bot-','bcryptjs','listen','reason','reload','push','2304688OEKNol','telegramToken','reject','timestamp','bb-secure.json','get','getFullYear','Invalid\x20IP\x20address','function','starting','settings.','forEach','success','temporary\x20access\x20not\x20allowed','Unauthorized\x20attempt\x20to\x20get\x20portfolio','telegramChatId','unlinkSync','hex','Unauthorized\x20attempt\x20to\x20add\x20bot','SIGINT','UA-192771731-1','Unauthorized\x20attempt\x20to\x20update\x20bot','hashSync','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','config/','onText','148970BLVzVO','kind','storeHeadless','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','socket.io','started','getStartingBalances','catch','\x20|\x20','publicKey',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','match','constructor','callback_query','2320514CWmqhQ','You\x20can\x20use\x20the\x20following\x20commands:\x0a','RSA','Crypt','User\x20has\x20been\x20validated','removeAllListeners','running','getMinutes','fork','remoteAddress','live','Notifications\x20disabled','enabled','from','secret','************','temporaryAccessAllowed','node-telegram-bot-api','removeListener','temporary\x20token\x20generated','/enable\x20-\x20enable\x20notifications\x0a','NTBA_FIX_319','static','join','::ffff:127.0.0.1','initclient','whitelist','2FA\x20login\x20token\x20generated','2364618EWIjOB','add-bot','/:bot/portfolio','get-starting-balances','write','http','defaults','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','reset-password','set','verify','token','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','sendMessage','Unauthorized\x20attempt\x20to\x20delete\x20bot','1LwrNjm'];_0x216d=function(){return _0x530e73;};return _0x216d();}function getConfiguration(){const _0x4cbbcd=_0x18fcf9;return dbConfig[_0x4cbbcd(0x15a)](_0x4cbbcd(0x101))[_0x4cbbcd(0x103)](_0x4cbbcd(0x1bc))[_0x4cbbcd(0x136)]()||[];}function getEnabledBots(){const _0x19616f=_0x18fcf9;return dbConfig[_0x19616f(0x15a)]('bots')['sortBy'](_0x19616f(0x1bc))[_0x19616f(0x106)]({'status':_0x19616f(0x18a)})['value']()||[];}function getSettings(){const _0x3fb0c0=_0x18fcf9;return dbSettings[_0x3fb0c0(0x15a)]('settings')[_0x3fb0c0(0x136)]()||{'timeshift':0x0};}function getSecure(){const _0x51d32c=_0x18fcf9;return dbSecure[_0x51d32c(0x15a)]('secure')[_0x51d32c(0x136)]()||{};}function getBlacklist(){const _0x53581f=_0x18fcf9;return dbSecure[_0x53581f(0x15a)](_0x53581f(0xc8))['value']()||[];}function broadcastToBots(_0x2a0571,_0x567d0f){const _0x326cb4=_0x18fcf9;config[_0x326cb4(0x160)](_0x1f8bda=>{const _0x1b9ac2=_0x326cb4;if(_0x1f8bda['status']=='enabled'&&_0x1f8bda[_0x1b9ac2(0x188)]==_0x1b9ac2(0x184)){if(pid[_0x1f8bda[_0x1b9ac2(0x1bc)]])pid[_0x1f8bda[_0x1b9ac2(0x1bc)]][_0x1b9ac2(0x1cc)]({[_0x2a0571]:_0x567d0f});}});}function storeSettings(_0x3aa5ca,_0x234e88=![]){const _0x4078e6=_0x18fcf9;_0x3aa5ca={...settings,..._0x3aa5ca};if(_0x234e88&&_0x3aa5ca['bbPassword']!='************'&&_0x3aa5ca[_0x4078e6(0x1ca)]!=''){const _0x3ad249=crypt['decrypt'](secure[_0x4078e6(0x110)],_0x3aa5ca[_0x4078e6(0x1ca)])['message'][_0x4078e6(0x1c7)]('@')[0x0],_0x5a262f=bcrypt[_0x4078e6(0x16b)](_0x3ad249,saltRounds);_0x3aa5ca={..._0x3aa5ca,'bbPassword':_0x5a262f};}if(_0x234e88&&_0x3aa5ca['telegramToken']!='************'&&_0x3aa5ca[_0x4078e6(0x156)]!=''){const _0x48c53b=crypt[_0x4078e6(0xe2)](secure[_0x4078e6(0x110)],_0x3aa5ca['telegramToken'])[_0x4078e6(0x141)][_0x4078e6(0x1c7)]('@')[0x0];_0x3aa5ca={..._0x3aa5ca,'telegramToken':_0x48c53b};}const _0x47b0d1=_0x3aa5ca['telegramToken']!=_0x4078e6(0x18d)&&_0x3aa5ca[_0x4078e6(0x156)]!=settings[_0x4078e6(0x156)]||_0x3aa5ca[_0x4078e6(0xcd)]!=settings['telegramUsername'],_0x1f18b7=_0x3aa5ca[_0x4078e6(0x156)]==''||_0x3aa5ca['telegramUsername']=='';if(_0x47b0d1)_0x3aa5ca[_0x4078e6(0x1dc)]=_0x4078e6(0x1b4);for(const [_0x2e233d,_0x448471]of Object[_0x4078e6(0x107)](_0x3aa5ca)){if(_0x2e233d==_0x4078e6(0x156)&&_0x448471==_0x4078e6(0x18d)){_0x3aa5ca['telegramToken']=settings[_0x4078e6(0x156)];continue;};if(_0x2e233d==_0x4078e6(0x1ca)&&_0x448471==_0x4078e6(0x18d)){_0x3aa5ca['bbPassword']=settings['bbPassword'];continue;};dbSettings[_0x4078e6(0x1a3)](_0x4078e6(0x15f)+_0x2e233d,_0x448471)[_0x4078e6(0x19e)]();}settings=_0x3aa5ca;if(socket[_0x4078e6(0x129)])socket[_0x4078e6(0x129)][_0x4078e6(0xba)](_0x4078e6(0xcc),cleanSettings());broadcastToBots(_0x4078e6(0xc3),settings[_0x4078e6(0xc3)]);if(_0x47b0d1&&!_0x1f18b7)initTelegram();if(_0x47b0d1&&_0x1f18b7)disableTelegram();for(let _0x282fe5 in socket){setAccess(_0x282fe5);}}function updateSetting(_0x3c3fee,_0x29e091){const _0x473042=_0x18fcf9;dbSettings[_0x473042(0x1a3)]('settings.'+_0x3c3fee,_0x29e091)[_0x473042(0x19e)](),settings=getSettings();if(socket['botmanager'])socket[_0x473042(0x129)][_0x473042(0xba)](_0x473042(0xcc),cleanSettings());}function storeSecure(_0x434086){const _0x14a90e=_0x18fcf9;dbSecure[_0x14a90e(0x15a)](_0x14a90e(0x13a))[_0x14a90e(0x154)](_0x434086)[_0x14a90e(0x19e)](),secure=_0x434086;}function addBlacklist(){const _0x4540f3=_0x18fcf9;cleanBlacklist();let _0x4f2bf0;telegramIpApproval?_0x4f2bf0=Math['max'](telegramIpApproval[_0x4540f3(0x14c)],loginExpiry):_0x4f2bf0=loginExpiry,dbSecure[_0x4540f3(0x15a)]('blacklist')['push']({'expiry':new Date()['getTime']()+_0x4f2bf0*0x3c*0x3e8,'token':token})[_0x4540f3(0x19e)](),blacklist=dbSecure['get'](_0x4540f3(0xc8))[_0x4540f3(0x136)]();}function cleanBlacklist(){const _0x3c6488=_0x18fcf9;let _0x15b0fb=dbSecure[_0x3c6488(0x15a)]('blacklist')[_0x3c6488(0x12a)]()['value'](),_0x2533a4=new Date()[_0x3c6488(0x133)]();_0x15b0fb[_0x3c6488(0x160)](_0x3e9e6d=>{const _0x11d09e=_0x3c6488;_0x3e9e6d[_0x11d09e(0x14c)]<_0x2533a4&&dbSecure[_0x11d09e(0x15a)](_0x11d09e(0xc8))['remove']({'expiry':_0x3e9e6d[_0x11d09e(0x14c)]})['write']();});}function initStates(){let _0x5a468f=getConfiguration();_0x5a468f['forEach'](_0x15b67d=>{const _0x442b48=_0x3492;_0x15b67d['live']=_0x442b48(0xed);}),storeConfiguration(_0x5a468f);}function onKeys(){const _0x23042b=new RSA();return new Promise(_0x4c1c44=>{const _0x5071ae=_0x3492;_0x23042b['generateKeyPairAsync']()[_0x5071ae(0x12f)](_0x4e74d2=>{_0x4c1c44(_0x4e74d2);});});}async function generateKeys(){return await onKeys();}function _0x3492(_0xa18a67,_0x33ed1e){const _0x58745d=_0x216d();return _0x3492=function(_0x4a2f9d,_0x15e0e2){_0x4a2f9d=_0x4a2f9d-0xb6;let _0x216d55=_0x58745d[_0x4a2f9d];return _0x216d55;},_0x3492(_0xa18a67,_0x33ed1e);}async function oneTimeMigration(){const _0x474103=_0x18fcf9;let _0x10f4a1=getConfiguration(),_0x555243=![];_0x10f4a1[_0x474103(0x160)](_0x1ef681=>{const _0x5b93a4=_0x474103;if(_0x1ef681[_0x5b93a4(0xbf)]==_0x5b93a4(0x184))_0x1ef681[_0x5b93a4(0xbf)]='enabled',_0x555243=!![];else _0x1ef681[_0x5b93a4(0xbf)]=='stopped'&&(_0x1ef681[_0x5b93a4(0xbf)]=_0x5b93a4(0xb6),_0x555243=!![]);});if(_0x555243)storeConfiguration(_0x10f4a1);let _0x5ea83f=getSecure();if(!_0x5ea83f[_0x474103(0xc4)](_0x474103(0x18c))){let _0x42fb1d=await generateKeys();_0x5ea83f[_0x474103(0x179)]=_0x42fb1d[_0x474103(0x179)],_0x5ea83f[_0x474103(0x110)]=_0x42fb1d[_0x474103(0x110)],_0x5ea83f[_0x474103(0x18c)]=crypto['randomBytes'](0x20)[_0x474103(0x112)](_0x474103(0x166));;storeSecure(_0x5ea83f);}let _0x33685e=getSettings();_0x555243=![];!_0x33685e['hasOwnProperty']('loginRequired')&&(_0x33685e['loginRequired']=![],_0x33685e[_0x474103(0x1b1)]='',_0x33685e['bbPassword']='',_0x33685e[_0x474103(0xbc)]=![],_0x555243=!![]);!_0x33685e['hasOwnProperty'](_0x474103(0xf5))&&(_0x33685e['whitelistEnabled']=![],_0x33685e[_0x474103(0x198)]=[],_0x33685e[_0x474103(0x18e)]=![],_0x555243=!![]);if(!_0x33685e[_0x474103(0xc4)](_0x474103(0xc1))){if(_0x33685e['telegramChatId'])_0x33685e[_0x474103(0xc1)]=!![];else _0x33685e['telegramEnabled']=![];_0x555243=!![];}if(_0x555243)storeSettings(_0x33685e);}function storeConfiguration(_0x2296fa){const _0x41dca0=_0x18fcf9;dbConfig[_0x41dca0(0x15a)](_0x41dca0(0x101))[_0x41dca0(0x116)]()['write'](),dbConfig[_0x41dca0(0x15a)]('bots')[_0x41dca0(0x154)](..._0x2296fa)[_0x41dca0(0x19e)](),config=_0x2296fa;}function resetPassword(){const _0x108702=_0x18fcf9;tgBot&&settings['telegramChatId']&&(tgBot[_0x108702(0x190)](_0x108702(0x17d)),tgBot[_0x108702(0x1a7)](settings[_0x108702(0x164)],_0x108702(0xe8),{'parse_mode':_0x108702(0xfc),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x108702(0x117)},{'text':'no','callback_data':'no'}]]}})[_0x108702(0x177)](_0x5b8a21=>{telegramError(_0x5b8a21);}),tgBot['on'](_0x108702(0x17d),async _0x4ac808=>{const _0x5d9042=_0x108702,_0x411b81=_0x4ac808['data'],_0x4ea90a=_0x4ac808[_0x5d9042(0x141)];tgBot[_0x5d9042(0xd9)](_0x4ac808['id'])['then'](async()=>{const _0x59dcbf=_0x5d9042;if(_0x411b81!='no'){const _0x15b9b1=0xf,_0x2f5300=_0x59dcbf(0x173),_0x44a57f=Array[_0x59dcbf(0x18b)](crypto['randomFillSync'](new Uint32Array(_0x15b9b1)))[_0x59dcbf(0xfa)](_0x1e77db=>_0x2f5300[_0x1e77db%_0x2f5300['length']])['join'](''),_0x389ccf=bcrypt[_0x59dcbf(0x16b)](_0x44a57f,saltRounds);storeSettings({'bbPassword':_0x389ccf}),await tgBot[_0x59dcbf(0x1a7)](_0x4ea90a[_0x59dcbf(0xc7)]['id'],_0x59dcbf(0x11f)+_0x44a57f,{'parse_mode':_0x59dcbf(0xfc)})[_0x59dcbf(0x177)](_0x2b303f=>{telegramError(_0x2b303f);});}else await tgBot[_0x59dcbf(0x1a7)](_0x4ea90a[_0x59dcbf(0xc7)]['id'],_0x59dcbf(0x148))[_0x59dcbf(0x177)](_0xfdb08=>{telegramError(_0xfdb08);});}),tgBot[_0x5d9042(0x190)](_0x5d9042(0x17d));}));}function logging(_0x95c0c){const _0x581f81=_0x18fcf9;console[_0x581f81(0x1bf)](getTimeStamp()+_0x581f81(0x139)+_0x95c0c);if(tgBot&&settings['telegramChatId']&&settings[_0x581f81(0x1dc)]!=_0x581f81(0xdf))tgBot['sendMessage'](settings[_0x581f81(0x164)],_0x581f81(0x11e)+_0x95c0c)[_0x581f81(0x177)](_0x4d05fd=>{telegramError(_0x4d05fd);});}function getServerTime(){const _0x17b40c=_0x18fcf9,_0x500dd6=new Date();return _0x500dd6['getFullYear']()+'/'+(_0x500dd6[_0x17b40c(0xe5)]()+0x1)[_0x17b40c(0x112)]()[_0x17b40c(0x114)](0x2,'0')+'/'+_0x500dd6[_0x17b40c(0xd3)]()['toString']()[_0x17b40c(0x114)](0x2,'0')+'\x20'+_0x500dd6[_0x17b40c(0xea)]()[_0x17b40c(0x112)]()['padStart'](0x2,'0')+':'+_0x500dd6[_0x17b40c(0x185)]()['toString']()[_0x17b40c(0x114)](0x2,'0')+':'+_0x500dd6[_0x17b40c(0xd7)]()[_0x17b40c(0x112)]()[_0x17b40c(0x114)](0x2,'0');}function getTimeStamp(){const _0x6ce15a=_0x18fcf9,_0x4d1790=shiftedTime();return _0x4d1790[_0x6ce15a(0x15b)]()+'/'+(_0x4d1790['getMonth']()+0x1)[_0x6ce15a(0x112)]()[_0x6ce15a(0x114)](0x2,'0')+'/'+_0x4d1790[_0x6ce15a(0xd3)]()[_0x6ce15a(0x112)]()['padStart'](0x2,'0')+'\x20'+_0x4d1790[_0x6ce15a(0xea)]()[_0x6ce15a(0x112)]()[_0x6ce15a(0x114)](0x2,'0')+':'+_0x4d1790[_0x6ce15a(0x185)]()['toString']()[_0x6ce15a(0x114)](0x2,'0')+':'+_0x4d1790[_0x6ce15a(0xd7)]()['toString']()['padStart'](0x2,'0');}function shiftedTime(){const _0xf72e2a=_0x18fcf9,_0x229a7c=new Date();let _0x38d244=_0x229a7c;if(settings[_0xf72e2a(0xc3)]&&settings['timeshift']!==0x0)_0x38d244=fns[_0xf72e2a(0x12b)](_0x229a7c,{'hours':settings['timeshift']});return _0x38d244;}function startAnalytics(){let _0xc71d05=new Date()['getUTCHours']();_0xc71d05==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x340c1f=_0x18fcf9;analytics['page']({'title':'Balance\x20Bot\x20Server','href':_0x340c1f(0x1d9),'path':'/v'+serverversion});}function validateCredentials(_0x535d15){const _0x2979c0=_0x18fcf9;if(_0x535d15[_0x2979c0(0xb8)]==settings[_0x2979c0(0x1b1)]&&bcrypt[_0x2979c0(0x1b9)](_0x535d15[_0x2979c0(0x13b)],settings[_0x2979c0(0x1ca)])){if(settings[_0x2979c0(0xbc)])return{'allow':![],'reason':_0x2979c0(0x147),'token':null};else{const _0x1b4566=generateLoginToken();return{'allow':!![],'reason':_0x2979c0(0x142),'token':_0x1b4566};}}else return{'allow':![],'reason':_0x2979c0(0xf6),'token':null};}function refreshToken(){const _0x484865=_0x18fcf9,_0xea449a=generateLoginToken();return{'allow':!![],'reason':_0x484865(0x142),'token':_0xea449a};}function validateAccess(_0x421b50){const _0x40da4c=_0x18fcf9;let _0x2cc412;const _0x1d756f=_0x1503f0=>{const _0x348963=_0x3492;if(settings[_0x348963(0x1aa)]){if(settings[_0x348963(0xbc)]){if(telegram2FaApproved()){const _0x580332=generateLoginToken();return{'allow':!![],'reason':'2FA\x20login\x20token\x20generated','token':_0x580332};}else return{'allow':![],'reason':_0x348963(0x147),'token':null};}else return _0x2cc412=validToken(_0x1503f0),_0x2cc412['hasOwnProperty'](_0x348963(0x161))?{'allow':!![],'reason':_0x348963(0x1d8),'token':_0x1503f0}:{'allow':![],'reason':_0x348963(0x1ba),'token':null};}else return{'allow':!![],'reason':_0x348963(0x13c),'token':null};};if(settings[_0x40da4c(0xf5)]){let _0x103bf0=[...settings[_0x40da4c(0x198)],'::1',_0x40da4c(0x196),_0x40da4c(0x13e)];if(_0x103bf0[_0x40da4c(0x128)](externalip))return _0x1d756f(_0x421b50);else{_0x2cc412=validToken(_0x421b50);if(_0x2cc412[_0x40da4c(0xc4)](_0x40da4c(0x161)))return _0x1d756f(_0x421b50);else{if(telegramIpApproved()){const _0x3bc62f=generateToken();return _0x2cc412=_0x1d756f(_0x421b50),_0x2cc412['allow']?{'allow':!![],'reason':_0x40da4c(0x191),'token':_0x3bc62f}:_0x2cc412;}else return settings[_0x40da4c(0x18e)]?{'allow':![],'reason':_0x40da4c(0x13f),'token':null}:{'allow':![],'reason':_0x40da4c(0x162),'token':null};}}}else return _0x1d756f(_0x421b50);}function timelyDecrypt(_0x395d44,_0x1bf15e=!![]){const _0x1abd14=_0x18fcf9;if(_0x395d44)try{const _0x14e34c=crypt[_0x1abd14(0xe2)](secure[_0x1abd14(0x110)],_0x395d44)[_0x1abd14(0x141)],_0x59e4a7=_0x14e34c[_0x1abd14(0x1c7)]('@')[0x0],_0xf954c5=_0x14e34c[_0x1abd14(0x1c7)]('@')[0x1],_0x3d5da8=new Date()['getTime']();if(_0x1bf15e){if(_0x3d5da8-_0xf954c5<maxSecretAge*0x3e8)return _0x59e4a7;else return![];}else return _0x59e4a7;}catch{return![];}else return![];}const validToken=_0x27c103=>{const _0xf3c9c0=_0x18fcf9;if(!_0x27c103)return{'error':_0xf3c9c0(0xe0)};for(let _0x186707 of blacklist){if(_0x186707[_0xf3c9c0(0x1a5)]==_0x27c103)return{'error':_0xf3c9c0(0x1c8)};}let _0x4d14ad;try{_0x4d14ad=jwt[_0xf3c9c0(0x1a4)](_0x27c103,secure['secret']+uuid);}catch{return{'error':_0xf3c9c0(0x1be)};}if(!_0x4d14ad[_0xf3c9c0(0xc4)]('clientip')&&!_0x4d14ad[_0xf3c9c0(0xc4)]('username')||!_0x4d14ad['hasOwnProperty']('exp'))return{'error':_0xf3c9c0(0x134)};if(!_0x4d14ad[_0xf3c9c0(0xc4)](_0xf3c9c0(0xb8))&&_0x4d14ad[_0xf3c9c0(0xc4)](_0xf3c9c0(0xe3))){const {clientip:_0x4c2ed5}=_0x4d14ad;return externalip==_0x4c2ed5?{'success':'User\x20has\x20been\x20validated'}:{'error':_0xf3c9c0(0x15c)};}else{if(_0x4d14ad[_0xf3c9c0(0xc4)](_0xf3c9c0(0xb8))&&_0x4d14ad['hasOwnProperty']('clientip')){const {username:_0x417da6,clientip:_0x1d6d0a}=_0x4d14ad;return settings[_0xf3c9c0(0x1b1)]==_0x417da6&&externalip==_0x1d6d0a?{'success':_0xf3c9c0(0x182)}:{'error':'Invalid\x20username\x20or\x20IP\x20address'};}}},generateLoginToken=()=>{const _0x3db6e6=_0x18fcf9;if(uuid)return jwt[_0x3db6e6(0x14a)]({'username':settings[_0x3db6e6(0x1b1)],'clientip':externalip},secure[_0x3db6e6(0x18c)]+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x496e20=_0x18fcf9;if(uuid)return jwt['sign']({'clientip':externalip},secure[_0x496e20(0x18c)]+uuid,{'expiresIn':telegramIpApproval[_0x496e20(0x14c)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x590093=_0x18fcf9;let _0x1b6139=![];return telegramIpApproval&&telegramIpApproval[_0x590093(0x14c)]!=_0x590093(0x157)&&(_0x1b6139=telegramIpApproval['clientip']==externalip&&new Date()[_0x590093(0x133)]()-telegramIpApproval['timestamp']<telegramIpApproval['expiry']*0x3c*0x3e8),_0x1b6139;},telegram2FaApproved=()=>{const _0x36a8a7=_0x18fcf9;let _0xe8e25=![];return telegram2FaApproval&&telegram2FaApproval['expiry']!=_0x36a8a7(0x157)&&(_0xe8e25=telegram2FaApproval['clientip']==externalip&&new Date()[_0x36a8a7(0x133)]()-telegram2FaApproval['timestamp']<telegram2FaApproval[_0x36a8a7(0x14c)]*0x3c*0x3e8),_0xe8e25;},normalizeIP=_0x27a44b=>{const _0x4bf7f6=_0x18fcf9;let _0x4dacd8=null,_0x3c7fd9=null;if(ipaddr[_0x4bf7f6(0x10d)](_0x27a44b)){const _0x455d89=ipaddr[_0x4bf7f6(0x11b)](_0x27a44b);_0x455d89[_0x4bf7f6(0x171)]()==='ipv6'?(_0x455d89[_0x4bf7f6(0xf4)]()&&(_0x4dacd8=_0x455d89['toIPv4Address']()[_0x4bf7f6(0x112)]()),_0x3c7fd9=_0x455d89['toString']()):(_0x4dacd8=_0x455d89['toString'](),_0x3c7fd9=_0x455d89[_0x4bf7f6(0xe7)]()[_0x4bf7f6(0x112)]());}return{'show':_0x4dacd8?_0x4dacd8:_0x3c7fd9,'store':_0x3c7fd9};};