const _0x5e87e7=_0x5ccd;(function(_0x48ded3,_0x4d67e9){const _0x16aece=_0x5ccd,_0x137fee=_0x48ded3();while(!![]){try{const _0x55012d=parseInt(_0x16aece(0xaa))/0x1*(-parseInt(_0x16aece(0x154))/0x2)+parseInt(_0x16aece(0x10b))/0x3*(-parseInt(_0x16aece(0x17e))/0x4)+parseInt(_0x16aece(0x187))/0x5*(parseInt(_0x16aece(0x148))/0x6)+-parseInt(_0x16aece(0xbd))/0x7+-parseInt(_0x16aece(0x196))/0x8+parseInt(_0x16aece(0xa3))/0x9*(-parseInt(_0x16aece(0x1b0))/0xa)+parseInt(_0x16aece(0x1af))/0xb*(parseInt(_0x16aece(0xf6))/0xc);if(_0x55012d===_0x4d67e9)break;else _0x137fee['push'](_0x137fee['shift']());}catch(_0x427e1c){_0x137fee['push'](_0x137fee['shift']());}}}(_0x3694,0x75ac5));const _0x1d5c82=function(){let _0x21cd2e=!![];return function(_0x45844f,_0x526278){const _0x46a548=_0x21cd2e?function(){const _0x209b83=_0x5ccd;if(_0x526278){const _0x588b44=_0x526278[_0x209b83(0xe8)](_0x45844f,arguments);return _0x526278=null,_0x588b44;}}:function(){};return _0x21cd2e=![],_0x46a548;};}(),_0x19640e=_0x1d5c82(this,function(){const _0x27ad34=_0x5ccd;return _0x19640e[_0x27ad34(0x19c)]()[_0x27ad34(0x167)](_0x27ad34(0x11b))[_0x27ad34(0x19c)]()['constructor'](_0x19640e)[_0x27ad34(0x167)]('(((.+)+)+)+$');});_0x19640e();'use strict';process[_0x5e87e7(0xb6)]['NTBA_FIX_319']=0x1;const childProcess=require(_0x5e87e7(0xdb)),FileSync=require(_0x5e87e7(0xdd)),fs=require('fs'),fns=require(_0x5e87e7(0xc7)),low=require(_0x5e87e7(0x15d)),path=require(_0x5e87e7(0x9b)),crypto=require('crypto'),Crypt=require(_0x5e87e7(0x1c6))[_0x5e87e7(0xf0)],RSA=require('hybrid-crypto-js')[_0x5e87e7(0x10d)],bcrypt=require(_0x5e87e7(0x19d)),jwt=require(_0x5e87e7(0xe0)),analyticsLib=require(_0x5e87e7(0x118))[_0x5e87e7(0x1bc)],googleAnalytics=require(_0x5e87e7(0xa8))['default'],ipaddr=require(_0x5e87e7(0xe7));let bbpath=_0x5e87e7(0xe4);const botfile=_0x5e87e7(0xf7),configfile=_0x5e87e7(0x1c3),settingsfile=_0x5e87e7(0xd7),securefile=_0x5e87e7(0x186);function _0x5ccd(_0x2ff7fd,_0x48252d){const _0x133f71=_0x3694();return _0x5ccd=function(_0x19640e,_0x1d5c82){_0x19640e=_0x19640e-0x98;let _0x36941b=_0x133f71[_0x19640e];return _0x36941b;},_0x5ccd(_0x2ff7fd,_0x48252d);}!fs[_0x5e87e7(0x1ae)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0x5e87e7(0x182);!fs[_0x5e87e7(0x1ae)](configpath)&&fs[_0x5e87e7(0xec)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x5e87e7(0x111)]({'bots':[]})[_0x5e87e7(0x195)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x5e87e7(0x111)]({'settings':{'timeshift':0x0}})['write']();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x5e87e7(0x111)]({'secure':{},'blacklist':[]})[_0x5e87e7(0x195)]();let crypt=new Crypt({'md':_0x5e87e7(0x101),'rsaStandard':_0x5e87e7(0x152)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+'version.json')[_0x5e87e7(0xf8)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require('express'),app=express(),http=require(_0x5e87e7(0x1c7))['createServer'](app);app[_0x5e87e7(0x122)](express[_0x5e87e7(0x1c2)](path['join'](__dirname,bbpath,_0x5e87e7(0x116)))),app[_0x5e87e7(0x122)](express[_0x5e87e7(0x1c2)](path[_0x5e87e7(0x113)](__dirname,bbpath,'build'))),app[_0x5e87e7(0xbb)]('/',function(_0x1f2c4e,_0x1250e7){const _0x218180=_0x5e87e7;_0x1250e7['sendFile'](path[_0x218180(0x113)](__dirname,bbpath,_0x218180(0x116),_0x218180(0x179)));}),app['get'](_0x5e87e7(0x100),function(_0x1782ba,_0x4e8512){const _0x416573=_0x5e87e7;_0x4e8512[_0x416573(0xf5)](path[_0x416573(0x113)](__dirname,bbpath,_0x416573(0x14d),'index.html'));}),app[_0x5e87e7(0xbb)]('/:bot/portfolio',(_0x127536,_0x22491d)=>{const _0x14fcf6=_0x5e87e7;_0x22491d['sendFile'](path[_0x14fcf6(0x113)](__dirname,bbpath,'build','index.html'));}),app['get'](_0x5e87e7(0xd8),(_0x121523,_0x524ab3)=>{const _0x22599a=_0x5e87e7;_0x524ab3[_0x22599a(0xf5)](path[_0x22599a(0x113)](__dirname,bbpath,'build',_0x22599a(0x179)));}),app[_0x5e87e7(0xbb)]('/:bot/coins',(_0x15c809,_0x5610f2)=>{const _0x2b3285=_0x5e87e7;_0x5610f2[_0x2b3285(0xf5)](path[_0x2b3285(0x113)](__dirname,bbpath,_0x2b3285(0x14d),_0x2b3285(0x179)));}),app[_0x5e87e7(0xbb)]('/:bot/history',(_0x3c640f,_0x486815)=>{const _0x394d4a=_0x5e87e7;_0x486815[_0x394d4a(0xf5)](path[_0x394d4a(0x113)](__dirname,bbpath,_0x394d4a(0x14d),_0x394d4a(0x179)));}),app[_0x5e87e7(0xbb)]('/:bot/configuration',(_0x4dc618,_0x4f7d87)=>{const _0x2821c8=_0x5e87e7;_0x4f7d87['sendFile'](path[_0x2821c8(0x113)](__dirname,bbpath,_0x2821c8(0x14d),_0x2821c8(0x179)));}),app['get'](_0x5e87e7(0x1b9),(_0x49d367,_0x17df47)=>{const _0x9cbbe0=_0x5e87e7;_0x17df47[_0x9cbbe0(0xf5)](path['join'](__dirname,bbpath,_0x9cbbe0(0x14d),_0x9cbbe0(0x179)));}),http[_0x5e87e7(0x1b6)](PORT);const analytics=analyticsLib({'app':'Balance\x20Bot','plugins':[googleAnalytics({'trackingId':_0x5e87e7(0x9d)})]}),TelegramBot=require('node-telegram-bot-api');let tgBot;if(settings['telegramToken']&&settings[_0x5e87e7(0xb2)]!=''&&settings[_0x5e87e7(0xfc)]&&settings[_0x5e87e7(0xfc)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x17d0f7=_0x5e87e7;console[_0x17d0f7(0x144)](''),console[_0x17d0f7(0x144)](_0x17d0f7(0x159)),logging(_0x17d0f7(0xda)+PORT),console[_0x17d0f7(0x144)](_0x17d0f7(0x159));if(config[_0x17d0f7(0x164)]!=0x0)config[_0x17d0f7(0x115)](_0x18fac5=>{const _0x4625e5=_0x17d0f7;if(_0x18fac5[_0x4625e5(0xb3)]=='enabled'||_0x18fac5[_0x4625e5(0xb3)]==_0x4625e5(0x9f))logging('starting\x20bot\x20|\x20Bot\x20'+_0x18fac5[_0x4625e5(0x12e)]+_0x4625e5(0xb1)+_0x18fac5[_0x4625e5(0x1c5)]),startBot([_0x18fac5[_0x4625e5(0x12e)]],{'cwd':bbpath},function(_0x42598e){if(_0x42598e)logging(_0x42598e);});else(_0x18fac5['status']==_0x4625e5(0x1a0)||_0x18fac5[_0x4625e5(0xb3)]==_0x4625e5(0x1a1))&&logging('idling\x20bot\x20\x20\x20|\x20Bot\x20'+_0x18fac5[_0x4625e5(0x12e)]+_0x4625e5(0xb1)+_0x18fac5['botname']);});else!newBot&&console[_0x17d0f7(0x144)](_0x17d0f7(0xb9));if(newBot)addBot();console[_0x17d0f7(0x144)](_0x17d0f7(0x159)),console['log']('');}function startSocket(){const _0x2b75a7=require('socket.io')(http,{});_0x2b75a7['on']('connection',_0x49da08=>{const _0xb96361=_0x5ccd;let _0x4a2bdc,_0xff7f9e,_0x336779;const _0x130e55=_0x49da08[_0xb96361(0x175)][_0xb96361(0xc3)][_0xb96361(0x18e)],_0x1d945f=_0x49da08[_0xb96361(0x175)][_0xb96361(0xe5)][_0xb96361(0x157)];if(!_0x1d945f)_0x49da08['emit'](_0xb96361(0xb3),{'publicKey':secure['publicKey']});else{uuid=timelyDecrypt(_0x49da08[_0xb96361(0x175)][_0xb96361(0xe5)][_0xb96361(0x157)],![]),_0xff7f9e=_0x130e55[_0xb96361(0x1a7)](/bot[0-9]{3}/);if(_0xff7f9e)_0x336779=_0xff7f9e[0x0][_0xb96361(0x1a7)](/[0-9]{3}/);if(_0x336779)_0x4a2bdc=_0x336779[0x0];else _0x4a2bdc=_0xb96361(0x192);if(socket[_0x4a2bdc])socket[_0x4a2bdc][_0xb96361(0x124)](!![]);socket[_0x4a2bdc]=_0x49da08,setAccess(_0x4a2bdc);if(accessControl['allow']){if(_0x4a2bdc==_0xb96361(0x192))initializeSocketBotManager();else initializeSocketBot(_0x4a2bdc);}if(!serverStatus[_0x4a2bdc])serverStatus[_0x4a2bdc]=_0xb96361(0x13f);socket[_0x4a2bdc]['on']('login',_0x37ceb6=>{const _0x561d99=_0xb96361,_0x37fdcb=timelyDecrypt(_0x37ceb6[_0x561d99(0x162)]);if(_0x37fdcb){_0x37ceb6={'username':_0x37ceb6[_0x561d99(0x150)],'password':_0x37fdcb};let _0x2d26b7=validateCredentials(_0x37ceb6);if(_0x2d26b7[_0x561d99(0x16c)]==![]&&_0x2d26b7['reason']==_0x561d99(0x99))socket[_0x4a2bdc][_0x561d99(0x1bb)]('status',{'access':_0x2d26b7}),loginAccess2FA(externalip);else{if(_0x2d26b7[_0x561d99(0x16c)]==![]&&_0x2d26b7[_0x561d99(0x158)]==_0x561d99(0xac))socket[_0x4a2bdc][_0x561d99(0x1bb)](_0x561d99(0xb3),{'access':_0x2d26b7});else{if(_0x2d26b7['allow']&&_0x2d26b7['reason']==_0x561d99(0x173)){token=_0x2d26b7[_0x561d99(0xad)];for(let _0x876197 in socket){if(_0x876197==_0x561d99(0x192))initializeSocketBotManager();else initializeSocketBot(_0x876197);socket[_0x876197][_0x561d99(0x1bb)](_0x561d99(0xb3),{'status':serverStatus[_0x876197]||_0x561d99(0x17d),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x2d26b7,'externalip':externalip,'publicKey':secure[_0x561d99(0x155)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x561d99(0x180));}}}}else logging(_0x561d99(0x123));}),socket[_0x4a2bdc]['on'](_0xb96361(0xc8),()=>{resetPassword();}),socket[_0x4a2bdc]['on']('disconnect',_0x6a60d=>{let _0xf72847=[];for(let _0x58874 in socket){if(_0x58874!=_0x4a2bdc)_0xf72847[_0x58874]=socket[_0x58874];}socket=_0xf72847;});if(_0x4a2bdc!=_0xb96361(0x192)&&config[_0xb96361(0xa9)]!=''){if(pid[_0x4a2bdc])pid[_0x4a2bdc][_0xb96361(0x131)]({'function':'initclient','args':null});}}});}function setAccess(_0xf4c4c4){const _0x515fb6=_0x5e87e7;externalip=normalizeIP(socket[_0xf4c4c4][_0x515fb6(0x1a5)][_0x515fb6(0x138)])[_0x515fb6(0x190)],accessControl=validateAccess(token),accessControl[_0x515fb6(0xad)]&&accessControl['reason']=='temporary\x20token\x20generated'&&setSessionTimeout(_0x515fb6(0x141)),accessControl[_0x515fb6(0xad)]&&accessControl[_0x515fb6(0x158)]=='2FA\x20login\x20token\x20generated'&&setSessionTimeout(_0x515fb6(0x180)),socket[_0xf4c4c4][_0x515fb6(0x1bb)]('status',{'status':serverStatus[_0xf4c4c4]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x515fb6(0x155)],'loginNow':accessControl['reason']==_0x515fb6(0x130)||accessControl[_0x515fb6(0x158)]=='2FA\x20login\x20required'}),accessControl[_0x515fb6(0x16c)]==![]&&accessControl[_0x515fb6(0x158)]==_0x515fb6(0x17a)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x2e7466){const _0x23bb6f=_0x5e87e7;let _0x310094;if(_0x2e7466=='login')_0x310094=loginExpiry*0x3c*0x3e8;else _0x310094=telegramIpApproval['expiry']*0x3c*0x3e8-(new Date()['getTime']()-telegramIpApproval[_0x23bb6f(0x12c)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x45ab8b=_0x23bb6f;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x1d3f07=validateAccess(token);if(!(_0x1d3f07[_0x45ab8b(0x16c)]&&_0x1d3f07['reason']=='login\x20not\x20required'))for(let _0x4005f3 in socket){socket[_0x4005f3]['emit']('status',{'access':{'allow':![],'reason':_0x45ab8b(0x13c),'token':null}});}token=null;},_0x310094);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x45ed5a=_0x5ccd;let _0x13cc4e=refreshToken();for(let _0x45634e in socket){socket[_0x45634e]['emit'](_0x45ed5a(0xb3),{'status':serverStatus[_0x45634e]||_0x45ed5a(0x17d),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x13cc4e,'externalip':externalip,'publicKey':secure[_0x45ed5a(0x155)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0xd6ea14=_0x5e87e7;socket[_0xd6ea14(0x192)][_0xd6ea14(0x1bb)]('bots',config),socket[_0xd6ea14(0x192)][_0xd6ea14(0x1bb)]('settings',cleanSettings()),socket['botmanager']['on'](_0xd6ea14(0xd2),_0x122397=>{const _0x14f613=_0xd6ea14;if(validateAccess(_0x122397)[_0x14f613(0x16c)])addBot();else logging(_0x14f613(0xfe));}),socket[_0xd6ea14(0x192)]['on'](_0xd6ea14(0x189),(_0x174648,_0x215b25)=>{const _0x373e51=_0xd6ea14;if(validateAccess(_0x215b25)[_0x373e51(0x16c)])toggleBot(_0x174648['botID'],_0x174648[_0x373e51(0xb3)],_0x174648[_0x373e51(0xf4)]);else logging('Unauthorized\x20attempt\x20to\x20update\x20bot');}),socket['botmanager']['on'](_0xd6ea14(0x1ba),(_0x5b9e44,_0x4c8550)=>{const _0x14fb07=_0xd6ea14;if(validateAccess(_0x4c8550)[_0x14fb07(0x16c)])deleteBot(_0x5b9e44);else logging(_0x14fb07(0x15e));}),socket['botmanager']['on']('store-settings',(_0x2e5ed3,_0x37362d)=>{const _0xa8e82c=_0xd6ea14;if(validateAccess(_0x37362d)[_0xa8e82c(0x16c)])storeSettings(_0x2e5ed3,!![]);else logging(_0xa8e82c(0xcd));}),socket[_0xd6ea14(0x192)]['on'](_0xd6ea14(0xa5),_0x51c7b4=>{const _0x4c45fe=_0xd6ea14;if(validateAccess(_0x51c7b4)[_0x4c45fe(0x16c)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x535be8 in socket){socket[_0x535be8]['emit'](_0x4c45fe(0xb3),{'access':{'allow':![],'reason':_0x4c45fe(0x184),'token':null}});}}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function initializeSocketBot(_0x907b02){const _0x2ca8e2=_0x5e87e7;socket[_0x907b02]['on']('get-logs',(_0x4bd9d7,_0x473152)=>{const _0x184567=_0x5ccd;if(validateAccess(_0x473152)[_0x184567(0x16c)]){if(pid[_0x907b02])pid[_0x907b02][_0x184567(0x131)]({'function':_0x184567(0xba),'args':_0x4bd9d7});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),socket[_0x907b02]['on'](_0x2ca8e2(0x198),(_0x501562,_0xc66183)=>{const _0x277b2d=_0x2ca8e2;if(validateAccess(_0xc66183)[_0x277b2d(0x16c)]){if(pid[_0x907b02])pid[_0x907b02][_0x277b2d(0x131)]({'function':_0x277b2d(0x1bf),'args':_0x501562});}else logging(_0x277b2d(0x1b4));}),socket[_0x907b02]['on']('store-configuration',(_0x294d18,_0x4a6e3c)=>{const _0x234107=_0x2ca8e2;if(validateAccess(_0x4a6e3c)[_0x234107(0x16c)]){if(pid[_0x907b02])pid[_0x907b02][_0x234107(0x131)]({'function':_0x234107(0x174),'args':_0x294d18});}else logging(_0x234107(0x188));}),socket[_0x907b02]['on']('store-headless',(_0x2ff09d,_0x1f6637)=>{const _0x2d40cf=_0x2ca8e2;if(validateAccess(_0x1f6637)[_0x2d40cf(0x16c)]){if(pid[_0x907b02])pid[_0x907b02]['send']({'function':'storeHeadless','args':_0x2ff09d});}else logging(_0x2d40cf(0xed));}),socket[_0x907b02]['on'](_0x2ca8e2(0x1c4),_0x2bdb60=>{const _0x17c451=_0x2ca8e2;if(validateAccess(_0x2bdb60)[_0x17c451(0x16c)]){if(pid[_0x907b02])pid[_0x907b02][_0x17c451(0x131)]({'function':_0x17c451(0x15f),'args':null});}else logging(_0x17c451(0x161));}),socket[_0x907b02]['on'](_0x2ca8e2(0x1a4),(_0x579f39,_0x378209)=>{const _0x178c7d=_0x2ca8e2;if(validateAccess(_0x378209)[_0x178c7d(0x16c)]){if(pid[_0x907b02])pid[_0x907b02][_0x178c7d(0x131)]({'function':_0x178c7d(0xa1),'args':_0x579f39});}else logging(_0x178c7d(0xff));}),socket[_0x907b02]['on'](_0x2ca8e2(0xa5),_0x2dc0c8=>{const _0x2681b6=_0x2ca8e2;if(validateAccess(_0x2dc0c8)['allow']){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x32c03a in socket){socket[_0x32c03a][_0x2681b6(0x1bb)](_0x2681b6(0xb3),{'access':{'allow':![],'reason':_0x2681b6(0x184),'token':null}});}}else logging(_0x2681b6(0xa2));});}function removeSocketListeners(){for(let _0x21f23d in socket){socket[_0x21f23d]['removeAllListeners']();}}function cleanSettings(){const _0x40c24c=_0x5e87e7;let _0x122c6c=settings;return settings[_0x40c24c(0xb2)]&&settings[_0x40c24c(0xb2)]!=''&&(_0x122c6c={..._0x122c6c,'telegramToken':_0x40c24c(0xce)}),settings[_0x40c24c(0x1b8)]&&settings[_0x40c24c(0x1b8)]!=''&&(_0x122c6c={..._0x122c6c,'bbPassword':_0x40c24c(0xce)}),_0x122c6c;}function startBot(_0x48d2f3,_0x1b7f3e,_0x4c2539){const _0x228ad2=_0x5e87e7;let _0x2f1266=![];const _0x135e53=_0x48d2f3[0x0];_0x1b7f3e={..._0x1b7f3e,'stdio':[_0x228ad2(0x17c),_0x228ad2(0x17c),_0x228ad2(0x17c),_0x228ad2(0xc5)]},pid[_0x135e53]=childProcess['fork'](botfile,_0x48d2f3,_0x1b7f3e),pid[_0x135e53]['on']('message',_0x4d856d=>{const _0x151aa8=_0x228ad2;switch(Object['keys'](_0x4d856d)[0x0]){case _0x151aa8(0x1c5):updateBotName(_0x135e53,_0x4d856d[_0x151aa8(0x1c5)]);break;case _0x151aa8(0xb3):updateStatus(_0x135e53,_0x4d856d[_0x151aa8(0xb3)]);break;case'live':updateLive(_0x135e53,_0x4d856d[_0x151aa8(0xf4)]);break;case _0x151aa8(0xf3):updateLive(_0x135e53,_0x4d856d[_0x151aa8(0xf3)]);if(socket[_0x135e53])socket[_0x135e53]['emit']('status',{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x151aa8(0x107):_0x4d856d[_0x151aa8(0x107)]==_0x151aa8(0x1ad)&&stopBot(_0x135e53);_0x4d856d[_0x151aa8(0x107)]==_0x151aa8(0xbf)&&toggleBot(_0x135e53,'disabled',_0x151aa8(0x193));break;case'telegram':sendTelegram(_0x135e53,_0x4d856d[_0x151aa8(0x114)]);break;case'function':if(socket[_0x135e53])socket[_0x135e53][_0x151aa8(0x1bb)](_0x4d856d[_0x151aa8(0xd1)],_0x4d856d[_0x151aa8(0x18d)]);break;}}),pid[_0x135e53]['on'](_0x228ad2(0x19a),function(_0x3f9eeb){if(_0x2f1266)return;_0x2f1266=!![],_0x4c2539(_0x3f9eeb);}),pid[_0x135e53]['on'](_0x228ad2(0x169),function(_0x5ec3d2){const _0x46bb56=_0x228ad2;if(_0x2f1266)return;_0x2f1266=!![],_0x4c2539(null);const _0x410368=dbConfig['get'](_0x46bb56(0xea))[_0x46bb56(0x1aa)]({'botID':_0x135e53})['value']();_0x410368&&(_0x410368[_0x46bb56(0xb3)]==_0x46bb56(0x145)||_0x410368[_0x46bb56(0xb3)]=='new')&&(updateLive(_0x135e53,_0x46bb56(0x193)),logging(_0x46bb56(0x129)+_0x135e53),startBot([_0x135e53],{'cwd':bbpath},function(_0x1113ec){if(_0x1113ec)logging(_0x1113ec);}));});}function stopBot(_0x38c514){const _0x571055=_0x5e87e7;if(socket[_0x38c514])socket[_0x38c514][_0x571055(0x124)](!![]);if(pid[_0x38c514])pid[_0x38c514][_0x571055(0xbf)]();}function addBot(){const _0x4a4388=_0x5e87e7;let _0xd8be5;for(let _0x2a58bb=0x1;_0x2a58bb<0x3e9;_0x2a58bb++){_0xd8be5=_0x2a58bb['toString']()['padStart'](0x3,'0');let _0x35fa0e=config[_0x4a4388(0x1aa)](_0x264ef3=>_0x264ef3['botID']==_0xd8be5);if(!_0x35fa0e)break;}if(_0xd8be5==='1000'){logging(_0x4a4388(0x11c));return;}logging(_0x4a4388(0x151)+_0xd8be5),dbConfig[_0x4a4388(0xbb)](_0x4a4388(0xea))['push']({'botID':_0xd8be5,'botname':'Bot\x20'+_0xd8be5,'status':'new','live':''})[_0x4a4388(0x195)](),startBot([_0xd8be5],{'cwd':bbpath},function(_0x5eb233){if(_0x5eb233)logging(_0x5eb233);}),config=getConfiguration();if(socket[_0x4a4388(0x192)])socket[_0x4a4388(0x192)][_0x4a4388(0x1bb)](_0x4a4388(0xea),config);}function deleteBot(_0x1de19d){const _0x514df1=_0x5e87e7;if(socket[_0x1de19d])socket[_0x1de19d][_0x514df1(0x124)](!![]);dbConfig['get'](_0x514df1(0xea))['remove']({'botID':_0x1de19d})[_0x514df1(0x195)](),logging(_0x514df1(0xf9)+_0x1de19d),stopBot(_0x1de19d);try{fs[_0x514df1(0x133)](path['join'](configpath,_0x514df1(0xf2)+_0x1de19d+'-config.json')),fs[_0x514df1(0x133)](path['join'](configpath,_0x514df1(0xf2)+_0x1de19d+_0x514df1(0x1b5))),fs['unlinkSync'](path['join'](configpath,'bot-'+_0x1de19d+'-performance.json')),fs[_0x514df1(0x133)](path[_0x514df1(0x113)](configpath,_0x514df1(0xf2)+_0x1de19d+'-results.json'));}catch(_0x18c7db){if(_0x18c7db)logging(_0x514df1(0x14e),_0x18c7db);}config=getConfiguration();if(socket[_0x514df1(0x192)])socket['botmanager'][_0x514df1(0x1bb)]('bots',config);}function toggleBot(_0x32346d,_0x581c73,_0xa11240){const _0xbae68=_0x5e87e7;dbConfig['get'](_0xbae68(0xea))[_0xbae68(0x1aa)]({'botID':_0x32346d})[_0xbae68(0x14a)]({'status':_0x581c73})[_0xbae68(0x14a)]({'live':_0xa11240})['write']();if(_0x581c73=='enabled'||_0x581c73==_0xbae68(0x9f))logging(_0xbae68(0x16a)+_0x32346d),startBot([_0x32346d],{'cwd':bbpath},function(_0x261fd1){if(_0x261fd1)logging(_0x261fd1);});else(_0x581c73==_0xbae68(0x1a0)||_0x581c73=='new-disabled')&&(logging(_0xbae68(0x17f)+_0x32346d),stopBot(_0x32346d));config=getConfiguration();if(socket[_0xbae68(0x192)])socket['botmanager'][_0xbae68(0x1bb)](_0xbae68(0xea),config);}function toggleStatus(_0x4a83d9){const _0x1430ff=_0x5e87e7;let _0x10330f=dbConfig['get'](_0x1430ff(0xea))[_0x1430ff(0x1aa)]({'botID':_0x4a83d9})['value'](),_0x273aea;if(_0x10330f['status']===_0x1430ff(0x145))_0x273aea=_0x1430ff(0x1a0);else{if(_0x10330f[_0x1430ff(0xb3)]==='new')_0x273aea='new-disabled';else{if(_0x10330f['status']===_0x1430ff(0x1a1))_0x273aea=_0x1430ff(0x9f);else{if(_0x10330f[_0x1430ff(0xb3)]===_0x1430ff(0x1a0))_0x273aea=_0x1430ff(0x145);}}}return _0x273aea;}function updateStatus(_0x310ba5,_0x191d00){const _0x903f84=_0x5e87e7;dbConfig[_0x903f84(0xbb)](_0x903f84(0xea))[_0x903f84(0x1aa)]({'botID':_0x310ba5})['assign']({'status':_0x191d00})['write'](),config=getConfiguration();if(socket[_0x903f84(0x192)])socket[_0x903f84(0x192)][_0x903f84(0x1bb)]('bots',config);}function updateLive(_0x1ac9df,_0x209917){const _0x331598=_0x5e87e7;dbConfig['get'](_0x331598(0xea))['find']({'botID':_0x1ac9df})[_0x331598(0x14a)]({'live':_0x209917})[_0x331598(0x195)](),config=getConfiguration();if(socket['botmanager'])socket[_0x331598(0x192)][_0x331598(0x1bb)](_0x331598(0xea),config);}function updateBotName(_0x3e9e50,_0x5c3ac5){const _0x24fcce=_0x5e87e7;dbConfig[_0x24fcce(0xbb)](_0x24fcce(0xea))[_0x24fcce(0x1aa)]({'botID':_0x3e9e50})[_0x24fcce(0x14a)]({'botname':_0x5c3ac5})['write'](),config=getConfiguration();if(socket[_0x24fcce(0x192)])socket[_0x24fcce(0x192)]['emit'](_0x24fcce(0xea),config);}function telegramError(_0x2bd81d){const _0x1f704f=_0x5e87e7;console[_0x1f704f(0x144)](getTimeStamp()+_0x1f704f(0x134));}function validateTelegram(_0x3fc149){const _0x404a7d=_0x5e87e7;if(_0x3fc149['from']['username']!=settings[_0x404a7d(0xfc)]&&'@'+_0x3fc149[_0x404a7d(0x135)]['username']!=settings[_0x404a7d(0xfc)])return tgBot[_0x404a7d(0xa0)](_0x3fc149[_0x404a7d(0x143)]['id'],_0x404a7d(0xfa),{'parse_mode':_0x404a7d(0xab)})[_0x404a7d(0x1c1)](_0x5bb661=>{telegramError(_0x5bb661);}),![];return!![];}async function initTelegram(){const _0x317c73=_0x5e87e7;if(tgBot)tgBot[_0x317c73(0x163)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x317c73(0xb2)],{'polling':!![]});let _0x1de8a0=_0x317c73(0x1a6);_0x1de8a0+='\x0a',_0x1de8a0+=_0x317c73(0x166),_0x1de8a0+=_0x317c73(0x1ab),_0x1de8a0+=_0x317c73(0xb7),_0x1de8a0+=_0x317c73(0x126),_0x1de8a0+=_0x317c73(0xc4),_0x1de8a0+='/off\x20-\x20stop\x20a\x20bot\x0a',_0x1de8a0+=_0x317c73(0x136),_0x1de8a0+='/help\x20-\x20show\x20avaiable\x20commands\x0a';let _0x24b4e2=_0x317c73(0x13e);_0x24b4e2+='\x0a',_0x24b4e2+=_0x1de8a0,tgBot[_0x317c73(0x18c)](/\/start/,_0x2c7d29=>{const _0x52c2b6=_0x317c73;if(!validateTelegram(_0x2c7d29))return;if(settings[_0x52c2b6(0xb4)]!=_0x2c7d29[_0x52c2b6(0x143)]['id'])updateSetting('telegramChatId',_0x2c7d29[_0x52c2b6(0x143)]['id']);updateSetting(_0x52c2b6(0x168),!![]),tgBot[_0x52c2b6(0xa0)](_0x2c7d29[_0x52c2b6(0x143)]['id'],_0x24b4e2)[_0x52c2b6(0x1c1)](_0x45290d=>{telegramError(_0x45290d);});}),tgBot[_0x317c73(0x18c)](/\/enable/,_0x4079ad=>{const _0x2d64f8=_0x317c73;if(!validateTelegram(_0x4079ad))return;if(settings[_0x2d64f8(0xb4)]!=_0x4079ad[_0x2d64f8(0x143)]['id'])updateSetting(_0x2d64f8(0xb4),_0x4079ad[_0x2d64f8(0x143)]['id']);updateSetting(_0x2d64f8(0x168),!![]),tgBot[_0x2d64f8(0xa0)](_0x4079ad['chat']['id'],_0x2d64f8(0xfd))[_0x2d64f8(0x1c1)](_0x135183=>{telegramError(_0x135183);});}),tgBot[_0x317c73(0x18c)](/\/config/,async _0x3992fe=>{const _0x5de595=_0x317c73;if(!validateTelegram(_0x3992fe))return;tgBot['removeListener']('callback_query'),tgBot['sendMessage'](_0x3992fe['chat']['id'],_0x5de595(0x185),{'reply_markup':{'inline_keyboard':[[{'text':'Orders','callback_data':_0x5de595(0x112)},{'text':_0x5de595(0x104),'callback_data':'alerts'},{'text':'All','callback_data':_0x5de595(0xd0)}]]}})['catch'](_0x214f6d=>{telegramError(_0x214f6d);}),tgBot['on'](_0x5de595(0x1a9),async _0x5b936d=>{const _0x5a5ee8=_0x5de595,_0x2e4487=_0x5b936d['data'],_0x83ac8b=_0x5b936d[_0x5a5ee8(0xc0)];tgBot[_0x5a5ee8(0xd6)](_0x5b936d['id'])['then'](async()=>{const _0x3251e6=_0x5a5ee8;_0x2e4487=='orders'&&(updateSetting(_0x3251e6(0x108),_0x3251e6(0x112)),updateSetting('telegramEnabled',!![]),await tgBot[_0x3251e6(0xa0)](_0x83ac8b[_0x3251e6(0x143)]['id'],_0x3251e6(0x12b))[_0x3251e6(0x1c1)](_0x545345=>{telegramError(_0x545345);}));_0x2e4487==_0x3251e6(0x11e)&&(updateSetting(_0x3251e6(0x108),_0x3251e6(0x11e)),updateSetting(_0x3251e6(0x168),!![]),await tgBot[_0x3251e6(0xa0)](_0x83ac8b['chat']['id'],_0x3251e6(0x119))['catch'](_0x3c2c62=>{telegramError(_0x3c2c62);}));_0x2e4487=='all'&&(updateSetting('telegramEvents',_0x3251e6(0xd0)),updateSetting(_0x3251e6(0x168),!![]),await tgBot[_0x3251e6(0xa0)](_0x83ac8b[_0x3251e6(0x143)]['id'],_0x3251e6(0x106))['catch'](_0x42b1bc=>{telegramError(_0x42b1bc);}));if(!settings['telegramChatId'])tgBot['sendMessage'](_0x83ac8b['chat']['id'],_0x3251e6(0xa7))['catch'](_0x44a2c4=>{telegramError(_0x44a2c4);});}),tgBot[_0x5a5ee8(0xc9)](_0x5a5ee8(0x1a9));});}),tgBot[_0x317c73(0x18c)](/\/status/,_0x70e92c=>{const _0x3dc4ed=_0x317c73;if(!validateTelegram(_0x70e92c))return;let _0x3f059a='<b>Balance\x20Bot\x20status:</b>\x0a';config[_0x3dc4ed(0x115)](_0x35fbee=>{const _0x8a6cbb=_0x3dc4ed;_0x3f059a+=_0x8a6cbb(0x98)+_0x35fbee[_0x8a6cbb(0x12e)]+_0x8a6cbb(0xb1)+_0x35fbee['botname']+':\x20'+_0x35fbee[_0x8a6cbb(0xb3)]+_0x8a6cbb(0x176)+_0x35fbee[_0x8a6cbb(0xf4)]+'\x0a';}),_0x3f059a+='\x0a',_0x3f059a+='<b>Telegram\x20bot\x20status:</b>\x0a',_0x3f059a+=!settings[_0x3dc4ed(0x168)]?_0x3dc4ed(0x121):_0x3dc4ed(0x160),_0x3f059a+=settings[_0x3dc4ed(0x168)]?settings['telegramEvents']==_0x3dc4ed(0xd0)?'Notifications\x20types:\x20orders\x20and\x20alerts\x0a':'Notifications\x20types:\x20'+settings[_0x3dc4ed(0x108)]+_0x3dc4ed(0xf1):'',tgBot[_0x3dc4ed(0xa0)](_0x70e92c[_0x3dc4ed(0x143)]['id'],_0x3f059a,{'parse_mode':_0x3dc4ed(0xab)})[_0x3dc4ed(0x1c1)](_0x184cfb=>{telegramError(_0x184cfb);});}),tgBot[_0x317c73(0x18c)](/\/restart/,_0x120d1d=>{const _0x3bdd2d=_0x317c73;if(!validateTelegram(_0x120d1d))return;tgBot[_0x3bdd2d(0xc9)](_0x3bdd2d(0x1a9));const _0x5c3d40=getEnabledBots();if(_0x5c3d40[_0x3bdd2d(0x164)]==0x0)tgBot['sendMessage'](_0x120d1d[_0x3bdd2d(0x143)]['id'],'No\x20bots\x20running\x20right\x20now')['catch'](_0x85fc6=>{telegramError(_0x85fc6);});else{_0x5c3d40[_0x3bdd2d(0xbc)]({'botID':_0x3bdd2d(0xd0)});let _0x36acd4=[],_0x5b2e18=[];const _0x387671=_0x5c3d40[_0x3bdd2d(0x164)]%0x4==0x0||_0x5c3d40[_0x3bdd2d(0x164)]%0x4==0x3||_0x5c3d40[_0x3bdd2d(0x164)]%0x3==0x1?0x4:0x3;let _0x37745=0x0;_0x5c3d40[_0x3bdd2d(0x115)]((_0x3b82d5,_0x6699f2)=>{const _0x1b5da9=_0x3bdd2d;if(_0x6699f2%_0x387671==0x0)_0x5b2e18=[];_0x5b2e18[_0x1b5da9(0xbc)]({'text':_0x3b82d5[_0x1b5da9(0x12e)]==_0x1b5da9(0xd0)?_0x1b5da9(0x14c):_0x1b5da9(0x98)+_0x3b82d5[_0x1b5da9(0x12e)],'callback_data':_0x3b82d5['botID']}),_0x6699f2%_0x387671==0x0&&(_0x36acd4[_0x37745]=_0x5b2e18,_0x37745++);}),tgBot[_0x3bdd2d(0xa0)](_0x120d1d[_0x3bdd2d(0x143)]['id'],_0x3bdd2d(0x110),{'reply_markup':{'inline_keyboard':_0x36acd4}})['catch'](_0x435f7e=>{telegramError(_0x435f7e);}),tgBot['on']('callback_query',async _0xfbc63c=>{const _0x366d20=_0x3bdd2d,_0x2062e7=_0xfbc63c['data'],_0x920fc5=_0xfbc63c[_0x366d20(0xc0)];tgBot[_0x366d20(0xd6)](_0xfbc63c['id'])[_0x366d20(0x10f)](async()=>{const _0x451f88=_0x366d20;if(_0x2062e7==_0x451f88(0xd0)){if(settings['telegramEvents']==_0x451f88(0x112))tgBot['sendMessage'](_0x920fc5[_0x451f88(0x143)]['id'],_0x451f88(0x153))['catch'](_0x9686a7=>{telegramError(_0x9686a7);});config['forEach'](_0x51c6f1=>{stopBot(_0x51c6f1['botID']);});}else{if(settings[_0x451f88(0x108)]==_0x451f88(0x112))tgBot[_0x451f88(0xa0)](_0x920fc5[_0x451f88(0x143)]['id'],_0x451f88(0xdf)+_0x2062e7)[_0x451f88(0x1c1)](_0x31706d=>{telegramError(_0x31706d);});stopBot(_0x2062e7);}}),tgBot['removeListener']('callback_query');});}}),tgBot[_0x317c73(0x18c)](/\/on/,_0x30327f=>{const _0x228b3e=_0x317c73;if(!validateTelegram(_0x30327f))return;tgBot[_0x228b3e(0xc9)](_0x228b3e(0x1a9));const _0x25202a=getDisabledBots();if(_0x25202a[_0x228b3e(0x164)]==0x0)tgBot['sendMessage'](_0x30327f[_0x228b3e(0x143)]['id'],_0x228b3e(0x103))[_0x228b3e(0x1c1)](_0x256de6=>{telegramError(_0x256de6);});else{_0x25202a[_0x228b3e(0xbc)]({'botID':'all'});let _0x476bfd=[],_0xbc3c50=[];const _0x5f150f=_0x25202a[_0x228b3e(0x164)]%0x4==0x0||_0x25202a[_0x228b3e(0x164)]%0x4==0x3||_0x25202a[_0x228b3e(0x164)]%0x3==0x1?0x4:0x3;let _0x411c1a=0x0;_0x25202a['forEach']((_0x5ed23b,_0x4bbae8)=>{const _0x6e5cc2=_0x228b3e;if(_0x4bbae8%_0x5f150f==0x0)_0xbc3c50=[];_0xbc3c50[_0x6e5cc2(0xbc)]({'text':_0x5ed23b[_0x6e5cc2(0x12e)]=='all'?'All\x20bots':'Bot\x20'+_0x5ed23b['botID'],'callback_data':_0x5ed23b[_0x6e5cc2(0x12e)]}),_0x4bbae8%_0x5f150f==0x0&&(_0x476bfd[_0x411c1a]=_0xbc3c50,_0x411c1a++);}),tgBot[_0x228b3e(0xa0)](_0x30327f[_0x228b3e(0x143)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20start?',{'reply_markup':{'inline_keyboard':_0x476bfd}})[_0x228b3e(0x1c1)](_0x13fc87=>{telegramError(_0x13fc87);}),tgBot['on'](_0x228b3e(0x1a9),async _0x3b8e98=>{const _0x1c0503=_0x228b3e,_0x5344f0=_0x3b8e98[_0x1c0503(0xcf)],_0x224f9e=_0x3b8e98['message'];tgBot[_0x1c0503(0xd6)](_0x3b8e98['id'])['then'](async()=>{const _0x170294=_0x1c0503;if(_0x5344f0=='all'){if(settings['telegramEvents']==_0x170294(0x112))tgBot[_0x170294(0xa0)](_0x224f9e[_0x170294(0x143)]['id'],_0x170294(0x181))[_0x170294(0x1c1)](_0x475e0f=>{telegramError(_0x475e0f);});_0x25202a[_0x170294(0x115)](_0x7bdede=>{const _0x1f50c2=_0x170294;if(_0x7bdede[_0x1f50c2(0x12e)]!=_0x1f50c2(0xd0))toggleBot(_0x7bdede['botID'],toggleStatus(_0x7bdede[_0x1f50c2(0x12e)]),_0x1f50c2(0x193));});}else{if(settings[_0x170294(0x108)]=='orders')tgBot[_0x170294(0xa0)](_0x224f9e[_0x170294(0x143)]['id'],_0x170294(0xcb)+_0x5344f0)[_0x170294(0x1c1)](_0x3dab50=>{telegramError(_0x3dab50);});toggleBot(_0x5344f0,toggleStatus(_0x5344f0),_0x170294(0x193));}}),tgBot[_0x1c0503(0xc9)](_0x1c0503(0x1a9));});}}),tgBot[_0x317c73(0x18c)](/\/off/,_0x45913a=>{const _0x931be4=_0x317c73;if(!validateTelegram(_0x45913a))return;tgBot[_0x931be4(0xc9)]('callback_query');const _0x1f0942=getEnabledBots();if(_0x1f0942['length']==0x0)tgBot[_0x931be4(0xa0)](_0x45913a[_0x931be4(0x143)]['id'],_0x931be4(0x142))[_0x931be4(0x1c1)](_0x10bc0c=>{telegramError(_0x10bc0c);});else{_0x1f0942[_0x931be4(0xbc)]({'botID':_0x931be4(0xd0)});let _0x5f2b50=[],_0x4b3fcc=[];const _0x5c7cc3=_0x1f0942['length']%0x4==0x0||_0x1f0942['length']%0x4==0x3||_0x1f0942['length']%0x3==0x1?0x4:0x3;let _0x21a7fe=0x0;_0x1f0942[_0x931be4(0x115)]((_0x4c2093,_0xc97dd)=>{const _0x5c7622=_0x931be4;if(_0xc97dd%_0x5c7cc3==0x0)_0x4b3fcc=[];_0x4b3fcc[_0x5c7622(0xbc)]({'text':_0x4c2093['botID']==_0x5c7622(0xd0)?_0x5c7622(0x14c):'Bot\x20'+_0x4c2093[_0x5c7622(0x12e)],'callback_data':_0x4c2093['botID']}),_0xc97dd%_0x5c7cc3==0x0&&(_0x5f2b50[_0x21a7fe]=_0x4b3fcc,_0x21a7fe++);}),tgBot['sendMessage'](_0x45913a[_0x931be4(0x143)]['id'],_0x931be4(0x178),{'reply_markup':{'inline_keyboard':_0x5f2b50}})[_0x931be4(0x1c1)](_0x7fa29f=>{telegramError(_0x7fa29f);}),tgBot['on'](_0x931be4(0x1a9),async _0x38cce7=>{const _0x3e552f=_0x931be4,_0x5805bd=_0x38cce7[_0x3e552f(0xcf)],_0x3ca23=_0x38cce7[_0x3e552f(0xc0)];tgBot[_0x3e552f(0xd6)](_0x38cce7['id'])[_0x3e552f(0x10f)](async()=>{const _0x4db93e=_0x3e552f;if(_0x5805bd==_0x4db93e(0xd0)){if(settings[_0x4db93e(0x108)]=='orders')tgBot[_0x4db93e(0xa0)](_0x3ca23[_0x4db93e(0x143)]['id'],_0x4db93e(0xd4))[_0x4db93e(0x1c1)](_0x124c46=>{telegramError(_0x124c46);});_0x1f0942[_0x4db93e(0x115)](_0x1e1861=>{const _0x1aceb8=_0x4db93e;if(_0x1e1861[_0x1aceb8(0x12e)]!=_0x1aceb8(0xd0))toggleBot(_0x1e1861['botID'],toggleStatus(_0x1e1861['botID']),_0x1aceb8(0x193));});}else{if(settings[_0x4db93e(0x108)]==_0x4db93e(0x112))tgBot[_0x4db93e(0xa0)](_0x3ca23[_0x4db93e(0x143)]['id'],'Bot\x20Mgr\x20>\x20stopping\x20Bot\x20'+_0x5805bd)[_0x4db93e(0x1c1)](_0x409371=>{telegramError(_0x409371);});toggleBot(_0x5805bd,toggleStatus(_0x5805bd),'stopped');}}),tgBot[_0x3e552f(0xc9)](_0x3e552f(0x1a9));});}}),tgBot[_0x317c73(0x18c)](/\/disable/,_0x48e33f=>{const _0x5abac8=_0x317c73;if(!validateTelegram(_0x48e33f))return;tgBot[_0x5abac8(0xa0)](_0x48e33f[_0x5abac8(0x143)]['id'],_0x5abac8(0x1b3))[_0x5abac8(0x1c1)](_0x25c74a=>{telegramError(_0x25c74a);}),updateSetting(_0x5abac8(0x168),![]);}),tgBot['onText'](/\/help/,_0x496245=>{const _0x447d95=_0x317c73;if(!validateTelegram(_0x496245))return;tgBot[_0x447d95(0xa0)](_0x496245[_0x447d95(0x143)]['id'],_0x1de8a0)[_0x447d95(0x1c1)](_0x26bd73=>{telegramError(_0x26bd73);});}),tgBot['on']('polling_error',_0x1af697=>{const _0x25963d=_0x317c73;if(_0x1af697['toString']()[_0x25963d(0x156)](_0x25963d(0xe1))){logging('Invalid\x20Telegram\x20token'),tgBot['stopPolling'](),tgBot=null;if(socket['botmanager'])socket[_0x25963d(0x192)]['emit'](_0x25963d(0x18b),_0x25963d(0x11a));}}),process[_0x317c73(0x191)](_0x317c73(0xa6),()=>{const _0x2d9650=_0x317c73;if(tgBot)tgBot[_0x2d9650(0x163)]();process[_0x2d9650(0x169)](0x1);}),process[_0x317c73(0x191)]('SIGTERM',()=>{const _0xd4e1c1=_0x317c73;if(tgBot)tgBot[_0xd4e1c1(0x163)]();process[_0xd4e1c1(0x169)](0x1);});}}function disableTelegram(){const _0x5f1a00=_0x5e87e7;tgBot&&(tgBot[_0x5f1a00(0x163)](),tgBot=null);}function sendTelegram(_0x45b6cf,_0x257f79){const _0x4783ac=_0x5e87e7;if(settings[_0x4783ac(0x168)]){if(settings[_0x4783ac(0x108)]==_0x4783ac(0xd0)||(_0x257f79[_0x4783ac(0x12a)]==_0x4783ac(0x19a)||_0x257f79[_0x4783ac(0x12a)]==_0x4783ac(0xae))&&settings[_0x4783ac(0x108)]==_0x4783ac(0x11e)||_0x257f79[_0x4783ac(0x12a)]==_0x4783ac(0x194)&&settings[_0x4783ac(0x108)]==_0x4783ac(0x112)){if(tgBot&&settings[_0x4783ac(0xb4)]){if(_0x257f79[_0x4783ac(0x146)])tgBot[_0x4783ac(0xa0)](settings[_0x4783ac(0xb4)],_0x257f79['botname']+_0x4783ac(0x117)+_0x257f79['event'])['catch'](_0x5e56b2=>{telegramError(_0x5e56b2);});else tgBot[_0x4783ac(0xa0)](settings[_0x4783ac(0xb4)],_0x4783ac(0x98)+_0x45b6cf+_0x4783ac(0x117)+_0x257f79[_0x4783ac(0x12d)])['catch'](_0x111c73=>{telegramError(_0x111c73);});}}}}function temporaryAccess2FA(_0x275fb0){const _0x295c0a=_0x5e87e7;let _0x433536=new Date(),_0x26563d=![];if(lastIpApproval){if(_0x433536-lastIpApproval<0x1388)_0x26563d=!![];}lastIpApproval=new Date();if(_0x26563d)return;tgBot&&settings['telegramChatId']&&(tgBot[_0x295c0a(0xc9)](_0x295c0a(0x1a9)),tgBot[_0x295c0a(0xa0)](settings[_0x295c0a(0xb4)],'Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x275fb0)[_0x295c0a(0xbe)]+_0x295c0a(0x16b),{'parse_mode':_0x295c0a(0xab),'reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':_0x295c0a(0xee),'callback_data':'15'},{'text':_0x295c0a(0x140),'callback_data':'30'},{'text':_0x295c0a(0x165),'callback_data':'reject'}]]}})[_0x295c0a(0x1c1)](_0x95fab6=>{telegramError(_0x95fab6);}),tgBot['on'](_0x295c0a(0x1a9),async _0x4266ba=>{const _0x4f9055=_0x295c0a,_0x42b4d9=_0x4266ba[_0x4f9055(0xcf)],_0x4cd430=_0x4266ba[_0x4f9055(0xc0)];tgBot['answerCallbackQuery'](_0x4266ba['id'])[_0x4f9055(0x10f)](async()=>{const _0x437f05=_0x4f9055;if(_0x42b4d9!=_0x437f05(0x165)){telegramIpApproval={'clientip':_0x275fb0,'timestamp':new Date()[_0x437f05(0xcc)](),'expiry':_0x42b4d9},await tgBot['sendMessage'](_0x4cd430[_0x437f05(0x143)]['id'],'Access\x20enabled\x20for\x20'+_0x42b4d9+'\x20minutes',{'parse_mode':'HTML'})[_0x437f05(0x1c1)](_0x2fdbd5=>{telegramError(_0x2fdbd5);});for(let _0x14be68 in socket){socket[_0x14be68]['emit']('status',{'access':{'allow':![],'reason':'reload','token':null}});}}else await tgBot[_0x437f05(0xa0)](_0x4cd430[_0x437f05(0x143)]['id'],_0x437f05(0x15a))[_0x437f05(0x1c1)](_0x10f16c=>{telegramError(_0x10f16c);});}),tgBot[_0x4f9055(0xc9)](_0x4f9055(0x1a9));}));}function loginAccess2FA(_0xb95f75){const _0x3e271e=_0x5e87e7;tgBot&&settings['telegramChatId']&&(tgBot[_0x3e271e(0xc9)](_0x3e271e(0x1a9)),tgBot[_0x3e271e(0xa0)](settings[_0x3e271e(0xb4)],_0x3e271e(0xe3)+normalizeIP(_0xb95f75)[_0x3e271e(0xbe)]+'</b>\x20?',{'parse_mode':_0x3e271e(0xab),'reply_markup':{'inline_keyboard':[[{'text':_0x3e271e(0x11f),'callback_data':loginExpiry},{'text':_0x3e271e(0x165),'callback_data':_0x3e271e(0x165)}]]}})[_0x3e271e(0x1c1)](_0x303b7d=>{telegramError(_0x303b7d);}),tgBot['on']('callback_query',async _0x5df243=>{const _0x46380f=_0x3e271e,_0x57c5e4=_0x5df243[_0x46380f(0xcf)],_0x2df622=_0x5df243[_0x46380f(0xc0)];tgBot[_0x46380f(0xd6)](_0x5df243['id'])[_0x46380f(0x10f)](async()=>{const _0x2d5e8e=_0x46380f;if(_0x57c5e4!=_0x2d5e8e(0x165)){telegram2FaApproval={'clientip':_0xb95f75,'timestamp':new Date()[_0x2d5e8e(0xcc)](),'expiry':_0x57c5e4},await tgBot[_0x2d5e8e(0xa0)](_0x2df622[_0x2d5e8e(0x143)]['id'],_0x2d5e8e(0x18f),{'parse_mode':_0x2d5e8e(0xab)})[_0x2d5e8e(0x1c1)](_0x203652=>{telegramError(_0x203652);});for(let _0x3af781 in socket){socket[_0x3af781][_0x2d5e8e(0x1bb)]('status',{'access':{'allow':![],'reason':_0x2d5e8e(0xc6),'token':null}});}}else await tgBot[_0x2d5e8e(0xa0)](_0x2df622['chat']['id'],_0x2d5e8e(0x15c))[_0x2d5e8e(0x1c1)](_0x416c88=>{telegramError(_0x416c88);});}),tgBot['removeListener'](_0x46380f(0x1a9));}));}function getConfiguration(){const _0x363c71=_0x5e87e7;return dbConfig[_0x363c71(0xbb)](_0x363c71(0xea))[_0x363c71(0x17b)]('botID')[_0x363c71(0x11d)]()||[];}function getEnabledBots(){const _0x73456c=_0x5e87e7;return dbConfig[_0x73456c(0xbb)](_0x73456c(0xea))['sortBy']('botID')['filter']({'status':_0x73456c(0x145)})[_0x73456c(0x11d)]()||[];}function getDisabledBots(){const _0x3fd9f0=_0x5e87e7;return dbConfig[_0x3fd9f0(0xbb)]('bots')['sortBy'](_0x3fd9f0(0x12e))[_0x3fd9f0(0x9a)]({'status':_0x3fd9f0(0x1a0)})[_0x3fd9f0(0x11d)]()||[];}function getSettings(){return dbSettings['get']('settings')['value']()||{'timeshift':0x0};}function getSecure(){const _0x507004=_0x5e87e7;return dbSecure[_0x507004(0xbb)](_0x507004(0x1b2))[_0x507004(0x11d)]()||{};}function getBlacklist(){const _0x33af36=_0x5e87e7;return dbSecure['get'](_0x33af36(0x1b7))[_0x33af36(0x11d)]()||[];}function broadcastToBots(_0x517c8b,_0x5eb072){const _0x32ad3d=_0x5e87e7;config[_0x32ad3d(0x115)](_0x500303=>{const _0x5e66b6=_0x32ad3d;if(_0x500303[_0x5e66b6(0xb3)]==_0x5e66b6(0x145)&&_0x500303[_0x5e66b6(0xf4)]=='running'){if(pid[_0x500303[_0x5e66b6(0x12e)]])pid[_0x500303[_0x5e66b6(0x12e)]]['send']({[_0x517c8b]:_0x5eb072});}});}function storeSettings(_0x387c13,_0x59b470=![]){const _0x5cad9d=_0x5e87e7;_0x387c13={...settings,..._0x387c13};if(_0x59b470&&_0x387c13['bbPassword']!=_0x5cad9d(0xce)&&_0x387c13[_0x5cad9d(0x1b8)]!=''){const _0x5908c0=crypt[_0x5cad9d(0x14b)](secure[_0x5cad9d(0xfb)],_0x387c13['bbPassword'])[_0x5cad9d(0xc0)]['split']('@')[0x0],_0xbb3a58=bcrypt['hashSync'](_0x5908c0,saltRounds);_0x387c13={..._0x387c13,'bbPassword':_0xbb3a58};}if(_0x59b470&&_0x387c13[_0x5cad9d(0xb2)]!=_0x5cad9d(0xce)&&_0x387c13[_0x5cad9d(0xb2)]!=''){const _0x495584=crypt['decrypt'](secure[_0x5cad9d(0xfb)],_0x387c13[_0x5cad9d(0xb2)])[_0x5cad9d(0xc0)]['split']('@')[0x0];_0x387c13={..._0x387c13,'telegramToken':_0x495584};}const _0x272ad3=_0x387c13[_0x5cad9d(0xb2)]!=_0x5cad9d(0xce)&&_0x387c13['telegramToken']!=settings[_0x5cad9d(0xb2)]||_0x387c13[_0x5cad9d(0xfc)]!=settings['telegramUsername'],_0x43ccbb=_0x387c13[_0x5cad9d(0xb2)]==''||_0x387c13[_0x5cad9d(0xfc)]=='';if(_0x272ad3)_0x387c13['telegramEvents']=_0x5cad9d(0xd0);for(const [_0x36f337,_0x98658b]of Object[_0x5cad9d(0x1a8)](_0x387c13)){if(_0x36f337==_0x5cad9d(0xb2)&&_0x98658b==_0x5cad9d(0xce)){_0x387c13[_0x5cad9d(0xb2)]=settings[_0x5cad9d(0xb2)];continue;};if(_0x36f337==_0x5cad9d(0x1b8)&&_0x98658b==_0x5cad9d(0xce)){_0x387c13['bbPassword']=settings[_0x5cad9d(0x1b8)];continue;};dbSettings[_0x5cad9d(0x19b)]('settings.'+_0x36f337,_0x98658b)[_0x5cad9d(0x195)]();}settings=_0x387c13;if(socket[_0x5cad9d(0x192)])socket[_0x5cad9d(0x192)]['emit'](_0x5cad9d(0x1ac),cleanSettings());broadcastToBots(_0x5cad9d(0x128),settings[_0x5cad9d(0x128)]);if(_0x272ad3&&!_0x43ccbb)initTelegram();if(_0x272ad3&&_0x43ccbb)disableTelegram();for(let _0x5d15de in socket){setAccess(_0x5d15de);}}function updateSetting(_0x589fe7,_0x35bdfd){const _0x579f32=_0x5e87e7;dbSettings[_0x579f32(0x19b)](_0x579f32(0x183)+_0x589fe7,_0x35bdfd)[_0x579f32(0x195)](),settings=getSettings();if(socket[_0x579f32(0x192)])socket[_0x579f32(0x192)][_0x579f32(0x1bb)](_0x579f32(0x1ac),cleanSettings());}function storeSecure(_0xe2514c){const _0x4c806a=_0x5e87e7;dbSecure['get'](_0x4c806a(0x1b2))['push'](_0xe2514c)[_0x4c806a(0x195)](),secure=_0xe2514c;}function addBlacklist(){const _0x4f6a17=_0x5e87e7;cleanBlacklist();let _0x19934c;telegramIpApproval?_0x19934c=Math[_0x4f6a17(0x171)](telegramIpApproval[_0x4f6a17(0x149)],loginExpiry):_0x19934c=loginExpiry,dbSecure['get'](_0x4f6a17(0x1b7))['push']({'expiry':new Date()[_0x4f6a17(0xcc)]()+_0x19934c*0x3c*0x3e8,'token':token})['write'](),blacklist=dbSecure['get'](_0x4f6a17(0x1b7))['value']();}function cleanBlacklist(){const _0x4da8b2=_0x5e87e7;let _0x167f15=dbSecure[_0x4da8b2(0xbb)](_0x4da8b2(0x1b7))[_0x4da8b2(0x13a)]()[_0x4da8b2(0x11d)](),_0x963cda=new Date()[_0x4da8b2(0xcc)]();_0x167f15['forEach'](_0x45d1f0=>{const _0x1e5185=_0x4da8b2;_0x45d1f0[_0x1e5185(0x149)]<_0x963cda&&dbSecure[_0x1e5185(0xbb)](_0x1e5185(0x1b7))[_0x1e5185(0xc1)]({'expiry':_0x45d1f0['expiry']})[_0x1e5185(0x195)]();});}function initStates(){const _0x5973fa=_0x5e87e7;let _0x4e544c=getConfiguration();_0x4e544c[_0x5973fa(0x115)](_0x39598f=>{const _0x3d3fe5=_0x5973fa;_0x39598f['live']=_0x3d3fe5(0x193);}),storeConfiguration(_0x4e544c);}function onKeys(){const _0x5a07fd=new RSA();return new Promise(_0x431441=>{const _0x41e1ce=_0x5ccd;_0x5a07fd[_0x41e1ce(0x132)]()[_0x41e1ce(0x10f)](_0x332267=>{_0x431441(_0x332267);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x1d1ed8=_0x5e87e7;let _0x2d8b93=getConfiguration(),_0x2171de=![];_0x2d8b93[_0x1d1ed8(0x115)](_0x125b6e=>{const _0x490c0e=_0x1d1ed8;if(_0x125b6e[_0x490c0e(0xb3)]=='running')_0x125b6e[_0x490c0e(0xb3)]='enabled',_0x2171de=!![];else _0x125b6e['status']==_0x490c0e(0x193)&&(_0x125b6e[_0x490c0e(0xb3)]=_0x490c0e(0x1a0),_0x2171de=!![]);});if(_0x2171de)storeConfiguration(_0x2d8b93);let _0x120a99=getSecure();if(!_0x120a99[_0x1d1ed8(0x1c0)](_0x1d1ed8(0xa4))){let _0x457017=await generateKeys();_0x120a99[_0x1d1ed8(0x155)]=_0x457017['publicKey'],_0x120a99['privateKey']=_0x457017['privateKey'],_0x120a99[_0x1d1ed8(0xa4)]=crypto[_0x1d1ed8(0x199)](0x20)[_0x1d1ed8(0x19c)](_0x1d1ed8(0xeb));;storeSecure(_0x120a99);}let _0x4a2d6d=getSettings();_0x2171de=![];!_0x4a2d6d[_0x1d1ed8(0x1c0)](_0x1d1ed8(0xd3))&&(_0x4a2d6d['loginRequired']=![],_0x4a2d6d['bbUsername']='',_0x4a2d6d[_0x1d1ed8(0x1b8)]='',_0x4a2d6d[_0x1d1ed8(0x109)]=![],_0x2171de=!![]);!_0x4a2d6d[_0x1d1ed8(0x1c0)]('whitelistEnabled')&&(_0x4a2d6d['whitelistEnabled']=![],_0x4a2d6d[_0x1d1ed8(0x13b)]=[],_0x4a2d6d[_0x1d1ed8(0x1a2)]=![],_0x2171de=!![]);if(!_0x4a2d6d[_0x1d1ed8(0x1c0)](_0x1d1ed8(0x168))){if(_0x4a2d6d[_0x1d1ed8(0xb4)])_0x4a2d6d['telegramEnabled']=!![];else _0x4a2d6d[_0x1d1ed8(0x168)]=![];_0x2171de=!![];}if(_0x2171de)storeSettings(_0x4a2d6d);}function storeConfiguration(_0xf555b1){const _0x5b28b3=_0x5e87e7;dbConfig[_0x5b28b3(0xbb)](_0x5b28b3(0xea))[_0x5b28b3(0xc1)]()['write'](),dbConfig[_0x5b28b3(0xbb)](_0x5b28b3(0xea))['push'](..._0xf555b1)[_0x5b28b3(0x195)](),config=_0xf555b1;}function resetPassword(){const _0x59a656=_0x5e87e7;tgBot&&settings['telegramChatId']&&(tgBot[_0x59a656(0xc9)](_0x59a656(0x1a9)),tgBot[_0x59a656(0xa0)](settings[_0x59a656(0xb4)],_0x59a656(0x1be),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x59a656(0x15b),'callback_data':_0x59a656(0x15b)},{'text':'no','callback_data':'no'}]]}})[_0x59a656(0x1c1)](_0x1f5629=>{telegramError(_0x1f5629);}),tgBot['on'](_0x59a656(0x1a9),async _0x2321fd=>{const _0x552699=_0x59a656,_0x3c7596=_0x2321fd[_0x552699(0xcf)],_0x419178=_0x2321fd['message'];tgBot[_0x552699(0xd6)](_0x2321fd['id'])['then'](async()=>{const _0xe5aef2=_0x552699;if(_0x3c7596!='no'){const _0x1e4766=0xf,_0x151c7b=_0xe5aef2(0x172),_0x117e90=Array[_0xe5aef2(0x135)](crypto[_0xe5aef2(0x9e)](new Uint32Array(_0x1e4766)))[_0xe5aef2(0xdc)](_0x22bdcc=>_0x151c7b[_0x22bdcc%_0x151c7b[_0xe5aef2(0x164)]])[_0xe5aef2(0x113)](''),_0x1579af=bcrypt[_0xe5aef2(0x1a3)](_0x117e90,saltRounds);storeSettings({'bbPassword':_0x1579af}),await tgBot[_0xe5aef2(0xa0)](_0x419178[_0xe5aef2(0x143)]['id'],'Password\x20has\x20been\x20reset\x20to:\x20'+_0x117e90,{'parse_mode':_0xe5aef2(0xab)})[_0xe5aef2(0x1c1)](_0x2c8f14=>{telegramError(_0x2c8f14);});}else await tgBot['sendMessage'](_0x419178['chat']['id'],_0xe5aef2(0xd9))[_0xe5aef2(0x1c1)](_0x532221=>{telegramError(_0x532221);});}),tgBot['removeListener']('callback_query');}));}function logging(_0x2119a3){const _0x3541be=_0x5e87e7;console[_0x3541be(0x144)](getTimeStamp()+_0x3541be(0xb8)+_0x2119a3);if(tgBot&&settings[_0x3541be(0xb4)]&&settings[_0x3541be(0x108)]!='orders')tgBot[_0x3541be(0xa0)](settings[_0x3541be(0xb4)],_0x3541be(0xde)+_0x2119a3)[_0x3541be(0x1c1)](_0x544b73=>{telegramError(_0x544b73);});}function getServerTime(){const _0x448cfe=_0x5e87e7,_0xd872ae=new Date();return _0xd872ae[_0x448cfe(0x12f)]()+'/'+(_0xd872ae[_0x448cfe(0x10e)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0xd872ae[_0x448cfe(0x9c)]()[_0x448cfe(0x19c)]()[_0x448cfe(0x18a)](0x2,'0')+'\x20'+_0xd872ae['getHours']()[_0x448cfe(0x19c)]()[_0x448cfe(0x18a)](0x2,'0')+':'+_0xd872ae['getMinutes']()[_0x448cfe(0x19c)]()['padStart'](0x2,'0')+':'+_0xd872ae['getSeconds']()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x55d859=_0x5e87e7,_0x1a8b3a=shiftedTime();return _0x1a8b3a[_0x55d859(0x12f)]()+'/'+(_0x1a8b3a[_0x55d859(0x10e)]()+0x1)[_0x55d859(0x19c)]()[_0x55d859(0x18a)](0x2,'0')+'/'+_0x1a8b3a[_0x55d859(0x9c)]()[_0x55d859(0x19c)]()[_0x55d859(0x18a)](0x2,'0')+'\x20'+_0x1a8b3a[_0x55d859(0xca)]()[_0x55d859(0x19c)]()[_0x55d859(0x18a)](0x2,'0')+':'+_0x1a8b3a['getMinutes']()[_0x55d859(0x19c)]()[_0x55d859(0x18a)](0x2,'0')+':'+_0x1a8b3a[_0x55d859(0x16d)]()[_0x55d859(0x19c)]()[_0x55d859(0x18a)](0x2,'0');}function shiftedTime(){const _0x301779=_0x5e87e7,_0x52214e=new Date();let _0x6c63c2=_0x52214e;if(settings[_0x301779(0x128)]&&settings[_0x301779(0x128)]!==0x0)_0x6c63c2=fns[_0x301779(0x19f)](_0x52214e,{'hours':settings[_0x301779(0x128)]});return _0x6c63c2;}function _0x3694(){const _0x13be0f=['get','push','3563924GhHrBr','show','kill','message','remove','sign','headers','/on\x20-\x20start\x20a\x20bot\x0a','ipc','reload','date-fns','reset-password','removeListener','getHours','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','getTime','Unauthorized\x20attempt\x20to\x20update\x20settings','************','data','all','function','add-bot','loginRequired','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','login\x20not\x20required','answerCallbackQuery','bb-settings.json','/:bot/performance','Password\x20reset\x20rejected','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','child_process','map','lowdb/adapters/FileSync','Bot\x20Mgr\x20>\x20','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','jsonwebtoken','404\x20Not\x20Found','bbUsername','Allow\x20login\x20from\x20IP\x20address\x20<b>','bb/','auth','Balance\x20Bot\x20Server','ipaddr.js','apply','::ffff:127.0.0.1','bots','hex','mkdirSync','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','15\x20min','Token\x20blacklisted','Crypt','\x20only\x0a','bot-','started','live','sendFile','37418340pteNrb','bot.js','version','deleted\x20Bot\x20','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','privateKey','telegramUsername','Notifications\x20enabled','Unauthorized\x20attempt\x20to\x20add\x20bot','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','/:bot','sha256','clientip','All\x20bots\x20running\x20right\x20now','Alerts','isIPv4MappedAddress','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','stop','telegramEvents','f2aRequired','page','6YhtXda','Invalid\x20IP\x20address','RSA','getMonth','then','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','defaults','orders','join','telegram','forEach','build2','\x20>\x20','analytics','Ok,\x20will\x20send\x20alert\x20notifications\x20only','Invalid\x20Telegram\x20token','(((.+)+)+)+$','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','value','alerts','accept','User\x20has\x20been\x20validated','Notifications\x20disabled\x0a','use','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','disconnect','Invalid\x20authentication\x20token\x20(2)','/restart\x20-\x20restart\x20a\x20bot\x0a','::1','timeshift','restarting\x20Bot\x20','type','Ok,\x20will\x20send\x20order\x20notifications\x20only','timestamp','event','botID','getFullYear','login\x20required','send','generateKeyPairAsync','unlinkSync',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','from','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','No\x20authentication\x20token','remoteAddress','temporary\x20access\x20not\x20allowed','cloneDeep','whitelist','access\x20timeout','2FA\x20login\x20token\x20generated','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','connected','30\x20min','2FA','No\x20bots\x20running\x20right\x20now','chat','log','enabled','showname','Invalid\x20authentication\x20token\x20(1)','219270nUGwOH','expiry','assign','decrypt','All\x20bots','build','error\x20while\x20deleting\x20log\x20files:\x20','temporary\x20token\x20generated','username','starting\x20new\x20bot\x20|\x20Bot\x20','RSA-OAEP','Bot\x20Mgr\x20>\x20restarting\x20all\x20bots','10hswJjH','publicKey','includes','encryptedUuid','reason','-----------------------------------------------------------------------------------','Temporary\x20access\x20rejected','yes','Login\x20rejected','lowdb','Unauthorized\x20attempt\x20to\x20delete\x20bot','getStartingBalances','Notifications\x20enabled\x0a','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','password','stopPolling','length','reject','/enable\x20-\x20enable\x20notifications\x0a','search','telegramEnabled','exit','enabled\x20Bot\x20','</b>\x20?','allow','getSeconds','login\x20token\x20valid','isValid','parse','max','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','login\x20token\x20generated','storeConfiguration','handshake','\x20/\x20','ipv6','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','index.html','2FA\x20required','sortBy','inherit','starting','1771860JkERXz','disabled\x20Bot\x20','login','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','config/','settings.','logged\x20out','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','bb-secure.json','65JXBsxX','Unauthorized\x20attempt\x20to\x20store\x20configuration','update-bot','padStart','notification','onText','args','referer','Login\x20accepted','store','once','botmanager','stopped','order','write','3525504KPKOwB','exp','get-portfolio','randomBytes','error','set','toString','bcryptjs','whitelistEnabled','add','disabled','new-disabled','temporaryAccessAllowed','hashSync','place-order','conn','You\x20can\x20use\x20the\x20following\x20commands:\x0a','match','entries','callback_query','find','/disable\x20-\x20disable\x20notifications\x0a','settings','restart','existsSync','11nEnsSb','220RaauMN','compareSync','secure','Notifications\x20disabled','Unauthorized\x20attempt\x20to\x20get\x20portfolio','-events.json','listen','blacklist','bbPassword','/:bot/support','delete-bot','emit','default','127.0.0.1','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','getPortfolio','hasOwnProperty','catch','static','bb-config.json','get-starting-balances','botname','hybrid-crypto-js','http','Bot\x20','2FA\x20login\x20required','filter','path','getDate','UA-192771731-1','randomFillSync','new','sendMessage','placeOrder','Unauthorized\x20attempt\x20to\x20log\x20out','341622siMMzO','secret','logout','SIGINT','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','@analytics/google-analytics','apiKey','88093UsHUtu','HTML','invalid\x20credentials','token','success','Invalid\x20username\x20or\x20IP\x20address','verify','\x20|\x20','telegramToken','status','telegramChatId','split','env','/config\x20-\x20notification\x20types\x20to\x20receive\x0a',':\x20Bot\x20Mgr\x20>\x20','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','emitHistory'];_0x3694=function(){return _0x13be0f;};return _0x3694();}function startAnalytics(){let _0x266368=new Date()['getUTCHours']();_0x266368==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x5ee93a=_0x5e87e7;analytics[_0x5ee93a(0x10a)]({'title':_0x5ee93a(0xe6),'href':'https://hodlerhacks.com','path':'/v'+serverversion});}function validateCredentials(_0x6253c3){const _0x40bd10=_0x5e87e7;if(_0x6253c3[_0x40bd10(0x150)]==settings[_0x40bd10(0xe2)]&&bcrypt[_0x40bd10(0x1b1)](_0x6253c3[_0x40bd10(0x162)],settings[_0x40bd10(0x1b8)])){if(settings['f2aRequired'])return{'allow':![],'reason':_0x40bd10(0x99),'token':null};else{const _0x3f4e66=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x3f4e66};}}else return{'allow':![],'reason':_0x40bd10(0xac),'token':null};}function refreshToken(){const _0x4a6fa0=_0x5e87e7,_0x3300fe=generateLoginToken();return{'allow':!![],'reason':_0x4a6fa0(0x173),'token':_0x3300fe};}function validateAccess(_0x5ed3df){const _0x32b5a5=_0x5e87e7;let _0x13eec2;const _0x1388a0=_0x2b1986=>{const _0x3dae4c=_0x5ccd;if(settings['loginRequired']){if(settings[_0x3dae4c(0x109)]){if(telegram2FaApproved()){const _0x445273=generateLoginToken();return{'allow':!![],'reason':_0x3dae4c(0x13d),'token':_0x445273};}else return{'allow':![],'reason':_0x3dae4c(0x99),'token':null};}else return _0x13eec2=validToken(_0x2b1986),_0x13eec2['hasOwnProperty'](_0x3dae4c(0xae))?{'allow':!![],'reason':_0x3dae4c(0x16e),'token':_0x2b1986}:{'allow':![],'reason':_0x3dae4c(0x130),'token':null};}else return{'allow':!![],'reason':_0x3dae4c(0xd5),'token':null};};if(settings[_0x32b5a5(0x19e)]){let _0x34cc89=[...settings[_0x32b5a5(0x13b)],_0x32b5a5(0x127),_0x32b5a5(0xe9),_0x32b5a5(0x1bd)];if(_0x34cc89[_0x32b5a5(0x156)](externalip))return _0x1388a0(_0x5ed3df);else{_0x13eec2=validToken(_0x5ed3df);if(_0x13eec2[_0x32b5a5(0x1c0)]('success'))return _0x1388a0(_0x5ed3df);else{if(telegramIpApproved()){const _0x3ecfbe=generateToken();return _0x13eec2=_0x1388a0(_0x5ed3df),_0x13eec2['allow']?{'allow':!![],'reason':_0x32b5a5(0x14f),'token':_0x3ecfbe}:_0x13eec2;}else return settings[_0x32b5a5(0x1a2)]?{'allow':![],'reason':_0x32b5a5(0x17a),'token':null}:{'allow':![],'reason':_0x32b5a5(0x139),'token':null};}}}else return _0x1388a0(_0x5ed3df);}function timelyDecrypt(_0x4712b3,_0x593fd5=!![]){const _0xdbef4e=_0x5e87e7;if(_0x4712b3)try{const _0x16c6c5=crypt['decrypt'](secure[_0xdbef4e(0xfb)],_0x4712b3)[_0xdbef4e(0xc0)],_0x30f4dd=_0x16c6c5[_0xdbef4e(0xb5)]('@')[0x0],_0x56e088=_0x16c6c5['split']('@')[0x1],_0x3bd76a=new Date()[_0xdbef4e(0xcc)]();if(_0x593fd5){if(_0x3bd76a-_0x56e088<maxSecretAge*0x3e8)return _0x30f4dd;else return![];}else return _0x30f4dd;}catch{return![];}else return![];}const validToken=_0x8779c9=>{const _0x3c74ca=_0x5e87e7;if(!_0x8779c9)return{'error':_0x3c74ca(0x137)};for(let _0x5defc6 of blacklist){if(_0x5defc6[_0x3c74ca(0xad)]==_0x8779c9)return{'error':_0x3c74ca(0xef)};}let _0xccb97e;try{_0xccb97e=jwt[_0x3c74ca(0xb0)](_0x8779c9,secure['secret']+uuid);}catch{return{'error':_0x3c74ca(0x147)};}if(!_0xccb97e[_0x3c74ca(0x1c0)](_0x3c74ca(0x102))&&!_0xccb97e[_0x3c74ca(0x1c0)](_0x3c74ca(0x150))||!_0xccb97e[_0x3c74ca(0x1c0)](_0x3c74ca(0x197)))return{'error':_0x3c74ca(0x125)};if(!_0xccb97e[_0x3c74ca(0x1c0)](_0x3c74ca(0x150))&&_0xccb97e['hasOwnProperty'](_0x3c74ca(0x102))){const {clientip:_0x272eac}=_0xccb97e;return externalip==_0x272eac?{'success':_0x3c74ca(0x120)}:{'error':_0x3c74ca(0x10c)};}else{if(_0xccb97e[_0x3c74ca(0x1c0)](_0x3c74ca(0x150))&&_0xccb97e[_0x3c74ca(0x1c0)]('clientip')){const {username:_0x508dd4,clientip:_0x166999}=_0xccb97e;return settings[_0x3c74ca(0xe2)]==_0x508dd4&&externalip==_0x166999?{'success':_0x3c74ca(0x120)}:{'error':_0x3c74ca(0xaf)};}}},generateLoginToken=()=>{const _0x40d5cc=_0x5e87e7;if(uuid)return jwt[_0x40d5cc(0xc2)]({'username':settings[_0x40d5cc(0xe2)],'clientip':externalip},secure['secret']+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x2086eb=_0x5e87e7;if(uuid)return jwt[_0x2086eb(0xc2)]({'clientip':externalip},secure[_0x2086eb(0xa4)]+uuid,{'expiresIn':telegramIpApproval['expiry']*0x3c});else return![];},telegramIpApproved=()=>{const _0x55b782=_0x5e87e7;let _0x2d050f=![];return telegramIpApproval&&telegramIpApproval[_0x55b782(0x149)]!=_0x55b782(0x165)&&(_0x2d050f=telegramIpApproval[_0x55b782(0x102)]==externalip&&new Date()['getTime']()-telegramIpApproval[_0x55b782(0x12c)]<telegramIpApproval[_0x55b782(0x149)]*0x3c*0x3e8),_0x2d050f;},telegram2FaApproved=()=>{const _0x141c10=_0x5e87e7;let _0x46d7f6=![];return telegram2FaApproval&&telegram2FaApproval[_0x141c10(0x149)]!=_0x141c10(0x165)&&(_0x46d7f6=telegram2FaApproval[_0x141c10(0x102)]==externalip&&new Date()['getTime']()-telegram2FaApproval['timestamp']<telegram2FaApproval[_0x141c10(0x149)]*0x3c*0x3e8),_0x46d7f6;},normalizeIP=_0x3718d6=>{const _0x19a548=_0x5e87e7;let _0x2a2e18=null,_0x4de3f7=null;if(ipaddr[_0x19a548(0x16f)](_0x3718d6)){const _0x5549fe=ipaddr[_0x19a548(0x170)](_0x3718d6);_0x5549fe['kind']()===_0x19a548(0x177)?(_0x5549fe[_0x19a548(0x105)]()&&(_0x2a2e18=_0x5549fe['toIPv4Address']()[_0x19a548(0x19c)]()),_0x4de3f7=_0x5549fe[_0x19a548(0x19c)]()):(_0x2a2e18=_0x5549fe['toString'](),_0x4de3f7=_0x5549fe['toIPv4MappedAddress']()[_0x19a548(0x19c)]());}return{'show':_0x2a2e18?_0x2a2e18:_0x4de3f7,'store':_0x4de3f7};};