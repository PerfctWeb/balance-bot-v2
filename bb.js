const _0x59755e=_0x29ba;(function(_0xd9d703,_0x37d1b4){const _0x394b1f=_0x29ba,_0x42c4da=_0xd9d703();while(!![]){try{const _0x24ce27=-parseInt(_0x394b1f(0x98))/0x1*(-parseInt(_0x394b1f(0x97))/0x2)+parseInt(_0x394b1f(0x91))/0x3+-parseInt(_0x394b1f(0x95))/0x4+-parseInt(_0x394b1f(0x77))/0x5+-parseInt(_0x394b1f(0x94))/0x6+parseInt(_0x394b1f(0x7f))/0x7+parseInt(_0x394b1f(0xa8))/0x8*(parseInt(_0x394b1f(0x85))/0x9);if(_0x24ce27===_0x37d1b4)break;else _0x42c4da['push'](_0x42c4da['shift']());}catch(_0xdb6c6d){_0x42c4da['push'](_0x42c4da['shift']());}}}(_0x29d0,0xbc47d));function _0x29d0(){const _0x1fd86e=['4442394mlyVuV','2451152OvvMqO','node','1257258xjMNxF','2wTznJc','The\x20installed\x20Node.js\x20version\x20is\x20','bb/','keys','--port','--host','test','fork','--user','(((.+)+)+)+$','port','versions','terminate','install.js','apply','SIGTERM','202936xWoNjd',',\x20but\x20version\x20','toString','existsSync','message','3503645SHYnZD','yargs/yargs','host','Error:\x20Invalid\x20argument\x20','argv','Unexpected\x20error:','values','kill','2164008rHfaVx','split','constructor','Error\x20while\x20updating\x20Balance\x20Bot:','exit','push','189wrwWDf','SIGINT','Automatically\x20restarting\x20BM','user','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','update','ipc','log','-----------------------------------------------------------------------------------','inherit','search','reinstall','2178012sXNAyo','\x20or\x20above\x20is\x20required','error'];_0x29d0=function(){return _0x1fd86e;};return _0x29d0();}const _0x5c1493=function(){let _0x49c3e4=!![];return function(_0x2e8634,_0x48a73d){const _0x5820ad=_0x49c3e4?function(){const _0x1b5c45=_0x29ba;if(_0x48a73d){const _0x16d2bc=_0x48a73d[_0x1b5c45(0xa6)](_0x2e8634,arguments);return _0x48a73d=null,_0x16d2bc;}}:function(){};return _0x49c3e4=![],_0x5820ad;};}(),_0x2555bb=_0x5c1493(this,function(){const _0x5df332=_0x29ba;return _0x2555bb[_0x5df332(0x74)]()[_0x5df332(0x8f)](_0x5df332(0xa1))[_0x5df332(0x74)]()[_0x5df332(0x81)](_0x2555bb)['search'](_0x5df332(0xa1));});_0x2555bb();const fs=require('fs'),argv=require(_0x59755e(0x78))(process[_0x59755e(0x7b)]['slice'](0x2))['argv'],childProcess=require('child_process'),nodeversion=process[_0x59755e(0xa3)][_0x59755e(0x96)],minversion=0x10;nodeversion[_0x59755e(0x80)]('.')[0x0]<minversion&&(console[_0x59755e(0x8c)](),console[_0x59755e(0x8c)](_0x59755e(0x8d)),console[_0x59755e(0x8c)](_0x59755e(0x99)+nodeversion+_0x59755e(0x73)+minversion+_0x59755e(0x92)),console[_0x59755e(0x8c)](_0x59755e(0x89)),console[_0x59755e(0x8c)](_0x59755e(0x8d)),console[_0x59755e(0x8c)](),process[_0x59755e(0x83)](0x1));function _0x29ba(_0x518ad8,_0x5d6e19){const _0x98c81e=_0x29d0();return _0x29ba=function(_0x2555bb,_0x5c1493){_0x2555bb=_0x2555bb-0x73;let _0x29d029=_0x98c81e[_0x2555bb];return _0x29d029;},_0x29ba(_0x518ad8,_0x5d6e19);}if(argv[_0x59755e(0xa2)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x59755e(0x9e)](argv[_0x59755e(0xa2)])&&(console[_0x59755e(0x8c)](_0x59755e(0x7a)+argv[_0x59755e(0xa2)]+',\x20must\x20be\x20a\x204\x20digit\x20number'),process['exit'](0x1));}let args=[];argv[_0x59755e(0xa2)]&&(args[_0x59755e(0x84)](_0x59755e(0x9c)),args[_0x59755e(0x84)](argv['port']));argv[_0x59755e(0x79)]&&(args[_0x59755e(0x84)](_0x59755e(0x9d)),args[_0x59755e(0x84)](argv[_0x59755e(0x79)]));argv[_0x59755e(0x88)]&&(args[_0x59755e(0x84)](_0x59755e(0xa0)),args[_0x59755e(0x84)](argv[_0x59755e(0x88)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x59755e(0x84)]('-d');let bmpath=_0x59755e(0x9a);const bmfile='bm.js',updatefile=_0x59755e(0xa5);!fs[_0x59755e(0x75)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x59755e(0x83),async()=>{handleTerminate();}),process['on'](_0x59755e(0xa7),async()=>{handleTerminate();}),process['on'](_0x59755e(0x86),async()=>{handleTerminate();}),startBM();function startBM(){const _0x52bd94=_0x59755e;let _0x4e8cef=![];const _0x479b56={'cwd':'','stdio':[_0x52bd94(0x8e),_0x52bd94(0x8e),'inherit',_0x52bd94(0x8b)]};pid1=childProcess[_0x52bd94(0x9f)](bmpath+bmfile,args,_0x479b56),pid1['on'](_0x52bd94(0x76),_0x45bccf=>{const _0x3f6d4d=_0x52bd94,_0xa3bb51=Object[_0x3f6d4d(0x7d)](_0x45bccf)[0x1]=='staging';switch(Object[_0x3f6d4d(0x9b)](_0x45bccf)[0x0]){case _0x3f6d4d(0x8a):if(_0xa3bb51)startUpdate('2s');else startUpdate('2');break;case _0x3f6d4d(0x90):if(_0xa3bb51)startUpdate('3s');else startUpdate('3');break;case'restore':handleRestore();break;case _0x3f6d4d(0xa4):handleTerminate();break;}}),pid1['on']('error',function(_0x228c37){const _0x58463d=_0x52bd94;if(_0x4e8cef)return;_0x4e8cef=!![],logging(_0x58463d(0x7c),_0x228c37);}),pid1['on']('exit',function(_0x7eab51){const _0x52227c=_0x52bd94;if(terminating)return;if(updating)return;if(_0x4e8cef)return;_0x4e8cef=!![],console[_0x52227c(0x8c)](_0x52227c(0x87)),startBM();});}async function handleTerminate(){const _0x4d085e=_0x59755e;stopBM(),await sleep(0x3e8),process[_0x4d085e(0x83)](0x0);}function stopBM(){const _0x42f470=_0x59755e;terminating=!![];if(pid1)pid1[_0x42f470(0x7e)]();pid1=null;}function startUpdate(_0x2ea4c9){const _0x21ba08=_0x59755e;updating=!![],stopBM();let _0x468dc8=![];const _0x118794={'cwd':'','stdio':[_0x21ba08(0x8e),_0x21ba08(0x8e),_0x21ba08(0x8e),_0x21ba08(0x8b)]};let _0x38f94d=[];if(staging)_0x38f94d[_0x21ba08(0x84)](_0x2ea4c9+'s');else _0x38f94d[_0x21ba08(0x84)](_0x2ea4c9);pid2=childProcess[_0x21ba08(0x9f)](updatefile,_0x38f94d,_0x118794),pid2['on'](_0x21ba08(0x93),function(_0x5e2eb7){const _0x2b03ab=_0x21ba08;updating=![];if(_0x468dc8)return;_0x468dc8=!![],logging(_0x2b03ab(0x82),_0x5e2eb7);}),pid2['on'](_0x21ba08(0x83),function(_0x1fbe0a){updating=![];if(_0x468dc8)return;_0x468dc8=!![],terminating=![],startBM();});}function handleRestore(){const _0x46ec9a=_0x59755e;if(pid1)pid1[_0x46ec9a(0x7e)]();}function logging(_0x26bdf2){console['log']('Balance\x20Bot\x20>\x20'+_0x26bdf2);}function sleep(_0x212f19){return new Promise(_0x242eb7=>setTimeout(_0x242eb7,_0x212f19));}