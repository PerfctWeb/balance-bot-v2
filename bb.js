const _0xf89345=_0x4de2;function _0x4306(){const _0x552964=['Error\x20while\x20updating\x20Balance\x20Bot:','ipc','port','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','Unexpected\x20error:','slice','exit','error','apply','search','10xsCvNG',',\x20must\x20be\x20a\x204\x20digit\x20number','The\x20installed\x20Node.js\x20version\x20is\x20','205134nJoZeP','26348NqTszH','toString','-----------------------------------------------------------------------------------','yargs/yargs','52944geAEKM','--port','1034379KclVRF','install.js','host','581hOHTEl','(((.+)+)+)+$','message','push','SIGTERM','restore','kill','keys','\x20or\x20above\x20is\x20required','155QZlnTp',',\x20but\x20version\x20','inherit','test','constructor','1657896YhQkil','--user','terminate','staging','child_process','bb/','user','27yUnDSL','log','50672RebnUG','--host','fork','reinstall','versions','14826823xwsnTp'];_0x4306=function(){return _0x552964;};return _0x4306();}(function(_0x104188,_0x1d3b6b){const _0x4ec89c=_0x4de2,_0x5381f7=_0x104188();while(!![]){try{const _0x17409b=parseInt(_0x4ec89c(0xc7))/0x1+parseInt(_0x4ec89c(0xc8))/0x2*(parseInt(_0x4ec89c(0xe6))/0x3)+parseInt(_0x4ec89c(0xdf))/0x4+-parseInt(_0x4ec89c(0xda))/0x5*(-parseInt(_0x4ec89c(0xcc))/0x6)+-parseInt(_0x4ec89c(0xd1))/0x7*(-parseInt(_0x4ec89c(0xe8))/0x8)+parseInt(_0x4ec89c(0xce))/0x9+-parseInt(_0x4ec89c(0xc4))/0xa*(parseInt(_0x4ec89c(0xed))/0xb);if(_0x17409b===_0x1d3b6b)break;else _0x5381f7['push'](_0x5381f7['shift']());}catch(_0x71bd27){_0x5381f7['push'](_0x5381f7['shift']());}}}(_0x4306,0x4a55e));const _0x351eaf=function(){let _0x2f730e=!![];return function(_0x3cf7b4,_0x52dcd4){const _0xd0b319=_0x2f730e?function(){const _0x18107d=_0x4de2;if(_0x52dcd4){const _0x4c50d3=_0x52dcd4[_0x18107d(0xc2)](_0x3cf7b4,arguments);return _0x52dcd4=null,_0x4c50d3;}}:function(){};return _0x2f730e=![],_0xd0b319;};}(),_0x1ca39e=_0x351eaf(this,function(){const _0x6214e0=_0x4de2;return _0x1ca39e['toString']()['search'](_0x6214e0(0xd2))[_0x6214e0(0xc9)]()[_0x6214e0(0xde)](_0x1ca39e)[_0x6214e0(0xc3)](_0x6214e0(0xd2));});_0x1ca39e();const fs=require('fs'),argv=require(_0xf89345(0xcb))(process['argv'][_0xf89345(0xf3)](0x2))['argv'],childProcess=require(_0xf89345(0xe3)),nodeversion=process[_0xf89345(0xec)]['node'],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console[_0xf89345(0xe7)](),console[_0xf89345(0xe7)](_0xf89345(0xca)),console['log'](_0xf89345(0xc6)+nodeversion+_0xf89345(0xdb)+minversion+_0xf89345(0xd9)),console[_0xf89345(0xe7)](_0xf89345(0xf1)),console['log'](_0xf89345(0xca)),console[_0xf89345(0xe7)](),process[_0xf89345(0xf4)](0x1));if(argv[_0xf89345(0xf0)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0xf89345(0xdd)](argv[_0xf89345(0xf0)])&&(console[_0xf89345(0xe7)]('Error:\x20Invalid\x20argument\x20'+argv[_0xf89345(0xf0)]+_0xf89345(0xc5)),process[_0xf89345(0xf4)](0x1));}let args=[];argv[_0xf89345(0xf0)]&&(args['push'](_0xf89345(0xcd)),args[_0xf89345(0xd4)](argv[_0xf89345(0xf0)]));argv[_0xf89345(0xd0)]&&(args[_0xf89345(0xd4)](_0xf89345(0xe9)),args[_0xf89345(0xd4)](argv[_0xf89345(0xd0)]));argv[_0xf89345(0xe5)]&&(args[_0xf89345(0xd4)](_0xf89345(0xe0)),args['push'](argv[_0xf89345(0xe5)]));const staging=argv['s']||![],debugging=argv['d']||![];function _0x4de2(_0xaf9833,_0x380fb4){const _0x24bcdd=_0x4306();return _0x4de2=function(_0x1ca39e,_0x351eaf){_0x1ca39e=_0x1ca39e-0xc1;let _0x4306e1=_0x24bcdd[_0x1ca39e];return _0x4306e1;},_0x4de2(_0xaf9833,_0x380fb4);}debugging&&args[_0xf89345(0xd4)]('-d');let bmpath=_0xf89345(0xe4);const bmfile='bm.js',updatefile=_0xf89345(0xcf);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0xf89345(0xf4),async()=>{handleTerminate();}),process['on'](_0xf89345(0xd5),async()=>{handleTerminate();}),process['on']('SIGINT',async()=>{handleTerminate();}),startBM();function startBM(){const _0x3cbb88=_0xf89345;let _0x3b9f7a=![];const _0x325af0={'cwd':'','stdio':[_0x3cbb88(0xdc),_0x3cbb88(0xdc),'inherit',_0x3cbb88(0xef)]};pid1=childProcess[_0x3cbb88(0xea)](bmpath+bmfile,args,_0x325af0),pid1['on'](_0x3cbb88(0xd3),_0x1defa5=>{const _0x280f88=_0x3cbb88,_0x4cf9b1=Object['values'](_0x1defa5)[0x1]==_0x280f88(0xe2);switch(Object[_0x280f88(0xd8)](_0x1defa5)[0x0]){case'update':if(_0x4cf9b1)startUpdate('2s');else startUpdate('2');break;case _0x280f88(0xeb):if(_0x4cf9b1)startUpdate('3s');else startUpdate('3');break;case _0x280f88(0xd6):handleRestore();break;case _0x280f88(0xe1):handleTerminate();break;}}),pid1['on']('error',function(_0x1bb572){const _0x39ced9=_0x3cbb88;if(_0x3b9f7a)return;_0x3b9f7a=!![],logging(_0x39ced9(0xf2),_0x1bb572);}),pid1['on'](_0x3cbb88(0xf4),function(_0x502753){const _0x426de1=_0x3cbb88;if(terminating)return;if(updating)return;if(_0x3b9f7a)return;_0x3b9f7a=!![],console[_0x426de1(0xe7)]('Automatically\x20restarting\x20BM'),startBM();});}async function handleTerminate(){const _0x1f4641=_0xf89345;stopBM(),await sleep(0x3e8),process[_0x1f4641(0xf4)](0x0);}function stopBM(){const _0x514182=_0xf89345;terminating=!![];if(pid1)pid1[_0x514182(0xd7)]();pid1=null;}function startUpdate(_0x23c5dc){const _0x211e13=_0xf89345;updating=!![],stopBM();let _0x20d696=![];const _0x2052ac={'cwd':'','stdio':['inherit','inherit',_0x211e13(0xdc),_0x211e13(0xef)]};let _0x275cd0=[];if(staging)_0x275cd0[_0x211e13(0xd4)](_0x23c5dc+'s');else _0x275cd0['push'](_0x23c5dc);pid2=childProcess[_0x211e13(0xea)](updatefile,_0x275cd0,_0x2052ac),pid2['on'](_0x211e13(0xc1),function(_0xfb8f6d){const _0x10d577=_0x211e13;updating=![];if(_0x20d696)return;_0x20d696=!![],logging(_0x10d577(0xee),_0xfb8f6d);}),pid2['on'](_0x211e13(0xf4),function(_0x15e721){updating=![];if(_0x20d696)return;_0x20d696=!![],terminating=![],startBM();});}function handleRestore(){const _0x4b40b2=_0xf89345;if(pid1)pid1[_0x4b40b2(0xd7)]();}function logging(_0x56c490){const _0x17a31d=_0xf89345;console[_0x17a31d(0xe7)]('Balance\x20Bot\x20>\x20'+_0x56c490);}function sleep(_0x3bf108){return new Promise(_0x354a89=>setTimeout(_0x354a89,_0x3bf108));}