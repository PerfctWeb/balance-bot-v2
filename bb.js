const _0x387413=_0x31a5;(function(_0x411ec,_0x57f91b){const _0x19b7a0=_0x31a5,_0x3a4307=_0x411ec();while(!![]){try{const _0x29ab5f=parseInt(_0x19b7a0(0xa2))/0x1+-parseInt(_0x19b7a0(0xb6))/0x2*(parseInt(_0x19b7a0(0x9a))/0x3)+-parseInt(_0x19b7a0(0xcc))/0x4+parseInt(_0x19b7a0(0xce))/0x5*(parseInt(_0x19b7a0(0x9c))/0x6)+-parseInt(_0x19b7a0(0xc8))/0x7+-parseInt(_0x19b7a0(0xa4))/0x8+parseInt(_0x19b7a0(0xc1))/0x9;if(_0x29ab5f===_0x57f91b)break;else _0x3a4307['push'](_0x3a4307['shift']());}catch(_0x69ec78){_0x3a4307['push'](_0x3a4307['shift']());}}}(_0x14d6,0xd67e1));const _0x42d0d0=function(){let _0x176997=!![];return function(_0x422516,_0x305a27){const _0x480ce9=_0x176997?function(){const _0x347261=_0x31a5;if(_0x305a27){const _0xf7def6=_0x305a27[_0x347261(0xcf)](_0x422516,arguments);return _0x305a27=null,_0xf7def6;}}:function(){};return _0x176997=![],_0x480ce9;};}(),_0x34d623=_0x42d0d0(this,function(){const _0xfb3882=_0x31a5;return _0x34d623[_0xfb3882(0xca)]()['search'](_0xfb3882(0xae))['toString']()['constructor'](_0x34d623)[_0xfb3882(0xb1)](_0xfb3882(0xae));});function _0x31a5(_0x6447f2,_0x1a2fa1){const _0x6a750d=_0x14d6();return _0x31a5=function(_0x34d623,_0x42d0d0){_0x34d623=_0x34d623-0x9a;let _0x14d666=_0x6a750d[_0x34d623];return _0x14d666;},_0x31a5(_0x6447f2,_0x1a2fa1);}_0x34d623();const fs=require('fs'),argv=require(_0x387413(0xa7))(process[_0x387413(0xa3)][_0x387413(0xc6)](0x2))['argv'],childProcess=require(_0x387413(0xa1)),nodeversion=process[_0x387413(0xcd)][_0x387413(0xd1)],minversion=0x10;nodeversion[_0x387413(0xaf)]('.')[0x0]<minversion&&(console[_0x387413(0xac)](),console[_0x387413(0xac)](_0x387413(0xa9)),console['log'](_0x387413(0xb4)+nodeversion+_0x387413(0xa0)+minversion+_0x387413(0xbd)),console[_0x387413(0xac)](_0x387413(0xb9)),console[_0x387413(0xac)]('-----------------------------------------------------------------------------------'),console[_0x387413(0xac)](),process[_0x387413(0xc9)](0x1));if(argv[_0x387413(0xbc)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x387413(0xc3)](argv[_0x387413(0xbc)])&&(console[_0x387413(0xac)](_0x387413(0xc2)+argv[_0x387413(0xbc)]+_0x387413(0x9f)),process[_0x387413(0xc9)](0x1));}let args=[];argv[_0x387413(0xbc)]&&(args[_0x387413(0xc4)]('--port'),args[_0x387413(0xc4)](argv[_0x387413(0xbc)]));function _0x14d6(){const _0x1b7714=['72998CGeSdJ','argv','3371792obeLEx','Unexpected\x20error:','terminate','yargs/yargs','--host','-----------------------------------------------------------------------------------','values','keys','log','staging','(((.+)+)+)+$','split','bb/','search','Error\x20while\x20updating\x20Balance\x20Bot:','Automatically\x20restarting\x20BM','The\x20installed\x20Node.js\x20version\x20is\x20','install.js','68IWBCxN','reinstall','inherit','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','--user','Balance\x20Bot\x20>\x20','port','\x20or\x20above\x20is\x20required','error','fork','host','39316887BiPVsY','Error:\x20Invalid\x20argument\x20','test','push','kill','slice','SIGINT','11129601kBEHVq','exit','toString','user','535080FIXoSc','versions','3755MeDUlH','apply','SIGTERM','node','142527vhlwEL','restore','1578DgoTdh','bm.js','update',',\x20must\x20be\x20a\x204\x20digit\x20number',',\x20but\x20version\x20','child_process'];_0x14d6=function(){return _0x1b7714;};return _0x14d6();}argv[_0x387413(0xc0)]&&(args[_0x387413(0xc4)](_0x387413(0xa8)),args[_0x387413(0xc4)](argv[_0x387413(0xc0)]));argv[_0x387413(0xcb)]&&(args[_0x387413(0xc4)](_0x387413(0xba)),args[_0x387413(0xc4)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x387413(0xc4)]('-d');let bmpath=_0x387413(0xb0);const bmfile=_0x387413(0x9d),updatefile=_0x387413(0xb5);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x387413(0xc9),async()=>{handleTerminate();}),process['on'](_0x387413(0xd0),async()=>{handleTerminate();}),process['on'](_0x387413(0xc7),async()=>{handleTerminate();}),startBM();function startBM(){const _0x7b8107=_0x387413;let _0x4d84e6=![];const _0x430808={'cwd':'','stdio':['inherit',_0x7b8107(0xb8),'inherit','ipc']};pid1=childProcess[_0x7b8107(0xbf)](bmpath+bmfile,args,_0x430808),pid1['on']('message',_0xb98eed=>{const _0x537a8f=_0x7b8107,_0x2fcb7a=Object[_0x537a8f(0xaa)](_0xb98eed)[0x1]==_0x537a8f(0xad);switch(Object[_0x537a8f(0xab)](_0xb98eed)[0x0]){case _0x537a8f(0x9e):if(_0x2fcb7a)startUpdate('2s');else startUpdate('2');break;case _0x537a8f(0xb7):if(_0x2fcb7a)startUpdate('3s');else startUpdate('3');break;case _0x537a8f(0x9b):handleRestore();break;case _0x537a8f(0xa6):handleTerminate();break;}}),pid1['on'](_0x7b8107(0xbe),function(_0x52c97b){const _0x98aacc=_0x7b8107;if(_0x4d84e6)return;_0x4d84e6=!![],logging(_0x98aacc(0xa5),_0x52c97b);}),pid1['on'](_0x7b8107(0xc9),function(_0x1bfd4b){const _0x1b6a6e=_0x7b8107;if(terminating)return;if(updating)return;if(_0x4d84e6)return;_0x4d84e6=!![],console[_0x1b6a6e(0xac)](_0x1b6a6e(0xb3)),startBM();});}async function handleTerminate(){const _0x213143=_0x387413;stopBM(),await sleep(0x3e8),process[_0x213143(0xc9)](0x0);}function stopBM(){const _0x5b006d=_0x387413;terminating=!![];if(pid1)pid1[_0x5b006d(0xc5)]();pid1=null;}function startUpdate(_0x13b4d6){const _0x59d858=_0x387413;updating=!![],stopBM();let _0xf1c35d=![];const _0x328c0d={'cwd':'','stdio':['inherit',_0x59d858(0xb8),'inherit','ipc']};let _0x4b1c92=[];if(staging)_0x4b1c92[_0x59d858(0xc4)](_0x13b4d6+'s');else _0x4b1c92['push'](_0x13b4d6);pid2=childProcess[_0x59d858(0xbf)](updatefile,_0x4b1c92,_0x328c0d),pid2['on'](_0x59d858(0xbe),function(_0x2c07f5){const _0x439493=_0x59d858;updating=![];if(_0xf1c35d)return;_0xf1c35d=!![],logging(_0x439493(0xb2),_0x2c07f5);}),pid2['on'](_0x59d858(0xc9),function(_0x3b40c9){updating=![];if(_0xf1c35d)return;_0xf1c35d=!![],terminating=![],startBM();});}function handleRestore(){const _0x1a840e=_0x387413;if(pid1)pid1[_0x1a840e(0xc5)]();}function logging(_0x5edc8c){const _0x2dcca4=_0x387413;console[_0x2dcca4(0xac)](_0x2dcca4(0xbb)+_0x5edc8c);}function sleep(_0x4e61bc){return new Promise(_0x539766=>setTimeout(_0x539766,_0x4e61bc));}