const _0x19841d=_0x2899;(function(_0x51a343,_0x4a4298){const _0x1af868=_0x2899,_0x5949ba=_0x51a343();while(!![]){try{const _0x52fd35=-parseInt(_0x1af868(0x13b))/0x1+-parseInt(_0x1af868(0x240))/0x2+-parseInt(_0x1af868(0x24b))/0x3+-parseInt(_0x1af868(0x24a))/0x4+parseInt(_0x1af868(0x16d))/0x5*(-parseInt(_0x1af868(0x1b9))/0x6)+-parseInt(_0x1af868(0x248))/0x7*(-parseInt(_0x1af868(0x215))/0x8)+parseInt(_0x1af868(0x17d))/0x9*(parseInt(_0x1af868(0x1b4))/0xa);if(_0x52fd35===_0x4a4298)break;else _0x5949ba['push'](_0x5949ba['shift']());}catch(_0x153edc){_0x5949ba['push'](_0x5949ba['shift']());}}}(_0x4ad7,0xc75aa));const _0x11ffa2=function(){let _0x251844=!![];return function(_0x5363e5,_0x59f042){const _0x5a30e8=_0x251844?function(){if(_0x59f042){const _0x19f79d=_0x59f042['apply'](_0x5363e5,arguments);return _0x59f042=null,_0x19f79d;}}:function(){};return _0x251844=![],_0x5a30e8;};}(),_0x157756=_0x11ffa2(this,function(){const _0x588ba5=_0x2899;return _0x157756[_0x588ba5(0x1e8)]()[_0x588ba5(0x17b)]('(((.+)+)+)+$')[_0x588ba5(0x1e8)]()['constructor'](_0x157756)[_0x588ba5(0x17b)]('(((.+)+)+)+$');});_0x157756();'use strict';process[_0x19841d(0x160)][_0x19841d(0x21e)]=0x1;const childProcess=require(_0x19841d(0x198)),FileSync=require(_0x19841d(0x247)),fs=require('fs'),fns=require(_0x19841d(0x139)),low=require('lowdb'),path=require('path'),crypto=require('crypto'),Crypt=require(_0x19841d(0x151))[_0x19841d(0x234)],RSA=require(_0x19841d(0x151))['RSA'],bcrypt=require(_0x19841d(0x21a)),jwt=require(_0x19841d(0x241)),analyticsLib=require('analytics')[_0x19841d(0x22c)],googleAnalytics=require(_0x19841d(0x23e))[_0x19841d(0x22c)],ipaddr=require(_0x19841d(0x1c6));let bbpath=_0x19841d(0x1d6);const botfile=_0x19841d(0x20e),configfile=_0x19841d(0x179),settingsfile=_0x19841d(0x15f),securefile='bb-secure.json';!fs['existsSync'](bbpath+botfile)&&(bbpath='');const configpath=bbpath+'config/';!fs[_0x19841d(0x1e1)](configpath)&&fs['mkdirSync'](configpath);function _0x2899(_0xc84eab,_0x513a77){const _0x55482f=_0x4ad7();return _0x2899=function(_0x157756,_0x11ffa2){_0x157756=_0x157756-0x133;let _0x4ad7c1=_0x55482f[_0x157756];return _0x4ad7c1;},_0x2899(_0xc84eab,_0x513a77);}const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x19841d(0x14b)]({'bots':[]})['write']();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);function _0x4ad7(){const _0x172aa1=['then','login\x20token\x20generated','write','existsSync','kind','inherit','reason','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','/:bot/portfolio','/:bot','toString','Ok,\x20will\x20send\x20alert\x20notifications\x20only','map','getMonth','randomBytes','sortBy','order','data','compareSync','Invalid\x20authentication\x20token\x20(1)','build2','/disable\x20-\x20disable\x20notifications\x0a','-events.json','/:bot/performance','padStart','store-headless','find','login\x20not\x20required','Unauthorized\x20attempt\x20to\x20log\x20out','referer','Balance\x20Bot\x20Server','error\x20while\x20deleting\x20log\x20files:\x20','ipc','Login\x20rejected','Token\x20blacklisted','exit','chat','disabled','started','join','Invalid\x20username\x20or\x20IP\x20address','restarting\x20Bot\x20','reject','\x20only\x0a','bot-','express','404\x20Not\x20Found','once','bot.js','secret','kill','new-disabled','publicKey','Unauthorized\x20attempt\x20to\x20store\x20configuration','disabled\x20Bot\x20','296ORgJIA','conn','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','blacklist','toIPv4Address','bcryptjs','username','clientip','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','NTBA_FIX_319','hashSync','access\x20timeout','storeConfiguration','Notifications\x20enabled\x0a','http','Notifications\x20types:\x20','includes','delete-bot','connected','stopPolling','telegramEvents','push','log','default','getSeconds','running','telegram','getTime','whitelistEnabled','Bot\x20','settings','Crypt','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','2FA\x20required','telegramUsername','2FA','botname','/:bot/coins','************','enabled\x20Bot\x20','status','@analytics/google-analytics','getMinutes','1803590fxaztJ','jsonwebtoken','show','all','\x20>\x20','catch','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','lowdb/adapters/FileSync','149352PiaIrN','\x20/\x20','4956592LNTYGS','561390unoPPU','login\x20token\x20valid','botID','onText','\x20|\x20','</b>\x20?','notification','new','date-fns','set','272851WKjzmB','handshake','send','use','token','starting\x20bot\x20|\x20Bot\x20','get-portfolio','Allow\x20login\x20from\x20IP\x20address\x20<b>','sign','cloneDeep','get','value','Balance\x20Bot','disconnect','bbPassword','from','defaults','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','assign','get-starting-balances','SIGINT','hybrid-crypto-js','stop','telegramEnabled','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','password','idling\x20bot\x20\x20\x20|\x20Bot\x20','unlinkSync','privateKey','getPortfolio','::ffff:127.0.0.1','secure','getFullYear','Access\x20enabled\x20for\x20','remove','bb-settings.json','env','2FA\x20login\x20token\x20generated','version','place-order','settings.','page','expiry','Unauthorized\x20attempt\x20to\x20add\x20bot','auth','reload','Unauthorized\x20attempt\x20to\x20update\x20bot','split','isIPv4MappedAddress','2120185XVMpsB','f2aRequired','orders','stopped','store','emit','Password\x20reset\x20rejected','isValid','User\x20has\x20been\x20validated','removeListener','Password\x20has\x20been\x20reset\x20to:\x20','add-bot','bb-config.json','sendFile','search','getDate','83205VMzZOu','createServer','sendMessage','<b>Balance\x20Bot\x20status:</b>\x0a','logged\x20out','bbUsername','telegramToken','length','version.json','ipv6','Unauthorized\x20attempt\x20to\x20update\x20settings','Invalid\x20IP\x20address','callback_query','alerts','keys','No\x20bots\x20enabled\x20right\x20now','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','botmanager','decrypt','Bot\x20Mgr\x20>\x20','-results.json','node-telegram-bot-api','/:bot/history','connection','/enable\x20-\x20enable\x20notifications\x0a','allow','sha256','child_process','filter','yes','emitHistory',':\x20Bot\x20Mgr\x20>\x20','hex','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','toIPv4MappedAddress','15\x20min','<b>Telegram\x20bot\x20status:</b>\x0a','login','Ok,\x20will\x20send\x20order\x20notifications\x20only','Notifications\x20disabled','forEach','You\x20can\x20use\x20the\x20following\x20commands:\x0a','Login\x20accepted','build','temporary\x20access\x20not\x20allowed','Alerts','Notifications\x20enabled','remoteAddress','loginRequired','getHours','temporary\x20token\x20generated','/restart\x20-\x20restart\x20a\x20bot\x0a','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','whitelist','2FA\x20login\x20required','3760FJGOty','No\x20authentication\x20token','type','message','match','12JqHHHR','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','live','HTML','update-bot','args','error','temporaryAccessAllowed','Notifications\x20disabled\x0a','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','starting\x20new\x20bot\x20|\x20Bot\x20','success','timestamp','ipaddr.js','invalid\x20credentials','polling_error','encryptedUuid','-config.json','Unauthorized\x20attempt\x20to\x20delete\x20bot','max','logout','store-settings','SIGTERM','index.html','reset-password','get-logs','starting','telegramChatId','hasOwnProperty','bb/','answerCallbackQuery','bots','generateKeyPairAsync','removeAllListeners','Invalid\x20Telegram\x20token','enabled','timeshift'];_0x4ad7=function(){return _0x172aa1;};return _0x4ad7();}dbSettings[_0x19841d(0x14b)]({'settings':{'timeshift':0x0}})[_0x19841d(0x1e0)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x19841d(0x14b)]({'secure':{},'blacklist':[]})[_0x19841d(0x1e0)]();let crypt=new Crypt({'md':_0x19841d(0x197),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+_0x19841d(0x185))[_0x19841d(0x162)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0x19841d(0x20b)),app=express(),http=require(_0x19841d(0x223))[_0x19841d(0x17e)](app);app[_0x19841d(0x13e)](express['static'](path['join'](__dirname,bbpath,_0x19841d(0x1f2)))),app[_0x19841d(0x13e)](express['static'](path[_0x19841d(0x205)](__dirname,bbpath,_0x19841d(0x1a8)))),app[_0x19841d(0x145)]('/',function(_0x5ab9f2,_0x31b588){const _0x2a489f=_0x19841d;_0x31b588[_0x2a489f(0x17a)](path[_0x2a489f(0x205)](__dirname,bbpath,_0x2a489f(0x1f2),_0x2a489f(0x1d0)));}),app['get'](_0x19841d(0x1e7),function(_0x10cf72,_0x33bec4){const _0x262584=_0x19841d;_0x33bec4[_0x262584(0x17a)](path[_0x262584(0x205)](__dirname,bbpath,_0x262584(0x1a8),'index.html'));}),app['get'](_0x19841d(0x1e6),(_0x3f560d,_0x138606)=>{const _0x495d26=_0x19841d;_0x138606[_0x495d26(0x17a)](path[_0x495d26(0x205)](__dirname,bbpath,'build',_0x495d26(0x1d0)));}),app[_0x19841d(0x145)](_0x19841d(0x1f5),(_0x4b9299,_0x2eab5b)=>{const _0x11cfc6=_0x19841d;_0x2eab5b[_0x11cfc6(0x17a)](path[_0x11cfc6(0x205)](__dirname,bbpath,'build','index.html'));}),app[_0x19841d(0x145)](_0x19841d(0x23a),(_0x1867c7,_0x49dfd2)=>{const _0x3f5073=_0x19841d;_0x49dfd2[_0x3f5073(0x17a)](path[_0x3f5073(0x205)](__dirname,bbpath,_0x3f5073(0x1a8),_0x3f5073(0x1d0)));}),app[_0x19841d(0x145)](_0x19841d(0x193),(_0x3d79ce,_0xd65128)=>{const _0x53da86=_0x19841d;_0xd65128[_0x53da86(0x17a)](path[_0x53da86(0x205)](__dirname,bbpath,'build',_0x53da86(0x1d0)));}),app[_0x19841d(0x145)]('/:bot/configuration',(_0xf51afc,_0x2f5781)=>{const _0xe5f1e1=_0x19841d;_0x2f5781[_0xe5f1e1(0x17a)](path['join'](__dirname,bbpath,_0xe5f1e1(0x1a8),_0xe5f1e1(0x1d0)));}),app[_0x19841d(0x145)]('/:bot/support',(_0x59c97c,_0x4fd029)=>{const _0x17bfb3=_0x19841d;_0x4fd029[_0x17bfb3(0x17a)](path[_0x17bfb3(0x205)](__dirname,bbpath,_0x17bfb3(0x1a8),_0x17bfb3(0x1d0)));}),http['listen'](PORT);const analytics=analyticsLib({'app':_0x19841d(0x147),'plugins':[googleAnalytics({'trackingId':'UA-192771731-1'})]}),TelegramBot=require(_0x19841d(0x192));let tgBot;if(settings[_0x19841d(0x183)]&&settings[_0x19841d(0x183)]!=''&&settings[_0x19841d(0x237)]&&settings[_0x19841d(0x237)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x5dd4fa=_0x19841d;console[_0x5dd4fa(0x22b)](''),console[_0x5dd4fa(0x22b)]('-----------------------------------------------------------------------------------'),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console[_0x5dd4fa(0x22b)]('-----------------------------------------------------------------------------------');if(config[_0x5dd4fa(0x184)]!=0x0)config[_0x5dd4fa(0x1a5)](_0x48394e=>{const _0x3bb8b5=_0x5dd4fa;if(_0x48394e[_0x3bb8b5(0x23d)]==_0x3bb8b5(0x1dc)||_0x48394e[_0x3bb8b5(0x23d)]=='new')logging(_0x3bb8b5(0x140)+_0x48394e[_0x3bb8b5(0x133)]+_0x3bb8b5(0x135)+_0x48394e[_0x3bb8b5(0x239)]),startBot([_0x48394e['botID']],{'cwd':bbpath},function(_0x1833a1){if(_0x1833a1)logging(_0x1833a1);});else(_0x48394e[_0x3bb8b5(0x23d)]==_0x3bb8b5(0x203)||_0x48394e['status']==_0x3bb8b5(0x211))&&logging(_0x3bb8b5(0x156)+_0x48394e[_0x3bb8b5(0x133)]+_0x3bb8b5(0x135)+_0x48394e[_0x3bb8b5(0x239)]);});else!newBot&&console[_0x5dd4fa(0x22b)](_0x5dd4fa(0x217));if(newBot)addBot();console[_0x5dd4fa(0x22b)]('-----------------------------------------------------------------------------------'),console[_0x5dd4fa(0x22b)]('');}function startSocket(){const _0x304dad=_0x19841d,_0x271b6f=require('socket.io')(http,{});_0x271b6f['on'](_0x304dad(0x194),_0x4f50b0=>{const _0x29e13e=_0x304dad;let _0x40dbfc,_0x32a0a8,_0x4acb49;const _0x4d4924=_0x4f50b0['handshake']['headers'][_0x29e13e(0x1fb)],_0x5b6e1f=_0x4f50b0[_0x29e13e(0x13c)]['auth']['encryptedUuid'];if(!_0x5b6e1f)_0x4f50b0[_0x29e13e(0x172)](_0x29e13e(0x23d),{'publicKey':secure[_0x29e13e(0x212)]});else{uuid=timelyDecrypt(_0x4f50b0[_0x29e13e(0x13c)][_0x29e13e(0x168)][_0x29e13e(0x1c9)],![]),_0x32a0a8=_0x4d4924['match'](/bot[0-9]{3}/);if(_0x32a0a8)_0x4acb49=_0x32a0a8[0x0][_0x29e13e(0x1b8)](/[0-9]{3}/);if(_0x4acb49)_0x40dbfc=_0x4acb49[0x0];else _0x40dbfc=_0x29e13e(0x18e);if(socket[_0x40dbfc])socket[_0x40dbfc][_0x29e13e(0x148)](!![]);socket[_0x40dbfc]=_0x4f50b0,setAccess(_0x40dbfc);if(accessControl['allow']){if(_0x40dbfc=='botmanager')initializeSocketBotManager();else initializeSocketBot(_0x40dbfc);}if(!serverStatus[_0x40dbfc])serverStatus[_0x40dbfc]=_0x29e13e(0x227);socket[_0x40dbfc]['on'](_0x29e13e(0x1a2),_0x2197b8=>{const _0x21d828=_0x29e13e,_0x373976=timelyDecrypt(_0x2197b8[_0x21d828(0x155)]);if(_0x373976){_0x2197b8={'username':_0x2197b8['username'],'password':_0x373976};let _0x41ad7d=validateCredentials(_0x2197b8);if(_0x41ad7d['allow']==![]&&_0x41ad7d[_0x21d828(0x1e4)]==_0x21d828(0x1b3))socket[_0x40dbfc]['emit'](_0x21d828(0x23d),{'access':_0x41ad7d}),loginAccess2FA(externalip);else{if(_0x41ad7d[_0x21d828(0x196)]==![]&&_0x41ad7d[_0x21d828(0x1e4)]=='invalid\x20credentials')socket[_0x40dbfc]['emit']('status',{'access':_0x41ad7d});else{if(_0x41ad7d[_0x21d828(0x196)]&&_0x41ad7d[_0x21d828(0x1e4)]==_0x21d828(0x1df)){token=_0x41ad7d[_0x21d828(0x13f)];for(let _0x593873 in socket){if(_0x593873==_0x21d828(0x18e))initializeSocketBotManager();else initializeSocketBot(_0x593873);socket[_0x593873][_0x21d828(0x172)](_0x21d828(0x23d),{'status':serverStatus[_0x593873]||_0x21d828(0x1d3),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x41ad7d,'externalip':externalip,'publicKey':secure[_0x21d828(0x212)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout('login');}}}}else logging(_0x21d828(0x14d));}),socket[_0x40dbfc]['on'](_0x29e13e(0x1d1),()=>{resetPassword();}),socket[_0x40dbfc]['on'](_0x29e13e(0x148),_0x4bd47f=>{let _0x5bbbae=[];for(let _0x426573 in socket){if(_0x426573!=_0x40dbfc)_0x5bbbae[_0x426573]=socket[_0x426573];}socket=_0x5bbbae;});if(_0x40dbfc!='botmanager'&&config['apiKey']!=''){if(pid[_0x40dbfc])pid[_0x40dbfc][_0x29e13e(0x13d)]({'function':'initclient','args':null});}}});}function setAccess(_0x5b045f){const _0x19aa82=_0x19841d;externalip=normalizeIP(socket[_0x5b045f][_0x19aa82(0x216)][_0x19aa82(0x1ac)])[_0x19aa82(0x171)],accessControl=validateAccess(token),accessControl[_0x19aa82(0x13f)]&&accessControl[_0x19aa82(0x1e4)]==_0x19aa82(0x1af)&&setSessionTimeout(_0x19aa82(0x238)),accessControl['token']&&accessControl[_0x19aa82(0x1e4)]==_0x19aa82(0x161)&&setSessionTimeout(_0x19aa82(0x1a2)),socket[_0x5b045f][_0x19aa82(0x172)](_0x19aa82(0x23d),{'status':serverStatus[_0x5b045f]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x19aa82(0x212)],'loginNow':accessControl[_0x19aa82(0x1e4)]=='login\x20required'||accessControl['reason']==_0x19aa82(0x1b3)}),accessControl[_0x19aa82(0x196)]==![]&&accessControl['reason']==_0x19aa82(0x236)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x425eb3){const _0x376530=_0x19841d;let _0xc66eec;if(_0x425eb3=='login')_0xc66eec=loginExpiry*0x3c*0x3e8;else _0xc66eec=telegramIpApproval[_0x376530(0x166)]*0x3c*0x3e8-(new Date()[_0x376530(0x230)]()-telegramIpApproval['timestamp']);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x12280c=_0x376530;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x946199=validateAccess(token);if(!(_0x946199['allow']&&_0x946199[_0x12280c(0x1e4)]==_0x12280c(0x1f9)))for(let _0x4f3c03 in socket){socket[_0x4f3c03][_0x12280c(0x172)]('status',{'access':{'allow':![],'reason':_0x12280c(0x220),'token':null}});}token=null;},_0xc66eec);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x319ed2=_0x2899;let _0x254df3=refreshToken();for(let _0x5796ee in socket){socket[_0x5796ee][_0x319ed2(0x172)](_0x319ed2(0x23d),{'status':serverStatus[_0x5796ee]||_0x319ed2(0x1d3),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x254df3,'externalip':externalip,'publicKey':secure[_0x319ed2(0x212)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x401272=_0x19841d;socket[_0x401272(0x18e)]['emit'](_0x401272(0x1d8),config),socket[_0x401272(0x18e)]['emit']('settings',cleanSettings()),socket['botmanager']['on'](_0x401272(0x178),_0xd99003=>{const _0x3cf18f=_0x401272;if(validateAccess(_0xd99003)[_0x3cf18f(0x196)])addBot();else logging(_0x3cf18f(0x167));}),socket[_0x401272(0x18e)]['on'](_0x401272(0x1bd),(_0x39e41b,_0x5b6c22)=>{const _0x3bf0cc=_0x401272;if(validateAccess(_0x5b6c22)['allow'])toggleBot(_0x39e41b[_0x3bf0cc(0x133)],_0x39e41b['status'],_0x39e41b['live']);else logging(_0x3bf0cc(0x16a));}),socket[_0x401272(0x18e)]['on'](_0x401272(0x226),(_0x5b56fc,_0x40ae20)=>{const _0x1ea0ee=_0x401272;if(validateAccess(_0x40ae20)[_0x1ea0ee(0x196)])deleteBot(_0x5b56fc);else logging(_0x1ea0ee(0x1cb));}),socket[_0x401272(0x18e)]['on'](_0x401272(0x1ce),(_0x43040b,_0x3dc89c)=>{const _0x77b4d6=_0x401272;if(validateAccess(_0x3dc89c)[_0x77b4d6(0x196)])storeSettings(_0x43040b,!![]);else logging(_0x77b4d6(0x187));}),socket[_0x401272(0x18e)]['on'](_0x401272(0x1cd),_0x57d470=>{const _0x50b45d=_0x401272;if(validateAccess(_0x57d470)[_0x50b45d(0x196)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x584def in socket){socket[_0x584def][_0x50b45d(0x172)](_0x50b45d(0x23d),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}}else logging(_0x50b45d(0x1fa));});}function initializeSocketBot(_0x3d0c8f){const _0xa8da85=_0x19841d;socket[_0x3d0c8f]['on'](_0xa8da85(0x1d2),(_0x206bcc,_0x50a1d9)=>{const _0x5e56d0=_0xa8da85;if(validateAccess(_0x50a1d9)[_0x5e56d0(0x196)]){if(pid[_0x3d0c8f])pid[_0x3d0c8f]['send']({'function':_0x5e56d0(0x19b),'args':_0x206bcc});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),socket[_0x3d0c8f]['on'](_0xa8da85(0x141),(_0x224b96,_0x20a8b1)=>{const _0x4fac1e=_0xa8da85;if(validateAccess(_0x20a8b1)['allow']){if(pid[_0x3d0c8f])pid[_0x3d0c8f][_0x4fac1e(0x13d)]({'function':_0x4fac1e(0x159),'args':_0x224b96});}else logging('Unauthorized\x20attempt\x20to\x20get\x20portfolio');}),socket[_0x3d0c8f]['on']('store-configuration',(_0x3eab37,_0x58c0a6)=>{const _0x2d9c3a=_0xa8da85;if(validateAccess(_0x58c0a6)[_0x2d9c3a(0x196)]){if(pid[_0x3d0c8f])pid[_0x3d0c8f]['send']({'function':_0x2d9c3a(0x221),'args':_0x3eab37});}else logging(_0x2d9c3a(0x213));}),socket[_0x3d0c8f]['on'](_0xa8da85(0x1f7),(_0x25730a,_0x5173e1)=>{const _0x2f2426=_0xa8da85;if(validateAccess(_0x5173e1)[_0x2f2426(0x196)]){if(pid[_0x3d0c8f])pid[_0x3d0c8f][_0x2f2426(0x13d)]({'function':'storeHeadless','args':_0x25730a});}else logging(_0x2f2426(0x1ba));}),socket[_0x3d0c8f]['on'](_0xa8da85(0x14f),_0xa8ec3c=>{const _0x2b37de=_0xa8da85;if(validateAccess(_0xa8ec3c)[_0x2b37de(0x196)]){if(pid[_0x3d0c8f])pid[_0x3d0c8f]['send']({'function':'getStartingBalances','args':null});}else logging(_0x2b37de(0x154));}),socket[_0x3d0c8f]['on'](_0xa8da85(0x163),(_0x22196a,_0x36243b)=>{const _0x184597=_0xa8da85;if(validateAccess(_0x36243b)[_0x184597(0x196)]){if(pid[_0x3d0c8f])pid[_0x3d0c8f][_0x184597(0x13d)]({'function':'placeOrder','args':_0x22196a});}else logging(_0x184597(0x19e));}),socket[_0x3d0c8f]['on'](_0xa8da85(0x1cd),_0x287b69=>{const _0x22360b=_0xa8da85;if(validateAccess(_0x287b69)[_0x22360b(0x196)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x40105f in socket){socket[_0x40105f][_0x22360b(0x172)]('status',{'access':{'allow':![],'reason':_0x22360b(0x181),'token':null}});}}else logging(_0x22360b(0x1fa));});}function removeSocketListeners(){const _0x439fc9=_0x19841d;for(let _0x43ee1c in socket){socket[_0x43ee1c][_0x439fc9(0x1da)]();}}function cleanSettings(){const _0x354592=_0x19841d;let _0xd6248f=settings;return settings[_0x354592(0x183)]&&settings[_0x354592(0x183)]!=''&&(_0xd6248f={..._0xd6248f,'telegramToken':'************'}),settings[_0x354592(0x149)]&&settings['bbPassword']!=''&&(_0xd6248f={..._0xd6248f,'bbPassword':_0x354592(0x23b)}),_0xd6248f;}function startBot(_0x5efef7,_0x13af36,_0x75df1){const _0x16cfa6=_0x19841d;let _0x4fc5f3=![];const _0x35eb79=_0x5efef7[0x0];_0x13af36={..._0x13af36,'stdio':['inherit','inherit',_0x16cfa6(0x1e3),_0x16cfa6(0x1fe)]},pid[_0x35eb79]=childProcess['fork'](botfile,_0x5efef7,_0x13af36),pid[_0x35eb79]['on'](_0x16cfa6(0x1b7),_0x1a1d74=>{const _0x216d53=_0x16cfa6;switch(Object[_0x216d53(0x18b)](_0x1a1d74)[0x0]){case'botname':updateBotName(_0x35eb79,_0x1a1d74[_0x216d53(0x239)]);break;case _0x216d53(0x23d):updateStatus(_0x35eb79,_0x1a1d74[_0x216d53(0x23d)]);break;case'live':updateLive(_0x35eb79,_0x1a1d74[_0x216d53(0x1bb)]);break;case _0x216d53(0x204):updateLive(_0x35eb79,_0x1a1d74[_0x216d53(0x204)]);if(socket[_0x35eb79])socket[_0x35eb79][_0x216d53(0x172)](_0x216d53(0x23d),{'access':{'allow':![],'reason':_0x216d53(0x169),'token':null}});break;case _0x216d53(0x152):_0x1a1d74['stop']=='restart'&&stopBot(_0x35eb79);_0x1a1d74[_0x216d53(0x152)]==_0x216d53(0x210)&&toggleBot(_0x35eb79,_0x216d53(0x203),'stopped');break;case _0x216d53(0x22f):sendTelegram(_0x35eb79,_0x1a1d74[_0x216d53(0x22f)]);break;case'function':if(socket[_0x35eb79])socket[_0x35eb79]['emit'](_0x1a1d74['function'],_0x1a1d74[_0x216d53(0x1be)]);break;}}),pid[_0x35eb79]['on']('error',function(_0x54c28a){if(_0x4fc5f3)return;_0x4fc5f3=!![],_0x75df1(_0x54c28a);}),pid[_0x35eb79]['on'](_0x16cfa6(0x201),function(_0x615d73){const _0x2a19d0=_0x16cfa6;if(_0x4fc5f3)return;_0x4fc5f3=!![],_0x75df1(null);const _0x53e7c5=dbConfig[_0x2a19d0(0x145)](_0x2a19d0(0x1d8))['find']({'botID':_0x35eb79})[_0x2a19d0(0x146)]();_0x53e7c5&&(_0x53e7c5[_0x2a19d0(0x23d)]=='enabled'||_0x53e7c5['status']==_0x2a19d0(0x138))&&(updateLive(_0x35eb79,_0x2a19d0(0x170)),logging(_0x2a19d0(0x207)+_0x35eb79),startBot([_0x35eb79],{'cwd':bbpath},function(_0x5f41a5){if(_0x5f41a5)logging(_0x5f41a5);}));});}function stopBot(_0x4068f4){const _0x37f925=_0x19841d;if(socket[_0x4068f4])socket[_0x4068f4][_0x37f925(0x148)](!![]);if(pid[_0x4068f4])pid[_0x4068f4][_0x37f925(0x210)]();}function addBot(){const _0x28217d=_0x19841d;let _0x215553;for(let _0x7d3bd8=0x1;_0x7d3bd8<0x3e9;_0x7d3bd8++){_0x215553=_0x7d3bd8['toString']()[_0x28217d(0x1f6)](0x3,'0');let _0x465e1d=config[_0x28217d(0x1f8)](_0x13ca6f=>_0x13ca6f[_0x28217d(0x133)]==_0x215553);if(!_0x465e1d)break;}if(_0x215553==='1000'){logging('the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached');return;}logging(_0x28217d(0x1c3)+_0x215553),dbConfig[_0x28217d(0x145)](_0x28217d(0x1d8))[_0x28217d(0x22a)]({'botID':_0x215553,'botname':_0x28217d(0x232)+_0x215553,'status':_0x28217d(0x138),'live':''})[_0x28217d(0x1e0)](),startBot([_0x215553],{'cwd':bbpath},function(_0x143eba){if(_0x143eba)logging(_0x143eba);}),config=getConfiguration();if(socket['botmanager'])socket[_0x28217d(0x18e)][_0x28217d(0x172)]('bots',config);}function deleteBot(_0x312c4f){const _0x217cb8=_0x19841d;if(socket[_0x312c4f])socket[_0x312c4f]['disconnect'](!![]);dbConfig[_0x217cb8(0x145)](_0x217cb8(0x1d8))['remove']({'botID':_0x312c4f})[_0x217cb8(0x1e0)](),logging('deleted\x20Bot\x20'+_0x312c4f),stopBot(_0x312c4f);try{fs[_0x217cb8(0x157)](path['join'](configpath,'bot-'+_0x312c4f+_0x217cb8(0x1ca))),fs[_0x217cb8(0x157)](path['join'](configpath,_0x217cb8(0x20a)+_0x312c4f+_0x217cb8(0x1f4))),fs[_0x217cb8(0x157)](path['join'](configpath,'bot-'+_0x312c4f+'-performance.json')),fs[_0x217cb8(0x157)](path['join'](configpath,_0x217cb8(0x20a)+_0x312c4f+_0x217cb8(0x191)));}catch(_0x1c2e87){if(_0x1c2e87)logging(_0x217cb8(0x1fd),_0x1c2e87);}config=getConfiguration();if(socket[_0x217cb8(0x18e)])socket[_0x217cb8(0x18e)]['emit'](_0x217cb8(0x1d8),config);}function toggleBot(_0xc2acad,_0x45bdc6,_0x292c19){const _0x24fa85=_0x19841d;dbConfig[_0x24fa85(0x145)]('bots')[_0x24fa85(0x1f8)]({'botID':_0xc2acad})[_0x24fa85(0x14e)]({'status':_0x45bdc6})[_0x24fa85(0x14e)]({'live':_0x292c19})[_0x24fa85(0x1e0)]();if(_0x45bdc6=='enabled'||_0x45bdc6=='new')logging(_0x24fa85(0x23c)+_0xc2acad),startBot([_0xc2acad],{'cwd':bbpath},function(_0x490aee){if(_0x490aee)logging(_0x490aee);});else(_0x45bdc6==_0x24fa85(0x203)||_0x45bdc6==_0x24fa85(0x211))&&(logging(_0x24fa85(0x214)+_0xc2acad),stopBot(_0xc2acad));config=getConfiguration();if(socket[_0x24fa85(0x18e)])socket[_0x24fa85(0x18e)]['emit']('bots',config);}function updateStatus(_0x56ce6c,_0x2fe58b){const _0x248e20=_0x19841d;dbConfig[_0x248e20(0x145)](_0x248e20(0x1d8))[_0x248e20(0x1f8)]({'botID':_0x56ce6c})[_0x248e20(0x14e)]({'status':_0x2fe58b})[_0x248e20(0x1e0)](),config=getConfiguration();if(socket['botmanager'])socket[_0x248e20(0x18e)][_0x248e20(0x172)]('bots',config);}function updateLive(_0x175e8a,_0x32f176){const _0x513e44=_0x19841d;dbConfig[_0x513e44(0x145)](_0x513e44(0x1d8))[_0x513e44(0x1f8)]({'botID':_0x175e8a})[_0x513e44(0x14e)]({'live':_0x32f176})[_0x513e44(0x1e0)](),config=getConfiguration();if(socket[_0x513e44(0x18e)])socket[_0x513e44(0x18e)][_0x513e44(0x172)](_0x513e44(0x1d8),config);}function updateBotName(_0x313a87,_0x5b6428){const _0x523326=_0x19841d;dbConfig[_0x523326(0x145)](_0x523326(0x1d8))['find']({'botID':_0x313a87})['assign']({'botname':_0x5b6428})[_0x523326(0x1e0)](),config=getConfiguration();if(socket[_0x523326(0x18e)])socket[_0x523326(0x18e)]['emit'](_0x523326(0x1d8),config);}function telegramError(_0x34c1b7){const _0x31f2ee=_0x19841d;console[_0x31f2ee(0x22b)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed');}function validateTelegram(_0xc715de){const _0x1fa360=_0x19841d;if(_0xc715de[_0x1fa360(0x14a)][_0x1fa360(0x21b)]!=settings[_0x1fa360(0x237)]&&'@'+_0xc715de[_0x1fa360(0x14a)]['username']!=settings['telegramUsername'])return tgBot[_0x1fa360(0x17f)](_0xc715de[_0x1fa360(0x202)]['id'],_0x1fa360(0x1e5),{'parse_mode':'HTML'})[_0x1fa360(0x245)](_0x59d2be=>{telegramError(_0x59d2be);}),![];return!![];}async function initTelegram(){const _0x41491e=_0x19841d;if(tgBot)tgBot[_0x41491e(0x228)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings['telegramToken'],{'polling':!![]});let _0x35c903=_0x41491e(0x1a6);_0x35c903+='\x0a',_0x35c903+=_0x41491e(0x195),_0x35c903+=_0x41491e(0x1f3),_0x35c903+='/config\x20-\x20notification\x20types\x20to\x20receive\x0a',_0x35c903+=_0x41491e(0x1b0),_0x35c903+='/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a',_0x35c903+='/help\x20-\x20show\x20avaiable\x20commands\x0a';let _0x205fc4=_0x41491e(0x21d);_0x205fc4+='\x0a',_0x205fc4+=_0x35c903,tgBot[_0x41491e(0x134)](/\/start/,_0x1c20b2=>{const _0x30fc65=_0x41491e;if(!validateTelegram(_0x1c20b2))return;if(settings[_0x30fc65(0x1d4)]!=_0x1c20b2[_0x30fc65(0x202)]['id'])updateSetting(_0x30fc65(0x1d4),_0x1c20b2['chat']['id']);updateSetting(_0x30fc65(0x153),!![]),tgBot[_0x30fc65(0x17f)](_0x1c20b2[_0x30fc65(0x202)]['id'],_0x205fc4)[_0x30fc65(0x245)](_0xf12f66=>{telegramError(_0xf12f66);});}),tgBot['onText'](/\/enable/,_0x340cb8=>{const _0x103bb4=_0x41491e;if(!validateTelegram(_0x340cb8))return;if(settings[_0x103bb4(0x1d4)]!=_0x340cb8[_0x103bb4(0x202)]['id'])updateSetting('telegramChatId',_0x340cb8[_0x103bb4(0x202)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0x103bb4(0x17f)](_0x340cb8['chat']['id'],_0x103bb4(0x1ab))[_0x103bb4(0x245)](_0xe95606=>{telegramError(_0xe95606);});}),tgBot[_0x41491e(0x134)](/\/config/,async _0x343438=>{const _0xd01b15=_0x41491e;if(!validateTelegram(_0x343438))return;tgBot['removeListener']('callback_query'),tgBot[_0xd01b15(0x17f)](_0x343438[_0xd01b15(0x202)]['id'],_0xd01b15(0x235),{'reply_markup':{'inline_keyboard':[[{'text':'Orders','callback_data':_0xd01b15(0x16f)},{'text':_0xd01b15(0x1aa),'callback_data':'alerts'},{'text':'All','callback_data':_0xd01b15(0x243)}]]}})[_0xd01b15(0x245)](_0x53bf3d=>{telegramError(_0x53bf3d);}),tgBot['on'](_0xd01b15(0x189),async _0x423c4e=>{const _0x591f9c=_0xd01b15,_0x15ca62=_0x423c4e[_0x591f9c(0x1ef)],_0x463113=_0x423c4e['message'];tgBot['answerCallbackQuery'](_0x423c4e['id'])['then'](async()=>{const _0x120619=_0x591f9c;_0x15ca62==_0x120619(0x16f)&&(updateSetting(_0x120619(0x229),'orders'),updateSetting(_0x120619(0x153),!![]),await tgBot[_0x120619(0x17f)](_0x463113[_0x120619(0x202)]['id'],_0x120619(0x1a3))[_0x120619(0x245)](_0x3636cc=>{telegramError(_0x3636cc);}));_0x15ca62==_0x120619(0x18a)&&(updateSetting(_0x120619(0x229),'alerts'),updateSetting(_0x120619(0x153),!![]),await tgBot[_0x120619(0x17f)](_0x463113[_0x120619(0x202)]['id'],_0x120619(0x1e9))[_0x120619(0x245)](_0x9e33de=>{telegramError(_0x9e33de);}));_0x15ca62=='all'&&(updateSetting(_0x120619(0x229),_0x120619(0x243)),updateSetting(_0x120619(0x153),!![]),await tgBot[_0x120619(0x17f)](_0x463113[_0x120619(0x202)]['id'],'Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications')['catch'](_0x2f1455=>{telegramError(_0x2f1455);}));if(!settings[_0x120619(0x1d4)])tgBot[_0x120619(0x17f)](_0x463113[_0x120619(0x202)]['id'],_0x120619(0x1b1))[_0x120619(0x245)](_0x57b154=>{telegramError(_0x57b154);});}),tgBot[_0x591f9c(0x176)](_0x591f9c(0x189));});}),tgBot[_0x41491e(0x134)](/\/status/,_0x37c0f8=>{const _0x221b39=_0x41491e;if(!validateTelegram(_0x37c0f8))return;let _0x5144eb=_0x221b39(0x180);config[_0x221b39(0x1a5)](_0x1f1163=>{const _0x1a17ae=_0x221b39;_0x5144eb+=_0x1a17ae(0x232)+_0x1f1163[_0x1a17ae(0x133)]+'\x20|\x20'+_0x1f1163['botname']+':\x20'+_0x1f1163[_0x1a17ae(0x23d)]+_0x1a17ae(0x249)+_0x1f1163[_0x1a17ae(0x1bb)]+'\x0a';}),_0x5144eb+='\x0a',_0x5144eb+=_0x221b39(0x1a1),_0x5144eb+=!settings[_0x221b39(0x153)]?_0x221b39(0x1c1):_0x221b39(0x222),_0x5144eb+=settings[_0x221b39(0x153)]?settings[_0x221b39(0x229)]==_0x221b39(0x243)?_0x221b39(0x1c2):_0x221b39(0x224)+settings[_0x221b39(0x229)]+_0x221b39(0x209):'',tgBot[_0x221b39(0x17f)](_0x37c0f8[_0x221b39(0x202)]['id'],_0x5144eb,{'parse_mode':'HTML'})[_0x221b39(0x245)](_0x2c4729=>{telegramError(_0x2c4729);});}),tgBot[_0x41491e(0x134)](/\/restart/,_0x3737cc=>{const _0x289590=_0x41491e;if(!validateTelegram(_0x3737cc))return;tgBot[_0x289590(0x176)](_0x289590(0x189));const _0x132123=getEnabledBots();if(_0x132123['length']==0x0)tgBot[_0x289590(0x17f)](_0x3737cc['chat']['id'],_0x289590(0x18c))['catch'](_0x926003=>{telegramError(_0x926003);});else{let _0x53da3f=[],_0x429086=[];const _0x41144b=_0x132123[_0x289590(0x184)]%0x4==0x0||_0x132123[_0x289590(0x184)]%0x4==0x3||_0x132123[_0x289590(0x184)]%0x3==0x1?0x4:0x3;let _0x44781=0x0;_0x132123[_0x289590(0x1a5)]((_0x442652,_0x289b7f)=>{const _0x457e2c=_0x289590;if(_0x289b7f%_0x41144b==0x0)_0x429086=[];_0x429086[_0x457e2c(0x22a)]({'text':_0x457e2c(0x232)+_0x442652[_0x457e2c(0x133)],'callback_data':_0x442652[_0x457e2c(0x133)]}),_0x289b7f%_0x41144b==0x0&&(_0x53da3f[_0x44781]=_0x429086,_0x44781++);}),tgBot[_0x289590(0x17f)](_0x3737cc['chat']['id'],_0x289590(0x14c),{'reply_markup':{'inline_keyboard':_0x53da3f}})[_0x289590(0x245)](_0x563b68=>{telegramError(_0x563b68);}),tgBot['on'](_0x289590(0x189),async _0x295e3f=>{const _0x37dcd5=_0x289590,_0x3d68fe=_0x295e3f[_0x37dcd5(0x1ef)],_0x305568=_0x295e3f['message'];tgBot[_0x37dcd5(0x1d7)](_0x295e3f['id'])[_0x37dcd5(0x1de)](async()=>{const _0x149fde=_0x37dcd5;if(settings[_0x149fde(0x229)]==_0x149fde(0x16f))tgBot[_0x149fde(0x17f)](_0x305568[_0x149fde(0x202)]['id'],'Bot\x20Mgr\x20>\x20restarting\x20Bot\x20'+_0x3d68fe)['catch'](_0x566178=>{telegramError(_0x566178);});stopBot(_0x3d68fe);}),tgBot[_0x37dcd5(0x176)](_0x37dcd5(0x189));});}}),tgBot['onText'](/\/disable/,_0x243dc6=>{const _0x30fe20=_0x41491e;if(!validateTelegram(_0x243dc6))return;tgBot[_0x30fe20(0x17f)](_0x243dc6['chat']['id'],_0x30fe20(0x1a4))[_0x30fe20(0x245)](_0x526d49=>{telegramError(_0x526d49);}),updateSetting(_0x30fe20(0x153),![]);}),tgBot[_0x41491e(0x134)](/\/help/,_0xa13e8e=>{const _0x5513d4=_0x41491e;if(!validateTelegram(_0xa13e8e))return;tgBot[_0x5513d4(0x17f)](_0xa13e8e[_0x5513d4(0x202)]['id'],_0x35c903)[_0x5513d4(0x245)](_0x1b09a1=>{telegramError(_0x1b09a1);});}),tgBot['on'](_0x41491e(0x1c8),_0x142278=>{const _0x823e60=_0x41491e;if(_0x142278[_0x823e60(0x1e8)]()['includes'](_0x823e60(0x20c))){logging('Invalid\x20Telegram\x20token'),tgBot[_0x823e60(0x228)](),tgBot=null;if(socket[_0x823e60(0x18e)])socket['botmanager'][_0x823e60(0x172)](_0x823e60(0x137),_0x823e60(0x1db));}}),process[_0x41491e(0x20d)](_0x41491e(0x150),()=>{if(tgBot)tgBot['stopPolling']();process['exit'](0x1);}),process[_0x41491e(0x20d)](_0x41491e(0x1cf),()=>{const _0x3bb0f3=_0x41491e;if(tgBot)tgBot[_0x3bb0f3(0x228)]();process[_0x3bb0f3(0x201)](0x1);});}}function disableTelegram(){const _0x523fde=_0x19841d;tgBot&&(tgBot[_0x523fde(0x228)](),tgBot=null);}function sendTelegram(_0x370323,_0x23cfd6){const _0x287841=_0x19841d;if(settings[_0x287841(0x153)]){if(settings[_0x287841(0x229)]==_0x287841(0x243)||(_0x23cfd6['type']==_0x287841(0x1bf)||_0x23cfd6[_0x287841(0x1b6)]=='success')&&settings['telegramEvents']==_0x287841(0x18a)||_0x23cfd6[_0x287841(0x1b6)]==_0x287841(0x1ee)&&settings[_0x287841(0x229)]==_0x287841(0x16f)){if(tgBot&&settings[_0x287841(0x1d4)])tgBot['sendMessage'](settings['telegramChatId'],'Bot\x20'+_0x370323+_0x287841(0x244)+_0x23cfd6['event'])[_0x287841(0x245)](_0x49035d=>{telegramError(_0x49035d);});}}}function temporaryAccess2FA(_0x11cb8f){const _0x354b8=_0x19841d;let _0xd33fe=new Date(),_0x345c52=![];if(lastIpApproval){if(_0xd33fe-lastIpApproval<0x1388)_0x345c52=!![];}lastIpApproval=new Date();if(_0x345c52)return;tgBot&&settings['telegramChatId']&&(tgBot['removeListener'](_0x354b8(0x189)),tgBot[_0x354b8(0x17f)](settings[_0x354b8(0x1d4)],_0x354b8(0x246)+normalizeIP(_0x11cb8f)['show']+'</b>\x20?',{'parse_mode':_0x354b8(0x1bc),'reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':_0x354b8(0x1a0),'callback_data':'15'},{'text':'30\x20min','callback_data':'30'},{'text':_0x354b8(0x208),'callback_data':_0x354b8(0x208)}]]}})[_0x354b8(0x245)](_0x4861de=>{telegramError(_0x4861de);}),tgBot['on']('callback_query',async _0x4687af=>{const _0x2957bd=_0x354b8,_0x1db7e7=_0x4687af[_0x2957bd(0x1ef)],_0x256f6f=_0x4687af[_0x2957bd(0x1b7)];tgBot[_0x2957bd(0x1d7)](_0x4687af['id'])[_0x2957bd(0x1de)](async()=>{const _0x48b21c=_0x2957bd;if(_0x1db7e7!='reject'){telegramIpApproval={'clientip':_0x11cb8f,'timestamp':new Date()[_0x48b21c(0x230)](),'expiry':_0x1db7e7},await tgBot['sendMessage'](_0x256f6f[_0x48b21c(0x202)]['id'],_0x48b21c(0x15d)+_0x1db7e7+'\x20minutes',{'parse_mode':'HTML'})['catch'](_0x58041e=>{telegramError(_0x58041e);});for(let _0x17ebd8 in socket){socket[_0x17ebd8]['emit']('status',{'access':{'allow':![],'reason':'reload','token':null}});}}else await tgBot[_0x48b21c(0x17f)](_0x256f6f[_0x48b21c(0x202)]['id'],'Temporary\x20access\x20rejected')['catch'](_0x3f8e07=>{telegramError(_0x3f8e07);});}),tgBot[_0x2957bd(0x176)](_0x2957bd(0x189));}));}function loginAccess2FA(_0x2a648f){const _0x5d26bd=_0x19841d;tgBot&&settings[_0x5d26bd(0x1d4)]&&(tgBot[_0x5d26bd(0x176)]('callback_query'),tgBot[_0x5d26bd(0x17f)](settings['telegramChatId'],_0x5d26bd(0x142)+normalizeIP(_0x2a648f)[_0x5d26bd(0x242)]+_0x5d26bd(0x136),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'accept','callback_data':loginExpiry},{'text':_0x5d26bd(0x208),'callback_data':_0x5d26bd(0x208)}]]}})[_0x5d26bd(0x245)](_0x2a0479=>{telegramError(_0x2a0479);}),tgBot['on'](_0x5d26bd(0x189),async _0xf6905a=>{const _0x398a17=_0x5d26bd,_0x768a89=_0xf6905a['data'],_0x1ff54c=_0xf6905a[_0x398a17(0x1b7)];tgBot['answerCallbackQuery'](_0xf6905a['id'])['then'](async()=>{const _0x3b08e9=_0x398a17;if(_0x768a89!=_0x3b08e9(0x208)){telegram2FaApproval={'clientip':_0x2a648f,'timestamp':new Date()[_0x3b08e9(0x230)](),'expiry':_0x768a89},await tgBot[_0x3b08e9(0x17f)](_0x1ff54c[_0x3b08e9(0x202)]['id'],_0x3b08e9(0x1a7),{'parse_mode':'HTML'})[_0x3b08e9(0x245)](_0x124961=>{telegramError(_0x124961);});for(let _0x449888 in socket){socket[_0x449888][_0x3b08e9(0x172)](_0x3b08e9(0x23d),{'access':{'allow':![],'reason':_0x3b08e9(0x169),'token':null}});}}else await tgBot['sendMessage'](_0x1ff54c['chat']['id'],_0x3b08e9(0x1ff))['catch'](_0x4f40aa=>{telegramError(_0x4f40aa);});}),tgBot[_0x398a17(0x176)](_0x398a17(0x189));}));}function getConfiguration(){const _0x42bcc3=_0x19841d;return dbConfig[_0x42bcc3(0x145)]('bots')[_0x42bcc3(0x1ed)](_0x42bcc3(0x133))[_0x42bcc3(0x146)]()||[];}function getEnabledBots(){const _0x85852f=_0x19841d;return dbConfig[_0x85852f(0x145)](_0x85852f(0x1d8))[_0x85852f(0x1ed)](_0x85852f(0x133))[_0x85852f(0x199)]({'status':_0x85852f(0x1dc)})[_0x85852f(0x146)]()||[];}function getSettings(){const _0x169e61=_0x19841d;return dbSettings[_0x169e61(0x145)](_0x169e61(0x233))[_0x169e61(0x146)]()||{'timeshift':0x0};}function getSecure(){const _0x2d1315=_0x19841d;return dbSecure['get'](_0x2d1315(0x15b))['value']()||{};}function getBlacklist(){const _0xd7672d=_0x19841d;return dbSecure[_0xd7672d(0x145)](_0xd7672d(0x218))[_0xd7672d(0x146)]()||[];}function broadcastToBots(_0x193f35,_0x29c5ba){const _0xf3617d=_0x19841d;config[_0xf3617d(0x1a5)](_0x345d2b=>{const _0x56b201=_0xf3617d;if(_0x345d2b[_0x56b201(0x23d)]==_0x56b201(0x1dc)&&_0x345d2b['live']==_0x56b201(0x22e)){if(pid[_0x345d2b[_0x56b201(0x133)]])pid[_0x345d2b['botID']][_0x56b201(0x13d)]({[_0x193f35]:_0x29c5ba});}});}function storeSettings(_0x2983cc,_0x1351ca=![]){const _0x575073=_0x19841d;_0x2983cc={...settings,..._0x2983cc};if(_0x1351ca&&_0x2983cc[_0x575073(0x149)]!=_0x575073(0x23b)&&_0x2983cc[_0x575073(0x149)]!=''){const _0x10380e=crypt['decrypt'](secure[_0x575073(0x158)],_0x2983cc[_0x575073(0x149)])[_0x575073(0x1b7)][_0x575073(0x16b)]('@')[0x0],_0x47218f=bcrypt[_0x575073(0x21f)](_0x10380e,saltRounds);_0x2983cc={..._0x2983cc,'bbPassword':_0x47218f};}if(_0x1351ca&&_0x2983cc[_0x575073(0x183)]!=_0x575073(0x23b)&&_0x2983cc[_0x575073(0x183)]!=''){const _0x49d718=crypt[_0x575073(0x18f)](secure[_0x575073(0x158)],_0x2983cc[_0x575073(0x183)])[_0x575073(0x1b7)][_0x575073(0x16b)]('@')[0x0];_0x2983cc={..._0x2983cc,'telegramToken':_0x49d718};}const _0x407170=_0x2983cc['telegramToken']!=_0x575073(0x23b)&&_0x2983cc[_0x575073(0x183)]!=settings[_0x575073(0x183)]||_0x2983cc[_0x575073(0x237)]!=settings['telegramUsername'],_0x102660=_0x2983cc[_0x575073(0x183)]==''||_0x2983cc['telegramUsername']=='';if(_0x407170)_0x2983cc[_0x575073(0x229)]=_0x575073(0x243);for(const [_0x288273,_0x1e488d]of Object['entries'](_0x2983cc)){if(_0x288273=='telegramToken'&&_0x1e488d==_0x575073(0x23b)){_0x2983cc[_0x575073(0x183)]=settings[_0x575073(0x183)];continue;};if(_0x288273==_0x575073(0x149)&&_0x1e488d==_0x575073(0x23b)){_0x2983cc[_0x575073(0x149)]=settings[_0x575073(0x149)];continue;};dbSettings[_0x575073(0x13a)](_0x575073(0x164)+_0x288273,_0x1e488d)['write']();}settings=_0x2983cc;if(socket[_0x575073(0x18e)])socket[_0x575073(0x18e)][_0x575073(0x172)](_0x575073(0x233),cleanSettings());broadcastToBots('timeshift',settings[_0x575073(0x1dd)]);if(_0x407170&&!_0x102660)initTelegram();if(_0x407170&&_0x102660)disableTelegram();for(let _0x127e6b in socket){setAccess(_0x127e6b);}}function updateSetting(_0x3f9a52,_0x516cf9){const _0x4f3974=_0x19841d;dbSettings[_0x4f3974(0x13a)](_0x4f3974(0x164)+_0x3f9a52,_0x516cf9)[_0x4f3974(0x1e0)](),settings=getSettings();if(socket['botmanager'])socket[_0x4f3974(0x18e)]['emit'](_0x4f3974(0x233),cleanSettings());}function storeSecure(_0x4f1036){const _0x441a7b=_0x19841d;dbSecure['get'](_0x441a7b(0x15b))[_0x441a7b(0x22a)](_0x4f1036)[_0x441a7b(0x1e0)](),secure=_0x4f1036;}function addBlacklist(){const _0x58adde=_0x19841d;cleanBlacklist();let _0x3d678d;telegramIpApproval?_0x3d678d=Math[_0x58adde(0x1cc)](telegramIpApproval[_0x58adde(0x166)],loginExpiry):_0x3d678d=loginExpiry,dbSecure[_0x58adde(0x145)](_0x58adde(0x218))[_0x58adde(0x22a)]({'expiry':new Date()['getTime']()+_0x3d678d*0x3c*0x3e8,'token':token})[_0x58adde(0x1e0)](),blacklist=dbSecure[_0x58adde(0x145)](_0x58adde(0x218))[_0x58adde(0x146)]();}function cleanBlacklist(){const _0x5f4271=_0x19841d;let _0x12985b=dbSecure[_0x5f4271(0x145)](_0x5f4271(0x218))[_0x5f4271(0x144)]()['value'](),_0x3975e0=new Date()[_0x5f4271(0x230)]();_0x12985b[_0x5f4271(0x1a5)](_0x400146=>{const _0x1b2cab=_0x5f4271;_0x400146[_0x1b2cab(0x166)]<_0x3975e0&&dbSecure['get'](_0x1b2cab(0x218))[_0x1b2cab(0x15e)]({'expiry':_0x400146[_0x1b2cab(0x166)]})[_0x1b2cab(0x1e0)]();});}function initStates(){let _0x598662=getConfiguration();_0x598662['forEach'](_0x5c4bd2=>{const _0x3cc566=_0x2899;_0x5c4bd2[_0x3cc566(0x1bb)]='stopped';}),storeConfiguration(_0x598662);}function onKeys(){const _0x1a4d7d=new RSA();return new Promise(_0x5e4dcd=>{const _0xbd377d=_0x2899;_0x1a4d7d[_0xbd377d(0x1d9)]()['then'](_0x49e69a=>{_0x5e4dcd(_0x49e69a);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x30357b=_0x19841d;let _0x1c19e8=getConfiguration(),_0x532187=![];_0x1c19e8[_0x30357b(0x1a5)](_0x2bd4c8=>{const _0x156623=_0x30357b;if(_0x2bd4c8[_0x156623(0x23d)]==_0x156623(0x22e))_0x2bd4c8['status']=_0x156623(0x1dc),_0x532187=!![];else _0x2bd4c8[_0x156623(0x23d)]==_0x156623(0x170)&&(_0x2bd4c8['status']=_0x156623(0x203),_0x532187=!![]);});if(_0x532187)storeConfiguration(_0x1c19e8);let _0x6f0070=getSecure();if(!_0x6f0070[_0x30357b(0x1d5)]('secret')){let _0x1fa96a=await generateKeys();_0x6f0070[_0x30357b(0x212)]=_0x1fa96a['publicKey'],_0x6f0070[_0x30357b(0x158)]=_0x1fa96a['privateKey'],_0x6f0070[_0x30357b(0x20f)]=crypto[_0x30357b(0x1ec)](0x20)[_0x30357b(0x1e8)](_0x30357b(0x19d));;storeSecure(_0x6f0070);}let _0x9bedda=getSettings();_0x532187=![];!_0x9bedda[_0x30357b(0x1d5)](_0x30357b(0x1ad))&&(_0x9bedda['loginRequired']=![],_0x9bedda[_0x30357b(0x182)]='',_0x9bedda[_0x30357b(0x149)]='',_0x9bedda[_0x30357b(0x16e)]=![],_0x532187=!![]);!_0x9bedda[_0x30357b(0x1d5)]('whitelistEnabled')&&(_0x9bedda[_0x30357b(0x231)]=![],_0x9bedda[_0x30357b(0x1b2)]=[],_0x9bedda['temporaryAccessAllowed']=![],_0x532187=!![]);if(!_0x9bedda[_0x30357b(0x1d5)](_0x30357b(0x153))){if(_0x9bedda[_0x30357b(0x1d4)])_0x9bedda[_0x30357b(0x153)]=!![];else _0x9bedda[_0x30357b(0x153)]=![];_0x532187=!![];}if(_0x532187)storeSettings(_0x9bedda);}function storeConfiguration(_0x33cad0){const _0x5065ad=_0x19841d;dbConfig[_0x5065ad(0x145)](_0x5065ad(0x1d8))['remove']()[_0x5065ad(0x1e0)](),dbConfig[_0x5065ad(0x145)]('bots')[_0x5065ad(0x22a)](..._0x33cad0)[_0x5065ad(0x1e0)](),config=_0x33cad0;}function resetPassword(){const _0x228fbf=_0x19841d;tgBot&&settings['telegramChatId']&&(tgBot['removeListener'](_0x228fbf(0x189)),tgBot[_0x228fbf(0x17f)](settings[_0x228fbf(0x1d4)],'Do\x20you\x20want\x20to\x20reset\x20your\x20password?',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x228fbf(0x19a),'callback_data':_0x228fbf(0x19a)},{'text':'no','callback_data':'no'}]]}})[_0x228fbf(0x245)](_0xac1e7e=>{telegramError(_0xac1e7e);}),tgBot['on'](_0x228fbf(0x189),async _0x437670=>{const _0xdd21ed=_0x228fbf,_0x36ff70=_0x437670[_0xdd21ed(0x1ef)],_0x55c5fa=_0x437670[_0xdd21ed(0x1b7)];tgBot[_0xdd21ed(0x1d7)](_0x437670['id'])[_0xdd21ed(0x1de)](async()=>{const _0x1a0eaf=_0xdd21ed;if(_0x36ff70!='no'){const _0x530bfb=0xf,_0x6d870b=_0x1a0eaf(0x18d),_0x27ddc9=Array['from'](crypto['randomFillSync'](new Uint32Array(_0x530bfb)))[_0x1a0eaf(0x1ea)](_0x39430f=>_0x6d870b[_0x39430f%_0x6d870b[_0x1a0eaf(0x184)]])[_0x1a0eaf(0x205)](''),_0x167af7=bcrypt['hashSync'](_0x27ddc9,saltRounds);storeSettings({'bbPassword':_0x167af7}),await tgBot['sendMessage'](_0x55c5fa[_0x1a0eaf(0x202)]['id'],_0x1a0eaf(0x177)+_0x27ddc9,{'parse_mode':_0x1a0eaf(0x1bc)})[_0x1a0eaf(0x245)](_0x1c61cb=>{telegramError(_0x1c61cb);});}else await tgBot[_0x1a0eaf(0x17f)](_0x55c5fa[_0x1a0eaf(0x202)]['id'],_0x1a0eaf(0x173))[_0x1a0eaf(0x245)](_0x2971ab=>{telegramError(_0x2971ab);});}),tgBot[_0xdd21ed(0x176)](_0xdd21ed(0x189));}));}function logging(_0x34da55){const _0x2e737b=_0x19841d;console[_0x2e737b(0x22b)](getTimeStamp()+_0x2e737b(0x19c)+_0x34da55);if(tgBot&&settings['telegramChatId']&&settings[_0x2e737b(0x229)]!=_0x2e737b(0x16f))tgBot[_0x2e737b(0x17f)](settings[_0x2e737b(0x1d4)],_0x2e737b(0x190)+_0x34da55)['catch'](_0x17ce0d=>{telegramError(_0x17ce0d);});}function getServerTime(){const _0x1b18aa=_0x19841d,_0xc0fe5e=new Date();return _0xc0fe5e[_0x1b18aa(0x15c)]()+'/'+(_0xc0fe5e[_0x1b18aa(0x1eb)]()+0x1)[_0x1b18aa(0x1e8)]()[_0x1b18aa(0x1f6)](0x2,'0')+'/'+_0xc0fe5e[_0x1b18aa(0x17c)]()[_0x1b18aa(0x1e8)]()[_0x1b18aa(0x1f6)](0x2,'0')+'\x20'+_0xc0fe5e['getHours']()['toString']()['padStart'](0x2,'0')+':'+_0xc0fe5e['getMinutes']()[_0x1b18aa(0x1e8)]()[_0x1b18aa(0x1f6)](0x2,'0')+':'+_0xc0fe5e[_0x1b18aa(0x22d)]()[_0x1b18aa(0x1e8)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4954b=_0x19841d,_0x21f26b=shiftedTime();return _0x21f26b['getFullYear']()+'/'+(_0x21f26b[_0x4954b(0x1eb)]()+0x1)[_0x4954b(0x1e8)]()[_0x4954b(0x1f6)](0x2,'0')+'/'+_0x21f26b[_0x4954b(0x17c)]()[_0x4954b(0x1e8)]()['padStart'](0x2,'0')+'\x20'+_0x21f26b[_0x4954b(0x1ae)]()[_0x4954b(0x1e8)]()[_0x4954b(0x1f6)](0x2,'0')+':'+_0x21f26b[_0x4954b(0x23f)]()['toString']()['padStart'](0x2,'0')+':'+_0x21f26b[_0x4954b(0x22d)]()[_0x4954b(0x1e8)]()[_0x4954b(0x1f6)](0x2,'0');}function shiftedTime(){const _0x5e1f70=_0x19841d,_0x1c1e03=new Date();let _0x1c9c37=_0x1c1e03;if(settings[_0x5e1f70(0x1dd)]&&settings[_0x5e1f70(0x1dd)]!==0x0)_0x1c9c37=fns['add'](_0x1c1e03,{'hours':settings[_0x5e1f70(0x1dd)]});return _0x1c9c37;}function startAnalytics(){let _0x2f559f=new Date()['getUTCHours']();_0x2f559f==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x10fe6a=_0x19841d;analytics[_0x10fe6a(0x165)]({'title':_0x10fe6a(0x1fc),'href':'https://hodlerhacks.com','path':'/v'+serverversion});}function validateCredentials(_0x3a4752){const _0xb473f2=_0x19841d;if(_0x3a4752[_0xb473f2(0x21b)]==settings[_0xb473f2(0x182)]&&bcrypt[_0xb473f2(0x1f0)](_0x3a4752[_0xb473f2(0x155)],settings['bbPassword'])){if(settings[_0xb473f2(0x16e)])return{'allow':![],'reason':_0xb473f2(0x1b3),'token':null};else{const _0x1605a6=generateLoginToken();return{'allow':!![],'reason':_0xb473f2(0x1df),'token':_0x1605a6};}}else return{'allow':![],'reason':_0xb473f2(0x1c7),'token':null};}function refreshToken(){const _0x50fa66=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x50fa66};}function validateAccess(_0x238de4){const _0x4257d0=_0x19841d;let _0x3b3a9a;const _0x31acdb=_0x26cc87=>{const _0x2d9602=_0x2899;if(settings[_0x2d9602(0x1ad)]){if(settings['f2aRequired']){if(telegram2FaApproved()){const _0x5c5bfc=generateLoginToken();return{'allow':!![],'reason':_0x2d9602(0x161),'token':_0x5c5bfc};}else return{'allow':![],'reason':_0x2d9602(0x1b3),'token':null};}else return _0x3b3a9a=validToken(_0x26cc87),_0x3b3a9a[_0x2d9602(0x1d5)](_0x2d9602(0x1c4))?{'allow':!![],'reason':_0x2d9602(0x24c),'token':_0x26cc87}:{'allow':![],'reason':'login\x20required','token':null};}else return{'allow':!![],'reason':_0x2d9602(0x1f9),'token':null};};if(settings[_0x4257d0(0x231)]){let _0x524201=[...settings[_0x4257d0(0x1b2)],'::1',_0x4257d0(0x15a),'127.0.0.1'];if(_0x524201[_0x4257d0(0x225)](externalip))return _0x31acdb(_0x238de4);else{_0x3b3a9a=validToken(_0x238de4);if(_0x3b3a9a[_0x4257d0(0x1d5)](_0x4257d0(0x1c4)))return _0x31acdb(_0x238de4);else{if(telegramIpApproved()){const _0x15abae=generateToken();return _0x3b3a9a=_0x31acdb(_0x238de4),_0x3b3a9a[_0x4257d0(0x196)]?{'allow':!![],'reason':_0x4257d0(0x1af),'token':_0x15abae}:_0x3b3a9a;}else return settings[_0x4257d0(0x1c0)]?{'allow':![],'reason':_0x4257d0(0x236),'token':null}:{'allow':![],'reason':_0x4257d0(0x1a9),'token':null};}}}else return _0x31acdb(_0x238de4);}function timelyDecrypt(_0x5eb692,_0x1af076=!![]){const _0x1ed601=_0x19841d;if(_0x5eb692)try{const _0x509325=crypt[_0x1ed601(0x18f)](secure[_0x1ed601(0x158)],_0x5eb692)['message'],_0x2b2353=_0x509325[_0x1ed601(0x16b)]('@')[0x0],_0x4ff232=_0x509325[_0x1ed601(0x16b)]('@')[0x1],_0x3a5272=new Date()[_0x1ed601(0x230)]();if(_0x1af076){if(_0x3a5272-_0x4ff232<maxSecretAge*0x3e8)return _0x2b2353;else return![];}else return _0x2b2353;}catch{return![];}else return![];}const validToken=_0x3a1ce6=>{const _0x50d92e=_0x19841d;if(!_0x3a1ce6)return{'error':_0x50d92e(0x1b5)};for(let _0x192233 of blacklist){if(_0x192233[_0x50d92e(0x13f)]==_0x3a1ce6)return{'error':_0x50d92e(0x200)};}let _0x3b0cc8;try{_0x3b0cc8=jwt['verify'](_0x3a1ce6,secure[_0x50d92e(0x20f)]+uuid);}catch{return{'error':_0x50d92e(0x1f1)};}if(!_0x3b0cc8[_0x50d92e(0x1d5)](_0x50d92e(0x21c))&&!_0x3b0cc8[_0x50d92e(0x1d5)](_0x50d92e(0x21b))||!_0x3b0cc8[_0x50d92e(0x1d5)]('exp'))return{'error':'Invalid\x20authentication\x20token\x20(2)'};if(!_0x3b0cc8['hasOwnProperty']('username')&&_0x3b0cc8[_0x50d92e(0x1d5)](_0x50d92e(0x21c))){const {clientip:_0x599697}=_0x3b0cc8;return externalip==_0x599697?{'success':_0x50d92e(0x175)}:{'error':_0x50d92e(0x188)};}else{if(_0x3b0cc8['hasOwnProperty'](_0x50d92e(0x21b))&&_0x3b0cc8[_0x50d92e(0x1d5)](_0x50d92e(0x21c))){const {username:_0x453029,clientip:_0x1f7a2f}=_0x3b0cc8;return settings[_0x50d92e(0x182)]==_0x453029&&externalip==_0x1f7a2f?{'success':_0x50d92e(0x175)}:{'error':_0x50d92e(0x206)};}}},generateLoginToken=()=>{const _0x207812=_0x19841d;if(uuid)return jwt[_0x207812(0x143)]({'username':settings[_0x207812(0x182)],'clientip':externalip},secure[_0x207812(0x20f)]+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x448076=_0x19841d;if(uuid)return jwt['sign']({'clientip':externalip},secure[_0x448076(0x20f)]+uuid,{'expiresIn':telegramIpApproval[_0x448076(0x166)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x95fbe6=_0x19841d;let _0xb68ad3=![];return telegramIpApproval&&telegramIpApproval['expiry']!='reject'&&(_0xb68ad3=telegramIpApproval[_0x95fbe6(0x21c)]==externalip&&new Date()[_0x95fbe6(0x230)]()-telegramIpApproval[_0x95fbe6(0x1c5)]<telegramIpApproval[_0x95fbe6(0x166)]*0x3c*0x3e8),_0xb68ad3;},telegram2FaApproved=()=>{const _0x453cbd=_0x19841d;let _0x5c34a3=![];return telegram2FaApproval&&telegram2FaApproval['expiry']!=_0x453cbd(0x208)&&(_0x5c34a3=telegram2FaApproval[_0x453cbd(0x21c)]==externalip&&new Date()[_0x453cbd(0x230)]()-telegram2FaApproval[_0x453cbd(0x1c5)]<telegram2FaApproval['expiry']*0x3c*0x3e8),_0x5c34a3;},normalizeIP=_0x224765=>{const _0x21330e=_0x19841d;let _0x26c1d8=null,_0x47f8d8=null;if(ipaddr[_0x21330e(0x174)](_0x224765)){const _0x3e6c9c=ipaddr['parse'](_0x224765);_0x3e6c9c[_0x21330e(0x1e2)]()===_0x21330e(0x186)?(_0x3e6c9c[_0x21330e(0x16c)]()&&(_0x26c1d8=_0x3e6c9c[_0x21330e(0x219)]()[_0x21330e(0x1e8)]()),_0x47f8d8=_0x3e6c9c[_0x21330e(0x1e8)]()):(_0x26c1d8=_0x3e6c9c[_0x21330e(0x1e8)](),_0x47f8d8=_0x3e6c9c[_0x21330e(0x19f)]()['toString']());}return{'show':_0x26c1d8?_0x26c1d8:_0x47f8d8,'store':_0x47f8d8};};