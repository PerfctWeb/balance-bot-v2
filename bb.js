const _0x2ec768=_0x1277;(function(_0x49dd45,_0x5ccca6){const _0x2c80ce=_0x1277,_0x4f4f5a=_0x49dd45();while(!![]){try{const _0x1d3407=-parseInt(_0x2c80ce(0x184))/0x1+-parseInt(_0x2c80ce(0x150))/0x2*(-parseInt(_0x2c80ce(0xd5))/0x3)+parseInt(_0x2c80ce(0x76))/0x4*(parseInt(_0x2c80ce(0x13d))/0x5)+parseInt(_0x2c80ce(0x12e))/0x6*(parseInt(_0x2c80ce(0xc8))/0x7)+parseInt(_0x2c80ce(0xaa))/0x8*(-parseInt(_0x2c80ce(0x145))/0x9)+parseInt(_0x2c80ce(0x68))/0xa+parseInt(_0x2c80ce(0x137))/0xb*(-parseInt(_0x2c80ce(0xf7))/0xc);if(_0x1d3407===_0x5ccca6)break;else _0x4f4f5a['push'](_0x4f4f5a['shift']());}catch(_0x135359){_0x4f4f5a['push'](_0x4f4f5a['shift']());}}}(_0x10d0,0x5ec9f));const _0x5c529b=function(){let _0x79502e=!![];return function(_0x55389e,_0x57ce57){const _0x55d40f=_0x79502e?function(){if(_0x57ce57){const _0x3a251b=_0x57ce57['apply'](_0x55389e,arguments);return _0x57ce57=null,_0x3a251b;}}:function(){};return _0x79502e=![],_0x55d40f;};}(),_0x48428a=_0x5c529b(this,function(){const _0x55203a=_0x1277;return _0x48428a[_0x55203a(0xca)]()[_0x55203a(0xf0)](_0x55203a(0x94))[_0x55203a(0xca)]()[_0x55203a(0x151)](_0x48428a)[_0x55203a(0xf0)](_0x55203a(0x94));});_0x48428a();'use strict';process['env'][_0x2ec768(0x79)]=0x1;const childProcess=require('child_process'),FileSync=require(_0x2ec768(0x10e)),fs=require('fs'),fns=require(_0x2ec768(0x175)),low=require(_0x2ec768(0x9a)),path=require('path'),crypto=require(_0x2ec768(0x84)),Crypt=require(_0x2ec768(0xf3))[_0x2ec768(0x187)],RSA=require(_0x2ec768(0xf3))[_0x2ec768(0x180)],bcrypt=require('bcryptjs'),jwt=require(_0x2ec768(0xea)),analyticsLib=require(_0x2ec768(0x69))[_0x2ec768(0x8d)],googleAnalytics=require(_0x2ec768(0x173))[_0x2ec768(0x8d)],ipaddr=require('ipaddr.js');let bbpath=_0x2ec768(0x152);const botfile=_0x2ec768(0xcd),configfile=_0x2ec768(0x6b),settingsfile='bb-settings.json',securefile=_0x2ec768(0xb9);!fs['existsSync'](bbpath+botfile)&&(bbpath='');const configpath=bbpath+'config/';!fs[_0x2ec768(0xce)](configpath)&&fs[_0x2ec768(0x110)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig['defaults']({'bots':[]})[_0x2ec768(0x93)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);function _0x1277(_0x27f097,_0x379c1e){const _0x208a95=_0x10d0();return _0x1277=function(_0x48428a,_0x5c529b){_0x48428a=_0x48428a-0x68;let _0x10d07d=_0x208a95[_0x48428a];return _0x10d07d;},_0x1277(_0x27f097,_0x379c1e);}dbSettings[_0x2ec768(0x159)]({'settings':{'timeshift':0x0}})['write']();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure['defaults']({'secure':{},'blacklist':[]})[_0x2ec768(0x93)]();let crypt=new Crypt({'md':_0x2ec768(0x17d),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+_0x2ec768(0x17b))['version'],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0x2ec768(0xff)),app=express(),http=require(_0x2ec768(0x77))[_0x2ec768(0x8f)](app);app[_0x2ec768(0xdc)](express[_0x2ec768(0x7f)](path[_0x2ec768(0xa2)](__dirname,bbpath,_0x2ec768(0x183)))),app[_0x2ec768(0xdc)](express['static'](path['join'](__dirname,bbpath,'build'))),app['get']('/',function(_0x49fa56,_0x2d687f){const _0x30319d=_0x2ec768;_0x2d687f[_0x30319d(0x8a)](path[_0x30319d(0xa2)](__dirname,bbpath,_0x30319d(0x183),_0x30319d(0x74)));}),app['get'](_0x2ec768(0x155),function(_0x501b98,_0x3f8b36){const _0x2cacfb=_0x2ec768;_0x3f8b36['sendFile'](path[_0x2cacfb(0xa2)](__dirname,bbpath,_0x2cacfb(0x16e),_0x2cacfb(0x74)));}),app[_0x2ec768(0x119)]('/:bot/portfolio',(_0x4d3646,_0x318753)=>{const _0x210790=_0x2ec768;_0x318753[_0x210790(0x8a)](path['join'](__dirname,bbpath,_0x210790(0x16e),_0x210790(0x74)));}),app[_0x2ec768(0x119)](_0x2ec768(0x138),(_0x4d3d1d,_0x2df147)=>{const _0xc435a3=_0x2ec768;_0x2df147[_0xc435a3(0x8a)](path[_0xc435a3(0xa2)](__dirname,bbpath,_0xc435a3(0x16e),'index.html'));}),app[_0x2ec768(0x119)](_0x2ec768(0xb8),(_0xbf0ae,_0xe565f7)=>{const _0x1c9766=_0x2ec768;_0xe565f7[_0x1c9766(0x8a)](path[_0x1c9766(0xa2)](__dirname,bbpath,_0x1c9766(0x16e),_0x1c9766(0x74)));}),app['get'](_0x2ec768(0xd4),(_0x2ae064,_0x35faad)=>{const _0x4947f8=_0x2ec768;_0x35faad[_0x4947f8(0x8a)](path[_0x4947f8(0xa2)](__dirname,bbpath,'build',_0x4947f8(0x74)));}),app[_0x2ec768(0x119)](_0x2ec768(0xe8),(_0x5c506c,_0x2052d8)=>{const _0x26882f=_0x2ec768;_0x2052d8[_0x26882f(0x8a)](path[_0x26882f(0xa2)](__dirname,bbpath,_0x26882f(0x16e),_0x26882f(0x74)));}),app['get'](_0x2ec768(0x99),(_0x1152fa,_0x3d5c86)=>{const _0x39c0e0=_0x2ec768;_0x3d5c86[_0x39c0e0(0x8a)](path['join'](__dirname,bbpath,_0x39c0e0(0x16e),'index.html'));}),http[_0x2ec768(0x78)](PORT);function _0x10d0(){const _0x4d0edc=['toString','catch','Unauthorized\x20attempt\x20to\x20store\x20configuration','bot.js','existsSync','\x20>\x20','set','store-settings','username','login\x20token\x20generated','/:bot/history','170121tmBhCS','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','Alerts','starting','padStart','Invalid\x20authentication\x20token\x20(1)','connected','use','Bot\x20','getHours','from','push','Invalid\x20username\x20or\x20IP\x20address','new','send','stopped','placeOrder','</b>\x20?','getMonth','/:bot/configuration','started','jsonwebtoken','auth','invalid\x20credentials','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','error\x20while\x20deleting\x20log\x20files:\x20','getTime','search','bbPassword','/help\x20-\x20show\x20avaiable\x20commands\x0a','hybrid-crypto-js','All','alerts','1000','370500eEbtrB','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','isValid','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','starting\x20new\x20bot\x20|\x20Bot\x20','storeConfiguration','new-disabled','express','Password\x20has\x20been\x20reset\x20to:\x20','reject','sign','stopPolling','idling\x20bot\x20\x20\x20|\x20Bot\x20',':\x20Bot\x20Mgr\x20>\x20','data','disabled\x20Bot\x20','value','2FA\x20login\x20required','success','restarting\x20Bot\x20','getUTCHours','answerCallbackQuery','lowdb/adapters/FileSync','logout','mkdirSync','hasOwnProperty','<b>Balance\x20Bot\x20status:</b>\x0a','then','delete-bot','removeListener','Unauthorized\x20attempt\x20to\x20get\x20portfolio','decrypt','access\x20timeout','get','function','conn','parse','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','Invalid\x20IP\x20address','socket.io','match','/disable\x20-\x20disable\x20notifications\x0a','bbUsername','chat','telegramChatId','telegramUsername','error','split','kill','Invalid\x20Telegram\x20token','botname','botmanager','all','secret','440184GiBjlS','reset-password','telegramToken','Access\x20enabled\x20for\x20','verify','keys','remoteAddress','Unauthorized\x20attempt\x20to\x20update\x20bot','store','407dmhTKi','/:bot/performance','timestamp','forEach','message','-----------------------------------------------------------------------------------','5aLglFA','/restart\x20-\x20restart\x20a\x20bot\x0a','initclient','HTML','live','timeshift','30\x20min','whitelistEnabled','9smiiTg','telegramEvents','update-bot','encryptedUuid','toIPv4Address','unlinkSync','show','\x20minutes','\x20|\x20','allow','reason','2JNuJhd','constructor','bb/','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','Unauthorized\x20attempt\x20logging\x20in\x20(timeout)','/:bot','hashSync','place-order','filter','defaults','get-starting-balances','Balance\x20Bot\x20Server','login\x20not\x20required','No\x20authentication\x20token','login\x20required','publicKey','getStartingBalances','Token\x20blacklisted','bot-','temporary\x20token\x20generated','privateKey','127.0.0.1','enabled','settings.','fork','Allow\x20login\x20from\x20IP\x20address\x20<b>','find','args','getSeconds','telegram','build','expiry','sortBy','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','storeHeadless','@analytics/google-analytics','exit','date-fns','Password\x20reset\x20rejected','f2aRequired','Notifications\x20enabled','-config.json','Notifications\x20disabled\x0a','version.json','-events.json','sha256','emit','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','RSA','enabled\x20Bot\x20','order','build2','56430FHyjIK','disconnect','************','Crypt','SIGTERM','hex','getDate','Login\x20rejected','Orders','5453240litrZG','analytics','orders','bb-config.json','accept','Ok,\x20will\x20send\x20order\x20notifications\x20only','type','status','callback_query','temporaryAccessAllowed','Notifications\x20enabled\x0a','Notifications\x20types:\x20','index.html','Login\x20accepted','2022744eWkYVN','http','listen','NTBA_FIX_319','headers','secure','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','includes','bots','static','Unauthorized\x20attempt\x20to\x20add\x20bot','kind','Ok,\x20will\x20send\x20alert\x20notifications\x20only','2FA\x20login\x20token\x20generated','crypto','Balance\x20Bot','settings','whitelist','15\x20min','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','sendFile','isIPv4MappedAddress','onText','default','running','createServer','add-bot','getMinutes','compareSync','write','(((.+)+)+)+$','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','telegramEnabled','::ffff:127.0.0.1','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','/:bot/support','lowdb','No\x20bots\x20enabled\x20right\x20now','removeAllListeners','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','::1','handshake','node-telegram-bot-api','2FA','join','password','logged\x20out','log','404\x20Not\x20Found','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','generateKeyPairAsync','botID','273640zDBtlC','remove','5\x20min','token','once','login\x20token\x20valid','2FA\x20required','add','-performance.json','length','blacklist','loginRequired','cloneDeep','inherit','/:bot/coins','bb-secure.json','Bot\x20Mgr\x20>\x20','sendMessage','toIPv4MappedAddress','assign','yes','connection','getFullYear','clientip','notification','emitHistory','login','apiKey','disabled','Unauthorized\x20attempt\x20to\x20log\x20out','49zXDRYH','get-logs'];_0x10d0=function(){return _0x4d0edc;};return _0x10d0();}const analytics=analyticsLib({'app':_0x2ec768(0x85),'plugins':[googleAnalytics({'trackingId':'UA-192771731-1'})]}),TelegramBot=require(_0x2ec768(0xa0));let tgBot;if(settings['telegramToken']&&settings[_0x2ec768(0x130)]!=''&&settings[_0x2ec768(0x125)]&&settings[_0x2ec768(0x125)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x794325=_0x2ec768;console[_0x794325(0xa5)](''),console['log']('-----------------------------------------------------------------------------------'),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console[_0x794325(0xa5)](_0x794325(0x13c));if(config['length']!=0x0)config['forEach'](_0x21917b=>{const _0x3df249=_0x794325;if(_0x21917b[_0x3df249(0x6f)]==_0x3df249(0x166)||_0x21917b['status']==_0x3df249(0xe2))logging('starting\x20bot\x20|\x20Bot\x20'+_0x21917b['botID']+_0x3df249(0x14d)+_0x21917b[_0x3df249(0x12a)]),startBot([_0x21917b[_0x3df249(0xa9)]],{'cwd':bbpath},function(_0x5da346){if(_0x5da346)logging(_0x5da346);});else(_0x21917b['status']==_0x3df249(0xc6)||_0x21917b[_0x3df249(0x6f)]==_0x3df249(0xfe))&&logging(_0x3df249(0x104)+_0x21917b[_0x3df249(0xa9)]+_0x3df249(0x14d)+_0x21917b['botname']);});else!newBot&&console[_0x794325(0xa5)](_0x794325(0x98));if(newBot)addBot();console[_0x794325(0xa5)](_0x794325(0x13c)),console[_0x794325(0xa5)]('');}function startSocket(){const _0x4e5a7e=_0x2ec768,_0x1c86df=require(_0x4e5a7e(0x11f))(http,{});_0x1c86df['on'](_0x4e5a7e(0xbf),_0xffcc7c=>{const _0x2aa7d0=_0x4e5a7e;let _0x93c736,_0x53e91b,_0x27b825;const _0x171d80=_0xffcc7c[_0x2aa7d0(0x9f)][_0x2aa7d0(0x7a)]['referer'],_0x5bdabd=_0xffcc7c['handshake'][_0x2aa7d0(0xeb)][_0x2aa7d0(0x148)];if(!_0x5bdabd)_0xffcc7c['emit']('status',{'publicKey':secure[_0x2aa7d0(0x15f)]});else{uuid=timelyDecrypt(_0xffcc7c[_0x2aa7d0(0x9f)][_0x2aa7d0(0xeb)][_0x2aa7d0(0x148)],![]),_0x53e91b=_0x171d80[_0x2aa7d0(0x120)](/bot[0-9]{3}/);if(_0x53e91b)_0x27b825=_0x53e91b[0x0][_0x2aa7d0(0x120)](/[0-9]{3}/);if(_0x27b825)_0x93c736=_0x27b825[0x0];else _0x93c736='botmanager';if(socket[_0x93c736])socket[_0x93c736][_0x2aa7d0(0x185)](!![]);socket[_0x93c736]=_0xffcc7c,setAccess(_0x93c736);if(accessControl[_0x2aa7d0(0x14e)]){if(_0x93c736=='botmanager')initializeSocketBotManager();else initializeSocketBot(_0x93c736);}if(!serverStatus[_0x93c736])serverStatus[_0x93c736]=_0x2aa7d0(0xdb);socket[_0x93c736]['on'](_0x2aa7d0(0xc4),_0x274514=>{const _0x33b519=_0x2aa7d0,_0x51338b=timelyDecrypt(_0x274514[_0x33b519(0xa3)]);if(_0x51338b){_0x274514={'username':_0x274514['username'],'password':_0x51338b};let _0x310e10=validateCredentials(_0x274514);if(_0x310e10[_0x33b519(0x14e)]==![]&&_0x310e10[_0x33b519(0x14f)]==_0x33b519(0x109))socket[_0x93c736][_0x33b519(0x17e)](_0x33b519(0x6f),{'access':_0x310e10}),loginAccess2FA(externalip);else{if(_0x310e10['allow']==![]&&_0x310e10[_0x33b519(0x14f)]==_0x33b519(0xec))socket[_0x93c736][_0x33b519(0x17e)](_0x33b519(0x6f),{'access':_0x310e10});else{if(_0x310e10['allow']&&_0x310e10['reason']=='login\x20token\x20generated'){token=_0x310e10[_0x33b519(0xad)];for(let _0x416b0b in socket){if(_0x416b0b==_0x33b519(0x12b))initializeSocketBotManager();else initializeSocketBot(_0x416b0b);socket[_0x416b0b][_0x33b519(0x17e)](_0x33b519(0x6f),{'status':serverStatus[_0x416b0b]||_0x33b519(0xd8),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x310e10,'externalip':externalip,'publicKey':secure[_0x33b519(0x15f)],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x33b519(0xc4));}}}}else logging(_0x33b519(0x154));}),socket[_0x93c736]['on'](_0x2aa7d0(0x12f),()=>{resetPassword();}),socket[_0x93c736]['on']('disconnect',_0x2b030a=>{let _0x25f2c0=[];for(let _0xb588b0 in socket){if(_0xb588b0!=_0x93c736)_0x25f2c0[_0xb588b0]=socket[_0xb588b0];}socket=_0x25f2c0;});if(_0x93c736!=_0x2aa7d0(0x12b)&&config[_0x2aa7d0(0xc5)]!=''){if(pid[_0x93c736])pid[_0x93c736][_0x2aa7d0(0xe3)]({'function':_0x2aa7d0(0x13f),'args':null});}}});}function setAccess(_0x3dda21){const _0x3169de=_0x2ec768;externalip=normalizeIP(socket[_0x3dda21][_0x3169de(0x11b)][_0x3169de(0x134)])[_0x3169de(0x136)],accessControl=validateAccess(token),accessControl[_0x3169de(0xad)]&&accessControl[_0x3169de(0x14f)]==_0x3169de(0x163)&&setSessionTimeout(_0x3169de(0xa1)),accessControl[_0x3169de(0xad)]&&accessControl[_0x3169de(0x14f)]==_0x3169de(0x83)&&setSessionTimeout(_0x3169de(0xc4)),socket[_0x3dda21]['emit']('status',{'status':serverStatus[_0x3dda21]||_0x3169de(0xd8),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0x3169de(0x15f)],'loginNow':accessControl[_0x3169de(0x14f)]==_0x3169de(0x15e)||accessControl['reason']==_0x3169de(0x109)}),accessControl['allow']==![]&&accessControl[_0x3169de(0x14f)]==_0x3169de(0xb0)&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x33908f){const _0xfd9e03=_0x2ec768;let _0x379c5c;if(_0x33908f==_0xfd9e03(0xc4))_0x379c5c=loginExpiry*0x3c*0x3e8;else _0x379c5c=telegramIpApproval[_0xfd9e03(0x16f)]*0x3c*0x3e8-(new Date()[_0xfd9e03(0xef)]()-telegramIpApproval[_0xfd9e03(0x139)]);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x58ddb9=_0xfd9e03;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x465289=validateAccess(token);if(!(_0x465289[_0x58ddb9(0x14e)]&&_0x465289['reason']==_0x58ddb9(0x15c)))for(let _0x3c522b in socket){socket[_0x3c522b][_0x58ddb9(0x17e)](_0x58ddb9(0x6f),{'access':{'allow':![],'reason':_0x58ddb9(0x118),'token':null}});}token=null;},_0x379c5c);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x5c6f53=_0x1277;let _0x2fd044=refreshToken();for(let _0x218229 in socket){socket[_0x218229][_0x5c6f53(0x17e)]('status',{'status':serverStatus[_0x218229]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x2fd044,'externalip':externalip,'publicKey':secure[_0x5c6f53(0x15f)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x5a7964=_0x2ec768;socket['botmanager']['emit'](_0x5a7964(0x7e),config),socket[_0x5a7964(0x12b)][_0x5a7964(0x17e)](_0x5a7964(0x86),cleanSettings()),socket[_0x5a7964(0x12b)]['on'](_0x5a7964(0x90),_0x57e98a=>{const _0x31d1cd=_0x5a7964;if(validateAccess(_0x57e98a)['allow'])addBot();else logging(_0x31d1cd(0x80));}),socket[_0x5a7964(0x12b)]['on'](_0x5a7964(0x147),(_0x153edd,_0xa95a2)=>{const _0x398462=_0x5a7964;if(validateAccess(_0xa95a2)['allow'])toggleBot(_0x153edd[_0x398462(0xa9)],_0x153edd[_0x398462(0x6f)],_0x153edd[_0x398462(0x141)]);else logging(_0x398462(0x135));}),socket[_0x5a7964(0x12b)]['on'](_0x5a7964(0x114),(_0x49586e,_0x1328d1)=>{const _0x191f20=_0x5a7964;if(validateAccess(_0x1328d1)[_0x191f20(0x14e)])deleteBot(_0x49586e);else logging('Unauthorized\x20attempt\x20to\x20delete\x20bot');}),socket[_0x5a7964(0x12b)]['on'](_0x5a7964(0xd1),(_0x21e065,_0x587675)=>{const _0x3f0afe=_0x5a7964;if(validateAccess(_0x587675)[_0x3f0afe(0x14e)])storeSettings(_0x21e065,!![]);else logging('Unauthorized\x20attempt\x20to\x20update\x20settings');}),socket[_0x5a7964(0x12b)]['on'](_0x5a7964(0x10f),_0x45a24e=>{const _0x1f4d17=_0x5a7964;if(validateAccess(_0x45a24e)['allow']){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x1c8200 in socket){socket[_0x1c8200][_0x1f4d17(0x17e)](_0x1f4d17(0x6f),{'access':{'allow':![],'reason':_0x1f4d17(0xa4),'token':null}});}}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function initializeSocketBot(_0x522183){const _0x562a47=_0x2ec768;socket[_0x522183]['on'](_0x562a47(0xc9),(_0x15444c,_0x325167)=>{const _0x5c3bb0=_0x562a47;if(validateAccess(_0x325167)['allow']){if(pid[_0x522183])pid[_0x522183][_0x5c3bb0(0xe3)]({'function':_0x5c3bb0(0xc3),'args':_0x15444c});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),socket[_0x522183]['on']('get-portfolio',(_0x380453,_0x228a0d)=>{const _0x3359a0=_0x562a47;if(validateAccess(_0x228a0d)['allow']){if(pid[_0x522183])pid[_0x522183][_0x3359a0(0xe3)]({'function':'getPortfolio','args':_0x380453});}else logging(_0x3359a0(0x116));}),socket[_0x522183]['on']('store-configuration',(_0x3d4b6d,_0x34a068)=>{const _0xbe0b21=_0x562a47;if(validateAccess(_0x34a068)[_0xbe0b21(0x14e)]){if(pid[_0x522183])pid[_0x522183][_0xbe0b21(0xe3)]({'function':_0xbe0b21(0xfd),'args':_0x3d4b6d});}else logging(_0xbe0b21(0xcc));}),socket[_0x522183]['on']('store-headless',(_0x2fe5f5,_0x141a05)=>{const _0x1f4a8a=_0x562a47;if(validateAccess(_0x141a05)['allow']){if(pid[_0x522183])pid[_0x522183][_0x1f4a8a(0xe3)]({'function':_0x1f4a8a(0x172),'args':_0x2fe5f5});}else logging(_0x1f4a8a(0x171));}),socket[_0x522183]['on'](_0x562a47(0x15a),_0x4fe560=>{const _0x123628=_0x562a47;if(validateAccess(_0x4fe560)[_0x123628(0x14e)]){if(pid[_0x522183])pid[_0x522183][_0x123628(0xe3)]({'function':_0x123628(0x160),'args':null});}else logging(_0x123628(0x17f));}),socket[_0x522183]['on'](_0x562a47(0x157),(_0x21e2bf,_0x41e5ce)=>{const _0x5e61f4=_0x562a47;if(validateAccess(_0x41e5ce)['allow']){if(pid[_0x522183])pid[_0x522183][_0x5e61f4(0xe3)]({'function':_0x5e61f4(0xe5),'args':_0x21e2bf});}else logging(_0x5e61f4(0x95));}),socket[_0x522183]['on']('logout',_0x3c8a0e=>{const _0x54efd8=_0x562a47;if(validateAccess(_0x3c8a0e)['allow']){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x5169c9 in socket){socket[_0x5169c9][_0x54efd8(0x17e)](_0x54efd8(0x6f),{'access':{'allow':![],'reason':_0x54efd8(0xa4),'token':null}});}}else logging(_0x54efd8(0xc7));});}function removeSocketListeners(){const _0x41e169=_0x2ec768;for(let _0x168cd8 in socket){socket[_0x168cd8][_0x41e169(0x9c)]();}}function cleanSettings(){const _0x270695=_0x2ec768;let _0xdbb1fa=settings;return settings['telegramToken']&&settings[_0x270695(0x130)]!=''&&(_0xdbb1fa={..._0xdbb1fa,'telegramToken':_0x270695(0x186)}),settings[_0x270695(0xf1)]&&settings[_0x270695(0xf1)]!=''&&(_0xdbb1fa={..._0xdbb1fa,'bbPassword':_0x270695(0x186)}),_0xdbb1fa;}function startBot(_0x2fbda5,_0x23d8ec,_0x38d862){const _0x7f4da1=_0x2ec768;let _0x33651c=![];const _0xcd26f2=_0x2fbda5[0x0];_0x23d8ec={..._0x23d8ec,'stdio':[_0x7f4da1(0xb7),_0x7f4da1(0xb7),_0x7f4da1(0xb7),'ipc']},pid[_0xcd26f2]=childProcess[_0x7f4da1(0x168)](botfile,_0x2fbda5,_0x23d8ec),pid[_0xcd26f2]['on'](_0x7f4da1(0x13b),_0x32565c=>{const _0x712330=_0x7f4da1;switch(Object[_0x712330(0x133)](_0x32565c)[0x0]){case _0x712330(0x12a):updateBotName(_0xcd26f2,_0x32565c['botname']);break;case _0x712330(0x6f):updateStatus(_0xcd26f2,_0x32565c[_0x712330(0x6f)]);break;case _0x712330(0x141):updateLive(_0xcd26f2,_0x32565c['live']);break;case _0x712330(0xe9):updateLive(_0xcd26f2,_0x32565c[_0x712330(0xe9)]);if(socket[_0xcd26f2])socket[_0xcd26f2][_0x712330(0x17e)]('status',{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x712330(0x16d):sendTelegram(_0xcd26f2,_0x32565c[_0x712330(0x16d)]);break;case'function':if(socket[_0xcd26f2])socket[_0xcd26f2][_0x712330(0x17e)](_0x32565c[_0x712330(0x11a)],_0x32565c[_0x712330(0x16b)]);break;}}),pid[_0xcd26f2]['on']('error',function(_0x4764b5){if(_0x33651c)return;_0x33651c=!![],_0x38d862(_0x4764b5);}),pid[_0xcd26f2]['on']('exit',function(_0xbc3716){const _0x371fa7=_0x7f4da1;if(_0x33651c)return;_0x33651c=!![],_0x38d862(null);const _0x2917a9=dbConfig[_0x371fa7(0x119)](_0x371fa7(0x7e))['find']({'botID':_0xcd26f2})[_0x371fa7(0x108)]();_0x2917a9&&(_0x2917a9[_0x371fa7(0x6f)]==_0x371fa7(0x166)||_0x2917a9[_0x371fa7(0x6f)]==_0x371fa7(0xe2))&&(updateLive(_0xcd26f2,_0x371fa7(0xe4)),_0xbc3716!=0x4d&&(logging(_0x371fa7(0x10b)+_0xcd26f2),startBot([_0xcd26f2],{'cwd':bbpath},function(_0x17004e){if(_0x17004e)logging(_0x17004e);})));});}function stopBot(_0x405fc6){const _0x18ae22=_0x2ec768;if(socket[_0x405fc6])socket[_0x405fc6][_0x18ae22(0x185)](!![]);if(pid[_0x405fc6])pid[_0x405fc6][_0x18ae22(0x128)]();}function addBot(){const _0x359c9d=_0x2ec768;let _0x43a7b;for(let _0x5b21cc=0x1;_0x5b21cc<0x3e9;_0x5b21cc++){_0x43a7b=_0x5b21cc[_0x359c9d(0xca)]()['padStart'](0x3,'0');let _0x130b66=config[_0x359c9d(0x16a)](_0x1ed90f=>_0x1ed90f[_0x359c9d(0xa9)]==_0x43a7b);if(!_0x130b66)break;}if(_0x43a7b===_0x359c9d(0xf6)){logging(_0x359c9d(0xed));return;}logging(_0x359c9d(0xfc)+_0x43a7b),dbConfig['get'](_0x359c9d(0x7e))[_0x359c9d(0xe0)]({'botID':_0x43a7b,'botname':_0x359c9d(0xdd)+_0x43a7b,'status':_0x359c9d(0xe2),'live':''})[_0x359c9d(0x93)](),startBot([_0x43a7b],{'cwd':bbpath},function(_0x597687){if(_0x597687)logging(_0x597687);}),config=getConfiguration();if(socket[_0x359c9d(0x12b)])socket[_0x359c9d(0x12b)][_0x359c9d(0x17e)](_0x359c9d(0x7e),config);}function deleteBot(_0x19731b){const _0x298c23=_0x2ec768;if(socket[_0x19731b])socket[_0x19731b][_0x298c23(0x185)](!![]);dbConfig[_0x298c23(0x119)](_0x298c23(0x7e))[_0x298c23(0xab)]({'botID':_0x19731b})['write'](),logging('deleted\x20Bot\x20'+_0x19731b),stopBot(_0x19731b);try{fs[_0x298c23(0x14a)](path[_0x298c23(0xa2)](configpath,_0x298c23(0x162)+_0x19731b+_0x298c23(0x179))),fs[_0x298c23(0x14a)](path[_0x298c23(0xa2)](configpath,_0x298c23(0x162)+_0x19731b+_0x298c23(0x17c))),fs[_0x298c23(0x14a)](path[_0x298c23(0xa2)](configpath,_0x298c23(0x162)+_0x19731b+_0x298c23(0xb2))),fs[_0x298c23(0x14a)](path[_0x298c23(0xa2)](configpath,'bot-'+_0x19731b+'-results.json'));}catch(_0x47dadf){if(_0x47dadf)logging(_0x298c23(0xee),_0x47dadf);}config=getConfiguration();if(socket['botmanager'])socket[_0x298c23(0x12b)][_0x298c23(0x17e)](_0x298c23(0x7e),config);}function toggleBot(_0x109944,_0x49c569,_0x5db073){const _0x9001c5=_0x2ec768;dbConfig['get'](_0x9001c5(0x7e))['find']({'botID':_0x109944})[_0x9001c5(0xbd)]({'status':_0x49c569})[_0x9001c5(0xbd)]({'live':_0x5db073})[_0x9001c5(0x93)]();if(_0x49c569==_0x9001c5(0x166)||_0x49c569=='new')logging(_0x9001c5(0x181)+_0x109944),startBot([_0x109944],{'cwd':bbpath},function(_0x4e84ae){if(_0x4e84ae)logging(_0x4e84ae);});else(_0x49c569==_0x9001c5(0xc6)||_0x49c569==_0x9001c5(0xfe))&&(logging(_0x9001c5(0x107)+_0x109944),stopBot(_0x109944));config=getConfiguration();if(socket[_0x9001c5(0x12b)])socket[_0x9001c5(0x12b)][_0x9001c5(0x17e)]('bots',config);}function updateStatus(_0x154db4,_0x4896e1){const _0x113e02=_0x2ec768;dbConfig[_0x113e02(0x119)](_0x113e02(0x7e))[_0x113e02(0x16a)]({'botID':_0x154db4})[_0x113e02(0xbd)]({'status':_0x4896e1})['write'](),config=getConfiguration();if(socket[_0x113e02(0x12b)])socket[_0x113e02(0x12b)][_0x113e02(0x17e)](_0x113e02(0x7e),config);}function updateLive(_0x5ceece,_0x6e468d){const _0x21099d=_0x2ec768;dbConfig[_0x21099d(0x119)](_0x21099d(0x7e))[_0x21099d(0x16a)]({'botID':_0x5ceece})[_0x21099d(0xbd)]({'live':_0x6e468d})[_0x21099d(0x93)](),config=getConfiguration();if(socket[_0x21099d(0x12b)])socket[_0x21099d(0x12b)]['emit'](_0x21099d(0x7e),config);}function updateBotName(_0xfbae84,_0x23024a){const _0x27884d=_0x2ec768;dbConfig[_0x27884d(0x119)]('bots')['find']({'botID':_0xfbae84})[_0x27884d(0xbd)]({'botname':_0x23024a})[_0x27884d(0x93)](),config=getConfiguration();if(socket[_0x27884d(0x12b)])socket['botmanager'][_0x27884d(0x17e)](_0x27884d(0x7e),config);}function telegramError(_0x4f049f){const _0x1cd8ec=_0x2ec768;console[_0x1cd8ec(0xa5)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed');}function validateTelegram(_0x18b7b1){const _0x19dc90=_0x2ec768;if(_0x18b7b1[_0x19dc90(0xdf)][_0x19dc90(0xd2)]!=settings[_0x19dc90(0x125)]&&'@'+_0x18b7b1[_0x19dc90(0xdf)][_0x19dc90(0xd2)]!=settings[_0x19dc90(0x125)])return tgBot[_0x19dc90(0xbb)](_0x18b7b1[_0x19dc90(0x123)]['id'],_0x19dc90(0x89),{'parse_mode':_0x19dc90(0x140)})['catch'](_0x522ee8=>{telegramError(_0x522ee8);}),![];return!![];}async function initTelegram(){const _0xc63499=_0x2ec768;if(tgBot)tgBot[_0xc63499(0x103)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0xc63499(0x130)],{'polling':!![]});let _0x1eeba2='You\x20can\x20use\x20the\x20following\x20commands:\x0a';_0x1eeba2+='\x0a',_0x1eeba2+='/enable\x20-\x20enable\x20notifications\x0a',_0x1eeba2+=_0xc63499(0x121),_0x1eeba2+=_0xc63499(0x153),_0x1eeba2+=_0xc63499(0x13e),_0x1eeba2+='/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a',_0x1eeba2+=_0xc63499(0xf2);let _0x53ca87=_0xc63499(0xfb);_0x53ca87+='\x0a',_0x53ca87+=_0x1eeba2,tgBot['onText'](/\/start/,_0x41e935=>{const _0x560fe3=_0xc63499;if(!validateTelegram(_0x41e935))return;if(settings[_0x560fe3(0x124)]!=_0x41e935[_0x560fe3(0x123)]['id'])updateSetting(_0x560fe3(0x124),_0x41e935[_0x560fe3(0x123)]['id']);updateSetting(_0x560fe3(0x96),!![]),tgBot[_0x560fe3(0xbb)](_0x41e935[_0x560fe3(0x123)]['id'],_0x53ca87)['catch'](_0x31bd7c=>{telegramError(_0x31bd7c);});}),tgBot[_0xc63499(0x8c)](/\/enable/,_0x56e747=>{const _0x29cfbe=_0xc63499;if(!validateTelegram(_0x56e747))return;if(settings[_0x29cfbe(0x124)]!=_0x56e747[_0x29cfbe(0x123)]['id'])updateSetting(_0x29cfbe(0x124),_0x56e747['chat']['id']);updateSetting(_0x29cfbe(0x96),!![]),tgBot[_0x29cfbe(0xbb)](_0x56e747['chat']['id'],_0x29cfbe(0x178))[_0x29cfbe(0xcb)](_0x4e2095=>{telegramError(_0x4e2095);});}),tgBot[_0xc63499(0x8c)](/\/config/,async _0x402f6d=>{const _0xf930c8=_0xc63499;if(!validateTelegram(_0x402f6d))return;tgBot[_0xf930c8(0x115)](_0xf930c8(0x70)),tgBot[_0xf930c8(0xbb)](_0x402f6d['chat']['id'],_0xf930c8(0xa7),{'reply_markup':{'inline_keyboard':[[{'text':_0xf930c8(0x18c),'callback_data':'orders'},{'text':_0xf930c8(0xd7),'callback_data':_0xf930c8(0xf5)},{'text':_0xf930c8(0xf4),'callback_data':'all'}]]}})[_0xf930c8(0xcb)](_0xc90317=>{telegramError(_0xc90317);}),tgBot['on']('callback_query',async _0x10d13a=>{const _0xec7fb1=_0xf930c8,_0x2566c0=_0x10d13a['data'],_0x271f74=_0x10d13a[_0xec7fb1(0x13b)];tgBot[_0xec7fb1(0x10d)](_0x10d13a['id'])['then'](async()=>{const _0x42f4de=_0xec7fb1;_0x2566c0=='orders'&&(updateSetting(_0x42f4de(0x146),_0x42f4de(0x6a)),updateSetting(_0x42f4de(0x96),!![]),await tgBot[_0x42f4de(0xbb)](_0x271f74[_0x42f4de(0x123)]['id'],_0x42f4de(0x6d))[_0x42f4de(0xcb)](_0x3cc3e4=>{telegramError(_0x3cc3e4);}));_0x2566c0==_0x42f4de(0xf5)&&(updateSetting(_0x42f4de(0x146),_0x42f4de(0xf5)),updateSetting('telegramEnabled',!![]),await tgBot[_0x42f4de(0xbb)](_0x271f74['chat']['id'],_0x42f4de(0x82))['catch'](_0x13def7=>{telegramError(_0x13def7);}));_0x2566c0==_0x42f4de(0x12c)&&(updateSetting(_0x42f4de(0x146),_0x42f4de(0x12c)),updateSetting('telegramEnabled',!![]),await tgBot[_0x42f4de(0xbb)](_0x271f74[_0x42f4de(0x123)]['id'],_0x42f4de(0xd6))[_0x42f4de(0xcb)](_0x510e87=>{telegramError(_0x510e87);}));if(!settings[_0x42f4de(0x124)])tgBot[_0x42f4de(0xbb)](_0x271f74[_0x42f4de(0x123)]['id'],_0x42f4de(0x11d))['catch'](_0x562fe8=>{telegramError(_0x562fe8);});}),tgBot[_0xec7fb1(0x115)]('callback_query');});}),tgBot[_0xc63499(0x8c)](/\/status/,_0x428737=>{const _0x351ff5=_0xc63499;if(!validateTelegram(_0x428737))return;let _0x2d85ba=_0x351ff5(0x112);config[_0x351ff5(0x13a)](_0x534f9f=>{const _0x3a1525=_0x351ff5;_0x2d85ba+=_0x3a1525(0xdd)+_0x534f9f[_0x3a1525(0xa9)]+_0x3a1525(0x14d)+_0x534f9f[_0x3a1525(0x12a)]+':\x20'+_0x534f9f[_0x3a1525(0x6f)]+'\x20/\x20'+_0x534f9f[_0x3a1525(0x141)]+'\x0a';}),_0x2d85ba+='\x0a',_0x2d85ba+='<b>Telegram\x20bot\x20status:</b>\x0a',_0x2d85ba+=!settings[_0x351ff5(0x96)]?_0x351ff5(0x17a):_0x351ff5(0x72),_0x2d85ba+=settings['telegramEnabled']?settings[_0x351ff5(0x146)]==_0x351ff5(0x12c)?_0x351ff5(0xf8):_0x351ff5(0x73)+settings['telegramEvents']+'\x20only\x0a':'',tgBot['sendMessage'](_0x428737[_0x351ff5(0x123)]['id'],_0x2d85ba,{'parse_mode':_0x351ff5(0x140)})[_0x351ff5(0xcb)](_0x529f40=>{telegramError(_0x529f40);});}),tgBot[_0xc63499(0x8c)](/\/restart/,_0x44991e=>{const _0x429aa3=_0xc63499;if(!validateTelegram(_0x44991e))return;tgBot[_0x429aa3(0x115)]('callback_query');const _0x454850=getEnabledBots();if(_0x454850[_0x429aa3(0xb3)]==0x0)tgBot['sendMessage'](_0x44991e[_0x429aa3(0x123)]['id'],_0x429aa3(0x9b))[_0x429aa3(0xcb)](_0x6ed1b3=>{telegramError(_0x6ed1b3);});else{let _0x39db41=[],_0x37379e=[];const _0x1ba1b4=_0x454850[_0x429aa3(0xb3)]%0x4==0x0||_0x454850[_0x429aa3(0xb3)]%0x4==0x3||_0x454850['length']%0x3==0x1?0x4:0x3;let _0x3fa7e6=0x0;_0x454850[_0x429aa3(0x13a)]((_0x57084d,_0x181130)=>{const _0x66aa03=_0x429aa3;if(_0x181130%_0x1ba1b4==0x0)_0x37379e=[];_0x37379e[_0x66aa03(0xe0)]({'text':_0x66aa03(0xdd)+_0x57084d[_0x66aa03(0xa9)],'callback_data':_0x57084d[_0x66aa03(0xa9)]}),_0x181130%_0x1ba1b4==0x0&&(_0x39db41[_0x3fa7e6]=_0x37379e,_0x3fa7e6++);}),tgBot['sendMessage'](_0x44991e['chat']['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20restart?',{'reply_markup':{'inline_keyboard':_0x39db41}})[_0x429aa3(0xcb)](_0x489419=>{telegramError(_0x489419);}),tgBot['on']('callback_query',async _0x28cbc8=>{const _0x217aee=_0x429aa3,_0x438ecf=_0x28cbc8[_0x217aee(0x106)],_0x5840c3=_0x28cbc8[_0x217aee(0x13b)];tgBot['answerCallbackQuery'](_0x28cbc8['id'])[_0x217aee(0x113)](async()=>{const _0x123c63=_0x217aee;if(settings[_0x123c63(0x146)]==_0x123c63(0x6a))tgBot[_0x123c63(0xbb)](_0x5840c3[_0x123c63(0x123)]['id'],_0x123c63(0x7c)+_0x438ecf)[_0x123c63(0xcb)](_0x198177=>{telegramError(_0x198177);});stopBot(_0x438ecf);}),tgBot[_0x217aee(0x115)](_0x217aee(0x70));});}}),tgBot[_0xc63499(0x8c)](/\/disable/,_0x333588=>{const _0x55a0cb=_0xc63499;if(!validateTelegram(_0x333588))return;tgBot['sendMessage'](_0x333588[_0x55a0cb(0x123)]['id'],'Notifications\x20disabled')['catch'](_0x514f72=>{telegramError(_0x514f72);}),updateSetting(_0x55a0cb(0x96),![]);}),tgBot[_0xc63499(0x8c)](/\/help/,_0x42559=>{const _0x1fc8e8=_0xc63499;if(!validateTelegram(_0x42559))return;tgBot[_0x1fc8e8(0xbb)](_0x42559[_0x1fc8e8(0x123)]['id'],_0x1eeba2)[_0x1fc8e8(0xcb)](_0x1442da=>{telegramError(_0x1442da);});}),tgBot['on']('polling_error',_0x56e43e=>{const _0xaddcb9=_0xc63499;if(_0x56e43e[_0xaddcb9(0xca)]()['includes'](_0xaddcb9(0xa6))){logging('Invalid\x20Telegram\x20token'),tgBot['stopPolling'](),tgBot=null;if(socket[_0xaddcb9(0x12b)])socket[_0xaddcb9(0x12b)][_0xaddcb9(0x17e)](_0xaddcb9(0xc2),_0xaddcb9(0x129));}}),process[_0xc63499(0xae)]('SIGINT',()=>{const _0x476522=_0xc63499;if(tgBot)tgBot[_0x476522(0x103)]();process['exit'](0x1);}),process[_0xc63499(0xae)](_0xc63499(0x188),()=>{const _0x3cdb3f=_0xc63499;if(tgBot)tgBot[_0x3cdb3f(0x103)]();process[_0x3cdb3f(0x174)](0x1);});}}function disableTelegram(){tgBot&&(tgBot['stopPolling'](),tgBot=null);}function sendTelegram(_0x5b9b98,_0x150dd0){const _0x4eac93=_0x2ec768;if(settings[_0x4eac93(0x96)]){if(settings['telegramEvents']==_0x4eac93(0x12c)||(_0x150dd0[_0x4eac93(0x6e)]==_0x4eac93(0x126)||_0x150dd0['type']=='success')&&settings[_0x4eac93(0x146)]==_0x4eac93(0xf5)||_0x150dd0[_0x4eac93(0x6e)]==_0x4eac93(0x182)&&settings[_0x4eac93(0x146)]==_0x4eac93(0x6a)){if(tgBot&&settings[_0x4eac93(0x124)])tgBot[_0x4eac93(0xbb)](settings[_0x4eac93(0x124)],_0x4eac93(0xdd)+_0x5b9b98+_0x4eac93(0xcf)+_0x150dd0['event'])['catch'](_0x3c6a29=>{telegramError(_0x3c6a29);});}}}function temporaryAccess2FA(_0xc325eb){const _0x3de934=_0x2ec768;let _0x5639ed=new Date(),_0x1e0ed9=![];if(lastIpApproval){if(_0x5639ed-lastIpApproval<0x1388)_0x1e0ed9=!![];}lastIpApproval=new Date();if(_0x1e0ed9)return;tgBot&&settings[_0x3de934(0x124)]&&(tgBot[_0x3de934(0x115)]('callback_query'),tgBot[_0x3de934(0xbb)](settings[_0x3de934(0x124)],_0x3de934(0x9d)+normalizeIP(_0xc325eb)[_0x3de934(0x14b)]+_0x3de934(0xe6),{'parse_mode':_0x3de934(0x140),'reply_markup':{'inline_keyboard':[[{'text':_0x3de934(0xac),'callback_data':'5'},{'text':_0x3de934(0x88),'callback_data':'15'},{'text':_0x3de934(0x143),'callback_data':'30'},{'text':_0x3de934(0x101),'callback_data':_0x3de934(0x101)}]]}})[_0x3de934(0xcb)](_0x3cbb1c=>{telegramError(_0x3cbb1c);}),tgBot['on']('callback_query',async _0x3d2512=>{const _0x33ab38=_0x3de934,_0x41ab59=_0x3d2512[_0x33ab38(0x106)],_0x25db10=_0x3d2512[_0x33ab38(0x13b)];tgBot[_0x33ab38(0x10d)](_0x3d2512['id'])[_0x33ab38(0x113)](async()=>{const _0x1e607b=_0x33ab38;if(_0x41ab59!=_0x1e607b(0x101)){telegramIpApproval={'clientip':_0xc325eb,'timestamp':new Date()[_0x1e607b(0xef)](),'expiry':_0x41ab59},await tgBot[_0x1e607b(0xbb)](_0x25db10[_0x1e607b(0x123)]['id'],_0x1e607b(0x131)+_0x41ab59+_0x1e607b(0x14c),{'parse_mode':'HTML'})['catch'](_0x3ff83f=>{telegramError(_0x3ff83f);});for(let _0x489ec5 in socket){socket[_0x489ec5][_0x1e607b(0x17e)](_0x1e607b(0x6f),{'access':{'allow':![],'reason':'reload','token':null}});}}else await tgBot[_0x1e607b(0xbb)](_0x25db10[_0x1e607b(0x123)]['id'],'Temporary\x20access\x20rejected')[_0x1e607b(0xcb)](_0x7132bd=>{telegramError(_0x7132bd);});}),tgBot[_0x33ab38(0x115)](_0x33ab38(0x70));}));}function loginAccess2FA(_0x18c589){const _0x5ca251=_0x2ec768;tgBot&&settings['telegramChatId']&&(tgBot[_0x5ca251(0x115)](_0x5ca251(0x70)),tgBot[_0x5ca251(0xbb)](settings['telegramChatId'],_0x5ca251(0x169)+normalizeIP(_0x18c589)[_0x5ca251(0x14b)]+'</b>\x20?',{'parse_mode':_0x5ca251(0x140),'reply_markup':{'inline_keyboard':[[{'text':_0x5ca251(0x6c),'callback_data':loginExpiry},{'text':_0x5ca251(0x101),'callback_data':'reject'}]]}})[_0x5ca251(0xcb)](_0x473336=>{telegramError(_0x473336);}),tgBot['on'](_0x5ca251(0x70),async _0x7ecc37=>{const _0x195946=_0x5ca251,_0x59f9c1=_0x7ecc37[_0x195946(0x106)],_0x2b0c6a=_0x7ecc37['message'];tgBot[_0x195946(0x10d)](_0x7ecc37['id'])[_0x195946(0x113)](async()=>{const _0x511522=_0x195946;if(_0x59f9c1!=_0x511522(0x101)){telegram2FaApproval={'clientip':_0x18c589,'timestamp':new Date()['getTime'](),'expiry':_0x59f9c1},await tgBot['sendMessage'](_0x2b0c6a[_0x511522(0x123)]['id'],_0x511522(0x75),{'parse_mode':_0x511522(0x140)})[_0x511522(0xcb)](_0x19be15=>{telegramError(_0x19be15);});for(let _0x4fc924 in socket){socket[_0x4fc924][_0x511522(0x17e)](_0x511522(0x6f),{'access':{'allow':![],'reason':'reload','token':null}});}}else await tgBot[_0x511522(0xbb)](_0x2b0c6a['chat']['id'],_0x511522(0x18b))['catch'](_0x4c6f7e=>{telegramError(_0x4c6f7e);});}),tgBot[_0x195946(0x115)](_0x195946(0x70));}));}function getConfiguration(){const _0x10c64b=_0x2ec768;return dbConfig[_0x10c64b(0x119)](_0x10c64b(0x7e))['sortBy']('botID')[_0x10c64b(0x108)]()||[];}function getEnabledBots(){const _0x5e5345=_0x2ec768;return dbConfig[_0x5e5345(0x119)](_0x5e5345(0x7e))[_0x5e5345(0x170)]('botID')[_0x5e5345(0x158)]({'status':_0x5e5345(0x166)})[_0x5e5345(0x108)]()||[];}function getSettings(){const _0xc51042=_0x2ec768;return dbSettings[_0xc51042(0x119)]('settings')[_0xc51042(0x108)]()||{'timeshift':0x0};}function getSecure(){const _0x55ae37=_0x2ec768;return dbSecure[_0x55ae37(0x119)](_0x55ae37(0x7b))[_0x55ae37(0x108)]()||{};}function getBlacklist(){const _0x925a7d=_0x2ec768;return dbSecure['get'](_0x925a7d(0xb4))[_0x925a7d(0x108)]()||[];}function broadcastToBots(_0x52fd98,_0x5ce67a){const _0x2285be=_0x2ec768;config[_0x2285be(0x13a)](_0x1ca5fc=>{const _0x4f1efb=_0x2285be;if(_0x1ca5fc['status']=='enabled'&&_0x1ca5fc[_0x4f1efb(0x141)]==_0x4f1efb(0x8e)){if(pid[_0x1ca5fc[_0x4f1efb(0xa9)]])pid[_0x1ca5fc[_0x4f1efb(0xa9)]][_0x4f1efb(0xe3)]({[_0x52fd98]:_0x5ce67a});}});}function storeSettings(_0x1b3a02,_0x118b4f=![]){const _0x7154d=_0x2ec768;_0x1b3a02={...settings,..._0x1b3a02};if(_0x118b4f&&_0x1b3a02['bbPassword']!=_0x7154d(0x186)&&_0x1b3a02[_0x7154d(0xf1)]!=''){const _0x5feaba=crypt[_0x7154d(0x117)](secure[_0x7154d(0x164)],_0x1b3a02[_0x7154d(0xf1)])[_0x7154d(0x13b)]['split']('@')[0x0],_0x538dac=bcrypt[_0x7154d(0x156)](_0x5feaba,saltRounds);_0x1b3a02={..._0x1b3a02,'bbPassword':_0x538dac};}if(_0x118b4f&&_0x1b3a02[_0x7154d(0x130)]!=_0x7154d(0x186)&&_0x1b3a02[_0x7154d(0x130)]!=''){const _0x4198e9=crypt['decrypt'](secure[_0x7154d(0x164)],_0x1b3a02[_0x7154d(0x130)])[_0x7154d(0x13b)][_0x7154d(0x127)]('@')[0x0];_0x1b3a02={..._0x1b3a02,'telegramToken':_0x4198e9};}const _0x1c200c=_0x1b3a02[_0x7154d(0x130)]!='************'&&_0x1b3a02[_0x7154d(0x130)]!=settings['telegramToken']||_0x1b3a02[_0x7154d(0x125)]!=settings['telegramUsername'],_0x1a60ef=_0x1b3a02[_0x7154d(0x130)]==''||_0x1b3a02[_0x7154d(0x125)]=='';if(_0x1c200c)_0x1b3a02[_0x7154d(0x146)]='all';for(const [_0x59ab06,_0x4de27a]of Object['entries'](_0x1b3a02)){if(_0x59ab06==_0x7154d(0x130)&&_0x4de27a==_0x7154d(0x186)){_0x1b3a02['telegramToken']=settings[_0x7154d(0x130)];continue;};if(_0x59ab06==_0x7154d(0xf1)&&_0x4de27a==_0x7154d(0x186)){_0x1b3a02[_0x7154d(0xf1)]=settings['bbPassword'];continue;};dbSettings[_0x7154d(0xd0)](_0x7154d(0x167)+_0x59ab06,_0x4de27a)[_0x7154d(0x93)]();}settings=_0x1b3a02;if(socket['botmanager'])socket[_0x7154d(0x12b)][_0x7154d(0x17e)](_0x7154d(0x86),cleanSettings());broadcastToBots(_0x7154d(0x142),settings[_0x7154d(0x142)]);if(_0x1c200c&&!_0x1a60ef)initTelegram();if(_0x1c200c&&_0x1a60ef)disableTelegram();for(let _0x563bbc in socket){setAccess(_0x563bbc);}}function updateSetting(_0x6e55d2,_0x255753){const _0x1c436f=_0x2ec768;dbSettings[_0x1c436f(0xd0)](_0x1c436f(0x167)+_0x6e55d2,_0x255753)['write'](),settings=getSettings();if(socket['botmanager'])socket[_0x1c436f(0x12b)]['emit'](_0x1c436f(0x86),cleanSettings());}function storeSecure(_0x1c3f4f){const _0xbaeff0=_0x2ec768;dbSecure['get'](_0xbaeff0(0x7b))[_0xbaeff0(0xe0)](_0x1c3f4f)['write'](),secure=_0x1c3f4f;}function addBlacklist(){const _0x3ca7af=_0x2ec768;cleanBlacklist();let _0x14a72f;telegramIpApproval?_0x14a72f=Math['max'](telegramIpApproval['expiry'],loginExpiry):_0x14a72f=loginExpiry,dbSecure['get']('blacklist')['push']({'expiry':new Date()[_0x3ca7af(0xef)]()+_0x14a72f*0x3c*0x3e8,'token':token})[_0x3ca7af(0x93)](),blacklist=dbSecure[_0x3ca7af(0x119)](_0x3ca7af(0xb4))[_0x3ca7af(0x108)]();}function cleanBlacklist(){const _0x29cad8=_0x2ec768;let _0x3a8122=dbSecure[_0x29cad8(0x119)](_0x29cad8(0xb4))[_0x29cad8(0xb6)]()[_0x29cad8(0x108)](),_0x472455=new Date()[_0x29cad8(0xef)]();_0x3a8122[_0x29cad8(0x13a)](_0x138fbf=>{const _0x45b223=_0x29cad8;_0x138fbf[_0x45b223(0x16f)]<_0x472455&&dbSecure[_0x45b223(0x119)](_0x45b223(0xb4))[_0x45b223(0xab)]({'expiry':_0x138fbf[_0x45b223(0x16f)]})['write']();});}function initStates(){const _0x41805d=_0x2ec768;let _0x2c93cb=getConfiguration();_0x2c93cb[_0x41805d(0x13a)](_0x37ca36=>{const _0x4bd9e2=_0x41805d;_0x37ca36['live']=_0x4bd9e2(0xe4);}),storeConfiguration(_0x2c93cb);}function onKeys(){const _0x476614=new RSA();return new Promise(_0x442935=>{const _0x2c1326=_0x1277;_0x476614[_0x2c1326(0xa8)]()[_0x2c1326(0x113)](_0x1ebe0b=>{_0x442935(_0x1ebe0b);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x37bfd6=_0x2ec768;let _0x73af37=getConfiguration(),_0xb00ef7=![];_0x73af37[_0x37bfd6(0x13a)](_0x3fc551=>{const _0xa78a6=_0x37bfd6;if(_0x3fc551[_0xa78a6(0x6f)]==_0xa78a6(0x8e))_0x3fc551['status']=_0xa78a6(0x166),_0xb00ef7=!![];else _0x3fc551[_0xa78a6(0x6f)]=='stopped'&&(_0x3fc551[_0xa78a6(0x6f)]=_0xa78a6(0xc6),_0xb00ef7=!![]);});if(_0xb00ef7)storeConfiguration(_0x73af37);let _0x488675=getSecure();if(!_0x488675['hasOwnProperty']('secret')){let _0x3656e8=await generateKeys();_0x488675[_0x37bfd6(0x15f)]=_0x3656e8[_0x37bfd6(0x15f)],_0x488675['privateKey']=_0x3656e8['privateKey'],_0x488675[_0x37bfd6(0x12d)]=crypto['randomBytes'](0x20)['toString'](_0x37bfd6(0x189));;storeSecure(_0x488675);}let _0x354e6d=getSettings();_0xb00ef7=![];!_0x354e6d[_0x37bfd6(0x111)](_0x37bfd6(0xb5))&&(_0x354e6d[_0x37bfd6(0xb5)]=![],_0x354e6d['bbUsername']='',_0x354e6d[_0x37bfd6(0xf1)]='',_0x354e6d[_0x37bfd6(0x177)]=![],_0xb00ef7=!![]);!_0x354e6d[_0x37bfd6(0x111)]('whitelistEnabled')&&(_0x354e6d['whitelistEnabled']=![],_0x354e6d[_0x37bfd6(0x87)]=[],_0x354e6d[_0x37bfd6(0x71)]=![],_0xb00ef7=!![]);if(!_0x354e6d[_0x37bfd6(0x111)](_0x37bfd6(0x96))){if(_0x354e6d[_0x37bfd6(0x124)])_0x354e6d[_0x37bfd6(0x96)]=!![];else _0x354e6d[_0x37bfd6(0x96)]=![];_0xb00ef7=!![];}if(_0xb00ef7)storeSettings(_0x354e6d);}function storeConfiguration(_0x1d6b0a){const _0x56e010=_0x2ec768;dbConfig[_0x56e010(0x119)]('bots')[_0x56e010(0xab)]()[_0x56e010(0x93)](),dbConfig[_0x56e010(0x119)](_0x56e010(0x7e))[_0x56e010(0xe0)](..._0x1d6b0a)['write'](),config=_0x1d6b0a;}function resetPassword(){const _0x4d5a43=_0x2ec768;tgBot&&settings[_0x4d5a43(0x124)]&&(tgBot[_0x4d5a43(0x115)](_0x4d5a43(0x70)),tgBot[_0x4d5a43(0xbb)](settings[_0x4d5a43(0x124)],'Do\x20you\x20want\x20to\x20reset\x20your\x20password?',{'parse_mode':_0x4d5a43(0x140),'reply_markup':{'inline_keyboard':[[{'text':_0x4d5a43(0xbe),'callback_data':_0x4d5a43(0xbe)},{'text':'no','callback_data':'no'}]]}})[_0x4d5a43(0xcb)](_0x429dfe=>{telegramError(_0x429dfe);}),tgBot['on'](_0x4d5a43(0x70),async _0x23087d=>{const _0x3669f7=_0x4d5a43,_0x5430a4=_0x23087d[_0x3669f7(0x106)],_0xeb416a=_0x23087d[_0x3669f7(0x13b)];tgBot[_0x3669f7(0x10d)](_0x23087d['id'])[_0x3669f7(0x113)](async()=>{const _0x2d0d05=_0x3669f7;if(_0x5430a4!='no'){const _0xccd24d=0xf,_0x2f8240=_0x2d0d05(0xf9),_0x1e92f1=Array[_0x2d0d05(0xdf)](crypto['randomFillSync'](new Uint32Array(_0xccd24d)))['map'](_0x39056c=>_0x2f8240[_0x39056c%_0x2f8240[_0x2d0d05(0xb3)]])[_0x2d0d05(0xa2)](''),_0x480dec=bcrypt[_0x2d0d05(0x156)](_0x1e92f1,saltRounds);storeSettings({'bbPassword':_0x480dec}),await tgBot['sendMessage'](_0xeb416a[_0x2d0d05(0x123)]['id'],_0x2d0d05(0x100)+_0x1e92f1,{'parse_mode':_0x2d0d05(0x140)})[_0x2d0d05(0xcb)](_0x3c4268=>{telegramError(_0x3c4268);});}else await tgBot['sendMessage'](_0xeb416a[_0x2d0d05(0x123)]['id'],_0x2d0d05(0x176))[_0x2d0d05(0xcb)](_0x494e43=>{telegramError(_0x494e43);});}),tgBot[_0x3669f7(0x115)]('callback_query');}));}function logging(_0x677726){const _0x4af35e=_0x2ec768;console[_0x4af35e(0xa5)](getTimeStamp()+_0x4af35e(0x105)+_0x677726);if(tgBot&&settings[_0x4af35e(0x124)]&&settings['telegramEvents']!=_0x4af35e(0x6a))tgBot['sendMessage'](settings[_0x4af35e(0x124)],_0x4af35e(0xba)+_0x677726)[_0x4af35e(0xcb)](_0x592da1=>{telegramError(_0x592da1);});}function getServerTime(){const _0x168c37=_0x2ec768,_0xd7534d=new Date();return _0xd7534d[_0x168c37(0xc0)]()+'/'+(_0xd7534d['getMonth']()+0x1)[_0x168c37(0xca)]()['padStart'](0x2,'0')+'/'+_0xd7534d[_0x168c37(0x18a)]()[_0x168c37(0xca)]()[_0x168c37(0xd9)](0x2,'0')+'\x20'+_0xd7534d[_0x168c37(0xde)]()[_0x168c37(0xca)]()['padStart'](0x2,'0')+':'+_0xd7534d['getMinutes']()[_0x168c37(0xca)]()['padStart'](0x2,'0')+':'+_0xd7534d['getSeconds']()[_0x168c37(0xca)]()[_0x168c37(0xd9)](0x2,'0');}function getTimeStamp(){const _0x305773=_0x2ec768,_0x42c0e9=shiftedTime();return _0x42c0e9['getFullYear']()+'/'+(_0x42c0e9[_0x305773(0xe7)]()+0x1)['toString']()[_0x305773(0xd9)](0x2,'0')+'/'+_0x42c0e9['getDate']()[_0x305773(0xca)]()[_0x305773(0xd9)](0x2,'0')+'\x20'+_0x42c0e9[_0x305773(0xde)]()[_0x305773(0xca)]()[_0x305773(0xd9)](0x2,'0')+':'+_0x42c0e9[_0x305773(0x91)]()[_0x305773(0xca)]()['padStart'](0x2,'0')+':'+_0x42c0e9[_0x305773(0x16c)]()['toString']()[_0x305773(0xd9)](0x2,'0');}function shiftedTime(){const _0x593a8d=_0x2ec768,_0x552b6c=new Date();let _0x394db7=_0x552b6c;if(settings[_0x593a8d(0x142)]&&settings[_0x593a8d(0x142)]!==0x0)_0x394db7=fns[_0x593a8d(0xb1)](_0x552b6c,{'hours':settings[_0x593a8d(0x142)]});return _0x394db7;}function startAnalytics(){const _0x3b73a2=_0x2ec768;let _0x1eb8a2=new Date()[_0x3b73a2(0x10c)]();_0x1eb8a2==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x42e12e=_0x2ec768;analytics['page']({'title':_0x42e12e(0x15b),'href':'https://hodlerhacks.com','path':'/v'+serverversion});}function validateCredentials(_0x450606){const _0x4cd207=_0x2ec768;if(_0x450606[_0x4cd207(0xd2)]==settings[_0x4cd207(0x122)]&&bcrypt[_0x4cd207(0x92)](_0x450606[_0x4cd207(0xa3)],settings[_0x4cd207(0xf1)])){if(settings['f2aRequired'])return{'allow':![],'reason':_0x4cd207(0x109),'token':null};else{const _0x23a7ca=generateLoginToken();return{'allow':!![],'reason':_0x4cd207(0xd3),'token':_0x23a7ca};}}else return{'allow':![],'reason':'invalid\x20credentials','token':null};}function refreshToken(){const _0x259d9e=_0x2ec768,_0xed169=generateLoginToken();return{'allow':!![],'reason':_0x259d9e(0xd3),'token':_0xed169};}function validateAccess(_0x100f63){const _0x39f464=_0x2ec768;let _0x469b2a;const _0x1239dd=_0x4447ff=>{const _0x43cb76=_0x1277;if(settings[_0x43cb76(0xb5)]){if(settings[_0x43cb76(0x177)]){if(telegram2FaApproved()){const _0x5788ba=generateLoginToken();return{'allow':!![],'reason':'2FA\x20login\x20token\x20generated','token':_0x5788ba};}else return{'allow':![],'reason':_0x43cb76(0x109),'token':null};}else return _0x469b2a=validToken(_0x4447ff),_0x469b2a['hasOwnProperty'](_0x43cb76(0x10a))?{'allow':!![],'reason':_0x43cb76(0xaf),'token':_0x4447ff}:{'allow':![],'reason':'login\x20required','token':null};}else return{'allow':!![],'reason':_0x43cb76(0x15c),'token':null};};if(settings[_0x39f464(0x144)]){let _0x111f8e=[...settings[_0x39f464(0x87)],_0x39f464(0x9e),_0x39f464(0x97),_0x39f464(0x165)];if(_0x111f8e[_0x39f464(0x7d)](externalip))return _0x1239dd(_0x100f63);else{_0x469b2a=validToken(_0x100f63);if(_0x469b2a[_0x39f464(0x111)](_0x39f464(0x10a)))return _0x1239dd(_0x100f63);else{if(telegramIpApproved()){const _0x38ab6d=generateToken();return _0x469b2a=_0x1239dd(_0x100f63),_0x469b2a[_0x39f464(0x14e)]?{'allow':!![],'reason':_0x39f464(0x163),'token':_0x38ab6d}:_0x469b2a;}else return settings['temporaryAccessAllowed']?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':'temporary\x20access\x20not\x20allowed','token':null};}}}else return _0x1239dd(_0x100f63);}function timelyDecrypt(_0x3b8311,_0x52bfd1=!![]){const _0x355a20=_0x2ec768;if(_0x3b8311)try{const _0x17a1c4=crypt[_0x355a20(0x117)](secure[_0x355a20(0x164)],_0x3b8311)[_0x355a20(0x13b)],_0x1ab966=_0x17a1c4[_0x355a20(0x127)]('@')[0x0],_0x1f80ea=_0x17a1c4[_0x355a20(0x127)]('@')[0x1],_0x3374ff=new Date()[_0x355a20(0xef)]();if(_0x52bfd1){if(_0x3374ff-_0x1f80ea<maxSecretAge*0x3e8)return _0x1ab966;else return![];}else return _0x1ab966;}catch{return![];}else return![];}const validToken=_0xf8e655=>{const _0x5d5400=_0x2ec768;if(!_0xf8e655)return{'error':_0x5d5400(0x15d)};for(let _0x56095f of blacklist){if(_0x56095f[_0x5d5400(0xad)]==_0xf8e655)return{'error':_0x5d5400(0x161)};}let _0x127f6e;try{_0x127f6e=jwt[_0x5d5400(0x132)](_0xf8e655,secure[_0x5d5400(0x12d)]+uuid);}catch{return{'error':_0x5d5400(0xda)};}if(!_0x127f6e[_0x5d5400(0x111)]('clientip')&&!_0x127f6e[_0x5d5400(0x111)](_0x5d5400(0xd2))||!_0x127f6e['hasOwnProperty']('exp'))return{'error':'Invalid\x20authentication\x20token\x20(2)'};if(!_0x127f6e[_0x5d5400(0x111)]('username')&&_0x127f6e['hasOwnProperty'](_0x5d5400(0xc1))){const {clientip:_0x28df36}=_0x127f6e;return externalip==_0x28df36?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x5d5400(0x11e)};}else{if(_0x127f6e['hasOwnProperty'](_0x5d5400(0xd2))&&_0x127f6e[_0x5d5400(0x111)](_0x5d5400(0xc1))){const {username:_0xd431f1,clientip:_0x32c802}=_0x127f6e;return settings[_0x5d5400(0x122)]==_0xd431f1&&externalip==_0x32c802?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x5d5400(0xe1)};}}},generateLoginToken=()=>{const _0x3d1a5f=_0x2ec768;if(uuid)return jwt[_0x3d1a5f(0x102)]({'username':settings['bbUsername'],'clientip':externalip},secure[_0x3d1a5f(0x12d)]+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x385160=_0x2ec768;if(uuid)return jwt['sign']({'clientip':externalip},secure[_0x385160(0x12d)]+uuid,{'expiresIn':telegramIpApproval[_0x385160(0x16f)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x41024a=_0x2ec768;let _0x5ea088=![];return telegramIpApproval&&telegramIpApproval[_0x41024a(0x16f)]!=_0x41024a(0x101)&&(_0x5ea088=telegramIpApproval[_0x41024a(0xc1)]==externalip&&new Date()[_0x41024a(0xef)]()-telegramIpApproval[_0x41024a(0x139)]<telegramIpApproval['expiry']*0x3c*0x3e8),_0x5ea088;},telegram2FaApproved=()=>{const _0x44824a=_0x2ec768;let _0x19bedd=![];return telegram2FaApproval&&telegram2FaApproval[_0x44824a(0x16f)]!=_0x44824a(0x101)&&(_0x19bedd=telegram2FaApproval['clientip']==externalip&&new Date()[_0x44824a(0xef)]()-telegram2FaApproval['timestamp']<telegram2FaApproval[_0x44824a(0x16f)]*0x3c*0x3e8),_0x19bedd;},normalizeIP=_0x5ece5b=>{const _0xdfb368=_0x2ec768;let _0xa41f52=null,_0x19a3aa=null;if(ipaddr[_0xdfb368(0xfa)](_0x5ece5b)){const _0x231376=ipaddr[_0xdfb368(0x11c)](_0x5ece5b);_0x231376[_0xdfb368(0x81)]()==='ipv6'?(_0x231376[_0xdfb368(0x8b)]()&&(_0xa41f52=_0x231376[_0xdfb368(0x149)]()[_0xdfb368(0xca)]()),_0x19a3aa=_0x231376['toString']()):(_0xa41f52=_0x231376[_0xdfb368(0xca)](),_0x19a3aa=_0x231376[_0xdfb368(0xbc)]()[_0xdfb368(0xca)]());}return{'show':_0xa41f52?_0xa41f52:_0x19a3aa,'store':_0x19a3aa};};