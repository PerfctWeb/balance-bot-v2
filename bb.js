const _0x470d78=_0x5a04;(function(_0x3859e8,_0x40abf3){const _0xdff967=_0x5a04,_0x3ef8e2=_0x3859e8();while(!![]){try{const _0x46f403=-parseInt(_0xdff967(0x18e))/0x1+parseInt(_0xdff967(0x17e))/0x2+-parseInt(_0xdff967(0x17c))/0x3+-parseInt(_0xdff967(0x179))/0x4*(-parseInt(_0xdff967(0x196))/0x5)+parseInt(_0xdff967(0x178))/0x6*(parseInt(_0xdff967(0x183))/0x7)+parseInt(_0xdff967(0x192))/0x8+parseInt(_0xdff967(0x17a))/0x9;if(_0x46f403===_0x40abf3)break;else _0x3ef8e2['push'](_0x3ef8e2['shift']());}catch(_0x405c26){_0x3ef8e2['push'](_0x3ef8e2['shift']());}}}(_0x20a0,0x52f0d));const fs=require('fs'),argv=require(_0x470d78(0x17f))(process[_0x470d78(0x173)]['slice'](0x2))['argv'],childProcess=require('child_process'),nodeversion=process[_0x470d78(0x187)][_0x470d78(0x193)],minversion=0x10;nodeversion['split']('.')[0x0]<minversion&&(console['log'](),console[_0x470d78(0x190)](_0x470d78(0x186)),console['log']('The\x20installed\x20Node.js\x20version\x20is\x20'+nodeversion+',\x20but\x20version\x20'+minversion+_0x470d78(0x177)),console['log'](_0x470d78(0x197)),console[_0x470d78(0x190)](_0x470d78(0x186)),console[_0x470d78(0x190)](),process[_0x470d78(0x171)](0x1));if(argv['port']){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv['port'])&&(console['log'](_0x470d78(0x176)+argv[_0x470d78(0x195)]+_0x470d78(0x194)),process[_0x470d78(0x171)](0x1));}function _0x20a0(){const _0x1bb300=['(((.+)+)+)+$','search','bm.js','values','host','fork','exit','kill','argv','SIGINT','user','Error:\x20Invalid\x20argument\x20','\x20or\x20above\x20is\x20required','6YiCfno','12JBNQip','806652YkMsPD','error','1249374oRhgmK','existsSync','418912GmTgaC','yargs/yargs','inherit','Unexpected\x20error:','ipc','103957eglDLU','push','Balance\x20Bot\x20>\x20','-----------------------------------------------------------------------------------','versions','constructor','keys','message','--host','update','toString','121063yoPCdF','--port','log','install.js','2419472xxDOZg','node',',\x20must\x20be\x20a\x204\x20digit\x20number','port','434795WhmxsK','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','--user'];_0x20a0=function(){return _0x1bb300;};return _0x20a0();}let args=[];argv[_0x470d78(0x195)]&&(args[_0x470d78(0x184)](_0x470d78(0x18f)),args[_0x470d78(0x184)](argv[_0x470d78(0x195)]));argv[_0x470d78(0x16f)]&&(args[_0x470d78(0x184)](_0x470d78(0x18b)),args[_0x470d78(0x184)](argv['host']));argv[_0x470d78(0x175)]&&(args[_0x470d78(0x184)](_0x470d78(0x198)),args[_0x470d78(0x184)](argv[_0x470d78(0x175)]));const staging=argv['s']||![],debugging=argv['d']||![];function _0x5a04(_0x5d06a6,_0x37bed6){const _0x220518=_0x20a0();return _0x5a04=function(_0xd388b9,_0x64e600){_0xd388b9=_0xd388b9-0x16c;let _0x20a086=_0x220518[_0xd388b9];return _0x20a086;},_0x5a04(_0x5d06a6,_0x37bed6);}debugging&&args[_0x470d78(0x184)]('-d');let bmpath='bb/';const bmfile=_0x470d78(0x16d),updatefile=_0x470d78(0x191);!fs[_0x470d78(0x17d)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x470d78(0x171),()=>{stopBM();}),process['on'](_0x470d78(0x174),()=>{stopBM();}),startBM();function startBM(){const _0xbcf183=_0x470d78,_0x199eb3=function(){let _0x23af7f=!![];return function(_0x67018a,_0x105b27){const _0x364f80=_0x23af7f?function(){if(_0x105b27){const _0x401151=_0x105b27['apply'](_0x67018a,arguments);return _0x105b27=null,_0x401151;}}:function(){};return _0x23af7f=![],_0x364f80;};}(),_0x557301=_0x199eb3(this,function(){const _0x311108=_0x5a04;return _0x557301[_0x311108(0x18d)]()[_0x311108(0x16c)](_0x311108(0x199))[_0x311108(0x18d)]()[_0x311108(0x188)](_0x557301)['search'](_0x311108(0x199));});_0x557301();let _0x4722cf=![];const _0x36d8e7={'cwd':'','stdio':[_0xbcf183(0x180),'inherit','inherit',_0xbcf183(0x182)]};pid1=childProcess[_0xbcf183(0x170)](bmpath+bmfile,args,_0x36d8e7),pid1['on'](_0xbcf183(0x18a),_0x4752ef=>{const _0x301c44=_0xbcf183,_0xe4b9f7=Object[_0x301c44(0x16e)](_0x4752ef)[0x1]=='staging';switch(Object[_0x301c44(0x189)](_0x4752ef)[0x0]){case _0x301c44(0x18c):if(_0xe4b9f7)startUpdate('2s');else startUpdate('2');break;case'reinstall':if(_0xe4b9f7)startUpdate('3s');else startUpdate('3');break;case'restore':handleRestore();break;}}),pid1['on']('error',function(_0x4d25be){const _0x59cf21=_0xbcf183;if(_0x4722cf)return;_0x4722cf=!![],logging(_0x59cf21(0x181),_0x4d25be);}),pid1['on'](_0xbcf183(0x171),function(_0xf36def){if(_0x4722cf)return;_0x4722cf=!![];if(!updating&&!terminating)startBM();});}function stopBM(){const _0x547edb=_0x470d78;terminating=!![];if(pid1)pid1[_0x547edb(0x172)]();pid1=null;}function startUpdate(_0xa1ab7){const _0x297ba0=_0x470d78;updating=!![];if(pid1)pid1[_0x297ba0(0x172)]();let _0x152199=![];const _0x4aae0d={'cwd':'','stdio':[_0x297ba0(0x180),'inherit',_0x297ba0(0x180),'ipc']};let _0x561c79=[];if(staging)_0x561c79[_0x297ba0(0x184)](_0xa1ab7+'s');else _0x561c79[_0x297ba0(0x184)](_0xa1ab7);pid2=childProcess[_0x297ba0(0x170)](updatefile,_0x561c79,_0x4aae0d),pid2['on'](_0x297ba0(0x17b),function(_0x38f7fa){updating=![];if(_0x152199)return;_0x152199=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x38f7fa);}),pid2['on'](_0x297ba0(0x171),function(_0x1a61b0){updating=![];if(_0x152199)return;_0x152199=!![],startBM();});}function handleRestore(){const _0x5df861=_0x470d78;if(pid1)pid1[_0x5df861(0x172)]();}function logging(_0x48cdd8){const _0xa61a24=_0x470d78;console[_0xa61a24(0x190)](_0xa61a24(0x185)+_0x48cdd8);}