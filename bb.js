const _0x23d1e6=_0x10a1;(function(_0x1ecbe6,_0x310321){const _0x36c942=_0x10a1,_0x115d4b=_0x1ecbe6();while(!![]){try{const _0x518e69=-parseInt(_0x36c942(0x206))/0x1+parseInt(_0x36c942(0x1fb))/0x2*(parseInt(_0x36c942(0x1eb))/0x3)+-parseInt(_0x36c942(0x1e5))/0x4*(-parseInt(_0x36c942(0x1f9))/0x5)+parseInt(_0x36c942(0x1f5))/0x6+parseInt(_0x36c942(0x1f7))/0x7+-parseInt(_0x36c942(0x201))/0x8*(parseInt(_0x36c942(0x1ec))/0x9)+-parseInt(_0x36c942(0x208))/0xa;if(_0x518e69===_0x310321)break;else _0x115d4b['push'](_0x115d4b['shift']());}catch(_0x497ca6){_0x115d4b['push'](_0x115d4b['shift']());}}}(_0x4232,0x2173f));const _0xa2e3a0=function(){let _0x289092=!![];return function(_0x3ac39a,_0x41f388){const _0x532356=_0x289092?function(){if(_0x41f388){const _0x11edba=_0x41f388['apply'](_0x3ac39a,arguments);return _0x41f388=null,_0x11edba;}}:function(){};return _0x289092=![],_0x532356;};}(),_0x3eb862=_0xa2e3a0(this,function(){const _0x30f43c=_0x10a1;return _0x3eb862[_0x30f43c(0x200)]()[_0x30f43c(0x204)](_0x30f43c(0x1df))[_0x30f43c(0x200)]()[_0x30f43c(0x205)](_0x3eb862)[_0x30f43c(0x204)]('(((.+)+)+)+$');});_0x3eb862();const fs=require('fs'),argv=require('yargs/yargs')(process[_0x23d1e6(0x1ed)][_0x23d1e6(0x1fa)](0x2))[_0x23d1e6(0x1ed)],childProcess=require(_0x23d1e6(0x1fc)),nodeversion=process['versions'][_0x23d1e6(0x1fd)],minversion=0x10;function _0x10a1(_0xa0a197,_0x7a5d3e){const _0x3cac84=_0x4232();return _0x10a1=function(_0x3eb862,_0xa2e3a0){_0x3eb862=_0x3eb862-0x1dd;let _0x4232bf=_0x3cac84[_0x3eb862];return _0x4232bf;},_0x10a1(_0xa0a197,_0x7a5d3e);}nodeversion['split']('.')[0x0]<minversion&&(console[_0x23d1e6(0x1ea)](),console[_0x23d1e6(0x1ea)]('-----------------------------------------------------------------------------------'),console[_0x23d1e6(0x1ea)](_0x23d1e6(0x1e8)+nodeversion+',\x20but\x20version\x20'+minversion+_0x23d1e6(0x20e)),console[_0x23d1e6(0x1ea)](_0x23d1e6(0x20f)),console[_0x23d1e6(0x1ea)](_0x23d1e6(0x1f2)),console[_0x23d1e6(0x1ea)](),process[_0x23d1e6(0x1ee)](0x1));if(argv[_0x23d1e6(0x20a)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x23d1e6(0x1f4)](argv['port'])&&(console[_0x23d1e6(0x1ea)](_0x23d1e6(0x1f8)+argv['port']+_0x23d1e6(0x1e1)),process[_0x23d1e6(0x1ee)](0x1));}let args=[];argv['port']&&(args[_0x23d1e6(0x1f6)](_0x23d1e6(0x210)),args[_0x23d1e6(0x1f6)](argv[_0x23d1e6(0x20a)]));argv[_0x23d1e6(0x1e6)]&&(args[_0x23d1e6(0x1f6)](_0x23d1e6(0x1e9)),args['push'](argv[_0x23d1e6(0x1e6)]));argv[_0x23d1e6(0x202)]&&(args['push'](_0x23d1e6(0x20d)),args[_0x23d1e6(0x1f6)](argv[_0x23d1e6(0x202)]));function _0x4232(){const _0x4184c2=['SIGINT','search','constructor','79589wBiQnC','Balance\x20Bot\x20>\x20','1617870QzYdXy','bb/','port','Automatically\x20restarting\x20BM','values','--user','\x20or\x20above\x20is\x20required','Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again','--port','restore','reinstall','inherit','(((.+)+)+)+$','fork',',\x20must\x20be\x20a\x204\x20digit\x20number','kill','bm.js','terminate','380872NlyPwR','host','error','The\x20installed\x20Node.js\x20version\x20is\x20','--host','log','89064lADZFf','18JiGwNp','argv','exit','update','install.js','Unexpected\x20error:','-----------------------------------------------------------------------------------','ipc','test','889590zfzead','push','1392734JQogcF','Error:\x20Invalid\x20argument\x20','5TMGJNQ','slice','2FgzvCr','child_process','node','message','SIGTERM','toString','374936RKWlui','user'];_0x4232=function(){return _0x4184c2;};return _0x4232();}const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x23d1e6(0x1f6)]('-d');let bmpath=_0x23d1e6(0x209);const bmfile=_0x23d1e6(0x1e3),updatefile=_0x23d1e6(0x1f0);!fs['existsSync'](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x23d1e6(0x1ee),async()=>{handleTerminate();}),process['on'](_0x23d1e6(0x1ff),async()=>{handleTerminate();}),process['on'](_0x23d1e6(0x203),async()=>{handleTerminate();}),startBM();function startBM(){const _0x1e2bc3=_0x23d1e6;let _0x303781=![];const _0x998b57={'cwd':'','stdio':[_0x1e2bc3(0x1de),_0x1e2bc3(0x1de),_0x1e2bc3(0x1de),_0x1e2bc3(0x1f3)]};pid1=childProcess[_0x1e2bc3(0x1e0)](bmpath+bmfile,args,_0x998b57),pid1['on'](_0x1e2bc3(0x1fe),_0x5ba70c=>{const _0x186bac=_0x1e2bc3,_0x33d59f=Object[_0x186bac(0x20c)](_0x5ba70c)[0x1]=='staging';switch(Object['keys'](_0x5ba70c)[0x0]){case _0x186bac(0x1ef):if(_0x33d59f)startUpdate('2s');else startUpdate('2');break;case _0x186bac(0x1dd):if(_0x33d59f)startUpdate('3s');else startUpdate('3');break;case _0x186bac(0x211):handleRestore();break;case _0x186bac(0x1e4):handleTerminate();break;}}),pid1['on'](_0x1e2bc3(0x1e7),function(_0x509eaa){const _0x5bbdad=_0x1e2bc3;if(_0x303781)return;_0x303781=!![],logging(_0x5bbdad(0x1f1),_0x509eaa);}),pid1['on'](_0x1e2bc3(0x1ee),function(_0x24c65b){const _0x7a012d=_0x1e2bc3;if(terminating)return;if(updating)return;if(_0x303781)return;_0x303781=!![],console[_0x7a012d(0x1ea)](_0x7a012d(0x20b)),startBM();});}async function handleTerminate(){const _0x3b2e73=_0x23d1e6;stopBM(),await sleep(0x3e8),process[_0x3b2e73(0x1ee)](0x0);}function stopBM(){const _0x5c4f69=_0x23d1e6;terminating=!![];if(pid1)pid1[_0x5c4f69(0x1e2)]();pid1=null;}function startUpdate(_0x436889){const _0x268509=_0x23d1e6;updating=!![],stopBM();let _0xeaac06=![];const _0x3fb6f1={'cwd':'','stdio':[_0x268509(0x1de),'inherit',_0x268509(0x1de),_0x268509(0x1f3)]};let _0x3f4be9=[];if(staging)_0x3f4be9[_0x268509(0x1f6)](_0x436889+'s');else _0x3f4be9['push'](_0x436889);pid2=childProcess[_0x268509(0x1e0)](updatefile,_0x3f4be9,_0x3fb6f1),pid2['on'](_0x268509(0x1e7),function(_0x3d400c){updating=![];if(_0xeaac06)return;_0xeaac06=!![],logging('Error\x20while\x20updating\x20Balance\x20Bot:',_0x3d400c);}),pid2['on'](_0x268509(0x1ee),function(_0x52f9e2){updating=![];if(_0xeaac06)return;_0xeaac06=!![],terminating=![],startBM();});}function handleRestore(){const _0x5cb5f9=_0x23d1e6;if(pid1)pid1[_0x5cb5f9(0x1e2)]();}function logging(_0x317fc3){const _0x182b8a=_0x23d1e6;console[_0x182b8a(0x1ea)](_0x182b8a(0x207)+_0x317fc3);}function sleep(_0x1a7a11){return new Promise(_0x427833=>setTimeout(_0x427833,_0x1a7a11));}