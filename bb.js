const _0x5038e2=_0x4260;(function(_0x50fdf9,_0x24f6e0){const _0x20cc26=_0x4260,_0xb34be5=_0x50fdf9();while(!![]){try{const _0x2d69e5=-parseInt(_0x20cc26(0x11a))/0x1+-parseInt(_0x20cc26(0x118))/0x2*(-parseInt(_0x20cc26(0xf7))/0x3)+parseInt(_0x20cc26(0x113))/0x4+parseInt(_0x20cc26(0x108))/0x5+-parseInt(_0x20cc26(0xf5))/0x6+-parseInt(_0x20cc26(0x122))/0x7+-parseInt(_0x20cc26(0x10a))/0x8;if(_0x2d69e5===_0x24f6e0)break;else _0xb34be5['push'](_0xb34be5['shift']());}catch(_0x2666da){_0xb34be5['push'](_0xb34be5['shift']());}}}(_0x4df4,0x92834));function _0x4df4(){const _0x5724d5=['fork','update','inherit','--host','1026474kgdjgk','child_process','29901keJsvZ','kill','toString','reinstall','user','search','split','Balance\x20Bot\x20>\x20','existsSync','Error\x20while\x20updating\x20Balance\x20Bot:','\x20or\x20above\x20is\x20required','restore','install.js','constructor','staging','-----------------------------------------------------------------------------------','Error:\x20Invalid\x20argument\x20','5265735TTqiju','versions','6545640mRFvAm','argv','error','ipc','keys','slice','log','The\x20installed\x20Node.js\x20version\x20is\x20','terminate','4054208bfUhXH','yargs/yargs','message','exit',',\x20must\x20be\x20a\x204\x20digit\x20number','154UIdBWQ','apply','802765TAgGio','node','(((.+)+)+)+$','SIGINT','port','bm.js','Automatically\x20restarting\x20BM','push','3093951twATtI'];_0x4df4=function(){return _0x5724d5;};return _0x4df4();}const _0x1c01ea=function(){let _0x171ea6=!![];return function(_0x3221a3,_0x3af9b0){const _0x3d86d7=_0x171ea6?function(){const _0x20feb8=_0x4260;if(_0x3af9b0){const _0x30f75e=_0x3af9b0[_0x20feb8(0x119)](_0x3221a3,arguments);return _0x3af9b0=null,_0x30f75e;}}:function(){};return _0x171ea6=![],_0x3d86d7;};}(),_0xbb5967=_0x1c01ea(this,function(){const _0x1153f4=_0x4260;return _0xbb5967[_0x1153f4(0xf9)]()[_0x1153f4(0xfc)](_0x1153f4(0x11c))['toString']()[_0x1153f4(0x104)](_0xbb5967)[_0x1153f4(0xfc)](_0x1153f4(0x11c));});_0xbb5967();const fs=require('fs'),argv=require(_0x5038e2(0x114))(process[_0x5038e2(0x10b)][_0x5038e2(0x10f)](0x2))[_0x5038e2(0x10b)],childProcess=require(_0x5038e2(0xf6)),nodeversion=process[_0x5038e2(0x109)][_0x5038e2(0x11b)],minversion=0x10;nodeversion[_0x5038e2(0xfd)]('.')[0x0]<minversion&&(console[_0x5038e2(0x110)](),console[_0x5038e2(0x110)](_0x5038e2(0x106)),console[_0x5038e2(0x110)](_0x5038e2(0x111)+nodeversion+',\x20but\x20version\x20'+minversion+_0x5038e2(0x101)),console[_0x5038e2(0x110)]('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x5038e2(0x110)](_0x5038e2(0x106)),console[_0x5038e2(0x110)](),process[_0x5038e2(0x116)](0x1));if(argv[_0x5038e2(0x11e)]){const pattern=/^[0-9]{2,4}$/;!pattern['test'](argv[_0x5038e2(0x11e)])&&(console['log'](_0x5038e2(0x107)+argv[_0x5038e2(0x11e)]+_0x5038e2(0x117)),process['exit'](0x1));}let args=[];argv[_0x5038e2(0x11e)]&&(args[_0x5038e2(0x121)]('--port'),args[_0x5038e2(0x121)](argv[_0x5038e2(0x11e)]));argv['host']&&(args[_0x5038e2(0x121)](_0x5038e2(0xf4)),args[_0x5038e2(0x121)](argv['host']));function _0x4260(_0x58443c,_0x13f8a4){const _0x87f1c1=_0x4df4();return _0x4260=function(_0xbb5967,_0x1c01ea){_0xbb5967=_0xbb5967-0xf4;let _0x4df4b0=_0x87f1c1[_0xbb5967];return _0x4df4b0;},_0x4260(_0x58443c,_0x13f8a4);}argv['user']&&(args['push']('--user'),args['push'](argv[_0x5038e2(0xfb)]));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args['push']('-d');let bmpath='bb/';const bmfile=_0x5038e2(0x11f),updatefile=_0x5038e2(0x103);!fs[_0x5038e2(0xff)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x5038e2(0x116),async()=>{handleTerminate();}),process['on']('SIGTERM',async()=>{handleTerminate();}),process['on'](_0x5038e2(0x11d),async()=>{handleTerminate();}),startBM();function startBM(){const _0x60abcf=_0x5038e2;let _0x58211d=![];const _0x233394={'cwd':'','stdio':[_0x60abcf(0x125),_0x60abcf(0x125),_0x60abcf(0x125),_0x60abcf(0x10d)]};pid1=childProcess[_0x60abcf(0x123)](bmpath+bmfile,args,_0x233394),pid1['on'](_0x60abcf(0x115),_0x32efbb=>{const _0x6318e1=_0x60abcf,_0x3b8c3a=Object['values'](_0x32efbb)[0x1]==_0x6318e1(0x105);switch(Object[_0x6318e1(0x10e)](_0x32efbb)[0x0]){case _0x6318e1(0x124):if(_0x3b8c3a)startUpdate('2s');else startUpdate('2');break;case _0x6318e1(0xfa):if(_0x3b8c3a)startUpdate('3s');else startUpdate('3');break;case _0x6318e1(0x102):handleRestore();break;case _0x6318e1(0x112):handleTerminate();break;}}),pid1['on']('error',function(_0x42a8ba){if(_0x58211d)return;_0x58211d=!![],logging('Unexpected\x20error:',_0x42a8ba);}),pid1['on'](_0x60abcf(0x116),function(_0x37ece6){const _0x1371f5=_0x60abcf;if(terminating)return;if(updating)return;if(_0x58211d)return;_0x58211d=!![],console['log'](_0x1371f5(0x120)),startBM();});}async function handleTerminate(){const _0x278770=_0x5038e2;stopBM(),await sleep(0x3e8),process[_0x278770(0x116)](0x0);}function stopBM(){terminating=!![];if(pid1)pid1['kill']();pid1=null;}function startUpdate(_0x37c405){const _0x4c233f=_0x5038e2;updating=!![],stopBM();let _0x516619=![];const _0x211717={'cwd':'','stdio':[_0x4c233f(0x125),_0x4c233f(0x125),_0x4c233f(0x125),'ipc']};let _0x1c4dd=[];if(staging)_0x1c4dd['push'](_0x37c405+'s');else _0x1c4dd[_0x4c233f(0x121)](_0x37c405);pid2=childProcess[_0x4c233f(0x123)](updatefile,_0x1c4dd,_0x211717),pid2['on'](_0x4c233f(0x10c),function(_0x413866){const _0x289511=_0x4c233f;updating=![];if(_0x516619)return;_0x516619=!![],logging(_0x289511(0x100),_0x413866);}),pid2['on']('exit',function(_0x289093){updating=![];if(_0x516619)return;_0x516619=!![],terminating=![],startBM();});}function handleRestore(){const _0x197dcf=_0x5038e2;if(pid1)pid1[_0x197dcf(0xf8)]();}function logging(_0x420df3){const _0x7058f8=_0x5038e2;console[_0x7058f8(0x110)](_0x7058f8(0xfe)+_0x420df3);}function sleep(_0x3d253d){return new Promise(_0x3a6c6a=>setTimeout(_0x3a6c6a,_0x3d253d));}