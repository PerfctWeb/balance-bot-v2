const _0xa27b2f=_0x23a1;(function(_0x45cecb,_0x166a21){const _0x2cf124=_0x23a1,_0x71360c=_0x45cecb();while(!![]){try{const _0x371e50=-parseInt(_0x2cf124(0x1ec))/0x1*(-parseInt(_0x2cf124(0x203))/0x2)+parseInt(_0x2cf124(0x1ee))/0x3*(parseInt(_0x2cf124(0x1fd))/0x4)+-parseInt(_0x2cf124(0x19b))/0x5+parseInt(_0x2cf124(0x158))/0x6*(parseInt(_0x2cf124(0x14b))/0x7)+parseInt(_0x2cf124(0x13e))/0x8*(-parseInt(_0x2cf124(0x1c4))/0x9)+-parseInt(_0x2cf124(0x196))/0xa+parseInt(_0x2cf124(0x161))/0xb;if(_0x371e50===_0x166a21)break;else _0x71360c['push'](_0x71360c['shift']());}catch(_0x1bc50c){_0x71360c['push'](_0x71360c['shift']());}}}(_0x17fd,0x2894c));const _0xc1f6de=function(){let _0xd4ebcb=!![];return function(_0x5f42a3,_0x391fb8){const _0x283281=_0xd4ebcb?function(){if(_0x391fb8){const _0x1ebc31=_0x391fb8['apply'](_0x5f42a3,arguments);return _0x391fb8=null,_0x1ebc31;}}:function(){};return _0xd4ebcb=![],_0x283281;};}(),_0x9bfe13=_0xc1f6de(this,function(){const _0x2bb1a0=_0x23a1;return _0x9bfe13[_0x2bb1a0(0x15c)]()['search'](_0x2bb1a0(0x16f))['toString']()[_0x2bb1a0(0x1d3)](_0x9bfe13)['search'](_0x2bb1a0(0x16f));});_0x9bfe13();'use strict';process['env']['NTBA_FIX_319']=0x1;function _0x17fd(){const _0xb81db2=['Invalid\x20authentication\x20token\x20(2)','createServer','Unauthorized\x20attempt\x20to\x20get\x20logs','callback_query','socket.io','Crypt','/status\x20-\x20show\x20the\x20status\x20of\x20your\x20bots\x0a','token','emit','settings.','onText','No\x20bots\x20enabled\x20right\x20now','telegramChatId','page','UA-192771731-1','success','/:bot/performance','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','timeshift','isIPv4MappedAddress','forEach','2FA','ipc','getTime','temporary\x20token\x20generated','isValid','get-logs','store','initclient','compareSync','f2aRequired','join','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','2547MaJPBT','Balance\x20Bot','message','stopped','stop','Notifications\x20enabled\x0a','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','apiKey','order','toIPv4MappedAddress','express','************','-----------------------------------------------------------------------------------','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','expiry','constructor','sendMessage','Unauthorized\x20attempt\x20to\x20update\x20settings','hashSync','temporary\x20access\x20not\x20allowed','padStart','ipaddr.js','add-bot','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','timestamp','lowdb/adapters/FileSync','getMinutes','http','password','auth','removeListener','starting\x20bot\x20|\x20Bot\x20','No\x20authentication\x20token','-performance.json','Orders','bbUsername','15\x20min','Invalid\x20username\x20or\x20IP\x20address','disabled','parse','2QvdamB','jsonwebtoken','524190dZktFv','<b>Balance\x20Bot\x20status:</b>\x0a','conn','settings','data','date-fns','publicKey','Ok,\x20will\x20send\x20alert\x20notifications\x20only','telegramEvents',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','assign','login\x20not\x20required','Balance\x20Bot\x20Server','</b>\x20?','2FA\x20login\x20required','4zcyvDI','bbPassword','defaults','then','kind','update-bot','276154slBREH','/restart\x20-\x20restart\x20a\x20bot\x0a','Notifications\x20disabled\x0a','bb-config.json','status','handshake','running','existsSync','secure','enabled','disconnect','Notifications\x20types:\x20','Notifications\x20disabled','split','mkdirSync','Unauthorized\x20attempt\x20to\x20delete\x20bot','randomBytes','restart','/disable\x20-\x20disable\x20notifications\x0a','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','stopPolling','You\x20can\x20use\x20the\x20following\x20commands:\x0a','fork','starting','catch','getMonth','idling\x20bot\x20\x20\x20|\x20Bot\x20','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','all','toIPv4Address','remove','generateKeyPairAsync','max','2FA\x20login\x20token\x20generated','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','getSeconds','invalid\x20credentials','Bot\x20','botmanager','getHours','store-configuration','RSA-OAEP','orders','bots','access\x20timeout','reload','emitHistory','loginRequired','enabled\x20Bot\x20','exit','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','randomFillSync','login','\x20minutes','inherit','/:bot','live','started','127.0.0.1','sendFile','Access\x20enabled\x20for\x20','temporaryAccessAllowed','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','placeOrder','starting\x20new\x20bot\x20|\x20Bot\x20','store-settings','reject','bot-','once','HTML','telegramUsername','telegram','use','log','delete-bot','index.html','error','alerts','encryptedUuid','hasOwnProperty','from','All','sign','Unauthorized\x20attempt\x20to\x20get\x20portfolio','config/','botID','Login\x20accepted','Password\x20has\x20been\x20reset\x20to:\x20','Invalid\x20authentication\x20token\x20(1)','polling_error','type','blacklist','value','telegramToken','length','find','entries','/:bot/coins','getDate','User\x20has\x20been\x20validated','new','hybrid-crypto-js','6944kZaUtz','/:bot/portfolio','bot.js','connection','30\x20min','Unauthorized\x20attempt\x20to\x20add\x20bot','getStartingBalances','/:bot/history','event','secret','RSA','yes','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','21dvUJjR','get-starting-balances','includes','build2','\x20|\x20','notification','Unauthorized\x20attempt\x20to\x20log\x20out','/:bot/configuration','child_process','username','bb-secure.json','chat','sha256','364302PLXWHY','allow','\x20only\x0a','clientip','toString','telegramEnabled','botname','-events.json','show','1742158mUvPJN','getFullYear','login\x20required','get','send','kill','decrypt','https://hodlerhacks.com','privateKey','new-disabled','push','remoteAddress','function','Temporary\x20access\x20rejected','(((.+)+)+)+$','listen','match','version.json','Unauthorized\x20attempt\x20to\x20update\x20bot','verify','-config.json','removeAllListeners','Invalid\x20IP\x20address','::ffff:127.0.0.1','exp','unlinkSync','node-telegram-bot-api','map','static','::1','deleted\x20Bot\x20','/help\x20-\x20show\x20avaiable\x20commands\x0a','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','Bot\x20Mgr\x20>\x20','sortBy','logout','-results.json','disabled\x20Bot\x20','place-order','ipv6','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','version','filter','write','storeConfiguration','whitelistEnabled','logged\x20out','headers','2FA\x20required','build','store-headless','Invalid\x20Telegram\x20token','answerCallbackQuery','2073710KDncxd','1000','analytics','Unauthorized\x20attempt\x20to\x20store\x20configuration','login\x20token\x20generated','860890wgaKwL','restarting\x20Bot\x20','reason','Notifications\x20enabled','referer','connected','cloneDeep','bb/'];_0x17fd=function(){return _0xb81db2;};return _0x17fd();}const childProcess=require(_0xa27b2f(0x153)),FileSync=require(_0xa27b2f(0x1dd)),fs=require('fs'),fns=require(_0xa27b2f(0x1f3)),low=require('lowdb'),path=require('path'),crypto=require('crypto'),Crypt=require(_0xa27b2f(0x13d))[_0xa27b2f(0x1a8)],RSA=require(_0xa27b2f(0x13d))[_0xa27b2f(0x148)],bcrypt=require('bcryptjs'),jwt=require(_0xa27b2f(0x1ed)),analyticsLib=require(_0xa27b2f(0x198))['default'],googleAnalytics=require('@analytics/google-analytics')['default'],ipaddr=require(_0xa27b2f(0x1d9));let bbpath=_0xa27b2f(0x1a2);const botfile=_0xa27b2f(0x140),configfile=_0xa27b2f(0x206),settingsfile='bb-settings.json',securefile=_0xa27b2f(0x155);!fs[_0xa27b2f(0x20a)](bbpath+botfile)&&(bbpath='');const configpath=bbpath+_0xa27b2f(0x12c);!fs[_0xa27b2f(0x20a)](configpath)&&fs[_0xa27b2f(0x211)](configpath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0xa27b2f(0x1ff)]({'bots':[]})[_0xa27b2f(0x18c)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0xa27b2f(0x1ff)]({'settings':{'timeshift':0x0}})[_0xa27b2f(0x18c)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure['defaults']({'secure':{},'blacklist':[]})[_0xa27b2f(0x18c)]();let crypt=new Crypt({'md':_0xa27b2f(0x157),'rsaStandard':_0xa27b2f(0x101)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[],socket=[],serverStatus=[];const serverversion=require('./'+bbpath+_0xa27b2f(0x172))[_0xa27b2f(0x18a)],maxSecretAge=0xa,loginExpiry=0x3c,tokenRefresh=0x5;let lastIpApproval,telegramIpApproval,telegram2FaApproval,accessControl,token,uuid,externalip,pidExpireLogin,pidRefreshToken,pidAnalytics;oneTimeMigration(),cleanBlacklist();const PORT=0xbb8,express=require(_0xa27b2f(0x1ce)),app=express(),http=require(_0xa27b2f(0x1df))[_0xa27b2f(0x1a4)](app);app[_0xa27b2f(0x120)](express[_0xa27b2f(0x17d)](path[_0xa27b2f(0x1c2)](__dirname,bbpath,_0xa27b2f(0x14e)))),app[_0xa27b2f(0x120)](express['static'](path[_0xa27b2f(0x1c2)](__dirname,bbpath,_0xa27b2f(0x192)))),app[_0xa27b2f(0x164)]('/',function(_0xb896a9,_0x1ba9ca){const _0x2c28e2=_0xa27b2f;_0x1ba9ca[_0x2c28e2(0x113)](path[_0x2c28e2(0x1c2)](__dirname,bbpath,_0x2c28e2(0x14e),_0x2c28e2(0x123)));}),app[_0xa27b2f(0x164)](_0xa27b2f(0x10f),function(_0x83c34b,_0x20ffd3){const _0x162690=_0xa27b2f;_0x20ffd3[_0x162690(0x113)](path[_0x162690(0x1c2)](__dirname,bbpath,_0x162690(0x192),_0x162690(0x123)));}),app['get'](_0xa27b2f(0x13f),(_0x23bbef,_0x121a75)=>{const _0x1dbeff=_0xa27b2f;_0x121a75[_0x1dbeff(0x113)](path['join'](__dirname,bbpath,'build',_0x1dbeff(0x123)));}),app['get'](_0xa27b2f(0x1b3),(_0x3a2702,_0x3465d7)=>{const _0x3288d8=_0xa27b2f;_0x3465d7[_0x3288d8(0x113)](path['join'](__dirname,bbpath,_0x3288d8(0x192),'index.html'));}),app[_0xa27b2f(0x164)](_0xa27b2f(0x139),(_0x1e4d72,_0x53c780)=>{const _0x1ac570=_0xa27b2f;_0x53c780[_0x1ac570(0x113)](path[_0x1ac570(0x1c2)](__dirname,bbpath,_0x1ac570(0x192),'index.html'));}),app[_0xa27b2f(0x164)](_0xa27b2f(0x145),(_0x1ac4bf,_0x28ea0c)=>{const _0x17f730=_0xa27b2f;_0x28ea0c['sendFile'](path[_0x17f730(0x1c2)](__dirname,bbpath,'build',_0x17f730(0x123)));}),app['get'](_0xa27b2f(0x152),(_0x2856be,_0x22a11b)=>{const _0x57161b=_0xa27b2f;_0x22a11b['sendFile'](path['join'](__dirname,bbpath,_0x57161b(0x192),_0x57161b(0x123)));}),app['get']('/:bot/support',(_0x45f988,_0x53317e)=>{const _0x4da837=_0xa27b2f;_0x53317e[_0x4da837(0x113)](path[_0x4da837(0x1c2)](__dirname,bbpath,_0x4da837(0x192),_0x4da837(0x123)));}),http[_0xa27b2f(0x170)](PORT);const analytics=analyticsLib({'app':_0xa27b2f(0x1c5),'plugins':[googleAnalytics({'trackingId':_0xa27b2f(0x1b1)})]}),TelegramBot=require(_0xa27b2f(0x17b));let tgBot;if(settings[_0xa27b2f(0x135)]&&settings[_0xa27b2f(0x135)]!=''&&settings[_0xa27b2f(0x11e)]&&settings[_0xa27b2f(0x11e)]!='')initTelegram();initStates(),startServer(),startSocket(),startAnalytics();function startServer(){const _0x44f872=_0xa27b2f;console[_0x44f872(0x121)](''),console[_0x44f872(0x121)](_0x44f872(0x1d0)),logging('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),console[_0x44f872(0x121)](_0x44f872(0x1d0));if(config[_0x44f872(0x136)]!=0x0)config['forEach'](_0x390563=>{const _0x5398aa=_0x44f872;if(_0x390563['status']==_0x5398aa(0x20c)||_0x390563['status']==_0x5398aa(0x13c))logging(_0x5398aa(0x1e3)+_0x390563[_0x5398aa(0x12d)]+_0x5398aa(0x14f)+_0x390563[_0x5398aa(0x15e)]),startBot([_0x390563[_0x5398aa(0x12d)]],{'cwd':bbpath},function(_0x293b98){if(_0x293b98)logging(_0x293b98);});else(_0x390563[_0x5398aa(0x207)]==_0x5398aa(0x1ea)||_0x390563[_0x5398aa(0x207)]==_0x5398aa(0x16a))&&logging(_0x5398aa(0x21d)+_0x390563[_0x5398aa(0x12d)]+'\x20|\x20'+_0x390563[_0x5398aa(0x15e)]);});else!newBot&&console['log'](_0x44f872(0x10a));if(newBot)addBot();console['log']('-----------------------------------------------------------------------------------'),console[_0x44f872(0x121)]('');}function startSocket(){const _0x44e9b6=_0xa27b2f,_0x1fbe70=require(_0x44e9b6(0x1a7))(http,{});_0x1fbe70['on'](_0x44e9b6(0x141),_0xd472b7=>{const _0x387b87=_0x44e9b6;let _0x4a3839,_0x223415,_0xe722f2;const _0x104b7b=_0xd472b7['handshake'][_0x387b87(0x190)][_0x387b87(0x19f)],_0x3b3e3b=_0xd472b7[_0x387b87(0x208)][_0x387b87(0x1e1)][_0x387b87(0x126)];if(!_0x3b3e3b)_0xd472b7[_0x387b87(0x1ab)](_0x387b87(0x207),{'publicKey':secure[_0x387b87(0x1f4)]});else{uuid=timelyDecrypt(_0xd472b7[_0x387b87(0x208)][_0x387b87(0x1e1)][_0x387b87(0x126)],![]),_0x223415=_0x104b7b[_0x387b87(0x171)](/bot[0-9]{3}/);if(_0x223415)_0xe722f2=_0x223415[0x0][_0x387b87(0x171)](/[0-9]{3}/);if(_0xe722f2)_0x4a3839=_0xe722f2[0x0];else _0x4a3839=_0x387b87(0x229);if(socket[_0x4a3839])socket[_0x4a3839][_0x387b87(0x20d)](!![]);socket[_0x4a3839]=_0xd472b7,setAccess(_0x4a3839);if(accessControl[_0x387b87(0x159)]){if(_0x4a3839==_0x387b87(0x229))initializeSocketBotManager();else initializeSocketBot(_0x4a3839);}if(!serverStatus[_0x4a3839])serverStatus[_0x4a3839]=_0x387b87(0x1a0);socket[_0x4a3839]['on'](_0x387b87(0x10c),_0xf0068b=>{const _0x3a9c68=_0x387b87,_0x29c314=timelyDecrypt(_0xf0068b[_0x3a9c68(0x1e0)]);if(_0x29c314){_0xf0068b={'username':_0xf0068b[_0x3a9c68(0x154)],'password':_0x29c314};let _0x43d0e3=validateCredentials(_0xf0068b);if(_0x43d0e3[_0x3a9c68(0x159)]==![]&&_0x43d0e3['reason']==_0x3a9c68(0x1fc))socket[_0x4a3839][_0x3a9c68(0x1ab)]('status',{'access':_0x43d0e3}),loginAccess2FA(externalip);else{if(_0x43d0e3['allow']==![]&&_0x43d0e3[_0x3a9c68(0x19d)]=='invalid\x20credentials')socket[_0x4a3839][_0x3a9c68(0x1ab)](_0x3a9c68(0x207),{'access':_0x43d0e3});else{if(_0x43d0e3[_0x3a9c68(0x159)]&&_0x43d0e3['reason']==_0x3a9c68(0x19a)){token=_0x43d0e3['token'];for(let _0x4ebf29 in socket){if(_0x4ebf29==_0x3a9c68(0x229))initializeSocketBotManager();else initializeSocketBot(_0x4ebf29);socket[_0x4ebf29][_0x3a9c68(0x1ab)](_0x3a9c68(0x207),{'status':serverStatus[_0x4ebf29]||'starting','serverversion':serverversion,'servertime':getServerTime(),'access':_0x43d0e3,'externalip':externalip,'publicKey':secure['publicKey'],'loginNow':![]});}setTokenRefresh(),setSessionTimeout(_0x3a9c68(0x10c));}}}}else logging('Unauthorized\x20attempt\x20logging\x20in\x20(timeout)');}),socket[_0x4a3839]['on']('reset-password',()=>{resetPassword();}),socket[_0x4a3839]['on']('disconnect',_0x307d18=>{let _0x4737ea=[];for(let _0x595ae5 in socket){if(_0x595ae5!=_0x4a3839)_0x4737ea[_0x595ae5]=socket[_0x595ae5];}socket=_0x4737ea;});if(_0x4a3839!='botmanager'&&config[_0x387b87(0x1cb)]!=''){if(pid[_0x4a3839])pid[_0x4a3839]['send']({'function':_0x387b87(0x1bf),'args':null});}}});}function setAccess(_0x126841){const _0xf6d952=_0xa27b2f;externalip=normalizeIP(socket[_0x126841][_0xf6d952(0x1f0)][_0xf6d952(0x16c)])[_0xf6d952(0x1be)],accessControl=validateAccess(token),accessControl[_0xf6d952(0x1aa)]&&accessControl[_0xf6d952(0x19d)]==_0xf6d952(0x1bb)&&setSessionTimeout(_0xf6d952(0x1b8)),accessControl['token']&&accessControl[_0xf6d952(0x19d)]==_0xf6d952(0x224)&&setSessionTimeout(_0xf6d952(0x10c)),socket[_0x126841][_0xf6d952(0x1ab)](_0xf6d952(0x207),{'status':serverStatus[_0x126841]||_0xf6d952(0x21a),'serverversion':serverversion,'servertime':getServerTime(),'access':accessControl,'externalip':externalip,'publicKey':secure[_0xf6d952(0x1f4)],'loginNow':accessControl['reason']=='login\x20required'||accessControl[_0xf6d952(0x19d)]==_0xf6d952(0x1fc)}),accessControl[_0xf6d952(0x159)]==![]&&accessControl['reason']=='2FA\x20required'&&temporaryAccess2FA(externalip);}function setSessionTimeout(_0x3b258e){const _0x3bd4ed=_0xa27b2f;let _0x540085;if(_0x3b258e==_0x3bd4ed(0x10c))_0x540085=loginExpiry*0x3c*0x3e8;else _0x540085=telegramIpApproval[_0x3bd4ed(0x1d2)]*0x3c*0x3e8-(new Date()[_0x3bd4ed(0x1ba)]()-telegramIpApproval['timestamp']);if(pidExpireLogin)clearTimeout(pidExpireLogin);pidExpireLogin=setTimeout(()=>{const _0x1c6ce4=_0x3bd4ed;if(pidRefreshToken)clearTimeout(pidRefreshToken);addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null;let _0x4d4dfe=validateAccess(token);if(!(_0x4d4dfe['allow']&&_0x4d4dfe[_0x1c6ce4(0x19d)]=='login\x20not\x20required'))for(let _0x27ea61 in socket){socket[_0x27ea61][_0x1c6ce4(0x1ab)]('status',{'access':{'allow':![],'reason':_0x1c6ce4(0x104),'token':null}});}token=null;},_0x540085);}function setTokenRefresh(){if(pidRefreshToken)clearTimeout(pidRefreshToken);pidRefreshToken=setTimeout(()=>{const _0x15b993=_0x23a1;let _0x745262=refreshToken();for(let _0x502a7b in socket){socket[_0x502a7b]['emit'](_0x15b993(0x207),{'status':serverStatus[_0x502a7b]||_0x15b993(0x21a),'serverversion':serverversion,'servertime':getServerTime(),'access':_0x745262,'externalip':externalip,'publicKey':secure[_0x15b993(0x1f4)],'loginNow':![]});}setTokenRefresh();},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(){const _0x5a93eb=_0xa27b2f;socket['botmanager'][_0x5a93eb(0x1ab)](_0x5a93eb(0x103),config),socket[_0x5a93eb(0x229)]['emit']('settings',cleanSettings()),socket['botmanager']['on'](_0x5a93eb(0x1da),_0x3c49c1=>{const _0x531134=_0x5a93eb;if(validateAccess(_0x3c49c1)['allow'])addBot();else logging(_0x531134(0x143));}),socket[_0x5a93eb(0x229)]['on'](_0x5a93eb(0x202),(_0x37b0bb,_0x10c9fa)=>{const _0x3903c4=_0x5a93eb;if(validateAccess(_0x10c9fa)[_0x3903c4(0x159)])toggleBot(_0x37b0bb['botID'],_0x37b0bb[_0x3903c4(0x207)],_0x37b0bb['live']);else logging(_0x3903c4(0x173));}),socket[_0x5a93eb(0x229)]['on'](_0x5a93eb(0x122),(_0x5f3fd9,_0x41d2f0)=>{const _0x41d610=_0x5a93eb;if(validateAccess(_0x41d2f0)[_0x41d610(0x159)])deleteBot(_0x5f3fd9);else logging(_0x41d610(0x212));}),socket[_0x5a93eb(0x229)]['on'](_0x5a93eb(0x119),(_0x48ac56,_0x250922)=>{const _0x5ccfca=_0x5a93eb;if(validateAccess(_0x250922)[_0x5ccfca(0x159)])storeSettings(_0x48ac56,!![]);else logging(_0x5ccfca(0x1d5));}),socket[_0x5a93eb(0x229)]['on']('logout',_0x5d1f53=>{const _0x5b4b84=_0x5a93eb;if(validateAccess(_0x5d1f53)['allow']){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x5ba3ed in socket){socket[_0x5ba3ed][_0x5b4b84(0x1ab)]('status',{'access':{'allow':![],'reason':_0x5b4b84(0x18f),'token':null}});}}else logging(_0x5b4b84(0x151));});}function initializeSocketBot(_0x2ea26a){const _0xfaeea=_0xa27b2f;socket[_0x2ea26a]['on'](_0xfaeea(0x1bd),(_0x43f48a,_0x3eb868)=>{const _0x16bc24=_0xfaeea;if(validateAccess(_0x3eb868)[_0x16bc24(0x159)]){if(pid[_0x2ea26a])pid[_0x2ea26a][_0x16bc24(0x165)]({'function':_0x16bc24(0x106),'args':_0x43f48a});}else logging(_0x16bc24(0x1a5));}),socket[_0x2ea26a]['on']('get-portfolio',(_0x1a95fe,_0x55b1a8)=>{const _0x547ca2=_0xfaeea;if(validateAccess(_0x55b1a8)[_0x547ca2(0x159)]){if(pid[_0x2ea26a])pid[_0x2ea26a]['send']({'function':'getPortfolio','args':_0x1a95fe});}else logging(_0x547ca2(0x12b));}),socket[_0x2ea26a]['on'](_0xfaeea(0x100),(_0x18e0b9,_0x4143d6)=>{const _0x1deb1d=_0xfaeea;if(validateAccess(_0x4143d6)['allow']){if(pid[_0x2ea26a])pid[_0x2ea26a][_0x1deb1d(0x165)]({'function':_0x1deb1d(0x18d),'args':_0x18e0b9});}else logging(_0x1deb1d(0x199));}),socket[_0x2ea26a]['on'](_0xfaeea(0x193),(_0x3bb3cf,_0x221f12)=>{const _0x273a69=_0xfaeea;if(validateAccess(_0x221f12)['allow']){if(pid[_0x2ea26a])pid[_0x2ea26a]['send']({'function':'storeHeadless','args':_0x3bb3cf});}else logging(_0x273a69(0x216));}),socket[_0x2ea26a]['on'](_0xfaeea(0x14c),_0x3f2bb8=>{const _0x5e1079=_0xfaeea;if(validateAccess(_0x3f2bb8)['allow']){if(pid[_0x2ea26a])pid[_0x2ea26a][_0x5e1079(0x165)]({'function':_0x5e1079(0x144),'args':null});}else logging(_0x5e1079(0x14a));}),socket[_0x2ea26a]['on'](_0xfaeea(0x187),(_0x210559,_0xab4260)=>{const _0x5ac027=_0xfaeea;if(validateAccess(_0xab4260)['allow']){if(pid[_0x2ea26a])pid[_0x2ea26a][_0x5ac027(0x165)]({'function':_0x5ac027(0x117),'args':_0x210559});}else logging(_0x5ac027(0x21e));}),socket[_0x2ea26a]['on'](_0xfaeea(0x184),_0x1763d5=>{const _0x3554ff=_0xfaeea;if(validateAccess(_0x1763d5)[_0x3554ff(0x159)]){if(pidRefreshToken)clearTimeout(pidRefreshToken);if(pidExpireLogin)clearTimeout(pidExpireLogin);removeSocketListeners(),addBlacklist(),telegramIpApproval=null,telegram2FaApproval=null,token=null;for(let _0x6b91eb in socket){socket[_0x6b91eb][_0x3554ff(0x1ab)]('status',{'access':{'allow':![],'reason':_0x3554ff(0x18f),'token':null}});}}else logging(_0x3554ff(0x151));});}function removeSocketListeners(){const _0x492ce4=_0xa27b2f;for(let _0x2eb7dd in socket){socket[_0x2eb7dd][_0x492ce4(0x176)]();}}function cleanSettings(){const _0x32e588=_0xa27b2f;let _0x937c7e=settings;return settings[_0x32e588(0x135)]&&settings[_0x32e588(0x135)]!=''&&(_0x937c7e={..._0x937c7e,'telegramToken':_0x32e588(0x1cf)}),settings[_0x32e588(0x1fe)]&&settings[_0x32e588(0x1fe)]!=''&&(_0x937c7e={..._0x937c7e,'bbPassword':_0x32e588(0x1cf)}),_0x937c7e;}function startBot(_0x5538a2,_0xdb9807,_0x571bf2){const _0x53fa8a=_0xa27b2f;let _0x3eef2d=![];const _0xf3d4f7=_0x5538a2[0x0];_0xdb9807={..._0xdb9807,'stdio':[_0x53fa8a(0x10e),_0x53fa8a(0x10e),_0x53fa8a(0x10e),_0x53fa8a(0x1b9)]},pid[_0xf3d4f7]=childProcess[_0x53fa8a(0x219)](botfile,_0x5538a2,_0xdb9807),pid[_0xf3d4f7]['on'](_0x53fa8a(0x1c6),_0x36efdf=>{const _0x471a35=_0x53fa8a;switch(Object['keys'](_0x36efdf)[0x0]){case _0x471a35(0x15e):updateBotName(_0xf3d4f7,_0x36efdf[_0x471a35(0x15e)]);break;case _0x471a35(0x207):updateStatus(_0xf3d4f7,_0x36efdf[_0x471a35(0x207)]);break;case _0x471a35(0x110):updateLive(_0xf3d4f7,_0x36efdf[_0x471a35(0x110)]);break;case'started':updateLive(_0xf3d4f7,_0x36efdf[_0x471a35(0x111)]);if(socket[_0xf3d4f7])socket[_0xf3d4f7][_0x471a35(0x1ab)](_0x471a35(0x207),{'access':{'allow':![],'reason':_0x471a35(0x105),'token':null}});break;case _0x471a35(0x1c8):_0x36efdf['stop']==_0x471a35(0x214)&&stopBot(_0xf3d4f7);_0x36efdf[_0x471a35(0x1c8)]==_0x471a35(0x166)&&toggleBot(_0xf3d4f7,_0x471a35(0x1ea),_0x471a35(0x1c7));break;case _0x471a35(0x11f):sendTelegram(_0xf3d4f7,_0x36efdf['telegram']);break;case'function':if(socket[_0xf3d4f7])socket[_0xf3d4f7][_0x471a35(0x1ab)](_0x36efdf[_0x471a35(0x16d)],_0x36efdf['args']);break;}}),pid[_0xf3d4f7]['on'](_0x53fa8a(0x124),function(_0x53ea4b){if(_0x3eef2d)return;_0x3eef2d=!![],_0x571bf2(_0x53ea4b);}),pid[_0xf3d4f7]['on'](_0x53fa8a(0x109),function(_0x213af9){const _0xee74d4=_0x53fa8a;if(_0x3eef2d)return;_0x3eef2d=!![],_0x571bf2(null);const _0x3631d2=dbConfig[_0xee74d4(0x164)](_0xee74d4(0x103))[_0xee74d4(0x137)]({'botID':_0xf3d4f7})['value']();_0x3631d2&&(_0x3631d2[_0xee74d4(0x207)]==_0xee74d4(0x20c)||_0x3631d2[_0xee74d4(0x207)]==_0xee74d4(0x13c))&&(updateLive(_0xf3d4f7,_0xee74d4(0x1c7)),logging(_0xee74d4(0x19c)+_0xf3d4f7),startBot([_0xf3d4f7],{'cwd':bbpath},function(_0x450519){if(_0x450519)logging(_0x450519);}));});}function stopBot(_0x38e4cc){const _0x42b5db=_0xa27b2f;if(socket[_0x38e4cc])socket[_0x38e4cc]['disconnect'](!![]);if(pid[_0x38e4cc])pid[_0x38e4cc][_0x42b5db(0x166)]();}function addBot(){const _0x4408ef=_0xa27b2f;let _0x50d337;for(let _0xc5b417=0x1;_0xc5b417<0x3e9;_0xc5b417++){_0x50d337=_0xc5b417[_0x4408ef(0x15c)]()['padStart'](0x3,'0');let _0x20dccc=config[_0x4408ef(0x137)](_0x44fc31=>_0x44fc31[_0x4408ef(0x12d)]==_0x50d337);if(!_0x20dccc)break;}if(_0x50d337===_0x4408ef(0x197)){logging(_0x4408ef(0x1c3));return;}logging(_0x4408ef(0x118)+_0x50d337),dbConfig[_0x4408ef(0x164)](_0x4408ef(0x103))[_0x4408ef(0x16b)]({'botID':_0x50d337,'botname':_0x4408ef(0x228)+_0x50d337,'status':_0x4408ef(0x13c),'live':''})[_0x4408ef(0x18c)](),startBot([_0x50d337],{'cwd':bbpath},function(_0xacb90){if(_0xacb90)logging(_0xacb90);}),config=getConfiguration();if(socket[_0x4408ef(0x229)])socket['botmanager'][_0x4408ef(0x1ab)](_0x4408ef(0x103),config);}function _0x23a1(_0x17ab40,_0x46efec){const _0x3a770b=_0x17fd();return _0x23a1=function(_0x9bfe13,_0xc1f6de){_0x9bfe13=_0x9bfe13-0x100;let _0x17fdb2=_0x3a770b[_0x9bfe13];return _0x17fdb2;},_0x23a1(_0x17ab40,_0x46efec);}function deleteBot(_0x395347){const _0x172350=_0xa27b2f;if(socket[_0x395347])socket[_0x395347][_0x172350(0x20d)](!![]);dbConfig[_0x172350(0x164)](_0x172350(0x103))['remove']({'botID':_0x395347})['write'](),logging(_0x172350(0x17f)+_0x395347),stopBot(_0x395347);try{fs['unlinkSync'](path[_0x172350(0x1c2)](configpath,'bot-'+_0x395347+_0x172350(0x175))),fs['unlinkSync'](path[_0x172350(0x1c2)](configpath,'bot-'+_0x395347+_0x172350(0x15f))),fs[_0x172350(0x17a)](path[_0x172350(0x1c2)](configpath,_0x172350(0x11b)+_0x395347+_0x172350(0x1e5))),fs[_0x172350(0x17a)](path[_0x172350(0x1c2)](configpath,'bot-'+_0x395347+_0x172350(0x185)));}catch(_0x37f881){if(_0x37f881)logging('error\x20while\x20deleting\x20log\x20files:\x20',_0x37f881);}config=getConfiguration();if(socket['botmanager'])socket[_0x172350(0x229)][_0x172350(0x1ab)](_0x172350(0x103),config);}function toggleBot(_0x16c00b,_0x24c4c7,_0x3c7e27){const _0x366e8a=_0xa27b2f;dbConfig[_0x366e8a(0x164)](_0x366e8a(0x103))['find']({'botID':_0x16c00b})[_0x366e8a(0x1f8)]({'status':_0x24c4c7})['assign']({'live':_0x3c7e27})['write']();if(_0x24c4c7==_0x366e8a(0x20c)||_0x24c4c7=='new')logging(_0x366e8a(0x108)+_0x16c00b),startBot([_0x16c00b],{'cwd':bbpath},function(_0x4449e0){if(_0x4449e0)logging(_0x4449e0);});else(_0x24c4c7=='disabled'||_0x24c4c7==_0x366e8a(0x16a))&&(logging(_0x366e8a(0x186)+_0x16c00b),stopBot(_0x16c00b));config=getConfiguration();if(socket['botmanager'])socket[_0x366e8a(0x229)][_0x366e8a(0x1ab)]('bots',config);}function updateStatus(_0x245d1f,_0x457982){const _0x2fa132=_0xa27b2f;dbConfig[_0x2fa132(0x164)](_0x2fa132(0x103))['find']({'botID':_0x245d1f})[_0x2fa132(0x1f8)]({'status':_0x457982})['write'](),config=getConfiguration();if(socket[_0x2fa132(0x229)])socket[_0x2fa132(0x229)][_0x2fa132(0x1ab)](_0x2fa132(0x103),config);}function updateLive(_0x51b7ee,_0x46efa7){const _0x2c5dd8=_0xa27b2f;dbConfig[_0x2c5dd8(0x164)]('bots')[_0x2c5dd8(0x137)]({'botID':_0x51b7ee})['assign']({'live':_0x46efa7})[_0x2c5dd8(0x18c)](),config=getConfiguration();if(socket[_0x2c5dd8(0x229)])socket[_0x2c5dd8(0x229)][_0x2c5dd8(0x1ab)]('bots',config);}function updateBotName(_0x47c431,_0x57dc02){const _0x556d77=_0xa27b2f;dbConfig[_0x556d77(0x164)](_0x556d77(0x103))['find']({'botID':_0x47c431})[_0x556d77(0x1f8)]({'botname':_0x57dc02})[_0x556d77(0x18c)](),config=getConfiguration();if(socket['botmanager'])socket[_0x556d77(0x229)][_0x556d77(0x1ab)](_0x556d77(0x103),config);}function telegramError(_0x688345){const _0x3eb674=_0xa27b2f;console[_0x3eb674(0x121)](getTimeStamp()+_0x3eb674(0x1f7));}function validateTelegram(_0x1b166c){const _0x3fb2c6=_0xa27b2f;if(_0x1b166c[_0x3fb2c6(0x128)][_0x3fb2c6(0x154)]!=settings['telegramUsername']&&'@'+_0x1b166c['from']['username']!=settings[_0x3fb2c6(0x11e)])return tgBot[_0x3fb2c6(0x1d4)](_0x1b166c[_0x3fb2c6(0x156)]['id'],_0x3fb2c6(0x1db),{'parse_mode':_0x3fb2c6(0x11d)})['catch'](_0x69ffa4=>{telegramError(_0x69ffa4);}),![];return!![];}async function initTelegram(){const _0x50e815=_0xa27b2f;if(tgBot)tgBot['stopPolling'](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x50e815(0x135)],{'polling':!![]});let _0x551830=_0x50e815(0x218);_0x551830+='\x0a',_0x551830+='/enable\x20-\x20enable\x20notifications\x0a',_0x551830+=_0x50e815(0x215),_0x551830+=_0x50e815(0x1d1),_0x551830+=_0x50e815(0x204),_0x551830+=_0x50e815(0x1a9),_0x551830+=_0x50e815(0x180);let _0x38e687=_0x50e815(0x116);_0x38e687+='\x0a',_0x38e687+=_0x551830,tgBot[_0x50e815(0x1ad)](/\/start/,_0x3c7471=>{const _0x53ed7c=_0x50e815;if(!validateTelegram(_0x3c7471))return;if(settings['telegramChatId']!=_0x3c7471[_0x53ed7c(0x156)]['id'])updateSetting(_0x53ed7c(0x1af),_0x3c7471[_0x53ed7c(0x156)]['id']);updateSetting(_0x53ed7c(0x15d),!![]),tgBot[_0x53ed7c(0x1d4)](_0x3c7471['chat']['id'],_0x38e687)['catch'](_0x1fe3c1=>{telegramError(_0x1fe3c1);});}),tgBot['onText'](/\/enable/,_0x6032d8=>{const _0x25c3e4=_0x50e815;if(!validateTelegram(_0x6032d8))return;if(settings[_0x25c3e4(0x1af)]!=_0x6032d8[_0x25c3e4(0x156)]['id'])updateSetting(_0x25c3e4(0x1af),_0x6032d8[_0x25c3e4(0x156)]['id']);updateSetting(_0x25c3e4(0x15d),!![]),tgBot[_0x25c3e4(0x1d4)](_0x6032d8[_0x25c3e4(0x156)]['id'],_0x25c3e4(0x19e))[_0x25c3e4(0x21b)](_0x58e106=>{telegramError(_0x58e106);});}),tgBot[_0x50e815(0x1ad)](/\/config/,async _0x500533=>{const _0x3097b6=_0x50e815;if(!validateTelegram(_0x500533))return;tgBot[_0x3097b6(0x1e2)](_0x3097b6(0x1a6)),tgBot[_0x3097b6(0x1d4)](_0x500533[_0x3097b6(0x156)]['id'],_0x3097b6(0x1b4),{'reply_markup':{'inline_keyboard':[[{'text':_0x3097b6(0x1e6),'callback_data':'orders'},{'text':'Alerts','callback_data':_0x3097b6(0x125)},{'text':_0x3097b6(0x129),'callback_data':_0x3097b6(0x21f)}]]}})[_0x3097b6(0x21b)](_0xdb2a7f=>{telegramError(_0xdb2a7f);}),tgBot['on'](_0x3097b6(0x1a6),async _0x45ed17=>{const _0x1e48d9=_0x3097b6,_0x3bae41=_0x45ed17[_0x1e48d9(0x1f2)],_0x287a4a=_0x45ed17['message'];tgBot['answerCallbackQuery'](_0x45ed17['id'])['then'](async()=>{const _0x483773=_0x1e48d9;_0x3bae41==_0x483773(0x102)&&(updateSetting(_0x483773(0x1f6),_0x483773(0x102)),updateSetting(_0x483773(0x15d),!![]),await tgBot[_0x483773(0x1d4)](_0x287a4a['chat']['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')[_0x483773(0x21b)](_0x581678=>{telegramError(_0x581678);}));_0x3bae41==_0x483773(0x125)&&(updateSetting(_0x483773(0x1f6),_0x483773(0x125)),updateSetting(_0x483773(0x15d),!![]),await tgBot[_0x483773(0x1d4)](_0x287a4a['chat']['id'],_0x483773(0x1f5))[_0x483773(0x21b)](_0x27f60c=>{telegramError(_0x27f60c);}));_0x3bae41==_0x483773(0x21f)&&(updateSetting(_0x483773(0x1f6),_0x483773(0x21f)),updateSetting(_0x483773(0x15d),!![]),await tgBot[_0x483773(0x1d4)](_0x287a4a[_0x483773(0x156)]['id'],'Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications')[_0x483773(0x21b)](_0x417640=>{telegramError(_0x417640);}));if(!settings[_0x483773(0x1af)])tgBot[_0x483773(0x1d4)](_0x287a4a[_0x483773(0x156)]['id'],_0x483773(0x181))[_0x483773(0x21b)](_0x49e9d9=>{telegramError(_0x49e9d9);});}),tgBot[_0x1e48d9(0x1e2)](_0x1e48d9(0x1a6));});}),tgBot[_0x50e815(0x1ad)](/\/status/,_0x2da9fe=>{const _0x1a9d5f=_0x50e815;if(!validateTelegram(_0x2da9fe))return;let _0x4b89fe=_0x1a9d5f(0x1ef);config[_0x1a9d5f(0x1b7)](_0x3d3ea1=>{const _0x5fb9d3=_0x1a9d5f;_0x4b89fe+=_0x5fb9d3(0x228)+_0x3d3ea1[_0x5fb9d3(0x12d)]+_0x5fb9d3(0x14f)+_0x3d3ea1[_0x5fb9d3(0x15e)]+':\x20'+_0x3d3ea1[_0x5fb9d3(0x207)]+'\x20/\x20'+_0x3d3ea1[_0x5fb9d3(0x110)]+'\x0a';}),_0x4b89fe+='\x0a',_0x4b89fe+='<b>Telegram\x20bot\x20status:</b>\x0a',_0x4b89fe+=!settings[_0x1a9d5f(0x15d)]?_0x1a9d5f(0x205):_0x1a9d5f(0x1c9),_0x4b89fe+=settings[_0x1a9d5f(0x15d)]?settings[_0x1a9d5f(0x1f6)]==_0x1a9d5f(0x21f)?'Notifications\x20types:\x20orders\x20and\x20alerts\x0a':_0x1a9d5f(0x20e)+settings[_0x1a9d5f(0x1f6)]+_0x1a9d5f(0x15a):'',tgBot[_0x1a9d5f(0x1d4)](_0x2da9fe[_0x1a9d5f(0x156)]['id'],_0x4b89fe,{'parse_mode':_0x1a9d5f(0x11d)})[_0x1a9d5f(0x21b)](_0x2ff167=>{telegramError(_0x2ff167);});}),tgBot[_0x50e815(0x1ad)](/\/restart/,_0x146f4f=>{const _0x4741a1=_0x50e815;if(!validateTelegram(_0x146f4f))return;tgBot[_0x4741a1(0x1e2)]('callback_query');const _0x2eda39=getEnabledBots();if(_0x2eda39[_0x4741a1(0x136)]==0x0)tgBot['sendMessage'](_0x146f4f['chat']['id'],_0x4741a1(0x1ae))[_0x4741a1(0x21b)](_0x5b3ad6=>{telegramError(_0x5b3ad6);});else{let _0x13fe0e=[],_0x535009=[];const _0x1bc7c2=_0x2eda39[_0x4741a1(0x136)]%0x4==0x0||_0x2eda39[_0x4741a1(0x136)]%0x4==0x3||_0x2eda39[_0x4741a1(0x136)]%0x3==0x1?0x4:0x3;let _0x47d7f2=0x0;_0x2eda39['forEach']((_0x31653e,_0x4e277b)=>{const _0x40afe7=_0x4741a1;if(_0x4e277b%_0x1bc7c2==0x0)_0x535009=[];_0x535009[_0x40afe7(0x16b)]({'text':_0x40afe7(0x228)+_0x31653e['botID'],'callback_data':_0x31653e['botID']}),_0x4e277b%_0x1bc7c2==0x0&&(_0x13fe0e[_0x47d7f2]=_0x535009,_0x47d7f2++);}),tgBot[_0x4741a1(0x1d4)](_0x146f4f[_0x4741a1(0x156)]['id'],_0x4741a1(0x225),{'reply_markup':{'inline_keyboard':_0x13fe0e}})[_0x4741a1(0x21b)](_0x817862=>{telegramError(_0x817862);}),tgBot['on'](_0x4741a1(0x1a6),async _0x47f2f1=>{const _0x51caa1=_0x4741a1,_0x13c6b9=_0x47f2f1[_0x51caa1(0x1f2)],_0x258170=_0x47f2f1['message'];tgBot[_0x51caa1(0x195)](_0x47f2f1['id'])[_0x51caa1(0x200)](async()=>{const _0x51b218=_0x51caa1;if(settings[_0x51b218(0x1f6)]==_0x51b218(0x102))tgBot['sendMessage'](_0x258170['chat']['id'],_0x51b218(0x1ca)+_0x13c6b9)['catch'](_0x311b63=>{telegramError(_0x311b63);});stopBot(_0x13c6b9);}),tgBot[_0x51caa1(0x1e2)]('callback_query');});}}),tgBot[_0x50e815(0x1ad)](/\/disable/,_0x5c34ec=>{const _0x3db045=_0x50e815;if(!validateTelegram(_0x5c34ec))return;tgBot[_0x3db045(0x1d4)](_0x5c34ec[_0x3db045(0x156)]['id'],_0x3db045(0x20f))[_0x3db045(0x21b)](_0x5338b1=>{telegramError(_0x5338b1);}),updateSetting(_0x3db045(0x15d),![]);}),tgBot['onText'](/\/help/,_0x24d502=>{const _0x50d91a=_0x50e815;if(!validateTelegram(_0x24d502))return;tgBot[_0x50d91a(0x1d4)](_0x24d502[_0x50d91a(0x156)]['id'],_0x551830)['catch'](_0x3f698f=>{telegramError(_0x3f698f);});}),tgBot['on'](_0x50e815(0x131),_0x41dae3=>{const _0x403938=_0x50e815;if(_0x41dae3[_0x403938(0x15c)]()[_0x403938(0x14d)]('404\x20Not\x20Found')){logging(_0x403938(0x194)),tgBot[_0x403938(0x217)](),tgBot=null;if(socket[_0x403938(0x229)])socket[_0x403938(0x229)][_0x403938(0x1ab)](_0x403938(0x150),_0x403938(0x194));}}),process[_0x50e815(0x11c)]('SIGINT',()=>{const _0x2f1dec=_0x50e815;if(tgBot)tgBot['stopPolling']();process[_0x2f1dec(0x109)](0x1);}),process[_0x50e815(0x11c)]('SIGTERM',()=>{const _0x351f0f=_0x50e815;if(tgBot)tgBot['stopPolling']();process[_0x351f0f(0x109)](0x1);});}}function disableTelegram(){const _0x62c893=_0xa27b2f;tgBot&&(tgBot[_0x62c893(0x217)](),tgBot=null);}function sendTelegram(_0xad6272,_0x18b362){const _0x10fe48=_0xa27b2f;if(settings[_0x10fe48(0x15d)]){if(settings[_0x10fe48(0x1f6)]=='all'||(_0x18b362['type']==_0x10fe48(0x124)||_0x18b362[_0x10fe48(0x132)]==_0x10fe48(0x1b2))&&settings[_0x10fe48(0x1f6)]==_0x10fe48(0x125)||_0x18b362[_0x10fe48(0x132)]==_0x10fe48(0x1cc)&&settings['telegramEvents']=='orders'){if(tgBot&&settings['telegramChatId'])tgBot[_0x10fe48(0x1d4)](settings[_0x10fe48(0x1af)],_0x10fe48(0x228)+_0xad6272+'\x20>\x20'+_0x18b362[_0x10fe48(0x146)])['catch'](_0x196a5a=>{telegramError(_0x196a5a);});}}}function temporaryAccess2FA(_0x5e0409){const _0x1ed291=_0xa27b2f;let _0x2dba12=new Date(),_0x4ad7bd=![];if(lastIpApproval){if(_0x2dba12-lastIpApproval<0x1388)_0x4ad7bd=!![];}lastIpApproval=new Date();if(_0x4ad7bd)return;tgBot&&settings[_0x1ed291(0x1af)]&&(tgBot[_0x1ed291(0x1e2)](_0x1ed291(0x1a6)),tgBot['sendMessage'](settings[_0x1ed291(0x1af)],_0x1ed291(0x189)+normalizeIP(_0x5e0409)[_0x1ed291(0x160)]+_0x1ed291(0x1fb),{'parse_mode':_0x1ed291(0x11d),'reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':_0x1ed291(0x1e8),'callback_data':'15'},{'text':_0x1ed291(0x142),'callback_data':'30'},{'text':'reject','callback_data':_0x1ed291(0x11a)}]]}})[_0x1ed291(0x21b)](_0x501890=>{telegramError(_0x501890);}),tgBot['on'](_0x1ed291(0x1a6),async _0x5dd64b=>{const _0x34af59=_0x1ed291,_0x4187ba=_0x5dd64b[_0x34af59(0x1f2)],_0x57aef8=_0x5dd64b[_0x34af59(0x1c6)];tgBot[_0x34af59(0x195)](_0x5dd64b['id'])['then'](async()=>{const _0x51bc16=_0x34af59;if(_0x4187ba!='reject'){telegramIpApproval={'clientip':_0x5e0409,'timestamp':new Date()['getTime'](),'expiry':_0x4187ba},await tgBot[_0x51bc16(0x1d4)](_0x57aef8[_0x51bc16(0x156)]['id'],_0x51bc16(0x114)+_0x4187ba+_0x51bc16(0x10d),{'parse_mode':'HTML'})[_0x51bc16(0x21b)](_0x8ef8c3=>{telegramError(_0x8ef8c3);});for(let _0x10db99 in socket){socket[_0x10db99][_0x51bc16(0x1ab)]('status',{'access':{'allow':![],'reason':_0x51bc16(0x105),'token':null}});}}else await tgBot['sendMessage'](_0x57aef8[_0x51bc16(0x156)]['id'],_0x51bc16(0x16e))[_0x51bc16(0x21b)](_0x498bf2=>{telegramError(_0x498bf2);});}),tgBot[_0x34af59(0x1e2)](_0x34af59(0x1a6));}));}function loginAccess2FA(_0x5461f8){const _0x3339a1=_0xa27b2f;tgBot&&settings[_0x3339a1(0x1af)]&&(tgBot['removeListener'](_0x3339a1(0x1a6)),tgBot[_0x3339a1(0x1d4)](settings[_0x3339a1(0x1af)],'Allow\x20login\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x5461f8)[_0x3339a1(0x160)]+_0x3339a1(0x1fb),{'parse_mode':_0x3339a1(0x11d),'reply_markup':{'inline_keyboard':[[{'text':'accept','callback_data':loginExpiry},{'text':_0x3339a1(0x11a),'callback_data':_0x3339a1(0x11a)}]]}})[_0x3339a1(0x21b)](_0x3f8a44=>{telegramError(_0x3f8a44);}),tgBot['on']('callback_query',async _0x2a5c64=>{const _0x59dd40=_0x3339a1,_0x13a685=_0x2a5c64[_0x59dd40(0x1f2)],_0x441987=_0x2a5c64[_0x59dd40(0x1c6)];tgBot['answerCallbackQuery'](_0x2a5c64['id'])[_0x59dd40(0x200)](async()=>{const _0x2490b3=_0x59dd40;if(_0x13a685!='reject'){telegram2FaApproval={'clientip':_0x5461f8,'timestamp':new Date()[_0x2490b3(0x1ba)](),'expiry':_0x13a685},await tgBot[_0x2490b3(0x1d4)](_0x441987['chat']['id'],_0x2490b3(0x12e),{'parse_mode':_0x2490b3(0x11d)})[_0x2490b3(0x21b)](_0x5e3507=>{telegramError(_0x5e3507);});for(let _0xa3cf39 in socket){socket[_0xa3cf39][_0x2490b3(0x1ab)]('status',{'access':{'allow':![],'reason':_0x2490b3(0x105),'token':null}});}}else await tgBot[_0x2490b3(0x1d4)](_0x441987[_0x2490b3(0x156)]['id'],'Login\x20rejected')['catch'](_0x35293b=>{telegramError(_0x35293b);});}),tgBot[_0x59dd40(0x1e2)]('callback_query');}));}function getConfiguration(){const _0x335509=_0xa27b2f;return dbConfig[_0x335509(0x164)](_0x335509(0x103))[_0x335509(0x183)]('botID')[_0x335509(0x134)]()||[];}function getEnabledBots(){const _0x400bfd=_0xa27b2f;return dbConfig[_0x400bfd(0x164)]('bots')[_0x400bfd(0x183)](_0x400bfd(0x12d))[_0x400bfd(0x18b)]({'status':_0x400bfd(0x20c)})['value']()||[];}function getSettings(){const _0x2fc46d=_0xa27b2f;return dbSettings[_0x2fc46d(0x164)](_0x2fc46d(0x1f1))['value']()||{'timeshift':0x0};}function getSecure(){const _0x182cb9=_0xa27b2f;return dbSecure[_0x182cb9(0x164)](_0x182cb9(0x20b))[_0x182cb9(0x134)]()||{};}function getBlacklist(){const _0x2dd1f0=_0xa27b2f;return dbSecure['get'](_0x2dd1f0(0x133))['value']()||[];}function broadcastToBots(_0x5ed2b0,_0x45e882){const _0x1c5d6e=_0xa27b2f;config[_0x1c5d6e(0x1b7)](_0x13b0bc=>{const _0x4f60e9=_0x1c5d6e;if(_0x13b0bc[_0x4f60e9(0x207)]=='enabled'&&_0x13b0bc[_0x4f60e9(0x110)]==_0x4f60e9(0x209)){if(pid[_0x13b0bc[_0x4f60e9(0x12d)]])pid[_0x13b0bc[_0x4f60e9(0x12d)]][_0x4f60e9(0x165)]({[_0x5ed2b0]:_0x45e882});}});}function storeSettings(_0x1fafb4,_0x539f18=![]){const _0x26ccc7=_0xa27b2f;_0x1fafb4={...settings,..._0x1fafb4};if(_0x539f18&&_0x1fafb4[_0x26ccc7(0x1fe)]!=_0x26ccc7(0x1cf)&&_0x1fafb4[_0x26ccc7(0x1fe)]!=''){const _0x4382f4=crypt[_0x26ccc7(0x167)](secure[_0x26ccc7(0x169)],_0x1fafb4[_0x26ccc7(0x1fe)])['message'][_0x26ccc7(0x210)]('@')[0x0],_0x47e05f=bcrypt[_0x26ccc7(0x1d6)](_0x4382f4,saltRounds);_0x1fafb4={..._0x1fafb4,'bbPassword':_0x47e05f};}if(_0x539f18&&_0x1fafb4[_0x26ccc7(0x135)]!=_0x26ccc7(0x1cf)&&_0x1fafb4[_0x26ccc7(0x135)]!=''){const _0x56b9c2=crypt[_0x26ccc7(0x167)](secure[_0x26ccc7(0x169)],_0x1fafb4[_0x26ccc7(0x135)])[_0x26ccc7(0x1c6)][_0x26ccc7(0x210)]('@')[0x0];_0x1fafb4={..._0x1fafb4,'telegramToken':_0x56b9c2};}const _0x49389f=_0x1fafb4['telegramToken']!=_0x26ccc7(0x1cf)&&_0x1fafb4[_0x26ccc7(0x135)]!=settings[_0x26ccc7(0x135)]||_0x1fafb4['telegramUsername']!=settings['telegramUsername'],_0x2eea5f=_0x1fafb4[_0x26ccc7(0x135)]==''||_0x1fafb4['telegramUsername']=='';if(_0x49389f)_0x1fafb4[_0x26ccc7(0x1f6)]=_0x26ccc7(0x21f);for(const [_0x473ca2,_0x2ffb34]of Object[_0x26ccc7(0x138)](_0x1fafb4)){if(_0x473ca2=='telegramToken'&&_0x2ffb34==_0x26ccc7(0x1cf)){_0x1fafb4[_0x26ccc7(0x135)]=settings[_0x26ccc7(0x135)];continue;};if(_0x473ca2==_0x26ccc7(0x1fe)&&_0x2ffb34=='************'){_0x1fafb4[_0x26ccc7(0x1fe)]=settings['bbPassword'];continue;};dbSettings['set'](_0x26ccc7(0x1ac)+_0x473ca2,_0x2ffb34)[_0x26ccc7(0x18c)]();}settings=_0x1fafb4;if(socket[_0x26ccc7(0x229)])socket[_0x26ccc7(0x229)][_0x26ccc7(0x1ab)]('settings',cleanSettings());broadcastToBots(_0x26ccc7(0x1b5),settings[_0x26ccc7(0x1b5)]);if(_0x49389f&&!_0x2eea5f)initTelegram();if(_0x49389f&&_0x2eea5f)disableTelegram();for(let _0x3bf10d in socket){setAccess(_0x3bf10d);}}function updateSetting(_0x1f6453,_0x5c935d){const _0x4a7d7e=_0xa27b2f;dbSettings['set'](_0x4a7d7e(0x1ac)+_0x1f6453,_0x5c935d)[_0x4a7d7e(0x18c)](),settings=getSettings();if(socket[_0x4a7d7e(0x229)])socket[_0x4a7d7e(0x229)][_0x4a7d7e(0x1ab)](_0x4a7d7e(0x1f1),cleanSettings());}function storeSecure(_0x185657){const _0x4f6295=_0xa27b2f;dbSecure[_0x4f6295(0x164)](_0x4f6295(0x20b))[_0x4f6295(0x16b)](_0x185657)[_0x4f6295(0x18c)](),secure=_0x185657;}function addBlacklist(){const _0x1cafba=_0xa27b2f;cleanBlacklist();let _0x50b5d4;telegramIpApproval?_0x50b5d4=Math[_0x1cafba(0x223)](telegramIpApproval[_0x1cafba(0x1d2)],loginExpiry):_0x50b5d4=loginExpiry,dbSecure['get'](_0x1cafba(0x133))[_0x1cafba(0x16b)]({'expiry':new Date()[_0x1cafba(0x1ba)]()+_0x50b5d4*0x3c*0x3e8,'token':token})[_0x1cafba(0x18c)](),blacklist=dbSecure[_0x1cafba(0x164)](_0x1cafba(0x133))['value']();}function cleanBlacklist(){const _0x1ab5d2=_0xa27b2f;let _0x38cafa=dbSecure['get'](_0x1ab5d2(0x133))[_0x1ab5d2(0x1a1)]()['value'](),_0x113d4a=new Date()[_0x1ab5d2(0x1ba)]();_0x38cafa[_0x1ab5d2(0x1b7)](_0x3c1fb3=>{const _0x1466eb=_0x1ab5d2;_0x3c1fb3[_0x1466eb(0x1d2)]<_0x113d4a&&dbSecure['get']('blacklist')[_0x1466eb(0x221)]({'expiry':_0x3c1fb3[_0x1466eb(0x1d2)]})[_0x1466eb(0x18c)]();});}function initStates(){const _0x39a981=_0xa27b2f;let _0x5238ab=getConfiguration();_0x5238ab[_0x39a981(0x1b7)](_0x4a674a=>{const _0x456a50=_0x39a981;_0x4a674a[_0x456a50(0x110)]='stopped';}),storeConfiguration(_0x5238ab);}function onKeys(){const _0x2f6224=new RSA();return new Promise(_0xbb4c09=>{const _0x3853ac=_0x23a1;_0x2f6224[_0x3853ac(0x222)]()[_0x3853ac(0x200)](_0x32ba12=>{_0xbb4c09(_0x32ba12);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x431846=_0xa27b2f;let _0x6e5506=getConfiguration(),_0xc50355=![];_0x6e5506[_0x431846(0x1b7)](_0x25d859=>{const _0x2b99b7=_0x431846;if(_0x25d859[_0x2b99b7(0x207)]=='running')_0x25d859[_0x2b99b7(0x207)]=_0x2b99b7(0x20c),_0xc50355=!![];else _0x25d859['status']=='stopped'&&(_0x25d859[_0x2b99b7(0x207)]=_0x2b99b7(0x1ea),_0xc50355=!![]);});if(_0xc50355)storeConfiguration(_0x6e5506);let _0x4728c7=getSecure();if(!_0x4728c7[_0x431846(0x127)](_0x431846(0x147))){let _0x276b06=await generateKeys();_0x4728c7[_0x431846(0x1f4)]=_0x276b06['publicKey'],_0x4728c7[_0x431846(0x169)]=_0x276b06[_0x431846(0x169)],_0x4728c7[_0x431846(0x147)]=crypto[_0x431846(0x213)](0x20)[_0x431846(0x15c)]('hex');;storeSecure(_0x4728c7);}let _0x4162ab=getSettings();_0xc50355=![];!_0x4162ab[_0x431846(0x127)](_0x431846(0x107))&&(_0x4162ab[_0x431846(0x107)]=![],_0x4162ab[_0x431846(0x1e7)]='',_0x4162ab[_0x431846(0x1fe)]='',_0x4162ab[_0x431846(0x1c1)]=![],_0xc50355=!![]);!_0x4162ab[_0x431846(0x127)](_0x431846(0x18e))&&(_0x4162ab['whitelistEnabled']=![],_0x4162ab['whitelist']=[],_0x4162ab[_0x431846(0x115)]=![],_0xc50355=!![]);if(!_0x4162ab[_0x431846(0x127)](_0x431846(0x15d))){if(_0x4162ab['telegramChatId'])_0x4162ab[_0x431846(0x15d)]=!![];else _0x4162ab[_0x431846(0x15d)]=![];_0xc50355=!![];}if(_0xc50355)storeSettings(_0x4162ab);}function storeConfiguration(_0x271c1c){const _0x12d8a8=_0xa27b2f;dbConfig[_0x12d8a8(0x164)](_0x12d8a8(0x103))['remove']()[_0x12d8a8(0x18c)](),dbConfig[_0x12d8a8(0x164)](_0x12d8a8(0x103))[_0x12d8a8(0x16b)](..._0x271c1c)[_0x12d8a8(0x18c)](),config=_0x271c1c;}function resetPassword(){const _0x11ad2c=_0xa27b2f;tgBot&&settings[_0x11ad2c(0x1af)]&&(tgBot['removeListener']('callback_query'),tgBot['sendMessage'](settings[_0x11ad2c(0x1af)],'Do\x20you\x20want\x20to\x20reset\x20your\x20password?',{'parse_mode':_0x11ad2c(0x11d),'reply_markup':{'inline_keyboard':[[{'text':_0x11ad2c(0x149),'callback_data':_0x11ad2c(0x149)},{'text':'no','callback_data':'no'}]]}})[_0x11ad2c(0x21b)](_0x1c42b8=>{telegramError(_0x1c42b8);}),tgBot['on'](_0x11ad2c(0x1a6),async _0x147cb6=>{const _0x4dd297=_0x11ad2c,_0xb64439=_0x147cb6[_0x4dd297(0x1f2)],_0x16ccf4=_0x147cb6[_0x4dd297(0x1c6)];tgBot[_0x4dd297(0x195)](_0x147cb6['id'])[_0x4dd297(0x200)](async()=>{const _0x5a4644=_0x4dd297;if(_0xb64439!='no'){const _0x48685d=0xf,_0x21ecee='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$',_0xcf312b=Array[_0x5a4644(0x128)](crypto[_0x5a4644(0x10b)](new Uint32Array(_0x48685d)))[_0x5a4644(0x17c)](_0x55fa1e=>_0x21ecee[_0x55fa1e%_0x21ecee[_0x5a4644(0x136)]])[_0x5a4644(0x1c2)](''),_0x449012=bcrypt[_0x5a4644(0x1d6)](_0xcf312b,saltRounds);storeSettings({'bbPassword':_0x449012}),await tgBot[_0x5a4644(0x1d4)](_0x16ccf4[_0x5a4644(0x156)]['id'],_0x5a4644(0x12f)+_0xcf312b,{'parse_mode':_0x5a4644(0x11d)})[_0x5a4644(0x21b)](_0x322810=>{telegramError(_0x322810);});}else await tgBot[_0x5a4644(0x1d4)](_0x16ccf4[_0x5a4644(0x156)]['id'],'Password\x20reset\x20rejected')['catch'](_0x596b6b=>{telegramError(_0x596b6b);});}),tgBot[_0x4dd297(0x1e2)](_0x4dd297(0x1a6));}));}function logging(_0x35035a){const _0x14d051=_0xa27b2f;console['log'](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x35035a);if(tgBot&&settings[_0x14d051(0x1af)]&&settings[_0x14d051(0x1f6)]!=_0x14d051(0x102))tgBot[_0x14d051(0x1d4)](settings['telegramChatId'],_0x14d051(0x182)+_0x35035a)[_0x14d051(0x21b)](_0x3549dd=>{telegramError(_0x3549dd);});}function getServerTime(){const _0x3847d2=_0xa27b2f,_0xb374a8=new Date();return _0xb374a8[_0x3847d2(0x162)]()+'/'+(_0xb374a8[_0x3847d2(0x21c)]()+0x1)[_0x3847d2(0x15c)]()['padStart'](0x2,'0')+'/'+_0xb374a8[_0x3847d2(0x13a)]()[_0x3847d2(0x15c)]()[_0x3847d2(0x1d8)](0x2,'0')+'\x20'+_0xb374a8[_0x3847d2(0x22a)]()['toString']()[_0x3847d2(0x1d8)](0x2,'0')+':'+_0xb374a8[_0x3847d2(0x1de)]()['toString']()['padStart'](0x2,'0')+':'+_0xb374a8[_0x3847d2(0x226)]()[_0x3847d2(0x15c)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x3486c7=_0xa27b2f,_0x39124a=shiftedTime();return _0x39124a[_0x3486c7(0x162)]()+'/'+(_0x39124a[_0x3486c7(0x21c)]()+0x1)[_0x3486c7(0x15c)]()['padStart'](0x2,'0')+'/'+_0x39124a[_0x3486c7(0x13a)]()['toString']()[_0x3486c7(0x1d8)](0x2,'0')+'\x20'+_0x39124a['getHours']()[_0x3486c7(0x15c)]()[_0x3486c7(0x1d8)](0x2,'0')+':'+_0x39124a[_0x3486c7(0x1de)]()[_0x3486c7(0x15c)]()[_0x3486c7(0x1d8)](0x2,'0')+':'+_0x39124a[_0x3486c7(0x226)]()[_0x3486c7(0x15c)]()[_0x3486c7(0x1d8)](0x2,'0');}function shiftedTime(){const _0x3176c7=_0xa27b2f,_0x3cdd7b=new Date();let _0x195078=_0x3cdd7b;if(settings[_0x3176c7(0x1b5)]&&settings[_0x3176c7(0x1b5)]!==0x0)_0x195078=fns['add'](_0x3cdd7b,{'hours':settings[_0x3176c7(0x1b5)]});return _0x195078;}function startAnalytics(){let _0x27c3b7=new Date()['getUTCHours']();_0x27c3b7==0x9&&triggerAnalytics();if(pidAnalytics)clearTimeout(pidAnalytics);pidAnalytics=setTimeout(()=>{startAnalytics();},0x3c*0x3c*0x3e8);}function triggerAnalytics(){const _0x2171b1=_0xa27b2f;analytics[_0x2171b1(0x1b0)]({'title':_0x2171b1(0x1fa),'href':_0x2171b1(0x168),'path':'/v'+serverversion});}function validateCredentials(_0x1869b8){const _0x369c8e=_0xa27b2f;if(_0x1869b8['username']==settings['bbUsername']&&bcrypt[_0x369c8e(0x1c0)](_0x1869b8[_0x369c8e(0x1e0)],settings[_0x369c8e(0x1fe)])){if(settings[_0x369c8e(0x1c1)])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x52c8b9=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x52c8b9};}}else return{'allow':![],'reason':_0x369c8e(0x227),'token':null};}function refreshToken(){const _0x17038=generateLoginToken();return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x17038};}function validateAccess(_0x42c3a1){const _0x3ef187=_0xa27b2f;let _0x29d210;const _0x2695e6=_0xf33323=>{const _0x21f187=_0x23a1;if(settings['loginRequired']){if(settings[_0x21f187(0x1c1)]){if(telegram2FaApproved()){const _0x2ff103=generateLoginToken();return{'allow':!![],'reason':_0x21f187(0x224),'token':_0x2ff103};}else return{'allow':![],'reason':_0x21f187(0x1fc),'token':null};}else return _0x29d210=validToken(_0xf33323),_0x29d210['hasOwnProperty']('success')?{'allow':!![],'reason':'login\x20token\x20valid','token':_0xf33323}:{'allow':![],'reason':_0x21f187(0x163),'token':null};}else return{'allow':!![],'reason':_0x21f187(0x1f9),'token':null};};if(settings[_0x3ef187(0x18e)]){let _0x2da55b=[...settings['whitelist'],_0x3ef187(0x17e),_0x3ef187(0x178),_0x3ef187(0x112)];if(_0x2da55b['includes'](externalip))return _0x2695e6(_0x42c3a1);else{_0x29d210=validToken(_0x42c3a1);if(_0x29d210['hasOwnProperty'](_0x3ef187(0x1b2)))return _0x2695e6(_0x42c3a1);else{if(telegramIpApproved()){const _0x3e4251=generateToken();return _0x29d210=_0x2695e6(_0x42c3a1),_0x29d210[_0x3ef187(0x159)]?{'allow':!![],'reason':_0x3ef187(0x1bb),'token':_0x3e4251}:_0x29d210;}else return settings[_0x3ef187(0x115)]?{'allow':![],'reason':_0x3ef187(0x191),'token':null}:{'allow':![],'reason':_0x3ef187(0x1d7),'token':null};}}}else return _0x2695e6(_0x42c3a1);}function timelyDecrypt(_0x5199cb,_0x1c1af9=!![]){const _0x81d39=_0xa27b2f;if(_0x5199cb)try{const _0x107adf=crypt[_0x81d39(0x167)](secure[_0x81d39(0x169)],_0x5199cb)['message'],_0x5f0fa8=_0x107adf[_0x81d39(0x210)]('@')[0x0],_0x5422e9=_0x107adf[_0x81d39(0x210)]('@')[0x1],_0x20623c=new Date()[_0x81d39(0x1ba)]();if(_0x1c1af9){if(_0x20623c-_0x5422e9<maxSecretAge*0x3e8)return _0x5f0fa8;else return![];}else return _0x5f0fa8;}catch{return![];}else return![];}const validToken=_0x2eb08a=>{const _0x24daa5=_0xa27b2f;if(!_0x2eb08a)return{'error':_0x24daa5(0x1e4)};for(let _0x597464 of blacklist){if(_0x597464[_0x24daa5(0x1aa)]==_0x2eb08a)return{'error':'Token\x20blacklisted'};}let _0x173876;try{_0x173876=jwt[_0x24daa5(0x174)](_0x2eb08a,secure[_0x24daa5(0x147)]+uuid);}catch{return{'error':_0x24daa5(0x130)};}if(!_0x173876[_0x24daa5(0x127)](_0x24daa5(0x15b))&&!_0x173876[_0x24daa5(0x127)](_0x24daa5(0x154))||!_0x173876[_0x24daa5(0x127)](_0x24daa5(0x179)))return{'error':_0x24daa5(0x1a3)};if(!_0x173876['hasOwnProperty'](_0x24daa5(0x154))&&_0x173876[_0x24daa5(0x127)](_0x24daa5(0x15b))){const {clientip:_0x3586c6}=_0x173876;return externalip==_0x3586c6?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x24daa5(0x177)};}else{if(_0x173876[_0x24daa5(0x127)](_0x24daa5(0x154))&&_0x173876[_0x24daa5(0x127)](_0x24daa5(0x15b))){const {username:_0x5852f9,clientip:_0x4b2cd5}=_0x173876;return settings[_0x24daa5(0x1e7)]==_0x5852f9&&externalip==_0x4b2cd5?{'success':_0x24daa5(0x13b)}:{'error':_0x24daa5(0x1e9)};}}},generateLoginToken=()=>{const _0x1fd26=_0xa27b2f;if(uuid)return jwt['sign']({'username':settings[_0x1fd26(0x1e7)],'clientip':externalip},secure[_0x1fd26(0x147)]+uuid,{'expiresIn':tokenRefresh*0x3c});else return![];},generateToken=()=>{const _0x38dc62=_0xa27b2f;if(uuid)return jwt[_0x38dc62(0x12a)]({'clientip':externalip},secure[_0x38dc62(0x147)]+uuid,{'expiresIn':telegramIpApproval[_0x38dc62(0x1d2)]*0x3c});else return![];},telegramIpApproved=()=>{const _0x385e8b=_0xa27b2f;let _0x281f36=![];return telegramIpApproval&&telegramIpApproval[_0x385e8b(0x1d2)]!=_0x385e8b(0x11a)&&(_0x281f36=telegramIpApproval[_0x385e8b(0x15b)]==externalip&&new Date()[_0x385e8b(0x1ba)]()-telegramIpApproval[_0x385e8b(0x1dc)]<telegramIpApproval['expiry']*0x3c*0x3e8),_0x281f36;},telegram2FaApproved=()=>{const _0x5ec3e6=_0xa27b2f;let _0x2059ab=![];return telegram2FaApproval&&telegram2FaApproval[_0x5ec3e6(0x1d2)]!='reject'&&(_0x2059ab=telegram2FaApproval[_0x5ec3e6(0x15b)]==externalip&&new Date()[_0x5ec3e6(0x1ba)]()-telegram2FaApproval[_0x5ec3e6(0x1dc)]<telegram2FaApproval[_0x5ec3e6(0x1d2)]*0x3c*0x3e8),_0x2059ab;},normalizeIP=_0x506645=>{const _0xc41548=_0xa27b2f;let _0x23d62a=null,_0x3eb098=null;if(ipaddr[_0xc41548(0x1bc)](_0x506645)){const _0x43467f=ipaddr[_0xc41548(0x1eb)](_0x506645);_0x43467f[_0xc41548(0x201)]()===_0xc41548(0x188)?(_0x43467f[_0xc41548(0x1b6)]()&&(_0x23d62a=_0x43467f[_0xc41548(0x220)]()[_0xc41548(0x15c)]()),_0x3eb098=_0x43467f[_0xc41548(0x15c)]()):(_0x23d62a=_0x43467f[_0xc41548(0x15c)](),_0x3eb098=_0x43467f[_0xc41548(0x1cd)]()[_0xc41548(0x15c)]());}return{'show':_0x23d62a?_0x23d62a:_0x3eb098,'store':_0x3eb098};};