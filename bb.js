const _0x3ec3dd=_0x3391;(function(_0x3b3392,_0x1f586e){const _0x192951=_0x3391,_0x5aab38=_0x3b3392();while(!![]){try{const _0x3e6dc5=parseInt(_0x192951(0x221))/0x1+-parseInt(_0x192951(0x214))/0x2*(parseInt(_0x192951(0x1fa))/0x3)+-parseInt(_0x192951(0x1f3))/0x4+-parseInt(_0x192951(0x216))/0x5+-parseInt(_0x192951(0x20d))/0x6*(parseInt(_0x192951(0x1f6))/0x7)+parseInt(_0x192951(0x207))/0x8+parseInt(_0x192951(0x218))/0x9;if(_0x3e6dc5===_0x1f586e)break;else _0x5aab38['push'](_0x5aab38['shift']());}catch(_0x597946){_0x5aab38['push'](_0x5aab38['shift']());}}}(_0xf568,0x67a10));const _0x2df47b=function(){let _0x26bf04=!![];return function(_0x3fdd31,_0x569c4f){const _0x3be0c7=_0x26bf04?function(){const _0xf9ecf1=_0x3391;if(_0x569c4f){const _0x46eb10=_0x569c4f[_0xf9ecf1(0x210)](_0x3fdd31,arguments);return _0x569c4f=null,_0x46eb10;}}:function(){};return _0x26bf04=![],_0x3be0c7;};}(),_0x3f9f65=_0x2df47b(this,function(){const _0x2b920c=_0x3391;return _0x3f9f65['toString']()[_0x2b920c(0x20f)]('(((.+)+)+)+$')['toString']()[_0x2b920c(0x201)](_0x3f9f65)[_0x2b920c(0x20f)](_0x2b920c(0x202));});_0x3f9f65();const fs=require('fs'),argv=require(_0x3ec3dd(0x217))(process[_0x3ec3dd(0x1f4)]['slice'](0x2))[_0x3ec3dd(0x1f4)],childProcess=require('child_process'),nodeversion=process[_0x3ec3dd(0x213)][_0x3ec3dd(0x1f8)],minversion=0x10;nodeversion[_0x3ec3dd(0x1ff)]('.')[0x0]<minversion&&(console['log'](),console[_0x3ec3dd(0x1f5)](_0x3ec3dd(0x1fc)),console[_0x3ec3dd(0x1f5)](_0x3ec3dd(0x20a)+nodeversion+_0x3ec3dd(0x208)+minversion+_0x3ec3dd(0x209)),console['log']('Please\x20install\x20a\x20recent\x20version\x20of\x20Node.js\x20and\x20then\x20start\x20Balance\x20Bot\x20again'),console[_0x3ec3dd(0x1f5)]('-----------------------------------------------------------------------------------'),console[_0x3ec3dd(0x1f5)](),process[_0x3ec3dd(0x211)](0x1));if(argv[_0x3ec3dd(0x21b)]){const pattern=/^[0-9]{2,4}$/;!pattern[_0x3ec3dd(0x1fb)](argv[_0x3ec3dd(0x21b)])&&(console[_0x3ec3dd(0x1f5)]('Error:\x20Invalid\x20argument\x20'+argv['port']+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x3ec3dd(0x211)](0x1));}function _0x3391(_0x1f8053,_0x30b1fb){const _0x25a928=_0xf568();return _0x3391=function(_0x3f9f65,_0x2df47b){_0x3f9f65=_0x3f9f65-0x1f3;let _0xf5683b=_0x25a928[_0x3f9f65];return _0xf5683b;},_0x3391(_0x1f8053,_0x30b1fb);}let args=[];argv['port']&&(args[_0x3ec3dd(0x1f9)](_0x3ec3dd(0x1fe)),args[_0x3ec3dd(0x1f9)](argv[_0x3ec3dd(0x21b)]));argv[_0x3ec3dd(0x1fd)]&&(args[_0x3ec3dd(0x1f9)](_0x3ec3dd(0x223)),args[_0x3ec3dd(0x1f9)](argv[_0x3ec3dd(0x1fd)]));argv[_0x3ec3dd(0x222)]&&(args[_0x3ec3dd(0x1f9)](_0x3ec3dd(0x20c)),args[_0x3ec3dd(0x1f9)](argv['user']));const staging=argv['s']||![],debugging=argv['d']||![];debugging&&args[_0x3ec3dd(0x1f9)]('-d');let bmpath=_0x3ec3dd(0x21c);const bmfile='bm.js',updatefile=_0x3ec3dd(0x224);!fs[_0x3ec3dd(0x220)](bmpath+bmfile)&&(bmpath='');let pid1,pid2,updating=![],terminating=![];process['on'](_0x3ec3dd(0x211),async()=>{const _0x3e341d=_0x3ec3dd;stopBM(),await sleep(0x3e8),process[_0x3e341d(0x211)](0x0);}),process['on'](_0x3ec3dd(0x203),async()=>{const _0x5615d9=_0x3ec3dd;stopBM(),await sleep(0x3e8),process[_0x5615d9(0x211)](0x0);}),process['on'](_0x3ec3dd(0x204),async()=>{const _0xa80c6a=_0x3ec3dd;stopBM(),await sleep(0x3e8),process[_0xa80c6a(0x211)](0x0);}),startBM();function startBM(){const _0x3ada80=_0x3ec3dd;let _0x3d5c57=![];const _0x19b50a={'cwd':'','stdio':[_0x3ada80(0x219),'inherit',_0x3ada80(0x219),'ipc']};pid1=childProcess[_0x3ada80(0x225)](bmpath+bmfile,args,_0x19b50a),pid1['on'](_0x3ada80(0x215),_0x2d7d8c=>{const _0x285a90=_0x3ada80,_0x523654=Object['values'](_0x2d7d8c)[0x1]=='staging';switch(Object[_0x285a90(0x206)](_0x2d7d8c)[0x0]){case _0x285a90(0x1f7):if(_0x523654)startUpdate('2s');else startUpdate('2');break;case _0x285a90(0x20e):if(_0x523654)startUpdate('3s');else startUpdate('3');break;case _0x285a90(0x200):handleRestore();break;}}),pid1['on'](_0x3ada80(0x21a),function(_0x13a4e0){const _0x98acae=_0x3ada80;if(_0x3d5c57)return;_0x3d5c57=!![],logging(_0x98acae(0x21f),_0x13a4e0);}),pid1['on'](_0x3ada80(0x211),function(_0x5f0b3e){const _0x1278d4=_0x3ada80;if(terminating)return;if(updating)return;if(_0x3d5c57)return;_0x3d5c57=!![],console[_0x1278d4(0x1f5)](_0x1278d4(0x20b)),startBM();});}function stopBM(){const _0x43de30=_0x3ec3dd;terminating=!![];if(pid1)pid1[_0x43de30(0x21e)]();pid1=null;}function startUpdate(_0x28d39b){const _0x278f2c=_0x3ec3dd;updating=!![],stopBM();let _0x3942c1=![];const _0x59f823={'cwd':'','stdio':[_0x278f2c(0x219),'inherit','inherit',_0x278f2c(0x205)]};let _0x19d074=[];if(staging)_0x19d074[_0x278f2c(0x1f9)](_0x28d39b+'s');else _0x19d074[_0x278f2c(0x1f9)](_0x28d39b);pid2=childProcess[_0x278f2c(0x225)](updatefile,_0x19d074,_0x59f823),pid2['on']('error',function(_0x1052d7){const _0x1ad34c=_0x278f2c;updating=![];if(_0x3942c1)return;_0x3942c1=!![],logging(_0x1ad34c(0x21d),_0x1052d7);}),pid2['on']('exit',function(_0xb014d5){updating=![];if(_0x3942c1)return;_0x3942c1=!![],terminating=![],startBM();});}function _0xf568(){const _0x128ac4=['constructor','(((.+)+)+)+$','SIGTERM','SIGINT','ipc','keys','634896RYWEeK',',\x20but\x20version\x20','\x20or\x20above\x20is\x20required','The\x20installed\x20Node.js\x20version\x20is\x20','Automatically\x20restarting\x20BM','--user','657078syVmRw','reinstall','search','apply','exit','Balance\x20Bot\x20>\x20','versions','59966vQOVAO','message','3590425EHRuGb','yargs/yargs','19744533kdAOdh','inherit','error','port','bb/','Error\x20while\x20updating\x20Balance\x20Bot:','kill','Unexpected\x20error:','existsSync','206980awxxox','user','--host','install.js','fork','2993556DjtIFU','argv','log','7JCzpBp','update','node','push','48KziPWd','test','-----------------------------------------------------------------------------------','host','--port','split','restore'];_0xf568=function(){return _0x128ac4;};return _0xf568();}function handleRestore(){const _0xfad734=_0x3ec3dd;if(pid1)pid1[_0xfad734(0x21e)]();}function logging(_0x2af496){const _0x29094f=_0x3ec3dd;console[_0x29094f(0x1f5)](_0x29094f(0x212)+_0x2af496);}function sleep(_0x17b289){return new Promise(_0x32d41d=>setTimeout(_0x32d41d,_0x17b289));}