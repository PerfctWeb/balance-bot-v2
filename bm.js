const _0x5554ea=_0x26a7;(function(_0x6239c3,_0x2c495e){const _0x5e8165=_0x26a7,_0x1dee1e=_0x6239c3();while(!![]){try{const _0x591eff=parseInt(_0x5e8165(0x2c3))/0x1*(-parseInt(_0x5e8165(0x22a))/0x2)+parseInt(_0x5e8165(0x243))/0x3+-parseInt(_0x5e8165(0x32f))/0x4*(parseInt(_0x5e8165(0x21f))/0x5)+-parseInt(_0x5e8165(0x23d))/0x6+parseInt(_0x5e8165(0x2b5))/0x7*(-parseInt(_0x5e8165(0x288))/0x8)+-parseInt(_0x5e8165(0x30d))/0x9*(parseInt(_0x5e8165(0x2eb))/0xa)+-parseInt(_0x5e8165(0x274))/0xb*(-parseInt(_0x5e8165(0x2dd))/0xc);if(_0x591eff===_0x2c495e)break;else _0x1dee1e['push'](_0x1dee1e['shift']());}catch(_0x278ac2){_0x1dee1e['push'](_0x1dee1e['shift']());}}}(_0x331b,0xd7b89));const _0x25d49b=function(){let _0x1573a3=!![];return function(_0x4e235a,_0x5760ef){const _0x243912=_0x1573a3?function(){const _0x4fa09d=_0x26a7;if(_0x5760ef){const _0x7dc893=_0x5760ef[_0x4fa09d(0x2a1)](_0x4e235a,arguments);return _0x5760ef=null,_0x7dc893;}}:function(){};return _0x1573a3=![],_0x243912;};}(),_0x42daa9=_0x25d49b(this,function(){const _0x5ea2ad=_0x26a7;return _0x42daa9[_0x5ea2ad(0x295)]()['search'](_0x5ea2ad(0x259))[_0x5ea2ad(0x295)]()[_0x5ea2ad(0x321)](_0x42daa9)[_0x5ea2ad(0x1b7)](_0x5ea2ad(0x259));});_0x42daa9();'use strict';process[_0x5554ea(0x1c3)][_0x5554ea(0x207)]=0x1;const childProcess=require(_0x5554ea(0x228)),fs=require('fs'),fns=require('date-fns'),low=require(_0x5554ea(0x1f5)),FileSync=require(_0x5554ea(0x31a)),path=require(_0x5554ea(0x20e)),crypto=require('crypto'),Crypt=require(_0x5554ea(0x296))[_0x5554ea(0x1c6)],RSA=require('hybrid-crypto-js')[_0x5554ea(0x323)],bcrypt=require(_0x5554ea(0x2fe)),jwt=require(_0x5554ea(0x242)),ipaddr=require(_0x5554ea(0x2a3)),argv=require(_0x5554ea(0x1da))(process[_0x5554ea(0x2bf)][_0x5554ea(0x29a)](0x2))[_0x5554ea(0x2bf)],uuidRandom=require('uuid-random'),Mixpanel=require('mixpanel'),axios=require('axios'),{GraphQLClient,gql}=require('graphql-request'),PORT=argv[_0x5554ea(0x309)]||_0x5554ea(0x24f),pattern=/^[0-9]{2,4}$/;!pattern[_0x5554ea(0x1aa)](PORT)&&(console[_0x5554ea(0x219)](_0x5554ea(0x2d5)+PORT+_0x5554ea(0x200)),process['exit'](0x1));const HOST=argv['host']||null,userID=argv[_0x5554ea(0x292)]||'';let bbpath='bb/',bbpath2='';const botfile=_0x5554ea(0x2ce),configfile=_0x5554ea(0x2f8),settingsfile=_0x5554ea(0x217),securefile=_0x5554ea(0x1c9);let validInstallation=!![];!fs['existsSync'](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x5554ea(0x22c)),configpath=userID?bbpath+_0x5554ea(0x206)+userID+'/':bbpath+_0x5554ea(0x206),configbackuppath=configpath+_0x5554ea(0x268);!fs[_0x5554ea(0x327)](configpath)&&fs[_0x5554ea(0x2c2)](configpath);!fs[_0x5554ea(0x327)](configbackuppath)&&fs[_0x5554ea(0x2c2)](configbackuppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig['defaults']({'bots':[]})[_0x5554ea(0x237)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);function _0x331b(){const _0x254320=['Ok,\x20consider\x20updating\x20Balance\x20Bot\x20later','Unauthorized\x20attempt\x20to\x20update\x20bot','restart','function','Unauthorized\x20attempt\x20to\x20store\x20configuration','chat','204HejDJw','listen','toIPv4MappedAddress','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a','Allow\x20login\x20from\x20IP\x20address\x20<b>','deleteHistoryAlerts','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','telegramUsername','login\x20token\x20generated','secret','number','telegram','toggleBotMode','130jlMUyN','Unauthorized\x20attempt\x20to\x20get\x20messages','telegramToken','Bearer\x20eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U','toIPv4Address','Notifications\x20enabled','disconnect','Unauthorized\x20attempt\x20to\x20update\x20settings','disabled\x20Bot\x20','latestversion','bot','event','cancelLoading','bb-config.json','show','add','removeAllListeners','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','update-bot','bcryptjs','sign',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','new','once','get-starting-balances','connection','invalid\x20credentials','exec','toggle-bot-mode','match','port','settings','Unauthorized\x20attempt\x20to\x20confirm\x20message','\x20|\x20','440658ZaXKOt','sortBy','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','exp','\x20>\x20','For\x20which\x20bot\x20do\x20you\x20want\x20the\x20portfolio?','replace','whitelist','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','catch','decrypt','from','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','lowdb/adapters/FileSync','notification','/:bot/support','use','update-bb','pidExpireLogin','whitelistEnabled','constructor','alias','RSA','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','copyFileSync','User\x20has\x20been\x20validated','existsSync','temporary\x20token\x20generated','token','ipc','hasOwnProperty','*$1*','set','access\x20timeout','39540cEhkDE','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','/help\x20-\x20show\x20available\x20commands\x0a','lastmsgtelegram','then','test','type','bbUsername','socket.io','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','sendMessage','message','getStartingBalances','enabled','getHours','/disable\x20-\x20disable\x20notifications\x0a','order','telegrammsg','search','kill','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','auto','unlinkSync','manual','Bot\x20','Unauthorized\x20attempt\x20to\x20get\x20portfolio','headless','find','stopped','-events.json','env','value','reload','Crypt','hashSync','Notifications\x20enabled\x0a','bb-secure.json','confirm-message','updatebotmanager','username','sendFile','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','Notifications\x20types:\x20','startsWith','login\x20not\x20required','getTime','Alerts','deleted\x20Bot\x20','orders','Are\x20you\x20sure\x20you\x20want\x20to\x20update\x20Balance\x20Bot\x20now?','parse','min','/:bot/performance','yargs/yargs','allow','Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?','join','botID','Unauthorized\x20attempt\x20to\x20delete\x20bot','access','\x20mode','exit','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','encryptedUuid','entries','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','All','getMinutes','/portfolio\x20-\x20show\x20bot\x20portfolio\x0a','Your\x20installation\x20is\x20already\x20up\x20to\x20date','remoteAddress','started','Orders','expiry','30\x20min','callback_query','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','uuid','clientip','Ok,\x20will\x20send\x20alert\x20notifications\x20only','lowdb','map','polling_error','<b>Telegram\x20Bot\x20Status:</b>\x0a','emitHistory','5\x20min','/update\x20-\x20update\x20Balance\x20Bot\x0a','-results.json','keys','bbvReceive','Access\x20enabled\x20for\x20',',\x20must\x20be\x20a\x204\x20digit\x20number','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','-----------------------------------------------------------------------------------','temporaryAccessAllowed','messages','temporary\x20access\x20not\x20allowed','config/','NTBA_FIX_319','secure','Your\x20installation\x20does\x20not\x20support\x20updating\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20update','Password\x20has\x20been\x20reset\x20to:\x20','alerts','getUTCHours','delete-bot','path','\x20to\x20','store-headless','compareSync','emit','build2','lastmsgemitted','/on\x20-\x20start\x20bot(s)\x0a','referer','bb-settings.json','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bots\x20are\x20disabled\x20by\x20default\x20-\x20enable\x20those\x20you\x20want\x20to\x20run','log','connected','get-logs','All\x20bots','init','enabled\x20Bot\x20','295ROazrT','bbvNew','status','Login\x20accepted','Invalid\x20username\x20or\x20IP\x20address','404\x20Not\x20Found','temporary\x20access\x20timeout','title','f2aRequired','child_process','remove','5876hBnPgg','Unauthorized\x20attempt\x20to\x20log\x20out','clients','telegramIpApproval','logged\x20out','accept','Token\x20blacklisted','hex','SIGINT','disabled','telegramEnabled','botname','Yes','write','HTML','2FA\x20login\x20rejected','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','All\x20bots\x20running\x20right\x20now','Starting\x20Balance\x20Bot\x20update','1768092LzKyka','Bot\x20Mgr\x20>\x20','password','push','getMonth','jsonwebtoken','4780947OBwOTR','split','botmanager','defaults','forEach','inherit','privateKey','store-settings','settings.','cancel-loading','http','2FA\x20login\x20required','3000','kind','getFullYear','bbPassword','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','args','ipv6','Unauthorized\x20attempt\x20to\x20delete\x20alerts','live','api-eu.mixpanel.com','(((.+)+)+)+$','answerCallbackQuery','Notifications\x20disabled\x0a','blacklist','No\x20authentication\x20token','timeshift','Unauthorized\x20login\x20attempt\x20(timeout)','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','track','headers','isValid','get','readFileSync','logout','storeHeadless','backup/','assign','add-bot','/names\x20-\x20show\x20bot\x20names\x0a','length','name','login','/:bot/configuration','isDirectory','readdirSync','handshake','You\x20can\x20use\x20the\x20following\x20commands:\x0a','2023274qEPvhc','Bot\x20Mgr\x20>\x20toggling\x20Bot\x20','Unauthorized\x20attempt\x20to\x20add\x20bot','2FA','-config.json','index.html','-performance.json','isIPv4MappedAddress','reset-password','includes','sendPortfolioTelegram','server','reject',':\x20Bot\x20Mgr\x20>\x20','************','get-messages','getPortfolio','generateKeyPairAsync','randomBytes','data','3607976SKIHDJ','stop','yes','any','request','version.json','conn','2FA\x20login\x20token\x20generated','all','telegram2FaApproval','user','error\x20while\x20deleting\x20config\x20files:\x20','static','toString','hybrid-crypto-js','::ffff:127.0.0.1','https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master','Server','slice','get-portfolio','telegramEvents','storeConfiguration','mode','send','Invalid\x20authentication\x20token\x20(1)','apply','1000','ipaddr.js','error','removeListener','apiKey','telegramChatId','</b>\x20?','Invalid\x20IP\x20address','filter','padStart','bots','Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins','stringify','publicKey','build','/enable\x20-\x20enable\x20notifications\x0a','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','pidRefreshToken','timestamp','21aFlmFF','Notifications\x20disabled','getDate','Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot','/off\x20-\x20stop\x20bot(s)\x0a','new-disabled','onText','login\x20required','verify','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','argv','No\x20bots\x20running\x20right\x20now','15\x20min','mkdirSync','330OPZiHy','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','stopPolling','userid','sockets','reason','login\x20token\x20valid','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bot\x20is\x20disabled\x20by\x20default\x20-\x20enable\x20if\x20you\x20want\x20it\x20to\x20run','0.0.0','Invalid\x20Telegram\x20token','/:bot/history','bot.js','success','/:bot','Invalid\x20authentication\x20token\x20(2)','fork','getSeconds','RSA-OAEP','Error:\x20Invalid\x20argument\x20','bot-'];_0x331b=function(){return _0x254320;};return _0x331b();}dbSettings[_0x5554ea(0x246)]({'settings':{'timeshift':0x0,'loginRequired':![],'bbUsername':'','bbPassword':'','f2aRequired':![],'lastmsgtelegram':0x0,'lastmsgemitted':0x0,'latestversion':_0x5554ea(0x2cb)}})[_0x5554ea(0x237)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure['defaults']({'secure':{},'blacklist':[]})[_0x5554ea(0x237)]();let crypt=new Crypt({'md':'sha256','rsaStandard':_0x5554ea(0x2d4)});const saltRounds=0xa,mixpanel=Mixpanel[_0x5554ea(0x21d)]('6b67f3d61ee94b8f5c80b4affef4c4d9',{'host':_0x5554ea(0x258)});let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),restoredConfigFile=0x0,newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x5554ea(0x28d))['version'],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![],publicip,newMessages=[],updateAvailable=![];const express=require('express'),app=express(),http=require(_0x5554ea(0x24d))['createServer'](app);app[_0x5554ea(0x31d)](express[_0x5554ea(0x294)](path[_0x5554ea(0x1dd)](__dirname,bbpath2,_0x5554ea(0x213)))),app['use'](express['static'](path[_0x5554ea(0x1dd)](__dirname,bbpath2,_0x5554ea(0x2b0)))),app['get']('/',function(_0x2625b7,_0x1cd152){const _0x167020=_0x5554ea;_0x1cd152['sendFile'](path[_0x167020(0x1dd)](__dirname,bbpath2,_0x167020(0x213),_0x167020(0x279)));}),app[_0x5554ea(0x264)](_0x5554ea(0x2d0),function(_0x2b13ac,_0x516abb){const _0x78bac9=_0x5554ea;_0x516abb[_0x78bac9(0x1cd)](path[_0x78bac9(0x1dd)](__dirname,bbpath2,_0x78bac9(0x2b0),_0x78bac9(0x279)));}),app['get']('/:bot/portfolio',(_0x34e0e2,_0x25a066)=>{const _0x546d3b=_0x5554ea;_0x25a066['sendFile'](path[_0x546d3b(0x1dd)](__dirname,bbpath2,_0x546d3b(0x2b0),_0x546d3b(0x279)));}),app[_0x5554ea(0x264)](_0x5554ea(0x1d9),(_0x5def6c,_0x15efa4)=>{const _0xfadf22=_0x5554ea;_0x15efa4['sendFile'](path[_0xfadf22(0x1dd)](__dirname,bbpath2,_0xfadf22(0x2b0),_0xfadf22(0x279)));}),app[_0x5554ea(0x264)]('/:bot/coins',(_0x1b16ba,_0x414799)=>{const _0xb40a3b=_0x5554ea;_0x414799[_0xb40a3b(0x1cd)](path[_0xb40a3b(0x1dd)](__dirname,bbpath2,_0xb40a3b(0x2b0),_0xb40a3b(0x279)));}),app[_0x5554ea(0x264)](_0x5554ea(0x2cd),(_0x1ff113,_0x2cdffd)=>{const _0x122e9b=_0x5554ea;_0x2cdffd[_0x122e9b(0x1cd)](path[_0x122e9b(0x1dd)](__dirname,bbpath2,_0x122e9b(0x2b0),_0x122e9b(0x279)));}),app[_0x5554ea(0x264)](_0x5554ea(0x26f),(_0x455a46,_0x21b111)=>{const _0x28e256=_0x5554ea;_0x21b111[_0x28e256(0x1cd)](path[_0x28e256(0x1dd)](__dirname,bbpath2,_0x28e256(0x2b0),_0x28e256(0x279)));}),app[_0x5554ea(0x264)](_0x5554ea(0x31c),(_0xed74e6,_0x2e5425)=>{const _0x2e8b50=_0x5554ea;_0x2e5425[_0x2e8b50(0x1cd)](path[_0x2e8b50(0x1dd)](__dirname,bbpath2,_0x2e8b50(0x2b0),_0x2e8b50(0x279)));});if(HOST)http[_0x5554ea(0x2de)](PORT,HOST);else http[_0x5554ea(0x2de)](PORT);const io=require(_0x5554ea(0x1ad))(http,{}),TelegramBot=require('node-telegram-bot-api');let tgBot;if(settings[_0x5554ea(0x2ed)]&&settings[_0x5554ea(0x2ed)]!=''&&settings[_0x5554ea(0x2e5)]&&settings[_0x5554ea(0x2e5)]!='')initTelegram();init();async function init(){await validateConfigFile(),await initUser(),await initSecure(),oneTimeMigration(),cleanBlacklist(),initStates(),await startServer();if(restoredConfigFile)restoreConfigNotify(![]);startSocket(),startScheduler(),triggerAnalytics(),getMessages();}async function startServer(){const _0x82717b=_0x5554ea;console[_0x82717b(0x219)](''),console['log']('-----------------------------------------------------------------------------------'),await logging(_0x82717b(0x2fc)+PORT),console[_0x82717b(0x219)](_0x82717b(0x202));if(config[_0x82717b(0x26c)]!=0x0)for(const _0x4ffc4e of config){if(_0x4ffc4e['status']==_0x82717b(0x1b2)||_0x4ffc4e[_0x82717b(0x221)]==_0x82717b(0x301))await logging('starting\x20bot\x20|\x20Bot\x20'+_0x4ffc4e[_0x82717b(0x1de)]+_0x82717b(0x30c)+_0x4ffc4e[_0x82717b(0x235)]),startBot([_0x4ffc4e[_0x82717b(0x1de)],userID],{'cwd':bbpath},function(_0x594f92){if(_0x594f92)logging(_0x594f92);});else(_0x4ffc4e[_0x82717b(0x221)]=='disabled'||_0x4ffc4e['status']==_0x82717b(0x2ba))&&await logging('idling\x20bot\x20\x20\x20|\x20Bot\x20'+_0x4ffc4e['botID']+_0x82717b(0x30c)+_0x4ffc4e[_0x82717b(0x235)]);}else!newBot&&console[_0x82717b(0x219)](_0x82717b(0x2b2));if(newBot)addBot();console[_0x82717b(0x219)](_0x82717b(0x202)),console[_0x82717b(0x219)]('');}function startSocket(){const _0x50fa92=_0x5554ea;io['on'](_0x50fa92(0x304),_0x5007ec=>{const _0x1edae5=_0x50fa92;let _0x4bc3b5,_0x19db3b,_0x5360c9,_0x226fc2,_0x38727f;const _0xcb104b=_0x5007ec[_0x1edae5(0x272)][_0x1edae5(0x262)][_0x1edae5(0x216)];_0x19db3b=_0xcb104b['match'](/bot[0-9]{3}/);if(_0x19db3b)_0x5360c9=_0x19db3b[0x0][_0x1edae5(0x308)](/[0-9]{3}/);if(_0x5360c9)_0x4bc3b5=_0x5360c9[0x0];else _0x4bc3b5=_0x1edae5(0x245);const _0x465e3b=_0x5007ec['handshake']['auth'][_0x1edae5(0x1e4)];if(!_0x465e3b)_0x5007ec[_0x1edae5(0x212)]('status',{'publicKey':secure[_0x1edae5(0x2af)]});else{_0x226fc2=timelyDecrypt(_0x465e3b,![]);if(!_0x226fc2)_0x5007ec['emit'](_0x1edae5(0x221),{'publicKey':secure[_0x1edae5(0x2af)]});else{_0x38727f=normalizeIP(_0x5007ec[_0x1edae5(0x28e)][_0x1edae5(0x1eb)])['store'];if(!devices[_0x226fc2])devices[_0x226fc2]={'uuid':_0x226fc2,'access':{'token':null}};devices[_0x226fc2]['ip']=_0x38727f;const _0x3cb77a=addClient(_0x5007ec['id'],_0x226fc2,_0x4bc3b5);setAccess(_0x3cb77a),emitMessages(),_0x5007ec['on'](_0x1edae5(0x26e),_0x5d26af=>{const _0xa4224d=_0x1edae5,_0x70b7c3=timelyDecrypt(_0x5d26af[_0xa4224d(0x23f)]);if(_0x70b7c3){_0x5d26af={'username':_0x5d26af['username'],'password':_0x70b7c3},devices[_0x226fc2][_0xa4224d(0x1e0)]=validateCredentials(_0x5d26af,_0x226fc2);if(devices[_0x226fc2][_0xa4224d(0x1e0)][_0xa4224d(0x1db)]==![]&&devices[_0x226fc2][_0xa4224d(0x1e0)][_0xa4224d(0x2c8)]==_0xa4224d(0x24e))_0x5007ec[_0xa4224d(0x212)](_0xa4224d(0x221),{'access':devices[_0x226fc2][_0xa4224d(0x1e0)]}),loginAccess2FA(_0x226fc2,_0x38727f);else{if(devices[_0x226fc2][_0xa4224d(0x1e0)][_0xa4224d(0x1db)]==![]&&devices[_0x226fc2][_0xa4224d(0x1e0)][_0xa4224d(0x2c8)]=='invalid\x20credentials')_0x5007ec[_0xa4224d(0x212)](_0xa4224d(0x221),{'access':devices[_0x226fc2][_0xa4224d(0x1e0)]});else devices[_0x226fc2][_0xa4224d(0x1e0)]['allow']&&devices[_0x226fc2][_0xa4224d(0x1e0)][_0xa4224d(0x2c8)]==_0xa4224d(0x2e6)&&(getClientsWithUuid(_0x226fc2)['forEach'](_0x3a3dd4=>{setAccess(_0x3a3dd4);}),setTokenRefresh(_0x226fc2),setSessionTimeout(_0xa4224d(0x26e),_0x226fc2));}}else logging(_0xa4224d(0x25f));}),_0x5007ec['on'](_0x1edae5(0x27c),()=>{resetPassword();}),_0x5007ec['on'](_0x1edae5(0x2f1),_0xade48a=>{removeClient(_0x5007ec['id']);}),_0x4bc3b5==_0x1edae5(0x245)&&(restoredConfigFile&&(restoreConfigNotify(!![]),restoredConfigFile=0x0));}}});}function initClient(_0x768a0a){const _0xb1a097=_0x5554ea;if(_0x768a0a!=_0xb1a097(0x245)&&config[_0xb1a097(0x2a6)]!=''){if(pid[_0x768a0a])pid[_0x768a0a][_0xb1a097(0x29f)]({'function':'initclient','args':null});}}function getSocket(_0x2fab3a){const _0x19d89d=_0x5554ea;return io[_0x19d89d(0x2c7)][_0x19d89d(0x2c7)][_0x19d89d(0x264)](_0x2fab3a);}function setAccess(_0x56c1da){const _0x30fd51=_0x5554ea,_0x1bd205=getSocket(_0x56c1da['id']),_0x15aa06=_0x56c1da[_0x30fd51(0x1f2)],_0x3ed13d=_0x56c1da[_0x30fd51(0x2f5)];devices[_0x15aa06][_0x30fd51(0x1e0)]=validateAccess(devices[_0x15aa06][_0x30fd51(0x1e0)][_0x30fd51(0x329)],_0x15aa06),_0x1bd205[_0x30fd51(0x1dd)](_0x15aa06);if(devices[_0x15aa06][_0x30fd51(0x1e0)][_0x30fd51(0x1db)]){_0x1bd205['join'](_0x3ed13d);if(_0x3ed13d==_0x30fd51(0x245))initializeSocketBotManager(_0x1bd205);else initializeSocketBot(_0x1bd205);initClient(_0x3ed13d);}devices[_0x15aa06][_0x30fd51(0x1e0)][_0x30fd51(0x329)]&&devices[_0x15aa06]['access'][_0x30fd51(0x2c8)]=='temporary\x20token\x20generated'&&setSessionTimeout(_0x30fd51(0x277),_0x15aa06),devices[_0x15aa06]['access'][_0x30fd51(0x329)]&&devices[_0x15aa06][_0x30fd51(0x1e0)][_0x30fd51(0x2c8)]==_0x30fd51(0x28f)&&setSessionTimeout(_0x30fd51(0x26e),_0x15aa06),_0x1bd205[_0x30fd51(0x212)](_0x30fd51(0x221),{'status':_0x56c1da[_0x30fd51(0x27f)],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x15aa06][_0x30fd51(0x1e0)],'externalip':devices[_0x15aa06]['ip'],'publicKey':secure[_0x30fd51(0x2af)],'userid':settings[_0x30fd51(0x2c6)],'validInstallation':validInstallation}),devices[_0x15aa06][_0x30fd51(0x1e0)]['allow']==![]&&devices[_0x15aa06][_0x30fd51(0x1e0)][_0x30fd51(0x2c8)]=='2FA\x20required'&&temporaryAccess2FA(_0x15aa06,devices[_0x15aa06]['ip']);}function setSessionTimeout(_0x40f2f6,_0x3cc58d){const _0x468452=_0x5554ea;let _0x5ba931;if(_0x40f2f6==_0x468452(0x26e))_0x5ba931=loginExpiry*0x3c*0x3e8;else _0x5ba931=devices[_0x3cc58d][_0x468452(0x22d)]['expiry']*0x3c*0x3e8-(new Date()[_0x468452(0x1d2)]()-devices[_0x3cc58d][_0x468452(0x22d)][_0x468452(0x2b4)]);if(devices[_0x3cc58d][_0x468452(0x31f)])clearTimeout(devices[_0x3cc58d][_0x468452(0x31f)]);devices[_0x3cc58d][_0x468452(0x31f)]=setTimeout(()=>{const _0x513bfc=_0x468452;if(devices[_0x3cc58d][_0x513bfc(0x2b3)])clearTimeout(devices[_0x3cc58d][_0x513bfc(0x2b3)]);removeSocketListeners(_0x3cc58d),addBlacklist(_0x3cc58d),devices[_0x3cc58d][_0x513bfc(0x22d)]=null,devices[_0x3cc58d]['telegram2FaApproval']=null,devices[_0x3cc58d]['access'][_0x513bfc(0x329)]=null,devices[_0x3cc58d][_0x513bfc(0x1e0)]=validateAccess(devices[_0x3cc58d]['access']['token'],_0x3cc58d),!(devices[_0x3cc58d][_0x513bfc(0x1e0)]['allow']&&devices[_0x3cc58d][_0x513bfc(0x1e0)]['reason']==_0x513bfc(0x1d1))&&(_0x40f2f6==_0x513bfc(0x26e)?io['to'](_0x3cc58d)['emit']('status',{'access':{'allow':![],'reason':_0x513bfc(0x32e),'token':null}}):io['to'](_0x3cc58d)['emit'](_0x513bfc(0x221),{'access':{'allow':![],'reason':_0x513bfc(0x225),'token':null}})),devices[_0x3cc58d][_0x513bfc(0x1e0)]['token']=null;},_0x5ba931);}function setTokenRefresh(_0x4f4691){const _0x119b9a=_0x5554ea;if(devices[_0x4f4691][_0x119b9a(0x2b3)])clearTimeout(devices[_0x4f4691][_0x119b9a(0x2b3)]);devices[_0x4f4691][_0x119b9a(0x2b3)]=setTimeout(()=>{const _0x562b26=_0x119b9a;getClientsWithUuid(_0x4f4691)[_0x562b26(0x26c)]!=0x0?(devices[_0x4f4691][_0x562b26(0x1e0)]=refreshToken(_0x4f4691),io['to'](_0x4f4691)[_0x562b26(0x212)](_0x562b26(0x221),{'status':_0x562b26(0x21a),'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x4f4691][_0x562b26(0x1e0)],'externalip':devices[_0x4f4691]['ip'],'publicKey':secure[_0x562b26(0x2af)],'validInstallation':validInstallation}),setTokenRefresh(_0x4f4691)):clearTimeout(devices[_0x4f4691][_0x562b26(0x2b3)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0xe947d1){const _0x576ab0=_0x5554ea,_0x5bc401=getClient(_0xe947d1['id'])[_0x576ab0(0x1f2)];_0xe947d1['emit'](_0x576ab0(0x2ac),config),_0xe947d1['emit'](_0x576ab0(0x30a),cleanSettings()),_0xe947d1['on'](_0x576ab0(0x26a),_0x5f1352=>{const _0x571ec4=_0x576ab0;if(validateAccess(_0x5f1352,_0x5bc401)[_0x571ec4(0x1db)])addBot();else logging(_0x571ec4(0x276));}),_0xe947d1['on'](_0x576ab0(0x2fd),(_0x377720,_0x4b5da0)=>{const _0x2eed4d=_0x576ab0;if(validateAccess(_0x4b5da0,_0x5bc401)[_0x2eed4d(0x1db)])toggleBot(_0x377720[_0x2eed4d(0x1de)],_0x377720[_0x2eed4d(0x221)],_0x377720['live']);else logging(_0x2eed4d(0x2d8));}),_0xe947d1['on'](_0x576ab0(0x307),(_0x2a1e77,_0x3c8e62)=>{const _0x5c4bda=_0x576ab0;if(validateAccess(_0x3c8e62,_0x5bc401)[_0x5c4bda(0x1db)])toggleBotMode(_0x2a1e77);else logging(_0x5c4bda(0x2d8));}),_0xe947d1['on'](_0x576ab0(0x20d),(_0x2aa9fd,_0x36c8bb)=>{const _0x9ea1c6=_0x576ab0;if(validateAccess(_0x36c8bb,_0x5bc401)['allow'])deleteBot(_0x2aa9fd);else logging(_0x9ea1c6(0x1df));}),_0xe947d1['on'](_0x576ab0(0x24a),(_0x3c9ee6,_0x23c513)=>{const _0x5ceddb=_0x576ab0;if(validateAccess(_0x23c513,_0x5bc401)['allow'])storeSettings(_0x3c9ee6,!![]);else logging(_0x5ceddb(0x2f2));}),_0xe947d1['on'](_0x576ab0(0x31e),_0x414f45=>{const _0x246173=_0x576ab0;if(validateAccess(_0x414f45,_0x5bc401)[_0x246173(0x1db)])updateBB();else logging(_0x246173(0x2b8));}),_0xe947d1['on']('get-messages',_0x240164=>{const _0x5a8de6=_0x576ab0;if(validateAccess(_0x240164,_0x5bc401)[_0x5a8de6(0x1db)])getMessages();else logging(_0x5a8de6(0x2ec));}),_0xe947d1['on'](_0x576ab0(0x1ca),(_0x159c58,_0x34317b)=>{const _0x28ca95=_0x576ab0;if(validateAccess(_0x34317b,_0x5bc401)[_0x28ca95(0x1db)])confirmMessage(_0x159c58);else logging(_0x28ca95(0x30b));}),_0xe947d1['on'](_0x576ab0(0x266),_0x3fcf44=>{const _0x17854d=_0x576ab0;if(validateAccess(_0x3fcf44,_0x5bc401)['allow']){if(devices[_0x5bc401][_0x17854d(0x2b3)])clearTimeout(devices[_0x5bc401]['pidRefreshToken']);if(devices[_0x5bc401][_0x17854d(0x31f)])clearTimeout(devices[_0x5bc401][_0x17854d(0x31f)]);removeSocketListeners(getClient(_0xe947d1['id'])['uuid']),addBlacklist(_0x5bc401),devices[_0x5bc401][_0x17854d(0x22d)]=null,devices[_0x5bc401][_0x17854d(0x291)]=null,devices[_0x5bc401][_0x17854d(0x1e0)][_0x17854d(0x329)]=null,io['to'](getClient(_0xe947d1['id'])[_0x17854d(0x1f2)])[_0x17854d(0x212)]('status',{'access':{'allow':![],'reason':_0x17854d(0x22e),'token':null}});}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function initializeSocketBot(_0x3b163e){const _0x5e01ca=_0x5554ea,_0x1e0bb9=getClient(_0x3b163e['id'])[_0x5e01ca(0x2f5)],_0xd89f22=getClient(_0x3b163e['id'])[_0x5e01ca(0x1f2)];_0x3b163e['on'](_0x5e01ca(0x21b),(_0x524cf3,_0x1a2ad1)=>{const _0x1f28fd=_0x5e01ca;if(validateAccess(_0x1a2ad1,_0xd89f22)[_0x1f28fd(0x1db)]){if(pid[_0x1e0bb9])pid[_0x1e0bb9][_0x1f28fd(0x29f)]({'function':_0x1f28fd(0x1f9),'args':_0x524cf3});}else logging('Unauthorized\x20attempt\x20to\x20get\x20logs');}),_0x3b163e['on']('delete-alerts',(_0x237a92,_0x1d5f77)=>{const _0x2805cc=_0x5e01ca;if(validateAccess(_0x1d5f77,_0xd89f22)[_0x2805cc(0x1db)]){if(pid[_0x1e0bb9])pid[_0x1e0bb9][_0x2805cc(0x29f)]({'function':_0x2805cc(0x2e3),'args':_0x237a92});}else logging(_0x2805cc(0x256));}),_0x3b163e['on'](_0x5e01ca(0x29b),(_0x548441,_0x4d73ef)=>{const _0x2b0ade=_0x5e01ca;if(validateAccess(_0x4d73ef,_0xd89f22)[_0x2b0ade(0x1db)]){if(pid[_0x1e0bb9])pid[_0x1e0bb9][_0x2b0ade(0x29f)]({'function':_0x2b0ade(0x284),'args':_0x548441});}else logging(_0x2b0ade(0x1be));}),_0x3b163e['on']('store-configuration',(_0x136010,_0x5d9fd2)=>{const _0x20d7f4=_0x5e01ca;if(validateAccess(_0x5d9fd2,_0xd89f22)[_0x20d7f4(0x1db)]){if(pid[_0x1e0bb9])pid[_0x1e0bb9][_0x20d7f4(0x29f)]({'function':_0x20d7f4(0x29d),'args':_0x136010});}else logging(_0x20d7f4(0x2db));}),_0x3b163e['on'](_0x5e01ca(0x210),(_0x340002,_0x54fd64)=>{const _0x15a17a=_0x5e01ca;if(validateAccess(_0x54fd64,_0xd89f22)[_0x15a17a(0x1db)]){if(pid[_0x1e0bb9])pid[_0x1e0bb9][_0x15a17a(0x29f)]({'function':_0x15a17a(0x267),'args':_0x340002});}else logging(_0x15a17a(0x30f));}),_0x3b163e['on'](_0x5e01ca(0x303),_0x4708d0=>{const _0x5c59c2=_0x5e01ca;if(validateAccess(_0x4708d0,_0xd89f22)[_0x5c59c2(0x1db)]){if(pid[_0x1e0bb9])pid[_0x1e0bb9][_0x5c59c2(0x29f)]({'function':_0x5c59c2(0x1b1),'args':null});}else logging(_0x5c59c2(0x324));}),_0x3b163e['on']('place-order',(_0x1dc45c,_0x463df0)=>{const _0x13ee14=_0x5e01ca;if(validateAccess(_0x463df0,_0xd89f22)['allow']){if(pid[_0x1e0bb9])pid[_0x1e0bb9][_0x13ee14(0x29f)]({'function':'placeOrder','args':_0x1dc45c});}else logging(_0x13ee14(0x2e0));}),_0x3b163e['on'](_0x5e01ca(0x24c),_0x5af4b3=>{const _0x1f89b8=_0x5e01ca;if(validateAccess(_0x5af4b3,_0xd89f22)['allow']){if(pid[_0x1e0bb9])pid[_0x1e0bb9]['send']({'function':_0x1f89b8(0x2f7),'args':null});}else logging(_0x1f89b8(0x2ad));}),_0x3b163e['on'](_0x5e01ca(0x31e),_0x16ec7e=>{const _0x35e8af=_0x5e01ca;if(validateAccess(_0x16ec7e,_0xd89f22)[_0x35e8af(0x1db)])updateBB();else logging(_0x35e8af(0x2b8));}),_0x3b163e['on'](_0x5e01ca(0x283),_0x263b6d=>{const _0x276a5f=_0x5e01ca;if(validateAccess(_0x263b6d,_0xd89f22)[_0x276a5f(0x1db)])getMessages();else logging(_0x276a5f(0x2ec));}),_0x3b163e['on'](_0x5e01ca(0x1ca),(_0x353cec,_0x180294)=>{const _0x35b47b=_0x5e01ca;if(validateAccess(_0x180294,_0xd89f22)[_0x35b47b(0x1db)])confirmMessage(_0x353cec);else logging(_0x35b47b(0x30b));}),_0x3b163e['on'](_0x5e01ca(0x266),_0x1d0801=>{const _0x46b8b2=_0x5e01ca;if(validateAccess(_0x1d0801,_0xd89f22)[_0x46b8b2(0x1db)]){if(devices[_0xd89f22][_0x46b8b2(0x2b3)])clearTimeout(devices[_0xd89f22][_0x46b8b2(0x2b3)]);if(devices[_0xd89f22]['pidExpireLogin'])clearTimeout(devices[_0xd89f22][_0x46b8b2(0x31f)]);removeSocketListeners(getClient(_0x3b163e['id'])['uuid']),addBlacklist(_0xd89f22),devices[_0xd89f22]['telegramIpApproval']=null,devices[_0xd89f22][_0x46b8b2(0x291)]=null,devices[_0xd89f22][_0x46b8b2(0x1e0)][_0x46b8b2(0x329)]=null,io['to'](getClient(_0x3b163e['id'])[_0x46b8b2(0x1f2)])['emit']('status',{'access':{'allow':![],'reason':_0x46b8b2(0x22e),'token':null}});}else logging(_0x46b8b2(0x22b));});}function removeSocketListeners(_0xbc3068){const _0x4b5074=_0x5554ea;getClientsWithUuid(_0xbc3068)[_0x4b5074(0x247)](_0x152c27=>{const _0x561df6=_0x4b5074;getSocket(_0x152c27['id'])[_0x561df6(0x2fb)]();});}function cleanSettings(){const _0x513c87=_0x5554ea;let _0x2ce8f1=settings;return settings[_0x513c87(0x2ed)]&&settings[_0x513c87(0x2ed)]!=''&&(_0x2ce8f1={..._0x2ce8f1,'telegramToken':_0x513c87(0x282)}),settings[_0x513c87(0x252)]&&settings[_0x513c87(0x252)]!=''&&(_0x2ce8f1={..._0x2ce8f1,'bbPassword':_0x513c87(0x282)}),_0x2ce8f1;}function updateBB(){const _0x5caed2=_0x5554ea;installingUpdate=!![],config['forEach'](_0x3c2998=>{const _0x54dbd6=_0x26a7;restartBot(_0x3c2998[_0x54dbd6(0x1de)]);}),process[_0x5caed2(0x29f)]({'update':!![]},_0x3938a4=>{});}function startBot(_0x422641,_0x125e39,_0x1b2f6){const _0x332b92=_0x5554ea;let _0xb9a9f=![];const _0x437284=_0x422641[0x0];_0x125e39={..._0x125e39,'stdio':['inherit',_0x332b92(0x248),_0x332b92(0x248),_0x332b92(0x32a)]},pid[_0x437284]=childProcess[_0x332b92(0x2d2)](botfile,_0x422641,_0x125e39),pid[_0x437284]['on']('message',_0x41d3a8=>{const _0x23d7e3=_0x332b92;switch(Object[_0x23d7e3(0x1fd)](_0x41d3a8)[0x0]){case _0x23d7e3(0x235):updateBotName(_0x437284,_0x41d3a8['botname']);break;case _0x23d7e3(0x1cb):updateBotManager();break;case'status':updateStatus(_0x437284,_0x41d3a8['status']);break;case _0x23d7e3(0x257):updateLive(_0x437284,_0x41d3a8['live']);break;case _0x23d7e3(0x1ec):updateLive(_0x437284,_0x41d3a8[_0x23d7e3(0x1ec)]),io['to'](_0x437284)[_0x23d7e3(0x212)]('status',{'access':{'allow':![],'reason':'reload','token':null}});break;case'stop':_0x41d3a8['stop']==_0x23d7e3(0x2d9)&&restartBot(_0x437284);_0x41d3a8[_0x23d7e3(0x289)]==_0x23d7e3(0x1b8)&&toggleBot(_0x437284,'disabled',_0x23d7e3(0x1c1));break;case'telegram':sendTelegram(_0x437284,_0x41d3a8[_0x23d7e3(0x2e9)]);break;case _0x23d7e3(0x1b6):sendTelegramMsg(_0x41d3a8['telegrammsg']);break;case _0x23d7e3(0x2da):io['to'](_0x437284)[_0x23d7e3(0x212)](_0x41d3a8[_0x23d7e3(0x2da)],_0x41d3a8[_0x23d7e3(0x254)]);break;}}),pid[_0x437284]['on'](_0x332b92(0x2a4),function(_0x529a2c){if(_0xb9a9f)return;_0xb9a9f=!![],_0x1b2f6(_0x529a2c);}),pid[_0x437284]['on']('exit',async function(_0x494aa4){const _0x4c811a=_0x332b92;if(installingUpdate)return;if(_0xb9a9f)return;_0xb9a9f=!![],_0x1b2f6(null);const _0x1f4673=dbConfig[_0x4c811a(0x264)](_0x4c811a(0x2ac))['find']({'botID':_0x437284})[_0x4c811a(0x1c4)]();_0x1f4673&&(_0x1f4673[_0x4c811a(0x221)]==_0x4c811a(0x1b2)||_0x1f4673[_0x4c811a(0x221)]==_0x4c811a(0x301))&&(await sleep(0x3e8),updateLive(_0x437284,_0x4c811a(0x1c1)),logging('restarting\x20Bot\x20'+_0x437284),startBot([_0x437284,userID],{'cwd':bbpath},function(_0x57888a){if(_0x57888a)logging(_0x57888a);}));});}function stopBot(_0x1d6701){const _0x33a39c=_0x5554ea;getClientsWithBotID(_0x1d6701)[_0x33a39c(0x247)](_0x55fbf6=>{const _0x282161=_0x33a39c;getSocket(_0x55fbf6['id'])[_0x282161(0x2f1)](!![]),removeClient(_0x55fbf6['id']);}),pid[_0x1d6701]&&(pid[_0x1d6701][_0x33a39c(0x1b8)](),pid[_0x1d6701]=null);}function restartBot(_0x51cfba){if(pid[_0x51cfba])pid[_0x51cfba]['kill']();}function addBot(){const _0x4cda88=_0x5554ea;let _0x4413de;for(let _0x2f78f9=0x1;_0x2f78f9<0x3e9;_0x2f78f9++){_0x4413de=_0x2f78f9[_0x4cda88(0x295)]()[_0x4cda88(0x2ab)](0x3,'0');let _0x230a71=config[_0x4cda88(0x1c0)](_0x18ce60=>_0x18ce60[_0x4cda88(0x1de)]==_0x4413de);if(!_0x230a71)break;}if(_0x4413de===_0x4cda88(0x2a2)){logging(_0x4cda88(0x201));return;}logging('starting\x20new\x20bot\x20|\x20Bot\x20'+_0x4413de),dbConfig[_0x4cda88(0x264)](_0x4cda88(0x2ac))[_0x4cda88(0x240)]({'botID':_0x4413de,'botname':_0x4cda88(0x1bd)+_0x4413de,'status':_0x4cda88(0x301),'live':''})[_0x4cda88(0x237)](),startBot([_0x4413de,userID],{'cwd':bbpath},function(_0x428412){if(_0x428412)logging(_0x428412);}),config=getConfiguration(),io['to'](_0x4cda88(0x245))[_0x4cda88(0x212)](_0x4cda88(0x2ac),config);}function deleteBot(_0x4a8072){const _0x2e70c6=_0x5554ea;getClientsWithBotID(_0x4a8072)['forEach'](_0x388610=>{const _0x1030bd=_0x26a7;getSocket(_0x388610['id'])[_0x1030bd(0x2f1)](!![]),removeClient(_0x388610['id']);}),dbConfig[_0x2e70c6(0x264)]('bots')[_0x2e70c6(0x229)]({'botID':_0x4a8072})[_0x2e70c6(0x237)](),logging(_0x2e70c6(0x1d4)+_0x4a8072),stopBot(_0x4a8072);try{fs[_0x2e70c6(0x1bb)](path[_0x2e70c6(0x1dd)](configpath,_0x2e70c6(0x2d6)+_0x4a8072+_0x2e70c6(0x278))),fs[_0x2e70c6(0x1bb)](path[_0x2e70c6(0x1dd)](configpath,_0x2e70c6(0x2d6)+_0x4a8072+_0x2e70c6(0x1c2))),fs[_0x2e70c6(0x1bb)](path[_0x2e70c6(0x1dd)](configpath,_0x2e70c6(0x2d6)+_0x4a8072+_0x2e70c6(0x27a))),fs[_0x2e70c6(0x1bb)](path[_0x2e70c6(0x1dd)](configpath,_0x2e70c6(0x2d6)+_0x4a8072+_0x2e70c6(0x1fc)));}catch(_0xaef9ea){if(_0xaef9ea)logging(_0x2e70c6(0x293),_0xaef9ea);}config=getConfiguration(),io['to']('botmanager')[_0x2e70c6(0x212)](_0x2e70c6(0x2ac),config);}function toggleBot(_0x34b00c,_0x5357c5,_0x562022){const _0x433c6e=_0x5554ea;dbConfig['get']('bots')[_0x433c6e(0x1c0)]({'botID':_0x34b00c})[_0x433c6e(0x269)]({'status':_0x5357c5})[_0x433c6e(0x269)]({'live':_0x562022})[_0x433c6e(0x237)]();if(_0x5357c5==_0x433c6e(0x1b2)||_0x5357c5==_0x433c6e(0x301))logging(_0x433c6e(0x21e)+_0x34b00c),startBot([_0x34b00c,userID],{'cwd':bbpath},function(_0x46f6df){if(_0x46f6df)logging(_0x46f6df);});else(_0x5357c5==_0x433c6e(0x233)||_0x5357c5==_0x433c6e(0x2ba))&&(logging(_0x433c6e(0x2f3)+_0x34b00c),stopBot(_0x34b00c));config=getConfiguration(),io['to'](_0x433c6e(0x245))[_0x433c6e(0x212)](_0x433c6e(0x2ac),config);}function toggleStatus(_0x5eea6f){const _0x9810e=_0x5554ea;let _0x2fa248=dbConfig['get'](_0x9810e(0x2ac))[_0x9810e(0x1c0)]({'botID':_0x5eea6f})[_0x9810e(0x1c4)](),_0x37ee5f;if(_0x2fa248[_0x9810e(0x221)]==='enabled')_0x37ee5f=_0x9810e(0x233);else{if(_0x2fa248['status']===_0x9810e(0x301))_0x37ee5f=_0x9810e(0x2ba);else{if(_0x2fa248[_0x9810e(0x221)]===_0x9810e(0x2ba))_0x37ee5f='new';else{if(_0x2fa248[_0x9810e(0x221)]===_0x9810e(0x233))_0x37ee5f=_0x9810e(0x1b2);}}}return _0x37ee5f;}function updateStatus(_0x5e6158,_0x5cbea2){const _0x251c51=_0x5554ea;dbConfig[_0x251c51(0x264)]('bots')[_0x251c51(0x1c0)]({'botID':_0x5e6158})[_0x251c51(0x269)]({'status':_0x5cbea2})[_0x251c51(0x237)](),config=getConfiguration(),io['to'](_0x251c51(0x245))[_0x251c51(0x212)]('bots',config);}function updateLive(_0x490d46,_0x401f92){const _0x412b9e=_0x5554ea;dbConfig[_0x412b9e(0x264)](_0x412b9e(0x2ac))[_0x412b9e(0x1c0)]({'botID':_0x490d46})['assign']({'live':_0x401f92})[_0x412b9e(0x237)](),config=getConfiguration(),io['to']('botmanager')[_0x412b9e(0x212)](_0x412b9e(0x2ac),config);}function updateBotName(_0x1a646b,_0x562ef6){const _0x1be957=_0x5554ea;dbConfig[_0x1be957(0x264)](_0x1be957(0x2ac))['find']({'botID':_0x1a646b})[_0x1be957(0x269)]({'botname':_0x562ef6})[_0x1be957(0x237)](),config=getConfiguration(),io['to'](_0x1be957(0x245))[_0x1be957(0x212)](_0x1be957(0x2ac),config);}function updateBotManager(){const _0x4e164a=_0x5554ea;config=getConfiguration(),io['to'](_0x4e164a(0x245))[_0x4e164a(0x212)]('bots',config);}function toggleBotMode(_0x5f4125){const _0x4b32e6=_0x5554ea;if(pid[_0x5f4125])pid[_0x5f4125][_0x4b32e6(0x29f)]({'function':_0x4b32e6(0x2ea),'args':null});else{const _0x25dd76=configpath+'bot-'+_0x5f4125+_0x4b32e6(0x278),_0xa24dce=fs[_0x4b32e6(0x265)](_0x25dd76),_0x2fca7e=JSON[_0x4b32e6(0x1d7)](_0xa24dce),_0x358816=_0x2fca7e['bot'][0x0][_0x4b32e6(0x1bf)];_0x2fca7e['bot'][0x0][_0x4b32e6(0x1bf)]=!_0x358816;const _0x8a8f03=JSON[_0x4b32e6(0x2ae)](_0x2fca7e,null,0x2);fs['writeFileSync'](_0x25dd76,_0x8a8f03),config=getConfiguration(),io['to'](_0x4b32e6(0x245))[_0x4b32e6(0x212)](_0x4b32e6(0x2ac),config);}}function telegramError(_0x3a269a){const _0x1911c5=_0x5554ea;console[_0x1911c5(0x219)](getTimeStamp()+_0x1911c5(0x300));}function validateTelegram(_0x34c64b){const _0x1c80f2=_0x5554ea;if(_0x34c64b[_0x1c80f2(0x318)][_0x1c80f2(0x1cc)]!=settings['telegramUsername']&&'@'+_0x34c64b[_0x1c80f2(0x318)]['username']!=settings[_0x1c80f2(0x2e5)])return tgBot[_0x1c80f2(0x1af)](_0x34c64b[_0x1c80f2(0x2dc)]['id'],_0x1c80f2(0x319),{'parse_mode':_0x1c80f2(0x238)})[_0x1c80f2(0x316)](_0x9bd4f5=>{telegramError(_0x9bd4f5);}),![];return!![];}async function initTelegram(){const _0x23b680=_0x5554ea;if(tgBot)tgBot[_0x23b680(0x2c5)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x23b680(0x2ed)],{'polling':!![]});let _0x18d414=_0x23b680(0x273);_0x18d414+='\x0a',_0x18d414+=_0x23b680(0x2b1),_0x18d414+=_0x23b680(0x1b4),_0x18d414+=_0x23b680(0x1a6),_0x18d414+='/restart\x20-\x20restart\x20bot(s)\x0a',_0x18d414+=_0x23b680(0x215),_0x18d414+=_0x23b680(0x2b9),_0x18d414+=_0x23b680(0x2e1),_0x18d414+=_0x23b680(0x26b),_0x18d414+='/status\x20-\x20show\x20bot(s)\x20status\x0a',_0x18d414+=_0x23b680(0x1e9),_0x18d414+=_0x23b680(0x1fb),_0x18d414+=_0x23b680(0x1a7);let _0x2fe1ce=_0x23b680(0x2be);_0x2fe1ce+='\x0a',_0x2fe1ce+=_0x18d414,tgBot['onText'](/\/start/,_0x40137a=>{const _0x112397=_0x23b680;if(!validateTelegram(_0x40137a))return;if(settings[_0x112397(0x2a7)]!=_0x40137a[_0x112397(0x2dc)]['id'])updateSetting(_0x112397(0x2a7),_0x40137a[_0x112397(0x2dc)]['id']);updateSetting(_0x112397(0x234),!![]),tgBot[_0x112397(0x1af)](_0x40137a[_0x112397(0x2dc)]['id'],_0x2fe1ce)[_0x112397(0x316)](_0x363503=>{telegramError(_0x363503);});}),tgBot[_0x23b680(0x2bb)](/\/enable/,_0x2df7db=>{const _0x1310ee=_0x23b680;if(!validateTelegram(_0x2df7db))return;if(settings[_0x1310ee(0x2a7)]!=_0x2df7db[_0x1310ee(0x2dc)]['id'])updateSetting('telegramChatId',_0x2df7db['chat']['id']);updateSetting(_0x1310ee(0x234),!![]),tgBot[_0x1310ee(0x1af)](_0x2df7db[_0x1310ee(0x2dc)]['id'],_0x1310ee(0x2f0))['catch'](_0x3c3727=>{telegramError(_0x3c3727);});}),tgBot[_0x23b680(0x2bb)](/\/config/,async _0x76779e=>{const _0x1ac4f6=_0x23b680;if(!validateTelegram(_0x76779e))return;tgBot[_0x1ac4f6(0x2a5)](_0x1ac4f6(0x1f0)),tgBot[_0x1ac4f6(0x1af)](_0x76779e['chat']['id'],_0x1ac4f6(0x2c4),{'reply_markup':{'inline_keyboard':[[{'text':_0x1ac4f6(0x1ed),'callback_data':_0x1ac4f6(0x1d5)},{'text':_0x1ac4f6(0x1d3),'callback_data':'alerts'},{'text':_0x1ac4f6(0x1e7),'callback_data':_0x1ac4f6(0x290)}]]}})[_0x1ac4f6(0x316)](_0x384fd5=>{telegramError(_0x384fd5);}),tgBot['on'](_0x1ac4f6(0x1f0),async _0x2eaa13=>{const _0x1b9af1=_0x1ac4f6,_0x5ebb0f=_0x2eaa13[_0x1b9af1(0x287)],_0x2162a1=_0x2eaa13[_0x1b9af1(0x1b0)];tgBot[_0x1b9af1(0x25a)](_0x2eaa13['id'])[_0x1b9af1(0x1a9)](async()=>{const _0x2d32f4=_0x1b9af1;_0x5ebb0f==_0x2d32f4(0x1d5)&&(updateSetting(_0x2d32f4(0x29c),_0x2d32f4(0x1d5)),updateSetting(_0x2d32f4(0x234),!![]),await tgBot[_0x2d32f4(0x1af)](_0x2162a1['chat']['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')[_0x2d32f4(0x316)](_0x4f9015=>{telegramError(_0x4f9015);}));_0x5ebb0f==_0x2d32f4(0x20b)&&(updateSetting('telegramEvents',_0x2d32f4(0x20b)),updateSetting(_0x2d32f4(0x234),!![]),await tgBot[_0x2d32f4(0x1af)](_0x2162a1['chat']['id'],_0x2d32f4(0x1f4))[_0x2d32f4(0x316)](_0x4ccf5e=>{telegramError(_0x4ccf5e);}));_0x5ebb0f==_0x2d32f4(0x290)&&(updateSetting(_0x2d32f4(0x29c),_0x2d32f4(0x290)),updateSetting(_0x2d32f4(0x234),!![]),await tgBot[_0x2d32f4(0x1af)](_0x2162a1['chat']['id'],_0x2d32f4(0x253))[_0x2d32f4(0x316)](_0xf369f5=>{telegramError(_0xf369f5);}));if(!settings[_0x2d32f4(0x2a7)])tgBot[_0x2d32f4(0x1af)](_0x2162a1['chat']['id'],_0x2d32f4(0x2e4))['catch'](_0x510767=>{telegramError(_0x510767);});}),tgBot['removeListener'](_0x1b9af1(0x1f0));});}),tgBot[_0x23b680(0x2bb)](/\/status/,_0x2b0aaf=>{const _0x4ce099=_0x23b680;if(!validateTelegram(_0x2b0aaf))return;const _0x28c539=getBotsWithMode();let _0x40ed99='<b>Balance\x20Bot\x20Status:</b>\x0a';config[_0x4ce099(0x247)](_0x43d6dc=>{const _0x1277c4=_0x4ce099,_0x2cbdee=_0x28c539[_0x1277c4(0x1c0)](_0x171a88=>_0x171a88[_0x1277c4(0x1de)]==_0x43d6dc['botID'])[_0x1277c4(0x29e)];_0x40ed99+='Bot\x20'+_0x43d6dc[_0x1277c4(0x1de)]+':\x20'+_0x43d6dc['status']+_0x1277c4(0x30c)+_0x2cbdee+_0x1277c4(0x30c)+_0x43d6dc[_0x1277c4(0x257)]+'\x0a';}),_0x40ed99+='\x0a',_0x40ed99+=_0x4ce099(0x1f8),_0x40ed99+=!settings['telegramEnabled']?_0x4ce099(0x25b):_0x4ce099(0x1c8),_0x40ed99+=settings[_0x4ce099(0x234)]?settings[_0x4ce099(0x29c)]==_0x4ce099(0x290)?_0x4ce099(0x260):_0x4ce099(0x1cf)+settings[_0x4ce099(0x29c)]+'\x20only\x0a':'',tgBot[_0x4ce099(0x1af)](_0x2b0aaf[_0x4ce099(0x2dc)]['id'],_0x40ed99,{'parse_mode':_0x4ce099(0x238)})[_0x4ce099(0x316)](_0x318482=>{telegramError(_0x318482);});}),tgBot[_0x23b680(0x2bb)](/\/restart/,_0x2da05d=>{const _0x541d74=_0x23b680;if(!validateTelegram(_0x2da05d))return;tgBot[_0x541d74(0x2a5)](_0x541d74(0x1f0));const _0x493718=getEnabledBots();if(_0x493718['length']==0x0)tgBot[_0x541d74(0x1af)](_0x2da05d[_0x541d74(0x2dc)]['id'],_0x541d74(0x2c0))['catch'](_0x191ed3=>{telegramError(_0x191ed3);});else{if(_0x493718[_0x541d74(0x26c)]>0x1)_0x493718[_0x541d74(0x240)]({'botID':_0x541d74(0x290)});let _0x23864c=[],_0x27908e=[];const _0x25b622=_0x493718[_0x541d74(0x26c)]%0x4==0x0||_0x493718[_0x541d74(0x26c)]%0x4==0x3||_0x493718[_0x541d74(0x26c)]%0x3==0x1?0x4:0x3;let _0xd942e2=0x0;_0x493718['forEach']((_0x5726d7,_0x1ff159)=>{const _0x14db73=_0x541d74;if(_0x1ff159%_0x25b622==0x0)_0x27908e=[];_0x27908e[_0x14db73(0x240)]({'text':_0x5726d7[_0x14db73(0x1de)]=='all'?_0x14db73(0x21c):_0x14db73(0x1bd)+_0x5726d7[_0x14db73(0x1de)],'callback_data':_0x5726d7[_0x14db73(0x1de)]}),_0x1ff159%_0x25b622==0x0&&(_0x23864c[_0xd942e2]=_0x27908e,_0xd942e2++);}),tgBot[_0x541d74(0x1af)](_0x2da05d[_0x541d74(0x2dc)]['id'],_0x541d74(0x1e6),{'reply_markup':{'inline_keyboard':_0x23864c}})[_0x541d74(0x316)](_0x30dd92=>{telegramError(_0x30dd92);}),tgBot['on']('callback_query',async _0x5dde6e=>{const _0x12d9b1=_0x541d74,_0x2ae2f=_0x5dde6e[_0x12d9b1(0x287)],_0x1e6f2d=_0x5dde6e[_0x12d9b1(0x1b0)];tgBot[_0x12d9b1(0x25a)](_0x5dde6e['id'])[_0x12d9b1(0x1a9)](async()=>{const _0x590a25=_0x12d9b1;_0x2ae2f==_0x590a25(0x290)?config[_0x590a25(0x247)](_0xaa85c8=>{const _0x3b0f91=_0x590a25;restartBot(_0xaa85c8[_0x3b0f91(0x1de)]);}):restartBot(_0x2ae2f);}),tgBot[_0x12d9b1(0x2a5)](_0x12d9b1(0x1f0));});}}),tgBot[_0x23b680(0x2bb)](/\/on/,_0x3c02e3=>{const _0x352fc0=_0x23b680;if(!validateTelegram(_0x3c02e3))return;tgBot[_0x352fc0(0x2a5)](_0x352fc0(0x1f0));const _0xf808d=getDisabledBots();if(_0xf808d['length']==0x0)tgBot[_0x352fc0(0x1af)](_0x3c02e3[_0x352fc0(0x2dc)]['id'],_0x352fc0(0x23b))[_0x352fc0(0x316)](_0x24c7e0=>{telegramError(_0x24c7e0);});else{if(_0xf808d[_0x352fc0(0x26c)]>0x1)_0xf808d[_0x352fc0(0x240)]({'botID':_0x352fc0(0x290)});let _0x1e476d=[],_0x1c36d1=[];const _0x369817=_0xf808d['length']%0x4==0x0||_0xf808d[_0x352fc0(0x26c)]%0x4==0x3||_0xf808d[_0x352fc0(0x26c)]%0x3==0x1?0x4:0x3;let _0x198aef=0x0;_0xf808d[_0x352fc0(0x247)]((_0x1301b9,_0x5b162a)=>{const _0x3aa657=_0x352fc0;if(_0x5b162a%_0x369817==0x0)_0x1c36d1=[];_0x1c36d1[_0x3aa657(0x240)]({'text':_0x1301b9['botID']==_0x3aa657(0x290)?_0x3aa657(0x21c):_0x3aa657(0x1bd)+_0x1301b9[_0x3aa657(0x1de)],'callback_data':_0x1301b9[_0x3aa657(0x1de)]}),_0x5b162a%_0x369817==0x0&&(_0x1e476d[_0x198aef]=_0x1c36d1,_0x198aef++);}),tgBot[_0x352fc0(0x1af)](_0x3c02e3[_0x352fc0(0x2dc)]['id'],_0x352fc0(0x315),{'reply_markup':{'inline_keyboard':_0x1e476d}})[_0x352fc0(0x316)](_0x357aef=>{telegramError(_0x357aef);}),tgBot['on'](_0x352fc0(0x1f0),async _0x4a5886=>{const _0x326b13=_0x352fc0,_0x5ebfd7=_0x4a5886[_0x326b13(0x287)],_0x5d23ff=_0x4a5886['message'];tgBot[_0x326b13(0x25a)](_0x4a5886['id'])[_0x326b13(0x1a9)](async()=>{const _0x523a25=_0x326b13;_0x5ebfd7==_0x523a25(0x290)?(tgBot[_0x523a25(0x1af)](_0x5d23ff[_0x523a25(0x2dc)]['id'],_0x523a25(0x1f1))[_0x523a25(0x316)](_0x382aa3=>{telegramError(_0x382aa3);}),_0xf808d[_0x523a25(0x247)](_0x2f6995=>{const _0xa76a82=_0x523a25;if(_0x2f6995[_0xa76a82(0x1de)]!=_0xa76a82(0x290))toggleBot(_0x2f6995['botID'],toggleStatus(_0x2f6995['botID']),'stopped');})):(tgBot[_0x523a25(0x1af)](_0x5d23ff[_0x523a25(0x2dc)]['id'],_0x523a25(0x23a)+_0x5ebfd7)[_0x523a25(0x316)](_0x2e1fdd=>{telegramError(_0x2e1fdd);}),toggleBot(_0x5ebfd7,toggleStatus(_0x5ebfd7),_0x523a25(0x1c1)));}),tgBot['removeListener'](_0x326b13(0x1f0));});}}),tgBot[_0x23b680(0x2bb)](/\/off/,_0x51e290=>{const _0x3c9a00=_0x23b680;if(!validateTelegram(_0x51e290))return;tgBot[_0x3c9a00(0x2a5)](_0x3c9a00(0x1f0));const _0x2e4483=getEnabledBots();if(_0x2e4483[_0x3c9a00(0x26c)]==0x0)tgBot['sendMessage'](_0x51e290[_0x3c9a00(0x2dc)]['id'],_0x3c9a00(0x2c0))[_0x3c9a00(0x316)](_0x58bbb0=>{telegramError(_0x58bbb0);});else{if(_0x2e4483[_0x3c9a00(0x26c)]>0x1)_0x2e4483['push']({'botID':_0x3c9a00(0x290)});let _0x1a0d20=[],_0x20824f=[];const _0x54b5cf=_0x2e4483['length']%0x4==0x0||_0x2e4483[_0x3c9a00(0x26c)]%0x4==0x3||_0x2e4483['length']%0x3==0x1?0x4:0x3;let _0x4f1a79=0x0;_0x2e4483[_0x3c9a00(0x247)]((_0xe844ed,_0x58e063)=>{const _0x56baaa=_0x3c9a00;if(_0x58e063%_0x54b5cf==0x0)_0x20824f=[];_0x20824f[_0x56baaa(0x240)]({'text':_0xe844ed[_0x56baaa(0x1de)]==_0x56baaa(0x290)?'All\x20bots':_0x56baaa(0x1bd)+_0xe844ed[_0x56baaa(0x1de)],'callback_data':_0xe844ed[_0x56baaa(0x1de)]}),_0x58e063%_0x54b5cf==0x0&&(_0x1a0d20[_0x4f1a79]=_0x20824f,_0x4f1a79++);}),tgBot[_0x3c9a00(0x1af)](_0x51e290[_0x3c9a00(0x2dc)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20stop?',{'reply_markup':{'inline_keyboard':_0x1a0d20}})[_0x3c9a00(0x316)](_0x334047=>{telegramError(_0x334047);}),tgBot['on'](_0x3c9a00(0x1f0),async _0x12f507=>{const _0x3cebde=_0x3c9a00,_0x1bb7c1=_0x12f507['data'],_0x390ba5=_0x12f507[_0x3cebde(0x1b0)];tgBot[_0x3cebde(0x25a)](_0x12f507['id'])['then'](async()=>{const _0x1f4b51=_0x3cebde;_0x1bb7c1=='all'?(tgBot[_0x1f4b51(0x1af)](_0x390ba5[_0x1f4b51(0x2dc)]['id'],_0x1f4b51(0x1b9))[_0x1f4b51(0x316)](_0x21817e=>{telegramError(_0x21817e);}),_0x2e4483[_0x1f4b51(0x247)](_0xa72c6e=>{const _0x579fb1=_0x1f4b51;if(_0xa72c6e[_0x579fb1(0x1de)]!=_0x579fb1(0x290))toggleBot(_0xa72c6e[_0x579fb1(0x1de)],toggleStatus(_0xa72c6e['botID']),_0x579fb1(0x1c1));})):(tgBot[_0x1f4b51(0x1af)](_0x390ba5['chat']['id'],_0x1f4b51(0x1e3)+_0x1bb7c1)[_0x1f4b51(0x316)](_0x4ac073=>{telegramError(_0x4ac073);}),toggleBot(_0x1bb7c1,toggleStatus(_0x1bb7c1),_0x1f4b51(0x1c1)));}),tgBot['removeListener']('callback_query');});}}),tgBot['onText'](/\/portfolio/,_0xa14464=>{const _0x27a5f6=_0x23b680;if(!validateTelegram(_0xa14464))return;tgBot[_0x27a5f6(0x2a5)](_0x27a5f6(0x1f0));const _0x89dc99=getEnabledBots();if(_0x89dc99[_0x27a5f6(0x26c)]==0x0)tgBot[_0x27a5f6(0x1af)](_0xa14464[_0x27a5f6(0x2dc)]['id'],'No\x20bots\x20running\x20right\x20now')[_0x27a5f6(0x316)](_0x39680d=>{telegramError(_0x39680d);});else{if(_0x89dc99[_0x27a5f6(0x26c)]>0x1){let _0x1fec65=[],_0x824aa9=[];const _0x476362=_0x89dc99[_0x27a5f6(0x26c)]%0x4==0x0||_0x89dc99[_0x27a5f6(0x26c)]%0x4==0x3||_0x89dc99[_0x27a5f6(0x26c)]%0x3==0x1?0x4:0x3;let _0x2a667c=0x0;_0x89dc99[_0x27a5f6(0x247)]((_0x282fec,_0x2d7efd)=>{const _0x1276cc=_0x27a5f6;if(_0x2d7efd%_0x476362==0x0)_0x824aa9=[];_0x824aa9[_0x1276cc(0x240)]({'text':_0x1276cc(0x1bd)+_0x282fec[_0x1276cc(0x1de)],'callback_data':_0x282fec[_0x1276cc(0x1de)]}),_0x2d7efd%_0x476362==0x0&&(_0x1fec65[_0x2a667c]=_0x824aa9,_0x2a667c++);}),tgBot[_0x27a5f6(0x1af)](_0xa14464[_0x27a5f6(0x2dc)]['id'],_0x27a5f6(0x312),{'reply_markup':{'inline_keyboard':_0x1fec65}})[_0x27a5f6(0x316)](_0xa9d389=>{telegramError(_0xa9d389);}),tgBot['on'](_0x27a5f6(0x1f0),async _0x6447f1=>{const _0x3dccc1=_0x27a5f6,_0x3d75df=_0x6447f1['data'],_0x4fb170=_0x6447f1[_0x3dccc1(0x1b0)];tgBot['answerCallbackQuery'](_0x6447f1['id'])[_0x3dccc1(0x1a9)](async()=>{const _0x252035=_0x3dccc1;if(pid[_0x3d75df])pid[_0x3d75df][_0x252035(0x29f)]({'function':_0x252035(0x27e),'args':null});}),tgBot[_0x3dccc1(0x2a5)]('callback_query');});}else{const _0x4ac4ac=_0x89dc99[0x0][_0x27a5f6(0x1de)];if(pid[_0x4ac4ac])pid[_0x4ac4ac][_0x27a5f6(0x29f)]({'function':_0x27a5f6(0x27e),'args':null});}}}),tgBot[_0x23b680(0x2bb)](/\/update/,async _0x6623a4=>{const _0x4c4ad0=_0x23b680;if(!validateTelegram(_0x6623a4))return;tgBot[_0x4c4ad0(0x2a5)]('callback_query'),await getMessages();if(!updateAvailable)tgBot['sendMessage'](_0x6623a4[_0x4c4ad0(0x2dc)]['id'],_0x4c4ad0(0x1ea))[_0x4c4ad0(0x316)](_0x2180cd=>{telegramError(_0x2180cd);});else!validInstallation?tgBot[_0x4c4ad0(0x1af)](_0x6623a4[_0x4c4ad0(0x2dc)]['id'],_0x4c4ad0(0x209))['catch'](_0x1591f8=>{telegramError(_0x1591f8);}):(tgBot[_0x4c4ad0(0x1af)](_0x6623a4[_0x4c4ad0(0x2dc)]['id'],_0x4c4ad0(0x1d6),{'reply_markup':{'inline_keyboard':[[{'text':_0x4c4ad0(0x236),'callback_data':_0x4c4ad0(0x28a)},{'text':'No','callback_data':'no'}]]}})[_0x4c4ad0(0x316)](_0x136a26=>{telegramError(_0x136a26);}),tgBot['on'](_0x4c4ad0(0x1f0),async _0x5ac6f7=>{const _0xefdc01=_0x4c4ad0,_0x319661=_0x5ac6f7[_0xefdc01(0x287)],_0x4830fd=_0x5ac6f7[_0xefdc01(0x1b0)];tgBot['answerCallbackQuery'](_0x5ac6f7['id'])[_0xefdc01(0x1a9)](async()=>{const _0xd3d904=_0xefdc01;_0x319661==_0xd3d904(0x28a)&&(await tgBot[_0xd3d904(0x1af)](_0x4830fd['chat']['id'],_0xd3d904(0x23c))['catch'](_0x433158=>{telegramError(_0x433158);}),updateBB());_0x319661=='no'&&await tgBot[_0xd3d904(0x1af)](_0x4830fd['chat']['id'],_0xd3d904(0x2d7))['catch'](_0x4586b7=>{telegramError(_0x4586b7);});if(!settings[_0xd3d904(0x2a7)])tgBot[_0xd3d904(0x1af)](_0x4830fd['chat']['id'],_0xd3d904(0x2e4))[_0xd3d904(0x316)](_0x1e96f5=>{telegramError(_0x1e96f5);});}),tgBot['removeListener'](_0xefdc01(0x1f0));}));}),tgBot[_0x23b680(0x2bb)](/\/toggle/,_0x4e92b5=>{const _0x3bf94a=_0x23b680;if(!validateTelegram(_0x4e92b5))return;tgBot[_0x3bf94a(0x2a5)](_0x3bf94a(0x1f0));const _0x3f0c6d=getBotsWithMode();if(_0x3f0c6d[_0x3bf94a(0x26c)]==0x0)tgBot[_0x3bf94a(0x1af)](_0x4e92b5[_0x3bf94a(0x2dc)]['id'],_0x3bf94a(0x2c0))['catch'](_0x45fb3b=>{telegramError(_0x45fb3b);});else{let _0x3cd6a0=[],_0xd08d56=[];const _0x59f687=0x2;let _0x33b23e=0x0;_0x3f0c6d[_0x3bf94a(0x247)]((_0x1906f3,_0x3a5e79)=>{const _0x46380f=_0x3bf94a;if(_0x3a5e79%_0x59f687==0x0)_0xd08d56=[];_0xd08d56['push']({'text':_0x46380f(0x1bd)+_0x1906f3[_0x46380f(0x1de)]+'\x20('+_0x1906f3['mode']+')','callback_data':_0x1906f3[_0x46380f(0x1de)]}),_0x3a5e79%_0x59f687==0x0&&(_0x3cd6a0[_0x33b23e]=_0xd08d56,_0x33b23e++);}),tgBot[_0x3bf94a(0x1af)](_0x4e92b5[_0x3bf94a(0x2dc)]['id'],_0x3bf94a(0x1dc),{'reply_markup':{'inline_keyboard':_0x3cd6a0}})[_0x3bf94a(0x316)](_0x7215d0=>{telegramError(_0x7215d0);}),tgBot['on']('callback_query',async _0x2b74e8=>{const _0x37588d=_0x3bf94a,_0xc4c8d5=_0x2b74e8['data'],_0x25e993=_0x2b74e8[_0x37588d(0x1b0)];tgBot[_0x37588d(0x25a)](_0x2b74e8['id'])[_0x37588d(0x1a9)](async()=>{const _0x23c2d7=_0x37588d,_0x99e84f=_0x3f0c6d['find'](_0x59236c=>_0x59236c['botID']==_0xc4c8d5),_0x1d5117=_0x99e84f['mode']==_0x23c2d7(0x1ba)?_0x23c2d7(0x1bc):_0x23c2d7(0x1ba);tgBot[_0x23c2d7(0x1af)](_0x25e993[_0x23c2d7(0x2dc)]['id'],_0x23c2d7(0x275)+_0xc4c8d5+_0x23c2d7(0x20f)+_0x1d5117+_0x23c2d7(0x1e1))[_0x23c2d7(0x316)](_0x105d8d=>{telegramError(_0x105d8d);}),toggleBotMode(_0xc4c8d5);}),tgBot[_0x37588d(0x2a5)](_0x37588d(0x1f0));});}}),tgBot[_0x23b680(0x2bb)](/\/names/,_0x1460e3=>{const _0x534b7e=_0x23b680;if(!validateTelegram(_0x1460e3))return;let _0x4d0cd8='';config[_0x534b7e(0x247)](_0x2aef91=>{const _0x5f2bf9=_0x534b7e;_0x4d0cd8+=_0x5f2bf9(0x1bd)+_0x2aef91[_0x5f2bf9(0x1de)]+':\x20'+_0x2aef91[_0x5f2bf9(0x235)]+'\x0a';}),tgBot['sendMessage'](_0x1460e3[_0x534b7e(0x2dc)]['id'],_0x4d0cd8,{'parse_mode':_0x534b7e(0x238)})[_0x534b7e(0x316)](_0x5ac8b7=>{telegramError(_0x5ac8b7);});}),tgBot['onText'](/\/disable/,_0x1e6e51=>{const _0x3c3d9e=_0x23b680;if(!validateTelegram(_0x1e6e51))return;tgBot['sendMessage'](_0x1e6e51[_0x3c3d9e(0x2dc)]['id'],_0x3c3d9e(0x2b6))['catch'](_0x45e9b3=>{telegramError(_0x45e9b3);}),updateSetting(_0x3c3d9e(0x234),![]);}),tgBot[_0x23b680(0x2bb)](/\/help/,_0x913bf4=>{const _0x1c9949=_0x23b680;if(!validateTelegram(_0x913bf4))return;tgBot['sendMessage'](_0x913bf4['chat']['id'],_0x18d414)[_0x1c9949(0x316)](_0x3b233b=>{telegramError(_0x3b233b);});}),tgBot['on'](_0x23b680(0x1f7),_0x60e747=>{const _0x2d1305=_0x23b680;_0x60e747[_0x2d1305(0x295)]()[_0x2d1305(0x27d)](_0x2d1305(0x224))&&(logging('Invalid\x20Telegram\x20token'),tgBot[_0x2d1305(0x2c5)](),tgBot=null,io['to']('botmanager')['emit'](_0x2d1305(0x31b),_0x2d1305(0x2cc)));}),process[_0x23b680(0x302)](_0x23b680(0x232),()=>{const _0x4471e8=_0x23b680;if(tgBot)tgBot[_0x4471e8(0x2c5)]();process['exit'](0x1);}),process[_0x23b680(0x302)]('SIGTERM',()=>{const _0x35315b=_0x23b680;if(tgBot)tgBot['stopPolling']();process[_0x35315b(0x1e2)](0x1);});}}function disableTelegram(){const _0x25eebb=_0x5554ea;tgBot&&(tgBot[_0x25eebb(0x2c5)](),tgBot=null);}function sendTelegram(_0x28ab4b,_0x218c39){const _0x333e07=_0x5554ea;if(settings[_0x333e07(0x234)]){if(settings[_0x333e07(0x29c)]==_0x333e07(0x290)||(_0x218c39[_0x333e07(0x1ab)]==_0x333e07(0x2a4)||_0x218c39[_0x333e07(0x1ab)]=='success')&&settings[_0x333e07(0x29c)]=='alerts'||_0x218c39[_0x333e07(0x1ab)]==_0x333e07(0x1b5)&&settings[_0x333e07(0x29c)]==_0x333e07(0x1d5)){if(tgBot&&settings[_0x333e07(0x2a7)]){if(_0x218c39['showname'])tgBot['sendMessage'](settings[_0x333e07(0x2a7)],_0x218c39[_0x333e07(0x235)]+_0x333e07(0x311)+_0x218c39[_0x333e07(0x2f6)])[_0x333e07(0x316)](_0xc1341f=>{telegramError(_0xc1341f);});else tgBot[_0x333e07(0x1af)](settings[_0x333e07(0x2a7)],_0x333e07(0x1bd)+_0x28ab4b+_0x333e07(0x311)+_0x218c39['event'])[_0x333e07(0x316)](_0x43f3ae=>{telegramError(_0x43f3ae);});}}}}async function sendTelegramMsg(_0x192230,_0x56b914=_0x5554ea(0x238)){const _0x4eb60e=_0x5554ea;return settings['telegramEnabled']&&tgBot&&settings[_0x4eb60e(0x2a7)]?(await tgBot[_0x4eb60e(0x1af)](settings['telegramChatId'],_0x192230,{'parse_mode':_0x56b914})[_0x4eb60e(0x316)](_0x4b703f=>{telegramError(_0x4b703f);}),!![]):![];}function getDeviceWithIp(_0x2be3bf){const _0x3d4b9a=_0x5554ea;return devices[_0x3d4b9a(0x1c0)](_0x30eb60=>_0x30eb60['ip']===_0x2be3bf);}function temporaryAccess2FA(_0x35a65c,_0x846730){const _0x4a4722=_0x5554ea;let _0x3a9f5e=new Date(),_0x35e505=![];if(lastIpApproval){if(_0x3a9f5e-lastIpApproval<0x1388)_0x35e505=!![];}lastIpApproval=new Date();if(_0x35e505)return;tgBot&&settings[_0x4a4722(0x2a7)]&&(tgBot[_0x4a4722(0x2a5)](_0x4a4722(0x1f0)),tgBot[_0x4a4722(0x1af)](settings[_0x4a4722(0x2a7)],'Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x846730)[_0x4a4722(0x2f9)]+_0x4a4722(0x2a8),{'parse_mode':_0x4a4722(0x238),'reply_markup':{'inline_keyboard':[[{'text':_0x4a4722(0x1fa),'callback_data':'5'},{'text':_0x4a4722(0x2c1),'callback_data':'15'},{'text':_0x4a4722(0x1ef),'callback_data':'30'},{'text':'reject','callback_data':_0x4a4722(0x280)}]]}})[_0x4a4722(0x316)](_0x704e55=>{telegramError(_0x704e55);}),tgBot['on'](_0x4a4722(0x1f0),async _0x13a26a=>{const _0x1e6d46=_0x4a4722,_0x24d99c=_0x13a26a['data'],_0x8cefbd=_0x13a26a[_0x1e6d46(0x1b0)];tgBot[_0x1e6d46(0x25a)](_0x13a26a['id'])[_0x1e6d46(0x1a9)](async()=>{const _0x5623de=_0x1e6d46;devices[_0x35a65c]['telegramIpApproval']={'clientip':_0x846730,'timestamp':new Date()[_0x5623de(0x1d2)](),'expiry':_0x24d99c},_0x24d99c!='reject'?(await tgBot[_0x5623de(0x1af)](_0x8cefbd[_0x5623de(0x2dc)]['id'],_0x5623de(0x1ff)+_0x24d99c+'\x20minutes',{'parse_mode':_0x5623de(0x238)})['catch'](_0x52d107=>{telegramError(_0x52d107);}),io['to'](_0x35a65c)[_0x5623de(0x212)]('status',{'access':{'allow':![],'reason':_0x5623de(0x1c5),'token':null}})):(await tgBot[_0x5623de(0x1af)](_0x8cefbd[_0x5623de(0x2dc)]['id'],'Temporary\x20access\x20rejected')[_0x5623de(0x316)](_0xa824fe=>{telegramError(_0xa824fe);}),io['to'](_0x35a65c)[_0x5623de(0x212)](_0x5623de(0x221),{'access':{'allow':![],'reason':'temporary\x20access\x20rejected','token':null}}));}),tgBot['removeListener'](_0x1e6d46(0x1f0));}));}function loginAccess2FA(_0x158168,_0x3476c7){const _0x11b5ae=_0x5554ea;tgBot&&settings[_0x11b5ae(0x2a7)]&&(tgBot['removeListener'](_0x11b5ae(0x1f0)),tgBot[_0x11b5ae(0x1af)](settings['telegramChatId'],_0x11b5ae(0x2e2)+normalizeIP(_0x3476c7)[_0x11b5ae(0x2f9)]+_0x11b5ae(0x2a8),{'parse_mode':_0x11b5ae(0x238),'reply_markup':{'inline_keyboard':[[{'text':_0x11b5ae(0x22f),'callback_data':loginExpiry},{'text':_0x11b5ae(0x280),'callback_data':_0x11b5ae(0x280)}]]}})[_0x11b5ae(0x316)](_0x5c0d99=>{telegramError(_0x5c0d99);}),tgBot['on'](_0x11b5ae(0x1f0),async _0x2efe42=>{const _0xc8a0dd=_0x11b5ae,_0x1c202a=_0x2efe42[_0xc8a0dd(0x287)],_0x5d7cf6=_0x2efe42[_0xc8a0dd(0x1b0)];tgBot[_0xc8a0dd(0x25a)](_0x2efe42['id'])[_0xc8a0dd(0x1a9)](async()=>{const _0x342a4b=_0xc8a0dd;devices[_0x158168][_0x342a4b(0x291)]={'clientip':_0x3476c7,'timestamp':new Date()['getTime'](),'expiry':_0x1c202a},_0x1c202a!=_0x342a4b(0x280)?(await tgBot[_0x342a4b(0x1af)](_0x5d7cf6[_0x342a4b(0x2dc)]['id'],_0x342a4b(0x222),{'parse_mode':_0x342a4b(0x238)})[_0x342a4b(0x316)](_0x2b0bf8=>{telegramError(_0x2b0bf8);}),io['to'](_0x158168)['emit']('status',{'access':{'allow':![],'reason':_0x342a4b(0x1c5),'token':null}})):(await tgBot[_0x342a4b(0x1af)](_0x5d7cf6[_0x342a4b(0x2dc)]['id'],'Login\x20rejected')[_0x342a4b(0x316)](_0x4271c2=>{telegramError(_0x4271c2);}),io['to'](_0x158168)['emit'](_0x342a4b(0x221),{'access':{'allow':![],'reason':_0x342a4b(0x239),'token':null}}));}),tgBot[_0xc8a0dd(0x2a5)](_0xc8a0dd(0x1f0));}));}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x20d609=_0x5554ea;return dbConfig[_0x20d609(0x264)]('bots')[_0x20d609(0x30e)]('botID')[_0x20d609(0x2aa)]({'status':'enabled'})[_0x20d609(0x1c4)]()||[];}function getDisabledBots(){const _0x210618=_0x5554ea;return dbConfig[_0x210618(0x264)](_0x210618(0x2ac))[_0x210618(0x30e)]('botID')[_0x210618(0x2aa)]({'status':_0x210618(0x233)})['value']()||[];}function _0x26a7(_0x1491fc,_0x1f813b){const _0x20fa23=_0x331b();return _0x26a7=function(_0x42daa9,_0x25d49b){_0x42daa9=_0x42daa9-0x1a6;let _0x331ba2=_0x20fa23[_0x42daa9];return _0x331ba2;},_0x26a7(_0x1491fc,_0x1f813b);}function getBotAttributes(_0x1a4372){const _0x50abe3=_0x5554ea;let _0x12ede5={};const _0xf63db3=configpath+_0x50abe3(0x2d6)+_0x1a4372+_0x50abe3(0x278),_0x57d7b5=fs[_0x50abe3(0x327)](_0xf63db3);if(_0x57d7b5){const _0xbf709d=fs[_0x50abe3(0x265)](_0xf63db3);try{const _0x396b9b=JSON[_0x50abe3(0x1d7)](_0xbf709d),_0x4783d5=_0x396b9b?_0x396b9b[_0x50abe3(0x2f5)][0x0]['headless']:![];_0x12ede5[_0x50abe3(0x29e)]=_0x4783d5?_0x50abe3(0x1ba):_0x50abe3(0x1bc),_0x12ede5[_0x50abe3(0x235)]=_0x396b9b?_0x396b9b[_0x50abe3(0x2f5)][0x0][_0x50abe3(0x235)]:_0x50abe3(0x1bd)+_0x1a4372;}catch(_0x23f1b0){_0x12ede5[_0x50abe3(0x29e)]=_0x50abe3(0x1bc),_0x12ede5[_0x50abe3(0x235)]=_0x50abe3(0x1bd)+_0x1a4372;}}else _0x12ede5['mode']='manual',_0x12ede5[_0x50abe3(0x235)]='Bot\x20'+_0x1a4372;return _0x12ede5;}function getBotsWithMode(){const _0x209322=_0x5554ea,_0x65b483=dbConfig[_0x209322(0x264)]('bots')[_0x209322(0x30e)](_0x209322(0x1de))[_0x209322(0x1c4)]()||[];return _0x65b483[_0x209322(0x247)](_0xbc2795=>{const _0x1102df=_0x209322;let _0x320e53=getBotAttributes(_0xbc2795[_0x1102df(0x1de)]);_0xbc2795[_0x1102df(0x29e)]=_0x320e53[_0x1102df(0x29e)];}),_0x65b483;}async function initUser(){const _0x58eb7b=_0x5554ea;if(!settings['userid']){const _0x40e8d8=uuidRandom();mixpanel[_0x58eb7b(0x322)](_0x40e8d8),updateSetting(_0x58eb7b(0x2c6),_0x40e8d8);}}async function initSecure(){const _0xfeed64=_0x5554ea;let _0x48884f=getSecure();if(!_0x48884f[_0xfeed64(0x32b)](_0xfeed64(0x2e7))){let _0x31ffaf=await generateKeys();_0x48884f['publicKey']=_0x31ffaf['publicKey'],_0x48884f['privateKey']=_0x31ffaf['privateKey'],_0x48884f[_0xfeed64(0x2e7)]=crypto[_0xfeed64(0x286)](0x20)['toString'](_0xfeed64(0x231));;storeSecure(_0x48884f);}}function getSettings(){const _0x688e0d=_0x5554ea;return dbSettings[_0x688e0d(0x264)](_0x688e0d(0x30a))[_0x688e0d(0x1c4)]()||{};}function getSecure(){const _0x2d390d=_0x5554ea;return dbSecure[_0x2d390d(0x264)](_0x2d390d(0x208))[_0x2d390d(0x1c4)]()||{};}function getBlacklist(){const _0x2600d8=_0x5554ea;return dbSecure[_0x2600d8(0x264)]('blacklist')[_0x2600d8(0x1c4)]()||[];}function broadcastToBots(_0x4f3fce,_0x5a628a){const _0x559d21=_0x5554ea;config[_0x559d21(0x247)](_0x4aeed4=>{const _0x1168a5=_0x559d21;if(_0x4aeed4[_0x1168a5(0x221)]==_0x1168a5(0x1b2)&&_0x4aeed4['live']=='running'){if(pid[_0x4aeed4[_0x1168a5(0x1de)]])pid[_0x4aeed4[_0x1168a5(0x1de)]][_0x1168a5(0x29f)]({[_0x4f3fce]:_0x5a628a});}});}function storeSettings(_0xcf7291,_0x43b5a0=![]){const _0x13ab9a=_0x5554ea;_0xcf7291={...settings,..._0xcf7291};if(_0x43b5a0&&_0xcf7291[_0x13ab9a(0x252)]!='************'&&_0xcf7291['bbPassword']!=''){const _0x3b0281=crypt[_0x13ab9a(0x317)](secure['privateKey'],_0xcf7291['bbPassword'])[_0x13ab9a(0x1b0)][_0x13ab9a(0x244)]('@')[0x0],_0x47b553=bcrypt['hashSync'](_0x3b0281,saltRounds);_0xcf7291={..._0xcf7291,'bbPassword':_0x47b553};}if(_0x43b5a0&&_0xcf7291[_0x13ab9a(0x2ed)]!=_0x13ab9a(0x282)&&_0xcf7291['telegramToken']!=''){const _0x30373c=crypt[_0x13ab9a(0x317)](secure[_0x13ab9a(0x249)],_0xcf7291[_0x13ab9a(0x2ed)])[_0x13ab9a(0x1b0)]['split']('@')[0x0];_0xcf7291={..._0xcf7291,'telegramToken':_0x30373c};}const _0x45a2b3=_0xcf7291['telegramToken']!='************'&&_0xcf7291[_0x13ab9a(0x2ed)]!=settings['telegramToken']||_0xcf7291[_0x13ab9a(0x2e5)]!=settings[_0x13ab9a(0x2e5)],_0x4d67cf=_0xcf7291[_0x13ab9a(0x2ed)]==''||_0xcf7291[_0x13ab9a(0x2e5)]=='';if(_0x45a2b3)_0xcf7291[_0x13ab9a(0x29c)]='all';for(const [_0x25745d,_0x33329d]of Object[_0x13ab9a(0x1e5)](_0xcf7291)){if(_0x25745d==_0x13ab9a(0x2ed)&&_0x33329d==_0x13ab9a(0x282)){_0xcf7291[_0x13ab9a(0x2ed)]=settings[_0x13ab9a(0x2ed)];continue;};if(_0x25745d=='bbPassword'&&_0x33329d==_0x13ab9a(0x282)){_0xcf7291['bbPassword']=settings['bbPassword'];continue;};dbSettings[_0x13ab9a(0x32d)](_0x13ab9a(0x24b)+_0x25745d,_0x33329d)[_0x13ab9a(0x237)]();}settings=_0xcf7291,io['to']('botmanager')[_0x13ab9a(0x212)](_0x13ab9a(0x30a),cleanSettings()),broadcastToBots(_0x13ab9a(0x25e),settings['timeshift']);if(_0x45a2b3&&!_0x4d67cf)initTelegram();if(_0x45a2b3&&_0x4d67cf)disableTelegram();getAllClients()['forEach'](_0xf45095=>{const _0x3cd798=_0x13ab9a;getSocket(_0xf45095['id'])[_0x3cd798(0x212)](_0x3cd798(0x221),{'access':{'allow':![],'reason':_0x3cd798(0x1c5),'token':null}});});}function updateSetting(_0x30f941,_0x2928e0){const _0x15812d=_0x5554ea;dbSettings[_0x15812d(0x32d)](_0x15812d(0x24b)+_0x30f941,_0x2928e0)[_0x15812d(0x237)](),settings=getSettings(),io['to'](_0x15812d(0x245))[_0x15812d(0x212)](_0x15812d(0x30a),cleanSettings());}function storeSecure(_0x1b6f3a){const _0x335407=_0x5554ea;dbSecure['get'](_0x335407(0x208))[_0x335407(0x240)](_0x1b6f3a)[_0x335407(0x237)](),secure=_0x1b6f3a;}function addBlacklist(_0x34c2ce){const _0x522215=_0x5554ea;cleanBlacklist();let _0x260c86;devices[_0x34c2ce]['telegramIpApproval']?_0x260c86=Math['max'](devices[_0x34c2ce][_0x522215(0x22d)]['expiry'],loginExpiry):_0x260c86=loginExpiry,dbSecure[_0x522215(0x264)](_0x522215(0x25c))['push']({'expiry':new Date()['getTime']()+_0x260c86*0x3c*0x3e8,'token':devices[_0x34c2ce][_0x522215(0x1e0)]['token']})['write'](),blacklist=dbSecure[_0x522215(0x264)](_0x522215(0x25c))[_0x522215(0x1c4)]();}function cleanBlacklist(){const _0x392018=_0x5554ea;let _0x3c58cc=dbSecure[_0x392018(0x264)]('blacklist')['cloneDeep']()[_0x392018(0x1c4)](),_0x4329cc=new Date()[_0x392018(0x1d2)]();_0x3c58cc[_0x392018(0x247)](_0x2f6c27=>{const _0x51564e=_0x392018;_0x2f6c27['expiry']<_0x4329cc&&dbSecure[_0x51564e(0x264)](_0x51564e(0x25c))['remove']({'expiry':_0x2f6c27[_0x51564e(0x1ee)]})[_0x51564e(0x237)]();});}function initStates(){const _0x172a68=_0x5554ea;let _0x5845f4=getConfiguration();_0x5845f4[_0x172a68(0x247)](_0x2a7c14=>{const _0x7790a2=_0x172a68;_0x2a7c14['live']=_0x7790a2(0x1c1);}),storeConfiguration(_0x5845f4);}function onKeys(){const _0x2cd474=new RSA();return new Promise(_0x13c768=>{const _0x25284f=_0x26a7;_0x2cd474[_0x25284f(0x285)]()[_0x25284f(0x1a9)](_0x30d3bc=>{_0x13c768(_0x30d3bc);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x366444=_0x5554ea;let _0x300db4=getSettings(),_0x1e775b=![];!_0x300db4[_0x366444(0x32b)](_0x366444(0x1a8))&&(_0x300db4[_0x366444(0x1a8)]=0x0,_0x1e775b=!![]);!_0x300db4[_0x366444(0x32b)](_0x366444(0x214))&&(_0x300db4['lastmsgemitted']=0x0,_0x1e775b=!![]);!_0x300db4[_0x366444(0x32b)](_0x366444(0x2f4))&&(_0x300db4[_0x366444(0x2f4)]=_0x366444(0x2cb),_0x1e775b=!![]);if(_0x1e775b)storeSettings(_0x300db4);}function storeConfiguration(_0x6930c9){const _0x240b41=_0x5554ea;dbConfig['get'](_0x240b41(0x2ac))['remove']()[_0x240b41(0x237)](),_0x6930c9[_0x240b41(0x247)](_0x5c556d=>{const _0x12b2d1=_0x240b41;delete _0x5c556d[_0x12b2d1(0x29e)];}),dbConfig[_0x240b41(0x264)](_0x240b41(0x2ac))[_0x240b41(0x240)](..._0x6930c9)[_0x240b41(0x237)](),config=_0x6930c9;}function resetPassword(){const _0x3cb02=_0x5554ea;tgBot&&settings[_0x3cb02(0x2a7)]&&(tgBot['removeListener'](_0x3cb02(0x1f0)),tgBot[_0x3cb02(0x1af)](settings[_0x3cb02(0x2a7)],_0x3cb02(0x1ae),{'parse_mode':_0x3cb02(0x238),'reply_markup':{'inline_keyboard':[[{'text':_0x3cb02(0x28a),'callback_data':_0x3cb02(0x28a)},{'text':'no','callback_data':'no'}]]}})[_0x3cb02(0x316)](_0x493b4b=>{telegramError(_0x493b4b);}),tgBot['on'](_0x3cb02(0x1f0),async _0x2d2c65=>{const _0x4e72b6=_0x3cb02,_0xe9972d=_0x2d2c65[_0x4e72b6(0x287)],_0x277561=_0x2d2c65[_0x4e72b6(0x1b0)];tgBot[_0x4e72b6(0x25a)](_0x2d2c65['id'])[_0x4e72b6(0x1a9)](async()=>{const _0x16cb4e=_0x4e72b6;if(_0xe9972d!='no'){const _0x2389ea=0xf,_0x3bfa71=_0x16cb4e(0x1ce),_0x15d5f9=Array['from'](crypto['randomFillSync'](new Uint32Array(_0x2389ea)))[_0x16cb4e(0x1f6)](_0x5cbe99=>_0x3bfa71[_0x5cbe99%_0x3bfa71['length']])['join'](''),_0x345fdb=bcrypt[_0x16cb4e(0x1c7)](_0x15d5f9,saltRounds);storeSettings({'bbPassword':_0x345fdb}),await tgBot[_0x16cb4e(0x1af)](_0x277561['chat']['id'],_0x16cb4e(0x20a)+_0x15d5f9,{'parse_mode':_0x16cb4e(0x238)})['catch'](_0x370364=>{telegramError(_0x370364);});}else await tgBot[_0x16cb4e(0x1af)](_0x277561[_0x16cb4e(0x2dc)]['id'],'Password\x20reset\x20rejected')[_0x16cb4e(0x316)](_0x46d981=>{telegramError(_0x46d981);});}),tgBot[_0x4e72b6(0x2a5)](_0x4e72b6(0x1f0));}));}async function logging(_0x250c85){const _0x248e96=_0x5554ea;console[_0x248e96(0x219)](getTimeStamp()+_0x248e96(0x281)+_0x250c85);if(tgBot&&settings[_0x248e96(0x2a7)]&&settings['telegramEvents']!=_0x248e96(0x1d5))await tgBot[_0x248e96(0x1af)](settings[_0x248e96(0x2a7)],'Bot\x20Mgr\x20>\x20'+_0x250c85)[_0x248e96(0x316)](_0x207cf3=>{telegramError(_0x207cf3);});}function getServerTime(){const _0x2180db=_0x5554ea,_0x3015f4=new Date();return _0x3015f4['getFullYear']()+'/'+(_0x3015f4[_0x2180db(0x241)]()+0x1)[_0x2180db(0x295)]()[_0x2180db(0x2ab)](0x2,'0')+'/'+_0x3015f4[_0x2180db(0x2b7)]()[_0x2180db(0x295)]()[_0x2180db(0x2ab)](0x2,'0')+'\x20'+_0x3015f4[_0x2180db(0x1b3)]()[_0x2180db(0x295)]()[_0x2180db(0x2ab)](0x2,'0')+':'+_0x3015f4['getMinutes']()[_0x2180db(0x295)]()[_0x2180db(0x2ab)](0x2,'0')+':'+_0x3015f4[_0x2180db(0x2d3)]()['toString']()[_0x2180db(0x2ab)](0x2,'0');}function getTimeStamp(){const _0x1d93fd=_0x5554ea,_0x138c54=shiftedTime();return _0x138c54[_0x1d93fd(0x251)]()+'/'+(_0x138c54[_0x1d93fd(0x241)]()+0x1)[_0x1d93fd(0x295)]()[_0x1d93fd(0x2ab)](0x2,'0')+'/'+_0x138c54[_0x1d93fd(0x2b7)]()['toString']()[_0x1d93fd(0x2ab)](0x2,'0')+'\x20'+_0x138c54[_0x1d93fd(0x1b3)]()[_0x1d93fd(0x295)]()[_0x1d93fd(0x2ab)](0x2,'0')+':'+_0x138c54[_0x1d93fd(0x1e8)]()[_0x1d93fd(0x295)]()['padStart'](0x2,'0')+':'+_0x138c54[_0x1d93fd(0x2d3)]()[_0x1d93fd(0x295)]()['padStart'](0x2,'0');}function shiftedTime(){const _0xa47fe6=_0x5554ea,_0x214a3b=new Date();let _0x4f39a1=_0x214a3b;if(settings[_0xa47fe6(0x25e)]&&settings[_0xa47fe6(0x25e)]!==0x0)_0x4f39a1=fns[_0xa47fe6(0x2fa)](_0x214a3b,{'hours':settings[_0xa47fe6(0x25e)]});return _0x4f39a1;}function startScheduler(){const _0x4fd0fb=_0x5554ea;let _0x32539e=new Date()[_0x4fd0fb(0x20c)]();_0x32539e==0x1&&backupConfigFiles();(_0x32539e==0x8||_0x32539e==0x14)&&triggerAnalytics();_0x32539e%0x6==0x0&&getMessages();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}function backupConfigFiles(){const _0x362f6b=_0x5554ea;fs[_0x362f6b(0x271)](configpath,{'withFileTypes':!![]})[_0x362f6b(0x247)](_0x4bd945=>{const _0xe1a0cc=_0x362f6b;if(!_0x4bd945[_0xe1a0cc(0x270)]())fs[_0xe1a0cc(0x325)](configpath+_0x4bd945[_0xe1a0cc(0x26d)],configbackuppath+_0x4bd945[_0xe1a0cc(0x26d)]);});}async function getPublicIp(){const _0x595f77=_0x5554ea;try{const _0x596e21=await axios[_0x595f77(0x264)]('https://api.ipify.org?format=json');publicip=_0x596e21['data']['ip'];}catch(_0x5c95c4){}}async function triggerAnalytics(){const _0x40a5a4=_0x5554ea;if(!publicip)await getPublicIp();const _0x402936=getBotsWithMode();let _0x7f900d=0x0;_0x402936['forEach'](_0x461288=>{const _0x3c1d36=_0x26a7;if(_0x461288[_0x3c1d36(0x221)]===_0x3c1d36(0x1b2))_0x7f900d++;}),mixpanel[_0x40a5a4(0x261)](_0x40a5a4(0x299),{'distinct_id':settings[_0x40a5a4(0x2c6)],'ip':publicip,'version':serverversion,'numbots':_0x402936[_0x40a5a4(0x26c)],'numbotsenabled':_0x7f900d});}async function getMessages(){const _0x257933=_0x5554ea,_0x65a1d0=_0x257933(0x298),_0x5ccfe1=new GraphQLClient(_0x65a1d0),_0x4fca93={'authorization':_0x257933(0x2ee)},_0x4d110d=serverversion[_0x257933(0x244)]('.'),_0x5e24ba=_0x4d110d[0x0]+'.'+_0x4d110d[0x1],_0xc95a27=Math[_0x257933(0x1d8)](settings[_0x257933(0x1a8)],settings[_0x257933(0x214)]),_0x902d87={'last':parseInt(_0xc95a27),'bbm':_0x5e24ba},_0x3c15ec=gql`
            query getMessages($bbm: String!, $last: Int!) {
                messages(where: {
                    number_gt: $last
                    OR: [
                    {bbvReceive: "any"},
                    {bbvReceive_contains: $bbm}
                    ]
                    archived_not: true
                }, orderBy: number_ASC) {
                    id
                    number
                    bbvReceive
                    bbvNew
                    title
                    message
                    dialogWidth
                    lock
                }
            }
            `;let _0x3c4bc3;try{_0x3c4bc3=await _0x5ccfe1[_0x257933(0x28c)](_0x3c15ec,_0x902d87,_0x4fca93);}catch(_0x314cef){}if(_0x3c4bc3&&_0x3c4bc3['messages']){let _0x51daf4=settings[_0x257933(0x1a8)];newMessages=[];for(const _0x68f87e of _0x3c4bc3[_0x257933(0x204)]){newMessages['push'](_0x68f87e);if(_0x68f87e[_0x257933(0x220)])updateSetting(_0x257933(0x2f4),_0x68f87e[_0x257933(0x220)]);let _0x48c02e=_0x68f87e[_0x257933(0x220)]?serverversion>=_0x68f87e['bbvNew']:![];if(!_0x48c02e&&_0x68f87e[_0x257933(0x2e8)]>_0x51daf4){if(_0x68f87e[_0x257933(0x1fe)]===_0x257933(0x28b)||serverversion[_0x257933(0x1d0)](_0x68f87e[_0x257933(0x1fe)])){let _0x24b830=''+_0x68f87e[_0x257933(0x226)]+'\x0a\x0a'+_0x68f87e[_0x257933(0x1b0)];const _0x1a3d92=await sendTelegramMsg(toTelegramMarkdown(_0x24b830),'Markdown');if(_0x1a3d92)_0x51daf4=_0x68f87e['number'];}}}updateAvailable=isNewerVersion(settings[_0x257933(0x2f4)],serverversion),updateSetting(_0x257933(0x1a8),_0x51daf4),emitMessages();}}function emitMessages(){const _0x1f02a7=_0x5554ea,_0x4ecfcf=settings['lastmsgemitted'];let _0x5eb026=[];newMessages[_0x1f02a7(0x247)](_0x2f4d49=>{const _0x9ba374=_0x1f02a7;_0x2f4d49['number']>_0x4ecfcf&&_0x5eb026[_0x9ba374(0x240)](_0x2f4d49);}),_0x5eb026[_0x1f02a7(0x26c)]>0x0&&getAllClients()['forEach'](_0x56072e=>{const _0x34f548=_0x1f02a7;getSocket(_0x56072e['id'])[_0x34f548(0x212)]('message',_0x5eb026);});}function confirmMessage(_0xc40da6){const _0x47d138=_0x5554ea;updateSetting(_0x47d138(0x214),Number(_0xc40da6));}function isNewerVersion(_0x274c09,_0x5387e1){const _0x21bbec=_0x5554ea,_0x1fa793=_0x5387e1['split']('.'),_0x2e2886=_0x274c09[_0x21bbec(0x244)]('.');for(var _0x14420a=0x0;_0x14420a<_0x2e2886['length'];_0x14420a++){const _0x44a0ab=~~_0x2e2886[_0x14420a],_0x451c1b=~~_0x1fa793[_0x14420a];if(_0x44a0ab>_0x451c1b)return!![];if(_0x44a0ab<_0x451c1b)return![];}return![];}function toTelegramMarkdown(_0x4043f4){const _0x5a894e=_0x5554ea,_0x1c0cbf=/(^|[^\*])\*{1}([^\*.]+?)\*{1}([^\*]|$)/gim,_0x2bdde8=/\*{2}(.+?)\*{2}/gim;return _0x4043f4=_0x4043f4[_0x5a894e(0x313)](_0x1c0cbf,'$1_$2_$3')[_0x5a894e(0x313)](_0x2bdde8,_0x5a894e(0x32c)),_0x4043f4;}async function validateConfigFile(){const _0x486248=_0x5554ea,_0x11cf2d=dbConfig[_0x486248(0x264)]('bots')['sortBy'](_0x486248(0x1de))[_0x486248(0x1c4)]()||[];if(_0x11cf2d['length']==0x0){let _0x29284a=0x0,_0x2dfda2=[];const _0x3b1a80=/^bot-([0-9]{3})-config.json$/,_0x414e64=fs[_0x486248(0x271)](configpath);_0x414e64['forEach'](_0xf31555=>{const _0x575cb2=_0x486248,_0x215bfa=_0x3b1a80[_0x575cb2(0x306)](_0xf31555);if(_0x215bfa){const _0x5b801f=_0x215bfa[0x1];let _0x28cca9=getBotAttributes(_0x5b801f);_0x2dfda2['push']({'botID':_0x5b801f,'botname':_0x28cca9[_0x575cb2(0x235)],'status':_0x575cb2(0x233),'live':_0x575cb2(0x1c1)}),_0x29284a++;}}),_0x29284a!=0x0&&(dbConfig[_0x486248(0x264)](_0x486248(0x2ac))[_0x486248(0x269)](_0x2dfda2)['write'](),config=_0x2dfda2,restoredConfigFile=_0x29284a);}}async function restoreConfigNotify(_0x9a028c){const _0x3ac4bd=_0x5554ea;let _0x55fb67;if(restoredConfigFile==0x1)_0x55fb67=_0x3ac4bd(0x2ca);else _0x55fb67=_0x3ac4bd(0x218);if(_0x9a028c)io['to']('botmanager')[_0x3ac4bd(0x212)]('notification',_0x55fb67);else{console[_0x3ac4bd(0x219)]('-----------------------------------------------------------------------------------'),console['log'](_0x55fb67),console[_0x3ac4bd(0x219)](_0x3ac4bd(0x202)),console['log']('');if(tgBot&&settings[_0x3ac4bd(0x2a7)]&&settings[_0x3ac4bd(0x29c)]!='orders')tgBot[_0x3ac4bd(0x1af)](settings['telegramChatId'],_0x3ac4bd(0x23e)+_0x55fb67)[_0x3ac4bd(0x316)](_0x31636a=>{telegramError(_0x31636a);});}}function validateCredentials(_0x166cd6,_0x2f2f47){const _0xaaaa17=_0x5554ea;if(_0x166cd6['username']==settings[_0xaaaa17(0x1ac)]&&bcrypt[_0xaaaa17(0x211)](_0x166cd6[_0xaaaa17(0x23f)],settings[_0xaaaa17(0x252)])){if(settings[_0xaaaa17(0x227)])return{'allow':![],'reason':_0xaaaa17(0x24e),'token':null};else{const _0x22e278=generateLoginToken(_0x2f2f47);return{'allow':!![],'reason':_0xaaaa17(0x2e6),'token':_0x22e278};}}else return{'allow':![],'reason':_0xaaaa17(0x305),'token':null};}function refreshToken(_0x5e63b9){const _0x3de52d=_0x5554ea,_0x42cdf0=generateLoginToken(_0x5e63b9);return{'allow':!![],'reason':_0x3de52d(0x2e6),'token':_0x42cdf0};}function validateAccess(_0x13ed30,_0x4aeffd){const _0x53b189=_0x5554ea;let _0x451239=devices[_0x4aeffd]['ip'],_0x6c02a5;const _0x3c4a63=_0x294910=>{const _0xad6c83=_0x26a7;if(settings['loginRequired']){if(settings[_0xad6c83(0x227)]){if(telegram2FaApproved(_0x4aeffd)){const _0x52f56a=generateLoginToken(_0x4aeffd);return{'allow':!![],'reason':'2FA\x20login\x20token\x20generated','token':_0x52f56a};}else return{'allow':![],'reason':_0xad6c83(0x2bc),'token':null};}else return _0x6c02a5=validToken(_0x294910,_0x4aeffd),_0x6c02a5[_0xad6c83(0x32b)]('success')?{'allow':!![],'reason':_0xad6c83(0x2c9),'token':_0x294910}:{'allow':![],'reason':_0xad6c83(0x2bc),'token':null};}else return{'allow':!![],'reason':_0xad6c83(0x1d1),'token':null};};if(settings[_0x53b189(0x320)]){let _0x5bcac7=[...settings[_0x53b189(0x314)],'::1',_0x53b189(0x297),'127.0.0.1'];if(_0x5bcac7['includes'](_0x451239))return _0x3c4a63(_0x13ed30);else{_0x6c02a5=validToken(_0x13ed30,_0x4aeffd);if(_0x6c02a5['hasOwnProperty'](_0x53b189(0x2cf)))return _0x3c4a63(_0x13ed30);else{if(telegramIpApproved(_0x4aeffd)){const _0x3471e7=generateToken(_0x4aeffd);return _0x6c02a5=_0x3c4a63(_0x13ed30),_0x6c02a5[_0x53b189(0x1db)]?{'allow':!![],'reason':_0x53b189(0x328),'token':_0x3471e7}:_0x6c02a5;}else return settings[_0x53b189(0x203)]?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':_0x53b189(0x205),'token':null};}}}else return _0x3c4a63(_0x13ed30);}function timelyDecrypt(_0x548110,_0x3eccb0=!![]){const _0x86989f=_0x5554ea;if(_0x548110)try{const _0x1b5514=crypt[_0x86989f(0x317)](secure['privateKey'],_0x548110)[_0x86989f(0x1b0)],_0x331973=_0x1b5514[_0x86989f(0x244)]('@')[0x0],_0x580068=_0x1b5514[_0x86989f(0x244)]('@')[0x1],_0x1b880c=new Date()[_0x86989f(0x1d2)]();if(_0x3eccb0){if(_0x1b880c-_0x580068<maxSecretAge*0x3e8)return _0x331973;else return![];}else return _0x331973;}catch(_0x26b4b2){return![];}else return![];}const validToken=(_0x514eb8,_0x58d1b5)=>{const _0x58d822=_0x5554ea,_0x3dc1f4=devices[_0x58d1b5]['ip'];if(!_0x514eb8)return{'error':_0x58d822(0x25d)};for(let _0xd1ec6c of blacklist){if(_0xd1ec6c[_0x58d822(0x329)]==_0x514eb8)return{'error':_0x58d822(0x230)};}let _0x5d41e8;try{_0x5d41e8=jwt[_0x58d822(0x2bd)](_0x514eb8,secure[_0x58d822(0x2e7)]+_0x58d1b5);}catch{return{'error':_0x58d822(0x2a0)};}if(!_0x5d41e8['hasOwnProperty'](_0x58d822(0x1f3))&&!_0x5d41e8[_0x58d822(0x32b)](_0x58d822(0x1cc))||!_0x5d41e8[_0x58d822(0x32b)](_0x58d822(0x310)))return{'error':_0x58d822(0x2d1)};if(!_0x5d41e8[_0x58d822(0x32b)](_0x58d822(0x1cc))&&_0x5d41e8['hasOwnProperty'](_0x58d822(0x1f3))){const {clientip:_0x1ebbf1}=_0x5d41e8;return _0x3dc1f4==_0x1ebbf1?{'success':_0x58d822(0x326)}:{'error':_0x58d822(0x2a9)};}else{if(_0x5d41e8[_0x58d822(0x32b)](_0x58d822(0x1cc))&&_0x5d41e8[_0x58d822(0x32b)](_0x58d822(0x1f3))){const {username:_0x32c546,clientip:_0x29c19b}=_0x5d41e8;return settings[_0x58d822(0x1ac)]==_0x32c546&&_0x3dc1f4==_0x29c19b?{'success':_0x58d822(0x326)}:{'error':_0x58d822(0x223)};}}},generateLoginToken=_0x2abe0f=>{const _0xb4a6d5=_0x5554ea;if(_0x2abe0f){const _0x34e512=devices[_0x2abe0f]['ip'];return jwt[_0xb4a6d5(0x2ff)]({'username':settings[_0xb4a6d5(0x1ac)],'clientip':_0x34e512},secure[_0xb4a6d5(0x2e7)]+_0x2abe0f,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x20042c=>{const _0x3f42a8=_0x5554ea;if(_0x20042c){const _0x523767=devices[_0x20042c]['ip'];return jwt[_0x3f42a8(0x2ff)]({'clientip':_0x523767},secure[_0x3f42a8(0x2e7)]+_0x20042c,{'expiresIn':devices[_0x20042c][_0x3f42a8(0x22d)][_0x3f42a8(0x1ee)]*0x3c});}else return![];},telegramIpApproved=_0x45374f=>{const _0x314a9c=_0x5554ea;let _0x6fc370=![];return devices[_0x45374f][_0x314a9c(0x22d)]&&devices[_0x45374f][_0x314a9c(0x22d)]['expiry']!=_0x314a9c(0x280)&&(_0x6fc370=devices[_0x45374f][_0x314a9c(0x22d)][_0x314a9c(0x1f3)]==devices[_0x45374f]['ip']&&new Date()[_0x314a9c(0x1d2)]()-devices[_0x45374f]['telegramIpApproval'][_0x314a9c(0x2b4)]<devices[_0x45374f]['telegramIpApproval'][_0x314a9c(0x1ee)]*0x3c*0x3e8),_0x6fc370;},telegram2FaApproved=_0x21e0cd=>{const _0x225815=_0x5554ea;let _0x1d85fe=![];return devices[_0x21e0cd][_0x225815(0x291)]&&devices[_0x21e0cd][_0x225815(0x291)]['expiry']!=_0x225815(0x280)&&(_0x1d85fe=devices[_0x21e0cd][_0x225815(0x291)]['clientip']==devices[_0x21e0cd]['ip']&&new Date()[_0x225815(0x1d2)]()-devices[_0x21e0cd][_0x225815(0x291)][_0x225815(0x2b4)]<devices[_0x21e0cd][_0x225815(0x291)][_0x225815(0x1ee)]*0x3c*0x3e8),_0x1d85fe;},normalizeIP=_0x218c9a=>{const _0x14709c=_0x5554ea;let _0x558f3b=null,_0x50a4d9=null;if(ipaddr[_0x14709c(0x263)](_0x218c9a)){const _0x4075d7=ipaddr[_0x14709c(0x1d7)](_0x218c9a);_0x4075d7[_0x14709c(0x250)]()===_0x14709c(0x255)?(_0x4075d7[_0x14709c(0x27b)]()&&(_0x558f3b=_0x4075d7[_0x14709c(0x2ef)]()[_0x14709c(0x295)]()),_0x50a4d9=_0x4075d7[_0x14709c(0x295)]()):(_0x558f3b=_0x4075d7[_0x14709c(0x295)](),_0x50a4d9=_0x4075d7[_0x14709c(0x2df)]()[_0x14709c(0x295)]());}return{'show':_0x558f3b?_0x558f3b:_0x50a4d9,'store':_0x50a4d9};};function sleep(_0x26c9ef){return new Promise(_0xa13a5f=>setTimeout(_0xa13a5f,_0x26c9ef));}