const _0x1debc5=_0x3b7f;(function(_0x2f8556,_0x59429b){const _0x5ddac3=_0x3b7f,_0xcecedc=_0x2f8556();while(!![]){try{const _0x2be94d=parseInt(_0x5ddac3(0x21c))/0x1+-parseInt(_0x5ddac3(0x192))/0x2+-parseInt(_0x5ddac3(0x1cd))/0x3+-parseInt(_0x5ddac3(0x189))/0x4+-parseInt(_0x5ddac3(0x23f))/0x5*(parseInt(_0x5ddac3(0x191))/0x6)+parseInt(_0x5ddac3(0x166))/0x7*(-parseInt(_0x5ddac3(0x24e))/0x8)+-parseInt(_0x5ddac3(0x18f))/0x9*(-parseInt(_0x5ddac3(0x1c0))/0xa);if(_0x2be94d===_0x59429b)break;else _0xcecedc['push'](_0xcecedc['shift']());}catch(_0x1a2b3c){_0xcecedc['push'](_0xcecedc['shift']());}}}(_0x1ef0,0x8a317));const _0x1aea1a=function(){let _0x146152=!![];return function(_0x1c124a,_0x222e98){const _0x1bcfcb=_0x146152?function(){const _0x1654b0=_0x3b7f;if(_0x222e98){const _0x29e76b=_0x222e98[_0x1654b0(0x1b7)](_0x1c124a,arguments);return _0x222e98=null,_0x29e76b;}}:function(){};return _0x146152=![],_0x1bcfcb;};}(),_0x4a9c42=_0x1aea1a(this,function(){const _0x5c138c=_0x3b7f;return _0x4a9c42[_0x5c138c(0x170)]()[_0x5c138c(0x1ec)](_0x5c138c(0x1ea))[_0x5c138c(0x170)]()[_0x5c138c(0x1db)](_0x4a9c42)['search'](_0x5c138c(0x1ea));});_0x4a9c42();'use strict';process['env'][_0x1debc5(0x1dc)]=0x1;const childProcess=require(_0x1debc5(0x19c)),FileSync=require(_0x1debc5(0x1fc)),fs=require('fs'),fns=require(_0x1debc5(0x1d0)),low=require('lowdb'),path=require(_0x1debc5(0x14e)),crypto=require(_0x1debc5(0x176)),Crypt=require(_0x1debc5(0x226))[_0x1debc5(0x213)],RSA=require(_0x1debc5(0x226))[_0x1debc5(0x1f5)],bcrypt=require('bcryptjs'),jwt=require(_0x1debc5(0x22e)),analyticsLib=require(_0x1debc5(0x1e5))[_0x1debc5(0x167)],googleAnalytics=require(_0x1debc5(0x26a))['default'],ipaddr=require(_0x1debc5(0x164)),argv=require(_0x1debc5(0x1fb))(process[_0x1debc5(0x1fd)][_0x1debc5(0x203)](0x2))[_0x1debc5(0x1fd)],PORT=argv[_0x1debc5(0x247)]||_0x1debc5(0x254),pattern=/^[0-9]{2,4}$/;if(!pattern[_0x1debc5(0x214)](PORT))return console['log'](_0x1debc5(0x16d)+PORT+_0x1debc5(0x204)),process[_0x1debc5(0x229)](0x1);const HOST=argv[_0x1debc5(0x27a)]||null,userID=argv[_0x1debc5(0x1be)]||'';let bbpath='bb/',bbpath2='';const botfile='bot.js',configfile=_0x1debc5(0x211),settingsfile='bb-settings.json',securefile=_0x1debc5(0x261);let validInstallation=!![];!fs[_0x1debc5(0x151)](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x1debc5(0x260)),configpath=userID?bbpath+_0x1debc5(0x25c)+userID+'/':bbpath+_0x1debc5(0x25c),configbackuppath=configpath+'backup/';!fs[_0x1debc5(0x151)](configpath)&&fs[_0x1debc5(0x282)](configpath);!fs[_0x1debc5(0x151)](configbackuppath)&&fs[_0x1debc5(0x282)](configbackuppath);function _0x3b7f(_0x2084e3,_0x514a72){const _0x49db76=_0x1ef0();return _0x3b7f=function(_0x4a9c42,_0x1aea1a){_0x4a9c42=_0x4a9c42-0x14e;let _0x1ef0c4=_0x49db76[_0x4a9c42];return _0x1ef0c4;},_0x3b7f(_0x2084e3,_0x514a72);}const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x1debc5(0x212)]({'bots':[]})[_0x1debc5(0x232)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x1debc5(0x212)]({'settings':{'timeshift':0x0}})[_0x1debc5(0x232)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x1debc5(0x212)]({'secure':{},'blacklist':[]})[_0x1debc5(0x232)]();let crypt=new Crypt({'md':_0x1debc5(0x255),'rsaStandard':_0x1debc5(0x257)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x1debc5(0x20c))[_0x1debc5(0x1d2)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![];oneTimeMigration(),cleanBlacklist();const express=require(_0x1debc5(0x1df)),app=express(),http=require('http')[_0x1debc5(0x280)](app);app[_0x1debc5(0x243)](express[_0x1debc5(0x294)](path[_0x1debc5(0x152)](__dirname,bbpath2,_0x1debc5(0x15b)))),app[_0x1debc5(0x243)](express['static'](path[_0x1debc5(0x152)](__dirname,bbpath2,_0x1debc5(0x26e)))),app[_0x1debc5(0x1bb)]('/',function(_0x41dffe,_0x36f0d3){const _0x2e02ed=_0x1debc5;_0x36f0d3['sendFile'](path['join'](__dirname,bbpath2,_0x2e02ed(0x15b),_0x2e02ed(0x289)));}),app['get'](_0x1debc5(0x20a),function(_0x32eeb7,_0x12278b){const _0x361188=_0x1debc5;_0x12278b[_0x361188(0x1f9)](path['join'](__dirname,bbpath2,'build',_0x361188(0x289)));}),app['get'](_0x1debc5(0x239),(_0x3a147a,_0x251238)=>{const _0x4a12f3=_0x1debc5;_0x251238['sendFile'](path[_0x4a12f3(0x152)](__dirname,bbpath2,'build',_0x4a12f3(0x289)));}),app[_0x1debc5(0x1bb)](_0x1debc5(0x252),(_0xdb283d,_0x17f1b3)=>{const _0x16d1c9=_0x1debc5;_0x17f1b3['sendFile'](path[_0x16d1c9(0x152)](__dirname,bbpath2,_0x16d1c9(0x26e),'index.html'));}),app[_0x1debc5(0x1bb)](_0x1debc5(0x210),(_0x3c3e0a,_0x38f59b)=>{const _0x4da272=_0x1debc5;_0x38f59b[_0x4da272(0x1f9)](path['join'](__dirname,bbpath2,_0x4da272(0x26e),_0x4da272(0x289)));}),app[_0x1debc5(0x1bb)](_0x1debc5(0x15d),(_0x2e79fe,_0x430b9b)=>{const _0x4f2abc=_0x1debc5;_0x430b9b['sendFile'](path['join'](__dirname,bbpath2,'build',_0x4f2abc(0x289)));}),app['get']('/:bot/configuration',(_0x22abc4,_0x42033d)=>{const _0x37c977=_0x1debc5;_0x42033d[_0x37c977(0x1f9)](path['join'](__dirname,bbpath2,_0x37c977(0x26e),_0x37c977(0x289)));}),app[_0x1debc5(0x1bb)]('/:bot/support',(_0x539f36,_0x5bd9e2)=>{const _0x11dad8=_0x1debc5;_0x5bd9e2['sendFile'](path[_0x11dad8(0x152)](__dirname,bbpath2,_0x11dad8(0x26e),_0x11dad8(0x289)));});if(HOST)http['listen'](PORT,HOST);else http['listen'](PORT);const io=require(_0x1debc5(0x1d4))(http,{}),analytics=analyticsLib({'app':_0x1debc5(0x1a6),'plugins':[googleAnalytics({'trackingId':_0x1debc5(0x1b3)})]}),TelegramBot=require(_0x1debc5(0x1ef));let tgBot;if(settings['telegramToken']&&settings[_0x1debc5(0x233)]!=''&&settings['telegramUsername']&&settings[_0x1debc5(0x26d)]!='')initTelegram();initStates(),startServer(),startSocket(),startScheduler();function startServer(){const _0x411f65=_0x1debc5;console['log'](''),console[_0x411f65(0x1a1)](_0x411f65(0x17b)),logging(_0x411f65(0x263)+PORT),console['log'](_0x411f65(0x17b));if(config[_0x411f65(0x208)]!=0x0)config[_0x411f65(0x22f)](_0x27e980=>{const _0x4017a1=_0x411f65;if(_0x27e980[_0x4017a1(0x228)]=='enabled'||_0x27e980['status']==_0x4017a1(0x180))logging(_0x4017a1(0x24a)+_0x27e980[_0x4017a1(0x1cc)]+_0x4017a1(0x21e)+_0x27e980[_0x4017a1(0x1bd)]),startBot([_0x27e980[_0x4017a1(0x1cc)],userID],{'cwd':bbpath},function(_0x3cfe12){if(_0x3cfe12)logging(_0x3cfe12);});else(_0x27e980[_0x4017a1(0x228)]==_0x4017a1(0x26c)||_0x27e980[_0x4017a1(0x228)]==_0x4017a1(0x27f))&&logging(_0x4017a1(0x245)+_0x27e980[_0x4017a1(0x1cc)]+_0x4017a1(0x21e)+_0x27e980['botname']);});else!newBot&&console[_0x411f65(0x1a1)](_0x411f65(0x1f0));if(newBot)addBot();console['log'](_0x411f65(0x17b)),console[_0x411f65(0x1a1)]('');}function startSocket(){const _0x1d41ba=_0x1debc5;io['on'](_0x1d41ba(0x22b),_0xc08914=>{const _0x57680a=_0x1d41ba;let _0x1c702e,_0x598951,_0x350023,_0x4c6e5e,_0x1cdf52;const _0x4b83fb=_0xc08914[_0x57680a(0x28e)]['headers'][_0x57680a(0x1a4)];_0x598951=_0x4b83fb[_0x57680a(0x1b5)](/bot[0-9]{3}/);if(_0x598951)_0x350023=_0x598951[0x0][_0x57680a(0x1b5)](/[0-9]{3}/);if(_0x350023)_0x1c702e=_0x350023[0x0];else _0x1c702e=_0x57680a(0x28b);const _0x2121a4=_0xc08914[_0x57680a(0x28e)]['auth'][_0x57680a(0x23a)];if(!_0x2121a4)_0xc08914['emit'](_0x57680a(0x228),{'publicKey':secure[_0x57680a(0x21d)]});else{_0x4c6e5e=timelyDecrypt(_0x2121a4,![]);if(!_0x4c6e5e)_0xc08914['emit']('status',{'publicKey':secure[_0x57680a(0x21d)]});else{_0x1cdf52=normalizeIP(_0xc08914['conn'][_0x57680a(0x175)])[_0x57680a(0x292)];if(!devices[_0x4c6e5e])devices[_0x4c6e5e]={'uuid':_0x4c6e5e,'access':{'token':null}};devices[_0x4c6e5e]['ip']=_0x1cdf52;const _0x4a4f0c=addClient(_0xc08914['id'],_0x4c6e5e,_0x1c702e);setAccess(_0x4a4f0c),_0xc08914['on']('login',_0x52e53a=>{const _0xfd182a=_0x57680a,_0x59bbcc=timelyDecrypt(_0x52e53a[_0xfd182a(0x194)]);if(_0x59bbcc){_0x52e53a={'username':_0x52e53a[_0xfd182a(0x155)],'password':_0x59bbcc},devices[_0x4c6e5e][_0xfd182a(0x24b)]=validateCredentials(_0x52e53a,_0x4c6e5e);if(devices[_0x4c6e5e][_0xfd182a(0x24b)][_0xfd182a(0x267)]==![]&&devices[_0x4c6e5e][_0xfd182a(0x24b)][_0xfd182a(0x23e)]==_0xfd182a(0x273))_0xc08914[_0xfd182a(0x1c5)](_0xfd182a(0x228),{'access':devices[_0x4c6e5e][_0xfd182a(0x24b)]}),loginAccess2FA(_0x4c6e5e,_0x1cdf52);else{if(devices[_0x4c6e5e][_0xfd182a(0x24b)][_0xfd182a(0x267)]==![]&&devices[_0x4c6e5e][_0xfd182a(0x24b)][_0xfd182a(0x23e)]==_0xfd182a(0x222))_0xc08914[_0xfd182a(0x1c5)](_0xfd182a(0x228),{'access':devices[_0x4c6e5e][_0xfd182a(0x24b)]});else devices[_0x4c6e5e][_0xfd182a(0x24b)][_0xfd182a(0x267)]&&devices[_0x4c6e5e]['access'][_0xfd182a(0x23e)]=='login\x20token\x20generated'&&(getClientsWithUuid(_0x4c6e5e)[_0xfd182a(0x22f)](_0x53ce71=>{setAccess(_0x53ce71);}),setTokenRefresh(_0x4c6e5e),setSessionTimeout(_0xfd182a(0x185),_0x4c6e5e));}}else logging('Unauthorized\x20login\x20attempt\x20(timeout)');}),_0xc08914['on'](_0x57680a(0x1ce),()=>{resetPassword();}),_0xc08914['on'](_0x57680a(0x238),_0x4a7c41=>{removeClient(_0xc08914['id']);});}}});}function initClient(_0x2e4303){const _0x2385a0=_0x1debc5;if(_0x2e4303!=_0x2385a0(0x28b)&&config[_0x2385a0(0x163)]!=''){if(pid[_0x2e4303])pid[_0x2e4303][_0x2385a0(0x1fa)]({'function':_0x2385a0(0x1d3),'args':null});}}function getSocket(_0xc81ce5){const _0x53d6ae=_0x1debc5;return io[_0x53d6ae(0x28f)][_0x53d6ae(0x28f)]['get'](_0xc81ce5);}function setAccess(_0x271079){const _0x2ea070=_0x1debc5,_0x533ebb=getSocket(_0x271079['id']),_0x3cb241=_0x271079[_0x2ea070(0x22c)],_0x13ac6a=_0x271079[_0x2ea070(0x1b8)];devices[_0x3cb241][_0x2ea070(0x24b)]=validateAccess(devices[_0x3cb241]['access'][_0x2ea070(0x1da)],_0x3cb241),_0x533ebb[_0x2ea070(0x152)](_0x3cb241);if(devices[_0x3cb241][_0x2ea070(0x24b)][_0x2ea070(0x267)]){_0x533ebb['join'](_0x13ac6a);if(_0x13ac6a==_0x2ea070(0x28b))initializeSocketBotManager(_0x533ebb);else initializeSocketBot(_0x533ebb);initClient(_0x13ac6a);}devices[_0x3cb241][_0x2ea070(0x24b)]['token']&&devices[_0x3cb241][_0x2ea070(0x24b)][_0x2ea070(0x23e)]=='temporary\x20token\x20generated'&&setSessionTimeout(_0x2ea070(0x28d),_0x3cb241),devices[_0x3cb241]['access'][_0x2ea070(0x1da)]&&devices[_0x3cb241][_0x2ea070(0x24b)][_0x2ea070(0x23e)]==_0x2ea070(0x237)&&setSessionTimeout('login',_0x3cb241),_0x533ebb['emit']('status',{'status':_0x271079[_0x2ea070(0x168)],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x3cb241][_0x2ea070(0x24b)],'externalip':devices[_0x3cb241]['ip'],'publicKey':secure[_0x2ea070(0x21d)],'validInstallation':validInstallation}),devices[_0x3cb241]['access'][_0x2ea070(0x267)]==![]&&devices[_0x3cb241]['access'][_0x2ea070(0x23e)]=='2FA\x20required'&&temporaryAccess2FA(_0x3cb241,devices[_0x3cb241]['ip']);}function setSessionTimeout(_0x27609e,_0x5ce62d){const _0x574a78=_0x1debc5;let _0x23839c;if(_0x27609e==_0x574a78(0x185))_0x23839c=loginExpiry*0x3c*0x3e8;else _0x23839c=devices[_0x5ce62d][_0x574a78(0x250)]['expiry']*0x3c*0x3e8-(new Date()[_0x574a78(0x1e4)]()-devices[_0x5ce62d][_0x574a78(0x250)]['timestamp']);if(devices[_0x5ce62d][_0x574a78(0x18b)])clearTimeout(devices[_0x5ce62d]['pidExpireLogin']);devices[_0x5ce62d][_0x574a78(0x18b)]=setTimeout(()=>{const _0x340393=_0x574a78;if(devices[_0x5ce62d][_0x340393(0x275)])clearTimeout(devices[_0x5ce62d][_0x340393(0x275)]);removeSocketListeners(_0x5ce62d),addBlacklist(_0x5ce62d),devices[_0x5ce62d]['telegramIpApproval']=null,devices[_0x5ce62d]['telegram2FaApproval']=null,devices[_0x5ce62d]['access'][_0x340393(0x1da)]=null,devices[_0x5ce62d][_0x340393(0x24b)]=validateAccess(devices[_0x5ce62d]['access'][_0x340393(0x1da)],_0x5ce62d),!(devices[_0x5ce62d][_0x340393(0x24b)][_0x340393(0x267)]&&devices[_0x5ce62d][_0x340393(0x24b)][_0x340393(0x23e)]==_0x340393(0x181))&&(_0x27609e==_0x340393(0x185)?io['to'](_0x5ce62d)[_0x340393(0x1c5)](_0x340393(0x228),{'access':{'allow':![],'reason':_0x340393(0x202),'token':null}}):io['to'](_0x5ce62d)[_0x340393(0x1c5)](_0x340393(0x228),{'access':{'allow':![],'reason':_0x340393(0x1a2),'token':null}})),devices[_0x5ce62d][_0x340393(0x24b)][_0x340393(0x1da)]=null;},_0x23839c);}function setTokenRefresh(_0x5f3f20){const _0xb75cf8=_0x1debc5;if(devices[_0x5f3f20]['pidRefreshToken'])clearTimeout(devices[_0x5f3f20][_0xb75cf8(0x275)]);devices[_0x5f3f20]['pidRefreshToken']=setTimeout(()=>{const _0x511053=_0xb75cf8;getClientsWithUuid(_0x5f3f20)['length']!=0x0?(devices[_0x5f3f20][_0x511053(0x24b)]=refreshToken(_0x5f3f20),io['to'](_0x5f3f20)[_0x511053(0x1c5)]('status',{'status':'connected','serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x5f3f20][_0x511053(0x24b)],'externalip':devices[_0x5f3f20]['ip'],'publicKey':secure[_0x511053(0x21d)],'validInstallation':validInstallation}),setTokenRefresh(_0x5f3f20)):clearTimeout(devices[_0x5f3f20]['pidRefreshToken']);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x5a1a31){const _0x1c87b0=_0x1debc5,_0x5a2f6a=getClient(_0x5a1a31['id'])[_0x1c87b0(0x22c)];_0x5a1a31['emit'](_0x1c87b0(0x235),config),_0x5a1a31[_0x1c87b0(0x1c5)](_0x1c87b0(0x1f6),cleanSettings()),_0x5a1a31['on'](_0x1c87b0(0x174),_0x5b75ff=>{if(validateAccess(_0x5b75ff,_0x5a2f6a)['allow'])addBot();else logging('Unauthorized\x20attempt\x20to\x20add\x20bot');}),_0x5a1a31['on'](_0x1c87b0(0x1aa),(_0x541cfb,_0x5e9b51)=>{const _0x3c42d6=_0x1c87b0;if(validateAccess(_0x5e9b51,_0x5a2f6a)[_0x3c42d6(0x267)])toggleBot(_0x541cfb[_0x3c42d6(0x1cc)],_0x541cfb['status'],_0x541cfb['live']);else logging(_0x3c42d6(0x16e));}),_0x5a1a31['on'](_0x1c87b0(0x24f),(_0x168d0d,_0x2bc493)=>{const _0x5860ce=_0x1c87b0;if(validateAccess(_0x2bc493,_0x5a2f6a)[_0x5860ce(0x267)])deleteBot(_0x168d0d);else logging(_0x5860ce(0x23b));}),_0x5a1a31['on'](_0x1c87b0(0x1f3),(_0x5f3c88,_0x2863e2)=>{const _0x457a7d=_0x1c87b0;if(validateAccess(_0x2863e2,_0x5a2f6a)[_0x457a7d(0x267)])storeSettings(_0x5f3c88,!![]);else logging(_0x457a7d(0x169));}),_0x5a1a31['on']('update-bb',(_0x16748e,_0xe7ab51)=>{const _0x1f09ae=_0x1c87b0;if(validateAccess(_0xe7ab51,_0x5a2f6a)['allow'])updateBB();else logging(_0x1f09ae(0x169));}),_0x5a1a31['on'](_0x1c87b0(0x17e),_0x575412=>{const _0x157e1c=_0x1c87b0;if(validateAccess(_0x575412,_0x5a2f6a)['allow']){if(devices[_0x5a2f6a][_0x157e1c(0x275)])clearTimeout(devices[_0x5a2f6a]['pidRefreshToken']);if(devices[_0x5a2f6a]['pidExpireLogin'])clearTimeout(devices[_0x5a2f6a][_0x157e1c(0x18b)]);removeSocketListeners(getClient(_0x5a1a31['id'])[_0x157e1c(0x22c)]),addBlacklist(_0x5a2f6a),devices[_0x5a2f6a][_0x157e1c(0x250)]=null,devices[_0x5a2f6a][_0x157e1c(0x249)]=null,devices[_0x5a2f6a][_0x157e1c(0x24b)]['token']=null,io['to'](getClient(_0x5a1a31['id'])[_0x157e1c(0x22c)])['emit']('status',{'access':{'allow':![],'reason':_0x157e1c(0x1a3),'token':null}});}else logging(_0x157e1c(0x1e6));});}function initializeSocketBot(_0x3e2bd7){const _0x2adedc=_0x1debc5,_0x2b622c=getClient(_0x3e2bd7['id'])[_0x2adedc(0x1b8)],_0x5c3ecc=getClient(_0x3e2bd7['id'])[_0x2adedc(0x22c)];_0x3e2bd7['on'](_0x2adedc(0x16f),(_0x228931,_0x59a091)=>{const _0x5e75d1=_0x2adedc;if(validateAccess(_0x59a091,_0x5c3ecc)[_0x5e75d1(0x267)]){if(pid[_0x2b622c])pid[_0x2b622c][_0x5e75d1(0x1fa)]({'function':_0x5e75d1(0x1d6),'args':_0x228931});}else logging(_0x5e75d1(0x1eb));}),_0x3e2bd7['on']('delete-alerts',(_0x2a981a,_0x4836d5)=>{const _0x4b2af2=_0x2adedc;if(validateAccess(_0x4836d5,_0x5c3ecc)['allow']){if(pid[_0x2b622c])pid[_0x2b622c]['send']({'function':_0x4b2af2(0x1bc),'args':_0x2a981a});}else logging(_0x4b2af2(0x16c));}),_0x3e2bd7['on'](_0x2adedc(0x153),(_0x1a06ee,_0x4c2820)=>{const _0x5af785=_0x2adedc;if(validateAccess(_0x4c2820,_0x5c3ecc)['allow']){if(pid[_0x2b622c])pid[_0x2b622c][_0x5af785(0x1fa)]({'function':'getPortfolio','args':_0x1a06ee});}else logging(_0x5af785(0x15c));}),_0x3e2bd7['on']('store-configuration',(_0xd96069,_0x1262db)=>{const _0x5c7d7a=_0x2adedc;if(validateAccess(_0x1262db,_0x5c3ecc)[_0x5c7d7a(0x267)]){if(pid[_0x2b622c])pid[_0x2b622c][_0x5c7d7a(0x1fa)]({'function':_0x5c7d7a(0x1d5),'args':_0xd96069});}else logging('Unauthorized\x20attempt\x20to\x20store\x20configuration');}),_0x3e2bd7['on'](_0x2adedc(0x161),(_0x47014a,_0x57b129)=>{const _0x17264f=_0x2adedc;if(validateAccess(_0x57b129,_0x5c3ecc)[_0x17264f(0x267)]){if(pid[_0x2b622c])pid[_0x2b622c][_0x17264f(0x1fa)]({'function':_0x17264f(0x287),'args':_0x47014a});}else logging('Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration');}),_0x3e2bd7['on']('get-starting-balances',_0xbd8986=>{const _0x4141b0=_0x2adedc;if(validateAccess(_0xbd8986,_0x5c3ecc)[_0x4141b0(0x267)]){if(pid[_0x2b622c])pid[_0x2b622c][_0x4141b0(0x1fa)]({'function':'getStartingBalances','args':null});}else logging('Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances');}),_0x3e2bd7['on']('place-order',(_0x3e342c,_0x20f097)=>{const _0x1fa739=_0x2adedc;if(validateAccess(_0x20f097,_0x5c3ecc)[_0x1fa739(0x267)]){if(pid[_0x2b622c])pid[_0x2b622c][_0x1fa739(0x1fa)]({'function':'placeOrder','args':_0x3e342c});}else logging(_0x1fa739(0x297));}),_0x3e2bd7['on'](_0x2adedc(0x1a5),_0x1b2f5c=>{const _0x15c449=_0x2adedc;if(validateAccess(_0x1b2f5c,_0x5c3ecc)['allow']){if(pid[_0x2b622c])pid[_0x2b622c][_0x15c449(0x1fa)]({'function':'cancelLoading','args':null});}else logging('Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins');}),_0x3e2bd7['on'](_0x2adedc(0x17e),_0x4ebefd=>{const _0x1a7517=_0x2adedc;if(validateAccess(_0x4ebefd,_0x5c3ecc)[_0x1a7517(0x267)]){if(devices[_0x5c3ecc][_0x1a7517(0x275)])clearTimeout(devices[_0x5c3ecc][_0x1a7517(0x275)]);if(devices[_0x5c3ecc][_0x1a7517(0x18b)])clearTimeout(devices[_0x5c3ecc]['pidExpireLogin']);removeSocketListeners(getClient(_0x3e2bd7['id'])[_0x1a7517(0x22c)]),addBlacklist(_0x5c3ecc),devices[_0x5c3ecc][_0x1a7517(0x250)]=null,devices[_0x5c3ecc][_0x1a7517(0x249)]=null,devices[_0x5c3ecc]['access'][_0x1a7517(0x1da)]=null,io['to'](getClient(_0x3e2bd7['id'])[_0x1a7517(0x22c)])[_0x1a7517(0x1c5)](_0x1a7517(0x228),{'access':{'allow':![],'reason':_0x1a7517(0x1a3),'token':null}});}else logging(_0x1a7517(0x1e6));});}function removeSocketListeners(_0x3867ba){const _0x36fc9c=_0x1debc5;getClientsWithUuid(_0x3867ba)[_0x36fc9c(0x22f)](_0xa1736f=>{getSocket(_0xa1736f['id'])['removeAllListeners']();});}function cleanSettings(){const _0x56c6b5=_0x1debc5;let _0x1bb68a=settings;return settings['telegramToken']&&settings[_0x56c6b5(0x233)]!=''&&(_0x1bb68a={..._0x1bb68a,'telegramToken':_0x56c6b5(0x209)}),settings[_0x56c6b5(0x1a7)]&&settings[_0x56c6b5(0x1a7)]!=''&&(_0x1bb68a={..._0x1bb68a,'bbPassword':_0x56c6b5(0x209)}),_0x1bb68a;}function updateBB(){installingUpdate=!![],config['forEach'](_0x5b72e3=>{restartBot(_0x5b72e3['botID']);}),process['send']({'update':!![]},_0x2636b1=>{});}function startBot(_0x2184b2,_0x56c8ce,_0x1a5b52){const _0xf073e7=_0x1debc5;let _0x192c7e=![];const _0x2e0adc=_0x2184b2[0x0];_0x56c8ce={..._0x56c8ce,'stdio':[_0xf073e7(0x1b2),_0xf073e7(0x1b2),_0xf073e7(0x1b2),_0xf073e7(0x165)]},pid[_0x2e0adc]=childProcess['fork'](botfile,_0x2184b2,_0x56c8ce),pid[_0x2e0adc]['on']('message',_0xd2bb34=>{const _0x40840b=_0xf073e7;switch(Object[_0x40840b(0x217)](_0xd2bb34)[0x0]){case'botname':updateBotName(_0x2e0adc,_0xd2bb34[_0x40840b(0x1bd)]);break;case'status':updateStatus(_0x2e0adc,_0xd2bb34['status']);break;case _0x40840b(0x284):updateLive(_0x2e0adc,_0xd2bb34[_0x40840b(0x284)]);break;case'started':updateLive(_0x2e0adc,_0xd2bb34[_0x40840b(0x15a)]),io['to'](_0x2e0adc)[_0x40840b(0x1c5)]('status',{'access':{'allow':![],'reason':_0x40840b(0x283),'token':null}});break;case'stop':_0xd2bb34[_0x40840b(0x264)]==_0x40840b(0x218)&&restartBot(_0x2e0adc);_0xd2bb34[_0x40840b(0x264)]==_0x40840b(0x240)&&toggleBot(_0x2e0adc,_0x40840b(0x26c),_0x40840b(0x1ed));break;case _0x40840b(0x298):sendTelegram(_0x2e0adc,_0xd2bb34[_0x40840b(0x298)]);break;case _0x40840b(0x231):io['to'](_0x2e0adc)[_0x40840b(0x1c5)](_0xd2bb34[_0x40840b(0x231)],_0xd2bb34['args']);break;}}),pid[_0x2e0adc]['on']('error',function(_0x478740){if(_0x192c7e)return;_0x192c7e=!![],_0x1a5b52(_0x478740);}),pid[_0x2e0adc]['on'](_0xf073e7(0x229),function(_0x3194ca){const _0x4ed30a=_0xf073e7;if(installingUpdate)return;if(_0x192c7e)return;_0x192c7e=!![],_0x1a5b52(null);const _0x31af1f=dbConfig['get'](_0x4ed30a(0x235))['find']({'botID':_0x2e0adc})[_0x4ed30a(0x27e)]();_0x31af1f&&(_0x31af1f['status']==_0x4ed30a(0x1c2)||_0x31af1f[_0x4ed30a(0x228)]==_0x4ed30a(0x180))&&(updateLive(_0x2e0adc,_0x4ed30a(0x1ed)),logging(_0x4ed30a(0x1c6)+_0x2e0adc),startBot([_0x2e0adc,userID],{'cwd':bbpath},function(_0x3190fd){if(_0x3190fd)logging(_0x3190fd);}));});}function stopBot(_0x9ae5f0){const _0x17e966=_0x1debc5;getClientsWithBotID(_0x9ae5f0)[_0x17e966(0x22f)](_0x5611e3=>{const _0x3244b8=_0x17e966;getSocket(_0x5611e3['id'])[_0x3244b8(0x238)](!![]),removeClient(_0x5611e3['id']);});if(pid[_0x9ae5f0])pid[_0x9ae5f0][_0x17e966(0x240)]();}function restartBot(_0x5d2b95){const _0x515f30=_0x1debc5;if(pid[_0x5d2b95])pid[_0x5d2b95][_0x515f30(0x240)]();}function addBot(){const _0x14a4c1=_0x1debc5;let _0x2ad91b;for(let _0x170505=0x1;_0x170505<0x3e9;_0x170505++){_0x2ad91b=_0x170505[_0x14a4c1(0x170)]()['padStart'](0x3,'0');let _0x2c16b1=config[_0x14a4c1(0x276)](_0x23a211=>_0x23a211[_0x14a4c1(0x1cc)]==_0x2ad91b);if(!_0x2c16b1)break;}if(_0x2ad91b==='1000'){logging(_0x14a4c1(0x221));return;}logging(_0x14a4c1(0x1c3)+_0x2ad91b),dbConfig[_0x14a4c1(0x1bb)]('bots')[_0x14a4c1(0x21b)]({'botID':_0x2ad91b,'botname':_0x14a4c1(0x258)+_0x2ad91b,'status':_0x14a4c1(0x180),'live':''})[_0x14a4c1(0x232)](),startBot([_0x2ad91b,userID],{'cwd':bbpath},function(_0x5031ed){if(_0x5031ed)logging(_0x5031ed);}),config=getConfiguration(),io['to'](_0x14a4c1(0x28b))[_0x14a4c1(0x1c5)]('bots',config);}function deleteBot(_0x2bbe1e){const _0x451efb=_0x1debc5;getClientsWithBotID(_0x2bbe1e)[_0x451efb(0x22f)](_0x40ae96=>{const _0xf3c4fe=_0x451efb;getSocket(_0x40ae96['id'])[_0xf3c4fe(0x238)](!![]),removeClient(_0x40ae96['id']);}),dbConfig[_0x451efb(0x1bb)]('bots')[_0x451efb(0x1b9)]({'botID':_0x2bbe1e})[_0x451efb(0x232)](),logging(_0x451efb(0x1e3)+_0x2bbe1e),stopBot(_0x2bbe1e);try{fs[_0x451efb(0x251)](path[_0x451efb(0x152)](configpath,_0x451efb(0x28a)+_0x2bbe1e+_0x451efb(0x1ff))),fs[_0x451efb(0x251)](path[_0x451efb(0x152)](configpath,_0x451efb(0x28a)+_0x2bbe1e+_0x451efb(0x1b1))),fs[_0x451efb(0x251)](path['join'](configpath,_0x451efb(0x28a)+_0x2bbe1e+'-performance.json')),fs['unlinkSync'](path[_0x451efb(0x152)](configpath,_0x451efb(0x28a)+_0x2bbe1e+_0x451efb(0x225)));}catch(_0x16d0a1){if(_0x16d0a1)logging('error\x20while\x20deleting\x20config\x20files:\x20',_0x16d0a1);}config=getConfiguration(),io['to'](_0x451efb(0x28b))[_0x451efb(0x1c5)](_0x451efb(0x235),config);}function toggleBot(_0x234948,_0x14a127,_0x422970){const _0x56e79f=_0x1debc5;dbConfig['get'](_0x56e79f(0x235))['find']({'botID':_0x234948})[_0x56e79f(0x1d7)]({'status':_0x14a127})[_0x56e79f(0x1d7)]({'live':_0x422970})[_0x56e79f(0x232)]();if(_0x14a127==_0x56e79f(0x1c2)||_0x14a127==_0x56e79f(0x180))logging('enabled\x20Bot\x20'+_0x234948),startBot([_0x234948,userID],{'cwd':bbpath},function(_0x13266f){if(_0x13266f)logging(_0x13266f);});else(_0x14a127==_0x56e79f(0x26c)||_0x14a127==_0x56e79f(0x27f))&&(logging(_0x56e79f(0x1e0)+_0x234948),stopBot(_0x234948));config=getConfiguration(),io['to'](_0x56e79f(0x28b))[_0x56e79f(0x1c5)]('bots',config);}function toggleStatus(_0x598ff4){const _0x141817=_0x1debc5;let _0x2ec938=dbConfig[_0x141817(0x1bb)](_0x141817(0x235))[_0x141817(0x276)]({'botID':_0x598ff4})['value'](),_0xef1bf2;if(_0x2ec938[_0x141817(0x228)]===_0x141817(0x1c2))_0xef1bf2=_0x141817(0x26c);else{if(_0x2ec938[_0x141817(0x228)]==='new')_0xef1bf2=_0x141817(0x27f);else{if(_0x2ec938[_0x141817(0x228)]==='new-disabled')_0xef1bf2=_0x141817(0x180);else{if(_0x2ec938[_0x141817(0x228)]==='disabled')_0xef1bf2=_0x141817(0x1c2);}}}return _0xef1bf2;}function updateStatus(_0x5838a7,_0x385364){const _0x253fbc=_0x1debc5;dbConfig[_0x253fbc(0x1bb)]('bots')[_0x253fbc(0x276)]({'botID':_0x5838a7})[_0x253fbc(0x1d7)]({'status':_0x385364})[_0x253fbc(0x232)](),config=getConfiguration(),io['to']('botmanager')[_0x253fbc(0x1c5)]('bots',config);}function updateLive(_0x11815a,_0x1552f2){const _0x3d58a3=_0x1debc5;dbConfig['get'](_0x3d58a3(0x235))[_0x3d58a3(0x276)]({'botID':_0x11815a})[_0x3d58a3(0x1d7)]({'live':_0x1552f2})[_0x3d58a3(0x232)](),config=getConfiguration(),io['to'](_0x3d58a3(0x28b))['emit']('bots',config);}function updateBotName(_0x42b570,_0xbb480e){const _0x2eff7f=_0x1debc5;dbConfig[_0x2eff7f(0x1bb)]('bots')['find']({'botID':_0x42b570})['assign']({'botname':_0xbb480e})[_0x2eff7f(0x232)](),config=getConfiguration(),io['to'](_0x2eff7f(0x28b))[_0x2eff7f(0x1c5)](_0x2eff7f(0x235),config);}function _0x1ef0(){const _0x2a1694=['config/','getSeconds','order','split','clients','bb-secure.json','all','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','stop','removeListener','Temporary\x20access\x20rejected','allow','onText','Ok,\x20will\x20send\x20order\x20notifications\x20only','@analytics/google-analytics','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','disabled','telegramUsername','build','alerts','readdirSync','show','sign','2FA\x20login\x20required','/status\x20-\x20show\x20bot(s)\x20status\x0a','pidRefreshToken','find','copyFileSync','whitelistEnabled','SIGINT','host','temporaryAccessAllowed','set','Notifications\x20disabled\x0a','value','new-disabled','createServer','Bot\x20Mgr\x20>\x20','mkdirSync','reload','live','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','chat','storeHeadless','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','index.html','bot-','botmanager','Invalid\x20IP\x20address','2FA','handshake','sockets','kind','privateKey','store','from','static','/off\x20-\x20stop\x20bot(s)\x0a','getDate','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','telegram','telegramChatId','path','catch','2FA\x20required','existsSync','join','get-portfolio','temporary\x20access\x20not\x20allowed','username','/restart\x20-\x20restart\x20bot(s)\x0a','running','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','decrypt','started','build2','Unauthorized\x20attempt\x20to\x20get\x20portfolio','/:bot/history','whitelist','Access\x20enabled\x20for\x20','timestamp','store-headless','yes','apiKey','ipaddr.js','ipc','31724QCMvMH','default','server','Unauthorized\x20attempt\x20to\x20update\x20settings','isDirectory','/disable\x20-\x20disable\x20notifications\x0a','Unauthorized\x20attempt\x20to\x20delete\x20alerts','Error:\x20Invalid\x20argument\x20','Unauthorized\x20attempt\x20to\x20update\x20bot','get-logs','toString','name','toIPv4Address','SIGTERM','add-bot','remoteAddress','crypto','showname','hashSync','telegramEvents','Token\x20blacklisted','-----------------------------------------------------------------------------------','Balance\x20Bot\x20Server','Ok,\x20will\x20send\x20alert\x20notifications\x20only','logout','login\x20token\x20generated','new','login\x20not\x20required','getUTCHours','polling_error','All\x20bots\x20running\x20right\x20now','login',':\x20Bot\x20Mgr\x20>\x20','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','All\x20bots','402272CbUzYW','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','pidExpireLogin','f2aRequired','reject','event','2367WKdUsN','HTML','3316062obUpVQ','1888346SUnDkf','exp','password','Alerts','getFullYear','stopPolling','max','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','includes','blacklist','child_process','loginRequired','404\x20Not\x20Found','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','::1','log','temporary\x20access\x20timeout','logged\x20out','referer','cancel-loading','Balance\x20Bot','bbPassword','parse',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','update-bot','getMonth','2FA\x20login\x20rejected','Invalid\x20authentication\x20token\x20(1)','type','You\x20can\x20use\x20the\x20following\x20commands:\x0a','answerCallbackQuery','-events.json','inherit','UA-192771731-1','temporary\x20access\x20rejected','match','temporary\x20token\x20generated','apply','bot','remove','add','get','deleteHistoryAlerts','botname','user','settings.','106490syzaMs','Login\x20accepted','enabled','starting\x20new\x20bot\x20|\x20Bot\x20','hasOwnProperty','emit','restarting\x20Bot\x20','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','Invalid\x20username\x20or\x20IP\x20address','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','notification','then','botID','2109300dHEFBE','reset-password','All','date-fns','Invalid\x20authentication\x20token\x20(2)','version','initclient','socket.io','storeConfiguration','emitHistory','assign','sortBy','callback_query','token','constructor','NTBA_FIX_319','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','isIPv4MappedAddress','express','disabled\x20Bot\x20','orders','User\x20has\x20been\x20validated','deleted\x20Bot\x20','getTime','analytics','Unauthorized\x20attempt\x20to\x20log\x20out','Notifications\x20types:\x20','page','success','(((.+)+)+)+$','Unauthorized\x20attempt\x20to\x20get\x20logs','search','stopped','<b>Balance\x20Bot\x20status:</b>\x0a','node-telegram-bot-api','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','timeshift','15\x20min','store-settings','Invalid\x20Telegram\x20token','RSA','settings','/enable\x20-\x20enable\x20notifications\x0a','login\x20required','sendFile','send','yargs/yargs','lowdb/adapters/FileSync','argv','error','-config.json','filter','data','access\x20timeout','slice',',\x20must\x20be\x20a\x204\x20digit\x20number','secure','padStart','once','length','************','/:bot','compareSync','version.json','clientip','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','message','/:bot/coins','bb-config.json','defaults','Crypt','test','secret','getMinutes','keys','restart','hex','cloneDeep','push','804586nrslei','publicKey','\x20|\x20','entries','isValid','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','invalid\x20credentials','login\x20token\x20valid','https://hodlerhacks.com','-results.json','hybrid-crypto-js','Orders','status','exit','/on\x20-\x20start\x20bot(s)\x0a','connection','uuid','/help\x20-\x20show\x20available\x20commands\x0a','jsonwebtoken','forEach','Password\x20has\x20been\x20reset\x20to:\x20','function','write','telegramToken','\x20>\x20','bots','No\x20bots\x20running\x20right\x20now','2FA\x20login\x20token\x20generated','disconnect','/:bot/portfolio','encryptedUuid','Unauthorized\x20attempt\x20to\x20delete\x20bot','sendMessage','bbUsername','reason','5gJbjNM','kill','<b>Telegram\x20bot\x20status:</b>\x0a','expiry','use','\x20minutes','idling\x20bot\x20\x20\x20|\x20Bot\x20','Notifications\x20enabled\x0a','port','accept','telegram2FaApproval','starting\x20bot\x20|\x20Bot\x20','access','telegramEnabled','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','1304CSkRZN','delete-bot','telegramIpApproval','unlinkSync','/:bot/performance','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','3000','sha256','Bot\x20Mgr\x20>\x20restarting\x20all\x20bots','RSA-OAEP','Bot\x20','::ffff:127.0.0.1','getHours','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>'];_0x1ef0=function(){return _0x2a1694;};return _0x1ef0();}function telegramError(_0x3ddf55){const _0x430255=_0x1debc5;console['log'](getTimeStamp()+_0x430255(0x1a9));}function validateTelegram(_0x1729e6){const _0x3026fb=_0x1debc5;if(_0x1729e6['from'][_0x3026fb(0x155)]!=settings['telegramUsername']&&'@'+_0x1729e6[_0x3026fb(0x293)][_0x3026fb(0x155)]!=settings[_0x3026fb(0x26d)])return tgBot['sendMessage'](_0x1729e6[_0x3026fb(0x286)]['id'],'Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings',{'parse_mode':_0x3026fb(0x190)})[_0x3026fb(0x14f)](_0x23f17c=>{telegramError(_0x23f17c);}),![];return!![];}async function initTelegram(){const _0x2f3465=_0x1debc5;if(tgBot)tgBot[_0x2f3465(0x197)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x2f3465(0x233)],{'polling':!![]});let _0x3b4a3f=_0x2f3465(0x1af);_0x3b4a3f+='\x0a',_0x3b4a3f+=_0x2f3465(0x1f7),_0x3b4a3f+=_0x2f3465(0x16b),_0x3b4a3f+=_0x2f3465(0x1dd),_0x3b4a3f+=_0x2f3465(0x156),_0x3b4a3f+=_0x2f3465(0x22a),_0x3b4a3f+=_0x2f3465(0x295),_0x3b4a3f+=_0x2f3465(0x274),_0x3b4a3f+=_0x2f3465(0x22d);let _0x401e3a='Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a';_0x401e3a+='\x0a',_0x401e3a+=_0x3b4a3f,tgBot[_0x2f3465(0x268)](/\/start/,_0x151ad3=>{const _0x1ad8e3=_0x2f3465;if(!validateTelegram(_0x151ad3))return;if(settings[_0x1ad8e3(0x299)]!=_0x151ad3[_0x1ad8e3(0x286)]['id'])updateSetting(_0x1ad8e3(0x299),_0x151ad3[_0x1ad8e3(0x286)]['id']);updateSetting(_0x1ad8e3(0x24c),!![]),tgBot['sendMessage'](_0x151ad3[_0x1ad8e3(0x286)]['id'],_0x401e3a)[_0x1ad8e3(0x14f)](_0x27d2e5=>{telegramError(_0x27d2e5);});}),tgBot['onText'](/\/enable/,_0xc70263=>{const _0x35d261=_0x2f3465;if(!validateTelegram(_0xc70263))return;if(settings[_0x35d261(0x299)]!=_0xc70263[_0x35d261(0x286)]['id'])updateSetting(_0x35d261(0x299),_0xc70263[_0x35d261(0x286)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0x35d261(0x23c)](_0xc70263['chat']['id'],'Notifications\x20enabled')[_0x35d261(0x14f)](_0x335837=>{telegramError(_0x335837);});}),tgBot[_0x2f3465(0x268)](/\/config/,async _0x20d9dd=>{const _0x3fdcf0=_0x2f3465;if(!validateTelegram(_0x20d9dd))return;tgBot[_0x3fdcf0(0x265)](_0x3fdcf0(0x1d9)),tgBot[_0x3fdcf0(0x23c)](_0x20d9dd['chat']['id'],_0x3fdcf0(0x26b),{'reply_markup':{'inline_keyboard':[[{'text':_0x3fdcf0(0x227),'callback_data':'orders'},{'text':_0x3fdcf0(0x195),'callback_data':_0x3fdcf0(0x26f)},{'text':_0x3fdcf0(0x1cf),'callback_data':_0x3fdcf0(0x262)}]]}})['catch'](_0x2f5ab1=>{telegramError(_0x2f5ab1);}),tgBot['on'](_0x3fdcf0(0x1d9),async _0x39dd45=>{const _0x315923=_0x3fdcf0,_0x47588c=_0x39dd45['data'],_0x30de2d=_0x39dd45[_0x315923(0x20f)];tgBot[_0x315923(0x1b0)](_0x39dd45['id'])[_0x315923(0x1cb)](async()=>{const _0x32f538=_0x315923;_0x47588c==_0x32f538(0x1e1)&&(updateSetting(_0x32f538(0x179),'orders'),updateSetting(_0x32f538(0x24c),!![]),await tgBot[_0x32f538(0x23c)](_0x30de2d[_0x32f538(0x286)]['id'],_0x32f538(0x269))[_0x32f538(0x14f)](_0xac1330=>{telegramError(_0xac1330);}));_0x47588c==_0x32f538(0x26f)&&(updateSetting(_0x32f538(0x179),'alerts'),updateSetting(_0x32f538(0x24c),!![]),await tgBot['sendMessage'](_0x30de2d[_0x32f538(0x286)]['id'],_0x32f538(0x17d))[_0x32f538(0x14f)](_0x469fb2=>{telegramError(_0x469fb2);}));_0x47588c=='all'&&(updateSetting(_0x32f538(0x179),_0x32f538(0x262)),updateSetting(_0x32f538(0x24c),!![]),await tgBot[_0x32f538(0x23c)](_0x30de2d['chat']['id'],_0x32f538(0x285))['catch'](_0x553ce9=>{telegramError(_0x553ce9);}));if(!settings[_0x32f538(0x299)])tgBot[_0x32f538(0x23c)](_0x30de2d[_0x32f538(0x286)]['id'],_0x32f538(0x20e))[_0x32f538(0x14f)](_0x3c922e=>{telegramError(_0x3c922e);});}),tgBot['removeListener']('callback_query');});}),tgBot['onText'](/\/status/,_0x363683=>{const _0x51a45d=_0x2f3465;if(!validateTelegram(_0x363683))return;let _0x419f03=_0x51a45d(0x1ee);config[_0x51a45d(0x22f)](_0xf75c8c=>{const _0x1351ed=_0x51a45d;_0x419f03+=_0x1351ed(0x258)+_0xf75c8c[_0x1351ed(0x1cc)]+_0x1351ed(0x21e)+_0xf75c8c[_0x1351ed(0x1bd)]+':\x20'+_0xf75c8c[_0x1351ed(0x228)]+'\x20/\x20'+_0xf75c8c[_0x1351ed(0x284)]+'\x0a';}),_0x419f03+='\x0a',_0x419f03+=_0x51a45d(0x241),_0x419f03+=!settings[_0x51a45d(0x24c)]?_0x51a45d(0x27d):_0x51a45d(0x246),_0x419f03+=settings['telegramEnabled']?settings[_0x51a45d(0x179)]=='all'?_0x51a45d(0x253):_0x51a45d(0x1e7)+settings[_0x51a45d(0x179)]+'\x20only\x0a':'',tgBot[_0x51a45d(0x23c)](_0x363683[_0x51a45d(0x286)]['id'],_0x419f03,{'parse_mode':_0x51a45d(0x190)})['catch'](_0x5a6e8e=>{telegramError(_0x5a6e8e);});}),tgBot[_0x2f3465(0x268)](/\/restart/,_0x382a13=>{const _0x54cb6e=_0x2f3465;if(!validateTelegram(_0x382a13))return;tgBot['removeListener'](_0x54cb6e(0x1d9));const _0x361cf5=getEnabledBots();if(_0x361cf5[_0x54cb6e(0x208)]==0x0)tgBot['sendMessage'](_0x382a13[_0x54cb6e(0x286)]['id'],'No\x20bots\x20running\x20right\x20now')[_0x54cb6e(0x14f)](_0x494f23=>{telegramError(_0x494f23);});else{if(_0x361cf5['length']>0x1)_0x361cf5['push']({'botID':_0x54cb6e(0x262)});let _0xd7a1bb=[],_0x259d45=[];const _0x1af8d6=_0x361cf5[_0x54cb6e(0x208)]%0x4==0x0||_0x361cf5[_0x54cb6e(0x208)]%0x4==0x3||_0x361cf5[_0x54cb6e(0x208)]%0x3==0x1?0x4:0x3;let _0x5a822c=0x0;_0x361cf5[_0x54cb6e(0x22f)]((_0x56afde,_0x510edd)=>{const _0x3ef6aa=_0x54cb6e;if(_0x510edd%_0x1af8d6==0x0)_0x259d45=[];_0x259d45['push']({'text':_0x56afde[_0x3ef6aa(0x1cc)]=='all'?_0x3ef6aa(0x188):_0x3ef6aa(0x258)+_0x56afde['botID'],'callback_data':_0x56afde[_0x3ef6aa(0x1cc)]}),_0x510edd%_0x1af8d6==0x0&&(_0xd7a1bb[_0x5a822c]=_0x259d45,_0x5a822c++);}),tgBot['sendMessage'](_0x382a13['chat']['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20restart?',{'reply_markup':{'inline_keyboard':_0xd7a1bb}})[_0x54cb6e(0x14f)](_0x3115ec=>{telegramError(_0x3115ec);}),tgBot['on'](_0x54cb6e(0x1d9),async _0x276afe=>{const _0x50a0c0=_0x54cb6e,_0x20d2f5=_0x276afe[_0x50a0c0(0x201)],_0x14f333=_0x276afe[_0x50a0c0(0x20f)];tgBot[_0x50a0c0(0x1b0)](_0x276afe['id'])[_0x50a0c0(0x1cb)](async()=>{const _0x1d35bd=_0x50a0c0;if(_0x20d2f5==_0x1d35bd(0x262)){if(settings[_0x1d35bd(0x179)]==_0x1d35bd(0x1e1))tgBot[_0x1d35bd(0x23c)](_0x14f333[_0x1d35bd(0x286)]['id'],_0x1d35bd(0x256))['catch'](_0x1d783d=>{telegramError(_0x1d783d);});config['forEach'](_0x5e7e81=>{const _0x332bd7=_0x1d35bd;restartBot(_0x5e7e81[_0x332bd7(0x1cc)]);});}else{if(settings['telegramEvents']==_0x1d35bd(0x1e1))tgBot[_0x1d35bd(0x23c)](_0x14f333['chat']['id'],_0x1d35bd(0x199)+_0x20d2f5)[_0x1d35bd(0x14f)](_0x519c1e=>{telegramError(_0x519c1e);});restartBot(_0x20d2f5);}}),tgBot[_0x50a0c0(0x265)](_0x50a0c0(0x1d9));});}}),tgBot[_0x2f3465(0x268)](/\/on/,_0xadd84d=>{const _0x2a0d04=_0x2f3465;if(!validateTelegram(_0xadd84d))return;tgBot[_0x2a0d04(0x265)](_0x2a0d04(0x1d9));const _0x45789b=getDisabledBots();if(_0x45789b[_0x2a0d04(0x208)]==0x0)tgBot[_0x2a0d04(0x23c)](_0xadd84d[_0x2a0d04(0x286)]['id'],_0x2a0d04(0x184))[_0x2a0d04(0x14f)](_0x397a23=>{telegramError(_0x397a23);});else{if(_0x45789b['length']>0x1)_0x45789b[_0x2a0d04(0x21b)]({'botID':_0x2a0d04(0x262)});let _0x33617d=[],_0x1b108a=[];const _0x7d574c=_0x45789b[_0x2a0d04(0x208)]%0x4==0x0||_0x45789b[_0x2a0d04(0x208)]%0x4==0x3||_0x45789b[_0x2a0d04(0x208)]%0x3==0x1?0x4:0x3;let _0x365dab=0x0;_0x45789b[_0x2a0d04(0x22f)]((_0x5aa917,_0x3641d7)=>{const _0x571651=_0x2a0d04;if(_0x3641d7%_0x7d574c==0x0)_0x1b108a=[];_0x1b108a[_0x571651(0x21b)]({'text':_0x5aa917[_0x571651(0x1cc)]==_0x571651(0x262)?_0x571651(0x188):'Bot\x20'+_0x5aa917[_0x571651(0x1cc)],'callback_data':_0x5aa917[_0x571651(0x1cc)]}),_0x3641d7%_0x7d574c==0x0&&(_0x33617d[_0x365dab]=_0x1b108a,_0x365dab++);}),tgBot['sendMessage'](_0xadd84d[_0x2a0d04(0x286)]['id'],_0x2a0d04(0x1c7),{'reply_markup':{'inline_keyboard':_0x33617d}})[_0x2a0d04(0x14f)](_0x4d7371=>{telegramError(_0x4d7371);}),tgBot['on']('callback_query',async _0x258d7e=>{const _0x3c97eb=_0x2a0d04,_0x4fc385=_0x258d7e[_0x3c97eb(0x201)],_0x2aba1a=_0x258d7e[_0x3c97eb(0x20f)];tgBot[_0x3c97eb(0x1b0)](_0x258d7e['id'])[_0x3c97eb(0x1cb)](async()=>{const _0x2b49d6=_0x3c97eb;if(_0x4fc385=='all'){if(settings[_0x2b49d6(0x179)]==_0x2b49d6(0x1e1))tgBot[_0x2b49d6(0x23c)](_0x2aba1a[_0x2b49d6(0x286)]['id'],_0x2b49d6(0x187))[_0x2b49d6(0x14f)](_0x22a48c=>{telegramError(_0x22a48c);});_0x45789b[_0x2b49d6(0x22f)](_0xaeb72d=>{const _0x25ea3c=_0x2b49d6;if(_0xaeb72d['botID']!=_0x25ea3c(0x262))toggleBot(_0xaeb72d[_0x25ea3c(0x1cc)],toggleStatus(_0xaeb72d[_0x25ea3c(0x1cc)]),_0x25ea3c(0x1ed));});}else{if(settings[_0x2b49d6(0x179)]==_0x2b49d6(0x1e1))tgBot[_0x2b49d6(0x23c)](_0x2aba1a[_0x2b49d6(0x286)]['id'],_0x2b49d6(0x158)+_0x4fc385)['catch'](_0x5efc16=>{telegramError(_0x5efc16);});toggleBot(_0x4fc385,toggleStatus(_0x4fc385),_0x2b49d6(0x1ed));}}),tgBot[_0x3c97eb(0x265)](_0x3c97eb(0x1d9));});}}),tgBot[_0x2f3465(0x268)](/\/off/,_0x487083=>{const _0x2721a8=_0x2f3465;if(!validateTelegram(_0x487083))return;tgBot['removeListener']('callback_query');const _0x59ab66=getEnabledBots();if(_0x59ab66[_0x2721a8(0x208)]==0x0)tgBot[_0x2721a8(0x23c)](_0x487083[_0x2721a8(0x286)]['id'],_0x2721a8(0x236))[_0x2721a8(0x14f)](_0x59fbcc=>{telegramError(_0x59fbcc);});else{if(_0x59ab66[_0x2721a8(0x208)]>0x1)_0x59ab66[_0x2721a8(0x21b)]({'botID':_0x2721a8(0x262)});let _0x2f9846=[],_0x14d4ab=[];const _0x5d2eee=_0x59ab66[_0x2721a8(0x208)]%0x4==0x0||_0x59ab66[_0x2721a8(0x208)]%0x4==0x3||_0x59ab66[_0x2721a8(0x208)]%0x3==0x1?0x4:0x3;let _0x3dba9e=0x0;_0x59ab66[_0x2721a8(0x22f)]((_0x204929,_0xd965e3)=>{const _0x3ae11c=_0x2721a8;if(_0xd965e3%_0x5d2eee==0x0)_0x14d4ab=[];_0x14d4ab[_0x3ae11c(0x21b)]({'text':_0x204929[_0x3ae11c(0x1cc)]==_0x3ae11c(0x262)?_0x3ae11c(0x188):_0x3ae11c(0x258)+_0x204929[_0x3ae11c(0x1cc)],'callback_data':_0x204929[_0x3ae11c(0x1cc)]}),_0xd965e3%_0x5d2eee==0x0&&(_0x2f9846[_0x3dba9e]=_0x14d4ab,_0x3dba9e++);}),tgBot[_0x2721a8(0x23c)](_0x487083[_0x2721a8(0x286)]['id'],_0x2721a8(0x24d),{'reply_markup':{'inline_keyboard':_0x2f9846}})[_0x2721a8(0x14f)](_0x323d9f=>{telegramError(_0x323d9f);}),tgBot['on']('callback_query',async _0x2bc7a5=>{const _0x31650d=_0x2721a8,_0x5ca3a4=_0x2bc7a5['data'],_0x39ac76=_0x2bc7a5[_0x31650d(0x20f)];tgBot['answerCallbackQuery'](_0x2bc7a5['id'])[_0x31650d(0x1cb)](async()=>{const _0x4c42a8=_0x31650d;if(_0x5ca3a4==_0x4c42a8(0x262)){if(settings[_0x4c42a8(0x179)]=='orders')tgBot[_0x4c42a8(0x23c)](_0x39ac76[_0x4c42a8(0x286)]['id'],_0x4c42a8(0x19f))[_0x4c42a8(0x14f)](_0x101ff6=>{telegramError(_0x101ff6);});_0x59ab66[_0x4c42a8(0x22f)](_0x351078=>{const _0x3d7938=_0x4c42a8;if(_0x351078['botID']!='all')toggleBot(_0x351078['botID'],toggleStatus(_0x351078[_0x3d7938(0x1cc)]),'stopped');});}else{if(settings[_0x4c42a8(0x179)]=='orders')tgBot[_0x4c42a8(0x23c)](_0x39ac76[_0x4c42a8(0x286)]['id'],_0x4c42a8(0x288)+_0x5ca3a4)['catch'](_0x27de40=>{telegramError(_0x27de40);});toggleBot(_0x5ca3a4,toggleStatus(_0x5ca3a4),_0x4c42a8(0x1ed));}}),tgBot[_0x31650d(0x265)]('callback_query');});}}),tgBot['onText'](/\/disable/,_0x130757=>{const _0x5caa3d=_0x2f3465;if(!validateTelegram(_0x130757))return;tgBot[_0x5caa3d(0x23c)](_0x130757[_0x5caa3d(0x286)]['id'],'Notifications\x20disabled')['catch'](_0x434a7d=>{telegramError(_0x434a7d);}),updateSetting(_0x5caa3d(0x24c),![]);}),tgBot[_0x2f3465(0x268)](/\/help/,_0xde1182=>{const _0xcbd240=_0x2f3465;if(!validateTelegram(_0xde1182))return;tgBot['sendMessage'](_0xde1182[_0xcbd240(0x286)]['id'],_0x3b4a3f)[_0xcbd240(0x14f)](_0x608326=>{telegramError(_0x608326);});}),tgBot['on'](_0x2f3465(0x183),_0x5752a7=>{const _0x572222=_0x2f3465;_0x5752a7[_0x572222(0x170)]()[_0x572222(0x19a)](_0x572222(0x19e))&&(logging(_0x572222(0x1f4)),tgBot['stopPolling'](),tgBot=null,io['to'](_0x572222(0x28b))[_0x572222(0x1c5)](_0x572222(0x1ca),'Invalid\x20Telegram\x20token'));}),process[_0x2f3465(0x207)](_0x2f3465(0x279),()=>{const _0x37e8b6=_0x2f3465;if(tgBot)tgBot[_0x37e8b6(0x197)]();process[_0x37e8b6(0x229)](0x1);}),process['once'](_0x2f3465(0x173),()=>{const _0x4ec2d9=_0x2f3465;if(tgBot)tgBot[_0x4ec2d9(0x197)]();process[_0x4ec2d9(0x229)](0x1);});}}function disableTelegram(){const _0x1fac29=_0x1debc5;tgBot&&(tgBot[_0x1fac29(0x197)](),tgBot=null);}function sendTelegram(_0x277fa3,_0x9b82db){const _0x12e820=_0x1debc5;if(settings[_0x12e820(0x24c)]){if(settings[_0x12e820(0x179)]==_0x12e820(0x262)||(_0x9b82db[_0x12e820(0x1ae)]==_0x12e820(0x1fe)||_0x9b82db[_0x12e820(0x1ae)]==_0x12e820(0x1e9))&&settings[_0x12e820(0x179)]==_0x12e820(0x26f)||_0x9b82db[_0x12e820(0x1ae)]==_0x12e820(0x25e)&&settings[_0x12e820(0x179)]==_0x12e820(0x1e1)){if(tgBot&&settings[_0x12e820(0x299)]){if(_0x9b82db[_0x12e820(0x177)])tgBot['sendMessage'](settings[_0x12e820(0x299)],_0x9b82db[_0x12e820(0x1bd)]+'\x20>\x20'+_0x9b82db[_0x12e820(0x18e)])[_0x12e820(0x14f)](_0x75cfc0=>{telegramError(_0x75cfc0);});else tgBot[_0x12e820(0x23c)](settings[_0x12e820(0x299)],_0x12e820(0x258)+_0x277fa3+_0x12e820(0x234)+_0x9b82db[_0x12e820(0x18e)])['catch'](_0x480df8=>{telegramError(_0x480df8);});}}}}function getDeviceWithIp(_0x16708a){const _0x4f0387=_0x1debc5;return devices[_0x4f0387(0x276)](_0x5459fe=>_0x5459fe['ip']===_0x16708a);}function temporaryAccess2FA(_0x4effd6,_0x4cc64f){const _0x7a60fd=_0x1debc5;let _0x201e5d=new Date(),_0x4e03c4=![];if(lastIpApproval){if(_0x201e5d-lastIpApproval<0x1388)_0x4e03c4=!![];}lastIpApproval=new Date();if(_0x4e03c4)return;tgBot&&settings[_0x7a60fd(0x299)]&&(tgBot[_0x7a60fd(0x265)](_0x7a60fd(0x1d9)),tgBot[_0x7a60fd(0x23c)](settings[_0x7a60fd(0x299)],_0x7a60fd(0x25b)+normalizeIP(_0x4cc64f)['show']+'</b>\x20?',{'parse_mode':_0x7a60fd(0x190),'reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':_0x7a60fd(0x1f2),'callback_data':'15'},{'text':'30\x20min','callback_data':'30'},{'text':_0x7a60fd(0x18d),'callback_data':_0x7a60fd(0x18d)}]]}})['catch'](_0x9ab322=>{telegramError(_0x9ab322);}),tgBot['on'](_0x7a60fd(0x1d9),async _0x2d4674=>{const _0x442755=_0x7a60fd,_0x1aa473=_0x2d4674[_0x442755(0x201)],_0x5e47e6=_0x2d4674[_0x442755(0x20f)];tgBot[_0x442755(0x1b0)](_0x2d4674['id'])[_0x442755(0x1cb)](async()=>{const _0x25a62f=_0x442755;devices[_0x4effd6]['telegramIpApproval']={'clientip':_0x4cc64f,'timestamp':new Date()[_0x25a62f(0x1e4)](),'expiry':_0x1aa473},_0x1aa473!=_0x25a62f(0x18d)?(await tgBot[_0x25a62f(0x23c)](_0x5e47e6['chat']['id'],_0x25a62f(0x15f)+_0x1aa473+_0x25a62f(0x244),{'parse_mode':_0x25a62f(0x190)})[_0x25a62f(0x14f)](_0x22df74=>{telegramError(_0x22df74);}),io['to'](_0x4effd6)[_0x25a62f(0x1c5)]('status',{'access':{'allow':![],'reason':'reload','token':null}})):(await tgBot['sendMessage'](_0x5e47e6[_0x25a62f(0x286)]['id'],_0x25a62f(0x266))[_0x25a62f(0x14f)](_0x585161=>{telegramError(_0x585161);}),io['to'](_0x4effd6)['emit'](_0x25a62f(0x228),{'access':{'allow':![],'reason':_0x25a62f(0x1b4),'token':null}}));}),tgBot[_0x442755(0x265)](_0x442755(0x1d9));}));}function loginAccess2FA(_0x15053b,_0x11948d){const _0x2beb6f=_0x1debc5;tgBot&&settings[_0x2beb6f(0x299)]&&(tgBot[_0x2beb6f(0x265)](_0x2beb6f(0x1d9)),tgBot[_0x2beb6f(0x23c)](settings['telegramChatId'],'Allow\x20login\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x11948d)[_0x2beb6f(0x271)]+'</b>\x20?',{'parse_mode':_0x2beb6f(0x190),'reply_markup':{'inline_keyboard':[[{'text':_0x2beb6f(0x248),'callback_data':loginExpiry},{'text':'reject','callback_data':_0x2beb6f(0x18d)}]]}})['catch'](_0x3f423c=>{telegramError(_0x3f423c);}),tgBot['on'](_0x2beb6f(0x1d9),async _0x3fed6f=>{const _0x1c6b07=_0x2beb6f,_0x4392c2=_0x3fed6f[_0x1c6b07(0x201)],_0x59d576=_0x3fed6f[_0x1c6b07(0x20f)];tgBot[_0x1c6b07(0x1b0)](_0x3fed6f['id'])['then'](async()=>{const _0x4ee7a4=_0x1c6b07;devices[_0x15053b][_0x4ee7a4(0x249)]={'clientip':_0x11948d,'timestamp':new Date()[_0x4ee7a4(0x1e4)](),'expiry':_0x4392c2},_0x4392c2!='reject'?(await tgBot['sendMessage'](_0x59d576['chat']['id'],_0x4ee7a4(0x1c1),{'parse_mode':_0x4ee7a4(0x190)})['catch'](_0x444d8d=>{telegramError(_0x444d8d);}),io['to'](_0x15053b)[_0x4ee7a4(0x1c5)](_0x4ee7a4(0x228),{'access':{'allow':![],'reason':_0x4ee7a4(0x283),'token':null}})):(await tgBot[_0x4ee7a4(0x23c)](_0x59d576[_0x4ee7a4(0x286)]['id'],'Login\x20rejected')[_0x4ee7a4(0x14f)](_0x3c648c=>{telegramError(_0x3c648c);}),io['to'](_0x15053b)[_0x4ee7a4(0x1c5)](_0x4ee7a4(0x228),{'access':{'allow':![],'reason':_0x4ee7a4(0x1ac),'token':null}}));}),tgBot[_0x1c6b07(0x265)](_0x1c6b07(0x1d9));}));}function getConfiguration(){const _0x369e56=_0x1debc5;return dbConfig[_0x369e56(0x1bb)](_0x369e56(0x235))[_0x369e56(0x1d8)]('botID')[_0x369e56(0x27e)]()||[];}function getEnabledBots(){const _0xaa4a19=_0x1debc5;return dbConfig[_0xaa4a19(0x1bb)](_0xaa4a19(0x235))[_0xaa4a19(0x1d8)](_0xaa4a19(0x1cc))['filter']({'status':'enabled'})[_0xaa4a19(0x27e)]()||[];}function getDisabledBots(){const _0x49082a=_0x1debc5;return dbConfig['get'](_0x49082a(0x235))[_0x49082a(0x1d8)](_0x49082a(0x1cc))[_0x49082a(0x200)]({'status':_0x49082a(0x26c)})[_0x49082a(0x27e)]()||[];}function getSettings(){const _0x349d89=_0x1debc5;return dbSettings[_0x349d89(0x1bb)]('settings')[_0x349d89(0x27e)]()||{'timeshift':0x0};}function getSecure(){const _0x572b7d=_0x1debc5;return dbSecure['get'](_0x572b7d(0x205))[_0x572b7d(0x27e)]()||{};}function getBlacklist(){const _0xa02fa=_0x1debc5;return dbSecure['get'](_0xa02fa(0x19b))[_0xa02fa(0x27e)]()||[];}function broadcastToBots(_0x2f6140,_0x2ffc1b){const _0x4115d8=_0x1debc5;config[_0x4115d8(0x22f)](_0x26b847=>{const _0x4c783b=_0x4115d8;if(_0x26b847['status']==_0x4c783b(0x1c2)&&_0x26b847['live']==_0x4c783b(0x157)){if(pid[_0x26b847[_0x4c783b(0x1cc)]])pid[_0x26b847[_0x4c783b(0x1cc)]]['send']({[_0x2f6140]:_0x2ffc1b});}});}function storeSettings(_0x2be265,_0x59691d=![]){const _0x4c65e4=_0x1debc5;_0x2be265={...settings,..._0x2be265};if(_0x59691d&&_0x2be265[_0x4c65e4(0x1a7)]!='************'&&_0x2be265[_0x4c65e4(0x1a7)]!=''){const _0x30212f=crypt[_0x4c65e4(0x159)](secure['privateKey'],_0x2be265[_0x4c65e4(0x1a7)])[_0x4c65e4(0x20f)][_0x4c65e4(0x25f)]('@')[0x0],_0x332ac3=bcrypt[_0x4c65e4(0x178)](_0x30212f,saltRounds);_0x2be265={..._0x2be265,'bbPassword':_0x332ac3};}if(_0x59691d&&_0x2be265[_0x4c65e4(0x233)]!='************'&&_0x2be265[_0x4c65e4(0x233)]!=''){const _0xc81e81=crypt[_0x4c65e4(0x159)](secure[_0x4c65e4(0x291)],_0x2be265['telegramToken'])[_0x4c65e4(0x20f)][_0x4c65e4(0x25f)]('@')[0x0];_0x2be265={..._0x2be265,'telegramToken':_0xc81e81};}const _0x5419df=_0x2be265['telegramToken']!=_0x4c65e4(0x209)&&_0x2be265[_0x4c65e4(0x233)]!=settings[_0x4c65e4(0x233)]||_0x2be265[_0x4c65e4(0x26d)]!=settings['telegramUsername'],_0x2175f4=_0x2be265[_0x4c65e4(0x233)]==''||_0x2be265[_0x4c65e4(0x26d)]=='';if(_0x5419df)_0x2be265['telegramEvents']=_0x4c65e4(0x262);for(const [_0x1cc349,_0x26320c]of Object[_0x4c65e4(0x21f)](_0x2be265)){if(_0x1cc349==_0x4c65e4(0x233)&&_0x26320c==_0x4c65e4(0x209)){_0x2be265['telegramToken']=settings[_0x4c65e4(0x233)];continue;};if(_0x1cc349=='bbPassword'&&_0x26320c==_0x4c65e4(0x209)){_0x2be265[_0x4c65e4(0x1a7)]=settings['bbPassword'];continue;};dbSettings[_0x4c65e4(0x27c)](_0x4c65e4(0x1bf)+_0x1cc349,_0x26320c)['write']();}settings=_0x2be265,io['to'](_0x4c65e4(0x28b))[_0x4c65e4(0x1c5)](_0x4c65e4(0x1f6),cleanSettings()),broadcastToBots(_0x4c65e4(0x1f1),settings[_0x4c65e4(0x1f1)]);if(_0x5419df&&!_0x2175f4)initTelegram();if(_0x5419df&&_0x2175f4)disableTelegram();getAllClients()[_0x4c65e4(0x22f)](_0x380905=>{const _0x249088=_0x4c65e4;getSocket(_0x380905['id'])[_0x249088(0x1c5)]('status',{'access':{'allow':![],'reason':_0x249088(0x283),'token':null}});});}function updateSetting(_0x35e550,_0x1dcfaf){const _0x723767=_0x1debc5;dbSettings[_0x723767(0x27c)]('settings.'+_0x35e550,_0x1dcfaf)[_0x723767(0x232)](),settings=getSettings(),io['to'](_0x723767(0x28b))[_0x723767(0x1c5)](_0x723767(0x1f6),cleanSettings());}function storeSecure(_0x10b902){const _0x4a5363=_0x1debc5;dbSecure['get'](_0x4a5363(0x205))[_0x4a5363(0x21b)](_0x10b902)[_0x4a5363(0x232)](),secure=_0x10b902;}function addBlacklist(_0x297165){const _0x4b6d76=_0x1debc5;cleanBlacklist();let _0x281f7a;devices[_0x297165][_0x4b6d76(0x250)]?_0x281f7a=Math[_0x4b6d76(0x198)](devices[_0x297165][_0x4b6d76(0x250)][_0x4b6d76(0x242)],loginExpiry):_0x281f7a=loginExpiry,dbSecure[_0x4b6d76(0x1bb)](_0x4b6d76(0x19b))['push']({'expiry':new Date()[_0x4b6d76(0x1e4)]()+_0x281f7a*0x3c*0x3e8,'token':devices[_0x297165][_0x4b6d76(0x24b)][_0x4b6d76(0x1da)]})['write'](),blacklist=dbSecure[_0x4b6d76(0x1bb)](_0x4b6d76(0x19b))[_0x4b6d76(0x27e)]();}function cleanBlacklist(){const _0x54ee7d=_0x1debc5;let _0x5e881a=dbSecure[_0x54ee7d(0x1bb)](_0x54ee7d(0x19b))[_0x54ee7d(0x21a)]()[_0x54ee7d(0x27e)](),_0x68f084=new Date()[_0x54ee7d(0x1e4)]();_0x5e881a[_0x54ee7d(0x22f)](_0x24f74d=>{const _0x4af8dd=_0x54ee7d;_0x24f74d[_0x4af8dd(0x242)]<_0x68f084&&dbSecure[_0x4af8dd(0x1bb)](_0x4af8dd(0x19b))[_0x4af8dd(0x1b9)]({'expiry':_0x24f74d['expiry']})[_0x4af8dd(0x232)]();});}function initStates(){const _0xa3d7b4=_0x1debc5;let _0x1933d9=getConfiguration();_0x1933d9[_0xa3d7b4(0x22f)](_0x5a9889=>{const _0x4be20d=_0xa3d7b4;_0x5a9889[_0x4be20d(0x284)]=_0x4be20d(0x1ed);}),storeConfiguration(_0x1933d9);}function onKeys(){const _0x318ca4=new RSA();return new Promise(_0x3e1c8d=>{const _0x102146=_0x3b7f;_0x318ca4['generateKeyPairAsync']()[_0x102146(0x1cb)](_0x2597cf=>{_0x3e1c8d(_0x2597cf);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x54232b=_0x1debc5;let _0x5ae742=getConfiguration(),_0x238885=![];_0x5ae742['forEach'](_0x16c79e=>{const _0x5d3014=_0x3b7f;if(_0x16c79e[_0x5d3014(0x228)]==_0x5d3014(0x157))_0x16c79e[_0x5d3014(0x228)]='enabled',_0x238885=!![];else _0x16c79e['status']==_0x5d3014(0x1ed)&&(_0x16c79e[_0x5d3014(0x228)]=_0x5d3014(0x26c),_0x238885=!![]);});if(_0x238885)storeConfiguration(_0x5ae742);let _0x55109c=getSecure();if(!_0x55109c['hasOwnProperty'](_0x54232b(0x215))){let _0x539be9=await generateKeys();_0x55109c[_0x54232b(0x21d)]=_0x539be9[_0x54232b(0x21d)],_0x55109c['privateKey']=_0x539be9['privateKey'],_0x55109c[_0x54232b(0x215)]=crypto['randomBytes'](0x20)['toString'](_0x54232b(0x219));;storeSecure(_0x55109c);}let _0xd64170=getSettings();_0x238885=![];!_0xd64170[_0x54232b(0x1c4)]('loginRequired')&&(_0xd64170[_0x54232b(0x19d)]=![],_0xd64170[_0x54232b(0x23d)]='',_0xd64170[_0x54232b(0x1a7)]='',_0xd64170[_0x54232b(0x18c)]=![],_0x238885=!![]);!_0xd64170[_0x54232b(0x1c4)](_0x54232b(0x278))&&(_0xd64170[_0x54232b(0x278)]=![],_0xd64170[_0x54232b(0x15e)]=[],_0xd64170['temporaryAccessAllowed']=![],_0x238885=!![]);if(!_0xd64170['hasOwnProperty'](_0x54232b(0x24c))){if(_0xd64170[_0x54232b(0x299)])_0xd64170[_0x54232b(0x24c)]=!![];else _0xd64170[_0x54232b(0x24c)]=![];_0x238885=!![];}if(_0x238885)storeSettings(_0xd64170);}function storeConfiguration(_0x205214){const _0x356b58=_0x1debc5;dbConfig[_0x356b58(0x1bb)](_0x356b58(0x235))[_0x356b58(0x1b9)]()[_0x356b58(0x232)](),dbConfig[_0x356b58(0x1bb)](_0x356b58(0x235))[_0x356b58(0x21b)](..._0x205214)[_0x356b58(0x232)](),config=_0x205214;}function resetPassword(){const _0x4deb55=_0x1debc5;tgBot&&settings[_0x4deb55(0x299)]&&(tgBot[_0x4deb55(0x265)](_0x4deb55(0x1d9)),tgBot[_0x4deb55(0x23c)](settings['telegramChatId'],_0x4deb55(0x18a),{'parse_mode':_0x4deb55(0x190),'reply_markup':{'inline_keyboard':[[{'text':_0x4deb55(0x162),'callback_data':_0x4deb55(0x162)},{'text':'no','callback_data':'no'}]]}})[_0x4deb55(0x14f)](_0x42e47f=>{telegramError(_0x42e47f);}),tgBot['on']('callback_query',async _0x4f11cb=>{const _0x2e23f5=_0x4deb55,_0x35bb6b=_0x4f11cb[_0x2e23f5(0x201)],_0xf0f523=_0x4f11cb['message'];tgBot['answerCallbackQuery'](_0x4f11cb['id'])[_0x2e23f5(0x1cb)](async()=>{const _0x5c3d16=_0x2e23f5;if(_0x35bb6b!='no'){const _0x1f8f2f=0xf,_0x447d9d=_0x5c3d16(0x1c9),_0x5ecdc8=Array['from'](crypto['randomFillSync'](new Uint32Array(_0x1f8f2f)))['map'](_0x1415ed=>_0x447d9d[_0x1415ed%_0x447d9d[_0x5c3d16(0x208)]])['join'](''),_0x58ce3f=bcrypt[_0x5c3d16(0x178)](_0x5ecdc8,saltRounds);storeSettings({'bbPassword':_0x58ce3f}),await tgBot[_0x5c3d16(0x23c)](_0xf0f523['chat']['id'],_0x5c3d16(0x230)+_0x5ecdc8,{'parse_mode':_0x5c3d16(0x190)})[_0x5c3d16(0x14f)](_0x1a3a70=>{telegramError(_0x1a3a70);});}else await tgBot['sendMessage'](_0xf0f523[_0x5c3d16(0x286)]['id'],'Password\x20reset\x20rejected')['catch'](_0x2763b4=>{telegramError(_0x2763b4);});}),tgBot[_0x2e23f5(0x265)]('callback_query');}));}function logging(_0x320259){const _0x23784f=_0x1debc5;console['log'](getTimeStamp()+_0x23784f(0x186)+_0x320259);if(tgBot&&settings['telegramChatId']&&settings[_0x23784f(0x179)]!='orders')tgBot[_0x23784f(0x23c)](settings[_0x23784f(0x299)],_0x23784f(0x281)+_0x320259)[_0x23784f(0x14f)](_0x23e6cc=>{telegramError(_0x23e6cc);});}function getServerTime(){const _0x113144=_0x1debc5,_0x4a3a0f=new Date();return _0x4a3a0f[_0x113144(0x196)]()+'/'+(_0x4a3a0f[_0x113144(0x1ab)]()+0x1)[_0x113144(0x170)]()['padStart'](0x2,'0')+'/'+_0x4a3a0f['getDate']()['toString']()[_0x113144(0x206)](0x2,'0')+'\x20'+_0x4a3a0f[_0x113144(0x25a)]()[_0x113144(0x170)]()[_0x113144(0x206)](0x2,'0')+':'+_0x4a3a0f[_0x113144(0x216)]()[_0x113144(0x170)]()['padStart'](0x2,'0')+':'+_0x4a3a0f[_0x113144(0x25d)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4fa523=_0x1debc5,_0x35df64=shiftedTime();return _0x35df64[_0x4fa523(0x196)]()+'/'+(_0x35df64[_0x4fa523(0x1ab)]()+0x1)[_0x4fa523(0x170)]()[_0x4fa523(0x206)](0x2,'0')+'/'+_0x35df64[_0x4fa523(0x296)]()[_0x4fa523(0x170)]()['padStart'](0x2,'0')+'\x20'+_0x35df64[_0x4fa523(0x25a)]()['toString']()['padStart'](0x2,'0')+':'+_0x35df64[_0x4fa523(0x216)]()[_0x4fa523(0x170)]()['padStart'](0x2,'0')+':'+_0x35df64[_0x4fa523(0x25d)]()[_0x4fa523(0x170)]()['padStart'](0x2,'0');}function shiftedTime(){const _0x305314=_0x1debc5,_0xa516b7=new Date();let _0x2b511f=_0xa516b7;if(settings[_0x305314(0x1f1)]&&settings[_0x305314(0x1f1)]!==0x0)_0x2b511f=fns[_0x305314(0x1ba)](_0xa516b7,{'hours':settings[_0x305314(0x1f1)]});return _0x2b511f;}function startScheduler(){const _0xd7b2e6=_0x1debc5;let _0x15b706=new Date()[_0xd7b2e6(0x182)]();_0x15b706==0x1&&backupConfigFiles();_0x15b706==0x9&&triggerAnalytics();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}function backupConfigFiles(){const _0x3ac4a9=_0x1debc5;fs[_0x3ac4a9(0x270)](configpath,{'withFileTypes':!![]})[_0x3ac4a9(0x22f)](_0x4d9e74=>{const _0x10d075=_0x3ac4a9;if(!_0x4d9e74[_0x10d075(0x16a)]())fs[_0x10d075(0x277)](configpath+_0x4d9e74[_0x10d075(0x171)],configbackuppath+_0x4d9e74[_0x10d075(0x171)]);});}function triggerAnalytics(){const _0x1ee1b3=_0x1debc5;analytics[_0x1ee1b3(0x1e8)]({'title':_0x1ee1b3(0x17c),'href':_0x1ee1b3(0x224),'path':'/v'+serverversion});}function validateCredentials(_0x30b7ef,_0x34a2b8){const _0x19e782=_0x1debc5;if(_0x30b7ef['username']==settings[_0x19e782(0x23d)]&&bcrypt[_0x19e782(0x20b)](_0x30b7ef[_0x19e782(0x194)],settings[_0x19e782(0x1a7)])){if(settings[_0x19e782(0x18c)])return{'allow':![],'reason':_0x19e782(0x273),'token':null};else{const _0x3f8f53=generateLoginToken(_0x34a2b8);return{'allow':!![],'reason':_0x19e782(0x17f),'token':_0x3f8f53};}}else return{'allow':![],'reason':_0x19e782(0x222),'token':null};}function refreshToken(_0x32a433){const _0x1ae15b=generateLoginToken(_0x32a433);return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x1ae15b};}function validateAccess(_0x568329,_0x47f243){const _0x2c85a0=_0x1debc5;let _0x22cd99=devices[_0x47f243]['ip'],_0x2991be;const _0x4b5287=_0xe7f560=>{const _0x28e891=_0x3b7f;if(settings['loginRequired']){if(settings[_0x28e891(0x18c)]){if(telegram2FaApproved(_0x47f243)){const _0x23ab97=generateLoginToken(_0x47f243);return{'allow':!![],'reason':'2FA\x20login\x20token\x20generated','token':_0x23ab97};}else return{'allow':![],'reason':_0x28e891(0x1f8),'token':null};}else return _0x2991be=validToken(_0xe7f560,_0x47f243),_0x2991be[_0x28e891(0x1c4)](_0x28e891(0x1e9))?{'allow':!![],'reason':_0x28e891(0x223),'token':_0xe7f560}:{'allow':![],'reason':_0x28e891(0x1f8),'token':null};}else return{'allow':!![],'reason':_0x28e891(0x181),'token':null};};if(settings[_0x2c85a0(0x278)]){let _0x1fea12=[...settings['whitelist'],_0x2c85a0(0x1a0),_0x2c85a0(0x259),'127.0.0.1'];if(_0x1fea12['includes'](_0x22cd99))return _0x4b5287(_0x568329);else{_0x2991be=validToken(_0x568329,_0x47f243);if(_0x2991be[_0x2c85a0(0x1c4)]('success'))return _0x4b5287(_0x568329);else{if(telegramIpApproved(_0x47f243)){const _0xb59837=generateToken(_0x47f243);return _0x2991be=_0x4b5287(_0x568329),_0x2991be['allow']?{'allow':!![],'reason':_0x2c85a0(0x1b6),'token':_0xb59837}:_0x2991be;}else return settings[_0x2c85a0(0x27b)]?{'allow':![],'reason':_0x2c85a0(0x150),'token':null}:{'allow':![],'reason':_0x2c85a0(0x154),'token':null};}}}else return _0x4b5287(_0x568329);}function timelyDecrypt(_0x4cd2ae,_0x505e55=!![]){const _0x221d3a=_0x1debc5;if(_0x4cd2ae)try{const _0x28bde3=crypt[_0x221d3a(0x159)](secure[_0x221d3a(0x291)],_0x4cd2ae)[_0x221d3a(0x20f)],_0x127df8=_0x28bde3['split']('@')[0x0],_0x21a438=_0x28bde3[_0x221d3a(0x25f)]('@')[0x1],_0x26ce70=new Date()[_0x221d3a(0x1e4)]();if(_0x505e55){if(_0x26ce70-_0x21a438<maxSecretAge*0x3e8)return _0x127df8;else return![];}else return _0x127df8;}catch(_0xac41c){return![];}else return![];}const validToken=(_0x2b8ed1,_0xb3737b)=>{const _0x12a8ea=_0x1debc5,_0x580fde=devices[_0xb3737b]['ip'];if(!_0x2b8ed1)return{'error':'No\x20authentication\x20token'};for(let _0x2c53fc of blacklist){if(_0x2c53fc[_0x12a8ea(0x1da)]==_0x2b8ed1)return{'error':_0x12a8ea(0x17a)};}let _0x3d9f6b;try{_0x3d9f6b=jwt['verify'](_0x2b8ed1,secure['secret']+_0xb3737b);}catch{return{'error':_0x12a8ea(0x1ad)};}if(!_0x3d9f6b['hasOwnProperty'](_0x12a8ea(0x20d))&&!_0x3d9f6b[_0x12a8ea(0x1c4)]('username')||!_0x3d9f6b['hasOwnProperty'](_0x12a8ea(0x193)))return{'error':_0x12a8ea(0x1d1)};if(!_0x3d9f6b[_0x12a8ea(0x1c4)]('username')&&_0x3d9f6b['hasOwnProperty'](_0x12a8ea(0x20d))){const {clientip:_0x41615a}=_0x3d9f6b;return _0x580fde==_0x41615a?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x12a8ea(0x28c)};}else{if(_0x3d9f6b[_0x12a8ea(0x1c4)](_0x12a8ea(0x155))&&_0x3d9f6b[_0x12a8ea(0x1c4)]('clientip')){const {username:_0x307f3a,clientip:_0x32e3b0}=_0x3d9f6b;return settings[_0x12a8ea(0x23d)]==_0x307f3a&&_0x580fde==_0x32e3b0?{'success':_0x12a8ea(0x1e2)}:{'error':_0x12a8ea(0x1c8)};}}},generateLoginToken=_0x5e0bf2=>{const _0x2dc82c=_0x1debc5;if(_0x5e0bf2){const _0x14d12a=devices[_0x5e0bf2]['ip'];return jwt[_0x2dc82c(0x272)]({'username':settings[_0x2dc82c(0x23d)],'clientip':_0x14d12a},secure[_0x2dc82c(0x215)]+_0x5e0bf2,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x21adf4=>{const _0x1e4803=_0x1debc5;if(_0x21adf4){const _0x5029e9=devices[_0x21adf4]['ip'];return jwt['sign']({'clientip':_0x5029e9},secure[_0x1e4803(0x215)]+_0x21adf4,{'expiresIn':devices[_0x21adf4][_0x1e4803(0x250)][_0x1e4803(0x242)]*0x3c});}else return![];},telegramIpApproved=_0x442985=>{const _0x510653=_0x1debc5;let _0x233f46=![];return devices[_0x442985][_0x510653(0x250)]&&devices[_0x442985]['telegramIpApproval'][_0x510653(0x242)]!=_0x510653(0x18d)&&(_0x233f46=devices[_0x442985][_0x510653(0x250)][_0x510653(0x20d)]==devices[_0x442985]['ip']&&new Date()[_0x510653(0x1e4)]()-devices[_0x442985][_0x510653(0x250)][_0x510653(0x160)]<devices[_0x442985][_0x510653(0x250)][_0x510653(0x242)]*0x3c*0x3e8),_0x233f46;},telegram2FaApproved=_0x3b8853=>{const _0x400b88=_0x1debc5;let _0x573e82=![];return devices[_0x3b8853][_0x400b88(0x249)]&&devices[_0x3b8853][_0x400b88(0x249)][_0x400b88(0x242)]!=_0x400b88(0x18d)&&(_0x573e82=devices[_0x3b8853][_0x400b88(0x249)][_0x400b88(0x20d)]==devices[_0x3b8853]['ip']&&new Date()['getTime']()-devices[_0x3b8853]['telegram2FaApproval']['timestamp']<devices[_0x3b8853][_0x400b88(0x249)][_0x400b88(0x242)]*0x3c*0x3e8),_0x573e82;},normalizeIP=_0x55ef36=>{const _0x358583=_0x1debc5;let _0x22e1a4=null,_0x731adc=null;if(ipaddr[_0x358583(0x220)](_0x55ef36)){const _0x28fd8e=ipaddr[_0x358583(0x1a8)](_0x55ef36);_0x28fd8e[_0x358583(0x290)]()==='ipv6'?(_0x28fd8e[_0x358583(0x1de)]()&&(_0x22e1a4=_0x28fd8e[_0x358583(0x172)]()[_0x358583(0x170)]()),_0x731adc=_0x28fd8e[_0x358583(0x170)]()):(_0x22e1a4=_0x28fd8e[_0x358583(0x170)](),_0x731adc=_0x28fd8e['toIPv4MappedAddress']()[_0x358583(0x170)]());}return{'show':_0x22e1a4?_0x22e1a4:_0x731adc,'store':_0x731adc};};