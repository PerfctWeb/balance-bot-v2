const _0x378322=_0x1aa6;(function(_0x19769c,_0x26cb37){const _0x329c14=_0x1aa6,_0x476132=_0x19769c();while(!![]){try{const _0x536028=parseInt(_0x329c14(0x1ee))/0x1+parseInt(_0x329c14(0x226))/0x2*(parseInt(_0x329c14(0x164))/0x3)+-parseInt(_0x329c14(0x230))/0x4+-parseInt(_0x329c14(0x10a))/0x5*(-parseInt(_0x329c14(0x1af))/0x6)+parseInt(_0x329c14(0x6f))/0x7*(parseInt(_0x329c14(0x139))/0x8)+parseInt(_0x329c14(0x1bf))/0x9*(-parseInt(_0x329c14(0x1f6))/0xa)+parseInt(_0x329c14(0x232))/0xb;if(_0x536028===_0x26cb37)break;else _0x476132['push'](_0x476132['shift']());}catch(_0x3dc07d){_0x476132['push'](_0x476132['shift']());}}}(_0x5d39,0x45958));const _0x1d168f=function(){let _0x6ab3ad=!![];return function(_0x55e237,_0x427add){const _0x292590=_0x6ab3ad?function(){const _0x22d123=_0x1aa6;if(_0x427add){const _0x2bc051=_0x427add[_0x22d123(0x1b5)](_0x55e237,arguments);return _0x427add=null,_0x2bc051;}}:function(){};return _0x6ab3ad=![],_0x292590;};}(),_0x3737b2=_0x1d168f(this,function(){const _0x389b49=_0x1aa6;return _0x3737b2[_0x389b49(0xf1)]()[_0x389b49(0x13b)](_0x389b49(0xa4))[_0x389b49(0xf1)]()[_0x389b49(0x79)](_0x3737b2)[_0x389b49(0x13b)](_0x389b49(0xa4));});_0x3737b2();'use strict';process[_0x378322(0xaf)][_0x378322(0x129)]=0x1;const childProcess=require(_0x378322(0x12a)),fs=require('fs'),fns=require(_0x378322(0x146)),low=require(_0x378322(0x23e)),FileSync=require('lowdb/adapters/FileSync'),path=require('path'),crypto=require('crypto'),Crypt=require('hybrid-crypto-js')[_0x378322(0xb6)],RSA=require(_0x378322(0x9d))[_0x378322(0x122)],bcrypt=require(_0x378322(0x21d)),jwt=require('jsonwebtoken'),ipaddr=require(_0x378322(0x68)),argv=require('yargs/yargs')(process[_0x378322(0xc8)][_0x378322(0x149)](0x2))[_0x378322(0xc8)],uuidRandom=require(_0x378322(0x14a)),TelegramBot=require(_0x378322(0x235)),Mixpanel=require(_0x378322(0x205)),axios=require(_0x378322(0x16f)),{GraphQLClient,gql}=require(_0x378322(0x1d4)),util=require('util'),fileUpload=require(_0x378322(0xe9)),{networkInterfaces}=require('os'),PORT=argv[_0x378322(0x10b)]||'3000',pattern=/^[0-9]{2,4}$/;!pattern[_0x378322(0xee)](PORT)&&(console[_0x378322(0x1ac)](_0x378322(0x19d)+PORT+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x378322(0x78)](0x1));const HOST=argv[_0x378322(0x1cb)]||null,userID=argv[_0x378322(0xf7)]||'',debugging=argv['d']||![],nodeversion=process[_0x378322(0x210)]['node'];let bbpath='bb/',bbpath2='';const botfile=_0x378322(0x1fb),configfile=_0x378322(0x9f),settingsfile=_0x378322(0x168),securefile=_0x378322(0x228),maxBackups=0xa;let validInstallation=!![];!fs[_0x378322(0x118)](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x378322(0xe7)),configpath=userID?bbpath+_0x378322(0x249)+userID+'/':bbpath+_0x378322(0x249),configbackuppath=configpath+_0x378322(0x22a),logspath=userID?bbpath+_0x378322(0x101)+userID+'/':bbpath+'logs/',zippath=userID?bbpath+'zip/'+userID+'/':bbpath+_0x378322(0xa7),loggerfile=fs[_0x378322(0x1ef)](logspath+_0x378322(0x110),{'flags':'a'}),temppath=userID?bbpath+_0x378322(0x190)+userID+'/':bbpath+'temp/';!fs[_0x378322(0x118)](configpath)&&fs[_0x378322(0xa3)](configpath);!fs[_0x378322(0x118)](configbackuppath)&&fs[_0x378322(0xa3)](configbackuppath);!fs['existsSync'](logspath)&&fs[_0x378322(0xa3)](logspath);!fs[_0x378322(0x118)](zippath)&&fs[_0x378322(0xa3)](zippath);!fs[_0x378322(0x118)](temppath)&&fs[_0x378322(0xa3)](temppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig['defaults']({'bots':[]})[_0x378322(0xab)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x378322(0x80)]({'settings':{'timeshift':0x0,'loginRequired':![],'bbUsername':'','bbPassword':'','f2aRequired':![],'lastmsgtelegram':0x0,'lastmsgemitted':0x0,'latestversion':_0x378322(0x23c),'onepagemode':![]}})[_0x378322(0xab)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x378322(0x80)]({'secure':{},'blacklist':[]})[_0x378322(0xab)]();let crypt=new Crypt({'md':'sha256','rsaStandard':_0x378322(0x142)});const saltRounds=0xa,mixpanel=Mixpanel[_0x378322(0x104)]('6b67f3d61ee94b8f5c80b4affef4c4d9',{'host':_0x378322(0x136)});let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),tgBot;if(settings['telegramToken']&&settings['telegramToken']!=''&&settings[_0x378322(0xa8)]&&settings['telegramUsername']!='')initTelegram();const parseColor=(_0x534766,_0x3ba9c4)=>{const _0x56305c=_0x378322,_0x3f14be=/#[A-Z]{3}#/g;if(typeof _0x534766==_0x56305c(0x240)){!_0x3ba9c4?_0x534766=_0x534766[_0x56305c(0x11c)](_0x3f14be,''):(_0x534766=_0x534766[_0x56305c(0x11c)](/#BLU#/g,'\x1b[34m'),_0x534766=_0x534766[_0x56305c(0x11c)](/#RED#/g,_0x56305c(0x115)),_0x534766=_0x534766['replace'](/#YEL#/g,'\x1b[33m'),_0x534766=_0x534766['replace'](/#MAG#/g,_0x56305c(0x69)),_0x534766=_0x534766[_0x56305c(0x11c)](/#CYA#/g,'\x1b[36m'),_0x534766=_0x534766[_0x56305c(0x11c)](/#RES#/g,_0x56305c(0x7f)));;}return _0x534766;},logger={'screen':_0x40459e=>{const _0x50ebe4=_0x378322;console[_0x50ebe4(0x1ac)](parseColor(_0x40459e,!![]));},'simple':_0x4f1d86=>{const _0x40b0ec=_0x378322;console[_0x40b0ec(0x1ac)](parseColor(_0x4f1d86,!![])),loggerfile[_0x40b0ec(0xab)](util['format'](parseColor(_0x4f1d86,![]))+'\x0a');},'full':async _0x3bdd19=>{const _0x588a46=_0x378322,_0x4a9484=getTimeStamp()+_0x588a46(0x1da)+_0x3bdd19;console[_0x588a46(0x1ac)](parseColor(_0x4a9484,!![])),loggerfile[_0x588a46(0xab)](util[_0x588a46(0xd9)](parseColor(_0x4a9484,![]))+'\x0a');if(tgBot&&settings['telegramChatId']&&settings[_0x588a46(0x1a8)]!=_0x588a46(0x103))await tgBot['sendMessage'](settings['telegramChatId'],'Bot\x20Mgr\x20>\x20'+parseColor(_0x3bdd19,![]))[_0x588a46(0x17e)](_0xec0100=>{telegramError(_0xec0100);});},'debug':async(_0x183c49,_0x5ad4c6='')=>{const _0x772d64=_0x378322,_0x157e1f=getTimeStamp()+_0x772d64(0x1a6)+_0x183c49;if(debugging)console[_0x772d64(0x1ac)](parseColor(_0x157e1f,!![]));loggerfile[_0x772d64(0xab)](util[_0x772d64(0xd9)](parseColor(_0x157e1f,![]))+'\x0a');if(_0x5ad4c6){if(debugging)console[_0x772d64(0x1ac)](_0x5ad4c6);loggerfile[_0x772d64(0xab)](util[_0x772d64(0xd9)](_0x5ad4c6)+'\x0a');}}};process['on']('uncaughtException',function(_0x75f0de){const _0x4fa04a=_0x378322;logger[_0x4fa04a(0x1dc)](_0x75f0de);});let restoredConfigFile=0x0,newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x378322(0x14f))[_0x378322(0x88)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![],publicip,newMessages=[],updateAvailable=![];const express=require(_0x378322(0x1fd)),app=express(),http=require(_0x378322(0x18f))[_0x378322(0x178)](app);app[_0x378322(0x19a)](fileUpload({'useTempFiles':!![]})),app[_0x378322(0xfa)]('/download/:type',async(_0x1d9c48,_0x529545)=>{const _0x252063=_0x378322,_0x5584be=_0x1d9c48[_0x252063(0x1c3)]['type'],_0x136234=getClientsWithBotID(_0x252063(0x234)),_0x473827=_0x1d9c48['headers'][_0x252063(0x92)],_0x535a28=timelyDecrypt(_0x473827,![]),_0x123413=_0x136234[_0x252063(0x7c)](_0x458dd1=>_0x458dd1['uuid']==_0x535a28);if(_0x123413){const _0x12fd7c=normalizeIP(_0x1d9c48['socket'][_0x252063(0xa5)])[_0x252063(0x96)],_0x12dab5=_0x1d9c48[_0x252063(0xbf)][_0x252063(0x86)];if(validateAccess(_0x12dab5,_0x535a28,_0x12fd7c)[_0x252063(0x1e3)])_0x5584be==_0x252063(0xd1)&&await backupConfigFiles(),await zipFiles(_0x5584be),_0x529545[_0x252063(0x170)](zippath+(_0x5584be+_0x252063(0xb5)),_0x5a3918=>{const _0x45556e=_0x252063;_0x5a3918&&(logger[_0x45556e(0x161)](_0x45556e(0x1c4)+_0x5584be),logger['simple'](_0x5a3918));});else logger[_0x252063(0x161)](_0x252063(0x212)+_0x5584be+'\x20(1)');}else logger[_0x252063(0x161)](_0x252063(0x212)+_0x5584be+_0x252063(0x1ea));}),app[_0x378322(0x23b)](_0x378322(0xd7),async(_0x10b909,_0x47a29c)=>{const _0x4bb11d=_0x378322,_0x2b4e3a=getClientsWithBotID(_0x4bb11d(0x234)),_0x3d690e=_0x10b909[_0x4bb11d(0xbf)][_0x4bb11d(0x92)],_0x31f699=timelyDecrypt(_0x3d690e,![]),_0x36f78b=_0x2b4e3a[_0x4bb11d(0x7c)](_0x1695c5=>_0x1695c5[_0x4bb11d(0x92)]==_0x31f699);logger[_0x4bb11d(0xe3)](_0x4bb11d(0x181));if(_0x36f78b){const _0x2ea07c=normalizeIP(_0x10b909[_0x4bb11d(0x153)][_0x4bb11d(0xa5)])[_0x4bb11d(0x96)],_0x4d5a0d=_0x10b909[_0x4bb11d(0xbf)][_0x4bb11d(0x86)];if(validateAccess(_0x4d5a0d,_0x31f699,_0x2ea07c)[_0x4bb11d(0x1e3)]){if(_0x10b909[_0x4bb11d(0x1ab)]){const _0xc634d7=_0x10b909[_0x4bb11d(0x1ab)]['backupfile'];await _0xc634d7['mv'](temppath+_0xc634d7[_0x4bb11d(0xae)]),_0x47a29c[_0x4bb11d(0x238)]({'status':!![],'message':_0x4bb11d(0x1f7)});const _0x32b4d4=getBotsWithMode();_0x32b4d4['length']>0x0?confirmRestore(temppath,_0xc634d7[_0x4bb11d(0xae)]):unzipFile(temppath,_0xc634d7[_0x4bb11d(0xae)]);}}else logger['full']('Unauthorized\x20attempt\x20to\x20upload\x20file\x20(1)');}else logger[_0x4bb11d(0x161)](_0x4bb11d(0x10d));}),app['use'](express[_0x378322(0xff)](path[_0x378322(0x140)](__dirname,bbpath2,_0x378322(0x1f2)))),app[_0x378322(0x19a)](express['static'](path[_0x378322(0x140)](__dirname,bbpath2,_0x378322(0x15f)))),app[_0x378322(0xfa)]('/',function(_0x1d55ce,_0x10288d){const _0x2956d5=_0x378322;_0x10288d[_0x2956d5(0x15b)](path[_0x2956d5(0x140)](__dirname,bbpath2,_0x2956d5(0x1f2),'index.html'));}),app[_0x378322(0xfa)](_0x378322(0x24c),function(_0x1aafa5,_0x3da552){const _0x48d91d=_0x378322;_0x3da552[_0x48d91d(0x15b)](path[_0x48d91d(0x140)](__dirname,bbpath2,_0x48d91d(0x15f),_0x48d91d(0x1bd)));}),app['get'](_0x378322(0x176),(_0x4f8850,_0x3cf90e)=>{const _0xb4a1f1=_0x378322;_0x3cf90e[_0xb4a1f1(0x15b)](path['join'](__dirname,bbpath2,_0xb4a1f1(0x15f),'index.html'));}),app['get'](_0x378322(0x216),(_0x14eacb,_0x59654b)=>{const _0x5d1336=_0x378322;_0x59654b[_0x5d1336(0x15b)](path[_0x5d1336(0x140)](__dirname,bbpath2,_0x5d1336(0x15f),_0x5d1336(0x1bd)));}),app['get']('/:bot/coins',(_0x568542,_0x373c17)=>{const _0xff0bf2=_0x378322;_0x373c17[_0xff0bf2(0x15b)](path[_0xff0bf2(0x140)](__dirname,bbpath2,'build',_0xff0bf2(0x1bd)));}),app[_0x378322(0xfa)](_0x378322(0xb3),(_0x15db7d,_0x2ae48e)=>{const _0x3ca4ae=_0x378322;_0x2ae48e[_0x3ca4ae(0x15b)](path['join'](__dirname,bbpath2,_0x3ca4ae(0x15f),_0x3ca4ae(0x1bd)));}),app[_0x378322(0xfa)](_0x378322(0x1bb),(_0x526808,_0x2b6bf5)=>{const _0x25d138=_0x378322;_0x2b6bf5[_0x25d138(0x15b)](path[_0x25d138(0x140)](__dirname,bbpath2,_0x25d138(0x15f),_0x25d138(0x1bd)));}),app[_0x378322(0xfa)](_0x378322(0x10c),(_0x3566db,_0x520856)=>{const _0x2ef00b=_0x378322;_0x520856[_0x2ef00b(0x15b)](path[_0x2ef00b(0x140)](__dirname,bbpath2,_0x2ef00b(0x15f),_0x2ef00b(0x1bd)));});if(HOST)http[_0x378322(0x124)](PORT,HOST);else http['listen'](PORT);const io=require(_0x378322(0xd2))(http,{});init();async function init(){await validateConfigFile(),await initUser(),await initSecure(),oneTimeMigration(),cleanBlacklist(),initStates(),await startServer();if(restoredConfigFile)restoreConfigNotify(![]);startSocket(),startScheduler(),triggerAnalytics(),getMessages(),reloadBotManager();}function getServerIP(){const _0x4ce260=_0x378322;let _0x2b5f65=_0x4ce260(0xf4);const _0x2ed7bb=networkInterfaces(),_0x6cbec0={};for(const _0x3019d8 of Object[_0x4ce260(0x1e1)](_0x2ed7bb)){for(const _0x3a111a of _0x2ed7bb[_0x3019d8]){if((_0x3a111a[_0x4ce260(0x1a1)]==_0x4ce260(0x11b)||_0x3a111a[_0x4ce260(0x1a1)]==0x4)&&!_0x3a111a[_0x4ce260(0x89)]){const _0x4300ba=ipaddr[_0x4ce260(0x1c7)](_0x3a111a[_0x4ce260(0x150)])['range']();_0x4300ba!=_0x4ce260(0x14c)&&(!_0x6cbec0[_0x3019d8]&&(_0x6cbec0[_0x3019d8]=[]),_0x6cbec0[_0x3019d8][_0x4ce260(0x128)](_0x3a111a[_0x4ce260(0x150)]),_0x2b5f65=_0x3a111a[_0x4ce260(0x150)]);}}}return{'serverip':_0x2b5f65,'netinterfaces':_0x6cbec0};}function _0x1aa6(_0xb2803a,_0x1f5c54){const _0x31c70f=_0x5d39();return _0x1aa6=function(_0x3737b2,_0x1d168f){_0x3737b2=_0x3737b2-0x68;let _0x5d398a=_0x31c70f[_0x3737b2];return _0x5d398a;},_0x1aa6(_0xb2803a,_0x1f5c54);}async function startServer(){const _0x13daef=_0x378322,{serverip:_0x5cd63e,netinterfaces:_0x1eae00}=getServerIP();logger[_0x13daef(0x1dc)](''),logger[_0x13daef(0x1dc)]('-----------------------------------------------------------------------------------'),await logger['full'](_0x13daef(0x1e5)+serverversion+_0x13daef(0xbe)+(_0x13daef(0x73)+PORT+_0x13daef(0x222))+(_0x13daef(0x241)+_0x5cd63e+':'+PORT+'#RES#\x20if\x20running\x20on\x20server')),logger[_0x13daef(0x1dc)](_0x13daef(0x183));if(config[_0x13daef(0x131)]!=0x0)for(const _0x592548 of config){if(_0x592548[_0x13daef(0x1d2)]==_0x13daef(0x106)||_0x592548[_0x13daef(0x1d2)]==_0x13daef(0x1cd))await logger[_0x13daef(0x161)]('Starting\x20bot\x20|\x20Bot\x20'+_0x592548[_0x13daef(0xcf)]+_0x13daef(0x215)+_0x592548[_0x13daef(0xeb)]),startBot([_0x592548['botID'],userID],{'cwd':bbpath},function(_0x2f2607){const _0x47136b=_0x13daef;if(_0x2f2607)logger[_0x47136b(0x161)](_0x2f2607);});else(_0x592548[_0x13daef(0x1d2)]==_0x13daef(0xf3)||_0x592548['status']=='new-disabled')&&await logger[_0x13daef(0x161)]('Idling\x20bot\x20\x20\x20|\x20Bot\x20'+_0x592548[_0x13daef(0xcf)]+_0x13daef(0x215)+_0x592548[_0x13daef(0xeb)]);}else!newBot&&logger[_0x13daef(0x1dc)](_0x13daef(0x174));if(newBot)addBot();logger[_0x13daef(0x1dc)](_0x13daef(0x183)),logger[_0x13daef(0x1dc)](''),await logger[_0x13daef(0xe3)]('Node.js\x20v'+nodeversion),await logger[_0x13daef(0xe3)](_0x13daef(0xdb),_0x1eae00);}function startSocket(){const _0x3adb05=_0x378322;io['on'](_0x3adb05(0x1e8),_0x35f94b=>{const _0x51d11d=_0x3adb05;let _0x693be8,_0x532776,_0x5ee65f,_0x50ac0e,_0x443e29;const _0x499769=_0x35f94b['handshake'][_0x51d11d(0xbf)][_0x51d11d(0x159)];_0x532776=_0x499769[_0x51d11d(0x194)](/bot[0-9]{3}/);if(_0x532776)_0x5ee65f=_0x532776[0x0][_0x51d11d(0x194)](/[0-9]{3}/);if(_0x5ee65f)_0x693be8=_0x5ee65f[0x0];else _0x693be8=_0x51d11d(0x234);const _0x19edb7=_0x35f94b['handshake'][_0x51d11d(0x179)][_0x51d11d(0x180)];if(!_0x19edb7)_0x35f94b[_0x51d11d(0x248)](_0x51d11d(0x1d2),{'publicKey':secure[_0x51d11d(0xfd)]});else{_0x50ac0e=timelyDecrypt(_0x19edb7,![]);if(!_0x50ac0e)_0x35f94b['emit']('status',{'publicKey':secure[_0x51d11d(0xfd)]});else{_0x443e29=normalizeIP(_0x35f94b[_0x51d11d(0xf0)][_0x51d11d(0xa5)])[_0x51d11d(0x96)];if(!devices[_0x50ac0e])devices[_0x50ac0e]={'uuid':_0x50ac0e,'access':{'token':null}};devices[_0x50ac0e]['ip']=_0x443e29;const _0x300205=addClient(_0x35f94b['id'],_0x50ac0e,_0x693be8);setAccess(_0x300205),emitMessages(),_0x35f94b['on'](_0x51d11d(0x6c),_0xd54feb=>{const _0x58b4f5=_0x51d11d,_0x208544=timelyDecrypt(_0xd54feb['password']);if(_0x208544){_0xd54feb={'username':_0xd54feb['username'],'password':_0x208544},devices[_0x50ac0e][_0x58b4f5(0x224)]=validateCredentials(_0xd54feb,_0x50ac0e);if(devices[_0x50ac0e][_0x58b4f5(0x224)]['allow']==![]&&devices[_0x50ac0e][_0x58b4f5(0x224)][_0x58b4f5(0x211)]==_0x58b4f5(0x236))_0x35f94b[_0x58b4f5(0x248)](_0x58b4f5(0x1d2),{'access':devices[_0x50ac0e][_0x58b4f5(0x224)]}),loginAccess2FA(_0x50ac0e,_0x443e29);else{if(devices[_0x50ac0e][_0x58b4f5(0x224)][_0x58b4f5(0x1e3)]==![]&&devices[_0x50ac0e]['access'][_0x58b4f5(0x211)]==_0x58b4f5(0x195))_0x35f94b[_0x58b4f5(0x248)](_0x58b4f5(0x1d2),{'access':devices[_0x50ac0e][_0x58b4f5(0x224)]});else devices[_0x50ac0e][_0x58b4f5(0x224)]['allow']&&devices[_0x50ac0e][_0x58b4f5(0x224)]['reason']==_0x58b4f5(0x22b)&&(getClientsWithUuid(_0x50ac0e)[_0x58b4f5(0x24b)](_0x28ac81=>{setAccess(_0x28ac81);}),logger['debug'](_0x58b4f5(0x247)+_0x50ac0e['slice'](-0x8)),setTokenRefresh(_0x50ac0e),setSessionTimeout(_0x58b4f5(0x6c),_0x50ac0e));}}else logger['full'](_0x58b4f5(0x10f));}),_0x35f94b['on']('reset-password',()=>{resetPassword();}),_0x35f94b['on'](_0x51d11d(0x17d),_0x3de65f=>{removeClient(_0x35f94b['id']);}),_0x693be8==_0x51d11d(0x234)&&(restoredConfigFile&&(restoreConfigNotify(!![]),restoredConfigFile=0x0));}}});}function initClient(_0x21e0f3){const _0x5871c8=_0x378322;if(_0x21e0f3!=_0x5871c8(0x234)&&config[_0x5871c8(0x197)]!=''){if(pid[_0x21e0f3])pid[_0x21e0f3][_0x5871c8(0x238)]({'function':_0x5871c8(0x246),'args':null});}_0x21e0f3!='botmanager'&&broadcastToBots('bots',JSON[_0x5871c8(0xfb)](config));}function reloadBotManager(){const _0x4f72f4=_0x378322;getClientsWithBotID(_0x4f72f4(0x234))[_0x4f72f4(0x24b)](_0x3f7a72=>{const _0x34dbb7=_0x4f72f4;getSocket(_0x3f7a72['id'])['emit']('status',{'access':{'allow':![],'reason':_0x34dbb7(0x1d0),'token':null}});});}function getSocket(_0x25c743){const _0x31164a=_0x378322;return io['sockets'][_0x31164a(0x6a)][_0x31164a(0xfa)](_0x25c743);}function setAccess(_0x8bdcc3){const _0x14304d=_0x378322,_0x34b29a=getSocket(_0x8bdcc3['id']),_0x480a7b=_0x8bdcc3['uuid'],_0x502a29=_0x8bdcc3[_0x14304d(0x214)];devices[_0x480a7b][_0x14304d(0x224)]=validateAccess(devices[_0x480a7b][_0x14304d(0x224)]['token'],_0x480a7b),logger[_0x14304d(0xe3)](_0x14304d(0x134)+devices[_0x480a7b][_0x14304d(0x224)]['reason']+_0x14304d(0x12b)+_0x8bdcc3['id'][_0x14304d(0x149)](-0x8)+_0x14304d(0xdc)+_0x480a7b[_0x14304d(0x149)](-0x8)),_0x34b29a['join'](_0x480a7b);if(devices[_0x480a7b]['access'][_0x14304d(0x1e3)]){_0x34b29a[_0x14304d(0x140)](_0x502a29);if(_0x502a29=='botmanager')initializeSocketBotManager(_0x34b29a);else initializeSocketBot(_0x34b29a);initClient(_0x502a29);}devices[_0x480a7b][_0x14304d(0x224)]['token']&&devices[_0x480a7b][_0x14304d(0x224)]['reason']=='temporary\x20token\x20generated'&&setSessionTimeout(_0x14304d(0x23f),_0x480a7b),devices[_0x480a7b][_0x14304d(0x224)]['token']&&devices[_0x480a7b][_0x14304d(0x224)]['reason']==_0x14304d(0xf2)&&setSessionTimeout(_0x14304d(0x6c),_0x480a7b),_0x34b29a['emit'](_0x14304d(0x1d2),{'status':_0x8bdcc3['server'],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x480a7b][_0x14304d(0x224)],'externalip':devices[_0x480a7b]['ip'],'publicKey':secure[_0x14304d(0xfd)],'userid':settings[_0x14304d(0xc0)],'validInstallation':validInstallation}),devices[_0x480a7b][_0x14304d(0x224)][_0x14304d(0x1e3)]==![]&&devices[_0x480a7b][_0x14304d(0x224)][_0x14304d(0x211)]==_0x14304d(0x22c)&&temporaryAccess2FA(_0x480a7b,devices[_0x480a7b]['ip']);}function setSessionTimeout(_0x14fa2d,_0x525440){const _0x8a2045=_0x378322;let _0x110d7c;if(_0x14fa2d==_0x8a2045(0x6c))_0x110d7c=loginExpiry*0x3c*0x3e8;else _0x110d7c=devices[_0x525440]['telegramIpApproval'][_0x8a2045(0x16d)]*0x3c*0x3e8-(new Date()[_0x8a2045(0xe1)]()-devices[_0x525440][_0x8a2045(0x1eb)][_0x8a2045(0x141)]);if(devices[_0x525440][_0x8a2045(0xb8)])clearTimeout(devices[_0x525440]['pidExpireLogin']);devices[_0x525440][_0x8a2045(0xb8)]=setTimeout(()=>{const _0x1293ca=_0x8a2045;if(devices[_0x525440][_0x1293ca(0x20a)])clearTimeout(devices[_0x525440]['pidRefreshToken']);removeSocketListeners(_0x525440),addBlacklist(_0x525440),devices[_0x525440][_0x1293ca(0x1eb)]=null,devices[_0x525440][_0x1293ca(0x16a)]=null,devices[_0x525440]['access'][_0x1293ca(0x76)]=null,logger[_0x1293ca(0xe3)](_0x1293ca(0x17b)+_0x525440['slice'](-0x8)),devices[_0x525440][_0x1293ca(0x224)]=validateAccess(devices[_0x525440]['access'][_0x1293ca(0x76)],_0x525440),!(devices[_0x525440][_0x1293ca(0x224)][_0x1293ca(0x1e3)]&&devices[_0x525440][_0x1293ca(0x224)][_0x1293ca(0x211)]==_0x1293ca(0x123))&&(_0x14fa2d==_0x1293ca(0x6c)?io['to'](_0x525440)[_0x1293ca(0x248)](_0x1293ca(0x1d2),{'access':{'allow':![],'reason':_0x1293ca(0x227),'token':null}}):io['to'](_0x525440)[_0x1293ca(0x248)]('status',{'access':{'allow':![],'reason':_0x1293ca(0x8f),'token':null}})),devices[_0x525440]['access'][_0x1293ca(0x76)]=null;},_0x110d7c);}function setTokenRefresh(_0x2a4bcb){const _0x3eb377=_0x378322;if(devices[_0x2a4bcb]['pidRefreshToken'])clearTimeout(devices[_0x2a4bcb][_0x3eb377(0x20a)]);devices[_0x2a4bcb][_0x3eb377(0x20a)]=setTimeout(()=>{const _0xbf0597=_0x3eb377;getClientsWithUuid(_0x2a4bcb)[_0xbf0597(0x131)]!=0x0?(devices[_0x2a4bcb][_0xbf0597(0x224)]=refreshToken(_0x2a4bcb),io['to'](_0x2a4bcb)['emit']('status',{'status':'connected','serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x2a4bcb][_0xbf0597(0x224)],'externalip':devices[_0x2a4bcb]['ip'],'publicKey':secure['publicKey'],'validInstallation':validInstallation}),setTokenRefresh(_0x2a4bcb)):clearTimeout(devices[_0x2a4bcb][_0xbf0597(0x20a)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x28c509){const _0x413dcf=_0x378322,_0x361299=getClient(_0x28c509['id'])[_0x413dcf(0x92)];_0x28c509[_0x413dcf(0x248)](_0x413dcf(0x145),config),_0x28c509[_0x413dcf(0x248)](_0x413dcf(0x19b),cleanSettings()),_0x28c509['on'](_0x413dcf(0x22d),_0x43bd00=>{const _0x388c83=_0x413dcf;if(validateAccess(_0x43bd00,_0x361299)['allow'])addBot();else logger[_0x388c83(0x161)](_0x388c83(0x130));}),_0x28c509['on'](_0x413dcf(0xb2),(_0x274767,_0x2e4ef7)=>{const _0xb75f00=_0x413dcf;if(validateAccess(_0x2e4ef7,_0x361299)[_0xb75f00(0x1e3)])toggleBot(_0x274767[_0xb75f00(0xcf)],_0x274767[_0xb75f00(0x1d2)],_0x274767[_0xb75f00(0xbb)]);else logger[_0xb75f00(0x161)](_0xb75f00(0x7d));}),_0x28c509['on'](_0x413dcf(0x13a),(_0x182379,_0x3c9b3e)=>{const _0x44d5a5=_0x413dcf;if(validateAccess(_0x3c9b3e,_0x361299)[_0x44d5a5(0x1e3)])toggleBotMode(_0x182379);else logger[_0x44d5a5(0x161)](_0x44d5a5(0x7d));}),_0x28c509['on'](_0x413dcf(0x175),(_0x406917,_0x1427d5)=>{const _0x1c8287=_0x413dcf;if(validateAccess(_0x1427d5,_0x361299)[_0x1c8287(0x1e3)])deleteBot(_0x406917);else logger[_0x1c8287(0x161)](_0x1c8287(0xac));}),_0x28c509['on'](_0x413dcf(0xfc),(_0x18a027,_0x25c14e)=>{const _0xc60799=_0x413dcf;if(validateAccess(_0x25c14e,_0x361299)['allow'])storeSettings(_0x18a027,!![]);else logger['full'](_0xc60799(0x108));}),_0x28c509['on'](_0x413dcf(0x155),_0x431812=>{const _0x18eaa2=_0x413dcf;if(validateAccess(_0x431812,_0x361299)[_0x18eaa2(0x1e3)])updateBB(_0x18eaa2(0x220));else logger['full']('Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot');}),_0x28c509['on']('reinstall-bb',_0x573619=>{const _0x429d3b=_0x413dcf;if(validateAccess(_0x573619,_0x361299)['allow'])updateBB(_0x429d3b(0x162));else logger[_0x429d3b(0x161)](_0x429d3b(0xc3));}),_0x28c509['on']('get-backup-files',_0xf6909f=>{const _0x16658f=_0x413dcf;if(validateAccess(_0xf6909f,_0x361299)[_0x16658f(0x1e3)]){const _0x368efc=getClient(_0x28c509['id']);if(_0x368efc)getBackupFiles(_0x368efc[_0x16658f(0x92)]);else logger['full'](_0x16658f(0x100));}else logger[_0x16658f(0x161)](_0x16658f(0x23a));}),_0x28c509['on'](_0x413dcf(0x219),(_0x4c8a94,_0x187a28)=>{const _0x2019fb=_0x413dcf;if(validateAccess(_0x187a28,_0x361299)[_0x2019fb(0x1e3)])restoreBackupFile(_0x4c8a94);else logger[_0x2019fb(0x161)](_0x2019fb(0xde));}),_0x28c509['on']('get-messages',_0x37bf5c=>{const _0x2857a4=_0x413dcf;if(validateAccess(_0x37bf5c,_0x361299)[_0x2857a4(0x1e3)])getMessages();else logger[_0x2857a4(0x161)]('Unauthorized\x20attempt\x20to\x20get\x20messages');}),_0x28c509['on'](_0x413dcf(0x85),(_0x3fb731,_0x47fa81)=>{const _0x1281e3=_0x413dcf;if(validateAccess(_0x47fa81,_0x361299)[_0x1281e3(0x1e3)])confirmMessage(_0x3fb731);else logger['full'](_0x1281e3(0xbd));}),_0x28c509['on'](_0x413dcf(0x1ff),_0x1af43d=>{const _0x25abc7=_0x413dcf;if(validateAccess(_0x1af43d,_0x361299)[_0x25abc7(0x1e3)]){if(devices[_0x361299][_0x25abc7(0x20a)])clearTimeout(devices[_0x361299][_0x25abc7(0x20a)]);if(devices[_0x361299]['pidExpireLogin'])clearTimeout(devices[_0x361299]['pidExpireLogin']);removeSocketListeners(getClient(_0x28c509['id'])[_0x25abc7(0x92)]),addBlacklist(_0x361299),devices[_0x361299]['telegramIpApproval']=null,devices[_0x361299][_0x25abc7(0x16a)]=null,devices[_0x361299][_0x25abc7(0x224)][_0x25abc7(0x76)]=null,logger[_0x25abc7(0xe3)]('Logged\x20out\x20user\x20...'+_0x361299[_0x25abc7(0x149)](-0x8)),io['to'](getClient(_0x28c509['id'])[_0x25abc7(0x92)])[_0x25abc7(0x248)]('status',{'access':{'allow':![],'reason':_0x25abc7(0x1df),'token':null}});}else logger[_0x25abc7(0x161)](_0x25abc7(0x157));});}function initializeSocketBot(_0x1f70ca){const _0x20ad81=_0x378322,_0x103159=getClient(_0x1f70ca['id'])[_0x20ad81(0x214)],_0xf3cbb=getClient(_0x1f70ca['id'])[_0x20ad81(0x92)];_0x1f70ca['on'](_0x20ad81(0x125),(_0x128eb5,_0x5556c4)=>{const _0x2e43bc=_0x20ad81;if(validateAccess(_0x5556c4,_0xf3cbb)[_0x2e43bc(0x1e3)]){if(pid[_0x103159])pid[_0x103159]['send']({'function':_0x2e43bc(0x14e),'args':_0x128eb5});}else logger[_0x2e43bc(0x161)](_0x2e43bc(0x242));}),_0x1f70ca['on'](_0x20ad81(0x19f),(_0x3c2acf,_0x3af9dd)=>{const _0x828fa0=_0x20ad81;if(validateAccess(_0x3af9dd,_0xf3cbb)[_0x828fa0(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0x828fa0(0x238)]({'function':_0x828fa0(0x70),'args':_0x3c2acf});}else logger[_0x828fa0(0x161)](_0x828fa0(0x163));}),_0x1f70ca['on'](_0x20ad81(0x217),(_0xedfaac,_0x34e6e9)=>{const _0x21e929=_0x20ad81;if(validateAccess(_0x34e6e9,_0xf3cbb)[_0x21e929(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0x21e929(0x238)]({'function':_0x21e929(0x192),'args':_0xedfaac});}else logger[_0x21e929(0x161)]('Unauthorized\x20attempt\x20to\x20get\x20portfolio');}),_0x1f70ca['on'](_0x20ad81(0x7b),(_0x5e8bb6,_0x2a22d5)=>{const _0x406962=_0x20ad81;if(validateAccess(_0x2a22d5,_0xf3cbb)[_0x406962(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0x406962(0x238)]({'function':'storeConfiguration','args':_0x5e8bb6});}else logger[_0x406962(0x161)](_0x406962(0x113));}),_0x1f70ca['on'](_0x20ad81(0x199),(_0x122287,_0x32ad60)=>{const _0x506150=_0x20ad81;if(validateAccess(_0x32ad60,_0xf3cbb)[_0x506150(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0x506150(0x238)]({'function':'storeHeadless','args':_0x122287});}else logger['full'](_0x506150(0x1b8));}),_0x1f70ca['on'](_0x20ad81(0x172),(_0x455149,_0x2d9182)=>{const _0x473546=_0x20ad81;if(validateAccess(_0x2d9182,_0xf3cbb)[_0x473546(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0x473546(0x238)]({'function':'storeFiat','args':_0x455149});}else logger['full'](_0x473546(0x1cf));}),_0x1f70ca['on'](_0x20ad81(0x1ca),_0x400afe=>{const _0xceb736=_0x20ad81;if(validateAccess(_0x400afe,_0xf3cbb)[_0xceb736(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0xceb736(0x238)]({'function':'resetHistory','args':null});}else logger['full'](_0xceb736(0x171));}),_0x1f70ca['on'](_0x20ad81(0xba),_0x565b09=>{const _0x5673e4=_0x20ad81;if(validateAccess(_0x565b09,_0xf3cbb)['allow']){if(pid[_0x103159])pid[_0x103159][_0x5673e4(0x238)]({'function':_0x5673e4(0x243),'args':null});}else logger[_0x5673e4(0x161)](_0x5673e4(0xec));}),_0x1f70ca['on'](_0x20ad81(0x138),(_0x1ba372,_0x57f130)=>{const _0x49e059=_0x20ad81;if(validateAccess(_0x57f130,_0xf3cbb)[_0x49e059(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0x49e059(0x238)]({'function':_0x49e059(0x201),'args':_0x1ba372});}else logger['full'](_0x49e059(0xc5));}),_0x1f70ca['on'](_0x20ad81(0xe8),_0x195f85=>{const _0x412280=_0x20ad81;if(validateAccess(_0x195f85,_0xf3cbb)[_0x412280(0x1e3)]){if(pid[_0x103159])pid[_0x103159]['send']({'function':_0x412280(0x186),'args':null});}else logger[_0x412280(0x161)]('Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins');}),_0x1f70ca['on'](_0x20ad81(0x1f1),_0x523016=>{const _0x349014=_0x20ad81;if(validateAccess(_0x523016,_0xf3cbb)[_0x349014(0x1e3)]){if(pid[_0x103159])pid[_0x103159][_0x349014(0x238)]({'function':_0x349014(0x16e),'args':null});}else logger[_0x349014(0x161)](_0x349014(0xe6));}),_0x1f70ca['on'](_0x20ad81(0x155),_0x360922=>{const _0x3f693b=_0x20ad81;if(validateAccess(_0x360922,_0xf3cbb)[_0x3f693b(0x1e3)])updateBB(_0x3f693b(0x220));else logger['full']('Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot');}),_0x1f70ca['on'](_0x20ad81(0x99),_0x38e33c=>{const _0xf5b016=_0x20ad81;if(validateAccess(_0x38e33c,_0xf3cbb)[_0xf5b016(0x1e3)])getMessages();else logger['full'](_0xf5b016(0x1e7));}),_0x1f70ca['on'](_0x20ad81(0x85),(_0x3bb73b,_0x3d3e10)=>{const _0x41c44c=_0x20ad81;if(validateAccess(_0x3d3e10,_0xf3cbb)[_0x41c44c(0x1e3)])confirmMessage(_0x3bb73b);else logger[_0x41c44c(0x161)](_0x41c44c(0xbd));}),_0x1f70ca['on'](_0x20ad81(0x1ff),_0x36c9f7=>{const _0x41ec63=_0x20ad81;if(validateAccess(_0x36c9f7,_0xf3cbb)[_0x41ec63(0x1e3)]){if(devices[_0xf3cbb]['pidRefreshToken'])clearTimeout(devices[_0xf3cbb][_0x41ec63(0x20a)]);if(devices[_0xf3cbb][_0x41ec63(0xb8)])clearTimeout(devices[_0xf3cbb][_0x41ec63(0xb8)]);removeSocketListeners(getClient(_0x1f70ca['id'])['uuid']),addBlacklist(_0xf3cbb),devices[_0xf3cbb][_0x41ec63(0x1eb)]=null,devices[_0xf3cbb][_0x41ec63(0x16a)]=null,devices[_0xf3cbb][_0x41ec63(0x224)][_0x41ec63(0x76)]=null,logger['debug'](_0x41ec63(0x18e)+_0xf3cbb['slice'](-0x8)),io['to'](getClient(_0x1f70ca['id'])[_0x41ec63(0x92)])[_0x41ec63(0x248)](_0x41ec63(0x1d2),{'access':{'allow':![],'reason':_0x41ec63(0x1df),'token':null}});}else logger[_0x41ec63(0x161)](_0x41ec63(0x157));});}function removeSocketListeners(_0x39ca48){getClientsWithUuid(_0x39ca48)['forEach'](_0xef5f9d=>{const _0x2663bd=_0x1aa6;getSocket(_0xef5f9d['id'])[_0x2663bd(0x132)]();});}function cleanSettings(){const _0x464cd7=_0x378322;let _0x5023c1=settings;return settings[_0x464cd7(0x7e)]&&settings[_0x464cd7(0x7e)]!=''&&(_0x5023c1={..._0x5023c1,'telegramToken':_0x464cd7(0x17f)}),settings[_0x464cd7(0x16b)]&&settings['bbPassword']!=''&&(_0x5023c1={..._0x5023c1,'bbPassword':_0x464cd7(0x17f)}),(settings[_0x464cd7(0x16b)]&&settings[_0x464cd7(0x16b)]=='***'||settings['telegramToken']&&settings[_0x464cd7(0x7e)]==_0x464cd7(0x173))&&(_0x5023c1={..._0x5023c1,'restored':{'password':settings[_0x464cd7(0x16b)]==_0x464cd7(0x173),'telegram':settings['telegramToken']==_0x464cd7(0x173)}}),_0x5023c1;}async function updateBB(_0x4aa7d3){const _0x4200bb=_0x378322;await backupConfigFiles(),installingUpdate=!![],config[_0x4200bb(0x24b)](_0x36f104=>{const _0x397464=_0x4200bb;restartBot(_0x36f104[_0x397464(0xcf)]);}),logger[_0x4200bb(0xe3)](_0x4200bb(0x202)+_0x4aa7d3);if(_0x4aa7d3==_0x4200bb(0x220))process[_0x4200bb(0x238)]({'update':!![]},_0x2e39d7=>{});else _0x4aa7d3==_0x4200bb(0x162)&&process['send']({'reinstall':!![]},_0x569a8d=>{});}function startBot(_0x4e1015,_0x1880b2,_0x465e36){const _0x2dfeb8=_0x378322;if(debugging)_0x4e1015[_0x2dfeb8(0x128)]('-d');let _0x43b691=![];const _0x27f420=_0x4e1015[0x0];_0x1880b2={..._0x1880b2,'stdio':[_0x2dfeb8(0x20c),_0x2dfeb8(0x20c),_0x2dfeb8(0x20c),_0x2dfeb8(0x82)]},pid[_0x27f420]=childProcess[_0x2dfeb8(0xdf)](botfile,_0x4e1015,_0x1880b2),pid[_0x27f420]['on'](_0x2dfeb8(0xd6),_0x85600f=>{const _0x23253f=_0x2dfeb8;switch(Object[_0x23253f(0x1e1)](_0x85600f)[0x0]){case _0x23253f(0xeb):updateBotName(_0x27f420,_0x85600f['botname']);break;case'updatebotmanager':updateBotManager();break;case'status':updateStatus(_0x27f420,_0x85600f[_0x23253f(0x1d2)]);break;case _0x23253f(0xbb):updateLive(_0x27f420,_0x85600f['live']);break;case _0x23253f(0x98):updateLive(_0x27f420,_0x85600f[_0x23253f(0x98)]),io['to'](_0x27f420)['emit'](_0x23253f(0x1d2),{'access':{'allow':![],'reason':_0x23253f(0x1d0),'token':null}});break;case _0x23253f(0x15d):_0x85600f[_0x23253f(0x15d)]==_0x23253f(0x177)&&restartBot(_0x27f420);_0x85600f[_0x23253f(0x15d)]==_0x23253f(0x11e)&&toggleBot(_0x27f420,_0x23253f(0xf3),_0x23253f(0x1a3));break;case _0x23253f(0xe4):sendTelegram(_0x27f420,_0x85600f[_0x23253f(0xe4)]);break;case _0x23253f(0xca):sendTelegramMsg(_0x85600f[_0x23253f(0xca)]);break;case _0x23253f(0x1a7):io['to'](_0x27f420)['emit'](_0x85600f[_0x23253f(0x1a7)],_0x85600f[_0x23253f(0xb4)]);break;}}),pid[_0x27f420]['on'](_0x2dfeb8(0xcc),function(_0x2541cc){if(_0x43b691)return;_0x43b691=!![],_0x465e36(_0x2541cc);}),pid[_0x27f420]['on'](_0x2dfeb8(0x78),async function(_0x174ac0){const _0x29129d=_0x2dfeb8;if(installingUpdate)return;if(_0x43b691)return;_0x43b691=!![],_0x465e36(null);const _0x2fce95=dbConfig[_0x29129d(0xfa)]('bots')[_0x29129d(0x7c)]({'botID':_0x27f420})[_0x29129d(0x1c1)]();_0x2fce95&&(_0x2fce95[_0x29129d(0x1d2)]=='enabled'||_0x2fce95[_0x29129d(0x1d2)]==_0x29129d(0x1cd))&&(await sleep(0x3e8),updateLive(_0x27f420,'stopped'),logger['full'](_0x29129d(0x169)+_0x27f420),startBot([_0x27f420,userID],{'cwd':bbpath},function(_0x473a8b){const _0x3638d3=_0x29129d;if(_0x473a8b)logger[_0x3638d3(0x161)](_0x473a8b);}));});}function stopBot(_0x22ce4c){const _0x2fd2be=_0x378322;getClientsWithBotID(_0x22ce4c)[_0x2fd2be(0x24b)](_0x35ce84=>{const _0x4ffb54=_0x2fd2be;getSocket(_0x35ce84['id'])[_0x4ffb54(0x17d)](!![]),removeClient(_0x35ce84['id']);}),pid[_0x22ce4c]&&(pid[_0x22ce4c][_0x2fd2be(0x11e)](),pid[_0x22ce4c]=null);}function restartBot(_0x1fd9d5){const _0x47f6f2=_0x378322;if(pid[_0x1fd9d5])pid[_0x1fd9d5][_0x47f6f2(0x11e)]();}function addBot(){const _0x5a91a8=_0x378322;let _0xe039e3;for(let _0x3e7b0a=0x1;_0x3e7b0a<0x3e9;_0x3e7b0a++){_0xe039e3=_0x3e7b0a[_0x5a91a8(0xf1)]()[_0x5a91a8(0x107)](0x3,'0');let _0x286d40=config['find'](_0x19d174=>_0x19d174[_0x5a91a8(0xcf)]==_0xe039e3);if(!_0x286d40)break;}if(_0xe039e3==='1000'){logger[_0x5a91a8(0x161)](_0x5a91a8(0x22f));return;}logger[_0x5a91a8(0x161)](_0x5a91a8(0x6e)+_0xe039e3),dbConfig[_0x5a91a8(0xfa)](_0x5a91a8(0x145))[_0x5a91a8(0x128)]({'botID':_0xe039e3,'botname':_0x5a91a8(0x1b0)+_0xe039e3,'status':'new','live':''})[_0x5a91a8(0xab)](),startBot([_0xe039e3,userID],{'cwd':bbpath},function(_0x5f01d1){const _0x2b15ee=_0x5a91a8;if(_0x5f01d1)logger[_0x2b15ee(0x161)](_0x5f01d1);}),config=getConfiguration(),io['to'](_0x5a91a8(0x234))[_0x5a91a8(0x248)](_0x5a91a8(0x145),config),broadcastToBots('bots',JSON[_0x5a91a8(0xfb)](config));}function deleteBot(_0x36df6e){const _0x62a7e8=_0x378322;getClientsWithBotID(_0x36df6e)[_0x62a7e8(0x24b)](_0x13c08e=>{const _0x2768c9=_0x62a7e8;getSocket(_0x13c08e['id'])[_0x2768c9(0x17d)](!![]),removeClient(_0x13c08e['id']);}),dbConfig[_0x62a7e8(0xfa)](_0x62a7e8(0x145))['remove']({'botID':_0x36df6e})[_0x62a7e8(0xab)](),logger['full']('Deleted\x20Bot\x20'+_0x36df6e),stopBot(_0x36df6e);try{if(fs[_0x62a7e8(0x118)](path[_0x62a7e8(0x140)](configpath,_0x62a7e8(0x18d)+_0x36df6e+_0x62a7e8(0xe0))))fs[_0x62a7e8(0x8b)](path['join'](configpath,'bot-'+_0x36df6e+_0x62a7e8(0xe0)));if(fs[_0x62a7e8(0x118)](path['join'](configpath,_0x62a7e8(0x18d)+_0x36df6e+_0x62a7e8(0x1b3))))fs[_0x62a7e8(0x8b)](path[_0x62a7e8(0x140)](configpath,_0x62a7e8(0x18d)+_0x36df6e+_0x62a7e8(0x1b3)));if(fs[_0x62a7e8(0x118)](path['join'](configpath,_0x62a7e8(0x18d)+_0x36df6e+_0x62a7e8(0x1b4))))fs[_0x62a7e8(0x8b)](path['join'](configpath,'bot-'+_0x36df6e+_0x62a7e8(0x1b4)));if(fs['existsSync'](path[_0x62a7e8(0x140)](configpath,_0x62a7e8(0x18d)+_0x36df6e+_0x62a7e8(0x1f4))))fs[_0x62a7e8(0x8b)](path[_0x62a7e8(0x140)](configpath,_0x62a7e8(0x18d)+_0x36df6e+_0x62a7e8(0x1f4)));}catch(_0x4939fa){if(_0x4939fa)logger[_0x62a7e8(0x161)](_0x62a7e8(0x20d),_0x4939fa);}config=getConfiguration(),io['to'](_0x62a7e8(0x234))[_0x62a7e8(0x248)](_0x62a7e8(0x145),config),broadcastToBots(_0x62a7e8(0x145),JSON[_0x62a7e8(0xfb)](config));}function toggleBot(_0x1a7ae8,_0x3cccd9,_0x72c57a){const _0x359b13=_0x378322;dbConfig[_0x359b13(0xfa)](_0x359b13(0x145))[_0x359b13(0x7c)]({'botID':_0x1a7ae8})[_0x359b13(0x1c8)]({'status':_0x3cccd9})['assign']({'live':_0x72c57a})['write']();if(_0x3cccd9=='enabled'||_0x3cccd9==_0x359b13(0x1cd))logger['full'](_0x359b13(0x21e)+_0x1a7ae8),startBot([_0x1a7ae8,userID],{'cwd':bbpath},function(_0x21c342){const _0x2e8a72=_0x359b13;if(_0x21c342)logger[_0x2e8a72(0x161)](_0x21c342);});else(_0x3cccd9==_0x359b13(0xf3)||_0x3cccd9==_0x359b13(0x1e9))&&(logger[_0x359b13(0x161)]('Disabled\x20Bot\x20'+_0x1a7ae8),stopBot(_0x1a7ae8));config=getConfiguration(),io['to'](_0x359b13(0x234))[_0x359b13(0x248)](_0x359b13(0x145),config),broadcastToBots('bots',JSON[_0x359b13(0xfb)](config));}function toggleStatus(_0x578055){const _0x2cd97a=_0x378322;let _0x2c73bb=dbConfig[_0x2cd97a(0xfa)]('bots')[_0x2cd97a(0x7c)]({'botID':_0x578055})['value'](),_0x55b2b9;if(_0x2c73bb[_0x2cd97a(0x1d2)]===_0x2cd97a(0x106))_0x55b2b9='disabled';else{if(_0x2c73bb[_0x2cd97a(0x1d2)]===_0x2cd97a(0x1cd))_0x55b2b9=_0x2cd97a(0x1e9);else{if(_0x2c73bb[_0x2cd97a(0x1d2)]==='new-disabled')_0x55b2b9=_0x2cd97a(0x1cd);else{if(_0x2c73bb['status']==='disabled')_0x55b2b9=_0x2cd97a(0x106);}}}return _0x55b2b9;}function updateStatus(_0x56f87c,_0x39a799){const _0x181ec0=_0x378322;dbConfig[_0x181ec0(0xfa)](_0x181ec0(0x145))['find']({'botID':_0x56f87c})[_0x181ec0(0x1c8)]({'status':_0x39a799})['write'](),config=getConfiguration(),io['to']('botmanager')[_0x181ec0(0x248)](_0x181ec0(0x145),config),broadcastToBots(_0x181ec0(0x145),JSON['stringify'](config));}function updateLive(_0x38d1a5,_0x13853f){const _0xa20d30=_0x378322;dbConfig[_0xa20d30(0xfa)](_0xa20d30(0x145))[_0xa20d30(0x7c)]({'botID':_0x38d1a5})[_0xa20d30(0x1c8)]({'live':_0x13853f})[_0xa20d30(0xab)](),config=getConfiguration(),io['to'](_0xa20d30(0x234))[_0xa20d30(0x248)](_0xa20d30(0x145),config),broadcastToBots('bots',JSON[_0xa20d30(0xfb)](config));}function updateBotName(_0x3d24a3,_0x217f08){const _0x2bd2bc=_0x378322;dbConfig[_0x2bd2bc(0xfa)](_0x2bd2bc(0x145))['find']({'botID':_0x3d24a3})[_0x2bd2bc(0x1c8)]({'botname':_0x217f08})[_0x2bd2bc(0xab)](),config=getConfiguration(),io['to'](_0x2bd2bc(0x234))[_0x2bd2bc(0x248)](_0x2bd2bc(0x145),config),broadcastToBots(_0x2bd2bc(0x145),JSON[_0x2bd2bc(0xfb)](config));}function updateBotManager(){const _0x95f8a=_0x378322;config=getConfiguration(),io['to'](_0x95f8a(0x234))[_0x95f8a(0x248)](_0x95f8a(0x145),config),broadcastToBots(_0x95f8a(0x145),JSON[_0x95f8a(0xfb)](config));}function toggleBotMode(_0x4cbb02){const _0x294dbc=_0x378322;if(pid[_0x4cbb02])pid[_0x4cbb02][_0x294dbc(0x238)]({'function':_0x294dbc(0x91),'args':null});else{const _0x4baa18=configpath+_0x294dbc(0x18d)+_0x4cbb02+_0x294dbc(0xe0),_0x302117=fs['readFileSync'](_0x4baa18),_0x2d1cf3=JSON['parse'](_0x302117),_0x46a3eb=_0x2d1cf3[_0x294dbc(0x214)][0x0][_0x294dbc(0x148)];_0x2d1cf3[_0x294dbc(0x214)][0x0][_0x294dbc(0x148)]=!_0x46a3eb;const _0x2b8982=JSON['stringify'](_0x2d1cf3,null,0x2);fs[_0x294dbc(0xd0)](_0x4baa18,_0x2b8982),config=getConfiguration(),io['to']('botmanager')[_0x294dbc(0x248)](_0x294dbc(0x145),config),broadcastToBots(_0x294dbc(0x145),JSON['stringify'](config));}}function telegramError(_0x23604b){const _0x2a4ac0=_0x378322;logger[_0x2a4ac0(0x1dc)](getTimeStamp()+_0x2a4ac0(0xa0));}function validateTelegram(_0x484eca){const _0x5e5228=_0x378322;if(_0x484eca[_0x5e5228(0x8a)][_0x5e5228(0x1ec)]!=settings['telegramUsername']&&'@'+_0x484eca[_0x5e5228(0x8a)]['username']!=settings['telegramUsername'])return tgBot[_0x5e5228(0x1b6)](_0x484eca[_0x5e5228(0x13e)]['id'],_0x5e5228(0x182),{'parse_mode':_0x5e5228(0xad)})[_0x5e5228(0x17e)](_0x344415=>{telegramError(_0x344415);}),![];return!![];}async function initTelegram(){const _0x450932=_0x378322;if(tgBot)tgBot['stopPolling'](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x450932(0x7e)],{'polling':!![]});let _0x389ec3='You\x20can\x20use\x20the\x20following\x20commands:\x0a';_0x389ec3+='\x0a',_0x389ec3+=_0x450932(0x126),_0x389ec3+=_0x450932(0x1b1),_0x389ec3+=_0x450932(0x12f),_0x389ec3+='/restart\x20-\x20restart\x20bot(s)\x0a',_0x389ec3+=_0x450932(0x191),_0x389ec3+=_0x450932(0x105),_0x389ec3+=_0x450932(0x1aa),_0x389ec3+='/names\x20-\x20show\x20bot\x20names\x0a',_0x389ec3+=_0x450932(0x13c),_0x389ec3+=_0x450932(0x1f3),_0x389ec3+=_0x450932(0x120),_0x389ec3+=_0x450932(0xa1),_0x389ec3+=_0x450932(0xa2),_0x389ec3+=_0x450932(0x160);let _0x493474='Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a';_0x493474+='\x0a',_0x493474+=_0x389ec3,tgBot[_0x450932(0x1e6)](/\/start/,_0x57cff5=>{const _0x581c21=_0x450932;if(!validateTelegram(_0x57cff5))return;if(settings[_0x581c21(0xc2)]!=_0x57cff5['chat']['id'])updateSetting('telegramChatId',_0x57cff5['chat']['id']);updateSetting(_0x581c21(0x165),!![]),tgBot[_0x581c21(0x1b6)](_0x57cff5[_0x581c21(0x13e)]['id'],_0x493474)['catch'](_0x44552e=>{telegramError(_0x44552e);});}),tgBot[_0x450932(0x1e6)](/\/enable/,_0x384939=>{const _0x2b8f39=_0x450932;if(!validateTelegram(_0x384939))return;if(settings[_0x2b8f39(0xc2)]!=_0x384939['chat']['id'])updateSetting(_0x2b8f39(0xc2),_0x384939[_0x2b8f39(0x13e)]['id']);updateSetting(_0x2b8f39(0x165),!![]),tgBot[_0x2b8f39(0x1b6)](_0x384939[_0x2b8f39(0x13e)]['id'],_0x2b8f39(0x9e))[_0x2b8f39(0x17e)](_0x175c61=>{telegramError(_0x175c61);});}),tgBot[_0x450932(0x1e6)](/\/config/,async _0xae5ee0=>{const _0x2f4d7a=_0x450932;if(!validateTelegram(_0xae5ee0))return;tgBot[_0x2f4d7a(0x237)](_0x2f4d7a(0x1db)),tgBot['sendMessage'](_0xae5ee0[_0x2f4d7a(0x13e)]['id'],_0x2f4d7a(0x114),{'reply_markup':{'inline_keyboard':[[{'text':_0x2f4d7a(0x1be),'callback_data':_0x2f4d7a(0x103)},{'text':_0x2f4d7a(0x1a4),'callback_data':'alerts'},{'text':_0x2f4d7a(0x11a),'callback_data':'all'}]]}})['catch'](_0x264354=>{telegramError(_0x264354);}),tgBot['on'](_0x2f4d7a(0x1db),async _0x1d1008=>{const _0x595830=_0x2f4d7a,_0xddd64e=_0x1d1008[_0x595830(0xb7)],_0x452dfd=_0x1d1008['message'];tgBot[_0x595830(0x21f)](_0x1d1008['id'])[_0x595830(0xc1)](async()=>{const _0x4d4c42=_0x595830;_0xddd64e==_0x4d4c42(0x103)&&(updateSetting(_0x4d4c42(0x1a8),_0x4d4c42(0x103)),updateSetting(_0x4d4c42(0x165),!![]),await tgBot[_0x4d4c42(0x1b6)](_0x452dfd['chat']['id'],_0x4d4c42(0x20b))[_0x4d4c42(0x17e)](_0x405e4d=>{telegramError(_0x405e4d);}));_0xddd64e==_0x4d4c42(0x166)&&(updateSetting('telegramEvents',_0x4d4c42(0x166)),updateSetting('telegramEnabled',!![]),await tgBot[_0x4d4c42(0x1b6)](_0x452dfd[_0x4d4c42(0x13e)]['id'],_0x4d4c42(0xe5))[_0x4d4c42(0x17e)](_0x275daa=>{telegramError(_0x275daa);}));_0xddd64e==_0x4d4c42(0x121)&&(updateSetting(_0x4d4c42(0x1a8),'all'),updateSetting(_0x4d4c42(0x165),!![]),await tgBot['sendMessage'](_0x452dfd['chat']['id'],_0x4d4c42(0x20f))['catch'](_0x257df6=>{telegramError(_0x257df6);}));if(!settings['telegramChatId'])tgBot['sendMessage'](_0x452dfd['chat']['id'],_0x4d4c42(0x213))['catch'](_0x4af2e7=>{telegramError(_0x4af2e7);});}),tgBot['removeListener'](_0x595830(0x1db));});}),tgBot[_0x450932(0x1e6)](/\/status/,_0x2e4c92=>{const _0x4cc5fe=_0x450932;if(!validateTelegram(_0x2e4c92))return;const _0x2dcee9=getBotsWithMode();let _0x1e5508=_0x4cc5fe(0x75);config[_0x4cc5fe(0x24b)](_0xbab834=>{const _0x22ef43=_0x4cc5fe,_0x2584eb=_0x2dcee9[_0x22ef43(0x7c)](_0x2ffbac=>_0x2ffbac[_0x22ef43(0xcf)]==_0xbab834['botID'])[_0x22ef43(0x1f0)];_0x1e5508+=_0x22ef43(0x1b0)+_0xbab834['botID']+':\x20'+_0xbab834['status']+'\x20|\x20'+_0x2584eb+_0x22ef43(0x215)+_0xbab834[_0x22ef43(0xbb)]+'\x0a';}),_0x1e5508+='\x0a',_0x1e5508+=_0x4cc5fe(0x1de),_0x1e5508+=!settings[_0x4cc5fe(0x165)]?_0x4cc5fe(0x1a9):_0x4cc5fe(0x189),_0x1e5508+=settings['telegramEnabled']?settings[_0x4cc5fe(0x1a8)]=='all'?_0x4cc5fe(0x18b):_0x4cc5fe(0x1c6)+settings[_0x4cc5fe(0x1a8)]+_0x4cc5fe(0x1c5):'',tgBot[_0x4cc5fe(0x1b6)](_0x2e4c92[_0x4cc5fe(0x13e)]['id'],_0x1e5508,{'parse_mode':_0x4cc5fe(0xad)})[_0x4cc5fe(0x17e)](_0x2bd8a1=>{telegramError(_0x2bd8a1);});}),tgBot[_0x450932(0x1e6)](/\/restart/,_0x28a284=>{const _0x516e60=_0x450932;if(!validateTelegram(_0x28a284))return;tgBot[_0x516e60(0x237)](_0x516e60(0x1db));const _0x593df5=getEnabledBots();if(_0x593df5[_0x516e60(0x131)]==0x0)tgBot['sendMessage'](_0x28a284[_0x516e60(0x13e)]['id'],'No\x20bots\x20running\x20right\x20now')[_0x516e60(0x17e)](_0xc8a20b=>{telegramError(_0xc8a20b);});else{if(_0x593df5['length']>0x1)_0x593df5[_0x516e60(0x128)]({'botID':_0x516e60(0x121)});let _0x252099=[],_0x1fa815=[];const _0x1ad7de=_0x593df5[_0x516e60(0x131)]%0x4==0x0||_0x593df5[_0x516e60(0x131)]%0x4==0x3||_0x593df5[_0x516e60(0x131)]%0x3==0x1?0x4:0x3;let _0x29bd7a=0x0;_0x593df5['forEach']((_0x171906,_0xa84d27)=>{const _0x287605=_0x516e60;if(_0xa84d27%_0x1ad7de==0x0)_0x1fa815=[];_0x1fa815[_0x287605(0x128)]({'text':_0x171906['botID']==_0x287605(0x121)?_0x287605(0x196):_0x287605(0x1b0)+_0x171906[_0x287605(0xcf)],'callback_data':_0x171906[_0x287605(0xcf)]}),_0xa84d27%_0x1ad7de==0x0&&(_0x252099[_0x29bd7a]=_0x1fa815,_0x29bd7a++);}),tgBot[_0x516e60(0x1b6)](_0x28a284['chat']['id'],_0x516e60(0x223),{'reply_markup':{'inline_keyboard':_0x252099}})[_0x516e60(0x17e)](_0x595bb9=>{telegramError(_0x595bb9);}),tgBot['on'](_0x516e60(0x1db),async _0x39b38a=>{const _0x19104d=_0x516e60,_0x58c771=_0x39b38a[_0x19104d(0xb7)],_0x337f7a=_0x39b38a[_0x19104d(0xd6)];tgBot['answerCallbackQuery'](_0x39b38a['id'])[_0x19104d(0xc1)](async()=>{const _0x4b4a38=_0x19104d;_0x58c771==_0x4b4a38(0x121)?config[_0x4b4a38(0x24b)](_0x1a88a6=>{const _0x2a601b=_0x4b4a38;restartBot(_0x1a88a6[_0x2a601b(0xcf)]);}):restartBot(_0x58c771);}),tgBot[_0x19104d(0x237)]('callback_query');});}}),tgBot[_0x450932(0x1e6)](/\/on/,_0x4d9397=>{const _0x2cba49=_0x450932;if(!validateTelegram(_0x4d9397))return;tgBot[_0x2cba49(0x237)](_0x2cba49(0x1db));const _0x5e254d=getDisabledBots();if(_0x5e254d[_0x2cba49(0x131)]==0x0)tgBot['sendMessage'](_0x4d9397['chat']['id'],_0x2cba49(0x1ba))[_0x2cba49(0x17e)](_0x50a6d3=>{telegramError(_0x50a6d3);});else{if(_0x5e254d[_0x2cba49(0x131)]>0x1)_0x5e254d['push']({'botID':_0x2cba49(0x121)});let _0x3d4e7e=[],_0x3dc520=[];const _0x5bebd1=_0x5e254d['length']%0x4==0x0||_0x5e254d['length']%0x4==0x3||_0x5e254d[_0x2cba49(0x131)]%0x3==0x1?0x4:0x3;let _0x48cbc3=0x0;_0x5e254d[_0x2cba49(0x24b)]((_0x278118,_0x3a06e4)=>{const _0xd32dfb=_0x2cba49;if(_0x3a06e4%_0x5bebd1==0x0)_0x3dc520=[];_0x3dc520[_0xd32dfb(0x128)]({'text':_0x278118[_0xd32dfb(0xcf)]==_0xd32dfb(0x121)?_0xd32dfb(0x196):_0xd32dfb(0x1b0)+_0x278118[_0xd32dfb(0xcf)],'callback_data':_0x278118[_0xd32dfb(0xcf)]}),_0x3a06e4%_0x5bebd1==0x0&&(_0x3d4e7e[_0x48cbc3]=_0x3dc520,_0x48cbc3++);}),tgBot[_0x2cba49(0x1b6)](_0x4d9397[_0x2cba49(0x13e)]['id'],_0x2cba49(0x9b),{'reply_markup':{'inline_keyboard':_0x3d4e7e}})[_0x2cba49(0x17e)](_0x11af0c=>{telegramError(_0x11af0c);}),tgBot['on'](_0x2cba49(0x1db),async _0x509530=>{const _0x4990a3=_0x2cba49,_0x4ed9c8=_0x509530[_0x4990a3(0xb7)],_0x2206c7=_0x509530[_0x4990a3(0xd6)];tgBot['answerCallbackQuery'](_0x509530['id'])['then'](async()=>{const _0x4c7d4a=_0x4990a3;_0x4ed9c8=='all'?(tgBot[_0x4c7d4a(0x1b6)](_0x2206c7[_0x4c7d4a(0x13e)]['id'],_0x4c7d4a(0x23d))[_0x4c7d4a(0x17e)](_0x44f476=>{telegramError(_0x44f476);}),_0x5e254d[_0x4c7d4a(0x24b)](_0x1c022b=>{const _0x53a8ab=_0x4c7d4a;if(_0x1c022b['botID']!=_0x53a8ab(0x121))toggleBot(_0x1c022b[_0x53a8ab(0xcf)],toggleStatus(_0x1c022b[_0x53a8ab(0xcf)]),_0x53a8ab(0x1a3));})):(tgBot[_0x4c7d4a(0x1b6)](_0x2206c7[_0x4c7d4a(0x13e)]['id'],'Bot\x20Mgr\x20>\x20starting\x20Bot\x20'+_0x4ed9c8)['catch'](_0x530ac4=>{telegramError(_0x530ac4);}),toggleBot(_0x4ed9c8,toggleStatus(_0x4ed9c8),_0x4c7d4a(0x1a3)));}),tgBot[_0x4990a3(0x237)](_0x4990a3(0x1db));});}}),tgBot[_0x450932(0x1e6)](/\/off/,_0x7f13=>{const _0x2f8918=_0x450932;if(!validateTelegram(_0x7f13))return;tgBot[_0x2f8918(0x237)](_0x2f8918(0x1db));const _0x26a8f0=getEnabledBots();if(_0x26a8f0[_0x2f8918(0x131)]==0x0)tgBot[_0x2f8918(0x1b6)](_0x7f13[_0x2f8918(0x13e)]['id'],_0x2f8918(0x116))[_0x2f8918(0x17e)](_0x238afe=>{telegramError(_0x238afe);});else{if(_0x26a8f0[_0x2f8918(0x131)]>0x1)_0x26a8f0[_0x2f8918(0x128)]({'botID':'all'});let _0xad7706=[],_0x175972=[];const _0x2431dc=_0x26a8f0[_0x2f8918(0x131)]%0x4==0x0||_0x26a8f0[_0x2f8918(0x131)]%0x4==0x3||_0x26a8f0[_0x2f8918(0x131)]%0x3==0x1?0x4:0x3;let _0x137365=0x0;_0x26a8f0['forEach']((_0x5be652,_0x3cedee)=>{const _0x142937=_0x2f8918;if(_0x3cedee%_0x2431dc==0x0)_0x175972=[];_0x175972[_0x142937(0x128)]({'text':_0x5be652['botID']==_0x142937(0x121)?_0x142937(0x196):'Bot\x20'+_0x5be652['botID'],'callback_data':_0x5be652[_0x142937(0xcf)]}),_0x3cedee%_0x2431dc==0x0&&(_0xad7706[_0x137365]=_0x175972,_0x137365++);}),tgBot['sendMessage'](_0x7f13[_0x2f8918(0x13e)]['id'],_0x2f8918(0x154),{'reply_markup':{'inline_keyboard':_0xad7706}})[_0x2f8918(0x17e)](_0x4d8a8a=>{telegramError(_0x4d8a8a);}),tgBot['on'](_0x2f8918(0x1db),async _0x256519=>{const _0x2a6f33=_0x2f8918,_0x1c2151=_0x256519[_0x2a6f33(0xb7)],_0x52b7f4=_0x256519[_0x2a6f33(0xd6)];tgBot[_0x2a6f33(0x21f)](_0x256519['id'])[_0x2a6f33(0xc1)](async()=>{const _0x4e24e5=_0x2a6f33;_0x1c2151==_0x4e24e5(0x121)?(tgBot['sendMessage'](_0x52b7f4[_0x4e24e5(0x13e)]['id'],_0x4e24e5(0x21c))[_0x4e24e5(0x17e)](_0x330662=>{telegramError(_0x330662);}),_0x26a8f0[_0x4e24e5(0x24b)](_0x163a48=>{const _0x5c0b27=_0x4e24e5;if(_0x163a48[_0x5c0b27(0xcf)]!=_0x5c0b27(0x121))toggleBot(_0x163a48[_0x5c0b27(0xcf)],toggleStatus(_0x163a48['botID']),_0x5c0b27(0x1a3));})):(tgBot[_0x4e24e5(0x1b6)](_0x52b7f4[_0x4e24e5(0x13e)]['id'],'Bot\x20Mgr\x20>\x20stopping\x20Bot\x20'+_0x1c2151)[_0x4e24e5(0x17e)](_0xc7edb7=>{telegramError(_0xc7edb7);}),toggleBot(_0x1c2151,toggleStatus(_0x1c2151),_0x4e24e5(0x1a3)));}),tgBot[_0x2a6f33(0x237)](_0x2a6f33(0x1db));});}}),tgBot[_0x450932(0x1e6)](/\/metrics/,_0x20db16=>{const _0x9167b1=_0x450932;if(!validateTelegram(_0x20db16))return;tgBot[_0x9167b1(0x237)]('callback_query');const _0x34be75=getEnabledBots();if(_0x34be75[_0x9167b1(0x131)]==0x0)tgBot[_0x9167b1(0x1b6)](_0x20db16[_0x9167b1(0x13e)]['id'],'No\x20bots\x20running\x20right\x20now')[_0x9167b1(0x17e)](_0x32374e=>{telegramError(_0x32374e);});else{if(_0x34be75['length']>0x1){let _0xb40a56=[],_0x3ab3e9=[];const _0x3b9fcd=_0x34be75[_0x9167b1(0x131)]%0x4==0x0||_0x34be75[_0x9167b1(0x131)]%0x4==0x3||_0x34be75[_0x9167b1(0x131)]%0x3==0x1?0x4:0x3;let _0x11fb44=0x0;_0x34be75['forEach']((_0x275fa1,_0x22f140)=>{const _0x1f8574=_0x9167b1;if(_0x22f140%_0x3b9fcd==0x0)_0x3ab3e9=[];_0x3ab3e9[_0x1f8574(0x128)]({'text':_0x1f8574(0x1b0)+_0x275fa1['botID'],'callback_data':_0x275fa1['botID']}),_0x22f140%_0x3b9fcd==0x0&&(_0xb40a56[_0x11fb44]=_0x3ab3e9,_0x11fb44++);}),tgBot[_0x9167b1(0x1b6)](_0x20db16[_0x9167b1(0x13e)]['id'],'For\x20which\x20bot\x20do\x20you\x20want\x20the\x20metrics?',{'reply_markup':{'inline_keyboard':_0xb40a56}})['catch'](_0x4363c0=>{telegramError(_0x4363c0);}),tgBot['on'](_0x9167b1(0x1db),async _0x2e2cb7=>{const _0x1602de=_0x9167b1,_0x2a0c6a=_0x2e2cb7[_0x1602de(0xb7)],_0x3d47d4=_0x2e2cb7[_0x1602de(0xd6)];tgBot[_0x1602de(0x21f)](_0x2e2cb7['id'])[_0x1602de(0xc1)](async()=>{const _0x269c6f=_0x1602de;if(pid[_0x2a0c6a])pid[_0x2a0c6a][_0x269c6f(0x238)]({'function':_0x269c6f(0x1d9),'args':null});}),tgBot[_0x1602de(0x237)](_0x1602de(0x1db));});}else{const _0x3ef599=_0x34be75[0x0][_0x9167b1(0xcf)];if(pid[_0x3ef599])pid[_0x3ef599][_0x9167b1(0x238)]({'function':_0x9167b1(0x1d9),'args':null});}}}),tgBot[_0x450932(0x1e6)](/\/portfolio/,_0xf917ae=>{const _0x41098f=_0x450932;if(!validateTelegram(_0xf917ae))return;tgBot[_0x41098f(0x237)](_0x41098f(0x1db));const _0x8f154a=getEnabledBots();if(_0x8f154a[_0x41098f(0x131)]==0x0)tgBot[_0x41098f(0x1b6)](_0xf917ae[_0x41098f(0x13e)]['id'],_0x41098f(0x116))[_0x41098f(0x17e)](_0x4ca0bb=>{telegramError(_0x4ca0bb);});else{if(_0x8f154a[_0x41098f(0x131)]>0x1){let _0x8c5797=[],_0x46a51f=[];const _0x4c48bd=_0x8f154a[_0x41098f(0x131)]%0x4==0x0||_0x8f154a[_0x41098f(0x131)]%0x4==0x3||_0x8f154a[_0x41098f(0x131)]%0x3==0x1?0x4:0x3;let _0x1400a3=0x0;_0x8f154a[_0x41098f(0x24b)]((_0x4b42df,_0x340e97)=>{const _0x212d14=_0x41098f;if(_0x340e97%_0x4c48bd==0x0)_0x46a51f=[];_0x46a51f['push']({'text':'Bot\x20'+_0x4b42df[_0x212d14(0xcf)],'callback_data':_0x4b42df['botID']}),_0x340e97%_0x4c48bd==0x0&&(_0x8c5797[_0x1400a3]=_0x46a51f,_0x1400a3++);}),tgBot['sendMessage'](_0xf917ae[_0x41098f(0x13e)]['id'],'For\x20which\x20bot\x20do\x20you\x20want\x20the\x20portfolio?',{'reply_markup':{'inline_keyboard':_0x8c5797}})['catch'](_0x1a7dfa=>{telegramError(_0x1a7dfa);}),tgBot['on']('callback_query',async _0x328416=>{const _0x4e12d9=_0x41098f,_0x10395d=_0x328416[_0x4e12d9(0xb7)],_0x3c1def=_0x328416['message'];tgBot[_0x4e12d9(0x21f)](_0x328416['id'])[_0x4e12d9(0xc1)](async()=>{const _0x6a5a15=_0x4e12d9;if(pid[_0x10395d])pid[_0x10395d][_0x6a5a15(0x238)]({'function':_0x6a5a15(0x81),'args':null});}),tgBot[_0x4e12d9(0x237)](_0x4e12d9(0x1db));});}else{const _0x489683=_0x8f154a[0x0][_0x41098f(0xcf)];if(pid[_0x489683])pid[_0x489683][_0x41098f(0x238)]({'function':_0x41098f(0x81),'args':null});}}}),tgBot['onText'](/\/update/,async _0x598433=>{const _0x418ca3=_0x450932;if(!validateTelegram(_0x598433))return;tgBot[_0x418ca3(0x237)](_0x418ca3(0x1db)),await getMessages();if(!updateAvailable)tgBot['sendMessage'](_0x598433[_0x418ca3(0x13e)]['id'],'Your\x20installation\x20is\x20already\x20up\x20to\x20date')[_0x418ca3(0x17e)](_0x5a44e8=>{telegramError(_0x5a44e8);});else!validInstallation?tgBot[_0x418ca3(0x1b6)](_0x598433[_0x418ca3(0x13e)]['id'],'Your\x20installation\x20does\x20not\x20support\x20updating\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20update')['catch'](_0x238147=>{telegramError(_0x238147);}):(tgBot[_0x418ca3(0x1b6)](_0x598433[_0x418ca3(0x13e)]['id'],_0x418ca3(0x221),{'reply_markup':{'inline_keyboard':[[{'text':_0x418ca3(0x8c),'callback_data':_0x418ca3(0x245)},{'text':'No','callback_data':'no'}]]}})[_0x418ca3(0x17e)](_0x4ca2eb=>{telegramError(_0x4ca2eb);}),tgBot['on'](_0x418ca3(0x1db),async _0x2b20fd=>{const _0x34bf34=_0x418ca3,_0x13cf62=_0x2b20fd['data'],_0x5b0021=_0x2b20fd[_0x34bf34(0xd6)];tgBot[_0x34bf34(0x21f)](_0x2b20fd['id'])[_0x34bf34(0xc1)](async()=>{const _0x34c5f0=_0x34bf34;_0x13cf62=='yes'&&(await tgBot[_0x34c5f0(0x1b6)](_0x5b0021[_0x34c5f0(0x13e)]['id'],_0x34c5f0(0xc6))[_0x34c5f0(0x17e)](_0x2f269d=>{telegramError(_0x2f269d);}),updateBB('update')),_0x13cf62=='no'&&await tgBot[_0x34c5f0(0x1b6)](_0x5b0021[_0x34c5f0(0x13e)]['id'],_0x34c5f0(0x21a))['catch'](_0x1b4331=>{telegramError(_0x1b4331);});}),tgBot[_0x34bf34(0x237)](_0x34bf34(0x1db));}));}),tgBot[_0x450932(0x1e6)](/\/reinstall/,async _0x270a25=>{const _0x3dfd45=_0x450932;if(!validateTelegram(_0x270a25))return;tgBot['removeListener'](_0x3dfd45(0x1db)),!validInstallation?tgBot[_0x3dfd45(0x1b6)](_0x270a25['chat']['id'],_0x3dfd45(0xf9))[_0x3dfd45(0x17e)](_0x7be84e=>{telegramError(_0x7be84e);}):(tgBot['sendMessage'](_0x270a25[_0x3dfd45(0x13e)]['id'],_0x3dfd45(0x244),{'reply_markup':{'inline_keyboard':[[{'text':'Yes','callback_data':_0x3dfd45(0x245)},{'text':'No','callback_data':'no'}]]}})[_0x3dfd45(0x17e)](_0x4d162c=>{telegramError(_0x4d162c);}),tgBot['on']('callback_query',async _0x4d7a61=>{const _0xa10340=_0x3dfd45,_0x13db72=_0x4d7a61[_0xa10340(0xb7)],_0x24a9b3=_0x4d7a61[_0xa10340(0xd6)];tgBot[_0xa10340(0x21f)](_0x4d7a61['id'])[_0xa10340(0xc1)](async()=>{const _0xffaa74=_0xa10340;_0x13db72==_0xffaa74(0x245)&&(await tgBot['sendMessage'](_0x24a9b3['chat']['id'],_0xffaa74(0x158))[_0xffaa74(0x17e)](_0x24b4f9=>{telegramError(_0x24b4f9);}),updateBB(_0xffaa74(0x162))),_0x13db72=='no'&&await tgBot['sendMessage'](_0x24a9b3[_0xffaa74(0x13e)]['id'],_0xffaa74(0x6d))[_0xffaa74(0x17e)](_0x475861=>{telegramError(_0x475861);});}),tgBot['removeListener'](_0xa10340(0x1db));}));}),tgBot[_0x450932(0x1e6)](/\/toggle/,_0x159cda=>{const _0x13c195=_0x450932;if(!validateTelegram(_0x159cda))return;tgBot[_0x13c195(0x237)]('callback_query');const _0x1647d9=getBotsWithMode();if(_0x1647d9[_0x13c195(0x131)]==0x0)tgBot[_0x13c195(0x1b6)](_0x159cda[_0x13c195(0x13e)]['id'],'No\x20bots\x20running\x20right\x20now')[_0x13c195(0x17e)](_0x35b64d=>{telegramError(_0x35b64d);});else{let _0x3286d0=[],_0x13efb7=[];const _0x436b65=0x2;let _0x3b99ea=0x0;_0x1647d9[_0x13c195(0x24b)]((_0x3676bc,_0x8aa783)=>{const _0x26187b=_0x13c195;if(_0x8aa783%_0x436b65==0x0)_0x13efb7=[];_0x13efb7[_0x26187b(0x128)]({'text':_0x26187b(0x1b0)+_0x3676bc[_0x26187b(0xcf)]+'\x20('+_0x3676bc[_0x26187b(0x1f0)]+')','callback_data':_0x3676bc[_0x26187b(0xcf)]}),_0x8aa783%_0x436b65==0x0&&(_0x3286d0[_0x3b99ea]=_0x13efb7,_0x3b99ea++);}),tgBot[_0x13c195(0x1b6)](_0x159cda['chat']['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?',{'reply_markup':{'inline_keyboard':_0x3286d0}})['catch'](_0x4225f9=>{telegramError(_0x4225f9);}),tgBot['on'](_0x13c195(0x1db),async _0xffc250=>{const _0xe1717d=_0x13c195,_0x5ca45e=_0xffc250[_0xe1717d(0xb7)],_0x42b059=_0xffc250[_0xe1717d(0xd6)];tgBot['answerCallbackQuery'](_0xffc250['id'])[_0xe1717d(0xc1)](async()=>{const _0x2e3f72=_0xe1717d,_0x26bad6=_0x1647d9['find'](_0x5bc00f=>_0x5bc00f[_0x2e3f72(0xcf)]==_0x5ca45e),_0xe6fdeb=_0x26bad6[_0x2e3f72(0x1f0)]=='auto'?_0x2e3f72(0x1fa):_0x2e3f72(0xcb);tgBot[_0x2e3f72(0x1b6)](_0x42b059[_0x2e3f72(0x13e)]['id'],_0x2e3f72(0x225)+_0x5ca45e+'\x20to\x20'+_0xe6fdeb+_0x2e3f72(0x151))[_0x2e3f72(0x17e)](_0x13c965=>{telegramError(_0x13c965);}),toggleBotMode(_0x5ca45e);}),tgBot[_0xe1717d(0x237)]('callback_query');});}}),tgBot[_0x450932(0x1e6)](/\/names/,_0x458488=>{const _0x3b93cf=_0x450932;if(!validateTelegram(_0x458488))return;let _0x26982b='';config[_0x3b93cf(0x24b)](_0x15281a=>{const _0x142386=_0x3b93cf;_0x26982b+='Bot\x20'+_0x15281a[_0x142386(0xcf)]+':\x20'+_0x15281a[_0x142386(0xeb)]+'\x0a';}),tgBot[_0x3b93cf(0x1b6)](_0x458488[_0x3b93cf(0x13e)]['id'],_0x26982b,{'parse_mode':'HTML'})[_0x3b93cf(0x17e)](_0x482d2b=>{telegramError(_0x482d2b);});}),tgBot[_0x450932(0x1e6)](/\/disable/,_0x25d9df=>{const _0x1a2527=_0x450932;if(!validateTelegram(_0x25d9df))return;tgBot[_0x1a2527(0x1b6)](_0x25d9df[_0x1a2527(0x13e)]['id'],_0x1a2527(0x204))['catch'](_0x15f04c=>{telegramError(_0x15f04c);}),updateSetting(_0x1a2527(0x165),![]);}),tgBot[_0x450932(0x1e6)](/\/help/,_0x58a0e2=>{if(!validateTelegram(_0x58a0e2))return;tgBot['sendMessage'](_0x58a0e2['chat']['id'],_0x389ec3)['catch'](_0x431791=>{telegramError(_0x431791);});}),tgBot['on']('polling_error',_0x521382=>{const _0x350b97=_0x450932;_0x521382[_0x350b97(0xf1)]()[_0x350b97(0x13f)](_0x350b97(0xda))&&(logger[_0x350b97(0x161)]('Invalid\x20Telegram\x20token'),tgBot['stopPolling'](),tgBot=null,io['to'](_0x350b97(0x234))['emit']('notification',_0x350b97(0x15a)));}),process[_0x450932(0x1fc)]('SIGINT',()=>{const _0x18d93c=_0x450932;if(tgBot)tgBot[_0x18d93c(0x1a5)]();process['exit'](0x1);}),process['once'](_0x450932(0xea),()=>{const _0x2b0f7c=_0x450932;if(tgBot)tgBot[_0x2b0f7c(0x1a5)]();process[_0x2b0f7c(0x78)](0x1);});}}function disableTelegram(){tgBot&&(tgBot['stopPolling'](),tgBot=null);}function sendTelegram(_0x281960,_0x1798d5){const _0x192648=_0x378322;if(settings[_0x192648(0x165)]){if(settings['telegramEvents']=='all'||(_0x1798d5['type']==_0x192648(0xcc)||_0x1798d5[_0x192648(0xfe)]==_0x192648(0x1bc)||_0x1798d5[_0x192648(0xfe)]==_0x192648(0x84))&&settings['telegramEvents']=='alerts'||_0x1798d5[_0x192648(0xfe)]==_0x192648(0x83)&&settings[_0x192648(0x1a8)]=='orders'){if(tgBot&&settings[_0x192648(0xc2)]){if(_0x1798d5[_0x192648(0xdd)])tgBot['sendMessage'](settings[_0x192648(0xc2)],_0x1798d5[_0x192648(0xeb)]+'\x20>\x20'+_0x1798d5['event'])[_0x192648(0x17e)](_0x27cdaa=>{telegramError(_0x27cdaa);});else tgBot[_0x192648(0x1b6)](settings['telegramChatId'],_0x192648(0x1b0)+_0x281960+_0x192648(0x1a0)+_0x1798d5[_0x192648(0x102)])['catch'](_0x4f29a4=>{telegramError(_0x4f29a4);});}}}}async function sendTelegramMsg(_0x466110,_0x2a5259=_0x378322(0xad)){const _0x425a25=_0x378322;return settings[_0x425a25(0x165)]&&tgBot&&settings['telegramChatId']?(await tgBot[_0x425a25(0x1b6)](settings[_0x425a25(0xc2)],_0x466110,{'parse_mode':_0x2a5259})[_0x425a25(0x17e)](_0x3950c3=>{telegramError(_0x3950c3);}),!![]):![];}function getDeviceWithIp(_0x4d57c4){const _0x51f00e=_0x378322;return devices[_0x51f00e(0x7c)](_0xf9c6b0=>_0xf9c6b0['ip']===_0x4d57c4);}function temporaryAccess2FA(_0x585b16,_0x448566){const _0x47d0bf=_0x378322;let _0x967305=new Date(),_0x10c7f3=![];if(lastIpApproval){if(_0x967305-lastIpApproval<0x1388)_0x10c7f3=!![];}lastIpApproval=new Date();if(_0x10c7f3)return;tgBot&&settings[_0x47d0bf(0xc2)]&&(tgBot[_0x47d0bf(0x237)](_0x47d0bf(0x1db)),tgBot[_0x47d0bf(0x1b6)](settings[_0x47d0bf(0xc2)],_0x47d0bf(0x12d)+normalizeIP(_0x448566)[_0x47d0bf(0x152)]+'</b>\x20?',{'parse_mode':_0x47d0bf(0xad),'reply_markup':{'inline_keyboard':[[{'text':_0x47d0bf(0x6b),'callback_data':'5'},{'text':_0x47d0bf(0x209),'callback_data':'15'},{'text':_0x47d0bf(0x87),'callback_data':'30'},{'text':_0x47d0bf(0x19e),'callback_data':_0x47d0bf(0x19e)}]]}})['catch'](_0x3a425a=>{telegramError(_0x3a425a);}),tgBot['on'](_0x47d0bf(0x1db),async _0x42c5b5=>{const _0x108e9c=_0x47d0bf,_0x149bd3=_0x42c5b5[_0x108e9c(0xb7)],_0x573368=_0x42c5b5[_0x108e9c(0xd6)];tgBot[_0x108e9c(0x21f)](_0x42c5b5['id'])['then'](async()=>{const _0x5b55b4=_0x108e9c;devices[_0x585b16][_0x5b55b4(0x1eb)]={'clientip':_0x448566,'timestamp':new Date()['getTime'](),'expiry':_0x149bd3},_0x149bd3!=_0x5b55b4(0x19e)?(await tgBot[_0x5b55b4(0x1b6)](_0x573368['chat']['id'],_0x5b55b4(0x198)+_0x149bd3+_0x5b55b4(0x1dd),{'parse_mode':'HTML'})['catch'](_0xa0f306=>{telegramError(_0xa0f306);}),io['to'](_0x585b16)['emit'](_0x5b55b4(0x1d2),{'access':{'allow':![],'reason':_0x5b55b4(0x1d0),'token':null}})):(await tgBot['sendMessage'](_0x573368[_0x5b55b4(0x13e)]['id'],_0x5b55b4(0x77))[_0x5b55b4(0x17e)](_0x2c771d=>{telegramError(_0x2c771d);}),io['to'](_0x585b16)[_0x5b55b4(0x248)](_0x5b55b4(0x1d2),{'access':{'allow':![],'reason':_0x5b55b4(0x1ae),'token':null}}));}),tgBot[_0x108e9c(0x237)](_0x108e9c(0x1db));}));}function loginAccess2FA(_0x5ab685,_0x2f6f29){const _0x50d81f=_0x378322;tgBot&&settings['telegramChatId']&&(tgBot['removeListener'](_0x50d81f(0x1db)),tgBot[_0x50d81f(0x1b6)](settings[_0x50d81f(0xc2)],_0x50d81f(0x137)+normalizeIP(_0x2f6f29)[_0x50d81f(0x152)]+_0x50d81f(0xd4),{'parse_mode':_0x50d81f(0xad),'reply_markup':{'inline_keyboard':[[{'text':_0x50d81f(0x8e),'callback_data':loginExpiry},{'text':'reject','callback_data':_0x50d81f(0x19e)}]]}})['catch'](_0x46f356=>{telegramError(_0x46f356);}),tgBot['on'](_0x50d81f(0x1db),async _0x7f7742=>{const _0x46fb38=_0x50d81f,_0x18e10e=_0x7f7742['data'],_0x4e9004=_0x7f7742[_0x46fb38(0xd6)];tgBot[_0x46fb38(0x21f)](_0x7f7742['id'])[_0x46fb38(0xc1)](async()=>{const _0x1a6b1e=_0x46fb38;devices[_0x5ab685][_0x1a6b1e(0x16a)]={'clientip':_0x2f6f29,'timestamp':new Date()[_0x1a6b1e(0xe1)](),'expiry':_0x18e10e},_0x18e10e!=_0x1a6b1e(0x19e)?(await tgBot['sendMessage'](_0x4e9004['chat']['id'],_0x1a6b1e(0xed),{'parse_mode':'HTML'})[_0x1a6b1e(0x17e)](_0x2a2cbd=>{telegramError(_0x2a2cbd);}),io['to'](_0x5ab685)['emit']('status',{'access':{'allow':![],'reason':_0x1a6b1e(0x1d0),'token':null}})):(await tgBot[_0x1a6b1e(0x1b6)](_0x4e9004['chat']['id'],_0x1a6b1e(0x1a2))[_0x1a6b1e(0x17e)](_0x571f47=>{telegramError(_0x571f47);}),io['to'](_0x5ab685)[_0x1a6b1e(0x248)]('status',{'access':{'allow':![],'reason':_0x1a6b1e(0x17c),'token':null}}));}),tgBot[_0x46fb38(0x237)]('callback_query');}));}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x289d4c=_0x378322;return dbConfig[_0x289d4c(0xfa)](_0x289d4c(0x145))[_0x289d4c(0x11d)]('botID')[_0x289d4c(0xa6)]({'status':_0x289d4c(0x106)})[_0x289d4c(0x1c1)]()||[];}function getDisabledBots(){const _0x434295=_0x378322;return dbConfig[_0x434295(0xfa)](_0x434295(0x145))[_0x434295(0x11d)]('botID')[_0x434295(0xa6)]({'status':_0x434295(0xf3)})[_0x434295(0x1c1)]()||[];}function getBotAttributes(_0x59dd10){const _0x5efe5f=_0x378322;let _0x4e660d={};const _0x42ec8c=configpath+_0x5efe5f(0x18d)+_0x59dd10+'-config.json',_0x44310a=fs[_0x5efe5f(0x118)](_0x42ec8c);if(_0x44310a){const _0x4eb91d=fs['readFileSync'](_0x42ec8c);try{const _0x347caa=JSON['parse'](_0x4eb91d),_0x43d2f3=_0x347caa?_0x347caa[_0x5efe5f(0x214)][0x0]['headless']:![];_0x4e660d[_0x5efe5f(0x1f0)]=_0x43d2f3?_0x5efe5f(0xcb):_0x5efe5f(0x1fa),_0x4e660d[_0x5efe5f(0xeb)]=_0x347caa?_0x347caa['bot'][0x0][_0x5efe5f(0xeb)]:_0x5efe5f(0x1b0)+_0x59dd10;}catch(_0x451a26){_0x4e660d[_0x5efe5f(0x1f0)]=_0x5efe5f(0x1fa),_0x4e660d['botname']=_0x5efe5f(0x1b0)+_0x59dd10;}}else _0x4e660d[_0x5efe5f(0x1f0)]=_0x5efe5f(0x1fa),_0x4e660d[_0x5efe5f(0xeb)]=_0x5efe5f(0x1b0)+_0x59dd10;return _0x4e660d;}function getBotsWithMode(){const _0x5c88a5=_0x378322,_0x1b3ffd=dbConfig[_0x5c88a5(0xfa)](_0x5c88a5(0x145))[_0x5c88a5(0x11d)](_0x5c88a5(0xcf))[_0x5c88a5(0x1c1)]()||[];return _0x1b3ffd[_0x5c88a5(0x24b)](_0x39f1fa=>{const _0x5a7f31=_0x5c88a5;let _0x157f72=getBotAttributes(_0x39f1fa[_0x5a7f31(0xcf)]);_0x39f1fa[_0x5a7f31(0x1f0)]=_0x157f72['mode'];}),_0x1b3ffd;}function getBotExchanges(){const _0x422e42=_0x378322;let _0x50a5ac=[];const _0x4b6dd4=dbConfig[_0x422e42(0xfa)](_0x422e42(0x145))[_0x422e42(0x11d)]('botID')[_0x422e42(0x1c1)]()||[];_0x4b6dd4[_0x422e42(0x24b)](_0x3db7cc=>{const _0x24d355=_0x422e42;if(_0x3db7cc[_0x24d355(0x1d2)]==_0x24d355(0x106)){const _0x3a3ac2=configpath+_0x24d355(0x18d)+_0x3db7cc['botID']+_0x24d355(0xe0),_0x8430c0=fs[_0x24d355(0x118)](_0x3a3ac2);let _0x528dcf;if(_0x8430c0){const _0xeb5a55=fs[_0x24d355(0x71)](_0x3a3ac2);try{const _0x56b671=JSON[_0x24d355(0x1c7)](_0xeb5a55);_0x528dcf=_0x56b671?_0x56b671['bot'][0x0]['exchange']:null;}catch(_0x24a615){}}if(_0x528dcf)_0x50a5ac[_0x24d355(0x128)](_0x528dcf);}});const _0x6f385b=[...new Set(_0x50a5ac)][_0x422e42(0x147)]();return _0x6f385b;}async function initUser(){const _0x42f8da=_0x378322;if(!settings[_0x42f8da(0xc0)]){const _0x42949a=uuidRandom();mixpanel['alias'](_0x42949a),updateSetting(_0x42f8da(0xc0),_0x42949a);}}async function initSecure(){const _0x5b8005=_0x378322;let _0x4db76=getSecure();if(!_0x4db76[_0x5b8005(0x1c2)](_0x5b8005(0xb0))){let _0x3c70f1=await generateKeys();_0x4db76[_0x5b8005(0xfd)]=_0x3c70f1[_0x5b8005(0xfd)],_0x4db76['privateKey']=_0x3c70f1[_0x5b8005(0x21b)],_0x4db76[_0x5b8005(0xb0)]=crypto['randomBytes'](0x20)['toString']('hex');;storeSecure(_0x4db76);}}function getSettings(){const _0x10b043=_0x378322;return dbSettings[_0x10b043(0xfa)](_0x10b043(0x19b))[_0x10b043(0x1c1)]()||{};}function getSecure(){const _0x458405=_0x378322;return dbSecure[_0x458405(0xfa)](_0x458405(0xf6))[_0x458405(0x1c1)]()||{};}function getBlacklist(){const _0xd45df2=_0x378322;return dbSecure[_0xd45df2(0xfa)](_0xd45df2(0x1ce))[_0xd45df2(0x1c1)]()||[];}function broadcastToBots(_0x481649,_0x127bec){const _0x3d6182=_0x378322;config[_0x3d6182(0x24b)](_0x4b9e87=>{const _0x2dd8c6=_0x3d6182;if(_0x4b9e87['status']=='enabled'&&_0x4b9e87[_0x2dd8c6(0xbb)]=='running'||_0x4b9e87[_0x2dd8c6(0x1d2)]==_0x2dd8c6(0x1cd)&&_0x4b9e87[_0x2dd8c6(0xbb)]==_0x2dd8c6(0x203)){if(pid[_0x4b9e87[_0x2dd8c6(0xcf)]])pid[_0x4b9e87[_0x2dd8c6(0xcf)]][_0x2dd8c6(0x238)]({[_0x481649]:_0x127bec});}});}function storeSettings(_0x357c20,_0x21dd95=![]){const _0x3ea2aa=_0x378322;_0x357c20={...settings,..._0x357c20};if(_0x21dd95&&_0x357c20[_0x3ea2aa(0x16b)]!=_0x3ea2aa(0x17f)&&_0x357c20['bbPassword']!=_0x3ea2aa(0x173)&&_0x357c20[_0x3ea2aa(0x16b)]!=''){const _0x52f353=crypt[_0x3ea2aa(0x22e)](secure['privateKey'],_0x357c20[_0x3ea2aa(0x16b)])[_0x3ea2aa(0xd6)][_0x3ea2aa(0xc7)]('@')[0x0],_0x1b3379=bcrypt[_0x3ea2aa(0xa9)](_0x52f353,saltRounds);_0x357c20={..._0x357c20,'bbPassword':_0x1b3379};}if(_0x21dd95&&_0x357c20['telegramToken']!=_0x3ea2aa(0x17f)&&_0x357c20[_0x3ea2aa(0x7e)]!=_0x3ea2aa(0x173)&&_0x357c20[_0x3ea2aa(0x7e)]!=''){const _0x464971=crypt[_0x3ea2aa(0x22e)](secure['privateKey'],_0x357c20['telegramToken'])[_0x3ea2aa(0xd6)][_0x3ea2aa(0xc7)]('@')[0x0];_0x357c20={..._0x357c20,'telegramToken':_0x464971};}const _0x26e37f=_0x357c20[_0x3ea2aa(0x7e)]!='************'&&_0x357c20[_0x3ea2aa(0x7e)]!=settings['telegramToken']||_0x357c20[_0x3ea2aa(0xa8)]!=settings[_0x3ea2aa(0xa8)],_0x3fde88=_0x357c20[_0x3ea2aa(0x7e)]==''||_0x357c20[_0x3ea2aa(0xa8)]=='';if(_0x26e37f)_0x357c20['telegramEvents']=_0x3ea2aa(0x121);for(const [_0x8fe06c,_0x58d3ec]of Object[_0x3ea2aa(0x184)](_0x357c20)){if(_0x8fe06c==_0x3ea2aa(0x7e)&&_0x58d3ec==_0x3ea2aa(0x17f)){_0x357c20[_0x3ea2aa(0x7e)]=settings[_0x3ea2aa(0x7e)];continue;};if(_0x8fe06c==_0x3ea2aa(0x16b)&&_0x58d3ec==_0x3ea2aa(0x17f)){_0x357c20[_0x3ea2aa(0x16b)]=settings['bbPassword'];continue;};dbSettings[_0x3ea2aa(0x10e)](_0x3ea2aa(0x72)+_0x8fe06c,_0x58d3ec)[_0x3ea2aa(0xab)]();}settings=_0x357c20,io['to'](_0x3ea2aa(0x234))[_0x3ea2aa(0x248)](_0x3ea2aa(0x19b),cleanSettings()),broadcastToBots(_0x3ea2aa(0x1d3),settings[_0x3ea2aa(0x1d3)]),broadcastToBots(_0x3ea2aa(0xcd),settings[_0x3ea2aa(0xcd)]);if(_0x26e37f&&!_0x3fde88)initTelegram();if(_0x26e37f&&_0x3fde88)disableTelegram();getAllClients()[_0x3ea2aa(0x24b)](_0x328d41=>{const _0x324bcd=_0x3ea2aa;getSocket(_0x328d41['id'])[_0x324bcd(0x248)](_0x324bcd(0x1d2),{'access':{'allow':![],'reason':'reload','token':null}});});}function updateSetting(_0x352fcb,_0xccc77b){const _0x38fcf0=_0x378322;dbSettings[_0x38fcf0(0x10e)]('settings.'+_0x352fcb,_0xccc77b)[_0x38fcf0(0xab)](),settings=getSettings(),io['to'](_0x38fcf0(0x234))[_0x38fcf0(0x248)](_0x38fcf0(0x19b),cleanSettings());}function storeSecure(_0x280fa8){const _0xd3a124=_0x378322;dbSecure['get'](_0xd3a124(0xf6))[_0xd3a124(0x128)](_0x280fa8)[_0xd3a124(0xab)](),secure=_0x280fa8;}function addBlacklist(_0x217562){const _0xf9d867=_0x378322;cleanBlacklist();let _0x1f6283;devices[_0x217562]['telegramIpApproval']?_0x1f6283=Math[_0xf9d867(0x15e)](devices[_0x217562]['telegramIpApproval'][_0xf9d867(0x16d)],loginExpiry):_0x1f6283=loginExpiry,dbSecure['get']('blacklist')['push']({'expiry':new Date()[_0xf9d867(0xe1)]()+_0x1f6283*0x3c*0x3e8,'token':devices[_0x217562][_0xf9d867(0x224)][_0xf9d867(0x76)]})[_0xf9d867(0xab)](),blacklist=dbSecure['get'](_0xf9d867(0x1ce))['value']();}function cleanBlacklist(){const _0x4a2ee3=_0x378322;let _0x9e7634=dbSecure[_0x4a2ee3(0xfa)](_0x4a2ee3(0x1ce))[_0x4a2ee3(0x97)]()[_0x4a2ee3(0x1c1)](),_0x222c74=new Date()[_0x4a2ee3(0xe1)]();_0x9e7634['forEach'](_0x3f4dc8=>{const _0x76a3e5=_0x4a2ee3;_0x3f4dc8[_0x76a3e5(0x16d)]<_0x222c74&&dbSecure['get'](_0x76a3e5(0x1ce))[_0x76a3e5(0x95)]({'expiry':_0x3f4dc8[_0x76a3e5(0x16d)]})[_0x76a3e5(0xab)]();});}function initStates(){const _0x5e8681=_0x378322;let _0x5b85fb=getConfiguration();_0x5b85fb[_0x5e8681(0x24b)](_0x13208b=>{const _0x1160bb=_0x5e8681;_0x13208b[_0x1160bb(0xbb)]=_0x1160bb(0x1a3);}),storeConfiguration(_0x5b85fb);}function onKeys(){const _0x2ce154=new RSA();return new Promise(_0x2b8531=>{const _0x13b1e5=_0x1aa6;_0x2ce154['generateKeyPairAsync']()[_0x13b1e5(0xc1)](_0x816f24=>{_0x2b8531(_0x816f24);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x325307=_0x378322;let _0x508c58=getSettings(),_0x6f819f=![];!_0x508c58[_0x325307(0x1c2)]('lastmsgtelegram')&&(_0x508c58[_0x325307(0x233)]=0x0,_0x6f819f=!![]);!_0x508c58['hasOwnProperty'](_0x325307(0x127))&&(_0x508c58[_0x325307(0x127)]=0x0,_0x6f819f=!![]);!_0x508c58[_0x325307(0x1c2)](_0x325307(0x18c))&&(_0x508c58[_0x325307(0x18c)]='0.0.0',_0x6f819f=!![]);!_0x508c58[_0x325307(0x1c2)]('onepagemode')&&(_0x508c58[_0x325307(0xcd)]=![],_0x6f819f=!![]);if(_0x6f819f)storeSettings(_0x508c58);try{fs[_0x325307(0xf5)](configbackuppath,{'withFileTypes':!![]})[_0x325307(0x24b)](_0x2d3af1=>{const _0x5e6562=_0x325307;if(!_0x2d3af1[_0x5e6562(0xb9)]()){if(!_0x2d3af1[_0x5e6562(0xae)][_0x5e6562(0x109)](_0x5e6562(0xd3)))fs[_0x5e6562(0x8b)](configbackuppath+_0x2d3af1[_0x5e6562(0xae)]);}else fs['rmSync'](configbackuppath+_0x2d3af1['name'],{'recursive':!![]});});}catch(_0x25c72c){logger[_0x325307(0xe3)](_0x325307(0x1e0),_0x25c72c);}}function storeConfiguration(_0x55e1c5){const _0x394561=_0x378322;dbConfig[_0x394561(0xfa)](_0x394561(0x145))[_0x394561(0x95)]()[_0x394561(0xab)](),_0x55e1c5[_0x394561(0x24b)](_0x5d4b4a=>{const _0x2658da=_0x394561;delete _0x5d4b4a[_0x2658da(0x1f0)];}),dbConfig[_0x394561(0xfa)](_0x394561(0x145))[_0x394561(0x128)](..._0x55e1c5)['write'](),config=_0x55e1c5;}function resetPassword(){const _0x128e6f=_0x378322;tgBot&&settings[_0x128e6f(0xc2)]&&(tgBot[_0x128e6f(0x237)]('callback_query'),tgBot['sendMessage'](settings[_0x128e6f(0xc2)],_0x128e6f(0x188),{'parse_mode':_0x128e6f(0xad),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x128e6f(0x245)},{'text':'no','callback_data':'no'}]]}})[_0x128e6f(0x17e)](_0x180b8a=>{telegramError(_0x180b8a);}),tgBot['on'](_0x128e6f(0x1db),async _0x125fb8=>{const _0x446bd3=_0x128e6f,_0x11d440=_0x125fb8['data'],_0x1e8792=_0x125fb8[_0x446bd3(0xd6)];tgBot[_0x446bd3(0x21f)](_0x125fb8['id'])[_0x446bd3(0xc1)](async()=>{const _0x14b2ad=_0x446bd3;if(_0x11d440!='no'){const _0x2e87b7=0xf,_0x55f66b=_0x14b2ad(0x167),_0x2b4c64=Array[_0x14b2ad(0x8a)](crypto[_0x14b2ad(0x193)](new Uint32Array(_0x2e87b7)))[_0x14b2ad(0x74)](_0xde935a=>_0x55f66b[_0xde935a%_0x55f66b['length']])[_0x14b2ad(0x140)](''),_0x3cbefa=bcrypt['hashSync'](_0x2b4c64,saltRounds);storeSettings({'bbPassword':_0x3cbefa}),await tgBot[_0x14b2ad(0x1b6)](_0x1e8792[_0x14b2ad(0x13e)]['id'],_0x14b2ad(0x24a)+_0x2b4c64,{'parse_mode':_0x14b2ad(0xad)})[_0x14b2ad(0x17e)](_0x2c54a9=>{telegramError(_0x2c54a9);});}else await tgBot[_0x14b2ad(0x1b6)](_0x1e8792[_0x14b2ad(0x13e)]['id'],_0x14b2ad(0x12c))[_0x14b2ad(0x17e)](_0x151a2d=>{telegramError(_0x151a2d);});}),tgBot[_0x446bd3(0x237)]('callback_query');}));}async function confirmRestore(_0x2aa79e,_0x525adb){const _0x1727bf=_0x378322;io['to'](_0x1727bf(0x234))[_0x1727bf(0x248)](_0x1727bf(0x185),'Please\x20confirm\x20restoring\x20in\x20your\x20Telegram\x20bot',_0x1727bf(0x84)),tgBot&&settings[_0x1727bf(0xc2)]&&(tgBot[_0x1727bf(0x237)](_0x1727bf(0x1db)),await tgBot[_0x1727bf(0x1b6)](settings[_0x1727bf(0xc2)],'Do\x20you\x20want\x20to\x20restore\x20your\x20installation?\x20NOTE:\x20this\x20will\x20replace\x20your\x20current\x20settings\x20and\x20bot(s)',{'parse_mode':_0x1727bf(0xad),'reply_markup':{'inline_keyboard':[[{'text':_0x1727bf(0x245),'callback_data':_0x1727bf(0x245)},{'text':'no','callback_data':'no'}]]}})['catch'](_0x1e99b0=>{telegramError(_0x1e99b0);}),tgBot['on'](_0x1727bf(0x1db),async _0x353bdf=>{const _0x39aa75=_0x1727bf,_0x17066c=_0x353bdf['data'],_0x3ae581=_0x353bdf[_0x39aa75(0xd6)];tgBot[_0x39aa75(0x21f)](_0x353bdf['id'])['then'](async()=>{const _0x5677d9=_0x39aa75;_0x17066c=='yes'?(await tgBot[_0x5677d9(0x1b6)](_0x3ae581[_0x5677d9(0x13e)]['id'],'Restoring\x20bot(s)\x20from\x20backup',{'parse_mode':_0x5677d9(0xad)})[_0x5677d9(0x17e)](_0x404927=>{telegramError(_0x404927);}),unzipFile(_0x2aa79e,_0x525adb)):(logger['debug'](_0x5677d9(0x11f)),await tgBot[_0x5677d9(0x1b6)](_0x3ae581[_0x5677d9(0x13e)]['id'],_0x5677d9(0x11f))[_0x5677d9(0x17e)](_0x4190c9=>{telegramError(_0x4190c9);}));}),tgBot[_0x39aa75(0x237)](_0x39aa75(0x1db));}));}function getServerTime(){const _0x41bfd8=_0x378322,_0x14f5fc=new Date();return _0x14f5fc['getFullYear']()+'/'+(_0x14f5fc[_0x41bfd8(0x12e)]()+0x1)[_0x41bfd8(0xf1)]()['padStart'](0x2,'0')+'/'+_0x14f5fc[_0x41bfd8(0x1cc)]()[_0x41bfd8(0xf1)]()[_0x41bfd8(0x107)](0x2,'0')+'\x20'+_0x14f5fc[_0x41bfd8(0x1c9)]()[_0x41bfd8(0xf1)]()['padStart'](0x2,'0')+':'+_0x14f5fc[_0x41bfd8(0x1f5)]()[_0x41bfd8(0xf1)]()[_0x41bfd8(0x107)](0x2,'0')+':'+_0x14f5fc[_0x41bfd8(0x1e4)]()[_0x41bfd8(0xf1)]()[_0x41bfd8(0x107)](0x2,'0');}function getTimeStamp(){const _0x104a1f=_0x378322,_0x3e10e4=shiftedTime();return _0x3e10e4['getFullYear']()+'/'+(_0x3e10e4[_0x104a1f(0x12e)]()+0x1)[_0x104a1f(0xf1)]()[_0x104a1f(0x107)](0x2,'0')+'/'+_0x3e10e4[_0x104a1f(0x1cc)]()[_0x104a1f(0xf1)]()[_0x104a1f(0x107)](0x2,'0')+'\x20'+_0x3e10e4[_0x104a1f(0x1c9)]()[_0x104a1f(0xf1)]()[_0x104a1f(0x107)](0x2,'0')+':'+_0x3e10e4[_0x104a1f(0x1f5)]()[_0x104a1f(0xf1)]()[_0x104a1f(0x107)](0x2,'0')+':'+_0x3e10e4[_0x104a1f(0x1e4)]()['toString']()[_0x104a1f(0x107)](0x2,'0');}function getCleanTimeStamp(){const _0x559f9f=_0x378322,_0x140cae=shiftedTime();return _0x140cae['getFullYear']()+(_0x140cae['getMonth']()+0x1)[_0x559f9f(0xf1)]()[_0x559f9f(0x107)](0x2,'0')+_0x140cae['getDate']()[_0x559f9f(0xf1)]()[_0x559f9f(0x107)](0x2,'0')+'-'+_0x140cae[_0x559f9f(0x1c9)]()[_0x559f9f(0xf1)]()[_0x559f9f(0x107)](0x2,'0')+_0x140cae['getMinutes']()[_0x559f9f(0xf1)]()[_0x559f9f(0x107)](0x2,'0')+_0x140cae[_0x559f9f(0x1e4)]()[_0x559f9f(0xf1)]()['padStart'](0x2,'0');}function shiftedTime(){const _0x5b44e0=_0x378322,_0x597340=new Date();let _0x22a4a2=_0x597340;if(settings[_0x5b44e0(0x1d3)]&&settings[_0x5b44e0(0x1d3)]!==0x0)_0x22a4a2=fns[_0x5b44e0(0x207)](_0x597340,{'hours':settings[_0x5b44e0(0x1d3)]});return _0x22a4a2;}function startScheduler(){const _0x562168=_0x378322,_0x453f1d=new Date()[_0x562168(0x144)](),_0x5c9f18=shiftedTime()[_0x562168(0x1c9)]();_0x5c9f18==0x4&&backupConfigFiles();_0x5c9f18==0x0&&rotateLogFiles();_0x453f1d%0x6==0x0&&triggerAnalytics();_0x453f1d%0x6==0x0&&getMessages();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}async function restoreBackupFile(_0x3e9028){const _0x119d0f=_0x378322;logger[_0x119d0f(0xe3)]('Restore\x20backup\x20file\x20'+_0x3e9028);const _0x3e7fe3=getBotsWithMode();_0x3e7fe3[_0x119d0f(0x131)]>0x0?confirmRestore(configbackuppath,_0x3e9028):unzipFile(configbackuppath,_0x3e9028);}async function getBackupFiles(_0xe1222=null){const _0x1a0d38=_0x378322;let _0xd163e2=[],_0x49bd54=fs[_0x1a0d38(0xf5)](configbackuppath,{'withFileTypes':!![]});_0x49bd54[_0x1a0d38(0x147)]((_0x28fd00,_0x549332)=>_0x28fd00[_0x1a0d38(0xae)]<_0x549332['name']?0x1:_0x549332[_0x1a0d38(0xae)]<_0x28fd00[_0x1a0d38(0xae)]?-0x1:0x0),_0x49bd54[_0x1a0d38(0x24b)](_0x2e65d7=>{const _0x4d3150=_0x1a0d38;if(!_0x2e65d7[_0x4d3150(0xb9)]()&&_0x2e65d7[_0x4d3150(0xae)]['startsWith'](_0x4d3150(0xd3))&&_0x2e65d7['name'][_0x4d3150(0xf8)](_0x4d3150(0xb5))){const _0x5e8ac0=formatDate(fs[_0x4d3150(0x111)](configbackuppath+_0x2e65d7[_0x4d3150(0xae)])['mtime']);_0xd163e2[_0x4d3150(0x128)]({'name':_0x2e65d7[_0x4d3150(0xae)],'mtime':_0x5e8ac0});}});if(_0xe1222)io['to'](_0xe1222)[_0x1a0d38(0x248)](_0x1a0d38(0x9c),_0xd163e2);else return _0xd163e2;}async function backupConfigFiles(){const _0x49a3bb=_0x378322;await zipFiles('backup-full');const _0x1efdc7=getCleanTimeStamp();fs[_0x49a3bb(0x187)](zippath+_0x49a3bb(0x13d),configbackuppath+(_0x49a3bb(0xd3)+_0x1efdc7+'.zip'));let _0x49eed8=fs[_0x49a3bb(0xf5)](configbackuppath,{'withFileTypes':!![]});_0x49eed8['sort']((_0x2b1dc2,_0x3c903d)=>_0x2b1dc2[_0x49a3bb(0xae)]<_0x3c903d['name']?0x1:_0x3c903d[_0x49a3bb(0xae)]<_0x2b1dc2[_0x49a3bb(0xae)]?-0x1:0x0),_0x49eed8[_0x49a3bb(0x131)]>maxBackups&&fs[_0x49a3bb(0x8b)](configbackuppath+_0x49eed8[_0x49eed8['length']-0x1][_0x49a3bb(0xae)]);}function rotateLogFiles(){const _0x47acaa=_0x378322,_0x2a2df2=fs[_0x47acaa(0x111)](logspath+'output-000.log'),_0x34cab5=_0x2a2df2['size']/0x400;if(_0x34cab5>0x64){let _0xe102f6=fs[_0x47acaa(0xf5)](logspath,{'withFileTypes':!![]});_0xe102f6['sort']((_0x48c408,_0x11d8dc)=>_0x48c408[_0x47acaa(0xae)]<_0x11d8dc['name']?0x1:_0x11d8dc['name']<_0x48c408['name']?-0x1:0x0),_0xe102f6[_0x47acaa(0x24b)](_0x2f2e33=>{const _0x376491=_0x47acaa;if(_0x2f2e33[_0x376491(0xae)]==_0x376491(0x9a))fs[_0x376491(0x187)](logspath+_0x2f2e33[_0x376491(0xae)],logspath+_0x376491(0x231));if(_0x2f2e33[_0x376491(0xae)]==_0x376491(0x133))fs[_0x376491(0x187)](logspath+_0x2f2e33[_0x376491(0xae)],logspath+_0x376491(0x9a));_0x2f2e33[_0x376491(0xae)]==_0x376491(0x1b9)&&(fs['copyFileSync'](logspath+_0x2f2e33[_0x376491(0xae)],logspath+_0x376491(0x133)),fs[_0x376491(0xd0)](logspath+_0x2f2e33['name'],''));});}}async function zipFiles(_0x118914){const _0x848d03=_0x378322;let _0x37cc59;if(_0x118914==_0x848d03(0x1d1))_0x37cc59=logspath;if(_0x118914==_0x848d03(0xd1))_0x37cc59=configpath;if(_0x118914==_0x848d03(0x24d))_0x37cc59=configpath;let _0x2707eb=fs['readdirSync'](_0x37cc59,{'withFileTypes':!![]});const _0x555fa1=new require(_0x848d03(0x16c))();_0x2707eb[_0x848d03(0x24b)](_0x16f696=>{const _0x2f0ee5=_0x848d03;if(!_0x16f696[_0x2f0ee5(0xb9)]()){let _0x47eaec=fs[_0x2f0ee5(0x71)](_0x37cc59+_0x16f696['name']);if(_0x118914==_0x2f0ee5(0xd1)){const _0xcb3fe2=/^bot-[0-9]{3}-config.json$/,_0x31a14c=_0xcb3fe2[_0x2f0ee5(0xee)](_0x16f696[_0x2f0ee5(0xae)]);if(_0x31a14c){const _0x509528=JSON['parse'](_0x47eaec);if(_0x509528[_0x2f0ee5(0x214)][0x0]){_0x509528['bot'][0x0][_0x2f0ee5(0x197)]=_0x2f0ee5(0x173),_0x509528[_0x2f0ee5(0x214)][0x0][_0x2f0ee5(0x18a)]='***';if(_0x509528[_0x2f0ee5(0x214)][0x0][_0x2f0ee5(0x1ed)])_0x509528['bot'][0x0]['apiPassword']=_0x2f0ee5(0x173);}_0x47eaec=JSON[_0x2f0ee5(0xfb)](_0x509528,null,0x2);}if(_0x16f696[_0x2f0ee5(0xae)]==_0x2f0ee5(0x168)){const _0x331234=JSON[_0x2f0ee5(0x1c7)](_0x47eaec);if(_0x331234[_0x2f0ee5(0x19b)][_0x2f0ee5(0x1d5)])_0x331234['settings']['loginRequired']=![];if(_0x331234[_0x2f0ee5(0x19b)][_0x2f0ee5(0x16b)])_0x331234[_0x2f0ee5(0x19b)]['bbPassword']=_0x2f0ee5(0x173);if(_0x331234[_0x2f0ee5(0x19b)]['telegramToken'])_0x331234['settings']['telegramToken']=_0x2f0ee5(0x173);if(_0x331234[_0x2f0ee5(0x19b)][_0x2f0ee5(0xc2)])_0x331234[_0x2f0ee5(0x19b)][_0x2f0ee5(0xc2)]=null;_0x47eaec=JSON[_0x2f0ee5(0xfb)](_0x331234,null,0x2);}if(_0x16f696[_0x2f0ee5(0xae)]!='bb-secure.json')_0x555fa1['file'](_0x16f696[_0x2f0ee5(0xae)],_0x47eaec);}else _0x555fa1[_0x2f0ee5(0x1b2)](_0x16f696['name'],_0x47eaec);}});const _0x33ed48=_0x555fa1[_0x848d03(0xb1)]({'base64':![],'compression':_0x848d03(0xce)});fs[_0x848d03(0xd0)](zippath+(_0x118914+_0x848d03(0xb5)),_0x33ed48,_0x848d03(0xbc));}async function unzipFile(_0x831fc0,_0x1cac72){const _0x1e423e=_0x378322;fs[_0x1e423e(0xf5)](configpath,{'withFileTypes':!![]})[_0x1e423e(0x24b)](_0x4bf488=>{const _0x1967e6=_0x1e423e;if(!_0x4bf488['isDirectory']())fs[_0x1967e6(0x94)](configpath+_0x4bf488[_0x1967e6(0xae)]);});const _0x30743d=fs[_0x1e423e(0x71)](_0x831fc0+_0x1cac72,_0x1e423e(0xbc)),_0x583bc4=new require(_0x1e423e(0x16c))(_0x30743d,{'base64':![],'checkCRC32':!![]});Object[_0x1e423e(0x1e1)](_0x583bc4[_0x1e423e(0x1ab)])[_0x1e423e(0x24b)](_0x3c1907=>{const _0x2c3cbe=_0x1e423e,_0x545c8c=_0x583bc4[_0x2c3cbe(0x1ab)][_0x3c1907];fs[_0x2c3cbe(0xd0)](configpath+_0x545c8c['name'],_0x545c8c[_0x2c3cbe(0xd8)]);}),fs[_0x1e423e(0xf5)](temppath,{'withFileTypes':!![]})[_0x1e423e(0x24b)](_0x56f12d=>{const _0x32f022=_0x1e423e;if(!_0x56f12d[_0x32f022(0xb9)]())fs['rmSync'](temppath+_0x56f12d[_0x32f022(0xae)]);}),logger[_0x1e423e(0xe3)]('Backup\x20file\x20unzipped\x20and\x20stored'),process[_0x1e423e(0x238)]({'restore':!![]},_0x59ca99=>{});}async function getPublicIp(){const _0x4263ac=_0x378322;try{const _0x523dc2=await axios[_0x4263ac(0xfa)](_0x4263ac(0xc4));publicip=_0x523dc2['data']['ip'];}catch(_0x266626){}}async function triggerAnalytics(){const _0x57a27=_0x378322;if(!publicip)await getPublicIp();const _0x2f87e8=getBotsWithMode();let _0x45834e=0x0;_0x2f87e8[_0x57a27(0x24b)](_0x53a877=>{const _0x39edd4=_0x57a27;if(_0x53a877['status']===_0x39edd4(0x106))_0x45834e++;});const _0x41920e=getBotExchanges();mixpanel['track']('Server',{'distinct_id':settings[_0x57a27(0xc0)],'ip':publicip,'version':serverversion,'numbots':_0x2f87e8[_0x57a27(0x131)],'numbotsenabled':_0x45834e,'exchanges':_0x41920e});}async function getMessages(){const _0x269c55=_0x378322,_0x486621=_0x269c55(0x117),_0x523e18=new GraphQLClient(_0x486621),_0x4bd4c5={'authorization':_0x269c55(0x93)},_0x3f053b=serverversion[_0x269c55(0xc7)]('.'),_0x4f0bac=_0x3f053b[0x0]+'.'+_0x3f053b[0x1],_0x36cb35=Math[_0x269c55(0x1e2)](settings['lastmsgtelegram'],settings[_0x269c55(0x127)]),_0x301ee0={'last':parseInt(_0x36cb35),'bbm':_0x4f0bac},_0x28553a=gql`
            query getMessages($bbm: String!, $last: Int!) {
                messages(where: {
                    number_gt: $last
                    OR: [
                    {bbvReceive: "any"},
                    {bbvReceive_contains: $bbm}
                    ]
                    archived_not: true
                }, orderBy: number_ASC) {
                    id
                    number
                    bbvReceive
                    bbvNew
                    title
                    message
                    dialogWidth
                    lock
                }
            }
            `;let _0x5dd443;try{_0x5dd443=await _0x523e18[_0x269c55(0x229)](_0x28553a,_0x301ee0,_0x4bd4c5);}catch(_0x2a7f3a){}if(_0x5dd443&&_0x5dd443[_0x269c55(0x239)]){let _0x4eedec=settings[_0x269c55(0x233)];newMessages=[];for(const _0x4c3880 of _0x5dd443['messages']){newMessages[_0x269c55(0x128)](_0x4c3880);if(_0x4c3880[_0x269c55(0x14d)])updateSetting(_0x269c55(0x18c),_0x4c3880[_0x269c55(0x14d)]);let _0x530cf4=_0x4c3880['bbvNew']?serverversion>=_0x4c3880[_0x269c55(0x14d)]:![];if(!_0x530cf4&&_0x4c3880[_0x269c55(0x19c)]>_0x4eedec){if(_0x4c3880[_0x269c55(0x1ad)]===_0x269c55(0x143)||serverversion[_0x269c55(0x109)](_0x4c3880[_0x269c55(0x1ad)])){let _0x358769=''+_0x4c3880[_0x269c55(0x206)]+'\x0a\x0a'+_0x4c3880[_0x269c55(0xd6)];const _0x303637=await sendTelegramMsg(toTelegramMarkdown(_0x358769),_0x269c55(0xe2));if(_0x303637)_0x4eedec=_0x4c3880[_0x269c55(0x19c)];}}}updateAvailable=isNewerVersion(settings[_0x269c55(0x18c)],serverversion),updateSetting(_0x269c55(0x233),_0x4eedec),emitMessages();}}function emitMessages(){const _0x1c329c=_0x378322,_0x202c67=settings[_0x1c329c(0x127)];let _0x14185c=[];newMessages[_0x1c329c(0x24b)](_0x8664ee=>{const _0x37866f=_0x1c329c;_0x8664ee[_0x37866f(0x19c)]>_0x202c67&&_0x14185c['push'](_0x8664ee);}),_0x14185c[_0x1c329c(0x131)]>0x0&&getAllClients()[_0x1c329c(0x24b)](_0x3ce6d9=>{const _0x445178=_0x1c329c;getSocket(_0x3ce6d9['id'])[_0x445178(0x248)]('message',_0x14185c);});}function confirmMessage(_0x5172d1){const _0x40fba8=_0x378322;updateSetting(_0x40fba8(0x127),Number(_0x5172d1));}function isNewerVersion(_0x5881a2,_0x1cbebc){const _0xafb52f=_0x378322,_0x43b634=_0x1cbebc[_0xafb52f(0xc7)]('.'),_0x34c23f=_0x5881a2['split']('.');for(var _0x219d1c=0x0;_0x219d1c<_0x34c23f[_0xafb52f(0x131)];_0x219d1c++){const _0xa43ec9=~~_0x34c23f[_0x219d1c],_0x526627=~~_0x43b634[_0x219d1c];if(_0xa43ec9>_0x526627)return!![];if(_0xa43ec9<_0x526627)return![];}return![];}function toTelegramMarkdown(_0x28fbe7){const _0x1c78a8=_0x378322,_0x422bbb=/(^|[^\*])\*{1}([^\*.]+?)\*{1}([^\*]|$)/gim,_0x1fd254=/\*{2}(.+?)\*{2}/gim;return _0x28fbe7=_0x28fbe7[_0x1c78a8(0x11c)](_0x422bbb,_0x1c78a8(0x15c))[_0x1c78a8(0x11c)](_0x1fd254,_0x1c78a8(0x7a)),_0x28fbe7;}async function validateConfigFile(){const _0x419298=_0x378322,_0x68b749=dbConfig[_0x419298(0xfa)]('bots')[_0x419298(0x11d)](_0x419298(0xcf))[_0x419298(0x1c1)]()||[];if(_0x68b749[_0x419298(0x131)]==0x0){let _0x2b85d3=0x0,_0x458496=[];const _0x419bbd=/^bot-([0-9]{3})-config.json$/,_0x19d268=fs['readdirSync'](configpath);_0x19d268[_0x419298(0x24b)](_0x3d037c=>{const _0x44cf0d=_0x419298,_0x6cb8c2=_0x419bbd[_0x44cf0d(0x156)](_0x3d037c);if(_0x6cb8c2){const _0x1fd927=_0x6cb8c2[0x1];let _0x113ca4=getBotAttributes(_0x1fd927);_0x458496[_0x44cf0d(0x128)]({'botID':_0x1fd927,'botname':_0x113ca4['botname'],'status':_0x44cf0d(0xf3),'live':'stopped'}),_0x2b85d3++;}}),_0x2b85d3!=0x0&&(dbConfig[_0x419298(0xfa)](_0x419298(0x145))[_0x419298(0x1c8)](_0x458496)[_0x419298(0xab)](),config=_0x458496,restoredConfigFile=_0x2b85d3);}}async function restoreConfigNotify(_0x4c1beb){const _0x52186c=_0x378322;let _0x3464a3;if(restoredConfigFile==0x1)_0x3464a3='NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bot\x20is\x20disabled\x20by\x20default\x20-\x20enable\x20if\x20you\x20want\x20it\x20to\x20run';else _0x3464a3=_0x52186c(0x218);if(_0x4c1beb)io['to'](_0x52186c(0x234))[_0x52186c(0x248)]('notification',_0x3464a3);else{logger[_0x52186c(0x1dc)](_0x52186c(0x183)),logger[_0x52186c(0x1dc)](_0x3464a3),logger[_0x52186c(0x1dc)](_0x52186c(0x183)),logger[_0x52186c(0x1dc)]('');if(tgBot&&settings[_0x52186c(0xc2)]&&settings['telegramEvents']!=_0x52186c(0x103))tgBot[_0x52186c(0x1b6)](settings[_0x52186c(0xc2)],'Bot\x20Mgr\x20>\x20'+_0x3464a3)[_0x52186c(0x17e)](_0x19b986=>{telegramError(_0x19b986);});}}function validateCredentials(_0x57ed0c,_0x314d93){const _0x245493=_0x378322;if(_0x57ed0c[_0x245493(0x1ec)]==settings[_0x245493(0x1d7)]&&bcrypt[_0x245493(0x1c0)](_0x57ed0c[_0x245493(0x14b)],settings[_0x245493(0x16b)])){if(settings[_0x245493(0x1fe)])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x4b9e2e=generateLoginToken(_0x314d93);return{'allow':!![],'reason':_0x245493(0x22b),'token':_0x4b9e2e};}}else return{'allow':![],'reason':_0x245493(0x195),'token':null};}function refreshToken(_0xb6d199){const _0x3ea5e0=generateLoginToken(_0xb6d199);return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x3ea5e0};}function validateAccess(_0x368419,_0x6d2156,_0x1e13e8){const _0x375553=_0x378322,_0x559779=_0x1e13e8?_0x1e13e8:devices[_0x6d2156]['ip'];let _0x100d5c;const _0x2bc827=_0x501242=>{const _0x8403e5=_0x1aa6;if(settings[_0x8403e5(0x1d5)]){if(settings['f2aRequired']){if(telegram2FaApproved(_0x6d2156)){const _0x46aebe=generateLoginToken(_0x6d2156);return{'allow':!![],'reason':_0x8403e5(0xf2),'token':_0x46aebe};}else return{'allow':![],'reason':_0x8403e5(0xef),'token':null};}else return _0x100d5c=validToken(_0x501242,_0x6d2156),_0x100d5c[_0x8403e5(0x1c2)](_0x8403e5(0x84))?{'allow':!![],'reason':_0x8403e5(0xaa),'token':_0x501242}:{'allow':![],'reason':_0x8403e5(0xef),'token':null};}else return{'allow':!![],'reason':_0x8403e5(0x123),'token':null};};if(settings[_0x375553(0x119)]){let _0x41d558=[...settings[_0x375553(0x20e)],'::1','::ffff:127.0.0.1','127.0.0.1'];if(_0x41d558['includes'](_0x559779))return _0x2bc827(_0x368419);else{_0x100d5c=validToken(_0x368419,_0x6d2156);if(_0x100d5c['hasOwnProperty'](_0x375553(0x84)))return _0x2bc827(_0x368419);else{if(telegramIpApproved(_0x6d2156)){const _0x70aa5d=generateToken(_0x6d2156);return _0x100d5c=_0x2bc827(_0x368419),_0x100d5c['allow']?{'allow':!![],'reason':_0x375553(0x1d6),'token':_0x70aa5d}:_0x100d5c;}else return settings[_0x375553(0x17a)]?{'allow':![],'reason':_0x375553(0x22c),'token':null}:{'allow':![],'reason':'temporary\x20access\x20not\x20allowed','token':null};}}}else return _0x2bc827(_0x368419);}function timelyDecrypt(_0x5d48ea,_0x505d5d=!![]){const _0x3ada4f=_0x378322;if(_0x5d48ea)try{const _0x3b97d7=crypt[_0x3ada4f(0x22e)](secure[_0x3ada4f(0x21b)],_0x5d48ea)[_0x3ada4f(0xd6)],_0x28589b=_0x3b97d7[_0x3ada4f(0xc7)]('@')[0x0],_0x28681=_0x3b97d7[_0x3ada4f(0xc7)]('@')[0x1],_0xb73dd6=new Date()[_0x3ada4f(0xe1)]();if(_0x505d5d){if(_0xb73dd6-_0x28681<maxSecretAge*0x3e8)return _0x28589b;else return![];}else return _0x28589b;}catch(_0x2686b1){return![];}else return![];}const validToken=(_0x4cc85e,_0x5200a6)=>{const _0x55a564=_0x378322,_0xe7bc58=devices[_0x5200a6]['ip'];if(!_0x4cc85e)return{'error':_0x55a564(0xc9)};for(let _0x2cda4f of blacklist){if(_0x2cda4f[_0x55a564(0x76)]==_0x4cc85e)return{'error':'Token\x20blacklisted'};}let _0x30ea64;try{_0x30ea64=jwt[_0x55a564(0x200)](_0x4cc85e,secure[_0x55a564(0xb0)]+_0x5200a6);}catch{return{'error':_0x55a564(0x135)};}if(!_0x30ea64['hasOwnProperty'](_0x55a564(0x1b7))&&!_0x30ea64['hasOwnProperty'](_0x55a564(0x1ec))||!_0x30ea64[_0x55a564(0x1c2)](_0x55a564(0x1f8)))return{'error':_0x55a564(0x8d)};if(!_0x30ea64[_0x55a564(0x1c2)](_0x55a564(0x1ec))&&_0x30ea64['hasOwnProperty'](_0x55a564(0x1b7))){const {clientip:_0x128c2e}=_0x30ea64;return _0xe7bc58==_0x128c2e?{'success':_0x55a564(0x208)}:{'error':'Invalid\x20IP\x20address'};}else{if(_0x30ea64[_0x55a564(0x1c2)]('username')&&_0x30ea64[_0x55a564(0x1c2)](_0x55a564(0x1b7))){const {username:_0x14b5d5,clientip:_0x507890}=_0x30ea64;return settings['bbUsername']==_0x14b5d5&&_0xe7bc58==_0x507890?{'success':_0x55a564(0x208)}:{'error':_0x55a564(0x1d8)};}}},generateLoginToken=_0x40a3e3=>{const _0x2b0177=_0x378322;if(_0x40a3e3){const _0x850419=devices[_0x40a3e3]['ip'];return jwt[_0x2b0177(0x90)]({'username':settings[_0x2b0177(0x1d7)],'clientip':_0x850419},secure[_0x2b0177(0xb0)]+_0x40a3e3,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x58ebb0=>{const _0x172963=_0x378322;if(_0x58ebb0){const _0x6f8d2d=devices[_0x58ebb0]['ip'];return jwt['sign']({'clientip':_0x6f8d2d},secure['secret']+_0x58ebb0,{'expiresIn':devices[_0x58ebb0][_0x172963(0x1eb)][_0x172963(0x16d)]*0x3c});}else return![];},telegramIpApproved=_0x173381=>{const _0x491ae6=_0x378322;let _0x361e18=![];return devices[_0x173381][_0x491ae6(0x1eb)]&&devices[_0x173381][_0x491ae6(0x1eb)][_0x491ae6(0x16d)]!='reject'&&(_0x361e18=devices[_0x173381]['telegramIpApproval'][_0x491ae6(0x1b7)]==devices[_0x173381]['ip']&&new Date()[_0x491ae6(0xe1)]()-devices[_0x173381]['telegramIpApproval'][_0x491ae6(0x141)]<devices[_0x173381][_0x491ae6(0x1eb)][_0x491ae6(0x16d)]*0x3c*0x3e8),_0x361e18;},telegram2FaApproved=_0x3b400d=>{const _0x531499=_0x378322;let _0x2eabd7=![];return devices[_0x3b400d][_0x531499(0x16a)]&&devices[_0x3b400d][_0x531499(0x16a)][_0x531499(0x16d)]!=_0x531499(0x19e)&&(_0x2eabd7=devices[_0x3b400d][_0x531499(0x16a)]['clientip']==devices[_0x3b400d]['ip']&&new Date()['getTime']()-devices[_0x3b400d][_0x531499(0x16a)][_0x531499(0x141)]<devices[_0x3b400d][_0x531499(0x16a)][_0x531499(0x16d)]*0x3c*0x3e8),_0x2eabd7;},normalizeIP=_0x5927c0=>{const _0x1a3642=_0x378322;let _0x352e00=null,_0xf12c55=null;if(ipaddr['isValid'](_0x5927c0)){const _0x565130=ipaddr[_0x1a3642(0x1c7)](_0x5927c0);_0x565130[_0x1a3642(0xd5)]()==='ipv6'?(_0x565130['isIPv4MappedAddress']()&&(_0x352e00=_0x565130[_0x1a3642(0x112)]()['toString']()),_0xf12c55=_0x565130['toString']()):(_0x352e00=_0x565130[_0x1a3642(0xf1)](),_0xf12c55=_0x565130['toIPv4MappedAddress']()[_0x1a3642(0xf1)]());}return{'show':_0x352e00?_0x352e00:_0xf12c55,'store':_0xf12c55};};function formatDate(_0x36a707){const _0x30d97b=_0x378322;return _0x36a707[_0x30d97b(0x1f9)]()+'/'+(_0x36a707[_0x30d97b(0x12e)]()+0x1)['toString']()[_0x30d97b(0x107)](0x2,'0')+'/'+_0x36a707[_0x30d97b(0x1cc)]()[_0x30d97b(0xf1)]()[_0x30d97b(0x107)](0x2,'0')+'\x20'+_0x36a707[_0x30d97b(0x1c9)]()[_0x30d97b(0xf1)]()['padStart'](0x2,'0')+':'+_0x36a707[_0x30d97b(0x1f5)]()[_0x30d97b(0xf1)]()[_0x30d97b(0x107)](0x2,'0')+':'+_0x36a707[_0x30d97b(0x1e4)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x4cdac1){return new Promise(_0x5073bf=>setTimeout(_0x5073bf,_0x4cdac1));}function _0x5d39(){const _0x478c77=['hashSync','login\x20token\x20valid','write','Unauthorized\x20attempt\x20to\x20delete\x20bot','HTML','name','env','secret','generate','update-bot','/:bot/history','args','.zip','Crypt','data','pidExpireLogin','isDirectory','get-starting-balances','live','binary','Unauthorized\x20attempt\x20to\x20confirm\x20message','#RES#\x0a','headers','userid','then','telegramChatId','Unauthorized\x20attempt\x20to\x20reinstall\x20Balance\x20Bot','https://api.ipify.org?format=json','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','Starting\x20Balance\x20Bot\x20update','split','argv','No\x20authentication\x20token','telegrammsg','auto','error','onepagemode','DEFLATE','botID','writeFileSync','backup','socket.io','backup-full@','</b>\x20?','kind','message','/upload-backup','_data','format','404\x20Not\x20Found','Network\x20Interfaces:','\x20|\x20user:\x20...','showname','Unauthorized\x20attempt\x20to\x20restore\x20backup\x20file','fork','-config.json','getTime','Markdown','debug','telegram','Ok,\x20will\x20send\x20alert\x20notifications\x20only','Unauthorized\x20attempt\x20to\x20show\x20configuration','clients','cancel-loading','express-fileupload','SIGTERM','botname','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','Login\x20accepted','test','login\x20required','conn','toString','2FA\x20login\x20token\x20generated','disabled','[ip-address]','readdirSync','secure','user','endsWith','Your\x20installation\x20does\x20not\x20support\x20reinstalling\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20reinstallation','get','stringify','store-settings','publicKey','type','static','Unknown\x20client\x20attempting\x20to\x20retrieve\x20list\x20of\x20backup\x20files','logs/','event','orders','init','/off\x20-\x20stop\x20bot(s)\x0a','enabled','padStart','Unauthorized\x20attempt\x20to\x20update\x20settings','startsWith','332485zQTfNU','port','/:bot/support','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(2)','set','Unauthorized\x20login\x20attempt\x20(timeout)','/output-000.log','statSync','toIPv4Address','Unauthorized\x20attempt\x20to\x20store\x20configuration','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','\x1b[31m','No\x20bots\x20running\x20right\x20now','https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master','existsSync','whitelistEnabled','All','IPv4','replace','sortBy','kill','Restore\x20process\x20aborted','/portfolio\x20-\x20show\x20bot\x20portfolio\x0a','all','RSA','login\x20not\x20required','listen','get-logs','/enable\x20-\x20enable\x20notifications\x0a','lastmsgemitted','push','NTBA_FIX_319','child_process','\x20|\x20client:\x20...','Password\x20reset\x20rejected','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','getMonth','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','Unauthorized\x20attempt\x20to\x20add\x20bot','length','removeAllListeners','output-001.log','Setting\x20access:\x20','Invalid\x20authentication\x20token\x20(1)','api-eu.mixpanel.com','Allow\x20login\x20from\x20IP\x20address\x20<b>','place-order','8zLBzJu','toggle-bot-mode','search','/status\x20-\x20show\x20bot(s)\x20status\x0a','backup-full.zip','chat','includes','join','timestamp','RSA-OAEP','any','getUTCHours','bots','date-fns','sort','headless','slice','uuid-random','password','private','bbvNew','emitHistory','version.json','address','\x20mode','show','socket','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','update-bb','exec','Unauthorized\x20attempt\x20to\x20log\x20out','Starting\x20Balance\x20Bot\x20reinstallation','referer','Invalid\x20Telegram\x20token','sendFile','$1_$2_$3','stop','max','build','/help\x20-\x20show\x20available\x20commands\x0a','full','reinstall','Unauthorized\x20attempt\x20to\x20delete\x20alerts','326436nxpEBZ','telegramEnabled','alerts','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','bb-settings.json','Restarting\x20Bot\x20','telegram2FaApproval','bbPassword','node-zip','expiry','showConfig','axios','download','Unauthorized\x20attempt\x20to\x20reset\x20bot\x20history','store-fiat','***','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','delete-bot','/:bot/portfolio','restart','createServer','auth','temporaryAccessAllowed','Session\x20expired\x20for\x20user\x20...','2FA\x20login\x20rejected','disconnect','catch','************','encryptedUuid','Backup\x20file\x20uploaded','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','-----------------------------------------------------------------------------------','entries','notification','cancelLoading','copyFileSync','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','Notifications\x20enabled\x0a','apiSecret','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','latestversion','bot-','Logged\x20out\x20user\x20...','http','temp/','/on\x20-\x20start\x20bot(s)\x0a','getPortfolio','randomFillSync','match','invalid\x20credentials','All\x20bots','apiKey','Access\x20enabled\x20for\x20','store-headless','use','settings','number','Error:\x20Invalid\x20argument\x20','reject','delete-alerts','\x20>\x20','family','Login\x20rejected','stopped','Alerts','stopPolling',':\x20Bot\x20Mgr\x20>\x20[DEBUG]\x20','function','telegramEvents','Notifications\x20disabled\x0a','/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a','files','log','bbvReceive','temporary\x20access\x20rejected','6VieRNq','Bot\x20','/disable\x20-\x20disable\x20notifications\x0a','file','-events.json','-performance.json','apply','sendMessage','clientip','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','output-000.log','All\x20bots\x20running\x20right\x20now','/:bot/configuration','warning','index.html','Orders','603wBkYIb','compareSync','value','hasOwnProperty','params','Failed\x20to\x20download\x20','\x20only\x0a','Notifications\x20types:\x20','parse','assign','getHours','reset-history','host','getDate','new','blacklist','Unauthorized\x20attempt\x20to\x20store\x20fiat\x20configuration','reload','logs','status','timeshift','graphql-request','loginRequired','temporary\x20token\x20generated','bbUsername','Invalid\x20username\x20or\x20IP\x20address','sendMetricsTelegram',':\x20Bot\x20Mgr\x20>\x20','callback_query','simple','\x20minutes','<b>Telegram\x20Bot\x20Status:</b>\x0a','logged\x20out','Error\x20removing\x20old\x20backup\x20files:','keys','min','allow','getSeconds','Starting\x20#RED#Balance\x20Bot\x20v','onText','Unauthorized\x20attempt\x20to\x20get\x20messages','connection','new-disabled','\x20(2)','telegramIpApproval','username','apiPassword','272320XJSWCa','createWriteStream','mode','show-config','build2','/metrics\x20-\x20show\x20bot\x20performance\x0a','-results.json','getMinutes','74790WVjDfm','File\x20uploaded','exp','getFullYear','manual','bot.js','once','express','f2aRequired','logout','verify','placeOrder','Starting\x20Balance\x20Bot\x20','running','Notifications\x20disabled','mixpanel','title','add','User\x20has\x20been\x20validated','15\x20min','pidRefreshToken','Ok,\x20will\x20send\x20order\x20notifications\x20only','inherit','Error\x20while\x20deleting\x20config\x20files:\x20','whitelist','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','versions','reason','Unauthorized\x20attempt\x20to\x20download\x20','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','bot','\x20|\x20','/:bot/performance','get-portfolio','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bots\x20are\x20disabled\x20by\x20default\x20-\x20enable\x20those\x20you\x20want\x20to\x20run','restore-backup-file','Ok,\x20consider\x20updating\x20Balance\x20Bot\x20later','privateKey','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','bcryptjs','Enabled\x20Bot\x20','answerCallbackQuery','update','Are\x20you\x20sure\x20you\x20want\x20to\x20update\x20Balance\x20Bot\x20now?','#RES#\x20if\x20running\x20locally\x0a','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','access','Bot\x20Mgr\x20>\x20toggling\x20Bot\x20','10DuBryi','access\x20timeout','bb-secure.json','request','backup/','login\x20token\x20generated','2FA\x20required','add-bot','decrypt','The\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','1403940JCvYZL','output-003.log','68596DaGkId','lastmsgtelegram','botmanager','node-telegram-bot-api','2FA\x20login\x20required','removeListener','send','messages','Unauthorized\x20attempt\x20to\x20retrieve\x20list\x20of\x20backup\x20files','post','0.0.0','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','lowdb','2FA','string','=>\x20Go\x20to\x20#CYA#http://','Unauthorized\x20attempt\x20to\x20get\x20events','getStartingBalances','Are\x20you\x20sure\x20you\x20want\x20to\x20reinstall\x20Balance\x20Bot\x20now?','yes','initclient','Logged\x20in\x20user\x20...','emit','config/','Password\x20has\x20been\x20reset\x20to:\x20','forEach','/:bot','backup-full','ipaddr.js','\x1b[35m','sockets','5\x20min','login','Ok,\x20reinstalling\x20Balance\x20Bot\x20canceled','Starting\x20new\x20bot\x20|\x20Bot\x20','1735867RvJQCF','deleteHistoryAlerts','readFileSync','settings.','=>\x20Go\x20to\x20#CYA#http://127.0.0.1:','map','<b>Balance\x20Bot\x20Status:</b>\x0a','token','Temporary\x20access\x20rejected','exit','constructor','*$1*','store-configuration','find','Unauthorized\x20attempt\x20to\x20update\x20bot','telegramToken','\x1b[0m','defaults','sendPortfolioTelegram','ipc','order','success','confirm-message','tkn','30\x20min','version','internal','from','unlinkSync','Yes','Invalid\x20authentication\x20token\x20(2)','accept','temporary\x20access\x20timeout','sign','toggleBotMode','uuid','Bearer\x20eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U','rmSync','remove','store','cloneDeep','started','get-messages','output-002.log','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','backup-files','hybrid-crypto-js','Notifications\x20enabled','bb-config.json',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','/update\x20-\x20update\x20Balance\x20Bot\x0a','/reinstall\x20-\x20reinstall\x20Balance\x20Bot\x0a','mkdirSync','(((.+)+)+)+$','remoteAddress','filter','zip/','telegramUsername'];_0x5d39=function(){return _0x478c77;};return _0x5d39();}