const _0x4b1b45=_0x370d;(function(_0x548383,_0x5be634){const _0x63f376=_0x370d,_0x33f0a7=_0x548383();while(!![]){try{const _0x4b309b=parseInt(_0x63f376(0x347))/0x1+parseInt(_0x63f376(0x2cd))/0x2+-parseInt(_0x63f376(0x1f1))/0x3+parseInt(_0x63f376(0x2b6))/0x4*(-parseInt(_0x63f376(0x2d2))/0x5)+-parseInt(_0x63f376(0x2f0))/0x6*(-parseInt(_0x63f376(0x34e))/0x7)+-parseInt(_0x63f376(0x2aa))/0x8*(parseInt(_0x63f376(0x28c))/0x9)+-parseInt(_0x63f376(0x1ca))/0xa;if(_0x4b309b===_0x5be634)break;else _0x33f0a7['push'](_0x33f0a7['shift']());}catch(_0x43f87d){_0x33f0a7['push'](_0x33f0a7['shift']());}}}(_0x1a24,0xa3c01));const _0x5c3840=function(){let _0x37d6b6=!![];return function(_0x1bbd8b,_0x13ce37){const _0x3919e1=_0x37d6b6?function(){const _0x4a4df7=_0x370d;if(_0x13ce37){const _0x13bb87=_0x13ce37[_0x4a4df7(0x34b)](_0x1bbd8b,arguments);return _0x13ce37=null,_0x13bb87;}}:function(){};return _0x37d6b6=![],_0x3919e1;};}(),_0x15f371=_0x5c3840(this,function(){const _0x2f5bc8=_0x370d;return _0x15f371['toString']()[_0x2f5bc8(0x2ad)](_0x2f5bc8(0x2b0))[_0x2f5bc8(0x368)]()[_0x2f5bc8(0x359)](_0x15f371)[_0x2f5bc8(0x2ad)](_0x2f5bc8(0x2b0));});_0x15f371();'use strict';process[_0x4b1b45(0x1f7)][_0x4b1b45(0x32b)]=0x1;const childProcess=require(_0x4b1b45(0x288)),fs=require('fs'),fns=require(_0x4b1b45(0x2c4)),low=require('lowdb'),FileSync=require(_0x4b1b45(0x1e3)),path=require(_0x4b1b45(0x27d)),crypto=require('crypto'),Crypt=require(_0x4b1b45(0x1f4))['Crypt'],RSA=require(_0x4b1b45(0x1f4))['RSA'],bcrypt=require(_0x4b1b45(0x35c)),jwt=require(_0x4b1b45(0x30a)),ipaddr=require(_0x4b1b45(0x261)),argv=require(_0x4b1b45(0x26d))(process[_0x4b1b45(0x1e6)][_0x4b1b45(0x232)](0x2))[_0x4b1b45(0x1e6)],uuidRandom=require(_0x4b1b45(0x23e)),TelegramBot=require(_0x4b1b45(0x304)),Mixpanel=require(_0x4b1b45(0x226)),axios=require(_0x4b1b45(0x249)),{GraphQLClient,gql}=require('graphql-request'),util=require(_0x4b1b45(0x253)),fileUpload=require(_0x4b1b45(0x2be)),PORT=argv[_0x4b1b45(0x1df)]||_0x4b1b45(0x211),pattern=/^[0-9]{2,4}$/;!pattern['test'](PORT)&&(console['log'](_0x4b1b45(0x26b)+PORT+_0x4b1b45(0x1c9)),process['exit'](0x1));const HOST=argv[_0x4b1b45(0x2fe)]||null,userID=argv[_0x4b1b45(0x284)]||'',debugging=argv['d']||![];let bbpath=_0x4b1b45(0x294),bbpath2='';const botfile=_0x4b1b45(0x206),configfile=_0x4b1b45(0x2c0),settingsfile=_0x4b1b45(0x322),securefile=_0x4b1b45(0x28a);let validInstallation=!![];!fs[_0x4b1b45(0x338)](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x4b1b45(0x2e4)),configpath=userID?bbpath+'config/'+userID+'/':bbpath+'config/',configbackuppath=configpath+_0x4b1b45(0x2ef),logspath=userID?bbpath+_0x4b1b45(0x2b3)+userID+'/':bbpath+_0x4b1b45(0x2b3),zippath=userID?bbpath+_0x4b1b45(0x274)+userID+'/':bbpath+'zip/',loggerfile=fs[_0x4b1b45(0x355)](logspath+_0x4b1b45(0x2d5),{'flags':'a'}),temppath=userID?bbpath+_0x4b1b45(0x2cf)+userID+'/':bbpath+_0x4b1b45(0x2cf);!fs[_0x4b1b45(0x338)](configpath)&&fs[_0x4b1b45(0x2f9)](configpath);!fs[_0x4b1b45(0x338)](configbackuppath)&&fs[_0x4b1b45(0x2f9)](configbackuppath);!fs[_0x4b1b45(0x338)](logspath)&&fs['mkdirSync'](logspath);!fs['existsSync'](zippath)&&fs[_0x4b1b45(0x2f9)](zippath);!fs[_0x4b1b45(0x338)](temppath)&&fs[_0x4b1b45(0x2f9)](temppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig['defaults']({'bots':[]})['write']();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x4b1b45(0x295)]({'settings':{'timeshift':0x0,'loginRequired':![],'bbUsername':'','bbPassword':'','f2aRequired':![],'lastmsgtelegram':0x0,'lastmsgemitted':0x0,'latestversion':_0x4b1b45(0x375)}})[_0x4b1b45(0x21c)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x4b1b45(0x295)]({'secure':{},'blacklist':[]})[_0x4b1b45(0x21c)]();let crypt=new Crypt({'md':_0x4b1b45(0x1f5),'rsaStandard':_0x4b1b45(0x2bc)});const saltRounds=0xa,mixpanel=Mixpanel[_0x4b1b45(0x1db)]('6b67f3d61ee94b8f5c80b4affef4c4d9',{'host':'api-eu.mixpanel.com'});let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),tgBot;if(settings['telegramToken']&&settings[_0x4b1b45(0x280)]!=''&&settings['telegramUsername']&&settings[_0x4b1b45(0x208)]!='')initTelegram();const logger={'screen':_0xa6bc64=>{console['log'](_0xa6bc64);},'simple':_0x4cd8bc=>{const _0x1158a1=_0x4b1b45;console[_0x1158a1(0x216)](_0x4cd8bc),loggerfile[_0x1158a1(0x21c)](util['format'](_0x4cd8bc)+'\x0a');},'full':async _0x545f22=>{const _0x67b8a6=_0x4b1b45,_0x4c3557=getTimeStamp()+_0x67b8a6(0x357)+_0x545f22;console['log'](_0x4c3557),loggerfile['write'](util[_0x67b8a6(0x287)](_0x4c3557)+'\x0a');if(tgBot&&settings[_0x67b8a6(0x2ff)]&&settings[_0x67b8a6(0x2cb)]!='orders')await tgBot[_0x67b8a6(0x1fa)](settings['telegramChatId'],_0x67b8a6(0x233)+_0x545f22)[_0x67b8a6(0x299)](_0x46c0c4=>{telegramError(_0x46c0c4);});},'debug':async(_0x3de9d0,_0xd40ea8='')=>{const _0x1df86a=_0x4b1b45,_0x5d6afa=getTimeStamp()+_0x1df86a(0x281)+_0x3de9d0;if(debugging)console[_0x1df86a(0x216)](_0x5d6afa);loggerfile[_0x1df86a(0x21c)](util[_0x1df86a(0x287)](_0x5d6afa)+'\x0a');if(_0xd40ea8){if(debugging)console[_0x1df86a(0x216)](_0xd40ea8);loggerfile[_0x1df86a(0x21c)](util[_0x1df86a(0x287)](_0xd40ea8)+'\x0a');}}};process['on']('uncaughtException',function(_0x3beac9){logger['simple'](_0x3beac9);});let restoredConfigFile=0x0,newBot=![],pid=[];const serverversion=require('./'+bbpath2+'version.json')[_0x4b1b45(0x23d)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![],publicip,newMessages=[],updateAvailable=![];const express=require(_0x4b1b45(0x2e7)),app=express(),http=require(_0x4b1b45(0x2bd))['createServer'](app);app[_0x4b1b45(0x277)](fileUpload({'useTempFiles':!![]})),app[_0x4b1b45(0x31d)](_0x4b1b45(0x31f),async(_0x317052,_0x52a537)=>{const _0x5bb3d7=_0x4b1b45,_0x5c88a5=_0x317052['params'][_0x5bb3d7(0x2bf)],_0xd56068=getClientsWithBotID(_0x5bb3d7(0x1ee)),_0x1b020d=_0x317052['headers'][_0x5bb3d7(0x2a5)],_0x24bae0=timelyDecrypt(_0x1b020d,![]),_0x5d13f3=_0xd56068[_0x5bb3d7(0x36d)](_0x309f68=>_0x309f68[_0x5bb3d7(0x2a5)]==_0x24bae0);if(_0x5d13f3){const _0x1cc3f3=normalizeIP(_0x317052[_0x5bb3d7(0x2ca)][_0x5bb3d7(0x354)])[_0x5bb3d7(0x300)],_0x102e1e=_0x317052[_0x5bb3d7(0x2c9)][_0x5bb3d7(0x326)];if(validateAccess(_0x102e1e,_0x24bae0,_0x1cc3f3)[_0x5bb3d7(0x2fa)])_0x5c88a5==_0x5bb3d7(0x1b2)&&await backupConfigFiles(),await zipFiles(_0x5c88a5),_0x52a537[_0x5bb3d7(0x2b7)](zippath+(_0x5c88a5+'.zip'),_0x51bd3b=>{const _0x4bee45=_0x5bb3d7;_0x51bd3b&&(logger[_0x4bee45(0x23f)]('Failed\x20to\x20download\x20'+_0x5c88a5),logger[_0x4bee45(0x231)](_0x51bd3b));});else logger[_0x5bb3d7(0x23f)](_0x5bb3d7(0x1b4)+_0x5c88a5+_0x5bb3d7(0x272));}else logger[_0x5bb3d7(0x23f)](_0x5bb3d7(0x1b4)+_0x5c88a5+_0x5bb3d7(0x2a8));}),app[_0x4b1b45(0x219)](_0x4b1b45(0x230),async(_0x28be32,_0x5bbdef)=>{const _0x5abda5=_0x4b1b45,_0x4a7dec=getClientsWithBotID('botmanager'),_0x5a0969=_0x28be32[_0x5abda5(0x2c9)][_0x5abda5(0x2a5)],_0x4fefc1=timelyDecrypt(_0x5a0969,![]),_0x25a37e=_0x4a7dec[_0x5abda5(0x36d)](_0x48d0c1=>_0x48d0c1[_0x5abda5(0x2a5)]==_0x4fefc1);logger[_0x5abda5(0x24c)](_0x5abda5(0x269));if(_0x25a37e){const _0x4777cd=normalizeIP(_0x28be32[_0x5abda5(0x2ca)][_0x5abda5(0x354)])['store'],_0x43b536=_0x28be32['headers']['tkn'];if(validateAccess(_0x43b536,_0x4fefc1,_0x4777cd)[_0x5abda5(0x2fa)]){if(_0x28be32[_0x5abda5(0x2eb)]){const _0x56bc4b=_0x28be32['files'][_0x5abda5(0x361)];await _0x56bc4b['mv'](temppath+_0x56bc4b[_0x5abda5(0x275)]),_0x5bbdef[_0x5abda5(0x329)]({'status':!![],'message':_0x5abda5(0x1d7)});const _0x997252=getBotsWithMode();_0x997252[_0x5abda5(0x24a)]>0x0?confirmRestore(temppath,_0x56bc4b['name']):unzipFile(temppath,_0x56bc4b[_0x5abda5(0x275)]);}}else logger['full']('Unauthorized\x20attempt\x20to\x20upload\x20file\x20(1)');}else logger[_0x5abda5(0x23f)](_0x5abda5(0x2e9));}),app['use'](express[_0x4b1b45(0x1f3)](path[_0x4b1b45(0x1b3)](__dirname,bbpath2,_0x4b1b45(0x33f)))),app['use'](express[_0x4b1b45(0x1f3)](path[_0x4b1b45(0x1b3)](__dirname,bbpath2,_0x4b1b45(0x31c)))),app['get']('/',function(_0x538532,_0x387470){const _0x4e4a07=_0x4b1b45;_0x387470[_0x4e4a07(0x35f)](path['join'](__dirname,bbpath2,'build2',_0x4e4a07(0x373)));}),app[_0x4b1b45(0x31d)](_0x4b1b45(0x35a),function(_0x1d7a01,_0x31ecfb){const _0x44cbbc=_0x4b1b45;_0x31ecfb[_0x44cbbc(0x35f)](path[_0x44cbbc(0x1b3)](__dirname,bbpath2,_0x44cbbc(0x31c),'index.html'));}),app[_0x4b1b45(0x31d)](_0x4b1b45(0x1b7),(_0x4901f4,_0x10b7de)=>{const _0x2c7f7e=_0x4b1b45;_0x10b7de[_0x2c7f7e(0x35f)](path['join'](__dirname,bbpath2,_0x2c7f7e(0x31c),_0x2c7f7e(0x373)));}),app['get'](_0x4b1b45(0x218),(_0x4b8988,_0x475f09)=>{const _0x717f3a=_0x4b1b45;_0x475f09['sendFile'](path[_0x717f3a(0x1b3)](__dirname,bbpath2,_0x717f3a(0x31c),_0x717f3a(0x373)));}),app['get'](_0x4b1b45(0x2f6),(_0x1131c3,_0x3c4bc7)=>{const _0x543e8f=_0x4b1b45;_0x3c4bc7[_0x543e8f(0x35f)](path['join'](__dirname,bbpath2,_0x543e8f(0x31c),'index.html'));}),app[_0x4b1b45(0x31d)]('/:bot/history',(_0xf3fa1b,_0x15a1ea)=>{const _0x34a817=_0x4b1b45;_0x15a1ea[_0x34a817(0x35f)](path[_0x34a817(0x1b3)](__dirname,bbpath2,_0x34a817(0x31c),_0x34a817(0x373)));}),app[_0x4b1b45(0x31d)](_0x4b1b45(0x348),(_0x29b67a,_0x5b8e09)=>{const _0x546bb3=_0x4b1b45;_0x5b8e09[_0x546bb3(0x35f)](path[_0x546bb3(0x1b3)](__dirname,bbpath2,_0x546bb3(0x31c),_0x546bb3(0x373)));}),app[_0x4b1b45(0x31d)](_0x4b1b45(0x1ed),(_0x4d788f,_0x3bd8fb)=>{const _0x44e536=_0x4b1b45;_0x3bd8fb['sendFile'](path[_0x44e536(0x1b3)](__dirname,bbpath2,'build',_0x44e536(0x373)));});if(HOST)http[_0x4b1b45(0x335)](PORT,HOST);else http['listen'](PORT);const io=require(_0x4b1b45(0x2f5))(http,{});init();async function init(){await validateConfigFile(),await initUser(),await initSecure(),oneTimeMigration(),cleanBlacklist(),initStates(),await startServer();if(restoredConfigFile)restoreConfigNotify(![]);startSocket(),startScheduler(),triggerAnalytics(),getMessages(),reloadBotManager();}async function startServer(){const _0x1f724d=_0x4b1b45;logger['simple'](''),logger[_0x1f724d(0x231)](_0x1f724d(0x26e)),await logger[_0x1f724d(0x23f)](_0x1f724d(0x25a)+PORT),logger[_0x1f724d(0x231)]('-----------------------------------------------------------------------------------');if(config[_0x1f724d(0x24a)]!=0x0)for(const _0x5625f5 of config){if(_0x5625f5[_0x1f724d(0x1dc)]=='enabled'||_0x5625f5[_0x1f724d(0x1dc)]==_0x1f724d(0x2c3))await logger['full']('starting\x20bot\x20|\x20Bot\x20'+_0x5625f5[_0x1f724d(0x2a6)]+_0x1f724d(0x1d2)+_0x5625f5[_0x1f724d(0x369)]),startBot([_0x5625f5[_0x1f724d(0x2a6)],userID],{'cwd':bbpath},function(_0x576829){if(_0x576829)logger['full'](_0x576829);});else(_0x5625f5[_0x1f724d(0x1dc)]==_0x1f724d(0x22d)||_0x5625f5[_0x1f724d(0x1dc)]==_0x1f724d(0x1e0))&&await logger['full'](_0x1f724d(0x343)+_0x5625f5['botID']+_0x1f724d(0x1d2)+_0x5625f5[_0x1f724d(0x369)]);}else!newBot&&logger[_0x1f724d(0x231)](_0x1f724d(0x2bb));if(newBot)addBot();logger[_0x1f724d(0x231)](_0x1f724d(0x26e)),logger[_0x1f724d(0x231)]('');}function startSocket(){const _0x376c31=_0x4b1b45;io['on'](_0x376c31(0x1e7),_0x468685=>{const _0x564722=_0x376c31;let _0x5c1752,_0x3d18b7,_0x2c75c8,_0x4ea0d9,_0x5878db;const _0x13716f=_0x468685[_0x564722(0x319)]['headers'][_0x564722(0x1ba)];_0x3d18b7=_0x13716f[_0x564722(0x1f8)](/bot[0-9]{3}/);if(_0x3d18b7)_0x2c75c8=_0x3d18b7[0x0][_0x564722(0x1f8)](/[0-9]{3}/);if(_0x2c75c8)_0x5c1752=_0x2c75c8[0x0];else _0x5c1752='botmanager';const _0x299d15=_0x468685[_0x564722(0x319)][_0x564722(0x247)][_0x564722(0x2c8)];if(!_0x299d15)_0x468685[_0x564722(0x313)]('status',{'publicKey':secure[_0x564722(0x209)]});else{_0x4ea0d9=timelyDecrypt(_0x299d15,![]);if(!_0x4ea0d9)_0x468685[_0x564722(0x313)](_0x564722(0x1dc),{'publicKey':secure[_0x564722(0x209)]});else{_0x5878db=normalizeIP(_0x468685[_0x564722(0x36a)][_0x564722(0x354)])['store'];if(!devices[_0x4ea0d9])devices[_0x4ea0d9]={'uuid':_0x4ea0d9,'access':{'token':null}};devices[_0x4ea0d9]['ip']=_0x5878db;const _0x5c42af=addClient(_0x468685['id'],_0x4ea0d9,_0x5c1752);setAccess(_0x5c42af),emitMessages(),_0x468685['on']('login',_0x102049=>{const _0x866bf8=_0x564722,_0xf28a8a=timelyDecrypt(_0x102049[_0x866bf8(0x291)]);if(_0xf28a8a){_0x102049={'username':_0x102049['username'],'password':_0xf28a8a},devices[_0x4ea0d9]['access']=validateCredentials(_0x102049,_0x4ea0d9);if(devices[_0x4ea0d9][_0x866bf8(0x1ea)][_0x866bf8(0x2fa)]==![]&&devices[_0x4ea0d9][_0x866bf8(0x1ea)][_0x866bf8(0x32a)]==_0x866bf8(0x255))_0x468685[_0x866bf8(0x313)](_0x866bf8(0x1dc),{'access':devices[_0x4ea0d9][_0x866bf8(0x1ea)]}),loginAccess2FA(_0x4ea0d9,_0x5878db);else{if(devices[_0x4ea0d9][_0x866bf8(0x1ea)][_0x866bf8(0x2fa)]==![]&&devices[_0x4ea0d9][_0x866bf8(0x1ea)][_0x866bf8(0x32a)]==_0x866bf8(0x33a))_0x468685['emit'](_0x866bf8(0x1dc),{'access':devices[_0x4ea0d9][_0x866bf8(0x1ea)]});else devices[_0x4ea0d9][_0x866bf8(0x1ea)][_0x866bf8(0x2fa)]&&devices[_0x4ea0d9]['access'][_0x866bf8(0x32a)]==_0x866bf8(0x251)&&(getClientsWithUuid(_0x4ea0d9)[_0x866bf8(0x23a)](_0x21ad84=>{setAccess(_0x21ad84);}),setTokenRefresh(_0x4ea0d9),setSessionTimeout(_0x866bf8(0x24d),_0x4ea0d9));}}else logger[_0x866bf8(0x23f)]('Unauthorized\x20login\x20attempt\x20(timeout)');}),_0x468685['on'](_0x564722(0x2e2),()=>{resetPassword();}),_0x468685['on'](_0x564722(0x2c5),_0x42db43=>{removeClient(_0x468685['id']);}),_0x5c1752=='botmanager'&&(restoredConfigFile&&(restoreConfigNotify(!![]),restoredConfigFile=0x0));}}});}function initClient(_0xe91b93){const _0x57fb32=_0x4b1b45;if(_0xe91b93!=_0x57fb32(0x1ee)&&config['apiKey']!=''){if(pid[_0xe91b93])pid[_0xe91b93][_0x57fb32(0x329)]({'function':'initclient','args':null});}}function reloadBotManager(){const _0xf433b8=_0x4b1b45;getClientsWithBotID(_0xf433b8(0x1ee))[_0xf433b8(0x23a)](_0x152b08=>{const _0x3a294d=_0xf433b8;getSocket(_0x152b08['id'])[_0x3a294d(0x313)]('status',{'access':{'allow':![],'reason':'reload','token':null}});});}function getSocket(_0xc0072e){const _0x18f891=_0x4b1b45;return io['sockets'][_0x18f891(0x24b)][_0x18f891(0x31d)](_0xc0072e);}function setAccess(_0x2b9bf4){const _0xbafbba=_0x4b1b45,_0x2daee7=getSocket(_0x2b9bf4['id']),_0x441e12=_0x2b9bf4['uuid'],_0x6f6335=_0x2b9bf4[_0xbafbba(0x286)];devices[_0x441e12][_0xbafbba(0x1ea)]=validateAccess(devices[_0x441e12][_0xbafbba(0x1ea)][_0xbafbba(0x246)],_0x441e12),_0x2daee7[_0xbafbba(0x1b3)](_0x441e12);if(devices[_0x441e12][_0xbafbba(0x1ea)][_0xbafbba(0x2fa)]){_0x2daee7[_0xbafbba(0x1b3)](_0x6f6335);if(_0x6f6335==_0xbafbba(0x1ee))initializeSocketBotManager(_0x2daee7);else initializeSocketBot(_0x2daee7);initClient(_0x6f6335);}devices[_0x441e12][_0xbafbba(0x1ea)][_0xbafbba(0x246)]&&devices[_0x441e12][_0xbafbba(0x1ea)][_0xbafbba(0x32a)]==_0xbafbba(0x2af)&&setSessionTimeout('2FA',_0x441e12),devices[_0x441e12][_0xbafbba(0x1ea)][_0xbafbba(0x246)]&&devices[_0x441e12]['access'][_0xbafbba(0x32a)]==_0xbafbba(0x32e)&&setSessionTimeout(_0xbafbba(0x24d),_0x441e12),_0x2daee7[_0xbafbba(0x313)](_0xbafbba(0x1dc),{'status':_0x2b9bf4[_0xbafbba(0x1cc)],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x441e12][_0xbafbba(0x1ea)],'externalip':devices[_0x441e12]['ip'],'publicKey':secure[_0xbafbba(0x209)],'userid':settings[_0xbafbba(0x33e)],'validInstallation':validInstallation}),devices[_0x441e12][_0xbafbba(0x1ea)][_0xbafbba(0x2fa)]==![]&&devices[_0x441e12]['access']['reason']==_0xbafbba(0x1dd)&&temporaryAccess2FA(_0x441e12,devices[_0x441e12]['ip']);}function setSessionTimeout(_0x490c08,_0x36aee2){const _0x14edf2=_0x4b1b45;let _0x9a0b53;if(_0x490c08==_0x14edf2(0x24d))_0x9a0b53=loginExpiry*0x3c*0x3e8;else _0x9a0b53=devices[_0x36aee2][_0x14edf2(0x2d4)]['expiry']*0x3c*0x3e8-(new Date()[_0x14edf2(0x28f)]()-devices[_0x36aee2]['telegramIpApproval']['timestamp']);if(devices[_0x36aee2]['pidExpireLogin'])clearTimeout(devices[_0x36aee2][_0x14edf2(0x20e)]);devices[_0x36aee2][_0x14edf2(0x20e)]=setTimeout(()=>{const _0x59c71c=_0x14edf2;if(devices[_0x36aee2]['pidRefreshToken'])clearTimeout(devices[_0x36aee2]['pidRefreshToken']);removeSocketListeners(_0x36aee2),addBlacklist(_0x36aee2),devices[_0x36aee2]['telegramIpApproval']=null,devices[_0x36aee2]['telegram2FaApproval']=null,devices[_0x36aee2][_0x59c71c(0x1ea)][_0x59c71c(0x246)]=null,devices[_0x36aee2]['access']=validateAccess(devices[_0x36aee2]['access']['token'],_0x36aee2),!(devices[_0x36aee2]['access'][_0x59c71c(0x2fa)]&&devices[_0x36aee2][_0x59c71c(0x1ea)]['reason']=='login\x20not\x20required')&&(_0x490c08==_0x59c71c(0x24d)?io['to'](_0x36aee2)['emit'](_0x59c71c(0x1dc),{'access':{'allow':![],'reason':_0x59c71c(0x1ce),'token':null}}):io['to'](_0x36aee2)[_0x59c71c(0x313)]('status',{'access':{'allow':![],'reason':_0x59c71c(0x264),'token':null}})),devices[_0x36aee2][_0x59c71c(0x1ea)]['token']=null;},_0x9a0b53);}function setTokenRefresh(_0x388995){const _0x17055d=_0x4b1b45;if(devices[_0x388995]['pidRefreshToken'])clearTimeout(devices[_0x388995][_0x17055d(0x202)]);devices[_0x388995]['pidRefreshToken']=setTimeout(()=>{const _0x85c48f=_0x17055d;getClientsWithUuid(_0x388995)[_0x85c48f(0x24a)]!=0x0?(devices[_0x388995][_0x85c48f(0x1ea)]=refreshToken(_0x388995),io['to'](_0x388995)['emit'](_0x85c48f(0x1dc),{'status':_0x85c48f(0x1de),'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x388995]['access'],'externalip':devices[_0x388995]['ip'],'publicKey':secure[_0x85c48f(0x209)],'validInstallation':validInstallation}),setTokenRefresh(_0x388995)):clearTimeout(devices[_0x388995][_0x85c48f(0x202)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0xc6ac79){const _0x56df40=_0x4b1b45,_0x21ae55=getClient(_0xc6ac79['id'])[_0x56df40(0x2a5)];_0xc6ac79['emit'](_0x56df40(0x224),config),_0xc6ac79[_0x56df40(0x313)](_0x56df40(0x341),cleanSettings()),_0xc6ac79['on'](_0x56df40(0x2dd),_0x37167f=>{const _0x925298=_0x56df40;if(validateAccess(_0x37167f,_0x21ae55)[_0x925298(0x2fa)])addBot();else logger[_0x925298(0x23f)]('Unauthorized\x20attempt\x20to\x20add\x20bot');}),_0xc6ac79['on'](_0x56df40(0x34a),(_0x400af0,_0x186e29)=>{const _0x1dd3f3=_0x56df40;if(validateAccess(_0x186e29,_0x21ae55)['allow'])toggleBot(_0x400af0[_0x1dd3f3(0x2a6)],_0x400af0[_0x1dd3f3(0x1dc)],_0x400af0[_0x1dd3f3(0x34d)]);else logger[_0x1dd3f3(0x23f)](_0x1dd3f3(0x336));}),_0xc6ac79['on']('toggle-bot-mode',(_0x14de59,_0x47b422)=>{const _0x33d8a0=_0x56df40;if(validateAccess(_0x47b422,_0x21ae55)[_0x33d8a0(0x2fa)])toggleBotMode(_0x14de59);else logger[_0x33d8a0(0x23f)](_0x33d8a0(0x336));}),_0xc6ac79['on'](_0x56df40(0x248),(_0x1dd605,_0x4ee80b)=>{const _0x19b66c=_0x56df40;if(validateAccess(_0x4ee80b,_0x21ae55)[_0x19b66c(0x2fa)])deleteBot(_0x1dd605);else logger[_0x19b66c(0x23f)](_0x19b66c(0x2c2));}),_0xc6ac79['on'](_0x56df40(0x2ec),(_0x600d57,_0x2ec6e7)=>{const _0x40c846=_0x56df40;if(validateAccess(_0x2ec6e7,_0x21ae55)[_0x40c846(0x2fa)])storeSettings(_0x600d57,!![]);else logger[_0x40c846(0x23f)](_0x40c846(0x316));}),_0xc6ac79['on']('update-bb',_0x56acef=>{const _0x2b420a=_0x56df40;if(validateAccess(_0x56acef,_0x21ae55)['allow'])updateBB(_0x2b420a(0x2d3));else logger[_0x2b420a(0x23f)]('Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot');}),_0xc6ac79['on'](_0x56df40(0x367),_0x200208=>{const _0x36c6e8=_0x56df40;if(validateAccess(_0x200208,_0x21ae55)[_0x36c6e8(0x2fa)])updateBB('reinstall');else logger['full'](_0x36c6e8(0x27c));}),_0xc6ac79['on'](_0x56df40(0x1bd),_0x2fe3ea=>{const _0x163947=_0x56df40;if(validateAccess(_0x2fe3ea,_0x21ae55)[_0x163947(0x2fa)])getBackupFiles(getClient(_0xc6ac79['id'])['uuid']);else logger[_0x163947(0x23f)](_0x163947(0x27c));}),_0xc6ac79['on'](_0x56df40(0x245),(_0x3d6716,_0x56e678)=>{const _0x2189d3=_0x56df40;if(validateAccess(_0x56e678,_0x21ae55)[_0x2189d3(0x2fa)])restoreBackupFile(_0x3d6716);else logger['full']('Unauthorized\x20attempt\x20to\x20restore\x20backup\x20file');}),_0xc6ac79['on']('get-messages',_0x4e2b11=>{const _0xc9f9eb=_0x56df40;if(validateAccess(_0x4e2b11,_0x21ae55)[_0xc9f9eb(0x2fa)])getMessages();else logger[_0xc9f9eb(0x23f)](_0xc9f9eb(0x2c1));}),_0xc6ac79['on'](_0x56df40(0x25d),(_0x1b33fd,_0x9cf1ad)=>{const _0x3cfce3=_0x56df40;if(validateAccess(_0x9cf1ad,_0x21ae55)[_0x3cfce3(0x2fa)])confirmMessage(_0x1b33fd);else logger[_0x3cfce3(0x23f)](_0x3cfce3(0x241));}),_0xc6ac79['on'](_0x56df40(0x21d),_0x1790e9=>{const _0x39a774=_0x56df40;if(validateAccess(_0x1790e9,_0x21ae55)['allow']){if(devices[_0x21ae55][_0x39a774(0x202)])clearTimeout(devices[_0x21ae55]['pidRefreshToken']);if(devices[_0x21ae55][_0x39a774(0x20e)])clearTimeout(devices[_0x21ae55]['pidExpireLogin']);removeSocketListeners(getClient(_0xc6ac79['id'])[_0x39a774(0x2a5)]),addBlacklist(_0x21ae55),devices[_0x21ae55][_0x39a774(0x2d4)]=null,devices[_0x21ae55]['telegram2FaApproval']=null,devices[_0x21ae55][_0x39a774(0x1ea)][_0x39a774(0x246)]=null,io['to'](getClient(_0xc6ac79['id'])[_0x39a774(0x2a5)])[_0x39a774(0x313)](_0x39a774(0x1dc),{'access':{'allow':![],'reason':_0x39a774(0x204),'token':null}});}else logger[_0x39a774(0x23f)](_0x39a774(0x1b6));});}function initializeSocketBot(_0x25311b){const _0x42bf4a=_0x4b1b45,_0xf22721=getClient(_0x25311b['id'])[_0x42bf4a(0x286)],_0x3df2be=getClient(_0x25311b['id'])[_0x42bf4a(0x2a5)];_0x25311b['on'](_0x42bf4a(0x36e),(_0x426671,_0x3ec13d)=>{const _0x466052=_0x42bf4a;if(validateAccess(_0x3ec13d,_0x3df2be)['allow']){if(pid[_0xf22721])pid[_0xf22721][_0x466052(0x329)]({'function':_0x466052(0x250),'args':_0x426671});}else logger[_0x466052(0x23f)](_0x466052(0x363));}),_0x25311b['on'](_0x42bf4a(0x1bc),(_0x2ab912,_0x2d130f)=>{const _0x1cd93f=_0x42bf4a;if(validateAccess(_0x2d130f,_0x3df2be)['allow']){if(pid[_0xf22721])pid[_0xf22721][_0x1cd93f(0x329)]({'function':_0x1cd93f(0x358),'args':_0x2ab912});}else logger[_0x1cd93f(0x23f)](_0x1cd93f(0x2db));}),_0x25311b['on']('get-portfolio',(_0x1a767c,_0x26ac9f)=>{const _0x4d4e0d=_0x42bf4a;if(validateAccess(_0x26ac9f,_0x3df2be)[_0x4d4e0d(0x2fa)]){if(pid[_0xf22721])pid[_0xf22721][_0x4d4e0d(0x329)]({'function':_0x4d4e0d(0x2d9),'args':_0x1a767c});}else logger[_0x4d4e0d(0x23f)](_0x4d4e0d(0x32d));}),_0x25311b['on'](_0x42bf4a(0x2d7),(_0x513d49,_0x103c27)=>{const _0x2bd8f6=_0x42bf4a;if(validateAccess(_0x103c27,_0x3df2be)[_0x2bd8f6(0x2fa)]){if(pid[_0xf22721])pid[_0xf22721][_0x2bd8f6(0x329)]({'function':_0x2bd8f6(0x237),'args':_0x513d49});}else logger[_0x2bd8f6(0x23f)](_0x2bd8f6(0x207));}),_0x25311b['on']('store-headless',(_0x36604f,_0x229413)=>{const _0x1740ca=_0x42bf4a;if(validateAccess(_0x229413,_0x3df2be)[_0x1740ca(0x2fa)]){if(pid[_0xf22721])pid[_0xf22721]['send']({'function':_0x1740ca(0x27b),'args':_0x36604f});}else logger['full']('Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration');}),_0x25311b['on'](_0x42bf4a(0x217),_0x200d13=>{const _0x2d6098=_0x42bf4a;if(validateAccess(_0x200d13,_0x3df2be)['allow']){if(pid[_0xf22721])pid[_0xf22721][_0x2d6098(0x329)]({'function':_0x2d6098(0x1f2),'args':null});}else logger[_0x2d6098(0x23f)](_0x2d6098(0x307));}),_0x25311b['on'](_0x42bf4a(0x210),(_0x5f3794,_0x299ab3)=>{const _0x396b3d=_0x42bf4a;if(validateAccess(_0x299ab3,_0x3df2be)[_0x396b3d(0x2fa)]){if(pid[_0xf22721])pid[_0xf22721][_0x396b3d(0x329)]({'function':_0x396b3d(0x31b),'args':_0x5f3794});}else logger['full'](_0x396b3d(0x212));}),_0x25311b['on'](_0x42bf4a(0x1bb),_0x2911c5=>{const _0xc206e6=_0x42bf4a;if(validateAccess(_0x2911c5,_0x3df2be)[_0xc206e6(0x2fa)]){if(pid[_0xf22721])pid[_0xf22721][_0xc206e6(0x329)]({'function':_0xc206e6(0x229),'args':null});}else logger[_0xc206e6(0x23f)]('Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins');}),_0x25311b['on'](_0x42bf4a(0x2b8),_0x5846c9=>{const _0x5a2451=_0x42bf4a;if(validateAccess(_0x5846c9,_0x3df2be)[_0x5a2451(0x2fa)]){if(pid[_0xf22721])pid[_0xf22721][_0x5a2451(0x329)]({'function':'showConfig','args':null});}else logger[_0x5a2451(0x23f)](_0x5a2451(0x243));}),_0x25311b['on'](_0x42bf4a(0x2b1),_0x230a4e=>{const _0x1c67ac=_0x42bf4a;if(validateAccess(_0x230a4e,_0x3df2be)[_0x1c67ac(0x2fa)])updateBB(_0x1c67ac(0x2d3));else logger[_0x1c67ac(0x23f)]('Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot');}),_0x25311b['on'](_0x42bf4a(0x28b),_0x5046e8=>{const _0x4ace5f=_0x42bf4a;if(validateAccess(_0x5046e8,_0x3df2be)[_0x4ace5f(0x2fa)])getMessages();else logger['full'](_0x4ace5f(0x2c1));}),_0x25311b['on'](_0x42bf4a(0x25d),(_0x48548e,_0x4b50cd)=>{const _0x5e5faa=_0x42bf4a;if(validateAccess(_0x4b50cd,_0x3df2be)[_0x5e5faa(0x2fa)])confirmMessage(_0x48548e);else logger[_0x5e5faa(0x23f)](_0x5e5faa(0x241));}),_0x25311b['on'](_0x42bf4a(0x21d),_0x2d8530=>{const _0x114a25=_0x42bf4a;if(validateAccess(_0x2d8530,_0x3df2be)[_0x114a25(0x2fa)]){if(devices[_0x3df2be]['pidRefreshToken'])clearTimeout(devices[_0x3df2be][_0x114a25(0x202)]);if(devices[_0x3df2be][_0x114a25(0x20e)])clearTimeout(devices[_0x3df2be][_0x114a25(0x20e)]);removeSocketListeners(getClient(_0x25311b['id'])['uuid']),addBlacklist(_0x3df2be),devices[_0x3df2be]['telegramIpApproval']=null,devices[_0x3df2be][_0x114a25(0x2da)]=null,devices[_0x3df2be][_0x114a25(0x1ea)]['token']=null,io['to'](getClient(_0x25311b['id'])[_0x114a25(0x2a5)])[_0x114a25(0x313)]('status',{'access':{'allow':![],'reason':_0x114a25(0x204),'token':null}});}else logger['full'](_0x114a25(0x1b6));});}function removeSocketListeners(_0x2ba888){const _0x575f79=_0x4b1b45;getClientsWithUuid(_0x2ba888)[_0x575f79(0x23a)](_0x1f0196=>{getSocket(_0x1f0196['id'])['removeAllListeners']();});}function cleanSettings(){const _0x4c7479=_0x4b1b45;let _0x510f19=settings;return settings[_0x4c7479(0x280)]&&settings[_0x4c7479(0x280)]!=''&&(_0x510f19={..._0x510f19,'telegramToken':_0x4c7479(0x221)}),settings[_0x4c7479(0x22c)]&&settings[_0x4c7479(0x22c)]!=''&&(_0x510f19={..._0x510f19,'bbPassword':_0x4c7479(0x221)}),(settings[_0x4c7479(0x22c)]&&settings[_0x4c7479(0x22c)]==_0x4c7479(0x235)||settings[_0x4c7479(0x280)]&&settings['telegramToken']==_0x4c7479(0x235))&&(_0x510f19={..._0x510f19,'restored':{'password':settings[_0x4c7479(0x22c)]==_0x4c7479(0x235),'telegram':settings[_0x4c7479(0x280)]==_0x4c7479(0x235)}}),_0x510f19;}async function updateBB(_0x267410){const _0x127935=_0x4b1b45;await backupConfigFiles(),installingUpdate=!![],config[_0x127935(0x23a)](_0xc90058=>{const _0x233978=_0x127935;restartBot(_0xc90058[_0x233978(0x2a6)]);}),logger['debug']('Starting\x20Balance\x20Bot\x20'+_0x267410);if(_0x267410==_0x127935(0x2d3))process['send']({'update':!![]},_0x5b92bf=>{});else _0x267410==_0x127935(0x1b5)&&process[_0x127935(0x329)]({'reinstall':!![]},_0x493ee0=>{});}function startBot(_0x27f8d6,_0x22f17c,_0x28bf03){const _0x566d2f=_0x4b1b45;if(debugging)_0x27f8d6[_0x566d2f(0x2a4)]('-d');let _0x2103f1=![];const _0x4da90f=_0x27f8d6[0x0];_0x22f17c={..._0x22f17c,'stdio':[_0x566d2f(0x238),_0x566d2f(0x238),_0x566d2f(0x238),_0x566d2f(0x320)]},pid[_0x4da90f]=childProcess[_0x566d2f(0x244)](botfile,_0x27f8d6,_0x22f17c),pid[_0x4da90f]['on'](_0x566d2f(0x2cc),_0x359dd8=>{const _0x53cbcb=_0x566d2f;switch(Object[_0x53cbcb(0x36f)](_0x359dd8)[0x0]){case _0x53cbcb(0x369):updateBotName(_0x4da90f,_0x359dd8['botname']);break;case _0x53cbcb(0x1e2):updateBotManager();break;case'status':updateStatus(_0x4da90f,_0x359dd8[_0x53cbcb(0x1dc)]);break;case'live':updateLive(_0x4da90f,_0x359dd8[_0x53cbcb(0x34d)]);break;case _0x53cbcb(0x374):updateLive(_0x4da90f,_0x359dd8[_0x53cbcb(0x374)]),io['to'](_0x4da90f)[_0x53cbcb(0x313)]('status',{'access':{'allow':![],'reason':_0x53cbcb(0x2f2),'token':null}});break;case _0x53cbcb(0x273):_0x359dd8['stop']==_0x53cbcb(0x328)&&restartBot(_0x4da90f);_0x359dd8[_0x53cbcb(0x273)]=='kill'&&toggleBot(_0x4da90f,_0x53cbcb(0x22d),_0x53cbcb(0x325));break;case _0x53cbcb(0x276):sendTelegram(_0x4da90f,_0x359dd8[_0x53cbcb(0x276)]);break;case _0x53cbcb(0x35d):sendTelegramMsg(_0x359dd8[_0x53cbcb(0x35d)]);break;case _0x53cbcb(0x227):io['to'](_0x4da90f)['emit'](_0x359dd8[_0x53cbcb(0x227)],_0x359dd8[_0x53cbcb(0x301)]);break;}}),pid[_0x4da90f]['on']('error',function(_0x15abb5){if(_0x2103f1)return;_0x2103f1=!![],_0x28bf03(_0x15abb5);}),pid[_0x4da90f]['on'](_0x566d2f(0x1e9),async function(_0x3e730e){const _0x59db75=_0x566d2f;if(installingUpdate)return;if(_0x2103f1)return;_0x2103f1=!![],_0x28bf03(null);const _0x174443=dbConfig[_0x59db75(0x31d)](_0x59db75(0x224))[_0x59db75(0x36d)]({'botID':_0x4da90f})[_0x59db75(0x2ea)]();_0x174443&&(_0x174443[_0x59db75(0x1dc)]==_0x59db75(0x1bf)||_0x174443['status']=='new')&&(await sleep(0x3e8),updateLive(_0x4da90f,_0x59db75(0x325)),logger[_0x59db75(0x23f)](_0x59db75(0x2ab)+_0x4da90f),startBot([_0x4da90f,userID],{'cwd':bbpath},function(_0x2746d3){if(_0x2746d3)logger['full'](_0x2746d3);}));});}function stopBot(_0x34a477){const _0x2c6d7f=_0x4b1b45;getClientsWithBotID(_0x34a477)[_0x2c6d7f(0x23a)](_0x2bf06a=>{const _0x204a27=_0x2c6d7f;getSocket(_0x2bf06a['id'])[_0x204a27(0x2c5)](!![]),removeClient(_0x2bf06a['id']);}),pid[_0x34a477]&&(pid[_0x34a477][_0x2c6d7f(0x21b)](),pid[_0x34a477]=null);}function restartBot(_0x35b8aa){const _0x2f5953=_0x4b1b45;if(pid[_0x35b8aa])pid[_0x35b8aa][_0x2f5953(0x21b)]();}function addBot(){const _0x496e38=_0x4b1b45;let _0x51330f;for(let _0x189add=0x1;_0x189add<0x3e9;_0x189add++){_0x51330f=_0x189add[_0x496e38(0x368)]()['padStart'](0x3,'0');let _0x4f280b=config[_0x496e38(0x36d)](_0x249699=>_0x249699[_0x496e38(0x2a6)]==_0x51330f);if(!_0x4f280b)break;}if(_0x51330f===_0x496e38(0x265)){logger[_0x496e38(0x23f)](_0x496e38(0x2ee));return;}logger[_0x496e38(0x23f)]('starting\x20new\x20bot\x20|\x20Bot\x20'+_0x51330f),dbConfig[_0x496e38(0x31d)](_0x496e38(0x224))[_0x496e38(0x2a4)]({'botID':_0x51330f,'botname':_0x496e38(0x296)+_0x51330f,'status':'new','live':''})[_0x496e38(0x21c)](),startBot([_0x51330f,userID],{'cwd':bbpath},function(_0x1d9d24){if(_0x1d9d24)logger['full'](_0x1d9d24);}),config=getConfiguration(),io['to'](_0x496e38(0x1ee))[_0x496e38(0x313)](_0x496e38(0x224),config);}function deleteBot(_0x4d269b){const _0xca3067=_0x4b1b45;getClientsWithBotID(_0x4d269b)['forEach'](_0x255268=>{const _0x15b083=_0x370d;getSocket(_0x255268['id'])[_0x15b083(0x2c5)](!![]),removeClient(_0x255268['id']);}),dbConfig[_0xca3067(0x31d)](_0xca3067(0x224))['remove']({'botID':_0x4d269b})[_0xca3067(0x21c)](),logger['full'](_0xca3067(0x2b5)+_0x4d269b),stopBot(_0x4d269b);try{if(fs['existsSync'](path['join'](configpath,'bot-'+_0x4d269b+'-config.json')))fs[_0xca3067(0x32c)](path['join'](configpath,_0xca3067(0x306)+_0x4d269b+_0xca3067(0x2b4)));if(fs[_0xca3067(0x338)](path[_0xca3067(0x1b3)](configpath,_0xca3067(0x306)+_0x4d269b+_0xca3067(0x225))))fs['unlinkSync'](path[_0xca3067(0x1b3)](configpath,_0xca3067(0x306)+_0x4d269b+_0xca3067(0x225)));if(fs['existsSync'](path[_0xca3067(0x1b3)](configpath,_0xca3067(0x306)+_0x4d269b+_0xca3067(0x317))))fs[_0xca3067(0x32c)](path[_0xca3067(0x1b3)](configpath,_0xca3067(0x306)+_0x4d269b+_0xca3067(0x317)));if(fs['existsSync'](path[_0xca3067(0x1b3)](configpath,_0xca3067(0x306)+_0x4d269b+_0xca3067(0x234))))fs['unlinkSync'](path[_0xca3067(0x1b3)](configpath,_0xca3067(0x306)+_0x4d269b+_0xca3067(0x234)));}catch(_0x3c8021){if(_0x3c8021)logger[_0xca3067(0x23f)](_0xca3067(0x2dc),_0x3c8021);}config=getConfiguration(),io['to']('botmanager')[_0xca3067(0x313)]('bots',config);}function toggleBot(_0x2bec31,_0x3fb504,_0x41fa30){const _0x26583e=_0x4b1b45;dbConfig[_0x26583e(0x31d)]('bots')[_0x26583e(0x36d)]({'botID':_0x2bec31})[_0x26583e(0x2ac)]({'status':_0x3fb504})['assign']({'live':_0x41fa30})[_0x26583e(0x21c)]();if(_0x3fb504=='enabled'||_0x3fb504=='new')logger[_0x26583e(0x23f)](_0x26583e(0x20d)+_0x2bec31),startBot([_0x2bec31,userID],{'cwd':bbpath},function(_0x358d9a){const _0x26d7c1=_0x26583e;if(_0x358d9a)logger[_0x26d7c1(0x23f)](_0x358d9a);});else(_0x3fb504==_0x26583e(0x22d)||_0x3fb504==_0x26583e(0x1e0))&&(logger[_0x26583e(0x23f)]('disabled\x20Bot\x20'+_0x2bec31),stopBot(_0x2bec31));config=getConfiguration(),io['to']('botmanager')[_0x26583e(0x313)]('bots',config);}function toggleStatus(_0x547d00){const _0x233cbf=_0x4b1b45;let _0x57fb81=dbConfig[_0x233cbf(0x31d)]('bots')[_0x233cbf(0x36d)]({'botID':_0x547d00})[_0x233cbf(0x2ea)](),_0x37254d;if(_0x57fb81['status']===_0x233cbf(0x1bf))_0x37254d=_0x233cbf(0x22d);else{if(_0x57fb81['status']===_0x233cbf(0x2c3))_0x37254d=_0x233cbf(0x1e0);else{if(_0x57fb81[_0x233cbf(0x1dc)]===_0x233cbf(0x1e0))_0x37254d=_0x233cbf(0x2c3);else{if(_0x57fb81[_0x233cbf(0x1dc)]===_0x233cbf(0x22d))_0x37254d=_0x233cbf(0x1bf);}}}return _0x37254d;}function updateStatus(_0x21c4ba,_0x3d3c0f){const _0x11df47=_0x4b1b45;dbConfig[_0x11df47(0x31d)]('bots')[_0x11df47(0x36d)]({'botID':_0x21c4ba})['assign']({'status':_0x3d3c0f})['write'](),config=getConfiguration(),io['to'](_0x11df47(0x1ee))[_0x11df47(0x313)]('bots',config);}function updateLive(_0x55edd8,_0x166f82){const _0x30fc3b=_0x4b1b45;dbConfig[_0x30fc3b(0x31d)](_0x30fc3b(0x224))[_0x30fc3b(0x36d)]({'botID':_0x55edd8})[_0x30fc3b(0x2ac)]({'live':_0x166f82})['write'](),config=getConfiguration(),io['to'](_0x30fc3b(0x1ee))[_0x30fc3b(0x313)](_0x30fc3b(0x224),config);}function updateBotName(_0x4433dc,_0x412cb6){const _0x41293b=_0x4b1b45;dbConfig[_0x41293b(0x31d)](_0x41293b(0x224))['find']({'botID':_0x4433dc})[_0x41293b(0x2ac)]({'botname':_0x412cb6})[_0x41293b(0x21c)](),config=getConfiguration(),io['to'](_0x41293b(0x1ee))['emit'](_0x41293b(0x224),config);}function updateBotManager(){const _0x59dbb4=_0x4b1b45;config=getConfiguration(),io['to'](_0x59dbb4(0x1ee))[_0x59dbb4(0x313)](_0x59dbb4(0x224),config);}function toggleBotMode(_0x531c31){const _0x3769a=_0x4b1b45;if(pid[_0x531c31])pid[_0x531c31]['send']({'function':_0x3769a(0x310),'args':null});else{const _0x584f74=configpath+_0x3769a(0x306)+_0x531c31+_0x3769a(0x2b4),_0xba8de7=fs[_0x3769a(0x1e5)](_0x584f74),_0x52781d=JSON[_0x3769a(0x305)](_0xba8de7),_0x1d0734=_0x52781d['bot'][0x0][_0x3769a(0x26f)];_0x52781d[_0x3769a(0x286)][0x0][_0x3769a(0x26f)]=!_0x1d0734;const _0x48af2f=JSON[_0x3769a(0x1c0)](_0x52781d,null,0x2);fs[_0x3769a(0x36b)](_0x584f74,_0x48af2f),config=getConfiguration(),io['to'](_0x3769a(0x1ee))['emit'](_0x3769a(0x224),config);}}function telegramError(_0x2340a2){const _0x5da313=_0x4b1b45;logger['simple'](getTimeStamp()+_0x5da313(0x29d));}function validateTelegram(_0x518c9b){const _0x5d2106=_0x4b1b45;if(_0x518c9b[_0x5d2106(0x1d6)][_0x5d2106(0x32f)]!=settings[_0x5d2106(0x208)]&&'@'+_0x518c9b[_0x5d2106(0x1d6)]['username']!=settings[_0x5d2106(0x208)])return tgBot[_0x5d2106(0x1fa)](_0x518c9b[_0x5d2106(0x2e8)]['id'],'Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings',{'parse_mode':'HTML'})[_0x5d2106(0x299)](_0x39afc2=>{telegramError(_0x39afc2);}),![];return!![];}async function initTelegram(){const _0x31c476=_0x4b1b45;if(tgBot)tgBot[_0x31c476(0x1d0)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings['telegramToken'],{'polling':!![]});let _0x466822=_0x31c476(0x371);_0x466822+='\x0a',_0x466822+='/enable\x20-\x20enable\x20notifications\x0a',_0x466822+='/disable\x20-\x20disable\x20notifications\x0a',_0x466822+=_0x31c476(0x360),_0x466822+='/restart\x20-\x20restart\x20bot(s)\x0a',_0x466822+='/on\x20-\x20start\x20bot(s)\x0a',_0x466822+=_0x31c476(0x20a),_0x466822+=_0x31c476(0x270),_0x466822+=_0x31c476(0x203),_0x466822+='/status\x20-\x20show\x20bot(s)\x20status\x0a',_0x466822+=_0x31c476(0x1cb),_0x466822+=_0x31c476(0x35e),_0x466822+=_0x31c476(0x21a),_0x466822+=_0x31c476(0x1d9);let _0xba5f79=_0x31c476(0x356);_0xba5f79+='\x0a',_0xba5f79+=_0x466822,tgBot[_0x31c476(0x29c)](/\/start/,_0x482c3f=>{const _0x54d90c=_0x31c476;if(!validateTelegram(_0x482c3f))return;if(settings['telegramChatId']!=_0x482c3f[_0x54d90c(0x2e8)]['id'])updateSetting(_0x54d90c(0x2ff),_0x482c3f['chat']['id']);updateSetting(_0x54d90c(0x1f9),!![]),tgBot['sendMessage'](_0x482c3f[_0x54d90c(0x2e8)]['id'],_0xba5f79)['catch'](_0x15ce66=>{telegramError(_0x15ce66);});}),tgBot[_0x31c476(0x29c)](/\/enable/,_0x6fd8d0=>{const _0x55238f=_0x31c476;if(!validateTelegram(_0x6fd8d0))return;if(settings[_0x55238f(0x2ff)]!=_0x6fd8d0[_0x55238f(0x2e8)]['id'])updateSetting('telegramChatId',_0x6fd8d0['chat']['id']);updateSetting(_0x55238f(0x1f9),!![]),tgBot[_0x55238f(0x1fa)](_0x6fd8d0[_0x55238f(0x2e8)]['id'],_0x55238f(0x20b))[_0x55238f(0x299)](_0x27c1b7=>{telegramError(_0x27c1b7);});}),tgBot[_0x31c476(0x29c)](/\/config/,async _0x544a69=>{const _0x4098e8=_0x31c476;if(!validateTelegram(_0x544a69))return;tgBot[_0x4098e8(0x30e)](_0x4098e8(0x28d)),tgBot['sendMessage'](_0x544a69[_0x4098e8(0x2e8)]['id'],_0x4098e8(0x2ce),{'reply_markup':{'inline_keyboard':[[{'text':'Orders','callback_data':_0x4098e8(0x2ed)},{'text':_0x4098e8(0x2b2),'callback_data':_0x4098e8(0x30b)},{'text':_0x4098e8(0x259),'callback_data':_0x4098e8(0x349)}]]}})['catch'](_0x2f6a46=>{telegramError(_0x2f6a46);}),tgBot['on'](_0x4098e8(0x28d),async _0x4f3728=>{const _0x5f19d5=_0x4098e8,_0x1b83ce=_0x4f3728[_0x5f19d5(0x25e)],_0x96cdad=_0x4f3728['message'];tgBot[_0x5f19d5(0x1ec)](_0x4f3728['id'])[_0x5f19d5(0x215)](async()=>{const _0x3b4ce8=_0x5f19d5;_0x1b83ce=='orders'&&(updateSetting(_0x3b4ce8(0x2cb),_0x3b4ce8(0x2ed)),updateSetting(_0x3b4ce8(0x1f9),!![]),await tgBot[_0x3b4ce8(0x1fa)](_0x96cdad[_0x3b4ce8(0x2e8)]['id'],_0x3b4ce8(0x1da))[_0x3b4ce8(0x299)](_0x5f528a=>{telegramError(_0x5f528a);}));_0x1b83ce==_0x3b4ce8(0x30b)&&(updateSetting('telegramEvents',_0x3b4ce8(0x30b)),updateSetting(_0x3b4ce8(0x1f9),!![]),await tgBot[_0x3b4ce8(0x1fa)](_0x96cdad[_0x3b4ce8(0x2e8)]['id'],'Ok,\x20will\x20send\x20alert\x20notifications\x20only')[_0x3b4ce8(0x299)](_0xbd1a36=>{telegramError(_0xbd1a36);}));_0x1b83ce==_0x3b4ce8(0x349)&&(updateSetting('telegramEvents',_0x3b4ce8(0x349)),updateSetting(_0x3b4ce8(0x1f9),!![]),await tgBot[_0x3b4ce8(0x1fa)](_0x96cdad['chat']['id'],'Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications')[_0x3b4ce8(0x299)](_0x14b479=>{telegramError(_0x14b479);}));if(!settings[_0x3b4ce8(0x2ff)])tgBot['sendMessage'](_0x96cdad['chat']['id'],_0x3b4ce8(0x289))[_0x3b4ce8(0x299)](_0x4adb63=>{telegramError(_0x4adb63);});}),tgBot[_0x5f19d5(0x30e)]('callback_query');});}),tgBot[_0x31c476(0x29c)](/\/status/,_0x40b4e6=>{const _0x35e853=_0x31c476;if(!validateTelegram(_0x40b4e6))return;const _0x1fcf0f=getBotsWithMode();let _0x184d36='<b>Balance\x20Bot\x20Status:</b>\x0a';config['forEach'](_0x318c7e=>{const _0x17b2b6=_0x370d,_0x546654=_0x1fcf0f[_0x17b2b6(0x36d)](_0x50da36=>_0x50da36[_0x17b2b6(0x2a6)]==_0x318c7e[_0x17b2b6(0x2a6)])['mode'];_0x184d36+=_0x17b2b6(0x296)+_0x318c7e[_0x17b2b6(0x2a6)]+':\x20'+_0x318c7e[_0x17b2b6(0x1dc)]+_0x17b2b6(0x1d2)+_0x546654+'\x20|\x20'+_0x318c7e[_0x17b2b6(0x34d)]+'\x0a';}),_0x184d36+='\x0a',_0x184d36+='<b>Telegram\x20Bot\x20Status:</b>\x0a',_0x184d36+=!settings['telegramEnabled']?_0x35e853(0x340):'Notifications\x20enabled\x0a',_0x184d36+=settings[_0x35e853(0x1f9)]?settings[_0x35e853(0x2cb)]==_0x35e853(0x349)?'Notifications\x20types:\x20orders\x20and\x20alerts\x0a':_0x35e853(0x21f)+settings[_0x35e853(0x2cb)]+_0x35e853(0x25b):'',tgBot[_0x35e853(0x1fa)](_0x40b4e6[_0x35e853(0x2e8)]['id'],_0x184d36,{'parse_mode':_0x35e853(0x2d6)})[_0x35e853(0x299)](_0x527ac2=>{telegramError(_0x527ac2);});}),tgBot[_0x31c476(0x29c)](/\/restart/,_0x31fbb3=>{const _0x3d37b5=_0x31c476;if(!validateTelegram(_0x31fbb3))return;tgBot[_0x3d37b5(0x30e)](_0x3d37b5(0x28d));const _0xb1a3e3=getEnabledBots();if(_0xb1a3e3['length']==0x0)tgBot[_0x3d37b5(0x1fa)](_0x31fbb3['chat']['id'],'No\x20bots\x20running\x20right\x20now')['catch'](_0x5e0c9b=>{telegramError(_0x5e0c9b);});else{if(_0xb1a3e3[_0x3d37b5(0x24a)]>0x1)_0xb1a3e3[_0x3d37b5(0x2a4)]({'botID':'all'});let _0x55306e=[],_0x962a2f=[];const _0x2254d6=_0xb1a3e3[_0x3d37b5(0x24a)]%0x4==0x0||_0xb1a3e3[_0x3d37b5(0x24a)]%0x4==0x3||_0xb1a3e3[_0x3d37b5(0x24a)]%0x3==0x1?0x4:0x3;let _0x4261ac=0x0;_0xb1a3e3['forEach']((_0x284764,_0xd2417c)=>{const _0x180e1f=_0x3d37b5;if(_0xd2417c%_0x2254d6==0x0)_0x962a2f=[];_0x962a2f[_0x180e1f(0x2a4)]({'text':_0x284764[_0x180e1f(0x2a6)]==_0x180e1f(0x349)?_0x180e1f(0x308):_0x180e1f(0x296)+_0x284764[_0x180e1f(0x2a6)],'callback_data':_0x284764[_0x180e1f(0x2a6)]}),_0xd2417c%_0x2254d6==0x0&&(_0x55306e[_0x4261ac]=_0x962a2f,_0x4261ac++);}),tgBot[_0x3d37b5(0x1fa)](_0x31fbb3[_0x3d37b5(0x2e8)]['id'],_0x3d37b5(0x290),{'reply_markup':{'inline_keyboard':_0x55306e}})[_0x3d37b5(0x299)](_0x50f7b1=>{telegramError(_0x50f7b1);}),tgBot['on']('callback_query',async _0x33ec14=>{const _0x30e756=_0x3d37b5,_0x1d3995=_0x33ec14[_0x30e756(0x25e)],_0x32e2ea=_0x33ec14[_0x30e756(0x2cc)];tgBot[_0x30e756(0x1ec)](_0x33ec14['id'])['then'](async()=>{const _0x1ec6c3=_0x30e756;_0x1d3995==_0x1ec6c3(0x349)?config[_0x1ec6c3(0x23a)](_0x548c5=>{const _0x151592=_0x1ec6c3;restartBot(_0x548c5[_0x151592(0x2a6)]);}):restartBot(_0x1d3995);}),tgBot[_0x30e756(0x30e)](_0x30e756(0x28d));});}}),tgBot['onText'](/\/on/,_0x58279c=>{const _0x50c219=_0x31c476;if(!validateTelegram(_0x58279c))return;tgBot['removeListener']('callback_query');const _0xbb7667=getDisabledBots();if(_0xbb7667[_0x50c219(0x24a)]==0x0)tgBot[_0x50c219(0x1fa)](_0x58279c[_0x50c219(0x2e8)]['id'],_0x50c219(0x327))['catch'](_0x32640f=>{telegramError(_0x32640f);});else{if(_0xbb7667[_0x50c219(0x24a)]>0x1)_0xbb7667[_0x50c219(0x2a4)]({'botID':_0x50c219(0x349)});let _0x416cbe=[],_0x4a034d=[];const _0x3d0ad2=_0xbb7667[_0x50c219(0x24a)]%0x4==0x0||_0xbb7667[_0x50c219(0x24a)]%0x4==0x3||_0xbb7667[_0x50c219(0x24a)]%0x3==0x1?0x4:0x3;let _0x1ef5aa=0x0;_0xbb7667['forEach']((_0x3908ba,_0x2db122)=>{const _0x33df58=_0x50c219;if(_0x2db122%_0x3d0ad2==0x0)_0x4a034d=[];_0x4a034d[_0x33df58(0x2a4)]({'text':_0x3908ba[_0x33df58(0x2a6)]==_0x33df58(0x349)?_0x33df58(0x308):_0x33df58(0x296)+_0x3908ba[_0x33df58(0x2a6)],'callback_data':_0x3908ba[_0x33df58(0x2a6)]}),_0x2db122%_0x3d0ad2==0x0&&(_0x416cbe[_0x1ef5aa]=_0x4a034d,_0x1ef5aa++);}),tgBot[_0x50c219(0x1fa)](_0x58279c['chat']['id'],_0x50c219(0x256),{'reply_markup':{'inline_keyboard':_0x416cbe}})[_0x50c219(0x299)](_0x2e1833=>{telegramError(_0x2e1833);}),tgBot['on'](_0x50c219(0x28d),async _0x3511fc=>{const _0x4724b1=_0x50c219,_0x4d15b4=_0x3511fc[_0x4724b1(0x25e)],_0x423810=_0x3511fc['message'];tgBot[_0x4724b1(0x1ec)](_0x3511fc['id'])[_0x4724b1(0x215)](async()=>{const _0x36bcc9=_0x4724b1;_0x4d15b4==_0x36bcc9(0x349)?(tgBot[_0x36bcc9(0x1fa)](_0x423810[_0x36bcc9(0x2e8)]['id'],_0x36bcc9(0x337))['catch'](_0x135aee=>{telegramError(_0x135aee);}),_0xbb7667[_0x36bcc9(0x23a)](_0x4181ea=>{const _0x35d671=_0x36bcc9;if(_0x4181ea['botID']!='all')toggleBot(_0x4181ea[_0x35d671(0x2a6)],toggleStatus(_0x4181ea[_0x35d671(0x2a6)]),_0x35d671(0x325));})):(tgBot['sendMessage'](_0x423810['chat']['id'],_0x36bcc9(0x309)+_0x4d15b4)[_0x36bcc9(0x299)](_0x34dd2a=>{telegramError(_0x34dd2a);}),toggleBot(_0x4d15b4,toggleStatus(_0x4d15b4),_0x36bcc9(0x325)));}),tgBot['removeListener'](_0x4724b1(0x28d));});}}),tgBot['onText'](/\/off/,_0x3cd9a9=>{const _0x55ea0d=_0x31c476;if(!validateTelegram(_0x3cd9a9))return;tgBot[_0x55ea0d(0x30e)](_0x55ea0d(0x28d));const _0x56fc8c=getEnabledBots();if(_0x56fc8c[_0x55ea0d(0x24a)]==0x0)tgBot[_0x55ea0d(0x1fa)](_0x3cd9a9[_0x55ea0d(0x2e8)]['id'],_0x55ea0d(0x321))[_0x55ea0d(0x299)](_0x4f82ff=>{telegramError(_0x4f82ff);});else{if(_0x56fc8c[_0x55ea0d(0x24a)]>0x1)_0x56fc8c[_0x55ea0d(0x2a4)]({'botID':'all'});let _0x1a017b=[],_0x4bfaff=[];const _0x5ba8e0=_0x56fc8c[_0x55ea0d(0x24a)]%0x4==0x0||_0x56fc8c[_0x55ea0d(0x24a)]%0x4==0x3||_0x56fc8c['length']%0x3==0x1?0x4:0x3;let _0x13f6d4=0x0;_0x56fc8c[_0x55ea0d(0x23a)]((_0x34086b,_0x37911a)=>{const _0x4dac95=_0x55ea0d;if(_0x37911a%_0x5ba8e0==0x0)_0x4bfaff=[];_0x4bfaff[_0x4dac95(0x2a4)]({'text':_0x34086b[_0x4dac95(0x2a6)]==_0x4dac95(0x349)?'All\x20bots':'Bot\x20'+_0x34086b['botID'],'callback_data':_0x34086b[_0x4dac95(0x2a6)]}),_0x37911a%_0x5ba8e0==0x0&&(_0x1a017b[_0x13f6d4]=_0x4bfaff,_0x13f6d4++);}),tgBot[_0x55ea0d(0x1fa)](_0x3cd9a9['chat']['id'],_0x55ea0d(0x33b),{'reply_markup':{'inline_keyboard':_0x1a017b}})[_0x55ea0d(0x299)](_0x489741=>{telegramError(_0x489741);}),tgBot['on']('callback_query',async _0x206f85=>{const _0x440bc6=_0x55ea0d,_0x5f3ab2=_0x206f85[_0x440bc6(0x25e)],_0x230b28=_0x206f85[_0x440bc6(0x2cc)];tgBot[_0x440bc6(0x1ec)](_0x206f85['id'])[_0x440bc6(0x215)](async()=>{const _0x8a9de4=_0x440bc6;_0x5f3ab2=='all'?(tgBot[_0x8a9de4(0x1fa)](_0x230b28[_0x8a9de4(0x2e8)]['id'],_0x8a9de4(0x263))[_0x8a9de4(0x299)](_0x17b9a8=>{telegramError(_0x17b9a8);}),_0x56fc8c['forEach'](_0x1889ad=>{const _0x12849c=_0x8a9de4;if(_0x1889ad['botID']!='all')toggleBot(_0x1889ad[_0x12849c(0x2a6)],toggleStatus(_0x1889ad[_0x12849c(0x2a6)]),'stopped');})):(tgBot[_0x8a9de4(0x1fa)](_0x230b28[_0x8a9de4(0x2e8)]['id'],_0x8a9de4(0x1ef)+_0x5f3ab2)[_0x8a9de4(0x299)](_0x21b238=>{telegramError(_0x21b238);}),toggleBot(_0x5f3ab2,toggleStatus(_0x5f3ab2),_0x8a9de4(0x325)));}),tgBot[_0x440bc6(0x30e)](_0x440bc6(0x28d));});}}),tgBot[_0x31c476(0x29c)](/\/portfolio/,_0x3542be=>{const _0x1085fc=_0x31c476;if(!validateTelegram(_0x3542be))return;tgBot[_0x1085fc(0x30e)](_0x1085fc(0x28d));const _0x17c248=getEnabledBots();if(_0x17c248[_0x1085fc(0x24a)]==0x0)tgBot['sendMessage'](_0x3542be[_0x1085fc(0x2e8)]['id'],_0x1085fc(0x321))[_0x1085fc(0x299)](_0x4f6ea0=>{telegramError(_0x4f6ea0);});else{if(_0x17c248['length']>0x1){let _0x516e54=[],_0x4220d4=[];const _0x36c753=_0x17c248[_0x1085fc(0x24a)]%0x4==0x0||_0x17c248[_0x1085fc(0x24a)]%0x4==0x3||_0x17c248['length']%0x3==0x1?0x4:0x3;let _0x4f53f5=0x0;_0x17c248[_0x1085fc(0x23a)]((_0x26f983,_0x5bcd17)=>{const _0x42b8b9=_0x1085fc;if(_0x5bcd17%_0x36c753==0x0)_0x4220d4=[];_0x4220d4[_0x42b8b9(0x2a4)]({'text':_0x42b8b9(0x296)+_0x26f983[_0x42b8b9(0x2a6)],'callback_data':_0x26f983['botID']}),_0x5bcd17%_0x36c753==0x0&&(_0x516e54[_0x4f53f5]=_0x4220d4,_0x4f53f5++);}),tgBot[_0x1085fc(0x1fa)](_0x3542be[_0x1085fc(0x2e8)]['id'],_0x1085fc(0x350),{'reply_markup':{'inline_keyboard':_0x516e54}})['catch'](_0x5d15ff=>{telegramError(_0x5d15ff);}),tgBot['on'](_0x1085fc(0x28d),async _0x3b0ccb=>{const _0x9eea2=_0x1085fc,_0x43a414=_0x3b0ccb[_0x9eea2(0x25e)],_0x354a40=_0x3b0ccb[_0x9eea2(0x2cc)];tgBot[_0x9eea2(0x1ec)](_0x3b0ccb['id'])[_0x9eea2(0x215)](async()=>{if(pid[_0x43a414])pid[_0x43a414]['send']({'function':'sendPortfolioTelegram','args':null});}),tgBot[_0x9eea2(0x30e)](_0x9eea2(0x28d));});}else{const _0x1a7e75=_0x17c248[0x0][_0x1085fc(0x2a6)];if(pid[_0x1a7e75])pid[_0x1a7e75][_0x1085fc(0x329)]({'function':_0x1085fc(0x31a),'args':null});}}}),tgBot[_0x31c476(0x29c)](/\/update/,async _0x35d471=>{const _0x3b0535=_0x31c476;if(!validateTelegram(_0x35d471))return;tgBot[_0x3b0535(0x30e)](_0x3b0535(0x28d)),await getMessages();if(!updateAvailable)tgBot[_0x3b0535(0x1fa)](_0x35d471[_0x3b0535(0x2e8)]['id'],_0x3b0535(0x298))[_0x3b0535(0x299)](_0x2c2cb=>{telegramError(_0x2c2cb);});else!validInstallation?tgBot[_0x3b0535(0x1fa)](_0x35d471[_0x3b0535(0x2e8)]['id'],_0x3b0535(0x1be))[_0x3b0535(0x299)](_0x49dabf=>{telegramError(_0x49dabf);}):(tgBot[_0x3b0535(0x1fa)](_0x35d471[_0x3b0535(0x2e8)]['id'],_0x3b0535(0x323),{'reply_markup':{'inline_keyboard':[[{'text':_0x3b0535(0x1d4),'callback_data':_0x3b0535(0x1c7)},{'text':'No','callback_data':'no'}]]}})[_0x3b0535(0x299)](_0x2dbeec=>{telegramError(_0x2dbeec);}),tgBot['on'](_0x3b0535(0x28d),async _0x1bfd38=>{const _0x529719=_0x3b0535,_0x4c00b7=_0x1bfd38[_0x529719(0x25e)],_0x1d8a58=_0x1bfd38[_0x529719(0x2cc)];tgBot[_0x529719(0x1ec)](_0x1bfd38['id'])['then'](async()=>{const _0xe6f2a5=_0x529719;_0x4c00b7==_0xe6f2a5(0x1c7)&&(await tgBot[_0xe6f2a5(0x1fa)](_0x1d8a58[_0xe6f2a5(0x2e8)]['id'],'Starting\x20Balance\x20Bot\x20update')[_0xe6f2a5(0x299)](_0x8f63b0=>{telegramError(_0x8f63b0);}),updateBB('update')),_0x4c00b7=='no'&&await tgBot[_0xe6f2a5(0x1fa)](_0x1d8a58[_0xe6f2a5(0x2e8)]['id'],_0xe6f2a5(0x26a))[_0xe6f2a5(0x299)](_0x1e8f8b=>{telegramError(_0x1e8f8b);});}),tgBot[_0x529719(0x30e)](_0x529719(0x28d));}));}),tgBot['onText'](/\/reinstall/,async _0x8563eb=>{const _0x2d3130=_0x31c476;if(!validateTelegram(_0x8563eb))return;tgBot[_0x2d3130(0x30e)](_0x2d3130(0x28d)),!validInstallation?tgBot['sendMessage'](_0x8563eb['chat']['id'],'Your\x20installation\x20does\x20not\x20support\x20reinstalling\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20reinstallation')[_0x2d3130(0x299)](_0x2cdab6=>{telegramError(_0x2cdab6);}):(tgBot[_0x2d3130(0x1fa)](_0x8563eb['chat']['id'],_0x2d3130(0x2c6),{'reply_markup':{'inline_keyboard':[[{'text':_0x2d3130(0x1d4),'callback_data':'yes'},{'text':'No','callback_data':'no'}]]}})[_0x2d3130(0x299)](_0x1d18ea=>{telegramError(_0x1d18ea);}),tgBot['on'](_0x2d3130(0x28d),async _0x244aee=>{const _0x55e2ff=_0x2d3130,_0x16ba3c=_0x244aee['data'],_0x109918=_0x244aee[_0x55e2ff(0x2cc)];tgBot[_0x55e2ff(0x1ec)](_0x244aee['id'])['then'](async()=>{const _0xaa6a6d=_0x55e2ff;_0x16ba3c==_0xaa6a6d(0x1c7)&&(await tgBot[_0xaa6a6d(0x1fa)](_0x109918[_0xaa6a6d(0x2e8)]['id'],_0xaa6a6d(0x339))[_0xaa6a6d(0x299)](_0xf2f802=>{telegramError(_0xf2f802);}),updateBB('reinstall')),_0x16ba3c=='no'&&await tgBot[_0xaa6a6d(0x1fa)](_0x109918['chat']['id'],_0xaa6a6d(0x236))[_0xaa6a6d(0x299)](_0x31fe62=>{telegramError(_0x31fe62);});}),tgBot[_0x55e2ff(0x30e)](_0x55e2ff(0x28d));}));}),tgBot[_0x31c476(0x29c)](/\/toggle/,_0x83aea0=>{const _0x42dfe1=_0x31c476;if(!validateTelegram(_0x83aea0))return;tgBot[_0x42dfe1(0x30e)](_0x42dfe1(0x28d));const _0x5e8abd=getBotsWithMode();if(_0x5e8abd[_0x42dfe1(0x24a)]==0x0)tgBot[_0x42dfe1(0x1fa)](_0x83aea0[_0x42dfe1(0x2e8)]['id'],'No\x20bots\x20running\x20right\x20now')[_0x42dfe1(0x299)](_0x10a930=>{telegramError(_0x10a930);});else{let _0x5b3187=[],_0xeb0ab7=[];const _0x3070cf=0x2;let _0x1d1a4d=0x0;_0x5e8abd[_0x42dfe1(0x23a)]((_0x3cc144,_0x1ef5d1)=>{const _0x464104=_0x42dfe1;if(_0x1ef5d1%_0x3070cf==0x0)_0xeb0ab7=[];_0xeb0ab7[_0x464104(0x2a4)]({'text':_0x464104(0x296)+_0x3cc144[_0x464104(0x2a6)]+'\x20('+_0x3cc144[_0x464104(0x362)]+')','callback_data':_0x3cc144[_0x464104(0x2a6)]}),_0x1ef5d1%_0x3070cf==0x0&&(_0x5b3187[_0x1d1a4d]=_0xeb0ab7,_0x1d1a4d++);}),tgBot[_0x42dfe1(0x1fa)](_0x83aea0[_0x42dfe1(0x2e8)]['id'],_0x42dfe1(0x297),{'reply_markup':{'inline_keyboard':_0x5b3187}})[_0x42dfe1(0x299)](_0x4802c6=>{telegramError(_0x4802c6);}),tgBot['on'](_0x42dfe1(0x28d),async _0x25bdbc=>{const _0x565374=_0x42dfe1,_0x4efbc3=_0x25bdbc['data'],_0x239a6=_0x25bdbc[_0x565374(0x2cc)];tgBot[_0x565374(0x1ec)](_0x25bdbc['id'])[_0x565374(0x215)](async()=>{const _0xa46479=_0x565374,_0x57464e=_0x5e8abd['find'](_0x1e63fe=>_0x1e63fe['botID']==_0x4efbc3),_0x4bb93a=_0x57464e['mode']==_0xa46479(0x2a7)?_0xa46479(0x22e):'auto';tgBot[_0xa46479(0x1fa)](_0x239a6['chat']['id'],_0xa46479(0x258)+_0x4efbc3+'\x20to\x20'+_0x4bb93a+_0xa46479(0x30d))[_0xa46479(0x299)](_0xa1ea5b=>{telegramError(_0xa1ea5b);}),toggleBotMode(_0x4efbc3);}),tgBot['removeListener'](_0x565374(0x28d));});}}),tgBot[_0x31c476(0x29c)](/\/names/,_0x5c23ef=>{const _0x3a86d7=_0x31c476;if(!validateTelegram(_0x5c23ef))return;let _0xcc5eda='';config['forEach'](_0x35bc54=>{const _0xf7ce0f=_0x370d;_0xcc5eda+=_0xf7ce0f(0x296)+_0x35bc54[_0xf7ce0f(0x2a6)]+':\x20'+_0x35bc54[_0xf7ce0f(0x369)]+'\x0a';}),tgBot['sendMessage'](_0x5c23ef[_0x3a86d7(0x2e8)]['id'],_0xcc5eda,{'parse_mode':_0x3a86d7(0x2d6)})[_0x3a86d7(0x299)](_0xa7da05=>{telegramError(_0xa7da05);});}),tgBot[_0x31c476(0x29c)](/\/disable/,_0x15ac0d=>{const _0x42aac2=_0x31c476;if(!validateTelegram(_0x15ac0d))return;tgBot['sendMessage'](_0x15ac0d[_0x42aac2(0x2e8)]['id'],_0x42aac2(0x33c))[_0x42aac2(0x299)](_0x88a8ea=>{telegramError(_0x88a8ea);}),updateSetting(_0x42aac2(0x1f9),![]);}),tgBot[_0x31c476(0x29c)](/\/help/,_0x3de591=>{const _0x28a49a=_0x31c476;if(!validateTelegram(_0x3de591))return;tgBot[_0x28a49a(0x1fa)](_0x3de591['chat']['id'],_0x466822)[_0x28a49a(0x299)](_0x1b9da1=>{telegramError(_0x1b9da1);});}),tgBot['on'](_0x31c476(0x228),_0x2d5a00=>{const _0x147018=_0x31c476;_0x2d5a00[_0x147018(0x368)]()[_0x147018(0x23b)]('404\x20Not\x20Found')&&(logger[_0x147018(0x23f)]('Invalid\x20Telegram\x20token'),tgBot[_0x147018(0x1d0)](),tgBot=null,io['to'](_0x147018(0x1ee))[_0x147018(0x313)](_0x147018(0x1f6),_0x147018(0x35b)));}),process[_0x31c476(0x2e5)](_0x31c476(0x1c3),()=>{const _0x210316=_0x31c476;if(tgBot)tgBot['stopPolling']();process[_0x210316(0x1e9)](0x1);}),process[_0x31c476(0x2e5)]('SIGTERM',()=>{if(tgBot)tgBot['stopPolling']();process['exit'](0x1);});}}function disableTelegram(){const _0x4ed12c=_0x4b1b45;tgBot&&(tgBot[_0x4ed12c(0x1d0)](),tgBot=null);}function sendTelegram(_0x2f05c4,_0xc586c7){const _0x2965c5=_0x4b1b45;if(settings[_0x2965c5(0x1f9)]){if(settings[_0x2965c5(0x2cb)]==_0x2965c5(0x349)||(_0xc586c7[_0x2965c5(0x2bf)]=='error'||_0xc586c7[_0x2965c5(0x2bf)]==_0x2965c5(0x214)||_0xc586c7[_0x2965c5(0x2bf)]==_0x2965c5(0x345))&&settings[_0x2965c5(0x2cb)]==_0x2965c5(0x30b)||_0xc586c7[_0x2965c5(0x2bf)]=='order'&&settings[_0x2965c5(0x2cb)]==_0x2965c5(0x2ed)){if(tgBot&&settings['telegramChatId']){if(_0xc586c7[_0x2965c5(0x34f)])tgBot[_0x2965c5(0x1fa)](settings['telegramChatId'],_0xc586c7[_0x2965c5(0x369)]+_0x2965c5(0x351)+_0xc586c7['event'])[_0x2965c5(0x299)](_0x31f968=>{telegramError(_0x31f968);});else tgBot[_0x2965c5(0x1fa)](settings[_0x2965c5(0x2ff)],'Bot\x20'+_0x2f05c4+'\x20>\x20'+_0xc586c7[_0x2965c5(0x2a2)])['catch'](_0x2c3733=>{telegramError(_0x2c3733);});}}}}async function sendTelegramMsg(_0x28c7c9,_0x231fa7='HTML'){const _0x51feeb=_0x4b1b45;return settings[_0x51feeb(0x1f9)]&&tgBot&&settings['telegramChatId']?(await tgBot[_0x51feeb(0x1fa)](settings[_0x51feeb(0x2ff)],_0x28c7c9,{'parse_mode':_0x231fa7})[_0x51feeb(0x299)](_0x122263=>{telegramError(_0x122263);}),!![]):![];}function getDeviceWithIp(_0x5c00fa){const _0x316c1b=_0x4b1b45;return devices[_0x316c1b(0x36d)](_0x5d8c92=>_0x5d8c92['ip']===_0x5c00fa);}function temporaryAccess2FA(_0x5cd81d,_0x1c68dd){const _0x3e276a=_0x4b1b45;let _0x48f516=new Date(),_0x348a1a=![];if(lastIpApproval){if(_0x48f516-lastIpApproval<0x1388)_0x348a1a=!![];}lastIpApproval=new Date();if(_0x348a1a)return;tgBot&&settings[_0x3e276a(0x2ff)]&&(tgBot[_0x3e276a(0x30e)](_0x3e276a(0x28d)),tgBot[_0x3e276a(0x1fa)](settings[_0x3e276a(0x2ff)],'Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0x1c68dd)['show']+_0x3e276a(0x2f4),{'parse_mode':_0x3e276a(0x2d6),'reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':_0x3e276a(0x2e0),'callback_data':'15'},{'text':_0x3e276a(0x1ff),'callback_data':'30'},{'text':_0x3e276a(0x262),'callback_data':_0x3e276a(0x262)}]]}})['catch'](_0x25bb6e=>{telegramError(_0x25bb6e);}),tgBot['on'](_0x3e276a(0x28d),async _0xe44a28=>{const _0x233d4a=_0x3e276a,_0x36b61d=_0xe44a28[_0x233d4a(0x25e)],_0x485966=_0xe44a28[_0x233d4a(0x2cc)];tgBot[_0x233d4a(0x1ec)](_0xe44a28['id'])[_0x233d4a(0x215)](async()=>{const _0xf99738=_0x233d4a;devices[_0x5cd81d][_0xf99738(0x2d4)]={'clientip':_0x1c68dd,'timestamp':new Date()[_0xf99738(0x28f)](),'expiry':_0x36b61d},_0x36b61d!=_0xf99738(0x262)?(await tgBot[_0xf99738(0x1fa)](_0x485966[_0xf99738(0x2e8)]['id'],_0xf99738(0x1d3)+_0x36b61d+_0xf99738(0x31e),{'parse_mode':_0xf99738(0x2d6)})[_0xf99738(0x299)](_0x2dbf20=>{telegramError(_0x2dbf20);}),io['to'](_0x5cd81d)[_0xf99738(0x313)]('status',{'access':{'allow':![],'reason':_0xf99738(0x2f2),'token':null}})):(await tgBot[_0xf99738(0x1fa)](_0x485966[_0xf99738(0x2e8)]['id'],_0xf99738(0x1c8))[_0xf99738(0x299)](_0x579f4d=>{telegramError(_0x579f4d);}),io['to'](_0x5cd81d)[_0xf99738(0x313)]('status',{'access':{'allow':![],'reason':_0xf99738(0x2e3),'token':null}}));}),tgBot[_0x233d4a(0x30e)](_0x233d4a(0x28d));}));}function loginAccess2FA(_0x218029,_0x52b361){const _0x477f63=_0x4b1b45;tgBot&&settings[_0x477f63(0x2ff)]&&(tgBot[_0x477f63(0x30e)](_0x477f63(0x28d)),tgBot[_0x477f63(0x1fa)](settings[_0x477f63(0x2ff)],_0x477f63(0x30c)+normalizeIP(_0x52b361)[_0x477f63(0x303)]+_0x477f63(0x2f4),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x477f63(0x29b),'callback_data':loginExpiry},{'text':_0x477f63(0x262),'callback_data':_0x477f63(0x262)}]]}})[_0x477f63(0x299)](_0x5e10bd=>{telegramError(_0x5e10bd);}),tgBot['on']('callback_query',async _0xf0d002=>{const _0xcce9d6=_0x477f63,_0x58a7b0=_0xf0d002[_0xcce9d6(0x25e)],_0x2eaae1=_0xf0d002['message'];tgBot[_0xcce9d6(0x1ec)](_0xf0d002['id'])['then'](async()=>{const _0x436149=_0xcce9d6;devices[_0x218029][_0x436149(0x2da)]={'clientip':_0x52b361,'timestamp':new Date()['getTime'](),'expiry':_0x58a7b0},_0x58a7b0!=_0x436149(0x262)?(await tgBot['sendMessage'](_0x2eaae1['chat']['id'],_0x436149(0x27a),{'parse_mode':_0x436149(0x2d6)})[_0x436149(0x299)](_0xb66870=>{telegramError(_0xb66870);}),io['to'](_0x218029)[_0x436149(0x313)](_0x436149(0x1dc),{'access':{'allow':![],'reason':_0x436149(0x2f2),'token':null}})):(await tgBot[_0x436149(0x1fa)](_0x2eaae1[_0x436149(0x2e8)]['id'],_0x436149(0x2d1))['catch'](_0x4a921a=>{telegramError(_0x4a921a);}),io['to'](_0x218029)['emit'](_0x436149(0x1dc),{'access':{'allow':![],'reason':'2FA\x20login\x20rejected','token':null}}));}),tgBot['removeListener'](_0xcce9d6(0x28d));}));}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x233cdb=_0x4b1b45;return dbConfig[_0x233cdb(0x31d)](_0x233cdb(0x224))['sortBy'](_0x233cdb(0x2a6))[_0x233cdb(0x200)]({'status':_0x233cdb(0x1bf)})[_0x233cdb(0x2ea)]()||[];}function getDisabledBots(){const _0x2b5646=_0x4b1b45;return dbConfig[_0x2b5646(0x31d)](_0x2b5646(0x224))[_0x2b5646(0x2a1)](_0x2b5646(0x2a6))[_0x2b5646(0x200)]({'status':_0x2b5646(0x22d)})[_0x2b5646(0x2ea)]()||[];}function getBotAttributes(_0x3e7e27){const _0x392ec7=_0x4b1b45;let _0x51a587={};const _0x51987d=configpath+_0x392ec7(0x306)+_0x3e7e27+'-config.json',_0x48d039=fs[_0x392ec7(0x338)](_0x51987d);if(_0x48d039){const _0x4a691e=fs[_0x392ec7(0x1e5)](_0x51987d);try{const _0x35888a=JSON[_0x392ec7(0x305)](_0x4a691e),_0x22c4af=_0x35888a?_0x35888a[_0x392ec7(0x286)][0x0][_0x392ec7(0x26f)]:![];_0x51a587[_0x392ec7(0x362)]=_0x22c4af?_0x392ec7(0x2a7):_0x392ec7(0x22e),_0x51a587[_0x392ec7(0x369)]=_0x35888a?_0x35888a[_0x392ec7(0x286)][0x0][_0x392ec7(0x369)]:_0x392ec7(0x296)+_0x3e7e27;}catch(_0x5a68f2){_0x51a587[_0x392ec7(0x362)]=_0x392ec7(0x22e),_0x51a587[_0x392ec7(0x369)]=_0x392ec7(0x296)+_0x3e7e27;}}else _0x51a587['mode']=_0x392ec7(0x22e),_0x51a587[_0x392ec7(0x369)]=_0x392ec7(0x296)+_0x3e7e27;return _0x51a587;}function getBotsWithMode(){const _0x10369c=_0x4b1b45,_0x3d73a8=dbConfig[_0x10369c(0x31d)](_0x10369c(0x224))[_0x10369c(0x2a1)]('botID')['value']()||[];return _0x3d73a8[_0x10369c(0x23a)](_0x5df228=>{const _0x174c29=_0x10369c;let _0x12458a=getBotAttributes(_0x5df228[_0x174c29(0x2a6)]);_0x5df228['mode']=_0x12458a['mode'];}),_0x3d73a8;}function getBotExchanges(){const _0x5c9c13=_0x4b1b45;let _0x363848=[];const _0x327ba4=dbConfig[_0x5c9c13(0x31d)](_0x5c9c13(0x224))[_0x5c9c13(0x2a1)](_0x5c9c13(0x2a6))[_0x5c9c13(0x2ea)]()||[];_0x327ba4[_0x5c9c13(0x23a)](_0xecb6eb=>{const _0xc34263=_0x5c9c13;if(_0xecb6eb[_0xc34263(0x1dc)]=='enabled'){const _0x1bbb7b=configpath+_0xc34263(0x306)+_0xecb6eb[_0xc34263(0x2a6)]+'-config.json',_0x46bfc4=fs[_0xc34263(0x338)](_0x1bbb7b);let _0x1a7b6a;if(_0x46bfc4){const _0x4a25ab=fs[_0xc34263(0x1e5)](_0x1bbb7b);try{const _0x44593f=JSON[_0xc34263(0x305)](_0x4a25ab);_0x1a7b6a=_0x44593f?_0x44593f['bot'][0x0]['exchange']:null;}catch(_0xd7def3){}}if(_0x1a7b6a)_0x363848['push'](_0x1a7b6a);}});const _0x46c91=[...new Set(_0x363848)]['sort']();return _0x46c91;}async function initUser(){const _0x4dbe8c=_0x4b1b45;if(!settings[_0x4dbe8c(0x33e)]){const _0xad7200=uuidRandom();mixpanel['alias'](_0xad7200),updateSetting(_0x4dbe8c(0x33e),_0xad7200);}}async function initSecure(){const _0x2309a8=_0x4b1b45;let _0xa1843e=getSecure();if(!_0xa1843e[_0x2309a8(0x333)](_0x2309a8(0x2fd))){let _0x5023b2=await generateKeys();_0xa1843e[_0x2309a8(0x209)]=_0x5023b2[_0x2309a8(0x209)],_0xa1843e['privateKey']=_0x5023b2[_0x2309a8(0x1c2)],_0xa1843e[_0x2309a8(0x2fd)]=crypto['randomBytes'](0x20)['toString'](_0x2309a8(0x254));;storeSecure(_0xa1843e);}}function getSettings(){const _0x354650=_0x4b1b45;return dbSettings['get'](_0x354650(0x341))['value']()||{};}function getSecure(){const _0x5d8705=_0x4b1b45;return dbSecure[_0x5d8705(0x31d)](_0x5d8705(0x222))['value']()||{};}function getBlacklist(){const _0x490d3c=_0x4b1b45;return dbSecure['get'](_0x490d3c(0x346))[_0x490d3c(0x2ea)]()||[];}function broadcastToBots(_0x50ef9c,_0x2d8b79){config['forEach'](_0xa5ca79=>{const _0x17c516=_0x370d;if(_0xa5ca79[_0x17c516(0x1dc)]==_0x17c516(0x1bf)&&_0xa5ca79[_0x17c516(0x34d)]==_0x17c516(0x344)){if(pid[_0xa5ca79['botID']])pid[_0xa5ca79[_0x17c516(0x2a6)]]['send']({[_0x50ef9c]:_0x2d8b79});}});}function storeSettings(_0x1e7e19,_0x4e7a19=![]){const _0x355b91=_0x4b1b45;_0x1e7e19={...settings,..._0x1e7e19};if(_0x4e7a19&&_0x1e7e19[_0x355b91(0x22c)]!=_0x355b91(0x221)&&_0x1e7e19[_0x355b91(0x22c)]!=_0x355b91(0x235)&&_0x1e7e19[_0x355b91(0x22c)]!=''){const _0x33da23=crypt[_0x355b91(0x2a0)](secure[_0x355b91(0x1c2)],_0x1e7e19['bbPassword'])[_0x355b91(0x2cc)][_0x355b91(0x315)]('@')[0x0],_0x215ec4=bcrypt[_0x355b91(0x33d)](_0x33da23,saltRounds);_0x1e7e19={..._0x1e7e19,'bbPassword':_0x215ec4};}if(_0x4e7a19&&_0x1e7e19['telegramToken']!='************'&&_0x1e7e19[_0x355b91(0x280)]!=_0x355b91(0x235)&&_0x1e7e19[_0x355b91(0x280)]!=''){const _0x1b799b=crypt[_0x355b91(0x2a0)](secure[_0x355b91(0x1c2)],_0x1e7e19[_0x355b91(0x280)])['message']['split']('@')[0x0];_0x1e7e19={..._0x1e7e19,'telegramToken':_0x1b799b};}const _0x497e73=_0x1e7e19['telegramToken']!=_0x355b91(0x221)&&_0x1e7e19[_0x355b91(0x280)]!=settings[_0x355b91(0x280)]||_0x1e7e19[_0x355b91(0x208)]!=settings[_0x355b91(0x208)],_0xc735ac=_0x1e7e19[_0x355b91(0x280)]==''||_0x1e7e19[_0x355b91(0x208)]=='';if(_0x497e73)_0x1e7e19[_0x355b91(0x2cb)]=_0x355b91(0x349);for(const [_0x37254a,_0x56207a]of Object[_0x355b91(0x1d5)](_0x1e7e19)){if(_0x37254a==_0x355b91(0x280)&&_0x56207a==_0x355b91(0x221)){_0x1e7e19[_0x355b91(0x280)]=settings[_0x355b91(0x280)];continue;};if(_0x37254a==_0x355b91(0x22c)&&_0x56207a=='************'){_0x1e7e19[_0x355b91(0x22c)]=settings['bbPassword'];continue;};dbSettings[_0x355b91(0x29f)](_0x355b91(0x266)+_0x37254a,_0x56207a)[_0x355b91(0x21c)]();}settings=_0x1e7e19,io['to'](_0x355b91(0x1ee))[_0x355b91(0x313)](_0x355b91(0x341),cleanSettings()),broadcastToBots(_0x355b91(0x239),settings[_0x355b91(0x239)]);if(_0x497e73&&!_0xc735ac)initTelegram();if(_0x497e73&&_0xc735ac)disableTelegram();getAllClients()[_0x355b91(0x23a)](_0x4b2557=>{const _0x28cf66=_0x355b91;getSocket(_0x4b2557['id'])['emit'](_0x28cf66(0x1dc),{'access':{'allow':![],'reason':_0x28cf66(0x2f2),'token':null}});});}function updateSetting(_0x367a8c,_0x197e69){const _0x42f1a7=_0x4b1b45;dbSettings[_0x42f1a7(0x29f)](_0x42f1a7(0x266)+_0x367a8c,_0x197e69)[_0x42f1a7(0x21c)](),settings=getSettings(),io['to'](_0x42f1a7(0x1ee))['emit'](_0x42f1a7(0x341),cleanSettings());}function storeSecure(_0x24c657){const _0x31876b=_0x4b1b45;dbSecure[_0x31876b(0x31d)](_0x31876b(0x222))[_0x31876b(0x2a4)](_0x24c657)[_0x31876b(0x21c)](),secure=_0x24c657;}function addBlacklist(_0x557bac){const _0x4465d7=_0x4b1b45;cleanBlacklist();let _0x3a6247;devices[_0x557bac][_0x4465d7(0x2d4)]?_0x3a6247=Math[_0x4465d7(0x26c)](devices[_0x557bac]['telegramIpApproval'][_0x4465d7(0x20f)],loginExpiry):_0x3a6247=loginExpiry,dbSecure['get'](_0x4465d7(0x346))[_0x4465d7(0x2a4)]({'expiry':new Date()[_0x4465d7(0x28f)]()+_0x3a6247*0x3c*0x3e8,'token':devices[_0x557bac][_0x4465d7(0x1ea)]['token']})[_0x4465d7(0x21c)](),blacklist=dbSecure[_0x4465d7(0x31d)](_0x4465d7(0x346))['value']();}function cleanBlacklist(){const _0xe425df=_0x4b1b45;let _0x12dc06=dbSecure[_0xe425df(0x31d)]('blacklist')['cloneDeep']()[_0xe425df(0x2ea)](),_0x3f46eb=new Date()[_0xe425df(0x28f)]();_0x12dc06[_0xe425df(0x23a)](_0x1f9ade=>{const _0x47eb47=_0xe425df;_0x1f9ade[_0x47eb47(0x20f)]<_0x3f46eb&&dbSecure[_0x47eb47(0x31d)](_0x47eb47(0x346))[_0x47eb47(0x279)]({'expiry':_0x1f9ade[_0x47eb47(0x20f)]})[_0x47eb47(0x21c)]();});}function initStates(){const _0x238b11=_0x4b1b45;let _0x1c93ae=getConfiguration();_0x1c93ae[_0x238b11(0x23a)](_0x4b4345=>{const _0x2342be=_0x238b11;_0x4b4345[_0x2342be(0x34d)]=_0x2342be(0x325);}),storeConfiguration(_0x1c93ae);}function onKeys(){const _0x4fdd5a=new RSA();return new Promise(_0x5c6fe2=>{const _0x55a554=_0x370d;_0x4fdd5a[_0x55a554(0x1c6)]()[_0x55a554(0x215)](_0x129c9d=>{_0x5c6fe2(_0x129c9d);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x58a8cd=_0x4b1b45;let _0xf1d48=getSettings(),_0x39cb8e=![];!_0xf1d48[_0x58a8cd(0x333)](_0x58a8cd(0x220))&&(_0xf1d48[_0x58a8cd(0x220)]=0x0,_0x39cb8e=!![]);!_0xf1d48['hasOwnProperty'](_0x58a8cd(0x2f3))&&(_0xf1d48[_0x58a8cd(0x2f3)]=0x0,_0x39cb8e=!![]);!_0xf1d48[_0x58a8cd(0x333)](_0x58a8cd(0x28e))&&(_0xf1d48[_0x58a8cd(0x28e)]='0.0.0',_0x39cb8e=!![]);if(_0x39cb8e)storeSettings(_0xf1d48);}function storeConfiguration(_0x3fe5e7){const _0x17b55d=_0x4b1b45;dbConfig[_0x17b55d(0x31d)](_0x17b55d(0x224))[_0x17b55d(0x279)]()[_0x17b55d(0x21c)](),_0x3fe5e7[_0x17b55d(0x23a)](_0x179aaf=>{const _0x2b8691=_0x17b55d;delete _0x179aaf[_0x2b8691(0x362)];}),dbConfig[_0x17b55d(0x31d)]('bots')[_0x17b55d(0x2a4)](..._0x3fe5e7)[_0x17b55d(0x21c)](),config=_0x3fe5e7;}function resetPassword(){const _0x196f47=_0x4b1b45;tgBot&&settings[_0x196f47(0x2ff)]&&(tgBot['removeListener'](_0x196f47(0x28d)),tgBot[_0x196f47(0x1fa)](settings['telegramChatId'],_0x196f47(0x2f8),{'parse_mode':_0x196f47(0x2d6),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x196f47(0x1c7)},{'text':'no','callback_data':'no'}]]}})['catch'](_0x1556f1=>{telegramError(_0x1556f1);}),tgBot['on'](_0x196f47(0x28d),async _0x3bd664=>{const _0x26e4d4=_0x196f47,_0x19d10f=_0x3bd664[_0x26e4d4(0x25e)],_0x14e51a=_0x3bd664[_0x26e4d4(0x2cc)];tgBot[_0x26e4d4(0x1ec)](_0x3bd664['id'])[_0x26e4d4(0x215)](async()=>{const _0x39e7a4=_0x26e4d4;if(_0x19d10f!='no'){const _0x2f9639=0xf,_0x45dead=_0x39e7a4(0x1b1),_0xa160ef=Array[_0x39e7a4(0x1d6)](crypto[_0x39e7a4(0x342)](new Uint32Array(_0x2f9639)))[_0x39e7a4(0x293)](_0x3297fa=>_0x45dead[_0x3297fa%_0x45dead[_0x39e7a4(0x24a)]])[_0x39e7a4(0x1b3)](''),_0x5f33d2=bcrypt[_0x39e7a4(0x33d)](_0xa160ef,saltRounds);storeSettings({'bbPassword':_0x5f33d2}),await tgBot[_0x39e7a4(0x1fa)](_0x14e51a['chat']['id'],_0x39e7a4(0x22b)+_0xa160ef,{'parse_mode':'HTML'})[_0x39e7a4(0x299)](_0x40eb46=>{telegramError(_0x40eb46);});}else await tgBot[_0x39e7a4(0x1fa)](_0x14e51a[_0x39e7a4(0x2e8)]['id'],'Password\x20reset\x20rejected')['catch'](_0x41ea2d=>{telegramError(_0x41ea2d);});}),tgBot[_0x26e4d4(0x30e)](_0x26e4d4(0x28d));}));}async function confirmRestore(_0x5ebfaf,_0xc294d9){const _0xe3ed79=_0x4b1b45;io['to'](_0xe3ed79(0x1ee))[_0xe3ed79(0x313)](_0xe3ed79(0x1f6),_0xe3ed79(0x29e),_0xe3ed79(0x345)),tgBot&&settings['telegramChatId']&&(tgBot['removeListener']('callback_query'),await tgBot[_0xe3ed79(0x1fa)](settings[_0xe3ed79(0x2ff)],_0xe3ed79(0x1cd),{'parse_mode':_0xe3ed79(0x2d6),'reply_markup':{'inline_keyboard':[[{'text':_0xe3ed79(0x1c7),'callback_data':_0xe3ed79(0x1c7)},{'text':'no','callback_data':'no'}]]}})[_0xe3ed79(0x299)](_0x145309=>{telegramError(_0x145309);}),tgBot['on'](_0xe3ed79(0x28d),async _0x108c04=>{const _0x5cfe1d=_0xe3ed79,_0x455bec=_0x108c04[_0x5cfe1d(0x25e)],_0x4cd34c=_0x108c04[_0x5cfe1d(0x2cc)];tgBot['answerCallbackQuery'](_0x108c04['id'])[_0x5cfe1d(0x215)](async()=>{const _0x19941c=_0x5cfe1d;_0x455bec==_0x19941c(0x1c7)?(await tgBot[_0x19941c(0x1fa)](_0x4cd34c[_0x19941c(0x2e8)]['id'],'Restoring\x20bot(s)\x20from\x20backup',{'parse_mode':'HTML'})['catch'](_0x3fa4dd=>{telegramError(_0x3fa4dd);}),unzipFile(_0x5ebfaf,_0xc294d9)):(logger[_0x19941c(0x24c)]('Restore\x20process\x20aborted'),await tgBot['sendMessage'](_0x4cd34c['chat']['id'],'Restore\x20process\x20aborted')[_0x19941c(0x299)](_0x381078=>{telegramError(_0x381078);}));}),tgBot[_0x5cfe1d(0x30e)](_0x5cfe1d(0x28d));}));}function getServerTime(){const _0x2a712f=_0x4b1b45,_0x3d0476=new Date();return _0x3d0476[_0x2a712f(0x352)]()+'/'+(_0x3d0476[_0x2a712f(0x223)]()+0x1)[_0x2a712f(0x368)]()[_0x2a712f(0x1c1)](0x2,'0')+'/'+_0x3d0476['getDate']()[_0x2a712f(0x368)]()[_0x2a712f(0x1c1)](0x2,'0')+'\x20'+_0x3d0476['getHours']()[_0x2a712f(0x368)]()['padStart'](0x2,'0')+':'+_0x3d0476[_0x2a712f(0x2e6)]()['toString']()[_0x2a712f(0x1c1)](0x2,'0')+':'+_0x3d0476[_0x2a712f(0x334)]()[_0x2a712f(0x368)]()[_0x2a712f(0x1c1)](0x2,'0');}function getTimeStamp(){const _0x5160cc=_0x4b1b45,_0x395ffc=shiftedTime();return _0x395ffc[_0x5160cc(0x352)]()+'/'+(_0x395ffc[_0x5160cc(0x223)]()+0x1)[_0x5160cc(0x368)]()['padStart'](0x2,'0')+'/'+_0x395ffc[_0x5160cc(0x1e8)]()[_0x5160cc(0x368)]()[_0x5160cc(0x1c1)](0x2,'0')+'\x20'+_0x395ffc[_0x5160cc(0x27e)]()['toString']()['padStart'](0x2,'0')+':'+_0x395ffc[_0x5160cc(0x2e6)]()[_0x5160cc(0x368)]()[_0x5160cc(0x1c1)](0x2,'0')+':'+_0x395ffc[_0x5160cc(0x334)]()[_0x5160cc(0x368)]()[_0x5160cc(0x1c1)](0x2,'0');}function shiftedTime(){const _0xe405f7=_0x4b1b45,_0x66892c=new Date();let _0x5a4f04=_0x66892c;if(settings[_0xe405f7(0x239)]&&settings['timeshift']!==0x0)_0x5a4f04=fns[_0xe405f7(0x366)](_0x66892c,{'hours':settings[_0xe405f7(0x239)]});return _0x5a4f04;}function startScheduler(){const _0x4a2040=_0x4b1b45,_0x179e0f=new Date()[_0x4a2040(0x252)](),_0xaded18=shiftedTime()[_0x4a2040(0x27e)]();_0xaded18==0x4&&backupConfigFiles();_0xaded18==0x0&&rotateLogFiles();_0x179e0f%0x6==0x0&&triggerAnalytics();_0x179e0f%0x6==0x0&&getMessages();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}async function restoreBackupFile(_0x495d54){const _0x27e247=_0x4b1b45;logger['debug'](_0x27e247(0x2e1)+_0x495d54);const _0xa4c2d1=getBotsWithMode();_0xa4c2d1[_0x27e247(0x24a)]>0x0?confirmRestore(configbackuppath,_0x495d54):unzipFile(configbackuppath,_0x495d54);}async function getBackupFiles(_0x2033a1=null){const _0x19f132=_0x4b1b45;let _0x227aec=[],_0x3e21fc=fs[_0x19f132(0x302)](configbackuppath,{'withFileTypes':!![]});_0x3e21fc[_0x19f132(0x2f7)]((_0x18267a,_0x5ce9a4)=>_0x18267a[_0x19f132(0x275)]>_0x5ce9a4[_0x19f132(0x275)]?0x1:_0x5ce9a4[_0x19f132(0x275)]<_0x18267a[_0x19f132(0x275)]?-0x1:0x0),_0x3e21fc[_0x19f132(0x23a)](_0x41ed12=>{const _0xacc920=_0x19f132,_0x11a9dc=formatDate(fs['statSync'](configbackuppath+_0x41ed12[_0xacc920(0x275)])[_0xacc920(0x1c5)]);_0x227aec[_0xacc920(0x2a4)]({'name':_0x41ed12[_0xacc920(0x275)],'mtime':_0x11a9dc});});if(_0x2033a1)io['to'](_0x2033a1)[_0x19f132(0x313)]('backup-files',_0x227aec);else return _0x227aec;}async function backupConfigFiles(){const _0x58e8b2=_0x4b1b45;await zipFiles(_0x58e8b2(0x292));let _0x1b7a37=fs[_0x58e8b2(0x302)](configbackuppath,{'withFileTypes':!![]});_0x1b7a37['sort']((_0x6a38f5,_0x377ca7)=>_0x6a38f5[_0x58e8b2(0x275)]<_0x377ca7['name']?0x1:_0x377ca7[_0x58e8b2(0x275)]<_0x6a38f5['name']?-0x1:0x0),_0x1b7a37[_0x58e8b2(0x23a)](_0x3a9c51=>{const _0x435d58=_0x58e8b2;if(_0x3a9c51[_0x435d58(0x275)]==_0x435d58(0x2a9))fs[_0x435d58(0x365)](configbackuppath+_0x3a9c51[_0x435d58(0x275)],configbackuppath+_0x435d58(0x22f));if(_0x3a9c51[_0x435d58(0x275)]==_0x435d58(0x2d0))fs[_0x435d58(0x365)](configbackuppath+_0x3a9c51[_0x435d58(0x275)],configbackuppath+'backup-full-004.zip');if(_0x3a9c51['name']=='backup-full-002.zip')fs['copyFileSync'](configbackuppath+_0x3a9c51[_0x435d58(0x275)],configbackuppath+_0x435d58(0x2d0));if(_0x3a9c51[_0x435d58(0x275)]==_0x435d58(0x1e1))fs[_0x435d58(0x365)](configbackuppath+_0x3a9c51[_0x435d58(0x275)],configbackuppath+_0x435d58(0x2c7));if(_0x3a9c51['name']==_0x435d58(0x201))fs[_0x435d58(0x365)](configbackuppath+_0x3a9c51[_0x435d58(0x275)],configbackuppath+_0x435d58(0x1e1));}),fs[_0x58e8b2(0x365)](zippath+_0x58e8b2(0x312),configbackuppath+_0x58e8b2(0x201));}function rotateLogFiles(){const _0x362568=_0x4b1b45,_0x5941a1=fs[_0x362568(0x278)](logspath+'output-000.log'),_0x5b26cf=_0x5941a1['size']/0x400;if(_0x5b26cf>0x32){let _0x1b8d3b=fs[_0x362568(0x302)](logspath,{'withFileTypes':!![]});_0x1b8d3b[_0x362568(0x2f7)]((_0x4f3bac,_0x57219a)=>_0x4f3bac[_0x362568(0x275)]<_0x57219a[_0x362568(0x275)]?0x1:_0x57219a[_0x362568(0x275)]<_0x4f3bac[_0x362568(0x275)]?-0x1:0x0),_0x1b8d3b[_0x362568(0x23a)](_0x578c60=>{const _0x22fea0=_0x362568;if(_0x578c60['name']=='output-002.log')fs[_0x22fea0(0x365)](logspath+_0x578c60['name'],logspath+'output-003.log');if(_0x578c60[_0x22fea0(0x275)]==_0x22fea0(0x36c))fs[_0x22fea0(0x365)](logspath+_0x578c60[_0x22fea0(0x275)],logspath+_0x22fea0(0x213));_0x578c60['name']==_0x22fea0(0x331)&&(fs[_0x22fea0(0x365)](logspath+_0x578c60[_0x22fea0(0x275)],logspath+_0x22fea0(0x36c)),fs['writeFileSync'](logspath+_0x578c60[_0x22fea0(0x275)],''));});}}async function zipFiles(_0x184eb6){const _0x134bd4=_0x4b1b45;let _0x5b2717;if(_0x184eb6==_0x134bd4(0x2a3))_0x5b2717=logspath;if(_0x184eb6=='backup')_0x5b2717=configpath;if(_0x184eb6==_0x134bd4(0x292))_0x5b2717=configpath;let _0x136ac8=fs[_0x134bd4(0x302)](_0x5b2717,{'withFileTypes':!![]});const _0x282d1a=new require(_0x134bd4(0x2b9))();_0x136ac8[_0x134bd4(0x23a)](_0x444c15=>{const _0x5b21f5=_0x134bd4;if(!_0x444c15['isDirectory']()){let _0x15bb11=fs[_0x5b21f5(0x1e5)](_0x5b2717+_0x444c15[_0x5b21f5(0x275)]);if(_0x184eb6=='backup'){const _0x4d4053=/^bot-[0-9]{3}-config.json$/,_0x442522=_0x4d4053[_0x5b21f5(0x314)](_0x444c15[_0x5b21f5(0x275)]);if(_0x442522){const _0x14dc23=JSON['parse'](_0x15bb11);_0x14dc23['bot'][0x0]&&(_0x14dc23[_0x5b21f5(0x286)][0x0][_0x5b21f5(0x1eb)]=_0x5b21f5(0x235),_0x14dc23['bot'][0x0][_0x5b21f5(0x2fc)]=_0x5b21f5(0x235)),_0x15bb11=JSON[_0x5b21f5(0x1c0)](_0x14dc23,null,0x2);}if(_0x444c15[_0x5b21f5(0x275)]==_0x5b21f5(0x322)){const _0x39d764=JSON[_0x5b21f5(0x305)](_0x15bb11);if(_0x39d764[_0x5b21f5(0x341)][_0x5b21f5(0x30f)])_0x39d764[_0x5b21f5(0x341)][_0x5b21f5(0x30f)]=![];if(_0x39d764['settings'][_0x5b21f5(0x22c)])_0x39d764[_0x5b21f5(0x341)][_0x5b21f5(0x22c)]='***';if(_0x39d764[_0x5b21f5(0x341)]['telegramToken'])_0x39d764[_0x5b21f5(0x341)][_0x5b21f5(0x280)]=_0x5b21f5(0x235);if(_0x39d764['settings'][_0x5b21f5(0x2ff)])_0x39d764[_0x5b21f5(0x341)]['telegramChatId']=null;_0x15bb11=JSON[_0x5b21f5(0x1c0)](_0x39d764,null,0x2);}if(_0x444c15[_0x5b21f5(0x275)]!='bb-secure.json')_0x282d1a[_0x5b21f5(0x330)](_0x444c15[_0x5b21f5(0x275)],_0x15bb11);}else _0x282d1a['file'](_0x444c15[_0x5b21f5(0x275)],_0x15bb11);}});const _0x2fccee=_0x282d1a[_0x134bd4(0x23c)]({'base64':![],'compression':_0x134bd4(0x1d1)});fs[_0x134bd4(0x36b)](zippath+(_0x184eb6+_0x134bd4(0x2f1)),_0x2fccee,_0x134bd4(0x22a));}async function unzipFile(_0x2522ad,_0xdd0977){const _0x14c34d=_0x4b1b45;fs[_0x14c34d(0x302)](configpath,{'withFileTypes':!![]})['forEach'](_0x2b154c=>{const _0x1a030a=_0x14c34d;if(!_0x2b154c[_0x1a030a(0x2de)]())fs[_0x1a030a(0x285)](configpath+_0x2b154c[_0x1a030a(0x275)]);});const _0x3694dc=fs[_0x14c34d(0x1e5)](_0x2522ad+_0xdd0977,_0x14c34d(0x22a)),_0x9b79d8=new require(_0x14c34d(0x2b9))(_0x3694dc,{'base64':![],'checkCRC32':!![]});Object[_0x14c34d(0x36f)](_0x9b79d8['files'])[_0x14c34d(0x23a)](_0x124dcd=>{const _0xf8c59=_0x14c34d,_0x3be3f3=_0x9b79d8['files'][_0x124dcd];fs['writeFileSync'](configpath+_0x3be3f3[_0xf8c59(0x275)],_0x3be3f3['_data']);}),fs[_0x14c34d(0x302)](temppath,{'withFileTypes':!![]})[_0x14c34d(0x23a)](_0x2926c5=>{const _0x36d5ec=_0x14c34d;if(!_0x2926c5[_0x36d5ec(0x2de)]())fs['rmSync'](temppath+_0x2926c5[_0x36d5ec(0x275)]);}),logger['debug']('Backup\x20file\x20unzipped\x20and\x20stored'),process['send']({'restore':!![]},_0x39dae5=>{});}async function getPublicIp(){const _0x49a987=_0x4b1b45;try{const _0xc5d6eb=await axios['get'](_0x49a987(0x1f0));publicip=_0xc5d6eb[_0x49a987(0x25e)]['ip'];}catch(_0x28cba0){}}async function triggerAnalytics(){const _0x66849e=_0x4b1b45;if(!publicip)await getPublicIp();const _0x5b07c8=getBotsWithMode();let _0x414d66=0x0;_0x5b07c8[_0x66849e(0x23a)](_0xb6e9c4=>{const _0x4c2557=_0x66849e;if(_0xb6e9c4['status']===_0x4c2557(0x1bf))_0x414d66++;});const _0x296a2d=getBotExchanges();mixpanel[_0x66849e(0x2fb)](_0x66849e(0x257),{'distinct_id':settings[_0x66849e(0x33e)],'ip':publicip,'version':serverversion,'numbots':_0x5b07c8[_0x66849e(0x24a)],'numbotsenabled':_0x414d66,'exchanges':_0x296a2d});}async function getMessages(){const _0x14ad9c=_0x4b1b45,_0x1dd677=_0x14ad9c(0x29a),_0x598fb2=new GraphQLClient(_0x1dd677),_0x1794aa={'authorization':_0x14ad9c(0x1d8)},_0x44c95f=serverversion[_0x14ad9c(0x315)]('.'),_0x4556a9=_0x44c95f[0x0]+'.'+_0x44c95f[0x1],_0x3d0c44=Math[_0x14ad9c(0x2ba)](settings[_0x14ad9c(0x220)],settings[_0x14ad9c(0x2f3)]),_0x16202e={'last':parseInt(_0x3d0c44),'bbm':_0x4556a9},_0x3b69e5=gql`
            query getMessages($bbm: String!, $last: Int!) {
                messages(where: {
                    number_gt: $last
                    OR: [
                    {bbvReceive: "any"},
                    {bbvReceive_contains: $bbm}
                    ]
                    archived_not: true
                }, orderBy: number_ASC) {
                    id
                    number
                    bbvReceive
                    bbvNew
                    title
                    message
                    dialogWidth
                    lock
                }
            }
            `;let _0x597e7f;try{_0x597e7f=await _0x598fb2[_0x14ad9c(0x324)](_0x3b69e5,_0x16202e,_0x1794aa);}catch(_0x3a575c){}if(_0x597e7f&&_0x597e7f[_0x14ad9c(0x332)]){let _0x3b4473=settings[_0x14ad9c(0x220)];newMessages=[];for(const _0x3e1999 of _0x597e7f['messages']){newMessages[_0x14ad9c(0x2a4)](_0x3e1999);if(_0x3e1999[_0x14ad9c(0x25c)])updateSetting(_0x14ad9c(0x28e),_0x3e1999['bbvNew']);let _0x3f9ce9=_0x3e1999[_0x14ad9c(0x25c)]?serverversion>=_0x3e1999[_0x14ad9c(0x25c)]:![];if(!_0x3f9ce9&&_0x3e1999[_0x14ad9c(0x21e)]>_0x3b4473){if(_0x3e1999[_0x14ad9c(0x27f)]==='any'||serverversion[_0x14ad9c(0x24e)](_0x3e1999[_0x14ad9c(0x27f)])){let _0x2094e0=''+_0x3e1999[_0x14ad9c(0x1fb)]+'\x0a\x0a'+_0x3e1999['message'];const _0x4c55b7=await sendTelegramMsg(toTelegramMarkdown(_0x2094e0),'Markdown');if(_0x4c55b7)_0x3b4473=_0x3e1999[_0x14ad9c(0x21e)];}}}updateAvailable=isNewerVersion(settings[_0x14ad9c(0x28e)],serverversion),updateSetting(_0x14ad9c(0x220),_0x3b4473),emitMessages();}}function emitMessages(){const _0x9baca7=_0x4b1b45,_0x2cbf7d=settings['lastmsgemitted'];let _0x257cc2=[];newMessages['forEach'](_0x20e0b1=>{const _0x41b06f=_0x370d;_0x20e0b1[_0x41b06f(0x21e)]>_0x2cbf7d&&_0x257cc2[_0x41b06f(0x2a4)](_0x20e0b1);}),_0x257cc2[_0x9baca7(0x24a)]>0x0&&getAllClients()['forEach'](_0x56c8ba=>{const _0x4d74fd=_0x9baca7;getSocket(_0x56c8ba['id'])[_0x4d74fd(0x313)](_0x4d74fd(0x2cc),_0x257cc2);});}function confirmMessage(_0x5aab11){const _0x4fcb0a=_0x4b1b45;updateSetting(_0x4fcb0a(0x2f3),Number(_0x5aab11));}function isNewerVersion(_0x3d99a8,_0x572a70){const _0x144639=_0x4b1b45,_0x53faa5=_0x572a70[_0x144639(0x315)]('.'),_0x5e28e0=_0x3d99a8[_0x144639(0x315)]('.');for(var _0x58329c=0x0;_0x58329c<_0x5e28e0['length'];_0x58329c++){const _0x32c0f6=~~_0x5e28e0[_0x58329c],_0x2c75ac=~~_0x53faa5[_0x58329c];if(_0x32c0f6>_0x2c75ac)return!![];if(_0x32c0f6<_0x2c75ac)return![];}return![];}function toTelegramMarkdown(_0x43b452){const _0x2d4237=_0x4b1b45,_0x1dea0f=/(^|[^\*])\*{1}([^\*.]+?)\*{1}([^\*]|$)/gim,_0x5145c6=/\*{2}(.+?)\*{2}/gim;return _0x43b452=_0x43b452[_0x2d4237(0x242)](_0x1dea0f,'$1_$2_$3')[_0x2d4237(0x242)](_0x5145c6,_0x2d4237(0x370)),_0x43b452;}async function validateConfigFile(){const _0x263afd=_0x4b1b45,_0x76b4e7=dbConfig[_0x263afd(0x31d)](_0x263afd(0x224))[_0x263afd(0x2a1)](_0x263afd(0x2a6))[_0x263afd(0x2ea)]()||[];if(_0x76b4e7[_0x263afd(0x24a)]==0x0){let _0x5325ac=0x0,_0x34d4cf=[];const _0x2d9e57=/^bot-([0-9]{3})-config.json$/,_0x16b733=fs[_0x263afd(0x302)](configpath);_0x16b733[_0x263afd(0x23a)](_0x2267db=>{const _0x15fa1e=_0x263afd,_0x4ff880=_0x2d9e57[_0x15fa1e(0x1fd)](_0x2267db);if(_0x4ff880){const _0x2a4990=_0x4ff880[0x1];let _0xa9dfd1=getBotAttributes(_0x2a4990);_0x34d4cf[_0x15fa1e(0x2a4)]({'botID':_0x2a4990,'botname':_0xa9dfd1[_0x15fa1e(0x369)],'status':_0x15fa1e(0x22d),'live':_0x15fa1e(0x325)}),_0x5325ac++;}}),_0x5325ac!=0x0&&(dbConfig[_0x263afd(0x31d)](_0x263afd(0x224))[_0x263afd(0x2ac)](_0x34d4cf)[_0x263afd(0x21c)](),config=_0x34d4cf,restoredConfigFile=_0x5325ac);}}async function restoreConfigNotify(_0x467cd6){const _0x5568eb=_0x4b1b45;let _0x4db606;if(restoredConfigFile==0x1)_0x4db606=_0x5568eb(0x353);else _0x4db606='NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bots\x20are\x20disabled\x20by\x20default\x20-\x20enable\x20those\x20you\x20want\x20to\x20run';if(_0x467cd6)io['to'](_0x5568eb(0x1ee))[_0x5568eb(0x313)](_0x5568eb(0x1f6),_0x4db606);else{logger[_0x5568eb(0x231)](_0x5568eb(0x26e)),logger[_0x5568eb(0x231)](_0x4db606),logger['simple'](_0x5568eb(0x26e)),logger[_0x5568eb(0x231)]('');if(tgBot&&settings[_0x5568eb(0x2ff)]&&settings[_0x5568eb(0x2cb)]!=_0x5568eb(0x2ed))tgBot[_0x5568eb(0x1fa)](settings[_0x5568eb(0x2ff)],'Bot\x20Mgr\x20>\x20'+_0x4db606)[_0x5568eb(0x299)](_0x2fe974=>{telegramError(_0x2fe974);});}}function validateCredentials(_0x3a8893,_0x5cef94){const _0x3ceb05=_0x4b1b45;if(_0x3a8893['username']==settings[_0x3ceb05(0x282)]&&bcrypt[_0x3ceb05(0x318)](_0x3a8893[_0x3ceb05(0x291)],settings[_0x3ceb05(0x22c)])){if(settings[_0x3ceb05(0x267)])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x1c1097=generateLoginToken(_0x5cef94);return{'allow':!![],'reason':_0x3ceb05(0x251),'token':_0x1c1097};}}else return{'allow':![],'reason':_0x3ceb05(0x33a),'token':null};}function refreshToken(_0x87f496){const _0x1706b7=_0x4b1b45,_0x17a90f=generateLoginToken(_0x87f496);return{'allow':!![],'reason':_0x1706b7(0x251),'token':_0x17a90f};}function validateAccess(_0x5cfd3f,_0x37c3d3,_0x202989){const _0x4dff77=_0x4b1b45,_0x15d832=_0x202989?_0x202989:devices[_0x37c3d3]['ip'];let _0x37e820;const _0x52ab35=_0x53a9b6=>{const _0x22690a=_0x370d;if(settings['loginRequired']){if(settings[_0x22690a(0x267)]){if(telegram2FaApproved(_0x37c3d3)){const _0xc2a14d=generateLoginToken(_0x37c3d3);return{'allow':!![],'reason':_0x22690a(0x32e),'token':_0xc2a14d};}else return{'allow':![],'reason':_0x22690a(0x1c4),'token':null};}else return _0x37e820=validToken(_0x53a9b6,_0x37c3d3),_0x37e820['hasOwnProperty'](_0x22690a(0x345))?{'allow':!![],'reason':_0x22690a(0x2d8),'token':_0x53a9b6}:{'allow':![],'reason':_0x22690a(0x1c4),'token':null};}else return{'allow':!![],'reason':'login\x20not\x20required','token':null};};if(settings['whitelistEnabled']){let _0x560de2=[...settings[_0x4dff77(0x311)],_0x4dff77(0x372),_0x4dff77(0x271),'127.0.0.1'];if(_0x560de2[_0x4dff77(0x23b)](_0x15d832))return _0x52ab35(_0x5cfd3f);else{_0x37e820=validToken(_0x5cfd3f,_0x37c3d3);if(_0x37e820[_0x4dff77(0x333)](_0x4dff77(0x345)))return _0x52ab35(_0x5cfd3f);else{if(telegramIpApproved(_0x37c3d3)){const _0x3c24fa=generateToken(_0x37c3d3);return _0x37e820=_0x52ab35(_0x5cfd3f),_0x37e820[_0x4dff77(0x2fa)]?{'allow':!![],'reason':_0x4dff77(0x2af),'token':_0x3c24fa}:_0x37e820;}else return settings['temporaryAccessAllowed']?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':_0x4dff77(0x2df),'token':null};}}}else return _0x52ab35(_0x5cfd3f);}function timelyDecrypt(_0x45365c,_0x460a97=!![]){const _0x3f40f3=_0x4b1b45;if(_0x45365c)try{const _0x1c34f8=crypt[_0x3f40f3(0x2a0)](secure[_0x3f40f3(0x1c2)],_0x45365c)[_0x3f40f3(0x2cc)],_0x4b7ef0=_0x1c34f8['split']('@')[0x0],_0xb69cb0=_0x1c34f8['split']('@')[0x1],_0x1da677=new Date()['getTime']();if(_0x460a97){if(_0x1da677-_0xb69cb0<maxSecretAge*0x3e8)return _0x4b7ef0;else return![];}else return _0x4b7ef0;}catch(_0x173483){return![];}else return![];}const validToken=(_0x244820,_0x404a31)=>{const _0x1f162d=_0x4b1b45,_0x14bcc9=devices[_0x404a31]['ip'];if(!_0x244820)return{'error':_0x1f162d(0x20c)};for(let _0x1bdcad of blacklist){if(_0x1bdcad['token']==_0x244820)return{'error':_0x1f162d(0x1fe)};}let _0x46fbb9;try{_0x46fbb9=jwt[_0x1f162d(0x240)](_0x244820,secure[_0x1f162d(0x2fd)]+_0x404a31);}catch{return{'error':_0x1f162d(0x25f)};}if(!_0x46fbb9[_0x1f162d(0x333)]('clientip')&&!_0x46fbb9['hasOwnProperty']('username')||!_0x46fbb9[_0x1f162d(0x333)](_0x1f162d(0x205)))return{'error':_0x1f162d(0x283)};if(!_0x46fbb9[_0x1f162d(0x333)](_0x1f162d(0x32f))&&_0x46fbb9[_0x1f162d(0x333)](_0x1f162d(0x24f))){const {clientip:_0x4e5cf3}=_0x46fbb9;return _0x14bcc9==_0x4e5cf3?{'success':_0x1f162d(0x364)}:{'error':_0x1f162d(0x34c)};}else{if(_0x46fbb9[_0x1f162d(0x333)](_0x1f162d(0x32f))&&_0x46fbb9['hasOwnProperty']('clientip')){const {username:_0xb3886f,clientip:_0x3b303e}=_0x46fbb9;return settings[_0x1f162d(0x282)]==_0xb3886f&&_0x14bcc9==_0x3b303e?{'success':_0x1f162d(0x364)}:{'error':_0x1f162d(0x268)};}}},generateLoginToken=_0x114ca3=>{const _0xd9efa0=_0x4b1b45;if(_0x114ca3){const _0x15ce44=devices[_0x114ca3]['ip'];return jwt[_0xd9efa0(0x260)]({'username':settings[_0xd9efa0(0x282)],'clientip':_0x15ce44},secure[_0xd9efa0(0x2fd)]+_0x114ca3,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x35e683=>{const _0x521d24=_0x4b1b45;if(_0x35e683){const _0x5c77a1=devices[_0x35e683]['ip'];return jwt[_0x521d24(0x260)]({'clientip':_0x5c77a1},secure[_0x521d24(0x2fd)]+_0x35e683,{'expiresIn':devices[_0x35e683]['telegramIpApproval'][_0x521d24(0x20f)]*0x3c});}else return![];},telegramIpApproved=_0x5ba249=>{const _0x446375=_0x4b1b45;let _0x863a8a=![];return devices[_0x5ba249][_0x446375(0x2d4)]&&devices[_0x5ba249][_0x446375(0x2d4)][_0x446375(0x20f)]!=_0x446375(0x262)&&(_0x863a8a=devices[_0x5ba249][_0x446375(0x2d4)][_0x446375(0x24f)]==devices[_0x5ba249]['ip']&&new Date()['getTime']()-devices[_0x5ba249][_0x446375(0x2d4)][_0x446375(0x1fc)]<devices[_0x5ba249][_0x446375(0x2d4)][_0x446375(0x20f)]*0x3c*0x3e8),_0x863a8a;},telegram2FaApproved=_0x732763=>{const _0x5e7572=_0x4b1b45;let _0x5c2f2b=![];return devices[_0x732763][_0x5e7572(0x2da)]&&devices[_0x732763][_0x5e7572(0x2da)]['expiry']!=_0x5e7572(0x262)&&(_0x5c2f2b=devices[_0x732763]['telegram2FaApproval'][_0x5e7572(0x24f)]==devices[_0x732763]['ip']&&new Date()[_0x5e7572(0x28f)]()-devices[_0x732763][_0x5e7572(0x2da)][_0x5e7572(0x1fc)]<devices[_0x732763]['telegram2FaApproval'][_0x5e7572(0x20f)]*0x3c*0x3e8),_0x5c2f2b;},normalizeIP=_0x4e856b=>{const _0x39b2fc=_0x4b1b45;let _0x168338=null,_0x12dfb1=null;if(ipaddr[_0x39b2fc(0x1cf)](_0x4e856b)){const _0x25b6f9=ipaddr[_0x39b2fc(0x305)](_0x4e856b);_0x25b6f9['kind']()===_0x39b2fc(0x2ae)?(_0x25b6f9[_0x39b2fc(0x1b9)]()&&(_0x168338=_0x25b6f9[_0x39b2fc(0x1b8)]()[_0x39b2fc(0x368)]()),_0x12dfb1=_0x25b6f9[_0x39b2fc(0x368)]()):(_0x168338=_0x25b6f9[_0x39b2fc(0x368)](),_0x12dfb1=_0x25b6f9[_0x39b2fc(0x1e4)]()[_0x39b2fc(0x368)]());}return{'show':_0x168338?_0x168338:_0x12dfb1,'store':_0x12dfb1};};function _0x1a24(){const _0x26d9a3=['entries','from','File\x20uploaded','Bearer\x20eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U','/help\x20-\x20show\x20available\x20commands\x0a','Ok,\x20will\x20send\x20order\x20notifications\x20only','init','status','2FA\x20required','connected','port','new-disabled','backup-full-001.zip','updatebotmanager','lowdb/adapters/FileSync','toIPv4MappedAddress','readFileSync','argv','connection','getDate','exit','access','apiKey','answerCallbackQuery','/:bot/support','botmanager','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','https://api.ipify.org?format=json','770328COHHGg','getStartingBalances','static','hybrid-crypto-js','sha256','notification','env','match','telegramEnabled','sendMessage','title','timestamp','exec','Token\x20blacklisted','30\x20min','filter','backup-full-000.zip','pidRefreshToken','/names\x20-\x20show\x20bot\x20names\x0a','logged\x20out','exp','bot.js','Unauthorized\x20attempt\x20to\x20store\x20configuration','telegramUsername','publicKey','/off\x20-\x20stop\x20bot(s)\x0a','Notifications\x20enabled','No\x20authentication\x20token','enabled\x20Bot\x20','pidExpireLogin','expiry','place-order','3000','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','output-002.log','warning','then','log','get-starting-balances','/:bot/performance','post','/reinstall\x20-\x20reinstall\x20Balance\x20Bot\x0a','kill','write','logout','number','Notifications\x20types:\x20','lastmsgtelegram','************','secure','getMonth','bots','-events.json','mixpanel','function','polling_error','cancelLoading','binary','Password\x20has\x20been\x20reset\x20to:\x20','bbPassword','disabled','manual','backup-full-005.zip','/upload-backup','simple','slice','Bot\x20Mgr\x20>\x20','-results.json','***','Ok,\x20reinstalling\x20Balance\x20Bot\x20canceled','storeConfiguration','inherit','timeshift','forEach','includes','generate','version','uuid-random','full','verify','Unauthorized\x20attempt\x20to\x20confirm\x20message','replace','Unauthorized\x20attempt\x20to\x20show\x20configuration','fork','restore-backup-file','token','auth','delete-bot','axios','length','sockets','debug','login','startsWith','clientip','emitHistory','login\x20token\x20generated','getUTCHours','util','hex','2FA\x20login\x20required','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','Server','Bot\x20Mgr\x20>\x20toggling\x20Bot\x20','All','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','\x20only\x0a','bbvNew','confirm-message','data','Invalid\x20authentication\x20token\x20(1)','sign','ipaddr.js','reject','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','temporary\x20access\x20timeout','1000','settings.','f2aRequired','Invalid\x20username\x20or\x20IP\x20address','Backup\x20file\x20uploaded','Ok,\x20consider\x20updating\x20Balance\x20Bot\x20later','Error:\x20Invalid\x20argument\x20','max','yargs/yargs','-----------------------------------------------------------------------------------','headless','/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a','::ffff:127.0.0.1','\x20(1)','stop','zip/','name','telegram','use','statSync','remove','Login\x20accepted','storeHeadless','Unauthorized\x20attempt\x20to\x20reinstall\x20Balance\x20Bot','path','getHours','bbvReceive','telegramToken',':\x20Bot\x20Mgr\x20>\x20[DEBUG]\x20','bbUsername','Invalid\x20authentication\x20token\x20(2)','user','rmSync','bot','format','child_process','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','bb-secure.json','get-messages','78498JkrdUR','callback_query','latestversion','getTime','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','password','backup-full','map','bb/','defaults','Bot\x20','Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?','Your\x20installation\x20is\x20already\x20up\x20to\x20date','catch','https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master','accept','onText',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','Please\x20confirm\x20restoring\x20in\x20your\x20Telegram\x20bot','set','decrypt','sortBy','event','logs','push','uuid','botID','auto','\x20(2)','backup-full-004.zip','944JmCzmE','restarting\x20Bot\x20','assign','search','ipv6','temporary\x20token\x20generated','(((.+)+)+)+$','update-bb','Alerts','logs/','-config.json','deleted\x20Bot\x20','28suQPIQ','download','show-config','node-zip','min','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','RSA-OAEP','http','express-fileupload','type','bb-config.json','Unauthorized\x20attempt\x20to\x20get\x20messages','Unauthorized\x20attempt\x20to\x20delete\x20bot','new','date-fns','disconnect','Are\x20you\x20sure\x20you\x20want\x20to\x20reinstall\x20Balance\x20Bot\x20now?','backup-full-002.zip','encryptedUuid','headers','socket','telegramEvents','message','1870674YKoTKd','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','temp/','backup-full-003.zip','Login\x20rejected','211865iDFEIQ','update','telegramIpApproval','/output-000.log','HTML','store-configuration','login\x20token\x20valid','getPortfolio','telegram2FaApproval','Unauthorized\x20attempt\x20to\x20delete\x20alerts','error\x20while\x20deleting\x20config\x20files:\x20','add-bot','isDirectory','temporary\x20access\x20not\x20allowed','15\x20min','Restore\x20backup\x20file\x20','reset-password','temporary\x20access\x20rejected','clients','once','getMinutes','express','chat','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(2)','value','files','store-settings','orders','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','backup/','158754BWxTBL','.zip','reload','lastmsgemitted','</b>\x20?','socket.io','/:bot/coins','sort','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','mkdirSync','allow','track','apiSecret','secret','host','telegramChatId','store','args','readdirSync','show','node-telegram-bot-api','parse','bot-','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','All\x20bots','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','jsonwebtoken','alerts','Allow\x20login\x20from\x20IP\x20address\x20<b>','\x20mode','removeListener','loginRequired','toggleBotMode','whitelist','backup-full.zip','emit','test','split','Unauthorized\x20attempt\x20to\x20update\x20settings','-performance.json','compareSync','handshake','sendPortfolioTelegram','placeOrder','build','get','\x20minutes','/download/:type','ipc','No\x20bots\x20running\x20right\x20now','bb-settings.json','Are\x20you\x20sure\x20you\x20want\x20to\x20update\x20Balance\x20Bot\x20now?','request','stopped','tkn','All\x20bots\x20running\x20right\x20now','restart','send','reason','NTBA_FIX_319','unlinkSync','Unauthorized\x20attempt\x20to\x20get\x20portfolio','2FA\x20login\x20token\x20generated','username','file','output-000.log','messages','hasOwnProperty','getSeconds','listen','Unauthorized\x20attempt\x20to\x20update\x20bot','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','existsSync','Starting\x20Balance\x20Bot\x20reinstallation','invalid\x20credentials','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','Notifications\x20disabled','hashSync','userid','build2','Notifications\x20disabled\x0a','settings','randomFillSync','idling\x20bot\x20\x20\x20|\x20Bot\x20','running','success','blacklist','1221944ESbIkS','/:bot/configuration','all','update-bot','apply','Invalid\x20IP\x20address','live','168uFFURF','showname','For\x20which\x20bot\x20do\x20you\x20want\x20the\x20portfolio?','\x20>\x20','getFullYear','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bot\x20is\x20disabled\x20by\x20default\x20-\x20enable\x20if\x20you\x20want\x20it\x20to\x20run','remoteAddress','createWriteStream','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a',':\x20Bot\x20Mgr\x20>\x20','deleteHistoryAlerts','constructor','/:bot','Invalid\x20Telegram\x20token','bcryptjs','telegrammsg','/update\x20-\x20update\x20Balance\x20Bot\x0a','sendFile','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','backupfile','mode','Unauthorized\x20attempt\x20to\x20get\x20logs','User\x20has\x20been\x20validated','copyFileSync','add','reinstall-bb','toString','botname','conn','writeFileSync','output-001.log','find','get-logs','keys','*$1*','You\x20can\x20use\x20the\x20following\x20commands:\x0a','::1','index.html','started','0.0.0','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','backup','join','Unauthorized\x20attempt\x20to\x20download\x20','reinstall','Unauthorized\x20attempt\x20to\x20log\x20out','/:bot/portfolio','toIPv4Address','isIPv4MappedAddress','referer','cancel-loading','delete-alerts','get-backup-files','Your\x20installation\x20does\x20not\x20support\x20updating\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20update','enabled','stringify','padStart','privateKey','SIGINT','login\x20required','mtime','generateKeyPairAsync','yes','Temporary\x20access\x20rejected',',\x20must\x20be\x20a\x204\x20digit\x20number','5389930pJrsdm','/portfolio\x20-\x20show\x20bot\x20portfolio\x0a','server','Do\x20you\x20want\x20to\x20restore\x20your\x20installation?\x20NOTE:\x20this\x20will\x20replace\x20your\x20current\x20settings\x20and\x20bot(s)','access\x20timeout','isValid','stopPolling','DEFLATE','\x20|\x20','Access\x20enabled\x20for\x20','Yes'];_0x1a24=function(){return _0x26d9a3;};return _0x1a24();}function formatDate(_0x452706){const _0x5e6852=_0x4b1b45;return _0x452706[_0x5e6852(0x352)]()+'/'+(_0x452706[_0x5e6852(0x223)]()+0x1)[_0x5e6852(0x368)]()[_0x5e6852(0x1c1)](0x2,'0')+'/'+_0x452706[_0x5e6852(0x1e8)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x452706['getHours']()[_0x5e6852(0x368)]()['padStart'](0x2,'0')+':'+_0x452706[_0x5e6852(0x2e6)]()[_0x5e6852(0x368)]()[_0x5e6852(0x1c1)](0x2,'0')+':'+_0x452706[_0x5e6852(0x334)]()[_0x5e6852(0x368)]()[_0x5e6852(0x1c1)](0x2,'0');}function _0x370d(_0x3cec50,_0x29b3aa){const _0x188f64=_0x1a24();return _0x370d=function(_0x15f371,_0x5c3840){_0x15f371=_0x15f371-0x1b1;let _0x1a24e2=_0x188f64[_0x15f371];return _0x1a24e2;},_0x370d(_0x3cec50,_0x29b3aa);}function sleep(_0x54dcc4){return new Promise(_0x5f21be=>setTimeout(_0x5f21be,_0x54dcc4));}