const _0x54656c=_0x491c;(function(_0x4623fc,_0x4c20d2){const _0x2378e4=_0x491c,_0xd55b42=_0x4623fc();while(!![]){try{const _0x2ff75f=-parseInt(_0x2378e4(0x257))/0x1*(parseInt(_0x2378e4(0x1ea))/0x2)+-parseInt(_0x2378e4(0x2c5))/0x3*(-parseInt(_0x2378e4(0x209))/0x4)+parseInt(_0x2378e4(0x333))/0x5*(-parseInt(_0x2378e4(0x31f))/0x6)+parseInt(_0x2378e4(0x30a))/0x7+-parseInt(_0x2378e4(0x237))/0x8+parseInt(_0x2378e4(0x246))/0x9*(-parseInt(_0x2378e4(0x286))/0xa)+-parseInt(_0x2378e4(0x2ed))/0xb*(-parseInt(_0x2378e4(0x350))/0xc);if(_0x2ff75f===_0x4c20d2)break;else _0xd55b42['push'](_0xd55b42['shift']());}catch(_0x248f33){_0xd55b42['push'](_0xd55b42['shift']());}}}(_0x29da,0xa5516));const _0x467b3e=function(){let _0x1fc951=!![];return function(_0x2dec6b,_0x30dc01){const _0x5b0b31=_0x1fc951?function(){const _0x45dc7f=_0x491c;if(_0x30dc01){const _0x44a961=_0x30dc01[_0x45dc7f(0x22d)](_0x2dec6b,arguments);return _0x30dc01=null,_0x44a961;}}:function(){};return _0x1fc951=![],_0x5b0b31;};}(),_0x5a1972=_0x467b3e(this,function(){const _0x380b9a=_0x491c;return _0x5a1972['toString']()['search'](_0x380b9a(0x358))['toString']()[_0x380b9a(0x1f8)](_0x5a1972)[_0x380b9a(0x219)](_0x380b9a(0x358));});_0x5a1972();'use strict';process[_0x54656c(0x339)][_0x54656c(0x24d)]=0x1;const childProcess=require(_0x54656c(0x348)),fs=require('fs'),fns=require(_0x54656c(0x1be)),low=require(_0x54656c(0x303)),FileSync=require(_0x54656c(0x1e4)),path=require('path'),crypto=require(_0x54656c(0x2d3)),Crypt=require(_0x54656c(0x1ef))[_0x54656c(0x297)],RSA=require(_0x54656c(0x1ef))[_0x54656c(0x2f3)],bcrypt=require('bcryptjs'),jwt=require(_0x54656c(0x245)),ipaddr=require('ipaddr.js'),argv=require(_0x54656c(0x261))(process['argv']['slice'](0x2))[_0x54656c(0x373)],uuidRandom=require(_0x54656c(0x311)),TelegramBot=require(_0x54656c(0x1f1)),Mixpanel=require('mixpanel'),axios=require('axios'),{GraphQLClient,gql}=require(_0x54656c(0x27c)),util=require('util'),fileUpload=require('express-fileupload'),PORT=argv[_0x54656c(0x2b1)]||_0x54656c(0x1e0),pattern=/^[0-9]{2,4}$/;!pattern[_0x54656c(0x2e1)](PORT)&&(console[_0x54656c(0x216)]('Error:\x20Invalid\x20argument\x20'+PORT+_0x54656c(0x234)),process[_0x54656c(0x218)](0x1));const HOST=argv[_0x54656c(0x34a)]||null,userID=argv[_0x54656c(0x1ee)]||'',debugging=argv['d']||![];let bbpath='bb/',bbpath2='';const botfile=_0x54656c(0x377),configfile=_0x54656c(0x1fa),settingsfile=_0x54656c(0x27a),securefile=_0x54656c(0x298),maxBackups=0xa;let validInstallation=!![];!fs[_0x54656c(0x21a)](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+'clients'),configpath=userID?bbpath+_0x54656c(0x2c0)+userID+'/':bbpath+_0x54656c(0x2c0),configbackuppath=configpath+_0x54656c(0x32a),logspath=userID?bbpath+_0x54656c(0x310)+userID+'/':bbpath+'logs/',zippath=userID?bbpath+_0x54656c(0x28b)+userID+'/':bbpath+_0x54656c(0x28b),loggerfile=fs['createWriteStream'](logspath+_0x54656c(0x2cc),{'flags':'a'}),temppath=userID?bbpath+_0x54656c(0x2e2)+userID+'/':bbpath+_0x54656c(0x2e2);!fs['existsSync'](configpath)&&fs[_0x54656c(0x296)](configpath);!fs[_0x54656c(0x21a)](configbackuppath)&&fs['mkdirSync'](configbackuppath);!fs['existsSync'](logspath)&&fs[_0x54656c(0x296)](logspath);!fs[_0x54656c(0x21a)](zippath)&&fs[_0x54656c(0x296)](zippath);!fs['existsSync'](temppath)&&fs['mkdirSync'](temppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig['defaults']({'bots':[]})[_0x54656c(0x1eb)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings['defaults']({'settings':{'timeshift':0x0,'loginRequired':![],'bbUsername':'','bbPassword':'','f2aRequired':![],'lastmsgtelegram':0x0,'lastmsgemitted':0x0,'latestversion':_0x54656c(0x2d5)}})[_0x54656c(0x1eb)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x54656c(0x1fd)]({'secure':{},'blacklist':[]})[_0x54656c(0x1eb)]();let crypt=new Crypt({'md':_0x54656c(0x28c),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa,mixpanel=Mixpanel['init'](_0x54656c(0x288),{'host':_0x54656c(0x31c)});let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),tgBot;if(settings[_0x54656c(0x329)]&&settings[_0x54656c(0x329)]!=''&&settings[_0x54656c(0x249)]&&settings[_0x54656c(0x249)]!='')initTelegram();const logger={'screen':_0x289957=>{const _0x45bf37=_0x54656c;console[_0x45bf37(0x216)](_0x289957);},'simple':_0x498457=>{const _0x1fc167=_0x54656c;console[_0x1fc167(0x216)](_0x498457),loggerfile[_0x1fc167(0x1eb)](util[_0x1fc167(0x201)](_0x498457)+'\x0a');},'full':async _0x91ced8=>{const _0x12134d=_0x54656c,_0x2ef528=getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x91ced8;console[_0x12134d(0x216)](_0x2ef528),loggerfile['write'](util[_0x12134d(0x201)](_0x2ef528)+'\x0a');if(tgBot&&settings[_0x12134d(0x2e5)]&&settings[_0x12134d(0x2a8)]!=_0x12134d(0x259))await tgBot[_0x12134d(0x33a)](settings['telegramChatId'],_0x12134d(0x1e8)+_0x91ced8)[_0x12134d(0x2fe)](_0x3b84b4=>{telegramError(_0x3b84b4);});},'debug':async(_0x230cb3,_0xe9996='')=>{const _0x1882e5=_0x54656c,_0x175dde=getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20[DEBUG]\x20'+_0x230cb3;if(debugging)console['log'](_0x175dde);loggerfile[_0x1882e5(0x1eb)](util[_0x1882e5(0x201)](_0x175dde)+'\x0a');if(_0xe9996){if(debugging)console[_0x1882e5(0x216)](_0xe9996);loggerfile[_0x1882e5(0x1eb)](util[_0x1882e5(0x201)](_0xe9996)+'\x0a');}}};process['on']('uncaughtException',function(_0x411f7b){const _0x22c3b9=_0x54656c;logger[_0x22c3b9(0x359)](_0x411f7b);});function _0x491c(_0x587a4a,_0x16ddc2){const _0x2b3e02=_0x29da();return _0x491c=function(_0x5a1972,_0x467b3e){_0x5a1972=_0x5a1972-0x1be;let _0x29da43=_0x2b3e02[_0x5a1972];return _0x29da43;},_0x491c(_0x587a4a,_0x16ddc2);}let restoredConfigFile=0x0,newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x54656c(0x25e))[_0x54656c(0x2a0)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![],publicip,newMessages=[],updateAvailable=![];const express=require(_0x54656c(0x30b)),app=express(),http=require(_0x54656c(0x2ee))[_0x54656c(0x260)](app);app[_0x54656c(0x349)](fileUpload({'useTempFiles':!![]})),app['get'](_0x54656c(0x268),async(_0x1545c7,_0x2a7762)=>{const _0x555057=_0x54656c,_0x1bdaee=_0x1545c7[_0x555057(0x2db)]['type'],_0x471f51=getClientsWithBotID(_0x555057(0x207)),_0x39cbca=_0x1545c7['headers'][_0x555057(0x33b)],_0x55be99=timelyDecrypt(_0x39cbca,![]),_0x4efdc2=_0x471f51['find'](_0x446650=>_0x446650[_0x555057(0x33b)]==_0x55be99);if(_0x4efdc2){const _0x3e6666=normalizeIP(_0x1545c7[_0x555057(0x2b2)][_0x555057(0x27e)])[_0x555057(0x1cf)],_0x39883f=_0x1545c7['headers'][_0x555057(0x302)];if(validateAccess(_0x39883f,_0x55be99,_0x3e6666)[_0x555057(0x1c9)])_0x1bdaee==_0x555057(0x233)&&await backupConfigFiles(),await zipFiles(_0x1bdaee),_0x2a7762['download'](zippath+(_0x1bdaee+_0x555057(0x241)),_0x52d8a6=>{const _0x289f03=_0x555057;_0x52d8a6&&(logger[_0x289f03(0x342)]('Failed\x20to\x20download\x20'+_0x1bdaee),logger[_0x289f03(0x359)](_0x52d8a6));});else logger[_0x555057(0x342)](_0x555057(0x205)+_0x1bdaee+'\x20(1)');}else logger['full']('Unauthorized\x20attempt\x20to\x20download\x20'+_0x1bdaee+_0x555057(0x2a6));}),app[_0x54656c(0x2bb)](_0x54656c(0x263),async(_0x795f76,_0x151fcb)=>{const _0x46c50d=_0x54656c,_0x2d5748=getClientsWithBotID(_0x46c50d(0x207)),_0x58375d=_0x795f76[_0x46c50d(0x277)][_0x46c50d(0x33b)],_0x140d53=timelyDecrypt(_0x58375d,![]),_0x302a6a=_0x2d5748[_0x46c50d(0x28e)](_0x297baf=>_0x297baf[_0x46c50d(0x33b)]==_0x140d53);logger['debug'](_0x46c50d(0x1f9));if(_0x302a6a){const _0x25f1d3=normalizeIP(_0x795f76[_0x46c50d(0x2b2)][_0x46c50d(0x27e)])[_0x46c50d(0x1cf)],_0x1e457d=_0x795f76[_0x46c50d(0x277)]['tkn'];if(validateAccess(_0x1e457d,_0x140d53,_0x25f1d3)[_0x46c50d(0x1c9)]){if(_0x795f76[_0x46c50d(0x308)]){const _0xabb10d=_0x795f76[_0x46c50d(0x308)]['backupfile'];await _0xabb10d['mv'](temppath+_0xabb10d['name']),_0x151fcb[_0x46c50d(0x2e4)]({'status':!![],'message':'File\x20uploaded'});const _0x133d24=getBotsWithMode();_0x133d24[_0x46c50d(0x2e9)]>0x0?confirmRestore(temppath,_0xabb10d['name']):unzipFile(temppath,_0xabb10d[_0x46c50d(0x1da)]);}}else logger['full'](_0x46c50d(0x270));}else logger[_0x46c50d(0x342)]('Unauthorized\x20attempt\x20to\x20upload\x20file\x20(2)');}),app[_0x54656c(0x349)](express[_0x54656c(0x2c2)](path[_0x54656c(0x360)](__dirname,bbpath2,'build2'))),app[_0x54656c(0x349)](express['static'](path[_0x54656c(0x360)](__dirname,bbpath2,_0x54656c(0x2c3)))),app[_0x54656c(0x37c)]('/',function(_0x3658f9,_0x2aa2df){const _0x435031=_0x54656c;_0x2aa2df[_0x435031(0x20a)](path[_0x435031(0x360)](__dirname,bbpath2,_0x435031(0x27b),_0x435031(0x215)));}),app[_0x54656c(0x37c)]('/:bot',function(_0x343cb6,_0x12cfd8){const _0x44674d=_0x54656c;_0x12cfd8[_0x44674d(0x20a)](path['join'](__dirname,bbpath2,_0x44674d(0x2c3),'index.html'));}),app['get'](_0x54656c(0x1db),(_0x2a0e3b,_0x4c08b5)=>{const _0x4750eb=_0x54656c;_0x4c08b5[_0x4750eb(0x20a)](path[_0x4750eb(0x360)](__dirname,bbpath2,_0x4750eb(0x2c3),'index.html'));}),app['get'](_0x54656c(0x262),(_0x373690,_0x5f575a)=>{const _0x24b346=_0x54656c;_0x5f575a[_0x24b346(0x20a)](path['join'](__dirname,bbpath2,_0x24b346(0x2c3),_0x24b346(0x215)));}),app[_0x54656c(0x37c)](_0x54656c(0x20f),(_0x5e3493,_0x5aa922)=>{const _0x33040f=_0x54656c;_0x5aa922['sendFile'](path[_0x33040f(0x360)](__dirname,bbpath2,_0x33040f(0x2c3),_0x33040f(0x215)));}),app[_0x54656c(0x37c)](_0x54656c(0x29e),(_0x1156a6,_0x439b55)=>{const _0x4ad508=_0x54656c;_0x439b55[_0x4ad508(0x20a)](path[_0x4ad508(0x360)](__dirname,bbpath2,_0x4ad508(0x2c3),_0x4ad508(0x215)));}),app[_0x54656c(0x37c)](_0x54656c(0x269),(_0xe8e372,_0x3a06a3)=>{const _0x44bbab=_0x54656c;_0x3a06a3[_0x44bbab(0x20a)](path[_0x44bbab(0x360)](__dirname,bbpath2,_0x44bbab(0x2c3),_0x44bbab(0x215)));}),app[_0x54656c(0x37c)]('/:bot/support',(_0x409174,_0x51d88a)=>{const _0x1aa597=_0x54656c;_0x51d88a[_0x1aa597(0x20a)](path['join'](__dirname,bbpath2,_0x1aa597(0x2c3),_0x1aa597(0x215)));});if(HOST)http[_0x54656c(0x26f)](PORT,HOST);else http[_0x54656c(0x26f)](PORT);const io=require(_0x54656c(0x28d))(http,{});init();async function init(){await validateConfigFile(),await initUser(),await initSecure(),oneTimeMigration(),cleanBlacklist(),initStates(),await startServer();if(restoredConfigFile)restoreConfigNotify(![]);startSocket(),startScheduler(),triggerAnalytics(),getMessages(),reloadBotManager();}async function startServer(){const _0x5e51d7=_0x54656c;logger['simple'](''),logger[_0x5e51d7(0x359)]('-----------------------------------------------------------------------------------'),await logger[_0x5e51d7(0x342)](_0x5e51d7(0x2d2)+PORT),logger['simple'](_0x5e51d7(0x243));if(config[_0x5e51d7(0x2e9)]!=0x0)for(const _0x363e9e of config){if(_0x363e9e['status']==_0x5e51d7(0x23d)||_0x363e9e[_0x5e51d7(0x1e1)]==_0x5e51d7(0x355))await logger[_0x5e51d7(0x342)](_0x5e51d7(0x2ff)+_0x363e9e[_0x5e51d7(0x2ad)]+'\x20|\x20'+_0x363e9e[_0x5e51d7(0x2cf)]),startBot([_0x363e9e['botID'],userID],{'cwd':bbpath},function(_0x5d4f56){const _0x2d1f52=_0x5e51d7;if(_0x5d4f56)logger[_0x2d1f52(0x342)](_0x5d4f56);});else(_0x363e9e['status']==_0x5e51d7(0x347)||_0x363e9e[_0x5e51d7(0x1e1)]==_0x5e51d7(0x2e6))&&await logger[_0x5e51d7(0x342)]('idling\x20bot\x20\x20\x20|\x20Bot\x20'+_0x363e9e[_0x5e51d7(0x2ad)]+'\x20|\x20'+_0x363e9e['botname']);}else!newBot&&logger[_0x5e51d7(0x359)](_0x5e51d7(0x29b));if(newBot)addBot();logger[_0x5e51d7(0x359)]('-----------------------------------------------------------------------------------'),logger[_0x5e51d7(0x359)]('');}function startSocket(){const _0x106786=_0x54656c;io['on'](_0x106786(0x376),_0x18836b=>{const _0x50e90d=_0x106786;let _0x4d2035,_0x562507,_0x3869e6,_0x1c8b85,_0xa27b28;const _0x3ea92e=_0x18836b[_0x50e90d(0x365)]['headers'][_0x50e90d(0x23c)];_0x562507=_0x3ea92e[_0x50e90d(0x2f2)](/bot[0-9]{3}/);if(_0x562507)_0x3869e6=_0x562507[0x0][_0x50e90d(0x2f2)](/[0-9]{3}/);if(_0x3869e6)_0x4d2035=_0x3869e6[0x0];else _0x4d2035=_0x50e90d(0x207);const _0x47d3ec=_0x18836b[_0x50e90d(0x365)][_0x50e90d(0x2a4)][_0x50e90d(0x30e)];if(!_0x47d3ec)_0x18836b[_0x50e90d(0x223)](_0x50e90d(0x1e1),{'publicKey':secure['publicKey']});else{_0x1c8b85=timelyDecrypt(_0x47d3ec,![]);if(!_0x1c8b85)_0x18836b[_0x50e90d(0x223)](_0x50e90d(0x1e1),{'publicKey':secure['publicKey']});else{_0xa27b28=normalizeIP(_0x18836b[_0x50e90d(0x202)][_0x50e90d(0x27e)])[_0x50e90d(0x1cf)];if(!devices[_0x1c8b85])devices[_0x1c8b85]={'uuid':_0x1c8b85,'access':{'token':null}};devices[_0x1c8b85]['ip']=_0xa27b28;const _0x280bc6=addClient(_0x18836b['id'],_0x1c8b85,_0x4d2035);setAccess(_0x280bc6),emitMessages(),_0x18836b['on'](_0x50e90d(0x363),_0x56ce4b=>{const _0x39a234=_0x50e90d,_0x1509da=timelyDecrypt(_0x56ce4b[_0x39a234(0x322)]);if(_0x1509da){_0x56ce4b={'username':_0x56ce4b[_0x39a234(0x226)],'password':_0x1509da},devices[_0x1c8b85][_0x39a234(0x276)]=validateCredentials(_0x56ce4b,_0x1c8b85);if(devices[_0x1c8b85][_0x39a234(0x276)]['allow']==![]&&devices[_0x1c8b85][_0x39a234(0x276)][_0x39a234(0x33e)]==_0x39a234(0x330))_0x18836b['emit'](_0x39a234(0x1e1),{'access':devices[_0x1c8b85]['access']}),loginAccess2FA(_0x1c8b85,_0xa27b28);else{if(devices[_0x1c8b85][_0x39a234(0x276)][_0x39a234(0x1c9)]==![]&&devices[_0x1c8b85][_0x39a234(0x276)][_0x39a234(0x33e)]==_0x39a234(0x2d9))_0x18836b[_0x39a234(0x223)](_0x39a234(0x1e1),{'access':devices[_0x1c8b85][_0x39a234(0x276)]});else devices[_0x1c8b85][_0x39a234(0x276)][_0x39a234(0x1c9)]&&devices[_0x1c8b85]['access'][_0x39a234(0x33e)]==_0x39a234(0x210)&&(getClientsWithUuid(_0x1c8b85)['forEach'](_0x1f9315=>{setAccess(_0x1f9315);}),setTokenRefresh(_0x1c8b85),setSessionTimeout('login',_0x1c8b85));}}else logger[_0x39a234(0x342)](_0x39a234(0x2dd));}),_0x18836b['on'](_0x50e90d(0x1c1),()=>{resetPassword();}),_0x18836b['on'](_0x50e90d(0x379),_0x41cba4=>{removeClient(_0x18836b['id']);}),_0x4d2035==_0x50e90d(0x207)&&(restoredConfigFile&&(restoreConfigNotify(!![]),restoredConfigFile=0x0));}}});}function initClient(_0x217d78){const _0x3a9800=_0x54656c;if(_0x217d78!=_0x3a9800(0x207)&&config[_0x3a9800(0x35c)]!=''){if(pid[_0x217d78])pid[_0x217d78][_0x3a9800(0x2e4)]({'function':_0x3a9800(0x2d4),'args':null});}}function reloadBotManager(){const _0x2f6e3a=_0x54656c;getClientsWithBotID(_0x2f6e3a(0x207))[_0x2f6e3a(0x31d)](_0x254b24=>{const _0x3cd967=_0x2f6e3a;getSocket(_0x254b24['id'])[_0x3cd967(0x223)](_0x3cd967(0x1e1),{'access':{'allow':![],'reason':_0x3cd967(0x266),'token':null}});});}function getSocket(_0x47058e){const _0x2ce1e4=_0x54656c;return io[_0x2ce1e4(0x225)]['sockets'][_0x2ce1e4(0x37c)](_0x47058e);}function setAccess(_0x3228a6){const _0x4275ce=_0x54656c,_0x54df17=getSocket(_0x3228a6['id']),_0x1497b7=_0x3228a6[_0x4275ce(0x33b)],_0x1d8948=_0x3228a6[_0x4275ce(0x25f)];devices[_0x1497b7][_0x4275ce(0x276)]=validateAccess(devices[_0x1497b7][_0x4275ce(0x276)][_0x4275ce(0x2ef)],_0x1497b7),_0x54df17['join'](_0x1497b7);if(devices[_0x1497b7][_0x4275ce(0x276)][_0x4275ce(0x1c9)]){_0x54df17[_0x4275ce(0x360)](_0x1d8948);if(_0x1d8948==_0x4275ce(0x207))initializeSocketBotManager(_0x54df17);else initializeSocketBot(_0x54df17);initClient(_0x1d8948);}devices[_0x1497b7][_0x4275ce(0x276)]['token']&&devices[_0x1497b7][_0x4275ce(0x276)]['reason']=='temporary\x20token\x20generated'&&setSessionTimeout(_0x4275ce(0x335),_0x1497b7),devices[_0x1497b7]['access']['token']&&devices[_0x1497b7][_0x4275ce(0x276)][_0x4275ce(0x33e)]=='2FA\x20login\x20token\x20generated'&&setSessionTimeout('login',_0x1497b7),_0x54df17['emit']('status',{'status':_0x3228a6[_0x4275ce(0x26a)],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x1497b7][_0x4275ce(0x276)],'externalip':devices[_0x1497b7]['ip'],'publicKey':secure[_0x4275ce(0x278)],'userid':settings[_0x4275ce(0x2ab)],'validInstallation':validInstallation}),devices[_0x1497b7][_0x4275ce(0x276)]['allow']==![]&&devices[_0x1497b7][_0x4275ce(0x276)][_0x4275ce(0x33e)]==_0x4275ce(0x31e)&&temporaryAccess2FA(_0x1497b7,devices[_0x1497b7]['ip']);}function setSessionTimeout(_0x120f7f,_0x15b37a){const _0x2bda93=_0x54656c;let _0x1b716f;if(_0x120f7f=='login')_0x1b716f=loginExpiry*0x3c*0x3e8;else _0x1b716f=devices[_0x15b37a][_0x2bda93(0x292)]['expiry']*0x3c*0x3e8-(new Date()[_0x2bda93(0x2b0)]()-devices[_0x15b37a][_0x2bda93(0x292)][_0x2bda93(0x272)]);if(devices[_0x15b37a][_0x2bda93(0x341)])clearTimeout(devices[_0x15b37a][_0x2bda93(0x341)]);devices[_0x15b37a][_0x2bda93(0x341)]=setTimeout(()=>{const _0x4e07fb=_0x2bda93;if(devices[_0x15b37a][_0x4e07fb(0x326)])clearTimeout(devices[_0x15b37a][_0x4e07fb(0x326)]);removeSocketListeners(_0x15b37a),addBlacklist(_0x15b37a),devices[_0x15b37a]['telegramIpApproval']=null,devices[_0x15b37a][_0x4e07fb(0x228)]=null,devices[_0x15b37a]['access'][_0x4e07fb(0x2ef)]=null,devices[_0x15b37a][_0x4e07fb(0x276)]=validateAccess(devices[_0x15b37a][_0x4e07fb(0x276)][_0x4e07fb(0x2ef)],_0x15b37a),!(devices[_0x15b37a][_0x4e07fb(0x276)][_0x4e07fb(0x1c9)]&&devices[_0x15b37a][_0x4e07fb(0x276)][_0x4e07fb(0x33e)]==_0x4e07fb(0x340))&&(_0x120f7f==_0x4e07fb(0x363)?io['to'](_0x15b37a)[_0x4e07fb(0x223)]('status',{'access':{'allow':![],'reason':_0x4e07fb(0x236),'token':null}}):io['to'](_0x15b37a)[_0x4e07fb(0x223)](_0x4e07fb(0x1e1),{'access':{'allow':![],'reason':_0x4e07fb(0x275),'token':null}})),devices[_0x15b37a][_0x4e07fb(0x276)]['token']=null;},_0x1b716f);}function setTokenRefresh(_0x357147){const _0x494032=_0x54656c;if(devices[_0x357147][_0x494032(0x326)])clearTimeout(devices[_0x357147][_0x494032(0x326)]);devices[_0x357147]['pidRefreshToken']=setTimeout(()=>{const _0x420b8f=_0x494032;getClientsWithUuid(_0x357147)[_0x420b8f(0x2e9)]!=0x0?(devices[_0x357147][_0x420b8f(0x276)]=refreshToken(_0x357147),io['to'](_0x357147)[_0x420b8f(0x223)](_0x420b8f(0x1e1),{'status':_0x420b8f(0x2a2),'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x357147][_0x420b8f(0x276)],'externalip':devices[_0x357147]['ip'],'publicKey':secure[_0x420b8f(0x278)],'validInstallation':validInstallation}),setTokenRefresh(_0x357147)):clearTimeout(devices[_0x357147]['pidRefreshToken']);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x27b626){const _0x4784ab=_0x54656c,_0x449e10=getClient(_0x27b626['id'])['uuid'];_0x27b626[_0x4784ab(0x223)](_0x4784ab(0x281),config),_0x27b626['emit'](_0x4784ab(0x356),cleanSettings()),_0x27b626['on'](_0x4784ab(0x34b),_0x51d555=>{const _0x51dcf5=_0x4784ab;if(validateAccess(_0x51d555,_0x449e10)['allow'])addBot();else logger[_0x51dcf5(0x342)](_0x51dcf5(0x238));}),_0x27b626['on'](_0x4784ab(0x1d9),(_0x2a94c7,_0x14ab42)=>{const _0x10571f=_0x4784ab;if(validateAccess(_0x14ab42,_0x449e10)[_0x10571f(0x1c9)])toggleBot(_0x2a94c7[_0x10571f(0x2ad)],_0x2a94c7['status'],_0x2a94c7[_0x10571f(0x306)]);else logger[_0x10571f(0x342)](_0x10571f(0x2f9));}),_0x27b626['on'](_0x4784ab(0x368),(_0x21cedc,_0x50dc7e)=>{const _0x5b0d26=_0x4784ab;if(validateAccess(_0x50dc7e,_0x449e10)['allow'])toggleBotMode(_0x21cedc);else logger[_0x5b0d26(0x342)](_0x5b0d26(0x2f9));}),_0x27b626['on']('delete-bot',(_0x27d32a,_0x30711b)=>{const _0x41cf33=_0x4784ab;if(validateAccess(_0x30711b,_0x449e10)['allow'])deleteBot(_0x27d32a);else logger[_0x41cf33(0x342)](_0x41cf33(0x35d));}),_0x27b626['on'](_0x4784ab(0x305),(_0x1f0e2f,_0x3be7fd)=>{const _0x4b6567=_0x4784ab;if(validateAccess(_0x3be7fd,_0x449e10)[_0x4b6567(0x1c9)])storeSettings(_0x1f0e2f,!![]);else logger[_0x4b6567(0x342)]('Unauthorized\x20attempt\x20to\x20update\x20settings');}),_0x27b626['on']('update-bb',_0x280b86=>{const _0x3d5a37=_0x4784ab;if(validateAccess(_0x280b86,_0x449e10)[_0x3d5a37(0x1c9)])updateBB(_0x3d5a37(0x2da));else logger[_0x3d5a37(0x342)](_0x3d5a37(0x2e0));}),_0x27b626['on']('reinstall-bb',_0x1e53b9=>{const _0x2538fe=_0x4784ab;if(validateAccess(_0x1e53b9,_0x449e10)[_0x2538fe(0x1c9)])updateBB('reinstall');else logger[_0x2538fe(0x342)](_0x2538fe(0x23b));}),_0x27b626['on'](_0x4784ab(0x21b),_0xb4df50=>{const _0x432694=_0x4784ab;if(validateAccess(_0xb4df50,_0x449e10)[_0x432694(0x1c9)])getBackupFiles(getClient(_0x27b626['id'])[_0x432694(0x33b)]);else logger[_0x432694(0x342)](_0x432694(0x23b));}),_0x27b626['on']('restore-backup-file',(_0x487373,_0x11360f)=>{const _0x1c7bf0=_0x4784ab;if(validateAccess(_0x11360f,_0x449e10)[_0x1c7bf0(0x1c9)])restoreBackupFile(_0x487373);else logger[_0x1c7bf0(0x342)](_0x1c7bf0(0x244));}),_0x27b626['on'](_0x4784ab(0x28a),_0x326bf1=>{const _0x3b23b5=_0x4784ab;if(validateAccess(_0x326bf1,_0x449e10)['allow'])getMessages();else logger[_0x3b23b5(0x342)](_0x3b23b5(0x24b));}),_0x27b626['on'](_0x4784ab(0x2b9),(_0x39c75f,_0x389aba)=>{const _0x404d2c=_0x4784ab;if(validateAccess(_0x389aba,_0x449e10)['allow'])confirmMessage(_0x39c75f);else logger[_0x404d2c(0x342)](_0x404d2c(0x319));}),_0x27b626['on'](_0x4784ab(0x345),_0x253c2a=>{const _0x411b21=_0x4784ab;if(validateAccess(_0x253c2a,_0x449e10)[_0x411b21(0x1c9)]){if(devices[_0x449e10][_0x411b21(0x326)])clearTimeout(devices[_0x449e10][_0x411b21(0x326)]);if(devices[_0x449e10]['pidExpireLogin'])clearTimeout(devices[_0x449e10]['pidExpireLogin']);removeSocketListeners(getClient(_0x27b626['id'])[_0x411b21(0x33b)]),addBlacklist(_0x449e10),devices[_0x449e10]['telegramIpApproval']=null,devices[_0x449e10][_0x411b21(0x228)]=null,devices[_0x449e10]['access']['token']=null,io['to'](getClient(_0x27b626['id'])[_0x411b21(0x33b)])['emit'](_0x411b21(0x1e1),{'access':{'allow':![],'reason':_0x411b21(0x264),'token':null}});}else logger['full'](_0x411b21(0x1dd));});}function initializeSocketBot(_0x20c71d){const _0x3e0cd8=_0x54656c,_0x4bae84=getClient(_0x20c71d['id'])[_0x3e0cd8(0x25f)],_0xe90d0c=getClient(_0x20c71d['id'])[_0x3e0cd8(0x33b)];_0x20c71d['on']('get-logs',(_0x1a80af,_0x31540f)=>{const _0x21117c=_0x3e0cd8;if(validateAccess(_0x31540f,_0xe90d0c)['allow']){if(pid[_0x4bae84])pid[_0x4bae84][_0x21117c(0x2e4)]({'function':_0x21117c(0x37b),'args':_0x1a80af});}else logger['full']('Unauthorized\x20attempt\x20to\x20get\x20logs');}),_0x20c71d['on'](_0x3e0cd8(0x2d0),(_0x33d96d,_0x271118)=>{const _0x4f63eb=_0x3e0cd8;if(validateAccess(_0x271118,_0xe90d0c)[_0x4f63eb(0x1c9)]){if(pid[_0x4bae84])pid[_0x4bae84]['send']({'function':'deleteHistoryAlerts','args':_0x33d96d});}else logger[_0x4f63eb(0x342)](_0x4f63eb(0x375));}),_0x20c71d['on'](_0x3e0cd8(0x367),(_0x190afc,_0x4a55d2)=>{const _0x12a63f=_0x3e0cd8;if(validateAccess(_0x4a55d2,_0xe90d0c)[_0x12a63f(0x1c9)]){if(pid[_0x4bae84])pid[_0x4bae84][_0x12a63f(0x2e4)]({'function':'getPortfolio','args':_0x190afc});}else logger['full'](_0x12a63f(0x2aa));}),_0x20c71d['on'](_0x3e0cd8(0x1d8),(_0x4824b5,_0x5addba)=>{const _0xbbbe07=_0x3e0cd8;if(validateAccess(_0x5addba,_0xe90d0c)[_0xbbbe07(0x1c9)]){if(pid[_0x4bae84])pid[_0x4bae84][_0xbbbe07(0x2e4)]({'function':_0xbbbe07(0x1d6),'args':_0x4824b5});}else logger[_0xbbbe07(0x342)](_0xbbbe07(0x255));}),_0x20c71d['on'](_0x3e0cd8(0x2df),(_0x3b4587,_0x29b7ce)=>{const _0x31ca35=_0x3e0cd8;if(validateAccess(_0x29b7ce,_0xe90d0c)['allow']){if(pid[_0x4bae84])pid[_0x4bae84][_0x31ca35(0x2e4)]({'function':_0x31ca35(0x283),'args':_0x3b4587});}else logger[_0x31ca35(0x342)](_0x31ca35(0x1e3));}),_0x20c71d['on']('get-starting-balances',_0x5d66ed=>{const _0x310199=_0x3e0cd8;if(validateAccess(_0x5d66ed,_0xe90d0c)[_0x310199(0x1c9)]){if(pid[_0x4bae84])pid[_0x4bae84][_0x310199(0x2e4)]({'function':'getStartingBalances','args':null});}else logger['full'](_0x310199(0x274));}),_0x20c71d['on'](_0x3e0cd8(0x336),(_0x504450,_0x427bb6)=>{const _0x55408e=_0x3e0cd8;if(validateAccess(_0x427bb6,_0xe90d0c)[_0x55408e(0x1c9)]){if(pid[_0x4bae84])pid[_0x4bae84][_0x55408e(0x2e4)]({'function':'placeOrder','args':_0x504450});}else logger[_0x55408e(0x342)](_0x55408e(0x1bf));}),_0x20c71d['on']('cancel-loading',_0x371f7=>{const _0x3c1072=_0x3e0cd8;if(validateAccess(_0x371f7,_0xe90d0c)['allow']){if(pid[_0x4bae84])pid[_0x4bae84]['send']({'function':_0x3c1072(0x1ec),'args':null});}else logger['full'](_0x3c1072(0x36a));}),_0x20c71d['on'](_0x3e0cd8(0x1f3),_0x1155d3=>{const _0x37165c=_0x3e0cd8;if(validateAccess(_0x1155d3,_0xe90d0c)[_0x37165c(0x1c9)]){if(pid[_0x4bae84])pid[_0x4bae84]['send']({'function':_0x37165c(0x35b),'args':null});}else logger[_0x37165c(0x342)](_0x37165c(0x366));}),_0x20c71d['on'](_0x3e0cd8(0x1cb),_0x28ded4=>{const _0xf04cb4=_0x3e0cd8;if(validateAccess(_0x28ded4,_0xe90d0c)[_0xf04cb4(0x1c9)])updateBB(_0xf04cb4(0x2da));else logger[_0xf04cb4(0x342)](_0xf04cb4(0x2e0));}),_0x20c71d['on']('get-messages',_0x5d61ef=>{const _0x495f50=_0x3e0cd8;if(validateAccess(_0x5d61ef,_0xe90d0c)['allow'])getMessages();else logger['full'](_0x495f50(0x24b));}),_0x20c71d['on']('confirm-message',(_0x4e6bfe,_0x18786)=>{const _0x3efaed=_0x3e0cd8;if(validateAccess(_0x18786,_0xe90d0c)[_0x3efaed(0x1c9)])confirmMessage(_0x4e6bfe);else logger[_0x3efaed(0x342)](_0x3efaed(0x319));}),_0x20c71d['on'](_0x3e0cd8(0x345),_0x5687f5=>{const _0x2ae5ef=_0x3e0cd8;if(validateAccess(_0x5687f5,_0xe90d0c)['allow']){if(devices[_0xe90d0c][_0x2ae5ef(0x326)])clearTimeout(devices[_0xe90d0c][_0x2ae5ef(0x326)]);if(devices[_0xe90d0c][_0x2ae5ef(0x341)])clearTimeout(devices[_0xe90d0c][_0x2ae5ef(0x341)]);removeSocketListeners(getClient(_0x20c71d['id'])[_0x2ae5ef(0x33b)]),addBlacklist(_0xe90d0c),devices[_0xe90d0c][_0x2ae5ef(0x292)]=null,devices[_0xe90d0c]['telegram2FaApproval']=null,devices[_0xe90d0c][_0x2ae5ef(0x276)]['token']=null,io['to'](getClient(_0x20c71d['id'])[_0x2ae5ef(0x33b)])[_0x2ae5ef(0x223)]('status',{'access':{'allow':![],'reason':_0x2ae5ef(0x264),'token':null}});}else logger['full'](_0x2ae5ef(0x1dd));});}function removeSocketListeners(_0x2267d8){const _0x3dc076=_0x54656c;getClientsWithUuid(_0x2267d8)[_0x3dc076(0x31d)](_0x15e302=>{const _0x1c7ec4=_0x3dc076;getSocket(_0x15e302['id'])[_0x1c7ec4(0x211)]();});}function cleanSettings(){const _0x5031f7=_0x54656c;let _0x3f3a8c=settings;return settings[_0x5031f7(0x329)]&&settings[_0x5031f7(0x329)]!=''&&(_0x3f3a8c={..._0x3f3a8c,'telegramToken':_0x5031f7(0x1d2)}),settings[_0x5031f7(0x20c)]&&settings[_0x5031f7(0x20c)]!=''&&(_0x3f3a8c={..._0x3f3a8c,'bbPassword':_0x5031f7(0x1d2)}),(settings[_0x5031f7(0x20c)]&&settings[_0x5031f7(0x20c)]==_0x5031f7(0x214)||settings[_0x5031f7(0x329)]&&settings[_0x5031f7(0x329)]==_0x5031f7(0x214))&&(_0x3f3a8c={..._0x3f3a8c,'restored':{'password':settings['bbPassword']=='***','telegram':settings[_0x5031f7(0x329)]==_0x5031f7(0x214)}}),_0x3f3a8c;}async function updateBB(_0x2f5305){const _0x4f9382=_0x54656c;await backupConfigFiles(),installingUpdate=!![],config['forEach'](_0x23881a=>{const _0x33f3e9=_0x491c;restartBot(_0x23881a[_0x33f3e9(0x2ad)]);}),logger[_0x4f9382(0x2e3)]('Starting\x20Balance\x20Bot\x20'+_0x2f5305);if(_0x2f5305==_0x4f9382(0x2da))process[_0x4f9382(0x2e4)]({'update':!![]},_0x26abd6=>{});else _0x2f5305==_0x4f9382(0x251)&&process[_0x4f9382(0x2e4)]({'reinstall':!![]},_0x5de216=>{});}function startBot(_0x38f618,_0x40dfb3,_0x12be42){const _0x2b54b4=_0x54656c;if(debugging)_0x38f618[_0x2b54b4(0x22b)]('-d');let _0x296d11=![];const _0xf9bdef=_0x38f618[0x0];_0x40dfb3={..._0x40dfb3,'stdio':[_0x2b54b4(0x362),_0x2b54b4(0x362),_0x2b54b4(0x362),_0x2b54b4(0x2b7)]},pid[_0xf9bdef]=childProcess['fork'](botfile,_0x38f618,_0x40dfb3),pid[_0xf9bdef]['on']('message',_0x7c43ff=>{const _0x9f96d8=_0x2b54b4;switch(Object[_0x9f96d8(0x22a)](_0x7c43ff)[0x0]){case'botname':updateBotName(_0xf9bdef,_0x7c43ff[_0x9f96d8(0x2cf)]);break;case _0x9f96d8(0x2de):updateBotManager();break;case'status':updateStatus(_0xf9bdef,_0x7c43ff[_0x9f96d8(0x1e1)]);break;case _0x9f96d8(0x306):updateLive(_0xf9bdef,_0x7c43ff['live']);break;case'started':updateLive(_0xf9bdef,_0x7c43ff[_0x9f96d8(0x1dc)]),io['to'](_0xf9bdef)[_0x9f96d8(0x223)](_0x9f96d8(0x1e1),{'access':{'allow':![],'reason':_0x9f96d8(0x266),'token':null}});break;case _0x9f96d8(0x1cc):_0x7c43ff['stop']==_0x9f96d8(0x2a1)&&restartBot(_0xf9bdef);_0x7c43ff[_0x9f96d8(0x1cc)]==_0x9f96d8(0x1f7)&&toggleBot(_0xf9bdef,_0x9f96d8(0x347),'stopped');break;case _0x9f96d8(0x2c1):sendTelegram(_0xf9bdef,_0x7c43ff['telegram']);break;case _0x9f96d8(0x1ce):sendTelegramMsg(_0x7c43ff['telegrammsg']);break;case _0x9f96d8(0x2f7):io['to'](_0xf9bdef)['emit'](_0x7c43ff[_0x9f96d8(0x2f7)],_0x7c43ff[_0x9f96d8(0x284)]);break;}}),pid[_0xf9bdef]['on'](_0x2b54b4(0x2cd),function(_0x458236){if(_0x296d11)return;_0x296d11=!![],_0x12be42(_0x458236);}),pid[_0xf9bdef]['on'](_0x2b54b4(0x218),async function(_0x2c4e18){const _0x3bf879=_0x2b54b4;if(installingUpdate)return;if(_0x296d11)return;_0x296d11=!![],_0x12be42(null);const _0x1b8632=dbConfig[_0x3bf879(0x37c)](_0x3bf879(0x281))[_0x3bf879(0x28e)]({'botID':_0xf9bdef})[_0x3bf879(0x22e)]();_0x1b8632&&(_0x1b8632[_0x3bf879(0x1e1)]==_0x3bf879(0x23d)||_0x1b8632['status']==_0x3bf879(0x355))&&(await sleep(0x3e8),updateLive(_0xf9bdef,'stopped'),logger[_0x3bf879(0x342)]('restarting\x20Bot\x20'+_0xf9bdef),startBot([_0xf9bdef,userID],{'cwd':bbpath},function(_0x278ac6){const _0x22d3c5=_0x3bf879;if(_0x278ac6)logger[_0x22d3c5(0x342)](_0x278ac6);}));});}function stopBot(_0x5360f0){const _0x32c1ce=_0x54656c;getClientsWithBotID(_0x5360f0)[_0x32c1ce(0x31d)](_0x3018eb=>{const _0x181785=_0x32c1ce;getSocket(_0x3018eb['id'])[_0x181785(0x379)](!![]),removeClient(_0x3018eb['id']);}),pid[_0x5360f0]&&(pid[_0x5360f0][_0x32c1ce(0x1f7)](),pid[_0x5360f0]=null);}function restartBot(_0xb7d2be){if(pid[_0xb7d2be])pid[_0xb7d2be]['kill']();}function addBot(){const _0x147310=_0x54656c;let _0x54980b;for(let _0x1d22e8=0x1;_0x1d22e8<0x3e9;_0x1d22e8++){_0x54980b=_0x1d22e8['toString']()['padStart'](0x3,'0');let _0x21a9bf=config[_0x147310(0x28e)](_0x1f80b4=>_0x1f80b4[_0x147310(0x2ad)]==_0x54980b);if(!_0x21a9bf)break;}if(_0x54980b===_0x147310(0x33f)){logger['full'](_0x147310(0x2fa));return;}logger[_0x147310(0x342)](_0x147310(0x21e)+_0x54980b),dbConfig[_0x147310(0x37c)]('bots')['push']({'botID':_0x54980b,'botname':_0x147310(0x22f)+_0x54980b,'status':'new','live':''})[_0x147310(0x1eb)](),startBot([_0x54980b,userID],{'cwd':bbpath},function(_0x65c081){if(_0x65c081)logger['full'](_0x65c081);}),config=getConfiguration(),io['to'](_0x147310(0x207))[_0x147310(0x223)](_0x147310(0x281),config);}function deleteBot(_0x5e3275){const _0x313002=_0x54656c;getClientsWithBotID(_0x5e3275)[_0x313002(0x31d)](_0x2bb9c0=>{const _0xf34239=_0x313002;getSocket(_0x2bb9c0['id'])[_0xf34239(0x379)](!![]),removeClient(_0x2bb9c0['id']);}),dbConfig['get']('bots')['remove']({'botID':_0x5e3275})[_0x313002(0x1eb)](),logger[_0x313002(0x342)](_0x313002(0x1f4)+_0x5e3275),stopBot(_0x5e3275);try{if(fs['existsSync'](path[_0x313002(0x360)](configpath,'bot-'+_0x5e3275+_0x313002(0x240))))fs[_0x313002(0x279)](path[_0x313002(0x360)](configpath,_0x313002(0x1ff)+_0x5e3275+_0x313002(0x240)));if(fs['existsSync'](path[_0x313002(0x360)](configpath,_0x313002(0x1ff)+_0x5e3275+_0x313002(0x328))))fs['unlinkSync'](path[_0x313002(0x360)](configpath,_0x313002(0x1ff)+_0x5e3275+_0x313002(0x328)));if(fs[_0x313002(0x21a)](path[_0x313002(0x360)](configpath,_0x313002(0x1ff)+_0x5e3275+_0x313002(0x334))))fs[_0x313002(0x279)](path[_0x313002(0x360)](configpath,_0x313002(0x1ff)+_0x5e3275+_0x313002(0x334)));if(fs['existsSync'](path[_0x313002(0x360)](configpath,'bot-'+_0x5e3275+_0x313002(0x26d))))fs[_0x313002(0x279)](path['join'](configpath,_0x313002(0x1ff)+_0x5e3275+_0x313002(0x26d)));}catch(_0x13b3a8){if(_0x13b3a8)logger['full']('error\x20while\x20deleting\x20config\x20files:\x20',_0x13b3a8);}config=getConfiguration(),io['to'](_0x313002(0x207))['emit'](_0x313002(0x281),config);}function toggleBot(_0x2a01dc,_0x52aa64,_0x4f152b){const _0x4e372e=_0x54656c;dbConfig['get'](_0x4e372e(0x281))[_0x4e372e(0x28e)]({'botID':_0x2a01dc})[_0x4e372e(0x229)]({'status':_0x52aa64})['assign']({'live':_0x4f152b})['write']();if(_0x52aa64==_0x4e372e(0x23d)||_0x52aa64=='new')logger[_0x4e372e(0x342)]('enabled\x20Bot\x20'+_0x2a01dc),startBot([_0x2a01dc,userID],{'cwd':bbpath},function(_0x9a52dc){const _0x3244ee=_0x4e372e;if(_0x9a52dc)logger[_0x3244ee(0x342)](_0x9a52dc);});else(_0x52aa64==_0x4e372e(0x347)||_0x52aa64=='new-disabled')&&(logger[_0x4e372e(0x342)]('disabled\x20Bot\x20'+_0x2a01dc),stopBot(_0x2a01dc));config=getConfiguration(),io['to']('botmanager')[_0x4e372e(0x223)]('bots',config);}function toggleStatus(_0x287c55){const _0x33727b=_0x54656c;let _0x457738=dbConfig[_0x33727b(0x37c)]('bots')[_0x33727b(0x28e)]({'botID':_0x287c55})['value'](),_0x4c172d;if(_0x457738[_0x33727b(0x1e1)]==='enabled')_0x4c172d=_0x33727b(0x347);else{if(_0x457738[_0x33727b(0x1e1)]==='new')_0x4c172d=_0x33727b(0x2e6);else{if(_0x457738['status']==='new-disabled')_0x4c172d=_0x33727b(0x355);else{if(_0x457738[_0x33727b(0x1e1)]==='disabled')_0x4c172d=_0x33727b(0x23d);}}}return _0x4c172d;}function updateStatus(_0x33162e,_0x33d92c){const _0x3dd2b0=_0x54656c;dbConfig[_0x3dd2b0(0x37c)](_0x3dd2b0(0x281))[_0x3dd2b0(0x28e)]({'botID':_0x33162e})[_0x3dd2b0(0x229)]({'status':_0x33d92c})[_0x3dd2b0(0x1eb)](),config=getConfiguration(),io['to'](_0x3dd2b0(0x207))[_0x3dd2b0(0x223)](_0x3dd2b0(0x281),config);}function updateLive(_0x4ff67d,_0x305d4f){const _0x372079=_0x54656c;dbConfig[_0x372079(0x37c)](_0x372079(0x281))['find']({'botID':_0x4ff67d})[_0x372079(0x229)]({'live':_0x305d4f})['write'](),config=getConfiguration(),io['to']('botmanager')['emit'](_0x372079(0x281),config);}function updateBotName(_0x354f5a,_0x5e6adc){const _0x27650b=_0x54656c;dbConfig[_0x27650b(0x37c)](_0x27650b(0x281))[_0x27650b(0x28e)]({'botID':_0x354f5a})['assign']({'botname':_0x5e6adc})['write'](),config=getConfiguration(),io['to'](_0x27650b(0x207))[_0x27650b(0x223)](_0x27650b(0x281),config);}function updateBotManager(){const _0x328295=_0x54656c;config=getConfiguration(),io['to'](_0x328295(0x207))[_0x328295(0x223)]('bots',config);}function toggleBotMode(_0x361570){const _0xb3efb1=_0x54656c;if(pid[_0x361570])pid[_0x361570][_0xb3efb1(0x2e4)]({'function':_0xb3efb1(0x231),'args':null});else{const _0x3742ae=configpath+'bot-'+_0x361570+_0xb3efb1(0x240),_0x36dbfe=fs[_0xb3efb1(0x25a)](_0x3742ae),_0x37dce3=JSON[_0xb3efb1(0x1c3)](_0x36dbfe),_0x42ee05=_0x37dce3['bot'][0x0][_0xb3efb1(0x36f)];_0x37dce3[_0xb3efb1(0x25f)][0x0][_0xb3efb1(0x36f)]=!_0x42ee05;const _0x520b17=JSON['stringify'](_0x37dce3,null,0x2);fs[_0xb3efb1(0x1d4)](_0x3742ae,_0x520b17),config=getConfiguration(),io['to'](_0xb3efb1(0x207))['emit'](_0xb3efb1(0x281),config);}}function telegramError(_0x4c8b37){const _0x1ff5b0=_0x54656c;logger[_0x1ff5b0(0x359)](getTimeStamp()+_0x1ff5b0(0x208));}function validateTelegram(_0xddf750){const _0x30af5d=_0x54656c;if(_0xddf750[_0x30af5d(0x2ea)][_0x30af5d(0x226)]!=settings[_0x30af5d(0x249)]&&'@'+_0xddf750['from'][_0x30af5d(0x226)]!=settings[_0x30af5d(0x249)])return tgBot[_0x30af5d(0x33a)](_0xddf750[_0x30af5d(0x32d)]['id'],'Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings',{'parse_mode':_0x30af5d(0x370)})[_0x30af5d(0x2fe)](_0x4d5f66=>{telegramError(_0x4d5f66);}),![];return!![];}async function initTelegram(){const _0x4f92c5=_0x54656c;if(tgBot)tgBot[_0x4f92c5(0x21c)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x4f92c5(0x329)],{'polling':!![]});let _0x3d7307=_0x4f92c5(0x372);_0x3d7307+='\x0a',_0x3d7307+=_0x4f92c5(0x20b),_0x3d7307+='/disable\x20-\x20disable\x20notifications\x0a',_0x3d7307+=_0x4f92c5(0x1fe),_0x3d7307+='/restart\x20-\x20restart\x20bot(s)\x0a',_0x3d7307+=_0x4f92c5(0x2be),_0x3d7307+=_0x4f92c5(0x371),_0x3d7307+=_0x4f92c5(0x290),_0x3d7307+=_0x4f92c5(0x361),_0x3d7307+=_0x4f92c5(0x1c7),_0x3d7307+=_0x4f92c5(0x1e6),_0x3d7307+=_0x4f92c5(0x29c),_0x3d7307+='/reinstall\x20-\x20reinstall\x20Balance\x20Bot\x0a',_0x3d7307+=_0x4f92c5(0x1f2);let _0x19c3fb=_0x4f92c5(0x25b);_0x19c3fb+='\x0a',_0x19c3fb+=_0x3d7307,tgBot[_0x4f92c5(0x25c)](/\/start/,_0x154dd2=>{const _0x469fbc=_0x4f92c5;if(!validateTelegram(_0x154dd2))return;if(settings[_0x469fbc(0x2e5)]!=_0x154dd2['chat']['id'])updateSetting('telegramChatId',_0x154dd2['chat']['id']);updateSetting(_0x469fbc(0x1e9),!![]),tgBot['sendMessage'](_0x154dd2[_0x469fbc(0x32d)]['id'],_0x19c3fb)[_0x469fbc(0x2fe)](_0x4beaa8=>{telegramError(_0x4beaa8);});}),tgBot['onText'](/\/enable/,_0x1f6cba=>{const _0x2b0b4d=_0x4f92c5;if(!validateTelegram(_0x1f6cba))return;if(settings['telegramChatId']!=_0x1f6cba[_0x2b0b4d(0x32d)]['id'])updateSetting(_0x2b0b4d(0x2e5),_0x1f6cba[_0x2b0b4d(0x32d)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0x2b0b4d(0x33a)](_0x1f6cba[_0x2b0b4d(0x32d)]['id'],_0x2b0b4d(0x1cd))['catch'](_0x18b587=>{telegramError(_0x18b587);});}),tgBot['onText'](/\/config/,async _0x1f2e19=>{const _0xe88b76=_0x4f92c5;if(!validateTelegram(_0x1f2e19))return;tgBot[_0xe88b76(0x331)](_0xe88b76(0x30c)),tgBot[_0xe88b76(0x33a)](_0x1f2e19[_0xe88b76(0x32d)]['id'],_0xe88b76(0x265),{'reply_markup':{'inline_keyboard':[[{'text':_0xe88b76(0x312),'callback_data':_0xe88b76(0x259)},{'text':_0xe88b76(0x200),'callback_data':_0xe88b76(0x2c4)},{'text':_0xe88b76(0x21f),'callback_data':_0xe88b76(0x36b)}]]}})[_0xe88b76(0x2fe)](_0x3b3eab=>{telegramError(_0x3b3eab);}),tgBot['on'](_0xe88b76(0x30c),async _0x4c1997=>{const _0x210eaf=_0xe88b76,_0x2e08d3=_0x4c1997['data'],_0xe6b033=_0x4c1997[_0x210eaf(0x301)];tgBot[_0x210eaf(0x320)](_0x4c1997['id'])[_0x210eaf(0x242)](async()=>{const _0x15b31f=_0x210eaf;_0x2e08d3==_0x15b31f(0x259)&&(updateSetting('telegramEvents',_0x15b31f(0x259)),updateSetting(_0x15b31f(0x1e9),!![]),await tgBot[_0x15b31f(0x33a)](_0xe6b033[_0x15b31f(0x32d)]['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')['catch'](_0x139777=>{telegramError(_0x139777);}));_0x2e08d3==_0x15b31f(0x2c4)&&(updateSetting(_0x15b31f(0x2a8),_0x15b31f(0x2c4)),updateSetting(_0x15b31f(0x1e9),!![]),await tgBot['sendMessage'](_0xe6b033['chat']['id'],_0x15b31f(0x374))[_0x15b31f(0x2fe)](_0x23c967=>{telegramError(_0x23c967);}));_0x2e08d3==_0x15b31f(0x36b)&&(updateSetting('telegramEvents','all'),updateSetting(_0x15b31f(0x1e9),!![]),await tgBot[_0x15b31f(0x33a)](_0xe6b033[_0x15b31f(0x32d)]['id'],_0x15b31f(0x2e7))[_0x15b31f(0x2fe)](_0x4828a5=>{telegramError(_0x4828a5);}));if(!settings[_0x15b31f(0x2e5)])tgBot[_0x15b31f(0x33a)](_0xe6b033['chat']['id'],'Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable')[_0x15b31f(0x2fe)](_0x55bbcb=>{telegramError(_0x55bbcb);});}),tgBot['removeListener']('callback_query');});}),tgBot[_0x4f92c5(0x25c)](/\/status/,_0x23b99d=>{const _0x2d51ad=_0x4f92c5;if(!validateTelegram(_0x23b99d))return;const _0x1b7a7a=getBotsWithMode();let _0x582016=_0x2d51ad(0x2d8);config[_0x2d51ad(0x31d)](_0x2171cc=>{const _0x5a6c67=_0x2d51ad,_0x3c9de2=_0x1b7a7a[_0x5a6c67(0x28e)](_0x1aba16=>_0x1aba16[_0x5a6c67(0x2ad)]==_0x2171cc[_0x5a6c67(0x2ad)])[_0x5a6c67(0x23a)];_0x582016+=_0x5a6c67(0x22f)+_0x2171cc[_0x5a6c67(0x2ad)]+':\x20'+_0x2171cc[_0x5a6c67(0x1e1)]+_0x5a6c67(0x314)+_0x3c9de2+_0x5a6c67(0x314)+_0x2171cc[_0x5a6c67(0x306)]+'\x0a';}),_0x582016+='\x0a',_0x582016+='<b>Telegram\x20Bot\x20Status:</b>\x0a',_0x582016+=!settings[_0x2d51ad(0x1e9)]?_0x2d51ad(0x2ca):_0x2d51ad(0x2fd),_0x582016+=settings['telegramEnabled']?settings['telegramEvents']==_0x2d51ad(0x36b)?_0x2d51ad(0x35f):_0x2d51ad(0x221)+settings['telegramEvents']+_0x2d51ad(0x2b4):'',tgBot[_0x2d51ad(0x33a)](_0x23b99d[_0x2d51ad(0x32d)]['id'],_0x582016,{'parse_mode':_0x2d51ad(0x370)})['catch'](_0x4e1999=>{telegramError(_0x4e1999);});}),tgBot[_0x4f92c5(0x25c)](/\/restart/,_0x1b965f=>{const _0xf74277=_0x4f92c5;if(!validateTelegram(_0x1b965f))return;tgBot['removeListener']('callback_query');const _0x320d57=getEnabledBots();if(_0x320d57[_0xf74277(0x2e9)]==0x0)tgBot[_0xf74277(0x33a)](_0x1b965f['chat']['id'],'No\x20bots\x20running\x20right\x20now')['catch'](_0x4aa6ea=>{telegramError(_0x4aa6ea);});else{if(_0x320d57[_0xf74277(0x2e9)]>0x1)_0x320d57['push']({'botID':_0xf74277(0x36b)});let _0x20742f=[],_0x1ae24c=[];const _0x2ff651=_0x320d57[_0xf74277(0x2e9)]%0x4==0x0||_0x320d57[_0xf74277(0x2e9)]%0x4==0x3||_0x320d57[_0xf74277(0x2e9)]%0x3==0x1?0x4:0x3;let _0x2fd921=0x0;_0x320d57[_0xf74277(0x31d)]((_0x1b280f,_0x453ca9)=>{const _0x1222bd=_0xf74277;if(_0x453ca9%_0x2ff651==0x0)_0x1ae24c=[];_0x1ae24c['push']({'text':_0x1b280f[_0x1222bd(0x2ad)]==_0x1222bd(0x36b)?_0x1222bd(0x22c):_0x1222bd(0x22f)+_0x1b280f[_0x1222bd(0x2ad)],'callback_data':_0x1b280f['botID']}),_0x453ca9%_0x2ff651==0x0&&(_0x20742f[_0x2fd921]=_0x1ae24c,_0x2fd921++);}),tgBot['sendMessage'](_0x1b965f[_0xf74277(0x32d)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20restart?',{'reply_markup':{'inline_keyboard':_0x20742f}})[_0xf74277(0x2fe)](_0x435f86=>{telegramError(_0x435f86);}),tgBot['on'](_0xf74277(0x30c),async _0x10202e=>{const _0x5e5607=_0xf74277,_0x47fd4a=_0x10202e[_0x5e5607(0x37a)],_0x443784=_0x10202e[_0x5e5607(0x301)];tgBot[_0x5e5607(0x320)](_0x10202e['id'])[_0x5e5607(0x242)](async()=>{const _0x4fb16a=_0x5e5607;_0x47fd4a==_0x4fb16a(0x36b)?config[_0x4fb16a(0x31d)](_0x144654=>{const _0x31d805=_0x4fb16a;restartBot(_0x144654[_0x31d805(0x2ad)]);}):restartBot(_0x47fd4a);}),tgBot['removeListener']('callback_query');});}}),tgBot[_0x4f92c5(0x25c)](/\/on/,_0x5a5af3=>{const _0x4b6951=_0x4f92c5;if(!validateTelegram(_0x5a5af3))return;tgBot[_0x4b6951(0x331)]('callback_query');const _0x3dba9e=getDisabledBots();if(_0x3dba9e[_0x4b6951(0x2e9)]==0x0)tgBot['sendMessage'](_0x5a5af3[_0x4b6951(0x32d)]['id'],_0x4b6951(0x1d3))[_0x4b6951(0x2fe)](_0x28e0e7=>{telegramError(_0x28e0e7);});else{if(_0x3dba9e[_0x4b6951(0x2e9)]>0x1)_0x3dba9e[_0x4b6951(0x22b)]({'botID':_0x4b6951(0x36b)});let _0x299366=[],_0x11b22a=[];const _0x4048d8=_0x3dba9e[_0x4b6951(0x2e9)]%0x4==0x0||_0x3dba9e[_0x4b6951(0x2e9)]%0x4==0x3||_0x3dba9e[_0x4b6951(0x2e9)]%0x3==0x1?0x4:0x3;let _0x34c530=0x0;_0x3dba9e[_0x4b6951(0x31d)]((_0x5a4c08,_0x43e989)=>{const _0xbce236=_0x4b6951;if(_0x43e989%_0x4048d8==0x0)_0x11b22a=[];_0x11b22a[_0xbce236(0x22b)]({'text':_0x5a4c08['botID']==_0xbce236(0x36b)?_0xbce236(0x22c):'Bot\x20'+_0x5a4c08[_0xbce236(0x2ad)],'callback_data':_0x5a4c08['botID']}),_0x43e989%_0x4048d8==0x0&&(_0x299366[_0x34c530]=_0x11b22a,_0x34c530++);}),tgBot['sendMessage'](_0x5a5af3[_0x4b6951(0x32d)]['id'],_0x4b6951(0x1e5),{'reply_markup':{'inline_keyboard':_0x299366}})[_0x4b6951(0x2fe)](_0x5ce6ec=>{telegramError(_0x5ce6ec);}),tgBot['on'](_0x4b6951(0x30c),async _0x5a51bd=>{const _0x3f7877=_0x4b6951,_0x14a33b=_0x5a51bd[_0x3f7877(0x37a)],_0x237e17=_0x5a51bd[_0x3f7877(0x301)];tgBot[_0x3f7877(0x320)](_0x5a51bd['id'])['then'](async()=>{const _0x18c4e4=_0x3f7877;_0x14a33b==_0x18c4e4(0x36b)?(tgBot[_0x18c4e4(0x33a)](_0x237e17[_0x18c4e4(0x32d)]['id'],_0x18c4e4(0x318))['catch'](_0x481d4f=>{telegramError(_0x481d4f);}),_0x3dba9e[_0x18c4e4(0x31d)](_0x484286=>{const _0x289979=_0x18c4e4;if(_0x484286[_0x289979(0x2ad)]!=_0x289979(0x36b))toggleBot(_0x484286[_0x289979(0x2ad)],toggleStatus(_0x484286['botID']),_0x289979(0x315));})):(tgBot[_0x18c4e4(0x33a)](_0x237e17[_0x18c4e4(0x32d)]['id'],_0x18c4e4(0x1f5)+_0x14a33b)[_0x18c4e4(0x2fe)](_0x15fb91=>{telegramError(_0x15fb91);}),toggleBot(_0x14a33b,toggleStatus(_0x14a33b),'stopped'));}),tgBot[_0x3f7877(0x331)](_0x3f7877(0x30c));});}}),tgBot[_0x4f92c5(0x25c)](/\/off/,_0x459fc9=>{const _0x14e642=_0x4f92c5;if(!validateTelegram(_0x459fc9))return;tgBot[_0x14e642(0x331)](_0x14e642(0x30c));const _0x4444c6=getEnabledBots();if(_0x4444c6[_0x14e642(0x2e9)]==0x0)tgBot[_0x14e642(0x33a)](_0x459fc9['chat']['id'],'No\x20bots\x20running\x20right\x20now')['catch'](_0x38e38d=>{telegramError(_0x38e38d);});else{if(_0x4444c6['length']>0x1)_0x4444c6[_0x14e642(0x22b)]({'botID':_0x14e642(0x36b)});let _0x5602f6=[],_0x160ac9=[];const _0x583636=_0x4444c6[_0x14e642(0x2e9)]%0x4==0x0||_0x4444c6[_0x14e642(0x2e9)]%0x4==0x3||_0x4444c6[_0x14e642(0x2e9)]%0x3==0x1?0x4:0x3;let _0xb06440=0x0;_0x4444c6[_0x14e642(0x31d)]((_0x5e02b7,_0x342225)=>{const _0x2a68d5=_0x14e642;if(_0x342225%_0x583636==0x0)_0x160ac9=[];_0x160ac9[_0x2a68d5(0x22b)]({'text':_0x5e02b7[_0x2a68d5(0x2ad)]==_0x2a68d5(0x36b)?_0x2a68d5(0x22c):_0x2a68d5(0x22f)+_0x5e02b7[_0x2a68d5(0x2ad)],'callback_data':_0x5e02b7[_0x2a68d5(0x2ad)]}),_0x342225%_0x583636==0x0&&(_0x5602f6[_0xb06440]=_0x160ac9,_0xb06440++);}),tgBot[_0x14e642(0x33a)](_0x459fc9[_0x14e642(0x32d)]['id'],_0x14e642(0x282),{'reply_markup':{'inline_keyboard':_0x5602f6}})[_0x14e642(0x2fe)](_0x273ad1=>{telegramError(_0x273ad1);}),tgBot['on'](_0x14e642(0x30c),async _0x49948e=>{const _0x5e66d9=_0x14e642,_0xd89089=_0x49948e['data'],_0x302d4f=_0x49948e[_0x5e66d9(0x301)];tgBot[_0x5e66d9(0x320)](_0x49948e['id'])[_0x5e66d9(0x242)](async()=>{const _0x471a5c=_0x5e66d9;_0xd89089==_0x471a5c(0x36b)?(tgBot[_0x471a5c(0x33a)](_0x302d4f[_0x471a5c(0x32d)]['id'],_0x471a5c(0x2b3))['catch'](_0x4308f1=>{telegramError(_0x4308f1);}),_0x4444c6['forEach'](_0x3b2841=>{const _0x4133ae=_0x471a5c;if(_0x3b2841[_0x4133ae(0x2ad)]!=_0x4133ae(0x36b))toggleBot(_0x3b2841[_0x4133ae(0x2ad)],toggleStatus(_0x3b2841[_0x4133ae(0x2ad)]),_0x4133ae(0x315));})):(tgBot[_0x471a5c(0x33a)](_0x302d4f[_0x471a5c(0x32d)]['id'],_0x471a5c(0x36e)+_0xd89089)[_0x471a5c(0x2fe)](_0x258b19=>{telegramError(_0x258b19);}),toggleBot(_0xd89089,toggleStatus(_0xd89089),'stopped'));}),tgBot[_0x5e66d9(0x331)](_0x5e66d9(0x30c));});}}),tgBot[_0x4f92c5(0x25c)](/\/portfolio/,_0x27472a=>{const _0x1888b3=_0x4f92c5;if(!validateTelegram(_0x27472a))return;tgBot['removeListener'](_0x1888b3(0x30c));const _0x2b15c9=getEnabledBots();if(_0x2b15c9[_0x1888b3(0x2e9)]==0x0)tgBot[_0x1888b3(0x33a)](_0x27472a[_0x1888b3(0x32d)]['id'],_0x1888b3(0x2bf))['catch'](_0x3cdc7d=>{telegramError(_0x3cdc7d);});else{if(_0x2b15c9[_0x1888b3(0x2e9)]>0x1){let _0x5eef09=[],_0x3147ea=[];const _0x2160b8=_0x2b15c9[_0x1888b3(0x2e9)]%0x4==0x0||_0x2b15c9[_0x1888b3(0x2e9)]%0x4==0x3||_0x2b15c9['length']%0x3==0x1?0x4:0x3;let _0x2e18ea=0x0;_0x2b15c9[_0x1888b3(0x31d)]((_0x26770d,_0xb2cc92)=>{const _0x414d8f=_0x1888b3;if(_0xb2cc92%_0x2160b8==0x0)_0x3147ea=[];_0x3147ea[_0x414d8f(0x22b)]({'text':_0x414d8f(0x22f)+_0x26770d[_0x414d8f(0x2ad)],'callback_data':_0x26770d[_0x414d8f(0x2ad)]}),_0xb2cc92%_0x2160b8==0x0&&(_0x5eef09[_0x2e18ea]=_0x3147ea,_0x2e18ea++);}),tgBot[_0x1888b3(0x33a)](_0x27472a[_0x1888b3(0x32d)]['id'],_0x1888b3(0x2b5),{'reply_markup':{'inline_keyboard':_0x5eef09}})[_0x1888b3(0x2fe)](_0x1d276b=>{telegramError(_0x1d276b);}),tgBot['on'](_0x1888b3(0x30c),async _0x4d3217=>{const _0x542985=_0x1888b3,_0x5d8f4f=_0x4d3217[_0x542985(0x37a)],_0xa4ae92=_0x4d3217[_0x542985(0x301)];tgBot[_0x542985(0x320)](_0x4d3217['id'])['then'](async()=>{const _0x504640=_0x542985;if(pid[_0x5d8f4f])pid[_0x5d8f4f]['send']({'function':_0x504640(0x2a5),'args':null});}),tgBot[_0x542985(0x331)](_0x542985(0x30c));});}else{const _0x2858de=_0x2b15c9[0x0][_0x1888b3(0x2ad)];if(pid[_0x2858de])pid[_0x2858de][_0x1888b3(0x2e4)]({'function':_0x1888b3(0x2a5),'args':null});}}}),tgBot[_0x4f92c5(0x25c)](/\/update/,async _0x332b6c=>{const _0x98c09a=_0x4f92c5;if(!validateTelegram(_0x332b6c))return;tgBot['removeListener']('callback_query'),await getMessages();if(!updateAvailable)tgBot[_0x98c09a(0x33a)](_0x332b6c['chat']['id'],'Your\x20installation\x20is\x20already\x20up\x20to\x20date')[_0x98c09a(0x2fe)](_0x1e3080=>{telegramError(_0x1e3080);});else!validInstallation?tgBot[_0x98c09a(0x33a)](_0x332b6c[_0x98c09a(0x32d)]['id'],_0x98c09a(0x300))[_0x98c09a(0x2fe)](_0x43e2e5=>{telegramError(_0x43e2e5);}):(tgBot[_0x98c09a(0x33a)](_0x332b6c[_0x98c09a(0x32d)]['id'],_0x98c09a(0x203),{'reply_markup':{'inline_keyboard':[[{'text':_0x98c09a(0x2bd),'callback_data':'yes'},{'text':'No','callback_data':'no'}]]}})['catch'](_0x403669=>{telegramError(_0x403669);}),tgBot['on']('callback_query',async _0x1b3877=>{const _0x348613=_0x98c09a,_0x44e6f9=_0x1b3877[_0x348613(0x37a)],_0x4ce629=_0x1b3877[_0x348613(0x301)];tgBot[_0x348613(0x320)](_0x1b3877['id'])['then'](async()=>{const _0x5e7e89=_0x348613;_0x44e6f9==_0x5e7e89(0x2af)&&(await tgBot[_0x5e7e89(0x33a)](_0x4ce629[_0x5e7e89(0x32d)]['id'],_0x5e7e89(0x285))[_0x5e7e89(0x2fe)](_0x4098f8=>{telegramError(_0x4098f8);}),updateBB(_0x5e7e89(0x2da))),_0x44e6f9=='no'&&await tgBot[_0x5e7e89(0x33a)](_0x4ce629[_0x5e7e89(0x32d)]['id'],'Ok,\x20consider\x20updating\x20Balance\x20Bot\x20later')[_0x5e7e89(0x2fe)](_0x4f61eb=>{telegramError(_0x4f61eb);});}),tgBot['removeListener'](_0x348613(0x30c));}));}),tgBot[_0x4f92c5(0x25c)](/\/reinstall/,async _0x5666fd=>{const _0x4b4838=_0x4f92c5;if(!validateTelegram(_0x5666fd))return;tgBot[_0x4b4838(0x331)](_0x4b4838(0x30c)),!validInstallation?tgBot[_0x4b4838(0x33a)](_0x5666fd[_0x4b4838(0x32d)]['id'],'Your\x20installation\x20does\x20not\x20support\x20reinstalling\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20reinstallation')[_0x4b4838(0x2fe)](_0x1e4684=>{telegramError(_0x1e4684);}):(tgBot[_0x4b4838(0x33a)](_0x5666fd[_0x4b4838(0x32d)]['id'],_0x4b4838(0x1fc),{'reply_markup':{'inline_keyboard':[[{'text':_0x4b4838(0x2bd),'callback_data':_0x4b4838(0x2af)},{'text':'No','callback_data':'no'}]]}})[_0x4b4838(0x2fe)](_0xf0e653=>{telegramError(_0xf0e653);}),tgBot['on'](_0x4b4838(0x30c),async _0x9343f4=>{const _0x26d298=_0x4b4838,_0x235643=_0x9343f4[_0x26d298(0x37a)],_0x4b92fc=_0x9343f4['message'];tgBot['answerCallbackQuery'](_0x9343f4['id'])[_0x26d298(0x242)](async()=>{const _0x389bc8=_0x26d298;_0x235643==_0x389bc8(0x2af)&&(await tgBot[_0x389bc8(0x33a)](_0x4b92fc[_0x389bc8(0x32d)]['id'],_0x389bc8(0x2ac))['catch'](_0x1020a0=>{telegramError(_0x1020a0);}),updateBB(_0x389bc8(0x251))),_0x235643=='no'&&await tgBot[_0x389bc8(0x33a)](_0x4b92fc[_0x389bc8(0x32d)]['id'],_0x389bc8(0x230))[_0x389bc8(0x2fe)](_0x17e507=>{telegramError(_0x17e507);});}),tgBot[_0x26d298(0x331)](_0x26d298(0x30c));}));}),tgBot['onText'](/\/toggle/,_0x5146dc=>{const _0x3cc252=_0x4f92c5;if(!validateTelegram(_0x5146dc))return;tgBot[_0x3cc252(0x331)](_0x3cc252(0x30c));const _0x1142c4=getBotsWithMode();if(_0x1142c4[_0x3cc252(0x2e9)]==0x0)tgBot[_0x3cc252(0x33a)](_0x5146dc[_0x3cc252(0x32d)]['id'],_0x3cc252(0x2bf))['catch'](_0x501641=>{telegramError(_0x501641);});else{let _0x3c9fde=[],_0x1b9928=[];const _0x314671=0x2;let _0x4a7342=0x0;_0x1142c4[_0x3cc252(0x31d)]((_0x1bf4d,_0x503dc9)=>{const _0x570af3=_0x3cc252;if(_0x503dc9%_0x314671==0x0)_0x1b9928=[];_0x1b9928[_0x570af3(0x22b)]({'text':_0x570af3(0x22f)+_0x1bf4d[_0x570af3(0x2ad)]+'\x20('+_0x1bf4d[_0x570af3(0x23a)]+')','callback_data':_0x1bf4d['botID']}),_0x503dc9%_0x314671==0x0&&(_0x3c9fde[_0x4a7342]=_0x1b9928,_0x4a7342++);}),tgBot[_0x3cc252(0x33a)](_0x5146dc[_0x3cc252(0x32d)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?',{'reply_markup':{'inline_keyboard':_0x3c9fde}})['catch'](_0x6a34eb=>{telegramError(_0x6a34eb);}),tgBot['on'](_0x3cc252(0x30c),async _0x2cd4a4=>{const _0x18fd6a=_0x3cc252,_0x259741=_0x2cd4a4['data'],_0x54336c=_0x2cd4a4['message'];tgBot[_0x18fd6a(0x320)](_0x2cd4a4['id'])['then'](async()=>{const _0x114d86=_0x18fd6a,_0x297e1c=_0x1142c4[_0x114d86(0x28e)](_0x565f60=>_0x565f60[_0x114d86(0x2ad)]==_0x259741),_0x1e7be2=_0x297e1c[_0x114d86(0x23a)]=='auto'?_0x114d86(0x323):_0x114d86(0x1e2);tgBot[_0x114d86(0x33a)](_0x54336c[_0x114d86(0x32d)]['id'],_0x114d86(0x293)+_0x259741+'\x20to\x20'+_0x1e7be2+_0x114d86(0x2ae))['catch'](_0x49ad87=>{telegramError(_0x49ad87);}),toggleBotMode(_0x259741);}),tgBot['removeListener'](_0x18fd6a(0x30c));});}}),tgBot[_0x4f92c5(0x25c)](/\/names/,_0x4cc066=>{const _0x4f29b7=_0x4f92c5;if(!validateTelegram(_0x4cc066))return;let _0x4a532c='';config['forEach'](_0x1983af=>{const _0x4dee79=_0x491c;_0x4a532c+=_0x4dee79(0x22f)+_0x1983af[_0x4dee79(0x2ad)]+':\x20'+_0x1983af[_0x4dee79(0x2cf)]+'\x0a';}),tgBot[_0x4f29b7(0x33a)](_0x4cc066['chat']['id'],_0x4a532c,{'parse_mode':_0x4f29b7(0x370)})[_0x4f29b7(0x2fe)](_0x469941=>{telegramError(_0x469941);});}),tgBot[_0x4f92c5(0x25c)](/\/disable/,_0xf45971=>{const _0x10b2e0=_0x4f92c5;if(!validateTelegram(_0xf45971))return;tgBot[_0x10b2e0(0x33a)](_0xf45971[_0x10b2e0(0x32d)]['id'],_0x10b2e0(0x2f5))[_0x10b2e0(0x2fe)](_0x297815=>{telegramError(_0x297815);}),updateSetting('telegramEnabled',![]);}),tgBot[_0x4f92c5(0x25c)](/\/help/,_0x51e81e=>{const _0x58580f=_0x4f92c5;if(!validateTelegram(_0x51e81e))return;tgBot[_0x58580f(0x33a)](_0x51e81e[_0x58580f(0x32d)]['id'],_0x3d7307)['catch'](_0x16f4bf=>{telegramError(_0x16f4bf);});}),tgBot['on']('polling_error',_0x69da93=>{const _0x20e239=_0x4f92c5;_0x69da93['toString']()[_0x20e239(0x254)](_0x20e239(0x2eb))&&(logger['full']('Invalid\x20Telegram\x20token'),tgBot['stopPolling'](),tgBot=null,io['to']('botmanager')['emit']('notification',_0x20e239(0x34d)));}),process[_0x4f92c5(0x32c)](_0x4f92c5(0x31a),()=>{const _0x2336e5=_0x4f92c5;if(tgBot)tgBot[_0x2336e5(0x21c)]();process[_0x2336e5(0x218)](0x1);}),process[_0x4f92c5(0x32c)](_0x4f92c5(0x2f6),()=>{const _0x2228f7=_0x4f92c5;if(tgBot)tgBot[_0x2228f7(0x21c)]();process[_0x2228f7(0x218)](0x1);});}}function disableTelegram(){tgBot&&(tgBot['stopPolling'](),tgBot=null);}function sendTelegram(_0x577e77,_0x409db4){const _0x4d34ba=_0x54656c;if(settings['telegramEnabled']){if(settings[_0x4d34ba(0x2a8)]==_0x4d34ba(0x36b)||(_0x409db4[_0x4d34ba(0x1d0)]==_0x4d34ba(0x2cd)||_0x409db4[_0x4d34ba(0x1d0)]==_0x4d34ba(0x29a)||_0x409db4[_0x4d34ba(0x1d0)]==_0x4d34ba(0x2b6))&&settings[_0x4d34ba(0x2a8)]==_0x4d34ba(0x2c4)||_0x409db4[_0x4d34ba(0x1d0)]=='order'&&settings[_0x4d34ba(0x2a8)]=='orders'){if(tgBot&&settings[_0x4d34ba(0x2e5)]){if(_0x409db4[_0x4d34ba(0x24c)])tgBot[_0x4d34ba(0x33a)](settings[_0x4d34ba(0x2e5)],_0x409db4[_0x4d34ba(0x2cf)]+_0x4d34ba(0x332)+_0x409db4['event'])['catch'](_0xd24e4f=>{telegramError(_0xd24e4f);});else tgBot[_0x4d34ba(0x33a)](settings[_0x4d34ba(0x2e5)],_0x4d34ba(0x22f)+_0x577e77+_0x4d34ba(0x332)+_0x409db4[_0x4d34ba(0x378)])[_0x4d34ba(0x2fe)](_0x582e98=>{telegramError(_0x582e98);});}}}}async function sendTelegramMsg(_0x3ccf29,_0x5d31ca=_0x54656c(0x370)){const _0x552576=_0x54656c;return settings[_0x552576(0x1e9)]&&tgBot&&settings[_0x552576(0x2e5)]?(await tgBot[_0x552576(0x33a)](settings[_0x552576(0x2e5)],_0x3ccf29,{'parse_mode':_0x5d31ca})[_0x552576(0x2fe)](_0xc9edcb=>{telegramError(_0xc9edcb);}),!![]):![];}function getDeviceWithIp(_0x1fb519){const _0x3a8eee=_0x54656c;return devices[_0x3a8eee(0x28e)](_0x24bf4e=>_0x24bf4e['ip']===_0x1fb519);}function temporaryAccess2FA(_0x32ace0,_0x1e0f78){const _0x878199=_0x54656c;let _0x6f8490=new Date(),_0xf34d9b=![];if(lastIpApproval){if(_0x6f8490-lastIpApproval<0x1388)_0xf34d9b=!![];}lastIpApproval=new Date();if(_0xf34d9b)return;tgBot&&settings['telegramChatId']&&(tgBot[_0x878199(0x331)](_0x878199(0x30c)),tgBot[_0x878199(0x33a)](settings['telegramChatId'],_0x878199(0x2fb)+normalizeIP(_0x1e0f78)[_0x878199(0x289)]+'</b>\x20?',{'parse_mode':_0x878199(0x370),'reply_markup':{'inline_keyboard':[[{'text':'5\x20min','callback_data':'5'},{'text':'15\x20min','callback_data':'15'},{'text':_0x878199(0x344),'callback_data':'30'},{'text':_0x878199(0x2f8),'callback_data':_0x878199(0x2f8)}]]}})[_0x878199(0x2fe)](_0x27f461=>{telegramError(_0x27f461);}),tgBot['on'](_0x878199(0x30c),async _0xa160f5=>{const _0x3018cd=_0x878199,_0x17613c=_0xa160f5[_0x3018cd(0x37a)],_0x5f214c=_0xa160f5[_0x3018cd(0x301)];tgBot['answerCallbackQuery'](_0xa160f5['id'])[_0x3018cd(0x242)](async()=>{const _0x33706e=_0x3018cd;devices[_0x32ace0][_0x33706e(0x292)]={'clientip':_0x1e0f78,'timestamp':new Date()[_0x33706e(0x2b0)](),'expiry':_0x17613c},_0x17613c!=_0x33706e(0x2f8)?(await tgBot[_0x33706e(0x33a)](_0x5f214c[_0x33706e(0x32d)]['id'],_0x33706e(0x291)+_0x17613c+_0x33706e(0x35e),{'parse_mode':_0x33706e(0x370)})[_0x33706e(0x2fe)](_0x6b5e13=>{telegramError(_0x6b5e13);}),io['to'](_0x32ace0)['emit'](_0x33706e(0x1e1),{'access':{'allow':![],'reason':_0x33706e(0x266),'token':null}})):(await tgBot[_0x33706e(0x33a)](_0x5f214c['chat']['id'],_0x33706e(0x353))[_0x33706e(0x2fe)](_0x5b7406=>{telegramError(_0x5b7406);}),io['to'](_0x32ace0)[_0x33706e(0x223)](_0x33706e(0x1e1),{'access':{'allow':![],'reason':_0x33706e(0x2ba),'token':null}}));}),tgBot[_0x3018cd(0x331)](_0x3018cd(0x30c));}));}function loginAccess2FA(_0x5393c0,_0x523703){const _0x1958c0=_0x54656c;tgBot&&settings[_0x1958c0(0x2e5)]&&(tgBot[_0x1958c0(0x331)](_0x1958c0(0x30c)),tgBot['sendMessage'](settings[_0x1958c0(0x2e5)],_0x1958c0(0x1d5)+normalizeIP(_0x523703)[_0x1958c0(0x289)]+'</b>\x20?',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x1958c0(0x1de),'callback_data':loginExpiry},{'text':'reject','callback_data':_0x1958c0(0x2f8)}]]}})[_0x1958c0(0x2fe)](_0x874870=>{telegramError(_0x874870);}),tgBot['on'](_0x1958c0(0x30c),async _0x1936c4=>{const _0xd2d956=_0x1958c0,_0xc23f72=_0x1936c4[_0xd2d956(0x37a)],_0xbe5a8b=_0x1936c4['message'];tgBot[_0xd2d956(0x320)](_0x1936c4['id'])[_0xd2d956(0x242)](async()=>{const _0x4a1d4c=_0xd2d956;devices[_0x5393c0][_0x4a1d4c(0x228)]={'clientip':_0x523703,'timestamp':new Date()['getTime'](),'expiry':_0xc23f72},_0xc23f72!='reject'?(await tgBot[_0x4a1d4c(0x33a)](_0xbe5a8b[_0x4a1d4c(0x32d)]['id'],_0x4a1d4c(0x1c8),{'parse_mode':_0x4a1d4c(0x370)})[_0x4a1d4c(0x2fe)](_0x16ea4e=>{telegramError(_0x16ea4e);}),io['to'](_0x5393c0)[_0x4a1d4c(0x223)](_0x4a1d4c(0x1e1),{'access':{'allow':![],'reason':_0x4a1d4c(0x266),'token':null}})):(await tgBot[_0x4a1d4c(0x33a)](_0xbe5a8b[_0x4a1d4c(0x32d)]['id'],'Login\x20rejected')[_0x4a1d4c(0x2fe)](_0x3c75dc=>{telegramError(_0x3c75dc);}),io['to'](_0x5393c0)['emit'](_0x4a1d4c(0x1e1),{'access':{'allow':![],'reason':_0x4a1d4c(0x2fc),'token':null}}));}),tgBot[_0xd2d956(0x331)]('callback_query');}));}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x483dc6=_0x54656c;return dbConfig[_0x483dc6(0x37c)](_0x483dc6(0x281))[_0x483dc6(0x34f)]('botID')[_0x483dc6(0x26e)]({'status':_0x483dc6(0x23d)})[_0x483dc6(0x22e)]()||[];}function getDisabledBots(){const _0x5d7b73=_0x54656c;return dbConfig['get'](_0x5d7b73(0x281))[_0x5d7b73(0x34f)](_0x5d7b73(0x2ad))[_0x5d7b73(0x26e)]({'status':_0x5d7b73(0x347)})[_0x5d7b73(0x22e)]()||[];}function getBotAttributes(_0x48ff91){const _0x565a99=_0x54656c;let _0x4db4a7={};const _0x442cd4=configpath+_0x565a99(0x1ff)+_0x48ff91+_0x565a99(0x240),_0x21edcb=fs[_0x565a99(0x21a)](_0x442cd4);if(_0x21edcb){const _0x230bff=fs[_0x565a99(0x25a)](_0x442cd4);try{const _0x13fafa=JSON[_0x565a99(0x1c3)](_0x230bff),_0x356cda=_0x13fafa?_0x13fafa[_0x565a99(0x25f)][0x0]['headless']:![];_0x4db4a7[_0x565a99(0x23a)]=_0x356cda?_0x565a99(0x1e2):_0x565a99(0x323),_0x4db4a7[_0x565a99(0x2cf)]=_0x13fafa?_0x13fafa['bot'][0x0][_0x565a99(0x2cf)]:_0x565a99(0x22f)+_0x48ff91;}catch(_0x186e17){_0x4db4a7[_0x565a99(0x23a)]=_0x565a99(0x323),_0x4db4a7[_0x565a99(0x2cf)]='Bot\x20'+_0x48ff91;}}else _0x4db4a7[_0x565a99(0x23a)]=_0x565a99(0x323),_0x4db4a7[_0x565a99(0x2cf)]=_0x565a99(0x22f)+_0x48ff91;return _0x4db4a7;}function getBotsWithMode(){const _0x28d51f=_0x54656c,_0x10a7ef=dbConfig[_0x28d51f(0x37c)]('bots')[_0x28d51f(0x34f)](_0x28d51f(0x2ad))['value']()||[];return _0x10a7ef[_0x28d51f(0x31d)](_0x312e49=>{const _0x5184b8=_0x28d51f;let _0x3b62b9=getBotAttributes(_0x312e49['botID']);_0x312e49[_0x5184b8(0x23a)]=_0x3b62b9[_0x5184b8(0x23a)];}),_0x10a7ef;}function getBotExchanges(){const _0x12cf45=_0x54656c;let _0x57d3b9=[];const _0x463c2f=dbConfig[_0x12cf45(0x37c)](_0x12cf45(0x281))[_0x12cf45(0x34f)](_0x12cf45(0x2ad))[_0x12cf45(0x22e)]()||[];_0x463c2f['forEach'](_0x101f61=>{const _0x51aa12=_0x12cf45;if(_0x101f61[_0x51aa12(0x1e1)]==_0x51aa12(0x23d)){const _0x3613ef=configpath+'bot-'+_0x101f61[_0x51aa12(0x2ad)]+'-config.json',_0x46a2f7=fs[_0x51aa12(0x21a)](_0x3613ef);let _0x405275;if(_0x46a2f7){const _0x2bc8ad=fs['readFileSync'](_0x3613ef);try{const _0x3f13ab=JSON[_0x51aa12(0x1c3)](_0x2bc8ad);_0x405275=_0x3f13ab?_0x3f13ab[_0x51aa12(0x25f)][0x0][_0x51aa12(0x20d)]:null;}catch(_0xb4a123){}}if(_0x405275)_0x57d3b9['push'](_0x405275);}});const _0x3698c9=[...new Set(_0x57d3b9)][_0x12cf45(0x28f)]();return _0x3698c9;}async function initUser(){const _0x1fd0a1=_0x54656c;if(!settings['userid']){const _0x1b9c99=uuidRandom();mixpanel[_0x1fd0a1(0x346)](_0x1b9c99),updateSetting(_0x1fd0a1(0x2ab),_0x1b9c99);}}async function initSecure(){const _0x1fec61=_0x54656c;let _0x1f1aa5=getSecure();if(!_0x1f1aa5['hasOwnProperty'](_0x1fec61(0x2a9))){let _0x507b70=await generateKeys();_0x1f1aa5[_0x1fec61(0x278)]=_0x507b70[_0x1fec61(0x278)],_0x1f1aa5[_0x1fec61(0x1c2)]=_0x507b70[_0x1fec61(0x1c2)],_0x1f1aa5['secret']=crypto[_0x1fec61(0x31b)](0x20)[_0x1fec61(0x26b)](_0x1fec61(0x30d));;storeSecure(_0x1f1aa5);}}function getSettings(){const _0x25b6df=_0x54656c;return dbSettings[_0x25b6df(0x37c)](_0x25b6df(0x356))[_0x25b6df(0x22e)]()||{};}function getSecure(){const _0x584710=_0x54656c;return dbSecure['get'](_0x584710(0x29f))[_0x584710(0x22e)]()||{};}function getBlacklist(){const _0x31abba=_0x54656c;return dbSecure[_0x31abba(0x37c)](_0x31abba(0x317))[_0x31abba(0x22e)]()||[];}function broadcastToBots(_0x543f67,_0x5e1e66){config['forEach'](_0x1943fc=>{const _0x20d228=_0x491c;if(_0x1943fc['status']==_0x20d228(0x23d)&&_0x1943fc['live']==_0x20d228(0x24e)){if(pid[_0x1943fc[_0x20d228(0x2ad)]])pid[_0x1943fc[_0x20d228(0x2ad)]][_0x20d228(0x2e4)]({[_0x543f67]:_0x5e1e66});}});}function storeSettings(_0x80c5dd,_0x4efee8=![]){const _0x52374c=_0x54656c;_0x80c5dd={...settings,..._0x80c5dd};if(_0x4efee8&&_0x80c5dd[_0x52374c(0x20c)]!=_0x52374c(0x1d2)&&_0x80c5dd['bbPassword']!=_0x52374c(0x214)&&_0x80c5dd[_0x52374c(0x20c)]!=''){const _0x114b4d=crypt[_0x52374c(0x271)](secure[_0x52374c(0x1c2)],_0x80c5dd['bbPassword'])[_0x52374c(0x301)][_0x52374c(0x220)]('@')[0x0],_0x307a7c=bcrypt[_0x52374c(0x1f6)](_0x114b4d,saltRounds);_0x80c5dd={..._0x80c5dd,'bbPassword':_0x307a7c};}if(_0x4efee8&&_0x80c5dd[_0x52374c(0x329)]!='************'&&_0x80c5dd['telegramToken']!='***'&&_0x80c5dd['telegramToken']!=''){const _0x44ab9f=crypt[_0x52374c(0x271)](secure[_0x52374c(0x1c2)],_0x80c5dd[_0x52374c(0x329)])[_0x52374c(0x301)]['split']('@')[0x0];_0x80c5dd={..._0x80c5dd,'telegramToken':_0x44ab9f};}const _0x181968=_0x80c5dd[_0x52374c(0x329)]!=_0x52374c(0x1d2)&&_0x80c5dd[_0x52374c(0x329)]!=settings[_0x52374c(0x329)]||_0x80c5dd['telegramUsername']!=settings[_0x52374c(0x249)],_0x3a9c77=_0x80c5dd[_0x52374c(0x329)]==''||_0x80c5dd[_0x52374c(0x249)]=='';if(_0x181968)_0x80c5dd[_0x52374c(0x2a8)]='all';for(const [_0x2480bf,_0x1a8675]of Object['entries'](_0x80c5dd)){if(_0x2480bf==_0x52374c(0x329)&&_0x1a8675=='************'){_0x80c5dd['telegramToken']=settings[_0x52374c(0x329)];continue;};if(_0x2480bf==_0x52374c(0x20c)&&_0x1a8675==_0x52374c(0x1d2)){_0x80c5dd[_0x52374c(0x20c)]=settings['bbPassword'];continue;};dbSettings[_0x52374c(0x351)](_0x52374c(0x34e)+_0x2480bf,_0x1a8675)[_0x52374c(0x1eb)]();}settings=_0x80c5dd,io['to'](_0x52374c(0x207))[_0x52374c(0x223)](_0x52374c(0x356),cleanSettings()),broadcastToBots('timeshift',settings[_0x52374c(0x29d)]);if(_0x181968&&!_0x3a9c77)initTelegram();if(_0x181968&&_0x3a9c77)disableTelegram();getAllClients()['forEach'](_0xae4268=>{const _0x25f57d=_0x52374c;getSocket(_0xae4268['id'])[_0x25f57d(0x223)](_0x25f57d(0x1e1),{'access':{'allow':![],'reason':_0x25f57d(0x266),'token':null}});});}function updateSetting(_0x3a0e03,_0x4143e3){const _0x34bdf4=_0x54656c;dbSettings['set'](_0x34bdf4(0x34e)+_0x3a0e03,_0x4143e3)[_0x34bdf4(0x1eb)](),settings=getSettings(),io['to'](_0x34bdf4(0x207))[_0x34bdf4(0x223)]('settings',cleanSettings());}function storeSecure(_0xb99b68){const _0x2ec02d=_0x54656c;dbSecure['get']('secure')[_0x2ec02d(0x22b)](_0xb99b68)[_0x2ec02d(0x1eb)](),secure=_0xb99b68;}function addBlacklist(_0x1bc688){const _0x34a1c8=_0x54656c;cleanBlacklist();let _0x15562f;devices[_0x1bc688][_0x34a1c8(0x292)]?_0x15562f=Math[_0x34a1c8(0x309)](devices[_0x1bc688]['telegramIpApproval']['expiry'],loginExpiry):_0x15562f=loginExpiry,dbSecure['get'](_0x34a1c8(0x317))['push']({'expiry':new Date()[_0x34a1c8(0x2b0)]()+_0x15562f*0x3c*0x3e8,'token':devices[_0x1bc688]['access'][_0x34a1c8(0x2ef)]})[_0x34a1c8(0x1eb)](),blacklist=dbSecure[_0x34a1c8(0x37c)](_0x34a1c8(0x317))[_0x34a1c8(0x22e)]();}function cleanBlacklist(){const _0xb04192=_0x54656c;let _0x278f63=dbSecure[_0xb04192(0x37c)](_0xb04192(0x317))[_0xb04192(0x206)]()[_0xb04192(0x22e)](),_0x10b0e0=new Date()[_0xb04192(0x2b0)]();_0x278f63[_0xb04192(0x31d)](_0x29968d=>{const _0x49bd07=_0xb04192;_0x29968d[_0x49bd07(0x2f0)]<_0x10b0e0&&dbSecure[_0x49bd07(0x37c)]('blacklist')[_0x49bd07(0x25d)]({'expiry':_0x29968d['expiry']})['write']();});}function initStates(){const _0x59a1ff=_0x54656c;let _0x1ae098=getConfiguration();_0x1ae098[_0x59a1ff(0x31d)](_0x36e3e4=>{const _0x5a44bd=_0x59a1ff;_0x36e3e4[_0x5a44bd(0x306)]=_0x5a44bd(0x315);}),storeConfiguration(_0x1ae098);}function onKeys(){const _0x473151=new RSA();return new Promise(_0x47fd34=>{const _0x48b8b6=_0x491c;_0x473151[_0x48b8b6(0x364)]()[_0x48b8b6(0x242)](_0x52382f=>{_0x47fd34(_0x52382f);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x5520f4=_0x54656c;let _0x508a4b=getSettings(),_0x37485a=![];!_0x508a4b['hasOwnProperty'](_0x5520f4(0x2e8))&&(_0x508a4b[_0x5520f4(0x2e8)]=0x0,_0x37485a=!![]);!_0x508a4b[_0x5520f4(0x2d6)]('lastmsgemitted')&&(_0x508a4b[_0x5520f4(0x239)]=0x0,_0x37485a=!![]);!_0x508a4b[_0x5520f4(0x2d6)]('latestversion')&&(_0x508a4b[_0x5520f4(0x2dc)]=_0x5520f4(0x2d5),_0x37485a=!![]);if(_0x37485a)storeSettings(_0x508a4b);}function storeConfiguration(_0x2958db){const _0x513e2f=_0x54656c;dbConfig[_0x513e2f(0x37c)](_0x513e2f(0x281))[_0x513e2f(0x25d)]()[_0x513e2f(0x1eb)](),_0x2958db['forEach'](_0x302996=>{const _0x5d55a4=_0x513e2f;delete _0x302996[_0x5d55a4(0x23a)];}),dbConfig['get']('bots')[_0x513e2f(0x22b)](..._0x2958db)[_0x513e2f(0x1eb)](),config=_0x2958db;}function resetPassword(){const _0x5a65af=_0x54656c;tgBot&&settings['telegramChatId']&&(tgBot[_0x5a65af(0x331)]('callback_query'),tgBot['sendMessage'](settings[_0x5a65af(0x2e5)],_0x5a65af(0x295),{'parse_mode':_0x5a65af(0x370),'reply_markup':{'inline_keyboard':[[{'text':_0x5a65af(0x2af),'callback_data':'yes'},{'text':'no','callback_data':'no'}]]}})[_0x5a65af(0x2fe)](_0x217db4=>{telegramError(_0x217db4);}),tgBot['on'](_0x5a65af(0x30c),async _0x13ae9e=>{const _0x59c0b5=_0x5a65af,_0x2b5340=_0x13ae9e[_0x59c0b5(0x37a)],_0xc7bcd1=_0x13ae9e['message'];tgBot['answerCallbackQuery'](_0x13ae9e['id'])[_0x59c0b5(0x242)](async()=>{const _0x5adb26=_0x59c0b5;if(_0x2b5340!='no'){const _0x2ddc89=0xf,_0xbc167e=_0x5adb26(0x304),_0x5cc3a2=Array[_0x5adb26(0x2ea)](crypto[_0x5adb26(0x2b8)](new Uint32Array(_0x2ddc89)))['map'](_0x3de90f=>_0xbc167e[_0x3de90f%_0xbc167e['length']])[_0x5adb26(0x360)](''),_0x398520=bcrypt[_0x5adb26(0x1f6)](_0x5cc3a2,saltRounds);storeSettings({'bbPassword':_0x398520}),await tgBot[_0x5adb26(0x33a)](_0xc7bcd1[_0x5adb26(0x32d)]['id'],_0x5adb26(0x1c6)+_0x5cc3a2,{'parse_mode':_0x5adb26(0x370)})[_0x5adb26(0x2fe)](_0x3bca7b=>{telegramError(_0x3bca7b);});}else await tgBot[_0x5adb26(0x33a)](_0xc7bcd1[_0x5adb26(0x32d)]['id'],_0x5adb26(0x2d7))[_0x5adb26(0x2fe)](_0x574670=>{telegramError(_0x574670);});}),tgBot[_0x59c0b5(0x331)](_0x59c0b5(0x30c));}));}async function confirmRestore(_0x23259c,_0x1cb9c1){const _0x117d35=_0x54656c;io['to'](_0x117d35(0x207))[_0x117d35(0x223)](_0x117d35(0x1d7),_0x117d35(0x267),_0x117d35(0x2b6)),tgBot&&settings[_0x117d35(0x2e5)]&&(tgBot[_0x117d35(0x331)](_0x117d35(0x30c)),await tgBot[_0x117d35(0x33a)](settings[_0x117d35(0x2e5)],_0x117d35(0x307),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x117d35(0x2af),'callback_data':_0x117d35(0x2af)},{'text':'no','callback_data':'no'}]]}})['catch'](_0xcea0c7=>{telegramError(_0xcea0c7);}),tgBot['on'](_0x117d35(0x30c),async _0x44ed44=>{const _0x1b04f1=_0x117d35,_0x2af64f=_0x44ed44[_0x1b04f1(0x37a)],_0x11b8b3=_0x44ed44[_0x1b04f1(0x301)];tgBot[_0x1b04f1(0x320)](_0x44ed44['id'])['then'](async()=>{const _0x493751=_0x1b04f1;_0x2af64f==_0x493751(0x2af)?(await tgBot[_0x493751(0x33a)](_0x11b8b3[_0x493751(0x32d)]['id'],_0x493751(0x1e7),{'parse_mode':_0x493751(0x370)})[_0x493751(0x2fe)](_0x2fee2a=>{telegramError(_0x2fee2a);}),unzipFile(_0x23259c,_0x1cb9c1)):(logger[_0x493751(0x2e3)](_0x493751(0x222)),await tgBot['sendMessage'](_0x11b8b3['chat']['id'],_0x493751(0x222))['catch'](_0x501daa=>{telegramError(_0x501daa);}));}),tgBot[_0x1b04f1(0x331)](_0x1b04f1(0x30c));}));}function getServerTime(){const _0x59821c=_0x54656c,_0x4233c8=new Date();return _0x4233c8[_0x59821c(0x1c0)]()+'/'+(_0x4233c8[_0x59821c(0x27f)]()+0x1)[_0x59821c(0x26b)]()[_0x59821c(0x1f0)](0x2,'0')+'/'+_0x4233c8[_0x59821c(0x2f1)]()['toString']()[_0x59821c(0x1f0)](0x2,'0')+'\x20'+_0x4233c8[_0x59821c(0x248)]()['toString']()[_0x59821c(0x1f0)](0x2,'0')+':'+_0x4233c8[_0x59821c(0x1fb)]()[_0x59821c(0x26b)]()[_0x59821c(0x1f0)](0x2,'0')+':'+_0x4233c8[_0x59821c(0x36d)]()['toString']()[_0x59821c(0x1f0)](0x2,'0');}function getTimeStamp(){const _0x391d0d=_0x54656c,_0x4d10f0=shiftedTime();return _0x4d10f0[_0x391d0d(0x1c0)]()+'/'+(_0x4d10f0[_0x391d0d(0x27f)]()+0x1)[_0x391d0d(0x26b)]()['padStart'](0x2,'0')+'/'+_0x4d10f0[_0x391d0d(0x2f1)]()[_0x391d0d(0x26b)]()[_0x391d0d(0x1f0)](0x2,'0')+'\x20'+_0x4d10f0[_0x391d0d(0x248)]()[_0x391d0d(0x26b)]()[_0x391d0d(0x1f0)](0x2,'0')+':'+_0x4d10f0[_0x391d0d(0x1fb)]()[_0x391d0d(0x26b)]()[_0x391d0d(0x1f0)](0x2,'0')+':'+_0x4d10f0['getSeconds']()[_0x391d0d(0x26b)]()['padStart'](0x2,'0');}function _0x29da(){const _0x32117b=['get-messages','zip/','sha256','socket.io','find','sort','/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a','Access\x20enabled\x20for\x20','telegramIpApproval','Bot\x20Mgr\x20>\x20toggling\x20Bot\x20','No\x20authentication\x20token','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','mkdirSync','Crypt','bb-secure.json','output-002.log','warning','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','/update\x20-\x20update\x20Balance\x20Bot\x0a','timeshift','/:bot/history','secure','version','restart','connected','messages','auth','sendPortfolioTelegram','\x20(2)','request','telegramEvents','secret','Unauthorized\x20attempt\x20to\x20get\x20portfolio','userid','Starting\x20Balance\x20Bot\x20reinstallation','botID','\x20mode','yes','getTime','port','socket','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','\x20only\x0a','For\x20which\x20bot\x20do\x20you\x20want\x20the\x20portfolio?','success','ipc','randomFillSync','confirm-message','temporary\x20access\x20rejected','post','logs','Yes','/on\x20-\x20start\x20bot(s)\x0a','No\x20bots\x20running\x20right\x20now','config/','telegram','static','build','alerts','1689135IDOlHc','compareSync','backup-full','https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master','exp','Notifications\x20disabled\x0a','sign','/output-000.log','error','Server','botname','delete-alerts','login\x20required','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','crypto','initclient','0.0.0','hasOwnProperty','Password\x20reset\x20rejected','<b>Balance\x20Bot\x20Status:</b>\x0a','invalid\x20credentials','update','params','latestversion','Unauthorized\x20login\x20attempt\x20(timeout)','updatebotmanager','store-headless','Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot','test','temp/','debug','send','telegramChatId','new-disabled','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','lastmsgtelegram','length','from','404\x20Not\x20Found','number','11957jqYVCf','http','token','expiry','getDate','match','RSA','output-001.log','Notifications\x20disabled','SIGTERM','function','reject','Unauthorized\x20attempt\x20to\x20update\x20bot','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','2FA\x20login\x20rejected','Notifications\x20enabled\x0a','catch','starting\x20bot\x20|\x20Bot\x20','Your\x20installation\x20does\x20not\x20support\x20updating\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20update','message','tkn','lowdb','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','store-settings','live','Do\x20you\x20want\x20to\x20restore\x20your\x20installation?\x20NOTE:\x20this\x20will\x20replace\x20your\x20current\x20settings\x20and\x20bot(s)','files','max','3107783lHAibM','express','callback_query','hex','encryptedUuid','node-zip','logs/','uuid-random','Orders','User\x20has\x20been\x20validated','\x20|\x20','stopped','whitelistEnabled','blacklist','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','Unauthorized\x20attempt\x20to\x20confirm\x20message','SIGINT','randomBytes','api-eu.mixpanel.com','forEach','2FA\x20required','691998kvszPt','answerCallbackQuery','Bearer\x20eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U','password','manual','toIPv4Address','::ffff:127.0.0.1','pidRefreshToken','readdirSync','-events.json','telegramToken','backup/','backup-full@','once','chat','Token\x20blacklisted','toIPv4MappedAddress','2FA\x20login\x20required','removeListener','\x20>\x20','5YOizFs','-performance.json','2FA','place-order','_data','statSync','env','sendMessage','uuid','clientip','Invalid\x20authentication\x20token\x20(2)','reason','1000','login\x20not\x20required','pidExpireLogin','full','getUTCHours','30\x20min','logout','alias','disabled','child_process','use','host','add-bot','https://api.ipify.org?format=json','Invalid\x20Telegram\x20token','settings.','sortBy','14964zpCcCQ','set','generate','Temporary\x20access\x20rejected','startsWith','new','settings','isDirectory','(((.+)+)+)+$','simple','login\x20token\x20valid','showConfig','apiKey','Unauthorized\x20attempt\x20to\x20delete\x20bot','\x20minutes','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','join','/names\x20-\x20show\x20bot\x20names\x0a','inherit','login','generateKeyPairAsync','handshake','Unauthorized\x20attempt\x20to\x20show\x20configuration','get-portfolio','toggle-bot-mode','DEFLATE','Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins','all','temporary\x20access\x20not\x20allowed','getSeconds','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','headless','HTML','/off\x20-\x20stop\x20bot(s)\x0a','You\x20can\x20use\x20the\x20following\x20commands:\x0a','argv','Ok,\x20will\x20send\x20alert\x20notifications\x20only','Unauthorized\x20attempt\x20to\x20delete\x20alerts','connection','bot.js','event','disconnect','data','emitHistory','get','date-fns','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','getFullYear','reset-password','privateKey','parse','temporary\x20token\x20generated','loginRequired','Password\x20has\x20been\x20reset\x20to:\x20','/status\x20-\x20show\x20bot(s)\x20status\x0a','Login\x20accepted','allow','temporaryAccessAllowed','update-bb','stop','Notifications\x20enabled','telegrammsg','store','type','f2aRequired','************','All\x20bots\x20running\x20right\x20now','writeFileSync','Allow\x20login\x20from\x20IP\x20address\x20<b>','storeConfiguration','notification','store-configuration','update-bot','name','/:bot/portfolio','started','Unauthorized\x20attempt\x20to\x20log\x20out','accept','file','3000','status','auto','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','lowdb/adapters/FileSync','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','/portfolio\x20-\x20show\x20bot\x20portfolio\x0a','Restoring\x20bot(s)\x20from\x20backup','Bot\x20Mgr\x20>\x20','telegramEnabled','2BrwlQq','write','cancelLoading','output-000.log','user','hybrid-crypto-js','padStart','node-telegram-bot-api','/help\x20-\x20show\x20available\x20commands\x0a','show-config','deleted\x20Bot\x20','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','hashSync','kill','constructor','Backup\x20file\x20uploaded','bb-config.json','getMinutes','Are\x20you\x20sure\x20you\x20want\x20to\x20reinstall\x20Balance\x20Bot\x20now?','defaults','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','bot-','Alerts','format','conn','Are\x20you\x20sure\x20you\x20want\x20to\x20update\x20Balance\x20Bot\x20now?','Markdown','Unauthorized\x20attempt\x20to\x20download\x20','cloneDeep','botmanager',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','8OgHurd','sendFile','/enable\x20-\x20enable\x20notifications\x0a','bbPassword','exchange','127.0.0.1','/:bot/coins','login\x20token\x20generated','removeAllListeners','Backup\x20file\x20unzipped\x20and\x20stored','title','***','index.html','log','binary','exit','search','existsSync','get-backup-files','stopPolling','bbvReceive','starting\x20new\x20bot\x20|\x20Bot\x20','All','split','Notifications\x20types:\x20','Restore\x20process\x20aborted','emit','Invalid\x20username\x20or\x20IP\x20address','sockets','username','whitelist','telegram2FaApproval','assign','keys','push','All\x20bots','apply','value','Bot\x20','Ok,\x20reinstalling\x20Balance\x20Bot\x20canceled','toggleBotMode','stringify','backup',',\x20must\x20be\x20a\x204\x20digit\x20number','add','access\x20timeout','3320392wzgsvE','Unauthorized\x20attempt\x20to\x20add\x20bot','lastmsgemitted','mode','Unauthorized\x20attempt\x20to\x20reinstall\x20Balance\x20Bot','referer','enabled','output-003.log','bbvNew','-config.json','.zip','then','-----------------------------------------------------------------------------------','Unauthorized\x20attempt\x20to\x20restore\x20backup\x20file','jsonwebtoken','63207vrOXMi','apiSecret','getHours','telegramUsername','2FA\x20login\x20token\x20generated','Unauthorized\x20attempt\x20to\x20get\x20messages','showname','NTBA_FIX_319','running','copyFileSync','bbUsername','reinstall','verify','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bots\x20are\x20disabled\x20by\x20default\x20-\x20enable\x20those\x20you\x20want\x20to\x20run','includes','Unauthorized\x20attempt\x20to\x20store\x20configuration','$1_$2_$3','1092977IySvsU','track','orders','readFileSync','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','onText','remove','version.json','bot','createServer','yargs/yargs','/:bot/performance','/upload-backup','logged\x20out','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','reload','Please\x20confirm\x20restoring\x20in\x20your\x20Telegram\x20bot','/download/:type','/:bot/configuration','server','toString','replace','-results.json','filter','listen','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(1)','decrypt','timestamp','rmSync','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','temporary\x20access\x20timeout','access','headers','publicKey','unlinkSync','bb-settings.json','build2','graphql-request','*$1*','remoteAddress','getMonth','backup-files','bots','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','storeHeadless','args','Starting\x20Balance\x20Bot\x20update','890LpedfG','kind','6b67f3d61ee94b8f5c80b4affef4c4d9','show'];_0x29da=function(){return _0x32117b;};return _0x29da();}function getCleanTimeStamp(){const _0x2ccec1=_0x54656c,_0x54b415=shiftedTime();return _0x54b415[_0x2ccec1(0x1c0)]()+(_0x54b415[_0x2ccec1(0x27f)]()+0x1)[_0x2ccec1(0x26b)]()['padStart'](0x2,'0')+_0x54b415[_0x2ccec1(0x2f1)]()['toString']()[_0x2ccec1(0x1f0)](0x2,'0')+'-'+_0x54b415[_0x2ccec1(0x248)]()[_0x2ccec1(0x26b)]()[_0x2ccec1(0x1f0)](0x2,'0')+_0x54b415[_0x2ccec1(0x1fb)]()['toString']()['padStart'](0x2,'0')+_0x54b415[_0x2ccec1(0x36d)]()[_0x2ccec1(0x26b)]()[_0x2ccec1(0x1f0)](0x2,'0');}function shiftedTime(){const _0xd27684=_0x54656c,_0x48d405=new Date();let _0x314fa3=_0x48d405;if(settings[_0xd27684(0x29d)]&&settings[_0xd27684(0x29d)]!==0x0)_0x314fa3=fns[_0xd27684(0x235)](_0x48d405,{'hours':settings[_0xd27684(0x29d)]});return _0x314fa3;}function startScheduler(){const _0x14aa04=_0x54656c,_0x565120=new Date()[_0x14aa04(0x343)](),_0x1e1cdf=shiftedTime()[_0x14aa04(0x248)]();_0x1e1cdf==0x4&&backupConfigFiles();_0x1e1cdf==0x0&&rotateLogFiles();_0x565120%0x6==0x0&&triggerAnalytics();_0x565120%0x6==0x0&&getMessages();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}async function restoreBackupFile(_0x3e038f){const _0x31f807=_0x54656c;logger[_0x31f807(0x2e3)]('Restore\x20backup\x20file\x20'+_0x3e038f);const _0x2c5205=getBotsWithMode();_0x2c5205['length']>0x0?confirmRestore(configbackuppath,_0x3e038f):unzipFile(configbackuppath,_0x3e038f);}async function getBackupFiles(_0x34e8e6=null){const _0xad698e=_0x54656c;let _0x2c3106=[],_0x1e5594=fs[_0xad698e(0x327)](configbackuppath,{'withFileTypes':!![]});_0x1e5594['sort']((_0x2a7439,_0x281d32)=>_0x2a7439[_0xad698e(0x1da)]<_0x281d32[_0xad698e(0x1da)]?0x1:_0x281d32[_0xad698e(0x1da)]<_0x2a7439[_0xad698e(0x1da)]?-0x1:0x0),_0x1e5594[_0xad698e(0x31d)](_0x704d96=>{const _0x49f5f2=_0xad698e;if(!_0x704d96[_0x49f5f2(0x357)]()){const _0x4cce62=formatDate(fs['statSync'](configbackuppath+_0x704d96[_0x49f5f2(0x1da)])['mtime']);_0x2c3106['push']({'name':_0x704d96[_0x49f5f2(0x1da)],'mtime':_0x4cce62});}});if(_0x34e8e6)io['to'](_0x34e8e6)[_0xad698e(0x223)](_0xad698e(0x280),_0x2c3106);else return _0x2c3106;}async function backupConfigFiles(){const _0x27d3a1=_0x54656c;await zipFiles(_0x27d3a1(0x2c7));const _0x47f209=getCleanTimeStamp();fs[_0x27d3a1(0x24f)](zippath+'backup-full.zip',configbackuppath+(_0x27d3a1(0x32b)+_0x47f209+'.zip'));let _0x4f7875=fs[_0x27d3a1(0x327)](configbackuppath,{'withFileTypes':!![]});_0x4f7875[_0x27d3a1(0x28f)]((_0x1581f0,_0x405c13)=>_0x1581f0['name']<_0x405c13[_0x27d3a1(0x1da)]?0x1:_0x405c13[_0x27d3a1(0x1da)]<_0x1581f0['name']?-0x1:0x0),_0x4f7875[_0x27d3a1(0x2e9)]>maxBackups&&fs['unlinkSync'](configbackuppath+_0x4f7875[maxBackups][_0x27d3a1(0x1da)]);}function rotateLogFiles(){const _0x1bae09=_0x54656c,_0x3cbb7f=fs[_0x1bae09(0x338)](logspath+_0x1bae09(0x1ed)),_0x1537da=_0x3cbb7f['size']/0x400;if(_0x1537da>0x32){let _0x1a53a9=fs[_0x1bae09(0x327)](logspath,{'withFileTypes':!![]});_0x1a53a9[_0x1bae09(0x28f)]((_0x4da5fb,_0xe33f3a)=>_0x4da5fb[_0x1bae09(0x1da)]<_0xe33f3a[_0x1bae09(0x1da)]?0x1:_0xe33f3a[_0x1bae09(0x1da)]<_0x4da5fb[_0x1bae09(0x1da)]?-0x1:0x0),_0x1a53a9[_0x1bae09(0x31d)](_0x33d75f=>{const _0x160d19=_0x1bae09;if(_0x33d75f[_0x160d19(0x1da)]==_0x160d19(0x299))fs[_0x160d19(0x24f)](logspath+_0x33d75f[_0x160d19(0x1da)],logspath+_0x160d19(0x23e));if(_0x33d75f[_0x160d19(0x1da)]=='output-001.log')fs[_0x160d19(0x24f)](logspath+_0x33d75f[_0x160d19(0x1da)],logspath+_0x160d19(0x299));_0x33d75f['name']==_0x160d19(0x1ed)&&(fs[_0x160d19(0x24f)](logspath+_0x33d75f['name'],logspath+_0x160d19(0x2f4)),fs[_0x160d19(0x1d4)](logspath+_0x33d75f[_0x160d19(0x1da)],''));});}}async function zipFiles(_0x701d2){const _0x2c79aa=_0x54656c;let _0x10317e;if(_0x701d2==_0x2c79aa(0x2bc))_0x10317e=logspath;if(_0x701d2==_0x2c79aa(0x233))_0x10317e=configpath;if(_0x701d2=='backup-full')_0x10317e=configpath;let _0x5a6682=fs[_0x2c79aa(0x327)](_0x10317e,{'withFileTypes':!![]});const _0x2b9f93=new require(_0x2c79aa(0x30f))();_0x5a6682[_0x2c79aa(0x31d)](_0x58066c=>{const _0x36644c=_0x2c79aa;if(!_0x58066c[_0x36644c(0x357)]()){let _0x3fe949=fs[_0x36644c(0x25a)](_0x10317e+_0x58066c[_0x36644c(0x1da)]);if(_0x701d2==_0x36644c(0x233)){const _0xd0a352=/^bot-[0-9]{3}-config.json$/,_0x159f87=_0xd0a352[_0x36644c(0x2e1)](_0x58066c[_0x36644c(0x1da)]);if(_0x159f87){const _0x3edfdf=JSON[_0x36644c(0x1c3)](_0x3fe949);_0x3edfdf['bot'][0x0]&&(_0x3edfdf[_0x36644c(0x25f)][0x0][_0x36644c(0x35c)]='***',_0x3edfdf[_0x36644c(0x25f)][0x0][_0x36644c(0x247)]=_0x36644c(0x214)),_0x3fe949=JSON[_0x36644c(0x232)](_0x3edfdf,null,0x2);}if(_0x58066c[_0x36644c(0x1da)]==_0x36644c(0x27a)){const _0x2c2540=JSON[_0x36644c(0x1c3)](_0x3fe949);if(_0x2c2540['settings'][_0x36644c(0x1c5)])_0x2c2540[_0x36644c(0x356)]['loginRequired']=![];if(_0x2c2540[_0x36644c(0x356)][_0x36644c(0x20c)])_0x2c2540['settings'][_0x36644c(0x20c)]=_0x36644c(0x214);if(_0x2c2540['settings'][_0x36644c(0x329)])_0x2c2540['settings']['telegramToken']=_0x36644c(0x214);if(_0x2c2540[_0x36644c(0x356)][_0x36644c(0x2e5)])_0x2c2540[_0x36644c(0x356)][_0x36644c(0x2e5)]=null;_0x3fe949=JSON[_0x36644c(0x232)](_0x2c2540,null,0x2);}if(_0x58066c[_0x36644c(0x1da)]!=_0x36644c(0x298))_0x2b9f93[_0x36644c(0x1df)](_0x58066c[_0x36644c(0x1da)],_0x3fe949);}else _0x2b9f93['file'](_0x58066c[_0x36644c(0x1da)],_0x3fe949);}});const _0x559469=_0x2b9f93[_0x2c79aa(0x352)]({'base64':![],'compression':_0x2c79aa(0x369)});fs[_0x2c79aa(0x1d4)](zippath+(_0x701d2+_0x2c79aa(0x241)),_0x559469,'binary');}async function unzipFile(_0x1879ad,_0xb58b0f){const _0x355c1c=_0x54656c;fs['readdirSync'](configpath,{'withFileTypes':!![]})[_0x355c1c(0x31d)](_0x12258d=>{const _0x130d29=_0x355c1c;if(!_0x12258d[_0x130d29(0x357)]())fs[_0x130d29(0x273)](configpath+_0x12258d[_0x130d29(0x1da)]);});const _0x1ee9f0=fs[_0x355c1c(0x25a)](_0x1879ad+_0xb58b0f,_0x355c1c(0x217)),_0x1f6f27=new require(_0x355c1c(0x30f))(_0x1ee9f0,{'base64':![],'checkCRC32':!![]});Object['keys'](_0x1f6f27[_0x355c1c(0x308)])['forEach'](_0x50cff6=>{const _0x1ac431=_0x355c1c,_0x1e5f8e=_0x1f6f27[_0x1ac431(0x308)][_0x50cff6];fs['writeFileSync'](configpath+_0x1e5f8e[_0x1ac431(0x1da)],_0x1e5f8e[_0x1ac431(0x337)]);}),fs[_0x355c1c(0x327)](temppath,{'withFileTypes':!![]})['forEach'](_0x1393f9=>{const _0x2de93e=_0x355c1c;if(!_0x1393f9['isDirectory']())fs[_0x2de93e(0x273)](temppath+_0x1393f9[_0x2de93e(0x1da)]);}),logger[_0x355c1c(0x2e3)](_0x355c1c(0x212)),process[_0x355c1c(0x2e4)]({'restore':!![]},_0x1e5a05=>{});}async function getPublicIp(){const _0xb8b916=_0x54656c;try{const _0x306816=await axios['get'](_0xb8b916(0x34c));publicip=_0x306816[_0xb8b916(0x37a)]['ip'];}catch(_0x47abfa){}}async function triggerAnalytics(){const _0x312e78=_0x54656c;if(!publicip)await getPublicIp();const _0x220229=getBotsWithMode();let _0x42b8ae=0x0;_0x220229['forEach'](_0x1aacda=>{if(_0x1aacda['status']==='enabled')_0x42b8ae++;});const _0x10e5bd=getBotExchanges();mixpanel[_0x312e78(0x258)](_0x312e78(0x2ce),{'distinct_id':settings['userid'],'ip':publicip,'version':serverversion,'numbots':_0x220229[_0x312e78(0x2e9)],'numbotsenabled':_0x42b8ae,'exchanges':_0x10e5bd});}async function getMessages(){const _0x11f324=_0x54656c,_0x4f2b2e=_0x11f324(0x2c8),_0x45789c=new GraphQLClient(_0x4f2b2e),_0x240406={'authorization':_0x11f324(0x321)},_0x3d33c0=serverversion[_0x11f324(0x220)]('.'),_0x386ab2=_0x3d33c0[0x0]+'.'+_0x3d33c0[0x1],_0x1e19dc=Math['min'](settings['lastmsgtelegram'],settings['lastmsgemitted']),_0x543ed3={'last':parseInt(_0x1e19dc),'bbm':_0x386ab2},_0x145358=gql`
            query getMessages($bbm: String!, $last: Int!) {
                messages(where: {
                    number_gt: $last
                    OR: [
                    {bbvReceive: "any"},
                    {bbvReceive_contains: $bbm}
                    ]
                    archived_not: true
                }, orderBy: number_ASC) {
                    id
                    number
                    bbvReceive
                    bbvNew
                    title
                    message
                    dialogWidth
                    lock
                }
            }
            `;let _0x1c465d;try{_0x1c465d=await _0x45789c[_0x11f324(0x2a7)](_0x145358,_0x543ed3,_0x240406);}catch(_0x3fbcaa){}if(_0x1c465d&&_0x1c465d['messages']){let _0x4e0e16=settings['lastmsgtelegram'];newMessages=[];for(const _0x411302 of _0x1c465d[_0x11f324(0x2a3)]){newMessages[_0x11f324(0x22b)](_0x411302);if(_0x411302[_0x11f324(0x23f)])updateSetting(_0x11f324(0x2dc),_0x411302[_0x11f324(0x23f)]);let _0x35d4db=_0x411302['bbvNew']?serverversion>=_0x411302[_0x11f324(0x23f)]:![];if(!_0x35d4db&&_0x411302['number']>_0x4e0e16){if(_0x411302['bbvReceive']==='any'||serverversion[_0x11f324(0x354)](_0x411302[_0x11f324(0x21d)])){let _0x64e2b5=''+_0x411302[_0x11f324(0x213)]+'\x0a\x0a'+_0x411302[_0x11f324(0x301)];const _0x5c2a22=await sendTelegramMsg(toTelegramMarkdown(_0x64e2b5),_0x11f324(0x204));if(_0x5c2a22)_0x4e0e16=_0x411302['number'];}}}updateAvailable=isNewerVersion(settings[_0x11f324(0x2dc)],serverversion),updateSetting(_0x11f324(0x2e8),_0x4e0e16),emitMessages();}}function emitMessages(){const _0x1dbf89=_0x54656c,_0x46e1b9=settings[_0x1dbf89(0x239)];let _0x4c41ab=[];newMessages[_0x1dbf89(0x31d)](_0x2db558=>{const _0x418ff1=_0x1dbf89;_0x2db558[_0x418ff1(0x2ec)]>_0x46e1b9&&_0x4c41ab[_0x418ff1(0x22b)](_0x2db558);}),_0x4c41ab['length']>0x0&&getAllClients()[_0x1dbf89(0x31d)](_0x259117=>{const _0x11f713=_0x1dbf89;getSocket(_0x259117['id'])['emit'](_0x11f713(0x301),_0x4c41ab);});}function confirmMessage(_0x1f5e7d){const _0x2d0c53=_0x54656c;updateSetting(_0x2d0c53(0x239),Number(_0x1f5e7d));}function isNewerVersion(_0x40a4fa,_0x21dfb7){const _0x51b032=_0x54656c,_0x1374db=_0x21dfb7['split']('.'),_0x246a8c=_0x40a4fa['split']('.');for(var _0x4b13d8=0x0;_0x4b13d8<_0x246a8c[_0x51b032(0x2e9)];_0x4b13d8++){const _0xc6c4c6=~~_0x246a8c[_0x4b13d8],_0x771678=~~_0x1374db[_0x4b13d8];if(_0xc6c4c6>_0x771678)return!![];if(_0xc6c4c6<_0x771678)return![];}return![];}function toTelegramMarkdown(_0x5479dc){const _0x2ed07a=_0x54656c,_0x4b42ce=/(^|[^\*])\*{1}([^\*.]+?)\*{1}([^\*]|$)/gim,_0xab3bba=/\*{2}(.+?)\*{2}/gim;return _0x5479dc=_0x5479dc[_0x2ed07a(0x26c)](_0x4b42ce,_0x2ed07a(0x256))[_0x2ed07a(0x26c)](_0xab3bba,_0x2ed07a(0x27d)),_0x5479dc;}async function validateConfigFile(){const _0x5aefac=_0x54656c,_0x170103=dbConfig['get'](_0x5aefac(0x281))[_0x5aefac(0x34f)](_0x5aefac(0x2ad))[_0x5aefac(0x22e)]()||[];if(_0x170103[_0x5aefac(0x2e9)]==0x0){let _0x32b240=0x0,_0x109d32=[];const _0x2ee73a=/^bot-([0-9]{3})-config.json$/,_0x2b1905=fs[_0x5aefac(0x327)](configpath);_0x2b1905[_0x5aefac(0x31d)](_0x2ff6c6=>{const _0x44eca2=_0x5aefac,_0x199bf6=_0x2ee73a['exec'](_0x2ff6c6);if(_0x199bf6){const _0x40a780=_0x199bf6[0x1];let _0x541c47=getBotAttributes(_0x40a780);_0x109d32['push']({'botID':_0x40a780,'botname':_0x541c47[_0x44eca2(0x2cf)],'status':'disabled','live':_0x44eca2(0x315)}),_0x32b240++;}}),_0x32b240!=0x0&&(dbConfig['get'](_0x5aefac(0x281))[_0x5aefac(0x229)](_0x109d32)['write'](),config=_0x109d32,restoredConfigFile=_0x32b240);}}async function restoreConfigNotify(_0x585674){const _0xa0daf9=_0x54656c;let _0x4e63c5;if(restoredConfigFile==0x1)_0x4e63c5='NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bot\x20is\x20disabled\x20by\x20default\x20-\x20enable\x20if\x20you\x20want\x20it\x20to\x20run';else _0x4e63c5=_0xa0daf9(0x253);if(_0x585674)io['to'](_0xa0daf9(0x207))[_0xa0daf9(0x223)](_0xa0daf9(0x1d7),_0x4e63c5);else{logger['simple'](_0xa0daf9(0x243)),logger['simple'](_0x4e63c5),logger[_0xa0daf9(0x359)](_0xa0daf9(0x243)),logger[_0xa0daf9(0x359)]('');if(tgBot&&settings[_0xa0daf9(0x2e5)]&&settings['telegramEvents']!=_0xa0daf9(0x259))tgBot['sendMessage'](settings[_0xa0daf9(0x2e5)],_0xa0daf9(0x1e8)+_0x4e63c5)[_0xa0daf9(0x2fe)](_0x10ebbd=>{telegramError(_0x10ebbd);});}}function validateCredentials(_0x154453,_0x4c2ae8){const _0xf1b532=_0x54656c;if(_0x154453[_0xf1b532(0x226)]==settings[_0xf1b532(0x250)]&&bcrypt[_0xf1b532(0x2c6)](_0x154453[_0xf1b532(0x322)],settings[_0xf1b532(0x20c)])){if(settings[_0xf1b532(0x1d1)])return{'allow':![],'reason':_0xf1b532(0x330),'token':null};else{const _0x4acf9d=generateLoginToken(_0x4c2ae8);return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x4acf9d};}}else return{'allow':![],'reason':_0xf1b532(0x2d9),'token':null};}function refreshToken(_0x16a0ae){const _0x26fedf=_0x54656c,_0x44bcc6=generateLoginToken(_0x16a0ae);return{'allow':!![],'reason':_0x26fedf(0x210),'token':_0x44bcc6};}function validateAccess(_0x3aa8fd,_0x24009d,_0x1e0502){const _0x18012a=_0x54656c,_0x456511=_0x1e0502?_0x1e0502:devices[_0x24009d]['ip'];let _0x5d5201;const _0x2c40d9=_0x2260b6=>{const _0x59e255=_0x491c;if(settings[_0x59e255(0x1c5)]){if(settings[_0x59e255(0x1d1)]){if(telegram2FaApproved(_0x24009d)){const _0x60af81=generateLoginToken(_0x24009d);return{'allow':!![],'reason':_0x59e255(0x24a),'token':_0x60af81};}else return{'allow':![],'reason':'login\x20required','token':null};}else return _0x5d5201=validToken(_0x2260b6,_0x24009d),_0x5d5201[_0x59e255(0x2d6)](_0x59e255(0x2b6))?{'allow':!![],'reason':_0x59e255(0x35a),'token':_0x2260b6}:{'allow':![],'reason':_0x59e255(0x2d1),'token':null};}else return{'allow':!![],'reason':_0x59e255(0x340),'token':null};};if(settings[_0x18012a(0x316)]){let _0x2468f9=[...settings[_0x18012a(0x227)],'::1',_0x18012a(0x325),_0x18012a(0x20e)];if(_0x2468f9[_0x18012a(0x254)](_0x456511))return _0x2c40d9(_0x3aa8fd);else{_0x5d5201=validToken(_0x3aa8fd,_0x24009d);if(_0x5d5201[_0x18012a(0x2d6)](_0x18012a(0x2b6)))return _0x2c40d9(_0x3aa8fd);else{if(telegramIpApproved(_0x24009d)){const _0x841ee6=generateToken(_0x24009d);return _0x5d5201=_0x2c40d9(_0x3aa8fd),_0x5d5201['allow']?{'allow':!![],'reason':_0x18012a(0x1c4),'token':_0x841ee6}:_0x5d5201;}else return settings[_0x18012a(0x1ca)]?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':_0x18012a(0x36c),'token':null};}}}else return _0x2c40d9(_0x3aa8fd);}function timelyDecrypt(_0x337de0,_0x5e4fe4=!![]){const _0x37914c=_0x54656c;if(_0x337de0)try{const _0x54de57=crypt[_0x37914c(0x271)](secure[_0x37914c(0x1c2)],_0x337de0)[_0x37914c(0x301)],_0x2c1aca=_0x54de57[_0x37914c(0x220)]('@')[0x0],_0x455c7b=_0x54de57[_0x37914c(0x220)]('@')[0x1],_0x2c1e5b=new Date()[_0x37914c(0x2b0)]();if(_0x5e4fe4){if(_0x2c1e5b-_0x455c7b<maxSecretAge*0x3e8)return _0x2c1aca;else return![];}else return _0x2c1aca;}catch(_0xef537f){return![];}else return![];}const validToken=(_0x126063,_0x122fe7)=>{const _0x28bbb7=_0x54656c,_0x57c123=devices[_0x122fe7]['ip'];if(!_0x126063)return{'error':_0x28bbb7(0x294)};for(let _0x2409f7 of blacklist){if(_0x2409f7['token']==_0x126063)return{'error':_0x28bbb7(0x32e)};}let _0x3a9691;try{_0x3a9691=jwt[_0x28bbb7(0x252)](_0x126063,secure['secret']+_0x122fe7);}catch{return{'error':'Invalid\x20authentication\x20token\x20(1)'};}if(!_0x3a9691[_0x28bbb7(0x2d6)](_0x28bbb7(0x33c))&&!_0x3a9691['hasOwnProperty'](_0x28bbb7(0x226))||!_0x3a9691[_0x28bbb7(0x2d6)](_0x28bbb7(0x2c9)))return{'error':_0x28bbb7(0x33d)};if(!_0x3a9691['hasOwnProperty'](_0x28bbb7(0x226))&&_0x3a9691[_0x28bbb7(0x2d6)]('clientip')){const {clientip:_0x2c1e61}=_0x3a9691;return _0x57c123==_0x2c1e61?{'success':'User\x20has\x20been\x20validated'}:{'error':'Invalid\x20IP\x20address'};}else{if(_0x3a9691[_0x28bbb7(0x2d6)](_0x28bbb7(0x226))&&_0x3a9691[_0x28bbb7(0x2d6)](_0x28bbb7(0x33c))){const {username:_0x3da6bb,clientip:_0xa837ce}=_0x3a9691;return settings[_0x28bbb7(0x250)]==_0x3da6bb&&_0x57c123==_0xa837ce?{'success':_0x28bbb7(0x313)}:{'error':_0x28bbb7(0x224)};}}},generateLoginToken=_0x1b2d84=>{const _0x32e6a9=_0x54656c;if(_0x1b2d84){const _0x48f34b=devices[_0x1b2d84]['ip'];return jwt[_0x32e6a9(0x2cb)]({'username':settings[_0x32e6a9(0x250)],'clientip':_0x48f34b},secure[_0x32e6a9(0x2a9)]+_0x1b2d84,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x580664=>{const _0x3da180=_0x54656c;if(_0x580664){const _0x134b61=devices[_0x580664]['ip'];return jwt[_0x3da180(0x2cb)]({'clientip':_0x134b61},secure[_0x3da180(0x2a9)]+_0x580664,{'expiresIn':devices[_0x580664]['telegramIpApproval'][_0x3da180(0x2f0)]*0x3c});}else return![];},telegramIpApproved=_0x2e7366=>{const _0x5992e1=_0x54656c;let _0xaa06e9=![];return devices[_0x2e7366][_0x5992e1(0x292)]&&devices[_0x2e7366][_0x5992e1(0x292)]['expiry']!=_0x5992e1(0x2f8)&&(_0xaa06e9=devices[_0x2e7366][_0x5992e1(0x292)][_0x5992e1(0x33c)]==devices[_0x2e7366]['ip']&&new Date()['getTime']()-devices[_0x2e7366]['telegramIpApproval']['timestamp']<devices[_0x2e7366][_0x5992e1(0x292)][_0x5992e1(0x2f0)]*0x3c*0x3e8),_0xaa06e9;},telegram2FaApproved=_0x558140=>{const _0x58b2db=_0x54656c;let _0x2d7e66=![];return devices[_0x558140][_0x58b2db(0x228)]&&devices[_0x558140][_0x58b2db(0x228)][_0x58b2db(0x2f0)]!=_0x58b2db(0x2f8)&&(_0x2d7e66=devices[_0x558140]['telegram2FaApproval']['clientip']==devices[_0x558140]['ip']&&new Date()[_0x58b2db(0x2b0)]()-devices[_0x558140][_0x58b2db(0x228)][_0x58b2db(0x272)]<devices[_0x558140][_0x58b2db(0x228)][_0x58b2db(0x2f0)]*0x3c*0x3e8),_0x2d7e66;},normalizeIP=_0x7c585=>{const _0x321627=_0x54656c;let _0x3b52d6=null,_0x29658a=null;if(ipaddr['isValid'](_0x7c585)){const _0x4dc705=ipaddr[_0x321627(0x1c3)](_0x7c585);_0x4dc705[_0x321627(0x287)]()==='ipv6'?(_0x4dc705['isIPv4MappedAddress']()&&(_0x3b52d6=_0x4dc705[_0x321627(0x324)]()['toString']()),_0x29658a=_0x4dc705[_0x321627(0x26b)]()):(_0x3b52d6=_0x4dc705['toString'](),_0x29658a=_0x4dc705[_0x321627(0x32f)]()[_0x321627(0x26b)]());}return{'show':_0x3b52d6?_0x3b52d6:_0x29658a,'store':_0x29658a};};function formatDate(_0x1c7676){const _0x47047d=_0x54656c;return _0x1c7676[_0x47047d(0x1c0)]()+'/'+(_0x1c7676['getMonth']()+0x1)[_0x47047d(0x26b)]()[_0x47047d(0x1f0)](0x2,'0')+'/'+_0x1c7676[_0x47047d(0x2f1)]()['toString']()[_0x47047d(0x1f0)](0x2,'0')+'\x20'+_0x1c7676['getHours']()[_0x47047d(0x26b)]()[_0x47047d(0x1f0)](0x2,'0')+':'+_0x1c7676[_0x47047d(0x1fb)]()[_0x47047d(0x26b)]()[_0x47047d(0x1f0)](0x2,'0')+':'+_0x1c7676[_0x47047d(0x36d)]()[_0x47047d(0x26b)]()[_0x47047d(0x1f0)](0x2,'0');}function sleep(_0x3ce7ea){return new Promise(_0x424df3=>setTimeout(_0x424df3,_0x3ce7ea));}