const _0x532b55=_0x1368;(function(_0x28f522,_0x15e705){const _0x410c4d=_0x1368,_0x41e8cc=_0x28f522();while(!![]){try{const _0x20958a=-parseInt(_0x410c4d(0x25c))/0x1+parseInt(_0x410c4d(0x220))/0x2*(-parseInt(_0x410c4d(0x36b))/0x3)+-parseInt(_0x410c4d(0x387))/0x4+-parseInt(_0x410c4d(0x3db))/0x5*(-parseInt(_0x410c4d(0x214))/0x6)+parseInt(_0x410c4d(0x310))/0x7+-parseInt(_0x410c4d(0x313))/0x8*(-parseInt(_0x410c4d(0x272))/0x9)+parseInt(_0x410c4d(0x26c))/0xa*(parseInt(_0x410c4d(0x38a))/0xb);if(_0x20958a===_0x15e705)break;else _0x41e8cc['push'](_0x41e8cc['shift']());}catch(_0x5767c5){_0x41e8cc['push'](_0x41e8cc['shift']());}}}(_0x5af7,0xec62e));const _0x3cda40=function(){let _0x4b0cca=!![];return function(_0xea41c5,_0x3419a8){const _0x12b0e5=_0x4b0cca?function(){const _0x106758=_0x1368;if(_0x3419a8){const _0x16d11f=_0x3419a8[_0x106758(0x3aa)](_0xea41c5,arguments);return _0x3419a8=null,_0x16d11f;}}:function(){};return _0x4b0cca=![],_0x12b0e5;};}(),_0x4609a2=_0x3cda40(this,function(){const _0x16b44b=_0x1368;return _0x4609a2[_0x16b44b(0x249)]()[_0x16b44b(0x319)](_0x16b44b(0x30e))['toString']()[_0x16b44b(0x36a)](_0x4609a2)['search']('(((.+)+)+)+$');});_0x4609a2();'use strict';process['env'][_0x532b55(0x3b2)]=0x1;const childProcess=require('child_process'),fs=require('fs'),fns=require(_0x532b55(0x343)),low=require('lowdb'),FileSync=require(_0x532b55(0x3d1)),path=require('path'),crypto=require(_0x532b55(0x213)),Crypt=require(_0x532b55(0x303))[_0x532b55(0x35b)],RSA=require(_0x532b55(0x303))[_0x532b55(0x232)],bcrypt=require(_0x532b55(0x379)),jwt=require(_0x532b55(0x3be)),ipaddr=require(_0x532b55(0x284)),argv=require(_0x532b55(0x33d))(process['argv']['slice'](0x2))[_0x532b55(0x394)],uuidRandom=require(_0x532b55(0x205)),{Telegraf,Markup}=require(_0x532b55(0x237)),Mixpanel=require(_0x532b55(0x3da)),axios=require(_0x532b55(0x300)),{GraphQLClient,gql}=require(_0x532b55(0x37e)),util=require(_0x532b55(0x3bd)),fileUpload=require(_0x532b55(0x1e9)),{networkInterfaces}=require('os'),PORT=argv[_0x532b55(0x2ef)]||_0x532b55(0x3c1),pattern=/^[0-9]{2,4}$/;!pattern['test'](PORT)&&(console[_0x532b55(0x1f9)](_0x532b55(0x22c)+PORT+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x532b55(0x201)](0x1));const HOST=argv[_0x532b55(0x330)]||null,userID=argv[_0x532b55(0x35a)]||'',debugging=argv['d']||![],nodeversion=process[_0x532b55(0x3f2)][_0x532b55(0x223)];let bbpath=_0x532b55(0x254),bbpath2='';const botfile='bot.js',configfile=_0x532b55(0x285),settingsfile=_0x532b55(0x3c6),securefile='bb-secure.json',environment=require('./'+bbpath2+'version.json')[_0x532b55(0x2e4)]||_0x532b55(0x38f),maxBackups=0xa;let validInstallation=!![];!fs[_0x532b55(0x20c)](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+'clients'),configpath=userID?bbpath+_0x532b55(0x347)+userID+'/':bbpath+_0x532b55(0x347),configbackuppath=configpath+_0x532b55(0x2fd),logspath=userID?bbpath+_0x532b55(0x2d7)+userID+'/':bbpath+'logs/',zippath=userID?bbpath+_0x532b55(0x260)+userID+'/':bbpath+_0x532b55(0x260),loggerfile=fs[_0x532b55(0x316)](logspath+_0x532b55(0x30c),{'flags':'a'}),temppath=userID?bbpath+'temp/'+userID+'/':bbpath+'temp/';!fs[_0x532b55(0x20c)](configpath)&&fs[_0x532b55(0x338)](configpath);!fs[_0x532b55(0x20c)](configbackuppath)&&fs['mkdirSync'](configbackuppath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);!fs[_0x532b55(0x20c)](zippath)&&fs[_0x532b55(0x338)](zippath);!fs[_0x532b55(0x20c)](temppath)&&fs[_0x532b55(0x338)](temppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x532b55(0x348)]({'bots':[]})[_0x532b55(0x224)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x532b55(0x348)]({'settings':{'timeshift':0x0,'loginRequired':![],'bbUsername':'','bbPassword':'','f2aRequired':![],'lastmsgtelegram':0x0,'lastmsgemitted':0x0,'latestversion':_0x532b55(0x1f5),'onepagemode':![],'marketcapApi':''}})[_0x532b55(0x224)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x532b55(0x348)]({'secure':{},'blacklist':[]})[_0x532b55(0x224)]();let crypt=new Crypt({'md':_0x532b55(0x308),'rsaStandard':_0x532b55(0x39f)});const saltRounds=0xa,mixpanel=Mixpanel[_0x532b55(0x3d0)](_0x532b55(0x2f4),{'host':_0x532b55(0x3c2)});let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),tgBot;if(settings[_0x532b55(0x38d)]&&(settings['telegramToken']!=''&&settings[_0x532b55(0x38d)]!='***')&&settings['telegramUsername']&&settings[_0x532b55(0x29c)]!='')initTelegram();const parseColor=(_0x3b668c,_0x46c2f0)=>{const _0x59dd4b=_0x532b55,_0x86cc73=/#[A-Z]{3}#/g;if(typeof _0x3b668c==_0x59dd4b(0x233)){!_0x46c2f0?_0x3b668c=_0x3b668c[_0x59dd4b(0x218)](_0x86cc73,''):(_0x3b668c=_0x3b668c[_0x59dd4b(0x218)](/#BLU#/g,_0x59dd4b(0x30a)),_0x3b668c=_0x3b668c[_0x59dd4b(0x218)](/#RED#/g,_0x59dd4b(0x334)),_0x3b668c=_0x3b668c[_0x59dd4b(0x218)](/#YEL#/g,'\x1b[33m'),_0x3b668c=_0x3b668c['replace'](/#MAG#/g,_0x59dd4b(0x38b)),_0x3b668c=_0x3b668c[_0x59dd4b(0x218)](/#CYA#/g,_0x59dd4b(0x1f4)),_0x3b668c=_0x3b668c['replace'](/#RES#/g,_0x59dd4b(0x203)));;}return _0x3b668c;},logger={'screen':_0x463ff7=>{const _0x35b06f=_0x532b55;console[_0x35b06f(0x1f9)](parseColor(_0x463ff7,!![]));},'simple':_0x540282=>{const _0x7a784f=_0x532b55;console[_0x7a784f(0x1f9)](parseColor(_0x540282,!![])),loggerfile[_0x7a784f(0x224)](util[_0x7a784f(0x2ad)](parseColor(_0x540282,![]))+'\x0a');},'full':async _0x2c2d97=>{const _0x3b5038=_0x532b55,_0x248792=getTimeStamp()+_0x3b5038(0x396)+_0x2c2d97;console[_0x3b5038(0x1f9)](parseColor(_0x248792,!![])),loggerfile[_0x3b5038(0x224)](util[_0x3b5038(0x2ad)](parseColor(_0x248792,![]))+'\x0a');if(tgBot&&settings[_0x3b5038(0x2e9)]&&settings[_0x3b5038(0x3b8)]!=_0x3b5038(0x365))await sendTelegram(settings[_0x3b5038(0x2e9)],_0x3b5038(0x30d)+parseColor(_0x2c2d97,![]));},'debug':async(_0x26574c,_0x3f0b4e='')=>{const _0x15434e=_0x532b55,_0x5d9bf8=getTimeStamp()+_0x15434e(0x36f)+_0x26574c;if(debugging)console[_0x15434e(0x1f9)](parseColor(_0x5d9bf8,!![]));loggerfile[_0x15434e(0x224)](util[_0x15434e(0x2ad)](parseColor(_0x5d9bf8,![]))+'\x0a');if(_0x3f0b4e){if(debugging)console['log'](_0x3f0b4e);loggerfile['write'](util[_0x15434e(0x2ad)](_0x3f0b4e)+'\x0a');}}};let terminating=![];process['on'](_0x532b55(0x20d),function(_0x29102e){const _0x2e408b=_0x532b55;_0x29102e['toString']()[_0x2e408b(0x3f3)]('address\x20already\x20in\x20use')?(logger[_0x2e408b(0x31f)]('#RED#Balance\x20Bot\x20is\x20already\x20running\x20on\x20port\x20'+_0x29102e[_0x2e408b(0x2ef)]+_0x2e408b(0x25e)),process[_0x2e408b(0x253)]({'terminate':!![]},_0x361c1e=>{})):logger['simple'](_0x29102e);}),process['on'](_0x532b55(0x201),()=>{const _0x2dc8c2=_0x532b55;stopAllBots(),process[_0x2dc8c2(0x201)](0x0);}),process['on'](_0x532b55(0x261),()=>{const _0x3fd530=_0x532b55;stopAllBots(),process[_0x3fd530(0x201)](0x0);}),process['on']('SIGINT',()=>{stopAllBots(),process['exit'](0x0);});let restoredConfigFile=0x0,newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x532b55(0x3c8))[_0x532b55(0x269)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let tmpStorage={},devices=[],lastIpApproval,pidScheduler,installingUpdate=![],publicip,newMessages=[],updateAvailable=![];const express=require(_0x532b55(0x292)),app=express(),http=require('http')[_0x532b55(0x27c)](app);app[_0x532b55(0x35e)](fileUpload({'useTempFiles':!![]})),app[_0x532b55(0x27d)](_0x532b55(0x3ee),async(_0x147351,_0x55c403)=>{const _0x21d173=_0x532b55,_0x3aa4e2=_0x147351[_0x21d173(0x271)][_0x21d173(0x39a)],_0x1a93ad=getClientsWithBotID(_0x21d173(0x401)),_0x5c2966=_0x147351[_0x21d173(0x3c7)][_0x21d173(0x355)],_0x16cb71=timelyDecrypt(_0x5c2966,![]),_0x542dd8=_0x1a93ad[_0x21d173(0x240)](_0x5e143f=>_0x5e143f[_0x21d173(0x355)]==_0x16cb71);if(_0x542dd8){const _0x867acd=normalizeIP(_0x147351[_0x21d173(0x2f7)][_0x21d173(0x26d)])[_0x21d173(0x34e)],_0x3cd738=_0x147351[_0x21d173(0x3c7)]['tkn'];if(validateAccess(_0x3cd738,_0x16cb71,_0x867acd)[_0x21d173(0x26a)])_0x3aa4e2=='backup'&&await backupConfigFiles(),await zipFiles(_0x3aa4e2),_0x55c403[_0x21d173(0x3b6)](zippath+(_0x3aa4e2+'.zip'),_0x5d427d=>{const _0xff026c=_0x21d173;_0x5d427d&&(logger[_0xff026c(0x393)](_0xff026c(0x2a4)+_0x3aa4e2),logger[_0xff026c(0x31f)](_0x5d427d));});else logger[_0x21d173(0x393)]('Unauthorized\x20attempt\x20to\x20download\x20'+_0x3aa4e2+_0x21d173(0x2d5));}else logger['full'](_0x21d173(0x3ce)+_0x3aa4e2+_0x21d173(0x3d6));}),app[_0x532b55(0x248)](_0x532b55(0x307),async(_0x11454b,_0x2feca5)=>{const _0x2b4136=_0x532b55,_0x217a43=getClientsWithBotID('botmanager'),_0x3657ab=_0x11454b[_0x2b4136(0x3c7)][_0x2b4136(0x355)],_0x2d5977=timelyDecrypt(_0x3657ab,![]),_0x42b889=_0x217a43[_0x2b4136(0x240)](_0x1213f3=>_0x1213f3[_0x2b4136(0x355)]==_0x2d5977);logger['debug'](_0x2b4136(0x351));if(_0x42b889){const _0x4cf016=normalizeIP(_0x11454b[_0x2b4136(0x2f7)][_0x2b4136(0x26d)])[_0x2b4136(0x34e)],_0x510259=_0x11454b[_0x2b4136(0x3c7)][_0x2b4136(0x3eb)];if(validateAccess(_0x510259,_0x2d5977,_0x4cf016)['allow']){if(_0x11454b[_0x2b4136(0x23c)]){const _0x2c46da=_0x11454b[_0x2b4136(0x23c)][_0x2b4136(0x20a)];await _0x2c46da['mv'](temppath+_0x2c46da['name']),_0x2feca5['send']({'status':!![],'message':_0x2b4136(0x236)});const _0x4a0fcc=getBotsWithMode();_0x4a0fcc[_0x2b4136(0x262)]>0x0?confirmRestore(temppath,_0x2c46da['name']):unzipFile(temppath,_0x2c46da[_0x2b4136(0x245)]);}}else logger[_0x2b4136(0x393)](_0x2b4136(0x28e));}else logger[_0x2b4136(0x393)]('Unauthorized\x20attempt\x20to\x20upload\x20file\x20(2)');}),app[_0x532b55(0x35e)](express['static'](path['join'](__dirname,bbpath2,_0x532b55(0x311)))),app['use'](express[_0x532b55(0x345)](path[_0x532b55(0x30f)](__dirname,bbpath2,_0x532b55(0x291)))),app[_0x532b55(0x27d)]('/',function(_0x5196dc,_0x358920){const _0x1a857e=_0x532b55;_0x358920[_0x1a857e(0x378)](path[_0x1a857e(0x30f)](__dirname,bbpath2,_0x1a857e(0x311),_0x1a857e(0x265)));}),app[_0x532b55(0x27d)](_0x532b55(0x222),function(_0x501e52,_0x38aa8f){const _0x26b1b2=_0x532b55;_0x38aa8f[_0x26b1b2(0x378)](path[_0x26b1b2(0x30f)](__dirname,bbpath2,'build','index.html'));}),app[_0x532b55(0x27d)]('/:bot/portfolio',(_0x1c6c85,_0x2a3468)=>{const _0x27e39f=_0x532b55;_0x2a3468[_0x27e39f(0x378)](path[_0x27e39f(0x30f)](__dirname,bbpath2,'build','index.html'));}),app[_0x532b55(0x27d)](_0x532b55(0x3b7),(_0x59dcd5,_0x1160c0)=>{const _0x83c305=_0x532b55;_0x1160c0['sendFile'](path['join'](__dirname,bbpath2,_0x83c305(0x291),_0x83c305(0x265)));}),app[_0x532b55(0x27d)]('/:bot/coins',(_0x4bf550,_0x589175)=>{const _0x2eae7b=_0x532b55;_0x589175[_0x2eae7b(0x378)](path[_0x2eae7b(0x30f)](__dirname,bbpath2,'build',_0x2eae7b(0x265)));}),app[_0x532b55(0x27d)](_0x532b55(0x2f5),(_0x54404d,_0x215fa2)=>{const _0x5928e9=_0x532b55;_0x215fa2[_0x5928e9(0x378)](path[_0x5928e9(0x30f)](__dirname,bbpath2,'build',_0x5928e9(0x265)));}),app['get'](_0x532b55(0x2ec),(_0x2d4107,_0x230430)=>{const _0x4be39d=_0x532b55;_0x230430['sendFile'](path[_0x4be39d(0x30f)](__dirname,bbpath2,_0x4be39d(0x291),_0x4be39d(0x265)));}),app['get']('/:bot/support',(_0x5f0bef,_0x170ad3)=>{const _0x152533=_0x532b55;_0x170ad3[_0x152533(0x378)](path['join'](__dirname,bbpath2,_0x152533(0x291),_0x152533(0x265)));});if(HOST)http[_0x532b55(0x376)](PORT,HOST);else http[_0x532b55(0x376)](PORT);const io=require(_0x532b55(0x381))(http,{});init();async function init(){await validateConfigFile(),await initUser(),await initSecure(),oneTimeMigration(),cleanBlacklist(),initStates(),await startServer();if(restoredConfigFile)restoreConfigNotify(![]);startSocket(),startScheduler(),triggerAnalytics(),getMessages(),reloadBotManager();}function getServerIP(){const _0x573342=_0x532b55;let _0x4985a5=_0x573342(0x3e0);const _0x469aaa=networkInterfaces(),_0x3cec1b={};for(const _0x35362f of Object[_0x573342(0x2b9)](_0x469aaa)){for(const _0x2b4e61 of _0x469aaa[_0x35362f]){if((_0x2b4e61['family']==_0x573342(0x2d9)||_0x2b4e61[_0x573342(0x382)]==0x4)&&!_0x2b4e61[_0x573342(0x2c7)]){const _0x4c5887=ipaddr[_0x573342(0x3b0)](_0x2b4e61['address'])[_0x573342(0x367)]();_0x4c5887!='private'&&(!_0x3cec1b[_0x35362f]&&(_0x3cec1b[_0x35362f]=[]),_0x3cec1b[_0x35362f][_0x573342(0x212)](_0x2b4e61[_0x573342(0x33f)]),_0x4985a5=_0x2b4e61['address']);}}}return{'serverip':_0x4985a5,'netinterfaces':_0x3cec1b};}async function startServer(){const _0x2bf8a9=_0x532b55,{serverip:_0x3fce0b,netinterfaces:_0xa8fec2}=getServerIP();logger[_0x2bf8a9(0x31f)](''),logger['simple'](_0x2bf8a9(0x1ec)),await logger['full'](_0x2bf8a9(0x327)+serverversion+_0x2bf8a9(0x215)+(environment=='staging'?_0x2bf8a9(0x2cb):'')+'\x0a'+(_0x2bf8a9(0x2a5)+PORT+_0x2bf8a9(0x27e))+(_0x2bf8a9(0x227)+_0x3fce0b+':'+PORT+_0x2bf8a9(0x31a))),logger[_0x2bf8a9(0x31f)](_0x2bf8a9(0x1ec));if(config['length']!=0x0)for(const _0x375b8f of config){const _0x84e05d=_0x375b8f[_0x2bf8a9(0x3b9)]==_0x2bf8a9(0x229)?'a':'m';if(_0x375b8f[_0x2bf8a9(0x392)]==_0x2bf8a9(0x1e7)||_0x375b8f[_0x2bf8a9(0x392)]==_0x2bf8a9(0x2c3))await logger['full']('Starting\x20('+_0x84e05d+_0x2bf8a9(0x2f2)+_0x375b8f[_0x2bf8a9(0x320)]+_0x2bf8a9(0x3a6)+_0x375b8f['botname']),startBot([_0x375b8f['botID'],userID],{'cwd':bbpath},function(_0x3f837b){const _0x5c3455=_0x2bf8a9;if(_0x3f837b)logger[_0x5c3455(0x393)](_0x3f837b);});else(_0x375b8f['status']==_0x2bf8a9(0x3fd)||_0x375b8f['status']==_0x2bf8a9(0x333))&&await logger['full'](_0x2bf8a9(0x3fb)+_0x84e05d+_0x2bf8a9(0x2e8)+_0x375b8f[_0x2bf8a9(0x320)]+_0x2bf8a9(0x3a6)+_0x375b8f[_0x2bf8a9(0x3b1)]);}else!newBot&&logger[_0x2bf8a9(0x31f)](_0x2bf8a9(0x29b));if(newBot)addBot();logger[_0x2bf8a9(0x31f)]('-----------------------------------------------------------------------------------'),logger[_0x2bf8a9(0x31f)](''),await logger['debug']('Node.js\x20v'+nodeversion),await logger[_0x2bf8a9(0x306)](_0x2bf8a9(0x388),_0xa8fec2);}function startSocket(){const _0x496014=_0x532b55;io['on'](_0x496014(0x1e6),_0x253f4f=>{const _0x56873a=_0x496014;let _0x5773b5,_0xc02429,_0xad5ec0,_0x5b834b,_0x4683e4;const _0x3c0874=_0x253f4f[_0x56873a(0x256)][_0x56873a(0x3c7)][_0x56873a(0x315)];_0xc02429=_0x3c0874[_0x56873a(0x242)](/bot[0-9]{3}/);if(_0xc02429)_0xad5ec0=_0xc02429[0x0][_0x56873a(0x242)](/[0-9]{3}/);if(_0xad5ec0)_0x5773b5=_0xad5ec0[0x0];else _0x5773b5=_0x56873a(0x401);const _0x11834a=_0x253f4f['handshake']['auth'][_0x56873a(0x252)];if(!_0x11834a)_0x253f4f[_0x56873a(0x2e1)]('status',{'publicKey':secure['publicKey']});else{_0x5b834b=timelyDecrypt(_0x11834a,![]);if(!_0x5b834b)_0x253f4f[_0x56873a(0x2e1)](_0x56873a(0x392),{'publicKey':secure[_0x56873a(0x328)]});else{_0x4683e4=normalizeIP(_0x253f4f[_0x56873a(0x1f3)][_0x56873a(0x26d)])[_0x56873a(0x34e)];if(!devices[_0x5b834b])devices[_0x5b834b]={'uuid':_0x5b834b,'access':{'token':null}};devices[_0x5b834b]['ip']=_0x4683e4;const _0x46c1b7=addClient(_0x253f4f['id'],_0x5b834b,_0x5773b5);setAccess(_0x46c1b7),emitMessages(),_0x253f4f['on']('login',_0x2819b5=>{const _0x2df379=_0x56873a,_0x567238=timelyDecrypt(_0x2819b5[_0x2df379(0x22b)],!![],'|@|');if(_0x567238){_0x2819b5={'username':_0x2819b5[_0x2df379(0x264)],'password':_0x567238},devices[_0x5b834b][_0x2df379(0x337)]=validateCredentials(_0x2819b5,_0x5b834b);if(devices[_0x5b834b]['access'][_0x2df379(0x26a)]==![]&&devices[_0x5b834b][_0x2df379(0x337)][_0x2df379(0x33c)]==_0x2df379(0x21e))_0x253f4f[_0x2df379(0x2e1)](_0x2df379(0x392),{'access':devices[_0x5b834b]['access']}),loginAccess2FA(_0x5b834b,_0x4683e4);else{if(devices[_0x5b834b][_0x2df379(0x337)][_0x2df379(0x26a)]==![]&&devices[_0x5b834b][_0x2df379(0x337)][_0x2df379(0x33c)]==_0x2df379(0x34b))_0x253f4f['emit']('status',{'access':devices[_0x5b834b][_0x2df379(0x337)]});else devices[_0x5b834b]['access'][_0x2df379(0x26a)]&&devices[_0x5b834b]['access'][_0x2df379(0x33c)]==_0x2df379(0x2b1)&&(getClientsWithUuid(_0x5b834b)[_0x2df379(0x39c)](_0x3db33c=>{setAccess(_0x3db33c);}),logger[_0x2df379(0x306)](_0x2df379(0x3e6)+_0x5b834b['slice'](-0x8)),setTokenRefresh(_0x5b834b),setSessionTimeout(_0x2df379(0x2af),_0x5b834b));}}else logger[_0x2df379(0x393)](_0x2df379(0x3a3));}),_0x253f4f['on'](_0x56873a(0x3f0),()=>{resetPassword();}),_0x253f4f['on'](_0x56873a(0x219),_0x1e5711=>{removeClient(_0x253f4f['id']);}),_0x5773b5=='botmanager'&&(restoredConfigFile&&(restoreConfigNotify(!![]),restoredConfigFile=0x0));}}});}function initClient(_0x2456a6){const _0x44c41b=_0x532b55;if(_0x2456a6!=_0x44c41b(0x401)&&config[_0x44c41b(0x339)]!=''){if(pid[_0x2456a6])pid[_0x2456a6][_0x44c41b(0x253)]({'function':'initclient','args':null});}_0x2456a6!='botmanager'&&broadcastToBots(_0x44c41b(0x23a),JSON['stringify'](config));}function reloadBotManager(){const _0x41b7bd=_0x532b55;getClientsWithBotID(_0x41b7bd(0x401))[_0x41b7bd(0x39c)](_0x551fe8=>{const _0x455ab8=_0x41b7bd;getSocket(_0x551fe8['id'])[_0x455ab8(0x2e1)]('status',{'access':{'allow':![],'reason':'reload','token':null}});});}function getSocket(_0x1dc4c0){const _0x4f8bc2=_0x532b55;return io['sockets'][_0x4f8bc2(0x386)][_0x4f8bc2(0x27d)](_0x1dc4c0);}function setAccess(_0xa88dcb){const _0x56015b=_0x532b55,_0x1357f2=getSocket(_0xa88dcb['id']),_0x528637=_0xa88dcb['uuid'],_0x48508d=_0xa88dcb[_0x56015b(0x2bd)];devices[_0x528637][_0x56015b(0x337)]=validateAccess(devices[_0x528637][_0x56015b(0x337)][_0x56015b(0x346)],_0x528637),logger[_0x56015b(0x306)]('Setting\x20access:\x20'+devices[_0x528637][_0x56015b(0x337)]['reason']+_0x56015b(0x3d8)+_0xa88dcb['id']['slice'](-0x8)+_0x56015b(0x384)+_0x528637[_0x56015b(0x377)](-0x8)),_0x1357f2[_0x56015b(0x30f)](_0x528637);if(devices[_0x528637][_0x56015b(0x337)]['allow']){_0x1357f2[_0x56015b(0x30f)](_0x48508d);if(_0x48508d==_0x56015b(0x401))initializeSocketBotManager(_0x1357f2);else initializeSocketBot(_0x1357f2);initClient(_0x48508d);}devices[_0x528637]['access'][_0x56015b(0x346)]&&devices[_0x528637][_0x56015b(0x337)][_0x56015b(0x33c)]==_0x56015b(0x28b)&&setSessionTimeout(_0x56015b(0x26b),_0x528637),devices[_0x528637][_0x56015b(0x337)][_0x56015b(0x346)]&&devices[_0x528637][_0x56015b(0x337)][_0x56015b(0x33c)]=='2FA\x20login\x20token\x20generated'&&setSessionTimeout(_0x56015b(0x2af),_0x528637),_0x1357f2[_0x56015b(0x2e1)](_0x56015b(0x392),{'status':_0xa88dcb['server'],'serverversion':serverversion,'environment':environment,'servertime':getServerTime(),'access':devices[_0x528637][_0x56015b(0x337)],'externalip':devices[_0x528637]['ip'],'publicKey':secure[_0x56015b(0x328)],'userid':settings['userid'],'validInstallation':validInstallation}),devices[_0x528637][_0x56015b(0x337)][_0x56015b(0x26a)]==![]&&devices[_0x528637][_0x56015b(0x337)]['reason']==_0x56015b(0x32b)&&temporaryAccess2FA(_0x528637,devices[_0x528637]['ip']);}function setSessionTimeout(_0x2e6123,_0x2519cc){const _0x8fae7a=_0x532b55;let _0x3c6825;if(_0x2e6123==_0x8fae7a(0x2af))_0x3c6825=loginExpiry*0x3c*0x3e8;else _0x3c6825=devices[_0x2519cc][_0x8fae7a(0x36d)][_0x8fae7a(0x273)]*0x3c*0x3e8-(new Date()[_0x8fae7a(0x2db)]()-devices[_0x2519cc]['telegramIpApproval'][_0x8fae7a(0x28a)]);if(devices[_0x2519cc][_0x8fae7a(0x25f)])clearTimeout(devices[_0x2519cc][_0x8fae7a(0x25f)]);devices[_0x2519cc][_0x8fae7a(0x25f)]=setTimeout(()=>{const _0x5f3a8a=_0x8fae7a;if(devices[_0x2519cc]['pidRefreshToken'])clearTimeout(devices[_0x2519cc][_0x5f3a8a(0x2e2)]);removeSocketListeners(_0x2519cc),addBlacklist(_0x2519cc),devices[_0x2519cc][_0x5f3a8a(0x36d)]=null,devices[_0x2519cc][_0x5f3a8a(0x2ae)]=null,devices[_0x2519cc][_0x5f3a8a(0x337)][_0x5f3a8a(0x346)]=null,logger[_0x5f3a8a(0x306)](_0x5f3a8a(0x2cd)+_0x2519cc[_0x5f3a8a(0x377)](-0x8)),devices[_0x2519cc]['access']=validateAccess(devices[_0x2519cc]['access'][_0x5f3a8a(0x346)],_0x2519cc),!(devices[_0x2519cc][_0x5f3a8a(0x337)][_0x5f3a8a(0x26a)]&&devices[_0x2519cc][_0x5f3a8a(0x337)][_0x5f3a8a(0x33c)]==_0x5f3a8a(0x2c2))&&(_0x2e6123==_0x5f3a8a(0x2af)?io['to'](_0x2519cc)['emit'](_0x5f3a8a(0x392),{'access':{'allow':![],'reason':_0x5f3a8a(0x2a7),'token':null}}):io['to'](_0x2519cc)[_0x5f3a8a(0x2e1)](_0x5f3a8a(0x392),{'access':{'allow':![],'reason':'temporary\x20access\x20timeout','token':null}})),devices[_0x2519cc][_0x5f3a8a(0x337)][_0x5f3a8a(0x346)]=null;},_0x3c6825);}function setTokenRefresh(_0x31433e){const _0x316b33=_0x532b55;if(devices[_0x31433e][_0x316b33(0x2e2)])clearTimeout(devices[_0x31433e]['pidRefreshToken']);devices[_0x31433e][_0x316b33(0x2e2)]=setTimeout(()=>{const _0x47ae33=_0x316b33;getClientsWithUuid(_0x31433e)[_0x47ae33(0x262)]!=0x0?(devices[_0x31433e][_0x47ae33(0x337)]=refreshToken(_0x31433e),io['to'](_0x31433e)['emit'](_0x47ae33(0x392),{'status':_0x47ae33(0x2c4),'serverversion':serverversion,'environment':environment,'servertime':getServerTime(),'access':devices[_0x31433e][_0x47ae33(0x337)],'externalip':devices[_0x31433e]['ip'],'publicKey':secure[_0x47ae33(0x328)],'validInstallation':validInstallation}),setTokenRefresh(_0x31433e)):clearTimeout(devices[_0x31433e][_0x47ae33(0x2e2)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x37736e){const _0x2d3612=_0x532b55,_0x2de92e=getClient(_0x37736e['id'])[_0x2d3612(0x355)];_0x37736e['emit'](_0x2d3612(0x23a),config),_0x37736e[_0x2d3612(0x2e1)](_0x2d3612(0x39b),cleanSettings()),_0x37736e['on']('add-bot',_0x7db9e9=>{const _0x95964a=_0x2d3612;if(validateAccess(_0x7db9e9,_0x2de92e)['allow'])addBot();else logger[_0x95964a(0x393)](_0x95964a(0x2d0));}),_0x37736e['on'](_0x2d3612(0x2a6),(_0x50b5f0,_0x155c1a)=>{const _0x127a95=_0x2d3612;if(validateAccess(_0x155c1a,_0x2de92e)[_0x127a95(0x26a)])toggleBot(_0x50b5f0['botID'],_0x50b5f0[_0x127a95(0x392)],_0x50b5f0[_0x127a95(0x3ab)]);else logger[_0x127a95(0x393)](_0x127a95(0x326));}),_0x37736e['on'](_0x2d3612(0x380),(_0x371445,_0x36d656)=>{const _0x1f4851=_0x2d3612;if(validateAccess(_0x36d656,_0x2de92e)[_0x1f4851(0x26a)])toggleBotMode(_0x371445);else logger[_0x1f4851(0x393)]('Unauthorized\x20attempt\x20to\x20update\x20bot');}),_0x37736e['on'](_0x2d3612(0x287),(_0x3bc91d,_0x402af4)=>{const _0x15a4e2=_0x2d3612;if(validateAccess(_0x402af4,_0x2de92e)[_0x15a4e2(0x26a)])deleteBot(_0x3bc91d);else logger[_0x15a4e2(0x393)](_0x15a4e2(0x354));}),_0x37736e['on'](_0x2d3612(0x3c9),(_0x3f291d,_0x148b19)=>{const _0x1b793d=_0x2d3612;if(validateAccess(_0x148b19,_0x2de92e)[_0x1b793d(0x26a)])storeSettings(_0x3f291d,!![]);else logger[_0x1b793d(0x393)](_0x1b793d(0x22d));}),_0x37736e['on'](_0x2d3612(0x2de),_0x527362=>{const _0x42a40a=_0x2d3612;if(validateAccess(_0x527362,_0x2de92e)[_0x42a40a(0x26a)])updateBB(_0x42a40a(0x2fb));else logger[_0x42a40a(0x393)](_0x42a40a(0x27b));}),_0x37736e['on'](_0x2d3612(0x2ab),_0x1d8280=>{const _0x3c986f=_0x2d3612;if(validateAccess(_0x1d8280,_0x2de92e)[_0x3c986f(0x26a)])updateBB(_0x3c986f(0x2f8));else logger['full'](_0x3c986f(0x25b));}),_0x37736e['on']('get-backup-files',_0x4f448d=>{const _0x16df31=_0x2d3612;if(validateAccess(_0x4f448d,_0x2de92e)['allow']){const _0x2d6235=getClient(_0x37736e['id']);if(_0x2d6235)getBackupFiles(_0x2d6235[_0x16df31(0x355)]);else logger[_0x16df31(0x393)](_0x16df31(0x298));}else logger['full'](_0x16df31(0x36e));}),_0x37736e['on'](_0x2d3612(0x400),(_0x863091,_0x4ca3ba)=>{const _0x1802e7=_0x2d3612;if(validateAccess(_0x4ca3ba,_0x2de92e)[_0x1802e7(0x26a)])restoreBackupFile(_0x863091);else logger[_0x1802e7(0x393)](_0x1802e7(0x25a));}),_0x37736e['on']('get-messages',_0xaa8496=>{const _0x40d43a=_0x2d3612;if(validateAccess(_0xaa8496,_0x2de92e)['allow'])getMessages();else logger['full'](_0x40d43a(0x304));}),_0x37736e['on'](_0x2d3612(0x2d8),(_0x3d1599,_0x32eacd)=>{const _0x20d00b=_0x2d3612;if(validateAccess(_0x32eacd,_0x2de92e)[_0x20d00b(0x26a)])confirmMessage(_0x3d1599);else logger['full']('Unauthorized\x20attempt\x20to\x20confirm\x20message');}),_0x37736e['on']('logout',_0x32e5bc=>{const _0x310c85=_0x2d3612;if(validateAccess(_0x32e5bc,_0x2de92e)[_0x310c85(0x26a)]){if(devices[_0x2de92e][_0x310c85(0x2e2)])clearTimeout(devices[_0x2de92e][_0x310c85(0x2e2)]);if(devices[_0x2de92e]['pidExpireLogin'])clearTimeout(devices[_0x2de92e]['pidExpireLogin']);removeSocketListeners(getClient(_0x37736e['id'])[_0x310c85(0x355)]),addBlacklist(_0x2de92e),devices[_0x2de92e][_0x310c85(0x36d)]=null,devices[_0x2de92e][_0x310c85(0x2ae)]=null,devices[_0x2de92e][_0x310c85(0x337)][_0x310c85(0x346)]=null,logger[_0x310c85(0x306)](_0x310c85(0x3f1)+_0x2de92e['slice'](-0x8)),io['to'](getClient(_0x37736e['id'])[_0x310c85(0x355)])[_0x310c85(0x2e1)](_0x310c85(0x392),{'access':{'allow':![],'reason':_0x310c85(0x200),'token':null}});}else logger[_0x310c85(0x393)](_0x310c85(0x26f));});}function initializeSocketBot(_0x52ba63){const _0x2f38c9=_0x532b55,_0x3d84c6=getClient(_0x52ba63['id'])[_0x2f38c9(0x2bd)],_0x16e853=getClient(_0x52ba63['id'])['uuid'];_0x52ba63['on'](_0x2f38c9(0x3af),(_0x36f716,_0x596cb7)=>{const _0x20cb6f=_0x2f38c9;if(validateAccess(_0x596cb7,_0x16e853)['allow']){if(pid[_0x3d84c6])pid[_0x3d84c6]['send']({'function':_0x20cb6f(0x37c),'args':_0x36f716});}else logger[_0x20cb6f(0x393)]('Unauthorized\x20attempt\x20to\x20get\x20events');}),_0x52ba63['on'](_0x2f38c9(0x2be),(_0x164e46,_0x4866e4)=>{const _0x5f0f6c=_0x2f38c9;if(validateAccess(_0x4866e4,_0x16e853)[_0x5f0f6c(0x26a)]){if(pid[_0x3d84c6])pid[_0x3d84c6][_0x5f0f6c(0x253)]({'function':_0x5f0f6c(0x318),'args':_0x164e46});}else logger[_0x5f0f6c(0x393)](_0x5f0f6c(0x399));}),_0x52ba63['on']('get-portfolio',(_0x17115b,_0x23f9fa)=>{const _0x11d682=_0x2f38c9;if(validateAccess(_0x23f9fa,_0x16e853)['allow']){if(pid[_0x3d84c6])pid[_0x3d84c6][_0x11d682(0x253)]({'function':_0x11d682(0x350),'args':_0x17115b});}else logger[_0x11d682(0x393)](_0x11d682(0x397));}),_0x52ba63['on'](_0x2f38c9(0x22e),(_0x4f5775,_0x51d4db)=>{const _0x1c56f6=_0x2f38c9;if(validateAccess(_0x51d4db,_0x16e853)[_0x1c56f6(0x26a)]){if(pid[_0x3d84c6])pid[_0x3d84c6]['send']({'function':_0x1c56f6(0x2ea),'args':_0x4f5775});}else logger[_0x1c56f6(0x393)](_0x1c56f6(0x290));}),_0x52ba63['on'](_0x2f38c9(0x1f8),(_0x3bf1b2,_0x46b9b8)=>{const _0x1d8b2f=_0x2f38c9;if(validateAccess(_0x46b9b8,_0x16e853)[_0x1d8b2f(0x26a)]){if(pid[_0x3d84c6])pid[_0x3d84c6][_0x1d8b2f(0x253)]({'function':_0x1d8b2f(0x3cd),'args':_0x3bf1b2});}else logger['full']('Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration');}),_0x52ba63['on'](_0x2f38c9(0x3e4),(_0xc51503,_0x3946f7)=>{const _0x1ba810=_0x2f38c9;if(validateAccess(_0x3946f7,_0x16e853)[_0x1ba810(0x26a)]){if(pid[_0x3d84c6])pid[_0x3d84c6][_0x1ba810(0x253)]({'function':_0x1ba810(0x3ec),'args':_0xc51503});}else logger[_0x1ba810(0x393)](_0x1ba810(0x2bc));}),_0x52ba63['on'](_0x2f38c9(0x2d3),_0x21b7f5=>{const _0x58f0c4=_0x2f38c9;if(validateAccess(_0x21b7f5,_0x16e853)['allow']){if(pid[_0x3d84c6])pid[_0x3d84c6]['send']({'function':_0x58f0c4(0x207),'args':null});}else logger[_0x58f0c4(0x393)](_0x58f0c4(0x3b4));}),_0x52ba63['on'](_0x2f38c9(0x274),_0x4728e5=>{const _0x168fb5=_0x2f38c9;if(validateAccess(_0x4728e5,_0x16e853)[_0x168fb5(0x26a)]){if(pid[_0x3d84c6])pid[_0x3d84c6]['send']({'function':'getStartingBalances','args':null});}else logger[_0x168fb5(0x393)](_0x168fb5(0x21d));}),_0x52ba63['on'](_0x2f38c9(0x37a),(_0x594060,_0x2718ca)=>{const _0x5e4550=_0x2f38c9;if(validateAccess(_0x2718ca,_0x16e853)['allow']){if(pid[_0x3d84c6])pid[_0x3d84c6][_0x5e4550(0x253)]({'function':_0x5e4550(0x403),'args':_0x594060});}else logger[_0x5e4550(0x393)]('Unauthorized\x20attempt\x20to\x20place\x20market\x20order');}),_0x52ba63['on'](_0x2f38c9(0x288),_0x4fb21e=>{const _0x75cf56=_0x2f38c9;if(validateAccess(_0x4fb21e,_0x16e853)[_0x75cf56(0x26a)]){if(pid[_0x3d84c6])pid[_0x3d84c6][_0x75cf56(0x253)]({'function':'cancelLoading','args':null});}else logger[_0x75cf56(0x393)](_0x75cf56(0x3e2));}),_0x52ba63['on'](_0x2f38c9(0x30b),_0x1b5294=>{const _0xed2610=_0x2f38c9;if(validateAccess(_0x1b5294,_0x16e853)[_0xed2610(0x26a)]){if(pid[_0x3d84c6])pid[_0x3d84c6]['send']({'function':_0xed2610(0x38e),'args':null});}else logger[_0xed2610(0x393)](_0xed2610(0x1f0));}),_0x52ba63['on'](_0x2f38c9(0x2de),_0x1e8834=>{const _0x7845aa=_0x2f38c9;if(validateAccess(_0x1e8834,_0x16e853)['allow'])updateBB('update');else logger[_0x7845aa(0x393)](_0x7845aa(0x27b));}),_0x52ba63['on'](_0x2f38c9(0x294),_0x568eda=>{const _0x1362de=_0x2f38c9;if(validateAccess(_0x568eda,_0x16e853)['allow'])getMessages();else logger[_0x1362de(0x393)](_0x1362de(0x304));}),_0x52ba63['on'](_0x2f38c9(0x2d8),(_0x2ca5f9,_0xdf59bc)=>{const _0xab9d5e=_0x2f38c9;if(validateAccess(_0xdf59bc,_0x16e853)[_0xab9d5e(0x26a)])confirmMessage(_0x2ca5f9);else logger[_0xab9d5e(0x393)](_0xab9d5e(0x202));}),_0x52ba63['on'](_0x2f38c9(0x266),_0x5e4acd=>{const _0x7d1258=_0x2f38c9;if(validateAccess(_0x5e4acd,_0x16e853)[_0x7d1258(0x26a)]){if(devices[_0x16e853]['pidRefreshToken'])clearTimeout(devices[_0x16e853][_0x7d1258(0x2e2)]);if(devices[_0x16e853][_0x7d1258(0x25f)])clearTimeout(devices[_0x16e853][_0x7d1258(0x25f)]);removeSocketListeners(getClient(_0x52ba63['id'])[_0x7d1258(0x355)]),addBlacklist(_0x16e853),devices[_0x16e853][_0x7d1258(0x36d)]=null,devices[_0x16e853][_0x7d1258(0x2ae)]=null,devices[_0x16e853]['access'][_0x7d1258(0x346)]=null,logger[_0x7d1258(0x306)](_0x7d1258(0x3f1)+_0x16e853[_0x7d1258(0x377)](-0x8)),io['to'](getClient(_0x52ba63['id'])[_0x7d1258(0x355)])[_0x7d1258(0x2e1)](_0x7d1258(0x392),{'access':{'allow':![],'reason':_0x7d1258(0x200),'token':null}});}else logger['full']('Unauthorized\x20attempt\x20to\x20log\x20out');});}function removeSocketListeners(_0x52f157){const _0x12d1f4=_0x532b55;getClientsWithUuid(_0x52f157)[_0x12d1f4(0x39c)](_0x4754d5=>{const _0x7ad285=_0x12d1f4;getSocket(_0x4754d5['id'])[_0x7ad285(0x357)]();});}function cleanSettings(){const _0x30dada=_0x532b55;let _0x15e391=settings;return settings[_0x30dada(0x38d)]&&settings[_0x30dada(0x38d)]!=''&&(_0x15e391={..._0x15e391,'telegramToken':_0x30dada(0x371)}),settings['bbPassword']&&settings[_0x30dada(0x366)]!=''&&(_0x15e391={..._0x15e391,'bbPassword':_0x30dada(0x371)}),settings[_0x30dada(0x279)]&&settings[_0x30dada(0x279)]!=''&&(_0x15e391={..._0x15e391,'marketcapApi':'************'}),(settings[_0x30dada(0x366)]&&settings[_0x30dada(0x366)]==_0x30dada(0x3f5)||settings[_0x30dada(0x38d)]&&settings[_0x30dada(0x38d)]==_0x30dada(0x3f5)||settings[_0x30dada(0x279)]&&settings['marketcapApi']=='***')&&(_0x15e391={..._0x15e391,'restored':{'password':settings[_0x30dada(0x366)]==_0x30dada(0x3f5),'telegram':settings[_0x30dada(0x38d)]==_0x30dada(0x3f5),'marketcap':settings['marketcapApi']=='***'}}),_0x15e391;}async function updateBB(_0x5118f0){const _0xf14805=_0x532b55;await backupConfigFiles(),installingUpdate=!![],config['forEach'](_0x576242=>{const _0x5d46f8=_0x1368;restartBot(_0x576242[_0x5d46f8(0x320)]);});if(_0x5118f0==_0xf14805(0x2fb))process['send']({'update':!![],'environment':environment},_0x34ba4a=>{});else _0x5118f0==_0xf14805(0x2f8)&&process['send']({'reinstall':!![],'environment':environment},_0x564c82=>{});}function startBot(_0x41cf3e,_0x23a0e5,_0x123ef7){const _0x3ba990=_0x532b55;if(debugging)_0x41cf3e[_0x3ba990(0x212)]('-d');let _0x7d847b=![];const _0x4f0fc8=_0x41cf3e[0x0];_0x23a0e5={..._0x23a0e5,'stdio':['inherit',_0x3ba990(0x3ef),_0x3ba990(0x3ef),_0x3ba990(0x3d7)]},pid[_0x4f0fc8]=childProcess[_0x3ba990(0x2e7)](botfile,_0x41cf3e,_0x23a0e5),pid[_0x4f0fc8]['on'](_0x3ba990(0x3d2),_0x4098f7=>{const _0x40d1fd=_0x3ba990;switch(Object[_0x40d1fd(0x2b9)](_0x4098f7)[0x0]){case _0x40d1fd(0x3b1):updateBotName(_0x4f0fc8,_0x4098f7['botname']);break;case'updatebotmanager':updateBotManager();break;case _0x40d1fd(0x392):updateStatus(_0x4f0fc8,_0x4098f7[_0x40d1fd(0x392)]);break;case _0x40d1fd(0x3ab):updateLive(_0x4f0fc8,_0x4098f7[_0x40d1fd(0x3ab)]);break;case _0x40d1fd(0x25d):updateLive(_0x4f0fc8,_0x4098f7[_0x40d1fd(0x25d)]),io['to'](_0x4f0fc8)['emit'](_0x40d1fd(0x392),{'access':{'allow':![],'reason':_0x40d1fd(0x28f),'token':null}});break;case _0x40d1fd(0x2b4):_0x4098f7[_0x40d1fd(0x2b4)]==_0x40d1fd(0x372)&&restartBot(_0x4f0fc8);_0x4098f7['stop']==_0x40d1fd(0x293)&&toggleBot(_0x4f0fc8,'disabled',_0x40d1fd(0x23b));break;case'telegram':sendTelegramBot(_0x4f0fc8,_0x4098f7[_0x40d1fd(0x20b)]);break;case'telegrammsg':sendTelegramMsg(_0x4098f7['telegrammsg']);break;case _0x40d1fd(0x3e3):io['to'](_0x4f0fc8)[_0x40d1fd(0x2e1)](_0x4098f7[_0x40d1fd(0x3e3)],_0x4098f7['args']);break;}}),pid[_0x4f0fc8]['on'](_0x3ba990(0x209),function(_0x47d9b6){if(_0x7d847b)return;_0x7d847b=!![],_0x123ef7(_0x47d9b6);}),pid[_0x4f0fc8]['on']('exit',async function(_0x33ccc5){const _0x4b4ae4=_0x3ba990;if(terminating)return;if(installingUpdate){logger[_0x4b4ae4(0x306)](_0x4b4ae4(0x358)),io[_0x4b4ae4(0x216)]();return;}if(_0x7d847b)return;_0x7d847b=!![],_0x123ef7(null);const _0x4df472=dbConfig[_0x4b4ae4(0x27d)]('bots')[_0x4b4ae4(0x240)]({'botID':_0x4f0fc8})[_0x4b4ae4(0x268)]();_0x4df472&&(_0x4df472[_0x4b4ae4(0x392)]=='enabled'||_0x4df472[_0x4b4ae4(0x392)]==_0x4b4ae4(0x2c3))&&(await sleep(0x3e8),updateLive(_0x4f0fc8,_0x4b4ae4(0x23b)),logger['full'](_0x4b4ae4(0x332)+_0x4f0fc8),startBot([_0x4f0fc8,userID],{'cwd':bbpath},function(_0x117d6e){if(_0x117d6e)logger['full'](_0x117d6e);}));});}function stopBot(_0x4a7ffb){const _0x515ac4=_0x532b55;getClientsWithBotID(_0x4a7ffb)[_0x515ac4(0x39c)](_0x21d632=>{const _0x1441a4=_0x515ac4;getSocket(_0x21d632['id'])[_0x1441a4(0x219)](!![]),removeClient(_0x21d632['id']);}),pid[_0x4a7ffb]&&(pid[_0x4a7ffb]['kill'](),pid[_0x4a7ffb]=null);}function stopAllBots(){const _0x312e76=_0x532b55;terminating=!![];const _0x360aad=getEnabledBots();_0x360aad[_0x312e76(0x39c)](_0x252b57=>{stopBot(_0x252b57['botID']);});}function restartBot(_0x7805be){const _0x5615f7=_0x532b55;if(pid[_0x7805be])pid[_0x7805be][_0x5615f7(0x293)]();}function addBot(){const _0x5e2e38=_0x532b55;let _0x20ab2c;for(let _0x334132=0x1;_0x334132<0x3e9;_0x334132++){_0x20ab2c=_0x334132[_0x5e2e38(0x249)]()[_0x5e2e38(0x2ac)](0x3,'0');let _0x1b8cc4=config[_0x5e2e38(0x240)](_0x4f29c2=>_0x4f29c2['botID']==_0x20ab2c);if(!_0x1b8cc4)break;}if(_0x20ab2c===_0x5e2e38(0x280)){logger['full']('The\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached');return;}logger[_0x5e2e38(0x393)](_0x5e2e38(0x383)+_0x20ab2c),dbConfig[_0x5e2e38(0x27d)](_0x5e2e38(0x23a))[_0x5e2e38(0x212)]({'botID':_0x20ab2c,'botname':'Bot\x20'+_0x20ab2c,'status':_0x5e2e38(0x2c3),'live':''})[_0x5e2e38(0x224)](),startBot([_0x20ab2c,userID],{'cwd':bbpath},function(_0x2acd87){const _0x5475ca=_0x5e2e38;if(_0x2acd87)logger[_0x5475ca(0x393)](_0x2acd87);}),config=getConfiguration(),io['to'](_0x5e2e38(0x401))[_0x5e2e38(0x2e1)](_0x5e2e38(0x23a),config),broadcastToBots(_0x5e2e38(0x23a),JSON[_0x5e2e38(0x322)](config));}function deleteBot(_0x4aff6c){const _0x10c22f=_0x532b55;getClientsWithBotID(_0x4aff6c)['forEach'](_0x2f1d74=>{getSocket(_0x2f1d74['id'])['disconnect'](!![]),removeClient(_0x2f1d74['id']);}),dbConfig[_0x10c22f(0x27d)]('bots')['remove']({'botID':_0x4aff6c})[_0x10c22f(0x224)](),logger[_0x10c22f(0x393)](_0x10c22f(0x23e)+_0x4aff6c),stopBot(_0x4aff6c);try{if(fs[_0x10c22f(0x20c)](path[_0x10c22f(0x30f)](configpath,_0x10c22f(0x251)+_0x4aff6c+'-config.json')))fs['unlinkSync'](path[_0x10c22f(0x30f)](configpath,_0x10c22f(0x251)+_0x4aff6c+'-config.json'));if(fs['existsSync'](path[_0x10c22f(0x30f)](configpath,_0x10c22f(0x251)+_0x4aff6c+_0x10c22f(0x3cc))))fs[_0x10c22f(0x32a)](path[_0x10c22f(0x30f)](configpath,_0x10c22f(0x251)+_0x4aff6c+_0x10c22f(0x3cc)));if(fs['existsSync'](path['join'](configpath,_0x10c22f(0x251)+_0x4aff6c+_0x10c22f(0x2c5))))fs[_0x10c22f(0x32a)](path[_0x10c22f(0x30f)](configpath,_0x10c22f(0x251)+_0x4aff6c+_0x10c22f(0x2c5)));if(fs[_0x10c22f(0x20c)](path[_0x10c22f(0x30f)](configpath,'bot-'+_0x4aff6c+'-results.json')))fs['unlinkSync'](path[_0x10c22f(0x30f)](configpath,_0x10c22f(0x251)+_0x4aff6c+_0x10c22f(0x3cb)));}catch(_0x5a2977){if(_0x5a2977)logger[_0x10c22f(0x393)]('Error\x20while\x20deleting\x20config\x20files:\x20',_0x5a2977);}config=getConfiguration(),io['to']('botmanager')[_0x10c22f(0x2e1)](_0x10c22f(0x23a),config),broadcastToBots('bots',JSON[_0x10c22f(0x322)](config));}function toggleBot(_0x4d3eb8,_0x4d3539,_0x1b9f39){const _0x593055=_0x532b55;dbConfig[_0x593055(0x27d)](_0x593055(0x23a))[_0x593055(0x240)]({'botID':_0x4d3eb8})['assign']({'status':_0x4d3539})[_0x593055(0x3fe)]({'live':_0x1b9f39})['write']();if(_0x4d3539=='enabled'||_0x4d3539=='new')logger[_0x593055(0x393)]('Enabled\x20Bot\x20'+_0x4d3eb8),startBot([_0x4d3eb8,userID],{'cwd':bbpath},function(_0x444579){const _0x86b534=_0x593055;if(_0x444579)logger[_0x86b534(0x393)](_0x444579);});else(_0x4d3539==_0x593055(0x3fd)||_0x4d3539==_0x593055(0x333))&&(logger[_0x593055(0x393)](_0x593055(0x3a5)+_0x4d3eb8),stopBot(_0x4d3eb8));config=getConfiguration(),io['to'](_0x593055(0x401))[_0x593055(0x2e1)](_0x593055(0x23a),config),broadcastToBots(_0x593055(0x23a),JSON[_0x593055(0x322)](config));}function toggleStatus(_0x4eab9a){const _0x2317eb=_0x532b55;let _0x49ab8d=dbConfig['get'](_0x2317eb(0x23a))['find']({'botID':_0x4eab9a})[_0x2317eb(0x268)](),_0x405f1e;if(_0x49ab8d['status']===_0x2317eb(0x1e7))_0x405f1e=_0x2317eb(0x3fd);else{if(_0x49ab8d['status']===_0x2317eb(0x2c3))_0x405f1e='new-disabled';else{if(_0x49ab8d[_0x2317eb(0x392)]==='new-disabled')_0x405f1e=_0x2317eb(0x2c3);else{if(_0x49ab8d[_0x2317eb(0x392)]===_0x2317eb(0x3fd))_0x405f1e=_0x2317eb(0x1e7);}}}return _0x405f1e;}function updateStatus(_0x4c0035,_0x14acd8){const _0xe13706=_0x532b55;dbConfig[_0xe13706(0x27d)](_0xe13706(0x23a))[_0xe13706(0x240)]({'botID':_0x4c0035})[_0xe13706(0x3fe)]({'status':_0x14acd8})[_0xe13706(0x224)](),config=getConfiguration(),io['to'](_0xe13706(0x401))[_0xe13706(0x2e1)](_0xe13706(0x23a),config),broadcastToBots(_0xe13706(0x23a),JSON[_0xe13706(0x322)](config));}function updateLive(_0x823c51,_0x3c7dd9){const _0x36ec86=_0x532b55;dbConfig['get'](_0x36ec86(0x23a))[_0x36ec86(0x240)]({'botID':_0x823c51})['assign']({'live':_0x3c7dd9})[_0x36ec86(0x224)](),config=getConfiguration(),io['to'](_0x36ec86(0x401))[_0x36ec86(0x2e1)](_0x36ec86(0x23a),config),broadcastToBots(_0x36ec86(0x23a),JSON['stringify'](config));}function updateBotName(_0x380f46,_0x4e9159){const _0x31b166=_0x532b55;dbConfig['get'](_0x31b166(0x23a))[_0x31b166(0x240)]({'botID':_0x380f46})[_0x31b166(0x3fe)]({'botname':_0x4e9159})['write'](),config=getConfiguration(),io['to']('botmanager')[_0x31b166(0x2e1)](_0x31b166(0x23a),config),broadcastToBots(_0x31b166(0x23a),JSON[_0x31b166(0x322)](config));}function updateBotManager(){const _0x1a376b=_0x532b55;config=getConfiguration(),io['to'](_0x1a376b(0x401))[_0x1a376b(0x2e1)](_0x1a376b(0x23a),config),broadcastToBots('bots',JSON[_0x1a376b(0x322)](config));}function toggleBotMode(_0x4fe62b){const _0x34c2f4=_0x532b55;if(pid[_0x4fe62b])pid[_0x4fe62b][_0x34c2f4(0x253)]({'function':_0x34c2f4(0x258),'args':null});else{const _0x5dd011=configpath+_0x34c2f4(0x251)+_0x4fe62b+_0x34c2f4(0x31d),_0x4b49ea=fs[_0x34c2f4(0x2fe)](_0x5dd011),_0x27048d=JSON[_0x34c2f4(0x3b0)](_0x4b49ea),_0x265659=_0x27048d[_0x34c2f4(0x2bd)][0x0][_0x34c2f4(0x286)];_0x27048d['bot'][0x0]['headless']=!_0x265659;const _0x185a7e=JSON[_0x34c2f4(0x322)](_0x27048d,null,0x2);fs[_0x34c2f4(0x22a)](_0x5dd011,_0x185a7e),config=getConfiguration(),io['to'](_0x34c2f4(0x401))[_0x34c2f4(0x2e1)](_0x34c2f4(0x23a),config),broadcastToBots('bots',JSON[_0x34c2f4(0x322)](config));}}function validateTelegram(_0x2b9c03){const _0x56b1ee=_0x532b55;if(_0x2b9c03['from'][_0x56b1ee(0x264)]!=settings[_0x56b1ee(0x29c)]&&'@'+_0x2b9c03[_0x56b1ee(0x33a)][_0x56b1ee(0x264)]!=settings['telegramUsername']||_0x2b9c03[_0x56b1ee(0x1fa)]['id']!=settings[_0x56b1ee(0x2e9)])return sendTelegram(_0x2b9c03['chat']['id'],_0x56b1ee(0x281),{'parse_mode':_0x56b1ee(0x3e1)}),![];return!![];}async function initTelegram(){const _0x53e733=_0x532b55;if(tgBot)tgBot['stop'](),tgBot=null,initTelegram();else{tgBot=new Telegraf(settings[_0x53e733(0x38d)]);let _0x46bf63=_0x53e733(0x2ce);_0x46bf63+='\x0a',_0x46bf63+=_0x53e733(0x331),_0x46bf63+='/disable\x20-\x20disable\x20notifications\x0a',_0x46bf63+=_0x53e733(0x1f1),_0x46bf63+=_0x53e733(0x243),_0x46bf63+='/on\x20-\x20start\x20bot(s)\x0a',_0x46bf63+=_0x53e733(0x3d4),_0x46bf63+='/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a',_0x46bf63+=_0x53e733(0x3ca),_0x46bf63+=_0x53e733(0x27f),_0x46bf63+=_0x53e733(0x210),_0x46bf63+='/portfolio\x20-\x20show\x20bot\x20portfolio\x0a',_0x46bf63+=_0x53e733(0x361),_0x46bf63+=_0x53e733(0x2e6),_0x46bf63+=_0x53e733(0x312);let _0x5d0d3d=_0x53e733(0x302);_0x5d0d3d+='\x0a',_0x5d0d3d+=_0x46bf63,tgBot[_0x53e733(0x20e)]((_0x34b498,_0x263516)=>{const _0x1f8d3a=_0x53e733;logger[_0x1f8d3a(0x31f)](getTimeStamp()+_0x1f8d3a(0x360)),logger[_0x1f8d3a(0x306)](_0x1f8d3a(0x2d4),_0x34b498);}),tgBot[_0x53e733(0x35e)](async(_0x2e3418,_0x3bf652)=>{const _0x44fc4f=_0x53e733;if(!(!settings[_0x44fc4f(0x2e9)]&&_0x2e3418[_0x44fc4f(0x2fb)]['message'][_0x44fc4f(0x2b5)]==_0x44fc4f(0x2c1))){if(!validateTelegram(_0x2e3418))return;}_0x3bf652();}),tgBot[_0x53e733(0x263)]('start',async _0x411b01=>{const _0x35299a=_0x53e733;if(!settings['telegramChatId'])updateSetting(_0x35299a(0x2e9),_0x411b01[_0x35299a(0x1fa)]['id']);updateSetting(_0x35299a(0x21a),!![]);if(!validateTelegram(_0x411b01))return;await sendTelegram(_0x411b01['chat']['id'],_0x5d0d3d);}),tgBot[_0x53e733(0x263)](_0x53e733(0x31c),async _0x3feed8=>{const _0x535673=_0x53e733;updateSetting(_0x535673(0x21a),!![]),await sendTelegram(_0x3feed8[_0x535673(0x1fa)]['id'],_0x535673(0x206));}),tgBot[_0x53e733(0x263)](_0x53e733(0x267),async _0x271e3d=>{const _0x5956a6=_0x53e733;await sendTelegram(_0x271e3d[_0x5956a6(0x1fa)]['id'],_0x5956a6(0x3dc)),updateSetting(_0x5956a6(0x21a),![]);}),tgBot[_0x53e733(0x263)]('config',async _0x53ea45=>{const _0xd8030e=_0x53e733,_0x87e872=Markup[_0xd8030e(0x321)]([Markup['button'][_0xd8030e(0x404)](_0xd8030e(0x364),_0xd8030e(0x2dd)),Markup[_0xd8030e(0x244)][_0xd8030e(0x404)](_0xd8030e(0x23f),_0xd8030e(0x1ff)),Markup[_0xd8030e(0x244)][_0xd8030e(0x404)](_0xd8030e(0x2e5),_0xd8030e(0x2b0))]);_0x53ea45[_0xd8030e(0x24a)](_0xd8030e(0x2da),_0x87e872);}),tgBot[_0x53e733(0x32f)](_0x53e733(0x2dd),async _0x580f1a=>{const _0x349aac=_0x53e733;_0x580f1a['editMessageReplyMarkup'](),updateSetting(_0x349aac(0x3b8),_0x349aac(0x365)),updateSetting(_0x349aac(0x21a),!![]),await sendTelegram(_0x580f1a[_0x349aac(0x1fa)]['id'],_0x349aac(0x1f7));}),tgBot[_0x53e733(0x32f)]('config_alerts',async _0x28a3fa=>{const _0x32a92f=_0x53e733;_0x28a3fa[_0x32a92f(0x28c)](),updateSetting(_0x32a92f(0x3b8),_0x32a92f(0x3a7)),updateSetting(_0x32a92f(0x21a),!![]),await sendTelegram(_0x28a3fa[_0x32a92f(0x1fa)]['id'],_0x32a92f(0x32d));}),tgBot[_0x53e733(0x32f)](_0x53e733(0x2b0),async _0x4fddb4=>{_0x4fddb4['editMessageReplyMarkup'](),updateSetting('telegramEvents','all'),updateSetting('telegramEnabled',!![]),await sendTelegram(_0x4fddb4['chat']['id'],'Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications');}),tgBot['command'](_0x53e733(0x392),async _0x2edb81=>{const _0x3b8fcf=_0x53e733,_0x23ba6f=getBotsWithMode();let _0x350536=_0x3b8fcf(0x375);config[_0x3b8fcf(0x39c)](_0x1319b6=>{const _0x10df6c=_0x3b8fcf,_0x3c5235=_0x23ba6f['find'](_0x21d764=>_0x21d764[_0x10df6c(0x320)]==_0x1319b6[_0x10df6c(0x320)])[_0x10df6c(0x3b9)];_0x350536+=_0x10df6c(0x32e)+_0x1319b6[_0x10df6c(0x320)]+':\x20'+_0x1319b6[_0x10df6c(0x392)]+'\x20|\x20'+_0x3c5235+_0x10df6c(0x3a6)+_0x1319b6[_0x10df6c(0x3ab)]+'\x0a';}),_0x350536+='\x0a',_0x350536+=_0x3b8fcf(0x3df),_0x350536+=!settings[_0x3b8fcf(0x21a)]?'Notifications\x20disabled\x0a':_0x3b8fcf(0x3d5),_0x350536+=settings['telegramEnabled']?settings[_0x3b8fcf(0x3b8)]==_0x3b8fcf(0x301)?_0x3b8fcf(0x359):_0x3b8fcf(0x3dd)+settings[_0x3b8fcf(0x3b8)]+'\x20only\x0a':'',await sendTelegram(_0x2edb81[_0x3b8fcf(0x1fa)]['id'],_0x350536,{'parse_mode':'HTML'});}),tgBot[_0x53e733(0x263)]('restart',async _0x30b7fb=>{const _0x59fd92=_0x53e733,_0x434c7e=getEnabledBots();if(_0x434c7e[_0x59fd92(0x262)]==0x0)await sendTelegram(_0x30b7fb[_0x59fd92(0x1fa)]['id'],_0x59fd92(0x2f3));else{if(_0x434c7e[_0x59fd92(0x262)]>0x1)_0x434c7e[_0x59fd92(0x212)]({'botID':'all'});let _0x3c2fe1=[],_0x5a991b=[];const _0x5abc77=_0x434c7e['length']%0x4==0x0||_0x434c7e[_0x59fd92(0x262)]%0x4==0x3||_0x434c7e['length']%0x3==0x1?0x4:0x3;let _0x417bbc=0x0;_0x434c7e['forEach']((_0x5586d5,_0x47cd7f)=>{const _0x4a7787=_0x59fd92;if(_0x47cd7f%_0x5abc77==0x0)_0x5a991b=[];_0x5a991b[_0x4a7787(0x212)](Markup[_0x4a7787(0x244)][_0x4a7787(0x404)](_0x5586d5['botID']==_0x4a7787(0x301)?_0x4a7787(0x391):_0x4a7787(0x32e)+_0x5586d5[_0x4a7787(0x320)],_0x4a7787(0x1ed)+_0x5586d5[_0x4a7787(0x320)])),_0x47cd7f%_0x5abc77==0x0&&(_0x3c2fe1[_0x417bbc]=_0x5a991b,_0x417bbc++);});const _0x3c59d7=Markup['inlineKeyboard'](_0x3c2fe1);_0x30b7fb[_0x59fd92(0x24a)](_0x59fd92(0x1f2),_0x3c59d7);}}),tgBot[_0x53e733(0x32f)](/restart_(.+)/,async _0x690558=>{const _0x4dd0e9=_0x53e733,_0x5b7422=_0x690558['match'][0x1];_0x690558[_0x4dd0e9(0x28c)](),_0x5b7422==_0x4dd0e9(0x301)?config[_0x4dd0e9(0x39c)](_0xa478d1=>{const _0x4a58cc=_0x4dd0e9;restartBot(_0xa478d1[_0x4a58cc(0x320)]);}):restartBot(_0x5b7422);}),tgBot[_0x53e733(0x263)]('on',async _0x3974fa=>{const _0x13afb2=_0x53e733,_0x431d5c=getDisabledBots();if(_0x431d5c['length']==0x0)await sendTelegram(_0x3974fa[_0x13afb2(0x1fa)]['id'],_0x13afb2(0x2e0));else{if(_0x431d5c[_0x13afb2(0x262)]>0x1)_0x431d5c[_0x13afb2(0x212)]({'botID':_0x13afb2(0x301)});let _0x4496d6=[],_0x30d89b=[];const _0x4a676b=_0x431d5c[_0x13afb2(0x262)]%0x4==0x0||_0x431d5c['length']%0x4==0x3||_0x431d5c[_0x13afb2(0x262)]%0x3==0x1?0x4:0x3;let _0x5065f5=0x0;_0x431d5c[_0x13afb2(0x39c)]((_0x38812e,_0x2980f6)=>{const _0x3ad270=_0x13afb2;if(_0x2980f6%_0x4a676b==0x0)_0x30d89b=[];_0x30d89b['push'](Markup[_0x3ad270(0x244)][_0x3ad270(0x404)](_0x38812e[_0x3ad270(0x320)]==_0x3ad270(0x301)?_0x3ad270(0x391):_0x3ad270(0x32e)+_0x38812e['botID'],'on_'+_0x38812e[_0x3ad270(0x320)])),_0x2980f6%_0x4a676b==0x0&&(_0x4496d6[_0x5065f5]=_0x30d89b,_0x5065f5++);});const _0x125dab=Markup[_0x13afb2(0x321)](_0x4496d6);_0x3974fa['reply'](_0x13afb2(0x2d1),_0x125dab);}}),tgBot[_0x53e733(0x32f)](/on_(.+)/,async _0x587d82=>{const _0x51bb65=_0x53e733,_0x1f47f9=_0x587d82['match'][0x1];_0x587d82['editMessageReplyMarkup']();if(_0x1f47f9==_0x51bb65(0x301)){const _0x4d5c82=getDisabledBots();await sendTelegram(_0x587d82[_0x51bb65(0x1fa)]['id'],_0x51bb65(0x1fb)),_0x4d5c82[_0x51bb65(0x39c)](_0x370ffc=>{const _0x587816=_0x51bb65;if(_0x370ffc[_0x587816(0x320)]!=_0x587816(0x301))toggleBot(_0x370ffc[_0x587816(0x320)],toggleStatus(_0x370ffc['botID']),'stopped');});}else await sendTelegram(_0x587d82[_0x51bb65(0x1fa)]['id'],_0x51bb65(0x2b3)+_0x1f47f9),toggleBot(_0x1f47f9,toggleStatus(_0x1f47f9),'stopped');}),tgBot[_0x53e733(0x263)]('off',async _0x49ec31=>{const _0x55c619=_0x53e733,_0x30c839=getEnabledBots();if(_0x30c839[_0x55c619(0x262)]==0x0)await sendTelegram(_0x49ec31[_0x55c619(0x1fa)]['id'],_0x55c619(0x2f3));else{if(_0x30c839[_0x55c619(0x262)]>0x1)_0x30c839[_0x55c619(0x212)]({'botID':_0x55c619(0x301)});let _0x28bd63=[],_0x1520b8=[];const _0x520e60=_0x30c839[_0x55c619(0x262)]%0x4==0x0||_0x30c839[_0x55c619(0x262)]%0x4==0x3||_0x30c839[_0x55c619(0x262)]%0x3==0x1?0x4:0x3;let _0x50aaf2=0x0;_0x30c839[_0x55c619(0x39c)]((_0x1c65c0,_0x9db179)=>{const _0x4d9589=_0x55c619;if(_0x9db179%_0x520e60==0x0)_0x1520b8=[];_0x1520b8[_0x4d9589(0x212)](Markup[_0x4d9589(0x244)][_0x4d9589(0x404)](_0x1c65c0[_0x4d9589(0x320)]=='all'?_0x4d9589(0x391):_0x4d9589(0x32e)+_0x1c65c0['botID'],'off_'+_0x1c65c0['botID'])),_0x9db179%_0x520e60==0x0&&(_0x28bd63[_0x50aaf2]=_0x1520b8,_0x50aaf2++);});const _0x523b82=Markup[_0x55c619(0x321)](_0x28bd63);_0x49ec31[_0x55c619(0x24a)](_0x55c619(0x35d),_0x523b82);}}),tgBot[_0x53e733(0x32f)](/off_(.+)/,async _0x4510d0=>{const _0x4d210=_0x53e733,_0x78762c=_0x4510d0[_0x4d210(0x242)][0x1];_0x4510d0[_0x4d210(0x28c)]();if(_0x78762c=='all'){const _0xb225d0=getEnabledBots();await sendTelegram(_0x4510d0[_0x4d210(0x1fa)]['id'],_0x4d210(0x3a1)),_0xb225d0[_0x4d210(0x39c)](_0xdfc27a=>{const _0x203954=_0x4d210;if(_0xdfc27a[_0x203954(0x320)]!=_0x203954(0x301))toggleBot(_0xdfc27a[_0x203954(0x320)],toggleStatus(_0xdfc27a[_0x203954(0x320)]),_0x203954(0x23b));});}else await sendTelegram(_0x4510d0['chat']['id'],_0x4d210(0x31e)+_0x78762c),toggleBot(_0x78762c,toggleStatus(_0x78762c),_0x4d210(0x23b));}),tgBot[_0x53e733(0x263)](_0x53e733(0x2a3),async _0x3d2904=>{const _0x1047dd=_0x53e733,_0x2e6335=getEnabledBots();if(_0x2e6335[_0x1047dd(0x262)]==0x0)await sendTelegram(_0x3d2904[_0x1047dd(0x1fa)]['id'],_0x1047dd(0x2f3));else{if(_0x2e6335[_0x1047dd(0x262)]>0x1){let _0x1a4a1c=[],_0x2a8db6=[];const _0x14becb=_0x2e6335[_0x1047dd(0x262)]%0x4==0x0||_0x2e6335[_0x1047dd(0x262)]%0x4==0x3||_0x2e6335[_0x1047dd(0x262)]%0x3==0x1?0x4:0x3;let _0x2ccbe4=0x0;_0x2e6335[_0x1047dd(0x39c)]((_0x315dcf,_0x361d85)=>{const _0x4377ec=_0x1047dd;if(_0x361d85%_0x14becb==0x0)_0x2a8db6=[];_0x2a8db6['push'](Markup[_0x4377ec(0x244)][_0x4377ec(0x404)]('Bot\x20'+_0x315dcf[_0x4377ec(0x320)],_0x4377ec(0x20f)+_0x315dcf[_0x4377ec(0x320)])),_0x361d85%_0x14becb==0x0&&(_0x1a4a1c[_0x2ccbe4]=_0x2a8db6,_0x2ccbe4++);});const _0x4cd8f1=Markup[_0x1047dd(0x321)](_0x1a4a1c);_0x3d2904[_0x1047dd(0x24a)](_0x1047dd(0x1ee),_0x4cd8f1);}else{const _0x3570b1=_0x2e6335[0x0]['botID'];if(pid[_0x3570b1])pid[_0x3570b1][_0x1047dd(0x253)]({'function':'sendMetricsTelegram','args':null});}}}),tgBot[_0x53e733(0x32f)](/metrics_(.+)/,async _0x39401f=>{const _0x59ba04=_0x53e733,_0x21be88=_0x39401f[_0x59ba04(0x242)][0x1];_0x39401f[_0x59ba04(0x28c)]();if(pid[_0x21be88])pid[_0x21be88][_0x59ba04(0x253)]({'function':_0x59ba04(0x1f6),'args':null});}),tgBot[_0x53e733(0x263)](_0x53e733(0x35f),async _0x1d9861=>{const _0x51e482=_0x53e733,_0x18f0f9=getEnabledBots();if(_0x18f0f9[_0x51e482(0x262)]==0x0)await sendTelegram(_0x1d9861[_0x51e482(0x1fa)]['id'],_0x51e482(0x2f3));else{if(_0x18f0f9['length']>0x1){let _0x37ee1e=[],_0x4f2b20=[];const _0x2ae0c1=_0x18f0f9[_0x51e482(0x262)]%0x4==0x0||_0x18f0f9['length']%0x4==0x3||_0x18f0f9[_0x51e482(0x262)]%0x3==0x1?0x4:0x3;let _0x512a6c=0x0;_0x18f0f9['forEach']((_0x4a1885,_0x59f037)=>{const _0x426a30=_0x51e482;if(_0x59f037%_0x2ae0c1==0x0)_0x4f2b20=[];_0x4f2b20[_0x426a30(0x212)](Markup[_0x426a30(0x244)][_0x426a30(0x404)](_0x426a30(0x32e)+_0x4a1885[_0x426a30(0x320)],_0x426a30(0x2c9)+_0x4a1885['botID'])),_0x59f037%_0x2ae0c1==0x0&&(_0x37ee1e[_0x512a6c]=_0x4f2b20,_0x512a6c++);});const _0xf64c5e=Markup[_0x51e482(0x321)](_0x37ee1e);_0x1d9861[_0x51e482(0x24a)](_0x51e482(0x277),_0xf64c5e);}else{const _0x19a822=_0x18f0f9[0x0]['botID'];if(pid[_0x19a822])pid[_0x19a822]['send']({'function':_0x51e482(0x3f7),'args':null});}}}),tgBot[_0x53e733(0x32f)](/portfolio_(.+)/,async _0x57fb4f=>{const _0x548fe4=_0x53e733,_0x516f82=_0x57fb4f[_0x548fe4(0x242)][0x1];_0x57fb4f[_0x548fe4(0x28c)]();if(pid[_0x516f82])pid[_0x516f82][_0x548fe4(0x253)]({'function':_0x548fe4(0x3f7),'args':null});}),tgBot['command']('update',async _0x595c3c=>{const _0x35691c=_0x53e733;await getMessages();if(!updateAvailable)await sendTelegram(_0x595c3c[_0x35691c(0x1fa)]['id'],_0x35691c(0x2df));else{if(!validInstallation)await sendTelegram(_0x595c3c[_0x35691c(0x1fa)]['id'],_0x35691c(0x1eb));else{const _0x303e00=Markup['inlineKeyboard']([Markup[_0x35691c(0x244)]['callback']('Yes',_0x35691c(0x3c3)),Markup[_0x35691c(0x244)]['callback']('No',_0x35691c(0x3ac))]);_0x595c3c[_0x35691c(0x24a)](_0x35691c(0x37d),_0x303e00);}}}),tgBot['action'](/update_(.+)/,async _0xc3cda7=>{const _0x1b7882=_0x53e733,_0x454c56=_0xc3cda7[_0x1b7882(0x242)][0x1];_0xc3cda7[_0x1b7882(0x28c)](),_0x454c56=='yes'&&(await sendTelegram(_0xc3cda7[_0x1b7882(0x1fa)]['id'],_0x1b7882(0x228)),updateBB(_0x1b7882(0x2fb))),_0x454c56=='no'&&await sendTelegram(_0xc3cda7[_0x1b7882(0x1fa)]['id'],_0x1b7882(0x344));}),tgBot[_0x53e733(0x263)](_0x53e733(0x2f8),async _0x29c3be=>{const _0x38b4ba=_0x53e733;if(!validInstallation)await sendTelegram(_0x29c3be[_0x38b4ba(0x1fa)]['id'],_0x38b4ba(0x276));else{const _0x1dd5e2=Markup[_0x38b4ba(0x321)]([Markup[_0x38b4ba(0x244)]['callback'](_0x38b4ba(0x3e8),_0x38b4ba(0x3bf)),Markup[_0x38b4ba(0x244)]['callback']('No',_0x38b4ba(0x255))]);_0x29c3be[_0x38b4ba(0x24a)](_0x38b4ba(0x395),_0x1dd5e2);}}),tgBot[_0x53e733(0x32f)](/reinstall_(.+)/,async _0x12ec1c=>{const _0x491335=_0x53e733,_0x21b75d=_0x12ec1c[_0x491335(0x242)][0x1];_0x12ec1c[_0x491335(0x28c)](),_0x21b75d==_0x491335(0x325)&&(await sendTelegram(_0x12ec1c[_0x491335(0x1fa)]['id'],_0x491335(0x39e)),updateBB(_0x491335(0x2f8))),_0x21b75d=='no'&&await sendTelegram(_0x12ec1c['chat']['id'],_0x491335(0x2ee));}),tgBot['command'](_0x53e733(0x2b8),async _0x7a8a74=>{const _0x2911b6=_0x53e733,_0x3221ba=getBotsWithMode();if(_0x3221ba[_0x2911b6(0x262)]==0x0)await sendTelegram(_0x7a8a74[_0x2911b6(0x1fa)]['id'],'No\x20bots\x20running\x20right\x20now');else{let _0x252cdb=[],_0x2f8b45=[];const _0x19bcaa=0x2;let _0x3122c1=0x0;_0x3221ba[_0x2911b6(0x39c)]((_0x25f01b,_0x2e174b)=>{const _0x2f82e4=_0x2911b6;if(_0x2e174b%_0x19bcaa==0x0)_0x2f8b45=[];_0x2f8b45[_0x2f82e4(0x212)](Markup['button'][_0x2f82e4(0x404)](_0x2f82e4(0x32e)+_0x25f01b[_0x2f82e4(0x320)]+'\x20('+_0x25f01b['mode']+')',_0x2f82e4(0x238)+_0x25f01b['botID'])),_0x2e174b%_0x19bcaa==0x0&&(_0x252cdb[_0x3122c1]=_0x2f8b45,_0x3122c1++);});const _0x4ff0ab=Markup['inlineKeyboard'](_0x252cdb);_0x7a8a74[_0x2911b6(0x24a)](_0x2911b6(0x2f9),_0x4ff0ab);}}),tgBot[_0x53e733(0x32f)](/toggle_(.+)/,async _0x59340f=>{const _0x22870d=_0x53e733,_0x43ba38=_0x59340f[_0x22870d(0x242)][0x1];_0x59340f[_0x22870d(0x28c)]();const _0x2f4362=getBotsWithMode(),_0x1b3a32=_0x2f4362[_0x22870d(0x240)](_0x5db3be=>_0x5db3be['botID']==_0x43ba38),_0x72d04e=_0x1b3a32[_0x22870d(0x3b9)]==_0x22870d(0x229)?_0x22870d(0x3d9):_0x22870d(0x229);await sendTelegram(_0x59340f[_0x22870d(0x1fa)]['id'],_0x22870d(0x34f)+_0x43ba38+_0x22870d(0x2a8)+_0x72d04e+'\x20mode'),toggleBotMode(_0x43ba38);}),tgBot[_0x53e733(0x263)]('names',async _0x43585c=>{const _0x10c475=_0x53e733;let _0x1b342e='';config['forEach'](_0x5965d9=>{const _0x14783e=_0x1368;_0x1b342e+=_0x14783e(0x32e)+_0x5965d9[_0x14783e(0x320)]+':\x20'+_0x5965d9[_0x14783e(0x3b1)]+'\x0a';}),await sendTelegram(_0x43585c['chat']['id'],_0x1b342e,{'parse_mode':_0x10c475(0x3e1)});}),tgBot[_0x53e733(0x263)](_0x53e733(0x29d),async _0x371e7f=>{const _0xfbe2ee=_0x53e733;await sendTelegram(_0x371e7f[_0xfbe2ee(0x1fa)]['id'],_0x46bf63);}),process[_0x53e733(0x3f8)](_0x53e733(0x3d3),()=>tgBot['stop'](_0x53e733(0x3d3))),process[_0x53e733(0x3f8)](_0x53e733(0x261),()=>tgBot[_0x53e733(0x2b4)](_0x53e733(0x261))),tgBot[_0x53e733(0x356)]();}}function disableTelegram(){tgBot&&tgBot['stop']();}async function sendTelegram(_0x22fa6d,_0x5eddbc,_0x1c30a0){const _0x4d012a=_0x532b55;_0x1c30a0={..._0x1c30a0,'disable_web_page_preview':!![]};try{await tgBot['telegram'][_0x4d012a(0x2c0)](_0x22fa6d,_0x5eddbc,_0x1c30a0);}catch(_0x3846b8){console[_0x4d012a(0x1f9)](_0x4d012a(0x34a),_0x3846b8);}}async function sendTelegramBot(_0x5d1adf,_0xbd62c3){const _0x3f5a7e=_0x532b55;if(settings[_0x3f5a7e(0x21a)]){if(settings['telegramEvents']==_0x3f5a7e(0x301)||(_0xbd62c3[_0x3f5a7e(0x39a)]==_0x3f5a7e(0x209)||_0xbd62c3[_0x3f5a7e(0x39a)]==_0x3f5a7e(0x282)||_0xbd62c3[_0x3f5a7e(0x39a)]=='success')&&settings['telegramEvents']==_0x3f5a7e(0x3a7)||_0xbd62c3[_0x3f5a7e(0x39a)]=='order'&&settings[_0x3f5a7e(0x3b8)]==_0x3f5a7e(0x365)){if(tgBot&&settings[_0x3f5a7e(0x2e9)]){if(_0xbd62c3['showname'])await sendTelegram(settings['telegramChatId'],_0xbd62c3[_0x3f5a7e(0x3b1)]+_0x3f5a7e(0x28d)+_0xbd62c3[_0x3f5a7e(0x2d6)]);else await sendTelegram(settings[_0x3f5a7e(0x2e9)],_0x3f5a7e(0x32e)+_0x5d1adf+'\x20>\x20'+_0xbd62c3[_0x3f5a7e(0x2d6)]);}}}}async function sendTelegramMsg(_0x2fe967,_0x404830='HTML'){const _0x29c03e=_0x532b55;return settings['telegramEnabled']&&tgBot&&settings[_0x29c03e(0x2e9)]?(await sendTelegram(settings['telegramChatId'],_0x2fe967,{'parse_mode':_0x404830}),!![]):![];}function getDeviceWithIp(_0x45d41c){const _0xbeefa4=_0x532b55;return devices[_0xbeefa4(0x240)](_0xcaec9e=>_0xcaec9e['ip']===_0x45d41c);}async function temporaryAccess2FA(_0x1534da,_0x418962){const _0x1475db=_0x532b55;let _0x6d8847=new Date(),_0x384bb4=![];if(lastIpApproval){if(_0x6d8847-lastIpApproval<0x1388)_0x384bb4=!![];}lastIpApproval=new Date();if(_0x384bb4)return;if(tgBot&&settings['telegramChatId']){const _0x415021=uuidRandom();tmpStorage[_0x415021]={'uuid':_0x1534da,'externalip':_0x418962};const _0xc1af5f=Markup[_0x1475db(0x321)]([Markup[_0x1475db(0x244)][_0x1475db(0x404)](_0x1475db(0x29f),_0x1475db(0x324)+_0x415021),Markup[_0x1475db(0x244)][_0x1475db(0x404)](_0x1475db(0x211),_0x1475db(0x295)+_0x415021),Markup[_0x1475db(0x244)][_0x1475db(0x404)](_0x1475db(0x2fa),'tempaccess_30_'+_0x415021),Markup[_0x1475db(0x244)]['callback'](_0x1475db(0x3fc),_0x1475db(0x2b7)+_0x415021)]);await sendTelegram(settings[_0x1475db(0x2e9)],'Allow\x20temporary\x20access\x20from\x20IP\x20address\x20'+normalizeIP(_0x418962)['show']+'\x20?',_0xc1af5f),tgBot[_0x1475db(0x32f)](/tempaccess_(.+)_(.+)/,async _0x53c284=>{const _0x181bc9=_0x1475db,_0x50543b=_0x53c284[_0x181bc9(0x242)][0x1],_0x13678e=_0x53c284[_0x181bc9(0x242)][0x2],{uuid:_0x1fd695,externalip:_0x558011}=tmpStorage[_0x13678e];delete tmpStorage[_0x13678e],_0x53c284[_0x181bc9(0x28c)](),devices[_0x1fd695][_0x181bc9(0x36d)]={'clientip':_0x558011,'timestamp':new Date()['getTime'](),'expiry':_0x50543b},_0x50543b!=_0x181bc9(0x3fc)?(await sendTelegram(_0x53c284[_0x181bc9(0x1fa)]['id'],_0x181bc9(0x3c5)+_0x50543b+_0x181bc9(0x2ed),{'parse_mode':_0x181bc9(0x3e1)}),io['to'](_0x1fd695)[_0x181bc9(0x2e1)](_0x181bc9(0x392),{'access':{'allow':![],'reason':_0x181bc9(0x28f),'token':null}})):(await sendTelegram(_0x53c284[_0x181bc9(0x1fa)]['id'],_0x181bc9(0x1fd)),io['to'](_0x1fd695)[_0x181bc9(0x2e1)](_0x181bc9(0x392),{'access':{'allow':![],'reason':_0x181bc9(0x335),'token':null}}));});}}async function loginAccess2FA(_0x35b8e3,_0x39d180){const _0x2bd382=_0x532b55;if(tgBot&&settings[_0x2bd382(0x2e9)]){const _0x2c118c=uuidRandom();tmpStorage[_0x2c118c]={'uuid':_0x35b8e3,'externalip':_0x39d180};const _0x13161c=Markup['inlineKeyboard']([Markup[_0x2bd382(0x244)][_0x2bd382(0x404)](_0x2bd382(0x1fe),'login2fa_'+loginExpiry+'_'+_0x2c118c),Markup[_0x2bd382(0x244)][_0x2bd382(0x404)](_0x2bd382(0x3fc),_0x2bd382(0x323)+_0x2c118c)]);await sendTelegram(settings[_0x2bd382(0x2e9)],'Allow\x20login\x20from\x20IP\x20address\x20'+normalizeIP(_0x39d180)[_0x2bd382(0x3b5)]+'\x20?',_0x13161c),tgBot[_0x2bd382(0x32f)](/login2fa_(.+)_(.+)/,async _0xec9f12=>{const _0x2384dd=_0x2bd382,_0x3563ee=_0xec9f12[_0x2384dd(0x242)][0x1],_0x4ea5fa=_0xec9f12[_0x2384dd(0x242)][0x2],{uuid:_0x319943,externalip:_0x5c1e2d}=tmpStorage[_0x4ea5fa];delete tmpStorage[_0x4ea5fa],_0xec9f12['editMessageReplyMarkup'](),devices[_0x319943][_0x2384dd(0x2ae)]={'clientip':_0x5c1e2d,'timestamp':new Date()[_0x2384dd(0x2db)](),'expiry':_0x3563ee},_0x3563ee!=_0x2384dd(0x3fc)?(await sendTelegram(_0xec9f12[_0x2384dd(0x1fa)]['id'],_0x2384dd(0x21b),{'parse_mode':'HTML'}),io['to'](_0x319943)[_0x2384dd(0x2e1)]('status',{'access':{'allow':![],'reason':_0x2384dd(0x28f),'token':null}})):(await sendTelegram(_0xec9f12[_0x2384dd(0x1fa)]['id'],_0x2384dd(0x3f9)),io['to'](_0x319943)[_0x2384dd(0x2e1)](_0x2384dd(0x392),{'access':{'allow':![],'reason':_0x2384dd(0x29a),'token':null}}));});}}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x3e81f8=_0x532b55;return dbConfig[_0x3e81f8(0x27d)](_0x3e81f8(0x23a))[_0x3e81f8(0x3bc)]('botID')[_0x3e81f8(0x2ca)]({'status':_0x3e81f8(0x1e7)})[_0x3e81f8(0x268)]()||[];}function getDisabledBots(){const _0xf079b1=_0x532b55;return dbConfig['get'](_0xf079b1(0x23a))['sortBy'](_0xf079b1(0x320))[_0xf079b1(0x2ca)]({'status':'disabled'})[_0xf079b1(0x268)]()||[];}function getBotAttributes(_0x3d7ccf){const _0x433ad1=_0x532b55;let _0x50545a={};const _0x8c6a91=configpath+_0x433ad1(0x251)+_0x3d7ccf+'-config.json',_0x1ee396=fs[_0x433ad1(0x20c)](_0x8c6a91);if(_0x1ee396){const _0x2df691=fs['readFileSync'](_0x8c6a91);try{const _0x58345b=JSON[_0x433ad1(0x3b0)](_0x2df691),_0x64ac3c=_0x58345b?_0x58345b[_0x433ad1(0x2bd)][0x0][_0x433ad1(0x286)]:![];_0x50545a[_0x433ad1(0x3b9)]=_0x64ac3c?'auto':_0x433ad1(0x3d9),_0x50545a['botname']=_0x58345b?_0x58345b[_0x433ad1(0x2bd)][0x0][_0x433ad1(0x3b1)]:_0x433ad1(0x32e)+_0x3d7ccf;}catch(_0x180ddc){_0x50545a[_0x433ad1(0x3b9)]=_0x433ad1(0x3d9),_0x50545a['botname']=_0x433ad1(0x32e)+_0x3d7ccf;}}else _0x50545a[_0x433ad1(0x3b9)]='manual',_0x50545a[_0x433ad1(0x3b1)]=_0x433ad1(0x32e)+_0x3d7ccf;return _0x50545a;}function getBotsWithMode(){const _0x4b4554=_0x532b55,_0x5a5935=dbConfig['get'](_0x4b4554(0x23a))[_0x4b4554(0x3bc)](_0x4b4554(0x320))[_0x4b4554(0x268)]()||[];return _0x5a5935[_0x4b4554(0x39c)](_0x3616c4=>{const _0x467bde=_0x4b4554;let _0x2ee153=getBotAttributes(_0x3616c4[_0x467bde(0x320)]);_0x3616c4[_0x467bde(0x3b9)]=_0x2ee153['mode'];}),_0x5a5935;}function getBotExchanges(){const _0x57c96c=_0x532b55;let _0x47a98c=[];const _0x18848e=dbConfig['get']('bots')[_0x57c96c(0x3bc)](_0x57c96c(0x320))['value']()||[];_0x18848e[_0x57c96c(0x39c)](_0x40d780=>{const _0x5aae11=_0x57c96c;if(_0x40d780[_0x5aae11(0x392)]==_0x5aae11(0x1e7)){const _0x283808=configpath+'bot-'+_0x40d780[_0x5aae11(0x320)]+'-config.json',_0x4e2bc1=fs[_0x5aae11(0x20c)](_0x283808);let _0x3fece0;if(_0x4e2bc1){const _0x1abf52=fs['readFileSync'](_0x283808);try{const _0x13cfeb=JSON[_0x5aae11(0x3b0)](_0x1abf52);_0x3fece0=_0x13cfeb?_0x13cfeb[_0x5aae11(0x2bd)][0x0][_0x5aae11(0x250)]:null;}catch(_0x1a7147){}}if(_0x3fece0)_0x47a98c['push'](_0x3fece0);}});const _0x4733c9=[...new Set(_0x47a98c)]['sort']();return _0x4733c9;}async function initUser(){const _0x486f5a=_0x532b55;if(!settings['userid']){const _0x2a2802=uuidRandom();mixpanel[_0x486f5a(0x2f6)](_0x2a2802),updateSetting('userid',_0x2a2802);}}function _0x1368(_0x306727,_0x3ec1ac){const _0x280ec4=_0x5af7();return _0x1368=function(_0x4609a2,_0x3cda40){_0x4609a2=_0x4609a2-0x1e6;let _0x5af796=_0x280ec4[_0x4609a2];return _0x5af796;},_0x1368(_0x306727,_0x3ec1ac);}async function initSecure(){const _0x466945=_0x532b55;let _0x3ebb8a=getSecure();if(!_0x3ebb8a[_0x466945(0x230)](_0x466945(0x3e5))){let _0x4bafc4=await generateKeys();_0x3ebb8a[_0x466945(0x328)]=_0x4bafc4[_0x466945(0x328)],_0x3ebb8a[_0x466945(0x37b)]=_0x4bafc4[_0x466945(0x37b)],_0x3ebb8a[_0x466945(0x3e5)]=crypto[_0x466945(0x3cf)](0x20)[_0x466945(0x249)](_0x466945(0x24f));;storeSecure(_0x3ebb8a);}}function getSettings(){const _0x50c86d=_0x532b55;return dbSettings[_0x50c86d(0x27d)](_0x50c86d(0x39b))[_0x50c86d(0x268)]()||{};}function getSecure(){const _0x39b95e=_0x532b55;return dbSecure[_0x39b95e(0x27d)](_0x39b95e(0x363))[_0x39b95e(0x268)]()||{};}function getBlacklist(){const _0x90e78e=_0x532b55;return dbSecure[_0x90e78e(0x27d)]('blacklist')['value']()||[];}function broadcastToBots(_0xf5b3,_0x2595eb){const _0x5675f9=_0x532b55;config[_0x5675f9(0x39c)](_0x5b7c47=>{const _0x101012=_0x5675f9;if(_0x5b7c47[_0x101012(0x392)]==_0x101012(0x1e7)&&_0x5b7c47[_0x101012(0x3ab)]==_0x101012(0x3e9)||_0x5b7c47['status']==_0x101012(0x2c3)&&_0x5b7c47['live']==_0x101012(0x3e9)){if(pid[_0x5b7c47[_0x101012(0x320)]])pid[_0x5b7c47[_0x101012(0x320)]]['send']({[_0xf5b3]:_0x2595eb});}});}async function storeSettings(_0x2cbacb,_0x5ae29d=![]){const _0x2c57d9=_0x532b55;_0x2cbacb={...settings,..._0x2cbacb};if(_0x5ae29d&&_0x2cbacb[_0x2c57d9(0x366)]!=_0x2c57d9(0x371)&&_0x2cbacb[_0x2c57d9(0x366)]!=_0x2c57d9(0x3f5)&&_0x2cbacb[_0x2c57d9(0x366)]!=''){const _0x309727=crypt[_0x2c57d9(0x3ff)](secure[_0x2c57d9(0x37b)],_0x2cbacb[_0x2c57d9(0x366)])[_0x2c57d9(0x3d2)]['split'](_0x2c57d9(0x3a9))[0x0],_0x30eaa7=bcrypt[_0x2c57d9(0x309)](_0x309727,saltRounds);_0x2cbacb={..._0x2cbacb,'bbPassword':_0x30eaa7};}if(_0x5ae29d&&_0x2cbacb[_0x2c57d9(0x38d)]!=_0x2c57d9(0x371)&&_0x2cbacb[_0x2c57d9(0x38d)]!=_0x2c57d9(0x3f5)&&_0x2cbacb[_0x2c57d9(0x38d)]!=''){const _0x57b9ee=crypt[_0x2c57d9(0x3ff)](secure['privateKey'],_0x2cbacb[_0x2c57d9(0x38d)])[_0x2c57d9(0x3d2)][_0x2c57d9(0x305)](_0x2c57d9(0x3a9))[0x0];_0x2cbacb={..._0x2cbacb,'telegramToken':_0x57b9ee};}if(_0x5ae29d&&_0x2cbacb['marketcapApi']!=_0x2c57d9(0x371)&&_0x2cbacb[_0x2c57d9(0x279)]!=_0x2c57d9(0x3f5)&&_0x2cbacb['marketcapApi']!=''){const _0x471d3c=crypt[_0x2c57d9(0x3ff)](secure[_0x2c57d9(0x37b)],_0x2cbacb[_0x2c57d9(0x279)])[_0x2c57d9(0x3d2)][_0x2c57d9(0x305)]('|@|')[0x0];_0x2cbacb={..._0x2cbacb,'marketcapApi':_0x471d3c};}const _0xad70c4=_0x2cbacb[_0x2c57d9(0x38d)]!=_0x2c57d9(0x371)&&_0x2cbacb['telegramToken']!=settings[_0x2c57d9(0x38d)]||_0x2cbacb[_0x2c57d9(0x29c)]!=settings['telegramUsername'],_0x47bf3e=_0x2cbacb[_0x2c57d9(0x38d)]==''||_0x2cbacb[_0x2c57d9(0x29c)]=='',_0x452570=_0x2cbacb[_0x2c57d9(0x279)]&&_0x2cbacb[_0x2c57d9(0x279)]!='************'&&_0x2cbacb[_0x2c57d9(0x279)]!=settings['telegramToken'];_0xad70c4&&(_0x2cbacb[_0x2c57d9(0x2e9)]=null,_0x2cbacb[_0x2c57d9(0x3b8)]=_0x2c57d9(0x301));for(const [_0x281436,_0x163a93]of Object[_0x2c57d9(0x2eb)](_0x2cbacb)){if(_0x281436==_0x2c57d9(0x38d)&&_0x163a93==_0x2c57d9(0x371)){_0x2cbacb[_0x2c57d9(0x38d)]=settings[_0x2c57d9(0x38d)];continue;};if(_0x281436==_0x2c57d9(0x366)&&_0x163a93==_0x2c57d9(0x371)){_0x2cbacb[_0x2c57d9(0x366)]=settings[_0x2c57d9(0x366)];continue;};if(_0x281436==_0x2c57d9(0x279)&&_0x163a93==_0x2c57d9(0x371)){_0x2cbacb['marketcapApi']=settings['marketcapApi'];continue;};dbSettings[_0x2c57d9(0x373)](_0x2c57d9(0x21c)+_0x281436,_0x163a93)[_0x2c57d9(0x224)]();}settings=_0x2cbacb,io['to'](_0x2c57d9(0x401))[_0x2c57d9(0x2e1)](_0x2c57d9(0x39b),cleanSettings()),broadcastToBots(_0x2c57d9(0x2a1),settings[_0x2c57d9(0x2a1)]),broadcastToBots(_0x2c57d9(0x38c),settings[_0x2c57d9(0x38c)]),broadcastToBots(_0x2c57d9(0x279),settings['marketcapApi']);if(_0xad70c4&&!_0x47bf3e)initTelegram();if(_0xad70c4&&_0x47bf3e)disableTelegram();getAllClients()['forEach'](_0x120ebe=>{const _0x479bdc=_0x2c57d9;getSocket(_0x120ebe['id'])[_0x479bdc(0x2e1)](_0x479bdc(0x392),{'access':{'allow':![],'reason':'reload','token':null}});}),_0x452570&&(await sleep(0xbb8),testMarketcapApi(_0x2cbacb[_0x2c57d9(0x279)]));}async function testMarketcapApi(_0x2520e7){const _0x59789b=_0x532b55,_0x1b3871=[_0x59789b(0x2cf),_0x59789b(0x225)];try{await axios[_0x59789b(0x27d)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':_0x2520e7},'params':{'symbol':_0x1b3871['toString']()}});}catch(_0x364a5f){_0x364a5f[_0x59789b(0x249)]()[_0x59789b(0x3f3)](_0x59789b(0x402))?(io['to'](_0x59789b(0x401))[_0x59789b(0x2e1)](_0x59789b(0x275),_0x59789b(0x21f)),logger[_0x59789b(0x393)]('CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(io['to'](_0x59789b(0x401))[_0x59789b(0x2e1)](_0x59789b(0x275),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20see\x20logs\x20for\x20details'),logger[_0x59789b(0x393)]('CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20see\x20logs\x20for\x20details'),logger[_0x59789b(0x306)](_0x59789b(0x234),_0x364a5f[_0x59789b(0x249)]()+_0x59789b(0x2b6)+_0x364a5f['code']));return;}logger[_0x59789b(0x306)](_0x59789b(0x2bf));}function updateSetting(_0x10cfc5,_0x5eb489){const _0xdb3fe0=_0x532b55;dbSettings['set'](_0xdb3fe0(0x21c)+_0x10cfc5,_0x5eb489)['write'](),settings=getSettings(),io['to'](_0xdb3fe0(0x401))['emit'](_0xdb3fe0(0x39b),cleanSettings());}function storeSecure(_0x890647){const _0x41b2ad=_0x532b55;dbSecure[_0x41b2ad(0x27d)](_0x41b2ad(0x363))[_0x41b2ad(0x212)](_0x890647)[_0x41b2ad(0x224)](),secure=_0x890647;}function addBlacklist(_0x534e05){const _0x17bc5d=_0x532b55;cleanBlacklist();let _0x3316d4;devices[_0x534e05][_0x17bc5d(0x36d)]?_0x3316d4=Math[_0x17bc5d(0x33e)](devices[_0x534e05][_0x17bc5d(0x36d)][_0x17bc5d(0x273)],loginExpiry):_0x3316d4=loginExpiry,dbSecure['get'](_0x17bc5d(0x3de))[_0x17bc5d(0x212)]({'expiry':new Date()[_0x17bc5d(0x2db)]()+_0x3316d4*0x3c*0x3e8,'token':devices[_0x534e05][_0x17bc5d(0x337)][_0x17bc5d(0x346)]})[_0x17bc5d(0x224)](),blacklist=dbSecure[_0x17bc5d(0x27d)](_0x17bc5d(0x3de))[_0x17bc5d(0x268)]();}function cleanBlacklist(){const _0x2d6022=_0x532b55;let _0x2e4a6f=dbSecure[_0x2d6022(0x27d)](_0x2d6022(0x3de))['cloneDeep']()[_0x2d6022(0x268)](),_0x11b4f9=new Date()[_0x2d6022(0x2db)]();_0x2e4a6f[_0x2d6022(0x39c)](_0x13fd52=>{const _0x11e066=_0x2d6022;_0x13fd52[_0x11e066(0x273)]<_0x11b4f9&&dbSecure['get'](_0x11e066(0x3de))[_0x11e066(0x217)]({'expiry':_0x13fd52[_0x11e066(0x273)]})[_0x11e066(0x224)]();});}function initStates(){let _0x1d402a=getConfiguration();_0x1d402a['forEach'](_0x3379c7=>{const _0x1d1208=_0x1368;_0x3379c7[_0x1d1208(0x3ab)]=_0x1d1208(0x23b);}),storeConfiguration(_0x1d402a);}function onKeys(){const _0x6281fc=new RSA();return new Promise(_0x58f67f=>{const _0x3986fa=_0x1368;_0x6281fc[_0x3986fa(0x247)]()['then'](_0x4b5f3a=>{_0x58f67f(_0x4b5f3a);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x4ab27d=_0x532b55;let _0x36af4b=getSettings(),_0x1d3c06=![];!_0x36af4b[_0x4ab27d(0x230)](_0x4ab27d(0x352))&&(_0x36af4b[_0x4ab27d(0x352)]=0x0,_0x1d3c06=!![]);!_0x36af4b[_0x4ab27d(0x230)]('lastmsgemitted')&&(_0x36af4b[_0x4ab27d(0x2a9)]=0x0,_0x1d3c06=!![]);!_0x36af4b['hasOwnProperty'](_0x4ab27d(0x296))&&(_0x36af4b[_0x4ab27d(0x296)]='0.0.0',_0x1d3c06=!![]);!_0x36af4b[_0x4ab27d(0x230)](_0x4ab27d(0x38c))&&(_0x36af4b[_0x4ab27d(0x38c)]=![],_0x1d3c06=!![]);!_0x36af4b[_0x4ab27d(0x230)](_0x4ab27d(0x279))&&(_0x36af4b[_0x4ab27d(0x279)]='',_0x1d3c06=!![]);if(_0x1d3c06)storeSettings(_0x36af4b);try{fs['readdirSync'](configbackuppath,{'withFileTypes':!![]})[_0x4ab27d(0x39c)](_0x459675=>{const _0x1787a2=_0x4ab27d;if(!_0x459675['isDirectory']()){if(!_0x459675[_0x1787a2(0x245)][_0x1787a2(0x23d)](_0x1787a2(0x389)))fs[_0x1787a2(0x32a)](configbackuppath+_0x459675[_0x1787a2(0x245)]);}else fs[_0x1787a2(0x1ef)](configbackuppath+_0x459675[_0x1787a2(0x245)],{'recursive':!![]});});}catch(_0x2c34ba){logger['debug'](_0x4ab27d(0x2c6),_0x2c34ba);}}function storeConfiguration(_0x42e974){const _0x1347b0=_0x532b55;dbConfig['get'](_0x1347b0(0x23a))[_0x1347b0(0x217)]()[_0x1347b0(0x224)](),dbConfig['get'](_0x1347b0(0x23a))[_0x1347b0(0x212)](..._0x42e974)['write'](),config=_0x42e974;}async function resetPassword(){const _0x10d4d5=_0x532b55;if(tgBot&&settings[_0x10d4d5(0x2e9)]){const _0x285ea2=Markup[_0x10d4d5(0x321)]([Markup[_0x10d4d5(0x244)]['callback'](_0x10d4d5(0x325),_0x10d4d5(0x283)),Markup[_0x10d4d5(0x244)]['callback']('no',_0x10d4d5(0x33b))]);await sendTelegram(settings['telegramChatId'],_0x10d4d5(0x3e7),_0x285ea2),tgBot[_0x10d4d5(0x32f)](/resetpw_(.+)/,async _0x3aba30=>{const _0x5c8c0a=_0x10d4d5,_0x248815=_0x3aba30[_0x5c8c0a(0x242)][0x1];_0x3aba30[_0x5c8c0a(0x28c)]();if(_0x248815!='no'){const _0x5cb675=0xf,_0x2fccd2=_0x5c8c0a(0x314),_0xd5b23f=Array[_0x5c8c0a(0x33a)](crypto[_0x5c8c0a(0x2a0)](new Uint32Array(_0x5cb675)))['map'](_0x3a5be3=>_0x2fccd2[_0x3a5be3%_0x2fccd2[_0x5c8c0a(0x262)]])[_0x5c8c0a(0x30f)](''),_0x1596c8=bcrypt[_0x5c8c0a(0x309)](_0xd5b23f,saltRounds);storeSettings({'bbPassword':_0x1596c8}),await sendTelegram(_0x3aba30[_0x5c8c0a(0x1fa)]['id'],'Password\x20has\x20been\x20reset\x20to:\x20'+_0xd5b23f,{'parse_mode':_0x5c8c0a(0x3e1)});}else await sendTelegram(_0x3aba30[_0x5c8c0a(0x1fa)]['id'],'Password\x20reset\x20rejected');});}}async function confirmRestore(_0x5deadd,_0x1c26df){const _0x3c65c6=_0x532b55;io['to'](_0x3c65c6(0x401))[_0x3c65c6(0x2e1)](_0x3c65c6(0x275),_0x3c65c6(0x1e8),_0x3c65c6(0x2ba));if(tgBot&&settings[_0x3c65c6(0x2e9)]){const _0x1144e3=uuidRandom();tmpStorage[_0x1144e3]={'path':_0x5deadd,'filename':_0x1c26df};const _0x25b6ab=Markup[_0x3c65c6(0x321)]([Markup[_0x3c65c6(0x244)][_0x3c65c6(0x404)]('yes',_0x3c65c6(0x353)+_0x1144e3),Markup[_0x3c65c6(0x244)]['callback']('no','restore_no_'+_0x1144e3)]);await sendTelegram(settings['telegramChatId'],_0x3c65c6(0x369),_0x25b6ab),tgBot[_0x3c65c6(0x32f)](/restore_(.+)_(.+)/,async _0x1ab919=>{const _0x4bfdec=_0x3c65c6,_0x362e9c=_0x1ab919[_0x4bfdec(0x242)][0x1],_0x21533a=_0x1ab919[_0x4bfdec(0x242)][0x2],{path:_0x61fea,filename:_0x4500f3}=tmpStorage[_0x21533a];delete tmpStorage[_0x21533a],_0x1ab919[_0x4bfdec(0x28c)](),_0x362e9c==_0x4bfdec(0x325)?(logger[_0x4bfdec(0x306)]('Restore\x20process\x20confirmed'),await sendTelegram(_0x1ab919[_0x4bfdec(0x1fa)]['id'],_0x4bfdec(0x3a4),{'parse_mode':'HTML'}),unzipFile(_0x61fea,_0x4500f3)):(logger[_0x4bfdec(0x306)](_0x4bfdec(0x299)),await sendTelegram(_0x1ab919[_0x4bfdec(0x1fa)]['id'],_0x4bfdec(0x299)));});}}function getServerTime(){const _0x40193d=_0x532b55,_0x2bb701=new Date();return _0x2bb701['getFullYear']()+'/'+(_0x2bb701[_0x40193d(0x3a0)]()+0x1)['toString']()[_0x40193d(0x2ac)](0x2,'0')+'/'+_0x2bb701[_0x40193d(0x390)]()[_0x40193d(0x249)]()[_0x40193d(0x2ac)](0x2,'0')+'\x20'+_0x2bb701[_0x40193d(0x385)]()['toString']()[_0x40193d(0x2ac)](0x2,'0')+':'+_0x2bb701['getMinutes']()[_0x40193d(0x249)]()[_0x40193d(0x2ac)](0x2,'0')+':'+_0x2bb701[_0x40193d(0x226)]()[_0x40193d(0x249)]()[_0x40193d(0x2ac)](0x2,'0');}function getTimeStamp(){const _0x26e2bb=_0x532b55,_0x340319=shiftedTime();return _0x340319['getFullYear']()+'/'+(_0x340319[_0x26e2bb(0x3a0)]()+0x1)[_0x26e2bb(0x249)]()[_0x26e2bb(0x2ac)](0x2,'0')+'/'+_0x340319[_0x26e2bb(0x390)]()[_0x26e2bb(0x249)]()[_0x26e2bb(0x2ac)](0x2,'0')+'\x20'+_0x340319[_0x26e2bb(0x385)]()[_0x26e2bb(0x249)]()[_0x26e2bb(0x2ac)](0x2,'0')+':'+_0x340319[_0x26e2bb(0x2aa)]()['toString']()['padStart'](0x2,'0')+':'+_0x340319['getSeconds']()[_0x26e2bb(0x249)]()[_0x26e2bb(0x2ac)](0x2,'0');}function getCleanTimeStamp(){const _0x7f55e5=_0x532b55,_0xf84a5d=shiftedTime();return _0xf84a5d[_0x7f55e5(0x31b)]()+(_0xf84a5d[_0x7f55e5(0x3a0)]()+0x1)[_0x7f55e5(0x249)]()[_0x7f55e5(0x2ac)](0x2,'0')+_0xf84a5d['getDate']()[_0x7f55e5(0x249)]()[_0x7f55e5(0x2ac)](0x2,'0')+'-'+_0xf84a5d[_0x7f55e5(0x385)]()['toString']()[_0x7f55e5(0x2ac)](0x2,'0')+_0xf84a5d[_0x7f55e5(0x2aa)]()[_0x7f55e5(0x249)]()['padStart'](0x2,'0')+_0xf84a5d[_0x7f55e5(0x226)]()[_0x7f55e5(0x249)]()['padStart'](0x2,'0');}function shiftedTime(){const _0x2538df=_0x532b55,_0x2ab2b0=new Date();let _0x1946d3=_0x2ab2b0;if(settings['timeshift']&&settings[_0x2538df(0x2a1)]!==0x0)_0x1946d3=fns['add'](_0x2ab2b0,{'hours':settings[_0x2538df(0x2a1)]});return _0x1946d3;}function startScheduler(){const _0x5e5918=_0x532b55,_0x23e290=new Date()[_0x5e5918(0x24e)](),_0x31317e=shiftedTime()[_0x5e5918(0x385)]();_0x31317e==0x4&&backupConfigFiles();_0x31317e==0x0&&rotateLogFiles();_0x23e290%0x6==0x0&&triggerAnalytics();_0x23e290%0x6==0x0&&getMessages();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}async function restoreBackupFile(_0x4dcadf){const _0x6af3ed=_0x532b55;logger[_0x6af3ed(0x306)](_0x6af3ed(0x297)+_0x4dcadf);const _0x434cb9=getBotsWithMode();_0x434cb9[_0x6af3ed(0x262)]>0x0?confirmRestore(configbackuppath,_0x4dcadf):unzipFile(configbackuppath,_0x4dcadf);}async function getBackupFiles(_0x2423a7=null){const _0x5b0c8b=_0x532b55;let _0x26e856=[],_0x383c8f=fs[_0x5b0c8b(0x221)](configbackuppath,{'withFileTypes':!![]});_0x383c8f[_0x5b0c8b(0x2fc)]((_0x278fe9,_0x513372)=>_0x278fe9[_0x5b0c8b(0x245)]<_0x513372[_0x5b0c8b(0x245)]?0x1:_0x513372['name']<_0x278fe9[_0x5b0c8b(0x245)]?-0x1:0x0),_0x383c8f[_0x5b0c8b(0x39c)](_0x433fce=>{const _0x50d891=_0x5b0c8b;if(!_0x433fce[_0x50d891(0x2f0)]()&&_0x433fce[_0x50d891(0x245)]['startsWith'](_0x50d891(0x389))&&_0x433fce['name'][_0x50d891(0x370)](_0x50d891(0x2dc))){const _0x10813a=formatDate(fs[_0x50d891(0x362)](configbackuppath+_0x433fce[_0x50d891(0x245)])[_0x50d891(0x2bb)]);_0x26e856[_0x50d891(0x212)]({'name':_0x433fce[_0x50d891(0x245)],'mtime':_0x10813a});}});if(_0x2423a7)io['to'](_0x2423a7)[_0x5b0c8b(0x2e1)](_0x5b0c8b(0x259),_0x26e856);else return _0x26e856;}async function backupConfigFiles(){const _0x106278=_0x532b55;await zipFiles(_0x106278(0x2cc));const _0x5e11f8=getCleanTimeStamp();fs[_0x106278(0x3a8)](zippath+'backup-full.zip',configbackuppath+(_0x106278(0x389)+_0x5e11f8+_0x106278(0x2dc)));let _0x1b73c4=fs[_0x106278(0x221)](configbackuppath,{'withFileTypes':!![]});_0x1b73c4[_0x106278(0x2fc)]((_0xca4b4f,_0x62ee0a)=>_0xca4b4f['name']<_0x62ee0a[_0x106278(0x245)]?0x1:_0x62ee0a[_0x106278(0x245)]<_0xca4b4f[_0x106278(0x245)]?-0x1:0x0),_0x1b73c4[_0x106278(0x262)]>maxBackups&&fs['unlinkSync'](configbackuppath+_0x1b73c4[_0x1b73c4[_0x106278(0x262)]-0x1][_0x106278(0x245)]);}function rotateLogFiles(){const _0x5eeb47=_0x532b55,_0x4c492f=fs['statSync'](logspath+'output-000.log'),_0x4883e9=_0x4c492f[_0x5eeb47(0x3c0)]/0x400;if(_0x4883e9>0x64){let _0x4cf3f5=fs[_0x5eeb47(0x221)](logspath,{'withFileTypes':!![]});_0x4cf3f5[_0x5eeb47(0x2fc)]((_0x49c951,_0x1b6dfb)=>_0x49c951['name']<_0x1b6dfb[_0x5eeb47(0x245)]?0x1:_0x1b6dfb[_0x5eeb47(0x245)]<_0x49c951[_0x5eeb47(0x245)]?-0x1:0x0),_0x4cf3f5[_0x5eeb47(0x39c)](_0x20fd0c=>{const _0x474833=_0x5eeb47;if(_0x20fd0c['name']==_0x474833(0x3a2))fs[_0x474833(0x3a8)](logspath+_0x20fd0c['name'],logspath+_0x474833(0x2d2));if(_0x20fd0c[_0x474833(0x245)]=='output-001.log')fs[_0x474833(0x3a8)](logspath+_0x20fd0c[_0x474833(0x245)],logspath+'output-002.log');_0x20fd0c[_0x474833(0x245)]=='output-000.log'&&(fs[_0x474833(0x3a8)](logspath+_0x20fd0c[_0x474833(0x245)],logspath+'output-001.log'),fs[_0x474833(0x22a)](logspath+_0x20fd0c[_0x474833(0x245)],''));});}}async function zipFiles(_0x4a11bc){const _0x4f02a6=_0x532b55;let _0x29ef69;if(_0x4a11bc=='logs')_0x29ef69=logspath;if(_0x4a11bc==_0x4f02a6(0x24b))_0x29ef69=configpath;if(_0x4a11bc==_0x4f02a6(0x2cc))_0x29ef69=configpath;let _0x1ea972=fs[_0x4f02a6(0x221)](_0x29ef69,{'withFileTypes':!![]});const _0x334765=new require(_0x4f02a6(0x3ed))();_0x1ea972[_0x4f02a6(0x39c)](_0x51d918=>{const _0x426256=_0x4f02a6;if(!_0x51d918['isDirectory']()){let _0x324742=fs[_0x426256(0x2fe)](_0x29ef69+_0x51d918[_0x426256(0x245)]);if(_0x4a11bc==_0x426256(0x24b)){const _0x44cbce=/^bot-[0-9]{3}-config.json$/,_0xbd57a=_0x44cbce['test'](_0x51d918[_0x426256(0x245)]);if(_0xbd57a){const _0x5e8705=JSON[_0x426256(0x3b0)](_0x324742);if(_0x5e8705['bot'][0x0]){_0x5e8705[_0x426256(0x2bd)][0x0][_0x426256(0x339)]=_0x426256(0x3f5),_0x5e8705[_0x426256(0x2bd)][0x0]['apiSecret']=_0x426256(0x3f5);if(_0x5e8705[_0x426256(0x2bd)][0x0]['apiPassword'])_0x5e8705['bot'][0x0]['apiPassword']=_0x426256(0x3f5);}_0x324742=JSON[_0x426256(0x322)](_0x5e8705,null,0x2);}if(_0x51d918['name']==_0x426256(0x3c6)){const _0x84b239=JSON[_0x426256(0x3b0)](_0x324742);if(_0x84b239['settings'][_0x426256(0x36c)])_0x84b239[_0x426256(0x39b)]['loginRequired']=![];if(_0x84b239[_0x426256(0x39b)][_0x426256(0x366)])_0x84b239['settings'][_0x426256(0x366)]=_0x426256(0x3f5);if(_0x84b239[_0x426256(0x39b)][_0x426256(0x38d)])_0x84b239[_0x426256(0x39b)][_0x426256(0x38d)]=_0x426256(0x3f5);if(_0x84b239[_0x426256(0x39b)]['telegramChatId'])_0x84b239[_0x426256(0x39b)][_0x426256(0x2e9)]=null;if(_0x84b239[_0x426256(0x39b)][_0x426256(0x279)])_0x84b239[_0x426256(0x39b)][_0x426256(0x279)]='***';_0x324742=JSON[_0x426256(0x322)](_0x84b239,null,0x2);}if(_0x51d918[_0x426256(0x245)]!=_0x426256(0x342))_0x334765[_0x426256(0x3f4)](_0x51d918[_0x426256(0x245)],_0x324742);}else _0x334765[_0x426256(0x3f4)](_0x51d918[_0x426256(0x245)],_0x324742);}});const _0x508690=_0x334765[_0x4f02a6(0x2f1)]({'base64':![],'compression':_0x4f02a6(0x1ea)});fs[_0x4f02a6(0x22a)](zippath+(_0x4a11bc+_0x4f02a6(0x2dc)),_0x508690,_0x4f02a6(0x3f6));}async function unzipFile(_0x30a9d0,_0xf40b9b){const _0x4efef9=_0x532b55;fs[_0x4efef9(0x221)](configpath,{'withFileTypes':!![]})['forEach'](_0x2c8ae1=>{const _0x1bc4c6=_0x4efef9;if(!_0x2c8ae1['isDirectory']())fs[_0x1bc4c6(0x1ef)](configpath+_0x2c8ae1['name']);});const _0x5f480c=fs[_0x4efef9(0x2fe)](_0x30a9d0+_0xf40b9b,'binary'),_0x9b01c4=new require(_0x4efef9(0x3ed))(_0x5f480c,{'base64':![],'checkCRC32':!![]});Object[_0x4efef9(0x2b9)](_0x9b01c4[_0x4efef9(0x23c)])[_0x4efef9(0x39c)](_0x4aa705=>{const _0x3dd673=_0x4efef9,_0x20ecf2=_0x9b01c4[_0x3dd673(0x23c)][_0x4aa705];fs[_0x3dd673(0x22a)](configpath+_0x20ecf2['name'],_0x20ecf2[_0x3dd673(0x257)]);}),fs[_0x4efef9(0x221)](temppath,{'withFileTypes':!![]})[_0x4efef9(0x39c)](_0x19ad7f=>{const _0x55a35d=_0x4efef9;if(!_0x19ad7f[_0x55a35d(0x2f0)]())fs[_0x55a35d(0x1ef)](temppath+_0x19ad7f[_0x55a35d(0x245)]);}),logger[_0x4efef9(0x306)](_0x4efef9(0x3ea)),process[_0x4efef9(0x253)]({'restore':!![]},_0x3b852f=>{});}async function getPublicIp(){const _0x4593d3=_0x532b55;try{const _0x56c30a=await axios[_0x4593d3(0x27d)](_0x4593d3(0x2a2));publicip=_0x56c30a[_0x4593d3(0x34d)]['ip'];}catch(_0x4cdcbd){}}async function triggerAnalytics(){const _0x1e43b6=_0x532b55;if(!publicip)await getPublicIp();const _0x33dcc3=getBotsWithMode();let _0x1dfcc1=0x0;_0x33dcc3[_0x1e43b6(0x39c)](_0x293d45=>{const _0x55761b=_0x1e43b6;if(_0x293d45[_0x55761b(0x392)]==='enabled')_0x1dfcc1++;});const _0x9fbdb4=getBotExchanges();mixpanel[_0x1e43b6(0x246)](_0x1e43b6(0x24d),{'distinct_id':settings[_0x1e43b6(0x29e)],'ip':publicip,'version':serverversion,'numbots':_0x33dcc3[_0x1e43b6(0x262)],'numbotsenabled':_0x1dfcc1,'exchanges':_0x9fbdb4,'environment':environment});}async function getMessages(){const _0x428cce=_0x532b55,_0x407da1=_0x428cce(0x208),_0xbbd982=new GraphQLClient(_0x407da1),_0x412398={'authorization':_0x428cce(0x35c)},_0x42bb23=serverversion[_0x428cce(0x305)]('.'),_0x1daae0=_0x42bb23[0x0]+'.'+_0x42bb23[0x1],_0x2ebf52=Math['min'](settings['lastmsgtelegram'],settings[_0x428cce(0x2a9)]),_0x22c403={'last':parseInt(_0x2ebf52),'bbm':_0x1daae0},_0x4b8656=gql`
            query getMessages($bbm: String!, $last: Int!) {
                messages(where: {
                    number_gt: $last
                    OR: [
                    {bbvReceive: "any"},
                    {bbvReceive_contains: $bbm}
                    ]
                    archived_not: true
                }, orderBy: number_ASC) {
                    id
                    number
                    bbvReceive
                    bbvNew
                    title
                    message
                    dialogWidth
                    lock
                }
            }
            `;let _0x13e868;try{_0x13e868=await _0xbbd982[_0x428cce(0x3b3)](_0x4b8656,_0x22c403,_0x412398);}catch(_0x2e9e81){}if(_0x13e868&&_0x13e868[_0x428cce(0x349)]){let _0x5a5891=settings[_0x428cce(0x352)];newMessages=[];for(const _0x3d1d7c of _0x13e868['messages']){newMessages[_0x428cce(0x212)](_0x3d1d7c);let _0x35c5c8=![];_0x3d1d7c[_0x428cce(0x374)]&&(updateSetting(_0x428cce(0x296),_0x3d1d7c[_0x428cce(0x374)]),_0x35c5c8=isNewerVersion(serverversion,_0x3d1d7c['bbvNew'])||serverversion==_0x3d1d7c['bbvNew']);if(!_0x35c5c8&&_0x3d1d7c['number']>_0x5a5891){if(_0x3d1d7c[_0x428cce(0x270)]===_0x428cce(0x24c)||serverversion['startsWith'](_0x3d1d7c[_0x428cce(0x270)])){let _0x27f066=''+_0x3d1d7c[_0x428cce(0x3fa)]+'\x0a\x0a'+_0x3d1d7c['message'];const _0x324f88=await sendTelegramMsg(toTelegramMarkdown(_0x27f066),_0x428cce(0x204));if(_0x324f88)_0x5a5891=_0x3d1d7c['number'];}}}updateAvailable=isNewerVersion(settings[_0x428cce(0x296)],serverversion),updateSetting('lastmsgtelegram',_0x5a5891),emitMessages();}}function emitMessages(){const _0xcb5e10=_0x532b55,_0xc2a609=settings[_0xcb5e10(0x2a9)];let _0x36943a=[];newMessages['forEach'](_0x2f3664=>{const _0x5a1d0a=_0xcb5e10;_0x2f3664[_0x5a1d0a(0x340)]>_0xc2a609&&_0x36943a[_0x5a1d0a(0x212)](_0x2f3664);}),_0x36943a[_0xcb5e10(0x262)]>0x0&&getAllClients()[_0xcb5e10(0x39c)](_0x508c84=>{const _0x19c3ee=_0xcb5e10;getSocket(_0x508c84['id'])[_0x19c3ee(0x2e1)](_0x19c3ee(0x3d2),_0x36943a);});}function confirmMessage(_0x115257){const _0x376203=_0x532b55;updateSetting(_0x376203(0x2a9),Number(_0x115257));}function isNewerVersion(_0x4b7772,_0x3d868e){const _0x28d9e8=_0x532b55,_0x3d537d=_0x3d868e[_0x28d9e8(0x305)]('.'),_0x761d19=_0x4b7772['split']('.');for(var _0x1bf939=0x0;_0x1bf939<_0x761d19[_0x28d9e8(0x262)];_0x1bf939++){const _0x1c2a04=~~_0x761d19[_0x1bf939],_0x4cfb30=~~_0x3d537d[_0x1bf939];if(_0x1c2a04>_0x4cfb30)return!![];if(_0x1c2a04<_0x4cfb30)return![];}return![];}function toTelegramMarkdown(_0x333dab){const _0x455af9=_0x532b55,_0x254f20=/(^|[^\*])\*{1}([^\*.]+?)\*{1}([^\*]|$)/gim,_0x1b1dda=/\*{2}(.+?)\*{2}/gim;return _0x333dab=_0x333dab[_0x455af9(0x218)](_0x254f20,_0x455af9(0x3ae))['replace'](_0x1b1dda,_0x455af9(0x3ad)),_0x333dab;}async function validateConfigFile(){const _0x24232e=_0x532b55,_0x45ef57=dbConfig[_0x24232e(0x27d)]('bots')[_0x24232e(0x3bc)]('botID')[_0x24232e(0x268)]()||[];if(_0x45ef57[_0x24232e(0x262)]==0x0){let _0x4fc3a0=0x0,_0x56cd7c=[];const _0x2b1757=/^bot-([0-9]{3})-config.json$/,_0x2698d2=fs['readdirSync'](configpath);_0x2698d2[_0x24232e(0x39c)](_0x1f3f27=>{const _0x5a7fc4=_0x24232e,_0x3ebe7b=_0x2b1757[_0x5a7fc4(0x27a)](_0x1f3f27);if(_0x3ebe7b){const _0x44cfe6=_0x3ebe7b[0x1];let _0x53e8b3=getBotAttributes(_0x44cfe6);_0x56cd7c[_0x5a7fc4(0x212)]({'botID':_0x44cfe6,'botname':_0x53e8b3['botname'],'status':'disabled','live':_0x5a7fc4(0x23b)}),_0x4fc3a0++;}}),_0x4fc3a0!=0x0&&(dbConfig[_0x24232e(0x27d)](_0x24232e(0x23a))[_0x24232e(0x3fe)](_0x56cd7c)['write'](),config=_0x56cd7c,restoredConfigFile=_0x4fc3a0);}}async function restoreConfigNotify(_0x4e3264){const _0x2b4d59=_0x532b55;let _0x2428f9;if(restoredConfigFile==0x1)_0x2428f9='NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bot\x20is\x20disabled\x20by\x20default\x20-\x20enable\x20if\x20you\x20want\x20it\x20to\x20run';else _0x2428f9=_0x2b4d59(0x3bb);if(_0x4e3264)io['to'](_0x2b4d59(0x401))['emit'](_0x2b4d59(0x275),_0x2428f9);else{logger[_0x2b4d59(0x31f)](_0x2b4d59(0x1ec)),logger[_0x2b4d59(0x31f)](_0x2428f9),logger[_0x2b4d59(0x31f)](_0x2b4d59(0x1ec)),logger[_0x2b4d59(0x31f)]('');if(tgBot&&settings[_0x2b4d59(0x2e9)]&&settings[_0x2b4d59(0x3b8)]!='orders')await sendTelegram(settings[_0x2b4d59(0x2e9)],_0x2b4d59(0x30d)+_0x2428f9);}}function validateCredentials(_0x3a7999,_0x42bfe0){const _0x1f0d61=_0x532b55;if(_0x3a7999[_0x1f0d61(0x264)]==settings[_0x1f0d61(0x398)]&&bcrypt['compareSync'](_0x3a7999[_0x1f0d61(0x22b)],settings[_0x1f0d61(0x366)])){if(settings['f2aRequired'])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x27a577=generateLoginToken(_0x42bfe0);return{'allow':!![],'reason':_0x1f0d61(0x2b1),'token':_0x27a577};}}else return{'allow':![],'reason':_0x1f0d61(0x34b),'token':null};}function refreshToken(_0x7c473c){const _0x56834d=generateLoginToken(_0x7c473c);return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x56834d};}function validateAccess(_0x6ea725,_0x3743a0,_0x5176a9){const _0x59d676=_0x532b55,_0x4ad330=_0x5176a9?_0x5176a9:devices[_0x3743a0]['ip'];let _0x12da89;const _0x4dfe4a=_0x242392=>{const _0x364c63=_0x1368;if(settings[_0x364c63(0x36c)]){if(settings[_0x364c63(0x3ba)]){if(telegram2FaApproved(_0x3743a0)){const _0x2708e9=generateLoginToken(_0x3743a0);return{'allow':!![],'reason':_0x364c63(0x278),'token':_0x2708e9};}else return{'allow':![],'reason':'login\x20required','token':null};}else return _0x12da89=validToken(_0x242392,_0x3743a0),_0x12da89[_0x364c63(0x230)](_0x364c63(0x2ba))?{'allow':!![],'reason':_0x364c63(0x239),'token':_0x242392}:{'allow':![],'reason':_0x364c63(0x2e3),'token':null};}else return{'allow':!![],'reason':_0x364c63(0x2c2),'token':null};};if(settings[_0x59d676(0x2b2)]){let _0x1ee549=[...settings[_0x59d676(0x341)],_0x59d676(0x329),_0x59d676(0x336),'127.0.0.1'];if(_0x1ee549['includes'](_0x4ad330))return _0x4dfe4a(_0x6ea725);else{_0x12da89=validToken(_0x6ea725,_0x3743a0);if(_0x12da89[_0x59d676(0x230)](_0x59d676(0x2ba)))return _0x4dfe4a(_0x6ea725);else{if(telegramIpApproved(_0x3743a0)){const _0x5ddba6=generateToken(_0x3743a0);return _0x12da89=_0x4dfe4a(_0x6ea725),_0x12da89['allow']?{'allow':!![],'reason':_0x59d676(0x28b),'token':_0x5ddba6}:_0x12da89;}else return settings[_0x59d676(0x26e)]?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':'temporary\x20access\x20not\x20allowed','token':null};}}}else return _0x4dfe4a(_0x6ea725);}function timelyDecrypt(_0x3fa5b8,_0x3eb7fe,_0x1b9793='@'){const _0x19ff50=_0x532b55;if(_0x3fa5b8)try{const _0x56d697=crypt[_0x19ff50(0x3ff)](secure[_0x19ff50(0x37b)],_0x3fa5b8)['message'],_0x4093dd=_0x56d697['split'](_0x1b9793)[0x0],_0x1d42c0=_0x56d697['split'](_0x1b9793)[0x1],_0x1d9e76=new Date()['getTime']();if(_0x3eb7fe){if(_0x1d9e76-_0x1d42c0<maxSecretAge*0x3e8)return _0x4093dd;else return![];}else return _0x4093dd;}catch(_0x2910ac){return![];}else return![];}const validToken=(_0x3912e7,_0x3171da)=>{const _0x2bd1c3=_0x532b55,_0x117ce3=devices[_0x3171da]['ip'];if(!_0x3912e7)return{'error':'No\x20authentication\x20token'};for(let _0xd41b2b of blacklist){if(_0xd41b2b['token']==_0x3912e7)return{'error':_0x2bd1c3(0x1fc)};}let _0xe35f18;try{_0xe35f18=jwt[_0x2bd1c3(0x39d)](_0x3912e7,secure[_0x2bd1c3(0x3e5)]+_0x3171da);}catch{return{'error':_0x2bd1c3(0x231)};}if(!_0xe35f18['hasOwnProperty']('clientip')&&!_0xe35f18['hasOwnProperty'](_0x2bd1c3(0x264))||!_0xe35f18['hasOwnProperty']('exp'))return{'error':_0x2bd1c3(0x37f)};if(!_0xe35f18[_0x2bd1c3(0x230)](_0x2bd1c3(0x264))&&_0xe35f18['hasOwnProperty'](_0x2bd1c3(0x289))){const {clientip:_0x4cba98}=_0xe35f18;return _0x117ce3==_0x4cba98?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x2bd1c3(0x2c8)};}else{if(_0xe35f18['hasOwnProperty']('username')&&_0xe35f18[_0x2bd1c3(0x230)](_0x2bd1c3(0x289))){const {username:_0x1423e3,clientip:_0xe48b58}=_0xe35f18;return settings[_0x2bd1c3(0x398)]==_0x1423e3&&_0x117ce3==_0xe48b58?{'success':_0x2bd1c3(0x32c)}:{'error':_0x2bd1c3(0x3c4)};}}},generateLoginToken=_0x509a00=>{if(_0x509a00){const _0x2bac6b=devices[_0x509a00]['ip'];return jwt['sign']({'username':settings['bbUsername'],'clientip':_0x2bac6b},secure['secret']+_0x509a00,{'expiresIn':tokenRefresh*0x3c,'allowInsecureKeySizes':!![]});}else return![];},generateToken=_0x14e0fd=>{const _0x3cd5f9=_0x532b55;if(_0x14e0fd){const _0x46f7b1=devices[_0x14e0fd]['ip'];return jwt[_0x3cd5f9(0x241)]({'clientip':_0x46f7b1},secure['secret']+_0x14e0fd,{'expiresIn':devices[_0x14e0fd][_0x3cd5f9(0x36d)][_0x3cd5f9(0x273)]*0x3c,'allowInsecureKeySizes':!![]});}else return![];},telegramIpApproved=_0x4b5a5a=>{const _0x39d214=_0x532b55;let _0x5e6d40=![];return devices[_0x4b5a5a]['telegramIpApproval']&&devices[_0x4b5a5a][_0x39d214(0x36d)][_0x39d214(0x273)]!=_0x39d214(0x3fc)&&(_0x5e6d40=devices[_0x4b5a5a][_0x39d214(0x36d)][_0x39d214(0x289)]==devices[_0x4b5a5a]['ip']&&new Date()[_0x39d214(0x2db)]()-devices[_0x4b5a5a][_0x39d214(0x36d)][_0x39d214(0x28a)]<devices[_0x4b5a5a][_0x39d214(0x36d)][_0x39d214(0x273)]*0x3c*0x3e8),_0x5e6d40;},telegram2FaApproved=_0x3623d0=>{const _0x5e4099=_0x532b55;let _0x3ae3dd=![];return devices[_0x3623d0][_0x5e4099(0x2ae)]&&devices[_0x3623d0]['telegram2FaApproval']['expiry']!=_0x5e4099(0x3fc)&&(_0x3ae3dd=devices[_0x3623d0][_0x5e4099(0x2ae)][_0x5e4099(0x289)]==devices[_0x3623d0]['ip']&&new Date()[_0x5e4099(0x2db)]()-devices[_0x3623d0][_0x5e4099(0x2ae)]['timestamp']<devices[_0x3623d0][_0x5e4099(0x2ae)][_0x5e4099(0x273)]*0x3c*0x3e8),_0x3ae3dd;},normalizeIP=_0x5b7917=>{const _0x174948=_0x532b55;let _0x405763=null,_0x54e23c=null;if(ipaddr[_0x174948(0x2ff)](_0x5b7917)){const _0x2da69a=ipaddr[_0x174948(0x3b0)](_0x5b7917);_0x2da69a[_0x174948(0x368)]()===_0x174948(0x317)?(_0x2da69a[_0x174948(0x235)]()&&(_0x405763=_0x2da69a[_0x174948(0x22f)]()[_0x174948(0x249)]()),_0x54e23c=_0x2da69a[_0x174948(0x249)]()):(_0x405763=_0x2da69a[_0x174948(0x249)](),_0x54e23c=_0x2da69a[_0x174948(0x34c)]()[_0x174948(0x249)]());}return{'show':_0x405763?_0x405763:_0x54e23c,'store':_0x54e23c};};function formatDate(_0x3c1e03){const _0x1f67b9=_0x532b55;return _0x3c1e03[_0x1f67b9(0x31b)]()+'/'+(_0x3c1e03['getMonth']()+0x1)[_0x1f67b9(0x249)]()[_0x1f67b9(0x2ac)](0x2,'0')+'/'+_0x3c1e03['getDate']()[_0x1f67b9(0x249)]()[_0x1f67b9(0x2ac)](0x2,'0')+'\x20'+_0x3c1e03[_0x1f67b9(0x385)]()[_0x1f67b9(0x249)]()[_0x1f67b9(0x2ac)](0x2,'0')+':'+_0x3c1e03['getMinutes']()[_0x1f67b9(0x249)]()[_0x1f67b9(0x2ac)](0x2,'0')+':'+_0x3c1e03['getSeconds']()[_0x1f67b9(0x249)]()[_0x1f67b9(0x2ac)](0x2,'0');}function _0x5af7(){const _0xdc8176=['invalid\x20credentials','toIPv4MappedAddress','data','store','Bot\x20Mgr\x20>\x20toggling\x20Bot\x20','getPortfolio','Backup\x20file\x20uploaded','lastmsgtelegram','restore_yes_','Unauthorized\x20attempt\x20to\x20delete\x20bot','uuid','launch','removeAllListeners','Stopping\x20Bot\x20Manager\x20and\x20starting\x20update\x20process','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','user','Crypt','Bearer\x20eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','use','portfolio',':\x20Bot\x20Mgr\x20>\x20Telegram\x20error\x20occured','/update\x20-\x20update\x20Balance\x20Bot\x0a','statSync','secure','Orders','orders','bbPassword','range','kind','Do\x20you\x20want\x20to\x20restore\x20your\x20installation?\x20NOTE:\x20this\x20will\x20replace\x20your\x20current\x20settings\x20and\x20bot(s)','constructor','27pXFwCr','loginRequired','telegramIpApproval','Unauthorized\x20attempt\x20to\x20retrieve\x20list\x20of\x20backup\x20files',':\x20Bot\x20Mgr\x20>\x20[DEBUG]\x20','endsWith','************','restart','set','bbvNew','<b>Balance\x20Bot\x20Status:</b>\x0a','listen','slice','sendFile','bcryptjs','place-order','privateKey','emitHistory','Are\x20you\x20sure\x20you\x20want\x20to\x20update\x20Balance\x20Bot\x20now?','graphql-request','Invalid\x20authentication\x20token\x20(2)','toggle-bot-mode','socket.io','family','Starting\x20new\x20bot\x20|\x20Bot\x20','\x20|\x20user:\x20...','getHours','sockets','4718184HBmFiN','Network\x20Interfaces:','backup-full@','18095BlMzSu','\x1b[35m','onepagemode','telegramToken','showConfig','production','getDate','All\x20bots','status','full','argv','Are\x20you\x20sure\x20you\x20want\x20to\x20reinstall\x20Balance\x20Bot\x20now?',':\x20Bot\x20Mgr\x20>\x20','Unauthorized\x20attempt\x20to\x20get\x20portfolio','bbUsername','Unauthorized\x20attempt\x20to\x20delete\x20alerts','type','settings','forEach','verify','Starting\x20Balance\x20Bot\x20reinstallation','RSA-OAEP','getMonth','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','output-002.log','Unauthorized\x20login\x20attempt\x20(timeout)','Restoring\x20bot(s)\x20from\x20backup','Disabled\x20Bot\x20','\x20|\x20','alerts','copyFileSync','|@|','apply','live','update_no','*$1*','$1_$2_$3','get-logs','parse','botname','NTBA_FIX_319','request','Unauthorized\x20attempt\x20to\x20reset\x20bot\x20history','show','download','/:bot/performance','telegramEvents','mode','f2aRequired','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bots\x20are\x20disabled\x20by\x20default\x20-\x20enable\x20those\x20you\x20want\x20to\x20run','sortBy','util','jsonwebtoken','reinstall_yes','size','3000','api-eu.mixpanel.com','update_yes','Invalid\x20username\x20or\x20IP\x20address','Access\x20enabled\x20for\x20','bb-settings.json','headers','version.json','store-settings','/names\x20-\x20show\x20bot\x20names\x0a','-results.json','-events.json','storeHeadless','Unauthorized\x20attempt\x20to\x20download\x20','randomBytes','init','lowdb/adapters/FileSync','message','SIGINT','/off\x20-\x20stop\x20bot(s)\x0a','Notifications\x20enabled\x0a','\x20(2)','ipc','\x20|\x20client:\x20...','manual','mixpanel','10WMWamD','Notifications\x20disabled','Notifications\x20types:\x20','blacklist','<b>Telegram\x20Bot\x20Status:</b>\x0a','[ip-address]','HTML','Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins','function','store-fiat','secret','Logged\x20in\x20user\x20...','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','Yes','running','Backup\x20file\x20unzipped\x20and\x20stored','tkn','storeFiat','node-zip','/download/:type','inherit','reset-password','Logged\x20out\x20user\x20...','versions','includes','file','***','binary','sendPortfolioTelegram','once','Login\x20rejected','title','Idling\x20(','reject','disabled','assign','decrypt','restore-backup-file','botmanager','status\x20code\x20401','placeOrder','callback','connection','enabled','Please\x20confirm\x20restoring\x20in\x20your\x20Telegram\x20bot','express-fileupload','DEFLATE','Your\x20installation\x20does\x20not\x20support\x20updating\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20update','-----------------------------------------------------------------------------------','restart_','For\x20which\x20bot\x20do\x20you\x20want\x20the\x20metrics?','rmSync','Unauthorized\x20attempt\x20to\x20show\x20configuration','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','conn','\x1b[36m','0.0.0','sendMetricsTelegram','Ok,\x20will\x20send\x20order\x20notifications\x20only','store-headless','log','chat','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','Token\x20blacklisted','Temporary\x20access\x20rejected','accept','config_alerts','logged\x20out','exit','Unauthorized\x20attempt\x20to\x20confirm\x20message','\x1b[0m','Markdown','uuid-random','Notifications\x20enabled','resetHistory','https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master','error','backupfile','telegram','existsSync','uncaughtException','catch','metrics_','/metrics\x20-\x20show\x20bot\x20performance\x0a','15\x20min','push','crypto','1153734xOWiNS','#RES#\x20','close','remove','replace','disconnect','telegramEnabled','Login\x20accepted','settings.','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','2FA\x20login\x20required','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','48762CoVaIt','readdirSync','/:bot','node','write','ETH','getSeconds','=>\x20Go\x20to\x20#CYA#http://','Starting\x20Balance\x20Bot\x20update','auto','writeFileSync','password','Error:\x20Invalid\x20argument\x20','Unauthorized\x20attempt\x20to\x20update\x20settings','store-configuration','toIPv4Address','hasOwnProperty','Invalid\x20authentication\x20token\x20(1)','RSA','string','Error\x20details:','isIPv4MappedAddress','File\x20uploaded','telegraf','toggle_','login\x20token\x20valid','bots','stopped','files','startsWith','Deleted\x20Bot\x20','Alerts','find','sign','match','/restart\x20-\x20restart\x20bot(s)\x0a','button','name','track','generateKeyPairAsync','post','toString','reply','backup','any','Server','getUTCHours','hex','exchange','bot-','encryptedUuid','send','bb/','reinstall_no','handshake','_data','toggleBotMode','backup-files','Unauthorized\x20attempt\x20to\x20restore\x20backup\x20file','Unauthorized\x20attempt\x20to\x20reinstall\x20Balance\x20Bot','1209915yuIYLA','started','#RES#','pidExpireLogin','zip/','SIGTERM','length','command','username','index.html','logout','disable','value','version','allow','2FA','12340xhlewf','remoteAddress','temporaryAccessAllowed','Unauthorized\x20attempt\x20to\x20log\x20out','bbvReceive','params','44487AGbhgU','expiry','get-starting-balances','notification','Your\x20installation\x20does\x20not\x20support\x20reinstalling\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20reinstallation','For\x20which\x20bot\x20do\x20you\x20want\x20the\x20portfolio?','2FA\x20login\x20token\x20generated','marketcapApi','exec','Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot','createServer','get','#RES#\x20if\x20running\x20locally\x0a','/status\x20-\x20show\x20bot(s)\x20status\x0a','1000','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','warning','resetpw_yes','ipaddr.js','bb-config.json','headless','delete-bot','cancel-loading','clientip','timestamp','temporary\x20token\x20generated','editMessageReplyMarkup','\x20>\x20','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(1)','reload','Unauthorized\x20attempt\x20to\x20store\x20configuration','build','express','kill','get-messages','tempaccess_15_','latestversion','Restore\x20backup\x20file\x20','Unknown\x20client\x20attempting\x20to\x20retrieve\x20list\x20of\x20backup\x20files','Restore\x20process\x20aborted','2FA\x20login\x20rejected','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','telegramUsername','help','userid','5\x20min','randomFillSync','timeshift','https://api.ipify.org?format=json','metrics','Failed\x20to\x20download\x20','=>\x20Go\x20to\x20#CYA#http://127.0.0.1:','update-bot','access\x20timeout','\x20to\x20','lastmsgemitted','getMinutes','reinstall-bb','padStart','format','telegram2FaApproval','login','config_all','login\x20token\x20generated','whitelistEnabled','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','stop','text','\x20-\x20','tempaccess_reject_','toggle','keys','success','mtime','Unauthorized\x20attempt\x20to\x20store\x20fiat\x20configuration','bot','delete-alerts','CoinMarketCap\x20API\x20key\x20validated','sendMessage','/start','login\x20not\x20required','new','connected','-performance.json','Error\x20removing\x20old\x20backup\x20files:','internal','Invalid\x20IP\x20address','portfolio_','filter','(staging)','backup-full','Session\x20expired\x20for\x20user\x20...','You\x20can\x20use\x20the\x20following\x20commands:\x0a','BCT','Unauthorized\x20attempt\x20to\x20add\x20bot','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','output-003.log','reset-history','Telegraf\x20error:','\x20(1)','event','logs/','confirm-message','IPv4','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','getTime','.zip','config_orders','update-bb','Your\x20installation\x20is\x20already\x20up\x20to\x20date','All\x20bots\x20running\x20right\x20now','emit','pidRefreshToken','login\x20required','environment','All','/reinstall\x20-\x20reinstall\x20Balance\x20Bot\x0a','fork',')\x20\x20\x20|\x20Bot\x20','telegramChatId','storeConfiguration','entries','/:bot/configuration','\x20minutes','Ok,\x20reinstalling\x20Balance\x20Bot\x20canceled','port','isDirectory','generate',')\x20|\x20Bot\x20','No\x20bots\x20running\x20right\x20now','6b67f3d61ee94b8f5c80b4affef4c4d9','/:bot/history','alias','socket','reinstall','Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?','30\x20min','update','sort','backup/','readFileSync','isValid','axios','all','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','hybrid-crypto-js','Unauthorized\x20attempt\x20to\x20get\x20messages','split','debug','/upload-backup','sha256','hashSync','\x1b[34m','show-config','/output-000.log','Bot\x20Mgr\x20>\x20','(((.+)+)+)+$','join','283913LeaLWG','build2','/help\x20-\x20show\x20available\x20commands\x0a','1816vgFYaq','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','referer','createWriteStream','ipv6','deleteHistoryAlerts','search','#RES#\x20if\x20running\x20on\x20server','getFullYear','enable','-config.json','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','simple','botID','inlineKeyboard','stringify','login2fa_reject_','tempaccess_5_','yes','Unauthorized\x20attempt\x20to\x20update\x20bot','Starting\x20#RED#Balance\x20Bot\x20v','publicKey','::1','unlinkSync','2FA\x20required','User\x20has\x20been\x20validated','Ok,\x20will\x20send\x20alert\x20notifications\x20only','Bot\x20','action','host','/enable\x20-\x20enable\x20notifications\x0a','Restarting\x20Bot\x20','new-disabled','\x1b[31m','temporary\x20access\x20rejected','::ffff:127.0.0.1','access','mkdirSync','apiKey','from','resetpw_no','reason','yargs/yargs','max','address','number','whitelist','bb-secure.json','date-fns','Ok,\x20consider\x20updating\x20Balance\x20Bot\x20later','static','token','config/','defaults','messages','Telegram\x20error:'];_0x5af7=function(){return _0xdc8176;};return _0x5af7();}function sleep(_0x34d2a9){return new Promise(_0x3fb4b2=>setTimeout(_0x3fb4b2,_0x34d2a9));}