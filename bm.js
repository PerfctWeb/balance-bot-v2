const _0x5aca56=_0x58d3;(function(_0x46c136,_0x100a81){const _0x5148da=_0x58d3,_0x2ae782=_0x46c136();while(!![]){try{const _0xeb8c02=-parseInt(_0x5148da(0x192))/0x1*(-parseInt(_0x5148da(0x210))/0x2)+parseInt(_0x5148da(0x1b8))/0x3+-parseInt(_0x5148da(0x259))/0x4*(-parseInt(_0x5148da(0x17b))/0x5)+-parseInt(_0x5148da(0x228))/0x6*(parseInt(_0x5148da(0x1c1))/0x7)+-parseInt(_0x5148da(0x1a1))/0x8+-parseInt(_0x5148da(0x24f))/0x9+parseInt(_0x5148da(0x13f))/0xa;if(_0xeb8c02===_0x100a81)break;else _0x2ae782['push'](_0x2ae782['shift']());}catch(_0x4f9c00){_0x2ae782['push'](_0x2ae782['shift']());}}}(_0xbdcf,0xce400));const _0x2d5601=function(){let _0x4e0074=!![];return function(_0x30275d,_0x367dd3){const _0x4fbd98=_0x4e0074?function(){if(_0x367dd3){const _0x3cd165=_0x367dd3['apply'](_0x30275d,arguments);return _0x367dd3=null,_0x3cd165;}}:function(){};return _0x4e0074=![],_0x4fbd98;};}(),_0x2633d1=_0x2d5601(this,function(){const _0x393c46=_0x58d3;return _0x2633d1['toString']()[_0x393c46(0x281)](_0x393c46(0x1c4))[_0x393c46(0x1bd)]()[_0x393c46(0x254)](_0x2633d1)[_0x393c46(0x281)](_0x393c46(0x1c4));});_0x2633d1();'use strict';process[_0x5aca56(0x24c)][_0x5aca56(0x187)]=0x1;const childProcess=require(_0x5aca56(0x2cf)),fs=require('fs'),fns=require(_0x5aca56(0x262)),low=require(_0x5aca56(0x2bf)),FileSync=require(_0x5aca56(0x270)),path=require(_0x5aca56(0x29a)),crypto=require('crypto'),Crypt=require('hybrid-crypto-js')[_0x5aca56(0x1f2)],RSA=require(_0x5aca56(0x17a))['RSA'],bcrypt=require(_0x5aca56(0x1ba)),jwt=require('jsonwebtoken'),ipaddr=require('ipaddr.js'),argv=require(_0x5aca56(0x143))(process[_0x5aca56(0x2cd)][_0x5aca56(0x252)](0x2))[_0x5aca56(0x2cd)],uuidRandom=require(_0x5aca56(0x263)),TelegramBot=require('node-telegram-bot-api'),Mixpanel=require(_0x5aca56(0x2c4)),axios=require(_0x5aca56(0x1fd)),{GraphQLClient,gql}=require(_0x5aca56(0x209)),util=require(_0x5aca56(0x140)),fileUpload=require(_0x5aca56(0x138)),PORT=argv[_0x5aca56(0x1d2)]||'3000',pattern=/^[0-9]{2,4}$/;!pattern[_0x5aca56(0x265)](PORT)&&(console[_0x5aca56(0x1fc)]('Error:\x20Invalid\x20argument\x20'+PORT+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x5aca56(0x225)](0x1));const HOST=argv[_0x5aca56(0x1d7)]||null,userID=argv[_0x5aca56(0x146)]||'',debugging=argv['d']||![];let bbpath=_0x5aca56(0x1eb),bbpath2='';const botfile='bot.js',configfile=_0x5aca56(0x1db),settingsfile='bb-settings.json',securefile=_0x5aca56(0x15e),maxBackups=0xa;let validInstallation=!![];!fs['existsSync'](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x5aca56(0x25a)),configpath=userID?bbpath+_0x5aca56(0x2af)+userID+'/':bbpath+'config/',configbackuppath=configpath+_0x5aca56(0x1c6),logspath=userID?bbpath+_0x5aca56(0x164)+userID+'/':bbpath+_0x5aca56(0x164),zippath=userID?bbpath+_0x5aca56(0x147)+userID+'/':bbpath+_0x5aca56(0x147),loggerfile=fs[_0x5aca56(0x21b)](logspath+_0x5aca56(0x20d),{'flags':'a'}),temppath=userID?bbpath+'temp/'+userID+'/':bbpath+_0x5aca56(0x2bd);!fs[_0x5aca56(0x2cc)](configpath)&&fs[_0x5aca56(0x12a)](configpath);!fs['existsSync'](configbackuppath)&&fs[_0x5aca56(0x12a)](configbackuppath);!fs[_0x5aca56(0x2cc)](logspath)&&fs[_0x5aca56(0x12a)](logspath);!fs[_0x5aca56(0x2cc)](zippath)&&fs[_0x5aca56(0x12a)](zippath);!fs[_0x5aca56(0x2cc)](temppath)&&fs['mkdirSync'](temppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x5aca56(0x1c0)]({'bots':[]})[_0x5aca56(0x253)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x5aca56(0x1c0)]({'settings':{'timeshift':0x0,'loginRequired':![],'bbUsername':'','bbPassword':'','f2aRequired':![],'lastmsgtelegram':0x0,'lastmsgemitted':0x0,'latestversion':_0x5aca56(0x227)}})[_0x5aca56(0x253)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x5aca56(0x1c0)]({'secure':{},'blacklist':[]})[_0x5aca56(0x253)]();let crypt=new Crypt({'md':_0x5aca56(0x1f6),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa,mixpanel=Mixpanel[_0x5aca56(0x15c)](_0x5aca56(0x235),{'host':_0x5aca56(0x17f)});let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),tgBot;if(settings[_0x5aca56(0x250)]&&settings[_0x5aca56(0x250)]!=''&&settings[_0x5aca56(0x21a)]&&settings['telegramUsername']!='')initTelegram();const logger={'screen':_0x8b73cd=>{const _0x3e48c3=_0x5aca56;console[_0x3e48c3(0x1fc)](_0x8b73cd);},'simple':_0x10eade=>{const _0x16202c=_0x5aca56;console[_0x16202c(0x1fc)](_0x10eade),loggerfile[_0x16202c(0x253)](util[_0x16202c(0x237)](_0x10eade)+'\x0a');},'full':async _0x284d0e=>{const _0x23773c=_0x5aca56,_0xa256f=getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20'+_0x284d0e;console[_0x23773c(0x1fc)](_0xa256f),loggerfile[_0x23773c(0x253)](util[_0x23773c(0x237)](_0xa256f)+'\x0a');if(tgBot&&settings[_0x23773c(0x2a9)]&&settings[_0x23773c(0x174)]!=_0x23773c(0x26a))await tgBot['sendMessage'](settings[_0x23773c(0x2a9)],'Bot\x20Mgr\x20>\x20'+_0x284d0e)['catch'](_0x273a2d=>{telegramError(_0x273a2d);});},'debug':async(_0x2c7aee,_0x444d63='')=>{const _0xcc398b=_0x5aca56,_0x54b518=getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20[DEBUG]\x20'+_0x2c7aee;if(debugging)console['log'](_0x54b518);loggerfile[_0xcc398b(0x253)](util[_0xcc398b(0x237)](_0x54b518)+'\x0a');if(_0x444d63){if(debugging)console[_0xcc398b(0x1fc)](_0x444d63);loggerfile['write'](util[_0xcc398b(0x237)](_0x444d63)+'\x0a');}}};process['on'](_0x5aca56(0x267),function(_0x5d9416){logger['simple'](_0x5d9416);});let restoredConfigFile=0x0,newBot=![],pid=[];const serverversion=require('./'+bbpath2+'version.json')[_0x5aca56(0x135)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![],publicip,newMessages=[],updateAvailable=![];const express=require(_0x5aca56(0x269)),app=express(),http=require(_0x5aca56(0x2b5))[_0x5aca56(0x275)](app);app[_0x5aca56(0x193)](fileUpload({'useTempFiles':!![]})),app[_0x5aca56(0x178)](_0x5aca56(0x141),async(_0x59604f,_0x3db7bc)=>{const _0x5afc3a=_0x5aca56,_0x2c3421=_0x59604f[_0x5afc3a(0x19d)][_0x5afc3a(0x1c3)],_0x300ec0=getClientsWithBotID('botmanager'),_0x3d14b2=_0x59604f['headers'][_0x5afc3a(0x1d5)],_0x438740=timelyDecrypt(_0x3d14b2,![]),_0x3368be=_0x300ec0[_0x5afc3a(0x2a7)](_0x3d4be5=>_0x3d4be5[_0x5afc3a(0x1d5)]==_0x438740);if(_0x3368be){const _0x4665a9=normalizeIP(_0x59604f['socket'][_0x5afc3a(0x200)])[_0x5afc3a(0x29e)],_0x6e4fe0=_0x59604f[_0x5afc3a(0x1ee)][_0x5afc3a(0x1ad)];if(validateAccess(_0x6e4fe0,_0x438740,_0x4665a9)[_0x5afc3a(0x156)])_0x2c3421==_0x5afc3a(0x2b7)&&await backupConfigFiles(),await zipFiles(_0x2c3421),_0x3db7bc['download'](zippath+(_0x2c3421+_0x5afc3a(0x234)),_0x1a28d0=>{const _0x332ba0=_0x5afc3a;_0x1a28d0&&(logger[_0x332ba0(0x266)](_0x332ba0(0x1af)+_0x2c3421),logger[_0x332ba0(0x150)](_0x1a28d0));});else logger['full'](_0x5afc3a(0x231)+_0x2c3421+'\x20(1)');}else logger[_0x5afc3a(0x266)](_0x5afc3a(0x231)+_0x2c3421+_0x5afc3a(0x2a0));}),app[_0x5aca56(0x1e9)]('/upload-backup',async(_0x17af93,_0x308eb6)=>{const _0xd69972=_0x5aca56,_0x2dbc32=getClientsWithBotID('botmanager'),_0x44c805=_0x17af93[_0xd69972(0x1ee)]['uuid'],_0xbd1689=timelyDecrypt(_0x44c805,![]),_0x2e937a=_0x2dbc32[_0xd69972(0x2a7)](_0x242b04=>_0x242b04[_0xd69972(0x1d5)]==_0xbd1689);logger[_0xd69972(0x21e)]('Backup\x20file\x20uploaded');if(_0x2e937a){const _0x9a4fe=normalizeIP(_0x17af93[_0xd69972(0x1c8)]['remoteAddress'])[_0xd69972(0x29e)],_0x3c4a70=_0x17af93['headers'][_0xd69972(0x1ad)];if(validateAccess(_0x3c4a70,_0xbd1689,_0x9a4fe)[_0xd69972(0x156)]){if(_0x17af93['files']){const _0x16bafa=_0x17af93['files'][_0xd69972(0x1a8)];await _0x16bafa['mv'](temppath+_0x16bafa[_0xd69972(0x26d)]),_0x308eb6[_0xd69972(0x1cd)]({'status':!![],'message':_0xd69972(0x1f1)});const _0x39c4d2=getBotsWithMode();_0x39c4d2[_0xd69972(0x264)]>0x0?confirmRestore(temppath,_0x16bafa[_0xd69972(0x26d)]):unzipFile(temppath,_0x16bafa[_0xd69972(0x26d)]);}}else logger[_0xd69972(0x266)](_0xd69972(0x12c));}else logger[_0xd69972(0x266)](_0xd69972(0x28d));}),app[_0x5aca56(0x193)](express[_0x5aca56(0x1a9)](path['join'](__dirname,bbpath2,_0x5aca56(0x18a)))),app[_0x5aca56(0x193)](express[_0x5aca56(0x1a9)](path[_0x5aca56(0x1ed)](__dirname,bbpath2,'build'))),app['get']('/',function(_0x19d6b0,_0x515f37){const _0x54c3d5=_0x5aca56;_0x515f37[_0x54c3d5(0x15b)](path['join'](__dirname,bbpath2,'build2','index.html'));}),app[_0x5aca56(0x178)]('/:bot',function(_0x3936b3,_0x24cb39){const _0x1e9c41=_0x5aca56;_0x24cb39[_0x1e9c41(0x15b)](path['join'](__dirname,bbpath2,_0x1e9c41(0x21f),_0x1e9c41(0x134)));}),app[_0x5aca56(0x178)]('/:bot/portfolio',(_0x5a9f37,_0x4df14a)=>{const _0x87d801=_0x5aca56;_0x4df14a[_0x87d801(0x15b)](path[_0x87d801(0x1ed)](__dirname,bbpath2,_0x87d801(0x21f),_0x87d801(0x134)));}),app[_0x5aca56(0x178)]('/:bot/performance',(_0x5862d9,_0x1b8147)=>{const _0x3b1ac1=_0x5aca56;_0x1b8147['sendFile'](path[_0x3b1ac1(0x1ed)](__dirname,bbpath2,_0x3b1ac1(0x21f),_0x3b1ac1(0x134)));}),app[_0x5aca56(0x178)](_0x5aca56(0x24a),(_0x518c11,_0x3b8bb9)=>{const _0x9ff16f=_0x5aca56;_0x3b8bb9['sendFile'](path['join'](__dirname,bbpath2,_0x9ff16f(0x21f),_0x9ff16f(0x134)));}),app[_0x5aca56(0x178)](_0x5aca56(0x273),(_0x279d04,_0x306cf8)=>{const _0x49ccd7=_0x5aca56;_0x306cf8[_0x49ccd7(0x15b)](path[_0x49ccd7(0x1ed)](__dirname,bbpath2,_0x49ccd7(0x21f),_0x49ccd7(0x134)));}),app['get']('/:bot/configuration',(_0x381949,_0x450b2e)=>{_0x450b2e['sendFile'](path['join'](__dirname,bbpath2,'build','index.html'));}),app[_0x5aca56(0x178)]('/:bot/support',(_0x5a4fb3,_0x4c5cfc)=>{const _0x2770e1=_0x5aca56;_0x4c5cfc[_0x2770e1(0x15b)](path['join'](__dirname,bbpath2,_0x2770e1(0x21f),_0x2770e1(0x134)));});if(HOST)http['listen'](PORT,HOST);else http[_0x5aca56(0x13b)](PORT);const io=require(_0x5aca56(0x1a3))(http,{});init();async function init(){await validateConfigFile(),await initUser(),await initSecure(),oneTimeMigration(),cleanBlacklist(),initStates(),await startServer();if(restoredConfigFile)restoreConfigNotify(![]);startSocket(),startScheduler(),triggerAnalytics(),getMessages(),reloadBotManager();}async function startServer(){const _0x3d2a2d=_0x5aca56;logger['simple'](''),logger[_0x3d2a2d(0x150)](_0x3d2a2d(0x213)),await logger['full']('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),logger[_0x3d2a2d(0x150)](_0x3d2a2d(0x213));if(config[_0x3d2a2d(0x264)]!=0x0)for(const _0x6d151 of config){if(_0x6d151[_0x3d2a2d(0x286)]==_0x3d2a2d(0x184)||_0x6d151[_0x3d2a2d(0x286)]=='new')await logger[_0x3d2a2d(0x266)]('starting\x20bot\x20|\x20Bot\x20'+_0x6d151[_0x3d2a2d(0x175)]+'\x20|\x20'+_0x6d151[_0x3d2a2d(0x276)]),startBot([_0x6d151[_0x3d2a2d(0x175)],userID],{'cwd':bbpath},function(_0x3d681f){const _0x280717=_0x3d2a2d;if(_0x3d681f)logger[_0x280717(0x266)](_0x3d681f);});else(_0x6d151['status']==_0x3d2a2d(0x2be)||_0x6d151['status']==_0x3d2a2d(0x22a))&&await logger[_0x3d2a2d(0x266)](_0x3d2a2d(0x25f)+_0x6d151['botID']+'\x20|\x20'+_0x6d151[_0x3d2a2d(0x276)]);}else!newBot&&logger['simple']('>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!');if(newBot)addBot();logger[_0x3d2a2d(0x150)]('-----------------------------------------------------------------------------------'),logger[_0x3d2a2d(0x150)]('');}function startSocket(){const _0x3edfb0=_0x5aca56;io['on'](_0x3edfb0(0x1da),_0x58c993=>{const _0x2403a6=_0x3edfb0;let _0x2e46df,_0x4fb2f0,_0x3af81a,_0x3f3ff5,_0x32f662;const _0x298d3d=_0x58c993[_0x2403a6(0x2c3)]['headers']['referer'];_0x4fb2f0=_0x298d3d[_0x2403a6(0x212)](/bot[0-9]{3}/);if(_0x4fb2f0)_0x3af81a=_0x4fb2f0[0x0][_0x2403a6(0x212)](/[0-9]{3}/);if(_0x3af81a)_0x2e46df=_0x3af81a[0x0];else _0x2e46df='botmanager';const _0x33c42e=_0x58c993[_0x2403a6(0x2c3)][_0x2403a6(0x2c0)][_0x2403a6(0x247)];if(!_0x33c42e)_0x58c993[_0x2403a6(0x26f)](_0x2403a6(0x286),{'publicKey':secure[_0x2403a6(0x272)]});else{_0x3f3ff5=timelyDecrypt(_0x33c42e,![]);if(!_0x3f3ff5)_0x58c993[_0x2403a6(0x26f)](_0x2403a6(0x286),{'publicKey':secure[_0x2403a6(0x272)]});else{_0x32f662=normalizeIP(_0x58c993[_0x2403a6(0x13a)][_0x2403a6(0x200)])[_0x2403a6(0x29e)];if(!devices[_0x3f3ff5])devices[_0x3f3ff5]={'uuid':_0x3f3ff5,'access':{'token':null}};devices[_0x3f3ff5]['ip']=_0x32f662;const _0x286edd=addClient(_0x58c993['id'],_0x3f3ff5,_0x2e46df);setAccess(_0x286edd),emitMessages(),_0x58c993['on'](_0x2403a6(0x288),_0x9f2c4e=>{const _0x1fe8a=_0x2403a6,_0x1081b8=timelyDecrypt(_0x9f2c4e[_0x1fe8a(0x172)]);if(_0x1081b8){_0x9f2c4e={'username':_0x9f2c4e[_0x1fe8a(0x230)],'password':_0x1081b8},devices[_0x3f3ff5][_0x1fe8a(0x16b)]=validateCredentials(_0x9f2c4e,_0x3f3ff5);if(devices[_0x3f3ff5][_0x1fe8a(0x16b)][_0x1fe8a(0x156)]==![]&&devices[_0x3f3ff5][_0x1fe8a(0x16b)][_0x1fe8a(0x1bc)]==_0x1fe8a(0x277))_0x58c993['emit'](_0x1fe8a(0x286),{'access':devices[_0x3f3ff5][_0x1fe8a(0x16b)]}),loginAccess2FA(_0x3f3ff5,_0x32f662);else{if(devices[_0x3f3ff5][_0x1fe8a(0x16b)][_0x1fe8a(0x156)]==![]&&devices[_0x3f3ff5][_0x1fe8a(0x16b)][_0x1fe8a(0x1bc)]=='invalid\x20credentials')_0x58c993['emit'](_0x1fe8a(0x286),{'access':devices[_0x3f3ff5]['access']});else devices[_0x3f3ff5][_0x1fe8a(0x16b)][_0x1fe8a(0x156)]&&devices[_0x3f3ff5][_0x1fe8a(0x16b)][_0x1fe8a(0x1bc)]=='login\x20token\x20generated'&&(getClientsWithUuid(_0x3f3ff5)['forEach'](_0x5366f2=>{setAccess(_0x5366f2);}),setTokenRefresh(_0x3f3ff5),setSessionTimeout(_0x1fe8a(0x288),_0x3f3ff5));}}else logger[_0x1fe8a(0x266)](_0x1fe8a(0x1cc));}),_0x58c993['on']('reset-password',()=>{resetPassword();}),_0x58c993['on'](_0x2403a6(0x29c),_0x46a10a=>{removeClient(_0x58c993['id']);}),_0x2e46df==_0x2403a6(0x217)&&(restoredConfigFile&&(restoreConfigNotify(!![]),restoredConfigFile=0x0));}}});}function initClient(_0x44b93d){const _0x3879f8=_0x5aca56;if(_0x44b93d!=_0x3879f8(0x217)&&config[_0x3879f8(0x229)]!=''){if(pid[_0x44b93d])pid[_0x44b93d]['send']({'function':_0x3879f8(0x11d),'args':null});}}function reloadBotManager(){const _0x52cd86=_0x5aca56;getClientsWithBotID(_0x52cd86(0x217))[_0x52cd86(0x297)](_0x1ec3ff=>{const _0x58adce=_0x52cd86;getSocket(_0x1ec3ff['id'])[_0x58adce(0x26f)]('status',{'access':{'allow':![],'reason':'reload','token':null}});});}function getSocket(_0x9f15c8){const _0x3c431c=_0x5aca56;return io[_0x3c431c(0x18e)][_0x3c431c(0x18e)][_0x3c431c(0x178)](_0x9f15c8);}function setAccess(_0x2ee32c){const _0x52b5cf=_0x5aca56,_0x5709af=getSocket(_0x2ee32c['id']),_0x5be8ee=_0x2ee32c['uuid'],_0x879c41=_0x2ee32c[_0x52b5cf(0x28c)];devices[_0x5be8ee][_0x52b5cf(0x16b)]=validateAccess(devices[_0x5be8ee][_0x52b5cf(0x16b)][_0x52b5cf(0x126)],_0x5be8ee),_0x5709af[_0x52b5cf(0x1ed)](_0x5be8ee);if(devices[_0x5be8ee][_0x52b5cf(0x16b)]['allow']){_0x5709af[_0x52b5cf(0x1ed)](_0x879c41);if(_0x879c41==_0x52b5cf(0x217))initializeSocketBotManager(_0x5709af);else initializeSocketBot(_0x5709af);initClient(_0x879c41);}devices[_0x5be8ee][_0x52b5cf(0x16b)]['token']&&devices[_0x5be8ee]['access'][_0x52b5cf(0x1bc)]==_0x52b5cf(0x289)&&setSessionTimeout(_0x52b5cf(0x1e5),_0x5be8ee),devices[_0x5be8ee][_0x52b5cf(0x16b)][_0x52b5cf(0x126)]&&devices[_0x5be8ee][_0x52b5cf(0x16b)][_0x52b5cf(0x1bc)]=='2FA\x20login\x20token\x20generated'&&setSessionTimeout(_0x52b5cf(0x288),_0x5be8ee),_0x5709af[_0x52b5cf(0x26f)]('status',{'status':_0x2ee32c['server'],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x5be8ee]['access'],'externalip':devices[_0x5be8ee]['ip'],'publicKey':secure[_0x52b5cf(0x272)],'userid':settings[_0x52b5cf(0x21c)],'validInstallation':validInstallation}),devices[_0x5be8ee][_0x52b5cf(0x16b)][_0x52b5cf(0x156)]==![]&&devices[_0x5be8ee][_0x52b5cf(0x16b)][_0x52b5cf(0x1bc)]==_0x52b5cf(0x16f)&&temporaryAccess2FA(_0x5be8ee,devices[_0x5be8ee]['ip']);}function setSessionTimeout(_0x3dfe59,_0x15a607){const _0x4305a6=_0x5aca56;let _0xfa431c;if(_0x3dfe59=='login')_0xfa431c=loginExpiry*0x3c*0x3e8;else _0xfa431c=devices[_0x15a607][_0x4305a6(0x1e1)]['expiry']*0x3c*0x3e8-(new Date()[_0x4305a6(0x29f)]()-devices[_0x15a607][_0x4305a6(0x1e1)]['timestamp']);if(devices[_0x15a607][_0x4305a6(0x23a)])clearTimeout(devices[_0x15a607][_0x4305a6(0x23a)]);devices[_0x15a607][_0x4305a6(0x23a)]=setTimeout(()=>{const _0x151c44=_0x4305a6;if(devices[_0x15a607][_0x151c44(0x1aa)])clearTimeout(devices[_0x15a607]['pidRefreshToken']);removeSocketListeners(_0x15a607),addBlacklist(_0x15a607),devices[_0x15a607][_0x151c44(0x1e1)]=null,devices[_0x15a607]['telegram2FaApproval']=null,devices[_0x15a607][_0x151c44(0x16b)][_0x151c44(0x126)]=null,devices[_0x15a607][_0x151c44(0x16b)]=validateAccess(devices[_0x15a607][_0x151c44(0x16b)][_0x151c44(0x126)],_0x15a607),!(devices[_0x15a607]['access'][_0x151c44(0x156)]&&devices[_0x15a607][_0x151c44(0x16b)]['reason']==_0x151c44(0x1ae))&&(_0x3dfe59==_0x151c44(0x288)?io['to'](_0x15a607)['emit'](_0x151c44(0x286),{'access':{'allow':![],'reason':'access\x20timeout','token':null}}):io['to'](_0x15a607)[_0x151c44(0x26f)]('status',{'access':{'allow':![],'reason':_0x151c44(0x251),'token':null}})),devices[_0x15a607][_0x151c44(0x16b)][_0x151c44(0x126)]=null;},_0xfa431c);}function setTokenRefresh(_0x544007){const _0x4bf455=_0x5aca56;if(devices[_0x544007][_0x4bf455(0x1aa)])clearTimeout(devices[_0x544007][_0x4bf455(0x1aa)]);devices[_0x544007][_0x4bf455(0x1aa)]=setTimeout(()=>{const _0x25093e=_0x4bf455;getClientsWithUuid(_0x544007)[_0x25093e(0x264)]!=0x0?(devices[_0x544007][_0x25093e(0x16b)]=refreshToken(_0x544007),io['to'](_0x544007)[_0x25093e(0x26f)](_0x25093e(0x286),{'status':_0x25093e(0x2a8),'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x544007]['access'],'externalip':devices[_0x544007]['ip'],'publicKey':secure[_0x25093e(0x272)],'validInstallation':validInstallation}),setTokenRefresh(_0x544007)):clearTimeout(devices[_0x544007][_0x25093e(0x1aa)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x1acec6){const _0x39f6a9=_0x5aca56,_0x2e992f=getClient(_0x1acec6['id'])[_0x39f6a9(0x1d5)];_0x1acec6[_0x39f6a9(0x26f)](_0x39f6a9(0x2b8),config),_0x1acec6[_0x39f6a9(0x26f)](_0x39f6a9(0x191),cleanSettings()),_0x1acec6['on'](_0x39f6a9(0x23d),_0x3fe1a2=>{const _0x204361=_0x39f6a9;if(validateAccess(_0x3fe1a2,_0x2e992f)['allow'])addBot();else logger[_0x204361(0x266)]('Unauthorized\x20attempt\x20to\x20add\x20bot');}),_0x1acec6['on']('update-bot',(_0x7d5141,_0x2ed406)=>{const _0x39fbcb=_0x39f6a9;if(validateAccess(_0x2ed406,_0x2e992f)[_0x39fbcb(0x156)])toggleBot(_0x7d5141['botID'],_0x7d5141[_0x39fbcb(0x286)],_0x7d5141[_0x39fbcb(0x128)]);else logger[_0x39fbcb(0x266)]('Unauthorized\x20attempt\x20to\x20update\x20bot');}),_0x1acec6['on'](_0x39f6a9(0x26c),(_0x5ac1bf,_0x4e9c4d)=>{const _0x2642bc=_0x39f6a9;if(validateAccess(_0x4e9c4d,_0x2e992f)[_0x2642bc(0x156)])toggleBotMode(_0x5ac1bf);else logger[_0x2642bc(0x266)](_0x2642bc(0x166));}),_0x1acec6['on']('delete-bot',(_0x427f72,_0x30291c)=>{const _0xc38db1=_0x39f6a9;if(validateAccess(_0x30291c,_0x2e992f)[_0xc38db1(0x156)])deleteBot(_0x427f72);else logger[_0xc38db1(0x266)](_0xc38db1(0x27b));}),_0x1acec6['on'](_0x39f6a9(0x2c7),(_0x11dc5a,_0xff4915)=>{const _0x1d4c97=_0x39f6a9;if(validateAccess(_0xff4915,_0x2e992f)[_0x1d4c97(0x156)])storeSettings(_0x11dc5a,!![]);else logger[_0x1d4c97(0x266)]('Unauthorized\x20attempt\x20to\x20update\x20settings');}),_0x1acec6['on'](_0x39f6a9(0x2ba),_0x13aa64=>{const _0x4f0225=_0x39f6a9;if(validateAccess(_0x13aa64,_0x2e992f)[_0x4f0225(0x156)])updateBB('update');else logger[_0x4f0225(0x266)]('Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot');}),_0x1acec6['on'](_0x39f6a9(0x1df),_0x39f4a0=>{const _0x5aa261=_0x39f6a9;if(validateAccess(_0x39f4a0,_0x2e992f)[_0x5aa261(0x156)])updateBB(_0x5aa261(0x278));else logger['full'](_0x5aa261(0x245));}),_0x1acec6['on'](_0x39f6a9(0x16c),_0x3e8b45=>{const _0x5e233b=_0x39f6a9;if(validateAccess(_0x3e8b45,_0x2e992f)[_0x5e233b(0x156)])getBackupFiles(getClient(_0x1acec6['id'])[_0x5e233b(0x1d5)]);else logger[_0x5e233b(0x266)]('Unauthorized\x20attempt\x20to\x20reinstall\x20Balance\x20Bot');}),_0x1acec6['on'](_0x39f6a9(0x130),(_0x4ec807,_0x25461b)=>{const _0x531b68=_0x39f6a9;if(validateAccess(_0x25461b,_0x2e992f)[_0x531b68(0x156)])restoreBackupFile(_0x4ec807);else logger['full'](_0x531b68(0x248));}),_0x1acec6['on'](_0x39f6a9(0x2ac),_0x2513cf=>{const _0x4a2821=_0x39f6a9;if(validateAccess(_0x2513cf,_0x2e992f)[_0x4a2821(0x156)])getMessages();else logger[_0x4a2821(0x266)](_0x4a2821(0x1cb));}),_0x1acec6['on']('confirm-message',(_0x3bf8d6,_0x365c87)=>{const _0x307166=_0x39f6a9;if(validateAccess(_0x365c87,_0x2e992f)['allow'])confirmMessage(_0x3bf8d6);else logger[_0x307166(0x266)](_0x307166(0x22d));}),_0x1acec6['on'](_0x39f6a9(0x120),_0x8f1c92=>{const _0x4fd367=_0x39f6a9;if(validateAccess(_0x8f1c92,_0x2e992f)[_0x4fd367(0x156)]){if(devices[_0x2e992f][_0x4fd367(0x1aa)])clearTimeout(devices[_0x2e992f][_0x4fd367(0x1aa)]);if(devices[_0x2e992f]['pidExpireLogin'])clearTimeout(devices[_0x2e992f][_0x4fd367(0x23a)]);removeSocketListeners(getClient(_0x1acec6['id'])['uuid']),addBlacklist(_0x2e992f),devices[_0x2e992f][_0x4fd367(0x1e1)]=null,devices[_0x2e992f]['telegram2FaApproval']=null,devices[_0x2e992f][_0x4fd367(0x16b)][_0x4fd367(0x126)]=null,io['to'](getClient(_0x1acec6['id'])[_0x4fd367(0x1d5)])[_0x4fd367(0x26f)](_0x4fd367(0x286),{'access':{'allow':![],'reason':_0x4fd367(0x290),'token':null}});}else logger[_0x4fd367(0x266)](_0x4fd367(0x260));});}function initializeSocketBot(_0x5537ae){const _0x2f63fb=_0x5aca56,_0x3e70e0=getClient(_0x5537ae['id'])[_0x2f63fb(0x28c)],_0x1a8380=getClient(_0x5537ae['id'])[_0x2f63fb(0x1d5)];_0x5537ae['on']('get-logs',(_0x580dab,_0x192a3c)=>{const _0x5465da=_0x2f63fb;if(validateAccess(_0x192a3c,_0x1a8380)[_0x5465da(0x156)]){if(pid[_0x3e70e0])pid[_0x3e70e0][_0x5465da(0x1cd)]({'function':_0x5465da(0x151),'args':_0x580dab});}else logger['full'](_0x5465da(0x28b));}),_0x5537ae['on'](_0x2f63fb(0x1d6),(_0x54b73d,_0x4fd6ff)=>{const _0x5af4cf=_0x2f63fb;if(validateAccess(_0x4fd6ff,_0x1a8380)[_0x5af4cf(0x156)]){if(pid[_0x3e70e0])pid[_0x3e70e0][_0x5af4cf(0x1cd)]({'function':_0x5af4cf(0x11e),'args':_0x54b73d});}else logger[_0x5af4cf(0x266)](_0x5af4cf(0x2b9));}),_0x5537ae['on']('get-portfolio',(_0x37004d,_0x2c85ff)=>{const _0x4fecb5=_0x2f63fb;if(validateAccess(_0x2c85ff,_0x1a8380)['allow']){if(pid[_0x3e70e0])pid[_0x3e70e0][_0x4fecb5(0x1cd)]({'function':_0x4fecb5(0x17e),'args':_0x37004d});}else logger[_0x4fecb5(0x266)]('Unauthorized\x20attempt\x20to\x20get\x20portfolio');}),_0x5537ae['on'](_0x2f63fb(0x27d),(_0x1e7b4c,_0x4fd916)=>{const _0x507a75=_0x2f63fb;if(validateAccess(_0x4fd916,_0x1a8380)['allow']){if(pid[_0x3e70e0])pid[_0x3e70e0]['send']({'function':'storeConfiguration','args':_0x1e7b4c});}else logger[_0x507a75(0x266)](_0x507a75(0x1e4));}),_0x5537ae['on']('store-headless',(_0x3d9614,_0x9d0c09)=>{const _0x32334e=_0x2f63fb;if(validateAccess(_0x9d0c09,_0x1a8380)[_0x32334e(0x156)]){if(pid[_0x3e70e0])pid[_0x3e70e0][_0x32334e(0x1cd)]({'function':_0x32334e(0x121),'args':_0x3d9614});}else logger[_0x32334e(0x266)](_0x32334e(0x25b));}),_0x5537ae['on'](_0x2f63fb(0x2a6),_0xaf207=>{const _0x16bcc7=_0x2f63fb;if(validateAccess(_0xaf207,_0x1a8380)[_0x16bcc7(0x156)]){if(pid[_0x3e70e0])pid[_0x3e70e0][_0x16bcc7(0x1cd)]({'function':_0x16bcc7(0x22f),'args':null});}else logger[_0x16bcc7(0x266)](_0x16bcc7(0x2b3));}),_0x5537ae['on'](_0x2f63fb(0x2c9),(_0x4d4692,_0xf99ddb)=>{const _0xc6c30e=_0x2f63fb;if(validateAccess(_0xf99ddb,_0x1a8380)[_0xc6c30e(0x156)]){if(pid[_0x3e70e0])pid[_0x3e70e0]['send']({'function':_0xc6c30e(0x15a),'args':_0x4d4692});}else logger[_0xc6c30e(0x266)](_0xc6c30e(0x1c7));}),_0x5537ae['on'](_0x2f63fb(0x18f),_0x91a242=>{const _0x312b34=_0x2f63fb;if(validateAccess(_0x91a242,_0x1a8380)[_0x312b34(0x156)]){if(pid[_0x3e70e0])pid[_0x3e70e0][_0x312b34(0x1cd)]({'function':'cancelLoading','args':null});}else logger['full'](_0x312b34(0x14a));}),_0x5537ae['on'](_0x2f63fb(0x299),_0x2dfba6=>{const _0x44ced4=_0x2f63fb;if(validateAccess(_0x2dfba6,_0x1a8380)[_0x44ced4(0x156)]){if(pid[_0x3e70e0])pid[_0x3e70e0][_0x44ced4(0x1cd)]({'function':'showConfig','args':null});}else logger[_0x44ced4(0x266)](_0x44ced4(0x167));}),_0x5537ae['on'](_0x2f63fb(0x2ba),_0x36eba8=>{const _0x19a39f=_0x2f63fb;if(validateAccess(_0x36eba8,_0x1a8380)['allow'])updateBB(_0x19a39f(0x2ab));else logger[_0x19a39f(0x266)](_0x19a39f(0x292));}),_0x5537ae['on'](_0x2f63fb(0x2ac),_0x343af9=>{const _0x435fd7=_0x2f63fb;if(validateAccess(_0x343af9,_0x1a8380)[_0x435fd7(0x156)])getMessages();else logger[_0x435fd7(0x266)](_0x435fd7(0x1cb));}),_0x5537ae['on'](_0x2f63fb(0x23c),(_0x3832a0,_0x2d0d29)=>{const _0x43d606=_0x2f63fb;if(validateAccess(_0x2d0d29,_0x1a8380)['allow'])confirmMessage(_0x3832a0);else logger['full'](_0x43d606(0x22d));}),_0x5537ae['on'](_0x2f63fb(0x120),_0x4f59a7=>{const _0x4b0e02=_0x2f63fb;if(validateAccess(_0x4f59a7,_0x1a8380)[_0x4b0e02(0x156)]){if(devices[_0x1a8380][_0x4b0e02(0x1aa)])clearTimeout(devices[_0x1a8380]['pidRefreshToken']);if(devices[_0x1a8380][_0x4b0e02(0x23a)])clearTimeout(devices[_0x1a8380][_0x4b0e02(0x23a)]);removeSocketListeners(getClient(_0x5537ae['id'])[_0x4b0e02(0x1d5)]),addBlacklist(_0x1a8380),devices[_0x1a8380][_0x4b0e02(0x1e1)]=null,devices[_0x1a8380]['telegram2FaApproval']=null,devices[_0x1a8380][_0x4b0e02(0x16b)][_0x4b0e02(0x126)]=null,io['to'](getClient(_0x5537ae['id'])['uuid'])['emit'](_0x4b0e02(0x286),{'access':{'allow':![],'reason':_0x4b0e02(0x290),'token':null}});}else logger['full'](_0x4b0e02(0x260));});}function removeSocketListeners(_0x28cb7d){const _0x2e7956=_0x5aca56;getClientsWithUuid(_0x28cb7d)[_0x2e7956(0x297)](_0x13dd2d=>{const _0x133f9a=_0x2e7956;getSocket(_0x13dd2d['id'])[_0x133f9a(0x19a)]();});}function cleanSettings(){const _0x1f3ed0=_0x5aca56;let _0x51bed8=settings;return settings[_0x1f3ed0(0x250)]&&settings['telegramToken']!=''&&(_0x51bed8={..._0x51bed8,'telegramToken':'************'}),settings[_0x1f3ed0(0x1f0)]&&settings['bbPassword']!=''&&(_0x51bed8={..._0x51bed8,'bbPassword':'************'}),(settings[_0x1f3ed0(0x1f0)]&&settings[_0x1f3ed0(0x1f0)]==_0x1f3ed0(0x1b5)||settings['telegramToken']&&settings['telegramToken']=='***')&&(_0x51bed8={..._0x51bed8,'restored':{'password':settings[_0x1f3ed0(0x1f0)]=='***','telegram':settings[_0x1f3ed0(0x250)]==_0x1f3ed0(0x1b5)}}),_0x51bed8;}async function updateBB(_0x21ca15){const _0x3f739e=_0x5aca56;await backupConfigFiles(),installingUpdate=!![],config[_0x3f739e(0x297)](_0x528925=>{const _0x349025=_0x3f739e;restartBot(_0x528925[_0x349025(0x175)]);}),logger[_0x3f739e(0x21e)](_0x3f739e(0x13e)+_0x21ca15);if(_0x21ca15=='update')process[_0x3f739e(0x1cd)]({'update':!![]},_0x1acaac=>{});else _0x21ca15==_0x3f739e(0x278)&&process[_0x3f739e(0x1cd)]({'reinstall':!![]},_0x32d308=>{});}function startBot(_0x25b74f,_0x3d2820,_0x2b489b){const _0x40702b=_0x5aca56;if(debugging)_0x25b74f['push']('-d');let _0x1f1fae=![];const _0x1f89e6=_0x25b74f[0x0];_0x3d2820={..._0x3d2820,'stdio':[_0x40702b(0x2c5),_0x40702b(0x2c5),_0x40702b(0x2c5),_0x40702b(0x142)]},pid[_0x1f89e6]=childProcess['fork'](botfile,_0x25b74f,_0x3d2820),pid[_0x1f89e6]['on'](_0x40702b(0x1b4),_0x4e858b=>{const _0x534647=_0x40702b;switch(Object[_0x534647(0x27f)](_0x4e858b)[0x0]){case _0x534647(0x276):updateBotName(_0x1f89e6,_0x4e858b[_0x534647(0x276)]);break;case _0x534647(0x226):updateBotManager();break;case _0x534647(0x286):updateStatus(_0x1f89e6,_0x4e858b[_0x534647(0x286)]);break;case _0x534647(0x128):updateLive(_0x1f89e6,_0x4e858b[_0x534647(0x128)]);break;case _0x534647(0x20c):updateLive(_0x1f89e6,_0x4e858b[_0x534647(0x20c)]),io['to'](_0x1f89e6)[_0x534647(0x26f)]('status',{'access':{'allow':![],'reason':_0x534647(0x2a2),'token':null}});break;case'stop':_0x4e858b[_0x534647(0x183)]==_0x534647(0x1bf)&&restartBot(_0x1f89e6);_0x4e858b[_0x534647(0x183)]=='kill'&&toggleBot(_0x1f89e6,'disabled',_0x534647(0x14b));break;case _0x534647(0x18d):sendTelegram(_0x1f89e6,_0x4e858b[_0x534647(0x18d)]);break;case'telegrammsg':sendTelegramMsg(_0x4e858b[_0x534647(0x188)]);break;case'function':io['to'](_0x1f89e6)[_0x534647(0x26f)](_0x4e858b['function'],_0x4e858b['args']);break;}}),pid[_0x1f89e6]['on'](_0x40702b(0x24d),function(_0x26cddb){if(_0x1f1fae)return;_0x1f1fae=!![],_0x2b489b(_0x26cddb);}),pid[_0x1f89e6]['on']('exit',async function(_0x3f8c9d){const _0x35c20f=_0x40702b;if(installingUpdate)return;if(_0x1f1fae)return;_0x1f1fae=!![],_0x2b489b(null);const _0x119a00=dbConfig['get']('bots')[_0x35c20f(0x2a7)]({'botID':_0x1f89e6})[_0x35c20f(0x279)]();_0x119a00&&(_0x119a00['status']==_0x35c20f(0x184)||_0x119a00[_0x35c20f(0x286)]==_0x35c20f(0x1b0))&&(await sleep(0x3e8),updateLive(_0x1f89e6,_0x35c20f(0x14b)),logger[_0x35c20f(0x266)](_0x35c20f(0x29d)+_0x1f89e6),startBot([_0x1f89e6,userID],{'cwd':bbpath},function(_0x1ba0c8){if(_0x1ba0c8)logger['full'](_0x1ba0c8);}));});}function stopBot(_0x58e076){const _0x4ff156=_0x5aca56;getClientsWithBotID(_0x58e076)[_0x4ff156(0x297)](_0x3e71f9=>{const _0x5e93de=_0x4ff156;getSocket(_0x3e71f9['id'])[_0x5e93de(0x29c)](!![]),removeClient(_0x3e71f9['id']);}),pid[_0x58e076]&&(pid[_0x58e076][_0x4ff156(0x1ce)](),pid[_0x58e076]=null);}function restartBot(_0x301f86){const _0x1ed1a1=_0x5aca56;if(pid[_0x301f86])pid[_0x301f86][_0x1ed1a1(0x1ce)]();}function addBot(){const _0x1076fb=_0x5aca56;let _0x377653;for(let _0x1b0d78=0x1;_0x1b0d78<0x3e9;_0x1b0d78++){_0x377653=_0x1b0d78[_0x1076fb(0x1bd)]()[_0x1076fb(0x1ab)](0x3,'0');let _0x27a5a6=config['find'](_0x12c534=>_0x12c534[_0x1076fb(0x175)]==_0x377653);if(!_0x27a5a6)break;}if(_0x377653===_0x1076fb(0x2b1)){logger[_0x1076fb(0x266)](_0x1076fb(0x162));return;}logger[_0x1076fb(0x266)]('starting\x20new\x20bot\x20|\x20Bot\x20'+_0x377653),dbConfig['get'](_0x1076fb(0x2b8))['push']({'botID':_0x377653,'botname':_0x1076fb(0x15d)+_0x377653,'status':_0x1076fb(0x1b0),'live':''})['write'](),startBot([_0x377653,userID],{'cwd':bbpath},function(_0x13b3af){if(_0x13b3af)logger['full'](_0x13b3af);}),config=getConfiguration(),io['to'](_0x1076fb(0x217))[_0x1076fb(0x26f)](_0x1076fb(0x2b8),config);}function deleteBot(_0x18aa3d){const _0x16dda3=_0x5aca56;getClientsWithBotID(_0x18aa3d)[_0x16dda3(0x297)](_0x49204d=>{const _0x992e9e=_0x16dda3;getSocket(_0x49204d['id'])[_0x992e9e(0x29c)](!![]),removeClient(_0x49204d['id']);}),dbConfig[_0x16dda3(0x178)](_0x16dda3(0x2b8))['remove']({'botID':_0x18aa3d})[_0x16dda3(0x253)](),logger[_0x16dda3(0x266)](_0x16dda3(0x27e)+_0x18aa3d),stopBot(_0x18aa3d);try{if(fs[_0x16dda3(0x2cc)](path[_0x16dda3(0x1ed)](configpath,'bot-'+_0x18aa3d+_0x16dda3(0x216))))fs['unlinkSync'](path[_0x16dda3(0x1ed)](configpath,_0x16dda3(0x28f)+_0x18aa3d+'-config.json'));if(fs['existsSync'](path[_0x16dda3(0x1ed)](configpath,_0x16dda3(0x28f)+_0x18aa3d+_0x16dda3(0x13c))))fs[_0x16dda3(0x23f)](path[_0x16dda3(0x1ed)](configpath,'bot-'+_0x18aa3d+_0x16dda3(0x13c)));if(fs[_0x16dda3(0x2cc)](path[_0x16dda3(0x1ed)](configpath,'bot-'+_0x18aa3d+_0x16dda3(0x1a4))))fs['unlinkSync'](path[_0x16dda3(0x1ed)](configpath,'bot-'+_0x18aa3d+_0x16dda3(0x1a4)));if(fs[_0x16dda3(0x2cc)](path[_0x16dda3(0x1ed)](configpath,'bot-'+_0x18aa3d+_0x16dda3(0x1b7))))fs[_0x16dda3(0x23f)](path[_0x16dda3(0x1ed)](configpath,_0x16dda3(0x28f)+_0x18aa3d+_0x16dda3(0x1b7)));}catch(_0x3839ac){if(_0x3839ac)logger['full'](_0x16dda3(0x11f),_0x3839ac);}config=getConfiguration(),io['to']('botmanager')[_0x16dda3(0x26f)](_0x16dda3(0x2b8),config);}function toggleBot(_0xd95099,_0x52370b,_0x170726){const _0xb80076=_0x5aca56;dbConfig['get'](_0xb80076(0x2b8))[_0xb80076(0x2a7)]({'botID':_0xd95099})['assign']({'status':_0x52370b})[_0xb80076(0x2bc)]({'live':_0x170726})['write']();if(_0x52370b=='enabled'||_0x52370b==_0xb80076(0x1b0))logger[_0xb80076(0x266)]('enabled\x20Bot\x20'+_0xd95099),startBot([_0xd95099,userID],{'cwd':bbpath},function(_0xf9659b){const _0x3e573c=_0xb80076;if(_0xf9659b)logger[_0x3e573c(0x266)](_0xf9659b);});else(_0x52370b==_0xb80076(0x2be)||_0x52370b==_0xb80076(0x22a))&&(logger[_0xb80076(0x266)]('disabled\x20Bot\x20'+_0xd95099),stopBot(_0xd95099));config=getConfiguration(),io['to'](_0xb80076(0x217))[_0xb80076(0x26f)](_0xb80076(0x2b8),config);}function toggleStatus(_0x17a64f){const _0xe2ee12=_0x5aca56;let _0x46c757=dbConfig[_0xe2ee12(0x178)]('bots')[_0xe2ee12(0x2a7)]({'botID':_0x17a64f})[_0xe2ee12(0x279)](),_0x28efec;if(_0x46c757['status']==='enabled')_0x28efec=_0xe2ee12(0x2be);else{if(_0x46c757['status']===_0xe2ee12(0x1b0))_0x28efec=_0xe2ee12(0x22a);else{if(_0x46c757[_0xe2ee12(0x286)]===_0xe2ee12(0x22a))_0x28efec=_0xe2ee12(0x1b0);else{if(_0x46c757[_0xe2ee12(0x286)]===_0xe2ee12(0x2be))_0x28efec=_0xe2ee12(0x184);}}}return _0x28efec;}function updateStatus(_0x31d343,_0x2fab5f){const _0x3916a7=_0x5aca56;dbConfig[_0x3916a7(0x178)](_0x3916a7(0x2b8))[_0x3916a7(0x2a7)]({'botID':_0x31d343})['assign']({'status':_0x2fab5f})['write'](),config=getConfiguration(),io['to']('botmanager')[_0x3916a7(0x26f)](_0x3916a7(0x2b8),config);}function updateLive(_0x36cb87,_0x303907){const _0x26a6f9=_0x5aca56;dbConfig[_0x26a6f9(0x178)](_0x26a6f9(0x2b8))[_0x26a6f9(0x2a7)]({'botID':_0x36cb87})[_0x26a6f9(0x2bc)]({'live':_0x303907})[_0x26a6f9(0x253)](),config=getConfiguration(),io['to'](_0x26a6f9(0x217))[_0x26a6f9(0x26f)](_0x26a6f9(0x2b8),config);}function updateBotName(_0x4c1921,_0x271985){const _0xd60ba8=_0x5aca56;dbConfig[_0xd60ba8(0x178)](_0xd60ba8(0x2b8))[_0xd60ba8(0x2a7)]({'botID':_0x4c1921})['assign']({'botname':_0x271985})[_0xd60ba8(0x253)](),config=getConfiguration(),io['to'](_0xd60ba8(0x217))[_0xd60ba8(0x26f)]('bots',config);}function updateBotManager(){const _0x27ded6=_0x5aca56;config=getConfiguration(),io['to'](_0x27ded6(0x217))[_0x27ded6(0x26f)](_0x27ded6(0x2b8),config);}function toggleBotMode(_0x4ee988){const _0x16db8d=_0x5aca56;if(pid[_0x4ee988])pid[_0x4ee988][_0x16db8d(0x1cd)]({'function':_0x16db8d(0x11a),'args':null});else{const _0x15b987=configpath+'bot-'+_0x4ee988+_0x16db8d(0x216),_0x425380=fs['readFileSync'](_0x15b987),_0x4e3dc9=JSON['parse'](_0x425380),_0x5998b9=_0x4e3dc9[_0x16db8d(0x28c)][0x0][_0x16db8d(0x215)];_0x4e3dc9[_0x16db8d(0x28c)][0x0][_0x16db8d(0x215)]=!_0x5998b9;const _0x2f0575=JSON[_0x16db8d(0x163)](_0x4e3dc9,null,0x2);fs[_0x16db8d(0x180)](_0x15b987,_0x2f0575),config=getConfiguration(),io['to'](_0x16db8d(0x217))[_0x16db8d(0x26f)]('bots',config);}}function telegramError(_0x1417e2){const _0x115811=_0x5aca56;logger['simple'](getTimeStamp()+_0x115811(0x243));}function validateTelegram(_0x49cd14){const _0x155d83=_0x5aca56;if(_0x49cd14['from'][_0x155d83(0x230)]!=settings[_0x155d83(0x21a)]&&'@'+_0x49cd14['from'][_0x155d83(0x230)]!=settings[_0x155d83(0x21a)])return tgBot[_0x155d83(0x144)](_0x49cd14[_0x155d83(0x1f4)]['id'],_0x155d83(0x122),{'parse_mode':_0x155d83(0x148)})[_0x155d83(0x283)](_0x25a104=>{telegramError(_0x25a104);}),![];return!![];}async function initTelegram(){const _0x356beb=_0x5aca56;if(tgBot)tgBot[_0x356beb(0x177)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x356beb(0x250)],{'polling':!![]});let _0x253ee4=_0x356beb(0x14d);_0x253ee4+='\x0a',_0x253ee4+='/enable\x20-\x20enable\x20notifications\x0a',_0x253ee4+=_0x356beb(0x1f8),_0x253ee4+=_0x356beb(0x1e2),_0x253ee4+=_0x356beb(0x16e),_0x253ee4+=_0x356beb(0x2cb),_0x253ee4+=_0x356beb(0x1dd),_0x253ee4+=_0x356beb(0x207),_0x253ee4+=_0x356beb(0x28e),_0x253ee4+='/status\x20-\x20show\x20bot(s)\x20status\x0a',_0x253ee4+=_0x356beb(0x1be),_0x253ee4+='/update\x20-\x20update\x20Balance\x20Bot\x0a',_0x253ee4+=_0x356beb(0x242),_0x253ee4+='/help\x20-\x20show\x20available\x20commands\x0a';let _0x1c8823=_0x356beb(0x1cf);_0x1c8823+='\x0a',_0x1c8823+=_0x253ee4,tgBot[_0x356beb(0x20a)](/\/start/,_0x16bbca=>{const _0x14c392=_0x356beb;if(!validateTelegram(_0x16bbca))return;if(settings['telegramChatId']!=_0x16bbca[_0x14c392(0x1f4)]['id'])updateSetting(_0x14c392(0x2a9),_0x16bbca['chat']['id']);updateSetting('telegramEnabled',!![]),tgBot['sendMessage'](_0x16bbca[_0x14c392(0x1f4)]['id'],_0x1c8823)[_0x14c392(0x283)](_0x84b27a=>{telegramError(_0x84b27a);});}),tgBot[_0x356beb(0x20a)](/\/enable/,_0x4aacc3=>{const _0xc853fe=_0x356beb;if(!validateTelegram(_0x4aacc3))return;if(settings[_0xc853fe(0x2a9)]!=_0x4aacc3[_0xc853fe(0x1f4)]['id'])updateSetting(_0xc853fe(0x2a9),_0x4aacc3['chat']['id']);updateSetting('telegramEnabled',!![]),tgBot[_0xc853fe(0x144)](_0x4aacc3['chat']['id'],_0xc853fe(0x194))[_0xc853fe(0x283)](_0x125125=>{telegramError(_0x125125);});}),tgBot[_0x356beb(0x20a)](/\/config/,async _0x45b897=>{const _0x3153ea=_0x356beb;if(!validateTelegram(_0x45b897))return;tgBot['removeListener'](_0x3153ea(0x274)),tgBot[_0x3153ea(0x144)](_0x45b897['chat']['id'],_0x3153ea(0x159),{'reply_markup':{'inline_keyboard':[[{'text':_0x3153ea(0x15f),'callback_data':_0x3153ea(0x26a)},{'text':_0x3153ea(0x1e0),'callback_data':'alerts'},{'text':_0x3153ea(0x208),'callback_data':_0x3153ea(0x238)}]]}})[_0x3153ea(0x283)](_0x69fd09=>{telegramError(_0x69fd09);}),tgBot['on']('callback_query',async _0x18bde3=>{const _0x2d8f3c=_0x3153ea,_0x7aabc3=_0x18bde3[_0x2d8f3c(0x127)],_0x1a5a2f=_0x18bde3['message'];tgBot[_0x2d8f3c(0x257)](_0x18bde3['id'])[_0x2d8f3c(0x26e)](async()=>{const _0x1a749a=_0x2d8f3c;_0x7aabc3==_0x1a749a(0x26a)&&(updateSetting(_0x1a749a(0x174),_0x1a749a(0x26a)),updateSetting(_0x1a749a(0x287),!![]),await tgBot[_0x1a749a(0x144)](_0x1a5a2f[_0x1a749a(0x1f4)]['id'],_0x1a749a(0x1e8))[_0x1a749a(0x283)](_0x4b7fab=>{telegramError(_0x4b7fab);}));_0x7aabc3==_0x1a749a(0x24e)&&(updateSetting('telegramEvents',_0x1a749a(0x24e)),updateSetting(_0x1a749a(0x287),!![]),await tgBot['sendMessage'](_0x1a5a2f[_0x1a749a(0x1f4)]['id'],_0x1a749a(0x293))['catch'](_0x257771=>{telegramError(_0x257771);}));_0x7aabc3==_0x1a749a(0x238)&&(updateSetting(_0x1a749a(0x174),_0x1a749a(0x238)),updateSetting(_0x1a749a(0x287),!![]),await tgBot[_0x1a749a(0x144)](_0x1a5a2f[_0x1a749a(0x1f4)]['id'],'Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications')[_0x1a749a(0x283)](_0x40dcb9=>{telegramError(_0x40dcb9);}));if(!settings[_0x1a749a(0x2a9)])tgBot[_0x1a749a(0x144)](_0x1a5a2f[_0x1a749a(0x1f4)]['id'],_0x1a749a(0x19e))[_0x1a749a(0x283)](_0x34ad4a=>{telegramError(_0x34ad4a);});}),tgBot[_0x2d8f3c(0x152)](_0x2d8f3c(0x274));});}),tgBot['onText'](/\/status/,_0xa04d21=>{const _0x1ee0ee=_0x356beb;if(!validateTelegram(_0xa04d21))return;const _0x2bec6a=getBotsWithMode();let _0x4350a8=_0x1ee0ee(0x24b);config[_0x1ee0ee(0x297)](_0x5a3e62=>{const _0x2d308b=_0x1ee0ee,_0x22a078=_0x2bec6a['find'](_0x21b151=>_0x21b151['botID']==_0x5a3e62['botID'])[_0x2d308b(0x199)];_0x4350a8+=_0x2d308b(0x15d)+_0x5a3e62[_0x2d308b(0x175)]+':\x20'+_0x5a3e62[_0x2d308b(0x286)]+'\x20|\x20'+_0x22a078+_0x2d308b(0x291)+_0x5a3e62['live']+'\x0a';}),_0x4350a8+='\x0a',_0x4350a8+=_0x1ee0ee(0x246),_0x4350a8+=!settings[_0x1ee0ee(0x287)]?_0x1ee0ee(0x11c):_0x1ee0ee(0x1fe),_0x4350a8+=settings[_0x1ee0ee(0x287)]?settings[_0x1ee0ee(0x174)]==_0x1ee0ee(0x238)?_0x1ee0ee(0x1e3):_0x1ee0ee(0x282)+settings[_0x1ee0ee(0x174)]+_0x1ee0ee(0x12b):'',tgBot[_0x1ee0ee(0x144)](_0xa04d21[_0x1ee0ee(0x1f4)]['id'],_0x4350a8,{'parse_mode':_0x1ee0ee(0x148)})[_0x1ee0ee(0x283)](_0x52d78e=>{telegramError(_0x52d78e);});}),tgBot[_0x356beb(0x20a)](/\/restart/,_0xd3fd26=>{const _0x43c1bd=_0x356beb;if(!validateTelegram(_0xd3fd26))return;tgBot[_0x43c1bd(0x152)]('callback_query');const _0x2e7fdb=getEnabledBots();if(_0x2e7fdb[_0x43c1bd(0x264)]==0x0)tgBot[_0x43c1bd(0x144)](_0xd3fd26[_0x43c1bd(0x1f4)]['id'],_0x43c1bd(0x165))[_0x43c1bd(0x283)](_0x4ec238=>{telegramError(_0x4ec238);});else{if(_0x2e7fdb['length']>0x1)_0x2e7fdb[_0x43c1bd(0x280)]({'botID':_0x43c1bd(0x238)});let _0xa13de1=[],_0x18d4a0=[];const _0x3ec0ed=_0x2e7fdb[_0x43c1bd(0x264)]%0x4==0x0||_0x2e7fdb[_0x43c1bd(0x264)]%0x4==0x3||_0x2e7fdb['length']%0x3==0x1?0x4:0x3;let _0x5be042=0x0;_0x2e7fdb['forEach']((_0x1f2681,_0x2917ef)=>{const _0x38e7d1=_0x43c1bd;if(_0x2917ef%_0x3ec0ed==0x0)_0x18d4a0=[];_0x18d4a0[_0x38e7d1(0x280)]({'text':_0x1f2681[_0x38e7d1(0x175)]==_0x38e7d1(0x238)?_0x38e7d1(0x1ef):_0x38e7d1(0x15d)+_0x1f2681[_0x38e7d1(0x175)],'callback_data':_0x1f2681[_0x38e7d1(0x175)]}),_0x2917ef%_0x3ec0ed==0x0&&(_0xa13de1[_0x5be042]=_0x18d4a0,_0x5be042++);}),tgBot['sendMessage'](_0xd3fd26['chat']['id'],_0x43c1bd(0x1d1),{'reply_markup':{'inline_keyboard':_0xa13de1}})[_0x43c1bd(0x283)](_0x3c6d45=>{telegramError(_0x3c6d45);}),tgBot['on'](_0x43c1bd(0x274),async _0x5af9ba=>{const _0x5c2fa8=_0x43c1bd,_0x57ceef=_0x5af9ba[_0x5c2fa8(0x127)],_0x3e863f=_0x5af9ba[_0x5c2fa8(0x1b4)];tgBot[_0x5c2fa8(0x257)](_0x5af9ba['id'])['then'](async()=>{const _0x359a7b=_0x5c2fa8;_0x57ceef=='all'?config[_0x359a7b(0x297)](_0x365fc2=>{const _0x240265=_0x359a7b;restartBot(_0x365fc2[_0x240265(0x175)]);}):restartBot(_0x57ceef);}),tgBot['removeListener'](_0x5c2fa8(0x274));});}}),tgBot['onText'](/\/on/,_0x56c508=>{const _0x11cdd8=_0x356beb;if(!validateTelegram(_0x56c508))return;tgBot[_0x11cdd8(0x152)](_0x11cdd8(0x274));const _0x1947d9=getDisabledBots();if(_0x1947d9[_0x11cdd8(0x264)]==0x0)tgBot[_0x11cdd8(0x144)](_0x56c508[_0x11cdd8(0x1f4)]['id'],_0x11cdd8(0x14e))[_0x11cdd8(0x283)](_0x120ba7=>{telegramError(_0x120ba7);});else{if(_0x1947d9[_0x11cdd8(0x264)]>0x1)_0x1947d9['push']({'botID':'all'});let _0x5afd8a=[],_0x59bff6=[];const _0x303ddb=_0x1947d9['length']%0x4==0x0||_0x1947d9[_0x11cdd8(0x264)]%0x4==0x3||_0x1947d9[_0x11cdd8(0x264)]%0x3==0x1?0x4:0x3;let _0x4d645a=0x0;_0x1947d9[_0x11cdd8(0x297)]((_0x2fe439,_0x392854)=>{const _0x404b5c=_0x11cdd8;if(_0x392854%_0x303ddb==0x0)_0x59bff6=[];_0x59bff6[_0x404b5c(0x280)]({'text':_0x2fe439['botID']=='all'?_0x404b5c(0x1ef):_0x404b5c(0x15d)+_0x2fe439[_0x404b5c(0x175)],'callback_data':_0x2fe439[_0x404b5c(0x175)]}),_0x392854%_0x303ddb==0x0&&(_0x5afd8a[_0x4d645a]=_0x59bff6,_0x4d645a++);}),tgBot[_0x11cdd8(0x144)](_0x56c508['chat']['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20start?',{'reply_markup':{'inline_keyboard':_0x5afd8a}})[_0x11cdd8(0x283)](_0x3b40e4=>{telegramError(_0x3b40e4);}),tgBot['on'](_0x11cdd8(0x274),async _0x529153=>{const _0x37572a=_0x11cdd8,_0x115154=_0x529153['data'],_0x5541ae=_0x529153[_0x37572a(0x1b4)];tgBot[_0x37572a(0x257)](_0x529153['id'])[_0x37572a(0x26e)](async()=>{const _0x2a8758=_0x37572a;_0x115154=='all'?(tgBot[_0x2a8758(0x144)](_0x5541ae['chat']['id'],_0x2a8758(0x2b6))[_0x2a8758(0x283)](_0x37342f=>{telegramError(_0x37342f);}),_0x1947d9[_0x2a8758(0x297)](_0x4fa945=>{const _0x3e9bdd=_0x2a8758;if(_0x4fa945[_0x3e9bdd(0x175)]!='all')toggleBot(_0x4fa945['botID'],toggleStatus(_0x4fa945[_0x3e9bdd(0x175)]),_0x3e9bdd(0x14b));})):(tgBot[_0x2a8758(0x144)](_0x5541ae[_0x2a8758(0x1f4)]['id'],_0x2a8758(0x240)+_0x115154)[_0x2a8758(0x283)](_0x16ebbe=>{telegramError(_0x16ebbe);}),toggleBot(_0x115154,toggleStatus(_0x115154),'stopped'));}),tgBot['removeListener']('callback_query');});}}),tgBot[_0x356beb(0x20a)](/\/off/,_0x2fed75=>{const _0x4f9756=_0x356beb;if(!validateTelegram(_0x2fed75))return;tgBot[_0x4f9756(0x152)](_0x4f9756(0x274));const _0x375df9=getEnabledBots();if(_0x375df9['length']==0x0)tgBot[_0x4f9756(0x144)](_0x2fed75['chat']['id'],_0x4f9756(0x165))[_0x4f9756(0x283)](_0x561279=>{telegramError(_0x561279);});else{if(_0x375df9['length']>0x1)_0x375df9[_0x4f9756(0x280)]({'botID':_0x4f9756(0x238)});let _0x95733=[],_0x23e582=[];const _0x5c6def=_0x375df9[_0x4f9756(0x264)]%0x4==0x0||_0x375df9[_0x4f9756(0x264)]%0x4==0x3||_0x375df9['length']%0x3==0x1?0x4:0x3;let _0x2da17d=0x0;_0x375df9[_0x4f9756(0x297)]((_0x592ccb,_0x3b978b)=>{const _0x1c6c35=_0x4f9756;if(_0x3b978b%_0x5c6def==0x0)_0x23e582=[];_0x23e582['push']({'text':_0x592ccb[_0x1c6c35(0x175)]==_0x1c6c35(0x238)?_0x1c6c35(0x1ef):'Bot\x20'+_0x592ccb[_0x1c6c35(0x175)],'callback_data':_0x592ccb[_0x1c6c35(0x175)]}),_0x3b978b%_0x5c6def==0x0&&(_0x95733[_0x2da17d]=_0x23e582,_0x2da17d++);}),tgBot['sendMessage'](_0x2fed75['chat']['id'],_0x4f9756(0x220),{'reply_markup':{'inline_keyboard':_0x95733}})['catch'](_0x53e6a4=>{telegramError(_0x53e6a4);}),tgBot['on']('callback_query',async _0x1570ee=>{const _0x280c38=_0x4f9756,_0x563098=_0x1570ee[_0x280c38(0x127)],_0x2e956c=_0x1570ee[_0x280c38(0x1b4)];tgBot[_0x280c38(0x257)](_0x1570ee['id'])[_0x280c38(0x26e)](async()=>{const _0x2f3547=_0x280c38;_0x563098==_0x2f3547(0x238)?(tgBot[_0x2f3547(0x144)](_0x2e956c['chat']['id'],_0x2f3547(0x2c1))[_0x2f3547(0x283)](_0x2596a2=>{telegramError(_0x2596a2);}),_0x375df9[_0x2f3547(0x297)](_0x2a980e=>{const _0x3f883e=_0x2f3547;if(_0x2a980e[_0x3f883e(0x175)]!=_0x3f883e(0x238))toggleBot(_0x2a980e[_0x3f883e(0x175)],toggleStatus(_0x2a980e[_0x3f883e(0x175)]),_0x3f883e(0x14b));})):(tgBot['sendMessage'](_0x2e956c['chat']['id'],_0x2f3547(0x296)+_0x563098)[_0x2f3547(0x283)](_0x3ddf27=>{telegramError(_0x3ddf27);}),toggleBot(_0x563098,toggleStatus(_0x563098),_0x2f3547(0x14b)));}),tgBot['removeListener'](_0x280c38(0x274));});}}),tgBot['onText'](/\/portfolio/,_0x19b42c=>{const _0x5d61d5=_0x356beb;if(!validateTelegram(_0x19b42c))return;tgBot['removeListener'](_0x5d61d5(0x274));const _0x1cfda3=getEnabledBots();if(_0x1cfda3[_0x5d61d5(0x264)]==0x0)tgBot['sendMessage'](_0x19b42c[_0x5d61d5(0x1f4)]['id'],'No\x20bots\x20running\x20right\x20now')[_0x5d61d5(0x283)](_0x349741=>{telegramError(_0x349741);});else{if(_0x1cfda3['length']>0x1){let _0x4ef0e5=[],_0x2e6224=[];const _0x4d8cf7=_0x1cfda3[_0x5d61d5(0x264)]%0x4==0x0||_0x1cfda3[_0x5d61d5(0x264)]%0x4==0x3||_0x1cfda3[_0x5d61d5(0x264)]%0x3==0x1?0x4:0x3;let _0x4ed263=0x0;_0x1cfda3['forEach']((_0x4fe269,_0x49b46d)=>{const _0x2e1b42=_0x5d61d5;if(_0x49b46d%_0x4d8cf7==0x0)_0x2e6224=[];_0x2e6224[_0x2e1b42(0x280)]({'text':'Bot\x20'+_0x4fe269[_0x2e1b42(0x175)],'callback_data':_0x4fe269[_0x2e1b42(0x175)]}),_0x49b46d%_0x4d8cf7==0x0&&(_0x4ef0e5[_0x4ed263]=_0x2e6224,_0x4ed263++);}),tgBot['sendMessage'](_0x19b42c[_0x5d61d5(0x1f4)]['id'],'For\x20which\x20bot\x20do\x20you\x20want\x20the\x20portfolio?',{'reply_markup':{'inline_keyboard':_0x4ef0e5}})[_0x5d61d5(0x283)](_0x145b86=>{telegramError(_0x145b86);}),tgBot['on'](_0x5d61d5(0x274),async _0xf18729=>{const _0x27e1a2=_0x5d61d5,_0x118ce4=_0xf18729['data'],_0x225720=_0xf18729[_0x27e1a2(0x1b4)];tgBot[_0x27e1a2(0x257)](_0xf18729['id'])[_0x27e1a2(0x26e)](async()=>{const _0x2b9df8=_0x27e1a2;if(pid[_0x118ce4])pid[_0x118ce4][_0x2b9df8(0x1cd)]({'function':_0x2b9df8(0x19f),'args':null});}),tgBot[_0x27e1a2(0x152)](_0x27e1a2(0x274));});}else{const _0x747602=_0x1cfda3[0x0]['botID'];if(pid[_0x747602])pid[_0x747602]['send']({'function':_0x5d61d5(0x19f),'args':null});}}}),tgBot['onText'](/\/update/,async _0x344c21=>{const _0x29185b=_0x356beb;if(!validateTelegram(_0x344c21))return;tgBot[_0x29185b(0x152)](_0x29185b(0x274)),await getMessages();if(!updateAvailable)tgBot[_0x29185b(0x144)](_0x344c21[_0x29185b(0x1f4)]['id'],'Your\x20installation\x20is\x20already\x20up\x20to\x20date')[_0x29185b(0x283)](_0x42d1ae=>{telegramError(_0x42d1ae);});else!validInstallation?tgBot[_0x29185b(0x144)](_0x344c21[_0x29185b(0x1f4)]['id'],'Your\x20installation\x20does\x20not\x20support\x20updating\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20update')['catch'](_0x29329d=>{telegramError(_0x29329d);}):(tgBot[_0x29185b(0x144)](_0x344c21[_0x29185b(0x1f4)]['id'],'Are\x20you\x20sure\x20you\x20want\x20to\x20update\x20Balance\x20Bot\x20now?',{'reply_markup':{'inline_keyboard':[[{'text':'Yes','callback_data':_0x29185b(0x214)},{'text':'No','callback_data':'no'}]]}})[_0x29185b(0x283)](_0x402ac0=>{telegramError(_0x402ac0);}),tgBot['on']('callback_query',async _0x321bc5=>{const _0x12734f=_0x29185b,_0xff787c=_0x321bc5[_0x12734f(0x127)],_0x419b3a=_0x321bc5[_0x12734f(0x1b4)];tgBot[_0x12734f(0x257)](_0x321bc5['id'])[_0x12734f(0x26e)](async()=>{const _0x17912b=_0x12734f;_0xff787c==_0x17912b(0x214)&&(await tgBot[_0x17912b(0x144)](_0x419b3a[_0x17912b(0x1f4)]['id'],_0x17912b(0x1d0))[_0x17912b(0x283)](_0x4082f8=>{telegramError(_0x4082f8);}),updateBB(_0x17912b(0x2ab))),_0xff787c=='no'&&await tgBot[_0x17912b(0x144)](_0x419b3a['chat']['id'],_0x17912b(0x1dc))[_0x17912b(0x283)](_0x24a8e1=>{telegramError(_0x24a8e1);});}),tgBot[_0x12734f(0x152)](_0x12734f(0x274));}));}),tgBot[_0x356beb(0x20a)](/\/reinstall/,async _0x5851b2=>{const _0x962b59=_0x356beb;if(!validateTelegram(_0x5851b2))return;tgBot[_0x962b59(0x152)](_0x962b59(0x274)),!validInstallation?tgBot[_0x962b59(0x144)](_0x5851b2[_0x962b59(0x1f4)]['id'],_0x962b59(0x17c))[_0x962b59(0x283)](_0xac26c1=>{telegramError(_0xac26c1);}):(tgBot[_0x962b59(0x144)](_0x5851b2[_0x962b59(0x1f4)]['id'],_0x962b59(0x1a5),{'reply_markup':{'inline_keyboard':[[{'text':_0x962b59(0x2c2),'callback_data':_0x962b59(0x214)},{'text':'No','callback_data':'no'}]]}})['catch'](_0x23c6fd=>{telegramError(_0x23c6fd);}),tgBot['on'](_0x962b59(0x274),async _0x5770c1=>{const _0x4fa64c=_0x962b59,_0x1d226e=_0x5770c1[_0x4fa64c(0x127)],_0x5cf134=_0x5770c1[_0x4fa64c(0x1b4)];tgBot['answerCallbackQuery'](_0x5770c1['id'])[_0x4fa64c(0x26e)](async()=>{const _0x3ce372=_0x4fa64c;_0x1d226e=='yes'&&(await tgBot[_0x3ce372(0x144)](_0x5cf134[_0x3ce372(0x1f4)]['id'],'Starting\x20Balance\x20Bot\x20reinstallation')[_0x3ce372(0x283)](_0xfbb62a=>{telegramError(_0xfbb62a);}),updateBB(_0x3ce372(0x278))),_0x1d226e=='no'&&await tgBot[_0x3ce372(0x144)](_0x5cf134[_0x3ce372(0x1f4)]['id'],_0x3ce372(0x160))['catch'](_0x523d8a=>{telegramError(_0x523d8a);});}),tgBot[_0x4fa64c(0x152)](_0x4fa64c(0x274));}));}),tgBot['onText'](/\/toggle/,_0x4cc024=>{const _0x826454=_0x356beb;if(!validateTelegram(_0x4cc024))return;tgBot[_0x826454(0x152)](_0x826454(0x274));const _0x460099=getBotsWithMode();if(_0x460099[_0x826454(0x264)]==0x0)tgBot[_0x826454(0x144)](_0x4cc024[_0x826454(0x1f4)]['id'],_0x826454(0x165))[_0x826454(0x283)](_0x32ef2f=>{telegramError(_0x32ef2f);});else{let _0x5a9caa=[],_0x3d3099=[];const _0x344d9a=0x2;let _0x51169f=0x0;_0x460099['forEach']((_0x56775c,_0x35ca89)=>{const _0x4f37f0=_0x826454;if(_0x35ca89%_0x344d9a==0x0)_0x3d3099=[];_0x3d3099[_0x4f37f0(0x280)]({'text':'Bot\x20'+_0x56775c[_0x4f37f0(0x175)]+'\x20('+_0x56775c[_0x4f37f0(0x199)]+')','callback_data':_0x56775c['botID']}),_0x35ca89%_0x344d9a==0x0&&(_0x5a9caa[_0x51169f]=_0x3d3099,_0x51169f++);}),tgBot[_0x826454(0x144)](_0x4cc024['chat']['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?',{'reply_markup':{'inline_keyboard':_0x5a9caa}})[_0x826454(0x283)](_0x2bdb76=>{telegramError(_0x2bdb76);}),tgBot['on'](_0x826454(0x274),async _0x74d255=>{const _0x340956=_0x826454,_0x4d5d7f=_0x74d255[_0x340956(0x127)],_0x26c370=_0x74d255[_0x340956(0x1b4)];tgBot['answerCallbackQuery'](_0x74d255['id'])[_0x340956(0x26e)](async()=>{const _0x37636b=_0x340956,_0xaeedd9=_0x460099[_0x37636b(0x2a7)](_0x2340b1=>_0x2340b1[_0x37636b(0x175)]==_0x4d5d7f),_0x22f115=_0xaeedd9[_0x37636b(0x199)]==_0x37636b(0x186)?_0x37636b(0x25c):_0x37636b(0x186);tgBot[_0x37636b(0x144)](_0x26c370[_0x37636b(0x1f4)]['id'],'Bot\x20Mgr\x20>\x20toggling\x20Bot\x20'+_0x4d5d7f+_0x37636b(0x2ad)+_0x22f115+_0x37636b(0x1b6))[_0x37636b(0x283)](_0x4ee4c2=>{telegramError(_0x4ee4c2);}),toggleBotMode(_0x4d5d7f);}),tgBot[_0x340956(0x152)]('callback_query');});}}),tgBot[_0x356beb(0x20a)](/\/names/,_0x1c1121=>{const _0x1dcb4e=_0x356beb;if(!validateTelegram(_0x1c1121))return;let _0x2c0098='';config['forEach'](_0x320474=>{const _0x36c0df=_0x58d3;_0x2c0098+=_0x36c0df(0x15d)+_0x320474[_0x36c0df(0x175)]+':\x20'+_0x320474[_0x36c0df(0x276)]+'\x0a';}),tgBot[_0x1dcb4e(0x144)](_0x1c1121[_0x1dcb4e(0x1f4)]['id'],_0x2c0098,{'parse_mode':'HTML'})[_0x1dcb4e(0x283)](_0x32bd77=>{telegramError(_0x32bd77);});}),tgBot[_0x356beb(0x20a)](/\/disable/,_0x18d3a8=>{const _0x3f1d31=_0x356beb;if(!validateTelegram(_0x18d3a8))return;tgBot[_0x3f1d31(0x144)](_0x18d3a8[_0x3f1d31(0x1f4)]['id'],'Notifications\x20disabled')[_0x3f1d31(0x283)](_0x48d6fd=>{telegramError(_0x48d6fd);}),updateSetting('telegramEnabled',![]);}),tgBot[_0x356beb(0x20a)](/\/help/,_0x4bd62a=>{const _0x5c3f57=_0x356beb;if(!validateTelegram(_0x4bd62a))return;tgBot[_0x5c3f57(0x144)](_0x4bd62a[_0x5c3f57(0x1f4)]['id'],_0x253ee4)[_0x5c3f57(0x283)](_0x53dd84=>{telegramError(_0x53dd84);});}),tgBot['on'](_0x356beb(0x26b),_0x55db64=>{const _0x3a5ba5=_0x356beb;_0x55db64['toString']()[_0x3a5ba5(0x1ec)]('404\x20Not\x20Found')&&(logger[_0x3a5ba5(0x266)]('Invalid\x20Telegram\x20token'),tgBot[_0x3a5ba5(0x177)](),tgBot=null,io['to'](_0x3a5ba5(0x217))[_0x3a5ba5(0x26f)](_0x3a5ba5(0x256),_0x3a5ba5(0x12f)));}),process['once'](_0x356beb(0x1d3),()=>{const _0x11b411=_0x356beb;if(tgBot)tgBot['stopPolling']();process[_0x11b411(0x225)](0x1);}),process[_0x356beb(0x155)]('SIGTERM',()=>{const _0x5375a2=_0x356beb;if(tgBot)tgBot['stopPolling']();process[_0x5375a2(0x225)](0x1);});}}function disableTelegram(){const _0x6bd636=_0x5aca56;tgBot&&(tgBot[_0x6bd636(0x177)](),tgBot=null);}function _0xbdcf(){const _0x369e47=['1000','clientip','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','show','http','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','backup','bots','Unauthorized\x20attempt\x20to\x20delete\x20alerts','update-bb','Restoring\x20bot(s)\x20from\x20backup','assign','temp/','disabled','lowdb','auth','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','Yes','handshake','mixpanel','inherit','login\x20required','store-settings','set','place-order','backup-full@','/on\x20-\x20start\x20bot(s)\x0a','existsSync','argv','sort','child_process','timeshift','toggleBotMode','User\x20has\x20been\x20validated','Notifications\x20disabled\x0a','initclient','deleteHistoryAlerts','error\x20while\x20deleting\x20config\x20files:\x20','logout','storeHeadless','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','ipv6','randomFillSync','\x20minutes','token','data','live','getFullYear','mkdirSync','\x20only\x0a','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(1)','parse','startsWith','Invalid\x20Telegram\x20token','restore-backup-file','min','apiSecret','node-zip','index.html','version','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','backup-full.zip','express-fileupload','https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master','conn','listen','-events.json','bb-settings.json','Starting\x20Balance\x20Bot\x20','4838530gPxZWF','util','/download/:type','ipc','yargs/yargs','sendMessage','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','user','zip/','HTML','rmSync','Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins','stopped','secret','You\x20can\x20use\x20the\x20following\x20commands:\x0a','All\x20bots\x20running\x20right\x20now','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','simple','emitHistory','removeListener','split','$1_$2_$3','once','allow','settings.','sign','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','placeOrder','sendFile','init','Bot\x20','bb-secure.json','Orders','Ok,\x20reinstalling\x20Balance\x20Bot\x20canceled','f2aRequired','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','stringify','logs/','No\x20bots\x20running\x20right\x20now','Unauthorized\x20attempt\x20to\x20update\x20bot','Unauthorized\x20attempt\x20to\x20show\x20configuration','bbUsername','event','expiry','access','get-backup-files','sortBy','/restart\x20-\x20restart\x20bot(s)\x0a','2FA\x20required','from','getMonth','password','isIPv4MappedAddress','telegramEvents','botID','Allow\x20login\x20from\x20IP\x20address\x20<b>','stopPolling','get','readFileSync','hybrid-crypto-js','990505orcixh','Your\x20installation\x20does\x20not\x20support\x20reinstalling\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20reinstallation','blacklist','getPortfolio','api-eu.mixpanel.com','writeFileSync','Login\x20rejected','Bearer\x20eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U','stop','enabled','bbvNew','auto','NTBA_FIX_319','telegrammsg','timestamp','build2','statSync','************','telegram','sockets','cancel-loading','Do\x20you\x20want\x20to\x20restore\x20your\x20installation?\x20NOTE:\x20this\x20will\x20replace\x20your\x20current\x20settings\x20and\x20bot(s)','settings','178YpUstF','use','Notifications\x20enabled','telegram2FaApproval','title','</b>\x20?','getMinutes','mode','removeAllListeners','127.0.0.1','output-000.log','params','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','sendPortfolioTelegram','Invalid\x20IP\x20address','9217232AckkYY','reject','socket.io','-performance.json','Are\x20you\x20sure\x20you\x20want\x20to\x20reinstall\x20Balance\x20Bot\x20now?','temporaryAccessAllowed','output-003.log','backupfile','static','pidRefreshToken','padStart','toIPv4Address','tkn','login\x20not\x20required','Failed\x20to\x20download\x20','new','binary','decrypt','generateKeyPairAsync','message','***','\x20mode','-results.json','2286768XKgVMQ','replace','bcryptjs','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bot\x20is\x20disabled\x20by\x20default\x20-\x20enable\x20if\x20you\x20want\x20it\x20to\x20run','reason','toString','/portfolio\x20-\x20show\x20bot\x20portfolio\x0a','restart','defaults','189pANeAp','loginRequired','type','(((.+)+)+)+$','verify','backup/','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','socket','lastmsgtelegram','copyFileSync','Unauthorized\x20attempt\x20to\x20get\x20messages','Unauthorized\x20login\x20attempt\x20(timeout)','send','kill','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','Starting\x20Balance\x20Bot\x20update','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','port','SIGINT','exp','uuid','delete-alerts','host','5\x20min','compareSync','connection','bb-config.json','Ok,\x20consider\x20updating\x20Balance\x20Bot\x20later','/off\x20-\x20stop\x20bot(s)\x0a','secure','reinstall-bb','Alerts','telegramIpApproval','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','Unauthorized\x20attempt\x20to\x20store\x20configuration','2FA','Temporary\x20access\x20rejected','showname','Ok,\x20will\x20send\x20order\x20notifications\x20only','post','Markdown','bb/','includes','join','headers','All\x20bots','bbPassword','File\x20uploaded','Crypt','files','chat','getUTCHours','sha256','success','/disable\x20-\x20disable\x20notifications\x0a','order','temporary\x20access\x20not\x20allowed','add','log','axios','Notifications\x20enabled\x0a','::1','remoteAddress','::ffff:127.0.0.1','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bots\x20are\x20disabled\x20by\x20default\x20-\x20enable\x20those\x20you\x20want\x20to\x20run','accept','Login\x20accepted','track','map','/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a','All','graphql-request','onText','alias','started','/output-000.log','toIPv4MappedAddress','isDirectory','4372eXGiMa','2FA\x20login\x20rejected','match','-----------------------------------------------------------------------------------','yes','headless','-config.json','botmanager','remove','output-001.log','telegramUsername','createWriteStream','userid','endsWith','debug','build','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','max','Restore\x20backup\x20file\x20','generate','hasOwnProperty','exit','updatebotmanager','0.0.0','42546ViGAqe','apiKey','new-disabled','exchange','messages','Unauthorized\x20attempt\x20to\x20confirm\x20message','request','getStartingBalances','username','Unauthorized\x20attempt\x20to\x20download\x20','\x20>\x20','Password\x20reset\x20rejected','.zip','6b67f3d61ee94b8f5c80b4affef4c4d9','getSeconds','format','all','size','pidExpireLogin','backup-files','confirm-message','add-bot','running','unlinkSync','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','hex','/reinstall\x20-\x20reinstall\x20Balance\x20Bot\x0a',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','Bot\x20Mgr\x20>\x20','Unauthorized\x20attempt\x20to\x20reinstall\x20Balance\x20Bot','<b>Telegram\x20Bot\x20Status:</b>\x0a','encryptedUuid','Unauthorized\x20attempt\x20to\x20restore\x20backup\x20file','login\x20token\x20valid','/:bot/coins','<b>Balance\x20Bot\x20Status:</b>\x0a','env','error','alerts','369981IAhhZD','telegramToken','temporary\x20access\x20timeout','slice','write','constructor','Invalid\x20username\x20or\x20IP\x20address','notification','answerCallbackQuery','getHours','12HTVUpC','clients','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','manual','backup-full','30\x20min','idling\x20bot\x20\x20\x20|\x20Bot\x20','Unauthorized\x20attempt\x20to\x20log\x20out','Restore\x20process\x20aborted','date-fns','uuid-random','length','test','full','uncaughtException','lastmsgemitted','express','orders','polling_error','toggle-bot-mode','name','then','emit','lowdb/adapters/FileSync','entries','publicKey','/:bot/history','callback_query','createServer','botname','2FA\x20login\x20required','reinstall','value','latestversion','Unauthorized\x20attempt\x20to\x20delete\x20bot','logs','store-configuration','deleted\x20Bot\x20','keys','push','search','Notifications\x20types:\x20','catch','mtime','login\x20token\x20generated','status','telegramEnabled','login','temporary\x20token\x20generated','bbvReceive','Unauthorized\x20attempt\x20to\x20get\x20logs','bot','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(2)','/names\x20-\x20show\x20bot\x20names\x0a','bot-','logged\x20out','\x20|\x20','Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot','Ok,\x20will\x20send\x20alert\x20notifications\x20only','file','15\x20min','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','forEach','readdirSync','show-config','path','randomBytes','disconnect','restarting\x20Bot\x20','store','getTime','\x20(2)','Server','reload','Access\x20enabled\x20for\x20','filter','privateKey','get-starting-balances','find','connected','telegramChatId','getDate','update','get-messages','\x20to\x20','isValid','config/','Token\x20blacklisted'];_0xbdcf=function(){return _0x369e47;};return _0xbdcf();}function sendTelegram(_0x48134d,_0x33be1c){const _0x1f02ea=_0x5aca56;if(settings[_0x1f02ea(0x287)]){if(settings['telegramEvents']==_0x1f02ea(0x238)||(_0x33be1c[_0x1f02ea(0x1c3)]==_0x1f02ea(0x24d)||_0x33be1c[_0x1f02ea(0x1c3)]=='warning'||_0x33be1c['type']==_0x1f02ea(0x1f7))&&settings['telegramEvents']==_0x1f02ea(0x24e)||_0x33be1c['type']==_0x1f02ea(0x1f9)&&settings[_0x1f02ea(0x174)]==_0x1f02ea(0x26a)){if(tgBot&&settings[_0x1f02ea(0x2a9)]){if(_0x33be1c[_0x1f02ea(0x1e7)])tgBot[_0x1f02ea(0x144)](settings[_0x1f02ea(0x2a9)],_0x33be1c[_0x1f02ea(0x276)]+'\x20>\x20'+_0x33be1c[_0x1f02ea(0x169)])[_0x1f02ea(0x283)](_0x1b6518=>{telegramError(_0x1b6518);});else tgBot[_0x1f02ea(0x144)](settings[_0x1f02ea(0x2a9)],_0x1f02ea(0x15d)+_0x48134d+_0x1f02ea(0x232)+_0x33be1c['event'])['catch'](_0x130bdf=>{telegramError(_0x130bdf);});}}}}async function sendTelegramMsg(_0x18a144,_0x2e5d90=_0x5aca56(0x148)){const _0x267483=_0x5aca56;return settings[_0x267483(0x287)]&&tgBot&&settings[_0x267483(0x2a9)]?(await tgBot['sendMessage'](settings[_0x267483(0x2a9)],_0x18a144,{'parse_mode':_0x2e5d90})['catch'](_0x21c279=>{telegramError(_0x21c279);}),!![]):![];}function getDeviceWithIp(_0x590190){const _0x1062a1=_0x5aca56;return devices[_0x1062a1(0x2a7)](_0x2c06ca=>_0x2c06ca['ip']===_0x590190);}function temporaryAccess2FA(_0x142567,_0x130a7c){const _0x484a82=_0x5aca56;let _0x580c3e=new Date(),_0x3057d0=![];if(lastIpApproval){if(_0x580c3e-lastIpApproval<0x1388)_0x3057d0=!![];}lastIpApproval=new Date();if(_0x3057d0)return;tgBot&&settings[_0x484a82(0x2a9)]&&(tgBot[_0x484a82(0x152)](_0x484a82(0x274)),tgBot['sendMessage'](settings[_0x484a82(0x2a9)],_0x484a82(0x145)+normalizeIP(_0x130a7c)[_0x484a82(0x2b4)]+_0x484a82(0x197),{'parse_mode':_0x484a82(0x148),'reply_markup':{'inline_keyboard':[[{'text':_0x484a82(0x1d8),'callback_data':'5'},{'text':_0x484a82(0x295),'callback_data':'15'},{'text':_0x484a82(0x25e),'callback_data':'30'},{'text':_0x484a82(0x1a2),'callback_data':_0x484a82(0x1a2)}]]}})['catch'](_0x985486=>{telegramError(_0x985486);}),tgBot['on']('callback_query',async _0x13d8ae=>{const _0x5e7526=_0x484a82,_0x3a4058=_0x13d8ae['data'],_0x59e54b=_0x13d8ae['message'];tgBot['answerCallbackQuery'](_0x13d8ae['id'])[_0x5e7526(0x26e)](async()=>{const _0x27a0b3=_0x5e7526;devices[_0x142567][_0x27a0b3(0x1e1)]={'clientip':_0x130a7c,'timestamp':new Date()[_0x27a0b3(0x29f)](),'expiry':_0x3a4058},_0x3a4058!=_0x27a0b3(0x1a2)?(await tgBot[_0x27a0b3(0x144)](_0x59e54b['chat']['id'],_0x27a0b3(0x2a3)+_0x3a4058+_0x27a0b3(0x125),{'parse_mode':_0x27a0b3(0x148)})[_0x27a0b3(0x283)](_0x5d90ef=>{telegramError(_0x5d90ef);}),io['to'](_0x142567)[_0x27a0b3(0x26f)](_0x27a0b3(0x286),{'access':{'allow':![],'reason':'reload','token':null}})):(await tgBot[_0x27a0b3(0x144)](_0x59e54b[_0x27a0b3(0x1f4)]['id'],_0x27a0b3(0x1e6))[_0x27a0b3(0x283)](_0x5ac7bf=>{telegramError(_0x5ac7bf);}),io['to'](_0x142567)[_0x27a0b3(0x26f)](_0x27a0b3(0x286),{'access':{'allow':![],'reason':'temporary\x20access\x20rejected','token':null}}));}),tgBot[_0x5e7526(0x152)](_0x5e7526(0x274));}));}function loginAccess2FA(_0x3668a1,_0x46ebeb){const _0x150933=_0x5aca56;tgBot&&settings[_0x150933(0x2a9)]&&(tgBot[_0x150933(0x152)](_0x150933(0x274)),tgBot[_0x150933(0x144)](settings[_0x150933(0x2a9)],_0x150933(0x176)+normalizeIP(_0x46ebeb)[_0x150933(0x2b4)]+_0x150933(0x197),{'parse_mode':_0x150933(0x148),'reply_markup':{'inline_keyboard':[[{'text':_0x150933(0x203),'callback_data':loginExpiry},{'text':_0x150933(0x1a2),'callback_data':'reject'}]]}})[_0x150933(0x283)](_0x36bdc4=>{telegramError(_0x36bdc4);}),tgBot['on'](_0x150933(0x274),async _0x3274a4=>{const _0x3667ae=_0x150933,_0x372866=_0x3274a4['data'],_0x471762=_0x3274a4[_0x3667ae(0x1b4)];tgBot[_0x3667ae(0x257)](_0x3274a4['id'])[_0x3667ae(0x26e)](async()=>{const _0x2bda1c=_0x3667ae;devices[_0x3668a1][_0x2bda1c(0x195)]={'clientip':_0x46ebeb,'timestamp':new Date()[_0x2bda1c(0x29f)](),'expiry':_0x372866},_0x372866!=_0x2bda1c(0x1a2)?(await tgBot[_0x2bda1c(0x144)](_0x471762['chat']['id'],_0x2bda1c(0x204),{'parse_mode':'HTML'})[_0x2bda1c(0x283)](_0x1fdfc7=>{telegramError(_0x1fdfc7);}),io['to'](_0x3668a1)[_0x2bda1c(0x26f)](_0x2bda1c(0x286),{'access':{'allow':![],'reason':_0x2bda1c(0x2a2),'token':null}})):(await tgBot['sendMessage'](_0x471762[_0x2bda1c(0x1f4)]['id'],_0x2bda1c(0x181))['catch'](_0x4ead15=>{telegramError(_0x4ead15);}),io['to'](_0x3668a1)['emit']('status',{'access':{'allow':![],'reason':_0x2bda1c(0x211),'token':null}}));}),tgBot[_0x3667ae(0x152)](_0x3667ae(0x274));}));}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x34d113=_0x5aca56;return dbConfig[_0x34d113(0x178)](_0x34d113(0x2b8))['sortBy'](_0x34d113(0x175))[_0x34d113(0x2a4)]({'status':_0x34d113(0x184)})[_0x34d113(0x279)]()||[];}function getDisabledBots(){const _0x265605=_0x5aca56;return dbConfig[_0x265605(0x178)]('bots')[_0x265605(0x16d)](_0x265605(0x175))[_0x265605(0x2a4)]({'status':_0x265605(0x2be)})[_0x265605(0x279)]()||[];}function getBotAttributes(_0x1915f3){const _0x5d2726=_0x5aca56;let _0x43f893={};const _0x2d35ef=configpath+_0x5d2726(0x28f)+_0x1915f3+_0x5d2726(0x216),_0x263119=fs[_0x5d2726(0x2cc)](_0x2d35ef);if(_0x263119){const _0x57fb5c=fs['readFileSync'](_0x2d35ef);try{const _0x251730=JSON['parse'](_0x57fb5c),_0x2de680=_0x251730?_0x251730['bot'][0x0][_0x5d2726(0x215)]:![];_0x43f893['mode']=_0x2de680?'auto':_0x5d2726(0x25c),_0x43f893[_0x5d2726(0x276)]=_0x251730?_0x251730[_0x5d2726(0x28c)][0x0][_0x5d2726(0x276)]:_0x5d2726(0x15d)+_0x1915f3;}catch(_0x3d5d54){_0x43f893[_0x5d2726(0x199)]=_0x5d2726(0x25c),_0x43f893[_0x5d2726(0x276)]=_0x5d2726(0x15d)+_0x1915f3;}}else _0x43f893['mode']='manual',_0x43f893['botname']='Bot\x20'+_0x1915f3;return _0x43f893;}function getBotsWithMode(){const _0x239726=_0x5aca56,_0x702b96=dbConfig['get']('bots')[_0x239726(0x16d)](_0x239726(0x175))[_0x239726(0x279)]()||[];return _0x702b96['forEach'](_0x290fd6=>{const _0x2914d6=_0x239726;let _0x12b55a=getBotAttributes(_0x290fd6['botID']);_0x290fd6[_0x2914d6(0x199)]=_0x12b55a['mode'];}),_0x702b96;}function getBotExchanges(){const _0x3d6884=_0x5aca56;let _0x35ff80=[];const _0x2656f5=dbConfig[_0x3d6884(0x178)]('bots')['sortBy'](_0x3d6884(0x175))['value']()||[];_0x2656f5['forEach'](_0x57fc04=>{const _0xc85059=_0x3d6884;if(_0x57fc04[_0xc85059(0x286)]==_0xc85059(0x184)){const _0x4b688c=configpath+'bot-'+_0x57fc04[_0xc85059(0x175)]+'-config.json',_0x18ee70=fs[_0xc85059(0x2cc)](_0x4b688c);let _0x2916cb;if(_0x18ee70){const _0x12e984=fs[_0xc85059(0x179)](_0x4b688c);try{const _0x580330=JSON[_0xc85059(0x12d)](_0x12e984);_0x2916cb=_0x580330?_0x580330[_0xc85059(0x28c)][0x0][_0xc85059(0x22b)]:null;}catch(_0x1ba8d0){}}if(_0x2916cb)_0x35ff80['push'](_0x2916cb);}});const _0x3d09ef=[...new Set(_0x35ff80)]['sort']();return _0x3d09ef;}async function initUser(){const _0x11b4f3=_0x5aca56;if(!settings[_0x11b4f3(0x21c)]){const _0x76573f=uuidRandom();mixpanel[_0x11b4f3(0x20b)](_0x76573f),updateSetting(_0x11b4f3(0x21c),_0x76573f);}}async function initSecure(){const _0x1d3eb4=_0x5aca56;let _0x22dffb=getSecure();if(!_0x22dffb[_0x1d3eb4(0x224)](_0x1d3eb4(0x14c))){let _0x214eba=await generateKeys();_0x22dffb[_0x1d3eb4(0x272)]=_0x214eba[_0x1d3eb4(0x272)],_0x22dffb[_0x1d3eb4(0x2a5)]=_0x214eba[_0x1d3eb4(0x2a5)],_0x22dffb['secret']=crypto[_0x1d3eb4(0x29b)](0x20)[_0x1d3eb4(0x1bd)](_0x1d3eb4(0x241));;storeSecure(_0x22dffb);}}function getSettings(){const _0x5a5a7a=_0x5aca56;return dbSettings['get'](_0x5a5a7a(0x191))['value']()||{};}function getSecure(){const _0x32f6e2=_0x5aca56;return dbSecure[_0x32f6e2(0x178)]('secure')[_0x32f6e2(0x279)]()||{};}function getBlacklist(){const _0x1919e7=_0x5aca56;return dbSecure[_0x1919e7(0x178)](_0x1919e7(0x17d))[_0x1919e7(0x279)]()||[];}function broadcastToBots(_0x130206,_0x54a08b){config['forEach'](_0x24321e=>{const _0x2c4cab=_0x58d3;if(_0x24321e[_0x2c4cab(0x286)]==_0x2c4cab(0x184)&&_0x24321e[_0x2c4cab(0x128)]==_0x2c4cab(0x23e)){if(pid[_0x24321e[_0x2c4cab(0x175)]])pid[_0x24321e[_0x2c4cab(0x175)]]['send']({[_0x130206]:_0x54a08b});}});}function storeSettings(_0x559517,_0x4b0be6=![]){const _0x463921=_0x5aca56;_0x559517={...settings,..._0x559517};if(_0x4b0be6&&_0x559517['bbPassword']!=_0x463921(0x18c)&&_0x559517[_0x463921(0x1f0)]!=_0x463921(0x1b5)&&_0x559517['bbPassword']!=''){const _0xf15558=crypt[_0x463921(0x1b2)](secure[_0x463921(0x2a5)],_0x559517[_0x463921(0x1f0)])[_0x463921(0x1b4)][_0x463921(0x153)]('@')[0x0],_0x4bd177=bcrypt['hashSync'](_0xf15558,saltRounds);_0x559517={..._0x559517,'bbPassword':_0x4bd177};}if(_0x4b0be6&&_0x559517[_0x463921(0x250)]!=_0x463921(0x18c)&&_0x559517['telegramToken']!='***'&&_0x559517[_0x463921(0x250)]!=''){const _0x7887f6=crypt[_0x463921(0x1b2)](secure['privateKey'],_0x559517[_0x463921(0x250)])['message']['split']('@')[0x0];_0x559517={..._0x559517,'telegramToken':_0x7887f6};}const _0x544f85=_0x559517[_0x463921(0x250)]!=_0x463921(0x18c)&&_0x559517['telegramToken']!=settings['telegramToken']||_0x559517[_0x463921(0x21a)]!=settings[_0x463921(0x21a)],_0x5ae377=_0x559517[_0x463921(0x250)]==''||_0x559517[_0x463921(0x21a)]=='';if(_0x544f85)_0x559517['telegramEvents']=_0x463921(0x238);for(const [_0x31204f,_0x5037ad]of Object[_0x463921(0x271)](_0x559517)){if(_0x31204f==_0x463921(0x250)&&_0x5037ad==_0x463921(0x18c)){_0x559517[_0x463921(0x250)]=settings[_0x463921(0x250)];continue;};if(_0x31204f==_0x463921(0x1f0)&&_0x5037ad=='************'){_0x559517[_0x463921(0x1f0)]=settings['bbPassword'];continue;};dbSettings[_0x463921(0x2c8)]('settings.'+_0x31204f,_0x5037ad)[_0x463921(0x253)]();}settings=_0x559517,io['to'](_0x463921(0x217))['emit'](_0x463921(0x191),cleanSettings()),broadcastToBots(_0x463921(0x119),settings[_0x463921(0x119)]);if(_0x544f85&&!_0x5ae377)initTelegram();if(_0x544f85&&_0x5ae377)disableTelegram();getAllClients()[_0x463921(0x297)](_0x1f14e3=>{const _0x1ebdb0=_0x463921;getSocket(_0x1f14e3['id'])[_0x1ebdb0(0x26f)](_0x1ebdb0(0x286),{'access':{'allow':![],'reason':_0x1ebdb0(0x2a2),'token':null}});});}function updateSetting(_0x954264,_0x7df3fd){const _0x4b7530=_0x5aca56;dbSettings[_0x4b7530(0x2c8)](_0x4b7530(0x157)+_0x954264,_0x7df3fd)[_0x4b7530(0x253)](),settings=getSettings(),io['to']('botmanager')[_0x4b7530(0x26f)]('settings',cleanSettings());}function storeSecure(_0x292930){const _0x17177b=_0x5aca56;dbSecure[_0x17177b(0x178)](_0x17177b(0x1de))[_0x17177b(0x280)](_0x292930)['write'](),secure=_0x292930;}function addBlacklist(_0x1b036f){const _0x2d176a=_0x5aca56;cleanBlacklist();let _0x1e45a7;devices[_0x1b036f][_0x2d176a(0x1e1)]?_0x1e45a7=Math[_0x2d176a(0x221)](devices[_0x1b036f]['telegramIpApproval'][_0x2d176a(0x16a)],loginExpiry):_0x1e45a7=loginExpiry,dbSecure[_0x2d176a(0x178)]('blacklist')['push']({'expiry':new Date()[_0x2d176a(0x29f)]()+_0x1e45a7*0x3c*0x3e8,'token':devices[_0x1b036f][_0x2d176a(0x16b)][_0x2d176a(0x126)]})[_0x2d176a(0x253)](),blacklist=dbSecure[_0x2d176a(0x178)](_0x2d176a(0x17d))['value']();}function cleanBlacklist(){const _0x854f0=_0x5aca56;let _0x1231eb=dbSecure[_0x854f0(0x178)](_0x854f0(0x17d))['cloneDeep']()[_0x854f0(0x279)](),_0x2d87c3=new Date()[_0x854f0(0x29f)]();_0x1231eb[_0x854f0(0x297)](_0x5290f7=>{const _0x4ceb93=_0x854f0;_0x5290f7['expiry']<_0x2d87c3&&dbSecure['get']('blacklist')[_0x4ceb93(0x218)]({'expiry':_0x5290f7[_0x4ceb93(0x16a)]})[_0x4ceb93(0x253)]();});}function initStates(){let _0x129b7b=getConfiguration();_0x129b7b['forEach'](_0xa371c9=>{const _0x1fc834=_0x58d3;_0xa371c9[_0x1fc834(0x128)]=_0x1fc834(0x14b);}),storeConfiguration(_0x129b7b);}function onKeys(){const _0x34c899=new RSA();return new Promise(_0x3ec21a=>{const _0x376cb8=_0x58d3;_0x34c899[_0x376cb8(0x1b3)]()['then'](_0x2ef53b=>{_0x3ec21a(_0x2ef53b);});});}function _0x58d3(_0x470937,_0x18e46b){const _0x33763b=_0xbdcf();return _0x58d3=function(_0x2633d1,_0x2d5601){_0x2633d1=_0x2633d1-0x119;let _0xbdcfcd=_0x33763b[_0x2633d1];return _0xbdcfcd;},_0x58d3(_0x470937,_0x18e46b);}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x18227d=_0x5aca56;let _0x3b0eb9=getSettings(),_0x44647c=![];!_0x3b0eb9[_0x18227d(0x224)](_0x18227d(0x1c9))&&(_0x3b0eb9[_0x18227d(0x1c9)]=0x0,_0x44647c=!![]);!_0x3b0eb9[_0x18227d(0x224)](_0x18227d(0x268))&&(_0x3b0eb9[_0x18227d(0x268)]=0x0,_0x44647c=!![]);!_0x3b0eb9['hasOwnProperty'](_0x18227d(0x27a))&&(_0x3b0eb9[_0x18227d(0x27a)]=_0x18227d(0x227),_0x44647c=!![]);if(_0x44647c)storeSettings(_0x3b0eb9);}function storeConfiguration(_0x3e75f9){const _0x34c08f=_0x5aca56;dbConfig[_0x34c08f(0x178)](_0x34c08f(0x2b8))['remove']()[_0x34c08f(0x253)](),_0x3e75f9[_0x34c08f(0x297)](_0x1f7e78=>{const _0x54788a=_0x34c08f;delete _0x1f7e78[_0x54788a(0x199)];}),dbConfig[_0x34c08f(0x178)](_0x34c08f(0x2b8))['push'](..._0x3e75f9)['write'](),config=_0x3e75f9;}function resetPassword(){const _0x1cd155=_0x5aca56;tgBot&&settings[_0x1cd155(0x2a9)]&&(tgBot[_0x1cd155(0x152)](_0x1cd155(0x274)),tgBot[_0x1cd155(0x144)](settings[_0x1cd155(0x2a9)],_0x1cd155(0x14f),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x1cd155(0x214),'callback_data':_0x1cd155(0x214)},{'text':'no','callback_data':'no'}]]}})[_0x1cd155(0x283)](_0x33df83=>{telegramError(_0x33df83);}),tgBot['on'](_0x1cd155(0x274),async _0x361051=>{const _0x2b5d45=_0x1cd155,_0x52ef1b=_0x361051[_0x2b5d45(0x127)],_0x259aa6=_0x361051['message'];tgBot[_0x2b5d45(0x257)](_0x361051['id'])[_0x2b5d45(0x26e)](async()=>{const _0x13b884=_0x2b5d45;if(_0x52ef1b!='no'){const _0x119ee3=0xf,_0x1339be=_0x13b884(0x136),_0x102c85=Array[_0x13b884(0x170)](crypto[_0x13b884(0x124)](new Uint32Array(_0x119ee3)))[_0x13b884(0x206)](_0x121204=>_0x1339be[_0x121204%_0x1339be[_0x13b884(0x264)]])[_0x13b884(0x1ed)](''),_0x5ea6ad=bcrypt['hashSync'](_0x102c85,saltRounds);storeSettings({'bbPassword':_0x5ea6ad}),await tgBot[_0x13b884(0x144)](_0x259aa6['chat']['id'],'Password\x20has\x20been\x20reset\x20to:\x20'+_0x102c85,{'parse_mode':'HTML'})[_0x13b884(0x283)](_0x2bc225=>{telegramError(_0x2bc225);});}else await tgBot[_0x13b884(0x144)](_0x259aa6[_0x13b884(0x1f4)]['id'],_0x13b884(0x233))[_0x13b884(0x283)](_0x245693=>{telegramError(_0x245693);});}),tgBot[_0x2b5d45(0x152)](_0x2b5d45(0x274));}));}async function confirmRestore(_0x25258b,_0x145ad0){const _0x5c133c=_0x5aca56;io['to'](_0x5c133c(0x217))[_0x5c133c(0x26f)](_0x5c133c(0x256),'Please\x20confirm\x20restoring\x20in\x20your\x20Telegram\x20bot',_0x5c133c(0x1f7)),tgBot&&settings[_0x5c133c(0x2a9)]&&(tgBot[_0x5c133c(0x152)](_0x5c133c(0x274)),await tgBot['sendMessage'](settings['telegramChatId'],_0x5c133c(0x190),{'parse_mode':_0x5c133c(0x148),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x5c133c(0x214)},{'text':'no','callback_data':'no'}]]}})[_0x5c133c(0x283)](_0x40f744=>{telegramError(_0x40f744);}),tgBot['on']('callback_query',async _0x2ecad5=>{const _0x1d679e=_0x5c133c,_0xb17ff3=_0x2ecad5[_0x1d679e(0x127)],_0x57d271=_0x2ecad5[_0x1d679e(0x1b4)];tgBot[_0x1d679e(0x257)](_0x2ecad5['id'])[_0x1d679e(0x26e)](async()=>{const _0x54c2c0=_0x1d679e;_0xb17ff3==_0x54c2c0(0x214)?(await tgBot['sendMessage'](_0x57d271['chat']['id'],_0x54c2c0(0x2bb),{'parse_mode':_0x54c2c0(0x148)})[_0x54c2c0(0x283)](_0x51bb96=>{telegramError(_0x51bb96);}),unzipFile(_0x25258b,_0x145ad0)):(logger['debug']('Restore\x20process\x20aborted'),await tgBot[_0x54c2c0(0x144)](_0x57d271[_0x54c2c0(0x1f4)]['id'],_0x54c2c0(0x261))[_0x54c2c0(0x283)](_0x4899b4=>{telegramError(_0x4899b4);}));}),tgBot[_0x1d679e(0x152)]('callback_query');}));}function getServerTime(){const _0x893bfc=_0x5aca56,_0x1383c2=new Date();return _0x1383c2[_0x893bfc(0x129)]()+'/'+(_0x1383c2['getMonth']()+0x1)[_0x893bfc(0x1bd)]()['padStart'](0x2,'0')+'/'+_0x1383c2[_0x893bfc(0x2aa)]()['toString']()[_0x893bfc(0x1ab)](0x2,'0')+'\x20'+_0x1383c2[_0x893bfc(0x258)]()[_0x893bfc(0x1bd)]()[_0x893bfc(0x1ab)](0x2,'0')+':'+_0x1383c2[_0x893bfc(0x198)]()[_0x893bfc(0x1bd)]()[_0x893bfc(0x1ab)](0x2,'0')+':'+_0x1383c2['getSeconds']()[_0x893bfc(0x1bd)]()[_0x893bfc(0x1ab)](0x2,'0');}function getTimeStamp(){const _0x311517=_0x5aca56,_0x34ba54=shiftedTime();return _0x34ba54[_0x311517(0x129)]()+'/'+(_0x34ba54[_0x311517(0x171)]()+0x1)[_0x311517(0x1bd)]()[_0x311517(0x1ab)](0x2,'0')+'/'+_0x34ba54[_0x311517(0x2aa)]()['toString']()[_0x311517(0x1ab)](0x2,'0')+'\x20'+_0x34ba54[_0x311517(0x258)]()[_0x311517(0x1bd)]()['padStart'](0x2,'0')+':'+_0x34ba54[_0x311517(0x198)]()[_0x311517(0x1bd)]()[_0x311517(0x1ab)](0x2,'0')+':'+_0x34ba54[_0x311517(0x236)]()[_0x311517(0x1bd)]()['padStart'](0x2,'0');}function getCleanTimeStamp(){const _0x32b399=_0x5aca56,_0x563f97=shiftedTime();return _0x563f97[_0x32b399(0x129)]()+(_0x563f97[_0x32b399(0x171)]()+0x1)['toString']()[_0x32b399(0x1ab)](0x2,'0')+_0x563f97[_0x32b399(0x2aa)]()['toString']()['padStart'](0x2,'0')+'-'+_0x563f97[_0x32b399(0x258)]()['toString']()[_0x32b399(0x1ab)](0x2,'0')+_0x563f97[_0x32b399(0x198)]()[_0x32b399(0x1bd)]()[_0x32b399(0x1ab)](0x2,'0')+_0x563f97['getSeconds']()[_0x32b399(0x1bd)]()[_0x32b399(0x1ab)](0x2,'0');}function shiftedTime(){const _0x13faf5=_0x5aca56,_0x36275b=new Date();let _0xf54bd=_0x36275b;if(settings[_0x13faf5(0x119)]&&settings[_0x13faf5(0x119)]!==0x0)_0xf54bd=fns[_0x13faf5(0x1fb)](_0x36275b,{'hours':settings[_0x13faf5(0x119)]});return _0xf54bd;}function startScheduler(){const _0x41f652=_0x5aca56,_0x167973=new Date()[_0x41f652(0x1f5)](),_0x649429=shiftedTime()[_0x41f652(0x258)]();_0x649429==0x4&&backupConfigFiles();_0x649429==0x0&&rotateLogFiles();_0x167973%0x6==0x0&&triggerAnalytics();_0x167973%0x6==0x0&&getMessages();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}async function restoreBackupFile(_0x1598ff){const _0x465fcf=_0x5aca56;logger[_0x465fcf(0x21e)](_0x465fcf(0x222)+_0x1598ff);const _0x29d2c7=getBotsWithMode();_0x29d2c7[_0x465fcf(0x264)]>0x0?confirmRestore(configbackuppath,_0x1598ff):unzipFile(configbackuppath,_0x1598ff);}async function getBackupFiles(_0x1b0697=null){const _0x56b39c=_0x5aca56;let _0x25676c=[],_0xfb6ecb=fs[_0x56b39c(0x298)](configbackuppath,{'withFileTypes':!![]});_0xfb6ecb[_0x56b39c(0x2ce)]((_0x4930a3,_0x213469)=>_0x4930a3[_0x56b39c(0x26d)]<_0x213469[_0x56b39c(0x26d)]?0x1:_0x213469[_0x56b39c(0x26d)]<_0x4930a3[_0x56b39c(0x26d)]?-0x1:0x0),_0xfb6ecb[_0x56b39c(0x297)](_0x372549=>{const _0x50763f=_0x56b39c;if(!_0x372549['isDirectory']()&&_0x372549[_0x50763f(0x26d)][_0x50763f(0x12e)]('backup-full@')&&_0x372549[_0x50763f(0x26d)][_0x50763f(0x21d)](_0x50763f(0x234))){const _0x5afd33=formatDate(fs['statSync'](configbackuppath+_0x372549[_0x50763f(0x26d)])[_0x50763f(0x284)]);_0x25676c['push']({'name':_0x372549[_0x50763f(0x26d)],'mtime':_0x5afd33});}});if(_0x1b0697)io['to'](_0x1b0697)[_0x56b39c(0x26f)](_0x56b39c(0x23b),_0x25676c);else return _0x25676c;}async function backupConfigFiles(){const _0x4c3ee2=_0x5aca56;await zipFiles(_0x4c3ee2(0x25d));const _0x141c16=getCleanTimeStamp();fs[_0x4c3ee2(0x1ca)](zippath+_0x4c3ee2(0x137),configbackuppath+(_0x4c3ee2(0x2ca)+_0x141c16+_0x4c3ee2(0x234)));let _0x22c240=fs[_0x4c3ee2(0x298)](configbackuppath,{'withFileTypes':!![]});_0x22c240[_0x4c3ee2(0x2ce)]((_0x2c8f05,_0x416827)=>_0x2c8f05[_0x4c3ee2(0x26d)]<_0x416827[_0x4c3ee2(0x26d)]?0x1:_0x416827[_0x4c3ee2(0x26d)]<_0x2c8f05['name']?-0x1:0x0),_0x22c240[_0x4c3ee2(0x264)]>maxBackups&&fs[_0x4c3ee2(0x23f)](configbackuppath+_0x22c240[maxBackups][_0x4c3ee2(0x26d)]);}function rotateLogFiles(){const _0x30628c=_0x5aca56,_0x4e379c=fs[_0x30628c(0x18b)](logspath+_0x30628c(0x19c)),_0x625323=_0x4e379c[_0x30628c(0x239)]/0x400;if(_0x625323>0x32){let _0x1aa96=fs[_0x30628c(0x298)](logspath,{'withFileTypes':!![]});_0x1aa96[_0x30628c(0x2ce)]((_0xe82a14,_0x45d09c)=>_0xe82a14[_0x30628c(0x26d)]<_0x45d09c[_0x30628c(0x26d)]?0x1:_0x45d09c['name']<_0xe82a14[_0x30628c(0x26d)]?-0x1:0x0),_0x1aa96[_0x30628c(0x297)](_0x59d4cb=>{const _0xb4cb97=_0x30628c;if(_0x59d4cb[_0xb4cb97(0x26d)]=='output-002.log')fs[_0xb4cb97(0x1ca)](logspath+_0x59d4cb[_0xb4cb97(0x26d)],logspath+_0xb4cb97(0x1a7));if(_0x59d4cb[_0xb4cb97(0x26d)]==_0xb4cb97(0x219))fs[_0xb4cb97(0x1ca)](logspath+_0x59d4cb[_0xb4cb97(0x26d)],logspath+'output-002.log');_0x59d4cb[_0xb4cb97(0x26d)]==_0xb4cb97(0x19c)&&(fs[_0xb4cb97(0x1ca)](logspath+_0x59d4cb[_0xb4cb97(0x26d)],logspath+_0xb4cb97(0x219)),fs[_0xb4cb97(0x180)](logspath+_0x59d4cb[_0xb4cb97(0x26d)],''));});}}async function zipFiles(_0x438ea0){const _0x430b00=_0x5aca56;let _0x39654a;if(_0x438ea0==_0x430b00(0x27c))_0x39654a=logspath;if(_0x438ea0=='backup')_0x39654a=configpath;if(_0x438ea0==_0x430b00(0x25d))_0x39654a=configpath;let _0x4cbf2a=fs[_0x430b00(0x298)](_0x39654a,{'withFileTypes':!![]});const _0x3aaacf=new require(_0x430b00(0x133))();_0x4cbf2a['forEach'](_0x572adc=>{const _0x2df7fc=_0x430b00;if(!_0x572adc[_0x2df7fc(0x20f)]()){let _0x1af98e=fs[_0x2df7fc(0x179)](_0x39654a+_0x572adc[_0x2df7fc(0x26d)]);if(_0x438ea0==_0x2df7fc(0x2b7)){const _0x22b20e=/^bot-[0-9]{3}-config.json$/,_0x32f3ce=_0x22b20e[_0x2df7fc(0x265)](_0x572adc['name']);if(_0x32f3ce){const _0x3e50c9=JSON[_0x2df7fc(0x12d)](_0x1af98e);_0x3e50c9['bot'][0x0]&&(_0x3e50c9['bot'][0x0][_0x2df7fc(0x229)]=_0x2df7fc(0x1b5),_0x3e50c9[_0x2df7fc(0x28c)][0x0][_0x2df7fc(0x132)]=_0x2df7fc(0x1b5)),_0x1af98e=JSON[_0x2df7fc(0x163)](_0x3e50c9,null,0x2);}if(_0x572adc['name']==_0x2df7fc(0x13d)){const _0x373e23=JSON['parse'](_0x1af98e);if(_0x373e23[_0x2df7fc(0x191)][_0x2df7fc(0x1c2)])_0x373e23[_0x2df7fc(0x191)]['loginRequired']=![];if(_0x373e23[_0x2df7fc(0x191)]['bbPassword'])_0x373e23[_0x2df7fc(0x191)][_0x2df7fc(0x1f0)]=_0x2df7fc(0x1b5);if(_0x373e23[_0x2df7fc(0x191)][_0x2df7fc(0x250)])_0x373e23[_0x2df7fc(0x191)][_0x2df7fc(0x250)]=_0x2df7fc(0x1b5);if(_0x373e23[_0x2df7fc(0x191)][_0x2df7fc(0x2a9)])_0x373e23[_0x2df7fc(0x191)][_0x2df7fc(0x2a9)]=null;_0x1af98e=JSON[_0x2df7fc(0x163)](_0x373e23,null,0x2);}if(_0x572adc[_0x2df7fc(0x26d)]!=_0x2df7fc(0x15e))_0x3aaacf[_0x2df7fc(0x294)](_0x572adc[_0x2df7fc(0x26d)],_0x1af98e);}else _0x3aaacf[_0x2df7fc(0x294)](_0x572adc['name'],_0x1af98e);}});const _0x15a2b4=_0x3aaacf[_0x430b00(0x223)]({'base64':![],'compression':'DEFLATE'});fs[_0x430b00(0x180)](zippath+(_0x438ea0+_0x430b00(0x234)),_0x15a2b4,_0x430b00(0x1b1));}async function unzipFile(_0x3ecad2,_0x202e9e){const _0x43eb41=_0x5aca56;fs['readdirSync'](configpath,{'withFileTypes':!![]})[_0x43eb41(0x297)](_0x302e6e=>{const _0x2acd68=_0x43eb41;if(!_0x302e6e[_0x2acd68(0x20f)]())fs[_0x2acd68(0x149)](configpath+_0x302e6e[_0x2acd68(0x26d)]);});const _0x37370b=fs['readFileSync'](_0x3ecad2+_0x202e9e,_0x43eb41(0x1b1)),_0x5992e5=new require(_0x43eb41(0x133))(_0x37370b,{'base64':![],'checkCRC32':!![]});Object['keys'](_0x5992e5[_0x43eb41(0x1f3)])[_0x43eb41(0x297)](_0x219492=>{const _0x540c47=_0x43eb41,_0xa2df5d=_0x5992e5[_0x540c47(0x1f3)][_0x219492];fs[_0x540c47(0x180)](configpath+_0xa2df5d[_0x540c47(0x26d)],_0xa2df5d['_data']);}),fs[_0x43eb41(0x298)](temppath,{'withFileTypes':!![]})[_0x43eb41(0x297)](_0x4d5bef=>{const _0x501323=_0x43eb41;if(!_0x4d5bef[_0x501323(0x20f)]())fs['rmSync'](temppath+_0x4d5bef['name']);}),logger[_0x43eb41(0x21e)]('Backup\x20file\x20unzipped\x20and\x20stored'),process['send']({'restore':!![]},_0x48d4aa=>{});}async function getPublicIp(){const _0x3c7838=_0x5aca56;try{const _0x52cfe5=await axios['get']('https://api.ipify.org?format=json');publicip=_0x52cfe5[_0x3c7838(0x127)]['ip'];}catch(_0x38336a){}}async function triggerAnalytics(){const _0x423f7a=_0x5aca56;if(!publicip)await getPublicIp();const _0x562140=getBotsWithMode();let _0x310da2=0x0;_0x562140[_0x423f7a(0x297)](_0x47d092=>{const _0x57916e=_0x423f7a;if(_0x47d092[_0x57916e(0x286)]==='enabled')_0x310da2++;});const _0xaced63=getBotExchanges();mixpanel[_0x423f7a(0x205)](_0x423f7a(0x2a1),{'distinct_id':settings[_0x423f7a(0x21c)],'ip':publicip,'version':serverversion,'numbots':_0x562140['length'],'numbotsenabled':_0x310da2,'exchanges':_0xaced63});}async function getMessages(){const _0x332add=_0x5aca56,_0x118071=_0x332add(0x139),_0x31ef41=new GraphQLClient(_0x118071),_0x2e4141={'authorization':_0x332add(0x182)},_0x40ed36=serverversion[_0x332add(0x153)]('.'),_0x429d22=_0x40ed36[0x0]+'.'+_0x40ed36[0x1],_0x1f3db3=Math[_0x332add(0x131)](settings[_0x332add(0x1c9)],settings[_0x332add(0x268)]),_0xb0ab12={'last':parseInt(_0x1f3db3),'bbm':_0x429d22},_0x2fa135=gql`
            query getMessages($bbm: String!, $last: Int!) {
                messages(where: {
                    number_gt: $last
                    OR: [
                    {bbvReceive: "any"},
                    {bbvReceive_contains: $bbm}
                    ]
                    archived_not: true
                }, orderBy: number_ASC) {
                    id
                    number
                    bbvReceive
                    bbvNew
                    title
                    message
                    dialogWidth
                    lock
                }
            }
            `;let _0x3568a6;try{_0x3568a6=await _0x31ef41[_0x332add(0x22e)](_0x2fa135,_0xb0ab12,_0x2e4141);}catch(_0x15bc77){}if(_0x3568a6&&_0x3568a6[_0x332add(0x22c)]){let _0x56fe7f=settings[_0x332add(0x1c9)];newMessages=[];for(const _0x42d959 of _0x3568a6[_0x332add(0x22c)]){newMessages[_0x332add(0x280)](_0x42d959);if(_0x42d959[_0x332add(0x185)])updateSetting(_0x332add(0x27a),_0x42d959[_0x332add(0x185)]);let _0x18a9f0=_0x42d959['bbvNew']?serverversion>=_0x42d959[_0x332add(0x185)]:![];if(!_0x18a9f0&&_0x42d959['number']>_0x56fe7f){if(_0x42d959[_0x332add(0x28a)]==='any'||serverversion[_0x332add(0x12e)](_0x42d959[_0x332add(0x28a)])){let _0x4ed6d1=''+_0x42d959[_0x332add(0x196)]+'\x0a\x0a'+_0x42d959[_0x332add(0x1b4)];const _0x2867d0=await sendTelegramMsg(toTelegramMarkdown(_0x4ed6d1),_0x332add(0x1ea));if(_0x2867d0)_0x56fe7f=_0x42d959['number'];}}}updateAvailable=isNewerVersion(settings[_0x332add(0x27a)],serverversion),updateSetting(_0x332add(0x1c9),_0x56fe7f),emitMessages();}}function emitMessages(){const _0x12b261=_0x5aca56,_0x21b3e4=settings[_0x12b261(0x268)];let _0x20b777=[];newMessages['forEach'](_0x2c8f91=>{const _0x6e7cf1=_0x12b261;_0x2c8f91['number']>_0x21b3e4&&_0x20b777[_0x6e7cf1(0x280)](_0x2c8f91);}),_0x20b777[_0x12b261(0x264)]>0x0&&getAllClients()[_0x12b261(0x297)](_0x8addc9=>{const _0x56ee08=_0x12b261;getSocket(_0x8addc9['id'])[_0x56ee08(0x26f)](_0x56ee08(0x1b4),_0x20b777);});}function confirmMessage(_0xed07b1){const _0x363aa1=_0x5aca56;updateSetting(_0x363aa1(0x268),Number(_0xed07b1));}function isNewerVersion(_0x38a2de,_0x2f9714){const _0x2a79e4=_0x5aca56,_0x23fab3=_0x2f9714[_0x2a79e4(0x153)]('.'),_0x406f38=_0x38a2de['split']('.');for(var _0x1b7089=0x0;_0x1b7089<_0x406f38[_0x2a79e4(0x264)];_0x1b7089++){const _0x4c05e0=~~_0x406f38[_0x1b7089],_0x218cd1=~~_0x23fab3[_0x1b7089];if(_0x4c05e0>_0x218cd1)return!![];if(_0x4c05e0<_0x218cd1)return![];}return![];}function toTelegramMarkdown(_0xbec084){const _0x71e7f9=_0x5aca56,_0x292713=/(^|[^\*])\*{1}([^\*.]+?)\*{1}([^\*]|$)/gim,_0x54b481=/\*{2}(.+?)\*{2}/gim;return _0xbec084=_0xbec084[_0x71e7f9(0x1b9)](_0x292713,_0x71e7f9(0x154))[_0x71e7f9(0x1b9)](_0x54b481,'*$1*'),_0xbec084;}async function validateConfigFile(){const _0x477112=_0x5aca56,_0x4962ef=dbConfig['get'](_0x477112(0x2b8))['sortBy']('botID')[_0x477112(0x279)]()||[];if(_0x4962ef[_0x477112(0x264)]==0x0){let _0x4d83e4=0x0,_0x2b7461=[];const _0x3c5d6f=/^bot-([0-9]{3})-config.json$/,_0x25d139=fs[_0x477112(0x298)](configpath);_0x25d139[_0x477112(0x297)](_0x57a3c5=>{const _0x326836=_0x477112,_0x39eda4=_0x3c5d6f['exec'](_0x57a3c5);if(_0x39eda4){const _0x3125a6=_0x39eda4[0x1];let _0x4ae51d=getBotAttributes(_0x3125a6);_0x2b7461['push']({'botID':_0x3125a6,'botname':_0x4ae51d[_0x326836(0x276)],'status':_0x326836(0x2be),'live':_0x326836(0x14b)}),_0x4d83e4++;}}),_0x4d83e4!=0x0&&(dbConfig[_0x477112(0x178)](_0x477112(0x2b8))['assign'](_0x2b7461)[_0x477112(0x253)](),config=_0x2b7461,restoredConfigFile=_0x4d83e4);}}async function restoreConfigNotify(_0x3c4c14){const _0x752d29=_0x5aca56;let _0x41c425;if(restoredConfigFile==0x1)_0x41c425=_0x752d29(0x1bb);else _0x41c425=_0x752d29(0x202);if(_0x3c4c14)io['to'](_0x752d29(0x217))[_0x752d29(0x26f)]('notification',_0x41c425);else{logger['simple'](_0x752d29(0x213)),logger[_0x752d29(0x150)](_0x41c425),logger[_0x752d29(0x150)]('-----------------------------------------------------------------------------------'),logger[_0x752d29(0x150)]('');if(tgBot&&settings['telegramChatId']&&settings[_0x752d29(0x174)]!=_0x752d29(0x26a))tgBot[_0x752d29(0x144)](settings['telegramChatId'],_0x752d29(0x244)+_0x41c425)['catch'](_0x57cfa8=>{telegramError(_0x57cfa8);});}}function validateCredentials(_0x59ed38,_0x16d7d9){const _0x3c3000=_0x5aca56;if(_0x59ed38[_0x3c3000(0x230)]==settings[_0x3c3000(0x168)]&&bcrypt[_0x3c3000(0x1d9)](_0x59ed38['password'],settings[_0x3c3000(0x1f0)])){if(settings[_0x3c3000(0x161)])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x1c4e4a=generateLoginToken(_0x16d7d9);return{'allow':!![],'reason':_0x3c3000(0x285),'token':_0x1c4e4a};}}else return{'allow':![],'reason':'invalid\x20credentials','token':null};}function refreshToken(_0x3ebf66){const _0x4dfd7f=_0x5aca56,_0x446872=generateLoginToken(_0x3ebf66);return{'allow':!![],'reason':_0x4dfd7f(0x285),'token':_0x446872};}function validateAccess(_0x3b87c0,_0x3d1be4,_0x2e0524){const _0xc06068=_0x5aca56,_0x17a0d3=_0x2e0524?_0x2e0524:devices[_0x3d1be4]['ip'];let _0x24a465;const _0x281d5f=_0x45788f=>{const _0x1a575e=_0x58d3;if(settings['loginRequired']){if(settings['f2aRequired']){if(telegram2FaApproved(_0x3d1be4)){const _0x3c19fe=generateLoginToken(_0x3d1be4);return{'allow':!![],'reason':'2FA\x20login\x20token\x20generated','token':_0x3c19fe};}else return{'allow':![],'reason':_0x1a575e(0x2c6),'token':null};}else return _0x24a465=validToken(_0x45788f,_0x3d1be4),_0x24a465[_0x1a575e(0x224)](_0x1a575e(0x1f7))?{'allow':!![],'reason':_0x1a575e(0x249),'token':_0x45788f}:{'allow':![],'reason':_0x1a575e(0x2c6),'token':null};}else return{'allow':!![],'reason':_0x1a575e(0x1ae),'token':null};};if(settings['whitelistEnabled']){let _0x4bae80=[...settings['whitelist'],_0xc06068(0x1ff),_0xc06068(0x201),_0xc06068(0x19b)];if(_0x4bae80['includes'](_0x17a0d3))return _0x281d5f(_0x3b87c0);else{_0x24a465=validToken(_0x3b87c0,_0x3d1be4);if(_0x24a465[_0xc06068(0x224)](_0xc06068(0x1f7)))return _0x281d5f(_0x3b87c0);else{if(telegramIpApproved(_0x3d1be4)){const _0x3655dd=generateToken(_0x3d1be4);return _0x24a465=_0x281d5f(_0x3b87c0),_0x24a465[_0xc06068(0x156)]?{'allow':!![],'reason':'temporary\x20token\x20generated','token':_0x3655dd}:_0x24a465;}else return settings[_0xc06068(0x1a6)]?{'allow':![],'reason':_0xc06068(0x16f),'token':null}:{'allow':![],'reason':_0xc06068(0x1fa),'token':null};}}}else return _0x281d5f(_0x3b87c0);}function timelyDecrypt(_0x590c6b,_0x103182=!![]){const _0x34c7ef=_0x5aca56;if(_0x590c6b)try{const _0x5c8b58=crypt[_0x34c7ef(0x1b2)](secure[_0x34c7ef(0x2a5)],_0x590c6b)[_0x34c7ef(0x1b4)],_0x46b3e7=_0x5c8b58[_0x34c7ef(0x153)]('@')[0x0],_0x440321=_0x5c8b58[_0x34c7ef(0x153)]('@')[0x1],_0x2ba5c5=new Date()[_0x34c7ef(0x29f)]();if(_0x103182){if(_0x2ba5c5-_0x440321<maxSecretAge*0x3e8)return _0x46b3e7;else return![];}else return _0x46b3e7;}catch(_0x483155){return![];}else return![];}const validToken=(_0x432416,_0x419c47)=>{const _0x46c867=_0x5aca56,_0x3887de=devices[_0x419c47]['ip'];if(!_0x432416)return{'error':'No\x20authentication\x20token'};for(let _0xe210f7 of blacklist){if(_0xe210f7[_0x46c867(0x126)]==_0x432416)return{'error':_0x46c867(0x2b0)};}let _0xc8e399;try{_0xc8e399=jwt[_0x46c867(0x1c5)](_0x432416,secure[_0x46c867(0x14c)]+_0x419c47);}catch{return{'error':'Invalid\x20authentication\x20token\x20(1)'};}if(!_0xc8e399[_0x46c867(0x224)](_0x46c867(0x2b2))&&!_0xc8e399[_0x46c867(0x224)]('username')||!_0xc8e399[_0x46c867(0x224)](_0x46c867(0x1d4)))return{'error':'Invalid\x20authentication\x20token\x20(2)'};if(!_0xc8e399[_0x46c867(0x224)](_0x46c867(0x230))&&_0xc8e399[_0x46c867(0x224)](_0x46c867(0x2b2))){const {clientip:_0x36b4e4}=_0xc8e399;return _0x3887de==_0x36b4e4?{'success':_0x46c867(0x11b)}:{'error':_0x46c867(0x1a0)};}else{if(_0xc8e399[_0x46c867(0x224)](_0x46c867(0x230))&&_0xc8e399[_0x46c867(0x224)]('clientip')){const {username:_0x388549,clientip:_0x1a67f2}=_0xc8e399;return settings[_0x46c867(0x168)]==_0x388549&&_0x3887de==_0x1a67f2?{'success':_0x46c867(0x11b)}:{'error':_0x46c867(0x255)};}}},generateLoginToken=_0x14470a=>{const _0xdb5702=_0x5aca56;if(_0x14470a){const _0x43a731=devices[_0x14470a]['ip'];return jwt[_0xdb5702(0x158)]({'username':settings[_0xdb5702(0x168)],'clientip':_0x43a731},secure[_0xdb5702(0x14c)]+_0x14470a,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x3710ef=>{const _0x36aa10=_0x5aca56;if(_0x3710ef){const _0x5b66d5=devices[_0x3710ef]['ip'];return jwt['sign']({'clientip':_0x5b66d5},secure[_0x36aa10(0x14c)]+_0x3710ef,{'expiresIn':devices[_0x3710ef][_0x36aa10(0x1e1)][_0x36aa10(0x16a)]*0x3c});}else return![];},telegramIpApproved=_0x1d89e9=>{const _0x18fde6=_0x5aca56;let _0x481ecd=![];return devices[_0x1d89e9][_0x18fde6(0x1e1)]&&devices[_0x1d89e9]['telegramIpApproval'][_0x18fde6(0x16a)]!=_0x18fde6(0x1a2)&&(_0x481ecd=devices[_0x1d89e9][_0x18fde6(0x1e1)][_0x18fde6(0x2b2)]==devices[_0x1d89e9]['ip']&&new Date()[_0x18fde6(0x29f)]()-devices[_0x1d89e9][_0x18fde6(0x1e1)][_0x18fde6(0x189)]<devices[_0x1d89e9]['telegramIpApproval']['expiry']*0x3c*0x3e8),_0x481ecd;},telegram2FaApproved=_0x53237c=>{const _0x3f1939=_0x5aca56;let _0x87a72d=![];return devices[_0x53237c][_0x3f1939(0x195)]&&devices[_0x53237c][_0x3f1939(0x195)]['expiry']!=_0x3f1939(0x1a2)&&(_0x87a72d=devices[_0x53237c]['telegram2FaApproval'][_0x3f1939(0x2b2)]==devices[_0x53237c]['ip']&&new Date()[_0x3f1939(0x29f)]()-devices[_0x53237c]['telegram2FaApproval']['timestamp']<devices[_0x53237c][_0x3f1939(0x195)]['expiry']*0x3c*0x3e8),_0x87a72d;},normalizeIP=_0x5c3e49=>{const _0x30c6bd=_0x5aca56;let _0x4ce53f=null,_0xf1612d=null;if(ipaddr[_0x30c6bd(0x2ae)](_0x5c3e49)){const _0x1a4df7=ipaddr[_0x30c6bd(0x12d)](_0x5c3e49);_0x1a4df7['kind']()===_0x30c6bd(0x123)?(_0x1a4df7[_0x30c6bd(0x173)]()&&(_0x4ce53f=_0x1a4df7[_0x30c6bd(0x1ac)]()[_0x30c6bd(0x1bd)]()),_0xf1612d=_0x1a4df7[_0x30c6bd(0x1bd)]()):(_0x4ce53f=_0x1a4df7[_0x30c6bd(0x1bd)](),_0xf1612d=_0x1a4df7[_0x30c6bd(0x20e)]()['toString']());}return{'show':_0x4ce53f?_0x4ce53f:_0xf1612d,'store':_0xf1612d};};function formatDate(_0x92d01c){const _0x3ab2cb=_0x5aca56;return _0x92d01c['getFullYear']()+'/'+(_0x92d01c['getMonth']()+0x1)[_0x3ab2cb(0x1bd)]()[_0x3ab2cb(0x1ab)](0x2,'0')+'/'+_0x92d01c[_0x3ab2cb(0x2aa)]()[_0x3ab2cb(0x1bd)]()[_0x3ab2cb(0x1ab)](0x2,'0')+'\x20'+_0x92d01c['getHours']()[_0x3ab2cb(0x1bd)]()[_0x3ab2cb(0x1ab)](0x2,'0')+':'+_0x92d01c[_0x3ab2cb(0x198)]()[_0x3ab2cb(0x1bd)]()[_0x3ab2cb(0x1ab)](0x2,'0')+':'+_0x92d01c['getSeconds']()[_0x3ab2cb(0x1bd)]()[_0x3ab2cb(0x1ab)](0x2,'0');}function sleep(_0x278907){return new Promise(_0x1733a8=>setTimeout(_0x1733a8,_0x278907));}