const _0x26830c=_0x150e;(function(_0x1097d0,_0xf8bf9d){const _0x566063=_0x150e,_0x36375d=_0x1097d0();while(!![]){try{const _0x5a52eb=-parseInt(_0x566063(0x1df))/0x1+parseInt(_0x566063(0x1af))/0x2*(parseInt(_0x566063(0x219))/0x3)+parseInt(_0x566063(0x2ad))/0x4*(-parseInt(_0x566063(0x297))/0x5)+parseInt(_0x566063(0x211))/0x6+parseInt(_0x566063(0x18a))/0x7*(parseInt(_0x566063(0x22f))/0x8)+-parseInt(_0x566063(0x2a9))/0x9*(parseInt(_0x566063(0x221))/0xa)+-parseInt(_0x566063(0x23e))/0xb*(-parseInt(_0x566063(0x24c))/0xc);if(_0x5a52eb===_0xf8bf9d)break;else _0x36375d['push'](_0x36375d['shift']());}catch(_0x310a59){_0x36375d['push'](_0x36375d['shift']());}}}(_0x5516,0x91578));const _0x289d2c=function(){let _0x2891b1=!![];return function(_0x5dae0d,_0x12bea7){const _0x5125cc=_0x2891b1?function(){if(_0x12bea7){const _0x202824=_0x12bea7['apply'](_0x5dae0d,arguments);return _0x12bea7=null,_0x202824;}}:function(){};return _0x2891b1=![],_0x5125cc;};}(),_0x54ee1a=_0x289d2c(this,function(){const _0x305f4c=_0x150e;return _0x54ee1a[_0x305f4c(0x220)]()['search'](_0x305f4c(0x210))[_0x305f4c(0x220)]()[_0x305f4c(0x263)](_0x54ee1a)[_0x305f4c(0x2b2)](_0x305f4c(0x210));});_0x54ee1a();'use strict';process[_0x26830c(0x2af)]['NTBA_FIX_319']=0x1;const childProcess=require('child_process'),FileSync=require(_0x26830c(0x25f)),fs=require('fs'),fns=require(_0x26830c(0x277)),low=require('lowdb'),path=require(_0x26830c(0x19d)),crypto=require('crypto'),Crypt=require('hybrid-crypto-js')['Crypt'],RSA=require('hybrid-crypto-js')[_0x26830c(0x23b)],bcrypt=require(_0x26830c(0x283)),jwt=require(_0x26830c(0x17f)),analyticsLib=require(_0x26830c(0x1e8))['default'],googleAnalytics=require(_0x26830c(0x2b1))[_0x26830c(0x1a4)],ipaddr=require(_0x26830c(0x1be)),argv=require(_0x26830c(0x185))(process[_0x26830c(0x19c)][_0x26830c(0x174)](0x2))['argv'],PORT=argv['port']||'3000',pattern=/^[0-9]{2,4}$/;if(!pattern[_0x26830c(0x1ff)](PORT))return console[_0x26830c(0x254)](_0x26830c(0x292)+PORT+',\x20must\x20be\x20a\x204\x20digit\x20number'),process[_0x26830c(0x1d0)](0x1);const HOST=argv[_0x26830c(0x189)]||null,userID=argv[_0x26830c(0x1d3)]||'';let bbpath='bb/',bbpath2='';const botfile=_0x26830c(0x21d),configfile=_0x26830c(0x176),settingsfile=_0x26830c(0x26d),securefile=_0x26830c(0x19e);!fs[_0x26830c(0x17c)](bbpath+botfile)&&(bbpath='');const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x26830c(0x20f)),configpath=userID?bbpath+_0x26830c(0x202)+userID+'/':bbpath+_0x26830c(0x202),configbackuppath=configpath+'backup/';!fs[_0x26830c(0x17c)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x26830c(0x17c)](configbackuppath)&&fs[_0x26830c(0x2b0)](configbackuppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig['defaults']({'bots':[]})['write']();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x26830c(0x17e)]({'settings':{'timeshift':0x0}})['write']();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x26830c(0x17e)]({'secure':{},'blacklist':[]})[_0x26830c(0x235)]();let crypt=new Crypt({'md':_0x26830c(0x2b5),'rsaStandard':'RSA-OAEP'});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x26830c(0x26a))[_0x26830c(0x225)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![];oneTimeMigration(),cleanBlacklist();const express=require(_0x26830c(0x2aa)),app=express(),http=require(_0x26830c(0x28a))[_0x26830c(0x29d)](app);app[_0x26830c(0x234)](express[_0x26830c(0x1ad)](path[_0x26830c(0x193)](__dirname,bbpath2,_0x26830c(0x215)))),app[_0x26830c(0x234)](express['static'](path['join'](__dirname,bbpath2,'build'))),app[_0x26830c(0x191)]('/',function(_0x44a1ee,_0x402e00){const _0x5535fc=_0x26830c;_0x402e00[_0x5535fc(0x269)](path['join'](__dirname,bbpath2,_0x5535fc(0x215),_0x5535fc(0x226)));}),app[_0x26830c(0x191)](_0x26830c(0x1dc),function(_0x2e1a82,_0x42b392){const _0x4769c4=_0x26830c;_0x42b392['sendFile'](path[_0x4769c4(0x193)](__dirname,bbpath2,'build',_0x4769c4(0x226)));}),app[_0x26830c(0x191)](_0x26830c(0x22c),(_0x542b36,_0x20cf8b)=>{const _0x2fbf2e=_0x26830c;_0x20cf8b[_0x2fbf2e(0x269)](path[_0x2fbf2e(0x193)](__dirname,bbpath2,_0x2fbf2e(0x1f7),_0x2fbf2e(0x226)));}),app['get']('/:bot/performance',(_0x3724c1,_0x3b9a77)=>{const _0x4f90cd=_0x26830c;_0x3b9a77[_0x4f90cd(0x269)](path[_0x4f90cd(0x193)](__dirname,bbpath2,_0x4f90cd(0x1f7),_0x4f90cd(0x226)));}),app[_0x26830c(0x191)](_0x26830c(0x1a8),(_0x111a19,_0x57c162)=>{const _0x4a43f5=_0x26830c;_0x57c162[_0x4a43f5(0x269)](path[_0x4a43f5(0x193)](__dirname,bbpath2,_0x4a43f5(0x1f7),_0x4a43f5(0x226)));}),app[_0x26830c(0x191)](_0x26830c(0x26e),(_0x5c9e2a,_0x23c26b)=>{const _0x56eabf=_0x26830c;_0x23c26b['sendFile'](path[_0x56eabf(0x193)](__dirname,bbpath2,_0x56eabf(0x1f7),_0x56eabf(0x226)));}),app[_0x26830c(0x191)](_0x26830c(0x1fb),(_0x1a1d16,_0x27de09)=>{const _0x1544e7=_0x26830c;_0x27de09[_0x1544e7(0x269)](path[_0x1544e7(0x193)](__dirname,bbpath2,_0x1544e7(0x1f7),_0x1544e7(0x226)));}),app[_0x26830c(0x191)](_0x26830c(0x201),(_0x28039c,_0x150433)=>{const _0x200d63=_0x26830c;_0x150433[_0x200d63(0x269)](path[_0x200d63(0x193)](__dirname,bbpath2,_0x200d63(0x1f7),_0x200d63(0x226)));});if(HOST)http[_0x26830c(0x1c5)](PORT,HOST);else http[_0x26830c(0x1c5)](PORT);const io=require(_0x26830c(0x212))(http,{}),analytics=analyticsLib({'app':'Balance\x20Bot','plugins':[googleAnalytics({'trackingId':'UA-192771731-1'})]}),TelegramBot=require('node-telegram-bot-api');let tgBot;if(settings[_0x26830c(0x266)]&&settings[_0x26830c(0x266)]!=''&&settings[_0x26830c(0x268)]&&settings[_0x26830c(0x268)]!='')initTelegram();initStates(),startServer(),startSocket(),startScheduler();function startServer(){const _0x48cc00=_0x26830c;console[_0x48cc00(0x254)](''),console[_0x48cc00(0x254)]('-----------------------------------------------------------------------------------'),logging(_0x48cc00(0x298)+PORT),console[_0x48cc00(0x254)](_0x48cc00(0x1c8));if(config[_0x48cc00(0x196)]!=0x0)config[_0x48cc00(0x294)](_0x45a52f=>{const _0x54973f=_0x48cc00;if(_0x45a52f[_0x54973f(0x227)]==_0x54973f(0x1de)||_0x45a52f['status']==_0x54973f(0x180))logging('starting\x20bot\x20|\x20Bot\x20'+_0x45a52f[_0x54973f(0x27d)]+'\x20|\x20'+_0x45a52f[_0x54973f(0x20b)]),startBot([_0x45a52f[_0x54973f(0x27d)],userID],{'cwd':bbpath},function(_0x33c997){if(_0x33c997)logging(_0x33c997);});else(_0x45a52f[_0x54973f(0x227)]==_0x54973f(0x1d9)||_0x45a52f[_0x54973f(0x227)]=='new-disabled')&&logging(_0x54973f(0x1cc)+_0x45a52f[_0x54973f(0x27d)]+'\x20|\x20'+_0x45a52f[_0x54973f(0x20b)]);});else!newBot&&console[_0x48cc00(0x254)](_0x48cc00(0x1cd));if(newBot)addBot();console['log'](_0x48cc00(0x1c8)),console[_0x48cc00(0x254)]('');}function startSocket(){io['on']('connection',_0x5eeb87=>{const _0x1e17d5=_0x150e;let _0xc9cdda,_0x237ddd,_0x42f522,_0x418108,_0x3227d6;const _0x3608e4=_0x5eeb87['handshake'][_0x1e17d5(0x25b)][_0x1e17d5(0x272)];_0x237ddd=_0x3608e4[_0x1e17d5(0x27f)](/bot[0-9]{3}/);if(_0x237ddd)_0x42f522=_0x237ddd[0x0][_0x1e17d5(0x27f)](/[0-9]{3}/);if(_0x42f522)_0xc9cdda=_0x42f522[0x0];else _0xc9cdda=_0x1e17d5(0x257);const _0x4cd992=_0x5eeb87[_0x1e17d5(0x1c1)][_0x1e17d5(0x1c7)][_0x1e17d5(0x1b8)];if(!_0x4cd992)_0x5eeb87[_0x1e17d5(0x1e3)](_0x1e17d5(0x227),{'publicKey':secure[_0x1e17d5(0x1d5)]});else{_0x418108=timelyDecrypt(_0x4cd992,![]);if(!_0x418108)_0x5eeb87[_0x1e17d5(0x1e3)]('status',{'publicKey':secure[_0x1e17d5(0x1d5)]});else{_0x3227d6=normalizeIP(_0x5eeb87[_0x1e17d5(0x23f)][_0x1e17d5(0x21f)])['store'];if(!devices[_0x418108])devices[_0x418108]={'uuid':_0x418108,'access':{'token':null}};devices[_0x418108]['ip']=_0x3227d6;const _0x568e84=addClient(_0x5eeb87['id'],_0x418108,_0xc9cdda);setAccess(_0x568e84),_0x5eeb87['on']('login',_0x2e0fa8=>{const _0x226f06=_0x1e17d5,_0x2a93dc=timelyDecrypt(_0x2e0fa8[_0x226f06(0x26b)]);if(_0x2a93dc){_0x2e0fa8={'username':_0x2e0fa8[_0x226f06(0x1d6)],'password':_0x2a93dc},devices[_0x418108][_0x226f06(0x21a)]=validateCredentials(_0x2e0fa8,_0x418108);if(devices[_0x418108][_0x226f06(0x21a)][_0x226f06(0x21b)]==![]&&devices[_0x418108][_0x226f06(0x21a)]['reason']==_0x226f06(0x247))_0x5eeb87[_0x226f06(0x1e3)]('status',{'access':devices[_0x418108][_0x226f06(0x21a)]}),loginAccess2FA(_0x418108,_0x3227d6);else{if(devices[_0x418108][_0x226f06(0x21a)][_0x226f06(0x21b)]==![]&&devices[_0x418108]['access'][_0x226f06(0x179)]=='invalid\x20credentials')_0x5eeb87[_0x226f06(0x1e3)](_0x226f06(0x227),{'access':devices[_0x418108][_0x226f06(0x21a)]});else devices[_0x418108][_0x226f06(0x21a)][_0x226f06(0x21b)]&&devices[_0x418108]['access'][_0x226f06(0x179)]=='login\x20token\x20generated'&&(getClientsWithUuid(_0x418108)[_0x226f06(0x294)](_0x57b329=>{setAccess(_0x57b329);}),setTokenRefresh(_0x418108),setSessionTimeout(_0x226f06(0x28c),_0x418108));}}else logging('Unauthorized\x20login\x20attempt\x20(timeout)');}),_0x5eeb87['on']('reset-password',()=>{resetPassword();}),_0x5eeb87['on'](_0x1e17d5(0x27c),_0x3d91e0=>{removeClient(_0x5eeb87['id']);});}}});}function initClient(_0x58cdd5){const _0x179396=_0x26830c;if(_0x58cdd5!=_0x179396(0x257)&&config[_0x179396(0x173)]!=''){if(pid[_0x58cdd5])pid[_0x58cdd5][_0x179396(0x274)]({'function':_0x179396(0x181),'args':null});}}function getSocket(_0x185a45){const _0xa337=_0x26830c;return io[_0xa337(0x23c)][_0xa337(0x23c)][_0xa337(0x191)](_0x185a45);}function setAccess(_0x3ff4aa){const _0xbb1664=_0x26830c,_0x2470d1=getSocket(_0x3ff4aa['id']),_0x2686f2=_0x3ff4aa[_0xbb1664(0x270)],_0x27aeb4=_0x3ff4aa[_0xbb1664(0x1a7)];devices[_0x2686f2][_0xbb1664(0x21a)]=validateAccess(devices[_0x2686f2]['access'][_0xbb1664(0x280)],_0x2686f2),_0x2470d1[_0xbb1664(0x193)](_0x2686f2);if(devices[_0x2686f2][_0xbb1664(0x21a)][_0xbb1664(0x21b)]){_0x2470d1[_0xbb1664(0x193)](_0x27aeb4);if(_0x27aeb4==_0xbb1664(0x257))initializeSocketBotManager(_0x2470d1);else initializeSocketBot(_0x2470d1);initClient(_0x27aeb4);}devices[_0x2686f2][_0xbb1664(0x21a)][_0xbb1664(0x280)]&&devices[_0x2686f2][_0xbb1664(0x21a)][_0xbb1664(0x179)]==_0xbb1664(0x259)&&setSessionTimeout(_0xbb1664(0x2ae),_0x2686f2),devices[_0x2686f2][_0xbb1664(0x21a)][_0xbb1664(0x280)]&&devices[_0x2686f2][_0xbb1664(0x21a)]['reason']==_0xbb1664(0x1fa)&&setSessionTimeout(_0xbb1664(0x28c),_0x2686f2),_0x2470d1[_0xbb1664(0x1e3)](_0xbb1664(0x227),{'status':_0x3ff4aa[_0xbb1664(0x1ea)],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x2686f2][_0xbb1664(0x21a)],'externalip':devices[_0x2686f2]['ip'],'publicKey':secure['publicKey']}),devices[_0x2686f2][_0xbb1664(0x21a)][_0xbb1664(0x21b)]==![]&&devices[_0x2686f2][_0xbb1664(0x21a)]['reason']==_0xbb1664(0x248)&&temporaryAccess2FA(_0x2686f2,devices[_0x2686f2]['ip']);}function setSessionTimeout(_0x156b82,_0x30b67c){const _0x5d751a=_0x26830c;let _0x4147a3;if(_0x156b82==_0x5d751a(0x28c))_0x4147a3=loginExpiry*0x3c*0x3e8;else _0x4147a3=devices[_0x30b67c][_0x5d751a(0x22d)]['expiry']*0x3c*0x3e8-(new Date()[_0x5d751a(0x192)]()-devices[_0x30b67c][_0x5d751a(0x22d)][_0x5d751a(0x1c2)]);if(devices[_0x30b67c][_0x5d751a(0x265)])clearTimeout(devices[_0x30b67c][_0x5d751a(0x265)]);devices[_0x30b67c][_0x5d751a(0x265)]=setTimeout(()=>{const _0x304f35=_0x5d751a;if(devices[_0x30b67c]['pidRefreshToken'])clearTimeout(devices[_0x30b67c]['pidRefreshToken']);removeSocketListeners(_0x30b67c),addBlacklist(_0x30b67c),devices[_0x30b67c][_0x304f35(0x22d)]=null,devices[_0x30b67c][_0x304f35(0x16e)]=null,devices[_0x30b67c]['access'][_0x304f35(0x280)]=null,devices[_0x30b67c][_0x304f35(0x21a)]=validateAccess(devices[_0x30b67c]['access'][_0x304f35(0x280)],_0x30b67c),!(devices[_0x30b67c][_0x304f35(0x21a)][_0x304f35(0x21b)]&&devices[_0x30b67c][_0x304f35(0x21a)][_0x304f35(0x179)]==_0x304f35(0x275))&&(_0x156b82==_0x304f35(0x28c)?io['to'](_0x30b67c)[_0x304f35(0x1e3)](_0x304f35(0x227),{'access':{'allow':![],'reason':_0x304f35(0x194),'token':null}}):io['to'](_0x30b67c)[_0x304f35(0x1e3)](_0x304f35(0x227),{'access':{'allow':![],'reason':_0x304f35(0x267),'token':null}})),devices[_0x30b67c][_0x304f35(0x21a)][_0x304f35(0x280)]=null;},_0x4147a3);}function setTokenRefresh(_0x401a15){const _0x45a53b=_0x26830c;if(devices[_0x401a15][_0x45a53b(0x246)])clearTimeout(devices[_0x401a15]['pidRefreshToken']);devices[_0x401a15]['pidRefreshToken']=setTimeout(()=>{const _0x2176a8=_0x45a53b;getClientsWithUuid(_0x401a15)[_0x2176a8(0x196)]!=0x0?(devices[_0x401a15][_0x2176a8(0x21a)]=refreshToken(_0x401a15),io['to'](_0x401a15)[_0x2176a8(0x1e3)](_0x2176a8(0x227),{'status':_0x2176a8(0x232),'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x401a15][_0x2176a8(0x21a)],'externalip':devices[_0x401a15]['ip'],'publicKey':secure[_0x2176a8(0x1d5)]}),setTokenRefresh(_0x401a15)):clearTimeout(devices[_0x401a15][_0x2176a8(0x246)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x329685){const _0x8c9348=_0x26830c,_0x46d355=getClient(_0x329685['id'])['uuid'];_0x329685[_0x8c9348(0x1e3)](_0x8c9348(0x286),config),_0x329685['emit'](_0x8c9348(0x1ab),cleanSettings()),_0x329685['on'](_0x8c9348(0x1b2),_0x21eeb2=>{const _0x191524=_0x8c9348;if(validateAccess(_0x21eeb2,_0x46d355)['allow'])addBot();else logging(_0x191524(0x243));}),_0x329685['on'](_0x8c9348(0x16f),(_0x3267ad,_0x22cfe4)=>{const _0x16de61=_0x8c9348;if(validateAccess(_0x22cfe4,_0x46d355)[_0x16de61(0x21b)])toggleBot(_0x3267ad['botID'],_0x3267ad['status'],_0x3267ad[_0x16de61(0x22b)]);else logging('Unauthorized\x20attempt\x20to\x20update\x20bot');}),_0x329685['on'](_0x8c9348(0x1e4),(_0x3129c3,_0x112ed2)=>{const _0xdd4d3b=_0x8c9348;if(validateAccess(_0x112ed2,_0x46d355)['allow'])deleteBot(_0x3129c3);else logging(_0xdd4d3b(0x285));}),_0x329685['on']('store-settings',(_0x259315,_0x2ee862)=>{const _0x4636c6=_0x8c9348;if(validateAccess(_0x2ee862,_0x46d355)['allow'])storeSettings(_0x259315,!![]);else logging(_0x4636c6(0x167));}),_0x329685['on']('update-bb',(_0x3fcac9,_0x4f38a1)=>{const _0x1bf4b2=_0x8c9348;if(validateAccess(_0x4f38a1,_0x46d355)[_0x1bf4b2(0x21b)])updateBB();else logging(_0x1bf4b2(0x167));}),_0x329685['on'](_0x8c9348(0x1d1),_0x4d41f1=>{const _0x4a333e=_0x8c9348;if(validateAccess(_0x4d41f1,_0x46d355)['allow']){if(devices[_0x46d355][_0x4a333e(0x246)])clearTimeout(devices[_0x46d355][_0x4a333e(0x246)]);if(devices[_0x46d355]['pidExpireLogin'])clearTimeout(devices[_0x46d355]['pidExpireLogin']);removeSocketListeners(getClient(_0x329685['id'])[_0x4a333e(0x270)]),addBlacklist(_0x46d355),devices[_0x46d355][_0x4a333e(0x22d)]=null,devices[_0x46d355]['telegram2FaApproval']=null,devices[_0x46d355][_0x4a333e(0x21a)][_0x4a333e(0x280)]=null,io['to'](getClient(_0x329685['id'])[_0x4a333e(0x270)])['emit'](_0x4a333e(0x227),{'access':{'allow':![],'reason':_0x4a333e(0x252),'token':null}});}else logging(_0x4a333e(0x251));});}function initializeSocketBot(_0x3df31b){const _0x261d34=_0x26830c,_0x2118e6=getClient(_0x3df31b['id'])['bot'],_0x8325a7=getClient(_0x3df31b['id'])[_0x261d34(0x270)];_0x3df31b['on'](_0x261d34(0x245),(_0x45c0c4,_0x32efe9)=>{const _0x60b0d7=_0x261d34;if(validateAccess(_0x32efe9,_0x8325a7)[_0x60b0d7(0x21b)]){if(pid[_0x2118e6])pid[_0x2118e6][_0x60b0d7(0x274)]({'function':'emitHistory','args':_0x45c0c4});}else logging(_0x60b0d7(0x27e));}),_0x3df31b['on'](_0x261d34(0x1b5),(_0x1e5d56,_0x4d55cc)=>{const _0x2d3f94=_0x261d34;if(validateAccess(_0x4d55cc,_0x8325a7)['allow']){if(pid[_0x2118e6])pid[_0x2118e6]['send']({'function':_0x2d3f94(0x1d7),'args':_0x1e5d56});}else logging('Unauthorized\x20attempt\x20to\x20get\x20portfolio');}),_0x3df31b['on'](_0x261d34(0x217),(_0x2a8991,_0x57e471)=>{const _0x58cabb=_0x261d34;if(validateAccess(_0x57e471,_0x8325a7)[_0x58cabb(0x21b)]){if(pid[_0x2118e6])pid[_0x2118e6][_0x58cabb(0x274)]({'function':_0x58cabb(0x293),'args':_0x2a8991});}else logging(_0x58cabb(0x256));}),_0x3df31b['on'](_0x261d34(0x200),(_0x105f86,_0x14bd89)=>{const _0x2c66f8=_0x261d34;if(validateAccess(_0x14bd89,_0x8325a7)['allow']){if(pid[_0x2118e6])pid[_0x2118e6][_0x2c66f8(0x274)]({'function':_0x2c66f8(0x1fd),'args':_0x105f86});}else logging(_0x2c66f8(0x223));}),_0x3df31b['on'](_0x261d34(0x19f),_0x3de086=>{const _0x841798=_0x261d34;if(validateAccess(_0x3de086,_0x8325a7)[_0x841798(0x21b)]){if(pid[_0x2118e6])pid[_0x2118e6]['send']({'function':'getStartingBalances','args':null});}else logging(_0x841798(0x1a1));}),_0x3df31b['on'](_0x261d34(0x216),(_0x43117a,_0x1ade94)=>{const _0x2c34d7=_0x261d34;if(validateAccess(_0x1ade94,_0x8325a7)[_0x2c34d7(0x21b)]){if(pid[_0x2118e6])pid[_0x2118e6][_0x2c34d7(0x274)]({'function':_0x2c34d7(0x238),'args':_0x43117a});}else logging('Unauthorized\x20attempt\x20to\x20place\x20market\x20order');}),_0x3df31b['on'](_0x261d34(0x1c3),_0x15b951=>{const _0x2b6262=_0x261d34;if(validateAccess(_0x15b951,_0x8325a7)['allow']){if(pid[_0x2118e6])pid[_0x2118e6][_0x2b6262(0x274)]({'function':_0x2b6262(0x230),'args':null});}else logging(_0x2b6262(0x231));}),_0x3df31b['on'](_0x261d34(0x1d1),_0x277846=>{const _0x72ed7f=_0x261d34;if(validateAccess(_0x277846,_0x8325a7)[_0x72ed7f(0x21b)]){if(devices[_0x8325a7][_0x72ed7f(0x246)])clearTimeout(devices[_0x8325a7]['pidRefreshToken']);if(devices[_0x8325a7][_0x72ed7f(0x265)])clearTimeout(devices[_0x8325a7]['pidExpireLogin']);removeSocketListeners(getClient(_0x3df31b['id'])[_0x72ed7f(0x270)]),addBlacklist(_0x8325a7),devices[_0x8325a7]['telegramIpApproval']=null,devices[_0x8325a7][_0x72ed7f(0x16e)]=null,devices[_0x8325a7][_0x72ed7f(0x21a)][_0x72ed7f(0x280)]=null,io['to'](getClient(_0x3df31b['id'])[_0x72ed7f(0x270)])[_0x72ed7f(0x1e3)](_0x72ed7f(0x227),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}else logging('Unauthorized\x20attempt\x20to\x20log\x20out');});}function removeSocketListeners(_0x5d5436){getClientsWithUuid(_0x5d5436)['forEach'](_0x380684=>{const _0x5b1e30=_0x150e;getSocket(_0x380684['id'])[_0x5b1e30(0x1c4)]();});}function cleanSettings(){const _0x59af5f=_0x26830c;let _0x54e0ab=settings;return settings['telegramToken']&&settings[_0x59af5f(0x266)]!=''&&(_0x54e0ab={..._0x54e0ab,'telegramToken':'************'}),settings[_0x59af5f(0x1cb)]&&settings[_0x59af5f(0x1cb)]!=''&&(_0x54e0ab={..._0x54e0ab,'bbPassword':_0x59af5f(0x19b)}),_0x54e0ab;}function updateBB(){const _0x421ad1=_0x26830c;installingUpdate=!![],config['forEach'](_0x234448=>{const _0x467dad=_0x150e;restartBot(_0x234448[_0x467dad(0x27d)]);}),process[_0x421ad1(0x274)]({'update':!![]},_0x5739bf=>{});}function startBot(_0x4d0edd,_0x51b809,_0x364e57){const _0x3fed61=_0x26830c;let _0x3df237=![];const _0x2758ca=_0x4d0edd[0x0];_0x51b809={..._0x51b809,'stdio':[_0x3fed61(0x289),_0x3fed61(0x289),_0x3fed61(0x289),_0x3fed61(0x271)]},pid[_0x2758ca]=childProcess[_0x3fed61(0x1c0)](botfile,_0x4d0edd,_0x51b809),pid[_0x2758ca]['on']('message',_0x4579e5=>{const _0x2b4109=_0x3fed61;switch(Object[_0x2b4109(0x1db)](_0x4579e5)[0x0]){case _0x2b4109(0x20b):updateBotName(_0x2758ca,_0x4579e5[_0x2b4109(0x20b)]);break;case'status':updateStatus(_0x2758ca,_0x4579e5[_0x2b4109(0x227)]);break;case _0x2b4109(0x22b):updateLive(_0x2758ca,_0x4579e5[_0x2b4109(0x22b)]);break;case _0x2b4109(0x1a0):updateLive(_0x2758ca,_0x4579e5[_0x2b4109(0x1a0)]),io['to'](_0x2758ca)['emit'](_0x2b4109(0x227),{'access':{'allow':![],'reason':_0x2b4109(0x213),'token':null}});break;case _0x2b4109(0x25a):_0x4579e5[_0x2b4109(0x25a)]=='restart'&&restartBot(_0x2758ca);_0x4579e5[_0x2b4109(0x25a)]==_0x2b4109(0x1ae)&&toggleBot(_0x2758ca,_0x2b4109(0x1d9),'stopped');break;case _0x2b4109(0x290):sendTelegram(_0x2758ca,_0x4579e5[_0x2b4109(0x290)]);break;case _0x2b4109(0x20c):io['to'](_0x2758ca)['emit'](_0x4579e5['function'],_0x4579e5[_0x2b4109(0x282)]);break;}}),pid[_0x2758ca]['on'](_0x3fed61(0x1cf),function(_0x2b0050){if(_0x3df237)return;_0x3df237=!![],_0x364e57(_0x2b0050);}),pid[_0x2758ca]['on'](_0x3fed61(0x1d0),function(_0x5528ab){const _0x809f1d=_0x3fed61;if(installingUpdate)return;if(_0x3df237)return;_0x3df237=!![],_0x364e57(null);const _0x283843=dbConfig[_0x809f1d(0x191)](_0x809f1d(0x286))['find']({'botID':_0x2758ca})['value']();_0x283843&&(_0x283843[_0x809f1d(0x227)]=='enabled'||_0x283843[_0x809f1d(0x227)]=='new')&&(updateLive(_0x2758ca,'stopped'),logging(_0x809f1d(0x2ac)+_0x2758ca),startBot([_0x2758ca,userID],{'cwd':bbpath},function(_0x495b0c){if(_0x495b0c)logging(_0x495b0c);}));});}function stopBot(_0x15e4eb){const _0x2544a0=_0x26830c;getClientsWithBotID(_0x15e4eb)[_0x2544a0(0x294)](_0x1165f7=>{const _0x45d136=_0x2544a0;getSocket(_0x1165f7['id'])[_0x45d136(0x27c)](!![]),removeClient(_0x1165f7['id']);});if(pid[_0x15e4eb])pid[_0x15e4eb][_0x2544a0(0x1ae)]();}function restartBot(_0x24acfa){if(pid[_0x24acfa])pid[_0x24acfa]['kill']();}function addBot(){const _0x2cab9a=_0x26830c;let _0x4aa852;for(let _0x3e2976=0x1;_0x3e2976<0x3e9;_0x3e2976++){_0x4aa852=_0x3e2976['toString']()[_0x2cab9a(0x27a)](0x3,'0');let _0xd16afa=config[_0x2cab9a(0x24b)](_0x34c181=>_0x34c181['botID']==_0x4aa852);if(!_0xd16afa)break;}if(_0x4aa852===_0x2cab9a(0x253)){logging(_0x2cab9a(0x1a3));return;}logging(_0x2cab9a(0x237)+_0x4aa852),dbConfig[_0x2cab9a(0x191)]('bots')['push']({'botID':_0x4aa852,'botname':_0x2cab9a(0x1ce)+_0x4aa852,'status':_0x2cab9a(0x180),'live':''})[_0x2cab9a(0x235)](),startBot([_0x4aa852,userID],{'cwd':bbpath},function(_0x469d38){if(_0x469d38)logging(_0x469d38);}),config=getConfiguration(),io['to'](_0x2cab9a(0x257))[_0x2cab9a(0x1e3)](_0x2cab9a(0x286),config);}function deleteBot(_0x2317b6){const _0x3dac2b=_0x26830c;getClientsWithBotID(_0x2317b6)[_0x3dac2b(0x294)](_0x25b119=>{const _0x474aae=_0x3dac2b;getSocket(_0x25b119['id'])[_0x474aae(0x27c)](!![]),removeClient(_0x25b119['id']);}),dbConfig[_0x3dac2b(0x191)]('bots')[_0x3dac2b(0x1b1)]({'botID':_0x2317b6})[_0x3dac2b(0x235)](),logging(_0x3dac2b(0x240)+_0x2317b6),stopBot(_0x2317b6);try{fs['unlinkSync'](path[_0x3dac2b(0x193)](configpath,_0x3dac2b(0x1b4)+_0x2317b6+_0x3dac2b(0x284))),fs[_0x3dac2b(0x206)](path['join'](configpath,_0x3dac2b(0x1b4)+_0x2317b6+'-events.json')),fs[_0x3dac2b(0x206)](path[_0x3dac2b(0x193)](configpath,'bot-'+_0x2317b6+_0x3dac2b(0x239))),fs[_0x3dac2b(0x206)](path[_0x3dac2b(0x193)](configpath,_0x3dac2b(0x1b4)+_0x2317b6+_0x3dac2b(0x1f5)));}catch(_0x48e4f8){if(_0x48e4f8)logging(_0x3dac2b(0x18b),_0x48e4f8);}config=getConfiguration(),io['to'](_0x3dac2b(0x257))[_0x3dac2b(0x1e3)]('bots',config);}function toggleBot(_0x1dbb1c,_0x34ac93,_0x54c6f7){const _0x1f8a23=_0x26830c;dbConfig[_0x1f8a23(0x191)](_0x1f8a23(0x286))[_0x1f8a23(0x24b)]({'botID':_0x1dbb1c})[_0x1f8a23(0x28f)]({'status':_0x34ac93})['assign']({'live':_0x54c6f7})[_0x1f8a23(0x235)]();if(_0x34ac93==_0x1f8a23(0x1de)||_0x34ac93=='new')logging('enabled\x20Bot\x20'+_0x1dbb1c),startBot([_0x1dbb1c,userID],{'cwd':bbpath},function(_0x307dd5){if(_0x307dd5)logging(_0x307dd5);});else(_0x34ac93=='disabled'||_0x34ac93==_0x1f8a23(0x1ca))&&(logging(_0x1f8a23(0x2a7)+_0x1dbb1c),stopBot(_0x1dbb1c));config=getConfiguration(),io['to'](_0x1f8a23(0x257))[_0x1f8a23(0x1e3)]('bots',config);}function toggleStatus(_0x506900){const _0x1a8d38=_0x26830c;let _0x436efd=dbConfig['get'](_0x1a8d38(0x286))[_0x1a8d38(0x24b)]({'botID':_0x506900})['value'](),_0x194346;if(_0x436efd[_0x1a8d38(0x227)]==='enabled')_0x194346=_0x1a8d38(0x1d9);else{if(_0x436efd['status']===_0x1a8d38(0x180))_0x194346=_0x1a8d38(0x1ca);else{if(_0x436efd['status']===_0x1a8d38(0x1ca))_0x194346=_0x1a8d38(0x180);else{if(_0x436efd[_0x1a8d38(0x227)]===_0x1a8d38(0x1d9))_0x194346=_0x1a8d38(0x1de);}}}return _0x194346;}function updateStatus(_0x4be848,_0x835b86){const _0x3d015e=_0x26830c;dbConfig[_0x3d015e(0x191)](_0x3d015e(0x286))['find']({'botID':_0x4be848})['assign']({'status':_0x835b86})['write'](),config=getConfiguration(),io['to'](_0x3d015e(0x257))[_0x3d015e(0x1e3)](_0x3d015e(0x286),config);}function updateLive(_0x2398cb,_0x3d043b){const _0x309497=_0x26830c;dbConfig[_0x309497(0x191)](_0x309497(0x286))['find']({'botID':_0x2398cb})[_0x309497(0x28f)]({'live':_0x3d043b})[_0x309497(0x235)](),config=getConfiguration(),io['to']('botmanager')[_0x309497(0x1e3)](_0x309497(0x286),config);}function updateBotName(_0x53e72d,_0x46f9ae){const _0x2aa474=_0x26830c;dbConfig['get'](_0x2aa474(0x286))['find']({'botID':_0x53e72d})[_0x2aa474(0x28f)]({'botname':_0x46f9ae})['write'](),config=getConfiguration(),io['to'](_0x2aa474(0x257))[_0x2aa474(0x1e3)](_0x2aa474(0x286),config);}function telegramError(_0x7ec1dc){const _0x2fdede=_0x26830c;console[_0x2fdede(0x254)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed');}function validateTelegram(_0x39bede){const _0x548bcf=_0x26830c;if(_0x39bede['from'][_0x548bcf(0x1d6)]!=settings[_0x548bcf(0x268)]&&'@'+_0x39bede['from'][_0x548bcf(0x1d6)]!=settings['telegramUsername'])return tgBot[_0x548bcf(0x18e)](_0x39bede[_0x548bcf(0x1d2)]['id'],_0x548bcf(0x288),{'parse_mode':_0x548bcf(0x296)})[_0x548bcf(0x2ab)](_0xd63ba0=>{telegramError(_0xd63ba0);}),![];return!![];}async function initTelegram(){const _0x567990=_0x26830c;if(tgBot)tgBot[_0x567990(0x24a)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x567990(0x266)],{'polling':!![]});let _0x1eb59d='You\x20can\x20use\x20the\x20following\x20commands:\x0a';_0x1eb59d+='\x0a',_0x1eb59d+=_0x567990(0x28b),_0x1eb59d+='/disable\x20-\x20disable\x20notifications\x0a',_0x1eb59d+=_0x567990(0x21e),_0x1eb59d+=_0x567990(0x24e),_0x1eb59d+='/on\x20-\x20start\x20bot(s)\x0a',_0x1eb59d+='/off\x20-\x20stop\x20bot(s)\x0a',_0x1eb59d+=_0x567990(0x1f2),_0x1eb59d+=_0x567990(0x281);let _0x534585=_0x567990(0x242);_0x534585+='\x0a',_0x534585+=_0x1eb59d,tgBot[_0x567990(0x184)](/\/start/,_0x1d52b0=>{const _0xb73620=_0x567990;if(!validateTelegram(_0x1d52b0))return;if(settings[_0xb73620(0x28e)]!=_0x1d52b0[_0xb73620(0x1d2)]['id'])updateSetting(_0xb73620(0x28e),_0x1d52b0[_0xb73620(0x1d2)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0xb73620(0x18e)](_0x1d52b0[_0xb73620(0x1d2)]['id'],_0x534585)[_0xb73620(0x2ab)](_0x58d06b=>{telegramError(_0x58d06b);});}),tgBot['onText'](/\/enable/,_0x5db1aa=>{const _0x4e8556=_0x567990;if(!validateTelegram(_0x5db1aa))return;if(settings[_0x4e8556(0x28e)]!=_0x5db1aa[_0x4e8556(0x1d2)]['id'])updateSetting('telegramChatId',_0x5db1aa[_0x4e8556(0x1d2)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0x4e8556(0x18e)](_0x5db1aa[_0x4e8556(0x1d2)]['id'],_0x4e8556(0x1fe))[_0x4e8556(0x2ab)](_0x2a9538=>{telegramError(_0x2a9538);});}),tgBot[_0x567990(0x184)](/\/config/,async _0x352f3a=>{const _0x164376=_0x567990;if(!validateTelegram(_0x352f3a))return;tgBot[_0x164376(0x295)](_0x164376(0x1da)),tgBot[_0x164376(0x18e)](_0x352f3a[_0x164376(0x1d2)]['id'],'Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?',{'reply_markup':{'inline_keyboard':[[{'text':_0x164376(0x166),'callback_data':_0x164376(0x260)},{'text':_0x164376(0x287),'callback_data':_0x164376(0x255)},{'text':_0x164376(0x249),'callback_data':_0x164376(0x258)}]]}})[_0x164376(0x2ab)](_0x369a3e=>{telegramError(_0x369a3e);}),tgBot['on'](_0x164376(0x1da),async _0x3a167e=>{const _0x2dfaee=_0x164376,_0x2571ba=_0x3a167e[_0x2dfaee(0x209)],_0x26d6d2=_0x3a167e['message'];tgBot[_0x2dfaee(0x1e1)](_0x3a167e['id'])[_0x2dfaee(0x168)](async()=>{const _0x45290f=_0x2dfaee;_0x2571ba==_0x45290f(0x260)&&(updateSetting('telegramEvents',_0x45290f(0x260)),updateSetting(_0x45290f(0x29e),!![]),await tgBot[_0x45290f(0x18e)](_0x26d6d2[_0x45290f(0x1d2)]['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')['catch'](_0x2a911e=>{telegramError(_0x2a911e);}));_0x2571ba=='alerts'&&(updateSetting(_0x45290f(0x291),_0x45290f(0x255)),updateSetting(_0x45290f(0x29e),!![]),await tgBot[_0x45290f(0x18e)](_0x26d6d2[_0x45290f(0x1d2)]['id'],_0x45290f(0x23a))[_0x45290f(0x2ab)](_0x18cb53=>{telegramError(_0x18cb53);}));_0x2571ba==_0x45290f(0x258)&&(updateSetting(_0x45290f(0x291),_0x45290f(0x258)),updateSetting(_0x45290f(0x29e),!![]),await tgBot[_0x45290f(0x18e)](_0x26d6d2[_0x45290f(0x1d2)]['id'],_0x45290f(0x222))['catch'](_0x1a2395=>{telegramError(_0x1a2395);}));if(!settings[_0x45290f(0x28e)])tgBot[_0x45290f(0x18e)](_0x26d6d2[_0x45290f(0x1d2)]['id'],_0x45290f(0x20e))[_0x45290f(0x2ab)](_0x1b2a0f=>{telegramError(_0x1b2a0f);});}),tgBot[_0x2dfaee(0x295)](_0x2dfaee(0x1da));});}),tgBot[_0x567990(0x184)](/\/status/,_0x52ce63=>{const _0x16a59e=_0x567990;if(!validateTelegram(_0x52ce63))return;let _0x37d5a2=_0x16a59e(0x22e);config[_0x16a59e(0x294)](_0x3803cd=>{const _0x134f23=_0x16a59e;_0x37d5a2+=_0x134f23(0x1ce)+_0x3803cd[_0x134f23(0x27d)]+_0x134f23(0x1bb)+_0x3803cd[_0x134f23(0x20b)]+':\x20'+_0x3803cd[_0x134f23(0x227)]+'\x20/\x20'+_0x3803cd[_0x134f23(0x22b)]+'\x0a';}),_0x37d5a2+='\x0a',_0x37d5a2+='<b>Telegram\x20bot\x20status:</b>\x0a',_0x37d5a2+=!settings[_0x16a59e(0x29e)]?'Notifications\x20disabled\x0a':_0x16a59e(0x16d),_0x37d5a2+=settings[_0x16a59e(0x29e)]?settings[_0x16a59e(0x291)]=='all'?_0x16a59e(0x1ec):_0x16a59e(0x19a)+settings[_0x16a59e(0x291)]+_0x16a59e(0x16c):'',tgBot['sendMessage'](_0x52ce63[_0x16a59e(0x1d2)]['id'],_0x37d5a2,{'parse_mode':'HTML'})[_0x16a59e(0x2ab)](_0x44dd7c=>{telegramError(_0x44dd7c);});}),tgBot[_0x567990(0x184)](/\/restart/,_0x4610ae=>{const _0x116bdc=_0x567990;if(!validateTelegram(_0x4610ae))return;tgBot[_0x116bdc(0x295)](_0x116bdc(0x1da));const _0x102244=getEnabledBots();if(_0x102244[_0x116bdc(0x196)]==0x0)tgBot[_0x116bdc(0x18e)](_0x4610ae[_0x116bdc(0x1d2)]['id'],_0x116bdc(0x2a2))['catch'](_0x9b7366=>{telegramError(_0x9b7366);});else{if(_0x102244[_0x116bdc(0x196)]>0x1)_0x102244[_0x116bdc(0x25c)]({'botID':_0x116bdc(0x258)});let _0x5c8a54=[],_0x279825=[];const _0x589018=_0x102244[_0x116bdc(0x196)]%0x4==0x0||_0x102244['length']%0x4==0x3||_0x102244[_0x116bdc(0x196)]%0x3==0x1?0x4:0x3;let _0x25a7db=0x0;_0x102244['forEach']((_0x5a82f4,_0x19b6bc)=>{const _0x340fbb=_0x116bdc;if(_0x19b6bc%_0x589018==0x0)_0x279825=[];_0x279825[_0x340fbb(0x25c)]({'text':_0x5a82f4[_0x340fbb(0x27d)]==_0x340fbb(0x258)?_0x340fbb(0x276):_0x340fbb(0x1ce)+_0x5a82f4[_0x340fbb(0x27d)],'callback_data':_0x5a82f4[_0x340fbb(0x27d)]}),_0x19b6bc%_0x589018==0x0&&(_0x5c8a54[_0x25a7db]=_0x279825,_0x25a7db++);}),tgBot[_0x116bdc(0x18e)](_0x4610ae[_0x116bdc(0x1d2)]['id'],_0x116bdc(0x1ef),{'reply_markup':{'inline_keyboard':_0x5c8a54}})[_0x116bdc(0x2ab)](_0x32eef5=>{telegramError(_0x32eef5);}),tgBot['on'](_0x116bdc(0x1da),async _0x9e1887=>{const _0x1c3d8d=_0x116bdc,_0x3b4eba=_0x9e1887[_0x1c3d8d(0x209)],_0x59d03f=_0x9e1887['message'];tgBot[_0x1c3d8d(0x1e1)](_0x9e1887['id'])[_0x1c3d8d(0x168)](async()=>{const _0x27d4e0=_0x1c3d8d;if(_0x3b4eba==_0x27d4e0(0x258)){if(settings[_0x27d4e0(0x291)]=='orders')tgBot[_0x27d4e0(0x18e)](_0x59d03f['chat']['id'],_0x27d4e0(0x1fc))[_0x27d4e0(0x2ab)](_0x713d01=>{telegramError(_0x713d01);});config[_0x27d4e0(0x294)](_0x54def4=>{const _0x422ba0=_0x27d4e0;restartBot(_0x54def4[_0x422ba0(0x27d)]);});}else{if(settings[_0x27d4e0(0x291)]==_0x27d4e0(0x260))tgBot['sendMessage'](_0x59d03f[_0x27d4e0(0x1d2)]['id'],_0x27d4e0(0x1f1)+_0x3b4eba)[_0x27d4e0(0x2ab)](_0x909295=>{telegramError(_0x909295);});restartBot(_0x3b4eba);}}),tgBot[_0x1c3d8d(0x295)]('callback_query');});}}),tgBot['onText'](/\/on/,_0x406725=>{const _0x42f688=_0x567990;if(!validateTelegram(_0x406725))return;tgBot[_0x42f688(0x295)](_0x42f688(0x1da));const _0x1373f9=getDisabledBots();if(_0x1373f9['length']==0x0)tgBot[_0x42f688(0x18e)](_0x406725['chat']['id'],_0x42f688(0x2a6))[_0x42f688(0x2ab)](_0x3942ba=>{telegramError(_0x3942ba);});else{if(_0x1373f9['length']>0x1)_0x1373f9['push']({'botID':_0x42f688(0x258)});let _0x528fcd=[],_0xea410=[];const _0x4136c7=_0x1373f9['length']%0x4==0x0||_0x1373f9[_0x42f688(0x196)]%0x4==0x3||_0x1373f9['length']%0x3==0x1?0x4:0x3;let _0x321eb7=0x0;_0x1373f9[_0x42f688(0x294)]((_0x528805,_0x522e4f)=>{const _0x10e6ea=_0x42f688;if(_0x522e4f%_0x4136c7==0x0)_0xea410=[];_0xea410[_0x10e6ea(0x25c)]({'text':_0x528805[_0x10e6ea(0x27d)]==_0x10e6ea(0x258)?_0x10e6ea(0x276):'Bot\x20'+_0x528805[_0x10e6ea(0x27d)],'callback_data':_0x528805[_0x10e6ea(0x27d)]}),_0x522e4f%_0x4136c7==0x0&&(_0x528fcd[_0x321eb7]=_0xea410,_0x321eb7++);}),tgBot[_0x42f688(0x18e)](_0x406725[_0x42f688(0x1d2)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20start?',{'reply_markup':{'inline_keyboard':_0x528fcd}})[_0x42f688(0x2ab)](_0x6f4da0=>{telegramError(_0x6f4da0);}),tgBot['on'](_0x42f688(0x1da),async _0x1616fc=>{const _0x15bf98=_0x42f688,_0x210ebc=_0x1616fc[_0x15bf98(0x209)],_0x21ee12=_0x1616fc[_0x15bf98(0x214)];tgBot[_0x15bf98(0x1e1)](_0x1616fc['id'])[_0x15bf98(0x168)](async()=>{const _0x440927=_0x15bf98;if(_0x210ebc=='all'){if(settings[_0x440927(0x291)]=='orders')tgBot['sendMessage'](_0x21ee12['chat']['id'],_0x440927(0x169))['catch'](_0x287ad3=>{telegramError(_0x287ad3);});_0x1373f9['forEach'](_0x55cdb6=>{const _0x3b0f81=_0x440927;if(_0x55cdb6[_0x3b0f81(0x27d)]!=_0x3b0f81(0x258))toggleBot(_0x55cdb6[_0x3b0f81(0x27d)],toggleStatus(_0x55cdb6[_0x3b0f81(0x27d)]),_0x3b0f81(0x188));});}else{if(settings[_0x440927(0x291)]==_0x440927(0x260))tgBot[_0x440927(0x18e)](_0x21ee12[_0x440927(0x1d2)]['id'],_0x440927(0x29b)+_0x210ebc)[_0x440927(0x2ab)](_0x57fd6d=>{telegramError(_0x57fd6d);});toggleBot(_0x210ebc,toggleStatus(_0x210ebc),'stopped');}}),tgBot['removeListener'](_0x15bf98(0x1da));});}}),tgBot[_0x567990(0x184)](/\/off/,_0x4c9eb7=>{const _0x24427c=_0x567990;if(!validateTelegram(_0x4c9eb7))return;tgBot[_0x24427c(0x295)](_0x24427c(0x1da));const _0x270ddd=getEnabledBots();if(_0x270ddd['length']==0x0)tgBot[_0x24427c(0x18e)](_0x4c9eb7['chat']['id'],_0x24427c(0x2a2))[_0x24427c(0x2ab)](_0x4e6c7e=>{telegramError(_0x4e6c7e);});else{if(_0x270ddd[_0x24427c(0x196)]>0x1)_0x270ddd[_0x24427c(0x25c)]({'botID':_0x24427c(0x258)});let _0x1d9f63=[],_0x3024af=[];const _0x5fc294=_0x270ddd[_0x24427c(0x196)]%0x4==0x0||_0x270ddd[_0x24427c(0x196)]%0x4==0x3||_0x270ddd[_0x24427c(0x196)]%0x3==0x1?0x4:0x3;let _0x47f5fb=0x0;_0x270ddd[_0x24427c(0x294)]((_0x43570d,_0x3d689d)=>{const _0x2c0df3=_0x24427c;if(_0x3d689d%_0x5fc294==0x0)_0x3024af=[];_0x3024af[_0x2c0df3(0x25c)]({'text':_0x43570d[_0x2c0df3(0x27d)]=='all'?'All\x20bots':_0x2c0df3(0x1ce)+_0x43570d[_0x2c0df3(0x27d)],'callback_data':_0x43570d['botID']}),_0x3d689d%_0x5fc294==0x0&&(_0x1d9f63[_0x47f5fb]=_0x3024af,_0x47f5fb++);}),tgBot[_0x24427c(0x18e)](_0x4c9eb7[_0x24427c(0x1d2)]['id'],_0x24427c(0x1e0),{'reply_markup':{'inline_keyboard':_0x1d9f63}})[_0x24427c(0x2ab)](_0x1be449=>{telegramError(_0x1be449);}),tgBot['on'](_0x24427c(0x1da),async _0x1021fd=>{const _0x173b80=_0x24427c,_0x32c56f=_0x1021fd[_0x173b80(0x209)],_0x2a284f=_0x1021fd[_0x173b80(0x214)];tgBot[_0x173b80(0x1e1)](_0x1021fd['id'])[_0x173b80(0x168)](async()=>{const _0x24af9c=_0x173b80;if(_0x32c56f==_0x24af9c(0x258)){if(settings[_0x24af9c(0x291)]==_0x24af9c(0x260))tgBot['sendMessage'](_0x2a284f[_0x24af9c(0x1d2)]['id'],_0x24af9c(0x1d4))[_0x24af9c(0x2ab)](_0x1a74c0=>{telegramError(_0x1a74c0);});_0x270ddd[_0x24af9c(0x294)](_0x396396=>{const _0x20b79e=_0x24af9c;if(_0x396396[_0x20b79e(0x27d)]!=_0x20b79e(0x258))toggleBot(_0x396396[_0x20b79e(0x27d)],toggleStatus(_0x396396[_0x20b79e(0x27d)]),_0x20b79e(0x188));});}else{if(settings[_0x24af9c(0x291)]==_0x24af9c(0x260))tgBot[_0x24af9c(0x18e)](_0x2a284f[_0x24af9c(0x1d2)]['id'],_0x24af9c(0x24f)+_0x32c56f)[_0x24af9c(0x2ab)](_0x8d59bd=>{telegramError(_0x8d59bd);});toggleBot(_0x32c56f,toggleStatus(_0x32c56f),_0x24af9c(0x188));}}),tgBot['removeListener'](_0x173b80(0x1da));});}}),tgBot[_0x567990(0x184)](/\/disable/,_0x3d64b6=>{const _0x520eb1=_0x567990;if(!validateTelegram(_0x3d64b6))return;tgBot[_0x520eb1(0x18e)](_0x3d64b6[_0x520eb1(0x1d2)]['id'],_0x520eb1(0x273))['catch'](_0x2be883=>{telegramError(_0x2be883);}),updateSetting(_0x520eb1(0x29e),![]);}),tgBot[_0x567990(0x184)](/\/help/,_0x37ee50=>{const _0x2305b8=_0x567990;if(!validateTelegram(_0x37ee50))return;tgBot[_0x2305b8(0x18e)](_0x37ee50[_0x2305b8(0x1d2)]['id'],_0x1eb59d)['catch'](_0x1a9430=>{telegramError(_0x1a9430);});}),tgBot['on'](_0x567990(0x278),_0x4d38ee=>{const _0x436769=_0x567990;_0x4d38ee[_0x436769(0x220)]()[_0x436769(0x29c)](_0x436769(0x1f6))&&(logging(_0x436769(0x25d)),tgBot[_0x436769(0x24a)](),tgBot=null,io['to'](_0x436769(0x257))[_0x436769(0x1e3)](_0x436769(0x17a),_0x436769(0x25d)));}),process[_0x567990(0x199)](_0x567990(0x1e2),()=>{const _0x1ca724=_0x567990;if(tgBot)tgBot[_0x1ca724(0x24a)]();process[_0x1ca724(0x1d0)](0x1);}),process['once']('SIGTERM',()=>{const _0x30cb2c=_0x567990;if(tgBot)tgBot[_0x30cb2c(0x24a)]();process[_0x30cb2c(0x1d0)](0x1);});}}function disableTelegram(){tgBot&&(tgBot['stopPolling'](),tgBot=null);}function sendTelegram(_0x56d9a2,_0x4502f0){const _0x4a5c1b=_0x26830c;if(settings[_0x4a5c1b(0x29e)]){if(settings[_0x4a5c1b(0x291)]=='all'||(_0x4502f0[_0x4a5c1b(0x182)]==_0x4a5c1b(0x1cf)||_0x4502f0[_0x4a5c1b(0x182)]==_0x4a5c1b(0x1d8))&&settings[_0x4a5c1b(0x291)]=='alerts'||_0x4502f0[_0x4a5c1b(0x182)]==_0x4a5c1b(0x26c)&&settings[_0x4a5c1b(0x291)]=='orders'){if(tgBot&&settings[_0x4a5c1b(0x28e)]){if(_0x4502f0[_0x4a5c1b(0x27b)])tgBot['sendMessage'](settings[_0x4a5c1b(0x28e)],_0x4502f0['botname']+_0x4a5c1b(0x171)+_0x4502f0[_0x4a5c1b(0x1f0)])['catch'](_0x2dc3d7=>{telegramError(_0x2dc3d7);});else tgBot[_0x4a5c1b(0x18e)](settings[_0x4a5c1b(0x28e)],'Bot\x20'+_0x56d9a2+'\x20>\x20'+_0x4502f0[_0x4a5c1b(0x1f0)])[_0x4a5c1b(0x2ab)](_0x139bee=>{telegramError(_0x139bee);});}}}}function getDeviceWithIp(_0x317490){const _0x57d59f=_0x26830c;return devices[_0x57d59f(0x24b)](_0x39edac=>_0x39edac['ip']===_0x317490);}function temporaryAccess2FA(_0x3393c3,_0x96795d){const _0x450dd1=_0x26830c;let _0x6be91f=new Date(),_0x1c4065=![];if(lastIpApproval){if(_0x6be91f-lastIpApproval<0x1388)_0x1c4065=!![];}lastIpApproval=new Date();if(_0x1c4065)return;tgBot&&settings[_0x450dd1(0x28e)]&&(tgBot[_0x450dd1(0x295)](_0x450dd1(0x1da)),tgBot[_0x450dd1(0x18e)](settings[_0x450dd1(0x28e)],_0x450dd1(0x204)+normalizeIP(_0x96795d)[_0x450dd1(0x2a5)]+_0x450dd1(0x2b3),{'parse_mode':_0x450dd1(0x296),'reply_markup':{'inline_keyboard':[[{'text':_0x450dd1(0x2a8),'callback_data':'5'},{'text':_0x450dd1(0x29a),'callback_data':'15'},{'text':_0x450dd1(0x1a2),'callback_data':'30'},{'text':_0x450dd1(0x2a1),'callback_data':_0x450dd1(0x2a1)}]]}})[_0x450dd1(0x2ab)](_0x27f4fd=>{telegramError(_0x27f4fd);}),tgBot['on'](_0x450dd1(0x1da),async _0x2aeb74=>{const _0x8a739f=_0x450dd1,_0x42cc2e=_0x2aeb74[_0x8a739f(0x209)],_0x5d8005=_0x2aeb74[_0x8a739f(0x214)];tgBot[_0x8a739f(0x1e1)](_0x2aeb74['id'])[_0x8a739f(0x168)](async()=>{const _0x11af61=_0x8a739f;devices[_0x3393c3][_0x11af61(0x22d)]={'clientip':_0x96795d,'timestamp':new Date()[_0x11af61(0x192)](),'expiry':_0x42cc2e},_0x42cc2e!=_0x11af61(0x2a1)?(await tgBot[_0x11af61(0x18e)](_0x5d8005[_0x11af61(0x1d2)]['id'],_0x11af61(0x26f)+_0x42cc2e+'\x20minutes',{'parse_mode':_0x11af61(0x296)})['catch'](_0xcb3bb0=>{telegramError(_0xcb3bb0);}),io['to'](_0x3393c3)[_0x11af61(0x1e3)](_0x11af61(0x227),{'access':{'allow':![],'reason':_0x11af61(0x213),'token':null}})):(await tgBot[_0x11af61(0x18e)](_0x5d8005[_0x11af61(0x1d2)]['id'],_0x11af61(0x1b3))[_0x11af61(0x2ab)](_0x26dd61=>{telegramError(_0x26dd61);}),io['to'](_0x3393c3)['emit']('status',{'access':{'allow':![],'reason':_0x11af61(0x24d),'token':null}}));}),tgBot['removeListener']('callback_query');}));}function loginAccess2FA(_0x393c96,_0x1ec05f){const _0x36347a=_0x26830c;tgBot&&settings['telegramChatId']&&(tgBot[_0x36347a(0x295)]('callback_query'),tgBot[_0x36347a(0x18e)](settings['telegramChatId'],_0x36347a(0x1f3)+normalizeIP(_0x1ec05f)[_0x36347a(0x2a5)]+_0x36347a(0x2b3),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x36347a(0x18c),'callback_data':loginExpiry},{'text':_0x36347a(0x2a1),'callback_data':_0x36347a(0x2a1)}]]}})['catch'](_0x465faf=>{telegramError(_0x465faf);}),tgBot['on'](_0x36347a(0x1da),async _0x24eb02=>{const _0x358102=_0x36347a,_0x5dac50=_0x24eb02[_0x358102(0x209)],_0x42be66=_0x24eb02[_0x358102(0x214)];tgBot[_0x358102(0x1e1)](_0x24eb02['id'])[_0x358102(0x168)](async()=>{const _0x5e7dd6=_0x358102;devices[_0x393c96][_0x5e7dd6(0x16e)]={'clientip':_0x1ec05f,'timestamp':new Date()[_0x5e7dd6(0x192)](),'expiry':_0x5dac50},_0x5dac50!=_0x5e7dd6(0x2a1)?(await tgBot[_0x5e7dd6(0x18e)](_0x42be66[_0x5e7dd6(0x1d2)]['id'],_0x5e7dd6(0x208),{'parse_mode':_0x5e7dd6(0x296)})[_0x5e7dd6(0x2ab)](_0x5811d2=>{telegramError(_0x5811d2);}),io['to'](_0x393c96)[_0x5e7dd6(0x1e3)](_0x5e7dd6(0x227),{'access':{'allow':![],'reason':_0x5e7dd6(0x213),'token':null}})):(await tgBot['sendMessage'](_0x42be66['chat']['id'],_0x5e7dd6(0x261))[_0x5e7dd6(0x2ab)](_0x27378b=>{telegramError(_0x27378b);}),io['to'](_0x393c96)[_0x5e7dd6(0x1e3)](_0x5e7dd6(0x227),{'access':{'allow':![],'reason':_0x5e7dd6(0x18d),'token':null}}));}),tgBot['removeListener'](_0x358102(0x1da));}));}function getConfiguration(){const _0x5b91f2=_0x26830c;return dbConfig[_0x5b91f2(0x191)](_0x5b91f2(0x286))[_0x5b91f2(0x1e6)](_0x5b91f2(0x27d))[_0x5b91f2(0x175)]()||[];}function getEnabledBots(){const _0x5ee419=_0x26830c;return dbConfig[_0x5ee419(0x191)](_0x5ee419(0x286))[_0x5ee419(0x1e6)](_0x5ee419(0x27d))[_0x5ee419(0x197)]({'status':_0x5ee419(0x1de)})[_0x5ee419(0x175)]()||[];}function getDisabledBots(){const _0x330f3f=_0x26830c;return dbConfig[_0x330f3f(0x191)](_0x330f3f(0x286))[_0x330f3f(0x1e6)](_0x330f3f(0x27d))[_0x330f3f(0x197)]({'status':_0x330f3f(0x1d9)})[_0x330f3f(0x175)]()||[];}function getSettings(){const _0x2831ad=_0x26830c;return dbSettings[_0x2831ad(0x191)]('settings')[_0x2831ad(0x175)]()||{'timeshift':0x0};}function getSecure(){const _0x3a2d5f=_0x26830c;return dbSecure[_0x3a2d5f(0x191)](_0x3a2d5f(0x1f9))[_0x3a2d5f(0x175)]()||{};}function getBlacklist(){const _0x1987c5=_0x26830c;return dbSecure['get'](_0x1987c5(0x16b))[_0x1987c5(0x175)]()||[];}function broadcastToBots(_0x25baa8,_0x2aaf7f){const _0x34e5a8=_0x26830c;config[_0x34e5a8(0x294)](_0x20abfe=>{const _0x504286=_0x34e5a8;if(_0x20abfe[_0x504286(0x227)]==_0x504286(0x1de)&&_0x20abfe[_0x504286(0x22b)]==_0x504286(0x1aa)){if(pid[_0x20abfe[_0x504286(0x27d)]])pid[_0x20abfe[_0x504286(0x27d)]][_0x504286(0x274)]({[_0x25baa8]:_0x2aaf7f});}});}function storeSettings(_0x3bea73,_0x4726f0=![]){const _0x5d7ce2=_0x26830c;_0x3bea73={...settings,..._0x3bea73};if(_0x4726f0&&_0x3bea73[_0x5d7ce2(0x1cb)]!=_0x5d7ce2(0x19b)&&_0x3bea73[_0x5d7ce2(0x1cb)]!=''){const _0xc9e657=crypt[_0x5d7ce2(0x250)](secure[_0x5d7ce2(0x1eb)],_0x3bea73[_0x5d7ce2(0x1cb)])[_0x5d7ce2(0x214)][_0x5d7ce2(0x1f8)]('@')[0x0],_0x3102fa=bcrypt[_0x5d7ce2(0x20d)](_0xc9e657,saltRounds);_0x3bea73={..._0x3bea73,'bbPassword':_0x3102fa};}if(_0x4726f0&&_0x3bea73['telegramToken']!=_0x5d7ce2(0x19b)&&_0x3bea73[_0x5d7ce2(0x266)]!=''){const _0x508a27=crypt['decrypt'](secure['privateKey'],_0x3bea73[_0x5d7ce2(0x266)])[_0x5d7ce2(0x214)][_0x5d7ce2(0x1f8)]('@')[0x0];_0x3bea73={..._0x3bea73,'telegramToken':_0x508a27};}const _0x5afe3c=_0x3bea73[_0x5d7ce2(0x266)]!=_0x5d7ce2(0x19b)&&_0x3bea73['telegramToken']!=settings[_0x5d7ce2(0x266)]||_0x3bea73[_0x5d7ce2(0x268)]!=settings[_0x5d7ce2(0x268)],_0x4da509=_0x3bea73[_0x5d7ce2(0x266)]==''||_0x3bea73['telegramUsername']=='';if(_0x5afe3c)_0x3bea73['telegramEvents']=_0x5d7ce2(0x258);for(const [_0x2bce6d,_0x4448c6]of Object[_0x5d7ce2(0x233)](_0x3bea73)){if(_0x2bce6d==_0x5d7ce2(0x266)&&_0x4448c6==_0x5d7ce2(0x19b)){_0x3bea73['telegramToken']=settings[_0x5d7ce2(0x266)];continue;};if(_0x2bce6d=='bbPassword'&&_0x4448c6=='************'){_0x3bea73[_0x5d7ce2(0x1cb)]=settings['bbPassword'];continue;};dbSettings['set']('settings.'+_0x2bce6d,_0x4448c6)[_0x5d7ce2(0x235)]();}settings=_0x3bea73,io['to'](_0x5d7ce2(0x257))[_0x5d7ce2(0x1e3)](_0x5d7ce2(0x1ab),cleanSettings()),broadcastToBots(_0x5d7ce2(0x195),settings['timeshift']);if(_0x5afe3c&&!_0x4da509)initTelegram();if(_0x5afe3c&&_0x4da509)disableTelegram();getAllClients()[_0x5d7ce2(0x294)](_0x2ae0fe=>{const _0x33b91d=_0x5d7ce2;getSocket(_0x2ae0fe['id'])[_0x33b91d(0x1e3)](_0x33b91d(0x227),{'access':{'allow':![],'reason':_0x33b91d(0x213),'token':null}});});}function updateSetting(_0x11b263,_0x1d4458){const _0x5f1cdb=_0x26830c;dbSettings[_0x5f1cdb(0x1f4)]('settings.'+_0x11b263,_0x1d4458)['write'](),settings=getSettings(),io['to'](_0x5f1cdb(0x257))[_0x5f1cdb(0x1e3)](_0x5f1cdb(0x1ab),cleanSettings());}function storeSecure(_0x2c45a2){const _0x277713=_0x26830c;dbSecure[_0x277713(0x191)]('secure')['push'](_0x2c45a2)[_0x277713(0x235)](),secure=_0x2c45a2;}function addBlacklist(_0xaee8a6){const _0x54fb85=_0x26830c;cleanBlacklist();let _0x3aa26c;devices[_0xaee8a6][_0x54fb85(0x22d)]?_0x3aa26c=Math[_0x54fb85(0x1b6)](devices[_0xaee8a6][_0x54fb85(0x22d)][_0x54fb85(0x1e5)],loginExpiry):_0x3aa26c=loginExpiry,dbSecure[_0x54fb85(0x191)](_0x54fb85(0x16b))[_0x54fb85(0x25c)]({'expiry':new Date()[_0x54fb85(0x192)]()+_0x3aa26c*0x3c*0x3e8,'token':devices[_0xaee8a6][_0x54fb85(0x21a)][_0x54fb85(0x280)]})[_0x54fb85(0x235)](),blacklist=dbSecure[_0x54fb85(0x191)](_0x54fb85(0x16b))['value']();}function _0x150e(_0x320ff6,_0x4d028b){const _0x154c13=_0x5516();return _0x150e=function(_0x54ee1a,_0x289d2c){_0x54ee1a=_0x54ee1a-0x166;let _0x55167b=_0x154c13[_0x54ee1a];return _0x55167b;},_0x150e(_0x320ff6,_0x4d028b);}function cleanBlacklist(){const _0x393f67=_0x26830c;let _0x4685a8=dbSecure['get']('blacklist')['cloneDeep']()[_0x393f67(0x175)](),_0x58b574=new Date()[_0x393f67(0x192)]();_0x4685a8[_0x393f67(0x294)](_0x5e46d2=>{const _0x56ca5f=_0x393f67;_0x5e46d2['expiry']<_0x58b574&&dbSecure[_0x56ca5f(0x191)](_0x56ca5f(0x16b))[_0x56ca5f(0x1b1)]({'expiry':_0x5e46d2[_0x56ca5f(0x1e5)]})[_0x56ca5f(0x235)]();});}function initStates(){const _0x2f5dbd=_0x26830c;let _0x1bbd5a=getConfiguration();_0x1bbd5a[_0x2f5dbd(0x294)](_0x335dbc=>{const _0x5243f5=_0x2f5dbd;_0x335dbc['live']=_0x5243f5(0x188);}),storeConfiguration(_0x1bbd5a);}function onKeys(){const _0x560dde=new RSA();return new Promise(_0x4331c1=>{const _0x191922=_0x150e;_0x560dde[_0x191922(0x23d)]()[_0x191922(0x168)](_0x28bb18=>{_0x4331c1(_0x28bb18);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x292d1e=_0x26830c;let _0x3fa7ad=getConfiguration(),_0x1c3019=![];_0x3fa7ad[_0x292d1e(0x294)](_0x57abac=>{const _0x1f55d4=_0x292d1e;if(_0x57abac['status']==_0x1f55d4(0x1aa))_0x57abac['status']=_0x1f55d4(0x1de),_0x1c3019=!![];else _0x57abac[_0x1f55d4(0x227)]=='stopped'&&(_0x57abac[_0x1f55d4(0x227)]=_0x1f55d4(0x1d9),_0x1c3019=!![]);});if(_0x1c3019)storeConfiguration(_0x3fa7ad);let _0x2a2f76=getSecure();if(!_0x2a2f76[_0x292d1e(0x228)](_0x292d1e(0x205))){let _0x345293=await generateKeys();_0x2a2f76[_0x292d1e(0x1d5)]=_0x345293[_0x292d1e(0x1d5)],_0x2a2f76[_0x292d1e(0x1eb)]=_0x345293[_0x292d1e(0x1eb)],_0x2a2f76[_0x292d1e(0x205)]=crypto[_0x292d1e(0x1a9)](0x20)[_0x292d1e(0x220)](_0x292d1e(0x1bc));;storeSecure(_0x2a2f76);}let _0xfc563b=getSettings();_0x1c3019=![];!_0xfc563b[_0x292d1e(0x228)](_0x292d1e(0x183))&&(_0xfc563b['loginRequired']=![],_0xfc563b[_0x292d1e(0x20a)]='',_0xfc563b['bbPassword']='',_0xfc563b[_0x292d1e(0x2a0)]=![],_0x1c3019=!![]);!_0xfc563b[_0x292d1e(0x228)](_0x292d1e(0x178))&&(_0xfc563b[_0x292d1e(0x178)]=![],_0xfc563b[_0x292d1e(0x18f)]=[],_0xfc563b['temporaryAccessAllowed']=![],_0x1c3019=!![]);if(!_0xfc563b[_0x292d1e(0x228)](_0x292d1e(0x29e))){if(_0xfc563b[_0x292d1e(0x28e)])_0xfc563b[_0x292d1e(0x29e)]=!![];else _0xfc563b[_0x292d1e(0x29e)]=![];_0x1c3019=!![];}if(_0x1c3019)storeSettings(_0xfc563b);}function storeConfiguration(_0x3bd14f){const _0x5a4974=_0x26830c;dbConfig[_0x5a4974(0x191)]('bots')[_0x5a4974(0x1b1)]()[_0x5a4974(0x235)](),dbConfig[_0x5a4974(0x191)]('bots')['push'](..._0x3bd14f)[_0x5a4974(0x235)](),config=_0x3bd14f;}function _0x5516(){const _0x51303e=['getMinutes','live','/:bot/portfolio','telegramIpApproval','<b>Balance\x20Bot\x20status:</b>\x0a','7256NHRVVj','cancelLoading','Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins','connected','entries','use','write','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','starting\x20new\x20bot\x20|\x20Bot\x20','placeOrder','-performance.json','Ok,\x20will\x20send\x20alert\x20notifications\x20only','RSA','sockets','generateKeyPairAsync','77CpDZsY','conn','deleted\x20Bot\x20','login\x20token\x20valid','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','Unauthorized\x20attempt\x20to\x20add\x20bot','randomFillSync','get-logs','pidRefreshToken','2FA\x20login\x20required','2FA\x20required','All','stopPolling','find','2726220aXhznx','temporary\x20access\x20rejected','/restart\x20-\x20restart\x20bot(s)\x0a','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','decrypt','Unauthorized\x20attempt\x20to\x20log\x20out','logged\x20out','1000','log','alerts','Unauthorized\x20attempt\x20to\x20store\x20configuration','botmanager','all','temporary\x20token\x20generated','stop','headers','push','Invalid\x20Telegram\x20token','Bot\x20Mgr\x20>\x20','lowdb/adapters/FileSync','orders','Login\x20rejected','toIPv4Address','constructor','getDate','pidExpireLogin','telegramToken','temporary\x20access\x20timeout','telegramUsername','sendFile','version.json','password','order','bb-settings.json','/:bot/history','Access\x20enabled\x20for\x20','uuid','ipc','referer','Notifications\x20disabled','send','login\x20not\x20required','All\x20bots','date-fns','polling_error','name','padStart','showname','disconnect','botID','Unauthorized\x20attempt\x20to\x20get\x20logs','match','token','/help\x20-\x20show\x20available\x20commands\x0a','args','bcryptjs','-config.json','Unauthorized\x20attempt\x20to\x20delete\x20bot','bots','Alerts','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','inherit','http','/enable\x20-\x20enable\x20notifications\x0a','login','temporary\x20access\x20not\x20allowed','telegramChatId','assign','telegram','telegramEvents','Error:\x20Invalid\x20argument\x20','storeConfiguration','forEach','removeListener','HTML','290idVxaN','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','toIPv4MappedAddress','15\x20min','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','includes','createServer','telegramEnabled','ipv6','f2aRequired','reject','No\x20bots\x20running\x20right\x20now','https://hodlerhacks.com','sign','show','All\x20bots\x20running\x20right\x20now','disabled\x20Bot\x20','5\x20min','3088089urTpyl','express','catch','restarting\x20Bot\x20','57080ykdnpS','2FA','env','mkdirSync','@analytics/google-analytics','search','</b>\x20?','127.0.0.1','sha256','Orders','Unauthorized\x20attempt\x20to\x20update\x20settings','then','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','login\x20token\x20generated','blacklist','\x20only\x0a','Notifications\x20enabled\x0a','telegram2FaApproval','update-bot','page','\x20>\x20','isValid','apiKey','slice','value','bb-config.json','getMonth','whitelistEnabled','reason','notification','isIPv4MappedAddress','existsSync','Balance\x20Bot\x20Server','defaults','jsonwebtoken','new','initclient','type','loginRequired','onText','yargs/yargs','getFullYear','from','stopped','host','252ufbCSr','error\x20while\x20deleting\x20config\x20files:\x20','accept','2FA\x20login\x20rejected','sendMessage','whitelist','Invalid\x20username\x20or\x20IP\x20address','get','getTime','join','access\x20timeout','timeshift','length','filter','isDirectory','once','Notifications\x20types:\x20','************','argv','path','bb-secure.json','get-starting-balances','started','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','30\x20min','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','default','exp','Invalid\x20IP\x20address','bot','/:bot/coins','randomBytes','running','settings','verify','static','kill','6VhtDrO','login\x20required','remove','add-bot','Temporary\x20access\x20rejected','bot-','get-portfolio','max',':\x20Bot\x20Mgr\x20>\x20','encryptedUuid','temporaryAccessAllowed','Password\x20reset\x20rejected','\x20|\x20','hex','getSeconds','ipaddr.js','Password\x20has\x20been\x20reset\x20to:\x20','fork','handshake','timestamp','cancel-loading','removeAllListeners','listen','copyFileSync','auth','-----------------------------------------------------------------------------------','::ffff:127.0.0.1','new-disabled','bbPassword','idling\x20bot\x20\x20\x20|\x20Bot\x20','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','Bot\x20','error','exit','logout','chat','user','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','publicKey','username','getPortfolio','success','disabled','callback_query','keys','/:bot','::1','enabled','906799ivUnbM','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','answerCallbackQuery','SIGINT','emit','delete-bot','expiry','sortBy','yes','analytics','clientip','server','privateKey','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','Invalid\x20authentication\x20token\x20(1)','invalid\x20credentials','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','event','Bot\x20Mgr\x20>\x20restarting\x20Bot\x20','/status\x20-\x20show\x20bot(s)\x20status\x0a','Allow\x20login\x20from\x20IP\x20address\x20<b>','set','-results.json','404\x20Not\x20Found','build','split','secure','2FA\x20login\x20token\x20generated','/:bot/configuration','Bot\x20Mgr\x20>\x20restarting\x20all\x20bots','storeHeadless','Notifications\x20enabled','test','store-headless','/:bot/support','config/','User\x20has\x20been\x20validated','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','secret','unlinkSync','getUTCHours','Login\x20accepted','data','bbUsername','botname','function','hashSync','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','clients','(((.+)+)+)+$','458124MyGxok','socket.io','reload','message','build2','place-order','store-configuration','Invalid\x20authentication\x20token\x20(2)','973599txeiua','access','allow','getHours','bot.js','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','remoteAddress','toString','10araQMD','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','version','index.html','status','hasOwnProperty','parse'];_0x5516=function(){return _0x51303e;};return _0x5516();}function resetPassword(){const _0x27c6bc=_0x26830c;tgBot&&settings[_0x27c6bc(0x28e)]&&(tgBot[_0x27c6bc(0x295)]('callback_query'),tgBot[_0x27c6bc(0x18e)](settings['telegramChatId'],_0x27c6bc(0x236),{'parse_mode':_0x27c6bc(0x296),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x27c6bc(0x1e7)},{'text':'no','callback_data':'no'}]]}})[_0x27c6bc(0x2ab)](_0x12e4e0=>{telegramError(_0x12e4e0);}),tgBot['on'](_0x27c6bc(0x1da),async _0x48c3d0=>{const _0x5865c3=_0x27c6bc,_0x4efac3=_0x48c3d0[_0x5865c3(0x209)],_0x37495a=_0x48c3d0[_0x5865c3(0x214)];tgBot['answerCallbackQuery'](_0x48c3d0['id'])['then'](async()=>{const _0x4896d2=_0x5865c3;if(_0x4efac3!='no'){const _0x181bb0=0xf,_0x452ca1=_0x4896d2(0x224),_0x1d4ba2=Array[_0x4896d2(0x187)](crypto[_0x4896d2(0x244)](new Uint32Array(_0x181bb0)))['map'](_0x205360=>_0x452ca1[_0x205360%_0x452ca1['length']])[_0x4896d2(0x193)](''),_0x309472=bcrypt['hashSync'](_0x1d4ba2,saltRounds);storeSettings({'bbPassword':_0x309472}),await tgBot[_0x4896d2(0x18e)](_0x37495a[_0x4896d2(0x1d2)]['id'],_0x4896d2(0x1bf)+_0x1d4ba2,{'parse_mode':_0x4896d2(0x296)})[_0x4896d2(0x2ab)](_0x56041b=>{telegramError(_0x56041b);});}else await tgBot[_0x4896d2(0x18e)](_0x37495a['chat']['id'],_0x4896d2(0x1ba))[_0x4896d2(0x2ab)](_0x2d3e50=>{telegramError(_0x2d3e50);});}),tgBot[_0x5865c3(0x295)](_0x5865c3(0x1da));}));}function logging(_0x588d7f){const _0x4df4f2=_0x26830c;console[_0x4df4f2(0x254)](getTimeStamp()+_0x4df4f2(0x1b7)+_0x588d7f);if(tgBot&&settings[_0x4df4f2(0x28e)]&&settings['telegramEvents']!=_0x4df4f2(0x260))tgBot[_0x4df4f2(0x18e)](settings[_0x4df4f2(0x28e)],_0x4df4f2(0x25e)+_0x588d7f)[_0x4df4f2(0x2ab)](_0x5e2b98=>{telegramError(_0x5e2b98);});}function getServerTime(){const _0x2e937=_0x26830c,_0x43e9a1=new Date();return _0x43e9a1[_0x2e937(0x186)]()+'/'+(_0x43e9a1[_0x2e937(0x177)]()+0x1)[_0x2e937(0x220)]()['padStart'](0x2,'0')+'/'+_0x43e9a1['getDate']()[_0x2e937(0x220)]()[_0x2e937(0x27a)](0x2,'0')+'\x20'+_0x43e9a1[_0x2e937(0x21c)]()[_0x2e937(0x220)]()['padStart'](0x2,'0')+':'+_0x43e9a1[_0x2e937(0x22a)]()[_0x2e937(0x220)]()['padStart'](0x2,'0')+':'+_0x43e9a1[_0x2e937(0x1bd)]()[_0x2e937(0x220)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x2c13fb=_0x26830c,_0x370921=shiftedTime();return _0x370921[_0x2c13fb(0x186)]()+'/'+(_0x370921[_0x2c13fb(0x177)]()+0x1)['toString']()[_0x2c13fb(0x27a)](0x2,'0')+'/'+_0x370921[_0x2c13fb(0x264)]()[_0x2c13fb(0x220)]()['padStart'](0x2,'0')+'\x20'+_0x370921['getHours']()[_0x2c13fb(0x220)]()['padStart'](0x2,'0')+':'+_0x370921['getMinutes']()['toString']()[_0x2c13fb(0x27a)](0x2,'0')+':'+_0x370921[_0x2c13fb(0x1bd)]()[_0x2c13fb(0x220)]()[_0x2c13fb(0x27a)](0x2,'0');}function shiftedTime(){const _0x1e3acd=_0x26830c,_0x1e9f16=new Date();let _0xb7aa14=_0x1e9f16;if(settings['timeshift']&&settings[_0x1e3acd(0x195)]!==0x0)_0xb7aa14=fns['add'](_0x1e9f16,{'hours':settings[_0x1e3acd(0x195)]});return _0xb7aa14;}function startScheduler(){const _0x313cf8=_0x26830c;let _0x2acc58=new Date()[_0x313cf8(0x207)]();_0x2acc58==0x1&&backupConfigFiles();_0x2acc58==0x9&&triggerAnalytics();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}function backupConfigFiles(){fs['readdirSync'](configpath,{'withFileTypes':!![]})['forEach'](_0x408c73=>{const _0x4ccf5d=_0x150e;if(!_0x408c73[_0x4ccf5d(0x198)]())fs[_0x4ccf5d(0x1c6)](configpath+_0x408c73['name'],configbackuppath+_0x408c73[_0x4ccf5d(0x279)]);});}function triggerAnalytics(){const _0xe29049=_0x26830c;analytics[_0xe29049(0x170)]({'title':_0xe29049(0x17d),'href':_0xe29049(0x2a3),'path':'/v'+serverversion});}function validateCredentials(_0x448925,_0x1d360f){const _0x197dfd=_0x26830c;if(_0x448925[_0x197dfd(0x1d6)]==settings[_0x197dfd(0x20a)]&&bcrypt['compareSync'](_0x448925['password'],settings[_0x197dfd(0x1cb)])){if(settings[_0x197dfd(0x2a0)])return{'allow':![],'reason':_0x197dfd(0x247),'token':null};else{const _0x49e33f=generateLoginToken(_0x1d360f);return{'allow':!![],'reason':_0x197dfd(0x16a),'token':_0x49e33f};}}else return{'allow':![],'reason':_0x197dfd(0x1ee),'token':null};}function refreshToken(_0x4c1ea8){const _0x319c5c=generateLoginToken(_0x4c1ea8);return{'allow':!![],'reason':'login\x20token\x20generated','token':_0x319c5c};}function validateAccess(_0x4e4aef,_0x2576c8){const _0x17aefa=_0x26830c;let _0xd07ed1=devices[_0x2576c8]['ip'],_0x2231f9;const _0x2c51b3=_0x2a6110=>{const _0x2dd01b=_0x150e;if(settings['loginRequired']){if(settings[_0x2dd01b(0x2a0)]){if(telegram2FaApproved(_0x2576c8)){const _0xec5c76=generateLoginToken(_0x2576c8);return{'allow':!![],'reason':_0x2dd01b(0x1fa),'token':_0xec5c76};}else return{'allow':![],'reason':'login\x20required','token':null};}else return _0x2231f9=validToken(_0x2a6110,_0x2576c8),_0x2231f9[_0x2dd01b(0x228)](_0x2dd01b(0x1d8))?{'allow':!![],'reason':_0x2dd01b(0x241),'token':_0x2a6110}:{'allow':![],'reason':_0x2dd01b(0x1b0),'token':null};}else return{'allow':!![],'reason':_0x2dd01b(0x275),'token':null};};if(settings[_0x17aefa(0x178)]){let _0x20eaa6=[...settings[_0x17aefa(0x18f)],_0x17aefa(0x1dd),_0x17aefa(0x1c9),_0x17aefa(0x2b4)];if(_0x20eaa6[_0x17aefa(0x29c)](_0xd07ed1))return _0x2c51b3(_0x4e4aef);else{_0x2231f9=validToken(_0x4e4aef,_0x2576c8);if(_0x2231f9['hasOwnProperty']('success'))return _0x2c51b3(_0x4e4aef);else{if(telegramIpApproved(_0x2576c8)){const _0x2cfbab=generateToken(_0x2576c8);return _0x2231f9=_0x2c51b3(_0x4e4aef),_0x2231f9['allow']?{'allow':!![],'reason':_0x17aefa(0x259),'token':_0x2cfbab}:_0x2231f9;}else return settings[_0x17aefa(0x1b9)]?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':_0x17aefa(0x28d),'token':null};}}}else return _0x2c51b3(_0x4e4aef);}function timelyDecrypt(_0x5422fe,_0x4a8db7=!![]){const _0x5b0502=_0x26830c;if(_0x5422fe)try{const _0x13e625=crypt['decrypt'](secure[_0x5b0502(0x1eb)],_0x5422fe)['message'],_0x130204=_0x13e625[_0x5b0502(0x1f8)]('@')[0x0],_0x12a296=_0x13e625[_0x5b0502(0x1f8)]('@')[0x1],_0xf0da04=new Date()[_0x5b0502(0x192)]();if(_0x4a8db7){if(_0xf0da04-_0x12a296<maxSecretAge*0x3e8)return _0x130204;else return![];}else return _0x130204;}catch(_0x2a3aeb){return![];}else return![];}const validToken=(_0x10c3e8,_0x3a9415)=>{const _0x264276=_0x26830c,_0x8b5771=devices[_0x3a9415]['ip'];if(!_0x10c3e8)return{'error':'No\x20authentication\x20token'};for(let _0x137e95 of blacklist){if(_0x137e95['token']==_0x10c3e8)return{'error':'Token\x20blacklisted'};}let _0x4f7742;try{_0x4f7742=jwt[_0x264276(0x1ac)](_0x10c3e8,secure[_0x264276(0x205)]+_0x3a9415);}catch{return{'error':_0x264276(0x1ed)};}if(!_0x4f7742['hasOwnProperty']('clientip')&&!_0x4f7742[_0x264276(0x228)](_0x264276(0x1d6))||!_0x4f7742['hasOwnProperty'](_0x264276(0x1a5)))return{'error':_0x264276(0x218)};if(!_0x4f7742[_0x264276(0x228)](_0x264276(0x1d6))&&_0x4f7742[_0x264276(0x228)](_0x264276(0x1e9))){const {clientip:_0x1519bf}=_0x4f7742;return _0x8b5771==_0x1519bf?{'success':_0x264276(0x203)}:{'error':_0x264276(0x1a6)};}else{if(_0x4f7742[_0x264276(0x228)](_0x264276(0x1d6))&&_0x4f7742[_0x264276(0x228)](_0x264276(0x1e9))){const {username:_0x194d7f,clientip:_0x10fcb7}=_0x4f7742;return settings['bbUsername']==_0x194d7f&&_0x8b5771==_0x10fcb7?{'success':'User\x20has\x20been\x20validated'}:{'error':_0x264276(0x190)};}}},generateLoginToken=_0x225991=>{const _0x2d02c0=_0x26830c;if(_0x225991){const _0x2d6e6e=devices[_0x225991]['ip'];return jwt[_0x2d02c0(0x2a4)]({'username':settings['bbUsername'],'clientip':_0x2d6e6e},secure[_0x2d02c0(0x205)]+_0x225991,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x95405b=>{const _0x31590c=_0x26830c;if(_0x95405b){const _0x9c3ee=devices[_0x95405b]['ip'];return jwt[_0x31590c(0x2a4)]({'clientip':_0x9c3ee},secure[_0x31590c(0x205)]+_0x95405b,{'expiresIn':devices[_0x95405b][_0x31590c(0x22d)]['expiry']*0x3c});}else return![];},telegramIpApproved=_0x586168=>{const _0x411356=_0x26830c;let _0x3a4617=![];return devices[_0x586168]['telegramIpApproval']&&devices[_0x586168][_0x411356(0x22d)][_0x411356(0x1e5)]!=_0x411356(0x2a1)&&(_0x3a4617=devices[_0x586168][_0x411356(0x22d)][_0x411356(0x1e9)]==devices[_0x586168]['ip']&&new Date()[_0x411356(0x192)]()-devices[_0x586168][_0x411356(0x22d)][_0x411356(0x1c2)]<devices[_0x586168][_0x411356(0x22d)][_0x411356(0x1e5)]*0x3c*0x3e8),_0x3a4617;},telegram2FaApproved=_0x2834df=>{const _0x55347e=_0x26830c;let _0x4ab856=![];return devices[_0x2834df][_0x55347e(0x16e)]&&devices[_0x2834df][_0x55347e(0x16e)][_0x55347e(0x1e5)]!='reject'&&(_0x4ab856=devices[_0x2834df][_0x55347e(0x16e)][_0x55347e(0x1e9)]==devices[_0x2834df]['ip']&&new Date()[_0x55347e(0x192)]()-devices[_0x2834df][_0x55347e(0x16e)][_0x55347e(0x1c2)]<devices[_0x2834df][_0x55347e(0x16e)][_0x55347e(0x1e5)]*0x3c*0x3e8),_0x4ab856;},normalizeIP=_0x14621c=>{const _0x51a7ec=_0x26830c;let _0x3e5ea1=null,_0x156d03=null;if(ipaddr[_0x51a7ec(0x172)](_0x14621c)){const _0x4d5ccd=ipaddr[_0x51a7ec(0x229)](_0x14621c);_0x4d5ccd['kind']()===_0x51a7ec(0x29f)?(_0x4d5ccd[_0x51a7ec(0x17b)]()&&(_0x3e5ea1=_0x4d5ccd[_0x51a7ec(0x262)]()['toString']()),_0x156d03=_0x4d5ccd['toString']()):(_0x3e5ea1=_0x4d5ccd[_0x51a7ec(0x220)](),_0x156d03=_0x4d5ccd[_0x51a7ec(0x299)]()[_0x51a7ec(0x220)]());}return{'show':_0x3e5ea1?_0x3e5ea1:_0x156d03,'store':_0x156d03};};