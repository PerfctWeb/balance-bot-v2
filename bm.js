const _0x15e056=_0xde29;(function(_0x98047a,_0x3541ce){const _0xd5cf11=_0xde29,_0xa7f81a=_0x98047a();while(!![]){try{const _0x2bf4ae=parseInt(_0xd5cf11(0x13d))/0x1+parseInt(_0xd5cf11(0x11f))/0x2*(-parseInt(_0xd5cf11(0x1dd))/0x3)+-parseInt(_0xd5cf11(0x17b))/0x4*(-parseInt(_0xd5cf11(0x21a))/0x5)+-parseInt(_0xd5cf11(0xff))/0x6*(parseInt(_0xd5cf11(0x11c))/0x7)+parseInt(_0xd5cf11(0x141))/0x8+parseInt(_0xd5cf11(0xfa))/0x9+-parseInt(_0xd5cf11(0x169))/0xa;if(_0x2bf4ae===_0x3541ce)break;else _0xa7f81a['push'](_0xa7f81a['shift']());}catch(_0x50cc8b){_0xa7f81a['push'](_0xa7f81a['shift']());}}}(_0x58b9,0x2b2b2));const _0x20200f=function(){let _0x2ea7fa=!![];return function(_0x2fa156,_0x51ccd1){const _0x405ce4=_0x2ea7fa?function(){const _0x2b6d93=_0xde29;if(_0x51ccd1){const _0x3dde21=_0x51ccd1[_0x2b6d93(0x202)](_0x2fa156,arguments);return _0x51ccd1=null,_0x3dde21;}}:function(){};return _0x2ea7fa=![],_0x405ce4;};}(),_0x3dd159=_0x20200f(this,function(){const _0x494908=_0xde29;return _0x3dd159[_0x494908(0x153)]()[_0x494908(0x1bd)](_0x494908(0x183))[_0x494908(0x153)]()['constructor'](_0x3dd159)['search'](_0x494908(0x183));});_0x3dd159();'use strict';process[_0x15e056(0x221)]['NTBA_FIX_319']=0x1;const childProcess=require(_0x15e056(0x112)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x15e056(0x1c4)),low=require(_0x15e056(0x17e)),path=require(_0x15e056(0x238)),crypto=require(_0x15e056(0x162)),Crypt=require(_0x15e056(0x1f4))[_0x15e056(0xf2)],RSA=require(_0x15e056(0x1f4))[_0x15e056(0x178)],bcrypt=require('bcryptjs'),jwt=require(_0x15e056(0x176)),analyticsLib=require('analytics')[_0x15e056(0x128)],googleAnalytics=require(_0x15e056(0x217))['default'],ipaddr=require(_0x15e056(0x1ad)),argv=require(_0x15e056(0x203))(process['argv'][_0x15e056(0x209)](0x2))[_0x15e056(0x15b)],PORT=argv['port']||_0x15e056(0x1cc),pattern=/^[0-9]{2,4}$/;!pattern[_0x15e056(0x1b9)](PORT)&&(console['log'](_0x15e056(0x1f1)+PORT+_0x15e056(0xf6)),process[_0x15e056(0x187)](0x1));const HOST=argv[_0x15e056(0x102)]||null,userID=argv[_0x15e056(0x100)]||'';let bbpath='bb/',bbpath2='';const botfile=_0x15e056(0x155),configfile=_0x15e056(0x13f),settingsfile=_0x15e056(0x137),securefile=_0x15e056(0x14e);let validInstallation=!![];!fs[_0x15e056(0x19f)](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x15e056(0x158)),configpath=userID?bbpath+'config/'+userID+'/':bbpath+_0x15e056(0x21c),configbackuppath=configpath+'backup/';!fs[_0x15e056(0x19f)](configpath)&&fs[_0x15e056(0x225)](configpath);!fs[_0x15e056(0x19f)](configbackuppath)&&fs[_0x15e056(0x225)](configbackuppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x15e056(0x1c8)]({'bots':[]})[_0x15e056(0x126)]();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings['defaults']({'settings':{'timeshift':0x0}})['write']();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure[_0x15e056(0x1c8)]({'secure':{},'blacklist':[]})[_0x15e056(0x126)]();let crypt=new Crypt({'md':'sha256','rsaStandard':_0x15e056(0x14b)});const saltRounds=0xa;let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x15e056(0x147))[_0x15e056(0x110)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![];oneTimeMigration(),cleanBlacklist();const express=require(_0x15e056(0x159)),app=express(),http=require(_0x15e056(0x1ce))[_0x15e056(0x12c)](app);app[_0x15e056(0x1bb)](express['static'](path['join'](__dirname,bbpath2,_0x15e056(0x116)))),app[_0x15e056(0x1bb)](express['static'](path[_0x15e056(0xf0)](__dirname,bbpath2,'build'))),app[_0x15e056(0x174)]('/',function(_0x23050f,_0x4422f1){const _0x5d2de8=_0x15e056;_0x4422f1[_0x5d2de8(0x19a)](path['join'](__dirname,bbpath2,_0x5d2de8(0x116),_0x5d2de8(0x22c)));}),app[_0x15e056(0x174)]('/:bot',function(_0x1cfd0f,_0x586852){const _0x5ddad6=_0x15e056;_0x586852[_0x5ddad6(0x19a)](path[_0x5ddad6(0xf0)](__dirname,bbpath2,'build',_0x5ddad6(0x22c)));}),app['get']('/:bot/portfolio',(_0x4d8e39,_0x4f0b22)=>{const _0x4ab29a=_0x15e056;_0x4f0b22[_0x4ab29a(0x19a)](path['join'](__dirname,bbpath2,_0x4ab29a(0x151),'index.html'));}),app[_0x15e056(0x174)]('/:bot/performance',(_0x288782,_0x52d87d)=>{const _0x51103c=_0x15e056;_0x52d87d[_0x51103c(0x19a)](path[_0x51103c(0xf0)](__dirname,bbpath2,_0x51103c(0x151),_0x51103c(0x22c)));}),app[_0x15e056(0x174)](_0x15e056(0x218),(_0x1d70ef,_0x448ed8)=>{const _0x27c703=_0x15e056;_0x448ed8[_0x27c703(0x19a)](path['join'](__dirname,bbpath2,_0x27c703(0x151),_0x27c703(0x22c)));}),app[_0x15e056(0x174)]('/:bot/history',(_0x3a21e4,_0x3d44dd)=>{const _0x233390=_0x15e056;_0x3d44dd[_0x233390(0x19a)](path['join'](__dirname,bbpath2,_0x233390(0x151),_0x233390(0x22c)));}),app[_0x15e056(0x174)](_0x15e056(0x223),(_0x5d31e9,_0x28fcd7)=>{const _0x51449e=_0x15e056;_0x28fcd7[_0x51449e(0x19a)](path[_0x51449e(0xf0)](__dirname,bbpath2,_0x51449e(0x151),_0x51449e(0x22c)));}),app[_0x15e056(0x174)](_0x15e056(0x215),(_0x348a57,_0x36d089)=>{const _0x33e500=_0x15e056;_0x36d089[_0x33e500(0x19a)](path['join'](__dirname,bbpath2,_0x33e500(0x151),'index.html'));});if(HOST)http[_0x15e056(0x1c9)](PORT,HOST);else http[_0x15e056(0x1c9)](PORT);const io=require(_0x15e056(0x1e1))(http,{}),analytics=analyticsLib({'app':'Balance\x20Bot','plugins':[googleAnalytics({'trackingId':'UA-192771731-1'})]}),TelegramBot=require(_0x15e056(0x14f));let tgBot;if(settings[_0x15e056(0x18d)]&&settings[_0x15e056(0x18d)]!=''&&settings[_0x15e056(0x1d0)]&&settings[_0x15e056(0x1d0)]!='')initTelegram();initStates(),startServer(),startSocket(),startScheduler();function startServer(){const _0x3fb8c6=_0x15e056;console[_0x3fb8c6(0x136)](''),console[_0x3fb8c6(0x136)]('-----------------------------------------------------------------------------------'),logging(_0x3fb8c6(0x216)+PORT),console[_0x3fb8c6(0x136)](_0x3fb8c6(0x148));if(config['length']!=0x0)config[_0x3fb8c6(0x133)](_0x3c2d12=>{const _0xb2e90a=_0x3fb8c6;if(_0x3c2d12[_0xb2e90a(0x173)]=='enabled'||_0x3c2d12['status']==_0xb2e90a(0x14c))logging(_0xb2e90a(0x124)+_0x3c2d12[_0xb2e90a(0x239)]+_0xb2e90a(0x163)+_0x3c2d12['botname']),startBot([_0x3c2d12[_0xb2e90a(0x239)],userID],{'cwd':bbpath},function(_0x7614c8){if(_0x7614c8)logging(_0x7614c8);});else(_0x3c2d12[_0xb2e90a(0x173)]=='disabled'||_0x3c2d12['status']==_0xb2e90a(0x16a))&&logging(_0xb2e90a(0x234)+_0x3c2d12[_0xb2e90a(0x239)]+_0xb2e90a(0x163)+_0x3c2d12[_0xb2e90a(0x1fd)]);});else!newBot&&console[_0x3fb8c6(0x136)]('>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!');if(newBot)addBot();console['log'](_0x3fb8c6(0x148)),console[_0x3fb8c6(0x136)]('');}function startSocket(){const _0x17c9e1=_0x15e056;io['on'](_0x17c9e1(0x1b7),_0x5ffb0c=>{const _0x27c774=_0x17c9e1;let _0x20f4fb,_0xa3fac0,_0x276816,_0x194038,_0x19089d;const _0x2b8544=_0x5ffb0c['handshake'][_0x27c774(0x1db)][_0x27c774(0x201)];_0xa3fac0=_0x2b8544[_0x27c774(0x117)](/bot[0-9]{3}/);if(_0xa3fac0)_0x276816=_0xa3fac0[0x0]['match'](/[0-9]{3}/);if(_0x276816)_0x20f4fb=_0x276816[0x0];else _0x20f4fb=_0x27c774(0x229);const _0x40703f=_0x5ffb0c[_0x27c774(0x230)][_0x27c774(0x208)]['encryptedUuid'];if(!_0x40703f)_0x5ffb0c[_0x27c774(0x210)](_0x27c774(0x173),{'publicKey':secure[_0x27c774(0x11a)]});else{_0x194038=timelyDecrypt(_0x40703f,![]);if(!_0x194038)_0x5ffb0c['emit'](_0x27c774(0x173),{'publicKey':secure[_0x27c774(0x11a)]});else{_0x19089d=normalizeIP(_0x5ffb0c[_0x27c774(0x15c)][_0x27c774(0x1d5)])['store'];if(!devices[_0x194038])devices[_0x194038]={'uuid':_0x194038,'access':{'token':null}};devices[_0x194038]['ip']=_0x19089d;const _0x373123=addClient(_0x5ffb0c['id'],_0x194038,_0x20f4fb);setAccess(_0x373123),_0x5ffb0c['on'](_0x27c774(0x1b1),_0x2cad67=>{const _0x2b5635=_0x27c774,_0x10780d=timelyDecrypt(_0x2cad67[_0x2b5635(0x20c)]);if(_0x10780d){_0x2cad67={'username':_0x2cad67[_0x2b5635(0x1a7)],'password':_0x10780d},devices[_0x194038][_0x2b5635(0x16b)]=validateCredentials(_0x2cad67,_0x194038);if(devices[_0x194038]['access']['allow']==![]&&devices[_0x194038][_0x2b5635(0x16b)]['reason']==_0x2b5635(0x152))_0x5ffb0c[_0x2b5635(0x210)](_0x2b5635(0x173),{'access':devices[_0x194038][_0x2b5635(0x16b)]}),loginAccess2FA(_0x194038,_0x19089d);else{if(devices[_0x194038]['access'][_0x2b5635(0x182)]==![]&&devices[_0x194038][_0x2b5635(0x16b)][_0x2b5635(0x12a)]==_0x2b5635(0x1a1))_0x5ffb0c[_0x2b5635(0x210)]('status',{'access':devices[_0x194038]['access']});else devices[_0x194038]['access'][_0x2b5635(0x182)]&&devices[_0x194038][_0x2b5635(0x16b)][_0x2b5635(0x12a)]==_0x2b5635(0x1e5)&&(getClientsWithUuid(_0x194038)[_0x2b5635(0x133)](_0x10e4cb=>{setAccess(_0x10e4cb);}),setTokenRefresh(_0x194038),setSessionTimeout(_0x2b5635(0x1b1),_0x194038));}}else logging(_0x2b5635(0x1ef));}),_0x5ffb0c['on']('reset-password',()=>{resetPassword();}),_0x5ffb0c['on'](_0x27c774(0x127),_0x1b4928=>{removeClient(_0x5ffb0c['id']);});}}});}function initClient(_0x3e6834){const _0xd5ef9f=_0x15e056;if(_0x3e6834!=_0xd5ef9f(0x229)&&config[_0xd5ef9f(0x12e)]!=''){if(pid[_0x3e6834])pid[_0x3e6834]['send']({'function':_0xd5ef9f(0x1a6),'args':null});}}function getSocket(_0x80905d){const _0x442fb8=_0x15e056;return io[_0x442fb8(0x146)][_0x442fb8(0x146)]['get'](_0x80905d);}function setAccess(_0x52af0c){const _0x26b870=_0x15e056,_0x122437=getSocket(_0x52af0c['id']),_0x4f54c6=_0x52af0c[_0x26b870(0x18c)],_0x323812=_0x52af0c['bot'];devices[_0x4f54c6][_0x26b870(0x16b)]=validateAccess(devices[_0x4f54c6][_0x26b870(0x16b)][_0x26b870(0x20d)],_0x4f54c6),_0x122437[_0x26b870(0xf0)](_0x4f54c6);if(devices[_0x4f54c6]['access'][_0x26b870(0x182)]){_0x122437['join'](_0x323812);if(_0x323812==_0x26b870(0x229))initializeSocketBotManager(_0x122437);else initializeSocketBot(_0x122437);initClient(_0x323812);}devices[_0x4f54c6]['access'][_0x26b870(0x20d)]&&devices[_0x4f54c6]['access']['reason']==_0x26b870(0x15e)&&setSessionTimeout(_0x26b870(0x1fb),_0x4f54c6),devices[_0x4f54c6][_0x26b870(0x16b)][_0x26b870(0x20d)]&&devices[_0x4f54c6][_0x26b870(0x16b)][_0x26b870(0x12a)]==_0x26b870(0x1df)&&setSessionTimeout('login',_0x4f54c6),_0x122437['emit'](_0x26b870(0x173),{'status':_0x52af0c['server'],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x4f54c6][_0x26b870(0x16b)],'externalip':devices[_0x4f54c6]['ip'],'publicKey':secure[_0x26b870(0x11a)],'validInstallation':validInstallation}),devices[_0x4f54c6][_0x26b870(0x16b)][_0x26b870(0x182)]==![]&&devices[_0x4f54c6][_0x26b870(0x16b)]['reason']=='2FA\x20required'&&temporaryAccess2FA(_0x4f54c6,devices[_0x4f54c6]['ip']);}function setSessionTimeout(_0x377523,_0x279074){const _0x1236ac=_0x15e056;let _0xa2ca5d;if(_0x377523==_0x1236ac(0x1b1))_0xa2ca5d=loginExpiry*0x3c*0x3e8;else _0xa2ca5d=devices[_0x279074][_0x1236ac(0x1a5)]['expiry']*0x3c*0x3e8-(new Date()[_0x1236ac(0x235)]()-devices[_0x279074][_0x1236ac(0x1a5)][_0x1236ac(0x1d9)]);if(devices[_0x279074]['pidExpireLogin'])clearTimeout(devices[_0x279074][_0x1236ac(0x140)]);devices[_0x279074][_0x1236ac(0x140)]=setTimeout(()=>{const _0x188db3=_0x1236ac;if(devices[_0x279074]['pidRefreshToken'])clearTimeout(devices[_0x279074][_0x188db3(0x1de)]);removeSocketListeners(_0x279074),addBlacklist(_0x279074),devices[_0x279074][_0x188db3(0x1a5)]=null,devices[_0x279074][_0x188db3(0x1e9)]=null,devices[_0x279074][_0x188db3(0x16b)][_0x188db3(0x20d)]=null,devices[_0x279074][_0x188db3(0x16b)]=validateAccess(devices[_0x279074]['access'][_0x188db3(0x20d)],_0x279074),!(devices[_0x279074][_0x188db3(0x16b)][_0x188db3(0x182)]&&devices[_0x279074][_0x188db3(0x16b)][_0x188db3(0x12a)]==_0x188db3(0x224))&&(_0x377523==_0x188db3(0x1b1)?io['to'](_0x279074)[_0x188db3(0x210)](_0x188db3(0x173),{'access':{'allow':![],'reason':'access\x20timeout','token':null}}):io['to'](_0x279074)[_0x188db3(0x210)](_0x188db3(0x173),{'access':{'allow':![],'reason':_0x188db3(0x12b),'token':null}})),devices[_0x279074][_0x188db3(0x16b)]['token']=null;},_0xa2ca5d);}function setTokenRefresh(_0x4e23a6){const _0xb62f39=_0x15e056;if(devices[_0x4e23a6]['pidRefreshToken'])clearTimeout(devices[_0x4e23a6][_0xb62f39(0x1de)]);devices[_0x4e23a6][_0xb62f39(0x1de)]=setTimeout(()=>{const _0x24ae11=_0xb62f39;getClientsWithUuid(_0x4e23a6)['length']!=0x0?(devices[_0x4e23a6]['access']=refreshToken(_0x4e23a6),io['to'](_0x4e23a6)[_0x24ae11(0x210)](_0x24ae11(0x173),{'status':'connected','serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x4e23a6][_0x24ae11(0x16b)],'externalip':devices[_0x4e23a6]['ip'],'publicKey':secure[_0x24ae11(0x11a)],'validInstallation':validInstallation}),setTokenRefresh(_0x4e23a6)):clearTimeout(devices[_0x4e23a6][_0x24ae11(0x1de)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x15b26e){const _0x532d65=_0x15e056,_0x384771=getClient(_0x15b26e['id'])[_0x532d65(0x18c)];_0x15b26e[_0x532d65(0x210)](_0x532d65(0x227),config),_0x15b26e[_0x532d65(0x210)]('settings',cleanSettings()),_0x15b26e['on']('add-bot',_0xa58a87=>{const _0x1d2007=_0x532d65;if(validateAccess(_0xa58a87,_0x384771)[_0x1d2007(0x182)])addBot();else logging(_0x1d2007(0x1fc));}),_0x15b26e['on'](_0x532d65(0x18e),(_0xb4b566,_0x275f86)=>{const _0x4e643b=_0x532d65;if(validateAccess(_0x275f86,_0x384771)['allow'])toggleBot(_0xb4b566[_0x4e643b(0x239)],_0xb4b566[_0x4e643b(0x173)],_0xb4b566[_0x4e643b(0xfd)]);else logging(_0x4e643b(0x115));}),_0x15b26e['on'](_0x532d65(0x1fe),(_0x1290f1,_0x4bdff1)=>{if(validateAccess(_0x4bdff1,_0x384771)['allow'])toggleBotMode(_0x1290f1);else logging('Unauthorized\x20attempt\x20to\x20update\x20bot');}),_0x15b26e['on'](_0x532d65(0x20b),(_0x87ff81,_0x129a46)=>{if(validateAccess(_0x129a46,_0x384771)['allow'])deleteBot(_0x87ff81);else logging('Unauthorized\x20attempt\x20to\x20delete\x20bot');}),_0x15b26e['on'](_0x532d65(0x198),(_0x31944c,_0x4823fe)=>{const _0x3bda80=_0x532d65;if(validateAccess(_0x4823fe,_0x384771)[_0x3bda80(0x182)])storeSettings(_0x31944c,!![]);else logging('Unauthorized\x20attempt\x20to\x20update\x20settings');}),_0x15b26e['on']('update-bb',_0x3d9084=>{const _0x39f583=_0x532d65;if(validateAccess(_0x3d9084,_0x384771)[_0x39f583(0x182)])updateBB();else logging(_0x39f583(0x138));}),_0x15b26e['on'](_0x532d65(0x181),_0x383e81=>{const _0x3091fe=_0x532d65;if(validateAccess(_0x383e81,_0x384771)[_0x3091fe(0x182)]){if(devices[_0x384771][_0x3091fe(0x1de)])clearTimeout(devices[_0x384771][_0x3091fe(0x1de)]);if(devices[_0x384771][_0x3091fe(0x140)])clearTimeout(devices[_0x384771][_0x3091fe(0x140)]);removeSocketListeners(getClient(_0x15b26e['id'])[_0x3091fe(0x18c)]),addBlacklist(_0x384771),devices[_0x384771][_0x3091fe(0x1a5)]=null,devices[_0x384771][_0x3091fe(0x1e9)]=null,devices[_0x384771][_0x3091fe(0x16b)][_0x3091fe(0x20d)]=null,io['to'](getClient(_0x15b26e['id'])[_0x3091fe(0x18c)])['emit'](_0x3091fe(0x173),{'access':{'allow':![],'reason':_0x3091fe(0x1b2),'token':null}});}else logging(_0x3091fe(0x125));});}function initializeSocketBot(_0x13593e){const _0x4bf4c6=_0x15e056,_0x50ba6f=getClient(_0x13593e['id'])[_0x4bf4c6(0x1b6)],_0x2651e4=getClient(_0x13593e['id'])[_0x4bf4c6(0x18c)];_0x13593e['on'](_0x4bf4c6(0x105),(_0xf09a54,_0xcc5f1e)=>{const _0x58d1f5=_0x4bf4c6;if(validateAccess(_0xcc5f1e,_0x2651e4)[_0x58d1f5(0x182)]){if(pid[_0x50ba6f])pid[_0x50ba6f][_0x58d1f5(0x161)]({'function':'emitHistory','args':_0xf09a54});}else logging(_0x58d1f5(0x18a));}),_0x13593e['on'](_0x4bf4c6(0x10f),(_0x520a93,_0x563eb2)=>{const _0xcd3552=_0x4bf4c6;if(validateAccess(_0x563eb2,_0x2651e4)[_0xcd3552(0x182)]){if(pid[_0x50ba6f])pid[_0x50ba6f][_0xcd3552(0x161)]({'function':'deleteHistoryAlerts','args':_0x520a93});}else logging(_0xcd3552(0x13e));}),_0x13593e['on'](_0x4bf4c6(0x1c3),(_0x59afbc,_0x4b2ec5)=>{const _0x258517=_0x4bf4c6;if(validateAccess(_0x4b2ec5,_0x2651e4)[_0x258517(0x182)]){if(pid[_0x50ba6f])pid[_0x50ba6f][_0x258517(0x161)]({'function':_0x258517(0x22d),'args':_0x59afbc});}else logging(_0x258517(0x1cf));}),_0x13593e['on'](_0x4bf4c6(0x11b),(_0x137d55,_0x5055ad)=>{const _0x46ae32=_0x4bf4c6;if(validateAccess(_0x5055ad,_0x2651e4)[_0x46ae32(0x182)]){if(pid[_0x50ba6f])pid[_0x50ba6f]['send']({'function':'storeConfiguration','args':_0x137d55});}else logging('Unauthorized\x20attempt\x20to\x20store\x20configuration');}),_0x13593e['on'](_0x4bf4c6(0x108),(_0x3f4805,_0x53b48e)=>{const _0x4aae16=_0x4bf4c6;if(validateAccess(_0x53b48e,_0x2651e4)['allow']){if(pid[_0x50ba6f])pid[_0x50ba6f][_0x4aae16(0x161)]({'function':_0x4aae16(0x157),'args':_0x3f4805});}else logging(_0x4aae16(0xf8));}),_0x13593e['on']('get-starting-balances',_0x3a4e5b=>{const _0x1422de=_0x4bf4c6;if(validateAccess(_0x3a4e5b,_0x2651e4)[_0x1422de(0x182)]){if(pid[_0x50ba6f])pid[_0x50ba6f]['send']({'function':_0x1422de(0x1fa),'args':null});}else logging('Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances');}),_0x13593e['on'](_0x4bf4c6(0x1d2),(_0x341472,_0x2a67bc)=>{const _0x59de72=_0x4bf4c6;if(validateAccess(_0x2a67bc,_0x2651e4)[_0x59de72(0x182)]){if(pid[_0x50ba6f])pid[_0x50ba6f][_0x59de72(0x161)]({'function':_0x59de72(0x22b),'args':_0x341472});}else logging('Unauthorized\x20attempt\x20to\x20place\x20market\x20order');}),_0x13593e['on'](_0x4bf4c6(0x1ba),_0x2961e4=>{const _0x30e9c0=_0x4bf4c6;if(validateAccess(_0x2961e4,_0x2651e4)['allow']){if(pid[_0x50ba6f])pid[_0x50ba6f][_0x30e9c0(0x161)]({'function':_0x30e9c0(0x1c0),'args':null});}else logging('Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins');}),_0x13593e['on'](_0x4bf4c6(0x181),_0x191a16=>{const _0x44d316=_0x4bf4c6;if(validateAccess(_0x191a16,_0x2651e4)['allow']){if(devices[_0x2651e4][_0x44d316(0x1de)])clearTimeout(devices[_0x2651e4][_0x44d316(0x1de)]);if(devices[_0x2651e4][_0x44d316(0x140)])clearTimeout(devices[_0x2651e4][_0x44d316(0x140)]);removeSocketListeners(getClient(_0x13593e['id'])[_0x44d316(0x18c)]),addBlacklist(_0x2651e4),devices[_0x2651e4][_0x44d316(0x1a5)]=null,devices[_0x2651e4][_0x44d316(0x1e9)]=null,devices[_0x2651e4][_0x44d316(0x16b)][_0x44d316(0x20d)]=null,io['to'](getClient(_0x13593e['id'])['uuid'])['emit'](_0x44d316(0x173),{'access':{'allow':![],'reason':'logged\x20out','token':null}});}else logging(_0x44d316(0x125));});}function removeSocketListeners(_0x2997e3){const _0xa54bf=_0x15e056;getClientsWithUuid(_0x2997e3)[_0xa54bf(0x133)](_0x32ad5d=>{getSocket(_0x32ad5d['id'])['removeAllListeners']();});}function cleanSettings(){const _0x1c3b9c=_0x15e056;let _0x102b8b=settings;return settings[_0x1c3b9c(0x18d)]&&settings[_0x1c3b9c(0x18d)]!=''&&(_0x102b8b={..._0x102b8b,'telegramToken':_0x1c3b9c(0x154)}),settings[_0x1c3b9c(0x10c)]&&settings['bbPassword']!=''&&(_0x102b8b={..._0x102b8b,'bbPassword':_0x1c3b9c(0x154)}),_0x102b8b;}function updateBB(){const _0x5c63e6=_0x15e056;installingUpdate=!![],config[_0x5c63e6(0x133)](_0x3d07b1=>{const _0x440630=_0x5c63e6;restartBot(_0x3d07b1[_0x440630(0x239)]);}),process['send']({'update':!![]},_0x5111f6=>{});}function startBot(_0x1978e8,_0x5147d1,_0x481b0d){const _0x17959d=_0x15e056;let _0x9f1af5=![];const _0x1db28d=_0x1978e8[0x0];_0x5147d1={..._0x5147d1,'stdio':['inherit','inherit',_0x17959d(0x13a),'ipc']},pid[_0x1db28d]=childProcess['fork'](botfile,_0x1978e8,_0x5147d1),pid[_0x1db28d]['on'](_0x17959d(0x130),_0x28e3f5=>{const _0x1e191a=_0x17959d;switch(Object['keys'](_0x28e3f5)[0x0]){case _0x1e191a(0x1fd):updateBotName(_0x1db28d,_0x28e3f5[_0x1e191a(0x1fd)]);break;case'updatebotmanager':updateBotManager();break;case _0x1e191a(0x173):updateStatus(_0x1db28d,_0x28e3f5[_0x1e191a(0x173)]);break;case _0x1e191a(0xfd):updateLive(_0x1db28d,_0x28e3f5[_0x1e191a(0xfd)]);break;case _0x1e191a(0x10e):updateLive(_0x1db28d,_0x28e3f5[_0x1e191a(0x10e)]),io['to'](_0x1db28d)[_0x1e191a(0x210)](_0x1e191a(0x173),{'access':{'allow':![],'reason':'reload','token':null}});break;case _0x1e191a(0x1a0):_0x28e3f5['stop']=='restart'&&restartBot(_0x1db28d);_0x28e3f5[_0x1e191a(0x1a0)]==_0x1e191a(0x236)&&toggleBot(_0x1db28d,'disabled',_0x1e191a(0x1c1));break;case _0x1e191a(0x149):sendTelegram(_0x1db28d,_0x28e3f5[_0x1e191a(0x149)]);break;case'function':io['to'](_0x1db28d)['emit'](_0x28e3f5[_0x1e191a(0xf7)],_0x28e3f5[_0x1e191a(0xf9)]);break;}}),pid[_0x1db28d]['on'](_0x17959d(0x1b4),function(_0xbc186d){if(_0x9f1af5)return;_0x9f1af5=!![],_0x481b0d(_0xbc186d);}),pid[_0x1db28d]['on'](_0x17959d(0x187),function(_0x2daf2c){const _0x2a26b2=_0x17959d;if(installingUpdate)return;if(_0x9f1af5)return;_0x9f1af5=!![],_0x481b0d(null);const _0xc5dd00=dbConfig[_0x2a26b2(0x174)]('bots')[_0x2a26b2(0x1ae)]({'botID':_0x1db28d})[_0x2a26b2(0x11d)]();_0xc5dd00&&(_0xc5dd00['status']=='enabled'||_0xc5dd00[_0x2a26b2(0x173)]==_0x2a26b2(0x14c))&&(updateLive(_0x1db28d,_0x2a26b2(0x1c1)),logging(_0x2a26b2(0x160)+_0x1db28d),startBot([_0x1db28d,userID],{'cwd':bbpath},function(_0x3e29b7){if(_0x3e29b7)logging(_0x3e29b7);}));});}function _0xde29(_0x346b47,_0x525cf6){const _0x240523=_0x58b9();return _0xde29=function(_0x3dd159,_0x20200f){_0x3dd159=_0x3dd159-0xf0;let _0x58b93d=_0x240523[_0x3dd159];return _0x58b93d;},_0xde29(_0x346b47,_0x525cf6);}function stopBot(_0x2a71ae){const _0x3394b2=_0x15e056;getClientsWithBotID(_0x2a71ae)['forEach'](_0x1dbe13=>{const _0x20792c=_0xde29;getSocket(_0x1dbe13['id'])[_0x20792c(0x127)](!![]),removeClient(_0x1dbe13['id']);}),pid[_0x2a71ae]&&(pid[_0x2a71ae][_0x3394b2(0x236)](),pid[_0x2a71ae]=null);}function restartBot(_0x1c4cdd){const _0x359473=_0x15e056;if(pid[_0x1c4cdd])pid[_0x1c4cdd][_0x359473(0x236)]();}function addBot(){const _0x1b6c2a=_0x15e056;let _0x835121;for(let _0xd12ef=0x1;_0xd12ef<0x3e9;_0xd12ef++){_0x835121=_0xd12ef['toString']()['padStart'](0x3,'0');let _0x4637d9=config[_0x1b6c2a(0x1ae)](_0x15f40e=>_0x15f40e[_0x1b6c2a(0x239)]==_0x835121);if(!_0x4637d9)break;}if(_0x835121===_0x1b6c2a(0x143)){logging(_0x1b6c2a(0x219));return;}logging(_0x1b6c2a(0x177)+_0x835121),dbConfig[_0x1b6c2a(0x174)](_0x1b6c2a(0x227))['push']({'botID':_0x835121,'botname':_0x1b6c2a(0x19d)+_0x835121,'status':'new','live':''})[_0x1b6c2a(0x126)](),startBot([_0x835121,userID],{'cwd':bbpath},function(_0x122290){if(_0x122290)logging(_0x122290);}),config=getConfiguration(),io['to'](_0x1b6c2a(0x229))['emit'](_0x1b6c2a(0x227),config);}function deleteBot(_0x2e58da){const _0x554096=_0x15e056;getClientsWithBotID(_0x2e58da)[_0x554096(0x133)](_0x2433b0=>{const _0x1baa2=_0x554096;getSocket(_0x2433b0['id'])[_0x1baa2(0x127)](!![]),removeClient(_0x2433b0['id']);}),dbConfig[_0x554096(0x174)]('bots')[_0x554096(0x20a)]({'botID':_0x2e58da})[_0x554096(0x126)](),logging(_0x554096(0x184)+_0x2e58da),stopBot(_0x2e58da);try{fs['unlinkSync'](path[_0x554096(0xf0)](configpath,'bot-'+_0x2e58da+_0x554096(0x1f6))),fs['unlinkSync'](path['join'](configpath,_0x554096(0x180)+_0x2e58da+'-events.json')),fs[_0x554096(0x1a8)](path[_0x554096(0xf0)](configpath,_0x554096(0x180)+_0x2e58da+_0x554096(0x1c7))),fs[_0x554096(0x1a8)](path[_0x554096(0xf0)](configpath,_0x554096(0x180)+_0x2e58da+_0x554096(0x20e)));}catch(_0x5c629a){if(_0x5c629a)logging(_0x554096(0x1e7),_0x5c629a);}config=getConfiguration(),io['to'](_0x554096(0x229))[_0x554096(0x210)](_0x554096(0x227),config);}function toggleBot(_0x44ca55,_0x16fc6d,_0x35f2c4){const _0x10c258=_0x15e056;dbConfig[_0x10c258(0x174)](_0x10c258(0x227))[_0x10c258(0x1ae)]({'botID':_0x44ca55})['assign']({'status':_0x16fc6d})[_0x10c258(0x17d)]({'live':_0x35f2c4})[_0x10c258(0x126)]();if(_0x16fc6d==_0x10c258(0x142)||_0x16fc6d==_0x10c258(0x14c))logging(_0x10c258(0xf5)+_0x44ca55),startBot([_0x44ca55,userID],{'cwd':bbpath},function(_0x10d318){if(_0x10d318)logging(_0x10d318);});else(_0x16fc6d==_0x10c258(0x1e0)||_0x16fc6d=='new-disabled')&&(logging('disabled\x20Bot\x20'+_0x44ca55),stopBot(_0x44ca55));config=getConfiguration(),io['to'](_0x10c258(0x229))[_0x10c258(0x210)](_0x10c258(0x227),config);}function toggleStatus(_0x7791a4){const _0xdca6db=_0x15e056;let _0x338df4=dbConfig[_0xdca6db(0x174)](_0xdca6db(0x227))[_0xdca6db(0x1ae)]({'botID':_0x7791a4})[_0xdca6db(0x11d)](),_0x1ec887;if(_0x338df4['status']==='enabled')_0x1ec887=_0xdca6db(0x1e0);else{if(_0x338df4[_0xdca6db(0x173)]===_0xdca6db(0x14c))_0x1ec887='new-disabled';else{if(_0x338df4[_0xdca6db(0x173)]===_0xdca6db(0x16a))_0x1ec887=_0xdca6db(0x14c);else{if(_0x338df4[_0xdca6db(0x173)]===_0xdca6db(0x1e0))_0x1ec887='enabled';}}}return _0x1ec887;}function updateStatus(_0x408033,_0x454cbe){const _0x4d53e3=_0x15e056;dbConfig[_0x4d53e3(0x174)]('bots')[_0x4d53e3(0x1ae)]({'botID':_0x408033})[_0x4d53e3(0x17d)]({'status':_0x454cbe})[_0x4d53e3(0x126)](),config=getConfiguration(),io['to'](_0x4d53e3(0x229))[_0x4d53e3(0x210)](_0x4d53e3(0x227),config);}function updateLive(_0x13f89d,_0x452059){const _0x3746de=_0x15e056;dbConfig[_0x3746de(0x174)](_0x3746de(0x227))[_0x3746de(0x1ae)]({'botID':_0x13f89d})['assign']({'live':_0x452059})[_0x3746de(0x126)](),config=getConfiguration(),io['to'](_0x3746de(0x229))['emit']('bots',config);}function updateBotName(_0x1a7e51,_0x92f36f){const _0x7aa24=_0x15e056;dbConfig[_0x7aa24(0x174)](_0x7aa24(0x227))[_0x7aa24(0x1ae)]({'botID':_0x1a7e51})[_0x7aa24(0x17d)]({'botname':_0x92f36f})['write'](),config=getConfiguration(),io['to'](_0x7aa24(0x229))[_0x7aa24(0x210)](_0x7aa24(0x227),config);}function updateBotManager(){const _0x4c1d9b=_0x15e056;config=getConfiguration(),io['to']('botmanager')[_0x4c1d9b(0x210)](_0x4c1d9b(0x227),config);}function toggleBotMode(_0x4e7f18){const _0x5c919f=_0x15e056;if(pid[_0x4e7f18])pid[_0x4e7f18]['send']({'function':_0x5c919f(0x207),'args':null});else{const _0x38d225=configpath+_0x5c919f(0x180)+_0x4e7f18+_0x5c919f(0x1f6),_0x5be706=fs[_0x5c919f(0x1eb)](_0x38d225),_0x3af7f3=JSON[_0x5c919f(0x122)](_0x5be706),_0x2ea6e4=_0x3af7f3[_0x5c919f(0x1b6)][0x0][_0x5c919f(0x179)];_0x3af7f3['bot'][0x0][_0x5c919f(0x179)]=!_0x2ea6e4;const _0x2c82b6=JSON[_0x5c919f(0x10b)](_0x3af7f3,null,0x2);fs['writeFileSync'](_0x38d225,_0x2c82b6),config=getConfiguration(),io['to']('botmanager')[_0x5c919f(0x210)]('bots',config);}}function telegramError(_0x833f01){const _0xcc4ce4=_0x15e056;console[_0xcc4ce4(0x136)](getTimeStamp()+':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed');}function validateTelegram(_0x54304f){const _0x292240=_0x15e056;if(_0x54304f['from'][_0x292240(0x1a7)]!=settings[_0x292240(0x1d0)]&&'@'+_0x54304f['from'][_0x292240(0x1a7)]!=settings['telegramUsername'])return tgBot[_0x292240(0x168)](_0x54304f[_0x292240(0x1a3)]['id'],_0x292240(0x1f9),{'parse_mode':_0x292240(0x1be)})['catch'](_0x10d606=>{telegramError(_0x10d606);}),![];return!![];}async function initTelegram(){const _0x58362a=_0x15e056;if(tgBot)tgBot[_0x58362a(0xf1)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings[_0x58362a(0x18d)],{'polling':!![]});let _0x4212c9=_0x58362a(0x114);_0x4212c9+='\x0a',_0x4212c9+=_0x58362a(0xfc),_0x4212c9+='/disable\x20-\x20disable\x20notifications\x0a',_0x4212c9+=_0x58362a(0x1c2),_0x4212c9+=_0x58362a(0x232),_0x4212c9+='/on\x20-\x20start\x20bot(s)\x0a',_0x4212c9+=_0x58362a(0x190),_0x4212c9+=_0x58362a(0x22f),_0x4212c9+=_0x58362a(0x10d),_0x4212c9+=_0x58362a(0x1f2),_0x4212c9+='/help\x20-\x20show\x20available\x20commands\x0a';let _0x46b81d='Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a';_0x46b81d+='\x0a',_0x46b81d+=_0x4212c9,tgBot[_0x58362a(0x193)](/\/start/,_0x47f74b=>{const _0x5093eb=_0x58362a;if(!validateTelegram(_0x47f74b))return;if(settings[_0x5093eb(0x1ab)]!=_0x47f74b[_0x5093eb(0x1a3)]['id'])updateSetting(_0x5093eb(0x1ab),_0x47f74b[_0x5093eb(0x1a3)]['id']);updateSetting(_0x5093eb(0x188),!![]),tgBot['sendMessage'](_0x47f74b[_0x5093eb(0x1a3)]['id'],_0x46b81d)['catch'](_0x1ed72a=>{telegramError(_0x1ed72a);});}),tgBot[_0x58362a(0x193)](/\/enable/,_0x509ad3=>{const _0x5e9204=_0x58362a;if(!validateTelegram(_0x509ad3))return;if(settings[_0x5e9204(0x1ab)]!=_0x509ad3[_0x5e9204(0x1a3)]['id'])updateSetting(_0x5e9204(0x1ab),_0x509ad3[_0x5e9204(0x1a3)]['id']);updateSetting('telegramEnabled',!![]),tgBot[_0x5e9204(0x168)](_0x509ad3[_0x5e9204(0x1a3)]['id'],'Notifications\x20enabled')[_0x5e9204(0x1f5)](_0x1a2be9=>{telegramError(_0x1a2be9);});}),tgBot['onText'](/\/config/,async _0x17eea0=>{const _0xe82c86=_0x58362a;if(!validateTelegram(_0x17eea0))return;tgBot[_0xe82c86(0x21d)](_0xe82c86(0xf3)),tgBot['sendMessage'](_0x17eea0['chat']['id'],_0xe82c86(0x1f8),{'reply_markup':{'inline_keyboard':[[{'text':'Orders','callback_data':'orders'},{'text':_0xe82c86(0x1e6),'callback_data':_0xe82c86(0x13c)},{'text':_0xe82c86(0x19e),'callback_data':'all'}]]}})[_0xe82c86(0x1f5)](_0x39bc40=>{telegramError(_0x39bc40);}),tgBot['on']('callback_query',async _0x12b7da=>{const _0x205992=_0xe82c86,_0x437b56=_0x12b7da['data'],_0x335a2d=_0x12b7da[_0x205992(0x130)];tgBot[_0x205992(0x21e)](_0x12b7da['id'])[_0x205992(0x1a2)](async()=>{const _0x1eaef6=_0x205992;_0x437b56==_0x1eaef6(0x17f)&&(updateSetting(_0x1eaef6(0x1f7),_0x1eaef6(0x17f)),updateSetting(_0x1eaef6(0x188),!![]),await tgBot[_0x1eaef6(0x168)](_0x335a2d[_0x1eaef6(0x1a3)]['id'],_0x1eaef6(0x139))[_0x1eaef6(0x1f5)](_0xb3de71=>{telegramError(_0xb3de71);}));_0x437b56==_0x1eaef6(0x13c)&&(updateSetting('telegramEvents',_0x1eaef6(0x13c)),updateSetting(_0x1eaef6(0x188),!![]),await tgBot[_0x1eaef6(0x168)](_0x335a2d[_0x1eaef6(0x1a3)]['id'],_0x1eaef6(0x185))['catch'](_0x4904c3=>{telegramError(_0x4904c3);}));_0x437b56==_0x1eaef6(0x118)&&(updateSetting(_0x1eaef6(0x1f7),_0x1eaef6(0x118)),updateSetting(_0x1eaef6(0x188),!![]),await tgBot[_0x1eaef6(0x168)](_0x335a2d['chat']['id'],'Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications')[_0x1eaef6(0x1f5)](_0x12a64a=>{telegramError(_0x12a64a);}));if(!settings['telegramChatId'])tgBot['sendMessage'](_0x335a2d[_0x1eaef6(0x1a3)]['id'],'Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable')['catch'](_0x3a1f42=>{telegramError(_0x3a1f42);});}),tgBot['removeListener']('callback_query');});}),tgBot[_0x58362a(0x193)](/\/status/,_0x11517d=>{const _0x5ca632=_0x58362a;if(!validateTelegram(_0x11517d))return;const _0x4b7faf=getBotsWithMode();let _0x267e3a='<b>Balance\x20Bot\x20Status:</b>\x0a';config[_0x5ca632(0x133)](_0x24e58c=>{const _0x4317e0=_0x5ca632,_0x3cb981=_0x4b7faf['find'](_0x3760a2=>_0x3760a2[_0x4317e0(0x239)]==_0x24e58c[_0x4317e0(0x239)])[_0x4317e0(0x1a9)];_0x267e3a+=_0x4317e0(0x19d)+_0x24e58c[_0x4317e0(0x239)]+':\x20'+_0x24e58c[_0x4317e0(0x173)]+_0x4317e0(0x163)+_0x3cb981+_0x4317e0(0x163)+_0x24e58c[_0x4317e0(0xfd)]+'\x0a';}),_0x267e3a+='\x0a',_0x267e3a+=_0x5ca632(0x195),_0x267e3a+=!settings[_0x5ca632(0x188)]?_0x5ca632(0x175):'Notifications\x20enabled\x0a',_0x267e3a+=settings[_0x5ca632(0x188)]?settings[_0x5ca632(0x1f7)]==_0x5ca632(0x118)?'Notifications\x20types:\x20orders\x20and\x20alerts\x0a':'Notifications\x20types:\x20'+settings[_0x5ca632(0x1f7)]+_0x5ca632(0x17c):'',tgBot[_0x5ca632(0x168)](_0x11517d[_0x5ca632(0x1a3)]['id'],_0x267e3a,{'parse_mode':'HTML'})[_0x5ca632(0x1f5)](_0x139c47=>{telegramError(_0x139c47);});}),tgBot[_0x58362a(0x193)](/\/restart/,_0x3729ab=>{const _0x499447=_0x58362a;if(!validateTelegram(_0x3729ab))return;tgBot[_0x499447(0x21d)](_0x499447(0xf3));const _0x16f2d7=getEnabledBots();if(_0x16f2d7[_0x499447(0x145)]==0x0)tgBot[_0x499447(0x168)](_0x3729ab[_0x499447(0x1a3)]['id'],'No\x20bots\x20running\x20right\x20now')['catch'](_0x16cd95=>{telegramError(_0x16cd95);});else{if(_0x16f2d7[_0x499447(0x145)]>0x1)_0x16f2d7[_0x499447(0x1a4)]({'botID':_0x499447(0x118)});let _0x95365e=[],_0x3439b9=[];const _0x29b47c=_0x16f2d7[_0x499447(0x145)]%0x4==0x0||_0x16f2d7[_0x499447(0x145)]%0x4==0x3||_0x16f2d7[_0x499447(0x145)]%0x3==0x1?0x4:0x3;let _0x30996c=0x0;_0x16f2d7[_0x499447(0x133)]((_0x48bcea,_0x369c2a)=>{const _0x2217cc=_0x499447;if(_0x369c2a%_0x29b47c==0x0)_0x3439b9=[];_0x3439b9[_0x2217cc(0x1a4)]({'text':_0x48bcea['botID']=='all'?_0x2217cc(0x1c6):_0x2217cc(0x19d)+_0x48bcea[_0x2217cc(0x239)],'callback_data':_0x48bcea[_0x2217cc(0x239)]}),_0x369c2a%_0x29b47c==0x0&&(_0x95365e[_0x30996c]=_0x3439b9,_0x30996c++);}),tgBot[_0x499447(0x168)](_0x3729ab[_0x499447(0x1a3)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20restart?',{'reply_markup':{'inline_keyboard':_0x95365e}})[_0x499447(0x1f5)](_0x2dfbb2=>{telegramError(_0x2dfbb2);}),tgBot['on']('callback_query',async _0x5add36=>{const _0x467fa3=_0x499447,_0x340a5d=_0x5add36[_0x467fa3(0x233)],_0xd6e282=_0x5add36[_0x467fa3(0x130)];tgBot[_0x467fa3(0x21e)](_0x5add36['id'])[_0x467fa3(0x1a2)](async()=>{const _0x2ea7e6=_0x467fa3;_0x340a5d=='all'?(tgBot[_0x2ea7e6(0x168)](_0xd6e282['chat']['id'],_0x2ea7e6(0x131))[_0x2ea7e6(0x1f5)](_0x3941e8=>{telegramError(_0x3941e8);}),config[_0x2ea7e6(0x133)](_0x36a46c=>{const _0x138ad7=_0x2ea7e6;restartBot(_0x36a46c[_0x138ad7(0x239)]);})):(tgBot['sendMessage'](_0xd6e282[_0x2ea7e6(0x1a3)]['id'],'Bot\x20Mgr\x20>\x20restarting\x20Bot\x20'+_0x340a5d)['catch'](_0x4b1f4b=>{telegramError(_0x4b1f4b);}),restartBot(_0x340a5d));}),tgBot[_0x467fa3(0x21d)](_0x467fa3(0xf3));});}}),tgBot[_0x58362a(0x193)](/\/on/,_0x124408=>{const _0x4d8901=_0x58362a;if(!validateTelegram(_0x124408))return;tgBot[_0x4d8901(0x21d)]('callback_query');const _0x3c47e2=getDisabledBots();if(_0x3c47e2[_0x4d8901(0x145)]==0x0)tgBot[_0x4d8901(0x168)](_0x124408[_0x4d8901(0x1a3)]['id'],_0x4d8901(0x15d))[_0x4d8901(0x1f5)](_0x536b7a=>{telegramError(_0x536b7a);});else{if(_0x3c47e2[_0x4d8901(0x145)]>0x1)_0x3c47e2[_0x4d8901(0x1a4)]({'botID':_0x4d8901(0x118)});let _0x3cfa51=[],_0x2b9d22=[];const _0x242485=_0x3c47e2[_0x4d8901(0x145)]%0x4==0x0||_0x3c47e2['length']%0x4==0x3||_0x3c47e2[_0x4d8901(0x145)]%0x3==0x1?0x4:0x3;let _0x1c3e2b=0x0;_0x3c47e2['forEach']((_0x500ea8,_0xf330e1)=>{const _0x1e4273=_0x4d8901;if(_0xf330e1%_0x242485==0x0)_0x2b9d22=[];_0x2b9d22[_0x1e4273(0x1a4)]({'text':_0x500ea8[_0x1e4273(0x239)]=='all'?_0x1e4273(0x1c6):'Bot\x20'+_0x500ea8[_0x1e4273(0x239)],'callback_data':_0x500ea8[_0x1e4273(0x239)]}),_0xf330e1%_0x242485==0x0&&(_0x3cfa51[_0x1c3e2b]=_0x2b9d22,_0x1c3e2b++);}),tgBot[_0x4d8901(0x168)](_0x124408[_0x4d8901(0x1a3)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20start?',{'reply_markup':{'inline_keyboard':_0x3cfa51}})[_0x4d8901(0x1f5)](_0x4719a1=>{telegramError(_0x4719a1);}),tgBot['on']('callback_query',async _0x150a8d=>{const _0xbb7c30=_0x4d8901,_0x5ce958=_0x150a8d['data'],_0x626112=_0x150a8d[_0xbb7c30(0x130)];tgBot[_0xbb7c30(0x21e)](_0x150a8d['id'])['then'](async()=>{const _0xb1a94b=_0xbb7c30;_0x5ce958==_0xb1a94b(0x118)?(tgBot['sendMessage'](_0x626112[_0xb1a94b(0x1a3)]['id'],_0xb1a94b(0x13b))[_0xb1a94b(0x1f5)](_0x501a25=>{telegramError(_0x501a25);}),_0x3c47e2[_0xb1a94b(0x133)](_0x52e661=>{const _0x39f9a6=_0xb1a94b;if(_0x52e661[_0x39f9a6(0x239)]!=_0x39f9a6(0x118))toggleBot(_0x52e661['botID'],toggleStatus(_0x52e661['botID']),'stopped');})):(tgBot[_0xb1a94b(0x168)](_0x626112[_0xb1a94b(0x1a3)]['id'],'Bot\x20Mgr\x20>\x20starting\x20Bot\x20'+_0x5ce958)[_0xb1a94b(0x1f5)](_0x3c735c=>{telegramError(_0x3c735c);}),toggleBot(_0x5ce958,toggleStatus(_0x5ce958),_0xb1a94b(0x1c1)));}),tgBot[_0xbb7c30(0x21d)](_0xbb7c30(0xf3));});}}),tgBot['onText'](/\/off/,_0x1e9eb3=>{const _0x4ba18f=_0x58362a;if(!validateTelegram(_0x1e9eb3))return;tgBot['removeListener']('callback_query');const _0x47d209=getEnabledBots();if(_0x47d209[_0x4ba18f(0x145)]==0x0)tgBot['sendMessage'](_0x1e9eb3['chat']['id'],'No\x20bots\x20running\x20right\x20now')['catch'](_0x1089bc=>{telegramError(_0x1089bc);});else{if(_0x47d209[_0x4ba18f(0x145)]>0x1)_0x47d209[_0x4ba18f(0x1a4)]({'botID':_0x4ba18f(0x118)});let _0x32a112=[],_0x51a53e=[];const _0x5eccfe=_0x47d209[_0x4ba18f(0x145)]%0x4==0x0||_0x47d209[_0x4ba18f(0x145)]%0x4==0x3||_0x47d209[_0x4ba18f(0x145)]%0x3==0x1?0x4:0x3;let _0x95f8b=0x0;_0x47d209[_0x4ba18f(0x133)]((_0x5c48cf,_0x3c1038)=>{const _0x4e1712=_0x4ba18f;if(_0x3c1038%_0x5eccfe==0x0)_0x51a53e=[];_0x51a53e[_0x4e1712(0x1a4)]({'text':_0x5c48cf[_0x4e1712(0x239)]==_0x4e1712(0x118)?'All\x20bots':_0x4e1712(0x19d)+_0x5c48cf[_0x4e1712(0x239)],'callback_data':_0x5c48cf[_0x4e1712(0x239)]}),_0x3c1038%_0x5eccfe==0x0&&(_0x32a112[_0x95f8b]=_0x51a53e,_0x95f8b++);}),tgBot['sendMessage'](_0x1e9eb3[_0x4ba18f(0x1a3)]['id'],_0x4ba18f(0x14d),{'reply_markup':{'inline_keyboard':_0x32a112}})[_0x4ba18f(0x1f5)](_0x6ce5f8=>{telegramError(_0x6ce5f8);}),tgBot['on'](_0x4ba18f(0xf3),async _0x3197a7=>{const _0x294588=_0x4ba18f,_0x3e5b80=_0x3197a7['data'],_0x12804c=_0x3197a7['message'];tgBot[_0x294588(0x21e)](_0x3197a7['id'])['then'](async()=>{const _0x3ba2c0=_0x294588;_0x3e5b80=='all'?(tgBot[_0x3ba2c0(0x168)](_0x12804c[_0x3ba2c0(0x1a3)]['id'],_0x3ba2c0(0x107))[_0x3ba2c0(0x1f5)](_0xec71a5=>{telegramError(_0xec71a5);}),_0x47d209[_0x3ba2c0(0x133)](_0x46b2b8=>{const _0x109d2a=_0x3ba2c0;if(_0x46b2b8[_0x109d2a(0x239)]!='all')toggleBot(_0x46b2b8[_0x109d2a(0x239)],toggleStatus(_0x46b2b8['botID']),'stopped');})):(tgBot['sendMessage'](_0x12804c[_0x3ba2c0(0x1a3)]['id'],_0x3ba2c0(0x171)+_0x3e5b80)[_0x3ba2c0(0x1f5)](_0x5c7a4b=>{telegramError(_0x5c7a4b);}),toggleBot(_0x3e5b80,toggleStatus(_0x3e5b80),'stopped'));}),tgBot[_0x294588(0x21d)](_0x294588(0xf3));});}}),tgBot[_0x58362a(0x193)](/\/toggle/,_0x3fd8b4=>{const _0x5f05bb=_0x58362a;if(!validateTelegram(_0x3fd8b4))return;tgBot[_0x5f05bb(0x21d)](_0x5f05bb(0xf3));const _0x429db0=getBotsWithMode();if(_0x429db0['length']==0x0)tgBot[_0x5f05bb(0x168)](_0x3fd8b4['chat']['id'],_0x5f05bb(0x1e2))[_0x5f05bb(0x1f5)](_0x307b6c=>{telegramError(_0x307b6c);});else{let _0x433c88=[],_0x2678c0=[];const _0x18e12a=0x2;let _0x205256=0x0;_0x429db0[_0x5f05bb(0x133)]((_0x56b8e2,_0x3a69b2)=>{const _0x2a715f=_0x5f05bb;if(_0x3a69b2%_0x18e12a==0x0)_0x2678c0=[];_0x2678c0[_0x2a715f(0x1a4)]({'text':_0x2a715f(0x19d)+_0x56b8e2['botID']+'\x20('+_0x56b8e2[_0x2a715f(0x1a9)]+')','callback_data':_0x56b8e2[_0x2a715f(0x239)]}),_0x3a69b2%_0x18e12a==0x0&&(_0x433c88[_0x205256]=_0x2678c0,_0x205256++);}),tgBot['sendMessage'](_0x3fd8b4[_0x5f05bb(0x1a3)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?',{'reply_markup':{'inline_keyboard':_0x433c88}})[_0x5f05bb(0x1f5)](_0x35214a=>{telegramError(_0x35214a);}),tgBot['on'](_0x5f05bb(0xf3),async _0x336bcf=>{const _0x14732f=_0x5f05bb,_0x2326d3=_0x336bcf[_0x14732f(0x233)],_0x5b831e=_0x336bcf['message'];tgBot[_0x14732f(0x21e)](_0x336bcf['id'])[_0x14732f(0x1a2)](async()=>{const _0x5ce05=_0x14732f,_0x2af859=_0x429db0[_0x5ce05(0x1ae)](_0x34cc73=>_0x34cc73[_0x5ce05(0x239)]==_0x2326d3),_0x41f7f8=_0x2af859['mode']==_0x5ce05(0x1ff)?'manual':_0x5ce05(0x1ff);tgBot[_0x5ce05(0x168)](_0x5b831e[_0x5ce05(0x1a3)]['id'],_0x5ce05(0x22e)+_0x2326d3+_0x5ce05(0x1b8)+_0x41f7f8+_0x5ce05(0xfe))[_0x5ce05(0x1f5)](_0xc10fff=>{telegramError(_0xc10fff);}),toggleBotMode(_0x2326d3);}),tgBot['removeListener'](_0x14732f(0xf3));});}}),tgBot[_0x58362a(0x193)](/\/names/,_0x45ad69=>{const _0x556f70=_0x58362a;if(!validateTelegram(_0x45ad69))return;let _0x405c00='';config[_0x556f70(0x133)](_0x29f3b2=>{const _0x29b651=_0x556f70;_0x405c00+=_0x29b651(0x19d)+_0x29f3b2[_0x29b651(0x239)]+':\x20'+_0x29f3b2[_0x29b651(0x1fd)]+'\x0a';}),tgBot[_0x556f70(0x168)](_0x45ad69[_0x556f70(0x1a3)]['id'],_0x405c00,{'parse_mode':'HTML'})['catch'](_0x14a295=>{telegramError(_0x14a295);});}),tgBot[_0x58362a(0x193)](/\/disable/,_0x112429=>{const _0x18acbe=_0x58362a;if(!validateTelegram(_0x112429))return;tgBot[_0x18acbe(0x168)](_0x112429['chat']['id'],'Notifications\x20disabled')[_0x18acbe(0x1f5)](_0x55de37=>{telegramError(_0x55de37);}),updateSetting('telegramEnabled',![]);}),tgBot[_0x58362a(0x193)](/\/help/,_0x234616=>{const _0x5e0a26=_0x58362a;if(!validateTelegram(_0x234616))return;tgBot[_0x5e0a26(0x168)](_0x234616['chat']['id'],_0x4212c9)[_0x5e0a26(0x1f5)](_0x301287=>{telegramError(_0x301287);});}),tgBot['on'](_0x58362a(0x1c5),_0x523579=>{const _0x459318=_0x58362a;_0x523579[_0x459318(0x153)]()['includes'](_0x459318(0x119))&&(logging(_0x459318(0x121)),tgBot['stopPolling'](),tgBot=null,io['to'](_0x459318(0x229))['emit'](_0x459318(0x109),_0x459318(0x121)));}),process[_0x58362a(0x197)]('SIGINT',()=>{const _0x540f25=_0x58362a;if(tgBot)tgBot[_0x540f25(0xf1)]();process[_0x540f25(0x187)](0x1);}),process['once'](_0x58362a(0x1ee),()=>{const _0x2ddec8=_0x58362a;if(tgBot)tgBot[_0x2ddec8(0xf1)]();process[_0x2ddec8(0x187)](0x1);});}}function disableTelegram(){const _0x457bfc=_0x15e056;tgBot&&(tgBot[_0x457bfc(0xf1)](),tgBot=null);}function sendTelegram(_0x235639,_0x588fbe){const _0xb8d281=_0x15e056;if(settings[_0xb8d281(0x188)]){if(settings[_0xb8d281(0x1f7)]=='all'||(_0x588fbe['type']==_0xb8d281(0x1b4)||_0x588fbe[_0xb8d281(0x1bc)]==_0xb8d281(0x11e))&&settings[_0xb8d281(0x1f7)]==_0xb8d281(0x13c)||_0x588fbe['type']==_0xb8d281(0x150)&&settings[_0xb8d281(0x1f7)]==_0xb8d281(0x17f)){if(tgBot&&settings[_0xb8d281(0x1ab)]){if(_0x588fbe[_0xb8d281(0x222)])tgBot[_0xb8d281(0x168)](settings[_0xb8d281(0x1ab)],_0x588fbe[_0xb8d281(0x1fd)]+_0xb8d281(0x1e3)+_0x588fbe[_0xb8d281(0x1d8)])[_0xb8d281(0x1f5)](_0x197e6f=>{telegramError(_0x197e6f);});else tgBot['sendMessage'](settings['telegramChatId'],_0xb8d281(0x19d)+_0x235639+_0xb8d281(0x1e3)+_0x588fbe[_0xb8d281(0x1d8)])[_0xb8d281(0x1f5)](_0x535a8d=>{telegramError(_0x535a8d);});}}}}function getDeviceWithIp(_0x1273f3){const _0x346bfc=_0x15e056;return devices[_0x346bfc(0x1ae)](_0x5869b6=>_0x5869b6['ip']===_0x1273f3);}function temporaryAccess2FA(_0x5d5101,_0x3afae7){const _0x54c6ec=_0x15e056;let _0x2c1097=new Date(),_0x1ae39e=![];if(lastIpApproval){if(_0x2c1097-lastIpApproval<0x1388)_0x1ae39e=!![];}lastIpApproval=new Date();if(_0x1ae39e)return;tgBot&&settings['telegramChatId']&&(tgBot[_0x54c6ec(0x21d)]('callback_query'),tgBot['sendMessage'](settings[_0x54c6ec(0x1ab)],_0x54c6ec(0x156)+normalizeIP(_0x3afae7)[_0x54c6ec(0x18f)]+_0x54c6ec(0x15f),{'parse_mode':_0x54c6ec(0x1be),'reply_markup':{'inline_keyboard':[[{'text':_0x54c6ec(0x214),'callback_data':'5'},{'text':_0x54c6ec(0x132),'callback_data':'15'},{'text':_0x54c6ec(0x172),'callback_data':'30'},{'text':_0x54c6ec(0x123),'callback_data':'reject'}]]}})[_0x54c6ec(0x1f5)](_0x5ac5db=>{telegramError(_0x5ac5db);}),tgBot['on'](_0x54c6ec(0xf3),async _0x4dfa9a=>{const _0x11209f=_0x54c6ec,_0x44dda9=_0x4dfa9a['data'],_0x3209bb=_0x4dfa9a[_0x11209f(0x130)];tgBot[_0x11209f(0x21e)](_0x4dfa9a['id'])[_0x11209f(0x1a2)](async()=>{const _0x1d775e=_0x11209f;devices[_0x5d5101][_0x1d775e(0x1a5)]={'clientip':_0x3afae7,'timestamp':new Date()[_0x1d775e(0x235)](),'expiry':_0x44dda9},_0x44dda9!='reject'?(await tgBot[_0x1d775e(0x168)](_0x3209bb[_0x1d775e(0x1a3)]['id'],_0x1d775e(0x1af)+_0x44dda9+_0x1d775e(0x205),{'parse_mode':'HTML'})[_0x1d775e(0x1f5)](_0x13e26f=>{telegramError(_0x13e26f);}),io['to'](_0x5d5101)[_0x1d775e(0x210)](_0x1d775e(0x173),{'access':{'allow':![],'reason':_0x1d775e(0x1d7),'token':null}})):(await tgBot[_0x1d775e(0x168)](_0x3209bb['chat']['id'],'Temporary\x20access\x20rejected')[_0x1d775e(0x1f5)](_0x2e597a=>{telegramError(_0x2e597a);}),io['to'](_0x5d5101)[_0x1d775e(0x210)]('status',{'access':{'allow':![],'reason':'temporary\x20access\x20rejected','token':null}}));}),tgBot['removeListener'](_0x11209f(0xf3));}));}function loginAccess2FA(_0x50a452,_0x5019be){const _0x58ffa6=_0x15e056;tgBot&&settings[_0x58ffa6(0x1ab)]&&(tgBot['removeListener'](_0x58ffa6(0xf3)),tgBot[_0x58ffa6(0x168)](settings[_0x58ffa6(0x1ab)],_0x58ffa6(0x1f3)+normalizeIP(_0x5019be)['show']+_0x58ffa6(0x15f),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x58ffa6(0x18b),'callback_data':loginExpiry},{'text':'reject','callback_data':_0x58ffa6(0x123)}]]}})[_0x58ffa6(0x1f5)](_0x1af2b8=>{telegramError(_0x1af2b8);}),tgBot['on'](_0x58ffa6(0xf3),async _0x1e9958=>{const _0x106b16=_0x58ffa6,_0x559661=_0x1e9958[_0x106b16(0x233)],_0x58bde8=_0x1e9958[_0x106b16(0x130)];tgBot['answerCallbackQuery'](_0x1e9958['id'])['then'](async()=>{const _0x4e0021=_0x106b16;devices[_0x50a452][_0x4e0021(0x1e9)]={'clientip':_0x5019be,'timestamp':new Date()[_0x4e0021(0x235)](),'expiry':_0x559661},_0x559661!=_0x4e0021(0x123)?(await tgBot[_0x4e0021(0x168)](_0x58bde8[_0x4e0021(0x1a3)]['id'],_0x4e0021(0xfb),{'parse_mode':_0x4e0021(0x1be)})['catch'](_0xdb69=>{telegramError(_0xdb69);}),io['to'](_0x50a452)[_0x4e0021(0x210)](_0x4e0021(0x173),{'access':{'allow':![],'reason':_0x4e0021(0x1d7),'token':null}})):(await tgBot[_0x4e0021(0x168)](_0x58bde8[_0x4e0021(0x1a3)]['id'],_0x4e0021(0x1d3))[_0x4e0021(0x1f5)](_0xa8f270=>{telegramError(_0xa8f270);}),io['to'](_0x50a452)[_0x4e0021(0x210)](_0x4e0021(0x173),{'access':{'allow':![],'reason':_0x4e0021(0x191),'token':null}}));}),tgBot[_0x106b16(0x21d)]('callback_query');}));}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x28e642=_0x15e056;return dbConfig[_0x28e642(0x174)](_0x28e642(0x227))['sortBy'](_0x28e642(0x239))['filter']({'status':_0x28e642(0x142)})['value']()||[];}function getDisabledBots(){const _0x5e3b1e=_0x15e056;return dbConfig[_0x5e3b1e(0x174)](_0x5e3b1e(0x227))[_0x5e3b1e(0x164)]('botID')['filter']({'status':_0x5e3b1e(0x1e0)})[_0x5e3b1e(0x11d)]()||[];}function _0x58b9(){const _0x2a224f=['</b>\x20?','restarting\x20Bot\x20','send','crypto','\x20|\x20','sortBy','padStart','loginRequired','whitelistEnabled','sendMessage','1583860yRSBWI','new-disabled','access','from','Invalid\x20authentication\x20token\x20(1)','getMinutes','127.0.0.1','settings','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','30\x20min','status','get','Notifications\x20disabled\x0a','jsonwebtoken','starting\x20new\x20bot\x20|\x20Bot\x20','RSA','headless','toIPv4MappedAddress','207712AeyTsL','\x20only\x0a','assign','lowdb','orders','bot-','logout','allow','(((.+)+)+)+$','deleted\x20Bot\x20','Ok,\x20will\x20send\x20alert\x20notifications\x20only','temporaryAccessAllowed','exit','telegramEnabled','::1','Unauthorized\x20attempt\x20to\x20get\x20logs','accept','uuid','telegramToken','update-bot','show','/off\x20-\x20stop\x20bot(s)\x0a','2FA\x20login\x20rejected','secret','onText','getDate','<b>Telegram\x20Bot\x20Status:</b>\x0a','isValid','once','store-settings','set','sendFile','bbUsername','hashSync','Bot\x20','All','existsSync','stop','invalid\x20credentials','then','chat','push','telegramIpApproval','initclient','username','unlinkSync','mode','f2aRequired','telegramChatId','getMonth','ipaddr.js','find','Access\x20enabled\x20for\x20','name','login','logged\x20out','No\x20authentication\x20token','error','randomBytes','bot','connection','\x20to\x20','test','cancel-loading','use','type','search','HTML','getHours','cancelLoading','stopped','/config\x20-\x20notification\x20types\x20to\x20receive\x0a','get-portfolio','date-fns','polling_error','All\x20bots','-performance.json','defaults','listen','exp','getSeconds','3000','decrypt','http','Unauthorized\x20attempt\x20to\x20get\x20portfolio','telegramUsername','manual','place-order','Login\x20rejected','verify','remoteAddress','Do\x20you\x20want\x20to\x20reset\x20your\x20password?','reload','event','timestamp','randomFillSync','headers','2FA\x20required','3MFfedp','pidRefreshToken','2FA\x20login\x20token\x20generated','disabled','socket.io','No\x20bots\x20running\x20right\x20now','\x20>\x20','compareSync','login\x20token\x20generated','Alerts','error\x20while\x20deleting\x20config\x20files:\x20','kind','telegram2FaApproval','Invalid\x20username\x20or\x20IP\x20address','readFileSync','login\x20required','Password\x20has\x20been\x20reset\x20to:\x20','SIGTERM','Unauthorized\x20login\x20attempt\x20(timeout)','isIPv4MappedAddress','Error:\x20Invalid\x20argument\x20','/status\x20-\x20show\x20bot(s)\x20status\x0a','Allow\x20login\x20from\x20IP\x20address\x20<b>','hybrid-crypto-js','catch','-config.json','telegramEvents','Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?','Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings','getStartingBalances','2FA','Unauthorized\x20attempt\x20to\x20add\x20bot','botname','toggle-bot-mode','auto','expiry','referer','apply','yargs/yargs','map','\x20minutes','sign','toggleBotMode','auth','slice','remove','delete-bot','password','token','-results.json','Invalid\x20authentication\x20token\x20(2)','emit','Balance\x20Bot\x20Server','page','Bot\x20Mgr\x20>\x20','5\x20min','/:bot/support','Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:','@analytics/google-analytics','/:bot/coins','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','5EcetYj','add','config/','removeListener','answerCallbackQuery','getUTCHours','clientip','env','showname','/:bot/configuration','login\x20not\x20required','mkdirSync','privateKey','bots','::ffff:127.0.0.1','botmanager','timeshift','placeOrder','index.html','getPortfolio','Bot\x20Mgr\x20>\x20toggling\x20Bot\x20','/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a','handshake','settings.','/restart\x20-\x20restart\x20bot(s)\x0a','data','idling\x20bot\x20\x20\x20|\x20Bot\x20','getTime','kill','ipv6','path','botID','join','stopPolling','Crypt','callback_query','Password\x20reset\x20rejected','enabled\x20Bot\x20',',\x20must\x20be\x20a\x204\x20digit\x20number','function','Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration','args','1958634EcNlis','Login\x20accepted','/enable\x20-\x20enable\x20notifications\x0a','live','\x20mode','42FgqPER','user','blacklist','host','whitelist','generateKeyPairAsync','get-logs','https://hodlerhacks.com','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','store-headless','notification',':\x20Bot\x20Mgr\x20>\x20','stringify','bbPassword','/names\x20-\x20show\x20bot\x20names\x0a','started','delete-alerts','version','secure','child_process','running','You\x20can\x20use\x20the\x20following\x20commands:\x0a','Unauthorized\x20attempt\x20to\x20update\x20bot','build2','match','all','404\x20Not\x20Found','publicKey','store-configuration','114513oXGKBD','value','success','359052AdxSsP','getFullYear','Invalid\x20Telegram\x20token','parse','reject','starting\x20bot\x20|\x20Bot\x20','Unauthorized\x20attempt\x20to\x20log\x20out','write','disconnect','default','User\x20has\x20been\x20validated','reason','temporary\x20access\x20timeout','createServer','copyFileSync','apiKey','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','message','Bot\x20Mgr\x20>\x20restarting\x20all\x20bots','15\x20min','forEach','hasOwnProperty','includes','log','bb-settings.json','Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot','Ok,\x20will\x20send\x20order\x20notifications\x20only','inherit','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','alerts','170947bGjFkE','Unauthorized\x20attempt\x20to\x20delete\x20alerts','bb-config.json','pidExpireLogin','1509936ZaJpmh','enabled','1000','temporary\x20access\x20not\x20allowed','length','sockets','version.json','-----------------------------------------------------------------------------------','telegram','yes','RSA-OAEP','new','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','bb-secure.json','node-telegram-bot-api','order','build','2FA\x20login\x20required','toString','************','bot.js','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','storeHeadless','clients','express','split','argv','conn','All\x20bots\x20running\x20right\x20now','temporary\x20token\x20generated'];_0x58b9=function(){return _0x2a224f;};return _0x58b9();}function getBotsWithMode(){const _0x2cfe58=_0x15e056,_0x519a33=dbConfig[_0x2cfe58(0x174)](_0x2cfe58(0x227))[_0x2cfe58(0x164)]('botID')['value']()||[];return _0x519a33[_0x2cfe58(0x133)](_0x3cf04a=>{const _0xeffb4=_0x2cfe58,_0x24d34b=configpath+_0xeffb4(0x180)+_0x3cf04a[_0xeffb4(0x239)]+_0xeffb4(0x1f6),_0xc70be=fs[_0xeffb4(0x19f)](_0x24d34b);if(_0xc70be){const _0x6fe357=fs[_0xeffb4(0x1eb)](_0x24d34b);try{const _0x5b6828=JSON[_0xeffb4(0x122)](_0x6fe357),_0xc652d8=_0x5b6828?_0x5b6828[_0xeffb4(0x1b6)][0x0][_0xeffb4(0x179)]:![];_0x3cf04a[_0xeffb4(0x1a9)]=_0xc652d8?'auto':'manual';}catch(_0x107e51){_0x3cf04a[_0xeffb4(0x1a9)]='manual';}}else _0x3cf04a[_0xeffb4(0x1a9)]=_0xeffb4(0x1d1);}),_0x519a33;}function getSettings(){const _0x505917=_0x15e056;return dbSettings[_0x505917(0x174)](_0x505917(0x170))[_0x505917(0x11d)]()||{'timeshift':0x0};}function getSecure(){const _0x5a26ee=_0x15e056;return dbSecure['get'](_0x5a26ee(0x111))['value']()||{};}function getBlacklist(){const _0x3b42ab=_0x15e056;return dbSecure[_0x3b42ab(0x174)](_0x3b42ab(0x101))[_0x3b42ab(0x11d)]()||[];}function broadcastToBots(_0x2f161b,_0xf7b4fb){const _0x206aac=_0x15e056;config[_0x206aac(0x133)](_0x98ec01=>{const _0x7a72=_0x206aac;if(_0x98ec01['status']==_0x7a72(0x142)&&_0x98ec01[_0x7a72(0xfd)]==_0x7a72(0x113)){if(pid[_0x98ec01[_0x7a72(0x239)]])pid[_0x98ec01[_0x7a72(0x239)]][_0x7a72(0x161)]({[_0x2f161b]:_0xf7b4fb});}});}function storeSettings(_0x12dab5,_0x309671=![]){const _0xeb1b69=_0x15e056;_0x12dab5={...settings,..._0x12dab5};if(_0x309671&&_0x12dab5[_0xeb1b69(0x10c)]!='************'&&_0x12dab5['bbPassword']!=''){const _0x22486b=crypt['decrypt'](secure[_0xeb1b69(0x226)],_0x12dab5[_0xeb1b69(0x10c)])['message'][_0xeb1b69(0x15a)]('@')[0x0],_0x123a2a=bcrypt[_0xeb1b69(0x19c)](_0x22486b,saltRounds);_0x12dab5={..._0x12dab5,'bbPassword':_0x123a2a};}if(_0x309671&&_0x12dab5[_0xeb1b69(0x18d)]!=_0xeb1b69(0x154)&&_0x12dab5['telegramToken']!=''){const _0x2bd09a=crypt['decrypt'](secure[_0xeb1b69(0x226)],_0x12dab5[_0xeb1b69(0x18d)])[_0xeb1b69(0x130)][_0xeb1b69(0x15a)]('@')[0x0];_0x12dab5={..._0x12dab5,'telegramToken':_0x2bd09a};}const _0x417c5d=_0x12dab5['telegramToken']!=_0xeb1b69(0x154)&&_0x12dab5[_0xeb1b69(0x18d)]!=settings[_0xeb1b69(0x18d)]||_0x12dab5[_0xeb1b69(0x1d0)]!=settings[_0xeb1b69(0x1d0)],_0xbd91ff=_0x12dab5[_0xeb1b69(0x18d)]==''||_0x12dab5['telegramUsername']=='';if(_0x417c5d)_0x12dab5[_0xeb1b69(0x1f7)]=_0xeb1b69(0x118);for(const [_0x7660da,_0x460c7b]of Object['entries'](_0x12dab5)){if(_0x7660da==_0xeb1b69(0x18d)&&_0x460c7b=='************'){_0x12dab5[_0xeb1b69(0x18d)]=settings['telegramToken'];continue;};if(_0x7660da==_0xeb1b69(0x10c)&&_0x460c7b==_0xeb1b69(0x154)){_0x12dab5[_0xeb1b69(0x10c)]=settings[_0xeb1b69(0x10c)];continue;};dbSettings[_0xeb1b69(0x199)](_0xeb1b69(0x231)+_0x7660da,_0x460c7b)[_0xeb1b69(0x126)]();}settings=_0x12dab5,io['to'](_0xeb1b69(0x229))[_0xeb1b69(0x210)](_0xeb1b69(0x170),cleanSettings()),broadcastToBots(_0xeb1b69(0x22a),settings['timeshift']);if(_0x417c5d&&!_0xbd91ff)initTelegram();if(_0x417c5d&&_0xbd91ff)disableTelegram();getAllClients()[_0xeb1b69(0x133)](_0x38fef6=>{const _0x547dc9=_0xeb1b69;getSocket(_0x38fef6['id'])[_0x547dc9(0x210)]('status',{'access':{'allow':![],'reason':_0x547dc9(0x1d7),'token':null}});});}function updateSetting(_0x19c52a,_0x3e5a38){const _0x59aa6b=_0x15e056;dbSettings[_0x59aa6b(0x199)](_0x59aa6b(0x231)+_0x19c52a,_0x3e5a38)['write'](),settings=getSettings(),io['to'](_0x59aa6b(0x229))['emit'](_0x59aa6b(0x170),cleanSettings());}function storeSecure(_0x1bcdc3){const _0x470c6e=_0x15e056;dbSecure['get'](_0x470c6e(0x111))['push'](_0x1bcdc3)['write'](),secure=_0x1bcdc3;}function addBlacklist(_0x5b46ec){const _0xb092f5=_0x15e056;cleanBlacklist();let _0x235c31;devices[_0x5b46ec][_0xb092f5(0x1a5)]?_0x235c31=Math['max'](devices[_0x5b46ec][_0xb092f5(0x1a5)]['expiry'],loginExpiry):_0x235c31=loginExpiry,dbSecure[_0xb092f5(0x174)](_0xb092f5(0x101))[_0xb092f5(0x1a4)]({'expiry':new Date()[_0xb092f5(0x235)]()+_0x235c31*0x3c*0x3e8,'token':devices[_0x5b46ec][_0xb092f5(0x16b)]['token']})[_0xb092f5(0x126)](),blacklist=dbSecure[_0xb092f5(0x174)]('blacklist')[_0xb092f5(0x11d)]();}function cleanBlacklist(){const _0xbc1e5e=_0x15e056;let _0x34332f=dbSecure[_0xbc1e5e(0x174)](_0xbc1e5e(0x101))['cloneDeep']()[_0xbc1e5e(0x11d)](),_0x17071b=new Date()[_0xbc1e5e(0x235)]();_0x34332f['forEach'](_0x10e1a7=>{const _0x3c3c2f=_0xbc1e5e;_0x10e1a7[_0x3c3c2f(0x200)]<_0x17071b&&dbSecure[_0x3c3c2f(0x174)]('blacklist')[_0x3c3c2f(0x20a)]({'expiry':_0x10e1a7[_0x3c3c2f(0x200)]})[_0x3c3c2f(0x126)]();});}function initStates(){const _0x55b1f4=_0x15e056;let _0x45b2f0=getConfiguration();_0x45b2f0[_0x55b1f4(0x133)](_0x33a1e2=>{const _0x1c9b26=_0x55b1f4;_0x33a1e2[_0x1c9b26(0xfd)]=_0x1c9b26(0x1c1);}),storeConfiguration(_0x45b2f0);}function onKeys(){const _0x357589=new RSA();return new Promise(_0x4f2a29=>{const _0x573f41=_0xde29;_0x357589[_0x573f41(0x104)]()[_0x573f41(0x1a2)](_0x53a26a=>{_0x4f2a29(_0x53a26a);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x5ecfe7=_0x15e056;let _0xb80667=getConfiguration(),_0x5c19aa=![];_0xb80667[_0x5ecfe7(0x133)](_0x2c31fb=>{const _0x2855f6=_0x5ecfe7;if(_0x2c31fb[_0x2855f6(0x173)]==_0x2855f6(0x113))_0x2c31fb[_0x2855f6(0x173)]=_0x2855f6(0x142),_0x5c19aa=!![];else _0x2c31fb['status']==_0x2855f6(0x1c1)&&(_0x2c31fb[_0x2855f6(0x173)]=_0x2855f6(0x1e0),_0x5c19aa=!![]);});if(_0x5c19aa)storeConfiguration(_0xb80667);let _0x1a4f07=getSecure();if(!_0x1a4f07[_0x5ecfe7(0x134)](_0x5ecfe7(0x192))){let _0x477d8e=await generateKeys();_0x1a4f07[_0x5ecfe7(0x11a)]=_0x477d8e[_0x5ecfe7(0x11a)],_0x1a4f07[_0x5ecfe7(0x226)]=_0x477d8e[_0x5ecfe7(0x226)],_0x1a4f07[_0x5ecfe7(0x192)]=crypto[_0x5ecfe7(0x1b5)](0x20)[_0x5ecfe7(0x153)]('hex');;storeSecure(_0x1a4f07);}let _0x274f66=getSettings();_0x5c19aa=![];!_0x274f66[_0x5ecfe7(0x134)](_0x5ecfe7(0x166))&&(_0x274f66[_0x5ecfe7(0x166)]=![],_0x274f66[_0x5ecfe7(0x19b)]='',_0x274f66[_0x5ecfe7(0x10c)]='',_0x274f66[_0x5ecfe7(0x1aa)]=![],_0x5c19aa=!![]);!_0x274f66[_0x5ecfe7(0x134)](_0x5ecfe7(0x167))&&(_0x274f66['whitelistEnabled']=![],_0x274f66[_0x5ecfe7(0x103)]=[],_0x274f66[_0x5ecfe7(0x186)]=![],_0x5c19aa=!![]);if(!_0x274f66['hasOwnProperty'](_0x5ecfe7(0x188))){if(_0x274f66['telegramChatId'])_0x274f66['telegramEnabled']=!![];else _0x274f66[_0x5ecfe7(0x188)]=![];_0x5c19aa=!![];}if(_0x5c19aa)storeSettings(_0x274f66);}function storeConfiguration(_0x331fdf){const _0x27d13c=_0x15e056;dbConfig['get'](_0x27d13c(0x227))[_0x27d13c(0x20a)]()[_0x27d13c(0x126)](),_0x331fdf[_0x27d13c(0x133)](_0x4f1849=>{const _0x535490=_0x27d13c;delete _0x4f1849[_0x535490(0x1a9)];}),dbConfig['get']('bots')[_0x27d13c(0x1a4)](..._0x331fdf)[_0x27d13c(0x126)](),config=_0x331fdf;}function resetPassword(){const _0x470ca8=_0x15e056;tgBot&&settings[_0x470ca8(0x1ab)]&&(tgBot['removeListener'](_0x470ca8(0xf3)),tgBot[_0x470ca8(0x168)](settings[_0x470ca8(0x1ab)],_0x470ca8(0x1d6),{'parse_mode':_0x470ca8(0x1be),'reply_markup':{'inline_keyboard':[[{'text':'yes','callback_data':_0x470ca8(0x14a)},{'text':'no','callback_data':'no'}]]}})[_0x470ca8(0x1f5)](_0x9cc4eb=>{telegramError(_0x9cc4eb);}),tgBot['on'](_0x470ca8(0xf3),async _0x220911=>{const _0x4cb4fb=_0x470ca8,_0x597a1e=_0x220911[_0x4cb4fb(0x233)],_0x59fb90=_0x220911[_0x4cb4fb(0x130)];tgBot[_0x4cb4fb(0x21e)](_0x220911['id'])[_0x4cb4fb(0x1a2)](async()=>{const _0x2cfb2e=_0x4cb4fb;if(_0x597a1e!='no'){const _0x276769=0xf,_0x29122a=_0x2cfb2e(0x12f),_0x2ab789=Array[_0x2cfb2e(0x16c)](crypto[_0x2cfb2e(0x1da)](new Uint32Array(_0x276769)))[_0x2cfb2e(0x204)](_0x371c79=>_0x29122a[_0x371c79%_0x29122a[_0x2cfb2e(0x145)]])[_0x2cfb2e(0xf0)](''),_0x37e55a=bcrypt[_0x2cfb2e(0x19c)](_0x2ab789,saltRounds);storeSettings({'bbPassword':_0x37e55a}),await tgBot[_0x2cfb2e(0x168)](_0x59fb90[_0x2cfb2e(0x1a3)]['id'],_0x2cfb2e(0x1ed)+_0x2ab789,{'parse_mode':_0x2cfb2e(0x1be)})[_0x2cfb2e(0x1f5)](_0x7663af=>{telegramError(_0x7663af);});}else await tgBot[_0x2cfb2e(0x168)](_0x59fb90[_0x2cfb2e(0x1a3)]['id'],_0x2cfb2e(0xf4))[_0x2cfb2e(0x1f5)](_0x3d5b51=>{telegramError(_0x3d5b51);});}),tgBot[_0x4cb4fb(0x21d)](_0x4cb4fb(0xf3));}));}function logging(_0x14319c){const _0xe1a40b=_0x15e056;console['log'](getTimeStamp()+_0xe1a40b(0x10a)+_0x14319c);if(tgBot&&settings[_0xe1a40b(0x1ab)]&&settings['telegramEvents']!=_0xe1a40b(0x17f))tgBot[_0xe1a40b(0x168)](settings[_0xe1a40b(0x1ab)],_0xe1a40b(0x213)+_0x14319c)[_0xe1a40b(0x1f5)](_0x41cd30=>{telegramError(_0x41cd30);});}function getServerTime(){const _0x527c6c=_0x15e056,_0xea2d6a=new Date();return _0xea2d6a[_0x527c6c(0x120)]()+'/'+(_0xea2d6a[_0x527c6c(0x1ac)]()+0x1)['toString']()[_0x527c6c(0x165)](0x2,'0')+'/'+_0xea2d6a[_0x527c6c(0x194)]()[_0x527c6c(0x153)]()[_0x527c6c(0x165)](0x2,'0')+'\x20'+_0xea2d6a[_0x527c6c(0x1bf)]()[_0x527c6c(0x153)]()['padStart'](0x2,'0')+':'+_0xea2d6a[_0x527c6c(0x16e)]()[_0x527c6c(0x153)]()[_0x527c6c(0x165)](0x2,'0')+':'+_0xea2d6a['getSeconds']()['toString']()[_0x527c6c(0x165)](0x2,'0');}function getTimeStamp(){const _0x3703a6=_0x15e056,_0x31f9db=shiftedTime();return _0x31f9db[_0x3703a6(0x120)]()+'/'+(_0x31f9db[_0x3703a6(0x1ac)]()+0x1)[_0x3703a6(0x153)]()[_0x3703a6(0x165)](0x2,'0')+'/'+_0x31f9db[_0x3703a6(0x194)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x31f9db['getHours']()[_0x3703a6(0x153)]()[_0x3703a6(0x165)](0x2,'0')+':'+_0x31f9db[_0x3703a6(0x16e)]()[_0x3703a6(0x153)]()['padStart'](0x2,'0')+':'+_0x31f9db[_0x3703a6(0x1cb)]()[_0x3703a6(0x153)]()[_0x3703a6(0x165)](0x2,'0');}function shiftedTime(){const _0x27b878=_0x15e056,_0x3ffbe3=new Date();let _0x30a84a=_0x3ffbe3;if(settings['timeshift']&&settings[_0x27b878(0x22a)]!==0x0)_0x30a84a=fns[_0x27b878(0x21b)](_0x3ffbe3,{'hours':settings['timeshift']});return _0x30a84a;}function startScheduler(){const _0x3dadf1=_0x15e056;let _0x2c91ce=new Date()[_0x3dadf1(0x21f)]();_0x2c91ce==0x1&&backupConfigFiles();_0x2c91ce==0x9&&triggerAnalytics();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}function backupConfigFiles(){const _0x3da40a=_0x15e056;fs['readdirSync'](configpath,{'withFileTypes':!![]})[_0x3da40a(0x133)](_0x355497=>{const _0x30f9fa=_0x3da40a;if(!_0x355497['isDirectory']())fs[_0x30f9fa(0x12d)](configpath+_0x355497[_0x30f9fa(0x1b0)],configbackuppath+_0x355497['name']);});}function triggerAnalytics(){const _0x1ec4cd=_0x15e056;analytics[_0x1ec4cd(0x212)]({'title':_0x1ec4cd(0x211),'href':_0x1ec4cd(0x106),'path':'/v'+serverversion});}function validateCredentials(_0x3cdc67,_0x3c56e7){const _0x42eb5d=_0x15e056;if(_0x3cdc67[_0x42eb5d(0x1a7)]==settings['bbUsername']&&bcrypt[_0x42eb5d(0x1e4)](_0x3cdc67[_0x42eb5d(0x20c)],settings[_0x42eb5d(0x10c)])){if(settings['f2aRequired'])return{'allow':![],'reason':_0x42eb5d(0x152),'token':null};else{const _0xfe29ef=generateLoginToken(_0x3c56e7);return{'allow':!![],'reason':_0x42eb5d(0x1e5),'token':_0xfe29ef};}}else return{'allow':![],'reason':_0x42eb5d(0x1a1),'token':null};}function refreshToken(_0x4b9a38){const _0x387e86=_0x15e056,_0x33fe98=generateLoginToken(_0x4b9a38);return{'allow':!![],'reason':_0x387e86(0x1e5),'token':_0x33fe98};}function validateAccess(_0x4abab7,_0x34a1c5){const _0x7388f4=_0x15e056;let _0x422fe0=devices[_0x34a1c5]['ip'],_0x20c20b;const _0x271b06=_0xb89dfa=>{const _0x5d4de3=_0xde29;if(settings[_0x5d4de3(0x166)]){if(settings[_0x5d4de3(0x1aa)]){if(telegram2FaApproved(_0x34a1c5)){const _0x50e3f0=generateLoginToken(_0x34a1c5);return{'allow':!![],'reason':_0x5d4de3(0x1df),'token':_0x50e3f0};}else return{'allow':![],'reason':_0x5d4de3(0x1ec),'token':null};}else return _0x20c20b=validToken(_0xb89dfa,_0x34a1c5),_0x20c20b[_0x5d4de3(0x134)](_0x5d4de3(0x11e))?{'allow':!![],'reason':'login\x20token\x20valid','token':_0xb89dfa}:{'allow':![],'reason':'login\x20required','token':null};}else return{'allow':!![],'reason':'login\x20not\x20required','token':null};};if(settings[_0x7388f4(0x167)]){let _0x95d327=[...settings['whitelist'],_0x7388f4(0x189),_0x7388f4(0x228),_0x7388f4(0x16f)];if(_0x95d327[_0x7388f4(0x135)](_0x422fe0))return _0x271b06(_0x4abab7);else{_0x20c20b=validToken(_0x4abab7,_0x34a1c5);if(_0x20c20b[_0x7388f4(0x134)](_0x7388f4(0x11e)))return _0x271b06(_0x4abab7);else{if(telegramIpApproved(_0x34a1c5)){const _0x361af8=generateToken(_0x34a1c5);return _0x20c20b=_0x271b06(_0x4abab7),_0x20c20b[_0x7388f4(0x182)]?{'allow':!![],'reason':_0x7388f4(0x15e),'token':_0x361af8}:_0x20c20b;}else return settings[_0x7388f4(0x186)]?{'allow':![],'reason':_0x7388f4(0x1dc),'token':null}:{'allow':![],'reason':_0x7388f4(0x144),'token':null};}}}else return _0x271b06(_0x4abab7);}function timelyDecrypt(_0x1ffc6f,_0x41f79e=!![]){const _0x2d729e=_0x15e056;if(_0x1ffc6f)try{const _0x119724=crypt[_0x2d729e(0x1cd)](secure[_0x2d729e(0x226)],_0x1ffc6f)[_0x2d729e(0x130)],_0x47055f=_0x119724[_0x2d729e(0x15a)]('@')[0x0],_0x5fd376=_0x119724[_0x2d729e(0x15a)]('@')[0x1],_0xd18353=new Date()['getTime']();if(_0x41f79e){if(_0xd18353-_0x5fd376<maxSecretAge*0x3e8)return _0x47055f;else return![];}else return _0x47055f;}catch(_0x2fb4ad){return![];}else return![];}const validToken=(_0x2c45d0,_0x504e16)=>{const _0x338ace=_0x15e056,_0x304eaa=devices[_0x504e16]['ip'];if(!_0x2c45d0)return{'error':_0x338ace(0x1b3)};for(let _0x29cea0 of blacklist){if(_0x29cea0[_0x338ace(0x20d)]==_0x2c45d0)return{'error':'Token\x20blacklisted'};}let _0x275682;try{_0x275682=jwt[_0x338ace(0x1d4)](_0x2c45d0,secure[_0x338ace(0x192)]+_0x504e16);}catch{return{'error':_0x338ace(0x16d)};}if(!_0x275682['hasOwnProperty'](_0x338ace(0x220))&&!_0x275682[_0x338ace(0x134)](_0x338ace(0x1a7))||!_0x275682[_0x338ace(0x134)](_0x338ace(0x1ca)))return{'error':_0x338ace(0x20f)};if(!_0x275682[_0x338ace(0x134)](_0x338ace(0x1a7))&&_0x275682[_0x338ace(0x134)]('clientip')){const {clientip:_0x313a3d}=_0x275682;return _0x304eaa==_0x313a3d?{'success':_0x338ace(0x129)}:{'error':'Invalid\x20IP\x20address'};}else{if(_0x275682['hasOwnProperty'](_0x338ace(0x1a7))&&_0x275682[_0x338ace(0x134)](_0x338ace(0x220))){const {username:_0x33986d,clientip:_0x2b0e65}=_0x275682;return settings[_0x338ace(0x19b)]==_0x33986d&&_0x304eaa==_0x2b0e65?{'success':_0x338ace(0x129)}:{'error':_0x338ace(0x1ea)};}}},generateLoginToken=_0x5d8cbf=>{const _0x24a115=_0x15e056;if(_0x5d8cbf){const _0x1d3140=devices[_0x5d8cbf]['ip'];return jwt[_0x24a115(0x206)]({'username':settings[_0x24a115(0x19b)],'clientip':_0x1d3140},secure[_0x24a115(0x192)]+_0x5d8cbf,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x443ff1=>{const _0x21622d=_0x15e056;if(_0x443ff1){const _0x101773=devices[_0x443ff1]['ip'];return jwt[_0x21622d(0x206)]({'clientip':_0x101773},secure[_0x21622d(0x192)]+_0x443ff1,{'expiresIn':devices[_0x443ff1][_0x21622d(0x1a5)][_0x21622d(0x200)]*0x3c});}else return![];},telegramIpApproved=_0x4e833e=>{const _0x2ba401=_0x15e056;let _0x51b9b1=![];return devices[_0x4e833e]['telegramIpApproval']&&devices[_0x4e833e]['telegramIpApproval'][_0x2ba401(0x200)]!='reject'&&(_0x51b9b1=devices[_0x4e833e][_0x2ba401(0x1a5)][_0x2ba401(0x220)]==devices[_0x4e833e]['ip']&&new Date()[_0x2ba401(0x235)]()-devices[_0x4e833e]['telegramIpApproval'][_0x2ba401(0x1d9)]<devices[_0x4e833e][_0x2ba401(0x1a5)][_0x2ba401(0x200)]*0x3c*0x3e8),_0x51b9b1;},telegram2FaApproved=_0x581a44=>{const _0x7198e8=_0x15e056;let _0x5f3dc6=![];return devices[_0x581a44]['telegram2FaApproval']&&devices[_0x581a44][_0x7198e8(0x1e9)][_0x7198e8(0x200)]!='reject'&&(_0x5f3dc6=devices[_0x581a44][_0x7198e8(0x1e9)][_0x7198e8(0x220)]==devices[_0x581a44]['ip']&&new Date()['getTime']()-devices[_0x581a44][_0x7198e8(0x1e9)]['timestamp']<devices[_0x581a44][_0x7198e8(0x1e9)]['expiry']*0x3c*0x3e8),_0x5f3dc6;},normalizeIP=_0x41651d=>{const _0x297b1d=_0x15e056;let _0x1f2b16=null,_0x2e8c6a=null;if(ipaddr[_0x297b1d(0x196)](_0x41651d)){const _0x440be7=ipaddr[_0x297b1d(0x122)](_0x41651d);_0x440be7[_0x297b1d(0x1e8)]()===_0x297b1d(0x237)?(_0x440be7[_0x297b1d(0x1f0)]()&&(_0x1f2b16=_0x440be7['toIPv4Address']()['toString']()),_0x2e8c6a=_0x440be7['toString']()):(_0x1f2b16=_0x440be7['toString'](),_0x2e8c6a=_0x440be7[_0x297b1d(0x17a)]()[_0x297b1d(0x153)]());}return{'show':_0x1f2b16?_0x1f2b16:_0x2e8c6a,'store':_0x2e8c6a};};