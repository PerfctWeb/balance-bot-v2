const _0x25a93c=_0x4547;(function(_0x530643,_0x4a0195){const _0x46e9a5=_0x4547,_0x1ed6ad=_0x530643();while(!![]){try{const _0x1c51ac=-parseInt(_0x46e9a5(0x297))/0x1*(-parseInt(_0x46e9a5(0x236))/0x2)+-parseInt(_0x46e9a5(0x1fd))/0x3+parseInt(_0x46e9a5(0x2c0))/0x4+parseInt(_0x46e9a5(0x2b6))/0x5*(-parseInt(_0x46e9a5(0x178))/0x6)+parseInt(_0x46e9a5(0x17d))/0x7+-parseInt(_0x46e9a5(0x2ba))/0x8*(-parseInt(_0x46e9a5(0x196))/0x9)+parseInt(_0x46e9a5(0x168))/0xa*(parseInt(_0x46e9a5(0x194))/0xb);if(_0x1c51ac===_0x4a0195)break;else _0x1ed6ad['push'](_0x1ed6ad['shift']());}catch(_0x16733e){_0x1ed6ad['push'](_0x1ed6ad['shift']());}}}(_0x500b,0xefff3));const _0x56b750=function(){let _0x5e6712=!![];return function(_0x1828e3,_0x1d8fb7){const _0x1c163f=_0x5e6712?function(){if(_0x1d8fb7){const _0x20d7d4=_0x1d8fb7['apply'](_0x1828e3,arguments);return _0x1d8fb7=null,_0x20d7d4;}}:function(){};return _0x5e6712=![],_0x1c163f;};}(),_0x136faa=_0x56b750(this,function(){const _0x14d688=_0x4547;return _0x136faa[_0x14d688(0x185)]()[_0x14d688(0x221)]('(((.+)+)+)+$')[_0x14d688(0x185)]()[_0x14d688(0x26c)](_0x136faa)['search'](_0x14d688(0x22b));});_0x136faa();'use strict';process['env'][_0x25a93c(0x24e)]=0x1;const childProcess=require('child_process'),fs=require('fs'),fns=require(_0x25a93c(0x291)),low=require(_0x25a93c(0x272)),FileSync=require(_0x25a93c(0x2c7)),path=require(_0x25a93c(0x270)),crypto=require('crypto'),Crypt=require(_0x25a93c(0x1a8))[_0x25a93c(0x1d4)],RSA=require(_0x25a93c(0x1a8))[_0x25a93c(0x124)],bcrypt=require(_0x25a93c(0x269)),jwt=require('jsonwebtoken'),ipaddr=require(_0x25a93c(0x287)),argv=require('yargs/yargs')(process[_0x25a93c(0x165)][_0x25a93c(0x214)](0x2))[_0x25a93c(0x165)],uuidRandom=require('uuid-random'),TelegramBot=require(_0x25a93c(0x152)),Mixpanel=require(_0x25a93c(0x16b)),axios=require('axios'),{GraphQLClient,gql}=require(_0x25a93c(0x163)),util=require(_0x25a93c(0x160)),fileUpload=require(_0x25a93c(0x1e1)),PORT=argv[_0x25a93c(0x23d)]||'3000',pattern=/^[0-9]{2,4}$/;!pattern['test'](PORT)&&(console[_0x25a93c(0x1ea)](_0x25a93c(0x145)+PORT+_0x25a93c(0x273)),process[_0x25a93c(0x21a)](0x1));const HOST=argv[_0x25a93c(0x142)]||null,userID=argv[_0x25a93c(0x11b)]||'',debugging=argv['d']||![];let bbpath=_0x25a93c(0x2b8),bbpath2='';const botfile=_0x25a93c(0x1c5),configfile='bb-config.json',settingsfile='bb-settings.json',securefile=_0x25a93c(0x219),maxBackups=0xa;let validInstallation=!![];!fs[_0x25a93c(0x243)](bbpath+botfile)&&(bbpath='',validInstallation=![]);const {addClient,getAllClients,removeClient,getClient,getClientsWithBotID,getClientsWithUuid}=require('./'+bbpath2+_0x25a93c(0x13e)),configpath=userID?bbpath+'config/'+userID+'/':bbpath+_0x25a93c(0x240),configbackuppath=configpath+'backup/',logspath=userID?bbpath+_0x25a93c(0x1b7)+userID+'/':bbpath+_0x25a93c(0x1b7),zippath=userID?bbpath+_0x25a93c(0x1b8)+userID+'/':bbpath+'zip/',loggerfile=fs[_0x25a93c(0x223)](logspath+_0x25a93c(0x19e),{'flags':'a'}),temppath=userID?bbpath+'temp/'+userID+'/':bbpath+_0x25a93c(0x127);!fs['existsSync'](configpath)&&fs['mkdirSync'](configpath);!fs[_0x25a93c(0x243)](configbackuppath)&&fs['mkdirSync'](configbackuppath);!fs[_0x25a93c(0x243)](logspath)&&fs['mkdirSync'](logspath);!fs[_0x25a93c(0x243)](zippath)&&fs[_0x25a93c(0x20a)](zippath);!fs['existsSync'](temppath)&&fs[_0x25a93c(0x20a)](temppath);const adapter=new FileSync(configpath+configfile),dbConfig=low(adapter);dbConfig[_0x25a93c(0x25e)]({'bots':[]})['write']();const adapter2=new FileSync(configpath+settingsfile),dbSettings=low(adapter2);dbSettings[_0x25a93c(0x25e)]({'settings':{'timeshift':0x0,'loginRequired':![],'bbUsername':'','bbPassword':'','f2aRequired':![],'lastmsgtelegram':0x0,'lastmsgemitted':0x0,'latestversion':_0x25a93c(0x244)}})[_0x25a93c(0x245)]();const adapter3=new FileSync(configpath+securefile),dbSecure=low(adapter3);dbSecure['defaults']({'secure':{},'blacklist':[]})[_0x25a93c(0x245)]();let crypt=new Crypt({'md':_0x25a93c(0x158),'rsaStandard':_0x25a93c(0x14b)});const saltRounds=0xa,mixpanel=Mixpanel[_0x25a93c(0x14e)]('6b67f3d61ee94b8f5c80b4affef4c4d9',{'host':_0x25a93c(0x2c9)});let config=getConfiguration(),settings=getSettings(),secure=getSecure(),blacklist=getBlacklist(),tgBot;if(settings['telegramToken']&&settings[_0x25a93c(0x28e)]!=''&&settings[_0x25a93c(0x184)]&&settings[_0x25a93c(0x184)]!='')initTelegram();const logger={'screen':_0xb7cc70=>{const _0x3a626e=_0x25a93c;console[_0x3a626e(0x1ea)](_0xb7cc70);},'simple':_0x562d26=>{const _0x56aaf3=_0x25a93c;console[_0x56aaf3(0x1ea)](_0x562d26),loggerfile['write'](util['format'](_0x562d26)+'\x0a');},'full':async _0xf6039c=>{const _0x13ea40=_0x25a93c,_0x64a35c=getTimeStamp()+_0x13ea40(0x182)+_0xf6039c;console['log'](_0x64a35c),loggerfile[_0x13ea40(0x245)](util[_0x13ea40(0x1e5)](_0x64a35c)+'\x0a');if(tgBot&&settings['telegramChatId']&&settings[_0x13ea40(0x11c)]!=_0x13ea40(0x1af))await tgBot['sendMessage'](settings[_0x13ea40(0x1b3)],'Bot\x20Mgr\x20>\x20'+_0xf6039c)[_0x13ea40(0x171)](_0x973348=>{telegramError(_0x973348);});},'debug':async(_0x69ac71,_0x4a063b='')=>{const _0x2f493c=_0x25a93c,_0x2603b2=getTimeStamp()+_0x2f493c(0x13c)+_0x69ac71;if(debugging)console[_0x2f493c(0x1ea)](_0x2603b2);loggerfile[_0x2f493c(0x245)](util[_0x2f493c(0x1e5)](_0x2603b2)+'\x0a');if(_0x4a063b){if(debugging)console[_0x2f493c(0x1ea)](_0x4a063b);loggerfile[_0x2f493c(0x245)](util[_0x2f493c(0x1e5)](_0x4a063b)+'\x0a');}}};process['on'](_0x25a93c(0x159),function(_0x520f85){const _0x1e0507=_0x25a93c;logger[_0x1e0507(0x2c1)](_0x520f85);});let restoredConfigFile=0x0,newBot=![],pid=[];const serverversion=require('./'+bbpath2+_0x25a93c(0x295))[_0x25a93c(0x1aa)],maxSecretAge=0xa,loginExpiry=0x4*0x3c,tokenRefresh=0x5;let devices=[],lastIpApproval,pidScheduler,installingUpdate=![],publicip,newMessages=[],updateAvailable=![];const express=require(_0x25a93c(0x14d)),app=express(),http=require(_0x25a93c(0x1e6))[_0x25a93c(0x2be)](app);app[_0x25a93c(0x2cc)](fileUpload({'useTempFiles':!![]})),app[_0x25a93c(0x16f)]('/download/:type',async(_0x282fb7,_0x59ec1d)=>{const _0xc1f0b7=_0x25a93c,_0x2795af=_0x282fb7[_0xc1f0b7(0x18c)][_0xc1f0b7(0x15a)],_0x481f87=getClientsWithBotID(_0xc1f0b7(0x1d2)),_0x36aeda=_0x282fb7['headers'][_0xc1f0b7(0x17e)],_0x538f9b=timelyDecrypt(_0x36aeda,![]),_0x39be8b=_0x481f87[_0xc1f0b7(0x174)](_0x19900d=>_0x19900d[_0xc1f0b7(0x17e)]==_0x538f9b);if(_0x39be8b){const _0x148677=normalizeIP(_0x282fb7[_0xc1f0b7(0x286)][_0xc1f0b7(0x19a)])[_0xc1f0b7(0x2a1)],_0x4355de=_0x282fb7[_0xc1f0b7(0x23b)]['tkn'];if(validateAccess(_0x4355de,_0x538f9b,_0x148677)[_0xc1f0b7(0x14f)])_0x2795af==_0xc1f0b7(0x229)&&await backupConfigFiles(),await zipFiles(_0x2795af),_0x59ec1d[_0xc1f0b7(0x257)](zippath+(_0x2795af+_0xc1f0b7(0x285)),_0x3a1509=>{const _0x5cb30c=_0xc1f0b7;_0x3a1509&&(logger[_0x5cb30c(0x139)](_0x5cb30c(0x1ed)+_0x2795af),logger['simple'](_0x3a1509));});else logger[_0xc1f0b7(0x139)](_0xc1f0b7(0x136)+_0x2795af+'\x20(1)');}else logger['full']('Unauthorized\x20attempt\x20to\x20download\x20'+_0x2795af+_0xc1f0b7(0x259));}),app[_0x25a93c(0x1ec)](_0x25a93c(0x27d),async(_0x4a0e33,_0x52ad12)=>{const _0x1947cc=_0x25a93c,_0x29136f=getClientsWithBotID(_0x1947cc(0x1d2)),_0x16ed87=_0x4a0e33['headers'][_0x1947cc(0x17e)],_0x144f24=timelyDecrypt(_0x16ed87,![]),_0x5b59da=_0x29136f[_0x1947cc(0x174)](_0x3cd644=>_0x3cd644[_0x1947cc(0x17e)]==_0x144f24);logger[_0x1947cc(0x20f)](_0x1947cc(0x179));if(_0x5b59da){const _0x439c8a=normalizeIP(_0x4a0e33[_0x1947cc(0x286)][_0x1947cc(0x19a)])[_0x1947cc(0x2a1)],_0x15099e=_0x4a0e33[_0x1947cc(0x23b)][_0x1947cc(0x205)];if(validateAccess(_0x15099e,_0x144f24,_0x439c8a)[_0x1947cc(0x14f)]){if(_0x4a0e33[_0x1947cc(0x249)]){const _0x28969b=_0x4a0e33[_0x1947cc(0x249)][_0x1947cc(0x28b)];await _0x28969b['mv'](temppath+_0x28969b[_0x1947cc(0x133)]),_0x52ad12[_0x1947cc(0x173)]({'status':!![],'message':_0x1947cc(0x268)});const _0x2e7769=getBotsWithMode();_0x2e7769['length']>0x0?confirmRestore(temppath,_0x28969b[_0x1947cc(0x133)]):unzipFile(temppath,_0x28969b[_0x1947cc(0x133)]);}}else logger[_0x1947cc(0x139)](_0x1947cc(0x148));}else logger['full'](_0x1947cc(0x17f));}),app[_0x25a93c(0x2cc)](express[_0x25a93c(0x132)](path[_0x25a93c(0x21b)](__dirname,bbpath2,'build2'))),app['use'](express[_0x25a93c(0x132)](path[_0x25a93c(0x21b)](__dirname,bbpath2,_0x25a93c(0x1e4)))),app['get']('/',function(_0x243206,_0x1dd1b8){const _0x491102=_0x25a93c;_0x1dd1b8[_0x491102(0x1ce)](path['join'](__dirname,bbpath2,_0x491102(0x2b4),_0x491102(0x256)));}),app[_0x25a93c(0x16f)](_0x25a93c(0x267),function(_0x8dd526,_0xee9614){const _0x4bde22=_0x25a93c;_0xee9614['sendFile'](path[_0x4bde22(0x21b)](__dirname,bbpath2,_0x4bde22(0x1e4),_0x4bde22(0x256)));}),app[_0x25a93c(0x16f)]('/:bot/portfolio',(_0x4028ab,_0x2048f6)=>{const _0x13cc6d=_0x25a93c;_0x2048f6['sendFile'](path[_0x13cc6d(0x21b)](__dirname,bbpath2,'build',_0x13cc6d(0x256)));}),app['get'](_0x25a93c(0x1d1),(_0x3907a9,_0x1d53e4)=>{const _0x23ab27=_0x25a93c;_0x1d53e4[_0x23ab27(0x1ce)](path[_0x23ab27(0x21b)](__dirname,bbpath2,_0x23ab27(0x1e4),_0x23ab27(0x256)));}),app[_0x25a93c(0x16f)](_0x25a93c(0x1d0),(_0x59bf7c,_0xa942c8)=>{const _0x185745=_0x25a93c;_0xa942c8[_0x185745(0x1ce)](path['join'](__dirname,bbpath2,'build',_0x185745(0x256)));}),app[_0x25a93c(0x16f)](_0x25a93c(0x1d7),(_0x19f4bf,_0x1c506c)=>{const _0x2bc1e4=_0x25a93c;_0x1c506c[_0x2bc1e4(0x1ce)](path['join'](__dirname,bbpath2,'build',_0x2bc1e4(0x256)));}),app['get'](_0x25a93c(0x212),(_0x5cada8,_0x224c56)=>{const _0x12d946=_0x25a93c;_0x224c56[_0x12d946(0x1ce)](path['join'](__dirname,bbpath2,_0x12d946(0x1e4),'index.html'));}),app[_0x25a93c(0x16f)]('/:bot/support',(_0x450d1e,_0x2378a7)=>{const _0x29747d=_0x25a93c;_0x2378a7[_0x29747d(0x1ce)](path[_0x29747d(0x21b)](__dirname,bbpath2,_0x29747d(0x1e4),'index.html'));});if(HOST)http['listen'](PORT,HOST);else http[_0x25a93c(0x2ad)](PORT);const io=require(_0x25a93c(0x11a))(http,{});init();async function init(){await validateConfigFile(),await initUser(),await initSecure(),oneTimeMigration(),cleanBlacklist(),initStates(),await startServer();if(restoredConfigFile)restoreConfigNotify(![]);startSocket(),startScheduler(),triggerAnalytics(),getMessages(),reloadBotManager();}async function startServer(){const _0x2c2c45=_0x25a93c;logger[_0x2c2c45(0x2c1)](''),logger[_0x2c2c45(0x2c1)](_0x2c2c45(0x29c)),await logger[_0x2c2c45(0x139)]('Bot\x20Manager\x20started\x20|\x20open:\x20http://[ip-address]:'+PORT),logger[_0x2c2c45(0x2c1)]('-----------------------------------------------------------------------------------');if(config[_0x2c2c45(0x232)]!=0x0)for(const _0x44ae88 of config){if(_0x44ae88[_0x2c2c45(0x1c0)]==_0x2c2c45(0x250)||_0x44ae88['status']==_0x2c2c45(0x27c))await logger[_0x2c2c45(0x139)](_0x2c2c45(0x2a7)+_0x44ae88['botID']+'\x20|\x20'+_0x44ae88[_0x2c2c45(0x123)]),startBot([_0x44ae88[_0x2c2c45(0x23f)],userID],{'cwd':bbpath},function(_0x196211){if(_0x196211)logger['full'](_0x196211);});else(_0x44ae88['status']==_0x2c2c45(0x26f)||_0x44ae88[_0x2c2c45(0x1c0)]==_0x2c2c45(0x207))&&await logger['full'](_0x2c2c45(0x1e9)+_0x44ae88[_0x2c2c45(0x23f)]+_0x2c2c45(0x2c6)+_0x44ae88[_0x2c2c45(0x123)]);}else!newBot&&logger[_0x2c2c45(0x2c1)](_0x2c2c45(0x1bd));if(newBot)addBot();logger[_0x2c2c45(0x2c1)](_0x2c2c45(0x29c)),logger[_0x2c2c45(0x2c1)]('');}function startSocket(){io['on']('connection',_0x4e4083=>{const _0x593fdb=_0x4547;let _0xfed85f,_0x80627b,_0x52fc9d,_0x4b0a2e,_0x36e2db;const _0xa762a9=_0x4e4083[_0x593fdb(0x260)][_0x593fdb(0x23b)][_0x593fdb(0x271)];_0x80627b=_0xa762a9[_0x593fdb(0x1c3)](/bot[0-9]{3}/);if(_0x80627b)_0x52fc9d=_0x80627b[0x0][_0x593fdb(0x1c3)](/[0-9]{3}/);if(_0x52fc9d)_0xfed85f=_0x52fc9d[0x0];else _0xfed85f='botmanager';const _0x59ccdf=_0x4e4083['handshake'][_0x593fdb(0x12b)][_0x593fdb(0x183)];if(!_0x59ccdf)_0x4e4083[_0x593fdb(0x201)](_0x593fdb(0x1c0),{'publicKey':secure['publicKey']});else{_0x4b0a2e=timelyDecrypt(_0x59ccdf,![]);if(!_0x4b0a2e)_0x4e4083[_0x593fdb(0x201)]('status',{'publicKey':secure['publicKey']});else{_0x36e2db=normalizeIP(_0x4e4083['conn'][_0x593fdb(0x19a)])[_0x593fdb(0x2a1)];if(!devices[_0x4b0a2e])devices[_0x4b0a2e]={'uuid':_0x4b0a2e,'access':{'token':null}};devices[_0x4b0a2e]['ip']=_0x36e2db;const _0x159bbb=addClient(_0x4e4083['id'],_0x4b0a2e,_0xfed85f);setAccess(_0x159bbb),emitMessages(),_0x4e4083['on'](_0x593fdb(0x116),_0x192b53=>{const _0x3dc126=_0x593fdb,_0x292ab7=timelyDecrypt(_0x192b53[_0x3dc126(0x20d)]);if(_0x292ab7){_0x192b53={'username':_0x192b53[_0x3dc126(0x128)],'password':_0x292ab7},devices[_0x4b0a2e]['access']=validateCredentials(_0x192b53,_0x4b0a2e);if(devices[_0x4b0a2e][_0x3dc126(0x180)][_0x3dc126(0x14f)]==![]&&devices[_0x4b0a2e][_0x3dc126(0x180)][_0x3dc126(0x200)]==_0x3dc126(0x228))_0x4e4083['emit']('status',{'access':devices[_0x4b0a2e][_0x3dc126(0x180)]}),loginAccess2FA(_0x4b0a2e,_0x36e2db);else{if(devices[_0x4b0a2e]['access'][_0x3dc126(0x14f)]==![]&&devices[_0x4b0a2e][_0x3dc126(0x180)][_0x3dc126(0x200)]==_0x3dc126(0x1cd))_0x4e4083['emit'](_0x3dc126(0x1c0),{'access':devices[_0x4b0a2e][_0x3dc126(0x180)]});else devices[_0x4b0a2e][_0x3dc126(0x180)][_0x3dc126(0x14f)]&&devices[_0x4b0a2e][_0x3dc126(0x180)][_0x3dc126(0x200)]==_0x3dc126(0x263)&&(getClientsWithUuid(_0x4b0a2e)['forEach'](_0x16aa3b=>{setAccess(_0x16aa3b);}),setTokenRefresh(_0x4b0a2e),setSessionTimeout('login',_0x4b0a2e));}}else logger[_0x3dc126(0x139)](_0x3dc126(0x1e8));}),_0x4e4083['on'](_0x593fdb(0x12c),()=>{resetPassword();}),_0x4e4083['on']('disconnect',_0x195e29=>{removeClient(_0x4e4083['id']);}),_0xfed85f==_0x593fdb(0x1d2)&&(restoredConfigFile&&(restoreConfigNotify(!![]),restoredConfigFile=0x0));}}});}function initClient(_0x2621da){const _0x384529=_0x25a93c;if(_0x2621da!='botmanager'&&config[_0x384529(0x293)]!=''){if(pid[_0x2621da])pid[_0x2621da][_0x384529(0x173)]({'function':_0x384529(0x1d6),'args':null});}}function reloadBotManager(){const _0x74edd=_0x25a93c;getClientsWithBotID('botmanager')[_0x74edd(0x21d)](_0x15625d=>{const _0x516455=_0x74edd;getSocket(_0x15625d['id'])[_0x516455(0x201)](_0x516455(0x1c0),{'access':{'allow':![],'reason':'reload','token':null}});});}function getSocket(_0x385da2){const _0x4a6cd2=_0x25a93c;return io[_0x4a6cd2(0x23c)][_0x4a6cd2(0x23c)][_0x4a6cd2(0x16f)](_0x385da2);}function setAccess(_0x1a98da){const _0xd89425=_0x25a93c,_0xd993ce=getSocket(_0x1a98da['id']),_0x5cecb4=_0x1a98da['uuid'],_0x5203c3=_0x1a98da[_0xd89425(0x19f)];devices[_0x5cecb4][_0xd89425(0x180)]=validateAccess(devices[_0x5cecb4][_0xd89425(0x180)][_0xd89425(0x24f)],_0x5cecb4),_0xd993ce[_0xd89425(0x21b)](_0x5cecb4);if(devices[_0x5cecb4][_0xd89425(0x180)][_0xd89425(0x14f)]){_0xd993ce[_0xd89425(0x21b)](_0x5203c3);if(_0x5203c3=='botmanager')initializeSocketBotManager(_0xd993ce);else initializeSocketBot(_0xd993ce);initClient(_0x5203c3);}devices[_0x5cecb4][_0xd89425(0x180)][_0xd89425(0x24f)]&&devices[_0x5cecb4][_0xd89425(0x180)][_0xd89425(0x200)]==_0xd89425(0x26e)&&setSessionTimeout(_0xd89425(0x141),_0x5cecb4),devices[_0x5cecb4][_0xd89425(0x180)][_0xd89425(0x24f)]&&devices[_0x5cecb4][_0xd89425(0x180)]['reason']==_0xd89425(0x1a7)&&setSessionTimeout(_0xd89425(0x116),_0x5cecb4),_0xd993ce['emit'](_0xd89425(0x1c0),{'status':_0x1a98da['server'],'serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x5cecb4][_0xd89425(0x180)],'externalip':devices[_0x5cecb4]['ip'],'publicKey':secure[_0xd89425(0x28d)],'userid':settings[_0xd89425(0x17a)],'validInstallation':validInstallation}),devices[_0x5cecb4][_0xd89425(0x180)][_0xd89425(0x14f)]==![]&&devices[_0x5cecb4][_0xd89425(0x180)][_0xd89425(0x200)]==_0xd89425(0x1dc)&&temporaryAccess2FA(_0x5cecb4,devices[_0x5cecb4]['ip']);}function setSessionTimeout(_0x55436e,_0x3d6764){const _0x59e795=_0x25a93c;let _0x293428;if(_0x55436e=='login')_0x293428=loginExpiry*0x3c*0x3e8;else _0x293428=devices[_0x3d6764][_0x59e795(0x204)][_0x59e795(0x1b2)]*0x3c*0x3e8-(new Date()[_0x59e795(0x1ef)]()-devices[_0x3d6764][_0x59e795(0x204)][_0x59e795(0x1f5)]);if(devices[_0x3d6764]['pidExpireLogin'])clearTimeout(devices[_0x3d6764][_0x59e795(0x197)]);devices[_0x3d6764][_0x59e795(0x197)]=setTimeout(()=>{const _0x2c531d=_0x59e795;if(devices[_0x3d6764][_0x2c531d(0x231)])clearTimeout(devices[_0x3d6764][_0x2c531d(0x231)]);removeSocketListeners(_0x3d6764),addBlacklist(_0x3d6764),devices[_0x3d6764][_0x2c531d(0x204)]=null,devices[_0x3d6764]['telegram2FaApproval']=null,devices[_0x3d6764]['access'][_0x2c531d(0x24f)]=null,devices[_0x3d6764]['access']=validateAccess(devices[_0x3d6764][_0x2c531d(0x180)][_0x2c531d(0x24f)],_0x3d6764),!(devices[_0x3d6764][_0x2c531d(0x180)][_0x2c531d(0x14f)]&&devices[_0x3d6764][_0x2c531d(0x180)][_0x2c531d(0x200)]==_0x2c531d(0x280))&&(_0x55436e=='login'?io['to'](_0x3d6764)[_0x2c531d(0x201)]('status',{'access':{'allow':![],'reason':_0x2c531d(0x161),'token':null}}):io['to'](_0x3d6764)[_0x2c531d(0x201)]('status',{'access':{'allow':![],'reason':_0x2c531d(0x230),'token':null}})),devices[_0x3d6764][_0x2c531d(0x180)][_0x2c531d(0x24f)]=null;},_0x293428);}function setTokenRefresh(_0x188775){const _0x3f3c42=_0x25a93c;if(devices[_0x188775][_0x3f3c42(0x231)])clearTimeout(devices[_0x188775][_0x3f3c42(0x231)]);devices[_0x188775][_0x3f3c42(0x231)]=setTimeout(()=>{const _0x3e516e=_0x3f3c42;getClientsWithUuid(_0x188775)[_0x3e516e(0x232)]!=0x0?(devices[_0x188775]['access']=refreshToken(_0x188775),io['to'](_0x188775)[_0x3e516e(0x201)]('status',{'status':'connected','serverversion':serverversion,'servertime':getServerTime(),'access':devices[_0x188775][_0x3e516e(0x180)],'externalip':devices[_0x188775]['ip'],'publicKey':secure[_0x3e516e(0x28d)],'validInstallation':validInstallation}),setTokenRefresh(_0x188775)):clearTimeout(devices[_0x188775][_0x3e516e(0x231)]);},(tokenRefresh-0x1)*0x3c*0x3e8);}function initializeSocketBotManager(_0x44d11b){const _0x369f21=_0x25a93c,_0x131f34=getClient(_0x44d11b['id'])[_0x369f21(0x17e)];_0x44d11b[_0x369f21(0x201)]('bots',config),_0x44d11b[_0x369f21(0x201)](_0x369f21(0x131),cleanSettings()),_0x44d11b['on'](_0x369f21(0x28c),_0x1ce755=>{const _0x3e195c=_0x369f21;if(validateAccess(_0x1ce755,_0x131f34)[_0x3e195c(0x14f)])addBot();else logger[_0x3e195c(0x139)](_0x3e195c(0x21c));}),_0x44d11b['on']('update-bot',(_0x536c4f,_0x2b4bdf)=>{const _0x1519ec=_0x369f21;if(validateAccess(_0x2b4bdf,_0x131f34)['allow'])toggleBot(_0x536c4f[_0x1519ec(0x23f)],_0x536c4f[_0x1519ec(0x1c0)],_0x536c4f[_0x1519ec(0x1de)]);else logger[_0x1519ec(0x139)]('Unauthorized\x20attempt\x20to\x20update\x20bot');}),_0x44d11b['on'](_0x369f21(0x2bb),(_0x406073,_0x44d583)=>{const _0x181cd0=_0x369f21;if(validateAccess(_0x44d583,_0x131f34)[_0x181cd0(0x14f)])toggleBotMode(_0x406073);else logger[_0x181cd0(0x139)](_0x181cd0(0x12e));}),_0x44d11b['on'](_0x369f21(0x192),(_0x263b33,_0x1b60b7)=>{const _0x26cea2=_0x369f21;if(validateAccess(_0x1b60b7,_0x131f34)[_0x26cea2(0x14f)])deleteBot(_0x263b33);else logger[_0x26cea2(0x139)](_0x26cea2(0x2b5));}),_0x44d11b['on']('store-settings',(_0x58364d,_0x5622f5)=>{const _0x41206d=_0x369f21;if(validateAccess(_0x5622f5,_0x131f34)[_0x41206d(0x14f)])storeSettings(_0x58364d,!![]);else logger['full'](_0x41206d(0x218));}),_0x44d11b['on'](_0x369f21(0x238),_0x2f4215=>{const _0x1d7341=_0x369f21;if(validateAccess(_0x2f4215,_0x131f34)[_0x1d7341(0x14f)])updateBB(_0x1d7341(0x25c));else logger['full']('Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot');}),_0x44d11b['on'](_0x369f21(0x189),_0x2acf38=>{const _0xa195cd=_0x369f21;if(validateAccess(_0x2acf38,_0x131f34)[_0xa195cd(0x14f)])updateBB(_0xa195cd(0x1c4));else logger['full'](_0xa195cd(0x241));}),_0x44d11b['on']('get-backup-files',_0x2808f3=>{const _0x569994=_0x369f21;if(validateAccess(_0x2808f3,_0x131f34)['allow'])getBackupFiles(getClient(_0x44d11b['id'])['uuid']);else logger[_0x569994(0x139)](_0x569994(0x241));}),_0x44d11b['on']('restore-backup-file',(_0x2e368a,_0x287218)=>{const _0x36fdc4=_0x369f21;if(validateAccess(_0x287218,_0x131f34)['allow'])restoreBackupFile(_0x2e368a);else logger['full'](_0x36fdc4(0x1ac));}),_0x44d11b['on']('get-messages',_0x14c9d4=>{const _0x5e8d7a=_0x369f21;if(validateAccess(_0x14c9d4,_0x131f34)['allow'])getMessages();else logger[_0x5e8d7a(0x139)](_0x5e8d7a(0x2c5));}),_0x44d11b['on'](_0x369f21(0x11f),(_0x47b18c,_0x171bc9)=>{const _0x16da10=_0x369f21;if(validateAccess(_0x171bc9,_0x131f34)['allow'])confirmMessage(_0x47b18c);else logger[_0x16da10(0x139)](_0x16da10(0x151));}),_0x44d11b['on'](_0x369f21(0x237),_0x11f9e6=>{const _0x2bdcb6=_0x369f21;if(validateAccess(_0x11f9e6,_0x131f34)['allow']){if(devices[_0x131f34][_0x2bdcb6(0x231)])clearTimeout(devices[_0x131f34][_0x2bdcb6(0x231)]);if(devices[_0x131f34][_0x2bdcb6(0x197)])clearTimeout(devices[_0x131f34]['pidExpireLogin']);removeSocketListeners(getClient(_0x44d11b['id'])[_0x2bdcb6(0x17e)]),addBlacklist(_0x131f34),devices[_0x131f34][_0x2bdcb6(0x204)]=null,devices[_0x131f34][_0x2bdcb6(0x1ff)]=null,devices[_0x131f34][_0x2bdcb6(0x180)][_0x2bdcb6(0x24f)]=null,io['to'](getClient(_0x44d11b['id'])[_0x2bdcb6(0x17e)])[_0x2bdcb6(0x201)](_0x2bdcb6(0x1c0),{'access':{'allow':![],'reason':_0x2bdcb6(0x20c),'token':null}});}else logger[_0x2bdcb6(0x139)](_0x2bdcb6(0x2c8));});}function initializeSocketBot(_0xa0890c){const _0x2d3aa0=_0x25a93c,_0x3e231f=getClient(_0xa0890c['id'])['bot'],_0x19846c=getClient(_0xa0890c['id'])[_0x2d3aa0(0x17e)];_0xa0890c['on'](_0x2d3aa0(0x1ae),(_0x4d9f16,_0x5d29ea)=>{const _0x20d4f4=_0x2d3aa0;if(validateAccess(_0x5d29ea,_0x19846c)[_0x20d4f4(0x14f)]){if(pid[_0x3e231f])pid[_0x3e231f][_0x20d4f4(0x173)]({'function':_0x20d4f4(0x122),'args':_0x4d9f16});}else logger[_0x20d4f4(0x139)](_0x20d4f4(0x18b));}),_0xa0890c['on'](_0x2d3aa0(0x1d9),(_0x5b7b2c,_0x43179a)=>{const _0x3f4a82=_0x2d3aa0;if(validateAccess(_0x43179a,_0x19846c)['allow']){if(pid[_0x3e231f])pid[_0x3e231f][_0x3f4a82(0x173)]({'function':'deleteHistoryAlerts','args':_0x5b7b2c});}else logger['full'](_0x3f4a82(0x167));}),_0xa0890c['on'](_0x2d3aa0(0x15f),(_0xc1dd8a,_0x55486f)=>{const _0x5e79a9=_0x2d3aa0;if(validateAccess(_0x55486f,_0x19846c)[_0x5e79a9(0x14f)]){if(pid[_0x3e231f])pid[_0x3e231f][_0x5e79a9(0x173)]({'function':'getPortfolio','args':_0xc1dd8a});}else logger[_0x5e79a9(0x139)](_0x5e79a9(0x2a4));}),_0xa0890c['on']('store-configuration',(_0x1712e2,_0x53117d)=>{const _0x169ea3=_0x2d3aa0;if(validateAccess(_0x53117d,_0x19846c)[_0x169ea3(0x14f)]){if(pid[_0x3e231f])pid[_0x3e231f][_0x169ea3(0x173)]({'function':'storeConfiguration','args':_0x1712e2});}else logger['full']('Unauthorized\x20attempt\x20to\x20store\x20configuration');}),_0xa0890c['on'](_0x2d3aa0(0x222),(_0x3c0d1d,_0x4b6342)=>{const _0x6f877b=_0x2d3aa0;if(validateAccess(_0x4b6342,_0x19846c)[_0x6f877b(0x14f)]){if(pid[_0x3e231f])pid[_0x3e231f][_0x6f877b(0x173)]({'function':_0x6f877b(0x1e7),'args':_0x3c0d1d});}else logger[_0x6f877b(0x139)]('Unauthorized\x20attempt\x20to\x20store\x20headless\x20configuration');}),_0xa0890c['on']('get-starting-balances',_0x5279e9=>{const _0x165a82=_0x2d3aa0;if(validateAccess(_0x5279e9,_0x19846c)[_0x165a82(0x14f)]){if(pid[_0x3e231f])pid[_0x3e231f][_0x165a82(0x173)]({'function':_0x165a82(0x258),'args':null});}else logger['full'](_0x165a82(0x12d));}),_0xa0890c['on'](_0x2d3aa0(0x19d),(_0x8abd88,_0x528f54)=>{const _0x20be3f=_0x2d3aa0;if(validateAccess(_0x528f54,_0x19846c)['allow']){if(pid[_0x3e231f])pid[_0x3e231f][_0x20be3f(0x173)]({'function':_0x20be3f(0x14c),'args':_0x8abd88});}else logger['full'](_0x20be3f(0x254));}),_0xa0890c['on']('cancel-loading',_0x40ca8c=>{const _0x1ab5dc=_0x2d3aa0;if(validateAccess(_0x40ca8c,_0x19846c)[_0x1ab5dc(0x14f)]){if(pid[_0x3e231f])pid[_0x3e231f]['send']({'function':_0x1ab5dc(0x1f9),'args':null});}else logger[_0x1ab5dc(0x139)](_0x1ab5dc(0x15d));}),_0xa0890c['on']('show-config',_0x3a99db=>{const _0x1a6f33=_0x2d3aa0;if(validateAccess(_0x3a99db,_0x19846c)[_0x1a6f33(0x14f)]){if(pid[_0x3e231f])pid[_0x3e231f][_0x1a6f33(0x173)]({'function':_0x1a6f33(0x247),'args':null});}else logger[_0x1a6f33(0x139)](_0x1a6f33(0x2ab));}),_0xa0890c['on']('update-bb',_0x13a9ec=>{const _0x18fb73=_0x2d3aa0;if(validateAccess(_0x13a9ec,_0x19846c)[_0x18fb73(0x14f)])updateBB('update');else logger[_0x18fb73(0x139)](_0x18fb73(0x1ab));}),_0xa0890c['on'](_0x2d3aa0(0x2a2),_0x1ccfd1=>{const _0x1d9894=_0x2d3aa0;if(validateAccess(_0x1ccfd1,_0x19846c)[_0x1d9894(0x14f)])getMessages();else logger[_0x1d9894(0x139)](_0x1d9894(0x2c5));}),_0xa0890c['on']('confirm-message',(_0x11cbc9,_0x3fd569)=>{const _0x48eb71=_0x2d3aa0;if(validateAccess(_0x3fd569,_0x19846c)[_0x48eb71(0x14f)])confirmMessage(_0x11cbc9);else logger[_0x48eb71(0x139)]('Unauthorized\x20attempt\x20to\x20confirm\x20message');}),_0xa0890c['on'](_0x2d3aa0(0x237),_0x249cc4=>{const _0xf11650=_0x2d3aa0;if(validateAccess(_0x249cc4,_0x19846c)['allow']){if(devices[_0x19846c]['pidRefreshToken'])clearTimeout(devices[_0x19846c][_0xf11650(0x231)]);if(devices[_0x19846c][_0xf11650(0x197)])clearTimeout(devices[_0x19846c][_0xf11650(0x197)]);removeSocketListeners(getClient(_0xa0890c['id'])[_0xf11650(0x17e)]),addBlacklist(_0x19846c),devices[_0x19846c][_0xf11650(0x204)]=null,devices[_0x19846c]['telegram2FaApproval']=null,devices[_0x19846c][_0xf11650(0x180)][_0xf11650(0x24f)]=null,io['to'](getClient(_0xa0890c['id'])[_0xf11650(0x17e)])[_0xf11650(0x201)](_0xf11650(0x1c0),{'access':{'allow':![],'reason':_0xf11650(0x20c),'token':null}});}else logger[_0xf11650(0x139)](_0xf11650(0x2c8));});}function _0x4547(_0x417f3c,_0x16f873){const _0x38ec6e=_0x500b();return _0x4547=function(_0x136faa,_0x56b750){_0x136faa=_0x136faa-0x116;let _0x500b08=_0x38ec6e[_0x136faa];return _0x500b08;},_0x4547(_0x417f3c,_0x16f873);}function removeSocketListeners(_0x6e34db){const _0x1d77c6=_0x25a93c;getClientsWithUuid(_0x6e34db)[_0x1d77c6(0x21d)](_0x4d0cca=>{const _0x4345dc=_0x1d77c6;getSocket(_0x4d0cca['id'])[_0x4345dc(0x1fb)]();});}function cleanSettings(){const _0x23e97f=_0x25a93c;let _0x3f49c2=settings;return settings[_0x23e97f(0x28e)]&&settings[_0x23e97f(0x28e)]!=''&&(_0x3f49c2={..._0x3f49c2,'telegramToken':_0x23e97f(0x1c8)}),settings['bbPassword']&&settings[_0x23e97f(0x1eb)]!=''&&(_0x3f49c2={..._0x3f49c2,'bbPassword':'************'}),(settings[_0x23e97f(0x1eb)]&&settings[_0x23e97f(0x1eb)]=='***'||settings[_0x23e97f(0x28e)]&&settings['telegramToken']==_0x23e97f(0x294))&&(_0x3f49c2={..._0x3f49c2,'restored':{'password':settings['bbPassword']=='***','telegram':settings[_0x23e97f(0x28e)]=='***'}}),_0x3f49c2;}async function updateBB(_0x56e8c4){const _0x813efe=_0x25a93c;await backupConfigFiles(),installingUpdate=!![],config[_0x813efe(0x21d)](_0x1ff4b8=>{const _0x2570d5=_0x813efe;restartBot(_0x1ff4b8[_0x2570d5(0x23f)]);}),logger[_0x813efe(0x20f)](_0x813efe(0x22a)+_0x56e8c4);if(_0x56e8c4==_0x813efe(0x25c))process['send']({'update':!![]},_0x168d2d=>{});else _0x56e8c4=='reinstall'&&process[_0x813efe(0x173)]({'reinstall':!![]},_0x340b1e=>{});}function startBot(_0x6332f8,_0x1330e0,_0x151468){const _0x733c13=_0x25a93c;if(debugging)_0x6332f8[_0x733c13(0x130)]('-d');let _0x2a05e6=![];const _0x274602=_0x6332f8[0x0];_0x1330e0={..._0x1330e0,'stdio':[_0x733c13(0x279),_0x733c13(0x279),_0x733c13(0x279),_0x733c13(0x143)]},pid[_0x274602]=childProcess[_0x733c13(0x147)](botfile,_0x6332f8,_0x1330e0),pid[_0x274602]['on']('message',_0x797602=>{const _0x565462=_0x733c13;switch(Object[_0x565462(0x276)](_0x797602)[0x0]){case _0x565462(0x123):updateBotName(_0x274602,_0x797602[_0x565462(0x123)]);break;case'updatebotmanager':updateBotManager();break;case _0x565462(0x1c0):updateStatus(_0x274602,_0x797602[_0x565462(0x1c0)]);break;case'live':updateLive(_0x274602,_0x797602[_0x565462(0x1de)]);break;case _0x565462(0x239):updateLive(_0x274602,_0x797602[_0x565462(0x239)]),io['to'](_0x274602)[_0x565462(0x201)](_0x565462(0x1c0),{'access':{'allow':![],'reason':_0x565462(0x1b1),'token':null}});break;case _0x565462(0x2b0):_0x797602[_0x565462(0x2b0)]=='restart'&&restartBot(_0x274602);_0x797602['stop']==_0x565462(0x24a)&&toggleBot(_0x274602,'disabled','stopped');break;case'telegram':sendTelegram(_0x274602,_0x797602[_0x565462(0x264)]);break;case _0x565462(0x213):sendTelegramMsg(_0x797602[_0x565462(0x213)]);break;case _0x565462(0x224):io['to'](_0x274602)[_0x565462(0x201)](_0x797602[_0x565462(0x224)],_0x797602['args']);break;}}),pid[_0x274602]['on'](_0x733c13(0x1ee),function(_0x38f98d){if(_0x2a05e6)return;_0x2a05e6=!![],_0x151468(_0x38f98d);}),pid[_0x274602]['on'](_0x733c13(0x21a),async function(_0x4ed299){const _0x5ce982=_0x733c13;if(installingUpdate)return;if(_0x2a05e6)return;_0x2a05e6=!![],_0x151468(null);const _0xe369fa=dbConfig['get'](_0x5ce982(0x29f))[_0x5ce982(0x174)]({'botID':_0x274602})[_0x5ce982(0x29b)]();_0xe369fa&&(_0xe369fa[_0x5ce982(0x1c0)]=='enabled'||_0xe369fa['status']==_0x5ce982(0x27c))&&(await sleep(0x3e8),updateLive(_0x274602,'stopped'),logger[_0x5ce982(0x139)](_0x5ce982(0x2b3)+_0x274602),startBot([_0x274602,userID],{'cwd':bbpath},function(_0x254d5c){if(_0x254d5c)logger['full'](_0x254d5c);}));});}function stopBot(_0x59ce88){const _0x329b3f=_0x25a93c;getClientsWithBotID(_0x59ce88)[_0x329b3f(0x21d)](_0x498f33=>{const _0x3896df=_0x329b3f;getSocket(_0x498f33['id'])[_0x3896df(0x282)](!![]),removeClient(_0x498f33['id']);}),pid[_0x59ce88]&&(pid[_0x59ce88][_0x329b3f(0x24a)](),pid[_0x59ce88]=null);}function restartBot(_0x39d055){const _0x4ab092=_0x25a93c;if(pid[_0x39d055])pid[_0x39d055][_0x4ab092(0x24a)]();}function addBot(){const _0x2e9ad6=_0x25a93c;let _0x9bda82;for(let _0x145632=0x1;_0x145632<0x3e9;_0x145632++){_0x9bda82=_0x145632[_0x2e9ad6(0x185)]()[_0x2e9ad6(0x2d0)](0x3,'0');let _0x1525b1=config[_0x2e9ad6(0x174)](_0x4ead27=>_0x4ead27[_0x2e9ad6(0x23f)]==_0x9bda82);if(!_0x1525b1)break;}if(_0x9bda82===_0x2e9ad6(0x19c)){logger['full'](_0x2e9ad6(0x296));return;}logger[_0x2e9ad6(0x139)]('starting\x20new\x20bot\x20|\x20Bot\x20'+_0x9bda82),dbConfig[_0x2e9ad6(0x16f)]('bots')[_0x2e9ad6(0x130)]({'botID':_0x9bda82,'botname':'Bot\x20'+_0x9bda82,'status':_0x2e9ad6(0x27c),'live':''})[_0x2e9ad6(0x245)](),startBot([_0x9bda82,userID],{'cwd':bbpath},function(_0x108953){const _0x525191=_0x2e9ad6;if(_0x108953)logger[_0x525191(0x139)](_0x108953);}),config=getConfiguration(),io['to']('botmanager')[_0x2e9ad6(0x201)](_0x2e9ad6(0x29f),config);}function deleteBot(_0x267a55){const _0x56be5d=_0x25a93c;getClientsWithBotID(_0x267a55)['forEach'](_0x4a1fa7=>{getSocket(_0x4a1fa7['id'])['disconnect'](!![]),removeClient(_0x4a1fa7['id']);}),dbConfig[_0x56be5d(0x16f)](_0x56be5d(0x29f))[_0x56be5d(0x2b7)]({'botID':_0x267a55})[_0x56be5d(0x245)](),logger[_0x56be5d(0x139)](_0x56be5d(0x1c9)+_0x267a55),stopBot(_0x267a55);try{if(fs[_0x56be5d(0x243)](path[_0x56be5d(0x21b)](configpath,_0x56be5d(0x2bc)+_0x267a55+_0x56be5d(0x177))))fs[_0x56be5d(0x20e)](path[_0x56be5d(0x21b)](configpath,_0x56be5d(0x2bc)+_0x267a55+'-config.json'));if(fs[_0x56be5d(0x243)](path[_0x56be5d(0x21b)](configpath,_0x56be5d(0x2bc)+_0x267a55+'-events.json')))fs[_0x56be5d(0x20e)](path['join'](configpath,'bot-'+_0x267a55+_0x56be5d(0x188)));if(fs[_0x56be5d(0x243)](path['join'](configpath,_0x56be5d(0x2bc)+_0x267a55+_0x56be5d(0x2a6))))fs[_0x56be5d(0x20e)](path[_0x56be5d(0x21b)](configpath,'bot-'+_0x267a55+_0x56be5d(0x2a6)));if(fs['existsSync'](path['join'](configpath,_0x56be5d(0x2bc)+_0x267a55+_0x56be5d(0x1da))))fs[_0x56be5d(0x20e)](path[_0x56be5d(0x21b)](configpath,_0x56be5d(0x2bc)+_0x267a55+_0x56be5d(0x1da)));}catch(_0x33972e){if(_0x33972e)logger[_0x56be5d(0x139)](_0x56be5d(0x227),_0x33972e);}config=getConfiguration(),io['to'](_0x56be5d(0x1d2))[_0x56be5d(0x201)](_0x56be5d(0x29f),config);}function toggleBot(_0x4d5f0c,_0x436775,_0x17d9c1){const _0x28fbc1=_0x25a93c;dbConfig['get']('bots')['find']({'botID':_0x4d5f0c})[_0x28fbc1(0x170)]({'status':_0x436775})[_0x28fbc1(0x170)]({'live':_0x17d9c1})[_0x28fbc1(0x245)]();if(_0x436775==_0x28fbc1(0x250)||_0x436775==_0x28fbc1(0x27c))logger[_0x28fbc1(0x139)](_0x28fbc1(0x24d)+_0x4d5f0c),startBot([_0x4d5f0c,userID],{'cwd':bbpath},function(_0x3d93ae){const _0x1975ac=_0x28fbc1;if(_0x3d93ae)logger[_0x1975ac(0x139)](_0x3d93ae);});else(_0x436775=='disabled'||_0x436775=='new-disabled')&&(logger['full'](_0x28fbc1(0x18a)+_0x4d5f0c),stopBot(_0x4d5f0c));config=getConfiguration(),io['to'](_0x28fbc1(0x1d2))[_0x28fbc1(0x201)](_0x28fbc1(0x29f),config);}function toggleStatus(_0x4c52c2){const _0x5973c2=_0x25a93c;let _0x26621f=dbConfig[_0x5973c2(0x16f)](_0x5973c2(0x29f))[_0x5973c2(0x174)]({'botID':_0x4c52c2})[_0x5973c2(0x29b)](),_0x542966;if(_0x26621f['status']===_0x5973c2(0x250))_0x542966='disabled';else{if(_0x26621f[_0x5973c2(0x1c0)]===_0x5973c2(0x27c))_0x542966=_0x5973c2(0x207);else{if(_0x26621f['status']===_0x5973c2(0x207))_0x542966=_0x5973c2(0x27c);else{if(_0x26621f['status']===_0x5973c2(0x26f))_0x542966='enabled';}}}return _0x542966;}function updateStatus(_0x3ffeee,_0x55ab9d){const _0x1c7e9d=_0x25a93c;dbConfig['get'](_0x1c7e9d(0x29f))['find']({'botID':_0x3ffeee})[_0x1c7e9d(0x170)]({'status':_0x55ab9d})[_0x1c7e9d(0x245)](),config=getConfiguration(),io['to'](_0x1c7e9d(0x1d2))[_0x1c7e9d(0x201)]('bots',config);}function _0x500b(){const _0x2d2341=['telegrammsg','slice','Invalid\x20authentication\x20token\x20(1)','Restore\x20process\x20aborted','latestversion','Unauthorized\x20attempt\x20to\x20update\x20settings','bb-secure.json','exit','join','Unauthorized\x20attempt\x20to\x20add\x20bot','forEach','whitelistEnabled','Your\x20installation\x20does\x20not\x20support\x20reinstalling\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20reinstallation','Ok,\x20will\x20send\x20both\x20order\x20and\x20alert\x20notifications','search','store-headless','createWriteStream','function','success','Notifications\x20types:\x20orders\x20and\x20alerts\x0a','error\x20while\x20deleting\x20config\x20files:\x20','2FA\x20login\x20required','backup','Starting\x20Balance\x20Bot\x20','(((.+)+)+)+$','telegramEnabled','onText','sortBy','cloneDeep','temporary\x20access\x20timeout','pidRefreshToken','length','writeFileSync','DEFLATE','output-002.log','2300aAwlzc','logout','update-bb','started','verify','headers','sockets','port','notification','botID','config/','Unauthorized\x20attempt\x20to\x20reinstall\x20Balance\x20Bot','Password\x20has\x20been\x20reset\x20to:\x20','existsSync','0.0.0','write','exec','showConfig','Bot\x20Mgr\x20>\x20stopping\x20Bot\x20','files','kill','min','Backup\x20file\x20unzipped\x20and\x20stored','enabled\x20Bot\x20','NTBA_FIX_319','token','enabled','decrypt','404\x20Not\x20Found','polling_error','Unauthorized\x20attempt\x20to\x20place\x20market\x20order','filter','index.html','download','getStartingBalances','\x20(2)','data','yes','update','removeListener','defaults','stopPolling','handshake','0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$','node-zip','login\x20token\x20generated','telegram','logs','temporary\x20access\x20not\x20allowed','/:bot','File\x20uploaded','bcryptjs','SIGTERM','For\x20which\x20bot\x20do\x20you\x20want\x20the\x20portfolio?','constructor','add','temporary\x20token\x20generated','disabled','path','referer','lowdb',',\x20must\x20be\x20a\x204\x20digit\x20number','hasOwnProperty','Allow\x20temporary\x20access\x20from\x20IP\x20address\x20<b>','keys','temporaryAccessAllowed','getMonth','inherit','_data','/status\x20-\x20show\x20bot(s)\x20status\x0a','new','/upload-backup','stopped','showname','login\x20not\x20required','chat','disconnect','event','manual','.zip','socket','ipaddr.js','Orders','\x20minutes','Are\x20you\x20sure\x20you\x20want\x20to\x20update\x20Balance\x20Bot\x20now?','backupfile','add-bot','publicKey','telegramToken','split','title','date-fns','track','apiKey','***','version.json','the\x20maximum\x20of\x20999\x20bots\x20has\x20been\x20reached','61dIJTZr','replace','/restart\x20-\x20restart\x20bot(s)\x0a','bbUsername','value','-----------------------------------------------------------------------------------','/portfolio\x20-\x20show\x20bot\x20portfolio\x0a','getDate','bots','secure','store','get-messages','hashSync','Unauthorized\x20attempt\x20to\x20get\x20portfolio','Starting\x20Balance\x20Bot\x20reinstallation','-performance.json','starting\x20bot\x20|\x20Bot\x20','HTML','file','2FA\x20login\x20rejected','Unauthorized\x20attempt\x20to\x20show\x20configuration','Which\x20bot\x20do\x20you\x20want\x20to\x20stop?','listen','/on\x20-\x20start\x20bot(s)\x0a','entries','stop','bbvReceive','Notifications\x20enabled\x0a','restarting\x20Bot\x20','build2','Unauthorized\x20attempt\x20to\x20delete\x20bot','2020iZfVso','remove','bb/','auto','344RIcrsj','toggle-bot-mode','bot-','toIPv4MappedAddress','createServer','stringify','1302180YdVwpj','simple','Markdown','You\x20can\x20use\x20the\x20following\x20commands:\x0a','parse','Unauthorized\x20attempt\x20to\x20get\x20messages','\x20|\x20','lowdb/adapters/FileSync','Unauthorized\x20attempt\x20to\x20log\x20out','api-eu.mixpanel.com','binary','login\x20required','use','statSync','Bot\x20Mgr\x20>\x20','timeshift','padStart','User\x20has\x20been\x20validated','login','hex','size','exchange','socket.io','user','telegramEvents','https://api.ipify.org?format=json','sendMessage','confirm-message','compareSync','temporary\x20access\x20rejected','emitHistory','botname','RSA','blacklist','message','temp/','username','startsWith','Bot\x20','auth','reset-password','Unauthorized\x20attempt\x20to\x20get\x20starting\x20balances','Unauthorized\x20attempt\x20to\x20update\x20bot','Notifications\x20enabled','push','settings','static','name','::ffff:127.0.0.1','apiSecret','Unauthorized\x20attempt\x20to\x20download\x20','Bot\x20Mgr\x20>\x20toggling\x20Bot\x20','alias','full','Ok,\x20will\x20send\x20alert\x20notifications\x20only','lastmsgtelegram',':\x20Bot\x20Mgr\x20>\x20[DEBUG]\x20','/enable\x20-\x20enable\x20notifications\x0a','clients','/reinstall\x20-\x20reinstall\x20Balance\x20Bot\x0a','then','2FA','host','ipc','settings.','Error:\x20Invalid\x20argument\x20','Bot\x20Mgr\x20>\x20stopping\x20all\x20bots','fork','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(1)','SIGINT','getFullYear','RSA-OAEP','placeOrder','express','init','allow','5\x20min','Unauthorized\x20attempt\x20to\x20confirm\x20message','node-telegram-bot-api','sort','all','loginRequired','once','Token\x20blacklisted','sha256','uncaughtException','type','running','alerts','Unauthorized\x20attempt\x20to\x20cancel\x20loading\x20coins','All','get-portfolio','util','access\x20timeout','mtime','graphql-request',':\x20Bot\x20Mgr\x20>\x20Sending\x20Telegram\x20message\x20failed','argv','secret','Unauthorized\x20attempt\x20to\x20delete\x20alerts','1950qjxAlx','Notifications\x20disabled\x0a','lastmsgemitted','mixpanel','\x20only\x0a','request','15\x20min','get','assign','catch','toIPv4Address','send','find','Alerts','set','-config.json','22218bsyZiW','Backup\x20file\x20uploaded','userid','mode','Access\x20enabled\x20for\x20','13058822LjefhI','uuid','Unauthorized\x20attempt\x20to\x20upload\x20file\x20(2)','access','getHours',':\x20Bot\x20Mgr\x20>\x20','encryptedUuid','telegramUsername','toString','sendPortfolioTelegram','readdirSync','-events.json','reinstall-bb','disabled\x20Bot\x20','Unauthorized\x20attempt\x20to\x20get\x20logs','params','backup-full@','order','generateKeyPairAsync','privateKey','output-001.log','delete-bot','messages','43615lvBwsl','/disable\x20-\x20disable\x20notifications\x0a','113553NsjGrE','pidExpireLogin','backup-files','warning','remoteAddress','Ok,\x20reinstalling\x20Balance\x20Bot\x20canceled','1000','place-order','/output-000.log','bot','test','Yes','/toggle\x20-\x20toggle\x20manual\x20vs\x20auto\x20mode\x0a','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bots\x20are\x20disabled\x20by\x20default\x20-\x20enable\x20those\x20you\x20want\x20to\x20run','endsWith','Note:\x20notifications\x20are\x20currently\x20disabled\x20-\x20to\x20enable\x20notifications,\x20type\x20/enable','\x20mode','2FA\x20login\x20token\x20generated','hybrid-crypto-js','Bot\x20Mgr\x20>\x20starting\x20Bot\x20','version','Unauthorized\x20attempt\x20to\x20update\x20Balance\x20Bot','Unauthorized\x20attempt\x20to\x20restore\x20backup\x20file','bbvNew','get-logs','orders','Restore\x20backup\x20file\x20','reload','expiry','telegramChatId','isValid','f2aRequired','No\x20authentication\x20token','logs/','zip/','No\x20bots\x20running\x20right\x20now','includes','Which\x20bot\x20do\x20you\x20want\x20to\x20restart?','Invalid\x20Telegram\x20token','>\x20Set\x20up\x20your\x20first\x20bot\x20in\x20the\x20Bot\x20Manager!','headless','clientip','status','callback_query','Your\x20installation\x20does\x20not\x20support\x20updating\x20from\x20Telegram.\x20Please\x20perform\x20a\x20manual\x20update','match','reinstall','bot.js','answerCallbackQuery','kind','************','deleted\x20Bot\x20','Please\x20confirm\x20restoring\x20in\x20your\x20Telegram\x20bot','copyFileSync','readFileSync','invalid\x20credentials','sendFile','isDirectory','/:bot/coins','/:bot/performance','botmanager','NOTE:\x0aYour\x20bb-config.json\x20file\x20got\x20corrupted,\x20but\x20it\x20has\x20been\x20restored!\x20\x0aYour\x20bot\x20is\x20disabled\x20by\x20default\x20-\x20enable\x20if\x20you\x20want\x20it\x20to\x20run','Crypt','Invalid\x20username\x20or\x20IP\x20address','initclient','/:bot/history','bb-settings.json','delete-alerts','-results.json','Your\x20installation\x20is\x20already\x20up\x20to\x20date','2FA\x20required','output-000.log','live','generate','backup-full','express-fileupload','/names\x20-\x20show\x20bot\x20names\x0a','Ok,\x20consider\x20updating\x20Balance\x20Bot\x20later','build','format','http','storeHeadless','Unauthorized\x20login\x20attempt\x20(timeout)','idling\x20bot\x20\x20\x20|\x20Bot\x20','log','bbPassword','post','Failed\x20to\x20download\x20','error','getTime','https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master','\x20>\x20','exp','*$1*','sign','timestamp','Bot\x20Mgr\x20>\x20starting\x20all\x20bots','reject','ipv6','cancelLoading','All\x20bots','removeAllListeners','</b>\x20?','3293724YjlcEH','Do\x20you\x20want\x20to\x20restore\x20your\x20installation?\x20NOTE:\x20this\x20will\x20replace\x20your\x20current\x20settings\x20and\x20bot(s)','telegram2FaApproval','reason','emit','from','127.0.0.1','telegramIpApproval','tkn','getSeconds','new-disabled','getMinutes','number','mkdirSync','Welcome\x20to\x20your\x20personal\x20Balance\x20Bot\x20Telegram\x20bot!\x0a','logged\x20out','password','unlinkSync','debug','Which\x20bot\x20do\x20you\x20want\x20to\x20start?','backup-full.zip','/:bot/configuration'];_0x500b=function(){return _0x2d2341;};return _0x500b();}function updateLive(_0x47c5ac,_0x1e33d2){const _0x26cc0b=_0x25a93c;dbConfig[_0x26cc0b(0x16f)](_0x26cc0b(0x29f))['find']({'botID':_0x47c5ac})['assign']({'live':_0x1e33d2})[_0x26cc0b(0x245)](),config=getConfiguration(),io['to'](_0x26cc0b(0x1d2))['emit'](_0x26cc0b(0x29f),config);}function updateBotName(_0x5d74a0,_0xf9839b){const _0x2a4127=_0x25a93c;dbConfig[_0x2a4127(0x16f)]('bots')['find']({'botID':_0x5d74a0})[_0x2a4127(0x170)]({'botname':_0xf9839b})[_0x2a4127(0x245)](),config=getConfiguration(),io['to'](_0x2a4127(0x1d2))[_0x2a4127(0x201)](_0x2a4127(0x29f),config);}function updateBotManager(){const _0x1a378b=_0x25a93c;config=getConfiguration(),io['to'](_0x1a378b(0x1d2))[_0x1a378b(0x201)]('bots',config);}function toggleBotMode(_0x4af923){const _0x1ae77b=_0x25a93c;if(pid[_0x4af923])pid[_0x4af923][_0x1ae77b(0x173)]({'function':'toggleBotMode','args':null});else{const _0x557879=configpath+_0x1ae77b(0x2bc)+_0x4af923+_0x1ae77b(0x177),_0x5dc27a=fs[_0x1ae77b(0x1cc)](_0x557879),_0x5328e4=JSON['parse'](_0x5dc27a),_0x27db67=_0x5328e4[_0x1ae77b(0x19f)][0x0][_0x1ae77b(0x1be)];_0x5328e4[_0x1ae77b(0x19f)][0x0][_0x1ae77b(0x1be)]=!_0x27db67;const _0x5cd0ac=JSON[_0x1ae77b(0x2bf)](_0x5328e4,null,0x2);fs[_0x1ae77b(0x233)](_0x557879,_0x5cd0ac),config=getConfiguration(),io['to']('botmanager')[_0x1ae77b(0x201)](_0x1ae77b(0x29f),config);}}function telegramError(_0x2d6401){const _0x4baaea=_0x25a93c;logger[_0x4baaea(0x2c1)](getTimeStamp()+_0x4baaea(0x164));}function validateTelegram(_0x3634fb){const _0x365b11=_0x25a93c;if(_0x3634fb[_0x365b11(0x202)]['username']!=settings[_0x365b11(0x184)]&&'@'+_0x3634fb[_0x365b11(0x202)][_0x365b11(0x128)]!=settings[_0x365b11(0x184)])return tgBot[_0x365b11(0x11e)](_0x3634fb[_0x365b11(0x281)]['id'],'Unauthorized\x20user\x20-\x20make\x20sure\x20you\x27ve\x20entered\x20your\x20<b>personal</b>\x20Telegram\x20username\x20in\x20the\x20Bot\x20Manager\x27s\x20settings',{'parse_mode':_0x365b11(0x2a8)})[_0x365b11(0x171)](_0x3cc165=>{telegramError(_0x3cc165);}),![];return!![];}async function initTelegram(){const _0x2ad490=_0x25a93c;if(tgBot)tgBot[_0x2ad490(0x25f)](),tgBot=null,initTelegram();else{tgBot=new TelegramBot(settings['telegramToken'],{'polling':!![]});let _0x2cebe2=_0x2ad490(0x2c3);_0x2cebe2+='\x0a',_0x2cebe2+=_0x2ad490(0x13d),_0x2cebe2+=_0x2ad490(0x195),_0x2cebe2+='/config\x20-\x20notification\x20types\x20to\x20receive\x0a',_0x2cebe2+=_0x2ad490(0x299),_0x2cebe2+=_0x2ad490(0x2ae),_0x2cebe2+='/off\x20-\x20stop\x20bot(s)\x0a',_0x2cebe2+=_0x2ad490(0x1a2),_0x2cebe2+=_0x2ad490(0x1e2),_0x2cebe2+=_0x2ad490(0x27b),_0x2cebe2+=_0x2ad490(0x29d),_0x2cebe2+='/update\x20-\x20update\x20Balance\x20Bot\x0a',_0x2cebe2+=_0x2ad490(0x13f),_0x2cebe2+='/help\x20-\x20show\x20available\x20commands\x0a';let _0x4471e5=_0x2ad490(0x20b);_0x4471e5+='\x0a',_0x4471e5+=_0x2cebe2,tgBot[_0x2ad490(0x22d)](/\/start/,_0x5ecc64=>{const _0xe4fcb1=_0x2ad490;if(!validateTelegram(_0x5ecc64))return;if(settings[_0xe4fcb1(0x1b3)]!=_0x5ecc64[_0xe4fcb1(0x281)]['id'])updateSetting(_0xe4fcb1(0x1b3),_0x5ecc64['chat']['id']);updateSetting(_0xe4fcb1(0x22c),!![]),tgBot['sendMessage'](_0x5ecc64['chat']['id'],_0x4471e5)[_0xe4fcb1(0x171)](_0x2a3e91=>{telegramError(_0x2a3e91);});}),tgBot[_0x2ad490(0x22d)](/\/enable/,_0x313db4=>{const _0x4ec3d8=_0x2ad490;if(!validateTelegram(_0x313db4))return;if(settings[_0x4ec3d8(0x1b3)]!=_0x313db4['chat']['id'])updateSetting('telegramChatId',_0x313db4[_0x4ec3d8(0x281)]['id']);updateSetting(_0x4ec3d8(0x22c),!![]),tgBot[_0x4ec3d8(0x11e)](_0x313db4[_0x4ec3d8(0x281)]['id'],_0x4ec3d8(0x12f))['catch'](_0x131081=>{telegramError(_0x131081);});}),tgBot[_0x2ad490(0x22d)](/\/config/,async _0xbe5cad=>{const _0x12a0c0=_0x2ad490;if(!validateTelegram(_0xbe5cad))return;tgBot[_0x12a0c0(0x25d)](_0x12a0c0(0x1c1)),tgBot[_0x12a0c0(0x11e)](_0xbe5cad['chat']['id'],'Of\x20which\x20events\x20do\x20you\x20want\x20to\x20be\x20notified?',{'reply_markup':{'inline_keyboard':[[{'text':_0x12a0c0(0x288),'callback_data':_0x12a0c0(0x1af)},{'text':_0x12a0c0(0x175),'callback_data':_0x12a0c0(0x15c)},{'text':_0x12a0c0(0x15e),'callback_data':_0x12a0c0(0x154)}]]}})[_0x12a0c0(0x171)](_0x4a9092=>{telegramError(_0x4a9092);}),tgBot['on'](_0x12a0c0(0x1c1),async _0x32fef6=>{const _0x42bc9f=_0x12a0c0,_0x314a76=_0x32fef6[_0x42bc9f(0x25a)],_0xc3ecf4=_0x32fef6[_0x42bc9f(0x126)];tgBot['answerCallbackQuery'](_0x32fef6['id'])[_0x42bc9f(0x140)](async()=>{const _0xdb16ef=_0x42bc9f;_0x314a76=='orders'&&(updateSetting(_0xdb16ef(0x11c),_0xdb16ef(0x1af)),updateSetting(_0xdb16ef(0x22c),!![]),await tgBot[_0xdb16ef(0x11e)](_0xc3ecf4[_0xdb16ef(0x281)]['id'],'Ok,\x20will\x20send\x20order\x20notifications\x20only')[_0xdb16ef(0x171)](_0x493035=>{telegramError(_0x493035);}));_0x314a76==_0xdb16ef(0x15c)&&(updateSetting(_0xdb16ef(0x11c),'alerts'),updateSetting(_0xdb16ef(0x22c),!![]),await tgBot[_0xdb16ef(0x11e)](_0xc3ecf4[_0xdb16ef(0x281)]['id'],_0xdb16ef(0x13a))['catch'](_0x803d98=>{telegramError(_0x803d98);}));_0x314a76==_0xdb16ef(0x154)&&(updateSetting(_0xdb16ef(0x11c),_0xdb16ef(0x154)),updateSetting(_0xdb16ef(0x22c),!![]),await tgBot[_0xdb16ef(0x11e)](_0xc3ecf4[_0xdb16ef(0x281)]['id'],_0xdb16ef(0x220))['catch'](_0x9521f4=>{telegramError(_0x9521f4);}));if(!settings[_0xdb16ef(0x1b3)])tgBot[_0xdb16ef(0x11e)](_0xc3ecf4[_0xdb16ef(0x281)]['id'],_0xdb16ef(0x1a5))[_0xdb16ef(0x171)](_0x38c2a9=>{telegramError(_0x38c2a9);});}),tgBot['removeListener'](_0x42bc9f(0x1c1));});}),tgBot[_0x2ad490(0x22d)](/\/status/,_0x328638=>{const _0x202d8b=_0x2ad490;if(!validateTelegram(_0x328638))return;const _0x3db8b8=getBotsWithMode();let _0x568d11='<b>Balance\x20Bot\x20Status:</b>\x0a';config[_0x202d8b(0x21d)](_0x18cede=>{const _0xfc6013=_0x202d8b,_0x51dc68=_0x3db8b8[_0xfc6013(0x174)](_0x472871=>_0x472871[_0xfc6013(0x23f)]==_0x18cede[_0xfc6013(0x23f)])[_0xfc6013(0x17b)];_0x568d11+=_0xfc6013(0x12a)+_0x18cede[_0xfc6013(0x23f)]+':\x20'+_0x18cede[_0xfc6013(0x1c0)]+_0xfc6013(0x2c6)+_0x51dc68+_0xfc6013(0x2c6)+_0x18cede[_0xfc6013(0x1de)]+'\x0a';}),_0x568d11+='\x0a',_0x568d11+='<b>Telegram\x20Bot\x20Status:</b>\x0a',_0x568d11+=!settings[_0x202d8b(0x22c)]?_0x202d8b(0x169):_0x202d8b(0x2b2),_0x568d11+=settings['telegramEnabled']?settings[_0x202d8b(0x11c)]==_0x202d8b(0x154)?_0x202d8b(0x226):'Notifications\x20types:\x20'+settings[_0x202d8b(0x11c)]+_0x202d8b(0x16c):'',tgBot['sendMessage'](_0x328638[_0x202d8b(0x281)]['id'],_0x568d11,{'parse_mode':_0x202d8b(0x2a8)})[_0x202d8b(0x171)](_0x10e23e=>{telegramError(_0x10e23e);});}),tgBot[_0x2ad490(0x22d)](/\/restart/,_0x326960=>{const _0xe6d4b5=_0x2ad490;if(!validateTelegram(_0x326960))return;tgBot[_0xe6d4b5(0x25d)](_0xe6d4b5(0x1c1));const _0x1acc14=getEnabledBots();if(_0x1acc14[_0xe6d4b5(0x232)]==0x0)tgBot['sendMessage'](_0x326960[_0xe6d4b5(0x281)]['id'],_0xe6d4b5(0x1b9))[_0xe6d4b5(0x171)](_0x369bca=>{telegramError(_0x369bca);});else{if(_0x1acc14[_0xe6d4b5(0x232)]>0x1)_0x1acc14[_0xe6d4b5(0x130)]({'botID':'all'});let _0x330ab1=[],_0x20235d=[];const _0x27ec9f=_0x1acc14[_0xe6d4b5(0x232)]%0x4==0x0||_0x1acc14[_0xe6d4b5(0x232)]%0x4==0x3||_0x1acc14['length']%0x3==0x1?0x4:0x3;let _0x1d2918=0x0;_0x1acc14['forEach']((_0x2d8ca5,_0x13f632)=>{const _0xcfadf8=_0xe6d4b5;if(_0x13f632%_0x27ec9f==0x0)_0x20235d=[];_0x20235d[_0xcfadf8(0x130)]({'text':_0x2d8ca5[_0xcfadf8(0x23f)]==_0xcfadf8(0x154)?_0xcfadf8(0x1fa):_0xcfadf8(0x12a)+_0x2d8ca5['botID'],'callback_data':_0x2d8ca5['botID']}),_0x13f632%_0x27ec9f==0x0&&(_0x330ab1[_0x1d2918]=_0x20235d,_0x1d2918++);}),tgBot[_0xe6d4b5(0x11e)](_0x326960[_0xe6d4b5(0x281)]['id'],_0xe6d4b5(0x1bb),{'reply_markup':{'inline_keyboard':_0x330ab1}})[_0xe6d4b5(0x171)](_0x3b69f6=>{telegramError(_0x3b69f6);}),tgBot['on']('callback_query',async _0x2a800e=>{const _0x4c7efd=_0xe6d4b5,_0x2a91ff=_0x2a800e[_0x4c7efd(0x25a)],_0x33d04f=_0x2a800e['message'];tgBot[_0x4c7efd(0x1c6)](_0x2a800e['id'])[_0x4c7efd(0x140)](async()=>{const _0x5ee9d2=_0x4c7efd;_0x2a91ff==_0x5ee9d2(0x154)?config[_0x5ee9d2(0x21d)](_0x186e0d=>{restartBot(_0x186e0d['botID']);}):restartBot(_0x2a91ff);}),tgBot[_0x4c7efd(0x25d)](_0x4c7efd(0x1c1));});}}),tgBot['onText'](/\/on/,_0x185d97=>{const _0x364a04=_0x2ad490;if(!validateTelegram(_0x185d97))return;tgBot[_0x364a04(0x25d)](_0x364a04(0x1c1));const _0x1b90f9=getDisabledBots();if(_0x1b90f9[_0x364a04(0x232)]==0x0)tgBot[_0x364a04(0x11e)](_0x185d97['chat']['id'],'All\x20bots\x20running\x20right\x20now')[_0x364a04(0x171)](_0x3929a9=>{telegramError(_0x3929a9);});else{if(_0x1b90f9[_0x364a04(0x232)]>0x1)_0x1b90f9['push']({'botID':_0x364a04(0x154)});let _0x112d48=[],_0x573caf=[];const _0x368bc0=_0x1b90f9['length']%0x4==0x0||_0x1b90f9['length']%0x4==0x3||_0x1b90f9[_0x364a04(0x232)]%0x3==0x1?0x4:0x3;let _0xefa719=0x0;_0x1b90f9[_0x364a04(0x21d)]((_0x27ddd3,_0x1794c1)=>{const _0x5b5699=_0x364a04;if(_0x1794c1%_0x368bc0==0x0)_0x573caf=[];_0x573caf[_0x5b5699(0x130)]({'text':_0x27ddd3[_0x5b5699(0x23f)]==_0x5b5699(0x154)?'All\x20bots':_0x5b5699(0x12a)+_0x27ddd3[_0x5b5699(0x23f)],'callback_data':_0x27ddd3['botID']}),_0x1794c1%_0x368bc0==0x0&&(_0x112d48[_0xefa719]=_0x573caf,_0xefa719++);}),tgBot[_0x364a04(0x11e)](_0x185d97[_0x364a04(0x281)]['id'],_0x364a04(0x210),{'reply_markup':{'inline_keyboard':_0x112d48}})[_0x364a04(0x171)](_0x99247e=>{telegramError(_0x99247e);}),tgBot['on'](_0x364a04(0x1c1),async _0x2d03f9=>{const _0x5f5ab4=_0x364a04,_0x38252e=_0x2d03f9[_0x5f5ab4(0x25a)],_0x268ef8=_0x2d03f9[_0x5f5ab4(0x126)];tgBot[_0x5f5ab4(0x1c6)](_0x2d03f9['id'])[_0x5f5ab4(0x140)](async()=>{const _0x215024=_0x5f5ab4;_0x38252e=='all'?(tgBot[_0x215024(0x11e)](_0x268ef8[_0x215024(0x281)]['id'],_0x215024(0x1f6))[_0x215024(0x171)](_0x28cf34=>{telegramError(_0x28cf34);}),_0x1b90f9['forEach'](_0x1c8c47=>{const _0x4c0f44=_0x215024;if(_0x1c8c47[_0x4c0f44(0x23f)]!='all')toggleBot(_0x1c8c47[_0x4c0f44(0x23f)],toggleStatus(_0x1c8c47[_0x4c0f44(0x23f)]),'stopped');})):(tgBot[_0x215024(0x11e)](_0x268ef8[_0x215024(0x281)]['id'],_0x215024(0x1a9)+_0x38252e)[_0x215024(0x171)](_0x16a220=>{telegramError(_0x16a220);}),toggleBot(_0x38252e,toggleStatus(_0x38252e),_0x215024(0x27e)));}),tgBot[_0x5f5ab4(0x25d)](_0x5f5ab4(0x1c1));});}}),tgBot['onText'](/\/off/,_0xc8c484=>{const _0xe56009=_0x2ad490;if(!validateTelegram(_0xc8c484))return;tgBot['removeListener'](_0xe56009(0x1c1));const _0x12d6c9=getEnabledBots();if(_0x12d6c9[_0xe56009(0x232)]==0x0)tgBot[_0xe56009(0x11e)](_0xc8c484[_0xe56009(0x281)]['id'],_0xe56009(0x1b9))['catch'](_0x293715=>{telegramError(_0x293715);});else{if(_0x12d6c9[_0xe56009(0x232)]>0x1)_0x12d6c9['push']({'botID':'all'});let _0xbf4473=[],_0x3b0a0d=[];const _0x205dcb=_0x12d6c9[_0xe56009(0x232)]%0x4==0x0||_0x12d6c9['length']%0x4==0x3||_0x12d6c9['length']%0x3==0x1?0x4:0x3;let _0x43f3a7=0x0;_0x12d6c9['forEach']((_0xed6884,_0x2af122)=>{const _0x3249d3=_0xe56009;if(_0x2af122%_0x205dcb==0x0)_0x3b0a0d=[];_0x3b0a0d[_0x3249d3(0x130)]({'text':_0xed6884[_0x3249d3(0x23f)]==_0x3249d3(0x154)?_0x3249d3(0x1fa):_0x3249d3(0x12a)+_0xed6884[_0x3249d3(0x23f)],'callback_data':_0xed6884['botID']}),_0x2af122%_0x205dcb==0x0&&(_0xbf4473[_0x43f3a7]=_0x3b0a0d,_0x43f3a7++);}),tgBot[_0xe56009(0x11e)](_0xc8c484[_0xe56009(0x281)]['id'],_0xe56009(0x2ac),{'reply_markup':{'inline_keyboard':_0xbf4473}})[_0xe56009(0x171)](_0x40dd9e=>{telegramError(_0x40dd9e);}),tgBot['on']('callback_query',async _0x1d302a=>{const _0x11f891=_0xe56009,_0x5a65fc=_0x1d302a['data'],_0x24ed89=_0x1d302a['message'];tgBot[_0x11f891(0x1c6)](_0x1d302a['id'])[_0x11f891(0x140)](async()=>{const _0x2d304d=_0x11f891;_0x5a65fc==_0x2d304d(0x154)?(tgBot[_0x2d304d(0x11e)](_0x24ed89['chat']['id'],_0x2d304d(0x146))[_0x2d304d(0x171)](_0x5b0c2c=>{telegramError(_0x5b0c2c);}),_0x12d6c9['forEach'](_0x154df2=>{const _0x3b3901=_0x2d304d;if(_0x154df2[_0x3b3901(0x23f)]!=_0x3b3901(0x154))toggleBot(_0x154df2[_0x3b3901(0x23f)],toggleStatus(_0x154df2[_0x3b3901(0x23f)]),_0x3b3901(0x27e));})):(tgBot['sendMessage'](_0x24ed89[_0x2d304d(0x281)]['id'],_0x2d304d(0x248)+_0x5a65fc)['catch'](_0x656755=>{telegramError(_0x656755);}),toggleBot(_0x5a65fc,toggleStatus(_0x5a65fc),'stopped'));}),tgBot[_0x11f891(0x25d)](_0x11f891(0x1c1));});}}),tgBot[_0x2ad490(0x22d)](/\/portfolio/,_0xab63fb=>{const _0x52c019=_0x2ad490;if(!validateTelegram(_0xab63fb))return;tgBot[_0x52c019(0x25d)](_0x52c019(0x1c1));const _0x267c49=getEnabledBots();if(_0x267c49['length']==0x0)tgBot[_0x52c019(0x11e)](_0xab63fb[_0x52c019(0x281)]['id'],_0x52c019(0x1b9))[_0x52c019(0x171)](_0x295fdc=>{telegramError(_0x295fdc);});else{if(_0x267c49[_0x52c019(0x232)]>0x1){let _0x4a49b9=[],_0x2ea3b2=[];const _0x42c236=_0x267c49['length']%0x4==0x0||_0x267c49[_0x52c019(0x232)]%0x4==0x3||_0x267c49[_0x52c019(0x232)]%0x3==0x1?0x4:0x3;let _0x115fea=0x0;_0x267c49[_0x52c019(0x21d)]((_0x32a59d,_0x3bf244)=>{const _0x1dbd1d=_0x52c019;if(_0x3bf244%_0x42c236==0x0)_0x2ea3b2=[];_0x2ea3b2['push']({'text':_0x1dbd1d(0x12a)+_0x32a59d['botID'],'callback_data':_0x32a59d['botID']}),_0x3bf244%_0x42c236==0x0&&(_0x4a49b9[_0x115fea]=_0x2ea3b2,_0x115fea++);}),tgBot[_0x52c019(0x11e)](_0xab63fb[_0x52c019(0x281)]['id'],_0x52c019(0x26b),{'reply_markup':{'inline_keyboard':_0x4a49b9}})[_0x52c019(0x171)](_0x4cca52=>{telegramError(_0x4cca52);}),tgBot['on'](_0x52c019(0x1c1),async _0x596df2=>{const _0x18f3bc=_0x52c019,_0x2e641d=_0x596df2[_0x18f3bc(0x25a)],_0x4c704e=_0x596df2[_0x18f3bc(0x126)];tgBot['answerCallbackQuery'](_0x596df2['id'])[_0x18f3bc(0x140)](async()=>{const _0x3b94ba=_0x18f3bc;if(pid[_0x2e641d])pid[_0x2e641d][_0x3b94ba(0x173)]({'function':_0x3b94ba(0x186),'args':null});}),tgBot['removeListener'](_0x18f3bc(0x1c1));});}else{const _0x565fd4=_0x267c49[0x0][_0x52c019(0x23f)];if(pid[_0x565fd4])pid[_0x565fd4][_0x52c019(0x173)]({'function':_0x52c019(0x186),'args':null});}}}),tgBot[_0x2ad490(0x22d)](/\/update/,async _0x37ac4d=>{const _0x2d2a18=_0x2ad490;if(!validateTelegram(_0x37ac4d))return;tgBot[_0x2d2a18(0x25d)]('callback_query'),await getMessages();if(!updateAvailable)tgBot['sendMessage'](_0x37ac4d[_0x2d2a18(0x281)]['id'],_0x2d2a18(0x1db))['catch'](_0x5e5edc=>{telegramError(_0x5e5edc);});else!validInstallation?tgBot[_0x2d2a18(0x11e)](_0x37ac4d[_0x2d2a18(0x281)]['id'],_0x2d2a18(0x1c2))[_0x2d2a18(0x171)](_0x2933ab=>{telegramError(_0x2933ab);}):(tgBot[_0x2d2a18(0x11e)](_0x37ac4d[_0x2d2a18(0x281)]['id'],_0x2d2a18(0x28a),{'reply_markup':{'inline_keyboard':[[{'text':_0x2d2a18(0x1a1),'callback_data':_0x2d2a18(0x25b)},{'text':'No','callback_data':'no'}]]}})[_0x2d2a18(0x171)](_0x3e7f24=>{telegramError(_0x3e7f24);}),tgBot['on'](_0x2d2a18(0x1c1),async _0x39172e=>{const _0x22250f=_0x2d2a18,_0x26dbde=_0x39172e['data'],_0xd355f4=_0x39172e[_0x22250f(0x126)];tgBot[_0x22250f(0x1c6)](_0x39172e['id'])[_0x22250f(0x140)](async()=>{const _0x5ef664=_0x22250f;_0x26dbde==_0x5ef664(0x25b)&&(await tgBot[_0x5ef664(0x11e)](_0xd355f4[_0x5ef664(0x281)]['id'],'Starting\x20Balance\x20Bot\x20update')['catch'](_0x1a71b1=>{telegramError(_0x1a71b1);}),updateBB(_0x5ef664(0x25c))),_0x26dbde=='no'&&await tgBot[_0x5ef664(0x11e)](_0xd355f4[_0x5ef664(0x281)]['id'],_0x5ef664(0x1e3))[_0x5ef664(0x171)](_0x45aaa4=>{telegramError(_0x45aaa4);});}),tgBot[_0x22250f(0x25d)]('callback_query');}));}),tgBot[_0x2ad490(0x22d)](/\/reinstall/,async _0x2ed4da=>{const _0x24683f=_0x2ad490;if(!validateTelegram(_0x2ed4da))return;tgBot[_0x24683f(0x25d)](_0x24683f(0x1c1)),!validInstallation?tgBot[_0x24683f(0x11e)](_0x2ed4da[_0x24683f(0x281)]['id'],_0x24683f(0x21f))[_0x24683f(0x171)](_0x55baee=>{telegramError(_0x55baee);}):(tgBot[_0x24683f(0x11e)](_0x2ed4da[_0x24683f(0x281)]['id'],'Are\x20you\x20sure\x20you\x20want\x20to\x20reinstall\x20Balance\x20Bot\x20now?',{'reply_markup':{'inline_keyboard':[[{'text':'Yes','callback_data':_0x24683f(0x25b)},{'text':'No','callback_data':'no'}]]}})['catch'](_0xe327cc=>{telegramError(_0xe327cc);}),tgBot['on'](_0x24683f(0x1c1),async _0x765071=>{const _0x2d226b=_0x24683f,_0x3507c0=_0x765071[_0x2d226b(0x25a)],_0x45eea7=_0x765071['message'];tgBot[_0x2d226b(0x1c6)](_0x765071['id'])['then'](async()=>{const _0x5e02d4=_0x2d226b;_0x3507c0=='yes'&&(await tgBot[_0x5e02d4(0x11e)](_0x45eea7[_0x5e02d4(0x281)]['id'],_0x5e02d4(0x2a5))['catch'](_0xe08060=>{telegramError(_0xe08060);}),updateBB(_0x5e02d4(0x1c4))),_0x3507c0=='no'&&await tgBot[_0x5e02d4(0x11e)](_0x45eea7[_0x5e02d4(0x281)]['id'],_0x5e02d4(0x19b))[_0x5e02d4(0x171)](_0x20309c=>{telegramError(_0x20309c);});}),tgBot[_0x2d226b(0x25d)](_0x2d226b(0x1c1));}));}),tgBot[_0x2ad490(0x22d)](/\/toggle/,_0x393c97=>{const _0x2c761e=_0x2ad490;if(!validateTelegram(_0x393c97))return;tgBot[_0x2c761e(0x25d)](_0x2c761e(0x1c1));const _0x4d6574=getBotsWithMode();if(_0x4d6574[_0x2c761e(0x232)]==0x0)tgBot[_0x2c761e(0x11e)](_0x393c97[_0x2c761e(0x281)]['id'],_0x2c761e(0x1b9))[_0x2c761e(0x171)](_0xfa2f4b=>{telegramError(_0xfa2f4b);});else{let _0x5d4ce1=[],_0xeec60f=[];const _0x480d0f=0x2;let _0x507b25=0x0;_0x4d6574[_0x2c761e(0x21d)]((_0x2bc093,_0x3c4c85)=>{const _0x2042b9=_0x2c761e;if(_0x3c4c85%_0x480d0f==0x0)_0xeec60f=[];_0xeec60f['push']({'text':'Bot\x20'+_0x2bc093[_0x2042b9(0x23f)]+'\x20('+_0x2bc093[_0x2042b9(0x17b)]+')','callback_data':_0x2bc093[_0x2042b9(0x23f)]}),_0x3c4c85%_0x480d0f==0x0&&(_0x5d4ce1[_0x507b25]=_0xeec60f,_0x507b25++);}),tgBot['sendMessage'](_0x393c97[_0x2c761e(0x281)]['id'],'Which\x20bot\x20do\x20you\x20want\x20to\x20toggle?',{'reply_markup':{'inline_keyboard':_0x5d4ce1}})['catch'](_0xfcddfb=>{telegramError(_0xfcddfb);}),tgBot['on']('callback_query',async _0x1e984b=>{const _0x2ca55f=_0x2c761e,_0x174046=_0x1e984b[_0x2ca55f(0x25a)],_0x21cae4=_0x1e984b[_0x2ca55f(0x126)];tgBot['answerCallbackQuery'](_0x1e984b['id'])['then'](async()=>{const _0x2950d4=_0x2ca55f,_0x5e4af5=_0x4d6574['find'](_0x4b997d=>_0x4b997d[_0x2950d4(0x23f)]==_0x174046),_0x567239=_0x5e4af5['mode']=='auto'?_0x2950d4(0x284):_0x2950d4(0x2b9);tgBot[_0x2950d4(0x11e)](_0x21cae4[_0x2950d4(0x281)]['id'],_0x2950d4(0x137)+_0x174046+'\x20to\x20'+_0x567239+_0x2950d4(0x1a6))[_0x2950d4(0x171)](_0x5f3649=>{telegramError(_0x5f3649);}),toggleBotMode(_0x174046);}),tgBot['removeListener']('callback_query');});}}),tgBot[_0x2ad490(0x22d)](/\/names/,_0x333b97=>{const _0x596a3d=_0x2ad490;if(!validateTelegram(_0x333b97))return;let _0x5362d7='';config[_0x596a3d(0x21d)](_0x4b8449=>{const _0x559f97=_0x596a3d;_0x5362d7+='Bot\x20'+_0x4b8449[_0x559f97(0x23f)]+':\x20'+_0x4b8449[_0x559f97(0x123)]+'\x0a';}),tgBot[_0x596a3d(0x11e)](_0x333b97[_0x596a3d(0x281)]['id'],_0x5362d7,{'parse_mode':_0x596a3d(0x2a8)})['catch'](_0x179955=>{telegramError(_0x179955);});}),tgBot['onText'](/\/disable/,_0x5a83e9=>{const _0x38e5df=_0x2ad490;if(!validateTelegram(_0x5a83e9))return;tgBot[_0x38e5df(0x11e)](_0x5a83e9[_0x38e5df(0x281)]['id'],'Notifications\x20disabled')[_0x38e5df(0x171)](_0xe3dc8c=>{telegramError(_0xe3dc8c);}),updateSetting('telegramEnabled',![]);}),tgBot[_0x2ad490(0x22d)](/\/help/,_0xdfe33c=>{const _0xf8b827=_0x2ad490;if(!validateTelegram(_0xdfe33c))return;tgBot[_0xf8b827(0x11e)](_0xdfe33c[_0xf8b827(0x281)]['id'],_0x2cebe2)[_0xf8b827(0x171)](_0x3c854f=>{telegramError(_0x3c854f);});}),tgBot['on'](_0x2ad490(0x253),_0x5d033b=>{const _0x51d7ac=_0x2ad490;_0x5d033b[_0x51d7ac(0x185)]()[_0x51d7ac(0x1ba)](_0x51d7ac(0x252))&&(logger[_0x51d7ac(0x139)](_0x51d7ac(0x1bc)),tgBot[_0x51d7ac(0x25f)](),tgBot=null,io['to'](_0x51d7ac(0x1d2))['emit']('notification',_0x51d7ac(0x1bc)));}),process[_0x2ad490(0x156)](_0x2ad490(0x149),()=>{const _0x364868=_0x2ad490;if(tgBot)tgBot[_0x364868(0x25f)]();process[_0x364868(0x21a)](0x1);}),process[_0x2ad490(0x156)](_0x2ad490(0x26a),()=>{const _0x19c634=_0x2ad490;if(tgBot)tgBot[_0x19c634(0x25f)]();process[_0x19c634(0x21a)](0x1);});}}function disableTelegram(){const _0x29fcbd=_0x25a93c;tgBot&&(tgBot[_0x29fcbd(0x25f)](),tgBot=null);}function sendTelegram(_0x66f4f8,_0x11e475){const _0x4389d9=_0x25a93c;if(settings[_0x4389d9(0x22c)]){if(settings[_0x4389d9(0x11c)]==_0x4389d9(0x154)||(_0x11e475[_0x4389d9(0x15a)]==_0x4389d9(0x1ee)||_0x11e475[_0x4389d9(0x15a)]==_0x4389d9(0x199)||_0x11e475[_0x4389d9(0x15a)]=='success')&&settings['telegramEvents']=='alerts'||_0x11e475[_0x4389d9(0x15a)]==_0x4389d9(0x18e)&&settings[_0x4389d9(0x11c)]==_0x4389d9(0x1af)){if(tgBot&&settings[_0x4389d9(0x1b3)]){if(_0x11e475[_0x4389d9(0x27f)])tgBot[_0x4389d9(0x11e)](settings['telegramChatId'],_0x11e475[_0x4389d9(0x123)]+_0x4389d9(0x1f1)+_0x11e475[_0x4389d9(0x283)])[_0x4389d9(0x171)](_0x528b39=>{telegramError(_0x528b39);});else tgBot[_0x4389d9(0x11e)](settings['telegramChatId'],_0x4389d9(0x12a)+_0x66f4f8+_0x4389d9(0x1f1)+_0x11e475[_0x4389d9(0x283)])[_0x4389d9(0x171)](_0x175eb7=>{telegramError(_0x175eb7);});}}}}async function sendTelegramMsg(_0x1a9df0,_0x1ab5ce=_0x25a93c(0x2a8)){const _0x47186d=_0x25a93c;return settings[_0x47186d(0x22c)]&&tgBot&&settings[_0x47186d(0x1b3)]?(await tgBot[_0x47186d(0x11e)](settings['telegramChatId'],_0x1a9df0,{'parse_mode':_0x1ab5ce})[_0x47186d(0x171)](_0x5f3ecf=>{telegramError(_0x5f3ecf);}),!![]):![];}function getDeviceWithIp(_0x2ec71c){return devices['find'](_0x4dde23=>_0x4dde23['ip']===_0x2ec71c);}function temporaryAccess2FA(_0x418384,_0x315b59){const _0x5a2599=_0x25a93c;let _0x11bdfd=new Date(),_0x2b7cb0=![];if(lastIpApproval){if(_0x11bdfd-lastIpApproval<0x1388)_0x2b7cb0=!![];}lastIpApproval=new Date();if(_0x2b7cb0)return;tgBot&&settings[_0x5a2599(0x1b3)]&&(tgBot['removeListener'](_0x5a2599(0x1c1)),tgBot[_0x5a2599(0x11e)](settings[_0x5a2599(0x1b3)],_0x5a2599(0x275)+normalizeIP(_0x315b59)['show']+_0x5a2599(0x1fc),{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x5a2599(0x150),'callback_data':'5'},{'text':_0x5a2599(0x16e),'callback_data':'15'},{'text':'30\x20min','callback_data':'30'},{'text':_0x5a2599(0x1f7),'callback_data':'reject'}]]}})[_0x5a2599(0x171)](_0x5ebfb5=>{telegramError(_0x5ebfb5);}),tgBot['on'](_0x5a2599(0x1c1),async _0x1b1d89=>{const _0x183b0c=_0x5a2599,_0x53e1f1=_0x1b1d89[_0x183b0c(0x25a)],_0x2fc377=_0x1b1d89[_0x183b0c(0x126)];tgBot[_0x183b0c(0x1c6)](_0x1b1d89['id'])[_0x183b0c(0x140)](async()=>{const _0x3cf76a=_0x183b0c;devices[_0x418384][_0x3cf76a(0x204)]={'clientip':_0x315b59,'timestamp':new Date()[_0x3cf76a(0x1ef)](),'expiry':_0x53e1f1},_0x53e1f1!=_0x3cf76a(0x1f7)?(await tgBot[_0x3cf76a(0x11e)](_0x2fc377[_0x3cf76a(0x281)]['id'],_0x3cf76a(0x17c)+_0x53e1f1+_0x3cf76a(0x289),{'parse_mode':_0x3cf76a(0x2a8)})['catch'](_0xa17bc5=>{telegramError(_0xa17bc5);}),io['to'](_0x418384)[_0x3cf76a(0x201)](_0x3cf76a(0x1c0),{'access':{'allow':![],'reason':_0x3cf76a(0x1b1),'token':null}})):(await tgBot[_0x3cf76a(0x11e)](_0x2fc377[_0x3cf76a(0x281)]['id'],'Temporary\x20access\x20rejected')[_0x3cf76a(0x171)](_0x51c595=>{telegramError(_0x51c595);}),io['to'](_0x418384)[_0x3cf76a(0x201)](_0x3cf76a(0x1c0),{'access':{'allow':![],'reason':_0x3cf76a(0x121),'token':null}}));}),tgBot[_0x183b0c(0x25d)](_0x183b0c(0x1c1));}));}function loginAccess2FA(_0x47890d,_0xbb5af1){const _0x53cdb7=_0x25a93c;tgBot&&settings[_0x53cdb7(0x1b3)]&&(tgBot[_0x53cdb7(0x25d)](_0x53cdb7(0x1c1)),tgBot[_0x53cdb7(0x11e)](settings['telegramChatId'],'Allow\x20login\x20from\x20IP\x20address\x20<b>'+normalizeIP(_0xbb5af1)['show']+'</b>\x20?',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':'accept','callback_data':loginExpiry},{'text':_0x53cdb7(0x1f7),'callback_data':_0x53cdb7(0x1f7)}]]}})['catch'](_0x44a803=>{telegramError(_0x44a803);}),tgBot['on'](_0x53cdb7(0x1c1),async _0x23ff8e=>{const _0x88dc8c=_0x53cdb7,_0x3463eb=_0x23ff8e[_0x88dc8c(0x25a)],_0x1a42ba=_0x23ff8e[_0x88dc8c(0x126)];tgBot[_0x88dc8c(0x1c6)](_0x23ff8e['id'])[_0x88dc8c(0x140)](async()=>{const _0x572e93=_0x88dc8c;devices[_0x47890d][_0x572e93(0x1ff)]={'clientip':_0xbb5af1,'timestamp':new Date()['getTime'](),'expiry':_0x3463eb},_0x3463eb!=_0x572e93(0x1f7)?(await tgBot[_0x572e93(0x11e)](_0x1a42ba[_0x572e93(0x281)]['id'],'Login\x20accepted',{'parse_mode':'HTML'})[_0x572e93(0x171)](_0x3662d8=>{telegramError(_0x3662d8);}),io['to'](_0x47890d)[_0x572e93(0x201)](_0x572e93(0x1c0),{'access':{'allow':![],'reason':_0x572e93(0x1b1),'token':null}})):(await tgBot[_0x572e93(0x11e)](_0x1a42ba[_0x572e93(0x281)]['id'],'Login\x20rejected')[_0x572e93(0x171)](_0x1c5b59=>{telegramError(_0x1c5b59);}),io['to'](_0x47890d)['emit'](_0x572e93(0x1c0),{'access':{'allow':![],'reason':_0x572e93(0x2aa),'token':null}}));}),tgBot[_0x88dc8c(0x25d)]('callback_query');}));}function getConfiguration(){return getBotsWithMode();}function getEnabledBots(){const _0x59e797=_0x25a93c;return dbConfig[_0x59e797(0x16f)]('bots')['sortBy'](_0x59e797(0x23f))[_0x59e797(0x255)]({'status':_0x59e797(0x250)})['value']()||[];}function getDisabledBots(){const _0x53686b=_0x25a93c;return dbConfig[_0x53686b(0x16f)](_0x53686b(0x29f))[_0x53686b(0x22e)](_0x53686b(0x23f))['filter']({'status':_0x53686b(0x26f)})[_0x53686b(0x29b)]()||[];}function getBotAttributes(_0x296848){const _0xda2310=_0x25a93c;let _0x1d1c22={};const _0x563a6e=configpath+'bot-'+_0x296848+_0xda2310(0x177),_0xb85d50=fs[_0xda2310(0x243)](_0x563a6e);if(_0xb85d50){const _0x12ce11=fs[_0xda2310(0x1cc)](_0x563a6e);try{const _0x5464d3=JSON[_0xda2310(0x2c4)](_0x12ce11),_0xc19c1b=_0x5464d3?_0x5464d3[_0xda2310(0x19f)][0x0][_0xda2310(0x1be)]:![];_0x1d1c22[_0xda2310(0x17b)]=_0xc19c1b?'auto':_0xda2310(0x284),_0x1d1c22[_0xda2310(0x123)]=_0x5464d3?_0x5464d3['bot'][0x0][_0xda2310(0x123)]:'Bot\x20'+_0x296848;}catch(_0x1eb9ee){_0x1d1c22[_0xda2310(0x17b)]=_0xda2310(0x284),_0x1d1c22[_0xda2310(0x123)]='Bot\x20'+_0x296848;}}else _0x1d1c22['mode']=_0xda2310(0x284),_0x1d1c22['botname']=_0xda2310(0x12a)+_0x296848;return _0x1d1c22;}function getBotsWithMode(){const _0x23741c=_0x25a93c,_0x18753=dbConfig[_0x23741c(0x16f)](_0x23741c(0x29f))['sortBy'](_0x23741c(0x23f))[_0x23741c(0x29b)]()||[];return _0x18753[_0x23741c(0x21d)](_0x13861e=>{const _0x3e69d4=_0x23741c;let _0x450d5=getBotAttributes(_0x13861e[_0x3e69d4(0x23f)]);_0x13861e['mode']=_0x450d5[_0x3e69d4(0x17b)];}),_0x18753;}function getBotExchanges(){const _0x5dd5a9=_0x25a93c;let _0x221a2d=[];const _0x379e46=dbConfig[_0x5dd5a9(0x16f)](_0x5dd5a9(0x29f))['sortBy']('botID')[_0x5dd5a9(0x29b)]()||[];_0x379e46[_0x5dd5a9(0x21d)](_0x192462=>{const _0x199f72=_0x5dd5a9;if(_0x192462['status']==_0x199f72(0x250)){const _0x14c50f=configpath+_0x199f72(0x2bc)+_0x192462[_0x199f72(0x23f)]+_0x199f72(0x177),_0x1a9d67=fs['existsSync'](_0x14c50f);let _0x25f889;if(_0x1a9d67){const _0x209e3e=fs[_0x199f72(0x1cc)](_0x14c50f);try{const _0xef9329=JSON[_0x199f72(0x2c4)](_0x209e3e);_0x25f889=_0xef9329?_0xef9329[_0x199f72(0x19f)][0x0][_0x199f72(0x119)]:null;}catch(_0x28c86d){}}if(_0x25f889)_0x221a2d[_0x199f72(0x130)](_0x25f889);}});const _0x1a7e95=[...new Set(_0x221a2d)]['sort']();return _0x1a7e95;}async function initUser(){const _0x4feecb=_0x25a93c;if(!settings[_0x4feecb(0x17a)]){const _0x224aef=uuidRandom();mixpanel[_0x4feecb(0x138)](_0x224aef),updateSetting(_0x4feecb(0x17a),_0x224aef);}}async function initSecure(){const _0x270d91=_0x25a93c;let _0x53bd64=getSecure();if(!_0x53bd64[_0x270d91(0x274)](_0x270d91(0x166))){let _0x1df611=await generateKeys();_0x53bd64[_0x270d91(0x28d)]=_0x1df611['publicKey'],_0x53bd64[_0x270d91(0x190)]=_0x1df611[_0x270d91(0x190)],_0x53bd64[_0x270d91(0x166)]=crypto['randomBytes'](0x20)['toString'](_0x270d91(0x117));;storeSecure(_0x53bd64);}}function getSettings(){const _0x1ac38d=_0x25a93c;return dbSettings[_0x1ac38d(0x16f)](_0x1ac38d(0x131))['value']()||{};}function getSecure(){const _0x333e2e=_0x25a93c;return dbSecure[_0x333e2e(0x16f)](_0x333e2e(0x2a0))['value']()||{};}function getBlacklist(){const _0x3c0889=_0x25a93c;return dbSecure[_0x3c0889(0x16f)]('blacklist')['value']()||[];}function broadcastToBots(_0x3c42ab,_0x35826d){const _0x1f072e=_0x25a93c;config[_0x1f072e(0x21d)](_0x265cb8=>{const _0x144e00=_0x1f072e;if(_0x265cb8['status']=='enabled'&&_0x265cb8[_0x144e00(0x1de)]==_0x144e00(0x15b)){if(pid[_0x265cb8[_0x144e00(0x23f)]])pid[_0x265cb8[_0x144e00(0x23f)]][_0x144e00(0x173)]({[_0x3c42ab]:_0x35826d});}});}function storeSettings(_0x503265,_0x4dba4c=![]){const _0x2d8ca1=_0x25a93c;_0x503265={...settings,..._0x503265};if(_0x4dba4c&&_0x503265[_0x2d8ca1(0x1eb)]!=_0x2d8ca1(0x1c8)&&_0x503265['bbPassword']!=_0x2d8ca1(0x294)&&_0x503265[_0x2d8ca1(0x1eb)]!=''){const _0x1c3f0b=crypt[_0x2d8ca1(0x251)](secure[_0x2d8ca1(0x190)],_0x503265[_0x2d8ca1(0x1eb)])[_0x2d8ca1(0x126)][_0x2d8ca1(0x28f)]('@')[0x0],_0x1b446c=bcrypt[_0x2d8ca1(0x2a3)](_0x1c3f0b,saltRounds);_0x503265={..._0x503265,'bbPassword':_0x1b446c};}if(_0x4dba4c&&_0x503265['telegramToken']!=_0x2d8ca1(0x1c8)&&_0x503265['telegramToken']!=_0x2d8ca1(0x294)&&_0x503265[_0x2d8ca1(0x28e)]!=''){const _0x4f13ef=crypt[_0x2d8ca1(0x251)](secure[_0x2d8ca1(0x190)],_0x503265['telegramToken'])['message'][_0x2d8ca1(0x28f)]('@')[0x0];_0x503265={..._0x503265,'telegramToken':_0x4f13ef};}const _0x528f9f=_0x503265[_0x2d8ca1(0x28e)]!='************'&&_0x503265['telegramToken']!=settings[_0x2d8ca1(0x28e)]||_0x503265[_0x2d8ca1(0x184)]!=settings[_0x2d8ca1(0x184)],_0x381589=_0x503265[_0x2d8ca1(0x28e)]==''||_0x503265[_0x2d8ca1(0x184)]=='';if(_0x528f9f)_0x503265[_0x2d8ca1(0x11c)]=_0x2d8ca1(0x154);for(const [_0x25f701,_0x1d0e08]of Object[_0x2d8ca1(0x2af)](_0x503265)){if(_0x25f701==_0x2d8ca1(0x28e)&&_0x1d0e08=='************'){_0x503265[_0x2d8ca1(0x28e)]=settings[_0x2d8ca1(0x28e)];continue;};if(_0x25f701=='bbPassword'&&_0x1d0e08==_0x2d8ca1(0x1c8)){_0x503265['bbPassword']=settings[_0x2d8ca1(0x1eb)];continue;};dbSettings[_0x2d8ca1(0x176)](_0x2d8ca1(0x144)+_0x25f701,_0x1d0e08)['write']();}settings=_0x503265,io['to'](_0x2d8ca1(0x1d2))['emit']('settings',cleanSettings()),broadcastToBots(_0x2d8ca1(0x2cf),settings[_0x2d8ca1(0x2cf)]);if(_0x528f9f&&!_0x381589)initTelegram();if(_0x528f9f&&_0x381589)disableTelegram();getAllClients()[_0x2d8ca1(0x21d)](_0x3d794d=>{const _0x250d34=_0x2d8ca1;getSocket(_0x3d794d['id'])[_0x250d34(0x201)](_0x250d34(0x1c0),{'access':{'allow':![],'reason':_0x250d34(0x1b1),'token':null}});});}function updateSetting(_0x53cd2e,_0x49d0f7){const _0x40a0a1=_0x25a93c;dbSettings['set'](_0x40a0a1(0x144)+_0x53cd2e,_0x49d0f7)[_0x40a0a1(0x245)](),settings=getSettings(),io['to']('botmanager')[_0x40a0a1(0x201)](_0x40a0a1(0x131),cleanSettings());}function storeSecure(_0x2809de){const _0x25886d=_0x25a93c;dbSecure[_0x25886d(0x16f)](_0x25886d(0x2a0))['push'](_0x2809de)[_0x25886d(0x245)](),secure=_0x2809de;}function addBlacklist(_0x1c7ccd){const _0x2a274f=_0x25a93c;cleanBlacklist();let _0x3127b6;devices[_0x1c7ccd][_0x2a274f(0x204)]?_0x3127b6=Math['max'](devices[_0x1c7ccd][_0x2a274f(0x204)]['expiry'],loginExpiry):_0x3127b6=loginExpiry,dbSecure['get']('blacklist')[_0x2a274f(0x130)]({'expiry':new Date()[_0x2a274f(0x1ef)]()+_0x3127b6*0x3c*0x3e8,'token':devices[_0x1c7ccd]['access']['token']})['write'](),blacklist=dbSecure['get'](_0x2a274f(0x125))[_0x2a274f(0x29b)]();}function cleanBlacklist(){const _0x6afaea=_0x25a93c;let _0x4fe68a=dbSecure[_0x6afaea(0x16f)](_0x6afaea(0x125))[_0x6afaea(0x22f)]()[_0x6afaea(0x29b)](),_0x5a3c4a=new Date()[_0x6afaea(0x1ef)]();_0x4fe68a[_0x6afaea(0x21d)](_0x583cf0=>{const _0xaa3143=_0x6afaea;_0x583cf0[_0xaa3143(0x1b2)]<_0x5a3c4a&&dbSecure[_0xaa3143(0x16f)](_0xaa3143(0x125))['remove']({'expiry':_0x583cf0['expiry']})[_0xaa3143(0x245)]();});}function initStates(){const _0x24cbeb=_0x25a93c;let _0x47c7d9=getConfiguration();_0x47c7d9[_0x24cbeb(0x21d)](_0x431412=>{const _0x11bb0b=_0x24cbeb;_0x431412[_0x11bb0b(0x1de)]='stopped';}),storeConfiguration(_0x47c7d9);}function onKeys(){const _0x4a0ba8=new RSA();return new Promise(_0x346af1=>{const _0x4bfd8b=_0x4547;_0x4a0ba8[_0x4bfd8b(0x18f)]()['then'](_0xbc1868=>{_0x346af1(_0xbc1868);});});}async function generateKeys(){return await onKeys();}async function oneTimeMigration(){const _0x16eaa5=_0x25a93c;let _0x5cdcd2=getSettings(),_0x6608f4=![];!_0x5cdcd2[_0x16eaa5(0x274)]('lastmsgtelegram')&&(_0x5cdcd2['lastmsgtelegram']=0x0,_0x6608f4=!![]);!_0x5cdcd2[_0x16eaa5(0x274)](_0x16eaa5(0x16a))&&(_0x5cdcd2['lastmsgemitted']=0x0,_0x6608f4=!![]);!_0x5cdcd2['hasOwnProperty'](_0x16eaa5(0x217))&&(_0x5cdcd2['latestversion']='0.0.0',_0x6608f4=!![]);if(_0x6608f4)storeSettings(_0x5cdcd2);}function storeConfiguration(_0x14604e){const _0x2c103e=_0x25a93c;dbConfig[_0x2c103e(0x16f)](_0x2c103e(0x29f))[_0x2c103e(0x2b7)]()['write'](),_0x14604e[_0x2c103e(0x21d)](_0x163ed4=>{delete _0x163ed4['mode'];}),dbConfig[_0x2c103e(0x16f)](_0x2c103e(0x29f))[_0x2c103e(0x130)](..._0x14604e)['write'](),config=_0x14604e;}function resetPassword(){const _0x1894ed=_0x25a93c;tgBot&&settings[_0x1894ed(0x1b3)]&&(tgBot[_0x1894ed(0x25d)]('callback_query'),tgBot[_0x1894ed(0x11e)](settings[_0x1894ed(0x1b3)],'Do\x20you\x20want\x20to\x20reset\x20your\x20password?',{'parse_mode':'HTML','reply_markup':{'inline_keyboard':[[{'text':_0x1894ed(0x25b),'callback_data':_0x1894ed(0x25b)},{'text':'no','callback_data':'no'}]]}})[_0x1894ed(0x171)](_0x1223aa=>{telegramError(_0x1223aa);}),tgBot['on'](_0x1894ed(0x1c1),async _0x1d240b=>{const _0x380768=_0x1894ed,_0x5e2d24=_0x1d240b[_0x380768(0x25a)],_0xedceb0=_0x1d240b[_0x380768(0x126)];tgBot[_0x380768(0x1c6)](_0x1d240b['id'])[_0x380768(0x140)](async()=>{const _0x25766a=_0x380768;if(_0x5e2d24!='no'){const _0x232d15=0xf,_0x31fbe8=_0x25766a(0x261),_0x4ef9d5=Array[_0x25766a(0x202)](crypto['randomFillSync'](new Uint32Array(_0x232d15)))['map'](_0x25fe14=>_0x31fbe8[_0x25fe14%_0x31fbe8[_0x25766a(0x232)]])[_0x25766a(0x21b)](''),_0x5648aa=bcrypt[_0x25766a(0x2a3)](_0x4ef9d5,saltRounds);storeSettings({'bbPassword':_0x5648aa}),await tgBot[_0x25766a(0x11e)](_0xedceb0[_0x25766a(0x281)]['id'],_0x25766a(0x242)+_0x4ef9d5,{'parse_mode':'HTML'})[_0x25766a(0x171)](_0x2e6543=>{telegramError(_0x2e6543);});}else await tgBot['sendMessage'](_0xedceb0['chat']['id'],'Password\x20reset\x20rejected')[_0x25766a(0x171)](_0x1ca96e=>{telegramError(_0x1ca96e);});}),tgBot[_0x380768(0x25d)](_0x380768(0x1c1));}));}async function confirmRestore(_0x168f66,_0x111908){const _0x33bbd8=_0x25a93c;io['to']('botmanager')[_0x33bbd8(0x201)](_0x33bbd8(0x23e),_0x33bbd8(0x1ca),'success'),tgBot&&settings[_0x33bbd8(0x1b3)]&&(tgBot[_0x33bbd8(0x25d)](_0x33bbd8(0x1c1)),await tgBot[_0x33bbd8(0x11e)](settings['telegramChatId'],_0x33bbd8(0x1fe),{'parse_mode':_0x33bbd8(0x2a8),'reply_markup':{'inline_keyboard':[[{'text':_0x33bbd8(0x25b),'callback_data':_0x33bbd8(0x25b)},{'text':'no','callback_data':'no'}]]}})[_0x33bbd8(0x171)](_0x32c6d0=>{telegramError(_0x32c6d0);}),tgBot['on'](_0x33bbd8(0x1c1),async _0x2adc14=>{const _0x224180=_0x33bbd8,_0x2f6b4c=_0x2adc14[_0x224180(0x25a)],_0x1350cc=_0x2adc14[_0x224180(0x126)];tgBot[_0x224180(0x1c6)](_0x2adc14['id'])[_0x224180(0x140)](async()=>{const _0x5b4306=_0x224180;_0x2f6b4c=='yes'?(await tgBot[_0x5b4306(0x11e)](_0x1350cc[_0x5b4306(0x281)]['id'],'Restoring\x20bot(s)\x20from\x20backup',{'parse_mode':'HTML'})['catch'](_0x26c6bc=>{telegramError(_0x26c6bc);}),unzipFile(_0x168f66,_0x111908)):(logger['debug'](_0x5b4306(0x216)),await tgBot[_0x5b4306(0x11e)](_0x1350cc[_0x5b4306(0x281)]['id'],_0x5b4306(0x216))[_0x5b4306(0x171)](_0x341541=>{telegramError(_0x341541);}));}),tgBot[_0x224180(0x25d)](_0x224180(0x1c1));}));}function getServerTime(){const _0x3b0026=_0x25a93c,_0x299c36=new Date();return _0x299c36[_0x3b0026(0x14a)]()+'/'+(_0x299c36[_0x3b0026(0x278)]()+0x1)[_0x3b0026(0x185)]()['padStart'](0x2,'0')+'/'+_0x299c36[_0x3b0026(0x29e)]()[_0x3b0026(0x185)]()['padStart'](0x2,'0')+'\x20'+_0x299c36['getHours']()['toString']()[_0x3b0026(0x2d0)](0x2,'0')+':'+_0x299c36['getMinutes']()[_0x3b0026(0x185)]()[_0x3b0026(0x2d0)](0x2,'0')+':'+_0x299c36[_0x3b0026(0x206)]()['toString']()[_0x3b0026(0x2d0)](0x2,'0');}function getTimeStamp(){const _0x57f2b7=_0x25a93c,_0x5f25c5=shiftedTime();return _0x5f25c5[_0x57f2b7(0x14a)]()+'/'+(_0x5f25c5[_0x57f2b7(0x278)]()+0x1)[_0x57f2b7(0x185)]()[_0x57f2b7(0x2d0)](0x2,'0')+'/'+_0x5f25c5[_0x57f2b7(0x29e)]()[_0x57f2b7(0x185)]()[_0x57f2b7(0x2d0)](0x2,'0')+'\x20'+_0x5f25c5[_0x57f2b7(0x181)]()[_0x57f2b7(0x185)]()['padStart'](0x2,'0')+':'+_0x5f25c5[_0x57f2b7(0x208)]()[_0x57f2b7(0x185)]()[_0x57f2b7(0x2d0)](0x2,'0')+':'+_0x5f25c5[_0x57f2b7(0x206)]()[_0x57f2b7(0x185)]()['padStart'](0x2,'0');}function getCleanTimeStamp(){const _0x2962c7=_0x25a93c,_0x4daf84=shiftedTime();return _0x4daf84[_0x2962c7(0x14a)]()+(_0x4daf84[_0x2962c7(0x278)]()+0x1)[_0x2962c7(0x185)]()[_0x2962c7(0x2d0)](0x2,'0')+_0x4daf84['getDate']()[_0x2962c7(0x185)]()[_0x2962c7(0x2d0)](0x2,'0')+'-'+_0x4daf84[_0x2962c7(0x181)]()[_0x2962c7(0x185)]()['padStart'](0x2,'0')+_0x4daf84[_0x2962c7(0x208)]()[_0x2962c7(0x185)]()[_0x2962c7(0x2d0)](0x2,'0')+_0x4daf84['getSeconds']()[_0x2962c7(0x185)]()[_0x2962c7(0x2d0)](0x2,'0');}function shiftedTime(){const _0x3f5ece=_0x25a93c,_0x2025ed=new Date();let _0x38f06c=_0x2025ed;if(settings[_0x3f5ece(0x2cf)]&&settings[_0x3f5ece(0x2cf)]!==0x0)_0x38f06c=fns[_0x3f5ece(0x26d)](_0x2025ed,{'hours':settings[_0x3f5ece(0x2cf)]});return _0x38f06c;}function startScheduler(){const _0xca0b29=new Date()['getUTCHours'](),_0x1a38d6=shiftedTime()['getHours']();_0x1a38d6==0x4&&backupConfigFiles();_0x1a38d6==0x0&&rotateLogFiles();_0xca0b29%0x6==0x0&&triggerAnalytics();_0xca0b29%0x6==0x0&&getMessages();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},0x3c*0x3c*0x3e8);}async function restoreBackupFile(_0x4ec25f){const _0x188979=_0x25a93c;logger['debug'](_0x188979(0x1b0)+_0x4ec25f);const _0x1242fc=getBotsWithMode();_0x1242fc['length']>0x0?confirmRestore(configbackuppath,_0x4ec25f):unzipFile(configbackuppath,_0x4ec25f);}async function getBackupFiles(_0x3f88af=null){const _0x216ccf=_0x25a93c;let _0x54f03c=[],_0x481d0a=fs[_0x216ccf(0x187)](configbackuppath,{'withFileTypes':!![]});_0x481d0a[_0x216ccf(0x153)]((_0x41018f,_0x4f6a78)=>_0x41018f[_0x216ccf(0x133)]<_0x4f6a78[_0x216ccf(0x133)]?0x1:_0x4f6a78[_0x216ccf(0x133)]<_0x41018f[_0x216ccf(0x133)]?-0x1:0x0),_0x481d0a['forEach'](_0x1b1624=>{const _0x3ae9eb=_0x216ccf;if(!_0x1b1624['isDirectory']()&&_0x1b1624['name'][_0x3ae9eb(0x129)](_0x3ae9eb(0x18d))&&_0x1b1624['name'][_0x3ae9eb(0x1a4)](_0x3ae9eb(0x285))){const _0x3e4e69=formatDate(fs[_0x3ae9eb(0x2cd)](configbackuppath+_0x1b1624['name'])[_0x3ae9eb(0x162)]);_0x54f03c['push']({'name':_0x1b1624[_0x3ae9eb(0x133)],'mtime':_0x3e4e69});}});if(_0x3f88af)io['to'](_0x3f88af)[_0x216ccf(0x201)](_0x216ccf(0x198),_0x54f03c);else return _0x54f03c;}async function backupConfigFiles(){const _0x81e804=_0x25a93c;await zipFiles(_0x81e804(0x1e0));const _0x2ae6e0=getCleanTimeStamp();fs['copyFileSync'](zippath+_0x81e804(0x211),configbackuppath+(_0x81e804(0x18d)+_0x2ae6e0+'.zip'));let _0x573901=fs['readdirSync'](configbackuppath,{'withFileTypes':!![]});_0x573901[_0x81e804(0x153)]((_0x4b5a38,_0x4d8a28)=>_0x4b5a38[_0x81e804(0x133)]<_0x4d8a28['name']?0x1:_0x4d8a28[_0x81e804(0x133)]<_0x4b5a38[_0x81e804(0x133)]?-0x1:0x0),_0x573901[_0x81e804(0x232)]>maxBackups&&fs[_0x81e804(0x20e)](configbackuppath+_0x573901[maxBackups][_0x81e804(0x133)]);}function rotateLogFiles(){const _0x3cf081=_0x25a93c,_0x5d6b22=fs[_0x3cf081(0x2cd)](logspath+'output-000.log'),_0x1d545f=_0x5d6b22[_0x3cf081(0x118)]/0x400;if(_0x1d545f>0x32){let _0x2e1e19=fs[_0x3cf081(0x187)](logspath,{'withFileTypes':!![]});_0x2e1e19[_0x3cf081(0x153)]((_0x589473,_0x32561c)=>_0x589473[_0x3cf081(0x133)]<_0x32561c[_0x3cf081(0x133)]?0x1:_0x32561c['name']<_0x589473['name']?-0x1:0x0),_0x2e1e19['forEach'](_0x2382cc=>{const _0x23da6a=_0x3cf081;if(_0x2382cc['name']==_0x23da6a(0x235))fs[_0x23da6a(0x1cb)](logspath+_0x2382cc[_0x23da6a(0x133)],logspath+'output-003.log');if(_0x2382cc['name']==_0x23da6a(0x191))fs[_0x23da6a(0x1cb)](logspath+_0x2382cc[_0x23da6a(0x133)],logspath+_0x23da6a(0x235));_0x2382cc['name']==_0x23da6a(0x1dd)&&(fs['copyFileSync'](logspath+_0x2382cc[_0x23da6a(0x133)],logspath+'output-001.log'),fs[_0x23da6a(0x233)](logspath+_0x2382cc[_0x23da6a(0x133)],''));});}}async function zipFiles(_0x3c39c2){const _0x5db6d9=_0x25a93c;let _0x37e0e1;if(_0x3c39c2==_0x5db6d9(0x265))_0x37e0e1=logspath;if(_0x3c39c2==_0x5db6d9(0x229))_0x37e0e1=configpath;if(_0x3c39c2==_0x5db6d9(0x1e0))_0x37e0e1=configpath;let _0x1ee3b9=fs[_0x5db6d9(0x187)](_0x37e0e1,{'withFileTypes':!![]});const _0x3adecf=new require(_0x5db6d9(0x262))();_0x1ee3b9[_0x5db6d9(0x21d)](_0x30fc1d=>{const _0x2a784a=_0x5db6d9;if(!_0x30fc1d[_0x2a784a(0x1cf)]()){let _0x11890a=fs['readFileSync'](_0x37e0e1+_0x30fc1d[_0x2a784a(0x133)]);if(_0x3c39c2==_0x2a784a(0x229)){const _0x5103ad=/^bot-[0-9]{3}-config.json$/,_0x51637c=_0x5103ad[_0x2a784a(0x1a0)](_0x30fc1d[_0x2a784a(0x133)]);if(_0x51637c){const _0x57191b=JSON[_0x2a784a(0x2c4)](_0x11890a);_0x57191b[_0x2a784a(0x19f)][0x0]&&(_0x57191b[_0x2a784a(0x19f)][0x0]['apiKey']=_0x2a784a(0x294),_0x57191b[_0x2a784a(0x19f)][0x0][_0x2a784a(0x135)]=_0x2a784a(0x294)),_0x11890a=JSON['stringify'](_0x57191b,null,0x2);}if(_0x30fc1d[_0x2a784a(0x133)]==_0x2a784a(0x1d8)){const _0x117cf5=JSON['parse'](_0x11890a);if(_0x117cf5[_0x2a784a(0x131)][_0x2a784a(0x155)])_0x117cf5[_0x2a784a(0x131)][_0x2a784a(0x155)]=![];if(_0x117cf5[_0x2a784a(0x131)][_0x2a784a(0x1eb)])_0x117cf5['settings'][_0x2a784a(0x1eb)]='***';if(_0x117cf5[_0x2a784a(0x131)][_0x2a784a(0x28e)])_0x117cf5[_0x2a784a(0x131)][_0x2a784a(0x28e)]=_0x2a784a(0x294);if(_0x117cf5['settings']['telegramChatId'])_0x117cf5[_0x2a784a(0x131)][_0x2a784a(0x1b3)]=null;_0x11890a=JSON[_0x2a784a(0x2bf)](_0x117cf5,null,0x2);}if(_0x30fc1d[_0x2a784a(0x133)]!=_0x2a784a(0x219))_0x3adecf[_0x2a784a(0x2a9)](_0x30fc1d[_0x2a784a(0x133)],_0x11890a);}else _0x3adecf[_0x2a784a(0x2a9)](_0x30fc1d[_0x2a784a(0x133)],_0x11890a);}});const _0x4790e8=_0x3adecf[_0x5db6d9(0x1df)]({'base64':![],'compression':_0x5db6d9(0x234)});fs['writeFileSync'](zippath+(_0x3c39c2+_0x5db6d9(0x285)),_0x4790e8,_0x5db6d9(0x2ca));}async function unzipFile(_0x40ff0d,_0x477422){const _0x299bd9=_0x25a93c;fs['readdirSync'](configpath,{'withFileTypes':!![]})['forEach'](_0x40c363=>{const _0x43dc07=_0x4547;if(!_0x40c363[_0x43dc07(0x1cf)]())fs['rmSync'](configpath+_0x40c363[_0x43dc07(0x133)]);});const _0x21adb2=fs[_0x299bd9(0x1cc)](_0x40ff0d+_0x477422,'binary'),_0xe8dfe0=new require(_0x299bd9(0x262))(_0x21adb2,{'base64':![],'checkCRC32':!![]});Object[_0x299bd9(0x276)](_0xe8dfe0['files'])[_0x299bd9(0x21d)](_0x909daa=>{const _0x5593b2=_0x299bd9,_0x20e12f=_0xe8dfe0[_0x5593b2(0x249)][_0x909daa];fs[_0x5593b2(0x233)](configpath+_0x20e12f[_0x5593b2(0x133)],_0x20e12f[_0x5593b2(0x27a)]);}),fs[_0x299bd9(0x187)](temppath,{'withFileTypes':!![]})[_0x299bd9(0x21d)](_0x4b9c57=>{const _0x7a003c=_0x299bd9;if(!_0x4b9c57[_0x7a003c(0x1cf)]())fs['rmSync'](temppath+_0x4b9c57['name']);}),logger[_0x299bd9(0x20f)](_0x299bd9(0x24c)),process['send']({'restore':!![]},_0x5c27b8=>{});}async function getPublicIp(){const _0x544671=_0x25a93c;try{const _0x45671c=await axios[_0x544671(0x16f)](_0x544671(0x11d));publicip=_0x45671c[_0x544671(0x25a)]['ip'];}catch(_0x51c7b5){}}async function triggerAnalytics(){const _0x22dbd2=_0x25a93c;if(!publicip)await getPublicIp();const _0x55caf4=getBotsWithMode();let _0x2b4b37=0x0;_0x55caf4['forEach'](_0x55aa38=>{const _0x208e01=_0x4547;if(_0x55aa38[_0x208e01(0x1c0)]==='enabled')_0x2b4b37++;});const _0x5d4197=getBotExchanges();mixpanel[_0x22dbd2(0x292)]('Server',{'distinct_id':settings['userid'],'ip':publicip,'version':serverversion,'numbots':_0x55caf4[_0x22dbd2(0x232)],'numbotsenabled':_0x2b4b37,'exchanges':_0x5d4197});}async function getMessages(){const _0x43e174=_0x25a93c,_0x2f8b14=_0x43e174(0x1f0),_0x3fca5a=new GraphQLClient(_0x2f8b14),_0x4ef436={'authorization':'Bearer\x20eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U'},_0x4ccb5e=serverversion['split']('.'),_0x122dc9=_0x4ccb5e[0x0]+'.'+_0x4ccb5e[0x1],_0x3f2c36=Math[_0x43e174(0x24b)](settings['lastmsgtelegram'],settings[_0x43e174(0x16a)]),_0x55db49={'last':parseInt(_0x3f2c36),'bbm':_0x122dc9},_0x21d451=gql`
            query getMessages($bbm: String!, $last: Int!) {
                messages(where: {
                    number_gt: $last
                    OR: [
                    {bbvReceive: "any"},
                    {bbvReceive_contains: $bbm}
                    ]
                    archived_not: true
                }, orderBy: number_ASC) {
                    id
                    number
                    bbvReceive
                    bbvNew
                    title
                    message
                    dialogWidth
                    lock
                }
            }
            `;let _0x5aeb13;try{_0x5aeb13=await _0x3fca5a[_0x43e174(0x16d)](_0x21d451,_0x55db49,_0x4ef436);}catch(_0x28b50d){}if(_0x5aeb13&&_0x5aeb13[_0x43e174(0x193)]){let _0x567e40=settings[_0x43e174(0x13b)];newMessages=[];for(const _0x5390c0 of _0x5aeb13[_0x43e174(0x193)]){newMessages[_0x43e174(0x130)](_0x5390c0);if(_0x5390c0[_0x43e174(0x1ad)])updateSetting(_0x43e174(0x217),_0x5390c0['bbvNew']);let _0x1cf4e0=_0x5390c0[_0x43e174(0x1ad)]?serverversion>=_0x5390c0[_0x43e174(0x1ad)]:![];if(!_0x1cf4e0&&_0x5390c0[_0x43e174(0x209)]>_0x567e40){if(_0x5390c0[_0x43e174(0x2b1)]==='any'||serverversion['startsWith'](_0x5390c0['bbvReceive'])){let _0x49bf50=''+_0x5390c0[_0x43e174(0x290)]+'\x0a\x0a'+_0x5390c0[_0x43e174(0x126)];const _0x2f99a1=await sendTelegramMsg(toTelegramMarkdown(_0x49bf50),_0x43e174(0x2c2));if(_0x2f99a1)_0x567e40=_0x5390c0[_0x43e174(0x209)];}}}updateAvailable=isNewerVersion(settings[_0x43e174(0x217)],serverversion),updateSetting(_0x43e174(0x13b),_0x567e40),emitMessages();}}function emitMessages(){const _0x29a9ef=_0x25a93c,_0xb5f508=settings[_0x29a9ef(0x16a)];let _0x5dc418=[];newMessages[_0x29a9ef(0x21d)](_0xc76b91=>{const _0x426b45=_0x29a9ef;_0xc76b91[_0x426b45(0x209)]>_0xb5f508&&_0x5dc418[_0x426b45(0x130)](_0xc76b91);}),_0x5dc418[_0x29a9ef(0x232)]>0x0&&getAllClients()[_0x29a9ef(0x21d)](_0x191cea=>{const _0x41cea1=_0x29a9ef;getSocket(_0x191cea['id'])[_0x41cea1(0x201)](_0x41cea1(0x126),_0x5dc418);});}function confirmMessage(_0x282352){updateSetting('lastmsgemitted',Number(_0x282352));}function isNewerVersion(_0x540094,_0x3f2fb0){const _0x4e821c=_0x25a93c,_0x2987e0=_0x3f2fb0[_0x4e821c(0x28f)]('.'),_0x30e763=_0x540094[_0x4e821c(0x28f)]('.');for(var _0x1c933b=0x0;_0x1c933b<_0x30e763[_0x4e821c(0x232)];_0x1c933b++){const _0x28e733=~~_0x30e763[_0x1c933b],_0x553d19=~~_0x2987e0[_0x1c933b];if(_0x28e733>_0x553d19)return!![];if(_0x28e733<_0x553d19)return![];}return![];}function toTelegramMarkdown(_0x10b40c){const _0x28713b=_0x25a93c,_0x7fc952=/(^|[^\*])\*{1}([^\*.]+?)\*{1}([^\*]|$)/gim,_0x3df05f=/\*{2}(.+?)\*{2}/gim;return _0x10b40c=_0x10b40c[_0x28713b(0x298)](_0x7fc952,'$1_$2_$3')[_0x28713b(0x298)](_0x3df05f,_0x28713b(0x1f3)),_0x10b40c;}async function validateConfigFile(){const _0x4357e8=_0x25a93c,_0x4dea50=dbConfig[_0x4357e8(0x16f)](_0x4357e8(0x29f))[_0x4357e8(0x22e)](_0x4357e8(0x23f))['value']()||[];if(_0x4dea50[_0x4357e8(0x232)]==0x0){let _0x427bfc=0x0,_0x2ef1d8=[];const _0x68d841=/^bot-([0-9]{3})-config.json$/,_0x421187=fs[_0x4357e8(0x187)](configpath);_0x421187[_0x4357e8(0x21d)](_0x256abb=>{const _0x5a0aec=_0x4357e8,_0xe46161=_0x68d841[_0x5a0aec(0x246)](_0x256abb);if(_0xe46161){const _0x2a1ec7=_0xe46161[0x1];let _0x2e9f82=getBotAttributes(_0x2a1ec7);_0x2ef1d8['push']({'botID':_0x2a1ec7,'botname':_0x2e9f82[_0x5a0aec(0x123)],'status':_0x5a0aec(0x26f),'live':'stopped'}),_0x427bfc++;}}),_0x427bfc!=0x0&&(dbConfig[_0x4357e8(0x16f)](_0x4357e8(0x29f))[_0x4357e8(0x170)](_0x2ef1d8)[_0x4357e8(0x245)](),config=_0x2ef1d8,restoredConfigFile=_0x427bfc);}}async function restoreConfigNotify(_0x565438){const _0x1a0707=_0x25a93c;let _0x358b4c;if(restoredConfigFile==0x1)_0x358b4c=_0x1a0707(0x1d3);else _0x358b4c=_0x1a0707(0x1a3);if(_0x565438)io['to'](_0x1a0707(0x1d2))[_0x1a0707(0x201)]('notification',_0x358b4c);else{logger['simple'](_0x1a0707(0x29c)),logger[_0x1a0707(0x2c1)](_0x358b4c),logger[_0x1a0707(0x2c1)](_0x1a0707(0x29c)),logger[_0x1a0707(0x2c1)]('');if(tgBot&&settings[_0x1a0707(0x1b3)]&&settings[_0x1a0707(0x11c)]!=_0x1a0707(0x1af))tgBot['sendMessage'](settings['telegramChatId'],_0x1a0707(0x2ce)+_0x358b4c)['catch'](_0x470fa7=>{telegramError(_0x470fa7);});}}function validateCredentials(_0x2261ed,_0x342492){const _0x33a72a=_0x25a93c;if(_0x2261ed[_0x33a72a(0x128)]==settings[_0x33a72a(0x29a)]&&bcrypt[_0x33a72a(0x120)](_0x2261ed[_0x33a72a(0x20d)],settings[_0x33a72a(0x1eb)])){if(settings[_0x33a72a(0x1b5)])return{'allow':![],'reason':'2FA\x20login\x20required','token':null};else{const _0x34b74b=generateLoginToken(_0x342492);return{'allow':!![],'reason':_0x33a72a(0x263),'token':_0x34b74b};}}else return{'allow':![],'reason':_0x33a72a(0x1cd),'token':null};}function refreshToken(_0x1988c2){const _0x1e918d=_0x25a93c,_0x7b7c8=generateLoginToken(_0x1988c2);return{'allow':!![],'reason':_0x1e918d(0x263),'token':_0x7b7c8};}function validateAccess(_0x27ad4d,_0x2c8ac6,_0x16edb6){const _0x4e52cb=_0x25a93c,_0x2f2bf8=_0x16edb6?_0x16edb6:devices[_0x2c8ac6]['ip'];let _0x18776e;const _0x47fb2e=_0x520dc6=>{const _0x231b81=_0x4547;if(settings['loginRequired']){if(settings[_0x231b81(0x1b5)]){if(telegram2FaApproved(_0x2c8ac6)){const _0x5deee9=generateLoginToken(_0x2c8ac6);return{'allow':!![],'reason':_0x231b81(0x1a7),'token':_0x5deee9};}else return{'allow':![],'reason':'login\x20required','token':null};}else return _0x18776e=validToken(_0x520dc6,_0x2c8ac6),_0x18776e['hasOwnProperty']('success')?{'allow':!![],'reason':'login\x20token\x20valid','token':_0x520dc6}:{'allow':![],'reason':_0x231b81(0x2cb),'token':null};}else return{'allow':!![],'reason':_0x231b81(0x280),'token':null};};if(settings[_0x4e52cb(0x21e)]){let _0x24f105=[...settings['whitelist'],'::1',_0x4e52cb(0x134),_0x4e52cb(0x203)];if(_0x24f105[_0x4e52cb(0x1ba)](_0x2f2bf8))return _0x47fb2e(_0x27ad4d);else{_0x18776e=validToken(_0x27ad4d,_0x2c8ac6);if(_0x18776e[_0x4e52cb(0x274)](_0x4e52cb(0x225)))return _0x47fb2e(_0x27ad4d);else{if(telegramIpApproved(_0x2c8ac6)){const _0x46315d=generateToken(_0x2c8ac6);return _0x18776e=_0x47fb2e(_0x27ad4d),_0x18776e[_0x4e52cb(0x14f)]?{'allow':!![],'reason':_0x4e52cb(0x26e),'token':_0x46315d}:_0x18776e;}else return settings[_0x4e52cb(0x277)]?{'allow':![],'reason':'2FA\x20required','token':null}:{'allow':![],'reason':_0x4e52cb(0x266),'token':null};}}}else return _0x47fb2e(_0x27ad4d);}function timelyDecrypt(_0x56e4a6,_0x37e71d=!![]){const _0x57a7b8=_0x25a93c;if(_0x56e4a6)try{const _0x591ab4=crypt[_0x57a7b8(0x251)](secure['privateKey'],_0x56e4a6)[_0x57a7b8(0x126)],_0x3d9565=_0x591ab4[_0x57a7b8(0x28f)]('@')[0x0],_0x1f9c37=_0x591ab4[_0x57a7b8(0x28f)]('@')[0x1],_0x36df65=new Date()[_0x57a7b8(0x1ef)]();if(_0x37e71d){if(_0x36df65-_0x1f9c37<maxSecretAge*0x3e8)return _0x3d9565;else return![];}else return _0x3d9565;}catch(_0x4c76ce){return![];}else return![];}const validToken=(_0x5b1522,_0x17860d)=>{const _0x43785a=_0x25a93c,_0x2c4998=devices[_0x17860d]['ip'];if(!_0x5b1522)return{'error':_0x43785a(0x1b6)};for(let _0x5e5e97 of blacklist){if(_0x5e5e97[_0x43785a(0x24f)]==_0x5b1522)return{'error':_0x43785a(0x157)};}let _0x229014;try{_0x229014=jwt[_0x43785a(0x23a)](_0x5b1522,secure[_0x43785a(0x166)]+_0x17860d);}catch{return{'error':_0x43785a(0x215)};}if(!_0x229014[_0x43785a(0x274)](_0x43785a(0x1bf))&&!_0x229014[_0x43785a(0x274)](_0x43785a(0x128))||!_0x229014['hasOwnProperty'](_0x43785a(0x1f2)))return{'error':'Invalid\x20authentication\x20token\x20(2)'};if(!_0x229014[_0x43785a(0x274)](_0x43785a(0x128))&&_0x229014[_0x43785a(0x274)](_0x43785a(0x1bf))){const {clientip:_0x37001a}=_0x229014;return _0x2c4998==_0x37001a?{'success':'User\x20has\x20been\x20validated'}:{'error':'Invalid\x20IP\x20address'};}else{if(_0x229014[_0x43785a(0x274)](_0x43785a(0x128))&&_0x229014[_0x43785a(0x274)](_0x43785a(0x1bf))){const {username:_0x119bb7,clientip:_0x102bd0}=_0x229014;return settings['bbUsername']==_0x119bb7&&_0x2c4998==_0x102bd0?{'success':_0x43785a(0x2d1)}:{'error':_0x43785a(0x1d5)};}}},generateLoginToken=_0x5519ff=>{const _0x2170bc=_0x25a93c;if(_0x5519ff){const _0x450252=devices[_0x5519ff]['ip'];return jwt[_0x2170bc(0x1f4)]({'username':settings[_0x2170bc(0x29a)],'clientip':_0x450252},secure[_0x2170bc(0x166)]+_0x5519ff,{'expiresIn':tokenRefresh*0x3c});}else return![];},generateToken=_0x5b93ce=>{const _0x31c9a3=_0x25a93c;if(_0x5b93ce){const _0x301cca=devices[_0x5b93ce]['ip'];return jwt['sign']({'clientip':_0x301cca},secure[_0x31c9a3(0x166)]+_0x5b93ce,{'expiresIn':devices[_0x5b93ce]['telegramIpApproval'][_0x31c9a3(0x1b2)]*0x3c});}else return![];},telegramIpApproved=_0x227eb9=>{const _0x2fbe36=_0x25a93c;let _0x242a9e=![];return devices[_0x227eb9][_0x2fbe36(0x204)]&&devices[_0x227eb9][_0x2fbe36(0x204)]['expiry']!=_0x2fbe36(0x1f7)&&(_0x242a9e=devices[_0x227eb9]['telegramIpApproval'][_0x2fbe36(0x1bf)]==devices[_0x227eb9]['ip']&&new Date()[_0x2fbe36(0x1ef)]()-devices[_0x227eb9][_0x2fbe36(0x204)]['timestamp']<devices[_0x227eb9][_0x2fbe36(0x204)][_0x2fbe36(0x1b2)]*0x3c*0x3e8),_0x242a9e;},telegram2FaApproved=_0x41e2b1=>{const _0xbae1c9=_0x25a93c;let _0x1c47e4=![];return devices[_0x41e2b1][_0xbae1c9(0x1ff)]&&devices[_0x41e2b1]['telegram2FaApproval'][_0xbae1c9(0x1b2)]!=_0xbae1c9(0x1f7)&&(_0x1c47e4=devices[_0x41e2b1][_0xbae1c9(0x1ff)][_0xbae1c9(0x1bf)]==devices[_0x41e2b1]['ip']&&new Date()[_0xbae1c9(0x1ef)]()-devices[_0x41e2b1][_0xbae1c9(0x1ff)][_0xbae1c9(0x1f5)]<devices[_0x41e2b1][_0xbae1c9(0x1ff)][_0xbae1c9(0x1b2)]*0x3c*0x3e8),_0x1c47e4;},normalizeIP=_0x45a8b1=>{const _0x4791ae=_0x25a93c;let _0xbab103=null,_0xfedd64=null;if(ipaddr[_0x4791ae(0x1b4)](_0x45a8b1)){const _0x56da1d=ipaddr[_0x4791ae(0x2c4)](_0x45a8b1);_0x56da1d[_0x4791ae(0x1c7)]()===_0x4791ae(0x1f8)?(_0x56da1d['isIPv4MappedAddress']()&&(_0xbab103=_0x56da1d[_0x4791ae(0x172)]()[_0x4791ae(0x185)]()),_0xfedd64=_0x56da1d[_0x4791ae(0x185)]()):(_0xbab103=_0x56da1d['toString'](),_0xfedd64=_0x56da1d[_0x4791ae(0x2bd)]()['toString']());}return{'show':_0xbab103?_0xbab103:_0xfedd64,'store':_0xfedd64};};function formatDate(_0x468e38){const _0x2cf150=_0x25a93c;return _0x468e38[_0x2cf150(0x14a)]()+'/'+(_0x468e38[_0x2cf150(0x278)]()+0x1)[_0x2cf150(0x185)]()[_0x2cf150(0x2d0)](0x2,'0')+'/'+_0x468e38[_0x2cf150(0x29e)]()[_0x2cf150(0x185)]()['padStart'](0x2,'0')+'\x20'+_0x468e38[_0x2cf150(0x181)]()[_0x2cf150(0x185)]()[_0x2cf150(0x2d0)](0x2,'0')+':'+_0x468e38[_0x2cf150(0x208)]()[_0x2cf150(0x185)]()['padStart'](0x2,'0')+':'+_0x468e38[_0x2cf150(0x206)]()[_0x2cf150(0x185)]()['padStart'](0x2,'0');}function sleep(_0x13a8b5){return new Promise(_0x8d900=>setTimeout(_0x8d900,_0x13a8b5));}