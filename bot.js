const _0x333401=_0x573a;(function(_0x1a38da,_0x57b47a){const _0x1aa6fa=_0x573a,_0x437d3c=_0x1a38da();while(!![]){try{const _0x506cf6=parseInt(_0x1aa6fa(0x2ed))/0x1+parseInt(_0x1aa6fa(0x23e))/0x2+parseInt(_0x1aa6fa(0x234))/0x3*(parseInt(_0x1aa6fa(0x346))/0x4)+-parseInt(_0x1aa6fa(0x19b))/0x5*(parseInt(_0x1aa6fa(0x336))/0x6)+parseInt(_0x1aa6fa(0x31e))/0x7*(parseInt(_0x1aa6fa(0x1e9))/0x8)+-parseInt(_0x1aa6fa(0x1a0))/0x9+parseInt(_0x1aa6fa(0x268))/0xa*(parseInt(_0x1aa6fa(0x2eb))/0xb);if(_0x506cf6===_0x57b47a)break;else _0x437d3c['push'](_0x437d3c['shift']());}catch(_0x226531){_0x437d3c['push'](_0x437d3c['shift']());}}}(_0x2722,0x86279));const _0x4a9118=function(){let _0x35edaf=!![];return function(_0x3cc9f6,_0x4e7841){const _0x205016=_0x35edaf?function(){if(_0x4e7841){const _0x86dadf=_0x4e7841['apply'](_0x3cc9f6,arguments);return _0x4e7841=null,_0x86dadf;}}:function(){};return _0x35edaf=![],_0x205016;};}(),_0x3c4c05=_0x4a9118(this,function(){const _0x22f799=_0x573a;return _0x3c4c05[_0x22f799(0x252)]()[_0x22f799(0x20c)](_0x22f799(0x2b7))[_0x22f799(0x252)]()[_0x22f799(0x269)](_0x3c4c05)[_0x22f799(0x20c)]('(((.+)+)+)+$');});_0x3c4c05();'use strict';const ccxt=require(_0x333401(0x190)),low=require(_0x333401(0x24d)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x333401(0x2f4)),forge=require(_0x333401(0x1b2)),util=require('util'),argv=require(_0x333401(0x1ea))(process[_0x333401(0x1f4)][_0x333401(0x24f)](0x2))[_0x333401(0x1f4)],path=require(_0x333401(0x1eb)),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x333401(0x33d),_0x333401(0x1a6),'TUSD','USDT',_0x333401(0x249),_0x333401(0x2ff)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x333401(0x17d)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x333401(0x29b),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc;let enableFiatToggle;const serverversion=require('./version.json')[_0x333401(0x226)],environment=require(_0x333401(0x179))['environment']||'production',botID=process[_0x333401(0x1f4)][0x2]||_0x333401(0x182),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x333401(0x2d7)](_0x333401(0x188)+botID+_0x333401(0x335)),killBot());const userID=process[_0x333401(0x1f4)][0x3]||'',configpath=userID?_0x333401(0x20d)+userID+'/':'./config/',logspath=userID?_0x333401(0x21c)+userID+'/':_0x333401(0x21c),loggerfile=fs[_0x333401(0x185)](logspath+_0x333401(0x200),{'flags':'a'});!fs[_0x333401(0x25c)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x333401(0x25c)](logspath)&&fs[_0x333401(0x255)](logspath);const configfile=configpath+_0x333401(0x25b)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x333401(0x191),performancefile=configpath+_0x333401(0x25b)+botID+_0x333401(0x262),coinresultsfile=configpath+_0x333401(0x25b)+botID+_0x333401(0x29d),settingsfile=configpath+_0x333401(0x2a8),securefile=configpath+_0x333401(0x1db),configbackuppath=configpath+_0x333401(0x302),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x333401(0x2ca)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x333401(0x2ca)]({'bot':[],'version':serverversion})[_0x333401(0x17b)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x333401(0x2ca)]({'coins':[],'version':serverversion})[_0x333401(0x17b)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x40578b=>{const _0x301211=_0x333401;console[_0x301211(0x2d7)](_0x40578b);},'simple':_0x454c6f=>{const _0x2ca410=_0x333401;console[_0x2ca410(0x2d7)](_0x454c6f),loggerfile[_0x2ca410(0x17b)](util[_0x2ca410(0x23d)](_0x454c6f)+'\x0a');},'full':async(_0x36e3a3,_0x5b9efb='')=>{const _0x20b640=_0x333401;let _0x51be85;if(config['showname'])_0x51be85=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x36e3a3;else _0x51be85=getTimeStamp()+_0x20b640(0x27b)+botID+'\x20>\x20'+_0x36e3a3;console[_0x20b640(0x2d7)](_0x51be85),loggerfile[_0x20b640(0x17b)](util['format'](_0x51be85)+'\x0a'),_0x5b9efb&&(console['log'](_0x5b9efb),loggerfile[_0x20b640(0x17b)](util[_0x20b640(0x23d)](_0x5b9efb)+'\x0a'));},'debug':async(_0x5bb7e8,_0x477dff='')=>{const _0x518f34=_0x333401;let _0x226afb;if(config[_0x518f34(0x25a)])_0x226afb=getTimeStamp()+':\x20'+config[_0x518f34(0x237)]+'\x20>\x20[DEBUG]\x20'+_0x5bb7e8;else _0x226afb=getTimeStamp()+_0x518f34(0x27b)+botID+_0x518f34(0x341)+_0x5bb7e8;if(debugging)console['log'](_0x226afb);loggerfile[_0x518f34(0x17b)](util[_0x518f34(0x23d)](_0x226afb)+'\x0a');if(_0x477dff){if(debugging)console[_0x518f34(0x2d7)](_0x477dff);loggerfile[_0x518f34(0x17b)](util['format'](_0x477dff)+'\x0a');}}};process['on'](_0x333401(0x247),function(_0x5031af){const _0x56e55e=_0x333401;handleError(_0x5031af,_0x56e55e(0x247));});settings[_0x333401(0x183)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);settings[_0x333401(0x2b3)]!=config[_0x333401(0x2b3)]&&updateOnepagemode(settings[_0x333401(0x2b3)]);(settings[_0x333401(0x1b5)]&&!config[_0x333401(0x1b5)]||!settings[_0x333401(0x1b5)]&&config['marketcapApi'])&&updateMarketcapApi(settings['marketcapApi']);process[_0x333401(0x1d4)]({'started':_0x333401(0x2ee)},_0xe6e236=>{}),initializeProcessListeners();function proxyEmit(_0x5e4df9,_0x5752bd=null){const _0x1b7a66=_0x333401;process[_0x1b7a66(0x1d4)]({'function':_0x5e4df9,'args':_0x5752bd},_0x4f23ae=>{});}function initializeProcessListeners(){const _0x326c13=_0x333401;process['on'](_0x326c13(0x274),_0x3276a3=>{const _0x198e00=_0x326c13;switch(Object[_0x198e00(0x1aa)](_0x3276a3)[0x0]){case _0x198e00(0x183):_0x3276a3[_0x198e00(0x183)]!=undefined&&(settings[_0x198e00(0x183)]=_0x3276a3[_0x198e00(0x183)],updateTimeshift(settings[_0x198e00(0x183)]));break;case _0x198e00(0x2b3):_0x3276a3['onepagemode']!=undefined&&(settings['onepagemode']=_0x3276a3['onepagemode'],updateOnepagemode(settings['onepagemode']));break;case _0x198e00(0x1b5):_0x3276a3[_0x198e00(0x1b5)]!=undefined&&(settings[_0x198e00(0x1b5)]=_0x3276a3[_0x198e00(0x1b5)],updateMarketcapApi(settings[_0x198e00(0x1b5)]));break;case'bots':_0x3276a3[_0x198e00(0x30f)]!=undefined&&(bots=JSON[_0x198e00(0x1c3)](_0x3276a3[_0x198e00(0x30f)]),proxyEmit(_0x198e00(0x30f),bots));break;case _0x198e00(0x19f):switch(_0x3276a3['function']){case _0x198e00(0x325):initclient();break;case _0x198e00(0x1e4):toggleBotMode();break;case _0x198e00(0x199):emitHistory(_0x3276a3[_0x198e00(0x33a)]);break;case _0x198e00(0x2d3):deleteHistoryAlerts(_0x3276a3[_0x198e00(0x33a)]);break;case'getPortfolio':getPortfolio(_0x3276a3[_0x198e00(0x33a)]);break;case _0x198e00(0x1cd):storeConfiguration(_0x3276a3[_0x198e00(0x33a)]);break;case _0x198e00(0x26a):storeHeadless(_0x3276a3[_0x198e00(0x33a)]);break;case _0x198e00(0x1bf):storeFiat(_0x3276a3[_0x198e00(0x33a)]);break;case'resetHistory':resetHistory();break;case _0x198e00(0x1d2):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x3276a3[_0x198e00(0x33a)]);break;case'cancelLoading':cancelLoading();break;case _0x198e00(0x22d):showConfig();break;case _0x198e00(0x181):sendMetricsTelegram();break;case _0x198e00(0x32b):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x18b279=![]){const _0x519069=_0x333401;logger[_0x519069(0x32d)](_0x519069(0x1d7)+(_0x18b279?'exchange\x20reload':'no\x20exchange\x20reloaded')+_0x519069(0x261)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x18b279)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x519069(0x17a)]!=''&&config[_0x519069(0x17a)]!=_0x519069(0x1e3)){loadingProgress=0x0;_0x18b279&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x519069(0x2fd),emittedConfiguration()),initialPerformanceStored=![]);const _0x2f8f33=await getCoins();[currentCoins,currentCoinsAll]=_0x2f8f33,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x519069(0x32d)](_0x519069(0x263)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x519069(0x1e7)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x51edca=![]){const _0x2c7b67=_0x333401;logger[_0x2c7b67(0x32d)](_0x2c7b67(0x1f8)+(_0x51edca?_0x2c7b67(0x1ab):_0x2c7b67(0x253))+_0x2c7b67(0x1e5)+config[_0x2c7b67(0x189)]);if(pidBalances)clearTimeout(pidBalances);if(_0x51edca){getBalances();return;}coinsLoaded=![];if(config[_0x2c7b67(0x17a)]!=''&&config[_0x2c7b67(0x17a)]!='***'){loadingProgress=0x1;const _0x59402d=await getCoins();[currentCoins,currentCoinsAll]=_0x59402d,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x2c7b67(0x32d)](_0x2c7b67(0x263)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2c7b67(0x1e7)]==0x0&&allOpenOrders[_0x2c7b67(0x1e7)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x7482c8){const _0x4d143f=_0x333401;let _0x86078c=![];if(_0x7482c8)_0x86078c=!![];let _0x4092c2;_0x86078c?_0x4092c2=_0x7482c8[_0x4d143f(0x219)](_0x4f72ce=>_0x4f72ce[_0x4d143f(0x270)]):_0x4092c2=currentCoinsAll['map'](_0x1ba6af=>_0x1ba6af[_0x4d143f(0x270)]);if(!config[_0x4d143f(0x1b5)]||!_0x86078c&&!config[_0x4d143f(0x2d9)]||_0x4092c2[_0x4d143f(0x1e7)]==0x0)return;let _0x27434c=null;try{_0x27434c=await axios[_0x4d143f(0x2c9)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x4d143f(0x1b5)]},'params':{'symbol':_0x4092c2[_0x4d143f(0x252)]()}});}catch(_0x342991){_0x27434c=null,_0x342991[_0x4d143f(0x252)]()['includes'](_0x4d143f(0x273))?(config[_0x4d143f(0x1b5)]=![],updateConfig(),proxyEmit(_0x4d143f(0x2fd),emittedConfiguration()),logHistory(_0x4d143f(0x266),_0x4d143f(0x2bc))):(logHistory('error',_0x4d143f(0x1cc)+schedulerInterval/(0x3c*0x3e8)+_0x4d143f(0x29b)),logger[_0x4d143f(0x32d)](_0x4d143f(0x1ce),_0x342991[_0x4d143f(0x252)]()+_0x4d143f(0x2f5)+_0x342991[_0x4d143f(0x28f)]));}if(_0x27434c){let _0x4be5fa=0x0;const _0x36a17e=_0x27434c['data'];_0x4092c2[_0x4d143f(0x281)](_0x24f4cd=>{const _0x2be17c=_0x4d143f;if(_0x36a17e['data'][_0x24f4cd][0x0])_0x4be5fa+=_0x36a17e[_0x2be17c(0x2cc)][_0x24f4cd][0x0][_0x2be17c(0x2a3)][_0x2be17c(0x33d)][_0x2be17c(0x319)];}),_0x4092c2[_0x4d143f(0x281)](_0x4b8a12=>{const _0x37cc02=_0x4d143f,_0x1b1115=_0x36a17e[_0x37cc02(0x2cc)][_0x4b8a12][0x0]?_0x36a17e[_0x37cc02(0x2cc)][_0x4b8a12][0x0][_0x37cc02(0x2a3)][_0x37cc02(0x33d)][_0x37cc02(0x319)]:0x0;if(_0x86078c){const _0x438b0c=_0x7482c8['find'](_0xdda494=>_0xdda494[_0x37cc02(0x270)]==_0x4b8a12);_0x438b0c&&(_0x438b0c[_0x37cc02(0x225)]=_0x1b1115);}else{const _0x924dff=currentCoins[_0x37cc02(0x322)](_0x3bee47=>_0x3bee47[_0x37cc02(0x270)]==_0x4b8a12);_0x924dff&&(_0x924dff['marketcap']=_0x1b1115);const _0x1cd4fc=currentCoinsAll[_0x37cc02(0x322)](_0x5be809=>_0x5be809['coin']==_0x4b8a12);_0x1cd4fc&&(_0x1cd4fc[_0x37cc02(0x225)]=_0x1b1115);}}),!_0x86078c&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x115d83=_0x333401,_0x32c7ca=0x2;let _0x43b37f=0x0,_0x4427d6=0x0,_0x7dbb32=0x0,_0x350ddb=0x0,_0x5bf090=0x0;config[_0x115d83(0x1cf)][_0x115d83(0x281)](_0x17571d=>{const _0x2d95d7=_0x115d83;if(!_0x17571d[_0x2d95d7(0x25d)]){_0x7dbb32++,_0x43b37f+=_0x17571d[_0x2d95d7(0x1bc)];if(_0x17571d[_0x2d95d7(0x1bc)]===-0x1){_0x43b37f++;const _0x251aa9=currentCoinsAll[_0x2d95d7(0x322)](_0x3286c0=>_0x3286c0['coin']==_0x17571d[_0x2d95d7(0x270)]);_0x251aa9&&(_0x350ddb+=_0x251aa9[_0x2d95d7(0x225)],_0x5bf090+=Math[_0x2d95d7(0x28a)](_0x251aa9[_0x2d95d7(0x225)]));}if(_0x17571d['slider']!==-0x1)_0x4427d6++;}});let _0x27fd65;const _0x3bfef7=0x64-_0x43b37f,_0x1db7d4=_0x7dbb32-_0x4427d6;_0x27fd65=_0x1db7d4===0x0?_0x43b37f:Math[_0x115d83(0x317)](0x64,_0x43b37f),config['portfolio'][_0x115d83(0x281)](_0x58b1ac=>{const _0x1ec8a5=_0x115d83,_0x3710de=currentCoinsAll['find'](_0x52bc5f=>_0x52bc5f[_0x1ec8a5(0x270)]==_0x58b1ac['coin']);_0x3710de&&(_0x58b1ac[_0x1ec8a5(0x225)]=_0x3710de[_0x1ec8a5(0x225)]);if(!_0x58b1ac[_0x1ec8a5(0x25d)]){if(_0x27fd65<=0x64){if(_0x58b1ac['slider']===-0x1){if(_0x350ddb!==0x0&&config['marketcapEnabled']){if(_0x3710de){if(config[_0x1ec8a5(0x2d9)]=='marketcap')_0x58b1ac[_0x1ec8a5(0x2e9)]=(_0x3bfef7/(_0x350ddb/_0x3710de[_0x1ec8a5(0x225)]))[_0x1ec8a5(0x31a)](_0x32c7ca);else config[_0x1ec8a5(0x2d9)]==_0x1ec8a5(0x2c6)&&(_0x58b1ac[_0x1ec8a5(0x2e9)]=(_0x3bfef7/(_0x5bf090/Math[_0x1ec8a5(0x28a)](_0x3710de[_0x1ec8a5(0x225)])))[_0x1ec8a5(0x31a)](_0x32c7ca));}}}}}}),updateConfig();}function updateConfig(){const _0x13d372=_0x333401;let _0x225f6=dbConfig[_0x13d372(0x2c9)](_0x13d372(0x28b))[_0x13d372(0x322)]({'botID':botID})['value']();_0x225f6&&dbConfig[_0x13d372(0x2c9)]('bot')[_0x13d372(0x322)]({'botID':botID})[_0x13d372(0x2fa)](config)[_0x13d372(0x17b)]();}function logMemory(){const _0x45b322=_0x333401;if(environment!=_0x45b322(0x243))return;const _0x3de6df=process['memoryUsage']()[_0x45b322(0x1c6)]/0x400/0x400;logger[_0x45b322(0x32d)](_0x45b322(0x30b)+process[_0x45b322(0x1e0)]+_0x45b322(0x288)+formatResult(_0x3de6df,0x1)+_0x45b322(0x2c2));}async function startScheduler(){const _0x5d1f69=shiftedTime()['getHours']();getMarketCap(),_0x5d1f69==0x1&&logMemory(),(_0x5d1f69==0x2||_0x5d1f69==0xe)&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x5739d5=![]){const _0x24226d=_0x333401;logger[_0x24226d(0x32d)](_0x24226d(0x328));if(!_0x5739d5)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x24226d(0x1d4)]({'stop':_0x24226d(0x264)},_0x8b2052=>{});}async function initExchange(_0xaa1154=config[_0x333401(0x189)],_0x206b54=config[_0x333401(0x17a)],_0x1acb6b=config['apiSecret'],_0x276e3c=config[_0x333401(0x330)]){const _0x3ee57e=_0x333401;if(exchange){logger[_0x3ee57e(0x32d)](_0x3ee57e(0x2a2));return;}logger[_0x3ee57e(0x32d)](_0x3ee57e(0x2ab));!supportedExchanges()[_0x3ee57e(0x1b8)](_0xaa1154)&&(logHistory(_0x3ee57e(0x266),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0xaa1154+'\x20exchange'),killBot());const _0x3067d4=ccxt[_0x3ee57e(0x24b)][_0xaa1154[_0x3ee57e(0x1dd)]()];exchange=new _0x3067d4({'apiKey':_0x206b54,'secret':_0x1acb6b,'options':{'defaultType':_0x3ee57e(0x29c)}});if(_0x276e3c)exchange[_0x3ee57e(0x1b7)]=_0x276e3c;}function updateExchange(_0x1d1733,_0x43e900,_0x1b5c7c=null){const _0x241b99=_0x333401;exchange[_0x241b99(0x17a)]=_0x1d1733,exchange[_0x241b99(0x29a)]=_0x43e900,exchange[_0x241b99(0x330)]=_0x1b5c7c,logger['debug'](_0x241b99(0x1f5));}function setStableCoins(){const _0x310845=_0x333401;let _0x49f5fc=config[_0x310845(0x1ed)]=='ETH'?_0x310845(0x1a2):config[_0x310845(0x1ed)]==_0x310845(0x213)?_0x310845(0x213):_0x310845(0x31c),_0x26c1a2=allSymbols[_0x310845(0x1b8)](_0x49f5fc+_0x310845(0x2b0))?_0x310845(0x33d):allSymbols[_0x310845(0x1b8)](_0x49f5fc+_0x310845(0x289))?_0x310845(0x1c4):'EUR',_0x2eb7d4=allSymbols[_0x310845(0x1b8)](_0x49f5fc+'/EUR')?_0x310845(0x2cd):_0x26c1a2;enableFiatToggle=!![],_0x26c1a2=='EUR'&&(enableFiatToggle=![],storeFiat(_0x310845(0x2cd))),_0x2eb7d4!=_0x310845(0x2cd)&&(enableFiatToggle=![],storeFiat(_0x310845(0x33d))),stablecoins={'eur':{'coin':''+_0x49f5fc+_0x2eb7d4,'symbol':_0x49f5fc+'/'+_0x2eb7d4},'usd':{'coin':''+_0x49f5fc+_0x26c1a2,'symbol':_0x49f5fc+'/'+_0x26c1a2}};}async function initwsCcxt(){const _0x321faf=_0x333401;initCycle++;const _0x27ce96=initCycle;let _0x359c15=[];config[_0x321faf(0x1cf)][_0x321faf(0x281)](_0x52d787=>{const _0x41e5ae=_0x321faf;if(!_0x52d787['excluded']&&_0x52d787[_0x41e5ae(0x270)]!=config[_0x41e5ae(0x1ed)])_0x359c15[_0x41e5ae(0x232)](_0x52d787[_0x41e5ae(0x294)]);});if(!_0x359c15[_0x321faf(0x1b8)](stablecoins[_0x321faf(0x240)][_0x321faf(0x294)]))_0x359c15[_0x321faf(0x232)](stablecoins['eur']['symbol']);if(!_0x359c15[_0x321faf(0x1b8)](stablecoins[_0x321faf(0x303)]['symbol']))_0x359c15[_0x321faf(0x232)](stablecoins[_0x321faf(0x303)][_0x321faf(0x294)]);if(config[_0x321faf(0x189)][_0x321faf(0x1c0)](_0x321faf(0x2af))&&config[_0x321faf(0x1ed)]!='PAXG'){if(!_0x359c15[_0x321faf(0x1b8)](_0x321faf(0x2e3)+config[_0x321faf(0x1ed)]))_0x359c15['push'](_0x321faf(0x2e3)+config['basecoin']);}loadCoins(_0x359c15),_0x359c15=validateSymbols(_0x359c15);const _0x3d00b6=async _0x3ac838=>{const _0x3e9a6d=_0x321faf;let _0x23b84c;try{const _0x217320=await getTickers(_0x3ac838);Object[_0x3e9a6d(0x1dc)](_0x217320)[_0x3e9a6d(0x281)](_0x1ac4f9=>{const _0x418665=_0x3e9a6d;_0x23b84c=_0x1ac4f9[0x1][_0x418665(0x294)],gTicker[noslash(_0x23b84c)]=_0x1ac4f9[0x1][_0x418665(0x1fb)],gChange[_0x23b84c]=_0x1ac4f9[0x1][_0x418665(0x327)];});}catch(_0x4c980d){await handleError(_0x4c980d,_0x3e9a6d(0x23a),_0x23b84c);}},_0x12ac11=async _0x2bc75b=>{const _0xbee9c=_0x321faf;while(initCycle==_0x27ce96){if(!botPaused)try{const _0x164c14=await exchange[_0xbee9c(0x241)](_0x2bc75b);gTicker[noslash(_0x164c14[0x0]['symbol'])]=_0x164c14[0x0][_0xbee9c(0x21d)];}catch(_0x370b0d){if(!exchangeStopped)await handleError(_0x370b0d,'watchTrades()',_0x2bc75b);}else await sleep(0x64);}},_0x11335e=async _0x2acff1=>{const _0x592fae=_0x321faf;while(initCycle==_0x27ce96){if(!botPaused)try{const _0x4f7ed5=await exchange[_0x592fae(0x1ca)](_0x2acff1),_0x535fbc=_0x4f7ed5[_0x592fae(0x304)]();gTicker[noslash(_0x535fbc['symbol'])]=_0x535fbc[_0x592fae(0x21d)];}catch(_0xde4854){if(!exchangeStopped)await handleError(_0xde4854,_0x592fae(0x27f),_0x2acff1[_0x592fae(0x252)]());}else await sleep(0x64);}},_0x4621ad=async _0x1c875c=>{const _0x43c52e=_0x321faf;while(initCycle==_0x27ce96){if(!botPaused){let _0x877614;try{await sleep(0x3c*0x3e8);const _0xe695a3=await getTickers(_0x1c875c);Object['entries'](_0xe695a3)['forEach'](_0x4ff4e5=>{const _0x371106=_0x573a;_0x877614=_0x4ff4e5[0x1]['symbol'],gChange[_0x877614]=_0x4ff4e5[0x1][_0x371106(0x327)];});}catch(_0x46310c){if(!exchangeStopped)await handleError(_0x46310c,_0x43c52e(0x2e5),_0x877614);}}else await sleep(0x64);}},_0x50d0d1=async _0x4d932f=>{const _0x44ab00=_0x321faf;while(initCycle==_0x27ce96){if(!botPaused)try{const _0x480ab0=await exchange[_0x44ab00(0x2d2)](_0x4d932f);initCycle==_0x27ce96&&_0x480ab0[_0x44ab00(0x281)](_0x45444a=>{updateNumberCoinsCcxt(_0x45444a);});}catch(_0x5ea982){if(!exchangeStopped)await handleError(_0x5ea982,'watchOrders()');}else await sleep(0x64);}};_0x3d00b6(_0x359c15),_0x4621ad(_0x359c15),exchange[_0x321faf(0x32e)][_0x321faf(0x1ca)]&&!(config[_0x321faf(0x189)]=='Bybit'&&_0x359c15[_0x321faf(0x1e7)]>0xa)?_0x11335e(_0x359c15):_0x359c15[_0x321faf(0x281)](_0x2bc45a=>{_0x12ac11(_0x2bc45a);}),_0x359c15['forEach'](_0x20c077=>{_0x50d0d1(_0x20c077);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x2146d4){const _0x42ee43=_0x333401;let _0x330db7={};try{if(config[_0x42ee43(0x189)]!=_0x42ee43(0x279))_0x330db7=await exchange[_0x42ee43(0x1c1)](_0x2146d4);else for(const _0x1c66bd of _0x2146d4){const _0x2167bd=await exchange['fetchTicker'](_0x1c66bd);_0x330db7[_0x1c66bd]=_0x2167bd;}return _0x330db7;}catch(_0x252ecd){throw _0x252ecd;}}function setBlockTransactionDetection(_0x3f77c3){const _0x309649=_0x333401;blockTransactionDetection=_0x3f77c3,logger['debug'](_0x309649(0x2e7)+blockTransactionDetection);}async function detectLiquidityChange(_0x2e6016=0x0){const _0x19e942=_0x333401;transactionDetectionOngoing=!![];try{const _0x311ad3=await getCoins(_0x2e6016),[_0x3dc4dd,_0xfdff59]=_0x311ad3;let _0x5eb907=[];currentCoins[_0x19e942(0x281)](_0x125d4c=>{const _0x5e9bc5=_0x19e942,_0x487b47=_0x3dc4dd[_0x5e9bc5(0x322)](_0x5f2cbe=>_0x5f2cbe['coin']==_0x125d4c[_0x5e9bc5(0x270)]);if(_0x487b47){if(_0x125d4c['number']!=_0x487b47[_0x5e9bc5(0x31b)]){let _0x30d7f4;if(_0x125d4c[_0x5e9bc5(0x270)]!=config[_0x5e9bc5(0x1ed)]){const _0x505b6b=gTicker[noslash(_0x125d4c[_0x5e9bc5(0x294)])];_0x30d7f4=_0x125d4c[_0x5e9bc5(0x22e)]?0x1/_0x505b6b:_0x505b6b;}else _0x30d7f4=0x1;_0x5eb907[_0x5e9bc5(0x232)]({'coin':_0x125d4c[_0x5e9bc5(0x270)],'symbol':_0x125d4c[_0x5e9bc5(0x294)],'price':_0x30d7f4,'number':Number(formatResult(_0x487b47[_0x5e9bc5(0x31b)]-_0x125d4c['number'],0x8)),'basecoinvalue':_0x30d7f4*(_0x487b47[_0x5e9bc5(0x31b)]-_0x125d4c['number'])});}}});if(_0x5eb907['length']>0x0&&!blockTransactionDetection)for(const _0x48281f of _0x5eb907){if(config[_0x19e942(0x1cb)]){logger['debug'](_0x19e942(0x1ff)+_0x48281f[_0x19e942(0x205)]+_0x19e942(0x338)+lastFees[_0x19e942(0x17e)]);if(lastFees[_0x19e942(0x17e)]==0x0||Math[_0x19e942(0x33b)](_0x48281f[_0x19e942(0x205)])>lastFees[_0x19e942(0x17e)]*0x3){if(config['autoliquidity']==_0x19e942(0x2bf)){delete _0x48281f[_0x19e942(0x294)],delete _0x48281f[_0x19e942(0x205)];let _0x512d48=[],_0x19811e=[...config['liquidity']]||[],_0x3fc834=config[_0x19e942(0x184)];_0x19811e['sort']((_0x139edd,_0x55d774)=>_0x139edd[_0x19e942(0x250)]>_0x55d774[_0x19e942(0x250)]?-0x1:_0x55d774[_0x19e942(0x250)]>_0x139edd[_0x19e942(0x250)]?0x1:0x0);const _0x31c775=getDate();if(_0x19811e[0x0]){const _0x1d0104=fns[_0x19e942(0x1c3)](_0x19811e[0x0][_0x19e942(0x250)],_0x19e942(0x2fb),new Date()),_0x466c28=fns[_0x19e942(0x1c3)](_0x31c775,_0x19e942(0x2fb),new Date());if(fns[_0x19e942(0x209)](_0x1d0104,_0x466c28)){_0x512d48=_0x19811e[0x0][_0x19e942(0x176)];const _0x54beaf=_0x512d48[_0x19e942(0x322)](_0x5dcf55=>_0x5dcf55['coin']==_0x48281f['coin']);_0x54beaf?(_0x54beaf[_0x19e942(0x31b)]+=_0x48281f['number'],_0x54beaf['number']==0x0&&(_0x512d48=_0x512d48[_0x19e942(0x340)](_0x3578f9=>{const _0x58f30e=_0x19e942;return _0x3578f9[_0x58f30e(0x270)]!=_0x48281f[_0x58f30e(0x270)];}))):_0x512d48[_0x19e942(0x232)](_0x48281f);const _0x3ba2de=_0x3fc834[_0x19e942(0x322)](_0x2a0bba=>_0x2a0bba[_0x19e942(0x250)]==_0x31c775);_0x3ba2de[_0x19e942(0x176)]=_0x512d48;}else _0x3fc834['push']({'date':_0x31c775,'changes':[_0x48281f]});}const _0x442002=_0x3fc834[_0x19e942(0x322)](_0x5f0e97=>_0x5f0e97[_0x19e942(0x250)]==_0x31c775);if(_0x442002){let _0x4e1675=!![];_0x442002['changes'][_0x19e942(0x281)](_0x3729cc=>{const _0x1ca1de=_0x19e942;if(_0x3729cc[_0x1ca1de(0x31b)]!=0x0)_0x4e1675=![];}),_0x4e1675&&(_0x3fc834=_0x3fc834['filter'](_0x1d93d5=>{const _0x17cc4b=_0x19e942;return _0x1d93d5[_0x17cc4b(0x250)]!=_0x31c775;}));}let _0x254b85=dbConfig[_0x19e942(0x2c9)](_0x19e942(0x28b))[_0x19e942(0x322)]({'botID':botID})[_0x19e942(0x2b1)]();_0x254b85&&(dbConfig[_0x19e942(0x2c9)](_0x19e942(0x28b))[_0x19e942(0x322)]({'botID':botID})[_0x19e942(0x2fa)]({'liquidity':_0x3fc834})[_0x19e942(0x17b)](),config[_0x19e942(0x184)]=_0x3fc834);logHistory(_0x19e942(0x30e),_0x19e942(0x27e)+Math['abs'](_0x48281f[_0x19e942(0x31b)])+'\x20'+_0x48281f[_0x19e942(0x270)]+'\x20'+(_0x48281f['number']>0x0?_0x19e942(0x231):_0x19e942(0x342))+_0x19e942(0x26d)),proxyEmit(_0x19e942(0x2fd),emittedConfiguration());const _0x44ef21=getNormalizedPerformance();emitPerformance(_0x44ef21),getStartingBalances(_0x44ef21),logger[_0x19e942(0x32d)](_0x19e942(0x301));}else config['autoliquidity']==_0x19e942(0x339)&&(config[_0x19e942(0x29e)]?(await storeHeadless({'headless':![]}),logHistory(_0x19e942(0x30e),_0x19e942(0x27e)+Math[_0x19e942(0x33b)](_0x48281f[_0x19e942(0x31b)])+'\x20'+_0x48281f[_0x19e942(0x270)]+'\x20'+(_0x48281f['number']>0x0?_0x19e942(0x231):'removed')+_0x19e942(0x344))):logger[_0x19e942(0x32d)](_0x19e942(0x27e)+Math[_0x19e942(0x33b)](_0x48281f['number'])+'\x20'+_0x48281f[_0x19e942(0x270)]+'\x20'+(_0x48281f[_0x19e942(0x31b)]>0x0?_0x19e942(0x231):_0x19e942(0x342))+'\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode'));}else logger[_0x19e942(0x32d)](_0x19e942(0x1d5)+Math[_0x19e942(0x33b)](_0x48281f[_0x19e942(0x31b)])+'\x20'+_0x48281f['coin']+'\x20'+(_0x48281f[_0x19e942(0x31b)]>0x0?_0x19e942(0x231):_0x19e942(0x342)));}else logger[_0x19e942(0x32d)](_0x19e942(0x27e)+Math[_0x19e942(0x33b)](_0x48281f[_0x19e942(0x31b)])+'\x20'+_0x48281f[_0x19e942(0x270)]+'\x20'+(_0x48281f['number']>0x0?'added':_0x19e942(0x342))+_0x19e942(0x2df));}currentCoins=_0x3dc4dd,currentCoinsAll=_0xfdff59;}catch(_0x56f647){if(!exchangeStopped)await handleError(_0x56f647,_0x19e942(0x25e));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x4475cf=_0x333401;logger[_0x4475cf(0x32d)](_0x4475cf(0x18b));try{markets=await exchange[_0x4475cf(0x214)]();}catch(_0x5be1e5){logger[_0x4475cf(0x32d)](_0x4475cf(0x309)+_0x5be1e5[_0x4475cf(0x252)]());if(markets){}else(_0x5be1e5[_0x4475cf(0x252)]()[_0x4475cf(0x1dd)]()[_0x4475cf(0x1b8)](_0x4475cf(0x1af))||_0x5be1e5['toString']()[_0x4475cf(0x1dd)]()[_0x4475cf(0x1b8)](_0x4475cf(0x19a)))&&logHistory(_0x4475cf(0x266),_0x4475cf(0x1ba)),logHistory(_0x4475cf(0x266),_0x4475cf(0x2ea)),logHistory(_0x4475cf(0x266),_0x4475cf(0x260)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x4475cf(0x32d)](_0x4475cf(0x1ce),_0x5be1e5),loading[_0x4475cf(0x2d5)]=!![],emitLoadingProgress(),await sleep(loadCoinsRetryInterval),restartBot();}allSymbols=[],Object[_0x4475cf(0x1dc)](markets)[_0x4475cf(0x281)](_0x5bdf04=>{const _0x3d875f=_0x4475cf;_0x5bdf04[0x1][_0x3d875f(0x2dc)]&&_0x5bdf04[0x1][_0x3d875f(0x29c)]&&allSymbols[_0x3d875f(0x232)](_0x5bdf04[0x0]);});}function validateSymbols(_0x28e7db){const _0x30b67e=_0x333401;let _0x13e755=[];return _0x28e7db[_0x30b67e(0x281)](_0x44d1ba=>{const _0x5cff0f=_0x30b67e;!allSymbols[_0x5cff0f(0x1b8)](_0x44d1ba)?logHistory(_0x5cff0f(0x266),_0x5cff0f(0x2a4)+_0x44d1ba+_0x5cff0f(0x23f)):_0x13e755['push'](_0x44d1ba);}),_0x13e755;}async function initclient(){const _0xc3982e=_0x333401;proxyEmit(_0xc3982e(0x2fd),emittedConfiguration()),proxyEmit(_0xc3982e(0x175),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xc3982e(0x18e),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x325849=getNormalizedPerformance();emitPerformance(_0x325849),getStartingBalances(_0x325849);}async function toggleBotMode(){const _0x1110ec=_0x333401;let _0x351b6d=dbConfig[_0x1110ec(0x2c9)](_0x1110ec(0x28b))['find']({'botID':botID})[_0x1110ec(0x2b1)]();if(_0x351b6d){const _0x175720=!_0x351b6d[_0x1110ec(0x29e)];dbConfig[_0x1110ec(0x2c9)]('bot')['find']({'botID':botID})['assign']({'headless':_0x175720})[_0x1110ec(0x17b)](),config[_0x1110ec(0x29e)]=_0x175720,proxyEmit(_0x1110ec(0x2fd),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5f358b=_0x333401;process[_0x5f358b(0x1d4)]({'updatebotmanager':!![]},_0x20dd52=>{}),logger[_0x5f358b(0x32d)](_0x5f358b(0x1b9)+config['headless']);}async function loadCoins(_0x17b625){const _0x347c32=_0x333401;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x1f553a,_0x2e521b=0x0,_0x2e264f=0x0;_0x17b625[_0x347c32(0x281)](_0x309d11=>{const _0x429b97=_0x347c32;loading[_0x429b97(0x1fd)][_0x429b97(0x232)](_0x309d11);}),loadingCanceled=![];let _0x5d9c67=![];while(_0x1f553a!=_0x17b625['length']+maxLoadingProgress){_0x1f553a=loadingProgress,_0x17b625[_0x347c32(0x281)](_0x1021a9=>{const _0x331344=_0x347c32;if(gTicker[noslash(_0x1021a9)]){loading[_0x331344(0x1fd)]=loading[_0x331344(0x1fd)]['filter'](_0xc6a96=>_0xc6a96!=_0x1021a9);if(!watchedSymbols[_0x331344(0x1b8)](_0x1021a9))watchedSymbols[_0x331344(0x232)](_0x1021a9);_0x1f553a++;}}),loading[_0x347c32(0x248)]=Math[_0x347c32(0x18a)](_0x1f553a/(_0x17b625[_0x347c32(0x1e7)]+maxLoadingProgress)*0x64);loading[_0x347c32(0x248)]!=0x64&&(_0x2e264f>0x1e*0x5&&(loading[_0x347c32(0x332)]=!![],emitLoadingProgress()),_0x2e264f>0x78*0x5&&!_0x5d9c67&&(_0x5d9c67=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x347c32(0x1fd)][_0x347c32(0x1be)](',\x20')+_0x347c32(0x26c)),logHistory(_0x347c32(0x266),_0x347c32(0x260)+loadCoinsRetryInterval/0xea60+_0x347c32(0x229)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x2e521b!=loading[_0x347c32(0x248)]&&(_0x2e521b=loading[_0x347c32(0x248)],emitLoadingProgress()),_0x2e264f++,await sleep(0xc8);}_0x1f553a==_0x17b625[_0x347c32(0x1e7)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x347c32(0x1d4)]({'status':'enabled','live':_0x347c32(0x2ee)},_0x4ae8f3=>{}),_0x5d9c67&&logHistory(_0x347c32(0x30e),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x358d00=_0x333401;proxyEmit(_0x358d00(0x2fd),{...emittedConfiguration(),'configstate':_0x358d00(0x228)});}function emitLoadingProgress(){const _0x46544f=_0x333401;proxyEmit(_0x46544f(0x1a7),loading);}async function getFiat(){const _0x5a1a68=_0x333401;let _0x4c5431=gTicker[stablecoins['eur'][_0x5a1a68(0x270)]],_0x3986fd=gTicker[stablecoins['usd'][_0x5a1a68(0x270)]];return{'eur':Number(_0x4c5431),'usd':Number(_0x3986fd)};}function capitalize(_0x52ab49){const _0x37cbae=_0x333401;return _0x52ab49[_0x37cbae(0x32c)](0x0,0x1)[_0x37cbae(0x1d3)]()+_0x52ab49[_0x37cbae(0x32c)](0x1);}function supportedExchanges(){const _0x49bc47=_0x333401,_0x389976=['ws',_0x49bc47(0x1c1),_0x49bc47(0x26e),'watchTrades',_0x49bc47(0x2d2),'cancelOrder',_0x49bc47(0x193),_0x49bc47(0x20f),'fetchBalance'];let _0x428882=[],_0x44699a=[],_0x4b2f71=ccxt[_0x49bc47(0x24b)][_0x49bc47(0x175)];_0x4b2f71[_0x49bc47(0x281)](_0x424ccc=>{try{const _0x6e2e2f=new ccxt['pro'][_0x424ccc]();_0x44699a['push'](_0x6e2e2f);}catch(_0x1629f8){}}),_0x44699a[_0x49bc47(0x281)](_0x5bcc8f=>{const _0x2c3397=_0x49bc47;let _0x488cda=0x0;_0x389976[_0x2c3397(0x281)](_0x593704=>{const _0x4ea25a=_0x2c3397;_0x593704 in _0x5bcc8f[_0x4ea25a(0x32e)]&&_0x5bcc8f['has'][_0x593704]&&_0x488cda++;}),_0x488cda==_0x389976[_0x2c3397(0x1e7)]&&_0x428882[_0x2c3397(0x232)](capitalize(_0x5bcc8f['id']));});let _0x5581d5=[];return _0x4b2f71[_0x49bc47(0x281)](_0x31e0e8=>{_0x31e0e8=capitalize(_0x31e0e8);if(!_0x428882['includes'](_0x31e0e8))_0x5581d5['push'](_0x31e0e8);}),_0x428882;}function setStartDatePerformance(){const _0x134d22=_0x333401;if(config&&config[_0x134d22(0x184)][0x0][_0x134d22(0x176)]['length']!=0x0){const _0x43a026=config[_0x134d22(0x184)][0x0][_0x134d22(0x176)];dbPerformance[_0x134d22(0x2c9)](_0x134d22(0x2cc))[_0x134d22(0x322)]({'date':config[_0x134d22(0x308)]})[_0x134d22(0x2fa)]({'coins':_0x43a026})[_0x134d22(0x17b)]();}}async function recreateCoinResults(){const _0x3f5e57=_0x333401;recreationNeeded=![];let _0x50e8be,_0x17e232=[];try{for(const _0x432fe2 of currentCoins){if(_0x432fe2['coin']!=config['basecoin']){let _0x4cc1ac=0x0,_0x404416,_0x986b2a;_0x50e8be=await getAllEventOrders(_0x432fe2[_0x3f5e57(0x294)]);if(_0x50e8be['length']>0x0)_0x50e8be[_0x3f5e57(0x281)](_0x1ab0cc=>{const _0x358dfc=_0x3f5e57,_0x428b5a=_0x432fe2['symbol'][_0x358dfc(0x1b8)](config[_0x358dfc(0x1ed)]+'/');_0x17e232[_0x358dfc(0x232)]({'datetime':_0x1ab0cc[_0x358dfc(0x2d8)],'coin':_0x432fe2['coin'],'symbol':_0x432fe2['symbol'],'side':_0x1ab0cc['side'],'reverse':_0x428b5a,'amount':formatResult(_0x1ab0cc[_0x358dfc(0x312)],0x8),'filled':formatResult(_0x1ab0cc['filled'],0x8),'price':formatResult(_0x1ab0cc[_0x358dfc(0x21d)],0x8)}),_0x4cc1ac=_0x1ab0cc['side']==_0x358dfc(0x2a9)?_0x4cc1ac+_0x1ab0cc[_0x358dfc(0x312)]:_0x4cc1ac-_0x1ab0cc['filled'];if(!_0x986b2a)_0x986b2a=_0x1ab0cc[_0x358dfc(0x21d)];});_0x404416=_0x432fe2[_0x3f5e57(0x31b)]-_0x4cc1ac;let _0x1129cc;config['liquidity'][_0x3f5e57(0x281)](_0x7ea5b4=>{const _0x5be32a=_0x3f5e57;!_0x1129cc&&(_0x1129cc=_0x7ea5b4[_0x5be32a(0x176)]['find'](_0x4672fb=>_0x4672fb['coin']==_0x432fe2[_0x5be32a(0x270)]),_0x1129cc&&(_0x404416=_0x1129cc[_0x5be32a(0x31b)],_0x986b2a=_0x1129cc[_0x5be32a(0x21d)]));});let _0x3f94fc=dbCoinResults[_0x3f5e57(0x2c9)](_0x3f5e57(0x259))['find']({'coin':_0x432fe2['coin']})['value']();_0x3f94fc={'coin':_0x432fe2['coin'],'number':_0x404416,'breakeven':_0x986b2a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3f5e57(0x2c9)]('coins')[_0x3f5e57(0x322)]({'coin':_0x432fe2[_0x3f5e57(0x270)]})[_0x3f5e57(0x2fa)](_0x3f94fc)[_0x3f5e57(0x17b)]();}}_0x17e232[_0x3f5e57(0x267)]((_0x2dfd5c,_0x59e9af)=>_0x2dfd5c[_0x3f5e57(0x2d8)]>_0x59e9af['datetime']?0x1:_0x59e9af['datetime']>_0x2dfd5c['datetime']?-0x1:0x0);let _0x1ba482=0x0;for(let _0x38d343 of _0x17e232){await updateCoinResults(_0x38d343,!![]);}}catch(_0x2766de){await handleError(_0x2766de,_0x3f5e57(0x280));}}async function getAllEventOrders(_0x1f6d83){const _0x15ac9f=_0x333401;let _0x20dff3=[],_0x468842=dbLogs['get'](_0x15ac9f(0x287))[_0x15ac9f(0x340)](_0x3347c3=>{const _0x1a6d4e=_0x15ac9f,_0x51987c=_0x3347c3[_0x1a6d4e(0x275)]['toLowerCase']();return _0x51987c[_0x1a6d4e(0x1b8)](_0x1f6d83[_0x1a6d4e(0x1dd)]())&&(_0x51987c[_0x1a6d4e(0x1b8)](_0x1a6d4e(0x33c))&&_0x51987c['includes']('order')||_0x51987c['includes'](_0x1a6d4e(0x312))&&_0x51987c[_0x1a6d4e(0x1b8)](_0x1a6d4e(0x18f)));})[_0x15ac9f(0x324)](_0x15ac9f(0x305))[_0x15ac9f(0x2b1)]();return _0x468842[_0x15ac9f(0x281)](_0x473d34=>{const _0x4e2852=_0x15ac9f,_0x10c634=_0x473d34[_0x4e2852(0x275)][_0x4e2852(0x1b8)]('sell')?_0x4e2852(0x321):_0x4e2852(0x2a9),_0x4a7f12=/#([0-9]|\.)+\s/i,_0x2b2abb=Number(_0x4a7f12[_0x4e2852(0x2f0)](_0x473d34[_0x4e2852(0x275)])[0x0][_0x4e2852(0x24f)](0x1)),_0x32879a=/@([0-9]|\.)+$/i,_0x4fbc62=Number(_0x32879a[_0x4e2852(0x2f0)](_0x473d34[_0x4e2852(0x275)])[0x0][_0x4e2852(0x24f)](0x1));_0x20dff3[_0x4e2852(0x232)]({'datetime':_0x473d34[_0x4e2852(0x305)],'coin':symbolToCoin(_0x1f6d83),'symbol':_0x1f6d83,'side':_0x10c634,'amount':_0x2b2abb,'filled':_0x2b2abb,'price':_0x4fbc62});}),_0x20dff3;}async function validate24hChanges(){const _0x3fe36c=_0x333401;for(const _0x107da2 of currentCoins){if(_0x107da2[_0x3fe36c(0x270)]!=config['basecoin']){let _0x1ca176;_0x107da2['reverse']?_0x1ca176=formatResult((0x1/(gChange[_0x107da2[_0x3fe36c(0x294)]]/0x64+0x1)-0x1)*0x64,0x3):_0x1ca176=gChange[_0x107da2[_0x3fe36c(0x294)]],_0x1ca176<config[_0x3fe36c(0x1c8)]&&(logHistory(_0x3fe36c(0x266),_0x107da2[_0x3fe36c(0x270)]+_0x3fe36c(0x2aa)+_0x1ca176+'%'),logHistory(_0x3fe36c(0x266),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x330b04,_0x9e86ba){const _0x84db59=_0x333401;if(!_0x330b04)return!![];const _0x44f51e=_0x9e86ba['split']('.'),_0x2aba41=_0x330b04[_0x84db59(0x19d)]('.');for(var _0x336d5f=0x0;_0x336d5f<_0x2aba41['length'];_0x336d5f++){const _0x7a71b5=~~_0x2aba41[_0x336d5f],_0xd1d45a=~~_0x44f51e[_0x336d5f];if(_0x7a71b5<_0xd1d45a)return!![];if(_0x7a71b5>_0xd1d45a)return![];}return![];}async function oneTimeMigration(){const _0x28f4c9=_0x333401;let _0x3b5234=dbLogs[_0x28f4c9(0x2c9)](_0x28f4c9(0x226))[_0x28f4c9(0x2b1)]();if(isOlderVersion(_0x3b5234,'2.3.5')){let _0x1476e8=[];const _0x2c9969=dbLogs[_0x28f4c9(0x2c9)](_0x28f4c9(0x287))[_0x28f4c9(0x2b1)]();_0x2c9969[_0x28f4c9(0x281)](_0x587852=>{const _0x47f9d5=_0x28f4c9;_0x1476e8[_0x47f9d5(0x232)]({'time':_0x587852['time'],'type':_0x587852[_0x47f9d5(0x1f1)],'event':_0x587852['event']});}),dbLogs[_0x28f4c9(0x2c9)](_0x28f4c9(0x287))[_0x28f4c9(0x2fa)](_0x1476e8)[_0x28f4c9(0x17b)]();}let _0x4c834b=dbConfig['get'](_0x28f4c9(0x226))[_0x28f4c9(0x2b1)]();if(isOlderVersion(_0x4c834b,_0x28f4c9(0x2f1))){let _0x2b26cd=dbConfig[_0x28f4c9(0x2c9)](_0x28f4c9(0x28b))[_0x28f4c9(0x322)]({'botID':botID})[_0x28f4c9(0x2b1)]();if(_0x2b26cd){let _0x2f4ea3=[];_0x2b26cd[_0x28f4c9(0x1cf)][_0x28f4c9(0x281)](_0x37ba85=>{const _0x2c4bb6=_0x28f4c9;_0x2f4ea3[_0x2c4bb6(0x232)]({'coin':_0x37ba85[_0x2c4bb6(0x270)],'number':_0x37ba85[_0x2c4bb6(0x197)],'price':_0x37ba85['startprice']}),delete _0x37ba85['startnumber'],delete _0x37ba85[_0x2c4bb6(0x1f3)];});if(_0x2f4ea3[_0x28f4c9(0x1e7)]!==0x0)fs[_0x28f4c9(0x2f7)](configbackuppath+(_0x28f4c9(0x1e1)+botID+'.json'),JSON['stringify'](_0x2f4ea3,null,0x4),function(_0x374e65){if(_0x374e65){}});const _0x402225=(_0x4d244a,_0x1a3d1f)=>{const _0x1fde21=_0x28f4c9;let _0x325f9a=[];_0x1a3d1f['forEach'](_0x1ed5e0=>{const _0x50dc7e=_0x573a,_0x8cdd15=_0x4d244a[_0x50dc7e(0x322)](_0x58ffb1=>_0x58ffb1['coin']==_0x1ed5e0[_0x50dc7e(0x270)]);if(!_0x8cdd15)_0x325f9a['push'](_0x1ed5e0);});let _0x1686d6=[];return _0x4d244a[_0x1fde21(0x281)](_0x25dc2c=>{const _0x2e7884=_0x1fde21,_0x5d7d7b=_0x1a3d1f['find'](_0x485e52=>_0x485e52[_0x2e7884(0x270)]==_0x25dc2c[_0x2e7884(0x270)]);if(!_0x5d7d7b||_0x5d7d7b[_0x2e7884(0x31b)]==0x0&&_0x25dc2c[_0x2e7884(0x31b)]!=0x0)_0x1686d6['push'](_0x25dc2c);}),{'missingDay1':_0x325f9a,'notInDay2':_0x1686d6};},_0x48c6d7=dbPerformance[_0x28f4c9(0x2c9)]('data')[_0x28f4c9(0x2cf)]()['value']();if(_0x48c6d7[_0x28f4c9(0x1e7)]>0x1){const {missingDay1:_0x3ce45a,notInDay2:_0x17d0aa}=_0x402225(_0x2f4ea3,_0x48c6d7[0x1][_0x28f4c9(0x259)]);_0x2f4ea3=[..._0x2f4ea3,..._0x3ce45a],_0x17d0aa[_0x28f4c9(0x281)](_0x5dfd34=>{const _0x65a803=_0x28f4c9;let _0x5cb92e=_0x2f4ea3[_0x65a803(0x1c9)](_0x4033c3=>_0x4033c3['coin']==_0x5dfd34[_0x65a803(0x270)]);_0x5cb92e!=-0x1&&_0x2f4ea3[_0x65a803(0x285)](_0x5cb92e,0x1);});}_0x2f4ea3[_0x28f4c9(0x267)]((_0x37e928,_0x1bd572)=>_0x37e928[_0x28f4c9(0x270)]>_0x1bd572[_0x28f4c9(0x270)]?0x1:_0x1bd572[_0x28f4c9(0x270)]>_0x37e928[_0x28f4c9(0x270)]?-0x1:0x0);let _0x462fe3=[{'date':_0x2b26cd[_0x28f4c9(0x308)],'changes':_0x2f4ea3}];_0x48c6d7[_0x28f4c9(0x1e7)]>0x2&&_0x48c6d7['forEach']((_0x1e5ef1,_0x235ed0)=>{const _0x7b4456=_0x28f4c9;if(_0x235ed0>0x0&&_0x235ed0<_0x48c6d7[_0x7b4456(0x1e7)]-0x1){const {missingDay1:_0x367aee,notInDay2:_0x1fcca9}=_0x402225(_0x48c6d7[_0x235ed0]['coins'],_0x48c6d7[_0x235ed0+0x1]['coins']);_0x2f4ea3=[],(_0x367aee['length']!=0x0||_0x1fcca9['length']!=0x0)&&(_0x367aee[_0x7b4456(0x1e7)]!=0x0&&_0x2f4ea3['push'](..._0x367aee),_0x1fcca9[_0x7b4456(0x1e7)]!=0x0&&(_0x1fcca9[_0x7b4456(0x281)](_0x1fbceb=>{const _0x4b7744=_0x7b4456;_0x1fbceb['number']=-_0x1fbceb[_0x4b7744(0x31b)];}),_0x2f4ea3[_0x7b4456(0x232)](..._0x1fcca9)),_0x2f4ea3['sort']((_0x1c118f,_0x194462)=>_0x1c118f[_0x7b4456(0x270)]>_0x194462[_0x7b4456(0x270)]?0x1:_0x194462[_0x7b4456(0x270)]>_0x1c118f[_0x7b4456(0x270)]?-0x1:0x0),_0x462fe3[_0x7b4456(0x232)]({'date':_0x48c6d7[_0x235ed0+0x1]['date'],'changes':_0x2f4ea3}));}}),dbConfig[_0x28f4c9(0x2c9)](_0x28f4c9(0x28b))['find']({'botID':botID})[_0x28f4c9(0x2fa)]({..._0x2b26cd,'liquidity':_0x462fe3})['write']();}}if(isOlderVersion(_0x4c834b,_0x28f4c9(0x29f))){let _0x1efb21=dbConfig[_0x28f4c9(0x2c9)](_0x28f4c9(0x28b))[_0x28f4c9(0x322)]({'botID':botID})['value']();if(_0x1efb21){const _0x498d3a=_0x1efb21['exchange'],_0x45ee8f=_0x498d3a?capitalize(_0x498d3a):_0x28f4c9(0x2af);dbConfig['get'](_0x28f4c9(0x28b))[_0x28f4c9(0x322)]({'botID':botID})['assign']({'exchange':_0x45ee8f})[_0x28f4c9(0x17b)]();}}if(isOlderVersion(_0x4c834b,_0x28f4c9(0x1b6))){let _0xe030a0=dbConfig[_0x28f4c9(0x2c9)]('bot')[_0x28f4c9(0x322)]({'botID':botID})['value']();if(_0xe030a0){const _0x33055a=_0xe030a0[_0x28f4c9(0x2d9)],_0x1a12e6=_0x33055a?_0x28f4c9(0x225):![];dbConfig[_0x28f4c9(0x2c9)]('bot')['find']({'botID':botID})[_0x28f4c9(0x2fa)]({'marketcapEnabled':_0x1a12e6})[_0x28f4c9(0x17b)]();}}if(isOlderVersion(_0x4c834b,'2.6.23')){let _0x2d3f74=dbConfig[_0x28f4c9(0x2c9)](_0x28f4c9(0x28b))['find']({'botID':botID})['value']();if(_0x2d3f74){const _0x10c92a=_0x2d3f74[_0x28f4c9(0x1cb)],_0x5abab5=_0x10c92a?_0x28f4c9(0x2bf):![];dbConfig[_0x28f4c9(0x2c9)](_0x28f4c9(0x28b))[_0x28f4c9(0x322)]({'botID':botID})['assign']({'autoliquidity':_0x5abab5})['write']();}}let _0x27eae3=dbPerformance[_0x28f4c9(0x2c9)](_0x28f4c9(0x226))['value']();isOlderVersion(_0x27eae3,_0x28f4c9(0x2f1))&&setStartDatePerformance();let _0x14a799=dbCoinResults['get']('version')['value']();if(isOlderVersion(_0x14a799,_0x28f4c9(0x1bb))){let _0x6cc93a=dbCoinResults[_0x28f4c9(0x2c9)](_0x28f4c9(0x259))['value']();if(_0x6cc93a[_0x28f4c9(0x1e7)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x3ab22a=_0x333401;dbConfig[_0x3ab22a(0x215)](_0x3ab22a(0x226),serverversion)[_0x3ab22a(0x17b)](),dbPerformance[_0x3ab22a(0x215)](_0x3ab22a(0x226),serverversion)[_0x3ab22a(0x17b)](),dbLogs['set']('version',serverversion)['write'](),dbCoinResults[_0x3ab22a(0x215)](_0x3ab22a(0x226),serverversion)['write']();}function getConfiguration(_0x51cceb){const _0x4117e7=_0x333401;let _0x4843be=dbConfig[_0x4117e7(0x2c9)](_0x4117e7(0x28b))[_0x4117e7(0x322)]({'botID':_0x51cceb})['value']();if(_0x4843be){let _0x4ae9d2=![];typeof _0x4843be[_0x4117e7(0x201)]==_0x4117e7(0x1a1)&&(_0x4843be={..._0x4843be,'threshold':Number(_0x4843be['threshold'])},_0x4ae9d2=!![]),_0x4843be[_0x4117e7(0x1c8)]==undefined&&(_0x4843be={..._0x4843be,'change24h':-0x14},_0x4ae9d2=!![]),_0x4843be[_0x4117e7(0x1d1)]==undefined&&(_0x4843be={..._0x4843be,'fiat':_0x4117e7(0x33d)},_0x4ae9d2=!![]),_0x4843be[_0x4117e7(0x2b3)]==undefined&&(_0x4843be={..._0x4843be,'onepagemode':settings['onepagemode']},_0x4ae9d2=!![]),_0x4843be[_0x4117e7(0x223)]==undefined&&(_0x4843be={..._0x4843be,'colorscheme':'red_yellow_blue'},_0x4ae9d2=!![]),_0x4843be['autoliquidity']==undefined&&(_0x4843be={..._0x4843be,'autoliquidity':_0x4117e7(0x2bf)},_0x4ae9d2=!![]),_0x4843be['marketcapApi']==undefined&&(_0x4843be={..._0x4843be,'marketcapApi':settings[_0x4117e7(0x1b5)]?!![]:![]},_0x4ae9d2=!![]),_0x4843be[_0x4117e7(0x2d9)]==undefined&&(_0x4843be={..._0x4843be,'marketcapEnabled':![]},_0x4ae9d2=!![]),_0x4ae9d2&&(_0x4843be={'botID':_0x4843be[_0x4117e7(0x2ce)],'exchange':_0x4843be[_0x4117e7(0x189)],'apiKey':_0x4843be[_0x4117e7(0x17a)],'apiSecret':_0x4843be[_0x4117e7(0x29a)],'apiPassword':_0x4843be[_0x4117e7(0x330)],'basecoin':_0x4843be[_0x4117e7(0x1ed)],'botname':_0x4843be[_0x4117e7(0x237)],'showname':_0x4843be[_0x4117e7(0x25a)],'threshold':_0x4843be[_0x4117e7(0x201)],'ordertype':_0x4843be[_0x4117e7(0x27d)],'timeout':_0x4843be[_0x4117e7(0x332)],'fiat':_0x4843be[_0x4117e7(0x1d1)],'startdate':_0x4843be[_0x4117e7(0x308)],'recreate':_0x4843be[_0x4117e7(0x1ad)],'timeshift':_0x4843be[_0x4117e7(0x183)],'onepagemode':_0x4843be[_0x4117e7(0x2b3)],'headless':_0x4843be['headless'],'cooldown':_0x4843be['cooldown'],'change24h':_0x4843be['change24h'],'emojibuy':_0x4843be['emojibuy'],'emojisell':_0x4843be['emojisell'],'colorscheme':_0x4843be['colorscheme'],'marketcapApi':_0x4843be[_0x4117e7(0x1b5)],'marketcapEnabled':_0x4843be[_0x4117e7(0x2d9)],'portfolio':_0x4843be[_0x4117e7(0x1cf)],'autoliquidity':_0x4843be[_0x4117e7(0x1cb)],'liquidity':_0x4843be[_0x4117e7(0x184)],'openOrders':_0x4843be[_0x4117e7(0x1a3)]},dbConfig['get'](_0x4117e7(0x28b))['remove']()[_0x4117e7(0x17b)](),dbConfig[_0x4117e7(0x2c9)](_0x4117e7(0x28b))['push'](_0x4843be)['write']());}else _0x4843be={'botID':_0x51cceb,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x4117e7(0x30d)+_0x51cceb,'showname':![],'threshold':0x3,'ordertype':_0x4117e7(0x33c),'timeout':0x14,'fiat':_0x4117e7(0x33d),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x4117e7(0x183)],'onepagemode':settings[_0x4117e7(0x2b3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x4117e7(0x1b5)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x4117e7(0x2bf),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4843be;}function emittedConfiguration(){const _0x1d69e3=_0x333401;let _0x3ccc9a;if(config[_0x1d69e3(0x17a)]=='')_0x3ccc9a={...config,'configstate':_0x1d69e3(0x230)};else config['apiKey']==_0x1d69e3(0x1e3)?_0x3ccc9a={...config,'configstate':_0x1d69e3(0x2c0)}:(_0x3ccc9a={...config,'apiKey':'************','apiSecret':_0x1d69e3(0x293)},config[_0x1d69e3(0x330)]&&(_0x3ccc9a[_0x1d69e3(0x330)]=_0x1d69e3(0x293)));return _0x3ccc9a[_0x1d69e3(0x180)]=enableFiatToggle,_0x3ccc9a;}function getSettings(){const _0x586c84=_0x333401;return dbSettings[_0x586c84(0x2c9)](_0x586c84(0x18d))[_0x586c84(0x2b1)]();}function getSecure(){const _0x1a6f69=_0x333401;return dbSecure[_0x1a6f69(0x2c9)](_0x1a6f69(0x220))[_0x1a6f69(0x2b1)]()||{};}function updateTimeshift(_0x42d8ec){const _0x47e52a=_0x333401;let _0xc4c70b=dbConfig[_0x47e52a(0x2c9)](_0x47e52a(0x28b))['find']({'botID':botID})[_0x47e52a(0x2b1)]();_0xc4c70b&&dbConfig[_0x47e52a(0x2c9)](_0x47e52a(0x28b))['find']({'botID':botID})[_0x47e52a(0x2fa)]({'timeshift':_0x42d8ec})[_0x47e52a(0x17b)](),config[_0x47e52a(0x183)]=_0x42d8ec,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x355766){const _0x317656=_0x333401;let _0x142a48=dbConfig[_0x317656(0x2c9)](_0x317656(0x28b))[_0x317656(0x322)]({'botID':botID})[_0x317656(0x2b1)]();_0x142a48&&dbConfig['get'](_0x317656(0x28b))[_0x317656(0x322)]({'botID':botID})[_0x317656(0x2fa)]({'onepagemode':_0x355766})['write'](),config['onepagemode']=_0x355766,proxyEmit(_0x317656(0x2fd),emittedConfiguration());}function updateMarketcapApi(_0x12c356){const _0x30fc45=_0x333401,_0x74da9c=_0x12c356?!![]:![];let _0x1e754a=dbConfig[_0x30fc45(0x2c9)](_0x30fc45(0x28b))[_0x30fc45(0x322)]({'botID':botID})['value']();_0x1e754a&&dbConfig[_0x30fc45(0x2c9)](_0x30fc45(0x28b))[_0x30fc45(0x322)]({'botID':botID})[_0x30fc45(0x2fa)]({'marketcapApi':_0x74da9c})['write'](),config[_0x30fc45(0x1b5)]=_0x74da9c,getMarketCap(),proxyEmit(_0x30fc45(0x2fd),emittedConfiguration());}async function storeConfiguration(_0x1235d9){const _0x351b65=_0x333401;logger['debug']('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0xdeb59e=![],_0x3b9e73=![],_0x1ce5eb=[];_0x1235d9[_0x351b65(0x1cf)]['forEach'](_0x1b6203=>{const _0x3daba9=_0x351b65;if(!_0x1b6203[_0x3daba9(0x25d)]&&_0x1b6203[_0x3daba9(0x270)]!=_0x1235d9['basecoin'])_0x1ce5eb[_0x3daba9(0x232)](_0x1b6203[_0x3daba9(0x294)]);}),_0x1ce5eb[_0x351b65(0x281)](_0x35fd01=>{const _0x5ad56f=_0x351b65,_0x339242=currentCoins['find'](_0x26a77c=>_0x26a77c[_0x5ad56f(0x294)]==_0x35fd01);!_0x339242&&(_0xdeb59e=!![]);}),currentCoins[_0x351b65(0x281)](_0x3cbe30=>{const _0x232a3d=_0x351b65;if(_0x3cbe30[_0x232a3d(0x270)]!=config['basecoin']){const _0x3113cc=_0x1ce5eb[_0x232a3d(0x322)](_0x55e630=>_0x55e630==_0x3cbe30[_0x232a3d(0x294)]);!_0x3113cc&&(_0xdeb59e=!![]);}}),_0x1235d9['portfolio'][_0x351b65(0x281)](_0x5e49b8=>{const _0x3a3e54=_0x351b65,_0x42a71c=config[_0x3a3e54(0x1cf)][_0x3a3e54(0x322)](_0x44fd6e=>_0x44fd6e[_0x3a3e54(0x270)]==_0x5e49b8[_0x3a3e54(0x270)]);if(_0x42a71c&&_0x5e49b8[_0x3a3e54(0x23b)]!=_0x42a71c[_0x3a3e54(0x23b)])_0x3b9e73=!![];});let _0x27cdba=dbConfig[_0x351b65(0x2c9)](_0x351b65(0x28b))[_0x351b65(0x322)]({'botID':botID})[_0x351b65(0x2b1)]();_0x1235d9={..._0x1235d9,'apiKey':decryptRSA(secure[_0x351b65(0x292)],_0x1235d9['apiKey']),'apiSecret':decryptRSA(secure[_0x351b65(0x292)],_0x1235d9[_0x351b65(0x29a)])};_0x1235d9[_0x351b65(0x330)]&&(_0x1235d9[_0x351b65(0x330)]=decryptRSA(secure['privateKey'],_0x1235d9[_0x351b65(0x330)]));let _0x541422=![];if(_0x27cdba){_0x1235d9[_0x351b65(0x17a)]==_0x351b65(0x293)?_0x1235d9[_0x351b65(0x17a)]=config['apiKey']:_0x541422=!![];_0x1235d9[_0x351b65(0x29a)]=='************'?_0x1235d9['apiSecret']=config[_0x351b65(0x29a)]:_0x541422=!![];if(_0x1235d9[_0x351b65(0x330)]==_0x351b65(0x293))_0x1235d9[_0x351b65(0x330)]=config[_0x351b65(0x330)];else{if(_0x1235d9[_0x351b65(0x330)])_0x541422=!![];}dbConfig[_0x351b65(0x2c9)]('bot')[_0x351b65(0x322)]({'botID':botID})['assign'](_0x1235d9)[_0x351b65(0x17b)]();}else dbConfig[_0x351b65(0x2c9)](_0x351b65(0x28b))['push'](_0x1235d9)['write'](),_0x541422=!![],process['send']({'status':'enabled','live':_0x351b65(0x2ee)},_0x40241f=>{});process[_0x351b65(0x1d4)]({'botname':_0x1235d9['botname']},_0x34f55a=>{}),config={..._0x1235d9},updateBotManager(),proxyEmit(_0x351b65(0x244)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x541422)!_0x27cdba?await reset(!![]):getBalances();else _0xdeb59e||_0x3b9e73?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x254e67){const _0x1929e8=_0x333401,_0x56607b={...config,'headless':_0x254e67[_0x1929e8(0x29e)]};let _0x2b9a0a=dbConfig[_0x1929e8(0x2c9)](_0x1929e8(0x28b))['find']({'botID':botID})['value']();_0x2b9a0a&&dbConfig[_0x1929e8(0x2c9)](_0x1929e8(0x28b))[_0x1929e8(0x322)]({'botID':botID})['assign'](_0x56607b)[_0x1929e8(0x17b)](),config={..._0x56607b},updateBotManager(),proxyEmit(_0x1929e8(0x2fd),emittedConfiguration());}async function storeFiat(_0x56d569){const _0x5d5a45=_0x333401,_0x1667a6={...config,'fiat':_0x56d569};let _0x585046=dbConfig['get']('bot')[_0x5d5a45(0x322)]({'botID':botID})['value']();_0x585046&&dbConfig[_0x5d5a45(0x2c9)](_0x5d5a45(0x28b))[_0x5d5a45(0x322)]({'botID':botID})[_0x5d5a45(0x2fa)](_0x1667a6)['write'](),config={..._0x1667a6},proxyEmit(_0x5d5a45(0x2fd),emittedConfiguration());}function resetHistory(){const _0x40e9e2=_0x333401;logger[_0x40e9e2(0x315)](_0x40e9e2(0x2e6));try{if(fs[_0x40e9e2(0x25c)](path[_0x40e9e2(0x1be)](configpath,_0x40e9e2(0x25b)+botID+_0x40e9e2(0x191))))fs[_0x40e9e2(0x2be)](path[_0x40e9e2(0x1be)](configpath,'bot-'+botID+_0x40e9e2(0x191)));if(fs[_0x40e9e2(0x25c)](path[_0x40e9e2(0x1be)](configpath,_0x40e9e2(0x25b)+botID+_0x40e9e2(0x262))))fs['unlinkSync'](path[_0x40e9e2(0x1be)](configpath,_0x40e9e2(0x25b)+botID+_0x40e9e2(0x262)));if(fs[_0x40e9e2(0x25c)](path['join'](configpath,_0x40e9e2(0x25b)+botID+_0x40e9e2(0x29d))))fs['unlinkSync'](path[_0x40e9e2(0x1be)](configpath,_0x40e9e2(0x25b)+botID+_0x40e9e2(0x29d)));}catch(_0x2682be){if(_0x2682be)logger[_0x40e9e2(0x315)]('Error\x20while\x20deleting\x20files:\x20',_0x2682be);}const _0x1952a6=getDate();let _0x25c24a=[];currentCoins[_0x40e9e2(0x281)](_0x8bb03e=>{const _0x15aa10=_0x40e9e2;_0x25c24a[_0x15aa10(0x232)]({'coin':_0x8bb03e[_0x15aa10(0x270)],'number':_0x8bb03e['number'],'price':_0x8bb03e[_0x15aa10(0x1fb)]});});let _0x42c28c=dbConfig[_0x40e9e2(0x2c9)](_0x40e9e2(0x28b))[_0x40e9e2(0x322)]({'botID':botID})['value']();_0x42c28c&&(dbConfig[_0x40e9e2(0x2c9)](_0x40e9e2(0x28b))['find']({'botID':botID})['assign']({'liquidity':[{'date':_0x1952a6,'changes':_0x25c24a}]})[_0x40e9e2(0x17b)](),config[_0x40e9e2(0x184)]=[]),restartBot(!![]);}function noslash(_0x1f0cf6){const _0x5f1c8c=_0x333401;return _0x1f0cf6[_0x5f1c8c(0x33f)]('/','');}function updateHighestFee(_0x5b167e){const _0x3c9edc=_0x333401;if(_0x5b167e[_0x3c9edc(0x22e)]){let _0x51ff14={'filled':_0x5b167e[_0x3c9edc(0x312)]*_0x5b167e[_0x3c9edc(0x21d)],'amount':_0x5b167e[_0x3c9edc(0x312)]*_0x5b167e[_0x3c9edc(0x21d)],'side':_0x5b167e[_0x3c9edc(0x27c)]==_0x3c9edc(0x321)?_0x3c9edc(0x2a9):_0x3c9edc(0x321),'price':0x1/_0x5b167e[_0x3c9edc(0x21d)]};_0x5b167e={..._0x5b167e,..._0x51ff14};}const _0xe0e773=defaultFee*_0x5b167e[_0x3c9edc(0x312)]*_0x5b167e['price'];lastFees[_0x3c9edc(0x24a)][_0x3c9edc(0x1e7)]===0x14&&lastFees[_0x3c9edc(0x24a)][_0x3c9edc(0x2a7)](),lastFees[_0x3c9edc(0x24a)][_0x3c9edc(0x232)](_0xe0e773),lastFees[_0x3c9edc(0x17e)]=Math[_0x3c9edc(0x317)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x4597bc){const _0x9c86b=_0x333401;logger[_0x9c86b(0x32d)](_0x9c86b(0x24c)+_0x4597bc[_0x9c86b(0x294)]+_0x9c86b(0x32f)+_0x4597bc[_0x9c86b(0x198)]+_0x9c86b(0x32f)+_0x4597bc[_0x9c86b(0x312)]+_0x9c86b(0x216)+_0x4597bc[_0x9c86b(0x2d4)]+'\x20|\x20'+_0x4597bc['id']);let _0xefc43=_0x4597bc[_0x9c86b(0x198)],_0xb5155=![];currentCoins[_0x9c86b(0x281)](_0x5b9be2=>{const _0xcfdb6e=_0x9c86b;_0x5b9be2[_0xcfdb6e(0x294)]==_0x4597bc[_0xcfdb6e(0x294)]&&(_0xb5155=!![]);});if(!_0xb5155)return;const _0x17d4f9=currentCoins[_0x9c86b(0x322)](_0x2a74ee=>_0x2a74ee[_0x9c86b(0x294)]==_0x4597bc[_0x9c86b(0x294)]),_0x55b551=_0x70e73=>{const _0x331569=_0x9c86b;if(_0x17d4f9)_0x17d4f9[_0x331569(0x291)]=_0x70e73;};let _0x4024a2=![];for(const _0x12ed5f of lastOrders){const _0x43deab=0x64,_0x5ec6d0=0x1388;let _0x423cbd=0x0;while(!_0x12ed5f['orderId']&&_0x423cbd*_0x43deab<_0x5ec6d0){_0x423cbd++,await sleep(_0x43deab);}if(_0x423cbd>0x0)logger[_0x9c86b(0x32d)](_0x9c86b(0x2f2)+_0x423cbd*_0x43deab/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x12ed5f['orderId']==_0x4597bc['id']&&(_0x4024a2=!![]);}if(_0xefc43==_0x9c86b(0x2a1)){_0x55b551(_0x9c86b(0x2a1));if(_0x4597bc['filled']>0x0){if(_0x4024a2){setBlockTransactionDetection(!![]),logger[_0x9c86b(0x32d)]('1\x20-\x20partially\x20FILLED\x20known\x20order:\x20'+_0x4597bc['id']);const _0x176e30=await getCoins(balanceUpdateDelay,undefined,undefined,_0x17d4f9);[currentCoins,currentCoinsAll]=_0x176e30,setBlockTransactionDetection(![]);}else logger[_0x9c86b(0x32d)]('1\x20-\x20partially\x20FILLED\x20unknown\x20order:\x20'+_0x4597bc['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0xefc43==_0x9c86b(0x2c7)){_0x55b551('canceled');const _0x5283b1=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5283b1,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0xefc43==_0x9c86b(0x1c2)){if(lastOrders)for(const _0x2ad123 of lastOrders){if(_0x2ad123[_0x9c86b(0x178)]==_0x4597bc['id']){logger['debug'](_0x9c86b(0x2e8)+_0x4597bc['id']),_0x4024a2=!![];if(_0x2ad123[_0x9c86b(0x312)]==0x0){setBlockTransactionDetection(!![]),logger[_0x9c86b(0x32d)](_0x9c86b(0x297)+_0x4597bc['id']);if(_0x4597bc[_0x9c86b(0x204)])_0x2ad123[_0x9c86b(0x21d)]=_0x4597bc[_0x9c86b(0x204)];else{if(_0x4597bc[_0x9c86b(0x21d)])_0x2ad123[_0x9c86b(0x21d)]=_0x4597bc[_0x9c86b(0x21d)];else{}}_0x2ad123[_0x9c86b(0x312)]=_0x4597bc[_0x9c86b(0x312)],updateHighestFee(_0x2ad123),_0x55b551(_0x9c86b(0x312));const _0x530818=await getCoins(balanceUpdateDelay,undefined,undefined,_0x17d4f9);[currentCoins,currentCoinsAll]=_0x530818,setBlockTransactionDetection(![]),await validateOrders(),_0x2ad123[_0x9c86b(0x290)]={'currency':_0x4597bc[_0x9c86b(0x290)]?_0x4597bc[_0x9c86b(0x290)][_0x9c86b(0x2ec)]:null,'cost':_0x4597bc[_0x9c86b(0x290)]?_0x4597bc[_0x9c86b(0x290)]['cost']:0x0},await updateCoinResults(_0x2ad123);}}}!_0x4024a2&&(logger[_0x9c86b(0x32d)](_0x9c86b(0x347)+_0x4597bc['id']),_0x55b551('filled'),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x2f918b=JSON[_0x9c86b(0x1c3)](lastBalances['portfolio']);const _0x560c4f=_0x2f918b['find'](_0x411f0b=>_0x411f0b['symbol']==_0x4597bc[_0x9c86b(0x294)]);if(_0x560c4f){if(_0xefc43=='open')_0x560c4f[_0x9c86b(0x291)]=_0x560c4f[_0x9c86b(0x291)]=='filled'?_0x9c86b(0x312):_0x9c86b(0x2a1);else{if(_0xefc43==_0x9c86b(0x2c7))_0x560c4f[_0x9c86b(0x291)]=_0x560c4f[_0x9c86b(0x291)]=='filled'?_0x9c86b(0x312):_0x9c86b(0x2c7);else _0xefc43==_0x9c86b(0x1c2)&&(_0x560c4f[_0x9c86b(0x291)]=_0x9c86b(0x312));}}lastBalances={...lastBalances,'portfolio':JSON[_0x9c86b(0x28e)](_0x2f918b)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x91355=_0x333401;await getOpenOrders();let _0x582b99=![];currentCoins[_0x91355(0x281)](_0x2711e8=>{const _0x3cbf84=_0x91355;_0x582b99=allOpenOrders[_0x3cbf84(0x322)](_0x202bde=>_0x202bde['symbol']==_0x2711e8['symbol']),_0x2711e8[_0x3cbf84(0x291)]=_0x582b99?'open':_0x3cbf84(0x32a);});}async function fetchBalance(_0x2ae282=!![]){const _0x5ea72e=_0x333401;let _0x36ed5c;try{return _0x36ed5c=await exchange[_0x5ea72e(0x28d)](),mybalances=_0x36ed5c[_0x5ea72e(0x245)],!![];}catch(_0x359441){return!_0x2ae282?handleErrorNoStop(_0x359441,_0x5ea72e(0x24e)):await handleError(_0x359441,_0x5ea72e(0x24e)),![];}}async function getCoins(_0x62d4ac=0x0,_0x1ef3ea=!![],_0x89963=config['basecoin'],_0x56cc73){const _0x302e20=_0x333401;let _0xc60090=[],_0x4cc8f5=[],_0x58a48d=[];if(_0x62d4ac)await sleep(_0x62d4ac);if(botPaused)return[currentCoins,currentCoinsAll];let _0x5eb11c=![],_0x5bf04e=0x0,_0x512f10,_0x4e7abe;_0x56cc73&&(_0x512f10=currentCoins[_0x302e20(0x322)](_0xb454f7=>_0xb454f7[_0x302e20(0x270)]==_0x56cc73[_0x302e20(0x270)]),_0x4e7abe=_0x512f10[_0x302e20(0x31b)]);while(!_0x5eb11c){const _0x27c5d4=await fetchBalance(_0x1ef3ea);if(_0x27c5d4){if(_0x56cc73){if(mybalances[_0x56cc73[_0x302e20(0x270)]]!=_0x4e7abe)logger[_0x302e20(0x32d)](_0x302e20(0x2b9)+_0x56cc73['coin']+':\x20'+mybalances[_0x56cc73[_0x302e20(0x270)]]+'\x20('+_0x4e7abe+')'),_0x5eb11c=!![];else{logger[_0x302e20(0x32d)]('Invalid\x20balance\x20for\x20'+_0x56cc73[_0x302e20(0x270)]+':\x20'+mybalances[_0x56cc73['coin']]+'\x20('+_0x4e7abe+')'),_0x5bf04e++;if(_0x5bf04e<0x3)await sleep(balanceUpdateDelay);else{logger['debug'](_0x302e20(0x1d6)+_0x5bf04e+_0x302e20(0x1fa));break;}}}else break;}}for(const [_0xecdb2b,_0xb9827b]of Object[_0x302e20(0x1dc)](mybalances)){_0x58a48d['push'](_0xecdb2b);}config[_0x302e20(0x1cf)][_0x302e20(0x281)](_0x47f097=>{const _0xafbf6c=_0x302e20;!_0x58a48d[_0xafbf6c(0x1b8)](_0x47f097[_0xafbf6c(0x270)])&&(mybalances[_0x47f097[_0xafbf6c(0x270)]]=0x0);});if(_0x89963=='')for(const [_0x506a6a,_0x5c1cf2]of Object[_0x302e20(0x1dc)](mybalances)){_0x5c1cf2!=0x0&&_0xc60090[_0x302e20(0x232)]({'coin':_0x506a6a});}else for(const [_0x3bd3e1,_0x1e439c]of Object[_0x302e20(0x1dc)](mybalances)){const _0x1c7e0b=config[_0x302e20(0x1cf)][_0x302e20(0x322)](_0x24072c=>_0x24072c[_0x302e20(0x270)]==_0x3bd3e1),_0x2c1b89=_0x3bd3e1+'/'+_0x89963,_0x4b0f1d=_0x89963+'/'+_0x3bd3e1,_0x253a38=currentCoins[_0x302e20(0x322)](_0x1ec72f=>_0x1ec72f[_0x302e20(0x270)]==_0x3bd3e1);if((_0x1e439c!=0x0||_0x1c7e0b)&&(allSymbols[_0x302e20(0x1b8)](_0x2c1b89)||_0x3bd3e1==_0x89963))_0x253a38?_0xc60090[_0x302e20(0x232)]({..._0x253a38,'number':Math['max'](_0x1e439c+(_0x1c7e0b&&_0x1c7e0b['offset']||0x0),0x0)}):_0xc60090['push']({'coin':_0x3bd3e1,'symbol':_0x2c1b89,'reverse':![],'number':Math[_0x302e20(0x317)](_0x1e439c+(_0x1c7e0b&&_0x1c7e0b['offset']||0x0),0x0),'orderstatus':_0x302e20(0x32a)});else{if((_0x1e439c!=0x0||_0x1c7e0b)&&allSymbols[_0x302e20(0x1b8)](_0x4b0f1d))_0x253a38?_0xc60090['push']({..._0x253a38,'number':Math['max'](_0x1e439c+(_0x1c7e0b&&_0x1c7e0b[_0x302e20(0x23b)]||0x0),0x0)}):_0xc60090[_0x302e20(0x232)]({'coin':_0x3bd3e1,'symbol':_0x4b0f1d,'reverse':!![],'number':Math[_0x302e20(0x317)](_0x1e439c+(_0x1c7e0b&&_0x1c7e0b[_0x302e20(0x23b)]||0x0),0x0),'orderstatus':_0x302e20(0x32a)});else _0x1c7e0b&&_0xc60090[_0x302e20(0x232)]({'coin':_0x1c7e0b['coin'],'symbol':_0x1c7e0b[_0x302e20(0x294)],'reverse':_0x1c7e0b[_0x302e20(0x22e)],'number':0x0,'orderstatus':_0x302e20(0x32a)});}}return _0xc60090[_0x302e20(0x267)]((_0x4768e1,_0x252020)=>_0x4768e1[_0x302e20(0x251)]<_0x252020[_0x302e20(0x251)]?0x1:_0x252020[_0x302e20(0x251)]<_0x4768e1['delta']?-0x1:0x0),_0x4cc8f5=cloneDeep(_0xc60090),_0xc60090=_0xc60090['filter'](_0x472a5f=>{const _0x109600=_0x302e20,_0x35d145=config[_0x109600(0x1cf)][_0x109600(0x322)](_0x18e466=>_0x18e466['coin']==_0x472a5f['coin']);return _0x35d145&&!_0x35d145[_0x109600(0x25d)];}),[_0xc60090,_0x4cc8f5];}async function getCoinNumber(_0x1f9c0c){const _0x5aa665=_0x333401;let _0x264cc7;try{const _0x5063d9=await exchange[_0x5aa665(0x28d)]();_0x264cc7=_0x5063d9[_0x5aa665(0x245)][_0x1f9c0c];}catch(_0x106766){await handleError(_0x106766,_0x5aa665(0x21f));}return _0x264cc7;}async function getOpenOrders(){const _0x4cdd1e=_0x333401;let _0xcb4441;allOpenOrders=[];try{for(const _0x2599c7 of config[_0x4cdd1e(0x1cf)]){!_0x2599c7[_0x4cdd1e(0x25d)]&&_0x2599c7[_0x4cdd1e(0x270)]!=config[_0x4cdd1e(0x1ed)]&&(_0xcb4441=await exchange[_0x4cdd1e(0x20f)](_0x2599c7[_0x4cdd1e(0x294)]),_0xcb4441['length']>0x0&&allOpenOrders[_0x4cdd1e(0x232)](_0xcb4441[0x0]));}}catch(_0x492b4d){await handleError(_0x492b4d,_0x4cdd1e(0x21a));}}async function handleOpenOrders(_0x1052c3=0x0){const _0x5f5584=_0x333401;allOpenOrders[_0x5f5584(0x1e7)]==0x0&&lockOrders==ORDERS[_0x5f5584(0x2c4)]&&allOrdersPlaced&&(_0x1052c3==0x0?(logger[_0x5f5584(0x32d)](_0x5f5584(0x235)),_0x1052c3++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x5f5584(0x32d)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x5f5584(0x2a5))));}async function testAPI(_0x2fb9f2){const _0x369c4d=_0x333401,_0x1896c3=ccxt[_0x369c4d(0x24b)][_0x2fb9f2[_0x369c4d(0x189)][_0x369c4d(0x1dd)]()],_0x263a8e=new _0x1896c3({'apiKey':_0x2fb9f2[_0x369c4d(0x17a)],'secret':_0x2fb9f2['apiSecret'],'options':{'defaultType':'spot'}});if(_0x2fb9f2[_0x369c4d(0x330)])_0x263a8e['password']=_0x2fb9f2[_0x369c4d(0x330)];try{await _0x263a8e['fetchBalance']();}catch(_0x38fb9b){logger[_0x369c4d(0x32d)](_0x369c4d(0x20b)+_0x38fb9b['toString']());throw _0x38fb9b;}}function cloneDeep(_0x3f8777){const _0x6a8e36=_0x333401;return JSON['parse'](JSON[_0x6a8e36(0x28e)](_0x3f8777));}async function getPortfolio(_0x25cab9){const _0x22903a=_0x333401;let _0x52b423=[],_0x5f474a=[],_0x6d0d78=[],_0x33b9a2;_0x25cab9[_0x22903a(0x17a)]=decryptRSA(secure[_0x22903a(0x292)],_0x25cab9[_0x22903a(0x17a)]),_0x25cab9[_0x22903a(0x29a)]=decryptRSA(secure[_0x22903a(0x292)],_0x25cab9[_0x22903a(0x29a)]);if(_0x25cab9[_0x22903a(0x330)])_0x25cab9[_0x22903a(0x330)]=decryptRSA(secure[_0x22903a(0x292)],_0x25cab9[_0x22903a(0x330)]);if(_0x25cab9[_0x22903a(0x17a)]!==_0x22903a(0x293)||_0x25cab9[_0x22903a(0x29a)]!==_0x22903a(0x293)||_0x25cab9['apiPassword']&&_0x25cab9['apiPassword']!=='************'){if(config[_0x22903a(0x189)]){if(_0x25cab9[_0x22903a(0x17a)]==_0x22903a(0x293))_0x25cab9['apiKey']=config[_0x22903a(0x17a)];if(_0x25cab9[_0x22903a(0x29a)]==_0x22903a(0x293))_0x25cab9[_0x22903a(0x29a)]=config[_0x22903a(0x29a)];if(_0x25cab9[_0x22903a(0x330)]==_0x22903a(0x293))_0x25cab9[_0x22903a(0x330)]=config[_0x22903a(0x330)];}try{await testAPI(_0x25cab9);}catch(_0x3038c0){if(_0x3038c0['toString']()[_0x22903a(0x1b8)](_0x22903a(0x1e6))){logHistory(_0x22903a(0x266),_0x22903a(0x1e8)),proxyEmit(_0x22903a(0x284),![]);return;}else{logHistory('error',_0x22903a(0x19c)),logger[_0x22903a(0x32d)](_0x22903a(0x2e0),_0x3038c0),proxyEmit(_0x22903a(0x284),![]);return;}}exchange?updateExchange(_0x25cab9['apiKey'],_0x25cab9[_0x22903a(0x29a)],_0x25cab9[_0x22903a(0x330)]):await initExchange(_0x25cab9[_0x22903a(0x189)],_0x25cab9['apiKey'],_0x25cab9['apiSecret'],_0x25cab9['apiPassword']);await loadSymbols();const _0x1797a0=await getCoins(0x0,![],_0x25cab9['basecoin']);_0x6d0d78=cloneDeep(_0x1797a0[0x1]);}else{const _0x2fcfa9=await getCoins();_0x6d0d78=cloneDeep(_0x2fcfa9[0x1]);}if(_0x25cab9[_0x22903a(0x1ed)]=='')proxyEmit(_0x22903a(0x284),!![]),proxyEmit(_0x22903a(0x28c),_0x6d0d78);else{_0x6d0d78['forEach'](_0x2cae10=>{const _0xff9cb1=_0x22903a;if(_0x2cae10[_0xff9cb1(0x270)]!=_0x25cab9[_0xff9cb1(0x1ed)]&&allSymbols[_0xff9cb1(0x1b8)](_0x2cae10[_0xff9cb1(0x294)]))_0x52b423[_0xff9cb1(0x232)](_0x2cae10[_0xff9cb1(0x294)]);});if(_0x52b423[_0x22903a(0x1e7)]==0x0)logHistory('error',_0x22903a(0x278));else{try{_0x5f474a=await getTickers(_0x52b423);}catch(_0x4f7519){logHistory(_0x22903a(0x266),_0x22903a(0x19c)),logger[_0x22903a(0x32d)](_0x22903a(0x2de),_0x4f7519),proxyEmit(_0x22903a(0x284),![]);return;}_0x6d0d78[_0x22903a(0x281)](_0x283297=>{const _0x52e569=_0x22903a;_0x283297[_0x52e569(0x270)]!=_0x25cab9['basecoin']?_0x5f474a[_0x283297['symbol']]?_0x33b9a2=_0x283297[_0x52e569(0x22e)]?0x1/_0x5f474a[_0x283297[_0x52e569(0x294)]][_0x52e569(0x1fb)]:_0x5f474a[_0x283297[_0x52e569(0x294)]][_0x52e569(0x1fb)]:_0x33b9a2=0x0:_0x33b9a2=0x1,_0x283297[_0x52e569(0x21d)]=formatResult(_0x33b9a2,0x8);}),await getMarketCap(_0x6d0d78),proxyEmit(_0x22903a(0x284),!![]),proxyEmit(_0x22903a(0x28c),_0x6d0d78);}}}function _0x573a(_0x131fac,_0xfd7e42){const _0x4cb02b=_0x2722();return _0x573a=function(_0x3c4c05,_0x4a9118){_0x3c4c05=_0x3c4c05-0x174;let _0x2722cd=_0x4cb02b[_0x3c4c05];return _0x2722cd;},_0x573a(_0x131fac,_0xfd7e42);}function truncateTradeAmount(_0x35c763,_0x45b306){const _0x4f3d91=_0x333401;let _0x7ce4e2=0x0;try{_0x7ce4e2=exchange[_0x4f3d91(0x1fc)](_0x35c763,_0x45b306);}catch(_0x537e54){}return _0x7ce4e2;}function checkMinimums(_0x38986e){const _0xc6ed6b=_0x333401;let _0x2edac9=!![];const _0x42025c=!_0x38986e[_0xc6ed6b(0x22e)]?markets[_0x38986e[_0xc6ed6b(0x294)]][_0xc6ed6b(0x246)][_0xc6ed6b(0x2d4)][_0xc6ed6b(0x2c3)]:markets[_0x38986e[_0xc6ed6b(0x294)]][_0xc6ed6b(0x246)][_0xc6ed6b(0x1d9)][_0xc6ed6b(0x2c3)],_0x47c6df=!_0x38986e[_0xc6ed6b(0x22e)]?markets[_0x38986e[_0xc6ed6b(0x294)]][_0xc6ed6b(0x246)]['cost'][_0xc6ed6b(0x2c3)]:markets[_0x38986e[_0xc6ed6b(0x294)]]['limits']['amount'][_0xc6ed6b(0x2c3)],_0x23930b=truncateTradeAmount(_0x38986e[_0xc6ed6b(0x294)],_0x38986e[_0xc6ed6b(0x282)]);_0x38986e[_0xc6ed6b(0x282)]=_0x23930b;if(Math['abs'](_0x23930b)<_0x42025c)_0x2edac9=![];if(Math['abs'](_0x23930b)*_0x38986e[_0xc6ed6b(0x1fb)]<_0x47c6df)_0x2edac9=![];if(_0x38986e[_0xc6ed6b(0x27c)]==_0xc6ed6b(0x321)){let _0x36977d=config[_0xc6ed6b(0x1cf)][_0xc6ed6b(0x322)](_0x4e9111=>_0x4e9111[_0xc6ed6b(0x270)]==_0x38986e[_0xc6ed6b(0x270)]);if(_0x36977d[_0xc6ed6b(0x23b)]>0x0){if(Math[_0xc6ed6b(0x33b)](_0x23930b)>_0x38986e['number']-_0x36977d[_0xc6ed6b(0x23b)])_0x2edac9=![];}else{if(Math[_0xc6ed6b(0x33b)](_0x23930b)>_0x38986e[_0xc6ed6b(0x31b)])_0x2edac9=![];}}if(_0x38986e[_0xc6ed6b(0x27c)]==_0xc6ed6b(0x2a9)){let _0x2c0f09=config['portfolio']['find'](_0x4cde80=>_0x4cde80[_0xc6ed6b(0x270)]==config[_0xc6ed6b(0x1ed)]),_0x25e436=currentCoins[_0xc6ed6b(0x322)](_0x4c87be=>_0x4c87be[_0xc6ed6b(0x270)]==config[_0xc6ed6b(0x1ed)]);if(_0x2c0f09['offset']>0x0){if(Math[_0xc6ed6b(0x33b)](_0x23930b)*_0x38986e[_0xc6ed6b(0x1fb)]>_0x25e436[_0xc6ed6b(0x31b)]-_0x2c0f09[_0xc6ed6b(0x23b)])_0x2edac9=![];}else{if(Math[_0xc6ed6b(0x33b)](_0x23930b)*_0x38986e['last']>_0x25e436[_0xc6ed6b(0x31b)])_0x2edac9=![];}}return _0x2edac9;}async function getBalances(_0x5ef648=!![]){const _0x1bae22=_0x333401;let _0x23d337=0x0,_0x18b48d;const _0x594ff8=config['threshold'];if(config['headless']&&config[_0x1bae22(0x1c8)]<0x0)await validate24hChanges();currentCoins[_0x1bae22(0x281)](_0x55c815=>{const _0x2b7d09=_0x1bae22;if(_0x55c815['coin']!=config[_0x2b7d09(0x1ed)]){let _0x58ee9f=gTicker[noslash(_0x55c815['symbol'])];_0x18b48d=_0x55c815['reverse']?0x1/_0x58ee9f:_0x58ee9f;}else _0x18b48d=0x1;let _0x467081=_0x55c815['number']*_0x18b48d;_0x23d337+=_0x467081,_0x55c815[_0x2b7d09(0x1fb)]=formatResult(Number(_0x18b48d),0x8),_0x55c815[_0x2b7d09(0x2b1)]=_0x467081;}),currentCoins[_0x1bae22(0x281)](_0x40f27c=>{const _0x44fee8=_0x1bae22;let _0x474071=config[_0x44fee8(0x1cf)]['find'](_0x4db316=>_0x4db316['coin']==_0x40f27c[_0x44fee8(0x270)]),_0x58762a=Number(_0x474071[_0x44fee8(0x2e9)]),_0x7c28d=_0x40f27c[_0x44fee8(0x2b1)]/_0x23d337*0x64,_0x117a9d=_0x58762a*_0x23d337/0x64/_0x40f27c[_0x44fee8(0x1fb)]-_0x40f27c[_0x44fee8(0x31b)];_0x40f27c['distribution']=formatResult(_0x7c28d,0x3),_0x40f27c[_0x44fee8(0x2c5)]=formatResult(_0x58762a,0x3),_0x40f27c[_0x44fee8(0x282)]=formatResult(_0x117a9d,0x8),_0x40f27c[_0x44fee8(0x27c)]='',_0x40f27c[_0x44fee8(0x17c)]=![];if(_0x40f27c[_0x44fee8(0x270)]!=config[_0x44fee8(0x1ed)]){if(_0x40f27c[_0x44fee8(0x2e9)]>_0x58762a)_0x40f27c[_0x44fee8(0x27c)]=_0x44fee8(0x321),_0x40f27c[_0x44fee8(0x17c)]=checkMinimums(_0x40f27c);else _0x40f27c['distribution']<_0x58762a&&(_0x40f27c[_0x44fee8(0x27c)]=_0x44fee8(0x2a9),_0x40f27c[_0x44fee8(0x17c)]=checkMinimums(_0x40f27c));}_0x40f27c['delta']=_0x40f27c['distribution']/_0x40f27c[_0x44fee8(0x2c5)]-0x1;if(_0x40f27c['orderstatus']==_0x44fee8(0x312)||_0x40f27c[_0x44fee8(0x291)]==_0x44fee8(0x2c7))_0x40f27c[_0x44fee8(0x291)]=_0x44fee8(0x32a);}),currentCoins[_0x1bae22(0x267)]((_0x3893ad,_0x8840be)=>_0x3893ad['delta']<_0x8840be[_0x1bae22(0x251)]?0x1:_0x8840be[_0x1bae22(0x251)]<_0x3893ad[_0x1bae22(0x251)]?-0x1:0x0);const _0xe1ba47=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xe1ba47['eur'],'usd':_0xe1ba47[_0x1bae22(0x303)],'portfolio':JSON[_0x1bae22(0x28e)](currentCoins),'threshold':_0x594ff8},proxyEmit(_0x1bae22(0x18e),{'serverversion':serverversion,'balances':lastBalances});if(_0x5ef648){if(config[_0x1bae22(0x29e)])headlessMode({'portfolio':currentCoins,'threshold':_0x594ff8});else{if(lockOrders==ORDERS[_0x1bae22(0x17d)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x594ff8});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x147f78=getNormalizedPerformance();getStartingBalances(_0x147f78),emitPerformance(_0x147f78);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5ef6e6=_0x333401;if(!lastBalances)return;let _0xae6f90=[],_0x2c2424,_0x397587=JSON[_0x5ef6e6(0x1c3)](lastBalances[_0x5ef6e6(0x1cf)]);_0x397587[_0x5ef6e6(0x267)]((_0x57952a,_0x4487f1)=>_0x57952a['coin']>_0x4487f1['coin']?0x1:_0x4487f1['coin']>_0x57952a[_0x5ef6e6(0x270)]?-0x1:0x0),_0x397587[_0x5ef6e6(0x281)](_0x6eb410=>{const _0x1b955f=_0x5ef6e6;let _0x260719={'coin':_0x6eb410[_0x1b955f(0x270)],'number':_0x6eb410[_0x1b955f(0x31b)],'price':_0x6eb410[_0x1b955f(0x1fb)]};_0xae6f90[_0x1b955f(0x232)](_0x260719);});const _0x43dc7f=await getFiat();_0x2c2424={'date':lastBalances[_0x5ef6e6(0x305)][_0x5ef6e6(0x19d)]('\x20')[0x0],'eur':_0x43dc7f[_0x5ef6e6(0x240)],'usd':_0x43dc7f['usd'],'coins':_0xae6f90};let _0x4c3906=dbPerformance[_0x5ef6e6(0x2c9)]('data')['find']({'date':_0x2c2424[_0x5ef6e6(0x250)]})[_0x5ef6e6(0x2b1)]();_0x4c3906?_0x2c2424[_0x5ef6e6(0x250)]!=config[_0x5ef6e6(0x308)]&&dbPerformance[_0x5ef6e6(0x2c9)](_0x5ef6e6(0x2cc))[_0x5ef6e6(0x322)]({'date':_0x2c2424[_0x5ef6e6(0x250)]})[_0x5ef6e6(0x2fa)](_0x2c2424)[_0x5ef6e6(0x17b)]():dbPerformance[_0x5ef6e6(0x2c9)](_0x5ef6e6(0x2cc))['push'](_0x2c2424)[_0x5ef6e6(0x17b)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x64935=_0x333401;let _0x2bafcd=[];if(dbPerformance['has'](_0x64935(0x2cc))[_0x64935(0x2b1)]()){let _0x77038c=dbPerformance[_0x64935(0x2c9)]('data')[_0x64935(0x2cf)]()['filter'](_0x4e6460=>{const _0x34516e=_0x64935;if(_0x4e6460[_0x34516e(0x259)][_0x34516e(0x1e7)]==0x0)return![];else return!![];})[_0x64935(0x324)](_0x64935(0x250))[_0x64935(0x2b1)](),_0x15dc2e=[...config[_0x64935(0x184)]];_0x15dc2e[_0x64935(0x267)]((_0x34a577,_0x2585de)=>_0x34a577[_0x64935(0x250)]>_0x2585de[_0x64935(0x250)]?-0x1:_0x2585de[_0x64935(0x250)]>_0x34a577[_0x64935(0x250)]?0x1:0x0);let _0x29a00b=0x1,_0x2a8230=[],_0x2da556=0x0;_0x77038c[_0x64935(0x24f)]()[_0x64935(0x22e)]()[_0x64935(0x281)]((_0x3dcb1d,_0x30a2de)=>{const _0x471874=_0x64935;if(_0x15dc2e[_0x2da556]){if(_0x77038c[_0x77038c[_0x471874(0x1e7)]-_0x30a2de]&&_0x15dc2e[_0x2da556][_0x471874(0x250)]==_0x77038c[_0x77038c[_0x471874(0x1e7)]-_0x30a2de][_0x471874(0x250)]){if(_0x30a2de<_0x77038c[_0x471874(0x1e7)]){let _0x139a91=0x0,_0x5b748f=0x0;_0x77038c[_0x77038c['length']-_0x30a2de]['coins'][_0x471874(0x281)](_0x21e4ef=>{const _0x22e5bc=_0x471874;_0x5b748f+=_0x21e4ef['number']*_0x21e4ef[_0x22e5bc(0x21d)];}),_0x15dc2e[_0x2da556][_0x471874(0x176)][_0x471874(0x281)](_0x191f59=>{const _0x3f41c=_0x471874;_0x139a91+=_0x191f59[_0x3f41c(0x31b)]*_0x191f59[_0x3f41c(0x21d)];}),_0x29a00b*=_0x139a91/(_0x5b748f-_0x139a91)+0x1;}_0x2da556++;}}let _0x5d45b7=0x0;_0x3dcb1d[_0x471874(0x259)][_0x471874(0x281)](_0x2882e2=>{const _0x215730=_0x471874;_0x5d45b7+=_0x2882e2[_0x215730(0x31b)]*_0x2882e2[_0x215730(0x21d)];}),_0x2a8230[_0x77038c[_0x471874(0x1e7)]-_0x30a2de-0x1]=_0x5d45b7*(_0x29a00b-0x1);});let _0x450c57=[];_0x15dc2e=[...config['liquidity']]||[];let _0x1455a3=0x0;_0x2da556=0x0,_0x77038c[_0x64935(0x281)]((_0x3a99f0,_0x58100a)=>{const _0x263237=_0x64935;if(_0x15dc2e[_0x2da556]){const _0x55cd86=fns[_0x263237(0x1c3)](_0x15dc2e[_0x2da556][_0x263237(0x250)],_0x263237(0x2fb),new Date()),_0x1fafd9=fns[_0x263237(0x1c3)](_0x3a99f0[_0x263237(0x250)],_0x263237(0x2fb),new Date());if(fns[_0x263237(0x209)](_0x55cd86,_0x1fafd9)){let _0x1b9567=0x0;_0x15dc2e[_0x2da556][_0x263237(0x176)][_0x263237(0x281)](_0x3d310b=>{const _0x493e49=_0x263237;!_0x450c57[_0x3d310b[_0x493e49(0x270)]]?_0x450c57[_0x3d310b[_0x493e49(0x270)]]=_0x3d310b['number']:(_0x1b9567=_0x450c57[_0x3d310b[_0x493e49(0x270)]],_0x450c57[_0x3d310b['coin']]+=_0x3d310b[_0x493e49(0x31b)]);const _0x4cd888=_0x3a99f0[_0x493e49(0x259)][_0x493e49(0x322)](_0x6f865=>_0x6f865[_0x493e49(0x270)]==_0x3d310b['coin']);(!_0x4cd888||_0x4cd888[_0x493e49(0x31b)]==0x0)&&(_0x1455a3+=(-_0x3d310b[_0x493e49(0x31b)]-_0x1b9567)*_0x3d310b[_0x493e49(0x21d)]);}),_0x2da556++;}}_0x3a99f0[_0x263237(0x259)][_0x263237(0x281)]((_0x4415c4,_0x14fd3b)=>{const _0xf90876=_0x263237;_0x450c57[_0x4415c4[_0xf90876(0x270)]]&&(_0x4415c4[_0xf90876(0x230)]=_0x450c57[_0x4415c4[_0xf90876(0x270)]]);}),_0x2bafcd[_0x263237(0x232)]({'date':_0x3a99f0[_0x263237(0x250)],'eur':_0x3a99f0[_0x263237(0x240)],'usd':_0x3a99f0[_0x263237(0x303)],'offset':_0x2a8230[_0x58100a],'netoffset':_0x1455a3,'coins':_0x3a99f0[_0x263237(0x259)]});});}return _0x2bafcd;}function emitPerformance(_0x5c6f13){const _0xc6cd50=_0x333401;_0x5c6f13[_0xc6cd50(0x1e7)]!==0x0?(proxyEmit(_0xc6cd50(0x208),_0x5c6f13),lastPerformanceEmitted=getDate()):proxyEmit(_0xc6cd50(0x208),[]);}function _0x2722(){const _0x24f9f6=['botname','page','Limit\x20(low-margin)','initTickers()','offset','RETRY\x20-\x20Error\x20in\x20','format','26086bdxVWi','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','eur','watchTrades','Executed\x20','staging','configuration-stored','total','limits','uncaughtException','progress','USDC','recent20','pro','0\x20-\x20EXECUTION:\x20','lowdb','fetchBalance()','slice','date','delta','toString','complete','NetworkError','mkdirSync','emojibuy','balancing\x20resumed','2\x20-\x20Orders\x20unlocked','coins','showname','bot-','existsSync','excluded','detectLiquidityChange()','<b>Bot\x20','Pausing\x20for\x20','\x20|\x20exchange:\x20','-performance.json','Loading\x20completed','restart','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','error','sort','113990qStjQy','constructor','storeHeadless','getFullYear','\x20-\x20bot\x20not\x20started','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','fetchTicker','\x20order:\x20','coin','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','Huobipro','status\x20code\x20401','message','event','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Exchange','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','Cryptocom','Huobi',':\x20Bot\x20','side','ordertype','Portfolio\x20change\x20detected:\x20','watchTradesForSymbols()','recreateCoinResults()','forEach','trade','Bitget','portfolio1','splice','1\x20-\x20Validate\x20orders:\x20','logs','\x20uses\x20','/USDT','sqrt','bot','portfolio2','fetchBalance','stringify','code','fee','orderstatus','privateKey','************','symbol','RateLimitExceeded','API-key\x20format\x20invalid','2\x20-\x20handling\x20FILLED\x20order:\x20','decrypt','sells','apiSecret','\x20minutes','spot','-results.json','headless','2.6.0','ORDERS.LOCKED','open','Initializing\x20exchange:\x20already\x20done','quote','Invalid\x20symbol:\x20','no\x20open\x20orders',':\x20timer\x20>','shift','bb-settings.json','buy','\x20has\x20a\x2024h\x20drop\x20of\x20','Initializing\x20exchange','getTime','<b>','</pre>','Binance','/USD','value','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','onepagemode','Unknown\x20error:\x20','Cex','privateKeyFromPem','(((.+)+)+)+$','padEnd','Valid\x20balance\x20for\x20','getSeconds','Cooldown\x20ended\x20-\x20balancing\x20resumed','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','\x20metrics:</b>\x20\x0a\x0a','unlinkSync','update-liquidity','recovery','<pre>','\x20MB','min','LOCKED','target','marketcapsqrt','canceled','\x20portfolio:</b>\x20\x0a\x0a','get','defaults','-------------------------------\x0a','data','EUR','botID','cloneDeep','Trigger:\x20','event-history','watchOrders','deleteHistoryAlerts','amount','cancel','floor','log','datetime','marketcapEnabled','indexOf','emojisell','active','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','Error\x20details\x20(1):','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','Error\x20details\x20(0):','Exception\x20thrown\x20in\x20','\x20hour','BNB/','\x20orders\x20in\x20less\x20than\x20','fetchTickers()','Resetting\x20bot\x20history','Block\x20transaction\x20detection:\x20','1\x20-\x20FILLED\x20known\x20order:\x20','distribution','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','88rbJZAx','currency','33876lUQeEg','running','ExchangeNotAvailable','exec','2.3.5','Waited\x20','BNB','date-fns','\x20-\x20','placeOrder()','writeFile','\x20:\x20','Resetting\x20coin\x20results:\x20','assign','yyyy/MM/dd','\x20change','configuration','realized','USDP','Insufficient\x20funds\x20to\x20execute\x20order:\x20','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','/backup/','usd','pop','time','\x20minutes\x20-\x20','MIN_NOTIONAL','startdate','Error\x20in\x20loadSymbols():\x20','PermissionDenied','process\x20','Exchange\x20error\x20details:','Bot\x20','success','bots','differenceInSeconds','ORDERS.UNLOCKING','filled','Net\x20effect','%\x20(','full','Initializing\x20coin\x20results','max','change','market_cap','toFixed','number','BTC','\x20exchange\x20error:\x20','2457WhKdFf','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','sell','find','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','sortBy','initclient','decode64','percentage','Initiating\x20bot\x20restart','must\x20be\x20greater\x20than\x20minimum\x20amount','none','sendPortfolioTelegram','substring','debug','has','\x20|\x20','apiPassword','Order\x20amount\x20is\x20invalid:\x20','timeout','OnMaintenance','ongoing',',\x20must\x20be\x20a\x203\x20digit\x20number','24peXcyv','cancelOrder','\x20|\x20highest\x20fee:\x20','switch-manual','args','abs','market','USD','\x20value','replace','filter','\x20>\x20[DEBUG]\x20','removed','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','token\x20is\x20expired','4GMugqN','1\x20-\x20FILLED\x20unknown\x20order:\x20','ask','exchanges','changes','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','orderId','./version.json','apiKey','write','valid','UNLOCKED','highest','UNLOCKING','enableFiatToggle','sendMetricsTelegram','001','timeshift','liquidity','createWriteStream','\x20>\x20details:','\x20network\x20error:\x20','Error:\x20Invalid\x20argument\x20','exchange','round','Loading\x20symbols','getMonth','settings','balances','order','ccxt','-events.json','\x20API\x20secret\x20is\x20invalid','createOrder','cooldown','create','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','startnumber','status','emitHistory','request-time','667400lpwopJ','Unknown\x20error\x20-\x20check\x20logs','split','starting-balances','function','7668459oZadLx','string','ETH','openOrders','warning','Network\x20error\x20details:','BUSD','coin-loading-progress','InvalidOrder','getDate','keys','quick','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','recreate','RSA-OAEP','timestamp','customId','sha256','node-forge','Order\x20is\x20invalid:\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','marketcapApi','2.6.22','password','includes','Headless:\x20','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','2.5.0','slider','RequestTimeout','join','storeFiat','startsWith','fetchTickers','closed','parse','USDT','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','heapUsed','net-basecoin','change24h','findIndex','watchTradesForSymbols','autoliquidity','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','storeConfiguration','Error\x20details:','portfolio','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','fiat','getStartingBalances','toUpperCase','send','Fee\x20discount\x20refund\x20detected:\x20','Stopped\x20fetching\x20balance\x20after\x20','Reset\x20|\x20','netoffset','cost','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','bb-secure.json','entries','toLowerCase','fromCodePoint','\x20|\x20Custom\x20ID:\x20','pid','starting-balance-','cancelOrders()','***','toggleBotMode',')\x20|\x20exchange:\x20','AuthenticationError','length','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','16712PdXsks','yargs/yargs','path','random','basecoin','breakeven','buys','padStart','type','ID:\x20','startprice','argv','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','kill','ExchangeError','Resuming\x20(','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20attempts','last','amountToPrecision','remainingSymbols','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','/output-000.log','threshold','leftTxt','Symbol(s):\x20','average','basecoinvalue','1\x20-\x20Unlocking\x20orders','util','performance','isEqual','net-fiat','Error\x20in\x20testAPI():\x20','search','./config/','Manual\x20balancing\x20required','fetchOpenOrders','final','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','limit-high','PAXG','loadMarkets','set','\x20/\x20','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','rightTxt','map','getOpenOrders()','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','./logs/','price','getHours','getCoinNumber()','secure','pki','Order\x20filled:\x20','colorscheme','InsufficientFunds','marketcap','version','Bybit','loading-canceled','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','Invalid\x20quantity','ORDERS.UNLOCKED','showConfig','reverse','Limit\x20(high-margin)','initial','added','push','limit','3192354Mmwppz','1\x20-\x20Handle\x20open\x20orders','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a'];_0x2722=function(){return _0x24f9f6;};return _0x2722();}function getPerf(_0x3aec99,_0x6cef5a){const _0x5881e6=_0x333401;let _0x399e56=0x0,_0x585a38=0x0,_0x41f665=0x0;_0x3aec99[_0x5881e6(0x259)][_0x5881e6(0x281)](_0x5e6a8f=>{const _0x23370d=_0x5881e6;_0x399e56+=_0x5e6a8f[_0x23370d(0x31b)]*_0x5e6a8f[_0x23370d(0x21d)];});_0x6cef5a&&(_0x399e56+=_0x3aec99[_0x5881e6(0x23b)]);if(config[_0x5881e6(0x1ed)]===_0x5881e6(0x31c)||config[_0x5881e6(0x1ed)]===_0x5881e6(0x1a2)||config[_0x5881e6(0x1ed)]===_0x5881e6(0x213))_0x585a38=_0x399e56*_0x3aec99[_0x5881e6(0x240)],_0x41f665=_0x399e56*_0x3aec99[_0x5881e6(0x303)];else{if(usdBasecoins['includes'](config[_0x5881e6(0x1ed)]))_0x585a38=_0x399e56*_0x3aec99['eur']/_0x3aec99['usd'],_0x41f665=_0x399e56;else config[_0x5881e6(0x1ed)]==='EUR'&&(_0x585a38=_0x399e56,_0x41f665=_0x399e56*_0x3aec99[_0x5881e6(0x303)]/_0x3aec99[_0x5881e6(0x240)]);}return[_0x399e56,_0x585a38,_0x41f665];}function getKPIs(_0x2607c2,_0x146ecb=_0x333401(0x2cd)){const _0x14ce5e=_0x333401,_0x10ca62=config[_0x14ce5e(0x1ed)],_0x1bfb4a=lastBalances,_0x4ce8f7=currentCoins,_0x27cf21=getNormalizedPerformance(),_0x3e5001=_0x2607c2===_0x14ce5e(0x1ed)?_0x10ca62:_0x2607c2==='fiat'||_0x2607c2===_0x14ce5e(0x20a)?_0x146ecb:'Net\x20'+_0x10ca62,_0x37d8e2=_0x2607c2===_0x14ce5e(0x1c7)?_0x14ce5e(0x313):_0x2607c2===_0x14ce5e(0x20a)?_0x14ce5e(0x313):_0x3e5001+_0x14ce5e(0x33e),_0x5e8cf8=_0x2607c2==='net-basecoin'||_0x2607c2===_0x14ce5e(0x20a)?'Net\x20effect':_0x3e5001+_0x14ce5e(0x2fc);let _0x4fba83=0x0;_0x4ce8f7[_0x14ce5e(0x281)](_0x4791fc=>{const _0x39063b=_0x14ce5e;_0x4fba83+=_0x4791fc[_0x39063b(0x31b)]*_0x4791fc[_0x39063b(0x1fb)];});if(_0x2607c2===_0x14ce5e(0x1d1)||_0x2607c2===_0x14ce5e(0x20a)){if(_0x10ca62===_0x14ce5e(0x31c)||_0x10ca62===_0x14ce5e(0x1a2)||_0x10ca62===_0x14ce5e(0x213))_0x4fba83=_0x4fba83*(_0x146ecb===_0x14ce5e(0x2cd)?_0x1bfb4a['eur']:_0x1bfb4a['usd']);else{if(usdBasecoins[_0x14ce5e(0x1b8)](_0x10ca62))_0x4fba83=_0x4fba83*(_0x146ecb===_0x14ce5e(0x2cd)?_0x1bfb4a[_0x14ce5e(0x240)]/_0x1bfb4a[_0x14ce5e(0x303)]:0x1);else _0x10ca62===_0x14ce5e(0x2cd)&&(_0x4fba83=_0x4fba83*(_0x146ecb===_0x14ce5e(0x2cd)?0x1:_0x1bfb4a['usd']/_0x1bfb4a[_0x14ce5e(0x240)]));}}let _0x1c40b3;if(_0x4fba83!==0x0){if(_0x2607c2==='basecoin')_0x1c40b3=(_0x4fba83/startingBalances[_0x14ce5e(0x1ed)]-0x1)*0x64;else{if(_0x146ecb===_0x14ce5e(0x2cd))_0x1c40b3=(_0x4fba83/startingBalances[_0x14ce5e(0x240)]-0x1)*0x64;else _0x1c40b3=(_0x4fba83/startingBalances[_0x14ce5e(0x303)]-0x1)*0x64;}let _0x2e1131=0x0;if(startingBalances[_0x14ce5e(0x259)])_0x4ce8f7[_0x14ce5e(0x281)](_0x2f5e19=>{const _0xb93553=_0x14ce5e;let _0x21324f=startingBalances[_0xb93553(0x259)][_0xb93553(0x322)](_0x2f8b45=>_0x2f8b45[_0xb93553(0x270)]===_0x2f5e19[_0xb93553(0x270)]);if(_0x21324f&&_0x21324f[_0xb93553(0x270)]&&_0x2f5e19['number']!==0x0)_0x2e1131+=_0x21324f['number']*_0x2f5e19[_0xb93553(0x1fb)];});let _0x5494d0=0x0;if(_0x27cf21[_0x14ce5e(0x1e7)]!==0x0){let _0x59d19f=_0x27cf21[_0x27cf21['length']-0x1];_0x5494d0=_0x59d19f[_0x14ce5e(0x1d8)];}_0x2e1131-=_0x5494d0;_0x2607c2===_0x14ce5e(0x1c7)&&(_0x1c40b3=(_0x4fba83-_0x2e1131)/startingBalances[_0x14ce5e(0x1ed)]*0x64,_0x4fba83=_0x4fba83-_0x2e1131);if(_0x2607c2===_0x14ce5e(0x20a)){let _0x1cf43b=_0x146ecb===_0x14ce5e(0x2cd)?startingBalances[_0x14ce5e(0x240)]:startingBalances['usd'];if(_0x10ca62===_0x14ce5e(0x31c)||_0x10ca62==='ETH'||_0x10ca62===_0x14ce5e(0x213))_0x2e1131=_0x146ecb===_0x14ce5e(0x2cd)?_0x2e1131*_0x1bfb4a[_0x14ce5e(0x240)]:_0x2e1131*_0x1bfb4a[_0x14ce5e(0x303)];else{if(usdBasecoins[_0x14ce5e(0x1b8)](_0x10ca62))_0x2e1131=_0x146ecb===_0x14ce5e(0x2cd)?_0x2e1131*_0x1bfb4a[_0x14ce5e(0x240)]/_0x1bfb4a[_0x14ce5e(0x303)]:_0x2e1131;else _0x10ca62===_0x14ce5e(0x2cd)&&(_0x2e1131=_0x146ecb==='EUR'?_0x2e1131:_0x2e1131*_0x1bfb4a[_0x14ce5e(0x303)]/_0x1bfb4a['eur']);}_0x1c40b3=(_0x4fba83-_0x2e1131)/_0x1cf43b*0x64,_0x4fba83=_0x4fba83-_0x2e1131;}if(_0x1c40b3){if(_0x1c40b3<0x64)_0x1c40b3=_0x1c40b3['toFixed'](0x2);else{if(_0x1c40b3<0x3e8)_0x1c40b3=_0x1c40b3[_0x14ce5e(0x31a)](0x1);else _0x1c40b3=_0x1c40b3[_0x14ce5e(0x31a)](0x0);}}else _0x1c40b3=Number('0')[_0x14ce5e(0x31a)](0x2);if(_0x4fba83){if(Math['abs'](_0x4fba83)<0.000001)_0x4fba83=_0x4fba83[_0x14ce5e(0x31a)](0x2);else{if(Math['abs'](_0x4fba83)<0.1)_0x4fba83=_0x4fba83['toFixed'](0x6);else{if(Math[_0x14ce5e(0x33b)](_0x4fba83)<0x1)_0x4fba83=_0x4fba83[_0x14ce5e(0x31a)](0x5);else{if(Math[_0x14ce5e(0x33b)](_0x4fba83)<0xa)_0x4fba83=_0x4fba83['toFixed'](0x4);else{if(Math[_0x14ce5e(0x33b)](_0x4fba83)<0x64)_0x4fba83=_0x4fba83[_0x14ce5e(0x31a)](0x3);else{if(Math[_0x14ce5e(0x33b)](_0x4fba83)<0x3e8)_0x4fba83=_0x4fba83[_0x14ce5e(0x31a)](0x2);else _0x4fba83=_0x4fba83[_0x14ce5e(0x31a)](0x2);}}}}}}else _0x4fba83=Number('0')[_0x14ce5e(0x31a)](0x2);}else _0x1c40b3=Number('0')['toFixed'](0x2);return{'value':_0x4fba83,'change':_0x1c40b3,'leftTxt':_0x37d8e2,'rightTxt':_0x5e8cf8};}async function getStartingBalances(_0x382c2a,_0x5c548a=!![]){const _0x19156a=_0x333401;if(_0x382c2a[_0x19156a(0x1e7)]!==0x0){const [_0x43eaed,_0x30ef08,_0x5e3aec]=getPerf(_0x382c2a[0x0],!![]);let _0xf0b966=[];config['portfolio']['forEach'](_0x36b867=>{const _0x46c22b=_0x19156a;let _0x5373f3=0x0,_0x134bbe;config[_0x46c22b(0x184)][_0x46c22b(0x281)](_0x2f2ea1=>{const _0x4c4e41=_0x46c22b;let _0x484a78=_0x2f2ea1['changes'][_0x4c4e41(0x322)](_0x3effa6=>_0x3effa6[_0x4c4e41(0x270)]==_0x36b867[_0x4c4e41(0x270)]);if(_0x484a78){_0x5373f3+=_0x484a78[_0x4c4e41(0x31b)];if(!_0x134bbe)_0x134bbe=_0x484a78[_0x4c4e41(0x21d)];}}),_0xf0b966[_0x46c22b(0x232)]({'coin':_0x36b867['coin'],'number':_0x5373f3,'initialprice':_0x134bbe});});const _0x201254={'basecoin':_0x43eaed,'eur':_0x30ef08,'usd':_0x5e3aec,'coins':_0xf0b966};if(_0x5c548a)proxyEmit(_0x19156a(0x19e),_0x201254);startingBalances=_0x201254;}}function headlessMode(_0x177ed4){const _0x325f33=_0x333401;let _0x3f99de=_0x177ed4[_0x325f33(0x1cf)],_0x47999e=_0x177ed4[_0x325f33(0x201)],_0x31f791=[];for(let _0x505377 of _0x3f99de){if(_0x505377[_0x325f33(0x270)]!=config[_0x325f33(0x1ed)]){if(_0x505377[_0x325f33(0x251)]>=_0x47999e/0x64){if(_0x505377[_0x325f33(0x17c)])_0x31f791['push'](_0x505377);}else{if(_0x505377[_0x325f33(0x251)]<=-_0x47999e/0x64){if(_0x505377[_0x325f33(0x17c)])_0x31f791[_0x325f33(0x232)](_0x505377);}}}}_0x31f791[_0x325f33(0x1e7)]>0x0&&(lockOrders==ORDERS[_0x325f33(0x17d)]&&!coolingDown&&_0x31f791[_0x325f33(0x281)](_0x24b293=>{const _0xb5e8d9=_0x325f33;logger[_0xb5e8d9(0x32d)](_0xb5e8d9(0x2d0)+_0x24b293[_0xb5e8d9(0x270)]+'\x20'+_0x24b293['number']+'\x20'+_0x24b293[_0xb5e8d9(0x1fb)]+'\x20'+_0x24b293[_0xb5e8d9(0x2e9)]+'%\x20'+_0x24b293['target']+'%\x20'+(0x64*_0x24b293[_0xb5e8d9(0x251)])[_0xb5e8d9(0x31a)](0x2)+'%\x20('+_0x47999e['toFixed'](0x2)+'%)');}),placeOrder(_0x31f791));}function notifyBalance(_0x449fd5){const _0x52187a=_0x333401;let _0xf30ee0=_0x449fd5[_0x52187a(0x1cf)],_0x104797=_0x449fd5[_0x52187a(0x201)],_0x3d9d39=[];for(let _0xa671f1 of _0xf30ee0){if(_0xa671f1[_0x52187a(0x270)]!=config[_0x52187a(0x1ed)]){if(_0xa671f1[_0x52187a(0x251)]>=_0x104797/0x64){if(_0xa671f1[_0x52187a(0x17c)])_0x3d9d39[_0x52187a(0x232)](_0xa671f1);}else{if(_0xa671f1[_0x52187a(0x251)]<=-_0x104797/0x64){if(_0xa671f1[_0x52187a(0x17c)])_0x3d9d39[_0x52187a(0x232)](_0xa671f1);}}}}if(_0x3d9d39[_0x52187a(0x1e7)]>0x0){let _0x90fa94=_0x3d9d39[_0x52187a(0x219)](_0x350c0c=>_0x350c0c['coin']);_0x90fa94[_0x52187a(0x267)]();let _0x23f9dc=_0x90fa94[_0x52187a(0x1be)](',\x20');if(!lastCoinsToBalance)logHistory(_0x52187a(0x1a4),_0x52187a(0x20e));lastCoinsToBalance=_0x23f9dc;}}function symbolToCoin(_0x120e79){const _0x2d407c=_0x333401;let _0x18779d;if(_0x120e79[_0x2d407c(0x1b8)]('/'+config[_0x2d407c(0x1ed)]))_0x18779d=_0x120e79['replace']('/'+config[_0x2d407c(0x1ed)],'');if(_0x120e79['includes'](config[_0x2d407c(0x1ed)]+'/'))_0x18779d=_0x120e79[_0x2d407c(0x33f)](config['basecoin']+'/','');return _0x18779d;}async function unlockOrders(_0x2871d8=![]){const _0x244e55=_0x333401;if(allOrdersPlaced&&lockOrders==ORDERS[_0x244e55(0x2c4)]){logger['debug'](_0x244e55(0x206)),lockOrders=ORDERS[_0x244e55(0x17f)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x2871d8){const _0x1d7368=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1d7368,setBlockTransactionDetection(![]);}validateOrdersState=_0x244e55(0x230),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger['debug'](_0x244e55(0x258));}}async function validateOrders(_0x52ec3d){const _0x282ce8=_0x333401;if(_0x52ec3d)validateOrdersState=_0x52ec3d;logger[_0x282ce8(0x32d)](_0x282ce8(0x286)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x282ce8(0x2a0):lockOrders==0x2?_0x282ce8(0x311):_0x282ce8(0x22c)));let _0x5c0ade=[],_0x45b58b=config['ordertype']==_0x282ce8(0x33c)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x282ce8(0x332)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x282ce8(0x32d)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders['forEach'](_0x3dd38d=>{const _0x253d5a=_0x282ce8;let _0x9d924d=![];_0x3dd38d[_0x253d5a(0x312)]>0x0&&(_0x9d924d=!![]),_0x5c0ade[_0x253d5a(0x232)](_0x9d924d),_0x9d924d&&config[_0x253d5a(0x27d)]!=_0x253d5a(0x33c)&&logHistory(_0x253d5a(0x18f),_0x253d5a(0x222)+_0x3dd38d[_0x253d5a(0x294)]+'\x20'+_0x3dd38d['side']+'\x20#'+formatResult(_0x3dd38d[_0x253d5a(0x312)],0x8)+'\x20@'+formatResult(_0x3dd38d['price'],0x8));}),_0x5c0ade['forEach']((_0x581649,_0x5c1fdf)=>{if(_0x581649)lastOrders['splice'](_0x5c1fdf,0x1);}),persistOpenOrders(lastOrders);const _0xab1228=coolingDown?_0x282ce8(0x31f):_0x282ce8(0x257);if(validateOrdersState=='initial'){validateOrdersState='ongoing';if(_0x5c0ade[_0x282ce8(0x1b8)](![])){if(config[_0x282ce8(0x27d)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x5c0ade['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x282ce8(0x27d)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x5c0ade[_0x282ce8(0x1b8)](![])&&(config[_0x282ce8(0x27d)]=='market'?logHistory(_0x282ce8(0x30e),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x282ce8(0x18a)](_0x45b58b*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0xab1228):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x282ce8(0x18a)](_0x45b58b*validateOrderInterval/0xea60)+_0x282ce8(0x306)+_0xab1228))),await unlockOrders(!![]);else{if(validateOrdersState==_0x282ce8(0x2a5)){if(config[_0x282ce8(0x27d)]!='market')logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0xab1228);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x5ae69c=_0x333401;lastOrders[_0x5ae69c(0x281)](async _0x2a3294=>{const _0x30e505=_0x5ae69c;try{const _0x3e5ecd=await exchange[_0x30e505(0x337)](_0x2a3294[_0x30e505(0x178)],_0x2a3294[_0x30e505(0x294)]);}catch(_0x552fe9){if(_0x552fe9[_0x30e505(0x252)]()[_0x30e505(0x1b8)]('OrderNotFound')){}else await handleError(_0x552fe9,_0x30e505(0x1e2));}});}async function initCoinResults(_0x4fa213){const _0x91d082=_0x333401;_0x4fa213?logger['debug'](_0x91d082(0x2f9)+_0x4fa213):logger[_0x91d082(0x32d)](_0x91d082(0x316)),config['portfolio'][_0x91d082(0x281)](_0x26b07f=>{const _0x2232d8=_0x91d082;if(!_0x26b07f[_0x2232d8(0x25d)]&&_0x26b07f['coin']!=config[_0x2232d8(0x1ed)]){const _0x396184=currentCoins[_0x2232d8(0x322)](_0x2303bd=>_0x2303bd[_0x2232d8(0x270)]==_0x26b07f['coin']),_0x555129=gTicker[noslash(_0x26b07f[_0x2232d8(0x294)])];let _0x202661=_0x396184?_0x396184[_0x2232d8(0x31b)]:null,_0x404fa6=_0x26b07f[_0x2232d8(0x22e)]?0x1/_0x555129:_0x555129,_0x2dcff3;config[_0x2232d8(0x184)]['forEach'](_0x1c764f=>{const _0x53e8f5=_0x2232d8;!_0x2dcff3&&(_0x2dcff3=_0x1c764f[_0x53e8f5(0x176)][_0x53e8f5(0x322)](_0x2c3c5e=>_0x2c3c5e[_0x53e8f5(0x270)]==_0x26b07f[_0x53e8f5(0x270)]),_0x2dcff3&&(_0x202661=_0x2dcff3[_0x53e8f5(0x31b)],_0x404fa6=_0x2dcff3['price']));});let _0x255292=dbCoinResults[_0x2232d8(0x2c9)]('coins')[_0x2232d8(0x322)]({'coin':_0x26b07f[_0x2232d8(0x270)]})[_0x2232d8(0x2b1)]();if(!_0x255292){const _0x36e49a={'coin':_0x26b07f[_0x2232d8(0x270)],'number':_0x202661,'breakeven':_0x404fa6,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x2232d8(0x259))[_0x2232d8(0x232)](_0x36e49a)[_0x2232d8(0x17b)]();}else{if(_0x4fa213&&_0x26b07f[_0x2232d8(0x270)]==_0x4fa213){const _0x45ab81={'coin':_0x26b07f['coin'],'number':_0x202661,'breakeven':_0x404fa6,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2232d8(0x2c9)]('coins')[_0x2232d8(0x322)]({'coin':_0x26b07f[_0x2232d8(0x270)]})[_0x2232d8(0x2fa)](_0x45ab81)[_0x2232d8(0x17b)]();}}}});}async function updateCoinResults(_0x3c814b,_0x11efad=![]){const _0x39c8b0=_0x333401;let _0xd8c10c,_0x1fca0c,_0x2fc1f0,_0x78a9a9,_0x37543e,_0x437b5e,_0x367f3d=dbCoinResults['get'](_0x39c8b0(0x259))['find']({'coin':_0x3c814b[_0x39c8b0(0x270)]})[_0x39c8b0(0x2b1)](),_0x42aa8c=![];_0x367f3d&&Object[_0x39c8b0(0x1dc)](_0x367f3d)[_0x39c8b0(0x281)](([_0xc77d14,_0x5b6483])=>{if(_0x5b6483==null)_0x42aa8c=!![];});(!_0x367f3d||_0x42aa8c)&&(await initCoinResults(_0x3c814b[_0x39c8b0(0x270)]),_0x367f3d=dbCoinResults[_0x39c8b0(0x2c9)](_0x39c8b0(0x259))[_0x39c8b0(0x322)]({'coin':_0x3c814b[_0x39c8b0(0x270)]})[_0x39c8b0(0x2b1)]());_0x3c814b['reverse']&&(_0x437b5e={'filled':_0x3c814b[_0x39c8b0(0x312)]*_0x3c814b[_0x39c8b0(0x21d)],'amount':_0x3c814b[_0x39c8b0(0x312)]*_0x3c814b[_0x39c8b0(0x21d)],'side':_0x3c814b['side']==_0x39c8b0(0x321)?_0x39c8b0(0x2a9):'sell','price':0x1/_0x3c814b[_0x39c8b0(0x21d)]},_0x3c814b={..._0x3c814b,..._0x437b5e});_0x11efad?_0x1fca0c=_0x3c814b['side']==_0x39c8b0(0x2a9)?_0x367f3d['number']+_0x3c814b[_0x39c8b0(0x312)]:_0x367f3d[_0x39c8b0(0x31b)]-_0x3c814b['filled']:_0x1fca0c=await getCoinNumber(_0x3c814b[_0x39c8b0(0x270)]);if(_0x3c814b[_0x39c8b0(0x290)]&&_0x3c814b[_0x39c8b0(0x290)][_0x39c8b0(0x2ec)]==config[_0x39c8b0(0x1ed)])_0xd8c10c=Number(_0x3c814b[_0x39c8b0(0x290)][_0x39c8b0(0x1d9)]);else{if(_0x3c814b[_0x39c8b0(0x290)]&&_0x3c814b[_0x39c8b0(0x290)][_0x39c8b0(0x2ec)]==_0x39c8b0(0x2f3)&&!_0x11efad&&config[_0x39c8b0(0x1ed)]!=_0x39c8b0(0x213))_0xd8c10c=Number(_0x3c814b[_0x39c8b0(0x290)]['cost'])*gTicker[_0x39c8b0(0x2f3)+config['basecoin']];else _0xd8c10c=defaultFee*_0x3c814b[_0x39c8b0(0x312)]*_0x3c814b['price'];}_0x3c814b[_0x39c8b0(0x27c)]=='buy'?(_0x2fc1f0=_0x1fca0c!=0x0?(_0x367f3d[_0x39c8b0(0x1ee)]*_0x367f3d[_0x39c8b0(0x31b)]+_0x3c814b['price']*(_0x1fca0c-_0x367f3d[_0x39c8b0(0x31b)])+_0xd8c10c)/_0x1fca0c:0x0,_0x78a9a9=_0x367f3d[_0x39c8b0(0x2fe)]):(_0x2fc1f0=_0x1fca0c!=0x0?(_0x367f3d[_0x39c8b0(0x1ee)]*_0x367f3d[_0x39c8b0(0x31b)]-_0x3c814b[_0x39c8b0(0x21d)]*(_0x367f3d['number']-_0x1fca0c)+_0xd8c10c)/_0x1fca0c:0x0,_0x78a9a9=_0x367f3d[_0x39c8b0(0x2fe)]+(_0x3c814b[_0x39c8b0(0x21d)]-_0x367f3d[_0x39c8b0(0x1ee)])*_0x3c814b[_0x39c8b0(0x312)]);_0x37543e=(_0x3c814b[_0x39c8b0(0x21d)]-_0x2fc1f0-_0xd8c10c/_0x3c814b[_0x39c8b0(0x312)])*_0x1fca0c;let _0x1329b7={'coin':_0x3c814b[_0x39c8b0(0x270)],'number':_0x1fca0c,'breakeven':formatResult(_0x2fc1f0,0x8),'realized':formatResult(_0x78a9a9,0x8),'unrealized':formatResult(_0x37543e,0x8),'fees':formatResult(_0x367f3d['fees']+_0xd8c10c,0x8),'sells':_0x3c814b[_0x39c8b0(0x27c)]=='sell'?_0x367f3d[_0x39c8b0(0x299)]+0x1:_0x367f3d[_0x39c8b0(0x299)],'buys':_0x3c814b['side']=='buy'?_0x367f3d[_0x39c8b0(0x1ef)]+0x1:_0x367f3d[_0x39c8b0(0x1ef)]};dbCoinResults['get'](_0x39c8b0(0x259))['find']({'coin':_0x3c814b[_0x39c8b0(0x270)]})[_0x39c8b0(0x2fa)](_0x1329b7)[_0x39c8b0(0x17b)]();if(!_0x11efad){if(_0x3c814b[_0x39c8b0(0x290)]&&_0x3c814b[_0x39c8b0(0x290)][_0x39c8b0(0x2ec)]==_0x39c8b0(0x2f3)){const _0x70ab8c=currentCoins[_0x39c8b0(0x322)](_0x5043f7=>_0x5043f7['coin']==_0x39c8b0(0x2f3));if(_0x70ab8c){let _0xe96488=dbCoinResults[_0x39c8b0(0x2c9)](_0x39c8b0(0x259))[_0x39c8b0(0x322)]({'coin':_0x39c8b0(0x2f3)})['value']();_0x1329b7={..._0xe96488,'number':_0x70ab8c['number']},dbCoinResults['get']('coins')['find']({'coin':_0x39c8b0(0x2f3)})['assign'](_0x1329b7)['write']();}}}}async function placeOrder(_0x29f2a6){const _0x368e9c=_0x333401,_0x3b18f2=config['ordertype']=='market'?_0x368e9c(0x33c):_0x368e9c(0x233);if(lockOrders==ORDERS[_0x368e9c(0x17d)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x368e9c(0x2c4)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState='initial';let _0x30f687=![];lastOrders=[];for(const _0x1906c5 of _0x29f2a6){let _0x2c600f,_0x513bf6,_0x13548a,_0x5a5822,_0x2c3492,_0x255b82=_0x1906c5[_0x368e9c(0x294)];try{const _0x11327d=await exchange[_0x368e9c(0x26e)](_0x255b82);_0x2c600f=_0x1906c5[_0x368e9c(0x22e)]?0x1/_0x1906c5[_0x368e9c(0x1fb)]:_0x1906c5['last'],_0x513bf6=_0x11327d['bid'],_0x13548a=_0x11327d[_0x368e9c(0x174)];_0x1906c5[_0x368e9c(0x22e)]?(_0x5a5822=_0x1906c5['side']=='buy'?_0x368e9c(0x321):_0x368e9c(0x2a9),_0x2c3492=Math['abs'](_0x1906c5[_0x368e9c(0x282)])/_0x2c600f):(_0x5a5822=_0x1906c5[_0x368e9c(0x27c)],_0x2c3492=Math['abs'](_0x1906c5['trade']));_0x3b18f2==_0x368e9c(0x233)&&(config['ordertype']==_0x368e9c(0x212)&&(_0x2c600f=_0x5a5822==_0x368e9c(0x2a9)?_0x513bf6:_0x13548a),config[_0x368e9c(0x27d)]=='limit-low'&&(_0x2c600f=_0x5a5822=='buy'?_0x13548a:_0x513bf6));_0x2c3492=formatResult(_0x2c3492,0x8),_0x2c600f=formatResult(_0x2c600f,0x8);const _0x1ca6ca=_0x5a5822==_0x368e9c(0x321)?config[_0x368e9c(0x2db)]?String['fromCodePoint']('0x'+config[_0x368e9c(0x2db)])+'\x20':'':config['emojibuy']?String[_0x368e9c(0x1de)]('0x'+config[_0x368e9c(0x256)])+'\x20':'',_0x2084aa=_0x3b18f2=='market'?'Market':config[_0x368e9c(0x27d)]==_0x368e9c(0x212)?_0x368e9c(0x22f):_0x368e9c(0x239),_0x37aea5=(Math[_0x368e9c(0x2d6)](Math[_0x368e9c(0x1ec)]()*0x35a4e900)+0x5f5e100)[_0x368e9c(0x252)]();lastOrders[_0x368e9c(0x232)]({'customId':_0x37aea5,'symbol':_0x255b82,'coin':_0x1906c5['coin'],'amount':_0x2c3492,'price':_0x2c600f,'side':_0x5a5822,'reverse':_0x1906c5[_0x368e9c(0x22e)],'filled':0x0});if(_0x3b18f2=='market')logHistory(_0x368e9c(0x18f),''+_0x1ca6ca+_0x2084aa+_0x368e9c(0x26f)+_0x255b82+'\x20'+_0x5a5822+'\x20#'+formatResult(_0x2c3492,0x8)+'\x20@'+formatResult(_0x2c600f,0x8));else logHistory(_0x368e9c(0x18f),''+_0x1ca6ca+_0x2084aa+_0x368e9c(0x26f)+_0x255b82+'\x20'+_0x5a5822+'\x20#'+formatResult(_0x2c3492,0x8)+'\x20@'+formatResult(_0x2c600f,0x8));let _0x1aedaa;_0x3b18f2==_0x368e9c(0x33c)?_0x5a5822=='buy'&&[_0x368e9c(0x227),_0x368e9c(0x283),_0x368e9c(0x2b5),_0x368e9c(0x27a),_0x368e9c(0x272)]['includes'](config['exchange'])?_0x1aedaa=await exchange['createOrder'](_0x255b82,_0x3b18f2,_0x5a5822,_0x2c3492,_0x2c600f):_0x1aedaa=await exchange[_0x368e9c(0x193)](_0x255b82,_0x3b18f2,_0x5a5822,_0x2c3492,undefined):_0x1aedaa=await exchange[_0x368e9c(0x193)](_0x255b82,_0x3b18f2,_0x5a5822,_0x2c3492,_0x2c600f);logger[_0x368e9c(0x32d)](_0x368e9c(0x1f2)+_0x1aedaa['id']+_0x368e9c(0x1df)+_0x37aea5);const _0x9a4299=lastOrders['length']-0x1;if(_0x9a4299>=0x0&&lastOrders[_0x9a4299][_0x368e9c(0x1b0)]==_0x37aea5){lastOrders[_0x9a4299][_0x368e9c(0x178)]=_0x1aedaa['id'];if(_0x1aedaa[_0x368e9c(0x2d4)])lastOrders[_0x9a4299][_0x368e9c(0x2d4)]=_0x1aedaa[_0x368e9c(0x2d4)];if(_0x1aedaa[_0x368e9c(0x21d)])lastOrders[_0x9a4299][_0x368e9c(0x21d)]=_0x1aedaa[_0x368e9c(0x21d)];lastOrders[_0x9a4299]['fee']=_0x1aedaa[_0x368e9c(0x290)];}if(config[_0x368e9c(0x194)]!=0x0){let _0x14e4d0=null;if(cooldownTracker['length']==config[_0x368e9c(0x194)]-0x1)_0x14e4d0=cooldownTracker[_0x368e9c(0x2a7)]();const _0x215b8b=getTimeStamp();cooldownTracker[_0x368e9c(0x232)](_0x215b8b);if(_0x14e4d0){const _0xab0d6b=fns[_0x368e9c(0x310)](new Date(_0x215b8b),new Date(_0x14e4d0));if(_0xab0d6b<cooldownInterval){logHistory('error',_0x368e9c(0x242)+config['cooldown']+_0x368e9c(0x2e4)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x368e9c(0x2e2)),coolingDown=!![];break;}}}}catch(_0x328d6d){if(_0x328d6d['toString']()[_0x368e9c(0x1b8)](_0x368e9c(0x307)))lastOrders=lastOrders[_0x368e9c(0x340)](_0x23b3cf=>_0x23b3cf[_0x368e9c(0x294)]!=_0x255b82),logHistory(_0x368e9c(0x266),_0x368e9c(0x343)+_0x255b82),_0x30f687=!![];else{if(_0x328d6d[_0x368e9c(0x252)]()[_0x368e9c(0x1b8)](_0x368e9c(0x22b)))lastOrders=lastOrders[_0x368e9c(0x340)](_0x3a6754=>_0x3a6754[_0x368e9c(0x294)]!=_0x255b82),logHistory(_0x368e9c(0x266),_0x368e9c(0x331)+_0x255b82),_0x30f687=!![];else{if(_0x328d6d[_0x368e9c(0x252)]()[_0x368e9c(0x1b8)](_0x368e9c(0x1a8)))lastOrders=lastOrders['filter'](_0x3d94cc=>_0x3d94cc[_0x368e9c(0x294)]!=_0x255b82),logHistory(_0x368e9c(0x266),_0x368e9c(0x1b3)+_0x255b82),logger[_0x368e9c(0x32d)](_0x328d6d),_0x30f687=!![];else _0x328d6d[_0x368e9c(0x252)]()[_0x368e9c(0x1b8)](_0x368e9c(0x329))?(lastOrders=lastOrders[_0x368e9c(0x340)](_0x1f55fc=>_0x1f55fc[_0x368e9c(0x294)]!=_0x255b82),logHistory(_0x368e9c(0x266),_0x368e9c(0x343)+_0x255b82),_0x30f687=!![]):(lastOrders=lastOrders[_0x368e9c(0x340)](_0x2915db=>_0x2915db[_0x368e9c(0x294)]!=_0x255b82),await handleError(_0x328d6d,_0x368e9c(0x2f6),_0x255b82));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5966b0=config[_0x368e9c(0x27d)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x368e9c(0x332)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x18bff8=_0x368e9c;validateOrders(_0x18bff8(0x210));},_0x5966b0);}else unlockOrders();_0x30f687&&config['headless']&&(logHistory(_0x368e9c(0x266),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x368e9c(0x30e),_0x368e9c(0x2bb)));}else{if(coolingDown)!config[_0x368e9c(0x29e)]&&logHistory('error',_0x368e9c(0x1f9));else lockOrders!=ORDERS[_0x368e9c(0x17d)]&&(!config[_0x368e9c(0x29e)]&&(config['ordertype']==_0x368e9c(0x33c)?logHistory(_0x368e9c(0x266),_0x368e9c(0x1da)):logHistory(_0x368e9c(0x266),_0x368e9c(0x1fe))));}}function persistOpenOrders(_0x216912){const _0x2b5437=_0x333401,_0xe990f2={...config,'openOrders':_0x216912};let _0x308b3e=dbConfig['get'](_0x2b5437(0x28b))[_0x2b5437(0x322)]({'botID':botID})['value']();_0x308b3e&&dbConfig[_0x2b5437(0x2c9)](_0x2b5437(0x28b))[_0x2b5437(0x322)]({'botID':botID})['assign'](_0xe990f2)['write']();}function restoreOrders(){const _0x3f69bf=_0x333401;let _0x48f72d;config[_0x3f69bf(0x1a3)]&&allOpenOrders[_0x3f69bf(0x281)](_0x50adcc=>{const _0x2dbcba=_0x3f69bf,_0xf1cb44=config[_0x2dbcba(0x1a3)][_0x2dbcba(0x322)](_0x38c849=>_0x38c849[_0x2dbcba(0x178)]==_0x50adcc['id']);_0xf1cb44&&(lastOrders[_0x2dbcba(0x232)](_0xf1cb44),_0x48f72d=_0x50adcc[_0x2dbcba(0x1af)]);});if(lastOrders[_0x3f69bf(0x1e7)]>0x0){lockOrders=ORDERS[_0x3f69bf(0x2c4)],validateOrdersState=_0x3f69bf(0x334),allOrdersPlaced=!![];const _0x3efbfb=new Date()[_0x3f69bf(0x2ac)](),_0x2453ff=config[_0x3f69bf(0x27d)]==_0x3f69bf(0x33c)?validateOrderTimeout*0x3c*0x3e8:config[_0x3f69bf(0x332)]*0x3c*0x3e8;if(_0x48f72d+_0x2453ff>_0x3efbfb){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x48f72d+_0x2453ff-_0x3efbfb);}else validateOrders(_0x3f69bf(0x210));}}async function sendMetricsTelegram(){const _0x394fc4=_0x333401;if(!coinsLoaded){process[_0x394fc4(0x1d4)]({'telegrammsg':_0x394fc4(0x1c5)},_0x3d79da=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x37c715='';if(config[_0x394fc4(0x25a)])_0x37c715='<b>'+config[_0x394fc4(0x237)]+_0x394fc4(0x2bd);else _0x37c715=_0x394fc4(0x25f)+botID+_0x394fc4(0x2bd);const _0x5e8f69=getKPIs(_0x394fc4(0x1ed)),_0x1dc121=getKPIs(_0x394fc4(0x1d1),config[_0x394fc4(0x1d1)]),_0x2ade0b=getKPIs(_0x394fc4(0x1c7)),_0x49ff84=getKPIs(_0x394fc4(0x20a),config[_0x394fc4(0x1d1)]);_0x37c715+=_0x394fc4(0x2c1),_0x37c715+=_0x5e8f69['leftTxt']+_0x394fc4(0x2f8)+_0x5e8f69[_0x394fc4(0x2b1)]+'\x0a',_0x37c715+=_0x5e8f69['rightTxt']+':\x20'+_0x5e8f69[_0x394fc4(0x318)]+'%\x0a',_0x37c715+=_0x1dc121[_0x394fc4(0x202)]+_0x394fc4(0x2f8)+_0x1dc121['value']+'\x0a',_0x37c715+=_0x1dc121[_0x394fc4(0x218)]+':\x20'+_0x1dc121['change']+'%\x0a',_0x37c715+=_0x2ade0b[_0x394fc4(0x202)]+':\x20'+_0x2ade0b['value']+'\x20('+config[_0x394fc4(0x1ed)]+')\x0a',_0x37c715+=_0x2ade0b[_0x394fc4(0x218)]+':\x20'+_0x2ade0b['change']+_0x394fc4(0x314)+config['basecoin']+')\x0a',_0x37c715+=_0x49ff84[_0x394fc4(0x202)]+':\x20'+_0x49ff84['value']+'\x20('+config[_0x394fc4(0x1d1)]+')\x0a',_0x37c715+=_0x49ff84[_0x394fc4(0x218)]+':\x20'+_0x49ff84[_0x394fc4(0x318)]+_0x394fc4(0x314)+config['fiat']+')\x0a',_0x37c715+=_0x394fc4(0x2ae),process['send']({'telegrammsg':_0x37c715},_0x234f3c=>{});}async function sendPortfolioTelegram(){const _0x2b7365=_0x333401;if(!coinsLoaded||!currentCoins[0x0][_0x2b7365(0x2e9)]){process[_0x2b7365(0x1d4)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0xa80239=>{});return;}let _0x4db33c='';if(config[_0x2b7365(0x25a)])_0x4db33c=_0x2b7365(0x2ad)+config[_0x2b7365(0x237)]+_0x2b7365(0x2c8);else _0x4db33c='<b>Bot\x20'+botID+_0x2b7365(0x2c8);_0x4db33c+='<pre>',_0x4db33c+=_0x2b7365(0x2cb),_0x4db33c+=_0x2b7365(0x236),_0x4db33c+=_0x2b7365(0x2cb),currentCoins[_0x2b7365(0x281)](_0x4c2506=>{const _0xb01263=_0x2b7365;_0x4db33c+=_0x4c2506[_0xb01263(0x270)][_0xb01263(0x2b8)](0x7)+'|\x20'+formatPad(_0x4c2506[_0xb01263(0x2e9)],0x2,0x6)+'|\x20'+formatPad(_0x4c2506[_0xb01263(0x2c5)],0x2,0x6)+'|\x20'+formatPad(_0x4c2506[_0xb01263(0x251)]*0x64,0x2,0x6)+'\x0a';}),_0x4db33c+='</pre>',process[_0x2b7365(0x1d4)]({'telegrammsg':_0x4db33c},_0x10788a=>{});}function formatPad(_0x37d3ff,_0x71dfcf,_0x548db9){const _0x1932c9=_0x333401,_0x255635=formatResultString(_0x37d3ff,_0x71dfcf);return _0x255635?_0x255635[_0x1932c9(0x1f0)](_0x548db9):''[_0x1932c9(0x1f0)](_0x548db9);}function logHistory(_0xc05259,_0x48e831,_0x24bfb5=''){const _0x3fe9e7=_0x333401;logger[_0x3fe9e7(0x315)](''+_0x48e831);let _0x1a58fe={'time':getTimeStamp(),'type':_0xc05259,'event':_0x48e831};dbLogs[_0x3fe9e7(0x2c9)](_0x3fe9e7(0x287))[_0x3fe9e7(0x232)](_0x1a58fe)[_0x3fe9e7(0x17b)]();if(_0x24bfb5=='')_0x24bfb5=_0x48e831;proxyEmit(_0x3fe9e7(0x275),{'log':_0x1a58fe,'summary':_0x24bfb5}),process[_0x3fe9e7(0x1d4)]({'telegram':{..._0x1a58fe,'botname':config['botname'],'showname':config[_0x3fe9e7(0x25a)]}},_0x586d5f=>{});}function emitHistory(_0x312fb5={}){const _0x25641b=_0x333401;Object[_0x25641b(0x1aa)](_0x312fb5)[_0x25641b(0x1e7)]==0x0&&(_0x312fb5={'type':[_0x25641b(0x18f),_0x25641b(0x275)],'event':'','page':0x1});if(_0x312fb5[_0x25641b(0x1f1)][_0x25641b(0x1b8)](_0x25641b(0x275)))_0x312fb5[_0x25641b(0x1f1)]['splice'](_0x312fb5[_0x25641b(0x1f1)][_0x25641b(0x2da)](_0x25641b(0x275)),0x1,_0x25641b(0x266),'warning',_0x25641b(0x30e));if(dbLogs[_0x25641b(0x32e)](_0x25641b(0x287))[_0x25641b(0x2b1)]()){let _0x5f58f5=dbLogs[_0x25641b(0x2c9)](_0x25641b(0x287))['filter'](_0xb8dc7=>{const _0x3f6578=_0x25641b;if(_0x312fb5[_0x3f6578(0x1f1)]['length']==0x0)return![];else return _0x312fb5[_0x3f6578(0x1f1)][_0x3f6578(0x1b8)](_0xb8dc7['type']);})[_0x25641b(0x340)](_0x2a7478=>{const _0xf38add=_0x25641b;if(_0x312fb5['event']=='')return!![];else return _0x2a7478['event'][_0xf38add(0x1dd)]()['includes'](_0x312fb5[_0xf38add(0x275)]['toLowerCase']());})[_0x25641b(0x324)](_0x25641b(0x305)),_0x97562e=_0x5f58f5[_0x25641b(0x2b1)]()[_0x25641b(0x1e7)];_0x5f58f5=_0x5f58f5[_0x25641b(0x22e)]()[_0x25641b(0x24f)]((_0x312fb5[_0x25641b(0x238)]-0x1)*logPageSize,_0x312fb5[_0x25641b(0x238)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x25641b(0x2d1),{'logs':_0x5f58f5,'total':_0x97562e});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4ff5d8){const _0x588ff8=_0x333401;if(dbLogs[_0x588ff8(0x32e)](_0x588ff8(0x287))[_0x588ff8(0x2b1)]()){const _0x2957a6=dbLogs[_0x588ff8(0x2c9)](_0x588ff8(0x287))[_0x588ff8(0x324)](_0x588ff8(0x305))[_0x588ff8(0x340)](_0x24a249=>{const _0x477098=_0x588ff8;return _0x24a249['type']==_0x477098(0x18f);})[_0x588ff8(0x2b1)]();dbLogs[_0x588ff8(0x2c9)](_0x588ff8(0x287))['remove']()[_0x588ff8(0x17b)](),dbLogs[_0x588ff8(0x2c9)]('logs')[_0x588ff8(0x2fa)](_0x2957a6)['write'](),emitHistory(_0x4ff5d8);}}async function pauseBot(_0xa29800=pauseBotIntervalShort,_0x51f888,_0x2bda01,_0x51b605=![]){const _0x33a3ab=_0x333401,_0x1c6c6f=new Date()['getTime']();if(!lastErrorShown||_0x1c6c6f-lastErrorShown>=_0xa29800){lastErrorShown=_0x1c6c6f;if(!lastBotPause)lastBotPause=_0x1c6c6f,consecutivePauses=0x1;else{if(_0x1c6c6f-lastBotPause-_0xa29800<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x51b605){logHistory('error',_0x51f888+_0x33a3ab(0x276)),await killBot();return;}else logHistory('error',_0x51f888+pauseBotMsg),_0xa29800=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x1c6c6f;}_0x2bda01?logger[_0x33a3ab(0x32d)]('('+consecutivePauses+')\x20'+_0x51f888+_0x33a3ab(0x186),_0x2bda01):logger[_0x33a3ab(0x32d)]('('+consecutivePauses+')\x20'+_0x51f888);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0xa29800),botPaused=![],_0xa29800==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x2c3ea4=_0x333401;botPaused=!![],await sleep(0x3e8),process[_0x2c3ea4(0x1d4)]({'stop':_0x2c3ea4(0x1f6)},_0x5df823=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2be166,_0x2e680a){const _0x34f794=_0x333401;if(botPaused)return;const _0x49e325=config[_0x34f794(0x189)]||_0x34f794(0x277);if(_0x2e680a)logger[_0x34f794(0x32d)]('Exception\x20thrown\x20in\x20'+_0x2e680a);const _0x467612=()=>{const _0x11f787=_0x34f794;loading[_0x11f787(0x266)]=!![],emitLoadingProgress();};if(_0x2be166[_0x34f794(0x252)]()[_0x34f794(0x1b8)](_0x34f794(0x296)))logHistory(_0x34f794(0x266),_0x49e325+_0x34f794(0x2b2)),_0x467612();else{if(_0x2be166[_0x34f794(0x252)]()[_0x34f794(0x1b8)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x34f794(0x266),_0x49e325+_0x34f794(0x211)),_0x467612();else _0x2be166['toString']()[_0x34f794(0x1b8)](_0x34f794(0x1e6))?(logHistory(_0x34f794(0x266),_0x49e325+_0x34f794(0x2dd)),logHistory('error',_0x34f794(0x196)),_0x467612()):await handleError(_0x2be166,null);}}async function handleError(_0xf78688,_0x45a299,_0x111b90=''){const _0x1f9076=_0x333401;if(botPaused)return;let _0x3967e3;const _0x1f629d=config['exchange']||'Exchange';if(_0x45a299)logger[_0x1f9076(0x32d)](_0x1f9076(0x2e1)+_0x45a299);if(_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1b8)]('DDoSProtection'))_0x3967e3=_0x1f629d+_0x1f9076(0x265),await pauseBot(undefined,_0x3967e3,_0xf78688);else{if(_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1b8)](_0x1f9076(0x295)))_0x3967e3=_0x1f629d+_0x1f9076(0x323),await pauseBot(undefined,_0x3967e3,_0xf78688);else{if(_0xf78688['toString']()[_0x1f9076(0x1b8)](_0x1f9076(0x2ef))||_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1b8)](_0x1f9076(0x333)))_0x3967e3=_0x1f629d+_0x1f9076(0x217),await pauseBot(undefined,_0x3967e3,_0xf78688['toString']());else{if(_0xf78688[_0x1f9076(0x252)]()['includes'](_0x1f9076(0x1bd)))_0x3967e3=_0x1f629d+_0x1f9076(0x177),await pauseBot(undefined,_0x3967e3,_0xf78688['toString']());else{if(_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1b8)](_0x1f9076(0x21b)))_0x3967e3=_0x1f629d+_0x1f9076(0x271),await pauseBot(undefined,_0x3967e3,_0xf78688[_0x1f9076(0x252)]());else{if(_0xf78688['toString']()[_0x1f9076(0x1dd)]()[_0x1f9076(0x1b8)]('timestamp')||_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1dd)]()[_0x1f9076(0x1b8)]('request-time'))_0x3967e3=_0x1f9076(0x1ba),await pauseBot(undefined,_0x3967e3,_0xf78688[_0x1f9076(0x252)]());else{if(_0xf78688['toString']()[_0x1f9076(0x1b8)]('InvalidNonce'))_0x3967e3=_0x1f629d+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',await pauseBot(undefined,_0x3967e3,_0xf78688['toString']());else{if(_0xf78688 instanceof ccxt[_0x1f9076(0x254)])_0x3967e3=_0x1f629d+_0x1f9076(0x187)+_0xf78688['toString'](),logger[_0x1f9076(0x32d)](_0x1f9076(0x1a5),_0xf78688),await pauseBot(undefined,_0x3967e3,_0xf78688);else{if(_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1b8)](_0x1f9076(0x296)))logHistory(_0x1f9076(0x266),_0x1f629d+'\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x1f9076(0x22a)),await killBot();else{if(_0xf78688['toString']()['includes'](_0x1f9076(0x1b4)))logHistory('error',_0x1f629d+_0x1f9076(0x192)),logHistory(_0x1f9076(0x266),_0x1f9076(0x22a)),await killBot();else{if(_0xf78688['toString']()[_0x1f9076(0x1b8)](_0x1f9076(0x1e6))&&_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1b8)](_0x1f9076(0x345)))_0x3967e3=_0x1f629d+_0x1f9076(0x1ac),await pauseBot(undefined,_0x3967e3,_0xf78688,!![]);else{if(_0xf78688[_0x1f9076(0x252)]()[_0x1f9076(0x1b8)](_0x1f9076(0x1e6)))config[_0x1f9076(0x330)]?_0x3967e3=_0x1f629d+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x3967e3=_0x1f629d+_0x1f9076(0x1d0),logHistory(_0x1f9076(0x266),_0x3967e3),logHistory(_0x1f9076(0x266),_0x1f9076(0x22a)),await killBot();else{if(_0xf78688['toString']()[_0x1f9076(0x1b8)](_0x1f9076(0x30a)))logHistory('error',_0x1f629d+_0x1f9076(0x320)),logHistory(_0x1f9076(0x266),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0xf78688[_0x1f9076(0x252)]()['includes'](_0x1f9076(0x224)))logHistory(_0x1f9076(0x266),_0x1f9076(0x300)+_0x111b90);else{if(_0xf78688 instanceof ccxt[_0x1f9076(0x1f7)]){_0x3967e3=_0x1f629d+_0x1f9076(0x31d)+_0xf78688[_0x1f9076(0x252)](),logHistory('error',_0x3967e3),logger[_0x1f9076(0x32d)](_0x1f9076(0x30c),_0xf78688);if(_0x111b90)logger['debug'](_0x1f9076(0x203)+_0x111b90);await pauseBot(undefined,_0x3967e3,_0xf78688);}else{_0x3967e3=_0x1f9076(0x2b4)+_0xf78688[_0x1f9076(0x252)](),logHistory('error',_0x3967e3),logger[_0x1f9076(0x32d)](_0x3967e3+_0x1f9076(0x186),_0xf78688);if(_0x111b90)logger[_0x1f9076(0x32d)]('Symbol(s):\x20'+_0x111b90);await pauseBot(undefined,_0x3967e3);}}}}}}}}}}}}}}}}function decryptRSA(_0x3963e9,_0x51f01c){const _0x258282=_0x333401,_0x1834b5=forge[_0x258282(0x221)][_0x258282(0x2b6)](_0x3963e9),_0x11fb57=_0x1834b5[_0x258282(0x298)](forge[_0x258282(0x207)][_0x258282(0x326)](_0x51f01c),_0x258282(0x1ae),{'md':forge['md'][_0x258282(0x1b1)][_0x258282(0x195)](),'mgf1':{'md':forge['md'][_0x258282(0x1b1)][_0x258282(0x195)]()}});return _0x11fb57;}async function withRetry(_0x50c93c,_0x3e9147){const _0x3d5170=_0x333401;let _0xb2eefd=![],_0x3838dc=0x0,_0x47253f,_0x45ca65;while(_0x3838dc<maxRetries){try{_0x47253f=await _0x3e9147();break;}catch(_0x40a764){_0x45ca65=_0x40a764,!_0xb2eefd?(_0xb2eefd=!![],logger[_0x3d5170(0x32d)](_0x3d5170(0x23c)+_0x50c93c+':',_0x40a764[_0x3d5170(0x252)]())):await sleep(retryInterval);}_0x3838dc++;}if(_0x3838dc==0x0)return _0x47253f;if(_0x3838dc>=maxRetries)throw _0x45ca65;else return logger[_0x3d5170(0x32d)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x3838dc+_0x3d5170(0x1fa)),_0x47253f;}function formatResult(_0x3008f7,_0x290bfb){const _0x5626e7=_0x333401;return parseFloat(_0x3008f7[_0x5626e7(0x31a)](_0x290bfb));}function formatResultTruncate(_0x143f85,_0x181ce0){const _0x345e60=_0x333401;let _0x531b75=formatResultString(_0x143f85,0xa),_0x374b93=_0x531b75[_0x345e60(0x2da)]('.');return _0x374b93!=-0x1&&(_0x531b75=_0x531b75['slice'](0x0,_0x374b93+_0x181ce0+0x1)),Number(_0x531b75);}function formatResultString(_0x14b6cf,_0x352cf8){const _0x1a0d44=_0x333401;let _0x3beb7d;if(!(''+_0x14b6cf)[_0x1a0d44(0x1b8)]('e'))_0x3beb7d=+(Math['round'](_0x14b6cf+'e+'+_0x352cf8)+'e-'+_0x352cf8);else{let _0x312e28=(''+_0x14b6cf)[_0x1a0d44(0x19d)]('e'),_0x1b2834='';+_0x312e28[0x1]+_0x352cf8>0x0&&(_0x1b2834='+'),_0x3beb7d=+(Math['round'](+_0x312e28[0x0]+'e'+_0x1b2834+(+_0x312e28[0x1]+_0x352cf8))+'e-'+_0x352cf8);}return Number(_0x3beb7d)[_0x1a0d44(0x31a)](_0x352cf8);}function getServerTime(){const _0x15993f=_0x333401,_0x5e2934=new Date();return _0x5e2934[_0x15993f(0x26b)]()+'/'+(_0x5e2934[_0x15993f(0x18c)]()+0x1)[_0x15993f(0x252)]()['padStart'](0x2,'0')+'/'+_0x5e2934[_0x15993f(0x1a9)]()[_0x15993f(0x252)]()[_0x15993f(0x1f0)](0x2,'0')+'\x20'+_0x5e2934['getHours']()[_0x15993f(0x252)]()[_0x15993f(0x1f0)](0x2,'0')+':'+_0x5e2934['getMinutes']()['toString']()['padStart'](0x2,'0')+':'+_0x5e2934['getSeconds']()[_0x15993f(0x252)]()[_0x15993f(0x1f0)](0x2,'0');}function getTimeStamp(){const _0x23c4fd=_0x333401,_0x1ec2a9=shiftedTime();return _0x1ec2a9['getFullYear']()+'/'+(_0x1ec2a9['getMonth']()+0x1)[_0x23c4fd(0x252)]()[_0x23c4fd(0x1f0)](0x2,'0')+'/'+_0x1ec2a9[_0x23c4fd(0x1a9)]()['toString']()[_0x23c4fd(0x1f0)](0x2,'0')+'\x20'+_0x1ec2a9[_0x23c4fd(0x21e)]()['toString']()['padStart'](0x2,'0')+':'+_0x1ec2a9['getMinutes']()[_0x23c4fd(0x252)]()[_0x23c4fd(0x1f0)](0x2,'0')+':'+_0x1ec2a9[_0x23c4fd(0x2ba)]()[_0x23c4fd(0x252)]()[_0x23c4fd(0x1f0)](0x2,'0');}function getDate(){const _0x3a1576=_0x333401,_0x245b7b=shiftedTime();return _0x245b7b[_0x3a1576(0x26b)]()+'/'+(_0x245b7b[_0x3a1576(0x18c)]()+0x1)['toString']()[_0x3a1576(0x1f0)](0x2,'0')+'/'+_0x245b7b[_0x3a1576(0x1a9)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0xf49f4c=_0x333401,_0x573953=shiftedTime();return _0x573953[_0xf49f4c(0x21e)]()['toString']()[_0xf49f4c(0x1f0)](0x2,'0');}function sleep(_0x1b77fb){return new Promise(_0x5295a0=>setTimeout(_0x5295a0,_0x1b77fb));}function shiftedTime(){const _0x41d327=_0x333401,_0x43d549=new Date();let _0x429d51=_0x43d549;if(config&&config[_0x41d327(0x183)]!==0x0)_0x429d51=fns['add'](_0x43d549,{'hours':config[_0x41d327(0x183)]});return _0x429d51;}function timer(_0x3ff418){const _0xb4c576=_0x333401,_0x14a974=new Date();!lasttime?console[_0xb4c576(0x2d7)](getTimeStamp()+_0xb4c576(0x2a6),_0x3ff418,_0x14a974):console[_0xb4c576(0x2d7)](getTimeStamp()+_0xb4c576(0x2a6),_0x3ff418,(_0x14a974-lasttime)/0x3e8),lasttime=_0x14a974;}