const _0x4ca2fb=_0xa054;(function(_0x37ecd5,_0x52ea73){const _0x27864d=_0xa054,_0x4e9dcd=_0x37ecd5();while(!![]){try{const _0x2ce57f=parseInt(_0x27864d(0x2eb))/0x1*(-parseInt(_0x27864d(0x1b3))/0x2)+-parseInt(_0x27864d(0x233))/0x3+-parseInt(_0x27864d(0x2a6))/0x4+parseInt(_0x27864d(0x260))/0x5*(-parseInt(_0x27864d(0x252))/0x6)+parseInt(_0x27864d(0x2a5))/0x7*(parseInt(_0x27864d(0x289))/0x8)+parseInt(_0x27864d(0x15f))/0x9*(-parseInt(_0x27864d(0x258))/0xa)+parseInt(_0x27864d(0x282))/0xb;if(_0x2ce57f===_0x52ea73)break;else _0x4e9dcd['push'](_0x4e9dcd['shift']());}catch(_0x519c31){_0x4e9dcd['push'](_0x4e9dcd['shift']());}}}(_0x4cd5,0x7f317));const _0x584fc9=function(){let _0x374565=!![];return function(_0x7fb658,_0x96e68c){const _0x5b1d2f=_0x374565?function(){const _0xdb870=_0xa054;if(_0x96e68c){const _0xc3ef55=_0x96e68c[_0xdb870(0x157)](_0x7fb658,arguments);return _0x96e68c=null,_0xc3ef55;}}:function(){};return _0x374565=![],_0x5b1d2f;};}(),_0x3b8148=_0x584fc9(this,function(){const _0x590f74=_0xa054;return _0x3b8148[_0x590f74(0x1f0)]()['search'](_0x590f74(0x1f6))[_0x590f74(0x1f0)]()[_0x590f74(0x231)](_0x3b8148)[_0x590f74(0x279)](_0x590f74(0x1f6));});_0x3b8148();'use strict';const ccxt=require('ccxt'),low=require(_0x4ca2fb(0x1cd)),FileSync=require(_0x4ca2fb(0x2f9)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x4ca2fb(0x221))[_0x4ca2fb(0x2fc)],util=require(_0x4ca2fb(0x1a0)),argv=require(_0x4ca2fb(0x291))(process[_0x4ca2fb(0x1c3)][_0x4ca2fb(0x204)](0x2))[_0x4ca2fb(0x1c3)],path=require(_0x4ca2fb(0x21e)),axios=require('axios');let exchange;global[_0x4ca2fb(0x27b)]={},global[_0x4ca2fb(0x26f)]={};const usdBasecoins=[_0x4ca2fb(0x198),_0x4ca2fb(0x1b5),_0x4ca2fb(0x1ef),_0x4ca2fb(0x1fd),_0x4ca2fb(0x1e4),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x4ca2fb(0x18f)+pauseBotInterval/0xea60+_0x4ca2fb(0x18a),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require('./version.json')['version'],botID=process[_0x4ca2fb(0x1c3)][0x2]||_0x4ca2fb(0x2dc),pattern=/^[0-9]{3}$/;!pattern[_0x4ca2fb(0x1e0)](botID)&&(console[_0x4ca2fb(0x2dd)](_0x4ca2fb(0x15c)+botID+_0x4ca2fb(0x2d1)),killBot());const userID=process[_0x4ca2fb(0x1c3)][0x3]||'',configpath=userID?_0x4ca2fb(0x184)+userID+'/':_0x4ca2fb(0x184),logspath=userID?_0x4ca2fb(0x247)+userID+'/':_0x4ca2fb(0x247),loggerfile=fs[_0x4ca2fb(0x271)](logspath+_0x4ca2fb(0x2ec),{'flags':'a'});!fs[_0x4ca2fb(0x2a9)](configpath)&&fs[_0x4ca2fb(0x294)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x4ca2fb(0x2c7)+botID+_0x4ca2fb(0x167),logfile=configpath+_0x4ca2fb(0x2c7)+botID+'-events.json',performancefile=configpath+_0x4ca2fb(0x2c7)+botID+_0x4ca2fb(0x1dc),coinresultsfile=configpath+_0x4ca2fb(0x2c7)+botID+_0x4ca2fb(0x2a7),settingsfile=configpath+_0x4ca2fb(0x2d0),securefile=configpath+_0x4ca2fb(0x1de),configbackuppath=configpath+_0x4ca2fb(0x23e),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x4ca2fb(0x179)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x4ca2fb(0x179)]({'data':[],'version':serverversion})[_0x4ca2fb(0x238)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x4ca2fb(0x179)]({'bot':[],'version':serverversion})[_0x4ca2fb(0x238)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x4ca2fb(0x238)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x4ca2fb(0x217),'rsaStandard':_0x4ca2fb(0x15a)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x21962d=>{const _0x2587b6=_0x4ca2fb;console[_0x2587b6(0x2dd)](_0x21962d);},'simple':_0x5cd226=>{const _0x5e5741=_0x4ca2fb;console['log'](_0x5cd226),loggerfile[_0x5e5741(0x238)](util[_0x5e5741(0x270)](_0x5cd226)+'\x0a');},'full':async(_0x1a8d41,_0x43fc78='')=>{const _0x35f4fa=_0x4ca2fb;let _0x46d55e;if(config['showname'])_0x46d55e=getTimeStamp()+':\x20'+config[_0x35f4fa(0x2a4)]+_0x35f4fa(0x259)+_0x1a8d41;else _0x46d55e=getTimeStamp()+_0x35f4fa(0x1d8)+botID+'\x20>\x20'+_0x1a8d41;console[_0x35f4fa(0x2dd)](_0x46d55e),loggerfile[_0x35f4fa(0x238)](util[_0x35f4fa(0x270)](_0x46d55e)+'\x0a'),_0x43fc78&&(console[_0x35f4fa(0x2dd)](_0x43fc78),loggerfile[_0x35f4fa(0x238)](util[_0x35f4fa(0x270)](_0x43fc78)+'\x0a'));},'debug':async(_0x395286,_0x14d3eb='')=>{const _0x4fb029=_0x4ca2fb;let _0x585e5e;if(config['showname'])_0x585e5e=getTimeStamp()+':\x20'+config['botname']+_0x4fb029(0x17a)+_0x395286;else _0x585e5e=getTimeStamp()+_0x4fb029(0x1d8)+botID+'\x20>\x20[DEBUG]\x20'+_0x395286;if(debugging)console[_0x4fb029(0x2dd)](_0x585e5e);loggerfile[_0x4fb029(0x238)](util[_0x4fb029(0x270)](_0x585e5e)+'\x0a');if(_0x14d3eb){if(debugging)console['log'](_0x14d3eb);loggerfile[_0x4fb029(0x238)](util[_0x4fb029(0x270)](_0x14d3eb)+'\x0a');}}};process['on'](_0x4ca2fb(0x1a1),function(_0x236a91){const _0x312eb8=_0x4ca2fb;handleError(_0x236a91,_0x312eb8(0x1a1));});settings['timeshift']!=config[_0x4ca2fb(0x293)]&&updateTimeshift(settings['timeshift']);settings[_0x4ca2fb(0x2b8)]!=config[_0x4ca2fb(0x2b8)]&&updateOnepagemode(settings[_0x4ca2fb(0x2b8)]);(settings[_0x4ca2fb(0x29c)]&&!config[_0x4ca2fb(0x29c)]||!settings[_0x4ca2fb(0x29c)]&&config[_0x4ca2fb(0x29c)])&&updateMarketcapApi(settings['marketcapApi']);process[_0x4ca2fb(0x1d4)]({'started':'running'},_0x4b8339=>{}),initializeProcessListeners();function proxyEmit(_0x197124,_0x4a36c8=null){const _0x49a8e1=_0x4ca2fb;process[_0x49a8e1(0x1d4)]({'function':_0x197124,'args':_0x4a36c8},_0x5b50ef=>{});}function initializeProcessListeners(){const _0x17424c=_0x4ca2fb;process['on'](_0x17424c(0x2d9),_0x239d67=>{const _0x43f9b5=_0x17424c;switch(Object[_0x43f9b5(0x26a)](_0x239d67)[0x0]){case _0x43f9b5(0x293):_0x239d67[_0x43f9b5(0x293)]!=undefined&&(settings[_0x43f9b5(0x293)]=_0x239d67[_0x43f9b5(0x293)],updateTimeshift(settings[_0x43f9b5(0x293)]));break;case _0x43f9b5(0x2b8):_0x239d67[_0x43f9b5(0x2b8)]!=undefined&&(settings[_0x43f9b5(0x2b8)]=_0x239d67[_0x43f9b5(0x2b8)],updateOnepagemode(settings[_0x43f9b5(0x2b8)]));break;case _0x43f9b5(0x29c):_0x239d67[_0x43f9b5(0x29c)]!=undefined&&(settings[_0x43f9b5(0x29c)]=_0x239d67[_0x43f9b5(0x29c)],updateMarketcapApi(settings[_0x43f9b5(0x29c)]));break;case'bots':_0x239d67[_0x43f9b5(0x170)]!=undefined&&(bots=JSON[_0x43f9b5(0x276)](_0x239d67['bots']),proxyEmit(_0x43f9b5(0x170),bots));break;case _0x43f9b5(0x194):switch(_0x239d67['function']){case _0x43f9b5(0x269):initclient();break;case _0x43f9b5(0x17e):toggleBotMode();break;case _0x43f9b5(0x1bb):emitHistory(_0x239d67['args']);break;case _0x43f9b5(0x1f8):deleteHistoryAlerts(_0x239d67[_0x43f9b5(0x210)]);break;case _0x43f9b5(0x19e):getPortfolio(_0x239d67['args']);break;case _0x43f9b5(0x265):storeConfiguration(_0x239d67['args']);break;case _0x43f9b5(0x195):storeHeadless(_0x239d67['args']);break;case'storeFiat':storeFiat(_0x239d67['args']);break;case _0x43f9b5(0x1ea):resetHistory();break;case _0x43f9b5(0x201):getStartingBalances(getNormalizedPerformance());break;case _0x43f9b5(0x1d9):placeOrder(_0x239d67[_0x43f9b5(0x210)]);break;case'cancelLoading':cancelLoading();break;case _0x43f9b5(0x241):showConfig();break;case _0x43f9b5(0x2d5):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x44b4a5=![]){const _0x81aa00=_0x4ca2fb;logger[_0x81aa00(0x2cb)]('Reset\x20|\x20'+(_0x44b4a5?_0x81aa00(0x2e2):_0x81aa00(0x1e3))+_0x81aa00(0x1af)+config[_0x81aa00(0x227)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x44b4a5)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x81aa00(0x1d5)]!=''&&config[_0x81aa00(0x1d5)]!='***'){loadingProgress=0x0;if(_0x44b4a5){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x689b7a){handleErrorNoStop(_0x689b7a,_0x81aa00(0x1cf));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x1e620c=await getCoins();[currentCoins,currentCoinsAll]=_0x1e620c,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x81aa00(0x187)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x81aa00(0x1c9)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x1299ca){const _0x1d6863=_0x4ca2fb;let _0x10ecba=![];if(_0x1299ca)_0x10ecba=!![];let _0x571a21;_0x10ecba?_0x571a21=_0x1299ca['map'](_0x4db501=>_0x4db501[_0x1d6863(0x1f9)]):_0x571a21=currentCoinsAll[_0x1d6863(0x29b)](_0xd6fc51=>_0xd6fc51[_0x1d6863(0x1f9)]);if(!config['marketcapApi']||!_0x10ecba&&!config[_0x1d6863(0x2e9)]||_0x571a21['length']==0x0)return;let _0x3a62e2=null;try{_0x3a62e2=await axios[_0x1d6863(0x267)](_0x1d6863(0x1c0),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x1d6863(0x29c)]},'params':{'symbol':_0x571a21[_0x1d6863(0x1f0)]()}});}catch(_0x302fd6){_0x3a62e2=null,_0x302fd6[_0x1d6863(0x1f0)]()[_0x1d6863(0x1bd)](_0x1d6863(0x1d3))?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x1d6863(0x297),emittedConfiguration()),logHistory('error',_0x1d6863(0x189))):(logHistory(_0x1d6863(0x19f),_0x1d6863(0x2c5)+marketCapInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x1d6863(0x2cb)]('Error\x20details:',_0x302fd6[_0x1d6863(0x1f0)]()+'\x20-\x20'+_0x302fd6['code']));}if(_0x3a62e2){let _0x2f7a16=0x0;const _0x1c8be2=_0x3a62e2[_0x1d6863(0x292)];_0x571a21[_0x1d6863(0x2be)](_0x420d15=>{const _0x6b38bc=_0x1d6863;if(_0x1c8be2[_0x6b38bc(0x292)][_0x420d15][0x0])_0x2f7a16+=_0x1c8be2[_0x6b38bc(0x292)][_0x420d15][0x0][_0x6b38bc(0x202)][_0x6b38bc(0x198)][_0x6b38bc(0x27a)];}),_0x571a21[_0x1d6863(0x2be)](_0x1fd3a9=>{const _0x4e7378=_0x1d6863,_0x309eb4=_0x1c8be2['data'][_0x1fd3a9][0x0]?_0x1c8be2[_0x4e7378(0x292)][_0x1fd3a9][0x0][_0x4e7378(0x202)]['USD'][_0x4e7378(0x27a)]:0x0;if(_0x10ecba){const _0x4bf699=_0x1299ca[_0x4e7378(0x168)](_0x44b09c=>_0x44b09c[_0x4e7378(0x1f9)]==_0x1fd3a9);_0x4bf699&&(_0x4bf699[_0x4e7378(0x2b0)]=_0x309eb4);}else{const _0x5a97be=currentCoins[_0x4e7378(0x168)](_0x172fa1=>_0x172fa1[_0x4e7378(0x1f9)]==_0x1fd3a9);_0x5a97be&&(_0x5a97be['marketcap']=_0x309eb4);const _0x231f66=currentCoinsAll[_0x4e7378(0x168)](_0x15822c=>_0x15822c[_0x4e7378(0x1f9)]==_0x1fd3a9);_0x231f66&&(_0x231f66[_0x4e7378(0x2b0)]=_0x309eb4);}}),!_0x10ecba&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x31b732=_0x4ca2fb,_0x779d0b=0x2;let _0x3fb114=0x0,_0xd7531a=0x0,_0x6676c1=0x0,_0x1b07e5=0x0,_0x3f4262=0x0;config[_0x31b732(0x22e)]['forEach'](_0x568859=>{const _0x573ef2=_0x31b732;if(!_0x568859['excluded']){_0x6676c1++,_0x3fb114+=_0x568859[_0x573ef2(0x295)];if(_0x568859['slider']===-0x1){_0x3fb114++;const _0x31c4f8=currentCoinsAll[_0x573ef2(0x168)](_0x24b648=>_0x24b648[_0x573ef2(0x1f9)]==_0x568859[_0x573ef2(0x1f9)]);_0x31c4f8&&(_0x1b07e5+=_0x31c4f8[_0x573ef2(0x2b0)],_0x3f4262+=Math[_0x573ef2(0x176)](_0x31c4f8[_0x573ef2(0x2b0)]));}if(_0x568859[_0x573ef2(0x295)]!==-0x1)_0xd7531a++;}});let _0x4f98b4;const _0x450ae8=0x64-_0x3fb114,_0x1a7e72=_0x6676c1-_0xd7531a;_0x4f98b4=_0x1a7e72===0x0?_0x3fb114:Math[_0x31b732(0x1ed)](0x64,_0x3fb114),config[_0x31b732(0x22e)][_0x31b732(0x2be)](_0x2206ac=>{const _0xd82c23=_0x31b732,_0x42c2ca=currentCoinsAll['find'](_0xf64cc2=>_0xf64cc2['coin']==_0x2206ac['coin']);_0x42c2ca&&(_0x2206ac[_0xd82c23(0x2b0)]=_0x42c2ca[_0xd82c23(0x2b0)]);if(!_0x2206ac['excluded']){if(_0x4f98b4<=0x64){if(_0x2206ac[_0xd82c23(0x295)]===-0x1){if(_0x1b07e5!==0x0&&config[_0xd82c23(0x2e9)]){if(_0x42c2ca){if(config[_0xd82c23(0x2e9)]==_0xd82c23(0x2b0))_0x2206ac['distribution']=(_0x450ae8/(_0x1b07e5/_0x42c2ca[_0xd82c23(0x2b0)]))[_0xd82c23(0x2b9)](_0x779d0b);else config[_0xd82c23(0x2e9)]==_0xd82c23(0x23c)&&(_0x2206ac['distribution']=(_0x450ae8/(_0x3f4262/Math[_0xd82c23(0x176)](_0x42c2ca[_0xd82c23(0x2b0)])))['toFixed'](_0x779d0b));}}}}}}),updateConfig();}function updateConfig(){const _0x351f8c=_0x4ca2fb;let _0x585919=dbConfig[_0x351f8c(0x267)](_0x351f8c(0x23d))[_0x351f8c(0x168)]({'botID':botID})[_0x351f8c(0x2f1)]();_0x585919&&dbConfig[_0x351f8c(0x267)](_0x351f8c(0x23d))['find']({'botID':botID})[_0x351f8c(0x1ae)](config)[_0x351f8c(0x238)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x3ec12c=_0x4ca2fb;exchangeStopped=!![];try{await exchange[_0x3ec12c(0x215)]();}catch(_0x565d85){await handleError(_0x565d85,_0x3ec12c(0x1db));}}async function reloadExchange(){const _0x49edf8=_0x4ca2fb;while(lockOrders!=ORDERS[_0x49edf8(0x166)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x49edf8(0x2cb)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x895d17=config[_0x4ca2fb(0x227)],_0x3497cc=config[_0x4ca2fb(0x1d5)],_0x37df8f=config[_0x4ca2fb(0x1a3)],_0x1a5386=config[_0x4ca2fb(0x261)]){const _0x4ffee3=_0x4ca2fb;exchange&&await stopExchange();!supportedExchanges()[_0x4ffee3(0x1bd)](_0x895d17)&&(logHistory(_0x4ffee3(0x19f),_0x4ffee3(0x1e2)+_0x895d17+_0x4ffee3(0x285)),killBot());const _0x471cee=ccxt[_0x4ffee3(0x16f)][_0x895d17[_0x4ffee3(0x1ff)]()];exchange=new _0x471cee({'apiKey':_0x3497cc,'secret':_0x37df8f,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x4ffee3(0x213)}});if(_0x1a5386)exchange['password']=_0x1a5386;}function setStableCoins(){const _0x29d68b=_0x4ca2fb;let _0x215246=config[_0x29d68b(0x1f2)]=='ETH'?_0x29d68b(0x22b):config[_0x29d68b(0x1f2)]==_0x29d68b(0x288)?_0x29d68b(0x288):_0x29d68b(0x1c7),_0x5437c5=!allSymbols['includes'](_0x215246+_0x29d68b(0x16b))?'USDT':_0x29d68b(0x198),_0x50b4d9=!allSymbols[_0x29d68b(0x1bd)](_0x215246+'/EUR')?_0x5437c5:_0x29d68b(0x1b4);stablecoins={'eur':{'coin':''+_0x215246+_0x50b4d9,'symbol':_0x215246+'/'+_0x50b4d9},'usd':{'coin':''+_0x215246+_0x5437c5,'symbol':_0x215246+'/'+_0x5437c5}};}async function initwsCcxt(){const _0x236152=_0x4ca2fb;initCycle++;const _0x3ffcc2=initCycle;let _0x2f79b0=[];config['portfolio'][_0x236152(0x2be)](_0x1f1476=>{const _0x263d32=_0x236152;if(!_0x1f1476[_0x263d32(0x2f6)]&&_0x1f1476['coin']!=config[_0x263d32(0x1f2)])_0x2f79b0[_0x263d32(0x272)](_0x1f1476['symbol']);});if(!_0x2f79b0[_0x236152(0x1bd)](stablecoins[_0x236152(0x197)][_0x236152(0x1ca)]))_0x2f79b0[_0x236152(0x272)](stablecoins[_0x236152(0x197)][_0x236152(0x1ca)]);if(!_0x2f79b0['includes'](stablecoins[_0x236152(0x27d)][_0x236152(0x1ca)]))_0x2f79b0[_0x236152(0x272)](stablecoins['usd'][_0x236152(0x1ca)]);if(config[_0x236152(0x227)][_0x236152(0x16a)](_0x236152(0x24b))&&config['basecoin']!=_0x236152(0x288)){if(!_0x2f79b0['includes'](_0x236152(0x230)+config[_0x236152(0x1f2)]))_0x2f79b0[_0x236152(0x272)](_0x236152(0x230)+config['basecoin']);}loadCoins(_0x2f79b0),_0x2f79b0=validateSymbols(_0x2f79b0);const _0x4d25bf=async _0x9ced62=>{const _0x314d26=_0x236152;let _0x1c967e;try{const _0x19f5d3=await getTickers(_0x9ced62);Object[_0x314d26(0x200)](_0x19f5d3)[_0x314d26(0x2be)](_0x19febd=>{const _0xca6479=_0x314d26;_0x1c967e=_0x19febd[0x1][_0xca6479(0x1ca)],global['ticker'][noslash(_0x1c967e)]=_0x19febd[0x1][_0xca6479(0x2f2)],global[_0xca6479(0x26f)][_0x1c967e]=_0x19febd[0x1][_0xca6479(0x21c)];});}catch(_0x566c18){await handleError(_0x566c18,_0x314d26(0x163),_0x1c967e);}},_0x5268b1=async _0xebac0f=>{const _0x189d65=_0x236152;while(initCycle==_0x3ffcc2){if(!botPaused)try{const _0x279f02=await exchange[_0x189d65(0x23b)](_0xebac0f);global['ticker'][noslash(_0x279f02[0x0][_0x189d65(0x1ca)])]=_0x279f02[0x0][_0x189d65(0x18c)];}catch(_0x2649be){if(!exchangeStopped)await handleError(_0x2649be,_0x189d65(0x2e8),_0xebac0f);}else await sleep(0x64);}},_0x19450c=async _0x2573a0=>{const _0x4d73f8=_0x236152;while(initCycle==_0x3ffcc2){if(!botPaused)try{const _0x429202=await exchange[_0x4d73f8(0x169)](_0x2573a0),_0x2a0567=_0x429202['pop']();global[_0x4d73f8(0x27b)][noslash(_0x2a0567[_0x4d73f8(0x1ca)])]=_0x2a0567[_0x4d73f8(0x18c)];}catch(_0x1e386c){if(!exchangeStopped)await handleError(_0x1e386c,'watchTradesForSymbols()',_0x2573a0[_0x4d73f8(0x1f0)]());}else await sleep(0x64);}},_0x6c1b8f=async _0x3c98f5=>{const _0x54a555=_0x236152;while(initCycle==_0x3ffcc2){if(!botPaused){let _0x18a68f;try{await sleep(0x3c*0x3e8);const _0x47b331=await getTickers(_0x3c98f5);Object[_0x54a555(0x200)](_0x47b331)['forEach'](_0x4cf6b5=>{const _0x233e97=_0x54a555;_0x18a68f=_0x4cf6b5[0x1]['symbol'],global[_0x233e97(0x26f)][_0x18a68f]=_0x4cf6b5[0x1]['percentage'];});}catch(_0x3166b1){if(!exchangeStopped)await handleError(_0x3166b1,_0x54a555(0x28d),_0x18a68f);}}else await sleep(0x64);}},_0x9c1508=async _0x478a39=>{const _0x46f52d=_0x236152;while(initCycle==_0x3ffcc2){if(!botPaused)try{const _0x1451b4=await exchange[_0x46f52d(0x159)](_0x478a39);initCycle==_0x3ffcc2&&_0x1451b4[_0x46f52d(0x2be)](_0x5635b2=>{updateNumberCoinsCcxt(_0x5635b2);});}catch(_0x240de5){if(!exchangeStopped)await handleError(_0x240de5,_0x46f52d(0x2f4));}else await sleep(0x64);}};_0x4d25bf(_0x2f79b0),_0x6c1b8f(_0x2f79b0),exchange[_0x236152(0x1be)][_0x236152(0x169)]?_0x19450c(_0x2f79b0):_0x2f79b0[_0x236152(0x2be)](_0x81d228=>{_0x5268b1(_0x81d228);}),_0x2f79b0[_0x236152(0x2be)](_0x1ef788=>{_0x9c1508(_0x1ef788);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x3a5618){const _0x15d31d=_0x4ca2fb;let _0x48b563={};try{if(config[_0x15d31d(0x227)]!=_0x15d31d(0x29d))_0x48b563=await exchange['fetchTickers'](_0x3a5618);else for(const _0x44e1f2 of _0x3a5618){const _0x29eda6=await exchange[_0x15d31d(0x218)](_0x44e1f2);_0x48b563[_0x44e1f2]=_0x29eda6;}return _0x48b563;}catch(_0x5c7d23){throw _0x5c7d23;}}async function watchTransactions(){const _0x512361=_0x4ca2fb;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x38079b=await getCoins(),[_0xe48579,_0xd03e2]=_0x38079b;let _0x3da99b=[];currentCoins[_0x512361(0x2be)](_0x50921d=>{const _0x509051=_0x512361,_0x14ebc8=_0xe48579['find'](_0x5d3414=>_0x5d3414['coin']==_0x50921d['coin']);if(_0x14ebc8){if(_0x50921d['number']!=_0x14ebc8[_0x509051(0x25c)]){let _0x1e53be;if(_0x50921d[_0x509051(0x1f9)]!=config[_0x509051(0x1f2)]){const _0x2a01f5=global[_0x509051(0x27b)][noslash(_0x50921d[_0x509051(0x1ca)])];_0x1e53be=_0x50921d[_0x509051(0x1d1)]?0x1/_0x2a01f5:_0x2a01f5;}else _0x1e53be=0x1;_0x3da99b[_0x509051(0x272)]({'coin':_0x50921d[_0x509051(0x1f9)],'symbol':_0x50921d[_0x509051(0x1ca)],'price':_0x1e53be,'number':Number(formatResult(_0x14ebc8[_0x509051(0x25c)]-_0x50921d[_0x509051(0x25c)],0x8)),'basecoinvalue':_0x1e53be*(_0x14ebc8['number']-_0x50921d[_0x509051(0x25c)])});}}});if(_0x3da99b['length']==0x1&&!blockTransactionDetection){if(config[_0x512361(0x1e1)]){logger['debug'](_0x512361(0x277)+_0x3da99b[0x0]['basecoinvalue']+_0x512361(0x286)+lastFees[_0x512361(0x17d)]);if(lastFees[_0x512361(0x17d)]==0x0||Math['abs'](_0x3da99b[0x0][_0x512361(0x1df)])>lastFees[_0x512361(0x17d)]){delete _0x3da99b[0x0][_0x512361(0x1ca)],delete _0x3da99b[0x0][_0x512361(0x1df)];let _0x89b5fd=[],_0x4ee892=[...config[_0x512361(0x190)]]||[],_0x10076a=config[_0x512361(0x190)];_0x4ee892[_0x512361(0x2ca)]((_0x2af0dc,_0x445c0b)=>_0x2af0dc[_0x512361(0x178)]>_0x445c0b[_0x512361(0x178)]?-0x1:_0x445c0b['date']>_0x2af0dc['date']?0x1:0x0);const _0x444784=getDate();if(_0x4ee892[0x0]){const _0x2d7c26=fns[_0x512361(0x276)](_0x4ee892[0x0][_0x512361(0x178)],_0x512361(0x2e3),new Date()),_0x1dd2fa=fns[_0x512361(0x276)](_0x444784,_0x512361(0x2e3),new Date());if(fns[_0x512361(0x28f)](_0x2d7c26,_0x1dd2fa)){_0x89b5fd=_0x4ee892[0x0]['changes'];const _0xa7ad95=_0x89b5fd[_0x512361(0x168)](_0x5327d4=>_0x5327d4[_0x512361(0x1f9)]==_0x3da99b[0x0][_0x512361(0x1f9)]);_0xa7ad95?(_0xa7ad95[_0x512361(0x25c)]+=_0x3da99b[0x0][_0x512361(0x25c)],_0xa7ad95['number']==0x0&&(_0x89b5fd=_0x89b5fd[_0x512361(0x2e4)](_0x3d3657=>{const _0x130601=_0x512361;return _0x3d3657[_0x130601(0x1f9)]!=_0x3da99b[0x0][_0x130601(0x1f9)];}))):_0x89b5fd[_0x512361(0x272)](_0x3da99b[0x0]);const _0x27832c=_0x10076a[_0x512361(0x168)](_0x5b94db=>_0x5b94db[_0x512361(0x178)]==_0x444784);_0x27832c[_0x512361(0x28e)]=_0x89b5fd;}else _0x10076a[_0x512361(0x272)]({'date':_0x444784,'changes':[_0x3da99b[0x0]]});}const _0x1dde44=_0x10076a['find'](_0x5ef3ff=>_0x5ef3ff[_0x512361(0x178)]==_0x444784);if(_0x1dde44){let _0x36656b=!![];_0x1dde44['changes'][_0x512361(0x2be)](_0x3bb986=>{if(_0x3bb986['number']!=0x0)_0x36656b=![];}),_0x36656b&&(_0x10076a=_0x10076a[_0x512361(0x2e4)](_0x148d3c=>{const _0x4b523c=_0x512361;return _0x148d3c[_0x4b523c(0x178)]!=_0x444784;}));}let _0x5491c9=dbConfig['get'](_0x512361(0x23d))['find']({'botID':botID})[_0x512361(0x2f1)]();_0x5491c9&&(dbConfig['get'](_0x512361(0x23d))[_0x512361(0x168)]({'botID':botID})[_0x512361(0x1ae)]({'liquidity':_0x10076a})[_0x512361(0x238)](),config['liquidity']=_0x10076a),logHistory(_0x512361(0x2ea),'Portfolio\x20change\x20detected:\x20'+Math[_0x512361(0x237)](_0x3da99b[0x0][_0x512361(0x25c)])+'\x20'+_0x3da99b[0x0][_0x512361(0x1f9)]+'\x20'+(_0x3da99b[0x0][_0x512361(0x25c)]>0x0?_0x512361(0x254):_0x512361(0x27e))+_0x512361(0x1b2)),proxyEmit(_0x512361(0x297),emittedConfiguration());}else logger[_0x512361(0x2cb)](_0x512361(0x22a)+Math['abs'](_0x3da99b[0x0][_0x512361(0x25c)])+'\x20'+_0x3da99b[0x0][_0x512361(0x1f9)]+'\x20'+(_0x3da99b[0x0][_0x512361(0x25c)]>0x0?_0x512361(0x254):_0x512361(0x27e)));transactionDetected=!![];}else logger[_0x512361(0x2cb)]('Portfolio\x20change\x20detected:\x20'+Math[_0x512361(0x237)](_0x3da99b[0x0][_0x512361(0x25c)])+'\x20'+_0x3da99b[0x0][_0x512361(0x1f9)]+'\x20'+(_0x3da99b[0x0][_0x512361(0x25c)]>0x0?_0x512361(0x254):_0x512361(0x27e))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0xe48579,currentCoinsAll=_0xd03e2,await sleep(watchTransactionsInterval);}catch(_0x1fd8f1){if(!exchangeStopped)await handleError(_0x1fd8f1,_0x512361(0x15d));}else await sleep(0x64);}}async function loadSymbols(){const _0x2376ab=_0x4ca2fb;try{markets=await exchange[_0x2376ab(0x185)](),allSymbols=[],Object[_0x2376ab(0x200)](markets)[_0x2376ab(0x2be)](_0x34a50d=>{const _0x3acb9d=_0x2376ab;_0x34a50d[0x1][_0x3acb9d(0x1c4)]&&_0x34a50d[0x1][_0x3acb9d(0x213)]&&allSymbols['push'](_0x34a50d[0x0]);});}catch(_0x37a621){throw _0x37a621;}}function validateSymbols(_0x490dfa){const _0xb53dc6=_0x4ca2fb;let _0x35eb19=[];return _0x490dfa[_0xb53dc6(0x2be)](_0x562454=>{const _0x48a3e7=_0xb53dc6;!allSymbols[_0x48a3e7(0x1bd)](_0x562454)?logHistory('error',_0x48a3e7(0x2d2)+_0x562454+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x35eb19[_0x48a3e7(0x272)](_0x562454);}),_0x35eb19;}async function initclient(){const _0x27f413=_0x4ca2fb;proxyEmit('configuration',emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x27f413(0x2db),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x50ddbb=getNormalizedPerformance();emitPerformance(_0x50ddbb),getStartingBalances(_0x50ddbb);}async function toggleBotMode(){const _0x219e07=_0x4ca2fb;let _0xae6d15=dbConfig[_0x219e07(0x267)](_0x219e07(0x23d))[_0x219e07(0x168)]({'botID':botID})['value']();if(_0xae6d15){const _0x456906=!_0xae6d15[_0x219e07(0x2cc)];dbConfig[_0x219e07(0x267)](_0x219e07(0x23d))[_0x219e07(0x168)]({'botID':botID})[_0x219e07(0x1ae)]({'headless':_0x456906})['write'](),config[_0x219e07(0x2cc)]=_0x456906,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5658ac=_0x4ca2fb;process[_0x5658ac(0x1d4)]({'updatebotmanager':!![]},_0x17993f=>{}),logger[_0x5658ac(0x2cb)](_0x5658ac(0x250)+config[_0x5658ac(0x2cc)]);}async function loadCoins(_0x3afdfb){const _0x13372b=_0x4ca2fb;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x2eb5c8,_0x2f02b3=0x0,_0x2c3720=0x0;_0x3afdfb[_0x13372b(0x2be)](_0x266dfd=>{const _0x46cbf7=_0x13372b;loading[_0x46cbf7(0x256)]['push'](_0x266dfd);}),loadingCanceled=![];let _0xca022=![];while(_0x2eb5c8!=_0x3afdfb[_0x13372b(0x1c9)]+maxLoadingProgress){_0x2eb5c8=loadingProgress,_0x3afdfb[_0x13372b(0x2be)](_0x1f2d79=>{const _0x2adef8=_0x13372b;if(global[_0x2adef8(0x27b)][noslash(_0x1f2d79)]){loading[_0x2adef8(0x256)]=loading['remainingSymbols']['filter'](_0x3499b8=>_0x3499b8!=_0x1f2d79);if(!watchedSymbols[_0x2adef8(0x1bd)](_0x1f2d79))watchedSymbols[_0x2adef8(0x272)](_0x1f2d79);_0x2eb5c8++;}}),loading[_0x13372b(0x253)]=Math['round'](_0x2eb5c8/(_0x3afdfb[_0x13372b(0x1c9)]+maxLoadingProgress)*0x64);loading[_0x13372b(0x253)]!=0x64&&(_0x2c3720>0x1e*0x5&&(loading[_0x13372b(0x26c)]=!![],emitLoadingProgress()),_0x2c3720>0x78*0x5&&!_0xca022&&(_0xca022=!![],logHistory('error',_0x13372b(0x1d0)+loading[_0x13372b(0x256)][_0x13372b(0x24c)](',\x20')+_0x13372b(0x1e6)),logHistory(_0x13372b(0x19f),_0x13372b(0x172)+loadCoinsRetryInterval/0xea60+_0x13372b(0x18e)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x321da1=_0x13372b;process[_0x321da1(0x1d4)]({'stop':_0x321da1(0x1b0)},_0x269b51=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x13372b(0x2fb)]=!![],emitLoadingProgress();break;}else _0x2f02b3!=loading[_0x13372b(0x253)]&&(_0x2f02b3=loading[_0x13372b(0x253)],emitLoadingProgress()),_0x2c3720++,await sleep(0xc8);}_0x2eb5c8==_0x3afdfb[_0x13372b(0x1c9)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x13372b(0x2bc),'live':_0x13372b(0x16c)},_0x553e4a=>{}),_0xca022&&logHistory(_0x13372b(0x2ea),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1f060e=_0x4ca2fb;proxyEmit(_0x1f060e(0x297),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x1f28e1=_0x4ca2fb;proxyEmit(_0x1f28e1(0x2b2),loading);}async function getFiat(){const _0x802ea=_0x4ca2fb;let _0x5184a2=global['ticker'][stablecoins['eur'][_0x802ea(0x1f9)]],_0x16dc20=global[_0x802ea(0x27b)][stablecoins[_0x802ea(0x27d)][_0x802ea(0x1f9)]];return{'eur':Number(_0x5184a2),'usd':Number(_0x16dc20)};}function capitalize(_0x4f40ae){const _0x26cbca=_0x4ca2fb;return _0x4f40ae[_0x26cbca(0x246)](0x0,0x1)['toUpperCase']()+_0x4f40ae[_0x26cbca(0x246)](0x1);}function supportedExchanges(){const _0x27c904=_0x4ca2fb,_0x3eff5a=['ws',_0x27c904(0x2c3),_0x27c904(0x218),_0x27c904(0x23b),'watchOrders',_0x27c904(0x2a3),_0x27c904(0x1a6),_0x27c904(0x2f0),'fetchClosedOrders',_0x27c904(0x2cf)];let _0xe76dec=[],_0x5608d9=[],_0x222d58=ccxt[_0x27c904(0x16f)][_0x27c904(0x266)];_0x222d58[_0x27c904(0x2be)](_0x3c493f=>{const _0x339da4=_0x27c904;try{const _0x59f337=new ccxt[(_0x339da4(0x16f))][_0x3c493f]();_0x5608d9[_0x339da4(0x272)](_0x59f337);}catch(_0x2f5e5a){}}),_0x5608d9[_0x27c904(0x2be)](_0x4ec7e8=>{const _0x67afe6=_0x27c904;let _0x5bc0af=0x0;_0x3eff5a[_0x67afe6(0x2be)](_0x51f0ec=>{const _0x57b2e8=_0x67afe6;_0x51f0ec in _0x4ec7e8[_0x57b2e8(0x1be)]&&_0x4ec7e8['has'][_0x51f0ec]&&_0x5bc0af++;}),_0x5bc0af==_0x3eff5a['length']&&_0xe76dec[_0x67afe6(0x272)](capitalize(_0x4ec7e8['id']));});let _0x44d18e=[];return _0x222d58[_0x27c904(0x2be)](_0x19d322=>{const _0x3b9a0b=_0x27c904;_0x19d322=capitalize(_0x19d322);if(!_0xe76dec[_0x3b9a0b(0x1bd)](_0x19d322))_0x44d18e[_0x3b9a0b(0x272)](_0x19d322);}),_0xe76dec;}function setStartDatePerformance(){const _0x496dee=_0x4ca2fb;if(config&&config[_0x496dee(0x190)][0x0]['changes']['length']!=0x0){const _0x1103ec=config['liquidity'][0x0][_0x496dee(0x28e)];dbPerformance[_0x496dee(0x267)](_0x496dee(0x292))[_0x496dee(0x168)]({'date':config[_0x496dee(0x1da)]})[_0x496dee(0x1ae)]({'coins':_0x1103ec})[_0x496dee(0x238)]();}}async function recreateCoinResults(){const _0x17ad36=_0x4ca2fb;let _0x52eb42,_0xc90618=[];try{const _0x1ae726=fns[_0x17ad36(0x270)](fns['parseISO'](config['startdate']['replace'](/\//g,'-')),_0x17ad36(0x234));for(const _0x20a251 of currentCoins){if(_0x20a251['coin']!=config[_0x17ad36(0x1f2)]){let _0x3b4dca=0x0,_0x1b31fa,_0x4b308f;_0x52eb42=await getAllEventOrders(_0x20a251['symbol']);if(_0x52eb42[_0x17ad36(0x1c9)]>0x0)_0x52eb42[_0x17ad36(0x2be)](_0x164929=>{const _0x546e98=_0x17ad36,_0x4c8df1=_0x20a251[_0x546e98(0x1ca)]['includes'](config[_0x546e98(0x1f2)]+'/');_0xc90618[_0x546e98(0x272)]({'datetime':_0x164929['datetime'],'coin':_0x20a251[_0x546e98(0x1f9)],'symbol':_0x20a251[_0x546e98(0x1ca)],'side':_0x164929[_0x546e98(0x25f)],'reverse':_0x4c8df1,'amount':formatResult(_0x164929['filled'],0x8),'filled':formatResult(_0x164929[_0x546e98(0x1a5)],0x8),'price':formatResult(_0x164929[_0x546e98(0x18c)],0x8)}),_0x3b4dca=_0x164929[_0x546e98(0x25f)]==_0x546e98(0x255)?_0x3b4dca+_0x164929[_0x546e98(0x1a5)]:_0x3b4dca-_0x164929[_0x546e98(0x1a5)];if(!_0x4b308f)_0x4b308f=_0x164929[_0x546e98(0x18c)];});_0x1b31fa=_0x20a251['number']-_0x3b4dca;let _0x598b09;config[_0x17ad36(0x190)]['forEach'](_0x12e395=>{const _0x886ea8=_0x17ad36;!_0x598b09&&(_0x598b09=_0x12e395[_0x886ea8(0x28e)][_0x886ea8(0x168)](_0x6e25fd=>_0x6e25fd['coin']==_0x20a251['coin']),_0x598b09&&(_0x1b31fa=_0x598b09[_0x886ea8(0x25c)],_0x4b308f=_0x598b09[_0x886ea8(0x18c)]));});let _0x578914=dbCoinResults[_0x17ad36(0x267)](_0x17ad36(0x21f))[_0x17ad36(0x168)]({'coin':_0x20a251[_0x17ad36(0x1f9)]})[_0x17ad36(0x2f1)]();_0x578914={'coin':_0x20a251['coin'],'number':_0x1b31fa,'breakeven':_0x4b308f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x17ad36(0x267)](_0x17ad36(0x21f))[_0x17ad36(0x168)]({'coin':_0x20a251['coin']})[_0x17ad36(0x1ae)](_0x578914)['write']();}}_0xc90618['sort']((_0x545538,_0x43dfa9)=>_0x545538[_0x17ad36(0x171)]>_0x43dfa9['datetime']?0x1:_0x43dfa9[_0x17ad36(0x171)]>_0x545538['datetime']?-0x1:0x0);let _0x36ca93=0x0;for(let _0x30586a of _0xc90618){await updateCoinResults(_0x30586a,!![]);}}catch(_0x5e94f5){await handleError(_0x5e94f5,_0x17ad36(0x20b));}}async function getAllEventOrders(_0x5f40cf){const _0x655386=_0x4ca2fb;let _0x4e9e72=[],_0x31fa1c=dbLogs['get'](_0x655386(0x244))['filter'](_0x4f99e2=>{const _0x2512cb=_0x655386,_0x4e4885=_0x4f99e2[_0x2512cb(0x2fa)][_0x2512cb(0x1ff)]();return _0x4e4885[_0x2512cb(0x1bd)](_0x5f40cf[_0x2512cb(0x1ff)]())&&(_0x4e4885['includes'](_0x2512cb(0x25d))&&_0x4e4885[_0x2512cb(0x1bd)](_0x2512cb(0x1fb))||_0x4e4885[_0x2512cb(0x1bd)]('filled')&&_0x4e4885[_0x2512cb(0x1bd)](_0x2512cb(0x1fb)));})['sortBy'](_0x655386(0x26b))[_0x655386(0x2f1)]();return _0x31fa1c['forEach'](_0x5b7c8e=>{const _0x10cc47=_0x655386,_0x1339af=_0x5b7c8e[_0x10cc47(0x2fa)][_0x10cc47(0x1bd)]('sell')?_0x10cc47(0x16e):_0x10cc47(0x255),_0x3691ec=/#([0-9]|\.)+\s/i,_0x395cb4=Number(_0x3691ec['exec'](_0x5b7c8e['event'])[0x0][_0x10cc47(0x204)](0x1)),_0x2ae918=/@([0-9]|\.)+$/i,_0x1c3f9d=Number(_0x2ae918[_0x10cc47(0x22f)](_0x5b7c8e[_0x10cc47(0x2fa)])[0x0]['slice'](0x1));_0x4e9e72[_0x10cc47(0x272)]({'datetime':_0x5b7c8e[_0x10cc47(0x26b)],'coin':symbolToCoin(_0x5f40cf),'symbol':_0x5f40cf,'side':_0x1339af,'amount':_0x395cb4,'filled':_0x395cb4,'price':_0x1c3f9d});}),_0x4e9e72;}async function getAllOrders(_0x343589,_0x1ea7dc){const _0x1c7f18=_0x4ca2fb;let _0xb93d3=[];while(_0x1ea7dc<exchange[_0x1c7f18(0x1d6)]()){const _0x5eb8d1=0x1f4;try{const _0x1d8d10=await exchange[_0x1c7f18(0x2e6)](_0x343589,_0x1ea7dc,_0x5eb8d1);if(_0x1d8d10['length'])_0x1ea7dc=_0x1d8d10[_0x1d8d10[_0x1c7f18(0x1c9)]-0x1]['timestamp']+0x1,_0xb93d3=_0xb93d3[_0x1c7f18(0x1ad)](_0x1d8d10);else break;}catch(_0xec2c40){await handleError(_0xec2c40,_0x1c7f18(0x2c9),_0x343589);}}return _0xb93d3;}async function validate24hChanges(){const _0x1c393c=_0x4ca2fb;for(const _0x26a0b3 of currentCoins){if(_0x26a0b3[_0x1c393c(0x1f9)]!=config['basecoin']){let _0xe9f083;_0x26a0b3[_0x1c393c(0x1d1)]?_0xe9f083=formatResult((0x1/(global[_0x1c393c(0x26f)][_0x26a0b3[_0x1c393c(0x1ca)]]/0x64+0x1)-0x1)*0x64,0x3):_0xe9f083=global[_0x1c393c(0x26f)][_0x26a0b3[_0x1c393c(0x1ca)]],_0xe9f083<config[_0x1c393c(0x158)]&&(logHistory(_0x1c393c(0x19f),_0x26a0b3['coin']+_0x1c393c(0x2b6)+_0xe9f083+'%'),logHistory(_0x1c393c(0x19f),_0x1c393c(0x2cd)),logHistory(_0x1c393c(0x19f),_0x1c393c(0x182)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x201f19,_0x21e97d){const _0x52ea05=_0x4ca2fb;if(!_0x201f19)return!![];const _0x4c8d73=_0x21e97d[_0x52ea05(0x1e8)]('.'),_0x439d74=_0x201f19[_0x52ea05(0x1e8)]('.');for(var _0x4e310b=0x0;_0x4e310b<_0x439d74[_0x52ea05(0x1c9)];_0x4e310b++){const _0x5eb0a6=~~_0x439d74[_0x4e310b],_0x38915d=~~_0x4c8d73[_0x4e310b];if(_0x5eb0a6<_0x38915d)return!![];if(_0x5eb0a6>_0x38915d)return![];}return![];}async function oneTimeMigration(){const _0x251163=_0x4ca2fb;let _0x106ce9=dbLogs['get'](_0x251163(0x264))[_0x251163(0x2f1)]();if(isOlderVersion(_0x106ce9,_0x251163(0x18d))){let _0x5ad6cb=[];const _0x26765f=dbLogs[_0x251163(0x267)](_0x251163(0x244))[_0x251163(0x2f1)]();_0x26765f[_0x251163(0x2be)](_0x11d793=>{const _0x1b9a64=_0x251163;_0x5ad6cb[_0x1b9a64(0x272)]({'time':_0x11d793[_0x1b9a64(0x26b)],'type':_0x11d793[_0x1b9a64(0x2d6)],'event':_0x11d793[_0x1b9a64(0x2fa)]});}),dbLogs[_0x251163(0x267)](_0x251163(0x244))[_0x251163(0x1ae)](_0x5ad6cb)[_0x251163(0x238)]();}let _0x1f0f58=dbConfig[_0x251163(0x267)]('version')['value']();if(isOlderVersion(_0x1f0f58,_0x251163(0x18d))){let _0x268728=dbConfig[_0x251163(0x267)](_0x251163(0x23d))[_0x251163(0x168)]({'botID':botID})[_0x251163(0x2f1)]();if(_0x268728){let _0x2b0d34=[];_0x268728['portfolio'][_0x251163(0x2be)](_0x205058=>{const _0x509877=_0x251163;_0x2b0d34['push']({'coin':_0x205058['coin'],'number':_0x205058[_0x509877(0x296)],'price':_0x205058[_0x509877(0x1eb)]}),delete _0x205058[_0x509877(0x296)],delete _0x205058['startprice'];});if(_0x2b0d34[_0x251163(0x1c9)]!==0x0)fs[_0x251163(0x29a)](configbackuppath+(_0x251163(0x1b7)+botID+_0x251163(0x220)),JSON[_0x251163(0x27f)](_0x2b0d34,null,0x4),function(_0x23aee4){if(_0x23aee4){}});const _0x317bfa=(_0x1625f0,_0x324bde)=>{const _0x4f8b6a=_0x251163;let _0x57f927=[];_0x324bde[_0x4f8b6a(0x2be)](_0x1b0a11=>{const _0x151c7d=_0x4f8b6a,_0x305395=_0x1625f0['find'](_0x82e1a0=>_0x82e1a0['coin']==_0x1b0a11[_0x151c7d(0x1f9)]);if(!_0x305395)_0x57f927[_0x151c7d(0x272)](_0x1b0a11);});let _0x1ee012=[];return _0x1625f0['forEach'](_0x141722=>{const _0x29d0ad=_0x4f8b6a,_0x42d37b=_0x324bde['find'](_0x7e71ab=>_0x7e71ab['coin']==_0x141722[_0x29d0ad(0x1f9)]);if(!_0x42d37b||_0x42d37b[_0x29d0ad(0x25c)]==0x0&&_0x141722['number']!=0x0)_0x1ee012[_0x29d0ad(0x272)](_0x141722);}),{'missingDay1':_0x57f927,'notInDay2':_0x1ee012};},_0xe2b546=dbPerformance['get'](_0x251163(0x292))['cloneDeep']()[_0x251163(0x2f1)]();if(_0xe2b546[_0x251163(0x1c9)]>0x1){const {missingDay1:_0x5dd372,notInDay2:_0x275371}=_0x317bfa(_0x2b0d34,_0xe2b546[0x1][_0x251163(0x21f)]);_0x2b0d34=[..._0x2b0d34,..._0x5dd372],_0x275371['forEach'](_0x1e0773=>{const _0x5b0f83=_0x251163;let _0x28e6eb=_0x2b0d34['findIndex'](_0x5113d2=>_0x5113d2[_0x5b0f83(0x1f9)]==_0x1e0773[_0x5b0f83(0x1f9)]);_0x28e6eb!=-0x1&&_0x2b0d34[_0x5b0f83(0x1e9)](_0x28e6eb,0x1);});}_0x2b0d34[_0x251163(0x2ca)]((_0x5dbd8d,_0x456f82)=>_0x5dbd8d[_0x251163(0x1f9)]>_0x456f82[_0x251163(0x1f9)]?0x1:_0x456f82['coin']>_0x5dbd8d[_0x251163(0x1f9)]?-0x1:0x0);let _0x41cca6=[{'date':_0x268728[_0x251163(0x1da)],'changes':_0x2b0d34}];_0xe2b546[_0x251163(0x1c9)]>0x2&&_0xe2b546[_0x251163(0x2be)]((_0x1a9256,_0x3123fd)=>{const _0x2b57d2=_0x251163;if(_0x3123fd>0x0&&_0x3123fd<_0xe2b546[_0x2b57d2(0x1c9)]-0x1){const {missingDay1:_0x5b1c68,notInDay2:_0x1800a8}=_0x317bfa(_0xe2b546[_0x3123fd][_0x2b57d2(0x21f)],_0xe2b546[_0x3123fd+0x1][_0x2b57d2(0x21f)]);_0x2b0d34=[],(_0x5b1c68[_0x2b57d2(0x1c9)]!=0x0||_0x1800a8[_0x2b57d2(0x1c9)]!=0x0)&&(_0x5b1c68[_0x2b57d2(0x1c9)]!=0x0&&_0x2b0d34[_0x2b57d2(0x272)](..._0x5b1c68),_0x1800a8['length']!=0x0&&(_0x1800a8[_0x2b57d2(0x2be)](_0x526085=>{const _0x4258cc=_0x2b57d2;_0x526085[_0x4258cc(0x25c)]=-_0x526085['number'];}),_0x2b0d34['push'](..._0x1800a8)),_0x2b0d34[_0x2b57d2(0x2ca)]((_0x32e550,_0x3b9fad)=>_0x32e550[_0x2b57d2(0x1f9)]>_0x3b9fad['coin']?0x1:_0x3b9fad[_0x2b57d2(0x1f9)]>_0x32e550['coin']?-0x1:0x0),_0x41cca6[_0x2b57d2(0x272)]({'date':_0xe2b546[_0x3123fd+0x1][_0x2b57d2(0x178)],'changes':_0x2b0d34}));}}),dbConfig[_0x251163(0x267)](_0x251163(0x23d))['find']({'botID':botID})[_0x251163(0x1ae)]({..._0x268728,'liquidity':_0x41cca6})[_0x251163(0x238)]();}}if(isOlderVersion(_0x1f0f58,_0x251163(0x2c2))){let _0x397b2d=dbConfig[_0x251163(0x267)](_0x251163(0x23d))[_0x251163(0x168)]({'botID':botID})[_0x251163(0x2f1)]();if(_0x397b2d){const _0x5db059=_0x397b2d[_0x251163(0x227)],_0x39aea0=_0x5db059?capitalize(_0x5db059):_0x251163(0x24b);dbConfig[_0x251163(0x267)](_0x251163(0x23d))['find']({'botID':botID})[_0x251163(0x1ae)]({'exchange':_0x39aea0})[_0x251163(0x238)]();}}if(isOlderVersion(_0x1f0f58,_0x251163(0x283))){let _0x558ba4=dbConfig[_0x251163(0x267)](_0x251163(0x23d))['find']({'botID':botID})['value']();if(_0x558ba4){const _0x5ae9ac=_0x558ba4[_0x251163(0x2e9)],_0x579332=_0x5ae9ac?_0x251163(0x2b0):![];dbConfig[_0x251163(0x267)](_0x251163(0x23d))[_0x251163(0x168)]({'botID':botID})[_0x251163(0x1ae)]({'marketcapEnabled':_0x579332})[_0x251163(0x238)]();}}let _0x58df06=dbPerformance[_0x251163(0x267)](_0x251163(0x264))[_0x251163(0x2f1)]();isOlderVersion(_0x58df06,'2.3.5')&&setStartDatePerformance();let _0x464486=dbCoinResults[_0x251163(0x267)](_0x251163(0x264))[_0x251163(0x2f1)]();if(isOlderVersion(_0x464486,_0x251163(0x161))){let _0x59d3a5=dbCoinResults[_0x251163(0x267)]('coins')['value']();if(_0x59d3a5[_0x251163(0x1c9)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x36c90b=_0x4ca2fb;dbConfig[_0x36c90b(0x1f3)](_0x36c90b(0x264),serverversion)[_0x36c90b(0x238)](),dbPerformance[_0x36c90b(0x1f3)](_0x36c90b(0x264),serverversion)[_0x36c90b(0x238)](),dbLogs[_0x36c90b(0x1f3)](_0x36c90b(0x264),serverversion)[_0x36c90b(0x238)](),dbCoinResults[_0x36c90b(0x1f3)](_0x36c90b(0x264),serverversion)['write']();}function getConfiguration(_0x12eb45){const _0x5adcbc=_0x4ca2fb;let _0x6e1de8=dbConfig['get'](_0x5adcbc(0x23d))['find']({'botID':_0x12eb45})[_0x5adcbc(0x2f1)]();if(_0x6e1de8){let _0xa71093=![];typeof _0x6e1de8[_0x5adcbc(0x1e5)]=='string'&&(_0x6e1de8={..._0x6e1de8,'threshold':Number(_0x6e1de8[_0x5adcbc(0x1e5)])},_0xa71093=!![]),_0x6e1de8[_0x5adcbc(0x158)]==undefined&&(_0x6e1de8={..._0x6e1de8,'change24h':-0x14},_0xa71093=!![]),_0x6e1de8[_0x5adcbc(0x2fd)]==undefined&&(_0x6e1de8={..._0x6e1de8,'fiat':_0x5adcbc(0x198)},_0xa71093=!![]),_0x6e1de8[_0x5adcbc(0x2b8)]==undefined&&(_0x6e1de8={..._0x6e1de8,'onepagemode':settings['onepagemode']},_0xa71093=!![]),_0x6e1de8[_0x5adcbc(0x1a9)]==undefined&&(_0x6e1de8={..._0x6e1de8,'colorscheme':_0x5adcbc(0x2d8)},_0xa71093=!![]),_0x6e1de8[_0x5adcbc(0x1e1)]==undefined&&(_0x6e1de8={..._0x6e1de8,'autoliquidity':!![]},_0xa71093=!![]),_0x6e1de8[_0x5adcbc(0x29c)]==undefined&&(_0x6e1de8={..._0x6e1de8,'marketcapApi':settings[_0x5adcbc(0x29c)]?!![]:![]},_0xa71093=!![]),_0x6e1de8[_0x5adcbc(0x2e9)]==undefined&&(_0x6e1de8={..._0x6e1de8,'marketcapEnabled':![]},_0xa71093=!![]),_0xa71093&&(_0x6e1de8={'botID':_0x6e1de8[_0x5adcbc(0x196)],'exchange':_0x6e1de8[_0x5adcbc(0x227)],'apiKey':_0x6e1de8[_0x5adcbc(0x1d5)],'apiSecret':_0x6e1de8['apiSecret'],'apiPassword':_0x6e1de8[_0x5adcbc(0x261)],'basecoin':_0x6e1de8['basecoin'],'botname':_0x6e1de8['botname'],'showname':_0x6e1de8['showname'],'threshold':_0x6e1de8[_0x5adcbc(0x1e5)],'ordertype':_0x6e1de8[_0x5adcbc(0x162)],'timeout':_0x6e1de8[_0x5adcbc(0x26c)],'fiat':_0x6e1de8[_0x5adcbc(0x2fd)],'startdate':_0x6e1de8[_0x5adcbc(0x1da)],'recreate':_0x6e1de8[_0x5adcbc(0x25a)],'timeshift':_0x6e1de8[_0x5adcbc(0x293)],'onepagemode':_0x6e1de8['onepagemode'],'headless':_0x6e1de8[_0x5adcbc(0x2cc)],'cooldown':_0x6e1de8['cooldown'],'change24h':_0x6e1de8[_0x5adcbc(0x158)],'emojibuy':_0x6e1de8[_0x5adcbc(0x2ae)],'emojisell':_0x6e1de8[_0x5adcbc(0x206)],'colorscheme':_0x6e1de8[_0x5adcbc(0x1a9)],'marketcapApi':_0x6e1de8[_0x5adcbc(0x29c)],'marketcapEnabled':_0x6e1de8[_0x5adcbc(0x2e9)],'portfolio':_0x6e1de8[_0x5adcbc(0x22e)],'autoliquidity':_0x6e1de8[_0x5adcbc(0x1e1)],'liquidity':_0x6e1de8[_0x5adcbc(0x190)],'openOrders':_0x6e1de8[_0x5adcbc(0x29e)]},dbConfig[_0x5adcbc(0x267)](_0x5adcbc(0x23d))['remove']()[_0x5adcbc(0x238)](),dbConfig['get'](_0x5adcbc(0x23d))[_0x5adcbc(0x272)](_0x6e1de8)[_0x5adcbc(0x238)]());}else _0x6e1de8={'botID':_0x12eb45,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x12eb45,'showname':![],'threshold':0x3,'ordertype':_0x5adcbc(0x25d),'timeout':0x14,'fiat':_0x5adcbc(0x198),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x5adcbc(0x293)],'onepagemode':settings[_0x5adcbc(0x2b8)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x5adcbc(0x2d8),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x6e1de8;}function emittedConfiguration(){const _0x51fd89=_0x4ca2fb;let _0x2f75fe;if(config[_0x51fd89(0x1d5)]=='')_0x2f75fe={...config,'configstate':_0x51fd89(0x1b6)};else config[_0x51fd89(0x1d5)]==_0x51fd89(0x21b)?_0x2f75fe={...config,'configstate':_0x51fd89(0x2c6)}:(_0x2f75fe={...config,'apiKey':'************','apiSecret':_0x51fd89(0x20d)},config[_0x51fd89(0x261)]&&(_0x2f75fe[_0x51fd89(0x261)]='************'));return _0x2f75fe;}function getSettings(){const _0x24bf03=_0x4ca2fb;return dbSettings['get'](_0x24bf03(0x290))['value']();}function getSecure(){const _0x1a5a68=_0x4ca2fb;return dbSecure[_0x1a5a68(0x267)](_0x1a5a68(0x1a4))['value']()||{};}function updateTimeshift(_0x4c661c){const _0x1b1c52=_0x4ca2fb;let _0x41386c=dbConfig[_0x1b1c52(0x267)](_0x1b1c52(0x23d))[_0x1b1c52(0x168)]({'botID':botID})[_0x1b1c52(0x2f1)]();_0x41386c&&dbConfig[_0x1b1c52(0x267)](_0x1b1c52(0x23d))[_0x1b1c52(0x168)]({'botID':botID})[_0x1b1c52(0x1ae)]({'timeshift':_0x4c661c})[_0x1b1c52(0x238)](),config[_0x1b1c52(0x293)]=_0x4c661c,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0xf0fe9f){const _0x294fa8=_0x4ca2fb;let _0x14950b=dbConfig[_0x294fa8(0x267)](_0x294fa8(0x23d))[_0x294fa8(0x168)]({'botID':botID})[_0x294fa8(0x2f1)]();_0x14950b&&dbConfig[_0x294fa8(0x267)](_0x294fa8(0x23d))[_0x294fa8(0x168)]({'botID':botID})[_0x294fa8(0x1ae)]({'onepagemode':_0xf0fe9f})[_0x294fa8(0x238)](),config[_0x294fa8(0x2b8)]=_0xf0fe9f,proxyEmit(_0x294fa8(0x297),emittedConfiguration());}function updateMarketcapApi(_0x594536){const _0x32b6fe=_0x4ca2fb,_0x3fb9db=_0x594536?!![]:![];let _0x296d13=dbConfig[_0x32b6fe(0x267)](_0x32b6fe(0x23d))[_0x32b6fe(0x168)]({'botID':botID})[_0x32b6fe(0x2f1)]();_0x296d13&&dbConfig['get'](_0x32b6fe(0x23d))[_0x32b6fe(0x168)]({'botID':botID})['assign']({'marketcapApi':_0x3fb9db})['write'](),config['marketcapApi']=_0x3fb9db,getMarketCap(),proxyEmit(_0x32b6fe(0x297),emittedConfiguration());}async function storeConfiguration(_0x5a000e){const _0x1daf75=_0x4ca2fb;logger[_0x1daf75(0x2cb)](_0x1daf75(0x164));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug'](_0x1daf75(0x24a));let _0x3e25cd=![],_0x5cd598=![],_0x3cfc96=[];_0x5a000e[_0x1daf75(0x22e)][_0x1daf75(0x2be)](_0x4d9ffc=>{const _0x5f3906=_0x1daf75;if(!_0x4d9ffc[_0x5f3906(0x2f6)]&&_0x4d9ffc[_0x5f3906(0x1f9)]!=_0x5a000e[_0x5f3906(0x1f2)])_0x3cfc96['push'](_0x4d9ffc['symbol']);}),_0x3cfc96[_0x1daf75(0x2be)](_0x2d4695=>{const _0x34ac1c=_0x1daf75,_0x46347f=currentCoins[_0x34ac1c(0x168)](_0x5309d1=>_0x5309d1['symbol']==_0x2d4695);!_0x46347f&&(_0x3e25cd=!![]);}),currentCoins['forEach'](_0x3c27b2=>{const _0x58aac0=_0x1daf75;if(_0x3c27b2[_0x58aac0(0x1f9)]!=config[_0x58aac0(0x1f2)]){const _0x4dbe75=_0x3cfc96['find'](_0x1c74e0=>_0x1c74e0==_0x3c27b2['symbol']);!_0x4dbe75&&(_0x3e25cd=!![]);}}),_0x5a000e[_0x1daf75(0x22e)]['forEach'](_0x453f3f=>{const _0x2f5e83=_0x1daf75,_0xc2f4ab=config['portfolio'][_0x2f5e83(0x168)](_0x19baf0=>_0x19baf0[_0x2f5e83(0x1f9)]==_0x453f3f[_0x2f5e83(0x1f9)]);if(_0xc2f4ab&&_0x453f3f[_0x2f5e83(0x24e)]!=_0xc2f4ab[_0x2f5e83(0x24e)])_0x5cd598=!![];});let _0x29709e=dbConfig['get']('bot')['find']({'botID':botID})[_0x1daf75(0x2f1)]();_0x5a000e={..._0x5a000e,'apiKey':crypt['decrypt'](secure[_0x1daf75(0x203)],_0x5a000e[_0x1daf75(0x1d5)])[_0x1daf75(0x2d9)],'apiSecret':crypt[_0x1daf75(0x17c)](secure['privateKey'],_0x5a000e['apiSecret'])['message']};_0x5a000e[_0x1daf75(0x261)]&&(_0x5a000e['apiPassword']=crypt[_0x1daf75(0x17c)](secure['privateKey'],_0x5a000e[_0x1daf75(0x261)])[_0x1daf75(0x2d9)]);let _0x16d624=![];if(_0x29709e){_0x5a000e['apiKey']==_0x1daf75(0x20d)?_0x5a000e[_0x1daf75(0x1d5)]=config[_0x1daf75(0x1d5)]:_0x16d624=!![];_0x5a000e[_0x1daf75(0x1a3)]=='************'?_0x5a000e[_0x1daf75(0x1a3)]=config[_0x1daf75(0x1a3)]:_0x16d624=!![];if(_0x5a000e[_0x1daf75(0x261)]==_0x1daf75(0x20d))_0x5a000e[_0x1daf75(0x261)]=config[_0x1daf75(0x261)];else{if(_0x5a000e[_0x1daf75(0x261)])_0x16d624=!![];}dbConfig[_0x1daf75(0x267)](_0x1daf75(0x23d))[_0x1daf75(0x168)]({'botID':botID})[_0x1daf75(0x1ae)](_0x5a000e)[_0x1daf75(0x238)]();}else dbConfig['get'](_0x1daf75(0x23d))[_0x1daf75(0x272)](_0x5a000e)[_0x1daf75(0x238)](),_0x16d624=!![],process[_0x1daf75(0x1d4)]({'status':_0x1daf75(0x2bc),'live':_0x1daf75(0x16c)},_0x13e409=>{});process['send']({'botname':_0x5a000e[_0x1daf75(0x2a4)]},_0x34530e=>{}),config={..._0x5a000e},updateBotManager(),proxyEmit(_0x1daf75(0x212)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x16d624)await reset(!![]);else _0x3e25cd||_0x5cd598?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x1daf75(0x2cb)](_0x1daf75(0x239));}async function storeHeadless(_0x2e2095){const _0x36e820=_0x4ca2fb,_0x41d549={...config,'headless':_0x2e2095['headless']};let _0x369ab2=dbConfig['get'](_0x36e820(0x23d))[_0x36e820(0x168)]({'botID':botID})[_0x36e820(0x2f1)]();_0x369ab2&&dbConfig[_0x36e820(0x267)](_0x36e820(0x23d))['find']({'botID':botID})[_0x36e820(0x1ae)](_0x41d549)[_0x36e820(0x238)](),config={..._0x41d549},updateBotManager(),proxyEmit(_0x36e820(0x297),emittedConfiguration());}async function storeFiat(_0x8cf4b4){const _0x185816=_0x4ca2fb,_0x3285a5={...config,'fiat':_0x8cf4b4};let _0xf29d4f=dbConfig['get'](_0x185816(0x23d))['find']({'botID':botID})[_0x185816(0x2f1)]();_0xf29d4f&&dbConfig[_0x185816(0x267)]('bot')[_0x185816(0x168)]({'botID':botID})['assign'](_0x3285a5)[_0x185816(0x238)](),config={..._0x3285a5},proxyEmit(_0x185816(0x297),emittedConfiguration());}function resetHistory(){const _0x3d6bfd=_0x4ca2fb;logger['full'](_0x3d6bfd(0x275));try{if(fs[_0x3d6bfd(0x2a9)](path[_0x3d6bfd(0x24c)](configpath,_0x3d6bfd(0x2c7)+botID+_0x3d6bfd(0x240))))fs[_0x3d6bfd(0x1c8)](path['join'](configpath,_0x3d6bfd(0x2c7)+botID+_0x3d6bfd(0x240)));if(fs[_0x3d6bfd(0x2a9)](path[_0x3d6bfd(0x24c)](configpath,_0x3d6bfd(0x2c7)+botID+_0x3d6bfd(0x1dc))))fs[_0x3d6bfd(0x1c8)](path[_0x3d6bfd(0x24c)](configpath,_0x3d6bfd(0x2c7)+botID+_0x3d6bfd(0x1dc)));if(fs[_0x3d6bfd(0x2a9)](path[_0x3d6bfd(0x24c)](configpath,_0x3d6bfd(0x2c7)+botID+_0x3d6bfd(0x2a7))))fs[_0x3d6bfd(0x1c8)](path[_0x3d6bfd(0x24c)](configpath,_0x3d6bfd(0x2c7)+botID+_0x3d6bfd(0x2a7)));}catch(_0x1c7294){if(_0x1c7294)logger['full']('Error\x20while\x20deleting\x20files:\x20',_0x1c7294);}const _0x13edba=getDate();let _0x13f2d2=[];currentCoins[_0x3d6bfd(0x2be)](_0x597e8f=>{const _0x10e140=_0x3d6bfd;_0x13f2d2[_0x10e140(0x272)]({'coin':_0x597e8f[_0x10e140(0x1f9)],'number':_0x597e8f['number'],'price':_0x597e8f[_0x10e140(0x2f2)]});});let _0x12a1b9=dbConfig[_0x3d6bfd(0x267)](_0x3d6bfd(0x23d))['find']({'botID':botID})[_0x3d6bfd(0x2f1)]();_0x12a1b9&&(dbConfig['get'](_0x3d6bfd(0x23d))[_0x3d6bfd(0x168)]({'botID':botID})['assign']({'liquidity':[{'date':_0x13edba,'changes':_0x13f2d2}]})['write'](),config[_0x3d6bfd(0x190)]=[]),process[_0x3d6bfd(0x1d4)]({'stop':'restart'},_0x32c49c=>{});}function noslash(_0xf69b5b){const _0x23ed81=_0x4ca2fb;return _0xf69b5b[_0x23ed81(0x17b)]('/','');}function updateHighestFee(_0x6a691a){const _0x373294=_0x4ca2fb;if(_0x6a691a[_0x373294(0x1d1)]){let _0x23e54c={'filled':_0x6a691a['filled']*_0x6a691a[_0x373294(0x18c)],'amount':_0x6a691a['filled']*_0x6a691a['price'],'side':_0x6a691a[_0x373294(0x25f)]=='sell'?_0x373294(0x255):_0x373294(0x16e),'price':0x1/_0x6a691a[_0x373294(0x18c)]};_0x6a691a={..._0x6a691a,..._0x23e54c};}const _0x5588d4=defaultFee*_0x6a691a['filled']*_0x6a691a[_0x373294(0x18c)];lastFees[_0x373294(0x2ab)][_0x373294(0x1c9)]===0x14&&lastFees[_0x373294(0x2ab)][_0x373294(0x2d4)](),lastFees['recent20']['push'](_0x5588d4),lastFees['highest']=Math[_0x373294(0x1ed)](...lastFees[_0x373294(0x2ab)]);}async function updateNumberCoinsCcxt(_0x5246e7){const _0xec31e2=_0x4ca2fb;logger[_0xec31e2(0x2cb)]('0\x20-\x20EXECUTION:\x20'+_0x5246e7[_0xec31e2(0x1ca)]+_0xec31e2(0x251)+_0x5246e7[_0xec31e2(0x1f1)]+_0xec31e2(0x251)+_0x5246e7[_0xec31e2(0x1a5)]+_0xec31e2(0x19c)+_0x5246e7[_0xec31e2(0x2ac)]+_0xec31e2(0x251)+_0x5246e7['id']);let _0x3a6626=_0x5246e7[_0xec31e2(0x1f1)],_0x490e44=![];currentCoins[_0xec31e2(0x2be)](_0x5be939=>{const _0x2edfc4=_0xec31e2;_0x5be939[_0x2edfc4(0x1ca)]==_0x5246e7[_0x2edfc4(0x1ca)]&&(_0x490e44=!![]);});if(!_0x490e44)return;const _0x161078=currentCoins[_0xec31e2(0x168)](_0x5f53ef=>_0x5f53ef[_0xec31e2(0x1ca)]==_0x5246e7[_0xec31e2(0x1ca)]),_0xda4fee=_0x12be33=>{const _0x18a758=_0xec31e2;if(_0x161078)_0x161078[_0x18a758(0x27c)]=_0x12be33;};if(_0x3a6626=='open')_0xda4fee(_0xec31e2(0x183));else{if(_0x3a6626=='canceled'){_0xda4fee(_0xec31e2(0x2f5));const _0x4f454b=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4f454b,await getOpenOrders(),handleOpenOrders();}else{if(_0x3a6626=='closed'){let _0x27266b=![];if(lastOrders)for(const _0x37278e of lastOrders){const _0x43cb3c=0xc8,_0x2bfd0a=0x1388;let _0x447273=0x0;while(!_0x37278e['orderId']&&_0x447273*_0x43cb3c<_0x2bfd0a){_0x447273++,await sleep(_0x43cb3c);}if(_0x447273>0x0)logger[_0xec31e2(0x2cb)](_0xec31e2(0x173)+_0x447273*_0x43cb3c/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x37278e['orderId']==_0x5246e7['id']){logger[_0xec31e2(0x2cb)](_0xec31e2(0x1fe)+_0x5246e7['id']),_0x27266b=!![];if(_0x37278e[_0xec31e2(0x1a5)]==0x0){logger[_0xec31e2(0x2cb)]('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x5246e7['id']);if(_0x5246e7[_0xec31e2(0x199)])_0x37278e[_0xec31e2(0x18c)]=_0x5246e7[_0xec31e2(0x199)];else{if(_0x5246e7[_0xec31e2(0x18c)])_0x37278e[_0xec31e2(0x18c)]=_0x5246e7['price'];else{}}_0x37278e[_0xec31e2(0x1a5)]=_0x5246e7[_0xec31e2(0x1a5)],updateHighestFee(_0x37278e),_0xda4fee(_0xec31e2(0x1a5)),await validateOrders();if(lockOrders==ORDERS[_0xec31e2(0x208)]){const _0x5e6950=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5e6950;}_0x37278e[_0xec31e2(0x20a)]={'currency':_0x5246e7[_0xec31e2(0x20a)]?_0x5246e7[_0xec31e2(0x20a)][_0xec31e2(0x22c)]:null,'cost':_0x5246e7[_0xec31e2(0x20a)]?_0x5246e7[_0xec31e2(0x20a)][_0xec31e2(0x28c)]:0x0},await updateCoinResults(_0x37278e);}}}if(!_0x27266b){logger[_0xec31e2(0x2cb)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x5246e7['id']),_0xda4fee(_0xec31e2(0x1a5));const _0x3e7778=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3e7778,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x5dc81d=JSON['parse'](lastBalances[_0xec31e2(0x22e)]);const _0x4fac5a=_0x5dc81d[_0xec31e2(0x168)](_0x5834ae=>_0x5834ae[_0xec31e2(0x1ca)]==_0x5246e7[_0xec31e2(0x1ca)]);if(_0x4fac5a){if(_0x3a6626=='open')_0x4fac5a[_0xec31e2(0x27c)]=_0x4fac5a[_0xec31e2(0x27c)]=='filled'?_0xec31e2(0x1a5):_0xec31e2(0x183);else{if(_0x3a6626=='canceled')_0x4fac5a['orderstatus']=_0x4fac5a[_0xec31e2(0x27c)]=='filled'?_0xec31e2(0x1a5):_0xec31e2(0x2f5);else _0x3a6626==_0xec31e2(0x1c5)&&(_0x4fac5a[_0xec31e2(0x27c)]=_0xec31e2(0x1a5));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x5dc81d)},proxyEmit(_0xec31e2(0x2db),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x23fa61=_0x4ca2fb;await getOpenOrders();let _0x34739d=![];currentCoins[_0x23fa61(0x2be)](_0x34f808=>{const _0x5b15d7=_0x23fa61;_0x34739d=allOpenOrders[_0x5b15d7(0x168)](_0x223047=>_0x223047['symbol']==_0x34f808[_0x5b15d7(0x1ca)]),_0x34f808[_0x5b15d7(0x27c)]=_0x34739d?_0x5b15d7(0x183):_0x5b15d7(0x1a7);});}async function getCoins(_0x5b5609=0x0,_0x17c5c4=!![],_0x331f40=config[_0x4ca2fb(0x1f2)]){const _0x5255e8=_0x4ca2fb;let _0x905788,_0x226a0a=[],_0x4472fa=[],_0x11f60c=[];if(_0x5b5609)await sleep(_0x5b5609);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x905788=await exchange[_0x5255e8(0x2cf)](),mybalances=_0x905788[_0x5255e8(0x2d3)];for(const [_0x37436c,_0x492d45]of Object['entries'](mybalances)){_0x11f60c[_0x5255e8(0x272)](_0x37436c);}config[_0x5255e8(0x22e)][_0x5255e8(0x2be)](_0x146f66=>{const _0x2435a8=_0x5255e8;!_0x11f60c[_0x2435a8(0x1bd)](_0x146f66[_0x2435a8(0x1f9)])&&(mybalances[_0x146f66[_0x2435a8(0x1f9)]]=0x0);});if(_0x331f40=='')for(const [_0x3c0b89,_0x597cee]of Object[_0x5255e8(0x200)](mybalances)){_0x597cee!=0x0&&_0x226a0a[_0x5255e8(0x272)]({'coin':_0x3c0b89});}else for(const [_0x547b11,_0xb5c761]of Object[_0x5255e8(0x200)](mybalances)){const _0x575de5=config[_0x5255e8(0x22e)][_0x5255e8(0x168)](_0x29dd97=>_0x29dd97[_0x5255e8(0x1f9)]==_0x547b11),_0x575512=_0x547b11+'/'+_0x331f40,_0x4edd95=_0x331f40+'/'+_0x547b11,_0x1f1797=currentCoins[_0x5255e8(0x168)](_0x54ba5e=>_0x54ba5e[_0x5255e8(0x1f9)]==_0x547b11);if((_0xb5c761!=0x0||_0x575de5)&&(allSymbols[_0x5255e8(0x1bd)](_0x575512)||_0x547b11==_0x331f40))_0x1f1797?_0x226a0a[_0x5255e8(0x272)]({..._0x1f1797,'number':Math['max'](_0xb5c761+(_0x575de5&&_0x575de5[_0x5255e8(0x24e)]||0x0),0x0)}):_0x226a0a[_0x5255e8(0x272)]({'coin':_0x547b11,'symbol':_0x575512,'reverse':![],'number':Math['max'](_0xb5c761+(_0x575de5&&_0x575de5['offset']||0x0),0x0),'orderstatus':_0x5255e8(0x1a7)});else{if((_0xb5c761!=0x0||_0x575de5)&&allSymbols[_0x5255e8(0x1bd)](_0x4edd95))_0x1f1797?_0x226a0a[_0x5255e8(0x272)]({..._0x1f1797,'number':Math['max'](_0xb5c761+(_0x575de5&&_0x575de5[_0x5255e8(0x24e)]||0x0),0x0)}):_0x226a0a[_0x5255e8(0x272)]({'coin':_0x547b11,'symbol':_0x4edd95,'reverse':!![],'number':Math[_0x5255e8(0x1ed)](_0xb5c761+(_0x575de5&&_0x575de5[_0x5255e8(0x24e)]||0x0),0x0),'orderstatus':_0x5255e8(0x1a7)});else _0x575de5&&_0x226a0a[_0x5255e8(0x272)]({'coin':_0x575de5['coin'],'symbol':_0x575de5[_0x5255e8(0x1ca)],'reverse':_0x575de5[_0x5255e8(0x1d1)],'number':0x0,'orderstatus':_0x5255e8(0x1a7)});}}}catch(_0x426168){if(!_0x17c5c4)handleErrorNoStop(_0x426168,_0x5255e8(0x2ed));else await handleError(_0x426168,_0x5255e8(0x2ed));}return _0x226a0a[_0x5255e8(0x2ca)]((_0x2810ef,_0x51b5a3)=>_0x2810ef['delta']<_0x51b5a3[_0x5255e8(0x248)]?0x1:_0x51b5a3[_0x5255e8(0x248)]<_0x2810ef['delta']?-0x1:0x0),_0x4472fa=cloneDeep(_0x226a0a),_0x226a0a=_0x226a0a[_0x5255e8(0x2e4)](_0x1f8b05=>{const _0x23f18f=_0x5255e8,_0x316f16=config[_0x23f18f(0x22e)][_0x23f18f(0x168)](_0x17aff1=>_0x17aff1[_0x23f18f(0x1f9)]==_0x1f8b05['coin']);return _0x316f16&&!_0x316f16['excluded'];}),[_0x226a0a,_0x4472fa];}async function getCoinNumber(_0x3d22b1){const _0x3e381f=_0x4ca2fb;let _0x3bb50d;try{const _0x18158c=await exchange[_0x3e381f(0x2cf)]();_0x3bb50d=_0x18158c[_0x3e381f(0x2d3)][_0x3d22b1];}catch(_0x3c64a0){await handleError(_0x3c64a0,_0x3e381f(0x224));}return _0x3bb50d;}async function getOpenOrders(){const _0x284fd4=_0x4ca2fb;let _0x1a405c;allOpenOrders=[];try{for(const _0x3188bf of config[_0x284fd4(0x22e)]){!_0x3188bf[_0x284fd4(0x2f6)]&&_0x3188bf[_0x284fd4(0x1f9)]!=config[_0x284fd4(0x1f2)]&&(_0x1a405c=await exchange[_0x284fd4(0x2f0)](_0x3188bf[_0x284fd4(0x1ca)]),_0x1a405c[_0x284fd4(0x1c9)]>0x0&&allOpenOrders['push'](_0x1a405c[0x0]));}}catch(_0x24e76a){await handleError(_0x24e76a,'getOpenOrders()');}}async function handleOpenOrders(_0x4e2e26=0x0){const _0x5affa3=_0x4ca2fb;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x5affa3(0x208)]&&allOrdersPlaced&&(_0x4e2e26==0x0?(logger[_0x5affa3(0x2cb)](_0x5affa3(0x2c1)),_0x4e2e26++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x5affa3(0x2cb)](_0x5affa3(0x245)),validateOrders(_0x5affa3(0x1ec))));}async function testAPI(_0xa063c4){const _0x486804=_0x4ca2fb,_0x5de311=ccxt[_0x486804(0x16f)][_0xa063c4[_0x486804(0x227)][_0x486804(0x1ff)]()],_0x7143d=new _0x5de311({'apiKey':_0xa063c4[_0x486804(0x1d5)],'secret':_0xa063c4['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x486804(0x213)}});if(_0xa063c4[_0x486804(0x261)])_0x7143d['password']=_0xa063c4[_0x486804(0x261)];try{await _0x7143d[_0x486804(0x185)]();}catch(_0x3d5525){throw _0x3d5525;}}function cloneDeep(_0x4dc5f5){const _0x4b470d=_0x4ca2fb;return JSON[_0x4b470d(0x276)](JSON[_0x4b470d(0x27f)](_0x4dc5f5));}async function getPortfolio(_0x478aa8){const _0x1fb91a=_0x4ca2fb;let _0x53ccb3=[],_0x44a44b=[],_0x53d189=[],_0x15b9cd;if(_0x478aa8[_0x1fb91a(0x1d5)]!=='************'||_0x478aa8[_0x1fb91a(0x1a3)]!==_0x1fb91a(0x20d)||_0x478aa8[_0x1fb91a(0x261)]&&_0x478aa8['apiPassword']!=='************'){if(config['exchange']){if(_0x478aa8[_0x1fb91a(0x1d5)]=='************')_0x478aa8[_0x1fb91a(0x1d5)]=config[_0x1fb91a(0x1d5)];if(_0x478aa8[_0x1fb91a(0x1a3)]==_0x1fb91a(0x20d))_0x478aa8[_0x1fb91a(0x1a3)]=config[_0x1fb91a(0x1a3)];if(_0x478aa8['apiPassword']==_0x1fb91a(0x20d))_0x478aa8[_0x1fb91a(0x261)]=config[_0x1fb91a(0x261)];try{await testAPI(_0x478aa8);}catch(_0x453996){if(_0x453996[_0x1fb91a(0x1f0)]()['includes'](_0x1fb91a(0x28a))){logger[_0x1fb91a(0x2cb)](_0x1fb91a(0x242)),proxyEmit('portfolio',![]);return;}else{handleError(_0x453996,'getPortfolio(0)');return;}}}await initExchange(_0x478aa8[_0x1fb91a(0x227)],_0x478aa8[_0x1fb91a(0x1d5)],_0x478aa8['apiSecret'],_0x478aa8['apiPassword']);try{await loadSymbols();}catch(_0x6cc581){if(_0x6cc581[_0x1fb91a(0x1f0)]()['includes']('AuthenticationError')){proxyEmit(_0x1fb91a(0x22e),![]);return;}else{handleError(_0x6cc581,'getPortfolio(1)');return;}}const _0x46c9cc=await getCoins(0x0,![],_0x478aa8[_0x1fb91a(0x1f2)]);_0x53d189=cloneDeep(_0x46c9cc[0x1]);}else{const _0x4ed140=await getCoins();_0x53d189=cloneDeep(_0x4ed140[0x1]);}if(_0x478aa8['basecoin']=='')proxyEmit(_0x1fb91a(0x22e),_0x53d189);else{_0x53d189['forEach'](_0x4bdb63=>{const _0x2e054b=_0x1fb91a;if(_0x4bdb63[_0x2e054b(0x1f9)]!=_0x478aa8[_0x2e054b(0x1f2)]&&allSymbols[_0x2e054b(0x1bd)](_0x4bdb63['symbol']))_0x53ccb3[_0x2e054b(0x272)](_0x4bdb63[_0x2e054b(0x1ca)]);});if(_0x53ccb3[_0x1fb91a(0x1c9)]==0x0)logHistory('error','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x44a44b=await getTickers(_0x53ccb3);}catch(_0x8b6f31){if(_0x8b6f31[_0x1fb91a(0x1f0)]()[_0x1fb91a(0x1bd)](_0x1fb91a(0x28a))){proxyEmit(_0x1fb91a(0x22e),![]);return;}else handleError(_0x8b6f31,'getPortfolio(2)');}_0x53d189[_0x1fb91a(0x2be)](_0x2aafb6=>{const _0x578245=_0x1fb91a;_0x2aafb6[_0x578245(0x1f9)]!=_0x478aa8[_0x578245(0x1f2)]?_0x44a44b[_0x2aafb6[_0x578245(0x1ca)]]?_0x15b9cd=_0x2aafb6[_0x578245(0x1d1)]?0x1/_0x44a44b[_0x2aafb6[_0x578245(0x1ca)]][_0x578245(0x2f2)]:_0x44a44b[_0x2aafb6[_0x578245(0x1ca)]][_0x578245(0x2f2)]:_0x15b9cd=0x0:_0x15b9cd=0x1,_0x2aafb6[_0x578245(0x18c)]=formatResult(_0x15b9cd,0x8);}),await getMarketCap(_0x53d189),proxyEmit('portfolio',_0x53d189);}}}function truncateTradeAmount(_0xcda9ff,_0x2d06d8){let _0x55dd42=0x0;try{_0x55dd42=exchange['amountToPrecision'](_0xcda9ff,_0x2d06d8);}catch(_0x20a920){}return _0x55dd42;}function checkMinimums(_0x4e76f5){const _0x2874de=_0x4ca2fb;let _0x305458=!![];const _0x44d596=!_0x4e76f5['reverse']?markets[_0x4e76f5[_0x2874de(0x1ca)]]['limits'][_0x2874de(0x2ac)][_0x2874de(0x1fc)]:markets[_0x4e76f5[_0x2874de(0x1ca)]][_0x2874de(0x23a)]['cost'][_0x2874de(0x1fc)],_0x1c48d1=!_0x4e76f5[_0x2874de(0x1d1)]?markets[_0x4e76f5[_0x2874de(0x1ca)]][_0x2874de(0x23a)][_0x2874de(0x28c)][_0x2874de(0x1fc)]:markets[_0x4e76f5['symbol']][_0x2874de(0x23a)][_0x2874de(0x2ac)][_0x2874de(0x1fc)],_0x4587d1=truncateTradeAmount(_0x4e76f5[_0x2874de(0x1ca)],_0x4e76f5[_0x2874de(0x181)]);_0x4e76f5[_0x2874de(0x181)]=_0x4587d1;if(Math[_0x2874de(0x237)](_0x4587d1)<_0x44d596)_0x305458=![];if(Math[_0x2874de(0x237)](_0x4587d1)*_0x4e76f5[_0x2874de(0x2f2)]<_0x1c48d1)_0x305458=![];if(_0x4e76f5[_0x2874de(0x25f)]==_0x2874de(0x16e)){let _0x4fadc8=config[_0x2874de(0x22e)][_0x2874de(0x168)](_0x311d7f=>_0x311d7f[_0x2874de(0x1f9)]==_0x4e76f5[_0x2874de(0x1f9)]);if(_0x4fadc8[_0x2874de(0x24e)]>0x0){if(Math[_0x2874de(0x237)](_0x4587d1)>_0x4e76f5[_0x2874de(0x25c)]-_0x4fadc8[_0x2874de(0x24e)])_0x305458=![];}else{if(Math[_0x2874de(0x237)](_0x4587d1)>_0x4e76f5[_0x2874de(0x25c)])_0x305458=![];}}if(_0x4e76f5[_0x2874de(0x25f)]==_0x2874de(0x255)){let _0x59be20=config[_0x2874de(0x22e)][_0x2874de(0x168)](_0x266d81=>_0x266d81[_0x2874de(0x1f9)]==config[_0x2874de(0x1f2)]),_0x4d6b03=currentCoins[_0x2874de(0x168)](_0x34aff4=>_0x34aff4[_0x2874de(0x1f9)]==config['basecoin']);if(_0x59be20[_0x2874de(0x24e)]>0x0){if(Math[_0x2874de(0x237)](_0x4587d1)*_0x4e76f5[_0x2874de(0x2f2)]>_0x4d6b03['number']-_0x59be20[_0x2874de(0x24e)])_0x305458=![];}else{if(Math[_0x2874de(0x237)](_0x4587d1)*_0x4e76f5[_0x2874de(0x2f2)]>_0x4d6b03[_0x2874de(0x25c)])_0x305458=![];}}return _0x305458;}async function getBalances(_0x38c0e0=!![]){const _0xe919f9=_0x4ca2fb;let _0xd53e8a=0x0,_0x4a44e1;const _0x56d588=config[_0xe919f9(0x1e5)];if(config[_0xe919f9(0x2cc)]&&config[_0xe919f9(0x158)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x3f1d7e=>{const _0x2865ad=_0xe919f9;if(_0x3f1d7e[_0x2865ad(0x1f9)]!=config['basecoin']){let _0x582704=global[_0x2865ad(0x27b)][noslash(_0x3f1d7e[_0x2865ad(0x1ca)])];_0x4a44e1=_0x3f1d7e[_0x2865ad(0x1d1)]?0x1/_0x582704:_0x582704;}else _0x4a44e1=0x1;let _0x2ad500=_0x3f1d7e[_0x2865ad(0x25c)]*_0x4a44e1;_0xd53e8a+=_0x2ad500,_0x3f1d7e[_0x2865ad(0x2f2)]=formatResult(Number(_0x4a44e1),0x8),_0x3f1d7e[_0x2865ad(0x2f1)]=_0x2ad500;}),currentCoins[_0xe919f9(0x2be)](_0x43360=>{const _0x228a23=_0xe919f9;let _0x22300c=config[_0x228a23(0x22e)][_0x228a23(0x168)](_0x12ed77=>_0x12ed77['coin']==_0x43360['coin']),_0x2bfaf8=Number(_0x22300c[_0x228a23(0x243)]),_0xff7990=_0x43360[_0x228a23(0x2f1)]/_0xd53e8a*0x64,_0x556e20=_0x2bfaf8*_0xd53e8a/0x64/_0x43360['last']-_0x43360['number'];_0x43360[_0x228a23(0x243)]=formatResult(_0xff7990,0x3),_0x43360[_0x228a23(0x1ac)]=formatResult(_0x2bfaf8,0x3),_0x43360[_0x228a23(0x181)]=formatResult(_0x556e20,0x8),_0x43360[_0x228a23(0x25f)]='',_0x43360[_0x228a23(0x2c0)]=![];if(_0x43360[_0x228a23(0x1f9)]!=config[_0x228a23(0x1f2)]){if(_0x43360[_0x228a23(0x243)]>_0x2bfaf8)_0x43360['side']=_0x228a23(0x16e),_0x43360[_0x228a23(0x2c0)]=checkMinimums(_0x43360);else _0x43360[_0x228a23(0x243)]<_0x2bfaf8&&(_0x43360[_0x228a23(0x25f)]=_0x228a23(0x255),_0x43360[_0x228a23(0x2c0)]=checkMinimums(_0x43360));}_0x43360[_0x228a23(0x248)]=_0x43360[_0x228a23(0x243)]/_0x43360[_0x228a23(0x1ac)]-0x1;if(_0x43360[_0x228a23(0x27c)]==_0x228a23(0x1a5)||_0x43360[_0x228a23(0x27c)]==_0x228a23(0x2f5))_0x43360['orderstatus']=_0x228a23(0x1a7);}),currentCoins[_0xe919f9(0x2ca)]((_0x27e253,_0x592818)=>_0x27e253['delta']<_0x592818['delta']?0x1:_0x592818[_0xe919f9(0x248)]<_0x27e253[_0xe919f9(0x248)]?-0x1:0x0);const _0x493b7=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x493b7[_0xe919f9(0x197)],'usd':_0x493b7['usd'],'portfolio':JSON[_0xe919f9(0x27f)](currentCoins),'threshold':_0x56d588},proxyEmit(_0xe919f9(0x2db),{'serverversion':serverversion,'balances':lastBalances});if(_0x38c0e0){if(config[_0xe919f9(0x2cc)])headlessMode({'portfolio':currentCoins,'threshold':_0x56d588});else{if(lockOrders==ORDERS[_0xe919f9(0x166)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x56d588});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1365d2=getNormalizedPerformance();getStartingBalances(_0x1365d2),emitPerformance(_0x1365d2);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x126fe0=getNormalizedPerformance();emitPerformance(_0x126fe0),getStartingBalances(_0x126fe0),logger[_0xe919f9(0x2cb)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2dd33c=_0x4ca2fb;if(!lastBalances)return;let _0x47ede7=[],_0x4372d5,_0xfcdc31=JSON[_0x2dd33c(0x276)](lastBalances[_0x2dd33c(0x22e)]);_0xfcdc31[_0x2dd33c(0x2ca)]((_0x2e1379,_0x3a1bed)=>_0x2e1379[_0x2dd33c(0x1f9)]>_0x3a1bed[_0x2dd33c(0x1f9)]?0x1:_0x3a1bed['coin']>_0x2e1379[_0x2dd33c(0x1f9)]?-0x1:0x0),_0xfcdc31[_0x2dd33c(0x2be)](_0x3d5f71=>{const _0x5b13dd=_0x2dd33c;let _0x4e7e3a={'coin':_0x3d5f71[_0x5b13dd(0x1f9)],'number':_0x3d5f71[_0x5b13dd(0x25c)],'price':_0x3d5f71[_0x5b13dd(0x2f2)]};_0x47ede7[_0x5b13dd(0x272)](_0x4e7e3a);});const _0x50f6f1=await getFiat();_0x4372d5={'date':lastBalances['time'][_0x2dd33c(0x1e8)]('\x20')[0x0],'eur':_0x50f6f1['eur'],'usd':_0x50f6f1['usd'],'coins':_0x47ede7};let _0x21a0cc=dbPerformance['get']('data')['find']({'date':_0x4372d5[_0x2dd33c(0x178)]})[_0x2dd33c(0x2f1)]();_0x21a0cc?_0x4372d5['date']!=config['startdate']&&dbPerformance[_0x2dd33c(0x267)](_0x2dd33c(0x292))['find']({'date':_0x4372d5[_0x2dd33c(0x178)]})[_0x2dd33c(0x1ae)](_0x4372d5)[_0x2dd33c(0x238)]():dbPerformance[_0x2dd33c(0x267)](_0x2dd33c(0x292))[_0x2dd33c(0x272)](_0x4372d5)[_0x2dd33c(0x238)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4b8e3c=_0x4ca2fb;let _0x4cbd80=[];if(dbPerformance[_0x4b8e3c(0x1be)](_0x4b8e3c(0x292))[_0x4b8e3c(0x2f1)]()){let _0x3558de=dbPerformance[_0x4b8e3c(0x267)](_0x4b8e3c(0x292))[_0x4b8e3c(0x1ee)]()[_0x4b8e3c(0x2e4)](_0x5dffd1=>{const _0xa85de0=_0x4b8e3c;if(_0x5dffd1[_0xa85de0(0x21f)][_0xa85de0(0x1c9)]==0x0)return![];else return!![];})[_0x4b8e3c(0x2e0)](_0x4b8e3c(0x178))[_0x4b8e3c(0x2f1)](),_0x2942c6=[...config[_0x4b8e3c(0x190)]];_0x2942c6[_0x4b8e3c(0x2ca)]((_0x18745d,_0x32f6fb)=>_0x18745d[_0x4b8e3c(0x178)]>_0x32f6fb[_0x4b8e3c(0x178)]?-0x1:_0x32f6fb['date']>_0x18745d['date']?0x1:0x0);let _0x5c1fa3=0x1,_0x257214=[],_0x5c3bb9=0x0;_0x3558de[_0x4b8e3c(0x204)]()[_0x4b8e3c(0x1d1)]()[_0x4b8e3c(0x2be)]((_0x2ff888,_0x2487bb)=>{const _0x2a4ffd=_0x4b8e3c;if(_0x2942c6[_0x5c3bb9]){if(_0x3558de[_0x3558de[_0x2a4ffd(0x1c9)]-_0x2487bb]&&_0x2942c6[_0x5c3bb9][_0x2a4ffd(0x178)]==_0x3558de[_0x3558de[_0x2a4ffd(0x1c9)]-_0x2487bb]['date']){if(_0x2487bb<_0x3558de[_0x2a4ffd(0x1c9)]){let _0x2dcbb8=0x0,_0x2e52ca=0x0;_0x3558de[_0x3558de[_0x2a4ffd(0x1c9)]-_0x2487bb][_0x2a4ffd(0x21f)][_0x2a4ffd(0x2be)](_0x5e792f=>{const _0xbe2e0c=_0x2a4ffd;_0x2e52ca+=_0x5e792f[_0xbe2e0c(0x25c)]*_0x5e792f[_0xbe2e0c(0x18c)];}),_0x2942c6[_0x5c3bb9]['changes'][_0x2a4ffd(0x2be)](_0x4ec854=>{const _0x51f801=_0x2a4ffd;_0x2dcbb8+=_0x4ec854[_0x51f801(0x25c)]*_0x4ec854['price'];}),_0x5c1fa3*=_0x2dcbb8/(_0x2e52ca-_0x2dcbb8)+0x1;}_0x5c3bb9++;}}let _0x2408ad=0x0;_0x2ff888['coins'][_0x2a4ffd(0x2be)](_0xc556b4=>{const _0x1211da=_0x2a4ffd;_0x2408ad+=_0xc556b4[_0x1211da(0x25c)]*_0xc556b4[_0x1211da(0x18c)];}),_0x257214[_0x3558de[_0x2a4ffd(0x1c9)]-_0x2487bb-0x1]=_0x2408ad*(_0x5c1fa3-0x1);});let _0x102136=[];_0x2942c6=[...config[_0x4b8e3c(0x190)]]||[];let _0x77bde0=0x0;_0x5c3bb9=0x0,_0x3558de[_0x4b8e3c(0x2be)]((_0x11f630,_0x266f84)=>{const _0x41be8a=_0x4b8e3c;if(_0x2942c6[_0x5c3bb9]){const _0x37b3da=fns[_0x41be8a(0x276)](_0x2942c6[_0x5c3bb9][_0x41be8a(0x178)],_0x41be8a(0x2e3),new Date()),_0x1d170c=fns[_0x41be8a(0x276)](_0x11f630[_0x41be8a(0x178)],_0x41be8a(0x2e3),new Date());if(fns[_0x41be8a(0x28f)](_0x37b3da,_0x1d170c)){let _0x258153=0x0;_0x2942c6[_0x5c3bb9]['changes'][_0x41be8a(0x2be)](_0x40eba0=>{const _0xa167cb=_0x41be8a;!_0x102136[_0x40eba0[_0xa167cb(0x1f9)]]?_0x102136[_0x40eba0[_0xa167cb(0x1f9)]]=_0x40eba0[_0xa167cb(0x25c)]:(_0x258153=_0x102136[_0x40eba0[_0xa167cb(0x1f9)]],_0x102136[_0x40eba0['coin']]+=_0x40eba0[_0xa167cb(0x25c)]);const _0x10da37=_0x11f630[_0xa167cb(0x21f)][_0xa167cb(0x168)](_0x2a9664=>_0x2a9664[_0xa167cb(0x1f9)]==_0x40eba0[_0xa167cb(0x1f9)]);(!_0x10da37||_0x10da37[_0xa167cb(0x25c)]==0x0)&&(_0x77bde0+=(-_0x40eba0[_0xa167cb(0x25c)]-_0x258153)*_0x40eba0[_0xa167cb(0x18c)]);}),_0x5c3bb9++;}}_0x11f630[_0x41be8a(0x21f)][_0x41be8a(0x2be)]((_0x3b15cf,_0x195f84)=>{const _0x4406b5=_0x41be8a;_0x102136[_0x3b15cf[_0x4406b5(0x1f9)]]&&(_0x3b15cf[_0x4406b5(0x1b6)]=_0x102136[_0x3b15cf[_0x4406b5(0x1f9)]]);}),_0x4cbd80[_0x41be8a(0x272)]({'date':_0x11f630[_0x41be8a(0x178)],'eur':_0x11f630['eur'],'usd':_0x11f630[_0x41be8a(0x27d)],'offset':_0x257214[_0x266f84],'netoffset':_0x77bde0,'coins':_0x11f630[_0x41be8a(0x21f)]});});}return _0x4cbd80;}function emitPerformance(_0x3edf9b){const _0x3e2045=_0x4ca2fb;_0x3edf9b[_0x3e2045(0x1c9)]!==0x0?(proxyEmit('performance',_0x3edf9b),lastPerformanceEmitted=getDate()):proxyEmit(_0x3e2045(0x2c4),[]);}function getPerf(_0x4c08ba,_0x500073){const _0x5c2587=_0x4ca2fb;let _0x15d3e5=0x0,_0x477603=0x0,_0x115709=0x0;_0x4c08ba['coins'][_0x5c2587(0x2be)](_0x14c135=>{const _0x453479=_0x5c2587;_0x15d3e5+=_0x14c135[_0x453479(0x25c)]*_0x14c135[_0x453479(0x18c)];});_0x500073&&(_0x15d3e5+=_0x4c08ba[_0x5c2587(0x24e)]);if(config[_0x5c2587(0x1f2)]==='BTC'||config[_0x5c2587(0x1f2)]===_0x5c2587(0x22b)||config[_0x5c2587(0x1f2)]===_0x5c2587(0x288))_0x477603=_0x15d3e5*_0x4c08ba[_0x5c2587(0x197)],_0x115709=_0x15d3e5*_0x4c08ba[_0x5c2587(0x27d)];else{if(usdBasecoins['includes'](config['basecoin']))_0x477603=_0x15d3e5*_0x4c08ba[_0x5c2587(0x197)]/_0x4c08ba[_0x5c2587(0x27d)],_0x115709=_0x15d3e5;else config[_0x5c2587(0x1f2)]===_0x5c2587(0x1b4)&&(_0x477603=_0x15d3e5,_0x115709=_0x15d3e5*_0x4c08ba[_0x5c2587(0x27d)]/_0x4c08ba[_0x5c2587(0x197)]);}return[_0x15d3e5,_0x477603,_0x115709];}function getKPIs(_0x596f06,_0x532d4e=_0x4ca2fb(0x1b4)){const _0x330f56=_0x4ca2fb,_0x22ebba=config[_0x330f56(0x1f2)],_0x1f4ef6=lastBalances,_0x2c1aff=currentCoins,_0x527a97=getNormalizedPerformance(),_0x765875=_0x596f06==='basecoin'?_0x22ebba:_0x596f06===_0x330f56(0x2fd)||_0x596f06===_0x330f56(0x24f)?_0x532d4e:_0x330f56(0x1f5)+_0x22ebba,_0x14fe03=_0x596f06===_0x330f56(0x2b7)?_0x330f56(0x2e7):_0x596f06===_0x330f56(0x24f)?_0x330f56(0x2e7):_0x765875+'\x20value',_0x32703c=_0x596f06===_0x330f56(0x2b7)||_0x596f06===_0x330f56(0x24f)?'Net\x20effect':_0x765875+_0x330f56(0x219);let _0x409fe4=0x0;_0x2c1aff[_0x330f56(0x2be)](_0x3c7c2c=>{const _0x57d7ce=_0x330f56;_0x409fe4+=_0x3c7c2c[_0x57d7ce(0x25c)]*_0x3c7c2c[_0x57d7ce(0x2f2)];});if(_0x596f06==='fiat'||_0x596f06==='net-fiat'){if(_0x22ebba===_0x330f56(0x1c7)||_0x22ebba===_0x330f56(0x22b)||_0x22ebba===_0x330f56(0x288))_0x409fe4=_0x409fe4*(_0x532d4e===_0x330f56(0x1b4)?_0x1f4ef6[_0x330f56(0x197)]:_0x1f4ef6[_0x330f56(0x27d)]);else{if(usdBasecoins['includes'](_0x22ebba))_0x409fe4=_0x409fe4*(_0x532d4e==='EUR'?_0x1f4ef6['eur']/_0x1f4ef6[_0x330f56(0x27d)]:0x1);else _0x22ebba==='EUR'&&(_0x409fe4=_0x409fe4*(_0x532d4e===_0x330f56(0x1b4)?0x1:_0x1f4ef6[_0x330f56(0x27d)]/_0x1f4ef6['eur']));}}let _0x32f4e9;if(_0x409fe4!==0x0){if(_0x596f06===_0x330f56(0x1f2))_0x32f4e9=(_0x409fe4/startingBalances['basecoin']-0x1)*0x64;else{if(_0x532d4e==='EUR')_0x32f4e9=(_0x409fe4/startingBalances[_0x330f56(0x197)]-0x1)*0x64;else _0x32f4e9=(_0x409fe4/startingBalances[_0x330f56(0x27d)]-0x1)*0x64;}let _0x1c7360=0x0;if(startingBalances[_0x330f56(0x21f)])_0x2c1aff['forEach'](_0x2b93db=>{const _0x6de938=_0x330f56;let _0x58937c=startingBalances[_0x6de938(0x21f)][_0x6de938(0x168)](_0x3b479d=>_0x3b479d[_0x6de938(0x1f9)]===_0x2b93db[_0x6de938(0x1f9)]);if(_0x58937c&&_0x58937c[_0x6de938(0x1f9)]&&_0x2b93db[_0x6de938(0x25c)]!==0x0)_0x1c7360+=_0x58937c[_0x6de938(0x25c)]*_0x2b93db[_0x6de938(0x2f2)];});let _0x426ab9=0x0;if(_0x527a97[_0x330f56(0x1c9)]!==0x0){let _0x5090c6=_0x527a97[_0x527a97['length']-0x1];_0x426ab9=_0x5090c6[_0x330f56(0x209)];}_0x1c7360-=_0x426ab9;_0x596f06===_0x330f56(0x2b7)&&(_0x32f4e9=(_0x409fe4-_0x1c7360)/startingBalances[_0x330f56(0x1f2)]*0x64,_0x409fe4=_0x409fe4-_0x1c7360);if(_0x596f06==='net-fiat'){let _0x5a34a4=_0x532d4e===_0x330f56(0x1b4)?startingBalances['eur']:startingBalances[_0x330f56(0x27d)];if(_0x22ebba===_0x330f56(0x1c7)||_0x22ebba==='ETH'||_0x22ebba===_0x330f56(0x288))_0x1c7360=_0x532d4e===_0x330f56(0x1b4)?_0x1c7360*_0x1f4ef6[_0x330f56(0x197)]:_0x1c7360*_0x1f4ef6[_0x330f56(0x27d)];else{if(usdBasecoins[_0x330f56(0x1bd)](_0x22ebba))_0x1c7360=_0x532d4e===_0x330f56(0x1b4)?_0x1c7360*_0x1f4ef6[_0x330f56(0x197)]/_0x1f4ef6['usd']:_0x1c7360;else _0x22ebba===_0x330f56(0x1b4)&&(_0x1c7360=_0x532d4e===_0x330f56(0x1b4)?_0x1c7360:_0x1c7360*_0x1f4ef6[_0x330f56(0x27d)]/_0x1f4ef6['eur']);}_0x32f4e9=(_0x409fe4-_0x1c7360)/_0x5a34a4*0x64,_0x409fe4=_0x409fe4-_0x1c7360;}if(_0x32f4e9){if(_0x32f4e9<0x64)_0x32f4e9=_0x32f4e9[_0x330f56(0x2b9)](0x2);else{if(_0x32f4e9<0x3e8)_0x32f4e9=_0x32f4e9['toFixed'](0x1);else _0x32f4e9=_0x32f4e9[_0x330f56(0x2b9)](0x0);}}else _0x32f4e9=Number('0')[_0x330f56(0x2b9)](0x2);if(_0x409fe4){if(Math[_0x330f56(0x237)](_0x409fe4)<0.000001)_0x409fe4=_0x409fe4[_0x330f56(0x2b9)](0x2);else{if(Math[_0x330f56(0x237)](_0x409fe4)<0.1)_0x409fe4=_0x409fe4[_0x330f56(0x2b9)](0x6);else{if(Math[_0x330f56(0x237)](_0x409fe4)<0x1)_0x409fe4=_0x409fe4[_0x330f56(0x2b9)](0x5);else{if(Math[_0x330f56(0x237)](_0x409fe4)<0xa)_0x409fe4=_0x409fe4[_0x330f56(0x2b9)](0x4);else{if(Math['abs'](_0x409fe4)<0x64)_0x409fe4=_0x409fe4[_0x330f56(0x2b9)](0x3);else{if(Math['abs'](_0x409fe4)<0x3e8)_0x409fe4=_0x409fe4['toFixed'](0x2);else _0x409fe4=_0x409fe4[_0x330f56(0x2b9)](0x2);}}}}}}else _0x409fe4=Number('0')[_0x330f56(0x2b9)](0x2);}else _0x32f4e9=Number('0')['toFixed'](0x2);return{'value':_0x409fe4,'change':_0x32f4e9,'leftTxt':_0x14fe03,'rightTxt':_0x32703c};}async function getStartingBalances(_0x306154,_0x5d5612=!![]){const _0x597f69=_0x4ca2fb;if(_0x306154[_0x597f69(0x1c9)]!==0x0){const [_0x5c36ba,_0xc446fd,_0x10cb0c]=getPerf(_0x306154[0x0],!![]);let _0x182209=[];config['portfolio']['forEach'](_0x38faff=>{const _0x294e76=_0x597f69;let _0x5d1ecc=0x0,_0x1a2927;config[_0x294e76(0x190)][_0x294e76(0x2be)](_0x442e84=>{const _0x3f8a88=_0x294e76;let _0x2392bf=_0x442e84[_0x3f8a88(0x28e)][_0x3f8a88(0x168)](_0x3f2419=>_0x3f2419[_0x3f8a88(0x1f9)]==_0x38faff[_0x3f8a88(0x1f9)]);if(_0x2392bf){_0x5d1ecc+=_0x2392bf['number'];if(!_0x1a2927)_0x1a2927=_0x2392bf[_0x3f8a88(0x18c)];}}),_0x182209[_0x294e76(0x272)]({'coin':_0x38faff['coin'],'number':_0x5d1ecc,'initialprice':_0x1a2927});});const _0x241d9f={'basecoin':_0x5c36ba,'eur':_0xc446fd,'usd':_0x10cb0c,'coins':_0x182209};if(_0x5d5612)proxyEmit('starting-balances',_0x241d9f);startingBalances=_0x241d9f;}}function headlessMode(_0x357c06){const _0xeb8a4a=_0x4ca2fb;let _0x299f4b=_0x357c06[_0xeb8a4a(0x22e)],_0x3920f0=_0x357c06[_0xeb8a4a(0x1e5)],_0x2834d5=[];for(let _0x54ab61 of _0x299f4b){if(_0x54ab61[_0xeb8a4a(0x1f9)]!=config[_0xeb8a4a(0x1f2)]){if(_0x54ab61[_0xeb8a4a(0x248)]>=_0x3920f0/0x64){if(_0x54ab61['valid'])_0x2834d5[_0xeb8a4a(0x272)](_0x54ab61);}else{if(_0x54ab61['delta']<=-_0x3920f0/0x64){if(_0x54ab61[_0xeb8a4a(0x2c0)])_0x2834d5[_0xeb8a4a(0x272)](_0x54ab61);}}}}_0x2834d5[_0xeb8a4a(0x1c9)]>0x0&&(lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&_0x2834d5[_0xeb8a4a(0x2be)](_0x330948=>{const _0x3dfe26=_0xeb8a4a;logger[_0x3dfe26(0x2cb)]('Trigger:\x20'+_0x330948[_0x3dfe26(0x1f9)]+'\x20'+_0x330948[_0x3dfe26(0x25c)]+'\x20'+_0x330948[_0x3dfe26(0x2f2)]+'\x20'+_0x330948[_0x3dfe26(0x243)]+'%\x20'+_0x330948[_0x3dfe26(0x1ac)]+'%\x20'+(0x64*_0x330948[_0x3dfe26(0x248)])[_0x3dfe26(0x2b9)](0x2)+_0x3dfe26(0x174)+_0x3920f0[_0x3dfe26(0x2b9)](0x2)+'%)');}),placeOrder(_0x2834d5));}function notifyBalance(_0x45f99d){const _0x23bd7c=_0x4ca2fb;let _0x127e6c=_0x45f99d[_0x23bd7c(0x22e)],_0x21bcec=_0x45f99d[_0x23bd7c(0x1e5)],_0x5ecf2c=[];for(let _0x2fe710 of _0x127e6c){if(_0x2fe710['coin']!=config[_0x23bd7c(0x1f2)]){if(_0x2fe710[_0x23bd7c(0x248)]>=_0x21bcec/0x64){if(_0x2fe710[_0x23bd7c(0x2c0)])_0x5ecf2c[_0x23bd7c(0x272)](_0x2fe710);}else{if(_0x2fe710[_0x23bd7c(0x248)]<=-_0x21bcec/0x64){if(_0x2fe710['valid'])_0x5ecf2c[_0x23bd7c(0x272)](_0x2fe710);}}}}if(_0x5ecf2c[_0x23bd7c(0x1c9)]>0x0){let _0x52eb72=_0x5ecf2c[_0x23bd7c(0x29b)](_0x26018c=>_0x26018c[_0x23bd7c(0x1f9)]);_0x52eb72['sort']();let _0x3496b6=_0x52eb72[_0x23bd7c(0x24c)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x23bd7c(0x2da));lastCoinsToBalance=_0x3496b6;}}function symbolToCoin(_0x560a22){const _0x3af657=_0x4ca2fb;let _0x5df51c;if(_0x560a22[_0x3af657(0x1bd)]('/'+config[_0x3af657(0x1f2)]))_0x5df51c=_0x560a22[_0x3af657(0x17b)]('/'+config[_0x3af657(0x1f2)],'');if(_0x560a22[_0x3af657(0x1bd)](config[_0x3af657(0x1f2)]+'/'))_0x5df51c=_0x560a22[_0x3af657(0x17b)](config['basecoin']+'/','');return _0x5df51c;}async function unlockOrders(){const _0x2c79fe=_0x4ca2fb;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger['debug'](_0x2c79fe(0x2fe)),lockOrders=ORDERS[_0x2c79fe(0x1f4)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3d6f13=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3d6f13,validateOrdersState=_0x2c79fe(0x1b6),persistOpenOrders([]),lockOrders=ORDERS[_0x2c79fe(0x166)],logger['debug'](_0x2c79fe(0x1d2));}}async function validateOrders(_0x10218d){const _0x1bf60a=_0x4ca2fb;if(_0x10218d)validateOrdersState=_0x10218d;logger[_0x1bf60a(0x2cb)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x1bf60a(0x1b1)+(lockOrders==0x1?_0x1bf60a(0x2f8):lockOrders==0x2?_0x1bf60a(0x278):'ORDERS.UNLOCKED'));let _0x519762=[],_0x4fcf74=config[_0x1bf60a(0x162)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x1bf60a(0x26c)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1bf60a(0x208)])return;logger[_0x1bf60a(0x2cb)](_0x1bf60a(0x2a0)+validateOrdersState),lastOrders[_0x1bf60a(0x2be)](_0x423904=>{const _0x456151=_0x1bf60a;let _0x517167=![];_0x423904['filled']>0x0&&(_0x517167=!![]),_0x519762[_0x456151(0x272)](_0x517167),_0x517167&&config[_0x456151(0x162)]!=_0x456151(0x25d)&&logHistory(_0x456151(0x1fb),_0x456151(0x19a)+_0x423904[_0x456151(0x1ca)]+'\x20'+_0x423904[_0x456151(0x25f)]+'\x20#'+formatResult(_0x423904[_0x456151(0x1a5)],0x8)+'\x20@'+formatResult(_0x423904['price'],0x8));}),_0x519762[_0x1bf60a(0x2be)]((_0x4582dd,_0xf330f4)=>{const _0x5cd5fb=_0x1bf60a;if(_0x4582dd)lastOrders[_0x5cd5fb(0x1e9)](_0xf330f4,0x1);}),persistOpenOrders(lastOrders);const _0x44c801=coolingDown?_0x1bf60a(0x262):_0x1bf60a(0x17f);if(validateOrdersState==_0x1bf60a(0x1b6)){validateOrdersState=_0x1bf60a(0x160);if(_0x519762[_0x1bf60a(0x1bd)](![])){if(config[_0x1bf60a(0x162)]==_0x1bf60a(0x25d)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x1bf60a(0x160)){if(_0x519762[_0x1bf60a(0x1bd)](![])){}else{if(allOrdersPlaced){if(config[_0x1bf60a(0x162)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x519762['includes'](![])&&(config['ordertype']=='market'?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math[_0x1bf60a(0x2f7)](_0x4fcf74*validateOrderInterval/0xea60)+_0x1bf60a(0x22d)+_0x44c801):(await cancelOrders(),logHistory(_0x1bf60a(0x2ea),_0x1bf60a(0x2c8)+Math[_0x1bf60a(0x2f7)](_0x4fcf74*validateOrderInterval/0xea60)+_0x1bf60a(0x22d)+_0x44c801))),await unlockOrders();else{if(validateOrdersState==_0x1bf60a(0x1ec)){if(config[_0x1bf60a(0x162)]!=_0x1bf60a(0x25d))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x44c801);await unlockOrders();}}}}}async function cancelOrders(){const _0x1bd3a3=_0x4ca2fb;lastOrders[_0x1bd3a3(0x2be)](async _0x4bd891=>{const _0x4f9573=_0x1bd3a3;try{const _0x40ce3f=await exchange[_0x4f9573(0x2a3)](_0x4bd891[_0x4f9573(0x2b1)],_0x4bd891[_0x4f9573(0x1ca)]);}catch(_0x3116f9){if(_0x3116f9[_0x4f9573(0x1f0)]()[_0x4f9573(0x1bd)](_0x4f9573(0x2bf))){}else await handleError(_0x3116f9,'cancelOrders()');}});}async function initCoinResults(_0x52cefd){const _0x37c56d=_0x4ca2fb;_0x52cefd?logger[_0x37c56d(0x2cb)](_0x37c56d(0x1c2)+_0x52cefd):logger[_0x37c56d(0x2cb)](_0x37c56d(0x287)),config[_0x37c56d(0x22e)][_0x37c56d(0x2be)](_0x440eb6=>{const _0x96cb3=_0x37c56d;if(!_0x440eb6[_0x96cb3(0x2f6)]&&_0x440eb6[_0x96cb3(0x1f9)]!=config[_0x96cb3(0x1f2)]){const _0x2416e8=currentCoins['find'](_0x5a12fe=>_0x5a12fe['coin']==_0x440eb6[_0x96cb3(0x1f9)]),_0x587c22=global[_0x96cb3(0x27b)][noslash(_0x440eb6[_0x96cb3(0x1ca)])];let _0x5b7e43=_0x2416e8?_0x2416e8[_0x96cb3(0x25c)]:null,_0x20f065=_0x440eb6[_0x96cb3(0x1d1)]?0x1/_0x587c22:_0x587c22,_0x170f49;config[_0x96cb3(0x190)][_0x96cb3(0x2be)](_0x2efd3e=>{const _0x567779=_0x96cb3;!_0x170f49&&(_0x170f49=_0x2efd3e['changes']['find'](_0x3dbb4c=>_0x3dbb4c[_0x567779(0x1f9)]==_0x440eb6[_0x567779(0x1f9)]),_0x170f49&&(_0x5b7e43=_0x170f49[_0x567779(0x25c)],_0x20f065=_0x170f49[_0x567779(0x18c)]));});let _0x43315f=dbCoinResults['get']('coins')[_0x96cb3(0x168)]({'coin':_0x440eb6[_0x96cb3(0x1f9)]})[_0x96cb3(0x2f1)]();if(!_0x43315f){const _0x482d6e={'coin':_0x440eb6[_0x96cb3(0x1f9)],'number':_0x5b7e43,'breakeven':_0x20f065,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x96cb3(0x267)](_0x96cb3(0x21f))['push'](_0x482d6e)[_0x96cb3(0x238)]();}else{if(_0x52cefd&&_0x440eb6['coin']==_0x52cefd){const _0x2612f2={'coin':_0x440eb6[_0x96cb3(0x1f9)],'number':_0x5b7e43,'breakeven':_0x20f065,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x96cb3(0x267)](_0x96cb3(0x21f))['find']({'coin':_0x440eb6['coin']})[_0x96cb3(0x1ae)](_0x2612f2)[_0x96cb3(0x238)]();}}}});}async function updateCoinResults(_0x1edd9d,_0x265bff=![]){const _0x45716d=_0x4ca2fb;let _0x2c2bb9,_0x8de670,_0x61eb3b,_0x162742,_0x24d8fc,_0x362b00,_0x5b0815=dbCoinResults[_0x45716d(0x267)](_0x45716d(0x21f))[_0x45716d(0x168)]({'coin':_0x1edd9d[_0x45716d(0x1f9)]})[_0x45716d(0x2f1)](),_0x25803f=![];_0x5b0815&&Object['entries'](_0x5b0815)['forEach'](([_0x2dc468,_0x24d29e])=>{if(_0x24d29e==null)_0x25803f=!![];});(!_0x5b0815||_0x25803f)&&(await initCoinResults(_0x1edd9d[_0x45716d(0x1f9)]),_0x5b0815=dbCoinResults[_0x45716d(0x267)](_0x45716d(0x21f))['find']({'coin':_0x1edd9d[_0x45716d(0x1f9)]})['value']());_0x1edd9d[_0x45716d(0x1d1)]&&(_0x362b00={'filled':_0x1edd9d[_0x45716d(0x1a5)]*_0x1edd9d[_0x45716d(0x18c)],'amount':_0x1edd9d[_0x45716d(0x1a5)]*_0x1edd9d[_0x45716d(0x18c)],'side':_0x1edd9d[_0x45716d(0x25f)]==_0x45716d(0x16e)?_0x45716d(0x255):'sell','price':0x1/_0x1edd9d[_0x45716d(0x18c)]},_0x1edd9d={..._0x1edd9d,..._0x362b00});_0x265bff?_0x8de670=_0x1edd9d[_0x45716d(0x25f)]==_0x45716d(0x255)?_0x5b0815[_0x45716d(0x25c)]+_0x1edd9d['filled']:_0x5b0815[_0x45716d(0x25c)]-_0x1edd9d[_0x45716d(0x1a5)]:_0x8de670=await getCoinNumber(_0x1edd9d[_0x45716d(0x1f9)]);if(_0x1edd9d['fee']&&_0x1edd9d[_0x45716d(0x20a)][_0x45716d(0x22c)]==config[_0x45716d(0x1f2)])_0x2c2bb9=Number(_0x1edd9d[_0x45716d(0x20a)][_0x45716d(0x28c)]);else{if(_0x1edd9d['fee']&&_0x1edd9d[_0x45716d(0x20a)]['currency']==_0x45716d(0x225)&&!_0x265bff&&config[_0x45716d(0x1f2)]!=_0x45716d(0x288))_0x2c2bb9=Number(_0x1edd9d[_0x45716d(0x20a)][_0x45716d(0x28c)])*global[_0x45716d(0x27b)]['BNB'+config[_0x45716d(0x1f2)]];else _0x2c2bb9=defaultFee*_0x1edd9d[_0x45716d(0x1a5)]*_0x1edd9d[_0x45716d(0x18c)];}_0x1edd9d['side']==_0x45716d(0x255)?(_0x61eb3b=_0x8de670!=0x0?(_0x5b0815[_0x45716d(0x2ee)]*_0x5b0815[_0x45716d(0x25c)]+_0x1edd9d[_0x45716d(0x18c)]*(_0x8de670-_0x5b0815[_0x45716d(0x25c)])+_0x2c2bb9)/_0x8de670:0x0,_0x162742=_0x5b0815[_0x45716d(0x24d)]):(_0x61eb3b=_0x8de670!=0x0?(_0x5b0815['breakeven']*_0x5b0815['number']-_0x1edd9d[_0x45716d(0x18c)]*(_0x5b0815[_0x45716d(0x25c)]-_0x8de670)+_0x2c2bb9)/_0x8de670:0x0,_0x162742=_0x5b0815['realized']+(_0x1edd9d[_0x45716d(0x18c)]-_0x5b0815[_0x45716d(0x2ee)])*_0x1edd9d['filled']);_0x24d8fc=(_0x1edd9d[_0x45716d(0x18c)]-_0x61eb3b-_0x2c2bb9/_0x1edd9d[_0x45716d(0x1a5)])*_0x8de670;let _0x478e82={'coin':_0x1edd9d[_0x45716d(0x1f9)],'number':_0x8de670,'breakeven':formatResult(_0x61eb3b,0x8),'realized':formatResult(_0x162742,0x8),'unrealized':formatResult(_0x24d8fc,0x8),'fees':formatResult(_0x5b0815[_0x45716d(0x175)]+_0x2c2bb9,0x8),'sells':_0x1edd9d[_0x45716d(0x25f)]==_0x45716d(0x16e)?_0x5b0815[_0x45716d(0x1bf)]+0x1:_0x5b0815[_0x45716d(0x1bf)],'buys':_0x1edd9d[_0x45716d(0x25f)]==_0x45716d(0x255)?_0x5b0815[_0x45716d(0x1bc)]+0x1:_0x5b0815[_0x45716d(0x1bc)]};dbCoinResults[_0x45716d(0x267)](_0x45716d(0x21f))[_0x45716d(0x168)]({'coin':_0x1edd9d[_0x45716d(0x1f9)]})['assign'](_0x478e82)[_0x45716d(0x238)]();if(!_0x265bff){if(_0x1edd9d[_0x45716d(0x20a)]&&_0x1edd9d['fee'][_0x45716d(0x22c)]=='BNB'){const _0x43c115=currentCoins['find'](_0x4f4155=>_0x4f4155['coin']==_0x45716d(0x225));if(_0x43c115){let _0x32bb44=dbCoinResults[_0x45716d(0x267)]('coins')['find']({'coin':'BNB'})[_0x45716d(0x2f1)]();_0x478e82={..._0x32bb44,'number':_0x43c115[_0x45716d(0x25c)]},dbCoinResults['get']('coins')['find']({'coin':'BNB'})['assign'](_0x478e82)[_0x45716d(0x238)]();}}}}async function placeOrder(_0x5bf893){const _0x28c8d7=_0x4ca2fb,_0x49be48=config['ordertype']==_0x28c8d7(0x25d)?_0x28c8d7(0x25d):_0x28c8d7(0x1ce);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x28c8d7(0x208)],allOrdersPlaced=![],validateOrdersState=_0x28c8d7(0x1b6);let _0x6167fc=![];lastOrders=[];for(const _0x1caccd of _0x5bf893){let _0x56ff08,_0xae1d03,_0x148afa,_0x11dec3,_0xb91ab5,_0x3afd36=_0x1caccd[_0x28c8d7(0x1ca)];try{const _0x423209=await exchange[_0x28c8d7(0x218)](_0x3afd36);_0x56ff08=_0x1caccd[_0x28c8d7(0x1d1)]?0x1/_0x1caccd[_0x28c8d7(0x2f2)]:_0x1caccd[_0x28c8d7(0x2f2)],_0xae1d03=_0x423209[_0x28c8d7(0x2ff)],_0x148afa=_0x423209['ask'];_0x1caccd[_0x28c8d7(0x1d1)]?(_0x11dec3=_0x1caccd[_0x28c8d7(0x25f)]==_0x28c8d7(0x255)?_0x28c8d7(0x16e):_0x28c8d7(0x255),_0xb91ab5=Math['abs'](_0x1caccd[_0x28c8d7(0x181)])/_0x56ff08):(_0x11dec3=_0x1caccd['side'],_0xb91ab5=Math[_0x28c8d7(0x237)](_0x1caccd[_0x28c8d7(0x181)]));_0x49be48==_0x28c8d7(0x1ce)&&(config['ordertype']==_0x28c8d7(0x2d7)&&(_0x56ff08=_0x11dec3=='buy'?_0xae1d03:_0x148afa),config['ordertype']==_0x28c8d7(0x2bb)&&(_0x56ff08=_0x11dec3==_0x28c8d7(0x255)?_0x148afa:_0xae1d03));_0xb91ab5=formatResult(_0xb91ab5,0x8),_0x56ff08=formatResult(_0x56ff08,0x8);const _0x45c070=_0x11dec3==_0x28c8d7(0x16e)?config['emojisell']?String[_0x28c8d7(0x1b9)]('0x'+config[_0x28c8d7(0x206)])+'\x20':'':config[_0x28c8d7(0x2ae)]?String[_0x28c8d7(0x1b9)]('0x'+config[_0x28c8d7(0x2ae)])+'\x20':'',_0x4db820=_0x49be48=='market'?_0x28c8d7(0x2de):config[_0x28c8d7(0x162)]=='limit-high'?_0x28c8d7(0x29f):_0x28c8d7(0x2e5),_0x2c37f7=(Math[_0x28c8d7(0x1a8)](Math[_0x28c8d7(0x1fa)]()*0x35a4e900)+0x5f5e100)[_0x28c8d7(0x1f0)]();lastOrders['push']({'customId':_0x2c37f7,'symbol':_0x3afd36,'coin':_0x1caccd[_0x28c8d7(0x1f9)],'amount':_0xb91ab5,'price':_0x56ff08,'side':_0x11dec3,'reverse':_0x1caccd[_0x28c8d7(0x1d1)],'filled':0x0});if(_0x49be48=='market')logHistory(_0x28c8d7(0x1fb),''+_0x45c070+_0x4db820+_0x28c8d7(0x26d)+_0x3afd36+'\x20'+_0x11dec3+'\x20#'+formatResult(_0xb91ab5,0x8)+'\x20@'+formatResult(_0x56ff08,0x8));else logHistory(_0x28c8d7(0x1fb),''+_0x45c070+_0x4db820+_0x28c8d7(0x26d)+_0x3afd36+'\x20'+_0x11dec3+'\x20#'+formatResult(_0xb91ab5,0x8)+'\x20@'+formatResult(_0x56ff08,0x8));let _0x2ef575;_0x49be48=='market'?_0x11dec3==_0x28c8d7(0x255)&&['Bybit',_0x28c8d7(0x1ab),'Cex',_0x28c8d7(0x186),_0x28c8d7(0x226)][_0x28c8d7(0x1bd)](config[_0x28c8d7(0x227)])?_0x2ef575=await exchange[_0x28c8d7(0x1a6)](_0x3afd36,_0x49be48,_0x11dec3,_0xb91ab5,_0x56ff08):_0x2ef575=await exchange[_0x28c8d7(0x1a6)](_0x3afd36,_0x49be48,_0x11dec3,_0xb91ab5,undefined):_0x2ef575=await exchange[_0x28c8d7(0x1a6)](_0x3afd36,_0x49be48,_0x11dec3,_0xb91ab5,_0x56ff08);logger['debug']('ID:\x20'+_0x2ef575['id']+_0x28c8d7(0x2f3)+_0x2c37f7);const _0x5c28ac=lastOrders[_0x28c8d7(0x1c9)]-0x1;if(_0x5c28ac>=0x0&&lastOrders[_0x5c28ac][_0x28c8d7(0x273)]==_0x2c37f7){lastOrders[_0x5c28ac][_0x28c8d7(0x2b1)]=_0x2ef575['id'];if(_0x2ef575[_0x28c8d7(0x2ac)])lastOrders[_0x5c28ac][_0x28c8d7(0x2ac)]=_0x2ef575[_0x28c8d7(0x2ac)];if(_0x2ef575[_0x28c8d7(0x18c)])lastOrders[_0x5c28ac]['price']=_0x2ef575[_0x28c8d7(0x18c)];lastOrders[_0x5c28ac][_0x28c8d7(0x20a)]=_0x2ef575['fee'];}if(config[_0x28c8d7(0x1b8)]!=0x0){let _0x19c8c9=null;if(cooldownTracker[_0x28c8d7(0x1c9)]==config[_0x28c8d7(0x1b8)]-0x1)_0x19c8c9=cooldownTracker[_0x28c8d7(0x2d4)]();const _0x53cd48=getTimeStamp();cooldownTracker['push'](_0x53cd48);if(_0x19c8c9){const _0x568f94=fns[_0x28c8d7(0x236)](new Date(_0x53cd48),new Date(_0x19c8c9));if(_0x568f94<cooldownInterval){logHistory(_0x28c8d7(0x19f),_0x28c8d7(0x2a1)+config[_0x28c8d7(0x1b8)]+_0x28c8d7(0x2ef)+cooldownInterval/0x3c+_0x28c8d7(0x223)+cooldownPeriod/(0xe10*0x3e8)+_0x28c8d7(0x23f)),coolingDown=!![];break;}}}}catch(_0x3a9470){if(_0x3a9470[_0x28c8d7(0x1f0)]()[_0x28c8d7(0x1bd)]('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x1236a5=>_0x1236a5['symbol']!=_0x3afd36),logHistory('error',_0x28c8d7(0x1a2)+_0x3afd36),_0x6167fc=!![];else{if(_0x3a9470[_0x28c8d7(0x1f0)]()[_0x28c8d7(0x1bd)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x28c8d7(0x2e4)](_0x5dad65=>_0x5dad65[_0x28c8d7(0x1ca)]!=_0x3afd36),logHistory(_0x28c8d7(0x19f),'Order\x20amount\x20is\x20invalid:\x20'+_0x3afd36),_0x6167fc=!![];else{if(_0x3a9470[_0x28c8d7(0x1f0)]()[_0x28c8d7(0x1bd)](_0x28c8d7(0x2bd)))lastOrders=lastOrders['filter'](_0x44bf38=>_0x44bf38['symbol']!=_0x3afd36),logHistory(_0x28c8d7(0x19f),'Order\x20is\x20invalid:\x20'+_0x3afd36),logger['debug'](_0x3a9470),_0x6167fc=!![];else _0x3a9470['toString']()[_0x28c8d7(0x1bd)](_0x28c8d7(0x18b))?(lastOrders=lastOrders[_0x28c8d7(0x2e4)](_0x464ed5=>_0x464ed5[_0x28c8d7(0x1ca)]!=_0x3afd36),logHistory(_0x28c8d7(0x19f),_0x28c8d7(0x1a2)+_0x3afd36),_0x6167fc=!![]):(lastOrders=lastOrders[_0x28c8d7(0x2e4)](_0xa1ebc1=>_0xa1ebc1['symbol']!=_0x3afd36),await handleError(_0x3a9470,'placeOrder()',_0x3afd36));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x28c8d7(0x1c9)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5cdc24=config[_0x28c8d7(0x162)]==_0x28c8d7(0x25d)?validateOrderTimeout*0x3c*0x3e8:config[_0x28c8d7(0x26c)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5cdc24);}else unlockOrders();_0x6167fc&&config[_0x28c8d7(0x2cc)]&&(logHistory(_0x28c8d7(0x19f),_0x28c8d7(0x263)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x28c8d7(0x2ea),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config['headless']&&logHistory(_0x28c8d7(0x19f),_0x28c8d7(0x1c1));else lockOrders!=ORDERS[_0x28c8d7(0x166)]&&(!config[_0x28c8d7(0x2cc)]&&(config[_0x28c8d7(0x162)]==_0x28c8d7(0x25d)?logHistory(_0x28c8d7(0x19f),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x28c8d7(0x19f),_0x28c8d7(0x284))));}}function persistOpenOrders(_0xe22446){const _0x2517cc=_0x4ca2fb,_0x57d57a={...config,'openOrders':_0xe22446};let _0x5be729=dbConfig[_0x2517cc(0x267)](_0x2517cc(0x23d))[_0x2517cc(0x168)]({'botID':botID})['value']();_0x5be729&&dbConfig['get'](_0x2517cc(0x23d))[_0x2517cc(0x168)]({'botID':botID})[_0x2517cc(0x1ae)](_0x57d57a)[_0x2517cc(0x238)]();}function restoreOrders(){const _0x3d0f75=_0x4ca2fb;let _0x216827;config['openOrders']&&allOpenOrders[_0x3d0f75(0x2be)](_0x48dbd1=>{const _0x235f55=_0x3d0f75,_0x298144=config[_0x235f55(0x29e)][_0x235f55(0x168)](_0x2e8dd5=>_0x2e8dd5[_0x235f55(0x2b1)]==_0x48dbd1['id']);_0x298144&&(lastOrders[_0x235f55(0x272)](_0x298144),_0x216827=_0x48dbd1[_0x235f55(0x2aa)]);});if(lastOrders[_0x3d0f75(0x1c9)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x3d0f75(0x160),allOrdersPlaced=!![];const _0x19904c=new Date()[_0x3d0f75(0x299)](),_0x25cf2d=config[_0x3d0f75(0x162)]==_0x3d0f75(0x25d)?validateOrderTimeout*0x3c*0x3e8:config[_0x3d0f75(0x26c)]*0x3c*0x3e8;if(_0x216827+_0x25cf2d>_0x19904c){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x59842f=_0x3d0f75;validateOrders(_0x59842f(0x211));},_0x216827+_0x25cf2d-_0x19904c);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x4610c4=_0x4ca2fb;if(!coinsLoaded){process[_0x4610c4(0x1d4)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x20657e=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x4b5dbc='';if(config[_0x4610c4(0x25e)])_0x4b5dbc=_0x4610c4(0x20e)+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x4b5dbc='<b>Bot\x20'+botID+_0x4610c4(0x21a);const _0x3cf123=getKPIs(_0x4610c4(0x1f2)),_0x30117f=getKPIs(_0x4610c4(0x2fd),config['fiat']),_0x4a0e62=getKPIs('net-basecoin'),_0x5327c5=getKPIs(_0x4610c4(0x24f),config[_0x4610c4(0x2fd)]);_0x4b5dbc+='<pre>',_0x4b5dbc+=_0x3cf123[_0x4610c4(0x191)]+_0x4610c4(0x2ad)+_0x3cf123['value']+'\x0a',_0x4b5dbc+=_0x3cf123[_0x4610c4(0x274)]+':\x20'+_0x3cf123['change']+'%\x0a',_0x4b5dbc+=_0x30117f[_0x4610c4(0x191)]+_0x4610c4(0x2ad)+_0x30117f['value']+'\x0a',_0x4b5dbc+=_0x30117f[_0x4610c4(0x274)]+':\x20'+_0x30117f[_0x4610c4(0x26f)]+'%\x0a',_0x4b5dbc+=_0x4a0e62[_0x4610c4(0x191)]+':\x20'+_0x4a0e62[_0x4610c4(0x2f1)]+'\x20('+config[_0x4610c4(0x1f2)]+')\x0a',_0x4b5dbc+=_0x4a0e62[_0x4610c4(0x274)]+':\x20'+_0x4a0e62[_0x4610c4(0x26f)]+_0x4610c4(0x174)+config[_0x4610c4(0x1f2)]+')\x0a',_0x4b5dbc+=_0x5327c5[_0x4610c4(0x191)]+':\x20'+_0x5327c5[_0x4610c4(0x2f1)]+'\x20('+config['fiat']+')\x0a',_0x4b5dbc+=_0x5327c5[_0x4610c4(0x274)]+':\x20'+_0x5327c5[_0x4610c4(0x26f)]+'%\x20('+config[_0x4610c4(0x2fd)]+')\x0a',_0x4b5dbc+=_0x4610c4(0x165),process[_0x4610c4(0x1d4)]({'telegrammsg':_0x4b5dbc},_0x527422=>{});}async function sendPortfolioTelegram(){const _0x2a3df8=_0x4ca2fb;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x2a3df8(0x1d4)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x416608=>{});return;}let _0x29540e='';if(config[_0x2a3df8(0x25e)])_0x29540e=_0x2a3df8(0x20e)+config[_0x2a3df8(0x2a4)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x29540e=_0x2a3df8(0x2ba)+botID+_0x2a3df8(0x298);_0x29540e+=_0x2a3df8(0x193),_0x29540e+=_0x2a3df8(0x177),_0x29540e+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x29540e+=_0x2a3df8(0x177),currentCoins['forEach'](_0x3a6385=>{const _0x3324cb=_0x2a3df8;_0x29540e+=_0x3a6385[_0x3324cb(0x1f9)][_0x3324cb(0x26e)](0x7)+'|\x20'+formatPad(_0x3a6385['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x3a6385['target'],0x2,0x6)+'|\x20'+formatPad(_0x3a6385[_0x3324cb(0x248)]*0x64,0x2,0x6)+'\x0a';}),_0x29540e+=_0x2a3df8(0x165),process[_0x2a3df8(0x1d4)]({'telegrammsg':_0x29540e},_0x3472f3=>{});}function formatPad(_0x97d4d0,_0x11333e,_0x34e18a){const _0x2c248f=_0x4ca2fb,_0x51e599=formatResultString(_0x97d4d0,_0x11333e);return _0x51e599?_0x51e599[_0x2c248f(0x2b4)](_0x34e18a):''['padStart'](_0x34e18a);}function _0xa054(_0x172d3e,_0x3a6a69){const _0x3273ff=_0x4cd5();return _0xa054=function(_0x3b8148,_0x584fc9){_0x3b8148=_0x3b8148-0x156;let _0x4cd5ee=_0x3273ff[_0x3b8148];return _0x4cd5ee;},_0xa054(_0x172d3e,_0x3a6a69);}function logHistory(_0x3e2430,_0x45a907,_0x29bf65=''){const _0x3f7a07=_0x4ca2fb;logger[_0x3f7a07(0x2a8)](''+_0x45a907);let _0x553d47={'time':getTimeStamp(),'type':_0x3e2430,'event':_0x45a907};dbLogs[_0x3f7a07(0x267)](_0x3f7a07(0x244))[_0x3f7a07(0x272)](_0x553d47)[_0x3f7a07(0x238)]();if(_0x29bf65=='')_0x29bf65=_0x45a907;proxyEmit(_0x3f7a07(0x2fa),{'log':_0x553d47,'summary':_0x29bf65}),process[_0x3f7a07(0x1d4)]({'telegram':{..._0x553d47,'botname':config[_0x3f7a07(0x2a4)],'showname':config[_0x3f7a07(0x25e)]}},_0x2c71c8=>{});}function emitHistory(_0x80cf8f={}){const _0x582d2c=_0x4ca2fb;Object[_0x582d2c(0x26a)](_0x80cf8f)['length']==0x0&&(_0x80cf8f={'type':['order',_0x582d2c(0x2fa)],'event':'','page':0x1});if(_0x80cf8f['type']['includes']('event'))_0x80cf8f['type'][_0x582d2c(0x1e9)](_0x80cf8f['type'][_0x582d2c(0x1cb)](_0x582d2c(0x2fa)),0x1,_0x582d2c(0x19f),_0x582d2c(0x216),_0x582d2c(0x2ea));if(dbLogs['has']('logs')[_0x582d2c(0x2f1)]()){let _0x70232c=dbLogs[_0x582d2c(0x267)](_0x582d2c(0x244))[_0x582d2c(0x2e4)](_0x1a465a=>{const _0x8086bb=_0x582d2c;if(_0x80cf8f['type'][_0x8086bb(0x1c9)]==0x0)return![];else return _0x80cf8f['type'][_0x8086bb(0x1bd)](_0x1a465a[_0x8086bb(0x2d6)]);})['filter'](_0x383862=>{const _0x11dac4=_0x582d2c;if(_0x80cf8f['event']=='')return!![];else return _0x383862['event'][_0x11dac4(0x1ff)]()[_0x11dac4(0x1bd)](_0x80cf8f['event'][_0x11dac4(0x1ff)]());})[_0x582d2c(0x2e0)](_0x582d2c(0x26b)),_0x19a084=_0x70232c[_0x582d2c(0x2f1)]()[_0x582d2c(0x1c9)];_0x70232c=_0x70232c['reverse']()['slice']((_0x80cf8f['page']-0x1)*logPageSize,_0x80cf8f[_0x582d2c(0x2a2)]*logPageSize-0x1)[_0x582d2c(0x1d1)]()[_0x582d2c(0x2f1)](),proxyEmit(_0x582d2c(0x20c),{'logs':_0x70232c,'total':_0x19a084});}else proxyEmit(_0x582d2c(0x20c),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2e6f98){const _0x228667=_0x4ca2fb;if(dbLogs[_0x228667(0x1be)]('logs')['value']()){const _0x3753c6=dbLogs[_0x228667(0x267)]('logs')[_0x228667(0x2e0)](_0x228667(0x26b))[_0x228667(0x2e4)](_0x1c79c7=>{const _0x419893=_0x228667;return _0x1c79c7[_0x419893(0x2d6)]=='order';})['value']();dbLogs['get'](_0x228667(0x244))[_0x228667(0x2e1)]()[_0x228667(0x238)](),dbLogs['get'](_0x228667(0x244))[_0x228667(0x1ae)](_0x3753c6)[_0x228667(0x238)](),emitHistory(_0x2e6f98);}}function _0x4cd5(){const _0x2460f7=['customId','rightTxt','Resetting\x20bot\x20history','parse','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','ORDERS.UNLOCKING','search','market_cap','ticker','orderstatus','usd','removed','stringify','getDate','\x20API\x20key\x20is\x20invalid','27118333rvFzXi','2.6.22','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','\x20exchange','\x20|\x20highest\x20fee:\x20','Initializing\x20coin\x20results','PAXG','8ATKFCV','AuthenticationError','OnMaintenance','cost','fetchTickers()','changes','isEqual','settings','yargs/yargs','data','timeshift','mkdirSync','slider','startnumber','configuration','\x20portfolio:</b>\x20\x0a\x0a','getTime','writeFile','map','marketcapApi','Cryptocom','openOrders','Limit\x20(high-margin)','2\x20-\x20Validate\x20orders:\x20','Executed\x20','page','cancelOrder','botname','5758459ZLaSOo','3661360ACAyFG','-results.json','full','existsSync','timestamp','recent20','amount','\x20:\x20','emojibuy','add','marketcap','orderId','coin-loading-progress',':\x20timer\x20>','padStart','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','\x20has\x20a\x2024h\x20drop\x20of\x20','net-basecoin','onepagemode','toFixed','<b>Bot\x20','limit-low','enabled','InvalidOrder','forEach','OrderNotFound','valid','1\x20-\x20Handle\x20open\x20orders','2.6.0','fetchTickers','performance','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','recovery','bot-','Unfilled\x20order(s)\x20canceled\x20after\x20','getAllOrders()','sort','debug','headless','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','RateLimitExceeded','fetchBalance','bb-settings.json',',\x20must\x20be\x20a\x203\x20digit\x20number','Invalid\x20symbol:\x20','total','shift','sendMetricsTelegram','type','limit-high','red_yellow_blue','message','Manual\x20balancing\x20required','balances','001','log','Market','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','sortBy','remove','exchange\x20reloaded','yyyy/MM/dd','filter','Limit\x20(low-margin)','fetchClosedOrders','Net\x20effect','watchTrades()','marketcapEnabled','success','11iNczxa','/output-000.log','getCoins()','breakeven','\x20orders\x20in\x20less\x20than\x20','fetchOpenOrders','value','last','\x20|\x20Custom\x20ID:\x20','watchOrders()','canceled','excluded','round','ORDERS.LOCKED','lowdb/adapters/FileSync','event','cancel','Crypt','fiat','1\x20-\x20Unlock\x20orders','bid','\x20network\x20error','apply','change24h','watchOrders','RSA-OAEP','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Error:\x20Invalid\x20argument\x20','watchTransactions()','Error\x20details:','517662IuHBlU','ongoing','2.5.0','ordertype','initTickers()','Saving\x20configuration','</pre>','UNLOCKED','-config.json','find','watchTradesForSymbols','startsWith','/USD','running','InsufficientFunds','sell','pro','bots','datetime','Pausing\x20for\x20','Waited\x20','%\x20(','fees','sqrt','-------------------------------\x0a','date','defaults','\x20>\x20[DEBUG]\x20','replace','decrypt','highest','toggleBotMode','balancing\x20resumed','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','trade','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','open','./config/','loadMarkets','Huobi','Loading\x20completed','Exchange','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','\x20minutes','must\x20be\x20greater\x20than\x20minimum\x20amount','price','2.3.5','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','\x20-\x20pausing\x20bot\x20for\x20','liquidity','leftTxt','getFullYear','<pre>','function','storeHeadless','botID','eur','USD','average','Order\x20filled:\x20','API-key\x20format\x20invalid','\x20/\x20','\x20API\x20secret\x20is\x20invalid','getPortfolio','error','util','uncaughtException','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','apiSecret','secure','filled','createOrder','none','floor','colorscheme','Unknown\x20error\x20occured','Bitget','target','concat','assign','\x20|\x20exchange:\x20','restart','\x20|\x20lock\x20orders:\x20','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','115282OpQggA','EUR','BUSD','initial','starting-balance-','cooldown','fromCodePoint','Exception\x20thrown\x20in\x20','emitHistory','buys','includes','has','sells','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Resetting\x20coin\x20results:\x20','argv','active','closed','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','BTC','unlinkSync','length','symbol','indexOf','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','lowdb','limit','loadSymbols()','Failed\x20to\x20load\x20coin\x20data\x20for\x20','reverse','2\x20-\x20Orders\x20unlocked','status\x20code\x20401','send','apiKey','milliseconds','Insufficient\x20funds\x20to\x20execute\x20order:\x20',':\x20Bot\x20','placeOrder','startdate','stopExchange()','-performance.json','getMonth','bb-secure.json','basecoinvalue','test','autoliquidity','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','exchange\x20not\x20reloaded','USDC','threshold','\x20-\x20bot\x20not\x20started','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','split','splice','resetHistory','startprice','no\x20open\x20orders','max','cloneDeep','TUSD','toString','status','basecoin','set','UNLOCKING','Net\x20','(((.+)+)+)+$','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','deleteHistoryAlerts','coin','random','order','min','USDT','1\x20-\x20FILLED\x20known\x20order:\x20','toLowerCase','entries','getStartingBalances','quote','privateKey','slice','InvalidNonce','emojisell','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','LOCKED','netoffset','fee','recreateCoinResults()','event-history','************','<b>','request-time','args','final','configuration-stored','spot','getHours','close','warning','sha256','fetchTicker','\x20change','\x20metrics:</b>\x20\x0a\x0a','***','percentage','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','path','coins','.json','hybrid-crypto-js','getMinutes','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','getCoinNumber()','BNB','Huobipro','exchange','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','NetworkError','Fee\x20discount\x20refund\x20detected:\x20','ETH','currency','\x20minutes\x20-\x20','portfolio','exec','BNB/','constructor','getSeconds','723498pnALso','yyyy-MM-dd\x27T\x27HH:mm:ss','Symbol(s):\x20','differenceInSeconds','abs','write','Transaction\x20detection\x20unblocked','limits','watchTrades','marketcapsqrt','bot','/backup/','\x20hour','-events.json','showConfig','Invalid\x20API\x20key\x20or\x20secret\x20entered','distribution','logs','2\x20-\x20Handled\x20open\x20orders','substring','./logs/','delta','DDoSProtection','Transaction\x20detection\x20blocked','Binance','join','realized','offset','net-fiat','Headless:\x20','\x20|\x20','2556cOqHXz','progress','added','buy','remainingSymbols','\x20exchange\x20error','10JwrZHZ','\x20>\x20','recreate','ExchangeNotAvailable','number','market','showname','side','10785dqQnGW','apiPassword','balancing\x20resumes\x20when\x20cooldown\x20ends','Avoiding\x20continuous\x20order\x20attempts','version','storeConfiguration','exchanges','get','ExchangeError','initclient','keys','time','timeout','\x20order:\x20','padEnd','change','format','createWriteStream','push'];_0x4cd5=function(){return _0x2460f7;};return _0x4cd5();}async function pauseBot(_0x1d9121=pauseBotInterval){const _0x3f53e4=_0x4ca2fb,_0x504667=new Date()[_0x3f53e4(0x299)]();if(!lastErrorShown||_0x504667-lastErrorShown>=_0x1d9121){lastErrorShown=_0x504667;!lastBotPause?(lastBotPause=_0x504667,consecutivePauses=0x1):(_0x504667-lastBotPause-_0x1d9121<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x3f53e4(0x1d4)]({'stop':_0x3f53e4(0x1b0)},_0x103230=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x3f53e4(0x299)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x1d9121),botPaused=![],reset(!![]);}}}async function killBot(){const _0x5b25f9=_0x4ca2fb;botPaused=!![],await sleep(0x3e8),process[_0x5b25f9(0x1d4)]({'stop':'kill'},_0x108260=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x15b92c,_0x5d2fdb){const _0x4d55e7=_0x4ca2fb;if(botPaused)return;const _0xdd90a2=config['exchange']||_0x4d55e7(0x188);if(_0x5d2fdb)logger[_0x4d55e7(0x2cb)](_0x4d55e7(0x1ba)+_0x5d2fdb);const _0x5cac70=()=>{const _0x38923d=_0x4d55e7;loading[_0x38923d(0x19f)]=!![],emitLoadingProgress();};if(_0x15b92c[_0x4d55e7(0x1f0)]()[_0x4d55e7(0x1bd)]('API-key\x20format\x20invalid'))logHistory(_0x4d55e7(0x19f),_0xdd90a2+_0x4d55e7(0x180)),_0x5cac70();else{if(_0x15b92c[_0x4d55e7(0x1f0)]()[_0x4d55e7(0x1bd)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0xdd90a2+_0x4d55e7(0x228)),_0x5cac70();else _0x15b92c[_0x4d55e7(0x1f0)]()[_0x4d55e7(0x1bd)](_0x4d55e7(0x28a))?(logHistory(_0x4d55e7(0x19f),_0xdd90a2+_0x4d55e7(0x1f7)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x5cac70()):await handleError(_0x15b92c,null);}}async function handleError(_0x1eb864,_0x39cc27,_0x112265=''){const _0x489b16=_0x4ca2fb;if(botPaused)return;const _0x538c94=config[_0x489b16(0x227)]||'Exchange';if(_0x39cc27)logger[_0x489b16(0x2cb)]('Exception\x20thrown\x20in\x20'+_0x39cc27);if(_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1bd)](_0x489b16(0x249)))logHistory(_0x489b16(0x19f),_0x538c94+_0x489b16(0x1e7)+pauseBotMsg),logger[_0x489b16(0x2cb)]('Error\x20details:',_0x1eb864),await pauseBot();else{if(_0x1eb864['toString']()['includes'](_0x489b16(0x2ce)))logHistory(_0x489b16(0x19f),_0x538c94+_0x489b16(0x21d)+pauseBotMsg),logger[_0x489b16(0x2cb)](_0x489b16(0x15e),_0x1eb864),await pauseBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()['includes'](_0x489b16(0x25b))||_0x1eb864[_0x489b16(0x1f0)]()['includes'](_0x489b16(0x28b)))logHistory('error',_0x538c94+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),await pauseBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1bd)]('RequestTimeout'))logHistory(_0x489b16(0x19f),_0x538c94+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),logger[_0x489b16(0x2cb)]('Error\x20details:',_0x1eb864),await pauseBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1bd)](_0x489b16(0x2b5)))logHistory('error',_0x538c94+_0x489b16(0x207)+pauseBotMsg),logger[_0x489b16(0x2cb)](_0x489b16(0x15e),_0x1eb864),await pauseBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1ff)]()[_0x489b16(0x1bd)](_0x489b16(0x2aa))||_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1ff)]()['includes'](_0x489b16(0x20f)))logHistory('error','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'+pauseBotMsg),logger[_0x489b16(0x2cb)]('Error\x20details:',_0x1eb864[_0x489b16(0x1f0)]()),await pauseBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()['includes'](_0x489b16(0x205)))logHistory(_0x489b16(0x19f),_0x538c94+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)'+pauseBotMsg),logger[_0x489b16(0x2cb)](_0x489b16(0x15e),_0x1eb864),await pauseBot();else{if(_0x1eb864 instanceof ccxt[_0x489b16(0x229)])logHistory('error',_0x538c94+_0x489b16(0x156)+pauseBotMsg),logger[_0x489b16(0x2cb)](_0x489b16(0x15e),_0x1eb864),await pauseBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1bd)](_0x489b16(0x19b)))logHistory('error',_0x538c94+_0x489b16(0x281)),logHistory(_0x489b16(0x19f),_0x489b16(0x1cc)),await killBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1bd)](_0x489b16(0x1c6)))logHistory(_0x489b16(0x19f),_0x538c94+_0x489b16(0x19d)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1eb864['toString']()[_0x489b16(0x1bd)](_0x489b16(0x28a)))logHistory(_0x489b16(0x19f),_0x538c94+_0x489b16(0x15b)),logHistory(_0x489b16(0x19f),_0x489b16(0x1cc)),await killBot();else{if(_0x1eb864['toString']()[_0x489b16(0x1bd)]('PermissionDenied'))logHistory(_0x489b16(0x19f),_0x538c94+_0x489b16(0x2df)),logHistory('error',_0x489b16(0x1cc)),await killBot();else{if(_0x1eb864[_0x489b16(0x1f0)]()[_0x489b16(0x1bd)](_0x489b16(0x16d)))logHistory('error',_0x489b16(0x1d7)+_0x112265);else{if(_0x1eb864 instanceof ccxt[_0x489b16(0x268)]){logHistory(_0x489b16(0x19f),_0x538c94+_0x489b16(0x257)),logger[_0x489b16(0x2cb)](_0x489b16(0x15e),_0x1eb864);if(_0x112265)logger[_0x489b16(0x2cb)](_0x489b16(0x235)+_0x112265);}else{logHistory(_0x489b16(0x19f),_0x489b16(0x1aa)+pauseBotMsg),logger['debug'](_0x489b16(0x15e),_0x1eb864);if(_0x112265)logger[_0x489b16(0x2cb)](_0x489b16(0x235)+_0x112265);await pauseBot();}}}}}}}}}}}}}}}async function withRetry(_0x43a90d,_0x420756){const _0x2884be=_0x4ca2fb;let _0x3474b0=![],_0xbcd532=0x0,_0x2282f9,_0xe337dc;while(_0xbcd532<maxRetries){try{_0x2282f9=await _0x420756();break;}catch(_0x165ff7){_0xe337dc=_0x165ff7,!_0x3474b0?(_0x3474b0=!![],logger['debug']('RETRY\x20-\x20Error\x20in\x20'+_0x43a90d+':',_0x165ff7[_0x2884be(0x1f0)]())):await sleep(retryInterval);}_0xbcd532++;}if(_0xbcd532==0x0)return _0x2282f9;if(_0xbcd532>=maxRetries)throw _0xe337dc;else return logger[_0x2884be(0x2cb)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0xbcd532+'\x20attempts'),_0x2282f9;}function formatResult(_0xf37f38,_0x1ccb89){const _0x786fb8=_0x4ca2fb;return parseFloat(_0xf37f38[_0x786fb8(0x2b9)](_0x1ccb89));}function formatResultTruncate(_0x3c2441,_0x2cad68){const _0x4d927f=_0x4ca2fb;let _0x26181a=formatResultString(_0x3c2441,0xa),_0xf1532b=_0x26181a['indexOf']('.');return _0xf1532b!=-0x1&&(_0x26181a=_0x26181a[_0x4d927f(0x204)](0x0,_0xf1532b+_0x2cad68+0x1)),Number(_0x26181a);}function formatResultString(_0xa7232f,_0x4a2669){const _0x3ab482=_0x4ca2fb;let _0x2c90e4;if(!(''+_0xa7232f)[_0x3ab482(0x1bd)]('e'))_0x2c90e4=+(Math[_0x3ab482(0x2f7)](_0xa7232f+'e+'+_0x4a2669)+'e-'+_0x4a2669);else{let _0x2d9648=(''+_0xa7232f)[_0x3ab482(0x1e8)]('e'),_0x10d793='';+_0x2d9648[0x1]+_0x4a2669>0x0&&(_0x10d793='+'),_0x2c90e4=+(Math[_0x3ab482(0x2f7)](+_0x2d9648[0x0]+'e'+_0x10d793+(+_0x2d9648[0x1]+_0x4a2669))+'e-'+_0x4a2669);}return Number(_0x2c90e4)[_0x3ab482(0x2b9)](_0x4a2669);}function getServerTime(){const _0x196f2b=_0x4ca2fb,_0x52bf1a=new Date();return _0x52bf1a[_0x196f2b(0x192)]()+'/'+(_0x52bf1a[_0x196f2b(0x1dd)]()+0x1)[_0x196f2b(0x1f0)]()['padStart'](0x2,'0')+'/'+_0x52bf1a[_0x196f2b(0x280)]()['toString']()[_0x196f2b(0x2b4)](0x2,'0')+'\x20'+_0x52bf1a[_0x196f2b(0x214)]()['toString']()[_0x196f2b(0x2b4)](0x2,'0')+':'+_0x52bf1a[_0x196f2b(0x222)]()[_0x196f2b(0x1f0)]()[_0x196f2b(0x2b4)](0x2,'0')+':'+_0x52bf1a[_0x196f2b(0x232)]()['toString']()[_0x196f2b(0x2b4)](0x2,'0');}function getTimeStamp(){const _0x20317a=_0x4ca2fb,_0x4633f8=shiftedTime();return _0x4633f8[_0x20317a(0x192)]()+'/'+(_0x4633f8['getMonth']()+0x1)[_0x20317a(0x1f0)]()[_0x20317a(0x2b4)](0x2,'0')+'/'+_0x4633f8[_0x20317a(0x280)]()[_0x20317a(0x1f0)]()['padStart'](0x2,'0')+'\x20'+_0x4633f8[_0x20317a(0x214)]()[_0x20317a(0x1f0)]()[_0x20317a(0x2b4)](0x2,'0')+':'+_0x4633f8[_0x20317a(0x222)]()[_0x20317a(0x1f0)]()[_0x20317a(0x2b4)](0x2,'0')+':'+_0x4633f8[_0x20317a(0x232)]()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x5b6a61=_0x4ca2fb,_0x5d80b8=shiftedTime();return _0x5d80b8[_0x5b6a61(0x192)]()+'/'+(_0x5d80b8[_0x5b6a61(0x1dd)]()+0x1)[_0x5b6a61(0x1f0)]()[_0x5b6a61(0x2b4)](0x2,'0')+'/'+_0x5d80b8[_0x5b6a61(0x280)]()[_0x5b6a61(0x1f0)]()['padStart'](0x2,'0');}function getHour(){const _0x5be7ea=_0x4ca2fb,_0x2abec7=shiftedTime();return _0x2abec7[_0x5be7ea(0x214)]()[_0x5be7ea(0x1f0)]()['padStart'](0x2,'0');}function sleep(_0x5b35e2){return new Promise(_0x34fdf5=>setTimeout(_0x34fdf5,_0x5b35e2));}function shiftedTime(){const _0x46e190=_0x4ca2fb,_0x361cad=new Date();let _0x105ba9=_0x361cad;if(config&&config[_0x46e190(0x293)]!==0x0)_0x105ba9=fns[_0x46e190(0x2af)](_0x361cad,{'hours':config['timeshift']});return _0x105ba9;}function timer(_0x413e42){const _0x118d09=_0x4ca2fb,_0x19c76e=new Date();!lasttime?console[_0x118d09(0x2dd)](getTimeStamp()+_0x118d09(0x2b3),_0x413e42,_0x19c76e):console[_0x118d09(0x2dd)](getTimeStamp()+_0x118d09(0x2b3),_0x413e42,(_0x19c76e-lasttime)/0x3e8),lasttime=_0x19c76e;}