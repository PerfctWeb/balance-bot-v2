const _0x195fee=_0x1149;(function(_0x801d3d,_0x31c9c9){const _0x246527=_0x1149,_0x4b33dd=_0x801d3d();while(!![]){try{const _0x4b08cf=-parseInt(_0x246527(0xf1))/0x1*(-parseInt(_0x246527(0x1ce))/0x2)+-parseInt(_0x246527(0xd5))/0x3*(parseInt(_0x246527(0x1ec))/0x4)+-parseInt(_0x246527(0xc2))/0x5+-parseInt(_0x246527(0x192))/0x6+parseInt(_0x246527(0xe5))/0x7*(-parseInt(_0x246527(0x1e7))/0x8)+parseInt(_0x246527(0xc6))/0x9*(-parseInt(_0x246527(0x120))/0xa)+parseInt(_0x246527(0x175))/0xb*(parseInt(_0x246527(0xa5))/0xc);if(_0x4b08cf===_0x31c9c9)break;else _0x4b33dd['push'](_0x4b33dd['shift']());}catch(_0x136253){_0x4b33dd['push'](_0x4b33dd['shift']());}}}(_0x41ab,0x95a43));const _0x23c6a7=function(){let _0x24c426=!![];return function(_0x4a26c1,_0x2220b7){const _0x3fa146=_0x24c426?function(){const _0x3e0c51=_0x1149;if(_0x2220b7){const _0x233bc2=_0x2220b7[_0x3e0c51(0xda)](_0x4a26c1,arguments);return _0x2220b7=null,_0x233bc2;}}:function(){};return _0x24c426=![],_0x3fa146;};}(),_0x5dd45c=_0x23c6a7(this,function(){const _0x2cac5a=_0x1149;return _0x5dd45c['toString']()['search'](_0x2cac5a(0x250))[_0x2cac5a(0x1a7)]()[_0x2cac5a(0x254)](_0x5dd45c)['search']('(((.+)+)+)+$');});_0x5dd45c();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require(_0x195fee(0x16a)),fs=require('fs'),fns=require(_0x195fee(0x94)),Crypt=require('hybrid-crypto-js')['Crypt'],util=require(_0x195fee(0x186)),argv=require(_0x195fee(0xb3))(process[_0x195fee(0x15f)][_0x195fee(0x234)](0x2))[_0x195fee(0x15f)],path=require(_0x195fee(0x167)),axios=require(_0x195fee(0xe4));let exchange;global[_0x195fee(0xab)]={},global[_0x195fee(0x160)]={};const usdBasecoins=[_0x195fee(0xc0),_0x195fee(0x24e),'TUSD',_0x195fee(0x201),'USDC',_0x195fee(0xfb)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x195fee(0x13d)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x195fee(0x1ba)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x195fee(0x1e5)+pauseBotInterval/0xea60+_0x195fee(0xc5),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidScheduler,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x195fee(0x141))['version'],botID=process[_0x195fee(0x15f)][0x2]||_0x195fee(0xfd),pattern=/^[0-9]{3}$/;!pattern[_0x195fee(0x23b)](botID)&&(console['log'](_0x195fee(0x169)+botID+_0x195fee(0x20f)),killBot());const userID=process[_0x195fee(0x15f)][0x3]||'',configpath=userID?_0x195fee(0x121)+userID+'/':_0x195fee(0x121),logspath=userID?_0x195fee(0x251)+userID+'/':_0x195fee(0x251),loggerfile=fs[_0x195fee(0x230)](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs['mkdirSync'](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+_0x195fee(0x21c),logfile=configpath+_0x195fee(0x9d)+botID+'-events.json',performancefile=configpath+_0x195fee(0x9d)+botID+'-performance.json',coinresultsfile=configpath+_0x195fee(0x9d)+botID+'-results.json',settingsfile=configpath+_0x195fee(0xa1),securefile=configpath+_0x195fee(0x1e3),configbackuppath=configpath+_0x195fee(0x1dc),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x195fee(0x22f)]({'logs':[],'version':serverversion})[_0x195fee(0x1a2)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x195fee(0x1a2)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x195fee(0x22f)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x195fee(0x10f),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x82cdaf=>{console['log'](_0x82cdaf);},'simple':_0x192f52=>{const _0x5493d2=_0x195fee;console[_0x5493d2(0x1ea)](_0x192f52),loggerfile[_0x5493d2(0x1a2)](util[_0x5493d2(0x109)](_0x192f52)+'\x0a');},'full':async(_0x19baa0,_0x26fc5b='')=>{const _0x502f31=_0x195fee;let _0xf52d46;if(config[_0x502f31(0x104)])_0xf52d46=getTimeStamp()+':\x20'+config[_0x502f31(0xc3)]+_0x502f31(0x17a)+_0x19baa0;else _0xf52d46=getTimeStamp()+_0x502f31(0x16d)+botID+_0x502f31(0x17a)+_0x19baa0;console[_0x502f31(0x1ea)](_0xf52d46),loggerfile[_0x502f31(0x1a2)](util[_0x502f31(0x109)](_0xf52d46)+'\x0a'),_0x26fc5b&&(console[_0x502f31(0x1ea)](_0x26fc5b),loggerfile['write'](util['format'](_0x26fc5b)+'\x0a'));},'debug':async(_0x47c516,_0x43bc10='')=>{const _0x1a5823=_0x195fee;let _0x3ec17b;if(config['showname'])_0x3ec17b=getTimeStamp()+':\x20'+config[_0x1a5823(0xc3)]+_0x1a5823(0x22a)+_0x47c516;else _0x3ec17b=getTimeStamp()+_0x1a5823(0x16d)+botID+_0x1a5823(0x22a)+_0x47c516;if(debugging)console[_0x1a5823(0x1ea)](_0x3ec17b);loggerfile[_0x1a5823(0x1a2)](util[_0x1a5823(0x109)](_0x3ec17b)+'\x0a');if(_0x43bc10){if(debugging)console[_0x1a5823(0x1ea)](_0x43bc10);loggerfile['write'](util['format'](_0x43bc10)+'\x0a');}}};process['on']('uncaughtException',function(_0x3ff99b){const _0x5c7b93=_0x195fee;handleError(_0x3ff99b,_0x5c7b93(0x1b8));});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x195fee(0x256)]);settings[_0x195fee(0x249)]!=config[_0x195fee(0x249)]&&updateOnepagemode(settings[_0x195fee(0x249)]);(settings[_0x195fee(0x222)]&&!config[_0x195fee(0x222)]||!settings[_0x195fee(0x222)]&&config[_0x195fee(0x222)])&&updateMarketcapApi(settings[_0x195fee(0x222)]);process[_0x195fee(0xcb)]({'started':_0x195fee(0x18b)},_0x35e906=>{}),initializeProcessListeners();function proxyEmit(_0x278ac0,_0x6057bf=null){const _0x52b6fb=_0x195fee;process[_0x52b6fb(0xcb)]({'function':_0x278ac0,'args':_0x6057bf},_0x20b6e2=>{});}function initializeProcessListeners(){const _0x15682e=_0x195fee;process['on'](_0x15682e(0x1d7),_0x14f825=>{const _0x1e865e=_0x15682e;switch(Object[_0x1e865e(0x187)](_0x14f825)[0x0]){case _0x1e865e(0x256):_0x14f825[_0x1e865e(0x256)]!=undefined&&(settings[_0x1e865e(0x256)]=_0x14f825[_0x1e865e(0x256)],updateTimeshift(settings[_0x1e865e(0x256)]));break;case _0x1e865e(0x249):_0x14f825[_0x1e865e(0x249)]!=undefined&&(settings['onepagemode']=_0x14f825['onepagemode'],updateOnepagemode(settings[_0x1e865e(0x249)]));break;case _0x1e865e(0x222):_0x14f825['marketcapApi']!=undefined&&(settings[_0x1e865e(0x222)]=_0x14f825[_0x1e865e(0x222)],updateMarketcapApi(settings[_0x1e865e(0x222)]));break;case _0x1e865e(0x211):_0x14f825[_0x1e865e(0x211)]!=undefined&&(bots=JSON[_0x1e865e(0x1bd)](_0x14f825[_0x1e865e(0x211)]),proxyEmit('bots',bots));break;case _0x1e865e(0x13f):switch(_0x14f825[_0x1e865e(0x13f)]){case'initclient':initclient();break;case _0x1e865e(0x129):toggleBotMode();break;case'emitHistory':emitHistory(_0x14f825[_0x1e865e(0x180)]);break;case _0x1e865e(0x179):deleteHistoryAlerts(_0x14f825[_0x1e865e(0x180)]);break;case _0x1e865e(0x14a):getPortfolio(_0x14f825['args']);break;case _0x1e865e(0x178):storeConfiguration(_0x14f825[_0x1e865e(0x180)]);break;case _0x1e865e(0x233):storeHeadless(_0x14f825[_0x1e865e(0x180)]);break;case _0x1e865e(0x1a8):storeFiat(_0x14f825['args']);break;case _0x1e865e(0x19e):resetHistory();break;case _0x1e865e(0x232):getStartingBalances(getNormalizedPerformance());break;case _0x1e865e(0x103):placeOrder(_0x14f825['args']);break;case'cancelLoading':cancelLoading();break;case _0x1e865e(0x1a9):showConfig();break;case _0x1e865e(0xb2):sendMetricsTelegram();break;case _0x1e865e(0x207):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x109da2=![]){const _0x59b9f9=_0x195fee;logger[_0x59b9f9(0xb4)]('Reset\x20|\x20'+(_0x109da2?_0x59b9f9(0x247):'exchange\x20not\x20reloaded')+_0x59b9f9(0x10e)+config[_0x59b9f9(0x14f)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x109da2)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x59b9f9(0x208)]!=''&&config['apiKey']!=_0x59b9f9(0x14d)){loadingProgress=0x0;if(_0x109da2){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidScheduler)clearTimeout(pidScheduler);await initExchange();try{await loadSymbols();}catch(_0x36d436){handleErrorNoStop(_0x36d436,_0x59b9f9(0x235));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x2bdc25=await getCoins();[currentCoins,currentCoinsAll]=_0x2bdc25,blockTransactionDetection=![],getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x59b9f9(0x1ab)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x59b9f9(0x1ad)]==0x0&&allOpenOrders[_0x59b9f9(0x1ad)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x3b416c){const _0x77b625=_0x195fee;let _0x42ace5=![];if(_0x3b416c)_0x42ace5=!![];let _0x486f50;_0x42ace5?_0x486f50=_0x3b416c['map'](_0x175c19=>_0x175c19[_0x77b625(0x119)]):_0x486f50=currentCoinsAll[_0x77b625(0x205)](_0x31a656=>_0x31a656[_0x77b625(0x119)]);if(!config[_0x77b625(0x222)]||!_0x42ace5&&!config[_0x77b625(0x236)]||_0x486f50[_0x77b625(0x1ad)]==0x0)return;let _0x119819=null;try{_0x119819=await axios[_0x77b625(0x22c)](_0x77b625(0x117),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x77b625(0x222)]},'params':{'symbol':_0x486f50[_0x77b625(0x1a7)]()}});}catch(_0x327c0f){_0x119819=null,_0x327c0f[_0x77b625(0x1a7)]()['includes'](_0x77b625(0x14c))?(config[_0x77b625(0x222)]=![],updateConfig(),proxyEmit(_0x77b625(0x19c),emittedConfiguration()),logHistory(_0x77b625(0x181),_0x77b625(0x241))):(logHistory('error',_0x77b625(0x24b)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x77b625(0xb4)](_0x77b625(0x21b),_0x327c0f[_0x77b625(0x1a7)]()+_0x77b625(0x20c)+_0x327c0f[_0x77b625(0xc1)]));}if(_0x119819){let _0x5bf610=0x0;const _0x126182=_0x119819[_0x77b625(0xe9)];_0x486f50[_0x77b625(0xec)](_0x10a577=>{const _0x18437f=_0x77b625;if(_0x126182[_0x18437f(0xe9)][_0x10a577][0x0])_0x5bf610+=_0x126182[_0x18437f(0xe9)][_0x10a577][0x0][_0x18437f(0x93)][_0x18437f(0xc0)][_0x18437f(0x91)];}),_0x486f50['forEach'](_0x4eed0c=>{const _0x455f3e=_0x77b625,_0x1f619d=_0x126182[_0x455f3e(0xe9)][_0x4eed0c][0x0]?_0x126182['data'][_0x4eed0c][0x0][_0x455f3e(0x93)]['USD']['market_cap']:0x0;if(_0x42ace5){const _0x4b40e2=_0x3b416c[_0x455f3e(0x1ae)](_0x1067ac=>_0x1067ac[_0x455f3e(0x119)]==_0x4eed0c);_0x4b40e2&&(_0x4b40e2['marketcap']=_0x1f619d);}else{const _0x2533cb=currentCoins[_0x455f3e(0x1ae)](_0xf21b7e=>_0xf21b7e['coin']==_0x4eed0c);_0x2533cb&&(_0x2533cb[_0x455f3e(0xad)]=_0x1f619d);const _0x5092a1=currentCoinsAll[_0x455f3e(0x1ae)](_0x4a5aae=>_0x4a5aae[_0x455f3e(0x119)]==_0x4eed0c);_0x5092a1&&(_0x5092a1[_0x455f3e(0xad)]=_0x1f619d);}}),!_0x42ace5&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x34f3b4=_0x195fee,_0x316c58=0x2;let _0x1edd15=0x0,_0x524a7d=0x0,_0x2f1784=0x0,_0x509ba7=0x0,_0xc546c9=0x0;config['portfolio'][_0x34f3b4(0xec)](_0x745d6d=>{const _0x57afce=_0x34f3b4;if(!_0x745d6d[_0x57afce(0x1af)]){_0x2f1784++,_0x1edd15+=_0x745d6d[_0x57afce(0x110)];if(_0x745d6d[_0x57afce(0x110)]===-0x1){_0x1edd15++;const _0x331de0=currentCoinsAll[_0x57afce(0x1ae)](_0x38d416=>_0x38d416[_0x57afce(0x119)]==_0x745d6d[_0x57afce(0x119)]);_0x331de0&&(_0x509ba7+=_0x331de0[_0x57afce(0xad)],_0xc546c9+=Math['sqrt'](_0x331de0[_0x57afce(0xad)]));}if(_0x745d6d[_0x57afce(0x110)]!==-0x1)_0x524a7d++;}});let _0x2d66d1;const _0x1fa6cf=0x64-_0x1edd15,_0x11d438=_0x2f1784-_0x524a7d;_0x2d66d1=_0x11d438===0x0?_0x1edd15:Math[_0x34f3b4(0x1a1)](0x64,_0x1edd15),config[_0x34f3b4(0x147)]['forEach'](_0x30871e=>{const _0x752e7e=_0x34f3b4,_0x3b77db=currentCoinsAll[_0x752e7e(0x1ae)](_0x5cce72=>_0x5cce72['coin']==_0x30871e[_0x752e7e(0x119)]);_0x3b77db&&(_0x30871e[_0x752e7e(0xad)]=_0x3b77db['marketcap']);if(!_0x30871e[_0x752e7e(0x1af)]){if(_0x2d66d1<=0x64){if(_0x30871e[_0x752e7e(0x110)]===-0x1){if(_0x509ba7!==0x0&&config[_0x752e7e(0x236)]){if(_0x3b77db){if(config[_0x752e7e(0x236)]=='marketcap')_0x30871e['distribution']=(_0x1fa6cf/(_0x509ba7/_0x3b77db[_0x752e7e(0xad)]))[_0x752e7e(0xf3)](_0x316c58);else config[_0x752e7e(0x236)]==_0x752e7e(0x151)&&(_0x30871e[_0x752e7e(0xe1)]=(_0x1fa6cf/(_0xc546c9/Math[_0x752e7e(0x216)](_0x3b77db[_0x752e7e(0xad)])))[_0x752e7e(0xf3)](_0x316c58));}}}}}}),updateConfig();}function updateConfig(){const _0x45a7f1=_0x195fee;let _0x30e906=dbConfig[_0x45a7f1(0x22c)](_0x45a7f1(0x23e))[_0x45a7f1(0x1ae)]({'botID':botID})[_0x45a7f1(0x1ff)]();_0x30e906&&dbConfig['get'](_0x45a7f1(0x23e))[_0x45a7f1(0x1ae)]({'botID':botID})[_0x45a7f1(0x158)](config)[_0x45a7f1(0x1a2)]();}function startScheduler(){const _0x45e5f0=_0x195fee,_0x3ddaa4=shiftedTime()[_0x45e5f0(0xd0)](),_0x2bc09a=process['memoryUsage']()[_0x45e5f0(0x1c6)]/0x400/0x400;logger[_0x45e5f0(0xb4)](_0x45e5f0(0x23d)+process['pid']+_0x45e5f0(0x101)+_0x2bc09a+_0x45e5f0(0x1d1)),getMarketCap();_0x3ddaa4==0x4&&restartBot();(_0x3ddaa4==0x6||_0x3ddaa4==0x12)&&reloadExchange();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},schedulerInterval);}async function restartBot(_0x4b9bf0=![]){const _0x302898=_0x195fee;logger[_0x302898(0xb4)](_0x302898(0xfa));if(!_0x4b9bf0){while(lockOrders!=ORDERS[_0x302898(0x1ba)]||coolingDown){await sleep(0x3c*0x3e8);}await stopExchange();}process[_0x302898(0xcb)]({'stop':_0x302898(0x124)},_0x10e247=>{});}async function stopExchange(){const _0x60d58d=_0x195fee;if(!exchange)return;exchangeStopped=!![];try{await exchange[_0x60d58d(0x24d)]();}catch(_0x5d31ff){await handleError(_0x5d31ff,'stopExchange()');}}async function reloadExchange(){const _0xe8158b=_0x195fee;logger[_0xe8158b(0xb4)](_0xe8158b(0x17d));while(lockOrders!=ORDERS[_0xe8158b(0x1ba)]||coolingDown){await sleep(0x3c*0x3e8);}await stopExchange(),reset(!![]);}async function initExchange(_0x253e07=config[_0x195fee(0x14f)],_0x6d4736=config[_0x195fee(0x208)],_0x16a8c3=config[_0x195fee(0x1c1)],_0x292bd1=config[_0x195fee(0xd9)]){const _0x35c81d=_0x195fee;await stopExchange();!supportedExchanges()[_0x35c81d(0x1d0)](_0x253e07)&&(logHistory(_0x35c81d(0x181),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x253e07+_0x35c81d(0x1b2)),killBot());const _0x30226e=ccxt[_0x35c81d(0x1e8)][_0x253e07[_0x35c81d(0xf0)]()];exchange=new _0x30226e({'apiKey':_0x6d4736,'secret':_0x16a8c3,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x35c81d(0x24f)}});if(_0x292bd1)exchange[_0x35c81d(0x113)]=_0x292bd1;}function setStableCoins(){const _0x5d3e75=_0x195fee;let _0x4dd327=config[_0x5d3e75(0x1d8)]=='ETH'?_0x5d3e75(0x157):config[_0x5d3e75(0x1d8)]==_0x5d3e75(0x16c)?_0x5d3e75(0x16c):_0x5d3e75(0x1d2),_0xfc5748=!allSymbols[_0x5d3e75(0x1d0)](_0x4dd327+_0x5d3e75(0x18f))?'USDT':_0x5d3e75(0xc0),_0xf5733f=!allSymbols[_0x5d3e75(0x1d0)](_0x4dd327+_0x5d3e75(0x1d5))?_0xfc5748:_0x5d3e75(0xfe);stablecoins={'eur':{'coin':''+_0x4dd327+_0xf5733f,'symbol':_0x4dd327+'/'+_0xf5733f},'usd':{'coin':''+_0x4dd327+_0xfc5748,'symbol':_0x4dd327+'/'+_0xfc5748}};}async function initwsCcxt(){const _0xa49845=_0x195fee;initCycle++;const _0x50e6c5=initCycle;let _0x114ddb=[];config[_0xa49845(0x147)][_0xa49845(0xec)](_0x44bea1=>{const _0x53afdb=_0xa49845;if(!_0x44bea1['excluded']&&_0x44bea1[_0x53afdb(0x119)]!=config[_0x53afdb(0x1d8)])_0x114ddb[_0x53afdb(0x17e)](_0x44bea1[_0x53afdb(0x1a3)]);});if(!_0x114ddb[_0xa49845(0x1d0)](stablecoins['eur'][_0xa49845(0x1a3)]))_0x114ddb[_0xa49845(0x17e)](stablecoins[_0xa49845(0xff)][_0xa49845(0x1a3)]);if(!_0x114ddb['includes'](stablecoins['usd']['symbol']))_0x114ddb[_0xa49845(0x17e)](stablecoins[_0xa49845(0x1a6)]['symbol']);if(config[_0xa49845(0x14f)][_0xa49845(0x1f6)](_0xa49845(0xb9))&&config[_0xa49845(0x1d8)]!='PAXG'){if(!_0x114ddb[_0xa49845(0x1d0)]('BNB/'+config[_0xa49845(0x1d8)]))_0x114ddb[_0xa49845(0x17e)](_0xa49845(0x229)+config['basecoin']);}loadCoins(_0x114ddb),_0x114ddb=validateSymbols(_0x114ddb);const _0x1d7fc=async _0x4114d0=>{const _0x136573=_0xa49845;let _0x11d0b9;try{const _0x559a65=await getTickers(_0x4114d0);Object[_0x136573(0x1b4)](_0x559a65)[_0x136573(0xec)](_0x3da531=>{const _0x5cad85=_0x136573;_0x11d0b9=_0x3da531[0x1][_0x5cad85(0x1a3)],global['ticker'][noslash(_0x11d0b9)]=_0x3da531[0x1][_0x5cad85(0x1b6)],global[_0x5cad85(0x160)][_0x11d0b9]=_0x3da531[0x1][_0x5cad85(0xa3)];});}catch(_0x3b9280){await handleError(_0x3b9280,_0x136573(0x1c0),_0x11d0b9);}},_0x46b855=async _0x1b0205=>{const _0x16f381=_0xa49845;while(initCycle==_0x50e6c5){if(!botPaused)try{const _0x32e24a=await exchange['watchTrades'](_0x1b0205);global[_0x16f381(0xab)][noslash(_0x32e24a[0x0][_0x16f381(0x1a3)])]=_0x32e24a[0x0]['price'];}catch(_0x5ef188){if(!exchangeStopped)await handleError(_0x5ef188,_0x16f381(0x199),_0x1b0205);}else await sleep(0x64);}},_0x5f4287=async _0x7f53da=>{const _0x4b5238=_0xa49845;while(initCycle==_0x50e6c5){if(!botPaused)try{const _0x4a00bc=await exchange[_0x4b5238(0x243)](_0x7f53da),_0x2a4178=_0x4a00bc[_0x4b5238(0x142)]();global['ticker'][noslash(_0x2a4178[_0x4b5238(0x1a3)])]=_0x2a4178[_0x4b5238(0x173)];}catch(_0x304cce){if(!exchangeStopped)await handleError(_0x304cce,_0x4b5238(0x203),_0x7f53da[_0x4b5238(0x1a7)]());}else await sleep(0x64);}},_0x5514b2=async _0x47cd0c=>{const _0x43b07e=_0xa49845;while(initCycle==_0x50e6c5){if(!botPaused){let _0xb8cfee;try{await sleep(0x3c*0x3e8);const _0x5152d9=await getTickers(_0x47cd0c);Object['entries'](_0x5152d9)[_0x43b07e(0xec)](_0xd52795=>{const _0x4b5f32=_0x43b07e;_0xb8cfee=_0xd52795[0x1][_0x4b5f32(0x1a3)],global[_0x4b5f32(0x160)][_0xb8cfee]=_0xd52795[0x1][_0x4b5f32(0xa3)];});}catch(_0x4c1151){if(!exchangeStopped)await handleError(_0x4c1151,_0x43b07e(0xf6),_0xb8cfee);}}else await sleep(0x64);}},_0xd21c30=async _0x248656=>{const _0x33b9c6=_0xa49845;while(initCycle==_0x50e6c5){if(!botPaused)try{const _0x44e5be=await exchange[_0x33b9c6(0x12a)](_0x248656);initCycle==_0x50e6c5&&_0x44e5be[_0x33b9c6(0xec)](_0x50e142=>{updateNumberCoinsCcxt(_0x50e142);});}catch(_0x1ea240){if(!exchangeStopped)await handleError(_0x1ea240,_0x33b9c6(0x1eb));}else await sleep(0x64);}};_0x1d7fc(_0x114ddb),_0x5514b2(_0x114ddb),exchange[_0xa49845(0x1c2)][_0xa49845(0x243)]?_0x5f4287(_0x114ddb):_0x114ddb[_0xa49845(0xec)](_0xdd70a5=>{_0x46b855(_0xdd70a5);}),_0x114ddb[_0xa49845(0xec)](_0x2f4e5e=>{_0xd21c30(_0x2f4e5e);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x4cf4af){const _0x3341fa=_0x195fee;let _0x46e7cf={};try{if(config['exchange']!=_0x3341fa(0x21e))_0x46e7cf=await exchange['fetchTickers'](_0x4cf4af);else for(const _0x25e38c of _0x4cf4af){const _0x5492b7=await exchange['fetchTicker'](_0x25e38c);_0x46e7cf[_0x25e38c]=_0x5492b7;}return _0x46e7cf;}catch(_0x53cb8d){throw _0x53cb8d;}}async function detectLiquidityChange(_0x60a739=0x0){const _0x1b14fe=_0x195fee;transactionDetectionOngoing=!![];try{const _0x55384a=await getCoins(_0x60a739),[_0x204212,_0x5b5dad]=_0x55384a;let _0x2413bb=[];currentCoins['forEach'](_0x33693a=>{const _0x10d414=_0x1149,_0x2fe55c=_0x204212[_0x10d414(0x1ae)](_0x319bd6=>_0x319bd6[_0x10d414(0x119)]==_0x33693a['coin']);if(_0x2fe55c){if(_0x33693a[_0x10d414(0x238)]!=_0x2fe55c[_0x10d414(0x238)]){let _0x27021a;if(_0x33693a[_0x10d414(0x119)]!=config['basecoin']){const _0x565883=global[_0x10d414(0xab)][noslash(_0x33693a[_0x10d414(0x1a3)])];_0x27021a=_0x33693a[_0x10d414(0x155)]?0x1/_0x565883:_0x565883;}else _0x27021a=0x1;_0x2413bb[_0x10d414(0x17e)]({'coin':_0x33693a['coin'],'symbol':_0x33693a[_0x10d414(0x1a3)],'price':_0x27021a,'number':Number(formatResult(_0x2fe55c['number']-_0x33693a[_0x10d414(0x238)],0x8)),'basecoinvalue':_0x27021a*(_0x2fe55c['number']-_0x33693a[_0x10d414(0x238)])});}}});if(_0x2413bb['length']>0x0&&!blockTransactionDetection)for(const _0x20c816 of _0x2413bb){if(config['autoliquidity']){logger[_0x1b14fe(0xb4)](_0x1b14fe(0x239)+_0x20c816[_0x1b14fe(0x1a5)]+_0x1b14fe(0x159)+lastFees[_0x1b14fe(0x21f)]);if(lastFees[_0x1b14fe(0x21f)]==0x0||Math['abs'](_0x20c816[_0x1b14fe(0x1a5)])>lastFees[_0x1b14fe(0x21f)]*1.2){if(config[_0x1b14fe(0x143)]=='update-liquidity'){delete _0x20c816['symbol'],delete _0x20c816[_0x1b14fe(0x1a5)];let _0x2674d6=[],_0x3b6080=[...config[_0x1b14fe(0x171)]]||[],_0xccb64=config['liquidity'];_0x3b6080['sort']((_0x51cce9,_0x239a09)=>_0x51cce9[_0x1b14fe(0x12d)]>_0x239a09['date']?-0x1:_0x239a09[_0x1b14fe(0x12d)]>_0x51cce9[_0x1b14fe(0x12d)]?0x1:0x0);const _0x4f0184=getDate();if(_0x3b6080[0x0]){const _0x179aff=fns[_0x1b14fe(0x1bd)](_0x3b6080[0x0][_0x1b14fe(0x12d)],'yyyy/MM/dd',new Date()),_0x4a4630=fns[_0x1b14fe(0x1bd)](_0x4f0184,'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x179aff,_0x4a4630)){_0x2674d6=_0x3b6080[0x0][_0x1b14fe(0x18c)];const _0x3df477=_0x2674d6[_0x1b14fe(0x1ae)](_0x24a612=>_0x24a612[_0x1b14fe(0x119)]==_0x20c816[_0x1b14fe(0x119)]);_0x3df477?(_0x3df477[_0x1b14fe(0x238)]+=_0x20c816[_0x1b14fe(0x238)],_0x3df477['number']==0x0&&(_0x2674d6=_0x2674d6[_0x1b14fe(0x193)](_0x210e5e=>{const _0x58f23b=_0x1b14fe;return _0x210e5e[_0x58f23b(0x119)]!=_0x20c816[_0x58f23b(0x119)];}))):_0x2674d6[_0x1b14fe(0x17e)](_0x20c816);const _0x2f3d1e=_0xccb64[_0x1b14fe(0x1ae)](_0x15274c=>_0x15274c[_0x1b14fe(0x12d)]==_0x4f0184);_0x2f3d1e[_0x1b14fe(0x18c)]=_0x2674d6;}else _0xccb64[_0x1b14fe(0x17e)]({'date':_0x4f0184,'changes':[_0x20c816]});}const _0x38c630=_0xccb64['find'](_0x2dffa1=>_0x2dffa1[_0x1b14fe(0x12d)]==_0x4f0184);if(_0x38c630){let _0x549e9c=!![];_0x38c630[_0x1b14fe(0x18c)]['forEach'](_0xb0f51b=>{const _0x3b5f94=_0x1b14fe;if(_0xb0f51b[_0x3b5f94(0x238)]!=0x0)_0x549e9c=![];}),_0x549e9c&&(_0xccb64=_0xccb64[_0x1b14fe(0x193)](_0x116055=>{const _0x19da62=_0x1b14fe;return _0x116055[_0x19da62(0x12d)]!=_0x4f0184;}));}let _0x13fc63=dbConfig['get'](_0x1b14fe(0x23e))[_0x1b14fe(0x1ae)]({'botID':botID})[_0x1b14fe(0x1ff)]();_0x13fc63&&(dbConfig['get'](_0x1b14fe(0x23e))['find']({'botID':botID})[_0x1b14fe(0x158)]({'liquidity':_0xccb64})['write'](),config['liquidity']=_0xccb64);logHistory(_0x1b14fe(0x24a),_0x1b14fe(0xae)+Math[_0x1b14fe(0x1f1)](_0x20c816['number'])+'\x20'+_0x20c816['coin']+'\x20'+(_0x20c816['number']>0x0?'added':_0x1b14fe(0xf8))+_0x1b14fe(0xe6)),proxyEmit(_0x1b14fe(0x19c),emittedConfiguration());const _0x43f7b4=getNormalizedPerformance();emitPerformance(_0x43f7b4),getStartingBalances(_0x43f7b4),logger[_0x1b14fe(0xb4)](_0x1b14fe(0x11f));}else config[_0x1b14fe(0x143)]=='switch-manual'&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x1b14fe(0x24a),_0x1b14fe(0x20e)),logger['debug']('Portfolio\x20change\x20detected:\x20'+Math[_0x1b14fe(0x1f1)](_0x20c816[_0x1b14fe(0x238)])+'\x20'+_0x20c816[_0x1b14fe(0x119)]+'\x20'+(_0x20c816['number']>0x0?_0x1b14fe(0x16b):_0x1b14fe(0xf8))+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger['debug'](_0x1b14fe(0xae)+Math[_0x1b14fe(0x1f1)](_0x20c816[_0x1b14fe(0x238)])+'\x20'+_0x20c816[_0x1b14fe(0x119)]+'\x20'+(_0x20c816[_0x1b14fe(0x238)]>0x0?'added':_0x1b14fe(0xf8))+_0x1b14fe(0x15c)));}else logger[_0x1b14fe(0xb4)]('Fee\x20discount\x20refund\x20detected:\x20'+Math['abs'](_0x20c816[_0x1b14fe(0x238)])+'\x20'+_0x20c816[_0x1b14fe(0x119)]+'\x20'+(_0x20c816[_0x1b14fe(0x238)]>0x0?_0x1b14fe(0x16b):_0x1b14fe(0xf8)));}else logger[_0x1b14fe(0xb4)](_0x1b14fe(0xae)+Math[_0x1b14fe(0x1f1)](_0x20c816[_0x1b14fe(0x238)])+'\x20'+_0x20c816[_0x1b14fe(0x119)]+'\x20'+(_0x20c816['number']>0x0?_0x1b14fe(0x16b):_0x1b14fe(0xf8))+_0x1b14fe(0x1dd));}currentCoins=_0x204212,currentCoinsAll=_0x5b5dad;}catch(_0xd83d2e){if(!exchangeStopped)await handleError(_0xd83d2e,_0x1b14fe(0xe3));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x186c09=_0x195fee;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object[_0x186c09(0x1b4)](markets)[_0x186c09(0xec)](_0x3e70f4=>{const _0x37b13d=_0x186c09;_0x3e70f4[0x1][_0x37b13d(0xbb)]&&_0x3e70f4[0x1][_0x37b13d(0x24f)]&&allSymbols[_0x37b13d(0x17e)](_0x3e70f4[0x0]);});}catch(_0x58d8d0){throw _0x58d8d0;}}function validateSymbols(_0x56ef43){const _0x4b00c9=_0x195fee;let _0x2ba190=[];return _0x56ef43[_0x4b00c9(0xec)](_0x4fb360=>{const _0x847e22=_0x4b00c9;!allSymbols[_0x847e22(0x1d0)](_0x4fb360)?logHistory(_0x847e22(0x181),_0x847e22(0x20b)+_0x4fb360+_0x847e22(0x218)):_0x2ba190[_0x847e22(0x17e)](_0x4fb360);}),_0x2ba190;}async function initclient(){const _0x34c472=_0x195fee;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x34c472(0xeb),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4618d=getNormalizedPerformance();emitPerformance(_0x4618d),getStartingBalances(_0x4618d);}async function toggleBotMode(){const _0x53a3bd=_0x195fee;let _0x2ee2a3=dbConfig[_0x53a3bd(0x22c)](_0x53a3bd(0x23e))[_0x53a3bd(0x1ae)]({'botID':botID})[_0x53a3bd(0x1ff)]();if(_0x2ee2a3){const _0x40a398=!_0x2ee2a3[_0x53a3bd(0x1d6)];dbConfig[_0x53a3bd(0x22c)]('bot')['find']({'botID':botID})[_0x53a3bd(0x158)]({'headless':_0x40a398})['write'](),config['headless']=_0x40a398,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1c7302=_0x195fee;process[_0x1c7302(0xcb)]({'updatebotmanager':!![]},_0x1ef1f0=>{}),logger[_0x1c7302(0xb4)](_0x1c7302(0x174)+config['headless']);}async function loadCoins(_0x440990){const _0x1d3814=_0x195fee;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x59b15d,_0x46657e=0x0,_0x433f1b=0x0;_0x440990[_0x1d3814(0xec)](_0x262366=>{const _0x5e42f3=_0x1d3814;loading[_0x5e42f3(0x184)][_0x5e42f3(0x17e)](_0x262366);}),loadingCanceled=![];let _0x2d6472=![];while(_0x59b15d!=_0x440990[_0x1d3814(0x1ad)]+maxLoadingProgress){_0x59b15d=loadingProgress,_0x440990[_0x1d3814(0xec)](_0xf79a0c=>{const _0x3fc414=_0x1d3814;if(global[_0x3fc414(0xab)][noslash(_0xf79a0c)]){loading[_0x3fc414(0x184)]=loading[_0x3fc414(0x184)][_0x3fc414(0x193)](_0x4e2d8a=>_0x4e2d8a!=_0xf79a0c);if(!watchedSymbols[_0x3fc414(0x1d0)](_0xf79a0c))watchedSymbols['push'](_0xf79a0c);_0x59b15d++;}}),loading['progress']=Math[_0x1d3814(0xf2)](_0x59b15d/(_0x440990[_0x1d3814(0x1ad)]+maxLoadingProgress)*0x64);loading[_0x1d3814(0x190)]!=0x64&&(_0x433f1b>0x1e*0x5&&(loading[_0x1d3814(0xbe)]=!![],emitLoadingProgress()),_0x433f1b>0x78*0x5&&!_0x2d6472&&(_0x2d6472=!![],logHistory(_0x1d3814(0x181),_0x1d3814(0x163)+loading[_0x1d3814(0x184)]['join'](',\x20')+_0x1d3814(0x136)),logHistory(_0x1d3814(0x181),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{restartBot();},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x46657e!=loading['progress']&&(_0x46657e=loading['progress'],emitLoadingProgress()),_0x433f1b++,await sleep(0xc8);}_0x59b15d==_0x440990['length']+maxLoadingProgress&&(coinsLoaded=!![],process[_0x1d3814(0xcb)]({'status':_0x1d3814(0xdc),'live':_0x1d3814(0x18b)},_0x24ec78=>{}),_0x2d6472&&logHistory(_0x1d3814(0x24a),_0x1d3814(0x13b)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x124e30=_0x195fee;proxyEmit(_0x124e30(0x19c),{...emittedConfiguration(),'configstate':_0x124e30(0x156)});}function emitLoadingProgress(){const _0x421c74=_0x195fee;proxyEmit(_0x421c74(0x100),loading);}async function getFiat(){const _0x39cbbb=_0x195fee;let _0x314d34=global[_0x39cbbb(0xab)][stablecoins['eur'][_0x39cbbb(0x119)]],_0x46aba5=global['ticker'][stablecoins[_0x39cbbb(0x1a6)][_0x39cbbb(0x119)]];return{'eur':Number(_0x314d34),'usd':Number(_0x46aba5)};}function capitalize(_0x1ca4cb){const _0x237303=_0x195fee;return _0x1ca4cb['substring'](0x0,0x1)[_0x237303(0x1a4)]()+_0x1ca4cb[_0x237303(0x15a)](0x1);}function supportedExchanges(){const _0x155b5e=_0x195fee,_0xb13390=['ws',_0x155b5e(0x95),_0x155b5e(0x1c9),'watchTrades','watchOrders',_0x155b5e(0x24c),_0x155b5e(0x18d),'fetchOpenOrders',_0x155b5e(0x153),_0x155b5e(0x144)];let _0x48aa7b=[],_0x35b8ee=[],_0x1a7793=ccxt['pro'][_0x155b5e(0xeb)];_0x1a7793[_0x155b5e(0xec)](_0x2d3249=>{const _0x4b9196=_0x155b5e;try{const _0x37f030=new ccxt[(_0x4b9196(0x1e8))][_0x2d3249]();_0x35b8ee[_0x4b9196(0x17e)](_0x37f030);}catch(_0xe8723f){}}),_0x35b8ee[_0x155b5e(0xec)](_0x21ec1a=>{const _0x58ea29=_0x155b5e;let _0x443e7c=0x0;_0xb13390[_0x58ea29(0xec)](_0x37bcc7=>{const _0x114d0b=_0x58ea29;_0x37bcc7 in _0x21ec1a[_0x114d0b(0x1c2)]&&_0x21ec1a['has'][_0x37bcc7]&&_0x443e7c++;}),_0x443e7c==_0xb13390['length']&&_0x48aa7b['push'](capitalize(_0x21ec1a['id']));});let _0x13a2b3=[];return _0x1a7793[_0x155b5e(0xec)](_0x4dfa5b=>{const _0x4ff0d9=_0x155b5e;_0x4dfa5b=capitalize(_0x4dfa5b);if(!_0x48aa7b[_0x4ff0d9(0x1d0)](_0x4dfa5b))_0x13a2b3['push'](_0x4dfa5b);}),_0x48aa7b;}function _0x1149(_0x2e1c7d,_0x18c47a){const _0x22273d=_0x41ab();return _0x1149=function(_0x5dd45c,_0x23c6a7){_0x5dd45c=_0x5dd45c-0x8f;let _0x41ab5b=_0x22273d[_0x5dd45c];return _0x41ab5b;},_0x1149(_0x2e1c7d,_0x18c47a);}function setStartDatePerformance(){const _0x8b9306=_0x195fee;if(config&&config[_0x8b9306(0x171)][0x0]['changes'][_0x8b9306(0x1ad)]!=0x0){const _0x466132=config['liquidity'][0x0][_0x8b9306(0x18c)];dbPerformance[_0x8b9306(0x22c)](_0x8b9306(0xe9))['find']({'date':config[_0x8b9306(0x14e)]})[_0x8b9306(0x158)]({'coins':_0x466132})[_0x8b9306(0x1a2)]();}}async function recreateCoinResults(){const _0x1bead8=_0x195fee;let _0x526c4d,_0x1edc06=[];try{const _0x480fe9=fns[_0x1bead8(0x109)](fns[_0x1bead8(0x1db)](config[_0x1bead8(0x14e)][_0x1bead8(0x112)](/\//g,'-')),_0x1bead8(0x1fb));for(const _0x5d5168 of currentCoins){if(_0x5d5168['coin']!=config['basecoin']){let _0x51c3e6=0x0,_0x26891d,_0x19b514;_0x526c4d=await getAllEventOrders(_0x5d5168[_0x1bead8(0x1a3)]);if(_0x526c4d['length']>0x0)_0x526c4d[_0x1bead8(0xec)](_0x5bca21=>{const _0x307315=_0x1bead8,_0x28293c=_0x5d5168[_0x307315(0x1a3)][_0x307315(0x1d0)](config[_0x307315(0x1d8)]+'/');_0x1edc06[_0x307315(0x17e)]({'datetime':_0x5bca21[_0x307315(0x210)],'coin':_0x5d5168['coin'],'symbol':_0x5d5168[_0x307315(0x1a3)],'side':_0x5bca21['side'],'reverse':_0x28293c,'amount':formatResult(_0x5bca21[_0x307315(0x9b)],0x8),'filled':formatResult(_0x5bca21['filled'],0x8),'price':formatResult(_0x5bca21[_0x307315(0x173)],0x8)}),_0x51c3e6=_0x5bca21['side']==_0x307315(0x1bf)?_0x51c3e6+_0x5bca21[_0x307315(0x9b)]:_0x51c3e6-_0x5bca21[_0x307315(0x9b)];if(!_0x19b514)_0x19b514=_0x5bca21[_0x307315(0x173)];});_0x26891d=_0x5d5168[_0x1bead8(0x238)]-_0x51c3e6;let _0x2cea43;config[_0x1bead8(0x171)][_0x1bead8(0xec)](_0x21ac95=>{const _0x459580=_0x1bead8;!_0x2cea43&&(_0x2cea43=_0x21ac95['changes'][_0x459580(0x1ae)](_0x3ca8e2=>_0x3ca8e2[_0x459580(0x119)]==_0x5d5168[_0x459580(0x119)]),_0x2cea43&&(_0x26891d=_0x2cea43[_0x459580(0x238)],_0x19b514=_0x2cea43[_0x459580(0x173)]));});let _0x421976=dbCoinResults[_0x1bead8(0x22c)](_0x1bead8(0x231))[_0x1bead8(0x1ae)]({'coin':_0x5d5168[_0x1bead8(0x119)]})[_0x1bead8(0x1ff)]();_0x421976={'coin':_0x5d5168['coin'],'number':_0x26891d,'breakeven':_0x19b514,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1bead8(0x22c)](_0x1bead8(0x231))[_0x1bead8(0x1ae)]({'coin':_0x5d5168[_0x1bead8(0x119)]})[_0x1bead8(0x158)](_0x421976)[_0x1bead8(0x1a2)]();}}_0x1edc06[_0x1bead8(0x221)]((_0x7ab39c,_0x134fff)=>_0x7ab39c[_0x1bead8(0x210)]>_0x134fff[_0x1bead8(0x210)]?0x1:_0x134fff[_0x1bead8(0x210)]>_0x7ab39c[_0x1bead8(0x210)]?-0x1:0x0);let _0x1c647a=0x0;for(let _0x3388f4 of _0x1edc06){await updateCoinResults(_0x3388f4,!![]);}}catch(_0x385f5a){await handleError(_0x385f5a,_0x1bead8(0xa6));}}async function getAllEventOrders(_0x1d0e9c){const _0x2d9408=_0x195fee;let _0x893607=[],_0x243f3a=dbLogs[_0x2d9408(0x22c)](_0x2d9408(0x13e))[_0x2d9408(0x193)](_0x38f354=>{const _0x23b966=_0x2d9408,_0x5daf76=_0x38f354[_0x23b966(0x122)]['toLowerCase']();return _0x5daf76[_0x23b966(0x1d0)](_0x1d0e9c[_0x23b966(0xf0)]())&&(_0x5daf76[_0x23b966(0x1d0)](_0x23b966(0x220))&&_0x5daf76[_0x23b966(0x1d0)](_0x23b966(0xb6))||_0x5daf76[_0x23b966(0x1d0)](_0x23b966(0x9b))&&_0x5daf76[_0x23b966(0x1d0)](_0x23b966(0xb6)));})['sortBy'](_0x2d9408(0x10b))['value']();return _0x243f3a[_0x2d9408(0xec)](_0x538530=>{const _0x46c76e=_0x2d9408,_0xafa8f5=_0x538530['event'][_0x46c76e(0x1d0)](_0x46c76e(0x225))?_0x46c76e(0x225):_0x46c76e(0x1bf),_0x290026=/#([0-9]|\.)+\s/i,_0x27a898=Number(_0x290026[_0x46c76e(0xd6)](_0x538530['event'])[0x0]['slice'](0x1)),_0x111ba5=/@([0-9]|\.)+$/i,_0x1071fc=Number(_0x111ba5['exec'](_0x538530[_0x46c76e(0x122)])[0x0][_0x46c76e(0x234)](0x1));_0x893607[_0x46c76e(0x17e)]({'datetime':_0x538530[_0x46c76e(0x10b)],'coin':symbolToCoin(_0x1d0e9c),'symbol':_0x1d0e9c,'side':_0xafa8f5,'amount':_0x27a898,'filled':_0x27a898,'price':_0x1071fc});}),_0x893607;}async function getAllOrders(_0x2619a5,_0x49c15a){const _0x65feb=_0x195fee;let _0x2de270=[];while(_0x49c15a<exchange['milliseconds']()){const _0x1507b7=0x1f4;try{const _0x5214ca=await exchange[_0x65feb(0x153)](_0x2619a5,_0x49c15a,_0x1507b7);if(_0x5214ca[_0x65feb(0x1ad)])_0x49c15a=_0x5214ca[_0x5214ca[_0x65feb(0x1ad)]-0x1][_0x65feb(0x1a0)]+0x1,_0x2de270=_0x2de270[_0x65feb(0x227)](_0x5214ca);else break;}catch(_0x4d604a){await handleError(_0x4d604a,_0x65feb(0x126),_0x2619a5);}}return _0x2de270;}async function validate24hChanges(){const _0x53c2fb=_0x195fee;for(const _0x569e91 of currentCoins){if(_0x569e91['coin']!=config[_0x53c2fb(0x1d8)]){let _0x276d78;_0x569e91[_0x53c2fb(0x155)]?_0x276d78=formatResult((0x1/(global[_0x53c2fb(0x160)][_0x569e91[_0x53c2fb(0x1a3)]]/0x64+0x1)-0x1)*0x64,0x3):_0x276d78=global['change'][_0x569e91[_0x53c2fb(0x1a3)]],_0x276d78<config[_0x53c2fb(0x22e)]&&(logHistory(_0x53c2fb(0x181),_0x569e91[_0x53c2fb(0x119)]+_0x53c2fb(0x22d)+_0x276d78+'%'),logHistory(_0x53c2fb(0x181),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x53c2fb(0x181),_0x53c2fb(0xb1)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x2c1984,_0x5941bf){const _0x30d2a0=_0x195fee;if(!_0x2c1984)return!![];const _0x410206=_0x5941bf[_0x30d2a0(0x240)]('.'),_0x32fa46=_0x2c1984[_0x30d2a0(0x240)]('.');for(var _0x4986a0=0x0;_0x4986a0<_0x32fa46['length'];_0x4986a0++){const _0x5528b6=~~_0x32fa46[_0x4986a0],_0x46a8db=~~_0x410206[_0x4986a0];if(_0x5528b6<_0x46a8db)return!![];if(_0x5528b6>_0x46a8db)return![];}return![];}async function oneTimeMigration(){const _0x576f64=_0x195fee;let _0xac6522=dbLogs[_0x576f64(0x22c)](_0x576f64(0x111))[_0x576f64(0x1ff)]();if(isOlderVersion(_0xac6522,_0x576f64(0x13c))){let _0x13e30f=[];const _0x4f8d9a=dbLogs[_0x576f64(0x22c)](_0x576f64(0x13e))[_0x576f64(0x1ff)]();_0x4f8d9a[_0x576f64(0xec)](_0x3ddadd=>{const _0x4b000a=_0x576f64;_0x13e30f[_0x4b000a(0x17e)]({'time':_0x3ddadd[_0x4b000a(0x10b)],'type':_0x3ddadd[_0x4b000a(0xcf)],'event':_0x3ddadd[_0x4b000a(0x122)]});}),dbLogs[_0x576f64(0x22c)](_0x576f64(0x13e))['assign'](_0x13e30f)[_0x576f64(0x1a2)]();}let _0x216a80=dbConfig['get']('version')[_0x576f64(0x1ff)]();if(isOlderVersion(_0x216a80,'2.3.5')){let _0x47a6b4=dbConfig[_0x576f64(0x22c)](_0x576f64(0x23e))[_0x576f64(0x1ae)]({'botID':botID})[_0x576f64(0x1ff)]();if(_0x47a6b4){let _0x140aa3=[];_0x47a6b4[_0x576f64(0x147)][_0x576f64(0xec)](_0x4dc124=>{const _0x486ab7=_0x576f64;_0x140aa3[_0x486ab7(0x17e)]({'coin':_0x4dc124[_0x486ab7(0x119)],'number':_0x4dc124[_0x486ab7(0x191)],'price':_0x4dc124['startprice']}),delete _0x4dc124[_0x486ab7(0x191)],delete _0x4dc124[_0x486ab7(0x1d3)];});if(_0x140aa3[_0x576f64(0x1ad)]!==0x0)fs[_0x576f64(0x170)](configbackuppath+(_0x576f64(0xcc)+botID+'.json'),JSON[_0x576f64(0x1d4)](_0x140aa3,null,0x4),function(_0x5002c1){if(_0x5002c1){}});const _0xc4dea1=(_0x7001ae,_0x3e7b97)=>{const _0x54d171=_0x576f64;let _0x748a50=[];_0x3e7b97[_0x54d171(0xec)](_0x205e3a=>{const _0x38a127=_0x54d171,_0x18c226=_0x7001ae[_0x38a127(0x1ae)](_0x42587c=>_0x42587c[_0x38a127(0x119)]==_0x205e3a[_0x38a127(0x119)]);if(!_0x18c226)_0x748a50[_0x38a127(0x17e)](_0x205e3a);});let _0x2232e0=[];return _0x7001ae[_0x54d171(0xec)](_0x2e1c12=>{const _0x2a0703=_0x54d171,_0x45063e=_0x3e7b97['find'](_0x2a4b4b=>_0x2a4b4b['coin']==_0x2e1c12[_0x2a0703(0x119)]);if(!_0x45063e||_0x45063e[_0x2a0703(0x238)]==0x0&&_0x2e1c12[_0x2a0703(0x238)]!=0x0)_0x2232e0['push'](_0x2e1c12);}),{'missingDay1':_0x748a50,'notInDay2':_0x2232e0};},_0x599603=dbPerformance['get'](_0x576f64(0xe9))[_0x576f64(0x244)]()[_0x576f64(0x1ff)]();if(_0x599603['length']>0x1){const {missingDay1:_0x3a656f,notInDay2:_0x3a3b66}=_0xc4dea1(_0x140aa3,_0x599603[0x1][_0x576f64(0x231)]);_0x140aa3=[..._0x140aa3,..._0x3a656f],_0x3a3b66['forEach'](_0xab7397=>{const _0x56dab8=_0x576f64;let _0x2be4d3=_0x140aa3[_0x56dab8(0xbd)](_0x5b8766=>_0x5b8766['coin']==_0xab7397[_0x56dab8(0x119)]);_0x2be4d3!=-0x1&&_0x140aa3[_0x56dab8(0x1c7)](_0x2be4d3,0x1);});}_0x140aa3['sort']((_0x41c589,_0x3c2df7)=>_0x41c589['coin']>_0x3c2df7[_0x576f64(0x119)]?0x1:_0x3c2df7[_0x576f64(0x119)]>_0x41c589[_0x576f64(0x119)]?-0x1:0x0);let _0x40f6ec=[{'date':_0x47a6b4[_0x576f64(0x14e)],'changes':_0x140aa3}];_0x599603[_0x576f64(0x1ad)]>0x2&&_0x599603[_0x576f64(0xec)]((_0x141a31,_0x3fc616)=>{const _0xece2ab=_0x576f64;if(_0x3fc616>0x0&&_0x3fc616<_0x599603[_0xece2ab(0x1ad)]-0x1){const {missingDay1:_0x1be8cb,notInDay2:_0xfb1480}=_0xc4dea1(_0x599603[_0x3fc616]['coins'],_0x599603[_0x3fc616+0x1][_0xece2ab(0x231)]);_0x140aa3=[],(_0x1be8cb['length']!=0x0||_0xfb1480[_0xece2ab(0x1ad)]!=0x0)&&(_0x1be8cb[_0xece2ab(0x1ad)]!=0x0&&_0x140aa3[_0xece2ab(0x17e)](..._0x1be8cb),_0xfb1480[_0xece2ab(0x1ad)]!=0x0&&(_0xfb1480['forEach'](_0x4907eb=>{const _0x30234e=_0xece2ab;_0x4907eb[_0x30234e(0x238)]=-_0x4907eb[_0x30234e(0x238)];}),_0x140aa3[_0xece2ab(0x17e)](..._0xfb1480)),_0x140aa3[_0xece2ab(0x221)]((_0x3ba272,_0x5c80b3)=>_0x3ba272[_0xece2ab(0x119)]>_0x5c80b3[_0xece2ab(0x119)]?0x1:_0x5c80b3['coin']>_0x3ba272['coin']?-0x1:0x0),_0x40f6ec[_0xece2ab(0x17e)]({'date':_0x599603[_0x3fc616+0x1][_0xece2ab(0x12d)],'changes':_0x140aa3}));}}),dbConfig['get'](_0x576f64(0x23e))['find']({'botID':botID})[_0x576f64(0x158)]({..._0x47a6b4,'liquidity':_0x40f6ec})['write']();}}if(isOlderVersion(_0x216a80,_0x576f64(0xf4))){let _0x1449ef=dbConfig[_0x576f64(0x22c)](_0x576f64(0x23e))[_0x576f64(0x1ae)]({'botID':botID})[_0x576f64(0x1ff)]();if(_0x1449ef){const _0x4375c6=_0x1449ef[_0x576f64(0x14f)],_0x46bfc3=_0x4375c6?capitalize(_0x4375c6):_0x576f64(0xb9);dbConfig['get'](_0x576f64(0x23e))[_0x576f64(0x1ae)]({'botID':botID})[_0x576f64(0x158)]({'exchange':_0x46bfc3})[_0x576f64(0x1a2)]();}}if(isOlderVersion(_0x216a80,_0x576f64(0x115))){let _0xfc522b=dbConfig['get'](_0x576f64(0x23e))[_0x576f64(0x1ae)]({'botID':botID})[_0x576f64(0x1ff)]();if(_0xfc522b){const _0x24190b=_0xfc522b[_0x576f64(0x236)],_0x5b9459=_0x24190b?'marketcap':![];dbConfig[_0x576f64(0x22c)](_0x576f64(0x23e))[_0x576f64(0x1ae)]({'botID':botID})[_0x576f64(0x158)]({'marketcapEnabled':_0x5b9459})['write']();}}if(isOlderVersion(_0x216a80,'2.6.23')){let _0x6bb7e5=dbConfig['get'](_0x576f64(0x23e))[_0x576f64(0x1ae)]({'botID':botID})[_0x576f64(0x1ff)]();if(_0x6bb7e5){const _0xcb4bb5=_0x6bb7e5[_0x576f64(0x143)],_0x5d8330=_0xcb4bb5?_0x576f64(0x1fc):![];dbConfig['get'](_0x576f64(0x23e))[_0x576f64(0x1ae)]({'botID':botID})[_0x576f64(0x158)]({'autoliquidity':_0x5d8330})[_0x576f64(0x1a2)]();}}let _0x4416a0=dbPerformance[_0x576f64(0x22c)]('version')[_0x576f64(0x1ff)]();isOlderVersion(_0x4416a0,_0x576f64(0x13c))&&setStartDatePerformance();let _0x449a3f=dbCoinResults[_0x576f64(0x22c)]('version')[_0x576f64(0x1ff)]();if(isOlderVersion(_0x449a3f,_0x576f64(0x189))){let _0x468954=dbCoinResults['get'](_0x576f64(0x231))[_0x576f64(0x1ff)]();if(_0x468954[_0x576f64(0x1ad)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xe32826=_0x195fee;dbConfig['set']('version',serverversion)[_0xe32826(0x1a2)](),dbPerformance['set']('version',serverversion)['write'](),dbLogs['set'](_0xe32826(0x111),serverversion)[_0xe32826(0x1a2)](),dbCoinResults[_0xe32826(0x19d)]('version',serverversion)['write']();}function getConfiguration(_0x5d6473){const _0x3bb910=_0x195fee;let _0x1703ea=dbConfig[_0x3bb910(0x22c)](_0x3bb910(0x23e))['find']({'botID':_0x5d6473})[_0x3bb910(0x1ff)]();if(_0x1703ea){let _0x16586e=![];typeof _0x1703ea[_0x3bb910(0x1e0)]==_0x3bb910(0x108)&&(_0x1703ea={..._0x1703ea,'threshold':Number(_0x1703ea[_0x3bb910(0x1e0)])},_0x16586e=!![]),_0x1703ea[_0x3bb910(0x22e)]==undefined&&(_0x1703ea={..._0x1703ea,'change24h':-0x14},_0x16586e=!![]),_0x1703ea[_0x3bb910(0x99)]==undefined&&(_0x1703ea={..._0x1703ea,'fiat':'USD'},_0x16586e=!![]),_0x1703ea[_0x3bb910(0x249)]==undefined&&(_0x1703ea={..._0x1703ea,'onepagemode':settings['onepagemode']},_0x16586e=!![]),_0x1703ea[_0x3bb910(0x154)]==undefined&&(_0x1703ea={..._0x1703ea,'colorscheme':_0x3bb910(0x242)},_0x16586e=!![]),_0x1703ea[_0x3bb910(0x143)]==undefined&&(_0x1703ea={..._0x1703ea,'autoliquidity':_0x3bb910(0x1fc)},_0x16586e=!![]),_0x1703ea[_0x3bb910(0x222)]==undefined&&(_0x1703ea={..._0x1703ea,'marketcapApi':settings[_0x3bb910(0x222)]?!![]:![]},_0x16586e=!![]),_0x1703ea[_0x3bb910(0x236)]==undefined&&(_0x1703ea={..._0x1703ea,'marketcapEnabled':![]},_0x16586e=!![]),_0x16586e&&(_0x1703ea={'botID':_0x1703ea[_0x3bb910(0x224)],'exchange':_0x1703ea[_0x3bb910(0x14f)],'apiKey':_0x1703ea[_0x3bb910(0x208)],'apiSecret':_0x1703ea[_0x3bb910(0x1c1)],'apiPassword':_0x1703ea[_0x3bb910(0xd9)],'basecoin':_0x1703ea[_0x3bb910(0x1d8)],'botname':_0x1703ea[_0x3bb910(0xc3)],'showname':_0x1703ea[_0x3bb910(0x104)],'threshold':_0x1703ea[_0x3bb910(0x1e0)],'ordertype':_0x1703ea[_0x3bb910(0x1ee)],'timeout':_0x1703ea['timeout'],'fiat':_0x1703ea['fiat'],'startdate':_0x1703ea['startdate'],'recreate':_0x1703ea[_0x3bb910(0x19a)],'timeshift':_0x1703ea[_0x3bb910(0x256)],'onepagemode':_0x1703ea[_0x3bb910(0x249)],'headless':_0x1703ea[_0x3bb910(0x1d6)],'cooldown':_0x1703ea[_0x3bb910(0x96)],'change24h':_0x1703ea[_0x3bb910(0x22e)],'emojibuy':_0x1703ea[_0x3bb910(0xbc)],'emojisell':_0x1703ea[_0x3bb910(0x135)],'colorscheme':_0x1703ea[_0x3bb910(0x154)],'marketcapApi':_0x1703ea[_0x3bb910(0x222)],'marketcapEnabled':_0x1703ea[_0x3bb910(0x236)],'portfolio':_0x1703ea[_0x3bb910(0x147)],'autoliquidity':_0x1703ea[_0x3bb910(0x143)],'liquidity':_0x1703ea['liquidity'],'openOrders':_0x1703ea['openOrders']},dbConfig[_0x3bb910(0x22c)](_0x3bb910(0x23e))[_0x3bb910(0x137)]()[_0x3bb910(0x1a2)](),dbConfig[_0x3bb910(0x22c)](_0x3bb910(0x23e))[_0x3bb910(0x17e)](_0x1703ea)['write']());}else _0x1703ea={'botID':_0x5d6473,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x5d6473,'showname':![],'threshold':0x3,'ordertype':_0x3bb910(0x220),'timeout':0x14,'fiat':_0x3bb910(0xc0),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3bb910(0x256)],'onepagemode':settings[_0x3bb910(0x249)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x3bb910(0x242),'marketcapApi':settings[_0x3bb910(0x222)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x3bb910(0x1fc),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1703ea;}function emittedConfiguration(){const _0x1a0ff6=_0x195fee;let _0x509da6;if(config[_0x1a0ff6(0x208)]=='')_0x509da6={...config,'configstate':_0x1a0ff6(0xd7)};else config[_0x1a0ff6(0x208)]==_0x1a0ff6(0x14d)?_0x509da6={...config,'configstate':_0x1a0ff6(0xa4)}:(_0x509da6={...config,'apiKey':_0x1a0ff6(0x20d),'apiSecret':_0x1a0ff6(0x20d)},config['apiPassword']&&(_0x509da6['apiPassword']=_0x1a0ff6(0x20d)));return _0x509da6;}function getSettings(){const _0x3bfe6d=_0x195fee;return dbSettings[_0x3bfe6d(0x22c)]('settings')[_0x3bfe6d(0x1ff)]();}function getSecure(){const _0x3d393=_0x195fee;return dbSecure[_0x3d393(0x22c)](_0x3d393(0x19f))[_0x3d393(0x1ff)]()||{};}function updateTimeshift(_0x1bea6f){const _0x3fcf96=_0x195fee;let _0x219f1c=dbConfig[_0x3fcf96(0x22c)]('bot')[_0x3fcf96(0x1ae)]({'botID':botID})['value']();_0x219f1c&&dbConfig[_0x3fcf96(0x22c)](_0x3fcf96(0x23e))[_0x3fcf96(0x1ae)]({'botID':botID})[_0x3fcf96(0x158)]({'timeshift':_0x1bea6f})['write'](),config[_0x3fcf96(0x256)]=_0x1bea6f,proxyEmit(_0x3fcf96(0x19c),emittedConfiguration());}function updateOnepagemode(_0x14390c){const _0x46dbc7=_0x195fee;let _0x1fe607=dbConfig[_0x46dbc7(0x22c)](_0x46dbc7(0x23e))[_0x46dbc7(0x1ae)]({'botID':botID})[_0x46dbc7(0x1ff)]();_0x1fe607&&dbConfig[_0x46dbc7(0x22c)](_0x46dbc7(0x23e))[_0x46dbc7(0x1ae)]({'botID':botID})['assign']({'onepagemode':_0x14390c})[_0x46dbc7(0x1a2)](),config[_0x46dbc7(0x249)]=_0x14390c,proxyEmit(_0x46dbc7(0x19c),emittedConfiguration());}function updateMarketcapApi(_0x4f9bf2){const _0x432da2=_0x195fee,_0x311e3a=_0x4f9bf2?!![]:![];let _0x23b520=dbConfig[_0x432da2(0x22c)](_0x432da2(0x23e))[_0x432da2(0x1ae)]({'botID':botID})[_0x432da2(0x1ff)]();_0x23b520&&dbConfig[_0x432da2(0x22c)](_0x432da2(0x23e))['find']({'botID':botID})[_0x432da2(0x158)]({'marketcapApi':_0x311e3a})[_0x432da2(0x1a2)](),config[_0x432da2(0x222)]=_0x311e3a,getMarketCap(),proxyEmit(_0x432da2(0x19c),emittedConfiguration());}async function storeConfiguration(_0x2ba60d){const _0x32b764=_0x195fee;logger[_0x32b764(0xb4)](_0x32b764(0x1f9));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x32b764(0xb4)]('Transaction\x20detection\x20blocked');let _0x1214c8=![],_0x8106ac=![],_0x156bd8=[];_0x2ba60d[_0x32b764(0x147)][_0x32b764(0xec)](_0x1c82bb=>{const _0x4e3d8c=_0x32b764;if(!_0x1c82bb[_0x4e3d8c(0x1af)]&&_0x1c82bb[_0x4e3d8c(0x119)]!=_0x2ba60d[_0x4e3d8c(0x1d8)])_0x156bd8[_0x4e3d8c(0x17e)](_0x1c82bb['symbol']);}),_0x156bd8[_0x32b764(0xec)](_0x58b947=>{const _0x4eab1e=currentCoins['find'](_0x1a9001=>_0x1a9001['symbol']==_0x58b947);!_0x4eab1e&&(_0x1214c8=!![]);}),currentCoins['forEach'](_0x35ea48=>{const _0x1d38dd=_0x32b764;if(_0x35ea48['coin']!=config[_0x1d38dd(0x1d8)]){const _0x8fb3fb=_0x156bd8[_0x1d38dd(0x1ae)](_0x307a19=>_0x307a19==_0x35ea48['symbol']);!_0x8fb3fb&&(_0x1214c8=!![]);}}),_0x2ba60d['portfolio'][_0x32b764(0xec)](_0x58bf92=>{const _0x4b710d=_0x32b764,_0x21e0a0=config[_0x4b710d(0x147)][_0x4b710d(0x1ae)](_0x355e0b=>_0x355e0b[_0x4b710d(0x119)]==_0x58bf92[_0x4b710d(0x119)]);if(_0x21e0a0&&_0x58bf92['offset']!=_0x21e0a0['offset'])_0x8106ac=!![];});let _0x3991f8=dbConfig['get'](_0x32b764(0x23e))[_0x32b764(0x1ae)]({'botID':botID})[_0x32b764(0x1ff)]();_0x2ba60d={..._0x2ba60d,'apiKey':crypt['decrypt'](secure[_0x32b764(0x92)],_0x2ba60d['apiKey'])[_0x32b764(0x1d7)],'apiSecret':crypt[_0x32b764(0x1f3)](secure['privateKey'],_0x2ba60d['apiSecret'])[_0x32b764(0x1d7)]};_0x2ba60d[_0x32b764(0xd9)]&&(_0x2ba60d['apiPassword']=crypt[_0x32b764(0x1f3)](secure['privateKey'],_0x2ba60d[_0x32b764(0xd9)])['message']);let _0x5e10b2=![];if(_0x3991f8){_0x2ba60d['apiKey']=='************'?_0x2ba60d['apiKey']=config[_0x32b764(0x208)]:_0x5e10b2=!![];_0x2ba60d['apiSecret']=='************'?_0x2ba60d[_0x32b764(0x1c1)]=config[_0x32b764(0x1c1)]:_0x5e10b2=!![];if(_0x2ba60d[_0x32b764(0xd9)]==_0x32b764(0x20d))_0x2ba60d[_0x32b764(0xd9)]=config[_0x32b764(0xd9)];else{if(_0x2ba60d['apiPassword'])_0x5e10b2=!![];}dbConfig['get'](_0x32b764(0x23e))[_0x32b764(0x1ae)]({'botID':botID})[_0x32b764(0x158)](_0x2ba60d)[_0x32b764(0x1a2)]();}else dbConfig['get'](_0x32b764(0x23e))['push'](_0x2ba60d)['write'](),_0x5e10b2=!![],process[_0x32b764(0xcb)]({'status':'enabled','live':_0x32b764(0x18b)},_0x5e8b49=>{});process[_0x32b764(0xcb)]({'botname':_0x2ba60d[_0x32b764(0xc3)]},_0xa6a9c0=>{}),config={..._0x2ba60d},updateBotManager(),proxyEmit(_0x32b764(0xbf)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x5e10b2)await reset(!![]);else _0x1214c8||_0x8106ac?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x32b764(0xb4)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x303148){const _0x108bf6=_0x195fee,_0xc5bf5e={...config,'headless':_0x303148[_0x108bf6(0x1d6)]};let _0x209869=dbConfig[_0x108bf6(0x22c)](_0x108bf6(0x23e))[_0x108bf6(0x1ae)]({'botID':botID})[_0x108bf6(0x1ff)]();_0x209869&&dbConfig[_0x108bf6(0x22c)]('bot')[_0x108bf6(0x1ae)]({'botID':botID})[_0x108bf6(0x158)](_0xc5bf5e)[_0x108bf6(0x1a2)](),config={..._0xc5bf5e},updateBotManager(),proxyEmit(_0x108bf6(0x19c),emittedConfiguration());}async function storeFiat(_0x534b63){const _0x4440e8=_0x195fee,_0x175705={...config,'fiat':_0x534b63};let _0x3d3d42=dbConfig[_0x4440e8(0x22c)](_0x4440e8(0x23e))[_0x4440e8(0x1ae)]({'botID':botID})[_0x4440e8(0x1ff)]();_0x3d3d42&&dbConfig[_0x4440e8(0x22c)](_0x4440e8(0x23e))[_0x4440e8(0x1ae)]({'botID':botID})['assign'](_0x175705)[_0x4440e8(0x1a2)](),config={..._0x175705},proxyEmit(_0x4440e8(0x19c),emittedConfiguration());}function resetHistory(){const _0x17ea5d=_0x195fee;logger[_0x17ea5d(0x102)](_0x17ea5d(0x226));try{if(fs[_0x17ea5d(0x118)](path[_0x17ea5d(0x1b0)](configpath,_0x17ea5d(0x9d)+botID+_0x17ea5d(0x195))))fs[_0x17ea5d(0xfc)](path['join'](configpath,'bot-'+botID+_0x17ea5d(0x195)));if(fs[_0x17ea5d(0x118)](path[_0x17ea5d(0x1b0)](configpath,_0x17ea5d(0x9d)+botID+'-performance.json')))fs[_0x17ea5d(0xfc)](path[_0x17ea5d(0x1b0)](configpath,'bot-'+botID+'-performance.json'));if(fs[_0x17ea5d(0x118)](path[_0x17ea5d(0x1b0)](configpath,'bot-'+botID+_0x17ea5d(0x214))))fs[_0x17ea5d(0xfc)](path['join'](configpath,_0x17ea5d(0x9d)+botID+_0x17ea5d(0x214)));}catch(_0x23617d){if(_0x23617d)logger[_0x17ea5d(0x102)](_0x17ea5d(0x1ef),_0x23617d);}const _0x7c098f=getDate();let _0xb18ec9=[];currentCoins[_0x17ea5d(0xec)](_0x4a743c=>{const _0xda8008=_0x17ea5d;_0xb18ec9[_0xda8008(0x17e)]({'coin':_0x4a743c[_0xda8008(0x119)],'number':_0x4a743c[_0xda8008(0x238)],'price':_0x4a743c[_0xda8008(0x1b6)]});});let _0x4fa8dd=dbConfig[_0x17ea5d(0x22c)](_0x17ea5d(0x23e))[_0x17ea5d(0x1ae)]({'botID':botID})['value']();_0x4fa8dd&&(dbConfig[_0x17ea5d(0x22c)](_0x17ea5d(0x23e))[_0x17ea5d(0x1ae)]({'botID':botID})[_0x17ea5d(0x158)]({'liquidity':[{'date':_0x7c098f,'changes':_0xb18ec9}]})['write'](),config[_0x17ea5d(0x171)]=[]),restartBot(!![]);}function noslash(_0x1e2f78){return _0x1e2f78['replace']('/','');}function updateHighestFee(_0x453905){const _0x9b8a7c=_0x195fee;if(_0x453905[_0x9b8a7c(0x155)]){let _0x28c235={'filled':_0x453905['filled']*_0x453905[_0x9b8a7c(0x173)],'amount':_0x453905[_0x9b8a7c(0x9b)]*_0x453905[_0x9b8a7c(0x173)],'side':_0x453905[_0x9b8a7c(0x168)]=='sell'?_0x9b8a7c(0x1bf):_0x9b8a7c(0x225),'price':0x1/_0x453905[_0x9b8a7c(0x173)]};_0x453905={..._0x453905,..._0x28c235};}const _0x564cb8=defaultFee*_0x453905[_0x9b8a7c(0x9b)]*_0x453905['price'];lastFees[_0x9b8a7c(0x206)][_0x9b8a7c(0x1ad)]===0x14&&lastFees[_0x9b8a7c(0x206)][_0x9b8a7c(0x183)](),lastFees['recent20'][_0x9b8a7c(0x17e)](_0x564cb8),lastFees[_0x9b8a7c(0x21f)]=Math[_0x9b8a7c(0x1a1)](...lastFees[_0x9b8a7c(0x206)]);}async function updateNumberCoinsCcxt(_0x4e09c4){const _0x3d3108=_0x195fee;logger[_0x3d3108(0xb4)]('0\x20-\x20EXECUTION:\x20'+_0x4e09c4[_0x3d3108(0x1a3)]+_0x3d3108(0x200)+_0x4e09c4[_0x3d3108(0x1df)]+_0x3d3108(0x200)+_0x4e09c4[_0x3d3108(0x9b)]+_0x3d3108(0x116)+_0x4e09c4[_0x3d3108(0x12f)]+_0x3d3108(0x200)+_0x4e09c4['id']);_0x4e09c4['filled']>0x0&&(blockTransactionDetection=!![]);let _0x7beb6c=_0x4e09c4['status'],_0x735359=![];currentCoins['forEach'](_0x42bffc=>{const _0x1c046e=_0x3d3108;_0x42bffc[_0x1c046e(0x1a3)]==_0x4e09c4['symbol']&&(_0x735359=!![]);});if(!_0x735359)return;const _0x5ecb1f=currentCoins[_0x3d3108(0x1ae)](_0x10dbc3=>_0x10dbc3[_0x3d3108(0x1a3)]==_0x4e09c4['symbol']),_0x5a5f9e=_0x108120=>{const _0x416439=_0x3d3108;if(_0x5ecb1f)_0x5ecb1f[_0x416439(0x10c)]=_0x108120;};if(_0x7beb6c==_0x3d3108(0x128))_0x5a5f9e(_0x3d3108(0x128));else{if(_0x7beb6c==_0x3d3108(0x18e)){_0x5a5f9e('canceled');const _0x3df825=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3df825,blockTransactionDetection=![],await getOpenOrders(),handleOpenOrders();}else{if(_0x7beb6c==_0x3d3108(0x1b3)){let _0x25d550=![];if(lastOrders)for(const _0x4de9e4 of lastOrders){const _0x54bc4b=0xc8,_0x1e6b13=0x1388;let _0x2cf66a=0x0;while(!_0x4de9e4[_0x3d3108(0x8f)]&&_0x2cf66a*_0x54bc4b<_0x1e6b13){_0x2cf66a++,await sleep(_0x54bc4b);}if(_0x2cf66a>0x0)logger[_0x3d3108(0xb4)](_0x3d3108(0x150)+_0x2cf66a*_0x54bc4b/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x4de9e4[_0x3d3108(0x8f)]==_0x4e09c4['id']){logger[_0x3d3108(0xb4)](_0x3d3108(0x11b)+_0x4e09c4['id']),_0x25d550=!![];if(_0x4de9e4[_0x3d3108(0x9b)]==0x0){logger[_0x3d3108(0xb4)](_0x3d3108(0x246)+_0x4e09c4['id']);if(_0x4e09c4[_0x3d3108(0x9a)])_0x4de9e4['price']=_0x4e09c4[_0x3d3108(0x9a)];else{if(_0x4e09c4[_0x3d3108(0x173)])_0x4de9e4[_0x3d3108(0x173)]=_0x4e09c4[_0x3d3108(0x173)];else{}}_0x4de9e4[_0x3d3108(0x9b)]=_0x4e09c4[_0x3d3108(0x9b)],updateHighestFee(_0x4de9e4),_0x5a5f9e(_0x3d3108(0x9b)),await validateOrders();if(lockOrders==ORDERS[_0x3d3108(0x1c4)]){const _0x44a702=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x44a702,blockTransactionDetection=![];}_0x4de9e4[_0x3d3108(0xcd)]={'currency':_0x4e09c4['fee']?_0x4e09c4[_0x3d3108(0xcd)][_0x3d3108(0x217)]:null,'cost':_0x4e09c4[_0x3d3108(0xcd)]?_0x4e09c4[_0x3d3108(0xcd)][_0x3d3108(0x188)]:0x0},await updateCoinResults(_0x4de9e4);}}}!_0x25d550&&(logger[_0x3d3108(0xb4)](_0x3d3108(0x1da)+_0x4e09c4['id']),_0x5a5f9e('filled'),blockTransactionDetection=![],await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x2c7a65=JSON[_0x3d3108(0x1bd)](lastBalances[_0x3d3108(0x147)]);const _0x568fe6=_0x2c7a65[_0x3d3108(0x1ae)](_0x11622a=>_0x11622a[_0x3d3108(0x1a3)]==_0x4e09c4[_0x3d3108(0x1a3)]);if(_0x568fe6){if(_0x7beb6c=='open')_0x568fe6[_0x3d3108(0x10c)]=_0x568fe6[_0x3d3108(0x10c)]==_0x3d3108(0x9b)?_0x3d3108(0x9b):_0x3d3108(0x128);else{if(_0x7beb6c==_0x3d3108(0x18e))_0x568fe6[_0x3d3108(0x10c)]=_0x568fe6[_0x3d3108(0x10c)]==_0x3d3108(0x9b)?_0x3d3108(0x9b):'canceled';else _0x7beb6c==_0x3d3108(0x1b3)&&(_0x568fe6[_0x3d3108(0x10c)]=_0x3d3108(0x9b));}}lastBalances={...lastBalances,'portfolio':JSON[_0x3d3108(0x1d4)](_0x2c7a65)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x39f69d=_0x195fee;await getOpenOrders();let _0x41bfb8=![];currentCoins[_0x39f69d(0xec)](_0x214d0c=>{const _0x2a4896=_0x39f69d;_0x41bfb8=allOpenOrders['find'](_0x13cbf8=>_0x13cbf8[_0x2a4896(0x1a3)]==_0x214d0c[_0x2a4896(0x1a3)]),_0x214d0c[_0x2a4896(0x10c)]=_0x41bfb8?_0x2a4896(0x128):'none';});}async function getCoins(_0x121d56=0x0,_0x47a84a=!![],_0x1b5925=config['basecoin']){const _0x5407ad=_0x195fee;let _0x326a57,_0x45f32b=[],_0x437877=[],_0x54a8bc=[];if(_0x121d56)await sleep(_0x121d56);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x326a57=await exchange[_0x5407ad(0x144)](),mybalances=_0x326a57[_0x5407ad(0x14b)];for(const [_0x3c2699,_0x407425]of Object[_0x5407ad(0x1b4)](mybalances)){_0x54a8bc[_0x5407ad(0x17e)](_0x3c2699);}config[_0x5407ad(0x147)][_0x5407ad(0xec)](_0x291354=>{const _0x4eda76=_0x5407ad;!_0x54a8bc[_0x4eda76(0x1d0)](_0x291354[_0x4eda76(0x119)])&&(mybalances[_0x291354['coin']]=0x0);});if(_0x1b5925=='')for(const [_0x335d5c,_0x202583]of Object[_0x5407ad(0x1b4)](mybalances)){_0x202583!=0x0&&_0x45f32b[_0x5407ad(0x17e)]({'coin':_0x335d5c});}else for(const [_0x21547e,_0x47384b]of Object[_0x5407ad(0x1b4)](mybalances)){const _0x1979c5=config[_0x5407ad(0x147)]['find'](_0x8959a2=>_0x8959a2[_0x5407ad(0x119)]==_0x21547e),_0xae81b2=_0x21547e+'/'+_0x1b5925,_0x3925a2=_0x1b5925+'/'+_0x21547e,_0x391c2b=currentCoins['find'](_0x4774bd=>_0x4774bd[_0x5407ad(0x119)]==_0x21547e);if((_0x47384b!=0x0||_0x1979c5)&&(allSymbols['includes'](_0xae81b2)||_0x21547e==_0x1b5925))_0x391c2b?_0x45f32b[_0x5407ad(0x17e)]({..._0x391c2b,'number':Math['max'](_0x47384b+(_0x1979c5&&_0x1979c5[_0x5407ad(0x1b5)]||0x0),0x0)}):_0x45f32b[_0x5407ad(0x17e)]({'coin':_0x21547e,'symbol':_0xae81b2,'reverse':![],'number':Math['max'](_0x47384b+(_0x1979c5&&_0x1979c5[_0x5407ad(0x1b5)]||0x0),0x0),'orderstatus':'none'});else{if((_0x47384b!=0x0||_0x1979c5)&&allSymbols[_0x5407ad(0x1d0)](_0x3925a2))_0x391c2b?_0x45f32b['push']({..._0x391c2b,'number':Math['max'](_0x47384b+(_0x1979c5&&_0x1979c5[_0x5407ad(0x1b5)]||0x0),0x0)}):_0x45f32b[_0x5407ad(0x17e)]({'coin':_0x21547e,'symbol':_0x3925a2,'reverse':!![],'number':Math['max'](_0x47384b+(_0x1979c5&&_0x1979c5[_0x5407ad(0x1b5)]||0x0),0x0),'orderstatus':_0x5407ad(0xaa)});else _0x1979c5&&_0x45f32b[_0x5407ad(0x17e)]({'coin':_0x1979c5[_0x5407ad(0x119)],'symbol':_0x1979c5[_0x5407ad(0x1a3)],'reverse':_0x1979c5[_0x5407ad(0x155)],'number':0x0,'orderstatus':'none'});}}}catch(_0xe843c){if(!_0x47a84a)handleErrorNoStop(_0xe843c,'getCoins()');else await handleError(_0xe843c,'getCoins()');}return _0x45f32b[_0x5407ad(0x221)]((_0x5056f0,_0x5ac6c1)=>_0x5056f0[_0x5407ad(0xd8)]<_0x5ac6c1['delta']?0x1:_0x5ac6c1[_0x5407ad(0xd8)]<_0x5056f0[_0x5407ad(0xd8)]?-0x1:0x0),_0x437877=cloneDeep(_0x45f32b),_0x45f32b=_0x45f32b[_0x5407ad(0x193)](_0x52f128=>{const _0xef9fa7=_0x5407ad,_0x518383=config[_0xef9fa7(0x147)]['find'](_0x1e5160=>_0x1e5160[_0xef9fa7(0x119)]==_0x52f128[_0xef9fa7(0x119)]);return _0x518383&&!_0x518383[_0xef9fa7(0x1af)];}),[_0x45f32b,_0x437877];}async function getCoinNumber(_0x518ac2){const _0x38498c=_0x195fee;let _0x4a6f76;try{const _0x580a88=await exchange[_0x38498c(0x144)]();_0x4a6f76=_0x580a88[_0x38498c(0x14b)][_0x518ac2];}catch(_0x144372){await handleError(_0x144372,_0x38498c(0xdd));}return _0x4a6f76;}async function getOpenOrders(){const _0x3ba25c=_0x195fee;let _0x18b82f;allOpenOrders=[];try{for(const _0x3fa739 of config[_0x3ba25c(0x147)]){!_0x3fa739[_0x3ba25c(0x1af)]&&_0x3fa739[_0x3ba25c(0x119)]!=config['basecoin']&&(_0x18b82f=await exchange[_0x3ba25c(0x172)](_0x3fa739[_0x3ba25c(0x1a3)]),_0x18b82f[_0x3ba25c(0x1ad)]>0x0&&allOpenOrders[_0x3ba25c(0x17e)](_0x18b82f[0x0]));}}catch(_0x3ebc66){await handleError(_0x3ebc66,_0x3ba25c(0xe8));}}async function handleOpenOrders(_0x4328fc=0x0){const _0x4c75c6=_0x195fee;allOpenOrders[_0x4c75c6(0x1ad)]==0x0&&lockOrders==ORDERS[_0x4c75c6(0x1c4)]&&allOrdersPlaced&&(_0x4328fc==0x0?(logger['debug'](_0x4c75c6(0x194)),_0x4328fc++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x4c75c6(0xea)),validateOrders(_0x4c75c6(0x176))));}async function testAPI(_0x1c6629){const _0x3e6162=_0x195fee,_0x175199=ccxt[_0x3e6162(0x1e8)][_0x1c6629[_0x3e6162(0x14f)][_0x3e6162(0xf0)]()],_0xae5539=new _0x175199({'apiKey':_0x1c6629['apiKey'],'secret':_0x1c6629[_0x3e6162(0x1c1)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x3e6162(0x24f)}});if(_0x1c6629[_0x3e6162(0xd9)])_0xae5539[_0x3e6162(0x113)]=_0x1c6629[_0x3e6162(0xd9)];try{await _0xae5539[_0x3e6162(0xee)]();}catch(_0x381969){throw _0x381969;}}function cloneDeep(_0x5d4032){const _0x196650=_0x195fee;return JSON[_0x196650(0x1bd)](JSON[_0x196650(0x1d4)](_0x5d4032));}async function getPortfolio(_0x5ece3f){const _0x2512b6=_0x195fee;let _0x8e7cbb=[],_0x30fc3a=[],_0x22b80f=[],_0x40e3e0;if(_0x5ece3f[_0x2512b6(0x208)]!==_0x2512b6(0x20d)||_0x5ece3f[_0x2512b6(0x1c1)]!==_0x2512b6(0x20d)||_0x5ece3f[_0x2512b6(0xd9)]&&_0x5ece3f['apiPassword']!=='************'){if(config[_0x2512b6(0x14f)]){if(_0x5ece3f[_0x2512b6(0x208)]==_0x2512b6(0x20d))_0x5ece3f[_0x2512b6(0x208)]=config[_0x2512b6(0x208)];if(_0x5ece3f[_0x2512b6(0x1c1)]==_0x2512b6(0x20d))_0x5ece3f['apiSecret']=config[_0x2512b6(0x1c1)];if(_0x5ece3f['apiPassword']==_0x2512b6(0x20d))_0x5ece3f['apiPassword']=config['apiPassword'];try{await testAPI(_0x5ece3f);}catch(_0x579d33){if(_0x579d33['toString']()[_0x2512b6(0x1d0)](_0x2512b6(0x10d))){logger['debug'](_0x2512b6(0xf9)),proxyEmit(_0x2512b6(0x147),![]);return;}else{handleError(_0x579d33,'getPortfolio(0)');return;}}}await initExchange(_0x5ece3f[_0x2512b6(0x14f)],_0x5ece3f[_0x2512b6(0x208)],_0x5ece3f['apiSecret'],_0x5ece3f[_0x2512b6(0xd9)]);try{await loadSymbols();}catch(_0x28c482){if(_0x28c482[_0x2512b6(0x1a7)]()[_0x2512b6(0x1d0)](_0x2512b6(0x10d))){proxyEmit('portfolio',![]);return;}else{handleError(_0x28c482,_0x2512b6(0x16f));return;}}const _0x586511=await getCoins(0x0,![],_0x5ece3f[_0x2512b6(0x1d8)]);_0x22b80f=cloneDeep(_0x586511[0x1]);}else{const _0x426933=await getCoins();_0x22b80f=cloneDeep(_0x426933[0x1]);}if(_0x5ece3f[_0x2512b6(0x1d8)]=='')proxyEmit(_0x2512b6(0x147),_0x22b80f);else{_0x22b80f[_0x2512b6(0xec)](_0x428112=>{const _0x2f31ca=_0x2512b6;if(_0x428112['coin']!=_0x5ece3f[_0x2f31ca(0x1d8)]&&allSymbols[_0x2f31ca(0x1d0)](_0x428112[_0x2f31ca(0x1a3)]))_0x8e7cbb['push'](_0x428112[_0x2f31ca(0x1a3)]);});if(_0x8e7cbb['length']==0x0)logHistory('error',_0x2512b6(0xd1));else{try{_0x30fc3a=await getTickers(_0x8e7cbb);}catch(_0x22189d){if(_0x22189d[_0x2512b6(0x1a7)]()[_0x2512b6(0x1d0)](_0x2512b6(0x10d))){proxyEmit('portfolio',![]);return;}else handleError(_0x22189d,_0x2512b6(0x1e2));}_0x22b80f[_0x2512b6(0xec)](_0x479070=>{const _0x9c7b87=_0x2512b6;_0x479070[_0x9c7b87(0x119)]!=_0x5ece3f[_0x9c7b87(0x1d8)]?_0x30fc3a[_0x479070[_0x9c7b87(0x1a3)]]?_0x40e3e0=_0x479070[_0x9c7b87(0x155)]?0x1/_0x30fc3a[_0x479070[_0x9c7b87(0x1a3)]][_0x9c7b87(0x1b6)]:_0x30fc3a[_0x479070['symbol']]['last']:_0x40e3e0=0x0:_0x40e3e0=0x1,_0x479070[_0x9c7b87(0x173)]=formatResult(_0x40e3e0,0x8);}),await getMarketCap(_0x22b80f),proxyEmit(_0x2512b6(0x147),_0x22b80f);}}}function truncateTradeAmount(_0x11fb6b,_0x6b4d6a){let _0x32e967=0x0;try{_0x32e967=exchange['amountToPrecision'](_0x11fb6b,_0x6b4d6a);}catch(_0x562658){}return _0x32e967;}function checkMinimums(_0x6767c9){const _0x471d37=_0x195fee;let _0x35f329=!![];const _0x1c2e6a=!_0x6767c9[_0x471d37(0x155)]?markets[_0x6767c9[_0x471d37(0x1a3)]][_0x471d37(0x1b9)][_0x471d37(0x12f)][_0x471d37(0x1c3)]:markets[_0x6767c9[_0x471d37(0x1a3)]][_0x471d37(0x1b9)]['cost'][_0x471d37(0x1c3)],_0x421571=!_0x6767c9[_0x471d37(0x155)]?markets[_0x6767c9['symbol']]['limits'][_0x471d37(0x188)]['min']:markets[_0x6767c9[_0x471d37(0x1a3)]]['limits'][_0x471d37(0x12f)]['min'],_0x3e960f=truncateTradeAmount(_0x6767c9[_0x471d37(0x1a3)],_0x6767c9['trade']);_0x6767c9['trade']=_0x3e960f;if(Math[_0x471d37(0x1f1)](_0x3e960f)<_0x1c2e6a)_0x35f329=![];if(Math['abs'](_0x3e960f)*_0x6767c9[_0x471d37(0x1b6)]<_0x421571)_0x35f329=![];if(_0x6767c9['side']==_0x471d37(0x225)){let _0x14a79e=config[_0x471d37(0x147)][_0x471d37(0x1ae)](_0xba6544=>_0xba6544[_0x471d37(0x119)]==_0x6767c9['coin']);if(_0x14a79e[_0x471d37(0x1b5)]>0x0){if(Math[_0x471d37(0x1f1)](_0x3e960f)>_0x6767c9[_0x471d37(0x238)]-_0x14a79e['offset'])_0x35f329=![];}else{if(Math[_0x471d37(0x1f1)](_0x3e960f)>_0x6767c9[_0x471d37(0x238)])_0x35f329=![];}}if(_0x6767c9[_0x471d37(0x168)]==_0x471d37(0x1bf)){let _0x56da1b=config[_0x471d37(0x147)][_0x471d37(0x1ae)](_0x4b6454=>_0x4b6454['coin']==config[_0x471d37(0x1d8)]),_0x26e973=currentCoins[_0x471d37(0x1ae)](_0x3cb72d=>_0x3cb72d[_0x471d37(0x119)]==config[_0x471d37(0x1d8)]);if(_0x56da1b[_0x471d37(0x1b5)]>0x0){if(Math[_0x471d37(0x1f1)](_0x3e960f)*_0x6767c9[_0x471d37(0x1b6)]>_0x26e973[_0x471d37(0x238)]-_0x56da1b[_0x471d37(0x1b5)])_0x35f329=![];}else{if(Math[_0x471d37(0x1f1)](_0x3e960f)*_0x6767c9[_0x471d37(0x1b6)]>_0x26e973[_0x471d37(0x238)])_0x35f329=![];}}return _0x35f329;}async function getBalances(_0x1b3860=!![]){const _0x414597=_0x195fee;let _0x62568c=0x0,_0x2380bd;const _0x68483f=config[_0x414597(0x1e0)];if(config[_0x414597(0x1d6)]&&config[_0x414597(0x22e)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x4034fa=>{const _0x17475d=_0x414597;if(_0x4034fa[_0x17475d(0x119)]!=config[_0x17475d(0x1d8)]){let _0x159743=global['ticker'][noslash(_0x4034fa['symbol'])];_0x2380bd=_0x4034fa['reverse']?0x1/_0x159743:_0x159743;}else _0x2380bd=0x1;let _0x4f9cb7=_0x4034fa[_0x17475d(0x238)]*_0x2380bd;_0x62568c+=_0x4f9cb7,_0x4034fa[_0x17475d(0x1b6)]=formatResult(Number(_0x2380bd),0x8),_0x4034fa[_0x17475d(0x1ff)]=_0x4f9cb7;}),currentCoins['forEach'](_0x18fb9d=>{const _0x2c52ce=_0x414597;let _0x49e561=config[_0x2c52ce(0x147)][_0x2c52ce(0x1ae)](_0x481617=>_0x481617[_0x2c52ce(0x119)]==_0x18fb9d[_0x2c52ce(0x119)]),_0x41bf56=Number(_0x49e561[_0x2c52ce(0xe1)]),_0x10d6cc=_0x18fb9d[_0x2c52ce(0x1ff)]/_0x62568c*0x64,_0x539e6e=_0x41bf56*_0x62568c/0x64/_0x18fb9d[_0x2c52ce(0x1b6)]-_0x18fb9d[_0x2c52ce(0x238)];_0x18fb9d[_0x2c52ce(0xe1)]=formatResult(_0x10d6cc,0x3),_0x18fb9d['target']=formatResult(_0x41bf56,0x3),_0x18fb9d[_0x2c52ce(0x133)]=formatResult(_0x539e6e,0x8),_0x18fb9d['side']='',_0x18fb9d[_0x2c52ce(0x10a)]=![];if(_0x18fb9d[_0x2c52ce(0x119)]!=config[_0x2c52ce(0x1d8)]){if(_0x18fb9d[_0x2c52ce(0xe1)]>_0x41bf56)_0x18fb9d['side']='sell',_0x18fb9d[_0x2c52ce(0x10a)]=checkMinimums(_0x18fb9d);else _0x18fb9d[_0x2c52ce(0xe1)]<_0x41bf56&&(_0x18fb9d[_0x2c52ce(0x168)]='buy',_0x18fb9d['valid']=checkMinimums(_0x18fb9d));}_0x18fb9d[_0x2c52ce(0xd8)]=_0x18fb9d[_0x2c52ce(0xe1)]/_0x18fb9d[_0x2c52ce(0x132)]-0x1;if(_0x18fb9d[_0x2c52ce(0x10c)]==_0x2c52ce(0x9b)||_0x18fb9d[_0x2c52ce(0x10c)]==_0x2c52ce(0x18e))_0x18fb9d['orderstatus']=_0x2c52ce(0xaa);}),currentCoins['sort']((_0x5caf46,_0x4f6dea)=>_0x5caf46['delta']<_0x4f6dea[_0x414597(0xd8)]?0x1:_0x4f6dea[_0x414597(0xd8)]<_0x5caf46['delta']?-0x1:0x0);const _0x1e890c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1e890c[_0x414597(0xff)],'usd':_0x1e890c[_0x414597(0x1a6)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x68483f},proxyEmit(_0x414597(0x253),{'serverversion':serverversion,'balances':lastBalances});if(_0x1b3860){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x68483f});else{if(lockOrders==ORDERS[_0x414597(0x1ba)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x68483f});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x154a64=getNormalizedPerformance();getStartingBalances(_0x154a64),emitPerformance(_0x154a64);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x33f7b2=_0x195fee;if(!lastBalances)return;let _0x3b178a=[],_0xbc87ff,_0x22a699=JSON['parse'](lastBalances[_0x33f7b2(0x147)]);_0x22a699[_0x33f7b2(0x221)]((_0x310207,_0x2bac61)=>_0x310207[_0x33f7b2(0x119)]>_0x2bac61[_0x33f7b2(0x119)]?0x1:_0x2bac61[_0x33f7b2(0x119)]>_0x310207[_0x33f7b2(0x119)]?-0x1:0x0),_0x22a699['forEach'](_0x481ae1=>{const _0x4ca244=_0x33f7b2;let _0x299da0={'coin':_0x481ae1[_0x4ca244(0x119)],'number':_0x481ae1['number'],'price':_0x481ae1['last']};_0x3b178a[_0x4ca244(0x17e)](_0x299da0);});const _0x398318=await getFiat();_0xbc87ff={'date':lastBalances[_0x33f7b2(0x10b)][_0x33f7b2(0x240)]('\x20')[0x0],'eur':_0x398318['eur'],'usd':_0x398318['usd'],'coins':_0x3b178a};let _0x4b060b=dbPerformance[_0x33f7b2(0x22c)](_0x33f7b2(0xe9))[_0x33f7b2(0x1ae)]({'date':_0xbc87ff[_0x33f7b2(0x12d)]})[_0x33f7b2(0x1ff)]();_0x4b060b?_0xbc87ff[_0x33f7b2(0x12d)]!=config[_0x33f7b2(0x14e)]&&dbPerformance[_0x33f7b2(0x22c)](_0x33f7b2(0xe9))[_0x33f7b2(0x1ae)]({'date':_0xbc87ff['date']})[_0x33f7b2(0x158)](_0xbc87ff)['write']():dbPerformance[_0x33f7b2(0x22c)](_0x33f7b2(0xe9))[_0x33f7b2(0x17e)](_0xbc87ff)[_0x33f7b2(0x1a2)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x7514a9=_0x195fee;let _0x497239=[];if(dbPerformance['has'](_0x7514a9(0xe9))[_0x7514a9(0x1ff)]()){let _0x1c3d26=dbPerformance['get'](_0x7514a9(0xe9))[_0x7514a9(0x244)]()[_0x7514a9(0x193)](_0x3aab85=>{const _0x562719=_0x7514a9;if(_0x3aab85[_0x562719(0x231)][_0x562719(0x1ad)]==0x0)return![];else return!![];})[_0x7514a9(0x123)](_0x7514a9(0x12d))['value'](),_0x294e47=[...config[_0x7514a9(0x171)]];_0x294e47[_0x7514a9(0x221)]((_0x2ff207,_0x3dcc9f)=>_0x2ff207[_0x7514a9(0x12d)]>_0x3dcc9f[_0x7514a9(0x12d)]?-0x1:_0x3dcc9f['date']>_0x2ff207[_0x7514a9(0x12d)]?0x1:0x0);let _0xd519b8=0x1,_0x194786=[],_0x13d3f6=0x0;_0x1c3d26[_0x7514a9(0x234)]()[_0x7514a9(0x155)]()[_0x7514a9(0xec)]((_0x4a9a87,_0x487366)=>{const _0x5a9de5=_0x7514a9;if(_0x294e47[_0x13d3f6]){if(_0x1c3d26[_0x1c3d26['length']-_0x487366]&&_0x294e47[_0x13d3f6][_0x5a9de5(0x12d)]==_0x1c3d26[_0x1c3d26[_0x5a9de5(0x1ad)]-_0x487366][_0x5a9de5(0x12d)]){if(_0x487366<_0x1c3d26[_0x5a9de5(0x1ad)]){let _0x3d1b6a=0x0,_0x318876=0x0;_0x1c3d26[_0x1c3d26[_0x5a9de5(0x1ad)]-_0x487366][_0x5a9de5(0x231)][_0x5a9de5(0xec)](_0x114053=>{const _0x200a28=_0x5a9de5;_0x318876+=_0x114053[_0x200a28(0x238)]*_0x114053[_0x200a28(0x173)];}),_0x294e47[_0x13d3f6]['changes'][_0x5a9de5(0xec)](_0x5e9de7=>{const _0x2f313e=_0x5a9de5;_0x3d1b6a+=_0x5e9de7[_0x2f313e(0x238)]*_0x5e9de7[_0x2f313e(0x173)];}),_0xd519b8*=_0x3d1b6a/(_0x318876-_0x3d1b6a)+0x1;}_0x13d3f6++;}}let _0x77ccd6=0x0;_0x4a9a87[_0x5a9de5(0x231)][_0x5a9de5(0xec)](_0x189cee=>{const _0x541f74=_0x5a9de5;_0x77ccd6+=_0x189cee[_0x541f74(0x238)]*_0x189cee['price'];}),_0x194786[_0x1c3d26[_0x5a9de5(0x1ad)]-_0x487366-0x1]=_0x77ccd6*(_0xd519b8-0x1);});let _0x2f80fa=[];_0x294e47=[...config['liquidity']]||[];let _0x754ada=0x0;_0x13d3f6=0x0,_0x1c3d26[_0x7514a9(0xec)]((_0x43fac2,_0xa6ca0f)=>{const _0x550e23=_0x7514a9;if(_0x294e47[_0x13d3f6]){const _0x120e56=fns[_0x550e23(0x1bd)](_0x294e47[_0x13d3f6]['date'],_0x550e23(0xaf),new Date()),_0x2e7270=fns[_0x550e23(0x1bd)](_0x43fac2['date'],_0x550e23(0xaf),new Date());if(fns[_0x550e23(0x22b)](_0x120e56,_0x2e7270)){let _0x3348c2=0x0;_0x294e47[_0x13d3f6][_0x550e23(0x18c)][_0x550e23(0xec)](_0x14a5d5=>{const _0x4bac0a=_0x550e23;!_0x2f80fa[_0x14a5d5[_0x4bac0a(0x119)]]?_0x2f80fa[_0x14a5d5[_0x4bac0a(0x119)]]=_0x14a5d5['number']:(_0x3348c2=_0x2f80fa[_0x14a5d5[_0x4bac0a(0x119)]],_0x2f80fa[_0x14a5d5[_0x4bac0a(0x119)]]+=_0x14a5d5[_0x4bac0a(0x238)]);const _0x43a004=_0x43fac2[_0x4bac0a(0x231)]['find'](_0x4799ea=>_0x4799ea['coin']==_0x14a5d5[_0x4bac0a(0x119)]);(!_0x43a004||_0x43a004[_0x4bac0a(0x238)]==0x0)&&(_0x754ada+=(-_0x14a5d5[_0x4bac0a(0x238)]-_0x3348c2)*_0x14a5d5[_0x4bac0a(0x173)]);}),_0x13d3f6++;}}_0x43fac2[_0x550e23(0x231)][_0x550e23(0xec)]((_0xde9e72,_0x21b8f2)=>{const _0x3b48dd=_0x550e23;_0x2f80fa[_0xde9e72[_0x3b48dd(0x119)]]&&(_0xde9e72[_0x3b48dd(0xd7)]=_0x2f80fa[_0xde9e72[_0x3b48dd(0x119)]]);}),_0x497239[_0x550e23(0x17e)]({'date':_0x43fac2[_0x550e23(0x12d)],'eur':_0x43fac2[_0x550e23(0xff)],'usd':_0x43fac2[_0x550e23(0x1a6)],'offset':_0x194786[_0xa6ca0f],'netoffset':_0x754ada,'coins':_0x43fac2[_0x550e23(0x231)]});});}return _0x497239;}function emitPerformance(_0x402d8a){const _0x4a6ac2=_0x195fee;_0x402d8a[_0x4a6ac2(0x1ad)]!==0x0?(proxyEmit(_0x4a6ac2(0x145),_0x402d8a),lastPerformanceEmitted=getDate()):proxyEmit(_0x4a6ac2(0x145),[]);}function getPerf(_0x1db60b,_0x1b0560){const _0x46399e=_0x195fee;let _0x4142af=0x0,_0x1ca49d=0x0,_0x1c29ce=0x0;_0x1db60b[_0x46399e(0x231)][_0x46399e(0xec)](_0x3e23a9=>{const _0x318967=_0x46399e;_0x4142af+=_0x3e23a9[_0x318967(0x238)]*_0x3e23a9[_0x318967(0x173)];});_0x1b0560&&(_0x4142af+=_0x1db60b[_0x46399e(0x1b5)]);if(config[_0x46399e(0x1d8)]===_0x46399e(0x1d2)||config['basecoin']===_0x46399e(0x157)||config[_0x46399e(0x1d8)]===_0x46399e(0x16c))_0x1ca49d=_0x4142af*_0x1db60b[_0x46399e(0xff)],_0x1c29ce=_0x4142af*_0x1db60b[_0x46399e(0x1a6)];else{if(usdBasecoins[_0x46399e(0x1d0)](config[_0x46399e(0x1d8)]))_0x1ca49d=_0x4142af*_0x1db60b[_0x46399e(0xff)]/_0x1db60b[_0x46399e(0x1a6)],_0x1c29ce=_0x4142af;else config[_0x46399e(0x1d8)]==='EUR'&&(_0x1ca49d=_0x4142af,_0x1c29ce=_0x4142af*_0x1db60b[_0x46399e(0x1a6)]/_0x1db60b[_0x46399e(0xff)]);}return[_0x4142af,_0x1ca49d,_0x1c29ce];}function getKPIs(_0x140d39,_0x56d2b7=_0x195fee(0xfe)){const _0x6270bf=_0x195fee,_0x53e21f=config[_0x6270bf(0x1d8)],_0x177b17=lastBalances,_0x538bf9=currentCoins,_0x4e236e=getNormalizedPerformance(),_0x3ab918=_0x140d39===_0x6270bf(0x1d8)?_0x53e21f:_0x140d39==='fiat'||_0x140d39===_0x6270bf(0x1e4)?_0x56d2b7:_0x6270bf(0x245)+_0x53e21f,_0x583548=_0x140d39==='net-basecoin'?_0x6270bf(0xca):_0x140d39==='net-fiat'?'Net\x20effect':_0x3ab918+_0x6270bf(0x219),_0x6b2032=_0x140d39===_0x6270bf(0xe2)||_0x140d39===_0x6270bf(0x1e4)?_0x6270bf(0xca):_0x3ab918+'\x20change';let _0x15de9d=0x0;_0x538bf9[_0x6270bf(0xec)](_0x45e8dc=>{const _0x475bc0=_0x6270bf;_0x15de9d+=_0x45e8dc[_0x475bc0(0x238)]*_0x45e8dc[_0x475bc0(0x1b6)];});if(_0x140d39===_0x6270bf(0x99)||_0x140d39==='net-fiat'){if(_0x53e21f===_0x6270bf(0x1d2)||_0x53e21f===_0x6270bf(0x157)||_0x53e21f===_0x6270bf(0x16c))_0x15de9d=_0x15de9d*(_0x56d2b7==='EUR'?_0x177b17[_0x6270bf(0xff)]:_0x177b17[_0x6270bf(0x1a6)]);else{if(usdBasecoins[_0x6270bf(0x1d0)](_0x53e21f))_0x15de9d=_0x15de9d*(_0x56d2b7===_0x6270bf(0xfe)?_0x177b17[_0x6270bf(0xff)]/_0x177b17['usd']:0x1);else _0x53e21f===_0x6270bf(0xfe)&&(_0x15de9d=_0x15de9d*(_0x56d2b7===_0x6270bf(0xfe)?0x1:_0x177b17['usd']/_0x177b17[_0x6270bf(0xff)]));}}let _0x354dd4;if(_0x15de9d!==0x0){if(_0x140d39==='basecoin')_0x354dd4=(_0x15de9d/startingBalances[_0x6270bf(0x1d8)]-0x1)*0x64;else{if(_0x56d2b7===_0x6270bf(0xfe))_0x354dd4=(_0x15de9d/startingBalances[_0x6270bf(0xff)]-0x1)*0x64;else _0x354dd4=(_0x15de9d/startingBalances['usd']-0x1)*0x64;}let _0x4b6246=0x0;if(startingBalances['coins'])_0x538bf9[_0x6270bf(0xec)](_0x2c6242=>{const _0x275f83=_0x6270bf;let _0x5cff8c=startingBalances[_0x275f83(0x231)]['find'](_0x1607ce=>_0x1607ce['coin']===_0x2c6242[_0x275f83(0x119)]);if(_0x5cff8c&&_0x5cff8c['coin']&&_0x2c6242[_0x275f83(0x238)]!==0x0)_0x4b6246+=_0x5cff8c[_0x275f83(0x238)]*_0x2c6242['last'];});let _0x42c5a2=0x0;if(_0x4e236e[_0x6270bf(0x1ad)]!==0x0){let _0x1a0bf8=_0x4e236e[_0x4e236e[_0x6270bf(0x1ad)]-0x1];_0x42c5a2=_0x1a0bf8[_0x6270bf(0x1f4)];}_0x4b6246-=_0x42c5a2;_0x140d39===_0x6270bf(0xe2)&&(_0x354dd4=(_0x15de9d-_0x4b6246)/startingBalances[_0x6270bf(0x1d8)]*0x64,_0x15de9d=_0x15de9d-_0x4b6246);if(_0x140d39===_0x6270bf(0x1e4)){let _0x28b973=_0x56d2b7==='EUR'?startingBalances[_0x6270bf(0xff)]:startingBalances[_0x6270bf(0x1a6)];if(_0x53e21f===_0x6270bf(0x1d2)||_0x53e21f===_0x6270bf(0x157)||_0x53e21f===_0x6270bf(0x16c))_0x4b6246=_0x56d2b7===_0x6270bf(0xfe)?_0x4b6246*_0x177b17[_0x6270bf(0xff)]:_0x4b6246*_0x177b17['usd'];else{if(usdBasecoins[_0x6270bf(0x1d0)](_0x53e21f))_0x4b6246=_0x56d2b7===_0x6270bf(0xfe)?_0x4b6246*_0x177b17[_0x6270bf(0xff)]/_0x177b17['usd']:_0x4b6246;else _0x53e21f==='EUR'&&(_0x4b6246=_0x56d2b7==='EUR'?_0x4b6246:_0x4b6246*_0x177b17['usd']/_0x177b17['eur']);}_0x354dd4=(_0x15de9d-_0x4b6246)/_0x28b973*0x64,_0x15de9d=_0x15de9d-_0x4b6246;}if(_0x354dd4){if(_0x354dd4<0x64)_0x354dd4=_0x354dd4['toFixed'](0x2);else{if(_0x354dd4<0x3e8)_0x354dd4=_0x354dd4[_0x6270bf(0xf3)](0x1);else _0x354dd4=_0x354dd4[_0x6270bf(0xf3)](0x0);}}else _0x354dd4=Number('0')[_0x6270bf(0xf3)](0x2);if(_0x15de9d){if(Math[_0x6270bf(0x1f1)](_0x15de9d)<0.000001)_0x15de9d=_0x15de9d['toFixed'](0x2);else{if(Math[_0x6270bf(0x1f1)](_0x15de9d)<0.1)_0x15de9d=_0x15de9d[_0x6270bf(0xf3)](0x6);else{if(Math[_0x6270bf(0x1f1)](_0x15de9d)<0x1)_0x15de9d=_0x15de9d[_0x6270bf(0xf3)](0x5);else{if(Math[_0x6270bf(0x1f1)](_0x15de9d)<0xa)_0x15de9d=_0x15de9d[_0x6270bf(0xf3)](0x4);else{if(Math[_0x6270bf(0x1f1)](_0x15de9d)<0x64)_0x15de9d=_0x15de9d[_0x6270bf(0xf3)](0x3);else{if(Math['abs'](_0x15de9d)<0x3e8)_0x15de9d=_0x15de9d[_0x6270bf(0xf3)](0x2);else _0x15de9d=_0x15de9d[_0x6270bf(0xf3)](0x2);}}}}}}else _0x15de9d=Number('0')['toFixed'](0x2);}else _0x354dd4=Number('0')['toFixed'](0x2);return{'value':_0x15de9d,'change':_0x354dd4,'leftTxt':_0x583548,'rightTxt':_0x6b2032};}async function getStartingBalances(_0x1adb59,_0x1d7217=!![]){const _0x19ec2d=_0x195fee;if(_0x1adb59[_0x19ec2d(0x1ad)]!==0x0){const [_0x202655,_0x124a4c,_0x5982f5]=getPerf(_0x1adb59[0x0],!![]);let _0x26f472=[];config[_0x19ec2d(0x147)]['forEach'](_0x205c32=>{const _0x402724=_0x19ec2d;let _0x3768d8=0x0,_0x297bc7;config[_0x402724(0x171)][_0x402724(0xec)](_0x53ba01=>{const _0x246613=_0x402724;let _0x4ca803=_0x53ba01[_0x246613(0x18c)][_0x246613(0x1ae)](_0x645b55=>_0x645b55[_0x246613(0x119)]==_0x205c32[_0x246613(0x119)]);if(_0x4ca803){_0x3768d8+=_0x4ca803[_0x246613(0x238)];if(!_0x297bc7)_0x297bc7=_0x4ca803[_0x246613(0x173)];}}),_0x26f472[_0x402724(0x17e)]({'coin':_0x205c32['coin'],'number':_0x3768d8,'initialprice':_0x297bc7});});const _0x42a2bc={'basecoin':_0x202655,'eur':_0x124a4c,'usd':_0x5982f5,'coins':_0x26f472};if(_0x1d7217)proxyEmit('starting-balances',_0x42a2bc);startingBalances=_0x42a2bc;}}function headlessMode(_0x5fb1d7){const _0x3e3e96=_0x195fee;let _0x9af842=_0x5fb1d7[_0x3e3e96(0x147)],_0xe8713f=_0x5fb1d7[_0x3e3e96(0x1e0)],_0x235511=[];for(let _0xee3077 of _0x9af842){if(_0xee3077[_0x3e3e96(0x119)]!=config[_0x3e3e96(0x1d8)]){if(_0xee3077['delta']>=_0xe8713f/0x64){if(_0xee3077['valid'])_0x235511[_0x3e3e96(0x17e)](_0xee3077);}else{if(_0xee3077['delta']<=-_0xe8713f/0x64){if(_0xee3077[_0x3e3e96(0x10a)])_0x235511[_0x3e3e96(0x17e)](_0xee3077);}}}}_0x235511['length']>0x0&&(lockOrders==ORDERS[_0x3e3e96(0x1ba)]&&!coolingDown&&_0x235511[_0x3e3e96(0xec)](_0x3e2337=>{const _0x8f19bc=_0x3e3e96;logger[_0x8f19bc(0xb4)](_0x8f19bc(0xa0)+_0x3e2337[_0x8f19bc(0x119)]+'\x20'+_0x3e2337['number']+'\x20'+_0x3e2337[_0x8f19bc(0x1b6)]+'\x20'+_0x3e2337[_0x8f19bc(0xe1)]+'%\x20'+_0x3e2337[_0x8f19bc(0x132)]+'%\x20'+(0x64*_0x3e2337[_0x8f19bc(0xd8)])['toFixed'](0x2)+'%\x20('+_0xe8713f['toFixed'](0x2)+'%)');}),placeOrder(_0x235511));}function notifyBalance(_0x500f72){const _0x1b7154=_0x195fee;let _0xdaced9=_0x500f72[_0x1b7154(0x147)],_0x436e3b=_0x500f72[_0x1b7154(0x1e0)],_0x38b04a=[];for(let _0x613056 of _0xdaced9){if(_0x613056[_0x1b7154(0x119)]!=config['basecoin']){if(_0x613056[_0x1b7154(0xd8)]>=_0x436e3b/0x64){if(_0x613056[_0x1b7154(0x10a)])_0x38b04a[_0x1b7154(0x17e)](_0x613056);}else{if(_0x613056[_0x1b7154(0xd8)]<=-_0x436e3b/0x64){if(_0x613056[_0x1b7154(0x10a)])_0x38b04a[_0x1b7154(0x17e)](_0x613056);}}}}if(_0x38b04a['length']>0x0){let _0x365de9=_0x38b04a['map'](_0x18a80f=>_0x18a80f[_0x1b7154(0x119)]);_0x365de9[_0x1b7154(0x221)]();let _0x2fda82=_0x365de9[_0x1b7154(0x1b0)](',\x20');if(!lastCoinsToBalance)logHistory(_0x1b7154(0x114),_0x1b7154(0x1bc));lastCoinsToBalance=_0x2fda82;}}function symbolToCoin(_0x52f4ad){const _0x2e5569=_0x195fee;let _0x14ef03;if(_0x52f4ad[_0x2e5569(0x1d0)]('/'+config['basecoin']))_0x14ef03=_0x52f4ad[_0x2e5569(0x112)]('/'+config[_0x2e5569(0x1d8)],'');if(_0x52f4ad['includes'](config[_0x2e5569(0x1d8)]+'/'))_0x14ef03=_0x52f4ad[_0x2e5569(0x112)](config[_0x2e5569(0x1d8)]+'/','');return _0x14ef03;}async function unlockOrders(){const _0x333d00=_0x195fee;if(allOrdersPlaced&&lockOrders==ORDERS[_0x333d00(0x1c4)]){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x333d00(0x212)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x10073a=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x10073a,blockTransactionDetection=![],validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x333d00(0x1ba)],logger[_0x333d00(0xb4)](_0x333d00(0x15e));}}async function validateOrders(_0x16c1a6){const _0x4b6cc1=_0x195fee;if(_0x16c1a6)validateOrdersState=_0x16c1a6;logger[_0x4b6cc1(0xb4)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x4b6cc1(0x13a)+(lockOrders==0x1?_0x4b6cc1(0x127):lockOrders==0x2?_0x4b6cc1(0x15d):_0x4b6cc1(0x166)));let _0x59e0d3=[],_0xe39acc=config[_0x4b6cc1(0x1ee)]==_0x4b6cc1(0x220)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4b6cc1(0xbe)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x4b6cc1(0xb4)](_0x4b6cc1(0x19b)+validateOrdersState),lastOrders[_0x4b6cc1(0xec)](_0x54b806=>{const _0x576000=_0x4b6cc1;let _0x1395f7=![];_0x54b806['filled']>0x0&&(_0x1395f7=!![]),_0x59e0d3[_0x576000(0x17e)](_0x1395f7),_0x1395f7&&config[_0x576000(0x1ee)]!=_0x576000(0x220)&&logHistory('order',_0x576000(0x18a)+_0x54b806[_0x576000(0x1a3)]+'\x20'+_0x54b806['side']+'\x20#'+formatResult(_0x54b806[_0x576000(0x9b)],0x8)+'\x20@'+formatResult(_0x54b806[_0x576000(0x173)],0x8));}),_0x59e0d3[_0x4b6cc1(0xec)]((_0x93ff60,_0x4485df)=>{if(_0x93ff60)lastOrders['splice'](_0x4485df,0x1);}),persistOpenOrders(lastOrders);const _0x35fa0e=coolingDown?_0x4b6cc1(0x213):_0x4b6cc1(0x1f5);if(validateOrdersState==_0x4b6cc1(0xd7)){validateOrdersState=_0x4b6cc1(0x252);if(_0x59e0d3[_0x4b6cc1(0x1d0)](![])){if(config[_0x4b6cc1(0x1ee)]==_0x4b6cc1(0x220)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x4b6cc1(0x252)){if(_0x59e0d3[_0x4b6cc1(0x1d0)](![])){}else{if(allOrdersPlaced){if(config[_0x4b6cc1(0x1ee)]==_0x4b6cc1(0x220)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x4b6cc1(0x1f7))_0x59e0d3[_0x4b6cc1(0x1d0)](![])&&(config[_0x4b6cc1(0x1ee)]=='market'?logHistory(_0x4b6cc1(0x24a),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x4b6cc1(0xf2)](_0xe39acc*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x35fa0e):(await cancelOrders(),logHistory(_0x4b6cc1(0x24a),_0x4b6cc1(0x1f2)+Math['round'](_0xe39acc*validateOrderInterval/0xea60)+_0x4b6cc1(0x1be)+_0x35fa0e))),await unlockOrders();else{if(validateOrdersState==_0x4b6cc1(0x176)){if(config[_0x4b6cc1(0x1ee)]!=_0x4b6cc1(0x220))logHistory('success',_0x4b6cc1(0x152)+_0x35fa0e);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x337cf1=>{const _0x4bcc5d=_0x1149;try{const _0x313ff7=await exchange[_0x4bcc5d(0x24c)](_0x337cf1[_0x4bcc5d(0x8f)],_0x337cf1[_0x4bcc5d(0x1a3)]);}catch(_0x184662){if(_0x184662['toString']()[_0x4bcc5d(0x1d0)](_0x4bcc5d(0x1fe))){}else await handleError(_0x184662,_0x4bcc5d(0xa2));}});}async function initCoinResults(_0x5c14d6){const _0x5105c4=_0x195fee;_0x5c14d6?logger[_0x5105c4(0xb4)](_0x5105c4(0x196)+_0x5c14d6):logger[_0x5105c4(0xb4)](_0x5105c4(0xc8)),config[_0x5105c4(0x147)][_0x5105c4(0xec)](_0x50708c=>{const _0x3b316b=_0x5105c4;if(!_0x50708c['excluded']&&_0x50708c[_0x3b316b(0x119)]!=config[_0x3b316b(0x1d8)]){const _0x58cc32=currentCoins[_0x3b316b(0x1ae)](_0x4df582=>_0x4df582[_0x3b316b(0x119)]==_0x50708c['coin']),_0x31a2bb=global['ticker'][noslash(_0x50708c[_0x3b316b(0x1a3)])];let _0x28550f=_0x58cc32?_0x58cc32['number']:null,_0x28480a=_0x50708c['reverse']?0x1/_0x31a2bb:_0x31a2bb,_0x4811d8;config[_0x3b316b(0x171)]['forEach'](_0x1c4eac=>{const _0x23a99a=_0x3b316b;!_0x4811d8&&(_0x4811d8=_0x1c4eac[_0x23a99a(0x18c)]['find'](_0x270f95=>_0x270f95['coin']==_0x50708c['coin']),_0x4811d8&&(_0x28550f=_0x4811d8[_0x23a99a(0x238)],_0x28480a=_0x4811d8[_0x23a99a(0x173)]));});let _0x57a240=dbCoinResults[_0x3b316b(0x22c)](_0x3b316b(0x231))[_0x3b316b(0x1ae)]({'coin':_0x50708c[_0x3b316b(0x119)]})[_0x3b316b(0x1ff)]();if(!_0x57a240){const _0x37c0cd={'coin':_0x50708c['coin'],'number':_0x28550f,'breakeven':_0x28480a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x3b316b(0x231))['push'](_0x37c0cd)['write']();}else{if(_0x5c14d6&&_0x50708c['coin']==_0x5c14d6){const _0x388871={'coin':_0x50708c[_0x3b316b(0x119)],'number':_0x28550f,'breakeven':_0x28480a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3b316b(0x22c)](_0x3b316b(0x231))[_0x3b316b(0x1ae)]({'coin':_0x50708c[_0x3b316b(0x119)]})[_0x3b316b(0x158)](_0x388871)[_0x3b316b(0x1a2)]();}}}});}async function updateCoinResults(_0x12a6c6,_0x5c83cb=![]){const _0x57c4cb=_0x195fee;let _0x58523a,_0x4c5724,_0x5f2b28,_0x585d0b,_0xaf1dd2,_0x5a9672,_0x4ff6e9=dbCoinResults['get'](_0x57c4cb(0x231))[_0x57c4cb(0x1ae)]({'coin':_0x12a6c6[_0x57c4cb(0x119)]})['value'](),_0x1803e0=![];_0x4ff6e9&&Object[_0x57c4cb(0x1b4)](_0x4ff6e9)['forEach'](([_0xf00a4c,_0x202edb])=>{if(_0x202edb==null)_0x1803e0=!![];});(!_0x4ff6e9||_0x1803e0)&&(await initCoinResults(_0x12a6c6[_0x57c4cb(0x119)]),_0x4ff6e9=dbCoinResults['get'](_0x57c4cb(0x231))[_0x57c4cb(0x1ae)]({'coin':_0x12a6c6[_0x57c4cb(0x119)]})[_0x57c4cb(0x1ff)]());_0x12a6c6[_0x57c4cb(0x155)]&&(_0x5a9672={'filled':_0x12a6c6[_0x57c4cb(0x9b)]*_0x12a6c6[_0x57c4cb(0x173)],'amount':_0x12a6c6[_0x57c4cb(0x9b)]*_0x12a6c6['price'],'side':_0x12a6c6['side']==_0x57c4cb(0x225)?_0x57c4cb(0x1bf):_0x57c4cb(0x225),'price':0x1/_0x12a6c6[_0x57c4cb(0x173)]},_0x12a6c6={..._0x12a6c6,..._0x5a9672});_0x5c83cb?_0x4c5724=_0x12a6c6[_0x57c4cb(0x168)]==_0x57c4cb(0x1bf)?_0x4ff6e9[_0x57c4cb(0x238)]+_0x12a6c6[_0x57c4cb(0x9b)]:_0x4ff6e9[_0x57c4cb(0x238)]-_0x12a6c6[_0x57c4cb(0x9b)]:_0x4c5724=await getCoinNumber(_0x12a6c6[_0x57c4cb(0x119)]);if(_0x12a6c6[_0x57c4cb(0xcd)]&&_0x12a6c6[_0x57c4cb(0xcd)][_0x57c4cb(0x217)]==config[_0x57c4cb(0x1d8)])_0x58523a=Number(_0x12a6c6['fee'][_0x57c4cb(0x188)]);else{if(_0x12a6c6[_0x57c4cb(0xcd)]&&_0x12a6c6['fee'][_0x57c4cb(0x217)]==_0x57c4cb(0xc9)&&!_0x5c83cb&&config[_0x57c4cb(0x1d8)]!=_0x57c4cb(0x16c))_0x58523a=Number(_0x12a6c6[_0x57c4cb(0xcd)]['cost'])*global[_0x57c4cb(0xab)]['BNB'+config[_0x57c4cb(0x1d8)]];else _0x58523a=defaultFee*_0x12a6c6[_0x57c4cb(0x9b)]*_0x12a6c6['price'];}_0x12a6c6['side']==_0x57c4cb(0x1bf)?(_0x5f2b28=_0x4c5724!=0x0?(_0x4ff6e9[_0x57c4cb(0xd4)]*_0x4ff6e9[_0x57c4cb(0x238)]+_0x12a6c6[_0x57c4cb(0x173)]*(_0x4c5724-_0x4ff6e9[_0x57c4cb(0x238)])+_0x58523a)/_0x4c5724:0x0,_0x585d0b=_0x4ff6e9['realized']):(_0x5f2b28=_0x4c5724!=0x0?(_0x4ff6e9[_0x57c4cb(0xd4)]*_0x4ff6e9[_0x57c4cb(0x238)]-_0x12a6c6[_0x57c4cb(0x173)]*(_0x4ff6e9['number']-_0x4c5724)+_0x58523a)/_0x4c5724:0x0,_0x585d0b=_0x4ff6e9['realized']+(_0x12a6c6[_0x57c4cb(0x173)]-_0x4ff6e9[_0x57c4cb(0xd4)])*_0x12a6c6['filled']);_0xaf1dd2=(_0x12a6c6[_0x57c4cb(0x173)]-_0x5f2b28-_0x58523a/_0x12a6c6[_0x57c4cb(0x9b)])*_0x4c5724;let _0x2b3b48={'coin':_0x12a6c6[_0x57c4cb(0x119)],'number':_0x4c5724,'breakeven':formatResult(_0x5f2b28,0x8),'realized':formatResult(_0x585d0b,0x8),'unrealized':formatResult(_0xaf1dd2,0x8),'fees':formatResult(_0x4ff6e9[_0x57c4cb(0x146)]+_0x58523a,0x8),'sells':_0x12a6c6[_0x57c4cb(0x168)]==_0x57c4cb(0x225)?_0x4ff6e9[_0x57c4cb(0x20a)]+0x1:_0x4ff6e9[_0x57c4cb(0x20a)],'buys':_0x12a6c6[_0x57c4cb(0x168)]==_0x57c4cb(0x1bf)?_0x4ff6e9[_0x57c4cb(0x130)]+0x1:_0x4ff6e9[_0x57c4cb(0x130)]};dbCoinResults[_0x57c4cb(0x22c)](_0x57c4cb(0x231))[_0x57c4cb(0x1ae)]({'coin':_0x12a6c6['coin']})[_0x57c4cb(0x158)](_0x2b3b48)['write']();if(!_0x5c83cb){if(_0x12a6c6[_0x57c4cb(0xcd)]&&_0x12a6c6[_0x57c4cb(0xcd)]['currency']==_0x57c4cb(0xc9)){const _0x42518d=currentCoins[_0x57c4cb(0x1ae)](_0x2e2392=>_0x2e2392[_0x57c4cb(0x119)]==_0x57c4cb(0xc9));if(_0x42518d){let _0x521110=dbCoinResults[_0x57c4cb(0x22c)](_0x57c4cb(0x231))[_0x57c4cb(0x1ae)]({'coin':_0x57c4cb(0xc9)})[_0x57c4cb(0x1ff)]();_0x2b3b48={..._0x521110,'number':_0x42518d[_0x57c4cb(0x238)]},dbCoinResults[_0x57c4cb(0x22c)](_0x57c4cb(0x231))['find']({'coin':'BNB'})[_0x57c4cb(0x158)](_0x2b3b48)[_0x57c4cb(0x1a2)]();}}}}async function placeOrder(_0x4859f2){const _0x41bb4f=_0x195fee,_0x149e4d=config[_0x41bb4f(0x1ee)]==_0x41bb4f(0x220)?_0x41bb4f(0x220):'limit';if(lockOrders==ORDERS[_0x41bb4f(0x1ba)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x41bb4f(0x1c4)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x41bb4f(0xd7);let _0x2d226b=![];lastOrders=[];for(const _0x9ee8f5 of _0x4859f2){let _0x36ab3c,_0x5758eb,_0x15c106,_0x4a32db,_0x3f6053,_0x25d02f=_0x9ee8f5['symbol'];try{const _0x46ec82=await exchange[_0x41bb4f(0x1c9)](_0x25d02f);_0x36ab3c=_0x9ee8f5[_0x41bb4f(0x155)]?0x1/_0x9ee8f5[_0x41bb4f(0x1b6)]:_0x9ee8f5[_0x41bb4f(0x1b6)],_0x5758eb=_0x46ec82[_0x41bb4f(0x1cd)],_0x15c106=_0x46ec82[_0x41bb4f(0x23c)];_0x9ee8f5[_0x41bb4f(0x155)]?(_0x4a32db=_0x9ee8f5[_0x41bb4f(0x168)]==_0x41bb4f(0x1bf)?_0x41bb4f(0x225):'buy',_0x3f6053=Math['abs'](_0x9ee8f5[_0x41bb4f(0x133)])/_0x36ab3c):(_0x4a32db=_0x9ee8f5['side'],_0x3f6053=Math[_0x41bb4f(0x1f1)](_0x9ee8f5['trade']));_0x149e4d=='limit'&&(config[_0x41bb4f(0x1ee)]==_0x41bb4f(0x139)&&(_0x36ab3c=_0x4a32db==_0x41bb4f(0x1bf)?_0x5758eb:_0x15c106),config[_0x41bb4f(0x1ee)]==_0x41bb4f(0xf7)&&(_0x36ab3c=_0x4a32db==_0x41bb4f(0x1bf)?_0x15c106:_0x5758eb));_0x3f6053=formatResult(_0x3f6053,0x8),_0x36ab3c=formatResult(_0x36ab3c,0x8);const _0x523ace=_0x4a32db=='sell'?config['emojisell']?String['fromCodePoint']('0x'+config[_0x41bb4f(0x135)])+'\x20':'':config['emojibuy']?String[_0x41bb4f(0xa8)]('0x'+config['emojibuy'])+'\x20':'',_0x119a24=_0x149e4d==_0x41bb4f(0x220)?_0x41bb4f(0xde):config[_0x41bb4f(0x1ee)]=='limit-high'?_0x41bb4f(0x164):'Limit\x20(low-margin)',_0x34cc13=(Math[_0x41bb4f(0xd3)](Math[_0x41bb4f(0xb0)]()*0x35a4e900)+0x5f5e100)[_0x41bb4f(0x1a7)]();lastOrders[_0x41bb4f(0x17e)]({'customId':_0x34cc13,'symbol':_0x25d02f,'coin':_0x9ee8f5[_0x41bb4f(0x119)],'amount':_0x3f6053,'price':_0x36ab3c,'side':_0x4a32db,'reverse':_0x9ee8f5[_0x41bb4f(0x155)],'filled':0x0});if(_0x149e4d==_0x41bb4f(0x220))logHistory('order',''+_0x523ace+_0x119a24+_0x41bb4f(0x1cc)+_0x25d02f+'\x20'+_0x4a32db+'\x20#'+formatResult(_0x3f6053,0x8)+'\x20@'+formatResult(_0x36ab3c,0x8));else logHistory('order',''+_0x523ace+_0x119a24+_0x41bb4f(0x1cc)+_0x25d02f+'\x20'+_0x4a32db+'\x20#'+formatResult(_0x3f6053,0x8)+'\x20@'+formatResult(_0x36ab3c,0x8));let _0x173171;_0x149e4d==_0x41bb4f(0x220)?_0x4a32db==_0x41bb4f(0x1bf)&&[_0x41bb4f(0x1ca),_0x41bb4f(0x255),'Cex',_0x41bb4f(0x23a),'Huobipro']['includes'](config[_0x41bb4f(0x14f)])?_0x173171=await exchange[_0x41bb4f(0x18d)](_0x25d02f,_0x149e4d,_0x4a32db,_0x3f6053,_0x36ab3c):_0x173171=await exchange[_0x41bb4f(0x18d)](_0x25d02f,_0x149e4d,_0x4a32db,_0x3f6053,undefined):_0x173171=await exchange[_0x41bb4f(0x18d)](_0x25d02f,_0x149e4d,_0x4a32db,_0x3f6053,_0x36ab3c);logger['debug'](_0x41bb4f(0x202)+_0x173171['id']+_0x41bb4f(0x177)+_0x34cc13);const _0x153684=lastOrders[_0x41bb4f(0x1ad)]-0x1;if(_0x153684>=0x0&&lastOrders[_0x153684][_0x41bb4f(0x182)]==_0x34cc13){lastOrders[_0x153684][_0x41bb4f(0x8f)]=_0x173171['id'];if(_0x173171['amount'])lastOrders[_0x153684]['amount']=_0x173171[_0x41bb4f(0x12f)];if(_0x173171[_0x41bb4f(0x173)])lastOrders[_0x153684][_0x41bb4f(0x173)]=_0x173171[_0x41bb4f(0x173)];lastOrders[_0x153684][_0x41bb4f(0xcd)]=_0x173171[_0x41bb4f(0xcd)];}if(config['cooldown']!=0x0){let _0xbcb3c0=null;if(cooldownTracker['length']==config[_0x41bb4f(0x96)]-0x1)_0xbcb3c0=cooldownTracker[_0x41bb4f(0x183)]();const _0x1c5d3c=getTimeStamp();cooldownTracker[_0x41bb4f(0x17e)](_0x1c5d3c);if(_0xbcb3c0){const _0x2d27f1=fns[_0x41bb4f(0x223)](new Date(_0x1c5d3c),new Date(_0xbcb3c0));if(_0x2d27f1<cooldownInterval){logHistory(_0x41bb4f(0x181),_0x41bb4f(0xd2)+config[_0x41bb4f(0x96)]+_0x41bb4f(0x1e6)+cooldownInterval/0x3c+_0x41bb4f(0x138)+cooldownPeriod/(0xe10*0x3e8)+_0x41bb4f(0x134)),coolingDown=!![];break;}}}}catch(_0x5a28b0){if(_0x5a28b0[_0x41bb4f(0x1a7)]()[_0x41bb4f(0x1d0)](_0x41bb4f(0x1fd)))lastOrders=lastOrders[_0x41bb4f(0x193)](_0xce536e=>_0xce536e[_0x41bb4f(0x1a3)]!=_0x25d02f),logHistory(_0x41bb4f(0x181),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x25d02f),_0x2d226b=!![];else{if(_0x5a28b0[_0x41bb4f(0x1a7)]()[_0x41bb4f(0x1d0)](_0x41bb4f(0x1cf)))lastOrders=lastOrders[_0x41bb4f(0x193)](_0x44fdb0=>_0x44fdb0['symbol']!=_0x25d02f),logHistory(_0x41bb4f(0x181),_0x41bb4f(0x198)+_0x25d02f),_0x2d226b=!![];else{if(_0x5a28b0[_0x41bb4f(0x1a7)]()['includes'](_0x41bb4f(0x1e9)))lastOrders=lastOrders[_0x41bb4f(0x193)](_0x4006db=>_0x4006db[_0x41bb4f(0x1a3)]!=_0x25d02f),logHistory(_0x41bb4f(0x181),_0x41bb4f(0xef)+_0x25d02f),logger['debug'](_0x5a28b0),_0x2d226b=!![];else _0x5a28b0[_0x41bb4f(0x1a7)]()[_0x41bb4f(0x1d0)](_0x41bb4f(0xb5))?(lastOrders=lastOrders[_0x41bb4f(0x193)](_0x232d38=>_0x232d38['symbol']!=_0x25d02f),logHistory(_0x41bb4f(0x181),_0x41bb4f(0x165)+_0x25d02f),_0x2d226b=!![]):(lastOrders=lastOrders['filter'](_0x58dede=>_0x58dede['symbol']!=_0x25d02f),await handleError(_0x5a28b0,'placeOrder()',_0x25d02f));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x41bb4f(0x1ad)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4b3287=config[_0x41bb4f(0x1ee)]==_0x41bb4f(0x220)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1b7a06=_0x41bb4f;validateOrders(_0x1b7a06(0x1f7));},_0x4b3287);}else unlockOrders();_0x2d226b&&config[_0x41bb4f(0x1d6)]&&(logHistory(_0x41bb4f(0x181),_0x41bb4f(0x17c)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x41bb4f(0x24a),_0x41bb4f(0xa7)));}else{if(coolingDown)!config['headless']&&logHistory(_0x41bb4f(0x181),_0x41bb4f(0x12e));else lockOrders!=ORDERS[_0x41bb4f(0x1ba)]&&(!config[_0x41bb4f(0x1d6)]&&(config[_0x41bb4f(0x1ee)]==_0x41bb4f(0x220)?logHistory(_0x41bb4f(0x181),_0x41bb4f(0x15b)):logHistory(_0x41bb4f(0x181),_0x41bb4f(0x90))));}}function persistOpenOrders(_0x5f1d78){const _0x576f11=_0x195fee,_0x52c1ed={...config,'openOrders':_0x5f1d78};let _0x192eae=dbConfig[_0x576f11(0x22c)](_0x576f11(0x23e))['find']({'botID':botID})[_0x576f11(0x1ff)]();_0x192eae&&dbConfig['get']('bot')[_0x576f11(0x1ae)]({'botID':botID})[_0x576f11(0x158)](_0x52c1ed)[_0x576f11(0x1a2)]();}function restoreOrders(){const _0x5750de=_0x195fee;let _0x2ca7d6;config[_0x5750de(0xc4)]&&allOpenOrders[_0x5750de(0xec)](_0x8ed62a=>{const _0x2cd03d=_0x5750de,_0x2e8f13=config['openOrders'][_0x2cd03d(0x1ae)](_0x22c91b=>_0x22c91b[_0x2cd03d(0x8f)]==_0x8ed62a['id']);_0x2e8f13&&(lastOrders[_0x2cd03d(0x17e)](_0x2e8f13),_0x2ca7d6=_0x8ed62a[_0x2cd03d(0x1a0)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x5750de(0x1c4)],validateOrdersState=_0x5750de(0x252),allOrdersPlaced=!![];const _0x1144b0=new Date()[_0x5750de(0x11c)](),_0x26deb5=config[_0x5750de(0x1ee)]==_0x5750de(0x220)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x2ca7d6+_0x26deb5>_0x1144b0){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4b8616=_0x5750de;validateOrders(_0x4b8616(0x1f7));},_0x2ca7d6+_0x26deb5-_0x1144b0);}else validateOrders(_0x5750de(0x1f7));}}async function sendMetricsTelegram(){const _0x422b32=_0x195fee;if(!coinsLoaded){process['send']({'telegrammsg':_0x422b32(0x161)},_0x541e81=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x487bcf='';if(config[_0x422b32(0x104)])_0x487bcf=_0x422b32(0x1c5)+config[_0x422b32(0xc3)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x487bcf=_0x422b32(0xb7)+botID+_0x422b32(0x162);const _0x52ee6c=getKPIs(_0x422b32(0x1d8)),_0x4ea26d=getKPIs(_0x422b32(0x99),config['fiat']),_0x24d3a6=getKPIs(_0x422b32(0xe2)),_0x29d41e=getKPIs(_0x422b32(0x1e4),config[_0x422b32(0x99)]);_0x487bcf+=_0x422b32(0x9e),_0x487bcf+=_0x52ee6c[_0x422b32(0xac)]+_0x422b32(0x107)+_0x52ee6c['value']+'\x0a',_0x487bcf+=_0x52ee6c['rightTxt']+':\x20'+_0x52ee6c[_0x422b32(0x160)]+'%\x0a',_0x487bcf+=_0x4ea26d[_0x422b32(0xac)]+_0x422b32(0x107)+_0x4ea26d[_0x422b32(0x1ff)]+'\x0a',_0x487bcf+=_0x4ea26d[_0x422b32(0x185)]+':\x20'+_0x4ea26d[_0x422b32(0x160)]+'%\x0a',_0x487bcf+=_0x24d3a6[_0x422b32(0xac)]+':\x20'+_0x24d3a6[_0x422b32(0x1ff)]+'\x20('+config[_0x422b32(0x1d8)]+')\x0a',_0x487bcf+=_0x24d3a6[_0x422b32(0x185)]+':\x20'+_0x24d3a6[_0x422b32(0x160)]+'%\x20('+config['basecoin']+')\x0a',_0x487bcf+=_0x29d41e[_0x422b32(0xac)]+':\x20'+_0x29d41e[_0x422b32(0x1ff)]+'\x20('+config[_0x422b32(0x99)]+')\x0a',_0x487bcf+=_0x29d41e[_0x422b32(0x185)]+':\x20'+_0x29d41e['change']+_0x422b32(0x11e)+config[_0x422b32(0x99)]+')\x0a',_0x487bcf+=_0x422b32(0x9c),process[_0x422b32(0xcb)]({'telegrammsg':_0x487bcf},_0x5a5b35=>{});}async function sendPortfolioTelegram(){const _0x3a1e28=_0x195fee;if(!coinsLoaded||!currentCoins[0x0][_0x3a1e28(0xe1)]){process[_0x3a1e28(0xcb)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x56fc1e=>{});return;}let _0x4bdfaa='';if(config['showname'])_0x4bdfaa=_0x3a1e28(0x1c5)+config['botname']+'\x20portfolio:</b>\x20\x0a\x0a';else _0x4bdfaa='<b>Bot\x20'+botID+_0x3a1e28(0x204);_0x4bdfaa+='<pre>',_0x4bdfaa+=_0x3a1e28(0xf5),_0x4bdfaa+=_0x3a1e28(0xed),_0x4bdfaa+=_0x3a1e28(0xf5),currentCoins[_0x3a1e28(0xec)](_0x202737=>{const _0xac4724=_0x3a1e28;_0x4bdfaa+=_0x202737[_0xac4724(0x119)][_0xac4724(0x1b7)](0x7)+'|\x20'+formatPad(_0x202737['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x202737[_0xac4724(0x132)],0x2,0x6)+'|\x20'+formatPad(_0x202737[_0xac4724(0xd8)]*0x64,0x2,0x6)+'\x0a';}),_0x4bdfaa+=_0x3a1e28(0x9c),process[_0x3a1e28(0xcb)]({'telegrammsg':_0x4bdfaa},_0x31f3a5=>{});}function formatPad(_0x4b6b95,_0x1b728c,_0xcc2e7c){const _0x53a113=formatResultString(_0x4b6b95,_0x1b728c);return _0x53a113?_0x53a113['padStart'](_0xcc2e7c):''['padStart'](_0xcc2e7c);}function logHistory(_0x10ee40,_0x3ecdfe,_0xefcf2f=''){const _0x4b1e05=_0x195fee;logger['full'](''+_0x3ecdfe);let _0x11ff2f={'time':getTimeStamp(),'type':_0x10ee40,'event':_0x3ecdfe};dbLogs[_0x4b1e05(0x22c)](_0x4b1e05(0x13e))['push'](_0x11ff2f)[_0x4b1e05(0x1a2)]();if(_0xefcf2f=='')_0xefcf2f=_0x3ecdfe;proxyEmit(_0x4b1e05(0x122),{'log':_0x11ff2f,'summary':_0xefcf2f}),process[_0x4b1e05(0xcb)]({'telegram':{..._0x11ff2f,'botname':config['botname'],'showname':config['showname']}},_0x3f40a5=>{});}function emitHistory(_0x58f9d8={}){const _0x1cc675=_0x195fee;Object[_0x1cc675(0x187)](_0x58f9d8)['length']==0x0&&(_0x58f9d8={'type':[_0x1cc675(0xb6),_0x1cc675(0x122)],'event':'','page':0x1});if(_0x58f9d8[_0x1cc675(0xcf)][_0x1cc675(0x1d0)](_0x1cc675(0x122)))_0x58f9d8[_0x1cc675(0xcf)][_0x1cc675(0x1c7)](_0x58f9d8[_0x1cc675(0xcf)][_0x1cc675(0x1b1)](_0x1cc675(0x122)),0x1,_0x1cc675(0x181),_0x1cc675(0x114),_0x1cc675(0x24a));if(dbLogs[_0x1cc675(0x1c2)](_0x1cc675(0x13e))[_0x1cc675(0x1ff)]()){let _0x260182=dbLogs[_0x1cc675(0x22c)](_0x1cc675(0x13e))[_0x1cc675(0x193)](_0x23d138=>{const _0x299ea8=_0x1cc675;if(_0x58f9d8[_0x299ea8(0xcf)][_0x299ea8(0x1ad)]==0x0)return![];else return _0x58f9d8[_0x299ea8(0xcf)][_0x299ea8(0x1d0)](_0x23d138[_0x299ea8(0xcf)]);})['filter'](_0x551b23=>{const _0x4a27cc=_0x1cc675;if(_0x58f9d8[_0x4a27cc(0x122)]=='')return!![];else return _0x551b23[_0x4a27cc(0x122)][_0x4a27cc(0xf0)]()[_0x4a27cc(0x1d0)](_0x58f9d8[_0x4a27cc(0x122)][_0x4a27cc(0xf0)]());})['sortBy'](_0x1cc675(0x10b)),_0xd34d25=_0x260182['value']()['length'];_0x260182=_0x260182[_0x1cc675(0x155)]()['slice']((_0x58f9d8[_0x1cc675(0xdb)]-0x1)*logPageSize,_0x58f9d8[_0x1cc675(0xdb)]*logPageSize-0x1)[_0x1cc675(0x155)]()[_0x1cc675(0x1ff)](),proxyEmit(_0x1cc675(0xdf),{'logs':_0x260182,'total':_0xd34d25});}else proxyEmit(_0x1cc675(0xdf),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x520e6f){const _0x150cd6=_0x195fee;if(dbLogs[_0x150cd6(0x1c2)]('logs')['value']()){const _0x5ee8ad=dbLogs[_0x150cd6(0x22c)](_0x150cd6(0x13e))[_0x150cd6(0x123)](_0x150cd6(0x10b))[_0x150cd6(0x193)](_0x414aed=>{const _0x415e54=_0x150cd6;return _0x414aed[_0x415e54(0xcf)]==_0x415e54(0xb6);})[_0x150cd6(0x1ff)]();dbLogs['get'](_0x150cd6(0x13e))['remove']()[_0x150cd6(0x1a2)](),dbLogs[_0x150cd6(0x22c)](_0x150cd6(0x13e))[_0x150cd6(0x158)](_0x5ee8ad)[_0x150cd6(0x1a2)](),emitHistory(_0x520e6f);}}async function pauseBot(_0x12414c=pauseBotIntervalShort,_0x1e9e9d){const _0x52bacb=_0x195fee,_0x29815b=new Date()['getTime']();if(!lastErrorShown||_0x29815b-lastErrorShown>=_0x12414c){lastErrorShown=_0x29815b;!lastBotPause?(lastBotPause=_0x29815b,consecutivePauses=0x1):(_0x29815b-lastBotPause-_0x12414c<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>maxPauseRetries&&(logHistory(_0x52bacb(0x181),_0x1e9e9d+pauseBotMsg),_0x12414c=pauseBotInterval)):consecutivePauses=0x1,lastBotPause=_0x29815b);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x12414c),botPaused=![],reset(!![]);}}}async function killBot(){const _0x44be46=_0x195fee;botPaused=!![],await sleep(0x3e8),process[_0x44be46(0xcb)]({'stop':_0x44be46(0x209)},_0x5b066c=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1eb70c,_0xd1db67){const _0x128f77=_0x195fee;if(botPaused)return;const _0x554508=config['exchange']||_0x128f77(0x1cb);if(_0xd1db67)logger['debug'](_0x128f77(0xe0)+_0xd1db67);const _0x11c98b=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x1eb70c[_0x128f77(0x1a7)]()[_0x128f77(0x1d0)](_0x128f77(0x131)))logHistory(_0x128f77(0x181),_0x554508+_0x128f77(0x17b)),_0x11c98b();else{if(_0x1eb70c[_0x128f77(0x1a7)]()[_0x128f77(0x1d0)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x128f77(0x181),_0x554508+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x11c98b();else _0x1eb70c[_0x128f77(0x1a7)]()[_0x128f77(0x1d0)](_0x128f77(0x10d))?(logHistory(_0x128f77(0x181),_0x554508+_0x128f77(0x148)),logHistory(_0x128f77(0x181),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x11c98b()):await handleError(_0x1eb70c,null);}}async function handleError(_0x49aea6,_0x235a57,_0x276bf5=''){const _0x476af4=_0x195fee;if(botPaused)return;let _0xe87ad4;const _0x4f21db=config['exchange']||_0x476af4(0x1cb);if(_0x235a57)logger[_0x476af4(0xb4)](_0x476af4(0xe0)+_0x235a57);if(_0x49aea6[_0x476af4(0x1a7)]()[_0x476af4(0x1d0)]('DDoSProtection'))_0xe87ad4=_0x4f21db+_0x476af4(0x105),logger[_0x476af4(0xb4)](_0xe87ad4+_0x476af4(0x1e1),_0x49aea6[_0x476af4(0x1a7)]()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6[_0x476af4(0x1a7)]()[_0x476af4(0x1d0)](_0x476af4(0x17f)))_0xe87ad4=_0x4f21db+_0x476af4(0x1ed),logger[_0x476af4(0xb4)](_0xe87ad4+_0x476af4(0x1e1),_0x49aea6[_0x476af4(0x1a7)]()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6[_0x476af4(0x1a7)]()[_0x476af4(0x1d0)](_0x476af4(0xc7))||_0x49aea6[_0x476af4(0x1a7)]()[_0x476af4(0x1d0)](_0x476af4(0x1aa)))_0xe87ad4=_0x4f21db+_0x476af4(0x1f0),logger['debug'](_0xe87ad4+_0x476af4(0x1e1),_0x49aea6['toString']()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6[_0x476af4(0x1a7)]()[_0x476af4(0x1d0)](_0x476af4(0x97)))_0xe87ad4=_0x4f21db+_0x476af4(0xce),logger['debug'](_0xe87ad4+_0x476af4(0x1e1),_0x49aea6[_0x476af4(0x1a7)]()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6[_0x476af4(0x1a7)]()[_0x476af4(0x1d0)](_0x476af4(0x1d9)))_0xe87ad4=_0x4f21db+_0x476af4(0x1f8),logger[_0x476af4(0xb4)](_0xe87ad4+'\x20>\x20details:',_0x49aea6['toString']()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6['toString']()[_0x476af4(0xf0)]()[_0x476af4(0x1d0)](_0x476af4(0x1a0))||_0x49aea6[_0x476af4(0x1a7)]()['toLowerCase']()[_0x476af4(0x1d0)](_0x476af4(0x11a)))_0xe87ad4='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',logger[_0x476af4(0xb4)](_0xe87ad4+_0x476af4(0x1e1),_0x49aea6[_0x476af4(0x1a7)]()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6[_0x476af4(0x1a7)]()[_0x476af4(0x1d0)](_0x476af4(0xba)))_0xe87ad4=_0x4f21db+_0x476af4(0x21a),logger[_0x476af4(0xb4)](_0xe87ad4+'\x20>\x20details:',_0x49aea6['toString']()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6 instanceof ccxt[_0x476af4(0x16e)])_0xe87ad4=_0x4f21db+_0x476af4(0x140),logger[_0x476af4(0xb4)](_0xe87ad4+_0x476af4(0x1e1),_0x49aea6['toString']()),await pauseBot(undefined,_0xe87ad4);else{if(_0x49aea6[_0x476af4(0x1a7)]()['includes']('API-key\x20format\x20invalid'))logHistory(_0x476af4(0x181),_0x4f21db+_0x476af4(0x12c)),logHistory(_0x476af4(0x181),_0x476af4(0x23f)),await killBot();else{if(_0x49aea6[_0x476af4(0x1a7)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x476af4(0x181),_0x4f21db+_0x476af4(0x149)),logHistory(_0x476af4(0x181),_0x476af4(0x23f)),await killBot();else{if(_0x49aea6['toString']()[_0x476af4(0x1d0)]('AuthenticationError'))logHistory(_0x476af4(0x181),_0x4f21db+_0x476af4(0x12b)),logHistory(_0x476af4(0x181),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x49aea6['toString']()[_0x476af4(0x1d0)](_0x476af4(0x1bb)))logHistory(_0x476af4(0x181),_0x4f21db+_0x476af4(0x1fa)),logHistory(_0x476af4(0x181),_0x476af4(0x23f)),await killBot();else{if(_0x49aea6['toString']()[_0x476af4(0x1d0)](_0x476af4(0xb8)))logHistory(_0x476af4(0x181),_0x476af4(0x1ac)+_0x276bf5);else{if(_0x49aea6 instanceof ccxt[_0x476af4(0x1c8)]){logHistory(_0x476af4(0x181),_0x4f21db+_0x476af4(0x215)),logger['debug'](_0x476af4(0x21b),_0x49aea6);if(_0x276bf5)logger[_0x476af4(0xb4)]('Symbol(s):\x20'+_0x276bf5);}else{_0xe87ad4=_0x476af4(0x1de),logger[_0x476af4(0xb4)](_0xe87ad4+_0x476af4(0x1e1),_0x49aea6);if(_0x276bf5)logger['debug'](_0x476af4(0x197)+_0x276bf5);await pauseBot(undefined,_0xe87ad4);}}}}}}}}}}}}}}}async function withRetry(_0x3b582a,_0x49131b){const _0x148a46=_0x195fee;let _0x15a0d0=![],_0xba178e=0x0,_0x13259a,_0xe7b459;while(_0xba178e<maxRetries){try{_0x13259a=await _0x49131b();break;}catch(_0xb49424){_0xe7b459=_0xb49424,!_0x15a0d0?(_0x15a0d0=!![],logger[_0x148a46(0xb4)](_0x148a46(0xa9)+_0x3b582a+':',_0xb49424['toString']())):await sleep(retryInterval);}_0xba178e++;}if(_0xba178e==0x0)return _0x13259a;if(_0xba178e>=maxRetries)throw _0xe7b459;else return logger[_0x148a46(0xb4)](_0x148a46(0x228)+_0xba178e+_0x148a46(0x98)),_0x13259a;}function formatResult(_0x4cd497,_0x1d6949){const _0x1d8aa8=_0x195fee;return parseFloat(_0x4cd497[_0x1d8aa8(0xf3)](_0x1d6949));}function formatResultTruncate(_0x3af992,_0x590a50){const _0x65fad9=_0x195fee;let _0x6f7cd1=formatResultString(_0x3af992,0xa),_0x10d215=_0x6f7cd1[_0x65fad9(0x1b1)]('.');return _0x10d215!=-0x1&&(_0x6f7cd1=_0x6f7cd1[_0x65fad9(0x234)](0x0,_0x10d215+_0x590a50+0x1)),Number(_0x6f7cd1);}function formatResultString(_0x5958f3,_0x3e5960){const _0x27fa58=_0x195fee;let _0x2be85b;if(!(''+_0x5958f3)['includes']('e'))_0x2be85b=+(Math[_0x27fa58(0xf2)](_0x5958f3+'e+'+_0x3e5960)+'e-'+_0x3e5960);else{let _0x4de56f=(''+_0x5958f3)[_0x27fa58(0x240)]('e'),_0x1110a3='';+_0x4de56f[0x1]+_0x3e5960>0x0&&(_0x1110a3='+'),_0x2be85b=+(Math['round'](+_0x4de56f[0x0]+'e'+_0x1110a3+(+_0x4de56f[0x1]+_0x3e5960))+'e-'+_0x3e5960);}return Number(_0x2be85b)[_0x27fa58(0xf3)](_0x3e5960);}function getServerTime(){const _0xa2892e=_0x195fee,_0x54fa79=new Date();return _0x54fa79[_0xa2892e(0x11d)]()+'/'+(_0x54fa79[_0xa2892e(0x237)]()+0x1)[_0xa2892e(0x1a7)]()['padStart'](0x2,'0')+'/'+_0x54fa79[_0xa2892e(0x21d)]()['toString']()[_0xa2892e(0x106)](0x2,'0')+'\x20'+_0x54fa79['getHours']()[_0xa2892e(0x1a7)]()['padStart'](0x2,'0')+':'+_0x54fa79[_0xa2892e(0x125)]()[_0xa2892e(0x1a7)]()[_0xa2892e(0x106)](0x2,'0')+':'+_0x54fa79[_0xa2892e(0xe7)]()[_0xa2892e(0x1a7)]()[_0xa2892e(0x106)](0x2,'0');}function getTimeStamp(){const _0x5c2d69=_0x195fee,_0x15ac02=shiftedTime();return _0x15ac02[_0x5c2d69(0x11d)]()+'/'+(_0x15ac02[_0x5c2d69(0x237)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x15ac02[_0x5c2d69(0x21d)]()[_0x5c2d69(0x1a7)]()['padStart'](0x2,'0')+'\x20'+_0x15ac02['getHours']()[_0x5c2d69(0x1a7)]()[_0x5c2d69(0x106)](0x2,'0')+':'+_0x15ac02[_0x5c2d69(0x125)]()[_0x5c2d69(0x1a7)]()['padStart'](0x2,'0')+':'+_0x15ac02['getSeconds']()[_0x5c2d69(0x1a7)]()[_0x5c2d69(0x106)](0x2,'0');}function getDate(){const _0x48e617=_0x195fee,_0x2fcab8=shiftedTime();return _0x2fcab8[_0x48e617(0x11d)]()+'/'+(_0x2fcab8[_0x48e617(0x237)]()+0x1)[_0x48e617(0x1a7)]()['padStart'](0x2,'0')+'/'+_0x2fcab8[_0x48e617(0x21d)]()['toString']()[_0x48e617(0x106)](0x2,'0');}function getHour(){const _0x1209be=_0x195fee,_0x352b4e=shiftedTime();return _0x352b4e[_0x1209be(0xd0)]()['toString']()[_0x1209be(0x106)](0x2,'0');}function sleep(_0x123b9c){return new Promise(_0x5c601f=>setTimeout(_0x5c601f,_0x123b9c));}function shiftedTime(){const _0x385f93=_0x195fee,_0x5c2d38=new Date();let _0x49381a=_0x5c2d38;if(config&&config[_0x385f93(0x256)]!==0x0)_0x49381a=fns[_0x385f93(0x248)](_0x5c2d38,{'hours':config[_0x385f93(0x256)]});return _0x49381a;}function _0x41ab(){const _0x57b60b=['date-fns','fetchTickers','cooldown','RequestTimeout','\x20attempts','fiat','average','filled','</pre>','bot-','<pre>',':\x20timer\x20>','Trigger:\x20','bb-settings.json','cancelOrders()','percentage','recovery','324lsupHA','recreateCoinResults()','Cooldown\x20ended\x20-\x20balancing\x20resumed','fromCodePoint','RETRY\x20-\x20Error\x20in\x20','none','ticker','leftTxt','marketcap','Portfolio\x20change\x20detected:\x20','yyyy/MM/dd','random','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','sendMetricsTelegram','yargs/yargs','debug','must\x20be\x20greater\x20than\x20minimum\x20amount','order','<b>Bot\x20','InsufficientFunds','Binance','InvalidNonce','active','emojibuy','findIndex','timeout','configuration-stored','USD','code','3102795AYDhiR','botname','openOrders','\x20minutes','10605708dWYRWi','ExchangeNotAvailable','Initializing\x20coin\x20results','BNB','Net\x20effect','send','starting-balance-','fee','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','type','getHours','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','Executed\x20','floor','breakeven','3134013PqTuRZ','exec','initial','delta','apiPassword','apply','page','enabled','getCoinNumber()','Market','event-history','Exception\x20thrown\x20in\x20','distribution','net-basecoin','detectLiquidityChange()','axios','413rycqFZ','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','getSeconds','getOpenOrders()','data','2\x20-\x20Handled\x20open\x20orders','exchanges','forEach','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','loadMarkets','Order\x20is\x20invalid:\x20','toLowerCase','657278hXdViO','round','toFixed','2.6.0','-------------------------------\x0a','fetchTickers()','limit-low','removed','Invalid\x20API\x20key\x20or\x20secret\x20entered','Executing\x20bot\x20restart','USDP','unlinkSync','001','EUR','eur','coin-loading-progress','\x20uses\x20','full','placeOrder','showname','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','padStart','\x20:\x20','string','format','valid','time','orderstatus','AuthenticationError','\x20|\x20exchange:\x20','sha256','slider','version','replace','password','warning','2.6.22','\x20/\x20','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','existsSync','coin','request-time','1\x20-\x20FILLED\x20known\x20order:\x20','getTime','getFullYear','%\x20(','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','10GzQAGi','./config/','event','sortBy','restart','getMinutes','getAllOrders()','ORDERS.LOCKED','open','toggleBotMode','watchOrders','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20API\x20key\x20is\x20invalid','date','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','amount','buys','API-key\x20format\x20invalid','target','trade','\x20hour','emojisell','\x20-\x20bot\x20not\x20started','remove','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','limit-high','\x20|\x20lock\x20orders:\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','2.3.5','freeze','logs','function','\x20network\x20error','./version.json','pop','autoliquidity','fetchBalance','performance','fees','portfolio','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','\x20API\x20secret\x20is\x20invalid','getPortfolio','total','status\x20code\x20401','***','startdate','exchange','Waited\x20','marketcapsqrt','No\x20more\x20open\x20orders\x20-\x20','fetchClosedOrders','colorscheme','reverse','loading-canceled','ETH','assign','\x20|\x20highest\x20fee:\x20','substring','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','ORDERS.UNLOCKING','2\x20-\x20Orders\x20unlocked','argv','change','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','\x20metrics:</b>\x20\x0a\x0a','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Limit\x20(high-margin)','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','ORDERS.UNLOCKED','path','side','Error:\x20Invalid\x20argument\x20','lowdb/adapters/FileSync','added','PAXG',':\x20Bot\x20','NetworkError','getPortfolio(1)','writeFile','liquidity','fetchOpenOrders','price','Headless:\x20','1517791AZDjrl','no\x20open\x20orders','\x20|\x20Custom\x20ID:\x20','storeConfiguration','deleteHistoryAlerts','\x20>\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Avoiding\x20continuous\x20order\x20attempts','Executing\x20exchange\x20reload','push','RateLimitExceeded','args','error','customId','shift','remainingSymbols','rightTxt','util','keys','cost','2.5.0','Order\x20filled:\x20','running','changes','createOrder','canceled','/USD','progress','startnumber','1682268MGrFmW','filter','1\x20-\x20Handle\x20open\x20orders','-events.json','Resetting\x20coin\x20results:\x20','Symbol(s):\x20','Order\x20amount\x20is\x20invalid:\x20','watchTrades()','recreate','2\x20-\x20Validate\x20orders:\x20','configuration','set','resetHistory','secure','timestamp','max','write','symbol','toUpperCase','basecoinvalue','usd','toString','storeFiat','showConfig','OnMaintenance','Loading\x20completed','Insufficient\x20funds\x20to\x20execute\x20order:\x20','length','find','excluded','join','indexOf','\x20exchange','closed','entries','offset','last','padEnd','uncaughtException','limits','UNLOCKED','PermissionDenied','Manual\x20balancing\x20required','parse','\x20minutes\x20-\x20','buy','initTickers()','apiSecret','has','min','LOCKED','<b>','heapUsed','splice','ExchangeError','fetchTicker','Bybit','Exchange','\x20order:\x20','bid','2JblusN','Invalid\x20quantity','includes','\x20MB','BTC','startprice','stringify','/EUR','headless','message','basecoin','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','1\x20-\x20FILLED\x20unknown\x20order:\x20','parseISO','/backup/','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','Unknown\x20error\x20occured','status','threshold','\x20>\x20details:','getPortfolio(2)','bb-secure.json','net-fiat','\x20-\x20pausing\x20bot\x20for\x20','\x20orders\x20in\x20less\x20than\x20','87568ysDHNN','pro','InvalidOrder','log','watchOrders()','4iZEtIT','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','ordertype','Error\x20while\x20deleting\x20files:\x20','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','abs','Unfilled\x20order(s)\x20canceled\x20after\x20','decrypt','netoffset','balancing\x20resumed','startsWith','final','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','Saving\x20configuration','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','yyyy-MM-dd\x27T\x27HH:mm:ss','update-liquidity','MIN_NOTIONAL','OrderNotFound','value','\x20|\x20','USDT','ID:\x20','watchTradesForSymbols()','\x20portfolio:</b>\x20\x0a\x0a','map','recent20','sendPortfolioTelegram','apiKey','kill','sells','Invalid\x20symbol:\x20','\x20-\x20','************','Portfolio\x20change\x20detected\x20-\x20bot\x20switched\x20to\x20manual\x20mode',',\x20must\x20be\x20a\x203\x20digit\x20number','datetime','bots','UNLOCKING','balancing\x20resumes\x20when\x20cooldown\x20ends','-results.json','\x20exchange\x20error','sqrt','currency','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','\x20value','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Error\x20details:','-config.json','getDate','Cryptocom','highest','market','sort','marketcapApi','differenceInSeconds','botID','sell','Resetting\x20bot\x20history','concat','RETRY\x20-\x20Problem\x20resolved\x20after\x20','BNB/','\x20>\x20[DEBUG]\x20','isEqual','get','\x20has\x20a\x2024h\x20drop\x20of\x20','change24h','defaults','createWriteStream','coins','getStartingBalances','storeHeadless','slice','loadSymbols()','marketcapEnabled','getMonth','number','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Huobi','test','ask','process\x20','bot','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','split','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','red_yellow_blue','watchTradesForSymbols','cloneDeep','Net\x20','2\x20-\x20handling\x20FILLED\x20order:\x20','exchange\x20reloaded','add','onepagemode','success','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','cancelOrder','close','BUSD','spot','(((.+)+)+)+$','./logs/','ongoing','balances','constructor','Bitget','timeshift','orderId','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','market_cap','privateKey','quote'];_0x41ab=function(){return _0x57b60b;};return _0x41ab();}function timer(_0x5c25ea){const _0x49aba4=_0x195fee,_0x433d17=new Date();!lasttime?console[_0x49aba4(0x1ea)](getTimeStamp()+_0x49aba4(0x9f),_0x5c25ea,_0x433d17):console[_0x49aba4(0x1ea)](getTimeStamp()+_0x49aba4(0x9f),_0x5c25ea,(_0x433d17-lasttime)/0x3e8),lasttime=_0x433d17;}