const _0x5c344c=_0x3530;(function(_0x4195f6,_0x15527f){const _0x4e392f=_0x3530,_0x279440=_0x4195f6();while(!![]){try{const _0x4dcb10=-parseInt(_0x4e392f(0x29d))/0x1+parseInt(_0x4e392f(0x281))/0x2*(-parseInt(_0x4e392f(0x1fc))/0x3)+-parseInt(_0x4e392f(0x245))/0x4+parseInt(_0x4e392f(0x1f3))/0x5*(parseInt(_0x4e392f(0x1f7))/0x6)+parseInt(_0x4e392f(0x2c2))/0x7+-parseInt(_0x4e392f(0x28b))/0x8+parseInt(_0x4e392f(0x209))/0x9*(parseInt(_0x4e392f(0x246))/0xa);if(_0x4dcb10===_0x15527f)break;else _0x279440['push'](_0x279440['shift']());}catch(_0x5da0b5){_0x279440['push'](_0x279440['shift']());}}}(_0x5764,0xecd9e));const _0x2bf8e5=function(){let _0x4a4c2c=!![];return function(_0x252749,_0x4d4341){const _0x21e3a2=_0x4a4c2c?function(){const _0x4a277a=_0x3530;if(_0x4d4341){const _0x6a4805=_0x4d4341[_0x4a277a(0x2da)](_0x252749,arguments);return _0x4d4341=null,_0x6a4805;}}:function(){};return _0x4a4c2c=![],_0x21e3a2;};}(),_0x54756c=_0x2bf8e5(this,function(){const _0x57299a=_0x3530;return _0x54756c['toString']()[_0x57299a(0x257)](_0x57299a(0x2c4))[_0x57299a(0x2cd)]()['constructor'](_0x54756c)['search'](_0x57299a(0x2c4));});_0x54756c();'use strict';const ccxt=require(_0x5c344c(0x239)),low=require(_0x5c344c(0x263)),FileSync=require(_0x5c344c(0x2c8)),fs=require('fs'),fns=require(_0x5c344c(0x215)),{WebsocketClient,DefaultLogger}=require(_0x5c344c(0x1d9)),Crypt=require('hybrid-crypto-js')[_0x5c344c(0x222)];let exchange,wsClient;global[_0x5c344c(0x2ba)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![];const serverversion=require(_0x5c344c(0x2c0))[_0x5c344c(0x20e)],botID=process[_0x5c344c(0x1f4)][0x2]||_0x5c344c(0x214),pattern=/^[0-9]{3}$/;if(!pattern[_0x5c344c(0x1f0)](botID))return console[_0x5c344c(0x259)](_0x5c344c(0x223)+botID+_0x5c344c(0x254)),process[_0x5c344c(0x2a9)](0x1);const configpath=_0x5c344c(0x258);!fs[_0x5c344c(0x1ee)](configpath)&&fs['mkdirSync'](configpath);const configfile=configpath+_0x5c344c(0x286)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x5c344c(0x2d8),performancefile=configpath+_0x5c344c(0x286)+botID+'-performance.json',coinresultsfile=configpath+_0x5c344c(0x286)+botID+_0x5c344c(0x2d7),settingsfile=configpath+_0x5c344c(0x2a5),securefile=configpath+'bb-secure.json',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x5c344c(0x23a)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5c344c(0x203)]({'data':[]})[_0x5c344c(0x23a)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x5c344c(0x23a)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x5c344c(0x23a)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x5c344c(0x1e4),'symbol':_0x5c344c(0x220)},'usd':{'coin':_0x5c344c(0x264),'symbol':'BTC/USDT'}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0xbf6bb8)=>{},'debug':(..._0x15a380)=>{},'notice':(..._0x146c83)=>{},'info':(..._0x59f4fa)=>{},'warning':(..._0x1b2784)=>{},'error':async function(..._0x3b0416){const _0x343264=_0x5c344c,_0x9b9bce=new Date()[_0x343264(0x28c)]();if(!lastErrorShown||_0x9b9bce-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x343264(0x28c)](),logHistory(_0x343264(0x221),_0x343264(0x216)+consecutivePauses+_0x343264(0x279));let _0x5ca713='';if(_0x3b0416[0x0])_0x5ca713+=_0x3b0416[0x0];if(_0x3b0416[0x1]&&_0x3b0416[0x1][_0x343264(0x221)]&&_0x3b0416[0x1][_0x343264(0x221)][_0x343264(0x298)])_0x5ca713+=_0x343264(0x2c6)+_0x3b0416[0x1][_0x343264(0x221)][_0x343264(0x298)];logging('WebSockets('+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x5ca713),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x5c344c(0x24d),'rsaStandard':_0x5c344c(0x297)});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings[_0x5c344c(0x225)]!=config[_0x5c344c(0x225)]&&updateTimeshift(settings[_0x5c344c(0x225)]);process[_0x5c344c(0x2d1)]({'started':_0x5c344c(0x21b)}),initializeProcessListeners();function proxyEmit(_0x469223,_0x197768=null){process['send']({'function':_0x469223,'args':_0x197768});}function initializeProcessListeners(){const _0x256f1c=_0x5c344c;process['on'](_0x256f1c(0x298),_0x98ecd4=>{const _0x5158f7=_0x256f1c;switch(Object['keys'](_0x98ecd4)[0x0]){case _0x5158f7(0x225):_0x98ecd4[_0x5158f7(0x225)]!=undefined&&(settings[_0x5158f7(0x225)]=_0x98ecd4['timeshift'],updateTimeshift(settings[_0x5158f7(0x225)]));break;case _0x5158f7(0x23b):switch(_0x98ecd4['function']){case _0x5158f7(0x2d2):initclient();break;case _0x5158f7(0x1dd):emitHistory(_0x98ecd4[_0x5158f7(0x2d0)]);break;case _0x5158f7(0x2bc):getPortfolio(_0x98ecd4[_0x5158f7(0x2d0)]);break;case'storeConfiguration':storeConfiguration(_0x98ecd4[_0x5158f7(0x2d0)]);break;case _0x5158f7(0x29e):storeHeadless(_0x98ecd4[_0x5158f7(0x2d0)]);break;case _0x5158f7(0x28e):getStartingBalances();break;case _0x5158f7(0x272):placeOrder(_0x98ecd4[_0x5158f7(0x2d0)]);break;}}});}function _0x5764(){const _0x1a836b=['valid','breakeven','distribution','threshold','usd','defaults','Unfilled\x20order(s)\x20canceled\x20after\x20','indexOf','fetchOrders','Limit\x20(low-margin)','InvalidNonce','9ubDFYE','limits','spot','orderStatus','price','version','getFullYear','timestamp','Order(s)\x20filled\x20-\x20balancing\x20resumed','loadMarkets','fees','001','date-fns','WebSockets(','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','botID','Order(s)\x20validated\x20-\x20balancing\x20resumed','accumulatedQuantity','running','starting-balances','closeWs','target','\x20>\x20','BTC/EUR','error','Crypt','Error:\x20Invalid\x20argument\x20','filter','timeshift','time','splice','success','BNB','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','sells','enabled','getCloses()','date','availableBalance','asset','stringify','padStart','Binance\x20API\x20secret\x20is\x20invalid','keys','yyyy/MM/dd\x20HH:mm:ss','yyyy-MM-dd\x27T\x27HH:mm:ss','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','differenceInSeconds','ccxt','write','function','eur','emojibuy','formattedMessage','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','\x20|\x20Unknown\x20error\x20occured','reverse','eventType','sell','datetime','821740GOCVwu','9400010tQREht','portfolio','toLowerCase','bot','assign','Bot\x20','Market','sha256','event-history','getMinutes','privateKey','type','Invalid\x20quantity','headless',',\x20must\x20be\x20a\x203\x20digit\x20number','symbols','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','search','./config/','log','page','\x20orders\x20in\x20less\x20than\x20','replace','buys','number','eachDayOfInterval','isArray','parseISO','\x20minutes\x20-\x20balancing\x20resumed','lowdb','BTCUSDT','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','cost','map','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','BTCBUSD','orderId','fee','sortBy','cancelOrder','parse','limit-high','kill','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','placeOrder','buy','getHours','add','initws()','get','min',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','binanceus','fetchTickers','side','USDT','wsMarket','startnumber','data','18WffGlt','DDoSProtection','symbol','forEach','reconnected','bot-','differenceInCalendarDays','decrypt','kline','wss://stream.binance.com:9443','3084992lliESh','getTime','timeout','getStartingBalances','ordertype','performance','fromCodePoint','BUSD','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','close','emojisell','BTC/USDT','RSA-OAEP','message','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','basecoin','************','1042939SfFdhu','storeHeadless','\x20|\x20Error\x20details:\x20','DAI/','excluded','order','yyyy/MM/dd','format','bb-settings.json','total','has','apiKey','exit','restart','amount','getDate','MIN_NOTIONAL','Limit\x20(high-margin)','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','botname','getMonth','limit-low','trade','cooldown','push','Performance\x20recreation\x20completed\x20successfully','Order\x20filled:\x20','getPortfolio()','cancelOrder()','ticker','wss://stream.binance.us:9443','getPortfolio','coins','orderType','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','./version.json','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','11476752zjdOsG','wsKey','(((.+)+)+)+$','userData','\x20-\x20','logs','lowdb/adapters/FileSync','split','length','apiSecret','Pausing\x20bot\x20for\x205\x20minutes\x20(','toString','exchange','find','args','send','initclient','balances','startdate','configuration',':\x20Bot\x20','-results.json','-events.json','InsufficientFunds','apply','RequestTimeout','ExchangeNotAvailable','realized','event','coin-loading-progress','coin','binance','BTC/BUSD','includes','entries','emitHistory','limit','market','bid','\x20order:\x20','last','round','BTCEUR','delta','showname','BTC','value','loadSymbols()','abs','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','filled','executionReport','existsSync','AuthenticationError','test','recreate','recreateHistory()','155Uthzsj','argv','createOrder','startprice','245142MoUnjt','remove','secure','getSeconds','sort','413988cCIZsS','LIMIT'];_0x5764=function(){return _0x1a836b;};return _0x5764();}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x472405=_0x5c344c;if(pidBalances)clearTimeout(pidBalances);if(config[_0x472405(0x2a8)]!=''){await initExchange(config[_0x472405(0x2a8)],config[_0x472405(0x2cb)]);let _0xe3b587=await loadSymbols();_0xe3b587&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x4c9aaf,_0x3b60a8){const _0x2dc42d=_0x5c344c,_0x4f4087=ccxt[config[_0x2dc42d(0x2ce)]];let _0x36064c;switch(config[_0x2dc42d(0x2ce)]){case _0x2dc42d(0x1d9):_0x36064c='wss://stream.binance.com:9443';break;case _0x2dc42d(0x27a):_0x36064c=_0x2dc42d(0x2bb);break;default:_0x36064c=_0x2dc42d(0x28a);}exchange=new _0x4f4087({'apiKey':_0x4c9aaf,'secret':_0x3b60a8,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x4c9aaf,'api_secret':_0x3b60a8,'beautify':!![],'wsUrl':_0x36064c},logger),config[_0x2dc42d(0x2ce)]==_0x2dc42d(0x27a)&&(stablecoins={'eur':{'coin':_0x2dc42d(0x269),'symbol':_0x2dc42d(0x1da)},'usd':{'coin':_0x2dc42d(0x264),'symbol':_0x2dc42d(0x296)}});}async function loadSymbols(){const _0x43d023=_0x5c344c;let _0x5592ca;try{markets=await exchange[_0x43d023(0x212)](),allSymbols=exchange[_0x43d023(0x255)][_0x43d023(0x224)](_0x4043c9=>{const _0xe5555b=_0x43d023;return!_0x4043c9[_0xe5555b(0x1db)](_0xe5555b(0x2a0));}),_0x5592ca=!![];}catch(_0x1dd19b){await handleError(_0x1dd19b,_0x43d023(0x1e9)),_0x5592ca=![];}return _0x5592ca;}async function initbot(){const _0x53adb9=_0x5c344c;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x5bcdf5=dbCoinResults['get'](_0x53adb9(0x2bd))[_0x53adb9(0x1e8)]();if(_0x5bcdf5['length']==0x0)await resetCoinResults();}async function initclient(){const _0x1a7bed=_0x5c344c;proxyEmit(_0x1a7bed(0x2d5),emittedConfiguration());while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x4c7a53=_0x5c344c;wsinitialized=![];ws1&&(ws1[_0x4c7a53(0x284)](_0x1174d6=>{const _0x48caff=_0x4c7a53;try{wsClient[_0x48caff(0x21d)](_0x1174d6);}catch(_0x13621d){}}),ws1=[]);if(ws2){try{wsClient[_0x4c7a53(0x21d)](ws2);}catch(_0x113ac0){}ws2=null;}}async function initws(){const _0x3f45e6=_0x5c344c;cleanws();let _0x175097=[];currentCoins[_0x3f45e6(0x284)](_0x40d6ec=>{const _0x675ee0=_0x3f45e6;if(_0x40d6ec[_0x675ee0(0x1d8)]!=config[_0x675ee0(0x29b)])_0x175097[_0x675ee0(0x2b5)](noslash(_0x40d6ec[_0x675ee0(0x283)]));});if(!_0x175097['includes'](stablecoins[_0x3f45e6(0x23c)][_0x3f45e6(0x1d8)]))_0x175097[_0x3f45e6(0x2b5)](stablecoins[_0x3f45e6(0x23c)][_0x3f45e6(0x1d8)]);if(!_0x175097[_0x3f45e6(0x1db)](stablecoins[_0x3f45e6(0x202)]['coin']))_0x175097[_0x3f45e6(0x2b5)](stablecoins['usd']['coin']);if(!_0x175097['includes'](_0x3f45e6(0x229)+config[_0x3f45e6(0x29b)]))_0x175097[_0x3f45e6(0x2b5)](_0x3f45e6(0x229)+config['basecoin']);try{_0x175097['forEach']((_0x7d6195,_0x472820)=>{ws1[_0x472820]=wsClient['subscribeSpotKline'](_0x7d6195,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x3f45e6(0x23e),_0x552425=>{const _0x5f19c3=_0x3f45e6;if(!Array['isArray'](_0x552425)&&!_0x552425[_0x5f19c3(0x2c3)]['includes'](_0x5f19c3(0x2c5))){if(_0x552425['eventType']===_0x5f19c3(0x289)){global[_0x5f19c3(0x2ba)][_0x552425[_0x5f19c3(0x289)][_0x5f19c3(0x283)]]=_0x552425[_0x5f19c3(0x289)][_0x5f19c3(0x294)];return;}}else{if(!Array[_0x5f19c3(0x260)](_0x552425)&&_0x552425['wsKey'][_0x5f19c3(0x1db)]('userData')){if(_0x552425[_0x5f19c3(0x27e)]['includes'](_0x5f19c3(0x20b))){updateNumberCoins(_0x552425);return;}}}}),wsClient['on'](_0x3f45e6(0x285),async _0x40667f=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x5d0591){await handleError(_0x5d0591,_0x3f45e6(0x276));}let _0x85ae86;while(_0x85ae86!=currentCoins[_0x3f45e6(0x2ca)]-0x1){_0x85ae86=0x0,currentCoins[_0x3f45e6(0x284)](_0x283f0e=>{const _0x5101ee=_0x3f45e6;if(_0x283f0e[_0x5101ee(0x1d8)]!=config[_0x5101ee(0x29b)]&&global[_0x5101ee(0x2ba)][noslash(_0x283f0e['symbol'])])_0x85ae86++;});let _0x14b4b5=Math[_0x3f45e6(0x1e3)](_0x85ae86/(currentCoins['length']-0x1)*0x64);proxyEmit(_0x3f45e6(0x1d7),_0x14b4b5),await sleep(0xc8);}wsinitialized=!![];}async function getFiat(){const _0x16df33=_0x5c344c;let _0x16d67f=0x0,_0x189517=0x0;try{_0x16d67f=global[_0x16df33(0x2ba)][stablecoins[_0x16df33(0x23c)][_0x16df33(0x1d8)]],_0x189517=global['ticker'][stablecoins[_0x16df33(0x202)][_0x16df33(0x1d8)]];}catch(_0x17bcc5){await handleError(_0x17bcc5,'getFiat()');}return{'eur':Number(_0x16d67f),'usd':Number(_0x189517)};}async function setStartDatePerformance(_0x39e624){const _0x322811=_0x5c344c,_0x4e33b7=fns[_0x322811(0x2a4)](new Date(_0x39e624[_0x322811(0x2d4)]),_0x322811(0x2a3));let _0x5b9f9a=[];_0x5b9f9a[stablecoins[_0x322811(0x23c)]['coin']]=await getCloses(stablecoins[_0x322811(0x23c)][_0x322811(0x283)],new Date(_0x39e624[_0x322811(0x2d4)]),0x1),_0x5b9f9a[stablecoins['usd'][_0x322811(0x1d8)]]=await getCloses(stablecoins[_0x322811(0x202)][_0x322811(0x283)],new Date(_0x39e624['startdate']),0x1);let _0x2d36bb,_0x2d5f61=[];_0x39e624[_0x322811(0x247)]['forEach'](_0x3140d5=>{const _0x19f6cc=_0x322811;!_0x3140d5[_0x19f6cc(0x2a1)]&&_0x2d5f61[_0x19f6cc(0x2b5)]({'coin':_0x3140d5[_0x19f6cc(0x1d8)],'number':_0x3140d5['startnumber'],'price':_0x3140d5[_0x19f6cc(0x1f6)]});}),_0x2d36bb={'date':_0x4e33b7,'eur':_0x5b9f9a[stablecoins['eur']['coin']][0x0],'usd':_0x5b9f9a[stablecoins['usd']['coin']][0x0],'coins':_0x2d5f61};let _0x309322=dbPerformance[_0x322811(0x277)]('data')['find']({'date':_0x4e33b7})[_0x322811(0x1e8)]();_0x309322?dbPerformance[_0x322811(0x277)](_0x322811(0x280))[_0x322811(0x2cf)]({'date':_0x4e33b7})[_0x322811(0x24a)](_0x2d36bb)[_0x322811(0x23a)]():dbPerformance[_0x322811(0x277)]('data')['push'](_0x2d36bb)['write'](),_0x309322=dbPerformance[_0x322811(0x277)](_0x322811(0x280))['sortBy'](_0x322811(0x22e))[_0x322811(0x1e8)](),_0x309322[_0x322811(0x284)](_0x3f258a=>{const _0x3125af=_0x322811;_0x3f258a[_0x3125af(0x22e)]<_0x4e33b7&&dbPerformance[_0x3125af(0x277)](_0x3125af(0x280))[_0x3125af(0x1f8)]({'date':_0x3f258a[_0x3125af(0x22e)]})[_0x3125af(0x23a)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x470d43){const _0xca8aa9=_0x5c344c;let _0x3e02df,_0x3f7596=[];logHistory(_0xca8aa9(0x228),_0xca8aa9(0x237)),_0x470d43[_0xca8aa9(0x247)]['forEach'](_0x9f3c6c=>{const _0x5c40e9=_0xca8aa9;if(_0x9f3c6c[_0x5c40e9(0x1d8)]!=config[_0x5c40e9(0x29b)]&&!_0x9f3c6c[_0x5c40e9(0x2a1)])_0x3f7596['push']({'coin':_0x9f3c6c[_0x5c40e9(0x1d8)],'symbol':_0x9f3c6c['symbol']});});let _0x2a453f=[];try{const _0x2a8cc1=fns[_0xca8aa9(0x2a4)](fns[_0xca8aa9(0x261)](_0x470d43[_0xca8aa9(0x2d4)][_0xca8aa9(0x25c)](/\//g,'-')),_0xca8aa9(0x236));for(const _0x3d107f of _0x3f7596){if(_0x3d107f[_0xca8aa9(0x1d8)]!=config[_0xca8aa9(0x29b)])_0x3e02df=await exchange[_0xca8aa9(0x206)](_0x3d107f[_0xca8aa9(0x283)],Date[_0xca8aa9(0x26e)](_0x2a8cc1));_0x3e02df[_0xca8aa9(0x284)](_0x194ab9=>{const _0x98a591=_0xca8aa9,_0x4b51ef=_0x3d107f[_0x98a591(0x283)][_0x98a591(0x1db)](config['basecoin']+'/'),_0x39b598=fns[_0x98a591(0x2a4)](fns['parseISO'](_0x194ab9['datetime']),_0x98a591(0x235)),_0x2c0789=fns['format'](fns[_0x98a591(0x261)](_0x194ab9[_0x98a591(0x244)]),_0x98a591(0x2a3));let _0x3e6567;if(_0x194ab9['side']=='buy'&&_0x4b51ef==![])_0x3e6567=_0x194ab9[_0x98a591(0x2ab)];if(_0x194ab9['side']==_0x98a591(0x273)&&_0x4b51ef==!![])_0x3e6567=-_0x194ab9['amount']*_0x194ab9['price'];if(_0x194ab9['side']==_0x98a591(0x243)&&_0x4b51ef==![])_0x3e6567=-_0x194ab9[_0x98a591(0x2ab)];if(_0x194ab9[_0x98a591(0x27c)]==_0x98a591(0x243)&&_0x4b51ef==!![])_0x3e6567=_0x194ab9[_0x98a591(0x2ab)]*_0x194ab9[_0x98a591(0x20d)];_0x2a453f[_0x98a591(0x2b5)]({'timestamp':_0x39b598,'date':_0x2c0789,'coin':_0x3d107f[_0x98a591(0x1d8)],'symbol':_0x3d107f['symbol'],'type':_0x194ab9['type'],'side':_0x194ab9[_0x98a591(0x27c)],'reverse':_0x4b51ef,'amount':formatResult(_0x194ab9[_0x98a591(0x1ec)],0x8),'filled':formatResult(_0x194ab9[_0x98a591(0x1ec)],0x8),'coinamount':formatResult(_0x3e6567,0x8),'price':formatResult(_0x194ab9[_0x98a591(0x20d)],0x8)});let _0x4c79ad;if(_0x194ab9[_0x98a591(0x27c)]=='buy'&&_0x4b51ef==![])_0x4c79ad=-_0x194ab9[_0x98a591(0x2ab)]*_0x194ab9[_0x98a591(0x20d)];if(_0x194ab9[_0x98a591(0x27c)]==_0x98a591(0x273)&&_0x4b51ef==!![])_0x4c79ad=_0x194ab9[_0x98a591(0x2ab)];if(_0x194ab9[_0x98a591(0x27c)]=='sell'&&_0x4b51ef==![])_0x4c79ad=_0x194ab9['amount']*_0x194ab9[_0x98a591(0x20d)];if(_0x194ab9[_0x98a591(0x27c)]==_0x98a591(0x243)&&_0x4b51ef==!![])_0x4c79ad=-_0x194ab9[_0x98a591(0x2ab)];_0x2a453f[_0x98a591(0x2b5)]({'date':_0x2c0789,'coin':config[_0x98a591(0x29b)],'coinamount':formatResult(_0x4c79ad,0x8)});});}_0x2a453f['sort']((_0x519167,_0x42d556)=>_0x519167[_0xca8aa9(0x210)]>_0x42d556[_0xca8aa9(0x210)]?0x1:_0x42d556[_0xca8aa9(0x210)]>_0x519167[_0xca8aa9(0x210)]?-0x1:0x0),dbLogs[_0xca8aa9(0x277)](_0xca8aa9(0x2c7))['remove']()['write'](),_0x2a453f[_0xca8aa9(0x284)](_0x3a780a=>{const _0x108dc7=_0xca8aa9;let _0x5346e8;_0x3a780a[_0x108dc7(0x1d8)]!=config[_0x108dc7(0x29b)]&&(_0x5346e8={'time':_0x3a780a[_0x108dc7(0x210)],'type':_0x108dc7(0x2a2),'event':'Order:\x20'+_0x3a780a[_0x108dc7(0x283)]+'\x20'+_0x3a780a['side']+'\x20#'+_0x3a780a['amount']+'\x20@'+_0x3a780a[_0x108dc7(0x20d)]},dbLogs[_0x108dc7(0x277)](_0x108dc7(0x2c7))['push'](_0x5346e8)[_0x108dc7(0x23a)]());});const _0x1a9cc7=fns[_0xca8aa9(0x25f)]({'start':new Date(_0x470d43[_0xca8aa9(0x2d4)]),'end':new Date()})[_0xca8aa9(0x267)](_0x3d89ef=>fns['format'](_0x3d89ef,_0xca8aa9(0x2a3)));let _0xdd530d=[];_0x470d43[_0xca8aa9(0x247)][_0xca8aa9(0x284)](_0x5c35a4=>{const _0x534e04=_0xca8aa9;if(!_0x5c35a4[_0x534e04(0x2a1)]){_0xdd530d[_0x5c35a4[_0x534e04(0x1d8)]]=[];let _0x5de99c=_0x5c35a4[_0x534e04(0x27f)];_0x1a9cc7['forEach']((_0x20eda8,_0x1d0625)=>{const _0xf31c3e=_0x534e04;let _0x760235=_0x2a453f['filter'](_0x520399=>_0x520399[_0xf31c3e(0x1d8)]==_0x5c35a4['coin']&&_0x520399['date']==_0x20eda8);if(_0x760235['length']!=0x0){let _0x3b044c=_0x760235['reduce']((_0x38995b,_0x3c4a7e)=>{return _0x38995b+=_0x3c4a7e['coinamount'],_0x38995b;},0x0);_0x5de99c+=_0x3b044c;}_0xdd530d[_0x5c35a4['coin']][_0x20eda8]=_0x5de99c;});}});const _0x245e60=[..._0x3f7596];_0x245e60[_0xca8aa9(0x2b5)]({'coin':stablecoins[_0xca8aa9(0x23c)]['coin'],'symbol':stablecoins[_0xca8aa9(0x23c)][_0xca8aa9(0x283)]}),_0x245e60['push']({'coin':stablecoins[_0xca8aa9(0x202)][_0xca8aa9(0x1d8)],'symbol':stablecoins[_0xca8aa9(0x202)][_0xca8aa9(0x283)]});let _0x2395f2=[];for(const _0x135c50 of _0x245e60){_0x2395f2[_0x135c50['coin']]=await getCloses(_0x135c50[_0xca8aa9(0x283)],new Date(_0x470d43[_0xca8aa9(0x2d4)]));}dbPerformance['get']('data')['remove']()[_0xca8aa9(0x23a)](),_0x1a9cc7[_0xca8aa9(0x284)]((_0x193ccb,_0x375e3b)=>{const _0x25434c=_0xca8aa9;let _0x47c9bb,_0x29dca6=[];_0x375e3b==0x0?(_0x470d43[_0x25434c(0x247)][_0x25434c(0x284)](_0x39fba2=>{const _0x21c24a=_0x25434c;!_0x39fba2[_0x21c24a(0x2a1)]&&_0x29dca6['push']({'coin':_0x39fba2[_0x21c24a(0x1d8)],'number':_0x39fba2[_0x21c24a(0x27f)],'price':_0x39fba2[_0x21c24a(0x1f6)]});}),_0x47c9bb={'date':_0x193ccb,'eur':_0x2395f2[stablecoins[_0x25434c(0x23c)][_0x25434c(0x1d8)]][_0x375e3b],'usd':_0x2395f2[stablecoins[_0x25434c(0x202)][_0x25434c(0x1d8)]][_0x375e3b],'coins':_0x29dca6}):(_0x470d43[_0x25434c(0x247)][_0x25434c(0x284)](_0x4d842f=>{const _0x47f2ec=_0x25434c;!_0x4d842f['excluded']&&_0x29dca6['push']({'coin':_0x4d842f['coin'],'number':_0xdd530d[_0x4d842f['coin']][_0x193ccb],'price':_0x4d842f[_0x47f2ec(0x1d8)]==config[_0x47f2ec(0x29b)]?0x1:_0x2395f2[_0x4d842f[_0x47f2ec(0x1d8)]][_0x375e3b]});}),_0x47c9bb={'date':_0x193ccb,'eur':_0x2395f2[stablecoins[_0x25434c(0x23c)][_0x25434c(0x1d8)]][_0x375e3b],'usd':_0x2395f2[stablecoins[_0x25434c(0x202)][_0x25434c(0x1d8)]][_0x375e3b],'coins':_0x29dca6}),dbPerformance[_0x25434c(0x277)](_0x25434c(0x280))[_0x25434c(0x2b5)](_0x47c9bb)['write']();}),emitPerformance(),await resetCoinResults();for(let _0x5cb7d4 of _0x2a453f){_0x5cb7d4['coin']!=config['basecoin']&&await updateCoinResults(_0x5cb7d4);}logHistory(_0xca8aa9(0x228),_0xca8aa9(0x2b6));}catch(_0x9bf113){await handleError(_0x9bf113,_0xca8aa9(0x1f2));}}async function getCloses(_0x54edfc,_0x44b6be,_0x3fcd30=undefined){const _0x4cbfbc=_0x5c344c,_0x175607='1d';let _0x27366f,_0x58a5c4;const _0x5f5962=fns[_0x4cbfbc(0x287)](new Date(),_0x44b6be)+0x1;try{const _0x5cbda1=exchange['milliseconds']()-_0x5f5962*0x18*0xe10*0x3e8;_0x27366f=await exchange['fetchOHLCV'](_0x54edfc,_0x175607,_0x5cbda1,_0x3fcd30),_0x58a5c4=await exchange[_0x4cbfbc(0x27b)](_0x54edfc);}catch(_0x47f273){await handleError(_0x47f273,_0x4cbfbc(0x22d));}let _0x4221fb=ohlcvToCloses(_0x27366f);return _0x4221fb[_0x4cbfbc(0x2b5)](_0x58a5c4[_0x54edfc][_0x4cbfbc(0x1e2)]),_0x4221fb;}function ohlcvToCloses(_0x5e2a01){const _0x459c95=_0x5c344c;let _0x403150=[];return _0x5e2a01[_0x459c95(0x284)](function(_0x1016da){const _0x2451b9=_0x459c95;_0x403150[_0x2451b9(0x2b5)](_0x1016da[0x4]);}),_0x403150;}function _0x3530(_0x29b472,_0x409f72){const _0x541eef=_0x5764();return _0x3530=function(_0x54756c,_0x2bf8e5){_0x54756c=_0x54756c-0x1d4;let _0x57640b=_0x541eef[_0x54756c];return _0x57640b;},_0x3530(_0x29b472,_0x409f72);}function getConfiguration(_0x36c1df){const _0x203ca3=_0x5c344c;let _0x5acbdc=dbConfig['get'](_0x203ca3(0x249))[_0x203ca3(0x2cf)]({'botID':_0x36c1df})[_0x203ca3(0x1e8)]();if(_0x5acbdc){let _0x162aee=![];!_0x5acbdc[_0x203ca3(0x2ce)]&&(_0x5acbdc={..._0x5acbdc,'exchange':_0x203ca3(0x1d9)},_0x162aee=!![]),!_0x5acbdc[_0x203ca3(0x29b)]&&(_0x5acbdc={..._0x5acbdc,'basecoin':'BTC'},_0x162aee=!![]),!_0x5acbdc[_0x203ca3(0x28f)]&&(_0x5acbdc={..._0x5acbdc,'ordertype':'market'},_0x162aee=!![]),!_0x5acbdc[_0x203ca3(0x28d)]&&(_0x5acbdc={..._0x5acbdc,'timeout':0x14},_0x162aee=!![]),!_0x5acbdc[_0x203ca3(0x23d)]&&(_0x5acbdc={..._0x5acbdc,'emojibuy':''},_0x162aee=!![]),!_0x5acbdc[_0x203ca3(0x295)]&&(_0x5acbdc={..._0x5acbdc,'emojisell':''},_0x162aee=!![]),!_0x5acbdc[_0x203ca3(0x1e6)]&&(_0x5acbdc={..._0x5acbdc,'showname':![]},_0x162aee=!![]),_0x162aee&&(_0x5acbdc={'botID':_0x5acbdc[_0x203ca3(0x218)],'exchange':_0x5acbdc['exchange'],'apiKey':_0x5acbdc[_0x203ca3(0x2a8)],'apiSecret':_0x5acbdc[_0x203ca3(0x2cb)],'basecoin':_0x5acbdc[_0x203ca3(0x29b)],'botname':_0x5acbdc[_0x203ca3(0x2b0)],'showname':_0x5acbdc[_0x203ca3(0x1e6)],'threshold':_0x5acbdc[_0x203ca3(0x201)],'ordertype':_0x5acbdc[_0x203ca3(0x28f)],'timeout':_0x5acbdc[_0x203ca3(0x28d)],'startdate':_0x5acbdc[_0x203ca3(0x2d4)],'recreate':_0x5acbdc['recreate'],'timeshift':_0x5acbdc[_0x203ca3(0x225)],'headless':_0x5acbdc['headless'],'cooldown':_0x5acbdc[_0x203ca3(0x2b4)],'emojibuy':_0x5acbdc[_0x203ca3(0x23d)],'emojisell':_0x5acbdc['emojisell'],'portfolio':_0x5acbdc['portfolio']},dbConfig[_0x203ca3(0x277)](_0x203ca3(0x249))[_0x203ca3(0x1f8)]()[_0x203ca3(0x23a)](),dbConfig[_0x203ca3(0x277)]('bot')[_0x203ca3(0x2b5)](_0x5acbdc)[_0x203ca3(0x23a)]());}else _0x5acbdc={'botID':_0x36c1df,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x203ca3(0x24b)+_0x36c1df,'showname':![],'threshold':'3','ordertype':_0x203ca3(0x1df),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x5acbdc;}function emittedConfiguration(){const _0x21a420=_0x5c344c;let _0x28c6f4;return config[_0x21a420(0x2a8)]==''?_0x28c6f4=config:_0x28c6f4={...config,'apiKey':_0x21a420(0x29c),'apiSecret':_0x21a420(0x29c)},_0x28c6f4;}function getSettings(){const _0x86c573=_0x5c344c;return dbSettings[_0x86c573(0x277)]('settings')[_0x86c573(0x1e8)]();}function getSecure(){const _0x458f72=_0x5c344c;return dbSecure[_0x458f72(0x277)](_0x458f72(0x1f9))[_0x458f72(0x1e8)]()||{};}function updateTimeshift(_0x3aa7c3){const _0x5d2022=_0x5c344c;let _0x3aa49e=dbConfig[_0x5d2022(0x277)](_0x5d2022(0x249))[_0x5d2022(0x2cf)]({'botID':botID})['value']();_0x3aa49e&&dbConfig[_0x5d2022(0x277)](_0x5d2022(0x249))[_0x5d2022(0x2cf)]({'botID':botID})[_0x5d2022(0x24a)]({'timeshift':_0x3aa7c3})[_0x5d2022(0x23a)](),config[_0x5d2022(0x225)]=_0x3aa7c3,proxyEmit(_0x5d2022(0x2d5),emittedConfiguration());}async function storeConfiguration(_0x3c1a32){const _0x22eabf=_0x5c344c;let _0x3bdaa0=dbConfig[_0x22eabf(0x277)](_0x22eabf(0x249))['find']({'botID':botID})['value']();_0x3c1a32={..._0x3c1a32,'apiKey':crypt[_0x22eabf(0x288)](secure['privateKey'],_0x3c1a32[_0x22eabf(0x2a8)])[_0x22eabf(0x298)],'apiSecret':crypt[_0x22eabf(0x288)](secure[_0x22eabf(0x250)],_0x3c1a32[_0x22eabf(0x2cb)])[_0x22eabf(0x298)]};if(_0x3bdaa0){if(_0x3c1a32[_0x22eabf(0x2a8)]==_0x22eabf(0x29c))_0x3c1a32['apiKey']=config[_0x22eabf(0x2a8)];if(_0x3c1a32[_0x22eabf(0x2cb)]==_0x22eabf(0x29c))_0x3c1a32[_0x22eabf(0x2cb)]=config[_0x22eabf(0x2cb)];dbConfig[_0x22eabf(0x277)](_0x22eabf(0x249))[_0x22eabf(0x2cf)]({'botID':botID})[_0x22eabf(0x24a)](_0x3c1a32)[_0x22eabf(0x23a)]();}else dbConfig[_0x22eabf(0x277)](_0x22eabf(0x249))['push'](_0x3c1a32)[_0x22eabf(0x23a)](),process['send']({'status':_0x22eabf(0x22c),'live':_0x22eabf(0x21b)});config={..._0x3c1a32};if(config[_0x22eabf(0x1f1)])await recreateHistory(config);else await setStartDatePerformance(config);process['send']({'botname':_0x3c1a32[_0x22eabf(0x2b0)]}),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x5ea92f){const _0x49af64=_0x5c344c,_0x128f6e={...config,'headless':_0x5ea92f['headless']};let _0x21b5dd=dbConfig[_0x49af64(0x277)]('bot')[_0x49af64(0x2cf)]({'botID':botID})['value']();_0x21b5dd&&dbConfig[_0x49af64(0x277)](_0x49af64(0x249))[_0x49af64(0x2cf)]({'botID':botID})['assign'](_0x128f6e)[_0x49af64(0x23a)](),config={..._0x128f6e},proxyEmit(_0x49af64(0x2d5),emittedConfiguration());}function noslash(_0x1e3c6b){return _0x1e3c6b['replace']('/','');}function updateNumberCoins(_0x349599){const _0x56bc3f=_0x5c344c;_0x349599[_0x56bc3f(0x242)]&&_0x349599[_0x56bc3f(0x242)]=='outboundAccountPosition'&&_0x349599[_0x56bc3f(0x2d3)]['forEach'](_0x5316ca=>{const _0x540f3e=_0x56bc3f;let _0xdf66b3=currentCoins[_0x540f3e(0x2cf)](_0x4e00c1=>_0x4e00c1[_0x540f3e(0x1d8)]==_0x5316ca[_0x540f3e(0x230)]);if(_0xdf66b3)_0xdf66b3[_0x540f3e(0x25e)]=Number(_0x5316ca[_0x540f3e(0x22f)]);});if(_0x349599[_0x56bc3f(0x242)]&&_0x349599[_0x56bc3f(0x242)]==_0x56bc3f(0x1ed)){if(_0x349599[_0x56bc3f(0x2be)]==_0x56bc3f(0x1fd)&&_0x349599[_0x56bc3f(0x20c)]=='FILLED'){if(lastOrders)lastOrders[_0x56bc3f(0x284)](_0x49ff95=>{const _0x5e0170=_0x56bc3f;if(_0x49ff95[_0x5e0170(0x26a)]==_0x349599[_0x5e0170(0x26a)]){if(_0x49ff95['reverse'])_0x49ff95[_0x5e0170(0x1ec)]=_0x349599[_0x5e0170(0x21a)]*_0x49ff95[_0x5e0170(0x20d)];else _0x49ff95[_0x5e0170(0x1ec)]=_0x349599['accumulatedQuantity'];}});}}}async function getCoins(_0x542c08=!![],_0x441a14=config[_0x5c344c(0x29b)]){const _0x2c9122=_0x5c344c;let _0x1a53be,_0x154da5=[],_0x2ea2d2=[],_0x31aaa6=[];try{_0x1a53be=await exchange['fetchBalance'](),mybalances=_0x1a53be[_0x2c9122(0x2a6)];if(!_0x542c08)for(const [_0x590c83,_0x453dc2]of Object[_0x2c9122(0x1dc)](mybalances)){_0x31aaa6[_0x2c9122(0x2b5)](_0x590c83);}else config['portfolio'][_0x2c9122(0x284)](_0x3eab69=>{const _0x1b7a0a=_0x2c9122;if(!_0x3eab69[_0x1b7a0a(0x2a1)])_0x31aaa6[_0x1b7a0a(0x2b5)](_0x3eab69['coin']);});if(_0x441a14=='')for(const [_0x17ba16,_0x2bb15f]of Object['entries'](mybalances)){_0x2bb15f[_0x2c9122(0x2cd)]()!=0x0&&_0x2ea2d2['push']({'coin':_0x17ba16});}else for(const [_0xe96b89,_0x50921c]of Object[_0x2c9122(0x1dc)](mybalances)){if(_0x31aaa6[_0x2c9122(0x1db)](_0xe96b89)){if((_0x50921c['toString']()!=0x0||config['portfolio']['find'](_0x3634f6=>_0x3634f6[_0x2c9122(0x1d8)]==_0xe96b89))&&(allSymbols[_0x2c9122(0x1db)](_0xe96b89+'/'+_0x441a14)||_0xe96b89==_0x441a14))_0x2ea2d2['push']({'coin':_0xe96b89,'symbol':_0xe96b89+'/'+_0x441a14,'reverse':![],'number':_0x50921c}),_0xe96b89!=_0x441a14&&_0x154da5[_0x2c9122(0x2b5)](_0xe96b89+'/'+_0x441a14);else(_0x50921c[_0x2c9122(0x2cd)]()!=0x0||config[_0x2c9122(0x247)][_0x2c9122(0x2cf)](_0x3f61b9=>_0x3f61b9[_0x2c9122(0x1d8)]==_0xe96b89))&&allSymbols[_0x2c9122(0x1db)](_0x441a14+'/'+_0xe96b89)&&(_0x2ea2d2['push']({'coin':_0xe96b89,'symbol':_0x441a14+'/'+_0xe96b89,'reverse':!![],'number':_0x50921c}),_0xe96b89!=_0x441a14&&_0x154da5[_0x2c9122(0x2b5)](_0x441a14+'/'+_0xe96b89));}}}catch(_0x1bc8fa){if(!_0x542c08){if(_0x1bc8fa[_0x2c9122(0x2cd)]()[_0x2c9122(0x1db)]('API-key\x20format\x20invalid'))return logHistory(_0x2c9122(0x221),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x1bc8fa['toString']()[_0x2c9122(0x1db)](_0x2c9122(0x1ef)))return logHistory(_0x2c9122(0x221),_0x2c9122(0x256)),![];else{if(_0x1bc8fa[_0x2c9122(0x2cd)]()[_0x2c9122(0x1db)](_0x2c9122(0x271)))return logHistory(_0x2c9122(0x221),_0x2c9122(0x233)),![];else await handleError(_0x1bc8fa,'getCoins()');}}}else await handleError(_0x1bc8fa,'getCoins()');}return _0x2ea2d2;}async function getPortfolio(_0x6b9a48){const _0x468d92=_0x5c344c;let _0x380298=[],_0x436efb=[],_0x1f5420,_0x415d4b=[],_0x199b90,_0xdda75d;_0x6b9a48[_0x468d92(0x2a8)]===_0x468d92(0x29c)||_0x6b9a48[_0x468d92(0x2cb)]===_0x468d92(0x29c)?(_0x199b90=config['apiKey'],_0xdda75d=config[_0x468d92(0x2cb)]):(_0x199b90=_0x6b9a48[_0x468d92(0x2a8)],_0xdda75d=_0x6b9a48[_0x468d92(0x2cb)]);await initExchange(_0x199b90,_0xdda75d);let _0x32bd76=await loadSymbols();if(_0x32bd76){_0x415d4b=await getCoins(![],_0x6b9a48['basecoin']);if(_0x415d4b===![])proxyEmit(_0x468d92(0x247),![]);else{if(_0x6b9a48[_0x468d92(0x29b)]=='')proxyEmit('portfolio',_0x415d4b);else{_0x415d4b[_0x468d92(0x284)](_0x39d2d9=>{const _0x1bdbea=_0x468d92;_0x380298[_0x1bdbea(0x2b5)](_0x39d2d9[_0x1bdbea(0x283)]);});try{_0x436efb=await exchange['fetchTickers'](_0x380298);}catch(_0x1b1360){await handleError(_0x1b1360,_0x468d92(0x2b8));}_0x415d4b[_0x468d92(0x284)](_0x2d4198=>{const _0x3659c3=_0x468d92;_0x2d4198['coin']!=_0x6b9a48[_0x3659c3(0x29b)]?_0x1f5420=_0x2d4198[_0x3659c3(0x241)]?0x1/_0x436efb[_0x2d4198['symbol']][_0x3659c3(0x1e2)]:_0x436efb[_0x2d4198[_0x3659c3(0x283)]][_0x3659c3(0x1e2)]:_0x1f5420=0x1,_0x2d4198[_0x3659c3(0x20d)]=formatResult(_0x1f5420,0x8);}),proxyEmit(_0x468d92(0x247),_0x415d4b);}}}else proxyEmit(_0x468d92(0x247),![]);}function checkMinimums(_0x572e5b){const _0x152e70=_0x5c344c;let _0x36c8e6=!![];const _0x325612=!_0x572e5b['reverse']?markets[_0x572e5b[_0x152e70(0x283)]][_0x152e70(0x20a)]['amount'][_0x152e70(0x278)]:markets[_0x572e5b['symbol']][_0x152e70(0x20a)]['cost']['min'],_0x5e47d1=!_0x572e5b[_0x152e70(0x241)]?markets[_0x572e5b['symbol']]['limits'][_0x152e70(0x266)][_0x152e70(0x278)]:markets[_0x572e5b[_0x152e70(0x283)]][_0x152e70(0x20a)]['amount']['min'];if(Math['abs'](_0x572e5b[_0x152e70(0x2b3)])<_0x325612)_0x36c8e6=![];if(Math['abs'](_0x572e5b['trade'])*_0x572e5b[_0x152e70(0x1e2)]<_0x5e47d1)_0x36c8e6=![];return _0x36c8e6;}async function getBalances(){const _0x157809=_0x5c344c;let _0x36fc8e=0x0,_0x5d2beb;const _0x23a874=config[_0x157809(0x201)];currentCoins[_0x157809(0x284)](_0x46aa37=>{const _0x5569b0=_0x157809;if(_0x46aa37[_0x5569b0(0x1d8)]!=config[_0x5569b0(0x29b)]){let _0x152c0b=global[_0x5569b0(0x2ba)][noslash(_0x46aa37[_0x5569b0(0x283)])];_0x5d2beb=_0x46aa37[_0x5569b0(0x241)]?0x1/_0x152c0b:_0x152c0b;}else _0x5d2beb=0x1;let _0x803e6f=_0x46aa37[_0x5569b0(0x25e)]*_0x5d2beb;_0x36fc8e+=_0x803e6f,_0x46aa37[_0x5569b0(0x1e2)]=formatResult(Number(_0x5d2beb),0x8),_0x46aa37['value']=_0x803e6f;}),currentCoins['forEach'](_0x561bba=>{const _0x25516c=_0x157809;let _0x326baa=config[_0x25516c(0x247)]['find'](_0x5a85e3=>_0x5a85e3[_0x25516c(0x1d8)]==_0x561bba[_0x25516c(0x1d8)]),_0x1a200a=Number(_0x326baa[_0x25516c(0x200)]),_0x8a8323=_0x561bba[_0x25516c(0x1e8)]/_0x36fc8e*0x64,_0x356b2a=_0x1a200a*_0x36fc8e/0x64/_0x561bba['last']-_0x561bba[_0x25516c(0x25e)];_0x561bba[_0x25516c(0x200)]=formatResult(_0x8a8323,0x3),_0x561bba[_0x25516c(0x21e)]=formatResult(_0x1a200a,0x3),_0x561bba[_0x25516c(0x2b3)]=formatResult(_0x356b2a,0x8),_0x561bba[_0x25516c(0x27c)]='',_0x561bba[_0x25516c(0x1fe)]='';if(_0x561bba['coin']!=config['basecoin']){if(_0x561bba[_0x25516c(0x200)]>_0x1a200a)_0x561bba[_0x25516c(0x27c)]=_0x25516c(0x243),_0x561bba[_0x25516c(0x1fe)]=checkMinimums(_0x561bba);else _0x561bba[_0x25516c(0x200)]<_0x1a200a&&(_0x561bba[_0x25516c(0x27c)]='buy',_0x561bba[_0x25516c(0x1fe)]=checkMinimums(_0x561bba));}_0x561bba[_0x25516c(0x1e5)]=_0x561bba[_0x25516c(0x200)]/_0x561bba[_0x25516c(0x21e)]-0x1;}),currentCoins[_0x157809(0x1fb)]((_0x11845f,_0x40e92d)=>_0x11845f['delta']<_0x40e92d[_0x157809(0x1e5)]?0x1:_0x40e92d[_0x157809(0x1e5)]<_0x11845f['delta']?-0x1:0x0);const _0x50b27c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x50b27c[_0x157809(0x23c)],'usd':_0x50b27c[_0x157809(0x202)],'portfolio':JSON[_0x157809(0x231)](currentCoins),'threshold':_0x23a874},proxyEmit(_0x157809(0x2d3),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x157809(0x253)])headlessMode({'portfolio':currentCoins,'threshold':_0x23a874});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x52ba73=_0x5c344c;if(!lastBalances)return;let _0x31ee01=await getStartingBalances(![]),_0x1e8369=[],_0x439935=[],_0x52439c;JSON[_0x52ba73(0x26e)](lastBalances[_0x52ba73(0x247)])[_0x52ba73(0x284)](_0x19a99a=>{const _0x201391=_0x52ba73;let _0x280a7e={'coin':_0x19a99a[_0x201391(0x1d8)],'number':_0x19a99a[_0x201391(0x25e)],'price':_0x19a99a['last']};_0x1e8369[_0x201391(0x2b5)](_0x280a7e);if(!_0x31ee01[_0x201391(0x2bd)]||!_0x31ee01[_0x201391(0x2bd)][_0x201391(0x2cf)](_0x19b1ef=>_0x19b1ef[_0x201391(0x1d8)]==_0x19a99a['coin']&&_0x19b1ef[_0x201391(0x25e)]!=0x0))_0x439935[_0x201391(0x2b5)](_0x280a7e);});const _0x2e8c42=await getFiat();_0x52439c={'date':lastBalances[_0x52ba73(0x226)][_0x52ba73(0x2c9)]('\x20')[0x0],'eur':_0x2e8c42[_0x52ba73(0x23c)],'usd':_0x2e8c42[_0x52ba73(0x202)],'coins':_0x1e8369};let _0x56c767=dbPerformance['get'](_0x52ba73(0x280))[_0x52ba73(0x2cf)]({'date':_0x52439c[_0x52ba73(0x22e)]})[_0x52ba73(0x1e8)]();_0x56c767?dbPerformance[_0x52ba73(0x277)](_0x52ba73(0x280))[_0x52ba73(0x2cf)]({'date':_0x52439c[_0x52ba73(0x22e)]})[_0x52ba73(0x24a)](_0x52439c)[_0x52ba73(0x23a)]():dbPerformance['get'](_0x52ba73(0x280))[_0x52ba73(0x2b5)](_0x52439c)[_0x52ba73(0x23a)](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x54dc50=_0x5c344c;if(dbPerformance[_0x54dc50(0x2a7)](_0x54dc50(0x280))['value']()){let _0x2f0692=dbPerformance['get'](_0x54dc50(0x280))[_0x54dc50(0x26c)](_0x54dc50(0x22e))[_0x54dc50(0x1e8)]();proxyEmit('performance',_0x2f0692),lastPerformanceEmitted=getDate();}else proxyEmit(_0x54dc50(0x290),[]);}async function getStartingBalances(_0x578b4d=!![]){const _0x5c38e5=_0x5c344c;let _0x4973c0=dbPerformance['get'](_0x5c38e5(0x280))[_0x5c38e5(0x2cf)]({'date':config['startdate']})[_0x5c38e5(0x1e8)]();config['apiKey']!=''&&!_0x4973c0&&(await setStartDatePerformance(config),_0x4973c0=dbPerformance[_0x5c38e5(0x277)](_0x5c38e5(0x280))['find']({'date':config['startdate']})[_0x5c38e5(0x1e8)]());if(config[_0x5c38e5(0x2a8)]==''||!_0x4973c0)return{};let _0x30bad4=0x0,_0x11bff1=0x0,_0x52ac22=0x0,_0x411d85=[],_0x1f264c=0x0;config['portfolio'][_0x5c38e5(0x284)](_0x5b8d7e=>{const _0x2f602c=_0x5c38e5;if(!_0x5b8d7e[_0x2f602c(0x2a1)]){_0x411d85[_0x1f264c]={'coin':_0x5b8d7e[_0x2f602c(0x1d8)],'symbol':_0x5b8d7e[_0x2f602c(0x283)],'number':_0x5b8d7e['startnumber'],'price':_0x5b8d7e[_0x2f602c(0x1f6)]},_0x30bad4+=_0x5b8d7e['startprice']*_0x5b8d7e['startnumber'];if(config['basecoin']==_0x2f602c(0x1e7))_0x11bff1+=_0x5b8d7e[_0x2f602c(0x1f6)]*_0x5b8d7e['startnumber']*_0x4973c0['eur'],_0x52ac22+=_0x5b8d7e[_0x2f602c(0x1f6)]*_0x5b8d7e[_0x2f602c(0x27f)]*_0x4973c0[_0x2f602c(0x202)];else{if(config['basecoin']==_0x2f602c(0x292)||config[_0x2f602c(0x29b)]==_0x2f602c(0x27d)||config[_0x2f602c(0x29b)]=='USDC')_0x11bff1+=_0x5b8d7e['startprice']*_0x5b8d7e[_0x2f602c(0x27f)]*_0x4973c0[_0x2f602c(0x23c)]/_0x4973c0[_0x2f602c(0x202)],_0x52ac22+=_0x5b8d7e[_0x2f602c(0x1f6)]*_0x5b8d7e['startnumber'];else config['basecoin']=='EUR'&&(_0x11bff1+=_0x5b8d7e[_0x2f602c(0x1f6)]*_0x5b8d7e[_0x2f602c(0x27f)],_0x52ac22+=_0x5b8d7e[_0x2f602c(0x1f6)]*_0x5b8d7e[_0x2f602c(0x27f)]*_0x4973c0[_0x2f602c(0x202)]/_0x4973c0[_0x2f602c(0x23c)]);}_0x1f264c++;}});let _0xad69d9={'basecoin':_0x30bad4,'eur':_0x11bff1,'usd':_0x52ac22,'coins':_0x411d85};if(_0x578b4d)proxyEmit(_0x5c38e5(0x21c),_0xad69d9);return _0xad69d9;}function headlessMode(_0x1f2210){const _0x30ef31=_0x5c344c;let _0x5829e4=_0x1f2210[_0x30ef31(0x247)],_0x23b248=_0x1f2210[_0x30ef31(0x201)],_0x39c35a=[];for(let _0x290f36 of _0x5829e4){if(_0x290f36[_0x30ef31(0x1d8)]!=config[_0x30ef31(0x29b)]){if(_0x290f36[_0x30ef31(0x200)]/_0x290f36[_0x30ef31(0x21e)]-0x1>=_0x23b248/0x64){if(_0x290f36[_0x30ef31(0x1fe)])_0x39c35a[_0x30ef31(0x2b5)](_0x290f36);}else{if(_0x290f36[_0x30ef31(0x200)]/_0x290f36[_0x30ef31(0x21e)]-0x1<=-_0x23b248/0x64){if(_0x290f36['valid'])_0x39c35a[_0x30ef31(0x2b5)](_0x290f36);}}}}_0x39c35a['length']>0x0&&placeOrder(_0x39c35a);}function symbolToCoin(_0xcd64cd){const _0x34b71f=_0x5c344c;let _0x2e6d00;if(_0xcd64cd[_0x34b71f(0x1db)]('/'+config[_0x34b71f(0x29b)]))_0x2e6d00=_0xcd64cd[_0x34b71f(0x25c)]('/'+config[_0x34b71f(0x29b)],'');if(_0xcd64cd[_0x34b71f(0x1db)](config[_0x34b71f(0x29b)]+'/'))_0x2e6d00=_0xcd64cd[_0x34b71f(0x25c)](config[_0x34b71f(0x29b)]+'/','');return _0x2e6d00;}async function validateOrders(_0x253119=0x0){const _0x3393c4=_0x5c344c;let _0xc9fa94=[],_0x41b58c=config[_0x3393c4(0x28f)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x3393c4(0x28d)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x3393c4(0x284)](_0x1432c7=>{const _0x432c22=_0x3393c4;let _0x4d2618=previousCoins[_0x432c22(0x2cf)](_0x2196d2=>_0x2196d2[_0x432c22(0x1d8)]==symbolToCoin(_0x1432c7[_0x432c22(0x283)])),_0x48b04c=currentCoins[_0x432c22(0x2cf)](_0x14be76=>_0x14be76[_0x432c22(0x1d8)]==symbolToCoin(_0x1432c7[_0x432c22(0x283)])),_0x24c8f7,_0x2f9679;_0x1432c7[_0x432c22(0x27c)]==_0x432c22(0x273)&&!_0x1432c7[_0x432c22(0x241)]||_0x1432c7['side']==_0x432c22(0x243)&&_0x1432c7[_0x432c22(0x241)]?(_0x24c8f7=_0x4d2618[_0x432c22(0x25e)]+0.9*_0x1432c7[_0x432c22(0x1ec)],_0x2f9679=_0x4d2618[_0x432c22(0x25e)]+1.1*_0x1432c7['filled']):(_0x24c8f7=_0x4d2618[_0x432c22(0x25e)]-1.1*_0x1432c7['filled'],_0x2f9679=_0x4d2618['number']-0.9*_0x1432c7[_0x432c22(0x1ec)]);const _0x5f1dd0=_0x1432c7[_0x432c22(0x1ec)]!=0x0&&_0x48b04c[_0x432c22(0x25e)]>=_0x24c8f7&&_0x48b04c['number']<=_0x2f9679;_0xc9fa94[_0x432c22(0x2b5)](_0x5f1dd0);if(_0x5f1dd0&&config[_0x432c22(0x28f)]!=_0x432c22(0x1df)){if(_0x1432c7[_0x432c22(0x241)])logHistory(_0x432c22(0x2a2),_0x432c22(0x2b7)+_0x1432c7[_0x432c22(0x283)]+'\x20'+_0x1432c7[_0x432c22(0x27c)]+'\x20#'+formatResult(_0x1432c7['filled']/_0x1432c7[_0x432c22(0x20d)],0x8)+'\x20@'+formatResult(_0x1432c7['price'],0x8));else logHistory(_0x432c22(0x2a2),'Order\x20filled:\x20'+_0x1432c7[_0x432c22(0x283)]+'\x20'+_0x1432c7['side']+'\x20#'+formatResult(_0x1432c7[_0x432c22(0x1ec)],0x8)+'\x20@'+formatResult(_0x1432c7[_0x432c22(0x20d)],0x8));}}),_0xc9fa94[_0x3393c4(0x284)]((_0x4d0ebc,_0x33954c)=>{const _0x2bd023=_0x3393c4;if(_0x4d0ebc)lastOrders[_0x2bd023(0x227)](_0x33954c,0x1);});if(_0x253119<_0x41b58c&&_0xc9fa94[_0x3393c4(0x1db)](![])){if(_0x253119==0x0){config[_0x3393c4(0x28f)]=='market'?logHistory(_0x3393c4(0x221),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory('error',_0x3393c4(0x217));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x253119);},0xa*0x3e8);}else{(_0x253119==0x1||_0x253119==Math[_0x3393c4(0x1e3)](_0x41b58c/0x2)||_0x253119==_0x41b58c-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x253119);},validateOrderInterval);}}else{lockOrders=![];if(_0x253119>0x0&&!_0xc9fa94['includes'](![]))config['ordertype']==_0x3393c4(0x1df)?logHistory('success',_0x3393c4(0x219)):logHistory(_0x3393c4(0x228),_0x3393c4(0x211));else _0x253119>0x0&&_0xc9fa94[_0x3393c4(0x1db)](![])&&(config[_0x3393c4(0x28f)]==_0x3393c4(0x1df)?logHistory(_0x3393c4(0x228),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x3393c4(0x1e3)](_0x41b58c*validateOrderInterval/0xea60)+_0x3393c4(0x262)):(lastOrders[_0x3393c4(0x284)](async _0x56d77b=>{const _0x2e28a6=_0x3393c4;try{const _0x29b5d3=await exchange[_0x2e28a6(0x26d)](_0x56d77b['orderId'],_0x56d77b[_0x2e28a6(0x283)]);}catch(_0x5f2fbb){if(_0x5f2fbb[_0x2e28a6(0x2cd)]()[_0x2e28a6(0x1db)]('OrderNotFound')){}else await handleError(_0x5f2fbb,_0x2e28a6(0x2b9));}}),logHistory(_0x3393c4(0x228),_0x3393c4(0x204)+Math[_0x3393c4(0x1e3)](_0x41b58c*validateOrderInterval/0xea60)+_0x3393c4(0x262))));}}async function resetCoinResults(){const _0x36c62c=_0x5c344c;dbCoinResults[_0x36c62c(0x277)]('coins')[_0x36c62c(0x1f8)]()[_0x36c62c(0x23a)]();let _0x2b3fa9=await getStartingBalances(![]);_0x2b3fa9[_0x36c62c(0x2bd)][_0x36c62c(0x284)](_0x255e76=>{const _0x4afd88=_0x36c62c,_0x919b45=_0x255e76[_0x4afd88(0x283)][_0x4afd88(0x1db)](config[_0x4afd88(0x29b)]+'/');if(_0x255e76['coin']!=config[_0x4afd88(0x29b)]){let _0x46923c={'coin':_0x255e76[_0x4afd88(0x1d8)],'number':_0x255e76['number'],'breakeven':_0x255e76[_0x4afd88(0x20d)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4afd88(0x277)](_0x4afd88(0x2bd))[_0x4afd88(0x2b5)](_0x46923c)[_0x4afd88(0x23a)]();}});}async function updateCoinResults(_0x115997){const _0x5e75d3=_0x5c344c;let _0x36c8fe,_0x35e49c,_0x4a3e8b,_0x7640ae,_0x5259f9,_0x3c6eaa,_0x1396b4=dbCoinResults[_0x5e75d3(0x277)]('coins')[_0x5e75d3(0x2cf)]({'coin':_0x115997['coin']})[_0x5e75d3(0x1e8)]();if(!_0x1396b4)return;if(_0x115997[_0x5e75d3(0x26b)]&&_0x115997['fee']['currency']==config[_0x5e75d3(0x29b)])_0x36c8fe=_0x115997[_0x5e75d3(0x26b)][_0x5e75d3(0x266)];else{if(_0x115997['fee']&&_0x115997['fee']['currency']==_0x5e75d3(0x229))_0x36c8fe=_0x115997[_0x5e75d3(0x26b)][_0x5e75d3(0x266)]*global[_0x5e75d3(0x2ba)][_0x5e75d3(0x229)+config[_0x5e75d3(0x29b)]];else _0x36c8fe=0.001*_0x115997[_0x5e75d3(0x1ec)];}const _0x139011=_0x115997[_0x5e75d3(0x283)][_0x5e75d3(0x1db)](config['basecoin']+'/');_0x139011&&(_0x3c6eaa={'coin':_0x115997['coin'],'symbol':_0x115997['symbol'],'filled':_0x115997[_0x5e75d3(0x1ec)]*_0x115997[_0x5e75d3(0x20d)],'side':_0x115997[_0x5e75d3(0x27c)]=='sell'?'buy':_0x5e75d3(0x243),'price':0x1/_0x115997[_0x5e75d3(0x20d)]},_0x115997={..._0x3c6eaa});_0x115997['side']==_0x5e75d3(0x273)?_0x4a3e8b=(_0x1396b4[_0x5e75d3(0x1ff)]*_0x1396b4['number']+_0x115997['price']*_0x115997[_0x5e75d3(0x1ec)])/(_0x1396b4[_0x5e75d3(0x25e)]+_0x115997['filled']):_0x4a3e8b=(_0x1396b4[_0x5e75d3(0x1ff)]*_0x1396b4['number']-_0x115997[_0x5e75d3(0x20d)]*_0x115997['filled'])/(_0x1396b4['number']-_0x115997[_0x5e75d3(0x1ec)]);_0x115997['side']==_0x5e75d3(0x273)?_0x7640ae=_0x1396b4[_0x5e75d3(0x1d5)]:_0x7640ae=_0x1396b4['realized']+(_0x115997[_0x5e75d3(0x20d)]-_0x1396b4[_0x5e75d3(0x1ff)])*_0x115997['filled'];_0x35e49c=_0x115997[_0x5e75d3(0x27c)]==_0x5e75d3(0x243)?_0x1396b4[_0x5e75d3(0x25e)]-_0x115997[_0x5e75d3(0x1ec)]:_0x1396b4['number']+_0x115997['filled'],_0x5259f9=(_0x115997[_0x5e75d3(0x20d)]-_0x4a3e8b)*_0x35e49c;let _0xac5897={'coin':_0x115997['coin'],'number':_0x35e49c,'breakeven':formatResult(_0x4a3e8b,0x8),'realized':formatResult(_0x7640ae,0x8),'unrealized':formatResult(_0x5259f9,0x8),'fees':formatResult(_0x1396b4[_0x5e75d3(0x213)]+_0x36c8fe,0x8),'sells':_0x115997[_0x5e75d3(0x27c)]==_0x5e75d3(0x243)?_0x1396b4[_0x5e75d3(0x22b)]+0x1:_0x1396b4[_0x5e75d3(0x22b)],'buys':_0x115997[_0x5e75d3(0x27c)]=='buy'?_0x1396b4[_0x5e75d3(0x25d)]+0x1:_0x1396b4[_0x5e75d3(0x25d)]};dbCoinResults[_0x5e75d3(0x277)](_0x5e75d3(0x2bd))[_0x5e75d3(0x2cf)]({'coin':_0x115997[_0x5e75d3(0x1d8)]})[_0x5e75d3(0x24a)](_0xac5897)[_0x5e75d3(0x23a)]();}async function placeOrder(_0x23accc){const _0x2663c6=_0x5c344c,_0x15fded=config[_0x2663c6(0x28f)]=='market'?_0x2663c6(0x1df):_0x2663c6(0x1de);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x2663c6(0x26e)](JSON['stringify'](currentCoins));for(const _0x34befa of _0x23accc){let _0x1767ec,_0x1c8234,_0x344e04,_0x37539a,_0x2fa092,_0x4a3f52=_0x34befa['symbol'];try{const _0x3e12f4=await exchange['fetchTickers'](_0x4a3f52),_0x394d44=_0x3e12f4[_0x4a3f52];_0x1767ec=_0x394d44['last'],_0x1c8234=_0x394d44[_0x2663c6(0x1e0)],_0x344e04=_0x394d44['ask'];_0x34befa[_0x2663c6(0x241)]?(_0x37539a=_0x34befa[_0x2663c6(0x27c)]==_0x2663c6(0x273)?_0x2663c6(0x243):'buy',_0x2fa092=Math[_0x2663c6(0x1ea)](_0x34befa[_0x2663c6(0x2b3)])/_0x1767ec):(_0x37539a=_0x34befa['side'],_0x2fa092=Math[_0x2663c6(0x1ea)](_0x34befa['trade']));_0x15fded==_0x2663c6(0x1de)&&(config[_0x2663c6(0x28f)]==_0x2663c6(0x26f)&&(_0x1767ec=_0x37539a=='buy'?_0x1c8234:_0x344e04),config[_0x2663c6(0x28f)]==_0x2663c6(0x2b2)&&(_0x1767ec=_0x37539a=='buy'?_0x344e04:_0x1c8234));_0x2fa092=formatResult(_0x2fa092,0x8),_0x1767ec=formatResult(_0x1767ec,0x8);const _0x1f53fa=await exchange[_0x2663c6(0x1f5)](_0x4a3f52,_0x15fded,_0x37539a,_0x2fa092,_0x1767ec);lastOrders['push']({'orderId':_0x1f53fa['id'],'symbol':_0x4a3f52,'side':_0x37539a,'reverse':_0x34befa['reverse'],'amount':_0x34befa[_0x2663c6(0x241)]?_0x1f53fa[_0x2663c6(0x2ab)]*_0x1f53fa['price']:_0x1f53fa[_0x2663c6(0x2ab)],'filled':_0x34befa[_0x2663c6(0x241)]?_0x1f53fa['filled']*_0x1f53fa[_0x2663c6(0x20d)]:_0x1f53fa[_0x2663c6(0x1ec)],'price':_0x1f53fa[_0x2663c6(0x20d)]});const _0x265876=_0x37539a=='sell'?config[_0x2663c6(0x295)]?String[_0x2663c6(0x291)]('0x'+config['emojisell'])+'\x20':'':config[_0x2663c6(0x23d)]?String[_0x2663c6(0x291)]('0x'+config[_0x2663c6(0x23d)])+'\x20':'',_0x4e37c7=_0x15fded==_0x2663c6(0x1df)?_0x2663c6(0x24c):config[_0x2663c6(0x28f)]==_0x2663c6(0x26f)?_0x2663c6(0x2ae):_0x2663c6(0x207);if(_0x15fded==_0x2663c6(0x1df))logHistory(_0x2663c6(0x2a2),''+_0x265876+_0x4e37c7+_0x2663c6(0x1e1)+_0x4a3f52+'\x20'+_0x37539a+'\x20#'+formatResult(_0x1f53fa[_0x2663c6(0x1ec)],0x8)+'\x20@'+formatResult(_0x1f53fa['price'],0x8));else logHistory(_0x2663c6(0x2a2),''+_0x265876+_0x4e37c7+_0x2663c6(0x1e1)+_0x4a3f52+'\x20'+_0x37539a+'\x20#'+formatResult(_0x1f53fa[_0x2663c6(0x2ab)],0x8)+'\x20@'+formatResult(_0x1f53fa[_0x2663c6(0x20d)],0x8));_0x1f53fa[_0x2663c6(0x1d8)]=_0x34befa[_0x2663c6(0x1d8)],await updateCoinResults(_0x1f53fa);if(config['cooldown']!=0x0){let _0x5cc701=null;if(cooldownTracker[_0x2663c6(0x2ca)]==config[_0x2663c6(0x2b4)]-0x1)_0x5cc701=cooldownTracker['shift']();const _0x33ff78=getTimeStamp();cooldownTracker[_0x2663c6(0x2b5)](_0x33ff78);if(_0x5cc701){const _0x21e76d=fns[_0x2663c6(0x238)](new Date(_0x33ff78),new Date(_0x5cc701));_0x21e76d<cooldownInterval&&(logHistory('error','Executed\x20'+config['cooldown']+_0x2663c6(0x25b)+cooldownInterval/0x3c+_0x2663c6(0x1eb)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x28b941){if(_0x28b941['toString']()[_0x2663c6(0x1db)](_0x2663c6(0x2ad)))logHistory(_0x2663c6(0x221),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4a3f52);else{if(_0x28b941[_0x2663c6(0x2cd)]()[_0x2663c6(0x1db)](_0x2663c6(0x252)))logHistory(_0x2663c6(0x221),'Order\x20amount\x20is\x20invalid:\x20'+_0x4a3f52);else await handleError(_0x28b941,'placeOrder()');}}}if(lastOrders[_0x2663c6(0x2ca)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x2663c6(0x253)]&&(config[_0x2663c6(0x28f)]==_0x2663c6(0x1df)?logHistory(_0x2663c6(0x221),_0x2663c6(0x22a)):logHistory(_0x2663c6(0x221),_0x2663c6(0x268)));else coolingDown&&(!config[_0x2663c6(0x253)]&&logHistory('error',_0x2663c6(0x299)));}}function logHistory(_0x159903,_0x43c8c7,_0x178ef0=''){const _0x12fd5f=_0x5c344c;let _0x1f60be={'time':getTimeStamp(),'type':_0x159903,'event':_0x43c8c7,'botname':config[_0x12fd5f(0x2b0)],'showname':config[_0x12fd5f(0x1e6)]};dbLogs['get'](_0x12fd5f(0x2c7))[_0x12fd5f(0x2b5)](_0x1f60be)[_0x12fd5f(0x23a)]();if(_0x178ef0=='')_0x178ef0=_0x43c8c7;proxyEmit(_0x12fd5f(0x1d6),{'log':_0x1f60be,'summary':_0x178ef0}),process[_0x12fd5f(0x2d1)]({'telegram':_0x1f60be}),logging(''+_0x1f60be[_0x12fd5f(0x1d6)]);}function emitHistory(_0x136ee1={}){const _0x15a4bf=_0x5c344c;Object[_0x15a4bf(0x234)](_0x136ee1)[_0x15a4bf(0x2ca)]==0x0&&(_0x136ee1={'type':[_0x15a4bf(0x2a2),'event'],'event':'','page':0x1});if(_0x136ee1[_0x15a4bf(0x251)]['includes']('event'))_0x136ee1[_0x15a4bf(0x251)]['splice'](_0x136ee1[_0x15a4bf(0x251)][_0x15a4bf(0x205)](_0x15a4bf(0x1d6)),0x1,_0x15a4bf(0x221),_0x15a4bf(0x228));if(dbLogs[_0x15a4bf(0x2a7)](_0x15a4bf(0x2c7))[_0x15a4bf(0x1e8)]()){let _0x15e473=dbLogs[_0x15a4bf(0x277)](_0x15a4bf(0x2c7))['filter'](_0x263b2d=>{const _0x269d42=_0x15a4bf;if(_0x136ee1[_0x269d42(0x251)][_0x269d42(0x2ca)]==0x0)return![];else return _0x136ee1[_0x269d42(0x251)]['includes'](_0x263b2d[_0x269d42(0x251)]);})[_0x15a4bf(0x224)](_0x4c180c=>{const _0x1f5836=_0x15a4bf;if(_0x136ee1[_0x1f5836(0x1d6)]=='')return!![];else return _0x4c180c['event'][_0x1f5836(0x248)]()[_0x1f5836(0x1db)](_0x136ee1['event'][_0x1f5836(0x248)]());})[_0x15a4bf(0x26c)](_0x15a4bf(0x226)),_0x5107bb=_0x15e473['value']()['length'];_0x15e473=_0x15e473['reverse']()['slice']((_0x136ee1[_0x15a4bf(0x25a)]-0x1)*logPageSize,_0x136ee1[_0x15a4bf(0x25a)]*logPageSize-0x1)[_0x15a4bf(0x241)]()[_0x15a4bf(0x1e8)](),proxyEmit(_0x15a4bf(0x24e),{'logs':_0x15e473,'total':_0x5107bb});}else proxyEmit(_0x15a4bf(0x24e),{'logs':[],'total':0x0});}async function pauseBot(_0x4ad679){const _0x389820=_0x5c344c,_0x2dea7b=new Date()[_0x389820(0x28c)]();if(!lastBotPause)lastBotPause=new Date()[_0x389820(0x28c)](),consecutivePauses=0x1;else{if(_0x2dea7b-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['send']({'stop':_0x389820(0x2aa)});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x389820(0x221),_0x389820(0x2cc)+consecutivePauses+')'),await sleep(_0x4ad679),botPaused=![],reset();}}async function handleError(_0x172455,_0x3985a6,_0x278f32=''){const _0x30f976=_0x5c344c;if(_0x172455[_0x30f976(0x2cd)]()['includes'](_0x30f976(0x282)))logHistory(_0x30f976(0x221),_0x3985a6+_0x30f976(0x23f)),await pauseBot(pauseBotInterval);else{if(_0x172455[_0x30f976(0x2cd)]()[_0x30f976(0x1db)](_0x30f976(0x1d4)))logHistory(_0x30f976(0x221),_0x3985a6+_0x30f976(0x2bf)),await pauseBot(pauseBotInterval);else{if(_0x172455[_0x30f976(0x2cd)]()[_0x30f976(0x1db)](_0x30f976(0x2db)))logHistory(_0x30f976(0x221),_0x3985a6+'\x20|\x20Binance\x20exchange\x20is\x20not\x20responding'),await pauseBot(pauseBotInterval);else{if(_0x172455['toString']()[_0x30f976(0x1db)]('API-key\x20format\x20invalid'))logHistory(_0x30f976(0x221),_0x3985a6+_0x30f976(0x2c1)),logHistory('error',_0x30f976(0x265)),process[_0x30f976(0x2d1)]({'stop':_0x30f976(0x270)});else{if(_0x172455[_0x30f976(0x2cd)]()['includes'](_0x30f976(0x1ef)))logHistory(_0x30f976(0x221),_0x3985a6+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x30f976(0x221),_0x30f976(0x265)),process[_0x30f976(0x2d1)]({'stop':_0x30f976(0x270)});else{if(_0x172455[_0x30f976(0x2cd)]()[_0x30f976(0x1db)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x30f976(0x221),_0x3985a6+_0x30f976(0x2af)),logHistory('error',_0x30f976(0x265)),process[_0x30f976(0x2d1)]({'stop':_0x30f976(0x270)});else{if(_0x172455[_0x30f976(0x2cd)]()[_0x30f976(0x1db)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory('error',_0x3985a6+_0x30f976(0x293)),logHistory(_0x30f976(0x221),_0x30f976(0x265)),process[_0x30f976(0x2d1)]({'stop':_0x30f976(0x270)});else{if(_0x172455[_0x30f976(0x2cd)]()[_0x30f976(0x1db)](_0x30f976(0x208)))logHistory(_0x30f976(0x221),_0x3985a6+_0x30f976(0x29a)),await pauseBot(pauseBotInterval),process[_0x30f976(0x2d1)]({'stop':_0x30f976(0x2aa)});else _0x172455[_0x30f976(0x2cd)]()[_0x30f976(0x1db)](_0x30f976(0x2d9))?logHistory(_0x30f976(0x221),_0x3985a6+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory(_0x30f976(0x221),_0x3985a6+_0x30f976(0x240)),logging(_0x3985a6+_0x30f976(0x29f),_0x172455),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x2fad0b,_0x46a532){return parseFloat(_0x2fad0b['toFixed'](_0x46a532));}function logging(_0x68563f,_0x3600e0=''){const _0x1f0590=_0x5c344c;if(config[_0x1f0590(0x1e6)])console[_0x1f0590(0x259)](getTimeStamp()+':\x20'+config['botname']+_0x1f0590(0x21f)+_0x68563f,_0x3600e0);else console[_0x1f0590(0x259)](getTimeStamp()+_0x1f0590(0x2d6)+botID+_0x1f0590(0x21f)+_0x68563f,_0x3600e0);}function getServerTime(){const _0x41dc2d=_0x5c344c,_0x5f49fe=new Date();return _0x5f49fe[_0x41dc2d(0x20f)]()+'/'+(_0x5f49fe[_0x41dc2d(0x2b1)]()+0x1)[_0x41dc2d(0x2cd)]()[_0x41dc2d(0x232)](0x2,'0')+'/'+_0x5f49fe[_0x41dc2d(0x2ac)]()['toString']()[_0x41dc2d(0x232)](0x2,'0')+'\x20'+_0x5f49fe[_0x41dc2d(0x274)]()[_0x41dc2d(0x2cd)]()[_0x41dc2d(0x232)](0x2,'0')+':'+_0x5f49fe[_0x41dc2d(0x24f)]()['toString']()[_0x41dc2d(0x232)](0x2,'0')+':'+_0x5f49fe[_0x41dc2d(0x1fa)]()[_0x41dc2d(0x2cd)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x573807=_0x5c344c,_0x9c48e5=shiftedTime();return _0x9c48e5['getFullYear']()+'/'+(_0x9c48e5[_0x573807(0x2b1)]()+0x1)[_0x573807(0x2cd)]()[_0x573807(0x232)](0x2,'0')+'/'+_0x9c48e5['getDate']()[_0x573807(0x2cd)]()[_0x573807(0x232)](0x2,'0')+'\x20'+_0x9c48e5[_0x573807(0x274)]()[_0x573807(0x2cd)]()[_0x573807(0x232)](0x2,'0')+':'+_0x9c48e5[_0x573807(0x24f)]()[_0x573807(0x2cd)]()[_0x573807(0x232)](0x2,'0')+':'+_0x9c48e5['getSeconds']()[_0x573807(0x2cd)]()[_0x573807(0x232)](0x2,'0');}function getDate(){const _0x572a46=_0x5c344c,_0x3341a7=shiftedTime();return _0x3341a7['getFullYear']()+'/'+(_0x3341a7['getMonth']()+0x1)[_0x572a46(0x2cd)]()[_0x572a46(0x232)](0x2,'0')+'/'+_0x3341a7['getDate']()[_0x572a46(0x2cd)]()[_0x572a46(0x232)](0x2,'0');}function getHour(){const _0x2c141e=_0x5c344c,_0x35727f=shiftedTime();return _0x35727f[_0x2c141e(0x274)]()[_0x2c141e(0x2cd)]()['padStart'](0x2,'0');}function sleep(_0x5338f5){return new Promise(_0xb6dcd2=>setTimeout(_0xb6dcd2,_0x5338f5));}function shiftedTime(){const _0x243a22=_0x5c344c,_0x2cb56f=new Date();let _0x38e8b9=_0x2cb56f;if(config&&config[_0x243a22(0x225)]!==0x0)_0x38e8b9=fns[_0x243a22(0x275)](_0x2cb56f,{'hours':config[_0x243a22(0x225)]});return _0x38e8b9;}