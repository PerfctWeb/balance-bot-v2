const _0x43ebec=_0x4219;(function(_0x46d562,_0x3fc17b){const _0xaf1063=_0x4219,_0x302b65=_0x46d562();while(!![]){try{const _0xab9ec3=parseInt(_0xaf1063(0x117))/0x1+parseInt(_0xaf1063(0x157))/0x2*(parseInt(_0xaf1063(0x17b))/0x3)+-parseInt(_0xaf1063(0x125))/0x4*(-parseInt(_0xaf1063(0xce))/0x5)+parseInt(_0xaf1063(0xbd))/0x6*(-parseInt(_0xaf1063(0x1cb))/0x7)+parseInt(_0xaf1063(0x83))/0x8*(parseInt(_0xaf1063(0x130))/0x9)+-parseInt(_0xaf1063(0x16e))/0xa*(parseInt(_0xaf1063(0x146))/0xb)+-parseInt(_0xaf1063(0x1f1))/0xc;if(_0xab9ec3===_0x3fc17b)break;else _0x302b65['push'](_0x302b65['shift']());}catch(_0x1fee21){_0x302b65['push'](_0x302b65['shift']());}}}(_0x4096,0x4c144));const _0x2959f6=function(){let _0x234a30=!![];return function(_0x43d41a,_0x19e7d1){const _0x4aa7d1=_0x234a30?function(){const _0x384f65=_0x4219;if(_0x19e7d1){const _0x6ce657=_0x19e7d1[_0x384f65(0x1fd)](_0x43d41a,arguments);return _0x19e7d1=null,_0x6ce657;}}:function(){};return _0x234a30=![],_0x4aa7d1;};}(),_0xfc0902=_0x2959f6(this,function(){const _0x369f12=_0x4219;return _0xfc0902[_0x369f12(0xcb)]()[_0x369f12(0x1d7)](_0x369f12(0x18d))[_0x369f12(0xcb)]()[_0x369f12(0x90)](_0xfc0902)[_0x369f12(0x1d7)](_0x369f12(0x18d));});_0xfc0902();'use strict';const ccxt=require(_0x43ebec(0x1b4))[_0x43ebec(0x135)],low=require(_0x43ebec(0x1fa)),FileSync=require(_0x43ebec(0x128)),fs=require('fs'),fns=require(_0x43ebec(0x18f)),Crypt=require(_0x43ebec(0x1fc))[_0x43ebec(0x1ff)],util=require('util'),argv=require('yargs/yargs')(process['argv'][_0x43ebec(0xb6)](0x2))[_0x43ebec(0x1b0)],path=require(_0x43ebec(0x11e));let exchange;global[_0x43ebec(0x1b7)]={},global[_0x43ebec(0xd4)]={};const exceptions={'binance':[_0x43ebec(0x13d),_0x43ebec(0x152),_0x43ebec(0x190),'NANO/',_0x43ebec(0xea)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x43ebec(0x199)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x43ebec(0x140))['version'],botID=process['argv'][0x2]||_0x43ebec(0x1cd),pattern=/^[0-9]{3}$/;function _0x4219(_0x3c43f5,_0x1b5323){const _0xbbd919=_0x4096();return _0x4219=function(_0xfc0902,_0x2959f6){_0xfc0902=_0xfc0902-0x7b;let _0x4096b1=_0xbbd919[_0xfc0902];return _0x4096b1;},_0x4219(_0x3c43f5,_0x1b5323);}!pattern['test'](botID)&&(console[_0x43ebec(0x1da)](_0x43ebec(0xa4)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x43ebec(0x1b0)][0x3]||'',configpath=userID?_0x43ebec(0x1c1)+userID+'/':_0x43ebec(0x1c1),logspath=userID?_0x43ebec(0xf9)+userID+'/':'./logs/',loggerfile=fs[_0x43ebec(0xa8)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x43ebec(0x1dc)](configpath)&&fs[_0x43ebec(0x1e6)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x43ebec(0x97)+botID+'-config.json',logfile=configpath+_0x43ebec(0x97)+botID+_0x43ebec(0x84),performancefile=configpath+_0x43ebec(0x97)+botID+_0x43ebec(0x1de),coinresultsfile=configpath+_0x43ebec(0x97)+botID+_0x43ebec(0x150),settingsfile=configpath+_0x43ebec(0xb7),securefile=configpath+_0x43ebec(0x1bf),configbackuppath=configpath+_0x43ebec(0x195),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x43ebec(0xa0)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x43ebec(0xa0)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x43ebec(0xa0)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x43ebec(0x1ba)]({'coins':[],'version':serverversion})[_0x43ebec(0xa0)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x43ebec(0xfd),'rsaStandard':_0x43ebec(0xbf)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3d3bee=>{const _0x126c69=_0x43ebec;console[_0x126c69(0x1da)](_0x3d3bee);},'simple':_0x3bea19=>{const _0x39952a=_0x43ebec;console['log'](_0x3bea19),loggerfile['write'](util[_0x39952a(0x13f)](_0x3bea19)+'\x0a');},'full':async(_0x15671e,_0x5b09ce='')=>{const _0x1ed62f=_0x43ebec;let _0x20e87f;if(config['showname'])_0x20e87f=getTimeStamp()+':\x20'+config[_0x1ed62f(0xe4)]+_0x1ed62f(0x181)+_0x15671e;else _0x20e87f=getTimeStamp()+_0x1ed62f(0x14f)+botID+_0x1ed62f(0x181)+_0x15671e;console[_0x1ed62f(0x1da)](_0x20e87f),loggerfile[_0x1ed62f(0xa0)](util[_0x1ed62f(0x13f)](_0x20e87f)+'\x0a'),_0x5b09ce&&(console[_0x1ed62f(0x1da)](_0x5b09ce),loggerfile[_0x1ed62f(0xa0)](util['format'](_0x5b09ce)+'\x0a'));},'debug':async(_0x29744a,_0x331026='')=>{const _0x41cc74=_0x43ebec;let _0x22a6f6;if(config['showname'])_0x22a6f6=getTimeStamp()+':\x20'+config[_0x41cc74(0xe4)]+_0x41cc74(0x168)+_0x29744a;else _0x22a6f6=getTimeStamp()+_0x41cc74(0x14f)+botID+_0x41cc74(0x168)+_0x29744a;if(debugging)console[_0x41cc74(0x1da)](_0x22a6f6);loggerfile[_0x41cc74(0xa0)](util['format'](_0x22a6f6)+'\x0a');if(_0x331026){if(debugging)console[_0x41cc74(0x1da)](_0x331026);loggerfile['write'](util[_0x41cc74(0x13f)](_0x331026)+'\x0a');}}};process['on'](_0x43ebec(0x1fb),function(_0x32705d){const _0x4d5e54=_0x43ebec;logger[_0x4d5e54(0x91)](_0x32705d);});settings[_0x43ebec(0x205)]!=config[_0x43ebec(0x205)]&&updateTimeshift(settings[_0x43ebec(0x205)]);settings[_0x43ebec(0x1a2)]!=config[_0x43ebec(0x1a2)]&&updateOnepagemode(settings[_0x43ebec(0x1a2)]);process[_0x43ebec(0x18c)]({'started':_0x43ebec(0xb1)},_0x1db70d=>{}),initializeProcessListeners();function proxyEmit(_0xb7789a,_0x519ee3=null){const _0x295450=_0x43ebec;process[_0x295450(0x18c)]({'function':_0xb7789a,'args':_0x519ee3},_0x2d176f=>{});}function initializeProcessListeners(){process['on']('message',_0xf73ce6=>{const _0x2cbf80=_0x4219;switch(Object['keys'](_0xf73ce6)[0x0]){case _0x2cbf80(0x205):_0xf73ce6[_0x2cbf80(0x205)]!=undefined&&(settings[_0x2cbf80(0x205)]=_0xf73ce6[_0x2cbf80(0x205)],updateTimeshift(settings[_0x2cbf80(0x205)]));break;case _0x2cbf80(0x1a2):_0xf73ce6[_0x2cbf80(0x1a2)]!=undefined&&(settings[_0x2cbf80(0x1a2)]=_0xf73ce6[_0x2cbf80(0x1a2)],updateOnepagemode(settings['onepagemode']));break;case _0x2cbf80(0xc2):_0xf73ce6[_0x2cbf80(0xc2)]!=undefined&&(bots=JSON[_0x2cbf80(0x1d9)](_0xf73ce6[_0x2cbf80(0xc2)]),proxyEmit(_0x2cbf80(0xc2),bots));break;case _0x2cbf80(0x15f):switch(_0xf73ce6['function']){case'initclient':initclient();break;case _0x2cbf80(0x19c):toggleBotMode();break;case _0x2cbf80(0x151):emitHistory(_0xf73ce6[_0x2cbf80(0x161)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0xf73ce6[_0x2cbf80(0x161)]);break;case _0x2cbf80(0xd3):getPortfolio(_0xf73ce6[_0x2cbf80(0x161)]);break;case _0x2cbf80(0x1dd):storeConfiguration(_0xf73ce6[_0x2cbf80(0x161)]);break;case _0x2cbf80(0x1d0):storeHeadless(_0xf73ce6[_0x2cbf80(0x161)]);break;case _0x2cbf80(0x177):storeFiat(_0xf73ce6[_0x2cbf80(0x161)]);break;case _0x2cbf80(0x10e):resetHistory();break;case _0x2cbf80(0xf3):getStartingBalances(getNormalizedPerformance());break;case _0x2cbf80(0x9a):placeOrder(_0xf73ce6[_0x2cbf80(0x161)]);break;case _0x2cbf80(0x158):cancelLoading();break;case'showConfig':showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x2cbf80(0x1f5):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x4d243f=null,_0x3c3a2c=![]){const _0x466c32=_0x43ebec;logger[_0x466c32(0xe0)](_0x466c32(0x1c6)+(_0x4d243f&&_0x4d243f['length']>0x0?'additional\x20symbols\x20'+_0x4d243f[_0x466c32(0xba)](','):_0x466c32(0x105))+'\x20|\x20'+(_0x3c3a2c?'exchange\x20reloaded':'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0x3c3a2c)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x466c32(0x8e)]!=''&&config[_0x466c32(0x8e)]!=_0x466c32(0x1b6)){if(_0x3c3a2c){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x36d020){handleErrorNoStop(_0x36d020,_0x466c32(0x13c));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x4d243f);const _0x52e3d5=await getCoins();[currentCoins,currentCoinsAll]=_0x52e3d5,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x466c32(0x17f)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x2f02c5=_0x43ebec;exchangeStopped=!![],await exchange[_0x2f02c5(0xf6)]();}async function reloadExchange(){const _0x452f62=_0x43ebec;logger[_0x452f62(0xe0)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x452f62(0x199)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x452f62(0xe0)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x3b88df=config[_0x43ebec(0xab)],_0x27855a=config[_0x43ebec(0x8e)],_0x2a6ed8=config[_0x43ebec(0x186)],_0x385d16=config['apiPassword']){const _0x20a6e6=_0x43ebec;exchange&&await stopExchange();!supportedExchanges()[_0x20a6e6(0x169)](_0x3b88df)&&(logHistory(_0x20a6e6(0x154),_0x20a6e6(0x16d)+_0x3b88df+_0x20a6e6(0x143)),killBot());const _0x5c46e0=ccxt[_0x3b88df[_0x20a6e6(0xad)]()];exchange=new _0x5c46e0({'apiKey':_0x27855a,'secret':_0x2a6ed8,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x385d16)exchange[_0x20a6e6(0x89)]=_0x385d16;}function setStableCoins(){const _0xc924fd=_0x43ebec;let _0x362563=config['basecoin']==_0xc924fd(0x13b)?_0xc924fd(0x13b):_0xc924fd(0x1a4),_0x867ebf=!allSymbols[_0xc924fd(0x169)](_0x362563+_0xc924fd(0x101))?_0xc924fd(0x7c):_0xc924fd(0xc7),_0x36ad28=!allSymbols[_0xc924fd(0x169)](_0x362563+_0xc924fd(0x115))?_0x867ebf:_0xc924fd(0xb0);stablecoins={'eur':{'coin':''+_0x362563+_0x36ad28,'symbol':_0x362563+'/'+_0x36ad28},'usd':{'coin':''+_0x362563+_0x867ebf,'symbol':_0x362563+'/'+_0x867ebf}};}async function initwsCcxt(_0x1de371){const _0xe8592=_0x43ebec;_0x1de371==null&&(_0x1de371=[],config[_0xe8592(0x92)]['forEach'](_0x362479=>{const _0x39b4b4=_0xe8592;if(!_0x362479[_0x39b4b4(0x1ef)]&&_0x362479[_0x39b4b4(0x171)]!=config['basecoin'])_0x1de371['push'](_0x362479[_0x39b4b4(0x1f4)]);}));if(!_0x1de371[_0xe8592(0x169)](stablecoins['eur'][_0xe8592(0x1f4)]))_0x1de371['push'](stablecoins[_0xe8592(0x1a9)][_0xe8592(0x1f4)]);if(!_0x1de371[_0xe8592(0x169)](stablecoins[_0xe8592(0xf2)][_0xe8592(0x1f4)]))_0x1de371[_0xe8592(0x93)](stablecoins['usd'][_0xe8592(0x1f4)]);if(config[_0xe8592(0xab)][_0xe8592(0xae)](_0xe8592(0x1ab))){if(!_0x1de371[_0xe8592(0x169)](_0xe8592(0x13a)+config[_0xe8592(0x1c9)]))_0x1de371['push']('BNB/'+config[_0xe8592(0x1c9)]);}loadCoins(_0x1de371);const _0x438f6e=async _0x5b1d64=>{const _0x7010d1=_0xe8592,_0x2f042f=await exchange['fetchTicker'](_0x5b1d64);global[_0x7010d1(0x1b7)][noslash(_0x2f042f[_0x7010d1(0x1f4)])]=_0x2f042f[_0x7010d1(0x19e)];while(!![]){if(!botPaused)try{const _0x163d8a=await exchange[_0x7010d1(0x147)](_0x5b1d64);global['ticker'][noslash(_0x163d8a[0x0][_0x7010d1(0x1f4)])]=_0x163d8a[0x0][_0x7010d1(0x107)],await sleep(0x3e8);}catch(_0x42b429){if(!exchangeStopped)await handleError(_0x42b429,'watchTrades',_0x5b1d64);}else await sleep(0x64);}},_0x55242a=async _0x2d04a8=>{const _0x3e4b52=_0xe8592;while(!![]){if(!botPaused)try{const _0x280d7f=await exchange[_0x3e4b52(0x136)](_0x2d04a8);global[_0x3e4b52(0xd4)][_0x280d7f[_0x3e4b52(0x1f4)]]=_0x280d7f[_0x3e4b52(0xd9)],await sleep(0x3c*0x3e8);}catch(_0x381fec){if(!exchangeStopped)await handleError(_0x381fec,_0x3e4b52(0x14c),_0x2d04a8);}else await sleep(0x64);}},_0x5cdacc=async()=>{const _0x465f4b=_0xe8592;while(!![]){if(!botPaused)try{const _0x1a3012=await exchange['watchOrders']();_0x1a3012[_0x465f4b(0xe1)](_0x3552b9=>{updateNumberCoinsCcxt(_0x3552b9);});}catch(_0x2ded17){if(!exchangeStopped)await handleError(_0x2ded17,_0x465f4b(0xbc));}else await sleep(0x64);}};_0x1de371['forEach'](async _0x4b2f1b=>{_0x438f6e(_0x4b2f1b),_0x55242a(_0x4b2f1b);}),!wsEventsSet&&(wsEventsSet=!![],_0x5cdacc(),watchTransactions());}async function watchTransactions(){const _0x57920c=_0x43ebec;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x1f28ae=await getCoins(),[_0x4b369b,_0x2b723a]=_0x1f28ae;let _0x35b731=[];currentCoins[_0x57920c(0xe1)](_0x213ff0=>{const _0x7000d6=_0x57920c,_0x30562c=_0x4b369b['find'](_0xf0d023=>_0xf0d023['coin']==_0x213ff0[_0x7000d6(0x171)]);_0x30562c&&(_0x213ff0[_0x7000d6(0x141)]!=_0x30562c[_0x7000d6(0x141)]&&_0x35b731[_0x7000d6(0x93)]({'coin':_0x213ff0[_0x7000d6(0x171)],'symbol':_0x213ff0['symbol'],'number':Number(formatResult(_0x30562c[_0x7000d6(0x141)]-_0x213ff0[_0x7000d6(0x141)],0x8))}));});if(_0x35b731[_0x57920c(0x17f)]==0x1&&!blockTransactionDetection){logger[_0x57920c(0xe0)](_0x57920c(0x1e2)+lastFees['currency']+'\x20|\x20highest:\x20'+lastFees['highest']);if(!lastFees[_0x57920c(0x1b8)]||_0x35b731[0x0][_0x57920c(0x171)]!=lastFees[_0x57920c(0x1b8)]||_0x35b731[0x0][_0x57920c(0x141)]>lastFees[_0x57920c(0x1c3)]){let _0x308d20;if(_0x35b731[0x0][_0x57920c(0x171)]!=config[_0x57920c(0x1c9)]){let _0x3c7bb0=global['ticker'][noslash(_0x35b731[0x0][_0x57920c(0x1f4)])];_0x308d20=_0x35b731[0x0]['reverse']?0x1/_0x3c7bb0:_0x3c7bb0;}else _0x308d20=0x1;_0x35b731[0x0][_0x57920c(0x107)]=_0x308d20,delete _0x35b731[0x0][_0x57920c(0x1f4)];let _0x44f869=[],_0x460bd5=[...config[_0x57920c(0x189)]]||[],_0x1eb9b2=config[_0x57920c(0x189)];_0x460bd5[_0x57920c(0x1f8)]((_0x4a57bc,_0x62988b)=>_0x4a57bc[_0x57920c(0xcc)]>_0x62988b['date']?-0x1:_0x62988b[_0x57920c(0xcc)]>_0x4a57bc[_0x57920c(0xcc)]?0x1:0x0);const _0x559286=getDate();if(_0x460bd5[0x0]){const _0x3e442a=fns[_0x57920c(0x1d9)](_0x460bd5[0x0][_0x57920c(0xcc)],'yyyy/MM/dd',new Date()),_0x4f016e=fns[_0x57920c(0x1d9)](_0x559286,_0x57920c(0x1ad),new Date());if(fns[_0x57920c(0xb4)](_0x3e442a,_0x4f016e)){_0x44f869=_0x460bd5[0x0][_0x57920c(0xf0)];const _0x50579e=_0x44f869[_0x57920c(0x12b)](_0x2a01c2=>_0x2a01c2[_0x57920c(0x171)]==_0x35b731[0x0][_0x57920c(0x171)]);_0x50579e?(_0x50579e[_0x57920c(0x141)]+=_0x35b731[0x0][_0x57920c(0x141)],_0x50579e['number']==0x0&&(_0x44f869=_0x44f869[_0x57920c(0x1c4)](_0x1b8419=>{const _0x506208=_0x57920c;return _0x1b8419[_0x506208(0x171)]!=_0x35b731[0x0][_0x506208(0x171)];}))):_0x44f869[_0x57920c(0x93)](_0x35b731[0x0]);const _0x241940=_0x1eb9b2[_0x57920c(0x12b)](_0xdc79bb=>_0xdc79bb[_0x57920c(0xcc)]==_0x559286);_0x241940['changes']=_0x44f869;}else _0x1eb9b2['push']({'date':_0x559286,'changes':[_0x35b731[0x0]]});}const _0x4c853b=_0x1eb9b2[_0x57920c(0x12b)](_0x49add2=>_0x49add2[_0x57920c(0xcc)]==_0x559286);if(_0x4c853b){let _0x195644=!![];_0x4c853b['changes'][_0x57920c(0xe1)](_0x4f00a9=>{const _0x16789d=_0x57920c;if(_0x4f00a9[_0x16789d(0x141)]!=0x0)_0x195644=![];}),_0x195644&&(_0x1eb9b2=_0x1eb9b2[_0x57920c(0x1c4)](_0x40b368=>{const _0x16fcb9=_0x57920c;return _0x40b368[_0x16fcb9(0xcc)]!=_0x559286;}));}let _0x36814d=dbConfig[_0x57920c(0x176)]('bot')['find']({'botID':botID})[_0x57920c(0x173)]();_0x36814d&&(dbConfig[_0x57920c(0x176)]('bot')[_0x57920c(0x12b)]({'botID':botID})['assign']({'liquidity':_0x1eb9b2})[_0x57920c(0xa0)](),config['liquidity']=_0x1eb9b2),logHistory('success',_0x57920c(0xa6)+Math[_0x57920c(0xd0)](_0x35b731[0x0][_0x57920c(0x141)])+'\x20'+_0x35b731[0x0]['coin']+'\x20'+(_0x35b731[0x0][_0x57920c(0x141)]>0x0?_0x57920c(0x112):_0x57920c(0xb8))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x57920c(0x126),emittedConfiguration());}else logger[_0x57920c(0xe0)](_0x57920c(0xc9)+Math[_0x57920c(0xd0)](_0x35b731[0x0]['number'])+'\x20'+_0x35b731[0x0][_0x57920c(0x171)]+'\x20'+(_0x35b731[0x0]['number']>0x0?'added':_0x57920c(0xb8)));transactionDetected=!![],currentCoins=_0x4b369b,currentCoinsAll=_0x2b723a;}await sleep(watchTransactionsInterval);}catch(_0x138b32){if(!exchangeStopped)await handleError(_0x138b32,_0x57920c(0x7d));}else await sleep(0x64);}}async function loadSymbols(_0x315c60=config[_0x43ebec(0xab)],_0x2e8fa8=![]){const _0x1c5740=_0x43ebec;if(allSymbols&&!_0x2e8fa8)return;try{markets=await exchange[_0x1c5740(0x1f3)](),allSymbols=exchange[_0x1c5740(0x203)][_0x1c5740(0x1c4)](_0x121314=>{const _0x542676=_0x1c5740;let _0x16aaa6=![];const _0x5a738e=exceptions[_0x315c60[_0x542676(0xad)]()]||[];return _0x5a738e['forEach'](_0x3549c5=>{const _0x17ad0e=_0x542676;if(_0x121314[_0x17ad0e(0x169)](_0x3549c5))_0x16aaa6=!![];}),!_0x16aaa6;});}catch(_0x234613){throw _0x234613;}}async function initclient(){const _0x185b65=_0x43ebec;emitLoadingProgress(),proxyEmit(_0x185b65(0x126),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x185b65(0x1e4),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1bdffc=getNormalizedPerformance();emitPerformance(_0x1bdffc),getStartingBalances(_0x1bdffc);}async function toggleBotMode(){const _0x4193c4=_0x43ebec;let _0x1c588f=dbConfig['get'](_0x4193c4(0x14d))[_0x4193c4(0x12b)]({'botID':botID})['value']();if(_0x1c588f){const _0x167d38=!_0x1c588f['headless'];dbConfig[_0x4193c4(0x176)]('bot')[_0x4193c4(0x12b)]({'botID':botID})['assign']({'headless':_0x167d38})[_0x4193c4(0xa0)](),config[_0x4193c4(0x17a)]=_0x167d38,proxyEmit(_0x4193c4(0x126),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x59f020=_0x43ebec;process[_0x59f020(0x18c)]({'updatebotmanager':!![]},_0x1c4506=>{});}async function loadCoins(_0x2e2742){const _0x1fd629=_0x43ebec;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x1cf18e,_0x317ce6=0x0,_0x2f6df9=0x0;_0x2e2742['forEach'](_0x1f2653=>{const _0x457dc6=_0x4219;loading['remainingSymbols'][_0x457dc6(0x93)](_0x1f2653);}),loadingCanceled=![];let _0x4f7257=![];while(_0x1cf18e!=_0x2e2742[_0x1fd629(0x17f)]){_0x1cf18e=0x0,_0x2e2742['forEach'](_0x2b5ce3=>{const _0x57ef04=_0x1fd629;if(global[_0x57ef04(0x1b7)][noslash(_0x2b5ce3)]){loading[_0x57ef04(0x1b9)]=loading[_0x57ef04(0x1b9)][_0x57ef04(0x1c4)](_0x2dceb8=>_0x2dceb8!=_0x2b5ce3);if(!watchedSymbols[_0x57ef04(0x169)](_0x2b5ce3))watchedSymbols['push'](_0x2b5ce3);_0x1cf18e++;}}),loading['progress']=Math[_0x1fd629(0x1af)](_0x1cf18e/_0x2e2742[_0x1fd629(0x17f)]*0x64);loading[_0x1fd629(0x12e)]!=0x64&&(_0x2f6df9>0x1e*0x5&&(loading[_0x1fd629(0x123)]=!![],emitLoadingProgress()),_0x2f6df9>0x78*0x5&&!_0x4f7257&&(loading[_0x1fd629(0x10b)]=!![],emitLoadingProgress(),_0x4f7257=!![],logHistory(_0x1fd629(0x154),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading['remainingSymbols'][_0x1fd629(0xba)](',\x20')+_0x1fd629(0x185)),logHistory(_0x1fd629(0x154),_0x1fd629(0x1b1)+loadCoinsRetryInterval/0xea60+_0x1fd629(0x18b)),pidCoinReloading=setTimeout(()=>{const _0x1f9831=_0x1fd629;process[_0x1f9831(0x18c)]({'stop':_0x1f9831(0x85)},_0x4034cc=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x1fd629(0x10b)]=!![],emitLoadingProgress();break;}else _0x1cf18e!=_0x317ce6&&(_0x317ce6=_0x1cf18e,emitLoadingProgress()),_0x2f6df9++,await sleep(0xc8);}_0x1cf18e==_0x2e2742[_0x1fd629(0x17f)]&&(coinsLoaded=!![],process[_0x1fd629(0x18c)]({'status':_0x1fd629(0x106),'live':_0x1fd629(0xb1)},_0x1aa4dd=>{}),_0x4f7257&&logHistory('success',_0x1fd629(0x1d8)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x106689=_0x43ebec;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x106689(0x1f0)});}function emitLoadingProgress(){const _0x4bcb16=_0x43ebec;proxyEmit(_0x4bcb16(0x1ca),loading);}async function getFiat(){const _0x3a286d=_0x43ebec;let _0x2f8008=global[_0x3a286d(0x1b7)][stablecoins['eur']['coin']],_0x4aa6b9=global[_0x3a286d(0x1b7)][stablecoins[_0x3a286d(0xf2)][_0x3a286d(0x171)]];return{'eur':Number(_0x2f8008),'usd':Number(_0x4aa6b9)};}function capitalize(_0x542bd2){const _0x55b71a=_0x43ebec;return _0x542bd2['substring'](0x0,0x1)[_0x55b71a(0x7e)]()+_0x542bd2[_0x55b71a(0x8f)](0x1);}function supportedExchanges(){const _0x29864a=_0x43ebec,_0x418e9d=['ws',_0x29864a(0x14c),'fetchTicker',_0x29864a(0x147),_0x29864a(0xbc),_0x29864a(0x188),_0x29864a(0x80),_0x29864a(0x1f6),'fetchClosedOrders',_0x29864a(0x1df)];let _0xa24a06=[],_0x194170=[],_0x1b78b9=ccxt[_0x29864a(0x145)];_0x1b78b9[_0x29864a(0xe1)](_0x4fef94=>{const _0x2d27b2=_0x29864a;try{const _0x3d8a76=new ccxt[_0x4fef94]();if(_0x3d8a76[_0x2d27b2(0x127)]['ws'])_0x194170[_0x2d27b2(0x93)](_0x3d8a76);}catch(_0x5396f3){}}),_0x194170[_0x29864a(0xe1)](_0x35d55c=>{const _0x4b3aa3=_0x29864a;let _0x17a93a=0x0;_0x418e9d[_0x4b3aa3(0xe1)](_0x22c961=>{const _0xf17676=_0x4b3aa3;_0x22c961 in _0x35d55c['has']&&_0x35d55c[_0xf17676(0x127)][_0x22c961]&&_0x17a93a++;}),_0x17a93a==_0x418e9d[_0x4b3aa3(0x17f)]&&_0xa24a06['push'](capitalize(_0x35d55c['id']));});let _0x452eec=[];return _0x1b78b9['forEach'](_0x4a451a=>{const _0x5c1aa0=_0x29864a;_0x4a451a=capitalize(_0x4a451a);if(!_0xa24a06[_0x5c1aa0(0x169)](_0x4a451a))_0x452eec['push'](_0x4a451a);}),_0xa24a06;}function setStartDatePerformance(){const _0x4cfdbb=_0x43ebec;if(config&&config[_0x4cfdbb(0x189)][0x0]['changes'][_0x4cfdbb(0x17f)]!=0x0){const _0x23d661=config[_0x4cfdbb(0x189)][0x0][_0x4cfdbb(0xf0)];dbPerformance[_0x4cfdbb(0x176)]('data')[_0x4cfdbb(0x12b)]({'date':config[_0x4cfdbb(0x110)]})[_0x4cfdbb(0xf8)]({'coins':_0x23d661})[_0x4cfdbb(0xa0)]();}}async function recreateCoinResults(){const _0x4f4e0b=_0x43ebec;let _0x2150d,_0x5be2a2=[];try{const _0x4f234=fns['format'](fns['parseISO'](config[_0x4f4e0b(0x110)][_0x4f4e0b(0x1ae)](/\//g,'-')),_0x4f4e0b(0x16f));for(const _0x6354e6 of currentCoins){if(_0x6354e6[_0x4f4e0b(0x171)]!=config[_0x4f4e0b(0x1c9)]){let _0x7a1ad2=0x0,_0x38173c,_0x5a442a;_0x2150d=await getAllEventOrders(_0x6354e6[_0x4f4e0b(0x1f4)]);if(_0x2150d[_0x4f4e0b(0x17f)]>0x0)_0x2150d[_0x4f4e0b(0xe1)](_0x420df7=>{const _0x4f0b8f=_0x4f4e0b,_0x4dfa8f=_0x6354e6[_0x4f0b8f(0x1f4)][_0x4f0b8f(0x169)](config[_0x4f0b8f(0x1c9)]+'/');_0x5be2a2[_0x4f0b8f(0x93)]({'datetime':_0x420df7[_0x4f0b8f(0x131)],'coin':_0x6354e6['coin'],'symbol':_0x6354e6[_0x4f0b8f(0x1f4)],'side':_0x420df7[_0x4f0b8f(0x1c8)],'reverse':_0x4dfa8f,'amount':formatResult(_0x420df7[_0x4f0b8f(0x102)],0x8),'filled':formatResult(_0x420df7[_0x4f0b8f(0x102)],0x8),'price':formatResult(_0x420df7[_0x4f0b8f(0x107)],0x8)}),_0x7a1ad2=_0x420df7[_0x4f0b8f(0x1c8)]==_0x4f0b8f(0x160)?_0x7a1ad2+_0x420df7[_0x4f0b8f(0x102)]:_0x7a1ad2-_0x420df7[_0x4f0b8f(0x102)];if(!_0x5a442a)_0x5a442a=_0x420df7[_0x4f0b8f(0x107)];});_0x38173c=_0x6354e6[_0x4f4e0b(0x141)]-_0x7a1ad2;let _0x1d9724;config[_0x4f4e0b(0x189)][_0x4f4e0b(0xe1)](_0x9fbfd3=>{const _0x43bba8=_0x4f4e0b;!_0x1d9724&&(_0x1d9724=_0x9fbfd3[_0x43bba8(0xf0)][_0x43bba8(0x12b)](_0x1eb681=>_0x1eb681[_0x43bba8(0x171)]==_0x6354e6[_0x43bba8(0x171)]),_0x1d9724&&(_0x38173c=_0x1d9724[_0x43bba8(0x141)],_0x5a442a=_0x1d9724[_0x43bba8(0x107)]));});let _0x15451e=dbCoinResults[_0x4f4e0b(0x176)](_0x4f4e0b(0xb2))['find']({'coin':_0x6354e6[_0x4f4e0b(0x171)]})[_0x4f4e0b(0x173)]();_0x15451e={'coin':_0x6354e6[_0x4f4e0b(0x171)],'number':_0x38173c,'breakeven':_0x5a442a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4f4e0b(0x176)](_0x4f4e0b(0xb2))[_0x4f4e0b(0x12b)]({'coin':_0x6354e6[_0x4f4e0b(0x171)]})[_0x4f4e0b(0xf8)](_0x15451e)[_0x4f4e0b(0xa0)]();}}_0x5be2a2[_0x4f4e0b(0x1f8)]((_0x3d7c0d,_0x240357)=>_0x3d7c0d[_0x4f4e0b(0x131)]>_0x240357[_0x4f4e0b(0x131)]?0x1:_0x240357[_0x4f4e0b(0x131)]>_0x3d7c0d[_0x4f4e0b(0x131)]?-0x1:0x0);let _0x5a4dbf=0x0;for(let _0x5b657f of _0x5be2a2){await updateCoinResults(_0x5b657f,!![]);}}catch(_0x203a1e){await handleError(_0x203a1e,_0x4f4e0b(0x1ec));}}async function getAllEventOrders(_0x12a985){const _0x242e8f=_0x43ebec;let _0x190943=[],_0x83e0b8=dbLogs['get'](_0x242e8f(0x14e))[_0x242e8f(0x1c4)](_0x4e6df9=>{const _0x3f7cb6=_0x242e8f,_0x2123bd=_0x4e6df9[_0x3f7cb6(0x194)][_0x3f7cb6(0xad)]();return _0x2123bd[_0x3f7cb6(0x169)](_0x12a985[_0x3f7cb6(0xad)]())&&(_0x2123bd[_0x3f7cb6(0x169)](_0x3f7cb6(0x104))&&_0x2123bd[_0x3f7cb6(0x169)](_0x3f7cb6(0x108))||_0x2123bd['includes'](_0x3f7cb6(0x102))&&_0x2123bd[_0x3f7cb6(0x169)](_0x3f7cb6(0x108)));})['sortBy']('time')[_0x242e8f(0x173)]();return _0x83e0b8['forEach'](_0x1eb519=>{const _0x36f749=_0x242e8f,_0x322adb=_0x1eb519[_0x36f749(0x194)][_0x36f749(0x169)]('sell')?_0x36f749(0xee):_0x36f749(0x160),_0x5c30c8=/#([0-9]|\.)+\s/i,_0x3c1d2b=Number(_0x5c30c8[_0x36f749(0x1e5)](_0x1eb519[_0x36f749(0x194)])[0x0][_0x36f749(0xb6)](0x1)),_0x5ad9b9=/@([0-9]|\.)+$/i,_0x204fa0=Number(_0x5ad9b9[_0x36f749(0x1e5)](_0x1eb519[_0x36f749(0x194)])[0x0][_0x36f749(0xb6)](0x1));_0x190943['push']({'datetime':_0x1eb519[_0x36f749(0x133)],'coin':symbolToCoin(_0x12a985),'symbol':_0x12a985,'side':_0x322adb,'amount':_0x3c1d2b,'filled':_0x3c1d2b,'price':_0x204fa0});}),_0x190943;}async function getAllOrders(_0x18b7e0,_0x59b0e6){const _0x587328=_0x43ebec;let _0x1965fd=[];while(_0x59b0e6<exchange[_0x587328(0x1a6)]()){const _0x5997cc=0x1f4,_0x546543=await exchange[_0x587328(0x111)](_0x18b7e0,_0x59b0e6,_0x5997cc);if(_0x546543[_0x587328(0x17f)])_0x59b0e6=_0x546543[_0x546543[_0x587328(0x17f)]-0x1][_0x587328(0x103)]+0x1,_0x1965fd=_0x1965fd[_0x587328(0x1eb)](_0x546543);else break;}return _0x1965fd;}async function validate24hChanges(){const _0x5967d1=_0x43ebec;for(const _0x9fbd27 of currentCoins){if(_0x9fbd27[_0x5967d1(0x171)]!=config[_0x5967d1(0x1c9)]){let _0x3214d9;_0x9fbd27[_0x5967d1(0xec)]?_0x3214d9=formatResult((0x1/(global[_0x5967d1(0xd4)][noslash(_0x9fbd27[_0x5967d1(0x1f4)])]/0x64+0x1)-0x1)*0x64,0x3):_0x3214d9=global[_0x5967d1(0xd4)][noslash(_0x9fbd27[_0x5967d1(0x1f4)])],_0x3214d9<config[_0x5967d1(0x196)]&&(logHistory('error',_0x9fbd27[_0x5967d1(0x171)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x3214d9+'%'),logHistory('error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x5967d1(0x154),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x1c9793,_0xda5327){const _0x4946f4=_0x43ebec;if(!_0x1c9793)return!![];const _0x250fa2=_0xda5327[_0x4946f4(0x7f)]('.'),_0x5760b9=_0x1c9793[_0x4946f4(0x7f)]('.');for(var _0x2a18cc=0x0;_0x2a18cc<_0x5760b9[_0x4946f4(0x17f)];_0x2a18cc++){const _0x44c987=~~_0x5760b9[_0x2a18cc],_0x3d40e4=~~_0x250fa2[_0x2a18cc];if(_0x44c987<_0x3d40e4)return!![];if(_0x44c987>_0x3d40e4)return![];}return![];}async function oneTimeMigration(){const _0x3b236b=_0x43ebec;let _0x127f29=dbLogs['get'](_0x3b236b(0x156))['value']();if(isOlderVersion(_0x127f29,_0x3b236b(0xc0))){let _0x16ce3e=[];const _0x45d191=dbLogs[_0x3b236b(0x176)](_0x3b236b(0x14e))[_0x3b236b(0x173)]();_0x45d191[_0x3b236b(0xe1)](_0x45425f=>{const _0x50c901=_0x3b236b;_0x16ce3e[_0x50c901(0x93)]({'time':_0x45425f['time'],'type':_0x45425f[_0x50c901(0x1bb)],'event':_0x45425f[_0x50c901(0x194)]});}),dbLogs[_0x3b236b(0x176)](_0x3b236b(0x14e))['assign'](_0x16ce3e)[_0x3b236b(0xa0)]();}let _0x1fcb06=dbConfig['get'](_0x3b236b(0x156))[_0x3b236b(0x173)]();if(isOlderVersion(_0x1fcb06,_0x3b236b(0xc0))){let _0x2c512f=dbConfig['get']('bot')[_0x3b236b(0x12b)]({'botID':botID})[_0x3b236b(0x173)]();if(_0x2c512f){let _0x406c88=[];_0x2c512f[_0x3b236b(0x92)]['forEach'](_0x32c686=>{const _0x4c58be=_0x3b236b;_0x406c88[_0x4c58be(0x93)]({'coin':_0x32c686[_0x4c58be(0x171)],'number':_0x32c686['startnumber'],'price':_0x32c686[_0x4c58be(0x16a)]}),delete _0x32c686['startnumber'],delete _0x32c686[_0x4c58be(0x16a)];});if(_0x406c88[_0x3b236b(0x17f)]!==0x0)fs[_0x3b236b(0x11c)](configbackuppath+(_0x3b236b(0xaa)+botID+_0x3b236b(0xdc)),JSON[_0x3b236b(0x16c)](_0x406c88,null,0x4),function(_0x343bc4){if(_0x343bc4){}});const _0x492862=(_0x4c3c1d,_0x24c7e4)=>{const _0xddcfb6=_0x3b236b;let _0x44a734=[];_0x24c7e4['forEach'](_0x1d42c8=>{const _0x28fa13=_0x4219,_0x8692e9=_0x4c3c1d['find'](_0x194742=>_0x194742['coin']==_0x1d42c8[_0x28fa13(0x171)]);if(!_0x8692e9)_0x44a734[_0x28fa13(0x93)](_0x1d42c8);});let _0x5314e0=[];return _0x4c3c1d[_0xddcfb6(0xe1)](_0x39f79f=>{const _0x3cc67c=_0xddcfb6,_0x1cd726=_0x24c7e4[_0x3cc67c(0x12b)](_0x4a307a=>_0x4a307a[_0x3cc67c(0x171)]==_0x39f79f[_0x3cc67c(0x171)]);if(!_0x1cd726||_0x1cd726['number']==0x0&&_0x39f79f[_0x3cc67c(0x141)]!=0x0)_0x5314e0[_0x3cc67c(0x93)](_0x39f79f);}),{'missingDay1':_0x44a734,'notInDay2':_0x5314e0};},_0x58e90b=dbPerformance[_0x3b236b(0x176)]('data')[_0x3b236b(0xb3)]()[_0x3b236b(0x173)]();if(_0x58e90b['length']>0x1){const {missingDay1:_0x45cd78,notInDay2:_0x461a3e}=_0x492862(_0x406c88,_0x58e90b[0x1][_0x3b236b(0xb2)]);_0x406c88=[..._0x406c88,..._0x45cd78],_0x461a3e[_0x3b236b(0xe1)](_0x2ffe1c=>{const _0x4c72d1=_0x3b236b;let _0x421d48=_0x406c88[_0x4c72d1(0xd7)](_0x336406=>_0x336406[_0x4c72d1(0x171)]==_0x2ffe1c[_0x4c72d1(0x171)]);_0x421d48!=-0x1&&_0x406c88[_0x4c72d1(0x179)](_0x421d48,0x1);});}_0x406c88[_0x3b236b(0x1f8)]((_0xc29ac5,_0x4f05af)=>_0xc29ac5[_0x3b236b(0x171)]>_0x4f05af[_0x3b236b(0x171)]?0x1:_0x4f05af['coin']>_0xc29ac5[_0x3b236b(0x171)]?-0x1:0x0);let _0x4bdf02=[{'date':_0x2c512f[_0x3b236b(0x110)],'changes':_0x406c88}];_0x58e90b[_0x3b236b(0x17f)]>0x2&&_0x58e90b[_0x3b236b(0xe1)]((_0x3837d0,_0x3af1ef)=>{const _0x343097=_0x3b236b;if(_0x3af1ef>0x0&&_0x3af1ef<_0x58e90b['length']-0x1){const {missingDay1:_0x3fb8da,notInDay2:_0x1a975d}=_0x492862(_0x58e90b[_0x3af1ef][_0x343097(0xb2)],_0x58e90b[_0x3af1ef+0x1]['coins']);_0x406c88=[],(_0x3fb8da[_0x343097(0x17f)]!=0x0||_0x1a975d[_0x343097(0x17f)]!=0x0)&&(_0x3fb8da[_0x343097(0x17f)]!=0x0&&_0x406c88[_0x343097(0x93)](..._0x3fb8da),_0x1a975d[_0x343097(0x17f)]!=0x0&&(_0x1a975d[_0x343097(0xe1)](_0x5ec910=>{const _0x3723a5=_0x343097;_0x5ec910['number']=-_0x5ec910[_0x3723a5(0x141)];}),_0x406c88[_0x343097(0x93)](..._0x1a975d)),_0x406c88[_0x343097(0x1f8)]((_0x33c124,_0x1f2c77)=>_0x33c124['coin']>_0x1f2c77[_0x343097(0x171)]?0x1:_0x1f2c77[_0x343097(0x171)]>_0x33c124[_0x343097(0x171)]?-0x1:0x0),_0x4bdf02[_0x343097(0x93)]({'date':_0x58e90b[_0x3af1ef+0x1][_0x343097(0xcc)],'changes':_0x406c88}));}}),dbConfig[_0x3b236b(0x176)](_0x3b236b(0x14d))[_0x3b236b(0x12b)]({'botID':botID})[_0x3b236b(0xf8)]({..._0x2c512f,'liquidity':_0x4bdf02})[_0x3b236b(0xa0)]();}}if(isOlderVersion(_0x1fcb06,_0x3b236b(0xa5))){let _0x309be5=dbConfig['get'](_0x3b236b(0x14d))[_0x3b236b(0x12b)]({'botID':botID})[_0x3b236b(0x173)]();if(_0x309be5){const _0x3c57c9=_0x309be5[_0x3b236b(0xab)],_0x2fdd55=_0x3c57c9?capitalize(_0x3c57c9):_0x3b236b(0x1ab);dbConfig[_0x3b236b(0x176)]('bot')[_0x3b236b(0x12b)]({'botID':botID})[_0x3b236b(0xf8)]({'exchange':_0x2fdd55})[_0x3b236b(0xa0)]();}}let _0x514808=dbPerformance[_0x3b236b(0x176)]('version')[_0x3b236b(0x173)]();isOlderVersion(_0x514808,_0x3b236b(0xc0))&&setStartDatePerformance();let _0x1c82d2=dbCoinResults['get'](_0x3b236b(0x156))[_0x3b236b(0x173)]();if(isOlderVersion(_0x1c82d2,_0x3b236b(0xda))){let _0x30f47e=dbCoinResults[_0x3b236b(0x176)]('coins')[_0x3b236b(0x173)]();if(_0x30f47e[_0x3b236b(0x17f)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x36c8f0=_0x43ebec;dbConfig[_0x36c8f0(0x18e)](_0x36c8f0(0x156),serverversion)['write'](),dbPerformance[_0x36c8f0(0x18e)]('version',serverversion)['write'](),dbLogs[_0x36c8f0(0x18e)](_0x36c8f0(0x156),serverversion)[_0x36c8f0(0xa0)](),dbCoinResults['set'](_0x36c8f0(0x156),serverversion)[_0x36c8f0(0xa0)]();}function getConfiguration(_0x2e1072){const _0x5d0bc0=_0x43ebec;let _0x4f3342=dbConfig[_0x5d0bc0(0x176)](_0x5d0bc0(0x14d))[_0x5d0bc0(0x12b)]({'botID':_0x2e1072})[_0x5d0bc0(0x173)]();if(_0x4f3342){let _0x4fcc1b=![];typeof _0x4f3342[_0x5d0bc0(0xc1)]==_0x5d0bc0(0x15e)&&(_0x4f3342={..._0x4f3342,'threshold':Number(_0x4f3342['threshold'])},_0x4fcc1b=!![]),_0x4f3342[_0x5d0bc0(0x196)]==null&&(_0x4f3342={..._0x4f3342,'change24h':-0x14},_0x4fcc1b=!![]),!_0x4f3342[_0x5d0bc0(0x1d3)]&&(_0x4f3342={..._0x4f3342,'fiat':_0x5d0bc0(0xc7)},_0x4fcc1b=!![]),!_0x4f3342[_0x5d0bc0(0x1a2)]&&(_0x4f3342={..._0x4f3342,'onepagemode':settings[_0x5d0bc0(0x1a2)]},_0x4fcc1b=!![]),_0x4fcc1b&&(_0x4f3342={'botID':_0x4f3342[_0x5d0bc0(0x197)],'exchange':_0x4f3342[_0x5d0bc0(0xab)],'apiKey':_0x4f3342[_0x5d0bc0(0x8e)],'apiSecret':_0x4f3342[_0x5d0bc0(0x186)],'apiPassword':_0x4f3342['apiPassword'],'basecoin':_0x4f3342[_0x5d0bc0(0x1c9)],'botname':_0x4f3342[_0x5d0bc0(0xe4)],'showname':_0x4f3342[_0x5d0bc0(0xaf)],'threshold':_0x4f3342[_0x5d0bc0(0xc1)],'ordertype':_0x4f3342[_0x5d0bc0(0x153)],'timeout':_0x4f3342[_0x5d0bc0(0x123)],'fiat':_0x4f3342[_0x5d0bc0(0x1d3)],'startdate':_0x4f3342['startdate'],'recreate':_0x4f3342[_0x5d0bc0(0x7b)],'timeshift':_0x4f3342[_0x5d0bc0(0x205)],'onepagemode':_0x4f3342[_0x5d0bc0(0x1a2)],'headless':_0x4f3342['headless'],'cooldown':_0x4f3342[_0x5d0bc0(0x172)],'change24h':_0x4f3342['change24h'],'emojibuy':_0x4f3342['emojibuy'],'emojisell':_0x4f3342[_0x5d0bc0(0x16b)],'portfolio':_0x4f3342['portfolio'],'liquidity':_0x4f3342[_0x5d0bc0(0x189)],'openOrders':_0x4f3342['openOrders']},dbConfig[_0x5d0bc0(0x176)](_0x5d0bc0(0x14d))[_0x5d0bc0(0x9d)]()['write'](),dbConfig[_0x5d0bc0(0x176)]('bot')[_0x5d0bc0(0x93)](_0x4f3342)[_0x5d0bc0(0xa0)]());}else _0x4f3342={'botID':_0x2e1072,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x5d0bc0(0xe6)+_0x2e1072,'showname':![],'threshold':0x3,'ordertype':_0x5d0bc0(0x104),'timeout':0x14,'fiat':_0x5d0bc0(0xc7),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x5d0bc0(0x205)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4f3342;}function emittedConfiguration(){const _0x56ae7c=_0x43ebec;let _0x109079;if(config[_0x56ae7c(0x8e)]=='')_0x109079={...config,'configstate':_0x56ae7c(0xd8)};else config[_0x56ae7c(0x8e)]==_0x56ae7c(0x1b6)?_0x109079={...config,'configstate':'recovery'}:(_0x109079={...config,'apiKey':_0x56ae7c(0x149),'apiSecret':_0x56ae7c(0x149)},config[_0x56ae7c(0x1ce)]&&(_0x109079['apiPassword']=_0x56ae7c(0x149)));return _0x109079;}function getSettings(){const _0xd55a7a=_0x43ebec;return dbSettings[_0xd55a7a(0x176)](_0xd55a7a(0x113))[_0xd55a7a(0x173)]();}function getSecure(){const _0x557dfa=_0x43ebec;return dbSecure[_0x557dfa(0x176)]('secure')['value']()||{};}function updateTimeshift(_0x4befaf){const _0x511196=_0x43ebec;let _0x46d21b=dbConfig[_0x511196(0x176)]('bot')[_0x511196(0x12b)]({'botID':botID})[_0x511196(0x173)]();_0x46d21b&&dbConfig[_0x511196(0x176)](_0x511196(0x14d))[_0x511196(0x12b)]({'botID':botID})[_0x511196(0xf8)]({'timeshift':_0x4befaf})['write'](),config[_0x511196(0x205)]=_0x4befaf,proxyEmit(_0x511196(0x126),emittedConfiguration());}function updateOnepagemode(_0x393b86){const _0x5dbf96=_0x43ebec;let _0x28ee64=dbConfig[_0x5dbf96(0x176)]('bot')[_0x5dbf96(0x12b)]({'botID':botID})[_0x5dbf96(0x173)]();_0x28ee64&&dbConfig[_0x5dbf96(0x176)](_0x5dbf96(0x14d))[_0x5dbf96(0x12b)]({'botID':botID})[_0x5dbf96(0xf8)]({'onepagemode':_0x393b86})[_0x5dbf96(0xa0)](),config[_0x5dbf96(0x1a2)]=_0x393b86,proxyEmit(_0x5dbf96(0x126),emittedConfiguration());}async function storeConfiguration(_0x11a06f){const _0x25040a=_0x43ebec;logger[_0x25040a(0xe0)](_0x25040a(0x17d));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug'](_0x25040a(0x1f7));let _0x2c391a=[],_0x1c2100=![],_0x18fe8e=![],_0x435696=[];_0x11a06f[_0x25040a(0x92)]['forEach'](_0x4ded3d=>{const _0x34368e=_0x25040a;if(!_0x4ded3d[_0x34368e(0x1ef)]&&_0x4ded3d['coin']!=_0x11a06f[_0x34368e(0x1c9)])_0x435696[_0x34368e(0x93)](_0x4ded3d[_0x34368e(0x1f4)]);}),_0x435696[_0x25040a(0xe1)](_0x271cde=>{const _0x2a1b89=_0x25040a,_0x549858=watchedSymbols[_0x2a1b89(0x169)](_0x271cde);!_0x549858&&_0x2c391a[_0x2a1b89(0x93)](_0x271cde);});_0x2c391a[_0x25040a(0x17f)]>0x0?_0x1c2100=!![]:currentCoins['forEach'](_0x154679=>{const _0x1bb272=_0x25040a;if(_0x154679[_0x1bb272(0x171)]!=config[_0x1bb272(0x1c9)]){const _0x13395e=_0x435696[_0x1bb272(0x12b)](_0x4420f7=>_0x4420f7==_0x154679['symbol']);!_0x13395e&&(_0x1c2100=!![]);}});_0x11a06f[_0x25040a(0x92)]['forEach'](_0x113313=>{const _0x2bf220=_0x25040a,_0x1aee97=config[_0x2bf220(0x92)]['find'](_0x39fd90=>_0x39fd90[_0x2bf220(0x171)]==_0x113313[_0x2bf220(0x171)]);if(_0x1aee97&&_0x113313[_0x2bf220(0x1fe)]!=_0x1aee97[_0x2bf220(0x1fe)])_0x18fe8e=!![];});let _0x15c7fc=dbConfig[_0x25040a(0x176)](_0x25040a(0x14d))[_0x25040a(0x12b)]({'botID':botID})[_0x25040a(0x173)]();_0x11a06f={..._0x11a06f,'apiKey':crypt[_0x25040a(0xdb)](secure[_0x25040a(0x134)],_0x11a06f[_0x25040a(0x8e)])['message'],'apiSecret':crypt[_0x25040a(0xdb)](secure['privateKey'],_0x11a06f['apiSecret'])[_0x25040a(0xff)]};_0x11a06f[_0x25040a(0x1ce)]&&(_0x11a06f[_0x25040a(0x1ce)]=crypt[_0x25040a(0xdb)](secure[_0x25040a(0x134)],_0x11a06f['apiPassword'])[_0x25040a(0xff)]);let _0x45e6fd=![];if(_0x15c7fc){_0x11a06f[_0x25040a(0x8e)]==_0x25040a(0x149)?_0x11a06f[_0x25040a(0x8e)]=config['apiKey']:_0x45e6fd=!![];_0x11a06f['apiSecret']==_0x25040a(0x149)?_0x11a06f['apiSecret']=config['apiSecret']:_0x45e6fd=!![];if(_0x11a06f[_0x25040a(0x1ce)]=='************')_0x11a06f['apiPassword']=config[_0x25040a(0x1ce)];else{if(_0x11a06f[_0x25040a(0x1ce)])_0x45e6fd=!![];}dbConfig[_0x25040a(0x176)](_0x25040a(0x14d))[_0x25040a(0x12b)]({'botID':botID})[_0x25040a(0xf8)](_0x11a06f)['write']();}else dbConfig[_0x25040a(0x176)](_0x25040a(0x14d))[_0x25040a(0x93)](_0x11a06f)[_0x25040a(0xa0)](),_0x45e6fd=!![],process[_0x25040a(0x18c)]({'status':'enabled','live':_0x25040a(0xb1)},_0x4ddeac=>{});process[_0x25040a(0x18c)]({'botname':_0x11a06f['botname']},_0x4a713c=>{}),updateBotManager(),config={..._0x11a06f},proxyEmit(_0x25040a(0x100)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x45e6fd)await reset(_0x2c391a,!![]);else _0x1c2100||_0x18fe8e?await reset(_0x2c391a,![]):getBalances();blockTransactionDetection=![],logger[_0x25040a(0xe0)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x3bdd6e){const _0x2fea2d=_0x43ebec,_0x4db79c={...config,'headless':_0x3bdd6e[_0x2fea2d(0x17a)]};let _0x2ff01b=dbConfig[_0x2fea2d(0x176)](_0x2fea2d(0x14d))['find']({'botID':botID})[_0x2fea2d(0x173)]();_0x2ff01b&&dbConfig[_0x2fea2d(0x176)](_0x2fea2d(0x14d))['find']({'botID':botID})[_0x2fea2d(0xf8)](_0x4db79c)[_0x2fea2d(0xa0)](),config={..._0x4db79c},updateBotManager(),proxyEmit(_0x2fea2d(0x126),emittedConfiguration());}async function storeFiat(_0x44eccd){const _0x277495=_0x43ebec,_0x4f72f5={...config,'fiat':_0x44eccd};let _0x3da412=dbConfig[_0x277495(0x176)](_0x277495(0x14d))[_0x277495(0x12b)]({'botID':botID})[_0x277495(0x173)]();_0x3da412&&dbConfig[_0x277495(0x176)](_0x277495(0x14d))[_0x277495(0x12b)]({'botID':botID})[_0x277495(0xf8)](_0x4f72f5)[_0x277495(0xa0)](),config={..._0x4f72f5},proxyEmit(_0x277495(0x126),emittedConfiguration());}function resetHistory(){const _0x2fd8a0=_0x43ebec;logger[_0x2fd8a0(0x164)](_0x2fd8a0(0x1c5));try{if(fs[_0x2fd8a0(0x1dc)](path['join'](configpath,_0x2fd8a0(0x97)+botID+_0x2fd8a0(0x84))))fs[_0x2fd8a0(0x17e)](path[_0x2fd8a0(0xba)](configpath,_0x2fd8a0(0x97)+botID+_0x2fd8a0(0x84)));if(fs[_0x2fd8a0(0x1dc)](path['join'](configpath,_0x2fd8a0(0x97)+botID+_0x2fd8a0(0x1de))))fs[_0x2fd8a0(0x17e)](path['join'](configpath,_0x2fd8a0(0x97)+botID+_0x2fd8a0(0x1de)));if(fs[_0x2fd8a0(0x1dc)](path[_0x2fd8a0(0xba)](configpath,_0x2fd8a0(0x97)+botID+_0x2fd8a0(0x150))))fs[_0x2fd8a0(0x17e)](path[_0x2fd8a0(0xba)](configpath,_0x2fd8a0(0x97)+botID+_0x2fd8a0(0x150)));}catch(_0x39c474){if(_0x39c474)logger[_0x2fd8a0(0x164)](_0x2fd8a0(0x1b5),_0x39c474);}const _0x4815b5=getDate();let _0x386df0=[];currentCoins[_0x2fd8a0(0xe1)](_0x18603b=>{const _0x299cd7=_0x2fd8a0;_0x386df0[_0x299cd7(0x93)]({'coin':_0x18603b[_0x299cd7(0x171)],'number':_0x18603b[_0x299cd7(0x141)],'price':_0x18603b[_0x299cd7(0x19e)]});});let _0x5373a0=dbConfig[_0x2fd8a0(0x176)]('bot')[_0x2fd8a0(0x12b)]({'botID':botID})[_0x2fd8a0(0x173)]();_0x5373a0&&(dbConfig[_0x2fd8a0(0x176)](_0x2fd8a0(0x14d))[_0x2fd8a0(0x12b)]({'botID':botID})[_0x2fd8a0(0xf8)]({'liquidity':[{'date':_0x4815b5,'changes':_0x386df0}]})['write'](),config['liquidity']=[]),process[_0x2fd8a0(0x18c)]({'stop':'restart'},_0xcdb20c=>{});}function noslash(_0x86c8a1){const _0x3d8847=_0x43ebec;return _0x86c8a1[_0x3d8847(0x1ae)]('/','');}function updateHighestFee(_0x749cbb,_0x4a76d4){const _0x44894d=_0x43ebec;lastFees[_0x44894d(0x1b8)]=_0x749cbb,lastFees['recent20']['length']===0x14&&lastFees['recent20']['shift'](),lastFees[_0x44894d(0x1e0)][_0x44894d(0x93)](_0x4a76d4),lastFees[_0x44894d(0x1c3)]=Math['max'](...lastFees[_0x44894d(0x1e0)]);}async function updateNumberCoinsCcxt(_0x688332){const _0x90a856=_0x43ebec;logger[_0x90a856(0xe0)](_0x90a856(0x9e)+_0x688332[_0x90a856(0x1f4)]+_0x90a856(0xac)+_0x688332[_0x90a856(0x118)]+'\x20|\x20'+_0x688332['id']+_0x90a856(0xac)+_0x688332[_0x90a856(0xa7)]);let _0xed0d00=_0x688332[_0x90a856(0x118)],_0x383461=![];currentCoins[_0x90a856(0xe1)](_0x10af71=>{const _0x181227=_0x90a856;_0x10af71[_0x181227(0x1f4)]==_0x688332[_0x181227(0x1f4)]&&(_0x383461=!![]);});if(!_0x383461)return;const _0x13e396=currentCoins[_0x90a856(0x12b)](_0x528b1f=>_0x528b1f[_0x90a856(0x1f4)]==_0x688332[_0x90a856(0x1f4)]),_0x5c121d=_0x1ace3d=>{if(_0x13e396)_0x13e396['orderstatus']=_0x1ace3d;};if(_0xed0d00==_0x90a856(0x8c))_0x5c121d(_0x90a856(0x8c));else{if(_0xed0d00==_0x90a856(0x1d1)){_0x5c121d(_0x90a856(0x1d1));const _0x177179=await getCoins();[currentCoins,currentCoinsAll]=_0x177179,await getOpenOrders(),handleOpenOrders();}else{if(_0xed0d00==_0x90a856(0x8b)){logger[_0x90a856(0xe0)](_0x90a856(0x86)+_0x688332[_0x90a856(0x1f4)]+_0x90a856(0xac)+_0x688332[_0x90a856(0x102)]+_0x90a856(0xac)+_0x688332['id']+_0x90a856(0xac)+_0x688332[_0x90a856(0xa7)]);let _0x27f167=![];if(lastOrders)lastOrders[_0x90a856(0xe1)](async _0x520845=>{const _0x5087c0=_0x90a856;if(_0x520845[_0x5087c0(0x202)]==_0x688332[_0x5087c0(0xa7)]){logger[_0x5087c0(0xe0)](_0x5087c0(0x124)+_0x688332[_0x5087c0(0xa7)]),_0x27f167=!![];if(_0x520845[_0x5087c0(0x102)]==0x0){logger[_0x5087c0(0xe0)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x688332[_0x5087c0(0xa7)]);if(_0x688332[_0x5087c0(0x15c)])_0x520845[_0x5087c0(0x107)]=_0x688332[_0x5087c0(0x15c)];else{if(_0x688332[_0x5087c0(0x107)])_0x520845['price']=_0x688332[_0x5087c0(0x107)];else{}}_0x520845[_0x5087c0(0x102)]=_0x688332[_0x5087c0(0x102)],_0x520845[_0x5087c0(0x95)]={'currency':_0x688332[_0x5087c0(0x95)]?_0x688332['fee'][_0x5087c0(0x1b8)]:null,'cost':_0x688332[_0x5087c0(0x95)]?_0x688332[_0x5087c0(0x95)][_0x5087c0(0x184)]:0x0},updateHighestFee(_0x520845[_0x5087c0(0x95)][_0x5087c0(0x1b8)],_0x520845[_0x5087c0(0x95)]['cost']),_0x5c121d(_0x5087c0(0x102)),await validateOrders();if(lockOrders==ORDERS[_0x5087c0(0x10d)]){const _0x55588a=await getCoins();[currentCoins,currentCoinsAll]=_0x55588a;}await updateCoinResults(_0x520845);}}});if(!_0x27f167){logger[_0x90a856(0xe0)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x688332['id']),_0x5c121d(_0x90a856(0x102));const _0x16c95d=await getCoins();[currentCoins,currentCoinsAll]=_0x16c95d,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x5e2b4a=JSON[_0x90a856(0x1d9)](lastBalances[_0x90a856(0x92)]);const _0x145fb2=_0x5e2b4a[_0x90a856(0x12b)](_0x1576a1=>_0x1576a1[_0x90a856(0x1f4)]==_0x688332[_0x90a856(0x1f4)]);if(_0x145fb2){if(_0xed0d00==_0x90a856(0x8c))_0x145fb2[_0x90a856(0x19a)]=_0x145fb2[_0x90a856(0x19a)]==_0x90a856(0x102)?_0x90a856(0x102):_0x90a856(0x8c);else{if(_0xed0d00==_0x90a856(0x1d1))_0x145fb2[_0x90a856(0x19a)]=_0x145fb2['orderstatus']==_0x90a856(0x102)?'filled':'canceled';else _0xed0d00==_0x90a856(0x8b)&&(_0x145fb2[_0x90a856(0x19a)]=_0x90a856(0x102));}}lastBalances={...lastBalances,'portfolio':JSON[_0x90a856(0x16c)](_0x5e2b4a)},proxyEmit(_0x90a856(0x1e4),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x33fe96=_0x43ebec;await getOpenOrders();let _0x31e837=![];currentCoins[_0x33fe96(0xe1)](_0x431a60=>{const _0x270f25=_0x33fe96;_0x31e837=allOpenOrders['find'](_0x1639c2=>_0x1639c2[_0x270f25(0x1f4)]==_0x431a60[_0x270f25(0x1f4)]),_0x431a60['orderstatus']=_0x31e837?_0x270f25(0x8c):'none';});}async function getCoins(_0x14701c=!![],_0x1ede5c=config[_0x43ebec(0x1c9)]){const _0x478e67=_0x43ebec;let _0x170eda,_0x121084=[],_0x1899c5=[],_0x4a9b9=[],_0xbe30c7=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x170eda=await exchange['fetchBalance'](),mybalances=_0x170eda[_0x478e67(0x1e8)];for(const [_0x4a8e78,_0x3e5bab]of Object[_0x478e67(0x1a8)](mybalances)){_0xbe30c7[_0x478e67(0x93)](_0x4a8e78);}if(_0x1ede5c=='')for(const [_0x4e0aea,_0xa0b56b]of Object[_0x478e67(0x1a8)](mybalances)){_0xa0b56b[_0x478e67(0xcb)]()!=0x0&&_0x1899c5['push']({'coin':_0x4e0aea});}else{let _0x21066c=![];for(const [_0x1c9ec,_0x5ab061]of Object[_0x478e67(0x1a8)](mybalances)){if(_0xbe30c7[_0x478e67(0x169)](_0x1c9ec)){const _0x29766f=config['portfolio'][_0x478e67(0x12b)](_0x41e1b7=>_0x41e1b7[_0x478e67(0x171)]==_0x1c9ec),_0x4b414e=_0x1c9ec+'/'+_0x1ede5c,_0x24e5c8=_0x1ede5c+'/'+_0x1c9ec,_0x72c1af=currentCoins[_0x478e67(0x12b)](_0x20bb9b=>_0x20bb9b[_0x478e67(0x171)]==_0x1c9ec);_0x21066c=![];if((_0x5ab061[_0x478e67(0xcb)]()!=0x0||_0x29766f)&&(allSymbols[_0x478e67(0x169)](_0x4b414e)||_0x1c9ec==_0x1ede5c))_0x1c9ec!=_0x1ede5c&&_0x121084['push'](_0x4b414e),_0x1899c5[_0x478e67(0x93)]({'coin':_0x1c9ec,'symbol':_0x4b414e,'reverse':![],'number':Math['max'](_0x5ab061+(_0x29766f&&_0x29766f[_0x478e67(0x1fe)]||0x0),0x0),'orderstatus':_0x72c1af?_0x72c1af['orderstatus']:_0x478e67(0x174)});else(_0x5ab061[_0x478e67(0xcb)]()!=0x0||_0x29766f)&&allSymbols[_0x478e67(0x169)](_0x24e5c8)&&(_0x1c9ec!=_0x1ede5c&&_0x121084[_0x478e67(0x93)](_0x24e5c8),_0x1899c5[_0x478e67(0x93)]({'coin':_0x1c9ec,'symbol':_0x24e5c8,'reverse':!![],'number':Math['max'](_0x5ab061+(_0x29766f&&_0x29766f[_0x478e67(0x1fe)]||0x0),0x0),'orderstatus':_0x72c1af?_0x72c1af[_0x478e67(0x19a)]:'none'}));}}}}catch(_0x5863e4){if(!_0x14701c)handleErrorNoStop(_0x5863e4,'getCoins()');else await handleError(_0x5863e4,_0x478e67(0x1c2));}return _0x4a9b9=cloneDeep(_0x1899c5),_0x1899c5=_0x1899c5['filter'](_0x158a07=>{const _0x589ad2=_0x478e67,_0x3125a1=config[_0x589ad2(0x92)][_0x589ad2(0x12b)](_0x4c1475=>_0x4c1475[_0x589ad2(0x171)]==_0x158a07['coin']);return _0x3125a1&&!_0x3125a1[_0x589ad2(0x1ef)];}),[_0x1899c5,_0x4a9b9];}async function getCoinNumber(_0x118951){const _0x357560=_0x43ebec;let _0x5a72a6;try{const _0x9554aa=await exchange[_0x357560(0x1df)]();_0x5a72a6=_0x9554aa['total'][_0x118951];}catch(_0x282dd9){await handleError(_0x282dd9,_0x357560(0x1d6));}return _0x5a72a6;}async function getOpenOrders(){const _0x937aa4=_0x43ebec;let _0x5ed005;allOpenOrders=[];try{for(const _0x25e0d3 of config[_0x937aa4(0x92)]){!_0x25e0d3[_0x937aa4(0x1ef)]&&_0x25e0d3['coin']!=config['basecoin']&&(_0x5ed005=await exchange[_0x937aa4(0x1f6)](_0x25e0d3[_0x937aa4(0x1f4)]),_0x5ed005[_0x937aa4(0x17f)]>0x0&&allOpenOrders['push'](_0x5ed005[0x0]));}}catch(_0x471f5d){await handleError(_0x471f5d,'getOpenOrders()');}}async function handleOpenOrders(_0x1e62c3=0x0){const _0x49c8c6=_0x43ebec;allOpenOrders[_0x49c8c6(0x17f)]==0x0&&lockOrders==ORDERS[_0x49c8c6(0x10d)]&&allOrdersPlaced&&(_0x1e62c3==0x0?(logger[_0x49c8c6(0xe0)](_0x49c8c6(0x201)),_0x1e62c3++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x49c8c6(0xe0)](_0x49c8c6(0x191)),validateOrders(_0x49c8c6(0x14b))));}async function testAPI(_0x1b98ee){const _0x48baaa=_0x43ebec,_0x29348a=ccxt[_0x1b98ee[_0x48baaa(0xab)][_0x48baaa(0xad)]()],_0x489773=new _0x29348a({'apiKey':_0x1b98ee[_0x48baaa(0x8e)],'secret':_0x1b98ee[_0x48baaa(0x186)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x1b98ee[_0x48baaa(0x1ce)])_0x489773[_0x48baaa(0x89)]=_0x1b98ee[_0x48baaa(0x1ce)];try{await _0x489773[_0x48baaa(0x1f3)]();}catch(_0x2eb691){throw _0x2eb691;}}function cloneDeep(_0x23009f){const _0x31ea9e=_0x43ebec;return JSON[_0x31ea9e(0x1d9)](JSON[_0x31ea9e(0x16c)](_0x23009f));}async function getPortfolio(_0x2679a3){const _0x2486d3=_0x43ebec;let _0x3c9f7b=[],_0x2d883b=[],_0x364056=[],_0x3523d7;if(_0x2679a3['apiKey']!=='************'||_0x2679a3[_0x2486d3(0x186)]!=='************'||_0x2679a3[_0x2486d3(0x1ce)]&&_0x2679a3[_0x2486d3(0x1ce)]!==_0x2486d3(0x149)){if(config[_0x2486d3(0xab)]){if(_0x2679a3[_0x2486d3(0x8e)]==_0x2486d3(0x149))_0x2679a3['apiKey']=config[_0x2486d3(0x8e)];if(_0x2679a3[_0x2486d3(0x186)]=='************')_0x2679a3['apiSecret']=config['apiSecret'];if(_0x2679a3[_0x2486d3(0x1ce)]==_0x2486d3(0x149))_0x2679a3[_0x2486d3(0x1ce)]=config[_0x2486d3(0x1ce)];try{await testAPI(_0x2679a3);}catch(_0x33acbe){if(_0x33acbe[_0x2486d3(0xcb)]()['includes'](_0x2486d3(0x138))){logger[_0x2486d3(0xe0)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit('portfolio',![]);return;}else{handleError(_0x33acbe,'getPortfolio(0)');return;}}}await initExchange(_0x2679a3[_0x2486d3(0xab)],_0x2679a3[_0x2486d3(0x8e)],_0x2679a3['apiSecret'],_0x2679a3['apiPassword']);try{await loadSymbols(_0x2679a3[_0x2486d3(0xab)],!![]);}catch(_0x2fee27){if(_0x2fee27[_0x2486d3(0xcb)]()['includes'](_0x2486d3(0x138))){proxyEmit('portfolio',![]);return;}else{handleError(_0x2fee27,_0x2486d3(0x1a1));return;}}const _0x5c0994=await getCoins(![],_0x2679a3[_0x2486d3(0x1c9)]);_0x364056=cloneDeep(_0x5c0994[0x1]);}else _0x364056=cloneDeep(currentCoinsAll);if(_0x2679a3[_0x2486d3(0x1c9)]=='')proxyEmit(_0x2486d3(0x92),_0x364056);else{_0x364056['forEach'](_0x2c1f7b=>{const _0x20b987=_0x2486d3;if(_0x2c1f7b[_0x20b987(0x171)]!=_0x2679a3[_0x20b987(0x1c9)])_0x3c9f7b[_0x20b987(0x93)](_0x2c1f7b['symbol']);});try{_0x2d883b=await exchange[_0x2486d3(0x14c)](_0x3c9f7b);}catch(_0x467cde){if(_0x467cde['toString']()[_0x2486d3(0x169)](_0x2486d3(0x138))){proxyEmit(_0x2486d3(0x92),![]);return;}else{handleError(_0x467cde,_0x2486d3(0x163));return;}}_0x364056[_0x2486d3(0xe1)](_0x370e34=>{const _0x432643=_0x2486d3;_0x370e34[_0x432643(0x171)]!=_0x2679a3[_0x432643(0x1c9)]?_0x3523d7=_0x370e34[_0x432643(0xec)]?0x1/_0x2d883b[_0x370e34[_0x432643(0x1f4)]][_0x432643(0x19e)]:_0x2d883b[_0x370e34[_0x432643(0x1f4)]][_0x432643(0x19e)]:_0x3523d7=0x1,_0x370e34['price']=formatResult(_0x3523d7,0x8);}),proxyEmit(_0x2486d3(0x92),_0x364056);}}function truncateTradeAmount(_0x50b564,_0x63c58c){const _0x40955c=_0x43ebec;let _0x12c1e1=0x0;try{_0x12c1e1=exchange[_0x40955c(0xa3)](_0x50b564,_0x63c58c);}catch(_0x47c052){}return _0x12c1e1;}function checkMinimums(_0x319043){const _0x291a1e=_0x43ebec;let _0x35f14f=!![];const _0x38ed87=!_0x319043[_0x291a1e(0xec)]?markets[_0x319043[_0x291a1e(0x1f4)]][_0x291a1e(0xf4)][_0x291a1e(0x165)][_0x291a1e(0xe5)]:markets[_0x319043[_0x291a1e(0x1f4)]][_0x291a1e(0xf4)][_0x291a1e(0x184)][_0x291a1e(0xe5)],_0x2637c2=!_0x319043['reverse']?markets[_0x319043[_0x291a1e(0x1f4)]][_0x291a1e(0xf4)][_0x291a1e(0x184)][_0x291a1e(0xe5)]:markets[_0x319043[_0x291a1e(0x1f4)]][_0x291a1e(0xf4)][_0x291a1e(0x165)]['min'],_0x16f06a=truncateTradeAmount(_0x319043['symbol'],_0x319043['trade']);_0x319043[_0x291a1e(0x8d)]=_0x16f06a;if(Math[_0x291a1e(0xd0)](_0x16f06a)<_0x38ed87)_0x35f14f=![];if(Math[_0x291a1e(0xd0)](_0x16f06a)*_0x319043['last']<_0x2637c2)_0x35f14f=![];if(_0x319043[_0x291a1e(0x1c8)]==_0x291a1e(0xee)){let _0x42c480=config[_0x291a1e(0x92)]['find'](_0x5e1bfc=>_0x5e1bfc[_0x291a1e(0x171)]==_0x319043[_0x291a1e(0x171)]);if(_0x42c480[_0x291a1e(0x1fe)]>0x0){if(Math[_0x291a1e(0xd0)](_0x16f06a)>_0x319043[_0x291a1e(0x141)]-_0x42c480[_0x291a1e(0x1fe)])_0x35f14f=![];}else{if(Math['abs'](_0x16f06a)>_0x319043['number'])_0x35f14f=![];}}if(_0x319043['side']==_0x291a1e(0x160)){let _0x5f0a84=config[_0x291a1e(0x92)][_0x291a1e(0x12b)](_0x489122=>_0x489122[_0x291a1e(0x171)]==config[_0x291a1e(0x1c9)]),_0xee5ca1=currentCoins['find'](_0x40b18c=>_0x40b18c[_0x291a1e(0x171)]==config[_0x291a1e(0x1c9)]);if(_0x5f0a84[_0x291a1e(0x1fe)]>0x0){if(Math[_0x291a1e(0xd0)](_0x16f06a)*_0x319043['last']>_0xee5ca1[_0x291a1e(0x141)]-_0x5f0a84[_0x291a1e(0x1fe)])_0x35f14f=![];}else{if(Math['abs'](_0x16f06a)*_0x319043['last']>_0xee5ca1['number'])_0x35f14f=![];}}return _0x35f14f;}async function getBalances(_0x244d77=!![]){const _0x4def02=_0x43ebec;let _0x642498=0x0,_0x18b516;const _0x4a4d11=config[_0x4def02(0xc1)];if(config[_0x4def02(0x17a)]&&config[_0x4def02(0x196)]<0x0)await validate24hChanges();currentCoins[_0x4def02(0xe1)](_0x36baf6=>{const _0x43edda=_0x4def02;if(_0x36baf6[_0x43edda(0x171)]!=config[_0x43edda(0x1c9)]){let _0x507e05=global[_0x43edda(0x1b7)][noslash(_0x36baf6[_0x43edda(0x1f4)])];_0x18b516=_0x36baf6[_0x43edda(0xec)]?0x1/_0x507e05:_0x507e05;}else _0x18b516=0x1;let _0x260d91=_0x36baf6['number']*_0x18b516;_0x642498+=_0x260d91,_0x36baf6['last']=formatResult(Number(_0x18b516),0x8),_0x36baf6[_0x43edda(0x173)]=_0x260d91;}),currentCoins[_0x4def02(0xe1)](_0x50b231=>{const _0xc4fb98=_0x4def02;let _0x38e611=config[_0xc4fb98(0x92)][_0xc4fb98(0x12b)](_0x56310c=>_0x56310c[_0xc4fb98(0x171)]==_0x50b231[_0xc4fb98(0x171)]),_0x35e7ad=Number(_0x38e611[_0xc4fb98(0x1d4)]),_0x118ce2=_0x50b231['value']/_0x642498*0x64,_0x1e22a7=_0x35e7ad*_0x642498/0x64/_0x50b231[_0xc4fb98(0x19e)]-_0x50b231['number'];_0x50b231[_0xc4fb98(0x1d4)]=formatResult(_0x118ce2,0x3),_0x50b231[_0xc4fb98(0xfb)]=formatResult(_0x35e7ad,0x3),_0x50b231['trade']=formatResult(_0x1e22a7,0x8),_0x50b231[_0xc4fb98(0x1c8)]='',_0x50b231['valid']=![];if(_0x50b231['coin']!=config['basecoin']){if(_0x50b231[_0xc4fb98(0x1d4)]>_0x35e7ad)_0x50b231[_0xc4fb98(0x1c8)]=_0xc4fb98(0xee),_0x50b231['valid']=checkMinimums(_0x50b231);else _0x50b231[_0xc4fb98(0x1d4)]<_0x35e7ad&&(_0x50b231['side']=_0xc4fb98(0x160),_0x50b231[_0xc4fb98(0xc4)]=checkMinimums(_0x50b231));}_0x50b231[_0xc4fb98(0x192)]=_0x50b231[_0xc4fb98(0x1d4)]/_0x50b231[_0xc4fb98(0xfb)]-0x1;if(_0x50b231[_0xc4fb98(0x19a)]==_0xc4fb98(0x102)||_0x50b231['orderstatus']==_0xc4fb98(0x1d1))_0x50b231['orderstatus']=_0xc4fb98(0x174);}),currentCoins[_0x4def02(0x1f8)]((_0x4bd509,_0x40a249)=>_0x4bd509[_0x4def02(0x192)]<_0x40a249[_0x4def02(0x192)]?0x1:_0x40a249['delta']<_0x4bd509[_0x4def02(0x192)]?-0x1:0x0);const _0x2984a0=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2984a0[_0x4def02(0x1a9)],'usd':_0x2984a0[_0x4def02(0xf2)],'portfolio':JSON[_0x4def02(0x16c)](currentCoins),'threshold':_0x4a4d11},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x244d77){if(config[_0x4def02(0x17a)])headlessMode({'portfolio':currentCoins,'threshold':_0x4a4d11});else{if(lockOrders==ORDERS[_0x4def02(0x199)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4a4d11});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x14ab2f=getNormalizedPerformance();getStartingBalances(_0x14ab2f),emitPerformance(_0x14ab2f);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x4e4634=getNormalizedPerformance();emitPerformance(_0x4e4634),getStartingBalances(_0x4e4634),logger[_0x4def02(0xe0)](_0x4def02(0x12d));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4fd713=_0x43ebec;if(!lastBalances)return;let _0x2a891e=[],_0x1abd5b,_0x59c033=JSON['parse'](lastBalances['portfolio']);_0x59c033[_0x4fd713(0x1f8)]((_0x1b7a1b,_0x2f3297)=>_0x1b7a1b[_0x4fd713(0x171)]>_0x2f3297[_0x4fd713(0x171)]?0x1:_0x2f3297[_0x4fd713(0x171)]>_0x1b7a1b[_0x4fd713(0x171)]?-0x1:0x0),_0x59c033[_0x4fd713(0xe1)](_0x20151e=>{const _0x6275de=_0x4fd713;let _0x36fca9={'coin':_0x20151e[_0x6275de(0x171)],'number':_0x20151e[_0x6275de(0x141)],'price':_0x20151e['last']};_0x2a891e[_0x6275de(0x93)](_0x36fca9);});const _0x5cad36=await getFiat();_0x1abd5b={'date':lastBalances[_0x4fd713(0x133)][_0x4fd713(0x7f)]('\x20')[0x0],'eur':_0x5cad36['eur'],'usd':_0x5cad36[_0x4fd713(0xf2)],'coins':_0x2a891e};let _0x4fb656=dbPerformance['get'](_0x4fd713(0xf7))[_0x4fd713(0x12b)]({'date':_0x1abd5b[_0x4fd713(0xcc)]})['value']();_0x4fb656?_0x1abd5b[_0x4fd713(0xcc)]!=config[_0x4fd713(0x110)]&&dbPerformance['get'](_0x4fd713(0xf7))[_0x4fd713(0x12b)]({'date':_0x1abd5b[_0x4fd713(0xcc)]})['assign'](_0x1abd5b)[_0x4fd713(0xa0)]():dbPerformance[_0x4fd713(0x176)](_0x4fd713(0xf7))[_0x4fd713(0x93)](_0x1abd5b)[_0x4fd713(0xa0)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x671da8=_0x43ebec;let _0x3096ad=[];if(dbPerformance[_0x671da8(0x127)](_0x671da8(0xf7))[_0x671da8(0x173)]()){let _0x415c42=dbPerformance[_0x671da8(0x176)]('data')[_0x671da8(0xb3)]()[_0x671da8(0x1a5)]('date')[_0x671da8(0x173)](),_0xe20f8d=[...config[_0x671da8(0x189)]];_0xe20f8d['sort']((_0x468446,_0x2c9b8f)=>_0x468446[_0x671da8(0xcc)]>_0x2c9b8f['date']?-0x1:_0x2c9b8f[_0x671da8(0xcc)]>_0x468446[_0x671da8(0xcc)]?0x1:0x0);let _0x2903ea=0x1,_0x54707b=[],_0x53b025=0x0;_0x415c42['slice']()['reverse']()[_0x671da8(0xe1)]((_0x2e2a5b,_0x500c3a)=>{const _0x4a02f6=_0x671da8;if(_0xe20f8d[_0x53b025]){if(_0x415c42[_0x415c42[_0x4a02f6(0x17f)]-_0x500c3a]&&_0xe20f8d[_0x53b025][_0x4a02f6(0xcc)]==_0x415c42[_0x415c42[_0x4a02f6(0x17f)]-_0x500c3a]['date']){if(_0x500c3a<_0x415c42[_0x4a02f6(0x17f)]){let _0x58c886=0x0,_0x26c18b=0x0;_0x415c42[_0x415c42[_0x4a02f6(0x17f)]-_0x500c3a][_0x4a02f6(0xb2)][_0x4a02f6(0xe1)](_0x5a1c32=>{const _0x6dce85=_0x4a02f6;_0x26c18b+=_0x5a1c32[_0x6dce85(0x141)]*_0x5a1c32['price'];}),_0xe20f8d[_0x53b025][_0x4a02f6(0xf0)][_0x4a02f6(0xe1)](_0x2a0dbd=>{const _0x195eaf=_0x4a02f6;_0x58c886+=_0x2a0dbd['number']*_0x2a0dbd[_0x195eaf(0x107)];}),_0x2903ea*=_0x58c886/(_0x26c18b-_0x58c886)+0x1;}_0x53b025++;}}let _0x17da96=0x0;_0x2e2a5b[_0x4a02f6(0xb2)][_0x4a02f6(0xe1)](_0x13daf7=>{const _0x32cf84=_0x4a02f6;_0x17da96+=_0x13daf7['number']*_0x13daf7[_0x32cf84(0x107)];}),_0x54707b[_0x415c42[_0x4a02f6(0x17f)]-_0x500c3a-0x1]=_0x17da96*(_0x2903ea-0x1);});let _0x22b9f5=[];_0xe20f8d=[...config['liquidity']]||[];let _0x1d7f51=0x0;_0x53b025=0x0,_0x415c42['forEach']((_0x6240c6,_0x524335)=>{const _0x5e522b=_0x671da8;if(_0xe20f8d[_0x53b025]){const _0xbc1069=fns[_0x5e522b(0x1d9)](_0xe20f8d[_0x53b025][_0x5e522b(0xcc)],_0x5e522b(0x1ad),new Date()),_0x2ec4a8=fns[_0x5e522b(0x1d9)](_0x6240c6[_0x5e522b(0xcc)],_0x5e522b(0x1ad),new Date());if(fns[_0x5e522b(0xb4)](_0xbc1069,_0x2ec4a8)){let _0x556910=0x0;_0xe20f8d[_0x53b025][_0x5e522b(0xf0)][_0x5e522b(0xe1)](_0x348749=>{const _0x10278c=_0x5e522b;!_0x22b9f5[_0x348749['coin']]?_0x22b9f5[_0x348749[_0x10278c(0x171)]]=_0x348749[_0x10278c(0x141)]:(_0x556910=_0x22b9f5[_0x348749['coin']],_0x22b9f5[_0x348749[_0x10278c(0x171)]]+=_0x348749[_0x10278c(0x141)]);const _0x28d70f=_0x6240c6[_0x10278c(0xb2)][_0x10278c(0x12b)](_0x40b12f=>_0x40b12f['coin']==_0x348749[_0x10278c(0x171)]);(!_0x28d70f||_0x28d70f[_0x10278c(0x141)]==0x0)&&(_0x1d7f51+=(-_0x348749[_0x10278c(0x141)]-_0x556910)*_0x348749[_0x10278c(0x107)]);}),_0x53b025++;}}_0x6240c6[_0x5e522b(0xb2)][_0x5e522b(0xe1)]((_0x1c7557,_0x31ec8b)=>{const _0x23b4e6=_0x5e522b;_0x22b9f5[_0x1c7557[_0x23b4e6(0x171)]]&&(_0x1c7557[_0x23b4e6(0xd8)]=_0x22b9f5[_0x1c7557[_0x23b4e6(0x171)]]);}),_0x3096ad[_0x5e522b(0x93)]({'date':_0x6240c6[_0x5e522b(0xcc)],'eur':_0x6240c6[_0x5e522b(0x1a9)],'usd':_0x6240c6[_0x5e522b(0xf2)],'offset':_0x54707b[_0x524335],'netoffset':_0x1d7f51,'coins':_0x6240c6[_0x5e522b(0xb2)]});});}return _0x3096ad;}function emitPerformance(_0x32506d){const _0x58791c=_0x43ebec;_0x32506d[_0x58791c(0x17f)]!==0x0?(proxyEmit(_0x58791c(0x139),_0x32506d),lastPerformanceEmitted=getDate()):proxyEmit(_0x58791c(0x139),[]);}function getPerf(_0x3b0682,_0x2b1210){const _0x554ed4=_0x43ebec;let _0x3c8c60=0x0,_0x5377c5=0x0,_0x35ad18=0x0;_0x3b0682[_0x554ed4(0xb2)][_0x554ed4(0xe1)](_0x2de292=>{const _0x2eafa2=_0x554ed4;_0x3c8c60+=_0x2de292[_0x2eafa2(0x141)]*_0x2de292[_0x2eafa2(0x107)];});_0x2b1210&&(_0x3c8c60+=_0x3b0682[_0x554ed4(0x1fe)]);if(config[_0x554ed4(0x1c9)]===_0x554ed4(0x1a4)||config[_0x554ed4(0x1c9)]===_0x554ed4(0x13b))_0x5377c5=_0x3c8c60*_0x3b0682[_0x554ed4(0x1a9)],_0x35ad18=_0x3c8c60*_0x3b0682[_0x554ed4(0xf2)];else{if(config['basecoin']===_0x554ed4(0x1a0)||config['basecoin']===_0x554ed4(0x7c)||config[_0x554ed4(0x1c9)]===_0x554ed4(0xc7))_0x5377c5=_0x3c8c60*_0x3b0682[_0x554ed4(0x1a9)]/_0x3b0682[_0x554ed4(0xf2)],_0x35ad18=_0x3c8c60;else config[_0x554ed4(0x1c9)]===_0x554ed4(0xb0)&&(_0x5377c5=_0x3c8c60,_0x35ad18=_0x3c8c60*_0x3b0682['usd']/_0x3b0682[_0x554ed4(0x1a9)]);}return[_0x3c8c60,_0x5377c5,_0x35ad18];}function getKPIs(_0x73dcac,_0x13a307=_0x43ebec(0xb0)){const _0x1df0d4=_0x43ebec,_0x4443dc=config['basecoin'],_0x51ed3d=lastBalances,_0x4b07c7=currentCoins,_0x31028c=getNormalizedPerformance(),_0x486d99=_0x73dcac===_0x1df0d4(0x1c9)?_0x4443dc:_0x73dcac===_0x1df0d4(0x1d3)||_0x73dcac===_0x1df0d4(0xfa)?_0x13a307:_0x1df0d4(0x120)+_0x4443dc,_0x3e0db8=_0x73dcac==='net-basecoin'?'Net\x20effect':_0x73dcac===_0x1df0d4(0xfa)?_0x1df0d4(0xb9):_0x486d99+_0x1df0d4(0xa2),_0x50c555=_0x73dcac==='net-basecoin'||_0x73dcac===_0x1df0d4(0xfa)?_0x1df0d4(0xb9):_0x486d99+_0x1df0d4(0xbb);let _0x1e1134=0x0;_0x4b07c7[_0x1df0d4(0xe1)](_0x5a77c9=>{const _0xac70f6=_0x1df0d4;_0x1e1134+=_0x5a77c9[_0xac70f6(0x141)]*_0x5a77c9['last'];});if(_0x73dcac===_0x1df0d4(0x1d3)||_0x73dcac===_0x1df0d4(0xfa)){if(_0x4443dc==='BTC'||_0x4443dc===_0x1df0d4(0x13b))_0x1e1134=_0x1e1134*(_0x13a307===_0x1df0d4(0xb0)?_0x51ed3d['eur']:_0x51ed3d[_0x1df0d4(0xf2)]);else{if(_0x4443dc===_0x1df0d4(0x1a0)||_0x4443dc===_0x1df0d4(0x7c)||_0x4443dc==='USD')_0x1e1134=_0x1e1134*(_0x13a307===_0x1df0d4(0xb0)?_0x51ed3d[_0x1df0d4(0x1a9)]/_0x51ed3d[_0x1df0d4(0xf2)]:0x1);else _0x4443dc==='EUR'&&(_0x1e1134=_0x1e1134*(_0x13a307==='EUR'?0x1:_0x51ed3d[_0x1df0d4(0xf2)]/_0x51ed3d['eur']));}}let _0x52d1bc;if(_0x1e1134!==0x0){if(_0x73dcac===_0x1df0d4(0x1c9))_0x52d1bc=(_0x1e1134/startingBalances[_0x1df0d4(0x1c9)]-0x1)*0x64;else{if(_0x13a307===_0x1df0d4(0xb0))_0x52d1bc=(_0x1e1134/startingBalances['eur']-0x1)*0x64;else _0x52d1bc=(_0x1e1134/startingBalances[_0x1df0d4(0xf2)]-0x1)*0x64;}let _0x28b300=0x0;if(startingBalances[_0x1df0d4(0xb2)])_0x4b07c7[_0x1df0d4(0xe1)](_0x1cf5b7=>{const _0x46d3f4=_0x1df0d4;let _0x15a24c=startingBalances[_0x46d3f4(0xb2)][_0x46d3f4(0x12b)](_0x276b02=>_0x276b02[_0x46d3f4(0x171)]===_0x1cf5b7[_0x46d3f4(0x171)]);if(_0x15a24c&&_0x15a24c[_0x46d3f4(0x171)]&&_0x1cf5b7[_0x46d3f4(0x141)]!==0x0)_0x28b300+=_0x15a24c[_0x46d3f4(0x141)]*_0x1cf5b7[_0x46d3f4(0x19e)];});let _0x386d29=0x0;if(_0x31028c['length']!==0x0){let _0x956e02=_0x31028c[_0x31028c['length']-0x1];_0x386d29=_0x956e02[_0x1df0d4(0x148)];}_0x28b300-=_0x386d29;_0x73dcac===_0x1df0d4(0xf5)&&(_0x52d1bc=(_0x1e1134-_0x28b300)/startingBalances[_0x1df0d4(0x1c9)]*0x64,_0x1e1134=_0x1e1134-_0x28b300);if(_0x73dcac===_0x1df0d4(0xfa)){let _0x473090=_0x13a307===_0x1df0d4(0xb0)?startingBalances[_0x1df0d4(0x1a9)]:startingBalances['usd'];if(_0x4443dc===_0x1df0d4(0x1a4)||_0x4443dc==='ETH')_0x28b300=_0x13a307==='EUR'?_0x28b300*_0x51ed3d[_0x1df0d4(0x1a9)]:_0x28b300*_0x51ed3d[_0x1df0d4(0xf2)];else{if(_0x4443dc===_0x1df0d4(0x1a0)||_0x4443dc==='USDT'||_0x4443dc===_0x1df0d4(0xc7))_0x28b300=_0x13a307===_0x1df0d4(0xb0)?_0x28b300*_0x51ed3d[_0x1df0d4(0x1a9)]/_0x51ed3d['usd']:_0x28b300;else _0x4443dc===_0x1df0d4(0xb0)&&(_0x28b300=_0x13a307===_0x1df0d4(0xb0)?_0x28b300:_0x28b300*_0x51ed3d[_0x1df0d4(0xf2)]/_0x51ed3d[_0x1df0d4(0x1a9)]);}_0x52d1bc=(_0x1e1134-_0x28b300)/_0x473090*0x64,_0x1e1134=_0x1e1134-_0x28b300;}if(_0x52d1bc){if(_0x52d1bc<0x64)_0x52d1bc=_0x52d1bc[_0x1df0d4(0xdf)](0x2);else{if(_0x52d1bc<0x3e8)_0x52d1bc=_0x52d1bc['toFixed'](0x1);else _0x52d1bc=_0x52d1bc[_0x1df0d4(0xdf)](0x0);}}else _0x52d1bc=Number('0')[_0x1df0d4(0xdf)](0x2);if(_0x1e1134){if(Math[_0x1df0d4(0xd0)](_0x1e1134)<0.000001)_0x1e1134=_0x1e1134[_0x1df0d4(0xdf)](0x2);else{if(Math['abs'](_0x1e1134)<0.1)_0x1e1134=_0x1e1134[_0x1df0d4(0xdf)](0x6);else{if(Math[_0x1df0d4(0xd0)](_0x1e1134)<0x1)_0x1e1134=_0x1e1134['toFixed'](0x5);else{if(Math[_0x1df0d4(0xd0)](_0x1e1134)<0xa)_0x1e1134=_0x1e1134[_0x1df0d4(0xdf)](0x4);else{if(Math[_0x1df0d4(0xd0)](_0x1e1134)<0x64)_0x1e1134=_0x1e1134[_0x1df0d4(0xdf)](0x3);else{if(Math['abs'](_0x1e1134)<0x3e8)_0x1e1134=_0x1e1134[_0x1df0d4(0xdf)](0x2);else _0x1e1134=_0x1e1134[_0x1df0d4(0xdf)](0x2);}}}}}}else _0x1e1134=Number('0')[_0x1df0d4(0xdf)](0x2);}else _0x52d1bc=Number('0')[_0x1df0d4(0xdf)](0x2);return{'value':_0x1e1134,'change':_0x52d1bc,'leftTxt':_0x3e0db8,'rightTxt':_0x50c555};}async function getStartingBalances(_0xbec00e,_0x4f1cca=!![]){const _0x455db5=_0x43ebec;if(_0xbec00e[_0x455db5(0x17f)]!==0x0){const [_0x533db6,_0x1d3cdb,_0x1a76e7]=getPerf(_0xbec00e[0x0],!![]);let _0x53d564=[];config[_0x455db5(0x92)][_0x455db5(0xe1)](_0x33b350=>{const _0x49dbed=_0x455db5;let _0x54f48f=0x0,_0xc7d2c1;config['liquidity'][_0x49dbed(0xe1)](_0x142a1e=>{const _0x30bde6=_0x49dbed;let _0x5b6685=_0x142a1e[_0x30bde6(0xf0)][_0x30bde6(0x12b)](_0x1a9796=>_0x1a9796['coin']==_0x33b350[_0x30bde6(0x171)]);if(_0x5b6685){_0x54f48f+=_0x5b6685['number'];if(!_0xc7d2c1)_0xc7d2c1=_0x5b6685['price'];}}),_0x53d564[_0x49dbed(0x93)]({'coin':_0x33b350[_0x49dbed(0x171)],'number':_0x54f48f,'initialprice':_0xc7d2c1});});const _0x591c98={'basecoin':_0x533db6,'eur':_0x1d3cdb,'usd':_0x1a76e7,'coins':_0x53d564};if(_0x4f1cca)proxyEmit(_0x455db5(0x116),_0x591c98);startingBalances=_0x591c98;}}function headlessMode(_0x2782fe){const _0x3ba728=_0x43ebec;let _0x4cb5cf=_0x2782fe[_0x3ba728(0x92)],_0x287818=_0x2782fe[_0x3ba728(0xc1)],_0x470e18=[];for(let _0x4fdf4a of _0x4cb5cf){if(_0x4fdf4a['coin']!=config[_0x3ba728(0x1c9)]){if(_0x4fdf4a[_0x3ba728(0x192)]>=_0x287818/0x64){if(_0x4fdf4a[_0x3ba728(0xc4)])_0x470e18[_0x3ba728(0x93)](_0x4fdf4a);}else{if(_0x4fdf4a[_0x3ba728(0x192)]<=-_0x287818/0x64){if(_0x4fdf4a[_0x3ba728(0xc4)])_0x470e18[_0x3ba728(0x93)](_0x4fdf4a);}}}}_0x470e18[_0x3ba728(0x17f)]>0x0&&placeOrder(_0x470e18);}function notifyBalance(_0x3a0731){const _0x1a926a=_0x43ebec;let _0x9930ce=_0x3a0731[_0x1a926a(0x92)],_0x46fd6b=_0x3a0731[_0x1a926a(0xc1)],_0x187525=[];for(let _0x314f15 of _0x9930ce){if(_0x314f15[_0x1a926a(0x171)]!=config[_0x1a926a(0x1c9)]){if(_0x314f15[_0x1a926a(0x192)]>=_0x46fd6b/0x64){if(_0x314f15['valid'])_0x187525[_0x1a926a(0x93)](_0x314f15);}else{if(_0x314f15['delta']<=-_0x46fd6b/0x64){if(_0x314f15[_0x1a926a(0xc4)])_0x187525[_0x1a926a(0x93)](_0x314f15);}}}}if(_0x187525['length']>0x0){let _0x1a1e6d=_0x187525[_0x1a926a(0x187)](_0x15da21=>_0x15da21[_0x1a926a(0x171)]);_0x1a1e6d[_0x1a926a(0x1f8)]();let _0x41b783=_0x1a1e6d[_0x1a926a(0xba)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x1a926a(0x94));lastCoinsToBalance=_0x41b783;}}function symbolToCoin(_0x1e28b5){const _0x3e0e2d=_0x43ebec;let _0x44d6e2;if(_0x1e28b5[_0x3e0e2d(0x169)]('/'+config[_0x3e0e2d(0x1c9)]))_0x44d6e2=_0x1e28b5[_0x3e0e2d(0x1ae)]('/'+config['basecoin'],'');if(_0x1e28b5['includes'](config['basecoin']+'/'))_0x44d6e2=_0x1e28b5[_0x3e0e2d(0x1ae)](config['basecoin']+'/','');return _0x44d6e2;}async function unlockOrders(){const _0x44a6b9=_0x43ebec;if(allOrdersPlaced&&lockOrders==ORDERS[_0x44a6b9(0x10d)]){logger[_0x44a6b9(0xe0)](_0x44a6b9(0x137)),lockOrders=ORDERS[_0x44a6b9(0x1d2)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x4f5290=await getCoins();[currentCoins,currentCoinsAll]=_0x4f5290,validateOrdersState=_0x44a6b9(0xd8),persistOpenOrders([]),lockOrders=ORDERS[_0x44a6b9(0x199)],logger[_0x44a6b9(0xe0)](_0x44a6b9(0x11a));}}async function validateOrders(_0x1d3443){const _0x49fb8e=_0x43ebec;if(_0x1d3443)validateOrdersState=_0x1d3443;logger[_0x49fb8e(0xe0)](_0x49fb8e(0x1f2)+validateOrdersState+_0x49fb8e(0xd1)+(lockOrders==0x1?_0x49fb8e(0x9b):lockOrders==0x2?'ORDERS.UNLOCKING':_0x49fb8e(0x1ee)));let _0x31e0c8=[],_0x236169=config[_0x49fb8e(0x153)]==_0x49fb8e(0x104)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x49fb8e(0x123)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x49fb8e(0x10d)])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x49fb8e(0xe1)](_0x263a1e=>{const _0x155322=_0x49fb8e;let _0x1429bd=![];_0x263a1e['filled']>0x0&&(_0x1429bd=!![]),_0x31e0c8[_0x155322(0x93)](_0x1429bd),_0x1429bd&&config[_0x155322(0x153)]!=_0x155322(0x104)&&logHistory(_0x155322(0x108),_0x155322(0x159)+_0x263a1e[_0x155322(0x1f4)]+'\x20'+_0x263a1e['side']+'\x20#'+formatResult(_0x263a1e[_0x155322(0x102)],0x8)+'\x20@'+formatResult(_0x263a1e[_0x155322(0x107)],0x8));}),_0x31e0c8[_0x49fb8e(0xe1)]((_0x3cd1a4,_0x55790a)=>{const _0x14755e=_0x49fb8e;if(_0x3cd1a4)lastOrders[_0x14755e(0x179)](_0x55790a,0x1);}),persistOpenOrders(lastOrders);const _0x27b2f7=coolingDown?_0x49fb8e(0x12c):_0x49fb8e(0xa9);if(validateOrdersState==_0x49fb8e(0xd8)){validateOrdersState=_0x49fb8e(0x1a3);if(_0x31e0c8[_0x49fb8e(0x169)](![])){if(config['ordertype']==_0x49fb8e(0x104)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x49fb8e(0x1a3)){if(_0x31e0c8[_0x49fb8e(0x169)](![])){}else{if(allOrdersPlaced){if(config[_0x49fb8e(0x153)]==_0x49fb8e(0x104)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x49fb8e(0x167))_0x31e0c8[_0x49fb8e(0x169)](![])&&(config['ordertype']==_0x49fb8e(0x104)?logHistory(_0x49fb8e(0x9f),_0x49fb8e(0xe2)+Math[_0x49fb8e(0x1af)](_0x236169*validateOrderInterval/0xea60)+_0x49fb8e(0x12f)+_0x27b2f7):(await cancelOrders(),logHistory(_0x49fb8e(0x9f),_0x49fb8e(0x11f)+Math[_0x49fb8e(0x1af)](_0x236169*validateOrderInterval/0xea60)+_0x49fb8e(0x12f)+_0x27b2f7))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x49fb8e(0x153)]!=_0x49fb8e(0x104))logHistory(_0x49fb8e(0x9f),'No\x20more\x20open\x20orders\x20-\x20'+_0x27b2f7);await unlockOrders();}}}}}async function cancelOrders(){const _0x323a0d=_0x43ebec;lastOrders[_0x323a0d(0xe1)](async _0x1c6aa3=>{const _0x3b1a3b=_0x323a0d;try{const _0x1b15c1=await exchange[_0x3b1a3b(0x188)](_0x1c6aa3[_0x3b1a3b(0x88)],_0x1c6aa3[_0x3b1a3b(0x1f4)]);}catch(_0x1dcf5e){if(_0x1dcf5e[_0x3b1a3b(0xcb)]()[_0x3b1a3b(0x169)](_0x3b1a3b(0x1e1))){}else await handleError(_0x1dcf5e,_0x3b1a3b(0x193));}});}async function initCoinResults(_0x548d49){const _0x1f1e2b=_0x43ebec;_0x548d49?logger[_0x1f1e2b(0xe0)](_0x1f1e2b(0x15b)+_0x548d49):logger[_0x1f1e2b(0xe0)](_0x1f1e2b(0x162)),config[_0x1f1e2b(0x92)][_0x1f1e2b(0xe1)](_0x4a162a=>{const _0x1ecf0e=_0x1f1e2b;if(!_0x4a162a[_0x1ecf0e(0x1ef)]&&_0x4a162a[_0x1ecf0e(0x171)]!=config[_0x1ecf0e(0x1c9)]){const _0x933c85=currentCoins[_0x1ecf0e(0x12b)](_0x1a20ce=>_0x1a20ce[_0x1ecf0e(0x171)]==_0x4a162a[_0x1ecf0e(0x171)]),_0x1c6d45=global[_0x1ecf0e(0x1b7)][noslash(_0x4a162a[_0x1ecf0e(0x1f4)])];let _0x306429=_0x933c85?_0x933c85[_0x1ecf0e(0x141)]:null,_0x1a233b=_0x4a162a[_0x1ecf0e(0xec)]?0x1/_0x1c6d45:_0x1c6d45,_0x4f4544;config['liquidity']['forEach'](_0x4c8598=>{const _0x57137f=_0x1ecf0e;!_0x4f4544&&(_0x4f4544=_0x4c8598[_0x57137f(0xf0)]['find'](_0x4644b1=>_0x4644b1[_0x57137f(0x171)]==_0x4a162a['coin']),_0x4f4544&&(_0x306429=_0x4f4544[_0x57137f(0x141)],_0x1a233b=_0x4f4544[_0x57137f(0x107)]));});let _0x54643c=dbCoinResults[_0x1ecf0e(0x176)](_0x1ecf0e(0xb2))[_0x1ecf0e(0x12b)]({'coin':_0x4a162a['coin']})[_0x1ecf0e(0x173)]();if(!_0x54643c){const _0x2ccf8f={'coin':_0x4a162a['coin'],'number':_0x306429,'breakeven':_0x1a233b,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1ecf0e(0x176)]('coins')[_0x1ecf0e(0x93)](_0x2ccf8f)['write']();}else{if(_0x548d49&&_0x4a162a[_0x1ecf0e(0x171)]==_0x548d49){const _0x142c23={'coin':_0x4a162a[_0x1ecf0e(0x171)],'number':_0x306429,'breakeven':_0x1a233b,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1ecf0e(0x176)](_0x1ecf0e(0xb2))[_0x1ecf0e(0x12b)]({'coin':_0x4a162a[_0x1ecf0e(0x171)]})['assign'](_0x142c23)[_0x1ecf0e(0xa0)]();}}}});}async function updateCoinResults(_0xd8671f,_0x1ad951=![]){const _0x3b8fb3=_0x43ebec;let _0x3a4110,_0x2363ab,_0x15aa8b,_0x16fd1d,_0x26c163,_0x17f2fe,_0x347ad5=dbCoinResults[_0x3b8fb3(0x176)](_0x3b8fb3(0xb2))['find']({'coin':_0xd8671f['coin']})[_0x3b8fb3(0x173)](),_0x15bfab=![];Object[_0x3b8fb3(0x1a8)](_0x347ad5)[_0x3b8fb3(0xe1)](([_0x13e93f,_0x35f7ac])=>{if(_0x35f7ac==null)_0x15bfab=!![];});(!_0x347ad5||_0x15bfab)&&(await initCoinResults(_0xd8671f[_0x3b8fb3(0x171)]),_0x347ad5=dbCoinResults[_0x3b8fb3(0x176)](_0x3b8fb3(0xb2))[_0x3b8fb3(0x12b)]({'coin':_0xd8671f[_0x3b8fb3(0x171)]})[_0x3b8fb3(0x173)]());_0xd8671f['reverse']&&(_0x17f2fe={'filled':_0xd8671f['filled']*_0xd8671f[_0x3b8fb3(0x107)],'amount':_0xd8671f[_0x3b8fb3(0x102)]*_0xd8671f[_0x3b8fb3(0x107)],'side':_0xd8671f[_0x3b8fb3(0x1c8)]=='sell'?'buy':_0x3b8fb3(0xee),'price':0x1/_0xd8671f['price']},_0xd8671f={..._0xd8671f,..._0x17f2fe});_0x1ad951?_0x2363ab=_0xd8671f[_0x3b8fb3(0x1c8)]==_0x3b8fb3(0x160)?_0x347ad5[_0x3b8fb3(0x141)]+_0xd8671f['filled']:_0x347ad5[_0x3b8fb3(0x141)]-_0xd8671f[_0x3b8fb3(0x102)]:_0x2363ab=await getCoinNumber(_0xd8671f['coin']);if(_0xd8671f[_0x3b8fb3(0x95)]&&_0xd8671f[_0x3b8fb3(0x95)][_0x3b8fb3(0x1b8)]==config['basecoin'])_0x3a4110=_0xd8671f[_0x3b8fb3(0x95)][_0x3b8fb3(0x184)];else{if(_0xd8671f['fee']&&_0xd8671f[_0x3b8fb3(0x95)][_0x3b8fb3(0x1b8)]==_0x3b8fb3(0x129)&&!_0x1ad951)_0x3a4110=_0xd8671f[_0x3b8fb3(0x95)][_0x3b8fb3(0x184)]*global[_0x3b8fb3(0x1b7)][_0x3b8fb3(0x129)+config['basecoin']];else _0x3a4110=defaultFee*_0xd8671f['filled']*_0xd8671f['price'];}_0xd8671f['side']==_0x3b8fb3(0x160)?(_0x15aa8b=_0x2363ab!=0x0?(_0x347ad5['breakeven']*_0x347ad5[_0x3b8fb3(0x141)]+_0xd8671f[_0x3b8fb3(0x107)]*(_0x2363ab-_0x347ad5[_0x3b8fb3(0x141)])+_0x3a4110)/_0x2363ab:0x0,_0x16fd1d=_0x347ad5[_0x3b8fb3(0xd6)]):(_0x15aa8b=_0x2363ab!=0x0?(_0x347ad5[_0x3b8fb3(0x1ea)]*_0x347ad5['number']-_0xd8671f['price']*(_0x347ad5[_0x3b8fb3(0x141)]-_0x2363ab)+_0x3a4110)/_0x2363ab:0x0,_0x16fd1d=_0x347ad5[_0x3b8fb3(0xd6)]+(_0xd8671f[_0x3b8fb3(0x107)]-_0x347ad5[_0x3b8fb3(0x1ea)])*_0xd8671f['filled']);_0x26c163=(_0xd8671f[_0x3b8fb3(0x107)]-_0x15aa8b-_0x3a4110/_0xd8671f[_0x3b8fb3(0x102)])*_0x2363ab;let _0x3c0f23={'coin':_0xd8671f[_0x3b8fb3(0x171)],'number':_0x2363ab,'breakeven':formatResult(_0x15aa8b,0x8),'realized':formatResult(_0x16fd1d,0x8),'unrealized':formatResult(_0x26c163,0x8),'fees':formatResult(_0x347ad5[_0x3b8fb3(0xe8)]+_0x3a4110,0x8),'sells':_0xd8671f['side']==_0x3b8fb3(0xee)?_0x347ad5[_0x3b8fb3(0x19d)]+0x1:_0x347ad5['sells'],'buys':_0xd8671f['side']==_0x3b8fb3(0x160)?_0x347ad5[_0x3b8fb3(0x18a)]+0x1:_0x347ad5['buys']};dbCoinResults[_0x3b8fb3(0x176)](_0x3b8fb3(0xb2))['find']({'coin':_0xd8671f[_0x3b8fb3(0x171)]})['assign'](_0x3c0f23)[_0x3b8fb3(0xa0)]();if(!_0x1ad951){if(_0xd8671f[_0x3b8fb3(0x95)]&&_0xd8671f['fee'][_0x3b8fb3(0x1b8)]=='BNB'){const _0xb2f9c7=currentCoins[_0x3b8fb3(0x12b)](_0x4006d6=>_0x4006d6[_0x3b8fb3(0x171)]==_0x3b8fb3(0x129));if(_0xb2f9c7){let _0x3901eb=dbCoinResults['get'](_0x3b8fb3(0xb2))['find']({'coin':'BNB'})['value']();_0x3c0f23={..._0x3901eb,'number':_0xb2f9c7[_0x3b8fb3(0x141)]},dbCoinResults[_0x3b8fb3(0x176)](_0x3b8fb3(0xb2))[_0x3b8fb3(0x12b)]({'coin':'BNB'})['assign'](_0x3c0f23)[_0x3b8fb3(0xa0)]();}}}}async function placeOrder(_0x2287c3){const _0x2c0043=_0x43ebec,_0x9e98a9=config[_0x2c0043(0x153)]=='market'?'market':_0x2c0043(0xfc);if(lockOrders==ORDERS[_0x2c0043(0x199)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x2c0043(0x10d)],allOrdersPlaced=![],validateOrdersState=_0x2c0043(0xd8);let _0x10280a=![];lastOrders=[];for(const _0x297511 of _0x2287c3){let _0x2d4f1a,_0x5afc31,_0x186bad,_0x3b7584,_0xcca1,_0x8d8084=_0x297511[_0x2c0043(0x1f4)];try{const _0x29d992=await exchange[_0x2c0043(0x136)](_0x8d8084);_0x2d4f1a=_0x297511['reverse']?0x1/_0x297511[_0x2c0043(0x19e)]:_0x297511[_0x2c0043(0x19e)],_0x5afc31=_0x29d992[_0x2c0043(0x99)],_0x186bad=_0x29d992['ask'];_0x297511['reverse']?(_0x3b7584=_0x297511[_0x2c0043(0x1c8)]==_0x2c0043(0x160)?_0x2c0043(0xee):_0x2c0043(0x160),_0xcca1=Math[_0x2c0043(0xd0)](_0x297511['trade'])/_0x2d4f1a):(_0x3b7584=_0x297511[_0x2c0043(0x1c8)],_0xcca1=Math[_0x2c0043(0xd0)](_0x297511[_0x2c0043(0x8d)]));_0x9e98a9==_0x2c0043(0xfc)&&(config[_0x2c0043(0x153)]==_0x2c0043(0x144)&&(_0x2d4f1a=_0x3b7584=='buy'?_0x5afc31:_0x186bad),config[_0x2c0043(0x153)]==_0x2c0043(0x1cf)&&(_0x2d4f1a=_0x3b7584==_0x2c0043(0x160)?_0x186bad:_0x5afc31));_0xcca1=formatResult(_0xcca1,0x8),_0x2d4f1a=formatResult(_0x2d4f1a,0x8);const _0x2333c2=_0x3b7584=='sell'?config['emojisell']?String[_0x2c0043(0x1d5)]('0x'+config[_0x2c0043(0x16b)])+'\x20':'':config[_0x2c0043(0x1e3)]?String[_0x2c0043(0x1d5)]('0x'+config[_0x2c0043(0x1e3)])+'\x20':'',_0x13822f=_0x9e98a9==_0x2c0043(0x104)?_0x2c0043(0x19b):config[_0x2c0043(0x153)]==_0x2c0043(0x144)?'Limit\x20(high-margin)':_0x2c0043(0x200),_0x3b3516=(Math[_0x2c0043(0xd5)](Math[_0x2c0043(0x17c)]()*0x35a4e900)+0x5f5e100)[_0x2c0043(0xcb)]();lastOrders[_0x2c0043(0x93)]({'customId':_0x3b3516,'symbol':_0x8d8084,'coin':_0x297511[_0x2c0043(0x171)],'amount':_0xcca1,'price':_0x2d4f1a,'side':_0x3b7584,'reverse':_0x297511[_0x2c0043(0xec)],'filled':0x0});if(_0x9e98a9==_0x2c0043(0x104))logHistory(_0x2c0043(0x108),''+_0x2333c2+_0x13822f+_0x2c0043(0x96)+_0x8d8084+'\x20'+_0x3b7584+'\x20#'+formatResult(_0xcca1,0x8)+'\x20@'+formatResult(_0x2d4f1a,0x8));else logHistory(_0x2c0043(0x108),''+_0x2333c2+_0x13822f+_0x2c0043(0x96)+_0x8d8084+'\x20'+_0x3b7584+'\x20#'+formatResult(_0xcca1,0x8)+'\x20@'+formatResult(_0x2d4f1a,0x8));const _0x36daa3=await exchange['createOrder'](_0x8d8084,_0x9e98a9,_0x3b7584,_0xcca1,_0x2d4f1a,{'clientOrderId':_0x3b3516}),_0x1a70cd=lastOrders['length']-0x1;if(_0x1a70cd>=0x0&&lastOrders[_0x1a70cd][_0x2c0043(0x202)]==_0x3b3516){lastOrders[_0x1a70cd][_0x2c0043(0x88)]=_0x36daa3['id'];if(_0x36daa3[_0x2c0043(0x165)])lastOrders[_0x1a70cd][_0x2c0043(0x165)]=_0x36daa3[_0x2c0043(0x165)];if(_0x36daa3['price'])lastOrders[_0x1a70cd][_0x2c0043(0x107)]=_0x36daa3[_0x2c0043(0x107)];lastOrders[_0x1a70cd][_0x2c0043(0x95)]=_0x36daa3[_0x2c0043(0x95)];}if(config[_0x2c0043(0x172)]!=0x0){let _0x23303b=null;if(cooldownTracker[_0x2c0043(0x17f)]==config[_0x2c0043(0x172)]-0x1)_0x23303b=cooldownTracker[_0x2c0043(0x1ac)]();const _0x24f0a1=getTimeStamp();cooldownTracker[_0x2c0043(0x93)](_0x24f0a1);if(_0x23303b){const _0x890022=fns[_0x2c0043(0x15a)](new Date(_0x24f0a1),new Date(_0x23303b));if(_0x890022<cooldownInterval){logHistory(_0x2c0043(0x154),_0x2c0043(0xef)+config[_0x2c0043(0x172)]+_0x2c0043(0xeb)+cooldownInterval/0x3c+_0x2c0043(0x1b2)+cooldownPeriod/(0xe10*0x3e8)+_0x2c0043(0x8a)),coolingDown=!![];break;}}}}catch(_0x297af6){if(_0x297af6[_0x2c0043(0xcb)]()[_0x2c0043(0x169)]('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x2f7eda=>_0x2f7eda['symbol']!=_0x8d8084),logHistory('error',_0x2c0043(0xc5)+_0x8d8084),_0x10280a=!![];else{if(_0x297af6[_0x2c0043(0xcb)]()[_0x2c0043(0x169)](_0x2c0043(0x1aa)))lastOrders=lastOrders['filter'](_0x5942d2=>_0x5942d2[_0x2c0043(0x1f4)]!=_0x8d8084),logHistory(_0x2c0043(0x154),_0x2c0043(0xdd)+_0x8d8084),_0x10280a=!![];else{if(_0x297af6[_0x2c0043(0xcb)]()[_0x2c0043(0x169)](_0x2c0043(0x19f)))lastOrders=lastOrders['filter'](_0x296e5d=>_0x296e5d[_0x2c0043(0x1f4)]!=_0x8d8084),logHistory(_0x2c0043(0x154),_0x2c0043(0x166)+_0x8d8084),_0x10280a=!![];else _0x297af6[_0x2c0043(0xcb)]()[_0x2c0043(0x169)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x2c0043(0x1c4)](_0x19d095=>_0x19d095[_0x2c0043(0x1f4)]!=_0x8d8084),logHistory('error',_0x2c0043(0xc5)+_0x8d8084),_0x10280a=!![]):(lastOrders=lastOrders[_0x2c0043(0x1c4)](_0x301731=>_0x301731[_0x2c0043(0x1f4)]!=_0x8d8084),await handleError(_0x297af6,_0x2c0043(0x15d),_0x8d8084));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x2c0043(0x17f)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x316f5d=config[_0x2c0043(0x153)]==_0x2c0043(0x104)?validateOrderTimeout*0x3c*0x3e8:config[_0x2c0043(0x123)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x14b883=_0x2c0043;validateOrders(_0x14b883(0x167));},_0x316f5d);}else unlockOrders();_0x10280a&&config[_0x2c0043(0x17a)]&&await pauseBot(_0x2c0043(0x13e)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x2c0043(0x9f),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config['headless']&&logHistory(_0x2c0043(0x154),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x2c0043(0x199)]&&(!config[_0x2c0043(0x17a)]&&(config['ordertype']==_0x2c0043(0x104)?logHistory('error',_0x2c0043(0x121)):logHistory(_0x2c0043(0x154),_0x2c0043(0xb5))));}}function persistOpenOrders(_0x2b25a9){const _0x1b2bc8=_0x43ebec,_0x549a99={...config,'openOrders':_0x2b25a9};let _0x325137=dbConfig[_0x1b2bc8(0x176)](_0x1b2bc8(0x14d))[_0x1b2bc8(0x12b)]({'botID':botID})[_0x1b2bc8(0x173)]();_0x325137&&dbConfig[_0x1b2bc8(0x176)]('bot')[_0x1b2bc8(0x12b)]({'botID':botID})[_0x1b2bc8(0xf8)](_0x549a99)[_0x1b2bc8(0xa0)]();}function restoreOrders(){const _0x3feb98=_0x43ebec;let _0x5e9844;config[_0x3feb98(0xed)]&&allOpenOrders[_0x3feb98(0xe1)](_0x5de646=>{const _0x51718d=_0x3feb98,_0x3571b2=config[_0x51718d(0xed)][_0x51718d(0x12b)](_0x1b504d=>_0x1b504d[_0x51718d(0x88)]==_0x5de646['id']);_0x3571b2&&(lastOrders[_0x51718d(0x93)](_0x3571b2),_0x5e9844=_0x5de646[_0x51718d(0x103)]);});if(lastOrders[_0x3feb98(0x17f)]>0x0){lockOrders=ORDERS[_0x3feb98(0x10d)],validateOrdersState=_0x3feb98(0x1a3),allOrdersPlaced=!![];const _0x23d5aa=new Date()[_0x3feb98(0x183)](),_0x1f4e5a=config[_0x3feb98(0x153)]==_0x3feb98(0x104)?validateOrderTimeout*0x3c*0x3e8:config[_0x3feb98(0x123)]*0x3c*0x3e8;if(_0x5e9844+_0x1f4e5a>_0x23d5aa){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5e9844+_0x1f4e5a-_0x23d5aa);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x56bdd7=_0x43ebec;if(!coinsLoaded){process['send']({'telegrammsg':_0x56bdd7(0x1db)},_0x42a2d5=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x1e3a67='';if(config['showname'])_0x1e3a67=_0x56bdd7(0xcd)+config[_0x56bdd7(0xe4)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x1e3a67=_0x56bdd7(0xa1)+botID+_0x56bdd7(0x82);const _0x3c57d1=getKPIs(_0x56bdd7(0x1c9)),_0x36b2b9=getKPIs(_0x56bdd7(0x1d3),config[_0x56bdd7(0x1d3)]),_0x445990=getKPIs(_0x56bdd7(0xf5)),_0x49007f=getKPIs(_0x56bdd7(0xfa),config[_0x56bdd7(0x1d3)]);_0x1e3a67+=_0x56bdd7(0x182),_0x1e3a67+=_0x3c57d1[_0x56bdd7(0x1bd)]+'\x20:\x20'+_0x3c57d1['value']+'\x0a',_0x1e3a67+=_0x3c57d1[_0x56bdd7(0x132)]+':\x20'+_0x3c57d1[_0x56bdd7(0xd4)]+'%\x0a',_0x1e3a67+=_0x36b2b9[_0x56bdd7(0x1bd)]+_0x56bdd7(0xc6)+_0x36b2b9[_0x56bdd7(0x173)]+'\x0a',_0x1e3a67+=_0x36b2b9[_0x56bdd7(0x132)]+':\x20'+_0x36b2b9[_0x56bdd7(0xd4)]+'%\x0a',_0x1e3a67+=_0x445990[_0x56bdd7(0x1bd)]+':\x20'+_0x445990['value']+'\x20('+config[_0x56bdd7(0x1c9)]+')\x0a',_0x1e3a67+=_0x445990[_0x56bdd7(0x132)]+':\x20'+_0x445990[_0x56bdd7(0xd4)]+_0x56bdd7(0x1b3)+config['basecoin']+')\x0a',_0x1e3a67+=_0x49007f['leftTxt']+':\x20'+_0x49007f[_0x56bdd7(0x173)]+'\x20('+config['fiat']+')\x0a',_0x1e3a67+=_0x49007f[_0x56bdd7(0x132)]+':\x20'+_0x49007f[_0x56bdd7(0xd4)]+_0x56bdd7(0x1b3)+config[_0x56bdd7(0x1d3)]+')\x0a',_0x1e3a67+=_0x56bdd7(0x11b),process[_0x56bdd7(0x18c)]({'telegrammsg':_0x1e3a67},_0x2732d4=>{});}async function sendPortfolioTelegram(){const _0x5c2a84=_0x43ebec;if(!coinsLoaded){process[_0x5c2a84(0x18c)]({'telegrammsg':_0x5c2a84(0x1db)},_0x8fd21b=>{});return;}let _0x12c6ad='';if(config[_0x5c2a84(0xaf)])_0x12c6ad=_0x5c2a84(0xcd)+config[_0x5c2a84(0xe4)]+_0x5c2a84(0x198);else _0x12c6ad=_0x5c2a84(0xa1)+botID+_0x5c2a84(0x198);_0x12c6ad+=_0x5c2a84(0x182),_0x12c6ad+=_0x5c2a84(0x12a),_0x12c6ad+=_0x5c2a84(0x1be),_0x12c6ad+='-------------------------------\x0a',currentCoins[_0x5c2a84(0xe1)](_0x57c6bb=>{const _0x3f301d=_0x5c2a84;_0x12c6ad+=_0x57c6bb[_0x3f301d(0x171)][_0x3f301d(0x1ed)](0x7)+'|\x20'+formatPad(_0x57c6bb[_0x3f301d(0x1d4)],0x2,0x6)+'|\x20'+formatPad(_0x57c6bb[_0x3f301d(0xfb)],0x2,0x6)+'|\x20'+formatPad(_0x57c6bb['delta']*0x64,0x2,0x6)+'\x0a';}),_0x12c6ad+='</pre>',process[_0x5c2a84(0x18c)]({'telegrammsg':_0x12c6ad},_0x2e6b75=>{});}function formatPad(_0x442aff,_0x3812f3,_0x5281a1){const _0x534a91=_0x43ebec,_0x23db1c=formatResultString(_0x442aff,_0x3812f3);return _0x23db1c?_0x23db1c[_0x534a91(0x14a)](_0x5281a1):''[_0x534a91(0x14a)](_0x5281a1);}function _0x4096(){const _0x3554b2=['storeConfiguration','-performance.json','fetchBalance','recent20','OrderNotFound','Fees\x20|\x20currency:\x20','emojibuy','balances','exec','mkdirSync','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','total','getFullYear','breakeven','concat','recreateCoinResults()','padEnd','ORDERS.UNLOCKED','excluded','loading-canceled','6168324lQvOHO','1\x20-\x20Validate\x20orders:\x20','loadMarkets','symbol','sendPortfolioTelegram','fetchOpenOrders','Transaction\x20detection\x20blocked','sort','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','lowdb','uncaughtException','hybrid-crypto-js','apply','offset','Crypt','Limit\x20(low-margin)','1\x20-\x20Handle\x20open\x20orders','customId','symbols','getMonth','timeshift','recreate','USDT','watchTransactions','toUpperCase','split','createOrder','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20metrics:</b>\x20\x0a\x0a','2622376Coddgb','-events.json','restart','1\x20-\x20FILLED:\x20','InsufficientFunds','orderId','password','\x20hour','closed','open','trade','apiKey','substring','constructor','simple','portfolio','push','Manual\x20balancing\x20required','fee','\x20order:\x20','bot-','\x20API\x20secret\x20is\x20invalid','bid','placeOrder','ORDERS.LOCKED','keys','remove','0\x20-\x20EXECUTION:\x20','success','write','<b>Bot\x20','\x20value','amountToPrecision','Error:\x20Invalid\x20argument\x20','2.6.0','Portfolio\x20change\x20detected:\x20','clientOrderId','createWriteStream','balancing\x20resumed','starting-balance-','exchange','\x20|\x20','toLowerCase','startsWith','showname','EUR','running','coins','cloneDeep','isEqual','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','slice','bb-settings.json','removed','Net\x20effect','join','\x20change','watchOrders','1541454lLHbbt','warning','RSA-OAEP','2.3.5','threshold','bots','\x20|\x20Error\x20details:\x20','valid','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20:\x20','USD','\x20not\x20responding','Fee\x20discount\x20refund\x20detected:\x20','API-key\x20format\x20invalid','toString','date','<b>','790ZmeZqC','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','abs','\x20|\x20lock\x20orders:\x20','getSeconds','getPortfolio','change','floor','realized','findIndex','initial','percentage','2.5.0','decrypt','.json','Order\x20amount\x20is\x20invalid:\x20','DDoSProtection','toFixed','debug','forEach','Order(s)\x20not\x20validated\x20after\x20','getHours','botname','min','Bot\x20','\x20not\x20available','fees','kill','YOYOW/','\x20orders\x20in\x20less\x20than\x20','reverse','openOrders','sell','Executed\x20','changes','ExchangeNotAvailable','usd','getStartingBalances','limits','net-basecoin','close','data','assign','./logs/','net-fiat','target','limit','sha256','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','message','configuration-stored','/USD','filled','timestamp','market','no\x20additional\x20symbols','enabled','price','order','\x20API\x20key\x20is\x20invalid',':\x20timer\x20>','cancel','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','LOCKED','resetHistory','Exchange','startdate','fetchClosedOrders','added','settings','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','/EUR','starting-balances','474172apoAkr','status','RequestTimeout','2\x20-\x20Orders\x20unlocked','</pre>','writeFile','add','path','Unfilled\x20order(s)\x20canceled\x20after\x20','Net\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','indexOf','timeout','2\x20-\x20FILLED\x20known\x20order:\x20','15732IwaseV','configuration','has','lowdb/adapters/FileSync','BNB','-------------------------------\x0a','find','balancing\x20resumes\x20when\x20cooldown\x20ends','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','progress','\x20minutes\x20-\x20','9TRiDii','datetime','rightTxt','time','privateKey','pro','fetchTicker','1\x20-\x20Unlock\x20orders','AuthenticationError','performance','BNB/','ETH','loadSymbols()','DAI/','Avoiding\x20continuous\x20order\x20attempts','format','./version.json','number','\x20closed\x20the\x20connection','\x20exchange','limit-high','exchanges','1463jbJEME','watchTrades','netoffset','************','padStart','no\x20open\x20orders','fetchTickers','bot','logs',':\x20Bot\x20','-results.json','emitHistory','HOT/BTC','ordertype','error','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','version','12pxTNCz','cancelLoading','Order\x20filled:\x20','differenceInSeconds','Resetting\x20coin\x20results:\x20','average','placeOrder()','string','function','buy','args','Initializing\x20coin\x20results','getPortfolio(2)','full','amount','Order\x20is\x20invalid:\x20','final','\x20>\x20[DEBUG]\x20','includes','startprice','emojisell','stringify','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','26250udnjtr','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20minutes','coin','cooldown','value','none','page','get','storeFiat','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','splice','headless','4149FZZxGr','random','Saving\x20configuration','unlinkSync','length','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','\x20>\x20','<pre>','getTime','cost','\x20-\x20bot\x20not\x20started','apiSecret','map','cancelOrder','liquidity','buys','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','send','(((.+)+)+)+$','set','date-fns','XEM/BUSD','2\x20-\x20Handled\x20open\x20orders','delta','cancelOrders()','event','/backup/','change24h','botID','\x20portfolio:</b>\x20\x0a\x0a','UNLOCKED','orderstatus','Market','toggleBotMode','sells','last','InvalidOrder','BUSD','getPortfolio(1)','onepagemode','ongoing','BTC','sortBy','milliseconds','Unknown\x20error\x20occured','entries','eur','Invalid\x20quantity','Binance','shift','yyyy/MM/dd','replace','round','argv','Pausing\x20for\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','%\x20(','ccxt','Error\x20while\x20deleting\x20files:\x20','***','ticker','currency','remainingSymbols','defaults','type','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','leftTxt','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','bb-secure.json','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','./config/','getCoins()','highest','filter','Resetting\x20bot\x20history','Reset\x20|\x20','getMinutes','side','basecoin','coin-loading-progress','7YReQmJ','getDate','001','apiPassword','limit-low','storeHeadless','canceled','UNLOCKING','fiat','distribution','fromCodePoint','getCoinNumber()','search','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','parse','log','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','existsSync'];_0x4096=function(){return _0x3554b2;};return _0x4096();}function logHistory(_0x19cfea,_0x368fed,_0x1df41b=''){const _0x1d7915=_0x43ebec;let _0x2e4a43={'time':getTimeStamp(),'type':_0x19cfea,'event':_0x368fed};dbLogs[_0x1d7915(0x176)](_0x1d7915(0x14e))['push'](_0x2e4a43)['write']();if(_0x1df41b=='')_0x1df41b=_0x368fed;proxyEmit(_0x1d7915(0x194),{'log':_0x2e4a43,'summary':_0x1df41b}),process[_0x1d7915(0x18c)]({'telegram':{..._0x2e4a43,'botname':config['botname'],'showname':config['showname']}},_0x5a31b1=>{}),logger[_0x1d7915(0x164)](''+_0x2e4a43[_0x1d7915(0x194)]);}function emitHistory(_0x50aebf={}){const _0x3ac039=_0x43ebec;Object[_0x3ac039(0x9c)](_0x50aebf)['length']==0x0&&(_0x50aebf={'type':[_0x3ac039(0x108),_0x3ac039(0x194)],'event':'','page':0x1});if(_0x50aebf['type'][_0x3ac039(0x169)]('event'))_0x50aebf[_0x3ac039(0x1bb)]['splice'](_0x50aebf[_0x3ac039(0x1bb)][_0x3ac039(0x122)](_0x3ac039(0x194)),0x1,'error',_0x3ac039(0xbe),_0x3ac039(0x9f));if(dbLogs[_0x3ac039(0x127)]('logs')[_0x3ac039(0x173)]()){let _0x291920=dbLogs[_0x3ac039(0x176)](_0x3ac039(0x14e))[_0x3ac039(0x1c4)](_0x2e0142=>{const _0xe1dd69=_0x3ac039;if(_0x50aebf[_0xe1dd69(0x1bb)][_0xe1dd69(0x17f)]==0x0)return![];else return _0x50aebf[_0xe1dd69(0x1bb)][_0xe1dd69(0x169)](_0x2e0142[_0xe1dd69(0x1bb)]);})['filter'](_0x1b8a0a=>{const _0x1e17cc=_0x3ac039;if(_0x50aebf[_0x1e17cc(0x194)]=='')return!![];else return _0x1b8a0a['event'][_0x1e17cc(0xad)]()[_0x1e17cc(0x169)](_0x50aebf[_0x1e17cc(0x194)][_0x1e17cc(0xad)]());})['sortBy'](_0x3ac039(0x133)),_0x403527=_0x291920[_0x3ac039(0x173)]()['length'];_0x291920=_0x291920[_0x3ac039(0xec)]()[_0x3ac039(0xb6)]((_0x50aebf[_0x3ac039(0x175)]-0x1)*logPageSize,_0x50aebf[_0x3ac039(0x175)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit('event-history',{'logs':_0x291920,'total':_0x403527});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x181945){const _0x131ab2=_0x43ebec;if(dbLogs['has']('logs')[_0x131ab2(0x173)]()){const _0x18174f=dbLogs[_0x131ab2(0x176)](_0x131ab2(0x14e))['sortBy'](_0x131ab2(0x133))[_0x131ab2(0x1c4)](_0x309415=>{const _0x232507=_0x131ab2;return _0x309415[_0x232507(0x1bb)]==_0x232507(0x108);})[_0x131ab2(0x173)]();dbLogs[_0x131ab2(0x176)]('logs')[_0x131ab2(0x9d)]()[_0x131ab2(0xa0)](),dbLogs['get']('logs')[_0x131ab2(0xf8)](_0x18174f)[_0x131ab2(0xa0)](),emitHistory(_0x181945);}}async function pauseBot(_0xe62c35=''){const _0x44c253=_0x43ebec,_0x110d86=new Date()[_0x44c253(0x183)]();if(!lastErrorShown||_0x110d86-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x110d86;!lastBotPause?(lastBotPause=_0x110d86,consecutivePauses=0x1):(_0x110d86-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x44c253(0x18c)]({'stop':_0x44c253(0x85)},_0x57ced5=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x44c253(0x183)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0xe62c35)_0xe62c35+=_0x44c253(0xac);logHistory(_0x44c253(0x154),_0xe62c35+_0x44c253(0x1b1)+pauseBotInterval/0xea60+_0x44c253(0x170)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x27d3d6=_0x43ebec;process['send']({'stop':_0x27d3d6(0xe9)},_0x1470cd=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5f2f00,_0xa70cd6){const _0x5883cd=_0x43ebec;if(_0x5f2f00[_0x5883cd(0xcb)]()[_0x5883cd(0x169)](_0x5883cd(0xca)))return logHistory(_0x5883cd(0x154),config[_0x5883cd(0xab)]+_0x5883cd(0x1bc)),![];else{if(_0x5f2f00['toString']()[_0x5883cd(0x169)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x5883cd(0x154),config[_0x5883cd(0xab)]+_0x5883cd(0xcf)),![];else{if(_0x5f2f00['toString']()['includes'](_0x5883cd(0x138)))return logHistory(_0x5883cd(0x154),config[_0x5883cd(0xab)]+_0x5883cd(0x180)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x5f2f00,_0xa70cd6);}}}async function handleError(_0x4040fc,_0x2db9d7,_0x4dd8e0=''){const _0x1702da=_0x43ebec,_0x8b9d83=config[_0x1702da(0xab)]||_0x1702da(0x10f);if(_0x4040fc['toString']()['includes'](_0x1702da(0xde)))await pauseBot(config['exchange']+_0x1702da(0xfe));else{if(_0x4040fc['toString']()[_0x1702da(0x169)](_0x1702da(0xf1)))await pauseBot(config[_0x1702da(0xab)]+_0x1702da(0xe7));else{if(_0x4040fc[_0x1702da(0xcb)]()[_0x1702da(0x169)](_0x1702da(0x119)))await pauseBot(config[_0x1702da(0xab)]+_0x1702da(0xc8));else{if(_0x4040fc[_0x1702da(0xcb)]()[_0x1702da(0x169)](_0x1702da(0x10c)))await pauseBot(config[_0x1702da(0xab)]+_0x1702da(0x142));else{if(_0x4040fc[_0x1702da(0xcb)]()[_0x1702da(0x169)](_0x1702da(0x114)))logHistory(_0x1702da(0x154),_0x2db9d7+_0x1702da(0x1f9)),logHistory('error',_0x1702da(0x1e7)),await killBot();else{if(_0x4040fc[_0x1702da(0xcb)]()['includes']('InvalidNonce'))logHistory(_0x1702da(0x154),_0x2db9d7+_0x1702da(0x1c0)),logHistory(_0x1702da(0x154),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4040fc[_0x1702da(0xcb)]()[_0x1702da(0x169)]('API-key\x20format\x20invalid'))logHistory(_0x1702da(0x154),_0x2db9d7+_0x1702da(0xac)+config[_0x1702da(0xab)]+_0x1702da(0x109)),logHistory('error',_0x1702da(0x1e7)),await killBot();else{if(_0x4040fc[_0x1702da(0xcb)]()['includes'](_0x1702da(0x155)))logHistory('error',_0x2db9d7+_0x1702da(0xac)+config[_0x1702da(0xab)]+_0x1702da(0x98)),logHistory(_0x1702da(0x154),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4040fc[_0x1702da(0xcb)]()['includes'](_0x1702da(0x138)))logHistory('error',_0x2db9d7+_0x1702da(0xac)+config[_0x1702da(0xab)]+_0x1702da(0x81)),logHistory(_0x1702da(0x154),_0x1702da(0x1e7)),await killBot();else _0x4040fc[_0x1702da(0xcb)]()['includes'](_0x1702da(0x87))?logHistory(_0x1702da(0x154),_0x2db9d7+_0x1702da(0x178)+_0x4dd8e0):(logger[_0x1702da(0x164)](_0x2db9d7+_0x1702da(0xc3),_0x4040fc),await pauseBot(_0x1702da(0x1a7)));}}}}}}}}}function formatResult(_0x41872d,_0x24cce6){const _0x2be195=_0x43ebec;return parseFloat(_0x41872d[_0x2be195(0xdf)](_0x24cce6));}function formatResultTruncate(_0x356983,_0x13673a){let _0xc2090a=formatResultString(_0x356983,0xa),_0xca69fb=_0xc2090a['indexOf']('.');return _0xca69fb!=-0x1&&(_0xc2090a=_0xc2090a['slice'](0x0,_0xca69fb+_0x13673a+0x1)),Number(_0xc2090a);}function formatResultString(_0x21a12f,_0x518b14){const _0x459f96=_0x43ebec;let _0x53c98c;if(!(''+_0x21a12f)[_0x459f96(0x169)]('e'))_0x53c98c=+(Math[_0x459f96(0x1af)](_0x21a12f+'e+'+_0x518b14)+'e-'+_0x518b14);else{let _0x563dc3=(''+_0x21a12f)[_0x459f96(0x7f)]('e'),_0x2ed304='';+_0x563dc3[0x1]+_0x518b14>0x0&&(_0x2ed304='+'),_0x53c98c=+(Math[_0x459f96(0x1af)](+_0x563dc3[0x0]+'e'+_0x2ed304+(+_0x563dc3[0x1]+_0x518b14))+'e-'+_0x518b14);}return Number(_0x53c98c)[_0x459f96(0xdf)](_0x518b14);}function getServerTime(){const _0x39883c=_0x43ebec,_0x163bea=new Date();return _0x163bea[_0x39883c(0x1e9)]()+'/'+(_0x163bea['getMonth']()+0x1)[_0x39883c(0xcb)]()[_0x39883c(0x14a)](0x2,'0')+'/'+_0x163bea[_0x39883c(0x1cc)]()[_0x39883c(0xcb)]()[_0x39883c(0x14a)](0x2,'0')+'\x20'+_0x163bea[_0x39883c(0xe3)]()['toString']()[_0x39883c(0x14a)](0x2,'0')+':'+_0x163bea[_0x39883c(0x1c7)]()['toString']()[_0x39883c(0x14a)](0x2,'0')+':'+_0x163bea[_0x39883c(0xd2)]()[_0x39883c(0xcb)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x1d0284=_0x43ebec,_0x5ea2bc=shiftedTime();return _0x5ea2bc[_0x1d0284(0x1e9)]()+'/'+(_0x5ea2bc['getMonth']()+0x1)[_0x1d0284(0xcb)]()[_0x1d0284(0x14a)](0x2,'0')+'/'+_0x5ea2bc[_0x1d0284(0x1cc)]()['toString']()[_0x1d0284(0x14a)](0x2,'0')+'\x20'+_0x5ea2bc[_0x1d0284(0xe3)]()[_0x1d0284(0xcb)]()[_0x1d0284(0x14a)](0x2,'0')+':'+_0x5ea2bc[_0x1d0284(0x1c7)]()[_0x1d0284(0xcb)]()[_0x1d0284(0x14a)](0x2,'0')+':'+_0x5ea2bc[_0x1d0284(0xd2)]()[_0x1d0284(0xcb)]()[_0x1d0284(0x14a)](0x2,'0');}function getDate(){const _0x41da1e=_0x43ebec,_0x21c7c6=shiftedTime();return _0x21c7c6[_0x41da1e(0x1e9)]()+'/'+(_0x21c7c6[_0x41da1e(0x204)]()+0x1)[_0x41da1e(0xcb)]()['padStart'](0x2,'0')+'/'+_0x21c7c6[_0x41da1e(0x1cc)]()[_0x41da1e(0xcb)]()[_0x41da1e(0x14a)](0x2,'0');}function getHour(){const _0x2cdbaa=_0x43ebec,_0x5f05b6=shiftedTime();return _0x5f05b6[_0x2cdbaa(0xe3)]()[_0x2cdbaa(0xcb)]()[_0x2cdbaa(0x14a)](0x2,'0');}function sleep(_0x232677){return new Promise(_0x1d620e=>setTimeout(_0x1d620e,_0x232677));}function shiftedTime(){const _0x266c5e=_0x43ebec,_0x5d8666=new Date();let _0xb7e3b=_0x5d8666;if(config&&config[_0x266c5e(0x205)]!==0x0)_0xb7e3b=fns[_0x266c5e(0x11d)](_0x5d8666,{'hours':config[_0x266c5e(0x205)]});return _0xb7e3b;}function timer(_0x53ff26){const _0x3c2d5a=_0x43ebec,_0x1a8253=new Date();!lasttime?console[_0x3c2d5a(0x1da)](getTimeStamp()+_0x3c2d5a(0x10a),_0x53ff26,_0x1a8253):console['log'](getTimeStamp()+_0x3c2d5a(0x10a),_0x53ff26,(_0x1a8253-lasttime)/0x3e8),lasttime=_0x1a8253;}