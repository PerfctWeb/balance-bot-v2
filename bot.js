const _0x41af8d=_0x5e66;(function(_0x376b6e,_0x290e4e){const _0x27b396=_0x5e66,_0x91d91d=_0x376b6e();while(!![]){try{const _0x3eb7d8=parseInt(_0x27b396(0x14d))/0x1+parseInt(_0x27b396(0x117))/0x2+parseInt(_0x27b396(0xdb))/0x3*(-parseInt(_0x27b396(0x147))/0x4)+parseInt(_0x27b396(0x1b7))/0x5+-parseInt(_0x27b396(0x146))/0x6+-parseInt(_0x27b396(0x175))/0x7*(parseInt(_0x27b396(0x17a))/0x8)+parseInt(_0x27b396(0x132))/0x9;if(_0x3eb7d8===_0x290e4e)break;else _0x91d91d['push'](_0x91d91d['shift']());}catch(_0x25759a){_0x91d91d['push'](_0x91d91d['shift']());}}}(_0x4285,0x95a10));const _0x546a46=function(){let _0x1903cd=!![];return function(_0x498fec,_0x1762e0){const _0x209dd8=_0x1903cd?function(){if(_0x1762e0){const _0xb89c76=_0x1762e0['apply'](_0x498fec,arguments);return _0x1762e0=null,_0xb89c76;}}:function(){};return _0x1903cd=![],_0x209dd8;};}(),_0x57c440=_0x546a46(this,function(){const _0x2ac809=_0x5e66;return _0x57c440[_0x2ac809(0x11a)]()['search']('(((.+)+)+)+$')[_0x2ac809(0x11a)]()['constructor'](_0x57c440)[_0x2ac809(0x164)](_0x2ac809(0xc5));});_0x57c440();'use strict';const ccxt=require(_0x41af8d(0x143)),low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x41af8d(0x178)),{WebsocketClient,DefaultLogger}=require(_0x41af8d(0x16c)),Crypt=require(_0x41af8d(0x19b))[_0x41af8d(0x1a5)];let exchange,wsClient;global[_0x41af8d(0x140)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x41af8d(0x168))['version'],botID=process[_0x41af8d(0x17b)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern['test'](botID))return console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x41af8d(0x152)),process[_0x41af8d(0x19d)](0x1);const userID=process[_0x41af8d(0x17b)][0x3]||'',configpath=userID?_0x41af8d(0xdd)+userID+'/':_0x41af8d(0xdd);!fs['existsSync'](configpath)&&fs['mkdirSync'](configpath);const configfile=configpath+_0x41af8d(0x174)+botID+_0x41af8d(0x112),logfile=configpath+_0x41af8d(0x174)+botID+_0x41af8d(0xb8),performancefile=configpath+_0x41af8d(0x174)+botID+_0x41af8d(0x1c1),coinresultsfile=configpath+_0x41af8d(0x174)+botID+_0x41af8d(0x138),settingsfile=configpath+_0x41af8d(0x17e),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x41af8d(0x1a9),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x41af8d(0xfb)]({'logs':[]})[_0x41af8d(0x180)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x41af8d(0xfb)]({'data':[]})[_0x41af8d(0x180)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x41af8d(0xfb)]({'bot':[]})[_0x41af8d(0x180)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x41af8d(0xfb)]({'coins':[]})[_0x41af8d(0x180)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x41af8d(0x1c7),'symbol':'BTC/EUR'},'usd':{'coin':'BTCUSDT','symbol':_0x41af8d(0x104)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x72d36f)=>{},'debug':(..._0x914d5e)=>{},'notice':(..._0x14f85e)=>{},'info':(..._0x48ecd0)=>{},'warning':(..._0x25136d)=>{},'error':async function(..._0x108a31){const _0x1ecf85=_0x41af8d,_0x1839a5=new Date()[_0x1ecf85(0xf0)]();if(!lastErrorShown||_0x1839a5-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x1ecf85(0xf0)](),logHistory('error',_0x1ecf85(0x127)+consecutivePauses+_0x1ecf85(0x1a3));let _0x78b171='';if(_0x108a31[0x0])_0x78b171+=_0x108a31[0x0];if(_0x108a31[0x1]&&_0x108a31[0x1]['error']&&_0x108a31[0x1][_0x1ecf85(0x12f)][_0x1ecf85(0x176)])_0x78b171+='\x20-\x20'+_0x108a31[0x1][_0x1ecf85(0x12f)][_0x1ecf85(0x176)];logging(_0x1ecf85(0x127)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x78b171),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x41af8d(0x194),'rsaStandard':_0x41af8d(0x14e)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x41af8d(0x11c)]!=config[_0x41af8d(0x11c)]&&updateTimeshift(settings[_0x41af8d(0x11c)]);process['send']({'started':_0x41af8d(0xe5)},_0x2d122d=>{}),initializeProcessListeners();function proxyEmit(_0x2ee90f,_0x16f1f8=null){const _0x3353fb=_0x41af8d;process[_0x3353fb(0x17c)]({'function':_0x2ee90f,'args':_0x16f1f8},_0x738741=>{});}function initializeProcessListeners(){process['on']('message',_0xd110f4=>{const _0x11fe27=_0x5e66;switch(Object['keys'](_0xd110f4)[0x0]){case _0x11fe27(0x11c):_0xd110f4[_0x11fe27(0x11c)]!=undefined&&(settings[_0x11fe27(0x11c)]=_0xd110f4[_0x11fe27(0x11c)],updateTimeshift(settings[_0x11fe27(0x11c)]));break;case'function':switch(_0xd110f4['function']){case _0x11fe27(0xe7):initclient();break;case _0x11fe27(0xff):emitHistory(_0xd110f4[_0x11fe27(0x199)]);break;case _0x11fe27(0x10e):getPortfolio(_0xd110f4[_0x11fe27(0x199)]);break;case _0x11fe27(0x1bf):storeConfiguration(_0xd110f4[_0x11fe27(0x199)]);break;case _0x11fe27(0x10a):storeHeadless(_0xd110f4['args']);break;case _0x11fe27(0x1be):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0xd110f4[_0x11fe27(0x199)]);break;case _0x11fe27(0x1ba):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x6d2d74=_0x41af8d;if(pidBalances)clearTimeout(pidBalances);if(config[_0x6d2d74(0x119)]!=''){await initExchange(config['apiKey'],config['apiSecret']);let _0x3b90a3=await loadSymbols();_0x3b90a3&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x47fac3,_0x465ad5){const _0x2b3b55=_0x41af8d,_0x4da7cf=ccxt[config[_0x2b3b55(0x108)]];let _0x4036de;switch(config[_0x2b3b55(0x108)]){case'binance':_0x4036de=_0x2b3b55(0xf6);break;case'binanceus':_0x4036de='wss://stream.binance.us:9443';break;default:_0x4036de=_0x2b3b55(0xf6);}exchange=new _0x4da7cf({'apiKey':_0x47fac3,'secret':_0x465ad5,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x47fac3,'api_secret':_0x465ad5,'beautify':!![],'wsUrl':_0x4036de},logger),config[_0x2b3b55(0x108)]==_0x2b3b55(0x19c)&&(stablecoins={'eur':{'coin':_0x2b3b55(0x126),'symbol':_0x2b3b55(0x1c0)},'usd':{'coin':_0x2b3b55(0x162),'symbol':_0x2b3b55(0x104)}});}async function loadSymbols(){const _0x447c91=_0x41af8d;let _0x3e6f49;try{markets=await exchange[_0x447c91(0x1b1)]();const _0x27c684=[_0x447c91(0xdc),_0x447c91(0xb1),_0x447c91(0xe8)];allSymbols=exchange[_0x447c91(0x11b)][_0x447c91(0x155)](_0x243d14=>{const _0x42da26=_0x447c91;let _0x2def1d=![];return _0x27c684[_0x42da26(0x1ae)](_0x56779a=>{if(_0x243d14['includes'](_0x56779a))_0x2def1d=!![];}),!_0x2def1d;}),_0x3e6f49=!![];}catch(_0x5a9a62){await handleError(_0x5a9a62,_0x447c91(0x16a)),_0x3e6f49=![];}return _0x3e6f49;}async function initbot(){const _0x5859ed=_0x41af8d;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x212093=dbCoinResults[_0x5859ed(0x172)](_0x5859ed(0xb5))[_0x5859ed(0xd9)]();if(_0x212093[_0x5859ed(0x134)]==0x0)await resetCoinResults();}async function initclient(){const _0x2fb30a=_0x41af8d;proxyEmit(_0x2fb30a(0x141),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2fb30a(0x15a),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x29b545=getNormalizedPerformance();emitPerformance(_0x29b545),await getStartingBalances(_0x29b545);}function cleanws(){const _0x708c37=_0x41af8d;wsinitialized=![];ws1&&(ws1[_0x708c37(0x1ae)](_0x16bd08=>{const _0x572c2c=_0x708c37;try{wsClient[_0x572c2c(0x167)](_0x16bd08);}catch(_0x1df1e1){}}),ws1=[]);if(ws2){try{wsClient[_0x708c37(0x167)](ws2);}catch(_0x51e403){}ws2=null;}}async function initws(){const _0x5df0b2=_0x41af8d;cleanws();let _0x3f8508=[];currentCoins[_0x5df0b2(0x1ae)](_0x405097=>{const _0x4bdcac=_0x5df0b2;if(_0x405097[_0x4bdcac(0x15d)]!=config[_0x4bdcac(0x163)])_0x3f8508[_0x4bdcac(0x169)](noslash(_0x405097[_0x4bdcac(0x179)]));});if(!_0x3f8508[_0x5df0b2(0x154)](stablecoins[_0x5df0b2(0x15b)][_0x5df0b2(0x15d)]))_0x3f8508[_0x5df0b2(0x169)](stablecoins[_0x5df0b2(0x15b)]['coin']);if(!_0x3f8508[_0x5df0b2(0x154)](stablecoins['usd'][_0x5df0b2(0x15d)]))_0x3f8508['push'](stablecoins['usd'][_0x5df0b2(0x15d)]);if(!_0x3f8508[_0x5df0b2(0x154)](_0x5df0b2(0xd6)+config[_0x5df0b2(0x163)]))_0x3f8508['push'](_0x5df0b2(0xd6)+config[_0x5df0b2(0x163)]);try{_0x3f8508[_0x5df0b2(0x1ae)]((_0x52b2cb,_0x2bfb80)=>{const _0x3eea32=_0x5df0b2;ws1[_0x2bfb80]=wsClient[_0x3eea32(0x153)](_0x52b2cb,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x5df0b2(0x111),_0x29c772=>{const _0x23764a=_0x5df0b2;if(!Array[_0x23764a(0x1a8)](_0x29c772)&&!_0x29c772[_0x23764a(0xed)][_0x23764a(0x154)](_0x23764a(0x196))){if(_0x29c772[_0x23764a(0x18c)]===_0x23764a(0x110)){global['ticker'][_0x29c772['kline'][_0x23764a(0x179)]]=_0x29c772[_0x23764a(0x110)]['close'];return;}}else{if(!Array[_0x23764a(0x1a8)](_0x29c772)&&_0x29c772[_0x23764a(0xed)][_0x23764a(0x154)]('userData')){if(_0x29c772[_0x23764a(0x12a)][_0x23764a(0x154)]('spot')){updateNumberCoins(_0x29c772);return;}}}}),wsClient['on'](_0x5df0b2(0xd5),async _0x13cd36=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x2d0a65){await handleError(_0x2d0a65,'initws()');}let _0x32c17c,_0x3ace4c=0x0;loading[_0x5df0b2(0xe1)]=[];let _0x358b81=0x0;currentCoins[_0x5df0b2(0x1ae)](_0x247da8=>{const _0x360daf=_0x5df0b2;if(_0x247da8[_0x360daf(0x15d)]!=config[_0x360daf(0x163)])loading[_0x360daf(0xe1)][_0x360daf(0x169)](_0x247da8[_0x360daf(0x179)]);}),loadingCanceled=![];while(_0x32c17c!=currentCoins[_0x5df0b2(0x134)]-0x1){_0x32c17c=0x0,currentCoins[_0x5df0b2(0x1ae)](_0x401830=>{const _0x2421a6=_0x5df0b2;_0x401830[_0x2421a6(0x15d)]!=config[_0x2421a6(0x163)]&&global[_0x2421a6(0x140)][noslash(_0x401830[_0x2421a6(0x179)])]&&(loading['remainingSymbols']=loading[_0x2421a6(0xe1)][_0x2421a6(0x155)](_0x1510e2=>_0x1510e2!=_0x401830[_0x2421a6(0x179)]),_0x32c17c++);}),loading[_0x5df0b2(0x183)]=Math[_0x5df0b2(0x197)](_0x32c17c/(currentCoins[_0x5df0b2(0x134)]-0x1)*0x64);_0x358b81>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x5df0b2(0x186)]=!![],emitLoadingProgress();break;}else _0x32c17c!=_0x3ace4c&&(_0x3ace4c=_0x32c17c,emitLoadingProgress()),_0x358b81++,await sleep(0xc8);}if(_0x32c17c==currentCoins[_0x5df0b2(0x134)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x4b6b16=_0x41af8d;proxyEmit(_0x4b6b16(0x145),loading);}async function getFiat(){const _0x7e4cf0=_0x41af8d;let _0x45bbfb=0x0,_0x5a7287=0x0;try{_0x45bbfb=global[_0x7e4cf0(0x140)][stablecoins['eur'][_0x7e4cf0(0x15d)]],_0x5a7287=global[_0x7e4cf0(0x140)][stablecoins[_0x7e4cf0(0x10c)][_0x7e4cf0(0x15d)]];}catch(_0x58db7b){await handleError(_0x58db7b,_0x7e4cf0(0x1a6));}return{'eur':Number(_0x45bbfb),'usd':Number(_0x5a7287)};}function setStartDatePerformance(){const _0x2114ff=_0x41af8d;if(config&&config[_0x2114ff(0xf9)][0x0][_0x2114ff(0x15c)][_0x2114ff(0x134)]!=0x0){const _0x4c1769=config[_0x2114ff(0xf9)][0x0][_0x2114ff(0x15c)];dbPerformance[_0x2114ff(0x172)]('data')[_0x2114ff(0xd4)]({'date':config['startdate']})['assign']({'coins':_0x4c1769})['write']();}}function _0x4285(){const _0x5ed71f=['emitHistory','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','DDoSProtection','entries','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','BTC/USDT','offset','InvalidNonce','Manual\x20balancing\x20required:\x20','exchange','success','storeHeadless','delta','usd','\x20order:\x20','getPortfolio','cancelOrder','kline','formattedMessage','-config.json','privateKey','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','datetime','limit-high','936846wGtmmS','toFixed','apiKey','toString','symbols','timeshift','stringify','fetchOrders','Binance\x20API\x20key\x20is\x20invalid','fromCodePoint','performance','Order:\x20','Order(s)\x20filled\x20-\x20balancing\x20resumed','Pausing\x20bot\x20for\x205\x20minutes\x20(','BUSD','BTCBUSD','WebSockets(','orderId','replace','wsMarket','market','Limit\x20(high-margin)','has','API-key\x20format\x20invalid','error','number','price','5795154dglOKy','splice','length','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','************','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','-results.json','\x20orders\x20in\x20less\x20than\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','cost','total','bot','set','sort','ticker','configuration','getMinutes','ccxt','apiSecret','coin-loading-progress','5700906eygYph','397164uSTdhJ','yyyy/MM/dd\x20HH:mm:ss','logs','bid','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','valid','413839xZXLgT','RSA-OAEP','LIMIT','excluded','Executed\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','subscribeSpotKline','includes','filter','currency','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','yyyy/MM/dd','keys','balances','eur','changes','coin','parse','version','limit-low','getHours','BTCUSDT','basecoin','search','sell','fetchOHLCV','closeWs','./version.json','push','loadSymbols()','secure','binance','FILLED','limits','assign','split','Binance\x20API\x20secret\x20is\x20invalid','get','executionReport','bot-','7wnBOBS','message','getSeconds','date-fns','symbol','1286792AymXTw','argv','send','emojibuy','bb-settings.json','timestamp','write','realized','createOrder','progress','buys','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','cancel','fee','ask','slice','event-history','botname','eventType','coinamount','\x20minutes\x20-\x20balancing\x20resumed','2.3.5','addDays','buy','remove','map','sha256','Performance\x20recreation\x20completed\x20successfully','userData','round','data','args','emojisell','hybrid-crypto-js','binanceus','exit','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','orderType','OrderNotFound','fetchBalance','getCoins()',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','timeout','Crypt','getFiat()','distribution','isArray','/backup/','breakeven','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','side','page','forEach','event','asset','loadMarkets','Order\x20filled:\x20','getFullYear','ExchangeNotAvailable','getCloses()','\x20|\x20Unknown\x20error\x20occured','1485015KAhEjB','getPortfolio()','startnumber','cancelLoading','portfolio','Market','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','getStartingBalances','storeConfiguration','BTC/BUSD','-performance.json','padStart','\x20hour','reverse','Invalid\x20quantity','sortBy','BTCEUR','HOT/BTC','orderStatus','\x20>\x20','last','coins','abs','parseISO','-events.json','Order(s)\x20validated\x20-\x20balancing\x20resumed','placeOrder()','amount','MIN_NOTIONAL','type','isEqual','order','BTC','cancelOrder()','headless','filled','showname','(((.+)+)+)+$','threshold','AuthenticationError','limit','getMonth','ordertype','USDC','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','outboundAccountPosition','min','Bot\x20','target','fetchTickers','startprice','format','find','reconnected','BNB','differenceInCalendarDays','trade','value','milliseconds','3WMPHAK','DAI/','./config/','cooldown','restart','indexOf','remainingSymbols','reduce','kill','sells','running','getDate','initclient','HOT/EUR','recreateHistory()','yyyy-MM-dd\x27T\x27HH:mm:ss','log','time','wsKey','accumulatedQuantity','startdate','getTime','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','toLowerCase','InsufficientFunds','date','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','wss://stream.binance.com:9443','differenceInSeconds','decrypt','liquidity','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','defaults','max','Limit\x20(low-margin)','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'];_0x4285=function(){return _0x5ed71f;};return _0x4285();}async function recreateHistory(_0x50a800){const _0xba39f1=_0x41af8d;let _0x1983f7,_0x48dee7=[];logHistory(_0xba39f1(0x109),'Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0x50a800['portfolio'][_0xba39f1(0x1ae)](_0xd08b4e=>{const _0x2dd2ce=_0xba39f1;if(_0xd08b4e[_0x2dd2ce(0x15d)]!=config['basecoin']&&!_0xd08b4e[_0x2dd2ce(0x150)])_0x48dee7[_0x2dd2ce(0x169)]({'coin':_0xd08b4e[_0x2dd2ce(0x15d)],'symbol':_0xd08b4e[_0x2dd2ce(0x179)]});});let _0x3f2ee7=[];try{const _0x74f420=fns[_0xba39f1(0xd3)](fns[_0xba39f1(0xb7)](_0x50a800[_0xba39f1(0xef)][_0xba39f1(0x129)](/\//g,'-')),_0xba39f1(0xea));for(const _0x4ef355 of _0x48dee7){if(_0x4ef355['coin']!=config['basecoin'])_0x1983f7=await exchange[_0xba39f1(0x11e)](_0x4ef355[_0xba39f1(0x179)],Date['parse'](_0x74f420));_0x1983f7[_0xba39f1(0x1ae)](_0x1dce6e=>{const _0x1877c1=_0xba39f1,_0x2ae94f=_0x4ef355[_0x1877c1(0x179)][_0x1877c1(0x154)](config[_0x1877c1(0x163)]+'/'),_0xa441b6=fns['format'](fns[_0x1877c1(0xb7)](_0x1dce6e[_0x1877c1(0x115)]),_0x1877c1(0x148)),_0x571cce=fns[_0x1877c1(0xd3)](fns[_0x1877c1(0xb7)](_0x1dce6e[_0x1877c1(0x115)]),_0x1877c1(0x158));let _0x124b80;if(_0x1dce6e['side']=='buy'&&_0x2ae94f==![])_0x124b80=_0x1dce6e['amount'];if(_0x1dce6e[_0x1877c1(0x1ac)]=='buy'&&_0x2ae94f==!![])_0x124b80=-_0x1dce6e[_0x1877c1(0xbb)]*_0x1dce6e[_0x1877c1(0x131)];if(_0x1dce6e[_0x1877c1(0x1ac)]==_0x1877c1(0x165)&&_0x2ae94f==![])_0x124b80=-_0x1dce6e[_0x1877c1(0xbb)];if(_0x1dce6e[_0x1877c1(0x1ac)]==_0x1877c1(0x165)&&_0x2ae94f==!![])_0x124b80=_0x1dce6e[_0x1877c1(0xbb)]*_0x1dce6e['price'];_0x3f2ee7[_0x1877c1(0x169)]({'timestamp':_0xa441b6,'date':_0x571cce,'coin':_0x4ef355[_0x1877c1(0x15d)],'symbol':_0x4ef355[_0x1877c1(0x179)],'type':_0x1dce6e[_0x1877c1(0xbd)],'side':_0x1dce6e[_0x1877c1(0x1ac)],'reverse':_0x2ae94f,'amount':formatResult(_0x1dce6e[_0x1877c1(0xc3)],0x8),'filled':formatResult(_0x1dce6e['filled'],0x8),'coinamount':formatResult(_0x124b80,0x8),'price':formatResult(_0x1dce6e[_0x1877c1(0x131)],0x8)});let _0x4ee41b;if(_0x1dce6e[_0x1877c1(0x1ac)]==_0x1877c1(0x191)&&_0x2ae94f==![])_0x4ee41b=-_0x1dce6e[_0x1877c1(0xbb)]*_0x1dce6e[_0x1877c1(0x131)];if(_0x1dce6e[_0x1877c1(0x1ac)]==_0x1877c1(0x191)&&_0x2ae94f==!![])_0x4ee41b=_0x1dce6e[_0x1877c1(0xbb)];if(_0x1dce6e[_0x1877c1(0x1ac)]==_0x1877c1(0x165)&&_0x2ae94f==![])_0x4ee41b=_0x1dce6e[_0x1877c1(0xbb)]*_0x1dce6e['price'];if(_0x1dce6e[_0x1877c1(0x1ac)]=='sell'&&_0x2ae94f==!![])_0x4ee41b=-_0x1dce6e[_0x1877c1(0xbb)];_0x3f2ee7[_0x1877c1(0x169)]({'date':_0x571cce,'coin':config[_0x1877c1(0x163)],'coinamount':formatResult(_0x4ee41b,0x8)});});}_0x3f2ee7[_0xba39f1(0x13f)]((_0x595e09,_0x4e55d6)=>_0x595e09[_0xba39f1(0x17f)]>_0x4e55d6[_0xba39f1(0x17f)]?0x1:_0x4e55d6[_0xba39f1(0x17f)]>_0x595e09[_0xba39f1(0x17f)]?-0x1:0x0),dbLogs[_0xba39f1(0x172)](_0xba39f1(0x149))[_0xba39f1(0x192)]()[_0xba39f1(0x180)](),_0x3f2ee7[_0xba39f1(0x1ae)](_0xc99379=>{const _0x4c0723=_0xba39f1;let _0x2eb785;_0xc99379[_0x4c0723(0x15d)]!=config[_0x4c0723(0x163)]&&(_0x2eb785={'time':_0xc99379[_0x4c0723(0x17f)],'type':_0x4c0723(0xbf),'event':_0x4c0723(0x122)+_0xc99379[_0x4c0723(0x179)]+'\x20'+_0xc99379[_0x4c0723(0x1ac)]+'\x20#'+_0xc99379[_0x4c0723(0xbb)]+'\x20@'+_0xc99379['price']},dbLogs[_0x4c0723(0x172)](_0x4c0723(0x149))[_0x4c0723(0x169)](_0x2eb785)['write']());});const _0x276bfe=fns['eachDayOfInterval']({'start':new Date(_0x50a800['startdate']),'end':new Date()})[_0xba39f1(0x193)](_0x1901b4=>fns['format'](_0x1901b4,_0xba39f1(0x158)));let _0x1dfdf9=[];_0x50a800[_0xba39f1(0x1bb)][_0xba39f1(0x1ae)](_0x2b1f16=>{const _0x4bfd31=_0xba39f1;if(!_0x2b1f16[_0x4bfd31(0x150)]){_0x1dfdf9[_0x2b1f16['coin']]=[];let _0x359b02=_0x2b1f16[_0x4bfd31(0x1b9)];_0x276bfe[_0x4bfd31(0x1ae)]((_0x38f6c9,_0x39f83c)=>{const _0xb8dd7f=_0x4bfd31;let _0x5c1fc1=_0x3f2ee7[_0xb8dd7f(0x155)](_0x1e15bb=>_0x1e15bb[_0xb8dd7f(0x15d)]==_0x2b1f16[_0xb8dd7f(0x15d)]&&_0x1e15bb['date']==_0x38f6c9);if(_0x5c1fc1[_0xb8dd7f(0x134)]!=0x0){let _0x3c0f68=_0x5c1fc1[_0xb8dd7f(0xe2)]((_0x102405,_0x49c58f)=>{const _0x41829b=_0xb8dd7f;return _0x102405+=_0x49c58f[_0x41829b(0x18d)],_0x102405;},0x0);_0x359b02+=_0x3c0f68;}_0x1dfdf9[_0x2b1f16[_0xb8dd7f(0x15d)]][_0x38f6c9]=_0x359b02;});}});const _0x5c901d=[..._0x48dee7];_0x5c901d['push']({'coin':stablecoins['eur'][_0xba39f1(0x15d)],'symbol':stablecoins[_0xba39f1(0x15b)][_0xba39f1(0x179)]}),_0x5c901d[_0xba39f1(0x169)]({'coin':stablecoins[_0xba39f1(0x10c)][_0xba39f1(0x15d)],'symbol':stablecoins[_0xba39f1(0x10c)][_0xba39f1(0x179)]});let _0x95fa6c=[];for(const _0x2cd360 of _0x5c901d){_0x95fa6c[_0x2cd360[_0xba39f1(0x15d)]]=await getCloses(_0x2cd360['symbol'],new Date(_0x50a800[_0xba39f1(0xef)]));}dbPerformance['get'](_0xba39f1(0x198))[_0xba39f1(0x192)]()[_0xba39f1(0x180)](),_0x276bfe[_0xba39f1(0x1ae)]((_0x3b8720,_0x224018)=>{const _0x32ae26=_0xba39f1;let _0x265e70,_0x37cce0=[];_0x224018==0x0?(_0x50a800[_0x32ae26(0x1bb)][_0x32ae26(0x1ae)](_0x279578=>{const _0x18b660=_0x32ae26;!_0x279578[_0x18b660(0x150)]&&_0x37cce0[_0x18b660(0x169)]({'coin':_0x279578[_0x18b660(0x15d)],'number':_0x279578[_0x18b660(0x1b9)],'price':_0x279578[_0x18b660(0xd2)]});}),_0x265e70={'date':_0x3b8720,'eur':_0x95fa6c[stablecoins[_0x32ae26(0x15b)]['coin']][_0x224018],'usd':_0x95fa6c[stablecoins['usd'][_0x32ae26(0x15d)]][_0x224018],'coins':_0x37cce0}):(_0x50a800[_0x32ae26(0x1bb)][_0x32ae26(0x1ae)](_0x151190=>{const _0x48bfed=_0x32ae26;!_0x151190[_0x48bfed(0x150)]&&_0x37cce0['push']({'coin':_0x151190[_0x48bfed(0x15d)],'number':_0x1dfdf9[_0x151190[_0x48bfed(0x15d)]][_0x3b8720],'price':_0x151190[_0x48bfed(0x15d)]==config[_0x48bfed(0x163)]?0x1:_0x95fa6c[_0x151190[_0x48bfed(0x15d)]][_0x224018]});}),_0x265e70={'date':_0x3b8720,'eur':_0x95fa6c[stablecoins[_0x32ae26(0x15b)][_0x32ae26(0x15d)]][_0x224018],'usd':_0x95fa6c[stablecoins[_0x32ae26(0x10c)][_0x32ae26(0x15d)]][_0x224018],'coins':_0x37cce0}),dbPerformance[_0x32ae26(0x172)](_0x32ae26(0x198))[_0x32ae26(0x169)](_0x265e70)[_0x32ae26(0x180)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x103ab5 of _0x3f2ee7){_0x103ab5['coin']!=config[_0xba39f1(0x163)]&&await updateCoinResults(_0x103ab5);}logHistory('success',_0xba39f1(0x195));}catch(_0x5779d8){await handleError(_0x5779d8,_0xba39f1(0xe9));}}async function getCloses(_0x1b2529,_0x27393d,_0x3d4ee9=undefined){const _0x1ddd77=_0x41af8d,_0x14729a='1d';let _0x2d88d7,_0x77c9b9;const _0x4987b8=fns[_0x1ddd77(0xd7)](new Date(),_0x27393d)+0x1;try{const _0x1a7b52=exchange[_0x1ddd77(0xda)]()-_0x4987b8*0x18*0xe10*0x3e8;_0x2d88d7=await exchange[_0x1ddd77(0x166)](_0x1b2529,_0x14729a,_0x1a7b52,_0x3d4ee9),_0x77c9b9=await exchange['fetchTickers'](_0x1b2529);}catch(_0x151bdd){await handleError(_0x151bdd,_0x1ddd77(0x1b5));}let _0x38629d=ohlcvToCloses(_0x2d88d7);return _0x38629d[_0x1ddd77(0x169)](_0x77c9b9[_0x1b2529]['last']),_0x38629d;}function ohlcvToCloses(_0x408d9f){let _0x747c31=[];return _0x408d9f['forEach'](function(_0x584d41){_0x747c31['push'](_0x584d41[0x4]);}),_0x747c31;}function oneTimeMigration(){const _0x25bb35=_0x41af8d;let _0xc76a58=dbLogs[_0x25bb35(0x172)]('version')[_0x25bb35(0xd9)]();if(_0xc76a58!=_0x25bb35(0x18f)){dbLogs['set']('version',_0x25bb35(0x18f))[_0x25bb35(0x180)]();let _0x236a2f=[];const _0x3e6568=dbLogs[_0x25bb35(0x172)](_0x25bb35(0x149))[_0x25bb35(0xd9)]();_0x3e6568[_0x25bb35(0x1ae)](_0x2391d0=>{const _0x1eae4e=_0x25bb35;_0x236a2f['push']({'time':_0x2391d0[_0x1eae4e(0xec)],'type':_0x2391d0[_0x1eae4e(0xbd)],'event':_0x2391d0[_0x1eae4e(0x1af)]});}),dbLogs[_0x25bb35(0x172)](_0x25bb35(0x149))['assign'](_0x236a2f)[_0x25bb35(0x180)]();}let _0x32ad9a=dbConfig[_0x25bb35(0x172)](_0x25bb35(0x15f))[_0x25bb35(0xd9)]();if(_0x32ad9a!='2.3.5'){dbConfig[_0x25bb35(0x13e)](_0x25bb35(0x15f),_0x25bb35(0x18f))[_0x25bb35(0x180)]();let _0x371d5=dbConfig[_0x25bb35(0x172)](_0x25bb35(0x13d))[_0x25bb35(0xd4)]({'botID':botID})['value']();if(_0x371d5){let _0x209b09=[];_0x371d5[_0x25bb35(0x1bb)][_0x25bb35(0x1ae)](_0x137a1a=>{const _0x4205d2=_0x25bb35;_0x209b09[_0x4205d2(0x169)]({'coin':_0x137a1a[_0x4205d2(0x15d)],'number':_0x137a1a[_0x4205d2(0x1b9)],'price':_0x137a1a[_0x4205d2(0xd2)]}),delete _0x137a1a['startnumber'],delete _0x137a1a[_0x4205d2(0xd2)];});if(_0x209b09['length']!==0x0)fs['writeFile'](configbackuppath+('starting-balance-'+botID+'.json'),JSON['stringify'](_0x209b09,null,0x4),function(_0x56e433){if(_0x56e433){}});const _0x1d949d=(_0xe1a494,_0xd3dc3f)=>{const _0x379258=_0x25bb35;let _0x324e53=[];_0xd3dc3f['forEach'](_0xa97b89=>{const _0x4a176c=_0x5e66,_0x285ffd=_0xe1a494[_0x4a176c(0xd4)](_0x562a39=>_0x562a39[_0x4a176c(0x15d)]==_0xa97b89['coin']);if(!_0x285ffd)_0x324e53['push'](_0xa97b89);});let _0x249ff1=[];return _0xe1a494[_0x379258(0x1ae)](_0x493b0f=>{const _0x4df8d9=_0x379258,_0xb85778=_0xd3dc3f[_0x4df8d9(0xd4)](_0x2c7660=>_0x2c7660[_0x4df8d9(0x15d)]==_0x493b0f[_0x4df8d9(0x15d)]);if(!_0xb85778||_0xb85778[_0x4df8d9(0x130)]==0x0&&_0x493b0f[_0x4df8d9(0x130)]!=0x0)_0x249ff1[_0x4df8d9(0x169)](_0x493b0f);}),{'missingDay1':_0x324e53,'notInDay2':_0x249ff1};},_0x249445=dbPerformance[_0x25bb35(0x172)](_0x25bb35(0x198))['cloneDeep']()[_0x25bb35(0xd9)]();if(_0x249445[_0x25bb35(0x134)]>0x1){const {missingDay1:_0x16c8ff,notInDay2:_0xc220dc}=_0x1d949d(_0x209b09,_0x249445[0x1]['coins']);_0x209b09=[..._0x209b09,..._0x16c8ff],_0xc220dc[_0x25bb35(0x1ae)](_0x5027c6=>{const _0x2515d3=_0x25bb35;let _0x47d8fc=_0x209b09['findIndex'](_0x50b6c2=>_0x50b6c2[_0x2515d3(0x15d)]==_0x5027c6['coin']);_0x47d8fc!=-0x1&&_0x209b09[_0x2515d3(0x133)](_0x47d8fc,0x1);});}_0x209b09['sort']((_0x1cab93,_0xa01c06)=>_0x1cab93[_0x25bb35(0x15d)]>_0xa01c06[_0x25bb35(0x15d)]?0x1:_0xa01c06[_0x25bb35(0x15d)]>_0x1cab93['coin']?-0x1:0x0);let _0x1cd02f=[{'date':_0x371d5['startdate'],'changes':_0x209b09}];_0x249445[_0x25bb35(0x134)]>0x2&&_0x249445[_0x25bb35(0x1ae)]((_0x4e7ae8,_0x29f147)=>{const _0x29d1a4=_0x25bb35;if(_0x29f147>0x0&&_0x29f147<_0x249445[_0x29d1a4(0x134)]-0x1){const {missingDay1:_0x527694,notInDay2:_0x6e2e93}=_0x1d949d(_0x249445[_0x29f147][_0x29d1a4(0xb5)],_0x249445[_0x29f147+0x1][_0x29d1a4(0xb5)]);_0x209b09=[],(_0x527694[_0x29d1a4(0x134)]!=0x0||_0x6e2e93[_0x29d1a4(0x134)]!=0x0)&&(_0x527694[_0x29d1a4(0x134)]!=0x0&&_0x209b09[_0x29d1a4(0x169)](..._0x527694),_0x6e2e93[_0x29d1a4(0x134)]!=0x0&&(_0x6e2e93['forEach'](_0x150d78=>{const _0x34c21f=_0x29d1a4;_0x150d78[_0x34c21f(0x130)]=-_0x150d78[_0x34c21f(0x130)];}),_0x209b09[_0x29d1a4(0x169)](..._0x6e2e93)),_0x209b09[_0x29d1a4(0x13f)]((_0xcd1b2f,_0x1f42b8)=>_0xcd1b2f[_0x29d1a4(0x15d)]>_0x1f42b8[_0x29d1a4(0x15d)]?0x1:_0x1f42b8[_0x29d1a4(0x15d)]>_0xcd1b2f[_0x29d1a4(0x15d)]?-0x1:0x0),_0x1cd02f[_0x29d1a4(0x169)]({'date':_0x249445[_0x29f147+0x1][_0x29d1a4(0xf4)],'changes':_0x209b09}));}}),dbConfig[_0x25bb35(0x172)](_0x25bb35(0x13d))[_0x25bb35(0xd4)]({'botID':botID})['assign']({..._0x371d5,'liquidity':_0x1cd02f})['write']();}}config=getConfiguration(botID);let _0x426085=dbPerformance['get'](_0x25bb35(0x15f))[_0x25bb35(0xd9)]();_0x426085!=_0x25bb35(0x18f)&&(dbPerformance[_0x25bb35(0x13e)](_0x25bb35(0x15f),_0x25bb35(0x18f))[_0x25bb35(0x180)](),setStartDatePerformance());let _0x41b4e8=dbCoinResults['get'](_0x25bb35(0x15f))[_0x25bb35(0xd9)]();_0x41b4e8!='2.3.5'&&dbCoinResults[_0x25bb35(0x13e)](_0x25bb35(0x15f),'2.3.5')['write']();}function getConfiguration(_0x4da351){const _0x29e619=_0x41af8d;let _0xa3cb32=dbConfig[_0x29e619(0x172)]('bot')[_0x29e619(0xd4)]({'botID':_0x4da351})[_0x29e619(0xd9)]();if(_0xa3cb32){}else _0xa3cb32={'botID':_0x4da351,'exchange':_0x29e619(0x16c),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x29e619(0xcf)+_0x4da351,'showname':![],'threshold':'3','ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x29e619(0x11c)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0xa3cb32;}function emittedConfiguration(){const _0x471dbb=_0x41af8d;let _0x1083d9;return config[_0x471dbb(0x119)]==''?_0x1083d9=config:_0x1083d9={...config,'apiKey':_0x471dbb(0x136),'apiSecret':_0x471dbb(0x136)},_0x1083d9;}function getSettings(){const _0x429cee=_0x41af8d;return dbSettings[_0x429cee(0x172)]('settings')[_0x429cee(0xd9)]();}function getSecure(){const _0x3a138e=_0x41af8d;return dbSecure['get'](_0x3a138e(0x16b))[_0x3a138e(0xd9)]()||{};}function updateTimeshift(_0x91def3){const _0x540f73=_0x41af8d;let _0x1a28b5=dbConfig['get'](_0x540f73(0x13d))['find']({'botID':botID})['value']();_0x1a28b5&&dbConfig[_0x540f73(0x172)](_0x540f73(0x13d))[_0x540f73(0xd4)]({'botID':botID})[_0x540f73(0x16f)]({'timeshift':_0x91def3})['write'](),config[_0x540f73(0x11c)]=_0x91def3,proxyEmit(_0x540f73(0x141),emittedConfiguration());}async function storeConfiguration(_0x1e6fba){const _0x74195c=_0x41af8d;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x505f70=dbConfig[_0x74195c(0x172)](_0x74195c(0x13d))['find']({'botID':botID})['value']();_0x1e6fba={..._0x1e6fba,'apiKey':crypt[_0x74195c(0xf8)](secure['privateKey'],_0x1e6fba[_0x74195c(0x119)])['message'],'apiSecret':crypt['decrypt'](secure[_0x74195c(0x113)],_0x1e6fba[_0x74195c(0x144)])[_0x74195c(0x176)]};if(_0x505f70){if(_0x1e6fba[_0x74195c(0x119)]==_0x74195c(0x136))_0x1e6fba[_0x74195c(0x119)]=config[_0x74195c(0x119)];if(_0x1e6fba[_0x74195c(0x144)]=='************')_0x1e6fba[_0x74195c(0x144)]=config[_0x74195c(0x144)];dbConfig[_0x74195c(0x172)](_0x74195c(0x13d))[_0x74195c(0xd4)]({'botID':botID})['assign'](_0x1e6fba)[_0x74195c(0x180)]();}else dbConfig[_0x74195c(0x172)]('bot')['push'](_0x1e6fba)[_0x74195c(0x180)](),process['send']({'status':'enabled','live':_0x74195c(0xe5)},_0x53958c=>{});config={..._0x1e6fba},setStartDatePerformance(),process[_0x74195c(0x17c)]({'botname':_0x1e6fba['botname']},_0x43d253=>{});const _0x3463d0=getNormalizedPerformance();getStartingBalances(_0x3463d0),emitPerformance(_0x3463d0),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x2ecd14){const _0x4b6f8a=_0x41af8d,_0x4ef0e2={...config,'headless':_0x2ecd14['headless']};let _0x32cc71=dbConfig['get'](_0x4b6f8a(0x13d))[_0x4b6f8a(0xd4)]({'botID':botID})[_0x4b6f8a(0xd9)]();_0x32cc71&&dbConfig[_0x4b6f8a(0x172)](_0x4b6f8a(0x13d))[_0x4b6f8a(0xd4)]({'botID':botID})['assign'](_0x4ef0e2)['write'](),config={..._0x4ef0e2},proxyEmit(_0x4b6f8a(0x141),emittedConfiguration());}function noslash(_0x378eea){const _0x9a4631=_0x41af8d;return _0x378eea[_0x9a4631(0x129)]('/','');}function updateNumberCoins(_0x51890c){const _0x3f72e4=_0x41af8d;_0x51890c['eventType']&&_0x51890c[_0x3f72e4(0x18c)]==_0x3f72e4(0xcd)&&_0x51890c[_0x3f72e4(0x15a)][_0x3f72e4(0x1ae)](_0x4f7143=>{const _0x25495a=_0x3f72e4;let _0x2a7c4a=currentCoins[_0x25495a(0xd4)](_0x3a9dfd=>_0x3a9dfd[_0x25495a(0x15d)]==_0x4f7143[_0x25495a(0x1b0)]),_0x499976=config[_0x25495a(0x1bb)]['find'](_0x4ff50e=>_0x4ff50e[_0x25495a(0x15d)]==_0x4f7143[_0x25495a(0x1b0)]);if(_0x2a7c4a&&_0x499976)_0x2a7c4a[_0x25495a(0x130)]=Math[_0x25495a(0xfc)](Number(_0x4f7143['availableBalance'])+(_0x499976['offset']||0x0),0x0);});if(_0x51890c[_0x3f72e4(0x18c)]&&_0x51890c['eventType']==_0x3f72e4(0x173)){if(_0x51890c[_0x3f72e4(0x19f)]==_0x3f72e4(0x14f)&&_0x51890c[_0x3f72e4(0xb2)]==_0x3f72e4(0x16d)){if(lastOrders)lastOrders[_0x3f72e4(0x1ae)](_0x56638d=>{const _0x1bf23c=_0x3f72e4;if(_0x56638d['orderId']==_0x51890c[_0x1bf23c(0x128)]){if(_0x56638d[_0x1bf23c(0x1c4)])_0x56638d['filled']=_0x51890c['accumulatedQuantity']*_0x56638d['price'];else _0x56638d[_0x1bf23c(0xc3)]=_0x51890c[_0x1bf23c(0xee)];}});}}}async function getCoins(_0x3bfdff=!![],_0x3d1a7d=config[_0x41af8d(0x163)]){const _0x2a80eb=_0x41af8d;let _0x7255d7,_0x5795eb=[],_0x6136ea=[],_0x4cd06e=[];try{_0x7255d7=await exchange[_0x2a80eb(0x1a1)](),mybalances=_0x7255d7[_0x2a80eb(0x13c)];if(!_0x3bfdff)for(const [_0x424d3f,_0x3017fe]of Object[_0x2a80eb(0x102)](mybalances)){_0x4cd06e[_0x2a80eb(0x169)](_0x424d3f);}else config['portfolio']['forEach'](_0x2fad3a=>{const _0x55251e=_0x2a80eb;if(!_0x2fad3a[_0x55251e(0x150)])_0x4cd06e[_0x55251e(0x169)](_0x2fad3a[_0x55251e(0x15d)]);});if(_0x3d1a7d=='')for(const [_0x34ec74,_0x536e40]of Object[_0x2a80eb(0x102)](mybalances)){_0x536e40[_0x2a80eb(0x11a)]()!=0x0&&_0x6136ea[_0x2a80eb(0x169)]({'coin':_0x34ec74});}else for(const [_0x18e911,_0x2ca4a7]of Object['entries'](mybalances)){if(_0x4cd06e[_0x2a80eb(0x154)](_0x18e911)){const _0x118942=config['portfolio'][_0x2a80eb(0xd4)](_0x375561=>_0x375561[_0x2a80eb(0x15d)]==_0x18e911);if((_0x2ca4a7[_0x2a80eb(0x11a)]()!=0x0||_0x118942)&&(allSymbols['includes'](_0x18e911+'/'+_0x3d1a7d)||_0x18e911==_0x3d1a7d))_0x6136ea[_0x2a80eb(0x169)]({'coin':_0x18e911,'symbol':_0x18e911+'/'+_0x3d1a7d,'reverse':![],'number':Math[_0x2a80eb(0xfc)](_0x2ca4a7+(_0x118942&&_0x118942[_0x2a80eb(0x105)]||0x0),0x0)}),_0x18e911!=_0x3d1a7d&&_0x5795eb[_0x2a80eb(0x169)](_0x18e911+'/'+_0x3d1a7d);else(_0x2ca4a7['toString']()!=0x0||_0x118942)&&allSymbols[_0x2a80eb(0x154)](_0x3d1a7d+'/'+_0x18e911)&&(_0x6136ea[_0x2a80eb(0x169)]({'coin':_0x18e911,'symbol':_0x3d1a7d+'/'+_0x18e911,'reverse':!![],'number':Math[_0x2a80eb(0xfc)](_0x2ca4a7+(_0x118942&&_0x118942[_0x2a80eb(0x105)]||0x0),0x0)}),_0x18e911!=_0x3d1a7d&&_0x5795eb[_0x2a80eb(0x169)](_0x3d1a7d+'/'+_0x18e911));}}}catch(_0x76cb57){if(!_0x3bfdff){if(_0x76cb57[_0x2a80eb(0x11a)]()[_0x2a80eb(0x154)](_0x2a80eb(0x12e)))return logHistory('error',_0x2a80eb(0x11f)),![];else{if(_0x76cb57[_0x2a80eb(0x11a)]()[_0x2a80eb(0x154)](_0x2a80eb(0xc7)))return logHistory(_0x2a80eb(0x12f),_0x2a80eb(0xfa)),![];else{if(_0x76cb57['toString']()[_0x2a80eb(0x154)](_0x2a80eb(0x19e)))return logHistory(_0x2a80eb(0x12f),_0x2a80eb(0x171)),![];else await handleError(_0x76cb57,_0x2a80eb(0x1a2));}}}else await handleError(_0x76cb57,_0x2a80eb(0x1a2));}return _0x6136ea;}async function getPortfolio(_0x35e7c1){const _0x119217=_0x41af8d;let _0x555f16=[],_0x3cbba8=[],_0x5586bf,_0x549524=[],_0x49f806,_0x2f9c0c;_0x35e7c1['apiKey']===_0x119217(0x136)||_0x35e7c1[_0x119217(0x144)]===_0x119217(0x136)?(_0x49f806=config['apiKey'],_0x2f9c0c=config[_0x119217(0x144)]):(_0x49f806=_0x35e7c1[_0x119217(0x119)],_0x2f9c0c=_0x35e7c1['apiSecret']);await initExchange(_0x49f806,_0x2f9c0c);let _0xd72056=await loadSymbols();if(_0xd72056){_0x549524=await getCoins(![],_0x35e7c1['basecoin']);if(_0x549524===![])proxyEmit(_0x119217(0x1bb),![]);else{if(_0x35e7c1[_0x119217(0x163)]=='')proxyEmit(_0x119217(0x1bb),_0x549524);else{_0x549524[_0x119217(0x1ae)](_0x12e7ed=>{const _0x2c4c3b=_0x119217;_0x555f16[_0x2c4c3b(0x169)](_0x12e7ed[_0x2c4c3b(0x179)]);});try{_0x3cbba8=await exchange[_0x119217(0xd1)](_0x555f16);}catch(_0x56bbf0){await handleError(_0x56bbf0,_0x119217(0x1b8));}_0x549524[_0x119217(0x1ae)](_0x15a428=>{const _0x272a20=_0x119217;_0x15a428[_0x272a20(0x15d)]!=_0x35e7c1[_0x272a20(0x163)]?_0x5586bf=_0x15a428[_0x272a20(0x1c4)]?0x1/_0x3cbba8[_0x15a428[_0x272a20(0x179)]][_0x272a20(0xb4)]:_0x3cbba8[_0x15a428['symbol']][_0x272a20(0xb4)]:_0x5586bf=0x1,_0x15a428[_0x272a20(0x131)]=formatResult(_0x5586bf,0x8);}),proxyEmit(_0x119217(0x1bb),_0x549524);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x34ffd2){const _0x8f7f27=_0x41af8d;let _0x4658c1=!![];const _0x2ba208=!_0x34ffd2[_0x8f7f27(0x1c4)]?markets[_0x34ffd2[_0x8f7f27(0x179)]]['limits']['amount'][_0x8f7f27(0xce)]:markets[_0x34ffd2[_0x8f7f27(0x179)]][_0x8f7f27(0x16e)][_0x8f7f27(0x13b)][_0x8f7f27(0xce)],_0x15ab50=!_0x34ffd2[_0x8f7f27(0x1c4)]?markets[_0x34ffd2['symbol']][_0x8f7f27(0x16e)][_0x8f7f27(0x13b)][_0x8f7f27(0xce)]:markets[_0x34ffd2[_0x8f7f27(0x179)]]['limits'][_0x8f7f27(0xbb)][_0x8f7f27(0xce)];if(Math[_0x8f7f27(0xb6)](_0x34ffd2[_0x8f7f27(0xd8)])<_0x2ba208)_0x4658c1=![];if(Math[_0x8f7f27(0xb6)](_0x34ffd2[_0x8f7f27(0xd8)])*_0x34ffd2[_0x8f7f27(0xb4)]<_0x15ab50)_0x4658c1=![];if(_0x34ffd2[_0x8f7f27(0x1ac)]==_0x8f7f27(0x165)){let _0x3185bc=config[_0x8f7f27(0x1bb)][_0x8f7f27(0xd4)](_0x39f6cb=>_0x39f6cb[_0x8f7f27(0x15d)]==_0x34ffd2[_0x8f7f27(0x15d)]);if(Math[_0x8f7f27(0xb6)](_0x34ffd2[_0x8f7f27(0xd8)])>_0x34ffd2[_0x8f7f27(0x130)]-_0x3185bc[_0x8f7f27(0x105)])_0x4658c1=![];}return _0x4658c1;}async function getBalances(){const _0x36cf68=_0x41af8d;let _0x4a84f6=0x0,_0x35b360;const _0x2ec7f3=config[_0x36cf68(0xc6)];currentCoins['forEach'](_0x4c7207=>{const _0xbda865=_0x36cf68;if(_0x4c7207[_0xbda865(0x15d)]!=config[_0xbda865(0x163)]){let _0x4cf9db=global[_0xbda865(0x140)][noslash(_0x4c7207[_0xbda865(0x179)])];_0x35b360=_0x4c7207[_0xbda865(0x1c4)]?0x1/_0x4cf9db:_0x4cf9db;}else _0x35b360=0x1;let _0x1741e4=_0x4c7207['number']*_0x35b360;_0x4a84f6+=_0x1741e4,_0x4c7207[_0xbda865(0xb4)]=formatResult(Number(_0x35b360),0x8),_0x4c7207[_0xbda865(0xd9)]=_0x1741e4;}),currentCoins[_0x36cf68(0x1ae)](_0x529d29=>{const _0x2863a8=_0x36cf68;let _0x1628da=config[_0x2863a8(0x1bb)]['find'](_0x306e08=>_0x306e08[_0x2863a8(0x15d)]==_0x529d29[_0x2863a8(0x15d)]),_0x558511=Number(_0x1628da[_0x2863a8(0x1a7)]),_0x381453=_0x529d29[_0x2863a8(0xd9)]/_0x4a84f6*0x64,_0x442217=_0x558511*_0x4a84f6/0x64/_0x529d29[_0x2863a8(0xb4)]-_0x529d29[_0x2863a8(0x130)];_0x529d29[_0x2863a8(0x1a7)]=formatResult(_0x381453,0x3),_0x529d29[_0x2863a8(0xd0)]=formatResult(_0x558511,0x3),_0x529d29[_0x2863a8(0xd8)]=formatResult(_0x442217,0x8),_0x529d29[_0x2863a8(0x1ac)]='',_0x529d29[_0x2863a8(0x14c)]='';if(_0x529d29[_0x2863a8(0x15d)]!=config[_0x2863a8(0x163)]){if(_0x529d29[_0x2863a8(0x1a7)]>_0x558511)_0x529d29['side']=_0x2863a8(0x165),_0x529d29[_0x2863a8(0x14c)]=checkMinimums(_0x529d29);else _0x529d29[_0x2863a8(0x1a7)]<_0x558511&&(_0x529d29['side']=_0x2863a8(0x191),_0x529d29['valid']=checkMinimums(_0x529d29));}_0x529d29['delta']=_0x529d29[_0x2863a8(0x1a7)]/_0x529d29[_0x2863a8(0xd0)]-0x1;}),currentCoins[_0x36cf68(0x13f)]((_0x25393d,_0x2c7f39)=>_0x25393d['delta']<_0x2c7f39['delta']?0x1:_0x2c7f39[_0x36cf68(0x10b)]<_0x25393d['delta']?-0x1:0x0);const _0x1adc02=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1adc02[_0x36cf68(0x15b)],'usd':_0x1adc02[_0x36cf68(0x10c)],'portfolio':JSON[_0x36cf68(0x11d)](currentCoins),'threshold':_0x2ec7f3},proxyEmit(_0x36cf68(0x15a),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x36cf68(0xc2)])headlessMode({'portfolio':currentCoins,'threshold':_0x2ec7f3});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x2ec7f3});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x17b76b=_0x41af8d;if(!lastBalances)return;let _0x4dee24=[],_0x18e81b,_0x52e329=JSON[_0x17b76b(0x15e)](lastBalances['portfolio']);_0x52e329['sort']((_0x547994,_0x24ef06)=>_0x547994['coin']>_0x24ef06[_0x17b76b(0x15d)]?0x1:_0x24ef06['coin']>_0x547994[_0x17b76b(0x15d)]?-0x1:0x0),_0x52e329[_0x17b76b(0x1ae)](_0x309771=>{const _0x41f16e=_0x17b76b;let _0x4b7a74={'coin':_0x309771['coin'],'number':_0x309771[_0x41f16e(0x130)],'price':_0x309771[_0x41f16e(0xb4)]};_0x4dee24['push'](_0x4b7a74);});const _0x1a7ad0=await getFiat();_0x18e81b={'date':lastBalances[_0x17b76b(0xec)][_0x17b76b(0x170)]('\x20')[0x0],'eur':_0x1a7ad0[_0x17b76b(0x15b)],'usd':_0x1a7ad0[_0x17b76b(0x10c)],'coins':_0x4dee24};let _0x58e5f0=dbPerformance[_0x17b76b(0x172)](_0x17b76b(0x198))['find']({'date':_0x18e81b[_0x17b76b(0xf4)]})['value']();_0x58e5f0?_0x18e81b[_0x17b76b(0xf4)]!=config[_0x17b76b(0xef)]&&dbPerformance[_0x17b76b(0x172)](_0x17b76b(0x198))[_0x17b76b(0xd4)]({'date':_0x18e81b[_0x17b76b(0xf4)]})[_0x17b76b(0x16f)](_0x18e81b)[_0x17b76b(0x180)]():dbPerformance[_0x17b76b(0x172)](_0x17b76b(0x198))[_0x17b76b(0x169)](_0x18e81b)[_0x17b76b(0x180)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x196ef4=_0x41af8d;let _0x22b8d3=[];if(dbPerformance['has']('data')[_0x196ef4(0xd9)]()){let _0x4b3546=dbPerformance[_0x196ef4(0x172)](_0x196ef4(0x198))['cloneDeep']()[_0x196ef4(0x1c6)](_0x196ef4(0xf4))[_0x196ef4(0xd9)](),_0x22b642=[...config['liquidity']];_0x22b642['sort']((_0x131546,_0x4ed6e3)=>_0x131546[_0x196ef4(0xf4)]>_0x4ed6e3[_0x196ef4(0xf4)]?-0x1:_0x4ed6e3['date']>_0x131546[_0x196ef4(0xf4)]?0x1:0x0);let _0x44b4e3=0x1,_0x13241c=[],_0x329aa5=0x0;_0x4b3546[_0x196ef4(0x189)]()['reverse']()[_0x196ef4(0x1ae)]((_0x4acdeb,_0x379305)=>{const _0x14ad6e=_0x196ef4;if(_0x22b642[_0x329aa5]){const _0x43b533=fns['parse'](_0x22b642[_0x329aa5][_0x14ad6e(0xf4)],_0x14ad6e(0x158),new Date()),_0xea7ce4=fns[_0x14ad6e(0x15e)](_0x4acdeb[_0x14ad6e(0xf4)],_0x14ad6e(0x158),new Date());if(fns[_0x14ad6e(0xbe)](_0x43b533,fns[_0x14ad6e(0x190)](_0xea7ce4,0x1))){if(_0x379305<_0x4b3546[_0x14ad6e(0x134)]){let _0x2de5ad=0x0,_0x2e3204=0x0;_0x4b3546[_0x4b3546[_0x14ad6e(0x134)]-_0x379305-0x1]['coins'][_0x14ad6e(0x1ae)](_0x2e43d2=>{const _0x1b7d0d=_0x14ad6e;_0x2e3204+=_0x2e43d2['number']*_0x2e43d2[_0x1b7d0d(0x131)];}),_0x22b642[_0x329aa5]['changes'][_0x14ad6e(0x1ae)](_0x5007c4=>{const _0x36adea=_0x14ad6e;_0x2de5ad+=_0x5007c4[_0x36adea(0x130)]*_0x5007c4[_0x36adea(0x131)];}),_0x44b4e3*=_0x2de5ad/_0x2e3204+0x1;}_0x329aa5++;}}let _0x2ed34e=0x0;_0x4acdeb[_0x14ad6e(0xb5)]['forEach'](_0xe2306c=>{const _0x1d776c=_0x14ad6e;_0x2ed34e+=_0xe2306c[_0x1d776c(0x130)]*_0xe2306c[_0x1d776c(0x131)];}),_0x13241c[_0x4b3546[_0x14ad6e(0x134)]-_0x379305-0x1]=_0x2ed34e*(_0x44b4e3-0x1);});let _0x21f5e5=[];_0x22b642=[...config[_0x196ef4(0xf9)]]||[];let _0x50a98a=0x0;_0x329aa5=0x0,_0x4b3546[_0x196ef4(0x1ae)]((_0x34030f,_0x3f0bbd)=>{const _0x5c1585=_0x196ef4;if(_0x22b642[_0x329aa5]){const _0x4b7684=fns[_0x5c1585(0x15e)](_0x22b642[_0x329aa5][_0x5c1585(0xf4)],_0x5c1585(0x158),new Date()),_0x314bf1=fns[_0x5c1585(0x15e)](_0x34030f[_0x5c1585(0xf4)],_0x5c1585(0x158),new Date()),_0x2f94c3=fns[_0x5c1585(0xd3)](fns['subDays'](_0x314bf1,0x1),'yyyy/MM/dd');if(fns[_0x5c1585(0xbe)](_0x4b7684,_0x314bf1)){let _0xaf05b6=0x0;_0x22b642[_0x329aa5][_0x5c1585(0x15c)][_0x5c1585(0x1ae)](_0x113925=>{const _0x108479=_0x5c1585;!_0x21f5e5[_0x113925[_0x108479(0x15d)]]?_0x21f5e5[_0x113925['coin']]=_0x113925['number']:(_0xaf05b6=_0x21f5e5[_0x113925['coin']],_0x21f5e5[_0x113925[_0x108479(0x15d)]]+=_0x113925['number']);const _0x280c84=_0x34030f[_0x108479(0xb5)][_0x108479(0xd4)](_0xaa1fa0=>_0xaa1fa0[_0x108479(0x15d)]==_0x113925[_0x108479(0x15d)]);(!_0x280c84||_0x280c84[_0x108479(0x130)]==0x0)&&(_0x50a98a+=(-_0x113925['number']-_0xaf05b6)*_0x113925[_0x108479(0x131)]);}),_0x329aa5++;}}_0x34030f['coins'][_0x5c1585(0x1ae)]((_0xbbad39,_0x8ff765)=>{const _0x407330=_0x5c1585;_0x21f5e5[_0xbbad39[_0x407330(0x15d)]]&&(_0xbbad39={..._0xbbad39,'initial':_0x21f5e5[_0xbbad39['coin']]}),_0x34030f[_0x407330(0xb5)][_0x8ff765]=_0xbbad39;}),_0x22b8d3[_0x5c1585(0x169)]({'date':_0x34030f[_0x5c1585(0xf4)],'eur':_0x34030f['eur'],'usd':_0x34030f['usd'],'offset':_0x13241c[_0x3f0bbd],'netoffset':_0x50a98a,'coins':_0x34030f[_0x5c1585(0xb5)]});});}return _0x22b8d3;}function emitPerformance(_0x4bd440){const _0x9f4b1d=_0x41af8d;_0x4bd440[_0x9f4b1d(0x134)]!==0x0?(proxyEmit('performance',_0x4bd440),lastPerformanceEmitted=getDate()):proxyEmit(_0x9f4b1d(0x121),[]);}function getPerf(_0x284aea,_0x2ceb4c){const _0x3ea272=_0x41af8d;let _0x25aa37=0x0,_0x2fdffd=0x0,_0x898473=0x0;_0x284aea[_0x3ea272(0xb5)][_0x3ea272(0x1ae)](_0x311136=>{const _0x1e5a3d=_0x3ea272;_0x25aa37+=_0x311136[_0x1e5a3d(0x130)]*_0x311136[_0x1e5a3d(0x131)];});_0x2ceb4c&&(_0x25aa37+=_0x284aea[_0x3ea272(0x105)]);if(config[_0x3ea272(0x163)]===_0x3ea272(0xc0))_0x2fdffd=_0x25aa37*_0x284aea[_0x3ea272(0x15b)],_0x898473=_0x25aa37*_0x284aea[_0x3ea272(0x10c)];else{if(config['basecoin']===_0x3ea272(0x125)||config['basecoin']==='USDT'||config['basecoin']===_0x3ea272(0xcb))_0x2fdffd=_0x25aa37*_0x284aea[_0x3ea272(0x15b)]/_0x284aea['usd'],_0x898473=_0x25aa37;else config[_0x3ea272(0x163)]==='EUR'&&(_0x2fdffd=_0x25aa37,_0x898473=_0x25aa37*_0x284aea[_0x3ea272(0x10c)]/_0x284aea[_0x3ea272(0x15b)]);}return[_0x25aa37,_0x2fdffd,_0x898473];}async function getStartingBalances(_0xe16039,_0x1d0027=!![]){const _0x322a9c=_0x41af8d;if(_0xe16039[_0x322a9c(0x134)]!==0x0){const [_0x598f4c,_0x21cade,_0x211e86]=getPerf(_0xe16039[0x0],!![]);let _0x9dbad5=[];config[_0x322a9c(0x1bb)][_0x322a9c(0x1ae)](_0x4e90fe=>{const _0x586f95=_0x322a9c;let _0x278c8d=0x0;config[_0x586f95(0xf9)][_0x586f95(0x1ae)](_0x16387e=>{const _0x518355=_0x586f95;let _0x5efb99=_0x16387e[_0x518355(0x15c)]['find'](_0x202d67=>_0x202d67[_0x518355(0x15d)]==_0x4e90fe[_0x518355(0x15d)]);if(_0x5efb99)_0x278c8d+=_0x5efb99[_0x518355(0x130)];}),_0x9dbad5[_0x586f95(0x169)]({'coin':_0x4e90fe[_0x586f95(0x15d)],'number':_0x278c8d,'price':_0x4e90fe[_0x586f95(0x131)]});});const _0x34fecd={'basecoin':_0x598f4c,'eur':_0x21cade,'usd':_0x211e86,'coins':_0x9dbad5};if(_0x1d0027)proxyEmit('starting-balances',_0x34fecd);return _0x34fecd;}}function headlessMode(_0x18e1b4){const _0x2de425=_0x41af8d;let _0x1ef84f=_0x18e1b4[_0x2de425(0x1bb)],_0xdbc0a9=_0x18e1b4['threshold'],_0x4b1196=[];for(let _0x1544e9 of _0x1ef84f){if(_0x1544e9['coin']!=config[_0x2de425(0x163)]){if(_0x1544e9['distribution']/_0x1544e9['target']-0x1>=_0xdbc0a9/0x64){if(_0x1544e9[_0x2de425(0x14c)])_0x4b1196[_0x2de425(0x169)](_0x1544e9);}else{if(_0x1544e9[_0x2de425(0x1a7)]/_0x1544e9[_0x2de425(0xd0)]-0x1<=-_0xdbc0a9/0x64){if(_0x1544e9['valid'])_0x4b1196[_0x2de425(0x169)](_0x1544e9);}}}}_0x4b1196[_0x2de425(0x134)]>0x0&&placeOrder(_0x4b1196);}function notifyBalance(_0x94d3f7){const _0x17d193=_0x41af8d;let _0x351adb=_0x94d3f7['portfolio'],_0x43673f=_0x94d3f7[_0x17d193(0xc6)],_0x184625=[];for(let _0x4ab35a of _0x351adb){if(_0x4ab35a[_0x17d193(0x15d)]!=config['basecoin']){if(_0x4ab35a[_0x17d193(0x1a7)]/_0x4ab35a['target']-0x1>=_0x43673f/0x64){if(_0x4ab35a[_0x17d193(0x14c)])_0x184625[_0x17d193(0x169)](_0x4ab35a);}else{if(_0x4ab35a[_0x17d193(0x1a7)]/_0x4ab35a[_0x17d193(0xd0)]-0x1<=-_0x43673f/0x64){if(_0x4ab35a['valid'])_0x184625[_0x17d193(0x169)](_0x4ab35a);}}}}if(_0x184625['length']>0x0){let _0x3d1d19=_0x184625[_0x17d193(0x193)](_0x549188=>_0x549188[_0x17d193(0x15d)]);_0x3d1d19[_0x17d193(0x13f)]();let _0x2cf537=_0x3d1d19['join'](',\x20');if(lastCoinsToBalance!==_0x2cf537)logHistory('success',_0x17d193(0x107)+_0x2cf537);lastCoinsToBalance=_0x2cf537;}}function symbolToCoin(_0x131bcc){const _0x4681b5=_0x41af8d;let _0x49c1ec;if(_0x131bcc['includes']('/'+config[_0x4681b5(0x163)]))_0x49c1ec=_0x131bcc['replace']('/'+config[_0x4681b5(0x163)],'');if(_0x131bcc[_0x4681b5(0x154)](config['basecoin']+'/'))_0x49c1ec=_0x131bcc['replace'](config[_0x4681b5(0x163)]+'/','');return _0x49c1ec;}async function validateOrders(_0x4301b6=0x0){const _0x39ec5c=_0x41af8d;let _0x16ede6=[],_0x273903=config[_0x39ec5c(0xca)]==_0x39ec5c(0x12b)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x39ec5c(0x1a4)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x39ec5c(0x1ae)](_0x30f3ab=>{const _0x107ac9=_0x39ec5c;let _0x53b9e6=previousCoins[_0x107ac9(0xd4)](_0x12ad7b=>_0x12ad7b[_0x107ac9(0x15d)]==symbolToCoin(_0x30f3ab[_0x107ac9(0x179)])),_0x163b07=currentCoins['find'](_0x14208c=>_0x14208c[_0x107ac9(0x15d)]==symbolToCoin(_0x30f3ab['symbol'])),_0x1bd70f,_0x5c2e20;_0x30f3ab['side']==_0x107ac9(0x191)&&!_0x30f3ab[_0x107ac9(0x1c4)]||_0x30f3ab[_0x107ac9(0x1ac)]==_0x107ac9(0x165)&&_0x30f3ab[_0x107ac9(0x1c4)]?(_0x1bd70f=_0x53b9e6['number']+0.9*_0x30f3ab[_0x107ac9(0xc3)],_0x5c2e20=_0x53b9e6[_0x107ac9(0x130)]+1.1*_0x30f3ab[_0x107ac9(0xc3)]):(_0x1bd70f=_0x53b9e6['number']-1.1*_0x30f3ab[_0x107ac9(0xc3)],_0x5c2e20=_0x53b9e6['number']-0.9*_0x30f3ab[_0x107ac9(0xc3)]);const _0x417ef1=_0x30f3ab[_0x107ac9(0xc3)]!=0x0&&_0x163b07['number']>=_0x1bd70f&&_0x163b07[_0x107ac9(0x130)]<=_0x5c2e20;_0x16ede6[_0x107ac9(0x169)](_0x417ef1);if(_0x417ef1&&config[_0x107ac9(0xca)]!=_0x107ac9(0x12b)){if(_0x30f3ab['reverse'])logHistory(_0x107ac9(0xbf),_0x107ac9(0x1b2)+_0x30f3ab[_0x107ac9(0x179)]+'\x20'+_0x30f3ab[_0x107ac9(0x1ac)]+'\x20#'+formatResult(_0x30f3ab[_0x107ac9(0xc3)]/_0x30f3ab[_0x107ac9(0x131)],0x8)+'\x20@'+formatResult(_0x30f3ab[_0x107ac9(0x131)],0x8));else logHistory(_0x107ac9(0xbf),_0x107ac9(0x1b2)+_0x30f3ab[_0x107ac9(0x179)]+'\x20'+_0x30f3ab[_0x107ac9(0x1ac)]+'\x20#'+formatResult(_0x30f3ab[_0x107ac9(0xc3)],0x8)+'\x20@'+formatResult(_0x30f3ab[_0x107ac9(0x131)],0x8));}}),_0x16ede6[_0x39ec5c(0x1ae)]((_0x40a381,_0x15c274)=>{const _0x553514=_0x39ec5c;if(_0x40a381)lastOrders[_0x553514(0x133)](_0x15c274,0x1);});if(_0x4301b6<_0x273903&&_0x16ede6[_0x39ec5c(0x154)](![])){if(_0x4301b6==0x0){config[_0x39ec5c(0xca)]=='market'?logHistory(_0x39ec5c(0x12f),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x39ec5c(0x12f),_0x39ec5c(0x103));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4301b6);},0xa*0x3e8);}else{(_0x4301b6==0x1||_0x4301b6==Math[_0x39ec5c(0x197)](_0x273903/0x2)||_0x4301b6==_0x273903-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4301b6);},validateOrderInterval);}}else{lockOrders=![];if(_0x4301b6>0x0&&!_0x16ede6[_0x39ec5c(0x154)](![]))config['ordertype']==_0x39ec5c(0x12b)?logHistory(_0x39ec5c(0x109),_0x39ec5c(0xb9)):logHistory(_0x39ec5c(0x109),_0x39ec5c(0x123));else _0x4301b6>0x0&&_0x16ede6[_0x39ec5c(0x154)](![])&&(config[_0x39ec5c(0xca)]==_0x39ec5c(0x12b)?logHistory(_0x39ec5c(0x109),'Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x273903*validateOrderInterval/0xea60)+_0x39ec5c(0x18e)):(lastOrders[_0x39ec5c(0x1ae)](async _0x4fc762=>{const _0x1c3f38=_0x39ec5c;try{const _0x123e49=await exchange[_0x1c3f38(0x10f)](_0x4fc762[_0x1c3f38(0x128)],_0x4fc762['symbol']);}catch(_0x32631c){if(_0x32631c[_0x1c3f38(0x11a)]()['includes'](_0x1c3f38(0x1a0))){}else await handleError(_0x32631c,_0x1c3f38(0xc1));}}),logHistory(_0x39ec5c(0x109),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x39ec5c(0x197)](_0x273903*validateOrderInterval/0xea60)+_0x39ec5c(0x18e))));}}async function resetCoinResults(){const _0x2da947=_0x41af8d;dbCoinResults['get'](_0x2da947(0xb5))['remove']()[_0x2da947(0x180)]();let _0x190147=await getStartingBalances(getNormalizedPerformance(),![]);_0x190147[_0x2da947(0xb5)][_0x2da947(0x1ae)](_0x102bcf=>{const _0x12b49d=_0x2da947;if(_0x102bcf[_0x12b49d(0x15d)]!=config['basecoin']){let _0x4387ff={'coin':_0x102bcf[_0x12b49d(0x15d)],'number':_0x102bcf[_0x12b49d(0x130)],'breakeven':_0x102bcf['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x12b49d(0xb5))[_0x12b49d(0x169)](_0x4387ff)['write']();}});}async function updateCoinResults(_0x5e432b){const _0x4a0143=_0x41af8d;let _0x5a24c9,_0x1db811,_0x3daf96,_0x91b8a8,_0x35d3de,_0xa5c0a8,_0x41185e=dbCoinResults[_0x4a0143(0x172)]('coins')[_0x4a0143(0xd4)]({'coin':_0x5e432b[_0x4a0143(0x15d)]})[_0x4a0143(0xd9)]();if(!_0x41185e)return;if(_0x5e432b['fee']&&_0x5e432b[_0x4a0143(0x187)][_0x4a0143(0x156)]==config[_0x4a0143(0x163)])_0x5a24c9=_0x5e432b['fee'][_0x4a0143(0x13b)];else{if(_0x5e432b[_0x4a0143(0x187)]&&_0x5e432b['fee'][_0x4a0143(0x156)]=='BNB')_0x5a24c9=_0x5e432b[_0x4a0143(0x187)][_0x4a0143(0x13b)]*global[_0x4a0143(0x140)]['BNB'+config[_0x4a0143(0x163)]];else _0x5a24c9=0.001*_0x5e432b[_0x4a0143(0xc3)];}const _0x126aa9=_0x5e432b[_0x4a0143(0x179)][_0x4a0143(0x154)](config[_0x4a0143(0x163)]+'/');_0x126aa9&&(_0xa5c0a8={'coin':_0x5e432b['coin'],'symbol':_0x5e432b[_0x4a0143(0x179)],'filled':_0x5e432b[_0x4a0143(0xc3)]*_0x5e432b['price'],'side':_0x5e432b[_0x4a0143(0x1ac)]=='sell'?_0x4a0143(0x191):'sell','price':0x1/_0x5e432b[_0x4a0143(0x131)]},_0x5e432b={..._0xa5c0a8});_0x5e432b[_0x4a0143(0x1ac)]==_0x4a0143(0x191)?_0x3daf96=(_0x41185e[_0x4a0143(0x1aa)]*_0x41185e[_0x4a0143(0x130)]+_0x5e432b[_0x4a0143(0x131)]*_0x5e432b['filled'])/(_0x41185e[_0x4a0143(0x130)]+_0x5e432b['filled']):_0x3daf96=(_0x41185e[_0x4a0143(0x1aa)]*_0x41185e[_0x4a0143(0x130)]-_0x5e432b[_0x4a0143(0x131)]*_0x5e432b[_0x4a0143(0xc3)])/(_0x41185e[_0x4a0143(0x130)]-_0x5e432b[_0x4a0143(0xc3)]);_0x5e432b['side']==_0x4a0143(0x191)?_0x91b8a8=_0x41185e[_0x4a0143(0x181)]:_0x91b8a8=_0x41185e[_0x4a0143(0x181)]+(_0x5e432b[_0x4a0143(0x131)]-_0x41185e[_0x4a0143(0x1aa)])*_0x5e432b['filled'];_0x1db811=_0x5e432b[_0x4a0143(0x1ac)]=='sell'?_0x41185e[_0x4a0143(0x130)]-_0x5e432b[_0x4a0143(0xc3)]:_0x41185e[_0x4a0143(0x130)]+_0x5e432b[_0x4a0143(0xc3)],_0x35d3de=(_0x5e432b['price']-_0x3daf96)*_0x1db811;let _0x3b15e8={'coin':_0x5e432b[_0x4a0143(0x15d)],'number':_0x1db811,'breakeven':formatResult(_0x3daf96,0x8),'realized':formatResult(_0x91b8a8,0x8),'unrealized':formatResult(_0x35d3de,0x8),'fees':formatResult(_0x41185e['fees']+_0x5a24c9,0x8),'sells':_0x5e432b['side']==_0x4a0143(0x165)?_0x41185e[_0x4a0143(0xe4)]+0x1:_0x41185e[_0x4a0143(0xe4)],'buys':_0x5e432b[_0x4a0143(0x1ac)]==_0x4a0143(0x191)?_0x41185e[_0x4a0143(0x184)]+0x1:_0x41185e[_0x4a0143(0x184)]};dbCoinResults[_0x4a0143(0x172)](_0x4a0143(0xb5))[_0x4a0143(0xd4)]({'coin':_0x5e432b['coin']})[_0x4a0143(0x16f)](_0x3b15e8)['write']();}async function placeOrder(_0x34462a){const _0x2050b8=_0x41af8d,_0x690082=config[_0x2050b8(0xca)]==_0x2050b8(0x12b)?_0x2050b8(0x12b):_0x2050b8(0xc8);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x2050b8(0x15e)](JSON[_0x2050b8(0x11d)](currentCoins));for(const _0x37d1c9 of _0x34462a){let _0xdfd1d3,_0x3f4a7d,_0x1ab90f,_0x11fb0e,_0x53762e,_0x4f09a0=_0x37d1c9[_0x2050b8(0x179)];try{const _0xab1674=await exchange['fetchTickers'](_0x4f09a0),_0x3cc140=_0xab1674[_0x4f09a0];_0xdfd1d3=_0x3cc140['last'],_0x3f4a7d=_0x3cc140[_0x2050b8(0x14a)],_0x1ab90f=_0x3cc140[_0x2050b8(0x188)];_0x37d1c9[_0x2050b8(0x1c4)]?(_0x11fb0e=_0x37d1c9[_0x2050b8(0x1ac)]==_0x2050b8(0x191)?_0x2050b8(0x165):_0x2050b8(0x191),_0x53762e=Math[_0x2050b8(0xb6)](_0x37d1c9[_0x2050b8(0xd8)])/_0xdfd1d3):(_0x11fb0e=_0x37d1c9[_0x2050b8(0x1ac)],_0x53762e=Math['abs'](_0x37d1c9['trade']));_0x690082==_0x2050b8(0xc8)&&(config['ordertype']==_0x2050b8(0x116)&&(_0xdfd1d3=_0x11fb0e=='buy'?_0x3f4a7d:_0x1ab90f),config[_0x2050b8(0xca)]==_0x2050b8(0x160)&&(_0xdfd1d3=_0x11fb0e==_0x2050b8(0x191)?_0x1ab90f:_0x3f4a7d));_0x53762e=formatResult(_0x53762e,0x8),_0xdfd1d3=formatResult(_0xdfd1d3,0x8);const _0x4d5b5b=await exchange[_0x2050b8(0x182)](_0x4f09a0,_0x690082,_0x11fb0e,_0x53762e,_0xdfd1d3);lastOrders[_0x2050b8(0x169)]({'orderId':_0x4d5b5b['id'],'symbol':_0x4f09a0,'side':_0x11fb0e,'reverse':_0x37d1c9[_0x2050b8(0x1c4)],'amount':_0x37d1c9[_0x2050b8(0x1c4)]?_0x4d5b5b[_0x2050b8(0xbb)]*_0x4d5b5b[_0x2050b8(0x131)]:_0x4d5b5b['amount'],'filled':_0x37d1c9['reverse']?_0x4d5b5b[_0x2050b8(0xc3)]*_0x4d5b5b[_0x2050b8(0x131)]:_0x4d5b5b[_0x2050b8(0xc3)],'price':_0x4d5b5b[_0x2050b8(0x131)]});const _0x1c6de4=_0x11fb0e=='sell'?config[_0x2050b8(0x19a)]?String[_0x2050b8(0x120)]('0x'+config[_0x2050b8(0x19a)])+'\x20':'':config['emojibuy']?String[_0x2050b8(0x120)]('0x'+config[_0x2050b8(0x17d)])+'\x20':'',_0x86e1ad=_0x690082=='market'?_0x2050b8(0x1bc):config[_0x2050b8(0xca)]==_0x2050b8(0x116)?_0x2050b8(0x12c):_0x2050b8(0xfd);if(_0x690082==_0x2050b8(0x12b))logHistory(_0x2050b8(0xbf),''+_0x1c6de4+_0x86e1ad+_0x2050b8(0x10d)+_0x4f09a0+'\x20'+_0x11fb0e+'\x20#'+formatResult(_0x4d5b5b['filled'],0x8)+'\x20@'+formatResult(_0x4d5b5b[_0x2050b8(0x131)],0x8));else logHistory(_0x2050b8(0xbf),''+_0x1c6de4+_0x86e1ad+_0x2050b8(0x10d)+_0x4f09a0+'\x20'+_0x11fb0e+'\x20#'+formatResult(_0x4d5b5b[_0x2050b8(0xbb)],0x8)+'\x20@'+formatResult(_0x4d5b5b[_0x2050b8(0x131)],0x8));_0x4d5b5b[_0x2050b8(0x15d)]=_0x37d1c9[_0x2050b8(0x15d)],await updateCoinResults(_0x4d5b5b);if(config[_0x2050b8(0xde)]!=0x0){let _0x4ef3c8=null;if(cooldownTracker[_0x2050b8(0x134)]==config['cooldown']-0x1)_0x4ef3c8=cooldownTracker['shift']();const _0x1905f8=getTimeStamp();cooldownTracker['push'](_0x1905f8);if(_0x4ef3c8){const _0x4bc893=fns[_0x2050b8(0xf7)](new Date(_0x1905f8),new Date(_0x4ef3c8));_0x4bc893<cooldownInterval&&(logHistory('error',_0x2050b8(0x151)+config[_0x2050b8(0xde)]+_0x2050b8(0x139)+cooldownInterval/0x3c+_0x2050b8(0x135)+cooldownPeriod/(0xe10*0x3e8)+_0x2050b8(0x1c3)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x382a6c){if(_0x382a6c[_0x2050b8(0x11a)]()[_0x2050b8(0x154)](_0x2050b8(0xbc)))logHistory(_0x2050b8(0x12f),_0x2050b8(0x13a)+_0x4f09a0);else{if(_0x382a6c[_0x2050b8(0x11a)]()[_0x2050b8(0x154)](_0x2050b8(0x1c5)))logHistory(_0x2050b8(0x12f),'Order\x20amount\x20is\x20invalid:\x20'+_0x4f09a0);else await handleError(_0x382a6c,_0x2050b8(0xba));}}}if(lastOrders[_0x2050b8(0x134)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x2050b8(0xc2)]&&(config[_0x2050b8(0xca)]=='market'?logHistory(_0x2050b8(0x12f),_0x2050b8(0xfe)):logHistory(_0x2050b8(0x12f),_0x2050b8(0x185)));else coolingDown&&(!config[_0x2050b8(0xc2)]&&logHistory(_0x2050b8(0x12f),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'));}}function logHistory(_0x4939c4,_0x122e4b,_0x758040=''){const _0x4f1ab3=_0x41af8d;let _0x36dae7={'time':getTimeStamp(),'type':_0x4939c4,'event':_0x122e4b};dbLogs['get'](_0x4f1ab3(0x149))[_0x4f1ab3(0x169)](_0x36dae7)['write']();if(_0x758040=='')_0x758040=_0x122e4b;proxyEmit('event',{'log':_0x36dae7,'summary':_0x758040}),process['send']({'telegram':{..._0x36dae7,'botname':config['botname'],'showname':config[_0x4f1ab3(0xc4)]}},_0x5021a5=>{}),logging(''+_0x36dae7['event']);}function emitHistory(_0x1c5b80={}){const _0xe8065c=_0x41af8d;Object[_0xe8065c(0x159)](_0x1c5b80)[_0xe8065c(0x134)]==0x0&&(_0x1c5b80={'type':['order',_0xe8065c(0x1af)],'event':'','page':0x1});if(_0x1c5b80['type']['includes']('event'))_0x1c5b80['type'][_0xe8065c(0x133)](_0x1c5b80[_0xe8065c(0xbd)][_0xe8065c(0xe0)]('event'),0x1,_0xe8065c(0x12f),_0xe8065c(0x109));if(dbLogs[_0xe8065c(0x12d)](_0xe8065c(0x149))[_0xe8065c(0xd9)]()){let _0x21182e=dbLogs[_0xe8065c(0x172)](_0xe8065c(0x149))[_0xe8065c(0x155)](_0x26bb0e=>{const _0x3f7119=_0xe8065c;if(_0x1c5b80['type'][_0x3f7119(0x134)]==0x0)return![];else return _0x1c5b80['type']['includes'](_0x26bb0e['type']);})[_0xe8065c(0x155)](_0x5eca64=>{const _0x25deed=_0xe8065c;if(_0x1c5b80[_0x25deed(0x1af)]=='')return!![];else return _0x5eca64[_0x25deed(0x1af)][_0x25deed(0xf2)]()[_0x25deed(0x154)](_0x1c5b80[_0x25deed(0x1af)][_0x25deed(0xf2)]());})[_0xe8065c(0x1c6)](_0xe8065c(0xec)),_0x2172e1=_0x21182e['value']()[_0xe8065c(0x134)];_0x21182e=_0x21182e[_0xe8065c(0x1c4)]()['slice']((_0x1c5b80['page']-0x1)*logPageSize,_0x1c5b80[_0xe8065c(0x1ad)]*logPageSize-0x1)[_0xe8065c(0x1c4)]()[_0xe8065c(0xd9)](),proxyEmit(_0xe8065c(0x18a),{'logs':_0x21182e,'total':_0x2172e1});}else proxyEmit(_0xe8065c(0x18a),{'logs':[],'total':0x0});}function deleteHistory(_0x3cebc0={}){const _0x13595a=_0x41af8d;Object['keys'](_0x3cebc0)[_0x13595a(0x134)]==0x0&&(_0x3cebc0={'type':[_0x13595a(0xbf),_0x13595a(0x1af)],'event':''});if(_0x3cebc0[_0x13595a(0xbd)][_0x13595a(0x154)](_0x13595a(0x1af)))_0x3cebc0['type']['splice'](_0x3cebc0[_0x13595a(0xbd)][_0x13595a(0xe0)](_0x13595a(0x1af)),0x1,_0x13595a(0x12f),'success');console[_0x13595a(0xeb)](_0x3cebc0);if(dbLogs[_0x13595a(0x12d)]('logs')[_0x13595a(0xd9)]()){let _0x2ceecb=dbLogs[_0x13595a(0x172)](_0x13595a(0x149))[_0x13595a(0x1c6)](_0x13595a(0xec))['filter'](_0x5f4632=>{const _0x19e429=_0x13595a;if(_0x3cebc0[_0x19e429(0xbd)][_0x19e429(0x134)]==0x0)return!![];else return!_0x3cebc0['type'][_0x19e429(0x154)](_0x5f4632['type']);})[_0x13595a(0x155)](_0x553a56=>{const _0x860a04=_0x13595a;if(_0x3cebc0[_0x860a04(0x1af)]=='')return![];else return!_0x553a56[_0x860a04(0x1af)][_0x860a04(0xf2)]()[_0x860a04(0x154)](_0x3cebc0['event'][_0x860a04(0xf2)]());});console['log'](JSON[_0x13595a(0x11d)](_0x2ceecb));}}async function pauseBot(_0x3acf9d){const _0x3603fc=_0x41af8d,_0x151fef=new Date()[_0x3603fc(0xf0)]();if(!lastBotPause)lastBotPause=new Date()[_0x3603fc(0xf0)](),consecutivePauses=0x1;else{if(_0x151fef-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['send']({'stop':_0x3603fc(0xdf)},_0xd20d3b=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x3603fc(0xf0)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error',_0x3603fc(0x124)+consecutivePauses+')'),await sleep(_0x3acf9d),botPaused=![],reset();}}async function handleError(_0x4be486,_0x4be44b,_0x2ef5ad=''){const _0x3ad073=_0x41af8d;if(_0x4be486[_0x3ad073(0x11a)]()[_0x3ad073(0x154)](_0x3ad073(0x101)))logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0x100)),await pauseBot(pauseBotInterval);else{if(_0x4be486[_0x3ad073(0x11a)]()[_0x3ad073(0x154)](_0x3ad073(0x1b4)))logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0x14b)),await pauseBot(pauseBotInterval);else{if(_0x4be486[_0x3ad073(0x11a)]()[_0x3ad073(0x154)]('RequestTimeout'))logHistory(_0x3ad073(0x12f),_0x4be44b+'\x20|\x20Binance\x20exchange\x20is\x20not\x20responding'),await pauseBot(pauseBotInterval);else{if(_0x4be486[_0x3ad073(0x11a)]()[_0x3ad073(0x154)](_0x3ad073(0x12e)))logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0x1bd)),logHistory('error',_0x3ad073(0xcc)),process['send']({'stop':_0x3ad073(0xe3)},_0x1488c7=>{});else{if(_0x4be486[_0x3ad073(0x11a)]()[_0x3ad073(0x154)](_0x3ad073(0xc7)))logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0x157)),logHistory(_0x3ad073(0x12f),_0x3ad073(0xcc)),process[_0x3ad073(0x17c)]({'stop':_0x3ad073(0xe3)},_0x4a3f7a=>{});else{if(_0x4be486[_0x3ad073(0x11a)]()[_0x3ad073(0x154)](_0x3ad073(0x19e)))logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0x114)),logHistory(_0x3ad073(0x12f),_0x3ad073(0xcc)),process[_0x3ad073(0x17c)]({'stop':'kill'},_0x22026a=>{});else{if(_0x4be486['toString']()[_0x3ad073(0x154)](_0x3ad073(0xf1)))logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0xf5)),logHistory('error',_0x3ad073(0xcc)),process[_0x3ad073(0x17c)]({'stop':'kill'},_0x398e6a=>{});else{if(_0x4be486[_0x3ad073(0x11a)]()['includes'](_0x3ad073(0x106)))logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0x137)),await pauseBot(pauseBotInterval),process[_0x3ad073(0x17c)]({'stop':_0x3ad073(0xdf)},_0x4a7056=>{});else _0x4be486[_0x3ad073(0x11a)]()[_0x3ad073(0x154)](_0x3ad073(0xf3))?logHistory('error',_0x4be44b+_0x3ad073(0x1ab)):(logHistory(_0x3ad073(0x12f),_0x4be44b+_0x3ad073(0x1b6)),logging(_0x4be44b+'\x20|\x20Error\x20details:\x20',_0x4be486),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x44ddca,_0xb3ab02){const _0x2f740d=_0x41af8d;return parseFloat(_0x44ddca[_0x2f740d(0x118)](_0xb3ab02));}function logging(_0x492e3d,_0x31e634=''){const _0x14a1a1=_0x41af8d;if(config['showname'])console[_0x14a1a1(0xeb)](getTimeStamp()+':\x20'+config[_0x14a1a1(0x18b)]+_0x14a1a1(0xb3)+_0x492e3d,_0x31e634);else console[_0x14a1a1(0xeb)](getTimeStamp()+':\x20Bot\x20'+botID+_0x14a1a1(0xb3)+_0x492e3d,_0x31e634);}function _0x5e66(_0x1dde22,_0x2e42df){const _0x1c78c0=_0x4285();return _0x5e66=function(_0x57c440,_0x546a46){_0x57c440=_0x57c440-0xb1;let _0x4285cd=_0x1c78c0[_0x57c440];return _0x4285cd;},_0x5e66(_0x1dde22,_0x2e42df);}function getServerTime(){const _0x3e2b7f=_0x41af8d,_0x495af0=new Date();return _0x495af0[_0x3e2b7f(0x1b3)]()+'/'+(_0x495af0[_0x3e2b7f(0xc9)]()+0x1)[_0x3e2b7f(0x11a)]()['padStart'](0x2,'0')+'/'+_0x495af0[_0x3e2b7f(0xe6)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x495af0[_0x3e2b7f(0x161)]()['toString']()['padStart'](0x2,'0')+':'+_0x495af0[_0x3e2b7f(0x142)]()[_0x3e2b7f(0x11a)]()['padStart'](0x2,'0')+':'+_0x495af0[_0x3e2b7f(0x177)]()[_0x3e2b7f(0x11a)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x2b54c5=_0x41af8d,_0x3c9dda=shiftedTime();return _0x3c9dda['getFullYear']()+'/'+(_0x3c9dda[_0x2b54c5(0xc9)]()+0x1)[_0x2b54c5(0x11a)]()['padStart'](0x2,'0')+'/'+_0x3c9dda['getDate']()[_0x2b54c5(0x11a)]()[_0x2b54c5(0x1c2)](0x2,'0')+'\x20'+_0x3c9dda[_0x2b54c5(0x161)]()['toString']()['padStart'](0x2,'0')+':'+_0x3c9dda[_0x2b54c5(0x142)]()[_0x2b54c5(0x11a)]()[_0x2b54c5(0x1c2)](0x2,'0')+':'+_0x3c9dda[_0x2b54c5(0x177)]()['toString']()[_0x2b54c5(0x1c2)](0x2,'0');}function getDate(){const _0x57aae0=_0x41af8d,_0x1d41b2=shiftedTime();return _0x1d41b2['getFullYear']()+'/'+(_0x1d41b2[_0x57aae0(0xc9)]()+0x1)[_0x57aae0(0x11a)]()[_0x57aae0(0x1c2)](0x2,'0')+'/'+_0x1d41b2[_0x57aae0(0xe6)]()[_0x57aae0(0x11a)]()[_0x57aae0(0x1c2)](0x2,'0');}function getHour(){const _0x56160f=_0x41af8d,_0x1714ec=shiftedTime();return _0x1714ec[_0x56160f(0x161)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x2c0a3b){return new Promise(_0xd3ab08=>setTimeout(_0xd3ab08,_0x2c0a3b));}function shiftedTime(){const _0x147c5b=_0x41af8d,_0x26b3c7=new Date();let _0x43b794=_0x26b3c7;if(config&&config[_0x147c5b(0x11c)]!==0x0)_0x43b794=fns['add'](_0x26b3c7,{'hours':config['timeshift']});return _0x43b794;}