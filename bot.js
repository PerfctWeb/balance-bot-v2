const _0x1f2ea6=_0x10cb;(function(_0x516d1e,_0x52fc7c){const _0x22b90b=_0x10cb,_0x3f2d2e=_0x516d1e();while(!![]){try{const _0x3a45fd=-parseInt(_0x22b90b(0x1f9))/0x1+parseInt(_0x22b90b(0x27b))/0x2*(-parseInt(_0x22b90b(0x25c))/0x3)+-parseInt(_0x22b90b(0x20c))/0x4+-parseInt(_0x22b90b(0x23b))/0x5*(parseInt(_0x22b90b(0x2e1))/0x6)+-parseInt(_0x22b90b(0x20f))/0x7+parseInt(_0x22b90b(0x2b6))/0x8+parseInt(_0x22b90b(0x1e6))/0x9;if(_0x3a45fd===_0x52fc7c)break;else _0x3f2d2e['push'](_0x3f2d2e['shift']());}catch(_0x2bf678){_0x3f2d2e['push'](_0x3f2d2e['shift']());}}}(_0x4d8f,0xe391a));const _0x5a637c=function(){let _0x25bb12=!![];return function(_0x2f9d1b,_0x2dabd0){const _0x5d0d74=_0x25bb12?function(){if(_0x2dabd0){const _0x1a92b2=_0x2dabd0['apply'](_0x2f9d1b,arguments);return _0x2dabd0=null,_0x1a92b2;}}:function(){};return _0x25bb12=![],_0x5d0d74;};}(),_0x5e23b7=_0x5a637c(this,function(){const _0x395411=_0x10cb;return _0x5e23b7[_0x395411(0x2d2)]()['search'](_0x395411(0x2a9))[_0x395411(0x2d2)]()[_0x395411(0x21b)](_0x5e23b7)['search'](_0x395411(0x2a9));});_0x5e23b7();'use strict';const ccxt=require(_0x1f2ea6(0x1d2)),low=require('lowdb'),FileSync=require(_0x1f2ea6(0x224)),fs=require('fs'),fns=require(_0x1f2ea6(0x1d5)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x1f2ea6(0x273)),Crypt=require(_0x1f2ea6(0x2a8))[_0x1f2ea6(0x26f)];let exchange,wsClient;global[_0x1f2ea6(0x1e0)]={},global[_0x1f2ea6(0x1fe)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x1f2ea6(0x2cb),'HOT/BTC',_0x1f2ea6(0x225),_0x1f2ea6(0x217),_0x1f2ea6(0x264),_0x1f2ea6(0x296)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x1f2ea6(0x240))[_0x1f2ea6(0x2dd)],botID=process[_0x1f2ea6(0x2e9)][0x2]||_0x1f2ea6(0x236),pattern=/^[0-9]{3}$/;!pattern[_0x1f2ea6(0x1d6)](botID)&&(console[_0x1f2ea6(0x2e0)](_0x1f2ea6(0x268)+botID+_0x1f2ea6(0x26e)),process['exit'](0x1));const userID=process['argv'][0x3]||'',configpath=userID?_0x1f2ea6(0x221)+userID+'/':_0x1f2ea6(0x221);!fs[_0x1f2ea6(0x2b2)](configpath)&&fs[_0x1f2ea6(0x2dc)](configpath);const configfile=configpath+_0x1f2ea6(0x21c)+botID+'-config.json',logfile=configpath+_0x1f2ea6(0x21c)+botID+_0x1f2ea6(0x2ec),performancefile=configpath+'bot-'+botID+_0x1f2ea6(0x274),coinresultsfile=configpath+_0x1f2ea6(0x21c)+botID+_0x1f2ea6(0x27a),settingsfile=configpath+_0x1f2ea6(0x22f),securefile=configpath+_0x1f2ea6(0x28f),configbackuppath=configpath+_0x1f2ea6(0x223),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x1f2ea6(0x250)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1f2ea6(0x2f5)]({'data':[]})[_0x1f2ea6(0x250)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x1f2ea6(0x250)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1f2ea6(0x2f5)]({'coins':[]})[_0x1f2ea6(0x250)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x5ebef5)=>{},'debug':(..._0x5f0483)=>{},'notice':(..._0x5669ed)=>{},'info':(..._0x4c156b)=>{},'warning':(..._0x31b3e7)=>{},'error':async function(..._0x172425){const _0x54ced8=_0x1f2ea6,_0x41d011=new Date()[_0x54ced8(0x23f)]();if(!lastErrorShown||_0x41d011-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x54ced8(0x23f)]();let _0x3bea37='';if(_0x172425[0x0])_0x3bea37+=_0x172425[0x0];if(_0x172425[0x1]&&_0x172425[0x1][_0x54ced8(0x216)]&&_0x172425[0x1][_0x54ced8(0x216)]['message'])_0x3bea37+=_0x54ced8(0x27e)+_0x172425[0x1][_0x54ced8(0x216)][_0x54ced8(0x275)];logging(_0x54ced8(0x2c8)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x3bea37),await pauseBot(_0x54ced8(0x294));}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x1f2ea6(0x29f)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x1f2ea6(0x1f8)]!=config[_0x1f2ea6(0x1f8)]&&updateTimeshift(settings[_0x1f2ea6(0x1f8)]);process['send']({'started':_0x1f2ea6(0x2c0)},_0x19556e=>{}),initializeProcessListeners();function proxyEmit(_0x541c16,_0x5084be=null){const _0x396e11=_0x1f2ea6;process[_0x396e11(0x230)]({'function':_0x541c16,'args':_0x5084be},_0x5a6096=>{});}function initializeProcessListeners(){process['on']('message',_0x30217c=>{const _0x4d9ced=_0x10cb;switch(Object[_0x4d9ced(0x1f7)](_0x30217c)[0x0]){case'timeshift':_0x30217c['timeshift']!=undefined&&(settings[_0x4d9ced(0x1f8)]=_0x30217c[_0x4d9ced(0x1f8)],updateTimeshift(settings['timeshift']));break;case _0x4d9ced(0x281):switch(_0x30217c[_0x4d9ced(0x281)]){case _0x4d9ced(0x212):initclient();break;case _0x4d9ced(0x1fa):toggleBotMode();break;case _0x4d9ced(0x219):emitHistory(_0x30217c[_0x4d9ced(0x1da)]);break;case _0x4d9ced(0x20e):deleteHistoryAlerts(_0x30217c[_0x4d9ced(0x1da)]);break;case _0x4d9ced(0x1db):getPortfolio(_0x30217c[_0x4d9ced(0x1da)]);break;case _0x4d9ced(0x1e4):storeConfiguration(_0x30217c[_0x4d9ced(0x1da)]);break;case'storeHeadless':storeHeadless(_0x30217c['args']);break;case _0x4d9ced(0x210):getStartingBalances(getNormalizedPerformance());break;case _0x4d9ced(0x1cd):placeOrder(_0x30217c[_0x4d9ced(0x1da)]);break;case _0x4d9ced(0x277):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x102b53=_0x1f2ea6;if(pidBalances)clearTimeout(pidBalances);if(config[_0x102b53(0x262)]!=''){await initExchange(config[_0x102b53(0x262)],config[_0x102b53(0x203)]);let _0x354dde=await loadSymbols();_0x354dde&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x63f908,_0x2272f4){const _0x4097f3=_0x1f2ea6,_0x1020d4=ccxt[config['exchange']];let _0x13c638;switch(config[_0x4097f3(0x2ce)]){case _0x4097f3(0x273):_0x13c638=_0x4097f3(0x2ac);break;case'binanceus':_0x13c638=_0x4097f3(0x2da);break;default:_0x13c638='wss://stream.binance.com:9443';}exchange=new _0x1020d4({'apiKey':_0x63f908,'secret':_0x2272f4,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x63f908,'api_secret':_0x2272f4,'beautify':!![],'wsUrl':_0x13c638},logger);let _0x3909f5=config[_0x4097f3(0x2ce)]==_0x4097f3(0x2ea)?_0x4097f3(0x2df):_0x4097f3(0x28c),_0x27fba2=config['basecoin']==_0x4097f3(0x2af)?'ETH':_0x4097f3(0x1e2);stablecoins={'eur':{'coin':''+_0x27fba2+_0x3909f5,'symbol':_0x27fba2+'/'+_0x3909f5},'usd':{'coin':_0x27fba2+_0x4097f3(0x2df),'symbol':_0x27fba2+_0x4097f3(0x297)}};}async function loadSymbols(){const _0x4aee83=_0x1f2ea6;let _0x48680b;try{markets=await exchange[_0x4aee83(0x1eb)](),allSymbols=exchange[_0x4aee83(0x293)][_0x4aee83(0x1dd)](_0x5c87b4=>{const _0x3d9b59=_0x4aee83;let _0x3d1d39=![];return exceptions[_0x3d9b59(0x29e)](_0x3a05bf=>{const _0x1525db=_0x3d9b59;if(_0x5c87b4[_0x1525db(0x258)](_0x3a05bf))_0x3d1d39=!![];}),!_0x3d1d39;}),_0x48680b=!![];}catch(_0x1149f0){await handleError(_0x1149f0,_0x4aee83(0x22c)),_0x48680b=![];}return _0x48680b;}async function initbot(){const _0x2a29e0=_0x1f2ea6;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x457900=dbCoinResults[_0x2a29e0(0x290)]('coins')[_0x2a29e0(0x271)]();if(_0x457900[_0x2a29e0(0x2c3)]==0x0)await resetCoinResults();}async function initclient(){const _0x34a73b=_0x1f2ea6;proxyEmit(_0x34a73b(0x22b),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x34a73b(0x23a),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1aa9f1=getNormalizedPerformance();emitPerformance(_0x1aa9f1),await getStartingBalances(_0x1aa9f1);}async function toggleBotMode(){const _0x65f90=_0x1f2ea6;let _0x21e0e4=dbConfig[_0x65f90(0x290)](_0x65f90(0x24c))[_0x65f90(0x26c)]({'botID':botID})['value']();if(_0x21e0e4){const _0x4bca07=!_0x21e0e4[_0x65f90(0x28b)];dbConfig['get'](_0x65f90(0x24c))[_0x65f90(0x26c)]({'botID':botID})['assign']({'headless':_0x4bca07})['write'](),config[_0x65f90(0x28b)]=_0x4bca07,proxyEmit(_0x65f90(0x22b),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x5c8856=>{});}function cleanws(){const _0x1f9ee4=_0x1f2ea6;wsinitialized=![];ws1&&(ws1['forEach'](_0x40e8ff=>{try{wsClient['closeWs'](_0x40e8ff);}catch(_0x52dfd1){}}),ws1=[]);if(ws2){try{wsClient[_0x1f9ee4(0x2b3)](ws2);}catch(_0x324856){}ws2=null;}ws3&&(ws3[_0x1f9ee4(0x29e)](_0x3a7838=>{try{wsClient['closeWs'](_0x3a7838);}catch(_0x1a97ab){}}),ws3=[]);}async function initws(){const _0x4bfc18=_0x1f2ea6;cleanws();let _0x103544=[];currentCoins['forEach'](_0xbc653b=>{const _0x58eb59=_0x10cb;if(_0xbc653b[_0x58eb59(0x222)]!=config['basecoin'])_0x103544[_0x58eb59(0x21d)](_0xbc653b['symbol']);});if(!_0x103544[_0x4bfc18(0x258)](stablecoins[_0x4bfc18(0x27d)]['symbol']))_0x103544[_0x4bfc18(0x21d)](stablecoins[_0x4bfc18(0x27d)]['symbol']);if(!_0x103544['includes'](stablecoins[_0x4bfc18(0x2be)]['symbol']))_0x103544['push'](stablecoins['usd'][_0x4bfc18(0x263)]);if(!_0x103544['includes']('BNB/'+config[_0x4bfc18(0x1c9)]))_0x103544[_0x4bfc18(0x21d)](_0x4bfc18(0x245)+config[_0x4bfc18(0x1c9)]);try{_0x103544['forEach']((_0x15b17d,_0x5aa79e)=>{const _0x4075a2=_0x4bfc18;ws1[_0x5aa79e]=wsClient[_0x4075a2(0x286)](noslash(_0x15b17d),'1m'),ws3[_0x5aa79e]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x15b17d),_0x4075a2(0x1ca));}),ws2=wsClient[_0x4bfc18(0x23c)](),wsClient['on'](_0x4bfc18(0x204),_0x35e05a=>{const _0x16cbb6=_0x4bfc18;if(isWsFormattedKline(_0x35e05a)){global['ticker'][_0x35e05a[_0x16cbb6(0x21a)]['symbol']]=_0x35e05a[_0x16cbb6(0x21a)]['close'];return;}else{if(isWsFormatted24hrTicker(_0x35e05a)){global[_0x16cbb6(0x1fe)][_0x35e05a['symbol']]=_0x35e05a['priceChangePercent'];return;}else{if(!Array[_0x16cbb6(0x21e)](_0x35e05a)&&_0x35e05a[_0x16cbb6(0x1f3)][_0x16cbb6(0x258)](_0x16cbb6(0x1ce))){if(_0x35e05a[_0x16cbb6(0x23d)][_0x16cbb6(0x258)](_0x16cbb6(0x1ca))){updateNumberCoins(_0x35e05a);return;}}}}}),wsClient['on'](_0x4bfc18(0x1f4),async _0x409e56=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x3f6ff0){await handleError(_0x3f6ff0,'initws()');}let _0x477b37,_0x64a8c3=0x0;loading['remainingSymbols']=[];let _0x264c2b=0x0;_0x103544[_0x4bfc18(0x29e)](_0x285e88=>{const _0x529672=_0x4bfc18;loading[_0x529672(0x213)][_0x529672(0x21d)](_0x285e88);}),loadingCanceled=![];while(_0x477b37!=_0x103544['length']){_0x477b37=0x0,_0x103544[_0x4bfc18(0x29e)](_0x26025a=>{const _0x2d562a=_0x4bfc18;global[_0x2d562a(0x1e0)][noslash(_0x26025a)]&&(loading[_0x2d562a(0x213)]=loading[_0x2d562a(0x213)][_0x2d562a(0x1dd)](_0x5afbef=>_0x5afbef!=_0x26025a),_0x477b37++);}),loading[_0x4bfc18(0x2c4)]=Math[_0x4bfc18(0x2ae)](_0x477b37/_0x103544[_0x4bfc18(0x2c3)]*0x64);_0x264c2b>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x4bfc18(0x2b0)]=!![],emitLoadingProgress();break;}else _0x477b37!=_0x64a8c3&&(_0x64a8c3=_0x477b37,emitLoadingProgress()),_0x264c2b++,await sleep(0xc8);}if(_0x477b37==_0x103544['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function _0x10cb(_0x4bcf70,_0x18f2b3){const _0x3a23b7=_0x4d8f();return _0x10cb=function(_0x5e23b7,_0x5a637c){_0x5e23b7=_0x5e23b7-0x1c9;let _0x4d8ffe=_0x3a23b7[_0x5e23b7];return _0x4d8ffe;},_0x10cb(_0x4bcf70,_0x18f2b3);}function emitLoadingProgress(){const _0x18ff1a=_0x1f2ea6;proxyEmit(_0x18ff1a(0x2cf),loading);}async function getFiat(){const _0x160d4b=_0x1f2ea6;let _0x508d4d=0x0,_0x3d8390=0x0;try{_0x508d4d=global[_0x160d4b(0x1e0)][stablecoins[_0x160d4b(0x27d)][_0x160d4b(0x222)]],_0x3d8390=global[_0x160d4b(0x1e0)][stablecoins[_0x160d4b(0x2be)]['coin']];}catch(_0x30c1fb){await handleError(_0x30c1fb,_0x160d4b(0x2e2));}return{'eur':Number(_0x508d4d),'usd':Number(_0x3d8390)};}function setStartDatePerformance(){const _0xc17885=_0x1f2ea6;if(config&&config[_0xc17885(0x1e1)][0x0]['changes'][_0xc17885(0x2c3)]!=0x0){const _0x4b2918=config[_0xc17885(0x1e1)][0x0][_0xc17885(0x242)];dbPerformance[_0xc17885(0x290)](_0xc17885(0x28d))[_0xc17885(0x26c)]({'date':config[_0xc17885(0x1e8)]})['assign']({'coins':_0x4b2918})['write']();}}async function recreateHistory(_0xc0e50d){const _0x3ad783=_0x1f2ea6;let _0xef7ad5,_0x47cda9=[];logHistory('success',_0x3ad783(0x231)),_0xc0e50d[_0x3ad783(0x266)]['forEach'](_0x55c00b=>{const _0x1d05d6=_0x3ad783;if(_0x55c00b['coin']!=config['basecoin']&&!_0x55c00b[_0x1d05d6(0x2c6)])_0x47cda9[_0x1d05d6(0x21d)]({'coin':_0x55c00b[_0x1d05d6(0x222)],'symbol':_0x55c00b[_0x1d05d6(0x263)]});});let _0x3699be=[];try{const _0x491c53=fns[_0x3ad783(0x2e4)](fns['parseISO'](_0xc0e50d[_0x3ad783(0x1e8)][_0x3ad783(0x28a)](/\//g,'-')),_0x3ad783(0x1d7));for(const _0x2e9c9d of _0x47cda9){if(_0x2e9c9d['coin']!=config[_0x3ad783(0x1c9)])_0xef7ad5=await exchange[_0x3ad783(0x1ed)](_0x2e9c9d[_0x3ad783(0x263)],Date[_0x3ad783(0x2d5)](_0x491c53));_0xef7ad5['forEach'](_0x75c80d=>{const _0xfb87c6=_0x3ad783,_0x3d9c41=_0x2e9c9d[_0xfb87c6(0x263)][_0xfb87c6(0x258)](config[_0xfb87c6(0x1c9)]+'/'),_0x33e147=fns['format'](fns[_0xfb87c6(0x282)](_0x75c80d[_0xfb87c6(0x25a)]),_0xfb87c6(0x280)),_0x349786=fns[_0xfb87c6(0x2e4)](fns[_0xfb87c6(0x282)](_0x75c80d[_0xfb87c6(0x25a)]),_0xfb87c6(0x1fb));let _0x5c85f0;if(_0x75c80d['side']==_0xfb87c6(0x2a0)&&_0x3d9c41==![])_0x5c85f0=_0x75c80d[_0xfb87c6(0x29b)];if(_0x75c80d[_0xfb87c6(0x233)]==_0xfb87c6(0x2a0)&&_0x3d9c41==!![])_0x5c85f0=-_0x75c80d[_0xfb87c6(0x29b)]*_0x75c80d['price'];if(_0x75c80d['side']==_0xfb87c6(0x1f2)&&_0x3d9c41==![])_0x5c85f0=-_0x75c80d[_0xfb87c6(0x29b)];if(_0x75c80d['side']==_0xfb87c6(0x1f2)&&_0x3d9c41==!![])_0x5c85f0=_0x75c80d[_0xfb87c6(0x29b)]*_0x75c80d[_0xfb87c6(0x249)];_0x3699be[_0xfb87c6(0x21d)]({'timestamp':_0x33e147,'date':_0x349786,'coin':_0x2e9c9d[_0xfb87c6(0x222)],'symbol':_0x2e9c9d[_0xfb87c6(0x263)],'type':_0x75c80d[_0xfb87c6(0x2b9)],'side':_0x75c80d[_0xfb87c6(0x233)],'reverse':_0x3d9c41,'amount':formatResult(_0x75c80d[_0xfb87c6(0x227)],0x8),'filled':formatResult(_0x75c80d[_0xfb87c6(0x227)],0x8),'coinamount':formatResult(_0x5c85f0,0x8),'price':formatResult(_0x75c80d[_0xfb87c6(0x249)],0x8)});let _0x5a33b0;if(_0x75c80d[_0xfb87c6(0x233)]==_0xfb87c6(0x2a0)&&_0x3d9c41==![])_0x5a33b0=-_0x75c80d[_0xfb87c6(0x29b)]*_0x75c80d[_0xfb87c6(0x249)];if(_0x75c80d[_0xfb87c6(0x233)]=='buy'&&_0x3d9c41==!![])_0x5a33b0=_0x75c80d['amount'];if(_0x75c80d['side']=='sell'&&_0x3d9c41==![])_0x5a33b0=_0x75c80d[_0xfb87c6(0x29b)]*_0x75c80d['price'];if(_0x75c80d[_0xfb87c6(0x233)]==_0xfb87c6(0x1f2)&&_0x3d9c41==!![])_0x5a33b0=-_0x75c80d[_0xfb87c6(0x29b)];_0x3699be[_0xfb87c6(0x21d)]({'date':_0x349786,'coin':config[_0xfb87c6(0x1c9)],'coinamount':formatResult(_0x5a33b0,0x8)});});}_0x3699be['sort']((_0x31c186,_0x44e4f7)=>_0x31c186['timestamp']>_0x44e4f7['timestamp']?0x1:_0x44e4f7[_0x3ad783(0x295)]>_0x31c186[_0x3ad783(0x295)]?-0x1:0x0),dbLogs['get'](_0x3ad783(0x26d))[_0x3ad783(0x2bd)]()[_0x3ad783(0x250)](),_0x3699be[_0x3ad783(0x29e)](_0x3f90d9=>{const _0xe7acde=_0x3ad783;let _0x312cac;_0x3f90d9['coin']!=config[_0xe7acde(0x1c9)]&&(_0x312cac={'time':_0x3f90d9['timestamp'],'type':_0xe7acde(0x1ff),'event':'Order:\x20'+_0x3f90d9['symbol']+'\x20'+_0x3f90d9[_0xe7acde(0x233)]+'\x20#'+_0x3f90d9[_0xe7acde(0x29b)]+'\x20@'+_0x3f90d9[_0xe7acde(0x249)]},dbLogs[_0xe7acde(0x290)](_0xe7acde(0x26d))[_0xe7acde(0x21d)](_0x312cac)[_0xe7acde(0x250)]());});const _0x4571dc=fns[_0x3ad783(0x201)]({'start':new Date(_0xc0e50d[_0x3ad783(0x1e8)]),'end':new Date()})['map'](_0x25c422=>fns[_0x3ad783(0x2e4)](_0x25c422,'yyyy/MM/dd'));let _0x46a4a3=[];_0xc0e50d[_0x3ad783(0x266)][_0x3ad783(0x29e)](_0x1ea907=>{const _0x3ade14=_0x3ad783;if(!_0x1ea907[_0x3ade14(0x2c6)]){_0x46a4a3[_0x1ea907['coin']]=[];let _0x512589=_0x1ea907['startnumber'];_0x4571dc[_0x3ade14(0x29e)]((_0x22e91f,_0x316e2a)=>{const _0x8afd39=_0x3ade14;let _0x1e0b7c=_0x3699be[_0x8afd39(0x1dd)](_0xda683f=>_0xda683f[_0x8afd39(0x222)]==_0x1ea907['coin']&&_0xda683f[_0x8afd39(0x235)]==_0x22e91f);if(_0x1e0b7c[_0x8afd39(0x2c3)]!=0x0){let _0x5e963a=_0x1e0b7c[_0x8afd39(0x298)]((_0x46d210,_0x230ed5)=>{const _0x3eeeee=_0x8afd39;return _0x46d210+=_0x230ed5[_0x3eeeee(0x2d9)],_0x46d210;},0x0);_0x512589+=_0x5e963a;}_0x46a4a3[_0x1ea907[_0x8afd39(0x222)]][_0x22e91f]=_0x512589;});}});const _0x35182b=[..._0x47cda9];_0x35182b[_0x3ad783(0x21d)]({'coin':stablecoins[_0x3ad783(0x27d)][_0x3ad783(0x222)],'symbol':stablecoins[_0x3ad783(0x27d)][_0x3ad783(0x263)]}),_0x35182b[_0x3ad783(0x21d)]({'coin':stablecoins[_0x3ad783(0x2be)][_0x3ad783(0x222)],'symbol':stablecoins[_0x3ad783(0x2be)][_0x3ad783(0x263)]});let _0x247ea5=[];for(const _0x18865b of _0x35182b){_0x247ea5[_0x18865b['coin']]=await getCloses(_0x18865b[_0x3ad783(0x263)],new Date(_0xc0e50d[_0x3ad783(0x1e8)]));}dbPerformance['get']('data')[_0x3ad783(0x2bd)]()[_0x3ad783(0x250)](),_0x4571dc[_0x3ad783(0x29e)]((_0x55db7d,_0x43951e)=>{const _0x33663c=_0x3ad783;let _0x1a3657,_0x4d831a=[];_0x43951e==0x0?(_0xc0e50d['portfolio'][_0x33663c(0x29e)](_0x948612=>{const _0xa45411=_0x33663c;!_0x948612['excluded']&&_0x4d831a[_0xa45411(0x21d)]({'coin':_0x948612[_0xa45411(0x222)],'number':_0x948612['startnumber'],'price':_0x948612[_0xa45411(0x291)]});}),_0x1a3657={'date':_0x55db7d,'eur':_0x247ea5[stablecoins[_0x33663c(0x27d)][_0x33663c(0x222)]][_0x43951e],'usd':_0x247ea5[stablecoins[_0x33663c(0x2be)][_0x33663c(0x222)]][_0x43951e],'coins':_0x4d831a}):(_0xc0e50d[_0x33663c(0x266)][_0x33663c(0x29e)](_0xe3cb1=>{const _0x47e45d=_0x33663c;!_0xe3cb1[_0x47e45d(0x2c6)]&&_0x4d831a['push']({'coin':_0xe3cb1[_0x47e45d(0x222)],'number':_0x46a4a3[_0xe3cb1[_0x47e45d(0x222)]][_0x55db7d],'price':_0xe3cb1[_0x47e45d(0x222)]==config[_0x47e45d(0x1c9)]?0x1:_0x247ea5[_0xe3cb1[_0x47e45d(0x222)]][_0x43951e]});}),_0x1a3657={'date':_0x55db7d,'eur':_0x247ea5[stablecoins[_0x33663c(0x27d)][_0x33663c(0x222)]][_0x43951e],'usd':_0x247ea5[stablecoins[_0x33663c(0x2be)]['coin']][_0x43951e],'coins':_0x4d831a}),dbPerformance['get'](_0x33663c(0x28d))['push'](_0x1a3657)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x1316b8 of _0x3699be){_0x1316b8[_0x3ad783(0x222)]!=config['basecoin']&&await updateCoinResults(_0x1316b8);}logHistory(_0x3ad783(0x238),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x388e4e){await handleError(_0x388e4e,'recreateHistory()');}}async function validate24hChanges(){const _0x50a1e3=_0x1f2ea6;let _0x1737c0;for(const _0x539bcb of currentCoins){if(_0x539bcb[_0x50a1e3(0x222)]!=config[_0x50a1e3(0x1c9)]){let _0x3c0542;_0x539bcb[_0x50a1e3(0x28e)]?_0x3c0542=formatResult((0x1/(global['change'][noslash(_0x539bcb[_0x50a1e3(0x263)])]/0x64+0x1)-0x1)*0x64,0x3):_0x3c0542=global[_0x50a1e3(0x1fe)][noslash(_0x539bcb['symbol'])],_0x3c0542<config['change24h']&&(logHistory(_0x50a1e3(0x216),_0x539bcb[_0x50a1e3(0x222)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x3c0542+'%'),logHistory(_0x50a1e3(0x216),_0x50a1e3(0x1df)),logHistory(_0x50a1e3(0x216),_0x50a1e3(0x285)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x352868,_0x2db007,_0x2495ec=undefined){const _0xb57244=_0x1f2ea6,_0x4ae973='1d';let _0x451076,_0x562a2f;const _0x1c5164=fns[_0xb57244(0x257)](new Date(),_0x2db007)+0x1;try{const _0x32ddb5=exchange[_0xb57244(0x1d4)]()-_0x1c5164*0x18*0xe10*0x3e8;_0x451076=await exchange[_0xb57244(0x2de)](_0x352868,_0x4ae973,_0x32ddb5,_0x2495ec),_0x562a2f=await exchange[_0xb57244(0x1e3)](_0x352868);}catch(_0x1b5c0){await handleError(_0x1b5c0,'getCloses()');}let _0x2afe2e=ohlcvToCloses(_0x451076);return _0x2afe2e[_0xb57244(0x21d)](_0x562a2f[_0x352868][_0xb57244(0x1fd)]),_0x2afe2e;}function ohlcvToCloses(_0x4b1b1a){const _0x2dab64=_0x1f2ea6;let _0x30138d=[];return _0x4b1b1a[_0x2dab64(0x29e)](function(_0x248869){_0x30138d['push'](_0x248869[0x4]);}),_0x30138d;}function oneTimeMigration(){const _0x4899b6=_0x1f2ea6;let _0x2bdd17=dbLogs[_0x4899b6(0x290)](_0x4899b6(0x2dd))[_0x4899b6(0x271)]();if(_0x2bdd17!=_0x4899b6(0x278)){dbLogs[_0x4899b6(0x234)](_0x4899b6(0x2dd),_0x4899b6(0x278))[_0x4899b6(0x250)]();let _0x1ad8c0=[];const _0x1aad9b=dbLogs[_0x4899b6(0x290)]('logs')[_0x4899b6(0x271)]();_0x1aad9b['forEach'](_0x59be7b=>{const _0x5657f7=_0x4899b6;_0x1ad8c0[_0x5657f7(0x21d)]({'time':_0x59be7b[_0x5657f7(0x2d6)],'type':_0x59be7b['type'],'event':_0x59be7b[_0x5657f7(0x254)]});}),dbLogs[_0x4899b6(0x290)](_0x4899b6(0x26d))[_0x4899b6(0x209)](_0x1ad8c0)[_0x4899b6(0x250)]();}let _0x43109f=dbConfig[_0x4899b6(0x290)](_0x4899b6(0x2dd))[_0x4899b6(0x271)]();if(_0x43109f!=_0x4899b6(0x278)){dbConfig[_0x4899b6(0x234)](_0x4899b6(0x2dd),'2.3.5')['write']();let _0x393774=dbConfig[_0x4899b6(0x290)](_0x4899b6(0x24c))['find']({'botID':botID})[_0x4899b6(0x271)]();if(_0x393774){let _0x38ccb2=[];_0x393774[_0x4899b6(0x266)]['forEach'](_0x405028=>{const _0x27f139=_0x4899b6;_0x38ccb2[_0x27f139(0x21d)]({'coin':_0x405028['coin'],'number':_0x405028[_0x27f139(0x2b1)],'price':_0x405028[_0x27f139(0x291)]}),delete _0x405028[_0x27f139(0x2b1)],delete _0x405028[_0x27f139(0x291)];});if(_0x38ccb2[_0x4899b6(0x2c3)]!==0x0)fs[_0x4899b6(0x287)](configbackuppath+(_0x4899b6(0x2b8)+botID+_0x4899b6(0x265)),JSON[_0x4899b6(0x1e7)](_0x38ccb2,null,0x4),function(_0xe90d08){if(_0xe90d08){}});const _0x26a5c6=(_0x439d66,_0x42bce1)=>{const _0x3a23e0=_0x4899b6;let _0x86d118=[];_0x42bce1[_0x3a23e0(0x29e)](_0x5e5666=>{const _0x191c15=_0x3a23e0,_0x4aabd9=_0x439d66[_0x191c15(0x26c)](_0x4c9f22=>_0x4c9f22[_0x191c15(0x222)]==_0x5e5666[_0x191c15(0x222)]);if(!_0x4aabd9)_0x86d118[_0x191c15(0x21d)](_0x5e5666);});let _0xd2cd6a=[];return _0x439d66[_0x3a23e0(0x29e)](_0x48e7a7=>{const _0x10bf20=_0x3a23e0,_0x4ec180=_0x42bce1['find'](_0x33fec7=>_0x33fec7[_0x10bf20(0x222)]==_0x48e7a7['coin']);if(!_0x4ec180||_0x4ec180[_0x10bf20(0x1ee)]==0x0&&_0x48e7a7[_0x10bf20(0x1ee)]!=0x0)_0xd2cd6a[_0x10bf20(0x21d)](_0x48e7a7);}),{'missingDay1':_0x86d118,'notInDay2':_0xd2cd6a};},_0x1be85e=dbPerformance['get'](_0x4899b6(0x28d))[_0x4899b6(0x252)]()['value']();if(_0x1be85e['length']>0x1){const {missingDay1:_0x46bfcc,notInDay2:_0x573293}=_0x26a5c6(_0x38ccb2,_0x1be85e[0x1][_0x4899b6(0x1cc)]);_0x38ccb2=[..._0x38ccb2,..._0x46bfcc],_0x573293['forEach'](_0x4738af=>{const _0x1fd906=_0x4899b6;let _0x2dc856=_0x38ccb2[_0x1fd906(0x207)](_0x4b5a2f=>_0x4b5a2f[_0x1fd906(0x222)]==_0x4738af['coin']);_0x2dc856!=-0x1&&_0x38ccb2[_0x1fd906(0x2e3)](_0x2dc856,0x1);});}_0x38ccb2[_0x4899b6(0x1ef)]((_0x3bed65,_0x3a3992)=>_0x3bed65[_0x4899b6(0x222)]>_0x3a3992[_0x4899b6(0x222)]?0x1:_0x3a3992[_0x4899b6(0x222)]>_0x3bed65['coin']?-0x1:0x0);let _0x5ef0a7=[{'date':_0x393774['startdate'],'changes':_0x38ccb2}];_0x1be85e[_0x4899b6(0x2c3)]>0x2&&_0x1be85e[_0x4899b6(0x29e)]((_0x17ee24,_0x57ca62)=>{const _0x4610a1=_0x4899b6;if(_0x57ca62>0x0&&_0x57ca62<_0x1be85e['length']-0x1){const {missingDay1:_0x18f618,notInDay2:_0x284db4}=_0x26a5c6(_0x1be85e[_0x57ca62][_0x4610a1(0x1cc)],_0x1be85e[_0x57ca62+0x1][_0x4610a1(0x1cc)]);_0x38ccb2=[],(_0x18f618[_0x4610a1(0x2c3)]!=0x0||_0x284db4[_0x4610a1(0x2c3)]!=0x0)&&(_0x18f618[_0x4610a1(0x2c3)]!=0x0&&_0x38ccb2[_0x4610a1(0x21d)](..._0x18f618),_0x284db4[_0x4610a1(0x2c3)]!=0x0&&(_0x284db4['forEach'](_0x30edae=>{const _0x52bdc2=_0x4610a1;_0x30edae['number']=-_0x30edae[_0x52bdc2(0x1ee)];}),_0x38ccb2[_0x4610a1(0x21d)](..._0x284db4)),_0x38ccb2[_0x4610a1(0x1ef)]((_0x2dab1a,_0x4be8fa)=>_0x2dab1a[_0x4610a1(0x222)]>_0x4be8fa['coin']?0x1:_0x4be8fa[_0x4610a1(0x222)]>_0x2dab1a[_0x4610a1(0x222)]?-0x1:0x0),_0x5ef0a7['push']({'date':_0x1be85e[_0x57ca62+0x1][_0x4610a1(0x235)],'changes':_0x38ccb2}));}}),dbConfig['get'](_0x4899b6(0x24c))['find']({'botID':botID})[_0x4899b6(0x209)]({..._0x393774,'liquidity':_0x5ef0a7})['write']();}}config=getConfiguration(botID);let _0x5bee5e=dbPerformance[_0x4899b6(0x290)]('version')[_0x4899b6(0x271)]();_0x5bee5e!=_0x4899b6(0x278)&&(dbPerformance[_0x4899b6(0x234)]('version',_0x4899b6(0x278))['write'](),setStartDatePerformance());let _0x400857=dbCoinResults['get'](_0x4899b6(0x2dd))[_0x4899b6(0x271)]();_0x400857!=_0x4899b6(0x278)&&dbCoinResults['set']('version',_0x4899b6(0x278))[_0x4899b6(0x250)]();}function getConfiguration(_0x5e80e9){const _0x295e11=_0x1f2ea6;let _0x162f2e=dbConfig['get']('bot')[_0x295e11(0x26c)]({'botID':_0x5e80e9})[_0x295e11(0x271)]();if(_0x162f2e){let _0x3555a7=![];typeof _0x162f2e['threshold']==_0x295e11(0x2e8)&&(_0x162f2e={..._0x162f2e,'threshold':Number(_0x162f2e[_0x295e11(0x2e5)])},_0x3555a7=!![]),_0x162f2e[_0x295e11(0x1d3)]==null&&(_0x162f2e={..._0x162f2e,'change24h':-0x14},_0x3555a7=!![]),_0x3555a7&&(_0x162f2e={'botID':_0x162f2e[_0x295e11(0x260)],'exchange':_0x162f2e[_0x295e11(0x2ce)],'apiKey':_0x162f2e[_0x295e11(0x262)],'apiSecret':_0x162f2e[_0x295e11(0x203)],'basecoin':_0x162f2e['basecoin'],'botname':_0x162f2e[_0x295e11(0x2a2)],'showname':_0x162f2e[_0x295e11(0x2ef)],'threshold':_0x162f2e[_0x295e11(0x2e5)],'ordertype':_0x162f2e['ordertype'],'timeout':_0x162f2e[_0x295e11(0x241)],'startdate':_0x162f2e['startdate'],'recreate':_0x162f2e[_0x295e11(0x25e)],'timeshift':_0x162f2e['timeshift'],'headless':_0x162f2e[_0x295e11(0x28b)],'cooldown':_0x162f2e[_0x295e11(0x20b)],'change24h':_0x162f2e[_0x295e11(0x1d3)],'emojibuy':_0x162f2e[_0x295e11(0x2eb)],'emojisell':_0x162f2e['emojisell'],'portfolio':_0x162f2e['portfolio'],'liquidity':_0x162f2e[_0x295e11(0x1e1)]},dbConfig[_0x295e11(0x290)](_0x295e11(0x24c))[_0x295e11(0x2bd)]()[_0x295e11(0x250)](),dbConfig['get'](_0x295e11(0x24c))[_0x295e11(0x21d)](_0x162f2e)[_0x295e11(0x250)]());}else _0x162f2e={'botID':_0x5e80e9,'exchange':_0x295e11(0x273),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x295e11(0x2c9)+_0x5e80e9,'showname':![],'threshold':0x3,'ordertype':_0x295e11(0x244),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x295e11(0x1f8)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x162f2e;}function emittedConfiguration(){const _0x4f6961=_0x1f2ea6;let _0x15986c;return config[_0x4f6961(0x262)]==''?_0x15986c=config:_0x15986c={...config,'apiKey':_0x4f6961(0x2c5),'apiSecret':_0x4f6961(0x2c5)},_0x15986c;}function getSettings(){const _0x1906e6=_0x1f2ea6;return dbSettings[_0x1906e6(0x290)](_0x1906e6(0x1dc))[_0x1906e6(0x271)]();}function getSecure(){const _0x3c570a=_0x1f2ea6;return dbSecure['get'](_0x3c570a(0x253))[_0x3c570a(0x271)]()||{};}function updateTimeshift(_0x94c2b6){const _0x2bed66=_0x1f2ea6;let _0x42cf4e=dbConfig['get']('bot')['find']({'botID':botID})['value']();_0x42cf4e&&dbConfig['get'](_0x2bed66(0x24c))['find']({'botID':botID})['assign']({'timeshift':_0x94c2b6})['write'](),config[_0x2bed66(0x1f8)]=_0x94c2b6,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x57f5fb){const _0x1f549d=_0x1f2ea6;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x57f4d9=dbConfig[_0x1f549d(0x290)](_0x1f549d(0x24c))[_0x1f549d(0x26c)]({'botID':botID})[_0x1f549d(0x271)]();_0x57f5fb={..._0x57f5fb,'apiKey':crypt[_0x1f549d(0x215)](secure['privateKey'],_0x57f5fb[_0x1f549d(0x262)])[_0x1f549d(0x275)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x57f5fb['apiSecret'])[_0x1f549d(0x275)]};if(_0x57f4d9){if(_0x57f5fb['apiKey']==_0x1f549d(0x2c5))_0x57f5fb['apiKey']=config[_0x1f549d(0x262)];if(_0x57f5fb[_0x1f549d(0x203)]==_0x1f549d(0x2c5))_0x57f5fb['apiSecret']=config['apiSecret'];dbConfig[_0x1f549d(0x290)]('bot')[_0x1f549d(0x26c)]({'botID':botID})[_0x1f549d(0x209)](_0x57f5fb)[_0x1f549d(0x250)]();}else dbConfig[_0x1f549d(0x290)](_0x1f549d(0x24c))[_0x1f549d(0x21d)](_0x57f5fb)['write'](),process[_0x1f549d(0x230)]({'status':'enabled','live':_0x1f549d(0x2c0)},_0x5825c2=>{});config={..._0x57f5fb},setStartDatePerformance(),process[_0x1f549d(0x230)]({'botname':_0x57f5fb[_0x1f549d(0x2a2)]},_0x57c3c7=>{}),updateBotManager();const _0x41548b=getNormalizedPerformance();getStartingBalances(_0x41548b),emitPerformance(_0x41548b),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x514a0e){const _0x2daa0b=_0x1f2ea6,_0x1f8b54={...config,'headless':_0x514a0e['headless']};let _0x1eb020=dbConfig[_0x2daa0b(0x290)]('bot')[_0x2daa0b(0x26c)]({'botID':botID})[_0x2daa0b(0x271)]();_0x1eb020&&dbConfig['get']('bot')[_0x2daa0b(0x26c)]({'botID':botID})[_0x2daa0b(0x209)](_0x1f8b54)[_0x2daa0b(0x250)](),config={..._0x1f8b54},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x2a21a5){const _0x4ad9c7=_0x1f2ea6;return _0x2a21a5[_0x4ad9c7(0x28a)]('/','');}function updateNumberCoins(_0x1062ea){const _0x2bde02=_0x1f2ea6;_0x1062ea[_0x2bde02(0x2c2)]&&_0x1062ea[_0x2bde02(0x2c2)]==_0x2bde02(0x202)&&_0x1062ea['balances'][_0x2bde02(0x29e)](_0x475369=>{const _0x5f0ed1=_0x2bde02;let _0x9115ee=currentCoins[_0x5f0ed1(0x26c)](_0x741ce4=>_0x741ce4[_0x5f0ed1(0x222)]==_0x475369[_0x5f0ed1(0x24e)]),_0x14615b=config[_0x5f0ed1(0x266)][_0x5f0ed1(0x26c)](_0x105dee=>_0x105dee[_0x5f0ed1(0x222)]==_0x475369['asset']);if(_0x9115ee&&_0x14615b)_0x9115ee[_0x5f0ed1(0x1ee)]=Math[_0x5f0ed1(0x292)](Number(_0x475369['availableBalance'])+(_0x14615b[_0x5f0ed1(0x2f4)]||0x0),0x0);});if(_0x1062ea[_0x2bde02(0x2c2)]&&_0x1062ea['eventType']=='executionReport'){if(_0x1062ea[_0x2bde02(0x23e)]==_0x2bde02(0x25f)&&_0x1062ea['orderStatus']==_0x2bde02(0x2cd)){if(lastOrders)lastOrders[_0x2bde02(0x29e)](_0x2c0484=>{const _0x5d5ca8=_0x2bde02;if(_0x2c0484[_0x5d5ca8(0x270)]==_0x1062ea['orderId']){if(_0x2c0484[_0x5d5ca8(0x28e)])_0x2c0484[_0x5d5ca8(0x227)]=_0x1062ea[_0x5d5ca8(0x2db)]*_0x2c0484[_0x5d5ca8(0x249)];else _0x2c0484['filled']=_0x1062ea['accumulatedQuantity'];}});}}}async function getCoins(_0xda2beb=!![],_0x22f5db=config['basecoin']){const _0x2a77e4=_0x1f2ea6;let _0x17344c,_0x13d5f9=[],_0x1cec3d=[],_0xbc5df=[];try{_0x17344c=await exchange[_0x2a77e4(0x2b4)](),mybalances=_0x17344c[_0x2a77e4(0x2a3)];if(!_0xda2beb)for(const [_0x262d3d,_0x1c2083]of Object[_0x2a77e4(0x25d)](mybalances)){_0xbc5df['push'](_0x262d3d);}else config[_0x2a77e4(0x266)][_0x2a77e4(0x29e)](_0x870dcc=>{const _0x7429ef=_0x2a77e4;if(!_0x870dcc[_0x7429ef(0x2c6)])_0xbc5df[_0x7429ef(0x21d)](_0x870dcc['coin']);});if(_0x22f5db=='')for(const [_0x5aba3f,_0x215627]of Object[_0x2a77e4(0x25d)](mybalances)){_0x215627[_0x2a77e4(0x2d2)]()!=0x0&&_0x1cec3d[_0x2a77e4(0x21d)]({'coin':_0x5aba3f});}else for(const [_0x1fcdf4,_0x31a418]of Object[_0x2a77e4(0x25d)](mybalances)){if(_0xbc5df['includes'](_0x1fcdf4)){const _0x3b6cf6=config[_0x2a77e4(0x266)][_0x2a77e4(0x26c)](_0x3cebed=>_0x3cebed[_0x2a77e4(0x222)]==_0x1fcdf4);if((_0x31a418[_0x2a77e4(0x2d2)]()!=0x0||_0x3b6cf6)&&(allSymbols['includes'](_0x1fcdf4+'/'+_0x22f5db)||_0x1fcdf4==_0x22f5db))_0x1cec3d[_0x2a77e4(0x21d)]({'coin':_0x1fcdf4,'symbol':_0x1fcdf4+'/'+_0x22f5db,'reverse':![],'number':Math['max'](_0x31a418+(_0x3b6cf6&&_0x3b6cf6[_0x2a77e4(0x2f4)]||0x0),0x0)}),_0x1fcdf4!=_0x22f5db&&_0x13d5f9[_0x2a77e4(0x21d)](_0x1fcdf4+'/'+_0x22f5db);else(_0x31a418['toString']()!=0x0||_0x3b6cf6)&&allSymbols['includes'](_0x22f5db+'/'+_0x1fcdf4)&&(_0x1cec3d[_0x2a77e4(0x21d)]({'coin':_0x1fcdf4,'symbol':_0x22f5db+'/'+_0x1fcdf4,'reverse':!![],'number':Math[_0x2a77e4(0x292)](_0x31a418+(_0x3b6cf6&&_0x3b6cf6[_0x2a77e4(0x2f4)]||0x0),0x0)}),_0x1fcdf4!=_0x22f5db&&_0x13d5f9[_0x2a77e4(0x21d)](_0x22f5db+'/'+_0x1fcdf4));}}}catch(_0x1c730e){if(!_0xda2beb){if(_0x1c730e['toString']()[_0x2a77e4(0x258)](_0x2a77e4(0x2d3)))return logHistory(_0x2a77e4(0x216),_0x2a77e4(0x1cb)),![];else{if(_0x1c730e[_0x2a77e4(0x2d2)]()['includes'](_0x2a77e4(0x22e)))return logHistory('error',_0x2a77e4(0x283)),![];else{if(_0x1c730e[_0x2a77e4(0x2d2)]()[_0x2a77e4(0x258)](_0x2a77e4(0x2b7)))return logHistory(_0x2a77e4(0x216),_0x2a77e4(0x2d0)),![];else await handleError(_0x1c730e,_0x2a77e4(0x2f3));}}}else await handleError(_0x1c730e,_0x2a77e4(0x2f3));}return _0x1cec3d;}async function getPortfolio(_0x235178){const _0x403def=_0x1f2ea6;let _0x3d4ab2=[],_0x54a3cc=[],_0x4ae97a,_0x222483=[],_0x532a04,_0x2788aa;_0x235178[_0x403def(0x262)]===_0x403def(0x2c5)||_0x235178[_0x403def(0x203)]===_0x403def(0x2c5)?(_0x532a04=config[_0x403def(0x262)],_0x2788aa=config['apiSecret']):(_0x532a04=_0x235178[_0x403def(0x262)],_0x2788aa=_0x235178[_0x403def(0x203)]);await initExchange(_0x532a04,_0x2788aa);let _0x322870=await loadSymbols();if(_0x322870){_0x222483=await getCoins(![],_0x235178[_0x403def(0x1c9)]);if(_0x222483===![])proxyEmit(_0x403def(0x266),![]);else{if(_0x235178[_0x403def(0x1c9)]=='')proxyEmit(_0x403def(0x266),_0x222483);else{_0x222483[_0x403def(0x29e)](_0x1082ae=>{const _0x3e211b=_0x403def;_0x3d4ab2[_0x3e211b(0x21d)](_0x1082ae[_0x3e211b(0x263)]);});try{_0x54a3cc=await exchange['fetchTickers'](_0x3d4ab2);}catch(_0xfac42){await handleError(_0xfac42,'getPortfolio()');}_0x222483[_0x403def(0x29e)](_0x4a5d71=>{const _0x99f7aa=_0x403def;_0x4a5d71[_0x99f7aa(0x222)]!=_0x235178['basecoin']?_0x4ae97a=_0x4a5d71[_0x99f7aa(0x28e)]?0x1/_0x54a3cc[_0x4a5d71[_0x99f7aa(0x263)]][_0x99f7aa(0x1fd)]:_0x54a3cc[_0x4a5d71[_0x99f7aa(0x263)]][_0x99f7aa(0x1fd)]:_0x4ae97a=0x1,_0x4a5d71[_0x99f7aa(0x249)]=formatResult(_0x4ae97a,0x8);}),proxyEmit('portfolio',_0x222483);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x116a48){const _0x41f34d=_0x1f2ea6;let _0x269625=!![];const _0x3c094c=!_0x116a48[_0x41f34d(0x28e)]?markets[_0x116a48[_0x41f34d(0x263)]][_0x41f34d(0x211)][_0x41f34d(0x29b)][_0x41f34d(0x1f6)]:markets[_0x116a48[_0x41f34d(0x263)]][_0x41f34d(0x211)][_0x41f34d(0x261)][_0x41f34d(0x1f6)],_0x2d4ab8=!_0x116a48['reverse']?markets[_0x116a48[_0x41f34d(0x263)]][_0x41f34d(0x211)]['cost'][_0x41f34d(0x1f6)]:markets[_0x116a48[_0x41f34d(0x263)]][_0x41f34d(0x211)][_0x41f34d(0x29b)][_0x41f34d(0x1f6)];if(Math[_0x41f34d(0x2ee)](_0x116a48[_0x41f34d(0x2a4)])<_0x3c094c)_0x269625=![];if(Math[_0x41f34d(0x2ee)](_0x116a48[_0x41f34d(0x2a4)])*_0x116a48[_0x41f34d(0x1fd)]<_0x2d4ab8)_0x269625=![];if(_0x116a48['side']==_0x41f34d(0x1f2)){let _0x314d74=config[_0x41f34d(0x266)][_0x41f34d(0x26c)](_0x31c291=>_0x31c291['coin']==_0x116a48['coin']);if(Math[_0x41f34d(0x2ee)](_0x116a48[_0x41f34d(0x2a4)])>_0x116a48[_0x41f34d(0x1ee)]-_0x314d74[_0x41f34d(0x2f4)])_0x269625=![];}return _0x269625;}async function getBalances(){const _0x9fb8d9=_0x1f2ea6;let _0x23b2c7=0x0,_0x1277ae;const _0x2898f5=config[_0x9fb8d9(0x2e5)];if(config[_0x9fb8d9(0x28b)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x9fb8d9(0x29e)](_0x327975=>{const _0x430742=_0x9fb8d9;if(_0x327975[_0x430742(0x222)]!=config[_0x430742(0x1c9)]){let _0x593df4=global[_0x430742(0x1e0)][noslash(_0x327975[_0x430742(0x263)])];_0x1277ae=_0x327975['reverse']?0x1/_0x593df4:_0x593df4;}else _0x1277ae=0x1;let _0x33f594=_0x327975[_0x430742(0x1ee)]*_0x1277ae;_0x23b2c7+=_0x33f594,_0x327975[_0x430742(0x1fd)]=formatResult(Number(_0x1277ae),0x8),_0x327975['value']=_0x33f594;}),currentCoins[_0x9fb8d9(0x29e)](_0x3bea32=>{const _0x5ee0ed=_0x9fb8d9;let _0x1207cb=config[_0x5ee0ed(0x266)][_0x5ee0ed(0x26c)](_0x3aeb1a=>_0x3aeb1a[_0x5ee0ed(0x222)]==_0x3bea32[_0x5ee0ed(0x222)]),_0x54281e=Number(_0x1207cb[_0x5ee0ed(0x1d8)]),_0x2520f1=_0x3bea32[_0x5ee0ed(0x271)]/_0x23b2c7*0x64,_0x290a01=_0x54281e*_0x23b2c7/0x64/_0x3bea32[_0x5ee0ed(0x1fd)]-_0x3bea32[_0x5ee0ed(0x1ee)];_0x3bea32['distribution']=formatResult(_0x2520f1,0x3),_0x3bea32['target']=formatResult(_0x54281e,0x3),_0x3bea32['trade']=formatResult(_0x290a01,0x8),_0x3bea32[_0x5ee0ed(0x233)]='',_0x3bea32['valid']=![];if(_0x3bea32[_0x5ee0ed(0x222)]!=config[_0x5ee0ed(0x1c9)]){if(_0x3bea32[_0x5ee0ed(0x1d8)]>_0x54281e)_0x3bea32['side']=_0x5ee0ed(0x1f2),_0x3bea32[_0x5ee0ed(0x24a)]=checkMinimums(_0x3bea32);else _0x3bea32[_0x5ee0ed(0x1d8)]<_0x54281e&&(_0x3bea32[_0x5ee0ed(0x233)]='buy',_0x3bea32[_0x5ee0ed(0x24a)]=checkMinimums(_0x3bea32));}_0x3bea32[_0x5ee0ed(0x1e5)]=_0x3bea32[_0x5ee0ed(0x1d8)]/_0x3bea32[_0x5ee0ed(0x288)]-0x1;}),currentCoins[_0x9fb8d9(0x1ef)]((_0x269122,_0x4a8052)=>_0x269122['delta']<_0x4a8052['delta']?0x1:_0x4a8052[_0x9fb8d9(0x1e5)]<_0x269122['delta']?-0x1:0x0);const _0x3237f2=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3237f2[_0x9fb8d9(0x27d)],'usd':_0x3237f2['usd'],'portfolio':JSON[_0x9fb8d9(0x1e7)](currentCoins),'threshold':_0x2898f5},proxyEmit(_0x9fb8d9(0x23a),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x9fb8d9(0x28b)])headlessMode({'portfolio':currentCoins,'threshold':_0x2898f5});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x2898f5});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4cda29=_0x1f2ea6;if(!lastBalances)return;let _0x21f177=[],_0x2aa4a9,_0x51d4c7=JSON[_0x4cda29(0x2d5)](lastBalances[_0x4cda29(0x266)]);_0x51d4c7[_0x4cda29(0x1ef)]((_0x1da119,_0x1ee9a5)=>_0x1da119[_0x4cda29(0x222)]>_0x1ee9a5['coin']?0x1:_0x1ee9a5['coin']>_0x1da119[_0x4cda29(0x222)]?-0x1:0x0),_0x51d4c7[_0x4cda29(0x29e)](_0x33bef9=>{const _0x24d27e=_0x4cda29;let _0x23e23c={'coin':_0x33bef9[_0x24d27e(0x222)],'number':_0x33bef9[_0x24d27e(0x1ee)],'price':_0x33bef9[_0x24d27e(0x1fd)]};_0x21f177[_0x24d27e(0x21d)](_0x23e23c);});const _0x58f31a=await getFiat();_0x2aa4a9={'date':lastBalances[_0x4cda29(0x2d6)][_0x4cda29(0x25b)]('\x20')[0x0],'eur':_0x58f31a[_0x4cda29(0x27d)],'usd':_0x58f31a[_0x4cda29(0x2be)],'coins':_0x21f177};let _0x57ad3c=dbPerformance[_0x4cda29(0x290)](_0x4cda29(0x28d))[_0x4cda29(0x26c)]({'date':_0x2aa4a9[_0x4cda29(0x235)]})[_0x4cda29(0x271)]();_0x57ad3c?_0x2aa4a9[_0x4cda29(0x235)]!=config[_0x4cda29(0x1e8)]&&dbPerformance[_0x4cda29(0x290)](_0x4cda29(0x28d))[_0x4cda29(0x26c)]({'date':_0x2aa4a9[_0x4cda29(0x235)]})[_0x4cda29(0x209)](_0x2aa4a9)[_0x4cda29(0x250)]():dbPerformance[_0x4cda29(0x290)](_0x4cda29(0x28d))[_0x4cda29(0x21d)](_0x2aa4a9)[_0x4cda29(0x250)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x54421c=_0x1f2ea6;let _0x3e801a=[];if(dbPerformance[_0x54421c(0x2d8)](_0x54421c(0x28d))[_0x54421c(0x271)]()){let _0x1df647=dbPerformance[_0x54421c(0x290)](_0x54421c(0x28d))['cloneDeep']()['sortBy']('date')[_0x54421c(0x271)](),_0x8f9ac8=[...config[_0x54421c(0x1e1)]];_0x8f9ac8[_0x54421c(0x1ef)]((_0x78b81a,_0x470a1a)=>_0x78b81a[_0x54421c(0x235)]>_0x470a1a[_0x54421c(0x235)]?-0x1:_0x470a1a[_0x54421c(0x235)]>_0x78b81a['date']?0x1:0x0);let _0xef87f2=0x1,_0x4ee367=[],_0x1b1fac=0x0;_0x1df647[_0x54421c(0x1de)]()[_0x54421c(0x28e)]()[_0x54421c(0x29e)]((_0x92b329,_0x1d83c7)=>{const _0x52bb4b=_0x54421c;if(_0x8f9ac8[_0x1b1fac]){if(_0x1df647[_0x1df647['length']-_0x1d83c7]&&_0x8f9ac8[_0x1b1fac]['date']==_0x1df647[_0x1df647[_0x52bb4b(0x2c3)]-_0x1d83c7][_0x52bb4b(0x235)]){if(_0x1d83c7<_0x1df647[_0x52bb4b(0x2c3)]){let _0x123d7f=0x0,_0x206e00=0x0;_0x1df647[_0x1df647['length']-_0x1d83c7][_0x52bb4b(0x1cc)][_0x52bb4b(0x29e)](_0x3cafed=>{const _0xba15f9=_0x52bb4b;_0x206e00+=_0x3cafed[_0xba15f9(0x1ee)]*_0x3cafed[_0xba15f9(0x249)];}),_0x8f9ac8[_0x1b1fac][_0x52bb4b(0x242)][_0x52bb4b(0x29e)](_0x24ff46=>{const _0x2e8e2c=_0x52bb4b;_0x123d7f+=_0x24ff46[_0x2e8e2c(0x1ee)]*_0x24ff46[_0x2e8e2c(0x249)];}),_0xef87f2*=_0x123d7f/(_0x206e00-_0x123d7f)+0x1;}_0x1b1fac++;}}let _0x2eb4ae=0x0;_0x92b329['coins'][_0x52bb4b(0x29e)](_0x455e3b=>{const _0x53c0ca=_0x52bb4b;_0x2eb4ae+=_0x455e3b[_0x53c0ca(0x1ee)]*_0x455e3b[_0x53c0ca(0x249)];}),_0x4ee367[_0x1df647[_0x52bb4b(0x2c3)]-_0x1d83c7-0x1]=_0x2eb4ae*(_0xef87f2-0x1);});let _0x43b7f5=[];_0x8f9ac8=[...config[_0x54421c(0x1e1)]]||[];let _0x5deab1=0x0;_0x1b1fac=0x0,_0x1df647['forEach']((_0x571ce3,_0x3cbe0c)=>{const _0x3e0e00=_0x54421c;if(_0x8f9ac8[_0x1b1fac]){const _0x2b5ec0=fns[_0x3e0e00(0x2d5)](_0x8f9ac8[_0x1b1fac][_0x3e0e00(0x235)],_0x3e0e00(0x1fb),new Date()),_0x1c2137=fns['parse'](_0x571ce3[_0x3e0e00(0x235)],'yyyy/MM/dd',new Date());if(fns[_0x3e0e00(0x2a6)](_0x2b5ec0,_0x1c2137)){let _0x1a7754=0x0;_0x8f9ac8[_0x1b1fac][_0x3e0e00(0x242)][_0x3e0e00(0x29e)](_0x22a259=>{const _0x214636=_0x3e0e00;!_0x43b7f5[_0x22a259[_0x214636(0x222)]]?_0x43b7f5[_0x22a259[_0x214636(0x222)]]=_0x22a259[_0x214636(0x1ee)]:(_0x1a7754=_0x43b7f5[_0x22a259['coin']],_0x43b7f5[_0x22a259[_0x214636(0x222)]]+=_0x22a259['number']);const _0x3198c0=_0x571ce3[_0x214636(0x1cc)]['find'](_0x2d26bd=>_0x2d26bd[_0x214636(0x222)]==_0x22a259[_0x214636(0x222)]);(!_0x3198c0||_0x3198c0['number']==0x0)&&(_0x5deab1+=(-_0x22a259[_0x214636(0x1ee)]-_0x1a7754)*_0x22a259[_0x214636(0x249)]);}),_0x1b1fac++;}}_0x571ce3[_0x3e0e00(0x1cc)][_0x3e0e00(0x29e)]((_0x6da4ca,_0x2f39ea)=>{const _0x151699=_0x3e0e00;_0x43b7f5[_0x6da4ca[_0x151699(0x222)]]&&(_0x6da4ca={..._0x6da4ca,'initial':_0x43b7f5[_0x6da4ca[_0x151699(0x222)]]}),_0x571ce3[_0x151699(0x1cc)][_0x2f39ea]=_0x6da4ca;}),_0x3e801a[_0x3e0e00(0x21d)]({'date':_0x571ce3[_0x3e0e00(0x235)],'eur':_0x571ce3['eur'],'usd':_0x571ce3[_0x3e0e00(0x2be)],'offset':_0x4ee367[_0x3cbe0c],'netoffset':_0x5deab1,'coins':_0x571ce3[_0x3e0e00(0x1cc)]});});}return _0x3e801a;}function emitPerformance(_0x5b7826){const _0x1c4ec2=_0x1f2ea6;_0x5b7826[_0x1c4ec2(0x2c3)]!==0x0?(proxyEmit(_0x1c4ec2(0x2ba),_0x5b7826),lastPerformanceEmitted=getDate()):proxyEmit(_0x1c4ec2(0x2ba),[]);}function getPerf(_0x5885a4,_0x5260a9){const _0x297bcf=_0x1f2ea6;let _0x20d83d=0x0,_0x2b3980=0x0,_0x44c5e9=0x0;_0x5885a4[_0x297bcf(0x1cc)][_0x297bcf(0x29e)](_0x316031=>{const _0x207e65=_0x297bcf;_0x20d83d+=_0x316031[_0x207e65(0x1ee)]*_0x316031[_0x207e65(0x249)];});_0x5260a9&&(_0x20d83d+=_0x5885a4[_0x297bcf(0x2f4)]);if(config[_0x297bcf(0x1c9)]===_0x297bcf(0x1e2)||config[_0x297bcf(0x1c9)]===_0x297bcf(0x2af))_0x2b3980=_0x20d83d*_0x5885a4[_0x297bcf(0x27d)],_0x44c5e9=_0x20d83d*_0x5885a4['usd'];else{if(config[_0x297bcf(0x1c9)]===_0x297bcf(0x218)||config[_0x297bcf(0x1c9)]===_0x297bcf(0x2df)||config['basecoin']===_0x297bcf(0x2d4))_0x2b3980=_0x20d83d*_0x5885a4[_0x297bcf(0x27d)]/_0x5885a4[_0x297bcf(0x2be)],_0x44c5e9=_0x20d83d;else config['basecoin']===_0x297bcf(0x28c)&&(_0x2b3980=_0x20d83d,_0x44c5e9=_0x20d83d*_0x5885a4['usd']/_0x5885a4[_0x297bcf(0x27d)]);}return[_0x20d83d,_0x2b3980,_0x44c5e9];}async function getStartingBalances(_0x1e4b3d,_0x27e1f7=!![]){const _0x2c426b=_0x1f2ea6;if(_0x1e4b3d[_0x2c426b(0x2c3)]!==0x0){const [_0x441283,_0x165142,_0x12b357]=getPerf(_0x1e4b3d[0x0],!![]);let _0xf1b999=[];config[_0x2c426b(0x266)][_0x2c426b(0x29e)](_0x6b9e07=>{const _0x10b57d=_0x2c426b;let _0x43d4c7=0x0;config[_0x10b57d(0x1e1)]['forEach'](_0x3d5128=>{const _0xa7d37c=_0x10b57d;let _0x5e6c53=_0x3d5128['changes']['find'](_0x46f858=>_0x46f858[_0xa7d37c(0x222)]==_0x6b9e07[_0xa7d37c(0x222)]);if(_0x5e6c53)_0x43d4c7+=_0x5e6c53[_0xa7d37c(0x1ee)];}),_0xf1b999[_0x10b57d(0x21d)]({'coin':_0x6b9e07[_0x10b57d(0x222)],'number':_0x43d4c7,'price':_0x6b9e07[_0x10b57d(0x249)]});});const _0x473204={'basecoin':_0x441283,'eur':_0x165142,'usd':_0x12b357,'coins':_0xf1b999};if(_0x27e1f7)proxyEmit(_0x2c426b(0x24d),_0x473204);return _0x473204;}}function headlessMode(_0x4a6f98){const _0x403193=_0x1f2ea6;let _0x582f89=_0x4a6f98[_0x403193(0x266)],_0x5c6463=_0x4a6f98[_0x403193(0x2e5)],_0x474753=[];for(let _0x2dd9ed of _0x582f89){if(_0x2dd9ed[_0x403193(0x222)]!=config[_0x403193(0x1c9)]){if(_0x2dd9ed[_0x403193(0x1d8)]/_0x2dd9ed[_0x403193(0x288)]-0x1>=_0x5c6463/0x64){if(_0x2dd9ed['valid'])_0x474753[_0x403193(0x21d)](_0x2dd9ed);}else{if(_0x2dd9ed[_0x403193(0x1d8)]/_0x2dd9ed[_0x403193(0x288)]-0x1<=-_0x5c6463/0x64){if(_0x2dd9ed[_0x403193(0x24a)])_0x474753[_0x403193(0x21d)](_0x2dd9ed);}}}}_0x474753[_0x403193(0x2c3)]>0x0&&placeOrder(_0x474753);}function notifyBalance(_0x1dbca8){const _0x5c782c=_0x1f2ea6;let _0x49eac7=_0x1dbca8[_0x5c782c(0x266)],_0x245121=_0x1dbca8[_0x5c782c(0x2e5)],_0x21440f=[];for(let _0x11ff18 of _0x49eac7){if(_0x11ff18[_0x5c782c(0x222)]!=config[_0x5c782c(0x1c9)]){if(_0x11ff18[_0x5c782c(0x1d8)]/_0x11ff18[_0x5c782c(0x288)]-0x1>=_0x245121/0x64){if(_0x11ff18[_0x5c782c(0x24a)])_0x21440f[_0x5c782c(0x21d)](_0x11ff18);}else{if(_0x11ff18[_0x5c782c(0x1d8)]/_0x11ff18[_0x5c782c(0x288)]-0x1<=-_0x245121/0x64){if(_0x11ff18[_0x5c782c(0x24a)])_0x21440f[_0x5c782c(0x21d)](_0x11ff18);}}}}if(_0x21440f[_0x5c782c(0x2c3)]>0x0){let _0x289596=_0x21440f['map'](_0x51d56d=>_0x51d56d[_0x5c782c(0x222)]);_0x289596[_0x5c782c(0x1ef)]();let _0x2d1e87=_0x289596[_0x5c782c(0x26a)](',\x20');if(lastCoinsToBalance!==_0x2d1e87)logHistory(_0x5c782c(0x238),'Manual\x20balancing\x20required:\x20'+_0x2d1e87);lastCoinsToBalance=_0x2d1e87;}}function symbolToCoin(_0x5113ae){const _0xcd60ab=_0x1f2ea6;let _0x5d3d96;if(_0x5113ae['includes']('/'+config[_0xcd60ab(0x1c9)]))_0x5d3d96=_0x5113ae['replace']('/'+config[_0xcd60ab(0x1c9)],'');if(_0x5113ae['includes'](config[_0xcd60ab(0x1c9)]+'/'))_0x5d3d96=_0x5113ae['replace'](config[_0xcd60ab(0x1c9)]+'/','');return _0x5d3d96;}async function validateOrders(_0x815679=0x0){const _0x5556e3=_0x1f2ea6;let _0xb5c944=[],_0x5f1f2b=config['ordertype']==_0x5556e3(0x244)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x5556e3(0x241)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x5556e3(0x29e)](_0x562c69=>{const _0x3ae5ed=_0x5556e3;let _0x2b2497=previousCoins[_0x3ae5ed(0x26c)](_0x413fd0=>_0x413fd0[_0x3ae5ed(0x222)]==symbolToCoin(_0x562c69[_0x3ae5ed(0x263)])),_0x28c00e=currentCoins[_0x3ae5ed(0x26c)](_0x1e1dae=>_0x1e1dae[_0x3ae5ed(0x222)]==symbolToCoin(_0x562c69[_0x3ae5ed(0x263)])),_0x167410,_0x1783d9;_0x562c69[_0x3ae5ed(0x233)]==_0x3ae5ed(0x2a0)&&!_0x562c69['reverse']||_0x562c69['side']==_0x3ae5ed(0x1f2)&&_0x562c69[_0x3ae5ed(0x28e)]?(_0x167410=_0x2b2497[_0x3ae5ed(0x1ee)]+0.9*_0x562c69['filled'],_0x1783d9=_0x2b2497[_0x3ae5ed(0x1ee)]+1.1*_0x562c69[_0x3ae5ed(0x227)]):(_0x167410=_0x2b2497[_0x3ae5ed(0x1ee)]-1.1*_0x562c69[_0x3ae5ed(0x227)],_0x1783d9=_0x2b2497['number']-0.9*_0x562c69[_0x3ae5ed(0x227)]);const _0x4ee658=_0x562c69[_0x3ae5ed(0x227)]!=0x0&&_0x28c00e[_0x3ae5ed(0x1ee)]>=_0x167410&&_0x28c00e[_0x3ae5ed(0x1ee)]<=_0x1783d9;_0xb5c944['push'](_0x4ee658);if(_0x4ee658&&config[_0x3ae5ed(0x29a)]!=_0x3ae5ed(0x244)){if(_0x562c69[_0x3ae5ed(0x28e)])logHistory(_0x3ae5ed(0x1ff),_0x3ae5ed(0x2bf)+_0x562c69['symbol']+'\x20'+_0x562c69['side']+'\x20#'+formatResult(_0x562c69[_0x3ae5ed(0x227)]/_0x562c69[_0x3ae5ed(0x249)],0x8)+'\x20@'+formatResult(_0x562c69['price'],0x8));else logHistory('order',_0x3ae5ed(0x2bf)+_0x562c69[_0x3ae5ed(0x263)]+'\x20'+_0x562c69['side']+'\x20#'+formatResult(_0x562c69[_0x3ae5ed(0x227)],0x8)+'\x20@'+formatResult(_0x562c69[_0x3ae5ed(0x249)],0x8));}}),_0xb5c944['forEach']((_0x2260f2,_0x5dac46)=>{const _0x3fab2c=_0x5556e3;if(_0x2260f2)lastOrders[_0x3fab2c(0x2e3)](_0x5dac46,0x1);});if(_0x815679<_0x5f1f2b&&_0xb5c944['includes'](![])){if(_0x815679==0x0){config[_0x5556e3(0x29a)]==_0x5556e3(0x244)?logHistory(_0x5556e3(0x216),_0x5556e3(0x206)):logHistory(_0x5556e3(0x216),_0x5556e3(0x2d1));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x815679);},0xa*0x3e8);}else{(_0x815679==0x1||_0x815679==Math[_0x5556e3(0x2ae)](_0x5f1f2b/0x2)||_0x815679==_0x5f1f2b-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x815679);},validateOrderInterval);}}else{lockOrders=![];if(_0x815679>0x0&&!_0xb5c944[_0x5556e3(0x258)](![]))config['ordertype']==_0x5556e3(0x244)?logHistory(_0x5556e3(0x238),'Order(s)\x20validated\x20-\x20balancing\x20resumed'):logHistory(_0x5556e3(0x238),_0x5556e3(0x214));else _0x815679>0x0&&_0xb5c944[_0x5556e3(0x258)](![])&&(config[_0x5556e3(0x29a)]==_0x5556e3(0x244)?logHistory(_0x5556e3(0x238),_0x5556e3(0x208)+Math[_0x5556e3(0x2ae)](_0x5f1f2b*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders[_0x5556e3(0x29e)](async _0x386a5a=>{const _0x26cb0b=_0x5556e3;try{const _0x9ca4d0=await exchange[_0x26cb0b(0x2a7)](_0x386a5a['orderId'],_0x386a5a[_0x26cb0b(0x263)]);}catch(_0x282f42){if(_0x282f42[_0x26cb0b(0x2d2)]()[_0x26cb0b(0x258)](_0x26cb0b(0x200))){}else await handleError(_0x282f42,_0x26cb0b(0x2f1));}}),logHistory(_0x5556e3(0x238),_0x5556e3(0x1e9)+Math[_0x5556e3(0x2ae)](_0x5f1f2b*validateOrderInterval/0xea60)+_0x5556e3(0x2c7))));}}async function resetCoinResults(){const _0x51fd7c=_0x1f2ea6;dbCoinResults['get']('coins')[_0x51fd7c(0x2bd)]()[_0x51fd7c(0x250)]();let _0xd92421=await getStartingBalances(getNormalizedPerformance(),![]);_0xd92421['coins'][_0x51fd7c(0x29e)](_0x435229=>{const _0x1f2075=_0x51fd7c;if(_0x435229[_0x1f2075(0x222)]!=config[_0x1f2075(0x1c9)]){let _0xec4d72={'coin':_0x435229[_0x1f2075(0x222)],'number':_0x435229['number'],'breakeven':_0x435229[_0x1f2075(0x249)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1f2075(0x290)](_0x1f2075(0x1cc))['push'](_0xec4d72)['write']();}});}async function updateCoinResults(_0x4c5119){const _0x42fdca=_0x1f2ea6;let _0x50c7ad,_0x36ca34,_0x54092d,_0x57fc64,_0x51c731,_0x501dbb,_0x1e614d=dbCoinResults[_0x42fdca(0x290)](_0x42fdca(0x1cc))['find']({'coin':_0x4c5119['coin']})[_0x42fdca(0x271)]();if(!_0x1e614d)return;if(_0x4c5119[_0x42fdca(0x220)]&&_0x4c5119['fee'][_0x42fdca(0x255)]==config['basecoin'])_0x50c7ad=_0x4c5119['fee'][_0x42fdca(0x261)];else{if(_0x4c5119[_0x42fdca(0x220)]&&_0x4c5119[_0x42fdca(0x220)][_0x42fdca(0x255)]==_0x42fdca(0x2c1))_0x50c7ad=_0x4c5119[_0x42fdca(0x220)]['cost']*global['ticker'][_0x42fdca(0x2c1)+config['basecoin']];else _0x50c7ad=0.001*_0x4c5119[_0x42fdca(0x227)];}const _0x3a1a40=_0x4c5119[_0x42fdca(0x263)][_0x42fdca(0x258)](config[_0x42fdca(0x1c9)]+'/');_0x3a1a40&&(_0x501dbb={'coin':_0x4c5119[_0x42fdca(0x222)],'symbol':_0x4c5119[_0x42fdca(0x263)],'filled':_0x4c5119[_0x42fdca(0x227)]*_0x4c5119['price'],'side':_0x4c5119[_0x42fdca(0x233)]==_0x42fdca(0x1f2)?'buy':_0x42fdca(0x1f2),'price':0x1/_0x4c5119[_0x42fdca(0x249)]},_0x4c5119={..._0x501dbb});_0x4c5119[_0x42fdca(0x233)]==_0x42fdca(0x2a0)?_0x54092d=(_0x1e614d['breakeven']*_0x1e614d[_0x42fdca(0x1ee)]+_0x4c5119['price']*_0x4c5119[_0x42fdca(0x227)])/(_0x1e614d['number']+_0x4c5119[_0x42fdca(0x227)]):_0x54092d=(_0x1e614d[_0x42fdca(0x299)]*_0x1e614d[_0x42fdca(0x1ee)]-_0x4c5119['price']*_0x4c5119['filled'])/(_0x1e614d[_0x42fdca(0x1ee)]-_0x4c5119[_0x42fdca(0x227)]);_0x4c5119[_0x42fdca(0x233)]==_0x42fdca(0x2a0)?_0x57fc64=_0x1e614d[_0x42fdca(0x246)]:_0x57fc64=_0x1e614d['realized']+(_0x4c5119[_0x42fdca(0x249)]-_0x1e614d[_0x42fdca(0x299)])*_0x4c5119['filled'];_0x36ca34=_0x4c5119[_0x42fdca(0x233)]==_0x42fdca(0x1f2)?_0x1e614d[_0x42fdca(0x1ee)]-_0x4c5119['filled']:_0x1e614d[_0x42fdca(0x1ee)]+_0x4c5119[_0x42fdca(0x227)],_0x51c731=(_0x4c5119['price']-_0x54092d)*_0x36ca34;let _0xf3aa2f={'coin':_0x4c5119[_0x42fdca(0x222)],'number':_0x36ca34,'breakeven':formatResult(_0x54092d,0x8),'realized':formatResult(_0x57fc64,0x8),'unrealized':formatResult(_0x51c731,0x8),'fees':formatResult(_0x1e614d[_0x42fdca(0x2e6)]+_0x50c7ad,0x8),'sells':_0x4c5119[_0x42fdca(0x233)]=='sell'?_0x1e614d[_0x42fdca(0x2a5)]+0x1:_0x1e614d[_0x42fdca(0x2a5)],'buys':_0x4c5119[_0x42fdca(0x233)]==_0x42fdca(0x2a0)?_0x1e614d[_0x42fdca(0x20a)]+0x1:_0x1e614d[_0x42fdca(0x20a)]};dbCoinResults[_0x42fdca(0x290)](_0x42fdca(0x1cc))['find']({'coin':_0x4c5119[_0x42fdca(0x222)]})['assign'](_0xf3aa2f)[_0x42fdca(0x250)]();}async function placeOrder(_0x1b64ab){const _0x403283=_0x1f2ea6,_0x21e8a8=config[_0x403283(0x29a)]=='market'?_0x403283(0x244):_0x403283(0x284);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x403283(0x2d5)](JSON['stringify'](currentCoins));for(const _0xad0837 of _0x1b64ab){let _0x1eff5f,_0x78ae51,_0x2faac9,_0x55980d,_0x27483c,_0x37be70=_0xad0837[_0x403283(0x263)];try{const _0x1ed5db=await exchange[_0x403283(0x1e3)](_0x37be70),_0x5f2415=_0x1ed5db[_0x37be70];_0x1eff5f=_0xad0837[_0x403283(0x28e)]?0x1/_0xad0837[_0x403283(0x1fd)]:_0xad0837[_0x403283(0x1fd)],_0x78ae51=_0x5f2415[_0x403283(0x1cf)],_0x2faac9=_0x5f2415[_0x403283(0x2bc)];_0xad0837[_0x403283(0x28e)]?(_0x55980d=_0xad0837[_0x403283(0x233)]==_0x403283(0x2a0)?_0x403283(0x1f2):_0x403283(0x2a0),_0x27483c=Math[_0x403283(0x2ee)](_0xad0837[_0x403283(0x2a4)])/_0x1eff5f):(_0x55980d=_0xad0837['side'],_0x27483c=Math['abs'](_0xad0837[_0x403283(0x2a4)]));_0x21e8a8==_0x403283(0x284)&&(config[_0x403283(0x29a)]==_0x403283(0x272)&&(_0x1eff5f=_0x55980d=='buy'?_0x78ae51:_0x2faac9),config['ordertype']==_0x403283(0x259)&&(_0x1eff5f=_0x55980d=='buy'?_0x2faac9:_0x78ae51));_0x27483c=formatResult(_0x27483c,0x8),_0x1eff5f=formatResult(_0x1eff5f,0x8);const _0x8f41e8=await exchange[_0x403283(0x2ca)](_0x37be70,_0x21e8a8,_0x55980d,_0x27483c,_0x1eff5f);lastOrders[_0x403283(0x21d)]({'orderId':_0x8f41e8['id'],'symbol':_0x37be70,'side':_0x55980d,'reverse':_0xad0837[_0x403283(0x28e)],'amount':_0xad0837[_0x403283(0x28e)]?_0x8f41e8['amount']*_0x8f41e8[_0x403283(0x249)]:_0x8f41e8['amount'],'filled':_0xad0837['reverse']?_0x8f41e8[_0x403283(0x227)]*_0x8f41e8['price']:_0x8f41e8[_0x403283(0x227)],'price':_0x8f41e8['price']});const _0x38811c=_0x55980d==_0x403283(0x1f2)?config[_0x403283(0x27f)]?String[_0x403283(0x29c)]('0x'+config['emojisell'])+'\x20':'':config[_0x403283(0x2eb)]?String['fromCodePoint']('0x'+config[_0x403283(0x2eb)])+'\x20':'',_0xcb20bf=_0x21e8a8==_0x403283(0x244)?_0x403283(0x24f):config[_0x403283(0x29a)]==_0x403283(0x272)?_0x403283(0x20d):_0x403283(0x237);if(_0x21e8a8==_0x403283(0x244))logHistory(_0x403283(0x1ff),''+_0x38811c+_0xcb20bf+'\x20order:\x20'+_0x37be70+'\x20'+_0x55980d+'\x20#'+formatResult(_0x8f41e8[_0x403283(0x227)],0x8)+'\x20@'+formatResult(_0x8f41e8[_0x403283(0x249)],0x8));else logHistory(_0x403283(0x1ff),''+_0x38811c+_0xcb20bf+'\x20order:\x20'+_0x37be70+'\x20'+_0x55980d+'\x20#'+formatResult(_0x8f41e8[_0x403283(0x29b)],0x8)+'\x20@'+formatResult(_0x8f41e8['price'],0x8));_0x8f41e8[_0x403283(0x222)]=_0xad0837[_0x403283(0x222)],await updateCoinResults(_0x8f41e8);if(config[_0x403283(0x20b)]!=0x0){let _0x5c3f06=null;if(cooldownTracker[_0x403283(0x2c3)]==config[_0x403283(0x20b)]-0x1)_0x5c3f06=cooldownTracker[_0x403283(0x2d7)]();const _0x16c2e6=getTimeStamp();cooldownTracker[_0x403283(0x21d)](_0x16c2e6);if(_0x5c3f06){const _0x3891ce=fns[_0x403283(0x27c)](new Date(_0x16c2e6),new Date(_0x5c3f06));_0x3891ce<cooldownInterval&&(logHistory(_0x403283(0x216),_0x403283(0x232)+config[_0x403283(0x20b)]+_0x403283(0x22d)+cooldownInterval/0x3c+_0x403283(0x2f0)+cooldownPeriod/(0xe10*0x3e8)+_0x403283(0x279)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x40cff8){if(_0x40cff8[_0x403283(0x2d2)]()[_0x403283(0x258)](_0x403283(0x243)))logHistory(_0x403283(0x216),_0x403283(0x26b)+_0x37be70);else{if(_0x40cff8[_0x403283(0x2d2)]()[_0x403283(0x258)]('Invalid\x20quantity'))logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x37be70);else await handleError(_0x40cff8,_0x403283(0x276));}}}if(lastOrders[_0x403283(0x2c3)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x403283(0x28b)]&&(config[_0x403283(0x29a)]=='market'?logHistory('error',_0x403283(0x2bb)):logHistory(_0x403283(0x216),_0x403283(0x1f0)));else coolingDown&&(!config['headless']&&logHistory(_0x403283(0x216),_0x403283(0x1f5)));}}function logHistory(_0x9a3a24,_0x2a7d1e,_0x207c52=''){const _0xb932fc=_0x1f2ea6;let _0x331409={'time':getTimeStamp(),'type':_0x9a3a24,'event':_0x2a7d1e};dbLogs[_0xb932fc(0x290)]('logs')['push'](_0x331409)[_0xb932fc(0x250)]();if(_0x207c52=='')_0x207c52=_0x2a7d1e;proxyEmit(_0xb932fc(0x254),{'log':_0x331409,'summary':_0x207c52}),process['send']({'telegram':{..._0x331409,'botname':config[_0xb932fc(0x2a2)],'showname':config[_0xb932fc(0x2ef)]}},_0x3938a6=>{}),logging(''+_0x331409[_0xb932fc(0x254)]);}function emitHistory(_0x5ce138={}){const _0x30a041=_0x1f2ea6;Object['keys'](_0x5ce138)[_0x30a041(0x2c3)]==0x0&&(_0x5ce138={'type':[_0x30a041(0x1ff),'event'],'event':'','page':0x1});if(_0x5ce138['type'][_0x30a041(0x258)](_0x30a041(0x254)))_0x5ce138['type'][_0x30a041(0x2e3)](_0x5ce138[_0x30a041(0x2b9)][_0x30a041(0x2b5)]('event'),0x1,_0x30a041(0x216),'success');if(dbLogs[_0x30a041(0x2d8)](_0x30a041(0x26d))[_0x30a041(0x271)]()){let _0x2d7af3=dbLogs[_0x30a041(0x290)](_0x30a041(0x26d))[_0x30a041(0x1dd)](_0x25e7bb=>{const _0x9b8c87=_0x30a041;if(_0x5ce138[_0x9b8c87(0x2b9)][_0x9b8c87(0x2c3)]==0x0)return![];else return _0x5ce138[_0x9b8c87(0x2b9)]['includes'](_0x25e7bb[_0x9b8c87(0x2b9)]);})['filter'](_0x155559=>{const _0x2e63dd=_0x30a041;if(_0x5ce138['event']=='')return!![];else return _0x155559[_0x2e63dd(0x254)][_0x2e63dd(0x29d)]()['includes'](_0x5ce138['event'][_0x2e63dd(0x29d)]());})[_0x30a041(0x247)](_0x30a041(0x2d6)),_0x435aea=_0x2d7af3[_0x30a041(0x271)]()[_0x30a041(0x2c3)];_0x2d7af3=_0x2d7af3['reverse']()[_0x30a041(0x1de)]((_0x5ce138[_0x30a041(0x1d9)]-0x1)*logPageSize,_0x5ce138[_0x30a041(0x1d9)]*logPageSize-0x1)['reverse']()[_0x30a041(0x271)](),proxyEmit('event-history',{'logs':_0x2d7af3,'total':_0x435aea});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5c0a41){const _0x47434c=_0x1f2ea6;if(dbLogs['has'](_0x47434c(0x26d))['value']()){const _0x1109dd=dbLogs[_0x47434c(0x290)](_0x47434c(0x26d))['sortBy'](_0x47434c(0x2d6))[_0x47434c(0x1dd)](_0x4ddd07=>{const _0x1547c9=_0x47434c;return _0x4ddd07[_0x1547c9(0x2b9)]==_0x1547c9(0x1ff);})[_0x47434c(0x271)]();dbLogs['get'](_0x47434c(0x26d))['remove']()['write'](),dbLogs[_0x47434c(0x290)](_0x47434c(0x26d))[_0x47434c(0x209)](_0x1109dd)['write'](),emitHistory(_0x5c0a41);}}async function pauseBot(_0x56e66b=''){const _0x4f5617=_0x1f2ea6,_0x361d66=new Date()[_0x4f5617(0x23f)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x361d66-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x4f5617(0x24b)},_0x5194c8=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x4f5617(0x23f)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x56e66b)_0x56e66b+='\x20|\x20';logHistory(_0x4f5617(0x216),_0x56e66b+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x4f5617(0x2ed)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0xa512a5=_0x1f2ea6;process[_0xa512a5(0x230)]({'stop':_0xa512a5(0x248)},_0x35d77c=>{}),await sleep(0x7d0);}async function handleError(_0x4f6862,_0x1c1ba7,_0x297ac1=''){const _0x414aa=_0x1f2ea6;if(_0x4f6862[_0x414aa(0x2d2)]()[_0x414aa(0x258)](_0x414aa(0x1ec)))await pauseBot(_0x414aa(0x2ab));else{if(_0x4f6862[_0x414aa(0x2d2)]()['includes'](_0x414aa(0x2a1)))await pauseBot(_0x414aa(0x251));else{if(_0x4f6862['toString']()[_0x414aa(0x258)](_0x414aa(0x269)))await pauseBot(_0x414aa(0x22a));else{if(_0x4f6862[_0x414aa(0x2d2)]()['includes'](_0x414aa(0x2d3)))logHistory(_0x414aa(0x216),_0x1c1ba7+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x414aa(0x216),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4f6862['toString']()[_0x414aa(0x258)](_0x414aa(0x22e)))logHistory('error',_0x1c1ba7+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory('error',_0x414aa(0x205)),await killBot();else{if(_0x4f6862[_0x414aa(0x2d2)]()[_0x414aa(0x258)](_0x414aa(0x2b7)))logHistory(_0x414aa(0x216),_0x1c1ba7+_0x414aa(0x289)),logHistory(_0x414aa(0x216),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4f6862['toString']()['includes'](_0x414aa(0x239)))logHistory(_0x414aa(0x216),_0x1c1ba7+_0x414aa(0x2e7)),logHistory(_0x414aa(0x216),_0x414aa(0x205)),await killBot();else{if(_0x4f6862['toString']()[_0x414aa(0x258)](_0x414aa(0x1fc)))await pauseBot(_0x414aa(0x226)),process['send']({'stop':'restart'},_0x48f8e1=>{});else _0x4f6862[_0x414aa(0x2d2)]()[_0x414aa(0x258)]('InsufficientFunds')?logHistory(_0x414aa(0x216),_0x1c1ba7+_0x414aa(0x267)):(logging(_0x1c1ba7+_0x414aa(0x2ad),_0x4f6862),await pauseBot(_0x414aa(0x229)));}}}}}}}}function formatResult(_0x277580,_0xbca2d7){const _0x583b72=_0x1f2ea6;return parseFloat(_0x277580[_0x583b72(0x228)](_0xbca2d7));}function logging(_0x4c3217,_0x4ffe5f=''){const _0x162738=_0x1f2ea6;if(config[_0x162738(0x2ef)])console[_0x162738(0x2e0)](getTimeStamp()+':\x20'+config[_0x162738(0x2a2)]+_0x162738(0x2f2)+_0x4c3217,_0x4ffe5f);else console[_0x162738(0x2e0)](getTimeStamp()+_0x162738(0x256)+botID+'\x20>\x20'+_0x4c3217,_0x4ffe5f);}function getServerTime(){const _0x4e3b53=_0x1f2ea6,_0x4f9bc7=new Date();return _0x4f9bc7[_0x4e3b53(0x1f1)]()+'/'+(_0x4f9bc7[_0x4e3b53(0x1d0)]()+0x1)[_0x4e3b53(0x2d2)]()[_0x4e3b53(0x2aa)](0x2,'0')+'/'+_0x4f9bc7[_0x4e3b53(0x21f)]()[_0x4e3b53(0x2d2)]()[_0x4e3b53(0x2aa)](0x2,'0')+'\x20'+_0x4f9bc7[_0x4e3b53(0x2cc)]()['toString']()[_0x4e3b53(0x2aa)](0x2,'0')+':'+_0x4f9bc7['getMinutes']()[_0x4e3b53(0x2d2)]()['padStart'](0x2,'0')+':'+_0x4f9bc7['getSeconds']()['toString']()[_0x4e3b53(0x2aa)](0x2,'0');}function getTimeStamp(){const _0x5b2ecd=_0x1f2ea6,_0xc8efbc=shiftedTime();return _0xc8efbc[_0x5b2ecd(0x1f1)]()+'/'+(_0xc8efbc[_0x5b2ecd(0x1d0)]()+0x1)['toString']()[_0x5b2ecd(0x2aa)](0x2,'0')+'/'+_0xc8efbc[_0x5b2ecd(0x21f)]()[_0x5b2ecd(0x2d2)]()['padStart'](0x2,'0')+'\x20'+_0xc8efbc[_0x5b2ecd(0x2cc)]()['toString']()[_0x5b2ecd(0x2aa)](0x2,'0')+':'+_0xc8efbc['getMinutes']()[_0x5b2ecd(0x2d2)]()[_0x5b2ecd(0x2aa)](0x2,'0')+':'+_0xc8efbc[_0x5b2ecd(0x1ea)]()[_0x5b2ecd(0x2d2)]()['padStart'](0x2,'0');}function getDate(){const _0x44c1b2=_0x1f2ea6,_0x3097e5=shiftedTime();return _0x3097e5[_0x44c1b2(0x1f1)]()+'/'+(_0x3097e5[_0x44c1b2(0x1d0)]()+0x1)[_0x44c1b2(0x2d2)]()['padStart'](0x2,'0')+'/'+_0x3097e5[_0x44c1b2(0x21f)]()['toString']()[_0x44c1b2(0x2aa)](0x2,'0');}function getHour(){const _0x818140=_0x1f2ea6,_0x260255=shiftedTime();return _0x260255[_0x818140(0x2cc)]()['toString']()[_0x818140(0x2aa)](0x2,'0');}function _0x4d8f(){const _0x205a2e=['getFullYear','sell','wsKey','reconnected','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','min','keys','timeshift','925662MJNkKg','toggleBotMode','yyyy/MM/dd','InvalidNonce','last','change','order','OrderNotFound','eachDayOfInterval','outboundAccountPosition','apiSecret','formattedMessage','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','findIndex','Order(s)\x20not\x20validated\x20after\x20','assign','buys','cooldown','2822428mScUTK','Limit\x20(high-margin)','deleteHistoryAlerts','11339902EbfnlD','getStartingBalances','limits','initclient','remainingSymbols','Order(s)\x20filled\x20-\x20balancing\x20resumed','decrypt','error','XEM/BUSD','BUSD','emitHistory','kline','constructor','bot-','push','isArray','getDate','fee','./config/','coin','/backup/','lowdb/adapters/FileSync','HOT/EUR','API\x20or\x20clock\x20sync\x20issue','filled','toFixed','Unknown\x20error\x20occured','Binance\x20not\x20responding','configuration','loadSymbols()','\x20orders\x20in\x20less\x20than\x20','AuthenticationError','bb-settings.json','send','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','Executed\x20','side','set','date','001','Limit\x20(low-margin)','success','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','balances','1155goilBY','subscribeSpotUserDataStream','wsMarket','orderType','getTime','./version.json','timeout','changes','MIN_NOTIONAL','market','BNB/','realized','sortBy','kill','price','valid','restart','bot','starting-balances','asset','Market','write','Binance\x20not\x20available\x20(2)','cloneDeep','secure','event','currency',':\x20Bot\x20','differenceInCalendarDays','includes','limit-low','datetime','split','82851imjXgN','entries','recreate','LIMIT','botID','cost','apiKey','symbol','NANO/','.json','portfolio','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','Error:\x20Invalid\x20argument\x20','RequestTimeout','join','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','find','logs',',\x20must\x20be\x20a\x203\x20digit\x20number','Crypt','orderId','value','limit-high','binance','-performance.json','message','placeOrder()','cancelLoading','2.3.5','\x20hour','-results.json','30suHauZ','differenceInSeconds','eur','\x20-\x20','emojisell','yyyy/MM/dd\x20HH:mm:ss','function','parseISO','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','limit','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','subscribeSpotKline','writeFile','target','\x20|\x20Binance\x20API\x20secret\x20invalid','replace','headless','EUR','data','reverse','bb-secure.json','get','startprice','max','symbols','Binance\x20not\x20available\x20(1)','timestamp','YOYOW/','/USDT','reduce','breakeven','ordertype','amount','fromCodePoint','toLowerCase','forEach','RSA-OAEP','buy','ExchangeNotAvailable','botname','total','trade','sells','isEqual','cancelOrder','hybrid-crypto-js','(((.+)+)+)+$','padStart','Binance\x20API\x20blocked','wss://stream.binance.com:9443','\x20|\x20Error\x20details:\x20','round','ETH','cancel','startnumber','existsSync','closeWs','fetchBalance','indexOf','9198440qrUkwD','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','starting-balance-','type','performance','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','ask','remove','usd','Order\x20filled:\x20','running','BNB','eventType','length','progress','************','excluded','\x20minutes\x20-\x20balancing\x20resumed','WebSockets(','Bot\x20','createOrder','DAI/','getHours','FILLED','exchange','coin-loading-progress','Binance\x20API\x20secret\x20is\x20invalid','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','toString','API-key\x20format\x20invalid','USDC','parse','time','shift','has','coinamount','wss://stream.binance.us:9443','accumulatedQuantity','mkdirSync','version','fetchOHLCV','USDT','log','46308NhJVOC','getFiat()','splice','format','threshold','fees','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','string','argv','binanceus','emojibuy','-events.json','\x20minutes','abs','showname','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','cancelOrder()','\x20>\x20','getCoins()','offset','defaults','basecoin','spot','Binance\x20API\x20key\x20is\x20invalid','coins','placeOrder','userData','bid','getMonth','add','ccxt','change24h','milliseconds','date-fns','test','yyyy-MM-dd\x27T\x27HH:mm:ss','distribution','page','args','getPortfolio','settings','filter','slice','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','ticker','liquidity','BTC','fetchTickers','storeConfiguration','delta','47076165fIkpuh','stringify','startdate','Unfilled\x20order(s)\x20canceled\x20after\x20','getSeconds','loadMarkets','DDoSProtection','fetchOrders','number','sort','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'];_0x4d8f=function(){return _0x205a2e;};return _0x4d8f();}function sleep(_0x39c0a2){return new Promise(_0x92b571=>setTimeout(_0x92b571,_0x39c0a2));}function shiftedTime(){const _0x1bbf0a=_0x1f2ea6,_0x2a3fc9=new Date();let _0x3f6684=_0x2a3fc9;if(config&&config[_0x1bbf0a(0x1f8)]!==0x0)_0x3f6684=fns[_0x1bbf0a(0x1d1)](_0x2a3fc9,{'hours':config[_0x1bbf0a(0x1f8)]});return _0x3f6684;}