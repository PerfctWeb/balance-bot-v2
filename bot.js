const _0x107a91=_0x1055;(function(_0x4bf90b,_0x20edb6){const _0x5bf526=_0x1055,_0x3ec6f3=_0x4bf90b();while(!![]){try{const _0x15d705=parseInt(_0x5bf526(0x313))/0x1+-parseInt(_0x5bf526(0x309))/0x2*(parseInt(_0x5bf526(0x2e0))/0x3)+parseInt(_0x5bf526(0x2d9))/0x4*(-parseInt(_0x5bf526(0x331))/0x5)+parseInt(_0x5bf526(0x2fe))/0x6*(parseInt(_0x5bf526(0x2e5))/0x7)+parseInt(_0x5bf526(0x2ed))/0x8+-parseInt(_0x5bf526(0x28a))/0x9+-parseInt(_0x5bf526(0x25a))/0xa*(-parseInt(_0x5bf526(0x21e))/0xb);if(_0x15d705===_0x20edb6)break;else _0x3ec6f3['push'](_0x3ec6f3['shift']());}catch(_0x592d6c){_0x3ec6f3['push'](_0x3ec6f3['shift']());}}}(_0x5bd0,0x1f85d));const _0x2704c5=function(){let _0x290bfd=!![];return function(_0x46f735,_0x467ee6){const _0x1e1ae9=_0x290bfd?function(){const _0x42f564=_0x1055;if(_0x467ee6){const _0x264e18=_0x467ee6[_0x42f564(0x1f0)](_0x46f735,arguments);return _0x467ee6=null,_0x264e18;}}:function(){};return _0x290bfd=![],_0x1e1ae9;};}(),_0x2d30d9=_0x2704c5(this,function(){const _0x6ccae4=_0x1055;return _0x2d30d9[_0x6ccae4(0x334)]()[_0x6ccae4(0x203)](_0x6ccae4(0x310))['toString']()[_0x6ccae4(0x1d2)](_0x2d30d9)[_0x6ccae4(0x203)](_0x6ccae4(0x310));});_0x2d30d9();'use strict';const ccxt=require(_0x107a91(0x338)),low=require(_0x107a91(0x2c3)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x107a91(0x1e6)),Crypt=require(_0x107a91(0x210))['Crypt'],util=require('util'),argv=require('yargs/yargs')(process[_0x107a91(0x2d6)][_0x107a91(0x285)](0x2))[_0x107a91(0x2d6)],path=require('path'),axios=require('axios');let exchange;function _0x1055(_0x3e0963,_0x334342){const _0x180230=_0x5bd0();return _0x1055=function(_0x2d30d9,_0x2704c5){_0x2d30d9=_0x2d30d9-0x1b5;let _0x5bd09a=_0x180230[_0x2d30d9];return _0x5bd09a;},_0x1055(_0x3e0963,_0x334342);}global[_0x107a91(0x33a)]={},global[_0x107a91(0x344)]={};const usdBasecoins=[_0x107a91(0x267),_0x107a91(0x2a8),_0x107a91(0x1dd),_0x107a91(0x2d1),_0x107a91(0x21b),_0x107a91(0x204)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x107a91(0x1ea)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x107a91(0x273)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x107a91(0x2cc)+pauseBotInterval/0xea60+_0x107a91(0x28c),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x107a91(0x20e))[_0x107a91(0x2c8)],botID=process['argv'][0x2]||_0x107a91(0x2c1),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x107a91(0x24f)](_0x107a91(0x24b)+botID+_0x107a91(0x266)),killBot());const userID=process[_0x107a91(0x2d6)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x107a91(0x291),logspath=userID?'./logs/'+userID+'/':'./logs/',loggerfile=fs[_0x107a91(0x2bb)](logspath+_0x107a91(0x343),{'flags':'a'});!fs[_0x107a91(0x23a)](configpath)&&fs[_0x107a91(0x271)](configpath);!fs[_0x107a91(0x23a)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x107a91(0x29b)+botID+_0x107a91(0x29f),logfile=configpath+_0x107a91(0x29b)+botID+_0x107a91(0x27f),performancefile=configpath+_0x107a91(0x29b)+botID+_0x107a91(0x2f1),coinresultsfile=configpath+_0x107a91(0x29b)+botID+_0x107a91(0x272),settingsfile=configpath+_0x107a91(0x1d0),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x107a91(0x33d),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x107a91(0x23c)]({'data':[],'version':serverversion})[_0x107a91(0x1ec)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x107a91(0x23c)]({'bot':[],'version':serverversion})[_0x107a91(0x1ec)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x107a91(0x23c)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x107a91(0x1bb),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3bfc6d=>{const _0x2345da=_0x107a91;console[_0x2345da(0x24f)](_0x3bfc6d);},'simple':_0x3240bf=>{const _0x3d0f57=_0x107a91;console[_0x3d0f57(0x24f)](_0x3240bf),loggerfile[_0x3d0f57(0x1ec)](util[_0x3d0f57(0x351)](_0x3240bf)+'\x0a');},'full':async(_0x58fe08,_0x183954='')=>{const _0x2dbd41=_0x107a91;let _0x1228ee;if(config[_0x2dbd41(0x1e8)])_0x1228ee=getTimeStamp()+':\x20'+config[_0x2dbd41(0x221)]+_0x2dbd41(0x28e)+_0x58fe08;else _0x1228ee=getTimeStamp()+_0x2dbd41(0x1bc)+botID+_0x2dbd41(0x28e)+_0x58fe08;console['log'](_0x1228ee),loggerfile['write'](util[_0x2dbd41(0x351)](_0x1228ee)+'\x0a'),_0x183954&&(console[_0x2dbd41(0x24f)](_0x183954),loggerfile[_0x2dbd41(0x1ec)](util[_0x2dbd41(0x351)](_0x183954)+'\x0a'));},'debug':async(_0x216726,_0x2ed08e='')=>{const _0x3f1497=_0x107a91;let _0x3470d7;if(config[_0x3f1497(0x1e8)])_0x3470d7=getTimeStamp()+':\x20'+config[_0x3f1497(0x221)]+_0x3f1497(0x32a)+_0x216726;else _0x3470d7=getTimeStamp()+_0x3f1497(0x1bc)+botID+_0x3f1497(0x32a)+_0x216726;if(debugging)console[_0x3f1497(0x24f)](_0x3470d7);loggerfile[_0x3f1497(0x1ec)](util[_0x3f1497(0x351)](_0x3470d7)+'\x0a');if(_0x2ed08e){if(debugging)console['log'](_0x2ed08e);loggerfile[_0x3f1497(0x1ec)](util[_0x3f1497(0x351)](_0x2ed08e)+'\x0a');}}};process['on']('uncaughtException',function(_0x4687e2){const _0x4503c8=_0x107a91;handleError(_0x4687e2,_0x4503c8(0x1c7));});settings['timeshift']!=config[_0x107a91(0x206)]&&updateTimeshift(settings['timeshift']);settings[_0x107a91(0x30c)]!=config[_0x107a91(0x30c)]&&updateOnepagemode(settings[_0x107a91(0x30c)]);(settings[_0x107a91(0x35d)]&&!config[_0x107a91(0x35d)]||!settings['marketcapApi']&&config['marketcapApi'])&&updateMarketcapApi(settings['marketcapApi']);process[_0x107a91(0x1eb)]({'started':_0x107a91(0x336)},_0x2c8d74=>{}),initializeProcessListeners();function proxyEmit(_0x5d770a,_0x506236=null){const _0x234dc1=_0x107a91;process[_0x234dc1(0x1eb)]({'function':_0x5d770a,'args':_0x506236},_0x1ed5ea=>{});}function initializeProcessListeners(){process['on']('message',_0xaed5b5=>{const _0x54c811=_0x1055;switch(Object[_0x54c811(0x254)](_0xaed5b5)[0x0]){case'timeshift':_0xaed5b5[_0x54c811(0x206)]!=undefined&&(settings[_0x54c811(0x206)]=_0xaed5b5['timeshift'],updateTimeshift(settings[_0x54c811(0x206)]));break;case _0x54c811(0x30c):_0xaed5b5[_0x54c811(0x30c)]!=undefined&&(settings['onepagemode']=_0xaed5b5[_0x54c811(0x30c)],updateOnepagemode(settings[_0x54c811(0x30c)]));break;case _0x54c811(0x35d):_0xaed5b5[_0x54c811(0x35d)]!=undefined&&(settings['marketcapApi']=_0xaed5b5['marketcapApi'],updateMarketcapApi(settings[_0x54c811(0x35d)]));break;case _0x54c811(0x314):_0xaed5b5[_0x54c811(0x314)]!=undefined&&(bots=JSON[_0x54c811(0x1d7)](_0xaed5b5[_0x54c811(0x314)]),proxyEmit(_0x54c811(0x314),bots));break;case _0x54c811(0x2e7):switch(_0xaed5b5[_0x54c811(0x2e7)]){case _0x54c811(0x2fa):initclient();break;case _0x54c811(0x26c):toggleBotMode();break;case'emitHistory':emitHistory(_0xaed5b5[_0x54c811(0x283)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0xaed5b5[_0x54c811(0x283)]);break;case _0x54c811(0x21a):getPortfolio(_0xaed5b5[_0x54c811(0x283)]);break;case'storeConfiguration':storeConfiguration(_0xaed5b5[_0x54c811(0x283)]);break;case _0x54c811(0x348):storeHeadless(_0xaed5b5[_0x54c811(0x283)]);break;case _0x54c811(0x1c3):storeFiat(_0xaed5b5[_0x54c811(0x283)]);break;case'resetHistory':resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x54c811(0x20c):placeOrder(_0xaed5b5[_0x54c811(0x283)]);break;case _0x54c811(0x1e7):cancelLoading();break;case _0x54c811(0x2ac):showConfig();break;case _0x54c811(0x2d7):sendMetricsTelegram();break;case _0x54c811(0x2ab):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0xec0df=![]){const _0x30028f=_0x107a91;logger[_0x30028f(0x261)](_0x30028f(0x2d8)+(_0xec0df?_0x30028f(0x2c4):_0x30028f(0x20f))+_0x30028f(0x208)+config[_0x30028f(0x1da)]);if(pidBalances)clearTimeout(pidBalances);if(!_0xec0df)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x30028f(0x25b)]!=''&&config['apiKey']!=_0x30028f(0x243)){loadingProgress=0x0;if(_0xec0df){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x2209ad){handleErrorNoStop(_0x2209ad,'loadSymbols()');return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x1bde14=await getCoins();[currentCoins,currentCoinsAll]=_0x1bde14,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x30028f(0x261)](_0x30028f(0x1c2)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x30028f(0x312)]==0x0&&allOpenOrders[_0x30028f(0x312)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x385c7c){const _0x1026ea=_0x107a91;let _0x617816=![];if(_0x385c7c)_0x617816=!![];let _0x522686;_0x617816?_0x522686=_0x385c7c['map'](_0x13df39=>_0x13df39[_0x1026ea(0x2f2)]):_0x522686=currentCoinsAll[_0x1026ea(0x277)](_0x57083f=>_0x57083f[_0x1026ea(0x2f2)]);if(!config[_0x1026ea(0x35d)]||!_0x617816&&!config[_0x1026ea(0x2b2)]||_0x522686[_0x1026ea(0x312)]==0x0)return;let _0x4d9d7d=null;try{_0x4d9d7d=await axios[_0x1026ea(0x290)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x1026ea(0x35d)]},'params':{'symbol':_0x522686[_0x1026ea(0x334)]()}});}catch(_0x36964e){_0x4d9d7d=null,_0x36964e[_0x1026ea(0x334)]()[_0x1026ea(0x358)]('status\x20code\x20401')?(config['marketcapApi']=![],updateConfig(),proxyEmit('configuration',emittedConfiguration()),logHistory('error',_0x1026ea(0x2a4))):(logHistory(_0x1026ea(0x308),_0x1026ea(0x1db)+marketCapInterval/(0x3c*0x3e8)+_0x1026ea(0x28c)),logger['debug']('Error\x20details:',_0x36964e[_0x1026ea(0x334)]()+_0x1026ea(0x1d8)+_0x36964e[_0x1026ea(0x2da)]));}if(_0x4d9d7d){let _0x49187b=0x0;const _0x3105ad=_0x4d9d7d[_0x1026ea(0x257)];_0x522686['forEach'](_0x76ff41=>{const _0x55fa68=_0x1026ea;if(_0x3105ad[_0x55fa68(0x257)][_0x76ff41][0x0])_0x49187b+=_0x3105ad[_0x55fa68(0x257)][_0x76ff41][0x0][_0x55fa68(0x2c9)][_0x55fa68(0x267)]['market_cap'];}),_0x522686[_0x1026ea(0x24a)](_0x24e58a=>{const _0xa433ac=_0x1026ea,_0xf7025=_0x3105ad[_0xa433ac(0x257)][_0x24e58a][0x0]?_0x3105ad[_0xa433ac(0x257)][_0x24e58a][0x0]['quote']['USD']['market_cap']:0x0;if(_0x617816){const _0x3181d6=_0x385c7c[_0xa433ac(0x352)](_0x3831e7=>_0x3831e7['coin']==_0x24e58a);_0x3181d6&&(_0x3181d6['marketcap']=_0xf7025);}else{const _0x4ffd6a=currentCoins[_0xa433ac(0x352)](_0x1a9b5b=>_0x1a9b5b[_0xa433ac(0x2f2)]==_0x24e58a);_0x4ffd6a&&(_0x4ffd6a[_0xa433ac(0x230)]=_0xf7025);const _0x65c89b=currentCoinsAll[_0xa433ac(0x352)](_0x5a1190=>_0x5a1190[_0xa433ac(0x2f2)]==_0x24e58a);_0x65c89b&&(_0x65c89b[_0xa433ac(0x230)]=_0xf7025);}}),!_0x617816&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x5b5a7d=_0x107a91,_0x22871e=0x2;let _0x596527=0x0,_0x2fdfdb=0x0,_0x396af2=0x0,_0x85d125=0x0,_0x20d7e5=0x0;config[_0x5b5a7d(0x346)][_0x5b5a7d(0x24a)](_0x19cf3c=>{const _0x10b811=_0x5b5a7d;if(!_0x19cf3c[_0x10b811(0x335)]){_0x396af2++,_0x596527+=_0x19cf3c['slider'];if(_0x19cf3c['slider']===-0x1){_0x596527++;const _0x3f0cde=currentCoinsAll[_0x10b811(0x352)](_0x19c36d=>_0x19c36d['coin']==_0x19cf3c[_0x10b811(0x2f2)]);_0x3f0cde&&(_0x85d125+=_0x3f0cde['marketcap'],_0x20d7e5+=Math[_0x10b811(0x235)](_0x3f0cde[_0x10b811(0x230)]));}if(_0x19cf3c[_0x10b811(0x27c)]!==-0x1)_0x2fdfdb++;}});let _0x40a7f5;const _0xace90=0x64-_0x596527,_0x94db4=_0x396af2-_0x2fdfdb;_0x40a7f5=_0x94db4===0x0?_0x596527:Math[_0x5b5a7d(0x2be)](0x64,_0x596527),config['portfolio']['forEach'](_0xc914b9=>{const _0x49ab7a=_0x5b5a7d,_0x3f8ef5=currentCoinsAll[_0x49ab7a(0x352)](_0x49d0dd=>_0x49d0dd[_0x49ab7a(0x2f2)]==_0xc914b9['coin']);_0x3f8ef5&&(_0xc914b9[_0x49ab7a(0x230)]=_0x3f8ef5[_0x49ab7a(0x230)]);if(!_0xc914b9['excluded']){if(_0x40a7f5<=0x64){if(_0xc914b9['slider']===-0x1){if(_0x85d125!==0x0&&config[_0x49ab7a(0x2b2)]){if(_0x3f8ef5){if(config[_0x49ab7a(0x2b2)]==_0x49ab7a(0x230))_0xc914b9['distribution']=(_0xace90/(_0x85d125/_0x3f8ef5[_0x49ab7a(0x230)]))['toFixed'](_0x22871e);else config[_0x49ab7a(0x2b2)]==_0x49ab7a(0x300)&&(_0xc914b9[_0x49ab7a(0x1cd)]=(_0xace90/(_0x20d7e5/Math[_0x49ab7a(0x235)](_0x3f8ef5[_0x49ab7a(0x230)])))[_0x49ab7a(0x360)](_0x22871e));}}}}}}),updateConfig();}function updateConfig(){const _0x38254b=_0x107a91;let _0xd32c5b=dbConfig['get']('bot')[_0x38254b(0x352)]({'botID':botID})[_0x38254b(0x321)]();_0xd32c5b&&dbConfig[_0x38254b(0x290)]('bot')['find']({'botID':botID})[_0x38254b(0x1bf)](config)[_0x38254b(0x1ec)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x1bd339=_0x107a91;exchangeStopped=!![];try{await exchange[_0x1bd339(0x2ea)]();}catch(_0x12aa56){await handleError(_0x12aa56,_0x1bd339(0x350));}}async function reloadExchange(){const _0x11bb3b=_0x107a91;while(lockOrders!=ORDERS[_0x11bb3b(0x273)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x11bb3b(0x261)](_0x11bb3b(0x2ba)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x5a9bf6=config[_0x107a91(0x1da)],_0x57efa9=config[_0x107a91(0x25b)],_0x1a0c66=config[_0x107a91(0x216)],_0x475c60=config[_0x107a91(0x280)]){const _0x4baebf=_0x107a91;exchange&&await stopExchange();!supportedExchanges()[_0x4baebf(0x358)](_0x5a9bf6)&&(logHistory(_0x4baebf(0x308),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x5a9bf6+_0x4baebf(0x1e9)),killBot());const _0x3b5215=ccxt[_0x4baebf(0x2b5)][_0x5a9bf6[_0x4baebf(0x260)]()];exchange=new _0x3b5215({'apiKey':_0x57efa9,'secret':_0x1a0c66,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x4baebf(0x356)}});if(_0x475c60)exchange[_0x4baebf(0x28b)]=_0x475c60;}function setStableCoins(){const _0x34cc85=_0x107a91;let _0x4c0300=config[_0x34cc85(0x241)]==_0x34cc85(0x23e)?_0x34cc85(0x23e):config['basecoin']==_0x34cc85(0x213)?_0x34cc85(0x213):_0x34cc85(0x1c1),_0xcd14d6=!allSymbols[_0x34cc85(0x358)](_0x4c0300+'/USD')?_0x34cc85(0x2d1):_0x34cc85(0x267),_0x113a97=!allSymbols[_0x34cc85(0x358)](_0x4c0300+'/EUR')?_0xcd14d6:_0x34cc85(0x207);stablecoins={'eur':{'coin':''+_0x4c0300+_0x113a97,'symbol':_0x4c0300+'/'+_0x113a97},'usd':{'coin':''+_0x4c0300+_0xcd14d6,'symbol':_0x4c0300+'/'+_0xcd14d6}};}async function initwsCcxt(){const _0x48cadc=_0x107a91;initCycle++;const _0x394f74=initCycle;let _0x4b61ea=[];config['portfolio'][_0x48cadc(0x24a)](_0x458ef9=>{const _0x5eedd5=_0x48cadc;if(!_0x458ef9['excluded']&&_0x458ef9[_0x5eedd5(0x2f2)]!=config[_0x5eedd5(0x241)])_0x4b61ea[_0x5eedd5(0x25f)](_0x458ef9[_0x5eedd5(0x34f)]);});if(!_0x4b61ea[_0x48cadc(0x358)](stablecoins[_0x48cadc(0x303)][_0x48cadc(0x34f)]))_0x4b61ea[_0x48cadc(0x25f)](stablecoins[_0x48cadc(0x303)]['symbol']);if(!_0x4b61ea[_0x48cadc(0x358)](stablecoins[_0x48cadc(0x1c9)]['symbol']))_0x4b61ea[_0x48cadc(0x25f)](stablecoins[_0x48cadc(0x1c9)][_0x48cadc(0x34f)]);if(config[_0x48cadc(0x1da)][_0x48cadc(0x23d)](_0x48cadc(0x27a))&&config[_0x48cadc(0x241)]!='PAXG'){if(!_0x4b61ea[_0x48cadc(0x358)](_0x48cadc(0x24d)+config[_0x48cadc(0x241)]))_0x4b61ea[_0x48cadc(0x25f)]('BNB/'+config['basecoin']);}loadCoins(_0x4b61ea),_0x4b61ea=validateSymbols(_0x4b61ea);const _0x84bb79=async _0x9bb9c1=>{const _0x1c8cc1=_0x48cadc;let _0x169460;try{const _0x36fe8d=await getTickers(_0x9bb9c1);Object[_0x1c8cc1(0x293)](_0x36fe8d)[_0x1c8cc1(0x24a)](_0x1518b0=>{const _0x51dd14=_0x1c8cc1;_0x169460=_0x1518b0[0x1]['symbol'],global[_0x51dd14(0x33a)][noslash(_0x169460)]=_0x1518b0[0x1]['last'],global[_0x51dd14(0x344)][_0x169460]=_0x1518b0[0x1]['percentage'];});}catch(_0x222c30){await handleError(_0x222c30,'initTickers()',_0x169460);}},_0x586fed=async _0x8a832b=>{const _0x33e24a=_0x48cadc;while(initCycle==_0x394f74){if(!botPaused)try{const _0x3b98c7=await exchange[_0x33e24a(0x2a3)](_0x8a832b);global[_0x33e24a(0x33a)][noslash(_0x3b98c7[0x0][_0x33e24a(0x34f)])]=_0x3b98c7[0x0]['price'];}catch(_0x3d4308){if(!exchangeStopped)await handleError(_0x3d4308,_0x33e24a(0x1df),_0x8a832b);}else await sleep(0x64);}},_0x1798a1=async _0x95ef2=>{const _0x170e18=_0x48cadc;while(initCycle==_0x394f74){if(!botPaused)try{const _0x47ff4e=await exchange[_0x170e18(0x294)](_0x95ef2),_0x2e1564=_0x47ff4e[_0x170e18(0x2c2)]();global[_0x170e18(0x33a)][noslash(_0x2e1564['symbol'])]=_0x2e1564[_0x170e18(0x318)];}catch(_0x5df307){if(!exchangeStopped)await handleError(_0x5df307,_0x170e18(0x1fd),_0x95ef2['toString']());}else await sleep(0x64);}},_0x2cc0c1=async _0x4acad2=>{const _0x1cc17b=_0x48cadc;while(initCycle==_0x394f74){if(!botPaused){let _0x3eec07;try{await sleep(0x3c*0x3e8);const _0x216bd2=await getTickers(_0x4acad2);Object['entries'](_0x216bd2)[_0x1cc17b(0x24a)](_0x455cab=>{const _0x260a4c=_0x1cc17b;_0x3eec07=_0x455cab[0x1][_0x260a4c(0x34f)],global['change'][_0x3eec07]=_0x455cab[0x1][_0x260a4c(0x279)];});}catch(_0x47f06b){if(!exchangeStopped)await handleError(_0x47f06b,_0x1cc17b(0x1d1),_0x3eec07);}}else await sleep(0x64);}},_0xf5fe14=async _0x299158=>{const _0xb99cae=_0x48cadc;while(initCycle==_0x394f74){if(!botPaused)try{const _0xec8222=await exchange[_0xb99cae(0x30b)](_0x299158);initCycle==_0x394f74&&_0xec8222[_0xb99cae(0x24a)](_0x4cbf53=>{updateNumberCoinsCcxt(_0x4cbf53);});}catch(_0x3e1346){if(!exchangeStopped)await handleError(_0x3e1346,_0xb99cae(0x27e));}else await sleep(0x64);}};_0x84bb79(_0x4b61ea),_0x2cc0c1(_0x4b61ea),exchange[_0x48cadc(0x268)][_0x48cadc(0x294)]?_0x1798a1(_0x4b61ea):_0x4b61ea['forEach'](_0xb89443=>{_0x586fed(_0xb89443);}),_0x4b61ea[_0x48cadc(0x24a)](_0x194068=>{_0xf5fe14(_0x194068);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x8ec1d9){const _0x13b8b8=_0x107a91;let _0x4c73fd={};try{if(config[_0x13b8b8(0x1da)]!=_0x13b8b8(0x220))_0x4c73fd=await exchange[_0x13b8b8(0x258)](_0x8ec1d9);else for(const _0x3e601c of _0x8ec1d9){const _0x5cc32f=await exchange['fetchTicker'](_0x3e601c);_0x4c73fd[_0x3e601c]=_0x5cc32f;}return _0x4c73fd;}catch(_0x10f41b){throw _0x10f41b;}}async function watchTransactions(){const _0x21bc27=_0x107a91;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x2c3fa4=await getCoins(),[_0x2fdf0e,_0x33b635]=_0x2c3fa4;let _0x1c36c4=[];currentCoins[_0x21bc27(0x24a)](_0x23e687=>{const _0x33bfb3=_0x21bc27,_0x3e76a8=_0x2fdf0e['find'](_0x3004f5=>_0x3004f5[_0x33bfb3(0x2f2)]==_0x23e687[_0x33bfb3(0x2f2)]);if(_0x3e76a8){if(_0x23e687['number']!=_0x3e76a8[_0x33bfb3(0x2e4)]){let _0x5b0be6;if(_0x23e687[_0x33bfb3(0x2f2)]!=config['basecoin']){const _0x17df43=global[_0x33bfb3(0x33a)][noslash(_0x23e687[_0x33bfb3(0x34f)])];_0x5b0be6=_0x23e687[_0x33bfb3(0x202)]?0x1/_0x17df43:_0x17df43;}else _0x5b0be6=0x1;_0x1c36c4[_0x33bfb3(0x25f)]({'coin':_0x23e687[_0x33bfb3(0x2f2)],'symbol':_0x23e687[_0x33bfb3(0x34f)],'price':_0x5b0be6,'number':Number(formatResult(_0x3e76a8['number']-_0x23e687[_0x33bfb3(0x2e4)],0x8)),'basecoinvalue':_0x5b0be6*(_0x3e76a8[_0x33bfb3(0x2e4)]-_0x23e687[_0x33bfb3(0x2e4)])});}}});if(_0x1c36c4['length']==0x1&&!blockTransactionDetection){if(config[_0x21bc27(0x263)]){logger[_0x21bc27(0x261)](_0x21bc27(0x252)+_0x1c36c4[0x0][_0x21bc27(0x265)]+_0x21bc27(0x28f)+lastFees[_0x21bc27(0x2e9)]);if(lastFees[_0x21bc27(0x2e9)]==0x0||Math[_0x21bc27(0x1f5)](_0x1c36c4[0x0][_0x21bc27(0x265)])>lastFees[_0x21bc27(0x2e9)]){delete _0x1c36c4[0x0][_0x21bc27(0x34f)],delete _0x1c36c4[0x0][_0x21bc27(0x265)];let _0x2cf9ed=[],_0x10cae9=[...config['liquidity']]||[],_0x298d03=config[_0x21bc27(0x23f)];_0x10cae9[_0x21bc27(0x253)]((_0x5e27db,_0x3960b4)=>_0x5e27db[_0x21bc27(0x215)]>_0x3960b4[_0x21bc27(0x215)]?-0x1:_0x3960b4['date']>_0x5e27db[_0x21bc27(0x215)]?0x1:0x0);const _0x3c0a42=getDate();if(_0x10cae9[0x0]){const _0x3188c7=fns[_0x21bc27(0x1d7)](_0x10cae9[0x0][_0x21bc27(0x215)],_0x21bc27(0x347),new Date()),_0x1baa26=fns[_0x21bc27(0x1d7)](_0x3c0a42,_0x21bc27(0x347),new Date());if(fns[_0x21bc27(0x223)](_0x3188c7,_0x1baa26)){_0x2cf9ed=_0x10cae9[0x0][_0x21bc27(0x239)];const _0xa6eefa=_0x2cf9ed['find'](_0x1a98ab=>_0x1a98ab[_0x21bc27(0x2f2)]==_0x1c36c4[0x0][_0x21bc27(0x2f2)]);_0xa6eefa?(_0xa6eefa[_0x21bc27(0x2e4)]+=_0x1c36c4[0x0]['number'],_0xa6eefa[_0x21bc27(0x2e4)]==0x0&&(_0x2cf9ed=_0x2cf9ed[_0x21bc27(0x242)](_0xad88da=>{const _0x2fd33f=_0x21bc27;return _0xad88da[_0x2fd33f(0x2f2)]!=_0x1c36c4[0x0]['coin'];}))):_0x2cf9ed[_0x21bc27(0x25f)](_0x1c36c4[0x0]);const _0x35d6cd=_0x298d03[_0x21bc27(0x352)](_0x4f67ba=>_0x4f67ba['date']==_0x3c0a42);_0x35d6cd[_0x21bc27(0x239)]=_0x2cf9ed;}else _0x298d03['push']({'date':_0x3c0a42,'changes':[_0x1c36c4[0x0]]});}const _0x4cdfe2=_0x298d03[_0x21bc27(0x352)](_0x55c48f=>_0x55c48f[_0x21bc27(0x215)]==_0x3c0a42);if(_0x4cdfe2){let _0x11f625=!![];_0x4cdfe2['changes'][_0x21bc27(0x24a)](_0x5a4f1f=>{const _0x220166=_0x21bc27;if(_0x5a4f1f[_0x220166(0x2e4)]!=0x0)_0x11f625=![];}),_0x11f625&&(_0x298d03=_0x298d03[_0x21bc27(0x242)](_0x315b2e=>{return _0x315b2e['date']!=_0x3c0a42;}));}let _0x3c43f4=dbConfig[_0x21bc27(0x290)](_0x21bc27(0x26d))[_0x21bc27(0x352)]({'botID':botID})[_0x21bc27(0x321)]();_0x3c43f4&&(dbConfig[_0x21bc27(0x290)](_0x21bc27(0x26d))['find']({'botID':botID})[_0x21bc27(0x1bf)]({'liquidity':_0x298d03})[_0x21bc27(0x1ec)](),config['liquidity']=_0x298d03),logHistory(_0x21bc27(0x2b0),_0x21bc27(0x1ca)+Math[_0x21bc27(0x1f5)](_0x1c36c4[0x0]['number'])+'\x20'+_0x1c36c4[0x0]['coin']+'\x20'+(_0x1c36c4[0x0][_0x21bc27(0x2e4)]>0x0?_0x21bc27(0x32c):_0x21bc27(0x2eb))+_0x21bc27(0x1cc)),proxyEmit(_0x21bc27(0x31c),emittedConfiguration());}else logger[_0x21bc27(0x261)](_0x21bc27(0x298)+Math[_0x21bc27(0x1f5)](_0x1c36c4[0x0][_0x21bc27(0x2e4)])+'\x20'+_0x1c36c4[0x0][_0x21bc27(0x2f2)]+'\x20'+(_0x1c36c4[0x0]['number']>0x0?'added':_0x21bc27(0x2eb)));transactionDetected=!![];}else logger[_0x21bc27(0x261)](_0x21bc27(0x1ca)+Math[_0x21bc27(0x1f5)](_0x1c36c4[0x0][_0x21bc27(0x2e4)])+'\x20'+_0x1c36c4[0x0]['coin']+'\x20'+(_0x1c36c4[0x0][_0x21bc27(0x2e4)]>0x0?'added':_0x21bc27(0x2eb))+_0x21bc27(0x324));}currentCoins=_0x2fdf0e,currentCoinsAll=_0x33b635,await sleep(watchTransactionsInterval);}catch(_0x2d024e){if(!exchangeStopped)await handleError(_0x2d024e,_0x21bc27(0x2d0));}else await sleep(0x64);}}async function loadSymbols(){const _0x4c16ba=_0x107a91;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object[_0x4c16ba(0x293)](markets)[_0x4c16ba(0x24a)](_0x543421=>{const _0x3dffc9=_0x4c16ba;_0x543421[0x1][_0x3dffc9(0x1fe)]&&_0x543421[0x1][_0x3dffc9(0x356)]&&allSymbols[_0x3dffc9(0x25f)](_0x543421[0x0]);});}catch(_0x3ead16){throw _0x3ead16;}}function validateSymbols(_0x3aa11d){let _0x504e49=[];return _0x3aa11d['forEach'](_0x31ab84=>{const _0x16285b=_0x1055;!allSymbols[_0x16285b(0x358)](_0x31ab84)?logHistory(_0x16285b(0x308),'Invalid\x20symbol:\x20'+_0x31ab84+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x504e49['push'](_0x31ab84);}),_0x504e49;}async function initclient(){const _0x273b42=_0x107a91;proxyEmit(_0x273b42(0x31c),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x273b42(0x2a0),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x375dfa=getNormalizedPerformance();emitPerformance(_0x375dfa),getStartingBalances(_0x375dfa);}async function toggleBotMode(){const _0x150c6c=_0x107a91;let _0x7353cf=dbConfig[_0x150c6c(0x290)](_0x150c6c(0x26d))[_0x150c6c(0x352)]({'botID':botID})[_0x150c6c(0x321)]();if(_0x7353cf){const _0x126dcd=!_0x7353cf['headless'];dbConfig[_0x150c6c(0x290)](_0x150c6c(0x26d))['find']({'botID':botID})['assign']({'headless':_0x126dcd})['write'](),config[_0x150c6c(0x214)]=_0x126dcd,proxyEmit(_0x150c6c(0x31c),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4687af=_0x107a91;process[_0x4687af(0x1eb)]({'updatebotmanager':!![]},_0x4016e6=>{}),logger[_0x4687af(0x261)](_0x4687af(0x339)+config[_0x4687af(0x214)]);}async function loadCoins(_0x50e3ae){const _0x4cfebd=_0x107a91;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x422184,_0x180064=0x0,_0x1b2b1c=0x0;_0x50e3ae[_0x4cfebd(0x24a)](_0x7f6eef=>{const _0x3a07eb=_0x4cfebd;loading[_0x3a07eb(0x229)][_0x3a07eb(0x25f)](_0x7f6eef);}),loadingCanceled=![];let _0x4e0c03=![];while(_0x422184!=_0x50e3ae[_0x4cfebd(0x312)]+maxLoadingProgress){_0x422184=loadingProgress,_0x50e3ae['forEach'](_0x5af16b=>{const _0x2811cb=_0x4cfebd;if(global[_0x2811cb(0x33a)][noslash(_0x5af16b)]){loading['remainingSymbols']=loading[_0x2811cb(0x229)]['filter'](_0x1261d7=>_0x1261d7!=_0x5af16b);if(!watchedSymbols[_0x2811cb(0x358)](_0x5af16b))watchedSymbols[_0x2811cb(0x25f)](_0x5af16b);_0x422184++;}}),loading[_0x4cfebd(0x1f7)]=Math['round'](_0x422184/(_0x50e3ae[_0x4cfebd(0x312)]+maxLoadingProgress)*0x64);loading[_0x4cfebd(0x1f7)]!=0x64&&(_0x1b2b1c>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x1b2b1c>0x78*0x5&&!_0x4e0c03&&(_0x4e0c03=!![],logHistory('error',_0x4cfebd(0x328)+loading[_0x4cfebd(0x229)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x4cfebd(0x308),_0x4cfebd(0x278)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x1ee349=_0x4cfebd;process[_0x1ee349(0x1eb)]({'stop':'restart'},_0x3848c7=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x180064!=loading['progress']&&(_0x180064=loading['progress'],emitLoadingProgress()),_0x1b2b1c++,await sleep(0xc8);}_0x422184==_0x50e3ae[_0x4cfebd(0x312)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x4cfebd(0x1eb)]({'status':'enabled','live':_0x4cfebd(0x336)},_0x35854e=>{}),_0x4e0c03&&logHistory(_0x4cfebd(0x2b0),_0x4cfebd(0x1cb)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){proxyEmit('configuration',{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x58c38c=_0x107a91;proxyEmit(_0x58c38c(0x31b),loading);}async function getFiat(){const _0x257f1c=_0x107a91;let _0x405f46=global['ticker'][stablecoins[_0x257f1c(0x303)][_0x257f1c(0x2f2)]],_0x5f3ddf=global[_0x257f1c(0x33a)][stablecoins[_0x257f1c(0x1c9)][_0x257f1c(0x2f2)]];return{'eur':Number(_0x405f46),'usd':Number(_0x5f3ddf)};}function capitalize(_0x427cca){const _0x3f345f=_0x107a91;return _0x427cca[_0x3f345f(0x25d)](0x0,0x1)['toUpperCase']()+_0x427cca['substring'](0x1);}function supportedExchanges(){const _0x49f817=_0x107a91,_0x5e99d5=['ws','fetchTickers',_0x49f817(0x2d4),'watchTrades',_0x49f817(0x30b),_0x49f817(0x305),_0x49f817(0x1b7),_0x49f817(0x34e),_0x49f817(0x27b),_0x49f817(0x276)];let _0x36c81a=[],_0x5bd0b9=[],_0x2e5124=ccxt['pro']['exchanges'];_0x2e5124[_0x49f817(0x24a)](_0x3522b1=>{const _0x317364=_0x49f817;try{const _0x27e950=new ccxt[(_0x317364(0x2b5))][_0x3522b1]();_0x5bd0b9['push'](_0x27e950);}catch(_0x54bc50){}}),_0x5bd0b9[_0x49f817(0x24a)](_0x233217=>{const _0x4f427d=_0x49f817;let _0x1e99c9=0x0;_0x5e99d5[_0x4f427d(0x24a)](_0x3534a7=>{const _0x5f1ae4=_0x4f427d;_0x3534a7 in _0x233217[_0x5f1ae4(0x268)]&&_0x233217[_0x5f1ae4(0x268)][_0x3534a7]&&_0x1e99c9++;}),_0x1e99c9==_0x5e99d5[_0x4f427d(0x312)]&&_0x36c81a[_0x4f427d(0x25f)](capitalize(_0x233217['id']));});let _0x38f871=[];return _0x2e5124[_0x49f817(0x24a)](_0x171797=>{const _0x56a88c=_0x49f817;_0x171797=capitalize(_0x171797);if(!_0x36c81a[_0x56a88c(0x358)](_0x171797))_0x38f871['push'](_0x171797);}),_0x36c81a;}function setStartDatePerformance(){const _0x402c24=_0x107a91;if(config&&config[_0x402c24(0x23f)][0x0]['changes']['length']!=0x0){const _0x4270ac=config[_0x402c24(0x23f)][0x0][_0x402c24(0x239)];dbPerformance[_0x402c24(0x290)](_0x402c24(0x257))[_0x402c24(0x352)]({'date':config['startdate']})[_0x402c24(0x1bf)]({'coins':_0x4270ac})[_0x402c24(0x1ec)]();}}async function recreateCoinResults(){const _0x178c51=_0x107a91;let _0x5134cc,_0x2d387e=[];try{const _0x12a912=fns['format'](fns[_0x178c51(0x236)](config['startdate']['replace'](/\//g,'-')),_0x178c51(0x1ed));for(const _0x38fd99 of currentCoins){if(_0x38fd99['coin']!=config['basecoin']){let _0x10c25a=0x0,_0x13ec48,_0x292b0e;_0x5134cc=await getAllEventOrders(_0x38fd99['symbol']);if(_0x5134cc[_0x178c51(0x312)]>0x0)_0x5134cc[_0x178c51(0x24a)](_0x129be4=>{const _0x24516d=_0x178c51,_0x5eb344=_0x38fd99['symbol'][_0x24516d(0x358)](config[_0x24516d(0x241)]+'/');_0x2d387e['push']({'datetime':_0x129be4[_0x24516d(0x1fa)],'coin':_0x38fd99[_0x24516d(0x2f2)],'symbol':_0x38fd99['symbol'],'side':_0x129be4['side'],'reverse':_0x5eb344,'amount':formatResult(_0x129be4[_0x24516d(0x259)],0x8),'filled':formatResult(_0x129be4[_0x24516d(0x259)],0x8),'price':formatResult(_0x129be4[_0x24516d(0x318)],0x8)}),_0x10c25a=_0x129be4['side']==_0x24516d(0x1dc)?_0x10c25a+_0x129be4[_0x24516d(0x259)]:_0x10c25a-_0x129be4[_0x24516d(0x259)];if(!_0x292b0e)_0x292b0e=_0x129be4['price'];});_0x13ec48=_0x38fd99[_0x178c51(0x2e4)]-_0x10c25a;let _0x2606aa;config[_0x178c51(0x23f)][_0x178c51(0x24a)](_0x2ae584=>{const _0x1f1c9f=_0x178c51;!_0x2606aa&&(_0x2606aa=_0x2ae584['changes'][_0x1f1c9f(0x352)](_0x3e69ee=>_0x3e69ee[_0x1f1c9f(0x2f2)]==_0x38fd99[_0x1f1c9f(0x2f2)]),_0x2606aa&&(_0x13ec48=_0x2606aa[_0x1f1c9f(0x2e4)],_0x292b0e=_0x2606aa[_0x1f1c9f(0x318)]));});let _0x4b93da=dbCoinResults['get'](_0x178c51(0x315))[_0x178c51(0x352)]({'coin':_0x38fd99[_0x178c51(0x2f2)]})['value']();_0x4b93da={'coin':_0x38fd99[_0x178c51(0x2f2)],'number':_0x13ec48,'breakeven':_0x292b0e,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x178c51(0x315))[_0x178c51(0x352)]({'coin':_0x38fd99[_0x178c51(0x2f2)]})[_0x178c51(0x1bf)](_0x4b93da)[_0x178c51(0x1ec)]();}}_0x2d387e[_0x178c51(0x253)]((_0x548a98,_0x46bfb9)=>_0x548a98[_0x178c51(0x1fa)]>_0x46bfb9[_0x178c51(0x1fa)]?0x1:_0x46bfb9[_0x178c51(0x1fa)]>_0x548a98['datetime']?-0x1:0x0);let _0x349dce=0x0;for(let _0x290c6a of _0x2d387e){await updateCoinResults(_0x290c6a,!![]);}}catch(_0x4c4aec){await handleError(_0x4c4aec,'recreateCoinResults()');}}async function getAllEventOrders(_0x1cea64){const _0x438440=_0x107a91;let _0x13b39e=[],_0x258fd3=dbLogs[_0x438440(0x290)](_0x438440(0x2c7))[_0x438440(0x242)](_0x3f1590=>{const _0x4c9ed2=_0x438440,_0xf64c45=_0x3f1590[_0x4c9ed2(0x24e)]['toLowerCase']();return _0xf64c45[_0x4c9ed2(0x358)](_0x1cea64[_0x4c9ed2(0x260)]())&&(_0xf64c45[_0x4c9ed2(0x358)](_0x4c9ed2(0x31d))&&_0xf64c45['includes'](_0x4c9ed2(0x274))||_0xf64c45['includes'](_0x4c9ed2(0x259))&&_0xf64c45[_0x4c9ed2(0x358)]('order'));})[_0x438440(0x1d3)](_0x438440(0x1d4))['value']();return _0x258fd3[_0x438440(0x24a)](_0x2a1c42=>{const _0x4f382d=_0x438440,_0x49d1f4=_0x2a1c42['event']['includes'](_0x4f382d(0x26f))?_0x4f382d(0x26f):_0x4f382d(0x1dc),_0x2276fa=/#([0-9]|\.)+\s/i,_0x222423=Number(_0x2276fa[_0x4f382d(0x284)](_0x2a1c42['event'])[0x0][_0x4f382d(0x285)](0x1)),_0x34575f=/@([0-9]|\.)+$/i,_0x122609=Number(_0x34575f['exec'](_0x2a1c42[_0x4f382d(0x24e)])[0x0][_0x4f382d(0x285)](0x1));_0x13b39e[_0x4f382d(0x25f)]({'datetime':_0x2a1c42[_0x4f382d(0x1d4)],'coin':symbolToCoin(_0x1cea64),'symbol':_0x1cea64,'side':_0x49d1f4,'amount':_0x222423,'filled':_0x222423,'price':_0x122609});}),_0x13b39e;}async function getAllOrders(_0x32e612,_0x1fce41){const _0x513cfa=_0x107a91;let _0xf691f6=[];while(_0x1fce41<exchange[_0x513cfa(0x2cf)]()){const _0x3382ef=0x1f4;try{const _0x11805d=await exchange['fetchClosedOrders'](_0x32e612,_0x1fce41,_0x3382ef);if(_0x11805d[_0x513cfa(0x312)])_0x1fce41=_0x11805d[_0x11805d[_0x513cfa(0x312)]-0x1][_0x513cfa(0x21f)]+0x1,_0xf691f6=_0xf691f6['concat'](_0x11805d);else break;}catch(_0x2ce15f){await handleError(_0x2ce15f,_0x513cfa(0x2d3),_0x32e612);}}return _0xf691f6;}async function validate24hChanges(){const _0x46c3d3=_0x107a91;for(const _0x434363 of currentCoins){if(_0x434363[_0x46c3d3(0x2f2)]!=config[_0x46c3d3(0x241)]){let _0x676e0a;_0x434363['reverse']?_0x676e0a=formatResult((0x1/(global[_0x46c3d3(0x344)][_0x434363[_0x46c3d3(0x34f)]]/0x64+0x1)-0x1)*0x64,0x3):_0x676e0a=global[_0x46c3d3(0x344)][_0x434363['symbol']],_0x676e0a<config[_0x46c3d3(0x205)]&&(logHistory(_0x46c3d3(0x308),_0x434363[_0x46c3d3(0x2f2)]+_0x46c3d3(0x28d)+_0x676e0a+'%'),logHistory(_0x46c3d3(0x308),_0x46c3d3(0x35a)),logHistory(_0x46c3d3(0x308),_0x46c3d3(0x25e)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x207c22,_0x1ce212){const _0x113da4=_0x107a91;if(!_0x207c22)return!![];const _0x42badf=_0x1ce212[_0x113da4(0x33e)]('.'),_0x2465dc=_0x207c22[_0x113da4(0x33e)]('.');for(var _0x5c75fc=0x0;_0x5c75fc<_0x2465dc[_0x113da4(0x312)];_0x5c75fc++){const _0x5a5314=~~_0x2465dc[_0x5c75fc],_0x41ce68=~~_0x42badf[_0x5c75fc];if(_0x5a5314<_0x41ce68)return!![];if(_0x5a5314>_0x41ce68)return![];}return![];}async function oneTimeMigration(){const _0x5851bb=_0x107a91;let _0x389729=dbLogs[_0x5851bb(0x290)](_0x5851bb(0x2c8))['value']();if(isOlderVersion(_0x389729,'2.3.5')){let _0x17a475=[];const _0x17b256=dbLogs[_0x5851bb(0x290)](_0x5851bb(0x2c7))[_0x5851bb(0x321)]();_0x17b256[_0x5851bb(0x24a)](_0x5955b5=>{const _0x74cab8=_0x5851bb;_0x17a475['push']({'time':_0x5955b5[_0x74cab8(0x1d4)],'type':_0x5955b5[_0x74cab8(0x2de)],'event':_0x5955b5['event']});}),dbLogs[_0x5851bb(0x290)]('logs')['assign'](_0x17a475)[_0x5851bb(0x1ec)]();}let _0x2efdfa=dbConfig[_0x5851bb(0x290)]('version')[_0x5851bb(0x321)]();if(isOlderVersion(_0x2efdfa,_0x5851bb(0x212))){let _0x15c4e8=dbConfig[_0x5851bb(0x290)](_0x5851bb(0x26d))[_0x5851bb(0x352)]({'botID':botID})['value']();if(_0x15c4e8){let _0x317b9a=[];_0x15c4e8[_0x5851bb(0x346)]['forEach'](_0x13432d=>{const _0x4356a6=_0x5851bb;_0x317b9a[_0x4356a6(0x25f)]({'coin':_0x13432d[_0x4356a6(0x2f2)],'number':_0x13432d[_0x4356a6(0x2db)],'price':_0x13432d[_0x4356a6(0x1b9)]}),delete _0x13432d[_0x4356a6(0x2db)],delete _0x13432d[_0x4356a6(0x1b9)];});if(_0x317b9a['length']!==0x0)fs[_0x5851bb(0x2aa)](configbackuppath+(_0x5851bb(0x1d6)+botID+_0x5851bb(0x2b7)),JSON[_0x5851bb(0x2e3)](_0x317b9a,null,0x4),function(_0x559880){if(_0x559880){}});const _0x3fc9c9=(_0x593570,_0x468109)=>{const _0x1cb0bc=_0x5851bb;let _0x523c48=[];_0x468109[_0x1cb0bc(0x24a)](_0x1f51d2=>{const _0x36eb3b=_0x1cb0bc,_0x304d86=_0x593570[_0x36eb3b(0x352)](_0x353f04=>_0x353f04[_0x36eb3b(0x2f2)]==_0x1f51d2['coin']);if(!_0x304d86)_0x523c48['push'](_0x1f51d2);});let _0x189a62=[];return _0x593570[_0x1cb0bc(0x24a)](_0x4e348f=>{const _0x469e08=_0x1cb0bc,_0x1e9fb5=_0x468109[_0x469e08(0x352)](_0x4b4569=>_0x4b4569[_0x469e08(0x2f2)]==_0x4e348f[_0x469e08(0x2f2)]);if(!_0x1e9fb5||_0x1e9fb5[_0x469e08(0x2e4)]==0x0&&_0x4e348f[_0x469e08(0x2e4)]!=0x0)_0x189a62['push'](_0x4e348f);}),{'missingDay1':_0x523c48,'notInDay2':_0x189a62};},_0x262555=dbPerformance['get'](_0x5851bb(0x257))[_0x5851bb(0x2e8)]()[_0x5851bb(0x321)]();if(_0x262555['length']>0x1){const {missingDay1:_0x3aa1e8,notInDay2:_0x2c274d}=_0x3fc9c9(_0x317b9a,_0x262555[0x1]['coins']);_0x317b9a=[..._0x317b9a,..._0x3aa1e8],_0x2c274d['forEach'](_0x442a5f=>{const _0x2eabb2=_0x5851bb;let _0x323d5e=_0x317b9a[_0x2eabb2(0x29a)](_0xdf4383=>_0xdf4383['coin']==_0x442a5f[_0x2eabb2(0x2f2)]);_0x323d5e!=-0x1&&_0x317b9a['splice'](_0x323d5e,0x1);});}_0x317b9a[_0x5851bb(0x253)]((_0x496e2f,_0x1a6558)=>_0x496e2f[_0x5851bb(0x2f2)]>_0x1a6558['coin']?0x1:_0x1a6558[_0x5851bb(0x2f2)]>_0x496e2f[_0x5851bb(0x2f2)]?-0x1:0x0);let _0x2b0d0a=[{'date':_0x15c4e8[_0x5851bb(0x34d)],'changes':_0x317b9a}];_0x262555[_0x5851bb(0x312)]>0x2&&_0x262555['forEach']((_0x4d5549,_0x3a5647)=>{const _0x532445=_0x5851bb;if(_0x3a5647>0x0&&_0x3a5647<_0x262555[_0x532445(0x312)]-0x1){const {missingDay1:_0x3005bb,notInDay2:_0x16ab78}=_0x3fc9c9(_0x262555[_0x3a5647][_0x532445(0x315)],_0x262555[_0x3a5647+0x1][_0x532445(0x315)]);_0x317b9a=[],(_0x3005bb['length']!=0x0||_0x16ab78[_0x532445(0x312)]!=0x0)&&(_0x3005bb[_0x532445(0x312)]!=0x0&&_0x317b9a[_0x532445(0x25f)](..._0x3005bb),_0x16ab78['length']!=0x0&&(_0x16ab78[_0x532445(0x24a)](_0x590256=>{const _0x5c5371=_0x532445;_0x590256[_0x5c5371(0x2e4)]=-_0x590256[_0x5c5371(0x2e4)];}),_0x317b9a[_0x532445(0x25f)](..._0x16ab78)),_0x317b9a['sort']((_0x424e32,_0x451366)=>_0x424e32['coin']>_0x451366['coin']?0x1:_0x451366['coin']>_0x424e32[_0x532445(0x2f2)]?-0x1:0x0),_0x2b0d0a[_0x532445(0x25f)]({'date':_0x262555[_0x3a5647+0x1][_0x532445(0x215)],'changes':_0x317b9a}));}}),dbConfig[_0x5851bb(0x290)](_0x5851bb(0x26d))['find']({'botID':botID})[_0x5851bb(0x1bf)]({..._0x15c4e8,'liquidity':_0x2b0d0a})['write']();}}if(isOlderVersion(_0x2efdfa,_0x5851bb(0x2af))){let _0x533faa=dbConfig[_0x5851bb(0x290)](_0x5851bb(0x26d))[_0x5851bb(0x352)]({'botID':botID})[_0x5851bb(0x321)]();if(_0x533faa){const _0x4fd79a=_0x533faa['exchange'],_0x131fcb=_0x4fd79a?capitalize(_0x4fd79a):_0x5851bb(0x27a);dbConfig[_0x5851bb(0x290)](_0x5851bb(0x26d))[_0x5851bb(0x352)]({'botID':botID})['assign']({'exchange':_0x131fcb})[_0x5851bb(0x1ec)]();}}if(isOlderVersion(_0x2efdfa,'2.6.22')){let _0x398ab0=dbConfig[_0x5851bb(0x290)](_0x5851bb(0x26d))['find']({'botID':botID})[_0x5851bb(0x321)]();if(_0x398ab0){const _0x4d5713=_0x398ab0[_0x5851bb(0x2b2)],_0x1d8fc3=_0x4d5713?_0x5851bb(0x230):![];dbConfig['get'](_0x5851bb(0x26d))[_0x5851bb(0x352)]({'botID':botID})['assign']({'marketcapEnabled':_0x1d8fc3})[_0x5851bb(0x1ec)]();}}let _0x735a3f=dbPerformance[_0x5851bb(0x290)](_0x5851bb(0x2c8))[_0x5851bb(0x321)]();isOlderVersion(_0x735a3f,_0x5851bb(0x212))&&setStartDatePerformance();let _0x5ba3f8=dbCoinResults['get'](_0x5851bb(0x2c8))['value']();if(isOlderVersion(_0x5ba3f8,'2.5.0')){let _0x222dd5=dbCoinResults[_0x5851bb(0x290)](_0x5851bb(0x315))[_0x5851bb(0x321)]();if(_0x222dd5[_0x5851bb(0x312)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x2fec5c=_0x107a91;dbConfig[_0x2fec5c(0x217)]('version',serverversion)[_0x2fec5c(0x1ec)](),dbPerformance[_0x2fec5c(0x217)](_0x2fec5c(0x2c8),serverversion)[_0x2fec5c(0x1ec)](),dbLogs[_0x2fec5c(0x217)](_0x2fec5c(0x2c8),serverversion)[_0x2fec5c(0x1ec)](),dbCoinResults[_0x2fec5c(0x217)](_0x2fec5c(0x2c8),serverversion)[_0x2fec5c(0x1ec)]();}function getConfiguration(_0x208e11){const _0x395bb0=_0x107a91;let _0x5498f0=dbConfig[_0x395bb0(0x290)](_0x395bb0(0x26d))[_0x395bb0(0x352)]({'botID':_0x208e11})[_0x395bb0(0x321)]();if(_0x5498f0){let _0xa84d1c=![];typeof _0x5498f0[_0x395bb0(0x20a)]==_0x395bb0(0x248)&&(_0x5498f0={..._0x5498f0,'threshold':Number(_0x5498f0[_0x395bb0(0x20a)])},_0xa84d1c=!![]),_0x5498f0['change24h']==undefined&&(_0x5498f0={..._0x5498f0,'change24h':-0x14},_0xa84d1c=!![]),_0x5498f0[_0x395bb0(0x34b)]==undefined&&(_0x5498f0={..._0x5498f0,'fiat':_0x395bb0(0x267)},_0xa84d1c=!![]),_0x5498f0[_0x395bb0(0x30c)]==undefined&&(_0x5498f0={..._0x5498f0,'onepagemode':settings[_0x395bb0(0x30c)]},_0xa84d1c=!![]),_0x5498f0['colorscheme']==undefined&&(_0x5498f0={..._0x5498f0,'colorscheme':_0x395bb0(0x2a6)},_0xa84d1c=!![]),_0x5498f0['autoliquidity']==undefined&&(_0x5498f0={..._0x5498f0,'autoliquidity':!![]},_0xa84d1c=!![]),_0x5498f0['marketcapApi']==undefined&&(_0x5498f0={..._0x5498f0,'marketcapApi':settings[_0x395bb0(0x35d)]?!![]:![]},_0xa84d1c=!![]),_0x5498f0['marketcapEnabled']==undefined&&(_0x5498f0={..._0x5498f0,'marketcapEnabled':![]},_0xa84d1c=!![]),_0xa84d1c&&(_0x5498f0={'botID':_0x5498f0[_0x395bb0(0x27d)],'exchange':_0x5498f0[_0x395bb0(0x1da)],'apiKey':_0x5498f0[_0x395bb0(0x25b)],'apiSecret':_0x5498f0[_0x395bb0(0x216)],'apiPassword':_0x5498f0[_0x395bb0(0x280)],'basecoin':_0x5498f0['basecoin'],'botname':_0x5498f0[_0x395bb0(0x221)],'showname':_0x5498f0[_0x395bb0(0x1e8)],'threshold':_0x5498f0[_0x395bb0(0x20a)],'ordertype':_0x5498f0[_0x395bb0(0x1e5)],'timeout':_0x5498f0[_0x395bb0(0x320)],'fiat':_0x5498f0['fiat'],'startdate':_0x5498f0[_0x395bb0(0x34d)],'recreate':_0x5498f0[_0x395bb0(0x245)],'timeshift':_0x5498f0[_0x395bb0(0x206)],'onepagemode':_0x5498f0[_0x395bb0(0x30c)],'headless':_0x5498f0[_0x395bb0(0x214)],'cooldown':_0x5498f0[_0x395bb0(0x30d)],'change24h':_0x5498f0['change24h'],'emojibuy':_0x5498f0['emojibuy'],'emojisell':_0x5498f0['emojisell'],'colorscheme':_0x5498f0['colorscheme'],'marketcapApi':_0x5498f0[_0x395bb0(0x35d)],'marketcapEnabled':_0x5498f0[_0x395bb0(0x2b2)],'portfolio':_0x5498f0['portfolio'],'autoliquidity':_0x5498f0[_0x395bb0(0x263)],'liquidity':_0x5498f0[_0x395bb0(0x23f)],'openOrders':_0x5498f0[_0x395bb0(0x33c)]},dbConfig[_0x395bb0(0x290)]('bot')['remove']()[_0x395bb0(0x1ec)](),dbConfig[_0x395bb0(0x290)](_0x395bb0(0x26d))['push'](_0x5498f0)[_0x395bb0(0x1ec)]());}else _0x5498f0={'botID':_0x208e11,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x395bb0(0x2b9)+_0x208e11,'showname':![],'threshold':0x3,'ordertype':_0x395bb0(0x31d),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x395bb0(0x206)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x395bb0(0x35d)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5498f0;}function emittedConfiguration(){const _0x194d80=_0x107a91;let _0x227252;if(config[_0x194d80(0x25b)]=='')_0x227252={...config,'configstate':_0x194d80(0x1ff)};else config[_0x194d80(0x25b)]==_0x194d80(0x243)?_0x227252={...config,'configstate':_0x194d80(0x317)}:(_0x227252={...config,'apiKey':_0x194d80(0x1f4),'apiSecret':_0x194d80(0x1f4)},config[_0x194d80(0x280)]&&(_0x227252[_0x194d80(0x280)]=_0x194d80(0x1f4)));return _0x227252;}function getSettings(){const _0x6092a3=_0x107a91;return dbSettings[_0x6092a3(0x290)]('settings')[_0x6092a3(0x321)]();}function getSecure(){const _0x5495fe=_0x107a91;return dbSecure[_0x5495fe(0x290)](_0x5495fe(0x25c))[_0x5495fe(0x321)]()||{};}function updateTimeshift(_0xa0b07b){const _0x470fb2=_0x107a91;let _0x4051d8=dbConfig[_0x470fb2(0x290)]('bot')['find']({'botID':botID})['value']();_0x4051d8&&dbConfig[_0x470fb2(0x290)](_0x470fb2(0x26d))[_0x470fb2(0x352)]({'botID':botID})[_0x470fb2(0x1bf)]({'timeshift':_0xa0b07b})[_0x470fb2(0x1ec)](),config[_0x470fb2(0x206)]=_0xa0b07b,proxyEmit(_0x470fb2(0x31c),emittedConfiguration());}function updateOnepagemode(_0x5e44fe){const _0x23feed=_0x107a91;let _0xfb07fe=dbConfig[_0x23feed(0x290)](_0x23feed(0x26d))[_0x23feed(0x352)]({'botID':botID})[_0x23feed(0x321)]();_0xfb07fe&&dbConfig[_0x23feed(0x290)](_0x23feed(0x26d))[_0x23feed(0x352)]({'botID':botID})[_0x23feed(0x1bf)]({'onepagemode':_0x5e44fe})[_0x23feed(0x1ec)](),config[_0x23feed(0x30c)]=_0x5e44fe,proxyEmit(_0x23feed(0x31c),emittedConfiguration());}function updateMarketcapApi(_0x2ac881){const _0x3a0fbf=_0x107a91,_0x4c33cd=_0x2ac881?!![]:![];let _0x40210a=dbConfig['get']('bot')[_0x3a0fbf(0x352)]({'botID':botID})[_0x3a0fbf(0x321)]();_0x40210a&&dbConfig[_0x3a0fbf(0x290)]('bot')[_0x3a0fbf(0x352)]({'botID':botID})[_0x3a0fbf(0x1bf)]({'marketcapApi':_0x4c33cd})[_0x3a0fbf(0x1ec)](),config[_0x3a0fbf(0x35d)]=_0x4c33cd,getMarketCap(),proxyEmit(_0x3a0fbf(0x31c),emittedConfiguration());}async function storeConfiguration(_0x5a694c){const _0x2cdcdc=_0x107a91;logger[_0x2cdcdc(0x261)](_0x2cdcdc(0x319));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x2cdcdc(0x261)]('Transaction\x20detection\x20blocked');let _0x36b837=![],_0x301896=![],_0x11e154=[];_0x5a694c['portfolio'][_0x2cdcdc(0x24a)](_0x3ccd68=>{const _0x1e39b9=_0x2cdcdc;if(!_0x3ccd68[_0x1e39b9(0x335)]&&_0x3ccd68[_0x1e39b9(0x2f2)]!=_0x5a694c[_0x1e39b9(0x241)])_0x11e154[_0x1e39b9(0x25f)](_0x3ccd68[_0x1e39b9(0x34f)]);}),_0x11e154[_0x2cdcdc(0x24a)](_0x31e65e=>{const _0x21a4d1=_0x2cdcdc,_0x1db7bd=currentCoins[_0x21a4d1(0x352)](_0x18db97=>_0x18db97[_0x21a4d1(0x34f)]==_0x31e65e);!_0x1db7bd&&(_0x36b837=!![]);}),currentCoins[_0x2cdcdc(0x24a)](_0x3585f6=>{const _0x47d7e4=_0x2cdcdc;if(_0x3585f6[_0x47d7e4(0x2f2)]!=config[_0x47d7e4(0x241)]){const _0x3c8762=_0x11e154[_0x47d7e4(0x352)](_0x63e73a=>_0x63e73a==_0x3585f6[_0x47d7e4(0x34f)]);!_0x3c8762&&(_0x36b837=!![]);}}),_0x5a694c['portfolio'][_0x2cdcdc(0x24a)](_0x5b0437=>{const _0x2f2423=_0x2cdcdc,_0x467355=config[_0x2f2423(0x346)][_0x2f2423(0x352)](_0x37cc26=>_0x37cc26[_0x2f2423(0x2f2)]==_0x5b0437['coin']);if(_0x467355&&_0x5b0437[_0x2f2423(0x325)]!=_0x467355[_0x2f2423(0x325)])_0x301896=!![];});let _0x51ef11=dbConfig[_0x2cdcdc(0x290)](_0x2cdcdc(0x26d))['find']({'botID':botID})[_0x2cdcdc(0x321)]();_0x5a694c={..._0x5a694c,'apiKey':crypt[_0x2cdcdc(0x345)](secure[_0x2cdcdc(0x2f6)],_0x5a694c['apiKey'])[_0x2cdcdc(0x2bd)],'apiSecret':crypt['decrypt'](secure[_0x2cdcdc(0x2f6)],_0x5a694c[_0x2cdcdc(0x216)])[_0x2cdcdc(0x2bd)]};_0x5a694c[_0x2cdcdc(0x280)]&&(_0x5a694c[_0x2cdcdc(0x280)]=crypt['decrypt'](secure[_0x2cdcdc(0x2f6)],_0x5a694c[_0x2cdcdc(0x280)])['message']);let _0x20b8b6=![];if(_0x51ef11){_0x5a694c['apiKey']==_0x2cdcdc(0x1f4)?_0x5a694c['apiKey']=config['apiKey']:_0x20b8b6=!![];_0x5a694c['apiSecret']==_0x2cdcdc(0x1f4)?_0x5a694c[_0x2cdcdc(0x216)]=config[_0x2cdcdc(0x216)]:_0x20b8b6=!![];if(_0x5a694c[_0x2cdcdc(0x280)]==_0x2cdcdc(0x1f4))_0x5a694c[_0x2cdcdc(0x280)]=config[_0x2cdcdc(0x280)];else{if(_0x5a694c[_0x2cdcdc(0x280)])_0x20b8b6=!![];}dbConfig[_0x2cdcdc(0x290)]('bot')[_0x2cdcdc(0x352)]({'botID':botID})[_0x2cdcdc(0x1bf)](_0x5a694c)[_0x2cdcdc(0x1ec)]();}else dbConfig['get'](_0x2cdcdc(0x26d))[_0x2cdcdc(0x25f)](_0x5a694c)[_0x2cdcdc(0x1ec)](),_0x20b8b6=!![],process[_0x2cdcdc(0x1eb)]({'status':_0x2cdcdc(0x1ef),'live':_0x2cdcdc(0x336)},_0x2356b6=>{});process['send']({'botname':_0x5a694c[_0x2cdcdc(0x221)]},_0xfb27d0=>{}),config={..._0x5a694c},updateBotManager(),proxyEmit(_0x2cdcdc(0x1d5)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x20b8b6)await reset(!![]);else _0x36b837||_0x301896?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x2cdcdc(0x261)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x4d64b7){const _0x5d15d7=_0x107a91,_0x15ad3f={...config,'headless':_0x4d64b7[_0x5d15d7(0x214)]};let _0x3debdc=dbConfig[_0x5d15d7(0x290)](_0x5d15d7(0x26d))['find']({'botID':botID})[_0x5d15d7(0x321)]();_0x3debdc&&dbConfig['get'](_0x5d15d7(0x26d))[_0x5d15d7(0x352)]({'botID':botID})['assign'](_0x15ad3f)[_0x5d15d7(0x1ec)](),config={..._0x15ad3f},updateBotManager(),proxyEmit(_0x5d15d7(0x31c),emittedConfiguration());}async function storeFiat(_0x386690){const _0x21e0dd=_0x107a91,_0x2d0374={...config,'fiat':_0x386690};let _0x2a230b=dbConfig['get'](_0x21e0dd(0x26d))[_0x21e0dd(0x352)]({'botID':botID})['value']();_0x2a230b&&dbConfig[_0x21e0dd(0x290)](_0x21e0dd(0x26d))['find']({'botID':botID})[_0x21e0dd(0x1bf)](_0x2d0374)[_0x21e0dd(0x1ec)](),config={..._0x2d0374},proxyEmit(_0x21e0dd(0x31c),emittedConfiguration());}function resetHistory(){const _0x4846e5=_0x107a91;logger[_0x4846e5(0x247)]('Resetting\x20bot\x20history');try{if(fs['existsSync'](path[_0x4846e5(0x1e2)](configpath,_0x4846e5(0x29b)+botID+_0x4846e5(0x27f))))fs[_0x4846e5(0x1c4)](path[_0x4846e5(0x1e2)](configpath,_0x4846e5(0x29b)+botID+_0x4846e5(0x27f)));if(fs[_0x4846e5(0x23a)](path[_0x4846e5(0x1e2)](configpath,_0x4846e5(0x29b)+botID+'-performance.json')))fs[_0x4846e5(0x1c4)](path[_0x4846e5(0x1e2)](configpath,_0x4846e5(0x29b)+botID+_0x4846e5(0x2f1)));if(fs[_0x4846e5(0x23a)](path[_0x4846e5(0x1e2)](configpath,_0x4846e5(0x29b)+botID+_0x4846e5(0x272))))fs[_0x4846e5(0x1c4)](path['join'](configpath,_0x4846e5(0x29b)+botID+_0x4846e5(0x272)));}catch(_0x32282a){if(_0x32282a)logger[_0x4846e5(0x247)](_0x4846e5(0x2a2),_0x32282a);}const _0x2bcf5c=getDate();let _0x2f8e4d=[];currentCoins[_0x4846e5(0x24a)](_0x34227a=>{const _0x2878a0=_0x4846e5;_0x2f8e4d[_0x2878a0(0x25f)]({'coin':_0x34227a['coin'],'number':_0x34227a[_0x2878a0(0x2e4)],'price':_0x34227a[_0x2878a0(0x200)]});});let _0x3d9145=dbConfig[_0x4846e5(0x290)](_0x4846e5(0x26d))[_0x4846e5(0x352)]({'botID':botID})[_0x4846e5(0x321)]();_0x3d9145&&(dbConfig[_0x4846e5(0x290)](_0x4846e5(0x26d))['find']({'botID':botID})[_0x4846e5(0x1bf)]({'liquidity':[{'date':_0x2bcf5c,'changes':_0x2f8e4d}]})['write'](),config[_0x4846e5(0x23f)]=[]),process[_0x4846e5(0x1eb)]({'stop':_0x4846e5(0x322)},_0x3ec172=>{});}function noslash(_0x4db425){const _0x120bc0=_0x107a91;return _0x4db425[_0x120bc0(0x251)]('/','');}function updateHighestFee(_0x21b3cc){const _0x7a9c0f=_0x107a91;if(_0x21b3cc['reverse']){let _0x479f97={'filled':_0x21b3cc[_0x7a9c0f(0x259)]*_0x21b3cc['price'],'amount':_0x21b3cc[_0x7a9c0f(0x259)]*_0x21b3cc['price'],'side':_0x21b3cc[_0x7a9c0f(0x2f5)]=='sell'?_0x7a9c0f(0x1dc):_0x7a9c0f(0x26f),'price':0x1/_0x21b3cc['price']};_0x21b3cc={..._0x21b3cc,..._0x479f97};}const _0x3adaed=defaultFee*_0x21b3cc['filled']*_0x21b3cc['price'];lastFees[_0x7a9c0f(0x29c)][_0x7a9c0f(0x312)]===0x14&&lastFees[_0x7a9c0f(0x29c)]['shift'](),lastFees['recent20'][_0x7a9c0f(0x25f)](_0x3adaed),lastFees['highest']=Math[_0x7a9c0f(0x2be)](...lastFees[_0x7a9c0f(0x29c)]);}async function updateNumberCoinsCcxt(_0x5de552){const _0xd8ec0d=_0x107a91;logger['debug']('0\x20-\x20EXECUTION:\x20'+_0x5de552[_0xd8ec0d(0x34f)]+'\x20|\x20'+_0x5de552[_0xd8ec0d(0x2a7)]+_0xd8ec0d(0x1e0)+_0x5de552[_0xd8ec0d(0x259)]+'\x20/\x20'+_0x5de552[_0xd8ec0d(0x29d)]+_0xd8ec0d(0x1e0)+_0x5de552['id']);let _0x35c313=_0x5de552[_0xd8ec0d(0x2a7)],_0x34109a=![];currentCoins[_0xd8ec0d(0x24a)](_0x3fb356=>{const _0x202e37=_0xd8ec0d;_0x3fb356[_0x202e37(0x34f)]==_0x5de552['symbol']&&(_0x34109a=!![]);});if(!_0x34109a)return;const _0x577f2a=currentCoins[_0xd8ec0d(0x352)](_0x4f94bf=>_0x4f94bf[_0xd8ec0d(0x34f)]==_0x5de552[_0xd8ec0d(0x34f)]),_0x169bdb=_0x7765ac=>{if(_0x577f2a)_0x577f2a['orderstatus']=_0x7765ac;};if(_0x35c313==_0xd8ec0d(0x1bd))_0x169bdb(_0xd8ec0d(0x1bd));else{if(_0x35c313=='canceled'){_0x169bdb(_0xd8ec0d(0x26b));const _0xee354a=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xee354a,await getOpenOrders(),handleOpenOrders();}else{if(_0x35c313==_0xd8ec0d(0x1f9)){let _0x1519da=![];if(lastOrders)for(const _0x362b60 of lastOrders){const _0x5d125b=0xc8,_0x4999e8=0x1388;let _0x6a8414=0x0;while(!_0x362b60[_0xd8ec0d(0x316)]&&_0x6a8414*_0x5d125b<_0x4999e8){_0x6a8414++,await sleep(_0x5d125b);}if(_0x6a8414>0x0)logger[_0xd8ec0d(0x261)](_0xd8ec0d(0x329)+_0x6a8414*_0x5d125b/0x3e8+_0xd8ec0d(0x304));if(_0x362b60[_0xd8ec0d(0x316)]==_0x5de552['id']){logger[_0xd8ec0d(0x261)](_0xd8ec0d(0x34a)+_0x5de552['id']),_0x1519da=!![];if(_0x362b60[_0xd8ec0d(0x259)]==0x0){logger[_0xd8ec0d(0x261)]('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x5de552['id']);if(_0x5de552[_0xd8ec0d(0x35e)])_0x362b60[_0xd8ec0d(0x318)]=_0x5de552[_0xd8ec0d(0x35e)];else{if(_0x5de552[_0xd8ec0d(0x318)])_0x362b60[_0xd8ec0d(0x318)]=_0x5de552[_0xd8ec0d(0x318)];else{}}_0x362b60['filled']=_0x5de552[_0xd8ec0d(0x259)],updateHighestFee(_0x362b60),_0x169bdb('filled'),await validateOrders();if(lockOrders==ORDERS[_0xd8ec0d(0x264)]){const _0x2d1e52=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2d1e52;}_0x362b60[_0xd8ec0d(0x2e2)]={'currency':_0x5de552[_0xd8ec0d(0x2e2)]?_0x5de552['fee'][_0xd8ec0d(0x219)]:null,'cost':_0x5de552['fee']?_0x5de552[_0xd8ec0d(0x2e2)][_0xd8ec0d(0x225)]:0x0},await updateCoinResults(_0x362b60);}}}if(!_0x1519da){logger['debug'](_0xd8ec0d(0x289)+_0x5de552['id']),_0x169bdb(_0xd8ec0d(0x259));const _0x21f23b=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x21f23b,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x529bbe=JSON[_0xd8ec0d(0x1d7)](lastBalances[_0xd8ec0d(0x346)]);const _0x543ee5=_0x529bbe['find'](_0x5e541e=>_0x5e541e['symbol']==_0x5de552[_0xd8ec0d(0x34f)]);if(_0x543ee5){if(_0x35c313==_0xd8ec0d(0x1bd))_0x543ee5[_0xd8ec0d(0x1c8)]=_0x543ee5[_0xd8ec0d(0x1c8)]==_0xd8ec0d(0x259)?'filled':_0xd8ec0d(0x1bd);else{if(_0x35c313==_0xd8ec0d(0x26b))_0x543ee5[_0xd8ec0d(0x1c8)]=_0x543ee5['orderstatus']=='filled'?_0xd8ec0d(0x259):'canceled';else _0x35c313==_0xd8ec0d(0x1f9)&&(_0x543ee5[_0xd8ec0d(0x1c8)]=_0xd8ec0d(0x259));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x529bbe)},proxyEmit(_0xd8ec0d(0x2a0),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x56fea1=_0x107a91;await getOpenOrders();let _0x17056c=![];currentCoins[_0x56fea1(0x24a)](_0x2348f2=>{const _0x23dca2=_0x56fea1;_0x17056c=allOpenOrders[_0x23dca2(0x352)](_0xf1b44b=>_0xf1b44b[_0x23dca2(0x34f)]==_0x2348f2['symbol']),_0x2348f2[_0x23dca2(0x1c8)]=_0x17056c?_0x23dca2(0x1bd):_0x23dca2(0x33f);});}async function getCoins(_0x3895b4=0x0,_0x51213f=!![],_0x3c414d=config['basecoin']){const _0x474e63=_0x107a91;let _0x41f574,_0x130f88=[],_0x303c97=[],_0x385daf=[];if(_0x3895b4)await sleep(_0x3895b4);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x41f574=await exchange['fetchBalance'](),mybalances=_0x41f574[_0x474e63(0x20b)];for(const [_0x8ca75e,_0x4db8e0]of Object[_0x474e63(0x293)](mybalances)){_0x385daf['push'](_0x8ca75e);}config[_0x474e63(0x346)][_0x474e63(0x24a)](_0x26e098=>{const _0x321d36=_0x474e63;!_0x385daf[_0x321d36(0x358)](_0x26e098['coin'])&&(mybalances[_0x26e098[_0x321d36(0x2f2)]]=0x0);});if(_0x3c414d=='')for(const [_0x5765d4,_0x2f5e00]of Object['entries'](mybalances)){_0x2f5e00!=0x0&&_0x130f88['push']({'coin':_0x5765d4});}else for(const [_0x1c028c,_0x21d741]of Object['entries'](mybalances)){const _0x56826d=config['portfolio']['find'](_0x410398=>_0x410398[_0x474e63(0x2f2)]==_0x1c028c),_0x4b7c77=_0x1c028c+'/'+_0x3c414d,_0x598caf=_0x3c414d+'/'+_0x1c028c,_0x4bcc75=currentCoins[_0x474e63(0x352)](_0x14cc44=>_0x14cc44[_0x474e63(0x2f2)]==_0x1c028c);if((_0x21d741!=0x0||_0x56826d)&&(allSymbols[_0x474e63(0x358)](_0x4b7c77)||_0x1c028c==_0x3c414d))_0x4bcc75?_0x130f88[_0x474e63(0x25f)]({..._0x4bcc75,'number':Math[_0x474e63(0x2be)](_0x21d741+(_0x56826d&&_0x56826d[_0x474e63(0x325)]||0x0),0x0)}):_0x130f88['push']({'coin':_0x1c028c,'symbol':_0x4b7c77,'reverse':![],'number':Math['max'](_0x21d741+(_0x56826d&&_0x56826d['offset']||0x0),0x0),'orderstatus':_0x474e63(0x33f)});else{if((_0x21d741!=0x0||_0x56826d)&&allSymbols[_0x474e63(0x358)](_0x598caf))_0x4bcc75?_0x130f88[_0x474e63(0x25f)]({..._0x4bcc75,'number':Math['max'](_0x21d741+(_0x56826d&&_0x56826d[_0x474e63(0x325)]||0x0),0x0)}):_0x130f88[_0x474e63(0x25f)]({'coin':_0x1c028c,'symbol':_0x598caf,'reverse':!![],'number':Math[_0x474e63(0x2be)](_0x21d741+(_0x56826d&&_0x56826d[_0x474e63(0x325)]||0x0),0x0),'orderstatus':_0x474e63(0x33f)});else _0x56826d&&_0x130f88[_0x474e63(0x25f)]({'coin':_0x56826d['coin'],'symbol':_0x56826d[_0x474e63(0x34f)],'reverse':_0x56826d[_0x474e63(0x202)],'number':0x0,'orderstatus':_0x474e63(0x33f)});}}}catch(_0x2e90d2){if(!_0x51213f)handleErrorNoStop(_0x2e90d2,_0x474e63(0x307));else await handleError(_0x2e90d2,_0x474e63(0x307));}return _0x130f88[_0x474e63(0x253)]((_0x40dce0,_0x46fe22)=>_0x40dce0[_0x474e63(0x31f)]<_0x46fe22[_0x474e63(0x31f)]?0x1:_0x46fe22[_0x474e63(0x31f)]<_0x40dce0[_0x474e63(0x31f)]?-0x1:0x0),_0x303c97=cloneDeep(_0x130f88),_0x130f88=_0x130f88[_0x474e63(0x242)](_0x5cf6ed=>{const _0x387d77=_0x474e63,_0x5e7f94=config[_0x387d77(0x346)][_0x387d77(0x352)](_0x62c0c7=>_0x62c0c7['coin']==_0x5cf6ed[_0x387d77(0x2f2)]);return _0x5e7f94&&!_0x5e7f94[_0x387d77(0x335)];}),[_0x130f88,_0x303c97];}async function getCoinNumber(_0x30ab73){const _0x2a1afd=_0x107a91;let _0x18ce29;try{const _0x452c57=await exchange[_0x2a1afd(0x276)]();_0x18ce29=_0x452c57[_0x2a1afd(0x20b)][_0x30ab73];}catch(_0x4078b6){await handleError(_0x4078b6,_0x2a1afd(0x35c));}return _0x18ce29;}async function getOpenOrders(){const _0x1f3fce=_0x107a91;let _0xfe1299;allOpenOrders=[];try{for(const _0xebece5 of config['portfolio']){!_0xebece5[_0x1f3fce(0x335)]&&_0xebece5[_0x1f3fce(0x2f2)]!=config[_0x1f3fce(0x241)]&&(_0xfe1299=await exchange[_0x1f3fce(0x34e)](_0xebece5[_0x1f3fce(0x34f)]),_0xfe1299[_0x1f3fce(0x312)]>0x0&&allOpenOrders[_0x1f3fce(0x25f)](_0xfe1299[0x0]));}}catch(_0x44909b){await handleError(_0x44909b,_0x1f3fce(0x2ca));}}async function handleOpenOrders(_0x526a30=0x0){const _0x30ff9e=_0x107a91;allOpenOrders[_0x30ff9e(0x312)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x526a30==0x0?(logger[_0x30ff9e(0x261)]('1\x20-\x20Handle\x20open\x20orders'),_0x526a30++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x30ff9e(0x261)](_0x30ff9e(0x238)),validateOrders(_0x30ff9e(0x1f6))));}async function testAPI(_0x5cbaaa){const _0x4cb38b=_0x107a91,_0x101fa3=ccxt[_0x4cb38b(0x2b5)][_0x5cbaaa[_0x4cb38b(0x1da)][_0x4cb38b(0x260)]()],_0x1f8763=new _0x101fa3({'apiKey':_0x5cbaaa[_0x4cb38b(0x25b)],'secret':_0x5cbaaa[_0x4cb38b(0x216)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x5cbaaa[_0x4cb38b(0x280)])_0x1f8763['password']=_0x5cbaaa['apiPassword'];try{await _0x1f8763[_0x4cb38b(0x2d2)]();}catch(_0x334f31){throw _0x334f31;}}function cloneDeep(_0x350d96){const _0x468426=_0x107a91;return JSON[_0x468426(0x1d7)](JSON[_0x468426(0x2e3)](_0x350d96));}async function getPortfolio(_0xc6717f){const _0x1a13d4=_0x107a91;let _0x55323f=[],_0x2ebe4e=[],_0x5c61a9=[],_0xa5428b;if(_0xc6717f[_0x1a13d4(0x25b)]!=='************'||_0xc6717f['apiSecret']!==_0x1a13d4(0x1f4)||_0xc6717f[_0x1a13d4(0x280)]&&_0xc6717f[_0x1a13d4(0x280)]!=='************'){if(config['exchange']){if(_0xc6717f['apiKey']==_0x1a13d4(0x1f4))_0xc6717f[_0x1a13d4(0x25b)]=config['apiKey'];if(_0xc6717f[_0x1a13d4(0x216)]==_0x1a13d4(0x1f4))_0xc6717f[_0x1a13d4(0x216)]=config[_0x1a13d4(0x216)];if(_0xc6717f[_0x1a13d4(0x280)]==_0x1a13d4(0x1f4))_0xc6717f[_0x1a13d4(0x280)]=config[_0x1a13d4(0x280)];try{await testAPI(_0xc6717f);}catch(_0x2e04f0){if(_0x2e04f0[_0x1a13d4(0x334)]()['includes'](_0x1a13d4(0x22f))){logger[_0x1a13d4(0x261)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x1a13d4(0x346),![]);return;}else{handleError(_0x2e04f0,_0x1a13d4(0x29e));return;}}}await initExchange(_0xc6717f[_0x1a13d4(0x1da)],_0xc6717f[_0x1a13d4(0x25b)],_0xc6717f[_0x1a13d4(0x216)],_0xc6717f[_0x1a13d4(0x280)]);try{await loadSymbols();}catch(_0xad7910){if(_0xad7910['toString']()[_0x1a13d4(0x358)]('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0xad7910,_0x1a13d4(0x1b6));return;}}const _0x1bd824=await getCoins(0x0,![],_0xc6717f[_0x1a13d4(0x241)]);_0x5c61a9=cloneDeep(_0x1bd824[0x1]);}else{const _0x1af9ab=await getCoins();_0x5c61a9=cloneDeep(_0x1af9ab[0x1]);}if(_0xc6717f[_0x1a13d4(0x241)]=='')proxyEmit(_0x1a13d4(0x346),_0x5c61a9);else{_0x5c61a9['forEach'](_0x292dc5=>{const _0x21a50d=_0x1a13d4;if(_0x292dc5[_0x21a50d(0x2f2)]!=_0xc6717f['basecoin']&&allSymbols[_0x21a50d(0x358)](_0x292dc5['symbol']))_0x55323f[_0x21a50d(0x25f)](_0x292dc5[_0x21a50d(0x34f)]);});if(_0x55323f[_0x1a13d4(0x312)]==0x0)logHistory(_0x1a13d4(0x308),_0x1a13d4(0x244));else{try{_0x2ebe4e=await getTickers(_0x55323f);}catch(_0x401e03){if(_0x401e03[_0x1a13d4(0x334)]()['includes']('AuthenticationError')){proxyEmit(_0x1a13d4(0x346),![]);return;}else handleError(_0x401e03,_0x1a13d4(0x311));}_0x5c61a9[_0x1a13d4(0x24a)](_0x5ec47d=>{const _0x51e3f1=_0x1a13d4;_0x5ec47d[_0x51e3f1(0x2f2)]!=_0xc6717f[_0x51e3f1(0x241)]?_0x2ebe4e[_0x5ec47d[_0x51e3f1(0x34f)]]?_0xa5428b=_0x5ec47d[_0x51e3f1(0x202)]?0x1/_0x2ebe4e[_0x5ec47d['symbol']][_0x51e3f1(0x200)]:_0x2ebe4e[_0x5ec47d[_0x51e3f1(0x34f)]][_0x51e3f1(0x200)]:_0xa5428b=0x0:_0xa5428b=0x1,_0x5ec47d['price']=formatResult(_0xa5428b,0x8);}),await getMarketCap(_0x5c61a9),proxyEmit(_0x1a13d4(0x346),_0x5c61a9);}}}function truncateTradeAmount(_0x2329f4,_0xaa0c4a){const _0x2389c2=_0x107a91;let _0x134b2e=0x0;try{_0x134b2e=exchange[_0x2389c2(0x341)](_0x2329f4,_0xaa0c4a);}catch(_0x349c28){}return _0x134b2e;}function checkMinimums(_0x15b8ca){const _0x2125f2=_0x107a91;let _0x5bdeb2=!![];const _0x54d73b=!_0x15b8ca['reverse']?markets[_0x15b8ca['symbol']][_0x2125f2(0x21d)][_0x2125f2(0x29d)][_0x2125f2(0x218)]:markets[_0x15b8ca[_0x2125f2(0x34f)]]['limits'][_0x2125f2(0x225)][_0x2125f2(0x218)],_0x40656a=!_0x15b8ca[_0x2125f2(0x202)]?markets[_0x15b8ca['symbol']][_0x2125f2(0x21d)][_0x2125f2(0x225)][_0x2125f2(0x218)]:markets[_0x15b8ca[_0x2125f2(0x34f)]][_0x2125f2(0x21d)][_0x2125f2(0x29d)]['min'],_0x1baac4=truncateTradeAmount(_0x15b8ca[_0x2125f2(0x34f)],_0x15b8ca['trade']);_0x15b8ca[_0x2125f2(0x1de)]=_0x1baac4;if(Math[_0x2125f2(0x1f5)](_0x1baac4)<_0x54d73b)_0x5bdeb2=![];if(Math['abs'](_0x1baac4)*_0x15b8ca['last']<_0x40656a)_0x5bdeb2=![];if(_0x15b8ca['side']==_0x2125f2(0x26f)){let _0x547e98=config[_0x2125f2(0x346)][_0x2125f2(0x352)](_0x5a680b=>_0x5a680b[_0x2125f2(0x2f2)]==_0x15b8ca[_0x2125f2(0x2f2)]);if(_0x547e98['offset']>0x0){if(Math['abs'](_0x1baac4)>_0x15b8ca[_0x2125f2(0x2e4)]-_0x547e98[_0x2125f2(0x325)])_0x5bdeb2=![];}else{if(Math[_0x2125f2(0x1f5)](_0x1baac4)>_0x15b8ca[_0x2125f2(0x2e4)])_0x5bdeb2=![];}}if(_0x15b8ca[_0x2125f2(0x2f5)]==_0x2125f2(0x1dc)){let _0x3d82eb=config['portfolio'][_0x2125f2(0x352)](_0x2f6bb9=>_0x2f6bb9[_0x2125f2(0x2f2)]==config[_0x2125f2(0x241)]),_0x63115c=currentCoins[_0x2125f2(0x352)](_0x4d2a28=>_0x4d2a28[_0x2125f2(0x2f2)]==config[_0x2125f2(0x241)]);if(_0x3d82eb['offset']>0x0){if(Math['abs'](_0x1baac4)*_0x15b8ca[_0x2125f2(0x200)]>_0x63115c[_0x2125f2(0x2e4)]-_0x3d82eb[_0x2125f2(0x325)])_0x5bdeb2=![];}else{if(Math[_0x2125f2(0x1f5)](_0x1baac4)*_0x15b8ca['last']>_0x63115c[_0x2125f2(0x2e4)])_0x5bdeb2=![];}}return _0x5bdeb2;}async function getBalances(_0x3c1e5c=!![]){const _0xb24872=_0x107a91;let _0x5a7672=0x0,_0x2a4674;const _0x12dbd8=config['threshold'];if(config[_0xb24872(0x214)]&&config[_0xb24872(0x205)]<0x0)await validate24hChanges();currentCoins[_0xb24872(0x24a)](_0x368420=>{const _0xf746a5=_0xb24872;if(_0x368420['coin']!=config[_0xf746a5(0x241)]){let _0x296cf7=global[_0xf746a5(0x33a)][noslash(_0x368420[_0xf746a5(0x34f)])];_0x2a4674=_0x368420['reverse']?0x1/_0x296cf7:_0x296cf7;}else _0x2a4674=0x1;let _0x208833=_0x368420['number']*_0x2a4674;_0x5a7672+=_0x208833,_0x368420[_0xf746a5(0x200)]=formatResult(Number(_0x2a4674),0x8),_0x368420[_0xf746a5(0x321)]=_0x208833;}),currentCoins['forEach'](_0x5ce0d7=>{const _0x5d4788=_0xb24872;let _0x37f369=config[_0x5d4788(0x346)]['find'](_0x3bf442=>_0x3bf442[_0x5d4788(0x2f2)]==_0x5ce0d7[_0x5d4788(0x2f2)]),_0x146cca=Number(_0x37f369[_0x5d4788(0x1cd)]),_0x1c6af8=_0x5ce0d7[_0x5d4788(0x321)]/_0x5a7672*0x64,_0x758a96=_0x146cca*_0x5a7672/0x64/_0x5ce0d7['last']-_0x5ce0d7[_0x5d4788(0x2e4)];_0x5ce0d7[_0x5d4788(0x1cd)]=formatResult(_0x1c6af8,0x3),_0x5ce0d7[_0x5d4788(0x32b)]=formatResult(_0x146cca,0x3),_0x5ce0d7['trade']=formatResult(_0x758a96,0x8),_0x5ce0d7[_0x5d4788(0x2f5)]='',_0x5ce0d7[_0x5d4788(0x342)]=![];if(_0x5ce0d7[_0x5d4788(0x2f2)]!=config['basecoin']){if(_0x5ce0d7[_0x5d4788(0x1cd)]>_0x146cca)_0x5ce0d7[_0x5d4788(0x2f5)]=_0x5d4788(0x26f),_0x5ce0d7[_0x5d4788(0x342)]=checkMinimums(_0x5ce0d7);else _0x5ce0d7[_0x5d4788(0x1cd)]<_0x146cca&&(_0x5ce0d7[_0x5d4788(0x2f5)]=_0x5d4788(0x1dc),_0x5ce0d7[_0x5d4788(0x342)]=checkMinimums(_0x5ce0d7));}_0x5ce0d7[_0x5d4788(0x31f)]=_0x5ce0d7[_0x5d4788(0x1cd)]/_0x5ce0d7['target']-0x1;if(_0x5ce0d7[_0x5d4788(0x1c8)]==_0x5d4788(0x259)||_0x5ce0d7[_0x5d4788(0x1c8)]==_0x5d4788(0x26b))_0x5ce0d7['orderstatus']='none';}),currentCoins[_0xb24872(0x253)]((_0x3b9782,_0x411281)=>_0x3b9782[_0xb24872(0x31f)]<_0x411281[_0xb24872(0x31f)]?0x1:_0x411281[_0xb24872(0x31f)]<_0x3b9782[_0xb24872(0x31f)]?-0x1:0x0);const _0x31ac6c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x31ac6c[_0xb24872(0x303)],'usd':_0x31ac6c[_0xb24872(0x1c9)],'portfolio':JSON[_0xb24872(0x2e3)](currentCoins),'threshold':_0x12dbd8},proxyEmit(_0xb24872(0x2a0),{'serverversion':serverversion,'balances':lastBalances});if(_0x3c1e5c){if(config[_0xb24872(0x214)])headlessMode({'portfolio':currentCoins,'threshold':_0x12dbd8});else{if(lockOrders==ORDERS[_0xb24872(0x273)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x12dbd8});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x3424d7=getNormalizedPerformance();getStartingBalances(_0x3424d7),emitPerformance(_0x3424d7);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x34a540=getNormalizedPerformance();emitPerformance(_0x34a540),getStartingBalances(_0x34a540),logger['debug'](_0xb24872(0x2e1));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4b158c=_0x107a91;if(!lastBalances)return;let _0x25fbfe=[],_0x35d398,_0x2915f4=JSON[_0x4b158c(0x1d7)](lastBalances[_0x4b158c(0x346)]);_0x2915f4[_0x4b158c(0x253)]((_0x22c98d,_0x51cab0)=>_0x22c98d[_0x4b158c(0x2f2)]>_0x51cab0['coin']?0x1:_0x51cab0['coin']>_0x22c98d[_0x4b158c(0x2f2)]?-0x1:0x0),_0x2915f4['forEach'](_0x1acf00=>{const _0x98c4aa=_0x4b158c;let _0x7c7614={'coin':_0x1acf00['coin'],'number':_0x1acf00['number'],'price':_0x1acf00[_0x98c4aa(0x200)]};_0x25fbfe[_0x98c4aa(0x25f)](_0x7c7614);});const _0x3ae643=await getFiat();_0x35d398={'date':lastBalances[_0x4b158c(0x1d4)][_0x4b158c(0x33e)]('\x20')[0x0],'eur':_0x3ae643[_0x4b158c(0x303)],'usd':_0x3ae643[_0x4b158c(0x1c9)],'coins':_0x25fbfe};let _0x335d97=dbPerformance[_0x4b158c(0x290)](_0x4b158c(0x257))[_0x4b158c(0x352)]({'date':_0x35d398['date']})['value']();_0x335d97?_0x35d398[_0x4b158c(0x215)]!=config[_0x4b158c(0x34d)]&&dbPerformance[_0x4b158c(0x290)]('data')[_0x4b158c(0x352)]({'date':_0x35d398[_0x4b158c(0x215)]})[_0x4b158c(0x1bf)](_0x35d398)[_0x4b158c(0x1ec)]():dbPerformance['get'](_0x4b158c(0x257))[_0x4b158c(0x25f)](_0x35d398)[_0x4b158c(0x1ec)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5b411e=_0x107a91;let _0x1a8aaa=[];if(dbPerformance[_0x5b411e(0x268)](_0x5b411e(0x257))['value']()){let _0x481055=dbPerformance[_0x5b411e(0x290)](_0x5b411e(0x257))['cloneDeep']()[_0x5b411e(0x242)](_0x418a40=>{const _0x7de547=_0x5b411e;if(_0x418a40[_0x7de547(0x315)]['length']==0x0)return![];else return!![];})[_0x5b411e(0x1d3)](_0x5b411e(0x215))[_0x5b411e(0x321)](),_0x2b791a=[...config[_0x5b411e(0x23f)]];_0x2b791a[_0x5b411e(0x253)]((_0x5c7d87,_0xe50354)=>_0x5c7d87['date']>_0xe50354['date']?-0x1:_0xe50354['date']>_0x5c7d87[_0x5b411e(0x215)]?0x1:0x0);let _0x42ee4b=0x1,_0x1680d9=[],_0x518116=0x0;_0x481055[_0x5b411e(0x285)]()['reverse']()[_0x5b411e(0x24a)]((_0x19c65e,_0x528a4a)=>{const _0x28fe79=_0x5b411e;if(_0x2b791a[_0x518116]){if(_0x481055[_0x481055[_0x28fe79(0x312)]-_0x528a4a]&&_0x2b791a[_0x518116][_0x28fe79(0x215)]==_0x481055[_0x481055[_0x28fe79(0x312)]-_0x528a4a][_0x28fe79(0x215)]){if(_0x528a4a<_0x481055[_0x28fe79(0x312)]){let _0xe642f0=0x0,_0x4f6391=0x0;_0x481055[_0x481055['length']-_0x528a4a][_0x28fe79(0x315)][_0x28fe79(0x24a)](_0x541630=>{const _0x59e821=_0x28fe79;_0x4f6391+=_0x541630[_0x59e821(0x2e4)]*_0x541630[_0x59e821(0x318)];}),_0x2b791a[_0x518116][_0x28fe79(0x239)][_0x28fe79(0x24a)](_0x2bccda=>{const _0x428d46=_0x28fe79;_0xe642f0+=_0x2bccda[_0x428d46(0x2e4)]*_0x2bccda['price'];}),_0x42ee4b*=_0xe642f0/(_0x4f6391-_0xe642f0)+0x1;}_0x518116++;}}let _0x3ec291=0x0;_0x19c65e[_0x28fe79(0x315)][_0x28fe79(0x24a)](_0x3853f5=>{const _0x72034=_0x28fe79;_0x3ec291+=_0x3853f5[_0x72034(0x2e4)]*_0x3853f5['price'];}),_0x1680d9[_0x481055['length']-_0x528a4a-0x1]=_0x3ec291*(_0x42ee4b-0x1);});let _0x91cc7a=[];_0x2b791a=[...config[_0x5b411e(0x23f)]]||[];let _0x4bc3aa=0x0;_0x518116=0x0,_0x481055[_0x5b411e(0x24a)]((_0x442985,_0x4a8c46)=>{const _0x21dadf=_0x5b411e;if(_0x2b791a[_0x518116]){const _0x482f76=fns[_0x21dadf(0x1d7)](_0x2b791a[_0x518116][_0x21dadf(0x215)],_0x21dadf(0x347),new Date()),_0x40d124=fns['parse'](_0x442985[_0x21dadf(0x215)],'yyyy/MM/dd',new Date());if(fns[_0x21dadf(0x223)](_0x482f76,_0x40d124)){let _0x28d2c3=0x0;_0x2b791a[_0x518116][_0x21dadf(0x239)][_0x21dadf(0x24a)](_0x462845=>{const _0x1a887a=_0x21dadf;!_0x91cc7a[_0x462845['coin']]?_0x91cc7a[_0x462845[_0x1a887a(0x2f2)]]=_0x462845['number']:(_0x28d2c3=_0x91cc7a[_0x462845[_0x1a887a(0x2f2)]],_0x91cc7a[_0x462845[_0x1a887a(0x2f2)]]+=_0x462845[_0x1a887a(0x2e4)]);const _0x6b9a55=_0x442985['coins'][_0x1a887a(0x352)](_0x1f3335=>_0x1f3335[_0x1a887a(0x2f2)]==_0x462845[_0x1a887a(0x2f2)]);(!_0x6b9a55||_0x6b9a55['number']==0x0)&&(_0x4bc3aa+=(-_0x462845[_0x1a887a(0x2e4)]-_0x28d2c3)*_0x462845[_0x1a887a(0x318)]);}),_0x518116++;}}_0x442985[_0x21dadf(0x315)]['forEach']((_0x3140b4,_0xcf4e12)=>{const _0x2fb8c0=_0x21dadf;_0x91cc7a[_0x3140b4[_0x2fb8c0(0x2f2)]]&&(_0x3140b4[_0x2fb8c0(0x1ff)]=_0x91cc7a[_0x3140b4[_0x2fb8c0(0x2f2)]]);}),_0x1a8aaa[_0x21dadf(0x25f)]({'date':_0x442985[_0x21dadf(0x215)],'eur':_0x442985['eur'],'usd':_0x442985[_0x21dadf(0x1c9)],'offset':_0x1680d9[_0x4a8c46],'netoffset':_0x4bc3aa,'coins':_0x442985[_0x21dadf(0x315)]});});}return _0x1a8aaa;}function emitPerformance(_0x2e967b){const _0x4ae901=_0x107a91;_0x2e967b['length']!==0x0?(proxyEmit(_0x4ae901(0x1ee),_0x2e967b),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x3451c0,_0x57f1f6){const _0x29655d=_0x107a91;let _0x1580ba=0x0,_0x164ed4=0x0,_0x1df1c6=0x0;_0x3451c0['coins'][_0x29655d(0x24a)](_0x536b82=>{const _0x31a06f=_0x29655d;_0x1580ba+=_0x536b82[_0x31a06f(0x2e4)]*_0x536b82[_0x31a06f(0x318)];});_0x57f1f6&&(_0x1580ba+=_0x3451c0['offset']);if(config[_0x29655d(0x241)]==='BTC'||config[_0x29655d(0x241)]===_0x29655d(0x23e)||config['basecoin']==='PAXG')_0x164ed4=_0x1580ba*_0x3451c0[_0x29655d(0x303)],_0x1df1c6=_0x1580ba*_0x3451c0[_0x29655d(0x1c9)];else{if(usdBasecoins[_0x29655d(0x358)](config['basecoin']))_0x164ed4=_0x1580ba*_0x3451c0[_0x29655d(0x303)]/_0x3451c0[_0x29655d(0x1c9)],_0x1df1c6=_0x1580ba;else config[_0x29655d(0x241)]===_0x29655d(0x207)&&(_0x164ed4=_0x1580ba,_0x1df1c6=_0x1580ba*_0x3451c0[_0x29655d(0x1c9)]/_0x3451c0[_0x29655d(0x303)]);}return[_0x1580ba,_0x164ed4,_0x1df1c6];}function getKPIs(_0x580f00,_0x4ac81d=_0x107a91(0x207)){const _0x17058e=_0x107a91,_0x3c45cd=config[_0x17058e(0x241)],_0x104f72=lastBalances,_0x579b07=currentCoins,_0x3c9978=getNormalizedPerformance(),_0x5149ea=_0x580f00===_0x17058e(0x241)?_0x3c45cd:_0x580f00===_0x17058e(0x34b)||_0x580f00===_0x17058e(0x340)?_0x4ac81d:'Net\x20'+_0x3c45cd,_0x4042c1=_0x580f00===_0x17058e(0x333)?'Net\x20effect':_0x580f00===_0x17058e(0x340)?_0x17058e(0x330):_0x5149ea+_0x17058e(0x2c0),_0x283488=_0x580f00===_0x17058e(0x333)||_0x580f00==='net-fiat'?_0x17058e(0x330):_0x5149ea+'\x20change';let _0x91406a=0x0;_0x579b07['forEach'](_0x59b017=>{const _0x4d6db6=_0x17058e;_0x91406a+=_0x59b017['number']*_0x59b017[_0x4d6db6(0x200)];});if(_0x580f00==='fiat'||_0x580f00===_0x17058e(0x340)){if(_0x3c45cd===_0x17058e(0x1c1)||_0x3c45cd==='ETH'||_0x3c45cd===_0x17058e(0x213))_0x91406a=_0x91406a*(_0x4ac81d===_0x17058e(0x207)?_0x104f72[_0x17058e(0x303)]:_0x104f72['usd']);else{if(usdBasecoins['includes'](_0x3c45cd))_0x91406a=_0x91406a*(_0x4ac81d===_0x17058e(0x207)?_0x104f72['eur']/_0x104f72[_0x17058e(0x1c9)]:0x1);else _0x3c45cd===_0x17058e(0x207)&&(_0x91406a=_0x91406a*(_0x4ac81d===_0x17058e(0x207)?0x1:_0x104f72[_0x17058e(0x1c9)]/_0x104f72[_0x17058e(0x303)]));}}let _0xba86e7;if(_0x91406a!==0x0){if(_0x580f00==='basecoin')_0xba86e7=(_0x91406a/startingBalances[_0x17058e(0x241)]-0x1)*0x64;else{if(_0x4ac81d==='EUR')_0xba86e7=(_0x91406a/startingBalances[_0x17058e(0x303)]-0x1)*0x64;else _0xba86e7=(_0x91406a/startingBalances['usd']-0x1)*0x64;}let _0x5845bc=0x0;if(startingBalances['coins'])_0x579b07[_0x17058e(0x24a)](_0x161089=>{const _0x425052=_0x17058e;let _0x43e33f=startingBalances[_0x425052(0x315)][_0x425052(0x352)](_0x5893d5=>_0x5893d5[_0x425052(0x2f2)]===_0x161089[_0x425052(0x2f2)]);if(_0x43e33f&&_0x43e33f[_0x425052(0x2f2)]&&_0x161089[_0x425052(0x2e4)]!==0x0)_0x5845bc+=_0x43e33f[_0x425052(0x2e4)]*_0x161089['last'];});let _0x42e87d=0x0;if(_0x3c9978[_0x17058e(0x312)]!==0x0){let _0x5e3ffd=_0x3c9978[_0x3c9978[_0x17058e(0x312)]-0x1];_0x42e87d=_0x5e3ffd[_0x17058e(0x249)];}_0x5845bc-=_0x42e87d;_0x580f00===_0x17058e(0x333)&&(_0xba86e7=(_0x91406a-_0x5845bc)/startingBalances[_0x17058e(0x241)]*0x64,_0x91406a=_0x91406a-_0x5845bc);if(_0x580f00===_0x17058e(0x340)){let _0x3bdf6a=_0x4ac81d==='EUR'?startingBalances[_0x17058e(0x303)]:startingBalances[_0x17058e(0x1c9)];if(_0x3c45cd===_0x17058e(0x1c1)||_0x3c45cd==='ETH'||_0x3c45cd===_0x17058e(0x213))_0x5845bc=_0x4ac81d==='EUR'?_0x5845bc*_0x104f72[_0x17058e(0x303)]:_0x5845bc*_0x104f72['usd'];else{if(usdBasecoins[_0x17058e(0x358)](_0x3c45cd))_0x5845bc=_0x4ac81d==='EUR'?_0x5845bc*_0x104f72[_0x17058e(0x303)]/_0x104f72['usd']:_0x5845bc;else _0x3c45cd===_0x17058e(0x207)&&(_0x5845bc=_0x4ac81d===_0x17058e(0x207)?_0x5845bc:_0x5845bc*_0x104f72[_0x17058e(0x1c9)]/_0x104f72['eur']);}_0xba86e7=(_0x91406a-_0x5845bc)/_0x3bdf6a*0x64,_0x91406a=_0x91406a-_0x5845bc;}if(_0xba86e7){if(_0xba86e7<0x64)_0xba86e7=_0xba86e7['toFixed'](0x2);else{if(_0xba86e7<0x3e8)_0xba86e7=_0xba86e7[_0x17058e(0x360)](0x1);else _0xba86e7=_0xba86e7[_0x17058e(0x360)](0x0);}}else _0xba86e7=Number('0')[_0x17058e(0x360)](0x2);if(_0x91406a){if(Math[_0x17058e(0x1f5)](_0x91406a)<0.000001)_0x91406a=_0x91406a['toFixed'](0x2);else{if(Math['abs'](_0x91406a)<0.1)_0x91406a=_0x91406a['toFixed'](0x6);else{if(Math['abs'](_0x91406a)<0x1)_0x91406a=_0x91406a[_0x17058e(0x360)](0x5);else{if(Math[_0x17058e(0x1f5)](_0x91406a)<0xa)_0x91406a=_0x91406a[_0x17058e(0x360)](0x4);else{if(Math[_0x17058e(0x1f5)](_0x91406a)<0x64)_0x91406a=_0x91406a[_0x17058e(0x360)](0x3);else{if(Math['abs'](_0x91406a)<0x3e8)_0x91406a=_0x91406a[_0x17058e(0x360)](0x2);else _0x91406a=_0x91406a[_0x17058e(0x360)](0x2);}}}}}}else _0x91406a=Number('0')['toFixed'](0x2);}else _0xba86e7=Number('0')[_0x17058e(0x360)](0x2);return{'value':_0x91406a,'change':_0xba86e7,'leftTxt':_0x4042c1,'rightTxt':_0x283488};}async function getStartingBalances(_0x44f2bf,_0x5ad674=!![]){const _0xd8ad08=_0x107a91;if(_0x44f2bf['length']!==0x0){const [_0x1e60dd,_0xb44f18,_0x13929f]=getPerf(_0x44f2bf[0x0],!![]);let _0x50f3a7=[];config['portfolio'][_0xd8ad08(0x24a)](_0x5b0305=>{const _0x56dce9=_0xd8ad08;let _0x4136e4=0x0,_0x16ee45;config[_0x56dce9(0x23f)][_0x56dce9(0x24a)](_0x1b0f23=>{const _0x38b9a4=_0x56dce9;let _0x594074=_0x1b0f23[_0x38b9a4(0x239)]['find'](_0x354460=>_0x354460[_0x38b9a4(0x2f2)]==_0x5b0305[_0x38b9a4(0x2f2)]);if(_0x594074){_0x4136e4+=_0x594074[_0x38b9a4(0x2e4)];if(!_0x16ee45)_0x16ee45=_0x594074[_0x38b9a4(0x318)];}}),_0x50f3a7[_0x56dce9(0x25f)]({'coin':_0x5b0305[_0x56dce9(0x2f2)],'number':_0x4136e4,'initialprice':_0x16ee45});});const _0x208741={'basecoin':_0x1e60dd,'eur':_0xb44f18,'usd':_0x13929f,'coins':_0x50f3a7};if(_0x5ad674)proxyEmit('starting-balances',_0x208741);startingBalances=_0x208741;}}function headlessMode(_0x2570b6){const _0x46799e=_0x107a91;let _0x51f281=_0x2570b6['portfolio'],_0x373d12=_0x2570b6[_0x46799e(0x20a)],_0x313f5f=[];for(let _0x2d79d2 of _0x51f281){if(_0x2d79d2[_0x46799e(0x2f2)]!=config[_0x46799e(0x241)]){if(_0x2d79d2['delta']>=_0x373d12/0x64){if(_0x2d79d2[_0x46799e(0x342)])_0x313f5f[_0x46799e(0x25f)](_0x2d79d2);}else{if(_0x2d79d2[_0x46799e(0x31f)]<=-_0x373d12/0x64){if(_0x2d79d2[_0x46799e(0x342)])_0x313f5f[_0x46799e(0x25f)](_0x2d79d2);}}}}_0x313f5f['length']>0x0&&(lockOrders==ORDERS[_0x46799e(0x273)]&&!coolingDown&&_0x313f5f[_0x46799e(0x24a)](_0x17f7d6=>{const _0x223bda=_0x46799e;logger[_0x223bda(0x261)](_0x223bda(0x211)+_0x17f7d6['coin']+'\x20'+_0x17f7d6[_0x223bda(0x2e4)]+'\x20'+_0x17f7d6[_0x223bda(0x200)]+'\x20'+_0x17f7d6[_0x223bda(0x1cd)]+'%\x20'+_0x17f7d6[_0x223bda(0x32b)]+'%\x20'+(0x64*_0x17f7d6[_0x223bda(0x31f)])['toFixed'](0x2)+_0x223bda(0x22e)+_0x373d12[_0x223bda(0x360)](0x2)+'%)');}),placeOrder(_0x313f5f));}function notifyBalance(_0x1a008a){const _0x10b8d5=_0x107a91;let _0x1d4484=_0x1a008a[_0x10b8d5(0x346)],_0x2c2404=_0x1a008a[_0x10b8d5(0x20a)],_0x25388d=[];for(let _0x1d1921 of _0x1d4484){if(_0x1d1921[_0x10b8d5(0x2f2)]!=config['basecoin']){if(_0x1d1921[_0x10b8d5(0x31f)]>=_0x2c2404/0x64){if(_0x1d1921[_0x10b8d5(0x342)])_0x25388d['push'](_0x1d1921);}else{if(_0x1d1921[_0x10b8d5(0x31f)]<=-_0x2c2404/0x64){if(_0x1d1921['valid'])_0x25388d[_0x10b8d5(0x25f)](_0x1d1921);}}}}if(_0x25388d[_0x10b8d5(0x312)]>0x0){let _0x462c2b=_0x25388d['map'](_0x1a7b3d=>_0x1a7b3d['coin']);_0x462c2b[_0x10b8d5(0x253)]();let _0x591e58=_0x462c2b['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x10b8d5(0x2a1),_0x10b8d5(0x201));lastCoinsToBalance=_0x591e58;}}function _0x5bd0(){const _0x37ac02=['balancing\x20resumed','\x20order:\x20','177594cIejfz','ExchangeError','marketcapsqrt','getSeconds','Limit\x20(low-margin)','eur','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','cancelOrder','getMonth','getCoins()','error','46djBABL','Cooldown\x20ended\x20-\x20balancing\x20resumed','watchOrders','onepagemode','cooldown','Exchange','Cex','(((.+)+)+)+$','getPortfolio(2)','length','122925ccCJqd','bots','coins','orderId','recovery','price','Saving\x20configuration','\x20exchange\x20error','coin-loading-progress','configuration','market','final','delta','timeout','value','restart','random','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','offset','shift','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Waited\x20','\x20>\x20[DEBUG]\x20','target','added','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','RateLimitExceeded','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Net\x20effect','70FHTJxC','Limit\x20(high-margin)','net-basecoin','toString','excluded','running','realized','ccxt','Headless:\x20','ticker','Unknown\x20error\x20occured','openOrders','/backup/','split','none','net-fiat','amountToPrecision','valid','/output-000.log','change','decrypt','portfolio','yyyy/MM/dd','storeHeadless','limit-high','1\x20-\x20FILLED\x20known\x20order:\x20','fiat','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','startdate','fetchOpenOrders','symbol','stopExchange()','format','find','padEnd','\x20hour','\x20minutes\x20-\x20','spot','InsufficientFunds','includes','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','placeOrder()','getCoinNumber()','marketcapApi','average','Error\x20details:','toFixed','MIN_NOTIONAL','getPortfolio(1)','createOrder','Initializing\x20coin\x20results','startprice','round','sha256',':\x20Bot\x20','open','\x20:\x20','assign','differenceInSeconds','BTC','Loading\x20completed','storeFiat','unlinkSync','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','sells','uncaughtException','orderstatus','usd','Portfolio\x20change\x20detected:\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','distribution','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','\x20API\x20secret\x20is\x20invalid','bb-settings.json','fetchTickers()','constructor','sortBy','time','configuration-stored','starting-balance-','parse','\x20-\x20','NetworkError','exchange','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','buy','TUSD','trade','watchTrades()','\x20|\x20','Resetting\x20coin\x20results:\x20','join','API-key\x20format\x20invalid','customId','ordertype','date-fns','cancelLoading','showname','\x20exchange','freeze','send','write','yyyy-MM-dd\x27T\x27HH:mm:ss','performance','enabled','apply','OnMaintenance','ongoing','fromCodePoint','************','abs','no\x20open\x20orders','progress','ExchangeNotAvailable','closed','datetime','1\x20-\x20Unlock\x20orders','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','watchTradesForSymbols()','active','initial','last','Manual\x20balancing\x20required','reverse','search','USDP','change24h','timeshift','EUR','\x20|\x20exchange:\x20','remove','threshold','total','placeOrder','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','./version.json','exchange\x20not\x20reloaded','hybrid-crypto-js','Trigger:\x20','2.3.5','PAXG','headless','date','apiSecret','set','min','currency','getPortfolio','USDC','indexOf','limits','1130789eVdPSU','timestamp','Cryptocom','botname','<b>Bot\x20','isEqual','InvalidOrder','cost','2\x20-\x20Validate\x20orders:\x20','\x20metrics:</b>\x20\x0a\x0a','kill','remainingSymbols','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Order(s)\x20not\x20validated\x20after\x20','\x20API\x20key\x20is\x20invalid','splice','%\x20(','AuthenticationError','marketcap','ORDERS.UNLOCKING','Bybit','</pre>','Exception\x20thrown\x20in\x20','sqrt','parseISO','No\x20more\x20open\x20orders\x20-\x20','2\x20-\x20Handled\x20open\x20orders','changes','existsSync','cancelOrders()','defaults','startsWith','ETH','liquidity','leftTxt','basecoin','filter','***','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','recreate','limit-low','full','string','netoffset','forEach','Error:\x20Invalid\x20argument\x20','\x20portfolio:</b>\x20\x0a\x0a','BNB/','event','log','buys','replace','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','sort','keys','<pre>','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','data','fetchTickers','filled','10IsMzjF','apiKey','secure','substring','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','push','toLowerCase','debug','PermissionDenied','autoliquidity','LOCKED','basecoinvalue',',\x20must\x20be\x20a\x203\x20digit\x20number','USD','has',':\x20timer\x20>','page','canceled','toggleBotMode','bot','getHours','sell','\x20attempts','mkdirSync','-results.json','UNLOCKED','order','Insufficient\x20funds\x20to\x20execute\x20order:\x20','fetchBalance','map','Pausing\x20for\x20','percentage','Binance','fetchClosedOrders','slider','botID','watchOrders()','-events.json','apiPassword','<b>','UNLOCKING','args','exec','slice','InvalidNonce','Order\x20is\x20invalid:\x20','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','1\x20-\x20FILLED\x20unknown\x20order:\x20','681930kBYcRu','password','\x20minutes','\x20has\x20a\x2024h\x20drop\x20of\x20','\x20>\x20','\x20|\x20highest\x20fee:\x20','get','./config/','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','entries','watchTradesForSymbols','ID:\x20','breakeven','DDoSProtection','Fee\x20discount\x20refund\x20detected:\x20','RETRY\x20-\x20Error\x20in\x20','findIndex','bot-','recent20','amount','getPortfolio(0)','-config.json','balances','warning','Error\x20while\x20deleting\x20files:\x20','watchTrades','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','red_yellow_blue','status','BUSD','1\x20-\x20Validate\x20orders:\x20','writeFile','sendPortfolioTelegram','showConfig','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','padStart','2.6.0','success','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','marketcapEnabled','fees','Huobi','pro','balancing\x20resumes\x20when\x20cooldown\x20ends','.json','-------------------------------\x0a','Bot\x20','Executing\x20exchange\x20reload','createWriteStream','Bitget','message','max','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','\x20value','001','pop','lowdb','exchange\x20reloaded','ORDERS.LOCKED','getTime','logs','version','quote','getOpenOrders()','rightTxt','\x20-\x20pausing\x20bot\x20for\x20','RETRY\x20-\x20Problem\x20resolved\x20after\x20','emojisell','milliseconds','watchTransactions()','USDT','loadMarkets','getAllOrders()','fetchTicker','getMinutes','argv','sendMetricsTelegram','Reset\x20|\x20','31288NOQCEZ','code','startnumber','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','type','OrderNotFound','24039wNmADA','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','fee','stringify','number','49DWnVlE','event-history','function','cloneDeep','highest','close','removed','Executed\x20','526216LAwoLP','ask','getDate','emojibuy','-performance.json','coin','getFullYear','limit','side','privateKey','\x20network\x20error','BNB','\x20|\x20Custom\x20ID:\x20','initclient','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'];_0x5bd0=function(){return _0x37ac02;};return _0x5bd0();}function symbolToCoin(_0x334927){const _0x2364b2=_0x107a91;let _0x284821;if(_0x334927[_0x2364b2(0x358)]('/'+config[_0x2364b2(0x241)]))_0x284821=_0x334927['replace']('/'+config[_0x2364b2(0x241)],'');if(_0x334927[_0x2364b2(0x358)](config['basecoin']+'/'))_0x284821=_0x334927[_0x2364b2(0x251)](config['basecoin']+'/','');return _0x284821;}async function unlockOrders(){const _0x15b06e=_0x107a91;if(allOrdersPlaced&&lockOrders==ORDERS[_0x15b06e(0x264)]){logger[_0x15b06e(0x261)](_0x15b06e(0x1fb)),lockOrders=ORDERS[_0x15b06e(0x282)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x4a20a7=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4a20a7,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x15b06e(0x273)],logger[_0x15b06e(0x261)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x34ec78){const _0xf30917=_0x107a91;if(_0x34ec78)validateOrdersState=_0x34ec78;logger[_0xf30917(0x261)](_0xf30917(0x2a9)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0xf30917(0x2c5):lockOrders==0x2?_0xf30917(0x231):'ORDERS.UNLOCKED'));let _0x34911e=[],_0x8b93a9=config[_0xf30917(0x1e5)]==_0xf30917(0x31d)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0xf30917(0x320)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0xf30917(0x264)])return;logger[_0xf30917(0x261)](_0xf30917(0x226)+validateOrdersState),lastOrders[_0xf30917(0x24a)](_0x317cb0=>{const _0x4f1862=_0xf30917;let _0x5c3929=![];_0x317cb0['filled']>0x0&&(_0x5c3929=!![]),_0x34911e[_0x4f1862(0x25f)](_0x5c3929),_0x5c3929&&config[_0x4f1862(0x1e5)]!=_0x4f1862(0x31d)&&logHistory('order','Order\x20filled:\x20'+_0x317cb0['symbol']+'\x20'+_0x317cb0[_0x4f1862(0x2f5)]+'\x20#'+formatResult(_0x317cb0[_0x4f1862(0x259)],0x8)+'\x20@'+formatResult(_0x317cb0[_0x4f1862(0x318)],0x8));}),_0x34911e[_0xf30917(0x24a)]((_0x692608,_0x534d12)=>{if(_0x692608)lastOrders['splice'](_0x534d12,0x1);}),persistOpenOrders(lastOrders);const _0x57e377=coolingDown?_0xf30917(0x2b6):_0xf30917(0x2fc);if(validateOrdersState==_0xf30917(0x1ff)){validateOrdersState=_0xf30917(0x1f2);if(_0x34911e[_0xf30917(0x358)](![])){if(config[_0xf30917(0x1e5)]==_0xf30917(0x31d)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0xf30917(0x1f2)){if(_0x34911e['includes'](![])){}else{if(allOrdersPlaced){if(config[_0xf30917(0x1e5)]==_0xf30917(0x31d)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0xf30917(0x31e))_0x34911e['includes'](![])&&(config['ordertype']==_0xf30917(0x31d)?logHistory('success',_0xf30917(0x22b)+Math[_0xf30917(0x1ba)](_0x8b93a9*validateOrderInterval/0xea60)+_0xf30917(0x355)+_0x57e377):(await cancelOrders(),logHistory(_0xf30917(0x2b0),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x8b93a9*validateOrderInterval/0xea60)+_0xf30917(0x355)+_0x57e377))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0xf30917(0x1e5)]!=_0xf30917(0x31d))logHistory(_0xf30917(0x2b0),_0xf30917(0x237)+_0x57e377);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x300960=>{const _0x599147=_0x1055;try{const _0x36beea=await exchange[_0x599147(0x305)](_0x300960['orderId'],_0x300960['symbol']);}catch(_0x29d480){if(_0x29d480['toString']()['includes'](_0x599147(0x2df))){}else await handleError(_0x29d480,_0x599147(0x23b));}});}async function initCoinResults(_0x5b3171){const _0xa3f2c9=_0x107a91;_0x5b3171?logger['debug'](_0xa3f2c9(0x1e1)+_0x5b3171):logger[_0xa3f2c9(0x261)](_0xa3f2c9(0x1b8)),config[_0xa3f2c9(0x346)][_0xa3f2c9(0x24a)](_0x344b3e=>{const _0x37047f=_0xa3f2c9;if(!_0x344b3e[_0x37047f(0x335)]&&_0x344b3e[_0x37047f(0x2f2)]!=config[_0x37047f(0x241)]){const _0x57cac8=currentCoins['find'](_0x20fabe=>_0x20fabe[_0x37047f(0x2f2)]==_0x344b3e[_0x37047f(0x2f2)]),_0x48fda0=global[_0x37047f(0x33a)][noslash(_0x344b3e[_0x37047f(0x34f)])];let _0x5701e0=_0x57cac8?_0x57cac8[_0x37047f(0x2e4)]:null,_0x2389be=_0x344b3e['reverse']?0x1/_0x48fda0:_0x48fda0,_0x21ce74;config[_0x37047f(0x23f)]['forEach'](_0x36753a=>{const _0x3902d8=_0x37047f;!_0x21ce74&&(_0x21ce74=_0x36753a[_0x3902d8(0x239)][_0x3902d8(0x352)](_0x1e7a5e=>_0x1e7a5e[_0x3902d8(0x2f2)]==_0x344b3e[_0x3902d8(0x2f2)]),_0x21ce74&&(_0x5701e0=_0x21ce74[_0x3902d8(0x2e4)],_0x2389be=_0x21ce74[_0x3902d8(0x318)]));});let _0x352923=dbCoinResults[_0x37047f(0x290)]('coins')[_0x37047f(0x352)]({'coin':_0x344b3e[_0x37047f(0x2f2)]})[_0x37047f(0x321)]();if(!_0x352923){const _0x2f09d0={'coin':_0x344b3e[_0x37047f(0x2f2)],'number':_0x5701e0,'breakeven':_0x2389be,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x37047f(0x290)](_0x37047f(0x315))[_0x37047f(0x25f)](_0x2f09d0)[_0x37047f(0x1ec)]();}else{if(_0x5b3171&&_0x344b3e['coin']==_0x5b3171){const _0x273c8e={'coin':_0x344b3e[_0x37047f(0x2f2)],'number':_0x5701e0,'breakeven':_0x2389be,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x37047f(0x290)]('coins')[_0x37047f(0x352)]({'coin':_0x344b3e[_0x37047f(0x2f2)]})[_0x37047f(0x1bf)](_0x273c8e)[_0x37047f(0x1ec)]();}}}});}async function updateCoinResults(_0xc1491b,_0x565fc5=![]){const _0x46cd93=_0x107a91;let _0x337b98,_0x4e9786,_0x58315a,_0x484af9,_0x156359,_0x265dc7,_0x154176=dbCoinResults['get'](_0x46cd93(0x315))['find']({'coin':_0xc1491b[_0x46cd93(0x2f2)]})[_0x46cd93(0x321)](),_0x393381=![];_0x154176&&Object[_0x46cd93(0x293)](_0x154176)['forEach'](([_0xfff253,_0x2ca761])=>{if(_0x2ca761==null)_0x393381=!![];});(!_0x154176||_0x393381)&&(await initCoinResults(_0xc1491b[_0x46cd93(0x2f2)]),_0x154176=dbCoinResults[_0x46cd93(0x290)](_0x46cd93(0x315))[_0x46cd93(0x352)]({'coin':_0xc1491b[_0x46cd93(0x2f2)]})['value']());_0xc1491b[_0x46cd93(0x202)]&&(_0x265dc7={'filled':_0xc1491b[_0x46cd93(0x259)]*_0xc1491b[_0x46cd93(0x318)],'amount':_0xc1491b[_0x46cd93(0x259)]*_0xc1491b['price'],'side':_0xc1491b[_0x46cd93(0x2f5)]==_0x46cd93(0x26f)?_0x46cd93(0x1dc):'sell','price':0x1/_0xc1491b[_0x46cd93(0x318)]},_0xc1491b={..._0xc1491b,..._0x265dc7});_0x565fc5?_0x4e9786=_0xc1491b[_0x46cd93(0x2f5)]==_0x46cd93(0x1dc)?_0x154176[_0x46cd93(0x2e4)]+_0xc1491b[_0x46cd93(0x259)]:_0x154176['number']-_0xc1491b[_0x46cd93(0x259)]:_0x4e9786=await getCoinNumber(_0xc1491b[_0x46cd93(0x2f2)]);if(_0xc1491b['fee']&&_0xc1491b[_0x46cd93(0x2e2)]['currency']==config[_0x46cd93(0x241)])_0x337b98=Number(_0xc1491b[_0x46cd93(0x2e2)][_0x46cd93(0x225)]);else{if(_0xc1491b['fee']&&_0xc1491b['fee'][_0x46cd93(0x219)]==_0x46cd93(0x2f8)&&!_0x565fc5&&config[_0x46cd93(0x241)]!=_0x46cd93(0x213))_0x337b98=Number(_0xc1491b['fee'][_0x46cd93(0x225)])*global['ticker']['BNB'+config[_0x46cd93(0x241)]];else _0x337b98=defaultFee*_0xc1491b['filled']*_0xc1491b['price'];}_0xc1491b[_0x46cd93(0x2f5)]=='buy'?(_0x58315a=_0x4e9786!=0x0?(_0x154176[_0x46cd93(0x296)]*_0x154176[_0x46cd93(0x2e4)]+_0xc1491b[_0x46cd93(0x318)]*(_0x4e9786-_0x154176[_0x46cd93(0x2e4)])+_0x337b98)/_0x4e9786:0x0,_0x484af9=_0x154176[_0x46cd93(0x337)]):(_0x58315a=_0x4e9786!=0x0?(_0x154176[_0x46cd93(0x296)]*_0x154176[_0x46cd93(0x2e4)]-_0xc1491b[_0x46cd93(0x318)]*(_0x154176[_0x46cd93(0x2e4)]-_0x4e9786)+_0x337b98)/_0x4e9786:0x0,_0x484af9=_0x154176[_0x46cd93(0x337)]+(_0xc1491b[_0x46cd93(0x318)]-_0x154176[_0x46cd93(0x296)])*_0xc1491b[_0x46cd93(0x259)]);_0x156359=(_0xc1491b[_0x46cd93(0x318)]-_0x58315a-_0x337b98/_0xc1491b[_0x46cd93(0x259)])*_0x4e9786;let _0x2390bf={'coin':_0xc1491b[_0x46cd93(0x2f2)],'number':_0x4e9786,'breakeven':formatResult(_0x58315a,0x8),'realized':formatResult(_0x484af9,0x8),'unrealized':formatResult(_0x156359,0x8),'fees':formatResult(_0x154176[_0x46cd93(0x2b3)]+_0x337b98,0x8),'sells':_0xc1491b['side']==_0x46cd93(0x26f)?_0x154176[_0x46cd93(0x1c6)]+0x1:_0x154176[_0x46cd93(0x1c6)],'buys':_0xc1491b['side']==_0x46cd93(0x1dc)?_0x154176[_0x46cd93(0x250)]+0x1:_0x154176[_0x46cd93(0x250)]};dbCoinResults[_0x46cd93(0x290)](_0x46cd93(0x315))['find']({'coin':_0xc1491b[_0x46cd93(0x2f2)]})[_0x46cd93(0x1bf)](_0x2390bf)[_0x46cd93(0x1ec)]();if(!_0x565fc5){if(_0xc1491b['fee']&&_0xc1491b[_0x46cd93(0x2e2)][_0x46cd93(0x219)]==_0x46cd93(0x2f8)){const _0x3bd832=currentCoins[_0x46cd93(0x352)](_0x4eeb32=>_0x4eeb32[_0x46cd93(0x2f2)]==_0x46cd93(0x2f8));if(_0x3bd832){let _0x45fd14=dbCoinResults[_0x46cd93(0x290)](_0x46cd93(0x315))['find']({'coin':'BNB'})[_0x46cd93(0x321)]();_0x2390bf={..._0x45fd14,'number':_0x3bd832[_0x46cd93(0x2e4)]},dbCoinResults[_0x46cd93(0x290)](_0x46cd93(0x315))['find']({'coin':_0x46cd93(0x2f8)})[_0x46cd93(0x1bf)](_0x2390bf)[_0x46cd93(0x1ec)]();}}}}async function placeOrder(_0x10819e){const _0x1a190a=_0x107a91,_0x43eeee=config[_0x1a190a(0x1e5)]=='market'?'market':_0x1a190a(0x2f4);if(lockOrders==ORDERS[_0x1a190a(0x273)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x1a190a(0x1ff);let _0x4a536f=![];lastOrders=[];for(const _0x52d1ae of _0x10819e){let _0x58ecc9,_0x3a8bc2,_0x197a63,_0x1bca45,_0x320708,_0x32d38d=_0x52d1ae[_0x1a190a(0x34f)];try{const _0x4c4647=await exchange[_0x1a190a(0x2d4)](_0x32d38d);_0x58ecc9=_0x52d1ae[_0x1a190a(0x202)]?0x1/_0x52d1ae['last']:_0x52d1ae[_0x1a190a(0x200)],_0x3a8bc2=_0x4c4647['bid'],_0x197a63=_0x4c4647[_0x1a190a(0x2ee)];_0x52d1ae[_0x1a190a(0x202)]?(_0x1bca45=_0x52d1ae[_0x1a190a(0x2f5)]==_0x1a190a(0x1dc)?_0x1a190a(0x26f):_0x1a190a(0x1dc),_0x320708=Math['abs'](_0x52d1ae[_0x1a190a(0x1de)])/_0x58ecc9):(_0x1bca45=_0x52d1ae['side'],_0x320708=Math[_0x1a190a(0x1f5)](_0x52d1ae[_0x1a190a(0x1de)]));_0x43eeee==_0x1a190a(0x2f4)&&(config['ordertype']==_0x1a190a(0x349)&&(_0x58ecc9=_0x1bca45==_0x1a190a(0x1dc)?_0x3a8bc2:_0x197a63),config['ordertype']==_0x1a190a(0x246)&&(_0x58ecc9=_0x1bca45==_0x1a190a(0x1dc)?_0x197a63:_0x3a8bc2));_0x320708=formatResult(_0x320708,0x8),_0x58ecc9=formatResult(_0x58ecc9,0x8);const _0x3e75a4=_0x1bca45=='sell'?config[_0x1a190a(0x2ce)]?String['fromCodePoint']('0x'+config[_0x1a190a(0x2ce)])+'\x20':'':config[_0x1a190a(0x2f0)]?String[_0x1a190a(0x1f3)]('0x'+config[_0x1a190a(0x2f0)])+'\x20':'',_0x5b42b9=_0x43eeee==_0x1a190a(0x31d)?'Market':config[_0x1a190a(0x1e5)]==_0x1a190a(0x349)?_0x1a190a(0x332):_0x1a190a(0x302),_0x206732=(Math['floor'](Math[_0x1a190a(0x323)]()*0x35a4e900)+0x5f5e100)[_0x1a190a(0x334)]();lastOrders[_0x1a190a(0x25f)]({'customId':_0x206732,'symbol':_0x32d38d,'coin':_0x52d1ae['coin'],'amount':_0x320708,'price':_0x58ecc9,'side':_0x1bca45,'reverse':_0x52d1ae[_0x1a190a(0x202)],'filled':0x0});if(_0x43eeee==_0x1a190a(0x31d))logHistory('order',''+_0x3e75a4+_0x5b42b9+_0x1a190a(0x2fd)+_0x32d38d+'\x20'+_0x1bca45+'\x20#'+formatResult(_0x320708,0x8)+'\x20@'+formatResult(_0x58ecc9,0x8));else logHistory(_0x1a190a(0x274),''+_0x3e75a4+_0x5b42b9+_0x1a190a(0x2fd)+_0x32d38d+'\x20'+_0x1bca45+'\x20#'+formatResult(_0x320708,0x8)+'\x20@'+formatResult(_0x58ecc9,0x8));let _0x53f623;_0x43eeee=='market'?_0x1bca45==_0x1a190a(0x1dc)&&[_0x1a190a(0x232),_0x1a190a(0x2bc),_0x1a190a(0x30f),_0x1a190a(0x2b4),'Huobipro'][_0x1a190a(0x358)](config['exchange'])?_0x53f623=await exchange[_0x1a190a(0x1b7)](_0x32d38d,_0x43eeee,_0x1bca45,_0x320708,_0x58ecc9):_0x53f623=await exchange[_0x1a190a(0x1b7)](_0x32d38d,_0x43eeee,_0x1bca45,_0x320708,undefined):_0x53f623=await exchange[_0x1a190a(0x1b7)](_0x32d38d,_0x43eeee,_0x1bca45,_0x320708,_0x58ecc9);logger['debug'](_0x1a190a(0x295)+_0x53f623['id']+_0x1a190a(0x2f9)+_0x206732);const _0x9d07a7=lastOrders[_0x1a190a(0x312)]-0x1;if(_0x9d07a7>=0x0&&lastOrders[_0x9d07a7][_0x1a190a(0x1e4)]==_0x206732){lastOrders[_0x9d07a7]['orderId']=_0x53f623['id'];if(_0x53f623[_0x1a190a(0x29d)])lastOrders[_0x9d07a7][_0x1a190a(0x29d)]=_0x53f623[_0x1a190a(0x29d)];if(_0x53f623[_0x1a190a(0x318)])lastOrders[_0x9d07a7][_0x1a190a(0x318)]=_0x53f623[_0x1a190a(0x318)];lastOrders[_0x9d07a7][_0x1a190a(0x2e2)]=_0x53f623['fee'];}if(config['cooldown']!=0x0){let _0x162a9a=null;if(cooldownTracker[_0x1a190a(0x312)]==config[_0x1a190a(0x30d)]-0x1)_0x162a9a=cooldownTracker[_0x1a190a(0x326)]();const _0x549e8b=getTimeStamp();cooldownTracker[_0x1a190a(0x25f)](_0x549e8b);if(_0x162a9a){const _0x4bd4ef=fns[_0x1a190a(0x1c0)](new Date(_0x549e8b),new Date(_0x162a9a));if(_0x4bd4ef<cooldownInterval){logHistory(_0x1a190a(0x308),_0x1a190a(0x2ec)+config[_0x1a190a(0x30d)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x1a190a(0x2dc)+cooldownPeriod/(0xe10*0x3e8)+_0x1a190a(0x354)),coolingDown=!![];break;}}}}catch(_0x8d257){if(_0x8d257[_0x1a190a(0x334)]()[_0x1a190a(0x358)](_0x1a190a(0x1b5)))lastOrders=lastOrders[_0x1a190a(0x242)](_0x1f5286=>_0x1f5286[_0x1a190a(0x34f)]!=_0x32d38d),logHistory(_0x1a190a(0x308),_0x1a190a(0x256)+_0x32d38d),_0x4a536f=!![];else{if(_0x8d257['toString']()[_0x1a190a(0x358)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x1a190a(0x242)](_0xb8456d=>_0xb8456d[_0x1a190a(0x34f)]!=_0x32d38d),logHistory(_0x1a190a(0x308),'Order\x20amount\x20is\x20invalid:\x20'+_0x32d38d),_0x4a536f=!![];else{if(_0x8d257['toString']()['includes'](_0x1a190a(0x224)))lastOrders=lastOrders['filter'](_0x3486d1=>_0x3486d1[_0x1a190a(0x34f)]!=_0x32d38d),logHistory(_0x1a190a(0x308),_0x1a190a(0x287)+_0x32d38d),logger[_0x1a190a(0x261)](_0x8d257),_0x4a536f=!![];else _0x8d257['toString']()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0x5ed02f=>_0x5ed02f[_0x1a190a(0x34f)]!=_0x32d38d),logHistory(_0x1a190a(0x308),_0x1a190a(0x256)+_0x32d38d),_0x4a536f=!![]):(lastOrders=lastOrders[_0x1a190a(0x242)](_0x55081c=>_0x55081c['symbol']!=_0x32d38d),await handleError(_0x8d257,_0x1a190a(0x35b),_0x32d38d));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4023c4=config[_0x1a190a(0x1e5)]==_0x1a190a(0x31d)?validateOrderTimeout*0x3c*0x3e8:config[_0x1a190a(0x320)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x4023c4);}else unlockOrders();_0x4a536f&&config[_0x1a190a(0x214)]&&(logHistory(_0x1a190a(0x308),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x1a190a(0x30a)));}else{if(coolingDown)!config[_0x1a190a(0x214)]&&logHistory(_0x1a190a(0x308),_0x1a190a(0x292));else lockOrders!=ORDERS[_0x1a190a(0x273)]&&(!config[_0x1a190a(0x214)]&&(config[_0x1a190a(0x1e5)]=='market'?logHistory(_0x1a190a(0x308),_0x1a190a(0x2ad)):logHistory(_0x1a190a(0x308),_0x1a190a(0x2fb))));}}function persistOpenOrders(_0x3e7def){const _0x4f2943=_0x107a91,_0x173215={...config,'openOrders':_0x3e7def};let _0x3a8e5e=dbConfig[_0x4f2943(0x290)](_0x4f2943(0x26d))[_0x4f2943(0x352)]({'botID':botID})[_0x4f2943(0x321)]();_0x3a8e5e&&dbConfig[_0x4f2943(0x290)](_0x4f2943(0x26d))['find']({'botID':botID})['assign'](_0x173215)[_0x4f2943(0x1ec)]();}function restoreOrders(){const _0x2cf152=_0x107a91;let _0x23475c;config[_0x2cf152(0x33c)]&&allOpenOrders[_0x2cf152(0x24a)](_0x4f5d50=>{const _0x596d3b=_0x2cf152,_0xddec2c=config[_0x596d3b(0x33c)][_0x596d3b(0x352)](_0x2ac15e=>_0x2ac15e[_0x596d3b(0x316)]==_0x4f5d50['id']);_0xddec2c&&(lastOrders[_0x596d3b(0x25f)](_0xddec2c),_0x23475c=_0x4f5d50[_0x596d3b(0x21f)]);});if(lastOrders[_0x2cf152(0x312)]>0x0){lockOrders=ORDERS[_0x2cf152(0x264)],validateOrdersState=_0x2cf152(0x1f2),allOrdersPlaced=!![];const _0x241a69=new Date()['getTime'](),_0x4efdb5=config['ordertype']==_0x2cf152(0x31d)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x23475c+_0x4efdb5>_0x241a69){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4563fa=_0x2cf152;validateOrders(_0x4563fa(0x31e));},_0x23475c+_0x4efdb5-_0x241a69);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x2ab092=_0x107a91;if(!coinsLoaded){process[_0x2ab092(0x1eb)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x59bbd1=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x16bb3f='';if(config[_0x2ab092(0x1e8)])_0x16bb3f=_0x2ab092(0x281)+config[_0x2ab092(0x221)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x16bb3f='<b>Bot\x20'+botID+_0x2ab092(0x227);const _0x13f454=getKPIs(_0x2ab092(0x241)),_0x1a598c=getKPIs(_0x2ab092(0x34b),config['fiat']),_0x2c0028=getKPIs(_0x2ab092(0x333)),_0x33f619=getKPIs(_0x2ab092(0x340),config[_0x2ab092(0x34b)]);_0x16bb3f+='<pre>',_0x16bb3f+=_0x13f454['leftTxt']+'\x20:\x20'+_0x13f454[_0x2ab092(0x321)]+'\x0a',_0x16bb3f+=_0x13f454[_0x2ab092(0x2cb)]+':\x20'+_0x13f454[_0x2ab092(0x344)]+'%\x0a',_0x16bb3f+=_0x1a598c['leftTxt']+_0x2ab092(0x1be)+_0x1a598c[_0x2ab092(0x321)]+'\x0a',_0x16bb3f+=_0x1a598c[_0x2ab092(0x2cb)]+':\x20'+_0x1a598c[_0x2ab092(0x344)]+'%\x0a',_0x16bb3f+=_0x2c0028[_0x2ab092(0x240)]+':\x20'+_0x2c0028['value']+'\x20('+config[_0x2ab092(0x241)]+')\x0a',_0x16bb3f+=_0x2c0028[_0x2ab092(0x2cb)]+':\x20'+_0x2c0028[_0x2ab092(0x344)]+_0x2ab092(0x22e)+config[_0x2ab092(0x241)]+')\x0a',_0x16bb3f+=_0x33f619[_0x2ab092(0x240)]+':\x20'+_0x33f619[_0x2ab092(0x321)]+'\x20('+config['fiat']+')\x0a',_0x16bb3f+=_0x33f619[_0x2ab092(0x2cb)]+':\x20'+_0x33f619[_0x2ab092(0x344)]+_0x2ab092(0x22e)+config[_0x2ab092(0x34b)]+')\x0a',_0x16bb3f+=_0x2ab092(0x233),process[_0x2ab092(0x1eb)]({'telegrammsg':_0x16bb3f},_0x1d07ad=>{});}async function sendPortfolioTelegram(){const _0x4954f5=_0x107a91;if(!coinsLoaded||!currentCoins[0x0][_0x4954f5(0x1cd)]){process['send']({'telegrammsg':_0x4954f5(0x2b1)},_0x3e4c0c=>{});return;}let _0x2a0d4c='';if(config['showname'])_0x2a0d4c=_0x4954f5(0x281)+config['botname']+_0x4954f5(0x24c);else _0x2a0d4c=_0x4954f5(0x222)+botID+_0x4954f5(0x24c);_0x2a0d4c+=_0x4954f5(0x255),_0x2a0d4c+=_0x4954f5(0x2b8),_0x2a0d4c+=_0x4954f5(0x2a5),_0x2a0d4c+=_0x4954f5(0x2b8),currentCoins[_0x4954f5(0x24a)](_0x25ca2a=>{const _0x58b0dd=_0x4954f5;_0x2a0d4c+=_0x25ca2a[_0x58b0dd(0x2f2)][_0x58b0dd(0x353)](0x7)+'|\x20'+formatPad(_0x25ca2a[_0x58b0dd(0x1cd)],0x2,0x6)+'|\x20'+formatPad(_0x25ca2a[_0x58b0dd(0x32b)],0x2,0x6)+'|\x20'+formatPad(_0x25ca2a[_0x58b0dd(0x31f)]*0x64,0x2,0x6)+'\x0a';}),_0x2a0d4c+=_0x4954f5(0x233),process['send']({'telegrammsg':_0x2a0d4c},_0x422e43=>{});}function formatPad(_0x28eb29,_0x152f4b,_0x550cbe){const _0x52bc02=_0x107a91,_0x1e59c0=formatResultString(_0x28eb29,_0x152f4b);return _0x1e59c0?_0x1e59c0[_0x52bc02(0x2ae)](_0x550cbe):''[_0x52bc02(0x2ae)](_0x550cbe);}function logHistory(_0xabfa0f,_0x1cbc5d,_0x1af7f5=''){const _0x2d14fc=_0x107a91;logger[_0x2d14fc(0x247)](''+_0x1cbc5d);let _0x23f954={'time':getTimeStamp(),'type':_0xabfa0f,'event':_0x1cbc5d};dbLogs[_0x2d14fc(0x290)](_0x2d14fc(0x2c7))[_0x2d14fc(0x25f)](_0x23f954)[_0x2d14fc(0x1ec)]();if(_0x1af7f5=='')_0x1af7f5=_0x1cbc5d;proxyEmit(_0x2d14fc(0x24e),{'log':_0x23f954,'summary':_0x1af7f5}),process[_0x2d14fc(0x1eb)]({'telegram':{..._0x23f954,'botname':config[_0x2d14fc(0x221)],'showname':config[_0x2d14fc(0x1e8)]}},_0x534057=>{});}function emitHistory(_0x3adccd={}){const _0x1e3eea=_0x107a91;Object[_0x1e3eea(0x254)](_0x3adccd)[_0x1e3eea(0x312)]==0x0&&(_0x3adccd={'type':['order','event'],'event':'','page':0x1});if(_0x3adccd[_0x1e3eea(0x2de)][_0x1e3eea(0x358)](_0x1e3eea(0x24e)))_0x3adccd[_0x1e3eea(0x2de)][_0x1e3eea(0x22d)](_0x3adccd[_0x1e3eea(0x2de)][_0x1e3eea(0x21c)](_0x1e3eea(0x24e)),0x1,_0x1e3eea(0x308),_0x1e3eea(0x2a1),'success');if(dbLogs['has'](_0x1e3eea(0x2c7))['value']()){let _0x3ab133=dbLogs[_0x1e3eea(0x290)](_0x1e3eea(0x2c7))['filter'](_0x1dea67=>{const _0x4b53d3=_0x1e3eea;if(_0x3adccd[_0x4b53d3(0x2de)][_0x4b53d3(0x312)]==0x0)return![];else return _0x3adccd[_0x4b53d3(0x2de)][_0x4b53d3(0x358)](_0x1dea67['type']);})[_0x1e3eea(0x242)](_0x52d2ca=>{const _0x58b6dc=_0x1e3eea;if(_0x3adccd[_0x58b6dc(0x24e)]=='')return!![];else return _0x52d2ca[_0x58b6dc(0x24e)][_0x58b6dc(0x260)]()[_0x58b6dc(0x358)](_0x3adccd[_0x58b6dc(0x24e)][_0x58b6dc(0x260)]());})[_0x1e3eea(0x1d3)]('time'),_0x29fb0d=_0x3ab133[_0x1e3eea(0x321)]()[_0x1e3eea(0x312)];_0x3ab133=_0x3ab133['reverse']()['slice']((_0x3adccd[_0x1e3eea(0x26a)]-0x1)*logPageSize,_0x3adccd[_0x1e3eea(0x26a)]*logPageSize-0x1)['reverse']()[_0x1e3eea(0x321)](),proxyEmit('event-history',{'logs':_0x3ab133,'total':_0x29fb0d});}else proxyEmit(_0x1e3eea(0x2e6),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2fd0e8){const _0x3d5f53=_0x107a91;if(dbLogs['has'](_0x3d5f53(0x2c7))[_0x3d5f53(0x321)]()){const _0x3f0579=dbLogs[_0x3d5f53(0x290)]('logs')['sortBy']('time')[_0x3d5f53(0x242)](_0x2ba5de=>{return _0x2ba5de['type']=='order';})['value']();dbLogs[_0x3d5f53(0x290)]('logs')[_0x3d5f53(0x209)]()[_0x3d5f53(0x1ec)](),dbLogs[_0x3d5f53(0x290)](_0x3d5f53(0x2c7))['assign'](_0x3f0579)[_0x3d5f53(0x1ec)](),emitHistory(_0x2fd0e8);}}async function pauseBot(_0x4fed1c=pauseBotInterval){const _0xe2b371=_0x107a91,_0x542043=new Date()[_0xe2b371(0x2c6)]();if(!lastErrorShown||_0x542043-lastErrorShown>=_0x4fed1c){lastErrorShown=_0x542043;!lastBotPause?(lastBotPause=_0x542043,consecutivePauses=0x1):(_0x542043-lastBotPause-_0x4fed1c<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0xe2b371(0x322)},_0x4a0052=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0xe2b371(0x2c6)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x4fed1c),botPaused=![],reset(!![]);}}}async function killBot(){const _0x348953=_0x107a91;botPaused=!![],await sleep(0x3e8),process[_0x348953(0x1eb)]({'stop':_0x348953(0x228)},_0x2ce61e=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x4eaa82,_0x1ce16b){const _0x30c3bf=_0x107a91;if(botPaused)return;const _0x6f5b8f=config[_0x30c3bf(0x1da)]||_0x30c3bf(0x30e);if(_0x1ce16b)logger['debug'](_0x30c3bf(0x234)+_0x1ce16b);const _0x18fc02=()=>{const _0x2f2f06=_0x30c3bf;loading[_0x2f2f06(0x308)]=!![],emitLoadingProgress();};if(_0x4eaa82['toString']()[_0x30c3bf(0x358)](_0x30c3bf(0x1e3)))logHistory(_0x30c3bf(0x308),_0x6f5b8f+_0x30c3bf(0x1fc)),_0x18fc02();else{if(_0x4eaa82[_0x30c3bf(0x334)]()[_0x30c3bf(0x358)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x6f5b8f+_0x30c3bf(0x359)),_0x18fc02();else _0x4eaa82[_0x30c3bf(0x334)]()['includes'](_0x30c3bf(0x22f))?(logHistory(_0x30c3bf(0x308),_0x6f5b8f+_0x30c3bf(0x34c)),logHistory(_0x30c3bf(0x308),_0x30c3bf(0x1ce)),_0x18fc02()):await handleError(_0x4eaa82,null);}}async function handleError(_0x4b1555,_0x4c9bb0,_0x29aefe=''){const _0x90fb42=_0x107a91;if(botPaused)return;const _0x3b0002=config[_0x90fb42(0x1da)]||'Exchange';if(_0x4c9bb0)logger['debug'](_0x90fb42(0x234)+_0x4c9bb0);if(_0x4b1555[_0x90fb42(0x334)]()['includes'](_0x90fb42(0x297)))logHistory(_0x90fb42(0x308),_0x3b0002+_0x90fb42(0x32f)+pauseBotMsg),logger[_0x90fb42(0x261)](_0x90fb42(0x35f),_0x4b1555),await pauseBot();else{if(_0x4b1555['toString']()[_0x90fb42(0x358)](_0x90fb42(0x32e)))logHistory('error',_0x3b0002+_0x90fb42(0x22a)+pauseBotMsg),logger[_0x90fb42(0x261)](_0x90fb42(0x35f),_0x4b1555),await pauseBot();else{if(_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)](_0x90fb42(0x1f8))||_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)](_0x90fb42(0x1f1)))logHistory('error',_0x3b0002+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),await pauseBot();else{if(_0x4b1555[_0x90fb42(0x334)]()['includes']('RequestTimeout'))logHistory(_0x90fb42(0x308),_0x3b0002+_0x90fb42(0x288)+pauseBotMsg),logger[_0x90fb42(0x261)](_0x90fb42(0x35f),_0x4b1555),await pauseBot();else{if(_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory('error',_0x3b0002+_0x90fb42(0x32d)+pauseBotMsg),logger[_0x90fb42(0x261)](_0x90fb42(0x35f),_0x4b1555),await pauseBot();else{if(_0x4b1555['toString']()[_0x90fb42(0x260)]()['includes'](_0x90fb42(0x21f))||_0x4b1555['toString']()[_0x90fb42(0x260)]()[_0x90fb42(0x358)]('request-time'))logHistory(_0x90fb42(0x308),_0x90fb42(0x1c5)+pauseBotMsg),logger[_0x90fb42(0x261)]('Error\x20details:',_0x4b1555[_0x90fb42(0x334)]()),await pauseBot();else{if(_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)](_0x90fb42(0x286)))logHistory('error',_0x3b0002+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)'+pauseBotMsg),logger['debug']('Error\x20details:',_0x4b1555),await pauseBot();else{if(_0x4b1555 instanceof ccxt[_0x90fb42(0x1d9)])logHistory(_0x90fb42(0x308),_0x3b0002+_0x90fb42(0x2f7)+pauseBotMsg),logger[_0x90fb42(0x261)](_0x90fb42(0x35f),_0x4b1555),await pauseBot();else{if(_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)](_0x90fb42(0x1e3)))logHistory('error',_0x3b0002+_0x90fb42(0x22c)),logHistory(_0x90fb42(0x308),_0x90fb42(0x2bf)),await killBot();else{if(_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)](_0x90fb42(0x2dd)))logHistory('error',_0x3b0002+_0x90fb42(0x1cf)),logHistory(_0x90fb42(0x308),_0x90fb42(0x2bf)),await killBot();else{if(_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)](_0x90fb42(0x22f)))logHistory(_0x90fb42(0x308),_0x3b0002+_0x90fb42(0x327)),logHistory(_0x90fb42(0x308),_0x90fb42(0x2bf)),await killBot();else{if(_0x4b1555[_0x90fb42(0x334)]()[_0x90fb42(0x358)](_0x90fb42(0x262)))logHistory(_0x90fb42(0x308),_0x3b0002+_0x90fb42(0x20d)),logHistory(_0x90fb42(0x308),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x4b1555['toString']()[_0x90fb42(0x358)](_0x90fb42(0x357)))logHistory('error',_0x90fb42(0x275)+_0x29aefe);else{if(_0x4b1555 instanceof ccxt[_0x90fb42(0x2ff)]){logHistory(_0x90fb42(0x308),_0x3b0002+_0x90fb42(0x31a)),logger[_0x90fb42(0x261)](_0x90fb42(0x35f),_0x4b1555);if(_0x29aefe)logger[_0x90fb42(0x261)]('Symbol(s):\x20'+_0x29aefe);}else{logHistory(_0x90fb42(0x308),_0x90fb42(0x33b)+pauseBotMsg),logger[_0x90fb42(0x261)](_0x90fb42(0x35f),_0x4b1555);if(_0x29aefe)logger[_0x90fb42(0x261)]('Symbol(s):\x20'+_0x29aefe);await pauseBot();}}}}}}}}}}}}}}}async function withRetry(_0x5d4684,_0xb330c){const _0x23affa=_0x107a91;let _0x4c59ea=![],_0x585c43=0x0,_0x49465c,_0x324970;while(_0x585c43<maxRetries){try{_0x49465c=await _0xb330c();break;}catch(_0x4c0d87){_0x324970=_0x4c0d87,!_0x4c59ea?(_0x4c59ea=!![],logger[_0x23affa(0x261)](_0x23affa(0x299)+_0x5d4684+':',_0x4c0d87[_0x23affa(0x334)]())):await sleep(retryInterval);}_0x585c43++;}if(_0x585c43==0x0)return _0x49465c;if(_0x585c43>=maxRetries)throw _0x324970;else return logger['debug'](_0x23affa(0x2cd)+_0x585c43+_0x23affa(0x270)),_0x49465c;}function formatResult(_0x14d193,_0x5e640c){const _0x8d63b5=_0x107a91;return parseFloat(_0x14d193[_0x8d63b5(0x360)](_0x5e640c));}function formatResultTruncate(_0x3f1b57,_0x529f28){const _0x38731e=_0x107a91;let _0x2d24d9=formatResultString(_0x3f1b57,0xa),_0x47bdad=_0x2d24d9[_0x38731e(0x21c)]('.');return _0x47bdad!=-0x1&&(_0x2d24d9=_0x2d24d9[_0x38731e(0x285)](0x0,_0x47bdad+_0x529f28+0x1)),Number(_0x2d24d9);}function formatResultString(_0x20a06c,_0x796553){const _0x21d3fb=_0x107a91;let _0xe0261;if(!(''+_0x20a06c)[_0x21d3fb(0x358)]('e'))_0xe0261=+(Math['round'](_0x20a06c+'e+'+_0x796553)+'e-'+_0x796553);else{let _0x55c308=(''+_0x20a06c)['split']('e'),_0x905fe0='';+_0x55c308[0x1]+_0x796553>0x0&&(_0x905fe0='+'),_0xe0261=+(Math[_0x21d3fb(0x1ba)](+_0x55c308[0x0]+'e'+_0x905fe0+(+_0x55c308[0x1]+_0x796553))+'e-'+_0x796553);}return Number(_0xe0261)['toFixed'](_0x796553);}function getServerTime(){const _0x5970f6=_0x107a91,_0xb66130=new Date();return _0xb66130['getFullYear']()+'/'+(_0xb66130[_0x5970f6(0x306)]()+0x1)[_0x5970f6(0x334)]()[_0x5970f6(0x2ae)](0x2,'0')+'/'+_0xb66130[_0x5970f6(0x2ef)]()['toString']()[_0x5970f6(0x2ae)](0x2,'0')+'\x20'+_0xb66130[_0x5970f6(0x26e)]()[_0x5970f6(0x334)]()[_0x5970f6(0x2ae)](0x2,'0')+':'+_0xb66130[_0x5970f6(0x2d5)]()['toString']()['padStart'](0x2,'0')+':'+_0xb66130[_0x5970f6(0x301)]()['toString']()[_0x5970f6(0x2ae)](0x2,'0');}function getTimeStamp(){const _0x4f65bc=_0x107a91,_0x52837d=shiftedTime();return _0x52837d[_0x4f65bc(0x2f3)]()+'/'+(_0x52837d['getMonth']()+0x1)['toString']()[_0x4f65bc(0x2ae)](0x2,'0')+'/'+_0x52837d[_0x4f65bc(0x2ef)]()[_0x4f65bc(0x334)]()[_0x4f65bc(0x2ae)](0x2,'0')+'\x20'+_0x52837d['getHours']()[_0x4f65bc(0x334)]()[_0x4f65bc(0x2ae)](0x2,'0')+':'+_0x52837d[_0x4f65bc(0x2d5)]()['toString']()[_0x4f65bc(0x2ae)](0x2,'0')+':'+_0x52837d['getSeconds']()['toString']()[_0x4f65bc(0x2ae)](0x2,'0');}function getDate(){const _0x4a3ce2=_0x107a91,_0x5436ca=shiftedTime();return _0x5436ca['getFullYear']()+'/'+(_0x5436ca[_0x4a3ce2(0x306)]()+0x1)[_0x4a3ce2(0x334)]()['padStart'](0x2,'0')+'/'+_0x5436ca[_0x4a3ce2(0x2ef)]()[_0x4a3ce2(0x334)]()[_0x4a3ce2(0x2ae)](0x2,'0');}function getHour(){const _0x5b1631=_0x107a91,_0x5530ad=shiftedTime();return _0x5530ad[_0x5b1631(0x26e)]()[_0x5b1631(0x334)]()[_0x5b1631(0x2ae)](0x2,'0');}function sleep(_0x24b48f){return new Promise(_0x88d5ec=>setTimeout(_0x88d5ec,_0x24b48f));}function shiftedTime(){const _0xd2f151=_0x107a91,_0x1eb622=new Date();let _0x5d6e4a=_0x1eb622;if(config&&config[_0xd2f151(0x206)]!==0x0)_0x5d6e4a=fns['add'](_0x1eb622,{'hours':config[_0xd2f151(0x206)]});return _0x5d6e4a;}function timer(_0x593014){const _0x5d14ef=_0x107a91,_0x5a0f90=new Date();!lasttime?console[_0x5d14ef(0x24f)](getTimeStamp()+':\x20timer\x20>',_0x593014,_0x5a0f90):console[_0x5d14ef(0x24f)](getTimeStamp()+_0x5d14ef(0x269),_0x593014,(_0x5a0f90-lasttime)/0x3e8),lasttime=_0x5a0f90;}