const _0x12fc42=_0xeab9;(function(_0x5990ac,_0x212c4c){const _0x59bf0b=_0xeab9,_0x1b004b=_0x5990ac();while(!![]){try{const _0xeac76f=parseInt(_0x59bf0b(0x228))/0x1*(parseInt(_0x59bf0b(0x24d))/0x2)+-parseInt(_0x59bf0b(0x2dc))/0x3+parseInt(_0x59bf0b(0x2ea))/0x4*(parseInt(_0x59bf0b(0x242))/0x5)+parseInt(_0x59bf0b(0x206))/0x6+parseInt(_0x59bf0b(0x29b))/0x7*(parseInt(_0x59bf0b(0x1f2))/0x8)+parseInt(_0x59bf0b(0x219))/0x9+-parseInt(_0x59bf0b(0x1f3))/0xa;if(_0xeac76f===_0x212c4c)break;else _0x1b004b['push'](_0x1b004b['shift']());}catch(_0x16e153){_0x1b004b['push'](_0x1b004b['shift']());}}}(_0x103a,0x70022));const _0x1dd6ea=function(){let _0x27c22a=!![];return function(_0x55a1d3,_0x566e36){const _0x3de2cb=_0x27c22a?function(){const _0x12bfa6=_0xeab9;if(_0x566e36){const _0x56528e=_0x566e36[_0x12bfa6(0x2f4)](_0x55a1d3,arguments);return _0x566e36=null,_0x56528e;}}:function(){};return _0x27c22a=![],_0x3de2cb;};}(),_0x5d9c8a=_0x1dd6ea(this,function(){const _0x312c63=_0xeab9;return _0x5d9c8a[_0x312c63(0x2d2)]()[_0x312c63(0x2ff)](_0x312c63(0x27b))['toString']()['constructor'](_0x5d9c8a)[_0x312c63(0x2ff)](_0x312c63(0x27b));});_0x5d9c8a();'use strict';const ccxt=require(_0x12fc42(0x22a)),low=require(_0x12fc42(0x299)),FileSync=require(_0x12fc42(0x2e9)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger}=require('binance'),Crypt=require(_0x12fc42(0x1eb))[_0x12fc42(0x247)];function _0x103a(){const _0x50d1a9=['Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','toFixed','isArray','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','version','Order:\x20','threshold','reverse','get','kill','coinamount','\x20-\x20','bot-','side','mkdirSync','headless','limit-low','BTCEUR','log','fetchBalance','BTC/BUSD','Bot\x20','fetchTickers','emitHistory','valid','EUR','formattedMessage','liquidity','Unfilled\x20order(s)\x20canceled\x20after\x20','accumulatedQuantity','test','loadMarkets','ExchangeNotAvailable','emojibuy','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','-config.json','userData','exchange','sell','min','toString','sort','\x20hour','binanceus','fetchOrders','number','recreateHistory()','starting-balance-','data','spot','201033QTELWc','isEqual','limits','findIndex','event-history','storeConfiguration','error','realized','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','kline','limit','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','HOT/BTC','lowdb/adapters/FileSync','53860tBXVXO','bot','delta','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','cooldown','length','startnumber','entries','LIMIT','symbol','apply','Invalid\x20quantity','restart','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','splice','defaults','changes','BTC','balances','RequestTimeout','offset','search','function','last','buy','has','InsufficientFunds','configuration-stored','-results.json','differenceInCalendarDays','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','cancelOrder()','API-key\x20format\x20invalid','subscribeSpotUserDataStream','hybrid-crypto-js','orderStatus','limit-high','usd','USDT','fetchOHLCV','cancelLoading','112kMOlNA','21708180OPYhDT','basecoin','BNB','Limit\x20(high-margin)','subDays','AuthenticationError','performance','writeFile',',\x20must\x20be\x20a\x203\x20digit\x20number','getTime','outboundAccountPosition','HOT/EUR','write','OrderNotFound','message','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','./config/','filled','\x20order:\x20','5274420VUlFkk','running',')\x20|\x20Error\x20details:\x20','asset','USDC','availableBalance','fees','getCoins()','breakeven','eventType','/backup/','argv','enabled','wsMarket','Limit\x20(low-margin)','configuration','ordertype','getHours','starting-balances','6445692KxrPsc','fee','orderType','portfolio','cancelOrder','trade','timeshift','Pausing\x20bot\x20for\x205\x20minutes\x20(','reconnected','keys','emojisell','total','toLowerCase','time','privateKey','1tOrPaz','set','ccxt','remainingSymbols','slice','botname','split','\x20|\x20Unknown\x20error\x20occured','value','settings','order','placeOrder','filter','includes','sha256','push','cloneDeep','args','getStartingBalances','Order\x20amount\x20is\x20invalid:\x20','currency','logs','timestamp','binance','format','assign','135FpiPKW','apiSecret','bid','Binance\x20API\x20secret\x20is\x20invalid','yyyy-MM-dd\x27T\x27HH:mm:ss','Crypt','page','Order(s)\x20validated\x20-\x20balancing\x20resumed','stringify','padStart','addDays','1255916dBWeHa','existsSync','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','find','round','getSeconds','add','************','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','datetime','event','2.3.5','price','cost','excluded','getDate','indexOf',':\x20Bot\x20','progress','buys','sells','sortBy','001','success','BTC/USDT','\x20minutes\x20-\x20balancing\x20resumed','market','\x20orders\x20in\x20less\x20than\x20','loadSymbols()','distribution','InvalidNonce','amount','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','createOrder','replace','coins','coin','differenceInSeconds','startprice','abs','forEach','\x20>\x20','getPortfolio()','apiKey','wsKey','parseISO','(((.+)+)+)+$','showname','Error:\x20Invalid\x20argument\x20','Order(s)\x20not\x20validated\x20after\x20','timeout','ticker','map','max','-performance.json','send','fromCodePoint','join','getFullYear','Performance\x20recreation\x20completed\x20successfully','parse',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','exit','yyyy/MM/dd','wss://stream.binance.com:9443','DAI/','placeOrder()','Order(s)\x20filled\x20-\x20balancing\x20resumed','secure','coin-loading-progress','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','RSA-OAEP','BUSD','startdate','BTC/EUR','lowdb','target','54922kpHGJc','type','symbols','getMinutes','date','subscribeSpotKline','remove','yyyy/MM/dd\x20HH:mm:ss','./version.json','eur','WebSockets(','closeWs','Order\x20filled:\x20','BTCUSDT','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'];_0x103a=function(){return _0x50d1a9;};return _0x103a();}let exchange,wsClient;global[_0x12fc42(0x280)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x12fc42(0x2a3))[_0x12fc42(0x2ae)],botID=process[_0x12fc42(0x211)][0x2]||_0x12fc42(0x263),pattern=/^[0-9]{3}$/;if(!pattern[_0x12fc42(0x2c8)](botID))return console[_0x12fc42(0x2bc)](_0x12fc42(0x27d)+botID+_0x12fc42(0x1fb)),process[_0x12fc42(0x28c)](0x1);const userID=process[_0x12fc42(0x211)][0x3]||'',configpath=userID?_0x12fc42(0x203)+userID+'/':_0x12fc42(0x203);!fs[_0x12fc42(0x24e)](configpath)&&fs[_0x12fc42(0x2b8)](configpath);const configfile=configpath+_0x12fc42(0x2b6)+botID+_0x12fc42(0x2cd),logfile=configpath+_0x12fc42(0x2b6)+botID+'-events.json',performancefile=configpath+'bot-'+botID+_0x12fc42(0x283),coinresultsfile=configpath+_0x12fc42(0x2b6)+botID+_0x12fc42(0x306),settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x12fc42(0x210),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x12fc42(0x2f9)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x12fc42(0x2f9)]({'data':[]})[_0x12fc42(0x1ff)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x12fc42(0x2f9)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x12fc42(0x2f9)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x12fc42(0x2bb),'symbol':_0x12fc42(0x298)},'usd':{'coin':'BTCUSDT','symbol':_0x12fc42(0x265)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x5042fd)=>{},'debug':(..._0x2aa393)=>{},'notice':(..._0x2c68a8)=>{},'info':(..._0x156e7a)=>{},'warning':(..._0x3e73a9)=>{},'error':async function(..._0x28fdc4){const _0x3ac948=_0x12fc42,_0x34f0a6=new Date()['getTime']();if(!lastErrorShown||_0x34f0a6-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x3ac948(0x1fc)](),logHistory(_0x3ac948(0x2e2),_0x3ac948(0x2a5)+consecutivePauses+_0x3ac948(0x28a));let _0x3cf285='';if(_0x28fdc4[0x0])_0x3cf285+=_0x28fdc4[0x0];if(_0x28fdc4[0x1]&&_0x28fdc4[0x1][_0x3ac948(0x2e2)]&&_0x28fdc4[0x1][_0x3ac948(0x2e2)][_0x3ac948(0x201)])_0x3cf285+=_0x3ac948(0x2b5)+_0x28fdc4[0x1][_0x3ac948(0x2e2)]['message'];logging(_0x3ac948(0x2a5)+consecutivePauses+_0x3ac948(0x208),''+_0x3cf285),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x12fc42(0x236),'rsaStandard':_0x12fc42(0x295)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x12fc42(0x21f)]!=config[_0x12fc42(0x21f)]&&updateTimeshift(settings[_0x12fc42(0x21f)]);process[_0x12fc42(0x284)]({'started':_0x12fc42(0x207)},_0x439f70=>{}),initializeProcessListeners();function proxyEmit(_0xdec062,_0x56c2b4=null){process['send']({'function':_0xdec062,'args':_0x56c2b4},_0x4aa1dd=>{});}function initializeProcessListeners(){process['on']('message',_0x256290=>{const _0x169a7d=_0xeab9;switch(Object[_0x169a7d(0x222)](_0x256290)[0x0]){case _0x169a7d(0x21f):_0x256290[_0x169a7d(0x21f)]!=undefined&&(settings[_0x169a7d(0x21f)]=_0x256290['timeshift'],updateTimeshift(settings[_0x169a7d(0x21f)]));break;case _0x169a7d(0x300):switch(_0x256290[_0x169a7d(0x300)]){case'initclient':initclient();break;case _0x169a7d(0x2c1):emitHistory(_0x256290[_0x169a7d(0x239)]);break;case'getPortfolio':getPortfolio(_0x256290[_0x169a7d(0x239)]);break;case _0x169a7d(0x2e1):storeConfiguration(_0x256290['args']);break;case'storeHeadless':storeHeadless(_0x256290[_0x169a7d(0x239)]);break;case _0x169a7d(0x23a):getStartingBalances(getNormalizedPerformance());break;case _0x169a7d(0x233):placeOrder(_0x256290[_0x169a7d(0x239)]);break;case _0x169a7d(0x1f1):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x36f74f=_0x12fc42;if(pidBalances)clearTimeout(pidBalances);if(config[_0x36f74f(0x278)]!=''){await initExchange(config[_0x36f74f(0x278)],config[_0x36f74f(0x243)]);let _0x57e974=await loadSymbols();_0x57e974&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x570746,_0x26fb18){const _0x4b3b6d=_0x12fc42,_0x5896db=ccxt[config[_0x4b3b6d(0x2cf)]];let _0x101e44;switch(config['exchange']){case'binance':_0x101e44='wss://stream.binance.com:9443';break;case _0x4b3b6d(0x2d5):_0x101e44='wss://stream.binance.us:9443';break;default:_0x101e44=_0x4b3b6d(0x28e);}exchange=new _0x5896db({'apiKey':_0x570746,'secret':_0x26fb18,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x570746,'api_secret':_0x26fb18,'beautify':!![],'wsUrl':_0x101e44},logger),config[_0x4b3b6d(0x2cf)]==_0x4b3b6d(0x2d5)&&(stablecoins={'eur':{'coin':'BTCBUSD','symbol':_0x4b3b6d(0x2be)},'usd':{'coin':_0x4b3b6d(0x2a8),'symbol':'BTC/USDT'}});}async function loadSymbols(){const _0x58058e=_0x12fc42;let _0x2dae76;try{markets=await exchange[_0x58058e(0x2c9)]();const _0x4b7589=[_0x58058e(0x28f),_0x58058e(0x2e8),_0x58058e(0x1fe)];allSymbols=exchange[_0x58058e(0x29d)][_0x58058e(0x234)](_0xd23bd1=>{let _0x368d10=![];return _0x4b7589['forEach'](_0x5af7b3=>{const _0x4fd610=_0xeab9;if(_0xd23bd1[_0x4fd610(0x235)](_0x5af7b3))_0x368d10=!![];}),!_0x368d10;}),_0x2dae76=!![];}catch(_0x524d96){await handleError(_0x524d96,_0x58058e(0x269)),_0x2dae76=![];}return _0x2dae76;}async function initbot(){const _0xa69938=_0x12fc42;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x13993d=dbCoinResults[_0xa69938(0x2b2)]('coins')[_0xa69938(0x230)]();if(_0x13993d[_0xa69938(0x2ef)]==0x0)await resetCoinResults();}async function initclient(){const _0x112883=_0x12fc42;proxyEmit(_0x112883(0x215),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x112883(0x2fc),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x37b5c5=getNormalizedPerformance();emitPerformance(_0x37b5c5),await getStartingBalances(_0x37b5c5);}function cleanws(){const _0x41bcb9=_0x12fc42;wsinitialized=![];ws1&&(ws1[_0x41bcb9(0x275)](_0x46be14=>{const _0x3cca40=_0x41bcb9;try{wsClient[_0x3cca40(0x2a6)](_0x46be14);}catch(_0x161ede){}}),ws1=[]);if(ws2){try{wsClient[_0x41bcb9(0x2a6)](ws2);}catch(_0x1b9523){}ws2=null;}}async function initws(){const _0x5db333=_0x12fc42;cleanws();let _0x4a6797=[];currentCoins[_0x5db333(0x275)](_0x49a154=>{const _0x42b42a=_0x5db333;if(_0x49a154['coin']!=config[_0x42b42a(0x1f4)])_0x4a6797[_0x42b42a(0x237)](noslash(_0x49a154['symbol']));});if(!_0x4a6797['includes'](stablecoins[_0x5db333(0x2a4)]['coin']))_0x4a6797[_0x5db333(0x237)](stablecoins[_0x5db333(0x2a4)]['coin']);if(!_0x4a6797[_0x5db333(0x235)](stablecoins[_0x5db333(0x1ee)][_0x5db333(0x271)]))_0x4a6797[_0x5db333(0x237)](stablecoins['usd'][_0x5db333(0x271)]);if(!_0x4a6797[_0x5db333(0x235)](_0x5db333(0x1f5)+config[_0x5db333(0x1f4)]))_0x4a6797['push'](_0x5db333(0x1f5)+config[_0x5db333(0x1f4)]);try{_0x4a6797[_0x5db333(0x275)]((_0x1873a7,_0x30525)=>{const _0x1964ce=_0x5db333;ws1[_0x30525]=wsClient[_0x1964ce(0x2a0)](_0x1873a7,'1m');}),ws2=wsClient[_0x5db333(0x1ea)](),wsClient['on'](_0x5db333(0x2c4),_0x453f65=>{const _0x4df735=_0x5db333;if(!Array['isArray'](_0x453f65)&&!_0x453f65[_0x4df735(0x279)][_0x4df735(0x235)]('userData')){if(_0x453f65[_0x4df735(0x20f)]===_0x4df735(0x2e5)){global[_0x4df735(0x280)][_0x453f65[_0x4df735(0x2e5)][_0x4df735(0x2f3)]]=_0x453f65[_0x4df735(0x2e5)]['close'];return;}}else{if(!Array[_0x4df735(0x2ac)](_0x453f65)&&_0x453f65[_0x4df735(0x279)][_0x4df735(0x235)](_0x4df735(0x2ce))){if(_0x453f65[_0x4df735(0x213)][_0x4df735(0x235)](_0x4df735(0x2db))){updateNumberCoins(_0x453f65);return;}}}}),wsClient['on'](_0x5db333(0x221),async _0x3c1928=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0xaaffe4){await handleError(_0xaaffe4,'initws()');}let _0x5750da,_0x1b79d1=0x0;loading['remainingSymbols']=[];let _0x4354a6=0x0;currentCoins[_0x5db333(0x275)](_0xf219f2=>{const _0x3dfed7=_0x5db333;if(_0xf219f2[_0x3dfed7(0x271)]!=config['basecoin'])loading[_0x3dfed7(0x22b)][_0x3dfed7(0x237)](_0xf219f2[_0x3dfed7(0x2f3)]);}),loadingCanceled=![];while(_0x5750da!=currentCoins['length']-0x1){_0x5750da=0x0,currentCoins[_0x5db333(0x275)](_0x404e9a=>{const _0x1db1c5=_0x5db333;_0x404e9a[_0x1db1c5(0x271)]!=config[_0x1db1c5(0x1f4)]&&global[_0x1db1c5(0x280)][noslash(_0x404e9a['symbol'])]&&(loading[_0x1db1c5(0x22b)]=loading[_0x1db1c5(0x22b)][_0x1db1c5(0x234)](_0x377533=>_0x377533!=_0x404e9a[_0x1db1c5(0x2f3)]),_0x5750da++);}),loading[_0x5db333(0x25f)]=Math[_0x5db333(0x251)](_0x5750da/(currentCoins[_0x5db333(0x2ef)]-0x1)*0x64);_0x4354a6>0x1e*0x5&&(loading[_0x5db333(0x27f)]=!![],emitLoadingProgress());if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x5750da!=_0x1b79d1&&(_0x1b79d1=_0x5750da,emitLoadingProgress()),_0x4354a6++,await sleep(0xc8);}if(_0x5750da==currentCoins['length']-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x3e538d=_0x12fc42;proxyEmit(_0x3e538d(0x293),loading);}async function getFiat(){const _0x46f42d=_0x12fc42;let _0x3818e9=0x0,_0x58eecd=0x0;try{_0x3818e9=global[_0x46f42d(0x280)][stablecoins[_0x46f42d(0x2a4)][_0x46f42d(0x271)]],_0x58eecd=global['ticker'][stablecoins[_0x46f42d(0x1ee)][_0x46f42d(0x271)]];}catch(_0x4319fd){await handleError(_0x4319fd,'getFiat()');}return{'eur':Number(_0x3818e9),'usd':Number(_0x58eecd)};}function setStartDatePerformance(){const _0x229e69=_0x12fc42;if(config&&config[_0x229e69(0x2c5)][0x0][_0x229e69(0x2fa)]['length']!=0x0){const _0x1274d2=config[_0x229e69(0x2c5)][0x0][_0x229e69(0x2fa)];dbPerformance[_0x229e69(0x2b2)](_0x229e69(0x2da))[_0x229e69(0x250)]({'date':config[_0x229e69(0x297)]})[_0x229e69(0x241)]({'coins':_0x1274d2})[_0x229e69(0x1ff)]();}}async function recreateHistory(_0x5811d0){const _0x2beaeb=_0x12fc42;let _0x4805a0,_0x342c7e=[];logHistory(_0x2beaeb(0x264),'Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0x5811d0[_0x2beaeb(0x21c)][_0x2beaeb(0x275)](_0x134e6f=>{const _0xfc4f6c=_0x2beaeb;if(_0x134e6f[_0xfc4f6c(0x271)]!=config[_0xfc4f6c(0x1f4)]&&!_0x134e6f[_0xfc4f6c(0x25b)])_0x342c7e[_0xfc4f6c(0x237)]({'coin':_0x134e6f[_0xfc4f6c(0x271)],'symbol':_0x134e6f[_0xfc4f6c(0x2f3)]});});let _0x58c694=[];try{const _0x2755fe=fns[_0x2beaeb(0x240)](fns[_0x2beaeb(0x27a)](_0x5811d0[_0x2beaeb(0x297)][_0x2beaeb(0x26f)](/\//g,'-')),_0x2beaeb(0x246));for(const _0x16b7a8 of _0x342c7e){if(_0x16b7a8['coin']!=config[_0x2beaeb(0x1f4)])_0x4805a0=await exchange[_0x2beaeb(0x2d6)](_0x16b7a8[_0x2beaeb(0x2f3)],Date[_0x2beaeb(0x289)](_0x2755fe));_0x4805a0['forEach'](_0x313b8d=>{const _0x38d225=_0x2beaeb,_0x2e52ef=_0x16b7a8[_0x38d225(0x2f3)][_0x38d225(0x235)](config[_0x38d225(0x1f4)]+'/'),_0x42dad2=fns['format'](fns['parseISO'](_0x313b8d['datetime']),_0x38d225(0x2a2)),_0x1cd525=fns['format'](fns[_0x38d225(0x27a)](_0x313b8d[_0x38d225(0x256)]),_0x38d225(0x28d));let _0x2503d7;if(_0x313b8d[_0x38d225(0x2b7)]==_0x38d225(0x302)&&_0x2e52ef==![])_0x2503d7=_0x313b8d['amount'];if(_0x313b8d['side']==_0x38d225(0x302)&&_0x2e52ef==!![])_0x2503d7=-_0x313b8d[_0x38d225(0x26c)]*_0x313b8d[_0x38d225(0x259)];if(_0x313b8d[_0x38d225(0x2b7)]==_0x38d225(0x2d0)&&_0x2e52ef==![])_0x2503d7=-_0x313b8d[_0x38d225(0x26c)];if(_0x313b8d[_0x38d225(0x2b7)]==_0x38d225(0x2d0)&&_0x2e52ef==!![])_0x2503d7=_0x313b8d[_0x38d225(0x26c)]*_0x313b8d[_0x38d225(0x259)];_0x58c694[_0x38d225(0x237)]({'timestamp':_0x42dad2,'date':_0x1cd525,'coin':_0x16b7a8[_0x38d225(0x271)],'symbol':_0x16b7a8[_0x38d225(0x2f3)],'type':_0x313b8d[_0x38d225(0x29c)],'side':_0x313b8d['side'],'reverse':_0x2e52ef,'amount':formatResult(_0x313b8d['filled'],0x8),'filled':formatResult(_0x313b8d[_0x38d225(0x204)],0x8),'coinamount':formatResult(_0x2503d7,0x8),'price':formatResult(_0x313b8d[_0x38d225(0x259)],0x8)});let _0x128709;if(_0x313b8d[_0x38d225(0x2b7)]==_0x38d225(0x302)&&_0x2e52ef==![])_0x128709=-_0x313b8d[_0x38d225(0x26c)]*_0x313b8d[_0x38d225(0x259)];if(_0x313b8d[_0x38d225(0x2b7)]=='buy'&&_0x2e52ef==!![])_0x128709=_0x313b8d[_0x38d225(0x26c)];if(_0x313b8d[_0x38d225(0x2b7)]==_0x38d225(0x2d0)&&_0x2e52ef==![])_0x128709=_0x313b8d[_0x38d225(0x26c)]*_0x313b8d[_0x38d225(0x259)];if(_0x313b8d['side']==_0x38d225(0x2d0)&&_0x2e52ef==!![])_0x128709=-_0x313b8d[_0x38d225(0x26c)];_0x58c694[_0x38d225(0x237)]({'date':_0x1cd525,'coin':config[_0x38d225(0x1f4)],'coinamount':formatResult(_0x128709,0x8)});});}_0x58c694['sort']((_0x221c41,_0x7fb7a7)=>_0x221c41[_0x2beaeb(0x23e)]>_0x7fb7a7[_0x2beaeb(0x23e)]?0x1:_0x7fb7a7[_0x2beaeb(0x23e)]>_0x221c41[_0x2beaeb(0x23e)]?-0x1:0x0),dbLogs[_0x2beaeb(0x2b2)](_0x2beaeb(0x23d))[_0x2beaeb(0x2a1)]()[_0x2beaeb(0x1ff)](),_0x58c694[_0x2beaeb(0x275)](_0x42a0ee=>{const _0x2a5b0d=_0x2beaeb;let _0x29962c;_0x42a0ee[_0x2a5b0d(0x271)]!=config[_0x2a5b0d(0x1f4)]&&(_0x29962c={'time':_0x42a0ee[_0x2a5b0d(0x23e)],'type':'order','event':_0x2a5b0d(0x2af)+_0x42a0ee[_0x2a5b0d(0x2f3)]+'\x20'+_0x42a0ee['side']+'\x20#'+_0x42a0ee['amount']+'\x20@'+_0x42a0ee['price']},dbLogs[_0x2a5b0d(0x2b2)](_0x2a5b0d(0x23d))[_0x2a5b0d(0x237)](_0x29962c)[_0x2a5b0d(0x1ff)]());});const _0x327a6c=fns['eachDayOfInterval']({'start':new Date(_0x5811d0[_0x2beaeb(0x297)]),'end':new Date()})[_0x2beaeb(0x281)](_0x32756b=>fns[_0x2beaeb(0x240)](_0x32756b,_0x2beaeb(0x28d)));let _0x3ef136=[];_0x5811d0[_0x2beaeb(0x21c)][_0x2beaeb(0x275)](_0x3da1c9=>{const _0x470463=_0x2beaeb;if(!_0x3da1c9[_0x470463(0x25b)]){_0x3ef136[_0x3da1c9[_0x470463(0x271)]]=[];let _0x5aacf8=_0x3da1c9[_0x470463(0x2f0)];_0x327a6c[_0x470463(0x275)]((_0xcdc81a,_0x55fc9a)=>{const _0x6480f8=_0x470463;let _0x301280=_0x58c694['filter'](_0x4c448a=>_0x4c448a['coin']==_0x3da1c9[_0x6480f8(0x271)]&&_0x4c448a[_0x6480f8(0x29f)]==_0xcdc81a);if(_0x301280[_0x6480f8(0x2ef)]!=0x0){let _0x5c1d69=_0x301280['reduce']((_0x56f287,_0x5ee474)=>{const _0x5cc3e0=_0x6480f8;return _0x56f287+=_0x5ee474[_0x5cc3e0(0x2b4)],_0x56f287;},0x0);_0x5aacf8+=_0x5c1d69;}_0x3ef136[_0x3da1c9['coin']][_0xcdc81a]=_0x5aacf8;});}});const _0xe27a1a=[..._0x342c7e];_0xe27a1a[_0x2beaeb(0x237)]({'coin':stablecoins[_0x2beaeb(0x2a4)][_0x2beaeb(0x271)],'symbol':stablecoins['eur']['symbol']}),_0xe27a1a[_0x2beaeb(0x237)]({'coin':stablecoins[_0x2beaeb(0x1ee)][_0x2beaeb(0x271)],'symbol':stablecoins['usd'][_0x2beaeb(0x2f3)]});let _0x27a72a=[];for(const _0x392577 of _0xe27a1a){_0x27a72a[_0x392577[_0x2beaeb(0x271)]]=await getCloses(_0x392577[_0x2beaeb(0x2f3)],new Date(_0x5811d0[_0x2beaeb(0x297)]));}dbPerformance[_0x2beaeb(0x2b2)](_0x2beaeb(0x2da))[_0x2beaeb(0x2a1)]()['write'](),_0x327a6c[_0x2beaeb(0x275)]((_0x156c43,_0x5a30b1)=>{const _0x5bef77=_0x2beaeb;let _0x53bb21,_0x2d521b=[];_0x5a30b1==0x0?(_0x5811d0['portfolio'][_0x5bef77(0x275)](_0x47c103=>{const _0x426a29=_0x5bef77;!_0x47c103[_0x426a29(0x25b)]&&_0x2d521b[_0x426a29(0x237)]({'coin':_0x47c103[_0x426a29(0x271)],'number':_0x47c103[_0x426a29(0x2f0)],'price':_0x47c103['startprice']});}),_0x53bb21={'date':_0x156c43,'eur':_0x27a72a[stablecoins[_0x5bef77(0x2a4)][_0x5bef77(0x271)]][_0x5a30b1],'usd':_0x27a72a[stablecoins[_0x5bef77(0x1ee)][_0x5bef77(0x271)]][_0x5a30b1],'coins':_0x2d521b}):(_0x5811d0[_0x5bef77(0x21c)]['forEach'](_0x321191=>{const _0x59cdce=_0x5bef77;!_0x321191[_0x59cdce(0x25b)]&&_0x2d521b[_0x59cdce(0x237)]({'coin':_0x321191['coin'],'number':_0x3ef136[_0x321191[_0x59cdce(0x271)]][_0x156c43],'price':_0x321191[_0x59cdce(0x271)]==config['basecoin']?0x1:_0x27a72a[_0x321191[_0x59cdce(0x271)]][_0x5a30b1]});}),_0x53bb21={'date':_0x156c43,'eur':_0x27a72a[stablecoins[_0x5bef77(0x2a4)][_0x5bef77(0x271)]][_0x5a30b1],'usd':_0x27a72a[stablecoins[_0x5bef77(0x1ee)]['coin']][_0x5a30b1],'coins':_0x2d521b}),dbPerformance[_0x5bef77(0x2b2)](_0x5bef77(0x2da))['push'](_0x53bb21)[_0x5bef77(0x1ff)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x439aac of _0x58c694){_0x439aac['coin']!=config[_0x2beaeb(0x1f4)]&&await updateCoinResults(_0x439aac);}logHistory(_0x2beaeb(0x264),_0x2beaeb(0x288));}catch(_0xe6b382){await handleError(_0xe6b382,_0x2beaeb(0x2d8));}}async function getCloses(_0x4839b2,_0x2328d8,_0x5090fe=undefined){const _0x1765f4=_0x12fc42,_0x3ca476='1d';let _0x4c111a,_0x31e273;const _0x1d2876=fns[_0x1765f4(0x307)](new Date(),_0x2328d8)+0x1;try{const _0x4cfb0c=exchange['milliseconds']()-_0x1d2876*0x18*0xe10*0x3e8;_0x4c111a=await exchange[_0x1765f4(0x1f0)](_0x4839b2,_0x3ca476,_0x4cfb0c,_0x5090fe),_0x31e273=await exchange[_0x1765f4(0x2c0)](_0x4839b2);}catch(_0x3bc3af){await handleError(_0x3bc3af,'getCloses()');}let _0x26ac04=ohlcvToCloses(_0x4c111a);return _0x26ac04['push'](_0x31e273[_0x4839b2][_0x1765f4(0x301)]),_0x26ac04;}function ohlcvToCloses(_0x5877a2){const _0x32ac94=_0x12fc42;let _0x3172bb=[];return _0x5877a2[_0x32ac94(0x275)](function(_0x529c0b){_0x3172bb['push'](_0x529c0b[0x4]);}),_0x3172bb;}function oneTimeMigration(){const _0xf40ca0=_0x12fc42;let _0x57561f=dbLogs[_0xf40ca0(0x2b2)](_0xf40ca0(0x2ae))[_0xf40ca0(0x230)]();if(_0x57561f!=_0xf40ca0(0x258)){dbLogs[_0xf40ca0(0x229)](_0xf40ca0(0x2ae),_0xf40ca0(0x258))[_0xf40ca0(0x1ff)]();let _0x279e83=[];const _0x198722=dbLogs[_0xf40ca0(0x2b2)]('logs')[_0xf40ca0(0x230)]();_0x198722[_0xf40ca0(0x275)](_0x40cfb6=>{const _0x20bcc5=_0xf40ca0;_0x279e83['push']({'time':_0x40cfb6[_0x20bcc5(0x226)],'type':_0x40cfb6[_0x20bcc5(0x29c)],'event':_0x40cfb6[_0x20bcc5(0x257)]});}),dbLogs[_0xf40ca0(0x2b2)](_0xf40ca0(0x23d))[_0xf40ca0(0x241)](_0x279e83)['write']();}let _0x3853d=dbConfig['get']('version')[_0xf40ca0(0x230)]();if(_0x3853d!=_0xf40ca0(0x258)){dbConfig[_0xf40ca0(0x229)](_0xf40ca0(0x2ae),_0xf40ca0(0x258))[_0xf40ca0(0x1ff)]();let _0x1f3f62=dbConfig[_0xf40ca0(0x2b2)](_0xf40ca0(0x2eb))[_0xf40ca0(0x250)]({'botID':botID})['value']();if(_0x1f3f62){let _0x1e2c24=[];_0x1f3f62[_0xf40ca0(0x21c)]['forEach'](_0x3da647=>{const _0x551b51=_0xf40ca0;_0x1e2c24[_0x551b51(0x237)]({'coin':_0x3da647[_0x551b51(0x271)],'number':_0x3da647[_0x551b51(0x2f0)],'price':_0x3da647[_0x551b51(0x273)]}),delete _0x3da647[_0x551b51(0x2f0)],delete _0x3da647[_0x551b51(0x273)];});if(_0x1e2c24['length']!==0x0)fs[_0xf40ca0(0x1fa)](configbackuppath+(_0xf40ca0(0x2d9)+botID+'.json'),JSON[_0xf40ca0(0x24a)](_0x1e2c24,null,0x4),function(_0xf4f992){if(_0xf4f992){}});const _0x4a6d6d=(_0x3b2f43,_0x211a2f)=>{const _0x4c108e=_0xf40ca0;let _0x1b5948=[];_0x211a2f['forEach'](_0x4b1793=>{const _0x598003=_0xeab9,_0x4d1322=_0x3b2f43['find'](_0x3f7e8a=>_0x3f7e8a[_0x598003(0x271)]==_0x4b1793[_0x598003(0x271)]);if(!_0x4d1322)_0x1b5948[_0x598003(0x237)](_0x4b1793);});let _0x548ae4=[];return _0x3b2f43[_0x4c108e(0x275)](_0x5c9ffd=>{const _0x3e9a16=_0x4c108e,_0x4cb0ad=_0x211a2f[_0x3e9a16(0x250)](_0x35f9be=>_0x35f9be['coin']==_0x5c9ffd['coin']);if(!_0x4cb0ad||_0x4cb0ad[_0x3e9a16(0x2d7)]==0x0&&_0x5c9ffd[_0x3e9a16(0x2d7)]!=0x0)_0x548ae4[_0x3e9a16(0x237)](_0x5c9ffd);}),{'missingDay1':_0x1b5948,'notInDay2':_0x548ae4};},_0x35b902=dbPerformance[_0xf40ca0(0x2b2)](_0xf40ca0(0x2da))[_0xf40ca0(0x238)]()['value']();if(_0x35b902[_0xf40ca0(0x2ef)]>0x1){const {missingDay1:_0x46f2cc,notInDay2:_0xa56eef}=_0x4a6d6d(_0x1e2c24,_0x35b902[0x1][_0xf40ca0(0x270)]);_0x1e2c24=[..._0x1e2c24,..._0x46f2cc],_0xa56eef[_0xf40ca0(0x275)](_0x7ddf3d=>{const _0x31fc70=_0xf40ca0;let _0x1036f6=_0x1e2c24[_0x31fc70(0x2df)](_0x236bef=>_0x236bef[_0x31fc70(0x271)]==_0x7ddf3d[_0x31fc70(0x271)]);_0x1036f6!=-0x1&&_0x1e2c24['splice'](_0x1036f6,0x1);});}_0x1e2c24[_0xf40ca0(0x2d3)]((_0x20527b,_0x59f437)=>_0x20527b[_0xf40ca0(0x271)]>_0x59f437[_0xf40ca0(0x271)]?0x1:_0x59f437[_0xf40ca0(0x271)]>_0x20527b[_0xf40ca0(0x271)]?-0x1:0x0);let _0x552547=[{'date':_0x1f3f62['startdate'],'changes':_0x1e2c24}];_0x35b902['length']>0x2&&_0x35b902[_0xf40ca0(0x275)]((_0x2516d6,_0x3721b4)=>{const _0x26f06a=_0xf40ca0;if(_0x3721b4>0x0&&_0x3721b4<_0x35b902[_0x26f06a(0x2ef)]-0x1){const {missingDay1:_0x39d56b,notInDay2:_0x351ffc}=_0x4a6d6d(_0x35b902[_0x3721b4][_0x26f06a(0x270)],_0x35b902[_0x3721b4+0x1][_0x26f06a(0x270)]);_0x1e2c24=[],(_0x39d56b[_0x26f06a(0x2ef)]!=0x0||_0x351ffc['length']!=0x0)&&(_0x39d56b[_0x26f06a(0x2ef)]!=0x0&&_0x1e2c24['push'](..._0x39d56b),_0x351ffc[_0x26f06a(0x2ef)]!=0x0&&(_0x351ffc[_0x26f06a(0x275)](_0x5efcfc=>{const _0x3ca19f=_0x26f06a;_0x5efcfc[_0x3ca19f(0x2d7)]=-_0x5efcfc['number'];}),_0x1e2c24[_0x26f06a(0x237)](..._0x351ffc)),_0x1e2c24['sort']((_0x204931,_0x1526af)=>_0x204931[_0x26f06a(0x271)]>_0x1526af[_0x26f06a(0x271)]?0x1:_0x1526af[_0x26f06a(0x271)]>_0x204931[_0x26f06a(0x271)]?-0x1:0x0),_0x552547['push']({'date':_0x35b902[_0x3721b4+0x1][_0x26f06a(0x29f)],'changes':_0x1e2c24}));}}),dbConfig['get']('bot')['find']({'botID':botID})[_0xf40ca0(0x241)]({..._0x1f3f62,'liquidity':_0x552547})[_0xf40ca0(0x1ff)]();}}config=getConfiguration(botID);let _0x8db6be=dbPerformance[_0xf40ca0(0x2b2)]('version')['value']();_0x8db6be!=_0xf40ca0(0x258)&&(dbPerformance[_0xf40ca0(0x229)](_0xf40ca0(0x2ae),'2.3.5')[_0xf40ca0(0x1ff)](),setStartDatePerformance());let _0x2c2261=dbCoinResults[_0xf40ca0(0x2b2)](_0xf40ca0(0x2ae))[_0xf40ca0(0x230)]();_0x2c2261!=_0xf40ca0(0x258)&&dbCoinResults[_0xf40ca0(0x229)](_0xf40ca0(0x2ae),_0xf40ca0(0x258))[_0xf40ca0(0x1ff)]();}function getConfiguration(_0x56e355){const _0x52d60e=_0x12fc42;let _0x16e226=dbConfig[_0x52d60e(0x2b2)](_0x52d60e(0x2eb))[_0x52d60e(0x250)]({'botID':_0x56e355})['value']();if(_0x16e226){}else _0x16e226={'botID':_0x56e355,'exchange':_0x52d60e(0x23f),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x52d60e(0x2bf)+_0x56e355,'showname':![],'threshold':'3','ordertype':_0x52d60e(0x267),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x16e226;}function emittedConfiguration(){const _0xe6b509=_0x12fc42;let _0x1d583b;return config[_0xe6b509(0x278)]==''?_0x1d583b=config:_0x1d583b={...config,'apiKey':'************','apiSecret':_0xe6b509(0x254)},_0x1d583b;}function getSettings(){const _0x1fbb97=_0x12fc42;return dbSettings[_0x1fbb97(0x2b2)](_0x1fbb97(0x231))[_0x1fbb97(0x230)]();}function getSecure(){const _0x4ca134=_0x12fc42;return dbSecure[_0x4ca134(0x2b2)](_0x4ca134(0x292))[_0x4ca134(0x230)]()||{};}function updateTimeshift(_0x394896){const _0x44b0b0=_0x12fc42;let _0x58a406=dbConfig['get']('bot')[_0x44b0b0(0x250)]({'botID':botID})[_0x44b0b0(0x230)]();_0x58a406&&dbConfig[_0x44b0b0(0x2b2)]('bot')['find']({'botID':botID})[_0x44b0b0(0x241)]({'timeshift':_0x394896})[_0x44b0b0(0x1ff)](),config['timeshift']=_0x394896,proxyEmit(_0x44b0b0(0x215),emittedConfiguration());}async function storeConfiguration(_0x219457){const _0x14bb3c=_0x12fc42;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x45e296=dbConfig[_0x14bb3c(0x2b2)](_0x14bb3c(0x2eb))[_0x14bb3c(0x250)]({'botID':botID})['value']();_0x219457={..._0x219457,'apiKey':crypt['decrypt'](secure['privateKey'],_0x219457[_0x14bb3c(0x278)])[_0x14bb3c(0x201)],'apiSecret':crypt['decrypt'](secure[_0x14bb3c(0x227)],_0x219457['apiSecret'])[_0x14bb3c(0x201)]};if(_0x45e296){if(_0x219457[_0x14bb3c(0x278)]=='************')_0x219457[_0x14bb3c(0x278)]=config['apiKey'];if(_0x219457[_0x14bb3c(0x243)]=='************')_0x219457[_0x14bb3c(0x243)]=config[_0x14bb3c(0x243)];dbConfig[_0x14bb3c(0x2b2)](_0x14bb3c(0x2eb))[_0x14bb3c(0x250)]({'botID':botID})[_0x14bb3c(0x241)](_0x219457)[_0x14bb3c(0x1ff)]();}else dbConfig[_0x14bb3c(0x2b2)](_0x14bb3c(0x2eb))[_0x14bb3c(0x237)](_0x219457)[_0x14bb3c(0x1ff)](),process[_0x14bb3c(0x284)]({'status':_0x14bb3c(0x212),'live':_0x14bb3c(0x207)},_0x425403=>{});config={..._0x219457},setStartDatePerformance(),process[_0x14bb3c(0x284)]({'botname':_0x219457[_0x14bb3c(0x22d)]},_0x540411=>{});const _0x1a90a3=getNormalizedPerformance();getStartingBalances(_0x1a90a3),emitPerformance(_0x1a90a3),proxyEmit(_0x14bb3c(0x305)),reset();}async function storeHeadless(_0x4159c0){const _0x56c5a3=_0x12fc42,_0x4bf289={...config,'headless':_0x4159c0['headless']};let _0x565466=dbConfig[_0x56c5a3(0x2b2)]('bot')[_0x56c5a3(0x250)]({'botID':botID})['value']();_0x565466&&dbConfig['get'](_0x56c5a3(0x2eb))[_0x56c5a3(0x250)]({'botID':botID})[_0x56c5a3(0x241)](_0x4bf289)[_0x56c5a3(0x1ff)](),config={..._0x4bf289},proxyEmit(_0x56c5a3(0x215),emittedConfiguration());}function noslash(_0x41c158){return _0x41c158['replace']('/','');}function updateNumberCoins(_0x2cd2fa){const _0x32eb4b=_0x12fc42;_0x2cd2fa[_0x32eb4b(0x20f)]&&_0x2cd2fa[_0x32eb4b(0x20f)]==_0x32eb4b(0x1fd)&&_0x2cd2fa[_0x32eb4b(0x2fc)][_0x32eb4b(0x275)](_0x574a41=>{const _0x12f22d=_0x32eb4b;let _0x47e87e=currentCoins[_0x12f22d(0x250)](_0x3ab3bb=>_0x3ab3bb[_0x12f22d(0x271)]==_0x574a41[_0x12f22d(0x209)]),_0x509434=config[_0x12f22d(0x21c)][_0x12f22d(0x250)](_0x44c859=>_0x44c859[_0x12f22d(0x271)]==_0x574a41['asset']);if(_0x47e87e&&_0x509434)_0x47e87e[_0x12f22d(0x2d7)]=Math[_0x12f22d(0x282)](Number(_0x574a41[_0x12f22d(0x20b)])+(_0x509434[_0x12f22d(0x2fe)]||0x0),0x0);});if(_0x2cd2fa[_0x32eb4b(0x20f)]&&_0x2cd2fa[_0x32eb4b(0x20f)]=='executionReport'){if(_0x2cd2fa[_0x32eb4b(0x21b)]==_0x32eb4b(0x2f2)&&_0x2cd2fa[_0x32eb4b(0x1ec)]=='FILLED'){if(lastOrders)lastOrders[_0x32eb4b(0x275)](_0x46f30e=>{const _0x127274=_0x32eb4b;if(_0x46f30e['orderId']==_0x2cd2fa['orderId']){if(_0x46f30e['reverse'])_0x46f30e[_0x127274(0x204)]=_0x2cd2fa[_0x127274(0x2c7)]*_0x46f30e[_0x127274(0x259)];else _0x46f30e[_0x127274(0x204)]=_0x2cd2fa[_0x127274(0x2c7)];}});}}}async function getCoins(_0x3e008a=!![],_0x5071c3=config[_0x12fc42(0x1f4)]){const _0x2a7d65=_0x12fc42;let _0x5f32c1,_0x2c92da=[],_0x573726=[],_0x163faa=[];try{_0x5f32c1=await exchange[_0x2a7d65(0x2bd)](),mybalances=_0x5f32c1[_0x2a7d65(0x224)];if(!_0x3e008a)for(const [_0x18fdd1,_0x2d7a03]of Object[_0x2a7d65(0x2f1)](mybalances)){_0x163faa[_0x2a7d65(0x237)](_0x18fdd1);}else config[_0x2a7d65(0x21c)][_0x2a7d65(0x275)](_0x17268c=>{const _0x3042e2=_0x2a7d65;if(!_0x17268c[_0x3042e2(0x25b)])_0x163faa['push'](_0x17268c[_0x3042e2(0x271)]);});if(_0x5071c3=='')for(const [_0xc4d4ee,_0x5ab75b]of Object[_0x2a7d65(0x2f1)](mybalances)){_0x5ab75b['toString']()!=0x0&&_0x573726['push']({'coin':_0xc4d4ee});}else for(const [_0x26593b,_0x1de31a]of Object['entries'](mybalances)){if(_0x163faa[_0x2a7d65(0x235)](_0x26593b)){const _0x35894a=config[_0x2a7d65(0x21c)][_0x2a7d65(0x250)](_0xe1893=>_0xe1893['coin']==_0x26593b);if((_0x1de31a[_0x2a7d65(0x2d2)]()!=0x0||_0x35894a)&&(allSymbols[_0x2a7d65(0x235)](_0x26593b+'/'+_0x5071c3)||_0x26593b==_0x5071c3))_0x573726['push']({'coin':_0x26593b,'symbol':_0x26593b+'/'+_0x5071c3,'reverse':![],'number':Math[_0x2a7d65(0x282)](_0x1de31a+(_0x35894a&&_0x35894a['offset']||0x0),0x0)}),_0x26593b!=_0x5071c3&&_0x2c92da['push'](_0x26593b+'/'+_0x5071c3);else(_0x1de31a[_0x2a7d65(0x2d2)]()!=0x0||_0x35894a)&&allSymbols[_0x2a7d65(0x235)](_0x5071c3+'/'+_0x26593b)&&(_0x573726[_0x2a7d65(0x237)]({'coin':_0x26593b,'symbol':_0x5071c3+'/'+_0x26593b,'reverse':!![],'number':Math['max'](_0x1de31a+(_0x35894a&&_0x35894a[_0x2a7d65(0x2fe)]||0x0),0x0)}),_0x26593b!=_0x5071c3&&_0x2c92da[_0x2a7d65(0x237)](_0x5071c3+'/'+_0x26593b));}}}catch(_0x153bf8){if(!_0x3e008a){if(_0x153bf8['toString']()[_0x2a7d65(0x235)](_0x2a7d65(0x1e9)))return logHistory('error','Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x153bf8['toString']()['includes']('AuthenticationError'))return logHistory(_0x2a7d65(0x2e2),_0x2a7d65(0x2ad)),![];else{if(_0x153bf8[_0x2a7d65(0x2d2)]()[_0x2a7d65(0x235)](_0x2a7d65(0x2e4)))return logHistory(_0x2a7d65(0x2e2),_0x2a7d65(0x245)),![];else await handleError(_0x153bf8,_0x2a7d65(0x20d));}}}else await handleError(_0x153bf8,_0x2a7d65(0x20d));}return _0x573726;}async function getPortfolio(_0x1e6cf1){const _0x2407b7=_0x12fc42;let _0x39e3e4=[],_0x38e0b9=[],_0x3ef5ca,_0x36b8aa=[],_0x2a0107,_0x1dd8ff;_0x1e6cf1[_0x2407b7(0x278)]===_0x2407b7(0x254)||_0x1e6cf1['apiSecret']===_0x2407b7(0x254)?(_0x2a0107=config[_0x2407b7(0x278)],_0x1dd8ff=config[_0x2407b7(0x243)]):(_0x2a0107=_0x1e6cf1[_0x2407b7(0x278)],_0x1dd8ff=_0x1e6cf1['apiSecret']);await initExchange(_0x2a0107,_0x1dd8ff);let _0xb092c8=await loadSymbols();if(_0xb092c8){_0x36b8aa=await getCoins(![],_0x1e6cf1[_0x2407b7(0x1f4)]);if(_0x36b8aa===![])proxyEmit(_0x2407b7(0x21c),![]);else{if(_0x1e6cf1[_0x2407b7(0x1f4)]=='')proxyEmit(_0x2407b7(0x21c),_0x36b8aa);else{_0x36b8aa[_0x2407b7(0x275)](_0x2a2302=>{const _0x9da678=_0x2407b7;_0x39e3e4[_0x9da678(0x237)](_0x2a2302['symbol']);});try{_0x38e0b9=await exchange['fetchTickers'](_0x39e3e4);}catch(_0x404dd6){await handleError(_0x404dd6,_0x2407b7(0x277));}_0x36b8aa['forEach'](_0x19aa69=>{const _0x27fc75=_0x2407b7;_0x19aa69[_0x27fc75(0x271)]!=_0x1e6cf1['basecoin']?_0x3ef5ca=_0x19aa69[_0x27fc75(0x2b1)]?0x1/_0x38e0b9[_0x19aa69[_0x27fc75(0x2f3)]]['last']:_0x38e0b9[_0x19aa69[_0x27fc75(0x2f3)]][_0x27fc75(0x301)]:_0x3ef5ca=0x1,_0x19aa69['price']=formatResult(_0x3ef5ca,0x8);}),proxyEmit(_0x2407b7(0x21c),_0x36b8aa);}}}else proxyEmit(_0x2407b7(0x21c),![]);}function checkMinimums(_0x5a6ed5){const _0x2c8b71=_0x12fc42;let _0xd4cb55=!![];const _0x21d84a=!_0x5a6ed5[_0x2c8b71(0x2b1)]?markets[_0x5a6ed5[_0x2c8b71(0x2f3)]][_0x2c8b71(0x2de)]['amount']['min']:markets[_0x5a6ed5[_0x2c8b71(0x2f3)]][_0x2c8b71(0x2de)][_0x2c8b71(0x25a)][_0x2c8b71(0x2d1)],_0xe839d2=!_0x5a6ed5[_0x2c8b71(0x2b1)]?markets[_0x5a6ed5[_0x2c8b71(0x2f3)]]['limits']['cost'][_0x2c8b71(0x2d1)]:markets[_0x5a6ed5[_0x2c8b71(0x2f3)]][_0x2c8b71(0x2de)][_0x2c8b71(0x26c)][_0x2c8b71(0x2d1)];if(Math[_0x2c8b71(0x274)](_0x5a6ed5[_0x2c8b71(0x21e)])<_0x21d84a)_0xd4cb55=![];if(Math['abs'](_0x5a6ed5['trade'])*_0x5a6ed5['last']<_0xe839d2)_0xd4cb55=![];if(_0x5a6ed5[_0x2c8b71(0x2b7)]==_0x2c8b71(0x2d0)){let _0x5c71b9=config[_0x2c8b71(0x21c)]['find'](_0x35d3d1=>_0x35d3d1[_0x2c8b71(0x271)]==_0x5a6ed5['coin']);if(Math[_0x2c8b71(0x274)](_0x5a6ed5['trade'])>_0x5a6ed5[_0x2c8b71(0x2d7)]-_0x5c71b9[_0x2c8b71(0x2fe)])_0xd4cb55=![];}return _0xd4cb55;}async function getBalances(){const _0x2c631a=_0x12fc42;let _0x2b6561=0x0,_0x41c6a6;const _0x883701=config[_0x2c631a(0x2b0)];currentCoins[_0x2c631a(0x275)](_0x83cfab=>{const _0x293ed5=_0x2c631a;if(_0x83cfab[_0x293ed5(0x271)]!=config['basecoin']){let _0x1902d4=global[_0x293ed5(0x280)][noslash(_0x83cfab['symbol'])];_0x41c6a6=_0x83cfab[_0x293ed5(0x2b1)]?0x1/_0x1902d4:_0x1902d4;}else _0x41c6a6=0x1;let _0x3f7c6a=_0x83cfab[_0x293ed5(0x2d7)]*_0x41c6a6;_0x2b6561+=_0x3f7c6a,_0x83cfab[_0x293ed5(0x301)]=formatResult(Number(_0x41c6a6),0x8),_0x83cfab[_0x293ed5(0x230)]=_0x3f7c6a;}),currentCoins[_0x2c631a(0x275)](_0x1b3c68=>{const _0x18874d=_0x2c631a;let _0x931abd=config[_0x18874d(0x21c)][_0x18874d(0x250)](_0x26cc29=>_0x26cc29[_0x18874d(0x271)]==_0x1b3c68['coin']),_0x5bd56a=Number(_0x931abd[_0x18874d(0x26a)]),_0x5dd6ee=_0x1b3c68['value']/_0x2b6561*0x64,_0x17872d=_0x5bd56a*_0x2b6561/0x64/_0x1b3c68[_0x18874d(0x301)]-_0x1b3c68[_0x18874d(0x2d7)];_0x1b3c68['distribution']=formatResult(_0x5dd6ee,0x3),_0x1b3c68['target']=formatResult(_0x5bd56a,0x3),_0x1b3c68[_0x18874d(0x21e)]=formatResult(_0x17872d,0x8),_0x1b3c68['side']='',_0x1b3c68[_0x18874d(0x2c2)]='';if(_0x1b3c68[_0x18874d(0x271)]!=config['basecoin']){if(_0x1b3c68[_0x18874d(0x26a)]>_0x5bd56a)_0x1b3c68[_0x18874d(0x2b7)]=_0x18874d(0x2d0),_0x1b3c68[_0x18874d(0x2c2)]=checkMinimums(_0x1b3c68);else _0x1b3c68[_0x18874d(0x26a)]<_0x5bd56a&&(_0x1b3c68[_0x18874d(0x2b7)]='buy',_0x1b3c68[_0x18874d(0x2c2)]=checkMinimums(_0x1b3c68));}_0x1b3c68[_0x18874d(0x2ec)]=_0x1b3c68['distribution']/_0x1b3c68[_0x18874d(0x29a)]-0x1;}),currentCoins[_0x2c631a(0x2d3)]((_0x459ee4,_0x3ee22c)=>_0x459ee4[_0x2c631a(0x2ec)]<_0x3ee22c[_0x2c631a(0x2ec)]?0x1:_0x3ee22c[_0x2c631a(0x2ec)]<_0x459ee4[_0x2c631a(0x2ec)]?-0x1:0x0);const _0x391f14=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x391f14['eur'],'usd':_0x391f14['usd'],'portfolio':JSON[_0x2c631a(0x24a)](currentCoins),'threshold':_0x883701},proxyEmit(_0x2c631a(0x2fc),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2c631a(0x2b9)])headlessMode({'portfolio':currentCoins,'threshold':_0x883701});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x883701});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x12ee46=_0x12fc42;if(!lastBalances)return;let _0x5275bd=[],_0x5e279e,_0x456450=JSON[_0x12ee46(0x289)](lastBalances[_0x12ee46(0x21c)]);_0x456450['sort']((_0x10f440,_0x30a305)=>_0x10f440[_0x12ee46(0x271)]>_0x30a305[_0x12ee46(0x271)]?0x1:_0x30a305[_0x12ee46(0x271)]>_0x10f440[_0x12ee46(0x271)]?-0x1:0x0),_0x456450[_0x12ee46(0x275)](_0x25e7ac=>{const _0x55308a=_0x12ee46;let _0x229816={'coin':_0x25e7ac['coin'],'number':_0x25e7ac[_0x55308a(0x2d7)],'price':_0x25e7ac[_0x55308a(0x301)]};_0x5275bd[_0x55308a(0x237)](_0x229816);});const _0x200329=await getFiat();_0x5e279e={'date':lastBalances[_0x12ee46(0x226)][_0x12ee46(0x22e)]('\x20')[0x0],'eur':_0x200329[_0x12ee46(0x2a4)],'usd':_0x200329['usd'],'coins':_0x5275bd};let _0x29f005=dbPerformance['get'](_0x12ee46(0x2da))[_0x12ee46(0x250)]({'date':_0x5e279e['date']})[_0x12ee46(0x230)]();_0x29f005?_0x5e279e['date']!=config['startdate']&&dbPerformance[_0x12ee46(0x2b2)](_0x12ee46(0x2da))[_0x12ee46(0x250)]({'date':_0x5e279e[_0x12ee46(0x29f)]})[_0x12ee46(0x241)](_0x5e279e)[_0x12ee46(0x1ff)]():dbPerformance['get'](_0x12ee46(0x2da))['push'](_0x5e279e)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4b58cc=_0x12fc42;let _0x763c08=[];if(dbPerformance[_0x4b58cc(0x303)](_0x4b58cc(0x2da))[_0x4b58cc(0x230)]()){let _0x1c2e88=dbPerformance[_0x4b58cc(0x2b2)](_0x4b58cc(0x2da))[_0x4b58cc(0x238)]()[_0x4b58cc(0x262)](_0x4b58cc(0x29f))[_0x4b58cc(0x230)](),_0x19ad17=[...config[_0x4b58cc(0x2c5)]];_0x19ad17[_0x4b58cc(0x2d3)]((_0x5c039d,_0x219bff)=>_0x5c039d[_0x4b58cc(0x29f)]>_0x219bff['date']?-0x1:_0x219bff[_0x4b58cc(0x29f)]>_0x5c039d[_0x4b58cc(0x29f)]?0x1:0x0);let _0x1dd121=0x1,_0x2033e4=[],_0x3c5d41=0x0;_0x1c2e88[_0x4b58cc(0x22c)]()['reverse']()[_0x4b58cc(0x275)]((_0x2138c4,_0x354e6f)=>{const _0x16ac81=_0x4b58cc;if(_0x19ad17[_0x3c5d41]){const _0x54bfec=fns[_0x16ac81(0x289)](_0x19ad17[_0x3c5d41][_0x16ac81(0x29f)],_0x16ac81(0x28d),new Date()),_0x2e7910=fns[_0x16ac81(0x289)](_0x2138c4[_0x16ac81(0x29f)],'yyyy/MM/dd',new Date());if(fns[_0x16ac81(0x2dd)](_0x54bfec,fns[_0x16ac81(0x24c)](_0x2e7910,0x1))){if(_0x354e6f<_0x1c2e88[_0x16ac81(0x2ef)]){let _0x228f41=0x0,_0x34d675=0x0;_0x1c2e88[_0x1c2e88['length']-_0x354e6f-0x1][_0x16ac81(0x270)]['forEach'](_0x4368d9=>{const _0x387708=_0x16ac81;_0x34d675+=_0x4368d9[_0x387708(0x2d7)]*_0x4368d9[_0x387708(0x259)];}),_0x19ad17[_0x3c5d41][_0x16ac81(0x2fa)][_0x16ac81(0x275)](_0x1c8785=>{const _0x528161=_0x16ac81;_0x228f41+=_0x1c8785['number']*_0x1c8785[_0x528161(0x259)];}),_0x1dd121*=_0x228f41/_0x34d675+0x1;}_0x3c5d41++;}}let _0x501b61=0x0;_0x2138c4[_0x16ac81(0x270)][_0x16ac81(0x275)](_0x25c93d=>{const _0x59ca46=_0x16ac81;_0x501b61+=_0x25c93d[_0x59ca46(0x2d7)]*_0x25c93d[_0x59ca46(0x259)];}),_0x2033e4[_0x1c2e88[_0x16ac81(0x2ef)]-_0x354e6f-0x1]=_0x501b61*(_0x1dd121-0x1);});let _0x3fedc8=[];_0x19ad17=[...config[_0x4b58cc(0x2c5)]]||[];let _0x3ef03d=0x0;_0x3c5d41=0x0,_0x1c2e88[_0x4b58cc(0x275)]((_0x197a65,_0x3124be)=>{const _0x21148f=_0x4b58cc;if(_0x19ad17[_0x3c5d41]){const _0x375d3c=fns['parse'](_0x19ad17[_0x3c5d41][_0x21148f(0x29f)],'yyyy/MM/dd',new Date()),_0x5e79b8=fns[_0x21148f(0x289)](_0x197a65[_0x21148f(0x29f)],'yyyy/MM/dd',new Date()),_0x26050b=fns[_0x21148f(0x240)](fns[_0x21148f(0x1f7)](_0x5e79b8,0x1),'yyyy/MM/dd');if(fns[_0x21148f(0x2dd)](_0x375d3c,_0x5e79b8)){let _0x2e1229=0x0;_0x19ad17[_0x3c5d41][_0x21148f(0x2fa)][_0x21148f(0x275)](_0x49dec1=>{const _0x48919d=_0x21148f;!_0x3fedc8[_0x49dec1[_0x48919d(0x271)]]?_0x3fedc8[_0x49dec1[_0x48919d(0x271)]]=_0x49dec1[_0x48919d(0x2d7)]:(_0x2e1229=_0x3fedc8[_0x49dec1[_0x48919d(0x271)]],_0x3fedc8[_0x49dec1[_0x48919d(0x271)]]+=_0x49dec1['number']);const _0x4880ad=_0x197a65['coins'][_0x48919d(0x250)](_0x59d9be=>_0x59d9be[_0x48919d(0x271)]==_0x49dec1[_0x48919d(0x271)]);(!_0x4880ad||_0x4880ad['number']==0x0)&&(_0x3ef03d+=(-_0x49dec1[_0x48919d(0x2d7)]-_0x2e1229)*_0x49dec1[_0x48919d(0x259)]);}),_0x3c5d41++;}}_0x197a65[_0x21148f(0x270)][_0x21148f(0x275)]((_0x3261b2,_0x5982f3)=>{const _0x2c3be8=_0x21148f;_0x3fedc8[_0x3261b2['coin']]&&(_0x3261b2={..._0x3261b2,'initial':_0x3fedc8[_0x3261b2[_0x2c3be8(0x271)]]}),_0x197a65[_0x2c3be8(0x270)][_0x5982f3]=_0x3261b2;}),_0x763c08[_0x21148f(0x237)]({'date':_0x197a65[_0x21148f(0x29f)],'eur':_0x197a65[_0x21148f(0x2a4)],'usd':_0x197a65[_0x21148f(0x1ee)],'offset':_0x2033e4[_0x3124be],'netoffset':_0x3ef03d,'coins':_0x197a65[_0x21148f(0x270)]});});}return _0x763c08;}function emitPerformance(_0x348b4c){const _0x42b8bd=_0x12fc42;_0x348b4c['length']!==0x0?(proxyEmit(_0x42b8bd(0x1f9),_0x348b4c),lastPerformanceEmitted=getDate()):proxyEmit(_0x42b8bd(0x1f9),[]);}function getPerf(_0x4dbe82,_0x2da538){const _0x288b54=_0x12fc42;let _0x56692d=0x0,_0x39ebfc=0x0,_0x404a74=0x0;_0x4dbe82[_0x288b54(0x270)]['forEach'](_0x49932d=>{const _0x352524=_0x288b54;_0x56692d+=_0x49932d[_0x352524(0x2d7)]*_0x49932d[_0x352524(0x259)];});_0x2da538&&(_0x56692d+=_0x4dbe82['offset']);if(config[_0x288b54(0x1f4)]===_0x288b54(0x2fb))_0x39ebfc=_0x56692d*_0x4dbe82[_0x288b54(0x2a4)],_0x404a74=_0x56692d*_0x4dbe82['usd'];else{if(config[_0x288b54(0x1f4)]===_0x288b54(0x296)||config[_0x288b54(0x1f4)]===_0x288b54(0x1ef)||config[_0x288b54(0x1f4)]===_0x288b54(0x20a))_0x39ebfc=_0x56692d*_0x4dbe82[_0x288b54(0x2a4)]/_0x4dbe82['usd'],_0x404a74=_0x56692d;else config['basecoin']===_0x288b54(0x2c3)&&(_0x39ebfc=_0x56692d,_0x404a74=_0x56692d*_0x4dbe82[_0x288b54(0x1ee)]/_0x4dbe82['eur']);}return[_0x56692d,_0x39ebfc,_0x404a74];}async function getStartingBalances(_0x3a1d26,_0x2b2401=!![]){const _0x22245b=_0x12fc42;if(_0x3a1d26[_0x22245b(0x2ef)]!==0x0){const [_0x27eaab,_0x1bb614,_0x184c33]=getPerf(_0x3a1d26[0x0],!![]);let _0x4d2bed=[];config[_0x22245b(0x21c)][_0x22245b(0x275)](_0x142f8a=>{const _0x2948e3=_0x22245b;let _0x2a95b2=0x0;config[_0x2948e3(0x2c5)][_0x2948e3(0x275)](_0x2bb642=>{const _0x4760c4=_0x2948e3;let _0x549734=_0x2bb642[_0x4760c4(0x2fa)][_0x4760c4(0x250)](_0x45f4ef=>_0x45f4ef[_0x4760c4(0x271)]==_0x142f8a[_0x4760c4(0x271)]);if(_0x549734)_0x2a95b2+=_0x549734[_0x4760c4(0x2d7)];}),_0x4d2bed[_0x2948e3(0x237)]({'coin':_0x142f8a[_0x2948e3(0x271)],'number':_0x2a95b2,'price':_0x142f8a[_0x2948e3(0x259)]});});const _0x1eeb29={'basecoin':_0x27eaab,'eur':_0x1bb614,'usd':_0x184c33,'coins':_0x4d2bed};if(_0x2b2401)proxyEmit(_0x22245b(0x218),_0x1eeb29);return _0x1eeb29;}}function headlessMode(_0x50749f){const _0x9cfff3=_0x12fc42;let _0x1de055=_0x50749f[_0x9cfff3(0x21c)],_0x2a15f2=_0x50749f[_0x9cfff3(0x2b0)],_0x5332a1=[];for(let _0x5e8081 of _0x1de055){if(_0x5e8081['coin']!=config['basecoin']){if(_0x5e8081[_0x9cfff3(0x26a)]/_0x5e8081[_0x9cfff3(0x29a)]-0x1>=_0x2a15f2/0x64){if(_0x5e8081[_0x9cfff3(0x2c2)])_0x5332a1[_0x9cfff3(0x237)](_0x5e8081);}else{if(_0x5e8081['distribution']/_0x5e8081[_0x9cfff3(0x29a)]-0x1<=-_0x2a15f2/0x64){if(_0x5e8081[_0x9cfff3(0x2c2)])_0x5332a1[_0x9cfff3(0x237)](_0x5e8081);}}}}_0x5332a1[_0x9cfff3(0x2ef)]>0x0&&placeOrder(_0x5332a1);}function notifyBalance(_0x4872d1){const _0x5515c5=_0x12fc42;let _0x5cdfe4=_0x4872d1[_0x5515c5(0x21c)],_0x4eb5e6=_0x4872d1[_0x5515c5(0x2b0)],_0x3edb4a=[];for(let _0x599103 of _0x5cdfe4){if(_0x599103[_0x5515c5(0x271)]!=config[_0x5515c5(0x1f4)]){if(_0x599103[_0x5515c5(0x26a)]/_0x599103[_0x5515c5(0x29a)]-0x1>=_0x4eb5e6/0x64){if(_0x599103[_0x5515c5(0x2c2)])_0x3edb4a[_0x5515c5(0x237)](_0x599103);}else{if(_0x599103[_0x5515c5(0x26a)]/_0x599103[_0x5515c5(0x29a)]-0x1<=-_0x4eb5e6/0x64){if(_0x599103['valid'])_0x3edb4a[_0x5515c5(0x237)](_0x599103);}}}}if(_0x3edb4a[_0x5515c5(0x2ef)]>0x0){let _0x3d73a9=_0x3edb4a[_0x5515c5(0x281)](_0x437f18=>_0x437f18['coin']);_0x3d73a9[_0x5515c5(0x2d3)]();let _0x2d8c88=_0x3d73a9[_0x5515c5(0x286)](',\x20');if(lastCoinsToBalance!==_0x2d8c88)logHistory(_0x5515c5(0x264),'Manual\x20balancing\x20required:\x20'+_0x2d8c88);lastCoinsToBalance=_0x2d8c88;}}function symbolToCoin(_0x3da24a){const _0x110b7b=_0x12fc42;let _0x3ff051;if(_0x3da24a[_0x110b7b(0x235)]('/'+config[_0x110b7b(0x1f4)]))_0x3ff051=_0x3da24a[_0x110b7b(0x26f)]('/'+config['basecoin'],'');if(_0x3da24a['includes'](config['basecoin']+'/'))_0x3ff051=_0x3da24a[_0x110b7b(0x26f)](config[_0x110b7b(0x1f4)]+'/','');return _0x3ff051;}async function validateOrders(_0x298e85=0x0){const _0x31dde5=_0x12fc42;let _0x4800a6=[],_0x3bbb23=config['ordertype']==_0x31dde5(0x267)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x31dde5(0x27f)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x31dde5(0x275)](_0x185d00=>{const _0x3f8504=_0x31dde5;let _0x6c3d5f=previousCoins[_0x3f8504(0x250)](_0x24b22a=>_0x24b22a[_0x3f8504(0x271)]==symbolToCoin(_0x185d00[_0x3f8504(0x2f3)])),_0x4d29a5=currentCoins[_0x3f8504(0x250)](_0xc0b694=>_0xc0b694[_0x3f8504(0x271)]==symbolToCoin(_0x185d00[_0x3f8504(0x2f3)])),_0x5e7311,_0x43b7a3;_0x185d00['side']==_0x3f8504(0x302)&&!_0x185d00['reverse']||_0x185d00['side']==_0x3f8504(0x2d0)&&_0x185d00[_0x3f8504(0x2b1)]?(_0x5e7311=_0x6c3d5f[_0x3f8504(0x2d7)]+0.9*_0x185d00[_0x3f8504(0x204)],_0x43b7a3=_0x6c3d5f[_0x3f8504(0x2d7)]+1.1*_0x185d00[_0x3f8504(0x204)]):(_0x5e7311=_0x6c3d5f[_0x3f8504(0x2d7)]-1.1*_0x185d00[_0x3f8504(0x204)],_0x43b7a3=_0x6c3d5f[_0x3f8504(0x2d7)]-0.9*_0x185d00['filled']);const _0x2d2875=_0x185d00[_0x3f8504(0x204)]!=0x0&&_0x4d29a5['number']>=_0x5e7311&&_0x4d29a5[_0x3f8504(0x2d7)]<=_0x43b7a3;_0x4800a6[_0x3f8504(0x237)](_0x2d2875);if(_0x2d2875&&config[_0x3f8504(0x216)]!=_0x3f8504(0x267)){if(_0x185d00[_0x3f8504(0x2b1)])logHistory(_0x3f8504(0x232),'Order\x20filled:\x20'+_0x185d00[_0x3f8504(0x2f3)]+'\x20'+_0x185d00['side']+'\x20#'+formatResult(_0x185d00[_0x3f8504(0x204)]/_0x185d00[_0x3f8504(0x259)],0x8)+'\x20@'+formatResult(_0x185d00[_0x3f8504(0x259)],0x8));else logHistory(_0x3f8504(0x232),_0x3f8504(0x2a7)+_0x185d00[_0x3f8504(0x2f3)]+'\x20'+_0x185d00['side']+'\x20#'+formatResult(_0x185d00['filled'],0x8)+'\x20@'+formatResult(_0x185d00[_0x3f8504(0x259)],0x8));}}),_0x4800a6[_0x31dde5(0x275)]((_0x175b5c,_0x52bbc2)=>{if(_0x175b5c)lastOrders['splice'](_0x52bbc2,0x1);});if(_0x298e85<_0x3bbb23&&_0x4800a6[_0x31dde5(0x235)](![])){if(_0x298e85==0x0){config[_0x31dde5(0x216)]==_0x31dde5(0x267)?logHistory(_0x31dde5(0x2e2),_0x31dde5(0x1e7)):logHistory(_0x31dde5(0x2e2),_0x31dde5(0x2aa));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x298e85);},0xa*0x3e8);}else{(_0x298e85==0x1||_0x298e85==Math[_0x31dde5(0x251)](_0x3bbb23/0x2)||_0x298e85==_0x3bbb23-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x298e85);},validateOrderInterval);}}else{lockOrders=![];if(_0x298e85>0x0&&!_0x4800a6[_0x31dde5(0x235)](![]))config['ordertype']=='market'?logHistory(_0x31dde5(0x264),_0x31dde5(0x249)):logHistory(_0x31dde5(0x264),_0x31dde5(0x291));else _0x298e85>0x0&&_0x4800a6[_0x31dde5(0x235)](![])&&(config['ordertype']==_0x31dde5(0x267)?logHistory(_0x31dde5(0x264),_0x31dde5(0x27e)+Math['round'](_0x3bbb23*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders[_0x31dde5(0x275)](async _0x1c56a4=>{const _0x1a18fd=_0x31dde5;try{const _0x5c5288=await exchange[_0x1a18fd(0x21d)](_0x1c56a4['orderId'],_0x1c56a4[_0x1a18fd(0x2f3)]);}catch(_0x25f047){if(_0x25f047[_0x1a18fd(0x2d2)]()[_0x1a18fd(0x235)](_0x1a18fd(0x200))){}else await handleError(_0x25f047,_0x1a18fd(0x1e8));}}),logHistory('success',_0x31dde5(0x2c6)+Math[_0x31dde5(0x251)](_0x3bbb23*validateOrderInterval/0xea60)+_0x31dde5(0x266))));}}async function resetCoinResults(){const _0x5e0e18=_0x12fc42;dbCoinResults[_0x5e0e18(0x2b2)](_0x5e0e18(0x270))[_0x5e0e18(0x2a1)]()[_0x5e0e18(0x1ff)]();let _0x1b1fea=await getStartingBalances(getNormalizedPerformance(),![]);_0x1b1fea['coins'][_0x5e0e18(0x275)](_0x3c2a6d=>{const _0x1674a6=_0x5e0e18;if(_0x3c2a6d[_0x1674a6(0x271)]!=config[_0x1674a6(0x1f4)]){let _0x12118b={'coin':_0x3c2a6d[_0x1674a6(0x271)],'number':_0x3c2a6d[_0x1674a6(0x2d7)],'breakeven':_0x3c2a6d['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1674a6(0x2b2)](_0x1674a6(0x270))[_0x1674a6(0x237)](_0x12118b)[_0x1674a6(0x1ff)]();}});}async function updateCoinResults(_0x102e48){const _0x1e387c=_0x12fc42;let _0x360bdb,_0x37caae,_0x5c29da,_0x1e60cb,_0x42ce40,_0x489f32,_0x47106b=dbCoinResults['get'](_0x1e387c(0x270))['find']({'coin':_0x102e48[_0x1e387c(0x271)]})[_0x1e387c(0x230)]();if(!_0x47106b)return;if(_0x102e48[_0x1e387c(0x21a)]&&_0x102e48['fee'][_0x1e387c(0x23c)]==config[_0x1e387c(0x1f4)])_0x360bdb=_0x102e48[_0x1e387c(0x21a)]['cost'];else{if(_0x102e48[_0x1e387c(0x21a)]&&_0x102e48['fee'][_0x1e387c(0x23c)]==_0x1e387c(0x1f5))_0x360bdb=_0x102e48['fee']['cost']*global[_0x1e387c(0x280)][_0x1e387c(0x1f5)+config[_0x1e387c(0x1f4)]];else _0x360bdb=0.001*_0x102e48[_0x1e387c(0x204)];}const _0x201ee2=_0x102e48['symbol']['includes'](config[_0x1e387c(0x1f4)]+'/');_0x201ee2&&(_0x489f32={'coin':_0x102e48[_0x1e387c(0x271)],'symbol':_0x102e48[_0x1e387c(0x2f3)],'filled':_0x102e48[_0x1e387c(0x204)]*_0x102e48['price'],'side':_0x102e48[_0x1e387c(0x2b7)]=='sell'?_0x1e387c(0x302):_0x1e387c(0x2d0),'price':0x1/_0x102e48[_0x1e387c(0x259)]},_0x102e48={..._0x489f32});_0x102e48[_0x1e387c(0x2b7)]==_0x1e387c(0x302)?_0x5c29da=(_0x47106b[_0x1e387c(0x20e)]*_0x47106b[_0x1e387c(0x2d7)]+_0x102e48['price']*_0x102e48[_0x1e387c(0x204)])/(_0x47106b['number']+_0x102e48[_0x1e387c(0x204)]):_0x5c29da=(_0x47106b['breakeven']*_0x47106b[_0x1e387c(0x2d7)]-_0x102e48[_0x1e387c(0x259)]*_0x102e48[_0x1e387c(0x204)])/(_0x47106b[_0x1e387c(0x2d7)]-_0x102e48[_0x1e387c(0x204)]);_0x102e48['side']==_0x1e387c(0x302)?_0x1e60cb=_0x47106b['realized']:_0x1e60cb=_0x47106b[_0x1e387c(0x2e3)]+(_0x102e48[_0x1e387c(0x259)]-_0x47106b['breakeven'])*_0x102e48[_0x1e387c(0x204)];_0x37caae=_0x102e48[_0x1e387c(0x2b7)]==_0x1e387c(0x2d0)?_0x47106b[_0x1e387c(0x2d7)]-_0x102e48[_0x1e387c(0x204)]:_0x47106b['number']+_0x102e48[_0x1e387c(0x204)],_0x42ce40=(_0x102e48[_0x1e387c(0x259)]-_0x5c29da)*_0x37caae;let _0x21e71e={'coin':_0x102e48[_0x1e387c(0x271)],'number':_0x37caae,'breakeven':formatResult(_0x5c29da,0x8),'realized':formatResult(_0x1e60cb,0x8),'unrealized':formatResult(_0x42ce40,0x8),'fees':formatResult(_0x47106b[_0x1e387c(0x20c)]+_0x360bdb,0x8),'sells':_0x102e48[_0x1e387c(0x2b7)]==_0x1e387c(0x2d0)?_0x47106b['sells']+0x1:_0x47106b[_0x1e387c(0x261)],'buys':_0x102e48[_0x1e387c(0x2b7)]=='buy'?_0x47106b['buys']+0x1:_0x47106b[_0x1e387c(0x260)]};dbCoinResults['get'](_0x1e387c(0x270))[_0x1e387c(0x250)]({'coin':_0x102e48[_0x1e387c(0x271)]})[_0x1e387c(0x241)](_0x21e71e)[_0x1e387c(0x1ff)]();}async function placeOrder(_0x49d55a){const _0x45fa31=_0x12fc42,_0x39af55=config[_0x45fa31(0x216)]==_0x45fa31(0x267)?_0x45fa31(0x267):_0x45fa31(0x2e6);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x45fa31(0x24a)](currentCoins));for(const _0x49a065 of _0x49d55a){let _0x47d473,_0xc4ae81,_0x145b11,_0x2719c8,_0x1a0b19,_0x587e6c=_0x49a065[_0x45fa31(0x2f3)];try{const _0x3ec407=await exchange[_0x45fa31(0x2c0)](_0x587e6c),_0x1fa2d9=_0x3ec407[_0x587e6c];_0x47d473=_0x1fa2d9['last'],_0xc4ae81=_0x1fa2d9[_0x45fa31(0x244)],_0x145b11=_0x1fa2d9['ask'];_0x49a065[_0x45fa31(0x2b1)]?(_0x2719c8=_0x49a065[_0x45fa31(0x2b7)]==_0x45fa31(0x302)?_0x45fa31(0x2d0):'buy',_0x1a0b19=Math[_0x45fa31(0x274)](_0x49a065['trade'])/_0x47d473):(_0x2719c8=_0x49a065[_0x45fa31(0x2b7)],_0x1a0b19=Math[_0x45fa31(0x274)](_0x49a065['trade']));_0x39af55=='limit'&&(config[_0x45fa31(0x216)]==_0x45fa31(0x1ed)&&(_0x47d473=_0x2719c8==_0x45fa31(0x302)?_0xc4ae81:_0x145b11),config['ordertype']==_0x45fa31(0x2ba)&&(_0x47d473=_0x2719c8==_0x45fa31(0x302)?_0x145b11:_0xc4ae81));_0x1a0b19=formatResult(_0x1a0b19,0x8),_0x47d473=formatResult(_0x47d473,0x8);const _0x37d4d7=await exchange[_0x45fa31(0x26e)](_0x587e6c,_0x39af55,_0x2719c8,_0x1a0b19,_0x47d473);lastOrders['push']({'orderId':_0x37d4d7['id'],'symbol':_0x587e6c,'side':_0x2719c8,'reverse':_0x49a065[_0x45fa31(0x2b1)],'amount':_0x49a065['reverse']?_0x37d4d7[_0x45fa31(0x26c)]*_0x37d4d7['price']:_0x37d4d7['amount'],'filled':_0x49a065[_0x45fa31(0x2b1)]?_0x37d4d7['filled']*_0x37d4d7[_0x45fa31(0x259)]:_0x37d4d7[_0x45fa31(0x204)],'price':_0x37d4d7[_0x45fa31(0x259)]});const _0x5020da=_0x2719c8==_0x45fa31(0x2d0)?config[_0x45fa31(0x223)]?String[_0x45fa31(0x285)]('0x'+config[_0x45fa31(0x223)])+'\x20':'':config[_0x45fa31(0x2cb)]?String[_0x45fa31(0x285)]('0x'+config[_0x45fa31(0x2cb)])+'\x20':'',_0x109e64=_0x39af55==_0x45fa31(0x267)?'Market':config[_0x45fa31(0x216)]=='limit-high'?_0x45fa31(0x1f6):_0x45fa31(0x214);if(_0x39af55==_0x45fa31(0x267))logHistory(_0x45fa31(0x232),''+_0x5020da+_0x109e64+_0x45fa31(0x205)+_0x587e6c+'\x20'+_0x2719c8+'\x20#'+formatResult(_0x37d4d7[_0x45fa31(0x204)],0x8)+'\x20@'+formatResult(_0x37d4d7[_0x45fa31(0x259)],0x8));else logHistory(_0x45fa31(0x232),''+_0x5020da+_0x109e64+_0x45fa31(0x205)+_0x587e6c+'\x20'+_0x2719c8+'\x20#'+formatResult(_0x37d4d7[_0x45fa31(0x26c)],0x8)+'\x20@'+formatResult(_0x37d4d7[_0x45fa31(0x259)],0x8));_0x37d4d7[_0x45fa31(0x271)]=_0x49a065[_0x45fa31(0x271)],await updateCoinResults(_0x37d4d7);if(config['cooldown']!=0x0){let _0x4f6b57=null;if(cooldownTracker[_0x45fa31(0x2ef)]==config['cooldown']-0x1)_0x4f6b57=cooldownTracker['shift']();const _0x20ba8a=getTimeStamp();cooldownTracker[_0x45fa31(0x237)](_0x20ba8a);if(_0x4f6b57){const _0x3fe2da=fns[_0x45fa31(0x272)](new Date(_0x20ba8a),new Date(_0x4f6b57));_0x3fe2da<cooldownInterval&&(logHistory(_0x45fa31(0x2e2),'Executed\x20'+config[_0x45fa31(0x2ee)]+_0x45fa31(0x268)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x45fa31(0x2d4)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x3a4d5b){if(_0x3a4d5b[_0x45fa31(0x2d2)]()['includes']('MIN_NOTIONAL'))logHistory('error',_0x45fa31(0x2a9)+_0x587e6c);else{if(_0x3a4d5b[_0x45fa31(0x2d2)]()['includes'](_0x45fa31(0x2f5)))logHistory(_0x45fa31(0x2e2),_0x45fa31(0x23b)+_0x587e6c);else await handleError(_0x3a4d5b,_0x45fa31(0x290));}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config[_0x45fa31(0x216)]==_0x45fa31(0x267)?logHistory(_0x45fa31(0x2e2),_0x45fa31(0x2e7)):logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config[_0x45fa31(0x2b9)]&&logHistory('error',_0x45fa31(0x202)));}}function logHistory(_0x30d1cd,_0x2a7182,_0x2aacac=''){const _0xe5d0b8=_0x12fc42;let _0x25d4db={'time':getTimeStamp(),'type':_0x30d1cd,'event':_0x2a7182};dbLogs['get'](_0xe5d0b8(0x23d))[_0xe5d0b8(0x237)](_0x25d4db)[_0xe5d0b8(0x1ff)]();if(_0x2aacac=='')_0x2aacac=_0x2a7182;proxyEmit(_0xe5d0b8(0x257),{'log':_0x25d4db,'summary':_0x2aacac}),process[_0xe5d0b8(0x284)]({'telegram':{..._0x25d4db,'botname':config[_0xe5d0b8(0x22d)],'showname':config[_0xe5d0b8(0x27c)]}},_0x5b028f=>{}),logging(''+_0x25d4db[_0xe5d0b8(0x257)]);}function emitHistory(_0x27461e={}){const _0x558473=_0x12fc42;Object['keys'](_0x27461e)['length']==0x0&&(_0x27461e={'type':[_0x558473(0x232),_0x558473(0x257)],'event':'','page':0x1});if(_0x27461e[_0x558473(0x29c)][_0x558473(0x235)](_0x558473(0x257)))_0x27461e[_0x558473(0x29c)]['splice'](_0x27461e[_0x558473(0x29c)][_0x558473(0x25d)](_0x558473(0x257)),0x1,_0x558473(0x2e2),'success');if(dbLogs[_0x558473(0x303)](_0x558473(0x23d))[_0x558473(0x230)]()){let _0x34e46e=dbLogs[_0x558473(0x2b2)](_0x558473(0x23d))[_0x558473(0x234)](_0x1fa227=>{const _0x15c77c=_0x558473;if(_0x27461e['type']['length']==0x0)return![];else return _0x27461e['type'][_0x15c77c(0x235)](_0x1fa227['type']);})[_0x558473(0x234)](_0x23d360=>{const _0xc2a062=_0x558473;if(_0x27461e[_0xc2a062(0x257)]=='')return!![];else return _0x23d360[_0xc2a062(0x257)][_0xc2a062(0x225)]()[_0xc2a062(0x235)](_0x27461e[_0xc2a062(0x257)][_0xc2a062(0x225)]());})['sortBy'](_0x558473(0x226)),_0x917bcb=_0x34e46e[_0x558473(0x230)]()[_0x558473(0x2ef)];_0x34e46e=_0x34e46e[_0x558473(0x2b1)]()[_0x558473(0x22c)]((_0x27461e[_0x558473(0x248)]-0x1)*logPageSize,_0x27461e['page']*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x558473(0x2e0),{'logs':_0x34e46e,'total':_0x917bcb});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistory(_0x4fb768={}){const _0x44eb93=_0x12fc42;Object[_0x44eb93(0x222)](_0x4fb768)[_0x44eb93(0x2ef)]==0x0&&(_0x4fb768={'type':[_0x44eb93(0x232),'event'],'event':''});if(_0x4fb768['type'][_0x44eb93(0x235)](_0x44eb93(0x257)))_0x4fb768[_0x44eb93(0x29c)][_0x44eb93(0x2f8)](_0x4fb768[_0x44eb93(0x29c)][_0x44eb93(0x25d)](_0x44eb93(0x257)),0x1,'error',_0x44eb93(0x264));console[_0x44eb93(0x2bc)](_0x4fb768);if(dbLogs[_0x44eb93(0x303)]('logs')[_0x44eb93(0x230)]()){let _0x1d1eac=dbLogs[_0x44eb93(0x2b2)]('logs')[_0x44eb93(0x262)](_0x44eb93(0x226))['filter'](_0x29a7f4=>{const _0x34bd75=_0x44eb93;if(_0x4fb768[_0x34bd75(0x29c)][_0x34bd75(0x2ef)]==0x0)return!![];else return!_0x4fb768[_0x34bd75(0x29c)][_0x34bd75(0x235)](_0x29a7f4['type']);})['filter'](_0x347855=>{const _0x5e4262=_0x44eb93;if(_0x4fb768['event']=='')return![];else return!_0x347855[_0x5e4262(0x257)]['toLowerCase']()[_0x5e4262(0x235)](_0x4fb768[_0x5e4262(0x257)][_0x5e4262(0x225)]());});console['log'](JSON[_0x44eb93(0x24a)](_0x1d1eac));}}async function pauseBot(_0x40a168){const _0x5ecbd7=_0x12fc42,_0x260568=new Date()[_0x5ecbd7(0x1fc)]();if(!lastBotPause)lastBotPause=new Date()[_0x5ecbd7(0x1fc)](),consecutivePauses=0x1;else{if(_0x260568-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x5ecbd7(0x284)]({'stop':_0x5ecbd7(0x2f6)},_0x4dc01a=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x5ecbd7(0x1fc)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x5ecbd7(0x2e2),_0x5ecbd7(0x220)+consecutivePauses+')'),await sleep(_0x40a168),botPaused=![],reset();}}async function handleError(_0x381306,_0xc4544b,_0x31c187=''){const _0x386db0=_0x12fc42;if(_0x381306[_0x386db0(0x2d2)]()['includes']('DDoSProtection'))logHistory('error',_0xc4544b+'\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)'),await pauseBot(pauseBotInterval);else{if(_0x381306[_0x386db0(0x2d2)]()[_0x386db0(0x235)](_0x386db0(0x2ca)))logHistory('error',_0xc4544b+_0x386db0(0x2cc)),await pauseBot(pauseBotInterval);else{if(_0x381306[_0x386db0(0x2d2)]()[_0x386db0(0x235)](_0x386db0(0x2fd)))logHistory(_0x386db0(0x2e2),_0xc4544b+_0x386db0(0x2f7)),await pauseBot(pauseBotInterval);else{if(_0x381306[_0x386db0(0x2d2)]()[_0x386db0(0x235)](_0x386db0(0x1e9)))logHistory('error',_0xc4544b+_0x386db0(0x255)),logHistory('error',_0x386db0(0x294)),process[_0x386db0(0x284)]({'stop':_0x386db0(0x2b3)},_0x215738=>{});else{if(_0x381306[_0x386db0(0x2d2)]()[_0x386db0(0x235)](_0x386db0(0x1f8)))logHistory(_0x386db0(0x2e2),_0xc4544b+_0x386db0(0x2ed)),logHistory(_0x386db0(0x2e2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x386db0(0x284)]({'stop':_0x386db0(0x2b3)},_0x4d4b65=>{});else{if(_0x381306[_0x386db0(0x2d2)]()['includes'](_0x386db0(0x2e4)))logHistory('error',_0xc4544b+_0x386db0(0x26d)),logHistory(_0x386db0(0x2e2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['send']({'stop':_0x386db0(0x2b3)},_0x2ac5d0=>{});else{if(_0x381306[_0x386db0(0x2d2)]()[_0x386db0(0x235)](_0x386db0(0x28b)))logHistory(_0x386db0(0x2e2),_0xc4544b+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x386db0(0x2e2),_0x386db0(0x294)),process[_0x386db0(0x284)]({'stop':_0x386db0(0x2b3)},_0x27697a=>{});else{if(_0x381306[_0x386db0(0x2d2)]()[_0x386db0(0x235)](_0x386db0(0x26b)))logHistory(_0x386db0(0x2e2),_0xc4544b+'\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured'),await pauseBot(pauseBotInterval),process[_0x386db0(0x284)]({'stop':_0x386db0(0x2f6)},_0x8376dc=>{});else _0x381306[_0x386db0(0x2d2)]()[_0x386db0(0x235)](_0x386db0(0x304))?logHistory(_0x386db0(0x2e2),_0xc4544b+_0x386db0(0x24f)):(logHistory(_0x386db0(0x2e2),_0xc4544b+_0x386db0(0x22f)),logging(_0xc4544b+'\x20|\x20Error\x20details:\x20',_0x381306),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x320815,_0x293833){const _0x4b5a1c=_0x12fc42;return parseFloat(_0x320815[_0x4b5a1c(0x2ab)](_0x293833));}function logging(_0x33932f,_0x441512=''){const _0x285d8e=_0x12fc42;if(config[_0x285d8e(0x27c)])console[_0x285d8e(0x2bc)](getTimeStamp()+':\x20'+config[_0x285d8e(0x22d)]+_0x285d8e(0x276)+_0x33932f,_0x441512);else console[_0x285d8e(0x2bc)](getTimeStamp()+_0x285d8e(0x25e)+botID+'\x20>\x20'+_0x33932f,_0x441512);}function getServerTime(){const _0x407c85=_0x12fc42,_0x363875=new Date();return _0x363875[_0x407c85(0x287)]()+'/'+(_0x363875['getMonth']()+0x1)[_0x407c85(0x2d2)]()['padStart'](0x2,'0')+'/'+_0x363875[_0x407c85(0x25c)]()[_0x407c85(0x2d2)]()[_0x407c85(0x24b)](0x2,'0')+'\x20'+_0x363875[_0x407c85(0x217)]()[_0x407c85(0x2d2)]()['padStart'](0x2,'0')+':'+_0x363875[_0x407c85(0x29e)]()[_0x407c85(0x2d2)]()[_0x407c85(0x24b)](0x2,'0')+':'+_0x363875[_0x407c85(0x252)]()[_0x407c85(0x2d2)]()[_0x407c85(0x24b)](0x2,'0');}function _0xeab9(_0x2803b4,_0x37e3d3){const _0xd10e43=_0x103a();return _0xeab9=function(_0x5d9c8a,_0x1dd6ea){_0x5d9c8a=_0x5d9c8a-0x1e7;let _0x103a75=_0xd10e43[_0x5d9c8a];return _0x103a75;},_0xeab9(_0x2803b4,_0x37e3d3);}function getTimeStamp(){const _0x2e1735=_0x12fc42,_0x37f87c=shiftedTime();return _0x37f87c['getFullYear']()+'/'+(_0x37f87c['getMonth']()+0x1)[_0x2e1735(0x2d2)]()['padStart'](0x2,'0')+'/'+_0x37f87c[_0x2e1735(0x25c)]()[_0x2e1735(0x2d2)]()['padStart'](0x2,'0')+'\x20'+_0x37f87c[_0x2e1735(0x217)]()[_0x2e1735(0x2d2)]()['padStart'](0x2,'0')+':'+_0x37f87c[_0x2e1735(0x29e)]()[_0x2e1735(0x2d2)]()['padStart'](0x2,'0')+':'+_0x37f87c[_0x2e1735(0x252)]()[_0x2e1735(0x2d2)]()[_0x2e1735(0x24b)](0x2,'0');}function getDate(){const _0x3bf8ca=_0x12fc42,_0x551dae=shiftedTime();return _0x551dae[_0x3bf8ca(0x287)]()+'/'+(_0x551dae['getMonth']()+0x1)[_0x3bf8ca(0x2d2)]()[_0x3bf8ca(0x24b)](0x2,'0')+'/'+_0x551dae[_0x3bf8ca(0x25c)]()[_0x3bf8ca(0x2d2)]()['padStart'](0x2,'0');}function getHour(){const _0x27be53=_0x12fc42,_0x2f31c6=shiftedTime();return _0x2f31c6[_0x27be53(0x217)]()[_0x27be53(0x2d2)]()['padStart'](0x2,'0');}function sleep(_0x5cb7b3){return new Promise(_0x10aada=>setTimeout(_0x10aada,_0x5cb7b3));}function shiftedTime(){const _0xbd0259=_0x12fc42,_0x9e4142=new Date();let _0x47e646=_0x9e4142;if(config&&config['timeshift']!==0x0)_0x47e646=fns[_0xbd0259(0x253)](_0x9e4142,{'hours':config[_0xbd0259(0x21f)]});return _0x47e646;}