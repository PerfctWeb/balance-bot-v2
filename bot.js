const _0x365159=_0x2141;(function(_0x3916b,_0x137448){const _0x479db3=_0x2141,_0x4c8e3a=_0x3916b();while(!![]){try{const _0x2b2605=parseInt(_0x479db3(0x2e4))/0x1*(parseInt(_0x479db3(0x1e8))/0x2)+parseInt(_0x479db3(0x2d1))/0x3*(parseInt(_0x479db3(0x2ae))/0x4)+-parseInt(_0x479db3(0x26f))/0x5*(-parseInt(_0x479db3(0x274))/0x6)+-parseInt(_0x479db3(0x2ab))/0x7*(-parseInt(_0x479db3(0x23e))/0x8)+parseInt(_0x479db3(0x2c7))/0x9*(-parseInt(_0x479db3(0x2d7))/0xa)+parseInt(_0x479db3(0x29b))/0xb+-parseInt(_0x479db3(0x26c))/0xc*(parseInt(_0x479db3(0x246))/0xd);if(_0x2b2605===_0x137448)break;else _0x4c8e3a['push'](_0x4c8e3a['shift']());}catch(_0x4dad23){_0x4c8e3a['push'](_0x4c8e3a['shift']());}}}(_0x3a24,0xc9222));const _0x47f17b=function(){let _0x12b32f=!![];return function(_0x2bd9df,_0x50dda3){const _0x3a051c=_0x12b32f?function(){if(_0x50dda3){const _0x241fe4=_0x50dda3['apply'](_0x2bd9df,arguments);return _0x50dda3=null,_0x241fe4;}}:function(){};return _0x12b32f=![],_0x3a051c;};}(),_0x2b9940=_0x47f17b(this,function(){const _0x469039=_0x2141;return _0x2b9940[_0x469039(0x2cd)]()['search']('(((.+)+)+)+$')[_0x469039(0x2cd)]()[_0x469039(0x2a5)](_0x2b9940)[_0x469039(0x23f)](_0x469039(0x285));});_0x2b9940();'use strict';const ccxt=require(_0x365159(0x281)),low=require(_0x365159(0x213)),FileSync=require(_0x365159(0x1ee)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger}=require('binance'),Crypt=require(_0x365159(0x2c0))[_0x365159(0x21a)];let exchange,wsClient;global[_0x365159(0x2e3)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![];const serverversion=require(_0x365159(0x2df))[_0x365159(0x272)],botID=process[_0x365159(0x2c6)][0x2]||_0x365159(0x241),pattern=/^[0-9]{3}$/;if(!pattern['test'](botID))return console[_0x365159(0x209)](_0x365159(0x25f)+botID+_0x365159(0x275)),process[_0x365159(0x28f)](0x1);const configpath=_0x365159(0x254);!fs[_0x365159(0x2b5)](configpath)&&fs[_0x365159(0x257)](configpath);const configfile=configpath+_0x365159(0x2a7)+botID+_0x365159(0x2ca),logfile=configpath+_0x365159(0x2a7)+botID+_0x365159(0x25e),performancefile=configpath+_0x365159(0x2a7)+botID+_0x365159(0x2d3),coinresultsfile=configpath+_0x365159(0x2a7)+botID+_0x365159(0x287),settingsfile=configpath+_0x365159(0x2a3),securefile=configpath+_0x365159(0x289),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x365159(0x1fa)]({'logs':[]})[_0x365159(0x2db)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x365159(0x1fa)]({'data':[]})[_0x365159(0x2db)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x365159(0x1fa)]({'bot':[]})[_0x365159(0x2db)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x365159(0x1fa)]({'coins':[]})[_0x365159(0x2db)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x365159(0x200),'symbol':_0x365159(0x276)},'usd':{'coin':_0x365159(0x2a1),'symbol':_0x365159(0x2af)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0xd1674d)=>{},'debug':(..._0x143659)=>{},'notice':(..._0x489196)=>{},'info':(..._0x344da3)=>{},'warning':(..._0x18e9b5)=>{},'error':async function(..._0x15d7b8){const _0x46474f=_0x365159,_0x194f45=new Date()[_0x46474f(0x2a8)]();if(!lastErrorShown||_0x194f45-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime'](),logHistory('error','WebSockets('+consecutivePauses+_0x46474f(0x24d));let _0x2e80fd='';if(_0x15d7b8[0x0])_0x2e80fd+=_0x15d7b8[0x0];if(_0x15d7b8[0x1]&&_0x15d7b8[0x1][_0x46474f(0x293)]&&_0x15d7b8[0x1][_0x46474f(0x293)]['message'])_0x2e80fd+='\x20-\x20'+_0x15d7b8[0x1][_0x46474f(0x293)][_0x46474f(0x1e4)];logging(_0x46474f(0x28a)+consecutivePauses+_0x46474f(0x2b1),''+_0x2e80fd),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x365159(0x239),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings[_0x365159(0x2da)]!=config[_0x365159(0x2da)]&&updateTimeshift(settings['timeshift']);process[_0x365159(0x27f)]({'started':_0x365159(0x27b)}),initializeProcessListeners();function proxyEmit(_0x418a84,_0x533017=null){const _0x59dda5=_0x365159;process[_0x59dda5(0x27f)]({'function':_0x418a84,'args':_0x533017});}function initializeProcessListeners(){const _0x34560f=_0x365159;process['on'](_0x34560f(0x1e4),_0x1a8a98=>{const _0x289dc8=_0x34560f;switch(Object[_0x289dc8(0x27d)](_0x1a8a98)[0x0]){case _0x289dc8(0x2da):_0x1a8a98[_0x289dc8(0x2da)]!=undefined&&(settings['timeshift']=_0x1a8a98[_0x289dc8(0x2da)],updateTimeshift(settings['timeshift']));break;case _0x289dc8(0x23a):switch(_0x1a8a98['function']){case _0x289dc8(0x2cf):initclient();break;case _0x289dc8(0x201):emitHistory(_0x1a8a98[_0x289dc8(0x20b)]);break;case'getPortfolio':getPortfolio(_0x1a8a98['args']);break;case _0x289dc8(0x2bc):storeConfiguration(_0x1a8a98['args']);break;case _0x289dc8(0x226):storeHeadless(_0x1a8a98[_0x289dc8(0x20b)]);break;case _0x289dc8(0x280):getStartingBalances();break;case _0x289dc8(0x21c):placeOrder(_0x1a8a98[_0x289dc8(0x20b)]);break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x2cf1f1=_0x365159;if(pidBalances)clearTimeout(pidBalances);if(config[_0x2cf1f1(0x273)]!=''){await initExchange(config[_0x2cf1f1(0x273)],config[_0x2cf1f1(0x20d)]);let _0x2e4573=await loadSymbols();_0x2e4573&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x47e13f,_0x28549d){const _0x25503b=_0x365159,_0x299ead=ccxt[config[_0x25503b(0x292)]];let _0x21347c;switch(config[_0x25503b(0x292)]){case _0x25503b(0x22d):_0x21347c=_0x25503b(0x208);break;case _0x25503b(0x259):_0x21347c=_0x25503b(0x244);break;default:_0x21347c=_0x25503b(0x208);}exchange=new _0x299ead({'apiKey':_0x47e13f,'secret':_0x28549d,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x47e13f,'api_secret':_0x28549d,'beautify':!![],'wsUrl':_0x21347c},logger),config[_0x25503b(0x292)]==_0x25503b(0x259)&&(stablecoins={'eur':{'coin':_0x25503b(0x2e9),'symbol':_0x25503b(0x271)},'usd':{'coin':_0x25503b(0x2a1),'symbol':'BTC/USDT'}});}async function loadSymbols(){const _0x40e531=_0x365159;let _0x2b33ab;try{markets=await exchange['loadMarkets'](),allSymbols=exchange['symbols'][_0x40e531(0x255)](_0x3aac45=>{return!_0x3aac45['includes']('DAI/');}),_0x2b33ab=!![];}catch(_0x1fa1c3){await handleError(_0x1fa1c3,_0x40e531(0x2e1)),_0x2b33ab=![];}return _0x2b33ab;}async function initbot(){const _0x51aa80=_0x365159;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x14e6de=dbCoinResults[_0x51aa80(0x1f3)](_0x51aa80(0x247))[_0x51aa80(0x2e7)]();if(_0x14e6de[_0x51aa80(0x27e)]==0x0)await resetCoinResults();}async function initclient(){const _0x3a6706=_0x365159;proxyEmit(_0x3a6706(0x1eb),emittedConfiguration());while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3a6706(0x2a2),{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x55e046=_0x365159;wsinitialized=![];ws1&&(ws1[_0x55e046(0x21f)](_0x336b8a=>{const _0x469b35=_0x55e046;try{wsClient[_0x469b35(0x243)](_0x336b8a);}catch(_0x2aa60d){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x58d655){}ws2=null;}}async function initws(){const _0x234c39=_0x365159;cleanws();let _0x43eb1c=[];currentCoins[_0x234c39(0x21f)](_0x1af0c0=>{const _0x512de5=_0x234c39;if(_0x1af0c0[_0x512de5(0x2c9)]!=config[_0x512de5(0x236)])_0x43eb1c[_0x512de5(0x2ed)](noslash(_0x1af0c0[_0x512de5(0x297)]));});if(!_0x43eb1c[_0x234c39(0x28e)](stablecoins['eur'][_0x234c39(0x2c9)]))_0x43eb1c[_0x234c39(0x2ed)](stablecoins[_0x234c39(0x299)][_0x234c39(0x2c9)]);if(!_0x43eb1c[_0x234c39(0x28e)](stablecoins[_0x234c39(0x24e)][_0x234c39(0x2c9)]))_0x43eb1c['push'](stablecoins[_0x234c39(0x24e)][_0x234c39(0x2c9)]);if(!_0x43eb1c[_0x234c39(0x28e)](_0x234c39(0x1e6)+config[_0x234c39(0x236)]))_0x43eb1c[_0x234c39(0x2ed)](_0x234c39(0x1e6)+config[_0x234c39(0x236)]);try{_0x43eb1c[_0x234c39(0x21f)]((_0xf57f61,_0x3724db)=>{const _0x29b49c=_0x234c39;ws1[_0x3724db]=wsClient[_0x29b49c(0x1fe)](_0xf57f61,'1m');}),ws2=wsClient[_0x234c39(0x20a)](),wsClient['on'](_0x234c39(0x249),_0x2e0d66=>{const _0x5768c0=_0x234c39;if(!Array[_0x5768c0(0x291)](_0x2e0d66)&&!_0x2e0d66['wsKey'][_0x5768c0(0x28e)](_0x5768c0(0x2dc))){if(_0x2e0d66['eventType']===_0x5768c0(0x2c5)){global[_0x5768c0(0x2e3)][_0x2e0d66['kline'][_0x5768c0(0x297)]]=_0x2e0d66[_0x5768c0(0x2c5)][_0x5768c0(0x252)];return;}}else{if(!Array[_0x5768c0(0x291)](_0x2e0d66)&&_0x2e0d66['wsKey'][_0x5768c0(0x28e)](_0x5768c0(0x2dc))){if(_0x2e0d66[_0x5768c0(0x1fd)][_0x5768c0(0x28e)](_0x5768c0(0x211))){updateNumberCoins(_0x2e0d66);return;}}}}),wsClient['on'](_0x234c39(0x245),async _0x1e5a0d=>{currentCoins=await getCoins();});}catch(_0x285e30){await handleError(_0x285e30,'initws()');}let _0x4f5aa2;while(_0x4f5aa2!=currentCoins[_0x234c39(0x27e)]-0x1){_0x4f5aa2=0x0,currentCoins['forEach'](_0x1f7700=>{const _0x276daa=_0x234c39;if(_0x1f7700[_0x276daa(0x2c9)]!=config[_0x276daa(0x236)]&&global[_0x276daa(0x2e3)][noslash(_0x1f7700[_0x276daa(0x297)])])_0x4f5aa2++;});let _0xb837cd=Math[_0x234c39(0x217)](_0x4f5aa2/(currentCoins[_0x234c39(0x27e)]-0x1)*0x64);proxyEmit(_0x234c39(0x2de),_0xb837cd),await sleep(0xc8);}wsinitialized=!![];}async function getFiat(){const _0x88724b=_0x365159;let _0x541cd0=0x0,_0x4ddda3=0x0;try{_0x541cd0=global[_0x88724b(0x2e3)][stablecoins[_0x88724b(0x299)][_0x88724b(0x2c9)]],_0x4ddda3=global['ticker'][stablecoins['usd'][_0x88724b(0x2c9)]];}catch(_0x14b70e){await handleError(_0x14b70e,'getFiat()');}return{'eur':Number(_0x541cd0),'usd':Number(_0x4ddda3)};}async function setStartDatePerformance(_0x93e912){const _0x5422c9=_0x365159,_0x2b63cc=fns['format'](new Date(_0x93e912[_0x5422c9(0x263)]),_0x5422c9(0x24a));let _0x48506a=[];_0x48506a[stablecoins[_0x5422c9(0x299)][_0x5422c9(0x2c9)]]=await getCloses(stablecoins[_0x5422c9(0x299)][_0x5422c9(0x297)],new Date(_0x93e912[_0x5422c9(0x263)]),0x1),_0x48506a[stablecoins[_0x5422c9(0x24e)][_0x5422c9(0x2c9)]]=await getCloses(stablecoins['usd'][_0x5422c9(0x297)],new Date(_0x93e912['startdate']),0x1);let _0x3e0ac5,_0x42c8eb=[];_0x93e912[_0x5422c9(0x22e)][_0x5422c9(0x21f)](_0x5f3bcf=>{const _0x1cb835=_0x5422c9;!_0x5f3bcf[_0x1cb835(0x230)]&&_0x42c8eb['push']({'coin':_0x5f3bcf[_0x1cb835(0x2c9)],'number':_0x5f3bcf[_0x1cb835(0x2b6)],'price':_0x5f3bcf[_0x1cb835(0x2e8)]});}),_0x3e0ac5={'date':_0x2b63cc,'eur':_0x48506a[stablecoins[_0x5422c9(0x299)][_0x5422c9(0x2c9)]][0x0],'usd':_0x48506a[stablecoins[_0x5422c9(0x24e)]['coin']][0x0],'coins':_0x42c8eb};let _0x206170=dbPerformance['get'](_0x5422c9(0x222))[_0x5422c9(0x2b8)]({'date':_0x2b63cc})[_0x5422c9(0x2e7)]();_0x206170?dbPerformance[_0x5422c9(0x1f3)]('data')[_0x5422c9(0x2b8)]({'date':_0x2b63cc})[_0x5422c9(0x2c1)](_0x3e0ac5)[_0x5422c9(0x2db)]():dbPerformance['get']('data')[_0x5422c9(0x2ed)](_0x3e0ac5)['write'](),_0x206170=dbPerformance['get'](_0x5422c9(0x222))[_0x5422c9(0x251)](_0x5422c9(0x2b7))[_0x5422c9(0x2e7)](),_0x206170[_0x5422c9(0x21f)](_0x558c7f=>{const _0x18d9c5=_0x5422c9;_0x558c7f[_0x18d9c5(0x2b7)]<_0x2b63cc&&dbPerformance[_0x18d9c5(0x1f3)](_0x18d9c5(0x222))['remove']({'date':_0x558c7f[_0x18d9c5(0x2b7)]})['write']();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x1f5cb4){const _0x36e2e6=_0x365159;let _0x4ffa95,_0x4b9de3=[];logHistory(_0x36e2e6(0x2c3),_0x36e2e6(0x2cb)),_0x1f5cb4[_0x36e2e6(0x22e)][_0x36e2e6(0x21f)](_0x128280=>{const _0x5d5131=_0x36e2e6;if(_0x128280[_0x5d5131(0x2c9)]!=config[_0x5d5131(0x236)]&&!_0x128280['excluded'])_0x4b9de3[_0x5d5131(0x2ed)]({'coin':_0x128280[_0x5d5131(0x2c9)],'symbol':_0x128280[_0x5d5131(0x297)]});});let _0x549f7e=[];try{const _0x260006=fns[_0x36e2e6(0x219)](fns[_0x36e2e6(0x24b)](_0x1f5cb4[_0x36e2e6(0x263)][_0x36e2e6(0x2ee)](/\//g,'-')),_0x36e2e6(0x229));for(const _0x42da30 of _0x4b9de3){if(_0x42da30['coin']!=config['basecoin'])_0x4ffa95=await exchange[_0x36e2e6(0x29a)](_0x42da30[_0x36e2e6(0x297)],Date[_0x36e2e6(0x2aa)](_0x260006));_0x4ffa95['forEach'](_0x330827=>{const _0x2dc64e=_0x36e2e6,_0x190f28=_0x42da30[_0x2dc64e(0x297)][_0x2dc64e(0x28e)](config[_0x2dc64e(0x236)]+'/'),_0x31e76d=fns[_0x2dc64e(0x219)](fns['parseISO'](_0x330827[_0x2dc64e(0x265)]),_0x2dc64e(0x294)),_0x17fb6c=fns[_0x2dc64e(0x219)](fns['parseISO'](_0x330827[_0x2dc64e(0x265)]),_0x2dc64e(0x24a));let _0x25514b;if(_0x330827['side']==_0x2dc64e(0x1ec)&&_0x190f28==![])_0x25514b=_0x330827['amount'];if(_0x330827[_0x2dc64e(0x2ce)]=='buy'&&_0x190f28==!![])_0x25514b=-_0x330827[_0x2dc64e(0x298)]*_0x330827[_0x2dc64e(0x29f)];if(_0x330827[_0x2dc64e(0x2ce)]==_0x2dc64e(0x23b)&&_0x190f28==![])_0x25514b=-_0x330827[_0x2dc64e(0x298)];if(_0x330827['side']=='sell'&&_0x190f28==!![])_0x25514b=_0x330827['amount']*_0x330827[_0x2dc64e(0x29f)];_0x549f7e[_0x2dc64e(0x2ed)]({'timestamp':_0x31e76d,'date':_0x17fb6c,'coin':_0x42da30['coin'],'symbol':_0x42da30['symbol'],'type':_0x330827[_0x2dc64e(0x2e6)],'side':_0x330827[_0x2dc64e(0x2ce)],'reverse':_0x190f28,'amount':formatResult(_0x330827[_0x2dc64e(0x268)],0x8),'filled':formatResult(_0x330827[_0x2dc64e(0x268)],0x8),'coinamount':formatResult(_0x25514b,0x8),'price':formatResult(_0x330827['price'],0x8)});let _0x10830d;if(_0x330827[_0x2dc64e(0x2ce)]==_0x2dc64e(0x1ec)&&_0x190f28==![])_0x10830d=-_0x330827[_0x2dc64e(0x298)]*_0x330827[_0x2dc64e(0x29f)];if(_0x330827[_0x2dc64e(0x2ce)]==_0x2dc64e(0x1ec)&&_0x190f28==!![])_0x10830d=_0x330827[_0x2dc64e(0x298)];if(_0x330827[_0x2dc64e(0x2ce)]==_0x2dc64e(0x23b)&&_0x190f28==![])_0x10830d=_0x330827[_0x2dc64e(0x298)]*_0x330827[_0x2dc64e(0x29f)];if(_0x330827[_0x2dc64e(0x2ce)]=='sell'&&_0x190f28==!![])_0x10830d=-_0x330827[_0x2dc64e(0x298)];_0x549f7e[_0x2dc64e(0x2ed)]({'date':_0x17fb6c,'coin':config[_0x2dc64e(0x236)],'coinamount':formatResult(_0x10830d,0x8)});});}_0x549f7e[_0x36e2e6(0x206)]((_0xdc5bc0,_0x261da7)=>_0xdc5bc0[_0x36e2e6(0x227)]>_0x261da7[_0x36e2e6(0x227)]?0x1:_0x261da7[_0x36e2e6(0x227)]>_0xdc5bc0[_0x36e2e6(0x227)]?-0x1:0x0),dbLogs[_0x36e2e6(0x1f3)](_0x36e2e6(0x269))['remove']()[_0x36e2e6(0x2db)](),_0x549f7e['forEach'](_0x216c0a=>{const _0x5e8f98=_0x36e2e6;let _0x3ee945;_0x216c0a['coin']!=config[_0x5e8f98(0x236)]&&(_0x3ee945={'time':_0x216c0a[_0x5e8f98(0x227)],'type':_0x5e8f98(0x1ff),'event':_0x5e8f98(0x2bf)+_0x216c0a[_0x5e8f98(0x297)]+'\x20'+_0x216c0a[_0x5e8f98(0x2ce)]+'\x20#'+_0x216c0a[_0x5e8f98(0x298)]+'\x20@'+_0x216c0a[_0x5e8f98(0x29f)]},dbLogs[_0x5e8f98(0x1f3)]('logs')['push'](_0x3ee945)[_0x5e8f98(0x2db)]());});const _0x477612=fns[_0x36e2e6(0x2d9)]({'start':new Date(_0x1f5cb4['startdate']),'end':new Date()})['map'](_0x5ce3ba=>fns['format'](_0x5ce3ba,_0x36e2e6(0x24a)));let _0x288c14=[];_0x1f5cb4[_0x36e2e6(0x22e)]['forEach'](_0x2432eb=>{const _0x3b16c0=_0x36e2e6;if(!_0x2432eb[_0x3b16c0(0x230)]){_0x288c14[_0x2432eb[_0x3b16c0(0x2c9)]]=[];let _0x3360fc=_0x2432eb[_0x3b16c0(0x2b6)];_0x477612['forEach']((_0x30f819,_0x256c7d)=>{const _0x2ee38c=_0x3b16c0;let _0x1aaebc=_0x549f7e[_0x2ee38c(0x255)](_0x454e04=>_0x454e04[_0x2ee38c(0x2c9)]==_0x2432eb[_0x2ee38c(0x2c9)]&&_0x454e04['date']==_0x30f819);if(_0x1aaebc['length']!=0x0){let _0x35b2b0=_0x1aaebc[_0x2ee38c(0x1f1)]((_0x1a3f03,_0x3cd57e)=>{const _0x434bd9=_0x2ee38c;return _0x1a3f03+=_0x3cd57e[_0x434bd9(0x214)],_0x1a3f03;},0x0);_0x3360fc+=_0x35b2b0;}_0x288c14[_0x2432eb[_0x2ee38c(0x2c9)]][_0x30f819]=_0x3360fc;});}});const _0x44fd81=[..._0x4b9de3];_0x44fd81[_0x36e2e6(0x2ed)]({'coin':stablecoins[_0x36e2e6(0x299)][_0x36e2e6(0x2c9)],'symbol':stablecoins[_0x36e2e6(0x299)][_0x36e2e6(0x297)]}),_0x44fd81['push']({'coin':stablecoins[_0x36e2e6(0x24e)][_0x36e2e6(0x2c9)],'symbol':stablecoins[_0x36e2e6(0x24e)][_0x36e2e6(0x297)]});let _0x428fb2=[];for(const _0xb80720 of _0x44fd81){_0x428fb2[_0xb80720['coin']]=await getCloses(_0xb80720[_0x36e2e6(0x297)],new Date(_0x1f5cb4[_0x36e2e6(0x263)]));}dbPerformance[_0x36e2e6(0x1f3)](_0x36e2e6(0x222))['remove']()[_0x36e2e6(0x2db)](),_0x477612[_0x36e2e6(0x21f)]((_0x3dc7f9,_0x4e37c6)=>{const _0x4dcd7b=_0x36e2e6;let _0x302294,_0x15382b=[];_0x4e37c6==0x0?(_0x1f5cb4[_0x4dcd7b(0x22e)][_0x4dcd7b(0x21f)](_0xb9587b=>{const _0x58cd30=_0x4dcd7b;!_0xb9587b[_0x58cd30(0x230)]&&_0x15382b[_0x58cd30(0x2ed)]({'coin':_0xb9587b[_0x58cd30(0x2c9)],'number':_0xb9587b['startnumber'],'price':_0xb9587b['startprice']});}),_0x302294={'date':_0x3dc7f9,'eur':_0x428fb2[stablecoins[_0x4dcd7b(0x299)][_0x4dcd7b(0x2c9)]][_0x4e37c6],'usd':_0x428fb2[stablecoins[_0x4dcd7b(0x24e)][_0x4dcd7b(0x2c9)]][_0x4e37c6],'coins':_0x15382b}):(_0x1f5cb4['portfolio']['forEach'](_0x2cc372=>{const _0x8f3ade=_0x4dcd7b;!_0x2cc372['excluded']&&_0x15382b[_0x8f3ade(0x2ed)]({'coin':_0x2cc372[_0x8f3ade(0x2c9)],'number':_0x288c14[_0x2cc372[_0x8f3ade(0x2c9)]][_0x3dc7f9],'price':_0x2cc372[_0x8f3ade(0x2c9)]==config[_0x8f3ade(0x236)]?0x1:_0x428fb2[_0x2cc372['coin']][_0x4e37c6]});}),_0x302294={'date':_0x3dc7f9,'eur':_0x428fb2[stablecoins[_0x4dcd7b(0x299)]['coin']][_0x4e37c6],'usd':_0x428fb2[stablecoins['usd']['coin']][_0x4e37c6],'coins':_0x15382b}),dbPerformance[_0x4dcd7b(0x1f3)]('data')[_0x4dcd7b(0x2ed)](_0x302294)[_0x4dcd7b(0x2db)]();}),emitPerformance(),await resetCoinResults();for(let _0x2a9367 of _0x549f7e){_0x2a9367[_0x36e2e6(0x2c9)]!=config[_0x36e2e6(0x236)]&&await updateCoinResults(_0x2a9367);}logHistory(_0x36e2e6(0x2c3),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x13f086){await handleError(_0x13f086,'recreateHistory()');}}async function getCloses(_0x42dace,_0xdcbc02,_0x1977a2=undefined){const _0xc82b6a=_0x365159,_0x5501d9='1d';let _0x25479c,_0x27bff8;const _0x15eb0b=fns[_0xc82b6a(0x270)](new Date(),_0xdcbc02)+0x1;try{const _0x298dcc=exchange['milliseconds']()-_0x15eb0b*0x18*0xe10*0x3e8;_0x25479c=await exchange[_0xc82b6a(0x232)](_0x42dace,_0x5501d9,_0x298dcc,_0x1977a2),_0x27bff8=await exchange[_0xc82b6a(0x21b)](_0x42dace);}catch(_0xc241fe){await handleError(_0xc241fe,'getCloses()');}let _0xf91def=ohlcvToCloses(_0x25479c);return _0xf91def['push'](_0x27bff8[_0x42dace][_0xc82b6a(0x28d)]),_0xf91def;}function ohlcvToCloses(_0x1caa94){const _0x351ab1=_0x365159;let _0x13a749=[];return _0x1caa94[_0x351ab1(0x21f)](function(_0x479bce){const _0x4fcc6e=_0x351ab1;_0x13a749[_0x4fcc6e(0x2ed)](_0x479bce[0x4]);}),_0x13a749;}function getConfiguration(_0x3e725c){const _0x27c37b=_0x365159;let _0x2255dd=dbConfig['get'](_0x27c37b(0x204))['find']({'botID':_0x3e725c})['value']();if(_0x2255dd){let _0x501cb7=![];!_0x2255dd[_0x27c37b(0x292)]&&(_0x2255dd={..._0x2255dd,'exchange':'binance'},_0x501cb7=!![]),!_0x2255dd['basecoin']&&(_0x2255dd={..._0x2255dd,'basecoin':_0x27c37b(0x266)},_0x501cb7=!![]),!_0x2255dd['ordertype']&&(_0x2255dd={..._0x2255dd,'ordertype':_0x27c37b(0x2d5)},_0x501cb7=!![]),!_0x2255dd[_0x27c37b(0x225)]&&(_0x2255dd={..._0x2255dd,'timeout':0x14},_0x501cb7=!![]),!_0x2255dd[_0x27c37b(0x279)]&&(_0x2255dd={..._0x2255dd,'emojibuy':''},_0x501cb7=!![]),!_0x2255dd['emojisell']&&(_0x2255dd={..._0x2255dd,'emojisell':''},_0x501cb7=!![]),!_0x2255dd[_0x27c37b(0x233)]&&(_0x2255dd={..._0x2255dd,'showname':![]},_0x501cb7=!![]),_0x501cb7&&(_0x2255dd={'botID':_0x2255dd['botID'],'exchange':_0x2255dd[_0x27c37b(0x292)],'apiKey':_0x2255dd['apiKey'],'apiSecret':_0x2255dd['apiSecret'],'basecoin':_0x2255dd[_0x27c37b(0x236)],'botname':_0x2255dd['botname'],'showname':_0x2255dd[_0x27c37b(0x233)],'threshold':_0x2255dd[_0x27c37b(0x203)],'ordertype':_0x2255dd[_0x27c37b(0x1f8)],'timeout':_0x2255dd[_0x27c37b(0x225)],'startdate':_0x2255dd[_0x27c37b(0x263)],'recreate':_0x2255dd[_0x27c37b(0x2b3)],'timeshift':_0x2255dd[_0x27c37b(0x2da)],'headless':_0x2255dd['headless'],'cooldown':_0x2255dd[_0x27c37b(0x1f7)],'emojibuy':_0x2255dd[_0x27c37b(0x279)],'emojisell':_0x2255dd[_0x27c37b(0x28b)],'portfolio':_0x2255dd['portfolio']},dbConfig['get']('bot')[_0x27c37b(0x242)]()['write'](),dbConfig[_0x27c37b(0x1f3)](_0x27c37b(0x204))[_0x27c37b(0x2ed)](_0x2255dd)['write']());}else _0x2255dd={'botID':_0x3e725c,'exchange':_0x27c37b(0x22d),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x27c37b(0x2d4)+_0x3e725c,'showname':![],'threshold':'3','ordertype':_0x27c37b(0x2d5),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x27c37b(0x2da)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x2255dd;}function emittedConfiguration(){const _0x2e00d5=_0x365159;let _0x1b3153;return config[_0x2e00d5(0x273)]==''?_0x1b3153=config:_0x1b3153={...config,'apiKey':'************','apiSecret':_0x2e00d5(0x2eb)},_0x1b3153;}function getSettings(){const _0x21f0a7=_0x365159;return dbSettings[_0x21f0a7(0x1f3)](_0x21f0a7(0x2ec))['value']();}function getSecure(){const _0x435889=_0x365159;return dbSecure[_0x435889(0x1f3)](_0x435889(0x25b))[_0x435889(0x2e7)]()||{};}function updateTimeshift(_0x25299c){const _0x42ef7c=_0x365159;let _0x29e62a=dbConfig[_0x42ef7c(0x1f3)](_0x42ef7c(0x204))['find']({'botID':botID})[_0x42ef7c(0x2e7)]();_0x29e62a&&dbConfig['get']('bot')['find']({'botID':botID})[_0x42ef7c(0x2c1)]({'timeshift':_0x25299c})[_0x42ef7c(0x2db)](),config[_0x42ef7c(0x2da)]=_0x25299c,proxyEmit(_0x42ef7c(0x1eb),emittedConfiguration());}async function storeConfiguration(_0x29b3fd){const _0x518d39=_0x365159;let _0xccbf9e=dbConfig[_0x518d39(0x1f3)](_0x518d39(0x204))['find']({'botID':botID})[_0x518d39(0x2e7)]();_0x29b3fd={..._0x29b3fd,'apiKey':crypt[_0x518d39(0x2c8)](secure[_0x518d39(0x2a0)],_0x29b3fd[_0x518d39(0x273)])[_0x518d39(0x1e4)],'apiSecret':crypt[_0x518d39(0x2c8)](secure[_0x518d39(0x2a0)],_0x29b3fd[_0x518d39(0x20d)])['message']};if(_0xccbf9e){if(_0x29b3fd[_0x518d39(0x273)]=='************')_0x29b3fd[_0x518d39(0x273)]=config[_0x518d39(0x273)];if(_0x29b3fd[_0x518d39(0x20d)]==_0x518d39(0x2eb))_0x29b3fd[_0x518d39(0x20d)]=config[_0x518d39(0x20d)];dbConfig[_0x518d39(0x1f3)](_0x518d39(0x204))['find']({'botID':botID})['assign'](_0x29b3fd)[_0x518d39(0x2db)]();}else dbConfig[_0x518d39(0x1f3)](_0x518d39(0x204))['push'](_0x29b3fd)[_0x518d39(0x2db)](),process[_0x518d39(0x27f)]({'status':_0x518d39(0x2d6),'live':_0x518d39(0x27b)});config={..._0x29b3fd};if(config['recreate'])await recreateHistory(config);else await setStartDatePerformance(config);process[_0x518d39(0x27f)]({'botname':_0x29b3fd['botname']}),proxyEmit(_0x518d39(0x220)),reset();}function _0x2141(_0x2e70a3,_0x118859){const _0x5bdc52=_0x3a24();return _0x2141=function(_0x2b9940,_0x47f17b){_0x2b9940=_0x2b9940-0x1e3;let _0x3a2457=_0x5bdc52[_0x2b9940];return _0x3a2457;},_0x2141(_0x2e70a3,_0x118859);}async function storeHeadless(_0x4c6622){const _0x45bfe9=_0x365159,_0x377815={...config,'headless':_0x4c6622[_0x45bfe9(0x25d)]};let _0x213f9b=dbConfig[_0x45bfe9(0x1f3)](_0x45bfe9(0x204))[_0x45bfe9(0x2b8)]({'botID':botID})['value']();_0x213f9b&&dbConfig[_0x45bfe9(0x1f3)](_0x45bfe9(0x204))[_0x45bfe9(0x2b8)]({'botID':botID})[_0x45bfe9(0x2c1)](_0x377815)[_0x45bfe9(0x2db)](),config={..._0x377815},proxyEmit(_0x45bfe9(0x1eb),emittedConfiguration());}function noslash(_0x498023){const _0x3bc103=_0x365159;return _0x498023[_0x3bc103(0x2ee)]('/','');}function updateNumberCoins(_0x322693){const _0x40ef7d=_0x365159;_0x322693['eventType']&&_0x322693[_0x40ef7d(0x261)]=='outboundAccountPosition'&&_0x322693['balances']['forEach'](_0x3d02d4=>{const _0x2ad64b=_0x40ef7d;let _0x427cca=currentCoins[_0x2ad64b(0x2b8)](_0x59d465=>_0x59d465[_0x2ad64b(0x2c9)]==_0x3d02d4[_0x2ad64b(0x253)]);if(_0x427cca)_0x427cca['number']=Number(_0x3d02d4[_0x2ad64b(0x20c)]);}),_0x322693[_0x40ef7d(0x261)]&&_0x322693[_0x40ef7d(0x261)]==_0x40ef7d(0x216)&&(_0x322693[_0x40ef7d(0x1f4)]==_0x40ef7d(0x23d)&&_0x322693[_0x40ef7d(0x24f)]=='FILLED'&&lastOrders['forEach'](_0x3059e1=>{const _0xe8233b=_0x40ef7d;if(_0x3059e1[_0xe8233b(0x26d)]==_0x322693[_0xe8233b(0x26d)]){if(_0x3059e1[_0xe8233b(0x21d)])_0x3059e1['filled']=_0x322693[_0xe8233b(0x205)]*_0x3059e1['price'];else _0x3059e1[_0xe8233b(0x268)]=_0x322693[_0xe8233b(0x205)];}}));}async function getCoins(_0x4ec859=!![],_0x4fcd39=config[_0x365159(0x236)]){const _0x4e2289=_0x365159;let _0x3bbfeb,_0x28e921=[],_0x5aca10=[],_0x4011a6=[];try{_0x3bbfeb=await exchange[_0x4e2289(0x256)](),mybalances=_0x3bbfeb[_0x4e2289(0x260)];if(!_0x4ec859)for(const [_0x322f5d,_0x4314bf]of Object[_0x4e2289(0x218)](mybalances)){_0x4011a6[_0x4e2289(0x2ed)](_0x322f5d);}else config['portfolio'][_0x4e2289(0x21f)](_0x5c3bf7=>{const _0xba0d0e=_0x4e2289;if(!_0x5c3bf7['excluded'])_0x4011a6[_0xba0d0e(0x2ed)](_0x5c3bf7['coin']);});if(_0x4fcd39=='')for(const [_0x26eed2,_0x121492]of Object[_0x4e2289(0x218)](mybalances)){_0x121492[_0x4e2289(0x2cd)]()!=0x0&&_0x5aca10[_0x4e2289(0x2ed)]({'coin':_0x26eed2});}else for(const [_0x57a67d,_0x57e7]of Object['entries'](mybalances)){if(_0x4011a6['includes'](_0x57a67d)){if((_0x57e7[_0x4e2289(0x2cd)]()!=0x0||config[_0x4e2289(0x22e)][_0x4e2289(0x2b8)](_0x131c23=>_0x131c23['coin']==_0x57a67d))&&(allSymbols['includes'](_0x57a67d+'/'+_0x4fcd39)||_0x57a67d==_0x4fcd39))_0x5aca10[_0x4e2289(0x2ed)]({'coin':_0x57a67d,'symbol':_0x57a67d+'/'+_0x4fcd39,'reverse':![],'number':_0x57e7}),_0x57a67d!=_0x4fcd39&&_0x28e921['push'](_0x57a67d+'/'+_0x4fcd39);else(_0x57e7['toString']()!=0x0||config[_0x4e2289(0x22e)][_0x4e2289(0x2b8)](_0x2e3153=>_0x2e3153[_0x4e2289(0x2c9)]==_0x57a67d))&&allSymbols[_0x4e2289(0x28e)](_0x4fcd39+'/'+_0x57a67d)&&(_0x5aca10[_0x4e2289(0x2ed)]({'coin':_0x57a67d,'symbol':_0x4fcd39+'/'+_0x57a67d,'reverse':!![],'number':_0x57e7}),_0x57a67d!=_0x4fcd39&&_0x28e921['push'](_0x4fcd39+'/'+_0x57a67d));}}}catch(_0x11d145){if(!_0x4ec859){if(_0x11d145[_0x4e2289(0x2cd)]()['includes'](_0x4e2289(0x1f5)))return logHistory(_0x4e2289(0x293),_0x4e2289(0x29e)),![];else{if(_0x11d145[_0x4e2289(0x2cd)]()[_0x4e2289(0x28e)](_0x4e2289(0x2b9)))return logHistory(_0x4e2289(0x293),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x11d145[_0x4e2289(0x2cd)]()[_0x4e2289(0x28e)](_0x4e2289(0x2dd)))return logHistory(_0x4e2289(0x293),_0x4e2289(0x288)),![];else await handleError(_0x11d145,_0x4e2289(0x286));}}}else await handleError(_0x11d145,_0x4e2289(0x286));}return _0x5aca10;}async function getPortfolio(_0x5222e5){const _0x4810b1=_0x365159;let _0x1952bb=[],_0xfefebb=[],_0x51e6ea,_0x9bcefa=[],_0x540dbc,_0x6a2bb7;_0x5222e5[_0x4810b1(0x273)]==='************'||_0x5222e5['apiSecret']==='************'?(_0x540dbc=config['apiKey'],_0x6a2bb7=config[_0x4810b1(0x20d)]):(_0x540dbc=_0x5222e5['apiKey'],_0x6a2bb7=_0x5222e5[_0x4810b1(0x20d)]);await initExchange(_0x540dbc,_0x6a2bb7);let _0x2690f0=await loadSymbols();if(_0x2690f0){_0x9bcefa=await getCoins(![],_0x5222e5[_0x4810b1(0x236)]);if(_0x9bcefa===![])proxyEmit(_0x4810b1(0x22e),![]);else{if(_0x5222e5[_0x4810b1(0x236)]=='')proxyEmit(_0x4810b1(0x22e),_0x9bcefa);else{_0x9bcefa[_0x4810b1(0x21f)](_0x51a6b8=>{const _0x4d719a=_0x4810b1;_0x1952bb[_0x4d719a(0x2ed)](_0x51a6b8[_0x4d719a(0x297)]);});try{_0xfefebb=await exchange[_0x4810b1(0x21b)](_0x1952bb);}catch(_0x17e162){await handleError(_0x17e162,_0x4810b1(0x2c4));}_0x9bcefa[_0x4810b1(0x21f)](_0x2e22fc=>{const _0x2606a4=_0x4810b1;_0x2e22fc[_0x2606a4(0x2c9)]!=_0x5222e5[_0x2606a4(0x236)]?_0x51e6ea=_0x2e22fc[_0x2606a4(0x21d)]?0x1/_0xfefebb[_0x2e22fc['symbol']][_0x2606a4(0x28d)]:_0xfefebb[_0x2e22fc[_0x2606a4(0x297)]][_0x2606a4(0x28d)]:_0x51e6ea=0x1,_0x2e22fc['price']=formatResult(_0x51e6ea,0x8);}),proxyEmit(_0x4810b1(0x22e),_0x9bcefa);}}}else proxyEmit(_0x4810b1(0x22e),![]);}function checkMinimums(_0xa478bd){const _0x2cf4c6=_0x365159;let _0x2f4bcb=!![];const _0x3ff4c0=!_0xa478bd['reverse']?markets[_0xa478bd['symbol']][_0x2cf4c6(0x290)][_0x2cf4c6(0x298)][_0x2cf4c6(0x2e5)]:markets[_0xa478bd[_0x2cf4c6(0x297)]][_0x2cf4c6(0x290)][_0x2cf4c6(0x2e0)][_0x2cf4c6(0x2e5)],_0x1f5dba=!_0xa478bd[_0x2cf4c6(0x21d)]?markets[_0xa478bd[_0x2cf4c6(0x297)]][_0x2cf4c6(0x290)][_0x2cf4c6(0x2e0)][_0x2cf4c6(0x2e5)]:markets[_0xa478bd[_0x2cf4c6(0x297)]]['limits'][_0x2cf4c6(0x298)][_0x2cf4c6(0x2e5)];if(Math[_0x2cf4c6(0x21e)](_0xa478bd[_0x2cf4c6(0x2cc)])<_0x3ff4c0)_0x2f4bcb=![];if(Math['abs'](_0xa478bd[_0x2cf4c6(0x2cc)])*_0xa478bd[_0x2cf4c6(0x28d)]<_0x1f5dba)_0x2f4bcb=![];return _0x2f4bcb;}async function getBalances(){const _0x119719=_0x365159;let _0x491e5f=0x0,_0x3044d7;const _0x2232c3=config[_0x119719(0x203)];currentCoins[_0x119719(0x21f)](_0x35fca4=>{const _0x2c0c66=_0x119719;if(_0x35fca4['coin']!=config[_0x2c0c66(0x236)]){let _0x311710=global[_0x2c0c66(0x2e3)][noslash(_0x35fca4[_0x2c0c66(0x297)])];_0x3044d7=_0x35fca4['reverse']?0x1/_0x311710:_0x311710;}else _0x3044d7=0x1;let _0x438edd=_0x35fca4[_0x2c0c66(0x22b)]*_0x3044d7;_0x491e5f+=_0x438edd,_0x35fca4[_0x2c0c66(0x28d)]=formatResult(Number(_0x3044d7),0x8),_0x35fca4['value']=_0x438edd;}),currentCoins['forEach'](_0x2fd16a=>{const _0xebd271=_0x119719;let _0x5ac4bf=config[_0xebd271(0x22e)][_0xebd271(0x2b8)](_0x8fc264=>_0x8fc264[_0xebd271(0x2c9)]==_0x2fd16a[_0xebd271(0x2c9)]),_0x52e8ad=Number(_0x5ac4bf['distribution']),_0x126d2a=_0x2fd16a[_0xebd271(0x2e7)]/_0x491e5f*0x64,_0x4fe95c=_0x52e8ad*_0x491e5f/0x64/_0x2fd16a[_0xebd271(0x28d)]-_0x2fd16a['number'];_0x2fd16a[_0xebd271(0x1f2)]=formatResult(_0x126d2a,0x3),_0x2fd16a[_0xebd271(0x234)]=formatResult(_0x52e8ad,0x3),_0x2fd16a[_0xebd271(0x2cc)]=formatResult(_0x4fe95c,0x8),_0x2fd16a[_0xebd271(0x2ce)]='',_0x2fd16a[_0xebd271(0x2be)]='';if(_0x2fd16a[_0xebd271(0x2c9)]!=config[_0xebd271(0x236)]){if(_0x2fd16a[_0xebd271(0x1f2)]>_0x52e8ad)_0x2fd16a['side']=_0xebd271(0x23b),_0x2fd16a[_0xebd271(0x2be)]=checkMinimums(_0x2fd16a);else _0x2fd16a[_0xebd271(0x1f2)]<_0x52e8ad&&(_0x2fd16a[_0xebd271(0x2ce)]=_0xebd271(0x1ec),_0x2fd16a[_0xebd271(0x2be)]=checkMinimums(_0x2fd16a));}_0x2fd16a[_0xebd271(0x2a4)]=_0x2fd16a['distribution']/_0x2fd16a[_0xebd271(0x234)]-0x1;}),currentCoins[_0x119719(0x206)]((_0x3a0387,_0x5d2a1d)=>_0x3a0387[_0x119719(0x2a4)]<_0x5d2a1d[_0x119719(0x2a4)]?0x1:_0x5d2a1d[_0x119719(0x2a4)]<_0x3a0387[_0x119719(0x2a4)]?-0x1:0x0);const _0x148534=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x148534[_0x119719(0x299)],'usd':_0x148534['usd'],'portfolio':JSON[_0x119719(0x235)](currentCoins),'threshold':_0x2232c3},proxyEmit(_0x119719(0x2a2),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x2232c3});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x25322d=_0x365159;if(!lastBalances)return;let _0x179cb8=await getStartingBalances(![]),_0x55cd1d=[],_0x22d1b2=[],_0x2f02eb;JSON[_0x25322d(0x2aa)](lastBalances['portfolio'])['forEach'](_0x25c9a1=>{const _0x4b322e=_0x25322d;let _0x4bb200={'coin':_0x25c9a1['coin'],'number':_0x25c9a1['number'],'price':_0x25c9a1[_0x4b322e(0x28d)]};_0x55cd1d[_0x4b322e(0x2ed)](_0x4bb200);if(!_0x179cb8[_0x4b322e(0x247)]||!_0x179cb8[_0x4b322e(0x247)]['find'](_0x1a77de=>_0x1a77de[_0x4b322e(0x2c9)]==_0x25c9a1['coin']&&_0x1a77de[_0x4b322e(0x22b)]!=0x0))_0x22d1b2[_0x4b322e(0x2ed)](_0x4bb200);});const _0xacc9e1=await getFiat();_0x2f02eb={'date':lastBalances[_0x25322d(0x1e9)][_0x25322d(0x215)]('\x20')[0x0],'eur':_0xacc9e1[_0x25322d(0x299)],'usd':_0xacc9e1[_0x25322d(0x24e)],'coins':_0x55cd1d};let _0x2f21ca=dbPerformance['get']('data')[_0x25322d(0x2b8)]({'date':_0x2f02eb['date']})[_0x25322d(0x2e7)]();_0x2f21ca?dbPerformance[_0x25322d(0x1f3)](_0x25322d(0x222))[_0x25322d(0x2b8)]({'date':_0x2f02eb[_0x25322d(0x2b7)]})[_0x25322d(0x2c1)](_0x2f02eb)['write']():dbPerformance[_0x25322d(0x1f3)](_0x25322d(0x222))[_0x25322d(0x2ed)](_0x2f02eb)['write'](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x5f4954=_0x365159;if(dbPerformance[_0x5f4954(0x24c)](_0x5f4954(0x222))[_0x5f4954(0x2e7)]()){let _0xdaf6a7=dbPerformance[_0x5f4954(0x1f3)](_0x5f4954(0x222))[_0x5f4954(0x251)](_0x5f4954(0x2b7))[_0x5f4954(0x2e7)]();proxyEmit(_0x5f4954(0x22f),_0xdaf6a7),lastPerformanceEmitted=getDate();}else proxyEmit('performance',[]);}async function getStartingBalances(_0x5f27ee=!![]){const _0x2a6a44=_0x365159;let _0x127835=dbPerformance[_0x2a6a44(0x1f3)]('data')[_0x2a6a44(0x2b8)]({'date':config[_0x2a6a44(0x263)]})[_0x2a6a44(0x2e7)]();config[_0x2a6a44(0x273)]!=''&&!_0x127835&&(await setStartDatePerformance(config),_0x127835=dbPerformance[_0x2a6a44(0x1f3)](_0x2a6a44(0x222))[_0x2a6a44(0x2b8)]({'date':config[_0x2a6a44(0x263)]})['value']());if(config[_0x2a6a44(0x273)]==''||!_0x127835)return{};let _0x34ddfa=0x0,_0x26073=0x0,_0x26b095=0x0,_0xcf986c=[],_0x365b30=0x0;config[_0x2a6a44(0x22e)][_0x2a6a44(0x21f)](_0x150e46=>{const _0xebc713=_0x2a6a44;if(!_0x150e46[_0xebc713(0x230)]){_0xcf986c[_0x365b30]={'coin':_0x150e46[_0xebc713(0x2c9)],'symbol':_0x150e46[_0xebc713(0x297)],'number':_0x150e46[_0xebc713(0x2b6)],'price':_0x150e46[_0xebc713(0x2e8)]},_0x34ddfa+=_0x150e46['startprice']*_0x150e46['startnumber'];if(config[_0xebc713(0x236)]==_0xebc713(0x266))_0x26073+=_0x150e46[_0xebc713(0x2e8)]*_0x150e46[_0xebc713(0x2b6)]*_0x127835[_0xebc713(0x299)],_0x26b095+=_0x150e46[_0xebc713(0x2e8)]*_0x150e46['startnumber']*_0x127835['usd'];else{if(config[_0xebc713(0x236)]==_0xebc713(0x2a6)||config['basecoin']=='USDT'||config[_0xebc713(0x236)]==_0xebc713(0x29c))_0x26073+=_0x150e46[_0xebc713(0x2e8)]*_0x150e46[_0xebc713(0x2b6)]*_0x127835[_0xebc713(0x299)]/_0x127835['usd'],_0x26b095+=_0x150e46['startprice']*_0x150e46[_0xebc713(0x2b6)];else config[_0xebc713(0x236)]==_0xebc713(0x277)&&(_0x26073+=_0x150e46[_0xebc713(0x2e8)]*_0x150e46['startnumber'],_0x26b095+=_0x150e46[_0xebc713(0x2e8)]*_0x150e46[_0xebc713(0x2b6)]*_0x127835[_0xebc713(0x24e)]/_0x127835['eur']);}_0x365b30++;}});let _0x112ea3={'basecoin':_0x34ddfa,'eur':_0x26073,'usd':_0x26b095,'coins':_0xcf986c};if(_0x5f27ee)proxyEmit(_0x2a6a44(0x1ef),_0x112ea3);return _0x112ea3;}function headlessMode(_0x5dd872){const _0x53f5d3=_0x365159;let _0x20911b=_0x5dd872['portfolio'],_0x3d9a1a=_0x5dd872['threshold'],_0x1cb12d=[];for(let _0x350cbf of _0x20911b){if(_0x350cbf[_0x53f5d3(0x2c9)]!=config[_0x53f5d3(0x236)]){if(_0x350cbf['distribution']/_0x350cbf[_0x53f5d3(0x234)]-0x1>=_0x3d9a1a/0x64){if(_0x350cbf[_0x53f5d3(0x2be)])_0x1cb12d['push'](_0x350cbf);}else{if(_0x350cbf[_0x53f5d3(0x1f2)]/_0x350cbf[_0x53f5d3(0x234)]-0x1<=-_0x3d9a1a/0x64){if(_0x350cbf[_0x53f5d3(0x2be)])_0x1cb12d['push'](_0x350cbf);}}}}_0x1cb12d[_0x53f5d3(0x27e)]>0x0&&placeOrder(_0x1cb12d);}function symbolToCoin(_0x2f2a21){const _0x4c2654=_0x365159;let _0x25d4de;if(_0x2f2a21[_0x4c2654(0x28e)]('/'+config[_0x4c2654(0x236)]))_0x25d4de=_0x2f2a21[_0x4c2654(0x2ee)]('/'+config[_0x4c2654(0x236)],'');if(_0x2f2a21['includes'](config[_0x4c2654(0x236)]+'/'))_0x25d4de=_0x2f2a21[_0x4c2654(0x2ee)](config['basecoin']+'/','');return _0x25d4de;}async function validateOrders(_0x58db2a=0x0){const _0x5a0074=_0x365159;let _0x1c480d=[],_0x3feaf3=config['ordertype']==_0x5a0074(0x2d5)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x5a0074(0x21f)](_0x2fb292=>{const _0x4c43db=_0x5a0074;let _0x1991eb=previousCoins[_0x4c43db(0x2b8)](_0x4eb410=>_0x4eb410['coin']==symbolToCoin(_0x2fb292['symbol'])),_0x29a387=currentCoins[_0x4c43db(0x2b8)](_0x31b1a8=>_0x31b1a8[_0x4c43db(0x2c9)]==symbolToCoin(_0x2fb292[_0x4c43db(0x297)])),_0x3cd370,_0x42db5a;_0x2fb292[_0x4c43db(0x2ce)]==_0x4c43db(0x1ec)&&!_0x2fb292['reverse']||_0x2fb292['side']==_0x4c43db(0x23b)&&_0x2fb292[_0x4c43db(0x21d)]?(_0x3cd370=_0x1991eb[_0x4c43db(0x22b)]+0.9*_0x2fb292[_0x4c43db(0x268)],_0x42db5a=_0x1991eb[_0x4c43db(0x22b)]+1.1*_0x2fb292[_0x4c43db(0x268)]):(_0x3cd370=_0x1991eb[_0x4c43db(0x22b)]-1.1*_0x2fb292[_0x4c43db(0x268)],_0x42db5a=_0x1991eb[_0x4c43db(0x22b)]-0.9*_0x2fb292[_0x4c43db(0x268)]);const _0x4a091d=_0x2fb292['filled']!=0x0&&_0x29a387['number']>=_0x3cd370&&_0x29a387[_0x4c43db(0x22b)]<=_0x42db5a;_0x1c480d['push'](_0x4a091d);if(_0x4a091d&&config[_0x4c43db(0x1f8)]!=_0x4c43db(0x2d5)){if(_0x2fb292[_0x4c43db(0x21d)])logHistory(_0x4c43db(0x1ff),'Order\x20filled:\x20'+_0x2fb292['symbol']+'\x20'+_0x2fb292[_0x4c43db(0x2ce)]+'\x20#'+formatResult(_0x2fb292[_0x4c43db(0x268)]/_0x2fb292[_0x4c43db(0x29f)],0x8)+'\x20@'+formatResult(_0x2fb292[_0x4c43db(0x29f)],0x8));else logHistory(_0x4c43db(0x1ff),_0x4c43db(0x1e5)+_0x2fb292[_0x4c43db(0x297)]+'\x20'+_0x2fb292['side']+'\x20#'+formatResult(_0x2fb292[_0x4c43db(0x268)],0x8)+'\x20@'+formatResult(_0x2fb292['price'],0x8));}}),_0x1c480d[_0x5a0074(0x21f)]((_0x186e7d,_0x4e1654)=>{const _0x15ea68=_0x5a0074;if(_0x186e7d)lastOrders[_0x15ea68(0x2b2)](_0x4e1654,0x1);});if(_0x58db2a<_0x3feaf3&&_0x1c480d[_0x5a0074(0x28e)](![])){if(_0x58db2a==0x0){config['ordertype']==_0x5a0074(0x2d5)?logHistory(_0x5a0074(0x293),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x5a0074(0x293),_0x5a0074(0x258));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x58db2a);},0xa*0x3e8);}else{(_0x58db2a==0x1||_0x58db2a==Math['round'](_0x3feaf3/0x2)||_0x58db2a==_0x3feaf3-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x58db2a);},validateOrderInterval);}}else{lockOrders=![];if(_0x58db2a>0x0&&!_0x1c480d['includes'](![]))config[_0x5a0074(0x1f8)]=='market'?logHistory(_0x5a0074(0x2c3),'Order(s)\x20validated\x20-\x20balancing\x20resumed'):logHistory(_0x5a0074(0x2c3),'Order(s)\x20filled\x20-\x20balancing\x20resumed');else _0x58db2a>0x0&&_0x1c480d['includes'](![])&&(config[_0x5a0074(0x1f8)]==_0x5a0074(0x2d5)?logHistory(_0x5a0074(0x2c3),'Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x3feaf3*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders[_0x5a0074(0x21f)](async _0x424db3=>{const _0x42c02e=_0x5a0074;try{const _0x55d3d0=await exchange[_0x42c02e(0x212)](_0x424db3[_0x42c02e(0x26d)],_0x424db3[_0x42c02e(0x297)]);}catch(_0x29990c){if(_0x29990c[_0x42c02e(0x2cd)]()[_0x42c02e(0x28e)](_0x42c02e(0x283))){}else await handleError(_0x29990c,_0x42c02e(0x1e3));}}),logHistory('success',_0x5a0074(0x1f6)+Math[_0x5a0074(0x217)](_0x3feaf3*validateOrderInterval/0xea60)+_0x5a0074(0x223))));}}async function resetCoinResults(){const _0x5b01b5=_0x365159;dbCoinResults['get'](_0x5b01b5(0x247))['remove']()[_0x5b01b5(0x2db)]();let _0x249188=await getStartingBalances(![]);_0x249188['coins']['forEach'](_0x52d6c7=>{const _0x3e6815=_0x5b01b5,_0x504371=_0x52d6c7[_0x3e6815(0x297)][_0x3e6815(0x28e)](config[_0x3e6815(0x236)]+'/');if(_0x52d6c7[_0x3e6815(0x2c9)]!=config[_0x3e6815(0x236)]){let _0x19aea5={'coin':_0x52d6c7[_0x3e6815(0x2c9)],'number':_0x52d6c7[_0x3e6815(0x22b)],'breakeven':_0x52d6c7[_0x3e6815(0x29f)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3e6815(0x1f3)](_0x3e6815(0x247))['push'](_0x19aea5)[_0x3e6815(0x2db)]();}});}async function updateCoinResults(_0x642919){const _0x225574=_0x365159;let _0xe0821d,_0x571fe7,_0x1c89d5,_0x3afc1a,_0x4888e0,_0xacb9ba,_0x536489=dbCoinResults[_0x225574(0x1f3)](_0x225574(0x247))['find']({'coin':_0x642919[_0x225574(0x2c9)]})[_0x225574(0x2e7)]();if(!_0x536489)return;if(_0x642919['fee']&&_0x642919[_0x225574(0x264)][_0x225574(0x1e7)]==config[_0x225574(0x236)])_0xe0821d=_0x642919[_0x225574(0x264)][_0x225574(0x2e0)];else{if(_0x642919[_0x225574(0x264)]&&_0x642919[_0x225574(0x264)][_0x225574(0x1e7)]==_0x225574(0x1e6))_0xe0821d=_0x642919[_0x225574(0x264)][_0x225574(0x2e0)]*global[_0x225574(0x2e3)][_0x225574(0x1e6)+config['basecoin']];else _0xe0821d=0.001*_0x642919[_0x225574(0x268)];}const _0xebcc06=_0x642919[_0x225574(0x297)][_0x225574(0x28e)](config[_0x225574(0x236)]+'/');_0xebcc06&&(_0xacb9ba={'coin':_0x642919[_0x225574(0x2c9)],'symbol':_0x642919[_0x225574(0x297)],'filled':_0x642919[_0x225574(0x268)]*_0x642919[_0x225574(0x29f)],'side':_0x642919[_0x225574(0x2ce)]==_0x225574(0x23b)?_0x225574(0x1ec):_0x225574(0x23b),'price':0x1/_0x642919['price']},_0x642919={..._0xacb9ba});_0x642919[_0x225574(0x2ce)]==_0x225574(0x1ec)?_0x1c89d5=(_0x536489[_0x225574(0x202)]*_0x536489[_0x225574(0x22b)]+_0x642919['price']*_0x642919['filled'])/(_0x536489[_0x225574(0x22b)]+_0x642919[_0x225574(0x268)]):_0x1c89d5=(_0x536489[_0x225574(0x202)]*_0x536489[_0x225574(0x22b)]-_0x642919[_0x225574(0x29f)]*_0x642919[_0x225574(0x268)])/(_0x536489[_0x225574(0x22b)]-_0x642919[_0x225574(0x268)]);_0x642919['side']==_0x225574(0x1ec)?_0x3afc1a=_0x536489['realized']:_0x3afc1a=_0x536489[_0x225574(0x296)]+(_0x642919['price']-_0x536489['breakeven'])*_0x642919[_0x225574(0x268)];_0x571fe7=_0x642919['side']=='sell'?_0x536489[_0x225574(0x22b)]-_0x642919[_0x225574(0x268)]:_0x536489[_0x225574(0x22b)]+_0x642919['filled'],_0x4888e0=(_0x642919['price']-_0x1c89d5)*_0x571fe7;let _0x965035={'coin':_0x642919['coin'],'number':_0x571fe7,'breakeven':formatResult(_0x1c89d5,0x8),'realized':formatResult(_0x3afc1a,0x8),'unrealized':formatResult(_0x4888e0,0x8),'fees':formatResult(_0x536489[_0x225574(0x20e)]+_0xe0821d,0x8),'sells':_0x642919[_0x225574(0x2ce)]=='sell'?_0x536489[_0x225574(0x284)]+0x1:_0x536489[_0x225574(0x284)],'buys':_0x642919['side']==_0x225574(0x1ec)?_0x536489[_0x225574(0x1ea)]+0x1:_0x536489[_0x225574(0x1ea)]};dbCoinResults[_0x225574(0x1f3)](_0x225574(0x247))[_0x225574(0x2b8)]({'coin':_0x642919[_0x225574(0x2c9)]})[_0x225574(0x2c1)](_0x965035)[_0x225574(0x2db)]();}function _0x3a24(){const _0x3f88a4=['botname','-performance.json','Bot\x20','market','enabled','190HvSTIZ','Executed\x20','eachDayOfInterval','timeshift','write','userData','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','coin-loading-progress','./version.json','cost','loadSymbols()','placeOrder()','ticker','647cmOYCB','min','type','value','startprice','BTCBUSD','limit','************','settings','push','replace','ask','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','cancelOrder()','message','Order\x20filled:\x20','BNB','currency','4110FfKgOH','time','buys','configuration','buy','\x20>\x20','lowdb/adapters/FileSync','starting-balances','getHours','reduce','distribution','get','orderType','API-key\x20format\x20invalid','Unfilled\x20order(s)\x20canceled\x20after\x20','cooldown','ordertype','Limit\x20(high-margin)','defaults','event-history','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','wsMarket','subscribeSpotKline','order','BTCEUR','emitHistory','breakeven','threshold','bot','accumulatedQuantity','sort','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)\x20-\x20pausing\x20bot\x20for\x205\x20minutes','wss://stream.binance.com:9443','log','subscribeSpotUserDataStream','args','availableBalance','apiSecret','fees','toLowerCase','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','spot','cancelOrder','lowdb','coinamount','split','executionReport','round','entries','format','Crypt','fetchTickers','placeOrder','reverse','abs','forEach','configuration-stored','limit-high','data','\x20minutes\x20-\x20balancing\x20resumed','getMinutes','timeout','storeHeadless','timestamp','indexOf','yyyy-MM-dd\x27T\x27HH:mm:ss','event','number','Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','binance','portfolio','performance','excluded','getMonth','fetchOHLCV','showname','target','stringify','basecoin','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','getSeconds','sha256','function','sell','\x20hour','LIMIT','8WKvPqX','search','getDate','001','remove','closeWs','wss://stream.binance.us:9443','reconnected','364zAcDUP','coins','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','formattedMessage','yyyy/MM/dd','parseISO','has',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available\x20-\x20pausing\x20bot\x20for\x205\x20minutes','usd','orderStatus','Market','sortBy','close','asset','./config/','filter','fetchBalance','mkdirSync','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','binanceus','InvalidNonce','secure','Order\x20amount\x20is\x20invalid:\x20','headless','-events.json','Error:\x20Invalid\x20argument\x20','total','eventType','Invalid\x20quantity','startdate','fee','datetime','BTC','fromCodePoint','filled','logs','restart','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','991104mmKahA','orderId','InsufficientFunds','5OJzVea','differenceInCalendarDays','BTC/BUSD','version','apiKey','2642124mThHoi',',\x20must\x20be\x20a\x203\x20digit\x20number','BTC/EUR','EUR','page','emojibuy','padStart','running','createOrder','keys','length','send','getStartingBalances','ccxt','\x20|\x20Binance\x20exchange\x20is\x20not\x20available\x20-\x20pausing\x20bot\x20for\x205\x20minutes','OrderNotFound','sells','(((.+)+)+)+$','getCoins()','-results.json','Binance\x20API\x20secret\x20is\x20invalid','bb-secure.json','WebSockets(','emojisell','shift','last','includes','exit','limits','isArray','exchange','error','yyyy/MM/dd\x20HH:mm:ss','getFullYear','realized','symbol','amount','eur','fetchOrders','13173853xzdZHU','USDC','bid','Binance\x20API\x20key\x20is\x20invalid','price','privateKey','BTCUSDT','balances','bb-settings.json','delta','constructor','BUSD','bot-','getTime','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','parse','8419159xHRKkL','\x20orders\x20in\x20less\x20than\x20','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','188eKQMPJ','BTC/USDT','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20(1)\x20-\x20please\x20sync\x20clock',')\x20|\x20Error\x20details:\x20','splice','recreate',':\x20Bot\x20','existsSync','startnumber','date','find','AuthenticationError','limit-low','\x20|\x20Error\x20details:\x20','storeConfiguration','kill','valid','Order:\x20','hybrid-crypto-js','assign','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding\x20-\x20pausing\x20bot\x20for\x205\x20minutes','success','getPortfolio()','kline','argv','510282pxEvDB','decrypt','coin','-config.json','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','trade','toString','side','initclient','toFixed','2769cjGBEv'];_0x3a24=function(){return _0x3f88a4;};return _0x3a24();}async function placeOrder(_0xba076b){const _0x3154ee=_0x365159,_0xa36d5e=config[_0x3154ee(0x1f8)]==_0x3154ee(0x2d5)?'market':'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x3154ee(0x235)](currentCoins));for(const _0x5461c8 of _0xba076b){let _0x3cf361,_0x2b56d2,_0xda22c2,_0x210c87,_0x289206,_0xe41b55=_0x5461c8[_0x3154ee(0x297)];try{const _0xb80b54=await exchange[_0x3154ee(0x21b)](_0xe41b55),_0x4324d2=_0xb80b54[_0xe41b55];_0x3cf361=_0x4324d2[_0x3154ee(0x28d)],_0x2b56d2=_0x4324d2[_0x3154ee(0x29d)],_0xda22c2=_0x4324d2[_0x3154ee(0x2ef)];_0x5461c8[_0x3154ee(0x21d)]?(_0x210c87=_0x5461c8[_0x3154ee(0x2ce)]==_0x3154ee(0x1ec)?_0x3154ee(0x23b):'buy',_0x289206=Math[_0x3154ee(0x21e)](_0x5461c8[_0x3154ee(0x2cc)])/_0x3cf361):(_0x210c87=_0x5461c8['side'],_0x289206=Math[_0x3154ee(0x21e)](_0x5461c8[_0x3154ee(0x2cc)]));_0xa36d5e==_0x3154ee(0x2ea)&&(config['ordertype']==_0x3154ee(0x221)&&(_0x3cf361=_0x210c87==_0x3154ee(0x1ec)?_0x2b56d2:_0xda22c2),config['ordertype']==_0x3154ee(0x2ba)&&(_0x3cf361=_0x210c87==_0x3154ee(0x1ec)?_0xda22c2:_0x2b56d2));_0x289206=formatResult(_0x289206,0x8),_0x3cf361=formatResult(_0x3cf361,0x8);const _0x5a6990=await exchange[_0x3154ee(0x27c)](_0xe41b55,_0xa36d5e,_0x210c87,_0x289206,_0x3cf361);lastOrders['push']({'orderId':_0x5a6990['id'],'symbol':_0xe41b55,'side':_0x210c87,'reverse':_0x5461c8['reverse'],'amount':_0x5461c8[_0x3154ee(0x21d)]?_0x5a6990[_0x3154ee(0x298)]*_0x5a6990[_0x3154ee(0x29f)]:_0x5a6990['amount'],'filled':_0x5461c8[_0x3154ee(0x21d)]?_0x5a6990[_0x3154ee(0x268)]*_0x5a6990[_0x3154ee(0x29f)]:_0x5a6990[_0x3154ee(0x268)],'price':_0x5a6990[_0x3154ee(0x29f)]});const _0x55d8d9=_0x210c87==_0x3154ee(0x23b)?config['emojisell']?String[_0x3154ee(0x267)]('0x'+config[_0x3154ee(0x28b)])+'\x20':'':config[_0x3154ee(0x279)]?String[_0x3154ee(0x267)]('0x'+config[_0x3154ee(0x279)])+'\x20':'',_0x40a65b=_0xa36d5e==_0x3154ee(0x2d5)?_0x3154ee(0x250):config[_0x3154ee(0x1f8)]==_0x3154ee(0x221)?_0x3154ee(0x1f9):'Limit\x20(low-margin)';if(_0xa36d5e=='market')logHistory('order',''+_0x55d8d9+_0x40a65b+'\x20order:\x20'+_0xe41b55+'\x20'+_0x210c87+'\x20#'+formatResult(_0x5a6990[_0x3154ee(0x268)],0x8)+'\x20@'+formatResult(_0x5a6990[_0x3154ee(0x29f)],0x8));else logHistory(_0x3154ee(0x1ff),''+_0x55d8d9+_0x40a65b+'\x20order:\x20'+_0xe41b55+'\x20'+_0x210c87+'\x20#'+formatResult(_0x5a6990[_0x3154ee(0x298)],0x8)+'\x20@'+formatResult(_0x5a6990['price'],0x8));_0x5a6990['coin']=_0x5461c8[_0x3154ee(0x2c9)],await updateCoinResults(_0x5a6990);if(config[_0x3154ee(0x1f7)]!=0x0){let _0x2f2a80=null;if(cooldownTracker[_0x3154ee(0x27e)]==config['cooldown']-0x1)_0x2f2a80=cooldownTracker[_0x3154ee(0x28c)]();const _0x3aae6a=getTimeStamp();cooldownTracker[_0x3154ee(0x2ed)](_0x3aae6a);if(_0x2f2a80){const _0x5d58aa=fns['differenceInSeconds'](new Date(_0x3aae6a),new Date(_0x2f2a80));_0x5d58aa<cooldownInterval&&(logHistory('error',_0x3154ee(0x2d8)+config[_0x3154ee(0x1f7)]+_0x3154ee(0x2ac)+cooldownInterval/0x3c+_0x3154ee(0x248)+cooldownPeriod/(0xe10*0x3e8)+_0x3154ee(0x23c)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x1e6979){if(_0x1e6979['toString']()[_0x3154ee(0x28e)]('MIN_NOTIONAL'))logHistory(_0x3154ee(0x293),_0x3154ee(0x2a9)+_0xe41b55);else{if(_0x1e6979['toString']()[_0x3154ee(0x28e)](_0x3154ee(0x262)))logHistory(_0x3154ee(0x293),_0x3154ee(0x25c)+_0xe41b55);else await handleError(_0x1e6979,_0x3154ee(0x2e2));}}}if(lastOrders[_0x3154ee(0x27e)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x3154ee(0x25d)]&&(config['ordertype']==_0x3154ee(0x2d5)?logHistory(_0x3154ee(0x293),_0x3154ee(0x1fc)):logHistory(_0x3154ee(0x293),_0x3154ee(0x26b)));else coolingDown&&(!config['headless']&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'));}}function logHistory(_0x2e4eeb,_0x226e90,_0x26a850=''){const _0x2d781b=_0x365159;let _0x5017b1={'time':getTimeStamp(),'type':_0x2e4eeb,'event':_0x226e90,'botname':config[_0x2d781b(0x2d2)],'showname':config['showname']};dbLogs[_0x2d781b(0x1f3)](_0x2d781b(0x269))[_0x2d781b(0x2ed)](_0x5017b1)[_0x2d781b(0x2db)]();if(_0x26a850=='')_0x26a850=_0x226e90;proxyEmit(_0x2d781b(0x22a),{'log':_0x5017b1,'summary':_0x26a850}),process[_0x2d781b(0x27f)]({'telegram':_0x5017b1}),logging(''+_0x5017b1['event']);}function emitHistory(_0x5f21d1={}){const _0xcd7fe7=_0x365159;Object['keys'](_0x5f21d1)[_0xcd7fe7(0x27e)]==0x0&&(_0x5f21d1={'type':[_0xcd7fe7(0x1ff),_0xcd7fe7(0x22a)],'event':'','page':0x1});if(_0x5f21d1[_0xcd7fe7(0x2e6)][_0xcd7fe7(0x28e)](_0xcd7fe7(0x22a)))_0x5f21d1[_0xcd7fe7(0x2e6)]['splice'](_0x5f21d1[_0xcd7fe7(0x2e6)][_0xcd7fe7(0x228)](_0xcd7fe7(0x22a)),0x1,_0xcd7fe7(0x293),_0xcd7fe7(0x2c3));if(dbLogs[_0xcd7fe7(0x24c)](_0xcd7fe7(0x269))[_0xcd7fe7(0x2e7)]()){let _0x3f9d81=dbLogs[_0xcd7fe7(0x1f3)](_0xcd7fe7(0x269))[_0xcd7fe7(0x255)](_0x344302=>{const _0xc7c512=_0xcd7fe7;if(_0x5f21d1[_0xc7c512(0x2e6)][_0xc7c512(0x27e)]==0x0)return![];else return _0x5f21d1[_0xc7c512(0x2e6)][_0xc7c512(0x28e)](_0x344302[_0xc7c512(0x2e6)]);})['filter'](_0x2e017a=>{const _0xe840a=_0xcd7fe7;if(_0x5f21d1[_0xe840a(0x22a)]=='')return!![];else return _0x2e017a[_0xe840a(0x22a)][_0xe840a(0x20f)]()[_0xe840a(0x28e)](_0x5f21d1[_0xe840a(0x22a)][_0xe840a(0x20f)]());})[_0xcd7fe7(0x251)]('time'),_0x165614=_0x3f9d81[_0xcd7fe7(0x2e7)]()[_0xcd7fe7(0x27e)];_0x3f9d81=_0x3f9d81[_0xcd7fe7(0x21d)]()['slice']((_0x5f21d1[_0xcd7fe7(0x278)]-0x1)*logPageSize,_0x5f21d1[_0xcd7fe7(0x278)]*logPageSize-0x1)[_0xcd7fe7(0x21d)]()[_0xcd7fe7(0x2e7)](),proxyEmit(_0xcd7fe7(0x1fb),{'logs':_0x3f9d81,'total':_0x165614});}else proxyEmit(_0xcd7fe7(0x1fb),{'logs':[],'total':0x0});}async function pauseBot(_0x1ebaad){const _0x27e875=_0x365159,_0x30cffc=new Date()[_0x27e875(0x2a8)]();if(!lastBotPause)lastBotPause=new Date()[_0x27e875(0x2a8)](),consecutivePauses=0x1;else{if(_0x30cffc-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x27e875(0x27f)]({'stop':_0x27e875(0x26a)});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x27e875(0x2a8)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),await sleep(_0x1ebaad),botPaused=![],reset();}}async function handleError(_0x4231f7,_0x5f31bd,_0x2d867a=''){const _0xe60f32=_0x365159;if(_0x4231f7[_0xe60f32(0x2cd)]()[_0xe60f32(0x28e)]('DDoSProtection'))logHistory(_0xe60f32(0x293),_0x5f31bd+_0xe60f32(0x207)),await pauseBot(pauseBotInterval);else{if(_0x4231f7['toString']()['includes']('ExchangeNotAvailable'))logHistory(_0xe60f32(0x293),_0x5f31bd+_0xe60f32(0x282)),await pauseBot(pauseBotInterval);else{if(_0x4231f7[_0xe60f32(0x2cd)]()[_0xe60f32(0x28e)]('RequestTimeout'))logHistory('error',_0x5f31bd+_0xe60f32(0x2c2)),await pauseBot(pauseBotInterval);else{if(_0x4231f7[_0xe60f32(0x2cd)]()[_0xe60f32(0x28e)](_0xe60f32(0x1f5)))logHistory('error',_0x5f31bd+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory(_0xe60f32(0x293),'Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['send']({'stop':_0xe60f32(0x2bd)});else{if(_0x4231f7[_0xe60f32(0x2cd)]()[_0xe60f32(0x28e)](_0xe60f32(0x2b9)))logHistory(_0xe60f32(0x293),_0x5f31bd+_0xe60f32(0x2f0)),logHistory(_0xe60f32(0x293),_0xe60f32(0x22c)),process[_0xe60f32(0x27f)]({'stop':_0xe60f32(0x2bd)});else{if(_0x4231f7[_0xe60f32(0x2cd)]()[_0xe60f32(0x28e)](_0xe60f32(0x2dd)))logHistory(_0xe60f32(0x293),_0x5f31bd+_0xe60f32(0x237)),logHistory(_0xe60f32(0x293),_0xe60f32(0x22c)),process[_0xe60f32(0x27f)]({'stop':'kill'});else{if(_0x4231f7[_0xe60f32(0x2cd)]()['includes'](_0xe60f32(0x210)))logHistory('error',_0x5f31bd+_0xe60f32(0x2b0)),logHistory(_0xe60f32(0x293),_0xe60f32(0x22c)),process[_0xe60f32(0x27f)]({'stop':'kill'});else{if(_0x4231f7[_0xe60f32(0x2cd)]()[_0xe60f32(0x28e)](_0xe60f32(0x25a)))logHistory(_0xe60f32(0x293),_0x5f31bd+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20(2)\x20-\x20please\x20sync\x20clock'),logHistory('error',_0xe60f32(0x22c)),process['send']({'stop':_0xe60f32(0x2bd)});else _0x4231f7[_0xe60f32(0x2cd)]()['includes'](_0xe60f32(0x26e))?logHistory(_0xe60f32(0x293),_0x5f31bd+_0xe60f32(0x2ad)):(logHistory('error',_0x5f31bd+'\x20|\x20Error\x20occured\x20-\x20pausing\x20bot\x20for\x205\x20minutes'),logging(_0x5f31bd+_0xe60f32(0x2bb),_0x4231f7),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x493d73,_0x539ffc){const _0x3693ef=_0x365159;return parseFloat(_0x493d73[_0x3693ef(0x2d0)](_0x539ffc));}function logging(_0x338c13,_0x17a43a=''){const _0x2d4e67=_0x365159;if(config[_0x2d4e67(0x233)])console[_0x2d4e67(0x209)](getTimeStamp()+':\x20'+config[_0x2d4e67(0x2d2)]+_0x2d4e67(0x1ed)+_0x338c13,_0x17a43a);else console[_0x2d4e67(0x209)](getTimeStamp()+_0x2d4e67(0x2b4)+botID+_0x2d4e67(0x1ed)+_0x338c13,_0x17a43a);}function getServerTime(){const _0xff020a=_0x365159,_0x3055b0=new Date();return _0x3055b0[_0xff020a(0x295)]()+'/'+(_0x3055b0['getMonth']()+0x1)[_0xff020a(0x2cd)]()[_0xff020a(0x27a)](0x2,'0')+'/'+_0x3055b0[_0xff020a(0x240)]()['toString']()[_0xff020a(0x27a)](0x2,'0')+'\x20'+_0x3055b0[_0xff020a(0x1f0)]()[_0xff020a(0x2cd)]()[_0xff020a(0x27a)](0x2,'0')+':'+_0x3055b0['getMinutes']()[_0xff020a(0x2cd)]()[_0xff020a(0x27a)](0x2,'0')+':'+_0x3055b0[_0xff020a(0x238)]()[_0xff020a(0x2cd)]()[_0xff020a(0x27a)](0x2,'0');}function getTimeStamp(){const _0x1a1249=_0x365159,_0x4303fd=shiftedTime();return _0x4303fd[_0x1a1249(0x295)]()+'/'+(_0x4303fd['getMonth']()+0x1)[_0x1a1249(0x2cd)]()[_0x1a1249(0x27a)](0x2,'0')+'/'+_0x4303fd[_0x1a1249(0x240)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x4303fd['getHours']()['toString']()[_0x1a1249(0x27a)](0x2,'0')+':'+_0x4303fd[_0x1a1249(0x224)]()['toString']()[_0x1a1249(0x27a)](0x2,'0')+':'+_0x4303fd[_0x1a1249(0x238)]()[_0x1a1249(0x2cd)]()[_0x1a1249(0x27a)](0x2,'0');}function getDate(){const _0x1f6e86=_0x365159,_0x253964=shiftedTime();return _0x253964[_0x1f6e86(0x295)]()+'/'+(_0x253964[_0x1f6e86(0x231)]()+0x1)[_0x1f6e86(0x2cd)]()[_0x1f6e86(0x27a)](0x2,'0')+'/'+_0x253964[_0x1f6e86(0x240)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0xcc2e73=_0x365159,_0x2a4e97=shiftedTime();return _0x2a4e97[_0xcc2e73(0x1f0)]()['toString']()[_0xcc2e73(0x27a)](0x2,'0');}function sleep(_0x3412bb){return new Promise(_0x459787=>setTimeout(_0x459787,_0x3412bb));}function shiftedTime(){const _0x2df4d2=_0x365159,_0x5e6600=new Date();let _0x38e03e=_0x5e6600;if(config&&config[_0x2df4d2(0x2da)]!==0x0)_0x38e03e=fns['add'](_0x5e6600,{'hours':config['timeshift']});return _0x38e03e;}