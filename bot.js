const _0x2cc052=_0x1073;(function(_0x26bc2f,_0x44b05d){const _0x2c0df2=_0x1073,_0x5459c2=_0x26bc2f();while(!![]){try{const _0x559593=-parseInt(_0x2c0df2(0x252))/0x1+-parseInt(_0x2c0df2(0x19c))/0x2+-parseInt(_0x2c0df2(0x25b))/0x3+parseInt(_0x2c0df2(0x243))/0x4*(-parseInt(_0x2c0df2(0x237))/0x5)+-parseInt(_0x2c0df2(0x1e3))/0x6+parseInt(_0x2c0df2(0x17e))/0x7+parseInt(_0x2c0df2(0x27a))/0x8;if(_0x559593===_0x44b05d)break;else _0x5459c2['push'](_0x5459c2['shift']());}catch(_0x1fde8d){_0x5459c2['push'](_0x5459c2['shift']());}}}(_0x5e88,0x1d33a));const _0x42cd34=function(){let _0x34bc94=!![];return function(_0x3a48ab,_0x27e380){const _0x2656b5=_0x34bc94?function(){if(_0x27e380){const _0x3de8ba=_0x27e380['apply'](_0x3a48ab,arguments);return _0x27e380=null,_0x3de8ba;}}:function(){};return _0x34bc94=![],_0x2656b5;};}(),_0x1fb81c=_0x42cd34(this,function(){const _0x986985=_0x1073;return _0x1fb81c['toString']()[_0x986985(0x240)](_0x986985(0x334))[_0x986985(0x2b3)]()[_0x986985(0x2f2)](_0x1fb81c)[_0x986985(0x240)](_0x986985(0x334));});_0x1fb81c();'use strict';const ccxt=require(_0x2cc052(0x2f1)),low=require(_0x2cc052(0x1fa)),FileSync=require(_0x2cc052(0x26a)),fs=require('fs'),fns=require(_0x2cc052(0x2bd)),Crypt=require(_0x2cc052(0x2c5))[_0x2cc052(0x23f)],util=require(_0x2cc052(0x29b)),argv=require(_0x2cc052(0x229))(process[_0x2cc052(0x1b6)]['slice'](0x2))[_0x2cc052(0x1b6)],path=require('path'),axios=require(_0x2cc052(0x1d2));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x2cc052(0x325),_0x2cc052(0x2ee),_0x2cc052(0x188),_0x2cc052(0x221),_0x2cc052(0x32c),_0x2cc052(0x26c)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2cc052(0x312)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x2cc052(0x286)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x2cc052(0x2bb)+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require('./version.json')[_0x2cc052(0x2c7)],botID=process[_0x2cc052(0x1b6)][0x2]||_0x2cc052(0x2a8),pattern=/^[0-9]{3}$/;!pattern[_0x2cc052(0x192)](botID)&&(console[_0x2cc052(0x1f7)]('Error:\x20Invalid\x20argument\x20'+botID+_0x2cc052(0x19d)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x2cc052(0x276)+userID+'/':'./config/',logspath=userID?_0x2cc052(0x2db)+userID+'/':_0x2cc052(0x2db),loggerfile=fs['createWriteStream'](logspath+_0x2cc052(0x1a4),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x2cc052(0x1ca)](configpath);!fs['existsSync'](logspath)&&fs[_0x2cc052(0x1ca)](logspath);const configfile=configpath+_0x2cc052(0x254)+botID+_0x2cc052(0x21e),logfile=configpath+_0x2cc052(0x254)+botID+_0x2cc052(0x248),performancefile=configpath+'bot-'+botID+_0x2cc052(0x289),coinresultsfile=configpath+_0x2cc052(0x254)+botID+'-results.json',settingsfile=configpath+_0x2cc052(0x216),securefile=configpath+_0x2cc052(0x228),configbackuppath=configpath+_0x2cc052(0x303),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2cc052(0x272)]({'logs':[],'version':serverversion})[_0x2cc052(0x194)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2cc052(0x272)]({'data':[],'version':serverversion})[_0x2cc052(0x194)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2cc052(0x272)]({'bot':[],'version':serverversion})[_0x2cc052(0x194)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2cc052(0x272)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x2cc052(0x317),'rsaStandard':_0x2cc052(0x267)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x47ad6b=>{const _0x47d0d5=_0x2cc052;console[_0x47d0d5(0x1f7)](_0x47ad6b);},'simple':_0x4705df=>{const _0x3e5abd=_0x2cc052;console[_0x3e5abd(0x1f7)](_0x4705df),loggerfile[_0x3e5abd(0x194)](util[_0x3e5abd(0x1c0)](_0x4705df)+'\x0a');},'full':async(_0x24149a,_0x17a941='')=>{const _0x5c4758=_0x2cc052;let _0x22ce41;if(config[_0x5c4758(0x1d7)])_0x22ce41=getTimeStamp()+':\x20'+config[_0x5c4758(0x304)]+_0x5c4758(0x17f)+_0x24149a;else _0x22ce41=getTimeStamp()+_0x5c4758(0x300)+botID+'\x20>\x20'+_0x24149a;console[_0x5c4758(0x1f7)](_0x22ce41),loggerfile[_0x5c4758(0x194)](util['format'](_0x22ce41)+'\x0a'),_0x17a941&&(console[_0x5c4758(0x1f7)](_0x17a941),loggerfile[_0x5c4758(0x194)](util[_0x5c4758(0x1c0)](_0x17a941)+'\x0a'));},'debug':async(_0x3e3960,_0x305001='')=>{const _0x3362c0=_0x2cc052;let _0x11ec5c;if(config[_0x3362c0(0x1d7)])_0x11ec5c=getTimeStamp()+':\x20'+config[_0x3362c0(0x304)]+'\x20>\x20[DEBUG]\x20'+_0x3e3960;else _0x11ec5c=getTimeStamp()+_0x3362c0(0x300)+botID+'\x20>\x20[DEBUG]\x20'+_0x3e3960;if(debugging)console[_0x3362c0(0x1f7)](_0x11ec5c);loggerfile[_0x3362c0(0x194)](util['format'](_0x11ec5c)+'\x0a');if(_0x305001){if(debugging)console[_0x3362c0(0x1f7)](_0x305001);loggerfile['write'](util[_0x3362c0(0x1c0)](_0x305001)+'\x0a');}}};process['on']('uncaughtException',function(_0x10a6c9){const _0x9ab78a=_0x2cc052;handleError(_0x10a6c9,_0x9ab78a(0x19b));});settings[_0x2cc052(0x245)]!=config[_0x2cc052(0x245)]&&updateTimeshift(settings['timeshift']);settings[_0x2cc052(0x2ae)]!=config[_0x2cc052(0x2ae)]&&updateOnepagemode(settings[_0x2cc052(0x2ae)]);(settings[_0x2cc052(0x23a)]&&!config[_0x2cc052(0x23a)]||!settings[_0x2cc052(0x23a)]&&config[_0x2cc052(0x23a)])&&updateMarketcapApi(settings[_0x2cc052(0x23a)]);process[_0x2cc052(0x301)]({'started':'running'},_0x15a433=>{}),initializeProcessListeners();function proxyEmit(_0x531610,_0x3b3289=null){const _0x3e713a=_0x2cc052;process[_0x3e713a(0x301)]({'function':_0x531610,'args':_0x3b3289},_0x37d5fe=>{});}function initializeProcessListeners(){const _0x4b82a2=_0x2cc052;process['on'](_0x4b82a2(0x1a8),_0x5eafe6=>{const _0x14aee5=_0x4b82a2;switch(Object['keys'](_0x5eafe6)[0x0]){case'timeshift':_0x5eafe6['timeshift']!=undefined&&(settings[_0x14aee5(0x245)]=_0x5eafe6[_0x14aee5(0x245)],updateTimeshift(settings[_0x14aee5(0x245)]));break;case'onepagemode':_0x5eafe6[_0x14aee5(0x2ae)]!=undefined&&(settings[_0x14aee5(0x2ae)]=_0x5eafe6[_0x14aee5(0x2ae)],updateOnepagemode(settings[_0x14aee5(0x2ae)]));break;case'marketcapApi':_0x5eafe6[_0x14aee5(0x23a)]!=undefined&&(settings[_0x14aee5(0x23a)]=_0x5eafe6[_0x14aee5(0x23a)],updateMarketcapApi(settings['marketcapApi']));break;case _0x14aee5(0x215):_0x5eafe6[_0x14aee5(0x215)]!=undefined&&(bots=JSON[_0x14aee5(0x251)](_0x5eafe6[_0x14aee5(0x215)]),proxyEmit(_0x14aee5(0x215),bots));break;case _0x14aee5(0x1dd):switch(_0x5eafe6['function']){case _0x14aee5(0x253):initclient();break;case _0x14aee5(0x1a2):toggleBotMode();break;case _0x14aee5(0x20e):silentRestart();break;case _0x14aee5(0x32d):emitHistory(_0x5eafe6['args']);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x5eafe6[_0x14aee5(0x275)]);break;case _0x14aee5(0x324):getPortfolio(_0x5eafe6[_0x14aee5(0x275)]);break;case _0x14aee5(0x2b8):storeConfiguration(_0x5eafe6['args']);break;case _0x14aee5(0x2e4):storeHeadless(_0x5eafe6['args']);break;case'storeFiat':storeFiat(_0x5eafe6['args']);break;case _0x14aee5(0x247):resetHistory();break;case _0x14aee5(0x1ec):getStartingBalances(getNormalizedPerformance());break;case _0x14aee5(0x1cf):placeOrder(_0x5eafe6[_0x14aee5(0x275)]);break;case _0x14aee5(0x2b9):cancelLoading();break;case _0x14aee5(0x1b9):showConfig();break;case _0x14aee5(0x2e3):sendMetricsTelegram();break;case _0x14aee5(0x1e1):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x287b12=![]){const _0x59b989=_0x2cc052;logger[_0x59b989(0x2d5)](_0x59b989(0x1de)+(_0x287b12?_0x59b989(0x262):_0x59b989(0x23e))+_0x59b989(0x2f4)+config[_0x59b989(0x2a6)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x287b12)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config['apiKey']!=_0x59b989(0x1eb)){loadingProgress=0x0;if(_0x287b12){if(pidCoinReloading)clearTimeout(pidCoinReloading);await initExchange();try{await loadSymbols();}catch(_0x3feb22){handleErrorNoStop(_0x3feb22,_0x59b989(0x2a9));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x1d03d2=await getCoins();[currentCoins,currentCoinsAll]=_0x1d03d2,blockTransactionDetection=![],getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x59b989(0x2d5)](_0x59b989(0x2aa)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x59b989(0x2ff)]==0x0&&allOpenOrders[_0x59b989(0x2ff)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x2cbbb4){const _0x4321e4=_0x2cc052;let _0x1da9b2=![];if(_0x2cbbb4)_0x1da9b2=!![];let _0x152397;_0x1da9b2?_0x152397=_0x2cbbb4[_0x4321e4(0x1e5)](_0x570ecf=>_0x570ecf[_0x4321e4(0x241)]):_0x152397=currentCoinsAll['map'](_0x10f8c2=>_0x10f8c2[_0x4321e4(0x241)]);if(!config[_0x4321e4(0x23a)]||!_0x1da9b2&&!config[_0x4321e4(0x290)]||_0x152397[_0x4321e4(0x2ff)]==0x0)return;let _0x5069be=null;try{_0x5069be=await axios[_0x4321e4(0x1bc)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x4321e4(0x23a)]},'params':{'symbol':_0x152397[_0x4321e4(0x2b3)]()}});}catch(_0x347341){_0x5069be=null,_0x347341[_0x4321e4(0x2b3)]()[_0x4321e4(0x25d)](_0x4321e4(0x25f))?(config[_0x4321e4(0x23a)]=![],updateConfig(),proxyEmit(_0x4321e4(0x255),emittedConfiguration()),logHistory(_0x4321e4(0x1fd),_0x4321e4(0x2ad))):(logHistory(_0x4321e4(0x1fd),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0x4321e4(0x1d4)),logger[_0x4321e4(0x2d5)](_0x4321e4(0x26f),_0x347341[_0x4321e4(0x2b3)]()+_0x4321e4(0x17a)+_0x347341[_0x4321e4(0x1ff)]));}if(_0x5069be){let _0x3c7c18=0x0;const _0x385e17=_0x5069be[_0x4321e4(0x233)];_0x152397[_0x4321e4(0x261)](_0x37b662=>{const _0x52671c=_0x4321e4;if(_0x385e17['data'][_0x37b662][0x0])_0x3c7c18+=_0x385e17[_0x52671c(0x233)][_0x37b662][0x0][_0x52671c(0x2af)][_0x52671c(0x325)][_0x52671c(0x2a2)];}),_0x152397[_0x4321e4(0x261)](_0x4ef000=>{const _0x1b3888=_0x4321e4,_0xe4692d=_0x385e17[_0x1b3888(0x233)][_0x4ef000][0x0]?_0x385e17['data'][_0x4ef000][0x0][_0x1b3888(0x2af)][_0x1b3888(0x325)][_0x1b3888(0x2a2)]:0x0;if(_0x1da9b2){const _0x69ad9e=_0x2cbbb4['find'](_0x2a42d8=>_0x2a42d8[_0x1b3888(0x241)]==_0x4ef000);_0x69ad9e&&(_0x69ad9e[_0x1b3888(0x27f)]=_0xe4692d);}else{const _0x38ab04=currentCoins[_0x1b3888(0x322)](_0x1f0aa4=>_0x1f0aa4[_0x1b3888(0x241)]==_0x4ef000);_0x38ab04&&(_0x38ab04[_0x1b3888(0x27f)]=_0xe4692d);const _0x3990a6=currentCoinsAll[_0x1b3888(0x322)](_0x309491=>_0x309491['coin']==_0x4ef000);_0x3990a6&&(_0x3990a6[_0x1b3888(0x27f)]=_0xe4692d);}}),!_0x1da9b2&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1125c1=_0x2cc052,_0x3b5f8a=0x2;let _0x5be196=0x0,_0x223913=0x0,_0x1589a7=0x0,_0x4cd796=0x0,_0x377c3d=0x0;config[_0x1125c1(0x2f8)][_0x1125c1(0x261)](_0x528893=>{const _0x2efa3b=_0x1125c1;if(!_0x528893[_0x2efa3b(0x235)]){_0x1589a7++,_0x5be196+=_0x528893['slider'];if(_0x528893[_0x2efa3b(0x31d)]===-0x1){_0x5be196++;const _0xde62bc=currentCoinsAll[_0x2efa3b(0x322)](_0x38c79c=>_0x38c79c[_0x2efa3b(0x241)]==_0x528893[_0x2efa3b(0x241)]);_0xde62bc&&(_0x4cd796+=_0xde62bc[_0x2efa3b(0x27f)],_0x377c3d+=Math['sqrt'](_0xde62bc[_0x2efa3b(0x27f)]));}if(_0x528893[_0x2efa3b(0x31d)]!==-0x1)_0x223913++;}});let _0x47efb7;const _0x6a37d8=0x64-_0x5be196,_0x5ba5cd=_0x1589a7-_0x223913;_0x47efb7=_0x5ba5cd===0x0?_0x5be196:Math[_0x1125c1(0x22d)](0x64,_0x5be196),config[_0x1125c1(0x2f8)][_0x1125c1(0x261)](_0x29226c=>{const _0x5f6174=_0x1125c1,_0xad8949=currentCoinsAll['find'](_0x1a4dfe=>_0x1a4dfe[_0x5f6174(0x241)]==_0x29226c[_0x5f6174(0x241)]);_0xad8949&&(_0x29226c['marketcap']=_0xad8949[_0x5f6174(0x27f)]);if(!_0x29226c[_0x5f6174(0x235)]){if(_0x47efb7<=0x64){if(_0x29226c[_0x5f6174(0x31d)]===-0x1){if(_0x4cd796!==0x0&&config[_0x5f6174(0x290)]){if(_0xad8949){if(config[_0x5f6174(0x290)]==_0x5f6174(0x27f))_0x29226c[_0x5f6174(0x2ca)]=(_0x6a37d8/(_0x4cd796/_0xad8949[_0x5f6174(0x27f)]))[_0x5f6174(0x1c9)](_0x3b5f8a);else config[_0x5f6174(0x290)]==_0x5f6174(0x20b)&&(_0x29226c['distribution']=(_0x6a37d8/(_0x377c3d/Math['sqrt'](_0xad8949['marketcap'])))[_0x5f6174(0x1c9)](_0x3b5f8a));}}}}}}),updateConfig();}function updateConfig(){const _0x56612f=_0x2cc052;let _0x1d76c1=dbConfig[_0x56612f(0x1bc)](_0x56612f(0x264))[_0x56612f(0x322)]({'botID':botID})[_0x56612f(0x2bf)]();_0x1d76c1&&dbConfig[_0x56612f(0x1bc)](_0x56612f(0x264))[_0x56612f(0x322)]({'botID':botID})[_0x56612f(0x186)](config)[_0x56612f(0x194)]();}async function startScheduler(){const _0x4901f4=_0x2cc052,_0x3dde44=shiftedTime()[_0x4901f4(0x182)](),_0x2722d4=process[_0x4901f4(0x1a9)]()[_0x4901f4(0x20c)]/0x400/0x400;logger[_0x4901f4(0x2d5)]('process\x20'+process[_0x4901f4(0x184)]+'\x20uses\x20'+_0x2722d4+_0x4901f4(0x2b2)),getMarketCap(),(_0x3dde44==0x6||_0x3dde44==0x12)&&reloadExchange(),await sleep(schedulerInterval),startScheduler();}async function silentRestart(){const _0x47d3bb=_0x2cc052;while(lockOrders!=ORDERS[_0x47d3bb(0x286)]||coolingDown){await sleep(0xa*0x3e8);}process[_0x47d3bb(0x1a6)](0x7);}async function restartBot(_0x4b288c=![]){const _0x2a8db6=_0x2cc052;logger['debug']('Initiating\x20bot\x20restart');if(!_0x4b288c){while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0xa*0x3e8);}await stopExchange();}process[_0x2a8db6(0x301)]({'stop':'restart'},_0x1b9c8b=>{});}async function stopExchange(){const _0x3a9b88=_0x2cc052;if(!exchange)return;exchangeStopped=!![];try{await exchange[_0x3a9b88(0x201)]();}catch(_0x167419){await handleError(_0x167419,'stopExchange()');}}async function reloadExchange(){const _0x305ce7=_0x2cc052;logger[_0x305ce7(0x2d5)](_0x305ce7(0x2da));while(lockOrders!=ORDERS[_0x305ce7(0x286)]||coolingDown){await sleep(0x3c*0x3e8);}await stopExchange(),reset(!![]);}async function initExchange(_0x135224=config[_0x2cc052(0x2a6)],_0x2b7a47=config['apiKey'],_0x224a2f=config[_0x2cc052(0x214)],_0x28620f=config['apiPassword']){const _0xd49abb=_0x2cc052;await stopExchange();!supportedExchanges()[_0xd49abb(0x25d)](_0x135224)&&(logHistory('error',_0xd49abb(0x1c1)+_0x135224+_0xd49abb(0x2e7)),killBot());const _0x2e1a4b=ccxt[_0xd49abb(0x202)][_0x135224[_0xd49abb(0x32f)]()];exchange=new _0x2e1a4b({'apiKey':_0x2b7a47,'secret':_0x224a2f,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0xd49abb(0x226)}});if(_0x28620f)exchange[_0xd49abb(0x1bd)]=_0x28620f;}function setStableCoins(){const _0xbe408b=_0x2cc052;let _0x448c9c=config[_0xbe408b(0x29f)]==_0xbe408b(0x209)?_0xbe408b(0x209):config['basecoin']==_0xbe408b(0x318)?_0xbe408b(0x318):_0xbe408b(0x203),_0x518bc1=!allSymbols[_0xbe408b(0x25d)](_0x448c9c+_0xbe408b(0x316))?_0xbe408b(0x221):_0xbe408b(0x325),_0x63afb8=!allSymbols[_0xbe408b(0x25d)](_0x448c9c+_0xbe408b(0x2e1))?_0x518bc1:'EUR';stablecoins={'eur':{'coin':''+_0x448c9c+_0x63afb8,'symbol':_0x448c9c+'/'+_0x63afb8},'usd':{'coin':''+_0x448c9c+_0x518bc1,'symbol':_0x448c9c+'/'+_0x518bc1}};}async function initwsCcxt(){const _0x3b7d62=_0x2cc052;initCycle++;const _0x100db8=initCycle;let _0x188020=[];config[_0x3b7d62(0x2f8)]['forEach'](_0x41e890=>{const _0x2c6d51=_0x3b7d62;if(!_0x41e890['excluded']&&_0x41e890['coin']!=config[_0x2c6d51(0x29f)])_0x188020[_0x2c6d51(0x280)](_0x41e890[_0x2c6d51(0x256)]);});if(!_0x188020[_0x3b7d62(0x25d)](stablecoins[_0x3b7d62(0x1ee)][_0x3b7d62(0x256)]))_0x188020[_0x3b7d62(0x280)](stablecoins[_0x3b7d62(0x1ee)][_0x3b7d62(0x256)]);if(!_0x188020[_0x3b7d62(0x25d)](stablecoins[_0x3b7d62(0x26b)][_0x3b7d62(0x256)]))_0x188020['push'](stablecoins[_0x3b7d62(0x26b)][_0x3b7d62(0x256)]);if(config[_0x3b7d62(0x2a6)]['startsWith'](_0x3b7d62(0x2c9))&&config['basecoin']!='PAXG'){if(!_0x188020[_0x3b7d62(0x25d)](_0x3b7d62(0x2a4)+config['basecoin']))_0x188020[_0x3b7d62(0x280)](_0x3b7d62(0x2a4)+config[_0x3b7d62(0x29f)]);}loadCoins(_0x188020),_0x188020=validateSymbols(_0x188020);const _0x380063=async _0x4bf706=>{const _0x10b04e=_0x3b7d62;let _0x3b85c4;try{const _0x4690df=await getTickers(_0x4bf706);Object[_0x10b04e(0x18e)](_0x4690df)[_0x10b04e(0x261)](_0x117d28=>{const _0x200723=_0x10b04e;_0x3b85c4=_0x117d28[0x1]['symbol'],gTicker[noslash(_0x3b85c4)]=_0x117d28[0x1][_0x200723(0x1f4)],gChange[_0x3b85c4]=_0x117d28[0x1]['percentage'];});}catch(_0x39e6f8){await handleError(_0x39e6f8,_0x10b04e(0x18b),_0x3b85c4);}},_0x22c1e4=async _0x3f1c36=>{const _0x5c8aa8=_0x3b7d62;while(initCycle==_0x100db8){if(!botPaused)try{const _0x568d9d=await exchange[_0x5c8aa8(0x200)](_0x3f1c36);gTicker[noslash(_0x568d9d[0x0][_0x5c8aa8(0x256)])]=_0x568d9d[0x0][_0x5c8aa8(0x2a1)];}catch(_0x38cdba){if(!exchangeStopped)await handleError(_0x38cdba,_0x5c8aa8(0x1b5),_0x3f1c36);}else await sleep(0x64);}},_0x2cedd0=async _0x508ec5=>{const _0x3fcbfa=_0x3b7d62;while(initCycle==_0x100db8){if(!botPaused)try{const _0x45fcf3=await exchange['watchTradesForSymbols'](_0x508ec5),_0xc8970f=_0x45fcf3[_0x3fcbfa(0x331)]();gTicker[noslash(_0xc8970f[_0x3fcbfa(0x256)])]=_0xc8970f[_0x3fcbfa(0x2a1)];}catch(_0x4361f8){if(!exchangeStopped)await handleError(_0x4361f8,_0x3fcbfa(0x1f2),_0x508ec5[_0x3fcbfa(0x2b3)]());}else await sleep(0x64);}},_0x4b0bfe=async _0x186ead=>{const _0x100a4d=_0x3b7d62;while(initCycle==_0x100db8){if(!botPaused){let _0x277d2b;try{await sleep(0x3c*0x3e8);const _0x3c5acd=await getTickers(_0x186ead);Object[_0x100a4d(0x18e)](_0x3c5acd)[_0x100a4d(0x261)](_0x1481ab=>{const _0x331684=_0x100a4d;_0x277d2b=_0x1481ab[0x1][_0x331684(0x256)],gChange[_0x277d2b]=_0x1481ab[0x1][_0x331684(0x21d)];});}catch(_0x3e3ec5){if(!exchangeStopped)await handleError(_0x3e3ec5,_0x100a4d(0x250),_0x277d2b);}}else await sleep(0x64);}},_0x32b276=async _0xc1d0cf=>{const _0x892cff=_0x3b7d62;while(initCycle==_0x100db8){if(!botPaused)try{const _0x43cd22=await exchange[_0x892cff(0x327)](_0xc1d0cf);initCycle==_0x100db8&&_0x43cd22['forEach'](_0x5daea1=>{updateNumberCoinsCcxt(_0x5daea1);});}catch(_0x3bedad){if(!exchangeStopped)await handleError(_0x3bedad,_0x892cff(0x2e8));}else await sleep(0x64);}};_0x380063(_0x188020),_0x4b0bfe(_0x188020),exchange['has'][_0x3b7d62(0x1ab)]?_0x2cedd0(_0x188020):_0x188020[_0x3b7d62(0x261)](_0x117495=>{_0x22c1e4(_0x117495);}),_0x188020['forEach'](_0x106f8f=>{_0x32b276(_0x106f8f);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x135d5c){const _0x149138=_0x2cc052;let _0x42dc4f={};try{if(config[_0x149138(0x2a6)]!='Cryptocom')_0x42dc4f=await exchange[_0x149138(0x2d1)](_0x135d5c);else for(const _0x57e565 of _0x135d5c){const _0x1382e7=await exchange[_0x149138(0x25c)](_0x57e565);_0x42dc4f[_0x57e565]=_0x1382e7;}return _0x42dc4f;}catch(_0x2f2a70){throw _0x2f2a70;}}async function detectLiquidityChange(_0x165be3=0x0){const _0x34ff07=_0x2cc052;transactionDetectionOngoing=!![];try{const _0x602de3=await getCoins(_0x165be3),[_0x4751a0,_0x31844b]=_0x602de3;let _0x3d97b3=[];currentCoins[_0x34ff07(0x261)](_0x5993ec=>{const _0x34e57a=_0x34ff07,_0x525252=_0x4751a0[_0x34e57a(0x322)](_0x9b2e74=>_0x9b2e74['coin']==_0x5993ec[_0x34e57a(0x241)]);if(_0x525252){if(_0x5993ec[_0x34e57a(0x1d3)]!=_0x525252[_0x34e57a(0x1d3)]){let _0x780e24;if(_0x5993ec[_0x34e57a(0x241)]!=config['basecoin']){const _0x30455d=gTicker[noslash(_0x5993ec[_0x34e57a(0x256)])];_0x780e24=_0x5993ec['reverse']?0x1/_0x30455d:_0x30455d;}else _0x780e24=0x1;_0x3d97b3[_0x34e57a(0x280)]({'coin':_0x5993ec[_0x34e57a(0x241)],'symbol':_0x5993ec['symbol'],'price':_0x780e24,'number':Number(formatResult(_0x525252[_0x34e57a(0x1d3)]-_0x5993ec['number'],0x8)),'basecoinvalue':_0x780e24*(_0x525252[_0x34e57a(0x1d3)]-_0x5993ec[_0x34e57a(0x1d3)])});}}});if(_0x3d97b3['length']>0x0&&!blockTransactionDetection)for(const _0x21b8f5 of _0x3d97b3){if(config['autoliquidity']){logger['debug'](_0x34ff07(0x31f)+_0x21b8f5[_0x34ff07(0x1d1)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x34ff07(0x282)]);if(lastFees[_0x34ff07(0x282)]==0x0||Math['abs'](_0x21b8f5['basecoinvalue'])>lastFees[_0x34ff07(0x282)]*1.2){if(config['autoliquidity']==_0x34ff07(0x309)){delete _0x21b8f5['symbol'],delete _0x21b8f5[_0x34ff07(0x1d1)];let _0x1f9fe1=[],_0x3de31a=[...config[_0x34ff07(0x2c1)]]||[],_0x477ed6=config[_0x34ff07(0x2c1)];_0x3de31a[_0x34ff07(0x210)]((_0x46a88b,_0x385e26)=>_0x46a88b[_0x34ff07(0x306)]>_0x385e26[_0x34ff07(0x306)]?-0x1:_0x385e26[_0x34ff07(0x306)]>_0x46a88b['date']?0x1:0x0);const _0x3af86c=getDate();if(_0x3de31a[0x0]){const _0x3b281f=fns[_0x34ff07(0x251)](_0x3de31a[0x0][_0x34ff07(0x306)],_0x34ff07(0x265),new Date()),_0xcdff52=fns['parse'](_0x3af86c,_0x34ff07(0x265),new Date());if(fns[_0x34ff07(0x1f1)](_0x3b281f,_0xcdff52)){_0x1f9fe1=_0x3de31a[0x0][_0x34ff07(0x311)];const _0x23cd39=_0x1f9fe1[_0x34ff07(0x322)](_0x2deb9b=>_0x2deb9b['coin']==_0x21b8f5[_0x34ff07(0x241)]);_0x23cd39?(_0x23cd39['number']+=_0x21b8f5[_0x34ff07(0x1d3)],_0x23cd39[_0x34ff07(0x1d3)]==0x0&&(_0x1f9fe1=_0x1f9fe1[_0x34ff07(0x274)](_0x24db27=>{const _0x3ba2d2=_0x34ff07;return _0x24db27['coin']!=_0x21b8f5[_0x3ba2d2(0x241)];}))):_0x1f9fe1[_0x34ff07(0x280)](_0x21b8f5);const _0x359c57=_0x477ed6['find'](_0x5591bb=>_0x5591bb['date']==_0x3af86c);_0x359c57['changes']=_0x1f9fe1;}else _0x477ed6['push']({'date':_0x3af86c,'changes':[_0x21b8f5]});}const _0x1b7c19=_0x477ed6[_0x34ff07(0x322)](_0x7c63da=>_0x7c63da[_0x34ff07(0x306)]==_0x3af86c);if(_0x1b7c19){let _0x47bbe5=!![];_0x1b7c19[_0x34ff07(0x311)][_0x34ff07(0x261)](_0x5c14c1=>{const _0x39f65f=_0x34ff07;if(_0x5c14c1[_0x39f65f(0x1d3)]!=0x0)_0x47bbe5=![];}),_0x47bbe5&&(_0x477ed6=_0x477ed6[_0x34ff07(0x274)](_0x28439a=>{const _0x18ab33=_0x34ff07;return _0x28439a[_0x18ab33(0x306)]!=_0x3af86c;}));}let _0x2d161f=dbConfig['get'](_0x34ff07(0x264))[_0x34ff07(0x322)]({'botID':botID})['value']();_0x2d161f&&(dbConfig[_0x34ff07(0x1bc)](_0x34ff07(0x264))[_0x34ff07(0x322)]({'botID':botID})[_0x34ff07(0x186)]({'liquidity':_0x477ed6})[_0x34ff07(0x194)](),config[_0x34ff07(0x2c1)]=_0x477ed6);logHistory(_0x34ff07(0x21b),_0x34ff07(0x2e0)+Math[_0x34ff07(0x2c8)](_0x21b8f5['number'])+'\x20'+_0x21b8f5['coin']+'\x20'+(_0x21b8f5[_0x34ff07(0x1d3)]>0x0?_0x34ff07(0x2e6):_0x34ff07(0x298))+_0x34ff07(0x20f)),proxyEmit(_0x34ff07(0x255),emittedConfiguration());const _0xcc2075=getNormalizedPerformance();emitPerformance(_0xcc2075),getStartingBalances(_0xcc2075),logger[_0x34ff07(0x2d5)](_0x34ff07(0x266));}else config['autoliquidity']==_0x34ff07(0x2ab)&&(config[_0x34ff07(0x1d5)]?(await storeHeadless({'headless':![]}),logHistory('success','Portfolio\x20change\x20detected\x20-\x20bot\x20switched\x20to\x20manual\x20mode'),logger[_0x34ff07(0x2d5)](_0x34ff07(0x2e0)+Math[_0x34ff07(0x2c8)](_0x21b8f5[_0x34ff07(0x1d3)])+'\x20'+_0x21b8f5[_0x34ff07(0x241)]+'\x20'+(_0x21b8f5[_0x34ff07(0x1d3)]>0x0?_0x34ff07(0x2e6):_0x34ff07(0x298))+_0x34ff07(0x2f7))):logger[_0x34ff07(0x2d5)]('Portfolio\x20change\x20detected:\x20'+Math[_0x34ff07(0x2c8)](_0x21b8f5[_0x34ff07(0x1d3)])+'\x20'+_0x21b8f5['coin']+'\x20'+(_0x21b8f5[_0x34ff07(0x1d3)]>0x0?_0x34ff07(0x2e6):_0x34ff07(0x298))+_0x34ff07(0x20a)));}else logger['debug']('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0x34ff07(0x2c8)](_0x21b8f5['number'])+'\x20'+_0x21b8f5[_0x34ff07(0x241)]+'\x20'+(_0x21b8f5[_0x34ff07(0x1d3)]>0x0?_0x34ff07(0x2e6):_0x34ff07(0x298)));}else logger[_0x34ff07(0x2d5)](_0x34ff07(0x2e0)+Math[_0x34ff07(0x2c8)](_0x21b8f5[_0x34ff07(0x1d3)])+'\x20'+_0x21b8f5[_0x34ff07(0x241)]+'\x20'+(_0x21b8f5[_0x34ff07(0x1d3)]>0x0?_0x34ff07(0x2e6):_0x34ff07(0x298))+_0x34ff07(0x2ec));}currentCoins=_0x4751a0,currentCoinsAll=_0x31844b;}catch(_0x32c11d){if(!exchangeStopped)await handleError(_0x32c11d,_0x34ff07(0x1d9));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0xfaa85a=_0x2cc052;try{markets=await exchange[_0xfaa85a(0x211)](),allSymbols=[],Object['entries'](markets)[_0xfaa85a(0x261)](_0x3234ec=>{const _0x306027=_0xfaa85a;_0x3234ec[0x1]['active']&&_0x3234ec[0x1][_0x306027(0x226)]&&allSymbols[_0x306027(0x280)](_0x3234ec[0x0]);});}catch(_0x5cff2f){throw _0x5cff2f;}}function validateSymbols(_0x17f5f6){let _0x54c546=[];return _0x17f5f6['forEach'](_0xcf958b=>{const _0x48870d=_0x1073;!allSymbols[_0x48870d(0x25d)](_0xcf958b)?logHistory(_0x48870d(0x1fd),_0x48870d(0x22e)+_0xcf958b+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x54c546['push'](_0xcf958b);}),_0x54c546;}async function initclient(){const _0x823e96=_0x2cc052;proxyEmit(_0x823e96(0x255),emittedConfiguration()),proxyEmit(_0x823e96(0x2d9),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x823e96(0x2d3),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x17020c=getNormalizedPerformance();emitPerformance(_0x17020c),getStartingBalances(_0x17020c);}async function toggleBotMode(){const _0x18f6c7=_0x2cc052;let _0x1ca2bf=dbConfig['get'](_0x18f6c7(0x264))['find']({'botID':botID})[_0x18f6c7(0x2bf)]();if(_0x1ca2bf){const _0x5114a4=!_0x1ca2bf[_0x18f6c7(0x1d5)];dbConfig[_0x18f6c7(0x1bc)](_0x18f6c7(0x264))[_0x18f6c7(0x322)]({'botID':botID})[_0x18f6c7(0x186)]({'headless':_0x5114a4})[_0x18f6c7(0x194)](),config[_0x18f6c7(0x1d5)]=_0x5114a4,proxyEmit(_0x18f6c7(0x255),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x347876=_0x2cc052;process[_0x347876(0x301)]({'updatebotmanager':!![]},_0x2818f8=>{}),logger[_0x347876(0x2d5)](_0x347876(0x1f8)+config[_0x347876(0x1d5)]);}async function loadCoins(_0x2e3929){const _0x57704a=_0x2cc052;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x26801b,_0x49ca3f=0x0,_0x23d2d5=0x0;_0x2e3929[_0x57704a(0x261)](_0x2e0ca1=>{const _0x3def0c=_0x57704a;loading[_0x3def0c(0x1ae)][_0x3def0c(0x280)](_0x2e0ca1);}),loadingCanceled=![];let _0x225ee3=![];while(_0x26801b!=_0x2e3929[_0x57704a(0x2ff)]+maxLoadingProgress){_0x26801b=loadingProgress,_0x2e3929[_0x57704a(0x261)](_0x1b9f2d=>{const _0x75f34e=_0x57704a;if(gTicker[noslash(_0x1b9f2d)]){loading['remainingSymbols']=loading[_0x75f34e(0x1ae)][_0x75f34e(0x274)](_0x13e70e=>_0x13e70e!=_0x1b9f2d);if(!watchedSymbols[_0x75f34e(0x25d)](_0x1b9f2d))watchedSymbols[_0x75f34e(0x280)](_0x1b9f2d);_0x26801b++;}}),loading[_0x57704a(0x29d)]=Math[_0x57704a(0x302)](_0x26801b/(_0x2e3929['length']+maxLoadingProgress)*0x64);loading[_0x57704a(0x29d)]!=0x64&&(_0x23d2d5>0x1e*0x5&&(loading[_0x57704a(0x193)]=!![],emitLoadingProgress()),_0x23d2d5>0x78*0x5&&!_0x225ee3&&(_0x225ee3=!![],logHistory(_0x57704a(0x1fd),_0x57704a(0x2d8)+loading['remainingSymbols'][_0x57704a(0x19e)](',\x20')+_0x57704a(0x218)),logHistory('error',_0x57704a(0x28f)+loadCoinsRetryInterval/0xea60+_0x57704a(0x28e)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{restartBot();},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x57704a(0x1ce)]=!![],emitLoadingProgress();break;}else _0x49ca3f!=loading[_0x57704a(0x29d)]&&(_0x49ca3f=loading[_0x57704a(0x29d)],emitLoadingProgress()),_0x23d2d5++,await sleep(0xc8);}_0x26801b==_0x2e3929[_0x57704a(0x2ff)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x57704a(0x2ea),'live':_0x57704a(0x32b)},_0x3b46a6=>{}),_0x225ee3&&logHistory(_0x57704a(0x21b),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x3d0b1d=_0x2cc052;proxyEmit(_0x3d0b1d(0x255),{...emittedConfiguration(),'configstate':_0x3d0b1d(0x2e2)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x159ab7=_0x2cc052;let _0x44b75a=gTicker[stablecoins['eur']['coin']],_0x515ad1=gTicker[stablecoins[_0x159ab7(0x26b)][_0x159ab7(0x241)]];return{'eur':Number(_0x44b75a),'usd':Number(_0x515ad1)};}function capitalize(_0xcbd4b){const _0x508b3c=_0x2cc052;return _0xcbd4b[_0x508b3c(0x30f)](0x0,0x1)[_0x508b3c(0x330)]()+_0xcbd4b['substring'](0x1);}function supportedExchanges(){const _0x5c6eb7=_0x2cc052,_0x417335=['ws','fetchTickers',_0x5c6eb7(0x25c),_0x5c6eb7(0x200),'watchOrders',_0x5c6eb7(0x2f9),'createOrder',_0x5c6eb7(0x2e9),_0x5c6eb7(0x227),_0x5c6eb7(0x242)];let _0x2bda86=[],_0x368268=[],_0x37f6c3=ccxt['pro'][_0x5c6eb7(0x2d9)];_0x37f6c3[_0x5c6eb7(0x261)](_0x4163e6=>{const _0x585caa=_0x5c6eb7;try{const _0x49d76e=new ccxt[(_0x585caa(0x202))][_0x4163e6]();_0x368268[_0x585caa(0x280)](_0x49d76e);}catch(_0x362da9){}}),_0x368268[_0x5c6eb7(0x261)](_0x273086=>{const _0x44ca7c=_0x5c6eb7;let _0x878022=0x0;_0x417335[_0x44ca7c(0x261)](_0x1f7169=>{const _0x98fd61=_0x44ca7c;_0x1f7169 in _0x273086[_0x98fd61(0x1fe)]&&_0x273086[_0x98fd61(0x1fe)][_0x1f7169]&&_0x878022++;}),_0x878022==_0x417335[_0x44ca7c(0x2ff)]&&_0x2bda86[_0x44ca7c(0x280)](capitalize(_0x273086['id']));});let _0x3ac558=[];return _0x37f6c3[_0x5c6eb7(0x261)](_0x550a08=>{const _0x22b8f2=_0x5c6eb7;_0x550a08=capitalize(_0x550a08);if(!_0x2bda86[_0x22b8f2(0x25d)](_0x550a08))_0x3ac558[_0x22b8f2(0x280)](_0x550a08);}),_0x2bda86;}function setStartDatePerformance(){const _0x5051c9=_0x2cc052;if(config&&config[_0x5051c9(0x2c1)][0x0][_0x5051c9(0x311)]['length']!=0x0){const _0x27266b=config[_0x5051c9(0x2c1)][0x0]['changes'];dbPerformance[_0x5051c9(0x1bc)]('data')[_0x5051c9(0x322)]({'date':config[_0x5051c9(0x212)]})[_0x5051c9(0x186)]({'coins':_0x27266b})[_0x5051c9(0x194)]();}}async function recreateCoinResults(){const _0x1b7b08=_0x2cc052;let _0x5a5e28,_0x3be151=[];try{const _0x31e185=fns[_0x1b7b08(0x1c0)](fns[_0x1b7b08(0x219)](config[_0x1b7b08(0x212)][_0x1b7b08(0x198)](/\//g,'-')),_0x1b7b08(0x31a));for(const _0x428539 of currentCoins){if(_0x428539[_0x1b7b08(0x241)]!=config[_0x1b7b08(0x29f)]){let _0x4d727a=0x0,_0x3c8058,_0xf133ed;_0x5a5e28=await getAllEventOrders(_0x428539['symbol']);if(_0x5a5e28[_0x1b7b08(0x2ff)]>0x0)_0x5a5e28['forEach'](_0x3ccabd=>{const _0x38f389=_0x1b7b08,_0x56420a=_0x428539[_0x38f389(0x256)][_0x38f389(0x25d)](config[_0x38f389(0x29f)]+'/');_0x3be151['push']({'datetime':_0x3ccabd['datetime'],'coin':_0x428539[_0x38f389(0x241)],'symbol':_0x428539[_0x38f389(0x256)],'side':_0x3ccabd[_0x38f389(0x1e2)],'reverse':_0x56420a,'amount':formatResult(_0x3ccabd[_0x38f389(0x20d)],0x8),'filled':formatResult(_0x3ccabd[_0x38f389(0x20d)],0x8),'price':formatResult(_0x3ccabd['price'],0x8)}),_0x4d727a=_0x3ccabd[_0x38f389(0x1e2)]==_0x38f389(0x2df)?_0x4d727a+_0x3ccabd['filled']:_0x4d727a-_0x3ccabd['filled'];if(!_0xf133ed)_0xf133ed=_0x3ccabd[_0x38f389(0x2a1)];});_0x3c8058=_0x428539[_0x1b7b08(0x1d3)]-_0x4d727a;let _0x42e5d8;config['liquidity'][_0x1b7b08(0x261)](_0x5d09d7=>{const _0x5848e7=_0x1b7b08;!_0x42e5d8&&(_0x42e5d8=_0x5d09d7['changes']['find'](_0x285583=>_0x285583['coin']==_0x428539[_0x5848e7(0x241)]),_0x42e5d8&&(_0x3c8058=_0x42e5d8[_0x5848e7(0x1d3)],_0xf133ed=_0x42e5d8[_0x5848e7(0x2a1)]));});let _0x190a71=dbCoinResults[_0x1b7b08(0x1bc)](_0x1b7b08(0x2f5))[_0x1b7b08(0x322)]({'coin':_0x428539[_0x1b7b08(0x241)]})[_0x1b7b08(0x2bf)]();_0x190a71={'coin':_0x428539[_0x1b7b08(0x241)],'number':_0x3c8058,'breakeven':_0xf133ed,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1b7b08(0x1bc)](_0x1b7b08(0x2f5))[_0x1b7b08(0x322)]({'coin':_0x428539[_0x1b7b08(0x241)]})[_0x1b7b08(0x186)](_0x190a71)[_0x1b7b08(0x194)]();}}_0x3be151[_0x1b7b08(0x210)]((_0xa12e1d,_0x28482d)=>_0xa12e1d[_0x1b7b08(0x1b2)]>_0x28482d[_0x1b7b08(0x1b2)]?0x1:_0x28482d[_0x1b7b08(0x1b2)]>_0xa12e1d[_0x1b7b08(0x1b2)]?-0x1:0x0);let _0x36ff4a=0x0;for(let _0x35ac8a of _0x3be151){await updateCoinResults(_0x35ac8a,!![]);}}catch(_0x582a6e){await handleError(_0x582a6e,_0x1b7b08(0x258));}}async function getAllEventOrders(_0x351061){const _0x77de5=_0x2cc052;let _0xb6b7f8=[],_0x165819=dbLogs[_0x77de5(0x1bc)]('logs')[_0x77de5(0x274)](_0xba68cf=>{const _0x18549a=_0x77de5,_0x442efe=_0xba68cf[_0x18549a(0x32a)][_0x18549a(0x32f)]();return _0x442efe[_0x18549a(0x25d)](_0x351061[_0x18549a(0x32f)]())&&(_0x442efe[_0x18549a(0x25d)](_0x18549a(0x1cc))&&_0x442efe[_0x18549a(0x25d)](_0x18549a(0x1d8))||_0x442efe[_0x18549a(0x25d)](_0x18549a(0x20d))&&_0x442efe[_0x18549a(0x25d)](_0x18549a(0x1d8)));})[_0x77de5(0x1f3)](_0x77de5(0x24c))['value']();return _0x165819[_0x77de5(0x261)](_0x23e0f4=>{const _0x2ac11b=_0x77de5,_0x6a013a=_0x23e0f4['event']['includes'](_0x2ac11b(0x1ea))?_0x2ac11b(0x1ea):'buy',_0x34254d=/#([0-9]|\.)+\s/i,_0x1b4eb8=Number(_0x34254d[_0x2ac11b(0x19f)](_0x23e0f4[_0x2ac11b(0x32a)])[0x0][_0x2ac11b(0x297)](0x1)),_0x4c022c=/@([0-9]|\.)+$/i,_0x48610c=Number(_0x4c022c[_0x2ac11b(0x19f)](_0x23e0f4[_0x2ac11b(0x32a)])[0x0][_0x2ac11b(0x297)](0x1));_0xb6b7f8[_0x2ac11b(0x280)]({'datetime':_0x23e0f4[_0x2ac11b(0x24c)],'coin':symbolToCoin(_0x351061),'symbol':_0x351061,'side':_0x6a013a,'amount':_0x1b4eb8,'filled':_0x1b4eb8,'price':_0x48610c});}),_0xb6b7f8;}async function getAllOrders(_0x16fe67,_0x34ece4){const _0x5f47a4=_0x2cc052;let _0x297453=[];while(_0x34ece4<exchange[_0x5f47a4(0x2fe)]()){const _0xf1e95a=0x1f4;try{const _0x4a897d=await exchange[_0x5f47a4(0x227)](_0x16fe67,_0x34ece4,_0xf1e95a);if(_0x4a897d['length'])_0x34ece4=_0x4a897d[_0x4a897d[_0x5f47a4(0x2ff)]-0x1][_0x5f47a4(0x25e)]+0x1,_0x297453=_0x297453[_0x5f47a4(0x1a7)](_0x4a897d);else break;}catch(_0x2bd958){await handleError(_0x2bd958,'getAllOrders()',_0x16fe67);}}return _0x297453;}async function validate24hChanges(){const _0x566d1c=_0x2cc052;for(const _0x4665e7 of currentCoins){if(_0x4665e7[_0x566d1c(0x241)]!=config[_0x566d1c(0x29f)]){let _0x12bd43;_0x4665e7[_0x566d1c(0x1d6)]?_0x12bd43=formatResult((0x1/(gChange[_0x4665e7[_0x566d1c(0x256)]]/0x64+0x1)-0x1)*0x64,0x3):_0x12bd43=gChange[_0x4665e7[_0x566d1c(0x256)]],_0x12bd43<config[_0x566d1c(0x269)]&&(logHistory(_0x566d1c(0x1fd),_0x4665e7['coin']+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x12bd43+'%'),logHistory(_0x566d1c(0x1fd),_0x566d1c(0x24f)),logHistory(_0x566d1c(0x1fd),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x18ae67,_0x5360d6){const _0x1a03b8=_0x2cc052;if(!_0x18ae67)return!![];const _0x43bd0f=_0x5360d6[_0x1a03b8(0x225)]('.'),_0x17f107=_0x18ae67[_0x1a03b8(0x225)]('.');for(var _0x544ad3=0x0;_0x544ad3<_0x17f107['length'];_0x544ad3++){const _0x199ca5=~~_0x17f107[_0x544ad3],_0x347851=~~_0x43bd0f[_0x544ad3];if(_0x199ca5<_0x347851)return!![];if(_0x199ca5>_0x347851)return![];}return![];}async function oneTimeMigration(){const _0xa53b8f=_0x2cc052;let _0x561480=dbLogs[_0xa53b8f(0x1bc)]('version')[_0xa53b8f(0x2bf)]();if(isOlderVersion(_0x561480,_0xa53b8f(0x305))){let _0x7fb2fe=[];const _0x209b2c=dbLogs[_0xa53b8f(0x1bc)]('logs')[_0xa53b8f(0x2bf)]();_0x209b2c[_0xa53b8f(0x261)](_0x30b152=>{const _0x9febe9=_0xa53b8f;_0x7fb2fe[_0x9febe9(0x280)]({'time':_0x30b152[_0x9febe9(0x24c)],'type':_0x30b152[_0x9febe9(0x284)],'event':_0x30b152[_0x9febe9(0x32a)]});}),dbLogs[_0xa53b8f(0x1bc)]('logs')[_0xa53b8f(0x186)](_0x7fb2fe)[_0xa53b8f(0x194)]();}let _0x2e5043=dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x2c7))[_0xa53b8f(0x2bf)]();if(isOlderVersion(_0x2e5043,_0xa53b8f(0x305))){let _0x11dfaf=dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x2bf)]();if(_0x11dfaf){let _0x53d9f1=[];_0x11dfaf['portfolio']['forEach'](_0x5d2f73=>{const _0x2f6ba4=_0xa53b8f;_0x53d9f1['push']({'coin':_0x5d2f73[_0x2f6ba4(0x241)],'number':_0x5d2f73[_0x2f6ba4(0x2a5)],'price':_0x5d2f73[_0x2f6ba4(0x259)]}),delete _0x5d2f73[_0x2f6ba4(0x2a5)],delete _0x5d2f73['startprice'];});if(_0x53d9f1[_0xa53b8f(0x2ff)]!==0x0)fs[_0xa53b8f(0x1fc)](configbackuppath+(_0xa53b8f(0x1b8)+botID+_0xa53b8f(0x196)),JSON[_0xa53b8f(0x291)](_0x53d9f1,null,0x4),function(_0x32a9df){if(_0x32a9df){}});const _0x104f9b=(_0x5bdfb4,_0x10333f)=>{let _0x505512=[];_0x10333f['forEach'](_0x4ad55c=>{const _0x268031=_0x1073,_0x4bfd72=_0x5bdfb4[_0x268031(0x322)](_0xa85900=>_0xa85900[_0x268031(0x241)]==_0x4ad55c['coin']);if(!_0x4bfd72)_0x505512[_0x268031(0x280)](_0x4ad55c);});let _0x564fc2=[];return _0x5bdfb4['forEach'](_0x316640=>{const _0x48ca26=_0x1073,_0x2fb934=_0x10333f[_0x48ca26(0x322)](_0x4286aa=>_0x4286aa['coin']==_0x316640[_0x48ca26(0x241)]);if(!_0x2fb934||_0x2fb934['number']==0x0&&_0x316640[_0x48ca26(0x1d3)]!=0x0)_0x564fc2[_0x48ca26(0x280)](_0x316640);}),{'missingDay1':_0x505512,'notInDay2':_0x564fc2};},_0x472efa=dbPerformance[_0xa53b8f(0x1bc)](_0xa53b8f(0x233))[_0xa53b8f(0x31b)]()[_0xa53b8f(0x2bf)]();if(_0x472efa[_0xa53b8f(0x2ff)]>0x1){const {missingDay1:_0x41b1b8,notInDay2:_0x32266c}=_0x104f9b(_0x53d9f1,_0x472efa[0x1]['coins']);_0x53d9f1=[..._0x53d9f1,..._0x41b1b8],_0x32266c[_0xa53b8f(0x261)](_0x4102e7=>{const _0x687322=_0xa53b8f;let _0x36db3d=_0x53d9f1[_0x687322(0x239)](_0x42027a=>_0x42027a[_0x687322(0x241)]==_0x4102e7[_0x687322(0x241)]);_0x36db3d!=-0x1&&_0x53d9f1[_0x687322(0x1b0)](_0x36db3d,0x1);});}_0x53d9f1['sort']((_0x554ed5,_0x5cf9be)=>_0x554ed5[_0xa53b8f(0x241)]>_0x5cf9be[_0xa53b8f(0x241)]?0x1:_0x5cf9be['coin']>_0x554ed5[_0xa53b8f(0x241)]?-0x1:0x0);let _0x2ad9dd=[{'date':_0x11dfaf[_0xa53b8f(0x212)],'changes':_0x53d9f1}];_0x472efa[_0xa53b8f(0x2ff)]>0x2&&_0x472efa[_0xa53b8f(0x261)]((_0x83fbc4,_0x4f54ae)=>{const _0xf63a0c=_0xa53b8f;if(_0x4f54ae>0x0&&_0x4f54ae<_0x472efa['length']-0x1){const {missingDay1:_0x5aa0bb,notInDay2:_0x28367a}=_0x104f9b(_0x472efa[_0x4f54ae][_0xf63a0c(0x2f5)],_0x472efa[_0x4f54ae+0x1][_0xf63a0c(0x2f5)]);_0x53d9f1=[],(_0x5aa0bb[_0xf63a0c(0x2ff)]!=0x0||_0x28367a[_0xf63a0c(0x2ff)]!=0x0)&&(_0x5aa0bb['length']!=0x0&&_0x53d9f1['push'](..._0x5aa0bb),_0x28367a['length']!=0x0&&(_0x28367a['forEach'](_0x9dd7d7=>{const _0x3d8d66=_0xf63a0c;_0x9dd7d7[_0x3d8d66(0x1d3)]=-_0x9dd7d7[_0x3d8d66(0x1d3)];}),_0x53d9f1['push'](..._0x28367a)),_0x53d9f1[_0xf63a0c(0x210)]((_0x2685bf,_0x172cca)=>_0x2685bf[_0xf63a0c(0x241)]>_0x172cca['coin']?0x1:_0x172cca[_0xf63a0c(0x241)]>_0x2685bf[_0xf63a0c(0x241)]?-0x1:0x0),_0x2ad9dd[_0xf63a0c(0x280)]({'date':_0x472efa[_0x4f54ae+0x1][_0xf63a0c(0x306)],'changes':_0x53d9f1}));}}),dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x186)]({..._0x11dfaf,'liquidity':_0x2ad9dd})[_0xa53b8f(0x194)]();}}if(isOlderVersion(_0x2e5043,_0xa53b8f(0x30a))){let _0x513fa7=dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x2bf)]();if(_0x513fa7){const _0x435cbe=_0x513fa7[_0xa53b8f(0x2a6)],_0x445934=_0x435cbe?capitalize(_0x435cbe):_0xa53b8f(0x2c9);dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x186)]({'exchange':_0x445934})[_0xa53b8f(0x194)]();}}if(isOlderVersion(_0x2e5043,'2.6.22')){let _0x44a97a=dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x2bf)]();if(_0x44a97a){const _0x1cb1a7=_0x44a97a[_0xa53b8f(0x290)],_0x4550e4=_0x1cb1a7?'marketcap':![];dbConfig['get'](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x186)]({'marketcapEnabled':_0x4550e4})[_0xa53b8f(0x194)]();}}if(isOlderVersion(_0x2e5043,_0xa53b8f(0x17c))){let _0x3eb0ac=dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x2bf)]();if(_0x3eb0ac){const _0x1a9280=_0x3eb0ac['autoliquidity'],_0x4ddc6e=_0x1a9280?_0xa53b8f(0x309):![];dbConfig[_0xa53b8f(0x1bc)](_0xa53b8f(0x264))[_0xa53b8f(0x322)]({'botID':botID})[_0xa53b8f(0x186)]({'autoliquidity':_0x4ddc6e})[_0xa53b8f(0x194)]();}}let _0x5efa44=dbPerformance[_0xa53b8f(0x1bc)]('version')[_0xa53b8f(0x2bf)]();isOlderVersion(_0x5efa44,'2.3.5')&&setStartDatePerformance();let _0x3d8869=dbCoinResults[_0xa53b8f(0x1bc)]('version')[_0xa53b8f(0x2bf)]();if(isOlderVersion(_0x3d8869,_0xa53b8f(0x319))){let _0xc25816=dbCoinResults['get'](_0xa53b8f(0x2f5))[_0xa53b8f(0x2bf)]();if(_0xc25816[_0xa53b8f(0x2ff)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x5ab812=_0x2cc052;dbConfig[_0x5ab812(0x213)]('version',serverversion)[_0x5ab812(0x194)](),dbPerformance[_0x5ab812(0x213)](_0x5ab812(0x2c7),serverversion)['write'](),dbLogs[_0x5ab812(0x213)]('version',serverversion)[_0x5ab812(0x194)](),dbCoinResults['set'](_0x5ab812(0x2c7),serverversion)[_0x5ab812(0x194)]();}function getConfiguration(_0x533bf2){const _0xed87bc=_0x2cc052;let _0xbf309=dbConfig[_0xed87bc(0x1bc)](_0xed87bc(0x264))[_0xed87bc(0x322)]({'botID':_0x533bf2})[_0xed87bc(0x2bf)]();if(_0xbf309){let _0x1c1a70=![];typeof _0xbf309[_0xed87bc(0x28c)]==_0xed87bc(0x2cb)&&(_0xbf309={..._0xbf309,'threshold':Number(_0xbf309['threshold'])},_0x1c1a70=!![]),_0xbf309['change24h']==undefined&&(_0xbf309={..._0xbf309,'change24h':-0x14},_0x1c1a70=!![]),_0xbf309[_0xed87bc(0x17d)]==undefined&&(_0xbf309={..._0xbf309,'fiat':_0xed87bc(0x325)},_0x1c1a70=!![]),_0xbf309[_0xed87bc(0x2ae)]==undefined&&(_0xbf309={..._0xbf309,'onepagemode':settings[_0xed87bc(0x2ae)]},_0x1c1a70=!![]),_0xbf309[_0xed87bc(0x22f)]==undefined&&(_0xbf309={..._0xbf309,'colorscheme':_0xed87bc(0x326)},_0x1c1a70=!![]),_0xbf309['autoliquidity']==undefined&&(_0xbf309={..._0xbf309,'autoliquidity':_0xed87bc(0x309)},_0x1c1a70=!![]),_0xbf309['marketcapApi']==undefined&&(_0xbf309={..._0xbf309,'marketcapApi':settings[_0xed87bc(0x23a)]?!![]:![]},_0x1c1a70=!![]),_0xbf309[_0xed87bc(0x290)]==undefined&&(_0xbf309={..._0xbf309,'marketcapEnabled':![]},_0x1c1a70=!![]),_0x1c1a70&&(_0xbf309={'botID':_0xbf309[_0xed87bc(0x273)],'exchange':_0xbf309['exchange'],'apiKey':_0xbf309['apiKey'],'apiSecret':_0xbf309[_0xed87bc(0x214)],'apiPassword':_0xbf309[_0xed87bc(0x29c)],'basecoin':_0xbf309[_0xed87bc(0x29f)],'botname':_0xbf309[_0xed87bc(0x304)],'showname':_0xbf309[_0xed87bc(0x1d7)],'threshold':_0xbf309[_0xed87bc(0x28c)],'ordertype':_0xbf309[_0xed87bc(0x2f6)],'timeout':_0xbf309[_0xed87bc(0x193)],'fiat':_0xbf309['fiat'],'startdate':_0xbf309[_0xed87bc(0x212)],'recreate':_0xbf309['recreate'],'timeshift':_0xbf309[_0xed87bc(0x245)],'onepagemode':_0xbf309[_0xed87bc(0x2ae)],'headless':_0xbf309['headless'],'cooldown':_0xbf309[_0xed87bc(0x27d)],'change24h':_0xbf309[_0xed87bc(0x269)],'emojibuy':_0xbf309[_0xed87bc(0x1cd)],'emojisell':_0xbf309[_0xed87bc(0x1be)],'colorscheme':_0xbf309[_0xed87bc(0x22f)],'marketcapApi':_0xbf309['marketcapApi'],'marketcapEnabled':_0xbf309[_0xed87bc(0x290)],'portfolio':_0xbf309[_0xed87bc(0x2f8)],'autoliquidity':_0xbf309[_0xed87bc(0x285)],'liquidity':_0xbf309[_0xed87bc(0x2c1)],'openOrders':_0xbf309[_0xed87bc(0x190)]},dbConfig[_0xed87bc(0x1bc)](_0xed87bc(0x264))[_0xed87bc(0x1bf)]()[_0xed87bc(0x194)](),dbConfig[_0xed87bc(0x1bc)]('bot')[_0xed87bc(0x280)](_0xbf309)['write']());}else _0xbf309={'botID':_0x533bf2,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0xed87bc(0x320)+_0x533bf2,'showname':![],'threshold':0x3,'ordertype':_0xed87bc(0x1cc),'timeout':0x14,'fiat':_0xed87bc(0x325),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0xed87bc(0x2ae)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0xed87bc(0x326),'marketcapApi':settings[_0xed87bc(0x23a)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0xed87bc(0x309),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xbf309;}function emittedConfiguration(){const _0xa72a50=_0x2cc052;let _0x14016f;if(config[_0xa72a50(0x22b)]=='')_0x14016f={...config,'configstate':'initial'};else config['apiKey']==_0xa72a50(0x1eb)?_0x14016f={...config,'configstate':_0xa72a50(0x32e)}:(_0x14016f={...config,'apiKey':_0xa72a50(0x1dc),'apiSecret':'************'},config['apiPassword']&&(_0x14016f['apiPassword']=_0xa72a50(0x1dc)));return _0x14016f;}function getSettings(){const _0x1e0d6f=_0x2cc052;return dbSettings[_0x1e0d6f(0x1bc)]('settings')[_0x1e0d6f(0x2bf)]();}function getSecure(){const _0x44a02f=_0x2cc052;return dbSecure[_0x44a02f(0x1bc)]('secure')[_0x44a02f(0x2bf)]()||{};}function _0x5e88(){const _0x51d44f=['red_yellow_blue','watchOrders','customId','delta','event','running','USDC','emitHistory','recovery','toLowerCase','toUpperCase','pop','logs','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','(((.+)+)+)+$','\x20-\x20','Resetting\x20coin\x20results:\x20','2.6.23','fiat','1573719mJrbgc','\x20>\x20','RETRY\x20-\x20Error\x20in\x20','Bybit','getHours','min','pid','getFullYear','assign','valid','TUSD','balancing\x20resumes\x20when\x20cooldown\x20ends','Transaction\x20detection\x20unblocked','initTickers()','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','\x20|\x20lock\x20orders:\x20','entries','buys','openOrders','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','test','timeout','write','Manual\x20balancing\x20required','.json','decrypt','replace','offset','Transaction\x20detection\x20blocked','uncaughtException','364646YfSYsU',',\x20must\x20be\x20a\x203\x20digit\x20number','join','exec','status','-------------------------------\x0a','toggleBotMode','existsSync','/output-000.log','amountToPrecision','exit','concat','message','memoryUsage','ORDERS.LOCKED','watchTradesForSymbols','LOCKED','cost','remainingSymbols','floor','splice','\x20order:\x20','datetime','getDate','limit-high','watchTrades()','argv','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','starting-balance-','showConfig','Unfilled\x20order(s)\x20canceled\x20after\x20','event-history','get','password','emojisell','remove','format','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','getMinutes','getOpenOrders()','Invalid\x20API\x20key\x20or\x20secret\x20entered','ongoing','getTime','keys','createOrder','toFixed','mkdirSync','<b>Bot\x20','market','emojibuy','cancel','placeOrder','Invalid\x20quantity','basecoinvalue','axios','number','\x20minutes','headless','reverse','showname','order','detectLiquidityChange()','1\x20-\x20Unlock\x20orders','getMonth','************','function','Reset\x20|\x20','limits','kill','sendPortfolioTelegram','side','257610bHrxCv','Unknown\x20error\x20occured','map','ExchangeNotAvailable','cancelOrders()','\x20change','Trigger:\x20','sell','***','getStartingBalances','Resetting\x20bot\x20history','eur','indexOf','\x20exchange\x20error','isEqual','watchTradesForSymbols()','sortBy','last','net-basecoin','Order\x20is\x20invalid:\x20','log','Headless:\x20','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','lowdb','unlinkSync','writeFile','error','has','code','watchTrades','close','pro','BTC','amount','Order\x20amount\x20is\x20invalid:\x20','1\x20-\x20FILLED\x20known\x20order:\x20','API-key\x20format\x20invalid','InvalidOrder','ETH','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','marketcapsqrt','heapUsed','filled','silentRestart','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','sort','loadMarkets','startdate','set','apiSecret','bots','bb-settings.json','InvalidNonce','\x20-\x20bot\x20not\x20started','parseISO','RequestTimeout','success','none','percentage','-config.json','configuration-stored','%\x20(','USDT','\x20orders\x20in\x20less\x20than\x20','full','\x20metrics:</b>\x20\x0a\x0a','split','spot','fetchClosedOrders','bb-secure.json','yargs/yargs','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','apiKey','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','max','Invalid\x20symbol:\x20','colorscheme','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Huobipro','No\x20more\x20open\x20orders\x20-\x20','data','warning','excluded','orderId','320hvUVop','differenceInSeconds','findIndex','marketcapApi','<b>','\x20>\x20details:','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','exchange\x20not\x20reloaded','Crypt','search','coin','fetchBalance','2792IKEkFk','sells','timeshift','change','resetHistory','-events.json','\x20portfolio:</b>\x20\x0a\x0a','currency','ask','time','netoffset','Waited\x20','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','fetchTickers()','parse','10556cjciix','initclient','bot-','configuration','symbol','open','recreateCoinResults()','startprice','OrderNotFound','446616iADcVc','fetchTicker','includes','timestamp','status\x20code\x20401','average','forEach','exchange\x20reloaded','\x20attempts','bot','yyyy/MM/dd','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','RSA-OAEP','getSeconds','change24h','lowdb/adapters/FileSync','usd','USDP','2\x20-\x20Handled\x20open\x20orders','OnMaintenance','Error\x20details:','NetworkError','Net\x20effect','defaults','botID','filter','args','./config/','random','MIN_NOTIONAL','realized','2593208iaLLpB','final','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','cooldown','performance','marketcap','push','\x20|\x20','highest','Huobi','type','autoliquidity','UNLOCKED','total','placeOrder()','-performance.json','UNLOCKING','rightTxt','threshold','target','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Pausing\x20for\x20','marketcapEnabled','stringify','Cooldown\x20ended\x20-\x20balancing\x20resumed','-results.json','2\x20-\x20Orders\x20unlocked','\x20API\x20secret\x20is\x20invalid','1\x20-\x20Handle\x20open\x20orders','slice','removed','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Limit\x20(low-margin)','util','apiPassword','progress','must\x20be\x20greater\x20than\x20minimum\x20amount','basecoin','getCoinNumber()','price','market_cap','bid','BNB/','startnumber','exchange','recent20','001','loadSymbols()','Loading\x20completed','switch-manual','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','onepagemode','quote','Limit\x20(high-margin)','starting-balances','\x20MB','toString','\x20value','Insufficient\x20funds\x20to\x20execute\x20order:\x20','closed','Executed\x20','storeConfiguration','cancelLoading','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','\x20-\x20pausing\x20bot\x20for\x20','request-time','date-fns','padStart','value','</pre>','liquidity','page','net-fiat','\x20network\x20error','hybrid-crypto-js',':\x20timer\x20>','version','abs','Binance','distribution','string','2\x20-\x20Validate\x20orders:\x20','Exception\x20thrown\x20in\x20','0\x20-\x20EXECUTION:\x20','EUR','limit','fetchTickers','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','balances','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','debug','ID:\x20','Exchange','Failed\x20to\x20load\x20coin\x20data\x20for\x20','exchanges','Executing\x20exchange\x20reload','./logs/','canceled','AuthenticationError','padEnd','buy','Portfolio\x20change\x20detected:\x20','/EUR','loading-canceled','sendMetricsTelegram','storeHeadless','initial','added','\x20exchange','watchOrders()','fetchOpenOrders','enabled','\x20/\x20','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','fee','BUSD','InsufficientFunds','orderstatus','ccxt','constructor','getCoins()','\x20|\x20exchange:\x20','coins','ordertype','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','portfolio','cancelOrder','breakeven','shift','limit-low','leftTxt','milliseconds','length',':\x20Bot\x20','send','round','/backup/','botname','2.3.5','date','BNB','privateKey','update-liquidity','2.6.0','Avoiding\x20continuous\x20order\x20attempts','trade','Error\x20while\x20deleting\x20files:\x20','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','substring','\x20:\x20','changes','freeze','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','\x20hour','getPortfolio(2)','/USD','sha256','PAXG','2.5.0','yyyy-MM-dd\x27T\x27HH:mm:ss','cloneDeep','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','slider','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Bot\x20','RateLimitExceeded','find','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','getPortfolio','USD'];_0x5e88=function(){return _0x51d44f;};return _0x5e88();}function updateTimeshift(_0x50cb25){const _0x29e575=_0x2cc052;let _0xe3bc94=dbConfig[_0x29e575(0x1bc)](_0x29e575(0x264))[_0x29e575(0x322)]({'botID':botID})[_0x29e575(0x2bf)]();_0xe3bc94&&dbConfig[_0x29e575(0x1bc)]('bot')['find']({'botID':botID})[_0x29e575(0x186)]({'timeshift':_0x50cb25})[_0x29e575(0x194)](),config[_0x29e575(0x245)]=_0x50cb25,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x2dbf1d){const _0x3a0dd2=_0x2cc052;let _0x453cb7=dbConfig[_0x3a0dd2(0x1bc)](_0x3a0dd2(0x264))[_0x3a0dd2(0x322)]({'botID':botID})[_0x3a0dd2(0x2bf)]();_0x453cb7&&dbConfig[_0x3a0dd2(0x1bc)](_0x3a0dd2(0x264))[_0x3a0dd2(0x322)]({'botID':botID})['assign']({'onepagemode':_0x2dbf1d})['write'](),config[_0x3a0dd2(0x2ae)]=_0x2dbf1d,proxyEmit(_0x3a0dd2(0x255),emittedConfiguration());}function updateMarketcapApi(_0x524611){const _0x1663ae=_0x2cc052,_0xd026c2=_0x524611?!![]:![];let _0xa3962a=dbConfig[_0x1663ae(0x1bc)]('bot')[_0x1663ae(0x322)]({'botID':botID})[_0x1663ae(0x2bf)]();_0xa3962a&&dbConfig[_0x1663ae(0x1bc)](_0x1663ae(0x264))['find']({'botID':botID})[_0x1663ae(0x186)]({'marketcapApi':_0xd026c2})[_0x1663ae(0x194)](),config[_0x1663ae(0x23a)]=_0xd026c2,getMarketCap(),proxyEmit(_0x1663ae(0x255),emittedConfiguration());}async function storeConfiguration(_0x390483){const _0x3efa07=_0x2cc052;logger[_0x3efa07(0x2d5)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x3efa07(0x2d5)](_0x3efa07(0x19a));let _0x4a6528=![],_0x51a0fc=![],_0xbb1d9e=[];_0x390483[_0x3efa07(0x2f8)][_0x3efa07(0x261)](_0x160dc7=>{const _0xacd945=_0x3efa07;if(!_0x160dc7[_0xacd945(0x235)]&&_0x160dc7[_0xacd945(0x241)]!=_0x390483[_0xacd945(0x29f)])_0xbb1d9e[_0xacd945(0x280)](_0x160dc7[_0xacd945(0x256)]);}),_0xbb1d9e[_0x3efa07(0x261)](_0x441de4=>{const _0x56107c=currentCoins['find'](_0x1f49d6=>_0x1f49d6['symbol']==_0x441de4);!_0x56107c&&(_0x4a6528=!![]);}),currentCoins[_0x3efa07(0x261)](_0x1e3d72=>{const _0xe7841=_0x3efa07;if(_0x1e3d72[_0xe7841(0x241)]!=config[_0xe7841(0x29f)]){const _0x4fe4b3=_0xbb1d9e[_0xe7841(0x322)](_0x35775b=>_0x35775b==_0x1e3d72['symbol']);!_0x4fe4b3&&(_0x4a6528=!![]);}}),_0x390483['portfolio'][_0x3efa07(0x261)](_0x1abd1b=>{const _0x26eb6a=_0x3efa07,_0x5e442f=config[_0x26eb6a(0x2f8)][_0x26eb6a(0x322)](_0x2a931c=>_0x2a931c[_0x26eb6a(0x241)]==_0x1abd1b[_0x26eb6a(0x241)]);if(_0x5e442f&&_0x1abd1b[_0x26eb6a(0x199)]!=_0x5e442f[_0x26eb6a(0x199)])_0x51a0fc=!![];});let _0x1c8d0a=dbConfig[_0x3efa07(0x1bc)]('bot')[_0x3efa07(0x322)]({'botID':botID})['value']();_0x390483={..._0x390483,'apiKey':crypt[_0x3efa07(0x197)](secure[_0x3efa07(0x308)],_0x390483[_0x3efa07(0x22b)])[_0x3efa07(0x1a8)],'apiSecret':crypt[_0x3efa07(0x197)](secure[_0x3efa07(0x308)],_0x390483[_0x3efa07(0x214)])[_0x3efa07(0x1a8)]};_0x390483[_0x3efa07(0x29c)]&&(_0x390483['apiPassword']=crypt[_0x3efa07(0x197)](secure[_0x3efa07(0x308)],_0x390483[_0x3efa07(0x29c)])[_0x3efa07(0x1a8)]);let _0x5bd5ca=![];if(_0x1c8d0a){_0x390483[_0x3efa07(0x22b)]==_0x3efa07(0x1dc)?_0x390483[_0x3efa07(0x22b)]=config[_0x3efa07(0x22b)]:_0x5bd5ca=!![];_0x390483[_0x3efa07(0x214)]=='************'?_0x390483['apiSecret']=config[_0x3efa07(0x214)]:_0x5bd5ca=!![];if(_0x390483[_0x3efa07(0x29c)]==_0x3efa07(0x1dc))_0x390483[_0x3efa07(0x29c)]=config[_0x3efa07(0x29c)];else{if(_0x390483[_0x3efa07(0x29c)])_0x5bd5ca=!![];}dbConfig['get']('bot')['find']({'botID':botID})['assign'](_0x390483)[_0x3efa07(0x194)]();}else dbConfig[_0x3efa07(0x1bc)](_0x3efa07(0x264))[_0x3efa07(0x280)](_0x390483)['write'](),_0x5bd5ca=!![],process[_0x3efa07(0x301)]({'status':_0x3efa07(0x2ea),'live':'running'},_0x30e47f=>{});process[_0x3efa07(0x301)]({'botname':_0x390483[_0x3efa07(0x304)]},_0x35c8c3=>{}),config={..._0x390483},updateBotManager(),proxyEmit(_0x3efa07(0x21f)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x5bd5ca)await reset(!![]);else _0x4a6528||_0x51a0fc?await reset(![]):getBalances();blockTransactionDetection=![],logger['debug'](_0x3efa07(0x18a));}async function storeHeadless(_0x456ebc){const _0x293da0=_0x2cc052,_0x29bf82={...config,'headless':_0x456ebc[_0x293da0(0x1d5)]};let _0x35492a=dbConfig[_0x293da0(0x1bc)]('bot')[_0x293da0(0x322)]({'botID':botID})[_0x293da0(0x2bf)]();_0x35492a&&dbConfig[_0x293da0(0x1bc)](_0x293da0(0x264))[_0x293da0(0x322)]({'botID':botID})[_0x293da0(0x186)](_0x29bf82)[_0x293da0(0x194)](),config={..._0x29bf82},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x431d0a){const _0x3085a9=_0x2cc052,_0x388dc4={...config,'fiat':_0x431d0a};let _0x361b60=dbConfig['get'](_0x3085a9(0x264))[_0x3085a9(0x322)]({'botID':botID})['value']();_0x361b60&&dbConfig[_0x3085a9(0x1bc)](_0x3085a9(0x264))['find']({'botID':botID})['assign'](_0x388dc4)[_0x3085a9(0x194)](),config={..._0x388dc4},proxyEmit(_0x3085a9(0x255),emittedConfiguration());}function resetHistory(){const _0x5a99ca=_0x2cc052;logger[_0x5a99ca(0x223)](_0x5a99ca(0x1ed));try{if(fs['existsSync'](path[_0x5a99ca(0x19e)](configpath,_0x5a99ca(0x254)+botID+'-events.json')))fs[_0x5a99ca(0x1fb)](path[_0x5a99ca(0x19e)](configpath,_0x5a99ca(0x254)+botID+_0x5a99ca(0x248)));if(fs[_0x5a99ca(0x1a3)](path[_0x5a99ca(0x19e)](configpath,_0x5a99ca(0x254)+botID+_0x5a99ca(0x289))))fs[_0x5a99ca(0x1fb)](path[_0x5a99ca(0x19e)](configpath,_0x5a99ca(0x254)+botID+_0x5a99ca(0x289)));if(fs[_0x5a99ca(0x1a3)](path[_0x5a99ca(0x19e)](configpath,_0x5a99ca(0x254)+botID+'-results.json')))fs['unlinkSync'](path[_0x5a99ca(0x19e)](configpath,_0x5a99ca(0x254)+botID+_0x5a99ca(0x293)));}catch(_0x376cee){if(_0x376cee)logger[_0x5a99ca(0x223)](_0x5a99ca(0x30d),_0x376cee);}const _0x35abf2=getDate();let _0x2ffe08=[];currentCoins[_0x5a99ca(0x261)](_0x1a3d97=>{const _0x43d54c=_0x5a99ca;_0x2ffe08['push']({'coin':_0x1a3d97[_0x43d54c(0x241)],'number':_0x1a3d97[_0x43d54c(0x1d3)],'price':_0x1a3d97[_0x43d54c(0x1f4)]});});let _0x4b2bbd=dbConfig['get'](_0x5a99ca(0x264))[_0x5a99ca(0x322)]({'botID':botID})[_0x5a99ca(0x2bf)]();_0x4b2bbd&&(dbConfig[_0x5a99ca(0x1bc)](_0x5a99ca(0x264))['find']({'botID':botID})[_0x5a99ca(0x186)]({'liquidity':[{'date':_0x35abf2,'changes':_0x2ffe08}]})[_0x5a99ca(0x194)](),config[_0x5a99ca(0x2c1)]=[]),restartBot(!![]);}function noslash(_0x5e1d72){const _0x19dfd0=_0x2cc052;return _0x5e1d72[_0x19dfd0(0x198)]('/','');}function updateHighestFee(_0x4d4fd5){const _0x247930=_0x2cc052;if(_0x4d4fd5[_0x247930(0x1d6)]){let _0x100a30={'filled':_0x4d4fd5[_0x247930(0x20d)]*_0x4d4fd5[_0x247930(0x2a1)],'amount':_0x4d4fd5[_0x247930(0x20d)]*_0x4d4fd5['price'],'side':_0x4d4fd5[_0x247930(0x1e2)]==_0x247930(0x1ea)?_0x247930(0x2df):'sell','price':0x1/_0x4d4fd5['price']};_0x4d4fd5={..._0x4d4fd5,..._0x100a30};}const _0x2dfa59=defaultFee*_0x4d4fd5[_0x247930(0x20d)]*_0x4d4fd5[_0x247930(0x2a1)];lastFees['recent20']['length']===0x14&&lastFees[_0x247930(0x2a7)][_0x247930(0x2fb)](),lastFees[_0x247930(0x2a7)][_0x247930(0x280)](_0x2dfa59),lastFees[_0x247930(0x282)]=Math[_0x247930(0x22d)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x1bb6a7){const _0x396296=_0x2cc052;logger[_0x396296(0x2d5)](_0x396296(0x2ce)+_0x1bb6a7[_0x396296(0x256)]+_0x396296(0x281)+_0x1bb6a7[_0x396296(0x1a0)]+'\x20|\x20'+_0x1bb6a7['filled']+_0x396296(0x2eb)+_0x1bb6a7[_0x396296(0x204)]+_0x396296(0x281)+_0x1bb6a7['id']);_0x1bb6a7['filled']>0x0&&(blockTransactionDetection=!![]);let _0x542f59=_0x1bb6a7[_0x396296(0x1a0)],_0x15bcf6=![];currentCoins[_0x396296(0x261)](_0x3ad7e7=>{const _0xde59ea=_0x396296;_0x3ad7e7[_0xde59ea(0x256)]==_0x1bb6a7[_0xde59ea(0x256)]&&(_0x15bcf6=!![]);});if(!_0x15bcf6)return;const _0x17d98b=currentCoins[_0x396296(0x322)](_0x63ba00=>_0x63ba00['symbol']==_0x1bb6a7[_0x396296(0x256)]),_0x136c8c=_0x3c0450=>{const _0x43bb06=_0x396296;if(_0x17d98b)_0x17d98b[_0x43bb06(0x2f0)]=_0x3c0450;};if(_0x542f59=='open')_0x136c8c('open');else{if(_0x542f59==_0x396296(0x2dc)){_0x136c8c(_0x396296(0x2dc));const _0x74bc88=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x74bc88,blockTransactionDetection=![],await getOpenOrders(),handleOpenOrders();}else{if(_0x542f59==_0x396296(0x2b6)){let _0x312cd0=![];if(lastOrders)for(const _0x27ff78 of lastOrders){const _0x4a2491=0xc8,_0x5cb888=0x1388;let _0x2d3b1b=0x0;while(!_0x27ff78['orderId']&&_0x2d3b1b*_0x4a2491<_0x5cb888){_0x2d3b1b++,await sleep(_0x4a2491);}if(_0x2d3b1b>0x0)logger[_0x396296(0x2d5)](_0x396296(0x24e)+_0x2d3b1b*_0x4a2491/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x27ff78[_0x396296(0x236)]==_0x1bb6a7['id']){logger[_0x396296(0x2d5)](_0x396296(0x206)+_0x1bb6a7['id']),_0x312cd0=!![];if(_0x27ff78[_0x396296(0x20d)]==0x0){logger[_0x396296(0x2d5)]('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x1bb6a7['id']);if(_0x1bb6a7['average'])_0x27ff78[_0x396296(0x2a1)]=_0x1bb6a7[_0x396296(0x260)];else{if(_0x1bb6a7[_0x396296(0x2a1)])_0x27ff78[_0x396296(0x2a1)]=_0x1bb6a7[_0x396296(0x2a1)];else{}}_0x27ff78[_0x396296(0x20d)]=_0x1bb6a7[_0x396296(0x20d)],updateHighestFee(_0x27ff78),_0x136c8c('filled'),await validateOrders();if(lockOrders==ORDERS[_0x396296(0x1ac)]){const _0x2ee116=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2ee116,blockTransactionDetection=![];}_0x27ff78[_0x396296(0x2ed)]={'currency':_0x1bb6a7[_0x396296(0x2ed)]?_0x1bb6a7[_0x396296(0x2ed)][_0x396296(0x24a)]:null,'cost':_0x1bb6a7['fee']?_0x1bb6a7[_0x396296(0x2ed)][_0x396296(0x1ad)]:0x0},await updateCoinResults(_0x27ff78);}}}!_0x312cd0&&(logger[_0x396296(0x2d5)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x1bb6a7['id']),_0x136c8c('filled'),blockTransactionDetection=![],await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x210604=JSON[_0x396296(0x251)](lastBalances['portfolio']);const _0x533f53=_0x210604[_0x396296(0x322)](_0x22afd8=>_0x22afd8['symbol']==_0x1bb6a7['symbol']);if(_0x533f53){if(_0x542f59==_0x396296(0x257))_0x533f53[_0x396296(0x2f0)]=_0x533f53[_0x396296(0x2f0)]==_0x396296(0x20d)?_0x396296(0x20d):'open';else{if(_0x542f59==_0x396296(0x2dc))_0x533f53['orderstatus']=_0x533f53['orderstatus']==_0x396296(0x20d)?_0x396296(0x20d):_0x396296(0x2dc);else _0x542f59==_0x396296(0x2b6)&&(_0x533f53['orderstatus']=_0x396296(0x20d));}}lastBalances={...lastBalances,'portfolio':JSON[_0x396296(0x291)](_0x210604)},proxyEmit(_0x396296(0x2d3),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x14fc85=_0x2cc052;await getOpenOrders();let _0x47facb=![];currentCoins[_0x14fc85(0x261)](_0xcba0c3=>{const _0x138af6=_0x14fc85;_0x47facb=allOpenOrders[_0x138af6(0x322)](_0x4b98f8=>_0x4b98f8[_0x138af6(0x256)]==_0xcba0c3['symbol']),_0xcba0c3[_0x138af6(0x2f0)]=_0x47facb?_0x138af6(0x257):_0x138af6(0x21c);});}async function getCoins(_0x56d3c1=0x0,_0x4ef9e9=!![],_0x3c16f9=config[_0x2cc052(0x29f)]){const _0x5a0af6=_0x2cc052;let _0xc6a923,_0x1d53bf=[],_0x4e4ff1=[],_0x640fb7=[];if(_0x56d3c1)await sleep(_0x56d3c1);if(botPaused)return[currentCoins,currentCoinsAll];try{_0xc6a923=await exchange[_0x5a0af6(0x242)](),mybalances=_0xc6a923['total'];for(const [_0x29ad1b,_0x4d19bd]of Object[_0x5a0af6(0x18e)](mybalances)){_0x640fb7[_0x5a0af6(0x280)](_0x29ad1b);}config[_0x5a0af6(0x2f8)][_0x5a0af6(0x261)](_0x5c18c0=>{const _0x80236d=_0x5a0af6;!_0x640fb7['includes'](_0x5c18c0[_0x80236d(0x241)])&&(mybalances[_0x5c18c0[_0x80236d(0x241)]]=0x0);});if(_0x3c16f9=='')for(const [_0x535597,_0x2b2779]of Object[_0x5a0af6(0x18e)](mybalances)){_0x2b2779!=0x0&&_0x1d53bf[_0x5a0af6(0x280)]({'coin':_0x535597});}else for(const [_0x52b904,_0x26a782]of Object[_0x5a0af6(0x18e)](mybalances)){const _0xe19723=config[_0x5a0af6(0x2f8)]['find'](_0x54e495=>_0x54e495['coin']==_0x52b904),_0x20546c=_0x52b904+'/'+_0x3c16f9,_0x4aa795=_0x3c16f9+'/'+_0x52b904,_0x58a1a8=currentCoins[_0x5a0af6(0x322)](_0x332faf=>_0x332faf[_0x5a0af6(0x241)]==_0x52b904);if((_0x26a782!=0x0||_0xe19723)&&(allSymbols[_0x5a0af6(0x25d)](_0x20546c)||_0x52b904==_0x3c16f9))_0x58a1a8?_0x1d53bf[_0x5a0af6(0x280)]({..._0x58a1a8,'number':Math['max'](_0x26a782+(_0xe19723&&_0xe19723['offset']||0x0),0x0)}):_0x1d53bf[_0x5a0af6(0x280)]({'coin':_0x52b904,'symbol':_0x20546c,'reverse':![],'number':Math['max'](_0x26a782+(_0xe19723&&_0xe19723[_0x5a0af6(0x199)]||0x0),0x0),'orderstatus':_0x5a0af6(0x21c)});else{if((_0x26a782!=0x0||_0xe19723)&&allSymbols[_0x5a0af6(0x25d)](_0x4aa795))_0x58a1a8?_0x1d53bf[_0x5a0af6(0x280)]({..._0x58a1a8,'number':Math[_0x5a0af6(0x22d)](_0x26a782+(_0xe19723&&_0xe19723[_0x5a0af6(0x199)]||0x0),0x0)}):_0x1d53bf[_0x5a0af6(0x280)]({'coin':_0x52b904,'symbol':_0x4aa795,'reverse':!![],'number':Math['max'](_0x26a782+(_0xe19723&&_0xe19723['offset']||0x0),0x0),'orderstatus':_0x5a0af6(0x21c)});else _0xe19723&&_0x1d53bf[_0x5a0af6(0x280)]({'coin':_0xe19723['coin'],'symbol':_0xe19723[_0x5a0af6(0x256)],'reverse':_0xe19723['reverse'],'number':0x0,'orderstatus':'none'});}}}catch(_0x1bf8ee){if(!_0x4ef9e9)handleErrorNoStop(_0x1bf8ee,_0x5a0af6(0x2f3));else await handleError(_0x1bf8ee,_0x5a0af6(0x2f3));}return _0x1d53bf[_0x5a0af6(0x210)]((_0x4d1223,_0x9bf967)=>_0x4d1223['delta']<_0x9bf967[_0x5a0af6(0x329)]?0x1:_0x9bf967['delta']<_0x4d1223[_0x5a0af6(0x329)]?-0x1:0x0),_0x4e4ff1=cloneDeep(_0x1d53bf),_0x1d53bf=_0x1d53bf[_0x5a0af6(0x274)](_0x2c4d5f=>{const _0x4793f4=_0x5a0af6,_0x53e9d5=config['portfolio'][_0x4793f4(0x322)](_0x5dbc11=>_0x5dbc11[_0x4793f4(0x241)]==_0x2c4d5f[_0x4793f4(0x241)]);return _0x53e9d5&&!_0x53e9d5[_0x4793f4(0x235)];}),[_0x1d53bf,_0x4e4ff1];}async function getCoinNumber(_0x27a959){const _0x503eea=_0x2cc052;let _0x57f834;try{const _0x12e120=await exchange['fetchBalance']();_0x57f834=_0x12e120[_0x503eea(0x287)][_0x27a959];}catch(_0x5bb7d4){await handleError(_0x5bb7d4,_0x503eea(0x2a0));}return _0x57f834;}async function getOpenOrders(){const _0x36dce4=_0x2cc052;let _0x5ca582;allOpenOrders=[];try{for(const _0x59ca06 of config[_0x36dce4(0x2f8)]){!_0x59ca06[_0x36dce4(0x235)]&&_0x59ca06['coin']!=config[_0x36dce4(0x29f)]&&(_0x5ca582=await exchange['fetchOpenOrders'](_0x59ca06[_0x36dce4(0x256)]),_0x5ca582[_0x36dce4(0x2ff)]>0x0&&allOpenOrders['push'](_0x5ca582[0x0]));}}catch(_0x163daf){await handleError(_0x163daf,_0x36dce4(0x1c3));}}async function handleOpenOrders(_0x324853=0x0){const _0x35e335=_0x2cc052;allOpenOrders[_0x35e335(0x2ff)]==0x0&&lockOrders==ORDERS[_0x35e335(0x1ac)]&&allOrdersPlaced&&(_0x324853==0x0?(logger[_0x35e335(0x2d5)](_0x35e335(0x296)),_0x324853++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x35e335(0x26d)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0xa7de51){const _0x494047=_0x2cc052,_0x141005=ccxt[_0x494047(0x202)][_0xa7de51[_0x494047(0x2a6)][_0x494047(0x32f)]()],_0x2ed8de=new _0x141005({'apiKey':_0xa7de51[_0x494047(0x22b)],'secret':_0xa7de51[_0x494047(0x214)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0xa7de51[_0x494047(0x29c)])_0x2ed8de[_0x494047(0x1bd)]=_0xa7de51['apiPassword'];try{await _0x2ed8de[_0x494047(0x211)]();}catch(_0x20ca80){throw _0x20ca80;}}function cloneDeep(_0x21a6c3){const _0x4432e7=_0x2cc052;return JSON[_0x4432e7(0x251)](JSON[_0x4432e7(0x291)](_0x21a6c3));}async function getPortfolio(_0x2736ca){const _0x45bca0=_0x2cc052;let _0x2920c0=[],_0x184fc5=[],_0x5cdbe0=[],_0x5399f2;if(_0x2736ca['apiKey']!==_0x45bca0(0x1dc)||_0x2736ca[_0x45bca0(0x214)]!==_0x45bca0(0x1dc)||_0x2736ca['apiPassword']&&_0x2736ca['apiPassword']!==_0x45bca0(0x1dc)){if(config['exchange']){if(_0x2736ca[_0x45bca0(0x22b)]==_0x45bca0(0x1dc))_0x2736ca['apiKey']=config[_0x45bca0(0x22b)];if(_0x2736ca[_0x45bca0(0x214)]==_0x45bca0(0x1dc))_0x2736ca['apiSecret']=config[_0x45bca0(0x214)];if(_0x2736ca[_0x45bca0(0x29c)]=='************')_0x2736ca[_0x45bca0(0x29c)]=config['apiPassword'];try{await testAPI(_0x2736ca);}catch(_0x168397){if(_0x168397['toString']()[_0x45bca0(0x25d)](_0x45bca0(0x2dd))){logger['debug'](_0x45bca0(0x1c4)),proxyEmit(_0x45bca0(0x2f8),![]);return;}else{handleError(_0x168397,'getPortfolio(0)');return;}}}await initExchange(_0x2736ca['exchange'],_0x2736ca[_0x45bca0(0x22b)],_0x2736ca[_0x45bca0(0x214)],_0x2736ca[_0x45bca0(0x29c)]);try{await loadSymbols();}catch(_0x1e886c){if(_0x1e886c[_0x45bca0(0x2b3)]()[_0x45bca0(0x25d)]('AuthenticationError')){proxyEmit(_0x45bca0(0x2f8),![]);return;}else{handleError(_0x1e886c,'getPortfolio(1)');return;}}const _0xff3845=await getCoins(0x0,![],_0x2736ca[_0x45bca0(0x29f)]);_0x5cdbe0=cloneDeep(_0xff3845[0x1]);}else{const _0x125e18=await getCoins();_0x5cdbe0=cloneDeep(_0x125e18[0x1]);}if(_0x2736ca[_0x45bca0(0x29f)]=='')proxyEmit(_0x45bca0(0x2f8),_0x5cdbe0);else{_0x5cdbe0[_0x45bca0(0x261)](_0x25fa4c=>{const _0x367043=_0x45bca0;if(_0x25fa4c[_0x367043(0x241)]!=_0x2736ca[_0x367043(0x29f)]&&allSymbols[_0x367043(0x25d)](_0x25fa4c[_0x367043(0x256)]))_0x2920c0['push'](_0x25fa4c[_0x367043(0x256)]);});if(_0x2920c0['length']==0x0)logHistory(_0x45bca0(0x1fd),_0x45bca0(0x333));else{try{_0x184fc5=await getTickers(_0x2920c0);}catch(_0x5a9755){if(_0x5a9755[_0x45bca0(0x2b3)]()['includes'](_0x45bca0(0x2dd))){proxyEmit('portfolio',![]);return;}else handleError(_0x5a9755,_0x45bca0(0x315));}_0x5cdbe0[_0x45bca0(0x261)](_0x42e298=>{const _0x1ee8de=_0x45bca0;_0x42e298['coin']!=_0x2736ca[_0x1ee8de(0x29f)]?_0x184fc5[_0x42e298[_0x1ee8de(0x256)]]?_0x5399f2=_0x42e298[_0x1ee8de(0x1d6)]?0x1/_0x184fc5[_0x42e298['symbol']][_0x1ee8de(0x1f4)]:_0x184fc5[_0x42e298[_0x1ee8de(0x256)]][_0x1ee8de(0x1f4)]:_0x5399f2=0x0:_0x5399f2=0x1,_0x42e298[_0x1ee8de(0x2a1)]=formatResult(_0x5399f2,0x8);}),await getMarketCap(_0x5cdbe0),proxyEmit('portfolio',_0x5cdbe0);}}}function truncateTradeAmount(_0x1bdcc4,_0x2a9168){const _0x43727c=_0x2cc052;let _0x47d47c=0x0;try{_0x47d47c=exchange[_0x43727c(0x1a5)](_0x1bdcc4,_0x2a9168);}catch(_0x519519){}return _0x47d47c;}function checkMinimums(_0x47efbc){const _0x589181=_0x2cc052;let _0x303b42=!![];const _0x71c0eb=!_0x47efbc[_0x589181(0x1d6)]?markets[_0x47efbc[_0x589181(0x256)]]['limits'][_0x589181(0x204)][_0x589181(0x183)]:markets[_0x47efbc[_0x589181(0x256)]][_0x589181(0x1df)][_0x589181(0x1ad)][_0x589181(0x183)],_0x5c840c=!_0x47efbc[_0x589181(0x1d6)]?markets[_0x47efbc['symbol']]['limits']['cost'][_0x589181(0x183)]:markets[_0x47efbc[_0x589181(0x256)]][_0x589181(0x1df)][_0x589181(0x204)][_0x589181(0x183)],_0x3aae91=truncateTradeAmount(_0x47efbc['symbol'],_0x47efbc[_0x589181(0x30c)]);_0x47efbc['trade']=_0x3aae91;if(Math[_0x589181(0x2c8)](_0x3aae91)<_0x71c0eb)_0x303b42=![];if(Math['abs'](_0x3aae91)*_0x47efbc[_0x589181(0x1f4)]<_0x5c840c)_0x303b42=![];if(_0x47efbc[_0x589181(0x1e2)]==_0x589181(0x1ea)){let _0x32f49b=config[_0x589181(0x2f8)][_0x589181(0x322)](_0x50d055=>_0x50d055[_0x589181(0x241)]==_0x47efbc[_0x589181(0x241)]);if(_0x32f49b[_0x589181(0x199)]>0x0){if(Math[_0x589181(0x2c8)](_0x3aae91)>_0x47efbc['number']-_0x32f49b[_0x589181(0x199)])_0x303b42=![];}else{if(Math[_0x589181(0x2c8)](_0x3aae91)>_0x47efbc[_0x589181(0x1d3)])_0x303b42=![];}}if(_0x47efbc[_0x589181(0x1e2)]==_0x589181(0x2df)){let _0x5d5fb2=config['portfolio'][_0x589181(0x322)](_0x357818=>_0x357818[_0x589181(0x241)]==config['basecoin']),_0x3df79e=currentCoins[_0x589181(0x322)](_0x56c72e=>_0x56c72e[_0x589181(0x241)]==config[_0x589181(0x29f)]);if(_0x5d5fb2[_0x589181(0x199)]>0x0){if(Math[_0x589181(0x2c8)](_0x3aae91)*_0x47efbc[_0x589181(0x1f4)]>_0x3df79e['number']-_0x5d5fb2[_0x589181(0x199)])_0x303b42=![];}else{if(Math[_0x589181(0x2c8)](_0x3aae91)*_0x47efbc[_0x589181(0x1f4)]>_0x3df79e['number'])_0x303b42=![];}}return _0x303b42;}async function getBalances(_0x5921ae=!![]){const _0x5af3c9=_0x2cc052;let _0x43cd1a=0x0,_0x2810d1;const _0x571c3b=config[_0x5af3c9(0x28c)];if(config[_0x5af3c9(0x1d5)]&&config[_0x5af3c9(0x269)]<0x0)await validate24hChanges();currentCoins[_0x5af3c9(0x261)](_0x1b9113=>{const _0x2c8864=_0x5af3c9;if(_0x1b9113['coin']!=config[_0x2c8864(0x29f)]){let _0x292908=gTicker[noslash(_0x1b9113['symbol'])];_0x2810d1=_0x1b9113[_0x2c8864(0x1d6)]?0x1/_0x292908:_0x292908;}else _0x2810d1=0x1;let _0x51ad77=_0x1b9113[_0x2c8864(0x1d3)]*_0x2810d1;_0x43cd1a+=_0x51ad77,_0x1b9113['last']=formatResult(Number(_0x2810d1),0x8),_0x1b9113[_0x2c8864(0x2bf)]=_0x51ad77;}),currentCoins[_0x5af3c9(0x261)](_0x3b1aed=>{const _0x123ab9=_0x5af3c9;let _0x438c7b=config['portfolio'][_0x123ab9(0x322)](_0x3a6626=>_0x3a6626[_0x123ab9(0x241)]==_0x3b1aed[_0x123ab9(0x241)]),_0x45e814=Number(_0x438c7b[_0x123ab9(0x2ca)]),_0x3d65ac=_0x3b1aed[_0x123ab9(0x2bf)]/_0x43cd1a*0x64,_0x161ced=_0x45e814*_0x43cd1a/0x64/_0x3b1aed[_0x123ab9(0x1f4)]-_0x3b1aed[_0x123ab9(0x1d3)];_0x3b1aed[_0x123ab9(0x2ca)]=formatResult(_0x3d65ac,0x3),_0x3b1aed[_0x123ab9(0x28d)]=formatResult(_0x45e814,0x3),_0x3b1aed[_0x123ab9(0x30c)]=formatResult(_0x161ced,0x8),_0x3b1aed[_0x123ab9(0x1e2)]='',_0x3b1aed['valid']=![];if(_0x3b1aed[_0x123ab9(0x241)]!=config['basecoin']){if(_0x3b1aed[_0x123ab9(0x2ca)]>_0x45e814)_0x3b1aed[_0x123ab9(0x1e2)]=_0x123ab9(0x1ea),_0x3b1aed['valid']=checkMinimums(_0x3b1aed);else _0x3b1aed[_0x123ab9(0x2ca)]<_0x45e814&&(_0x3b1aed[_0x123ab9(0x1e2)]=_0x123ab9(0x2df),_0x3b1aed[_0x123ab9(0x187)]=checkMinimums(_0x3b1aed));}_0x3b1aed[_0x123ab9(0x329)]=_0x3b1aed[_0x123ab9(0x2ca)]/_0x3b1aed[_0x123ab9(0x28d)]-0x1;if(_0x3b1aed[_0x123ab9(0x2f0)]==_0x123ab9(0x20d)||_0x3b1aed[_0x123ab9(0x2f0)]==_0x123ab9(0x2dc))_0x3b1aed['orderstatus']=_0x123ab9(0x21c);}),currentCoins['sort']((_0xd726b5,_0x566d20)=>_0xd726b5[_0x5af3c9(0x329)]<_0x566d20[_0x5af3c9(0x329)]?0x1:_0x566d20[_0x5af3c9(0x329)]<_0xd726b5[_0x5af3c9(0x329)]?-0x1:0x0);const _0x510d85=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x510d85['eur'],'usd':_0x510d85['usd'],'portfolio':JSON[_0x5af3c9(0x291)](currentCoins),'threshold':_0x571c3b},proxyEmit(_0x5af3c9(0x2d3),{'serverversion':serverversion,'balances':lastBalances});if(_0x5921ae){if(config[_0x5af3c9(0x1d5)])headlessMode({'portfolio':currentCoins,'threshold':_0x571c3b});else{if(lockOrders==ORDERS[_0x5af3c9(0x286)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x571c3b});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0xf0bf7=getNormalizedPerformance();getStartingBalances(_0xf0bf7),emitPerformance(_0xf0bf7);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x40b217=_0x2cc052;if(!lastBalances)return;let _0x8685b7=[],_0x31900b,_0x288a82=JSON[_0x40b217(0x251)](lastBalances[_0x40b217(0x2f8)]);_0x288a82[_0x40b217(0x210)]((_0x816074,_0x3d2488)=>_0x816074[_0x40b217(0x241)]>_0x3d2488[_0x40b217(0x241)]?0x1:_0x3d2488['coin']>_0x816074[_0x40b217(0x241)]?-0x1:0x0),_0x288a82['forEach'](_0x3afda6=>{const _0x421560=_0x40b217;let _0x5d2110={'coin':_0x3afda6['coin'],'number':_0x3afda6[_0x421560(0x1d3)],'price':_0x3afda6[_0x421560(0x1f4)]};_0x8685b7[_0x421560(0x280)](_0x5d2110);});const _0x209afe=await getFiat();_0x31900b={'date':lastBalances['time'][_0x40b217(0x225)]('\x20')[0x0],'eur':_0x209afe[_0x40b217(0x1ee)],'usd':_0x209afe[_0x40b217(0x26b)],'coins':_0x8685b7};let _0x225fd8=dbPerformance[_0x40b217(0x1bc)](_0x40b217(0x233))['find']({'date':_0x31900b['date']})[_0x40b217(0x2bf)]();_0x225fd8?_0x31900b[_0x40b217(0x306)]!=config[_0x40b217(0x212)]&&dbPerformance[_0x40b217(0x1bc)](_0x40b217(0x233))[_0x40b217(0x322)]({'date':_0x31900b['date']})['assign'](_0x31900b)['write']():dbPerformance[_0x40b217(0x1bc)](_0x40b217(0x233))[_0x40b217(0x280)](_0x31900b)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1a72f7=_0x2cc052;let _0x29a657=[];if(dbPerformance[_0x1a72f7(0x1fe)]('data')[_0x1a72f7(0x2bf)]()){let _0xb6d758=dbPerformance['get'](_0x1a72f7(0x233))['cloneDeep']()[_0x1a72f7(0x274)](_0xd5b1c5=>{const _0x2ca47b=_0x1a72f7;if(_0xd5b1c5[_0x2ca47b(0x2f5)][_0x2ca47b(0x2ff)]==0x0)return![];else return!![];})['sortBy'](_0x1a72f7(0x306))[_0x1a72f7(0x2bf)](),_0x1055d4=[...config[_0x1a72f7(0x2c1)]];_0x1055d4[_0x1a72f7(0x210)]((_0x3cdf0c,_0x2a090f)=>_0x3cdf0c['date']>_0x2a090f['date']?-0x1:_0x2a090f[_0x1a72f7(0x306)]>_0x3cdf0c[_0x1a72f7(0x306)]?0x1:0x0);let _0xbb3e3d=0x1,_0x1e2f19=[],_0x767a1e=0x0;_0xb6d758[_0x1a72f7(0x297)]()[_0x1a72f7(0x1d6)]()[_0x1a72f7(0x261)]((_0x7c3a46,_0x248c07)=>{const _0x4e2d2f=_0x1a72f7;if(_0x1055d4[_0x767a1e]){if(_0xb6d758[_0xb6d758[_0x4e2d2f(0x2ff)]-_0x248c07]&&_0x1055d4[_0x767a1e][_0x4e2d2f(0x306)]==_0xb6d758[_0xb6d758[_0x4e2d2f(0x2ff)]-_0x248c07][_0x4e2d2f(0x306)]){if(_0x248c07<_0xb6d758[_0x4e2d2f(0x2ff)]){let _0x2c2708=0x0,_0x291cdc=0x0;_0xb6d758[_0xb6d758['length']-_0x248c07][_0x4e2d2f(0x2f5)][_0x4e2d2f(0x261)](_0x308933=>{const _0x27ac60=_0x4e2d2f;_0x291cdc+=_0x308933['number']*_0x308933[_0x27ac60(0x2a1)];}),_0x1055d4[_0x767a1e][_0x4e2d2f(0x311)][_0x4e2d2f(0x261)](_0xeeb715=>{const _0x41fa0b=_0x4e2d2f;_0x2c2708+=_0xeeb715['number']*_0xeeb715[_0x41fa0b(0x2a1)];}),_0xbb3e3d*=_0x2c2708/(_0x291cdc-_0x2c2708)+0x1;}_0x767a1e++;}}let _0x18eae3=0x0;_0x7c3a46[_0x4e2d2f(0x2f5)][_0x4e2d2f(0x261)](_0x3e24c3=>{const _0x3d2cae=_0x4e2d2f;_0x18eae3+=_0x3e24c3['number']*_0x3e24c3[_0x3d2cae(0x2a1)];}),_0x1e2f19[_0xb6d758['length']-_0x248c07-0x1]=_0x18eae3*(_0xbb3e3d-0x1);});let _0xeb2ce2=[];_0x1055d4=[...config['liquidity']]||[];let _0x258ead=0x0;_0x767a1e=0x0,_0xb6d758[_0x1a72f7(0x261)]((_0x52b8df,_0x38c8be)=>{const _0x399064=_0x1a72f7;if(_0x1055d4[_0x767a1e]){const _0xcbd8bd=fns[_0x399064(0x251)](_0x1055d4[_0x767a1e][_0x399064(0x306)],_0x399064(0x265),new Date()),_0x2f5b7b=fns['parse'](_0x52b8df[_0x399064(0x306)],'yyyy/MM/dd',new Date());if(fns[_0x399064(0x1f1)](_0xcbd8bd,_0x2f5b7b)){let _0x5976cd=0x0;_0x1055d4[_0x767a1e]['changes']['forEach'](_0x134c38=>{const _0x249dfe=_0x399064;!_0xeb2ce2[_0x134c38[_0x249dfe(0x241)]]?_0xeb2ce2[_0x134c38[_0x249dfe(0x241)]]=_0x134c38[_0x249dfe(0x1d3)]:(_0x5976cd=_0xeb2ce2[_0x134c38[_0x249dfe(0x241)]],_0xeb2ce2[_0x134c38[_0x249dfe(0x241)]]+=_0x134c38[_0x249dfe(0x1d3)]);const _0x272969=_0x52b8df[_0x249dfe(0x2f5)][_0x249dfe(0x322)](_0xd94823=>_0xd94823[_0x249dfe(0x241)]==_0x134c38[_0x249dfe(0x241)]);(!_0x272969||_0x272969[_0x249dfe(0x1d3)]==0x0)&&(_0x258ead+=(-_0x134c38[_0x249dfe(0x1d3)]-_0x5976cd)*_0x134c38['price']);}),_0x767a1e++;}}_0x52b8df[_0x399064(0x2f5)][_0x399064(0x261)]((_0x173372,_0x2cff6a)=>{const _0x21aa95=_0x399064;_0xeb2ce2[_0x173372[_0x21aa95(0x241)]]&&(_0x173372[_0x21aa95(0x2e5)]=_0xeb2ce2[_0x173372[_0x21aa95(0x241)]]);}),_0x29a657[_0x399064(0x280)]({'date':_0x52b8df[_0x399064(0x306)],'eur':_0x52b8df['eur'],'usd':_0x52b8df[_0x399064(0x26b)],'offset':_0x1e2f19[_0x38c8be],'netoffset':_0x258ead,'coins':_0x52b8df['coins']});});}return _0x29a657;}function emitPerformance(_0x25b5eb){const _0x42e0b4=_0x2cc052;_0x25b5eb['length']!==0x0?(proxyEmit(_0x42e0b4(0x27e),_0x25b5eb),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0xcac13d,_0x5cc5cd){const _0x1aa400=_0x2cc052;let _0x1e0fe5=0x0,_0x41645f=0x0,_0x2c353e=0x0;_0xcac13d['coins'][_0x1aa400(0x261)](_0x31f579=>{const _0xb9275=_0x1aa400;_0x1e0fe5+=_0x31f579[_0xb9275(0x1d3)]*_0x31f579[_0xb9275(0x2a1)];});_0x5cc5cd&&(_0x1e0fe5+=_0xcac13d[_0x1aa400(0x199)]);if(config['basecoin']===_0x1aa400(0x203)||config['basecoin']===_0x1aa400(0x209)||config['basecoin']===_0x1aa400(0x318))_0x41645f=_0x1e0fe5*_0xcac13d[_0x1aa400(0x1ee)],_0x2c353e=_0x1e0fe5*_0xcac13d['usd'];else{if(usdBasecoins[_0x1aa400(0x25d)](config[_0x1aa400(0x29f)]))_0x41645f=_0x1e0fe5*_0xcac13d[_0x1aa400(0x1ee)]/_0xcac13d[_0x1aa400(0x26b)],_0x2c353e=_0x1e0fe5;else config[_0x1aa400(0x29f)]==='EUR'&&(_0x41645f=_0x1e0fe5,_0x2c353e=_0x1e0fe5*_0xcac13d[_0x1aa400(0x26b)]/_0xcac13d[_0x1aa400(0x1ee)]);}return[_0x1e0fe5,_0x41645f,_0x2c353e];}function getKPIs(_0x460427,_0x1f9bde=_0x2cc052(0x2cf)){const _0x16d211=_0x2cc052,_0x5e89e4=config[_0x16d211(0x29f)],_0x258566=lastBalances,_0x3e40d5=currentCoins,_0xcef36b=getNormalizedPerformance(),_0x125407=_0x460427===_0x16d211(0x29f)?_0x5e89e4:_0x460427===_0x16d211(0x17d)||_0x460427===_0x16d211(0x2c3)?_0x1f9bde:'Net\x20'+_0x5e89e4,_0x2a19ca=_0x460427==='net-basecoin'?_0x16d211(0x271):_0x460427===_0x16d211(0x2c3)?_0x16d211(0x271):_0x125407+_0x16d211(0x2b4),_0x4ea0d2=_0x460427==='net-basecoin'||_0x460427==='net-fiat'?_0x16d211(0x271):_0x125407+_0x16d211(0x1e8);let _0x3ca54c=0x0;_0x3e40d5[_0x16d211(0x261)](_0x1ac0c1=>{const _0x398672=_0x16d211;_0x3ca54c+=_0x1ac0c1[_0x398672(0x1d3)]*_0x1ac0c1[_0x398672(0x1f4)];});if(_0x460427==='fiat'||_0x460427===_0x16d211(0x2c3)){if(_0x5e89e4==='BTC'||_0x5e89e4===_0x16d211(0x209)||_0x5e89e4==='PAXG')_0x3ca54c=_0x3ca54c*(_0x1f9bde===_0x16d211(0x2cf)?_0x258566['eur']:_0x258566[_0x16d211(0x26b)]);else{if(usdBasecoins[_0x16d211(0x25d)](_0x5e89e4))_0x3ca54c=_0x3ca54c*(_0x1f9bde===_0x16d211(0x2cf)?_0x258566[_0x16d211(0x1ee)]/_0x258566[_0x16d211(0x26b)]:0x1);else _0x5e89e4===_0x16d211(0x2cf)&&(_0x3ca54c=_0x3ca54c*(_0x1f9bde==='EUR'?0x1:_0x258566[_0x16d211(0x26b)]/_0x258566[_0x16d211(0x1ee)]));}}let _0x9fc6f9;if(_0x3ca54c!==0x0){if(_0x460427===_0x16d211(0x29f))_0x9fc6f9=(_0x3ca54c/startingBalances[_0x16d211(0x29f)]-0x1)*0x64;else{if(_0x1f9bde==='EUR')_0x9fc6f9=(_0x3ca54c/startingBalances[_0x16d211(0x1ee)]-0x1)*0x64;else _0x9fc6f9=(_0x3ca54c/startingBalances[_0x16d211(0x26b)]-0x1)*0x64;}let _0x56b269=0x0;if(startingBalances[_0x16d211(0x2f5)])_0x3e40d5['forEach'](_0x13c62b=>{const _0x5d86f0=_0x16d211;let _0x5f163f=startingBalances[_0x5d86f0(0x2f5)]['find'](_0x4ba5bd=>_0x4ba5bd[_0x5d86f0(0x241)]===_0x13c62b[_0x5d86f0(0x241)]);if(_0x5f163f&&_0x5f163f[_0x5d86f0(0x241)]&&_0x13c62b['number']!==0x0)_0x56b269+=_0x5f163f[_0x5d86f0(0x1d3)]*_0x13c62b['last'];});let _0x2bd9b9=0x0;if(_0xcef36b['length']!==0x0){let _0x218062=_0xcef36b[_0xcef36b[_0x16d211(0x2ff)]-0x1];_0x2bd9b9=_0x218062[_0x16d211(0x24d)];}_0x56b269-=_0x2bd9b9;_0x460427===_0x16d211(0x1f5)&&(_0x9fc6f9=(_0x3ca54c-_0x56b269)/startingBalances[_0x16d211(0x29f)]*0x64,_0x3ca54c=_0x3ca54c-_0x56b269);if(_0x460427===_0x16d211(0x2c3)){let _0x17f502=_0x1f9bde===_0x16d211(0x2cf)?startingBalances[_0x16d211(0x1ee)]:startingBalances[_0x16d211(0x26b)];if(_0x5e89e4===_0x16d211(0x203)||_0x5e89e4===_0x16d211(0x209)||_0x5e89e4===_0x16d211(0x318))_0x56b269=_0x1f9bde===_0x16d211(0x2cf)?_0x56b269*_0x258566['eur']:_0x56b269*_0x258566[_0x16d211(0x26b)];else{if(usdBasecoins[_0x16d211(0x25d)](_0x5e89e4))_0x56b269=_0x1f9bde==='EUR'?_0x56b269*_0x258566[_0x16d211(0x1ee)]/_0x258566[_0x16d211(0x26b)]:_0x56b269;else _0x5e89e4===_0x16d211(0x2cf)&&(_0x56b269=_0x1f9bde==='EUR'?_0x56b269:_0x56b269*_0x258566[_0x16d211(0x26b)]/_0x258566['eur']);}_0x9fc6f9=(_0x3ca54c-_0x56b269)/_0x17f502*0x64,_0x3ca54c=_0x3ca54c-_0x56b269;}if(_0x9fc6f9){if(_0x9fc6f9<0x64)_0x9fc6f9=_0x9fc6f9[_0x16d211(0x1c9)](0x2);else{if(_0x9fc6f9<0x3e8)_0x9fc6f9=_0x9fc6f9[_0x16d211(0x1c9)](0x1);else _0x9fc6f9=_0x9fc6f9[_0x16d211(0x1c9)](0x0);}}else _0x9fc6f9=Number('0')[_0x16d211(0x1c9)](0x2);if(_0x3ca54c){if(Math[_0x16d211(0x2c8)](_0x3ca54c)<0.000001)_0x3ca54c=_0x3ca54c[_0x16d211(0x1c9)](0x2);else{if(Math['abs'](_0x3ca54c)<0.1)_0x3ca54c=_0x3ca54c[_0x16d211(0x1c9)](0x6);else{if(Math[_0x16d211(0x2c8)](_0x3ca54c)<0x1)_0x3ca54c=_0x3ca54c[_0x16d211(0x1c9)](0x5);else{if(Math['abs'](_0x3ca54c)<0xa)_0x3ca54c=_0x3ca54c['toFixed'](0x4);else{if(Math['abs'](_0x3ca54c)<0x64)_0x3ca54c=_0x3ca54c[_0x16d211(0x1c9)](0x3);else{if(Math[_0x16d211(0x2c8)](_0x3ca54c)<0x3e8)_0x3ca54c=_0x3ca54c[_0x16d211(0x1c9)](0x2);else _0x3ca54c=_0x3ca54c[_0x16d211(0x1c9)](0x2);}}}}}}else _0x3ca54c=Number('0')[_0x16d211(0x1c9)](0x2);}else _0x9fc6f9=Number('0')[_0x16d211(0x1c9)](0x2);return{'value':_0x3ca54c,'change':_0x9fc6f9,'leftTxt':_0x2a19ca,'rightTxt':_0x4ea0d2};}async function getStartingBalances(_0x4bd7ae,_0x1800f9=!![]){const _0x372438=_0x2cc052;if(_0x4bd7ae[_0x372438(0x2ff)]!==0x0){const [_0x237dbd,_0x4b79fa,_0x5f508a]=getPerf(_0x4bd7ae[0x0],!![]);let _0x3cd4ed=[];config['portfolio'][_0x372438(0x261)](_0x23eec4=>{const _0x5eccda=_0x372438;let _0x1f2e74=0x0,_0x271b76;config['liquidity'][_0x5eccda(0x261)](_0x47d1c2=>{const _0x17ffc7=_0x5eccda;let _0x21fdd3=_0x47d1c2[_0x17ffc7(0x311)][_0x17ffc7(0x322)](_0x1cf7c3=>_0x1cf7c3['coin']==_0x23eec4[_0x17ffc7(0x241)]);if(_0x21fdd3){_0x1f2e74+=_0x21fdd3['number'];if(!_0x271b76)_0x271b76=_0x21fdd3['price'];}}),_0x3cd4ed['push']({'coin':_0x23eec4[_0x5eccda(0x241)],'number':_0x1f2e74,'initialprice':_0x271b76});});const _0x7b8cc2={'basecoin':_0x237dbd,'eur':_0x4b79fa,'usd':_0x5f508a,'coins':_0x3cd4ed};if(_0x1800f9)proxyEmit(_0x372438(0x2b1),_0x7b8cc2);startingBalances=_0x7b8cc2;}}function headlessMode(_0x1fcca0){const _0x4d304b=_0x2cc052;let _0x1bbc34=_0x1fcca0['portfolio'],_0x4b3cdd=_0x1fcca0[_0x4d304b(0x28c)],_0x37da1a=[];for(let _0x2cfe59 of _0x1bbc34){if(_0x2cfe59[_0x4d304b(0x241)]!=config[_0x4d304b(0x29f)]){if(_0x2cfe59['delta']>=_0x4b3cdd/0x64){if(_0x2cfe59[_0x4d304b(0x187)])_0x37da1a['push'](_0x2cfe59);}else{if(_0x2cfe59[_0x4d304b(0x329)]<=-_0x4b3cdd/0x64){if(_0x2cfe59['valid'])_0x37da1a[_0x4d304b(0x280)](_0x2cfe59);}}}}_0x37da1a['length']>0x0&&(lockOrders==ORDERS[_0x4d304b(0x286)]&&!coolingDown&&_0x37da1a[_0x4d304b(0x261)](_0x20545f=>{const _0x59ac4c=_0x4d304b;logger[_0x59ac4c(0x2d5)](_0x59ac4c(0x1e9)+_0x20545f[_0x59ac4c(0x241)]+'\x20'+_0x20545f[_0x59ac4c(0x1d3)]+'\x20'+_0x20545f[_0x59ac4c(0x1f4)]+'\x20'+_0x20545f[_0x59ac4c(0x2ca)]+'%\x20'+_0x20545f[_0x59ac4c(0x28d)]+'%\x20'+(0x64*_0x20545f['delta'])[_0x59ac4c(0x1c9)](0x2)+_0x59ac4c(0x220)+_0x4b3cdd[_0x59ac4c(0x1c9)](0x2)+'%)');}),placeOrder(_0x37da1a));}function notifyBalance(_0x31ecc8){const _0x2a883b=_0x2cc052;let _0x57c020=_0x31ecc8['portfolio'],_0x226fe6=_0x31ecc8[_0x2a883b(0x28c)],_0x2e3ca4=[];for(let _0x31a204 of _0x57c020){if(_0x31a204['coin']!=config[_0x2a883b(0x29f)]){if(_0x31a204['delta']>=_0x226fe6/0x64){if(_0x31a204[_0x2a883b(0x187)])_0x2e3ca4['push'](_0x31a204);}else{if(_0x31a204[_0x2a883b(0x329)]<=-_0x226fe6/0x64){if(_0x31a204[_0x2a883b(0x187)])_0x2e3ca4[_0x2a883b(0x280)](_0x31a204);}}}}if(_0x2e3ca4[_0x2a883b(0x2ff)]>0x0){let _0x57026f=_0x2e3ca4[_0x2a883b(0x1e5)](_0x5ad591=>_0x5ad591[_0x2a883b(0x241)]);_0x57026f[_0x2a883b(0x210)]();let _0x2d50a5=_0x57026f['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x2a883b(0x234),_0x2a883b(0x195));lastCoinsToBalance=_0x2d50a5;}}function symbolToCoin(_0x3136af){const _0x59a360=_0x2cc052;let _0x5795d4;if(_0x3136af[_0x59a360(0x25d)]('/'+config['basecoin']))_0x5795d4=_0x3136af[_0x59a360(0x198)]('/'+config[_0x59a360(0x29f)],'');if(_0x3136af[_0x59a360(0x25d)](config[_0x59a360(0x29f)]+'/'))_0x5795d4=_0x3136af[_0x59a360(0x198)](config[_0x59a360(0x29f)]+'/','');return _0x5795d4;}async function unlockOrders(){const _0x577683=_0x2cc052;if(allOrdersPlaced&&lockOrders==ORDERS[_0x577683(0x1ac)]){logger[_0x577683(0x2d5)](_0x577683(0x1da)),lockOrders=ORDERS[_0x577683(0x28a)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3dcddb=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3dcddb,blockTransactionDetection=![],validateOrdersState=_0x577683(0x2e5),persistOpenOrders([]),lockOrders=ORDERS[_0x577683(0x286)],logger[_0x577683(0x2d5)](_0x577683(0x294));}}async function validateOrders(_0x17e515){const _0x4f5112=_0x2cc052;if(_0x17e515)validateOrdersState=_0x17e515;logger[_0x4f5112(0x2d5)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x4f5112(0x18d)+(lockOrders==0x1?_0x4f5112(0x1aa):lockOrders==0x2?'ORDERS.UNLOCKING':'ORDERS.UNLOCKED'));let _0x2dba42=[],_0x24069a=config[_0x4f5112(0x2f6)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4f5112(0x193)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4f5112(0x1ac)])return;logger[_0x4f5112(0x2d5)](_0x4f5112(0x2cc)+validateOrdersState),lastOrders['forEach'](_0x8faeb0=>{const _0x3d6830=_0x4f5112;let _0x3e2600=![];_0x8faeb0[_0x3d6830(0x20d)]>0x0&&(_0x3e2600=!![]),_0x2dba42[_0x3d6830(0x280)](_0x3e2600),_0x3e2600&&config['ordertype']!='market'&&logHistory('order','Order\x20filled:\x20'+_0x8faeb0[_0x3d6830(0x256)]+'\x20'+_0x8faeb0[_0x3d6830(0x1e2)]+'\x20#'+formatResult(_0x8faeb0[_0x3d6830(0x20d)],0x8)+'\x20@'+formatResult(_0x8faeb0['price'],0x8));}),_0x2dba42[_0x4f5112(0x261)]((_0xbd9e49,_0x49ee1e)=>{const _0x3354d4=_0x4f5112;if(_0xbd9e49)lastOrders[_0x3354d4(0x1b0)](_0x49ee1e,0x1);}),persistOpenOrders(lastOrders);const _0x1d8407=coolingDown?_0x4f5112(0x189):'balancing\x20resumed';if(validateOrdersState=='initial'){validateOrdersState=_0x4f5112(0x1c5);if(_0x2dba42[_0x4f5112(0x25d)](![])){if(config[_0x4f5112(0x2f6)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x4f5112(0x1c5)){if(_0x2dba42[_0x4f5112(0x25d)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x4f5112(0x1cc)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x4f5112(0x27b))_0x2dba42[_0x4f5112(0x25d)](![])&&(config[_0x4f5112(0x2f6)]==_0x4f5112(0x1cc)?logHistory(_0x4f5112(0x21b),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x4f5112(0x302)](_0x24069a*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1d8407):(await cancelOrders(),logHistory('success',_0x4f5112(0x1ba)+Math['round'](_0x24069a*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1d8407))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x4f5112(0x2f6)]!=_0x4f5112(0x1cc))logHistory(_0x4f5112(0x21b),_0x4f5112(0x232)+_0x1d8407);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x16ae22=>{const _0x3aed3b=_0x1073;try{const _0x31947=await exchange[_0x3aed3b(0x2f9)](_0x16ae22['orderId'],_0x16ae22[_0x3aed3b(0x256)]);}catch(_0x185311){if(_0x185311[_0x3aed3b(0x2b3)]()[_0x3aed3b(0x25d)](_0x3aed3b(0x25a))){}else await handleError(_0x185311,_0x3aed3b(0x1e7));}});}async function initCoinResults(_0x3ac23d){const _0x3d5a58=_0x2cc052;_0x3ac23d?logger['debug'](_0x3d5a58(0x17b)+_0x3ac23d):logger['debug']('Initializing\x20coin\x20results'),config[_0x3d5a58(0x2f8)][_0x3d5a58(0x261)](_0x327619=>{const _0x486a56=_0x3d5a58;if(!_0x327619['excluded']&&_0x327619['coin']!=config[_0x486a56(0x29f)]){const _0x54e998=currentCoins[_0x486a56(0x322)](_0x32d45e=>_0x32d45e[_0x486a56(0x241)]==_0x327619[_0x486a56(0x241)]),_0x122c3d=gTicker[noslash(_0x327619[_0x486a56(0x256)])];let _0x5b5792=_0x54e998?_0x54e998['number']:null,_0x2b58f7=_0x327619['reverse']?0x1/_0x122c3d:_0x122c3d,_0x22f814;config[_0x486a56(0x2c1)][_0x486a56(0x261)](_0x2f9222=>{const _0x1e7d2b=_0x486a56;!_0x22f814&&(_0x22f814=_0x2f9222[_0x1e7d2b(0x311)][_0x1e7d2b(0x322)](_0x36bba4=>_0x36bba4[_0x1e7d2b(0x241)]==_0x327619[_0x1e7d2b(0x241)]),_0x22f814&&(_0x5b5792=_0x22f814[_0x1e7d2b(0x1d3)],_0x2b58f7=_0x22f814[_0x1e7d2b(0x2a1)]));});let _0x4ffe3e=dbCoinResults[_0x486a56(0x1bc)]('coins')[_0x486a56(0x322)]({'coin':_0x327619['coin']})[_0x486a56(0x2bf)]();if(!_0x4ffe3e){const _0x44d805={'coin':_0x327619[_0x486a56(0x241)],'number':_0x5b5792,'breakeven':_0x2b58f7,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x486a56(0x2f5))['push'](_0x44d805)[_0x486a56(0x194)]();}else{if(_0x3ac23d&&_0x327619[_0x486a56(0x241)]==_0x3ac23d){const _0x14750b={'coin':_0x327619[_0x486a56(0x241)],'number':_0x5b5792,'breakeven':_0x2b58f7,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x486a56(0x1bc)](_0x486a56(0x2f5))[_0x486a56(0x322)]({'coin':_0x327619[_0x486a56(0x241)]})[_0x486a56(0x186)](_0x14750b)[_0x486a56(0x194)]();}}}});}async function updateCoinResults(_0x4e137a,_0x9368e8=![]){const _0x547b45=_0x2cc052;let _0x3bb7cc,_0x434ffc,_0x35fa36,_0x532377,_0x126593,_0x143e1b,_0x3b3fff=dbCoinResults[_0x547b45(0x1bc)](_0x547b45(0x2f5))['find']({'coin':_0x4e137a['coin']})['value'](),_0x2d8f4f=![];_0x3b3fff&&Object[_0x547b45(0x18e)](_0x3b3fff)['forEach'](([_0x118c8f,_0x568e30])=>{if(_0x568e30==null)_0x2d8f4f=!![];});(!_0x3b3fff||_0x2d8f4f)&&(await initCoinResults(_0x4e137a[_0x547b45(0x241)]),_0x3b3fff=dbCoinResults[_0x547b45(0x1bc)](_0x547b45(0x2f5))['find']({'coin':_0x4e137a[_0x547b45(0x241)]})[_0x547b45(0x2bf)]());_0x4e137a[_0x547b45(0x1d6)]&&(_0x143e1b={'filled':_0x4e137a['filled']*_0x4e137a[_0x547b45(0x2a1)],'amount':_0x4e137a[_0x547b45(0x20d)]*_0x4e137a[_0x547b45(0x2a1)],'side':_0x4e137a['side']==_0x547b45(0x1ea)?_0x547b45(0x2df):_0x547b45(0x1ea),'price':0x1/_0x4e137a[_0x547b45(0x2a1)]},_0x4e137a={..._0x4e137a,..._0x143e1b});_0x9368e8?_0x434ffc=_0x4e137a[_0x547b45(0x1e2)]=='buy'?_0x3b3fff[_0x547b45(0x1d3)]+_0x4e137a['filled']:_0x3b3fff[_0x547b45(0x1d3)]-_0x4e137a[_0x547b45(0x20d)]:_0x434ffc=await getCoinNumber(_0x4e137a[_0x547b45(0x241)]);if(_0x4e137a[_0x547b45(0x2ed)]&&_0x4e137a[_0x547b45(0x2ed)][_0x547b45(0x24a)]==config[_0x547b45(0x29f)])_0x3bb7cc=Number(_0x4e137a['fee']['cost']);else{if(_0x4e137a['fee']&&_0x4e137a[_0x547b45(0x2ed)]['currency']==_0x547b45(0x307)&&!_0x9368e8&&config['basecoin']!=_0x547b45(0x318))_0x3bb7cc=Number(_0x4e137a[_0x547b45(0x2ed)][_0x547b45(0x1ad)])*gTicker['BNB'+config['basecoin']];else _0x3bb7cc=defaultFee*_0x4e137a[_0x547b45(0x20d)]*_0x4e137a[_0x547b45(0x2a1)];}_0x4e137a[_0x547b45(0x1e2)]==_0x547b45(0x2df)?(_0x35fa36=_0x434ffc!=0x0?(_0x3b3fff[_0x547b45(0x2fa)]*_0x3b3fff[_0x547b45(0x1d3)]+_0x4e137a[_0x547b45(0x2a1)]*(_0x434ffc-_0x3b3fff[_0x547b45(0x1d3)])+_0x3bb7cc)/_0x434ffc:0x0,_0x532377=_0x3b3fff[_0x547b45(0x279)]):(_0x35fa36=_0x434ffc!=0x0?(_0x3b3fff[_0x547b45(0x2fa)]*_0x3b3fff[_0x547b45(0x1d3)]-_0x4e137a['price']*(_0x3b3fff[_0x547b45(0x1d3)]-_0x434ffc)+_0x3bb7cc)/_0x434ffc:0x0,_0x532377=_0x3b3fff['realized']+(_0x4e137a[_0x547b45(0x2a1)]-_0x3b3fff[_0x547b45(0x2fa)])*_0x4e137a['filled']);_0x126593=(_0x4e137a[_0x547b45(0x2a1)]-_0x35fa36-_0x3bb7cc/_0x4e137a[_0x547b45(0x20d)])*_0x434ffc;let _0x3b94c1={'coin':_0x4e137a['coin'],'number':_0x434ffc,'breakeven':formatResult(_0x35fa36,0x8),'realized':formatResult(_0x532377,0x8),'unrealized':formatResult(_0x126593,0x8),'fees':formatResult(_0x3b3fff['fees']+_0x3bb7cc,0x8),'sells':_0x4e137a['side']==_0x547b45(0x1ea)?_0x3b3fff[_0x547b45(0x244)]+0x1:_0x3b3fff[_0x547b45(0x244)],'buys':_0x4e137a[_0x547b45(0x1e2)]==_0x547b45(0x2df)?_0x3b3fff[_0x547b45(0x18f)]+0x1:_0x3b3fff[_0x547b45(0x18f)]};dbCoinResults['get']('coins')[_0x547b45(0x322)]({'coin':_0x4e137a[_0x547b45(0x241)]})[_0x547b45(0x186)](_0x3b94c1)['write']();if(!_0x9368e8){if(_0x4e137a[_0x547b45(0x2ed)]&&_0x4e137a[_0x547b45(0x2ed)]['currency']==_0x547b45(0x307)){const _0x4ce65a=currentCoins[_0x547b45(0x322)](_0x3022d7=>_0x3022d7[_0x547b45(0x241)]==_0x547b45(0x307));if(_0x4ce65a){let _0x493743=dbCoinResults[_0x547b45(0x1bc)](_0x547b45(0x2f5))[_0x547b45(0x322)]({'coin':_0x547b45(0x307)})[_0x547b45(0x2bf)]();_0x3b94c1={..._0x493743,'number':_0x4ce65a['number']},dbCoinResults[_0x547b45(0x1bc)](_0x547b45(0x2f5))[_0x547b45(0x322)]({'coin':_0x547b45(0x307)})[_0x547b45(0x186)](_0x3b94c1)[_0x547b45(0x194)]();}}}}async function placeOrder(_0x5a388b){const _0x4f6f14=_0x2cc052,_0x3b00d8=config['ordertype']==_0x4f6f14(0x1cc)?'market':'limit';if(lockOrders==ORDERS[_0x4f6f14(0x286)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x4f6f14(0x1ac)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState='initial';let _0x360bf9=![];lastOrders=[];for(const _0x44fbf2 of _0x5a388b){let _0x20227d,_0x46ab13,_0x2afcaa,_0x54f485,_0x42f61c,_0x2d5377=_0x44fbf2[_0x4f6f14(0x256)];try{const _0x26a2a9=await exchange[_0x4f6f14(0x25c)](_0x2d5377);_0x20227d=_0x44fbf2[_0x4f6f14(0x1d6)]?0x1/_0x44fbf2[_0x4f6f14(0x1f4)]:_0x44fbf2[_0x4f6f14(0x1f4)],_0x46ab13=_0x26a2a9[_0x4f6f14(0x2a3)],_0x2afcaa=_0x26a2a9[_0x4f6f14(0x24b)];_0x44fbf2['reverse']?(_0x54f485=_0x44fbf2['side']=='buy'?_0x4f6f14(0x1ea):_0x4f6f14(0x2df),_0x42f61c=Math[_0x4f6f14(0x2c8)](_0x44fbf2[_0x4f6f14(0x30c)])/_0x20227d):(_0x54f485=_0x44fbf2['side'],_0x42f61c=Math[_0x4f6f14(0x2c8)](_0x44fbf2[_0x4f6f14(0x30c)]));_0x3b00d8==_0x4f6f14(0x2d0)&&(config[_0x4f6f14(0x2f6)]==_0x4f6f14(0x1b4)&&(_0x20227d=_0x54f485==_0x4f6f14(0x2df)?_0x46ab13:_0x2afcaa),config[_0x4f6f14(0x2f6)]==_0x4f6f14(0x2fc)&&(_0x20227d=_0x54f485==_0x4f6f14(0x2df)?_0x2afcaa:_0x46ab13));_0x42f61c=formatResult(_0x42f61c,0x8),_0x20227d=formatResult(_0x20227d,0x8);const _0x3602b5=_0x54f485=='sell'?config['emojisell']?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x4f6f14(0x1cd)]?String['fromCodePoint']('0x'+config[_0x4f6f14(0x1cd)])+'\x20':'',_0x26b8ad=_0x3b00d8==_0x4f6f14(0x1cc)?'Market':config[_0x4f6f14(0x2f6)]==_0x4f6f14(0x1b4)?_0x4f6f14(0x2b0):_0x4f6f14(0x29a),_0x5e6edc=(Math[_0x4f6f14(0x1af)](Math[_0x4f6f14(0x277)]()*0x35a4e900)+0x5f5e100)[_0x4f6f14(0x2b3)]();lastOrders['push']({'customId':_0x5e6edc,'symbol':_0x2d5377,'coin':_0x44fbf2[_0x4f6f14(0x241)],'amount':_0x42f61c,'price':_0x20227d,'side':_0x54f485,'reverse':_0x44fbf2[_0x4f6f14(0x1d6)],'filled':0x0});if(_0x3b00d8==_0x4f6f14(0x1cc))logHistory('order',''+_0x3602b5+_0x26b8ad+_0x4f6f14(0x1b1)+_0x2d5377+'\x20'+_0x54f485+'\x20#'+formatResult(_0x42f61c,0x8)+'\x20@'+formatResult(_0x20227d,0x8));else logHistory(_0x4f6f14(0x1d8),''+_0x3602b5+_0x26b8ad+'\x20order:\x20'+_0x2d5377+'\x20'+_0x54f485+'\x20#'+formatResult(_0x42f61c,0x8)+'\x20@'+formatResult(_0x20227d,0x8));let _0x5653c9;_0x3b00d8=='market'?_0x54f485==_0x4f6f14(0x2df)&&[_0x4f6f14(0x181),'Bitget','Cex',_0x4f6f14(0x283),_0x4f6f14(0x231)][_0x4f6f14(0x25d)](config[_0x4f6f14(0x2a6)])?_0x5653c9=await exchange[_0x4f6f14(0x1c8)](_0x2d5377,_0x3b00d8,_0x54f485,_0x42f61c,_0x20227d):_0x5653c9=await exchange[_0x4f6f14(0x1c8)](_0x2d5377,_0x3b00d8,_0x54f485,_0x42f61c,undefined):_0x5653c9=await exchange[_0x4f6f14(0x1c8)](_0x2d5377,_0x3b00d8,_0x54f485,_0x42f61c,_0x20227d);logger['debug'](_0x4f6f14(0x2d6)+_0x5653c9['id']+'\x20|\x20Custom\x20ID:\x20'+_0x5e6edc);const _0x9ed475=lastOrders[_0x4f6f14(0x2ff)]-0x1;if(_0x9ed475>=0x0&&lastOrders[_0x9ed475][_0x4f6f14(0x328)]==_0x5e6edc){lastOrders[_0x9ed475][_0x4f6f14(0x236)]=_0x5653c9['id'];if(_0x5653c9[_0x4f6f14(0x204)])lastOrders[_0x9ed475][_0x4f6f14(0x204)]=_0x5653c9[_0x4f6f14(0x204)];if(_0x5653c9[_0x4f6f14(0x2a1)])lastOrders[_0x9ed475][_0x4f6f14(0x2a1)]=_0x5653c9[_0x4f6f14(0x2a1)];lastOrders[_0x9ed475][_0x4f6f14(0x2ed)]=_0x5653c9[_0x4f6f14(0x2ed)];}if(config[_0x4f6f14(0x27d)]!=0x0){let _0x1bcda6=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x1bcda6=cooldownTracker[_0x4f6f14(0x2fb)]();const _0x62f794=getTimeStamp();cooldownTracker[_0x4f6f14(0x280)](_0x62f794);if(_0x1bcda6){const _0x16ea89=fns[_0x4f6f14(0x238)](new Date(_0x62f794),new Date(_0x1bcda6));if(_0x16ea89<cooldownInterval){logHistory('error',_0x4f6f14(0x2b7)+config[_0x4f6f14(0x27d)]+_0x4f6f14(0x222)+cooldownInterval/0x3c+_0x4f6f14(0x299)+cooldownPeriod/(0xe10*0x3e8)+_0x4f6f14(0x314)),coolingDown=!![];break;}}}}catch(_0x833ed6){if(_0x833ed6['toString']()[_0x4f6f14(0x25d)](_0x4f6f14(0x278)))lastOrders=lastOrders[_0x4f6f14(0x274)](_0x4b1b5e=>_0x4b1b5e[_0x4f6f14(0x256)]!=_0x2d5377),logHistory(_0x4f6f14(0x1fd),_0x4f6f14(0x31c)+_0x2d5377),_0x360bf9=!![];else{if(_0x833ed6[_0x4f6f14(0x2b3)]()[_0x4f6f14(0x25d)](_0x4f6f14(0x1d0)))lastOrders=lastOrders[_0x4f6f14(0x274)](_0x45a991=>_0x45a991[_0x4f6f14(0x256)]!=_0x2d5377),logHistory(_0x4f6f14(0x1fd),_0x4f6f14(0x205)+_0x2d5377),_0x360bf9=!![];else{if(_0x833ed6[_0x4f6f14(0x2b3)]()['includes'](_0x4f6f14(0x208)))lastOrders=lastOrders[_0x4f6f14(0x274)](_0x10c2ff=>_0x10c2ff[_0x4f6f14(0x256)]!=_0x2d5377),logHistory('error',_0x4f6f14(0x1f6)+_0x2d5377),logger[_0x4f6f14(0x2d5)](_0x833ed6),_0x360bf9=!![];else _0x833ed6[_0x4f6f14(0x2b3)]()[_0x4f6f14(0x25d)](_0x4f6f14(0x29e))?(lastOrders=lastOrders['filter'](_0x587db7=>_0x587db7[_0x4f6f14(0x256)]!=_0x2d5377),logHistory(_0x4f6f14(0x1fd),_0x4f6f14(0x31c)+_0x2d5377),_0x360bf9=!![]):(lastOrders=lastOrders[_0x4f6f14(0x274)](_0xd4f076=>_0xd4f076[_0x4f6f14(0x256)]!=_0x2d5377),await handleError(_0x833ed6,_0x4f6f14(0x288),_0x2d5377));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x52e545=config[_0x4f6f14(0x2f6)]==_0x4f6f14(0x1cc)?validateOrderTimeout*0x3c*0x3e8:config[_0x4f6f14(0x193)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x52e545);}else unlockOrders();_0x360bf9&&config[_0x4f6f14(0x1d5)]&&(logHistory(_0x4f6f14(0x1fd),_0x4f6f14(0x30b)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4f6f14(0x21b),_0x4f6f14(0x292)));}else{if(coolingDown)!config[_0x4f6f14(0x1d5)]&&logHistory(_0x4f6f14(0x1fd),_0x4f6f14(0x2d4));else lockOrders!=ORDERS[_0x4f6f14(0x286)]&&(!config[_0x4f6f14(0x1d5)]&&(config[_0x4f6f14(0x2f6)]=='market'?logHistory('error',_0x4f6f14(0x22a)):logHistory(_0x4f6f14(0x1fd),_0x4f6f14(0x27c))));}}function persistOpenOrders(_0x193719){const _0x22a8fe=_0x2cc052,_0x2886f9={...config,'openOrders':_0x193719};let _0x46bba9=dbConfig[_0x22a8fe(0x1bc)](_0x22a8fe(0x264))[_0x22a8fe(0x322)]({'botID':botID})[_0x22a8fe(0x2bf)]();_0x46bba9&&dbConfig['get'](_0x22a8fe(0x264))[_0x22a8fe(0x322)]({'botID':botID})[_0x22a8fe(0x186)](_0x2886f9)[_0x22a8fe(0x194)]();}function restoreOrders(){const _0xe35ebb=_0x2cc052;let _0x102237;config['openOrders']&&allOpenOrders[_0xe35ebb(0x261)](_0x420706=>{const _0x320e65=_0xe35ebb,_0x1d843a=config['openOrders'][_0x320e65(0x322)](_0x4b886d=>_0x4b886d['orderId']==_0x420706['id']);_0x1d843a&&(lastOrders[_0x320e65(0x280)](_0x1d843a),_0x102237=_0x420706['timestamp']);});if(lastOrders[_0xe35ebb(0x2ff)]>0x0){lockOrders=ORDERS[_0xe35ebb(0x1ac)],validateOrdersState=_0xe35ebb(0x1c5),allOrdersPlaced=!![];const _0x42bf86=new Date()[_0xe35ebb(0x1c6)](),_0xcb26a3=config[_0xe35ebb(0x2f6)]==_0xe35ebb(0x1cc)?validateOrderTimeout*0x3c*0x3e8:config[_0xe35ebb(0x193)]*0x3c*0x3e8;if(_0x102237+_0xcb26a3>_0x42bf86){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x31cafd=_0xe35ebb;validateOrders(_0x31cafd(0x27b));},_0x102237+_0xcb26a3-_0x42bf86);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x2efa56=_0x2cc052;if(!coinsLoaded){process[_0x2efa56(0x301)]({'telegrammsg':_0x2efa56(0x1f9)},_0x487491=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x2c6a87='';if(config[_0x2efa56(0x1d7)])_0x2c6a87='<b>'+config[_0x2efa56(0x304)]+_0x2efa56(0x224);else _0x2c6a87=_0x2efa56(0x1cb)+botID+_0x2efa56(0x224);const _0xe3698e=getKPIs(_0x2efa56(0x29f)),_0x43a19f=getKPIs('fiat',config[_0x2efa56(0x17d)]),_0x461ec5=getKPIs(_0x2efa56(0x1f5)),_0x342ab0=getKPIs(_0x2efa56(0x2c3),config[_0x2efa56(0x17d)]);_0x2c6a87+='<pre>',_0x2c6a87+=_0xe3698e[_0x2efa56(0x2fd)]+_0x2efa56(0x310)+_0xe3698e['value']+'\x0a',_0x2c6a87+=_0xe3698e[_0x2efa56(0x28b)]+':\x20'+_0xe3698e['change']+'%\x0a',_0x2c6a87+=_0x43a19f[_0x2efa56(0x2fd)]+'\x20:\x20'+_0x43a19f['value']+'\x0a',_0x2c6a87+=_0x43a19f[_0x2efa56(0x28b)]+':\x20'+_0x43a19f[_0x2efa56(0x246)]+'%\x0a',_0x2c6a87+=_0x461ec5[_0x2efa56(0x2fd)]+':\x20'+_0x461ec5[_0x2efa56(0x2bf)]+'\x20('+config[_0x2efa56(0x29f)]+')\x0a',_0x2c6a87+=_0x461ec5[_0x2efa56(0x28b)]+':\x20'+_0x461ec5['change']+_0x2efa56(0x220)+config[_0x2efa56(0x29f)]+')\x0a',_0x2c6a87+=_0x342ab0[_0x2efa56(0x2fd)]+':\x20'+_0x342ab0['value']+'\x20('+config[_0x2efa56(0x17d)]+')\x0a',_0x2c6a87+=_0x342ab0[_0x2efa56(0x28b)]+':\x20'+_0x342ab0[_0x2efa56(0x246)]+'%\x20('+config['fiat']+')\x0a',_0x2c6a87+='</pre>',process[_0x2efa56(0x301)]({'telegrammsg':_0x2c6a87},_0x37d4d0=>{});}async function sendPortfolioTelegram(){const _0x69596d=_0x2cc052;if(!coinsLoaded||!currentCoins[0x0][_0x69596d(0x2ca)]){process['send']({'telegrammsg':_0x69596d(0x1f9)},_0x95f16d=>{});return;}let _0x433a6f='';if(config['showname'])_0x433a6f=_0x69596d(0x23b)+config[_0x69596d(0x304)]+_0x69596d(0x249);else _0x433a6f=_0x69596d(0x1cb)+botID+_0x69596d(0x249);_0x433a6f+='<pre>',_0x433a6f+=_0x69596d(0x1a1),_0x433a6f+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x433a6f+='-------------------------------\x0a',currentCoins[_0x69596d(0x261)](_0x502c6d=>{const _0x44974e=_0x69596d;_0x433a6f+=_0x502c6d[_0x44974e(0x241)][_0x44974e(0x2de)](0x7)+'|\x20'+formatPad(_0x502c6d['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x502c6d['target'],0x2,0x6)+'|\x20'+formatPad(_0x502c6d[_0x44974e(0x329)]*0x64,0x2,0x6)+'\x0a';}),_0x433a6f+=_0x69596d(0x2c0),process[_0x69596d(0x301)]({'telegrammsg':_0x433a6f},_0x367f5c=>{});}function formatPad(_0x4dc2ac,_0x5bac0a,_0x38d2c7){const _0x45f5d8=_0x2cc052,_0x5bdc2b=formatResultString(_0x4dc2ac,_0x5bac0a);return _0x5bdc2b?_0x5bdc2b['padStart'](_0x38d2c7):''[_0x45f5d8(0x2be)](_0x38d2c7);}function logHistory(_0xa6df85,_0x5978c7,_0x3397fc=''){const _0x4fd33c=_0x2cc052;logger['full'](''+_0x5978c7);let _0x212dee={'time':getTimeStamp(),'type':_0xa6df85,'event':_0x5978c7};dbLogs[_0x4fd33c(0x1bc)](_0x4fd33c(0x332))['push'](_0x212dee)[_0x4fd33c(0x194)]();if(_0x3397fc=='')_0x3397fc=_0x5978c7;proxyEmit(_0x4fd33c(0x32a),{'log':_0x212dee,'summary':_0x3397fc}),process[_0x4fd33c(0x301)]({'telegram':{..._0x212dee,'botname':config[_0x4fd33c(0x304)],'showname':config[_0x4fd33c(0x1d7)]}},_0x3a5ed5=>{});}function emitHistory(_0x5bcdd9={}){const _0x1576ae=_0x2cc052;Object[_0x1576ae(0x1c7)](_0x5bcdd9)[_0x1576ae(0x2ff)]==0x0&&(_0x5bcdd9={'type':['order','event'],'event':'','page':0x1});if(_0x5bcdd9['type'][_0x1576ae(0x25d)](_0x1576ae(0x32a)))_0x5bcdd9['type']['splice'](_0x5bcdd9[_0x1576ae(0x284)]['indexOf'](_0x1576ae(0x32a)),0x1,_0x1576ae(0x1fd),'warning',_0x1576ae(0x21b));if(dbLogs['has'](_0x1576ae(0x332))[_0x1576ae(0x2bf)]()){let _0x2d87f2=dbLogs['get'](_0x1576ae(0x332))['filter'](_0x446d02=>{const _0x5eabfd=_0x1576ae;if(_0x5bcdd9[_0x5eabfd(0x284)]['length']==0x0)return![];else return _0x5bcdd9['type'][_0x5eabfd(0x25d)](_0x446d02[_0x5eabfd(0x284)]);})[_0x1576ae(0x274)](_0x5831e7=>{const _0x3a09db=_0x1576ae;if(_0x5bcdd9[_0x3a09db(0x32a)]=='')return!![];else return _0x5831e7[_0x3a09db(0x32a)][_0x3a09db(0x32f)]()[_0x3a09db(0x25d)](_0x5bcdd9['event'][_0x3a09db(0x32f)]());})[_0x1576ae(0x1f3)](_0x1576ae(0x24c)),_0x5dc2da=_0x2d87f2['value']()[_0x1576ae(0x2ff)];_0x2d87f2=_0x2d87f2[_0x1576ae(0x1d6)]()[_0x1576ae(0x297)]((_0x5bcdd9[_0x1576ae(0x2c2)]-0x1)*logPageSize,_0x5bcdd9[_0x1576ae(0x2c2)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit('event-history',{'logs':_0x2d87f2,'total':_0x5dc2da});}else proxyEmit(_0x1576ae(0x1bb),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1e309c){const _0xc7805c=_0x2cc052;if(dbLogs[_0xc7805c(0x1fe)](_0xc7805c(0x332))['value']()){const _0x4be118=dbLogs[_0xc7805c(0x1bc)](_0xc7805c(0x332))[_0xc7805c(0x1f3)](_0xc7805c(0x24c))[_0xc7805c(0x274)](_0x529ecd=>{return _0x529ecd['type']=='order';})[_0xc7805c(0x2bf)]();dbLogs[_0xc7805c(0x1bc)]('logs')[_0xc7805c(0x1bf)]()['write'](),dbLogs[_0xc7805c(0x1bc)](_0xc7805c(0x332))[_0xc7805c(0x186)](_0x4be118)[_0xc7805c(0x194)](),emitHistory(_0x1e309c);}}async function pauseBot(_0x580040=pauseBotIntervalShort,_0xec5c7c){const _0x526165=_0x2cc052,_0x207511=new Date()[_0x526165(0x1c6)]();if(!lastErrorShown||_0x207511-lastErrorShown>=_0x580040){lastErrorShown=_0x207511;!lastBotPause?(lastBotPause=_0x207511,consecutivePauses=0x1):(_0x207511-lastBotPause-_0x580040<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>maxPauseRetries&&(logHistory(_0x526165(0x1fd),_0xec5c7c+pauseBotMsg),_0x580040=pauseBotInterval)):consecutivePauses=0x1,lastBotPause=_0x207511);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x580040),botPaused=![],reset(!![]);}}}async function killBot(){const _0x6c5f5b=_0x2cc052;botPaused=!![],await sleep(0x3e8),process[_0x6c5f5b(0x301)]({'stop':_0x6c5f5b(0x1e0)},_0x295e83=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x52d43c,_0x4a44ed){const _0x4ab372=_0x2cc052;if(botPaused)return;const _0x2fef3a=config['exchange']||_0x4ab372(0x2d7);if(_0x4a44ed)logger[_0x4ab372(0x2d5)]('Exception\x20thrown\x20in\x20'+_0x4a44ed);const _0x4c8d00=()=>{const _0x5aabc5=_0x4ab372;loading[_0x5aabc5(0x1fd)]=!![],emitLoadingProgress();};if(_0x52d43c['toString']()[_0x4ab372(0x25d)](_0x4ab372(0x207)))logHistory('error',_0x2fef3a+_0x4ab372(0x230)),_0x4c8d00();else{if(_0x52d43c[_0x4ab372(0x2b3)]()['includes'](_0x4ab372(0x191)))logHistory(_0x4ab372(0x1fd),_0x2fef3a+_0x4ab372(0x323)),_0x4c8d00();else _0x52d43c[_0x4ab372(0x2b3)]()[_0x4ab372(0x25d)](_0x4ab372(0x2dd))?(logHistory(_0x4ab372(0x1fd),_0x2fef3a+_0x4ab372(0x2ba)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x4c8d00()):await handleError(_0x52d43c,null);}}async function handleError(_0x5847fa,_0x15b1ac,_0x2f0f60=''){const _0x45ee86=_0x2cc052;if(botPaused)return;let _0x171eaf;const _0x5df82e=config[_0x45ee86(0x2a6)]||_0x45ee86(0x2d7);if(_0x15b1ac)logger[_0x45ee86(0x2d5)](_0x45ee86(0x2cd)+_0x15b1ac);if(_0x5847fa[_0x45ee86(0x2b3)]()['includes']('DDoSProtection'))_0x171eaf=_0x5df82e+_0x45ee86(0x23d),logger[_0x45ee86(0x2d5)](_0x171eaf+_0x45ee86(0x23c),_0x5847fa[_0x45ee86(0x2b3)]()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa[_0x45ee86(0x2b3)]()[_0x45ee86(0x25d)](_0x45ee86(0x321)))_0x171eaf=_0x5df82e+_0x45ee86(0x2ac),logger[_0x45ee86(0x2d5)](_0x171eaf+_0x45ee86(0x23c),_0x5847fa[_0x45ee86(0x2b3)]()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa[_0x45ee86(0x2b3)]()[_0x45ee86(0x25d)](_0x45ee86(0x1e6))||_0x5847fa['toString']()[_0x45ee86(0x25d)](_0x45ee86(0x26e)))_0x171eaf=_0x5df82e+_0x45ee86(0x31e),logger['debug'](_0x171eaf+_0x45ee86(0x23c),_0x5847fa['toString']()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa['toString']()[_0x45ee86(0x25d)](_0x45ee86(0x21a)))_0x171eaf=_0x5df82e+_0x45ee86(0x18c),logger[_0x45ee86(0x2d5)](_0x171eaf+_0x45ee86(0x23c),_0x5847fa[_0x45ee86(0x2b3)]()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa['toString']()[_0x45ee86(0x25d)](_0x45ee86(0x313)))_0x171eaf=_0x5df82e+_0x45ee86(0x1b7),logger[_0x45ee86(0x2d5)](_0x171eaf+_0x45ee86(0x23c),_0x5847fa[_0x45ee86(0x2b3)]()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa[_0x45ee86(0x2b3)]()[_0x45ee86(0x32f)]()['includes'](_0x45ee86(0x25e))||_0x5847fa['toString']()[_0x45ee86(0x32f)]()[_0x45ee86(0x25d)](_0x45ee86(0x2bc)))_0x171eaf=_0x45ee86(0x30e),logger[_0x45ee86(0x2d5)](_0x171eaf+_0x45ee86(0x23c),_0x5847fa[_0x45ee86(0x2b3)]()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa[_0x45ee86(0x2b3)]()[_0x45ee86(0x25d)](_0x45ee86(0x217)))_0x171eaf=_0x5df82e+_0x45ee86(0x22c),logger['debug'](_0x171eaf+_0x45ee86(0x23c),_0x5847fa['toString']()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa instanceof ccxt[_0x45ee86(0x270)])_0x171eaf=_0x5df82e+_0x45ee86(0x2c4),logger[_0x45ee86(0x2d5)](_0x171eaf+_0x45ee86(0x23c),_0x5847fa[_0x45ee86(0x2b3)]()),await pauseBot(undefined,_0x171eaf);else{if(_0x5847fa[_0x45ee86(0x2b3)]()[_0x45ee86(0x25d)](_0x45ee86(0x207)))logHistory(_0x45ee86(0x1fd),_0x5df82e+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x45ee86(0x1fd),_0x45ee86(0x2d2)),await killBot();else{if(_0x5847fa['toString']()['includes'](_0x45ee86(0x191)))logHistory(_0x45ee86(0x1fd),_0x5df82e+_0x45ee86(0x295)),logHistory(_0x45ee86(0x1fd),_0x45ee86(0x2d2)),await killBot();else{if(_0x5847fa['toString']()[_0x45ee86(0x25d)](_0x45ee86(0x2dd)))logHistory(_0x45ee86(0x1fd),_0x5df82e+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error',_0x45ee86(0x2d2)),await killBot();else{if(_0x5847fa[_0x45ee86(0x2b3)]()[_0x45ee86(0x25d)]('PermissionDenied'))logHistory(_0x45ee86(0x1fd),_0x5df82e+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions'),logHistory(_0x45ee86(0x1fd),_0x45ee86(0x2d2)),await killBot();else{if(_0x5847fa[_0x45ee86(0x2b3)]()[_0x45ee86(0x25d)](_0x45ee86(0x2ef)))logHistory(_0x45ee86(0x1fd),_0x45ee86(0x2b5)+_0x2f0f60);else{if(_0x5847fa instanceof ccxt['ExchangeError']){logHistory(_0x45ee86(0x1fd),_0x5df82e+_0x45ee86(0x1f0)),logger[_0x45ee86(0x2d5)](_0x45ee86(0x26f),_0x5847fa);if(_0x2f0f60)logger[_0x45ee86(0x2d5)]('Symbol(s):\x20'+_0x2f0f60);}else{_0x171eaf=_0x45ee86(0x1e4),logger[_0x45ee86(0x2d5)](_0x171eaf+_0x45ee86(0x23c),_0x5847fa);if(_0x2f0f60)logger[_0x45ee86(0x2d5)]('Symbol(s):\x20'+_0x2f0f60);await pauseBot(undefined,_0x171eaf);}}}}}}}}}}}}}}}async function withRetry(_0x32735c,_0x347cb8){const _0x36bc51=_0x2cc052;let _0x1ac096=![],_0x45ffa5=0x0,_0x279b84,_0x52ae15;while(_0x45ffa5<maxRetries){try{_0x279b84=await _0x347cb8();break;}catch(_0x6e56e3){_0x52ae15=_0x6e56e3,!_0x1ac096?(_0x1ac096=!![],logger[_0x36bc51(0x2d5)](_0x36bc51(0x180)+_0x32735c+':',_0x6e56e3[_0x36bc51(0x2b3)]())):await sleep(retryInterval);}_0x45ffa5++;}if(_0x45ffa5==0x0)return _0x279b84;if(_0x45ffa5>=maxRetries)throw _0x52ae15;else return logger[_0x36bc51(0x2d5)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x45ffa5+_0x36bc51(0x263)),_0x279b84;}function formatResult(_0x10a128,_0x2e1fee){const _0x479913=_0x2cc052;return parseFloat(_0x10a128[_0x479913(0x1c9)](_0x2e1fee));}function _0x1073(_0x59462c,_0x20239f){const _0x3d7aeb=_0x5e88();return _0x1073=function(_0x1fb81c,_0x42cd34){_0x1fb81c=_0x1fb81c-0x17a;let _0x5e88c4=_0x3d7aeb[_0x1fb81c];return _0x5e88c4;},_0x1073(_0x59462c,_0x20239f);}function formatResultTruncate(_0x129ab1,_0x314acb){const _0x201116=_0x2cc052;let _0x3efc74=formatResultString(_0x129ab1,0xa),_0x56bd38=_0x3efc74[_0x201116(0x1ef)]('.');return _0x56bd38!=-0x1&&(_0x3efc74=_0x3efc74[_0x201116(0x297)](0x0,_0x56bd38+_0x314acb+0x1)),Number(_0x3efc74);}function formatResultString(_0x3459cd,_0x952505){const _0x5026ed=_0x2cc052;let _0xf8b625;if(!(''+_0x3459cd)[_0x5026ed(0x25d)]('e'))_0xf8b625=+(Math['round'](_0x3459cd+'e+'+_0x952505)+'e-'+_0x952505);else{let _0x26e802=(''+_0x3459cd)[_0x5026ed(0x225)]('e'),_0x3a6581='';+_0x26e802[0x1]+_0x952505>0x0&&(_0x3a6581='+'),_0xf8b625=+(Math[_0x5026ed(0x302)](+_0x26e802[0x0]+'e'+_0x3a6581+(+_0x26e802[0x1]+_0x952505))+'e-'+_0x952505);}return Number(_0xf8b625)[_0x5026ed(0x1c9)](_0x952505);}function getServerTime(){const _0x44f0a6=_0x2cc052,_0x3d5410=new Date();return _0x3d5410[_0x44f0a6(0x185)]()+'/'+(_0x3d5410[_0x44f0a6(0x1db)]()+0x1)[_0x44f0a6(0x2b3)]()[_0x44f0a6(0x2be)](0x2,'0')+'/'+_0x3d5410['getDate']()['toString']()['padStart'](0x2,'0')+'\x20'+_0x3d5410[_0x44f0a6(0x182)]()[_0x44f0a6(0x2b3)]()[_0x44f0a6(0x2be)](0x2,'0')+':'+_0x3d5410[_0x44f0a6(0x1c2)]()[_0x44f0a6(0x2b3)]()['padStart'](0x2,'0')+':'+_0x3d5410[_0x44f0a6(0x268)]()[_0x44f0a6(0x2b3)]()[_0x44f0a6(0x2be)](0x2,'0');}function getTimeStamp(){const _0x2265cd=_0x2cc052,_0x2ceed0=shiftedTime();return _0x2ceed0['getFullYear']()+'/'+(_0x2ceed0[_0x2265cd(0x1db)]()+0x1)[_0x2265cd(0x2b3)]()['padStart'](0x2,'0')+'/'+_0x2ceed0[_0x2265cd(0x1b3)]()[_0x2265cd(0x2b3)]()[_0x2265cd(0x2be)](0x2,'0')+'\x20'+_0x2ceed0[_0x2265cd(0x182)]()[_0x2265cd(0x2b3)]()[_0x2265cd(0x2be)](0x2,'0')+':'+_0x2ceed0[_0x2265cd(0x1c2)]()['toString']()[_0x2265cd(0x2be)](0x2,'0')+':'+_0x2ceed0[_0x2265cd(0x268)]()[_0x2265cd(0x2b3)]()[_0x2265cd(0x2be)](0x2,'0');}function getDate(){const _0x475a0c=_0x2cc052,_0x4d7b9e=shiftedTime();return _0x4d7b9e[_0x475a0c(0x185)]()+'/'+(_0x4d7b9e['getMonth']()+0x1)[_0x475a0c(0x2b3)]()['padStart'](0x2,'0')+'/'+_0x4d7b9e[_0x475a0c(0x1b3)]()[_0x475a0c(0x2b3)]()[_0x475a0c(0x2be)](0x2,'0');}function getHour(){const _0x265a9f=_0x2cc052,_0x203aa3=shiftedTime();return _0x203aa3[_0x265a9f(0x182)]()[_0x265a9f(0x2b3)]()[_0x265a9f(0x2be)](0x2,'0');}function sleep(_0xe9268e){return new Promise(_0x37e627=>setTimeout(_0x37e627,_0xe9268e));}function shiftedTime(){const _0x5eaed6=_0x2cc052,_0x4be2c6=new Date();let _0x68ec64=_0x4be2c6;if(config&&config[_0x5eaed6(0x245)]!==0x0)_0x68ec64=fns['add'](_0x4be2c6,{'hours':config[_0x5eaed6(0x245)]});return _0x68ec64;}function timer(_0x51776a){const _0x52559e=_0x2cc052,_0x56775e=new Date();!lasttime?console['log'](getTimeStamp()+':\x20timer\x20>',_0x51776a,_0x56775e):console[_0x52559e(0x1f7)](getTimeStamp()+_0x52559e(0x2c6),_0x51776a,(_0x56775e-lasttime)/0x3e8),lasttime=_0x56775e;}