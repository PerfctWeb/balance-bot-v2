const _0x5b879c=_0x5f2f;(function(_0x1a23f8,_0x331870){const _0x124f73=_0x5f2f,_0x483db8=_0x1a23f8();while(!![]){try{const _0x41cd99=-parseInt(_0x124f73(0x1aa))/0x1+parseInt(_0x124f73(0xaf))/0x2+parseInt(_0x124f73(0xf1))/0x3*(-parseInt(_0x124f73(0xd5))/0x4)+parseInt(_0x124f73(0x125))/0x5*(parseInt(_0x124f73(0xab))/0x6)+-parseInt(_0x124f73(0x13f))/0x7+parseInt(_0x124f73(0x203))/0x8+parseInt(_0x124f73(0xb7))/0x9*(parseInt(_0x124f73(0x161))/0xa);if(_0x41cd99===_0x331870)break;else _0x483db8['push'](_0x483db8['shift']());}catch(_0xd900fa){_0x483db8['push'](_0x483db8['shift']());}}}(_0x590b,0xc6625));const _0x326c98=function(){let _0x3527fd=!![];return function(_0x51a8fc,_0x5a00b8){const _0x251d2b=_0x3527fd?function(){if(_0x5a00b8){const _0x14cc9a=_0x5a00b8['apply'](_0x51a8fc,arguments);return _0x5a00b8=null,_0x14cc9a;}}:function(){};return _0x3527fd=![],_0x251d2b;};}(),_0x461cb8=_0x326c98(this,function(){const _0x1d5672=_0x5f2f;return _0x461cb8['toString']()[_0x1d5672(0x158)](_0x1d5672(0x1e4))['toString']()[_0x1d5672(0x12f)](_0x461cb8)['search'](_0x1d5672(0x1e4));});_0x461cb8();'use strict';const ccxt=require(_0x5b879c(0x1de))[_0x5b879c(0x1e1)],low=require('lowdb'),FileSync=require(_0x5b879c(0x13c)),fs=require('fs'),fns=require(_0x5b879c(0x196)),Crypt=require(_0x5b879c(0x153))[_0x5b879c(0x1ad)],util=require(_0x5b879c(0x1c3)),argv=require(_0x5b879c(0x1cc))(process[_0x5b879c(0x17e)][_0x5b879c(0x1ac)](0x2))[_0x5b879c(0x17e)],path=require(_0x5b879c(0x15e));let exchange;global[_0x5b879c(0xae)]={},global[_0x5b879c(0xba)]={};const exceptions={'binance':[_0x5b879c(0x14e),_0x5b879c(0x95),_0x5b879c(0x12e),_0x5b879c(0xb9),_0x5b879c(0x19b)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5b879c(0xfa)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5b879c(0x1ba)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x5b879c(0x143))['version'],botID=process[_0x5b879c(0x17e)][0x2]||_0x5b879c(0x1eb),pattern=/^[0-9]{3}$/;!pattern[_0x5b879c(0x17a)](botID)&&(console[_0x5b879c(0x127)](_0x5b879c(0x192)+botID+_0x5b879c(0x163)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x5b879c(0x1a8)+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0x5b879c(0x123),loggerfile=fs[_0x5b879c(0xd4)](logspath+_0x5b879c(0x131),{'flags':'a'});!fs[_0x5b879c(0x190)](configpath)&&fs[_0x5b879c(0x96)](configpath);!fs[_0x5b879c(0x190)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+_0x5b879c(0x172),logfile=configpath+_0x5b879c(0xeb)+botID+_0x5b879c(0x110),performancefile=configpath+'bot-'+botID+_0x5b879c(0x1a9),coinresultsfile=configpath+_0x5b879c(0xeb)+botID+'-results.json',settingsfile=configpath+_0x5b879c(0xd7),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x5b879c(0x1c1),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5b879c(0xc7)]({'logs':[],'version':serverversion})[_0x5b879c(0x19f)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5b879c(0xc7)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5b879c(0xc7)]({'bot':[],'version':serverversion})[_0x5b879c(0x19f)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5b879c(0xc7)]({'coins':[],'version':serverversion})[_0x5b879c(0x19f)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5b879c(0x1a0),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x77113a=>{console['log'](_0x77113a);},'simple':_0x5d105f=>{const _0x2721a3=_0x5b879c;console[_0x2721a3(0x127)](_0x5d105f),loggerfile[_0x2721a3(0x19f)](util[_0x2721a3(0x209)](_0x5d105f)+'\x0a');},'full':async(_0x1045e9,_0x424e74='')=>{const _0x2f6355=_0x5b879c;let _0xf07dcf;if(config['showname'])_0xf07dcf=getTimeStamp()+':\x20'+config['botname']+_0x2f6355(0x1f7)+_0x1045e9;else _0xf07dcf=getTimeStamp()+_0x2f6355(0x9e)+botID+'\x20>\x20'+_0x1045e9;console[_0x2f6355(0x127)](_0xf07dcf),loggerfile[_0x2f6355(0x19f)](util[_0x2f6355(0x209)](_0xf07dcf)+'\x0a'),_0x424e74&&(console[_0x2f6355(0x127)](_0x424e74),loggerfile[_0x2f6355(0x19f)](util[_0x2f6355(0x209)](_0x424e74)+'\x0a'));},'debug':async(_0x199846,_0x581ce3='')=>{const _0x8e2f47=_0x5b879c;let _0x9fe107;if(config[_0x8e2f47(0x14b)])_0x9fe107=getTimeStamp()+':\x20'+config[_0x8e2f47(0x167)]+_0x8e2f47(0x15b)+_0x199846;else _0x9fe107=getTimeStamp()+_0x8e2f47(0x9e)+botID+_0x8e2f47(0x15b)+_0x199846;if(debugging)console[_0x8e2f47(0x127)](_0x9fe107);loggerfile[_0x8e2f47(0x19f)](util[_0x8e2f47(0x209)](_0x9fe107)+'\x0a');if(_0x581ce3){if(debugging)console[_0x8e2f47(0x127)](_0x581ce3);loggerfile[_0x8e2f47(0x19f)](util[_0x8e2f47(0x209)](_0x581ce3)+'\x0a');}}};process['on'](_0x5b879c(0xd0),function(_0x179026){const _0x5ae744=_0x5b879c;logger[_0x5ae744(0x115)](_0x179026);});settings[_0x5b879c(0x1b9)]!=config[_0x5b879c(0x1b9)]&&updateTimeshift(settings['timeshift']);settings['onepagemode']!=config[_0x5b879c(0x13a)]&&updateOnepagemode(settings[_0x5b879c(0x13a)]);process['send']({'started':_0x5b879c(0x117)},_0x4d3796=>{}),initializeProcessListeners();function proxyEmit(_0x107bfb,_0x1f1fd2=null){process['send']({'function':_0x107bfb,'args':_0x1f1fd2},_0x5954e3=>{});}function initializeProcessListeners(){const _0x182c7b=_0x5b879c;process['on'](_0x182c7b(0x1af),_0x119938=>{const _0x38f77e=_0x182c7b;switch(Object[_0x38f77e(0xe2)](_0x119938)[0x0]){case'timeshift':_0x119938[_0x38f77e(0x1b9)]!=undefined&&(settings[_0x38f77e(0x1b9)]=_0x119938[_0x38f77e(0x1b9)],updateTimeshift(settings[_0x38f77e(0x1b9)]));break;case _0x38f77e(0x13a):_0x119938[_0x38f77e(0x13a)]!=undefined&&(settings['onepagemode']=_0x119938[_0x38f77e(0x13a)],updateOnepagemode(settings[_0x38f77e(0x13a)]));break;case _0x38f77e(0x208):_0x119938[_0x38f77e(0x208)]!=undefined&&(bots=JSON[_0x38f77e(0x1c2)](_0x119938['bots']),proxyEmit(_0x38f77e(0x208),bots));break;case _0x38f77e(0x202):switch(_0x119938[_0x38f77e(0x202)]){case _0x38f77e(0x198):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x38f77e(0x195):emitHistory(_0x119938[_0x38f77e(0x134)]);break;case _0x38f77e(0x204):deleteHistoryAlerts(_0x119938[_0x38f77e(0x134)]);break;case'getPortfolio':getPortfolio(_0x119938[_0x38f77e(0x134)]);break;case _0x38f77e(0x138):storeConfiguration(_0x119938[_0x38f77e(0x134)]);break;case'storeHeadless':storeHeadless(_0x119938[_0x38f77e(0x134)]);break;case'storeFiat':storeFiat(_0x119938[_0x38f77e(0x134)]);break;case'resetHistory':resetHistory();break;case _0x38f77e(0xdd):getStartingBalances(getNormalizedPerformance());break;case _0x38f77e(0x121):placeOrder(_0x119938['args']);break;case _0x38f77e(0x144):cancelLoading();break;case _0x38f77e(0x98):showConfig();break;case _0x38f77e(0xfd):sendMetricsTelegram();break;case _0x38f77e(0xf0):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x3bcc79=null,_0xcd8e5a=![]){const _0x2e95ff=_0x5b879c;logger[_0x2e95ff(0x18c)](_0x2e95ff(0x1b8)+(_0x3bcc79&&_0x3bcc79[_0x2e95ff(0x108)]>0x0?_0x2e95ff(0x11d)+_0x3bcc79['join'](','):_0x2e95ff(0x13d))+_0x2e95ff(0x18f)+(_0xcd8e5a?_0x2e95ff(0x1b3):'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0xcd8e5a)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x2e95ff(0x12b)]!=_0x2e95ff(0xe0)){if(_0xcd8e5a){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x2b1caf){handleErrorNoStop(_0x2b1caf,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x3bcc79);const _0x3e25d0=await getCoins();[currentCoins,currentCoinsAll]=_0x3e25d0,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x2e95ff(0x108)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x5adf26=_0x5b879c;exchangeStopped=!![],await exchange[_0x5adf26(0x187)]();}async function reloadExchange(){const _0x295a9c=_0x5b879c;logger[_0x295a9c(0x18c)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x295a9c(0x1ba)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x295a9c(0x18c)](_0x295a9c(0x16a)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x27c942=config[_0x5b879c(0x181)],_0x3d713f=config[_0x5b879c(0x12b)],_0x11ad86=config[_0x5b879c(0xb8)],_0x23bd9d=config[_0x5b879c(0x179)]){const _0x2adb91=_0x5b879c;exchange&&await stopExchange();!supportedExchanges()[_0x2adb91(0x185)](_0x27c942)&&(logHistory(_0x2adb91(0x1a1),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x27c942+'\x20exchange'),killBot());const _0x51c273=ccxt[_0x27c942['toLowerCase']()];exchange=new _0x51c273({'apiKey':_0x3d713f,'secret':_0x11ad86,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x23bd9d)exchange[_0x2adb91(0x162)]=_0x23bd9d;}function setStableCoins(){const _0x1c83d5=_0x5b879c;let _0x1e811e=config[_0x1c83d5(0xa3)]==_0x1c83d5(0x1f9)?'ETH':_0x1c83d5(0x120),_0x466817=!allSymbols['includes'](_0x1e811e+_0x1c83d5(0x189))?_0x1c83d5(0x12d):_0x1c83d5(0x129),_0x5155c4=!allSymbols['includes'](_0x1e811e+_0x1c83d5(0x1f4))?_0x466817:_0x1c83d5(0x147);stablecoins={'eur':{'coin':''+_0x1e811e+_0x5155c4,'symbol':_0x1e811e+'/'+_0x5155c4},'usd':{'coin':''+_0x1e811e+_0x466817,'symbol':_0x1e811e+'/'+_0x466817}};}async function initwsCcxt(_0x4fc5ae){const _0x312b46=_0x5b879c;_0x4fc5ae==null&&(_0x4fc5ae=[],config[_0x312b46(0xfc)]['forEach'](_0x422b8e=>{const _0x4877a8=_0x312b46;if(!_0x422b8e['excluded']&&_0x422b8e[_0x4877a8(0x1b7)]!=config[_0x4877a8(0xa3)])_0x4fc5ae[_0x4877a8(0xcd)](_0x422b8e[_0x4877a8(0x94)]);}));if(!_0x4fc5ae['includes'](stablecoins['eur'][_0x312b46(0x94)]))_0x4fc5ae['push'](stablecoins['eur'][_0x312b46(0x94)]);if(!_0x4fc5ae[_0x312b46(0x185)](stablecoins['usd'][_0x312b46(0x94)]))_0x4fc5ae[_0x312b46(0xcd)](stablecoins[_0x312b46(0x9c)]['symbol']);if(config[_0x312b46(0x181)][_0x312b46(0xe8)]('Binance')){if(!_0x4fc5ae[_0x312b46(0x185)]('BNB/'+config[_0x312b46(0xa3)]))_0x4fc5ae[_0x312b46(0xcd)]('BNB/'+config[_0x312b46(0xa3)]);}loadCoins(_0x4fc5ae);const _0x5af18f=async _0xfcb532=>{const _0x421684=_0x312b46,_0x20621d=await exchange['fetchTicker'](_0xfcb532);global[_0x421684(0xae)][noslash(_0x20621d[_0x421684(0x94)])]=_0x20621d['last'];while(!![]){if(!botPaused)try{const _0xa6c587=await exchange[_0x421684(0x132)](_0xfcb532);global[_0x421684(0xae)][noslash(_0xa6c587[0x0][_0x421684(0x94)])]=_0xa6c587[0x0][_0x421684(0xfb)],await sleep(0x3e8);}catch(_0x11f88c){if(!exchangeStopped)await handleError(_0x11f88c,_0x421684(0x132),_0xfcb532);}else await sleep(0x64);}},_0x4c767a=async _0x2dbbcc=>{const _0x229701=_0x312b46;while(!![]){if(!botPaused)try{const _0x18d7e7=await exchange['fetchTicker'](_0x2dbbcc);global[_0x229701(0xba)][_0x18d7e7[_0x229701(0x94)]]=_0x18d7e7['percentage'],await sleep(0x3c*0x3e8);}catch(_0x414883){if(!exchangeStopped)await handleError(_0x414883,_0x229701(0x1ea),_0x2dbbcc);}else await sleep(0x64);}},_0x31c217=async()=>{const _0x4abe69=_0x312b46;while(!![]){if(!botPaused)try{const _0x2cd46e=await exchange[_0x4abe69(0x1fe)]();_0x2cd46e['forEach'](_0x16fc13=>{updateNumberCoinsCcxt(_0x16fc13);});}catch(_0x31d3c3){if(!exchangeStopped)await handleError(_0x31d3c3,_0x4abe69(0x1fe));}else await sleep(0x64);}};_0x4fc5ae[_0x312b46(0x113)](async _0x4f1552=>{_0x5af18f(_0x4f1552),_0x4c767a(_0x4f1552);}),!wsEventsSet&&(wsEventsSet=!![],_0x31c217(),watchTransactions());}async function watchTransactions(){const _0x71248b=_0x5b879c;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xbc323=await getCoins(),[_0x563af5,_0x59a999]=_0xbc323;let _0x43dbc8=[];currentCoins[_0x71248b(0x113)](_0x54710e=>{const _0x113580=_0x71248b,_0xfc3ef9=_0x563af5[_0x113580(0x13e)](_0x370cc3=>_0x370cc3[_0x113580(0x1b7)]==_0x54710e[_0x113580(0x1b7)]);_0xfc3ef9&&(_0x54710e[_0x113580(0xb5)]!=_0xfc3ef9['number']&&_0x43dbc8[_0x113580(0xcd)]({'coin':_0x54710e['coin'],'symbol':_0x54710e['symbol'],'number':Number(formatResult(_0xfc3ef9['number']-_0x54710e[_0x113580(0xb5)],0x8))}));});if(_0x43dbc8['length']==0x1&&!blockTransactionDetection){logger['debug'](_0x71248b(0x170)+lastFees[_0x71248b(0x114)]+_0x71248b(0x1b1)+lastFees[_0x71248b(0x10e)]);if(!lastFees[_0x71248b(0x114)]||_0x43dbc8[0x0][_0x71248b(0x1b7)]!=lastFees[_0x71248b(0x114)]||_0x43dbc8[0x0][_0x71248b(0xb5)]>lastFees[_0x71248b(0x10e)]){let _0xe52933;if(_0x43dbc8[0x0]['coin']!=config['basecoin']){let _0x10128c=global[_0x71248b(0xae)][noslash(_0x43dbc8[0x0][_0x71248b(0x94)])];_0xe52933=_0x43dbc8[0x0][_0x71248b(0x9b)]?0x1/_0x10128c:_0x10128c;}else _0xe52933=0x1;_0x43dbc8[0x0]['price']=_0xe52933,delete _0x43dbc8[0x0][_0x71248b(0x94)];let _0x11030e=[],_0x9dbd4=[...config[_0x71248b(0x1bf)]]||[],_0xb6800f=config['liquidity'];_0x9dbd4[_0x71248b(0x1e3)]((_0x44fe07,_0x10acae)=>_0x44fe07[_0x71248b(0x19c)]>_0x10acae[_0x71248b(0x19c)]?-0x1:_0x10acae['date']>_0x44fe07[_0x71248b(0x19c)]?0x1:0x0);const _0x359dcb=getDate();if(_0x9dbd4[0x0]){const _0x11869d=fns[_0x71248b(0x1c2)](_0x9dbd4[0x0][_0x71248b(0x19c)],_0x71248b(0x18b),new Date()),_0x4e54d1=fns[_0x71248b(0x1c2)](_0x359dcb,_0x71248b(0x18b),new Date());if(fns[_0x71248b(0x145)](_0x11869d,_0x4e54d1)){_0x11030e=_0x9dbd4[0x0][_0x71248b(0x111)];const _0x2c2bf8=_0x11030e[_0x71248b(0x13e)](_0x1d8770=>_0x1d8770[_0x71248b(0x1b7)]==_0x43dbc8[0x0][_0x71248b(0x1b7)]);_0x2c2bf8?(_0x2c2bf8[_0x71248b(0xb5)]+=_0x43dbc8[0x0][_0x71248b(0xb5)],_0x2c2bf8[_0x71248b(0xb5)]==0x0&&(_0x11030e=_0x11030e['filter'](_0x800cd0=>{const _0x414a1c=_0x71248b;return _0x800cd0[_0x414a1c(0x1b7)]!=_0x43dbc8[0x0][_0x414a1c(0x1b7)];}))):_0x11030e['push'](_0x43dbc8[0x0]);const _0x5c2adc=_0xb6800f[_0x71248b(0x13e)](_0x9e4d17=>_0x9e4d17['date']==_0x359dcb);_0x5c2adc[_0x71248b(0x111)]=_0x11030e;}else _0xb6800f[_0x71248b(0xcd)]({'date':_0x359dcb,'changes':[_0x43dbc8[0x0]]});}const _0x3d87f3=_0xb6800f[_0x71248b(0x13e)](_0x538aa8=>_0x538aa8[_0x71248b(0x19c)]==_0x359dcb);if(_0x3d87f3){let _0x3e780c=!![];_0x3d87f3[_0x71248b(0x111)][_0x71248b(0x113)](_0x1151c1=>{if(_0x1151c1['number']!=0x0)_0x3e780c=![];}),_0x3e780c&&(_0xb6800f=_0xb6800f['filter'](_0x38e982=>{const _0x5be454=_0x71248b;return _0x38e982[_0x5be454(0x19c)]!=_0x359dcb;}));}let _0x1f8f69=dbConfig['get'](_0x71248b(0x1fd))[_0x71248b(0x13e)]({'botID':botID})[_0x71248b(0x1cf)]();_0x1f8f69&&(dbConfig['get'](_0x71248b(0x1fd))[_0x71248b(0x13e)]({'botID':botID})[_0x71248b(0xc9)]({'liquidity':_0xb6800f})[_0x71248b(0x19f)](),config['liquidity']=_0xb6800f),logHistory('success',_0x71248b(0x16f)+Math[_0x71248b(0x18a)](_0x43dbc8[0x0][_0x71248b(0xb5)])+'\x20'+_0x43dbc8[0x0][_0x71248b(0x1b7)]+'\x20'+(_0x43dbc8[0x0]['number']>0x0?_0x71248b(0xbd):'removed')+_0x71248b(0x118)),proxyEmit(_0x71248b(0x194),emittedConfiguration());}else logger['debug'](_0x71248b(0xa5)+Math[_0x71248b(0x18a)](_0x43dbc8[0x0][_0x71248b(0xb5)])+'\x20'+_0x43dbc8[0x0]['coin']+'\x20'+(_0x43dbc8[0x0][_0x71248b(0xb5)]>0x0?_0x71248b(0xbd):'removed'));transactionDetected=!![],currentCoins=_0x563af5,currentCoinsAll=_0x59a999;}await sleep(watchTransactionsInterval);}catch(_0x9cd12a){if(!exchangeStopped)await handleError(_0x9cd12a,'watchTransactions');}else await sleep(0x64);}}async function loadSymbols(_0x345577=config[_0x5b879c(0x181)],_0x30208e=![]){const _0x15b5e8=_0x5b879c;if(allSymbols&&!_0x30208e)return;try{markets=await exchange[_0x15b5e8(0x148)](),allSymbols=exchange[_0x15b5e8(0xee)]['filter'](_0x514be5=>{const _0x5eb4d2=_0x15b5e8;let _0x45a382=![];const _0x340b9b=exceptions[_0x345577[_0x5eb4d2(0xf5)]()]||[];return _0x340b9b[_0x5eb4d2(0x113)](_0x1d6c4a=>{if(_0x514be5['includes'](_0x1d6c4a))_0x45a382=!![];}),!_0x45a382;});}catch(_0xeb300e){throw _0xeb300e;}}async function initclient(){const _0x4c71cb=_0x5b879c;emitLoadingProgress(),proxyEmit(_0x4c71cb(0x194),emittedConfiguration()),proxyEmit(_0x4c71cb(0xe5),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4c71cb(0x10c),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x32f42c=getNormalizedPerformance();emitPerformance(_0x32f42c),getStartingBalances(_0x32f42c);}async function toggleBotMode(){const _0x1b57dd=_0x5b879c;let _0x1dd42c=dbConfig[_0x1b57dd(0x175)](_0x1b57dd(0x1fd))[_0x1b57dd(0x13e)]({'botID':botID})[_0x1b57dd(0x1cf)]();if(_0x1dd42c){const _0x21960e=!_0x1dd42c['headless'];dbConfig['get'](_0x1b57dd(0x1fd))['find']({'botID':botID})[_0x1b57dd(0xc9)]({'headless':_0x21960e})['write'](),config['headless']=_0x21960e,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5af237=_0x5b879c;process[_0x5af237(0x105)]({'updatebotmanager':!![]},_0x9fc9c5=>{});}async function loadCoins(_0x20c751){const _0x1ff031=_0x5b879c;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x5221f6,_0x22142c=0x0,_0x2ed093=0x0;_0x20c751[_0x1ff031(0x113)](_0x20b44f=>{const _0x1a27f5=_0x1ff031;loading[_0x1a27f5(0x1b4)][_0x1a27f5(0xcd)](_0x20b44f);}),loadingCanceled=![];let _0x109cd2=![];while(_0x5221f6!=_0x20c751[_0x1ff031(0x108)]){_0x5221f6=0x0,_0x20c751[_0x1ff031(0x113)](_0x852fc6=>{const _0x18118c=_0x1ff031;if(global[_0x18118c(0xae)][noslash(_0x852fc6)]){loading[_0x18118c(0x1b4)]=loading[_0x18118c(0x1b4)][_0x18118c(0x1ec)](_0x386a22=>_0x386a22!=_0x852fc6);if(!watchedSymbols[_0x18118c(0x185)](_0x852fc6))watchedSymbols[_0x18118c(0xcd)](_0x852fc6);_0x5221f6++;}}),loading['progress']=Math[_0x1ff031(0xac)](_0x5221f6/_0x20c751[_0x1ff031(0x108)]*0x64);loading[_0x1ff031(0xf9)]!=0x64&&(_0x2ed093>0x1e*0x5&&(loading[_0x1ff031(0x13b)]=!![],emitLoadingProgress()),_0x2ed093>0x78*0x5&&!_0x109cd2&&(loading[_0x1ff031(0x15d)]=!![],emitLoadingProgress(),_0x109cd2=!![],logHistory(_0x1ff031(0x1a1),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x1ff031(0x1b4)]['join'](',\x20')+_0x1ff031(0x150)),logHistory(_0x1ff031(0x1a1),_0x1ff031(0xaa)+loadCoinsRetryInterval/0xea60+_0x1ff031(0x207)),pidCoinReloading=setTimeout(()=>{const _0x2211dd=_0x1ff031;process[_0x2211dd(0x105)]({'stop':_0x2211dd(0xe7)},_0x4c1727=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x5221f6!=_0x22142c&&(_0x22142c=_0x5221f6,emitLoadingProgress()),_0x2ed093++,await sleep(0xc8);}_0x5221f6==_0x20c751[_0x1ff031(0x108)]&&(coinsLoaded=!![],process['send']({'status':_0x1ff031(0x137),'live':'running'},_0x43aac0=>{}),_0x109cd2&&logHistory(_0x1ff031(0x1c9),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x372ea3=_0x5b879c;proxyEmit(_0x372ea3(0x194),{...emittedConfiguration(),'configstate':_0x372ea3(0x169)});}function emitLoadingProgress(){const _0x38b5c5=_0x5b879c;proxyEmit(_0x38b5c5(0x16b),loading);}async function getFiat(){const _0x4eeef3=_0x5b879c;let _0x245dc8=global[_0x4eeef3(0xae)][stablecoins['eur']['coin']],_0x337897=global[_0x4eeef3(0xae)][stablecoins[_0x4eeef3(0x9c)]['coin']];return{'eur':Number(_0x245dc8),'usd':Number(_0x337897)};}function capitalize(_0x55717c){const _0x45d563=_0x5b879c;return _0x55717c['substring'](0x0,0x1)['toUpperCase']()+_0x55717c[_0x45d563(0x17b)](0x1);}function supportedExchanges(){const _0x6fc4a6=_0x5b879c,_0x1c3ad3=['ws',_0x6fc4a6(0x1ea),_0x6fc4a6(0x17f),_0x6fc4a6(0x132),'watchOrders','cancelOrder',_0x6fc4a6(0x1d9),'fetchOpenOrders',_0x6fc4a6(0x193),_0x6fc4a6(0x18e)];let _0x52953a=[],_0x11cf96=[],_0x314427=ccxt['exchanges'];_0x314427['forEach'](_0x453eb6=>{const _0x3ff0b1=_0x6fc4a6;try{const _0x2c8ce1=new ccxt[_0x453eb6]();if(_0x2c8ce1[_0x3ff0b1(0x149)]['ws'])_0x11cf96[_0x3ff0b1(0xcd)](_0x2c8ce1);}catch(_0x1e00ec){}}),_0x11cf96[_0x6fc4a6(0x113)](_0x248b65=>{const _0x5d5b32=_0x6fc4a6;let _0xbc9aca=0x0;_0x1c3ad3[_0x5d5b32(0x113)](_0xc43b98=>{const _0x493206=_0x5d5b32;_0xc43b98 in _0x248b65[_0x493206(0x149)]&&_0x248b65[_0x493206(0x149)][_0xc43b98]&&_0xbc9aca++;}),_0xbc9aca==_0x1c3ad3[_0x5d5b32(0x108)]&&_0x52953a[_0x5d5b32(0xcd)](capitalize(_0x248b65['id']));});let _0x3a5448=[];return _0x314427[_0x6fc4a6(0x113)](_0x54560e=>{const _0x475df7=_0x6fc4a6;_0x54560e=capitalize(_0x54560e);if(!_0x52953a['includes'](_0x54560e))_0x3a5448[_0x475df7(0xcd)](_0x54560e);}),_0x52953a;}function setStartDatePerformance(){const _0xb39f3c=_0x5b879c;if(config&&config['liquidity'][0x0][_0xb39f3c(0x111)]['length']!=0x0){const _0x261b2f=config['liquidity'][0x0]['changes'];dbPerformance[_0xb39f3c(0x175)]('data')[_0xb39f3c(0x13e)]({'date':config[_0xb39f3c(0x1f3)]})[_0xb39f3c(0xc9)]({'coins':_0x261b2f})[_0xb39f3c(0x19f)]();}}async function recreateCoinResults(){const _0x5c9662=_0x5b879c;let _0xe5de1e,_0x331c19=[];try{const _0xff6473=fns['format'](fns['parseISO'](config[_0x5c9662(0x1f3)][_0x5c9662(0x182)](/\//g,'-')),_0x5c9662(0xf6));for(const _0x5a5d26 of currentCoins){if(_0x5a5d26[_0x5c9662(0x1b7)]!=config[_0x5c9662(0xa3)]){let _0x40ae58=0x0,_0x44036b,_0x480866;_0xe5de1e=await getAllEventOrders(_0x5a5d26[_0x5c9662(0x94)]);if(_0xe5de1e[_0x5c9662(0x108)]>0x0)_0xe5de1e[_0x5c9662(0x113)](_0x563fa4=>{const _0x17cbce=_0x5c9662,_0x4762d1=_0x5a5d26[_0x17cbce(0x94)][_0x17cbce(0x185)](config['basecoin']+'/');_0x331c19[_0x17cbce(0xcd)]({'datetime':_0x563fa4[_0x17cbce(0x1c4)],'coin':_0x5a5d26[_0x17cbce(0x1b7)],'symbol':_0x5a5d26[_0x17cbce(0x94)],'side':_0x563fa4['side'],'reverse':_0x4762d1,'amount':formatResult(_0x563fa4['filled'],0x8),'filled':formatResult(_0x563fa4[_0x17cbce(0x1d5)],0x8),'price':formatResult(_0x563fa4[_0x17cbce(0xfb)],0x8)}),_0x40ae58=_0x563fa4[_0x17cbce(0x14f)]=='buy'?_0x40ae58+_0x563fa4[_0x17cbce(0x1d5)]:_0x40ae58-_0x563fa4[_0x17cbce(0x1d5)];if(!_0x480866)_0x480866=_0x563fa4[_0x17cbce(0xfb)];});_0x44036b=_0x5a5d26[_0x5c9662(0xb5)]-_0x40ae58;let _0x5c5b07;config[_0x5c9662(0x1bf)][_0x5c9662(0x113)](_0x24b7d8=>{const _0x2d88c2=_0x5c9662;!_0x5c5b07&&(_0x5c5b07=_0x24b7d8[_0x2d88c2(0x111)][_0x2d88c2(0x13e)](_0x98608a=>_0x98608a[_0x2d88c2(0x1b7)]==_0x5a5d26[_0x2d88c2(0x1b7)]),_0x5c5b07&&(_0x44036b=_0x5c5b07[_0x2d88c2(0xb5)],_0x480866=_0x5c5b07[_0x2d88c2(0xfb)]));});let _0x4f2848=dbCoinResults[_0x5c9662(0x175)]('coins')[_0x5c9662(0x13e)]({'coin':_0x5a5d26[_0x5c9662(0x1b7)]})['value']();_0x4f2848={'coin':_0x5a5d26[_0x5c9662(0x1b7)],'number':_0x44036b,'breakeven':_0x480866,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x5c9662(0x175)]('coins')[_0x5c9662(0x13e)]({'coin':_0x5a5d26[_0x5c9662(0x1b7)]})[_0x5c9662(0xc9)](_0x4f2848)[_0x5c9662(0x19f)]();}}_0x331c19[_0x5c9662(0x1e3)]((_0x3197ef,_0x390b2d)=>_0x3197ef[_0x5c9662(0x1c4)]>_0x390b2d['datetime']?0x1:_0x390b2d[_0x5c9662(0x1c4)]>_0x3197ef[_0x5c9662(0x1c4)]?-0x1:0x0);let _0x10f751=0x0;for(let _0x13492c of _0x331c19){await updateCoinResults(_0x13492c,!![]);}}catch(_0x1b326f){await handleError(_0x1b326f,_0x5c9662(0xe1));}}async function getAllEventOrders(_0x5d96bc){const _0xfd3176=_0x5b879c;let _0x4ca148=[],_0x568eb1=dbLogs['get']('logs')[_0xfd3176(0x1ec)](_0x503d21=>{const _0x57b25e=_0xfd3176,_0x34729e=_0x503d21['event'][_0x57b25e(0xf5)]();return _0x34729e[_0x57b25e(0x185)](_0x5d96bc[_0x57b25e(0xf5)]())&&(_0x34729e['includes'](_0x57b25e(0x1cd))&&_0x34729e[_0x57b25e(0x185)](_0x57b25e(0x164))||_0x34729e[_0x57b25e(0x185)]('filled')&&_0x34729e[_0x57b25e(0x185)](_0x57b25e(0x164)));})[_0xfd3176(0x205)](_0xfd3176(0x1a4))['value']();return _0x568eb1[_0xfd3176(0x113)](_0x1f6dda=>{const _0x467124=_0xfd3176,_0x330a5b=_0x1f6dda[_0x467124(0x1c5)][_0x467124(0x185)](_0x467124(0x183))?'sell':_0x467124(0x1f5),_0x3cf053=/#([0-9]|\.)+\s/i,_0x309c51=Number(_0x3cf053[_0x467124(0x151)](_0x1f6dda['event'])[0x0][_0x467124(0x1ac)](0x1)),_0x545435=/@([0-9]|\.)+$/i,_0x201a3c=Number(_0x545435[_0x467124(0x151)](_0x1f6dda[_0x467124(0x1c5)])[0x0][_0x467124(0x1ac)](0x1));_0x4ca148[_0x467124(0xcd)]({'datetime':_0x1f6dda['time'],'coin':symbolToCoin(_0x5d96bc),'symbol':_0x5d96bc,'side':_0x330a5b,'amount':_0x309c51,'filled':_0x309c51,'price':_0x201a3c});}),_0x4ca148;}function _0x590b(){const _0x5a33b3=['Saving\x20configuration','showConfig','privateKey','Avoiding\x20continuous\x20order\x20attempts','reverse','usd','data',':\x20Bot\x20','fromCodePoint','trade','\x20|\x20lock\x20orders:\x20','\x20API\x20secret\x20is\x20invalid','basecoin','initial','Fee\x20discount\x20refund\x20detected:\x20','emojisell','cancelOrders()','************','cloneDeep','Pausing\x20for\x20','30fPGWIU','round','1\x20-\x20Unlock\x20orders','ticker','1481538EXomLs','type','must\x20be\x20greater\x20than\x20minimum\x20amount','Unknown\x20error\x20occured','ORDERS.LOCKED','MIN_NOTIONAL','number','net-basecoin','1017zlmpXY','apiSecret','NANO/','change','InsufficientFunds','0\x20-\x20EXECUTION:\x20','added','full','total','1\x20-\x20Validate\x20orders:\x20','buys','threshold','getDate','No\x20more\x20open\x20orders\x20-\x20','startprice','getPortfolio(0)','defaults','-------------------------------\x0a','assign','closed','Invalid\x20API\x20key\x20or\x20secret\x20entered','Order\x20filled:\x20','push','indexOf','API-key\x20format\x20invalid','uncaughtException','kill','rightTxt','canceled','createWriteStream','6060wIAtgg','change24h','bb-settings.json','findIndex','\x20API\x20key\x20is\x20invalid','fee','final','floor','getStartingBalances','Cooldown\x20ended\x20-\x20balancing\x20resumed','limit','***','recreateCoinResults()','keys','coins','decrypt','exchanges','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','restart','startsWith','<pre>','Order\x20is\x20invalid:\x20','bot-','recent20','\x20change','symbols','getOpenOrders()','sendPortfolioTelegram','1149KxQtgW','fees','distribution','join','toLowerCase','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20closed\x20the\x20connection','starting-balances','progress','freeze','price','portfolio','sendMetricsTelegram','getFullYear','<b>','amount','\x20|\x20Error\x20details:\x20','splice','event-history','stringify','send','Order(s)\x20not\x20validated\x20after\x20','differenceInSeconds','length','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','average','breakeven','balances','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','highest','split','-events.json','changes','netoffset','forEach','currency','simple','toString','running','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','warning','3\x20-\x20handling\x20FILLED\x20order:\x20','Exchange','\x20order:\x20','additional\x20symbols\x20','</pre>','string','BTC','placeOrder','status','./logs/','getPortfolio(1)','415385ZAqOQm','toFixed','log','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','USD','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','apiKey','BNB','USDT','XEM/BUSD','constructor','settings','/output-000.log','watchTrades','getTime','args','delta','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','enabled','storeConfiguration','none','onepagemode','timeout','lowdb/adapters/FileSync','no\x20additional\x20symbols','find','7090797JuLMnT','-results.json','eur','limits','./version.json','cancelLoading','isEqual','version','EUR','loadMarkets','has','UNLOCKING','showname','<b>Bot\x20','getSeconds','DAI/','side','\x20-\x20bot\x20not\x20started','exec','2\x20-\x20FILLED\x20unknown\x20order:\x20','hybrid-crypto-js','2.3.5','%\x20(','2\x20-\x20Handled\x20open\x20orders','clientOrderId','search','AuthenticationError','page','\x20>\x20[DEBUG]\x20','remove','cancel','path','Invalid\x20quantity','net-fiat','137570iqmPnx','password',',\x20must\x20be\x20a\x203\x20digit\x20number','order','no\x20open\x20orders','Unfilled\x20order(s)\x20canceled\x20after\x20','botname','set','loading-canceled','Executing\x20exchange\x20reload','coin-loading-progress','unlinkSync','offset','2\x20-\x20Orders\x20unlocked','Portfolio\x20change\x20detected:\x20','Fees\x20|\x20currency:\x20','open','-config.json','2\x20-\x20FILLED\x20known\x20order:\x20','\x20not\x20available','get','limit-high','OrderNotFound','\x20minutes\x20-\x20','apiPassword','test','substring','realized','target','argv','fetchTicker','fiat','exchange','replace','sell','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','includes','emojibuy','close','milliseconds','/USD','abs','yyyy/MM/dd','debug','logs','fetchBalance','\x20|\x20','existsSync','performance','Error:\x20Invalid\x20argument\x20','fetchClosedOrders','configuration','emitHistory','date-fns','ordertype','initclient','\x20portfolio:</b>\x20\x0a\x0a','Manual\x20balancing\x20required','YOYOW/','date','shift','\x20value','write','sha256','error','valid','add','time','headless','cancelOrder','amountToPrecision','./config/','-performance.json','1591249tRbRHx','ask','slice','Crypt','\x20hour','message','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','\x20|\x20highest:\x20','entries','exchange\x20reloaded','remainingSymbols','Bot\x20','padStart','coin','Reset\x20|\x20','timeshift','UNLOCKED','LOCKED','recreate','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','1\x20-\x20Handle\x20open\x20orders','liquidity','getMonth','/backup/','parse','util','datetime','event','openOrders','Limit\x20(low-margin)','startnumber','success','Order\x20amount\x20is\x20invalid:\x20','Market','yargs/yargs','market','RequestTimeout','value','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','limit-low','last','DDoSProtection','max','filled','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','padEnd','ORDERS.UNLOCKED','createOrder','\x20metrics:</b>\x20\x0a\x0a','cost','orderId','leftTxt','ccxt','starting-balance-','getMinutes','pro','random','sort','(((.+)+)+)+$','Transaction\x20detection\x20unblocked','ongoing',':\x20timer\x20>','cooldown','placeOrder()','fetchTickers','001','filter','balancing\x20resumed','BUSD','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','excluded','writeFile','Transaction\x20detection\x20blocked','startdate','/EUR','buy','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','\x20>\x20','customId','ETH','Net\x20effect','getHours','sells','bot','watchOrders','balancing\x20resumes\x20when\x20cooldown\x20ends','min','orderstatus','function','10290808QqgWCb','deleteHistoryAlerts','sortBy','concat','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','bots','format','\x20minutes','symbol','HOT/BTC','mkdirSync'];_0x590b=function(){return _0x5a33b3;};return _0x590b();}async function getAllOrders(_0x47a492,_0x393f6b){const _0x18f09d=_0x5b879c;let _0x3e6d99=[];while(_0x393f6b<exchange[_0x18f09d(0x188)]()){const _0x1e7c6e=0x1f4,_0xc6771c=await exchange[_0x18f09d(0x193)](_0x47a492,_0x393f6b,_0x1e7c6e);if(_0xc6771c[_0x18f09d(0x108)])_0x393f6b=_0xc6771c[_0xc6771c[_0x18f09d(0x108)]-0x1]['timestamp']+0x1,_0x3e6d99=_0x3e6d99[_0x18f09d(0x206)](_0xc6771c);else break;}return _0x3e6d99;}async function validate24hChanges(){const _0x51bcc4=_0x5b879c;for(const _0x1eaa76 of currentCoins){if(_0x1eaa76['coin']!=config['basecoin']){let _0x385d72;_0x1eaa76['reverse']?_0x385d72=formatResult((0x1/(global[_0x51bcc4(0xba)][noslash(_0x1eaa76[_0x51bcc4(0x94)])]/0x64+0x1)-0x1)*0x64,0x3):_0x385d72=global['change'][noslash(_0x1eaa76[_0x51bcc4(0x94)])],_0x385d72<config[_0x51bcc4(0xd6)]&&(logHistory(_0x51bcc4(0x1a1),_0x1eaa76[_0x51bcc4(0x1b7)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x385d72+'%'),logHistory(_0x51bcc4(0x1a1),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x51bcc4(0x1a1),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x1af2e3,_0x4312a4){const _0x226f69=_0x5b879c;if(!_0x1af2e3)return!![];const _0x5c4a67=_0x4312a4['split']('.'),_0xffbdd1=_0x1af2e3[_0x226f69(0x10f)]('.');for(var _0x1f9127=0x0;_0x1f9127<_0xffbdd1[_0x226f69(0x108)];_0x1f9127++){const _0x45b16e=~~_0xffbdd1[_0x1f9127],_0x5ddad1=~~_0x5c4a67[_0x1f9127];if(_0x45b16e<_0x5ddad1)return!![];if(_0x45b16e>_0x5ddad1)return![];}return![];}async function oneTimeMigration(){const _0x56994c=_0x5b879c;let _0x5eacaa=dbLogs[_0x56994c(0x175)](_0x56994c(0x146))['value']();if(isOlderVersion(_0x5eacaa,_0x56994c(0x154))){let _0x276140=[];const _0x190a6a=dbLogs[_0x56994c(0x175)]('logs')[_0x56994c(0x1cf)]();_0x190a6a['forEach'](_0x1ad333=>{const _0x41b136=_0x56994c;_0x276140[_0x41b136(0xcd)]({'time':_0x1ad333['time'],'type':_0x1ad333[_0x41b136(0xb0)],'event':_0x1ad333[_0x41b136(0x1c5)]});}),dbLogs[_0x56994c(0x175)](_0x56994c(0x18d))[_0x56994c(0xc9)](_0x276140)[_0x56994c(0x19f)]();}let _0x2f6709=dbConfig[_0x56994c(0x175)](_0x56994c(0x146))[_0x56994c(0x1cf)]();if(isOlderVersion(_0x2f6709,'2.3.5')){let _0x1035f8=dbConfig[_0x56994c(0x175)](_0x56994c(0x1fd))[_0x56994c(0x13e)]({'botID':botID})[_0x56994c(0x1cf)]();if(_0x1035f8){let _0x59bb42=[];_0x1035f8[_0x56994c(0xfc)][_0x56994c(0x113)](_0x24eacf=>{const _0x4b1825=_0x56994c;_0x59bb42['push']({'coin':_0x24eacf[_0x4b1825(0x1b7)],'number':_0x24eacf[_0x4b1825(0x1c8)],'price':_0x24eacf[_0x4b1825(0xc5)]}),delete _0x24eacf[_0x4b1825(0x1c8)],delete _0x24eacf[_0x4b1825(0xc5)];});if(_0x59bb42['length']!==0x0)fs[_0x56994c(0x1f1)](configbackuppath+(_0x56994c(0x1df)+botID+'.json'),JSON[_0x56994c(0x104)](_0x59bb42,null,0x4),function(_0x2e4c23){if(_0x2e4c23){}});const _0x1a7d8d=(_0x4bde45,_0x31d859)=>{const _0x974245=_0x56994c;let _0x1f1ed4=[];_0x31d859[_0x974245(0x113)](_0x55e05d=>{const _0x813a70=_0x974245,_0x82e0a4=_0x4bde45['find'](_0x5b4892=>_0x5b4892[_0x813a70(0x1b7)]==_0x55e05d[_0x813a70(0x1b7)]);if(!_0x82e0a4)_0x1f1ed4['push'](_0x55e05d);});let _0x316359=[];return _0x4bde45[_0x974245(0x113)](_0x5c189f=>{const _0x4af0e2=_0x974245,_0x475c9e=_0x31d859['find'](_0x539d34=>_0x539d34['coin']==_0x5c189f[_0x4af0e2(0x1b7)]);if(!_0x475c9e||_0x475c9e[_0x4af0e2(0xb5)]==0x0&&_0x5c189f['number']!=0x0)_0x316359['push'](_0x5c189f);}),{'missingDay1':_0x1f1ed4,'notInDay2':_0x316359};},_0xc5d4a7=dbPerformance['get']('data')[_0x56994c(0xa9)]()[_0x56994c(0x1cf)]();if(_0xc5d4a7[_0x56994c(0x108)]>0x1){const {missingDay1:_0x19ca62,notInDay2:_0x299437}=_0x1a7d8d(_0x59bb42,_0xc5d4a7[0x1][_0x56994c(0xe3)]);_0x59bb42=[..._0x59bb42,..._0x19ca62],_0x299437[_0x56994c(0x113)](_0x4a89f0=>{const _0x75d895=_0x56994c;let _0x22f912=_0x59bb42[_0x75d895(0xd8)](_0x4b9240=>_0x4b9240[_0x75d895(0x1b7)]==_0x4a89f0['coin']);_0x22f912!=-0x1&&_0x59bb42['splice'](_0x22f912,0x1);});}_0x59bb42[_0x56994c(0x1e3)]((_0x253e5c,_0x4936cb)=>_0x253e5c[_0x56994c(0x1b7)]>_0x4936cb['coin']?0x1:_0x4936cb[_0x56994c(0x1b7)]>_0x253e5c['coin']?-0x1:0x0);let _0x4bf7be=[{'date':_0x1035f8[_0x56994c(0x1f3)],'changes':_0x59bb42}];_0xc5d4a7['length']>0x2&&_0xc5d4a7[_0x56994c(0x113)]((_0x50ba7e,_0x1c6732)=>{const _0x1c930e=_0x56994c;if(_0x1c6732>0x0&&_0x1c6732<_0xc5d4a7['length']-0x1){const {missingDay1:_0x43d330,notInDay2:_0x390909}=_0x1a7d8d(_0xc5d4a7[_0x1c6732][_0x1c930e(0xe3)],_0xc5d4a7[_0x1c6732+0x1]['coins']);_0x59bb42=[],(_0x43d330['length']!=0x0||_0x390909[_0x1c930e(0x108)]!=0x0)&&(_0x43d330[_0x1c930e(0x108)]!=0x0&&_0x59bb42[_0x1c930e(0xcd)](..._0x43d330),_0x390909['length']!=0x0&&(_0x390909['forEach'](_0x5e9488=>{const _0x578272=_0x1c930e;_0x5e9488[_0x578272(0xb5)]=-_0x5e9488[_0x578272(0xb5)];}),_0x59bb42[_0x1c930e(0xcd)](..._0x390909)),_0x59bb42[_0x1c930e(0x1e3)]((_0x463efe,_0x6b2e42)=>_0x463efe[_0x1c930e(0x1b7)]>_0x6b2e42[_0x1c930e(0x1b7)]?0x1:_0x6b2e42[_0x1c930e(0x1b7)]>_0x463efe[_0x1c930e(0x1b7)]?-0x1:0x0),_0x4bf7be[_0x1c930e(0xcd)]({'date':_0xc5d4a7[_0x1c6732+0x1][_0x1c930e(0x19c)],'changes':_0x59bb42}));}}),dbConfig[_0x56994c(0x175)]('bot')[_0x56994c(0x13e)]({'botID':botID})[_0x56994c(0xc9)]({..._0x1035f8,'liquidity':_0x4bf7be})[_0x56994c(0x19f)]();}}if(isOlderVersion(_0x2f6709,'2.6.0')){let _0x5e4019=dbConfig[_0x56994c(0x175)](_0x56994c(0x1fd))[_0x56994c(0x13e)]({'botID':botID})[_0x56994c(0x1cf)]();if(_0x5e4019){const _0x4ed4cb=_0x5e4019[_0x56994c(0x181)],_0x14918a=_0x4ed4cb?capitalize(_0x4ed4cb):'Binance';dbConfig[_0x56994c(0x175)](_0x56994c(0x1fd))[_0x56994c(0x13e)]({'botID':botID})[_0x56994c(0xc9)]({'exchange':_0x14918a})[_0x56994c(0x19f)]();}}let _0x1889b5=dbPerformance[_0x56994c(0x175)](_0x56994c(0x146))['value']();isOlderVersion(_0x1889b5,_0x56994c(0x154))&&setStartDatePerformance();let _0x49e6f2=dbCoinResults['get'](_0x56994c(0x146))[_0x56994c(0x1cf)]();if(isOlderVersion(_0x49e6f2,'2.5.0')){let _0x446cad=dbCoinResults['get'](_0x56994c(0xe3))[_0x56994c(0x1cf)]();if(_0x446cad[_0x56994c(0x108)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x5c4552=_0x5b879c;dbConfig[_0x5c4552(0x168)](_0x5c4552(0x146),serverversion)[_0x5c4552(0x19f)](),dbPerformance['set'](_0x5c4552(0x146),serverversion)['write'](),dbLogs[_0x5c4552(0x168)](_0x5c4552(0x146),serverversion)[_0x5c4552(0x19f)](),dbCoinResults['set'](_0x5c4552(0x146),serverversion)['write']();}function getConfiguration(_0x5ab048){const _0xf6cf70=_0x5b879c;let _0x267565=dbConfig[_0xf6cf70(0x175)]('bot')[_0xf6cf70(0x13e)]({'botID':_0x5ab048})[_0xf6cf70(0x1cf)]();if(_0x267565){let _0x57769d=![];typeof _0x267565[_0xf6cf70(0xc2)]==_0xf6cf70(0x11f)&&(_0x267565={..._0x267565,'threshold':Number(_0x267565[_0xf6cf70(0xc2)])},_0x57769d=!![]),_0x267565[_0xf6cf70(0xd6)]==null&&(_0x267565={..._0x267565,'change24h':-0x14},_0x57769d=!![]),!_0x267565[_0xf6cf70(0x180)]&&(_0x267565={..._0x267565,'fiat':'USD'},_0x57769d=!![]),!_0x267565[_0xf6cf70(0x13a)]&&(_0x267565={..._0x267565,'onepagemode':settings[_0xf6cf70(0x13a)]},_0x57769d=!![]),_0x57769d&&(_0x267565={'botID':_0x267565['botID'],'exchange':_0x267565['exchange'],'apiKey':_0x267565[_0xf6cf70(0x12b)],'apiSecret':_0x267565['apiSecret'],'apiPassword':_0x267565[_0xf6cf70(0x179)],'basecoin':_0x267565[_0xf6cf70(0xa3)],'botname':_0x267565[_0xf6cf70(0x167)],'showname':_0x267565[_0xf6cf70(0x14b)],'threshold':_0x267565['threshold'],'ordertype':_0x267565['ordertype'],'timeout':_0x267565[_0xf6cf70(0x13b)],'fiat':_0x267565[_0xf6cf70(0x180)],'startdate':_0x267565[_0xf6cf70(0x1f3)],'recreate':_0x267565[_0xf6cf70(0x1bc)],'timeshift':_0x267565['timeshift'],'onepagemode':_0x267565[_0xf6cf70(0x13a)],'headless':_0x267565[_0xf6cf70(0x1a5)],'cooldown':_0x267565[_0xf6cf70(0x1e8)],'change24h':_0x267565[_0xf6cf70(0xd6)],'emojibuy':_0x267565[_0xf6cf70(0x186)],'emojisell':_0x267565['emojisell'],'portfolio':_0x267565[_0xf6cf70(0xfc)],'liquidity':_0x267565[_0xf6cf70(0x1bf)],'openOrders':_0x267565[_0xf6cf70(0x1c6)]},dbConfig[_0xf6cf70(0x175)](_0xf6cf70(0x1fd))['remove']()['write'](),dbConfig[_0xf6cf70(0x175)](_0xf6cf70(0x1fd))[_0xf6cf70(0xcd)](_0x267565)[_0xf6cf70(0x19f)]());}else _0x267565={'botID':_0x5ab048,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0xf6cf70(0x1b5)+_0x5ab048,'showname':![],'threshold':0x3,'ordertype':_0xf6cf70(0x1cd),'timeout':0x14,'fiat':_0xf6cf70(0x129),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0xf6cf70(0x13a)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x267565;}function emittedConfiguration(){const _0x9899e6=_0x5b879c;let _0x1923f0;if(config[_0x9899e6(0x12b)]=='')_0x1923f0={...config,'configstate':_0x9899e6(0xa4)};else config['apiKey']=='***'?_0x1923f0={...config,'configstate':'recovery'}:(_0x1923f0={...config,'apiKey':_0x9899e6(0xa8),'apiSecret':_0x9899e6(0xa8)},config[_0x9899e6(0x179)]&&(_0x1923f0[_0x9899e6(0x179)]=_0x9899e6(0xa8)));return _0x1923f0;}function getSettings(){const _0x646247=_0x5b879c;return dbSettings[_0x646247(0x175)](_0x646247(0x130))[_0x646247(0x1cf)]();}function getSecure(){const _0x397e5a=_0x5b879c;return dbSecure[_0x397e5a(0x175)]('secure')[_0x397e5a(0x1cf)]()||{};}function updateTimeshift(_0x7565b0){const _0x19abf1=_0x5b879c;let _0x4b08c4=dbConfig[_0x19abf1(0x175)]('bot')['find']({'botID':botID})[_0x19abf1(0x1cf)]();_0x4b08c4&&dbConfig[_0x19abf1(0x175)]('bot')['find']({'botID':botID})[_0x19abf1(0xc9)]({'timeshift':_0x7565b0})[_0x19abf1(0x19f)](),config[_0x19abf1(0x1b9)]=_0x7565b0,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x40ca4a){const _0xed59ba=_0x5b879c;let _0x121a24=dbConfig['get'](_0xed59ba(0x1fd))[_0xed59ba(0x13e)]({'botID':botID})[_0xed59ba(0x1cf)]();_0x121a24&&dbConfig[_0xed59ba(0x175)](_0xed59ba(0x1fd))[_0xed59ba(0x13e)]({'botID':botID})[_0xed59ba(0xc9)]({'onepagemode':_0x40ca4a})[_0xed59ba(0x19f)](),config['onepagemode']=_0x40ca4a,proxyEmit(_0xed59ba(0x194),emittedConfiguration());}async function storeConfiguration(_0x2273c1){const _0x5a7f9f=_0x5b879c;logger[_0x5a7f9f(0x18c)](_0x5a7f9f(0x97));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x5a7f9f(0x18c)](_0x5a7f9f(0x1f2));let _0x24bc4d=[],_0x100026=![],_0x70a780=![],_0x1db046=[];_0x2273c1[_0x5a7f9f(0xfc)][_0x5a7f9f(0x113)](_0x7a4613=>{const _0x1b7e92=_0x5a7f9f;if(!_0x7a4613[_0x1b7e92(0x1f0)]&&_0x7a4613[_0x1b7e92(0x1b7)]!=_0x2273c1[_0x1b7e92(0xa3)])_0x1db046['push'](_0x7a4613[_0x1b7e92(0x94)]);}),_0x1db046['forEach'](_0x1ad1f8=>{const _0x24e3ec=_0x5a7f9f,_0x4300cf=watchedSymbols[_0x24e3ec(0x185)](_0x1ad1f8);!_0x4300cf&&_0x24bc4d[_0x24e3ec(0xcd)](_0x1ad1f8);});_0x24bc4d['length']>0x0?_0x100026=!![]:currentCoins[_0x5a7f9f(0x113)](_0x44e1ac=>{const _0x4294ea=_0x5a7f9f;if(_0x44e1ac['coin']!=config[_0x4294ea(0xa3)]){const _0x16a8bb=_0x1db046['find'](_0x59b959=>_0x59b959==_0x44e1ac[_0x4294ea(0x94)]);!_0x16a8bb&&(_0x100026=!![]);}});_0x2273c1[_0x5a7f9f(0xfc)][_0x5a7f9f(0x113)](_0x1d99b1=>{const _0xb2de17=_0x5a7f9f,_0x4fb7a9=config[_0xb2de17(0xfc)][_0xb2de17(0x13e)](_0x45de33=>_0x45de33[_0xb2de17(0x1b7)]==_0x1d99b1[_0xb2de17(0x1b7)]);if(_0x4fb7a9&&_0x1d99b1[_0xb2de17(0x16d)]!=_0x4fb7a9[_0xb2de17(0x16d)])_0x70a780=!![];});let _0x3e3f77=dbConfig[_0x5a7f9f(0x175)]('bot')[_0x5a7f9f(0x13e)]({'botID':botID})[_0x5a7f9f(0x1cf)]();_0x2273c1={..._0x2273c1,'apiKey':crypt[_0x5a7f9f(0xe4)](secure[_0x5a7f9f(0x99)],_0x2273c1[_0x5a7f9f(0x12b)])[_0x5a7f9f(0x1af)],'apiSecret':crypt['decrypt'](secure[_0x5a7f9f(0x99)],_0x2273c1[_0x5a7f9f(0xb8)])[_0x5a7f9f(0x1af)]};_0x2273c1[_0x5a7f9f(0x179)]&&(_0x2273c1[_0x5a7f9f(0x179)]=crypt[_0x5a7f9f(0xe4)](secure['privateKey'],_0x2273c1[_0x5a7f9f(0x179)])[_0x5a7f9f(0x1af)]);let _0x3d21ef=![];if(_0x3e3f77){_0x2273c1['apiKey']==_0x5a7f9f(0xa8)?_0x2273c1['apiKey']=config[_0x5a7f9f(0x12b)]:_0x3d21ef=!![];_0x2273c1[_0x5a7f9f(0xb8)]==_0x5a7f9f(0xa8)?_0x2273c1[_0x5a7f9f(0xb8)]=config['apiSecret']:_0x3d21ef=!![];if(_0x2273c1[_0x5a7f9f(0x179)]=='************')_0x2273c1[_0x5a7f9f(0x179)]=config['apiPassword'];else{if(_0x2273c1['apiPassword'])_0x3d21ef=!![];}dbConfig[_0x5a7f9f(0x175)](_0x5a7f9f(0x1fd))[_0x5a7f9f(0x13e)]({'botID':botID})[_0x5a7f9f(0xc9)](_0x2273c1)[_0x5a7f9f(0x19f)]();}else dbConfig[_0x5a7f9f(0x175)](_0x5a7f9f(0x1fd))[_0x5a7f9f(0xcd)](_0x2273c1)['write'](),_0x3d21ef=!![],process[_0x5a7f9f(0x105)]({'status':_0x5a7f9f(0x137),'live':_0x5a7f9f(0x117)},_0x3a7003=>{});process[_0x5a7f9f(0x105)]({'botname':_0x2273c1['botname']},_0x56612b=>{}),updateBotManager(),config={..._0x2273c1},proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3d21ef)await reset(_0x24bc4d,!![]);else _0x100026||_0x70a780?await reset(_0x24bc4d,![]):getBalances();blockTransactionDetection=![],logger['debug'](_0x5a7f9f(0x1e5));}async function storeHeadless(_0x247845){const _0x89628e=_0x5b879c,_0x24fc14={...config,'headless':_0x247845[_0x89628e(0x1a5)]};let _0x392ff1=dbConfig[_0x89628e(0x175)]('bot')[_0x89628e(0x13e)]({'botID':botID})[_0x89628e(0x1cf)]();_0x392ff1&&dbConfig[_0x89628e(0x175)](_0x89628e(0x1fd))[_0x89628e(0x13e)]({'botID':botID})['assign'](_0x24fc14)[_0x89628e(0x19f)](),config={..._0x24fc14},updateBotManager(),proxyEmit(_0x89628e(0x194),emittedConfiguration());}async function storeFiat(_0x27ada0){const _0x457f87=_0x5b879c,_0x400873={...config,'fiat':_0x27ada0};let _0x87ddba=dbConfig[_0x457f87(0x175)]('bot')[_0x457f87(0x13e)]({'botID':botID})[_0x457f87(0x1cf)]();_0x87ddba&&dbConfig[_0x457f87(0x175)](_0x457f87(0x1fd))[_0x457f87(0x13e)]({'botID':botID})[_0x457f87(0xc9)](_0x400873)[_0x457f87(0x19f)](),config={..._0x400873},proxyEmit(_0x457f87(0x194),emittedConfiguration());}function resetHistory(){const _0x3d8a15=_0x5b879c;logger[_0x3d8a15(0xbe)]('Resetting\x20bot\x20history');try{if(fs[_0x3d8a15(0x190)](path['join'](configpath,_0x3d8a15(0xeb)+botID+_0x3d8a15(0x110))))fs[_0x3d8a15(0x16c)](path[_0x3d8a15(0xf4)](configpath,'bot-'+botID+_0x3d8a15(0x110)));if(fs[_0x3d8a15(0x190)](path['join'](configpath,_0x3d8a15(0xeb)+botID+_0x3d8a15(0x1a9))))fs['unlinkSync'](path['join'](configpath,_0x3d8a15(0xeb)+botID+_0x3d8a15(0x1a9)));if(fs[_0x3d8a15(0x190)](path[_0x3d8a15(0xf4)](configpath,_0x3d8a15(0xeb)+botID+_0x3d8a15(0x140))))fs[_0x3d8a15(0x16c)](path[_0x3d8a15(0xf4)](configpath,_0x3d8a15(0xeb)+botID+_0x3d8a15(0x140)));}catch(_0x48ecac){if(_0x48ecac)logger[_0x3d8a15(0xbe)]('Error\x20while\x20deleting\x20files:\x20',_0x48ecac);}const _0x3b8787=getDate();let _0x5b7577=[];currentCoins[_0x3d8a15(0x113)](_0x3d4632=>{const _0x3f0c84=_0x3d8a15;_0x5b7577[_0x3f0c84(0xcd)]({'coin':_0x3d4632[_0x3f0c84(0x1b7)],'number':_0x3d4632[_0x3f0c84(0xb5)],'price':_0x3d4632[_0x3f0c84(0x1d2)]});});let _0x3e8ef1=dbConfig[_0x3d8a15(0x175)](_0x3d8a15(0x1fd))['find']({'botID':botID})['value']();_0x3e8ef1&&(dbConfig['get']('bot')['find']({'botID':botID})['assign']({'liquidity':[{'date':_0x3b8787,'changes':_0x5b7577}]})[_0x3d8a15(0x19f)](),config[_0x3d8a15(0x1bf)]=[]),process[_0x3d8a15(0x105)]({'stop':'restart'},_0x18b6b2=>{});}function noslash(_0x19fe67){return _0x19fe67['replace']('/','');}function updateHighestFee(_0x250da3,_0x2e1d58){const _0x150da4=_0x5b879c;lastFees[_0x150da4(0x114)]=_0x250da3,lastFees[_0x150da4(0xec)]['length']===0x14&&lastFees[_0x150da4(0xec)][_0x150da4(0x19d)](),lastFees[_0x150da4(0xec)][_0x150da4(0xcd)](_0x2e1d58),lastFees[_0x150da4(0x10e)]=Math[_0x150da4(0x1d4)](...lastFees[_0x150da4(0xec)]);}async function updateNumberCoinsCcxt(_0x257f8e){const _0x2a5351=_0x5b879c;logger[_0x2a5351(0x18c)](_0x2a5351(0xbc)+_0x257f8e['symbol']+'\x20|\x20'+_0x257f8e[_0x2a5351(0x122)]+'\x20|\x20'+_0x257f8e['id']+'\x20|\x20'+_0x257f8e[_0x2a5351(0x157)]);let _0x3c42e4=_0x257f8e[_0x2a5351(0x122)],_0xa1a00c=![];currentCoins[_0x2a5351(0x113)](_0x28ac78=>{const _0x2b25e8=_0x2a5351;_0x28ac78[_0x2b25e8(0x94)]==_0x257f8e[_0x2b25e8(0x94)]&&(_0xa1a00c=!![]);});if(!_0xa1a00c)return;const _0x5854df=currentCoins[_0x2a5351(0x13e)](_0x34abd8=>_0x34abd8['symbol']==_0x257f8e[_0x2a5351(0x94)]),_0x48333f=_0x4f9a80=>{if(_0x5854df)_0x5854df['orderstatus']=_0x4f9a80;};if(_0x3c42e4=='open')_0x48333f('open');else{if(_0x3c42e4=='canceled'){_0x48333f(_0x2a5351(0xd3));const _0x2e2d30=await getCoins();[currentCoins,currentCoinsAll]=_0x2e2d30,await getOpenOrders(),handleOpenOrders();}else{if(_0x3c42e4==_0x2a5351(0xca)){logger[_0x2a5351(0x18c)]('1\x20-\x20FILLED:\x20'+_0x257f8e[_0x2a5351(0x94)]+_0x2a5351(0x18f)+_0x257f8e[_0x2a5351(0x1d5)]+_0x2a5351(0x18f)+_0x257f8e['id']+_0x2a5351(0x18f)+_0x257f8e['clientOrderId']);let _0x20f92e=![];if(lastOrders)lastOrders[_0x2a5351(0x113)](async _0x511a78=>{const _0x5a0d64=_0x2a5351;if(_0x511a78[_0x5a0d64(0x1f8)]==_0x257f8e['clientOrderId']){logger[_0x5a0d64(0x18c)](_0x5a0d64(0x173)+_0x257f8e[_0x5a0d64(0x157)]),_0x20f92e=!![];if(_0x511a78[_0x5a0d64(0x1d5)]==0x0){logger['debug'](_0x5a0d64(0x11a)+_0x257f8e[_0x5a0d64(0x157)]);_0x257f8e['average']?_0x511a78[_0x5a0d64(0xfb)]=_0x257f8e[_0x5a0d64(0x10a)]:_0x511a78[_0x5a0d64(0xfb)]=_0x257f8e[_0x5a0d64(0xfb)];_0x511a78[_0x5a0d64(0x1d5)]=_0x257f8e[_0x5a0d64(0x1d5)],_0x511a78[_0x5a0d64(0xda)]={'currency':_0x257f8e[_0x5a0d64(0xda)]?_0x257f8e['fee'][_0x5a0d64(0x114)]:null,'cost':_0x257f8e['fee']?_0x257f8e[_0x5a0d64(0xda)]['cost']:0x0},updateHighestFee(_0x511a78[_0x5a0d64(0xda)][_0x5a0d64(0x114)],_0x511a78[_0x5a0d64(0xda)][_0x5a0d64(0x1db)]),_0x48333f(_0x5a0d64(0x1d5)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x47a332=await getCoins();[currentCoins,currentCoinsAll]=_0x47a332;}await updateCoinResults(_0x511a78);}}});if(!_0x20f92e){logger['debug'](_0x2a5351(0x152)+_0x257f8e['id']),_0x48333f('filled');const _0x2d7c2d=await getCoins();[currentCoins,currentCoinsAll]=_0x2d7c2d,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x49069c=JSON['parse'](lastBalances[_0x2a5351(0xfc)]);const _0x39cf54=_0x49069c[_0x2a5351(0x13e)](_0x58df05=>_0x58df05['symbol']==_0x257f8e[_0x2a5351(0x94)]);if(_0x39cf54){if(_0x3c42e4==_0x2a5351(0x171))_0x39cf54[_0x2a5351(0x201)]=_0x39cf54[_0x2a5351(0x201)]==_0x2a5351(0x1d5)?_0x2a5351(0x1d5):_0x2a5351(0x171);else{if(_0x3c42e4==_0x2a5351(0xd3))_0x39cf54[_0x2a5351(0x201)]=_0x39cf54[_0x2a5351(0x201)]=='filled'?_0x2a5351(0x1d5):_0x2a5351(0xd3);else _0x3c42e4==_0x2a5351(0xca)&&(_0x39cf54[_0x2a5351(0x201)]=_0x2a5351(0x1d5));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x49069c)},proxyEmit(_0x2a5351(0x10c),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x327061=_0x5b879c;await getOpenOrders();let _0x48cf4e=![];currentCoins[_0x327061(0x113)](_0x53bd01=>{const _0x413412=_0x327061;_0x48cf4e=allOpenOrders[_0x413412(0x13e)](_0x1215c7=>_0x1215c7[_0x413412(0x94)]==_0x53bd01[_0x413412(0x94)]),_0x53bd01[_0x413412(0x201)]=_0x48cf4e?_0x413412(0x171):_0x413412(0x139);});}async function getCoins(_0xb46ea9=!![],_0x15abf3=config[_0x5b879c(0xa3)]){const _0x28fb7d=_0x5b879c;let _0x10fc1f,_0xc06e63=[],_0x48d8ff=[],_0xb61337=[],_0x1b4b58=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x10fc1f=await exchange[_0x28fb7d(0x18e)](),mybalances=_0x10fc1f[_0x28fb7d(0xbf)];for(const [_0x36a11f,_0x1698db]of Object['entries'](mybalances)){_0x1b4b58['push'](_0x36a11f);}if(_0x15abf3=='')for(const [_0x5aea6d,_0x560d94]of Object['entries'](mybalances)){_0x560d94[_0x28fb7d(0x116)]()!=0x0&&_0x48d8ff[_0x28fb7d(0xcd)]({'coin':_0x5aea6d});}else{let _0x16ff05=![];for(const [_0xef773b,_0x101d19]of Object[_0x28fb7d(0x1b2)](mybalances)){if(_0x1b4b58[_0x28fb7d(0x185)](_0xef773b)){const _0x59da47=config[_0x28fb7d(0xfc)][_0x28fb7d(0x13e)](_0xa472b6=>_0xa472b6[_0x28fb7d(0x1b7)]==_0xef773b),_0x120efb=_0xef773b+'/'+_0x15abf3,_0x26bd88=_0x15abf3+'/'+_0xef773b,_0x325e44=currentCoins[_0x28fb7d(0x13e)](_0xdb718e=>_0xdb718e[_0x28fb7d(0x1b7)]==_0xef773b);_0x16ff05=![];if((_0x101d19[_0x28fb7d(0x116)]()!=0x0||_0x59da47)&&(allSymbols[_0x28fb7d(0x185)](_0x120efb)||_0xef773b==_0x15abf3))_0xef773b!=_0x15abf3&&_0xc06e63['push'](_0x120efb),_0x48d8ff[_0x28fb7d(0xcd)]({'coin':_0xef773b,'symbol':_0x120efb,'reverse':![],'number':Math[_0x28fb7d(0x1d4)](_0x101d19+(_0x59da47&&_0x59da47[_0x28fb7d(0x16d)]||0x0),0x0),'orderstatus':_0x325e44?_0x325e44[_0x28fb7d(0x201)]:_0x28fb7d(0x139)});else(_0x101d19['toString']()!=0x0||_0x59da47)&&allSymbols['includes'](_0x26bd88)&&(_0xef773b!=_0x15abf3&&_0xc06e63[_0x28fb7d(0xcd)](_0x26bd88),_0x48d8ff[_0x28fb7d(0xcd)]({'coin':_0xef773b,'symbol':_0x26bd88,'reverse':!![],'number':Math[_0x28fb7d(0x1d4)](_0x101d19+(_0x59da47&&_0x59da47['offset']||0x0),0x0),'orderstatus':_0x325e44?_0x325e44['orderstatus']:_0x28fb7d(0x139)}));}}}}catch(_0x141d7e){if(!_0xb46ea9)handleErrorNoStop(_0x141d7e,'getCoins()');else await handleError(_0x141d7e,'getCoins()');}return _0xb61337=cloneDeep(_0x48d8ff),_0x48d8ff=_0x48d8ff[_0x28fb7d(0x1ec)](_0x5de6ad=>{const _0x1a8ac6=_0x28fb7d,_0x58282f=config[_0x1a8ac6(0xfc)][_0x1a8ac6(0x13e)](_0x1816ed=>_0x1816ed[_0x1a8ac6(0x1b7)]==_0x5de6ad['coin']);return _0x58282f&&!_0x58282f[_0x1a8ac6(0x1f0)];}),[_0x48d8ff,_0xb61337];}async function getCoinNumber(_0x5c65f2){const _0x3eed82=_0x5b879c;let _0xb0f6c2;try{const _0x368407=await exchange[_0x3eed82(0x18e)]();_0xb0f6c2=_0x368407[_0x3eed82(0xbf)][_0x5c65f2];}catch(_0x45e897){await handleError(_0x45e897,'getCoinNumber()');}return _0xb0f6c2;}async function getOpenOrders(){const _0x3d3dc0=_0x5b879c;let _0x358615;allOpenOrders=[];try{for(const _0x375ec8 of config[_0x3d3dc0(0xfc)]){!_0x375ec8[_0x3d3dc0(0x1f0)]&&_0x375ec8[_0x3d3dc0(0x1b7)]!=config[_0x3d3dc0(0xa3)]&&(_0x358615=await exchange['fetchOpenOrders'](_0x375ec8[_0x3d3dc0(0x94)]),_0x358615[_0x3d3dc0(0x108)]>0x0&&allOpenOrders[_0x3d3dc0(0xcd)](_0x358615[0x0]));}}catch(_0x315c63){await handleError(_0x315c63,_0x3d3dc0(0xef));}}async function handleOpenOrders(_0x115b42=0x0){const _0x4601ce=_0x5b879c;allOpenOrders[_0x4601ce(0x108)]==0x0&&lockOrders==ORDERS[_0x4601ce(0x1bb)]&&allOrdersPlaced&&(_0x115b42==0x0?(logger[_0x4601ce(0x18c)](_0x4601ce(0x1be)),_0x115b42++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x4601ce(0x156)),validateOrders(_0x4601ce(0x165))));}async function testAPI(_0x58012b){const _0x63e1e8=_0x5b879c,_0x215b3a=ccxt[_0x58012b[_0x63e1e8(0x181)][_0x63e1e8(0xf5)]()],_0x14b1dc=new _0x215b3a({'apiKey':_0x58012b['apiKey'],'secret':_0x58012b[_0x63e1e8(0xb8)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x58012b[_0x63e1e8(0x179)])_0x14b1dc[_0x63e1e8(0x162)]=_0x58012b[_0x63e1e8(0x179)];try{await _0x14b1dc[_0x63e1e8(0x148)]();}catch(_0x2a4df7){throw _0x2a4df7;}}function cloneDeep(_0x3bd90c){const _0x503d00=_0x5b879c;return JSON[_0x503d00(0x1c2)](JSON[_0x503d00(0x104)](_0x3bd90c));}async function getPortfolio(_0x4ec41a){const _0x25bfc9=_0x5b879c;let _0x916a89=[],_0x3073f8=[],_0x45932a=[],_0x407cff;if(_0x4ec41a[_0x25bfc9(0x12b)]!==_0x25bfc9(0xa8)||_0x4ec41a[_0x25bfc9(0xb8)]!=='************'||_0x4ec41a[_0x25bfc9(0x179)]&&_0x4ec41a[_0x25bfc9(0x179)]!==_0x25bfc9(0xa8)){if(config[_0x25bfc9(0x181)]){if(_0x4ec41a['apiKey']==_0x25bfc9(0xa8))_0x4ec41a[_0x25bfc9(0x12b)]=config[_0x25bfc9(0x12b)];if(_0x4ec41a[_0x25bfc9(0xb8)]=='************')_0x4ec41a[_0x25bfc9(0xb8)]=config[_0x25bfc9(0xb8)];if(_0x4ec41a[_0x25bfc9(0x179)]==_0x25bfc9(0xa8))_0x4ec41a[_0x25bfc9(0x179)]=config['apiPassword'];try{await testAPI(_0x4ec41a);}catch(_0x27124b){if(_0x27124b['toString']()[_0x25bfc9(0x185)]('AuthenticationError')){logger[_0x25bfc9(0x18c)](_0x25bfc9(0xcb)),proxyEmit(_0x25bfc9(0xfc),![]);return;}else{handleError(_0x27124b,_0x25bfc9(0xc6));return;}}}await initExchange(_0x4ec41a[_0x25bfc9(0x181)],_0x4ec41a[_0x25bfc9(0x12b)],_0x4ec41a['apiSecret'],_0x4ec41a[_0x25bfc9(0x179)]);try{await loadSymbols(_0x4ec41a['exchange'],!![]);}catch(_0x1892da){if(_0x1892da[_0x25bfc9(0x116)]()[_0x25bfc9(0x185)](_0x25bfc9(0x159))){proxyEmit(_0x25bfc9(0xfc),![]);return;}else{handleError(_0x1892da,_0x25bfc9(0x124));return;}}const _0x268cb6=await getCoins(![],_0x4ec41a[_0x25bfc9(0xa3)]);_0x45932a=cloneDeep(_0x268cb6[0x1]);}else _0x45932a=cloneDeep(currentCoinsAll);if(_0x4ec41a['basecoin']=='')proxyEmit('portfolio',_0x45932a);else{_0x45932a[_0x25bfc9(0x113)](_0x185355=>{const _0x59319c=_0x25bfc9;if(_0x185355['coin']!=_0x4ec41a[_0x59319c(0xa3)])_0x916a89['push'](_0x185355['symbol']);});try{_0x3073f8=await exchange[_0x25bfc9(0x1ea)](_0x916a89);}catch(_0x444b6b){if(_0x444b6b[_0x25bfc9(0x116)]()[_0x25bfc9(0x185)](_0x25bfc9(0x159))){proxyEmit(_0x25bfc9(0xfc),![]);return;}else{handleError(_0x444b6b,'getPortfolio(2)');return;}}_0x45932a[_0x25bfc9(0x113)](_0x8383b=>{const _0x475f27=_0x25bfc9;_0x8383b['coin']!=_0x4ec41a[_0x475f27(0xa3)]?_0x407cff=_0x8383b['reverse']?0x1/_0x3073f8[_0x8383b['symbol']][_0x475f27(0x1d2)]:_0x3073f8[_0x8383b['symbol']][_0x475f27(0x1d2)]:_0x407cff=0x1,_0x8383b[_0x475f27(0xfb)]=formatResult(_0x407cff,0x8);}),proxyEmit(_0x25bfc9(0xfc),_0x45932a);}}function truncateTradeAmount(_0x3780a4,_0x177280){const _0x88d9ff=_0x5b879c;let _0x2788af=0x0;try{_0x2788af=exchange[_0x88d9ff(0x1a7)](_0x3780a4,_0x177280);}catch(_0x11f3fa){}return _0x2788af;}function checkMinimums(_0x4775ec){const _0x2d61db=_0x5b879c;let _0x5889f3=!![];const _0x580d04=!_0x4775ec[_0x2d61db(0x9b)]?markets[_0x4775ec['symbol']]['limits']['amount'][_0x2d61db(0x200)]:markets[_0x4775ec['symbol']][_0x2d61db(0x142)][_0x2d61db(0x1db)][_0x2d61db(0x200)],_0x151d19=!_0x4775ec[_0x2d61db(0x9b)]?markets[_0x4775ec[_0x2d61db(0x94)]][_0x2d61db(0x142)][_0x2d61db(0x1db)][_0x2d61db(0x200)]:markets[_0x4775ec[_0x2d61db(0x94)]][_0x2d61db(0x142)]['amount'][_0x2d61db(0x200)],_0x43d636=truncateTradeAmount(_0x4775ec[_0x2d61db(0x94)],_0x4775ec[_0x2d61db(0xa0)]);_0x4775ec[_0x2d61db(0xa0)]=_0x43d636;if(Math[_0x2d61db(0x18a)](_0x43d636)<_0x580d04)_0x5889f3=![];if(Math[_0x2d61db(0x18a)](_0x43d636)*_0x4775ec[_0x2d61db(0x1d2)]<_0x151d19)_0x5889f3=![];if(_0x4775ec[_0x2d61db(0x14f)]==_0x2d61db(0x183)){let _0x3e8c10=config[_0x2d61db(0xfc)]['find'](_0x29f7fc=>_0x29f7fc['coin']==_0x4775ec[_0x2d61db(0x1b7)]);if(_0x3e8c10[_0x2d61db(0x16d)]>0x0){if(Math[_0x2d61db(0x18a)](_0x43d636)>_0x4775ec[_0x2d61db(0xb5)]-_0x3e8c10[_0x2d61db(0x16d)])_0x5889f3=![];}else{if(Math[_0x2d61db(0x18a)](_0x43d636)>_0x4775ec[_0x2d61db(0xb5)])_0x5889f3=![];}}if(_0x4775ec[_0x2d61db(0x14f)]==_0x2d61db(0x1f5)){let _0x1421e7=config['portfolio'][_0x2d61db(0x13e)](_0x18f47a=>_0x18f47a['coin']==config[_0x2d61db(0xa3)]),_0x50891d=currentCoins[_0x2d61db(0x13e)](_0x1507bd=>_0x1507bd[_0x2d61db(0x1b7)]==config[_0x2d61db(0xa3)]);if(_0x1421e7['offset']>0x0){if(Math['abs'](_0x43d636)*_0x4775ec['last']>_0x50891d['number']-_0x1421e7['offset'])_0x5889f3=![];}else{if(Math[_0x2d61db(0x18a)](_0x43d636)*_0x4775ec[_0x2d61db(0x1d2)]>_0x50891d[_0x2d61db(0xb5)])_0x5889f3=![];}}return _0x5889f3;}async function getBalances(_0x2d02ea=!![]){const _0x46e44f=_0x5b879c;let _0x401cbe=0x0,_0x571122;const _0x36dc42=config[_0x46e44f(0xc2)];if(config[_0x46e44f(0x1a5)]&&config[_0x46e44f(0xd6)]<0x0)await validate24hChanges();currentCoins[_0x46e44f(0x113)](_0x5dbdb0=>{const _0x2f5baa=_0x46e44f;if(_0x5dbdb0[_0x2f5baa(0x1b7)]!=config[_0x2f5baa(0xa3)]){let _0x6f5072=global[_0x2f5baa(0xae)][noslash(_0x5dbdb0[_0x2f5baa(0x94)])];_0x571122=_0x5dbdb0['reverse']?0x1/_0x6f5072:_0x6f5072;}else _0x571122=0x1;let _0x150678=_0x5dbdb0['number']*_0x571122;_0x401cbe+=_0x150678,_0x5dbdb0[_0x2f5baa(0x1d2)]=formatResult(Number(_0x571122),0x8),_0x5dbdb0[_0x2f5baa(0x1cf)]=_0x150678;}),currentCoins[_0x46e44f(0x113)](_0x3e70ea=>{const _0x4b1781=_0x46e44f;let _0x2431c6=config['portfolio'][_0x4b1781(0x13e)](_0x19fff9=>_0x19fff9['coin']==_0x3e70ea[_0x4b1781(0x1b7)]),_0x48faec=Number(_0x2431c6[_0x4b1781(0xf3)]),_0x47241a=_0x3e70ea[_0x4b1781(0x1cf)]/_0x401cbe*0x64,_0x99d104=_0x48faec*_0x401cbe/0x64/_0x3e70ea[_0x4b1781(0x1d2)]-_0x3e70ea[_0x4b1781(0xb5)];_0x3e70ea['distribution']=formatResult(_0x47241a,0x3),_0x3e70ea[_0x4b1781(0x17d)]=formatResult(_0x48faec,0x3),_0x3e70ea[_0x4b1781(0xa0)]=formatResult(_0x99d104,0x8),_0x3e70ea['side']='',_0x3e70ea[_0x4b1781(0x1a2)]=![];if(_0x3e70ea[_0x4b1781(0x1b7)]!=config[_0x4b1781(0xa3)]){if(_0x3e70ea[_0x4b1781(0xf3)]>_0x48faec)_0x3e70ea[_0x4b1781(0x14f)]=_0x4b1781(0x183),_0x3e70ea[_0x4b1781(0x1a2)]=checkMinimums(_0x3e70ea);else _0x3e70ea[_0x4b1781(0xf3)]<_0x48faec&&(_0x3e70ea[_0x4b1781(0x14f)]='buy',_0x3e70ea['valid']=checkMinimums(_0x3e70ea));}_0x3e70ea['delta']=_0x3e70ea[_0x4b1781(0xf3)]/_0x3e70ea[_0x4b1781(0x17d)]-0x1;if(_0x3e70ea[_0x4b1781(0x201)]==_0x4b1781(0x1d5)||_0x3e70ea['orderstatus']==_0x4b1781(0xd3))_0x3e70ea[_0x4b1781(0x201)]=_0x4b1781(0x139);}),currentCoins['sort']((_0x98ee55,_0x24d0b8)=>_0x98ee55[_0x46e44f(0x135)]<_0x24d0b8[_0x46e44f(0x135)]?0x1:_0x24d0b8[_0x46e44f(0x135)]<_0x98ee55['delta']?-0x1:0x0);const _0x3ff97c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3ff97c[_0x46e44f(0x141)],'usd':_0x3ff97c[_0x46e44f(0x9c)],'portfolio':JSON[_0x46e44f(0x104)](currentCoins),'threshold':_0x36dc42},proxyEmit(_0x46e44f(0x10c),{'serverversion':serverversion,'balances':lastBalances});if(_0x2d02ea){if(config[_0x46e44f(0x1a5)])headlessMode({'portfolio':currentCoins,'threshold':_0x36dc42});else{if(lockOrders==ORDERS[_0x46e44f(0x1ba)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x36dc42});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x15293f=getNormalizedPerformance();getStartingBalances(_0x15293f),emitPerformance(_0x15293f);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0xdb1197=getNormalizedPerformance();emitPerformance(_0xdb1197),getStartingBalances(_0xdb1197),logger[_0x46e44f(0x18c)](_0x46e44f(0x1b0));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x43809f=_0x5b879c;if(!lastBalances)return;let _0x35ee38=[],_0xa8183f,_0x3fcc9e=JSON[_0x43809f(0x1c2)](lastBalances[_0x43809f(0xfc)]);_0x3fcc9e['sort']((_0x5948a3,_0x303870)=>_0x5948a3[_0x43809f(0x1b7)]>_0x303870[_0x43809f(0x1b7)]?0x1:_0x303870[_0x43809f(0x1b7)]>_0x5948a3[_0x43809f(0x1b7)]?-0x1:0x0),_0x3fcc9e[_0x43809f(0x113)](_0x3f1d9e=>{const _0x271bd5=_0x43809f;let _0x1830db={'coin':_0x3f1d9e[_0x271bd5(0x1b7)],'number':_0x3f1d9e[_0x271bd5(0xb5)],'price':_0x3f1d9e[_0x271bd5(0x1d2)]};_0x35ee38[_0x271bd5(0xcd)](_0x1830db);});const _0x40200d=await getFiat();_0xa8183f={'date':lastBalances[_0x43809f(0x1a4)][_0x43809f(0x10f)]('\x20')[0x0],'eur':_0x40200d[_0x43809f(0x141)],'usd':_0x40200d[_0x43809f(0x9c)],'coins':_0x35ee38};let _0x22a018=dbPerformance['get'](_0x43809f(0x9d))[_0x43809f(0x13e)]({'date':_0xa8183f[_0x43809f(0x19c)]})[_0x43809f(0x1cf)]();_0x22a018?_0xa8183f[_0x43809f(0x19c)]!=config['startdate']&&dbPerformance[_0x43809f(0x175)](_0x43809f(0x9d))[_0x43809f(0x13e)]({'date':_0xa8183f['date']})[_0x43809f(0xc9)](_0xa8183f)['write']():dbPerformance[_0x43809f(0x175)](_0x43809f(0x9d))[_0x43809f(0xcd)](_0xa8183f)[_0x43809f(0x19f)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x49b19c=_0x5b879c;let _0x4e6058=[];if(dbPerformance[_0x49b19c(0x149)](_0x49b19c(0x9d))[_0x49b19c(0x1cf)]()){let _0x1ae96c=dbPerformance['get'](_0x49b19c(0x9d))[_0x49b19c(0xa9)]()[_0x49b19c(0x205)](_0x49b19c(0x19c))[_0x49b19c(0x1cf)](),_0x2075c5=[...config['liquidity']];_0x2075c5['sort']((_0x275a30,_0x5ee712)=>_0x275a30[_0x49b19c(0x19c)]>_0x5ee712[_0x49b19c(0x19c)]?-0x1:_0x5ee712[_0x49b19c(0x19c)]>_0x275a30['date']?0x1:0x0);let _0x228829=0x1,_0x41fca7=[],_0x88ba8d=0x0;_0x1ae96c[_0x49b19c(0x1ac)]()[_0x49b19c(0x9b)]()[_0x49b19c(0x113)]((_0x43a935,_0x329e7f)=>{const _0x24c8ce=_0x49b19c;if(_0x2075c5[_0x88ba8d]){if(_0x1ae96c[_0x1ae96c[_0x24c8ce(0x108)]-_0x329e7f]&&_0x2075c5[_0x88ba8d]['date']==_0x1ae96c[_0x1ae96c['length']-_0x329e7f][_0x24c8ce(0x19c)]){if(_0x329e7f<_0x1ae96c[_0x24c8ce(0x108)]){let _0x1bbb25=0x0,_0x265ff9=0x0;_0x1ae96c[_0x1ae96c['length']-_0x329e7f][_0x24c8ce(0xe3)]['forEach'](_0x36643d=>{const _0x5bb9ce=_0x24c8ce;_0x265ff9+=_0x36643d[_0x5bb9ce(0xb5)]*_0x36643d['price'];}),_0x2075c5[_0x88ba8d][_0x24c8ce(0x111)]['forEach'](_0x4d68ea=>{const _0x2f9348=_0x24c8ce;_0x1bbb25+=_0x4d68ea[_0x2f9348(0xb5)]*_0x4d68ea[_0x2f9348(0xfb)];}),_0x228829*=_0x1bbb25/(_0x265ff9-_0x1bbb25)+0x1;}_0x88ba8d++;}}let _0x3225eb=0x0;_0x43a935[_0x24c8ce(0xe3)][_0x24c8ce(0x113)](_0x4d8a6b=>{const _0x393851=_0x24c8ce;_0x3225eb+=_0x4d8a6b[_0x393851(0xb5)]*_0x4d8a6b[_0x393851(0xfb)];}),_0x41fca7[_0x1ae96c[_0x24c8ce(0x108)]-_0x329e7f-0x1]=_0x3225eb*(_0x228829-0x1);});let _0x3ca42a=[];_0x2075c5=[...config[_0x49b19c(0x1bf)]]||[];let _0x597019=0x0;_0x88ba8d=0x0,_0x1ae96c[_0x49b19c(0x113)]((_0x90ba5a,_0x1f40cc)=>{const _0x3f8dd5=_0x49b19c;if(_0x2075c5[_0x88ba8d]){const _0x316c2e=fns['parse'](_0x2075c5[_0x88ba8d][_0x3f8dd5(0x19c)],_0x3f8dd5(0x18b),new Date()),_0x58ec27=fns[_0x3f8dd5(0x1c2)](_0x90ba5a[_0x3f8dd5(0x19c)],_0x3f8dd5(0x18b),new Date());if(fns['isEqual'](_0x316c2e,_0x58ec27)){let _0x404f50=0x0;_0x2075c5[_0x88ba8d][_0x3f8dd5(0x111)][_0x3f8dd5(0x113)](_0x369d6e=>{const _0x17d261=_0x3f8dd5;!_0x3ca42a[_0x369d6e[_0x17d261(0x1b7)]]?_0x3ca42a[_0x369d6e[_0x17d261(0x1b7)]]=_0x369d6e[_0x17d261(0xb5)]:(_0x404f50=_0x3ca42a[_0x369d6e[_0x17d261(0x1b7)]],_0x3ca42a[_0x369d6e[_0x17d261(0x1b7)]]+=_0x369d6e[_0x17d261(0xb5)]);const _0x2d9d50=_0x90ba5a[_0x17d261(0xe3)][_0x17d261(0x13e)](_0x4cdc78=>_0x4cdc78[_0x17d261(0x1b7)]==_0x369d6e['coin']);(!_0x2d9d50||_0x2d9d50['number']==0x0)&&(_0x597019+=(-_0x369d6e[_0x17d261(0xb5)]-_0x404f50)*_0x369d6e[_0x17d261(0xfb)]);}),_0x88ba8d++;}}_0x90ba5a['coins'][_0x3f8dd5(0x113)]((_0x2a05db,_0x4cba76)=>{const _0x31ff26=_0x3f8dd5;_0x3ca42a[_0x2a05db[_0x31ff26(0x1b7)]]&&(_0x2a05db[_0x31ff26(0xa4)]=_0x3ca42a[_0x2a05db[_0x31ff26(0x1b7)]]);}),_0x4e6058['push']({'date':_0x90ba5a['date'],'eur':_0x90ba5a[_0x3f8dd5(0x141)],'usd':_0x90ba5a[_0x3f8dd5(0x9c)],'offset':_0x41fca7[_0x1f40cc],'netoffset':_0x597019,'coins':_0x90ba5a['coins']});});}return _0x4e6058;}function _0x5f2f(_0x121f86,_0x3d5431){const _0x423efc=_0x590b();return _0x5f2f=function(_0x461cb8,_0x326c98){_0x461cb8=_0x461cb8-0x93;let _0x590bb2=_0x423efc[_0x461cb8];return _0x590bb2;},_0x5f2f(_0x121f86,_0x3d5431);}function emitPerformance(_0x11b751){const _0x190761=_0x5b879c;_0x11b751[_0x190761(0x108)]!==0x0?(proxyEmit(_0x190761(0x191),_0x11b751),lastPerformanceEmitted=getDate()):proxyEmit(_0x190761(0x191),[]);}function getPerf(_0x1a78b9,_0xf4551b){const _0x285a8f=_0x5b879c;let _0x3ff272=0x0,_0x4bea58=0x0,_0x30908b=0x0;_0x1a78b9[_0x285a8f(0xe3)]['forEach'](_0x44407d=>{const _0x15e727=_0x285a8f;_0x3ff272+=_0x44407d[_0x15e727(0xb5)]*_0x44407d['price'];});_0xf4551b&&(_0x3ff272+=_0x1a78b9[_0x285a8f(0x16d)]);if(config[_0x285a8f(0xa3)]==='BTC'||config[_0x285a8f(0xa3)]===_0x285a8f(0x1f9))_0x4bea58=_0x3ff272*_0x1a78b9[_0x285a8f(0x141)],_0x30908b=_0x3ff272*_0x1a78b9['usd'];else{if(config[_0x285a8f(0xa3)]===_0x285a8f(0x1ee)||config[_0x285a8f(0xa3)]==='USDT'||config['basecoin']===_0x285a8f(0x129))_0x4bea58=_0x3ff272*_0x1a78b9[_0x285a8f(0x141)]/_0x1a78b9[_0x285a8f(0x9c)],_0x30908b=_0x3ff272;else config[_0x285a8f(0xa3)]==='EUR'&&(_0x4bea58=_0x3ff272,_0x30908b=_0x3ff272*_0x1a78b9[_0x285a8f(0x9c)]/_0x1a78b9[_0x285a8f(0x141)]);}return[_0x3ff272,_0x4bea58,_0x30908b];}function getKPIs(_0x204b2d,_0x263de5='EUR'){const _0x20d4f0=_0x5b879c,_0x242f39=config['basecoin'],_0x5a0712=lastBalances,_0x862a66=currentCoins,_0x29a272=getNormalizedPerformance(),_0x11d96d=_0x204b2d===_0x20d4f0(0xa3)?_0x242f39:_0x204b2d==='fiat'||_0x204b2d==='net-fiat'?_0x263de5:'Net\x20'+_0x242f39,_0x5db506=_0x204b2d==='net-basecoin'?_0x20d4f0(0x1fa):_0x204b2d===_0x20d4f0(0x160)?_0x20d4f0(0x1fa):_0x11d96d+_0x20d4f0(0x19e),_0x2a2d74=_0x204b2d===_0x20d4f0(0xb6)||_0x204b2d===_0x20d4f0(0x160)?_0x20d4f0(0x1fa):_0x11d96d+_0x20d4f0(0xed);let _0x1d0bb0=0x0;_0x862a66['forEach'](_0x52034f=>{const _0x1eabb6=_0x20d4f0;_0x1d0bb0+=_0x52034f[_0x1eabb6(0xb5)]*_0x52034f[_0x1eabb6(0x1d2)];});if(_0x204b2d===_0x20d4f0(0x180)||_0x204b2d===_0x20d4f0(0x160)){if(_0x242f39===_0x20d4f0(0x120)||_0x242f39===_0x20d4f0(0x1f9))_0x1d0bb0=_0x1d0bb0*(_0x263de5===_0x20d4f0(0x147)?_0x5a0712['eur']:_0x5a0712[_0x20d4f0(0x9c)]);else{if(_0x242f39==='BUSD'||_0x242f39===_0x20d4f0(0x12d)||_0x242f39===_0x20d4f0(0x129))_0x1d0bb0=_0x1d0bb0*(_0x263de5===_0x20d4f0(0x147)?_0x5a0712[_0x20d4f0(0x141)]/_0x5a0712[_0x20d4f0(0x9c)]:0x1);else _0x242f39===_0x20d4f0(0x147)&&(_0x1d0bb0=_0x1d0bb0*(_0x263de5==='EUR'?0x1:_0x5a0712[_0x20d4f0(0x9c)]/_0x5a0712[_0x20d4f0(0x141)]));}}let _0xf4983f;if(_0x1d0bb0!==0x0){if(_0x204b2d===_0x20d4f0(0xa3))_0xf4983f=(_0x1d0bb0/startingBalances[_0x20d4f0(0xa3)]-0x1)*0x64;else{if(_0x263de5===_0x20d4f0(0x147))_0xf4983f=(_0x1d0bb0/startingBalances[_0x20d4f0(0x141)]-0x1)*0x64;else _0xf4983f=(_0x1d0bb0/startingBalances[_0x20d4f0(0x9c)]-0x1)*0x64;}let _0x12ad75=0x0;if(startingBalances[_0x20d4f0(0xe3)])_0x862a66[_0x20d4f0(0x113)](_0x5742e0=>{const _0x7f63f6=_0x20d4f0;let _0x3cc575=startingBalances[_0x7f63f6(0xe3)]['find'](_0x49b548=>_0x49b548[_0x7f63f6(0x1b7)]===_0x5742e0[_0x7f63f6(0x1b7)]);if(_0x3cc575&&_0x3cc575[_0x7f63f6(0x1b7)]&&_0x5742e0[_0x7f63f6(0xb5)]!==0x0)_0x12ad75+=_0x3cc575[_0x7f63f6(0xb5)]*_0x5742e0[_0x7f63f6(0x1d2)];});let _0x2df047=0x0;if(_0x29a272['length']!==0x0){let _0x595ecd=_0x29a272[_0x29a272['length']-0x1];_0x2df047=_0x595ecd[_0x20d4f0(0x112)];}_0x12ad75-=_0x2df047;_0x204b2d===_0x20d4f0(0xb6)&&(_0xf4983f=(_0x1d0bb0-_0x12ad75)/startingBalances[_0x20d4f0(0xa3)]*0x64,_0x1d0bb0=_0x1d0bb0-_0x12ad75);if(_0x204b2d===_0x20d4f0(0x160)){let _0x551a47=_0x263de5==='EUR'?startingBalances[_0x20d4f0(0x141)]:startingBalances[_0x20d4f0(0x9c)];if(_0x242f39===_0x20d4f0(0x120)||_0x242f39===_0x20d4f0(0x1f9))_0x12ad75=_0x263de5===_0x20d4f0(0x147)?_0x12ad75*_0x5a0712[_0x20d4f0(0x141)]:_0x12ad75*_0x5a0712['usd'];else{if(_0x242f39===_0x20d4f0(0x1ee)||_0x242f39==='USDT'||_0x242f39==='USD')_0x12ad75=_0x263de5==='EUR'?_0x12ad75*_0x5a0712[_0x20d4f0(0x141)]/_0x5a0712[_0x20d4f0(0x9c)]:_0x12ad75;else _0x242f39===_0x20d4f0(0x147)&&(_0x12ad75=_0x263de5===_0x20d4f0(0x147)?_0x12ad75:_0x12ad75*_0x5a0712[_0x20d4f0(0x9c)]/_0x5a0712[_0x20d4f0(0x141)]);}_0xf4983f=(_0x1d0bb0-_0x12ad75)/_0x551a47*0x64,_0x1d0bb0=_0x1d0bb0-_0x12ad75;}if(_0xf4983f){if(_0xf4983f<0x64)_0xf4983f=_0xf4983f[_0x20d4f0(0x126)](0x2);else{if(_0xf4983f<0x3e8)_0xf4983f=_0xf4983f[_0x20d4f0(0x126)](0x1);else _0xf4983f=_0xf4983f[_0x20d4f0(0x126)](0x0);}}else _0xf4983f=Number('0')['toFixed'](0x2);if(_0x1d0bb0){if(Math[_0x20d4f0(0x18a)](_0x1d0bb0)<0.000001)_0x1d0bb0=_0x1d0bb0[_0x20d4f0(0x126)](0x2);else{if(Math[_0x20d4f0(0x18a)](_0x1d0bb0)<0.1)_0x1d0bb0=_0x1d0bb0[_0x20d4f0(0x126)](0x6);else{if(Math[_0x20d4f0(0x18a)](_0x1d0bb0)<0x1)_0x1d0bb0=_0x1d0bb0['toFixed'](0x5);else{if(Math[_0x20d4f0(0x18a)](_0x1d0bb0)<0xa)_0x1d0bb0=_0x1d0bb0[_0x20d4f0(0x126)](0x4);else{if(Math[_0x20d4f0(0x18a)](_0x1d0bb0)<0x64)_0x1d0bb0=_0x1d0bb0['toFixed'](0x3);else{if(Math['abs'](_0x1d0bb0)<0x3e8)_0x1d0bb0=_0x1d0bb0['toFixed'](0x2);else _0x1d0bb0=_0x1d0bb0['toFixed'](0x2);}}}}}}else _0x1d0bb0=Number('0')['toFixed'](0x2);}else _0xf4983f=Number('0')[_0x20d4f0(0x126)](0x2);return{'value':_0x1d0bb0,'change':_0xf4983f,'leftTxt':_0x5db506,'rightTxt':_0x2a2d74};}async function getStartingBalances(_0x38337d,_0x160729=!![]){const _0x46885a=_0x5b879c;if(_0x38337d[_0x46885a(0x108)]!==0x0){const [_0xaa940e,_0x2e6769,_0x169eca]=getPerf(_0x38337d[0x0],!![]);let _0xbf245c=[];config[_0x46885a(0xfc)][_0x46885a(0x113)](_0x43093a=>{const _0x3e41df=_0x46885a;let _0x4e2d93=0x0,_0x549695;config[_0x3e41df(0x1bf)][_0x3e41df(0x113)](_0x1bcec6=>{const _0x5e0081=_0x3e41df;let _0x46509f=_0x1bcec6[_0x5e0081(0x111)][_0x5e0081(0x13e)](_0xda3c57=>_0xda3c57['coin']==_0x43093a[_0x5e0081(0x1b7)]);if(_0x46509f){_0x4e2d93+=_0x46509f['number'];if(!_0x549695)_0x549695=_0x46509f[_0x5e0081(0xfb)];}}),_0xbf245c[_0x3e41df(0xcd)]({'coin':_0x43093a[_0x3e41df(0x1b7)],'number':_0x4e2d93,'initialprice':_0x549695});});const _0x392053={'basecoin':_0xaa940e,'eur':_0x2e6769,'usd':_0x169eca,'coins':_0xbf245c};if(_0x160729)proxyEmit(_0x46885a(0xf8),_0x392053);startingBalances=_0x392053;}}function headlessMode(_0x19230b){const _0x744bf4=_0x5b879c;let _0x51ee1b=_0x19230b[_0x744bf4(0xfc)],_0x4deb37=_0x19230b[_0x744bf4(0xc2)],_0x34c672=[];for(let _0x5d1067 of _0x51ee1b){if(_0x5d1067['coin']!=config[_0x744bf4(0xa3)]){if(_0x5d1067[_0x744bf4(0x135)]>=_0x4deb37/0x64){if(_0x5d1067[_0x744bf4(0x1a2)])_0x34c672[_0x744bf4(0xcd)](_0x5d1067);}else{if(_0x5d1067[_0x744bf4(0x135)]<=-_0x4deb37/0x64){if(_0x5d1067[_0x744bf4(0x1a2)])_0x34c672[_0x744bf4(0xcd)](_0x5d1067);}}}}_0x34c672[_0x744bf4(0x108)]>0x0&&placeOrder(_0x34c672);}function notifyBalance(_0x2bd7e5){const _0x407254=_0x5b879c;let _0x37c072=_0x2bd7e5['portfolio'],_0x1ba68e=_0x2bd7e5[_0x407254(0xc2)],_0x1add31=[];for(let _0x4f29af of _0x37c072){if(_0x4f29af[_0x407254(0x1b7)]!=config[_0x407254(0xa3)]){if(_0x4f29af[_0x407254(0x135)]>=_0x1ba68e/0x64){if(_0x4f29af[_0x407254(0x1a2)])_0x1add31['push'](_0x4f29af);}else{if(_0x4f29af[_0x407254(0x135)]<=-_0x1ba68e/0x64){if(_0x4f29af[_0x407254(0x1a2)])_0x1add31[_0x407254(0xcd)](_0x4f29af);}}}}if(_0x1add31[_0x407254(0x108)]>0x0){let _0x3c409d=_0x1add31['map'](_0x2832a1=>_0x2832a1[_0x407254(0x1b7)]);_0x3c409d[_0x407254(0x1e3)]();let _0x5fd9a7=_0x3c409d[_0x407254(0xf4)](',\x20');if(!lastCoinsToBalance)logHistory(_0x407254(0x119),_0x407254(0x19a));lastCoinsToBalance=_0x5fd9a7;}}function symbolToCoin(_0x4859d){const _0x18c8df=_0x5b879c;let _0xf79ca5;if(_0x4859d['includes']('/'+config['basecoin']))_0xf79ca5=_0x4859d['replace']('/'+config['basecoin'],'');if(_0x4859d['includes'](config[_0x18c8df(0xa3)]+'/'))_0xf79ca5=_0x4859d[_0x18c8df(0x182)](config[_0x18c8df(0xa3)]+'/','');return _0xf79ca5;}async function unlockOrders(){const _0x3bd678=_0x5b879c;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x3bd678(0x18c)](_0x3bd678(0xad)),lockOrders=ORDERS[_0x3bd678(0x14a)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x2f264d=await getCoins();[currentCoins,currentCoinsAll]=_0x2f264d,validateOrdersState=_0x3bd678(0xa4),persistOpenOrders([]),lockOrders=ORDERS[_0x3bd678(0x1ba)],logger[_0x3bd678(0x18c)](_0x3bd678(0x16e));}}async function validateOrders(_0x4f0784){const _0x309505=_0x5b879c;if(_0x4f0784)validateOrdersState=_0x4f0784;logger[_0x309505(0x18c)](_0x309505(0xc0)+validateOrdersState+_0x309505(0xa1)+(lockOrders==0x1?_0x309505(0xb3):lockOrders==0x2?'ORDERS.UNLOCKING':_0x309505(0x1d8)));let _0x52c464=[],_0x9fd917=config[_0x309505(0x197)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x309505(0x13b)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x309505(0x1bb)])return;logger[_0x309505(0x18c)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x309505(0x113)](_0x417809=>{const _0x4d543d=_0x309505;let _0x2ac669=![];_0x417809[_0x4d543d(0x1d5)]>0x0&&(_0x2ac669=!![]),_0x52c464[_0x4d543d(0xcd)](_0x2ac669),_0x2ac669&&config[_0x4d543d(0x197)]!=_0x4d543d(0x1cd)&&logHistory(_0x4d543d(0x164),_0x4d543d(0xcc)+_0x417809[_0x4d543d(0x94)]+'\x20'+_0x417809[_0x4d543d(0x14f)]+'\x20#'+formatResult(_0x417809[_0x4d543d(0x1d5)],0x8)+'\x20@'+formatResult(_0x417809[_0x4d543d(0xfb)],0x8));}),_0x52c464[_0x309505(0x113)]((_0x4ea569,_0xf59bc)=>{const _0x38fc2b=_0x309505;if(_0x4ea569)lastOrders[_0x38fc2b(0x102)](_0xf59bc,0x1);}),persistOpenOrders(lastOrders);const _0x87b0c1=coolingDown?_0x309505(0x1ff):_0x309505(0x1ed);if(validateOrdersState==_0x309505(0xa4)){validateOrdersState=_0x309505(0x1e6);if(_0x52c464['includes'](![])){if(config[_0x309505(0x197)]==_0x309505(0x1cd)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x52c464[_0x309505(0x185)](![])){}else{if(allOrdersPlaced){if(config[_0x309505(0x197)]==_0x309505(0x1cd)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x52c464[_0x309505(0x185)](![])&&(config['ordertype']=='market'?logHistory('success',_0x309505(0x106)+Math['round'](_0x9fd917*validateOrderInterval/0xea60)+_0x309505(0x178)+_0x87b0c1):(await cancelOrders(),logHistory(_0x309505(0x1c9),_0x309505(0x166)+Math[_0x309505(0xac)](_0x9fd917*validateOrderInterval/0xea60)+_0x309505(0x178)+_0x87b0c1))),await unlockOrders();else{if(validateOrdersState==_0x309505(0x165)){if(config[_0x309505(0x197)]!='market')logHistory(_0x309505(0x1c9),_0x309505(0xc4)+_0x87b0c1);await unlockOrders();}}}}}async function cancelOrders(){const _0x1afc0c=_0x5b879c;lastOrders[_0x1afc0c(0x113)](async _0x4d40eb=>{const _0x29d60f=_0x1afc0c;try{const _0x4c492a=await exchange[_0x29d60f(0x1a6)](_0x4d40eb[_0x29d60f(0x1dc)],_0x4d40eb['symbol']);}catch(_0x13063d){if(_0x13063d[_0x29d60f(0x116)]()[_0x29d60f(0x185)](_0x29d60f(0x177))){}else await handleError(_0x13063d,_0x29d60f(0xa7));}});}async function initCoinResults(){let _0x5e27f2=[];config['portfolio']['forEach'](_0x220286=>{const _0x20ad20=_0x5f2f;if(!_0x220286[_0x20ad20(0x1f0)]&&_0x220286[_0x20ad20(0x1b7)]!=config[_0x20ad20(0xa3)]){let _0x426f25=dbCoinResults['get']('coins')[_0x20ad20(0x13e)]({'coin':_0x220286[_0x20ad20(0x1b7)]})['value']();if(!_0x426f25){const _0x17a82f=currentCoins[_0x20ad20(0x13e)](_0x2b3b57=>_0x2b3b57['coin']==_0x220286[_0x20ad20(0x1b7)]),_0x28e3b2=global[_0x20ad20(0xae)][noslash(_0x220286[_0x20ad20(0x94)])];let _0x127477=_0x17a82f?_0x17a82f['number']:null,_0x401e18=_0x220286[_0x20ad20(0x9b)]?0x1/_0x28e3b2:_0x28e3b2,_0x52070a;config['liquidity']['forEach'](_0x558a4b=>{const _0x2429fd=_0x20ad20;!_0x52070a&&(_0x52070a=_0x558a4b[_0x2429fd(0x111)][_0x2429fd(0x13e)](_0xcc5bd3=>_0xcc5bd3[_0x2429fd(0x1b7)]==_0x220286[_0x2429fd(0x1b7)]),_0x52070a&&(_0x127477=_0x52070a[_0x2429fd(0xb5)],_0x401e18=_0x52070a[_0x2429fd(0xfb)]));}),_0x5e27f2[_0x20ad20(0xcd)]({'coin':_0x220286['coin'],'number':_0x127477,'price':_0x401e18});}}}),_0x5e27f2['forEach'](_0x4e44cd=>{const _0x3b17c7=_0x5f2f,_0x4c4b75={'coin':_0x4e44cd[_0x3b17c7(0x1b7)],'number':_0x4e44cd[_0x3b17c7(0xb5)],'breakeven':_0x4e44cd[_0x3b17c7(0xfb)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3b17c7(0x175)](_0x3b17c7(0xe3))[_0x3b17c7(0xcd)](_0x4c4b75)[_0x3b17c7(0x19f)]();});}async function updateCoinResults(_0x18323c,_0x5377ef=![]){const _0x185328=_0x5b879c;let _0x1ffbdc,_0x203e14,_0x382284,_0x19e6f9,_0x30dc51,_0x203197,_0x37e499=dbCoinResults[_0x185328(0x175)](_0x185328(0xe3))['find']({'coin':_0x18323c[_0x185328(0x1b7)]})['value'](),_0xb9e2ec=![];Object[_0x185328(0x1b2)](_0x37e499)[_0x185328(0x113)](([_0x417f9b,_0x5a14c0])=>{if(_0x5a14c0==null)_0xb9e2ec=!![];});(!_0x37e499||_0xb9e2ec)&&await initCoinResults();_0x18323c['reverse']&&(_0x203197={'filled':_0x18323c[_0x185328(0x1d5)]*_0x18323c[_0x185328(0xfb)],'amount':_0x18323c[_0x185328(0x1d5)]*_0x18323c['price'],'side':_0x18323c[_0x185328(0x14f)]==_0x185328(0x183)?_0x185328(0x1f5):_0x185328(0x183),'price':0x1/_0x18323c[_0x185328(0xfb)]},_0x18323c={..._0x18323c,..._0x203197});_0x5377ef?_0x203e14=_0x18323c[_0x185328(0x14f)]==_0x185328(0x1f5)?_0x37e499[_0x185328(0xb5)]+_0x18323c['filled']:_0x37e499['number']-_0x18323c[_0x185328(0x1d5)]:_0x203e14=await getCoinNumber(_0x18323c[_0x185328(0x1b7)]);if(_0x18323c[_0x185328(0xda)]&&_0x18323c[_0x185328(0xda)][_0x185328(0x114)]==config[_0x185328(0xa3)])_0x1ffbdc=_0x18323c['fee']['cost'];else{if(_0x18323c[_0x185328(0xda)]&&_0x18323c[_0x185328(0xda)]['currency']==_0x185328(0x12c)&&!_0x5377ef)_0x1ffbdc=_0x18323c[_0x185328(0xda)][_0x185328(0x1db)]*global[_0x185328(0xae)][_0x185328(0x12c)+config[_0x185328(0xa3)]];else _0x1ffbdc=defaultFee*_0x18323c[_0x185328(0x1d5)]*_0x18323c[_0x185328(0xfb)];}_0x18323c[_0x185328(0x14f)]==_0x185328(0x1f5)?(_0x382284=_0x203e14!=0x0?(_0x37e499[_0x185328(0x10b)]*_0x37e499[_0x185328(0xb5)]+_0x18323c[_0x185328(0xfb)]*(_0x203e14-_0x37e499['number'])+_0x1ffbdc)/_0x203e14:0x0,_0x19e6f9=_0x37e499[_0x185328(0x17c)]):(_0x382284=_0x203e14!=0x0?(_0x37e499[_0x185328(0x10b)]*_0x37e499[_0x185328(0xb5)]-_0x18323c[_0x185328(0xfb)]*(_0x37e499['number']-_0x203e14)+_0x1ffbdc)/_0x203e14:0x0,_0x19e6f9=_0x37e499[_0x185328(0x17c)]+(_0x18323c[_0x185328(0xfb)]-_0x37e499[_0x185328(0x10b)])*_0x18323c[_0x185328(0x1d5)]);_0x30dc51=(_0x18323c[_0x185328(0xfb)]-_0x382284-_0x1ffbdc/_0x18323c[_0x185328(0x1d5)])*_0x203e14;let _0xe0b106={'coin':_0x18323c[_0x185328(0x1b7)],'number':_0x203e14,'breakeven':formatResult(_0x382284,0x8),'realized':formatResult(_0x19e6f9,0x8),'unrealized':formatResult(_0x30dc51,0x8),'fees':formatResult(_0x37e499[_0x185328(0xf2)]+_0x1ffbdc,0x8),'sells':_0x18323c['side']=='sell'?_0x37e499[_0x185328(0x1fc)]+0x1:_0x37e499[_0x185328(0x1fc)],'buys':_0x18323c[_0x185328(0x14f)]==_0x185328(0x1f5)?_0x37e499[_0x185328(0xc1)]+0x1:_0x37e499[_0x185328(0xc1)]};dbCoinResults[_0x185328(0x175)](_0x185328(0xe3))[_0x185328(0x13e)]({'coin':_0x18323c[_0x185328(0x1b7)]})[_0x185328(0xc9)](_0xe0b106)[_0x185328(0x19f)]();if(!_0x5377ef){if(_0x18323c[_0x185328(0xda)]&&_0x18323c[_0x185328(0xda)]['currency']==_0x185328(0x12c)){const _0x29ffcf=currentCoins[_0x185328(0x13e)](_0x382059=>_0x382059[_0x185328(0x1b7)]==_0x185328(0x12c));if(_0x29ffcf){let _0x362d0d=dbCoinResults[_0x185328(0x175)](_0x185328(0xe3))[_0x185328(0x13e)]({'coin':_0x185328(0x12c)})[_0x185328(0x1cf)]();_0xe0b106={..._0x362d0d,'number':_0x29ffcf[_0x185328(0xb5)]},dbCoinResults[_0x185328(0x175)](_0x185328(0xe3))['find']({'coin':_0x185328(0x12c)})[_0x185328(0xc9)](_0xe0b106)['write']();}}}}async function placeOrder(_0x4111eb){const _0x48ff71=_0x5b879c,_0xff5ec3=config['ordertype']==_0x48ff71(0x1cd)?_0x48ff71(0x1cd):'limit';if(lockOrders==ORDERS[_0x48ff71(0x1ba)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x48ff71(0x1bb)],allOrdersPlaced=![],validateOrdersState=_0x48ff71(0xa4);let _0x125332=![];lastOrders=[];for(const _0x5382c3 of _0x4111eb){let _0x295c05,_0x4a7e7b,_0x378931,_0x386f6c,_0x3bc4ee,_0x169e8a=_0x5382c3[_0x48ff71(0x94)];try{const _0x5721e3=await exchange[_0x48ff71(0x17f)](_0x169e8a);_0x295c05=_0x5382c3['reverse']?0x1/_0x5382c3[_0x48ff71(0x1d2)]:_0x5382c3['last'],_0x4a7e7b=_0x5721e3['bid'],_0x378931=_0x5721e3[_0x48ff71(0x1ab)];_0x5382c3[_0x48ff71(0x9b)]?(_0x386f6c=_0x5382c3[_0x48ff71(0x14f)]==_0x48ff71(0x1f5)?_0x48ff71(0x183):_0x48ff71(0x1f5),_0x3bc4ee=Math['abs'](_0x5382c3[_0x48ff71(0xa0)])/_0x295c05):(_0x386f6c=_0x5382c3[_0x48ff71(0x14f)],_0x3bc4ee=Math['abs'](_0x5382c3['trade']));_0xff5ec3==_0x48ff71(0xdf)&&(config[_0x48ff71(0x197)]==_0x48ff71(0x176)&&(_0x295c05=_0x386f6c==_0x48ff71(0x1f5)?_0x4a7e7b:_0x378931),config[_0x48ff71(0x197)]==_0x48ff71(0x1d1)&&(_0x295c05=_0x386f6c=='buy'?_0x378931:_0x4a7e7b));_0x3bc4ee=formatResult(_0x3bc4ee,0x8),_0x295c05=formatResult(_0x295c05,0x8);const _0x563b04=_0x386f6c==_0x48ff71(0x183)?config[_0x48ff71(0xa6)]?String[_0x48ff71(0x9f)]('0x'+config[_0x48ff71(0xa6)])+'\x20':'':config['emojibuy']?String[_0x48ff71(0x9f)]('0x'+config[_0x48ff71(0x186)])+'\x20':'',_0x30c217=_0xff5ec3=='market'?_0x48ff71(0x1cb):config[_0x48ff71(0x197)]==_0x48ff71(0x176)?'Limit\x20(high-margin)':_0x48ff71(0x1c7),_0x2ca6d6=Math[_0x48ff71(0xdc)](Math[_0x48ff71(0x1e2)]()*(0x2**0x1f-0x1));lastOrders[_0x48ff71(0xcd)]({'customId':_0x2ca6d6,'symbol':_0x169e8a,'coin':_0x5382c3[_0x48ff71(0x1b7)],'side':_0x386f6c,'reverse':_0x5382c3['reverse'],'filled':0x0});if(_0xff5ec3==_0x48ff71(0x1cd))logHistory('order',''+_0x563b04+_0x30c217+_0x48ff71(0x11c)+_0x169e8a+'\x20'+_0x386f6c+'\x20#'+formatResult(_0x3bc4ee,0x8)+'\x20@'+formatResult(_0x295c05,0x8));else logHistory(_0x48ff71(0x164),''+_0x563b04+_0x30c217+_0x48ff71(0x11c)+_0x169e8a+'\x20'+_0x386f6c+'\x20#'+formatResult(_0x3bc4ee,0x8)+'\x20@'+formatResult(_0x295c05,0x8));const _0x16b1f2=await exchange[_0x48ff71(0x1d9)](_0x169e8a,_0xff5ec3,_0x386f6c,_0x3bc4ee,_0x295c05,{'clientOrderId':_0x2ca6d6}),_0x16ccc3=lastOrders[_0x48ff71(0x108)]-0x1;_0x16ccc3>=0x0&&lastOrders[_0x16ccc3]['customId']==_0x2ca6d6&&(lastOrders[_0x16ccc3]={...lastOrders[_0x16ccc3],'orderId':_0x16b1f2['id'],'amount':_0x16b1f2[_0x48ff71(0x100)],'price':_0x16b1f2[_0x48ff71(0xfb)],'fee':_0x16b1f2[_0x48ff71(0xda)]});if(config[_0x48ff71(0x1e8)]!=0x0){let _0x5f3afa=null;if(cooldownTracker['length']==config[_0x48ff71(0x1e8)]-0x1)_0x5f3afa=cooldownTracker[_0x48ff71(0x19d)]();const _0x5e26b3=getTimeStamp();cooldownTracker[_0x48ff71(0xcd)](_0x5e26b3);if(_0x5f3afa){const _0x24310c=fns[_0x48ff71(0x107)](new Date(_0x5e26b3),new Date(_0x5f3afa));if(_0x24310c<cooldownInterval){logHistory(_0x48ff71(0x1a1),'Executed\x20'+config[_0x48ff71(0x1e8)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x48ff71(0x1ae)),coolingDown=!![];break;}}}}catch(_0x1ad1b6){if(_0x1ad1b6[_0x48ff71(0x116)]()[_0x48ff71(0x185)](_0x48ff71(0xb4)))lastOrders=lastOrders[_0x48ff71(0x1ec)](_0x78091c=>_0x78091c[_0x48ff71(0x94)]!=_0x169e8a),logHistory(_0x48ff71(0x1a1),_0x48ff71(0x1d0)+_0x169e8a),_0x125332=!![];else{if(_0x1ad1b6['toString']()[_0x48ff71(0x185)](_0x48ff71(0x15f)))lastOrders=lastOrders[_0x48ff71(0x1ec)](_0xc1627f=>_0xc1627f[_0x48ff71(0x94)]!=_0x169e8a),logHistory(_0x48ff71(0x1a1),_0x48ff71(0x1ca)+_0x169e8a),_0x125332=!![];else{if(_0x1ad1b6['toString']()[_0x48ff71(0x185)]('InvalidOrder'))lastOrders=lastOrders[_0x48ff71(0x1ec)](_0x441e6d=>_0x441e6d[_0x48ff71(0x94)]!=_0x169e8a),logHistory(_0x48ff71(0x1a1),_0x48ff71(0xea)+_0x169e8a),_0x125332=!![];else _0x1ad1b6[_0x48ff71(0x116)]()[_0x48ff71(0x185)](_0x48ff71(0xb1))?(lastOrders=lastOrders[_0x48ff71(0x1ec)](_0x560e2d=>_0x560e2d['symbol']!=_0x169e8a),logHistory('error',_0x48ff71(0x1d0)+_0x169e8a),_0x125332=!![]):(lastOrders=lastOrders[_0x48ff71(0x1ec)](_0x6c6c71=>_0x6c6c71[_0x48ff71(0x94)]!=_0x169e8a),await handleError(_0x1ad1b6,_0x48ff71(0x1e9),_0x169e8a));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x48ff71(0x108)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5785b9=config[_0x48ff71(0x197)]==_0x48ff71(0x1cd)?validateOrderTimeout*0x3c*0x3e8:config[_0x48ff71(0x13b)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x200ce4=_0x48ff71;validateOrders(_0x200ce4(0xdb));},_0x5785b9);}else unlockOrders();_0x125332&&config[_0x48ff71(0x1a5)]&&await pauseBot(_0x48ff71(0x9a)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x48ff71(0x1c9),_0x48ff71(0xde)));}else{if(coolingDown)!config[_0x48ff71(0x1a5)]&&logHistory(_0x48ff71(0x1a1),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x48ff71(0x1ba)]&&(!config[_0x48ff71(0x1a5)]&&(config[_0x48ff71(0x197)]==_0x48ff71(0x1cd)?logHistory(_0x48ff71(0x1a1),_0x48ff71(0x1bd)):logHistory('error',_0x48ff71(0x1ef))));}}function persistOpenOrders(_0x19f4cd){const _0xa2503a=_0x5b879c,_0x450b4f={...config,'openOrders':_0x19f4cd};let _0x591929=dbConfig[_0xa2503a(0x175)](_0xa2503a(0x1fd))['find']({'botID':botID})['value']();_0x591929&&dbConfig[_0xa2503a(0x175)](_0xa2503a(0x1fd))['find']({'botID':botID})['assign'](_0x450b4f)['write']();}function restoreOrders(){const _0x4b3b02=_0x5b879c;let _0x50cb1a;config[_0x4b3b02(0x1c6)]&&allOpenOrders[_0x4b3b02(0x113)](_0x8faa95=>{const _0x4778b7=_0x4b3b02,_0x4ad086=config['openOrders'][_0x4778b7(0x13e)](_0x56ca9d=>_0x56ca9d['orderId']==_0x8faa95['id']);_0x4ad086&&(lastOrders[_0x4778b7(0xcd)](_0x4ad086),_0x50cb1a=_0x8faa95['timestamp']);});if(lastOrders[_0x4b3b02(0x108)]>0x0){lockOrders=ORDERS[_0x4b3b02(0x1bb)],validateOrdersState=_0x4b3b02(0x1e6),allOrdersPlaced=!![];const _0x5c1d1d=new Date()[_0x4b3b02(0x133)](),_0x3dcb5d=config[_0x4b3b02(0x197)]==_0x4b3b02(0x1cd)?validateOrderTimeout*0x3c*0x3e8:config[_0x4b3b02(0x13b)]*0x3c*0x3e8;if(_0x50cb1a+_0x3dcb5d>_0x5c1d1d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2c9432=_0x4b3b02;validateOrders(_0x2c9432(0xdb));},_0x50cb1a+_0x3dcb5d-_0x5c1d1d);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x3c6be4=_0x5b879c;if(!coinsLoaded){process[_0x3c6be4(0x105)]({'telegrammsg':_0x3c6be4(0x1f6)},_0x593129=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x2a1c6c='';if(config[_0x3c6be4(0x14b)])_0x2a1c6c=_0x3c6be4(0xff)+config[_0x3c6be4(0x167)]+_0x3c6be4(0x1da);else _0x2a1c6c='<b>Bot\x20'+botID+_0x3c6be4(0x1da);const _0x5b1a67=getKPIs(_0x3c6be4(0xa3)),_0x39a1db=getKPIs(_0x3c6be4(0x180),config[_0x3c6be4(0x180)]),_0x367c6b=getKPIs(_0x3c6be4(0xb6)),_0x219dbd=getKPIs('net-fiat',config[_0x3c6be4(0x180)]);_0x2a1c6c+='<pre>',_0x2a1c6c+=_0x5b1a67[_0x3c6be4(0x1dd)]+'\x20:\x20'+_0x5b1a67[_0x3c6be4(0x1cf)]+'\x0a',_0x2a1c6c+=_0x5b1a67[_0x3c6be4(0xd2)]+':\x20'+_0x5b1a67[_0x3c6be4(0xba)]+'%\x0a',_0x2a1c6c+=_0x39a1db[_0x3c6be4(0x1dd)]+'\x20:\x20'+_0x39a1db[_0x3c6be4(0x1cf)]+'\x0a',_0x2a1c6c+=_0x39a1db[_0x3c6be4(0xd2)]+':\x20'+_0x39a1db[_0x3c6be4(0xba)]+'%\x0a',_0x2a1c6c+=_0x367c6b[_0x3c6be4(0x1dd)]+':\x20'+_0x367c6b[_0x3c6be4(0x1cf)]+'\x20('+config[_0x3c6be4(0xa3)]+')\x0a',_0x2a1c6c+=_0x367c6b[_0x3c6be4(0xd2)]+':\x20'+_0x367c6b[_0x3c6be4(0xba)]+'%\x20('+config[_0x3c6be4(0xa3)]+')\x0a',_0x2a1c6c+=_0x219dbd['leftTxt']+':\x20'+_0x219dbd[_0x3c6be4(0x1cf)]+'\x20('+config[_0x3c6be4(0x180)]+')\x0a',_0x2a1c6c+=_0x219dbd['rightTxt']+':\x20'+_0x219dbd[_0x3c6be4(0xba)]+_0x3c6be4(0x155)+config[_0x3c6be4(0x180)]+')\x0a',_0x2a1c6c+=_0x3c6be4(0x11e),process['send']({'telegrammsg':_0x2a1c6c},_0x3e2f6f=>{});}async function sendPortfolioTelegram(){const _0xce8bd3=_0x5b879c;if(!coinsLoaded){process[_0xce8bd3(0x105)]({'telegrammsg':_0xce8bd3(0x1f6)},_0x3ac1f1=>{});return;}let _0x1cf483='';if(config[_0xce8bd3(0x14b)])_0x1cf483=_0xce8bd3(0xff)+config[_0xce8bd3(0x167)]+_0xce8bd3(0x199);else _0x1cf483=_0xce8bd3(0x14c)+botID+_0xce8bd3(0x199);_0x1cf483+=_0xce8bd3(0xe9),_0x1cf483+=_0xce8bd3(0xc8),_0x1cf483+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x1cf483+='-------------------------------\x0a',currentCoins[_0xce8bd3(0x113)](_0x468d1c=>{const _0x6c08cf=_0xce8bd3;_0x1cf483+=_0x468d1c[_0x6c08cf(0x1b7)][_0x6c08cf(0x1d7)](0x7)+'|\x20'+formatPad(_0x468d1c['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x468d1c[_0x6c08cf(0x17d)],0x2,0x6)+'|\x20'+formatPad(_0x468d1c[_0x6c08cf(0x135)]*0x64,0x2,0x6)+'\x0a';}),_0x1cf483+=_0xce8bd3(0x11e),process[_0xce8bd3(0x105)]({'telegrammsg':_0x1cf483},_0x91d235=>{});}function formatPad(_0x11a435,_0x117cb2,_0x19ed7b){const _0x5a2040=_0x5b879c,_0x33d442=formatResultString(_0x11a435,_0x117cb2);return _0x33d442?_0x33d442[_0x5a2040(0x1b6)](_0x19ed7b):''[_0x5a2040(0x1b6)](_0x19ed7b);}function logHistory(_0x5b0558,_0x2a4a7b,_0x149f09=''){const _0x1053f0=_0x5b879c;let _0x2cd903={'time':getTimeStamp(),'type':_0x5b0558,'event':_0x2a4a7b};dbLogs[_0x1053f0(0x175)](_0x1053f0(0x18d))['push'](_0x2cd903)[_0x1053f0(0x19f)]();if(_0x149f09=='')_0x149f09=_0x2a4a7b;proxyEmit(_0x1053f0(0x1c5),{'log':_0x2cd903,'summary':_0x149f09}),process[_0x1053f0(0x105)]({'telegram':{..._0x2cd903,'botname':config[_0x1053f0(0x167)],'showname':config[_0x1053f0(0x14b)]}},_0x1b3b14=>{}),logger[_0x1053f0(0xbe)](''+_0x2cd903['event']);}function emitHistory(_0x25f990={}){const _0x447ca0=_0x5b879c;Object[_0x447ca0(0xe2)](_0x25f990)[_0x447ca0(0x108)]==0x0&&(_0x25f990={'type':['order','event'],'event':'','page':0x1});if(_0x25f990[_0x447ca0(0xb0)]['includes'](_0x447ca0(0x1c5)))_0x25f990[_0x447ca0(0xb0)]['splice'](_0x25f990['type'][_0x447ca0(0xce)](_0x447ca0(0x1c5)),0x1,_0x447ca0(0x1a1),_0x447ca0(0x119),'success');if(dbLogs[_0x447ca0(0x149)](_0x447ca0(0x18d))[_0x447ca0(0x1cf)]()){let _0x25c5db=dbLogs[_0x447ca0(0x175)]('logs')[_0x447ca0(0x1ec)](_0x483bd9=>{const _0x1e86c0=_0x447ca0;if(_0x25f990[_0x1e86c0(0xb0)]['length']==0x0)return![];else return _0x25f990[_0x1e86c0(0xb0)][_0x1e86c0(0x185)](_0x483bd9[_0x1e86c0(0xb0)]);})[_0x447ca0(0x1ec)](_0x41259c=>{const _0x9ddc6d=_0x447ca0;if(_0x25f990[_0x9ddc6d(0x1c5)]=='')return!![];else return _0x41259c[_0x9ddc6d(0x1c5)]['toLowerCase']()[_0x9ddc6d(0x185)](_0x25f990['event'][_0x9ddc6d(0xf5)]());})[_0x447ca0(0x205)](_0x447ca0(0x1a4)),_0x33a73e=_0x25c5db[_0x447ca0(0x1cf)]()[_0x447ca0(0x108)];_0x25c5db=_0x25c5db['reverse']()[_0x447ca0(0x1ac)]((_0x25f990[_0x447ca0(0x15a)]-0x1)*logPageSize,_0x25f990[_0x447ca0(0x15a)]*logPageSize-0x1)[_0x447ca0(0x9b)]()[_0x447ca0(0x1cf)](),proxyEmit(_0x447ca0(0x103),{'logs':_0x25c5db,'total':_0x33a73e});}else proxyEmit(_0x447ca0(0x103),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x358938){const _0x388274=_0x5b879c;if(dbLogs[_0x388274(0x149)](_0x388274(0x18d))[_0x388274(0x1cf)]()){const _0x1968c5=dbLogs[_0x388274(0x175)]('logs')[_0x388274(0x205)](_0x388274(0x1a4))['filter'](_0x546277=>{const _0x98c42=_0x388274;return _0x546277[_0x98c42(0xb0)]==_0x98c42(0x164);})[_0x388274(0x1cf)]();dbLogs[_0x388274(0x175)](_0x388274(0x18d))[_0x388274(0x15c)]()[_0x388274(0x19f)](),dbLogs[_0x388274(0x175)](_0x388274(0x18d))[_0x388274(0xc9)](_0x1968c5)[_0x388274(0x19f)](),emitHistory(_0x358938);}}async function pauseBot(_0x1e05da=''){const _0x4dc82c=_0x5b879c,_0x9620e6=new Date()[_0x4dc82c(0x133)]();if(!lastErrorShown||_0x9620e6-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x9620e6;!lastBotPause?(lastBotPause=_0x9620e6,consecutivePauses=0x1):(_0x9620e6-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x4dc82c(0x105)]({'stop':_0x4dc82c(0xe7)},_0x181be9=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x1e05da)_0x1e05da+='\x20|\x20';logHistory(_0x4dc82c(0x1a1),_0x1e05da+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x4dc82c(0x93)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x454d69=_0x5b879c;process[_0x454d69(0x105)]({'stop':_0x454d69(0xd1)},_0x1132cb=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3776e4,_0x2a5377){const _0x3f97fa=_0x5b879c;if(_0x3776e4[_0x3f97fa(0x116)]()[_0x3f97fa(0x185)]('API-key\x20format\x20invalid'))return logHistory(_0x3f97fa(0x1a1),config[_0x3f97fa(0x181)]+_0x3f97fa(0xe6)),![];else{if(_0x3776e4['toString']()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x3f97fa(0x1a1),config[_0x3f97fa(0x181)]+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x3776e4['toString']()[_0x3f97fa(0x185)]('AuthenticationError'))return logHistory(_0x3f97fa(0x1a1),config[_0x3f97fa(0x181)]+_0x3f97fa(0x128)),logHistory(_0x3f97fa(0x1a1),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x3776e4,_0x2a5377);}}}async function handleError(_0x426bce,_0xc0655e,_0x328e79=''){const _0x507fe9=_0x5b879c,_0x4a80ca=config['exchange']||_0x507fe9(0x11b);if(_0x426bce[_0x507fe9(0x116)]()[_0x507fe9(0x185)](_0x507fe9(0x1d3)))await pauseBot(config[_0x507fe9(0x181)]+_0x507fe9(0x136));else{if(_0x426bce['toString']()[_0x507fe9(0x185)]('ExchangeNotAvailable'))await pauseBot(config['exchange']+_0x507fe9(0x174));else{if(_0x426bce[_0x507fe9(0x116)]()['includes'](_0x507fe9(0x1ce)))await pauseBot(config[_0x507fe9(0x181)]+'\x20not\x20responding');else{if(_0x426bce['toString']()[_0x507fe9(0x185)](_0x507fe9(0x184)))await pauseBot(config[_0x507fe9(0x181)]+_0x507fe9(0xf7));else{if(_0x426bce[_0x507fe9(0x116)]()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x507fe9(0x1a1),_0xc0655e+_0x507fe9(0x10d)),logHistory('error',_0x507fe9(0x1d6)),await killBot();else{if(_0x426bce[_0x507fe9(0x116)]()[_0x507fe9(0x185)]('InvalidNonce'))logHistory('error',_0xc0655e+_0x507fe9(0x12a)),logHistory(_0x507fe9(0x1a1),_0x507fe9(0x1d6)),await killBot();else{if(_0x426bce[_0x507fe9(0x116)]()[_0x507fe9(0x185)](_0x507fe9(0xcf)))logHistory(_0x507fe9(0x1a1),_0xc0655e+_0x507fe9(0x18f)+config['exchange']+_0x507fe9(0xd9)),logHistory(_0x507fe9(0x1a1),_0x507fe9(0x1d6)),await killBot();else{if(_0x426bce[_0x507fe9(0x116)]()[_0x507fe9(0x185)](_0x507fe9(0x109)))logHistory(_0x507fe9(0x1a1),_0xc0655e+_0x507fe9(0x18f)+config[_0x507fe9(0x181)]+_0x507fe9(0xa2)),logHistory('error',_0x507fe9(0x1d6)),await killBot();else{if(_0x426bce[_0x507fe9(0x116)]()[_0x507fe9(0x185)]('AuthenticationError'))logHistory(_0x507fe9(0x1a1),_0xc0655e+'\x20|\x20'+config[_0x507fe9(0x181)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x507fe9(0x1a1),_0x507fe9(0x1d6)),await killBot();else _0x426bce[_0x507fe9(0x116)]()['includes'](_0x507fe9(0xbb))?logHistory(_0x507fe9(0x1a1),_0xc0655e+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x328e79):(logger[_0x507fe9(0xbe)](_0xc0655e+_0x507fe9(0x101),_0x426bce),await pauseBot(_0x507fe9(0xb2)));}}}}}}}}}function formatResult(_0x45f723,_0x253821){const _0xf8d06f=_0x5b879c;return parseFloat(_0x45f723[_0xf8d06f(0x126)](_0x253821));}function formatResultTruncate(_0x58e61c,_0x1acdc4){const _0x35d1ce=_0x5b879c;let _0x4185b6=formatResultString(_0x58e61c,0xa),_0x5c0f83=_0x4185b6[_0x35d1ce(0xce)]('.');return _0x5c0f83!=-0x1&&(_0x4185b6=_0x4185b6[_0x35d1ce(0x1ac)](0x0,_0x5c0f83+_0x1acdc4+0x1)),Number(_0x4185b6);}function formatResultString(_0x31e764,_0x5f3b33){const _0x1ab114=_0x5b879c;let _0x4e980a;if(!(''+_0x31e764)['includes']('e'))_0x4e980a=+(Math[_0x1ab114(0xac)](_0x31e764+'e+'+_0x5f3b33)+'e-'+_0x5f3b33);else{let _0x19a6a3=(''+_0x31e764)['split']('e'),_0x1e7607='';+_0x19a6a3[0x1]+_0x5f3b33>0x0&&(_0x1e7607='+'),_0x4e980a=+(Math[_0x1ab114(0xac)](+_0x19a6a3[0x0]+'e'+_0x1e7607+(+_0x19a6a3[0x1]+_0x5f3b33))+'e-'+_0x5f3b33);}return Number(_0x4e980a)[_0x1ab114(0x126)](_0x5f3b33);}function getServerTime(){const _0x46c71d=_0x5b879c,_0x681d7=new Date();return _0x681d7[_0x46c71d(0xfe)]()+'/'+(_0x681d7[_0x46c71d(0x1c0)]()+0x1)[_0x46c71d(0x116)]()[_0x46c71d(0x1b6)](0x2,'0')+'/'+_0x681d7[_0x46c71d(0xc3)]()[_0x46c71d(0x116)]()[_0x46c71d(0x1b6)](0x2,'0')+'\x20'+_0x681d7[_0x46c71d(0x1fb)]()[_0x46c71d(0x116)]()[_0x46c71d(0x1b6)](0x2,'0')+':'+_0x681d7[_0x46c71d(0x1e0)]()[_0x46c71d(0x116)]()[_0x46c71d(0x1b6)](0x2,'0')+':'+_0x681d7[_0x46c71d(0x14d)]()[_0x46c71d(0x116)]()[_0x46c71d(0x1b6)](0x2,'0');}function getTimeStamp(){const _0x1bc975=_0x5b879c,_0x5b6ede=shiftedTime();return _0x5b6ede[_0x1bc975(0xfe)]()+'/'+(_0x5b6ede['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x5b6ede[_0x1bc975(0xc3)]()[_0x1bc975(0x116)]()['padStart'](0x2,'0')+'\x20'+_0x5b6ede['getHours']()[_0x1bc975(0x116)]()[_0x1bc975(0x1b6)](0x2,'0')+':'+_0x5b6ede['getMinutes']()[_0x1bc975(0x116)]()[_0x1bc975(0x1b6)](0x2,'0')+':'+_0x5b6ede[_0x1bc975(0x14d)]()[_0x1bc975(0x116)]()[_0x1bc975(0x1b6)](0x2,'0');}function getDate(){const _0x811800=_0x5b879c,_0x36f4f8=shiftedTime();return _0x36f4f8[_0x811800(0xfe)]()+'/'+(_0x36f4f8['getMonth']()+0x1)[_0x811800(0x116)]()[_0x811800(0x1b6)](0x2,'0')+'/'+_0x36f4f8[_0x811800(0xc3)]()[_0x811800(0x116)]()[_0x811800(0x1b6)](0x2,'0');}function getHour(){const _0xfa36fd=_0x5b879c,_0x482f93=shiftedTime();return _0x482f93[_0xfa36fd(0x1fb)]()[_0xfa36fd(0x116)]()[_0xfa36fd(0x1b6)](0x2,'0');}function sleep(_0x2b1f2d){return new Promise(_0x1b8041=>setTimeout(_0x1b8041,_0x2b1f2d));}function shiftedTime(){const _0x168de0=_0x5b879c,_0x5d8035=new Date();let _0xd76639=_0x5d8035;if(config&&config[_0x168de0(0x1b9)]!==0x0)_0xd76639=fns[_0x168de0(0x1a3)](_0x5d8035,{'hours':config[_0x168de0(0x1b9)]});return _0xd76639;}function timer(_0xc2c539){const _0x37e174=_0x5b879c,_0x39158f=new Date();!lasttime?console[_0x37e174(0x127)](getTimeStamp()+_0x37e174(0x1e7),_0xc2c539,_0x39158f):console[_0x37e174(0x127)](getTimeStamp()+':\x20timer\x20>',_0xc2c539,(_0x39158f-lasttime)/0x3e8),lasttime=_0x39158f;}