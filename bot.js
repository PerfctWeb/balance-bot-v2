const _0x39d1ca=_0x395f;(function(_0x203db4,_0xcba4bb){const _0x3d6165=_0x395f,_0x4ca615=_0x203db4();while(!![]){try{const _0x506e7e=-parseInt(_0x3d6165(0x112))/0x1*(parseInt(_0x3d6165(0xc1))/0x2)+-parseInt(_0x3d6165(0xa6))/0x3*(-parseInt(_0x3d6165(0x1ad))/0x4)+-parseInt(_0x3d6165(0x1c1))/0x5*(-parseInt(_0x3d6165(0xc0))/0x6)+-parseInt(_0x3d6165(0x93))/0x7*(parseInt(_0x3d6165(0x136))/0x8)+-parseInt(_0x3d6165(0x100))/0x9+parseInt(_0x3d6165(0x1dd))/0xa*(-parseInt(_0x3d6165(0xdf))/0xb)+parseInt(_0x3d6165(0x1b0))/0xc*(parseInt(_0x3d6165(0x183))/0xd);if(_0x506e7e===_0xcba4bb)break;else _0x4ca615['push'](_0x4ca615['shift']());}catch(_0x2f170c){_0x4ca615['push'](_0x4ca615['shift']());}}}(_0x26f7,0xcb083));function _0x26f7(){const _0x57f4de=['fetchClosedOrders','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','argv','settings','page','Transaction\x20detection\x20blocked','remainingSymbols','defaults','-performance.json','sort','<b>Bot\x20','starting-balance-','additional\x20symbols\x20','full','Initiating\x20exchange\x20reload','open','\x20change','cooldown','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','valid','get','balances','offset','timeshift','cancelOrder','Invalid\x20API\x20key\x20or\x20secret\x20entered','status','customId','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','buys','set','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','ordertype','canceled','rightTxt','message','1\x20-\x20Handle\x20open\x20orders','Transaction\x20detection\x20unblocked','startprice','Error\x20while\x20deleting\x20files:\x20','portfolio','logs','createOrder','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','ExchangeNotAvailable','time','side','fetchOpenOrders','RequestTimeout','apiKey','2\x20-\x20FILLED\x20unknown\x20order:\x20','stringify','highest','indexOf','push','round','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','yyyy/MM/dd','-results.json','replace','percentage','apply','2\x20-\x20Validate\x20orders:\x20','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','\x20order:\x20','EUR','<pre>','slice','getMinutes','configuration','shift','/EUR','13347971oVDdHF','market','data','excluded','util','split','log','sortBy','sendMetricsTelegram','uncaughtException',':\x20Bot\x20','exchange\x20not\x20reloaded','ask','type','Avoiding\x20continuous\x20order\x20attempts','fees','starting-balances','write','\x20>\x20[DEBUG]\x20','timeout','bb-settings.json','cancelLoading','\x20has\x20a\x2024h\x20drop\x20of\x20','format','find','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','3\x20-\x20handling\x20FILLED\x20order:\x20','symbol','initclient','2\x20-\x20Orders\x20unlocked','orderId','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','parse','\x20exchange','bot-','1\x20-\x20Unlock\x20orders','2\x20-\x20Handled\x20open\x20orders','limits','toFixed','Binance','-events.json','4fuuMfX','bot','add','24eBwwaK','botname','exchange','Invalid\x20quantity','\x20API\x20secret\x20is\x20invalid','LOCKED','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','BUSD','USDT','function','datetime','Order\x20amount\x20is\x20invalid:\x20','padStart','AuthenticationError','fetchBalance','************','-------------------------------\x0a','370NtJIHC','ccxt','coin','ETH','Net\x20effect','yargs/yargs','simple','startsWith','getPortfolio','map','2\x20-\x20FILLED\x20known\x20order:\x20','USD','watchTransactions','\x20|\x20lock\x20orders:\x20','getPortfolio(1)','bb-secure.json','</pre>','placeOrder','progress','toString','length','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','date-fns','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','getDate','path','running','no\x20open\x20orders','491960LuBeva','success','\x20orders\x20in\x20less\x20than\x20','apiPassword','exchanges','\x20>\x20','added','BTC','timer:','existsSync','coins','currency','trade','(((.+)+)+)+$','storeHeadless','getTime','padEnd','eur','API-key\x20format\x20invalid','realized','loadMarkets','limit','hybrid-crypto-js','001','forEach','/backup/',',\x20must\x20be\x20a\x203\x20digit\x20number','distribution','value','Pausing\x20for\x20','liquidity','target','openOrders','changes','average','UNLOCKED','./logs/','getPortfolio(0)','\x20|\x20','bots','toUpperCase','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','no\x20additional\x20symbols','final','getStartingBalances','getFullYear','cost','close','fetchTicker','35WorpEp','sendPortfolioTelegram','net-basecoin','assign','watchOrders','Reset\x20|\x20','\x20-\x20bot\x20not\x20started','isEqual','headless','number','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','kill','none','apiSecret','resetHistory','placeOrder()','search','basecoin','reverse','4355418kbYPcN','filter','threshold','NANO/','startdate','/USD','DDoSProtection','InsufficientFunds','storeFiat','\x20value','toLowerCase','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','\x20:\x20','emojibuy','./config/','Fees\x20|\x20currency:\x20','privateKey','balancing\x20resumed','watchTrades','limit-high','DAI/','test','sell','Cooldown\x20ended\x20-\x20balancing\x20resumed','cancelOrders()','symbols','7626ThRyuC','3714giQeEC','showname','string','2.5.0','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','initial','date','Unknown\x20error\x20occured','ongoing','amountToPrecision','getCoins()','buy','max','pro','net-fiat','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','performance','.json','has','leftTxt','Fee\x20discount\x20refund\x20detected:\x20','enabled','emojisell','getMonth','timestamp','lowdb','YOYOW/','args','exchange\x20reloaded','cloneDeep','264sPEpgH','removed','\x20metrics:</b>\x20\x0a\x0a','join','2.3.5','clientOrderId','fiat','BNB/','getSeconds','total','\x20minutes','min','\x20API\x20key\x20is\x20invalid','fromCodePoint','\x20not\x20available','%\x20(','recent20','toggleBotMode','botID','freeze','1\x20-\x20FILLED:\x20','usd','version','splice','keys','send','Limit\x20(high-margin)','unlinkSync','fee','event-history','configuration-stored','startnumber','1\x20-\x20Validate\x20orders:\x20','9875448qZdVMA','Failed\x20to\x20load\x20coin\x20data\x20for\x20','change24h','\x20portfolio:</b>\x20\x0a\x0a','ticker','milliseconds','warning','Exchange','filled','password','loading-canceled','BNB','<b>','mkdirSync','getPortfolio(2)','Saving\x20configuration','error','restart','212EbADIt','ORDERS.UNLOCKING','getCoinNumber()','InvalidNonce','last','fetchTickers','No\x20more\x20open\x20orders\x20-\x20','./version.json','constructor','exec','entries','includes','orderstatus','abs','recreate','ORDERS.UNLOCKED','decrypt','2.6.0','change','debug','UNLOCKING','order','concat','getHours','recovery','breakeven','showConfig','event','lowdb/adapters/FileSync','Executing\x20exchange\x20reload','delta','\x20closed\x20the\x20connection','***','cancel','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','153784KTwfkx','Order\x20filled:\x20','price','0\x20-\x20EXECUTION:\x20','onepagemode'];_0x26f7=function(){return _0x57f4de;};return _0x26f7();}const _0x51f305=function(){let _0x11e970=!![];return function(_0x14d6a2,_0x459fed){const _0x3e88a0=_0x11e970?function(){const _0x1f4199=_0x395f;if(_0x459fed){const _0x5932cd=_0x459fed[_0x1f4199(0x178)](_0x14d6a2,arguments);return _0x459fed=null,_0x5932cd;}}:function(){};return _0x11e970=![],_0x3e88a0;};}(),_0x23f6bf=_0x51f305(this,function(){const _0x339928=_0x395f;return _0x23f6bf[_0x339928(0x1d4)]()[_0x339928(0xa3)](_0x339928(0x1ea))[_0x339928(0x1d4)]()[_0x339928(0x11a)](_0x23f6bf)['search'](_0x339928(0x1ea));});_0x23f6bf();'use strict';const ccxt=require(_0x39d1ca(0x1c2))[_0x39d1ca(0xce)],low=require(_0x39d1ca(0xda)),FileSync=require(_0x39d1ca(0x12e)),fs=require('fs'),fns=require(_0x39d1ca(0x1d7)),Crypt=require(_0x39d1ca(0x78))['Crypt'],util=require(_0x39d1ca(0x187)),argv=require(_0x39d1ca(0x1c6))(process[_0x39d1ca(0x13d)]['slice'](0x2))[_0x39d1ca(0x13d)],path=require(_0x39d1ca(0x1da));let exchange;global[_0x39d1ca(0x104)]={},global[_0x39d1ca(0x124)]={};const exceptions={'binance':[_0x39d1ca(0xba),'HOT/BTC','XEM/BUSD',_0x39d1ca(0xa9),_0x39d1ca(0xdb)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x39d1ca(0xf2)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x39d1ca(0x85)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x39d1ca(0x119))[_0x39d1ca(0xf5)],botID=process['argv'][0x2]||_0x39d1ca(0x79),pattern=/^[0-9]{3}$/;!pattern[_0x39d1ca(0xbb)](botID)&&(console[_0x39d1ca(0x189)]('Error:\x20Invalid\x20argument\x20'+botID+_0x39d1ca(0x7c)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x39d1ca(0xb4)+userID+'/':'./config/',logspath=userID?_0x39d1ca(0x86)+userID+'/':_0x39d1ca(0x86),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs[_0x39d1ca(0x1e6)](configpath)&&fs['mkdirSync'](configpath);!fs['existsSync'](logspath)&&fs[_0x39d1ca(0x10d)](logspath);const configfile=configpath+_0x39d1ca(0x1a6)+botID+'-config.json',logfile=configpath+_0x39d1ca(0x1a6)+botID+_0x39d1ca(0x1ac),performancefile=configpath+'bot-'+botID+_0x39d1ca(0x143),coinresultsfile=configpath+'bot-'+botID+_0x39d1ca(0x175),settingsfile=configpath+_0x39d1ca(0x197),securefile=configpath+_0x39d1ca(0x1d0),configbackuppath=configpath+_0x39d1ca(0x7b),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x39d1ca(0x142)]({'logs':[],'version':serverversion})[_0x39d1ca(0x194)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x39d1ca(0x194)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x39d1ca(0x142)]({'bot':[],'version':serverversion})[_0x39d1ca(0x194)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x39d1ca(0x142)]({'coins':[],'version':serverversion})[_0x39d1ca(0x194)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x552db6=>{const _0x26062c=_0x39d1ca;console[_0x26062c(0x189)](_0x552db6);},'simple':_0x13f181=>{const _0x30d471=_0x39d1ca;console[_0x30d471(0x189)](_0x13f181),loggerfile['write'](util['format'](_0x13f181)+'\x0a');},'full':async(_0x2e312f,_0x45f0d4='')=>{const _0x372f83=_0x39d1ca;let _0x69d181;if(config[_0x372f83(0xc2)])_0x69d181=getTimeStamp()+':\x20'+config[_0x372f83(0x1b1)]+_0x372f83(0x1e2)+_0x2e312f;else _0x69d181=getTimeStamp()+':\x20Bot\x20'+botID+_0x372f83(0x1e2)+_0x2e312f;console[_0x372f83(0x189)](_0x69d181),loggerfile[_0x372f83(0x194)](util[_0x372f83(0x19a)](_0x69d181)+'\x0a'),_0x45f0d4&&(console[_0x372f83(0x189)](_0x45f0d4),loggerfile['write'](util[_0x372f83(0x19a)](_0x45f0d4)+'\x0a'));},'debug':async(_0x417122,_0x4bcca1='')=>{const _0x5327c3=_0x39d1ca;let _0x77f523;if(config['showname'])_0x77f523=getTimeStamp()+':\x20'+config[_0x5327c3(0x1b1)]+'\x20>\x20[DEBUG]\x20'+_0x417122;else _0x77f523=getTimeStamp()+_0x5327c3(0x18d)+botID+_0x5327c3(0x195)+_0x417122;if(debugging)console[_0x5327c3(0x189)](_0x77f523);loggerfile[_0x5327c3(0x194)](util[_0x5327c3(0x19a)](_0x77f523)+'\x0a');if(_0x4bcca1){if(debugging)console[_0x5327c3(0x189)](_0x4bcca1);loggerfile[_0x5327c3(0x194)](util[_0x5327c3(0x19a)](_0x4bcca1)+'\x0a');}}};process['on'](_0x39d1ca(0x18c),function(_0x8e353b){const _0x34c66b=_0x39d1ca;logger[_0x34c66b(0x1c7)](_0x8e353b);});settings[_0x39d1ca(0x152)]!=config[_0x39d1ca(0x152)]&&updateTimeshift(settings['timeshift']);settings[_0x39d1ca(0x13a)]!=config['onepagemode']&&updateOnepagemode(settings['onepagemode']);process[_0x39d1ca(0xf8)]({'started':_0x39d1ca(0x1db)},_0x3950d6=>{}),initializeProcessListeners();function proxyEmit(_0x551b90,_0x554440=null){const _0x41868e=_0x39d1ca;process[_0x41868e(0xf8)]({'function':_0x551b90,'args':_0x554440},_0x57c243=>{});}function initializeProcessListeners(){const _0x547ef7=_0x39d1ca;process['on'](_0x547ef7(0x15e),_0x58577e=>{const _0x58710d=_0x547ef7;switch(Object[_0x58710d(0xf7)](_0x58577e)[0x0]){case _0x58710d(0x152):_0x58577e[_0x58710d(0x152)]!=undefined&&(settings[_0x58710d(0x152)]=_0x58577e[_0x58710d(0x152)],updateTimeshift(settings[_0x58710d(0x152)]));break;case'onepagemode':_0x58577e[_0x58710d(0x13a)]!=undefined&&(settings[_0x58710d(0x13a)]=_0x58577e[_0x58710d(0x13a)],updateOnepagemode(settings['onepagemode']));break;case _0x58710d(0x89):_0x58577e[_0x58710d(0x89)]!=undefined&&(bots=JSON[_0x58710d(0x1a4)](_0x58577e[_0x58710d(0x89)]),proxyEmit('bots',bots));break;case'function':switch(_0x58577e[_0x58710d(0x1b9)]){case _0x58710d(0x1a0):initclient();break;case _0x58710d(0xf0):toggleBotMode();break;case'emitHistory':emitHistory(_0x58577e[_0x58710d(0xdc)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x58577e[_0x58710d(0xdc)]);break;case _0x58710d(0x1c9):getPortfolio(_0x58577e['args']);break;case'storeConfiguration':storeConfiguration(_0x58577e[_0x58710d(0xdc)]);break;case _0x58710d(0x1eb):storeHeadless(_0x58577e[_0x58710d(0xdc)]);break;case _0x58710d(0xae):storeFiat(_0x58577e[_0x58710d(0xdc)]);break;case _0x58710d(0xa1):resetHistory();break;case _0x58710d(0x8e):getStartingBalances(getNormalizedPerformance());break;case _0x58710d(0x1d2):placeOrder(_0x58577e[_0x58710d(0xdc)]);break;case _0x58710d(0x198):cancelLoading();break;case _0x58710d(0x12c):showConfig();break;case _0x58710d(0x18b):sendMetricsTelegram();break;case _0x58710d(0x94):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x5b386c=null,_0x203e4e=![]){const _0x68e0fa=_0x39d1ca;logger[_0x68e0fa(0x125)](_0x68e0fa(0x98)+(_0x5b386c&&_0x5b386c[_0x68e0fa(0x1d5)]>0x0?_0x68e0fa(0x147)+_0x5b386c[_0x68e0fa(0xe2)](','):_0x68e0fa(0x8c))+_0x68e0fa(0x88)+(_0x203e4e?_0x68e0fa(0xdd):_0x68e0fa(0x18e)));if(pidBalances)clearTimeout(pidBalances);if(!_0x203e4e)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x68e0fa(0x16c)]!=_0x68e0fa(0x132)){if(_0x203e4e){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x9efb6c){handleErrorNoStop(_0x9efb6c,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x5b386c);const _0x5b6037=await getCoins();[currentCoins,currentCoinsAll]=_0x5b6037,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x68e0fa(0x1d5)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}function _0x395f(_0x538e61,_0x19e26d){const _0x19eb25=_0x26f7();return _0x395f=function(_0x23f6bf,_0x51f305){_0x23f6bf=_0x23f6bf-0x78;let _0x26f7c3=_0x19eb25[_0x23f6bf];return _0x26f7c3;},_0x395f(_0x538e61,_0x19e26d);}async function stopExchange(){const _0x5ded8e=_0x39d1ca;exchangeStopped=!![],await exchange[_0x5ded8e(0x91)]();}async function reloadExchange(){const _0x181887=_0x39d1ca;logger[_0x181887(0x125)](_0x181887(0x149));while(lockOrders!=ORDERS[_0x181887(0x85)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x181887(0x12f)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x47b34e=config[_0x39d1ca(0x1b2)],_0x7388ec=config[_0x39d1ca(0x16c)],_0x1e30b3=config['apiSecret'],_0x591c11=config['apiPassword']){const _0x1254c1=_0x39d1ca;exchange&&await stopExchange();!supportedExchanges()[_0x1254c1(0x11d)](_0x47b34e)&&(logHistory(_0x1254c1(0x110),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x47b34e+_0x1254c1(0x1a5)),killBot());const _0x2773e7=ccxt[_0x47b34e[_0x1254c1(0xb0)]()];exchange=new _0x2773e7({'apiKey':_0x7388ec,'secret':_0x1e30b3,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x591c11)exchange[_0x1254c1(0x109)]=_0x591c11;}function setStableCoins(){const _0x57591e=_0x39d1ca;let _0x267424=config['basecoin']==_0x57591e(0x1c4)?_0x57591e(0x1c4):_0x57591e(0x1e4),_0x43bd66=!allSymbols['includes'](_0x267424+_0x57591e(0xab))?_0x57591e(0x1b8):_0x57591e(0x1cc),_0x75aa22=!allSymbols[_0x57591e(0x11d)](_0x267424+_0x57591e(0x182))?_0x43bd66:_0x57591e(0x17c);stablecoins={'eur':{'coin':''+_0x267424+_0x75aa22,'symbol':_0x267424+'/'+_0x75aa22},'usd':{'coin':''+_0x267424+_0x43bd66,'symbol':_0x267424+'/'+_0x43bd66}};}async function initwsCcxt(_0x3edbac){const _0x1d7b5f=_0x39d1ca;_0x3edbac==null&&(_0x3edbac=[],config[_0x1d7b5f(0x163)][_0x1d7b5f(0x7a)](_0x4081e3=>{const _0x9f05bb=_0x1d7b5f;if(!_0x4081e3['excluded']&&_0x4081e3[_0x9f05bb(0x1c3)]!=config['basecoin'])_0x3edbac['push'](_0x4081e3[_0x9f05bb(0x19f)]);}));if(!_0x3edbac['includes'](stablecoins[_0x1d7b5f(0x1ee)][_0x1d7b5f(0x19f)]))_0x3edbac['push'](stablecoins[_0x1d7b5f(0x1ee)][_0x1d7b5f(0x19f)]);if(!_0x3edbac['includes'](stablecoins[_0x1d7b5f(0xf4)][_0x1d7b5f(0x19f)]))_0x3edbac[_0x1d7b5f(0x171)](stablecoins[_0x1d7b5f(0xf4)][_0x1d7b5f(0x19f)]);if(config['exchange'][_0x1d7b5f(0x1c8)](_0x1d7b5f(0x1ab))){if(!_0x3edbac[_0x1d7b5f(0x11d)](_0x1d7b5f(0xe6)+config[_0x1d7b5f(0xa4)]))_0x3edbac[_0x1d7b5f(0x171)]('BNB/'+config[_0x1d7b5f(0xa4)]);}loadCoins(_0x3edbac);const _0x161e93=async _0x2c62ce=>{const _0x589378=_0x1d7b5f,_0x59bb48=await exchange[_0x589378(0x92)](_0x2c62ce);global['ticker'][noslash(_0x59bb48[_0x589378(0x19f)])]=_0x59bb48['last'];while(!![]){if(!botPaused)try{const _0x1a1904=await exchange[_0x589378(0xb8)](_0x2c62ce);global['ticker'][noslash(_0x1a1904[0x0][_0x589378(0x19f)])]=_0x1a1904[0x0][_0x589378(0x138)],await sleep(0x3e8);}catch(_0x4c0309){if(!exchangeStopped)await handleError(_0x4c0309,_0x589378(0xb8),_0x2c62ce);}else await sleep(0x3e8);}},_0x10c5bd=async _0xca727b=>{const _0x6d8097=_0x1d7b5f;while(!![]){if(!botPaused)try{const _0x298453=await exchange[_0x6d8097(0x92)](_0xca727b);global[_0x6d8097(0x124)][_0x298453[_0x6d8097(0x19f)]]=_0x298453[_0x6d8097(0x177)],await sleep(0x3c*0x3e8);}catch(_0x1db83c){if(!exchangeStopped)await handleError(_0x1db83c,_0x6d8097(0x117),_0xca727b);}else await sleep(0x3e8);}},_0x1a07f2=async()=>{const _0x536124=_0x1d7b5f;while(!![]){if(!botPaused)try{const _0x4d7dc1=await exchange[_0x536124(0x97)]();_0x4d7dc1[_0x536124(0x7a)](_0x2157f8=>{updateNumberCoinsCcxt(_0x2157f8);});}catch(_0x10a9ee){if(!exchangeStopped)await handleError(_0x10a9ee,_0x536124(0x97));}else await sleep(0x3e8);}};_0x3edbac['forEach'](async _0x3af09d=>{_0x161e93(_0x3af09d),_0x10c5bd(_0x3af09d);}),!wsEventsSet&&(wsEventsSet=!![],_0x1a07f2(),watchTransactions());}async function watchTransactions(){const _0x2177c0=_0x39d1ca;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x438a85=await getCoins(),[_0x1d59df,_0x1588d1]=_0x438a85;let _0x35274a=[];currentCoins['forEach'](_0x5732c3=>{const _0x4c0211=_0x395f,_0x283711=_0x1d59df[_0x4c0211(0x19b)](_0x1d3196=>_0x1d3196['coin']==_0x5732c3['coin']);_0x283711&&(_0x5732c3[_0x4c0211(0x9c)]!=_0x283711['number']&&_0x35274a[_0x4c0211(0x171)]({'coin':_0x5732c3[_0x4c0211(0x1c3)],'symbol':_0x5732c3['symbol'],'number':Number(formatResult(_0x283711[_0x4c0211(0x9c)]-_0x5732c3[_0x4c0211(0x9c)],0x8))}));});if(_0x35274a[_0x2177c0(0x1d5)]==0x1&&!blockTransactionDetection){logger[_0x2177c0(0x125)](_0x2177c0(0xb5)+lastFees['currency']+'\x20|\x20highest:\x20'+lastFees[_0x2177c0(0x16f)]);if(!lastFees['currency']||_0x35274a[0x0]['coin']!=lastFees['currency']||_0x35274a[0x0]['number']>lastFees[_0x2177c0(0x16f)]){let _0x4e07d5;if(_0x35274a[0x0][_0x2177c0(0x1c3)]!=config[_0x2177c0(0xa4)]){let _0x4ce34e=global[_0x2177c0(0x104)][noslash(_0x35274a[0x0]['symbol'])];_0x4e07d5=_0x35274a[0x0][_0x2177c0(0xa5)]?0x1/_0x4ce34e:_0x4ce34e;}else _0x4e07d5=0x1;_0x35274a[0x0][_0x2177c0(0x138)]=_0x4e07d5,delete _0x35274a[0x0][_0x2177c0(0x19f)];let _0x184086=[],_0x2722b0=[...config['liquidity']]||[],_0x5117d1=config[_0x2177c0(0x80)];_0x2722b0['sort']((_0x4bae0d,_0x3c7dce)=>_0x4bae0d[_0x2177c0(0xc7)]>_0x3c7dce[_0x2177c0(0xc7)]?-0x1:_0x3c7dce[_0x2177c0(0xc7)]>_0x4bae0d[_0x2177c0(0xc7)]?0x1:0x0);const _0x2cc078=getDate();if(_0x2722b0[0x0]){const _0x32ea1a=fns[_0x2177c0(0x1a4)](_0x2722b0[0x0][_0x2177c0(0xc7)],'yyyy/MM/dd',new Date()),_0x186f31=fns[_0x2177c0(0x1a4)](_0x2cc078,_0x2177c0(0x174),new Date());if(fns[_0x2177c0(0x9a)](_0x32ea1a,_0x186f31)){_0x184086=_0x2722b0[0x0][_0x2177c0(0x83)];const _0x4496bb=_0x184086[_0x2177c0(0x19b)](_0x94d039=>_0x94d039[_0x2177c0(0x1c3)]==_0x35274a[0x0]['coin']);_0x4496bb?(_0x4496bb['number']+=_0x35274a[0x0][_0x2177c0(0x9c)],_0x4496bb['number']==0x0&&(_0x184086=_0x184086['filter'](_0x1bfb62=>{const _0x45ccd9=_0x2177c0;return _0x1bfb62[_0x45ccd9(0x1c3)]!=_0x35274a[0x0][_0x45ccd9(0x1c3)];}))):_0x184086[_0x2177c0(0x171)](_0x35274a[0x0]);const _0x11aebf=_0x5117d1[_0x2177c0(0x19b)](_0x24d5d3=>_0x24d5d3[_0x2177c0(0xc7)]==_0x2cc078);_0x11aebf[_0x2177c0(0x83)]=_0x184086;}else _0x5117d1[_0x2177c0(0x171)]({'date':_0x2cc078,'changes':[_0x35274a[0x0]]});}const _0x32842a=_0x5117d1[_0x2177c0(0x19b)](_0x2452f0=>_0x2452f0[_0x2177c0(0xc7)]==_0x2cc078);if(_0x32842a){let _0x4243ea=!![];_0x32842a[_0x2177c0(0x83)][_0x2177c0(0x7a)](_0x5a517c=>{const _0x61b86b=_0x2177c0;if(_0x5a517c[_0x61b86b(0x9c)]!=0x0)_0x4243ea=![];}),_0x4243ea&&(_0x5117d1=_0x5117d1['filter'](_0x103b69=>{const _0x187dac=_0x2177c0;return _0x103b69[_0x187dac(0xc7)]!=_0x2cc078;}));}let _0x5839e1=dbConfig[_0x2177c0(0x14f)](_0x2177c0(0x1ae))[_0x2177c0(0x19b)]({'botID':botID})['value']();_0x5839e1&&(dbConfig[_0x2177c0(0x14f)](_0x2177c0(0x1ae))[_0x2177c0(0x19b)]({'botID':botID})['assign']({'liquidity':_0x5117d1})[_0x2177c0(0x194)](),config[_0x2177c0(0x80)]=_0x5117d1),logHistory('success','Portfolio\x20change\x20detected:\x20'+Math[_0x2177c0(0x11f)](_0x35274a[0x0][_0x2177c0(0x9c)])+'\x20'+_0x35274a[0x0][_0x2177c0(0x1c3)]+'\x20'+(_0x35274a[0x0][_0x2177c0(0x9c)]>0x0?_0x2177c0(0x1e3):'removed')+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x2177c0(0x180),emittedConfiguration());}else logger['debug'](_0x2177c0(0xd5)+Math[_0x2177c0(0x11f)](_0x35274a[0x0][_0x2177c0(0x9c)])+'\x20'+_0x35274a[0x0][_0x2177c0(0x1c3)]+'\x20'+(_0x35274a[0x0][_0x2177c0(0x9c)]>0x0?'added':_0x2177c0(0xe0)));transactionDetected=!![],currentCoins=_0x1d59df,currentCoinsAll=_0x1588d1;}await sleep(watchTransactionsInterval);}catch(_0x1bc903){if(!exchangeStopped)await handleError(_0x1bc903,_0x2177c0(0x1cd));}else await sleep(0x3e8);}}async function loadSymbols(_0x469d50=config['exchange'],_0x5975be=![]){const _0x20764b=_0x39d1ca;if(allSymbols&&!_0x5975be)return;try{markets=await exchange[_0x20764b(0x1f1)](),allSymbols=exchange[_0x20764b(0xbf)][_0x20764b(0xa7)](_0x244ef1=>{const _0x4bbd3b=_0x20764b;let _0x3e10f0=![];const _0x192bcb=exceptions[_0x469d50['toLowerCase']()]||[];return _0x192bcb[_0x4bbd3b(0x7a)](_0x9aba21=>{const _0x25b894=_0x4bbd3b;if(_0x244ef1[_0x25b894(0x11d)](_0x9aba21))_0x3e10f0=!![];}),!_0x3e10f0;});}catch(_0x7222b1){throw _0x7222b1;}}async function initclient(){const _0x3598af=_0x39d1ca;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x3598af(0x1e1),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3598af(0x150),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3dcd84=getNormalizedPerformance();emitPerformance(_0x3dcd84),getStartingBalances(_0x3dcd84);}async function toggleBotMode(){const _0x2a35a6=_0x39d1ca;let _0x300120=dbConfig['get'](_0x2a35a6(0x1ae))['find']({'botID':botID})[_0x2a35a6(0x7e)]();if(_0x300120){const _0x504e94=!_0x300120['headless'];dbConfig[_0x2a35a6(0x14f)](_0x2a35a6(0x1ae))[_0x2a35a6(0x19b)]({'botID':botID})['assign']({'headless':_0x504e94})[_0x2a35a6(0x194)](),config['headless']=_0x504e94,proxyEmit(_0x2a35a6(0x180),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5ab538=_0x39d1ca;process[_0x5ab538(0xf8)]({'updatebotmanager':!![]},_0x349783=>{});}async function loadCoins(_0x5f4bdb){const _0x164ac0=_0x39d1ca;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x47d46d,_0x3c4b0e=0x0,_0x3068f0=0x0;_0x5f4bdb[_0x164ac0(0x7a)](_0x5eb9cb=>{const _0x5edf22=_0x164ac0;loading[_0x5edf22(0x141)][_0x5edf22(0x171)](_0x5eb9cb);}),loadingCanceled=![];let _0x4b1754=![];while(_0x47d46d!=_0x5f4bdb[_0x164ac0(0x1d5)]){_0x47d46d=0x0,_0x5f4bdb[_0x164ac0(0x7a)](_0x19ce2b=>{const _0x3372cb=_0x164ac0;if(global[_0x3372cb(0x104)][noslash(_0x19ce2b)]){loading['remainingSymbols']=loading[_0x3372cb(0x141)]['filter'](_0x17cc43=>_0x17cc43!=_0x19ce2b);if(!watchedSymbols[_0x3372cb(0x11d)](_0x19ce2b))watchedSymbols[_0x3372cb(0x171)](_0x19ce2b);_0x47d46d++;}}),loading['progress']=Math[_0x164ac0(0x172)](_0x47d46d/_0x5f4bdb[_0x164ac0(0x1d5)]*0x64);loading[_0x164ac0(0x1d3)]!=0x64&&(_0x3068f0>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x3068f0>0x78*0x5&&!_0x4b1754&&(loading[_0x164ac0(0x133)]=!![],emitLoadingProgress(),_0x4b1754=!![],logHistory(_0x164ac0(0x110),_0x164ac0(0x101)+loading[_0x164ac0(0x141)][_0x164ac0(0xe2)](',\x20')+_0x164ac0(0x99)),logHistory(_0x164ac0(0x110),_0x164ac0(0x7f)+loadCoinsRetryInterval/0xea60+_0x164ac0(0x8b)),pidCoinReloading=setTimeout(()=>{const _0x256b6f=_0x164ac0;process[_0x256b6f(0xf8)]({'stop':_0x256b6f(0x111)},_0x18cd1a=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x164ac0(0x133)]=!![],emitLoadingProgress();break;}else _0x47d46d!=_0x3c4b0e&&(_0x3c4b0e=_0x47d46d,emitLoadingProgress()),_0x3068f0++,await sleep(0xc8);}_0x47d46d==_0x5f4bdb[_0x164ac0(0x1d5)]&&(coinsLoaded=!![],process[_0x164ac0(0xf8)]({'status':_0x164ac0(0xd6),'live':_0x164ac0(0x1db)},_0x44f899=>{}),_0x4b1754&&logHistory(_0x164ac0(0x1de),_0x164ac0(0x1b6)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1dfad9=_0x39d1ca;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x1dfad9(0x10a)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x1d1704=_0x39d1ca;let _0x5a7da9=global[_0x1d1704(0x104)][stablecoins[_0x1d1704(0x1ee)][_0x1d1704(0x1c3)]],_0x5a6f60=global[_0x1d1704(0x104)][stablecoins['usd'][_0x1d1704(0x1c3)]];return{'eur':Number(_0x5a7da9),'usd':Number(_0x5a6f60)};}function capitalize(_0x23d4ec){const _0x1eca0d=_0x39d1ca;return _0x23d4ec['substring'](0x0,0x1)[_0x1eca0d(0x8a)]()+_0x23d4ec['substring'](0x1);}function supportedExchanges(){const _0x51d960=_0x39d1ca,_0x25d302=['ws',_0x51d960(0x117),'fetchTicker','watchTrades',_0x51d960(0x97),_0x51d960(0x153),_0x51d960(0x165),_0x51d960(0x16a),'fetchClosedOrders',_0x51d960(0x1be)];let _0x52d9a7=[],_0x7bf88f=[],_0xdd657c=ccxt[_0x51d960(0x1e1)];_0xdd657c[_0x51d960(0x7a)](_0x4b8eaa=>{const _0x7174d9=_0x51d960;try{const _0x49e276=new ccxt[_0x4b8eaa]();if(_0x49e276[_0x7174d9(0xd3)]['ws'])_0x7bf88f['push'](_0x49e276);}catch(_0x2d8e21){}}),_0x7bf88f['forEach'](_0x161cc2=>{const _0xa4eb6b=_0x51d960;let _0x526e1a=0x0;_0x25d302[_0xa4eb6b(0x7a)](_0x423462=>{_0x423462 in _0x161cc2['has']&&_0x161cc2['has'][_0x423462]&&_0x526e1a++;}),_0x526e1a==_0x25d302[_0xa4eb6b(0x1d5)]&&_0x52d9a7[_0xa4eb6b(0x171)](capitalize(_0x161cc2['id']));});let _0x4bea4c=[];return _0xdd657c['forEach'](_0x1b1ba3=>{const _0x1ccaea=_0x51d960;_0x1b1ba3=capitalize(_0x1b1ba3);if(!_0x52d9a7[_0x1ccaea(0x11d)](_0x1b1ba3))_0x4bea4c['push'](_0x1b1ba3);}),_0x52d9a7;}function setStartDatePerformance(){const _0xce122=_0x39d1ca;if(config&&config[_0xce122(0x80)][0x0][_0xce122(0x83)][_0xce122(0x1d5)]!=0x0){const _0x33eb3e=config[_0xce122(0x80)][0x0][_0xce122(0x83)];dbPerformance[_0xce122(0x14f)](_0xce122(0x185))['find']({'date':config[_0xce122(0xaa)]})[_0xce122(0x96)]({'coins':_0x33eb3e})[_0xce122(0x194)]();}}async function recreateCoinResults(){const _0x4b14ee=_0x39d1ca;let _0x2a9938,_0x180667=[];try{const _0x520a0c=fns['format'](fns['parseISO'](config[_0x4b14ee(0xaa)][_0x4b14ee(0x176)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x4e7864 of currentCoins){if(_0x4e7864[_0x4b14ee(0x1c3)]!=config[_0x4b14ee(0xa4)]){let _0x3fd00e=0x0,_0x479e49,_0x5bf9f5;_0x2a9938=await getAllEventOrders(_0x4e7864['symbol']);if(_0x2a9938[_0x4b14ee(0x1d5)]>0x0)_0x2a9938[_0x4b14ee(0x7a)](_0x2f626d=>{const _0x5c6801=_0x4b14ee,_0x34cce9=_0x4e7864[_0x5c6801(0x19f)][_0x5c6801(0x11d)](config[_0x5c6801(0xa4)]+'/');_0x180667[_0x5c6801(0x171)]({'datetime':_0x2f626d[_0x5c6801(0x1ba)],'coin':_0x4e7864['coin'],'symbol':_0x4e7864['symbol'],'side':_0x2f626d['side'],'reverse':_0x34cce9,'amount':formatResult(_0x2f626d[_0x5c6801(0x108)],0x8),'filled':formatResult(_0x2f626d['filled'],0x8),'price':formatResult(_0x2f626d[_0x5c6801(0x138)],0x8)}),_0x3fd00e=_0x2f626d[_0x5c6801(0x169)]==_0x5c6801(0xcc)?_0x3fd00e+_0x2f626d[_0x5c6801(0x108)]:_0x3fd00e-_0x2f626d['filled'];if(!_0x5bf9f5)_0x5bf9f5=_0x2f626d['price'];});_0x479e49=_0x4e7864['number']-_0x3fd00e;let _0xeb9a44;config[_0x4b14ee(0x80)][_0x4b14ee(0x7a)](_0x208fa8=>{const _0x2cf4c9=_0x4b14ee;!_0xeb9a44&&(_0xeb9a44=_0x208fa8[_0x2cf4c9(0x83)][_0x2cf4c9(0x19b)](_0x4959af=>_0x4959af['coin']==_0x4e7864['coin']),_0xeb9a44&&(_0x479e49=_0xeb9a44[_0x2cf4c9(0x9c)],_0x5bf9f5=_0xeb9a44[_0x2cf4c9(0x138)]));});let _0x37e60a=dbCoinResults[_0x4b14ee(0x14f)]('coins')['find']({'coin':_0x4e7864['coin']})[_0x4b14ee(0x7e)]();_0x37e60a={'coin':_0x4e7864[_0x4b14ee(0x1c3)],'number':_0x479e49,'breakeven':_0x5bf9f5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4b14ee(0x14f)](_0x4b14ee(0x1e7))[_0x4b14ee(0x19b)]({'coin':_0x4e7864[_0x4b14ee(0x1c3)]})['assign'](_0x37e60a)[_0x4b14ee(0x194)]();}}_0x180667[_0x4b14ee(0x144)]((_0x17dd83,_0x51e193)=>_0x17dd83[_0x4b14ee(0x1ba)]>_0x51e193[_0x4b14ee(0x1ba)]?0x1:_0x51e193['datetime']>_0x17dd83[_0x4b14ee(0x1ba)]?-0x1:0x0);let _0x257f37=0x0;for(let _0x47c5af of _0x180667){await updateCoinResults(_0x47c5af,!![]);}}catch(_0x122194){await handleError(_0x122194,'recreateCoinResults()');}}async function getAllEventOrders(_0x517cfd){const _0x1e6758=_0x39d1ca;let _0x4756f2=[],_0x42c83e=dbLogs['get']('logs')[_0x1e6758(0xa7)](_0x442d71=>{const _0x2ed45b=_0x1e6758,_0x36b3fd=_0x442d71[_0x2ed45b(0x12d)][_0x2ed45b(0xb0)]();return _0x36b3fd[_0x2ed45b(0x11d)](_0x517cfd[_0x2ed45b(0xb0)]())&&(_0x36b3fd[_0x2ed45b(0x11d)](_0x2ed45b(0x184))&&_0x36b3fd[_0x2ed45b(0x11d)](_0x2ed45b(0x127))||_0x36b3fd['includes'](_0x2ed45b(0x108))&&_0x36b3fd[_0x2ed45b(0x11d)](_0x2ed45b(0x127)));})[_0x1e6758(0x18a)]('time')[_0x1e6758(0x7e)]();return _0x42c83e[_0x1e6758(0x7a)](_0x3479d6=>{const _0x4e9f4c=_0x1e6758,_0x55e527=_0x3479d6[_0x4e9f4c(0x12d)]['includes'](_0x4e9f4c(0xbc))?_0x4e9f4c(0xbc):_0x4e9f4c(0xcc),_0x100e65=/#([0-9]|\.)+\s/i,_0x1bffa6=Number(_0x100e65[_0x4e9f4c(0x11b)](_0x3479d6['event'])[0x0][_0x4e9f4c(0x17e)](0x1)),_0x1a9fa5=/@([0-9]|\.)+$/i,_0x526b16=Number(_0x1a9fa5[_0x4e9f4c(0x11b)](_0x3479d6[_0x4e9f4c(0x12d)])[0x0][_0x4e9f4c(0x17e)](0x1));_0x4756f2[_0x4e9f4c(0x171)]({'datetime':_0x3479d6[_0x4e9f4c(0x168)],'coin':symbolToCoin(_0x517cfd),'symbol':_0x517cfd,'side':_0x55e527,'amount':_0x1bffa6,'filled':_0x1bffa6,'price':_0x526b16});}),_0x4756f2;}async function getAllOrders(_0x211c19,_0x40cb09){const _0x54b6b3=_0x39d1ca;let _0x46e243=[];while(_0x40cb09<exchange[_0x54b6b3(0x105)]()){const _0x177fed=0x1f4,_0x3d1faf=await exchange[_0x54b6b3(0x13b)](_0x211c19,_0x40cb09,_0x177fed);if(_0x3d1faf[_0x54b6b3(0x1d5)])_0x40cb09=_0x3d1faf[_0x3d1faf[_0x54b6b3(0x1d5)]-0x1][_0x54b6b3(0xd9)]+0x1,_0x46e243=_0x46e243[_0x54b6b3(0x128)](_0x3d1faf);else break;}return _0x46e243;}async function validate24hChanges(){const _0x48f68b=_0x39d1ca;for(const _0x38a186 of currentCoins){if(_0x38a186['coin']!=config[_0x48f68b(0xa4)]){let _0x4a3355;_0x38a186['reverse']?_0x4a3355=formatResult((0x1/(global[_0x48f68b(0x124)][noslash(_0x38a186[_0x48f68b(0x19f)])]/0x64+0x1)-0x1)*0x64,0x3):_0x4a3355=global[_0x48f68b(0x124)][noslash(_0x38a186[_0x48f68b(0x19f)])],_0x4a3355<config[_0x48f68b(0x102)]&&(logHistory(_0x48f68b(0x110),_0x38a186[_0x48f68b(0x1c3)]+_0x48f68b(0x199)+_0x4a3355+'%'),logHistory(_0x48f68b(0x110),_0x48f68b(0x1d8)),logHistory('error',_0x48f68b(0x19d)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x484234,_0x2518f7){const _0x679902=_0x39d1ca;if(!_0x484234)return!![];const _0x52e166=_0x2518f7[_0x679902(0x188)]('.'),_0x3916ed=_0x484234[_0x679902(0x188)]('.');for(var _0x5e502a=0x0;_0x5e502a<_0x3916ed[_0x679902(0x1d5)];_0x5e502a++){const _0x403119=~~_0x3916ed[_0x5e502a],_0x42046f=~~_0x52e166[_0x5e502a];if(_0x403119<_0x42046f)return!![];if(_0x403119>_0x42046f)return![];}return![];}async function oneTimeMigration(){const _0x25307d=_0x39d1ca;let _0x5ada1a=dbLogs['get'](_0x25307d(0xf5))[_0x25307d(0x7e)]();if(isOlderVersion(_0x5ada1a,_0x25307d(0xe3))){let _0x3072e5=[];const _0x3268fe=dbLogs[_0x25307d(0x14f)](_0x25307d(0x164))['value']();_0x3268fe[_0x25307d(0x7a)](_0xc13397=>{const _0x5db771=_0x25307d;_0x3072e5[_0x5db771(0x171)]({'time':_0xc13397[_0x5db771(0x168)],'type':_0xc13397['type'],'event':_0xc13397[_0x5db771(0x12d)]});}),dbLogs['get']('logs')[_0x25307d(0x96)](_0x3072e5)['write']();}let _0x525e62=dbConfig['get'](_0x25307d(0xf5))[_0x25307d(0x7e)]();if(isOlderVersion(_0x525e62,_0x25307d(0xe3))){let _0x45e78a=dbConfig[_0x25307d(0x14f)]('bot')['find']({'botID':botID})['value']();if(_0x45e78a){let _0x147748=[];_0x45e78a[_0x25307d(0x163)][_0x25307d(0x7a)](_0x10e87e=>{const _0x141bb2=_0x25307d;_0x147748[_0x141bb2(0x171)]({'coin':_0x10e87e['coin'],'number':_0x10e87e[_0x141bb2(0xfe)],'price':_0x10e87e[_0x141bb2(0x161)]}),delete _0x10e87e[_0x141bb2(0xfe)],delete _0x10e87e['startprice'];});if(_0x147748[_0x25307d(0x1d5)]!==0x0)fs['writeFile'](configbackuppath+(_0x25307d(0x146)+botID+_0x25307d(0xd2)),JSON[_0x25307d(0x16e)](_0x147748,null,0x4),function(_0x4a3acc){if(_0x4a3acc){}});const _0x51118e=(_0x26aec8,_0x2678fe)=>{let _0x334451=[];_0x2678fe['forEach'](_0x4d01c2=>{const _0x33243d=_0x395f,_0x993de2=_0x26aec8[_0x33243d(0x19b)](_0xa5bdb8=>_0xa5bdb8['coin']==_0x4d01c2['coin']);if(!_0x993de2)_0x334451[_0x33243d(0x171)](_0x4d01c2);});let _0x4f1fe8=[];return _0x26aec8['forEach'](_0x101f70=>{const _0x362a8f=_0x395f,_0x42ecfc=_0x2678fe[_0x362a8f(0x19b)](_0x148d8b=>_0x148d8b['coin']==_0x101f70['coin']);if(!_0x42ecfc||_0x42ecfc[_0x362a8f(0x9c)]==0x0&&_0x101f70[_0x362a8f(0x9c)]!=0x0)_0x4f1fe8[_0x362a8f(0x171)](_0x101f70);}),{'missingDay1':_0x334451,'notInDay2':_0x4f1fe8};},_0x25649f=dbPerformance[_0x25307d(0x14f)](_0x25307d(0x185))[_0x25307d(0xde)]()['value']();if(_0x25649f['length']>0x1){const {missingDay1:_0x15960a,notInDay2:_0x5cec91}=_0x51118e(_0x147748,_0x25649f[0x1][_0x25307d(0x1e7)]);_0x147748=[..._0x147748,..._0x15960a],_0x5cec91[_0x25307d(0x7a)](_0x9d4768=>{const _0x45458a=_0x25307d;let _0x4d8a0d=_0x147748['findIndex'](_0x8cfb68=>_0x8cfb68[_0x45458a(0x1c3)]==_0x9d4768['coin']);_0x4d8a0d!=-0x1&&_0x147748[_0x45458a(0xf6)](_0x4d8a0d,0x1);});}_0x147748[_0x25307d(0x144)]((_0x35584d,_0x1a9d89)=>_0x35584d[_0x25307d(0x1c3)]>_0x1a9d89[_0x25307d(0x1c3)]?0x1:_0x1a9d89[_0x25307d(0x1c3)]>_0x35584d[_0x25307d(0x1c3)]?-0x1:0x0);let _0x1a201f=[{'date':_0x45e78a[_0x25307d(0xaa)],'changes':_0x147748}];_0x25649f['length']>0x2&&_0x25649f[_0x25307d(0x7a)]((_0x5d3ae6,_0xf17308)=>{const _0x1b408f=_0x25307d;if(_0xf17308>0x0&&_0xf17308<_0x25649f[_0x1b408f(0x1d5)]-0x1){const {missingDay1:_0x12957d,notInDay2:_0x1da1d3}=_0x51118e(_0x25649f[_0xf17308][_0x1b408f(0x1e7)],_0x25649f[_0xf17308+0x1][_0x1b408f(0x1e7)]);_0x147748=[],(_0x12957d[_0x1b408f(0x1d5)]!=0x0||_0x1da1d3[_0x1b408f(0x1d5)]!=0x0)&&(_0x12957d[_0x1b408f(0x1d5)]!=0x0&&_0x147748[_0x1b408f(0x171)](..._0x12957d),_0x1da1d3[_0x1b408f(0x1d5)]!=0x0&&(_0x1da1d3[_0x1b408f(0x7a)](_0x4a6f0a=>{const _0x1b80b9=_0x1b408f;_0x4a6f0a[_0x1b80b9(0x9c)]=-_0x4a6f0a[_0x1b80b9(0x9c)];}),_0x147748[_0x1b408f(0x171)](..._0x1da1d3)),_0x147748[_0x1b408f(0x144)]((_0xa37ad5,_0x2e02dc)=>_0xa37ad5['coin']>_0x2e02dc[_0x1b408f(0x1c3)]?0x1:_0x2e02dc['coin']>_0xa37ad5[_0x1b408f(0x1c3)]?-0x1:0x0),_0x1a201f[_0x1b408f(0x171)]({'date':_0x25649f[_0xf17308+0x1][_0x1b408f(0xc7)],'changes':_0x147748}));}}),dbConfig[_0x25307d(0x14f)](_0x25307d(0x1ae))[_0x25307d(0x19b)]({'botID':botID})[_0x25307d(0x96)]({..._0x45e78a,'liquidity':_0x1a201f})['write']();}}if(isOlderVersion(_0x525e62,_0x25307d(0x123))){let _0x50f5e1=dbConfig[_0x25307d(0x14f)](_0x25307d(0x1ae))[_0x25307d(0x19b)]({'botID':botID})['value']();if(_0x50f5e1){const _0x1a6ee2=_0x50f5e1[_0x25307d(0x1b2)],_0x44e1bd=_0x1a6ee2?capitalize(_0x1a6ee2):_0x25307d(0x1ab);dbConfig[_0x25307d(0x14f)](_0x25307d(0x1ae))[_0x25307d(0x19b)]({'botID':botID})['assign']({'exchange':_0x44e1bd})['write']();}}let _0x3b894c=dbPerformance[_0x25307d(0x14f)](_0x25307d(0xf5))['value']();isOlderVersion(_0x3b894c,_0x25307d(0xe3))&&setStartDatePerformance();let _0x2224e0=dbCoinResults[_0x25307d(0x14f)](_0x25307d(0xf5))[_0x25307d(0x7e)]();if(isOlderVersion(_0x2224e0,_0x25307d(0xc4))){let _0x53d2a0=dbCoinResults[_0x25307d(0x14f)](_0x25307d(0x1e7))['value']();if(_0x53d2a0[_0x25307d(0x1d5)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x56be80=_0x39d1ca;dbConfig[_0x56be80(0x159)](_0x56be80(0xf5),serverversion)['write'](),dbPerformance['set'](_0x56be80(0xf5),serverversion)['write'](),dbLogs[_0x56be80(0x159)]('version',serverversion)['write'](),dbCoinResults[_0x56be80(0x159)](_0x56be80(0xf5),serverversion)[_0x56be80(0x194)]();}function getConfiguration(_0x4b3218){const _0xabab88=_0x39d1ca;let _0x3a8f67=dbConfig[_0xabab88(0x14f)](_0xabab88(0x1ae))[_0xabab88(0x19b)]({'botID':_0x4b3218})[_0xabab88(0x7e)]();if(_0x3a8f67){let _0x2a5163=![];typeof _0x3a8f67[_0xabab88(0xa8)]==_0xabab88(0xc3)&&(_0x3a8f67={..._0x3a8f67,'threshold':Number(_0x3a8f67['threshold'])},_0x2a5163=!![]),_0x3a8f67[_0xabab88(0x102)]==null&&(_0x3a8f67={..._0x3a8f67,'change24h':-0x14},_0x2a5163=!![]),!_0x3a8f67[_0xabab88(0xe5)]&&(_0x3a8f67={..._0x3a8f67,'fiat':_0xabab88(0x1cc)},_0x2a5163=!![]),!_0x3a8f67[_0xabab88(0x13a)]&&(_0x3a8f67={..._0x3a8f67,'onepagemode':settings[_0xabab88(0x13a)]},_0x2a5163=!![]),_0x2a5163&&(_0x3a8f67={'botID':_0x3a8f67[_0xabab88(0xf1)],'exchange':_0x3a8f67[_0xabab88(0x1b2)],'apiKey':_0x3a8f67[_0xabab88(0x16c)],'apiSecret':_0x3a8f67[_0xabab88(0xa0)],'apiPassword':_0x3a8f67[_0xabab88(0x1e0)],'basecoin':_0x3a8f67[_0xabab88(0xa4)],'botname':_0x3a8f67[_0xabab88(0x1b1)],'showname':_0x3a8f67[_0xabab88(0xc2)],'threshold':_0x3a8f67['threshold'],'ordertype':_0x3a8f67[_0xabab88(0x15b)],'timeout':_0x3a8f67[_0xabab88(0x196)],'fiat':_0x3a8f67[_0xabab88(0xe5)],'startdate':_0x3a8f67[_0xabab88(0xaa)],'recreate':_0x3a8f67[_0xabab88(0x120)],'timeshift':_0x3a8f67[_0xabab88(0x152)],'onepagemode':_0x3a8f67['onepagemode'],'headless':_0x3a8f67[_0xabab88(0x9b)],'cooldown':_0x3a8f67['cooldown'],'change24h':_0x3a8f67['change24h'],'emojibuy':_0x3a8f67[_0xabab88(0xb3)],'emojisell':_0x3a8f67[_0xabab88(0xd7)],'portfolio':_0x3a8f67['portfolio'],'liquidity':_0x3a8f67['liquidity'],'openOrders':_0x3a8f67[_0xabab88(0x82)]},dbConfig[_0xabab88(0x14f)](_0xabab88(0x1ae))['remove']()[_0xabab88(0x194)](),dbConfig[_0xabab88(0x14f)]('bot')[_0xabab88(0x171)](_0x3a8f67)[_0xabab88(0x194)]());}else _0x3a8f67={'botID':_0x4b3218,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x4b3218,'showname':![],'threshold':0x3,'ordertype':_0xabab88(0x184),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0xabab88(0x152)],'onepagemode':settings[_0xabab88(0x13a)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x3a8f67;}function emittedConfiguration(){const _0x12b6f0=_0x39d1ca;let _0x36cf4e;if(config[_0x12b6f0(0x16c)]=='')_0x36cf4e={...config,'configstate':'initial'};else config['apiKey']==_0x12b6f0(0x132)?_0x36cf4e={...config,'configstate':_0x12b6f0(0x12a)}:(_0x36cf4e={...config,'apiKey':_0x12b6f0(0x1bf),'apiSecret':_0x12b6f0(0x1bf)},config['apiPassword']&&(_0x36cf4e['apiPassword']='************'));return _0x36cf4e;}function getSettings(){const _0x497c76=_0x39d1ca;return dbSettings[_0x497c76(0x14f)](_0x497c76(0x13e))[_0x497c76(0x7e)]();}function getSecure(){const _0x362b96=_0x39d1ca;return dbSecure[_0x362b96(0x14f)]('secure')[_0x362b96(0x7e)]()||{};}function updateTimeshift(_0x57048c){const _0x2520bc=_0x39d1ca;let _0x5d245a=dbConfig[_0x2520bc(0x14f)]('bot')[_0x2520bc(0x19b)]({'botID':botID})['value']();_0x5d245a&&dbConfig['get']('bot')[_0x2520bc(0x19b)]({'botID':botID})[_0x2520bc(0x96)]({'timeshift':_0x57048c})[_0x2520bc(0x194)](),config[_0x2520bc(0x152)]=_0x57048c,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x3b5d48){const _0x531a2b=_0x39d1ca;let _0x30d158=dbConfig[_0x531a2b(0x14f)]('bot')['find']({'botID':botID})[_0x531a2b(0x7e)]();_0x30d158&&dbConfig[_0x531a2b(0x14f)](_0x531a2b(0x1ae))[_0x531a2b(0x19b)]({'botID':botID})['assign']({'onepagemode':_0x3b5d48})['write'](),config[_0x531a2b(0x13a)]=_0x3b5d48,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x1395e4){const _0x1639f6=_0x39d1ca;logger['debug'](_0x1639f6(0x10f)),blockTransactionDetection=!![],logger[_0x1639f6(0x125)](_0x1639f6(0x140));let _0x390dc2=[],_0x39bf6a=![],_0x32ca43=[];_0x1395e4[_0x1639f6(0x163)][_0x1639f6(0x7a)](_0x300c6c=>{const _0x2f54ba=_0x1639f6;if(!_0x300c6c['excluded']&&_0x300c6c[_0x2f54ba(0x1c3)]!=_0x1395e4[_0x2f54ba(0xa4)])_0x32ca43[_0x2f54ba(0x171)](_0x300c6c[_0x2f54ba(0x19f)]);}),_0x32ca43[_0x1639f6(0x7a)](_0x24d21d=>{const _0x4609a2=_0x1639f6,_0x1cd407=watchedSymbols[_0x4609a2(0x11d)](_0x24d21d);!_0x1cd407&&_0x390dc2[_0x4609a2(0x171)](_0x24d21d);});_0x390dc2[_0x1639f6(0x1d5)]>0x0?_0x39bf6a=!![]:currentCoins['forEach'](_0x2db11c=>{const _0x59b59b=_0x1639f6;if(_0x2db11c[_0x59b59b(0x1c3)]!=config[_0x59b59b(0xa4)]){const _0x1c9d44=_0x32ca43[_0x59b59b(0x19b)](_0x22928c=>_0x22928c==_0x2db11c['symbol']);!_0x1c9d44&&(_0x39bf6a=!![]);}});let _0x12c672=dbConfig['get']('bot')[_0x1639f6(0x19b)]({'botID':botID})[_0x1639f6(0x7e)]();_0x1395e4={..._0x1395e4,'apiKey':crypt[_0x1639f6(0x122)](secure[_0x1639f6(0xb6)],_0x1395e4[_0x1639f6(0x16c)])[_0x1639f6(0x15e)],'apiSecret':crypt['decrypt'](secure[_0x1639f6(0xb6)],_0x1395e4[_0x1639f6(0xa0)])[_0x1639f6(0x15e)]};_0x1395e4[_0x1639f6(0x1e0)]&&(_0x1395e4[_0x1639f6(0x1e0)]=crypt[_0x1639f6(0x122)](secure['privateKey'],_0x1395e4[_0x1639f6(0x1e0)])['message']);let _0x58b1f5=![];_0x12c672?(_0x1395e4[_0x1639f6(0x16c)]==_0x1639f6(0x1bf)?_0x1395e4[_0x1639f6(0x16c)]=config[_0x1639f6(0x16c)]:_0x58b1f5=!![],_0x1395e4['apiSecret']==_0x1639f6(0x1bf)?_0x1395e4[_0x1639f6(0xa0)]=config[_0x1639f6(0xa0)]:_0x58b1f5=!![],_0x1395e4[_0x1639f6(0x1e0)]==_0x1639f6(0x1bf)?_0x1395e4[_0x1639f6(0x1e0)]=config[_0x1639f6(0x1e0)]:_0x58b1f5=!![],dbConfig[_0x1639f6(0x14f)](_0x1639f6(0x1ae))['find']({'botID':botID})[_0x1639f6(0x96)](_0x1395e4)[_0x1639f6(0x194)]()):(dbConfig[_0x1639f6(0x14f)](_0x1639f6(0x1ae))[_0x1639f6(0x171)](_0x1395e4)['write'](),_0x58b1f5=!![],process['send']({'status':'enabled','live':'running'},_0x1ba38e=>{}));config={..._0x1395e4},setStartDatePerformance(),process[_0x1639f6(0xf8)]({'botname':_0x1395e4[_0x1639f6(0x1b1)]},_0x54b6b9=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x1639f6(0xfd)),await initCoinResults();if(_0x58b1f5)await reset(_0x390dc2,!![]);else{if(_0x39bf6a)await reset(_0x390dc2,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x1639f6(0x125)](_0x1639f6(0x160));}async function storeHeadless(_0x3ed240){const _0x35e90c=_0x39d1ca,_0x59f9b7={...config,'headless':_0x3ed240['headless']};let _0x50a8e7=dbConfig['get'](_0x35e90c(0x1ae))[_0x35e90c(0x19b)]({'botID':botID})[_0x35e90c(0x7e)]();_0x50a8e7&&dbConfig[_0x35e90c(0x14f)](_0x35e90c(0x1ae))[_0x35e90c(0x19b)]({'botID':botID})['assign'](_0x59f9b7)[_0x35e90c(0x194)](),config={..._0x59f9b7},updateBotManager(),proxyEmit(_0x35e90c(0x180),emittedConfiguration());}async function storeFiat(_0x3b224f){const _0x1fbed9=_0x39d1ca,_0xb255cc={...config,'fiat':_0x3b224f};let _0xb38e4f=dbConfig[_0x1fbed9(0x14f)]('bot')['find']({'botID':botID})[_0x1fbed9(0x7e)]();_0xb38e4f&&dbConfig[_0x1fbed9(0x14f)](_0x1fbed9(0x1ae))[_0x1fbed9(0x19b)]({'botID':botID})[_0x1fbed9(0x96)](_0xb255cc)[_0x1fbed9(0x194)](),config={..._0xb255cc},proxyEmit(_0x1fbed9(0x180),emittedConfiguration());}function resetHistory(){const _0x1e0fe6=_0x39d1ca;logger['full']('Resetting\x20bot\x20history');try{if(fs['existsSync'](path[_0x1e0fe6(0xe2)](configpath,_0x1e0fe6(0x1a6)+botID+_0x1e0fe6(0x1ac))))fs[_0x1e0fe6(0xfa)](path['join'](configpath,'bot-'+botID+_0x1e0fe6(0x1ac)));if(fs['existsSync'](path['join'](configpath,_0x1e0fe6(0x1a6)+botID+_0x1e0fe6(0x143))))fs[_0x1e0fe6(0xfa)](path[_0x1e0fe6(0xe2)](configpath,'bot-'+botID+_0x1e0fe6(0x143)));if(fs[_0x1e0fe6(0x1e6)](path[_0x1e0fe6(0xe2)](configpath,_0x1e0fe6(0x1a6)+botID+'-results.json')))fs[_0x1e0fe6(0xfa)](path[_0x1e0fe6(0xe2)](configpath,_0x1e0fe6(0x1a6)+botID+_0x1e0fe6(0x175)));}catch(_0x484f1a){if(_0x484f1a)logger[_0x1e0fe6(0x148)](_0x1e0fe6(0x162),_0x484f1a);}const _0x28f1d1=getDate();let _0x1003c6=[];currentCoins[_0x1e0fe6(0x7a)](_0x48b472=>{const _0x578fb8=_0x1e0fe6;_0x1003c6[_0x578fb8(0x171)]({'coin':_0x48b472['coin'],'number':_0x48b472[_0x578fb8(0x9c)],'price':_0x48b472[_0x578fb8(0x116)]});});let _0x19980e=dbConfig[_0x1e0fe6(0x14f)](_0x1e0fe6(0x1ae))[_0x1e0fe6(0x19b)]({'botID':botID})[_0x1e0fe6(0x7e)]();_0x19980e&&(dbConfig[_0x1e0fe6(0x14f)]('bot')[_0x1e0fe6(0x19b)]({'botID':botID})[_0x1e0fe6(0x96)]({'liquidity':[{'date':_0x28f1d1,'changes':_0x1003c6}]})[_0x1e0fe6(0x194)](),config[_0x1e0fe6(0x80)]=[]),process[_0x1e0fe6(0xf8)]({'stop':'restart'},_0x2b7dc2=>{});}function noslash(_0x5605f0){const _0x17c998=_0x39d1ca;return _0x5605f0[_0x17c998(0x176)]('/','');}function updateHighestFee(_0x378478,_0x55a751){const _0xf8b962=_0x39d1ca;lastFees[_0xf8b962(0x1e8)]=_0x378478,lastFees[_0xf8b962(0xef)][_0xf8b962(0x1d5)]===0x14&&lastFees['recent20'][_0xf8b962(0x181)](),lastFees[_0xf8b962(0xef)][_0xf8b962(0x171)](_0x55a751),lastFees[_0xf8b962(0x16f)]=Math[_0xf8b962(0xcd)](...lastFees[_0xf8b962(0xef)]);}async function updateNumberCoinsCcxt(_0x9c2325){const _0x10d380=_0x39d1ca;logger[_0x10d380(0x125)](_0x10d380(0x139)+_0x9c2325['symbol']+_0x10d380(0x88)+_0x9c2325[_0x10d380(0x155)]+_0x10d380(0x88)+_0x9c2325['id']+_0x10d380(0x88)+_0x9c2325[_0x10d380(0xe4)]);let _0x49d4ff=_0x9c2325['status'],_0x3976ed=![];currentCoins[_0x10d380(0x7a)](_0x5e0f9d=>{const _0x51ca6b=_0x10d380;_0x5e0f9d[_0x51ca6b(0x19f)]==_0x9c2325['symbol']&&(_0x3976ed=!![]);});if(!_0x3976ed)return;const _0x28ff49=currentCoins[_0x10d380(0x19b)](_0xe911f5=>_0xe911f5[_0x10d380(0x19f)]==_0x9c2325['symbol']),_0x2bf80d=_0x483993=>{const _0xcb3981=_0x10d380;if(_0x28ff49)_0x28ff49[_0xcb3981(0x11e)]=_0x483993;};if(_0x49d4ff==_0x10d380(0x14a))_0x2bf80d(_0x10d380(0x14a));else{if(_0x49d4ff=='canceled'){_0x2bf80d('canceled');const _0x159b98=await getCoins();[currentCoins,currentCoinsAll]=_0x159b98,await getOpenOrders(),handleOpenOrders();}else{if(_0x49d4ff=='closed'){logger[_0x10d380(0x125)](_0x10d380(0xf3)+_0x9c2325[_0x10d380(0x19f)]+_0x10d380(0x88)+_0x9c2325[_0x10d380(0x108)]+_0x10d380(0x88)+_0x9c2325['id']+_0x10d380(0x88)+_0x9c2325['clientOrderId']);let _0x2da06b=![];if(lastOrders)lastOrders['forEach'](async _0x132f5d=>{const _0x395b0c=_0x10d380;if(_0x132f5d[_0x395b0c(0x156)]==_0x9c2325[_0x395b0c(0xe4)]){logger[_0x395b0c(0x125)](_0x395b0c(0x1cb)+_0x9c2325[_0x395b0c(0xe4)]),_0x2da06b=!![];if(_0x132f5d[_0x395b0c(0x108)]==0x0){logger[_0x395b0c(0x125)](_0x395b0c(0x19e)+_0x9c2325[_0x395b0c(0xe4)]);_0x9c2325[_0x395b0c(0x84)]?_0x132f5d['price']=_0x9c2325[_0x395b0c(0x84)]:_0x132f5d[_0x395b0c(0x138)]=_0x9c2325[_0x395b0c(0x138)];_0x132f5d[_0x395b0c(0x108)]=_0x9c2325[_0x395b0c(0x108)],_0x132f5d[_0x395b0c(0xfb)]={'currency':_0x9c2325['fee']?_0x9c2325[_0x395b0c(0xfb)][_0x395b0c(0x1e8)]:null,'cost':_0x9c2325['fee']?_0x9c2325[_0x395b0c(0xfb)][_0x395b0c(0x90)]:0x0},updateHighestFee(_0x132f5d['fee'][_0x395b0c(0x1e8)],_0x132f5d[_0x395b0c(0xfb)][_0x395b0c(0x90)]),_0x2bf80d('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x28158f=await getCoins();[currentCoins,currentCoinsAll]=_0x28158f;}await updateCoinResults(_0x132f5d);}}});if(!_0x2da06b){logger['debug'](_0x10d380(0x16d)+_0x9c2325['id']),_0x2bf80d(_0x10d380(0x108));const _0x22ab84=await getCoins();[currentCoins,currentCoinsAll]=_0x22ab84,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1e3783=JSON[_0x10d380(0x1a4)](lastBalances[_0x10d380(0x163)]);const _0x9136f4=_0x1e3783[_0x10d380(0x19b)](_0x4bfaa6=>_0x4bfaa6[_0x10d380(0x19f)]==_0x9c2325[_0x10d380(0x19f)]);if(_0x9136f4){if(_0x49d4ff==_0x10d380(0x14a))_0x9136f4[_0x10d380(0x11e)]=_0x9136f4['orderstatus']==_0x10d380(0x108)?_0x10d380(0x108):_0x10d380(0x14a);else{if(_0x49d4ff==_0x10d380(0x15c))_0x9136f4[_0x10d380(0x11e)]=_0x9136f4[_0x10d380(0x11e)]=='filled'?_0x10d380(0x108):_0x10d380(0x15c);else _0x49d4ff=='closed'&&(_0x9136f4[_0x10d380(0x11e)]=_0x10d380(0x108));}}lastBalances={...lastBalances,'portfolio':JSON[_0x10d380(0x16e)](_0x1e3783)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x24b406=_0x39d1ca;await getOpenOrders();let _0x4e7eba=![];currentCoins[_0x24b406(0x7a)](_0x45892d=>{const _0x787dd6=_0x24b406;_0x4e7eba=allOpenOrders['find'](_0x1c5949=>_0x1c5949['symbol']==_0x45892d[_0x787dd6(0x19f)]),_0x45892d['orderstatus']=_0x4e7eba?'open':_0x787dd6(0x9f);});}async function getCoins(_0x56a9ff=!![],_0x3f7f46=config[_0x39d1ca(0xa4)]){const _0x493745=_0x39d1ca;let _0x3503f7,_0x321f9e=[],_0x1e7486=[],_0x36c05e=[],_0x316dcf=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x3503f7=await exchange[_0x493745(0x1be)](),mybalances=_0x3503f7[_0x493745(0xe8)];for(const [_0x26ebac,_0x2df65e]of Object[_0x493745(0x11c)](mybalances)){_0x316dcf[_0x493745(0x171)](_0x26ebac);}if(_0x3f7f46=='')for(const [_0xbddb70,_0x1ecd43]of Object[_0x493745(0x11c)](mybalances)){_0x1ecd43[_0x493745(0x1d4)]()!=0x0&&_0x1e7486['push']({'coin':_0xbddb70});}else{let _0x5459ca=![];for(const [_0x14a53e,_0x281cc2]of Object[_0x493745(0x11c)](mybalances)){if(_0x316dcf[_0x493745(0x11d)](_0x14a53e)){const _0x3d6ace=config['portfolio'][_0x493745(0x19b)](_0x598f2a=>_0x598f2a[_0x493745(0x1c3)]==_0x14a53e),_0x178d96=_0x14a53e+'/'+_0x3f7f46,_0x298425=_0x3f7f46+'/'+_0x14a53e,_0x215881=currentCoins[_0x493745(0x19b)](_0x4739e6=>_0x4739e6[_0x493745(0x1c3)]==_0x14a53e);_0x5459ca=![];if((_0x281cc2[_0x493745(0x1d4)]()!=0x0||_0x3d6ace)&&(allSymbols[_0x493745(0x11d)](_0x178d96)||_0x14a53e==_0x3f7f46))_0x14a53e!=_0x3f7f46&&_0x321f9e[_0x493745(0x171)](_0x178d96),_0x1e7486[_0x493745(0x171)]({'coin':_0x14a53e,'symbol':_0x178d96,'reverse':![],'number':Math[_0x493745(0xcd)](_0x281cc2+(_0x3d6ace&&_0x3d6ace[_0x493745(0x151)]||0x0),0x0),'orderstatus':_0x215881?_0x215881[_0x493745(0x11e)]:_0x493745(0x9f)});else(_0x281cc2[_0x493745(0x1d4)]()!=0x0||_0x3d6ace)&&allSymbols[_0x493745(0x11d)](_0x298425)&&(_0x14a53e!=_0x3f7f46&&_0x321f9e['push'](_0x298425),_0x1e7486[_0x493745(0x171)]({'coin':_0x14a53e,'symbol':_0x298425,'reverse':!![],'number':Math[_0x493745(0xcd)](_0x281cc2+(_0x3d6ace&&_0x3d6ace[_0x493745(0x151)]||0x0),0x0),'orderstatus':_0x215881?_0x215881[_0x493745(0x11e)]:_0x493745(0x9f)}));}}}}catch(_0x8361e1){if(!_0x56a9ff)handleErrorNoStop(_0x8361e1,_0x493745(0xcb));else await handleError(_0x8361e1,'getCoins()');}return _0x36c05e=cloneDeep(_0x1e7486),_0x1e7486=_0x1e7486[_0x493745(0xa7)](_0x13d337=>{const _0x3585f2=_0x493745,_0x37e46=config[_0x3585f2(0x163)]['find'](_0x4c17f2=>_0x4c17f2[_0x3585f2(0x1c3)]==_0x13d337[_0x3585f2(0x1c3)]);return _0x37e46&&!_0x37e46[_0x3585f2(0x186)];}),[_0x1e7486,_0x36c05e];}async function getCoinNumber(_0x4f5ce9){const _0x2014e1=_0x39d1ca;let _0x30ad80;try{const _0x17dd7d=await exchange[_0x2014e1(0x1be)]();_0x30ad80=_0x17dd7d['total'][_0x4f5ce9];}catch(_0x1915bc){await handleError(_0x1915bc,_0x2014e1(0x114));}return _0x30ad80;}async function getOpenOrders(){const _0x2d7e5b=_0x39d1ca;let _0x50f576;allOpenOrders=[];try{for(const _0x4e8450 of config[_0x2d7e5b(0x163)]){!_0x4e8450[_0x2d7e5b(0x186)]&&_0x4e8450[_0x2d7e5b(0x1c3)]!=config[_0x2d7e5b(0xa4)]&&(_0x50f576=await exchange[_0x2d7e5b(0x16a)](_0x4e8450[_0x2d7e5b(0x19f)]),_0x50f576[_0x2d7e5b(0x1d5)]>0x0&&allOpenOrders[_0x2d7e5b(0x171)](_0x50f576[0x0]));}}catch(_0x2fe2c6){await handleError(_0x2fe2c6,'getOpenOrders()');}}async function handleOpenOrders(_0x1b14bb=0x0){const _0x29c732=_0x39d1ca;allOpenOrders[_0x29c732(0x1d5)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x1b14bb==0x0?(logger[_0x29c732(0x125)](_0x29c732(0x15f)),_0x1b14bb++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x29c732(0x1a8)),validateOrders(_0x29c732(0x1dc))));}async function testAPI(_0x1130bb){const _0x3f0f61=_0x39d1ca,_0x2d26ba=ccxt[_0x1130bb[_0x3f0f61(0x1b2)]['toLowerCase']()],_0x47c689=new _0x2d26ba({'apiKey':_0x1130bb['apiKey'],'secret':_0x1130bb[_0x3f0f61(0xa0)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x1130bb[_0x3f0f61(0x1e0)])_0x47c689['password']=_0x1130bb['apiPassword'];try{await _0x47c689[_0x3f0f61(0x1f1)]();}catch(_0x4b1ef0){throw _0x4b1ef0;}}function cloneDeep(_0x10544c){const _0x5cd093=_0x39d1ca;return JSON[_0x5cd093(0x1a4)](JSON[_0x5cd093(0x16e)](_0x10544c));}async function getPortfolio(_0x171c0e){const _0x59637d=_0x39d1ca;let _0x391a77=[],_0x4d0a22=[],_0x5c69a3=[],_0x7ff86e;if(_0x171c0e[_0x59637d(0x16c)]!==_0x59637d(0x1bf)||_0x171c0e[_0x59637d(0xa0)]!==_0x59637d(0x1bf)||_0x171c0e[_0x59637d(0x1e0)]&&_0x171c0e['apiPassword']!==_0x59637d(0x1bf)){if(config[_0x59637d(0x1b2)]){if(_0x171c0e[_0x59637d(0x16c)]==_0x59637d(0x1bf))_0x171c0e[_0x59637d(0x16c)]=config['apiKey'];if(_0x171c0e[_0x59637d(0xa0)]==_0x59637d(0x1bf))_0x171c0e['apiSecret']=config[_0x59637d(0xa0)];if(_0x171c0e['apiPassword']==_0x59637d(0x1bf))_0x171c0e[_0x59637d(0x1e0)]=config[_0x59637d(0x1e0)];try{await testAPI(_0x171c0e);}catch(_0x387c09){if(_0x387c09[_0x59637d(0x1d4)]()[_0x59637d(0x11d)]('AuthenticationError')){logger[_0x59637d(0x125)](_0x59637d(0x154)),proxyEmit(_0x59637d(0x163),![]);return;}else{handleError(_0x387c09,_0x59637d(0x87));return;}}}await initExchange(_0x171c0e['exchange'],_0x171c0e[_0x59637d(0x16c)],_0x171c0e['apiSecret'],_0x171c0e['apiPassword']);try{await loadSymbols(_0x171c0e[_0x59637d(0x1b2)],!![]);}catch(_0x2989be){if(_0x2989be['toString']()['includes']('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x2989be,_0x59637d(0x1cf));return;}}const _0x1b11d1=await getCoins(![],_0x171c0e['basecoin']);_0x5c69a3=cloneDeep(_0x1b11d1[0x1]);}else _0x5c69a3=cloneDeep(currentCoinsAll);if(_0x171c0e[_0x59637d(0xa4)]=='')proxyEmit(_0x59637d(0x163),_0x5c69a3);else{_0x5c69a3[_0x59637d(0x7a)](_0x25f0cc=>{const _0x2a359f=_0x59637d;if(_0x25f0cc['coin']!=_0x171c0e[_0x2a359f(0xa4)])_0x391a77[_0x2a359f(0x171)](_0x25f0cc[_0x2a359f(0x19f)]);});try{_0x4d0a22=await exchange[_0x59637d(0x117)](_0x391a77);}catch(_0x543983){if(_0x543983[_0x59637d(0x1d4)]()[_0x59637d(0x11d)](_0x59637d(0x1bd))){proxyEmit(_0x59637d(0x163),![]);return;}else{handleError(_0x543983,_0x59637d(0x10e));return;}}_0x5c69a3[_0x59637d(0x7a)](_0x1ff267=>{const _0x468f23=_0x59637d;_0x1ff267[_0x468f23(0x1c3)]!=_0x171c0e[_0x468f23(0xa4)]?_0x7ff86e=_0x1ff267[_0x468f23(0xa5)]?0x1/_0x4d0a22[_0x1ff267['symbol']]['last']:_0x4d0a22[_0x1ff267[_0x468f23(0x19f)]][_0x468f23(0x116)]:_0x7ff86e=0x1,_0x1ff267['price']=formatResult(_0x7ff86e,0x8);}),proxyEmit('portfolio',_0x5c69a3);}}function checkMinimums(_0xd03589){const _0x377180=_0x39d1ca;let _0xb03485=!![];const _0x1cde3c=!_0xd03589[_0x377180(0xa5)]?markets[_0xd03589[_0x377180(0x19f)]][_0x377180(0x1a9)]['amount']['min']:markets[_0xd03589[_0x377180(0x19f)]][_0x377180(0x1a9)][_0x377180(0x90)][_0x377180(0xea)],_0x368e9e=!_0xd03589[_0x377180(0xa5)]?markets[_0xd03589['symbol']][_0x377180(0x1a9)][_0x377180(0x90)][_0x377180(0xea)]:markets[_0xd03589[_0x377180(0x19f)]]['limits']['amount'][_0x377180(0xea)];_0xd03589[_0x377180(0x1e9)]=exchange[_0x377180(0xca)](_0xd03589[_0x377180(0x19f)],_0xd03589[_0x377180(0x1e9)]);if(Math['abs'](_0xd03589['trade'])<_0x1cde3c)_0xb03485=![];if(Math[_0x377180(0x11f)](_0xd03589[_0x377180(0x1e9)])*_0xd03589[_0x377180(0x116)]<_0x368e9e)_0xb03485=![];if(_0xd03589['side']==_0x377180(0xbc)){let _0x17a686=config['portfolio'][_0x377180(0x19b)](_0x48754c=>_0x48754c[_0x377180(0x1c3)]==_0xd03589[_0x377180(0x1c3)]);if(_0x17a686[_0x377180(0x151)]>0x0){if(Math[_0x377180(0x11f)](_0xd03589[_0x377180(0x1e9)])>_0xd03589['number']-_0x17a686[_0x377180(0x151)])_0xb03485=![];}else{if(Math['abs'](_0xd03589['trade'])>_0xd03589[_0x377180(0x9c)])_0xb03485=![];}}if(_0xd03589[_0x377180(0x169)]==_0x377180(0xcc)){let _0x4ebf25=config['portfolio'][_0x377180(0x19b)](_0x51ba2c=>_0x51ba2c[_0x377180(0x1c3)]==config[_0x377180(0xa4)]),_0x20661a=currentCoins[_0x377180(0x19b)](_0x4ac4f2=>_0x4ac4f2[_0x377180(0x1c3)]==config[_0x377180(0xa4)]);if(_0x4ebf25[_0x377180(0x151)]>0x0){if(Math[_0x377180(0x11f)](_0xd03589[_0x377180(0x1e9)])*_0xd03589[_0x377180(0x116)]>_0x20661a[_0x377180(0x9c)]-_0x4ebf25['offset'])_0xb03485=![];}else{if(Math['abs'](_0xd03589[_0x377180(0x1e9)])*_0xd03589[_0x377180(0x116)]>_0x20661a[_0x377180(0x9c)])_0xb03485=![];}}return _0xb03485;}async function getBalances(){const _0x1222c0=_0x39d1ca;let _0xfd3be1=0x0,_0x1e3113;const _0x4990bb=config['threshold'];if(config['headless']&&config[_0x1222c0(0x102)]<0x0)await validate24hChanges();currentCoins[_0x1222c0(0x7a)](_0x954467=>{const _0x142e3a=_0x1222c0;if(_0x954467['coin']!=config[_0x142e3a(0xa4)]){let _0xe387b9=global[_0x142e3a(0x104)][noslash(_0x954467['symbol'])];_0x1e3113=_0x954467['reverse']?0x1/_0xe387b9:_0xe387b9;}else _0x1e3113=0x1;let _0x228096=_0x954467['number']*_0x1e3113;_0xfd3be1+=_0x228096,_0x954467['last']=formatResult(Number(_0x1e3113),0x8),_0x954467[_0x142e3a(0x7e)]=_0x228096;}),currentCoins[_0x1222c0(0x7a)](_0x4d5a26=>{const _0x5f3748=_0x1222c0;let _0x749bc3=config[_0x5f3748(0x163)][_0x5f3748(0x19b)](_0xc23c71=>_0xc23c71[_0x5f3748(0x1c3)]==_0x4d5a26[_0x5f3748(0x1c3)]),_0x328893=Number(_0x749bc3[_0x5f3748(0x7d)]),_0x26433d=_0x4d5a26[_0x5f3748(0x7e)]/_0xfd3be1*0x64,_0x3b2eb0=_0x328893*_0xfd3be1/0x64/_0x4d5a26[_0x5f3748(0x116)]-_0x4d5a26[_0x5f3748(0x9c)];_0x4d5a26[_0x5f3748(0x7d)]=formatResult(_0x26433d,0x3),_0x4d5a26[_0x5f3748(0x81)]=formatResult(_0x328893,0x3),_0x4d5a26[_0x5f3748(0x1e9)]=formatResult(_0x3b2eb0,0x8),_0x4d5a26[_0x5f3748(0x169)]='',_0x4d5a26[_0x5f3748(0x14e)]=![];if(_0x4d5a26[_0x5f3748(0x1c3)]!=config[_0x5f3748(0xa4)]){if(_0x4d5a26[_0x5f3748(0x7d)]>_0x328893)_0x4d5a26['side']=_0x5f3748(0xbc),_0x4d5a26[_0x5f3748(0x14e)]=checkMinimums(_0x4d5a26);else _0x4d5a26[_0x5f3748(0x7d)]<_0x328893&&(_0x4d5a26['side']='buy',_0x4d5a26[_0x5f3748(0x14e)]=checkMinimums(_0x4d5a26));}_0x4d5a26['delta']=_0x4d5a26[_0x5f3748(0x7d)]/_0x4d5a26['target']-0x1;if(_0x4d5a26['orderstatus']==_0x5f3748(0x108)||_0x4d5a26[_0x5f3748(0x11e)]==_0x5f3748(0x15c))_0x4d5a26[_0x5f3748(0x11e)]=_0x5f3748(0x9f);}),currentCoins['sort']((_0x1ac7a5,_0x470912)=>_0x1ac7a5['delta']<_0x470912['delta']?0x1:_0x470912[_0x1222c0(0x130)]<_0x1ac7a5[_0x1222c0(0x130)]?-0x1:0x0);const _0x14907f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x14907f[_0x1222c0(0x1ee)],'usd':_0x14907f[_0x1222c0(0xf4)],'portfolio':JSON[_0x1222c0(0x16e)](currentCoins),'threshold':_0x4990bb},proxyEmit(_0x1222c0(0x150),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x1222c0(0x9b)])headlessMode({'portfolio':currentCoins,'threshold':_0x4990bb});else{if(lockOrders==ORDERS[_0x1222c0(0x85)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4990bb});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4453e8=getNormalizedPerformance();getStartingBalances(_0x4453e8),emitPerformance(_0x4453e8);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2efcae=getNormalizedPerformance();emitPerformance(_0x2efcae),getStartingBalances(_0x2efcae),logger[_0x1222c0(0x125)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x34ee89=_0x39d1ca;if(!lastBalances)return;let _0xae2c17=[],_0x44c715,_0x3b5cb3=JSON[_0x34ee89(0x1a4)](lastBalances[_0x34ee89(0x163)]);_0x3b5cb3[_0x34ee89(0x144)]((_0x500d3b,_0x312919)=>_0x500d3b[_0x34ee89(0x1c3)]>_0x312919['coin']?0x1:_0x312919[_0x34ee89(0x1c3)]>_0x500d3b[_0x34ee89(0x1c3)]?-0x1:0x0),_0x3b5cb3[_0x34ee89(0x7a)](_0x2a957c=>{const _0x1c0f47=_0x34ee89;let _0x5cd0a7={'coin':_0x2a957c[_0x1c0f47(0x1c3)],'number':_0x2a957c[_0x1c0f47(0x9c)],'price':_0x2a957c[_0x1c0f47(0x116)]};_0xae2c17[_0x1c0f47(0x171)](_0x5cd0a7);});const _0x371b93=await getFiat();_0x44c715={'date':lastBalances['time'][_0x34ee89(0x188)]('\x20')[0x0],'eur':_0x371b93['eur'],'usd':_0x371b93[_0x34ee89(0xf4)],'coins':_0xae2c17};let _0x434f23=dbPerformance[_0x34ee89(0x14f)](_0x34ee89(0x185))[_0x34ee89(0x19b)]({'date':_0x44c715['date']})['value']();_0x434f23?_0x44c715[_0x34ee89(0xc7)]!=config[_0x34ee89(0xaa)]&&dbPerformance[_0x34ee89(0x14f)]('data')[_0x34ee89(0x19b)]({'date':_0x44c715[_0x34ee89(0xc7)]})[_0x34ee89(0x96)](_0x44c715)[_0x34ee89(0x194)]():dbPerformance[_0x34ee89(0x14f)](_0x34ee89(0x185))[_0x34ee89(0x171)](_0x44c715)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5d22a1=_0x39d1ca;let _0x4c9e62=[];if(dbPerformance[_0x5d22a1(0xd3)]('data')[_0x5d22a1(0x7e)]()){let _0x4f7473=dbPerformance['get']('data')[_0x5d22a1(0xde)]()[_0x5d22a1(0x18a)](_0x5d22a1(0xc7))['value'](),_0x27a4b1=[...config[_0x5d22a1(0x80)]];_0x27a4b1[_0x5d22a1(0x144)]((_0x47f8fe,_0x1d9ea8)=>_0x47f8fe[_0x5d22a1(0xc7)]>_0x1d9ea8['date']?-0x1:_0x1d9ea8[_0x5d22a1(0xc7)]>_0x47f8fe[_0x5d22a1(0xc7)]?0x1:0x0);let _0x3a61b7=0x1,_0x481806=[],_0xdf6749=0x0;_0x4f7473[_0x5d22a1(0x17e)]()[_0x5d22a1(0xa5)]()[_0x5d22a1(0x7a)]((_0x144343,_0x245114)=>{const _0x2ffae3=_0x5d22a1;if(_0x27a4b1[_0xdf6749]){if(_0x4f7473[_0x4f7473[_0x2ffae3(0x1d5)]-_0x245114]&&_0x27a4b1[_0xdf6749][_0x2ffae3(0xc7)]==_0x4f7473[_0x4f7473['length']-_0x245114][_0x2ffae3(0xc7)]){if(_0x245114<_0x4f7473[_0x2ffae3(0x1d5)]){let _0x5bd12e=0x0,_0x2c400b=0x0;_0x4f7473[_0x4f7473[_0x2ffae3(0x1d5)]-_0x245114][_0x2ffae3(0x1e7)][_0x2ffae3(0x7a)](_0x1f8b5e=>{const _0xe8c8c4=_0x2ffae3;_0x2c400b+=_0x1f8b5e[_0xe8c8c4(0x9c)]*_0x1f8b5e[_0xe8c8c4(0x138)];}),_0x27a4b1[_0xdf6749][_0x2ffae3(0x83)][_0x2ffae3(0x7a)](_0x51c6ce=>{const _0x2aad1d=_0x2ffae3;_0x5bd12e+=_0x51c6ce[_0x2aad1d(0x9c)]*_0x51c6ce['price'];}),_0x3a61b7*=_0x5bd12e/(_0x2c400b-_0x5bd12e)+0x1;}_0xdf6749++;}}let _0x36f3b9=0x0;_0x144343['coins'][_0x2ffae3(0x7a)](_0xf335b=>{const _0x1ba446=_0x2ffae3;_0x36f3b9+=_0xf335b['number']*_0xf335b[_0x1ba446(0x138)];}),_0x481806[_0x4f7473[_0x2ffae3(0x1d5)]-_0x245114-0x1]=_0x36f3b9*(_0x3a61b7-0x1);});let _0x2dabe0=[];_0x27a4b1=[...config['liquidity']]||[];let _0x3627ba=0x0;_0xdf6749=0x0,_0x4f7473['forEach']((_0xd24e1c,_0x4444f2)=>{const _0x2a3fbb=_0x5d22a1;if(_0x27a4b1[_0xdf6749]){const _0x16656e=fns['parse'](_0x27a4b1[_0xdf6749][_0x2a3fbb(0xc7)],_0x2a3fbb(0x174),new Date()),_0x5629cf=fns[_0x2a3fbb(0x1a4)](_0xd24e1c['date'],'yyyy/MM/dd',new Date());if(fns[_0x2a3fbb(0x9a)](_0x16656e,_0x5629cf)){let _0x1892dd=0x0;_0x27a4b1[_0xdf6749][_0x2a3fbb(0x83)][_0x2a3fbb(0x7a)](_0x243ee2=>{const _0x17251e=_0x2a3fbb;!_0x2dabe0[_0x243ee2[_0x17251e(0x1c3)]]?_0x2dabe0[_0x243ee2[_0x17251e(0x1c3)]]=_0x243ee2['number']:(_0x1892dd=_0x2dabe0[_0x243ee2['coin']],_0x2dabe0[_0x243ee2['coin']]+=_0x243ee2[_0x17251e(0x9c)]);const _0x36683b=_0xd24e1c[_0x17251e(0x1e7)][_0x17251e(0x19b)](_0x50f268=>_0x50f268[_0x17251e(0x1c3)]==_0x243ee2[_0x17251e(0x1c3)]);(!_0x36683b||_0x36683b['number']==0x0)&&(_0x3627ba+=(-_0x243ee2[_0x17251e(0x9c)]-_0x1892dd)*_0x243ee2[_0x17251e(0x138)]);}),_0xdf6749++;}}_0xd24e1c[_0x2a3fbb(0x1e7)][_0x2a3fbb(0x7a)]((_0x427671,_0x5ab6b2)=>{const _0x10c9dc=_0x2a3fbb;_0x2dabe0[_0x427671[_0x10c9dc(0x1c3)]]&&(_0x427671[_0x10c9dc(0xc6)]=_0x2dabe0[_0x427671[_0x10c9dc(0x1c3)]]);}),_0x4c9e62[_0x2a3fbb(0x171)]({'date':_0xd24e1c['date'],'eur':_0xd24e1c[_0x2a3fbb(0x1ee)],'usd':_0xd24e1c['usd'],'offset':_0x481806[_0x4444f2],'netoffset':_0x3627ba,'coins':_0xd24e1c[_0x2a3fbb(0x1e7)]});});}return _0x4c9e62;}function emitPerformance(_0x17043b){const _0x1225bc=_0x39d1ca;_0x17043b[_0x1225bc(0x1d5)]!==0x0?(proxyEmit(_0x1225bc(0xd1),_0x17043b),lastPerformanceEmitted=getDate()):proxyEmit(_0x1225bc(0xd1),[]);}function getPerf(_0x88bcb2,_0x33db77){const _0x12ee68=_0x39d1ca;let _0x454645=0x0,_0x58c3f9=0x0,_0x9b533e=0x0;_0x88bcb2[_0x12ee68(0x1e7)][_0x12ee68(0x7a)](_0x5d47e7=>{_0x454645+=_0x5d47e7['number']*_0x5d47e7['price'];});_0x33db77&&(_0x454645+=_0x88bcb2['offset']);if(config['basecoin']===_0x12ee68(0x1e4)||config[_0x12ee68(0xa4)]===_0x12ee68(0x1c4))_0x58c3f9=_0x454645*_0x88bcb2[_0x12ee68(0x1ee)],_0x9b533e=_0x454645*_0x88bcb2[_0x12ee68(0xf4)];else{if(config[_0x12ee68(0xa4)]===_0x12ee68(0x1b7)||config[_0x12ee68(0xa4)]===_0x12ee68(0x1b8)||config[_0x12ee68(0xa4)]===_0x12ee68(0x1cc))_0x58c3f9=_0x454645*_0x88bcb2['eur']/_0x88bcb2[_0x12ee68(0xf4)],_0x9b533e=_0x454645;else config[_0x12ee68(0xa4)]===_0x12ee68(0x17c)&&(_0x58c3f9=_0x454645,_0x9b533e=_0x454645*_0x88bcb2[_0x12ee68(0xf4)]/_0x88bcb2[_0x12ee68(0x1ee)]);}return[_0x454645,_0x58c3f9,_0x9b533e];}function getKPIs(_0x11b6a8,_0x28b72e=_0x39d1ca(0x17c)){const _0x39f50b=_0x39d1ca,_0x20aaf0=config['basecoin'],_0x519e7e=lastBalances,_0x3336c0=currentCoins,_0x38672a=getNormalizedPerformance(),_0x141eac=_0x11b6a8===_0x39f50b(0xa4)?_0x20aaf0:_0x11b6a8===_0x39f50b(0xe5)||_0x11b6a8===_0x39f50b(0xcf)?_0x28b72e:'Net\x20'+_0x20aaf0,_0x25b4a2=_0x11b6a8===_0x39f50b(0x95)?_0x39f50b(0x1c5):_0x11b6a8==='net-fiat'?_0x39f50b(0x1c5):_0x141eac+_0x39f50b(0xaf),_0x3ef6a9=_0x11b6a8===_0x39f50b(0x95)||_0x11b6a8===_0x39f50b(0xcf)?_0x39f50b(0x1c5):_0x141eac+_0x39f50b(0x14b);let _0x25e257=0x0;_0x3336c0[_0x39f50b(0x7a)](_0x552fdf=>{const _0x524772=_0x39f50b;_0x25e257+=_0x552fdf[_0x524772(0x9c)]*_0x552fdf[_0x524772(0x116)];});if(_0x11b6a8==='fiat'||_0x11b6a8===_0x39f50b(0xcf)){if(_0x20aaf0===_0x39f50b(0x1e4)||_0x20aaf0===_0x39f50b(0x1c4))_0x25e257=_0x25e257*(_0x28b72e===_0x39f50b(0x17c)?_0x519e7e[_0x39f50b(0x1ee)]:_0x519e7e['usd']);else{if(_0x20aaf0===_0x39f50b(0x1b7)||_0x20aaf0===_0x39f50b(0x1b8)||_0x20aaf0===_0x39f50b(0x1cc))_0x25e257=_0x25e257*(_0x28b72e===_0x39f50b(0x17c)?_0x519e7e[_0x39f50b(0x1ee)]/_0x519e7e['usd']:0x1);else _0x20aaf0===_0x39f50b(0x17c)&&(_0x25e257=_0x25e257*(_0x28b72e===_0x39f50b(0x17c)?0x1:_0x519e7e[_0x39f50b(0xf4)]/_0x519e7e[_0x39f50b(0x1ee)]));}}let _0x3fae9f;if(_0x25e257!==0x0){if(_0x11b6a8===_0x39f50b(0xa4))_0x3fae9f=(_0x25e257/startingBalances[_0x39f50b(0xa4)]-0x1)*0x64;else{if(_0x28b72e===_0x39f50b(0x17c))_0x3fae9f=(_0x25e257/startingBalances['eur']-0x1)*0x64;else _0x3fae9f=(_0x25e257/startingBalances['usd']-0x1)*0x64;}let _0x293c9a=0x0;if(startingBalances[_0x39f50b(0x1e7)])_0x3336c0['forEach'](_0x56fb52=>{const _0x34f182=_0x39f50b;let _0x309815=startingBalances[_0x34f182(0x1e7)][_0x34f182(0x19b)](_0x5622e9=>_0x5622e9[_0x34f182(0x1c3)]===_0x56fb52[_0x34f182(0x1c3)]);if(_0x309815&&_0x309815['coin']&&_0x56fb52[_0x34f182(0x9c)]!==0x0)_0x293c9a+=_0x309815['number']*_0x56fb52[_0x34f182(0x116)];});let _0x2b7936=0x0;if(_0x38672a[_0x39f50b(0x1d5)]!==0x0){let _0x3ef61c=_0x38672a[_0x38672a[_0x39f50b(0x1d5)]-0x1];_0x2b7936=_0x3ef61c['netoffset'];}_0x293c9a-=_0x2b7936;_0x11b6a8===_0x39f50b(0x95)&&(_0x3fae9f=(_0x25e257-_0x293c9a)/startingBalances[_0x39f50b(0xa4)]*0x64,_0x25e257=_0x25e257-_0x293c9a);if(_0x11b6a8===_0x39f50b(0xcf)){let _0x572caf=_0x28b72e===_0x39f50b(0x17c)?startingBalances[_0x39f50b(0x1ee)]:startingBalances[_0x39f50b(0xf4)];if(_0x20aaf0==='BTC'||_0x20aaf0===_0x39f50b(0x1c4))_0x293c9a=_0x28b72e===_0x39f50b(0x17c)?_0x293c9a*_0x519e7e[_0x39f50b(0x1ee)]:_0x293c9a*_0x519e7e[_0x39f50b(0xf4)];else{if(_0x20aaf0==='BUSD'||_0x20aaf0===_0x39f50b(0x1b8)||_0x20aaf0==='USD')_0x293c9a=_0x28b72e===_0x39f50b(0x17c)?_0x293c9a*_0x519e7e['eur']/_0x519e7e[_0x39f50b(0xf4)]:_0x293c9a;else _0x20aaf0===_0x39f50b(0x17c)&&(_0x293c9a=_0x28b72e===_0x39f50b(0x17c)?_0x293c9a:_0x293c9a*_0x519e7e[_0x39f50b(0xf4)]/_0x519e7e[_0x39f50b(0x1ee)]);}_0x3fae9f=(_0x25e257-_0x293c9a)/_0x572caf*0x64,_0x25e257=_0x25e257-_0x293c9a;}if(_0x3fae9f){if(_0x3fae9f<0x64)_0x3fae9f=_0x3fae9f['toFixed'](0x2);else{if(_0x3fae9f<0x3e8)_0x3fae9f=_0x3fae9f[_0x39f50b(0x1aa)](0x1);else _0x3fae9f=_0x3fae9f['toFixed'](0x0);}}else _0x3fae9f=Number('0')[_0x39f50b(0x1aa)](0x2);if(_0x25e257){if(Math[_0x39f50b(0x11f)](_0x25e257)<0.000001)_0x25e257=_0x25e257[_0x39f50b(0x1aa)](0x2);else{if(Math[_0x39f50b(0x11f)](_0x25e257)<0.1)_0x25e257=_0x25e257['toFixed'](0x6);else{if(Math[_0x39f50b(0x11f)](_0x25e257)<0x1)_0x25e257=_0x25e257[_0x39f50b(0x1aa)](0x5);else{if(Math[_0x39f50b(0x11f)](_0x25e257)<0xa)_0x25e257=_0x25e257[_0x39f50b(0x1aa)](0x4);else{if(Math[_0x39f50b(0x11f)](_0x25e257)<0x64)_0x25e257=_0x25e257[_0x39f50b(0x1aa)](0x3);else{if(Math[_0x39f50b(0x11f)](_0x25e257)<0x3e8)_0x25e257=_0x25e257[_0x39f50b(0x1aa)](0x2);else _0x25e257=_0x25e257[_0x39f50b(0x1aa)](0x2);}}}}}}else _0x25e257=Number('0')[_0x39f50b(0x1aa)](0x2);}else _0x3fae9f=Number('0')['toFixed'](0x2);return{'value':_0x25e257,'change':_0x3fae9f,'leftTxt':_0x25b4a2,'rightTxt':_0x3ef6a9};}async function getStartingBalances(_0x5df244,_0x125793=!![]){const _0x3dd704=_0x39d1ca;if(_0x5df244['length']!==0x0){const [_0x1c0058,_0x50aef0,_0x3a0bbf]=getPerf(_0x5df244[0x0],!![]);let _0x2f6329=[];config[_0x3dd704(0x163)]['forEach'](_0x4e649d=>{const _0x180a06=_0x3dd704;let _0x2ccfcd=0x0,_0xc784c;config['liquidity'][_0x180a06(0x7a)](_0x5c67af=>{const _0x14996b=_0x180a06;let _0x491946=_0x5c67af['changes'][_0x14996b(0x19b)](_0x1d6008=>_0x1d6008[_0x14996b(0x1c3)]==_0x4e649d[_0x14996b(0x1c3)]);if(_0x491946){_0x2ccfcd+=_0x491946[_0x14996b(0x9c)];if(!_0xc784c)_0xc784c=_0x491946['price'];}}),_0x2f6329[_0x180a06(0x171)]({'coin':_0x4e649d[_0x180a06(0x1c3)],'number':_0x2ccfcd,'initialprice':_0xc784c});});const _0x3d40e6={'basecoin':_0x1c0058,'eur':_0x50aef0,'usd':_0x3a0bbf,'coins':_0x2f6329};if(_0x125793)proxyEmit(_0x3dd704(0x193),_0x3d40e6);startingBalances=_0x3d40e6;}}function headlessMode(_0x449082){const _0x1df8bf=_0x39d1ca;let _0x4e0ad1=_0x449082['portfolio'],_0x447170=_0x449082['threshold'],_0x459ae8=[];for(let _0x531710 of _0x4e0ad1){if(_0x531710[_0x1df8bf(0x1c3)]!=config[_0x1df8bf(0xa4)]){if(_0x531710[_0x1df8bf(0x130)]>=_0x447170/0x64){if(_0x531710['valid'])_0x459ae8['push'](_0x531710);}else{if(_0x531710[_0x1df8bf(0x130)]<=-_0x447170/0x64){if(_0x531710[_0x1df8bf(0x14e)])_0x459ae8['push'](_0x531710);}}}}_0x459ae8[_0x1df8bf(0x1d5)]>0x0&&placeOrder(_0x459ae8);}function notifyBalance(_0x232c51){const _0x40e4a7=_0x39d1ca;let _0x19a4e4=_0x232c51[_0x40e4a7(0x163)],_0x375d84=_0x232c51[_0x40e4a7(0xa8)],_0x18f9c0=[];for(let _0x225919 of _0x19a4e4){if(_0x225919[_0x40e4a7(0x1c3)]!=config[_0x40e4a7(0xa4)]){if(_0x225919[_0x40e4a7(0x130)]>=_0x375d84/0x64){if(_0x225919[_0x40e4a7(0x14e)])_0x18f9c0['push'](_0x225919);}else{if(_0x225919['delta']<=-_0x375d84/0x64){if(_0x225919[_0x40e4a7(0x14e)])_0x18f9c0[_0x40e4a7(0x171)](_0x225919);}}}}if(_0x18f9c0[_0x40e4a7(0x1d5)]>0x0){let _0x42abea=_0x18f9c0[_0x40e4a7(0x1ca)](_0x3bcfeb=>_0x3bcfeb[_0x40e4a7(0x1c3)]);_0x42abea[_0x40e4a7(0x144)]();let _0x19fecb=_0x42abea['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x40e4a7(0x106),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x19fecb;}}function symbolToCoin(_0x269a70){const _0xfebac9=_0x39d1ca;let _0x178e92;if(_0x269a70['includes']('/'+config[_0xfebac9(0xa4)]))_0x178e92=_0x269a70[_0xfebac9(0x176)]('/'+config['basecoin'],'');if(_0x269a70[_0xfebac9(0x11d)](config[_0xfebac9(0xa4)]+'/'))_0x178e92=_0x269a70[_0xfebac9(0x176)](config[_0xfebac9(0xa4)]+'/','');return _0x178e92;}async function unlockOrders(){const _0x571d53=_0x39d1ca;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger['debug'](_0x571d53(0x1a7)),lockOrders=ORDERS[_0x571d53(0x126)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x391d12=await getCoins();[currentCoins,currentCoinsAll]=_0x391d12,validateOrdersState=_0x571d53(0xc6),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x571d53(0x125)](_0x571d53(0x1a1));}}async function validateOrders(_0x55b9a2){const _0x47a0ec=_0x39d1ca;if(_0x55b9a2)validateOrdersState=_0x55b9a2;logger[_0x47a0ec(0x125)](_0x47a0ec(0xff)+validateOrdersState+_0x47a0ec(0x1ce)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x47a0ec(0x113):_0x47a0ec(0x121)));let _0x1578fc=[],_0x424f4d=config[_0x47a0ec(0x15b)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x47a0ec(0x196)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x47a0ec(0x1b5)])return;logger[_0x47a0ec(0x125)](_0x47a0ec(0x179)+validateOrdersState),lastOrders[_0x47a0ec(0x7a)](_0x2435c9=>{const _0x517e5d=_0x47a0ec;let _0x59cd26=![];_0x2435c9[_0x517e5d(0x108)]>0x0&&(_0x59cd26=!![]),_0x1578fc[_0x517e5d(0x171)](_0x59cd26),_0x59cd26&&config[_0x517e5d(0x15b)]!=_0x517e5d(0x184)&&logHistory(_0x517e5d(0x127),_0x517e5d(0x137)+_0x2435c9[_0x517e5d(0x19f)]+'\x20'+_0x2435c9[_0x517e5d(0x169)]+'\x20#'+formatResult(_0x2435c9['filled'],0x8)+'\x20@'+formatResult(_0x2435c9[_0x517e5d(0x138)],0x8));}),_0x1578fc[_0x47a0ec(0x7a)]((_0xa08726,_0x588bf3)=>{const _0x13c824=_0x47a0ec;if(_0xa08726)lastOrders[_0x13c824(0xf6)](_0x588bf3,0x1);}),persistOpenOrders(lastOrders);const _0x3c29bf=coolingDown?_0x47a0ec(0x134):_0x47a0ec(0xb7);if(validateOrdersState==_0x47a0ec(0xc6)){validateOrdersState=_0x47a0ec(0xc9);if(_0x1578fc[_0x47a0ec(0x11d)](![])){if(config[_0x47a0ec(0x15b)]==_0x47a0ec(0x184)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x1578fc[_0x47a0ec(0x11d)](![])){}else{if(allOrdersPlaced){if(config[_0x47a0ec(0x15b)]==_0x47a0ec(0x184)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x47a0ec(0x8d))_0x1578fc[_0x47a0ec(0x11d)](![])&&(config[_0x47a0ec(0x15b)]==_0x47a0ec(0x184)?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math[_0x47a0ec(0x172)](_0x424f4d*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x3c29bf):(await cancelOrders(),logHistory(_0x47a0ec(0x1de),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x424f4d*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x3c29bf))),await unlockOrders();else{if(validateOrdersState==_0x47a0ec(0x1dc)){if(config[_0x47a0ec(0x15b)]!=_0x47a0ec(0x184))logHistory(_0x47a0ec(0x1de),_0x47a0ec(0x118)+_0x3c29bf);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x31d21b=>{const _0x43eb71=_0x395f;try{const _0x46eeed=await exchange[_0x43eb71(0x153)](_0x31d21b['orderId'],_0x31d21b[_0x43eb71(0x19f)]);}catch(_0x4c6fd5){if(_0x4c6fd5[_0x43eb71(0x1d4)]()[_0x43eb71(0x11d)]('OrderNotFound')){}else await handleError(_0x4c6fd5,_0x43eb71(0xbe));}});}async function initCoinResults(){const _0x3ee67d=_0x39d1ca;let _0x384edb=[];config[_0x3ee67d(0x163)][_0x3ee67d(0x7a)](_0x42a828=>{const _0x292f5a=_0x3ee67d;if(!_0x42a828[_0x292f5a(0x186)]&&_0x42a828['coin']!=config['basecoin']){let _0x25a463=dbCoinResults[_0x292f5a(0x14f)]('coins')[_0x292f5a(0x19b)]({'coin':_0x42a828[_0x292f5a(0x1c3)]})[_0x292f5a(0x7e)]();if(!_0x25a463){const _0x15bb82=currentCoins[_0x292f5a(0x19b)](_0x532bed=>_0x532bed[_0x292f5a(0x1c3)]==_0x42a828[_0x292f5a(0x1c3)]),_0xb5262f=global[_0x292f5a(0x104)][noslash(_0x42a828['symbol'])];let _0x1a5acb=_0x15bb82?_0x15bb82[_0x292f5a(0x9c)]:null,_0x24b425=_0x42a828[_0x292f5a(0xa5)]?0x1/_0xb5262f:_0xb5262f,_0x391c75;config[_0x292f5a(0x80)]['forEach'](_0x5a5e97=>{const _0x5a8623=_0x292f5a;!_0x391c75&&(_0x391c75=_0x5a5e97['changes']['find'](_0x21d2b1=>_0x21d2b1['coin']==_0x42a828[_0x5a8623(0x1c3)]),_0x391c75&&(_0x1a5acb=_0x391c75[_0x5a8623(0x9c)],_0x24b425=_0x391c75['price']));}),_0x384edb[_0x292f5a(0x171)]({'coin':_0x42a828[_0x292f5a(0x1c3)],'number':_0x1a5acb,'price':_0x24b425});}}}),_0x384edb['forEach'](_0x53e845=>{const _0xd8e21d=_0x3ee67d,_0x11f2f7={'coin':_0x53e845[_0xd8e21d(0x1c3)],'number':_0x53e845['number'],'breakeven':_0x53e845[_0xd8e21d(0x138)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xd8e21d(0x14f)](_0xd8e21d(0x1e7))[_0xd8e21d(0x171)](_0x11f2f7)['write']();});}async function updateCoinResults(_0x4a188b,_0x3b1137=![]){const _0x191eda=_0x39d1ca;let _0xffbd19,_0x540be5,_0x1451a3,_0x38f204,_0x1790ca,_0x27ba24,_0x3feecf=dbCoinResults[_0x191eda(0x14f)](_0x191eda(0x1e7))[_0x191eda(0x19b)]({'coin':_0x4a188b[_0x191eda(0x1c3)]})[_0x191eda(0x7e)]();!_0x3feecf&&await initCoinResults();_0x4a188b[_0x191eda(0xa5)]&&(_0x27ba24={'filled':_0x4a188b['filled']*_0x4a188b[_0x191eda(0x138)],'amount':_0x4a188b[_0x191eda(0x108)]*_0x4a188b[_0x191eda(0x138)],'side':_0x4a188b[_0x191eda(0x169)]==_0x191eda(0xbc)?_0x191eda(0xcc):_0x191eda(0xbc),'price':0x1/_0x4a188b[_0x191eda(0x138)]},_0x4a188b={..._0x4a188b,..._0x27ba24});_0x3b1137?_0x540be5=_0x4a188b[_0x191eda(0x169)]=='buy'?_0x3feecf[_0x191eda(0x9c)]+_0x4a188b[_0x191eda(0x108)]:_0x3feecf[_0x191eda(0x9c)]-_0x4a188b[_0x191eda(0x108)]:_0x540be5=await getCoinNumber(_0x4a188b[_0x191eda(0x1c3)]);if(_0x4a188b['fee']&&_0x4a188b[_0x191eda(0xfb)][_0x191eda(0x1e8)]==config[_0x191eda(0xa4)])_0xffbd19=_0x4a188b[_0x191eda(0xfb)][_0x191eda(0x90)];else{if(_0x4a188b[_0x191eda(0xfb)]&&_0x4a188b[_0x191eda(0xfb)][_0x191eda(0x1e8)]==_0x191eda(0x10b)&&!_0x3b1137)_0xffbd19=_0x4a188b['fee'][_0x191eda(0x90)]*global[_0x191eda(0x104)][_0x191eda(0x10b)+config[_0x191eda(0xa4)]];else _0xffbd19=defaultFee*_0x4a188b[_0x191eda(0x108)]*_0x4a188b[_0x191eda(0x138)];}_0x4a188b[_0x191eda(0x169)]==_0x191eda(0xcc)?(_0x1451a3=_0x540be5!=0x0?(_0x3feecf['breakeven']*_0x3feecf[_0x191eda(0x9c)]+_0x4a188b['price']*(_0x540be5-_0x3feecf[_0x191eda(0x9c)])+_0xffbd19)/_0x540be5:0x0,_0x38f204=_0x3feecf[_0x191eda(0x1f0)]):(_0x1451a3=_0x540be5!=0x0?(_0x3feecf[_0x191eda(0x12b)]*_0x3feecf[_0x191eda(0x9c)]-_0x4a188b[_0x191eda(0x138)]*(_0x3feecf[_0x191eda(0x9c)]-_0x540be5)+_0xffbd19)/_0x540be5:0x0,_0x38f204=_0x3feecf[_0x191eda(0x1f0)]+(_0x4a188b[_0x191eda(0x138)]-_0x3feecf[_0x191eda(0x12b)])*_0x4a188b['filled']);_0x1790ca=(_0x4a188b[_0x191eda(0x138)]-_0x1451a3-_0xffbd19/_0x4a188b['filled'])*_0x540be5;let _0x5df557={'coin':_0x4a188b[_0x191eda(0x1c3)],'number':_0x540be5,'breakeven':formatResult(_0x1451a3,0x8),'realized':formatResult(_0x38f204,0x8),'unrealized':formatResult(_0x1790ca,0x8),'fees':formatResult(_0x3feecf[_0x191eda(0x192)]+_0xffbd19,0x8),'sells':_0x4a188b['side']==_0x191eda(0xbc)?_0x3feecf['sells']+0x1:_0x3feecf['sells'],'buys':_0x4a188b[_0x191eda(0x169)]==_0x191eda(0xcc)?_0x3feecf[_0x191eda(0x158)]+0x1:_0x3feecf[_0x191eda(0x158)]};dbCoinResults[_0x191eda(0x14f)](_0x191eda(0x1e7))[_0x191eda(0x19b)]({'coin':_0x4a188b['coin']})[_0x191eda(0x96)](_0x5df557)[_0x191eda(0x194)]();if(!_0x3b1137){if(_0x4a188b[_0x191eda(0xfb)]&&_0x4a188b[_0x191eda(0xfb)][_0x191eda(0x1e8)]=='BNB'){const _0x4d27ae=currentCoins['find'](_0x1b6c49=>_0x1b6c49[_0x191eda(0x1c3)]=='BNB');if(_0x4d27ae){let _0x3e760c=dbCoinResults[_0x191eda(0x14f)](_0x191eda(0x1e7))['find']({'coin':_0x191eda(0x10b)})[_0x191eda(0x7e)]();_0x5df557={..._0x3e760c,'number':_0x4d27ae['number']},dbCoinResults[_0x191eda(0x14f)]('coins')[_0x191eda(0x19b)]({'coin':'BNB'})['assign'](_0x5df557)[_0x191eda(0x194)]();}}}}async function placeOrder(_0x12b063){const _0x30f22b=_0x39d1ca,_0x140bf7=config[_0x30f22b(0x15b)]=='market'?_0x30f22b(0x184):_0x30f22b(0x1f2);if(lockOrders==ORDERS[_0x30f22b(0x85)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x30f22b(0x1b5)],allOrdersPlaced=![],validateOrdersState=_0x30f22b(0xc6);let _0x3bc720=![];lastOrders=[];for(const _0x5e635d of _0x12b063){let _0x22a1a4,_0x5aedf8,_0x439989,_0x4efa94,_0x554c1c,_0x239aab=_0x5e635d[_0x30f22b(0x19f)];try{const _0x14f9da=await exchange['fetchTicker'](_0x239aab);_0x22a1a4=_0x5e635d[_0x30f22b(0xa5)]?0x1/_0x5e635d[_0x30f22b(0x116)]:_0x5e635d['last'],_0x5aedf8=_0x14f9da['bid'],_0x439989=_0x14f9da[_0x30f22b(0x18f)];_0x5e635d[_0x30f22b(0xa5)]?(_0x4efa94=_0x5e635d[_0x30f22b(0x169)]==_0x30f22b(0xcc)?_0x30f22b(0xbc):'buy',_0x554c1c=Math['abs'](_0x5e635d['trade'])/_0x22a1a4):(_0x4efa94=_0x5e635d[_0x30f22b(0x169)],_0x554c1c=Math[_0x30f22b(0x11f)](_0x5e635d[_0x30f22b(0x1e9)]));_0x140bf7==_0x30f22b(0x1f2)&&(config['ordertype']==_0x30f22b(0xb9)&&(_0x22a1a4=_0x4efa94==_0x30f22b(0xcc)?_0x5aedf8:_0x439989),config[_0x30f22b(0x15b)]=='limit-low'&&(_0x22a1a4=_0x4efa94==_0x30f22b(0xcc)?_0x439989:_0x5aedf8));_0x554c1c=formatResult(_0x554c1c,0x8),_0x22a1a4=formatResult(_0x22a1a4,0x8);const _0x1c16d2=_0x4efa94=='sell'?config['emojisell']?String['fromCodePoint']('0x'+config[_0x30f22b(0xd7)])+'\x20':'':config[_0x30f22b(0xb3)]?String[_0x30f22b(0xec)]('0x'+config['emojibuy'])+'\x20':'',_0x4cad4b=_0x140bf7==_0x30f22b(0x184)?'Market':config[_0x30f22b(0x15b)]=='limit-high'?_0x30f22b(0xf9):'Limit\x20(low-margin)',_0x2e03e5=new Date()[_0x30f22b(0x1ec)]()[_0x30f22b(0x1d4)]()[_0x30f22b(0x17e)](-0x6)+'-'+Math['random']()[_0x30f22b(0x1d4)]()['slice'](-0x6);lastOrders['push']({'customId':_0x2e03e5,'symbol':_0x239aab,'coin':_0x5e635d[_0x30f22b(0x1c3)],'side':_0x4efa94,'reverse':_0x5e635d[_0x30f22b(0xa5)],'filled':0x0});if(_0x140bf7=='market')logHistory(_0x30f22b(0x127),''+_0x1c16d2+_0x4cad4b+'\x20order:\x20'+_0x239aab+'\x20'+_0x4efa94+'\x20#'+formatResult(_0x554c1c,0x8)+'\x20@'+formatResult(_0x22a1a4,0x8));else logHistory('order',''+_0x1c16d2+_0x4cad4b+_0x30f22b(0x17b)+_0x239aab+'\x20'+_0x4efa94+'\x20#'+formatResult(_0x554c1c,0x8)+'\x20@'+formatResult(_0x22a1a4,0x8));const _0x375dbd=await exchange[_0x30f22b(0x165)](_0x239aab,_0x140bf7,_0x4efa94,_0x554c1c,_0x22a1a4,{'clientOrderId':_0x2e03e5}),_0xb44bb3=lastOrders['length']-0x1;_0xb44bb3>=0x0&&lastOrders[_0xb44bb3][_0x30f22b(0x156)]==_0x2e03e5&&(lastOrders[_0xb44bb3]={...lastOrders[_0xb44bb3],'orderId':_0x375dbd['id'],'amount':_0x375dbd['amount'],'price':_0x375dbd[_0x30f22b(0x138)],'fee':_0x375dbd[_0x30f22b(0xfb)]});if(config[_0x30f22b(0x14c)]!=0x0){let _0x14f8b8=null;if(cooldownTracker[_0x30f22b(0x1d5)]==config['cooldown']-0x1)_0x14f8b8=cooldownTracker[_0x30f22b(0x181)]();const _0x440dce=getTimeStamp();cooldownTracker['push'](_0x440dce);if(_0x14f8b8){const _0x337c51=fns['differenceInSeconds'](new Date(_0x440dce),new Date(_0x14f8b8));if(_0x337c51<cooldownInterval){logHistory('error','Executed\x20'+config[_0x30f22b(0x14c)]+_0x30f22b(0x1df)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x54441f){if(_0x54441f[_0x30f22b(0x1d4)]()[_0x30f22b(0x11d)]('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x579568=>_0x579568[_0x30f22b(0x19f)]!=_0x239aab),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x239aab),_0x3bc720=!![];else _0x54441f['toString']()[_0x30f22b(0x11d)](_0x30f22b(0x1b3))?(lastOrders=lastOrders[_0x30f22b(0xa7)](_0x5dde51=>_0x5dde51[_0x30f22b(0x19f)]!=_0x239aab),logHistory(_0x30f22b(0x110),_0x30f22b(0x1bb)+_0x239aab),_0x3bc720=!![]):(lastOrders=lastOrders[_0x30f22b(0xa7)](_0x35da44=>_0x35da44[_0x30f22b(0x19f)]!=_0x239aab),await handleError(_0x54441f,_0x30f22b(0xa2),_0x239aab));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0xe47d9a=config[_0x30f22b(0x15b)]==_0x30f22b(0x184)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x18184a=_0x30f22b;validateOrders(_0x18184a(0x8d));},_0xe47d9a);}else unlockOrders();_0x3bc720&&config[_0x30f22b(0x9b)]&&await pauseBot(_0x30f22b(0x191)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x30f22b(0x1de),_0x30f22b(0xbd)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x30f22b(0x15a));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x30f22b(0x9b)]&&(config['ordertype']=='market'?logHistory(_0x30f22b(0x110),_0x30f22b(0xb1)):logHistory(_0x30f22b(0x110),_0x30f22b(0xd0))));}}function persistOpenOrders(_0x45e92b){const _0x6cc2ce=_0x39d1ca,_0x16509d={...config,'openOrders':_0x45e92b};let _0x54d1e0=dbConfig['get'](_0x6cc2ce(0x1ae))[_0x6cc2ce(0x19b)]({'botID':botID})['value']();_0x54d1e0&&dbConfig['get'](_0x6cc2ce(0x1ae))[_0x6cc2ce(0x19b)]({'botID':botID})[_0x6cc2ce(0x96)](_0x16509d)[_0x6cc2ce(0x194)]();}function restoreOrders(){const _0x1b68c6=_0x39d1ca;let _0x20ab3c;config['openOrders']&&allOpenOrders[_0x1b68c6(0x7a)](_0x5b36da=>{const _0x5e1d59=_0x1b68c6,_0x395f19=config[_0x5e1d59(0x82)][_0x5e1d59(0x19b)](_0x554349=>_0x554349[_0x5e1d59(0x1a2)]==_0x5b36da['id']);_0x395f19&&(lastOrders['push'](_0x395f19),_0x20ab3c=_0x5b36da[_0x5e1d59(0xd9)]);});if(lastOrders[_0x1b68c6(0x1d5)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x1b68c6(0xc9),allOrdersPlaced=!![];const _0x347524=new Date()['getTime'](),_0x2a4b2f=config[_0x1b68c6(0x15b)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x1b68c6(0x196)]*0x3c*0x3e8;if(_0x20ab3c+_0x2a4b2f>_0x347524){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x20ab3c+_0x2a4b2f-_0x347524);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x2e18e5=_0x39d1ca;if(!coinsLoaded){process[_0x2e18e5(0xf8)]({'telegrammsg':_0x2e18e5(0x173)},_0x431f36=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x1db1a5='';if(config[_0x2e18e5(0xc2)])_0x1db1a5=_0x2e18e5(0x10c)+config[_0x2e18e5(0x1b1)]+_0x2e18e5(0xe1);else _0x1db1a5='<b>Bot\x20'+botID+_0x2e18e5(0xe1);const _0x2baaaa=getKPIs(_0x2e18e5(0xa4)),_0x81fe12=getKPIs(_0x2e18e5(0xe5),config['fiat']),_0x27d616=getKPIs('net-basecoin'),_0x4c8021=getKPIs(_0x2e18e5(0xcf),config[_0x2e18e5(0xe5)]);_0x1db1a5+=_0x2e18e5(0x17d),_0x1db1a5+=_0x2baaaa[_0x2e18e5(0xd4)]+'\x20:\x20'+_0x2baaaa['value']+'\x0a',_0x1db1a5+=_0x2baaaa[_0x2e18e5(0x15d)]+':\x20'+_0x2baaaa[_0x2e18e5(0x124)]+'%\x0a',_0x1db1a5+=_0x81fe12['leftTxt']+_0x2e18e5(0xb2)+_0x81fe12[_0x2e18e5(0x7e)]+'\x0a',_0x1db1a5+=_0x81fe12['rightTxt']+':\x20'+_0x81fe12['change']+'%\x0a',_0x1db1a5+=_0x27d616[_0x2e18e5(0xd4)]+':\x20'+_0x27d616['value']+'\x20('+config[_0x2e18e5(0xa4)]+')\x0a',_0x1db1a5+=_0x27d616[_0x2e18e5(0x15d)]+':\x20'+_0x27d616[_0x2e18e5(0x124)]+_0x2e18e5(0xee)+config[_0x2e18e5(0xa4)]+')\x0a',_0x1db1a5+=_0x4c8021[_0x2e18e5(0xd4)]+':\x20'+_0x4c8021['value']+'\x20('+config[_0x2e18e5(0xe5)]+')\x0a',_0x1db1a5+=_0x4c8021[_0x2e18e5(0x15d)]+':\x20'+_0x4c8021[_0x2e18e5(0x124)]+_0x2e18e5(0xee)+config[_0x2e18e5(0xe5)]+')\x0a',_0x1db1a5+=_0x2e18e5(0x1d1),process[_0x2e18e5(0xf8)]({'telegrammsg':_0x1db1a5},_0x36393f=>{});}async function sendPortfolioTelegram(){const _0x593399=_0x39d1ca;if(!coinsLoaded){process[_0x593399(0xf8)]({'telegrammsg':_0x593399(0x173)},_0x34433d=>{});return;}let _0x33ec6b='';if(config[_0x593399(0xc2)])_0x33ec6b=_0x593399(0x10c)+config['botname']+_0x593399(0x103);else _0x33ec6b=_0x593399(0x145)+botID+_0x593399(0x103);_0x33ec6b+=_0x593399(0x17d),_0x33ec6b+=_0x593399(0x1c0),_0x33ec6b+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x33ec6b+='-------------------------------\x0a',currentCoins['forEach'](_0x4ea7f4=>{const _0x1a598a=_0x593399;_0x33ec6b+=_0x4ea7f4[_0x1a598a(0x1c3)][_0x1a598a(0x1ed)](0x7)+'|\x20'+formatPad(_0x4ea7f4[_0x1a598a(0x7d)],0x2,0x6)+'|\x20'+formatPad(_0x4ea7f4[_0x1a598a(0x81)],0x2,0x6)+'|\x20'+formatPad(_0x4ea7f4[_0x1a598a(0x130)]*0x64,0x2,0x6)+'\x0a';}),_0x33ec6b+='</pre>',process['send']({'telegrammsg':_0x33ec6b},_0x41842c=>{});}function formatPad(_0x530dba,_0xd9a7fe,_0x31a51a){const _0x1bb8cf=_0x39d1ca,_0x124a03=formatResultString(_0x530dba,_0xd9a7fe);return _0x124a03?_0x124a03['padStart'](_0x31a51a):''[_0x1bb8cf(0x1bc)](_0x31a51a);}function logHistory(_0x59a2ed,_0x1bd584,_0x52aacc=''){const _0x51b8cf=_0x39d1ca;let _0x3f246b={'time':getTimeStamp(),'type':_0x59a2ed,'event':_0x1bd584};dbLogs['get'](_0x51b8cf(0x164))[_0x51b8cf(0x171)](_0x3f246b)[_0x51b8cf(0x194)]();if(_0x52aacc=='')_0x52aacc=_0x1bd584;proxyEmit(_0x51b8cf(0x12d),{'log':_0x3f246b,'summary':_0x52aacc}),process['send']({'telegram':{..._0x3f246b,'botname':config[_0x51b8cf(0x1b1)],'showname':config[_0x51b8cf(0xc2)]}},_0x40c181=>{}),logger['full'](''+_0x3f246b['event']);}function emitHistory(_0x179c27={}){const _0x85fcfd=_0x39d1ca;Object[_0x85fcfd(0xf7)](_0x179c27)['length']==0x0&&(_0x179c27={'type':[_0x85fcfd(0x127),_0x85fcfd(0x12d)],'event':'','page':0x1});if(_0x179c27[_0x85fcfd(0x190)]['includes'](_0x85fcfd(0x12d)))_0x179c27[_0x85fcfd(0x190)][_0x85fcfd(0xf6)](_0x179c27[_0x85fcfd(0x190)]['indexOf'](_0x85fcfd(0x12d)),0x1,_0x85fcfd(0x110),_0x85fcfd(0x106),_0x85fcfd(0x1de));if(dbLogs[_0x85fcfd(0xd3)](_0x85fcfd(0x164))[_0x85fcfd(0x7e)]()){let _0x1b1e0b=dbLogs[_0x85fcfd(0x14f)]('logs')[_0x85fcfd(0xa7)](_0x279606=>{const _0x37a5df=_0x85fcfd;if(_0x179c27[_0x37a5df(0x190)][_0x37a5df(0x1d5)]==0x0)return![];else return _0x179c27['type'][_0x37a5df(0x11d)](_0x279606[_0x37a5df(0x190)]);})[_0x85fcfd(0xa7)](_0xbc7733=>{const _0x33b8a1=_0x85fcfd;if(_0x179c27[_0x33b8a1(0x12d)]=='')return!![];else return _0xbc7733[_0x33b8a1(0x12d)][_0x33b8a1(0xb0)]()['includes'](_0x179c27['event'][_0x33b8a1(0xb0)]());})[_0x85fcfd(0x18a)]('time'),_0x1132c3=_0x1b1e0b['value']()[_0x85fcfd(0x1d5)];_0x1b1e0b=_0x1b1e0b[_0x85fcfd(0xa5)]()[_0x85fcfd(0x17e)]((_0x179c27['page']-0x1)*logPageSize,_0x179c27[_0x85fcfd(0x13f)]*logPageSize-0x1)[_0x85fcfd(0xa5)]()[_0x85fcfd(0x7e)](),proxyEmit(_0x85fcfd(0xfc),{'logs':_0x1b1e0b,'total':_0x1132c3});}else proxyEmit(_0x85fcfd(0xfc),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x53d1f2){const _0x5582a6=_0x39d1ca;if(dbLogs[_0x5582a6(0xd3)](_0x5582a6(0x164))['value']()){const _0x28cd18=dbLogs[_0x5582a6(0x14f)]('logs')[_0x5582a6(0x18a)](_0x5582a6(0x168))['filter'](_0x5ed525=>{const _0x470ea2=_0x5582a6;return _0x5ed525[_0x470ea2(0x190)]==_0x470ea2(0x127);})[_0x5582a6(0x7e)]();dbLogs['get']('logs')['remove']()[_0x5582a6(0x194)](),dbLogs[_0x5582a6(0x14f)](_0x5582a6(0x164))['assign'](_0x28cd18)[_0x5582a6(0x194)](),emitHistory(_0x53d1f2);}}async function pauseBot(_0x4d78a8=''){const _0x172ecd=_0x39d1ca,_0x1d8906=new Date()['getTime']();if(!lastErrorShown||_0x1d8906-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x1d8906;!lastBotPause?(lastBotPause=_0x1d8906,consecutivePauses=0x1):(_0x1d8906-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x172ecd(0xf8)]({'stop':_0x172ecd(0x111)},_0x19aab8=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x4d78a8)_0x4d78a8+='\x20|\x20';logHistory(_0x172ecd(0x110),_0x4d78a8+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x172ecd(0xe9)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x517b3c=_0x39d1ca;process[_0x517b3c(0xf8)]({'stop':_0x517b3c(0x9e)},_0x35aa49=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xeeaa95,_0x70fc98){const _0x5851db=_0x39d1ca;if(_0xeeaa95[_0x5851db(0x1d4)]()[_0x5851db(0x11d)](_0x5851db(0x1ef)))return logHistory(_0x5851db(0x110),config[_0x5851db(0x1b2)]+_0x5851db(0x14d)),![];else{if(_0xeeaa95[_0x5851db(0x1d4)]()[_0x5851db(0x11d)](_0x5851db(0x9d)))return logHistory(_0x5851db(0x110),config[_0x5851db(0x1b2)]+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0xeeaa95[_0x5851db(0x1d4)]()[_0x5851db(0x11d)](_0x5851db(0x1bd)))return logHistory(_0x5851db(0x110),config[_0x5851db(0x1b2)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory('error',_0x5851db(0x1d6)),![];else await handleError(_0xeeaa95,_0x70fc98);}}}async function handleError(_0x3449dd,_0x5870be,_0x3aae60=''){const _0x1901fd=_0x39d1ca,_0x10b03d=config['exchange']||_0x1901fd(0x107);if(_0x3449dd[_0x1901fd(0x1d4)]()[_0x1901fd(0x11d)](_0x1901fd(0xac)))await pauseBot(config[_0x1901fd(0x1b2)]+_0x1901fd(0x13c));else{if(_0x3449dd[_0x1901fd(0x1d4)]()[_0x1901fd(0x11d)](_0x1901fd(0x167)))await pauseBot(config[_0x1901fd(0x1b2)]+_0x1901fd(0xed));else{if(_0x3449dd[_0x1901fd(0x1d4)]()[_0x1901fd(0x11d)](_0x1901fd(0x16b)))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0x3449dd[_0x1901fd(0x1d4)]()['includes'](_0x1901fd(0x17a)))await pauseBot(config[_0x1901fd(0x1b2)]+_0x1901fd(0x131));else{if(_0x3449dd['toString']()[_0x1901fd(0x11d)](_0x1901fd(0x1a3)))logHistory(_0x1901fd(0x110),_0x5870be+_0x1901fd(0x135)),logHistory(_0x1901fd(0x110),_0x1901fd(0x19c)),await killBot();else{if(_0x3449dd[_0x1901fd(0x1d4)]()[_0x1901fd(0x11d)](_0x1901fd(0x115)))logHistory(_0x1901fd(0x110),_0x5870be+_0x1901fd(0xc5)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3449dd['toString']()[_0x1901fd(0x11d)](_0x1901fd(0x1ef)))logHistory(_0x1901fd(0x110),_0x5870be+_0x1901fd(0x88)+config['exchange']+_0x1901fd(0xeb)),logHistory(_0x1901fd(0x110),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3449dd[_0x1901fd(0x1d4)]()[_0x1901fd(0x11d)](_0x1901fd(0x9d)))logHistory(_0x1901fd(0x110),_0x5870be+_0x1901fd(0x88)+config['exchange']+_0x1901fd(0x1b4)),logHistory(_0x1901fd(0x110),_0x1901fd(0x19c)),await killBot();else{if(_0x3449dd['toString']()[_0x1901fd(0x11d)](_0x1901fd(0x1bd)))logHistory(_0x1901fd(0x110),_0x5870be+'\x20|\x20'+config['exchange']+_0x1901fd(0x166)),logHistory('error',_0x1901fd(0x19c)),await killBot();else _0x3449dd['toString']()[_0x1901fd(0x11d)](_0x1901fd(0xad))?logHistory(_0x1901fd(0x110),_0x5870be+_0x1901fd(0x157)+_0x3aae60):(logger[_0x1901fd(0x148)](_0x5870be+'\x20|\x20Error\x20details:\x20',_0x3449dd),await pauseBot(_0x1901fd(0xc8)));}}}}}}}}}function formatResult(_0xcc6505,_0x503db6){const _0x2c637a=_0x39d1ca;return parseFloat(_0xcc6505[_0x2c637a(0x1aa)](_0x503db6));}function formatResultTruncate(_0x1ff630,_0x4da726){const _0x1f553f=_0x39d1ca;let _0x10e381=formatResultString(_0x1ff630,0xa),_0x5af827=_0x10e381[_0x1f553f(0x170)]('.');return _0x5af827!=-0x1&&(_0x10e381=_0x10e381['slice'](0x0,_0x5af827+_0x4da726+0x1)),Number(_0x10e381);}function formatResultString(_0x252f84,_0x3a868b){const _0x545758=_0x39d1ca;let _0x2be708;if(!(''+_0x252f84)[_0x545758(0x11d)]('e'))_0x2be708=+(Math[_0x545758(0x172)](_0x252f84+'e+'+_0x3a868b)+'e-'+_0x3a868b);else{let _0x42a449=(''+_0x252f84)[_0x545758(0x188)]('e'),_0x399a4d='';+_0x42a449[0x1]+_0x3a868b>0x0&&(_0x399a4d='+'),_0x2be708=+(Math[_0x545758(0x172)](+_0x42a449[0x0]+'e'+_0x399a4d+(+_0x42a449[0x1]+_0x3a868b))+'e-'+_0x3a868b);}return Number(_0x2be708)[_0x545758(0x1aa)](_0x3a868b);}function getServerTime(){const _0xd631bc=_0x39d1ca,_0x2a13cf=new Date();return _0x2a13cf[_0xd631bc(0x8f)]()+'/'+(_0x2a13cf['getMonth']()+0x1)[_0xd631bc(0x1d4)]()[_0xd631bc(0x1bc)](0x2,'0')+'/'+_0x2a13cf['getDate']()[_0xd631bc(0x1d4)]()[_0xd631bc(0x1bc)](0x2,'0')+'\x20'+_0x2a13cf[_0xd631bc(0x129)]()[_0xd631bc(0x1d4)]()[_0xd631bc(0x1bc)](0x2,'0')+':'+_0x2a13cf[_0xd631bc(0x17f)]()[_0xd631bc(0x1d4)]()[_0xd631bc(0x1bc)](0x2,'0')+':'+_0x2a13cf['getSeconds']()[_0xd631bc(0x1d4)]()[_0xd631bc(0x1bc)](0x2,'0');}function getTimeStamp(){const _0x70510f=_0x39d1ca,_0x31611a=shiftedTime();return _0x31611a[_0x70510f(0x8f)]()+'/'+(_0x31611a[_0x70510f(0xd8)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x31611a['getDate']()[_0x70510f(0x1d4)]()[_0x70510f(0x1bc)](0x2,'0')+'\x20'+_0x31611a['getHours']()[_0x70510f(0x1d4)]()[_0x70510f(0x1bc)](0x2,'0')+':'+_0x31611a['getMinutes']()['toString']()['padStart'](0x2,'0')+':'+_0x31611a[_0x70510f(0xe7)]()[_0x70510f(0x1d4)]()['padStart'](0x2,'0');}function getDate(){const _0x2b3f0d=_0x39d1ca,_0x2de723=shiftedTime();return _0x2de723['getFullYear']()+'/'+(_0x2de723[_0x2b3f0d(0xd8)]()+0x1)[_0x2b3f0d(0x1d4)]()[_0x2b3f0d(0x1bc)](0x2,'0')+'/'+_0x2de723[_0x2b3f0d(0x1d9)]()[_0x2b3f0d(0x1d4)]()[_0x2b3f0d(0x1bc)](0x2,'0');}function getHour(){const _0x500e0e=_0x39d1ca,_0x4f24ce=shiftedTime();return _0x4f24ce['getHours']()[_0x500e0e(0x1d4)]()['padStart'](0x2,'0');}function sleep(_0x285993){return new Promise(_0x36915c=>setTimeout(_0x36915c,_0x285993));}function shiftedTime(){const _0x30ad2b=_0x39d1ca,_0x17efad=new Date();let _0x23139d=_0x17efad;if(config&&config['timeshift']!==0x0)_0x23139d=fns[_0x30ad2b(0x1af)](_0x17efad,{'hours':config[_0x30ad2b(0x152)]});return _0x23139d;}function timer(_0x16b100){const _0x894ec6=_0x39d1ca,_0x3d6fb7=new Date();!lasttime?console[_0x894ec6(0x189)](_0x894ec6(0x1e5),_0x16b100,_0x3d6fb7):console[_0x894ec6(0x189)]('timer:',_0x16b100,(_0x3d6fb7-lasttime)/0x3e8),lasttime=_0x3d6fb7;}