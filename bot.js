const _0x48c3e9=_0x55a4;(function(_0x3631b5,_0x54b8a9){const _0x2af053=_0x55a4,_0x23affe=_0x3631b5();while(!![]){try{const _0x752647=parseInt(_0x2af053(0x1e4))/0x1*(parseInt(_0x2af053(0x2b5))/0x2)+-parseInt(_0x2af053(0x1fb))/0x3+parseInt(_0x2af053(0x285))/0x4+parseInt(_0x2af053(0x271))/0x5*(-parseInt(_0x2af053(0x1d5))/0x6)+-parseInt(_0x2af053(0x23a))/0x7+parseInt(_0x2af053(0x1b8))/0x8+parseInt(_0x2af053(0x254))/0x9*(parseInt(_0x2af053(0x205))/0xa);if(_0x752647===_0x54b8a9)break;else _0x23affe['push'](_0x23affe['shift']());}catch(_0x1a9842){_0x23affe['push'](_0x23affe['shift']());}}}(_0x4261,0x8bddd));const _0x5ebe70=function(){let _0xbc4db5=!![];return function(_0x56a4ee,_0x5d613e){const _0xe7caaf=_0xbc4db5?function(){const _0x4ab802=_0x55a4;if(_0x5d613e){const _0x2be8cd=_0x5d613e[_0x4ab802(0x220)](_0x56a4ee,arguments);return _0x5d613e=null,_0x2be8cd;}}:function(){};return _0xbc4db5=![],_0xe7caaf;};}(),_0x56e8ed=_0x5ebe70(this,function(){const _0x2bfae8=_0x55a4;return _0x56e8ed[_0x2bfae8(0x224)]()['search'](_0x2bfae8(0x1bd))[_0x2bfae8(0x224)]()[_0x2bfae8(0x1db)](_0x56e8ed)[_0x2bfae8(0x1b5)](_0x2bfae8(0x1bd));});_0x56e8ed();'use strict';const ccxt=require(_0x48c3e9(0x206)),low=require(_0x48c3e9(0x20d)),FileSync=require(_0x48c3e9(0x28e)),fs=require('fs'),fns=require(_0x48c3e9(0x295)),{WebsocketClient,DefaultLogger}=require('binance'),Crypt=require(_0x48c3e9(0x22b))[_0x48c3e9(0x277)];let exchange,wsClient;global[_0x48c3e9(0x1ce)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![];const serverversion=require(_0x48c3e9(0x28d))['version'],botID=process[_0x48c3e9(0x273)][0x2]||_0x48c3e9(0x287),pattern=/^[0-9]{3}$/;if(!pattern[_0x48c3e9(0x1d3)](botID))return console['log'](_0x48c3e9(0x1b6)+botID+_0x48c3e9(0x29a)),process[_0x48c3e9(0x2a3)](0x1);const configpath=_0x48c3e9(0x20e);!fs[_0x48c3e9(0x29c)](configpath)&&fs[_0x48c3e9(0x1e5)](configpath);function _0x55a4(_0x2680ec,_0x492ea5){const _0x49d5c5=_0x4261();return _0x55a4=function(_0x56e8ed,_0x5ebe70){_0x56e8ed=_0x56e8ed-0x1ad;let _0x426184=_0x49d5c5[_0x56e8ed];return _0x426184;},_0x55a4(_0x2680ec,_0x492ea5);}const configfile=configpath+'bot-'+botID+_0x48c3e9(0x1ca),logfile=configpath+_0x48c3e9(0x236)+botID+_0x48c3e9(0x1c7),performancefile=configpath+_0x48c3e9(0x236)+botID+'-performance.json',coinresultsfile=configpath+'bot-'+botID+_0x48c3e9(0x1dc),settingsfile=configpath+_0x48c3e9(0x1be),securefile=configpath+'bb-secure.json',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x48c3e9(0x204)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0x48c3e9(0x1d7)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x48c3e9(0x204)]({'bot':[]})[_0x48c3e9(0x1d7)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x48c3e9(0x204)]({'coins':[]})[_0x48c3e9(0x1d7)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x48c3e9(0x255),'symbol':'BTC/EUR'},'usd':{'coin':_0x48c3e9(0x1b7),'symbol':_0x48c3e9(0x2ad)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x38706f)=>{},'debug':(..._0x2fbecd)=>{},'notice':(..._0x40fef6)=>{},'info':(..._0x4d6fab)=>{},'warning':(..._0x1ea626)=>{},'error':async function(..._0x39a9c3){const _0x1cbe1a=_0x48c3e9,_0x55bace=new Date()['getTime']();if(!lastErrorShown||_0x55bace-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime'](),logHistory(_0x1cbe1a(0x232),_0x1cbe1a(0x1d0)+consecutivePauses+_0x1cbe1a(0x20f));let _0x5baa1a='';if(_0x39a9c3[0x0])_0x5baa1a+=_0x39a9c3[0x0];if(_0x39a9c3[0x1]&&_0x39a9c3[0x1][_0x1cbe1a(0x232)]&&_0x39a9c3[0x1][_0x1cbe1a(0x232)][_0x1cbe1a(0x1e1)])_0x5baa1a+=_0x1cbe1a(0x2b4)+_0x39a9c3[0x1]['error'][_0x1cbe1a(0x1e1)];logging(_0x1cbe1a(0x1d0)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x5baa1a),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x48c3e9(0x201),'rsaStandard':_0x48c3e9(0x249)});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x48c3e9(0x252)]);process[_0x48c3e9(0x1ed)]({'started':'running'}),initializeProcessListeners();function proxyEmit(_0x40ca49,_0x3896d5=null){const _0x4d7ab9=_0x48c3e9;process[_0x4d7ab9(0x1ed)]({'function':_0x40ca49,'args':_0x3896d5});}function initializeProcessListeners(){const _0x30ff33=_0x48c3e9;process['on'](_0x30ff33(0x1e1),_0x1a4935=>{const _0x5ebc86=_0x30ff33;switch(Object[_0x5ebc86(0x250)](_0x1a4935)[0x0]){case'timeshift':_0x1a4935[_0x5ebc86(0x252)]!=undefined&&(settings[_0x5ebc86(0x252)]=_0x1a4935['timeshift'],updateTimeshift(settings['timeshift']));break;case'function':switch(_0x1a4935[_0x5ebc86(0x28a)]){case _0x5ebc86(0x1b4):initclient();break;case _0x5ebc86(0x1c9):emitHistory(_0x1a4935['args']);break;case'getPortfolio':getPortfolio(_0x1a4935[_0x5ebc86(0x207)]);break;case _0x5ebc86(0x265):storeConfiguration(_0x1a4935['args']);break;case'storeHeadless':storeHeadless(_0x1a4935['args']);break;case _0x5ebc86(0x1c8):getStartingBalances();break;case _0x5ebc86(0x219):placeOrder(_0x1a4935['args']);break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x2dd5bb=_0x48c3e9;if(pidBalances)clearTimeout(pidBalances);if(config[_0x2dd5bb(0x270)]!=''){await initExchange(config[_0x2dd5bb(0x270)],config[_0x2dd5bb(0x24a)]);let _0x33836f=await loadSymbols();_0x33836f&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x348d08,_0x2add43){const _0x20449e=_0x48c3e9,_0x5a3aa6=ccxt[config[_0x20449e(0x269)]];let _0x44ff90;switch(config[_0x20449e(0x269)]){case'binance':_0x44ff90='wss://stream.binance.com:9443';break;case _0x20449e(0x286):_0x44ff90='wss://stream.binance.us:9443';break;default:_0x44ff90=_0x20449e(0x216);}exchange=new _0x5a3aa6({'apiKey':_0x348d08,'secret':_0x2add43,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x348d08,'api_secret':_0x2add43,'beautify':!![],'wsUrl':_0x44ff90},logger),config[_0x20449e(0x269)]==_0x20449e(0x286)&&(stablecoins={'eur':{'coin':'BTCBUSD','symbol':_0x20449e(0x23d)},'usd':{'coin':_0x20449e(0x1b7),'symbol':_0x20449e(0x2ad)}});}async function loadSymbols(){let _0x3a0e8e;try{markets=await exchange['loadMarkets'](),allSymbols=exchange['symbols']['filter'](_0x151361=>{const _0x2bfe81=_0x55a4;return _0x151361[_0x2bfe81(0x1ad)]('BTC')&&!_0x151361[_0x2bfe81(0x1ad)](_0x2bfe81(0x245));}),_0x3a0e8e=!![];}catch(_0x5843a4){await handleError(_0x5843a4,'loadSymbols()'),_0x3a0e8e=![];}return _0x3a0e8e;}async function initbot(){const _0x2bb907=_0x48c3e9;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x518c46=dbCoinResults['get']('coins')[_0x2bb907(0x1bc)]();if(_0x518c46[_0x2bb907(0x1b9)]==0x0)await resetCoinResults();}async function initclient(){const _0x5db106=_0x48c3e9;proxyEmit(_0x5db106(0x279),emittedConfiguration());while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5db106(0x1f1),{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0xecad56=_0x48c3e9;wsinitialized=![];ws1&&(ws1[_0xecad56(0x202)](_0x27f364=>{const _0x3e033d=_0xecad56;try{wsClient[_0x3e033d(0x237)](_0x27f364);}catch(_0x1217a5){}}),ws1=[]);if(ws2){try{wsClient[_0xecad56(0x237)](ws2);}catch(_0x1acc41){}ws2=null;}}async function initws(){const _0x230693=_0x48c3e9;cleanws();let _0x2fec0f=[];currentCoins['forEach'](_0x381cd8=>{const _0x3c2aa4=_0x55a4;if(_0x381cd8['coin']!=_0x3c2aa4(0x1fa))_0x2fec0f[_0x3c2aa4(0x282)](noslash(_0x381cd8[_0x3c2aa4(0x1bb)]));});if(!_0x2fec0f['includes'](stablecoins[_0x230693(0x26f)]['coin']))_0x2fec0f[_0x230693(0x282)](stablecoins[_0x230693(0x26f)][_0x230693(0x1e3)]);if(!_0x2fec0f[_0x230693(0x1ad)](stablecoins[_0x230693(0x21c)][_0x230693(0x1e3)]))_0x2fec0f[_0x230693(0x282)](stablecoins[_0x230693(0x21c)][_0x230693(0x1e3)]);if(!_0x2fec0f[_0x230693(0x1ad)](_0x230693(0x2b3)))_0x2fec0f[_0x230693(0x282)](_0x230693(0x2b3));try{_0x2fec0f['forEach']((_0x34e96b,_0x3a2b12)=>{const _0x277abf=_0x230693;ws1[_0x3a2b12]=wsClient[_0x277abf(0x26e)](_0x34e96b,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on']('formattedMessage',_0xef8803=>{const _0x45629c=_0x230693;if(!Array['isArray'](_0xef8803)&&!_0xef8803[_0x45629c(0x228)][_0x45629c(0x1ad)]('userData')){if(_0xef8803[_0x45629c(0x223)]===_0x45629c(0x242)){global[_0x45629c(0x1ce)][_0xef8803[_0x45629c(0x242)][_0x45629c(0x1bb)]]=_0xef8803[_0x45629c(0x242)][_0x45629c(0x27e)];return;}}else{if(!Array[_0x45629c(0x298)](_0xef8803)&&_0xef8803[_0x45629c(0x228)][_0x45629c(0x1ad)](_0x45629c(0x2ab))){if(_0xef8803[_0x45629c(0x1c2)][_0x45629c(0x1ad)](_0x45629c(0x278))){updateNumberCoins(_0xef8803);return;}}}}),wsClient['on']('reconnected',async _0x158d3c=>{currentCoins=await getCoins();});}catch(_0x72a11f){await handleError(_0x72a11f,_0x230693(0x1eb));}let _0x56e44d;while(_0x56e44d!=currentCoins['length']-0x1){_0x56e44d=0x0,currentCoins[_0x230693(0x202)](_0x3747de=>{const _0x4eeb12=_0x230693;if(_0x3747de['coin']!=_0x4eeb12(0x1fa)&&global['ticker'][noslash(_0x3747de[_0x4eeb12(0x1bb)])])_0x56e44d++;});let _0x4489f7=Math['round'](_0x56e44d/(currentCoins[_0x230693(0x1b9)]-0x1)*0x64);proxyEmit(_0x230693(0x288),_0x4489f7),await sleep(0xc8);}wsinitialized=!![];}async function getFiat(){const _0x13dd92=_0x48c3e9;let _0x4ca356=0x0,_0xd8cf65=0x0;try{_0x4ca356=global[_0x13dd92(0x1ce)][stablecoins['eur']['coin']],_0xd8cf65=global[_0x13dd92(0x1ce)][stablecoins['usd']['coin']];}catch(_0x3cc587){await handleError(_0x3cc587,_0x13dd92(0x1ae));}return{'eur':Number(_0x4ca356),'usd':Number(_0xd8cf65)};}async function setStartDatePerformance(_0x498d69){const _0x4b3855=_0x48c3e9,_0x5164d9=fns['format'](new Date(_0x498d69[_0x4b3855(0x241)]),_0x4b3855(0x1f9));let _0x41e2b5=[];_0x41e2b5[stablecoins['eur']['coin']]=await getCloses(stablecoins['eur'][_0x4b3855(0x1bb)],new Date(_0x498d69['startdate']),0x1),_0x41e2b5[stablecoins[_0x4b3855(0x21c)][_0x4b3855(0x1e3)]]=await getCloses(stablecoins[_0x4b3855(0x21c)][_0x4b3855(0x1bb)],new Date(_0x498d69[_0x4b3855(0x241)]),0x1);let _0x4e16e8,_0x5829cc=[];_0x498d69[_0x4b3855(0x276)][_0x4b3855(0x202)](_0x5861e4=>{const _0x207207=_0x4b3855;!_0x5861e4[_0x207207(0x2a1)]&&_0x5829cc[_0x207207(0x282)]({'coin':_0x5861e4[_0x207207(0x1e3)],'number':_0x5861e4[_0x207207(0x27b)],'price':_0x5861e4['startprice']});}),_0x4e16e8={'date':_0x5164d9,'eur':_0x41e2b5[stablecoins[_0x4b3855(0x26f)][_0x4b3855(0x1e3)]][0x0],'usd':_0x41e2b5[stablecoins[_0x4b3855(0x21c)]['coin']][0x0],'coins':_0x5829cc};let _0x110500=dbPerformance[_0x4b3855(0x27d)](_0x4b3855(0x25b))[_0x4b3855(0x1bf)]({'date':_0x5164d9})['value']();_0x110500?dbPerformance['get']('data')[_0x4b3855(0x1bf)]({'date':_0x5164d9})[_0x4b3855(0x259)](_0x4e16e8)[_0x4b3855(0x1d7)]():dbPerformance[_0x4b3855(0x27d)](_0x4b3855(0x25b))['push'](_0x4e16e8)['write'](),_0x110500=dbPerformance['get'](_0x4b3855(0x25b))[_0x4b3855(0x26c)](_0x4b3855(0x1b2))[_0x4b3855(0x1bc)](),_0x110500[_0x4b3855(0x202)](_0x1a4c85=>{const _0x5ee90b=_0x4b3855;_0x1a4c85['date']<_0x5164d9&&dbPerformance[_0x5ee90b(0x27d)](_0x5ee90b(0x25b))[_0x5ee90b(0x1e0)]({'date':_0x1a4c85['date']})[_0x5ee90b(0x1d7)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x47045b){const _0x48dae3=_0x48c3e9;let _0x3d0a1f,_0x3118ab=[];logHistory('success',_0x48dae3(0x25c)),_0x47045b[_0x48dae3(0x276)][_0x48dae3(0x202)](_0x2f72e3=>{const _0x3f42f0=_0x48dae3;if(_0x2f72e3[_0x3f42f0(0x1e3)]!='BTC'&&!_0x2f72e3[_0x3f42f0(0x2a1)])_0x3118ab[_0x3f42f0(0x282)]({'coin':_0x2f72e3[_0x3f42f0(0x1e3)],'symbol':_0x2f72e3[_0x3f42f0(0x1bb)]});});let _0x5506f4=[];try{const _0x1f7567=fns[_0x48dae3(0x26b)](fns['parseISO'](_0x47045b['startdate'][_0x48dae3(0x29b)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x1507e9 of _0x3118ab){if(_0x1507e9[_0x48dae3(0x1e3)]!=_0x48dae3(0x1fa))_0x3d0a1f=await exchange[_0x48dae3(0x1f5)](_0x1507e9[_0x48dae3(0x1bb)],Date['parse'](_0x1f7567));_0x3d0a1f[_0x48dae3(0x202)](_0x759083=>{const _0x48f804=_0x48dae3,_0x5f5c2a=_0x1507e9[_0x48f804(0x1bb)]['includes'](_0x48f804(0x28b)),_0x40b757=fns[_0x48f804(0x26b)](fns[_0x48f804(0x261)](_0x759083[_0x48f804(0x268)]),_0x48f804(0x2b1)),_0x345536=fns[_0x48f804(0x26b)](fns['parseISO'](_0x759083['datetime']),_0x48f804(0x1f9));let _0x377d9a;if(_0x759083[_0x48f804(0x200)]=='buy'&&_0x5f5c2a==![])_0x377d9a=_0x759083[_0x48f804(0x2a8)];if(_0x759083[_0x48f804(0x200)]==_0x48f804(0x1f0)&&_0x5f5c2a==!![])_0x377d9a=-_0x759083['amount']*_0x759083[_0x48f804(0x22a)];if(_0x759083[_0x48f804(0x200)]==_0x48f804(0x247)&&_0x5f5c2a==![])_0x377d9a=-_0x759083[_0x48f804(0x2a8)];if(_0x759083[_0x48f804(0x200)]==_0x48f804(0x247)&&_0x5f5c2a==!![])_0x377d9a=_0x759083[_0x48f804(0x2a8)]*_0x759083[_0x48f804(0x22a)];_0x5506f4['push']({'timestamp':_0x40b757,'date':_0x345536,'coin':_0x1507e9[_0x48f804(0x1e3)],'symbol':_0x1507e9[_0x48f804(0x1bb)],'type':_0x759083[_0x48f804(0x24b)],'side':_0x759083['side'],'reverse':_0x5f5c2a,'amount':formatResult(_0x759083[_0x48f804(0x22f)],0x8),'filled':formatResult(_0x759083[_0x48f804(0x22f)],0x8),'coinamount':formatResult(_0x377d9a,0x8),'price':formatResult(_0x759083[_0x48f804(0x22a)],0x8)});let _0x22c5a9;if(_0x759083[_0x48f804(0x200)]==_0x48f804(0x1f0)&&_0x5f5c2a==![])_0x22c5a9=-_0x759083[_0x48f804(0x2a8)]*_0x759083[_0x48f804(0x22a)];if(_0x759083[_0x48f804(0x200)]=='buy'&&_0x5f5c2a==!![])_0x22c5a9=_0x759083['amount'];if(_0x759083[_0x48f804(0x200)]=='sell'&&_0x5f5c2a==![])_0x22c5a9=_0x759083[_0x48f804(0x2a8)]*_0x759083[_0x48f804(0x22a)];if(_0x759083[_0x48f804(0x200)]==_0x48f804(0x247)&&_0x5f5c2a==!![])_0x22c5a9=-_0x759083[_0x48f804(0x2a8)];_0x5506f4[_0x48f804(0x282)]({'date':_0x345536,'coin':'BTC','coinamount':formatResult(_0x22c5a9,0x8)});});}_0x5506f4[_0x48dae3(0x1c4)]((_0x1dba4b,_0x394734)=>_0x1dba4b[_0x48dae3(0x1e2)]>_0x394734[_0x48dae3(0x1e2)]?0x1:_0x394734['timestamp']>_0x1dba4b[_0x48dae3(0x1e2)]?-0x1:0x0),dbLogs[_0x48dae3(0x27d)]('logs')[_0x48dae3(0x1e0)]()[_0x48dae3(0x1d7)](),_0x5506f4['forEach'](_0x24ebad=>{const _0x2facaf=_0x48dae3;let _0x4772cb;_0x24ebad[_0x2facaf(0x1e3)]!=_0x2facaf(0x1fa)&&(_0x4772cb={'time':_0x24ebad[_0x2facaf(0x1e2)],'type':_0x2facaf(0x21f),'event':_0x2facaf(0x246)+_0x24ebad[_0x2facaf(0x1bb)]+'\x20'+_0x24ebad[_0x2facaf(0x200)]+'\x20#'+_0x24ebad[_0x2facaf(0x2a8)]+'\x20@'+_0x24ebad[_0x2facaf(0x22a)]},dbLogs[_0x2facaf(0x27d)]('logs')[_0x2facaf(0x282)](_0x4772cb)[_0x2facaf(0x1d7)]());});const _0x55c2f1=fns[_0x48dae3(0x26d)]({'start':new Date(_0x47045b[_0x48dae3(0x241)]),'end':new Date()})[_0x48dae3(0x226)](_0x5b4dbd=>fns[_0x48dae3(0x26b)](_0x5b4dbd,_0x48dae3(0x1f9)));let _0x209fb0=[];_0x47045b[_0x48dae3(0x276)]['forEach'](_0x137425=>{const _0x426330=_0x48dae3;if(!_0x137425[_0x426330(0x2a1)]){_0x209fb0[_0x137425[_0x426330(0x1e3)]]=[];let _0x20c797=_0x137425['startnumber'];_0x55c2f1[_0x426330(0x202)]((_0x5cb43a,_0x49fdf1)=>{const _0x12559d=_0x426330;let _0x2f7a62=_0x5506f4[_0x12559d(0x272)](_0xd5e4a6=>_0xd5e4a6[_0x12559d(0x1e3)]==_0x137425[_0x12559d(0x1e3)]&&_0xd5e4a6['date']==_0x5cb43a);if(_0x2f7a62[_0x12559d(0x1b9)]!=0x0){let _0x42a218=_0x2f7a62[_0x12559d(0x1ea)]((_0x46901d,_0x5e58c5)=>{const _0x1dd812=_0x12559d;return _0x46901d+=_0x5e58c5[_0x1dd812(0x243)],_0x46901d;},0x0);_0x20c797+=_0x42a218;}_0x209fb0[_0x137425['coin']][_0x5cb43a]=_0x20c797;});}});const _0x210ed4=[..._0x3118ab];_0x210ed4['push']({'coin':stablecoins['eur'][_0x48dae3(0x1e3)],'symbol':stablecoins[_0x48dae3(0x26f)][_0x48dae3(0x1bb)]}),_0x210ed4['push']({'coin':stablecoins[_0x48dae3(0x21c)][_0x48dae3(0x1e3)],'symbol':stablecoins[_0x48dae3(0x21c)][_0x48dae3(0x1bb)]});let _0x3f8fc4=[];for(const _0x3a34a0 of _0x210ed4){_0x3f8fc4[_0x3a34a0[_0x48dae3(0x1e3)]]=await getCloses(_0x3a34a0['symbol'],new Date(_0x47045b[_0x48dae3(0x241)]));}dbPerformance[_0x48dae3(0x27d)]('data')[_0x48dae3(0x1e0)]()[_0x48dae3(0x1d7)](),_0x55c2f1[_0x48dae3(0x202)]((_0x39fcb7,_0x273e84)=>{const _0x3c7f37=_0x48dae3;let _0x2d55b0,_0x325138=[];_0x273e84==0x0?(_0x47045b[_0x3c7f37(0x276)]['forEach'](_0x15f443=>{const _0x2f3cee=_0x3c7f37;!_0x15f443[_0x2f3cee(0x2a1)]&&_0x325138[_0x2f3cee(0x282)]({'coin':_0x15f443[_0x2f3cee(0x1e3)],'number':_0x15f443['startnumber'],'price':_0x15f443[_0x2f3cee(0x290)]});}),_0x2d55b0={'date':_0x39fcb7,'eur':_0x3f8fc4[stablecoins['eur'][_0x3c7f37(0x1e3)]][_0x273e84],'usd':_0x3f8fc4[stablecoins[_0x3c7f37(0x21c)][_0x3c7f37(0x1e3)]][_0x273e84],'coins':_0x325138}):(_0x47045b[_0x3c7f37(0x276)][_0x3c7f37(0x202)](_0x4895cb=>{const _0x1e6fd8=_0x3c7f37;!_0x4895cb['excluded']&&_0x325138[_0x1e6fd8(0x282)]({'coin':_0x4895cb[_0x1e6fd8(0x1e3)],'number':_0x209fb0[_0x4895cb[_0x1e6fd8(0x1e3)]][_0x39fcb7],'price':_0x4895cb[_0x1e6fd8(0x1e3)]==_0x1e6fd8(0x1fa)?0x1:_0x3f8fc4[_0x4895cb[_0x1e6fd8(0x1e3)]][_0x273e84]});}),_0x2d55b0={'date':_0x39fcb7,'eur':_0x3f8fc4[stablecoins[_0x3c7f37(0x26f)]['coin']][_0x273e84],'usd':_0x3f8fc4[stablecoins[_0x3c7f37(0x21c)][_0x3c7f37(0x1e3)]][_0x273e84],'coins':_0x325138}),dbPerformance[_0x3c7f37(0x27d)](_0x3c7f37(0x25b))[_0x3c7f37(0x282)](_0x2d55b0)[_0x3c7f37(0x1d7)]();}),emitPerformance(),await resetCoinResults();for(let _0x2ac4d1 of _0x5506f4){_0x2ac4d1['coin']!=_0x48dae3(0x1fa)&&await updateCoinResults(_0x2ac4d1);}logHistory(_0x48dae3(0x1fe),_0x48dae3(0x294));}catch(_0x51150b){await handleError(_0x51150b,_0x48dae3(0x1e8));}}async function getCloses(_0x4e26fa,_0x438ccb,_0x510bff=undefined){const _0x235deb=_0x48c3e9,_0x5d3c72='1d';let _0x515090,_0x34e71a;const _0x35fb8e=fns[_0x235deb(0x1c1)](new Date(),_0x438ccb)+0x1;try{const _0x33b26d=exchange[_0x235deb(0x1d4)]()-_0x35fb8e*0x18*0xe10*0x3e8;_0x515090=await exchange[_0x235deb(0x28c)](_0x4e26fa,_0x5d3c72,_0x33b26d,_0x510bff),_0x34e71a=await exchange[_0x235deb(0x1dd)](_0x4e26fa);}catch(_0x34aa61){await handleError(_0x34aa61,_0x235deb(0x25a));}let _0x5cbe29=ohlcvToCloses(_0x515090);return _0x5cbe29['push'](_0x34e71a[_0x4e26fa][_0x235deb(0x1da)]),_0x5cbe29;}function ohlcvToCloses(_0x40d83f){const _0xb3fee4=_0x48c3e9;let _0x36b2d0=[];return _0x40d83f[_0xb3fee4(0x202)](function(_0x5734d0){const _0x3b69f4=_0xb3fee4;_0x36b2d0[_0x3b69f4(0x282)](_0x5734d0[0x4]);}),_0x36b2d0;}function getConfiguration(_0x119d60){const _0x30852e=_0x48c3e9;let _0x166f7f=dbConfig[_0x30852e(0x27d)](_0x30852e(0x24e))[_0x30852e(0x1bf)]({'botID':_0x119d60})[_0x30852e(0x1bc)]();if(_0x166f7f){let _0x2eb037=![];!_0x166f7f[_0x30852e(0x269)]&&(_0x166f7f={..._0x166f7f,'exchange':_0x30852e(0x212)},_0x2eb037=!![]),!_0x166f7f[_0x30852e(0x1e9)]&&(_0x166f7f={..._0x166f7f,'ordertype':_0x30852e(0x1d2)},_0x2eb037=!![]),!_0x166f7f['timeout']&&(_0x166f7f={..._0x166f7f,'timeout':0x14},_0x2eb037=!![]),_0x2eb037&&(_0x166f7f={'botID':_0x166f7f[_0x30852e(0x2b8)],'exchange':_0x166f7f[_0x30852e(0x269)],'apiKey':_0x166f7f[_0x30852e(0x270)],'apiSecret':_0x166f7f[_0x30852e(0x24a)],'botname':_0x166f7f[_0x30852e(0x251)],'threshold':_0x166f7f[_0x30852e(0x2a5)],'ordertype':_0x166f7f[_0x30852e(0x1e9)],'timeout':_0x166f7f['timeout'],'startdate':_0x166f7f[_0x30852e(0x241)],'recreate':_0x166f7f[_0x30852e(0x253)],'timeshift':_0x166f7f[_0x30852e(0x252)],'headless':_0x166f7f[_0x30852e(0x27a)],'cooldown':_0x166f7f[_0x30852e(0x1c6)],'portfolio':_0x166f7f[_0x30852e(0x276)]},dbConfig[_0x30852e(0x27d)](_0x30852e(0x24e))[_0x30852e(0x1e0)]()[_0x30852e(0x1d7)](),dbConfig[_0x30852e(0x27d)](_0x30852e(0x24e))[_0x30852e(0x282)](_0x166f7f)['write']());}else _0x166f7f={'botID':_0x119d60,'exchange':_0x30852e(0x212),'apiKey':'','apiSecret':'','botname':_0x30852e(0x258)+_0x119d60,'threshold':'3','ordertype':_0x30852e(0x1d2),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x30852e(0x252)],'headless':![],'cooldown':0xa,'portfolio':[]};return _0x166f7f;}function emittedConfiguration(){const _0x443259=_0x48c3e9;let _0x1d641c;return config[_0x443259(0x270)]==''?_0x1d641c=config:_0x1d641c={...config,'apiKey':_0x443259(0x267),'apiSecret':_0x443259(0x267)},_0x1d641c;}function getSettings(){const _0x49da62=_0x48c3e9;return dbSettings[_0x49da62(0x27d)]('settings')[_0x49da62(0x1bc)]();}function getSecure(){const _0x406115=_0x48c3e9;return dbSecure[_0x406115(0x27d)](_0x406115(0x2af))[_0x406115(0x1bc)]()||{};}function updateTimeshift(_0x4ea862){const _0x187900=_0x48c3e9;let _0x54d4ed=dbConfig[_0x187900(0x27d)](_0x187900(0x24e))[_0x187900(0x1bf)]({'botID':botID})[_0x187900(0x1bc)]();_0x54d4ed&&dbConfig[_0x187900(0x27d)](_0x187900(0x24e))[_0x187900(0x1bf)]({'botID':botID})[_0x187900(0x259)]({'timeshift':_0x4ea862})[_0x187900(0x1d7)](),config[_0x187900(0x252)]=_0x4ea862,proxyEmit(_0x187900(0x279),emittedConfiguration());}async function storeConfiguration(_0x5570c2){const _0x35655d=_0x48c3e9;let _0x29dc72=dbConfig[_0x35655d(0x27d)](_0x35655d(0x24e))[_0x35655d(0x1bf)]({'botID':botID})['value']();_0x5570c2={..._0x5570c2,'apiKey':crypt[_0x35655d(0x225)](secure[_0x35655d(0x238)],_0x5570c2[_0x35655d(0x270)])[_0x35655d(0x1e1)],'apiSecret':crypt['decrypt'](secure[_0x35655d(0x238)],_0x5570c2[_0x35655d(0x24a)])[_0x35655d(0x1e1)]};if(_0x29dc72){if(_0x5570c2[_0x35655d(0x270)]==_0x35655d(0x267))_0x5570c2[_0x35655d(0x270)]=config['apiKey'];if(_0x5570c2[_0x35655d(0x24a)]==_0x35655d(0x267))_0x5570c2[_0x35655d(0x24a)]=config[_0x35655d(0x24a)];dbConfig[_0x35655d(0x27d)](_0x35655d(0x24e))[_0x35655d(0x1bf)]({'botID':botID})[_0x35655d(0x259)](_0x5570c2)[_0x35655d(0x1d7)]();}else dbConfig[_0x35655d(0x27d)](_0x35655d(0x24e))[_0x35655d(0x282)](_0x5570c2)[_0x35655d(0x1d7)](),process[_0x35655d(0x1ed)]({'status':'enabled','live':_0x35655d(0x23b)});config={..._0x5570c2};if(config[_0x35655d(0x253)])await recreateHistory(config);else await setStartDatePerformance(config);process[_0x35655d(0x1ed)]({'botname':_0x5570c2['botname']}),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x17b486){const _0x3d1464=_0x48c3e9,_0x4fce95={...config,'headless':_0x17b486['headless']};let _0x1b20a1=dbConfig[_0x3d1464(0x27d)](_0x3d1464(0x24e))[_0x3d1464(0x1bf)]({'botID':botID})[_0x3d1464(0x1bc)]();_0x1b20a1&&dbConfig['get'](_0x3d1464(0x24e))['find']({'botID':botID})['assign'](_0x4fce95)[_0x3d1464(0x1d7)](),config={..._0x4fce95},proxyEmit('configuration',emittedConfiguration());}function noslash(_0x40ddf8){const _0x2a0e08=_0x48c3e9;return _0x40ddf8[_0x2a0e08(0x29b)]('/','');}function updateNumberCoins(_0x3ebd39){const _0x270db8=_0x48c3e9;_0x3ebd39[_0x270db8(0x223)]&&_0x3ebd39['eventType']==_0x270db8(0x203)&&_0x3ebd39[_0x270db8(0x1f1)][_0x270db8(0x202)](_0x2d8640=>{const _0xd5d53=_0x270db8;let _0x3f99db=currentCoins[_0xd5d53(0x1bf)](_0x5317c7=>_0x5317c7['coin']==_0x2d8640[_0xd5d53(0x1d8)]);if(_0x3f99db)_0x3f99db[_0xd5d53(0x21e)]=Number(_0x2d8640[_0xd5d53(0x208)]);}),_0x3ebd39['eventType']&&_0x3ebd39[_0x270db8(0x223)]==_0x270db8(0x275)&&(_0x3ebd39[_0x270db8(0x25f)]==_0x270db8(0x215)&&_0x3ebd39[_0x270db8(0x21d)]==_0x270db8(0x1e6)&&lastOrders[_0x270db8(0x202)](_0x32f5c4=>{const _0x4ac35d=_0x270db8;if(_0x32f5c4[_0x4ac35d(0x2b9)]==_0x3ebd39['orderId']){if(_0x32f5c4[_0x4ac35d(0x2a0)])_0x32f5c4[_0x4ac35d(0x22f)]=_0x3ebd39['accumulatedQuantity']*_0x32f5c4['price'];else _0x32f5c4[_0x4ac35d(0x22f)]=_0x3ebd39['accumulatedQuantity'];}}));}async function getCoins(_0x59ca46=!![]){const _0x378353=_0x48c3e9;let _0x5a0f83,_0x1cd863=[],_0x72aa9d=[],_0x6dbae6=[];try{_0x5a0f83=await exchange[_0x378353(0x289)](),mybalances=_0x5a0f83[_0x378353(0x257)];if(!_0x59ca46)for(const [_0x460d21,_0x31396a]of Object[_0x378353(0x1f6)](mybalances)){_0x6dbae6[_0x378353(0x282)](_0x460d21);}else config[_0x378353(0x276)][_0x378353(0x202)](_0x293143=>{const _0xc304a9=_0x378353;if(!_0x293143[_0xc304a9(0x2a1)])_0x6dbae6['push'](_0x293143[_0xc304a9(0x1e3)]);});for(const [_0x229f1e,_0x3ce8f8]of Object['entries'](mybalances)){if(_0x6dbae6[_0x378353(0x1ad)](_0x229f1e)){if((_0x3ce8f8[_0x378353(0x224)]()!=0x0||config[_0x378353(0x276)][_0x378353(0x1bf)](_0x4d1ef7=>_0x4d1ef7['coin']==_0x229f1e))&&(allSymbols[_0x378353(0x1ad)](_0x229f1e+_0x378353(0x262))||_0x229f1e=='BTC'))_0x72aa9d['push']({'coin':_0x229f1e,'symbol':_0x229f1e+'/BTC','reverse':![],'number':_0x3ce8f8}),_0x229f1e!=_0x378353(0x1fa)&&_0x1cd863[_0x378353(0x282)](_0x229f1e+_0x378353(0x262));else(_0x3ce8f8[_0x378353(0x224)]()!=0x0||config[_0x378353(0x276)][_0x378353(0x1bf)](_0x33ee26=>_0x33ee26[_0x378353(0x1e3)]==_0x229f1e))&&allSymbols[_0x378353(0x1ad)](_0x378353(0x28b)+_0x229f1e)&&(_0x72aa9d[_0x378353(0x282)]({'coin':_0x229f1e,'symbol':_0x378353(0x28b)+_0x229f1e,'reverse':!![],'number':_0x3ce8f8}),_0x229f1e!=_0x378353(0x1fa)&&_0x1cd863['push']('BTC/'+_0x229f1e));}}}catch(_0x23ddc4){if(!_0x59ca46){if(_0x23ddc4['toString']()[_0x378353(0x1ad)]('API-key\x20format\x20invalid'))return logHistory(_0x378353(0x232),_0x378353(0x214)),![];else{if(_0x23ddc4['toString']()['includes']('AuthenticationError'))return logHistory('error',_0x378353(0x1fc)),![];else{if(_0x23ddc4[_0x378353(0x224)]()['includes'](_0x378353(0x25e)))return logHistory(_0x378353(0x232),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x23ddc4,'getCoins()');}}}else await handleError(_0x23ddc4,'getCoins()');}return _0x72aa9d;}async function getPortfolio(_0xdb2417){const _0x2bc047=_0x48c3e9;let _0x33e338=[],_0x27b02b=[],_0x188388,_0x4f52f5=[],_0x3687dc,_0x7cb980;_0xdb2417[_0x2bc047(0x270)]==='************'||_0xdb2417[_0x2bc047(0x24a)]===_0x2bc047(0x267)?(_0x3687dc=config[_0x2bc047(0x270)],_0x7cb980=config[_0x2bc047(0x24a)]):(_0x3687dc=_0xdb2417[_0x2bc047(0x270)],_0x7cb980=_0xdb2417[_0x2bc047(0x24a)]);await initExchange(_0x3687dc,_0x7cb980);let _0x436f7e=await loadSymbols();if(_0x436f7e){_0x4f52f5=await getCoins(![]);if(_0x4f52f5===![])proxyEmit(_0x2bc047(0x276),![]);else{_0x4f52f5[_0x2bc047(0x202)](_0x4c2e71=>{const _0x31c9ab=_0x2bc047;_0x33e338['push'](_0x4c2e71[_0x31c9ab(0x1bb)]);});try{_0x27b02b=await exchange[_0x2bc047(0x1dd)](_0x33e338);}catch(_0x1f89a5){await handleError(_0x1f89a5,_0x2bc047(0x1fd));}_0x4f52f5['forEach'](_0x2a4960=>{const _0x4c5097=_0x2bc047;_0x2a4960[_0x4c5097(0x1e3)]!='BTC'?_0x188388=_0x2a4960['reverse']?0x1/_0x27b02b[_0x2a4960['symbol']][_0x4c5097(0x1da)]:_0x27b02b[_0x2a4960[_0x4c5097(0x1bb)]]['last']:_0x188388=0x1,_0x2a4960['price']=formatResult(_0x188388,0x8);}),proxyEmit(_0x2bc047(0x276),_0x4f52f5);}}else proxyEmit(_0x2bc047(0x276),![]);}function checkMinimums(_0x5009d8){const _0x4f9240=_0x48c3e9;let _0x7b2546=!![];const _0x320004=!_0x5009d8[_0x4f9240(0x2a0)]?markets[_0x5009d8[_0x4f9240(0x1bb)]]['limits'][_0x4f9240(0x2a8)][_0x4f9240(0x20a)]:markets[_0x5009d8[_0x4f9240(0x1bb)]][_0x4f9240(0x2a6)][_0x4f9240(0x2b7)][_0x4f9240(0x20a)],_0x4e6834=!_0x5009d8['reverse']?markets[_0x5009d8['symbol']][_0x4f9240(0x2a6)][_0x4f9240(0x2b7)][_0x4f9240(0x20a)]:markets[_0x5009d8['symbol']][_0x4f9240(0x2a6)][_0x4f9240(0x2a8)][_0x4f9240(0x20a)];if(Math[_0x4f9240(0x1af)](_0x5009d8[_0x4f9240(0x293)])<_0x320004)_0x7b2546=![];if(Math[_0x4f9240(0x1af)](_0x5009d8[_0x4f9240(0x293)])*_0x5009d8[_0x4f9240(0x1da)]<_0x4e6834)_0x7b2546=![];return _0x7b2546;}async function getBalances(){const _0x1533f3=_0x48c3e9;let _0x68e033=0x0,_0x3887ee;const _0x59e40d=config[_0x1533f3(0x2a5)];currentCoins['forEach'](_0x5b9453=>{const _0x5a2186=_0x1533f3;if(_0x5b9453[_0x5a2186(0x1e3)]!=_0x5a2186(0x1fa)){let _0x369098=global[_0x5a2186(0x1ce)][noslash(_0x5b9453[_0x5a2186(0x1bb)])];_0x3887ee=_0x5b9453[_0x5a2186(0x2a0)]?0x1/_0x369098:_0x369098;}else _0x3887ee=0x1;let _0x187df3=_0x5b9453[_0x5a2186(0x21e)]*_0x3887ee;_0x68e033+=_0x187df3,_0x5b9453[_0x5a2186(0x1da)]=formatResult(Number(_0x3887ee),0x8),_0x5b9453[_0x5a2186(0x1bc)]=_0x187df3;}),currentCoins[_0x1533f3(0x202)](_0x46d0b0=>{const _0x247f26=_0x1533f3;let _0x57085e=config[_0x247f26(0x276)][_0x247f26(0x1bf)](_0x340bca=>_0x340bca['coin']==_0x46d0b0[_0x247f26(0x1e3)]),_0x3f9a79=Number(_0x57085e['distribution']),_0x9106b2=_0x46d0b0[_0x247f26(0x1bc)]/_0x68e033*0x64,_0x5680a4=_0x3f9a79*_0x68e033/0x64/_0x46d0b0[_0x247f26(0x1da)]-_0x46d0b0['number'];_0x46d0b0[_0x247f26(0x221)]=formatResult(_0x9106b2,0x3),_0x46d0b0[_0x247f26(0x256)]=formatResult(_0x3f9a79,0x3),_0x46d0b0[_0x247f26(0x293)]=formatResult(_0x5680a4,0x8),_0x46d0b0[_0x247f26(0x200)]='',_0x46d0b0[_0x247f26(0x210)]='';if(_0x46d0b0[_0x247f26(0x1e3)]!='BTC'){if(_0x46d0b0[_0x247f26(0x221)]>_0x3f9a79)_0x46d0b0[_0x247f26(0x200)]=_0x247f26(0x247),_0x46d0b0[_0x247f26(0x210)]=checkMinimums(_0x46d0b0);else _0x46d0b0[_0x247f26(0x221)]<_0x3f9a79&&(_0x46d0b0[_0x247f26(0x200)]=_0x247f26(0x1f0),_0x46d0b0['valid']=checkMinimums(_0x46d0b0));}_0x46d0b0[_0x247f26(0x292)]=_0x46d0b0['distribution']/_0x46d0b0[_0x247f26(0x256)]-0x1;}),currentCoins[_0x1533f3(0x1c4)]((_0x302c76,_0x3f5d03)=>_0x302c76[_0x1533f3(0x292)]<_0x3f5d03[_0x1533f3(0x292)]?0x1:_0x3f5d03['delta']<_0x302c76[_0x1533f3(0x292)]?-0x1:0x0);const _0x3f9f35=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3f9f35[_0x1533f3(0x26f)],'usd':_0x3f9f35[_0x1533f3(0x21c)],'portfolio':JSON[_0x1533f3(0x1ee)](currentCoins),'threshold':_0x59e40d},proxyEmit(_0x1533f3(0x1f1),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x59e40d});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x27f03b=_0x48c3e9;if(!lastBalances)return;let _0xaaa158=await getStartingBalances(![]),_0x41e0f5=[],_0x33da0a=[],_0x533836;JSON[_0x27f03b(0x2aa)](lastBalances[_0x27f03b(0x276)])[_0x27f03b(0x202)](_0x4de097=>{const _0x1a9d98=_0x27f03b;let _0x376b1f={'coin':_0x4de097[_0x1a9d98(0x1e3)],'number':_0x4de097[_0x1a9d98(0x21e)],'price':_0x4de097['last']};_0x41e0f5[_0x1a9d98(0x282)](_0x376b1f);if(!_0xaaa158[_0x1a9d98(0x1c3)]||!_0xaaa158[_0x1a9d98(0x1c3)][_0x1a9d98(0x1bf)](_0x48b6cd=>_0x48b6cd[_0x1a9d98(0x1e3)]==_0x4de097[_0x1a9d98(0x1e3)]&&_0x48b6cd[_0x1a9d98(0x21e)]!=0x0))_0x33da0a['push'](_0x376b1f);});const _0x3c763d=await getFiat();_0x533836={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x3c763d[_0x27f03b(0x26f)],'usd':_0x3c763d[_0x27f03b(0x21c)],'coins':_0x41e0f5};let _0x1db317=dbPerformance['get'](_0x27f03b(0x25b))[_0x27f03b(0x1bf)]({'date':_0x533836[_0x27f03b(0x1b2)]})[_0x27f03b(0x1bc)]();_0x1db317?dbPerformance['get'](_0x27f03b(0x25b))[_0x27f03b(0x1bf)]({'date':_0x533836['date']})[_0x27f03b(0x259)](_0x533836)['write']():dbPerformance[_0x27f03b(0x27d)](_0x27f03b(0x25b))[_0x27f03b(0x282)](_0x533836)[_0x27f03b(0x1d7)](),lastPerformanceStored=getHour();}function _0x4261(){const _0x1b4757=[')\x20|\x20Binance\x20exchange\x20is\x20not\x20available\x20-\x20pausing\x20bot\x20for\x205\x20minutes','valid','Pauses:\x20','binance','getFullYear','Binance\x20API\x20key\x20is\x20invalid','LIMIT','wss://stream.binance.com:9443','Order(s)\x20validated\x20-\x20balancing\x20resumed','logs','placeOrder','shift','getHours','usd','orderStatus','number','order','apply','distribution','getDate','eventType','toString','decrypt','map','\x20|\x20Error\x20occured\x20-\x20pausing\x20bot\x20for\x205\x20minutes','wsKey','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','price','hybrid-crypto-js','timeout','sells','padStart','filled','add','cancelOrder()','error','getSeconds','\x20orders\x20in\x20less\x20than\x20','InsufficientFunds','bot-','closeWs','privateKey','splice','4791402gIWaJS','running','limit','BTC/BUSD','Order\x20filled:\x20','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','limit-high','startdate','kline','coinamount','DDoSProtection','DAI/','Order:\x20','sell','toLowerCase','RSA-OAEP','apiSecret','type','\x20hour','ask','bot','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)\x20-\x20pausing\x20bot\x20for\x205\x20minutes','keys','botname','timeshift','recreate','14571UOjhLD','BTCEUR','target','total','Bot\x20','assign','getCloses()','data','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','ExchangeNotAvailable','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','orderType','buys','parseISO','/BTC','Now\x20\x20\x20:\x20','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','storeConfiguration',':\x20Bot\x20','************','datetime','exchange','slice','format','sortBy','eachDayOfInterval','subscribeSpotKline','eur','apiKey','5sidCIY','filter','argv','Delta\x20:\x20','executionReport','portfolio','Crypt','spot','configuration','headless','startnumber','page','get','close','getMinutes','round','Limit\x20(low-margin)','push','event','bid','2165204LxJgvj','binanceus','001','coin-loading-progress','fetchBalance','function','BTC/','fetchOHLCV','./version.json','lowdb/adapters/FileSync','breakeven','startprice','Order(s)\x20not\x20validated\x20after\x20','delta','trade','Performance\x20recreation\x20completed\x20successfully','date-fns','MIN_NOTIONAL','realized','isArray','event-history',',\x20must\x20be\x20a\x203\x20digit\x20number','replace','existsSync','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20>\x20','starting-balances','reverse','excluded','Executed\x20','exit','toFixed','threshold','limits','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','amount','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','parse','userData','Order(s)\x20filled\x20-\x20balancing\x20resumed','BTC/USDT','currency','secure','\x20|\x20Error\x20details:\x20','yyyy/MM/dd\x20HH:mm:ss','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','BNBBTC','\x20-\x20','2lrcari','createOrder','cost','botID','orderId','includes','getFiat()','abs','\x20order:\x20','Market','date','API-key\x20format\x20invalid','initclient','search','Error:\x20Invalid\x20argument\x20','BTCUSDT','3254336imLuto','length','getMonth','symbol','value','(((.+)+)+)+$','bb-settings.json','find','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','differenceInCalendarDays','wsMarket','coins','sort','placeOrder()','cooldown','-events.json','getStartingBalances','emitHistory','-config.json','Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','differenceInSeconds','log','ticker','\x20minutes\x20-\x20balancing\x20resumed','WebSockets(','InvalidNonce','market','test','milliseconds','2129748HDBvfP','fee','write','asset','cancelOrder','last','constructor','-results.json','fetchTickers','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','remove','message','timestamp','coin','556565oIWXZP','mkdirSync','FILLED','Order\x20amount\x20is\x20invalid:\x20','recreateHistory()','ordertype','reduce','initws()','OrderNotFound','send','stringify','AuthenticationError','buy','balances','limit-low','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','performance','fetchOrders','entries','Unfilled\x20order(s)\x20canceled\x20after\x20','has','yyyy/MM/dd','BTC','886356UhTYhH','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','getPortfolio()','success','indexOf','side','sha256','forEach','outboundAccountPosition','defaults','2490ZORTAz','ccxt','args','availableBalance','getTime','min','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','\x20|\x20Binance\x20exchange\x20is\x20not\x20available\x20-\x20pausing\x20bot\x20for\x205\x20minutes','lowdb','./config/'];_0x4261=function(){return _0x1b4757;};return _0x4261();}function emitPerformance(){const _0x5514f7=_0x48c3e9;if(dbPerformance[_0x5514f7(0x1f8)](_0x5514f7(0x25b))[_0x5514f7(0x1bc)]()){let _0x2996dc=dbPerformance[_0x5514f7(0x27d)](_0x5514f7(0x25b))[_0x5514f7(0x26c)](_0x5514f7(0x1b2))[_0x5514f7(0x1bc)]();proxyEmit('performance',_0x2996dc),lastPerformanceEmitted=getDate();}else proxyEmit(_0x5514f7(0x1f4),[]);}async function getStartingBalances(_0x28acd5=!![]){const _0x2b1202=_0x48c3e9;let _0x442560=dbPerformance[_0x2b1202(0x27d)]('data')[_0x2b1202(0x1bf)]({'date':config[_0x2b1202(0x241)]})['value']();config[_0x2b1202(0x270)]!=''&&!_0x442560&&(await setStartDatePerformance(config),_0x442560=dbPerformance[_0x2b1202(0x27d)](_0x2b1202(0x25b))[_0x2b1202(0x1bf)]({'date':config['startdate']})[_0x2b1202(0x1bc)]());if(config[_0x2b1202(0x270)]==''||!_0x442560)return{};let _0x319643=0x0,_0x172b22=0x0,_0x58bfc=0x0,_0x36f2f7=[],_0x19f790=0x0;config['portfolio'][_0x2b1202(0x202)](_0x47507a=>{const _0x5e1762=_0x2b1202;!_0x47507a[_0x5e1762(0x2a1)]&&(_0x36f2f7[_0x19f790]={'coin':_0x47507a[_0x5e1762(0x1e3)],'symbol':_0x47507a['symbol'],'number':_0x47507a[_0x5e1762(0x27b)],'price':_0x47507a[_0x5e1762(0x290)]},_0x319643+=_0x47507a[_0x5e1762(0x290)]*_0x47507a[_0x5e1762(0x27b)],_0x172b22+=_0x47507a[_0x5e1762(0x290)]*_0x47507a['startnumber']*_0x442560[_0x5e1762(0x26f)],_0x58bfc+=_0x47507a['startprice']*_0x47507a[_0x5e1762(0x27b)]*_0x442560[_0x5e1762(0x21c)],_0x19f790++);});let _0x2f870d={'btc':_0x319643,'eur':_0x172b22,'usd':_0x58bfc,'coins':_0x36f2f7};if(_0x28acd5)proxyEmit(_0x2b1202(0x29f),_0x2f870d);return _0x2f870d;}function headlessMode(_0x765c2c){const _0x3b1098=_0x48c3e9;let _0x43c3f3=_0x765c2c[_0x3b1098(0x276)],_0x321195=_0x765c2c[_0x3b1098(0x2a5)],_0x3b07f7=[];for(let _0xe3ad89 of _0x43c3f3){if(_0xe3ad89[_0x3b1098(0x1e3)]!=_0x3b1098(0x1fa)){if(_0xe3ad89['distribution']/_0xe3ad89[_0x3b1098(0x256)]-0x1>=_0x321195/0x64){if(_0xe3ad89['valid'])_0x3b07f7[_0x3b1098(0x282)](_0xe3ad89);}else{if(_0xe3ad89['distribution']/_0xe3ad89[_0x3b1098(0x256)]-0x1<=-_0x321195/0x64){if(_0xe3ad89[_0x3b1098(0x210)])_0x3b07f7[_0x3b1098(0x282)](_0xe3ad89);}}}}_0x3b07f7[_0x3b1098(0x1b9)]>0x0&&placeOrder(_0x3b07f7);}function symbolToCoin(_0x2630bb){const _0x53699b=_0x48c3e9;let _0x2fb253;if(_0x2630bb['includes']('/BTC'))_0x2fb253=_0x2630bb[_0x53699b(0x29b)](_0x53699b(0x262),'');if(_0x2630bb[_0x53699b(0x1ad)](_0x53699b(0x28b)))_0x2fb253=_0x2630bb['replace'](_0x53699b(0x28b),'');return _0x2fb253;}async function validateOrders(_0x10ad4e=0x0){const _0x476606=_0x48c3e9;let _0x58127a=[],_0x33dfbb=config[_0x476606(0x1e9)]==_0x476606(0x1d2)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x476606(0x22c)]*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x270597=>{const _0x3fcf8b=_0x476606;let _0x384a39=previousCoins['find'](_0x7efb56=>_0x7efb56[_0x3fcf8b(0x1e3)]==symbolToCoin(_0x270597[_0x3fcf8b(0x1bb)])),_0x11b6ef=currentCoins[_0x3fcf8b(0x1bf)](_0x4b7750=>_0x4b7750['coin']==symbolToCoin(_0x270597[_0x3fcf8b(0x1bb)])),_0x45c3a1,_0x888d9f;_0x270597[_0x3fcf8b(0x200)]==_0x3fcf8b(0x1f0)&&!_0x270597[_0x3fcf8b(0x2a0)]||_0x270597[_0x3fcf8b(0x200)]=='sell'&&_0x270597[_0x3fcf8b(0x2a0)]?(_0x45c3a1=_0x384a39[_0x3fcf8b(0x21e)]+0.9*_0x270597[_0x3fcf8b(0x22f)],_0x888d9f=_0x384a39[_0x3fcf8b(0x21e)]+1.1*_0x270597[_0x3fcf8b(0x22f)]):(_0x45c3a1=_0x384a39['number']-1.1*_0x270597[_0x3fcf8b(0x22f)],_0x888d9f=_0x384a39[_0x3fcf8b(0x21e)]-0.9*_0x270597[_0x3fcf8b(0x22f)]);const _0x4fc73f=_0x270597[_0x3fcf8b(0x22f)]!=0x0&&_0x11b6ef[_0x3fcf8b(0x21e)]>=_0x45c3a1&&_0x11b6ef[_0x3fcf8b(0x21e)]<=_0x888d9f;_0x58127a[_0x3fcf8b(0x282)](_0x4fc73f);if(_0x4fc73f&&config[_0x3fcf8b(0x1e9)]!=_0x3fcf8b(0x1d2)){if(_0x270597['reverse'])logHistory(_0x3fcf8b(0x21f),'Order\x20filled:\x20'+_0x270597[_0x3fcf8b(0x1bb)]+'\x20'+_0x270597[_0x3fcf8b(0x200)]+'\x20#'+formatResult(_0x270597[_0x3fcf8b(0x22f)]/_0x270597[_0x3fcf8b(0x22a)],0x8)+'\x20@'+formatResult(_0x270597['price'],0x8));else logHistory(_0x3fcf8b(0x21f),_0x3fcf8b(0x23e)+_0x270597[_0x3fcf8b(0x1bb)]+'\x20'+_0x270597['side']+'\x20#'+formatResult(_0x270597[_0x3fcf8b(0x22f)],0x8)+'\x20@'+formatResult(_0x270597[_0x3fcf8b(0x22a)],0x8));}}),_0x58127a[_0x476606(0x202)]((_0x3ff32d,_0x250628)=>{const _0xffbb37=_0x476606;if(_0x3ff32d)lastOrders[_0xffbb37(0x239)](_0x250628,0x1);});if(_0x10ad4e<_0x33dfbb&&_0x58127a[_0x476606(0x1ad)](![])){if(_0x10ad4e==0x0){config[_0x476606(0x1e9)]==_0x476606(0x1d2)?logHistory(_0x476606(0x232),_0x476606(0x20b)):logHistory(_0x476606(0x232),_0x476606(0x2a9));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x10ad4e);},0xa*0x3e8);}else{(_0x10ad4e==0x1||_0x10ad4e==Math[_0x476606(0x280)](_0x33dfbb/0x2)||_0x10ad4e==_0x33dfbb-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x10ad4e);},validateOrderInterval);}}else{lockOrders=![];if(_0x10ad4e>0x0&&!_0x58127a[_0x476606(0x1ad)](![]))config[_0x476606(0x1e9)]==_0x476606(0x1d2)?logHistory(_0x476606(0x1fe),_0x476606(0x217)):logHistory(_0x476606(0x1fe),_0x476606(0x2ac));else _0x10ad4e>0x0&&_0x58127a['includes'](![])&&(config['ordertype']==_0x476606(0x1d2)?logHistory(_0x476606(0x1fe),_0x476606(0x291)+Math[_0x476606(0x280)](_0x33dfbb*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders[_0x476606(0x202)](async _0x10609e=>{const _0x37b040=_0x476606;try{const _0x1ce131=await exchange[_0x37b040(0x1d9)](_0x10609e[_0x37b040(0x2b9)],_0x10609e[_0x37b040(0x1bb)]);}catch(_0x509772){if(_0x509772[_0x37b040(0x224)]()[_0x37b040(0x1ad)](_0x37b040(0x1ec))){}else await handleError(_0x509772,_0x37b040(0x231));}}),logHistory(_0x476606(0x1fe),_0x476606(0x1f7)+Math['round'](_0x33dfbb*validateOrderInterval/0xea60)+_0x476606(0x1cf))));}}async function resetCoinResults(){const _0xa3d711=_0x48c3e9;dbCoinResults[_0xa3d711(0x27d)](_0xa3d711(0x1c3))['remove']()[_0xa3d711(0x1d7)]();let _0x50637f=await getStartingBalances(![]);_0x50637f[_0xa3d711(0x1c3)][_0xa3d711(0x202)](_0x34eda6=>{const _0x5d0e1b=_0xa3d711,_0x37b4ee=_0x34eda6[_0x5d0e1b(0x1bb)][_0x5d0e1b(0x1ad)](_0x5d0e1b(0x28b));if(_0x34eda6[_0x5d0e1b(0x1e3)]!='BTC'){let _0xdc8ea6={'coin':_0x34eda6[_0x5d0e1b(0x1e3)],'number':_0x34eda6[_0x5d0e1b(0x21e)],'breakeven':_0x34eda6['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5d0e1b(0x27d)]('coins')[_0x5d0e1b(0x282)](_0xdc8ea6)[_0x5d0e1b(0x1d7)]();}});}async function updateCoinResults(_0x44cace){const _0x3bab9b=_0x48c3e9;let _0x266584,_0x52b1f7,_0x18555b,_0x817099,_0x56698e,_0x8fdae2,_0x10c3f5=dbCoinResults[_0x3bab9b(0x27d)](_0x3bab9b(0x1c3))[_0x3bab9b(0x1bf)]({'coin':_0x44cace[_0x3bab9b(0x1e3)]})[_0x3bab9b(0x1bc)]();if(!_0x10c3f5)return;if(_0x44cace[_0x3bab9b(0x1d6)]&&_0x44cace[_0x3bab9b(0x1d6)][_0x3bab9b(0x2ae)]==_0x3bab9b(0x1fa))_0x266584=_0x44cace[_0x3bab9b(0x1d6)][_0x3bab9b(0x2b7)];else{if(_0x44cace[_0x3bab9b(0x1d6)]&&_0x44cace['fee'][_0x3bab9b(0x2ae)]=='BNB')_0x266584=_0x44cace[_0x3bab9b(0x1d6)][_0x3bab9b(0x2b7)]*global['ticker'][_0x3bab9b(0x2b3)];else _0x266584=0.001*_0x44cace[_0x3bab9b(0x22f)];}const _0x17b2f2=_0x44cace[_0x3bab9b(0x1bb)]['includes'](_0x3bab9b(0x28b));_0x17b2f2&&(_0x8fdae2={'coin':_0x44cace[_0x3bab9b(0x1e3)],'symbol':_0x44cace['symbol'],'filled':_0x44cace[_0x3bab9b(0x22f)]*_0x44cace['price'],'side':_0x44cace[_0x3bab9b(0x200)]=='sell'?'buy':_0x3bab9b(0x247),'price':0x1/_0x44cace['price']},_0x44cace={..._0x8fdae2});_0x44cace[_0x3bab9b(0x200)]=='buy'?_0x18555b=(_0x10c3f5[_0x3bab9b(0x28f)]*_0x10c3f5[_0x3bab9b(0x21e)]+_0x44cace[_0x3bab9b(0x22a)]*_0x44cace[_0x3bab9b(0x22f)])/(_0x10c3f5['number']+_0x44cace['filled']):_0x18555b=(_0x10c3f5[_0x3bab9b(0x28f)]*_0x10c3f5[_0x3bab9b(0x21e)]-_0x44cace[_0x3bab9b(0x22a)]*_0x44cace[_0x3bab9b(0x22f)])/(_0x10c3f5[_0x3bab9b(0x21e)]-_0x44cace[_0x3bab9b(0x22f)]);_0x44cace['side']==_0x3bab9b(0x1f0)?_0x817099=_0x10c3f5['realized']:_0x817099=_0x10c3f5[_0x3bab9b(0x297)]+(_0x44cace[_0x3bab9b(0x22a)]-_0x10c3f5[_0x3bab9b(0x28f)])*_0x44cace[_0x3bab9b(0x22f)];_0x52b1f7=_0x44cace[_0x3bab9b(0x200)]=='sell'?_0x10c3f5[_0x3bab9b(0x21e)]-_0x44cace['filled']:_0x10c3f5[_0x3bab9b(0x21e)]+_0x44cace[_0x3bab9b(0x22f)],_0x56698e=(_0x44cace[_0x3bab9b(0x22a)]-_0x18555b)*_0x52b1f7;let _0x3c9fdd={'coin':_0x44cace[_0x3bab9b(0x1e3)],'number':_0x52b1f7,'breakeven':formatResult(_0x18555b,0x8),'realized':formatResult(_0x817099,0x8),'unrealized':formatResult(_0x56698e,0x8),'fees':formatResult(_0x10c3f5['fees']+_0x266584,0x8),'sells':_0x44cace[_0x3bab9b(0x200)]==_0x3bab9b(0x247)?_0x10c3f5[_0x3bab9b(0x22d)]+0x1:_0x10c3f5['sells'],'buys':_0x44cace['side']=='buy'?_0x10c3f5[_0x3bab9b(0x260)]+0x1:_0x10c3f5[_0x3bab9b(0x260)]};dbCoinResults[_0x3bab9b(0x27d)](_0x3bab9b(0x1c3))[_0x3bab9b(0x1bf)]({'coin':_0x44cace['coin']})[_0x3bab9b(0x259)](_0x3c9fdd)['write']();}async function placeOrder(_0x3fb464){const _0x582538=_0x48c3e9,_0x31fa02=config['ordertype']==_0x582538(0x1d2)?'market':_0x582538(0x23c);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x582538(0x2aa)](JSON[_0x582538(0x1ee)](currentCoins));for(const _0x5d1450 of _0x3fb464){let _0xba877d,_0x1b3d40,_0x215ce1,_0xefcc65,_0x276577,_0x3963c4=_0x5d1450[_0x582538(0x1bb)];try{const _0x48c1b9=await exchange[_0x582538(0x1dd)](_0x3963c4),_0x4fce72=_0x48c1b9[_0x3963c4];_0xba877d=_0x4fce72[_0x582538(0x1da)],_0x1b3d40=_0x4fce72[_0x582538(0x284)],_0x215ce1=_0x4fce72[_0x582538(0x24d)];_0x5d1450['reverse']?(_0xefcc65=_0x5d1450['side']==_0x582538(0x1f0)?_0x582538(0x247):_0x582538(0x1f0),_0x276577=Math[_0x582538(0x1af)](_0x5d1450[_0x582538(0x293)])/_0xba877d):(_0xefcc65=_0x5d1450['side'],_0x276577=Math[_0x582538(0x1af)](_0x5d1450['trade']));_0x31fa02==_0x582538(0x23c)&&(config[_0x582538(0x1e9)]==_0x582538(0x240)&&(_0xba877d=_0xefcc65==_0x582538(0x1f0)?_0x1b3d40:_0x215ce1),config[_0x582538(0x1e9)]==_0x582538(0x1f2)&&(_0xba877d=_0xefcc65==_0x582538(0x1f0)?_0x215ce1:_0x1b3d40));_0x276577=formatResult(_0x276577,0x8),_0xba877d=formatResult(_0xba877d,0x8);const _0x26a84f=await exchange[_0x582538(0x2b6)](_0x3963c4,_0x31fa02,_0xefcc65,_0x276577,_0xba877d);lastOrders[_0x582538(0x282)]({'orderId':_0x26a84f['id'],'symbol':_0x3963c4,'side':_0xefcc65,'reverse':_0x5d1450[_0x582538(0x2a0)],'amount':_0x5d1450['reverse']?_0x26a84f['amount']*_0x26a84f['price']:_0x26a84f[_0x582538(0x2a8)],'filled':_0x5d1450['reverse']?_0x26a84f[_0x582538(0x22f)]*_0x26a84f[_0x582538(0x22a)]:_0x26a84f[_0x582538(0x22f)],'price':_0x26a84f[_0x582538(0x22a)]});const _0x351a19=_0x31fa02=='market'?_0x582538(0x1b1):config['ordertype']==_0x582538(0x240)?'Limit\x20(high-margin)':_0x582538(0x281);if(_0x31fa02==_0x582538(0x1d2))logHistory('order',_0x351a19+_0x582538(0x1b0)+_0x3963c4+'\x20'+_0xefcc65+'\x20#'+formatResult(_0x26a84f['filled'],0x8)+'\x20@'+formatResult(_0x26a84f[_0x582538(0x22a)],0x8));else logHistory(_0x582538(0x21f),_0x351a19+_0x582538(0x1b0)+_0x3963c4+'\x20'+_0xefcc65+'\x20#'+formatResult(_0x26a84f[_0x582538(0x2a8)],0x8)+'\x20@'+formatResult(_0x26a84f[_0x582538(0x22a)],0x8));_0x26a84f[_0x582538(0x1e3)]=_0x5d1450['coin'],await updateCoinResults(_0x26a84f);if(config[_0x582538(0x1c6)]!=0x0){let _0x5b72e3=null;if(cooldownTracker[_0x582538(0x1b9)]==config['cooldown']-0x1)_0x5b72e3=cooldownTracker[_0x582538(0x21a)]();const _0x3a733e=getTimeStamp();cooldownTracker[_0x582538(0x282)](_0x3a733e);if(_0x5b72e3){const _0x9981b4=fns[_0x582538(0x1cc)](new Date(_0x3a733e),new Date(_0x5b72e3));_0x9981b4<cooldownInterval&&(logHistory('error',_0x582538(0x2a2)+config['cooldown']+_0x582538(0x234)+cooldownInterval/0x3c+_0x582538(0x1c0)+cooldownPeriod/(0xe10*0x3e8)+_0x582538(0x24c)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x27ba2e){if(_0x27ba2e[_0x582538(0x224)]()[_0x582538(0x1ad)](_0x582538(0x296)))logHistory(_0x582538(0x232),_0x582538(0x29d)+_0x3963c4);else{if(_0x27ba2e[_0x582538(0x224)]()[_0x582538(0x1ad)]('Invalid\x20quantity'))logHistory(_0x582538(0x232),_0x582538(0x1e7)+_0x3963c4);else await handleError(_0x27ba2e,_0x582538(0x1c5));}}}if(lastOrders[_0x582538(0x1b9)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x582538(0x27a)]&&(config[_0x582538(0x1e9)]==_0x582538(0x1d2)?logHistory(_0x582538(0x232),_0x582538(0x229)):logHistory(_0x582538(0x232),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config['headless']&&logHistory(_0x582538(0x232),_0x582538(0x1f3)));}}function logHistory(_0x330d27,_0x44fa0f,_0x4a4177=''){const _0xea5335=_0x48c3e9;let _0x41fb20={'time':getTimeStamp(),'type':_0x330d27,'event':_0x44fa0f};dbLogs[_0xea5335(0x27d)]('logs')[_0xea5335(0x282)](_0x41fb20)[_0xea5335(0x1d7)]();if(_0x4a4177=='')_0x4a4177=_0x44fa0f;proxyEmit('event',{'log':_0x41fb20,'summary':_0x4a4177}),process[_0xea5335(0x1ed)]({'telegram':_0x41fb20}),logging(''+_0x41fb20[_0xea5335(0x283)]);}function emitHistory(_0x2b1e54={}){const _0x29c90c=_0x48c3e9;Object['keys'](_0x2b1e54)[_0x29c90c(0x1b9)]==0x0&&(_0x2b1e54={'type':[_0x29c90c(0x21f),_0x29c90c(0x283)],'event':'','page':0x1});if(_0x2b1e54['type'][_0x29c90c(0x1ad)](_0x29c90c(0x283)))_0x2b1e54[_0x29c90c(0x24b)][_0x29c90c(0x239)](_0x2b1e54[_0x29c90c(0x24b)][_0x29c90c(0x1ff)](_0x29c90c(0x283)),0x1,_0x29c90c(0x232),_0x29c90c(0x1fe));if(dbLogs[_0x29c90c(0x1f8)](_0x29c90c(0x218))['value']()){let _0x2e080c=dbLogs[_0x29c90c(0x27d)](_0x29c90c(0x218))['filter'](_0x4ea920=>{const _0x1b01fc=_0x29c90c;if(_0x2b1e54[_0x1b01fc(0x24b)][_0x1b01fc(0x1b9)]==0x0)return![];else return _0x2b1e54[_0x1b01fc(0x24b)][_0x1b01fc(0x1ad)](_0x4ea920[_0x1b01fc(0x24b)]);})[_0x29c90c(0x272)](_0x1acc2e=>{const _0x17ef26=_0x29c90c;if(_0x2b1e54[_0x17ef26(0x283)]=='')return!![];else return _0x1acc2e['event'][_0x17ef26(0x248)]()[_0x17ef26(0x1ad)](_0x2b1e54['event'][_0x17ef26(0x248)]());})[_0x29c90c(0x26c)]('time'),_0x402602=_0x2e080c[_0x29c90c(0x1bc)]()['length'];_0x2e080c=_0x2e080c['reverse']()[_0x29c90c(0x26a)]((_0x2b1e54[_0x29c90c(0x27c)]-0x1)*logPageSize,_0x2b1e54[_0x29c90c(0x27c)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x29c90c(0x299),{'logs':_0x2e080c,'total':_0x402602});}else proxyEmit(_0x29c90c(0x299),{'logs':[],'total':0x0});}async function pauseBot(_0x33bdca){const _0x412eea=_0x48c3e9,_0x365b33=new Date()[_0x412eea(0x209)]();console[_0x412eea(0x1cd)](_0x412eea(0x263),_0x365b33),console['log'](_0x412eea(0x274),_0x365b33-lastBotPause),console[_0x412eea(0x1cd)](_0x412eea(0x211),consecutivePauses);if(!lastBotPause)lastBotPause=new Date()[_0x412eea(0x209)](),consecutivePauses=0x1;else{if(_0x365b33-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['exit'](0x1);}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),await sleep(_0x33bdca),botPaused=![],reset();}}async function handleError(_0x36097e,_0x56c83d,_0xdb2db=''){const _0x44c67e=_0x48c3e9;if(_0x36097e['toString']()[_0x44c67e(0x1ad)](_0x44c67e(0x244)))logHistory(_0x44c67e(0x232),_0x56c83d+_0x44c67e(0x24f)),await pauseBot(pauseBotInterval);else{if(_0x36097e[_0x44c67e(0x224)]()[_0x44c67e(0x1ad)](_0x44c67e(0x25d)))logHistory('error',_0x56c83d+_0x44c67e(0x20c)),await pauseBot(pauseBotInterval);else{if(_0x36097e['toString']()[_0x44c67e(0x1ad)]('RequestTimeout'))logHistory(_0x44c67e(0x232),_0x56c83d+'\x20|\x20Binance\x20exchange\x20is\x20not\x20responding\x20-\x20pausing\x20bot\x20for\x205\x20minutes'),await pauseBot(pauseBotInterval);else{if(_0x36097e[_0x44c67e(0x224)]()[_0x44c67e(0x1ad)](_0x44c67e(0x1b3)))logHistory(_0x44c67e(0x232),_0x56c83d+_0x44c67e(0x2a7)),logHistory(_0x44c67e(0x232),_0x44c67e(0x1cb)),process[_0x44c67e(0x2a3)](0x4d);else{if(_0x36097e['toString']()[_0x44c67e(0x1ad)](_0x44c67e(0x1ef)))logHistory(_0x44c67e(0x232),_0x56c83d+_0x44c67e(0x264)),logHistory('error','Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['exit'](0x4d);else{if(_0x36097e[_0x44c67e(0x224)]()[_0x44c67e(0x1ad)](_0x44c67e(0x25e)))logHistory(_0x44c67e(0x232),_0x56c83d+_0x44c67e(0x23f)),logHistory(_0x44c67e(0x232),_0x44c67e(0x1cb)),process['exit'](0x4d);else{if(_0x36097e[_0x44c67e(0x224)]()['includes'](_0x44c67e(0x1de)))logHistory('error',_0x56c83d+_0x44c67e(0x2b2)),logHistory('error','Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x44c67e(0x2a3)](0x4d);else{if(_0x36097e[_0x44c67e(0x224)]()[_0x44c67e(0x1ad)](_0x44c67e(0x1d1)))logHistory(_0x44c67e(0x232),_0x56c83d+_0x44c67e(0x2b2)),logHistory('error','Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x44c67e(0x2a3)](0x4d);else _0x36097e[_0x44c67e(0x224)]()[_0x44c67e(0x1ad)](_0x44c67e(0x235))?logHistory(_0x44c67e(0x232),_0x56c83d+_0x44c67e(0x1df)):(logHistory(_0x44c67e(0x232),_0x56c83d+_0x44c67e(0x227)),logging(_0x56c83d+_0x44c67e(0x2b0),_0x36097e),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x4152bb,_0xccbb7a){const _0x5a701e=_0x48c3e9;return parseFloat(_0x4152bb[_0x5a701e(0x2a4)](_0xccbb7a));}function logging(_0x1255cd,_0x3b3f49=''){const _0x29eccd=_0x48c3e9;console[_0x29eccd(0x1cd)](getTimeStamp()+_0x29eccd(0x266)+botID+_0x29eccd(0x29e)+_0x1255cd,_0x3b3f49);}function getServerTime(){const _0x4a0078=_0x48c3e9,_0x258311=new Date();return _0x258311[_0x4a0078(0x213)]()+'/'+(_0x258311[_0x4a0078(0x1ba)]()+0x1)[_0x4a0078(0x224)]()[_0x4a0078(0x22e)](0x2,'0')+'/'+_0x258311[_0x4a0078(0x222)]()[_0x4a0078(0x224)]()['padStart'](0x2,'0')+'\x20'+_0x258311[_0x4a0078(0x21b)]()[_0x4a0078(0x224)]()[_0x4a0078(0x22e)](0x2,'0')+':'+_0x258311['getMinutes']()[_0x4a0078(0x224)]()[_0x4a0078(0x22e)](0x2,'0')+':'+_0x258311[_0x4a0078(0x233)]()['toString']()[_0x4a0078(0x22e)](0x2,'0');}function getTimeStamp(){const _0x41be52=_0x48c3e9,_0x191bae=shiftedTime();return _0x191bae[_0x41be52(0x213)]()+'/'+(_0x191bae[_0x41be52(0x1ba)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x191bae[_0x41be52(0x222)]()[_0x41be52(0x224)]()[_0x41be52(0x22e)](0x2,'0')+'\x20'+_0x191bae['getHours']()[_0x41be52(0x224)]()[_0x41be52(0x22e)](0x2,'0')+':'+_0x191bae[_0x41be52(0x27f)]()[_0x41be52(0x224)]()['padStart'](0x2,'0')+':'+_0x191bae['getSeconds']()['toString']()[_0x41be52(0x22e)](0x2,'0');}function getDate(){const _0x466b4e=_0x48c3e9,_0x1f14b0=shiftedTime();return _0x1f14b0['getFullYear']()+'/'+(_0x1f14b0[_0x466b4e(0x1ba)]()+0x1)['toString']()[_0x466b4e(0x22e)](0x2,'0')+'/'+_0x1f14b0['getDate']()[_0x466b4e(0x224)]()[_0x466b4e(0x22e)](0x2,'0');}function getHour(){const _0x50a0ce=_0x48c3e9,_0x1cb5cc=shiftedTime();return _0x1cb5cc['getHours']()[_0x50a0ce(0x224)]()[_0x50a0ce(0x22e)](0x2,'0');}function sleep(_0x31c5e2){return new Promise(_0x599854=>setTimeout(_0x599854,_0x31c5e2));}function shiftedTime(){const _0x6049b7=_0x48c3e9,_0x11f8c3=new Date();let _0x2287f3=_0x11f8c3;if(config&&config[_0x6049b7(0x252)]!==0x0)_0x2287f3=fns[_0x6049b7(0x230)](_0x11f8c3,{'hours':config['timeshift']});return _0x2287f3;}