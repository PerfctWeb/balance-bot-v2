const _0x424042=_0x4810;(function(_0x47187c,_0x3edb22){const _0x5cff58=_0x4810,_0x12e575=_0x47187c();while(!![]){try{const _0x56d70a=-parseInt(_0x5cff58(0x1a9))/0x1*(parseInt(_0x5cff58(0x147))/0x2)+-parseInt(_0x5cff58(0x137))/0x3*(-parseInt(_0x5cff58(0x1e2))/0x4)+parseInt(_0x5cff58(0x187))/0x5+parseInt(_0x5cff58(0x173))/0x6+parseInt(_0x5cff58(0x148))/0x7+parseInt(_0x5cff58(0x120))/0x8+parseInt(_0x5cff58(0x1f1))/0x9*(-parseInt(_0x5cff58(0x12b))/0xa);if(_0x56d70a===_0x3edb22)break;else _0x12e575['push'](_0x12e575['shift']());}catch(_0x29a62a){_0x12e575['push'](_0x12e575['shift']());}}}(_0x26ae,0xa2ad6));const _0x47e9d8=function(){let _0x47e825=!![];return function(_0x31dd01,_0x345516){const _0x279271=_0x47e825?function(){const _0x1b2f3e=_0x4810;if(_0x345516){const _0x379bfa=_0x345516[_0x1b2f3e(0x18b)](_0x31dd01,arguments);return _0x345516=null,_0x379bfa;}}:function(){};return _0x47e825=![],_0x279271;};}(),_0x39cc38=_0x47e9d8(this,function(){const _0x5d3eaa=_0x4810;return _0x39cc38[_0x5d3eaa(0x121)]()[_0x5d3eaa(0x166)](_0x5d3eaa(0x1b0))[_0x5d3eaa(0x121)]()[_0x5d3eaa(0x1a6)](_0x39cc38)[_0x5d3eaa(0x166)]('(((.+)+)+)+$');});_0x39cc38();'use strict';const ccxt=require(_0x424042(0x12f)),low=require('lowdb'),FileSync=require(_0x424042(0x185)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger}=require(_0x424042(0x14e)),Crypt=require(_0x424042(0x13f))['Crypt'];let exchange,wsClient;global[_0x424042(0x136)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![];const serverversion=require(_0x424042(0x19f))['version'],botID=process[_0x424042(0x138)][0x2]||_0x424042(0x1cb),pattern=/^[0-9]{3}$/;if(!pattern[_0x424042(0x14a)](botID))return console[_0x424042(0x114)](_0x424042(0x188)+botID+_0x424042(0x158)),process[_0x424042(0x1eb)](0x1);const configpath=_0x424042(0x14d);!fs['existsSync'](configpath)&&fs[_0x424042(0x167)](configpath);const configfile=configpath+_0x424042(0x1d8)+botID+'-config.json',logfile=configpath+_0x424042(0x1d8)+botID+_0x424042(0x1f6),performancefile=configpath+'bot-'+botID+_0x424042(0x1e9),coinresultsfile=configpath+_0x424042(0x1d8)+botID+_0x424042(0x124),settingsfile=configpath+_0x424042(0x131),securefile=configpath+_0x424042(0x162),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x424042(0x1ab)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x424042(0x160)]({'data':[]})[_0x424042(0x1ab)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x424042(0x160)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x424042(0x160)]({'coins':[]})[_0x424042(0x1ab)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':'BTCEUR','symbol':_0x424042(0x142)},'usd':{'coin':_0x424042(0x12c),'symbol':_0x424042(0x11a)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x1dfd5d)=>{},'debug':(..._0x289ba8)=>{},'notice':(..._0x2d2e47)=>{},'info':(..._0x5f0571)=>{},'warning':(..._0x49ff1c)=>{},'error':async function(..._0x460bbf){const _0x244133=_0x424042,_0x1a8691=new Date()[_0x244133(0x1e5)]();if(!lastErrorShown||_0x1a8691-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x244133(0x1e5)](),logHistory(_0x244133(0x1c5),_0x244133(0x161)+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available\x20-\x20pausing\x20bot\x20for\x205\x20minutes');let _0xb53700='';if(_0x460bbf[0x0])_0xb53700+=_0x460bbf[0x0];if(_0x460bbf[0x1]&&_0x460bbf[0x1][_0x244133(0x1c5)]&&_0x460bbf[0x1][_0x244133(0x1c5)][_0x244133(0x1fb)])_0xb53700+='\x20-\x20'+_0x460bbf[0x1][_0x244133(0x1c5)][_0x244133(0x1fb)];logging(_0x244133(0x161)+consecutivePauses+_0x244133(0x1ea),''+_0xb53700),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x424042(0x14c)});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x424042(0x12d)]);process[_0x424042(0x1d5)]({'started':_0x424042(0x196)}),initializeProcessListeners();function proxyEmit(_0x60e98f,_0x448b59=null){process['send']({'function':_0x60e98f,'args':_0x448b59});}function initializeProcessListeners(){const _0x336420=_0x424042;process['on'](_0x336420(0x1fb),_0x5c512c=>{const _0x5a771a=_0x336420;switch(Object[_0x5a771a(0x16d)](_0x5c512c)[0x0]){case'timeshift':_0x5c512c[_0x5a771a(0x12d)]!=undefined&&(settings[_0x5a771a(0x12d)]=_0x5c512c['timeshift'],updateTimeshift(settings[_0x5a771a(0x12d)]));break;case'function':switch(_0x5c512c['function']){case _0x5a771a(0x1da):initclient();break;case _0x5a771a(0x16e):emitHistory(_0x5c512c[_0x5a771a(0x165)]);break;case'getPortfolio':getPortfolio(_0x5c512c[_0x5a771a(0x165)]);break;case'storeConfiguration':storeConfiguration(_0x5c512c['args']);break;case _0x5a771a(0x1b1):storeHeadless(_0x5c512c[_0x5a771a(0x165)]);break;case _0x5a771a(0x106):getStartingBalances();break;case _0x5a771a(0x1c3):placeOrder(_0x5c512c[_0x5a771a(0x165)]);break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x30e94a=_0x424042;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x30e94a(0x1f2)],config[_0x30e94a(0x1a0)]);let _0x56b64a=await loadSymbols();_0x56b64a&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x3e2407,_0x12d943){const _0x335f90=_0x424042,_0x35bd66=ccxt[config[_0x335f90(0x178)]];let _0x3f2823;switch(config[_0x335f90(0x178)]){case _0x335f90(0x14e):_0x3f2823=_0x335f90(0x1b9);break;case _0x335f90(0x181):_0x3f2823=_0x335f90(0x19e);break;default:_0x3f2823=_0x335f90(0x1b9);}exchange=new _0x35bd66({'apiKey':_0x3e2407,'secret':_0x12d943,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x3e2407,'api_secret':_0x12d943,'beautify':!![],'wsUrl':_0x3f2823},logger),config['exchange']==_0x335f90(0x181)&&(stablecoins={'eur':{'coin':_0x335f90(0x1b4),'symbol':_0x335f90(0x112)},'usd':{'coin':'BTCUSDT','symbol':_0x335f90(0x11a)}});}async function loadSymbols(){const _0x2f164c=_0x424042;let _0x5deb9c;try{markets=await exchange[_0x2f164c(0x1ac)](),allSymbols=exchange[_0x2f164c(0x17f)][_0x2f164c(0x10e)](_0x3a7aec=>{const _0x464def=_0x2f164c;return!_0x3a7aec['includes'](_0x464def(0x191));}),_0x5deb9c=!![];}catch(_0x20320a){await handleError(_0x20320a,_0x2f164c(0x18e)),_0x5deb9c=![];}return _0x5deb9c;}async function initbot(){const _0x294a7e=_0x424042;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x594847=dbCoinResults[_0x294a7e(0x189)](_0x294a7e(0x1ca))[_0x294a7e(0x130)]();if(_0x594847[_0x294a7e(0x1e4)]==0x0)await resetCoinResults();}async function initclient(){const _0x3d62df=_0x424042;proxyEmit(_0x3d62df(0x15f),emittedConfiguration());while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x3991ca=_0x424042;wsinitialized=![];ws1&&(ws1[_0x3991ca(0x192)](_0x1900bb=>{const _0x19c6d0=_0x3991ca;try{wsClient[_0x19c6d0(0x1f3)](_0x1900bb);}catch(_0x38b91d){}}),ws1=[]);if(ws2){try{wsClient[_0x3991ca(0x1f3)](ws2);}catch(_0x182959){}ws2=null;}}async function initws(){const _0x1dbc6b=_0x424042;cleanws();let _0x5b7408=[];currentCoins[_0x1dbc6b(0x192)](_0x65f85d=>{const _0x44006c=_0x1dbc6b;if(_0x65f85d['coin']!=config['basecoin'])_0x5b7408[_0x44006c(0x13d)](noslash(_0x65f85d[_0x44006c(0x154)]));});if(!_0x5b7408['includes'](stablecoins[_0x1dbc6b(0x103)]['coin']))_0x5b7408[_0x1dbc6b(0x13d)](stablecoins[_0x1dbc6b(0x103)][_0x1dbc6b(0x1c8)]);if(!_0x5b7408[_0x1dbc6b(0x14f)](stablecoins[_0x1dbc6b(0x129)]['coin']))_0x5b7408[_0x1dbc6b(0x13d)](stablecoins[_0x1dbc6b(0x129)][_0x1dbc6b(0x1c8)]);if(!_0x5b7408[_0x1dbc6b(0x14f)](_0x1dbc6b(0x159)+config[_0x1dbc6b(0x1ee)]))_0x5b7408[_0x1dbc6b(0x13d)](_0x1dbc6b(0x159)+config[_0x1dbc6b(0x1ee)]);try{_0x5b7408[_0x1dbc6b(0x192)]((_0x472198,_0x164f67)=>{const _0x1f4f90=_0x1dbc6b;ws1[_0x164f67]=wsClient[_0x1f4f90(0x195)](_0x472198,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x1dbc6b(0x1a8),_0x311c66=>{const _0x157c23=_0x1dbc6b;if(!Array[_0x157c23(0x15e)](_0x311c66)&&!_0x311c66['wsKey']['includes'](_0x157c23(0x1d2))){if(_0x311c66[_0x157c23(0x1e6)]===_0x157c23(0x1c7)){global[_0x157c23(0x136)][_0x311c66['kline'][_0x157c23(0x154)]]=_0x311c66[_0x157c23(0x1c7)][_0x157c23(0x1b5)];return;}}else{if(!Array[_0x157c23(0x15e)](_0x311c66)&&_0x311c66[_0x157c23(0x134)][_0x157c23(0x14f)]('userData')){if(_0x311c66['wsMarket'][_0x157c23(0x14f)]('spot')){updateNumberCoins(_0x311c66);return;}}}}),wsClient['on']('reconnected',async _0x5bd4e4=>{currentCoins=await getCoins();});}catch(_0x300477){await handleError(_0x300477,_0x1dbc6b(0x1cf));}let _0x41ecce;while(_0x41ecce!=currentCoins['length']-0x1){_0x41ecce=0x0,currentCoins[_0x1dbc6b(0x192)](_0x3a1ee5=>{const _0x3c710d=_0x1dbc6b;if(_0x3a1ee5[_0x3c710d(0x1c8)]!=config[_0x3c710d(0x1ee)]&&global[_0x3c710d(0x136)][noslash(_0x3a1ee5[_0x3c710d(0x154)])])_0x41ecce++;});let _0x2baa2d=Math[_0x1dbc6b(0x186)](_0x41ecce/(currentCoins[_0x1dbc6b(0x1e4)]-0x1)*0x64);proxyEmit(_0x1dbc6b(0x140),_0x2baa2d),await sleep(0xc8);}wsinitialized=!![];}async function getFiat(){const _0x3461f9=_0x424042;let _0x282872=0x0,_0x20cd10=0x0;try{_0x282872=global[_0x3461f9(0x136)][stablecoins[_0x3461f9(0x103)][_0x3461f9(0x1c8)]],_0x20cd10=global[_0x3461f9(0x136)][stablecoins[_0x3461f9(0x129)][_0x3461f9(0x1c8)]];}catch(_0x269f48){await handleError(_0x269f48,'getFiat()');}return{'eur':Number(_0x282872),'usd':Number(_0x20cd10)};}async function setStartDatePerformance(_0x274327){const _0x1573eb=_0x424042,_0x46c87e=fns['format'](new Date(_0x274327[_0x1573eb(0x1c6)]),_0x1573eb(0x132));let _0x1565af=[];_0x1565af[stablecoins['eur']['coin']]=await getCloses(stablecoins['eur']['symbol'],new Date(_0x274327[_0x1573eb(0x1c6)]),0x1),_0x1565af[stablecoins['usd']['coin']]=await getCloses(stablecoins[_0x1573eb(0x129)]['symbol'],new Date(_0x274327['startdate']),0x1);let _0x51cf18,_0x2115db=[];_0x274327[_0x1573eb(0x1b2)][_0x1573eb(0x192)](_0x4f3e93=>{const _0x2acd00=_0x1573eb;!_0x4f3e93[_0x2acd00(0x168)]&&_0x2115db[_0x2acd00(0x13d)]({'coin':_0x4f3e93[_0x2acd00(0x1c8)],'number':_0x4f3e93['startnumber'],'price':_0x4f3e93[_0x2acd00(0x177)]});}),_0x51cf18={'date':_0x46c87e,'eur':_0x1565af[stablecoins[_0x1573eb(0x103)][_0x1573eb(0x1c8)]][0x0],'usd':_0x1565af[stablecoins[_0x1573eb(0x129)]['coin']][0x0],'coins':_0x2115db};let _0x248207=dbPerformance[_0x1573eb(0x189)](_0x1573eb(0x15d))[_0x1573eb(0x12a)]({'date':_0x46c87e})['value']();_0x248207?dbPerformance[_0x1573eb(0x189)](_0x1573eb(0x15d))[_0x1573eb(0x12a)]({'date':_0x46c87e})[_0x1573eb(0x101)](_0x51cf18)[_0x1573eb(0x1ab)]():dbPerformance[_0x1573eb(0x189)](_0x1573eb(0x15d))[_0x1573eb(0x13d)](_0x51cf18)[_0x1573eb(0x1ab)](),_0x248207=dbPerformance[_0x1573eb(0x189)](_0x1573eb(0x15d))[_0x1573eb(0x17e)](_0x1573eb(0x1ae))[_0x1573eb(0x130)](),_0x248207['forEach'](_0xc473aa=>{const _0x2b8dd6=_0x1573eb;_0xc473aa[_0x2b8dd6(0x1ae)]<_0x46c87e&&dbPerformance['get'](_0x2b8dd6(0x15d))[_0x2b8dd6(0x1d7)]({'date':_0xc473aa[_0x2b8dd6(0x1ae)]})[_0x2b8dd6(0x1ab)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x5312c6){const _0x4203ed=_0x424042;let _0x38f530,_0x1f4388=[];logHistory('success','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0x5312c6[_0x4203ed(0x1b2)]['forEach'](_0x8af94e=>{const _0x66b3fd=_0x4203ed;if(_0x8af94e[_0x66b3fd(0x1c8)]!=config[_0x66b3fd(0x1ee)]&&!_0x8af94e[_0x66b3fd(0x168)])_0x1f4388[_0x66b3fd(0x13d)]({'coin':_0x8af94e[_0x66b3fd(0x1c8)],'symbol':_0x8af94e[_0x66b3fd(0x154)]});});let _0x1a7588=[];try{const _0x3e6dc3=fns['format'](fns[_0x4203ed(0x125)](_0x5312c6['startdate'][_0x4203ed(0x1b7)](/\//g,'-')),_0x4203ed(0x19a));for(const _0xd7f7cc of _0x1f4388){if(_0xd7f7cc['coin']!=config[_0x4203ed(0x1ee)])_0x38f530=await exchange['fetchOrders'](_0xd7f7cc[_0x4203ed(0x154)],Date[_0x4203ed(0x17a)](_0x3e6dc3));_0x38f530[_0x4203ed(0x192)](_0x417c71=>{const _0x25573e=_0x4203ed,_0x3e7bb2=_0xd7f7cc[_0x25573e(0x154)][_0x25573e(0x14f)](config['basecoin']+'/'),_0x5272cc=fns[_0x25573e(0x1dc)](fns[_0x25573e(0x125)](_0x417c71[_0x25573e(0x1fe)]),_0x25573e(0x1ce)),_0x51f10b=fns[_0x25573e(0x1dc)](fns[_0x25573e(0x125)](_0x417c71[_0x25573e(0x1fe)]),_0x25573e(0x132));let _0x3f48c7;if(_0x417c71[_0x25573e(0x197)]=='buy'&&_0x3e7bb2==![])_0x3f48c7=_0x417c71[_0x25573e(0x16a)];if(_0x417c71[_0x25573e(0x197)]==_0x25573e(0x1a3)&&_0x3e7bb2==!![])_0x3f48c7=-_0x417c71['amount']*_0x417c71['price'];if(_0x417c71[_0x25573e(0x197)]==_0x25573e(0x1a1)&&_0x3e7bb2==![])_0x3f48c7=-_0x417c71[_0x25573e(0x16a)];if(_0x417c71[_0x25573e(0x197)]==_0x25573e(0x1a1)&&_0x3e7bb2==!![])_0x3f48c7=_0x417c71['amount']*_0x417c71[_0x25573e(0x16b)];_0x1a7588['push']({'timestamp':_0x5272cc,'date':_0x51f10b,'coin':_0xd7f7cc[_0x25573e(0x1c8)],'symbol':_0xd7f7cc[_0x25573e(0x154)],'type':_0x417c71[_0x25573e(0x15c)],'side':_0x417c71[_0x25573e(0x197)],'reverse':_0x3e7bb2,'amount':formatResult(_0x417c71['filled'],0x8),'filled':formatResult(_0x417c71[_0x25573e(0x110)],0x8),'coinamount':formatResult(_0x3f48c7,0x8),'price':formatResult(_0x417c71['price'],0x8)});let _0x2e50fa;if(_0x417c71['side']=='buy'&&_0x3e7bb2==![])_0x2e50fa=-_0x417c71['amount']*_0x417c71[_0x25573e(0x16b)];if(_0x417c71['side']==_0x25573e(0x1a3)&&_0x3e7bb2==!![])_0x2e50fa=_0x417c71[_0x25573e(0x16a)];if(_0x417c71[_0x25573e(0x197)]==_0x25573e(0x1a1)&&_0x3e7bb2==![])_0x2e50fa=_0x417c71[_0x25573e(0x16a)]*_0x417c71[_0x25573e(0x16b)];if(_0x417c71[_0x25573e(0x197)]==_0x25573e(0x1a1)&&_0x3e7bb2==!![])_0x2e50fa=-_0x417c71[_0x25573e(0x16a)];_0x1a7588[_0x25573e(0x13d)]({'date':_0x51f10b,'coin':config[_0x25573e(0x1ee)],'coinamount':formatResult(_0x2e50fa,0x8)});});}_0x1a7588['sort']((_0x464812,_0x4bd6fb)=>_0x464812[_0x4203ed(0x10b)]>_0x4bd6fb[_0x4203ed(0x10b)]?0x1:_0x4bd6fb[_0x4203ed(0x10b)]>_0x464812['timestamp']?-0x1:0x0),dbLogs[_0x4203ed(0x189)](_0x4203ed(0x174))['remove']()['write'](),_0x1a7588['forEach'](_0x4939d5=>{const _0x29e1e2=_0x4203ed;let _0x853f35;_0x4939d5[_0x29e1e2(0x1c8)]!=config[_0x29e1e2(0x1ee)]&&(_0x853f35={'time':_0x4939d5['timestamp'],'type':_0x29e1e2(0x17c),'event':'Order:\x20'+_0x4939d5[_0x29e1e2(0x154)]+'\x20'+_0x4939d5[_0x29e1e2(0x197)]+'\x20#'+_0x4939d5[_0x29e1e2(0x16a)]+'\x20@'+_0x4939d5[_0x29e1e2(0x16b)]},dbLogs[_0x29e1e2(0x189)](_0x29e1e2(0x174))[_0x29e1e2(0x13d)](_0x853f35)[_0x29e1e2(0x1ab)]());});const _0x4084e0=fns[_0x4203ed(0x1cd)]({'start':new Date(_0x5312c6[_0x4203ed(0x1c6)]),'end':new Date()})[_0x4203ed(0x193)](_0x6c8caa=>fns['format'](_0x6c8caa,_0x4203ed(0x132)));let _0x99040=[];_0x5312c6[_0x4203ed(0x1b2)][_0x4203ed(0x192)](_0x214970=>{const _0x4f02b4=_0x4203ed;if(!_0x214970[_0x4f02b4(0x168)]){_0x99040[_0x214970[_0x4f02b4(0x1c8)]]=[];let _0x41b0ae=_0x214970[_0x4f02b4(0x104)];_0x4084e0[_0x4f02b4(0x192)]((_0x18b24a,_0x17cd64)=>{const _0x486d61=_0x4f02b4;let _0x1aeafb=_0x1a7588[_0x486d61(0x10e)](_0x154716=>_0x154716[_0x486d61(0x1c8)]==_0x214970['coin']&&_0x154716['date']==_0x18b24a);if(_0x1aeafb['length']!=0x0){let _0x183e49=_0x1aeafb[_0x486d61(0x17b)]((_0x57aded,_0xf99c5d)=>{const _0x2a5b7b=_0x486d61;return _0x57aded+=_0xf99c5d[_0x2a5b7b(0x1c2)],_0x57aded;},0x0);_0x41b0ae+=_0x183e49;}_0x99040[_0x214970[_0x486d61(0x1c8)]][_0x18b24a]=_0x41b0ae;});}});const _0x220d2f=[..._0x1f4388];_0x220d2f['push']({'coin':stablecoins[_0x4203ed(0x103)]['coin'],'symbol':stablecoins['eur'][_0x4203ed(0x154)]}),_0x220d2f['push']({'coin':stablecoins['usd']['coin'],'symbol':stablecoins[_0x4203ed(0x129)][_0x4203ed(0x154)]});let _0x31df43=[];for(const _0x2392a0 of _0x220d2f){_0x31df43[_0x2392a0[_0x4203ed(0x1c8)]]=await getCloses(_0x2392a0[_0x4203ed(0x154)],new Date(_0x5312c6['startdate']));}dbPerformance[_0x4203ed(0x189)]('data')[_0x4203ed(0x1d7)]()[_0x4203ed(0x1ab)](),_0x4084e0[_0x4203ed(0x192)]((_0x49a410,_0x4140b9)=>{const _0xc0f203=_0x4203ed;let _0x5cf9c3,_0x4c67d5=[];_0x4140b9==0x0?(_0x5312c6[_0xc0f203(0x1b2)][_0xc0f203(0x192)](_0x31ea88=>{const _0x3f28e1=_0xc0f203;!_0x31ea88[_0x3f28e1(0x168)]&&_0x4c67d5['push']({'coin':_0x31ea88[_0x3f28e1(0x1c8)],'number':_0x31ea88[_0x3f28e1(0x104)],'price':_0x31ea88['startprice']});}),_0x5cf9c3={'date':_0x49a410,'eur':_0x31df43[stablecoins[_0xc0f203(0x103)]['coin']][_0x4140b9],'usd':_0x31df43[stablecoins[_0xc0f203(0x129)][_0xc0f203(0x1c8)]][_0x4140b9],'coins':_0x4c67d5}):(_0x5312c6['portfolio']['forEach'](_0x184f92=>{const _0x23b213=_0xc0f203;!_0x184f92[_0x23b213(0x168)]&&_0x4c67d5[_0x23b213(0x13d)]({'coin':_0x184f92[_0x23b213(0x1c8)],'number':_0x99040[_0x184f92[_0x23b213(0x1c8)]][_0x49a410],'price':_0x184f92[_0x23b213(0x1c8)]==config[_0x23b213(0x1ee)]?0x1:_0x31df43[_0x184f92[_0x23b213(0x1c8)]][_0x4140b9]});}),_0x5cf9c3={'date':_0x49a410,'eur':_0x31df43[stablecoins[_0xc0f203(0x103)][_0xc0f203(0x1c8)]][_0x4140b9],'usd':_0x31df43[stablecoins[_0xc0f203(0x129)][_0xc0f203(0x1c8)]][_0x4140b9],'coins':_0x4c67d5}),dbPerformance[_0xc0f203(0x189)](_0xc0f203(0x15d))[_0xc0f203(0x13d)](_0x5cf9c3)[_0xc0f203(0x1ab)]();}),emitPerformance(),await resetCoinResults();for(let _0x4ff242 of _0x1a7588){_0x4ff242[_0x4203ed(0x1c8)]!=config[_0x4203ed(0x1ee)]&&await updateCoinResults(_0x4ff242);}logHistory(_0x4203ed(0x15a),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x55c0d5){await handleError(_0x55c0d5,'recreateHistory()');}}async function getCloses(_0x1a9055,_0xe9becc,_0x45fd94=undefined){const _0x3ba433=_0x424042,_0x507827='1d';let _0x31fe93,_0x38ec42;const _0x4501b8=fns[_0x3ba433(0x12e)](new Date(),_0xe9becc)+0x1;try{const _0x5affc=exchange[_0x3ba433(0x157)]()-_0x4501b8*0x18*0xe10*0x3e8;_0x31fe93=await exchange[_0x3ba433(0x1ef)](_0x1a9055,_0x507827,_0x5affc,_0x45fd94),_0x38ec42=await exchange[_0x3ba433(0x11e)](_0x1a9055);}catch(_0x40faf1){await handleError(_0x40faf1,_0x3ba433(0x145));}let _0x57f229=ohlcvToCloses(_0x31fe93);return _0x57f229['push'](_0x38ec42[_0x1a9055][_0x3ba433(0x1f0)]),_0x57f229;}function ohlcvToCloses(_0x194730){const _0x27fc8c=_0x424042;let _0x575428=[];return _0x194730[_0x27fc8c(0x192)](function(_0x123115){_0x575428['push'](_0x123115[0x4]);}),_0x575428;}function getConfiguration(_0x4f9cf4){const _0x42e672=_0x424042;let _0x272f33=dbConfig[_0x42e672(0x189)](_0x42e672(0x1fc))[_0x42e672(0x12a)]({'botID':_0x4f9cf4})[_0x42e672(0x130)]();if(_0x272f33){let _0x4103ae=![];!_0x272f33[_0x42e672(0x178)]&&(_0x272f33={..._0x272f33,'exchange':'binance'},_0x4103ae=!![]),!_0x272f33[_0x42e672(0x1ee)]&&(_0x272f33={..._0x272f33,'basecoin':_0x42e672(0x1c1)},_0x4103ae=!![]),!_0x272f33[_0x42e672(0x16c)]&&(_0x272f33={..._0x272f33,'ordertype':_0x42e672(0x170)},_0x4103ae=!![]),!_0x272f33['timeout']&&(_0x272f33={..._0x272f33,'timeout':0x14},_0x4103ae=!![]),!_0x272f33[_0x42e672(0x18a)]&&(_0x272f33={..._0x272f33,'emojisell':''},_0x4103ae=!![]),!_0x272f33[_0x42e672(0x176)]&&(_0x272f33={..._0x272f33,'emojibuy':''},_0x4103ae=!![]),_0x4103ae&&(_0x272f33={'botID':_0x272f33[_0x42e672(0x1f5)],'exchange':_0x272f33[_0x42e672(0x178)],'apiKey':_0x272f33[_0x42e672(0x1f2)],'apiSecret':_0x272f33['apiSecret'],'basecoin':_0x272f33[_0x42e672(0x1ee)],'botname':_0x272f33[_0x42e672(0x141)],'threshold':_0x272f33[_0x42e672(0x122)],'ordertype':_0x272f33['ordertype'],'timeout':_0x272f33[_0x42e672(0x11f)],'startdate':_0x272f33[_0x42e672(0x1c6)],'recreate':_0x272f33[_0x42e672(0x1bb)],'timeshift':_0x272f33['timeshift'],'headless':_0x272f33['headless'],'cooldown':_0x272f33[_0x42e672(0x126)],'emojisell':_0x272f33[_0x42e672(0x18a)],'emojibuy':_0x272f33[_0x42e672(0x176)],'portfolio':_0x272f33[_0x42e672(0x1b2)]},dbConfig['get'](_0x42e672(0x1fc))[_0x42e672(0x1d7)]()[_0x42e672(0x1ab)](),dbConfig[_0x42e672(0x189)](_0x42e672(0x1fc))[_0x42e672(0x13d)](_0x272f33)[_0x42e672(0x1ab)]());}else _0x272f33={'botID':_0x4f9cf4,'exchange':_0x42e672(0x14e),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x42e672(0x1ec)+_0x4f9cf4,'threshold':'3','ordertype':_0x42e672(0x170),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x42e672(0x12d)],'headless':![],'cooldown':0xa,'emojisell':'','emojibuy':'','portfolio':[]};return _0x272f33;}function _0x26ae(){const _0x2a89fc=['symbols','breakeven','binanceus','getMinutes','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20(2)\x20-\x20please\x20sync\x20clock','sort','lowdb/adapters/FileSync','round','1263810ubHlfI','Error:\x20Invalid\x20argument\x20','get','emojisell','apply','\x20orders\x20in\x20less\x20than\x20','EUR','loadSymbols()','cancelOrder','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','DAI/','forEach','map','\x20hour','subscribeSpotKline','running','side','orderId','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)\x20-\x20pausing\x20bot\x20for\x205\x20minutes','yyyy-MM-dd\x27T\x27HH:mm:ss','BUSD','Market','kill','wss://stream.binance.us:9443','./version.json','apiSecret','sell','toFixed','buy','getDate','\x20>\x20','constructor','Order(s)\x20filled\x20-\x20balancing\x20resumed','formattedMessage','234086xzRHWY','starting-balances','write','loadMarkets','total','date','cancelOrder()','(((.+)+)+)+$','storeHeadless','portfolio','limits','BTCBUSD','close','page','replace','orderStatus','wss://stream.binance.com:9443','target','recreate','currency','USDT','DDoSProtection','padStart','limit-high','BTC','coinamount','placeOrder','event','error','startdate','kline','coin','getPortfolio()','coins','001','\x20|\x20Binance\x20exchange\x20is\x20not\x20available\x20-\x20pausing\x20bot\x20for\x205\x20minutes','eachDayOfInterval','yyyy/MM/dd\x20HH:mm:ss','initws()','fee','headless','userData','getFullYear','API-key\x20format\x20invalid','send','cost','remove','bot-','distribution','initclient','\x20minutes\x20-\x20balancing\x20resumed','format','privateKey','Order(s)\x20validated\x20-\x20balancing\x20resumed','buys','LIMIT','splice','8588nPbaIh','enabled','length','getTime','eventType','performance','valid','-performance.json',')\x20|\x20Error\x20details:\x20','exit','Bot\x20','\x20order:\x20','basecoin','fetchOHLCV','last','45pvZnuS','apiKey','closeWs','getCoins()','botID','-events.json','Binance\x20API\x20key\x20is\x20invalid','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','bid','secure','message','bot','Binance\x20API\x20secret\x20is\x20invalid','datetime','number','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','fetchBalance','assign','AuthenticationError','eur','startnumber','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','getStartingBalances','InsufficientFunds','outboundAccountPosition',':\x20Bot\x20','stringify','timestamp','Order\x20filled:\x20','InvalidNonce','filter','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','filled','indexOf','BTC/BUSD','has','log','add','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','toLowerCase','getHours','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','BTC/USDT','Limit\x20(high-margin)','getMonth','split','fetchTickers','timeout','9815976wSJlWK','toString','threshold','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','-results.json','parseISO','cooldown','ask','RequestTimeout','usd','find','4156610qYJyWg','BTCUSDT','timeshift','differenceInCalendarDays','ccxt','value','bb-settings.json','yyyy/MM/dd','delta','wsKey','************','ticker','1434RaSPaA','argv','settings','limit','Executed\x20','time','push','asset','hybrid-crypto-js','coin-loading-progress','botname','BTC/EUR','accumulatedQuantity','getSeconds','getCloses()','Unfilled\x20order(s)\x20canceled\x20after\x20','4Exrlvf','2476950oTUFmI','reverse','test','orderType','RSA-OAEP','./config/','binance','includes','min','realized','MIN_NOTIONAL','fees','symbol','Limit\x20(low-margin)','Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','milliseconds',',\x20must\x20be\x20a\x203\x20digit\x20number','BNB','success','FILLED','type','data','isArray','configuration','defaults','WebSockets(','bb-secure.json','placeOrder()','OrderNotFound','args','search','mkdirSync','excluded','entries','amount','price','ordertype','keys','emitHistory','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','market','abs','trade','2117568ekicEV','logs','differenceInSeconds','emojibuy','startprice','exchange','createOrder','parse','reduce','order','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','sortBy'];_0x26ae=function(){return _0x2a89fc;};return _0x26ae();}function emittedConfiguration(){const _0x3723be=_0x424042;let _0xf0e8;return config[_0x3723be(0x1f2)]==''?_0xf0e8=config:_0xf0e8={...config,'apiKey':_0x3723be(0x135),'apiSecret':_0x3723be(0x135)},_0xf0e8;}function getSettings(){const _0x45dfa4=_0x424042;return dbSettings[_0x45dfa4(0x189)](_0x45dfa4(0x139))['value']();}function getSecure(){const _0x5afb7c=_0x424042;return dbSecure[_0x5afb7c(0x189)](_0x5afb7c(0x1fa))[_0x5afb7c(0x130)]()||{};}function updateTimeshift(_0xd341cd){const _0x1ae6a8=_0x424042;let _0x296dbf=dbConfig[_0x1ae6a8(0x189)](_0x1ae6a8(0x1fc))[_0x1ae6a8(0x12a)]({'botID':botID})[_0x1ae6a8(0x130)]();_0x296dbf&&dbConfig[_0x1ae6a8(0x189)]('bot')[_0x1ae6a8(0x12a)]({'botID':botID})['assign']({'timeshift':_0xd341cd})[_0x1ae6a8(0x1ab)](),config[_0x1ae6a8(0x12d)]=_0xd341cd,proxyEmit(_0x1ae6a8(0x15f),emittedConfiguration());}async function storeConfiguration(_0x48bb82){const _0x1f0266=_0x424042;let _0x3c2e9d=dbConfig[_0x1f0266(0x189)]('bot')[_0x1f0266(0x12a)]({'botID':botID})[_0x1f0266(0x130)]();_0x48bb82={..._0x48bb82,'apiKey':crypt['decrypt'](secure[_0x1f0266(0x1dd)],_0x48bb82[_0x1f0266(0x1f2)])[_0x1f0266(0x1fb)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x48bb82['apiSecret'])['message']};if(_0x3c2e9d){if(_0x48bb82['apiKey']==_0x1f0266(0x135))_0x48bb82[_0x1f0266(0x1f2)]=config[_0x1f0266(0x1f2)];if(_0x48bb82[_0x1f0266(0x1a0)]==_0x1f0266(0x135))_0x48bb82[_0x1f0266(0x1a0)]=config[_0x1f0266(0x1a0)];dbConfig['get'](_0x1f0266(0x1fc))[_0x1f0266(0x12a)]({'botID':botID})[_0x1f0266(0x101)](_0x48bb82)[_0x1f0266(0x1ab)]();}else dbConfig[_0x1f0266(0x189)](_0x1f0266(0x1fc))[_0x1f0266(0x13d)](_0x48bb82)[_0x1f0266(0x1ab)](),process['send']({'status':_0x1f0266(0x1e3),'live':'running'});config={..._0x48bb82};if(config['recreate'])await recreateHistory(config);else await setStartDatePerformance(config);process[_0x1f0266(0x1d5)]({'botname':_0x48bb82[_0x1f0266(0x141)]}),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x340e22){const _0x4128bf=_0x424042,_0x168b42={...config,'headless':_0x340e22[_0x4128bf(0x1d1)]};let _0x12b7b7=dbConfig[_0x4128bf(0x189)](_0x4128bf(0x1fc))['find']({'botID':botID})[_0x4128bf(0x130)]();_0x12b7b7&&dbConfig[_0x4128bf(0x189)](_0x4128bf(0x1fc))['find']({'botID':botID})[_0x4128bf(0x101)](_0x168b42)['write'](),config={..._0x168b42},proxyEmit(_0x4128bf(0x15f),emittedConfiguration());}function noslash(_0x300bcd){return _0x300bcd['replace']('/','');}function updateNumberCoins(_0x2093b4){const _0x89bcf5=_0x424042;_0x2093b4[_0x89bcf5(0x1e6)]&&_0x2093b4[_0x89bcf5(0x1e6)]==_0x89bcf5(0x108)&&_0x2093b4['balances'][_0x89bcf5(0x192)](_0x4af92c=>{const _0x69c3df=_0x89bcf5;let _0xa2b4a0=currentCoins[_0x69c3df(0x12a)](_0x55ac11=>_0x55ac11[_0x69c3df(0x1c8)]==_0x4af92c[_0x69c3df(0x13e)]);if(_0xa2b4a0)_0xa2b4a0['number']=Number(_0x4af92c['availableBalance']);}),_0x2093b4[_0x89bcf5(0x1e6)]&&_0x2093b4[_0x89bcf5(0x1e6)]=='executionReport'&&(_0x2093b4[_0x89bcf5(0x14b)]==_0x89bcf5(0x1e0)&&_0x2093b4[_0x89bcf5(0x1b8)]==_0x89bcf5(0x15b)&&lastOrders['forEach'](_0x10a147=>{const _0x4ff350=_0x89bcf5;if(_0x10a147[_0x4ff350(0x198)]==_0x2093b4['orderId']){if(_0x10a147[_0x4ff350(0x149)])_0x10a147[_0x4ff350(0x110)]=_0x2093b4[_0x4ff350(0x143)]*_0x10a147[_0x4ff350(0x16b)];else _0x10a147[_0x4ff350(0x110)]=_0x2093b4[_0x4ff350(0x143)];}}));}async function getCoins(_0x2e3c2d=!![],_0x3370e0=config[_0x424042(0x1ee)]){const _0xf15e9e=_0x424042;let _0x50c018,_0x57541f=[],_0x1079ee=[],_0x2e1f11=[];try{_0x50c018=await exchange[_0xf15e9e(0x100)](),mybalances=_0x50c018[_0xf15e9e(0x1ad)];if(!_0x2e3c2d)for(const [_0x232b93,_0x1f6cb6]of Object[_0xf15e9e(0x169)](mybalances)){_0x2e1f11[_0xf15e9e(0x13d)](_0x232b93);}else config['portfolio'][_0xf15e9e(0x192)](_0x4535b9=>{const _0x38dc6d=_0xf15e9e;if(!_0x4535b9['excluded'])_0x2e1f11[_0x38dc6d(0x13d)](_0x4535b9[_0x38dc6d(0x1c8)]);});if(_0x3370e0=='')for(const [_0x4e5cea,_0x46db03]of Object[_0xf15e9e(0x169)](mybalances)){_0x46db03[_0xf15e9e(0x121)]()!=0x0&&_0x1079ee[_0xf15e9e(0x13d)]({'coin':_0x4e5cea});}else for(const [_0x12e75b,_0x3e1ba9]of Object['entries'](mybalances)){if(_0x2e1f11['includes'](_0x12e75b)){if((_0x3e1ba9['toString']()!=0x0||config[_0xf15e9e(0x1b2)]['find'](_0x2091ad=>_0x2091ad['coin']==_0x12e75b))&&(allSymbols[_0xf15e9e(0x14f)](_0x12e75b+'/'+_0x3370e0)||_0x12e75b==_0x3370e0))_0x1079ee[_0xf15e9e(0x13d)]({'coin':_0x12e75b,'symbol':_0x12e75b+'/'+_0x3370e0,'reverse':![],'number':_0x3e1ba9}),_0x12e75b!=_0x3370e0&&_0x57541f['push'](_0x12e75b+'/'+_0x3370e0);else(_0x3e1ba9[_0xf15e9e(0x121)]()!=0x0||config['portfolio']['find'](_0x2dacc0=>_0x2dacc0[_0xf15e9e(0x1c8)]==_0x12e75b))&&allSymbols[_0xf15e9e(0x14f)](_0x3370e0+'/'+_0x12e75b)&&(_0x1079ee['push']({'coin':_0x12e75b,'symbol':_0x3370e0+'/'+_0x12e75b,'reverse':!![],'number':_0x3e1ba9}),_0x12e75b!=_0x3370e0&&_0x57541f[_0xf15e9e(0x13d)](_0x3370e0+'/'+_0x12e75b));}}}catch(_0xb68cb9){if(!_0x2e3c2d){if(_0xb68cb9[_0xf15e9e(0x121)]()['includes'](_0xf15e9e(0x1d4)))return logHistory(_0xf15e9e(0x1c5),_0xf15e9e(0x1f7)),![];else{if(_0xb68cb9['toString']()[_0xf15e9e(0x14f)]('AuthenticationError'))return logHistory(_0xf15e9e(0x1c5),_0xf15e9e(0x10f)),![];else{if(_0xb68cb9[_0xf15e9e(0x121)]()['includes'](_0xf15e9e(0x123)))return logHistory(_0xf15e9e(0x1c5),_0xf15e9e(0x1fd)),![];else await handleError(_0xb68cb9,_0xf15e9e(0x1f4));}}}else await handleError(_0xb68cb9,'getCoins()');}return _0x1079ee;}async function getPortfolio(_0x47db0c){const _0x56f166=_0x424042;let _0x4e1573=[],_0x110c05=[],_0x37fb91,_0x4d5581=[],_0x1d8fea,_0x294a13;_0x47db0c[_0x56f166(0x1f2)]===_0x56f166(0x135)||_0x47db0c[_0x56f166(0x1a0)]===_0x56f166(0x135)?(_0x1d8fea=config[_0x56f166(0x1f2)],_0x294a13=config[_0x56f166(0x1a0)]):(_0x1d8fea=_0x47db0c[_0x56f166(0x1f2)],_0x294a13=_0x47db0c[_0x56f166(0x1a0)]);await initExchange(_0x1d8fea,_0x294a13);let _0x5a7caf=await loadSymbols();if(_0x5a7caf){_0x4d5581=await getCoins(![],_0x47db0c[_0x56f166(0x1ee)]);if(_0x4d5581===![])proxyEmit(_0x56f166(0x1b2),![]);else{if(_0x47db0c[_0x56f166(0x1ee)]=='')proxyEmit(_0x56f166(0x1b2),_0x4d5581);else{_0x4d5581[_0x56f166(0x192)](_0x33263b=>{const _0x3032d1=_0x56f166;_0x4e1573[_0x3032d1(0x13d)](_0x33263b[_0x3032d1(0x154)]);});try{_0x110c05=await exchange[_0x56f166(0x11e)](_0x4e1573);}catch(_0x3fe4f1){await handleError(_0x3fe4f1,_0x56f166(0x1c9));}_0x4d5581['forEach'](_0x21e3dd=>{const _0x3b1170=_0x56f166;_0x21e3dd[_0x3b1170(0x1c8)]!=_0x47db0c[_0x3b1170(0x1ee)]?_0x37fb91=_0x21e3dd['reverse']?0x1/_0x110c05[_0x21e3dd[_0x3b1170(0x154)]][_0x3b1170(0x1f0)]:_0x110c05[_0x21e3dd[_0x3b1170(0x154)]]['last']:_0x37fb91=0x1,_0x21e3dd[_0x3b1170(0x16b)]=formatResult(_0x37fb91,0x8);}),proxyEmit(_0x56f166(0x1b2),_0x4d5581);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x4d142b){const _0x3b5c6f=_0x424042;let _0x1c3af2=!![];const _0x13e74c=!_0x4d142b[_0x3b5c6f(0x149)]?markets[_0x4d142b['symbol']][_0x3b5c6f(0x1b3)][_0x3b5c6f(0x16a)][_0x3b5c6f(0x150)]:markets[_0x4d142b[_0x3b5c6f(0x154)]][_0x3b5c6f(0x1b3)][_0x3b5c6f(0x1d6)]['min'],_0x511c9b=!_0x4d142b['reverse']?markets[_0x4d142b[_0x3b5c6f(0x154)]][_0x3b5c6f(0x1b3)][_0x3b5c6f(0x1d6)][_0x3b5c6f(0x150)]:markets[_0x4d142b[_0x3b5c6f(0x154)]]['limits'][_0x3b5c6f(0x16a)]['min'];if(Math[_0x3b5c6f(0x171)](_0x4d142b[_0x3b5c6f(0x172)])<_0x13e74c)_0x1c3af2=![];if(Math['abs'](_0x4d142b[_0x3b5c6f(0x172)])*_0x4d142b[_0x3b5c6f(0x1f0)]<_0x511c9b)_0x1c3af2=![];return _0x1c3af2;}async function getBalances(){const _0x4dd81c=_0x424042;let _0x3a46ed=0x0,_0x56ed08;const _0x428207=config['threshold'];currentCoins[_0x4dd81c(0x192)](_0x1cbc3b=>{const _0x2171b4=_0x4dd81c;if(_0x1cbc3b[_0x2171b4(0x1c8)]!=config[_0x2171b4(0x1ee)]){let _0x1a6014=global[_0x2171b4(0x136)][noslash(_0x1cbc3b[_0x2171b4(0x154)])];_0x56ed08=_0x1cbc3b[_0x2171b4(0x149)]?0x1/_0x1a6014:_0x1a6014;}else _0x56ed08=0x1;let _0x21181a=_0x1cbc3b[_0x2171b4(0x1ff)]*_0x56ed08;_0x3a46ed+=_0x21181a,_0x1cbc3b['last']=formatResult(Number(_0x56ed08),0x8),_0x1cbc3b['value']=_0x21181a;}),currentCoins['forEach'](_0x5e3b69=>{const _0x397d7f=_0x4dd81c;let _0x1c6209=config[_0x397d7f(0x1b2)][_0x397d7f(0x12a)](_0x224ab4=>_0x224ab4[_0x397d7f(0x1c8)]==_0x5e3b69[_0x397d7f(0x1c8)]),_0xb4e169=Number(_0x1c6209['distribution']),_0x19fb0f=_0x5e3b69['value']/_0x3a46ed*0x64,_0x5407b8=_0xb4e169*_0x3a46ed/0x64/_0x5e3b69['last']-_0x5e3b69[_0x397d7f(0x1ff)];_0x5e3b69[_0x397d7f(0x1d9)]=formatResult(_0x19fb0f,0x3),_0x5e3b69['target']=formatResult(_0xb4e169,0x3),_0x5e3b69[_0x397d7f(0x172)]=formatResult(_0x5407b8,0x8),_0x5e3b69[_0x397d7f(0x197)]='',_0x5e3b69[_0x397d7f(0x1e8)]='';if(_0x5e3b69[_0x397d7f(0x1c8)]!=config[_0x397d7f(0x1ee)]){if(_0x5e3b69[_0x397d7f(0x1d9)]>_0xb4e169)_0x5e3b69['side']=_0x397d7f(0x1a1),_0x5e3b69[_0x397d7f(0x1e8)]=checkMinimums(_0x5e3b69);else _0x5e3b69['distribution']<_0xb4e169&&(_0x5e3b69[_0x397d7f(0x197)]='buy',_0x5e3b69[_0x397d7f(0x1e8)]=checkMinimums(_0x5e3b69));}_0x5e3b69['delta']=_0x5e3b69[_0x397d7f(0x1d9)]/_0x5e3b69['target']-0x1;}),currentCoins[_0x4dd81c(0x184)]((_0x2446f3,_0x45717f)=>_0x2446f3[_0x4dd81c(0x133)]<_0x45717f[_0x4dd81c(0x133)]?0x1:_0x45717f[_0x4dd81c(0x133)]<_0x2446f3[_0x4dd81c(0x133)]?-0x1:0x0);const _0x39d496=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x39d496[_0x4dd81c(0x103)],'usd':_0x39d496[_0x4dd81c(0x129)],'portfolio':JSON[_0x4dd81c(0x10a)](currentCoins),'threshold':_0x428207},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x4dd81c(0x1d1)])headlessMode({'portfolio':currentCoins,'threshold':_0x428207});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x231d4f=_0x424042;if(!lastBalances)return;let _0x2b2168=await getStartingBalances(![]),_0x51d381=[],_0x502a6a=[],_0x485902;JSON[_0x231d4f(0x17a)](lastBalances[_0x231d4f(0x1b2)])['forEach'](_0x456798=>{const _0xf7afbe=_0x231d4f;let _0x99c684={'coin':_0x456798[_0xf7afbe(0x1c8)],'number':_0x456798[_0xf7afbe(0x1ff)],'price':_0x456798[_0xf7afbe(0x1f0)]};_0x51d381[_0xf7afbe(0x13d)](_0x99c684);if(!_0x2b2168[_0xf7afbe(0x1ca)]||!_0x2b2168[_0xf7afbe(0x1ca)][_0xf7afbe(0x12a)](_0x58340e=>_0x58340e[_0xf7afbe(0x1c8)]==_0x456798['coin']&&_0x58340e[_0xf7afbe(0x1ff)]!=0x0))_0x502a6a[_0xf7afbe(0x13d)](_0x99c684);});const _0x25356a=await getFiat();_0x485902={'date':lastBalances[_0x231d4f(0x13c)][_0x231d4f(0x11d)]('\x20')[0x0],'eur':_0x25356a['eur'],'usd':_0x25356a[_0x231d4f(0x129)],'coins':_0x51d381};let _0x24e3a7=dbPerformance['get'](_0x231d4f(0x15d))[_0x231d4f(0x12a)]({'date':_0x485902['date']})['value']();_0x24e3a7?dbPerformance['get'](_0x231d4f(0x15d))[_0x231d4f(0x12a)]({'date':_0x485902[_0x231d4f(0x1ae)]})[_0x231d4f(0x101)](_0x485902)[_0x231d4f(0x1ab)]():dbPerformance['get']('data')['push'](_0x485902)['write'](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x22e903=_0x424042;if(dbPerformance[_0x22e903(0x113)]('data')['value']()){let _0x2b819b=dbPerformance['get'](_0x22e903(0x15d))[_0x22e903(0x17e)]('date')[_0x22e903(0x130)]();proxyEmit(_0x22e903(0x1e7),_0x2b819b),lastPerformanceEmitted=getDate();}else proxyEmit('performance',[]);}async function getStartingBalances(_0x2683a8=!![]){const _0x598d83=_0x424042;let _0x1ed2c3=dbPerformance[_0x598d83(0x189)](_0x598d83(0x15d))[_0x598d83(0x12a)]({'date':config[_0x598d83(0x1c6)]})[_0x598d83(0x130)]();config[_0x598d83(0x1f2)]!=''&&!_0x1ed2c3&&(await setStartDatePerformance(config),_0x1ed2c3=dbPerformance[_0x598d83(0x189)](_0x598d83(0x15d))[_0x598d83(0x12a)]({'date':config[_0x598d83(0x1c6)]})[_0x598d83(0x130)]());if(config[_0x598d83(0x1f2)]==''||!_0x1ed2c3)return{};let _0x21718c=0x0,_0x4d2713=0x0,_0x375210=0x0,_0x205daf=[],_0xbc6434=0x0;config[_0x598d83(0x1b2)]['forEach'](_0x1fba8f=>{const _0x452ce4=_0x598d83;if(!_0x1fba8f['excluded']){_0x205daf[_0xbc6434]={'coin':_0x1fba8f[_0x452ce4(0x1c8)],'symbol':_0x1fba8f['symbol'],'number':_0x1fba8f['startnumber'],'price':_0x1fba8f['startprice']},_0x21718c+=_0x1fba8f[_0x452ce4(0x177)]*_0x1fba8f[_0x452ce4(0x104)];if(config[_0x452ce4(0x1ee)]==_0x452ce4(0x1c1))_0x4d2713+=_0x1fba8f[_0x452ce4(0x177)]*_0x1fba8f[_0x452ce4(0x104)]*_0x1ed2c3['eur'],_0x375210+=_0x1fba8f[_0x452ce4(0x177)]*_0x1fba8f[_0x452ce4(0x104)]*_0x1ed2c3[_0x452ce4(0x129)];else{if(config[_0x452ce4(0x1ee)]==_0x452ce4(0x19b)||config[_0x452ce4(0x1ee)]==_0x452ce4(0x1bd)||config['basecoin']=='USDC')_0x4d2713+=_0x1fba8f['startprice']*_0x1fba8f[_0x452ce4(0x104)]*_0x1ed2c3['eur']/_0x1ed2c3[_0x452ce4(0x129)],_0x375210+=_0x1fba8f[_0x452ce4(0x177)]*_0x1fba8f[_0x452ce4(0x104)];else config[_0x452ce4(0x1ee)]==_0x452ce4(0x18d)&&(_0x4d2713+=_0x1fba8f[_0x452ce4(0x177)]*_0x1fba8f[_0x452ce4(0x104)],_0x375210+=_0x1fba8f['startprice']*_0x1fba8f[_0x452ce4(0x104)]*_0x1ed2c3[_0x452ce4(0x129)]/_0x1ed2c3[_0x452ce4(0x103)]);}_0xbc6434++;}});let _0x4856f1={'basecoin':_0x21718c,'eur':_0x4d2713,'usd':_0x375210,'coins':_0x205daf};if(_0x2683a8)proxyEmit(_0x598d83(0x1aa),_0x4856f1);return _0x4856f1;}function headlessMode(_0x18f287){const _0x27ace4=_0x424042;let _0x26e808=_0x18f287['portfolio'],_0xe638d=_0x18f287[_0x27ace4(0x122)],_0x1d82bf=[];for(let _0x366368 of _0x26e808){if(_0x366368[_0x27ace4(0x1c8)]!=config[_0x27ace4(0x1ee)]){if(_0x366368['distribution']/_0x366368[_0x27ace4(0x1ba)]-0x1>=_0xe638d/0x64){if(_0x366368[_0x27ace4(0x1e8)])_0x1d82bf[_0x27ace4(0x13d)](_0x366368);}else{if(_0x366368['distribution']/_0x366368[_0x27ace4(0x1ba)]-0x1<=-_0xe638d/0x64){if(_0x366368[_0x27ace4(0x1e8)])_0x1d82bf[_0x27ace4(0x13d)](_0x366368);}}}}_0x1d82bf[_0x27ace4(0x1e4)]>0x0&&placeOrder(_0x1d82bf);}function symbolToCoin(_0x491bab){const _0xd25ba9=_0x424042;let _0x41c69a;if(_0x491bab['includes']('/'+config[_0xd25ba9(0x1ee)]))_0x41c69a=_0x491bab[_0xd25ba9(0x1b7)]('/'+config[_0xd25ba9(0x1ee)],'');if(_0x491bab[_0xd25ba9(0x14f)](config[_0xd25ba9(0x1ee)]+'/'))_0x41c69a=_0x491bab[_0xd25ba9(0x1b7)](config[_0xd25ba9(0x1ee)]+'/','');return _0x41c69a;}async function validateOrders(_0x15ac8c=0x0){const _0x2403f5=_0x424042;let _0x5e2f1c=[],_0xc9f99=config[_0x2403f5(0x16c)]==_0x2403f5(0x170)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2403f5(0x11f)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x2403f5(0x192)](_0x3a3c88=>{const _0x1f304a=_0x2403f5;let _0x4c378c=previousCoins[_0x1f304a(0x12a)](_0x219fb2=>_0x219fb2[_0x1f304a(0x1c8)]==symbolToCoin(_0x3a3c88[_0x1f304a(0x154)])),_0x364f9a=currentCoins[_0x1f304a(0x12a)](_0x30cc2a=>_0x30cc2a['coin']==symbolToCoin(_0x3a3c88[_0x1f304a(0x154)])),_0x41f32d,_0x2e6ba1;_0x3a3c88[_0x1f304a(0x197)]==_0x1f304a(0x1a3)&&!_0x3a3c88[_0x1f304a(0x149)]||_0x3a3c88['side']==_0x1f304a(0x1a1)&&_0x3a3c88[_0x1f304a(0x149)]?(_0x41f32d=_0x4c378c[_0x1f304a(0x1ff)]+0.9*_0x3a3c88[_0x1f304a(0x110)],_0x2e6ba1=_0x4c378c['number']+1.1*_0x3a3c88['filled']):(_0x41f32d=_0x4c378c[_0x1f304a(0x1ff)]-1.1*_0x3a3c88[_0x1f304a(0x110)],_0x2e6ba1=_0x4c378c['number']-0.9*_0x3a3c88[_0x1f304a(0x110)]);const _0x1d1bfb=_0x3a3c88[_0x1f304a(0x110)]!=0x0&&_0x364f9a[_0x1f304a(0x1ff)]>=_0x41f32d&&_0x364f9a[_0x1f304a(0x1ff)]<=_0x2e6ba1;_0x5e2f1c[_0x1f304a(0x13d)](_0x1d1bfb);if(_0x1d1bfb&&config[_0x1f304a(0x16c)]!=_0x1f304a(0x170)){if(_0x3a3c88[_0x1f304a(0x149)])logHistory(_0x1f304a(0x17c),_0x1f304a(0x10c)+_0x3a3c88[_0x1f304a(0x154)]+'\x20'+_0x3a3c88[_0x1f304a(0x197)]+'\x20#'+formatResult(_0x3a3c88['filled']/_0x3a3c88[_0x1f304a(0x16b)],0x8)+'\x20@'+formatResult(_0x3a3c88['price'],0x8));else logHistory(_0x1f304a(0x17c),'Order\x20filled:\x20'+_0x3a3c88[_0x1f304a(0x154)]+'\x20'+_0x3a3c88[_0x1f304a(0x197)]+'\x20#'+formatResult(_0x3a3c88[_0x1f304a(0x110)],0x8)+'\x20@'+formatResult(_0x3a3c88[_0x1f304a(0x16b)],0x8));}}),_0x5e2f1c[_0x2403f5(0x192)]((_0x1de863,_0x5096dc)=>{if(_0x1de863)lastOrders['splice'](_0x5096dc,0x1);});if(_0x15ac8c<_0xc9f99&&_0x5e2f1c[_0x2403f5(0x14f)](![])){if(_0x15ac8c==0x0){config[_0x2403f5(0x16c)]==_0x2403f5(0x170)?logHistory('error',_0x2403f5(0x116)):logHistory('error',_0x2403f5(0x1f8));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x15ac8c);},0xa*0x3e8);}else{(_0x15ac8c==0x1||_0x15ac8c==Math['round'](_0xc9f99/0x2)||_0x15ac8c==_0xc9f99-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x15ac8c);},validateOrderInterval);}}else{lockOrders=![];if(_0x15ac8c>0x0&&!_0x5e2f1c[_0x2403f5(0x14f)](![]))config[_0x2403f5(0x16c)]==_0x2403f5(0x170)?logHistory(_0x2403f5(0x15a),_0x2403f5(0x1de)):logHistory(_0x2403f5(0x15a),_0x2403f5(0x1a7));else _0x15ac8c>0x0&&_0x5e2f1c['includes'](![])&&(config[_0x2403f5(0x16c)]=='market'?logHistory(_0x2403f5(0x15a),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x2403f5(0x186)](_0xc9f99*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders[_0x2403f5(0x192)](async _0x1564b1=>{const _0x400851=_0x2403f5;try{const _0x11be19=await exchange[_0x400851(0x18f)](_0x1564b1[_0x400851(0x198)],_0x1564b1[_0x400851(0x154)]);}catch(_0x115bfc){if(_0x115bfc[_0x400851(0x121)]()[_0x400851(0x14f)](_0x400851(0x164))){}else await handleError(_0x115bfc,_0x400851(0x1af));}}),logHistory(_0x2403f5(0x15a),_0x2403f5(0x146)+Math['round'](_0xc9f99*validateOrderInterval/0xea60)+_0x2403f5(0x1db))));}}async function resetCoinResults(){const _0x5a1ecf=_0x424042;dbCoinResults[_0x5a1ecf(0x189)](_0x5a1ecf(0x1ca))[_0x5a1ecf(0x1d7)]()[_0x5a1ecf(0x1ab)]();let _0x2c6525=await getStartingBalances(![]);_0x2c6525[_0x5a1ecf(0x1ca)][_0x5a1ecf(0x192)](_0x50ac8a=>{const _0x380334=_0x5a1ecf,_0x27623a=_0x50ac8a[_0x380334(0x154)][_0x380334(0x14f)](config[_0x380334(0x1ee)]+'/');if(_0x50ac8a['coin']!=config[_0x380334(0x1ee)]){let _0x2a7997={'coin':_0x50ac8a[_0x380334(0x1c8)],'number':_0x50ac8a[_0x380334(0x1ff)],'breakeven':_0x50ac8a[_0x380334(0x16b)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x380334(0x1ca))[_0x380334(0x13d)](_0x2a7997)[_0x380334(0x1ab)]();}});}async function updateCoinResults(_0x4b3c76){const _0x21b6c3=_0x424042;let _0x4d34de,_0x39d2ea,_0x4f72cb,_0x3c457c,_0x40b58a,_0x521c6e,_0x2c8dc3=dbCoinResults[_0x21b6c3(0x189)](_0x21b6c3(0x1ca))[_0x21b6c3(0x12a)]({'coin':_0x4b3c76['coin']})[_0x21b6c3(0x130)]();if(!_0x2c8dc3)return;if(_0x4b3c76[_0x21b6c3(0x1d0)]&&_0x4b3c76[_0x21b6c3(0x1d0)][_0x21b6c3(0x1bc)]==config[_0x21b6c3(0x1ee)])_0x4d34de=_0x4b3c76[_0x21b6c3(0x1d0)][_0x21b6c3(0x1d6)];else{if(_0x4b3c76[_0x21b6c3(0x1d0)]&&_0x4b3c76[_0x21b6c3(0x1d0)]['currency']==_0x21b6c3(0x159))_0x4d34de=_0x4b3c76[_0x21b6c3(0x1d0)][_0x21b6c3(0x1d6)]*global[_0x21b6c3(0x136)][_0x21b6c3(0x159)+config['basecoin']];else _0x4d34de=0.001*_0x4b3c76[_0x21b6c3(0x110)];}const _0x4abe49=_0x4b3c76[_0x21b6c3(0x154)][_0x21b6c3(0x14f)](config[_0x21b6c3(0x1ee)]+'/');_0x4abe49&&(_0x521c6e={'coin':_0x4b3c76['coin'],'symbol':_0x4b3c76[_0x21b6c3(0x154)],'filled':_0x4b3c76[_0x21b6c3(0x110)]*_0x4b3c76[_0x21b6c3(0x16b)],'side':_0x4b3c76[_0x21b6c3(0x197)]==_0x21b6c3(0x1a1)?'buy':'sell','price':0x1/_0x4b3c76[_0x21b6c3(0x16b)]},_0x4b3c76={..._0x521c6e});_0x4b3c76[_0x21b6c3(0x197)]=='buy'?_0x4f72cb=(_0x2c8dc3[_0x21b6c3(0x180)]*_0x2c8dc3[_0x21b6c3(0x1ff)]+_0x4b3c76[_0x21b6c3(0x16b)]*_0x4b3c76[_0x21b6c3(0x110)])/(_0x2c8dc3['number']+_0x4b3c76[_0x21b6c3(0x110)]):_0x4f72cb=(_0x2c8dc3[_0x21b6c3(0x180)]*_0x2c8dc3[_0x21b6c3(0x1ff)]-_0x4b3c76['price']*_0x4b3c76[_0x21b6c3(0x110)])/(_0x2c8dc3[_0x21b6c3(0x1ff)]-_0x4b3c76['filled']);_0x4b3c76[_0x21b6c3(0x197)]==_0x21b6c3(0x1a3)?_0x3c457c=_0x2c8dc3[_0x21b6c3(0x151)]:_0x3c457c=_0x2c8dc3['realized']+(_0x4b3c76['price']-_0x2c8dc3[_0x21b6c3(0x180)])*_0x4b3c76[_0x21b6c3(0x110)];_0x39d2ea=_0x4b3c76['side']==_0x21b6c3(0x1a1)?_0x2c8dc3[_0x21b6c3(0x1ff)]-_0x4b3c76[_0x21b6c3(0x110)]:_0x2c8dc3[_0x21b6c3(0x1ff)]+_0x4b3c76['filled'],_0x40b58a=(_0x4b3c76[_0x21b6c3(0x16b)]-_0x4f72cb)*_0x39d2ea;let _0x4cd8f4={'coin':_0x4b3c76[_0x21b6c3(0x1c8)],'number':_0x39d2ea,'breakeven':formatResult(_0x4f72cb,0x8),'realized':formatResult(_0x3c457c,0x8),'unrealized':formatResult(_0x40b58a,0x8),'fees':formatResult(_0x2c8dc3[_0x21b6c3(0x153)]+_0x4d34de,0x8),'sells':_0x4b3c76[_0x21b6c3(0x197)]==_0x21b6c3(0x1a1)?_0x2c8dc3['sells']+0x1:_0x2c8dc3['sells'],'buys':_0x4b3c76[_0x21b6c3(0x197)]==_0x21b6c3(0x1a3)?_0x2c8dc3[_0x21b6c3(0x1df)]+0x1:_0x2c8dc3[_0x21b6c3(0x1df)]};dbCoinResults[_0x21b6c3(0x189)]('coins')['find']({'coin':_0x4b3c76[_0x21b6c3(0x1c8)]})[_0x21b6c3(0x101)](_0x4cd8f4)[_0x21b6c3(0x1ab)]();}async function placeOrder(_0x30e913){const _0x24337d=_0x424042,_0x4047d8=config['ordertype']==_0x24337d(0x170)?_0x24337d(0x170):_0x24337d(0x13a);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x24337d(0x17a)](JSON[_0x24337d(0x10a)](currentCoins));for(const _0xfabe2c of _0x30e913){let _0x290273,_0x448632,_0x1a10fb,_0x2fb2a2,_0x92f325,_0x8ff27=_0xfabe2c[_0x24337d(0x154)];try{const _0x598dd5=await exchange['fetchTickers'](_0x8ff27),_0x17a35f=_0x598dd5[_0x8ff27];_0x290273=_0x17a35f[_0x24337d(0x1f0)],_0x448632=_0x17a35f[_0x24337d(0x1f9)],_0x1a10fb=_0x17a35f[_0x24337d(0x127)];_0xfabe2c[_0x24337d(0x149)]?(_0x2fb2a2=_0xfabe2c['side']==_0x24337d(0x1a3)?_0x24337d(0x1a1):_0x24337d(0x1a3),_0x92f325=Math['abs'](_0xfabe2c[_0x24337d(0x172)])/_0x290273):(_0x2fb2a2=_0xfabe2c['side'],_0x92f325=Math[_0x24337d(0x171)](_0xfabe2c[_0x24337d(0x172)]));_0x4047d8==_0x24337d(0x13a)&&(config[_0x24337d(0x16c)]==_0x24337d(0x1c0)&&(_0x290273=_0x2fb2a2==_0x24337d(0x1a3)?_0x448632:_0x1a10fb),config[_0x24337d(0x16c)]=='limit-low'&&(_0x290273=_0x2fb2a2==_0x24337d(0x1a3)?_0x1a10fb:_0x448632));_0x92f325=formatResult(_0x92f325,0x8),_0x290273=formatResult(_0x290273,0x8);const _0x5e556c=await exchange[_0x24337d(0x179)](_0x8ff27,_0x4047d8,_0x2fb2a2,_0x92f325,_0x290273);lastOrders['push']({'orderId':_0x5e556c['id'],'symbol':_0x8ff27,'side':_0x2fb2a2,'reverse':_0xfabe2c[_0x24337d(0x149)],'amount':_0xfabe2c['reverse']?_0x5e556c[_0x24337d(0x16a)]*_0x5e556c['price']:_0x5e556c['amount'],'filled':_0xfabe2c['reverse']?_0x5e556c[_0x24337d(0x110)]*_0x5e556c[_0x24337d(0x16b)]:_0x5e556c[_0x24337d(0x110)],'price':_0x5e556c[_0x24337d(0x16b)]});const _0x51102f=_0x2fb2a2==_0x24337d(0x1a1)?config[_0x24337d(0x18a)]?String['fromCodePoint']('0x'+config[_0x24337d(0x18a)])+'\x20':'':config[_0x24337d(0x176)]?String['fromCodePoint']('0x'+config[_0x24337d(0x176)])+'\x20':'',_0x55a84e=_0x4047d8=='market'?_0x24337d(0x19c):config[_0x24337d(0x16c)]==_0x24337d(0x1c0)?_0x24337d(0x11b):_0x24337d(0x155);if(_0x4047d8==_0x24337d(0x170))logHistory(_0x24337d(0x17c),''+_0x51102f+_0x55a84e+_0x24337d(0x1ed)+_0x8ff27+'\x20'+_0x2fb2a2+'\x20#'+formatResult(_0x5e556c[_0x24337d(0x110)],0x8)+'\x20@'+formatResult(_0x5e556c[_0x24337d(0x16b)],0x8));else logHistory(_0x24337d(0x17c),''+_0x51102f+_0x55a84e+_0x24337d(0x1ed)+_0x8ff27+'\x20'+_0x2fb2a2+'\x20#'+formatResult(_0x5e556c['amount'],0x8)+'\x20@'+formatResult(_0x5e556c['price'],0x8));_0x5e556c[_0x24337d(0x1c8)]=_0xfabe2c[_0x24337d(0x1c8)],await updateCoinResults(_0x5e556c);if(config[_0x24337d(0x126)]!=0x0){let _0x4747d4=null;if(cooldownTracker[_0x24337d(0x1e4)]==config[_0x24337d(0x126)]-0x1)_0x4747d4=cooldownTracker['shift']();const _0x24ebce=getTimeStamp();cooldownTracker[_0x24337d(0x13d)](_0x24ebce);if(_0x4747d4){const _0x3bb4de=fns[_0x24337d(0x175)](new Date(_0x24ebce),new Date(_0x4747d4));_0x3bb4de<cooldownInterval&&(logHistory(_0x24337d(0x1c5),_0x24337d(0x13b)+config[_0x24337d(0x126)]+_0x24337d(0x18c)+cooldownInterval/0x3c+_0x24337d(0x119)+cooldownPeriod/(0xe10*0x3e8)+_0x24337d(0x194)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x246ac3){if(_0x246ac3[_0x24337d(0x121)]()[_0x24337d(0x14f)](_0x24337d(0x152)))logHistory(_0x24337d(0x1c5),_0x24337d(0x16f)+_0x8ff27);else{if(_0x246ac3[_0x24337d(0x121)]()['includes']('Invalid\x20quantity'))logHistory(_0x24337d(0x1c5),'Order\x20amount\x20is\x20invalid:\x20'+_0x8ff27);else await handleError(_0x246ac3,_0x24337d(0x163));}}}if(lastOrders[_0x24337d(0x1e4)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x24337d(0x1d1)]&&(config['ordertype']=='market'?logHistory('error',_0x24337d(0xff)):logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config[_0x24337d(0x1d1)]&&logHistory(_0x24337d(0x1c5),_0x24337d(0x190)));}}function logHistory(_0x3a8fc1,_0x430244,_0x2e2bc5=''){const _0x58975f=_0x424042;let _0xec3181={'time':getTimeStamp(),'type':_0x3a8fc1,'event':_0x430244};dbLogs[_0x58975f(0x189)]('logs')['push'](_0xec3181)[_0x58975f(0x1ab)]();if(_0x2e2bc5=='')_0x2e2bc5=_0x430244;proxyEmit(_0x58975f(0x1c4),{'log':_0xec3181,'summary':_0x2e2bc5}),process[_0x58975f(0x1d5)]({'telegram':_0xec3181}),logging(''+_0xec3181[_0x58975f(0x1c4)]);}function emitHistory(_0x4f4fd9={}){const _0x4ec0ee=_0x424042;Object[_0x4ec0ee(0x16d)](_0x4f4fd9)[_0x4ec0ee(0x1e4)]==0x0&&(_0x4f4fd9={'type':['order',_0x4ec0ee(0x1c4)],'event':'','page':0x1});if(_0x4f4fd9['type'][_0x4ec0ee(0x14f)](_0x4ec0ee(0x1c4)))_0x4f4fd9[_0x4ec0ee(0x15c)][_0x4ec0ee(0x1e1)](_0x4f4fd9[_0x4ec0ee(0x15c)][_0x4ec0ee(0x111)](_0x4ec0ee(0x1c4)),0x1,_0x4ec0ee(0x1c5),_0x4ec0ee(0x15a));if(dbLogs[_0x4ec0ee(0x113)]('logs')[_0x4ec0ee(0x130)]()){let _0x1e5fbf=dbLogs['get'](_0x4ec0ee(0x174))[_0x4ec0ee(0x10e)](_0x400371=>{const _0x2d0197=_0x4ec0ee;if(_0x4f4fd9[_0x2d0197(0x15c)][_0x2d0197(0x1e4)]==0x0)return![];else return _0x4f4fd9['type'][_0x2d0197(0x14f)](_0x400371[_0x2d0197(0x15c)]);})[_0x4ec0ee(0x10e)](_0x8193c2=>{const _0x5a5710=_0x4ec0ee;if(_0x4f4fd9['event']=='')return!![];else return _0x8193c2[_0x5a5710(0x1c4)][_0x5a5710(0x117)]()[_0x5a5710(0x14f)](_0x4f4fd9[_0x5a5710(0x1c4)][_0x5a5710(0x117)]());})[_0x4ec0ee(0x17e)](_0x4ec0ee(0x13c)),_0x2112e5=_0x1e5fbf['value']()[_0x4ec0ee(0x1e4)];_0x1e5fbf=_0x1e5fbf[_0x4ec0ee(0x149)]()['slice']((_0x4f4fd9[_0x4ec0ee(0x1b6)]-0x1)*logPageSize,_0x4f4fd9[_0x4ec0ee(0x1b6)]*logPageSize-0x1)[_0x4ec0ee(0x149)]()[_0x4ec0ee(0x130)](),proxyEmit('event-history',{'logs':_0x1e5fbf,'total':_0x2112e5});}else proxyEmit('event-history',{'logs':[],'total':0x0});}async function pauseBot(_0x4df45e){const _0x50ddce=_0x424042,_0x23d02a=new Date()[_0x50ddce(0x1e5)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x23d02a-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['send']({'stop':'restart'});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x50ddce(0x1e5)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),await sleep(_0x4df45e),botPaused=![],reset();}}async function handleError(_0x35518c,_0x59c2a7,_0x20c26a=''){const _0x2e5e5f=_0x424042;if(_0x35518c[_0x2e5e5f(0x121)]()[_0x2e5e5f(0x14f)](_0x2e5e5f(0x1be)))logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+_0x2e5e5f(0x199)),await pauseBot(pauseBotInterval);else{if(_0x35518c[_0x2e5e5f(0x121)]()[_0x2e5e5f(0x14f)]('ExchangeNotAvailable'))logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+_0x2e5e5f(0x1cc)),await pauseBot(pauseBotInterval);else{if(_0x35518c[_0x2e5e5f(0x121)]()['includes'](_0x2e5e5f(0x128)))logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+'\x20|\x20Binance\x20exchange\x20is\x20not\x20responding\x20-\x20pausing\x20bot\x20for\x205\x20minutes'),await pauseBot(pauseBotInterval);else{if(_0x35518c[_0x2e5e5f(0x121)]()[_0x2e5e5f(0x14f)](_0x2e5e5f(0x1d4)))logHistory('error',_0x59c2a7+_0x2e5e5f(0x17d)),logHistory(_0x2e5e5f(0x1c5),'Bot\x20was\x20stopped\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['send']({'stop':_0x2e5e5f(0x19d)});else{if(_0x35518c['toString']()['includes'](_0x2e5e5f(0x102)))logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory('error',_0x2e5e5f(0x156)),process[_0x2e5e5f(0x1d5)]({'stop':_0x2e5e5f(0x19d)});else{if(_0x35518c[_0x2e5e5f(0x121)]()[_0x2e5e5f(0x14f)](_0x2e5e5f(0x123)))logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+_0x2e5e5f(0x105)),logHistory('error',_0x2e5e5f(0x156)),process['send']({'stop':'kill'});else{if(_0x35518c[_0x2e5e5f(0x121)]()[_0x2e5e5f(0x14f)](_0x2e5e5f(0x200)))logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20(1)\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x2e5e5f(0x156)),process['send']({'stop':_0x2e5e5f(0x19d)});else{if(_0x35518c[_0x2e5e5f(0x121)]()[_0x2e5e5f(0x14f)](_0x2e5e5f(0x10d)))logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+_0x2e5e5f(0x183)),logHistory('error',_0x2e5e5f(0x156)),process[_0x2e5e5f(0x1d5)]({'stop':_0x2e5e5f(0x19d)});else _0x35518c[_0x2e5e5f(0x121)]()[_0x2e5e5f(0x14f)](_0x2e5e5f(0x107))?logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+_0x2e5e5f(0xfe)):(logHistory(_0x2e5e5f(0x1c5),_0x59c2a7+'\x20|\x20Error\x20occured\x20-\x20pausing\x20bot\x20for\x205\x20minutes'),logging(_0x59c2a7+'\x20|\x20Error\x20details:\x20',_0x35518c),await pauseBot(pauseBotInterval));}}}}}}}}function _0x4810(_0x49489e,_0x243466){const _0x13d932=_0x26ae();return _0x4810=function(_0x39cc38,_0x47e9d8){_0x39cc38=_0x39cc38-0xfe;let _0x26aeb2=_0x13d932[_0x39cc38];return _0x26aeb2;},_0x4810(_0x49489e,_0x243466);}function formatResult(_0x4dadd6,_0x7b4898){const _0x5a1fc4=_0x424042;return parseFloat(_0x4dadd6[_0x5a1fc4(0x1a2)](_0x7b4898));}function logging(_0x51236a,_0x115e37=''){const _0xccd7eb=_0x424042;console[_0xccd7eb(0x114)](getTimeStamp()+_0xccd7eb(0x109)+botID+_0xccd7eb(0x1a5)+_0x51236a,_0x115e37);}function getServerTime(){const _0x30a3a1=_0x424042,_0x4958b4=new Date();return _0x4958b4['getFullYear']()+'/'+(_0x4958b4[_0x30a3a1(0x11c)]()+0x1)[_0x30a3a1(0x121)]()['padStart'](0x2,'0')+'/'+_0x4958b4['getDate']()[_0x30a3a1(0x121)]()[_0x30a3a1(0x1bf)](0x2,'0')+'\x20'+_0x4958b4[_0x30a3a1(0x118)]()['toString']()['padStart'](0x2,'0')+':'+_0x4958b4['getMinutes']()[_0x30a3a1(0x121)]()['padStart'](0x2,'0')+':'+_0x4958b4[_0x30a3a1(0x144)]()[_0x30a3a1(0x121)]()[_0x30a3a1(0x1bf)](0x2,'0');}function getTimeStamp(){const _0x346bbd=_0x424042,_0x5ab496=shiftedTime();return _0x5ab496[_0x346bbd(0x1d3)]()+'/'+(_0x5ab496[_0x346bbd(0x11c)]()+0x1)[_0x346bbd(0x121)]()[_0x346bbd(0x1bf)](0x2,'0')+'/'+_0x5ab496['getDate']()[_0x346bbd(0x121)]()[_0x346bbd(0x1bf)](0x2,'0')+'\x20'+_0x5ab496[_0x346bbd(0x118)]()[_0x346bbd(0x121)]()[_0x346bbd(0x1bf)](0x2,'0')+':'+_0x5ab496[_0x346bbd(0x182)]()[_0x346bbd(0x121)]()[_0x346bbd(0x1bf)](0x2,'0')+':'+_0x5ab496[_0x346bbd(0x144)]()[_0x346bbd(0x121)]()[_0x346bbd(0x1bf)](0x2,'0');}function getDate(){const _0x2ac9d3=_0x424042,_0x193cad=shiftedTime();return _0x193cad['getFullYear']()+'/'+(_0x193cad[_0x2ac9d3(0x11c)]()+0x1)[_0x2ac9d3(0x121)]()['padStart'](0x2,'0')+'/'+_0x193cad[_0x2ac9d3(0x1a4)]()['toString']()[_0x2ac9d3(0x1bf)](0x2,'0');}function getHour(){const _0x4d36ca=_0x424042,_0x48dd38=shiftedTime();return _0x48dd38[_0x4d36ca(0x118)]()[_0x4d36ca(0x121)]()[_0x4d36ca(0x1bf)](0x2,'0');}function sleep(_0x3ec3cb){return new Promise(_0x123057=>setTimeout(_0x123057,_0x3ec3cb));}function shiftedTime(){const _0x394e90=_0x424042,_0x7ad422=new Date();let _0x2b6ac6=_0x7ad422;if(config&&config[_0x394e90(0x12d)]!==0x0)_0x2b6ac6=fns[_0x394e90(0x115)](_0x7ad422,{'hours':config[_0x394e90(0x12d)]});return _0x2b6ac6;}