const _0x280e21=_0x1e01;(function(_0x202061,_0x5b660a){const _0xbf9cc9=_0x1e01,_0x5f24fe=_0x202061();while(!![]){try{const _0xb743b5=-parseInt(_0xbf9cc9(0x1d1))/0x1*(-parseInt(_0xbf9cc9(0x13a))/0x2)+-parseInt(_0xbf9cc9(0x15e))/0x3+parseInt(_0xbf9cc9(0xa0))/0x4+-parseInt(_0xbf9cc9(0x14b))/0x5+-parseInt(_0xbf9cc9(0x101))/0x6*(parseInt(_0xbf9cc9(0x149))/0x7)+parseInt(_0xbf9cc9(0x150))/0x8*(parseInt(_0xbf9cc9(0x78))/0x9)+parseInt(_0xbf9cc9(0x157))/0xa*(-parseInt(_0xbf9cc9(0x1de))/0xb);if(_0xb743b5===_0x5b660a)break;else _0x5f24fe['push'](_0x5f24fe['shift']());}catch(_0x395b56){_0x5f24fe['push'](_0x5f24fe['shift']());}}}(_0x409f,0x389eb));const _0x515090=function(){let _0x52e210=!![];return function(_0x4990c5,_0x2eb9d4){const _0x3f1faa=_0x52e210?function(){const _0x596d1d=_0x1e01;if(_0x2eb9d4){const _0x436418=_0x2eb9d4[_0x596d1d(0xbd)](_0x4990c5,arguments);return _0x2eb9d4=null,_0x436418;}}:function(){};return _0x52e210=![],_0x3f1faa;};}(),_0x33d750=_0x515090(this,function(){const _0x2895cb=_0x1e01;return _0x33d750[_0x2895cb(0xcb)]()[_0x2895cb(0x1ed)](_0x2895cb(0xc0))['toString']()[_0x2895cb(0x1bf)](_0x33d750)[_0x2895cb(0x1ed)](_0x2895cb(0xc0));});_0x33d750();'use strict';const ccxt=require(_0x280e21(0x1ab))[_0x280e21(0x92)],low=require(_0x280e21(0x1d2)),FileSync=require(_0x280e21(0x119)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x280e21(0x177))[_0x280e21(0x1a2)],util=require(_0x280e21(0x16e)),argv=require(_0x280e21(0x17d))(process[_0x280e21(0x138)]['slice'](0x2))['argv'],path=require(_0x280e21(0xcc));let exchange;global[_0x280e21(0x1af)]={},global[_0x280e21(0x12b)]={};const exceptions={'binance':[_0x280e21(0xa6),_0x280e21(0x7c),_0x280e21(0x176),_0x280e21(0x1b3),_0x280e21(0x181)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x280e21(0x1f0)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x280e21(0x123)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x280e21(0xc1))[_0x280e21(0x17c)],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console['log'](_0x280e21(0x109)+botID+_0x280e21(0x126)),killBot());const userID=process[_0x280e21(0x138)][0x3]||'',configpath=userID?_0x280e21(0x133)+userID+'/':_0x280e21(0x133),logspath=userID?_0x280e21(0x1d3)+userID+'/':'./logs/',loggerfile=fs[_0x280e21(0xfc)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x280e21(0x1ca)](configpath)&&fs[_0x280e21(0x95)](configpath);!fs[_0x280e21(0x1ca)](logspath)&&fs[_0x280e21(0x95)](logspath);const configfile=configpath+_0x280e21(0x8a)+botID+'-config.json',logfile=configpath+_0x280e21(0x8a)+botID+_0x280e21(0x94),performancefile=configpath+_0x280e21(0x8a)+botID+_0x280e21(0x178),coinresultsfile=configpath+_0x280e21(0x8a)+botID+_0x280e21(0xf1),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x280e21(0x10c),configbackuppath=configpath+_0x280e21(0xd6),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x280e21(0x1eb)]({'logs':[],'version':serverversion})[_0x280e21(0x7d)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x280e21(0x1eb)]({'data':[],'version':serverversion})[_0x280e21(0x7d)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x280e21(0x7d)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x280e21(0x1eb)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x280e21(0xe3),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1083a8=>{const _0x1259a6=_0x280e21;console[_0x1259a6(0x116)](_0x1083a8);},'simple':_0x3c41ed=>{const _0x56bdbf=_0x280e21;console['log'](_0x3c41ed),loggerfile[_0x56bdbf(0x7d)](util[_0x56bdbf(0x11e)](_0x3c41ed)+'\x0a');},'full':async(_0x5cfbba,_0x2a0584='')=>{const _0x2bc7e6=_0x280e21;let _0x124d45;if(config[_0x2bc7e6(0x79)])_0x124d45=getTimeStamp()+':\x20'+config[_0x2bc7e6(0x171)]+_0x2bc7e6(0x1a5)+_0x5cfbba;else _0x124d45=getTimeStamp()+_0x2bc7e6(0xc8)+botID+_0x2bc7e6(0x1a5)+_0x5cfbba;console['log'](_0x124d45),loggerfile[_0x2bc7e6(0x7d)](util[_0x2bc7e6(0x11e)](_0x124d45)+'\x0a'),_0x2a0584&&(console[_0x2bc7e6(0x116)](_0x2a0584),loggerfile[_0x2bc7e6(0x7d)](util[_0x2bc7e6(0x11e)](_0x2a0584)+'\x0a'));},'debug':async(_0x524ffd,_0xf5cb44='')=>{const _0xdbda33=_0x280e21;let _0x4a9c98;if(config[_0xdbda33(0x79)])_0x4a9c98=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0x524ffd;else _0x4a9c98=getTimeStamp()+_0xdbda33(0xc8)+botID+_0xdbda33(0x194)+_0x524ffd;if(debugging)console[_0xdbda33(0x116)](_0x4a9c98);loggerfile[_0xdbda33(0x7d)](util[_0xdbda33(0x11e)](_0x4a9c98)+'\x0a');if(_0xf5cb44){if(debugging)console[_0xdbda33(0x116)](_0xf5cb44);loggerfile[_0xdbda33(0x7d)](util['format'](_0xf5cb44)+'\x0a');}}};process['on'](_0x280e21(0xf7),function(_0x520f82){const _0x22bd91=_0x280e21;logger[_0x22bd91(0x1c2)](_0x520f82);});settings[_0x280e21(0x1e6)]!=config['timeshift']&&updateTimeshift(settings[_0x280e21(0x1e6)]);settings[_0x280e21(0xc9)]!=config[_0x280e21(0xc9)]&&updateOnepagemode(settings[_0x280e21(0xc9)]);process[_0x280e21(0x146)]({'started':_0x280e21(0xa8)},_0x2f4c29=>{}),initializeProcessListeners();function proxyEmit(_0x5b1c0a,_0x330496=null){const _0x24c2f1=_0x280e21;process[_0x24c2f1(0x146)]({'function':_0x5b1c0a,'args':_0x330496},_0x5cfa03=>{});}function initializeProcessListeners(){const _0x2e112f=_0x280e21;process['on'](_0x2e112f(0x156),_0x2b2672=>{const _0x7c5cf6=_0x2e112f;switch(Object[_0x7c5cf6(0x154)](_0x2b2672)[0x0]){case _0x7c5cf6(0x1e6):_0x2b2672[_0x7c5cf6(0x1e6)]!=undefined&&(settings[_0x7c5cf6(0x1e6)]=_0x2b2672['timeshift'],updateTimeshift(settings[_0x7c5cf6(0x1e6)]));break;case _0x7c5cf6(0xc9):_0x2b2672[_0x7c5cf6(0xc9)]!=undefined&&(settings[_0x7c5cf6(0xc9)]=_0x2b2672[_0x7c5cf6(0xc9)],updateOnepagemode(settings[_0x7c5cf6(0xc9)]));break;case _0x7c5cf6(0x9e):_0x2b2672[_0x7c5cf6(0x9e)]!=undefined&&(bots=JSON[_0x7c5cf6(0x12f)](_0x2b2672['bots']),proxyEmit(_0x7c5cf6(0x9e),bots));break;case'function':switch(_0x2b2672['function']){case _0x7c5cf6(0x187):initclient();break;case _0x7c5cf6(0xe8):toggleBotMode();break;case _0x7c5cf6(0x1d8):emitHistory(_0x2b2672[_0x7c5cf6(0xdc)]);break;case _0x7c5cf6(0x7b):deleteHistoryAlerts(_0x2b2672[_0x7c5cf6(0xdc)]);break;case _0x7c5cf6(0x18b):getPortfolio(_0x2b2672['args']);break;case'storeConfiguration':storeConfiguration(_0x2b2672[_0x7c5cf6(0xdc)]);break;case _0x7c5cf6(0x1d6):storeHeadless(_0x2b2672[_0x7c5cf6(0xdc)]);break;case _0x7c5cf6(0xdf):storeFiat(_0x2b2672['args']);break;case'resetHistory':resetHistory();break;case _0x7c5cf6(0x1b9):getStartingBalances(getNormalizedPerformance());break;case _0x7c5cf6(0xb8):placeOrder(_0x2b2672[_0x7c5cf6(0xdc)]);break;case _0x7c5cf6(0x127):cancelLoading();break;case _0x7c5cf6(0x1e2):showConfig();break;case _0x7c5cf6(0x86):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x28b954=null,_0x7672b7=![]){const _0xb21104=_0x280e21;logger[_0xb21104(0x19a)](_0xb21104(0xd5)+(_0x28b954&&_0x28b954[_0xb21104(0x1c0)]>0x0?_0xb21104(0x195)+_0x28b954[_0xb21104(0x188)](','):_0xb21104(0x89))+'\x20|\x20'+(_0x7672b7?_0xb21104(0xae):_0xb21104(0xfb)));if(pidBalances)clearTimeout(pidBalances);if(!_0x7672b7)lastCoinsToBalance='';coinsLoaded=![];if(config[_0xb21104(0xed)]!=''&&config[_0xb21104(0xed)]!=_0xb21104(0x193)){if(_0x7672b7){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x469bd0){if(_0x469bd0['toString']()['includes'](_0xb21104(0x8f))){handleErrorNoStop(_0x469bd0,_0xb21104(0xac));return;}else{handleError(_0x469bd0,_0xb21104(0xac));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x28b954);const _0x1b1ee0=await getCoins();[currentCoins,currentCoinsAll]=_0x1b1ee0,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0xb21104(0x1c0)]==0x0&&allOpenOrders[_0xb21104(0x1c0)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}function _0x409f(){const _0x3492d1=['API-key\x20format\x20invalid','apiSecret','LOCKED','toggleBotMode','%\x20(','No\x20more\x20open\x20orders\x20-\x20','emojisell','error','apiKey','warning','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','symbol','-results.json','findIndex','currency','fetchTickers','Order\x20amount\x20is\x20invalid:\x20','added','uncaughtException','parseISO','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','configuration','exchange\x20not\x20reloaded','createWriteStream','fee','recovery','ORDERS.UNLOCKING','enabled','270XQkhlW','2.5.0','min','coins','Net\x20effect','0\x20-\x20EXECUTION:\x20','<b>Bot\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Error:\x20Invalid\x20argument\x20','secure','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','bb-secure.json','portfolio','number','clientOrderId','cancelOrder','exec','page','event','Initiating\x20exchange\x20reload','1\x20-\x20Unlock\x20orders','log','cancelOrders()','forEach','lowdb/adapters/FileSync','map','Portfolio\x20change\x20detected:\x20','Order\x20filled:\x20','entries','format','<b>','BTC','excluded','BUSD','UNLOCKED','fromCodePoint','timestamp',',\x20must\x20be\x20a\x203\x20digit\x20number','cancelLoading','exchanges','\x20minutes\x20-\x20','percentage','change','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','assign','timeout','parse','cooldown','USD','\x20orders\x20in\x20less\x20than\x20','./config/','loading-canceled','<pre>','settings','string','argv','openOrders','6duMMdA','timer:','BNB','/EUR','configuration-stored','Net\x20','Exchange','ordertype','ask','\x20value','highest','canceled','send','\x20not\x20available','sortBy','37562RAxcvs','2\x20-\x20Orders\x20unlocked','897575gEMWvY','get','getPortfolio(0)','indexOf','.json','3336296nvGjgJ','cancel','limits','slice','keys','</pre>','message','1759910YGFgDI','abs','logs','none','net-basecoin','1\x20-\x20Handle\x20open\x20orders','MIN_NOTIONAL','690807TQiRhN','DDoSProtection','Market','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','trade','getHours','splice','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','getMinutes','\x20metrics:</b>\x20\x0a\x0a','2\x20-\x20FILLED\x20known\x20order:\x20','getDate','orderstatus','orderId','fetchClosedOrders','startdate','util','remainingSymbols','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','botname','startprice','getMonth','emojibuy','Manual\x20balancing\x20required','XEM/BUSD','hybrid-crypto-js','-performance.json','placeOrder()','sell','Binance','version','yargs/yargs','includes','remove','stringify','YOYOW/','sort','buy','watchOrders','Fees\x20|\x20currency:\x20','yyyy/MM/dd','initclient','join','find','USDT','getPortfolio','data','sells','cost','precision','\x20:\x20','getTime','InvalidNonce','***','\x20>\x20[DEBUG]\x20','additional\x20symbols\x20','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','offset','no\x20open\x20orders','createOrder','debug','\x20-\x20bot\x20not\x20started','toUpperCase','realized','isEqual','Pausing\x20for\x20','leftTxt','random','Crypt','reverse','fetchOpenOrders','\x20>\x20','exchange','padStart','full','EUR','2\x20-\x20Validate\x20orders:\x20','ccxt','\x20exchange','Resetting\x20bot\x20history','ORDERS.UNLOCKED','ticker','\x20|\x20','delta','BNB/','NANO/','Limit\x20(low-margin)','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','average','replace','watchTransactions','getStartingBalances','net-fiat','recreateCoinResults()','rightTxt','writeFile','getCoinNumber()','constructor','length','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','simple','removed','Cooldown\x20ended\x20-\x20balancing\x20resumed','limit','unlinkSync','side','\x20|\x20highest:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','existsSync','type','bot','price','fiat','\x20API\x20key\x20is\x20invalid','filter','143081KomhSW','lowdb','./logs/','toFixed','limit-low','storeHeadless','symbols','emitHistory','final','progress','netoffset','\x20change','initial','22tYEFzg','limit-high','headless','ExchangeNotAvailable','showConfig','recreate','closed','2\x20-\x20FILLED\x20unknown\x20order:\x20','timeshift','success','Transaction\x20detection\x20blocked','usd','customId','defaults','fetchTicker','search','Executing\x20exchange\x20reload','amount','freeze','target','open','3\x20-\x20handling\x20FILLED\x20order:\x20','9WlDnQh','showname','eur','deleteHistoryAlerts','HOT/BTC','write','filled','last','max','************','Order(s)\x20not\x20validated\x20after\x20','-------------------------------\x0a','yyyy-MM-dd\x27T\x27HH:mm:ss','coin','sendMetricsTelegram','order','differenceInSeconds','no\x20additional\x20symbols','bot-','UNLOCKING','restart','shift','startnumber','AuthenticationError','getPortfolio(2)','buys','pro','substring','-events.json','mkdirSync','\x20|\x20lock\x20orders:\x20','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20minutes','split','loadMarkets','cloneDeep','2.3.5','bots','getFullYear','1555484FCUGOu','breakeven','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','privateKey','\x20portfolio:</b>\x20\x0a\x0a','Avoiding\x20continuous\x20order\x20attempts','DAI/','Limit\x20(high-margin)','running','coin-loading-progress','event-history','valid','loadSymbols()','time','exchange\x20reloaded','Bot\x20','1\x20-\x20Validate\x20orders:\x20','status','recent20','ETH','fetchBalance','change24h','\x20not\x20responding','fees','placeOrder','RequestTimeout','total','balancing\x20resumed','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','apply','performance','\x20API\x20secret\x20is\x20invalid','(((.+)+)+)+$','./version.json','distribution','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','getCoins()','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','watchTrades','round',':\x20Bot\x20','onepagemode','balances','toString','path','threshold','\x20|\x20Error\x20details:\x20','getSeconds','market','basecoin','changes','Invalid\x20API\x20key\x20or\x20secret\x20entered','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Reset\x20|\x20','/backup/','date','toLowerCase','value','has','push','args','datetime','starting-balances','storeFiat','liquidity','set','\x20order:\x20','sha256','Unknown\x20error\x20occured'];_0x409f=function(){return _0x3492d1;};return _0x409f();}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x10ea88=_0x280e21;logger[_0x10ea88(0x19a)](_0x10ea88(0x114));while(lockOrders!=ORDERS[_0x10ea88(0x123)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x10ea88(0x19a)](_0x10ea88(0x1ee)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x3da529=config['exchange'],_0x111312=config[_0x280e21(0xed)],_0x2d7fde=config[_0x280e21(0xe6)]){const _0x590935=_0x280e21;exchange&&await stopExchange();!supportedExchanges()[_0x590935(0x17e)](_0x3da529)&&(logHistory(_0x590935(0xec),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x3da529+_0x590935(0x1ac)),killBot());const _0x36aeb4=ccxt[_0x3da529['toLowerCase']()];exchange=new _0x36aeb4({'apiKey':_0x111312,'secret':_0x2d7fde,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x19fe75=_0x280e21;let _0x4f18c0=config[_0x19fe75(0xd1)]==_0x19fe75(0xb3)?'ETH':_0x19fe75(0x120),_0x3ef1b9=!allSymbols[_0x19fe75(0x17e)](_0x4f18c0+'/USD')?_0x19fe75(0x18a):_0x19fe75(0x131),_0x518645=!allSymbols[_0x19fe75(0x17e)](_0x4f18c0+_0x19fe75(0x13d))?_0x3ef1b9:_0x19fe75(0x1a9);stablecoins={'eur':{'coin':''+_0x4f18c0+_0x518645,'symbol':_0x4f18c0+'/'+_0x518645},'usd':{'coin':''+_0x4f18c0+_0x3ef1b9,'symbol':_0x4f18c0+'/'+_0x3ef1b9}};}async function initwsCcxt(_0x4a781e){const _0x504a25=_0x280e21;_0x4a781e==null&&(_0x4a781e=[],config[_0x504a25(0x10d)][_0x504a25(0x118)](_0x427899=>{const _0x52d428=_0x504a25;if(!_0x427899[_0x52d428(0x121)]&&_0x427899[_0x52d428(0x85)]!=config[_0x52d428(0xd1)])_0x4a781e[_0x52d428(0xdb)](_0x427899[_0x52d428(0xf0)]);}));if(!_0x4a781e[_0x504a25(0x17e)](stablecoins['eur'][_0x504a25(0xf0)]))_0x4a781e[_0x504a25(0xdb)](stablecoins[_0x504a25(0x7a)][_0x504a25(0xf0)]);if(!_0x4a781e['includes'](stablecoins[_0x504a25(0x1e9)][_0x504a25(0xf0)]))_0x4a781e[_0x504a25(0xdb)](stablecoins['usd'][_0x504a25(0xf0)]);if(!_0x4a781e['includes'](_0x504a25(0x1b2)+config['basecoin']))_0x4a781e[_0x504a25(0xdb)]('BNB/'+config[_0x504a25(0xd1)]);loadCoins(_0x4a781e);const _0x1a8a28=async _0x194d92=>{const _0x3eb991=_0x504a25,_0x165998=await exchange[_0x3eb991(0x1ec)](_0x194d92);global[_0x3eb991(0x1af)][noslash(_0x165998[_0x3eb991(0xf0)])]=_0x165998[_0x3eb991(0x7f)];while(!![]){if(!botPaused)try{const _0x264fb9=await exchange[_0x3eb991(0xc6)](_0x194d92);global[_0x3eb991(0x1af)][noslash(_0x264fb9[0x0][_0x3eb991(0xf0)])]=_0x264fb9[0x0][_0x3eb991(0x1cd)],await sleep(0x3e8);}catch(_0x80f4d){if(!exchangeStopped)await handleError(_0x80f4d,_0x3eb991(0xc6),_0x194d92);}else await sleep(0x3e8);}},_0x2e260e=async _0xcc8d5f=>{const _0x4ce79d=_0x504a25;while(!![]){if(!botPaused)try{const _0x16c605=await exchange[_0x4ce79d(0x1ec)](_0xcc8d5f);global['change'][_0x16c605[_0x4ce79d(0xf0)]]=_0x16c605[_0x4ce79d(0x12a)],await sleep(0x3c*0x3e8);}catch(_0x2ce53d){if(!exchangeStopped)await handleError(_0x2ce53d,_0x4ce79d(0xf4),_0xcc8d5f);}else await sleep(0x3e8);}},_0x10255f=async()=>{const _0x5bef97=_0x504a25;while(!![]){if(!botPaused)try{const _0x205eb6=await exchange[_0x5bef97(0x184)]();_0x205eb6[_0x5bef97(0x118)](_0x1563c7=>{updateNumberCoinsCcxt(_0x1563c7);});}catch(_0x28e714){if(!exchangeStopped)await handleError(_0x28e714,_0x5bef97(0x184));}else await sleep(0x3e8);}};_0x4a781e[_0x504a25(0x118)](async _0x4beb74=>{_0x1a8a28(_0x4beb74),_0x2e260e(_0x4beb74);}),!wsEventsSet&&(wsEventsSet=!![],_0x10255f(),watchTransactions());}async function watchTransactions(){const _0x53d60b=_0x280e21;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x45ab80=await getCoins(),[_0x237d8d,_0x5218ba]=_0x45ab80;let _0xcaedec=[];currentCoins[_0x53d60b(0x118)](_0x45b2da=>{const _0x3e7d8d=_0x53d60b,_0x1e405d=_0x237d8d['find'](_0x29e4ad=>_0x29e4ad[_0x3e7d8d(0x85)]==_0x45b2da[_0x3e7d8d(0x85)]);_0x1e405d&&(_0x45b2da['number']!=_0x1e405d[_0x3e7d8d(0x10e)]&&_0xcaedec[_0x3e7d8d(0xdb)]({'coin':_0x45b2da['coin'],'symbol':_0x45b2da['symbol'],'number':Number(formatResult(_0x1e405d[_0x3e7d8d(0x10e)]-_0x45b2da[_0x3e7d8d(0x10e)],0x8))}));});if(_0xcaedec['length']==0x1&&!blockTransactionDetection){logger[_0x53d60b(0x19a)](_0x53d60b(0x185)+lastFees[_0x53d60b(0xf3)]+_0x53d60b(0x1c8)+lastFees[_0x53d60b(0x144)]);if(!lastFees[_0x53d60b(0xf3)]||_0xcaedec[0x0][_0x53d60b(0x85)]!=lastFees[_0x53d60b(0xf3)]||_0xcaedec[0x0]['number']>lastFees[_0x53d60b(0x144)]){let _0x5d4adf;if(_0xcaedec[0x0][_0x53d60b(0x85)]!=config['basecoin']){let _0x2e1465=global[_0x53d60b(0x1af)][noslash(_0xcaedec[0x0][_0x53d60b(0xf0)])];_0x5d4adf=_0xcaedec[0x0][_0x53d60b(0x1a3)]?0x1/_0x2e1465:_0x2e1465;}else _0x5d4adf=0x1;_0xcaedec[0x0]['price']=_0x5d4adf,delete _0xcaedec[0x0][_0x53d60b(0xf0)];let _0x1bcb4f=[],_0x1df72f=[...config[_0x53d60b(0xe0)]]||[],_0x10e6e0=config[_0x53d60b(0xe0)];_0x1df72f['sort']((_0x26e197,_0x3108e1)=>_0x26e197[_0x53d60b(0xd7)]>_0x3108e1[_0x53d60b(0xd7)]?-0x1:_0x3108e1[_0x53d60b(0xd7)]>_0x26e197[_0x53d60b(0xd7)]?0x1:0x0);const _0x4e4f47=getDate();if(_0x1df72f[0x0]){const _0x1acff9=fns[_0x53d60b(0x12f)](_0x1df72f[0x0][_0x53d60b(0xd7)],'yyyy/MM/dd',new Date()),_0xcf0c32=fns[_0x53d60b(0x12f)](_0x4e4f47,'yyyy/MM/dd',new Date());if(fns[_0x53d60b(0x19e)](_0x1acff9,_0xcf0c32)){_0x1bcb4f=_0x1df72f[0x0][_0x53d60b(0xd2)];const _0x19a188=_0x1bcb4f[_0x53d60b(0x189)](_0x6b32fb=>_0x6b32fb['coin']==_0xcaedec[0x0]['coin']);_0x19a188?(_0x19a188[_0x53d60b(0x10e)]+=_0xcaedec[0x0]['number'],_0x19a188[_0x53d60b(0x10e)]==0x0&&(_0x1bcb4f=_0x1bcb4f[_0x53d60b(0x1d0)](_0x5d2190=>{const _0x2e4b5a=_0x53d60b;return _0x5d2190[_0x2e4b5a(0x85)]!=_0xcaedec[0x0]['coin'];}))):_0x1bcb4f[_0x53d60b(0xdb)](_0xcaedec[0x0]);const _0x2414b7=_0x10e6e0['find'](_0x1f0752=>_0x1f0752[_0x53d60b(0xd7)]==_0x4e4f47);_0x2414b7['changes']=_0x1bcb4f;}else _0x10e6e0[_0x53d60b(0xdb)]({'date':_0x4e4f47,'changes':[_0xcaedec[0x0]]});}const _0x2e2042=_0x10e6e0['find'](_0x407ba4=>_0x407ba4[_0x53d60b(0xd7)]==_0x4e4f47);if(_0x2e2042){let _0x53b5b8=!![];_0x2e2042[_0x53d60b(0xd2)]['forEach'](_0x1b5876=>{const _0x393851=_0x53d60b;if(_0x1b5876[_0x393851(0x10e)]!=0x0)_0x53b5b8=![];}),_0x53b5b8&&(_0x10e6e0=_0x10e6e0[_0x53d60b(0x1d0)](_0x4d0f84=>{const _0x163220=_0x53d60b;return _0x4d0f84[_0x163220(0xd7)]!=_0x4e4f47;}));}let _0x4b6fb3=dbConfig[_0x53d60b(0x14c)](_0x53d60b(0x1cc))[_0x53d60b(0x189)]({'botID':botID})[_0x53d60b(0xd9)]();_0x4b6fb3&&(dbConfig['get'](_0x53d60b(0x1cc))['find']({'botID':botID})['assign']({'liquidity':_0x10e6e0})['write'](),config[_0x53d60b(0xe0)]=_0x10e6e0),logHistory(_0x53d60b(0x1e7),_0x53d60b(0x11b)+Math[_0x53d60b(0x158)](_0xcaedec[0x0][_0x53d60b(0x10e)])+'\x20'+_0xcaedec[0x0][_0x53d60b(0x85)]+'\x20'+(_0xcaedec[0x0][_0x53d60b(0x10e)]>0x0?_0x53d60b(0xf6):_0x53d60b(0x1c3))+_0x53d60b(0xbc)),proxyEmit(_0x53d60b(0xfa),emittedConfiguration());}else logger['debug']('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0x53d60b(0x158)](_0xcaedec[0x0][_0x53d60b(0x10e)])+'\x20'+_0xcaedec[0x0][_0x53d60b(0x85)]+'\x20'+(_0xcaedec[0x0][_0x53d60b(0x10e)]>0x0?_0x53d60b(0xf6):_0x53d60b(0x1c3)));transactionDetected=!![],currentCoins=_0x237d8d,currentCoinsAll=_0x5218ba;}await sleep(watchTransactionsInterval);}catch(_0x495e13){if(!exchangeStopped)await handleError(_0x495e13,_0x53d60b(0x1b8));}else await sleep(0x3e8);}}async function loadSymbols(_0x97f625=config[_0x280e21(0x1a6)],_0x1bc049=![]){const _0x4c6e94=_0x280e21;if(allSymbols&&!_0x1bc049)return;try{markets=await exchange[_0x4c6e94(0x9b)](),allSymbols=exchange[_0x4c6e94(0x1d7)][_0x4c6e94(0x1d0)](_0x1f3eee=>{const _0x23ba2d=_0x4c6e94;let _0x504d00=![];const _0x3d9337=exceptions[_0x97f625[_0x23ba2d(0xd8)]()]||[];return _0x3d9337[_0x23ba2d(0x118)](_0x4d24f0=>{const _0x40fa03=_0x23ba2d;if(_0x1f3eee[_0x40fa03(0x17e)](_0x4d24f0))_0x504d00=!![];}),!_0x504d00;});}catch(_0x1b37d7){throw _0x1b37d7;}}async function initclient(){const _0x21e171=_0x280e21;emitLoadingProgress(),proxyEmit(_0x21e171(0xfa),emittedConfiguration()),proxyEmit(_0x21e171(0x128),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x53b8c6=getNormalizedPerformance();emitPerformance(_0x53b8c6),getStartingBalances(_0x53b8c6);}async function toggleBotMode(){const _0x1b09d2=_0x280e21;let _0x2386cb=dbConfig[_0x1b09d2(0x14c)](_0x1b09d2(0x1cc))[_0x1b09d2(0x189)]({'botID':botID})[_0x1b09d2(0xd9)]();if(_0x2386cb){const _0x3cc21a=!_0x2386cb[_0x1b09d2(0x1e0)];dbConfig['get'](_0x1b09d2(0x1cc))['find']({'botID':botID})[_0x1b09d2(0x12d)]({'headless':_0x3cc21a})[_0x1b09d2(0x7d)](),config['headless']=_0x3cc21a,proxyEmit(_0x1b09d2(0xfa),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3a0184=_0x280e21;process[_0x3a0184(0x146)]({'updatebotmanager':!![]},_0x553a16=>{});}async function loadCoins(_0x2e9ad3){const _0xb011c2=_0x280e21;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x21940c,_0x5a1129=0x0,_0x470737=0x0;_0x2e9ad3[_0xb011c2(0x118)](_0x3a0672=>{const _0x4625f4=_0xb011c2;loading[_0x4625f4(0x16f)][_0x4625f4(0xdb)](_0x3a0672);}),loadingCanceled=![];let _0x8360f6=![];while(_0x21940c!=_0x2e9ad3[_0xb011c2(0x1c0)]){_0x21940c=0x0,_0x2e9ad3[_0xb011c2(0x118)](_0x51d358=>{const _0x21a252=_0xb011c2;if(global[_0x21a252(0x1af)][noslash(_0x51d358)]){loading['remainingSymbols']=loading['remainingSymbols']['filter'](_0xaf2db9=>_0xaf2db9!=_0x51d358);if(!watchedSymbols[_0x21a252(0x17e)](_0x51d358))watchedSymbols[_0x21a252(0xdb)](_0x51d358);_0x21940c++;}}),loading[_0xb011c2(0x1da)]=Math[_0xb011c2(0xc7)](_0x21940c/_0x2e9ad3['length']*0x64);loading['progress']!=0x64&&(_0x470737>0x1e*0x5&&(loading[_0xb011c2(0x12e)]=!![],emitLoadingProgress()),_0x470737>0x78*0x5&&!_0x8360f6&&(loading[_0xb011c2(0x151)]=!![],emitLoadingProgress(),_0x8360f6=!![],logHistory(_0xb011c2(0xec),_0xb011c2(0x1c9)+loading['remainingSymbols'][_0xb011c2(0x188)](',\x20')+_0xb011c2(0x19b)),logHistory(_0xb011c2(0xec),_0xb011c2(0x19f)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{const _0x61c65e=_0xb011c2;process[_0x61c65e(0x146)]({'stop':_0x61c65e(0x8c)},_0x1fa72a=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0xb011c2(0x151)]=!![],emitLoadingProgress();break;}else _0x21940c!=_0x5a1129&&(_0x5a1129=_0x21940c,emitLoadingProgress()),_0x470737++,await sleep(0xc8);}_0x21940c==_0x2e9ad3[_0xb011c2(0x1c0)]&&(coinsLoaded=!![],process[_0xb011c2(0x146)]({'status':_0xb011c2(0x100),'live':'running'},_0xa84fa4=>{}),_0x8360f6&&logHistory(_0xb011c2(0x1e7),_0xb011c2(0xf9)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2f0682=_0x280e21;proxyEmit(_0x2f0682(0xfa),{...emittedConfiguration(),'configstate':_0x2f0682(0x134)});}function emitLoadingProgress(){const _0x534815=_0x280e21;proxyEmit(_0x534815(0xa9),loading);}async function getFiat(){const _0x4fecbb=_0x280e21;let _0x519f66=global[_0x4fecbb(0x1af)][stablecoins[_0x4fecbb(0x7a)][_0x4fecbb(0x85)]],_0x48f2a1=global['ticker'][stablecoins[_0x4fecbb(0x1e9)][_0x4fecbb(0x85)]];return{'eur':Number(_0x519f66),'usd':Number(_0x48f2a1)};}function _0x1e01(_0x28f327,_0x3fbd28){const _0x5b69a7=_0x409f();return _0x1e01=function(_0x33d750,_0x515090){_0x33d750=_0x33d750-0x77;let _0x409fd8=_0x5b69a7[_0x33d750];return _0x409fd8;},_0x1e01(_0x28f327,_0x3fbd28);}function capitalize(_0x5da038){const _0x64e1c6=_0x280e21;return _0x5da038[_0x64e1c6(0x93)](0x0,0x1)[_0x64e1c6(0x19c)]()+_0x5da038[_0x64e1c6(0x93)](0x1);}function supportedExchanges(){const _0x26994e=_0x280e21,_0x25dae3=['ws',_0x26994e(0xf4),_0x26994e(0x1ec),_0x26994e(0xc6),_0x26994e(0x184),_0x26994e(0x110),'createOrder','fetchOpenOrders','fetchClosedOrders',_0x26994e(0xb4)];let _0x3a7103=[],_0x192824=[],_0x1a4d76=ccxt[_0x26994e(0x128)];_0x1a4d76[_0x26994e(0x118)](_0x5239fe=>{const _0x54c6bd=_0x26994e;try{const _0x252d93=new ccxt[_0x5239fe]();if(_0x252d93['has']['ws'])_0x192824[_0x54c6bd(0xdb)](_0x252d93);}catch(_0x1cd111){}}),_0x192824[_0x26994e(0x118)](_0xa15602=>{const _0xdd7f38=_0x26994e;let _0x1004d6=0x0;_0x25dae3['forEach'](_0x1ed6a1=>{const _0x548153=_0x1e01;_0x1ed6a1 in _0xa15602[_0x548153(0xda)]&&_0xa15602['has'][_0x1ed6a1]&&_0x1004d6++;}),_0x1004d6==_0x25dae3[_0xdd7f38(0x1c0)]&&_0x3a7103[_0xdd7f38(0xdb)](capitalize(_0xa15602['id']));});let _0xa111aa=[];return _0x1a4d76[_0x26994e(0x118)](_0x310419=>{const _0x670ee2=_0x26994e;_0x310419=capitalize(_0x310419);if(!_0x3a7103[_0x670ee2(0x17e)](_0x310419))_0xa111aa[_0x670ee2(0xdb)](_0x310419);}),_0x3a7103;}function setStartDatePerformance(){const _0x503942=_0x280e21;if(config&&config['liquidity'][0x0][_0x503942(0xd2)]['length']!=0x0){const _0x3756c3=config[_0x503942(0xe0)][0x0][_0x503942(0xd2)];dbPerformance[_0x503942(0x14c)](_0x503942(0x18c))[_0x503942(0x189)]({'date':config[_0x503942(0x16d)]})[_0x503942(0x12d)]({'coins':_0x3756c3})['write']();}}async function recreateCoinResults(){const _0x44274d=_0x280e21;let _0x1bc411,_0x33d6f8=[];try{const _0x5f30a2=fns[_0x44274d(0x11e)](fns[_0x44274d(0xf8)](config[_0x44274d(0x16d)][_0x44274d(0x1b7)](/\//g,'-')),_0x44274d(0x84));for(const _0x27d112 of currentCoins){if(_0x27d112[_0x44274d(0x85)]!=config[_0x44274d(0xd1)]){let _0xcda08c=0x0,_0x15083c,_0xcc552c;_0x1bc411=await getAllEventOrders(_0x27d112[_0x44274d(0xf0)]);if(_0x1bc411[_0x44274d(0x1c0)]>0x0)_0x1bc411[_0x44274d(0x118)](_0xb20a30=>{const _0x488ca0=_0x44274d,_0x2459a9=_0x27d112[_0x488ca0(0xf0)][_0x488ca0(0x17e)](config[_0x488ca0(0xd1)]+'/');_0x33d6f8[_0x488ca0(0xdb)]({'datetime':_0xb20a30[_0x488ca0(0xdd)],'coin':_0x27d112[_0x488ca0(0x85)],'symbol':_0x27d112[_0x488ca0(0xf0)],'side':_0xb20a30['side'],'reverse':_0x2459a9,'amount':formatResult(_0xb20a30[_0x488ca0(0x7e)],0x8),'filled':formatResult(_0xb20a30[_0x488ca0(0x7e)],0x8),'price':formatResult(_0xb20a30[_0x488ca0(0x1cd)],0x8)}),_0xcda08c=_0xb20a30[_0x488ca0(0x1c7)]==_0x488ca0(0x183)?_0xcda08c+_0xb20a30[_0x488ca0(0x7e)]:_0xcda08c-_0xb20a30[_0x488ca0(0x7e)];if(!_0xcc552c)_0xcc552c=_0xb20a30[_0x488ca0(0x1cd)];});_0x15083c=_0x27d112[_0x44274d(0x10e)]-_0xcda08c;let _0x4cd5bc;config[_0x44274d(0xe0)][_0x44274d(0x118)](_0x1cd8c8=>{const _0x12fa08=_0x44274d;!_0x4cd5bc&&(_0x4cd5bc=_0x1cd8c8['changes'][_0x12fa08(0x189)](_0x148a1d=>_0x148a1d[_0x12fa08(0x85)]==_0x27d112[_0x12fa08(0x85)]),_0x4cd5bc&&(_0x15083c=_0x4cd5bc['number'],_0xcc552c=_0x4cd5bc[_0x12fa08(0x1cd)]));});let _0x580b7c=dbCoinResults[_0x44274d(0x14c)](_0x44274d(0x104))[_0x44274d(0x189)]({'coin':_0x27d112[_0x44274d(0x85)]})[_0x44274d(0xd9)]();_0x580b7c={'coin':_0x27d112[_0x44274d(0x85)],'number':_0x15083c,'breakeven':_0xcc552c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x44274d(0x104))['find']({'coin':_0x27d112['coin']})[_0x44274d(0x12d)](_0x580b7c)[_0x44274d(0x7d)]();}}_0x33d6f8['sort']((_0x402dcd,_0x470f0a)=>_0x402dcd[_0x44274d(0xdd)]>_0x470f0a[_0x44274d(0xdd)]?0x1:_0x470f0a[_0x44274d(0xdd)]>_0x402dcd[_0x44274d(0xdd)]?-0x1:0x0);let _0x101563=0x0;for(let _0x2f34c6 of _0x33d6f8){await updateCoinResults(_0x2f34c6,!![]);}}catch(_0x5e6c66){await handleError(_0x5e6c66,_0x44274d(0x1bb));}}async function getAllEventOrders(_0x39fb31){const _0xb6e80d=_0x280e21;let _0x438227=[],_0x4a70a5=dbLogs[_0xb6e80d(0x14c)]('logs')[_0xb6e80d(0x1d0)](_0x56691c=>{const _0x44ac4e=_0xb6e80d,_0xc23a85=_0x56691c[_0x44ac4e(0x113)][_0x44ac4e(0xd8)]();return _0xc23a85[_0x44ac4e(0x17e)](_0x39fb31['toLowerCase']())&&(_0xc23a85[_0x44ac4e(0x17e)]('market')&&_0xc23a85['includes'](_0x44ac4e(0x87))||_0xc23a85[_0x44ac4e(0x17e)](_0x44ac4e(0x7e))&&_0xc23a85[_0x44ac4e(0x17e)](_0x44ac4e(0x87)));})[_0xb6e80d(0x148)](_0xb6e80d(0xad))[_0xb6e80d(0xd9)]();return _0x4a70a5[_0xb6e80d(0x118)](_0xa0d6b2=>{const _0x38e5dd=_0xb6e80d,_0x326130=_0xa0d6b2[_0x38e5dd(0x113)][_0x38e5dd(0x17e)](_0x38e5dd(0x17a))?_0x38e5dd(0x17a):_0x38e5dd(0x183),_0xe14b28=/#([0-9]|\.)+\s/i,_0x4fe432=Number(_0xe14b28[_0x38e5dd(0x111)](_0xa0d6b2['event'])[0x0][_0x38e5dd(0x153)](0x1)),_0x6c1ca7=/@([0-9]|\.)+$/i,_0x4c29bd=Number(_0x6c1ca7[_0x38e5dd(0x111)](_0xa0d6b2[_0x38e5dd(0x113)])[0x0][_0x38e5dd(0x153)](0x1));_0x438227[_0x38e5dd(0xdb)]({'datetime':_0xa0d6b2[_0x38e5dd(0xad)],'coin':symbolToCoin(_0x39fb31),'symbol':_0x39fb31,'side':_0x326130,'amount':_0x4fe432,'filled':_0x4fe432,'price':_0x4c29bd});}),_0x438227;}async function getAllOrders(_0x2d82c4,_0x3fbdb7){const _0xf9eb1d=_0x280e21;let _0x1aeee7=[];while(_0x3fbdb7<exchange['milliseconds']()){const _0x1ceee3=0x1f4,_0x177f3a=await exchange[_0xf9eb1d(0x16c)](_0x2d82c4,_0x3fbdb7,_0x1ceee3);if(_0x177f3a['length'])_0x3fbdb7=_0x177f3a[_0x177f3a[_0xf9eb1d(0x1c0)]-0x1][_0xf9eb1d(0x125)]+0x1,_0x1aeee7=_0x1aeee7['concat'](_0x177f3a);else break;}return _0x1aeee7;}async function validate24hChanges(){const _0x30e4fd=_0x280e21;for(const _0x9ac9b6 of currentCoins){if(_0x9ac9b6[_0x30e4fd(0x85)]!=config[_0x30e4fd(0xd1)]){let _0xdcaebc;_0x9ac9b6['reverse']?_0xdcaebc=formatResult((0x1/(global[_0x30e4fd(0x12b)][noslash(_0x9ac9b6[_0x30e4fd(0xf0)])]/0x64+0x1)-0x1)*0x64,0x3):_0xdcaebc=global[_0x30e4fd(0x12b)][noslash(_0x9ac9b6['symbol'])],_0xdcaebc<config[_0x30e4fd(0xb5)]&&(logHistory(_0x30e4fd(0xec),_0x9ac9b6[_0x30e4fd(0x85)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0xdcaebc+'%'),logHistory(_0x30e4fd(0xec),_0x30e4fd(0x161)),logHistory('error',_0x30e4fd(0x98)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x1d5ea3,_0x537fa4){const _0x139ce4=_0x280e21;if(!_0x1d5ea3)return!![];const _0x39acbe=_0x537fa4['split']('.'),_0x5e57cd=_0x1d5ea3[_0x139ce4(0x9a)]('.');for(var _0x3de58f=0x0;_0x3de58f<_0x5e57cd[_0x139ce4(0x1c0)];_0x3de58f++){const _0x4ab039=~~_0x5e57cd[_0x3de58f],_0x4cf266=~~_0x39acbe[_0x3de58f];if(_0x4ab039<_0x4cf266)return!![];if(_0x4ab039>_0x4cf266)return![];}return![];}async function oneTimeMigration(){const _0x3deabc=_0x280e21;let _0x21c61e=dbLogs['get'](_0x3deabc(0x17c))[_0x3deabc(0xd9)]();if(isOlderVersion(_0x21c61e,'2.3.5')){let _0x145322=[];const _0x37a928=dbLogs[_0x3deabc(0x14c)](_0x3deabc(0x159))['value']();_0x37a928[_0x3deabc(0x118)](_0x6f71d0=>{const _0x4929e7=_0x3deabc;_0x145322['push']({'time':_0x6f71d0[_0x4929e7(0xad)],'type':_0x6f71d0[_0x4929e7(0x1cb)],'event':_0x6f71d0['event']});}),dbLogs['get'](_0x3deabc(0x159))[_0x3deabc(0x12d)](_0x145322)[_0x3deabc(0x7d)]();}let _0x48502e=dbConfig[_0x3deabc(0x14c)](_0x3deabc(0x17c))['value']();if(isOlderVersion(_0x48502e,_0x3deabc(0x9d))){let _0x4d87f2=dbConfig[_0x3deabc(0x14c)](_0x3deabc(0x1cc))['find']({'botID':botID})[_0x3deabc(0xd9)]();if(_0x4d87f2){let _0xca5a3f=[];_0x4d87f2['portfolio'][_0x3deabc(0x118)](_0x35f195=>{const _0x3bb642=_0x3deabc;_0xca5a3f[_0x3bb642(0xdb)]({'coin':_0x35f195[_0x3bb642(0x85)],'number':_0x35f195[_0x3bb642(0x8e)],'price':_0x35f195[_0x3bb642(0x172)]}),delete _0x35f195[_0x3bb642(0x8e)],delete _0x35f195[_0x3bb642(0x172)];});if(_0xca5a3f[_0x3deabc(0x1c0)]!==0x0)fs[_0x3deabc(0x1bd)](configbackuppath+('starting-balance-'+botID+_0x3deabc(0x14f)),JSON[_0x3deabc(0x180)](_0xca5a3f,null,0x4),function(_0x5e9206){if(_0x5e9206){}});const _0x351154=(_0x4f8750,_0x3ad1eb)=>{const _0x4ae1b3=_0x3deabc;let _0x10f002=[];_0x3ad1eb['forEach'](_0x4bf073=>{const _0x2a34e1=_0x1e01,_0x107f0c=_0x4f8750['find'](_0x128f42=>_0x128f42[_0x2a34e1(0x85)]==_0x4bf073[_0x2a34e1(0x85)]);if(!_0x107f0c)_0x10f002['push'](_0x4bf073);});let _0x1b5f4e=[];return _0x4f8750[_0x4ae1b3(0x118)](_0x1253e0=>{const _0x4116fe=_0x4ae1b3,_0x6b1d4b=_0x3ad1eb[_0x4116fe(0x189)](_0x50866d=>_0x50866d[_0x4116fe(0x85)]==_0x1253e0['coin']);if(!_0x6b1d4b||_0x6b1d4b['number']==0x0&&_0x1253e0[_0x4116fe(0x10e)]!=0x0)_0x1b5f4e[_0x4116fe(0xdb)](_0x1253e0);}),{'missingDay1':_0x10f002,'notInDay2':_0x1b5f4e};},_0x1ffc1f=dbPerformance[_0x3deabc(0x14c)]('data')['cloneDeep']()[_0x3deabc(0xd9)]();if(_0x1ffc1f['length']>0x1){const {missingDay1:_0x57f20c,notInDay2:_0x34acbc}=_0x351154(_0xca5a3f,_0x1ffc1f[0x1][_0x3deabc(0x104)]);_0xca5a3f=[..._0xca5a3f,..._0x57f20c],_0x34acbc[_0x3deabc(0x118)](_0x51b756=>{const _0x16cc77=_0x3deabc;let _0x5aa287=_0xca5a3f[_0x16cc77(0xf2)](_0x58e814=>_0x58e814[_0x16cc77(0x85)]==_0x51b756['coin']);_0x5aa287!=-0x1&&_0xca5a3f[_0x16cc77(0x164)](_0x5aa287,0x1);});}_0xca5a3f[_0x3deabc(0x182)]((_0x42a099,_0xab0d61)=>_0x42a099[_0x3deabc(0x85)]>_0xab0d61[_0x3deabc(0x85)]?0x1:_0xab0d61[_0x3deabc(0x85)]>_0x42a099[_0x3deabc(0x85)]?-0x1:0x0);let _0x35401c=[{'date':_0x4d87f2[_0x3deabc(0x16d)],'changes':_0xca5a3f}];_0x1ffc1f['length']>0x2&&_0x1ffc1f[_0x3deabc(0x118)]((_0x3172fc,_0x1a1317)=>{const _0x325a7f=_0x3deabc;if(_0x1a1317>0x0&&_0x1a1317<_0x1ffc1f[_0x325a7f(0x1c0)]-0x1){const {missingDay1:_0x25e603,notInDay2:_0x3bc898}=_0x351154(_0x1ffc1f[_0x1a1317][_0x325a7f(0x104)],_0x1ffc1f[_0x1a1317+0x1][_0x325a7f(0x104)]);_0xca5a3f=[],(_0x25e603[_0x325a7f(0x1c0)]!=0x0||_0x3bc898['length']!=0x0)&&(_0x25e603[_0x325a7f(0x1c0)]!=0x0&&_0xca5a3f['push'](..._0x25e603),_0x3bc898[_0x325a7f(0x1c0)]!=0x0&&(_0x3bc898[_0x325a7f(0x118)](_0xfde8d1=>{const _0x22f128=_0x325a7f;_0xfde8d1[_0x22f128(0x10e)]=-_0xfde8d1[_0x22f128(0x10e)];}),_0xca5a3f[_0x325a7f(0xdb)](..._0x3bc898)),_0xca5a3f[_0x325a7f(0x182)]((_0xf95480,_0x525aae)=>_0xf95480[_0x325a7f(0x85)]>_0x525aae[_0x325a7f(0x85)]?0x1:_0x525aae[_0x325a7f(0x85)]>_0xf95480[_0x325a7f(0x85)]?-0x1:0x0),_0x35401c['push']({'date':_0x1ffc1f[_0x1a1317+0x1][_0x325a7f(0xd7)],'changes':_0xca5a3f}));}}),dbConfig[_0x3deabc(0x14c)](_0x3deabc(0x1cc))[_0x3deabc(0x189)]({'botID':botID})['assign']({..._0x4d87f2,'liquidity':_0x35401c})['write']();}}if(isOlderVersion(_0x48502e,'2.6.0')){let _0x79ff6c=dbConfig[_0x3deabc(0x14c)](_0x3deabc(0x1cc))[_0x3deabc(0x189)]({'botID':botID})[_0x3deabc(0xd9)]();if(_0x79ff6c){const _0x5dc4ae=_0x79ff6c['exchange'],_0x59dbce=_0x5dc4ae?capitalize(_0x5dc4ae):_0x3deabc(0x17b);dbConfig[_0x3deabc(0x14c)]('bot')[_0x3deabc(0x189)]({'botID':botID})['assign']({'exchange':_0x59dbce})[_0x3deabc(0x7d)]();}}let _0x2837ac=dbPerformance[_0x3deabc(0x14c)](_0x3deabc(0x17c))[_0x3deabc(0xd9)]();isOlderVersion(_0x2837ac,_0x3deabc(0x9d))&&setStartDatePerformance();let _0x27d15e=dbCoinResults[_0x3deabc(0x14c)]('version')[_0x3deabc(0xd9)]();if(isOlderVersion(_0x27d15e,_0x3deabc(0x102))){let _0x1b2a3d=dbCoinResults[_0x3deabc(0x14c)](_0x3deabc(0x104))['value']();if(_0x1b2a3d[_0x3deabc(0x1c0)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x270fed=_0x280e21;dbConfig['set']('version',serverversion)[_0x270fed(0x7d)](),dbPerformance['set'](_0x270fed(0x17c),serverversion)['write'](),dbLogs[_0x270fed(0xe1)](_0x270fed(0x17c),serverversion)[_0x270fed(0x7d)](),dbCoinResults[_0x270fed(0xe1)]('version',serverversion)[_0x270fed(0x7d)]();}function getConfiguration(_0x4d0835){const _0x1d5356=_0x280e21;let _0x2d59fd=dbConfig['get'](_0x1d5356(0x1cc))[_0x1d5356(0x189)]({'botID':_0x4d0835})[_0x1d5356(0xd9)]();if(_0x2d59fd){let _0x40818f=![];typeof _0x2d59fd['threshold']==_0x1d5356(0x137)&&(_0x2d59fd={..._0x2d59fd,'threshold':Number(_0x2d59fd['threshold'])},_0x40818f=!![]),_0x2d59fd[_0x1d5356(0xb5)]==null&&(_0x2d59fd={..._0x2d59fd,'change24h':-0x14},_0x40818f=!![]),!_0x2d59fd[_0x1d5356(0x1ce)]&&(_0x2d59fd={..._0x2d59fd,'fiat':_0x1d5356(0x131)},_0x40818f=!![]),!_0x2d59fd[_0x1d5356(0xc9)]&&(_0x2d59fd={..._0x2d59fd,'onepagemode':settings['onepagemode']},_0x40818f=!![]),_0x40818f&&(_0x2d59fd={'botID':_0x2d59fd['botID'],'exchange':_0x2d59fd[_0x1d5356(0x1a6)],'apiKey':_0x2d59fd[_0x1d5356(0xed)],'apiSecret':_0x2d59fd[_0x1d5356(0xe6)],'basecoin':_0x2d59fd[_0x1d5356(0xd1)],'botname':_0x2d59fd[_0x1d5356(0x171)],'showname':_0x2d59fd[_0x1d5356(0x79)],'threshold':_0x2d59fd[_0x1d5356(0xcd)],'ordertype':_0x2d59fd[_0x1d5356(0x141)],'timeout':_0x2d59fd[_0x1d5356(0x12e)],'fiat':_0x2d59fd[_0x1d5356(0x1ce)],'startdate':_0x2d59fd[_0x1d5356(0x16d)],'recreate':_0x2d59fd[_0x1d5356(0x1e3)],'timeshift':_0x2d59fd[_0x1d5356(0x1e6)],'onepagemode':_0x2d59fd['onepagemode'],'headless':_0x2d59fd[_0x1d5356(0x1e0)],'cooldown':_0x2d59fd[_0x1d5356(0x130)],'change24h':_0x2d59fd[_0x1d5356(0xb5)],'emojibuy':_0x2d59fd['emojibuy'],'emojisell':_0x2d59fd[_0x1d5356(0xeb)],'portfolio':_0x2d59fd[_0x1d5356(0x10d)],'liquidity':_0x2d59fd[_0x1d5356(0xe0)],'openOrders':_0x2d59fd[_0x1d5356(0x139)]},dbConfig[_0x1d5356(0x14c)](_0x1d5356(0x1cc))['remove']()[_0x1d5356(0x7d)](),dbConfig['get'](_0x1d5356(0x1cc))[_0x1d5356(0xdb)](_0x2d59fd)['write']());}else _0x2d59fd={'botID':_0x4d0835,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x1d5356(0xaf)+_0x4d0835,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x1d5356(0x131),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1d5356(0x1e6)],'onepagemode':settings[_0x1d5356(0xc9)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2d59fd;}function emittedConfiguration(){const _0xf03566=_0x280e21;let _0x341f0d;if(config[_0xf03566(0xed)]=='')_0x341f0d={...config,'configstate':'initial'};else config[_0xf03566(0xed)]==_0xf03566(0x193)?_0x341f0d={...config,'configstate':_0xf03566(0xfe)}:_0x341f0d={...config,'apiKey':_0xf03566(0x81),'apiSecret':_0xf03566(0x81)};return _0x341f0d;}function getSettings(){const _0x4e3c29=_0x280e21;return dbSettings['get'](_0x4e3c29(0x136))['value']();}function getSecure(){const _0x23f6d8=_0x280e21;return dbSecure[_0x23f6d8(0x14c)](_0x23f6d8(0x10a))[_0x23f6d8(0xd9)]()||{};}function updateTimeshift(_0x4c426f){const _0xce33b1=_0x280e21;let _0x22a4ae=dbConfig[_0xce33b1(0x14c)](_0xce33b1(0x1cc))[_0xce33b1(0x189)]({'botID':botID})['value']();_0x22a4ae&&dbConfig[_0xce33b1(0x14c)](_0xce33b1(0x1cc))['find']({'botID':botID})[_0xce33b1(0x12d)]({'timeshift':_0x4c426f})[_0xce33b1(0x7d)](),config[_0xce33b1(0x1e6)]=_0x4c426f,proxyEmit(_0xce33b1(0xfa),emittedConfiguration());}function updateOnepagemode(_0x2046bd){const _0x217aef=_0x280e21;let _0x5b0dac=dbConfig[_0x217aef(0x14c)](_0x217aef(0x1cc))[_0x217aef(0x189)]({'botID':botID})['value']();_0x5b0dac&&dbConfig[_0x217aef(0x14c)](_0x217aef(0x1cc))['find']({'botID':botID})[_0x217aef(0x12d)]({'onepagemode':_0x2046bd})[_0x217aef(0x7d)](),config['onepagemode']=_0x2046bd,proxyEmit(_0x217aef(0xfa),emittedConfiguration());}async function storeConfiguration(_0xb8cf34){const _0x4cbc03=_0x280e21;logger[_0x4cbc03(0x19a)]('Saving\x20configuration'),blockTransactionDetection=!![],logger[_0x4cbc03(0x19a)](_0x4cbc03(0x1e8));let _0x1b8665=[],_0x446425=![],_0x27cd63=[];_0xb8cf34[_0x4cbc03(0x10d)][_0x4cbc03(0x118)](_0x25bdcb=>{const _0x234a98=_0x4cbc03;if(!_0x25bdcb[_0x234a98(0x121)]&&_0x25bdcb[_0x234a98(0x85)]!=_0xb8cf34['basecoin'])_0x27cd63[_0x234a98(0xdb)](_0x25bdcb[_0x234a98(0xf0)]);}),_0x27cd63[_0x4cbc03(0x118)](_0x143c87=>{const _0x266c2e=_0x4cbc03,_0x428b71=watchedSymbols[_0x266c2e(0x17e)](_0x143c87);!_0x428b71&&_0x1b8665[_0x266c2e(0xdb)](_0x143c87);});_0x1b8665['length']>0x0?_0x446425=!![]:currentCoins[_0x4cbc03(0x118)](_0x2c16f4=>{const _0x1ee52b=_0x4cbc03;if(_0x2c16f4[_0x1ee52b(0x85)]!=config[_0x1ee52b(0xd1)]){const _0x380a50=_0x27cd63['find'](_0x331a50=>_0x331a50==_0x2c16f4['symbol']);!_0x380a50&&(_0x446425=!![]);}});let _0x25a26b=dbConfig[_0x4cbc03(0x14c)](_0x4cbc03(0x1cc))['find']({'botID':botID})[_0x4cbc03(0xd9)]();_0xb8cf34={..._0xb8cf34,'apiKey':crypt['decrypt'](secure[_0x4cbc03(0xa3)],_0xb8cf34[_0x4cbc03(0xed)])[_0x4cbc03(0x156)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0xb8cf34['apiSecret'])[_0x4cbc03(0x156)]};let _0x339ce3=![];_0x25a26b?(_0xb8cf34['apiKey']==_0x4cbc03(0x81)?_0xb8cf34[_0x4cbc03(0xed)]=config['apiKey']:_0x339ce3=!![],_0xb8cf34['apiSecret']==_0x4cbc03(0x81)?_0xb8cf34[_0x4cbc03(0xe6)]=config[_0x4cbc03(0xe6)]:_0x339ce3=!![],dbConfig[_0x4cbc03(0x14c)](_0x4cbc03(0x1cc))[_0x4cbc03(0x189)]({'botID':botID})[_0x4cbc03(0x12d)](_0xb8cf34)[_0x4cbc03(0x7d)]()):(dbConfig[_0x4cbc03(0x14c)]('bot')['push'](_0xb8cf34)['write'](),_0x339ce3=!![],process[_0x4cbc03(0x146)]({'status':_0x4cbc03(0x100),'live':_0x4cbc03(0xa8)},_0x23a1c7=>{}));config={..._0xb8cf34},setStartDatePerformance(),process[_0x4cbc03(0x146)]({'botname':_0xb8cf34[_0x4cbc03(0x171)]},_0x483d14=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x4cbc03(0x13e)),await initCoinResults();if(_0x339ce3)await reset(_0x1b8665,!![]);else{if(_0x446425)await reset(_0x1b8665,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger['debug']('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x1e6787){const _0x172dab=_0x280e21,_0x111692={...config,'headless':_0x1e6787[_0x172dab(0x1e0)]};let _0x386339=dbConfig['get'](_0x172dab(0x1cc))[_0x172dab(0x189)]({'botID':botID})[_0x172dab(0xd9)]();_0x386339&&dbConfig['get'](_0x172dab(0x1cc))[_0x172dab(0x189)]({'botID':botID})['assign'](_0x111692)[_0x172dab(0x7d)](),config={..._0x111692},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x4e4783){const _0x561de6=_0x280e21,_0x375262={...config,'fiat':_0x4e4783};let _0x382fb7=dbConfig[_0x561de6(0x14c)]('bot')['find']({'botID':botID})[_0x561de6(0xd9)]();_0x382fb7&&dbConfig[_0x561de6(0x14c)](_0x561de6(0x1cc))[_0x561de6(0x189)]({'botID':botID})[_0x561de6(0x12d)](_0x375262)[_0x561de6(0x7d)](),config={..._0x375262},proxyEmit(_0x561de6(0xfa),emittedConfiguration());}function resetHistory(){const _0x29e3f9=_0x280e21;logger[_0x29e3f9(0x1a8)](_0x29e3f9(0x1ad));try{if(fs[_0x29e3f9(0x1ca)](path['join'](configpath,_0x29e3f9(0x8a)+botID+_0x29e3f9(0x94))))fs[_0x29e3f9(0x1c6)](path[_0x29e3f9(0x188)](configpath,'bot-'+botID+_0x29e3f9(0x94)));if(fs['existsSync'](path[_0x29e3f9(0x188)](configpath,_0x29e3f9(0x8a)+botID+_0x29e3f9(0x178))))fs[_0x29e3f9(0x1c6)](path[_0x29e3f9(0x188)](configpath,_0x29e3f9(0x8a)+botID+_0x29e3f9(0x178)));if(fs[_0x29e3f9(0x1ca)](path['join'](configpath,'bot-'+botID+_0x29e3f9(0xf1))))fs[_0x29e3f9(0x1c6)](path['join'](configpath,_0x29e3f9(0x8a)+botID+_0x29e3f9(0xf1)));}catch(_0xe27ac8){if(_0xe27ac8)logger[_0x29e3f9(0x1a8)]('Error\x20while\x20deleting\x20files:\x20',_0xe27ac8);}const _0x5e2d65=getDate();let _0xbac553=[];currentCoins['forEach'](_0xa3e939=>{const _0x20ced4=_0x29e3f9;_0xbac553['push']({'coin':_0xa3e939[_0x20ced4(0x85)],'number':_0xa3e939[_0x20ced4(0x10e)],'price':_0xa3e939[_0x20ced4(0x7f)]});});let _0x2203f6=dbConfig['get'](_0x29e3f9(0x1cc))['find']({'botID':botID})[_0x29e3f9(0xd9)]();_0x2203f6&&(dbConfig[_0x29e3f9(0x14c)](_0x29e3f9(0x1cc))[_0x29e3f9(0x189)]({'botID':botID})['assign']({'liquidity':[{'date':_0x5e2d65,'changes':_0xbac553}]})['write'](),config['liquidity']=[]),process['send']({'stop':_0x29e3f9(0x8c)},_0x4f93e3=>{});}function noslash(_0x5183fe){const _0x142870=_0x280e21;return _0x5183fe[_0x142870(0x1b7)]('/','');}function updateHighestFee(_0x5a3fc8,_0x37d8f8){const _0x59fa5f=_0x280e21;lastFees[_0x59fa5f(0xf3)]=_0x5a3fc8,lastFees[_0x59fa5f(0xb2)][_0x59fa5f(0x1c0)]===0x14&&lastFees[_0x59fa5f(0xb2)][_0x59fa5f(0x8d)](),lastFees[_0x59fa5f(0xb2)][_0x59fa5f(0xdb)](_0x37d8f8),lastFees['highest']=Math['max'](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x492091){const _0x28783f=_0x280e21;logger[_0x28783f(0x19a)](_0x28783f(0x106)+_0x492091[_0x28783f(0xf0)]+_0x28783f(0x1b0)+_0x492091['status']+_0x28783f(0x1b0)+_0x492091['id']+_0x28783f(0x1b0)+_0x492091[_0x28783f(0x10f)]);let _0x531a65=_0x492091[_0x28783f(0xb1)],_0x164322=![];currentCoins['forEach'](_0x6929aa=>{const _0x255f17=_0x28783f;_0x6929aa[_0x255f17(0xf0)]==_0x492091[_0x255f17(0xf0)]&&(_0x164322=!![]);});if(!_0x164322)return;const _0x39fb72=currentCoins[_0x28783f(0x189)](_0x1184c6=>_0x1184c6[_0x28783f(0xf0)]==_0x492091[_0x28783f(0xf0)]),_0x175d49=_0x45e8a7=>{const _0x52ba21=_0x28783f;if(_0x39fb72)_0x39fb72[_0x52ba21(0x16a)]=_0x45e8a7;};if(_0x531a65=='open')_0x175d49(_0x28783f(0x1f2));else{if(_0x531a65==_0x28783f(0x145)){_0x175d49(_0x28783f(0x145));const _0x1eac71=await getCoins();[currentCoins,currentCoinsAll]=_0x1eac71,await getOpenOrders(),handleOpenOrders();}else{if(_0x531a65==_0x28783f(0x1e4)){logger['debug']('1\x20-\x20FILLED:\x20'+_0x492091['symbol']+'\x20|\x20'+_0x492091[_0x28783f(0x7e)]+'\x20|\x20'+_0x492091['id']+'\x20|\x20'+_0x492091['clientOrderId']);let _0x5324b4=![];if(lastOrders)lastOrders[_0x28783f(0x118)](async _0x3fc02d=>{const _0x548316=_0x28783f;if(_0x3fc02d[_0x548316(0x1ea)]==_0x492091[_0x548316(0x10f)]){logger[_0x548316(0x19a)](_0x548316(0x168)+_0x492091['clientOrderId']),_0x5324b4=!![];if(_0x3fc02d['filled']==0x0){logger[_0x548316(0x19a)](_0x548316(0x77)+_0x492091[_0x548316(0x10f)]),_0x3fc02d[_0x548316(0x1cd)]=_0x492091[_0x548316(0x1b6)],_0x3fc02d[_0x548316(0x7e)]=_0x492091['filled'],_0x3fc02d[_0x548316(0xfd)]={'currency':_0x492091[_0x548316(0xfd)]?_0x492091[_0x548316(0xfd)]['currency']:null,'cost':_0x492091[_0x548316(0xfd)]?_0x492091[_0x548316(0xfd)][_0x548316(0x18e)]:0x0},updateHighestFee(_0x3fc02d[_0x548316(0xfd)][_0x548316(0xf3)],_0x3fc02d[_0x548316(0xfd)][_0x548316(0x18e)]),_0x175d49(_0x548316(0x7e)),await validateOrders();if(lockOrders==ORDERS[_0x548316(0xe7)]){const _0x5d0676=await getCoins();[currentCoins,currentCoinsAll]=_0x5d0676;}await updateCoinResults(_0x3fc02d);}}});if(!_0x5324b4){logger[_0x28783f(0x19a)](_0x28783f(0x1e5)+_0x492091['id']),_0x175d49(_0x28783f(0x7e));const _0x501c07=await getCoins();[currentCoins,currentCoinsAll]=_0x501c07,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x985dff=JSON[_0x28783f(0x12f)](lastBalances[_0x28783f(0x10d)]);const _0x5ef0b7=_0x985dff['find'](_0x3624a1=>_0x3624a1['symbol']==_0x492091[_0x28783f(0xf0)]);if(_0x5ef0b7){if(_0x531a65==_0x28783f(0x1f2))_0x5ef0b7['orderstatus']=_0x5ef0b7[_0x28783f(0x16a)]==_0x28783f(0x7e)?'filled':_0x28783f(0x1f2);else{if(_0x531a65==_0x28783f(0x145))_0x5ef0b7[_0x28783f(0x16a)]=_0x5ef0b7[_0x28783f(0x16a)]==_0x28783f(0x7e)?_0x28783f(0x7e):_0x28783f(0x145);else _0x531a65=='closed'&&(_0x5ef0b7[_0x28783f(0x16a)]=_0x28783f(0x7e));}}lastBalances={...lastBalances,'portfolio':JSON[_0x28783f(0x180)](_0x985dff)},proxyEmit(_0x28783f(0xca),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x411f99=_0x280e21;await getOpenOrders();let _0x14c11c=![];currentCoins[_0x411f99(0x118)](_0x5e5d98=>{const _0x447c58=_0x411f99;_0x14c11c=allOpenOrders[_0x447c58(0x189)](_0x39473e=>_0x39473e[_0x447c58(0xf0)]==_0x5e5d98[_0x447c58(0xf0)]),_0x5e5d98[_0x447c58(0x16a)]=_0x14c11c?_0x447c58(0x1f2):_0x447c58(0x15a);});}async function getCoins(_0xa4aa0e=!![],_0x2c1568=config[_0x280e21(0xd1)]){const _0x53efd3=_0x280e21;let _0x33689f,_0x3d04a6=[],_0x4d2d7e=[],_0x2dce70=[],_0x188b1a=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x33689f=await exchange[_0x53efd3(0xb4)](),mybalances=_0x33689f[_0x53efd3(0xba)];for(const [_0x8e9443,_0x217cab]of Object[_0x53efd3(0x11d)](mybalances)){_0x188b1a[_0x53efd3(0xdb)](_0x8e9443);}if(_0x2c1568=='')for(const [_0x4d9837,_0x11b108]of Object['entries'](mybalances)){_0x11b108[_0x53efd3(0xcb)]()!=0x0&&_0x4d2d7e[_0x53efd3(0xdb)]({'coin':_0x4d9837});}else{let _0x531e64=![];for(const [_0x279694,_0x165917]of Object[_0x53efd3(0x11d)](mybalances)){if(_0x188b1a[_0x53efd3(0x17e)](_0x279694)){const _0x52047b=config[_0x53efd3(0x10d)]['find'](_0x12001c=>_0x12001c[_0x53efd3(0x85)]==_0x279694),_0x5242c5=_0x279694+'/'+_0x2c1568,_0x3b7ccf=_0x2c1568+'/'+_0x279694,_0x17282e=currentCoins['find'](_0x7f0693=>_0x7f0693[_0x53efd3(0x85)]==_0x279694);_0x531e64=![];if((_0x165917[_0x53efd3(0xcb)]()!=0x0||_0x52047b)&&(allSymbols[_0x53efd3(0x17e)](_0x5242c5)||_0x279694==_0x2c1568))_0x279694!=_0x2c1568&&_0x3d04a6[_0x53efd3(0xdb)](_0x5242c5),_0x4d2d7e[_0x53efd3(0xdb)]({'coin':_0x279694,'symbol':_0x5242c5,'reverse':![],'number':Math[_0x53efd3(0x80)](_0x165917+(_0x52047b&&_0x52047b[_0x53efd3(0x197)]||0x0),0x0),'orderstatus':_0x17282e?_0x17282e[_0x53efd3(0x16a)]:_0x53efd3(0x15a)});else(_0x165917[_0x53efd3(0xcb)]()!=0x0||_0x52047b)&&allSymbols[_0x53efd3(0x17e)](_0x3b7ccf)&&(_0x279694!=_0x2c1568&&_0x3d04a6[_0x53efd3(0xdb)](_0x3b7ccf),_0x4d2d7e[_0x53efd3(0xdb)]({'coin':_0x279694,'symbol':_0x3b7ccf,'reverse':!![],'number':Math['max'](_0x165917+(_0x52047b&&_0x52047b[_0x53efd3(0x197)]||0x0),0x0),'orderstatus':_0x17282e?_0x17282e[_0x53efd3(0x16a)]:_0x53efd3(0x15a)}));}}}}catch(_0x4322aa){if(!_0xa4aa0e)handleErrorNoStop(_0x4322aa,_0x53efd3(0xc4));else await handleError(_0x4322aa,'getCoins()');}return _0x2dce70=cloneDeep(_0x4d2d7e),_0x4d2d7e=_0x4d2d7e[_0x53efd3(0x1d0)](_0x3a56f8=>{const _0x296a40=_0x53efd3,_0x2860f8=config[_0x296a40(0x10d)]['find'](_0x59cbc1=>_0x59cbc1[_0x296a40(0x85)]==_0x3a56f8[_0x296a40(0x85)]);return _0x2860f8&&!_0x2860f8[_0x296a40(0x121)];}),[_0x4d2d7e,_0x2dce70];}async function getCoinNumber(_0x59eba3){const _0x43257f=_0x280e21;let _0x1eb4bb;try{const _0x5d1dbc=await exchange[_0x43257f(0xb4)]();_0x1eb4bb=_0x5d1dbc['total'][_0x59eba3];}catch(_0x1ea836){await handleError(_0x1ea836,_0x43257f(0x1be));}return _0x1eb4bb;}async function getOpenOrders(){const _0x146e99=_0x280e21;let _0x2bc347;allOpenOrders=[];try{for(const _0x50b037 of config[_0x146e99(0x10d)]){!_0x50b037[_0x146e99(0x121)]&&_0x50b037[_0x146e99(0x85)]!=config[_0x146e99(0xd1)]&&(_0x2bc347=await exchange[_0x146e99(0x1a4)](_0x50b037[_0x146e99(0xf0)]),_0x2bc347[_0x146e99(0x1c0)]>0x0&&allOpenOrders[_0x146e99(0xdb)](_0x2bc347[0x0]));}}catch(_0x269fac){await handleError(_0x269fac,'getOpenOrders()');}}async function handleOpenOrders(_0x440cb9=0x0){const _0x4e02ee=_0x280e21;allOpenOrders[_0x4e02ee(0x1c0)]==0x0&&lockOrders==ORDERS[_0x4e02ee(0xe7)]&&allOrdersPlaced&&(_0x440cb9==0x0?(logger[_0x4e02ee(0x19a)](_0x4e02ee(0x15c)),_0x440cb9++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x4e02ee(0x198))));}async function testAPI(_0x2de87d){const _0x27d712=_0x280e21,_0x2f4d2f=ccxt[_0x2de87d['exchange'][_0x27d712(0xd8)]()],_0xc57ad3=new _0x2f4d2f({'apiKey':_0x2de87d[_0x27d712(0xed)],'secret':_0x2de87d[_0x27d712(0xe6)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0xc57ad3['loadMarkets']();}catch(_0x5a7a9d){throw _0x5a7a9d;}}function cloneDeep(_0x4425e8){const _0x16676a=_0x280e21;return JSON[_0x16676a(0x12f)](JSON[_0x16676a(0x180)](_0x4425e8));}async function getPortfolio(_0x33ad93){const _0x4ee6ca=_0x280e21;let _0x7fb644=[],_0x51d3ad=[],_0x2bdf68=[],_0x531e32;if(_0x33ad93[_0x4ee6ca(0xed)]!==_0x4ee6ca(0x81)||_0x33ad93[_0x4ee6ca(0xe6)]!==_0x4ee6ca(0x81)){if(config[_0x4ee6ca(0x1a6)]){if(_0x33ad93[_0x4ee6ca(0xed)]==_0x4ee6ca(0x81))_0x33ad93[_0x4ee6ca(0xed)]=config['apiKey'];if(_0x33ad93['apiSecret']==_0x4ee6ca(0x81))_0x33ad93['apiSecret']=config[_0x4ee6ca(0xe6)];try{await testAPI(_0x33ad93);}catch(_0x2fb659){if(_0x2fb659['toString']()[_0x4ee6ca(0x17e)](_0x4ee6ca(0x8f))){logger['debug'](_0x4ee6ca(0xd3)),proxyEmit(_0x4ee6ca(0x10d),![]);return;}else{handleError(_0x2fb659,_0x4ee6ca(0x14d));return;}}}await initExchange(_0x33ad93['exchange'],_0x33ad93['apiKey'],_0x33ad93[_0x4ee6ca(0xe6)]);try{await loadSymbols(_0x33ad93[_0x4ee6ca(0x1a6)],!![]);}catch(_0x345005){if(_0x345005[_0x4ee6ca(0xcb)]()['includes'](_0x4ee6ca(0x8f))){proxyEmit(_0x4ee6ca(0x10d),![]);return;}else{handleError(_0x345005,'getPortfolio(1)');return;}}const _0x288c1e=await getCoins(![],_0x33ad93[_0x4ee6ca(0xd1)]);_0x2bdf68=cloneDeep(_0x288c1e[0x1]);}else _0x2bdf68=cloneDeep(currentCoinsAll);if(_0x33ad93[_0x4ee6ca(0xd1)]=='')proxyEmit('portfolio',_0x2bdf68);else{_0x2bdf68[_0x4ee6ca(0x118)](_0xfe769c=>{const _0xaae6df=_0x4ee6ca;if(_0xfe769c[_0xaae6df(0x85)]!=_0x33ad93[_0xaae6df(0xd1)])_0x7fb644[_0xaae6df(0xdb)](_0xfe769c[_0xaae6df(0xf0)]);});try{_0x51d3ad=await exchange[_0x4ee6ca(0xf4)](_0x7fb644);}catch(_0x224365){if(_0x224365['toString']()[_0x4ee6ca(0x17e)]('AuthenticationError')){proxyEmit(_0x4ee6ca(0x10d),![]);return;}else{handleError(_0x224365,_0x4ee6ca(0x90));return;}}_0x2bdf68[_0x4ee6ca(0x118)](_0x21280a=>{const _0x42856d=_0x4ee6ca;_0x21280a[_0x42856d(0x85)]!=_0x33ad93['basecoin']?_0x531e32=_0x21280a[_0x42856d(0x1a3)]?0x1/_0x51d3ad[_0x21280a[_0x42856d(0xf0)]][_0x42856d(0x7f)]:_0x51d3ad[_0x21280a[_0x42856d(0xf0)]][_0x42856d(0x7f)]:_0x531e32=0x1,_0x21280a[_0x42856d(0x1cd)]=formatResult(_0x531e32,0x8);}),proxyEmit(_0x4ee6ca(0x10d),_0x2bdf68);}}function checkMinimums(_0x3773fb){const _0x1c5730=_0x280e21;let _0xb73f88=!![];const _0x27d56b=!_0x3773fb[_0x1c5730(0x1a3)]?markets[_0x3773fb[_0x1c5730(0xf0)]][_0x1c5730(0x152)]['amount']['min']:markets[_0x3773fb[_0x1c5730(0xf0)]][_0x1c5730(0x152)][_0x1c5730(0x18e)][_0x1c5730(0x103)],_0x51c5d2=!_0x3773fb[_0x1c5730(0x1a3)]?markets[_0x3773fb['symbol']][_0x1c5730(0x152)][_0x1c5730(0x18e)][_0x1c5730(0x103)]:markets[_0x3773fb[_0x1c5730(0xf0)]][_0x1c5730(0x152)][_0x1c5730(0x1ef)][_0x1c5730(0x103)],_0x14badc=markets[_0x3773fb[_0x1c5730(0xf0)]][_0x1c5730(0x18f)][_0x1c5730(0x1ef)];_0x3773fb[_0x1c5730(0x162)]=formatResultTruncate(_0x3773fb[_0x1c5730(0x162)],_0x14badc);if(Math['abs'](_0x3773fb[_0x1c5730(0x162)])<_0x27d56b)_0xb73f88=![];if(Math[_0x1c5730(0x158)](_0x3773fb['trade'])*_0x3773fb[_0x1c5730(0x7f)]<_0x51c5d2)_0xb73f88=![];if(_0x3773fb[_0x1c5730(0x1c7)]==_0x1c5730(0x17a)){let _0x489358=config[_0x1c5730(0x10d)]['find'](_0x1f6268=>_0x1f6268[_0x1c5730(0x85)]==_0x3773fb[_0x1c5730(0x85)]);if(_0x489358[_0x1c5730(0x197)]>0x0){if(Math[_0x1c5730(0x158)](_0x3773fb['trade'])>_0x3773fb[_0x1c5730(0x10e)]-_0x489358[_0x1c5730(0x197)])_0xb73f88=![];}else{if(Math[_0x1c5730(0x158)](_0x3773fb[_0x1c5730(0x162)])>_0x3773fb['number'])_0xb73f88=![];}}if(_0x3773fb['side']==_0x1c5730(0x183)){let _0x2bbe77=config[_0x1c5730(0x10d)][_0x1c5730(0x189)](_0x344bb1=>_0x344bb1[_0x1c5730(0x85)]==config['basecoin']),_0x59c1c8=currentCoins[_0x1c5730(0x189)](_0x2e5ba8=>_0x2e5ba8[_0x1c5730(0x85)]==config[_0x1c5730(0xd1)]);if(_0x2bbe77[_0x1c5730(0x197)]>0x0){if(Math['abs'](_0x3773fb['trade'])*_0x3773fb[_0x1c5730(0x7f)]>_0x59c1c8[_0x1c5730(0x10e)]-_0x2bbe77['offset'])_0xb73f88=![];}else{if(Math[_0x1c5730(0x158)](_0x3773fb['trade'])*_0x3773fb[_0x1c5730(0x7f)]>_0x59c1c8[_0x1c5730(0x10e)])_0xb73f88=![];}}return _0xb73f88;}async function getBalances(){const _0x27c671=_0x280e21;let _0x209210=0x0,_0x160e4e;const _0x2bdd6e=config[_0x27c671(0xcd)];if(config['headless']&&config[_0x27c671(0xb5)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x455304=>{const _0x3eee0e=_0x27c671;if(_0x455304[_0x3eee0e(0x85)]!=config[_0x3eee0e(0xd1)]){let _0x4cb712=global[_0x3eee0e(0x1af)][noslash(_0x455304['symbol'])];_0x160e4e=_0x455304[_0x3eee0e(0x1a3)]?0x1/_0x4cb712:_0x4cb712;}else _0x160e4e=0x1;let _0x6d4645=_0x455304[_0x3eee0e(0x10e)]*_0x160e4e;_0x209210+=_0x6d4645,_0x455304[_0x3eee0e(0x7f)]=formatResult(Number(_0x160e4e),0x8),_0x455304[_0x3eee0e(0xd9)]=_0x6d4645;}),currentCoins['forEach'](_0x46d68b=>{const _0x33ca14=_0x27c671;let _0x59106d=config[_0x33ca14(0x10d)][_0x33ca14(0x189)](_0x1536ac=>_0x1536ac['coin']==_0x46d68b['coin']),_0x2a7923=Number(_0x59106d[_0x33ca14(0xc2)]),_0x457744=_0x46d68b[_0x33ca14(0xd9)]/_0x209210*0x64,_0x5c3fa6=_0x2a7923*_0x209210/0x64/_0x46d68b['last']-_0x46d68b[_0x33ca14(0x10e)];_0x46d68b[_0x33ca14(0xc2)]=formatResult(_0x457744,0x3),_0x46d68b[_0x33ca14(0x1f1)]=formatResult(_0x2a7923,0x3),_0x46d68b[_0x33ca14(0x162)]=formatResult(_0x5c3fa6,0x8),_0x46d68b[_0x33ca14(0x1c7)]='',_0x46d68b[_0x33ca14(0xab)]=![];if(_0x46d68b[_0x33ca14(0x85)]!=config[_0x33ca14(0xd1)]){if(_0x46d68b['distribution']>_0x2a7923)_0x46d68b['side']=_0x33ca14(0x17a),_0x46d68b[_0x33ca14(0xab)]=checkMinimums(_0x46d68b);else _0x46d68b['distribution']<_0x2a7923&&(_0x46d68b['side']=_0x33ca14(0x183),_0x46d68b[_0x33ca14(0xab)]=checkMinimums(_0x46d68b));}_0x46d68b[_0x33ca14(0x1b1)]=_0x46d68b[_0x33ca14(0xc2)]/_0x46d68b['target']-0x1;if(_0x46d68b[_0x33ca14(0x16a)]=='filled'||_0x46d68b[_0x33ca14(0x16a)]==_0x33ca14(0x145))_0x46d68b[_0x33ca14(0x16a)]=_0x33ca14(0x15a);}),currentCoins[_0x27c671(0x182)]((_0x2caf33,_0x40953d)=>_0x2caf33[_0x27c671(0x1b1)]<_0x40953d[_0x27c671(0x1b1)]?0x1:_0x40953d[_0x27c671(0x1b1)]<_0x2caf33[_0x27c671(0x1b1)]?-0x1:0x0);const _0x41207e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x41207e[_0x27c671(0x7a)],'usd':_0x41207e[_0x27c671(0x1e9)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x2bdd6e},proxyEmit(_0x27c671(0xca),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x2bdd6e});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2bdd6e});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x2f08cf=getNormalizedPerformance();getStartingBalances(_0x2f08cf),emitPerformance(_0x2f08cf);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x25f9e0=getNormalizedPerformance();emitPerformance(_0x25f9e0),getStartingBalances(_0x25f9e0),logger[_0x27c671(0x19a)](_0x27c671(0xc5));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3b69c1=_0x280e21;if(!lastBalances)return;let _0x42a190=[],_0x23e9cf,_0x4d4a1b=JSON[_0x3b69c1(0x12f)](lastBalances[_0x3b69c1(0x10d)]);_0x4d4a1b[_0x3b69c1(0x182)]((_0x2757e9,_0x3b2b9a)=>_0x2757e9[_0x3b69c1(0x85)]>_0x3b2b9a['coin']?0x1:_0x3b2b9a[_0x3b69c1(0x85)]>_0x2757e9[_0x3b69c1(0x85)]?-0x1:0x0),_0x4d4a1b[_0x3b69c1(0x118)](_0x3eb593=>{const _0x6f8ee6=_0x3b69c1;let _0x1c5818={'coin':_0x3eb593[_0x6f8ee6(0x85)],'number':_0x3eb593[_0x6f8ee6(0x10e)],'price':_0x3eb593[_0x6f8ee6(0x7f)]};_0x42a190[_0x6f8ee6(0xdb)](_0x1c5818);});const _0x242a05=await getFiat();_0x23e9cf={'date':lastBalances[_0x3b69c1(0xad)][_0x3b69c1(0x9a)]('\x20')[0x0],'eur':_0x242a05[_0x3b69c1(0x7a)],'usd':_0x242a05[_0x3b69c1(0x1e9)],'coins':_0x42a190};let _0x16a4ab=dbPerformance[_0x3b69c1(0x14c)](_0x3b69c1(0x18c))[_0x3b69c1(0x189)]({'date':_0x23e9cf[_0x3b69c1(0xd7)]})[_0x3b69c1(0xd9)]();_0x16a4ab?_0x23e9cf[_0x3b69c1(0xd7)]!=config['startdate']&&dbPerformance[_0x3b69c1(0x14c)](_0x3b69c1(0x18c))[_0x3b69c1(0x189)]({'date':_0x23e9cf['date']})[_0x3b69c1(0x12d)](_0x23e9cf)[_0x3b69c1(0x7d)]():dbPerformance['get'](_0x3b69c1(0x18c))[_0x3b69c1(0xdb)](_0x23e9cf)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3b8762=_0x280e21;let _0x1ad9f3=[];if(dbPerformance[_0x3b8762(0xda)]('data')[_0x3b8762(0xd9)]()){let _0x771c7b=dbPerformance[_0x3b8762(0x14c)](_0x3b8762(0x18c))[_0x3b8762(0x9c)]()[_0x3b8762(0x148)](_0x3b8762(0xd7))['value'](),_0x3d6b92=[...config[_0x3b8762(0xe0)]];_0x3d6b92[_0x3b8762(0x182)]((_0xef480b,_0x18dd87)=>_0xef480b[_0x3b8762(0xd7)]>_0x18dd87['date']?-0x1:_0x18dd87[_0x3b8762(0xd7)]>_0xef480b[_0x3b8762(0xd7)]?0x1:0x0);let _0x1bf2a8=0x1,_0x269da4=[],_0x560f01=0x0;_0x771c7b['slice']()[_0x3b8762(0x1a3)]()[_0x3b8762(0x118)]((_0x299b02,_0x48820b)=>{const _0x5b9340=_0x3b8762;if(_0x3d6b92[_0x560f01]){if(_0x771c7b[_0x771c7b[_0x5b9340(0x1c0)]-_0x48820b]&&_0x3d6b92[_0x560f01][_0x5b9340(0xd7)]==_0x771c7b[_0x771c7b[_0x5b9340(0x1c0)]-_0x48820b]['date']){if(_0x48820b<_0x771c7b['length']){let _0x53c4d8=0x0,_0x57f454=0x0;_0x771c7b[_0x771c7b[_0x5b9340(0x1c0)]-_0x48820b][_0x5b9340(0x104)][_0x5b9340(0x118)](_0x50597e=>{const _0x316be6=_0x5b9340;_0x57f454+=_0x50597e[_0x316be6(0x10e)]*_0x50597e[_0x316be6(0x1cd)];}),_0x3d6b92[_0x560f01]['changes'][_0x5b9340(0x118)](_0xb6f852=>{const _0x2b547b=_0x5b9340;_0x53c4d8+=_0xb6f852[_0x2b547b(0x10e)]*_0xb6f852[_0x2b547b(0x1cd)];}),_0x1bf2a8*=_0x53c4d8/(_0x57f454-_0x53c4d8)+0x1;}_0x560f01++;}}let _0x60547=0x0;_0x299b02[_0x5b9340(0x104)]['forEach'](_0x560e2c=>{const _0x493baa=_0x5b9340;_0x60547+=_0x560e2c[_0x493baa(0x10e)]*_0x560e2c[_0x493baa(0x1cd)];}),_0x269da4[_0x771c7b[_0x5b9340(0x1c0)]-_0x48820b-0x1]=_0x60547*(_0x1bf2a8-0x1);});let _0x483fe7=[];_0x3d6b92=[...config[_0x3b8762(0xe0)]]||[];let _0x13a1d7=0x0;_0x560f01=0x0,_0x771c7b[_0x3b8762(0x118)]((_0x31476b,_0x2eed29)=>{const _0x493c03=_0x3b8762;if(_0x3d6b92[_0x560f01]){const _0x8b53d9=fns[_0x493c03(0x12f)](_0x3d6b92[_0x560f01][_0x493c03(0xd7)],_0x493c03(0x186),new Date()),_0x54fb2e=fns[_0x493c03(0x12f)](_0x31476b[_0x493c03(0xd7)],_0x493c03(0x186),new Date());if(fns[_0x493c03(0x19e)](_0x8b53d9,_0x54fb2e)){let _0x4ad3dc=0x0;_0x3d6b92[_0x560f01]['changes']['forEach'](_0x21fa4a=>{const _0x4c9eec=_0x493c03;!_0x483fe7[_0x21fa4a[_0x4c9eec(0x85)]]?_0x483fe7[_0x21fa4a[_0x4c9eec(0x85)]]=_0x21fa4a[_0x4c9eec(0x10e)]:(_0x4ad3dc=_0x483fe7[_0x21fa4a[_0x4c9eec(0x85)]],_0x483fe7[_0x21fa4a[_0x4c9eec(0x85)]]+=_0x21fa4a[_0x4c9eec(0x10e)]);const _0x88caf3=_0x31476b[_0x4c9eec(0x104)][_0x4c9eec(0x189)](_0x25bcc0=>_0x25bcc0['coin']==_0x21fa4a[_0x4c9eec(0x85)]);(!_0x88caf3||_0x88caf3['number']==0x0)&&(_0x13a1d7+=(-_0x21fa4a[_0x4c9eec(0x10e)]-_0x4ad3dc)*_0x21fa4a[_0x4c9eec(0x1cd)]);}),_0x560f01++;}}_0x31476b[_0x493c03(0x104)][_0x493c03(0x118)]((_0x1513be,_0x1c26b6)=>{const _0x821194=_0x493c03;_0x483fe7[_0x1513be['coin']]&&(_0x1513be[_0x821194(0x1dd)]=_0x483fe7[_0x1513be['coin']]);}),_0x1ad9f3[_0x493c03(0xdb)]({'date':_0x31476b[_0x493c03(0xd7)],'eur':_0x31476b['eur'],'usd':_0x31476b[_0x493c03(0x1e9)],'offset':_0x269da4[_0x2eed29],'netoffset':_0x13a1d7,'coins':_0x31476b[_0x493c03(0x104)]});});}return _0x1ad9f3;}function emitPerformance(_0x357424){const _0x2e5dbf=_0x280e21;_0x357424[_0x2e5dbf(0x1c0)]!==0x0?(proxyEmit('performance',_0x357424),lastPerformanceEmitted=getDate()):proxyEmit(_0x2e5dbf(0xbe),[]);}function getPerf(_0x195959,_0x523a41){const _0x350beb=_0x280e21;let _0x3f1601=0x0,_0x2c685d=0x0,_0x17a884=0x0;_0x195959[_0x350beb(0x104)][_0x350beb(0x118)](_0x685e3=>{const _0x5df236=_0x350beb;_0x3f1601+=_0x685e3[_0x5df236(0x10e)]*_0x685e3[_0x5df236(0x1cd)];});_0x523a41&&(_0x3f1601+=_0x195959[_0x350beb(0x197)]);if(config[_0x350beb(0xd1)]===_0x350beb(0x120)||config['basecoin']===_0x350beb(0xb3))_0x2c685d=_0x3f1601*_0x195959[_0x350beb(0x7a)],_0x17a884=_0x3f1601*_0x195959[_0x350beb(0x1e9)];else{if(config[_0x350beb(0xd1)]===_0x350beb(0x122)||config[_0x350beb(0xd1)]===_0x350beb(0x18a)||config[_0x350beb(0xd1)]===_0x350beb(0x131))_0x2c685d=_0x3f1601*_0x195959[_0x350beb(0x7a)]/_0x195959[_0x350beb(0x1e9)],_0x17a884=_0x3f1601;else config['basecoin']===_0x350beb(0x1a9)&&(_0x2c685d=_0x3f1601,_0x17a884=_0x3f1601*_0x195959[_0x350beb(0x1e9)]/_0x195959[_0x350beb(0x7a)]);}return[_0x3f1601,_0x2c685d,_0x17a884];}function getKPIs(_0x3c2e2c,_0x23a15e='EUR'){const _0xcf632d=_0x280e21,_0x5d579d=config[_0xcf632d(0xd1)],_0x413615=lastBalances,_0xee11ed=currentCoins,_0x202e45=getNormalizedPerformance(),_0x12b0fb=_0x3c2e2c===_0xcf632d(0xd1)?_0x5d579d:_0x3c2e2c==='fiat'||_0x3c2e2c==='net-fiat'?_0x23a15e:_0xcf632d(0x13f)+_0x5d579d,_0x246d41=_0x3c2e2c===_0xcf632d(0x15b)?_0xcf632d(0x105):_0x3c2e2c===_0xcf632d(0x1ba)?_0xcf632d(0x105):_0x12b0fb+_0xcf632d(0x143),_0x545cbf=_0x3c2e2c===_0xcf632d(0x15b)||_0x3c2e2c===_0xcf632d(0x1ba)?_0xcf632d(0x105):_0x12b0fb+_0xcf632d(0x1dc);let _0x2848d3=0x0;_0xee11ed[_0xcf632d(0x118)](_0x507c2d=>{const _0x37f7bd=_0xcf632d;_0x2848d3+=_0x507c2d[_0x37f7bd(0x10e)]*_0x507c2d[_0x37f7bd(0x7f)];});if(_0x3c2e2c===_0xcf632d(0x1ce)||_0x3c2e2c===_0xcf632d(0x1ba)){if(_0x5d579d===_0xcf632d(0x120)||_0x5d579d===_0xcf632d(0xb3))_0x2848d3=_0x2848d3*(_0x23a15e===_0xcf632d(0x1a9)?_0x413615[_0xcf632d(0x7a)]:_0x413615[_0xcf632d(0x1e9)]);else{if(_0x5d579d===_0xcf632d(0x122)||_0x5d579d===_0xcf632d(0x18a)||_0x5d579d===_0xcf632d(0x131))_0x2848d3=_0x2848d3*(_0x23a15e===_0xcf632d(0x1a9)?_0x413615[_0xcf632d(0x7a)]/_0x413615['usd']:0x1);else _0x5d579d===_0xcf632d(0x1a9)&&(_0x2848d3=_0x2848d3*(_0x23a15e===_0xcf632d(0x1a9)?0x1:_0x413615[_0xcf632d(0x1e9)]/_0x413615[_0xcf632d(0x7a)]));}}let _0x3b968f;if(_0x2848d3!==0x0){if(_0x3c2e2c===_0xcf632d(0xd1))_0x3b968f=(_0x2848d3/startingBalances['basecoin']-0x1)*0x64;else{if(_0x23a15e===_0xcf632d(0x1a9))_0x3b968f=(_0x2848d3/startingBalances[_0xcf632d(0x7a)]-0x1)*0x64;else _0x3b968f=(_0x2848d3/startingBalances[_0xcf632d(0x1e9)]-0x1)*0x64;}let _0x5c2a3=0x0;if(startingBalances['coins'])_0xee11ed[_0xcf632d(0x118)](_0x2a348a=>{const _0x14dba8=_0xcf632d;let _0x427194=startingBalances[_0x14dba8(0x104)][_0x14dba8(0x189)](_0x2d6946=>_0x2d6946[_0x14dba8(0x85)]===_0x2a348a[_0x14dba8(0x85)]);if(_0x427194&&_0x427194['coin']&&_0x2a348a[_0x14dba8(0x10e)]!==0x0)_0x5c2a3+=_0x427194[_0x14dba8(0x10e)]*_0x2a348a[_0x14dba8(0x7f)];});let _0x554fb9=0x0;if(_0x202e45[_0xcf632d(0x1c0)]!==0x0){let _0x26fba2=_0x202e45[_0x202e45[_0xcf632d(0x1c0)]-0x1];_0x554fb9=_0x26fba2[_0xcf632d(0x1db)];}_0x5c2a3-=_0x554fb9;_0x3c2e2c===_0xcf632d(0x15b)&&(_0x3b968f=(_0x2848d3-_0x5c2a3)/startingBalances['basecoin']*0x64,_0x2848d3=_0x2848d3-_0x5c2a3);if(_0x3c2e2c===_0xcf632d(0x1ba)){let _0x446a74=_0x23a15e==='EUR'?startingBalances[_0xcf632d(0x7a)]:startingBalances[_0xcf632d(0x1e9)];if(_0x5d579d===_0xcf632d(0x120)||_0x5d579d===_0xcf632d(0xb3))_0x5c2a3=_0x23a15e===_0xcf632d(0x1a9)?_0x5c2a3*_0x413615[_0xcf632d(0x7a)]:_0x5c2a3*_0x413615['usd'];else{if(_0x5d579d==='BUSD'||_0x5d579d==='USDT'||_0x5d579d===_0xcf632d(0x131))_0x5c2a3=_0x23a15e===_0xcf632d(0x1a9)?_0x5c2a3*_0x413615[_0xcf632d(0x7a)]/_0x413615[_0xcf632d(0x1e9)]:_0x5c2a3;else _0x5d579d===_0xcf632d(0x1a9)&&(_0x5c2a3=_0x23a15e===_0xcf632d(0x1a9)?_0x5c2a3:_0x5c2a3*_0x413615[_0xcf632d(0x1e9)]/_0x413615['eur']);}_0x3b968f=(_0x2848d3-_0x5c2a3)/_0x446a74*0x64,_0x2848d3=_0x2848d3-_0x5c2a3;}if(_0x3b968f){if(_0x3b968f<0x64)_0x3b968f=_0x3b968f[_0xcf632d(0x1d4)](0x2);else{if(_0x3b968f<0x3e8)_0x3b968f=_0x3b968f[_0xcf632d(0x1d4)](0x1);else _0x3b968f=_0x3b968f[_0xcf632d(0x1d4)](0x0);}}else _0x3b968f=Number('0')[_0xcf632d(0x1d4)](0x2);if(_0x2848d3){if(Math[_0xcf632d(0x158)](_0x2848d3)<0.000001)_0x2848d3=_0x2848d3[_0xcf632d(0x1d4)](0x2);else{if(Math['abs'](_0x2848d3)<0.1)_0x2848d3=_0x2848d3[_0xcf632d(0x1d4)](0x6);else{if(Math[_0xcf632d(0x158)](_0x2848d3)<0x1)_0x2848d3=_0x2848d3['toFixed'](0x5);else{if(Math['abs'](_0x2848d3)<0xa)_0x2848d3=_0x2848d3[_0xcf632d(0x1d4)](0x4);else{if(Math[_0xcf632d(0x158)](_0x2848d3)<0x64)_0x2848d3=_0x2848d3[_0xcf632d(0x1d4)](0x3);else{if(Math['abs'](_0x2848d3)<0x3e8)_0x2848d3=_0x2848d3['toFixed'](0x2);else _0x2848d3=_0x2848d3[_0xcf632d(0x1d4)](0x2);}}}}}}else _0x2848d3=Number('0')[_0xcf632d(0x1d4)](0x2);}else _0x3b968f=Number('0')[_0xcf632d(0x1d4)](0x2);return{'value':_0x2848d3,'change':_0x3b968f,'leftTxt':_0x246d41,'rightTxt':_0x545cbf};}async function getStartingBalances(_0x1fa3bd,_0x91357b=!![]){const _0x5b1e16=_0x280e21;if(_0x1fa3bd[_0x5b1e16(0x1c0)]!==0x0){const [_0x335a1e,_0x4e1ec6,_0x591e12]=getPerf(_0x1fa3bd[0x0],!![]);let _0x4ba0a3=[];config['portfolio']['forEach'](_0x470ada=>{const _0x1eae32=_0x5b1e16;let _0x28baf6=0x0,_0x4b8de6;config[_0x1eae32(0xe0)][_0x1eae32(0x118)](_0x53141e=>{const _0x32d201=_0x1eae32;let _0x228c0e=_0x53141e[_0x32d201(0xd2)][_0x32d201(0x189)](_0xc082c=>_0xc082c[_0x32d201(0x85)]==_0x470ada[_0x32d201(0x85)]);if(_0x228c0e){_0x28baf6+=_0x228c0e[_0x32d201(0x10e)];if(!_0x4b8de6)_0x4b8de6=_0x228c0e[_0x32d201(0x1cd)];}}),_0x4ba0a3[_0x1eae32(0xdb)]({'coin':_0x470ada[_0x1eae32(0x85)],'number':_0x28baf6,'initialprice':_0x4b8de6});});const _0xd65941={'basecoin':_0x335a1e,'eur':_0x4e1ec6,'usd':_0x591e12,'coins':_0x4ba0a3};if(_0x91357b)proxyEmit(_0x5b1e16(0xde),_0xd65941);startingBalances=_0xd65941;}}function headlessMode(_0x1a14cf){const _0x16b4e1=_0x280e21;let _0x39a7c5=_0x1a14cf['portfolio'],_0x55a6c5=_0x1a14cf[_0x16b4e1(0xcd)],_0x2b8ef9=[];for(let _0xd8d99e of _0x39a7c5){if(_0xd8d99e[_0x16b4e1(0x85)]!=config[_0x16b4e1(0xd1)]){if(_0xd8d99e[_0x16b4e1(0x1b1)]>=_0x55a6c5/0x64){if(_0xd8d99e['valid'])_0x2b8ef9[_0x16b4e1(0xdb)](_0xd8d99e);}else{if(_0xd8d99e['delta']<=-_0x55a6c5/0x64){if(_0xd8d99e[_0x16b4e1(0xab)])_0x2b8ef9[_0x16b4e1(0xdb)](_0xd8d99e);}}}}_0x2b8ef9['length']>0x0&&placeOrder(_0x2b8ef9);}function notifyBalance(_0x52fc37){const _0x44136b=_0x280e21;let _0x5a423d=_0x52fc37[_0x44136b(0x10d)],_0x5340cc=_0x52fc37[_0x44136b(0xcd)],_0x48c577=[];for(let _0x25701c of _0x5a423d){if(_0x25701c['coin']!=config['basecoin']){if(_0x25701c[_0x44136b(0x1b1)]>=_0x5340cc/0x64){if(_0x25701c[_0x44136b(0xab)])_0x48c577[_0x44136b(0xdb)](_0x25701c);}else{if(_0x25701c[_0x44136b(0x1b1)]<=-_0x5340cc/0x64){if(_0x25701c[_0x44136b(0xab)])_0x48c577['push'](_0x25701c);}}}}if(_0x48c577[_0x44136b(0x1c0)]>0x0){let _0x4e7b7a=_0x48c577[_0x44136b(0x11a)](_0x46d4b1=>_0x46d4b1['coin']);_0x4e7b7a['sort']();let _0x16cc29=_0x4e7b7a[_0x44136b(0x188)](',\x20');if(!lastCoinsToBalance)logHistory(_0x44136b(0xee),_0x44136b(0x175));lastCoinsToBalance=_0x16cc29;}}function symbolToCoin(_0x3d65ef){const _0x423656=_0x280e21;let _0x38d428;if(_0x3d65ef['includes']('/'+config[_0x423656(0xd1)]))_0x38d428=_0x3d65ef[_0x423656(0x1b7)]('/'+config['basecoin'],'');if(_0x3d65ef[_0x423656(0x17e)](config[_0x423656(0xd1)]+'/'))_0x38d428=_0x3d65ef[_0x423656(0x1b7)](config[_0x423656(0xd1)]+'/','');return _0x38d428;}async function unlockOrders(){const _0x5d1aba=_0x280e21;if(allOrdersPlaced&&lockOrders==ORDERS[_0x5d1aba(0xe7)]){logger['debug'](_0x5d1aba(0x115)),lockOrders=ORDERS[_0x5d1aba(0x8b)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x539e98=await getCoins();[currentCoins,currentCoinsAll]=_0x539e98,validateOrdersState=_0x5d1aba(0x1dd),persistOpenOrders([]),lockOrders=ORDERS[_0x5d1aba(0x123)],logger[_0x5d1aba(0x19a)](_0x5d1aba(0x14a));}}async function validateOrders(_0x13a42a){const _0x2f1767=_0x280e21;if(_0x13a42a)validateOrdersState=_0x13a42a;logger[_0x2f1767(0x19a)](_0x2f1767(0xb0)+validateOrdersState+_0x2f1767(0x96)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x2f1767(0xff):_0x2f1767(0x1ae)));let _0x267587=[],_0x141800=config[_0x2f1767(0x141)]==_0x2f1767(0xd0)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2f1767(0xe7)])return;logger[_0x2f1767(0x19a)](_0x2f1767(0x1aa)+validateOrdersState),lastOrders['forEach'](_0x3944ba=>{const _0x12b775=_0x2f1767;let _0x307785=![];_0x3944ba[_0x12b775(0x7e)]>0x0&&(_0x307785=!![]),_0x267587['push'](_0x307785),_0x307785&&config[_0x12b775(0x141)]!='market'&&logHistory(_0x12b775(0x87),_0x12b775(0x11c)+_0x3944ba[_0x12b775(0xf0)]+'\x20'+_0x3944ba[_0x12b775(0x1c7)]+'\x20#'+formatResult(_0x3944ba['filled'],0x8)+'\x20@'+formatResult(_0x3944ba['price'],0x8));}),_0x267587['forEach']((_0x20fde1,_0x362c07)=>{if(_0x20fde1)lastOrders['splice'](_0x362c07,0x1);}),persistOpenOrders(lastOrders);const _0x4360b2=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x2f1767(0xbb);if(validateOrdersState==_0x2f1767(0x1dd)){validateOrdersState='ongoing';if(_0x267587[_0x2f1767(0x17e)](![])){if(config[_0x2f1767(0x141)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x267587['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x2f1767(0x141)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x2f1767(0x1d9))_0x267587[_0x2f1767(0x17e)](![])&&(config[_0x2f1767(0x141)]==_0x2f1767(0xd0)?logHistory(_0x2f1767(0x1e7),_0x2f1767(0x82)+Math[_0x2f1767(0xc7)](_0x141800*validateOrderInterval/0xea60)+_0x2f1767(0x129)+_0x4360b2):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x2f1767(0xc7)](_0x141800*validateOrderInterval/0xea60)+_0x2f1767(0x129)+_0x4360b2))),await unlockOrders();else{if(validateOrdersState==_0x2f1767(0x198)){if(config['ordertype']!=_0x2f1767(0xd0))logHistory(_0x2f1767(0x1e7),_0x2f1767(0xea)+_0x4360b2);await unlockOrders();}}}}}async function cancelOrders(){const _0x5d461e=_0x280e21;lastOrders[_0x5d461e(0x118)](async _0x4c35ab=>{const _0xcaa7bf=_0x5d461e;try{const _0x1d6a52=await exchange[_0xcaa7bf(0x110)](_0x4c35ab['orderId'],_0x4c35ab[_0xcaa7bf(0xf0)]);}catch(_0x3670b4){if(_0x3670b4[_0xcaa7bf(0xcb)]()[_0xcaa7bf(0x17e)]('OrderNotFound')){}else await handleError(_0x3670b4,_0xcaa7bf(0x117));}});}async function initCoinResults(){const _0x1292a4=_0x280e21;let _0x113ee6=[];config[_0x1292a4(0x10d)]['forEach'](_0x51762d=>{const _0x34577a=_0x1292a4;if(!_0x51762d[_0x34577a(0x121)]&&_0x51762d['coin']!=config['basecoin']){let _0x23317d=dbCoinResults[_0x34577a(0x14c)](_0x34577a(0x104))[_0x34577a(0x189)]({'coin':_0x51762d['coin']})[_0x34577a(0xd9)]();if(!_0x23317d){const _0x42a498=currentCoins[_0x34577a(0x189)](_0xabd34=>_0xabd34['coin']==_0x51762d[_0x34577a(0x85)]),_0xc13f4a=global[_0x34577a(0x1af)][noslash(_0x51762d[_0x34577a(0xf0)])];let _0x2daeba=_0x42a498?_0x42a498[_0x34577a(0x10e)]:null,_0xdf68c6=_0x51762d[_0x34577a(0x1a3)]?0x1/_0xc13f4a:_0xc13f4a,_0x19c609;config[_0x34577a(0xe0)][_0x34577a(0x118)](_0x31e41e=>{const _0x51565c=_0x34577a;!_0x19c609&&(_0x19c609=_0x31e41e[_0x51565c(0xd2)]['find'](_0x462699=>_0x462699[_0x51565c(0x85)]==_0x51762d[_0x51565c(0x85)]),_0x19c609&&(_0x2daeba=_0x19c609['number'],_0xdf68c6=_0x19c609[_0x51565c(0x1cd)]));}),_0x113ee6['push']({'coin':_0x51762d['coin'],'number':_0x2daeba,'price':_0xdf68c6});}}}),_0x113ee6[_0x1292a4(0x118)](_0x23d173=>{const _0x36ae17=_0x1292a4,_0x27c190={'coin':_0x23d173[_0x36ae17(0x85)],'number':_0x23d173[_0x36ae17(0x10e)],'breakeven':_0x23d173[_0x36ae17(0x1cd)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x36ae17(0x14c)](_0x36ae17(0x104))['push'](_0x27c190)[_0x36ae17(0x7d)]();});}async function updateCoinResults(_0x416068,_0x251caf=![]){const _0x92456d=_0x280e21;let _0x41db58,_0x24083d,_0x35505c,_0x338d62,_0x4fe788,_0x166f76,_0x1a2f4b=dbCoinResults['get']('coins')['find']({'coin':_0x416068[_0x92456d(0x85)]})[_0x92456d(0xd9)]();!_0x1a2f4b&&await initCoinResults();_0x416068[_0x92456d(0x1a3)]&&(_0x166f76={'filled':_0x416068[_0x92456d(0x7e)]*_0x416068[_0x92456d(0x1cd)],'amount':_0x416068[_0x92456d(0x7e)]*_0x416068['price'],'side':_0x416068[_0x92456d(0x1c7)]==_0x92456d(0x17a)?'buy':'sell','price':0x1/_0x416068[_0x92456d(0x1cd)]},_0x416068={..._0x416068,..._0x166f76});_0x251caf?_0x24083d=_0x416068['side']==_0x92456d(0x183)?_0x1a2f4b[_0x92456d(0x10e)]+_0x416068[_0x92456d(0x7e)]:_0x1a2f4b['number']-_0x416068[_0x92456d(0x7e)]:_0x24083d=await getCoinNumber(_0x416068['coin']);if(_0x416068['fee']&&_0x416068[_0x92456d(0xfd)][_0x92456d(0xf3)]==config['basecoin'])_0x41db58=_0x416068['fee']['cost'];else{if(_0x416068['fee']&&_0x416068[_0x92456d(0xfd)]['currency']==_0x92456d(0x13c)&&!_0x251caf)_0x41db58=_0x416068[_0x92456d(0xfd)][_0x92456d(0x18e)]*global[_0x92456d(0x1af)][_0x92456d(0x13c)+config['basecoin']];else _0x41db58=defaultFee*_0x416068[_0x92456d(0x7e)]*_0x416068[_0x92456d(0x1cd)];}_0x416068[_0x92456d(0x1c7)]=='buy'?(_0x35505c=_0x24083d!=0x0?(_0x1a2f4b[_0x92456d(0xa1)]*_0x1a2f4b['number']+_0x416068[_0x92456d(0x1cd)]*(_0x24083d-_0x1a2f4b[_0x92456d(0x10e)])+_0x41db58)/_0x24083d:0x0,_0x338d62=_0x1a2f4b[_0x92456d(0x19d)]):(_0x35505c=_0x24083d!=0x0?(_0x1a2f4b[_0x92456d(0xa1)]*_0x1a2f4b[_0x92456d(0x10e)]-_0x416068[_0x92456d(0x1cd)]*(_0x1a2f4b[_0x92456d(0x10e)]-_0x24083d)+_0x41db58)/_0x24083d:0x0,_0x338d62=_0x1a2f4b[_0x92456d(0x19d)]+(_0x416068['price']-_0x1a2f4b[_0x92456d(0xa1)])*_0x416068[_0x92456d(0x7e)]);_0x4fe788=(_0x416068[_0x92456d(0x1cd)]-_0x35505c-_0x41db58/_0x416068['filled'])*_0x24083d;let _0x210de0={'coin':_0x416068[_0x92456d(0x85)],'number':_0x24083d,'breakeven':formatResult(_0x35505c,0x8),'realized':formatResult(_0x338d62,0x8),'unrealized':formatResult(_0x4fe788,0x8),'fees':formatResult(_0x1a2f4b[_0x92456d(0xb7)]+_0x41db58,0x8),'sells':_0x416068[_0x92456d(0x1c7)]==_0x92456d(0x17a)?_0x1a2f4b[_0x92456d(0x18d)]+0x1:_0x1a2f4b['sells'],'buys':_0x416068[_0x92456d(0x1c7)]==_0x92456d(0x183)?_0x1a2f4b[_0x92456d(0x91)]+0x1:_0x1a2f4b[_0x92456d(0x91)]};dbCoinResults[_0x92456d(0x14c)](_0x92456d(0x104))[_0x92456d(0x189)]({'coin':_0x416068[_0x92456d(0x85)]})[_0x92456d(0x12d)](_0x210de0)[_0x92456d(0x7d)]();if(!_0x251caf){if(_0x416068[_0x92456d(0xfd)]&&_0x416068['fee'][_0x92456d(0xf3)]==_0x92456d(0x13c)){const _0xbeb61e=currentCoins[_0x92456d(0x189)](_0x209c11=>_0x209c11[_0x92456d(0x85)]=='BNB');if(_0xbeb61e){let _0x25ed39=dbCoinResults[_0x92456d(0x14c)](_0x92456d(0x104))[_0x92456d(0x189)]({'coin':'BNB'})[_0x92456d(0xd9)]();_0x210de0={..._0x25ed39,'number':_0xbeb61e['number']},dbCoinResults[_0x92456d(0x14c)](_0x92456d(0x104))[_0x92456d(0x189)]({'coin':_0x92456d(0x13c)})[_0x92456d(0x12d)](_0x210de0)[_0x92456d(0x7d)]();}}}}async function placeOrder(_0x49db5e){const _0x1dc275=_0x280e21,_0x47e561=config[_0x1dc275(0x141)]==_0x1dc275(0xd0)?_0x1dc275(0xd0):_0x1dc275(0x1c5);if(lockOrders==ORDERS[_0x1dc275(0x123)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x1dc275(0x1dd);let _0x218112=![];lastOrders=[];for(const _0xebd649 of _0x49db5e){let _0x41b559,_0xb3b98f,_0x2cdcc6,_0x5ae1bf,_0x2a1543,_0x565233=_0xebd649[_0x1dc275(0xf0)];try{const _0xace2c9=await exchange[_0x1dc275(0x1ec)](_0x565233);_0x41b559=_0xebd649['reverse']?0x1/_0xebd649[_0x1dc275(0x7f)]:_0xebd649[_0x1dc275(0x7f)],_0xb3b98f=_0xace2c9['bid'],_0x2cdcc6=_0xace2c9[_0x1dc275(0x142)];_0xebd649[_0x1dc275(0x1a3)]?(_0x5ae1bf=_0xebd649[_0x1dc275(0x1c7)]==_0x1dc275(0x183)?_0x1dc275(0x17a):'buy',_0x2a1543=Math[_0x1dc275(0x158)](_0xebd649['trade'])/_0x41b559):(_0x5ae1bf=_0xebd649['side'],_0x2a1543=Math[_0x1dc275(0x158)](_0xebd649[_0x1dc275(0x162)]));_0x47e561==_0x1dc275(0x1c5)&&(config[_0x1dc275(0x141)]==_0x1dc275(0x1df)&&(_0x41b559=_0x5ae1bf==_0x1dc275(0x183)?_0xb3b98f:_0x2cdcc6),config[_0x1dc275(0x141)]==_0x1dc275(0x1d5)&&(_0x41b559=_0x5ae1bf==_0x1dc275(0x183)?_0x2cdcc6:_0xb3b98f));_0x2a1543=formatResult(_0x2a1543,0x8),_0x41b559=formatResult(_0x41b559,0x8);const _0x16233d=_0x5ae1bf=='sell'?config[_0x1dc275(0xeb)]?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x1dc275(0x174)]?String[_0x1dc275(0x124)]('0x'+config[_0x1dc275(0x174)])+'\x20':'',_0x2df2cb=_0x47e561=='market'?_0x1dc275(0x160):config[_0x1dc275(0x141)]==_0x1dc275(0x1df)?_0x1dc275(0xa7):_0x1dc275(0x1b4),_0x501807=new Date()['getTime']()[_0x1dc275(0xcb)]()[_0x1dc275(0x153)](-0x6)+'-'+Math[_0x1dc275(0x1a1)]()[_0x1dc275(0xcb)]()[_0x1dc275(0x153)](-0x6);lastOrders[_0x1dc275(0xdb)]({'customId':_0x501807,'symbol':_0x565233,'coin':_0xebd649['coin'],'side':_0x5ae1bf,'reverse':_0xebd649[_0x1dc275(0x1a3)],'filled':0x0});if(_0x47e561=='market')logHistory(_0x1dc275(0x87),''+_0x16233d+_0x2df2cb+_0x1dc275(0xe2)+_0x565233+'\x20'+_0x5ae1bf+'\x20#'+formatResult(_0x2a1543,0x8)+'\x20@'+formatResult(_0x41b559,0x8));else logHistory(_0x1dc275(0x87),''+_0x16233d+_0x2df2cb+'\x20order:\x20'+_0x565233+'\x20'+_0x5ae1bf+'\x20#'+formatResult(_0x2a1543,0x8)+'\x20@'+formatResult(_0x41b559,0x8));const _0x46b6c7=await exchange[_0x1dc275(0x199)](_0x565233,_0x47e561,_0x5ae1bf,_0x2a1543,_0x41b559,{'clientOrderId':_0x501807}),_0x5e0d9b=lastOrders[_0x1dc275(0x1c0)]-0x1;_0x5e0d9b>=0x0&&lastOrders[_0x5e0d9b]['customId']==_0x501807&&(lastOrders[_0x5e0d9b]={...lastOrders[_0x5e0d9b],'orderId':_0x46b6c7['id'],'amount':_0x46b6c7[_0x1dc275(0x1ef)],'price':_0x46b6c7[_0x1dc275(0x1cd)],'fee':_0x46b6c7[_0x1dc275(0xfd)]});if(config['cooldown']!=0x0){let _0x3f76e6=null;if(cooldownTracker['length']==config[_0x1dc275(0x130)]-0x1)_0x3f76e6=cooldownTracker[_0x1dc275(0x8d)]();const _0x148a22=getTimeStamp();cooldownTracker[_0x1dc275(0xdb)](_0x148a22);if(_0x3f76e6){const _0x46bfa4=fns[_0x1dc275(0x88)](new Date(_0x148a22),new Date(_0x3f76e6));if(_0x46bfa4<cooldownInterval){logHistory(_0x1dc275(0xec),'Executed\x20'+config[_0x1dc275(0x130)]+_0x1dc275(0x132)+cooldownInterval/0x3c+_0x1dc275(0x12c)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x436ae2){if(_0x436ae2['toString']()['includes'](_0x1dc275(0x15d)))lastOrders=lastOrders[_0x1dc275(0x1d0)](_0x3485eb=>_0x3485eb[_0x1dc275(0xf0)]!=_0x565233),logHistory(_0x1dc275(0xec),_0x1dc275(0x170)+_0x565233),_0x218112=!![];else _0x436ae2[_0x1dc275(0xcb)]()['includes']('Invalid\x20quantity')?(lastOrders=lastOrders['filter'](_0x2f98f5=>_0x2f98f5[_0x1dc275(0xf0)]!=_0x565233),logHistory(_0x1dc275(0xec),_0x1dc275(0xf5)+_0x565233),_0x218112=!![]):(lastOrders=lastOrders[_0x1dc275(0x1d0)](_0x1d4aa4=>_0x1d4aa4[_0x1dc275(0xf0)]!=_0x565233),await handleError(_0x436ae2,_0x1dc275(0x179),_0x565233));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x582283=config[_0x1dc275(0x141)]==_0x1dc275(0xd0)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x582283);}else unlockOrders();_0x218112&&config[_0x1dc275(0x1e0)]&&await pauseBot(_0x1dc275(0xa5)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1dc275(0x1e7),_0x1dc275(0x1c4)));}else{if(coolingDown)!config['headless']&&logHistory(_0x1dc275(0xec),_0x1dc275(0xef));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x1dc275(0x1e0)]&&(config['ordertype']=='market'?logHistory(_0x1dc275(0xec),_0x1dc275(0x1b5)):logHistory(_0x1dc275(0xec),_0x1dc275(0x108))));}}function persistOpenOrders(_0x252f27){const _0x35e702=_0x280e21,_0x141c0a={...config,'openOrders':_0x252f27};let _0xf770f2=dbConfig[_0x35e702(0x14c)](_0x35e702(0x1cc))[_0x35e702(0x189)]({'botID':botID})[_0x35e702(0xd9)]();_0xf770f2&&dbConfig['get']('bot')[_0x35e702(0x189)]({'botID':botID})[_0x35e702(0x12d)](_0x141c0a)['write']();}function restoreOrders(){const _0x5a05da=_0x280e21;let _0x24d64b;config[_0x5a05da(0x139)]&&allOpenOrders[_0x5a05da(0x118)](_0x32fa01=>{const _0x3439fc=_0x5a05da,_0x197dbc=config['openOrders'][_0x3439fc(0x189)](_0x597dcb=>_0x597dcb[_0x3439fc(0x16b)]==_0x32fa01['id']);_0x197dbc&&(lastOrders[_0x3439fc(0xdb)](_0x197dbc),_0x24d64b=_0x32fa01['timestamp']);});if(lastOrders[_0x5a05da(0x1c0)]>0x0){lockOrders=ORDERS[_0x5a05da(0xe7)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x5c9eeb=new Date()[_0x5a05da(0x191)](),_0x2ca97e=config[_0x5a05da(0x141)]==_0x5a05da(0xd0)?validateOrderTimeout*0x3c*0x3e8:config[_0x5a05da(0x12e)]*0x3c*0x3e8;if(_0x24d64b+_0x2ca97e>_0x5c9eeb){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5c1c39=_0x5a05da;validateOrders(_0x5c1c39(0x1d9));},_0x24d64b+_0x2ca97e-_0x5c9eeb);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x4657ba=_0x280e21;if(!coinsLoaded){process['send']({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x145869=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3d183d='';if(config[_0x4657ba(0x79)])_0x3d183d='<b>'+config['botname']+_0x4657ba(0x167);else _0x3d183d=_0x4657ba(0x107)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x595797=getKPIs(_0x4657ba(0xd1)),_0xd47f2b=getKPIs(_0x4657ba(0x1ce),config[_0x4657ba(0x1ce)]),_0x463fb0=getKPIs(_0x4657ba(0x15b)),_0x5d7d22=getKPIs(_0x4657ba(0x1ba),config[_0x4657ba(0x1ce)]);_0x3d183d+='<pre>',_0x3d183d+=_0x595797[_0x4657ba(0x1a0)]+'\x20:\x20'+_0x595797[_0x4657ba(0xd9)]+'\x0a',_0x3d183d+=_0x595797[_0x4657ba(0x1bc)]+':\x20'+_0x595797[_0x4657ba(0x12b)]+'%\x0a',_0x3d183d+=_0xd47f2b['leftTxt']+_0x4657ba(0x190)+_0xd47f2b['value']+'\x0a',_0x3d183d+=_0xd47f2b['rightTxt']+':\x20'+_0xd47f2b[_0x4657ba(0x12b)]+'%\x0a',_0x3d183d+=_0x463fb0[_0x4657ba(0x1a0)]+':\x20'+_0x463fb0['value']+'\x20('+config[_0x4657ba(0xd1)]+')\x0a',_0x3d183d+=_0x463fb0[_0x4657ba(0x1bc)]+':\x20'+_0x463fb0[_0x4657ba(0x12b)]+'%\x20('+config[_0x4657ba(0xd1)]+')\x0a',_0x3d183d+=_0x5d7d22['leftTxt']+':\x20'+_0x5d7d22[_0x4657ba(0xd9)]+'\x20('+config['fiat']+')\x0a',_0x3d183d+=_0x5d7d22['rightTxt']+':\x20'+_0x5d7d22['change']+_0x4657ba(0xe9)+config[_0x4657ba(0x1ce)]+')\x0a',_0x3d183d+=_0x4657ba(0x155),process[_0x4657ba(0x146)]({'telegrammsg':_0x3d183d},_0x4557d7=>{});}async function sendPortfolioTelegram(){const _0x1f3e61=_0x280e21;if(!coinsLoaded){process['send']({'telegrammsg':_0x1f3e61(0x1c1)},_0x73964d=>{});return;}let _0x3f28f9='';if(config[_0x1f3e61(0x79)])_0x3f28f9=_0x1f3e61(0x11f)+config['botname']+_0x1f3e61(0xa4);else _0x3f28f9=_0x1f3e61(0x107)+botID+_0x1f3e61(0xa4);_0x3f28f9+=_0x1f3e61(0x135),_0x3f28f9+=_0x1f3e61(0x83),_0x3f28f9+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x3f28f9+='-------------------------------\x0a',currentCoins['forEach'](_0x5e1e26=>{const _0x2f5ec5=_0x1f3e61;_0x3f28f9+=_0x5e1e26[_0x2f5ec5(0x85)]['padEnd'](0x7)+'|\x20'+formatPad(_0x5e1e26[_0x2f5ec5(0xc2)],0x2,0x6)+'|\x20'+formatPad(_0x5e1e26[_0x2f5ec5(0x1f1)],0x2,0x6)+'|\x20'+formatPad(_0x5e1e26[_0x2f5ec5(0x1b1)]*0x64,0x2,0x6)+'\x0a';}),_0x3f28f9+=_0x1f3e61(0x155),process[_0x1f3e61(0x146)]({'telegrammsg':_0x3f28f9},_0x5454e7=>{});}function formatPad(_0x32f329,_0x1b12e3,_0x11f4e5){const _0x4fa51c=_0x280e21,_0x1ec207=formatResultString(_0x32f329,_0x1b12e3);return _0x1ec207?_0x1ec207['padStart'](_0x11f4e5):''[_0x4fa51c(0x1a7)](_0x11f4e5);}function logHistory(_0x23a3b3,_0x3eeed6,_0x128b00=''){const _0x5d3fdb=_0x280e21;let _0x22ab51={'time':getTimeStamp(),'type':_0x23a3b3,'event':_0x3eeed6};dbLogs['get'](_0x5d3fdb(0x159))[_0x5d3fdb(0xdb)](_0x22ab51)[_0x5d3fdb(0x7d)]();if(_0x128b00=='')_0x128b00=_0x3eeed6;proxyEmit(_0x5d3fdb(0x113),{'log':_0x22ab51,'summary':_0x128b00}),process[_0x5d3fdb(0x146)]({'telegram':{..._0x22ab51,'botname':config['botname'],'showname':config[_0x5d3fdb(0x79)]}},_0x3c3710=>{}),logger[_0x5d3fdb(0x1a8)](''+_0x22ab51[_0x5d3fdb(0x113)]);}function emitHistory(_0xa9ff0f={}){const _0x4863cc=_0x280e21;Object['keys'](_0xa9ff0f)[_0x4863cc(0x1c0)]==0x0&&(_0xa9ff0f={'type':[_0x4863cc(0x87),_0x4863cc(0x113)],'event':'','page':0x1});if(_0xa9ff0f['type']['includes'](_0x4863cc(0x113)))_0xa9ff0f[_0x4863cc(0x1cb)]['splice'](_0xa9ff0f[_0x4863cc(0x1cb)][_0x4863cc(0x14e)](_0x4863cc(0x113)),0x1,'error','warning',_0x4863cc(0x1e7));if(dbLogs['has']('logs')['value']()){let _0x2b6a5e=dbLogs[_0x4863cc(0x14c)](_0x4863cc(0x159))[_0x4863cc(0x1d0)](_0xb77064=>{const _0x4b879c=_0x4863cc;if(_0xa9ff0f[_0x4b879c(0x1cb)]['length']==0x0)return![];else return _0xa9ff0f[_0x4b879c(0x1cb)][_0x4b879c(0x17e)](_0xb77064[_0x4b879c(0x1cb)]);})[_0x4863cc(0x1d0)](_0x25340d=>{const _0x2a2a03=_0x4863cc;if(_0xa9ff0f[_0x2a2a03(0x113)]=='')return!![];else return _0x25340d[_0x2a2a03(0x113)][_0x2a2a03(0xd8)]()['includes'](_0xa9ff0f['event'][_0x2a2a03(0xd8)]());})[_0x4863cc(0x148)](_0x4863cc(0xad)),_0x2d4dd2=_0x2b6a5e[_0x4863cc(0xd9)]()[_0x4863cc(0x1c0)];_0x2b6a5e=_0x2b6a5e['reverse']()[_0x4863cc(0x153)]((_0xa9ff0f[_0x4863cc(0x112)]-0x1)*logPageSize,_0xa9ff0f[_0x4863cc(0x112)]*logPageSize-0x1)['reverse']()[_0x4863cc(0xd9)](),proxyEmit('event-history',{'logs':_0x2b6a5e,'total':_0x2d4dd2});}else proxyEmit(_0x4863cc(0xaa),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2cf67b){const _0x5ac790=_0x280e21;if(dbLogs[_0x5ac790(0xda)](_0x5ac790(0x159))[_0x5ac790(0xd9)]()){const _0x40ed84=dbLogs[_0x5ac790(0x14c)](_0x5ac790(0x159))['sortBy']('time')['filter'](_0x5ea6a6=>{const _0x6400d3=_0x5ac790;return _0x5ea6a6[_0x6400d3(0x1cb)]==_0x6400d3(0x87);})['value']();dbLogs[_0x5ac790(0x14c)](_0x5ac790(0x159))[_0x5ac790(0x17f)]()[_0x5ac790(0x7d)](),dbLogs[_0x5ac790(0x14c)](_0x5ac790(0x159))[_0x5ac790(0x12d)](_0x40ed84)[_0x5ac790(0x7d)](),emitHistory(_0x2cf67b);}}async function pauseBot(_0x690b9f=''){const _0x4b000a=_0x280e21,_0x381ae3=new Date()[_0x4b000a(0x191)]();if(!lastErrorShown||_0x381ae3-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x381ae3;!lastBotPause?(lastBotPause=_0x381ae3,consecutivePauses=0x1):(_0x381ae3-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x4b000a(0x146)]({'stop':_0x4b000a(0x8c)},_0x19ddc0=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x690b9f)_0x690b9f+=_0x4b000a(0x1b0);logHistory(_0x4b000a(0xec),_0x690b9f+_0x4b000a(0x19f)+pauseBotInterval/0xea60+_0x4b000a(0x99)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x1ab175=_0x280e21;process[_0x1ab175(0x146)]({'stop':'kill'},_0x383848=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3d875a,_0x5d4adb){const _0x4a1449=_0x280e21;if(_0x3d875a[_0x4a1449(0xcb)]()[_0x4a1449(0x17e)]('API-key\x20format\x20invalid'))return logHistory(_0x4a1449(0xec),config[_0x4a1449(0x1a6)]+_0x4a1449(0xc3)),![];else{if(_0x3d875a['toString']()[_0x4a1449(0x17e)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x4a1449(0xec),config[_0x4a1449(0x1a6)]+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x3d875a['toString']()['includes'](_0x4a1449(0x8f)))return logHistory(_0x4a1449(0xec),config[_0x4a1449(0x1a6)]+_0x4a1449(0xa2)),logHistory(_0x4a1449(0xec),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x3d875a,_0x5d4adb);}}}async function handleError(_0x8f1bfe,_0x17c76e,_0x3fdbdf=''){const _0x5bd536=_0x280e21,_0x4c6261=config[_0x5bd536(0x1a6)]||_0x5bd536(0x140);if(_0x8f1bfe[_0x5bd536(0xcb)]()[_0x5bd536(0x17e)](_0x5bd536(0x15f)))await pauseBot(config[_0x5bd536(0x1a6)]+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x8f1bfe[_0x5bd536(0xcb)]()['includes'](_0x5bd536(0x1e1)))await pauseBot(config[_0x5bd536(0x1a6)]+_0x5bd536(0x147));else{if(_0x8f1bfe[_0x5bd536(0xcb)]()['includes'](_0x5bd536(0xb9)))await pauseBot(config[_0x5bd536(0x1a6)]+_0x5bd536(0xb6));else{if(_0x8f1bfe[_0x5bd536(0xcb)]()[_0x5bd536(0x17e)](_0x5bd536(0x196)))await pauseBot(config['exchange']+'\x20closed\x20the\x20connection');else{if(_0x8f1bfe['toString']()[_0x5bd536(0x17e)](_0x5bd536(0x10b)))logHistory(_0x5bd536(0xec),_0x17c76e+_0x5bd536(0x97)),logHistory(_0x5bd536(0xec),_0x5bd536(0x165)),await killBot();else{if(_0x8f1bfe['toString']()['includes'](_0x5bd536(0x192)))logHistory(_0x5bd536(0xec),_0x17c76e+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x5bd536(0xec),_0x5bd536(0x165)),await killBot();else{if(_0x8f1bfe['toString']()[_0x5bd536(0x17e)](_0x5bd536(0xe5)))logHistory(_0x5bd536(0xec),_0x17c76e+_0x5bd536(0x1b0)+config[_0x5bd536(0x1a6)]+_0x5bd536(0x1cf)),logHistory(_0x5bd536(0xec),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x8f1bfe[_0x5bd536(0xcb)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5bd536(0xec),_0x17c76e+_0x5bd536(0x1b0)+config[_0x5bd536(0x1a6)]+_0x5bd536(0xbf)),logHistory('error',_0x5bd536(0x165)),await killBot();else{if(_0x8f1bfe['toString']()[_0x5bd536(0x17e)]('AuthenticationError'))logHistory('error',_0x17c76e+'\x20|\x20'+config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error',_0x5bd536(0x165)),await killBot();else _0x8f1bfe[_0x5bd536(0xcb)]()[_0x5bd536(0x17e)]('InsufficientFunds')?logHistory(_0x5bd536(0xec),_0x17c76e+_0x5bd536(0xd4)+_0x3fdbdf):(logger[_0x5bd536(0x1a8)](_0x17c76e+_0x5bd536(0xce),_0x8f1bfe),await pauseBot(_0x5bd536(0xe4)));}}}}}}}}}function formatResult(_0x4ae562,_0x8ff290){const _0x15b962=_0x280e21;return parseFloat(_0x4ae562[_0x15b962(0x1d4)](_0x8ff290));}function formatResultTruncate(_0x2dacda,_0x38987e){const _0x10889e=_0x280e21;let _0x31fb28=formatResultString(_0x2dacda,0xa),_0x4e257a=_0x31fb28[_0x10889e(0x14e)]('.');return _0x4e257a!=-0x1&&(_0x31fb28=_0x31fb28['slice'](0x0,_0x4e257a+_0x38987e+0x1)),Number(_0x31fb28);}function formatResultString(_0x26cbdc,_0x12b547){const _0x41936c=_0x280e21;let _0x3504b2;if(!(''+_0x26cbdc)[_0x41936c(0x17e)]('e'))_0x3504b2=+(Math[_0x41936c(0xc7)](_0x26cbdc+'e+'+_0x12b547)+'e-'+_0x12b547);else{let _0x31a988=(''+_0x26cbdc)[_0x41936c(0x9a)]('e'),_0x3a362f='';+_0x31a988[0x1]+_0x12b547>0x0&&(_0x3a362f='+'),_0x3504b2=+(Math[_0x41936c(0xc7)](+_0x31a988[0x0]+'e'+_0x3a362f+(+_0x31a988[0x1]+_0x12b547))+'e-'+_0x12b547);}return Number(_0x3504b2)['toFixed'](_0x12b547);}function getServerTime(){const _0x959a84=_0x280e21,_0x4e0d01=new Date();return _0x4e0d01[_0x959a84(0x9f)]()+'/'+(_0x4e0d01[_0x959a84(0x173)]()+0x1)[_0x959a84(0xcb)]()[_0x959a84(0x1a7)](0x2,'0')+'/'+_0x4e0d01[_0x959a84(0x169)]()[_0x959a84(0xcb)]()[_0x959a84(0x1a7)](0x2,'0')+'\x20'+_0x4e0d01[_0x959a84(0x163)]()[_0x959a84(0xcb)]()['padStart'](0x2,'0')+':'+_0x4e0d01[_0x959a84(0x166)]()['toString']()[_0x959a84(0x1a7)](0x2,'0')+':'+_0x4e0d01[_0x959a84(0xcf)]()[_0x959a84(0xcb)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x26c1c2=_0x280e21,_0x2e971d=shiftedTime();return _0x2e971d[_0x26c1c2(0x9f)]()+'/'+(_0x2e971d[_0x26c1c2(0x173)]()+0x1)[_0x26c1c2(0xcb)]()[_0x26c1c2(0x1a7)](0x2,'0')+'/'+_0x2e971d[_0x26c1c2(0x169)]()[_0x26c1c2(0xcb)]()[_0x26c1c2(0x1a7)](0x2,'0')+'\x20'+_0x2e971d[_0x26c1c2(0x163)]()['toString']()[_0x26c1c2(0x1a7)](0x2,'0')+':'+_0x2e971d['getMinutes']()['toString']()['padStart'](0x2,'0')+':'+_0x2e971d[_0x26c1c2(0xcf)]()[_0x26c1c2(0xcb)]()[_0x26c1c2(0x1a7)](0x2,'0');}function getDate(){const _0x29e44e=_0x280e21,_0x1c8380=shiftedTime();return _0x1c8380[_0x29e44e(0x9f)]()+'/'+(_0x1c8380[_0x29e44e(0x173)]()+0x1)[_0x29e44e(0xcb)]()[_0x29e44e(0x1a7)](0x2,'0')+'/'+_0x1c8380[_0x29e44e(0x169)]()[_0x29e44e(0xcb)]()[_0x29e44e(0x1a7)](0x2,'0');}function getHour(){const _0x43cc73=_0x280e21,_0x34e8fc=shiftedTime();return _0x34e8fc['getHours']()[_0x43cc73(0xcb)]()[_0x43cc73(0x1a7)](0x2,'0');}function sleep(_0x56effc){return new Promise(_0x3eea77=>setTimeout(_0x3eea77,_0x56effc));}function shiftedTime(){const _0x2d4ef0=_0x280e21,_0x44c468=new Date();let _0x5c0048=_0x44c468;if(config&&config[_0x2d4ef0(0x1e6)]!==0x0)_0x5c0048=fns['add'](_0x44c468,{'hours':config[_0x2d4ef0(0x1e6)]});return _0x5c0048;}function timer(_0x4e96f3){const _0x4da582=_0x280e21,_0x250418=new Date();!lasttime?console['log'](_0x4da582(0x13b),_0x4e96f3,_0x250418):console[_0x4da582(0x116)](_0x4da582(0x13b),_0x4e96f3,(_0x250418-lasttime)/0x3e8),lasttime=_0x250418;}