const _0x4aa46e=_0x1eb7;(function(_0x80ecb,_0x1dd6b6){const _0x23a0e3=_0x1eb7,_0x426d08=_0x80ecb();while(!![]){try{const _0x313536=parseInt(_0x23a0e3(0x203))/0x1+-parseInt(_0x23a0e3(0x1dd))/0x2*(parseInt(_0x23a0e3(0x24e))/0x3)+parseInt(_0x23a0e3(0x2aa))/0x4+parseInt(_0x23a0e3(0x198))/0x5+-parseInt(_0x23a0e3(0x1e9))/0x6+parseInt(_0x23a0e3(0x1d3))/0x7+parseInt(_0x23a0e3(0x21b))/0x8;if(_0x313536===_0x1dd6b6)break;else _0x426d08['push'](_0x426d08['shift']());}catch(_0x4f2690){_0x426d08['push'](_0x426d08['shift']());}}}(_0x3085,0xa7319));const _0xf79f86=function(){let _0x253baa=!![];return function(_0x2bcde2,_0x9f2ab1){const _0x5918fa=_0x253baa?function(){const _0x29b5f2=_0x1eb7;if(_0x9f2ab1){const _0x2b9fdd=_0x9f2ab1[_0x29b5f2(0x1e2)](_0x2bcde2,arguments);return _0x9f2ab1=null,_0x2b9fdd;}}:function(){};return _0x253baa=![],_0x5918fa;};}(),_0x38e16f=_0xf79f86(this,function(){const _0x4b43ec=_0x1eb7;return _0x38e16f['toString']()[_0x4b43ec(0x1b1)](_0x4b43ec(0x260))[_0x4b43ec(0x2a6)]()[_0x4b43ec(0x1e3)](_0x38e16f)[_0x4b43ec(0x1b1)](_0x4b43ec(0x260));});_0x38e16f();'use strict';const ccxt=require(_0x4aa46e(0x21d)),low=require(_0x4aa46e(0x1b9)),FileSync=require(_0x4aa46e(0x1f8)),fs=require('fs'),fns=require(_0x4aa46e(0x227)),{WebsocketClient,DefaultLogger}=require(_0x4aa46e(0x1d9)),Crypt=require('hybrid-crypto-js')[_0x4aa46e(0x1f9)];let exchange,wsClient;global['ticker']={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')['version'],botID=process[_0x4aa46e(0x1ef)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x4aa46e(0x22b)](botID))return console[_0x4aa46e(0x262)]('Error:\x20Invalid\x20argument\x20'+botID+_0x4aa46e(0x269)),process[_0x4aa46e(0x243)](0x1);const userID=process[_0x4aa46e(0x1ef)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x4aa46e(0x21c);!fs[_0x4aa46e(0x1ac)](configpath)&&fs[_0x4aa46e(0x257)](configpath);const configfile=configpath+_0x4aa46e(0x1fd)+botID+_0x4aa46e(0x1ca),logfile=configpath+_0x4aa46e(0x1fd)+botID+_0x4aa46e(0x218),performancefile=configpath+_0x4aa46e(0x1fd)+botID+_0x4aa46e(0x1a0),coinresultsfile=configpath+_0x4aa46e(0x1fd)+botID+_0x4aa46e(0x29f),settingsfile=configpath+_0x4aa46e(0x236),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x4aa46e(0x1f1),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x4aa46e(0x1d5)]({'logs':[]})[_0x4aa46e(0x195)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x4aa46e(0x1d5)]({'data':[]})[_0x4aa46e(0x195)]();function _0x3085(){const _0x376b89=['placeOrder()','headless','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','milliseconds','Order\x20filled:\x20','date-fns','kill','max','currency','test','running','cooldown','initclient','\x20-\x20','BNB','usd','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','apiSecret','yyyy/MM/dd\x20HH:mm:ss','privateKey','bb-settings.json','ordertype','includes','buy','performance','orderType','startprice','parseISO','wsMarket','splice','symbol','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','sells','exit','amount','market','executionReport','enabled','availableBalance','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','OrderNotFound','differenceInSeconds','limit-high','version','219freDqE',':\x20Bot\x20','loadMarkets','breakeven','Binance\x20API\x20key\x20is\x20invalid','isEqual','map','WebSockets(','function','mkdirSync','timeshift','order','emitHistory','changes','wss://stream.binance.us:9443','padStart','args','cancelLoading','(((.+)+)+)+$','storeConfiguration','log','botname','getHours','\x20|\x20Error\x20details:\x20','findIndex','value',')\x20|\x20Error\x20details:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','exchange','limit-low','Bot\x20','AuthenticationError','getMinutes','close','replace','BTC','find','Order(s)\x20filled\x20-\x20balancing\x20resumed','decrypt','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','cloneDeep','last','page','USDT','Performance\x20recreation\x20completed\x20successfully','type','\x20hour','BTCEUR','Executed\x20','timestamp','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','fee','basecoin','side','starting-balances','isArray',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','BTC/EUR','push','Order(s)\x20not\x20validated\x20after\x20','timeout','fetchBalance','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','valid','getDate','USDC','keys','BTCBUSD','balances','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','orderId','cancel','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','yyyy-MM-dd\x27T\x27HH:mm:ss','differenceInCalendarDays','fetchOHLCV','join','getStartingBalances','Unfilled\x20order(s)\x20canceled\x20after\x20','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','cancelOrder()','-results.json','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','parse','yyyy/MM/dd','slice','cancelOrder','\x20minutes\x20-\x20balancing\x20resumed','toString','formattedMessage','remove','reduce','3247988mtonkK','emojibuy','send','getCoins()','fetchOrders','Order(s)\x20validated\x20-\x20balancing\x20resumed','time','Limit\x20(high-margin)','startnumber','RSA-OAEP','cost','eachDayOfInterval','wss://stream.binance.com:9443','write','startdate','2.3.5','1252050PEFfHH','userData','Limit\x20(low-margin)','split','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','indexOf','add','subscribeSpotKline','-performance.json','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Invalid\x20quantity','\x20order:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Binance\x20API\x20secret\x20is\x20invalid','emojisell','HOT/EUR','\x20>\x20','toFixed','spot','length','existsSync','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','limit','message','BTC/BUSD','search','fromCodePoint','event-history','stringify','InsufficientFunds','API-key\x20format\x20invalid','forEach','liquidity','lowdb','storeHeadless','getMonth','DDoSProtection','LIMIT','coins','limits','get','reverse','\x20orders\x20in\x20less\x20than\x20','date','HOT/BTC','MIN_NOTIONAL','filter','getFullYear','restart','subscribeSpotUserDataStream','-config.json','asset','distribution','InvalidNonce','portfolio','kline','offset','remainingSymbols','sell','2719423OQmnyr','BTC/USDT','defaults','getCloses()','target','configuration','binance','initws()','delta','assign','21884gDZidD','subDays','excluded','min','Market','apply','constructor','closeWs','placeOrder','format','price','event','5315514uERhKq','sha256','Order\x20amount\x20is\x20invalid:\x20','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','coin','trade','argv','error','/backup/','addDays','ticker','eventType','reconnected','success','realized','lowdb/adapters/FileSync','Crypt','Order:\x20','data','wsKey','bot-','BTCUSDT','toLowerCase','threshold','logs','symbols','542343mGjQTU','coinamount','number','abs','************','eur','buys','getSeconds','sort','entries','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','getTime','apiKey','starting-balance-','writeFile','sortBy','progress','set','bot','fetchTickers','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','-events.json','accumulatedQuantity','round','3010168NASFha','./config/','ccxt','has','filled','EUR','createOrder'];_0x3085=function(){return _0x376b89;};return _0x3085();}const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x4aa46e(0x1d5)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x4aa46e(0x1d5)]({'coins':[]})[_0x4aa46e(0x195)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x4aa46e(0x27d),'symbol':_0x4aa46e(0x287)},'usd':{'coin':_0x4aa46e(0x1fe),'symbol':_0x4aa46e(0x1d4)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x2db34d)=>{},'debug':(..._0xad707)=>{},'notice':(..._0x1f4409)=>{},'info':(..._0x517c6c)=>{},'warning':(..._0x44eb8a)=>{},'error':async function(..._0x336ef2){const _0x1203c9=_0x4aa46e,_0x46017d=new Date()[_0x1203c9(0x20e)]();if(!lastErrorShown||_0x46017d-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x1203c9(0x20e)](),logHistory(_0x1203c9(0x1f0),_0x1203c9(0x255)+consecutivePauses+_0x1203c9(0x286));let _0x4f37b8='';if(_0x336ef2[0x0])_0x4f37b8+=_0x336ef2[0x0];if(_0x336ef2[0x1]&&_0x336ef2[0x1][_0x1203c9(0x1f0)]&&_0x336ef2[0x1][_0x1203c9(0x1f0)][_0x1203c9(0x1af)])_0x4f37b8+=_0x1203c9(0x22f)+_0x336ef2[0x1][_0x1203c9(0x1f0)]['message'];logging(_0x1203c9(0x255)+consecutivePauses+_0x1203c9(0x268),''+_0x4f37b8),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x4aa46e(0x1ea),'rsaStandard':_0x4aa46e(0x191)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x4aa46e(0x258)]!=config[_0x4aa46e(0x258)]&&updateTimeshift(settings['timeshift']);process['send']({'started':_0x4aa46e(0x22c)},_0x45a54e=>{}),initializeProcessListeners();function proxyEmit(_0x47ff66,_0x3191c9=null){const _0x3e5227=_0x4aa46e;process[_0x3e5227(0x2ac)]({'function':_0x47ff66,'args':_0x3191c9},_0x417105=>{});}function initializeProcessListeners(){const _0xb044f8=_0x4aa46e;process['on'](_0xb044f8(0x1af),_0x5a12d9=>{const _0x12b6b7=_0xb044f8;switch(Object[_0x12b6b7(0x290)](_0x5a12d9)[0x0]){case _0x12b6b7(0x258):_0x5a12d9[_0x12b6b7(0x258)]!=undefined&&(settings[_0x12b6b7(0x258)]=_0x5a12d9[_0x12b6b7(0x258)],updateTimeshift(settings['timeshift']));break;case _0x12b6b7(0x256):switch(_0x5a12d9[_0x12b6b7(0x256)]){case _0x12b6b7(0x22e):initclient();break;case _0x12b6b7(0x25a):emitHistory(_0x5a12d9[_0x12b6b7(0x25e)]);break;case'getPortfolio':getPortfolio(_0x5a12d9['args']);break;case _0x12b6b7(0x261):storeConfiguration(_0x5a12d9[_0x12b6b7(0x25e)]);break;case _0x12b6b7(0x1ba):storeHeadless(_0x5a12d9[_0x12b6b7(0x25e)]);break;case _0x12b6b7(0x29b):getStartingBalances(getNormalizedPerformance());break;case _0x12b6b7(0x1e5):placeOrder(_0x5a12d9[_0x12b6b7(0x25e)]);break;case _0x12b6b7(0x25f):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x518211=_0x4aa46e;if(pidBalances)clearTimeout(pidBalances);if(config[_0x518211(0x20f)]!=''){await initExchange(config[_0x518211(0x20f)],config['apiSecret']);let _0x27c871=await loadSymbols();_0x27c871&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x321851,_0x4e4566){const _0x45828d=_0x4aa46e,_0x1b8cf7=ccxt[config[_0x45828d(0x26a)]];let _0x2c3b6f;switch(config[_0x45828d(0x26a)]){case'binance':_0x2c3b6f=_0x45828d(0x194);break;case'binanceus':_0x2c3b6f=_0x45828d(0x25c);break;default:_0x2c3b6f='wss://stream.binance.com:9443';}exchange=new _0x1b8cf7({'apiKey':_0x321851,'secret':_0x4e4566,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x321851,'api_secret':_0x4e4566,'beautify':!![],'wsUrl':_0x2c3b6f},logger),config[_0x45828d(0x26a)]=='binanceus'&&(stablecoins={'eur':{'coin':_0x45828d(0x291),'symbol':_0x45828d(0x1b0)},'usd':{'coin':_0x45828d(0x1fe),'symbol':_0x45828d(0x1d4)}});}async function loadSymbols(){const _0x1f0087=_0x4aa46e;let _0x18400b;try{markets=await exchange[_0x1f0087(0x250)]();const _0x3c75ec=['DAI/',_0x1f0087(0x1c4),_0x1f0087(0x1a7)];allSymbols=exchange[_0x1f0087(0x202)][_0x1f0087(0x1c6)](_0x2b356a=>{let _0x2f595d=![];return _0x3c75ec['forEach'](_0x443b10=>{const _0x2258ff=_0x1eb7;if(_0x2b356a[_0x2258ff(0x238)](_0x443b10))_0x2f595d=!![];}),!_0x2f595d;}),_0x18400b=!![];}catch(_0x24bf29){await handleError(_0x24bf29,'loadSymbols()'),_0x18400b=![];}return _0x18400b;}async function initbot(){const _0x4bf548=_0x4aa46e;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x21cf7b=dbCoinResults[_0x4bf548(0x1c0)](_0x4bf548(0x1be))[_0x4bf548(0x267)]();if(_0x21cf7b[_0x4bf548(0x1ab)]==0x0)await resetCoinResults();}async function initclient(){const _0x44383b=_0x4aa46e;proxyEmit(_0x44383b(0x1d8),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x44383b(0x292),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2de0ff=getNormalizedPerformance();emitPerformance(_0x2de0ff),await getStartingBalances(_0x2de0ff);}function cleanws(){const _0x412421=_0x4aa46e;wsinitialized=![];ws1&&(ws1['forEach'](_0xf6d6f3=>{try{wsClient['closeWs'](_0xf6d6f3);}catch(_0x4522a9){}}),ws1=[]);if(ws2){try{wsClient[_0x412421(0x1e4)](ws2);}catch(_0x2ddc40){}ws2=null;}}async function initws(){const _0x475f32=_0x4aa46e;cleanws();let _0x2db516=[];currentCoins['forEach'](_0x5a87e6=>{const _0xe13783=_0x1eb7;if(_0x5a87e6[_0xe13783(0x1ed)]!=config[_0xe13783(0x282)])_0x2db516[_0xe13783(0x288)](noslash(_0x5a87e6[_0xe13783(0x240)]));});if(!_0x2db516['includes'](stablecoins[_0x475f32(0x208)][_0x475f32(0x1ed)]))_0x2db516['push'](stablecoins[_0x475f32(0x208)]['coin']);if(!_0x2db516[_0x475f32(0x238)](stablecoins[_0x475f32(0x231)][_0x475f32(0x1ed)]))_0x2db516[_0x475f32(0x288)](stablecoins[_0x475f32(0x231)][_0x475f32(0x1ed)]);if(!_0x2db516[_0x475f32(0x238)](_0x475f32(0x230)+config['basecoin']))_0x2db516[_0x475f32(0x288)](_0x475f32(0x230)+config[_0x475f32(0x282)]);try{_0x2db516[_0x475f32(0x1b7)]((_0x2a7a86,_0x50b445)=>{const _0x2757e1=_0x475f32;ws1[_0x50b445]=wsClient[_0x2757e1(0x19f)](_0x2a7a86,'1m');}),ws2=wsClient[_0x475f32(0x1c9)](),wsClient['on'](_0x475f32(0x2a7),_0x9bdca8=>{const _0x54cb7a=_0x475f32;if(!Array[_0x54cb7a(0x285)](_0x9bdca8)&&!_0x9bdca8[_0x54cb7a(0x1fc)][_0x54cb7a(0x238)](_0x54cb7a(0x199))){if(_0x9bdca8[_0x54cb7a(0x1f4)]==='kline'){global[_0x54cb7a(0x1f3)][_0x9bdca8[_0x54cb7a(0x1cf)]['symbol']]=_0x9bdca8[_0x54cb7a(0x1cf)][_0x54cb7a(0x26f)];return;}}else{if(!Array[_0x54cb7a(0x285)](_0x9bdca8)&&_0x9bdca8[_0x54cb7a(0x1fc)][_0x54cb7a(0x238)](_0x54cb7a(0x199))){if(_0x9bdca8[_0x54cb7a(0x23e)][_0x54cb7a(0x238)](_0x54cb7a(0x1aa))){updateNumberCoins(_0x9bdca8);return;}}}}),wsClient['on'](_0x475f32(0x1f5),async _0x11e24e=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x5b2397){await handleError(_0x5b2397,_0x475f32(0x1da));}let _0x5f5b7f,_0x5eec00=0x0;loading[_0x475f32(0x1d1)]=[];let _0x2bf593=0x0;currentCoins[_0x475f32(0x1b7)](_0x456693=>{const _0x2021ea=_0x475f32;if(_0x456693[_0x2021ea(0x1ed)]!=config[_0x2021ea(0x282)])loading[_0x2021ea(0x1d1)][_0x2021ea(0x288)](_0x456693[_0x2021ea(0x240)]);}),loadingCanceled=![];while(_0x5f5b7f!=currentCoins['length']-0x1){_0x5f5b7f=0x0,currentCoins[_0x475f32(0x1b7)](_0x50e29b=>{const _0x390648=_0x475f32;_0x50e29b[_0x390648(0x1ed)]!=config[_0x390648(0x282)]&&global['ticker'][noslash(_0x50e29b[_0x390648(0x240)])]&&(loading['remainingSymbols']=loading[_0x390648(0x1d1)][_0x390648(0x1c6)](_0xf79e28=>_0xf79e28!=_0x50e29b[_0x390648(0x240)]),_0x5f5b7f++);}),loading[_0x475f32(0x213)]=Math['round'](_0x5f5b7f/(currentCoins[_0x475f32(0x1ab)]-0x1)*0x64);_0x2bf593>0x1e*0x5&&(loading[_0x475f32(0x28a)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x475f32(0x295)]=!![],emitLoadingProgress();break;}else _0x5f5b7f!=_0x5eec00&&(_0x5eec00=_0x5f5b7f,emitLoadingProgress()),_0x2bf593++,await sleep(0xc8);}if(_0x5f5b7f==currentCoins[_0x475f32(0x1ab)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}function _0x1eb7(_0x5236d7,_0x27c203){const _0x2e7603=_0x3085();return _0x1eb7=function(_0x38e16f,_0xf79f86){_0x38e16f=_0x38e16f-0x18b;let _0x3085ab=_0x2e7603[_0x38e16f];return _0x3085ab;},_0x1eb7(_0x5236d7,_0x27c203);}async function getFiat(){const _0x334354=_0x4aa46e;let _0x137876=0x0,_0x43e08f=0x0;try{_0x137876=global[_0x334354(0x1f3)][stablecoins[_0x334354(0x208)][_0x334354(0x1ed)]],_0x43e08f=global[_0x334354(0x1f3)][stablecoins[_0x334354(0x231)][_0x334354(0x1ed)]];}catch(_0x1b2d4e){await handleError(_0x1b2d4e,'getFiat()');}return{'eur':Number(_0x137876),'usd':Number(_0x43e08f)};}function setStartDatePerformance(){const _0x40a401=_0x4aa46e;if(config&&config[_0x40a401(0x1b8)][0x0]['changes'][_0x40a401(0x1ab)]!=0x0){const _0x1fe414=config[_0x40a401(0x1b8)][0x0]['changes'];dbPerformance['get'](_0x40a401(0x1fb))[_0x40a401(0x272)]({'date':config[_0x40a401(0x196)]})['assign']({'coins':_0x1fe414})['write']();}}async function recreateHistory(_0x419a09){const _0x5a8af9=_0x4aa46e;let _0x1ba674,_0x1c1440=[];logHistory(_0x5a8af9(0x1f6),_0x5a8af9(0x275)),_0x419a09[_0x5a8af9(0x1ce)]['forEach'](_0x6a0a4b=>{const _0x6ed7e6=_0x5a8af9;if(_0x6a0a4b[_0x6ed7e6(0x1ed)]!=config[_0x6ed7e6(0x282)]&&!_0x6a0a4b[_0x6ed7e6(0x1df)])_0x1c1440[_0x6ed7e6(0x288)]({'coin':_0x6a0a4b[_0x6ed7e6(0x1ed)],'symbol':_0x6a0a4b[_0x6ed7e6(0x240)]});});let _0x5e69ab=[];try{const _0x7ef7b7=fns[_0x5a8af9(0x1e6)](fns[_0x5a8af9(0x23d)](_0x419a09['startdate'][_0x5a8af9(0x270)](/\//g,'-')),_0x5a8af9(0x297));for(const _0x3470a8 of _0x1c1440){if(_0x3470a8[_0x5a8af9(0x1ed)]!=config['basecoin'])_0x1ba674=await exchange[_0x5a8af9(0x18c)](_0x3470a8[_0x5a8af9(0x240)],Date[_0x5a8af9(0x2a1)](_0x7ef7b7));_0x1ba674[_0x5a8af9(0x1b7)](_0xd5ce70=>{const _0x18a2b5=_0x5a8af9,_0x475628=_0x3470a8['symbol'][_0x18a2b5(0x238)](config['basecoin']+'/'),_0x18f8b6=fns[_0x18a2b5(0x1e6)](fns['parseISO'](_0xd5ce70['datetime']),_0x18a2b5(0x234)),_0x2a3e8f=fns[_0x18a2b5(0x1e6)](fns[_0x18a2b5(0x23d)](_0xd5ce70['datetime']),_0x18a2b5(0x2a2));let _0x35268c;if(_0xd5ce70[_0x18a2b5(0x283)]==_0x18a2b5(0x239)&&_0x475628==![])_0x35268c=_0xd5ce70[_0x18a2b5(0x244)];if(_0xd5ce70[_0x18a2b5(0x283)]=='buy'&&_0x475628==!![])_0x35268c=-_0xd5ce70[_0x18a2b5(0x244)]*_0xd5ce70[_0x18a2b5(0x1e7)];if(_0xd5ce70[_0x18a2b5(0x283)]==_0x18a2b5(0x1d2)&&_0x475628==![])_0x35268c=-_0xd5ce70[_0x18a2b5(0x244)];if(_0xd5ce70['side']=='sell'&&_0x475628==!![])_0x35268c=_0xd5ce70[_0x18a2b5(0x244)]*_0xd5ce70[_0x18a2b5(0x1e7)];_0x5e69ab['push']({'timestamp':_0x18f8b6,'date':_0x2a3e8f,'coin':_0x3470a8[_0x18a2b5(0x1ed)],'symbol':_0x3470a8[_0x18a2b5(0x240)],'type':_0xd5ce70[_0x18a2b5(0x27b)],'side':_0xd5ce70['side'],'reverse':_0x475628,'amount':formatResult(_0xd5ce70[_0x18a2b5(0x21f)],0x8),'filled':formatResult(_0xd5ce70[_0x18a2b5(0x21f)],0x8),'coinamount':formatResult(_0x35268c,0x8),'price':formatResult(_0xd5ce70[_0x18a2b5(0x1e7)],0x8)});let _0x4c9dfa;if(_0xd5ce70[_0x18a2b5(0x283)]==_0x18a2b5(0x239)&&_0x475628==![])_0x4c9dfa=-_0xd5ce70[_0x18a2b5(0x244)]*_0xd5ce70[_0x18a2b5(0x1e7)];if(_0xd5ce70['side']==_0x18a2b5(0x239)&&_0x475628==!![])_0x4c9dfa=_0xd5ce70[_0x18a2b5(0x244)];if(_0xd5ce70[_0x18a2b5(0x283)]==_0x18a2b5(0x1d2)&&_0x475628==![])_0x4c9dfa=_0xd5ce70[_0x18a2b5(0x244)]*_0xd5ce70[_0x18a2b5(0x1e7)];if(_0xd5ce70[_0x18a2b5(0x283)]==_0x18a2b5(0x1d2)&&_0x475628==!![])_0x4c9dfa=-_0xd5ce70[_0x18a2b5(0x244)];_0x5e69ab[_0x18a2b5(0x288)]({'date':_0x2a3e8f,'coin':config[_0x18a2b5(0x282)],'coinamount':formatResult(_0x4c9dfa,0x8)});});}_0x5e69ab[_0x5a8af9(0x20b)]((_0x565da4,_0x56baba)=>_0x565da4[_0x5a8af9(0x27f)]>_0x56baba[_0x5a8af9(0x27f)]?0x1:_0x56baba[_0x5a8af9(0x27f)]>_0x565da4[_0x5a8af9(0x27f)]?-0x1:0x0),dbLogs[_0x5a8af9(0x1c0)](_0x5a8af9(0x201))['remove']()[_0x5a8af9(0x195)](),_0x5e69ab['forEach'](_0x4cfeef=>{const _0x41b4cf=_0x5a8af9;let _0x19b293;_0x4cfeef[_0x41b4cf(0x1ed)]!=config['basecoin']&&(_0x19b293={'time':_0x4cfeef[_0x41b4cf(0x27f)],'type':_0x41b4cf(0x259),'event':_0x41b4cf(0x1fa)+_0x4cfeef['symbol']+'\x20'+_0x4cfeef['side']+'\x20#'+_0x4cfeef['amount']+'\x20@'+_0x4cfeef['price']},dbLogs[_0x41b4cf(0x1c0)](_0x41b4cf(0x201))[_0x41b4cf(0x288)](_0x19b293)[_0x41b4cf(0x195)]());});const _0x73831e=fns[_0x5a8af9(0x193)]({'start':new Date(_0x419a09[_0x5a8af9(0x196)]),'end':new Date()})[_0x5a8af9(0x254)](_0x1aa950=>fns['format'](_0x1aa950,_0x5a8af9(0x2a2)));let _0x1d5272=[];_0x419a09[_0x5a8af9(0x1ce)][_0x5a8af9(0x1b7)](_0x3f2212=>{const _0x35d44=_0x5a8af9;if(!_0x3f2212[_0x35d44(0x1df)]){_0x1d5272[_0x3f2212[_0x35d44(0x1ed)]]=[];let _0x2f2252=_0x3f2212[_0x35d44(0x190)];_0x73831e[_0x35d44(0x1b7)]((_0x2ed39a,_0x171893)=>{const _0x53bc8a=_0x35d44;let _0x390080=_0x5e69ab[_0x53bc8a(0x1c6)](_0x12c938=>_0x12c938[_0x53bc8a(0x1ed)]==_0x3f2212[_0x53bc8a(0x1ed)]&&_0x12c938['date']==_0x2ed39a);if(_0x390080[_0x53bc8a(0x1ab)]!=0x0){let _0x3c439b=_0x390080[_0x53bc8a(0x2a9)]((_0x3c99a0,_0x39c607)=>{const _0x4d9ba5=_0x53bc8a;return _0x3c99a0+=_0x39c607[_0x4d9ba5(0x204)],_0x3c99a0;},0x0);_0x2f2252+=_0x3c439b;}_0x1d5272[_0x3f2212['coin']][_0x2ed39a]=_0x2f2252;});}});const _0x1c3e16=[..._0x1c1440];_0x1c3e16[_0x5a8af9(0x288)]({'coin':stablecoins[_0x5a8af9(0x208)][_0x5a8af9(0x1ed)],'symbol':stablecoins[_0x5a8af9(0x208)]['symbol']}),_0x1c3e16[_0x5a8af9(0x288)]({'coin':stablecoins[_0x5a8af9(0x231)][_0x5a8af9(0x1ed)],'symbol':stablecoins[_0x5a8af9(0x231)]['symbol']});let _0x120175=[];for(const _0x12299f of _0x1c3e16){_0x120175[_0x12299f['coin']]=await getCloses(_0x12299f[_0x5a8af9(0x240)],new Date(_0x419a09[_0x5a8af9(0x196)]));}dbPerformance[_0x5a8af9(0x1c0)](_0x5a8af9(0x1fb))['remove']()[_0x5a8af9(0x195)](),_0x73831e[_0x5a8af9(0x1b7)]((_0x37c010,_0x34decb)=>{const _0x22aaf4=_0x5a8af9;let _0x4dda5b,_0x5ab599=[];_0x34decb==0x0?(_0x419a09[_0x22aaf4(0x1ce)]['forEach'](_0x646dfe=>{const _0x3a0061=_0x22aaf4;!_0x646dfe[_0x3a0061(0x1df)]&&_0x5ab599[_0x3a0061(0x288)]({'coin':_0x646dfe[_0x3a0061(0x1ed)],'number':_0x646dfe[_0x3a0061(0x190)],'price':_0x646dfe[_0x3a0061(0x23c)]});}),_0x4dda5b={'date':_0x37c010,'eur':_0x120175[stablecoins[_0x22aaf4(0x208)][_0x22aaf4(0x1ed)]][_0x34decb],'usd':_0x120175[stablecoins['usd'][_0x22aaf4(0x1ed)]][_0x34decb],'coins':_0x5ab599}):(_0x419a09[_0x22aaf4(0x1ce)][_0x22aaf4(0x1b7)](_0x54e11c=>{const _0x4dbf39=_0x22aaf4;!_0x54e11c[_0x4dbf39(0x1df)]&&_0x5ab599[_0x4dbf39(0x288)]({'coin':_0x54e11c[_0x4dbf39(0x1ed)],'number':_0x1d5272[_0x54e11c['coin']][_0x37c010],'price':_0x54e11c['coin']==config[_0x4dbf39(0x282)]?0x1:_0x120175[_0x54e11c[_0x4dbf39(0x1ed)]][_0x34decb]});}),_0x4dda5b={'date':_0x37c010,'eur':_0x120175[stablecoins['eur']['coin']][_0x34decb],'usd':_0x120175[stablecoins[_0x22aaf4(0x231)]['coin']][_0x34decb],'coins':_0x5ab599}),dbPerformance[_0x22aaf4(0x1c0)](_0x22aaf4(0x1fb))['push'](_0x4dda5b)[_0x22aaf4(0x195)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x31f569 of _0x5e69ab){_0x31f569[_0x5a8af9(0x1ed)]!=config['basecoin']&&await updateCoinResults(_0x31f569);}logHistory(_0x5a8af9(0x1f6),_0x5a8af9(0x27a));}catch(_0x40c162){await handleError(_0x40c162,'recreateHistory()');}}async function getCloses(_0x206a94,_0x11b557,_0x2787f8=undefined){const _0x35a3e8=_0x4aa46e,_0xff0a78='1d';let _0x26a3e2,_0x5b4603;const _0x31ffe8=fns[_0x35a3e8(0x298)](new Date(),_0x11b557)+0x1;try{const _0x10e0d1=exchange[_0x35a3e8(0x225)]()-_0x31ffe8*0x18*0xe10*0x3e8;_0x26a3e2=await exchange[_0x35a3e8(0x299)](_0x206a94,_0xff0a78,_0x10e0d1,_0x2787f8),_0x5b4603=await exchange['fetchTickers'](_0x206a94);}catch(_0xf782d3){await handleError(_0xf782d3,_0x35a3e8(0x1d6));}let _0x4bde45=ohlcvToCloses(_0x26a3e2);return _0x4bde45[_0x35a3e8(0x288)](_0x5b4603[_0x206a94][_0x35a3e8(0x277)]),_0x4bde45;}function ohlcvToCloses(_0x1005fa){let _0x1ddf84=[];return _0x1005fa['forEach'](function(_0x402f8f){const _0x56b911=_0x1eb7;_0x1ddf84[_0x56b911(0x288)](_0x402f8f[0x4]);}),_0x1ddf84;}function oneTimeMigration(){const _0x4fe249=_0x4aa46e;let _0x4cd4ed=dbLogs['get'](_0x4fe249(0x24d))[_0x4fe249(0x267)]();if(_0x4cd4ed!=_0x4fe249(0x197)){dbLogs[_0x4fe249(0x214)](_0x4fe249(0x24d),_0x4fe249(0x197))['write']();let _0x198610=[];const _0x1606d9=dbLogs['get'](_0x4fe249(0x201))[_0x4fe249(0x267)]();_0x1606d9[_0x4fe249(0x1b7)](_0x4d1f69=>{const _0x4722a2=_0x4fe249;_0x198610['push']({'time':_0x4d1f69[_0x4722a2(0x18e)],'type':_0x4d1f69[_0x4722a2(0x27b)],'event':_0x4d1f69[_0x4722a2(0x1e8)]});}),dbLogs[_0x4fe249(0x1c0)](_0x4fe249(0x201))[_0x4fe249(0x1dc)](_0x198610)['write']();}let _0x5cda84=dbConfig[_0x4fe249(0x1c0)](_0x4fe249(0x24d))['value']();if(_0x5cda84!='2.3.5'){dbConfig[_0x4fe249(0x214)](_0x4fe249(0x24d),_0x4fe249(0x197))['write']();let _0xc84f41=dbConfig['get']('bot')[_0x4fe249(0x272)]({'botID':botID})[_0x4fe249(0x267)]();if(_0xc84f41){let _0x48e162=[];_0xc84f41[_0x4fe249(0x1ce)][_0x4fe249(0x1b7)](_0x32d46b=>{const _0x47f47d=_0x4fe249;_0x48e162[_0x47f47d(0x288)]({'coin':_0x32d46b['coin'],'number':_0x32d46b[_0x47f47d(0x190)],'price':_0x32d46b['startprice']}),delete _0x32d46b[_0x47f47d(0x190)],delete _0x32d46b[_0x47f47d(0x23c)];});if(_0x48e162[_0x4fe249(0x1ab)]!==0x0)fs[_0x4fe249(0x211)](configbackuppath+(_0x4fe249(0x210)+botID+'.json'),JSON[_0x4fe249(0x1b4)](_0x48e162,null,0x4),function(_0xa41c9d){if(_0xa41c9d){}});const _0x50efe7=(_0x55170b,_0x40ad8e)=>{const _0x30d985=_0x4fe249;let _0x4bd199=[];_0x40ad8e[_0x30d985(0x1b7)](_0x4a4a21=>{const _0x293203=_0x30d985,_0x1b1b96=_0x55170b[_0x293203(0x272)](_0x494fc9=>_0x494fc9[_0x293203(0x1ed)]==_0x4a4a21[_0x293203(0x1ed)]);if(!_0x1b1b96)_0x4bd199[_0x293203(0x288)](_0x4a4a21);});let _0x23f914=[];return _0x55170b[_0x30d985(0x1b7)](_0x217564=>{const _0x2b0e50=_0x30d985,_0x3ed661=_0x40ad8e[_0x2b0e50(0x272)](_0x211fc6=>_0x211fc6[_0x2b0e50(0x1ed)]==_0x217564[_0x2b0e50(0x1ed)]);if(!_0x3ed661||_0x3ed661['number']==0x0&&_0x217564['number']!=0x0)_0x23f914[_0x2b0e50(0x288)](_0x217564);}),{'missingDay1':_0x4bd199,'notInDay2':_0x23f914};},_0xabefb0=dbPerformance[_0x4fe249(0x1c0)](_0x4fe249(0x1fb))['cloneDeep']()['value']();if(_0xabefb0['length']>0x1){const {missingDay1:_0x36fc1d,notInDay2:_0x20bfc5}=_0x50efe7(_0x48e162,_0xabefb0[0x1]['coins']);_0x48e162=[..._0x48e162,..._0x36fc1d],_0x20bfc5[_0x4fe249(0x1b7)](_0x37dc25=>{const _0x15b04a=_0x4fe249;let _0x43ec84=_0x48e162[_0x15b04a(0x266)](_0x4cb32d=>_0x4cb32d['coin']==_0x37dc25['coin']);_0x43ec84!=-0x1&&_0x48e162[_0x15b04a(0x23f)](_0x43ec84,0x1);});}_0x48e162[_0x4fe249(0x20b)]((_0x1acb17,_0x1efa38)=>_0x1acb17[_0x4fe249(0x1ed)]>_0x1efa38[_0x4fe249(0x1ed)]?0x1:_0x1efa38[_0x4fe249(0x1ed)]>_0x1acb17['coin']?-0x1:0x0);let _0x2eca2f=[{'date':_0xc84f41[_0x4fe249(0x196)],'changes':_0x48e162}];_0xabefb0['length']>0x2&&_0xabefb0[_0x4fe249(0x1b7)]((_0x289d96,_0x5900fc)=>{const _0x46b78c=_0x4fe249;if(_0x5900fc>0x0&&_0x5900fc<_0xabefb0[_0x46b78c(0x1ab)]-0x1){const {missingDay1:_0x46b549,notInDay2:_0x4a3fdd}=_0x50efe7(_0xabefb0[_0x5900fc][_0x46b78c(0x1be)],_0xabefb0[_0x5900fc+0x1][_0x46b78c(0x1be)]);_0x48e162=[],(_0x46b549[_0x46b78c(0x1ab)]!=0x0||_0x4a3fdd['length']!=0x0)&&(_0x46b549[_0x46b78c(0x1ab)]!=0x0&&_0x48e162[_0x46b78c(0x288)](..._0x46b549),_0x4a3fdd[_0x46b78c(0x1ab)]!=0x0&&(_0x4a3fdd[_0x46b78c(0x1b7)](_0x22e3db=>{const _0x2f4a1f=_0x46b78c;_0x22e3db[_0x2f4a1f(0x205)]=-_0x22e3db['number'];}),_0x48e162[_0x46b78c(0x288)](..._0x4a3fdd)),_0x48e162[_0x46b78c(0x20b)]((_0x5dfb36,_0x3de926)=>_0x5dfb36['coin']>_0x3de926[_0x46b78c(0x1ed)]?0x1:_0x3de926['coin']>_0x5dfb36[_0x46b78c(0x1ed)]?-0x1:0x0),_0x2eca2f[_0x46b78c(0x288)]({'date':_0xabefb0[_0x5900fc+0x1][_0x46b78c(0x1c3)],'changes':_0x48e162}));}}),dbConfig[_0x4fe249(0x1c0)](_0x4fe249(0x215))['find']({'botID':botID})[_0x4fe249(0x1dc)]({..._0xc84f41,'liquidity':_0x2eca2f})[_0x4fe249(0x195)]();}}config=getConfiguration(botID);let _0x46461d=dbPerformance['get'](_0x4fe249(0x24d))[_0x4fe249(0x267)]();_0x46461d!=_0x4fe249(0x197)&&(dbPerformance[_0x4fe249(0x214)](_0x4fe249(0x24d),'2.3.5')[_0x4fe249(0x195)](),setStartDatePerformance());let _0x24c8d4=dbCoinResults[_0x4fe249(0x1c0)](_0x4fe249(0x24d))[_0x4fe249(0x267)]();_0x24c8d4!=_0x4fe249(0x197)&&dbCoinResults[_0x4fe249(0x214)](_0x4fe249(0x24d),'2.3.5')[_0x4fe249(0x195)]();}function getConfiguration(_0x50cca8){const _0x172b81=_0x4aa46e;let _0x143120=dbConfig['get'](_0x172b81(0x215))[_0x172b81(0x272)]({'botID':_0x50cca8})[_0x172b81(0x267)]();if(_0x143120){}else _0x143120={'botID':_0x50cca8,'exchange':_0x172b81(0x1d9),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x172b81(0x26c)+_0x50cca8,'showname':![],'threshold':'3','ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x143120;}function emittedConfiguration(){const _0x5f5b25=_0x4aa46e;let _0x34edb8;return config['apiKey']==''?_0x34edb8=config:_0x34edb8={...config,'apiKey':'************','apiSecret':_0x5f5b25(0x207)},_0x34edb8;}function getSettings(){const _0x7f975c=_0x4aa46e;return dbSettings[_0x7f975c(0x1c0)]('settings')[_0x7f975c(0x267)]();}function getSecure(){const _0x4e8482=_0x4aa46e;return dbSecure[_0x4e8482(0x1c0)]('secure')['value']()||{};}function updateTimeshift(_0x2ab74e){const _0x1713ce=_0x4aa46e;let _0x336e54=dbConfig[_0x1713ce(0x1c0)](_0x1713ce(0x215))[_0x1713ce(0x272)]({'botID':botID})[_0x1713ce(0x267)]();_0x336e54&&dbConfig[_0x1713ce(0x1c0)](_0x1713ce(0x215))[_0x1713ce(0x272)]({'botID':botID})[_0x1713ce(0x1dc)]({'timeshift':_0x2ab74e})[_0x1713ce(0x195)](),config['timeshift']=_0x2ab74e,proxyEmit(_0x1713ce(0x1d8),emittedConfiguration());}async function storeConfiguration(_0x4f83cb){const _0x5de4b6=_0x4aa46e;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x23c2c4=dbConfig[_0x5de4b6(0x1c0)](_0x5de4b6(0x215))[_0x5de4b6(0x272)]({'botID':botID})[_0x5de4b6(0x267)]();_0x4f83cb={..._0x4f83cb,'apiKey':crypt[_0x5de4b6(0x274)](secure['privateKey'],_0x4f83cb[_0x5de4b6(0x20f)])[_0x5de4b6(0x1af)],'apiSecret':crypt[_0x5de4b6(0x274)](secure[_0x5de4b6(0x235)],_0x4f83cb[_0x5de4b6(0x233)])[_0x5de4b6(0x1af)]};if(_0x23c2c4){if(_0x4f83cb[_0x5de4b6(0x20f)]==_0x5de4b6(0x207))_0x4f83cb[_0x5de4b6(0x20f)]=config[_0x5de4b6(0x20f)];if(_0x4f83cb['apiSecret']==_0x5de4b6(0x207))_0x4f83cb[_0x5de4b6(0x233)]=config[_0x5de4b6(0x233)];dbConfig[_0x5de4b6(0x1c0)](_0x5de4b6(0x215))['find']({'botID':botID})['assign'](_0x4f83cb)['write']();}else dbConfig[_0x5de4b6(0x1c0)](_0x5de4b6(0x215))[_0x5de4b6(0x288)](_0x4f83cb)['write'](),process[_0x5de4b6(0x2ac)]({'status':_0x5de4b6(0x247),'live':_0x5de4b6(0x22c)},_0x4249ab=>{});config={..._0x4f83cb},setStartDatePerformance(),process['send']({'botname':_0x4f83cb[_0x5de4b6(0x263)]},_0x56ee14=>{});const _0x249fdc=getNormalizedPerformance();getStartingBalances(_0x249fdc),emitPerformance(_0x249fdc),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x3a3b03){const _0x484104=_0x4aa46e,_0x30b67e={...config,'headless':_0x3a3b03['headless']};let _0x1920ea=dbConfig['get'](_0x484104(0x215))['find']({'botID':botID})[_0x484104(0x267)]();_0x1920ea&&dbConfig['get'](_0x484104(0x215))['find']({'botID':botID})[_0x484104(0x1dc)](_0x30b67e)[_0x484104(0x195)](),config={..._0x30b67e},proxyEmit('configuration',emittedConfiguration());}function noslash(_0x2603c8){return _0x2603c8['replace']('/','');}function updateNumberCoins(_0x4a13c7){const _0x42a08f=_0x4aa46e;_0x4a13c7['eventType']&&_0x4a13c7[_0x42a08f(0x1f4)]=='outboundAccountPosition'&&_0x4a13c7[_0x42a08f(0x292)][_0x42a08f(0x1b7)](_0x285ece=>{const _0x2645f2=_0x42a08f;let _0xf9b2e2=currentCoins['find'](_0xb2d7ef=>_0xb2d7ef['coin']==_0x285ece[_0x2645f2(0x1cb)]),_0x20d79c=config[_0x2645f2(0x1ce)]['find'](_0x194777=>_0x194777['coin']==_0x285ece['asset']);if(_0xf9b2e2&&_0x20d79c)_0xf9b2e2['number']=Math[_0x2645f2(0x229)](Number(_0x285ece[_0x2645f2(0x248)])+(_0x20d79c[_0x2645f2(0x1d0)]||0x0),0x0);});if(_0x4a13c7[_0x42a08f(0x1f4)]&&_0x4a13c7[_0x42a08f(0x1f4)]==_0x42a08f(0x246)){if(_0x4a13c7[_0x42a08f(0x23b)]==_0x42a08f(0x1bd)&&_0x4a13c7['orderStatus']=='FILLED'){if(lastOrders)lastOrders[_0x42a08f(0x1b7)](_0x57c497=>{const _0xec2694=_0x42a08f;if(_0x57c497[_0xec2694(0x294)]==_0x4a13c7[_0xec2694(0x294)]){if(_0x57c497[_0xec2694(0x1c1)])_0x57c497[_0xec2694(0x21f)]=_0x4a13c7[_0xec2694(0x219)]*_0x57c497[_0xec2694(0x1e7)];else _0x57c497[_0xec2694(0x21f)]=_0x4a13c7[_0xec2694(0x219)];}});}}}async function getCoins(_0x5d730f=!![],_0xf8f775=config[_0x4aa46e(0x282)]){const _0x3c5071=_0x4aa46e;let _0x579650,_0x2cc449=[],_0x2351e2=[],_0x27c6d5=[];try{_0x579650=await exchange[_0x3c5071(0x28b)](),mybalances=_0x579650['total'];if(!_0x5d730f)for(const [_0x3d5359,_0xa146c1]of Object['entries'](mybalances)){_0x27c6d5[_0x3c5071(0x288)](_0x3d5359);}else config[_0x3c5071(0x1ce)]['forEach'](_0x2fc17f=>{const _0x1cf561=_0x3c5071;if(!_0x2fc17f['excluded'])_0x27c6d5[_0x1cf561(0x288)](_0x2fc17f[_0x1cf561(0x1ed)]);});if(_0xf8f775=='')for(const [_0x14e764,_0x57c5f5]of Object['entries'](mybalances)){_0x57c5f5[_0x3c5071(0x2a6)]()!=0x0&&_0x2351e2['push']({'coin':_0x14e764});}else for(const [_0x30f2ea,_0x2b8d4b]of Object[_0x3c5071(0x20c)](mybalances)){if(_0x27c6d5[_0x3c5071(0x238)](_0x30f2ea)){const _0x1d9a1c=config[_0x3c5071(0x1ce)][_0x3c5071(0x272)](_0x220518=>_0x220518[_0x3c5071(0x1ed)]==_0x30f2ea);if((_0x2b8d4b[_0x3c5071(0x2a6)]()!=0x0||_0x1d9a1c)&&(allSymbols[_0x3c5071(0x238)](_0x30f2ea+'/'+_0xf8f775)||_0x30f2ea==_0xf8f775))_0x2351e2[_0x3c5071(0x288)]({'coin':_0x30f2ea,'symbol':_0x30f2ea+'/'+_0xf8f775,'reverse':![],'number':Math[_0x3c5071(0x229)](_0x2b8d4b+(_0x1d9a1c&&_0x1d9a1c[_0x3c5071(0x1d0)]||0x0),0x0)}),_0x30f2ea!=_0xf8f775&&_0x2cc449['push'](_0x30f2ea+'/'+_0xf8f775);else(_0x2b8d4b[_0x3c5071(0x2a6)]()!=0x0||_0x1d9a1c)&&allSymbols[_0x3c5071(0x238)](_0xf8f775+'/'+_0x30f2ea)&&(_0x2351e2[_0x3c5071(0x288)]({'coin':_0x30f2ea,'symbol':_0xf8f775+'/'+_0x30f2ea,'reverse':!![],'number':Math[_0x3c5071(0x229)](_0x2b8d4b+(_0x1d9a1c&&_0x1d9a1c['offset']||0x0),0x0)}),_0x30f2ea!=_0xf8f775&&_0x2cc449['push'](_0xf8f775+'/'+_0x30f2ea));}}}catch(_0x59ca17){if(!_0x5d730f){if(_0x59ca17[_0x3c5071(0x2a6)]()[_0x3c5071(0x238)](_0x3c5071(0x1b6)))return logHistory('error',_0x3c5071(0x252)),![];else{if(_0x59ca17[_0x3c5071(0x2a6)]()['includes'](_0x3c5071(0x26d)))return logHistory(_0x3c5071(0x1f0),_0x3c5071(0x28c)),![];else{if(_0x59ca17[_0x3c5071(0x2a6)]()['includes'](_0x3c5071(0x293)))return logHistory('error',_0x3c5071(0x1a5)),![];else await handleError(_0x59ca17,_0x3c5071(0x18b));}}}else await handleError(_0x59ca17,_0x3c5071(0x18b));}return _0x2351e2;}async function getPortfolio(_0x456706){const _0x390d82=_0x4aa46e;let _0x46f162=[],_0x3afceb=[],_0x3bd930,_0x4f29e2=[],_0x121eac,_0x4bca4a;_0x456706[_0x390d82(0x20f)]===_0x390d82(0x207)||_0x456706[_0x390d82(0x233)]===_0x390d82(0x207)?(_0x121eac=config[_0x390d82(0x20f)],_0x4bca4a=config[_0x390d82(0x233)]):(_0x121eac=_0x456706['apiKey'],_0x4bca4a=_0x456706[_0x390d82(0x233)]);await initExchange(_0x121eac,_0x4bca4a);let _0x26bf17=await loadSymbols();if(_0x26bf17){_0x4f29e2=await getCoins(![],_0x456706[_0x390d82(0x282)]);if(_0x4f29e2===![])proxyEmit(_0x390d82(0x1ce),![]);else{if(_0x456706[_0x390d82(0x282)]=='')proxyEmit(_0x390d82(0x1ce),_0x4f29e2);else{_0x4f29e2[_0x390d82(0x1b7)](_0x1f4118=>{const _0x26fd28=_0x390d82;_0x46f162['push'](_0x1f4118[_0x26fd28(0x240)]);});try{_0x3afceb=await exchange[_0x390d82(0x216)](_0x46f162);}catch(_0x16fa10){await handleError(_0x16fa10,'getPortfolio()');}_0x4f29e2[_0x390d82(0x1b7)](_0x5f2d06=>{const _0x5acdda=_0x390d82;_0x5f2d06[_0x5acdda(0x1ed)]!=_0x456706['basecoin']?_0x3bd930=_0x5f2d06[_0x5acdda(0x1c1)]?0x1/_0x3afceb[_0x5f2d06[_0x5acdda(0x240)]][_0x5acdda(0x277)]:_0x3afceb[_0x5f2d06[_0x5acdda(0x240)]][_0x5acdda(0x277)]:_0x3bd930=0x1,_0x5f2d06['price']=formatResult(_0x3bd930,0x8);}),proxyEmit('portfolio',_0x4f29e2);}}}else proxyEmit(_0x390d82(0x1ce),![]);}function checkMinimums(_0x3bdd01){const _0x3e78ef=_0x4aa46e;let _0x1f097c=!![];const _0x3943c6=!_0x3bdd01[_0x3e78ef(0x1c1)]?markets[_0x3bdd01['symbol']][_0x3e78ef(0x1bf)][_0x3e78ef(0x244)][_0x3e78ef(0x1e0)]:markets[_0x3bdd01['symbol']][_0x3e78ef(0x1bf)][_0x3e78ef(0x192)][_0x3e78ef(0x1e0)],_0x5a9a23=!_0x3bdd01[_0x3e78ef(0x1c1)]?markets[_0x3bdd01['symbol']]['limits']['cost'][_0x3e78ef(0x1e0)]:markets[_0x3bdd01[_0x3e78ef(0x240)]]['limits']['amount'][_0x3e78ef(0x1e0)];if(Math[_0x3e78ef(0x206)](_0x3bdd01[_0x3e78ef(0x1ee)])<_0x3943c6)_0x1f097c=![];if(Math[_0x3e78ef(0x206)](_0x3bdd01['trade'])*_0x3bdd01['last']<_0x5a9a23)_0x1f097c=![];let _0x450303=config[_0x3e78ef(0x1ce)]['find'](_0x20b7dc=>_0x20b7dc[_0x3e78ef(0x1ed)]==_0x3bdd01[_0x3e78ef(0x1ed)]);if(Math[_0x3e78ef(0x206)](_0x3bdd01[_0x3e78ef(0x1ee)])>_0x3bdd01[_0x3e78ef(0x205)]-_0x450303[_0x3e78ef(0x1d0)])_0x1f097c=![];return _0x1f097c;}async function getBalances(){const _0x253014=_0x4aa46e;let _0x22b85a=0x0,_0x2a46ca;const _0x1c249b=config['threshold'];currentCoins[_0x253014(0x1b7)](_0x1f939a=>{const _0x111f09=_0x253014;if(_0x1f939a[_0x111f09(0x1ed)]!=config['basecoin']){let _0x37c7bb=global[_0x111f09(0x1f3)][noslash(_0x1f939a[_0x111f09(0x240)])];_0x2a46ca=_0x1f939a['reverse']?0x1/_0x37c7bb:_0x37c7bb;}else _0x2a46ca=0x1;let _0x5ac577=_0x1f939a[_0x111f09(0x205)]*_0x2a46ca;_0x22b85a+=_0x5ac577,_0x1f939a[_0x111f09(0x277)]=formatResult(Number(_0x2a46ca),0x8),_0x1f939a[_0x111f09(0x267)]=_0x5ac577;}),currentCoins[_0x253014(0x1b7)](_0x3846a5=>{const _0x332a14=_0x253014;let _0x55b53d=config[_0x332a14(0x1ce)][_0x332a14(0x272)](_0x3cb6f0=>_0x3cb6f0['coin']==_0x3846a5[_0x332a14(0x1ed)]),_0xd04761=Number(_0x55b53d[_0x332a14(0x1cc)]),_0x733a70=_0x3846a5['value']/_0x22b85a*0x64,_0x5cbde1=_0xd04761*_0x22b85a/0x64/_0x3846a5[_0x332a14(0x277)]-_0x3846a5[_0x332a14(0x205)];_0x3846a5[_0x332a14(0x1cc)]=formatResult(_0x733a70,0x3),_0x3846a5[_0x332a14(0x1d7)]=formatResult(_0xd04761,0x3),_0x3846a5[_0x332a14(0x1ee)]=formatResult(_0x5cbde1,0x8),_0x3846a5['side']='',_0x3846a5[_0x332a14(0x28d)]='';if(_0x3846a5['coin']!=config[_0x332a14(0x282)]){if(_0x3846a5[_0x332a14(0x1cc)]>_0xd04761)_0x3846a5[_0x332a14(0x283)]=_0x332a14(0x1d2),_0x3846a5[_0x332a14(0x28d)]=checkMinimums(_0x3846a5);else _0x3846a5[_0x332a14(0x1cc)]<_0xd04761&&(_0x3846a5[_0x332a14(0x283)]=_0x332a14(0x239),_0x3846a5[_0x332a14(0x28d)]=checkMinimums(_0x3846a5));}_0x3846a5[_0x332a14(0x1db)]=_0x3846a5[_0x332a14(0x1cc)]/_0x3846a5[_0x332a14(0x1d7)]-0x1;}),currentCoins[_0x253014(0x20b)]((_0x558863,_0x4989a7)=>_0x558863['delta']<_0x4989a7[_0x253014(0x1db)]?0x1:_0x4989a7[_0x253014(0x1db)]<_0x558863[_0x253014(0x1db)]?-0x1:0x0);const _0xff21c4=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xff21c4[_0x253014(0x208)],'usd':_0xff21c4['usd'],'portfolio':JSON[_0x253014(0x1b4)](currentCoins),'threshold':_0x1c249b},proxyEmit(_0x253014(0x292),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x253014(0x223)])headlessMode({'portfolio':currentCoins,'threshold':_0x1c249b});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x1c249b});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5818cf=_0x4aa46e;if(!lastBalances)return;let _0x19610f=[],_0x304cfd,_0x1dded2=JSON['parse'](lastBalances[_0x5818cf(0x1ce)]);_0x1dded2[_0x5818cf(0x20b)]((_0x36bdb7,_0x5bf493)=>_0x36bdb7[_0x5818cf(0x1ed)]>_0x5bf493[_0x5818cf(0x1ed)]?0x1:_0x5bf493['coin']>_0x36bdb7[_0x5818cf(0x1ed)]?-0x1:0x0),_0x1dded2[_0x5818cf(0x1b7)](_0x436d0a=>{const _0x304995=_0x5818cf;let _0x2a7f53={'coin':_0x436d0a['coin'],'number':_0x436d0a[_0x304995(0x205)],'price':_0x436d0a[_0x304995(0x277)]};_0x19610f[_0x304995(0x288)](_0x2a7f53);});const _0x283a96=await getFiat();_0x304cfd={'date':lastBalances[_0x5818cf(0x18e)][_0x5818cf(0x19b)]('\x20')[0x0],'eur':_0x283a96[_0x5818cf(0x208)],'usd':_0x283a96[_0x5818cf(0x231)],'coins':_0x19610f};let _0x2dcc04=dbPerformance[_0x5818cf(0x1c0)]('data')[_0x5818cf(0x272)]({'date':_0x304cfd[_0x5818cf(0x1c3)]})[_0x5818cf(0x267)]();_0x2dcc04?_0x304cfd['date']!=config[_0x5818cf(0x196)]&&dbPerformance[_0x5818cf(0x1c0)](_0x5818cf(0x1fb))[_0x5818cf(0x272)]({'date':_0x304cfd[_0x5818cf(0x1c3)]})['assign'](_0x304cfd)[_0x5818cf(0x195)]():dbPerformance[_0x5818cf(0x1c0)]('data')[_0x5818cf(0x288)](_0x304cfd)[_0x5818cf(0x195)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4db274=_0x4aa46e;let _0x149fc8=[];if(dbPerformance[_0x4db274(0x21e)]('data')['value']()){let _0x3e43c1=dbPerformance[_0x4db274(0x1c0)](_0x4db274(0x1fb))[_0x4db274(0x276)]()[_0x4db274(0x212)](_0x4db274(0x1c3))['value'](),_0x351477=[...config['liquidity']];_0x351477[_0x4db274(0x20b)]((_0x1df26b,_0x3c2eea)=>_0x1df26b[_0x4db274(0x1c3)]>_0x3c2eea[_0x4db274(0x1c3)]?-0x1:_0x3c2eea[_0x4db274(0x1c3)]>_0x1df26b[_0x4db274(0x1c3)]?0x1:0x0);let _0x4902e3=0x1,_0x450aa5=[],_0x28c81e=0x0;_0x3e43c1[_0x4db274(0x2a3)]()['reverse']()[_0x4db274(0x1b7)]((_0xb66eba,_0x14dc25)=>{const _0xc7a021=_0x4db274;if(_0x351477[_0x28c81e]){const _0x174137=fns['parse'](_0x351477[_0x28c81e][_0xc7a021(0x1c3)],_0xc7a021(0x2a2),new Date()),_0x47b4c3=fns[_0xc7a021(0x2a1)](_0xb66eba['date'],'yyyy/MM/dd',new Date());if(fns[_0xc7a021(0x253)](_0x174137,fns[_0xc7a021(0x1f2)](_0x47b4c3,0x1))){if(_0x14dc25<_0x3e43c1[_0xc7a021(0x1ab)]){let _0x52aa2f=0x0,_0x10a2a3=0x0;_0x3e43c1[_0x3e43c1[_0xc7a021(0x1ab)]-_0x14dc25-0x1][_0xc7a021(0x1be)]['forEach'](_0x8a7042=>{const _0x2c346a=_0xc7a021;_0x10a2a3+=_0x8a7042[_0x2c346a(0x205)]*_0x8a7042[_0x2c346a(0x1e7)];}),_0x351477[_0x28c81e][_0xc7a021(0x25b)]['forEach'](_0x4b3e96=>{const _0x22ef39=_0xc7a021;_0x52aa2f+=_0x4b3e96[_0x22ef39(0x205)]*_0x4b3e96[_0x22ef39(0x1e7)];}),_0x4902e3*=_0x52aa2f/_0x10a2a3+0x1;}_0x28c81e++;}}let _0x7566f5=0x0;_0xb66eba[_0xc7a021(0x1be)][_0xc7a021(0x1b7)](_0x268452=>{const _0x37dcc9=_0xc7a021;_0x7566f5+=_0x268452['number']*_0x268452[_0x37dcc9(0x1e7)];}),_0x450aa5[_0x3e43c1['length']-_0x14dc25-0x1]=_0x7566f5*(_0x4902e3-0x1);});let _0xfab0cd=[];_0x351477=[...config[_0x4db274(0x1b8)]]||[];let _0x521a3f=0x0;_0x28c81e=0x0,_0x3e43c1[_0x4db274(0x1b7)]((_0x497326,_0x2c797b)=>{const _0x55954f=_0x4db274;if(_0x351477[_0x28c81e]){const _0x533509=fns['parse'](_0x351477[_0x28c81e][_0x55954f(0x1c3)],'yyyy/MM/dd',new Date()),_0x4b2935=fns[_0x55954f(0x2a1)](_0x497326[_0x55954f(0x1c3)],'yyyy/MM/dd',new Date()),_0x4cf286=fns[_0x55954f(0x1e6)](fns[_0x55954f(0x1de)](_0x4b2935,0x1),_0x55954f(0x2a2));if(fns['isEqual'](_0x533509,_0x4b2935)){let _0x4127c2=0x0;_0x351477[_0x28c81e][_0x55954f(0x25b)][_0x55954f(0x1b7)](_0x38da66=>{const _0x13b056=_0x55954f;!_0xfab0cd[_0x38da66[_0x13b056(0x1ed)]]?_0xfab0cd[_0x38da66['coin']]=_0x38da66['number']:(_0x4127c2=_0xfab0cd[_0x38da66[_0x13b056(0x1ed)]],_0xfab0cd[_0x38da66['coin']]+=_0x38da66['number']);const _0x545dc8=_0x497326[_0x13b056(0x1be)][_0x13b056(0x272)](_0x9218b0=>_0x9218b0[_0x13b056(0x1ed)]==_0x38da66[_0x13b056(0x1ed)]);(!_0x545dc8||_0x545dc8['number']==0x0)&&(_0x521a3f+=(-_0x38da66[_0x13b056(0x205)]-_0x4127c2)*_0x38da66['price']);}),_0x28c81e++;}}_0x497326[_0x55954f(0x1be)][_0x55954f(0x1b7)]((_0x2ef8a3,_0x5b34d5)=>{const _0x501478=_0x55954f;_0xfab0cd[_0x2ef8a3[_0x501478(0x1ed)]]&&(_0x2ef8a3={..._0x2ef8a3,'initial':_0xfab0cd[_0x2ef8a3[_0x501478(0x1ed)]]}),_0x497326[_0x501478(0x1be)][_0x5b34d5]=_0x2ef8a3;}),_0x149fc8['push']({'date':_0x497326['date'],'eur':_0x497326[_0x55954f(0x208)],'usd':_0x497326[_0x55954f(0x231)],'offset':_0x450aa5[_0x2c797b],'netoffset':_0x521a3f,'coins':_0x497326[_0x55954f(0x1be)]});});}return _0x149fc8;}function emitPerformance(_0x5c94c3){const _0x377f0b=_0x4aa46e;_0x5c94c3[_0x377f0b(0x1ab)]!==0x0?(proxyEmit('performance',_0x5c94c3),lastPerformanceEmitted=getDate()):proxyEmit(_0x377f0b(0x23a),[]);}function getPerf(_0x45f257,_0x1c090f){const _0x48448e=_0x4aa46e;let _0x143ac4=0x0,_0x1ad786=0x0,_0x200bd8=0x0;_0x45f257[_0x48448e(0x1be)][_0x48448e(0x1b7)](_0x424222=>{const _0x394496=_0x48448e;_0x143ac4+=_0x424222['number']*_0x424222[_0x394496(0x1e7)];});_0x1c090f&&(_0x143ac4+=_0x45f257['offset']);if(config['basecoin']===_0x48448e(0x271))_0x1ad786=_0x143ac4*_0x45f257[_0x48448e(0x208)],_0x200bd8=_0x143ac4*_0x45f257[_0x48448e(0x231)];else{if(config[_0x48448e(0x282)]==='BUSD'||config[_0x48448e(0x282)]===_0x48448e(0x279)||config['basecoin']===_0x48448e(0x28f))_0x1ad786=_0x143ac4*_0x45f257[_0x48448e(0x208)]/_0x45f257[_0x48448e(0x231)],_0x200bd8=_0x143ac4;else config[_0x48448e(0x282)]===_0x48448e(0x220)&&(_0x1ad786=_0x143ac4,_0x200bd8=_0x143ac4*_0x45f257[_0x48448e(0x231)]/_0x45f257[_0x48448e(0x208)]);}return[_0x143ac4,_0x1ad786,_0x200bd8];}async function getStartingBalances(_0x389ed7,_0x4c03f9=!![]){const _0x54c684=_0x4aa46e;if(_0x389ed7[_0x54c684(0x1ab)]!==0x0){const [_0x9504de,_0x5eb938,_0x4f7246]=getPerf(_0x389ed7[0x0],!![]);let _0x9ab9e=[];config[_0x54c684(0x1ce)][_0x54c684(0x1b7)](_0x5a8bed=>{const _0x4e4e41=_0x54c684;let _0x400e32=0x0;config[_0x4e4e41(0x1b8)]['forEach'](_0x3f66cb=>{const _0x567c81=_0x4e4e41;let _0x3fc544=_0x3f66cb[_0x567c81(0x25b)][_0x567c81(0x272)](_0x5c72f2=>_0x5c72f2[_0x567c81(0x1ed)]==_0x5a8bed[_0x567c81(0x1ed)]);if(_0x3fc544)_0x400e32+=_0x3fc544[_0x567c81(0x205)];}),_0x9ab9e[_0x4e4e41(0x288)]({'coin':_0x5a8bed[_0x4e4e41(0x1ed)],'number':_0x400e32,'price':_0x5a8bed['price']});});const _0x451fa0={'basecoin':_0x9504de,'eur':_0x5eb938,'usd':_0x4f7246,'coins':_0x9ab9e};if(_0x4c03f9)proxyEmit(_0x54c684(0x284),_0x451fa0);return _0x451fa0;}}function headlessMode(_0x2bf6c4){const _0x2fa995=_0x4aa46e;let _0x41736b=_0x2bf6c4['portfolio'],_0x40ceb5=_0x2bf6c4[_0x2fa995(0x200)],_0x3ab251=[];for(let _0x253edf of _0x41736b){if(_0x253edf[_0x2fa995(0x1ed)]!=config['basecoin']){if(_0x253edf['distribution']/_0x253edf['target']-0x1>=_0x40ceb5/0x64){if(_0x253edf[_0x2fa995(0x28d)])_0x3ab251['push'](_0x253edf);}else{if(_0x253edf[_0x2fa995(0x1cc)]/_0x253edf[_0x2fa995(0x1d7)]-0x1<=-_0x40ceb5/0x64){if(_0x253edf[_0x2fa995(0x28d)])_0x3ab251[_0x2fa995(0x288)](_0x253edf);}}}}_0x3ab251['length']>0x0&&placeOrder(_0x3ab251);}function notifyBalance(_0x3ea185){const _0x17440b=_0x4aa46e;let _0x17f96e=_0x3ea185[_0x17440b(0x1ce)],_0x537de4=_0x3ea185[_0x17440b(0x200)],_0x36b4da=[];for(let _0x502171 of _0x17f96e){if(_0x502171[_0x17440b(0x1ed)]!=config['basecoin']){if(_0x502171[_0x17440b(0x1cc)]/_0x502171[_0x17440b(0x1d7)]-0x1>=_0x537de4/0x64){if(_0x502171[_0x17440b(0x28d)])_0x36b4da['push'](_0x502171);}else{if(_0x502171[_0x17440b(0x1cc)]/_0x502171['target']-0x1<=-_0x537de4/0x64){if(_0x502171[_0x17440b(0x28d)])_0x36b4da[_0x17440b(0x288)](_0x502171);}}}}if(_0x36b4da[_0x17440b(0x1ab)]>0x0){let _0x2556c4=_0x36b4da['map'](_0x569543=>_0x569543[_0x17440b(0x1ed)]);_0x2556c4[_0x17440b(0x20b)]();let _0x5c5726=_0x2556c4[_0x17440b(0x29a)](',\x20');if(lastCoinsToBalance!==_0x5c5726)logHistory(_0x17440b(0x1f6),'Manual\x20balancing\x20required:\x20'+_0x5c5726);lastCoinsToBalance=_0x5c5726;}}function symbolToCoin(_0x176fcb){const _0x49cb75=_0x4aa46e;let _0x2da822;if(_0x176fcb[_0x49cb75(0x238)]('/'+config['basecoin']))_0x2da822=_0x176fcb['replace']('/'+config[_0x49cb75(0x282)],'');if(_0x176fcb[_0x49cb75(0x238)](config[_0x49cb75(0x282)]+'/'))_0x2da822=_0x176fcb[_0x49cb75(0x270)](config[_0x49cb75(0x282)]+'/','');return _0x2da822;}async function validateOrders(_0x5329e4=0x0){const _0x2ffb35=_0x4aa46e;let _0x131104=[],_0x1847fa=config['ordertype']==_0x2ffb35(0x245)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2ffb35(0x28a)]*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x1e7863=>{const _0x17bb28=_0x2ffb35;let _0x19b129=previousCoins[_0x17bb28(0x272)](_0x367a77=>_0x367a77['coin']==symbolToCoin(_0x1e7863['symbol'])),_0x2d13fd=currentCoins[_0x17bb28(0x272)](_0x4b32e4=>_0x4b32e4[_0x17bb28(0x1ed)]==symbolToCoin(_0x1e7863[_0x17bb28(0x240)])),_0x389800,_0x54d98d;_0x1e7863[_0x17bb28(0x283)]==_0x17bb28(0x239)&&!_0x1e7863[_0x17bb28(0x1c1)]||_0x1e7863['side']=='sell'&&_0x1e7863[_0x17bb28(0x1c1)]?(_0x389800=_0x19b129[_0x17bb28(0x205)]+0.9*_0x1e7863['filled'],_0x54d98d=_0x19b129[_0x17bb28(0x205)]+1.1*_0x1e7863[_0x17bb28(0x21f)]):(_0x389800=_0x19b129[_0x17bb28(0x205)]-1.1*_0x1e7863[_0x17bb28(0x21f)],_0x54d98d=_0x19b129[_0x17bb28(0x205)]-0.9*_0x1e7863[_0x17bb28(0x21f)]);const _0x3e841a=_0x1e7863[_0x17bb28(0x21f)]!=0x0&&_0x2d13fd['number']>=_0x389800&&_0x2d13fd[_0x17bb28(0x205)]<=_0x54d98d;_0x131104[_0x17bb28(0x288)](_0x3e841a);if(_0x3e841a&&config[_0x17bb28(0x237)]!=_0x17bb28(0x245)){if(_0x1e7863['reverse'])logHistory(_0x17bb28(0x259),_0x17bb28(0x226)+_0x1e7863[_0x17bb28(0x240)]+'\x20'+_0x1e7863['side']+'\x20#'+formatResult(_0x1e7863[_0x17bb28(0x21f)]/_0x1e7863['price'],0x8)+'\x20@'+formatResult(_0x1e7863[_0x17bb28(0x1e7)],0x8));else logHistory(_0x17bb28(0x259),'Order\x20filled:\x20'+_0x1e7863['symbol']+'\x20'+_0x1e7863[_0x17bb28(0x283)]+'\x20#'+formatResult(_0x1e7863[_0x17bb28(0x21f)],0x8)+'\x20@'+formatResult(_0x1e7863[_0x17bb28(0x1e7)],0x8));}}),_0x131104[_0x2ffb35(0x1b7)]((_0x5fb0c2,_0x1f2f65)=>{if(_0x5fb0c2)lastOrders['splice'](_0x1f2f65,0x1);});if(_0x5329e4<_0x1847fa&&_0x131104[_0x2ffb35(0x238)](![])){if(_0x5329e4==0x0){config['ordertype']==_0x2ffb35(0x245)?logHistory(_0x2ffb35(0x1f0),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory('error',_0x2ffb35(0x232));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5329e4);},0xa*0x3e8);}else{(_0x5329e4==0x1||_0x5329e4==Math[_0x2ffb35(0x21a)](_0x1847fa/0x2)||_0x5329e4==_0x1847fa-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5329e4);},validateOrderInterval);}}else{lockOrders=![];if(_0x5329e4>0x0&&!_0x131104['includes'](![]))config['ordertype']=='market'?logHistory(_0x2ffb35(0x1f6),_0x2ffb35(0x18d)):logHistory(_0x2ffb35(0x1f6),_0x2ffb35(0x273));else _0x5329e4>0x0&&_0x131104[_0x2ffb35(0x238)](![])&&(config[_0x2ffb35(0x237)]==_0x2ffb35(0x245)?logHistory(_0x2ffb35(0x1f6),_0x2ffb35(0x289)+Math[_0x2ffb35(0x21a)](_0x1847fa*validateOrderInterval/0xea60)+_0x2ffb35(0x2a5)):(lastOrders[_0x2ffb35(0x1b7)](async _0x1c00aa=>{const _0x19fec4=_0x2ffb35;try{const _0x41ed4d=await exchange[_0x19fec4(0x2a4)](_0x1c00aa[_0x19fec4(0x294)],_0x1c00aa[_0x19fec4(0x240)]);}catch(_0x4bc63c){if(_0x4bc63c[_0x19fec4(0x2a6)]()['includes'](_0x19fec4(0x24a))){}else await handleError(_0x4bc63c,_0x19fec4(0x29e));}}),logHistory(_0x2ffb35(0x1f6),_0x2ffb35(0x29c)+Math[_0x2ffb35(0x21a)](_0x1847fa*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed')));}}async function resetCoinResults(){const _0x6c8845=_0x4aa46e;dbCoinResults[_0x6c8845(0x1c0)](_0x6c8845(0x1be))[_0x6c8845(0x2a8)]()[_0x6c8845(0x195)]();let _0x21cd53=await getStartingBalances(getNormalizedPerformance(),![]);_0x21cd53[_0x6c8845(0x1be)][_0x6c8845(0x1b7)](_0x3538a8=>{const _0x3ad1a6=_0x6c8845;if(_0x3538a8[_0x3ad1a6(0x1ed)]!=config[_0x3ad1a6(0x282)]){let _0x597639={'coin':_0x3538a8[_0x3ad1a6(0x1ed)],'number':_0x3538a8[_0x3ad1a6(0x205)],'breakeven':_0x3538a8[_0x3ad1a6(0x1e7)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3ad1a6(0x1c0)]('coins')['push'](_0x597639)['write']();}});}async function updateCoinResults(_0x18137a){const _0x580a9c=_0x4aa46e;let _0xc175ea,_0x4a289f,_0x48183d,_0x543e36,_0x1b22be,_0x4657ba,_0x39a9dc=dbCoinResults[_0x580a9c(0x1c0)](_0x580a9c(0x1be))[_0x580a9c(0x272)]({'coin':_0x18137a[_0x580a9c(0x1ed)]})['value']();if(!_0x39a9dc)return;if(_0x18137a[_0x580a9c(0x281)]&&_0x18137a['fee']['currency']==config[_0x580a9c(0x282)])_0xc175ea=_0x18137a[_0x580a9c(0x281)]['cost'];else{if(_0x18137a['fee']&&_0x18137a['fee'][_0x580a9c(0x22a)]==_0x580a9c(0x230))_0xc175ea=_0x18137a[_0x580a9c(0x281)][_0x580a9c(0x192)]*global['ticker'][_0x580a9c(0x230)+config[_0x580a9c(0x282)]];else _0xc175ea=0.001*_0x18137a[_0x580a9c(0x21f)];}const _0x4206f7=_0x18137a[_0x580a9c(0x240)][_0x580a9c(0x238)](config[_0x580a9c(0x282)]+'/');_0x4206f7&&(_0x4657ba={'coin':_0x18137a[_0x580a9c(0x1ed)],'symbol':_0x18137a[_0x580a9c(0x240)],'filled':_0x18137a[_0x580a9c(0x21f)]*_0x18137a['price'],'side':_0x18137a['side']==_0x580a9c(0x1d2)?'buy':'sell','price':0x1/_0x18137a[_0x580a9c(0x1e7)]},_0x18137a={..._0x4657ba});_0x18137a[_0x580a9c(0x283)]=='buy'?_0x48183d=(_0x39a9dc[_0x580a9c(0x251)]*_0x39a9dc[_0x580a9c(0x205)]+_0x18137a[_0x580a9c(0x1e7)]*_0x18137a[_0x580a9c(0x21f)])/(_0x39a9dc[_0x580a9c(0x205)]+_0x18137a['filled']):_0x48183d=(_0x39a9dc['breakeven']*_0x39a9dc[_0x580a9c(0x205)]-_0x18137a[_0x580a9c(0x1e7)]*_0x18137a[_0x580a9c(0x21f)])/(_0x39a9dc[_0x580a9c(0x205)]-_0x18137a[_0x580a9c(0x21f)]);_0x18137a['side']=='buy'?_0x543e36=_0x39a9dc[_0x580a9c(0x1f7)]:_0x543e36=_0x39a9dc[_0x580a9c(0x1f7)]+(_0x18137a[_0x580a9c(0x1e7)]-_0x39a9dc[_0x580a9c(0x251)])*_0x18137a[_0x580a9c(0x21f)];_0x4a289f=_0x18137a[_0x580a9c(0x283)]=='sell'?_0x39a9dc[_0x580a9c(0x205)]-_0x18137a[_0x580a9c(0x21f)]:_0x39a9dc['number']+_0x18137a[_0x580a9c(0x21f)],_0x1b22be=(_0x18137a[_0x580a9c(0x1e7)]-_0x48183d)*_0x4a289f;let _0x239774={'coin':_0x18137a['coin'],'number':_0x4a289f,'breakeven':formatResult(_0x48183d,0x8),'realized':formatResult(_0x543e36,0x8),'unrealized':formatResult(_0x1b22be,0x8),'fees':formatResult(_0x39a9dc['fees']+_0xc175ea,0x8),'sells':_0x18137a['side']==_0x580a9c(0x1d2)?_0x39a9dc['sells']+0x1:_0x39a9dc[_0x580a9c(0x242)],'buys':_0x18137a['side']==_0x580a9c(0x239)?_0x39a9dc[_0x580a9c(0x209)]+0x1:_0x39a9dc['buys']};dbCoinResults[_0x580a9c(0x1c0)]('coins')[_0x580a9c(0x272)]({'coin':_0x18137a[_0x580a9c(0x1ed)]})[_0x580a9c(0x1dc)](_0x239774)[_0x580a9c(0x195)]();}async function placeOrder(_0xa41701){const _0x590dae=_0x4aa46e,_0xdd1ff5=config['ordertype']=='market'?'market':_0x590dae(0x1ae);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x590dae(0x2a1)](JSON[_0x590dae(0x1b4)](currentCoins));for(const _0x34371d of _0xa41701){let _0x58dcb8,_0x5ef440,_0x485a3f,_0x2d158c,_0x4edc34,_0x10b84c=_0x34371d[_0x590dae(0x240)];try{const _0x400b09=await exchange[_0x590dae(0x216)](_0x10b84c),_0x18b992=_0x400b09[_0x10b84c];_0x58dcb8=_0x18b992[_0x590dae(0x277)],_0x5ef440=_0x18b992['bid'],_0x485a3f=_0x18b992['ask'];_0x34371d[_0x590dae(0x1c1)]?(_0x2d158c=_0x34371d[_0x590dae(0x283)]==_0x590dae(0x239)?_0x590dae(0x1d2):_0x590dae(0x239),_0x4edc34=Math[_0x590dae(0x206)](_0x34371d[_0x590dae(0x1ee)])/_0x58dcb8):(_0x2d158c=_0x34371d['side'],_0x4edc34=Math[_0x590dae(0x206)](_0x34371d[_0x590dae(0x1ee)]));_0xdd1ff5==_0x590dae(0x1ae)&&(config[_0x590dae(0x237)]==_0x590dae(0x24c)&&(_0x58dcb8=_0x2d158c==_0x590dae(0x239)?_0x5ef440:_0x485a3f),config[_0x590dae(0x237)]==_0x590dae(0x26b)&&(_0x58dcb8=_0x2d158c==_0x590dae(0x239)?_0x485a3f:_0x5ef440));_0x4edc34=formatResult(_0x4edc34,0x8),_0x58dcb8=formatResult(_0x58dcb8,0x8);const _0x4c2e0c=await exchange[_0x590dae(0x221)](_0x10b84c,_0xdd1ff5,_0x2d158c,_0x4edc34,_0x58dcb8);lastOrders[_0x590dae(0x288)]({'orderId':_0x4c2e0c['id'],'symbol':_0x10b84c,'side':_0x2d158c,'reverse':_0x34371d[_0x590dae(0x1c1)],'amount':_0x34371d[_0x590dae(0x1c1)]?_0x4c2e0c['amount']*_0x4c2e0c[_0x590dae(0x1e7)]:_0x4c2e0c[_0x590dae(0x244)],'filled':_0x34371d[_0x590dae(0x1c1)]?_0x4c2e0c[_0x590dae(0x21f)]*_0x4c2e0c[_0x590dae(0x1e7)]:_0x4c2e0c[_0x590dae(0x21f)],'price':_0x4c2e0c['price']});const _0x5354ca=_0x2d158c==_0x590dae(0x1d2)?config[_0x590dae(0x1a6)]?String[_0x590dae(0x1b2)]('0x'+config['emojisell'])+'\x20':'':config[_0x590dae(0x2ab)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x18d848=_0xdd1ff5==_0x590dae(0x245)?_0x590dae(0x1e1):config[_0x590dae(0x237)]=='limit-high'?_0x590dae(0x18f):_0x590dae(0x19a);if(_0xdd1ff5==_0x590dae(0x245))logHistory(_0x590dae(0x259),''+_0x5354ca+_0x18d848+_0x590dae(0x1a3)+_0x10b84c+'\x20'+_0x2d158c+'\x20#'+formatResult(_0x4c2e0c[_0x590dae(0x21f)],0x8)+'\x20@'+formatResult(_0x4c2e0c['price'],0x8));else logHistory(_0x590dae(0x259),''+_0x5354ca+_0x18d848+_0x590dae(0x1a3)+_0x10b84c+'\x20'+_0x2d158c+'\x20#'+formatResult(_0x4c2e0c[_0x590dae(0x244)],0x8)+'\x20@'+formatResult(_0x4c2e0c[_0x590dae(0x1e7)],0x8));_0x4c2e0c[_0x590dae(0x1ed)]=_0x34371d['coin'],await updateCoinResults(_0x4c2e0c);if(config[_0x590dae(0x22d)]!=0x0){let _0x188886=null;if(cooldownTracker[_0x590dae(0x1ab)]==config[_0x590dae(0x22d)]-0x1)_0x188886=cooldownTracker['shift']();const _0x1c2183=getTimeStamp();cooldownTracker[_0x590dae(0x288)](_0x1c2183);if(_0x188886){const _0x459442=fns[_0x590dae(0x24b)](new Date(_0x1c2183),new Date(_0x188886));_0x459442<cooldownInterval&&(logHistory('error',_0x590dae(0x27e)+config['cooldown']+_0x590dae(0x1c2)+cooldownInterval/0x3c+_0x590dae(0x1a1)+cooldownPeriod/(0xe10*0x3e8)+_0x590dae(0x27c)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x36fe88){if(_0x36fe88[_0x590dae(0x2a6)]()[_0x590dae(0x238)](_0x590dae(0x1c5)))logHistory('error',_0x590dae(0x20d)+_0x10b84c);else{if(_0x36fe88['toString']()['includes'](_0x590dae(0x1a2)))logHistory(_0x590dae(0x1f0),_0x590dae(0x1eb)+_0x10b84c);else await handleError(_0x36fe88,_0x590dae(0x222));}}}if(lastOrders[_0x590dae(0x1ab)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x590dae(0x223)]&&(config[_0x590dae(0x237)]=='market'?logHistory(_0x590dae(0x1f0),_0x590dae(0x217)):logHistory(_0x590dae(0x1f0),_0x590dae(0x1a4)));else coolingDown&&(!config[_0x590dae(0x223)]&&logHistory(_0x590dae(0x1f0),_0x590dae(0x296)));}}function logHistory(_0x4a1569,_0xaba0c4,_0x1f095f=''){const _0x1c087a=_0x4aa46e;let _0xf6808a={'time':getTimeStamp(),'type':_0x4a1569,'event':_0xaba0c4};dbLogs[_0x1c087a(0x1c0)]('logs')['push'](_0xf6808a)[_0x1c087a(0x195)]();if(_0x1f095f=='')_0x1f095f=_0xaba0c4;proxyEmit(_0x1c087a(0x1e8),{'log':_0xf6808a,'summary':_0x1f095f}),process[_0x1c087a(0x2ac)]({'telegram':{..._0xf6808a,'botname':config['botname'],'showname':config['showname']}},_0x2793c2=>{}),logging(''+_0xf6808a[_0x1c087a(0x1e8)]);}function emitHistory(_0xc47fe5={}){const _0x5f3c60=_0x4aa46e;Object[_0x5f3c60(0x290)](_0xc47fe5)['length']==0x0&&(_0xc47fe5={'type':[_0x5f3c60(0x259),_0x5f3c60(0x1e8)],'event':'','page':0x1});if(_0xc47fe5[_0x5f3c60(0x27b)][_0x5f3c60(0x238)](_0x5f3c60(0x1e8)))_0xc47fe5[_0x5f3c60(0x27b)][_0x5f3c60(0x23f)](_0xc47fe5[_0x5f3c60(0x27b)][_0x5f3c60(0x19d)]('event'),0x1,'error',_0x5f3c60(0x1f6));if(dbLogs[_0x5f3c60(0x21e)](_0x5f3c60(0x201))['value']()){let _0x2431b4=dbLogs[_0x5f3c60(0x1c0)](_0x5f3c60(0x201))[_0x5f3c60(0x1c6)](_0x2c96ce=>{const _0x40492f=_0x5f3c60;if(_0xc47fe5[_0x40492f(0x27b)][_0x40492f(0x1ab)]==0x0)return![];else return _0xc47fe5[_0x40492f(0x27b)][_0x40492f(0x238)](_0x2c96ce['type']);})[_0x5f3c60(0x1c6)](_0x169a85=>{const _0x2f6b1f=_0x5f3c60;if(_0xc47fe5[_0x2f6b1f(0x1e8)]=='')return!![];else return _0x169a85[_0x2f6b1f(0x1e8)][_0x2f6b1f(0x1ff)]()[_0x2f6b1f(0x238)](_0xc47fe5[_0x2f6b1f(0x1e8)]['toLowerCase']());})[_0x5f3c60(0x212)](_0x5f3c60(0x18e)),_0x3391da=_0x2431b4[_0x5f3c60(0x267)]()['length'];_0x2431b4=_0x2431b4[_0x5f3c60(0x1c1)]()[_0x5f3c60(0x2a3)]((_0xc47fe5[_0x5f3c60(0x278)]-0x1)*logPageSize,_0xc47fe5[_0x5f3c60(0x278)]*logPageSize-0x1)['reverse']()[_0x5f3c60(0x267)](),proxyEmit(_0x5f3c60(0x1b3),{'logs':_0x2431b4,'total':_0x3391da});}else proxyEmit(_0x5f3c60(0x1b3),{'logs':[],'total':0x0});}async function pauseBot(_0x31caa6){const _0x52cdd6=_0x4aa46e,_0xec0c1e=new Date()[_0x52cdd6(0x20e)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0xec0c1e-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x52cdd6(0x2ac)]({'stop':_0x52cdd6(0x1c8)},_0x451dac=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x52cdd6(0x20e)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x52cdd6(0x1f0),'Pausing\x20bot\x20for\x205\x20minutes\x20('+consecutivePauses+')'),await sleep(_0x31caa6),botPaused=![],reset();}}async function handleError(_0x579fe5,_0x56a905,_0x4ffc00=''){const _0x1ed75b=_0x4aa46e;if(_0x579fe5[_0x1ed75b(0x2a6)]()[_0x1ed75b(0x238)](_0x1ed75b(0x1bc)))logHistory(_0x1ed75b(0x1f0),_0x56a905+_0x1ed75b(0x224)),await pauseBot(pauseBotInterval);else{if(_0x579fe5[_0x1ed75b(0x2a6)]()[_0x1ed75b(0x238)]('ExchangeNotAvailable'))logHistory('error',_0x56a905+_0x1ed75b(0x1ec)),await pauseBot(pauseBotInterval);else{if(_0x579fe5[_0x1ed75b(0x2a6)]()[_0x1ed75b(0x238)]('RequestTimeout'))logHistory(_0x1ed75b(0x1f0),_0x56a905+_0x1ed75b(0x19c)),await pauseBot(pauseBotInterval);else{if(_0x579fe5['toString']()[_0x1ed75b(0x238)](_0x1ed75b(0x1b6)))logHistory(_0x1ed75b(0x1f0),_0x56a905+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory(_0x1ed75b(0x1f0),_0x1ed75b(0x2a0)),process[_0x1ed75b(0x2ac)]({'stop':'kill'},_0x21b08e=>{});else{if(_0x579fe5[_0x1ed75b(0x2a6)]()[_0x1ed75b(0x238)](_0x1ed75b(0x26d)))logHistory(_0x1ed75b(0x1f0),_0x56a905+_0x1ed75b(0x249)),logHistory(_0x1ed75b(0x1f0),_0x1ed75b(0x2a0)),process[_0x1ed75b(0x2ac)]({'stop':'kill'},_0x2da29b=>{});else{if(_0x579fe5[_0x1ed75b(0x2a6)]()[_0x1ed75b(0x238)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x1ed75b(0x1f0),_0x56a905+_0x1ed75b(0x241)),logHistory(_0x1ed75b(0x1f0),_0x1ed75b(0x2a0)),process[_0x1ed75b(0x2ac)]({'stop':_0x1ed75b(0x228)},_0x320ea8=>{});else{if(_0x579fe5[_0x1ed75b(0x2a6)]()[_0x1ed75b(0x238)](_0x1ed75b(0x29d)))logHistory(_0x1ed75b(0x1f0),_0x56a905+_0x1ed75b(0x280)),logHistory('error',_0x1ed75b(0x2a0)),process[_0x1ed75b(0x2ac)]({'stop':_0x1ed75b(0x228)},_0x35a6ad=>{});else{if(_0x579fe5[_0x1ed75b(0x2a6)]()['includes'](_0x1ed75b(0x1cd)))logHistory(_0x1ed75b(0x1f0),_0x56a905+_0x1ed75b(0x1ad)),await pauseBot(pauseBotInterval),process[_0x1ed75b(0x2ac)]({'stop':_0x1ed75b(0x1c8)},_0x5c43cf=>{});else _0x579fe5[_0x1ed75b(0x2a6)]()['includes'](_0x1ed75b(0x1b5))?logHistory('error',_0x56a905+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory('error',_0x56a905+'\x20|\x20Unknown\x20error\x20occured'),logging(_0x56a905+_0x1ed75b(0x265),_0x579fe5),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x32bd8e,_0x509bc2){const _0x3c2fa9=_0x4aa46e;return parseFloat(_0x32bd8e[_0x3c2fa9(0x1a9)](_0x509bc2));}function logging(_0x5df2bb,_0xd821a7=''){const _0x3b4e26=_0x4aa46e;if(config['showname'])console['log'](getTimeStamp()+':\x20'+config['botname']+_0x3b4e26(0x1a8)+_0x5df2bb,_0xd821a7);else console['log'](getTimeStamp()+_0x3b4e26(0x24f)+botID+'\x20>\x20'+_0x5df2bb,_0xd821a7);}function getServerTime(){const _0x531fd2=_0x4aa46e,_0x238ebd=new Date();return _0x238ebd[_0x531fd2(0x1c7)]()+'/'+(_0x238ebd[_0x531fd2(0x1bb)]()+0x1)[_0x531fd2(0x2a6)]()[_0x531fd2(0x25d)](0x2,'0')+'/'+_0x238ebd[_0x531fd2(0x28e)]()[_0x531fd2(0x2a6)]()[_0x531fd2(0x25d)](0x2,'0')+'\x20'+_0x238ebd[_0x531fd2(0x264)]()[_0x531fd2(0x2a6)]()['padStart'](0x2,'0')+':'+_0x238ebd[_0x531fd2(0x26e)]()[_0x531fd2(0x2a6)]()['padStart'](0x2,'0')+':'+_0x238ebd[_0x531fd2(0x20a)]()['toString']()[_0x531fd2(0x25d)](0x2,'0');}function getTimeStamp(){const _0x5d15cc=_0x4aa46e,_0x550ac7=shiftedTime();return _0x550ac7[_0x5d15cc(0x1c7)]()+'/'+(_0x550ac7[_0x5d15cc(0x1bb)]()+0x1)[_0x5d15cc(0x2a6)]()['padStart'](0x2,'0')+'/'+_0x550ac7[_0x5d15cc(0x28e)]()[_0x5d15cc(0x2a6)]()[_0x5d15cc(0x25d)](0x2,'0')+'\x20'+_0x550ac7[_0x5d15cc(0x264)]()[_0x5d15cc(0x2a6)]()['padStart'](0x2,'0')+':'+_0x550ac7[_0x5d15cc(0x26e)]()[_0x5d15cc(0x2a6)]()[_0x5d15cc(0x25d)](0x2,'0')+':'+_0x550ac7[_0x5d15cc(0x20a)]()[_0x5d15cc(0x2a6)]()[_0x5d15cc(0x25d)](0x2,'0');}function getDate(){const _0x41819e=_0x4aa46e,_0x681da4=shiftedTime();return _0x681da4[_0x41819e(0x1c7)]()+'/'+(_0x681da4[_0x41819e(0x1bb)]()+0x1)[_0x41819e(0x2a6)]()[_0x41819e(0x25d)](0x2,'0')+'/'+_0x681da4[_0x41819e(0x28e)]()[_0x41819e(0x2a6)]()['padStart'](0x2,'0');}function getHour(){const _0x167af2=_0x4aa46e,_0x3b45b4=shiftedTime();return _0x3b45b4[_0x167af2(0x264)]()[_0x167af2(0x2a6)]()[_0x167af2(0x25d)](0x2,'0');}function sleep(_0x199dc7){return new Promise(_0xa4d887=>setTimeout(_0xa4d887,_0x199dc7));}function shiftedTime(){const _0x59659c=_0x4aa46e,_0x5e1d4b=new Date();let _0x1ed145=_0x5e1d4b;if(config&&config[_0x59659c(0x258)]!==0x0)_0x1ed145=fns[_0x59659c(0x19e)](_0x5e1d4b,{'hours':config['timeshift']});return _0x1ed145;}