const _0x1bc512=_0x2231;(function(_0x3ed232,_0x256446){const _0x56da1c=_0x2231,_0x6c343c=_0x3ed232();while(!![]){try{const _0x5a11d9=parseInt(_0x56da1c(0x263))/0x1+-parseInt(_0x56da1c(0x1db))/0x2*(parseInt(_0x56da1c(0x2b0))/0x3)+parseInt(_0x56da1c(0x1cd))/0x4+-parseInt(_0x56da1c(0x2d9))/0x5+parseInt(_0x56da1c(0x1d3))/0x6*(-parseInt(_0x56da1c(0x22b))/0x7)+-parseInt(_0x56da1c(0x264))/0x8*(-parseInt(_0x56da1c(0x1dd))/0x9)+-parseInt(_0x56da1c(0x2eb))/0xa*(-parseInt(_0x56da1c(0x297))/0xb);if(_0x5a11d9===_0x256446)break;else _0x6c343c['push'](_0x6c343c['shift']());}catch(_0x4f825e){_0x6c343c['push'](_0x6c343c['shift']());}}}(_0x175d,0x99a80));const _0x1c293e=function(){let _0x1dd3ad=!![];return function(_0x49040c,_0x1df902){const _0x579856=_0x1dd3ad?function(){const _0x312de4=_0x2231;if(_0x1df902){const _0x1deca6=_0x1df902[_0x312de4(0x259)](_0x49040c,arguments);return _0x1df902=null,_0x1deca6;}}:function(){};return _0x1dd3ad=![],_0x579856;};}(),_0x3a1d92=_0x1c293e(this,function(){const _0x114ee8=_0x2231;return _0x3a1d92[_0x114ee8(0x1a2)]()[_0x114ee8(0x1f6)](_0x114ee8(0x22f))['toString']()[_0x114ee8(0x2e7)](_0x3a1d92)[_0x114ee8(0x1f6)](_0x114ee8(0x22f));});_0x3a1d92();'use strict';const ccxt=require(_0x1bc512(0x294))[_0x1bc512(0x220)],low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x1bc512(0x2a9)),Crypt=require('hybrid-crypto-js')[_0x1bc512(0x1ef)],util=require(_0x1bc512(0x1a4));let exchange;global[_0x1bc512(0x29e)]={},global[_0x1bc512(0x28c)]={};const exceptions={'binance':[_0x1bc512(0x2f7),_0x1bc512(0x1e9),_0x1bc512(0x2e2),_0x1bc512(0x2ca),'YOYOW/']};let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x1bc512(0x1b0)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x1bc512(0x243)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require('./version.json')[_0x1bc512(0x2a1)],botID=process['argv'][0x2]||_0x1bc512(0x238),pattern=/^[0-9]{3}$/;!pattern[_0x1bc512(0x1b6)](botID)&&(console[_0x1bc512(0x1fe)]('Error:\x20Invalid\x20argument\x20'+botID+_0x1bc512(0x1b4)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x1bc512(0x225)+userID+'/':_0x1bc512(0x225),logspath=userID?'./logs/'+userID+'/':_0x1bc512(0x1f0),loggerfile=fs[_0x1bc512(0x1bf)](logspath+_0x1bc512(0x208),{'flags':'a'});!fs[_0x1bc512(0x1a1)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x1bc512(0x1a1)](logspath)&&fs[_0x1bc512(0x209)](logspath);const configfile=configpath+'bot-'+botID+_0x1bc512(0x224),logfile=configpath+_0x1bc512(0x245)+botID+_0x1bc512(0x1f4),performancefile=configpath+_0x1bc512(0x245)+botID+_0x1bc512(0x25a),coinresultsfile=configpath+_0x1bc512(0x245)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x1bc512(0x1dc),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x1bc512(0x2cc)]({'logs':[],'version':serverversion})[_0x1bc512(0x28a)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x1bc512(0x28a)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x1bc512(0x2cc)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1bc512(0x2cc)]({'coins':[],'version':serverversion})[_0x1bc512(0x28a)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x1bc512(0x211),'rsaStandard':_0x1bc512(0x1bd)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x557e3e=>{const _0x18afd9=_0x1bc512;console[_0x18afd9(0x1fe)](_0x557e3e);},'simple':_0x430a3c=>{const _0x4d2010=_0x1bc512;console['log'](_0x430a3c),loggerfile[_0x4d2010(0x28a)](util[_0x4d2010(0x258)](_0x430a3c)+'\x0a');},'full':async(_0x486e1b,_0x5b3da0='')=>{const _0x1f7ac7=_0x1bc512;let _0x1bab96;if(config[_0x1f7ac7(0x274)])_0x1bab96=getTimeStamp()+':\x20'+config[_0x1f7ac7(0x1e5)]+_0x1f7ac7(0x28e)+_0x486e1b;else _0x1bab96=getTimeStamp()+_0x1f7ac7(0x1fd)+botID+_0x1f7ac7(0x28e)+_0x486e1b;console[_0x1f7ac7(0x1fe)](_0x1bab96),loggerfile[_0x1f7ac7(0x28a)](util[_0x1f7ac7(0x258)](_0x1bab96)+'\x0a'),_0x5b3da0&&(console[_0x1f7ac7(0x1fe)](_0x5b3da0),loggerfile[_0x1f7ac7(0x28a)](util[_0x1f7ac7(0x258)](_0x5b3da0)+'\x0a'));},'debug':async(_0x5d6d9d,_0x1910f0='')=>{const _0x40b503=_0x1bc512;let _0x33d433;if(config['showname'])_0x33d433=getTimeStamp()+':\x20'+config[_0x40b503(0x1e5)]+_0x40b503(0x23f)+_0x5d6d9d;else _0x33d433=getTimeStamp()+_0x40b503(0x1fd)+botID+'\x20>\x20[DEBUG]\x20'+_0x5d6d9d;if(debugLoggingScreen)console['log'](_0x33d433);loggerfile['write'](util[_0x40b503(0x258)](_0x33d433)+'\x0a');if(_0x1910f0){if(debugLoggingScreen)console[_0x40b503(0x1fe)](_0x1910f0);loggerfile['write'](util[_0x40b503(0x258)](_0x1910f0)+'\x0a');}}};process['on'](_0x1bc512(0x24f),function(_0x141262){const _0x9a0679=_0x1bc512;logger[_0x9a0679(0x2d5)](_0x141262);});settings[_0x1bc512(0x2fb)]!=config[_0x1bc512(0x2fb)]&&updateTimeshift(settings[_0x1bc512(0x2fb)]);process[_0x1bc512(0x235)]({'started':_0x1bc512(0x20d)},_0x56c650=>{}),initializeProcessListeners();function proxyEmit(_0x46d456,_0x5a9840=null){process['send']({'function':_0x46d456,'args':_0x5a9840},_0x4b9e3d=>{});}function initializeProcessListeners(){const _0x373180=_0x1bc512;process['on'](_0x373180(0x203),_0x4ffac1=>{const _0xd2d2db=_0x373180;switch(Object[_0xd2d2db(0x1fb)](_0x4ffac1)[0x0]){case'timeshift':_0x4ffac1['timeshift']!=undefined&&(settings[_0xd2d2db(0x2fb)]=_0x4ffac1[_0xd2d2db(0x2fb)],updateTimeshift(settings['timeshift']));break;case _0xd2d2db(0x2ce):switch(_0x4ffac1['function']){case'initclient':initclient();break;case _0xd2d2db(0x1f3):toggleBotMode();break;case _0xd2d2db(0x1a3):emitHistory(_0x4ffac1[_0xd2d2db(0x2fa)]);break;case _0xd2d2db(0x2f4):deleteHistoryAlerts(_0x4ffac1[_0xd2d2db(0x2fa)]);break;case _0xd2d2db(0x278):getPortfolio(_0x4ffac1[_0xd2d2db(0x2fa)]);break;case _0xd2d2db(0x276):storeConfiguration(_0x4ffac1[_0xd2d2db(0x2fa)]);break;case'storeHeadless':storeHeadless(_0x4ffac1[_0xd2d2db(0x2fa)]);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0xd2d2db(0x1b2):placeOrder(_0x4ffac1[_0xd2d2db(0x2fa)]);break;case'cancelLoading':cancelLoading();break;case _0xd2d2db(0x253):showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset();async function reset(_0x81e13a=null,_0x5661a5=![]){const _0x4c5b35=_0x1bc512;logger[_0x4c5b35(0x2ee)](_0x4c5b35(0x2c6)+(_0x81e13a!=null)+_0x4c5b35(0x2a7)+_0x5661a5);if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x5661a5)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config['apiKey']!=''&&config[_0x4c5b35(0x1b8)]!=_0x4c5b35(0x2ec)){await initExchange();let _0x59c5aa=![];_0x59c5aa=await loadSymbols();if(_0x59c5aa){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x81e13a),exchangeStopped=![];if(lastOrders['length']==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){const _0x915e67=_0x1bc512;exchangeStopped=!![],await exchange[_0x915e67(0x242)]();}async function reloadExchange(){const _0x35ae91=_0x1bc512;logger['debug'](_0x35ae91(0x268));while(lockOrders!=ORDERS[_0x35ae91(0x243)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x35ae91(0x2ee)](_0x35ae91(0x2da)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x1a09b4=config[_0x1bc512(0x222)],_0x47dfba=config[_0x1bc512(0x1b8)],_0x5dc30b=config['apiSecret']){const _0x58df98=_0x1bc512;exchange&&await stopExchange();!supportedExchanges()[_0x58df98(0x1af)](_0x1a09b4)&&(logger[_0x58df98(0x207)](_0x58df98(0x1d5)+_0x1a09b4+_0x58df98(0x23c)),killBot());const _0x1f241b=ccxt[_0x1a09b4[_0x58df98(0x2a3)]()];exchange=new _0x1f241b({'apiKey':_0x47dfba,'secret':_0x5dc30b,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x2c4b9f=_0x1bc512;let _0x49c6f4=config[_0x2c4b9f(0x289)]==_0x2c4b9f(0x1df)?_0x2c4b9f(0x1df):_0x2c4b9f(0x2e8),_0x6d957=!allSymbols['includes'](_0x49c6f4+_0x2c4b9f(0x27b))?_0x2c4b9f(0x1b1):_0x2c4b9f(0x1bb),_0x261a12=!allSymbols[_0x2c4b9f(0x1af)](_0x49c6f4+'/EUR')?_0x6d957:_0x2c4b9f(0x25c);stablecoins={'eur':{'coin':''+_0x49c6f4+_0x261a12,'symbol':_0x49c6f4+'/'+_0x261a12},'usd':{'coin':''+_0x49c6f4+_0x6d957,'symbol':_0x49c6f4+'/'+_0x6d957}};}async function initwsCcxt(_0x372586){const _0x31169f=_0x1bc512;_0x372586==null&&(_0x372586=[],currentCoins[_0x31169f(0x1c7)](_0x3a3e08=>{const _0x286676=_0x31169f;if(_0x3a3e08['coin']!=config['basecoin'])_0x372586['push'](_0x3a3e08[_0x286676(0x228)]);}));if(!_0x372586[_0x31169f(0x1af)](stablecoins[_0x31169f(0x1ec)][_0x31169f(0x228)]))_0x372586[_0x31169f(0x1b3)](stablecoins[_0x31169f(0x1ec)]['symbol']);if(!_0x372586[_0x31169f(0x1af)](stablecoins[_0x31169f(0x1d6)][_0x31169f(0x228)]))_0x372586[_0x31169f(0x1b3)](stablecoins[_0x31169f(0x1d6)][_0x31169f(0x228)]);if(!_0x372586[_0x31169f(0x1af)]('BNB/'+config[_0x31169f(0x289)]))_0x372586['push'](_0x31169f(0x26c)+config[_0x31169f(0x289)]);loadCoins(_0x372586);const _0x571c39=async _0x1d0df6=>{const _0x299328=_0x31169f,_0x1a6852=await exchange[_0x299328(0x236)](_0x1d0df6);global[_0x299328(0x29e)][noslash(_0x1a6852['symbol'])]=_0x1a6852['last'];while(!![]){if(!botPaused)try{const _0x57321d=await exchange[_0x299328(0x24c)](_0x1d0df6);global[_0x299328(0x29e)][noslash(_0x57321d[0x0][_0x299328(0x228)])]=_0x57321d[0x0][_0x299328(0x2c2)],await sleep(0x3e8);}catch(_0x3f1e4c){if(!exchangeStopped)await handleError(_0x3f1e4c,'watchTrades',_0x1d0df6);}else await sleep(0x3e8);}},_0x2aa037=async _0x314c55=>{const _0x182ccb=_0x31169f;while(!![]){if(!botPaused)try{const _0x18b3ac=await exchange[_0x182ccb(0x236)](_0x314c55);global['change'][_0x18b3ac[_0x182ccb(0x228)]]=_0x18b3ac[_0x182ccb(0x272)],await sleep(0x2710);}catch(_0x12503d){if(!exchangeStopped)await handleError(_0x12503d,_0x182ccb(0x1f1),_0x314c55);}else await sleep(0x3e8);}},_0x438191=async()=>{const _0x4c161b=_0x31169f;while(!![]){if(!botPaused)try{const _0x4b598c=await exchange['watchOrders']();_0x4b598c['forEach'](_0x153f98=>{updateNumberCoinsCcxt(_0x153f98);});}catch(_0x154c4b){if(!exchangeStopped)await handleError(_0x154c4b,_0x4c161b(0x1d4));}else await sleep(0x3e8);}};_0x372586['forEach'](async _0x5b728b=>{_0x571c39(_0x5b728b),_0x2aa037(_0x5b728b);}),!wsEventsSet&&(wsEventsSet=!![],_0x438191());}async function loadSymbols(){const _0x3fdbb1=_0x1bc512;if(allSymbols)return!![];let _0x361a9a=![];try{markets=await exchange['loadMarkets'](),allSymbols=exchange['symbols'][_0x3fdbb1(0x1d1)](_0xc71ad4=>{const _0x47f64d=_0x3fdbb1;let _0x431c41=![];return exceptions[config[_0x47f64d(0x222)][_0x47f64d(0x2a3)]()]['forEach'](_0x1fa8fc=>{const _0x228c03=_0x47f64d;if(_0xc71ad4[_0x228c03(0x1af)](_0x1fa8fc))_0x431c41=!![];}),!_0x431c41;}),_0x361a9a=!![];}catch(_0xa9a514){_0x361a9a=![],handleError(_0xa9a514,_0x3fdbb1(0x1a8));}return _0x361a9a;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x1fcf5e=_0x1bc512;proxyEmit(_0x1fcf5e(0x1e4),emittedConfiguration()),proxyEmit(_0x1fcf5e(0x1f8),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xf586a3=getNormalizedPerformance();emitPerformance(_0xf586a3),await getStartingBalances(_0xf586a3);}async function toggleBotMode(){const _0x3a4a12=_0x1bc512;let _0x489327=dbConfig[_0x3a4a12(0x2cd)](_0x3a4a12(0x250))[_0x3a4a12(0x23e)]({'botID':botID})['value']();if(_0x489327){const _0x36919f=!_0x489327[_0x3a4a12(0x230)];dbConfig['get'](_0x3a4a12(0x250))['find']({'botID':botID})[_0x3a4a12(0x210)]({'headless':_0x36919f})[_0x3a4a12(0x28a)](),config[_0x3a4a12(0x230)]=_0x36919f,proxyEmit(_0x3a4a12(0x1e4),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x547361=_0x1bc512;process[_0x547361(0x235)]({'updatebotmanager':!![]},_0x400770=>{});}async function loadCoins(_0x573bdd){const _0x14544f=_0x1bc512;let _0x1afba6,_0x47dcfc=0x0;loading[_0x14544f(0x2af)]=[];let _0x5abd2f=0x0;_0x573bdd[_0x14544f(0x1c7)](_0x3f6c4c=>{const _0x5c31e0=_0x14544f;loading[_0x5c31e0(0x2af)][_0x5c31e0(0x1b3)](_0x3f6c4c);}),loadingCanceled=![];let _0x542479=![];while(_0x1afba6!=_0x573bdd[_0x14544f(0x1a7)]){_0x1afba6=0x0,_0x573bdd[_0x14544f(0x1c7)](_0x411246=>{const _0x4c3624=_0x14544f;global[_0x4c3624(0x29e)][noslash(_0x411246)]&&(loading[_0x4c3624(0x2af)]=loading['remainingSymbols']['filter'](_0x5cca93=>_0x5cca93!=_0x411246),_0x1afba6++);}),loading['progress']=Math[_0x14544f(0x215)](_0x1afba6/_0x573bdd[_0x14544f(0x1a7)]*0x64);loading[_0x14544f(0x26a)]!=0x64&&(_0x5abd2f>0x1e*0x5&&(loading[_0x14544f(0x246)]=!![],emitLoadingProgress()),_0x5abd2f>0x78*0x5&&!_0x542479&&(loading[_0x14544f(0x265)]=!![],emitLoadingProgress(),_0x542479=!![],logHistory(_0x14544f(0x205),_0x14544f(0x24a)+loading['remainingSymbols'][_0x14544f(0x2bf)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x14544f(0x205),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x14544f(0x1d8)),pidCoinReloading=setTimeout(()=>{const _0x25cce4=_0x14544f;process[_0x25cce4(0x235)]({'stop':_0x25cce4(0x26b)},_0x47afcf=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x14544f(0x265)]=!![],emitLoadingProgress();break;}else _0x1afba6!=_0x47dcfc&&(_0x47dcfc=_0x1afba6,emitLoadingProgress()),_0x5abd2f++,await sleep(0xc8);}_0x1afba6==_0x573bdd['length']&&(coinsLoaded=!![],_0x542479&&logHistory(_0x14544f(0x266),_0x14544f(0x1f9)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x32c162=_0x1bc512;proxyEmit(_0x32c162(0x1e4),{...emittedConfiguration(),'configstate':_0x32c162(0x2e0)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x5af508=_0x1bc512;let _0x4ca91c=global['ticker'][stablecoins[_0x5af508(0x1ec)][_0x5af508(0x23a)]],_0x6cb8f0=global[_0x5af508(0x29e)][stablecoins['usd'][_0x5af508(0x23a)]];return{'eur':Number(_0x4ca91c),'usd':Number(_0x6cb8f0)};}function capitalize(_0x3f4cd1){const _0x15de43=_0x1bc512;return _0x3f4cd1[_0x15de43(0x1a6)](0x0,0x1)[_0x15de43(0x282)]()+_0x3f4cd1[_0x15de43(0x1a6)](0x1);}function supportedExchanges(){const _0x392956=_0x1bc512,_0x59c346=['ws','fetchTickers',_0x392956(0x236),'watchTrades',_0x392956(0x1d4),_0x392956(0x2d0),_0x392956(0x2e9),_0x392956(0x1eb),'fetchClosedOrders',_0x392956(0x2ab)];let _0x8b182d=[];const _0x4cb18b=ccxt[_0x392956(0x1f8)]['map'](_0x5eebfc=>new ccxt[_0x5eebfc]())[_0x392956(0x1d1)](_0x83ba0b=>_0x83ba0b[_0x392956(0x2ef)]['ws']);return _0x4cb18b[_0x392956(0x1c7)](_0x411672=>{const _0x5d7316=_0x392956;let _0x197f1d=0x0;_0x59c346[_0x5d7316(0x1c7)](_0x7c0e42=>{const _0x5ccd4f=_0x5d7316;_0x7c0e42 in _0x411672[_0x5ccd4f(0x2ef)]&&_0x411672[_0x5ccd4f(0x2ef)][_0x7c0e42]&&_0x197f1d++;}),_0x197f1d==_0x59c346[_0x5d7316(0x1a7)]&&_0x8b182d['push'](capitalize(_0x411672['id']));}),_0x8b182d;}function setStartDatePerformance(){const _0x455734=_0x1bc512;if(config&&config[_0x455734(0x2ed)][0x0][_0x455734(0x2b6)][_0x455734(0x1a7)]!=0x0){const _0x350f6a=config[_0x455734(0x2ed)][0x0]['changes'];dbPerformance[_0x455734(0x2cd)](_0x455734(0x1e8))[_0x455734(0x23e)]({'date':config[_0x455734(0x2bc)]})['assign']({'coins':_0x350f6a})[_0x455734(0x28a)]();}}async function recreateCoinResults(){const _0x1db947=_0x1bc512;let _0x27bff5,_0x5529b0=[];try{const _0x15346c=fns[_0x1db947(0x258)](fns[_0x1db947(0x213)](config[_0x1db947(0x2bc)][_0x1db947(0x255)](/\//g,'-')),_0x1db947(0x241));for(const _0x372bbc of currentCoins){if(_0x372bbc[_0x1db947(0x23a)]!=config[_0x1db947(0x289)]){let _0x1ac09d=0x0,_0x2d71a6,_0x3cdc1f;_0x27bff5=await getAllEventOrders(_0x372bbc['symbol']);if(_0x27bff5[_0x1db947(0x1a7)]>0x0)_0x27bff5['forEach'](_0x83f8b2=>{const _0x1cdf83=_0x1db947,_0xa0ae77=_0x372bbc[_0x1cdf83(0x228)][_0x1cdf83(0x1af)](config['basecoin']+'/');_0x5529b0[_0x1cdf83(0x1b3)]({'datetime':_0x83f8b2[_0x1cdf83(0x271)],'coin':_0x372bbc[_0x1cdf83(0x23a)],'symbol':_0x372bbc[_0x1cdf83(0x228)],'side':_0x83f8b2[_0x1cdf83(0x1fa)],'reverse':_0xa0ae77,'amount':formatResult(_0x83f8b2[_0x1cdf83(0x25d)],0x8),'filled':formatResult(_0x83f8b2[_0x1cdf83(0x25d)],0x8),'price':formatResult(_0x83f8b2['price'],0x8)}),_0x1ac09d=_0x83f8b2[_0x1cdf83(0x1fa)]=='buy'?_0x1ac09d+_0x83f8b2[_0x1cdf83(0x25d)]:_0x1ac09d-_0x83f8b2[_0x1cdf83(0x25d)];if(!_0x3cdc1f)_0x3cdc1f=_0x83f8b2[_0x1cdf83(0x2c2)];});_0x2d71a6=_0x372bbc[_0x1db947(0x217)]-_0x1ac09d;let _0x2cbe21;config['liquidity'][_0x1db947(0x1c7)](_0x5b8b19=>{const _0x44e2e=_0x1db947;!_0x2cbe21&&(_0x2cbe21=_0x5b8b19[_0x44e2e(0x2b6)][_0x44e2e(0x23e)](_0x458287=>_0x458287[_0x44e2e(0x23a)]==_0x372bbc['coin']),_0x2cbe21&&(_0x2d71a6=_0x2cbe21[_0x44e2e(0x217)],_0x3cdc1f=_0x2cbe21[_0x44e2e(0x2c2)]));});let _0x480dd7=dbCoinResults[_0x1db947(0x2cd)]('coins')[_0x1db947(0x23e)]({'coin':_0x372bbc['coin']})[_0x1db947(0x1c5)]();_0x480dd7={'coin':_0x372bbc[_0x1db947(0x23a)],'number':_0x2d71a6,'breakeven':_0x3cdc1f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1db947(0x2cd)]('coins')[_0x1db947(0x23e)]({'coin':_0x372bbc[_0x1db947(0x23a)]})[_0x1db947(0x210)](_0x480dd7)[_0x1db947(0x28a)]();}}_0x5529b0['sort']((_0x178dc7,_0x1ff341)=>_0x178dc7[_0x1db947(0x271)]>_0x1ff341['datetime']?0x1:_0x1ff341[_0x1db947(0x271)]>_0x178dc7[_0x1db947(0x271)]?-0x1:0x0);let _0x582b6e=0x0;for(let _0x5e4393 of _0x5529b0){await updateCoinResults(_0x5e4393,!![]);}}catch(_0x1f539f){await handleError(_0x1f539f,_0x1db947(0x1f5));}}async function getAllEventOrders(_0x2d4384){const _0x4954c1=_0x1bc512;let _0x27a9ae=[],_0x3d56ff=dbLogs[_0x4954c1(0x2cd)]('logs')[_0x4954c1(0x1d1)](_0x19c1e4=>{const _0x54a0f1=_0x4954c1,_0x520476=_0x19c1e4[_0x54a0f1(0x2f5)][_0x54a0f1(0x2a3)]();return _0x520476[_0x54a0f1(0x1af)](_0x2d4384[_0x54a0f1(0x2a3)]())&&(_0x520476[_0x54a0f1(0x1af)]('market')&&_0x520476[_0x54a0f1(0x1af)](_0x54a0f1(0x1ff))||_0x520476[_0x54a0f1(0x1af)](_0x54a0f1(0x25d))&&_0x520476[_0x54a0f1(0x1af)](_0x54a0f1(0x1ff)));})[_0x4954c1(0x2d4)](_0x4954c1(0x22e))[_0x4954c1(0x1c5)]();return _0x3d56ff[_0x4954c1(0x1c7)](_0x3d7e44=>{const _0x51333a=_0x4954c1,_0x2616b5=_0x3d7e44[_0x51333a(0x2f5)][_0x51333a(0x1af)](_0x51333a(0x2c4))?_0x51333a(0x2c4):_0x51333a(0x1ed),_0x4b2fd2=/#([0-9]|\.)+\s/i,_0x1db6ad=Number(_0x4b2fd2['exec'](_0x3d7e44[_0x51333a(0x2f5)])[0x0][_0x51333a(0x24e)](0x1)),_0x36b0b8=/@([0-9]|\.)+$/i,_0x14685f=Number(_0x36b0b8['exec'](_0x3d7e44['event'])[0x0]['slice'](0x1));_0x27a9ae[_0x51333a(0x1b3)]({'datetime':_0x3d7e44[_0x51333a(0x22e)],'coin':symbolToCoin(_0x2d4384),'symbol':_0x2d4384,'side':_0x2616b5,'amount':_0x1db6ad,'filled':_0x1db6ad,'price':_0x14685f});}),_0x27a9ae;}async function getAllOrders(_0x4aecca,_0xeb13b7){const _0x123338=_0x1bc512;let _0x559200=[];while(_0xeb13b7<exchange[_0x123338(0x2cb)]()){const _0x56aa08=0x1f4,_0x18d16a=await exchange[_0x123338(0x28f)](_0x4aecca,_0xeb13b7,_0x56aa08);if(_0x18d16a['length'])_0xeb13b7=_0x18d16a[_0x18d16a['length']-0x1][_0x123338(0x2a4)]+0x1,_0x559200=_0x559200[_0x123338(0x25e)](_0x18d16a);else break;}return _0x559200;}async function validate24hChanges(){const _0x4f42c5=_0x1bc512;for(const _0x25db95 of currentCoins){if(_0x25db95[_0x4f42c5(0x23a)]!=config['basecoin']){let _0x19b908;_0x25db95['reverse']?_0x19b908=formatResult((0x1/(global[_0x4f42c5(0x28c)][noslash(_0x25db95[_0x4f42c5(0x228)])]/0x64+0x1)-0x1)*0x64,0x3):_0x19b908=global[_0x4f42c5(0x28c)][noslash(_0x25db95['symbol'])],_0x19b908<config['change24h']&&(logHistory(_0x4f42c5(0x205),_0x25db95[_0x4f42c5(0x23a)]+_0x4f42c5(0x2bb)+_0x19b908+'%'),logHistory(_0x4f42c5(0x205),_0x4f42c5(0x2ea)),logHistory(_0x4f42c5(0x205),_0x4f42c5(0x1cc)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x193935,_0x6d2e7a){const _0x33741d=_0x1bc512,_0x43261f=_0x6d2e7a['split']('.'),_0x50cc86=_0x193935[_0x33741d(0x296)]('.');for(var _0x1edc8c=0x0;_0x1edc8c<_0x50cc86[_0x33741d(0x1a7)];_0x1edc8c++){const _0x9c8e62=~~_0x50cc86[_0x1edc8c],_0x216927=~~_0x43261f[_0x1edc8c];if(_0x9c8e62<_0x216927)return!![];if(_0x9c8e62>_0x216927)return![];}return![];}async function oneTimeMigration(){const _0x4af12e=_0x1bc512;let _0x39886d=dbLogs[_0x4af12e(0x2cd)]('version')[_0x4af12e(0x1c5)]();if(isOlderVersion(_0x39886d,_0x4af12e(0x2bd))){dbLogs[_0x4af12e(0x2b7)]('version',_0x4af12e(0x2bd))['write']();let _0x30de9d=[];const _0x2b541b=dbLogs[_0x4af12e(0x2cd)](_0x4af12e(0x1f7))[_0x4af12e(0x1c5)]();_0x2b541b[_0x4af12e(0x1c7)](_0x1cacb2=>{const _0x29a0de=_0x4af12e;_0x30de9d[_0x29a0de(0x1b3)]({'time':_0x1cacb2[_0x29a0de(0x22e)],'type':_0x1cacb2[_0x29a0de(0x248)],'event':_0x1cacb2[_0x29a0de(0x2f5)]});}),dbLogs[_0x4af12e(0x2cd)](_0x4af12e(0x1f7))['assign'](_0x30de9d)[_0x4af12e(0x28a)]();}let _0x2c94bb=dbConfig[_0x4af12e(0x2cd)](_0x4af12e(0x2a1))[_0x4af12e(0x1c5)]();if(isOlderVersion(_0x2c94bb,_0x4af12e(0x2bd))){dbConfig[_0x4af12e(0x2b7)]('version',_0x4af12e(0x2bd))[_0x4af12e(0x28a)]();let _0x55fc2f=dbConfig[_0x4af12e(0x2cd)](_0x4af12e(0x250))[_0x4af12e(0x23e)]({'botID':botID})[_0x4af12e(0x1c5)]();if(_0x55fc2f){let _0x3dc0c6=[];_0x55fc2f[_0x4af12e(0x26f)][_0x4af12e(0x1c7)](_0x306430=>{const _0x290a13=_0x4af12e;_0x3dc0c6['push']({'coin':_0x306430[_0x290a13(0x23a)],'number':_0x306430[_0x290a13(0x21d)],'price':_0x306430[_0x290a13(0x1ee)]}),delete _0x306430[_0x290a13(0x21d)],delete _0x306430[_0x290a13(0x1ee)];});if(_0x3dc0c6['length']!==0x0)fs[_0x4af12e(0x1ea)](configbackuppath+(_0x4af12e(0x287)+botID+_0x4af12e(0x286)),JSON[_0x4af12e(0x223)](_0x3dc0c6,null,0x4),function(_0x2a51c6){if(_0x2a51c6){}});const _0x25d03b=(_0x5c99f0,_0x3ff8df)=>{const _0xb271c6=_0x4af12e;let _0x929a20=[];_0x3ff8df[_0xb271c6(0x1c7)](_0x505f2e=>{const _0x4a2bde=_0xb271c6,_0x57148d=_0x5c99f0['find'](_0x2ef3be=>_0x2ef3be['coin']==_0x505f2e[_0x4a2bde(0x23a)]);if(!_0x57148d)_0x929a20[_0x4a2bde(0x1b3)](_0x505f2e);});let _0x1a8eeb=[];return _0x5c99f0[_0xb271c6(0x1c7)](_0x1eaf8a=>{const _0x1a26b6=_0xb271c6,_0x410b01=_0x3ff8df[_0x1a26b6(0x23e)](_0x390fae=>_0x390fae[_0x1a26b6(0x23a)]==_0x1eaf8a[_0x1a26b6(0x23a)]);if(!_0x410b01||_0x410b01['number']==0x0&&_0x1eaf8a[_0x1a26b6(0x217)]!=0x0)_0x1a8eeb[_0x1a26b6(0x1b3)](_0x1eaf8a);}),{'missingDay1':_0x929a20,'notInDay2':_0x1a8eeb};},_0x484099=dbPerformance[_0x4af12e(0x2cd)](_0x4af12e(0x1e8))[_0x4af12e(0x244)]()[_0x4af12e(0x1c5)]();if(_0x484099[_0x4af12e(0x1a7)]>0x1){const {missingDay1:_0x193d5f,notInDay2:_0x1c6231}=_0x25d03b(_0x3dc0c6,_0x484099[0x1][_0x4af12e(0x2e4)]);_0x3dc0c6=[..._0x3dc0c6,..._0x193d5f],_0x1c6231[_0x4af12e(0x1c7)](_0x350752=>{const _0x335730=_0x4af12e;let _0x20df14=_0x3dc0c6[_0x335730(0x1be)](_0x8a8869=>_0x8a8869[_0x335730(0x23a)]==_0x350752[_0x335730(0x23a)]);_0x20df14!=-0x1&&_0x3dc0c6[_0x335730(0x2d8)](_0x20df14,0x1);});}_0x3dc0c6[_0x4af12e(0x2b3)]((_0x411a5a,_0x41aa51)=>_0x411a5a[_0x4af12e(0x23a)]>_0x41aa51['coin']?0x1:_0x41aa51['coin']>_0x411a5a[_0x4af12e(0x23a)]?-0x1:0x0);let _0x3e45d5=[{'date':_0x55fc2f['startdate'],'changes':_0x3dc0c6}];_0x484099[_0x4af12e(0x1a7)]>0x2&&_0x484099[_0x4af12e(0x1c7)]((_0x6aed96,_0x2a8d03)=>{const _0x50914c=_0x4af12e;if(_0x2a8d03>0x0&&_0x2a8d03<_0x484099[_0x50914c(0x1a7)]-0x1){const {missingDay1:_0xc1c870,notInDay2:_0x120dcb}=_0x25d03b(_0x484099[_0x2a8d03][_0x50914c(0x2e4)],_0x484099[_0x2a8d03+0x1][_0x50914c(0x2e4)]);_0x3dc0c6=[],(_0xc1c870[_0x50914c(0x1a7)]!=0x0||_0x120dcb[_0x50914c(0x1a7)]!=0x0)&&(_0xc1c870[_0x50914c(0x1a7)]!=0x0&&_0x3dc0c6[_0x50914c(0x1b3)](..._0xc1c870),_0x120dcb[_0x50914c(0x1a7)]!=0x0&&(_0x120dcb[_0x50914c(0x1c7)](_0xc7ad1a=>{const _0x4563df=_0x50914c;_0xc7ad1a[_0x4563df(0x217)]=-_0xc7ad1a['number'];}),_0x3dc0c6[_0x50914c(0x1b3)](..._0x120dcb)),_0x3dc0c6[_0x50914c(0x2b3)]((_0x5242f7,_0x321eaa)=>_0x5242f7[_0x50914c(0x23a)]>_0x321eaa['coin']?0x1:_0x321eaa['coin']>_0x5242f7['coin']?-0x1:0x0),_0x3e45d5['push']({'date':_0x484099[_0x2a8d03+0x1][_0x50914c(0x20a)],'changes':_0x3dc0c6}));}}),dbConfig[_0x4af12e(0x2cd)](_0x4af12e(0x250))[_0x4af12e(0x23e)]({'botID':botID})['assign']({..._0x55fc2f,'liquidity':_0x3e45d5})[_0x4af12e(0x28a)]();}}_0x2c94bb=dbConfig[_0x4af12e(0x2cd)](_0x4af12e(0x2a1))['value']();if(isOlderVersion(_0x2c94bb,'2.6.0')){dbConfig[_0x4af12e(0x2b7)](_0x4af12e(0x2a1),'2.6.0')[_0x4af12e(0x28a)]();let _0x2815bf=dbConfig[_0x4af12e(0x2cd)](_0x4af12e(0x250))[_0x4af12e(0x23e)]({'botID':botID})[_0x4af12e(0x1c5)]();if(_0x2815bf){const _0x4e79d9=_0x2815bf['exchange'],_0x2600bf=_0x4e79d9?capitalize(_0x4e79d9):_0x4af12e(0x279);dbConfig[_0x4af12e(0x2cd)]('bot')[_0x4af12e(0x23e)]({'botID':botID})[_0x4af12e(0x210)]({'exchange':_0x2600bf})['write']();}}config=getConfiguration(botID);let _0x57753c=dbPerformance[_0x4af12e(0x2cd)](_0x4af12e(0x2a1))['value']();isOlderVersion(_0x57753c,_0x4af12e(0x2bd))&&(dbPerformance['set'](_0x4af12e(0x2a1),'2.3.5')[_0x4af12e(0x28a)](),setStartDatePerformance());let _0x159d42=dbCoinResults[_0x4af12e(0x2cd)](_0x4af12e(0x2a1))[_0x4af12e(0x1c5)]();if(isOlderVersion(_0x159d42,_0x4af12e(0x200))){dbCoinResults['set']('version',_0x4af12e(0x200))[_0x4af12e(0x28a)]();let _0x274cf2=dbCoinResults[_0x4af12e(0x2cd)](_0x4af12e(0x2e4))[_0x4af12e(0x1c5)]();if(_0x274cf2[_0x4af12e(0x1a7)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x106a51){const _0x5b3ab3=_0x1bc512;let _0x319c54=dbConfig[_0x5b3ab3(0x2cd)](_0x5b3ab3(0x250))[_0x5b3ab3(0x23e)]({'botID':_0x106a51})[_0x5b3ab3(0x1c5)]();if(_0x319c54){let _0x38ae5a=![];typeof _0x319c54[_0x5b3ab3(0x1ca)]==_0x5b3ab3(0x288)&&(_0x319c54={..._0x319c54,'threshold':Number(_0x319c54[_0x5b3ab3(0x1ca)])},_0x38ae5a=!![]),_0x319c54[_0x5b3ab3(0x2f9)]==null&&(_0x319c54={..._0x319c54,'change24h':-0x14},_0x38ae5a=!![]),_0x38ae5a&&(_0x319c54={'botID':_0x319c54[_0x5b3ab3(0x26d)],'exchange':_0x319c54['exchange'],'apiKey':_0x319c54[_0x5b3ab3(0x1b8)],'apiSecret':_0x319c54['apiSecret'],'basecoin':_0x319c54[_0x5b3ab3(0x289)],'botname':_0x319c54[_0x5b3ab3(0x1e5)],'showname':_0x319c54[_0x5b3ab3(0x274)],'threshold':_0x319c54['threshold'],'ordertype':_0x319c54[_0x5b3ab3(0x221)],'timeout':_0x319c54[_0x5b3ab3(0x246)],'startdate':_0x319c54[_0x5b3ab3(0x2bc)],'recreate':_0x319c54['recreate'],'timeshift':_0x319c54[_0x5b3ab3(0x2fb)],'headless':_0x319c54[_0x5b3ab3(0x230)],'cooldown':_0x319c54[_0x5b3ab3(0x252)],'change24h':_0x319c54[_0x5b3ab3(0x2f9)],'emojibuy':_0x319c54['emojibuy'],'emojisell':_0x319c54['emojisell'],'portfolio':_0x319c54[_0x5b3ab3(0x26f)],'liquidity':_0x319c54[_0x5b3ab3(0x2ed)]},dbConfig[_0x5b3ab3(0x2cd)](_0x5b3ab3(0x250))[_0x5b3ab3(0x2be)]()[_0x5b3ab3(0x28a)](),dbConfig['get'](_0x5b3ab3(0x250))['push'](_0x319c54)['write']());}else _0x319c54={'botID':_0x106a51,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x106a51,'showname':![],'threshold':0x3,'ordertype':_0x5b3ab3(0x29c),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x5b3ab3(0x2fb)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x319c54;}function emittedConfiguration(){const _0x1e4899=_0x1bc512;let _0x5ee17b;if(config[_0x1e4899(0x1b8)]=='')_0x5ee17b={...config,'configstate':_0x1e4899(0x270)};else config['apiKey']==_0x1e4899(0x2ec)?_0x5ee17b={...config,'configstate':_0x1e4899(0x206)}:_0x5ee17b={...config,'apiKey':_0x1e4899(0x269),'apiSecret':_0x1e4899(0x269)};return _0x5ee17b;}function getSettings(){const _0x17dee8=_0x1bc512;return dbSettings[_0x17dee8(0x2cd)](_0x17dee8(0x2c1))['value']();}function getSecure(){const _0x25b416=_0x1bc512;return dbSecure['get']('secure')[_0x25b416(0x1c5)]()||{};}function updateTimeshift(_0x3687e0){const _0x4c5c88=_0x1bc512;let _0x4628ff=dbConfig['get'](_0x4c5c88(0x250))[_0x4c5c88(0x23e)]({'botID':botID})['value']();_0x4628ff&&dbConfig[_0x4c5c88(0x2cd)](_0x4c5c88(0x250))[_0x4c5c88(0x23e)]({'botID':botID})[_0x4c5c88(0x210)]({'timeshift':_0x3687e0})[_0x4c5c88(0x28a)](),config[_0x4c5c88(0x2fb)]=_0x3687e0,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x1fa480){const _0xeae902=_0x1bc512;let _0x3da60e=[],_0x45baa8=[];_0x1fa480['portfolio'][_0xeae902(0x1c7)](_0x369ef7=>{const _0xf83ebd=_0xeae902;if(!_0x369ef7['excluded']&&_0x369ef7[_0xf83ebd(0x23a)]!=_0x1fa480[_0xf83ebd(0x289)])_0x45baa8[_0xf83ebd(0x1b3)](_0x369ef7['symbol']);});currentCoins[_0xeae902(0x1a7)]==0x0?_0x3da60e=_0x45baa8:_0x45baa8[_0xeae902(0x1c7)](_0x530a71=>{const _0x241e35=_0xeae902,_0x4c48bd=currentCoins[_0x241e35(0x23e)](_0x320788=>_0x320788[_0x241e35(0x228)]==_0x530a71);!_0x4c48bd&&_0x3da60e['push'](_0x530a71);});let _0x3ed38c=dbConfig[_0xeae902(0x2cd)](_0xeae902(0x250))[_0xeae902(0x23e)]({'botID':botID})['value']();_0x1fa480={..._0x1fa480,'apiKey':crypt['decrypt'](secure[_0xeae902(0x2d1)],_0x1fa480[_0xeae902(0x1b8)])[_0xeae902(0x203)],'apiSecret':crypt[_0xeae902(0x28d)](secure[_0xeae902(0x2d1)],_0x1fa480[_0xeae902(0x277)])['message']};if(_0x3ed38c){if(_0x1fa480[_0xeae902(0x1b8)]==_0xeae902(0x269))_0x1fa480['apiKey']=config[_0xeae902(0x1b8)];if(_0x1fa480[_0xeae902(0x277)]==_0xeae902(0x269))_0x1fa480[_0xeae902(0x277)]=config[_0xeae902(0x277)];dbConfig[_0xeae902(0x2cd)](_0xeae902(0x250))[_0xeae902(0x23e)]({'botID':botID})['assign'](_0x1fa480)[_0xeae902(0x28a)]();}else dbConfig[_0xeae902(0x2cd)](_0xeae902(0x250))['push'](_0x1fa480)[_0xeae902(0x28a)](),process[_0xeae902(0x235)]({'status':_0xeae902(0x1d0),'live':_0xeae902(0x20d)},_0x2eb754=>{});config={..._0x1fa480},setStartDatePerformance(),process['send']({'botname':_0x1fa480[_0xeae902(0x1e5)]},_0x5ea2cb=>{}),updateBotManager();const _0x2379dc=getNormalizedPerformance();getStartingBalances(_0x2379dc),emitPerformance(_0x2379dc),proxyEmit(_0xeae902(0x21f)),await initCoinResults(),reset(_0x3da60e);}async function storeHeadless(_0x319dec){const _0x152c5e=_0x1bc512,_0x2dd2a6={...config,'headless':_0x319dec[_0x152c5e(0x230)]};let _0x31e9ca=dbConfig[_0x152c5e(0x2cd)](_0x152c5e(0x250))[_0x152c5e(0x23e)]({'botID':botID})[_0x152c5e(0x1c5)]();_0x31e9ca&&dbConfig[_0x152c5e(0x2cd)]('bot')[_0x152c5e(0x23e)]({'botID':botID})[_0x152c5e(0x210)](_0x2dd2a6)[_0x152c5e(0x28a)](),config={..._0x2dd2a6},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x212998){const _0x1b668f=_0x1bc512;return _0x212998[_0x1b668f(0x255)]('/','');}async function updateNumberCoinsCcxt(_0x3e7e18){const _0x21f493=_0x1bc512;logger[_0x21f493(0x2ee)](_0x21f493(0x29f)+_0x3e7e18[_0x21f493(0x228)]+'\x20|\x20'+_0x3e7e18[_0x21f493(0x1ac)]+_0x21f493(0x2a7)+_0x3e7e18['id']+_0x21f493(0x2a7)+_0x3e7e18['clientOrderId']);let _0x3e1bd4=_0x3e7e18['status'],_0xb5b56d=![];currentCoins['forEach'](_0x59bffa=>{const _0x3b1ee8=_0x21f493;_0x59bffa[_0x3b1ee8(0x228)]==_0x3e7e18[_0x3b1ee8(0x228)]&&(_0xb5b56d=!![]);});if(!_0xb5b56d)return;const _0x5b02f6=currentCoins[_0x21f493(0x23e)](_0x1db34c=>_0x1db34c[_0x21f493(0x228)]==_0x3e7e18[_0x21f493(0x228)]),_0x58f314=_0x118296=>{const _0x2a5f09=_0x21f493;if(_0x5b02f6)_0x5b02f6[_0x2a5f09(0x2a8)]=_0x118296;};if(_0x3e1bd4==_0x21f493(0x291))_0x58f314(_0x21f493(0x291));else{if(_0x3e1bd4==_0x21f493(0x2d3))_0x58f314('canceled'),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x3e1bd4=='closed'){logger[_0x21f493(0x2ee)](_0x21f493(0x1c8)+_0x3e7e18[_0x21f493(0x228)]+_0x21f493(0x2a7)+_0x3e7e18[_0x21f493(0x25d)]+_0x21f493(0x2a7)+_0x3e7e18['id']+'\x20|\x20'+_0x3e7e18[_0x21f493(0x2c9)]);let _0x2e9b47=![];if(lastOrders)lastOrders['forEach'](async _0x1f527f=>{const _0x41b60a=_0x21f493;if(_0x1f527f[_0x41b60a(0x298)]==_0x3e7e18[_0x41b60a(0x2c9)]){logger[_0x41b60a(0x2ee)](_0x41b60a(0x25f)+_0x3e7e18['clientOrderId']),_0x2e9b47=!![];if(_0x1f527f['filled']==0x0){logger[_0x41b60a(0x2ee)](_0x41b60a(0x22c)+_0x3e7e18['clientOrderId']),_0x1f527f['price']=_0x3e7e18[_0x41b60a(0x233)],_0x1f527f[_0x41b60a(0x25d)]=_0x3e7e18[_0x41b60a(0x25d)],_0x1f527f[_0x41b60a(0x2a0)]={'cost':_0x3e7e18[_0x41b60a(0x2a0)][_0x41b60a(0x2ba)],'currency':_0x3e7e18[_0x41b60a(0x2a0)]['currency']},_0x58f314('filled'),await validateOrders();if(lockOrders==ORDERS[_0x41b60a(0x261)])currentCoins=await getCoins();await updateCoinResults(_0x1f527f);}}});!_0x2e9b47&&(logger[_0x21f493(0x2ee)](_0x21f493(0x214)+_0x3e7e18['id']),_0x58f314(_0x21f493(0x25d)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x426b22=JSON[_0x21f493(0x227)](lastBalances['portfolio']);const _0x36d61d=_0x426b22[_0x21f493(0x23e)](_0xa78910=>_0xa78910[_0x21f493(0x228)]==_0x3e7e18['symbol']);if(_0x36d61d){if(_0x3e1bd4=='open')_0x36d61d['orderstatus']=_0x36d61d[_0x21f493(0x2a8)]==_0x21f493(0x25d)?'filled':_0x21f493(0x291);else{if(_0x3e1bd4==_0x21f493(0x2d3))_0x36d61d[_0x21f493(0x2a8)]=_0x36d61d[_0x21f493(0x2a8)]=='filled'?'filled':_0x21f493(0x2d3);else _0x3e1bd4=='closed'&&(_0x36d61d[_0x21f493(0x2a8)]=_0x21f493(0x25d));}}lastBalances={...lastBalances,'portfolio':JSON[_0x21f493(0x223)](_0x426b22)},proxyEmit(_0x21f493(0x1b9),{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0x393be9=![],_0x21a34a=!![],_0x45ab2d=config[_0x1bc512(0x289)]){const _0x29c0bc=_0x1bc512;let _0x295bd3,_0x143143=[],_0x3ed9d2=[],_0x55e66e=[];try{_0x295bd3=await exchange[_0x29c0bc(0x2ab)](),mybalances=_0x295bd3[_0x29c0bc(0x2c3)];if(!_0x21a34a)for(const [_0x19a6cc,_0x182e85]of Object['entries'](mybalances)){_0x55e66e[_0x29c0bc(0x1b3)](_0x19a6cc);}else config[_0x29c0bc(0x26f)]['forEach'](_0x3e93aa=>{const _0x402106=_0x29c0bc;if(!_0x3e93aa[_0x402106(0x1a5)])_0x55e66e['push'](_0x3e93aa['coin']);});if(_0x45ab2d=='')for(const [_0x270a95,_0xc175d4]of Object['entries'](mybalances)){_0xc175d4[_0x29c0bc(0x1a2)]()!=0x0&&_0x3ed9d2[_0x29c0bc(0x1b3)]({'coin':_0x270a95});}else{if(_0x393be9)await getOpenOrders();let _0x51981e=![];for(const [_0x5f0008,_0x430716]of Object[_0x29c0bc(0x2b4)](mybalances)){if(_0x55e66e[_0x29c0bc(0x1af)](_0x5f0008)){const _0x1fc1a8=config[_0x29c0bc(0x26f)][_0x29c0bc(0x23e)](_0x42f395=>_0x42f395[_0x29c0bc(0x23a)]==_0x5f0008),_0x54033d=_0x5f0008+'/'+_0x45ab2d,_0x57bfab=_0x45ab2d+'/'+_0x5f0008,_0xeac357=currentCoins['find'](_0x18bf3f=>_0x18bf3f[_0x29c0bc(0x23a)]==_0x5f0008);_0x51981e=![];_0x393be9&&(_0x51981e=allOpenOrders[_0x29c0bc(0x23e)](_0x7e038a=>_0x7e038a[_0x29c0bc(0x228)]==_0x1fc1a8[_0x29c0bc(0x228)]));if((_0x430716[_0x29c0bc(0x1a2)]()!=0x0||_0x1fc1a8)&&(allSymbols[_0x29c0bc(0x1af)](_0x54033d)||_0x5f0008==_0x45ab2d))_0x5f0008!=_0x45ab2d&&_0x143143[_0x29c0bc(0x1b3)](_0x54033d),_0x3ed9d2[_0x29c0bc(0x1b3)]({'coin':_0x5f0008,'symbol':_0x54033d,'reverse':![],'number':Math['max'](_0x430716+(_0x1fc1a8&&_0x1fc1a8[_0x29c0bc(0x1bc)]||0x0),0x0),'orderstatus':_0x393be9?_0x51981e?_0x29c0bc(0x291):_0x29c0bc(0x2b8):_0xeac357?_0xeac357[_0x29c0bc(0x2a8)]:_0x29c0bc(0x2b8)});else(_0x430716[_0x29c0bc(0x1a2)]()!=0x0||_0x1fc1a8)&&allSymbols['includes'](_0x57bfab)&&(_0x5f0008!=_0x45ab2d&&_0x143143['push'](_0x57bfab),_0x3ed9d2[_0x29c0bc(0x1b3)]({'coin':_0x5f0008,'symbol':_0x57bfab,'reverse':!![],'number':Math[_0x29c0bc(0x1e1)](_0x430716+(_0x1fc1a8&&_0x1fc1a8['offset']||0x0),0x0),'orderstatus':_0x393be9?_0x51981e?'open':_0x29c0bc(0x2b8):_0xeac357?_0xeac357[_0x29c0bc(0x2a8)]:_0x29c0bc(0x2b8)}));}}}}catch(_0x2c8b63){if(!_0x21a34a)handleErrorNoStop(_0x2c8b63,_0x29c0bc(0x1e7));else await handleError(_0x2c8b63,_0x29c0bc(0x1e7));}return _0x3ed9d2;}async function getCoinNumber(_0x2e4f2c){const _0x5a626b=_0x1bc512;let _0x5068e9;try{const _0x32d2ef=await exchange[_0x5a626b(0x2ab)]();_0x5068e9=_0x32d2ef['total'][_0x2e4f2c];}catch(_0x3ba4f0){await handleError(_0x3ba4f0,_0x5a626b(0x20f));}return _0x5068e9;}async function getOpenOrders(){const _0x3296d7=_0x1bc512;let _0x59d60f;allOpenOrders=[];try{for(const _0x3dde84 of config[_0x3296d7(0x26f)]){!_0x3dde84[_0x3296d7(0x1a5)]&&_0x3dde84['coin']!=config[_0x3296d7(0x289)]&&(_0x59d60f=await exchange[_0x3296d7(0x1eb)](_0x3dde84['symbol']),_0x59d60f[_0x3296d7(0x1a7)]>0x0&&allOpenOrders['push'](_0x59d60f[0x0]));}}catch(_0x2adb47){await handleError(_0x2adb47,_0x3296d7(0x1cf));}}async function handleOpenOrders(_0x5dde05=0x0){const _0x557c9d=_0x1bc512;allOpenOrders[_0x557c9d(0x1a7)]==0x0&&lockOrders==ORDERS[_0x557c9d(0x261)]&&allOrdersPlaced&&(_0x5dde05==0x0?(logger[_0x557c9d(0x2ee)](_0x557c9d(0x295)),_0x5dde05++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x557c9d(0x2ee)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x557c9d(0x204))));}async function getPortfolio(_0x25f3a5){const _0x511023=_0x1bc512;let _0x1535c6=[],_0x1ffbd3=[],_0x4939fd,_0x5a1724=[],_0x1a5a5b=![];if(_0x25f3a5[_0x511023(0x1b8)]===_0x511023(0x269)||_0x25f3a5[_0x511023(0x277)]===_0x511023(0x269))_0x1a5a5b=!![];else{await initExchange(_0x25f3a5[_0x511023(0x222)],_0x25f3a5[_0x511023(0x1b8)],_0x25f3a5[_0x511023(0x277)]);try{_0x1a5a5b=await loadSymbols();}catch(_0x2794c7){_0x1a5a5b=![],handleErrorNoStop(_0x2794c7,_0x511023(0x1a8));}}if(_0x1a5a5b){_0x5a1724=await getCoins(![],![],_0x25f3a5[_0x511023(0x289)]);if(_0x5a1724===![])proxyEmit(_0x511023(0x26f),![]);else{if(_0x25f3a5[_0x511023(0x289)]=='')proxyEmit(_0x511023(0x26f),_0x5a1724);else{_0x5a1724[_0x511023(0x1c7)](_0x17c93b=>{const _0x18abb9=_0x511023;if(_0x17c93b[_0x18abb9(0x23a)]!=_0x25f3a5[_0x18abb9(0x289)])_0x1535c6[_0x18abb9(0x1b3)](_0x17c93b[_0x18abb9(0x228)]);});try{_0x1ffbd3=await exchange['fetchTickers'](_0x1535c6);}catch(_0x738405){await handleError(_0x738405,_0x511023(0x231));}_0x5a1724[_0x511023(0x1c7)](_0xa324a3=>{const _0x1bb3b5=_0x511023;_0xa324a3[_0x1bb3b5(0x23a)]!=_0x25f3a5[_0x1bb3b5(0x289)]?_0x4939fd=_0xa324a3[_0x1bb3b5(0x1c1)]?0x1/_0x1ffbd3[_0xa324a3[_0x1bb3b5(0x228)]][_0x1bb3b5(0x237)]:_0x1ffbd3[_0xa324a3[_0x1bb3b5(0x228)]][_0x1bb3b5(0x237)]:_0x4939fd=0x1,_0xa324a3['price']=formatResult(_0x4939fd,0x8);}),proxyEmit(_0x511023(0x26f),_0x5a1724);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x215952){const _0x168b77=_0x1bc512;let _0x5c53b3=!![];const _0x4662c6=!_0x215952[_0x168b77(0x1c1)]?markets[_0x215952[_0x168b77(0x228)]][_0x168b77(0x27d)]['amount'][_0x168b77(0x1e3)]:markets[_0x215952['symbol']][_0x168b77(0x27d)]['cost'][_0x168b77(0x1e3)],_0xab240f=!_0x215952[_0x168b77(0x1c1)]?markets[_0x215952[_0x168b77(0x228)]]['limits'][_0x168b77(0x2ba)][_0x168b77(0x1e3)]:markets[_0x215952[_0x168b77(0x228)]]['limits'][_0x168b77(0x251)]['min'],_0x12ec61=markets[_0x215952[_0x168b77(0x228)]][_0x168b77(0x1a9)]['amount'];_0x215952[_0x168b77(0x1ab)]=formatResultTruncate(_0x215952[_0x168b77(0x1ab)],_0x12ec61);if(Math[_0x168b77(0x20b)](_0x215952[_0x168b77(0x1ab)])<_0x4662c6)_0x5c53b3=![];if(Math[_0x168b77(0x20b)](_0x215952[_0x168b77(0x1ab)])*_0x215952[_0x168b77(0x237)]<_0xab240f)_0x5c53b3=![];if(_0x215952[_0x168b77(0x1fa)]==_0x168b77(0x2c4)){let _0x2eb803=config['portfolio'][_0x168b77(0x23e)](_0x38a80f=>_0x38a80f[_0x168b77(0x23a)]==_0x215952['coin']);if(_0x2eb803[_0x168b77(0x1bc)]>0x0){if(Math[_0x168b77(0x20b)](_0x215952['trade'])>_0x215952[_0x168b77(0x217)]-_0x2eb803['offset'])_0x5c53b3=![];}else{if(Math[_0x168b77(0x20b)](_0x215952[_0x168b77(0x1ab)])>_0x215952[_0x168b77(0x217)])_0x5c53b3=![];}}if(_0x215952[_0x168b77(0x1fa)]=='buy'){let _0xa9f035=config[_0x168b77(0x26f)][_0x168b77(0x23e)](_0x3705f3=>_0x3705f3[_0x168b77(0x23a)]==config[_0x168b77(0x289)]),_0x49c1ec=currentCoins[_0x168b77(0x23e)](_0x14784b=>_0x14784b[_0x168b77(0x23a)]==config[_0x168b77(0x289)]);if(_0xa9f035[_0x168b77(0x1bc)]>0x0){if(Math['abs'](_0x215952[_0x168b77(0x1ab)])*_0x215952['last']>_0x49c1ec[_0x168b77(0x217)]-_0xa9f035[_0x168b77(0x1bc)])_0x5c53b3=![];}else{if(Math[_0x168b77(0x20b)](_0x215952[_0x168b77(0x1ab)])*_0x215952[_0x168b77(0x237)]>_0x49c1ec[_0x168b77(0x217)])_0x5c53b3=![];}}return _0x5c53b3;}async function getBalances(){const _0x2e42f6=_0x1bc512;let _0x5161a7=0x0,_0x55c962;const _0x1aad1a=config[_0x2e42f6(0x1ca)];if(config[_0x2e42f6(0x230)]&&config[_0x2e42f6(0x2f9)]<0x0)await validate24hChanges();currentCoins[_0x2e42f6(0x1c7)](_0x51f6eb=>{const _0x4a102e=_0x2e42f6;if(_0x51f6eb[_0x4a102e(0x23a)]!=config[_0x4a102e(0x289)]){let _0x17c028=global['ticker'][noslash(_0x51f6eb[_0x4a102e(0x228)])];_0x55c962=_0x51f6eb['reverse']?0x1/_0x17c028:_0x17c028;}else _0x55c962=0x1;let _0x44bc20=_0x51f6eb[_0x4a102e(0x217)]*_0x55c962;_0x5161a7+=_0x44bc20,_0x51f6eb[_0x4a102e(0x237)]=formatResult(Number(_0x55c962),0x8),_0x51f6eb[_0x4a102e(0x1c5)]=_0x44bc20;}),currentCoins[_0x2e42f6(0x1c7)](_0x2d7d09=>{const _0x1d88e7=_0x2e42f6;let _0x1f17c0=config['portfolio']['find'](_0x3e1805=>_0x3e1805['coin']==_0x2d7d09[_0x1d88e7(0x23a)]),_0x47604a=Number(_0x1f17c0[_0x1d88e7(0x27c)]),_0x1c85bd=_0x2d7d09[_0x1d88e7(0x1c5)]/_0x5161a7*0x64,_0x5a0129=_0x47604a*_0x5161a7/0x64/_0x2d7d09[_0x1d88e7(0x237)]-_0x2d7d09['number'];_0x2d7d09[_0x1d88e7(0x27c)]=formatResult(_0x1c85bd,0x3),_0x2d7d09[_0x1d88e7(0x290)]=formatResult(_0x47604a,0x3),_0x2d7d09[_0x1d88e7(0x1ab)]=formatResult(_0x5a0129,0x8),_0x2d7d09[_0x1d88e7(0x1fa)]='',_0x2d7d09[_0x1d88e7(0x1de)]=![];if(_0x2d7d09[_0x1d88e7(0x23a)]!=config[_0x1d88e7(0x289)]){if(_0x2d7d09['distribution']>_0x47604a)_0x2d7d09[_0x1d88e7(0x1fa)]=_0x1d88e7(0x2c4),_0x2d7d09['valid']=checkMinimums(_0x2d7d09);else _0x2d7d09[_0x1d88e7(0x27c)]<_0x47604a&&(_0x2d7d09[_0x1d88e7(0x1fa)]=_0x1d88e7(0x1ed),_0x2d7d09[_0x1d88e7(0x1de)]=checkMinimums(_0x2d7d09));}_0x2d7d09['delta']=_0x2d7d09[_0x1d88e7(0x27c)]/_0x2d7d09[_0x1d88e7(0x290)]-0x1;if(_0x2d7d09[_0x1d88e7(0x2a8)]==_0x1d88e7(0x25d)||_0x2d7d09[_0x1d88e7(0x2a8)]==_0x1d88e7(0x2d3))_0x2d7d09[_0x1d88e7(0x2a8)]=_0x1d88e7(0x2b8);}),currentCoins[_0x2e42f6(0x2b3)]((_0x20971e,_0x34dcc1)=>_0x20971e['delta']<_0x34dcc1[_0x2e42f6(0x273)]?0x1:_0x34dcc1['delta']<_0x20971e[_0x2e42f6(0x273)]?-0x1:0x0);const _0x4a9f07=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4a9f07[_0x2e42f6(0x1ec)],'usd':_0x4a9f07[_0x2e42f6(0x1d6)],'portfolio':JSON[_0x2e42f6(0x223)](currentCoins),'threshold':_0x1aad1a},proxyEmit(_0x2e42f6(0x1b9),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2e42f6(0x230)])headlessMode({'portfolio':currentCoins,'threshold':_0x1aad1a});else{if(lockOrders==ORDERS[_0x2e42f6(0x243)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x1aad1a});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x18f7cf=_0x1bc512;if(!lastBalances)return;let _0xe225f8=[],_0xcbb869,_0x1e1f41=JSON['parse'](lastBalances[_0x18f7cf(0x26f)]);_0x1e1f41[_0x18f7cf(0x2b3)]((_0x2dbd2d,_0x380381)=>_0x2dbd2d[_0x18f7cf(0x23a)]>_0x380381[_0x18f7cf(0x23a)]?0x1:_0x380381[_0x18f7cf(0x23a)]>_0x2dbd2d['coin']?-0x1:0x0),_0x1e1f41[_0x18f7cf(0x1c7)](_0x3a443a=>{const _0x189e74=_0x18f7cf;let _0x54a13b={'coin':_0x3a443a[_0x189e74(0x23a)],'number':_0x3a443a[_0x189e74(0x217)],'price':_0x3a443a[_0x189e74(0x237)]};_0xe225f8[_0x189e74(0x1b3)](_0x54a13b);});const _0x20d715=await getFiat();_0xcbb869={'date':lastBalances[_0x18f7cf(0x22e)]['split']('\x20')[0x0],'eur':_0x20d715[_0x18f7cf(0x1ec)],'usd':_0x20d715[_0x18f7cf(0x1d6)],'coins':_0xe225f8};let _0x48c377=dbPerformance['get'](_0x18f7cf(0x1e8))['find']({'date':_0xcbb869[_0x18f7cf(0x20a)]})[_0x18f7cf(0x1c5)]();_0x48c377?_0xcbb869[_0x18f7cf(0x20a)]!=config[_0x18f7cf(0x2bc)]&&dbPerformance[_0x18f7cf(0x2cd)](_0x18f7cf(0x1e8))[_0x18f7cf(0x23e)]({'date':_0xcbb869['date']})[_0x18f7cf(0x210)](_0xcbb869)[_0x18f7cf(0x28a)]():dbPerformance['get'](_0x18f7cf(0x1e8))[_0x18f7cf(0x1b3)](_0xcbb869)[_0x18f7cf(0x28a)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5de0b2=_0x1bc512;let _0x4b3986=[];if(dbPerformance[_0x5de0b2(0x2ef)]('data')[_0x5de0b2(0x1c5)]()){let _0x1b846f=dbPerformance[_0x5de0b2(0x2cd)](_0x5de0b2(0x1e8))[_0x5de0b2(0x244)]()[_0x5de0b2(0x2d4)]('date')[_0x5de0b2(0x1c5)](),_0x40d928=[...config[_0x5de0b2(0x2ed)]];_0x40d928[_0x5de0b2(0x2b3)]((_0x53cbe8,_0x344fbd)=>_0x53cbe8[_0x5de0b2(0x20a)]>_0x344fbd[_0x5de0b2(0x20a)]?-0x1:_0x344fbd[_0x5de0b2(0x20a)]>_0x53cbe8[_0x5de0b2(0x20a)]?0x1:0x0);let _0x9895c2=0x1,_0x3d541b=[],_0x2cdb39=0x0;_0x1b846f[_0x5de0b2(0x24e)]()[_0x5de0b2(0x1c1)]()[_0x5de0b2(0x1c7)]((_0x44a9ff,_0x378850)=>{const _0x19729a=_0x5de0b2;if(_0x40d928[_0x2cdb39]){if(_0x1b846f[_0x1b846f[_0x19729a(0x1a7)]-_0x378850]&&_0x40d928[_0x2cdb39]['date']==_0x1b846f[_0x1b846f[_0x19729a(0x1a7)]-_0x378850]['date']){if(_0x378850<_0x1b846f[_0x19729a(0x1a7)]){let _0x2121a7=0x0,_0x48743e=0x0;_0x1b846f[_0x1b846f[_0x19729a(0x1a7)]-_0x378850][_0x19729a(0x2e4)][_0x19729a(0x1c7)](_0x2c2742=>{const _0x356415=_0x19729a;_0x48743e+=_0x2c2742[_0x356415(0x217)]*_0x2c2742[_0x356415(0x2c2)];}),_0x40d928[_0x2cdb39][_0x19729a(0x2b6)]['forEach'](_0xcc6277=>{const _0x3f9115=_0x19729a;_0x2121a7+=_0xcc6277['number']*_0xcc6277[_0x3f9115(0x2c2)];}),_0x9895c2*=_0x2121a7/(_0x48743e-_0x2121a7)+0x1;}_0x2cdb39++;}}let _0xd389b7=0x0;_0x44a9ff[_0x19729a(0x2e4)]['forEach'](_0x1c6f6f=>{const _0x4c1535=_0x19729a;_0xd389b7+=_0x1c6f6f[_0x4c1535(0x217)]*_0x1c6f6f[_0x4c1535(0x2c2)];}),_0x3d541b[_0x1b846f[_0x19729a(0x1a7)]-_0x378850-0x1]=_0xd389b7*(_0x9895c2-0x1);});let _0x724cf2=[];_0x40d928=[...config[_0x5de0b2(0x2ed)]]||[];let _0xfe0699=0x0;_0x2cdb39=0x0,_0x1b846f[_0x5de0b2(0x1c7)]((_0x6c9a4c,_0x25be12)=>{const _0x398996=_0x5de0b2;if(_0x40d928[_0x2cdb39]){const _0x469024=fns['parse'](_0x40d928[_0x2cdb39][_0x398996(0x20a)],_0x398996(0x2b1),new Date()),_0x3b7b10=fns[_0x398996(0x227)](_0x6c9a4c[_0x398996(0x20a)],_0x398996(0x2b1),new Date());if(fns[_0x398996(0x26e)](_0x469024,_0x3b7b10)){let _0x5865ed=0x0;_0x40d928[_0x2cdb39][_0x398996(0x2b6)][_0x398996(0x1c7)](_0x13be57=>{const _0x319fa4=_0x398996;!_0x724cf2[_0x13be57[_0x319fa4(0x23a)]]?_0x724cf2[_0x13be57[_0x319fa4(0x23a)]]=_0x13be57[_0x319fa4(0x217)]:(_0x5865ed=_0x724cf2[_0x13be57[_0x319fa4(0x23a)]],_0x724cf2[_0x13be57['coin']]+=_0x13be57['number']);const _0x15bc08=_0x6c9a4c[_0x319fa4(0x2e4)][_0x319fa4(0x23e)](_0x33995e=>_0x33995e[_0x319fa4(0x23a)]==_0x13be57[_0x319fa4(0x23a)]);(!_0x15bc08||_0x15bc08[_0x319fa4(0x217)]==0x0)&&(_0xfe0699+=(-_0x13be57[_0x319fa4(0x217)]-_0x5865ed)*_0x13be57[_0x319fa4(0x2c2)]);}),_0x2cdb39++;}}_0x6c9a4c['coins']['forEach']((_0x241b7f,_0x35f0ff)=>{const _0x207494=_0x398996;_0x724cf2[_0x241b7f['coin']]&&(_0x241b7f={..._0x241b7f,'initial':_0x724cf2[_0x241b7f[_0x207494(0x23a)]]}),_0x6c9a4c[_0x207494(0x2e4)][_0x35f0ff]=_0x241b7f;}),_0x4b3986[_0x398996(0x1b3)]({'date':_0x6c9a4c[_0x398996(0x20a)],'eur':_0x6c9a4c['eur'],'usd':_0x6c9a4c[_0x398996(0x1d6)],'offset':_0x3d541b[_0x25be12],'netoffset':_0xfe0699,'coins':_0x6c9a4c[_0x398996(0x2e4)]});});}return _0x4b3986;}function emitPerformance(_0x28f2ad){const _0xa887ca=_0x1bc512;_0x28f2ad[_0xa887ca(0x1a7)]!==0x0?(proxyEmit('performance',_0x28f2ad),lastPerformanceEmitted=getDate()):proxyEmit(_0xa887ca(0x1fc),[]);}function getPerf(_0x22a2a2,_0x1b4c41){const _0x4b1e2c=_0x1bc512;let _0x322182=0x0,_0xc17097=0x0,_0x3ecfd3=0x0;_0x22a2a2[_0x4b1e2c(0x2e4)][_0x4b1e2c(0x1c7)](_0x1c863d=>{const _0x5d5d2f=_0x4b1e2c;_0x322182+=_0x1c863d[_0x5d5d2f(0x217)]*_0x1c863d[_0x5d5d2f(0x2c2)];});_0x1b4c41&&(_0x322182+=_0x22a2a2[_0x4b1e2c(0x1bc)]);if(config[_0x4b1e2c(0x289)]===_0x4b1e2c(0x2e8)||config[_0x4b1e2c(0x289)]===_0x4b1e2c(0x1df))_0xc17097=_0x322182*_0x22a2a2[_0x4b1e2c(0x1ec)],_0x3ecfd3=_0x322182*_0x22a2a2[_0x4b1e2c(0x1d6)];else{if(config[_0x4b1e2c(0x289)]==='BUSD'||config[_0x4b1e2c(0x289)]===_0x4b1e2c(0x1b1)||config[_0x4b1e2c(0x289)]===_0x4b1e2c(0x1bb))_0xc17097=_0x322182*_0x22a2a2[_0x4b1e2c(0x1ec)]/_0x22a2a2[_0x4b1e2c(0x1d6)],_0x3ecfd3=_0x322182;else config[_0x4b1e2c(0x289)]===_0x4b1e2c(0x25c)&&(_0xc17097=_0x322182,_0x3ecfd3=_0x322182*_0x22a2a2[_0x4b1e2c(0x1d6)]/_0x22a2a2['eur']);}return[_0x322182,_0xc17097,_0x3ecfd3];}function getKPIs(_0x229c56,_0x1db586=_0x1bc512(0x25c)){const _0x5ab8d3=_0x1bc512,_0x503050=config[_0x5ab8d3(0x289)],_0x1432f5=config[_0x5ab8d3(0x1b9)],_0x4d3e39=currentCoins,_0x48fcc0=getNormalizedPerformance(),_0x37f583=_0x229c56==='basecoin'?_0x503050:_0x229c56==='fiat'||_0x229c56===_0x5ab8d3(0x1f2)?_0x1db586:_0x5ab8d3(0x256)+_0x503050,_0x46e4a0=_0x229c56===_0x5ab8d3(0x29b)?_0x5ab8d3(0x2b2):_0x229c56===_0x5ab8d3(0x1f2)?_0x5ab8d3(0x218)+_0x37f583+')':_0x37f583+_0x5ab8d3(0x2c5),_0x4ca5f8=_0x229c56===_0x5ab8d3(0x29b)||_0x229c56==='net-fiat'?_0x5ab8d3(0x2b2):_0x37f583+_0x5ab8d3(0x1ba);let _0x2945a5=0x0;_0x4d3e39[_0x5ab8d3(0x1c7)](_0xbd8959=>{const _0x144e30=_0x5ab8d3;_0x2945a5+=_0xbd8959[_0x144e30(0x217)]*_0xbd8959[_0x144e30(0x237)];});if(_0x229c56==='fiat'||_0x229c56===_0x5ab8d3(0x1f2)){if(_0x503050===_0x5ab8d3(0x2e8)||_0x503050==='ETH')_0x2945a5=_0x2945a5*(_0x1db586===_0x5ab8d3(0x25c)?_0x1432f5[_0x5ab8d3(0x1ec)]:_0x1432f5['usd']);else{if(_0x503050==='BUSD'||_0x503050==='USDT'||_0x503050===_0x5ab8d3(0x1bb))_0x2945a5=_0x2945a5*(_0x1db586===_0x5ab8d3(0x25c)?_0x1432f5['eur']/_0x1432f5[_0x5ab8d3(0x1d6)]:0x1);else _0x503050==='EUR'&&(_0x2945a5=_0x2945a5*(_0x1db586===_0x5ab8d3(0x25c)?0x1:_0x1432f5[_0x5ab8d3(0x1d6)]/_0x1432f5[_0x5ab8d3(0x1ec)]));}}let _0x87b28b;if(_0x2945a5!==0x0){if(_0x229c56===_0x5ab8d3(0x289))_0x87b28b=(_0x2945a5/startingBalances[_0x5ab8d3(0x289)]-0x1)*0x64;else{if(_0x1db586===_0x5ab8d3(0x25c))_0x87b28b=(_0x2945a5/startingBalances[_0x5ab8d3(0x1ec)]-0x1)*0x64;else _0x87b28b=(_0x2945a5/startingBalances[_0x5ab8d3(0x1d6)]-0x1)*0x64;}let _0x3cd8d3=0x0;if(startingBalances['coins'])_0x4d3e39[_0x5ab8d3(0x1c7)](_0x464ec1=>{const _0x23d8dd=_0x5ab8d3;let _0x597265=startingBalances[_0x23d8dd(0x2e4)]['find'](_0x3ebb9e=>_0x3ebb9e[_0x23d8dd(0x23a)]===_0x464ec1[_0x23d8dd(0x23a)]);if(_0x597265&&_0x597265['coin']&&_0x464ec1[_0x23d8dd(0x217)]!==0x0)_0x3cd8d3+=_0x597265[_0x23d8dd(0x217)]*_0x464ec1[_0x23d8dd(0x237)];});let _0x5b7617=0x0;if(_0x48fcc0['length']!==0x0){let _0x4f6ad6=_0x48fcc0[_0x48fcc0[_0x5ab8d3(0x1a7)]-0x1];_0x5b7617=_0x4f6ad6['netoffset'];}_0x3cd8d3-=_0x5b7617;_0x229c56===_0x5ab8d3(0x29b)&&(_0x87b28b=(_0x2945a5-_0x3cd8d3)/startingBalances[_0x5ab8d3(0x289)]*0x64,_0x2945a5=_0x2945a5-_0x3cd8d3);if(_0x229c56===_0x5ab8d3(0x1f2)){let _0xea1377=_0x1db586===_0x5ab8d3(0x25c)?startingBalances[_0x5ab8d3(0x1ec)]:startingBalances[_0x5ab8d3(0x1d6)];if(_0x503050==='BTC'||_0x503050===_0x5ab8d3(0x1df))_0x3cd8d3=_0x1db586===_0x5ab8d3(0x25c)?_0x3cd8d3*_0x1432f5[_0x5ab8d3(0x1ec)]:_0x3cd8d3*_0x1432f5[_0x5ab8d3(0x1d6)];else{if(_0x503050==='BUSD'||_0x503050===_0x5ab8d3(0x1b1)||_0x503050===_0x5ab8d3(0x1bb))_0x3cd8d3=_0x1db586===_0x5ab8d3(0x25c)?_0x3cd8d3*_0x1432f5[_0x5ab8d3(0x1ec)]/_0x1432f5[_0x5ab8d3(0x1d6)]:_0x3cd8d3;else _0x503050==='EUR'&&(_0x3cd8d3=_0x1db586===_0x5ab8d3(0x25c)?_0x3cd8d3:_0x3cd8d3*_0x1432f5[_0x5ab8d3(0x1d6)]/_0x1432f5[_0x5ab8d3(0x1ec)]);}_0x87b28b=(_0x2945a5-_0x3cd8d3)/_0xea1377*0x64,_0x2945a5=_0x2945a5-_0x3cd8d3;}if(_0x87b28b){if(_0x87b28b<0x64)_0x87b28b=_0x87b28b[_0x5ab8d3(0x2c8)](0x2);else{if(_0x87b28b<0x3e8)_0x87b28b=_0x87b28b[_0x5ab8d3(0x2c8)](0x1);else _0x87b28b=_0x87b28b[_0x5ab8d3(0x2c8)](0x0);}}else _0x87b28b=Number('0')[_0x5ab8d3(0x2c8)](0x2);if(_0x2945a5){if(Math[_0x5ab8d3(0x20b)](_0x2945a5)<0.000001)_0x2945a5=_0x2945a5[_0x5ab8d3(0x2c8)](0x2);else{if(Math[_0x5ab8d3(0x20b)](_0x2945a5)<0.1)_0x2945a5=_0x2945a5[_0x5ab8d3(0x2c8)](0x6);else{if(Math[_0x5ab8d3(0x20b)](_0x2945a5)<0x1)_0x2945a5=_0x2945a5[_0x5ab8d3(0x2c8)](0x5);else{if(Math[_0x5ab8d3(0x20b)](_0x2945a5)<0xa)_0x2945a5=_0x2945a5[_0x5ab8d3(0x2c8)](0x4);else{if(Math[_0x5ab8d3(0x20b)](_0x2945a5)<0x64)_0x2945a5=_0x2945a5[_0x5ab8d3(0x2c8)](0x3);else{if(Math[_0x5ab8d3(0x20b)](_0x2945a5)<0x3e8)_0x2945a5=_0x2945a5['toFixed'](0x2);else _0x2945a5=_0x2945a5[_0x5ab8d3(0x2c8)](0x2);}}}}}}else _0x2945a5=Number('0')[_0x5ab8d3(0x2c8)](0x2);}else _0x87b28b=Number('0')[_0x5ab8d3(0x2c8)](0x2);return{'value':_0x2945a5,'change':_0x87b28b,'leftTxt':_0x46e4a0,'rightTxt':_0x4ca5f8};}async function getStartingBalances(_0x407789,_0x3cc95e=!![]){const _0x93403c=_0x1bc512;if(_0x407789['length']!==0x0){const [_0x104672,_0x4bfce4,_0x580200]=getPerf(_0x407789[0x0],!![]);let _0x4defb5=[];config[_0x93403c(0x26f)][_0x93403c(0x1c7)](_0x2ea509=>{const _0x31a22e=_0x93403c;let _0x327801=0x0,_0x416b10;config[_0x31a22e(0x2ed)][_0x31a22e(0x1c7)](_0x26847f=>{const _0x3f74c2=_0x31a22e;let _0xb641a9=_0x26847f['changes']['find'](_0x30ef62=>_0x30ef62[_0x3f74c2(0x23a)]==_0x2ea509[_0x3f74c2(0x23a)]);if(_0xb641a9){_0x327801+=_0xb641a9[_0x3f74c2(0x217)];if(!_0x416b10)_0x416b10=_0xb641a9[_0x3f74c2(0x2c2)];}}),_0x4defb5[_0x31a22e(0x1b3)]({'coin':_0x2ea509[_0x31a22e(0x23a)],'number':_0x327801,'initialprice':_0x416b10});});const _0x21ad76={'basecoin':_0x104672,'eur':_0x4bfce4,'usd':_0x580200,'coins':_0x4defb5};if(_0x3cc95e)proxyEmit(_0x93403c(0x2ae),_0x21ad76);startingBalances=_0x21ad76;}}function headlessMode(_0x26091b){const _0x3e2216=_0x1bc512;let _0x25c6ec=_0x26091b[_0x3e2216(0x26f)],_0x228233=_0x26091b[_0x3e2216(0x1ca)],_0x57aa7d=[];for(let _0x98ed3d of _0x25c6ec){if(_0x98ed3d['coin']!=config[_0x3e2216(0x289)]){if(_0x98ed3d[_0x3e2216(0x273)]>=_0x228233/0x64){if(_0x98ed3d['valid'])_0x57aa7d['push'](_0x98ed3d);}else{if(_0x98ed3d[_0x3e2216(0x273)]<=-_0x228233/0x64){if(_0x98ed3d[_0x3e2216(0x1de)])_0x57aa7d['push'](_0x98ed3d);}}}}_0x57aa7d[_0x3e2216(0x1a7)]>0x0&&placeOrder(_0x57aa7d);}function notifyBalance(_0x17323d){const _0x44ba99=_0x1bc512;let _0x264674=_0x17323d[_0x44ba99(0x26f)],_0x198d3c=_0x17323d['threshold'],_0x2a376c=[];for(let _0x25178a of _0x264674){if(_0x25178a[_0x44ba99(0x23a)]!=config[_0x44ba99(0x289)]){if(_0x25178a['delta']>=_0x198d3c/0x64){if(_0x25178a['valid'])_0x2a376c[_0x44ba99(0x1b3)](_0x25178a);}else{if(_0x25178a['delta']<=-_0x198d3c/0x64){if(_0x25178a[_0x44ba99(0x1de)])_0x2a376c[_0x44ba99(0x1b3)](_0x25178a);}}}}if(_0x2a376c[_0x44ba99(0x1a7)]>0x0){let _0x4ab3b7=_0x2a376c[_0x44ba99(0x21e)](_0x43a37c=>_0x43a37c[_0x44ba99(0x23a)]);_0x4ab3b7[_0x44ba99(0x2b3)]();let _0x3947d4=_0x4ab3b7[_0x44ba99(0x2bf)](',\x20');if(!lastCoinsToBalance)logHistory(_0x44ba99(0x1e2),_0x44ba99(0x1c0));lastCoinsToBalance=_0x3947d4;}}function symbolToCoin(_0x3566bc){const _0x18abda=_0x1bc512;let _0x3b5ac0;if(_0x3566bc[_0x18abda(0x1af)]('/'+config[_0x18abda(0x289)]))_0x3b5ac0=_0x3566bc[_0x18abda(0x255)]('/'+config[_0x18abda(0x289)],'');if(_0x3566bc['includes'](config['basecoin']+'/'))_0x3b5ac0=_0x3566bc[_0x18abda(0x255)](config[_0x18abda(0x289)]+'/','');return _0x3b5ac0;}async function unlockOrders(){const _0x166c6e=_0x1bc512;if(allOrdersPlaced&&lockOrders==ORDERS[_0x166c6e(0x261)]){logger[_0x166c6e(0x2ee)](_0x166c6e(0x2dc)),lockOrders=ORDERS[_0x166c6e(0x2dd)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x166c6e(0x270),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x166c6e(0x2ee)](_0x166c6e(0x1ce));}}async function validateOrders(_0x5394de){const _0x265dbc=_0x1bc512;if(_0x5394de)validateOrdersState=_0x5394de;logger[_0x265dbc(0x2ee)](_0x265dbc(0x2aa)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x265dbc(0x2f6):lockOrders==0x2?_0x265dbc(0x249):'ORDERS.UNLOCKED'));let _0x4d66a7=[],_0xc2c4ad=config[_0x265dbc(0x221)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x265dbc(0x261)])return;logger[_0x265dbc(0x2ee)](_0x265dbc(0x1c9)+validateOrdersState),lastOrders[_0x265dbc(0x1c7)](_0x1dd5da=>{const _0x11e99f=_0x265dbc;let _0x553822=![];_0x1dd5da['filled']>0x0&&(_0x553822=!![]),_0x4d66a7[_0x11e99f(0x1b3)](_0x553822),_0x553822&&config[_0x11e99f(0x221)]!='market'&&logHistory('order','Order\x20filled:\x20'+_0x1dd5da[_0x11e99f(0x228)]+'\x20'+_0x1dd5da[_0x11e99f(0x1fa)]+'\x20#'+formatResult(_0x1dd5da[_0x11e99f(0x25d)],0x8)+'\x20@'+formatResult(_0x1dd5da[_0x11e99f(0x2c2)],0x8));}),_0x4d66a7['forEach']((_0x5b55ba,_0x10d973)=>{const _0xd2c897=_0x265dbc;if(_0x5b55ba)lastOrders[_0xd2c897(0x2d8)](_0x10d973,0x1);}),persistOpenOrders(lastOrders);const _0x34886a=coolingDown?_0x265dbc(0x2ad):'balancing\x20resumed';if(validateOrdersState==_0x265dbc(0x270))validateOrdersState=_0x265dbc(0x212),_0x4d66a7[_0x265dbc(0x1af)](![])?config[_0x265dbc(0x221)]=='market'?logHistory('warning',_0x265dbc(0x267)):logHistory(_0x265dbc(0x1e2),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState==_0x265dbc(0x212)){if(_0x4d66a7[_0x265dbc(0x1af)](![])){}else allOrdersPlaced&&(config[_0x265dbc(0x221)]=='market'?logHistory('success',_0x265dbc(0x280)+_0x34886a):logHistory(_0x265dbc(0x266),_0x265dbc(0x285)+_0x34886a),await unlockOrders());}else{if(validateOrdersState==_0x265dbc(0x239))_0x4d66a7[_0x265dbc(0x1af)](![])&&(config['ordertype']==_0x265dbc(0x29c)?logHistory('success',_0x265dbc(0x20c)+Math['round'](_0xc2c4ad*validateOrderInterval/0xea60)+_0x265dbc(0x1b5)+_0x34886a):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x265dbc(0x215)](_0xc2c4ad*validateOrderInterval/0xea60)+_0x265dbc(0x1b5)+_0x34886a))),await unlockOrders();else{if(validateOrdersState==_0x265dbc(0x204)){if(config[_0x265dbc(0x221)]!=_0x265dbc(0x29c))logHistory(_0x265dbc(0x266),_0x265dbc(0x2d6)+_0x34886a);await unlockOrders();}}}}}async function cancelOrders(){const _0x91a3f8=_0x1bc512;lastOrders[_0x91a3f8(0x1c7)](async _0x3e0f4e=>{const _0x4bacab=_0x91a3f8;try{const _0x1f1989=await exchange[_0x4bacab(0x2d0)](_0x3e0f4e['orderId'],_0x3e0f4e['symbol']);}catch(_0x17bb13){if(_0x17bb13[_0x4bacab(0x1a2)]()[_0x4bacab(0x1af)](_0x4bacab(0x1c6))){}else await handleError(_0x17bb13,_0x4bacab(0x22d));}});}async function initCoinResults(){const _0x3448bd=_0x1bc512;let _0x5baa9a=[];config[_0x3448bd(0x26f)][_0x3448bd(0x1c7)](_0x54c146=>{const _0x16e0ff=_0x3448bd;if(!_0x54c146[_0x16e0ff(0x1a5)]&&_0x54c146['coin']!=config[_0x16e0ff(0x289)]){let _0x2021f1=dbCoinResults['get'](_0x16e0ff(0x2e4))[_0x16e0ff(0x23e)]({'coin':_0x54c146[_0x16e0ff(0x23a)]})[_0x16e0ff(0x1c5)]();if(!_0x2021f1){const _0x440a89=currentCoins['find'](_0x5a9202=>_0x5a9202[_0x16e0ff(0x23a)]==_0x54c146[_0x16e0ff(0x23a)]),_0x2a2d79=global[_0x16e0ff(0x29e)][noslash(_0x54c146[_0x16e0ff(0x228)])];let _0x58f4ed=_0x440a89?_0x440a89[_0x16e0ff(0x217)]:null,_0x4441d3=_0x54c146[_0x16e0ff(0x1c1)]?0x1/_0x2a2d79:_0x2a2d79,_0x503eba;config['liquidity'][_0x16e0ff(0x1c7)](_0x4e4a03=>{const _0x254d93=_0x16e0ff;!_0x503eba&&(_0x503eba=_0x4e4a03['changes'][_0x254d93(0x23e)](_0x2317d7=>_0x2317d7['coin']==_0x54c146[_0x254d93(0x23a)]),_0x503eba&&(_0x58f4ed=_0x503eba['number'],_0x4441d3=_0x503eba[_0x254d93(0x2c2)]));}),_0x5baa9a['push']({'coin':_0x54c146[_0x16e0ff(0x23a)],'number':_0x58f4ed,'price':_0x4441d3});}}}),_0x5baa9a[_0x3448bd(0x1c7)](_0x13925a=>{const _0x42b9c6=_0x3448bd,_0x262f07={'coin':_0x13925a['coin'],'number':_0x13925a[_0x42b9c6(0x217)],'breakeven':_0x13925a[_0x42b9c6(0x2c2)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x42b9c6(0x2cd)](_0x42b9c6(0x2e4))[_0x42b9c6(0x1b3)](_0x262f07)['write']();});}async function updateCoinResults(_0x7257a5,_0x5aa5f3=![]){const _0x2a69c9=_0x1bc512;let _0x51d233,_0x5f177a,_0x512036,_0x24ce17,_0xdacab2,_0x5f201c,_0x5e02d2=dbCoinResults[_0x2a69c9(0x2cd)]('coins')[_0x2a69c9(0x23e)]({'coin':_0x7257a5[_0x2a69c9(0x23a)]})[_0x2a69c9(0x1c5)]();!_0x5e02d2&&await initCoinResults();_0x7257a5['reverse']&&(_0x5f201c={'filled':_0x7257a5[_0x2a69c9(0x25d)]*_0x7257a5[_0x2a69c9(0x2c2)],'amount':_0x7257a5[_0x2a69c9(0x25d)]*_0x7257a5['price'],'side':_0x7257a5[_0x2a69c9(0x1fa)]==_0x2a69c9(0x2c4)?_0x2a69c9(0x1ed):_0x2a69c9(0x2c4),'price':0x1/_0x7257a5[_0x2a69c9(0x2c2)]},_0x7257a5={..._0x7257a5,..._0x5f201c});_0x5aa5f3?_0x5f177a=_0x7257a5[_0x2a69c9(0x1fa)]==_0x2a69c9(0x1ed)?_0x5e02d2[_0x2a69c9(0x217)]+_0x7257a5['filled']:_0x5e02d2[_0x2a69c9(0x217)]-_0x7257a5[_0x2a69c9(0x25d)]:_0x5f177a=await getCoinNumber(_0x7257a5[_0x2a69c9(0x23a)]);if(_0x7257a5['fee']&&_0x7257a5[_0x2a69c9(0x2a0)][_0x2a69c9(0x2a5)]==config[_0x2a69c9(0x289)])_0x51d233=_0x7257a5[_0x2a69c9(0x2a0)]['cost'];else{if(_0x7257a5[_0x2a69c9(0x2a0)]&&_0x7257a5[_0x2a69c9(0x2a0)][_0x2a69c9(0x2a5)]=='BNB'&&!_0x5aa5f3)_0x51d233=_0x7257a5[_0x2a69c9(0x2a0)][_0x2a69c9(0x2ba)]*global[_0x2a69c9(0x29e)]['BNB'+config[_0x2a69c9(0x289)]];else _0x51d233=defaultFee*_0x7257a5[_0x2a69c9(0x25d)]*_0x7257a5[_0x2a69c9(0x2c2)];}_0x7257a5[_0x2a69c9(0x1fa)]=='buy'?(_0x512036=_0x5f177a!=0x0?(_0x5e02d2[_0x2a69c9(0x293)]*_0x5e02d2['number']+_0x7257a5[_0x2a69c9(0x2c2)]*(_0x5f177a-_0x5e02d2[_0x2a69c9(0x217)])+_0x51d233)/_0x5f177a:0x0,_0x24ce17=_0x5e02d2[_0x2a69c9(0x232)]):(_0x512036=_0x5f177a!=0x0?(_0x5e02d2[_0x2a69c9(0x293)]*_0x5e02d2[_0x2a69c9(0x217)]-_0x7257a5['price']*(_0x5e02d2[_0x2a69c9(0x217)]-_0x5f177a)+_0x51d233)/_0x5f177a:0x0,_0x24ce17=_0x5e02d2[_0x2a69c9(0x232)]+(_0x7257a5['price']-_0x5e02d2[_0x2a69c9(0x293)])*_0x7257a5['filled']);_0xdacab2=(_0x7257a5['price']-_0x512036-_0x51d233/_0x7257a5['filled'])*_0x5f177a;let _0x16d0db={'coin':_0x7257a5[_0x2a69c9(0x23a)],'number':_0x5f177a,'breakeven':formatResult(_0x512036,0x8),'realized':formatResult(_0x24ce17,0x8),'unrealized':formatResult(_0xdacab2,0x8),'fees':formatResult(_0x5e02d2[_0x2a69c9(0x234)]+_0x51d233,0x8),'sells':_0x7257a5[_0x2a69c9(0x1fa)]==_0x2a69c9(0x2c4)?_0x5e02d2[_0x2a69c9(0x1ad)]+0x1:_0x5e02d2[_0x2a69c9(0x1ad)],'buys':_0x7257a5[_0x2a69c9(0x1fa)]==_0x2a69c9(0x1ed)?_0x5e02d2[_0x2a69c9(0x257)]+0x1:_0x5e02d2[_0x2a69c9(0x257)]};dbCoinResults[_0x2a69c9(0x2cd)]('coins')[_0x2a69c9(0x23e)]({'coin':_0x7257a5['coin']})[_0x2a69c9(0x210)](_0x16d0db)['write']();if(!_0x5aa5f3){if(_0x7257a5[_0x2a69c9(0x2a0)]&&_0x7257a5[_0x2a69c9(0x2a0)][_0x2a69c9(0x2a5)]==_0x2a69c9(0x1c4)){const _0x5001a5=currentCoins['find'](_0x5edb5b=>_0x5edb5b[_0x2a69c9(0x23a)]==_0x2a69c9(0x1c4));if(_0x5001a5){let _0x2fecd0=dbCoinResults[_0x2a69c9(0x2cd)]('coins')['find']({'coin':_0x2a69c9(0x1c4)})[_0x2a69c9(0x1c5)]();_0x16d0db={..._0x2fecd0,'number':_0x5001a5['number']},dbCoinResults[_0x2a69c9(0x2cd)]('coins')[_0x2a69c9(0x23e)]({'coin':'BNB'})[_0x2a69c9(0x210)](_0x16d0db)[_0x2a69c9(0x28a)]();}}}}async function placeOrder(_0x30e84f){const _0x444700=_0x1bc512,_0x5170d3=config[_0x444700(0x221)]==_0x444700(0x29c)?'market':_0x444700(0x240);if(lockOrders==ORDERS[_0x444700(0x243)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x444700(0x261)],allOrdersPlaced=![],validateOrdersState=_0x444700(0x270),lastOrders=[];for(const _0x49452d of _0x30e84f){let _0x42c21c,_0x56ec82,_0x1da7fe,_0x2fd52a,_0x274924,_0x5bf730=_0x49452d[_0x444700(0x228)];try{const _0x3f768e=await exchange['fetchTicker'](_0x5bf730);_0x42c21c=_0x49452d[_0x444700(0x1c1)]?0x1/_0x49452d[_0x444700(0x237)]:_0x49452d['last'],_0x56ec82=_0x3f768e[_0x444700(0x2a6)],_0x1da7fe=_0x3f768e['ask'];_0x49452d['reverse']?(_0x2fd52a=_0x49452d[_0x444700(0x1fa)]==_0x444700(0x1ed)?_0x444700(0x2c4):_0x444700(0x1ed),_0x274924=Math[_0x444700(0x20b)](_0x49452d[_0x444700(0x1ab)])/_0x42c21c):(_0x2fd52a=_0x49452d[_0x444700(0x1fa)],_0x274924=Math['abs'](_0x49452d[_0x444700(0x1ab)]));_0x5170d3==_0x444700(0x240)&&(config[_0x444700(0x221)]==_0x444700(0x24d)&&(_0x42c21c=_0x2fd52a==_0x444700(0x1ed)?_0x56ec82:_0x1da7fe),config[_0x444700(0x221)]==_0x444700(0x219)&&(_0x42c21c=_0x2fd52a==_0x444700(0x1ed)?_0x1da7fe:_0x56ec82));_0x274924=formatResult(_0x274924,0x8),_0x42c21c=formatResult(_0x42c21c,0x8);const _0xa912c0=_0x2fd52a==_0x444700(0x2c4)?config[_0x444700(0x2d2)]?String[_0x444700(0x2cf)]('0x'+config[_0x444700(0x2d2)])+'\x20':'':config[_0x444700(0x2e5)]?String[_0x444700(0x2cf)]('0x'+config[_0x444700(0x2e5)])+'\x20':'',_0x558d18=_0x5170d3==_0x444700(0x29c)?_0x444700(0x2ac):config[_0x444700(0x221)]==_0x444700(0x24d)?_0x444700(0x292):_0x444700(0x275),_0x3cc934=new Date()[_0x444700(0x1cb)]()[_0x444700(0x1a2)]()['slice'](-0x6)+'-'+Math['random']()['toString']()['slice'](-0x6);lastOrders[_0x444700(0x1b3)]({'customId':_0x3cc934,'symbol':_0x5bf730,'coin':_0x49452d[_0x444700(0x23a)],'side':_0x2fd52a,'reverse':_0x49452d[_0x444700(0x1c1)],'filled':0x0});if(_0x5170d3==_0x444700(0x29c))logHistory('order',''+_0xa912c0+_0x558d18+_0x444700(0x27f)+_0x5bf730+'\x20'+_0x2fd52a+'\x20#'+formatResult(_0x274924,0x8)+'\x20@'+formatResult(_0x42c21c,0x8));else logHistory(_0x444700(0x1ff),''+_0xa912c0+_0x558d18+_0x444700(0x27f)+_0x5bf730+'\x20'+_0x2fd52a+'\x20#'+formatResult(_0x274924,0x8)+'\x20@'+formatResult(_0x42c21c,0x8));const _0x557187=await exchange[_0x444700(0x2e9)](_0x5bf730,_0x5170d3,_0x2fd52a,_0x274924,_0x42c21c,{'clientOrderId':_0x3cc934}),_0x3a715d=lastOrders[_0x444700(0x1a7)]-0x1;_0x3a715d>=0x0&&lastOrders[_0x3a715d]['customId']==_0x3cc934&&(lastOrders[_0x3a715d]={...lastOrders[_0x3a715d],'orderId':_0x557187['id'],'amount':_0x557187['amount'],'price':_0x557187['price'],'fee':_0x557187[_0x444700(0x2a0)]});if(config['cooldown']!=0x0){let _0x37a900=null;if(cooldownTracker['length']==config[_0x444700(0x252)]-0x1)_0x37a900=cooldownTracker[_0x444700(0x1e0)]();const _0x4bbc86=getTimeStamp();cooldownTracker[_0x444700(0x1b3)](_0x4bbc86);if(_0x37a900){const _0x29248f=fns[_0x444700(0x29a)](new Date(_0x4bbc86),new Date(_0x37a900));if(_0x29248f<cooldownInterval){logHistory(_0x444700(0x205),'Executed\x20'+config[_0x444700(0x252)]+_0x444700(0x2f2)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x444700(0x201)),coolingDown=!![];break;}}}}catch(_0x52db71){if(_0x52db71[_0x444700(0x1a2)]()[_0x444700(0x1af)](_0x444700(0x2f3)))lastOrders=lastOrders[_0x444700(0x1d1)](_0x110a54=>_0x110a54[_0x444700(0x228)]!=_0x5bf730),logHistory('error',_0x444700(0x24b)+_0x5bf730);else _0x52db71[_0x444700(0x1a2)]()[_0x444700(0x1af)]('Invalid\x20quantity')?(lastOrders=lastOrders['filter'](_0x47b05d=>_0x47b05d[_0x444700(0x228)]!=_0x5bf730),logHistory(_0x444700(0x205),_0x444700(0x21a)+_0x5bf730)):(lastOrders=lastOrders[_0x444700(0x1d1)](_0x3ea591=>_0x3ea591[_0x444700(0x228)]!=_0x5bf730),await handleError(_0x52db71,_0x444700(0x1d2),_0x5bf730));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x444700(0x1a7)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x50b46a=config['ordertype']==_0x444700(0x29c)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x50b46a);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x444700(0x266),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x444700(0x230)]&&logHistory('error',_0x444700(0x281));else lockOrders!=ORDERS[_0x444700(0x243)]&&(!config['headless']&&(config['ordertype']==_0x444700(0x29c)?logHistory(_0x444700(0x205),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error',_0x444700(0x23b))));}}function persistOpenOrders(_0x50d1e9){const _0xf43642=_0x1bc512,_0x1098bd={...config,'openOrders':_0x50d1e9};let _0xc3dce0=dbConfig['get'](_0xf43642(0x250))[_0xf43642(0x23e)]({'botID':botID})[_0xf43642(0x1c5)]();_0xc3dce0&&dbConfig[_0xf43642(0x2cd)](_0xf43642(0x250))[_0xf43642(0x23e)]({'botID':botID})[_0xf43642(0x210)](_0x1098bd)['write']();}function restoreOrders(){const _0x27937e=_0x1bc512;let _0x395222;config[_0x27937e(0x21c)]&&allOpenOrders[_0x27937e(0x1c7)](_0x24df6a=>{const _0x374f5d=_0x27937e,_0x2d27fd=config[_0x374f5d(0x21c)]['find'](_0x2073a1=>_0x2073a1[_0x374f5d(0x2f1)]==_0x24df6a['id']);_0x2d27fd&&(lastOrders['push'](_0x2d27fd),_0x395222=_0x24df6a[_0x374f5d(0x2a4)]);});if(lastOrders[_0x27937e(0x1a7)]>0x0){lockOrders=ORDERS[_0x27937e(0x261)],validateOrdersState=_0x27937e(0x212),allOrdersPlaced=!![];const _0x3090f6=new Date()[_0x27937e(0x1cb)](),_0x451223=config['ordertype']==_0x27937e(0x29c)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x395222+_0x451223>_0x3090f6){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x433c45=_0x27937e;validateOrders(_0x433c45(0x239));},_0x395222+_0x451223-_0x3090f6);}else validateOrders(_0x27937e(0x239));}}async function sendPortfolioTelegram(){const _0x3c2077=_0x1bc512;if(!coinsLoaded){process[_0x3c2077(0x235)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x2a6525=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x296fdd=[_0x3c2077(0x25c),_0x3c2077(0x1bb),_0x3c2077(0x2c7),_0x3c2077(0x1b1)],_0x422a1c=_0x296fdd[_0x3c2077(0x1af)](config['basecoin'])?0x2:0x8;let _0x2d2bce='';if(config[_0x3c2077(0x274)])_0x2d2bce=_0x3c2077(0x2de)+config[_0x3c2077(0x1e5)]+_0x3c2077(0x299);else _0x2d2bce=_0x3c2077(0x2c0)+botID+_0x3c2077(0x299);const _0x448e64=getKPIs('basecoin'),_0x1672c5=getKPIs(_0x3c2077(0x29b));_0x2d2bce+='<pre>',_0x2d2bce+=_0x448e64[_0x3c2077(0x1c2)]+_0x3c2077(0x1aa)+_0x448e64['value']+'\x20\x0a',_0x2d2bce+=_0x448e64[_0x3c2077(0x29d)]+':\x20'+_0x448e64[_0x3c2077(0x28c)]+'%\x20\x0a',_0x2d2bce+=_0x1672c5[_0x3c2077(0x1c2)]+':\x20'+_0x1672c5[_0x3c2077(0x1c5)]+'\x20'+config['basecoin']+'\x0a',_0x2d2bce+=_0x1672c5[_0x3c2077(0x29d)]+':\x20'+_0x1672c5[_0x3c2077(0x28c)]+_0x3c2077(0x260),_0x2d2bce+='\x0a',_0x2d2bce+=_0x3c2077(0x25b),_0x2d2bce+=_0x3c2077(0x1e6),_0x2d2bce+=_0x3c2077(0x25b),currentCoins[_0x3c2077(0x1c7)](_0x1546c1=>{const _0x1cd750=_0x3c2077;_0x2d2bce+=_0x1546c1['coin'][_0x1cd750(0x284)](0x7)+'|\x20'+formatPad(_0x1546c1['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x1546c1[_0x1cd750(0x290)],0x2,0x6)+'|\x20'+formatPad(_0x1546c1['delta']*0x64,0x2,0x6)+'\x0a';}),_0x2d2bce+=_0x3c2077(0x283),process[_0x3c2077(0x235)]({'telegrammsg':_0x2d2bce},_0x26cf40=>{});}function formatPad(_0x183697,_0xc11bf1,_0x146322){const _0x11995a=_0x1bc512,_0x5af49c=formatResultString(_0x183697,_0xc11bf1);return _0x5af49c?_0x5af49c[_0x11995a(0x2e3)](_0x146322):''[_0x11995a(0x2e3)](_0x146322);}function logHistory(_0x4fd428,_0x106f8e,_0x7354a6=''){const _0x4b31f0=_0x1bc512;let _0x4039f3={'time':getTimeStamp(),'type':_0x4fd428,'event':_0x106f8e};dbLogs[_0x4b31f0(0x2cd)](_0x4b31f0(0x1f7))[_0x4b31f0(0x1b3)](_0x4039f3)[_0x4b31f0(0x28a)]();if(_0x7354a6=='')_0x7354a6=_0x106f8e;proxyEmit(_0x4b31f0(0x2f5),{'log':_0x4039f3,'summary':_0x7354a6}),process[_0x4b31f0(0x235)]({'telegram':{..._0x4039f3,'botname':config['botname'],'showname':config[_0x4b31f0(0x274)]}},_0x16a46f=>{}),logger['full'](''+_0x4039f3[_0x4b31f0(0x2f5)]);}function emitHistory(_0x1ed0a0={}){const _0x3afd25=_0x1bc512;Object[_0x3afd25(0x1fb)](_0x1ed0a0)[_0x3afd25(0x1a7)]==0x0&&(_0x1ed0a0={'type':[_0x3afd25(0x1ff),_0x3afd25(0x2f5)],'event':'','page':0x1});if(_0x1ed0a0[_0x3afd25(0x248)][_0x3afd25(0x1af)](_0x3afd25(0x2f5)))_0x1ed0a0[_0x3afd25(0x248)][_0x3afd25(0x2d8)](_0x1ed0a0[_0x3afd25(0x248)][_0x3afd25(0x27e)]('event'),0x1,_0x3afd25(0x205),_0x3afd25(0x266));if(dbLogs['has'](_0x3afd25(0x1f7))[_0x3afd25(0x1c5)]()){let _0x331dca=dbLogs[_0x3afd25(0x2cd)](_0x3afd25(0x1f7))[_0x3afd25(0x1d1)](_0x27accd=>{const _0x2ed889=_0x3afd25;if(_0x1ed0a0[_0x2ed889(0x248)][_0x2ed889(0x1a7)]==0x0)return![];else return _0x1ed0a0[_0x2ed889(0x248)][_0x2ed889(0x1af)](_0x27accd[_0x2ed889(0x248)]);})[_0x3afd25(0x1d1)](_0x1b612f=>{const _0x23a4e9=_0x3afd25;if(_0x1ed0a0[_0x23a4e9(0x2f5)]=='')return!![];else return _0x1b612f[_0x23a4e9(0x2f5)]['toLowerCase']()[_0x23a4e9(0x1af)](_0x1ed0a0[_0x23a4e9(0x2f5)][_0x23a4e9(0x2a3)]());})['sortBy']('time'),_0x2f321e=_0x331dca[_0x3afd25(0x1c5)]()[_0x3afd25(0x1a7)];_0x331dca=_0x331dca['reverse']()['slice']((_0x1ed0a0[_0x3afd25(0x2b9)]-0x1)*logPageSize,_0x1ed0a0[_0x3afd25(0x2b9)]*logPageSize-0x1)[_0x3afd25(0x1c1)]()['value'](),proxyEmit('event-history',{'logs':_0x331dca,'total':_0x2f321e});}else proxyEmit(_0x3afd25(0x226),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x3df48f){const _0x5988a9=_0x1bc512;if(dbLogs[_0x5988a9(0x2ef)]('logs')[_0x5988a9(0x1c5)]()){const _0xe833af=dbLogs[_0x5988a9(0x2cd)](_0x5988a9(0x1f7))[_0x5988a9(0x2d4)](_0x5988a9(0x22e))[_0x5988a9(0x1d1)](_0x599928=>{return _0x599928['type']=='order';})[_0x5988a9(0x1c5)]();dbLogs[_0x5988a9(0x2cd)](_0x5988a9(0x1f7))[_0x5988a9(0x2be)]()['write'](),dbLogs['get'](_0x5988a9(0x1f7))[_0x5988a9(0x210)](_0xe833af)[_0x5988a9(0x28a)](),emitHistory(_0x3df48f);}}async function pauseBot(_0x311bbb=''){const _0x350698=_0x1bc512,_0x39203c=new Date()[_0x350698(0x1cb)]();if(!lastErrorShown||_0x39203c-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x39203c;!lastBotPause?(lastBotPause=_0x39203c,consecutivePauses=0x1):(_0x39203c-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x575278=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x350698(0x1cb)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x311bbb)_0x311bbb+=_0x350698(0x2a7);logHistory(_0x350698(0x205),_0x311bbb+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x350698(0x2a2)),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){const _0x714e6c=_0x1bc512;process['send']({'stop':_0x714e6c(0x23d)},_0x584c2c=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x177f25,_0x180214){const _0x5dba11=_0x1bc512;if(_0x177f25[_0x5dba11(0x1a2)]()['includes']('API-key\x20format\x20invalid'))return logHistory(_0x5dba11(0x205),config[_0x5dba11(0x222)]+_0x5dba11(0x1da)),![];else{if(_0x177f25[_0x5dba11(0x1a2)]()[_0x5dba11(0x1af)](_0x5dba11(0x2b5)))return logHistory('error',config[_0x5dba11(0x222)]+_0x5dba11(0x1d9)),![];else{if(_0x177f25['toString']()[_0x5dba11(0x1af)](_0x5dba11(0x2e1)))return logHistory(_0x5dba11(0x205),config[_0x5dba11(0x222)]+_0x5dba11(0x2df)+config[_0x5dba11(0x222)]),![];else await handleError(_0x177f25,_0x180214);}}}async function handleError(_0x40b76b,_0x136379,_0x35e06c=''){const _0x5590cc=_0x1bc512;if(_0x40b76b[_0x5590cc(0x1a2)]()['includes'](_0x5590cc(0x2f8)))await pauseBot(config[_0x5590cc(0x222)]+'\x20API\x20blocked\x20(DDoS\x20protection)');else{if(_0x40b76b[_0x5590cc(0x1a2)]()[_0x5590cc(0x1af)](_0x5590cc(0x262)))await pauseBot(config[_0x5590cc(0x222)]+_0x5590cc(0x202));else{if(_0x40b76b[_0x5590cc(0x1a2)]()[_0x5590cc(0x1af)]('RequestTimeout'))await pauseBot(config[_0x5590cc(0x222)]+_0x5590cc(0x28b));else{if(_0x40b76b[_0x5590cc(0x1a2)]()[_0x5590cc(0x1af)](_0x5590cc(0x247)))logHistory(_0x5590cc(0x205),_0x136379+_0x5590cc(0x1d7)),logHistory(_0x5590cc(0x205),_0x5590cc(0x2db)),await killBot();else{if(_0x40b76b['toString']()[_0x5590cc(0x1af)]('InvalidNonce'))logHistory(_0x5590cc(0x205),_0x136379+_0x5590cc(0x2d7)),logHistory(_0x5590cc(0x205),_0x5590cc(0x2db)),await killBot();else{if(_0x40b76b[_0x5590cc(0x1a2)]()[_0x5590cc(0x1af)](_0x5590cc(0x21b)))logHistory('error',_0x136379+_0x5590cc(0x2a7)+config[_0x5590cc(0x222)]+'\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x5590cc(0x2db)),await killBot();else{if(_0x40b76b['toString']()[_0x5590cc(0x1af)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5590cc(0x205),_0x136379+_0x5590cc(0x2a7)+config[_0x5590cc(0x222)]+_0x5590cc(0x1d9)),logHistory(_0x5590cc(0x205),_0x5590cc(0x2db)),await killBot();else{if(_0x40b76b['toString']()[_0x5590cc(0x1af)](_0x5590cc(0x2e1)))logHistory(_0x5590cc(0x205),_0x136379+_0x5590cc(0x2a7)+config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20'+config[_0x5590cc(0x222)]),logHistory(_0x5590cc(0x205),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0x40b76b[_0x5590cc(0x1a2)]()['includes']('InsufficientFunds')?logHistory(_0x5590cc(0x205),_0x136379+_0x5590cc(0x2f0)+_0x35e06c):(logger['full'](_0x136379+_0x5590cc(0x216),_0x40b76b),await pauseBot(_0x5590cc(0x27a)));}}}}}}}}function _0x175d(){const _0x7ef8c4=['enabled','filter','placeOrder()','18TJYSnj','watchOrders','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','usd','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','\x20API\x20secret\x20is\x20invalid','\x20API\x20key\x20is\x20invalid','576uFOLLh','bb-secure.json','2034lGRvMf','valid','ETH','shift','max','warning','min','configuration','botname','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','getCoins()','data','HOT/BTC','writeFile','fetchOpenOrders','eur','buy','startprice','Crypt','./logs/','fetchTickers','net-fiat','toggleBotMode','-events.json','recreateCoinResults()','search','logs','exchanges','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','side','keys','performance',':\x20Bot\x20','log','order','2.5.0','\x20hour','\x20not\x20available','message','no\x20open\x20orders','error','recovery','full','/output-000.log','mkdirSync','date','abs','Order(s)\x20not\x20validated\x20after\x20','running','getHours','getCoinNumber()','assign','sha256','ongoing','parseISO','2\x20-\x20FILLED\x20unknown\x20order:\x20','round','\x20|\x20Error\x20details:\x20','number','Net\x20effect\x20(','limit-low','Order\x20amount\x20is\x20invalid:\x20','API-key\x20format\x20invalid','openOrders','startnumber','map','configuration-stored','pro','ordertype','exchange','stringify','-config.json','./config/','event-history','parse','symbol','timer:','getMinutes','685671AmbDzd','3\x20-\x20handling\x20FILLED\x20order:\x20','cancelOrders()','time','(((.+)+)+)+$','headless','getPortfolio()','realized','average','fees','send','fetchTicker','last','001','final','coin','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','\x20exchange','kill','find','\x20>\x20[DEBUG]\x20','limit','yyyy-MM-dd\x27T\x27HH:mm:ss','close','UNLOCKED','cloneDeep','bot-','timeout','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','type','ORDERS.UNLOCKING','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','watchTrades','limit-high','slice','uncaughtException','bot','amount','cooldown','showConfig','getDate','replace','Net\x20','buys','format','apply','-performance.json','-------------------------------\x0a','EUR','filled','concat','2\x20-\x20FILLED\x20known\x20order:\x20','%\x20\x0a','LOCKED','ExchangeNotAvailable','140665kjpcwf','7344WqEGXs','cancel','success','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','Initiating\x20exchange\x20reload','************','progress','restart','BNB/','botID','isEqual','portfolio','initial','datetime','percentage','delta','showname','Limit\x20(low-margin)','storeConfiguration','apiSecret','getPortfolio','Binance','Unknown\x20error\x20occured','/USD','distribution','limits','indexOf','\x20order:\x20','Order(s)\x20validated\x20-\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','toUpperCase','</pre>','padEnd','Order(s)\x20filled\x20-\x20','.json','starting-balance-','string','basecoin','write','\x20not\x20responding','change','decrypt','\x20>\x20','fetchClosedOrders','target','open','Limit\x20(high-margin)','breakeven','ccxt','1\x20-\x20Handle\x20open\x20orders','split','99yuZoWB','customId','\x20portfolio:</b>\x20\x0a\x0a','differenceInSeconds','net-basecoin','market','rightTxt','ticker','0\x20-\x20EXECUTION:\x20','fee','version','\x20minutes','toLowerCase','timestamp','currency','bid','\x20|\x20','orderstatus','date-fns','1\x20-\x20Validate\x20orders:\x20','fetchBalance','Market','balancing\x20resumes\x20when\x20cooldown\x20ends','starting-balances','remainingSymbols','5478vpXrin','yyyy/MM/dd','Net\x20effect','sort','entries','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','changes','set','none','page','cost','\x20has\x20a\x2024h\x20drop\x20of\x20','startdate','2.3.5','remove','join','<b>Bot\x20','settings','price','total','sell','\x20value','Reset\x20|\x20','BUSD','toFixed','clientOrderId','NANO/','milliseconds','defaults','get','function','fromCodePoint','cancelOrder','privateKey','emojisell','canceled','sortBy','simple','No\x20more\x20open\x20orders\x20-\x20','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','splice','2427270ePOFrp','Executing\x20exchange\x20reload','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','1\x20-\x20Unlock\x20orders','UNLOCKING','<b>','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','loading-canceled','AuthenticationError','XEM/BUSD','padStart','coins','emojibuy','getFullYear','constructor','BTC','createOrder','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','1051150bRawZk','***','liquidity','debug','has','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','orderId','\x20orders\x20in\x20less\x20than\x20','MIN_NOTIONAL','deleteHistoryAlerts','event','ORDERS.LOCKED','DAI/','DDoSProtection','change24h','args','timeshift','existsSync','toString','emitHistory','util','excluded','substring','length','loadSymbols()','precision','\x20:\x20','trade','status','sells','getMonth','includes','freeze','USDT','placeOrder','push',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20minutes\x20-\x20','test','getSeconds','apiKey','balances','\x20change','USD','offset','RSA-OAEP','findIndex','createWriteStream','Manual\x20balancing\x20required','reverse','leftTxt','add','BNB','value','OrderNotFound','forEach','1\x20-\x20FILLED:\x20','2\x20-\x20Validate\x20orders:\x20','threshold','getTime','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','2561636RzBxGt','2\x20-\x20Orders\x20unlocked','getOpenOrders()'];_0x175d=function(){return _0x7ef8c4;};return _0x175d();}function formatResult(_0x36a1e3,_0x18359c){const _0x54d43e=_0x1bc512;return parseFloat(_0x36a1e3[_0x54d43e(0x2c8)](_0x18359c));}function formatResultTruncate(_0x241bf9,_0x1b0a4e){let _0x4050e8=formatResultString(_0x241bf9,0xa),_0x1b411c=_0x4050e8['indexOf']('.');return _0x1b411c!=-0x1&&(_0x4050e8=_0x4050e8['slice'](0x0,_0x1b411c+_0x1b0a4e+0x1)),Number(_0x4050e8);}function formatResultString(_0x5be9b8,_0x2d1beb){const _0xe27f38=_0x1bc512;let _0x386ca3;if(!(''+_0x5be9b8)['includes']('e'))_0x386ca3=+(Math[_0xe27f38(0x215)](_0x5be9b8+'e+'+_0x2d1beb)+'e-'+_0x2d1beb);else{let _0x3e46b4=(''+_0x5be9b8)[_0xe27f38(0x296)]('e'),_0x62194d='';+_0x3e46b4[0x1]+_0x2d1beb>0x0&&(_0x62194d='+'),_0x386ca3=+(Math[_0xe27f38(0x215)](+_0x3e46b4[0x0]+'e'+_0x62194d+(+_0x3e46b4[0x1]+_0x2d1beb))+'e-'+_0x2d1beb);}return Number(_0x386ca3)[_0xe27f38(0x2c8)](_0x2d1beb);}function getServerTime(){const _0x4d3078=_0x1bc512,_0x5db230=new Date();return _0x5db230[_0x4d3078(0x2e6)]()+'/'+(_0x5db230[_0x4d3078(0x1ae)]()+0x1)[_0x4d3078(0x1a2)]()[_0x4d3078(0x2e3)](0x2,'0')+'/'+_0x5db230['getDate']()['toString']()['padStart'](0x2,'0')+'\x20'+_0x5db230[_0x4d3078(0x20e)]()['toString']()[_0x4d3078(0x2e3)](0x2,'0')+':'+_0x5db230[_0x4d3078(0x22a)]()['toString']()[_0x4d3078(0x2e3)](0x2,'0')+':'+_0x5db230[_0x4d3078(0x1b7)]()[_0x4d3078(0x1a2)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x22e6c9=_0x1bc512,_0x549903=shiftedTime();return _0x549903[_0x22e6c9(0x2e6)]()+'/'+(_0x549903[_0x22e6c9(0x1ae)]()+0x1)[_0x22e6c9(0x1a2)]()[_0x22e6c9(0x2e3)](0x2,'0')+'/'+_0x549903[_0x22e6c9(0x254)]()[_0x22e6c9(0x1a2)]()[_0x22e6c9(0x2e3)](0x2,'0')+'\x20'+_0x549903[_0x22e6c9(0x20e)]()['toString']()[_0x22e6c9(0x2e3)](0x2,'0')+':'+_0x549903['getMinutes']()['toString']()[_0x22e6c9(0x2e3)](0x2,'0')+':'+_0x549903[_0x22e6c9(0x1b7)]()['toString']()[_0x22e6c9(0x2e3)](0x2,'0');}function getDate(){const _0x27b00c=_0x1bc512,_0x3db30a=shiftedTime();return _0x3db30a[_0x27b00c(0x2e6)]()+'/'+(_0x3db30a[_0x27b00c(0x1ae)]()+0x1)[_0x27b00c(0x1a2)]()[_0x27b00c(0x2e3)](0x2,'0')+'/'+_0x3db30a['getDate']()[_0x27b00c(0x1a2)]()['padStart'](0x2,'0');}function getHour(){const _0x5f205a=_0x1bc512,_0x330f18=shiftedTime();return _0x330f18['getHours']()['toString']()[_0x5f205a(0x2e3)](0x2,'0');}function sleep(_0x590a4a){return new Promise(_0x364070=>setTimeout(_0x364070,_0x590a4a));}function shiftedTime(){const _0x18a3f9=_0x1bc512,_0x3f56cf=new Date();let _0x22b2f8=_0x3f56cf;if(config&&config['timeshift']!==0x0)_0x22b2f8=fns[_0x18a3f9(0x1c3)](_0x3f56cf,{'hours':config[_0x18a3f9(0x2fb)]});return _0x22b2f8;}function _0x2231(_0x25ce20,_0x4f47e9){const _0x31dcd0=_0x175d();return _0x2231=function(_0x3a1d92,_0x1c293e){_0x3a1d92=_0x3a1d92-0x1a1;let _0x175dcb=_0x31dcd0[_0x3a1d92];return _0x175dcb;},_0x2231(_0x25ce20,_0x4f47e9);}function timer(_0x34e37c){const _0x2acf20=_0x1bc512,_0x4ededc=new Date();!lasttime?console[_0x2acf20(0x1fe)](_0x2acf20(0x229),_0x34e37c,_0x4ededc):console[_0x2acf20(0x1fe)](_0x2acf20(0x229),_0x34e37c,(_0x4ededc-lasttime)/0x3e8),lasttime=_0x4ededc;}