const _0x22cecc=_0x5d5f;(function(_0x4777ee,_0x1380e9){const _0xbf9336=_0x5d5f,_0x10942f=_0x4777ee();while(!![]){try{const _0x5d0c56=-parseInt(_0xbf9336(0x19f))/0x1+parseInt(_0xbf9336(0x196))/0x2*(-parseInt(_0xbf9336(0x8f))/0x3)+-parseInt(_0xbf9336(0x1f1))/0x4*(-parseInt(_0xbf9336(0x258))/0x5)+parseInt(_0xbf9336(0x138))/0x6+parseInt(_0xbf9336(0xdd))/0x7+-parseInt(_0xbf9336(0x100))/0x8+parseInt(_0xbf9336(0x1bb))/0x9;if(_0x5d0c56===_0x1380e9)break;else _0x10942f['push'](_0x10942f['shift']());}catch(_0x5b116d){_0x10942f['push'](_0x10942f['shift']());}}}(_0x4eaf,0x9fd9d));const _0x2bf045=function(){let _0x3f8eab=!![];return function(_0x4318ce,_0x32fd5f){const _0x5d4b49=_0x3f8eab?function(){const _0x433368=_0x5d5f;if(_0x32fd5f){const _0x21b429=_0x32fd5f[_0x433368(0xae)](_0x4318ce,arguments);return _0x32fd5f=null,_0x21b429;}}:function(){};return _0x3f8eab=![],_0x5d4b49;};}(),_0x6e7bf9=_0x2bf045(this,function(){const _0x4a01e2=_0x5d5f;return _0x6e7bf9[_0x4a01e2(0x97)]()[_0x4a01e2(0x1fe)](_0x4a01e2(0x260))[_0x4a01e2(0x97)]()[_0x4a01e2(0x1fd)](_0x6e7bf9)[_0x4a01e2(0x1fe)](_0x4a01e2(0x260));});_0x6e7bf9();'use strict';const ccxt=require(_0x22cecc(0xac)),low=require(_0x22cecc(0x1e5)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x22cecc(0xbf)),forge=require(_0x22cecc(0x1a3)),util=require('util'),argv=require('yargs/yargs')(process[_0x22cecc(0x15b)][_0x22cecc(0x12c)](0x2))[_0x22cecc(0x15b)],path=require('path'),axios=require(_0x22cecc(0x120));let exchange,gTicker={},gChange={};const usdBasecoins=['USD',_0x22cecc(0x225),_0x22cecc(0x105),_0x22cecc(0xaa),_0x22cecc(0x154),_0x22cecc(0x25c)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x22cecc(0xa1)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x22cecc(0xbc)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x22cecc(0x228),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x22cecc(0x104))[_0x22cecc(0x11b)],environment=require('./version.json')[_0x22cecc(0x9d)]||_0x22cecc(0x106),botID=process[_0x22cecc(0x15b)][0x2]||_0x22cecc(0x1bf),pattern=/^[0-9]{3}$/;!pattern[_0x22cecc(0x107)](botID)&&(console['log'](_0x22cecc(0x102)+botID+_0x22cecc(0xec)),killBot());const userID=process[_0x22cecc(0x15b)][0x3]||'',configpath=userID?_0x22cecc(0xd5)+userID+'/':'./config/',logspath=userID?_0x22cecc(0x188)+userID+'/':_0x22cecc(0x188),loggerfile=fs[_0x22cecc(0x200)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x22cecc(0x129)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x22cecc(0x129)](logspath)&&fs[_0x22cecc(0x24f)](logspath);const configfile=configpath+_0x22cecc(0x17f)+botID+'-config.json',logfile=configpath+_0x22cecc(0x17f)+botID+_0x22cecc(0x21e),performancefile=configpath+'bot-'+botID+_0x22cecc(0x1fc),coinresultsfile=configpath+_0x22cecc(0x17f)+botID+_0x22cecc(0x1f7),settingsfile=configpath+_0x22cecc(0x151),securefile=configpath+_0x22cecc(0x11f),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x22cecc(0xe6)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x22cecc(0xe6)]({'data':[],'version':serverversion})[_0x22cecc(0x1ee)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x22cecc(0xe6)]({'bot':[],'version':serverversion})[_0x22cecc(0x1ee)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);function _0x5d5f(_0x1f54a0,_0x45b3e2){const _0x280dc7=_0x4eaf();return _0x5d5f=function(_0x6e7bf9,_0x2bf045){_0x6e7bf9=_0x6e7bf9-0x8f;let _0x4eafdf=_0x280dc7[_0x6e7bf9];return _0x4eafdf;},_0x5d5f(_0x1f54a0,_0x45b3e2);}dbCoinResults[_0x22cecc(0xe6)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0xef689=>{const _0x323c18=_0x22cecc;console[_0x323c18(0xdf)](_0xef689);},'simple':_0x310e87=>{const _0x1e09f0=_0x22cecc;console[_0x1e09f0(0xdf)](_0x310e87),loggerfile[_0x1e09f0(0x1ee)](util['format'](_0x310e87)+'\x0a');},'full':async(_0x4d9cba,_0xde8b36='')=>{const _0x2fec6a=_0x22cecc;let _0x18b487;if(config[_0x2fec6a(0x118)])_0x18b487=getTimeStamp()+':\x20'+config['botname']+_0x2fec6a(0x15d)+_0x4d9cba;else _0x18b487=getTimeStamp()+_0x2fec6a(0xe9)+botID+_0x2fec6a(0x15d)+_0x4d9cba;console[_0x2fec6a(0xdf)](_0x18b487),loggerfile[_0x2fec6a(0x1ee)](util[_0x2fec6a(0x21b)](_0x18b487)+'\x0a'),_0xde8b36&&(console[_0x2fec6a(0xdf)](_0xde8b36),loggerfile[_0x2fec6a(0x1ee)](util[_0x2fec6a(0x21b)](_0xde8b36)+'\x0a'));},'debug':async(_0x2bd2a1,_0xdc0882='')=>{const _0x3b2ca9=_0x22cecc;let _0x4c3128;if(config[_0x3b2ca9(0x118)])_0x4c3128=getTimeStamp()+':\x20'+config[_0x3b2ca9(0xa7)]+_0x3b2ca9(0x96)+_0x2bd2a1;else _0x4c3128=getTimeStamp()+_0x3b2ca9(0xe9)+botID+_0x3b2ca9(0x96)+_0x2bd2a1;if(debugging)console[_0x3b2ca9(0xdf)](_0x4c3128);loggerfile[_0x3b2ca9(0x1ee)](util[_0x3b2ca9(0x21b)](_0x4c3128)+'\x0a');if(_0xdc0882){if(debugging)console[_0x3b2ca9(0xdf)](_0xdc0882);loggerfile[_0x3b2ca9(0x1ee)](util['format'](_0xdc0882)+'\x0a');}}};process['on'](_0x22cecc(0x14e),function(_0x153f9d){const _0x1d6a89=_0x22cecc;handleError(_0x153f9d,_0x1d6a89(0x14e));});settings[_0x22cecc(0xbd)]!=config[_0x22cecc(0xbd)]&&updateTimeshift(settings[_0x22cecc(0xbd)]);settings[_0x22cecc(0xeb)]!=config[_0x22cecc(0xeb)]&&updateOnepagemode(settings['onepagemode']);(settings['marketcapApi']&&!config[_0x22cecc(0x12e)]||!settings['marketcapApi']&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x22cecc(0x12e)]);process[_0x22cecc(0x17a)]({'started':_0x22cecc(0x1a0)},_0x502a35=>{}),initializeProcessListeners();function proxyEmit(_0x156c34,_0x4187f9=null){const _0x123d46=_0x22cecc;process[_0x123d46(0x17a)]({'function':_0x156c34,'args':_0x4187f9},_0x9bd314=>{});}function initializeProcessListeners(){const _0x191823=_0x22cecc;process['on'](_0x191823(0x17c),_0x8d8977=>{const _0x57a378=_0x191823;switch(Object[_0x57a378(0x191)](_0x8d8977)[0x0]){case _0x57a378(0xbd):_0x8d8977[_0x57a378(0xbd)]!=undefined&&(settings['timeshift']=_0x8d8977[_0x57a378(0xbd)],updateTimeshift(settings[_0x57a378(0xbd)]));break;case _0x57a378(0xeb):_0x8d8977[_0x57a378(0xeb)]!=undefined&&(settings[_0x57a378(0xeb)]=_0x8d8977[_0x57a378(0xeb)],updateOnepagemode(settings[_0x57a378(0xeb)]));break;case _0x57a378(0x12e):_0x8d8977[_0x57a378(0x12e)]!=undefined&&(settings[_0x57a378(0x12e)]=_0x8d8977['marketcapApi'],updateMarketcapApi(settings[_0x57a378(0x12e)]));break;case _0x57a378(0x116):_0x8d8977[_0x57a378(0x116)]!=undefined&&(bots=JSON[_0x57a378(0x11a)](_0x8d8977[_0x57a378(0x116)]),proxyEmit(_0x57a378(0x116),bots));break;case _0x57a378(0x95):switch(_0x8d8977['function']){case _0x57a378(0x14d):initclient();break;case _0x57a378(0x92):toggleBotMode();break;case _0x57a378(0xf3):emitHistory(_0x8d8977[_0x57a378(0x25d)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x8d8977['args']);break;case _0x57a378(0x25e):getPortfolio(_0x8d8977[_0x57a378(0x25d)]);break;case'storeConfiguration':storeConfiguration(_0x8d8977[_0x57a378(0x25d)]);break;case _0x57a378(0x150):storeHeadless(_0x8d8977[_0x57a378(0x25d)]);break;case _0x57a378(0xb0):storeFiat(_0x8d8977['args']);break;case _0x57a378(0xdc):resetHistory();break;case _0x57a378(0x1ca):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x8d8977[_0x57a378(0x25d)]);break;case _0x57a378(0x109):cancelLoading();break;case _0x57a378(0x20a):showConfig();break;case _0x57a378(0x203):sendMetricsTelegram();break;case _0x57a378(0x22b):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x269949=![]){const _0x2fdd84=_0x22cecc;logger['debug'](_0x2fdd84(0x18b)+(_0x269949?_0x2fdd84(0x161):_0x2fdd84(0x204))+'\x20|\x20exchange:\x20'+config[_0x2fdd84(0x1a4)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x269949)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x2fdd84(0x195)]!=''&&config[_0x2fdd84(0x195)]!=_0x2fdd84(0xc5)){loadingProgress=0x0;_0x269949&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x2fdd84(0x136),emittedConfiguration()),initialPerformanceStored=![]);const _0x52ec80=await getCoins();[currentCoins,currentCoinsAll]=_0x52ec80,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x2fdd84(0x19e)](_0x2fdd84(0x259)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2fdd84(0x1e1)]==0x0&&allOpenOrders[_0x2fdd84(0x1e1)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0xea06de=![]){const _0x2daa2d=_0x22cecc;logger['debug'](_0x2daa2d(0x1c0)+(_0xea06de?'quick':_0x2daa2d(0x13c))+_0x2daa2d(0x245)+config[_0x2daa2d(0x1a4)]);if(pidBalances)clearTimeout(pidBalances);if(_0xea06de){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x2daa2d(0x195)]!=_0x2daa2d(0xc5)){loadingProgress=0x1;const _0x6f6caf=await getCoins();[currentCoins,currentCoinsAll]=_0x6f6caf,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x2daa2d(0x19e)](_0x2daa2d(0x259)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2daa2d(0x1e1)]==0x0&&allOpenOrders[_0x2daa2d(0x1e1)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x4d84ad){const _0x28f981=_0x22cecc;let _0x2cdd5d=![];if(_0x4d84ad)_0x2cdd5d=!![];let _0x197b3;_0x2cdd5d?_0x197b3=_0x4d84ad[_0x28f981(0xf4)](_0x58b1c8=>_0x58b1c8['coin']):_0x197b3=currentCoinsAll['map'](_0x5ba87c=>_0x5ba87c[_0x28f981(0xb5)]);if(!config[_0x28f981(0x12e)]||!_0x2cdd5d&&!config[_0x28f981(0x1ad)]||_0x197b3[_0x28f981(0x1e1)]==0x0)return;let _0xc9bdc8=null;try{_0xc9bdc8=await axios['get'](_0x28f981(0x18c),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x28f981(0x12e)]},'params':{'symbol':_0x197b3[_0x28f981(0x97)]()}});}catch(_0x5c919b){_0xc9bdc8=null,_0x5c919b[_0x28f981(0x97)]()[_0x28f981(0x1eb)](_0x28f981(0x10d))?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x28f981(0x136),emittedConfiguration()),logHistory(_0x28f981(0x1aa),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x28f981(0x1aa),_0x28f981(0xe0)+schedulerInterval/(0x3c*0x3e8)+_0x28f981(0x228)),logger[_0x28f981(0x19e)]('Error\x20details:',_0x5c919b[_0x28f981(0x97)]()+_0x28f981(0x22c)+_0x5c919b[_0x28f981(0x1d4)]));}if(_0xc9bdc8){let _0x2b60f6=0x0;const _0x32024b=_0xc9bdc8[_0x28f981(0x159)];_0x197b3[_0x28f981(0x178)](_0x42d633=>{const _0x22ab6a=_0x28f981;if(_0x32024b['data'][_0x42d633][0x0])_0x2b60f6+=_0x32024b[_0x22ab6a(0x159)][_0x42d633][0x0][_0x22ab6a(0x152)][_0x22ab6a(0x1ef)][_0x22ab6a(0x246)];}),_0x197b3['forEach'](_0x9858dd=>{const _0x56ca40=_0x28f981,_0x584b09=_0x32024b['data'][_0x9858dd][0x0]?_0x32024b[_0x56ca40(0x159)][_0x9858dd][0x0][_0x56ca40(0x152)][_0x56ca40(0x1ef)][_0x56ca40(0x246)]:0x0;if(_0x2cdd5d){const _0x34d361=_0x4d84ad[_0x56ca40(0x137)](_0x21247d=>_0x21247d['coin']==_0x9858dd);_0x34d361&&(_0x34d361[_0x56ca40(0xa3)]=_0x584b09);}else{const _0x95c007=currentCoins[_0x56ca40(0x137)](_0x2b32e9=>_0x2b32e9[_0x56ca40(0xb5)]==_0x9858dd);_0x95c007&&(_0x95c007[_0x56ca40(0xa3)]=_0x584b09);const _0x92002b=currentCoinsAll[_0x56ca40(0x137)](_0x4aab88=>_0x4aab88[_0x56ca40(0xb5)]==_0x9858dd);_0x92002b&&(_0x92002b['marketcap']=_0x584b09);}}),!_0x2cdd5d&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x26b556=_0x22cecc,_0x162b3f=0x2;let _0x3dae01=0x0,_0xff50db=0x0,_0x512f0f=0x0,_0x32d83a=0x0,_0x2900c3=0x0;config['portfolio'][_0x26b556(0x178)](_0x31ddcb=>{const _0x51def4=_0x26b556;if(!_0x31ddcb[_0x51def4(0xd4)]){_0x512f0f++,_0x3dae01+=_0x31ddcb[_0x51def4(0x171)];if(_0x31ddcb[_0x51def4(0x171)]===-0x1){_0x3dae01++;const _0x2469e1=currentCoinsAll[_0x51def4(0x137)](_0x58cfe9=>_0x58cfe9[_0x51def4(0xb5)]==_0x31ddcb[_0x51def4(0xb5)]);_0x2469e1&&(_0x32d83a+=_0x2469e1[_0x51def4(0xa3)],_0x2900c3+=Math[_0x51def4(0xe3)](_0x2469e1[_0x51def4(0xa3)]));}if(_0x31ddcb[_0x51def4(0x171)]!==-0x1)_0xff50db++;}});let _0x387089;const _0x994f23=0x64-_0x3dae01,_0x488e3b=_0x512f0f-_0xff50db;_0x387089=_0x488e3b===0x0?_0x3dae01:Math[_0x26b556(0x25b)](0x64,_0x3dae01),config[_0x26b556(0x11d)][_0x26b556(0x178)](_0x17fc4a=>{const _0x55688e=_0x26b556,_0x1036e8=currentCoinsAll['find'](_0x111382=>_0x111382[_0x55688e(0xb5)]==_0x17fc4a[_0x55688e(0xb5)]);_0x1036e8&&(_0x17fc4a['marketcap']=_0x1036e8[_0x55688e(0xa3)]);if(!_0x17fc4a[_0x55688e(0xd4)]){if(_0x387089<=0x64){if(_0x17fc4a[_0x55688e(0x171)]===-0x1){if(_0x32d83a!==0x0&&config[_0x55688e(0x1ad)]){if(_0x1036e8){if(config[_0x55688e(0x1ad)]==_0x55688e(0xa3))_0x17fc4a['distribution']=(_0x994f23/(_0x32d83a/_0x1036e8[_0x55688e(0xa3)]))['toFixed'](_0x162b3f);else config['marketcapEnabled']==_0x55688e(0x123)&&(_0x17fc4a[_0x55688e(0x13f)]=(_0x994f23/(_0x2900c3/Math[_0x55688e(0xe3)](_0x1036e8[_0x55688e(0xa3)])))[_0x55688e(0x221)](_0x162b3f));}}}}}}),updateConfig();}function updateConfig(){const _0x5abefc=_0x22cecc;let _0x242722=dbConfig['get']('bot')[_0x5abefc(0x137)]({'botID':botID})[_0x5abefc(0xc3)]();_0x242722&&dbConfig[_0x5abefc(0xb6)](_0x5abefc(0x210))['find']({'botID':botID})['assign'](config)[_0x5abefc(0x1ee)]();}function logMemory(){const _0x14dc6f=_0x22cecc;if(environment!=_0x14dc6f(0x251))return;const _0x51d203=process[_0x14dc6f(0x121)]()[_0x14dc6f(0x223)]/0x400/0x400;logger[_0x14dc6f(0x19e)](_0x14dc6f(0x1ce)+process[_0x14dc6f(0x170)]+_0x14dc6f(0x1b5)+formatResult(_0x51d203,0x1)+_0x14dc6f(0xca));}async function startScheduler(){const _0x585e04=_0x22cecc,_0x31bf85=shiftedTime()[_0x585e04(0x1b2)]();getMarketCap(),_0x31bf85==0x1&&logMemory(),_0x31bf85%0x4==0x2&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x20c4cc=![]){const _0x2e1380=_0x22cecc;logger[_0x2e1380(0x19e)](_0x2e1380(0x226));if(!_0x20c4cc)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x2e1380(0x17a)]({'stop':_0x2e1380(0x142)},_0x692e1=>{});}async function initExchange(_0x3c6846=config[_0x22cecc(0x1a4)],_0x798bf9=config[_0x22cecc(0x195)],_0x4fc389=config[_0x22cecc(0x1cc)],_0xcee223=config[_0x22cecc(0x127)]){const _0x36a937=_0x22cecc;if(exchange){logger[_0x36a937(0x19e)](_0x36a937(0x175));return;}logger[_0x36a937(0x19e)](_0x36a937(0x156));!supportedExchanges()[_0x36a937(0x1eb)](_0x3c6846)&&(logHistory('error','Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x3c6846+'\x20exchange'),killBot());const _0x35cbf6=ccxt[_0x36a937(0xed)][_0x3c6846[_0x36a937(0x177)]()];exchange=new _0x35cbf6({'apiKey':_0x798bf9,'secret':_0x4fc389,'options':{'defaultType':_0x36a937(0x1ed)}});if(_0xcee223)exchange[_0x36a937(0xd6)]=_0xcee223;}function updateExchange(_0xb11910,_0x297b5d,_0x44b6ca=null){const _0x47031e=_0x22cecc;exchange['apiKey']=_0xb11910,exchange[_0x47031e(0x1cc)]=_0x297b5d,exchange[_0x47031e(0x127)]=_0x44b6ca,logger['debug']('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x124974=_0x22cecc;let _0x522a3a=config[_0x124974(0x1e8)]=='ETH'?_0x124974(0xfa):config[_0x124974(0x1e8)]==_0x124974(0x1cb)?_0x124974(0x1cb):_0x124974(0x202),_0xf89dc1=allSymbols[_0x124974(0x1eb)](_0x522a3a+_0x124974(0x1b8))?_0x124974(0x1ef):allSymbols[_0x124974(0x1eb)](_0x522a3a+_0x124974(0x193))?_0x124974(0xaa):_0x124974(0x16f),_0x40b5ee=allSymbols['includes'](_0x522a3a+_0x124974(0x20d))?'EUR':_0xf89dc1;enableFiatToggle=!![],_0xf89dc1=='EUR'&&(enableFiatToggle=![],storeFiat('EUR')),_0x40b5ee!='EUR'&&(enableFiatToggle=![],storeFiat(_0x124974(0x1ef))),stablecoins={'eur':{'coin':''+_0x522a3a+_0x40b5ee,'symbol':_0x522a3a+'/'+_0x40b5ee},'usd':{'coin':''+_0x522a3a+_0xf89dc1,'symbol':_0x522a3a+'/'+_0xf89dc1}};}async function initwsCcxt(){const _0x3fd956=_0x22cecc;initCycle++;const _0x34fb7c=initCycle;let _0xd82fca=[];config[_0x3fd956(0x11d)][_0x3fd956(0x178)](_0x25fbaa=>{const _0x34862f=_0x3fd956;if(!_0x25fbaa['excluded']&&_0x25fbaa[_0x34862f(0xb5)]!=config[_0x34862f(0x1e8)])_0xd82fca[_0x34862f(0x24a)](_0x25fbaa[_0x34862f(0x9f)]);});if(!_0xd82fca[_0x3fd956(0x1eb)](stablecoins[_0x3fd956(0xd7)][_0x3fd956(0x9f)]))_0xd82fca[_0x3fd956(0x24a)](stablecoins[_0x3fd956(0xd7)][_0x3fd956(0x9f)]);if(!_0xd82fca['includes'](stablecoins[_0x3fd956(0xaf)][_0x3fd956(0x9f)]))_0xd82fca[_0x3fd956(0x24a)](stablecoins[_0x3fd956(0xaf)][_0x3fd956(0x9f)]);if(config['exchange'][_0x3fd956(0x125)](_0x3fd956(0xad))&&config['basecoin']!=_0x3fd956(0x1cb)){if(!_0xd82fca['includes'](_0x3fd956(0xa6)+config[_0x3fd956(0x1e8)]))_0xd82fca[_0x3fd956(0x24a)](_0x3fd956(0xa6)+config[_0x3fd956(0x1e8)]);}loadCoins(_0xd82fca),_0xd82fca=validateSymbols(_0xd82fca);const _0x30a6f8=async _0x426dd4=>{const _0x5096b8=_0x3fd956;let _0xb0764e;try{const _0x1f735d=await getTickers(_0x426dd4);Object[_0x5096b8(0x172)](_0x1f735d)[_0x5096b8(0x178)](_0x345ec1=>{const _0x432fb2=_0x5096b8;_0xb0764e=_0x345ec1[0x1][_0x432fb2(0x9f)],gTicker[noslash(_0xb0764e)]=_0x345ec1[0x1][_0x432fb2(0x1d1)],gChange[_0xb0764e]=_0x345ec1[0x1][_0x432fb2(0x192)];});}catch(_0x1a7ac3){await handleError(_0x1a7ac3,_0x5096b8(0x18f),_0xb0764e);}},_0xaebe6c=async _0x1ebfa8=>{const _0x52092f=_0x3fd956;while(initCycle==_0x34fb7c){if(!botPaused)try{const _0x34c827=await exchange[_0x52092f(0x22f)](_0x1ebfa8);gTicker[noslash(_0x34c827[0x0][_0x52092f(0x9f)])]=_0x34c827[0x0][_0x52092f(0x160)];}catch(_0x5c382e){if(!exchangeStopped)await handleError(_0x5c382e,_0x52092f(0x1f5),_0x1ebfa8);}else await sleep(0x64);}},_0x2ddd21=async _0x44cbc5=>{const _0x232cbf=_0x3fd956;while(initCycle==_0x34fb7c){if(!botPaused)try{const _0x5dbbc8=await exchange[_0x232cbf(0x1b9)](_0x44cbc5),_0x451392=_0x5dbbc8[_0x232cbf(0x24e)]();gTicker[noslash(_0x451392[_0x232cbf(0x9f)])]=_0x451392['price'];}catch(_0x458cfd){if(!exchangeStopped)await handleError(_0x458cfd,_0x232cbf(0x1b4),_0x44cbc5[_0x232cbf(0x97)]());}else await sleep(0x64);}},_0x10fe1a=async _0x1e2c90=>{const _0x510d49=_0x3fd956;while(initCycle==_0x34fb7c){if(!botPaused){let _0x51f40c;try{await sleep(0x3c*0x3e8);const _0xa23451=await getTickers(_0x1e2c90);Object['entries'](_0xa23451)[_0x510d49(0x178)](_0x39a46a=>{const _0x210a3f=_0x510d49;_0x51f40c=_0x39a46a[0x1][_0x210a3f(0x9f)],gChange[_0x51f40c]=_0x39a46a[0x1][_0x210a3f(0x192)];});}catch(_0x47ab6b){if(!exchangeStopped)await handleError(_0x47ab6b,'fetchTickers()',_0x51f40c);}}else await sleep(0x64);}},_0x1be251=async _0x47943d=>{const _0x590978=_0x3fd956;while(initCycle==_0x34fb7c){if(!botPaused)try{const _0x55e632=await exchange[_0x590978(0x184)](_0x47943d);initCycle==_0x34fb7c&&_0x55e632[_0x590978(0x178)](_0x70567d=>{updateNumberCoinsCcxt(_0x70567d);});}catch(_0x537a02){if(!exchangeStopped)await handleError(_0x537a02,_0x590978(0x1ba));}else await sleep(0x64);}};_0x30a6f8(_0xd82fca),_0x10fe1a(_0xd82fca),exchange[_0x3fd956(0xc2)][_0x3fd956(0x1b9)]&&!(config[_0x3fd956(0x1a4)]==_0x3fd956(0xc1)&&_0xd82fca['length']>0xa)?_0x2ddd21(_0xd82fca):_0xd82fca[_0x3fd956(0x178)](_0x59b68e=>{_0xaebe6c(_0x59b68e);}),_0xd82fca['forEach'](_0x261214=>{_0x1be251(_0x261214);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x519f7b){const _0x3df426=_0x22cecc;let _0x5c2abf={};try{if(config[_0x3df426(0x1a4)]!=_0x3df426(0x1e6))_0x5c2abf=await exchange[_0x3df426(0x1d3)](_0x519f7b);else for(const _0x4f4c5c of _0x519f7b){const _0x1c9875=await exchange['fetchTicker'](_0x4f4c5c);_0x5c2abf[_0x4f4c5c]=_0x1c9875;}return _0x5c2abf;}catch(_0x317dae){throw _0x317dae;}}function setBlockTransactionDetection(_0x4f05e4){const _0x3386af=_0x22cecc;blockTransactionDetection=_0x4f05e4,logger['debug'](_0x3386af(0x180)+blockTransactionDetection);}async function detectLiquidityChange(_0x59c082=0x0){const _0x1059af=_0x22cecc;transactionDetectionOngoing=!![];try{const _0x432616=await getCoins(_0x59c082),[_0x1274bf,_0x45fca0]=_0x432616;let _0x514c98=[];currentCoins[_0x1059af(0x178)](_0x1e7fc7=>{const _0x5847d1=_0x1059af,_0x2b4f24=_0x1274bf[_0x5847d1(0x137)](_0x48b3de=>_0x48b3de[_0x5847d1(0xb5)]==_0x1e7fc7[_0x5847d1(0xb5)]);if(_0x2b4f24){if(_0x1e7fc7[_0x5847d1(0x1d2)]!=_0x2b4f24['number']){let _0xe24a1c;if(_0x1e7fc7[_0x5847d1(0xb5)]!=config[_0x5847d1(0x1e8)]){const _0x320c2f=gTicker[noslash(_0x1e7fc7[_0x5847d1(0x9f)])];_0xe24a1c=_0x1e7fc7['reverse']?0x1/_0x320c2f:_0x320c2f;}else _0xe24a1c=0x1;_0x514c98['push']({'coin':_0x1e7fc7['coin'],'symbol':_0x1e7fc7[_0x5847d1(0x9f)],'price':_0xe24a1c,'number':Number(formatResult(_0x2b4f24[_0x5847d1(0x1d2)]-_0x1e7fc7['number'],0x8)),'basecoinvalue':_0xe24a1c*(_0x2b4f24[_0x5847d1(0x1d2)]-_0x1e7fc7[_0x5847d1(0x1d2)])});}}});if(_0x514c98[_0x1059af(0x1e1)]>0x0&&!blockTransactionDetection){for(const _0x2fcf7e of _0x514c98){if(config[_0x1059af(0x131)]){logger[_0x1059af(0x19e)](_0x1059af(0x124)+_0x2fcf7e[_0x1059af(0x253)]+_0x1059af(0xa4)+lastFees[_0x1059af(0x205)]);if(lastFees['highest']==0x0||Math[_0x1059af(0xcc)](_0x2fcf7e[_0x1059af(0x253)])>lastFees[_0x1059af(0x205)]*0x3){if(config[_0x1059af(0x131)]=='update-liquidity'){delete _0x2fcf7e[_0x1059af(0x9f)],delete _0x2fcf7e[_0x1059af(0x253)];let _0x22a4b1=[],_0x5c2737=[...config[_0x1059af(0x1a2)]]||[],_0x49af9f=config[_0x1059af(0x1a2)];_0x5c2737[_0x1059af(0x98)]((_0x397584,_0x13b72d)=>_0x397584[_0x1059af(0x1df)]>_0x13b72d['date']?-0x1:_0x13b72d[_0x1059af(0x1df)]>_0x397584[_0x1059af(0x1df)]?0x1:0x0);const _0x2038aa=getDate();if(_0x5c2737[0x0]){const _0x33b69c=fns['parse'](_0x5c2737[0x0][_0x1059af(0x1df)],'yyyy/MM/dd',new Date()),_0x492c2e=fns[_0x1059af(0x11a)](_0x2038aa,'yyyy/MM/dd',new Date());if(fns[_0x1059af(0x1de)](_0x33b69c,_0x492c2e)){_0x22a4b1=_0x5c2737[0x0][_0x1059af(0x1cd)];const _0x9a785d=_0x22a4b1[_0x1059af(0x137)](_0x2910b2=>_0x2910b2[_0x1059af(0xb5)]==_0x2fcf7e[_0x1059af(0xb5)]);_0x9a785d?(_0x9a785d['number']+=_0x2fcf7e[_0x1059af(0x1d2)],_0x9a785d[_0x1059af(0x1d2)]==0x0&&(_0x22a4b1=_0x22a4b1[_0x1059af(0x12d)](_0x1132c7=>{const _0x7d0c8=_0x1059af;return _0x1132c7['coin']!=_0x2fcf7e[_0x7d0c8(0xb5)];}))):_0x22a4b1[_0x1059af(0x24a)](_0x2fcf7e);const _0x3e580e=_0x49af9f[_0x1059af(0x137)](_0x1e5f4a=>_0x1e5f4a[_0x1059af(0x1df)]==_0x2038aa);_0x3e580e[_0x1059af(0x1cd)]=_0x22a4b1;}else _0x49af9f['push']({'date':_0x2038aa,'changes':[_0x2fcf7e]});}const _0xccafaf=_0x49af9f['find'](_0x5ac6ff=>_0x5ac6ff['date']==_0x2038aa);if(_0xccafaf){let _0xc640b8=!![];_0xccafaf[_0x1059af(0x1cd)][_0x1059af(0x178)](_0x17b4da=>{const _0x3e8053=_0x1059af;if(_0x17b4da[_0x3e8053(0x1d2)]!=0x0)_0xc640b8=![];}),_0xc640b8&&(_0x49af9f=_0x49af9f[_0x1059af(0x12d)](_0x13fab4=>{const _0x1d5346=_0x1059af;return _0x13fab4[_0x1d5346(0x1df)]!=_0x2038aa;}));}let _0x3e5402=dbConfig[_0x1059af(0xb6)](_0x1059af(0x210))[_0x1059af(0x137)]({'botID':botID})[_0x1059af(0xc3)]();_0x3e5402&&(dbConfig[_0x1059af(0xb6)](_0x1059af(0x210))[_0x1059af(0x137)]({'botID':botID})[_0x1059af(0x158)]({'liquidity':_0x49af9f})['write'](),config[_0x1059af(0x1a2)]=_0x49af9f);logHistory(_0x1059af(0x15e),_0x1059af(0x162)+Math[_0x1059af(0xcc)](_0x2fcf7e[_0x1059af(0x1d2)])+'\x20'+_0x2fcf7e[_0x1059af(0xb5)]+'\x20'+(_0x2fcf7e[_0x1059af(0x1d2)]>0x0?'added':_0x1059af(0xf8))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());const _0x2e2354=getNormalizedPerformance();emitPerformance(_0x2e2354),getStartingBalances(_0x2e2354),logger[_0x1059af(0x19e)](_0x1059af(0x173));}else config[_0x1059af(0x131)]==_0x1059af(0x165)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory('success',_0x1059af(0x162)+Math['abs'](_0x2fcf7e[_0x1059af(0x1d2)])+'\x20'+_0x2fcf7e[_0x1059af(0xb5)]+'\x20'+(_0x2fcf7e[_0x1059af(0x1d2)]>0x0?_0x1059af(0x1d6):_0x1059af(0xf8))+_0x1059af(0x198))):logger[_0x1059af(0x19e)](_0x1059af(0x162)+Math[_0x1059af(0xcc)](_0x2fcf7e[_0x1059af(0x1d2)])+'\x20'+_0x2fcf7e[_0x1059af(0xb5)]+'\x20'+(_0x2fcf7e[_0x1059af(0x1d2)]>0x0?_0x1059af(0x1d6):_0x1059af(0xf8))+_0x1059af(0xe1)));}else logger['debug'](_0x1059af(0x24c)+Math['abs'](_0x2fcf7e[_0x1059af(0x1d2)])+'\x20'+_0x2fcf7e[_0x1059af(0xb5)]+'\x20'+(_0x2fcf7e[_0x1059af(0x1d2)]>0x0?_0x1059af(0x1d6):_0x1059af(0xf8)));}else logger[_0x1059af(0x19e)](_0x1059af(0x162)+Math[_0x1059af(0xcc)](_0x2fcf7e[_0x1059af(0x1d2)])+'\x20'+_0x2fcf7e[_0x1059af(0xb5)]+'\x20'+(_0x2fcf7e[_0x1059af(0x1d2)]>0x0?_0x1059af(0x1d6):_0x1059af(0xf8))+_0x1059af(0x240));}currentCoins=_0x1274bf,currentCoinsAll=_0x45fca0;}}catch(_0x4aa063){if(!exchangeStopped)await handleError(_0x4aa063,_0x1059af(0x167));}transactionDetectionOngoing=![];}function _0x4eaf(){const _0x30b2ec=['startdate','emitHistory','map','full','event-history','set','removed','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','ETH','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','filled','status','Trigger:\x20','Resetting\x20bot\x20history','5276848ncGqPh','string','Error:\x20Invalid\x20argument\x20','Error\x20details:','./version.json','TUSD','production','test','change24h','cancelLoading','leftTxt','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','exec','status\x20code\x20401','emojibuy','Exchange\x20error\x20details:','amountToPrecision','padEnd','fetchOpenOrders','stringify','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Symbol(s):\x20','bots','RequestTimeout','showname','\x20API\x20secret\x20is\x20invalid','parse','version','\x20attempts','portfolio','\x20exchange\x20error:\x20','bb-secure.json','axios','memoryUsage','0\x20-\x20EXECUTION:\x20','marketcapsqrt','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','startsWith','Order\x20amount\x20is\x20invalid:\x20','apiPassword','settings','existsSync','limit-high','Invalid\x20quantity','slice','filter','marketcapApi','\x20:\x20','round','autoliquidity','sells',':\x20timer\x20>','buy','page','configuration','find','3733488SwFLKp','ExchangeNotAvailable','floor','Error\x20while\x20deleting\x20files:\x20','complete','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','red_yellow_blue','distribution','datetime','Huobipro','restart','.json','change','balancing\x20resumed','shift','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','indexOf','starting-balances','Bitget','OnMaintenance','Cex','initclient','uncaughtException','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','storeHeadless','bb-settings.json','quote','Insufficient\x20funds\x20to\x20execute\x20order:\x20','USDC','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Initializing\x20exchange','PermissionDenied','assign','data','Order\x20is\x20invalid:\x20','argv','no\x20open\x20orders','\x20>\x20','success','(see:\x20hodlerhacks.com/fix/1)','price','exchange\x20reload','Portfolio\x20change\x20detected:\x20','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','Headless:\x20','switch-manual','performance','detectLiquidityChange()','2\x20-\x20handling\x20FILLED\x20order:\x20','\x20change','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','limits','%\x20(','OrderNotFound','createOrder','EUR','pid','slider','entries','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','none','Initializing\x20exchange:\x20already\x20done','initial','toLowerCase','forEach','Resetting\x20coin\x20results:\x20','send','Invalid\x20symbol:\x20','message','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','enableFiatToggle','bot-','Block\x20transaction\x20detection:\x20','replace','balancing\x20resumes\x20when\x20cooldown\x20ends','recent20','watchOrders','orderId','getMinutes','loadMarkets','./logs/','limit','canceled','Reset\x20|\x20','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','2.3.5','initTickers()','warning','keys','percentage','/USDT','portfolio1','apiKey','2358qhwfEq','botID','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','Pausing\x20for\x20','request-time','realized','cancelOrder','Placing\x20order\x20for:\x20','debug','1229094LQxRyz','running','\x20value','liquidity','node-forge','exchange','\x20orders\x20in\x20less\x20than\x20','1\x20-\x20FILLED\x20unknown\x20order:\x20','side','cloneDeep','RateLimitExceeded','error','unlinkSync','configuration-stored','marketcapEnabled','sell','\x20has\x20a\x2024h\x20drop\x20of\x20','net-basecoin','RSA-OAEP','getHours','timeout','watchTradesForSymbols()','\x20uses\x20','startnumber','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','/USD','watchTradesForSymbols','watchOrders()','26558433NpiVhz','exchanges','ID:\x20','loading-canceled','001','Resuming\x20(','Bot\x20','NetworkError','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','padStart','2.5.0','emojisell','netoffset','Error\x20in\x20loadSymbols():\x20','buys','getStartingBalances','PAXG','apiSecret','changes','process\x20','ongoing','cost','last','number','fetchTickers','code','starting-balance-','added','currency','RETRY\x20-\x20Problem\x20resolved\x20after\x20','fee','join','final','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','isEqual','date','2.6.22','length','reverse','Limit\x20(high-margin)','remainingSymbols','lowdb','Cryptocom','logs','basecoin','toUpperCase','valid','includes','LOCKED','spot','write','USD','\x20network\x20error:\x20','600iKbDkE','min','\x20-\x20bot\x20not\x20started','Exchange','watchTrades()','target','-results.json','placeOrder()','delta','average','No\x20more\x20open\x20orders\x20-\x20','-performance.json','constructor','search','Limit\x20(low-margin)','createWriteStream','getDate','BTC','sendMetricsTelegram','no\x20exchange\x20reloaded','highest','Executed\x20','\x20>\x20details:','bid','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','showConfig','util','Unfilled\x20order(s)\x20canceled\x20after\x20','/EUR','ordertype','fiat','bot','sha256','Huobi','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','progress','enabled','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Saving\x20configuration','cancelOrders()','AuthenticationError','getSeconds','format','1\x20-\x20FILLED\x20known\x20order:\x20','time','-events.json','create','net-fiat','toFixed','2\x20-\x20Handled\x20open\x20orders','heapUsed','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','BUSD','Initiating\x20bot\x20restart','InsufficientFunds','\x20minutes','substring','getTime','sendPortfolioTelegram','\x20-\x20','\x20order:\x20','\x20hour','watchTrades','headless','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','closed','Stopped\x20fetching\x20balance\x20after\x20','must\x20be\x20greater\x20than\x20minimum\x20amount','ask','sortBy','\x20portfolio:</b>\x20\x0a\x0a','fetchBalance()','recreate','<b>Bot\x20','coins','Unknown\x20error:\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','token\x20is\x20expired','getFullYear','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','cooldown','balances','type','Net\x20effect',')\x20|\x20exchange:\x20','market_cap','fromCodePoint','Order(s)\x20not\x20validated\x20after\x20','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','push','event','Fee\x20discount\x20refund\x20detected:\x20','loadSymbols()','pop','mkdirSync','getOpenOrders()','staging','orderstatus','basecoinvalue','fees','kill','\x20|\x20Custom\x20ID:\x20','rightTxt','7610VOjamo','Loading\x20completed','************','max','USDP','args','getPortfolio','Error\x20occurred:\x20','(((.+)+)+)+$','3252XYXLYW','timestamp','update-liquidity','toggleBotMode','splice','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','function','\x20>\x20[DEBUG]\x20','toString','sort','<pre>','\x20|\x20','BNB','secure','environment','Market','symbol','Initializing\x20coin\x20results','freeze','add','marketcap','\x20|\x20highest\x20fee:\x20','</pre>','BNB/','botname','open','Cooldown\x20ended\x20-\x20balancing\x20resumed','USDT','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','ccxt','Binance','apply','usd','storeFiat','privateKey','limit-low','total','Invalid\x20balance\x20for\x20','coin','get','Order\x20filled:\x20','trade','offset','API-key\x20format\x20invalid','DDoSProtection','UNLOCKED','timeshift','portfolio2','date-fns','-------------------------------\x0a','Bybit','has','value','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','***','yyyy/MM/dd','fetchBalance','2\x20-\x20Validate\x20orders:\x20','order','\x20MB','threshold','abs',')\x20known\x20order:\x20','split','breakeven','1\x20-\x20partially\x20FILLED\x20(','decrypt','Error\x20in\x20testAPI():\x20','fetchTicker','excluded','./config/','password','eur','openOrders','market','\x20/\x20','\x20metrics:</b>\x20\x0a\x0a','resetHistory','140000BRuvAh','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','log','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','customId','sqrt','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20minutes\x20-\x20','defaults','active','Unknown\x20error\x20-\x20check\x20logs',':\x20Bot\x20','pki','onepagemode',',\x20must\x20be\x20a\x203\x20digit\x20number','pro','remove','getCoinNumber()','Error\x20details:\x20','amount'];_0x4eaf=function(){return _0x30b2ec;};return _0x4eaf();}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x1f5f54=_0x22cecc;try{markets=await exchange[_0x1f5f54(0x187)](!![]),allSymbols=[],Object['entries'](markets)[_0x1f5f54(0x178)](_0x3377da=>{const _0xa539b=_0x1f5f54;_0x3377da[0x1][_0xa539b(0xe7)]&&_0x3377da[0x1][_0xa539b(0x1ed)]&&allSymbols[_0xa539b(0x24a)](_0x3377da[0x0]);}),logger[_0x1f5f54(0x19e)]('Market\x20&\x20symbol\x20data\x20updated');}catch(_0x1bdee1){markets?logger[_0x1f5f54(0x19e)](_0x1f5f54(0x1c8)+_0x1bdee1[_0x1f5f54(0x97)]()):(loading['cancel']=!![],emitLoadingProgress(),_0x1bdee1[_0x1f5f54(0x97)]()[_0x1f5f54(0x177)]()[_0x1f5f54(0x1eb)](_0x1f5f54(0x90))||_0x1bdee1[_0x1f5f54(0x97)]()[_0x1f5f54(0x177)]()[_0x1f5f54(0x1eb)](_0x1f5f54(0x19a))?logHistory(_0x1f5f54(0x1aa),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'):handleErrorNoStop(_0x1bdee1,_0x1f5f54(0x24d)),logHistory(_0x1f5f54(0x1aa),_0x1f5f54(0x224)),logHistory('error',_0x1f5f54(0x199)+loadCoinsRetryInterval/0xea60+_0x1f5f54(0xde)),logger['debug'](_0x1f5f54(0x103),_0x1bdee1),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x4ced20){const _0x122c94=_0x22cecc;let _0x101330=[];return _0x4ced20[_0x122c94(0x178)](_0x1061b2=>{const _0x3f89f0=_0x122c94;!allSymbols['includes'](_0x1061b2)?logHistory(_0x3f89f0(0x1aa),_0x3f89f0(0x17b)+_0x1061b2+_0x3f89f0(0x13d)):_0x101330[_0x3f89f0(0x24a)](_0x1061b2);}),_0x101330;}async function initclient(){const _0x3e5500=_0x22cecc;proxyEmit(_0x3e5500(0x136),emittedConfiguration()),proxyEmit(_0x3e5500(0x1bc),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x498e6f=getNormalizedPerformance();emitPerformance(_0x498e6f),getStartingBalances(_0x498e6f);}async function toggleBotMode(){const _0x5abbe8=_0x22cecc;let _0x4aeb0e=dbConfig['get']('bot')['find']({'botID':botID})[_0x5abbe8(0xc3)]();if(_0x4aeb0e){const _0x5776f5=!_0x4aeb0e[_0x5abbe8(0x230)];dbConfig[_0x5abbe8(0xb6)](_0x5abbe8(0x210))[_0x5abbe8(0x137)]({'botID':botID})[_0x5abbe8(0x158)]({'headless':_0x5776f5})[_0x5abbe8(0x1ee)](),config[_0x5abbe8(0x230)]=_0x5776f5,proxyEmit(_0x5abbe8(0x136),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3fc623=_0x22cecc;process['send']({'updatebotmanager':!![]},_0x24cfa3=>{}),logger[_0x3fc623(0x19e)](_0x3fc623(0x164)+config[_0x3fc623(0x230)]);}async function loadCoins(_0x3bf7f7){const _0x135c1e=_0x22cecc;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x1edc60,_0x4f313b=0x0,_0x3712a9=0x0;_0x3bf7f7['forEach'](_0x1d3c10=>{const _0x2db379=_0x5d5f;loading[_0x2db379(0x1e4)]['push'](_0x1d3c10);}),loadingCanceled=![];let _0x549561=![];while(_0x1edc60!=_0x3bf7f7[_0x135c1e(0x1e1)]+maxLoadingProgress){_0x1edc60=loadingProgress,_0x3bf7f7[_0x135c1e(0x178)](_0x5f5d83=>{const _0x5849ef=_0x135c1e;if(gTicker[noslash(_0x5f5d83)]){loading[_0x5849ef(0x1e4)]=loading[_0x5849ef(0x1e4)]['filter'](_0x57cbf6=>_0x57cbf6!=_0x5f5d83);if(!watchedSymbols[_0x5849ef(0x1eb)](_0x5f5d83))watchedSymbols[_0x5849ef(0x24a)](_0x5f5d83);_0x1edc60++;}}),loading[_0x135c1e(0x214)]=Math['round'](_0x1edc60/(_0x3bf7f7[_0x135c1e(0x1e1)]+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x3712a9>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x3712a9>0x78*0x5&&!_0x549561&&(_0x549561=!![],logHistory(_0x135c1e(0x1aa),_0x135c1e(0xe4)+loading[_0x135c1e(0x1e4)][_0x135c1e(0x1da)](',\x20')+_0x135c1e(0x1f3)),logHistory(_0x135c1e(0x1aa),_0x135c1e(0x199)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x4f313b!=loading[_0x135c1e(0x214)]&&(_0x4f313b=loading[_0x135c1e(0x214)],emitLoadingProgress()),_0x3712a9++,await sleep(0xc8);}_0x1edc60==_0x3bf7f7[_0x135c1e(0x1e1)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x135c1e(0x17a)]({'status':_0x135c1e(0x215),'live':_0x135c1e(0x1a0)},_0x35870c=>{}),_0x549561&&logHistory(_0x135c1e(0x15e),_0x135c1e(0x216)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x3d8862=_0x22cecc;proxyEmit(_0x3d8862(0x136),{...emittedConfiguration(),'configstate':_0x3d8862(0x1be)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x548c93=_0x22cecc;let _0x11b0dc=gTicker[stablecoins['eur'][_0x548c93(0xb5)]],_0x5db820=gTicker[stablecoins[_0x548c93(0xaf)]['coin']];return{'eur':Number(_0x11b0dc),'usd':Number(_0x5db820)};}function capitalize(_0x18d09b){const _0x1c2908=_0x22cecc;return _0x18d09b['substring'](0x0,0x1)[_0x1c2908(0x1e9)]()+_0x18d09b[_0x1c2908(0x229)](0x1);}function supportedExchanges(){const _0x405ad5=_0x22cecc,_0x2ce8a0=['ws',_0x405ad5(0x1d3),_0x405ad5(0xd3),_0x405ad5(0x22f),'watchOrders',_0x405ad5(0x19c),'createOrder',_0x405ad5(0x112),_0x405ad5(0xc7)];let _0x1509d5=[],_0x5ee9bd=[],_0x7f3b64=ccxt[_0x405ad5(0xed)][_0x405ad5(0x1bc)];_0x7f3b64[_0x405ad5(0x178)](_0x50db79=>{const _0x19ba08=_0x405ad5;try{const _0x597064=new ccxt[(_0x19ba08(0xed))][_0x50db79]();_0x5ee9bd['push'](_0x597064);}catch(_0x55dcf0){}}),_0x5ee9bd[_0x405ad5(0x178)](_0x20d859=>{const _0x45768d=_0x405ad5;let _0x843645=0x0;_0x2ce8a0['forEach'](_0x289955=>{const _0x4168ec=_0x5d5f;_0x289955 in _0x20d859[_0x4168ec(0xc2)]&&_0x20d859['has'][_0x289955]&&_0x843645++;}),_0x843645==_0x2ce8a0[_0x45768d(0x1e1)]&&_0x1509d5[_0x45768d(0x24a)](capitalize(_0x20d859['id']));});let _0x12fd31=[];return _0x7f3b64[_0x405ad5(0x178)](_0x25fc00=>{const _0x56a5d8=_0x405ad5;_0x25fc00=capitalize(_0x25fc00);if(!_0x1509d5[_0x56a5d8(0x1eb)](_0x25fc00))_0x12fd31[_0x56a5d8(0x24a)](_0x25fc00);}),_0x1509d5;}function setStartDatePerformance(){const _0x3d948c=_0x22cecc;if(config&&config['liquidity'][0x0][_0x3d948c(0x1cd)][_0x3d948c(0x1e1)]!=0x0){const _0x5632ec=config[_0x3d948c(0x1a2)][0x0][_0x3d948c(0x1cd)];dbPerformance[_0x3d948c(0xb6)]('data')[_0x3d948c(0x137)]({'date':config[_0x3d948c(0xf2)]})['assign']({'coins':_0x5632ec})[_0x3d948c(0x1ee)]();}}async function recreateCoinResults(){const _0x4f69f9=_0x22cecc;recreationNeeded=![];let _0x401f38,_0x587638=[];try{for(const _0x2e81b4 of currentCoins){if(_0x2e81b4[_0x4f69f9(0xb5)]!=config[_0x4f69f9(0x1e8)]){let _0x54304c=0x0,_0x220976,_0x4ba217;_0x401f38=await getAllEventOrders(_0x2e81b4[_0x4f69f9(0x9f)]);if(_0x401f38[_0x4f69f9(0x1e1)]>0x0)_0x401f38[_0x4f69f9(0x178)](_0x53f44f=>{const _0x3b56b=_0x4f69f9,_0x4ea523=_0x2e81b4[_0x3b56b(0x9f)][_0x3b56b(0x1eb)](config[_0x3b56b(0x1e8)]+'/');_0x587638[_0x3b56b(0x24a)]({'datetime':_0x53f44f[_0x3b56b(0x140)],'coin':_0x2e81b4['coin'],'symbol':_0x2e81b4[_0x3b56b(0x9f)],'side':_0x53f44f[_0x3b56b(0x1a7)],'reverse':_0x4ea523,'amount':formatResult(_0x53f44f[_0x3b56b(0xfc)],0x8),'filled':formatResult(_0x53f44f['filled'],0x8),'price':formatResult(_0x53f44f[_0x3b56b(0x160)],0x8)}),_0x54304c=_0x53f44f[_0x3b56b(0x1a7)]=='buy'?_0x54304c+_0x53f44f['filled']:_0x54304c-_0x53f44f['filled'];if(!_0x4ba217)_0x4ba217=_0x53f44f[_0x3b56b(0x160)];});_0x220976=_0x2e81b4[_0x4f69f9(0x1d2)]-_0x54304c;let _0x33c4b9;config[_0x4f69f9(0x1a2)][_0x4f69f9(0x178)](_0x5b5308=>{const _0x5c1857=_0x4f69f9;!_0x33c4b9&&(_0x33c4b9=_0x5b5308['changes'][_0x5c1857(0x137)](_0x289b7e=>_0x289b7e['coin']==_0x2e81b4[_0x5c1857(0xb5)]),_0x33c4b9&&(_0x220976=_0x33c4b9[_0x5c1857(0x1d2)],_0x4ba217=_0x33c4b9['price']));});let _0x8ade6=dbCoinResults[_0x4f69f9(0xb6)]('coins')[_0x4f69f9(0x137)]({'coin':_0x2e81b4[_0x4f69f9(0xb5)]})[_0x4f69f9(0xc3)]();_0x8ade6={'coin':_0x2e81b4[_0x4f69f9(0xb5)],'number':_0x220976,'breakeven':_0x4ba217,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4f69f9(0xb6)](_0x4f69f9(0x23b))[_0x4f69f9(0x137)]({'coin':_0x2e81b4[_0x4f69f9(0xb5)]})[_0x4f69f9(0x158)](_0x8ade6)[_0x4f69f9(0x1ee)]();}}_0x587638[_0x4f69f9(0x98)]((_0x10cdad,_0x17f66b)=>_0x10cdad[_0x4f69f9(0x140)]>_0x17f66b['datetime']?0x1:_0x17f66b[_0x4f69f9(0x140)]>_0x10cdad[_0x4f69f9(0x140)]?-0x1:0x0);let _0x5f5c18=0x0;for(let _0x2ff4ee of _0x587638){await updateCoinResults(_0x2ff4ee,!![]);}}catch(_0xdf38bd){await handleError(_0xdf38bd,'recreateCoinResults()');}}async function getAllEventOrders(_0x3e07c1){const _0x106955=_0x22cecc;let _0xd2826b=[],_0x4b4c30=dbLogs[_0x106955(0xb6)]('logs')['filter'](_0x1008b7=>{const _0x52a28e=_0x106955,_0x3d4885=_0x1008b7[_0x52a28e(0x24b)][_0x52a28e(0x177)]();return _0x3d4885[_0x52a28e(0x1eb)](_0x3e07c1[_0x52a28e(0x177)]())&&(_0x3d4885['includes'](_0x52a28e(0xd9))&&_0x3d4885['includes'](_0x52a28e(0xc9))||_0x3d4885['includes'](_0x52a28e(0xfc))&&_0x3d4885['includes'](_0x52a28e(0xc9)));})[_0x106955(0x236)](_0x106955(0x21d))[_0x106955(0xc3)]();return _0x4b4c30[_0x106955(0x178)](_0x494c4f=>{const _0x466fb5=_0x106955,_0x1c16cd=_0x494c4f[_0x466fb5(0x24b)][_0x466fb5(0x1eb)](_0x466fb5(0x1ae))?'sell':_0x466fb5(0x134),_0x33a742=/#([0-9]|\.)+\s/i,_0x1e5481=Number(_0x33a742['exec'](_0x494c4f[_0x466fb5(0x24b)])[0x0][_0x466fb5(0x12c)](0x1)),_0xd2922=/@([0-9]|\.)+$/i,_0x128a93=Number(_0xd2922[_0x466fb5(0x10c)](_0x494c4f[_0x466fb5(0x24b)])[0x0]['slice'](0x1));_0xd2826b[_0x466fb5(0x24a)]({'datetime':_0x494c4f[_0x466fb5(0x21d)],'coin':symbolToCoin(_0x3e07c1),'symbol':_0x3e07c1,'side':_0x1c16cd,'amount':_0x1e5481,'filled':_0x1e5481,'price':_0x128a93});}),_0xd2826b;}async function validate24hChanges(){const _0x5a2cff=_0x22cecc;for(const _0x230d27 of currentCoins){if(_0x230d27[_0x5a2cff(0xb5)]!=config[_0x5a2cff(0x1e8)]){let _0x124e3e;_0x230d27[_0x5a2cff(0x1e2)]?_0x124e3e=formatResult((0x1/(gChange[_0x230d27['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x124e3e=gChange[_0x230d27[_0x5a2cff(0x9f)]],_0x124e3e<config[_0x5a2cff(0x108)]&&(logHistory('error',_0x230d27[_0x5a2cff(0xb5)]+_0x5a2cff(0x1af)+_0x124e3e+'%'),logHistory(_0x5a2cff(0x1aa),_0x5a2cff(0x14f)),logHistory('error',_0x5a2cff(0x23d)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x632997,_0xe8c66e){const _0x3c9f73=_0x22cecc;if(!_0x632997)return!![];const _0x505b2f=_0xe8c66e['split']('.'),_0x59dd67=_0x632997[_0x3c9f73(0xce)]('.');for(var _0x2a197e=0x0;_0x2a197e<_0x59dd67[_0x3c9f73(0x1e1)];_0x2a197e++){const _0x11e9e5=~~_0x59dd67[_0x2a197e],_0x20a960=~~_0x505b2f[_0x2a197e];if(_0x11e9e5<_0x20a960)return!![];if(_0x11e9e5>_0x20a960)return![];}return![];}async function oneTimeMigration(){const _0x2021c4=_0x22cecc;let _0x51c297=dbLogs['get'](_0x2021c4(0x11b))[_0x2021c4(0xc3)]();if(isOlderVersion(_0x51c297,_0x2021c4(0x18e))){let _0x2e28bc=[];const _0xcc1169=dbLogs[_0x2021c4(0xb6)](_0x2021c4(0x1e7))['value']();_0xcc1169['forEach'](_0x3254a0=>{const _0x66f690=_0x2021c4;_0x2e28bc[_0x66f690(0x24a)]({'time':_0x3254a0[_0x66f690(0x21d)],'type':_0x3254a0[_0x66f690(0x243)],'event':_0x3254a0[_0x66f690(0x24b)]});}),dbLogs[_0x2021c4(0xb6)](_0x2021c4(0x1e7))[_0x2021c4(0x158)](_0x2e28bc)[_0x2021c4(0x1ee)]();}let _0x48b9ee=dbConfig[_0x2021c4(0xb6)](_0x2021c4(0x11b))[_0x2021c4(0xc3)]();if(isOlderVersion(_0x48b9ee,'2.3.5')){let _0x124e8=dbConfig['get'](_0x2021c4(0x210))['find']({'botID':botID})[_0x2021c4(0xc3)]();if(_0x124e8){let _0x88661f=[];_0x124e8[_0x2021c4(0x11d)]['forEach'](_0x2410df=>{const _0x5dd8db=_0x2021c4;_0x88661f['push']({'coin':_0x2410df[_0x5dd8db(0xb5)],'number':_0x2410df[_0x5dd8db(0x1b6)],'price':_0x2410df['startprice']}),delete _0x2410df[_0x5dd8db(0x1b6)],delete _0x2410df['startprice'];});if(_0x88661f[_0x2021c4(0x1e1)]!==0x0)fs['writeFile'](configbackuppath+(_0x2021c4(0x1d5)+botID+_0x2021c4(0x143)),JSON['stringify'](_0x88661f,null,0x4),function(_0x2f903c){if(_0x2f903c){}});const _0x2c82e9=(_0x2a323b,_0x4b7c47)=>{const _0x5a4cbd=_0x2021c4;let _0x38d9b1=[];_0x4b7c47[_0x5a4cbd(0x178)](_0x3ae2c4=>{const _0x349090=_0x5a4cbd,_0x580e61=_0x2a323b['find'](_0x41137f=>_0x41137f['coin']==_0x3ae2c4['coin']);if(!_0x580e61)_0x38d9b1[_0x349090(0x24a)](_0x3ae2c4);});let _0x52a9f0=[];return _0x2a323b[_0x5a4cbd(0x178)](_0xe98aa5=>{const _0x22a5ea=_0x5a4cbd,_0x48c1c1=_0x4b7c47[_0x22a5ea(0x137)](_0x4d14bd=>_0x4d14bd[_0x22a5ea(0xb5)]==_0xe98aa5[_0x22a5ea(0xb5)]);if(!_0x48c1c1||_0x48c1c1[_0x22a5ea(0x1d2)]==0x0&&_0xe98aa5[_0x22a5ea(0x1d2)]!=0x0)_0x52a9f0[_0x22a5ea(0x24a)](_0xe98aa5);}),{'missingDay1':_0x38d9b1,'notInDay2':_0x52a9f0};},_0x146c21=dbPerformance['get'](_0x2021c4(0x159))['cloneDeep']()[_0x2021c4(0xc3)]();if(_0x146c21[_0x2021c4(0x1e1)]>0x1){const {missingDay1:_0x2084cb,notInDay2:_0x2e1d13}=_0x2c82e9(_0x88661f,_0x146c21[0x1][_0x2021c4(0x23b)]);_0x88661f=[..._0x88661f,..._0x2084cb],_0x2e1d13[_0x2021c4(0x178)](_0x14bad8=>{const _0x5746d8=_0x2021c4;let _0x24cb85=_0x88661f['findIndex'](_0x5eef34=>_0x5eef34['coin']==_0x14bad8[_0x5746d8(0xb5)]);_0x24cb85!=-0x1&&_0x88661f[_0x5746d8(0x93)](_0x24cb85,0x1);});}_0x88661f[_0x2021c4(0x98)]((_0x56a969,_0x88d6d5)=>_0x56a969['coin']>_0x88d6d5['coin']?0x1:_0x88d6d5[_0x2021c4(0xb5)]>_0x56a969[_0x2021c4(0xb5)]?-0x1:0x0);let _0xc66fa9=[{'date':_0x124e8[_0x2021c4(0xf2)],'changes':_0x88661f}];_0x146c21[_0x2021c4(0x1e1)]>0x2&&_0x146c21[_0x2021c4(0x178)]((_0x2a3ce,_0x247cf6)=>{const _0xcf4962=_0x2021c4;if(_0x247cf6>0x0&&_0x247cf6<_0x146c21[_0xcf4962(0x1e1)]-0x1){const {missingDay1:_0x26173b,notInDay2:_0x59a06d}=_0x2c82e9(_0x146c21[_0x247cf6]['coins'],_0x146c21[_0x247cf6+0x1][_0xcf4962(0x23b)]);_0x88661f=[],(_0x26173b[_0xcf4962(0x1e1)]!=0x0||_0x59a06d[_0xcf4962(0x1e1)]!=0x0)&&(_0x26173b[_0xcf4962(0x1e1)]!=0x0&&_0x88661f[_0xcf4962(0x24a)](..._0x26173b),_0x59a06d[_0xcf4962(0x1e1)]!=0x0&&(_0x59a06d[_0xcf4962(0x178)](_0x3f8703=>{const _0x311b2b=_0xcf4962;_0x3f8703[_0x311b2b(0x1d2)]=-_0x3f8703[_0x311b2b(0x1d2)];}),_0x88661f['push'](..._0x59a06d)),_0x88661f['sort']((_0x2ed4b0,_0x460ba5)=>_0x2ed4b0[_0xcf4962(0xb5)]>_0x460ba5[_0xcf4962(0xb5)]?0x1:_0x460ba5[_0xcf4962(0xb5)]>_0x2ed4b0[_0xcf4962(0xb5)]?-0x1:0x0),_0xc66fa9[_0xcf4962(0x24a)]({'date':_0x146c21[_0x247cf6+0x1][_0xcf4962(0x1df)],'changes':_0x88661f}));}}),dbConfig['get']('bot')[_0x2021c4(0x137)]({'botID':botID})[_0x2021c4(0x158)]({..._0x124e8,'liquidity':_0xc66fa9})[_0x2021c4(0x1ee)]();}}if(isOlderVersion(_0x48b9ee,'2.6.0')){let _0x54158b=dbConfig['get'](_0x2021c4(0x210))['find']({'botID':botID})[_0x2021c4(0xc3)]();if(_0x54158b){const _0x5ead05=_0x54158b['exchange'],_0x463a1d=_0x5ead05?capitalize(_0x5ead05):'Binance';dbConfig['get'](_0x2021c4(0x210))[_0x2021c4(0x137)]({'botID':botID})[_0x2021c4(0x158)]({'exchange':_0x463a1d})[_0x2021c4(0x1ee)]();}}if(isOlderVersion(_0x48b9ee,_0x2021c4(0x1e0))){let _0x31ef74=dbConfig[_0x2021c4(0xb6)]('bot')[_0x2021c4(0x137)]({'botID':botID})[_0x2021c4(0xc3)]();if(_0x31ef74){const _0x48b7f3=_0x31ef74['marketcapEnabled'],_0x27612d=_0x48b7f3?_0x2021c4(0xa3):![];dbConfig['get'](_0x2021c4(0x210))[_0x2021c4(0x137)]({'botID':botID})[_0x2021c4(0x158)]({'marketcapEnabled':_0x27612d})['write']();}}if(isOlderVersion(_0x48b9ee,'2.6.23')){let _0xe39577=dbConfig[_0x2021c4(0xb6)](_0x2021c4(0x210))[_0x2021c4(0x137)]({'botID':botID})[_0x2021c4(0xc3)]();if(_0xe39577){const _0x27e97d=_0xe39577[_0x2021c4(0x131)],_0x20cf16=_0x27e97d?_0x2021c4(0x91):![];dbConfig[_0x2021c4(0xb6)](_0x2021c4(0x210))[_0x2021c4(0x137)]({'botID':botID})[_0x2021c4(0x158)]({'autoliquidity':_0x20cf16})[_0x2021c4(0x1ee)]();}}let _0x3933ed=dbPerformance[_0x2021c4(0xb6)](_0x2021c4(0x11b))[_0x2021c4(0xc3)]();isOlderVersion(_0x3933ed,_0x2021c4(0x18e))&&setStartDatePerformance();let _0x2d2769=dbCoinResults[_0x2021c4(0xb6)]('version')[_0x2021c4(0xc3)]();if(isOlderVersion(_0x2d2769,_0x2021c4(0x1c5))){let _0x4a102b=dbCoinResults[_0x2021c4(0xb6)](_0x2021c4(0x23b))[_0x2021c4(0xc3)]();if(_0x4a102b[_0x2021c4(0x1e1)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x4d5f59=_0x22cecc;dbConfig[_0x4d5f59(0xf7)](_0x4d5f59(0x11b),serverversion)['write'](),dbPerformance[_0x4d5f59(0xf7)](_0x4d5f59(0x11b),serverversion)['write'](),dbLogs[_0x4d5f59(0xf7)](_0x4d5f59(0x11b),serverversion)[_0x4d5f59(0x1ee)](),dbCoinResults['set']('version',serverversion)[_0x4d5f59(0x1ee)]();}function getConfiguration(_0x22b397){const _0x3c9e24=_0x22cecc;let _0x1192cb=dbConfig[_0x3c9e24(0xb6)](_0x3c9e24(0x210))[_0x3c9e24(0x137)]({'botID':_0x22b397})['value']();if(_0x1192cb){let _0x2504aa=![];typeof _0x1192cb[_0x3c9e24(0xcb)]==_0x3c9e24(0x101)&&(_0x1192cb={..._0x1192cb,'threshold':Number(_0x1192cb[_0x3c9e24(0xcb)])},_0x2504aa=!![]),_0x1192cb['change24h']==undefined&&(_0x1192cb={..._0x1192cb,'change24h':-0x14},_0x2504aa=!![]),_0x1192cb[_0x3c9e24(0x20f)]==undefined&&(_0x1192cb={..._0x1192cb,'fiat':_0x3c9e24(0x1ef)},_0x2504aa=!![]),_0x1192cb[_0x3c9e24(0xeb)]==undefined&&(_0x1192cb={..._0x1192cb,'onepagemode':settings[_0x3c9e24(0xeb)]},_0x2504aa=!![]),_0x1192cb['colorscheme']==undefined&&(_0x1192cb={..._0x1192cb,'colorscheme':_0x3c9e24(0x13e)},_0x2504aa=!![]),_0x1192cb[_0x3c9e24(0x131)]==undefined&&(_0x1192cb={..._0x1192cb,'autoliquidity':_0x3c9e24(0x91)},_0x2504aa=!![]),_0x1192cb['marketcapApi']==undefined&&(_0x1192cb={..._0x1192cb,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x2504aa=!![]),_0x1192cb[_0x3c9e24(0x1ad)]==undefined&&(_0x1192cb={..._0x1192cb,'marketcapEnabled':![]},_0x2504aa=!![]),_0x2504aa&&(_0x1192cb={'botID':_0x1192cb[_0x3c9e24(0x197)],'exchange':_0x1192cb[_0x3c9e24(0x1a4)],'apiKey':_0x1192cb[_0x3c9e24(0x195)],'apiSecret':_0x1192cb[_0x3c9e24(0x1cc)],'apiPassword':_0x1192cb[_0x3c9e24(0x127)],'basecoin':_0x1192cb[_0x3c9e24(0x1e8)],'botname':_0x1192cb['botname'],'showname':_0x1192cb[_0x3c9e24(0x118)],'threshold':_0x1192cb[_0x3c9e24(0xcb)],'ordertype':_0x1192cb[_0x3c9e24(0x20e)],'timeout':_0x1192cb['timeout'],'fiat':_0x1192cb[_0x3c9e24(0x20f)],'startdate':_0x1192cb[_0x3c9e24(0xf2)],'recreate':_0x1192cb[_0x3c9e24(0x239)],'timeshift':_0x1192cb[_0x3c9e24(0xbd)],'onepagemode':_0x1192cb[_0x3c9e24(0xeb)],'headless':_0x1192cb['headless'],'cooldown':_0x1192cb[_0x3c9e24(0x241)],'change24h':_0x1192cb[_0x3c9e24(0x108)],'emojibuy':_0x1192cb[_0x3c9e24(0x10e)],'emojisell':_0x1192cb[_0x3c9e24(0x1c6)],'colorscheme':_0x1192cb['colorscheme'],'marketcapApi':_0x1192cb[_0x3c9e24(0x12e)],'marketcapEnabled':_0x1192cb[_0x3c9e24(0x1ad)],'portfolio':_0x1192cb['portfolio'],'autoliquidity':_0x1192cb['autoliquidity'],'liquidity':_0x1192cb['liquidity'],'openOrders':_0x1192cb[_0x3c9e24(0xd8)]},dbConfig[_0x3c9e24(0xb6)](_0x3c9e24(0x210))[_0x3c9e24(0xee)]()[_0x3c9e24(0x1ee)](),dbConfig[_0x3c9e24(0xb6)]('bot')[_0x3c9e24(0x24a)](_0x1192cb)[_0x3c9e24(0x1ee)]());}else _0x1192cb={'botID':_0x22b397,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x3c9e24(0x1c1)+_0x22b397,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x3c9e24(0x1ef),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3c9e24(0xbd)],'onepagemode':settings[_0x3c9e24(0xeb)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x3c9e24(0x12e)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x3c9e24(0x91),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1192cb;}function emittedConfiguration(){const _0x55eeb7=_0x22cecc;let _0x56a032;if(config['apiKey']=='')_0x56a032={...config,'configstate':_0x55eeb7(0x176)};else config['apiKey']==_0x55eeb7(0xc5)?_0x56a032={...config,'configstate':'recovery'}:(_0x56a032={...config,'apiKey':_0x55eeb7(0x25a),'apiSecret':'************'},config[_0x55eeb7(0x127)]&&(_0x56a032[_0x55eeb7(0x127)]='************'));return _0x56a032[_0x55eeb7(0x17e)]=enableFiatToggle,_0x56a032;}function getSettings(){const _0x51983b=_0x22cecc;return dbSettings[_0x51983b(0xb6)](_0x51983b(0x128))[_0x51983b(0xc3)]();}function getSecure(){const _0x103182=_0x22cecc;return dbSecure[_0x103182(0xb6)](_0x103182(0x9c))[_0x103182(0xc3)]()||{};}function updateTimeshift(_0x1affca){const _0x3ca311=_0x22cecc;let _0x11b489=dbConfig[_0x3ca311(0xb6)]('bot')[_0x3ca311(0x137)]({'botID':botID})[_0x3ca311(0xc3)]();_0x11b489&&dbConfig[_0x3ca311(0xb6)](_0x3ca311(0x210))[_0x3ca311(0x137)]({'botID':botID})[_0x3ca311(0x158)]({'timeshift':_0x1affca})[_0x3ca311(0x1ee)](),config[_0x3ca311(0xbd)]=_0x1affca,proxyEmit(_0x3ca311(0x136),emittedConfiguration());}function updateOnepagemode(_0x2eb710){const _0x4df7d3=_0x22cecc;let _0x16e1a5=dbConfig[_0x4df7d3(0xb6)](_0x4df7d3(0x210))[_0x4df7d3(0x137)]({'botID':botID})['value']();_0x16e1a5&&dbConfig[_0x4df7d3(0xb6)](_0x4df7d3(0x210))[_0x4df7d3(0x137)]({'botID':botID})[_0x4df7d3(0x158)]({'onepagemode':_0x2eb710})[_0x4df7d3(0x1ee)](),config[_0x4df7d3(0xeb)]=_0x2eb710,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x2a3386){const _0x1993a5=_0x22cecc,_0x14e418=_0x2a3386?!![]:![];let _0x55567c=dbConfig[_0x1993a5(0xb6)]('bot')['find']({'botID':botID})['value']();_0x55567c&&dbConfig[_0x1993a5(0xb6)](_0x1993a5(0x210))[_0x1993a5(0x137)]({'botID':botID})[_0x1993a5(0x158)]({'marketcapApi':_0x14e418})[_0x1993a5(0x1ee)](),config['marketcapApi']=_0x14e418,getMarketCap(),proxyEmit(_0x1993a5(0x136),emittedConfiguration());}async function storeConfiguration(_0x38ac3d){const _0x5cebd8=_0x22cecc;logger[_0x5cebd8(0x19e)](_0x5cebd8(0x217));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0xa453f0=![],_0xc0c865=![],_0x2f8c5c=[];_0x38ac3d['portfolio']['forEach'](_0x50e9e0=>{const _0x31ac84=_0x5cebd8;if(!_0x50e9e0[_0x31ac84(0xd4)]&&_0x50e9e0['coin']!=_0x38ac3d[_0x31ac84(0x1e8)])_0x2f8c5c[_0x31ac84(0x24a)](_0x50e9e0[_0x31ac84(0x9f)]);}),_0x2f8c5c[_0x5cebd8(0x178)](_0x982f50=>{const _0x2f053e=_0x5cebd8,_0x580fe2=currentCoins[_0x2f053e(0x137)](_0x584b79=>_0x584b79[_0x2f053e(0x9f)]==_0x982f50);!_0x580fe2&&(_0xa453f0=!![]);}),currentCoins[_0x5cebd8(0x178)](_0x43c89a=>{const _0x32d6af=_0x5cebd8;if(_0x43c89a[_0x32d6af(0xb5)]!=config[_0x32d6af(0x1e8)]){const _0x2f9c5e=_0x2f8c5c['find'](_0xaed94f=>_0xaed94f==_0x43c89a[_0x32d6af(0x9f)]);!_0x2f9c5e&&(_0xa453f0=!![]);}}),_0x38ac3d[_0x5cebd8(0x11d)][_0x5cebd8(0x178)](_0x5965d5=>{const _0x19183c=_0x5cebd8,_0x464d55=config[_0x19183c(0x11d)]['find'](_0xb548e6=>_0xb548e6[_0x19183c(0xb5)]==_0x5965d5[_0x19183c(0xb5)]);if(_0x464d55&&_0x5965d5[_0x19183c(0xb9)]!=_0x464d55[_0x19183c(0xb9)])_0xc0c865=!![];});let _0x21949b=dbConfig['get']('bot')[_0x5cebd8(0x137)]({'botID':botID})['value']();_0x38ac3d={..._0x38ac3d,'apiKey':decryptRSA(secure[_0x5cebd8(0xb1)],_0x38ac3d[_0x5cebd8(0x195)]),'apiSecret':decryptRSA(secure['privateKey'],_0x38ac3d[_0x5cebd8(0x1cc)])};_0x38ac3d[_0x5cebd8(0x127)]&&(_0x38ac3d[_0x5cebd8(0x127)]=decryptRSA(secure['privateKey'],_0x38ac3d[_0x5cebd8(0x127)]));let _0x314d71=![];if(_0x21949b){_0x38ac3d[_0x5cebd8(0x195)]==_0x5cebd8(0x25a)?_0x38ac3d[_0x5cebd8(0x195)]=config[_0x5cebd8(0x195)]:_0x314d71=!![];_0x38ac3d[_0x5cebd8(0x1cc)]==_0x5cebd8(0x25a)?_0x38ac3d[_0x5cebd8(0x1cc)]=config[_0x5cebd8(0x1cc)]:_0x314d71=!![];if(_0x38ac3d[_0x5cebd8(0x127)]==_0x5cebd8(0x25a))_0x38ac3d['apiPassword']=config['apiPassword'];else{if(_0x38ac3d[_0x5cebd8(0x127)])_0x314d71=!![];}dbConfig['get']('bot')[_0x5cebd8(0x137)]({'botID':botID})[_0x5cebd8(0x158)](_0x38ac3d)[_0x5cebd8(0x1ee)]();}else dbConfig[_0x5cebd8(0xb6)](_0x5cebd8(0x210))[_0x5cebd8(0x24a)](_0x38ac3d)['write'](),_0x314d71=!![],process['send']({'status':'enabled','live':_0x5cebd8(0x1a0)},_0x38d84f=>{});process['send']({'botname':_0x38ac3d['botname']},_0x167021=>{}),config={..._0x38ac3d},updateBotManager(),proxyEmit(_0x5cebd8(0x1ac)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x314d71)!_0x21949b?await reset(!![]):getBalances();else _0xa453f0||_0xc0c865?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x2860df){const _0x57b0c4=_0x22cecc,_0xaa1541={...config,'headless':_0x2860df[_0x57b0c4(0x230)]};let _0x103547=dbConfig[_0x57b0c4(0xb6)](_0x57b0c4(0x210))[_0x57b0c4(0x137)]({'botID':botID})[_0x57b0c4(0xc3)]();_0x103547&&dbConfig[_0x57b0c4(0xb6)](_0x57b0c4(0x210))[_0x57b0c4(0x137)]({'botID':botID})['assign'](_0xaa1541)[_0x57b0c4(0x1ee)](),config={..._0xaa1541},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x1b6224){const _0x34b13d=_0x22cecc,_0x5e74c7={...config,'fiat':_0x1b6224};let _0x54bb07=dbConfig[_0x34b13d(0xb6)](_0x34b13d(0x210))[_0x34b13d(0x137)]({'botID':botID})[_0x34b13d(0xc3)]();_0x54bb07&&dbConfig[_0x34b13d(0xb6)](_0x34b13d(0x210))['find']({'botID':botID})[_0x34b13d(0x158)](_0x5e74c7)[_0x34b13d(0x1ee)](),config={..._0x5e74c7},proxyEmit(_0x34b13d(0x136),emittedConfiguration());}function resetHistory(){const _0x3a28da=_0x22cecc;logger[_0x3a28da(0xf5)](_0x3a28da(0xff));try{if(fs[_0x3a28da(0x129)](path[_0x3a28da(0x1da)](configpath,'bot-'+botID+'-events.json')))fs['unlinkSync'](path['join'](configpath,'bot-'+botID+_0x3a28da(0x21e)));if(fs['existsSync'](path[_0x3a28da(0x1da)](configpath,_0x3a28da(0x17f)+botID+'-performance.json')))fs[_0x3a28da(0x1ab)](path[_0x3a28da(0x1da)](configpath,_0x3a28da(0x17f)+botID+'-performance.json'));if(fs[_0x3a28da(0x129)](path[_0x3a28da(0x1da)](configpath,'bot-'+botID+_0x3a28da(0x1f7))))fs[_0x3a28da(0x1ab)](path[_0x3a28da(0x1da)](configpath,_0x3a28da(0x17f)+botID+_0x3a28da(0x1f7)));}catch(_0x44ed19){if(_0x44ed19)logger[_0x3a28da(0xf5)](_0x3a28da(0x13b),_0x44ed19);}const _0x4e9442=getDate();let _0x373604=[];currentCoins['forEach'](_0x58f3fb=>{const _0x3a9d8e=_0x3a28da;_0x373604[_0x3a9d8e(0x24a)]({'coin':_0x58f3fb[_0x3a9d8e(0xb5)],'number':_0x58f3fb[_0x3a9d8e(0x1d2)],'price':_0x58f3fb[_0x3a9d8e(0x1d1)]});});let _0x54260a=dbConfig['get'](_0x3a28da(0x210))['find']({'botID':botID})[_0x3a28da(0xc3)]();_0x54260a&&(dbConfig[_0x3a28da(0xb6)](_0x3a28da(0x210))[_0x3a28da(0x137)]({'botID':botID})[_0x3a28da(0x158)]({'liquidity':[{'date':_0x4e9442,'changes':_0x373604}]})[_0x3a28da(0x1ee)](),config[_0x3a28da(0x1a2)]=[]),restartBot(!![]);}function noslash(_0x42d12c){return _0x42d12c['replace']('/','');}function updateHighestFee(_0xb4a110){const _0x11da3d=_0x22cecc;if(_0xb4a110[_0x11da3d(0x1e2)]){let _0x1083e8={'filled':_0xb4a110[_0x11da3d(0xfc)]*_0xb4a110['price'],'amount':_0xb4a110[_0x11da3d(0xfc)]*_0xb4a110[_0x11da3d(0x160)],'side':_0xb4a110['side']==_0x11da3d(0x1ae)?_0x11da3d(0x134):_0x11da3d(0x1ae),'price':0x1/_0xb4a110[_0x11da3d(0x160)]};_0xb4a110={..._0xb4a110,..._0x1083e8};}const _0x1e2176=defaultFee*_0xb4a110[_0x11da3d(0xfc)]*_0xb4a110[_0x11da3d(0x160)];lastFees[_0x11da3d(0x183)][_0x11da3d(0x1e1)]===0x14&&lastFees[_0x11da3d(0x183)]['shift'](),lastFees[_0x11da3d(0x183)][_0x11da3d(0x24a)](_0x1e2176),lastFees['highest']=Math[_0x11da3d(0x25b)](...lastFees[_0x11da3d(0x183)]);}async function updateNumberCoinsCcxt(_0x186cd7){const _0x374db3=_0x22cecc;logger[_0x374db3(0x19e)](_0x374db3(0x122)+_0x186cd7[_0x374db3(0x9f)]+_0x374db3(0x9a)+_0x186cd7[_0x374db3(0xfd)]+'\x20|\x20'+_0x186cd7['filled']+_0x374db3(0xda)+_0x186cd7['amount']+_0x374db3(0x9a)+_0x186cd7['id']);let _0x3f0126=_0x186cd7[_0x374db3(0xfd)],_0x300848=![];currentCoins['forEach'](_0x12a1ec=>{const _0x5b4b18=_0x374db3;_0x12a1ec[_0x5b4b18(0x9f)]==_0x186cd7['symbol']&&(_0x300848=!![]);});if(!_0x300848)return;const _0x5f1faf=currentCoins[_0x374db3(0x137)](_0xf9ddf9=>_0xf9ddf9[_0x374db3(0x9f)]==_0x186cd7['symbol']),_0x156cfc=_0x5f1faf['coin'],_0x5f0026=_0x4404eb=>{const _0x423559=_0x374db3,_0x14e6f2=currentCoins[_0x423559(0x137)](_0x5de4f8=>_0x5de4f8[_0x423559(0x9f)]==_0x186cd7[_0x423559(0x9f)]);if(_0x14e6f2)_0x14e6f2[_0x423559(0x252)]=_0x4404eb;};let _0x2dc829=![];for(const _0x253fa0 of lastOrders){const _0x4c28ef=0x64,_0xcdd210=0x1388;let _0x2988e7=0x0;while(!_0x253fa0[_0x374db3(0x185)]&&_0x2988e7*_0x4c28ef<_0xcdd210){_0x2988e7++,await sleep(_0x4c28ef);}if(_0x2988e7>0x0)logger[_0x374db3(0x19e)]('Waited\x20'+_0x2988e7*_0x4c28ef/0x3e8+_0x374db3(0x1dd));_0x253fa0[_0x374db3(0x185)]==_0x186cd7['id']&&(_0x2dc829=!![]);}if(_0x3f0126=='open'){_0x5f0026(_0x374db3(0xa8));if(_0x186cd7['filled']>0x0&&_0x186cd7[_0x374db3(0xfc)]<_0x186cd7[_0x374db3(0xf1)]){if(_0x2dc829){setBlockTransactionDetection(!![]),logger[_0x374db3(0x19e)](_0x374db3(0xd0)+_0x186cd7[_0x374db3(0xfc)]+_0x374db3(0xcd)+_0x186cd7['id']);const _0x470018=await getCoins(balanceUpdateDelay,undefined,undefined,_0x156cfc);[currentCoins,currentCoinsAll]=_0x470018,setBlockTransactionDetection(![]);}else logger[_0x374db3(0x19e)](_0x374db3(0xd0)+_0x186cd7[_0x374db3(0xfc)]+')\x20unknown\x20order:\x20'+_0x186cd7['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x3f0126==_0x374db3(0x18a)){_0x5f0026(_0x374db3(0x18a)),lastOrders=lastOrders['filter'](_0x970552=>_0x970552[_0x374db3(0x9f)]!=_0x186cd7[_0x374db3(0x9f)]);const _0x690e3b=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x690e3b,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x3f0126==_0x374db3(0x232)){if(lastOrders)for(const _0x227e67 of lastOrders){if(_0x227e67[_0x374db3(0x185)]==_0x186cd7['id']){logger[_0x374db3(0x19e)](_0x374db3(0x21c)+_0x186cd7['id']),_0x2dc829=!![];if(_0x227e67['filled']==0x0){setBlockTransactionDetection(!![]),logger[_0x374db3(0x19e)](_0x374db3(0x168)+_0x186cd7['id']);if(_0x186cd7[_0x374db3(0x1fa)])_0x227e67[_0x374db3(0x160)]=_0x186cd7[_0x374db3(0x1fa)];else{if(_0x186cd7[_0x374db3(0x160)])_0x227e67[_0x374db3(0x160)]=_0x186cd7['price'];else{}}_0x227e67[_0x374db3(0xfc)]=_0x186cd7[_0x374db3(0xfc)],updateHighestFee(_0x227e67);const _0x3eabf1=await getCoins(balanceUpdateDelay,undefined,undefined,_0x156cfc);[currentCoins,currentCoinsAll]=_0x3eabf1,setBlockTransactionDetection(![]),await validateOrders(),_0x5f0026(_0x374db3(0xfc)),_0x227e67[_0x374db3(0x1d9)]={'currency':_0x186cd7['fee']?_0x186cd7[_0x374db3(0x1d9)][_0x374db3(0x1d7)]:null,'cost':_0x186cd7[_0x374db3(0x1d9)]?_0x186cd7[_0x374db3(0x1d9)][_0x374db3(0x1d0)]:0x0},await updateCoinResults(_0x227e67);}}}!_0x2dc829&&(logger[_0x374db3(0x19e)](_0x374db3(0x1a6)+_0x186cd7['id']),_0x5f0026(_0x374db3(0xfc)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x327700=JSON[_0x374db3(0x11a)](lastBalances[_0x374db3(0x11d)]);const _0x4051d0=_0x327700[_0x374db3(0x137)](_0x13f81d=>_0x13f81d['symbol']==_0x186cd7[_0x374db3(0x9f)]);if(_0x4051d0){if(_0x3f0126==_0x374db3(0xa8))_0x4051d0['orderstatus']=_0x4051d0[_0x374db3(0x252)]==_0x374db3(0xfc)?_0x374db3(0xfc):_0x374db3(0xa8);else{if(_0x3f0126==_0x374db3(0x18a))_0x4051d0[_0x374db3(0x252)]=_0x4051d0[_0x374db3(0x252)]==_0x374db3(0xfc)?_0x374db3(0xfc):_0x374db3(0x18a);else _0x3f0126==_0x374db3(0x232)&&(_0x4051d0[_0x374db3(0x252)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x374db3(0x113)](_0x327700)},proxyEmit(_0x374db3(0x242),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x495ea7=_0x22cecc;await getOpenOrders();let _0x14d6be=![];currentCoins[_0x495ea7(0x178)](_0x23f0b9=>{const _0x29ab86=_0x495ea7;_0x14d6be=allOpenOrders['find'](_0x2f5cf3=>_0x2f5cf3[_0x29ab86(0x9f)]==_0x23f0b9[_0x29ab86(0x9f)]),_0x23f0b9[_0x29ab86(0x252)]=_0x14d6be?_0x29ab86(0xa8):_0x29ab86(0x174);});}async function fetchBalance(_0x4a7670=!![]){const _0x56217d=_0x22cecc;let _0x488d0e,_0x241d61;try{return _0x488d0e=await exchange[_0x56217d(0xc7)](),_0x241d61=_0x488d0e[_0x56217d(0xb3)],_0x241d61;}catch(_0x324042){return!_0x4a7670?handleErrorNoStop(_0x324042,_0x56217d(0x238)):await handleError(_0x324042,_0x56217d(0x238)),![];}}async function getCoins(_0x139075=0x0,_0x46a5c8=!![],_0x5f30e3=config['basecoin'],_0x19ee2d){const _0x584f89=_0x22cecc;let _0x4b1aa4=[],_0x11c983=[],_0x3f1fdf=[],_0x346282;if(_0x139075)await sleep(_0x139075);if(botPaused)return[currentCoins,currentCoinsAll];let _0x40e876=![],_0x4a4e3f=0x0,_0x86a591,_0x59fcf2;_0x19ee2d&&(_0x86a591=currentCoins[_0x584f89(0x137)](_0x5bcfe5=>_0x5bcfe5[_0x584f89(0xb5)]==_0x19ee2d),_0x59fcf2=_0x86a591['number']);while(!_0x40e876){_0x346282=await fetchBalance(_0x46a5c8);if(_0x346282){if(_0x19ee2d){if(_0x346282[_0x19ee2d]!=_0x59fcf2)logger[_0x584f89(0x19e)]('Valid\x20balance\x20for\x20'+_0x19ee2d+':\x20'+_0x346282[_0x19ee2d]+'\x20('+_0x59fcf2+')'),_0x40e876=!![];else{logger[_0x584f89(0x19e)](_0x584f89(0xb4)+_0x19ee2d+':\x20'+_0x346282[_0x19ee2d]+'\x20('+_0x59fcf2+')'),_0x4a4e3f++;if(_0x4a4e3f<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x584f89(0x19e)](_0x584f89(0x233)+_0x4a4e3f+_0x584f89(0x11c));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x46e647,_0x41c5f6]of Object[_0x584f89(0x172)](_0x346282)){_0x3f1fdf[_0x584f89(0x24a)](_0x46e647);}config[_0x584f89(0x11d)]['forEach'](_0x521b33=>{const _0x59f3b3=_0x584f89;!_0x3f1fdf['includes'](_0x521b33[_0x59f3b3(0xb5)])&&(_0x346282[_0x521b33['coin']]=0x0);});if(_0x5f30e3=='')for(const [_0x4c852a,_0x4934fe]of Object[_0x584f89(0x172)](_0x346282)){_0x4934fe!=0x0&&_0x4b1aa4['push']({'coin':_0x4c852a});}else for(const [_0x6341c1,_0x19197e]of Object[_0x584f89(0x172)](_0x346282)){const _0x9629c4=config[_0x584f89(0x11d)][_0x584f89(0x137)](_0x341517=>_0x341517[_0x584f89(0xb5)]==_0x6341c1),_0x4029bd=_0x6341c1+'/'+_0x5f30e3,_0x66d748=_0x5f30e3+'/'+_0x6341c1,_0x22c678=currentCoins['find'](_0x58d4e5=>_0x58d4e5[_0x584f89(0xb5)]==_0x6341c1);if((_0x19197e!=0x0||_0x9629c4)&&(allSymbols['includes'](_0x4029bd)||_0x6341c1==_0x5f30e3))_0x22c678?_0x4b1aa4[_0x584f89(0x24a)]({..._0x22c678,'number':Math[_0x584f89(0x25b)](_0x19197e+(_0x9629c4&&_0x9629c4[_0x584f89(0xb9)]||0x0),0x0)}):_0x4b1aa4['push']({'coin':_0x6341c1,'symbol':_0x4029bd,'reverse':![],'number':Math['max'](_0x19197e+(_0x9629c4&&_0x9629c4[_0x584f89(0xb9)]||0x0),0x0),'orderstatus':_0x584f89(0x174)});else{if((_0x19197e!=0x0||_0x9629c4)&&allSymbols[_0x584f89(0x1eb)](_0x66d748))_0x22c678?_0x4b1aa4[_0x584f89(0x24a)]({..._0x22c678,'number':Math['max'](_0x19197e+(_0x9629c4&&_0x9629c4[_0x584f89(0xb9)]||0x0),0x0)}):_0x4b1aa4['push']({'coin':_0x6341c1,'symbol':_0x66d748,'reverse':!![],'number':Math[_0x584f89(0x25b)](_0x19197e+(_0x9629c4&&_0x9629c4[_0x584f89(0xb9)]||0x0),0x0),'orderstatus':'none'});else _0x9629c4&&_0x4b1aa4['push']({'coin':_0x9629c4['coin'],'symbol':_0x9629c4[_0x584f89(0x9f)],'reverse':_0x9629c4[_0x584f89(0x1e2)],'number':0x0,'orderstatus':'none'});}}return _0x4b1aa4[_0x584f89(0x98)]((_0x27d481,_0x6168fa)=>_0x27d481[_0x584f89(0x1f9)]<_0x6168fa['delta']?0x1:_0x6168fa[_0x584f89(0x1f9)]<_0x27d481['delta']?-0x1:0x0),_0x11c983=cloneDeep(_0x4b1aa4),_0x4b1aa4=_0x4b1aa4['filter'](_0x3d3c55=>{const _0x1825e8=_0x584f89,_0x55ab0f=config[_0x1825e8(0x11d)][_0x1825e8(0x137)](_0x557fca=>_0x557fca[_0x1825e8(0xb5)]==_0x3d3c55['coin']);return _0x55ab0f&&!_0x55ab0f[_0x1825e8(0xd4)];}),[_0x4b1aa4,_0x11c983];}async function getCoinNumber(_0x320211){const _0xccb794=_0x22cecc;let _0x27162d;try{const _0x443285=await exchange[_0xccb794(0xc7)]();_0x27162d=_0x443285[_0xccb794(0xb3)][_0x320211];}catch(_0x2cecf6){await handleError(_0x2cecf6,_0xccb794(0xef));}return _0x27162d;}async function getOpenOrders(){const _0x293c26=_0x22cecc;let _0x3b68a9;allOpenOrders=[];try{for(const _0x4af537 of config['portfolio']){!_0x4af537['excluded']&&_0x4af537[_0x293c26(0xb5)]!=config[_0x293c26(0x1e8)]&&(_0x3b68a9=await exchange['fetchOpenOrders'](_0x4af537[_0x293c26(0x9f)]),_0x3b68a9['length']>0x0&&allOpenOrders[_0x293c26(0x24a)](_0x3b68a9[0x0]));}}catch(_0x413736){await handleError(_0x413736,_0x293c26(0x250));}}async function handleOpenOrders(_0x4f7a49=0x0){const _0x3edbe9=_0x22cecc;allOpenOrders[_0x3edbe9(0x1e1)]==0x0&&lockOrders==ORDERS[_0x3edbe9(0x1ec)]&&allOrdersPlaced&&(_0x4f7a49==0x0?(logger[_0x3edbe9(0x19e)]('1\x20-\x20Handle\x20open\x20orders'),_0x4f7a49++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3edbe9(0x19e)](_0x3edbe9(0x222)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x20bede){const _0x31370f=_0x22cecc,_0x4e3a78=ccxt['pro'][_0x20bede['exchange'][_0x31370f(0x177)]()],_0x58266e=new _0x4e3a78({'apiKey':_0x20bede[_0x31370f(0x195)],'secret':_0x20bede['apiSecret'],'options':{'defaultType':_0x31370f(0x1ed)}});if(_0x20bede[_0x31370f(0x127)])_0x58266e[_0x31370f(0xd6)]=_0x20bede[_0x31370f(0x127)];try{await _0x58266e[_0x31370f(0xc7)]();}catch(_0x11c390){logger[_0x31370f(0x19e)](_0x31370f(0xd2)+_0x11c390[_0x31370f(0x97)]());throw _0x11c390;}}function cloneDeep(_0x462290){const _0x8908d2=_0x22cecc;return JSON[_0x8908d2(0x11a)](JSON[_0x8908d2(0x113)](_0x462290));}async function getPortfolio(_0x2e1798){const _0x3d4a02=_0x22cecc;let _0x1c5f80=[],_0x367e3f=[],_0x314797=[],_0x2034d7;_0x2e1798[_0x3d4a02(0x195)]=decryptRSA(secure[_0x3d4a02(0xb1)],_0x2e1798[_0x3d4a02(0x195)]),_0x2e1798['apiSecret']=decryptRSA(secure[_0x3d4a02(0xb1)],_0x2e1798[_0x3d4a02(0x1cc)]);if(_0x2e1798[_0x3d4a02(0x127)])_0x2e1798['apiPassword']=decryptRSA(secure[_0x3d4a02(0xb1)],_0x2e1798[_0x3d4a02(0x127)]);if(_0x2e1798['apiKey']!==_0x3d4a02(0x25a)||_0x2e1798[_0x3d4a02(0x1cc)]!==_0x3d4a02(0x25a)||_0x2e1798[_0x3d4a02(0x127)]&&_0x2e1798[_0x3d4a02(0x127)]!==_0x3d4a02(0x25a)){if(config[_0x3d4a02(0x1a4)]){if(_0x2e1798[_0x3d4a02(0x195)]==_0x3d4a02(0x25a))_0x2e1798[_0x3d4a02(0x195)]=config['apiKey'];if(_0x2e1798['apiSecret']=='************')_0x2e1798[_0x3d4a02(0x1cc)]=config[_0x3d4a02(0x1cc)];if(_0x2e1798['apiPassword']=='************')_0x2e1798[_0x3d4a02(0x127)]=config[_0x3d4a02(0x127)];}try{await testAPI(_0x2e1798);}catch(_0x29c7d8){if(_0x29c7d8['toString']()[_0x3d4a02(0x1eb)]('AuthenticationError')){logHistory(_0x3d4a02(0x1aa),'Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x3d4a02(0x1aa),_0x3d4a02(0xf0)+_0x29c7d8[_0x3d4a02(0x97)]()),proxyEmit(_0x3d4a02(0x194),![]);return;}else{if(_0x29c7d8[_0x3d4a02(0x97)]()[_0x3d4a02(0x1eb)]('PermissionDenied')){logHistory(_0x3d4a02(0x1aa),_0x3d4a02(0x17d)),logHistory(_0x3d4a02(0x1aa),_0x3d4a02(0xf0)+_0x29c7d8[_0x3d4a02(0x97)]()),proxyEmit(_0x3d4a02(0x194),![]);return;}else{logHistory(_0x3d4a02(0x1aa),_0x3d4a02(0x25f)+_0x29c7d8[_0x3d4a02(0x97)]()),logger[_0x3d4a02(0x19e)]('Error\x20details:',_0x29c7d8),proxyEmit(_0x3d4a02(0x194),![]);return;}}}exchange?updateExchange(_0x2e1798['apiKey'],_0x2e1798[_0x3d4a02(0x1cc)],_0x2e1798[_0x3d4a02(0x127)]):await initExchange(_0x2e1798['exchange'],_0x2e1798['apiKey'],_0x2e1798['apiSecret'],_0x2e1798['apiPassword']);await loadSymbols();const _0xe1abb9=await getCoins(0x0,![],_0x2e1798['basecoin']);_0x314797=cloneDeep(_0xe1abb9[0x1]);}else{const _0x15fb7d=await getCoins();_0x314797=cloneDeep(_0x15fb7d[0x1]);}if(_0x2e1798[_0x3d4a02(0x1e8)]=='')proxyEmit(_0x3d4a02(0x194),!![]),proxyEmit(_0x3d4a02(0xbe),_0x314797);else{_0x314797['forEach'](_0x5d2ca1=>{const _0x2ad44b=_0x3d4a02;if(_0x5d2ca1['coin']!=_0x2e1798[_0x2ad44b(0x1e8)]&&allSymbols[_0x2ad44b(0x1eb)](_0x5d2ca1[_0x2ad44b(0x9f)]))_0x1c5f80[_0x2ad44b(0x24a)](_0x5d2ca1['symbol']);});if(_0x1c5f80[_0x3d4a02(0x1e1)]==0x0)logHistory(_0x3d4a02(0x1aa),_0x3d4a02(0x1b7));else{try{_0x367e3f=await getTickers(_0x1c5f80);}catch(_0x36d85f){logHistory(_0x3d4a02(0x1aa),_0x3d4a02(0xe8)),logger[_0x3d4a02(0x19e)](_0x3d4a02(0x103),_0x36d85f),proxyEmit(_0x3d4a02(0x194),![]);return;}_0x314797[_0x3d4a02(0x178)](_0x5f4483=>{const _0x561ecb=_0x3d4a02;_0x5f4483[_0x561ecb(0xb5)]!=_0x2e1798[_0x561ecb(0x1e8)]?_0x367e3f[_0x5f4483[_0x561ecb(0x9f)]]?_0x2034d7=_0x5f4483[_0x561ecb(0x1e2)]?0x1/_0x367e3f[_0x5f4483[_0x561ecb(0x9f)]]['last']:_0x367e3f[_0x5f4483['symbol']]['last']:_0x2034d7=0x0:_0x2034d7=0x1,_0x5f4483[_0x561ecb(0x160)]=formatResult(_0x2034d7,0x8);}),await getMarketCap(_0x314797),proxyEmit(_0x3d4a02(0x194),!![]),proxyEmit(_0x3d4a02(0xbe),_0x314797);}}}function truncateTradeAmount(_0x37f19a,_0x30e048){const _0x57eb2f=_0x22cecc;let _0x5ae0de=0x0;try{_0x5ae0de=exchange[_0x57eb2f(0x110)](_0x37f19a,_0x30e048);}catch(_0x23fc97){}return _0x5ae0de;}function checkMinimums(_0x26d4da){const _0x26f22c=_0x22cecc;let _0x4653ab=!![];const _0x2f5074=!_0x26d4da[_0x26f22c(0x1e2)]?markets[_0x26d4da[_0x26f22c(0x9f)]][_0x26f22c(0x16b)][_0x26f22c(0xf1)][_0x26f22c(0x1f2)]:markets[_0x26d4da['symbol']][_0x26f22c(0x16b)]['cost'][_0x26f22c(0x1f2)],_0x3651f5=!_0x26d4da[_0x26f22c(0x1e2)]?markets[_0x26d4da[_0x26f22c(0x9f)]][_0x26f22c(0x16b)][_0x26f22c(0x1d0)][_0x26f22c(0x1f2)]:markets[_0x26d4da[_0x26f22c(0x9f)]][_0x26f22c(0x16b)][_0x26f22c(0xf1)][_0x26f22c(0x1f2)],_0x18683b=truncateTradeAmount(_0x26d4da[_0x26f22c(0x9f)],_0x26d4da[_0x26f22c(0xb8)]);_0x26d4da[_0x26f22c(0xb8)]=_0x18683b;if(Math[_0x26f22c(0xcc)](_0x18683b)<_0x2f5074)_0x4653ab=![];if(Math[_0x26f22c(0xcc)](_0x18683b)*_0x26d4da[_0x26f22c(0x1d1)]<_0x3651f5)_0x4653ab=![];if(_0x26d4da[_0x26f22c(0x1a7)]==_0x26f22c(0x1ae)){let _0x54009d=config[_0x26f22c(0x11d)][_0x26f22c(0x137)](_0x2861c9=>_0x2861c9[_0x26f22c(0xb5)]==_0x26d4da['coin']);if(_0x54009d[_0x26f22c(0xb9)]>0x0){if(Math[_0x26f22c(0xcc)](_0x18683b)>_0x26d4da['number']-_0x54009d['offset'])_0x4653ab=![];}else{if(Math[_0x26f22c(0xcc)](_0x18683b)>_0x26d4da[_0x26f22c(0x1d2)])_0x4653ab=![];}}if(_0x26d4da['side']=='buy'){let _0xa988c8=config[_0x26f22c(0x11d)][_0x26f22c(0x137)](_0x28e637=>_0x28e637['coin']==config[_0x26f22c(0x1e8)]),_0x57fc43=currentCoins['find'](_0x3ec54b=>_0x3ec54b[_0x26f22c(0xb5)]==config['basecoin']);if(_0xa988c8[_0x26f22c(0xb9)]>0x0){if(Math[_0x26f22c(0xcc)](_0x18683b)*_0x26d4da[_0x26f22c(0x1d1)]>_0x57fc43[_0x26f22c(0x1d2)]-_0xa988c8[_0x26f22c(0xb9)])_0x4653ab=![];}else{if(Math[_0x26f22c(0xcc)](_0x18683b)*_0x26d4da['last']>_0x57fc43[_0x26f22c(0x1d2)])_0x4653ab=![];}}return _0x4653ab;}async function getBalances(_0x10b6fb=!![]){const _0x18bb10=_0x22cecc;if(botPaused)return;let _0x3ba2e9=0x0,_0x2148ef;const _0x3d758c=config[_0x18bb10(0xcb)];if(config[_0x18bb10(0x230)]&&config[_0x18bb10(0x108)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x2c02d5=>{const _0x445f1e=_0x18bb10;if(_0x2c02d5[_0x445f1e(0xb5)]!=config['basecoin']){let _0x3bcab2=gTicker[noslash(_0x2c02d5[_0x445f1e(0x9f)])];_0x2148ef=_0x2c02d5['reverse']?0x1/_0x3bcab2:_0x3bcab2;}else _0x2148ef=0x1;let _0x262202=_0x2c02d5[_0x445f1e(0x1d2)]*_0x2148ef;_0x3ba2e9+=_0x262202,_0x2c02d5[_0x445f1e(0x1d1)]=formatResult(Number(_0x2148ef),0x8),_0x2c02d5[_0x445f1e(0xc3)]=_0x262202;}),currentCoins[_0x18bb10(0x178)](_0x439020=>{const _0x30e5f0=_0x18bb10;let _0x1abc77=config['portfolio']['find'](_0x2a4a9e=>_0x2a4a9e[_0x30e5f0(0xb5)]==_0x439020['coin']),_0x46dcc3=Number(_0x1abc77[_0x30e5f0(0x13f)]),_0x5600be=_0x439020[_0x30e5f0(0xc3)]/_0x3ba2e9*0x64,_0x24e47f=_0x46dcc3*_0x3ba2e9/0x64/_0x439020[_0x30e5f0(0x1d1)]-_0x439020[_0x30e5f0(0x1d2)];_0x439020[_0x30e5f0(0x13f)]=formatResult(_0x5600be,0x3),_0x439020['target']=formatResult(_0x46dcc3,0x3),_0x439020[_0x30e5f0(0xb8)]=formatResult(_0x24e47f,0x8),_0x439020[_0x30e5f0(0x1a7)]='',_0x439020[_0x30e5f0(0x1ea)]=![];if(_0x439020[_0x30e5f0(0xb5)]!=config[_0x30e5f0(0x1e8)]){if(_0x439020[_0x30e5f0(0x13f)]>_0x46dcc3)_0x439020[_0x30e5f0(0x1a7)]='sell',_0x439020[_0x30e5f0(0x1ea)]=checkMinimums(_0x439020);else _0x439020[_0x30e5f0(0x13f)]<_0x46dcc3&&(_0x439020[_0x30e5f0(0x1a7)]=_0x30e5f0(0x134),_0x439020[_0x30e5f0(0x1ea)]=checkMinimums(_0x439020));}_0x439020[_0x30e5f0(0x1f9)]=_0x439020[_0x30e5f0(0x13f)]/_0x439020['target']-0x1;if(_0x439020[_0x30e5f0(0x252)]=='filled'||_0x439020[_0x30e5f0(0x252)]=='canceled')_0x439020['orderstatus']=_0x30e5f0(0x174);}),currentCoins[_0x18bb10(0x98)]((_0x424664,_0x232ee3)=>_0x424664[_0x18bb10(0x1f9)]<_0x232ee3[_0x18bb10(0x1f9)]?0x1:_0x232ee3[_0x18bb10(0x1f9)]<_0x424664[_0x18bb10(0x1f9)]?-0x1:0x0);const _0x3593d9=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3593d9['eur'],'usd':_0x3593d9[_0x18bb10(0xaf)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x3d758c},proxyEmit(_0x18bb10(0x242),{'serverversion':serverversion,'balances':lastBalances});if(_0x10b6fb){if(config[_0x18bb10(0x230)])headlessMode({'portfolio':currentCoins,'threshold':_0x3d758c});else lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x3d758c});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x3f1ece=getNormalizedPerformance();getStartingBalances(_0x3f1ece),emitPerformance(_0x3f1ece);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x24fd13=_0x22cecc;if(!lastBalances)return;let _0x48092c=[],_0x5e56f5,_0x1f6bcb=JSON['parse'](lastBalances[_0x24fd13(0x11d)]);_0x1f6bcb[_0x24fd13(0x98)]((_0xd1fb98,_0xc61809)=>_0xd1fb98[_0x24fd13(0xb5)]>_0xc61809['coin']?0x1:_0xc61809['coin']>_0xd1fb98[_0x24fd13(0xb5)]?-0x1:0x0),_0x1f6bcb[_0x24fd13(0x178)](_0x4f8248=>{const _0x52097b=_0x24fd13;let _0x497c0e={'coin':_0x4f8248[_0x52097b(0xb5)],'number':_0x4f8248[_0x52097b(0x1d2)],'price':_0x4f8248[_0x52097b(0x1d1)]};_0x48092c['push'](_0x497c0e);});const _0x178bd0=await getFiat();_0x5e56f5={'date':lastBalances[_0x24fd13(0x21d)][_0x24fd13(0xce)]('\x20')[0x0],'eur':_0x178bd0[_0x24fd13(0xd7)],'usd':_0x178bd0[_0x24fd13(0xaf)],'coins':_0x48092c};let _0x19820c=dbPerformance[_0x24fd13(0xb6)]('data')['find']({'date':_0x5e56f5[_0x24fd13(0x1df)]})[_0x24fd13(0xc3)]();_0x19820c?_0x5e56f5[_0x24fd13(0x1df)]!=config[_0x24fd13(0xf2)]&&dbPerformance[_0x24fd13(0xb6)]('data')[_0x24fd13(0x137)]({'date':_0x5e56f5[_0x24fd13(0x1df)]})[_0x24fd13(0x158)](_0x5e56f5)['write']():dbPerformance[_0x24fd13(0xb6)](_0x24fd13(0x159))[_0x24fd13(0x24a)](_0x5e56f5)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4f8a51=_0x22cecc;let _0xd8f51f=[];if(dbPerformance[_0x4f8a51(0xc2)]('data')[_0x4f8a51(0xc3)]()){let _0x266b36=dbPerformance['get']('data')[_0x4f8a51(0x1a8)]()[_0x4f8a51(0x12d)](_0x2365f9=>{const _0x4b9242=_0x4f8a51;if(_0x2365f9[_0x4b9242(0x23b)][_0x4b9242(0x1e1)]==0x0)return![];else return!![];})[_0x4f8a51(0x236)](_0x4f8a51(0x1df))[_0x4f8a51(0xc3)](),_0x556881=[...config['liquidity']];_0x556881['sort']((_0x1edc8a,_0x26ba11)=>_0x1edc8a['date']>_0x26ba11[_0x4f8a51(0x1df)]?-0x1:_0x26ba11[_0x4f8a51(0x1df)]>_0x1edc8a[_0x4f8a51(0x1df)]?0x1:0x0);let _0x45963f=0x1,_0x6c2746=[],_0x1f500d=0x0;_0x266b36[_0x4f8a51(0x12c)]()[_0x4f8a51(0x1e2)]()['forEach']((_0x22144d,_0x3b85ab)=>{const _0x4ac037=_0x4f8a51;if(_0x556881[_0x1f500d]){if(_0x266b36[_0x266b36[_0x4ac037(0x1e1)]-_0x3b85ab]&&_0x556881[_0x1f500d][_0x4ac037(0x1df)]==_0x266b36[_0x266b36[_0x4ac037(0x1e1)]-_0x3b85ab]['date']){if(_0x3b85ab<_0x266b36['length']){let _0x545c51=0x0,_0x23edc2=0x0;_0x266b36[_0x266b36[_0x4ac037(0x1e1)]-_0x3b85ab][_0x4ac037(0x23b)][_0x4ac037(0x178)](_0x34b145=>{const _0x38f049=_0x4ac037;_0x23edc2+=_0x34b145[_0x38f049(0x1d2)]*_0x34b145[_0x38f049(0x160)];}),_0x556881[_0x1f500d][_0x4ac037(0x1cd)][_0x4ac037(0x178)](_0x3455e1=>{const _0x3fbf55=_0x4ac037;_0x545c51+=_0x3455e1[_0x3fbf55(0x1d2)]*_0x3455e1[_0x3fbf55(0x160)];}),_0x45963f*=_0x545c51/(_0x23edc2-_0x545c51)+0x1;}_0x1f500d++;}}let _0x17d7c6=0x0;_0x22144d['coins'][_0x4ac037(0x178)](_0x4cdb2b=>{const _0x3c86ce=_0x4ac037;_0x17d7c6+=_0x4cdb2b[_0x3c86ce(0x1d2)]*_0x4cdb2b[_0x3c86ce(0x160)];}),_0x6c2746[_0x266b36[_0x4ac037(0x1e1)]-_0x3b85ab-0x1]=_0x17d7c6*(_0x45963f-0x1);});let _0x58fa73=[];_0x556881=[...config['liquidity']]||[];let _0x2da8fc=0x0;_0x1f500d=0x0,_0x266b36['forEach']((_0x4a59f7,_0x14e489)=>{const _0x667afb=_0x4f8a51;if(_0x556881[_0x1f500d]){const _0x5e4902=fns[_0x667afb(0x11a)](_0x556881[_0x1f500d]['date'],_0x667afb(0xc6),new Date()),_0x2dbab7=fns[_0x667afb(0x11a)](_0x4a59f7[_0x667afb(0x1df)],_0x667afb(0xc6),new Date());if(fns[_0x667afb(0x1de)](_0x5e4902,_0x2dbab7)){let _0x2dabd5=0x0;_0x556881[_0x1f500d][_0x667afb(0x1cd)]['forEach'](_0x33cda8=>{const _0x56a794=_0x667afb;!_0x58fa73[_0x33cda8['coin']]?_0x58fa73[_0x33cda8[_0x56a794(0xb5)]]=_0x33cda8[_0x56a794(0x1d2)]:(_0x2dabd5=_0x58fa73[_0x33cda8['coin']],_0x58fa73[_0x33cda8['coin']]+=_0x33cda8[_0x56a794(0x1d2)]);const _0xa6bd05=_0x4a59f7[_0x56a794(0x23b)][_0x56a794(0x137)](_0x213447=>_0x213447['coin']==_0x33cda8[_0x56a794(0xb5)]);(!_0xa6bd05||_0xa6bd05[_0x56a794(0x1d2)]==0x0)&&(_0x2da8fc+=(-_0x33cda8[_0x56a794(0x1d2)]-_0x2dabd5)*_0x33cda8[_0x56a794(0x160)]);}),_0x1f500d++;}}_0x4a59f7[_0x667afb(0x23b)][_0x667afb(0x178)]((_0x450ed9,_0x31153b)=>{const _0x56a58b=_0x667afb;_0x58fa73[_0x450ed9[_0x56a58b(0xb5)]]&&(_0x450ed9['initial']=_0x58fa73[_0x450ed9[_0x56a58b(0xb5)]]);}),_0xd8f51f[_0x667afb(0x24a)]({'date':_0x4a59f7[_0x667afb(0x1df)],'eur':_0x4a59f7['eur'],'usd':_0x4a59f7['usd'],'offset':_0x6c2746[_0x14e489],'netoffset':_0x2da8fc,'coins':_0x4a59f7[_0x667afb(0x23b)]});});}return _0xd8f51f;}function emitPerformance(_0x6d8c0d){const _0x10b384=_0x22cecc;_0x6d8c0d[_0x10b384(0x1e1)]!==0x0?(proxyEmit(_0x10b384(0x166),_0x6d8c0d),lastPerformanceEmitted=getDate()):proxyEmit(_0x10b384(0x166),[]);}function getPerf(_0xa76f83,_0x5dd0da){const _0x160d25=_0x22cecc;let _0x4ec884=0x0,_0x38108d=0x0,_0x1c6a58=0x0;_0xa76f83[_0x160d25(0x23b)][_0x160d25(0x178)](_0x2a38d2=>{const _0x13c551=_0x160d25;_0x4ec884+=_0x2a38d2['number']*_0x2a38d2[_0x13c551(0x160)];});_0x5dd0da&&(_0x4ec884+=_0xa76f83[_0x160d25(0xb9)]);if(config['basecoin']==='BTC'||config[_0x160d25(0x1e8)]===_0x160d25(0xfa)||config[_0x160d25(0x1e8)]===_0x160d25(0x1cb))_0x38108d=_0x4ec884*_0xa76f83[_0x160d25(0xd7)],_0x1c6a58=_0x4ec884*_0xa76f83[_0x160d25(0xaf)];else{if(usdBasecoins[_0x160d25(0x1eb)](config[_0x160d25(0x1e8)]))_0x38108d=_0x4ec884*_0xa76f83['eur']/_0xa76f83[_0x160d25(0xaf)],_0x1c6a58=_0x4ec884;else config[_0x160d25(0x1e8)]===_0x160d25(0x16f)&&(_0x38108d=_0x4ec884,_0x1c6a58=_0x4ec884*_0xa76f83[_0x160d25(0xaf)]/_0xa76f83['eur']);}return[_0x4ec884,_0x38108d,_0x1c6a58];}function getKPIs(_0x40c647,_0x4908b4=_0x22cecc(0x16f)){const _0x548cf4=_0x22cecc,_0x4c629a=config[_0x548cf4(0x1e8)],_0x2fa147=lastBalances,_0x498bec=currentCoins,_0x398776=getNormalizedPerformance(),_0x4c37c0=_0x40c647===_0x548cf4(0x1e8)?_0x4c629a:_0x40c647===_0x548cf4(0x20f)||_0x40c647===_0x548cf4(0x220)?_0x4908b4:'Net\x20'+_0x4c629a,_0x3a90a7=_0x40c647===_0x548cf4(0x1b0)?_0x548cf4(0x244):_0x40c647===_0x548cf4(0x220)?_0x548cf4(0x244):_0x4c37c0+_0x548cf4(0x1a1),_0x1a7e7e=_0x40c647===_0x548cf4(0x1b0)||_0x40c647==='net-fiat'?_0x548cf4(0x244):_0x4c37c0+_0x548cf4(0x169);let _0x13bcfb=0x0;_0x498bec[_0x548cf4(0x178)](_0x1f3131=>{const _0x3356e7=_0x548cf4;_0x13bcfb+=_0x1f3131['number']*_0x1f3131[_0x3356e7(0x1d1)];});if(_0x40c647===_0x548cf4(0x20f)||_0x40c647===_0x548cf4(0x220)){if(_0x4c629a===_0x548cf4(0x202)||_0x4c629a===_0x548cf4(0xfa)||_0x4c629a===_0x548cf4(0x1cb))_0x13bcfb=_0x13bcfb*(_0x4908b4===_0x548cf4(0x16f)?_0x2fa147[_0x548cf4(0xd7)]:_0x2fa147[_0x548cf4(0xaf)]);else{if(usdBasecoins['includes'](_0x4c629a))_0x13bcfb=_0x13bcfb*(_0x4908b4===_0x548cf4(0x16f)?_0x2fa147['eur']/_0x2fa147['usd']:0x1);else _0x4c629a===_0x548cf4(0x16f)&&(_0x13bcfb=_0x13bcfb*(_0x4908b4===_0x548cf4(0x16f)?0x1:_0x2fa147[_0x548cf4(0xaf)]/_0x2fa147[_0x548cf4(0xd7)]));}}let _0x3ca6c7;if(_0x13bcfb!==0x0){if(_0x40c647===_0x548cf4(0x1e8))_0x3ca6c7=(_0x13bcfb/startingBalances[_0x548cf4(0x1e8)]-0x1)*0x64;else{if(_0x4908b4===_0x548cf4(0x16f))_0x3ca6c7=(_0x13bcfb/startingBalances[_0x548cf4(0xd7)]-0x1)*0x64;else _0x3ca6c7=(_0x13bcfb/startingBalances[_0x548cf4(0xaf)]-0x1)*0x64;}let _0x16cef=0x0;if(startingBalances['coins'])_0x498bec[_0x548cf4(0x178)](_0x3caba2=>{const _0x28bdc6=_0x548cf4;let _0x362e9b=startingBalances[_0x28bdc6(0x23b)]['find'](_0x34d4c4=>_0x34d4c4['coin']===_0x3caba2[_0x28bdc6(0xb5)]);if(_0x362e9b&&_0x362e9b[_0x28bdc6(0xb5)]&&_0x3caba2[_0x28bdc6(0x1d2)]!==0x0)_0x16cef+=_0x362e9b[_0x28bdc6(0x1d2)]*_0x3caba2[_0x28bdc6(0x1d1)];});let _0xcdb0d9=0x0;if(_0x398776[_0x548cf4(0x1e1)]!==0x0){let _0x43f96f=_0x398776[_0x398776[_0x548cf4(0x1e1)]-0x1];_0xcdb0d9=_0x43f96f[_0x548cf4(0x1c7)];}_0x16cef-=_0xcdb0d9;_0x40c647===_0x548cf4(0x1b0)&&(_0x3ca6c7=(_0x13bcfb-_0x16cef)/startingBalances[_0x548cf4(0x1e8)]*0x64,_0x13bcfb=_0x13bcfb-_0x16cef);if(_0x40c647===_0x548cf4(0x220)){let _0x26f69c=_0x4908b4===_0x548cf4(0x16f)?startingBalances[_0x548cf4(0xd7)]:startingBalances[_0x548cf4(0xaf)];if(_0x4c629a==='BTC'||_0x4c629a===_0x548cf4(0xfa)||_0x4c629a===_0x548cf4(0x1cb))_0x16cef=_0x4908b4===_0x548cf4(0x16f)?_0x16cef*_0x2fa147[_0x548cf4(0xd7)]:_0x16cef*_0x2fa147[_0x548cf4(0xaf)];else{if(usdBasecoins[_0x548cf4(0x1eb)](_0x4c629a))_0x16cef=_0x4908b4===_0x548cf4(0x16f)?_0x16cef*_0x2fa147[_0x548cf4(0xd7)]/_0x2fa147['usd']:_0x16cef;else _0x4c629a===_0x548cf4(0x16f)&&(_0x16cef=_0x4908b4==='EUR'?_0x16cef:_0x16cef*_0x2fa147[_0x548cf4(0xaf)]/_0x2fa147[_0x548cf4(0xd7)]);}_0x3ca6c7=(_0x13bcfb-_0x16cef)/_0x26f69c*0x64,_0x13bcfb=_0x13bcfb-_0x16cef;}if(_0x3ca6c7){if(_0x3ca6c7<0x64)_0x3ca6c7=_0x3ca6c7[_0x548cf4(0x221)](0x2);else{if(_0x3ca6c7<0x3e8)_0x3ca6c7=_0x3ca6c7[_0x548cf4(0x221)](0x1);else _0x3ca6c7=_0x3ca6c7[_0x548cf4(0x221)](0x0);}}else _0x3ca6c7=Number('0')[_0x548cf4(0x221)](0x2);if(_0x13bcfb){if(Math['abs'](_0x13bcfb)<0.000001)_0x13bcfb=_0x13bcfb[_0x548cf4(0x221)](0x2);else{if(Math['abs'](_0x13bcfb)<0.1)_0x13bcfb=_0x13bcfb[_0x548cf4(0x221)](0x6);else{if(Math[_0x548cf4(0xcc)](_0x13bcfb)<0x1)_0x13bcfb=_0x13bcfb['toFixed'](0x5);else{if(Math['abs'](_0x13bcfb)<0xa)_0x13bcfb=_0x13bcfb[_0x548cf4(0x221)](0x4);else{if(Math[_0x548cf4(0xcc)](_0x13bcfb)<0x64)_0x13bcfb=_0x13bcfb[_0x548cf4(0x221)](0x3);else{if(Math[_0x548cf4(0xcc)](_0x13bcfb)<0x3e8)_0x13bcfb=_0x13bcfb['toFixed'](0x2);else _0x13bcfb=_0x13bcfb['toFixed'](0x2);}}}}}}else _0x13bcfb=Number('0')[_0x548cf4(0x221)](0x2);}else _0x3ca6c7=Number('0')['toFixed'](0x2);return{'value':_0x13bcfb,'change':_0x3ca6c7,'leftTxt':_0x3a90a7,'rightTxt':_0x1a7e7e};}async function getStartingBalances(_0x41340d,_0x2255a7=!![]){const _0x59df59=_0x22cecc;if(_0x41340d[_0x59df59(0x1e1)]!==0x0){const [_0x39ce88,_0x7b2332,_0x4daffa]=getPerf(_0x41340d[0x0],!![]);let _0x29385d=[];config[_0x59df59(0x11d)]['forEach'](_0x36d1da=>{const _0x1179d8=_0x59df59;let _0x1c6555=0x0,_0xd894f9;config[_0x1179d8(0x1a2)][_0x1179d8(0x178)](_0x5678b3=>{const _0x7ff1fb=_0x1179d8;let _0x532cbd=_0x5678b3[_0x7ff1fb(0x1cd)][_0x7ff1fb(0x137)](_0xb0b42b=>_0xb0b42b['coin']==_0x36d1da[_0x7ff1fb(0xb5)]);if(_0x532cbd){_0x1c6555+=_0x532cbd[_0x7ff1fb(0x1d2)];if(!_0xd894f9)_0xd894f9=_0x532cbd[_0x7ff1fb(0x160)];}}),_0x29385d[_0x1179d8(0x24a)]({'coin':_0x36d1da['coin'],'number':_0x1c6555,'initialprice':_0xd894f9});});const _0x40ae67={'basecoin':_0x39ce88,'eur':_0x7b2332,'usd':_0x4daffa,'coins':_0x29385d};if(_0x2255a7)proxyEmit(_0x59df59(0x149),_0x40ae67);startingBalances=_0x40ae67;}}function headlessMode(_0x1e68b5){const _0x1a1999=_0x22cecc;let _0x5232b1=_0x1e68b5[_0x1a1999(0x11d)],_0x49feb5=_0x1e68b5[_0x1a1999(0xcb)],_0x3343e1=[];for(let _0x159bde of _0x5232b1){if(_0x159bde['coin']!=config[_0x1a1999(0x1e8)]){if(_0x159bde['delta']>=_0x49feb5/0x64){if(_0x159bde[_0x1a1999(0x1ea)])_0x3343e1[_0x1a1999(0x24a)](_0x159bde);}else{if(_0x159bde[_0x1a1999(0x1f9)]<=-_0x49feb5/0x64){if(_0x159bde[_0x1a1999(0x1ea)])_0x3343e1[_0x1a1999(0x24a)](_0x159bde);}}}}_0x3343e1[_0x1a1999(0x1e1)]>0x0&&placeOrder(_0x3343e1);}function notifyBalance(_0x186aae){const _0x3a23de=_0x22cecc;let _0x2c5a7b=_0x186aae[_0x3a23de(0x11d)],_0x2294b7=_0x186aae[_0x3a23de(0xcb)],_0x2f0ad4=[];for(let _0x204492 of _0x2c5a7b){if(_0x204492[_0x3a23de(0xb5)]!=config[_0x3a23de(0x1e8)]){if(_0x204492[_0x3a23de(0x1f9)]>=_0x2294b7/0x64){if(_0x204492['valid'])_0x2f0ad4[_0x3a23de(0x24a)](_0x204492);}else{if(_0x204492[_0x3a23de(0x1f9)]<=-_0x2294b7/0x64){if(_0x204492[_0x3a23de(0x1ea)])_0x2f0ad4[_0x3a23de(0x24a)](_0x204492);}}}}if(_0x2f0ad4[_0x3a23de(0x1e1)]>0x0){let _0x44e03c=_0x2f0ad4[_0x3a23de(0xf4)](_0x577d98=>_0x577d98[_0x3a23de(0xb5)]);_0x44e03c[_0x3a23de(0x98)]();let _0x2085f3=_0x44e03c[_0x3a23de(0x1da)](',\x20');if(!lastCoinsToBalance)logHistory(_0x3a23de(0x190),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x2085f3;}}function symbolToCoin(_0x2240e5){const _0x5b1f24=_0x22cecc;let _0x4ad59d;if(_0x2240e5[_0x5b1f24(0x1eb)]('/'+config[_0x5b1f24(0x1e8)]))_0x4ad59d=_0x2240e5[_0x5b1f24(0x181)]('/'+config[_0x5b1f24(0x1e8)],'');if(_0x2240e5[_0x5b1f24(0x1eb)](config[_0x5b1f24(0x1e8)]+'/'))_0x4ad59d=_0x2240e5[_0x5b1f24(0x181)](config['basecoin']+'/','');return _0x4ad59d;}function setLockOrders(_0x4ee7bd){const _0x112045=_0x22cecc;lockOrders=_0x4ee7bd,logger[_0x112045(0x19e)]('Set\x20lock\x20orders\x20to:\x20'+Object[_0x112045(0x191)](ORDERS)[lockOrders]);}async function unlockOrders(_0x5157e2=![]){const _0x4722ae=_0x22cecc;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4722ae(0x1ec)]){setLockOrders(ORDERS['UNLOCKING']);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x5157e2){const _0x39279a=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x39279a,setBlockTransactionDetection(![]);}validateOrdersState=_0x4722ae(0x176),persistOpenOrders([]),setLockOrders(ORDERS[_0x4722ae(0xbc)]);}}async function validateOrders(_0x4b7e95){const _0x3e2a5e=_0x22cecc;if(_0x4b7e95)validateOrdersState=_0x4b7e95;logger[_0x3e2a5e(0x19e)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+Object[_0x3e2a5e(0x191)](ORDERS)[lockOrders]);let _0x3736bd=[],_0xac2c2=config[_0x3e2a5e(0x20e)]==_0x3e2a5e(0xd9)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x3e2a5e(0x1b3)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3e2a5e(0x1ec)])return;logger['debug'](_0x3e2a5e(0xc8)+validateOrdersState);for(let _0x53f3b3=lastOrders['length']-0x1;_0x53f3b3>=0x0;_0x53f3b3--){let _0xb845d1=lastOrders[_0x53f3b3],_0x2833ae=![];_0xb845d1['filled']>0x0&&(_0x2833ae=!![]),_0x3736bd[_0x3e2a5e(0x24a)](_0x2833ae),_0x2833ae&&config[_0x3e2a5e(0x20e)]!='market'&&logHistory(_0x3e2a5e(0xc9),_0x3e2a5e(0xb7)+_0xb845d1[_0x3e2a5e(0x9f)]+'\x20'+_0xb845d1[_0x3e2a5e(0x1a7)]+'\x20#'+formatResult(_0xb845d1[_0x3e2a5e(0xfc)],0x8)+'\x20@'+formatResult(_0xb845d1['price'],0x8)),_0x2833ae&&lastOrders['splice'](_0x53f3b3,0x1);}persistOpenOrders(lastOrders);const _0x1c46e4=coolingDown?_0x3e2a5e(0x182):_0x3e2a5e(0x145);if(validateOrdersState==_0x3e2a5e(0x176)){validateOrdersState=_0x3e2a5e(0x1cf);if(_0x3736bd[_0x3e2a5e(0x1eb)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x3e2a5e(0x1cf)){if(_0x3736bd['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x3e2a5e(0x1db))_0x3736bd[_0x3e2a5e(0x1eb)](![])&&(config[_0x3e2a5e(0x20e)]==_0x3e2a5e(0xd9)?logHistory(_0x3e2a5e(0x15e),_0x3e2a5e(0x248)+Math[_0x3e2a5e(0x130)](_0xac2c2*validateOrderInterval/0xea60)+_0x3e2a5e(0xe5)+_0x1c46e4):(await cancelOrders(),logHistory(_0x3e2a5e(0x15e),_0x3e2a5e(0x20c)+Math[_0x3e2a5e(0x130)](_0xac2c2*validateOrderInterval/0xea60)+_0x3e2a5e(0xe5)+_0x1c46e4))),await unlockOrders(!![]);else{if(validateOrdersState==_0x3e2a5e(0x15c)){if(config[_0x3e2a5e(0x20e)]!=_0x3e2a5e(0xd9))logHistory(_0x3e2a5e(0x15e),_0x3e2a5e(0x1fb)+_0x1c46e4);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x2429fb=_0x22cecc;lastOrders[_0x2429fb(0x178)](async _0x309334=>{const _0x590574=_0x2429fb;try{const _0x27293d=await exchange['cancelOrder'](_0x309334[_0x590574(0x185)],_0x309334[_0x590574(0x9f)]);}catch(_0x34d2ca){if(_0x34d2ca['toString']()[_0x590574(0x1eb)](_0x590574(0x16d))){}else await handleError(_0x34d2ca,_0x590574(0x218));}});}async function initCoinResults(_0x58d13e){const _0x374344=_0x22cecc;_0x58d13e?logger[_0x374344(0x19e)](_0x374344(0x179)+_0x58d13e):logger[_0x374344(0x19e)](_0x374344(0xa0)),config[_0x374344(0x11d)][_0x374344(0x178)](_0x59ed81=>{const _0x3f3e79=_0x374344;if(!_0x59ed81[_0x3f3e79(0xd4)]&&_0x59ed81[_0x3f3e79(0xb5)]!=config[_0x3f3e79(0x1e8)]){const _0x301177=currentCoins[_0x3f3e79(0x137)](_0x118f74=>_0x118f74[_0x3f3e79(0xb5)]==_0x59ed81[_0x3f3e79(0xb5)]),_0x4b70c6=gTicker[noslash(_0x59ed81[_0x3f3e79(0x9f)])];let _0x33283f=_0x301177?_0x301177[_0x3f3e79(0x1d2)]:null,_0x1e1449=_0x59ed81[_0x3f3e79(0x1e2)]?0x1/_0x4b70c6:_0x4b70c6,_0xe16d93;config['liquidity'][_0x3f3e79(0x178)](_0x59cf20=>{const _0xd23082=_0x3f3e79;!_0xe16d93&&(_0xe16d93=_0x59cf20[_0xd23082(0x1cd)][_0xd23082(0x137)](_0x2736db=>_0x2736db[_0xd23082(0xb5)]==_0x59ed81[_0xd23082(0xb5)]),_0xe16d93&&(_0x33283f=_0xe16d93[_0xd23082(0x1d2)],_0x1e1449=_0xe16d93[_0xd23082(0x160)]));});let _0x57fe27=dbCoinResults[_0x3f3e79(0xb6)](_0x3f3e79(0x23b))[_0x3f3e79(0x137)]({'coin':_0x59ed81[_0x3f3e79(0xb5)]})['value']();if(!_0x57fe27){const _0x383af1={'coin':_0x59ed81['coin'],'number':_0x33283f,'breakeven':_0x1e1449,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x3f3e79(0x23b))[_0x3f3e79(0x24a)](_0x383af1)['write']();}else{if(_0x58d13e&&_0x59ed81[_0x3f3e79(0xb5)]==_0x58d13e){const _0x1c738e={'coin':_0x59ed81[_0x3f3e79(0xb5)],'number':_0x33283f,'breakeven':_0x1e1449,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3f3e79(0xb6)](_0x3f3e79(0x23b))[_0x3f3e79(0x137)]({'coin':_0x59ed81['coin']})[_0x3f3e79(0x158)](_0x1c738e)[_0x3f3e79(0x1ee)]();}}}});}async function updateCoinResults(_0x28d8d6,_0x465d48=![]){const _0x9e9cc6=_0x22cecc;let _0x5998e5,_0x4ea114,_0xc5d959,_0x3c9eff,_0xf4ff4e,_0x4791a1,_0x2f7939=dbCoinResults[_0x9e9cc6(0xb6)](_0x9e9cc6(0x23b))[_0x9e9cc6(0x137)]({'coin':_0x28d8d6[_0x9e9cc6(0xb5)]})[_0x9e9cc6(0xc3)](),_0x210741=![];_0x2f7939&&Object[_0x9e9cc6(0x172)](_0x2f7939)[_0x9e9cc6(0x178)](([_0x5d5837,_0x34304c])=>{if(_0x34304c==null)_0x210741=!![];});(!_0x2f7939||_0x210741)&&(await initCoinResults(_0x28d8d6[_0x9e9cc6(0xb5)]),_0x2f7939=dbCoinResults['get'](_0x9e9cc6(0x23b))['find']({'coin':_0x28d8d6['coin']})[_0x9e9cc6(0xc3)]());_0x28d8d6['reverse']&&(_0x4791a1={'filled':_0x28d8d6[_0x9e9cc6(0xfc)]*_0x28d8d6['price'],'amount':_0x28d8d6['filled']*_0x28d8d6[_0x9e9cc6(0x160)],'side':_0x28d8d6[_0x9e9cc6(0x1a7)]==_0x9e9cc6(0x1ae)?_0x9e9cc6(0x134):_0x9e9cc6(0x1ae),'price':0x1/_0x28d8d6[_0x9e9cc6(0x160)]},_0x28d8d6={..._0x28d8d6,..._0x4791a1});_0x465d48?_0x4ea114=_0x28d8d6[_0x9e9cc6(0x1a7)]==_0x9e9cc6(0x134)?_0x2f7939[_0x9e9cc6(0x1d2)]+_0x28d8d6[_0x9e9cc6(0xfc)]:_0x2f7939[_0x9e9cc6(0x1d2)]-_0x28d8d6['filled']:_0x4ea114=await getCoinNumber(_0x28d8d6[_0x9e9cc6(0xb5)]);if(_0x28d8d6['fee']&&_0x28d8d6['fee'][_0x9e9cc6(0x1d7)]==config[_0x9e9cc6(0x1e8)])_0x5998e5=Number(_0x28d8d6[_0x9e9cc6(0x1d9)]['cost']);else{if(_0x28d8d6[_0x9e9cc6(0x1d9)]&&_0x28d8d6[_0x9e9cc6(0x1d9)][_0x9e9cc6(0x1d7)]=='BNB'&&!_0x465d48&&config[_0x9e9cc6(0x1e8)]!=_0x9e9cc6(0x1cb))_0x5998e5=Number(_0x28d8d6[_0x9e9cc6(0x1d9)][_0x9e9cc6(0x1d0)])*gTicker['BNB'+config[_0x9e9cc6(0x1e8)]];else _0x5998e5=defaultFee*_0x28d8d6[_0x9e9cc6(0xfc)]*_0x28d8d6[_0x9e9cc6(0x160)];}_0x28d8d6[_0x9e9cc6(0x1a7)]==_0x9e9cc6(0x134)?(_0xc5d959=_0x4ea114!=0x0?(_0x2f7939[_0x9e9cc6(0xcf)]*_0x2f7939[_0x9e9cc6(0x1d2)]+_0x28d8d6[_0x9e9cc6(0x160)]*(_0x4ea114-_0x2f7939[_0x9e9cc6(0x1d2)])+_0x5998e5)/_0x4ea114:0x0,_0x3c9eff=_0x2f7939['realized']):(_0xc5d959=_0x4ea114!=0x0?(_0x2f7939['breakeven']*_0x2f7939[_0x9e9cc6(0x1d2)]-_0x28d8d6['price']*(_0x2f7939[_0x9e9cc6(0x1d2)]-_0x4ea114)+_0x5998e5)/_0x4ea114:0x0,_0x3c9eff=_0x2f7939[_0x9e9cc6(0x19b)]+(_0x28d8d6[_0x9e9cc6(0x160)]-_0x2f7939[_0x9e9cc6(0xcf)])*_0x28d8d6['filled']);_0xf4ff4e=(_0x28d8d6[_0x9e9cc6(0x160)]-_0xc5d959-_0x5998e5/_0x28d8d6[_0x9e9cc6(0xfc)])*_0x4ea114;let _0x2a82e2={'coin':_0x28d8d6[_0x9e9cc6(0xb5)],'number':_0x4ea114,'breakeven':formatResult(_0xc5d959,0x8),'realized':formatResult(_0x3c9eff,0x8),'unrealized':formatResult(_0xf4ff4e,0x8),'fees':formatResult(_0x2f7939[_0x9e9cc6(0x254)]+_0x5998e5,0x8),'sells':_0x28d8d6[_0x9e9cc6(0x1a7)]==_0x9e9cc6(0x1ae)?_0x2f7939['sells']+0x1:_0x2f7939[_0x9e9cc6(0x132)],'buys':_0x28d8d6[_0x9e9cc6(0x1a7)]=='buy'?_0x2f7939['buys']+0x1:_0x2f7939[_0x9e9cc6(0x1c9)]};dbCoinResults[_0x9e9cc6(0xb6)](_0x9e9cc6(0x23b))[_0x9e9cc6(0x137)]({'coin':_0x28d8d6[_0x9e9cc6(0xb5)]})[_0x9e9cc6(0x158)](_0x2a82e2)[_0x9e9cc6(0x1ee)]();if(!_0x465d48){if(_0x28d8d6[_0x9e9cc6(0x1d9)]&&_0x28d8d6['fee'][_0x9e9cc6(0x1d7)]==_0x9e9cc6(0x9b)){const _0x3afaf3=currentCoins[_0x9e9cc6(0x137)](_0x2c750b=>_0x2c750b[_0x9e9cc6(0xb5)]==_0x9e9cc6(0x9b));if(_0x3afaf3){let _0x43673c=dbCoinResults[_0x9e9cc6(0xb6)](_0x9e9cc6(0x23b))[_0x9e9cc6(0x137)]({'coin':_0x9e9cc6(0x9b)})[_0x9e9cc6(0xc3)]();_0x2a82e2={..._0x43673c,'number':_0x3afaf3[_0x9e9cc6(0x1d2)]},dbCoinResults[_0x9e9cc6(0xb6)]('coins')[_0x9e9cc6(0x137)]({'coin':_0x9e9cc6(0x9b)})[_0x9e9cc6(0x158)](_0x2a82e2)['write']();}}}}async function placeOrder(_0x26e556){const _0x2ad218=_0x22cecc,_0x20ba7f=config[_0x2ad218(0x20e)]=='market'?_0x2ad218(0xd9):_0x2ad218(0x189);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS[_0x2ad218(0x1ec)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x2ad218(0x19e)](_0x2ad218(0x19d)+_0x26e556[_0x2ad218(0xf4)](_0x327408=>_0x327408['coin'])[_0x2ad218(0x1da)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x2ad218(0x176);let _0x3af3bf=![];lastOrders=[];const _0x152ecb=config[_0x2ad218(0xcb)];for(const _0x3c71c0 of _0x26e556){let _0xdb6a0e,_0xde5038,_0x1d5d15,_0xb64d6,_0x7a523d,_0x59a5e0=_0x3c71c0[_0x2ad218(0x9f)];logger['debug'](_0x2ad218(0xfe)+_0x3c71c0[_0x2ad218(0xb5)]+'\x20'+_0x3c71c0[_0x2ad218(0x1d2)]+'\x20'+_0x3c71c0[_0x2ad218(0x1d1)]+'\x20'+_0x3c71c0[_0x2ad218(0x13f)]+'%\x20'+_0x3c71c0[_0x2ad218(0x1f6)]+'%\x20'+(0x64*_0x3c71c0[_0x2ad218(0x1f9)])[_0x2ad218(0x221)](0x2)+_0x2ad218(0x16c)+_0x152ecb['toFixed'](0x2)+'%)');try{const _0x5bfb11=await exchange[_0x2ad218(0xd3)](_0x59a5e0);_0xdb6a0e=_0x3c71c0['reverse']?0x1/_0x3c71c0[_0x2ad218(0x1d1)]:_0x3c71c0[_0x2ad218(0x1d1)],_0xde5038=_0x5bfb11[_0x2ad218(0x208)],_0x1d5d15=_0x5bfb11[_0x2ad218(0x235)];_0x3c71c0['reverse']?(_0xb64d6=_0x3c71c0[_0x2ad218(0x1a7)]==_0x2ad218(0x134)?_0x2ad218(0x1ae):_0x2ad218(0x134),_0x7a523d=Math[_0x2ad218(0xcc)](_0x3c71c0[_0x2ad218(0xb8)])/_0xdb6a0e):(_0xb64d6=_0x3c71c0[_0x2ad218(0x1a7)],_0x7a523d=Math[_0x2ad218(0xcc)](_0x3c71c0[_0x2ad218(0xb8)]));_0x20ba7f==_0x2ad218(0x189)&&(config[_0x2ad218(0x20e)]=='limit-high'&&(_0xdb6a0e=_0xb64d6==_0x2ad218(0x134)?_0xde5038:_0x1d5d15),config[_0x2ad218(0x20e)]==_0x2ad218(0xb2)&&(_0xdb6a0e=_0xb64d6==_0x2ad218(0x134)?_0x1d5d15:_0xde5038));_0x7a523d=formatResult(_0x7a523d,0x8),_0xdb6a0e=formatResult(_0xdb6a0e,0x8);const _0x575984=_0xb64d6=='sell'?config[_0x2ad218(0x1c6)]?String[_0x2ad218(0x247)]('0x'+config[_0x2ad218(0x1c6)])+'\x20':'':config['emojibuy']?String[_0x2ad218(0x247)]('0x'+config[_0x2ad218(0x10e)])+'\x20':'',_0x25976a=_0x20ba7f=='market'?_0x2ad218(0x9e):config['ordertype']==_0x2ad218(0x12a)?_0x2ad218(0x1e3):_0x2ad218(0x1ff),_0x1fd4c7=(Math[_0x2ad218(0x13a)](Math['random']()*0x35a4e900)+0x5f5e100)[_0x2ad218(0x97)]();lastOrders[_0x2ad218(0x24a)]({'customId':_0x1fd4c7,'symbol':_0x59a5e0,'coin':_0x3c71c0[_0x2ad218(0xb5)],'amount':_0x7a523d,'price':_0xdb6a0e,'side':_0xb64d6,'reverse':_0x3c71c0[_0x2ad218(0x1e2)],'filled':0x0});if(_0x20ba7f==_0x2ad218(0xd9))logHistory('order',''+_0x575984+_0x25976a+_0x2ad218(0x22d)+_0x59a5e0+'\x20'+_0xb64d6+'\x20#'+formatResult(_0x7a523d,0x8)+'\x20@'+formatResult(_0xdb6a0e,0x8));else logHistory(_0x2ad218(0xc9),''+_0x575984+_0x25976a+_0x2ad218(0x22d)+_0x59a5e0+'\x20'+_0xb64d6+'\x20#'+formatResult(_0x7a523d,0x8)+'\x20@'+formatResult(_0xdb6a0e,0x8));let _0x582a63;_0x20ba7f==_0x2ad218(0xd9)?_0xb64d6=='buy'&&['Bybit',_0x2ad218(0x14a),_0x2ad218(0x14c),_0x2ad218(0x212),_0x2ad218(0x141)]['includes'](config[_0x2ad218(0x1a4)])?_0x582a63=await exchange[_0x2ad218(0x16e)](_0x59a5e0,_0x20ba7f,_0xb64d6,_0x7a523d,_0xdb6a0e):_0x582a63=await exchange[_0x2ad218(0x16e)](_0x59a5e0,_0x20ba7f,_0xb64d6,_0x7a523d,undefined):_0x582a63=await exchange[_0x2ad218(0x16e)](_0x59a5e0,_0x20ba7f,_0xb64d6,_0x7a523d,_0xdb6a0e);logger[_0x2ad218(0x19e)](_0x2ad218(0x1bd)+_0x582a63['id']+_0x2ad218(0x256)+_0x1fd4c7);const _0x100547=lastOrders[_0x2ad218(0x1e1)]-0x1;if(_0x100547>=0x0&&lastOrders[_0x100547][_0x2ad218(0xe2)]==_0x1fd4c7){lastOrders[_0x100547]['orderId']=_0x582a63['id'];if(_0x582a63[_0x2ad218(0xf1)])lastOrders[_0x100547][_0x2ad218(0xf1)]=_0x582a63[_0x2ad218(0xf1)];if(_0x582a63[_0x2ad218(0x160)])lastOrders[_0x100547][_0x2ad218(0x160)]=_0x582a63[_0x2ad218(0x160)];lastOrders[_0x100547][_0x2ad218(0x1d9)]=_0x582a63[_0x2ad218(0x1d9)];}if(config[_0x2ad218(0x241)]!=0x0){let _0x3716a6=null;if(cooldownTracker[_0x2ad218(0x1e1)]==config[_0x2ad218(0x241)]-0x1)_0x3716a6=cooldownTracker[_0x2ad218(0x146)]();const _0x43cb10=getTimeStamp();cooldownTracker[_0x2ad218(0x24a)](_0x43cb10);if(_0x3716a6){const _0x174ae1=fns['differenceInSeconds'](new Date(_0x43cb10),new Date(_0x3716a6));if(_0x174ae1<cooldownInterval){logHistory(_0x2ad218(0x1aa),_0x2ad218(0x206)+config['cooldown']+_0x2ad218(0x1a5)+cooldownInterval/0x3c+_0x2ad218(0xfb)+cooldownPeriod/(0xe10*0x3e8)+_0x2ad218(0x22e)),coolingDown=!![];break;}}}}catch(_0x25a9c){if(_0x25a9c[_0x2ad218(0x97)]()[_0x2ad218(0x1eb)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x2ad218(0x12d)](_0x4185e9=>_0x4185e9[_0x2ad218(0x9f)]!=_0x59a5e0),logHistory(_0x2ad218(0x1aa),_0x2ad218(0x114)+_0x59a5e0),_0x3af3bf=!![];else{if(_0x25a9c[_0x2ad218(0x97)]()[_0x2ad218(0x1eb)](_0x2ad218(0x12b)))lastOrders=lastOrders[_0x2ad218(0x12d)](_0x56a220=>_0x56a220['symbol']!=_0x59a5e0),logHistory(_0x2ad218(0x1aa),_0x2ad218(0x126)+_0x59a5e0),_0x3af3bf=!![];else{if(_0x25a9c[_0x2ad218(0x97)]()[_0x2ad218(0x1eb)]('InvalidOrder'))lastOrders=lastOrders['filter'](_0x4f21a2=>_0x4f21a2[_0x2ad218(0x9f)]!=_0x59a5e0),logHistory(_0x2ad218(0x1aa),_0x2ad218(0x15a)+_0x59a5e0),logger[_0x2ad218(0x19e)](_0x25a9c),_0x3af3bf=!![];else _0x25a9c[_0x2ad218(0x97)]()['includes'](_0x2ad218(0x234))?(lastOrders=lastOrders['filter'](_0x5b1578=>_0x5b1578[_0x2ad218(0x9f)]!=_0x59a5e0),logHistory('error',_0x2ad218(0x114)+_0x59a5e0),_0x3af3bf=!![]):(lastOrders=lastOrders[_0x2ad218(0x12d)](_0x22e96a=>_0x22e96a[_0x2ad218(0x9f)]!=_0x59a5e0),await handleError(_0x25a9c,_0x2ad218(0x1f8),_0x59a5e0));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x2ad218(0x1e1)]>0x0){const _0x3d90be=config[_0x2ad218(0x20e)]==_0x2ad218(0xd9)?validateOrderTimeout*0x3c*0x3e8:config[_0x2ad218(0x1b3)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xe0086b=_0x2ad218;validateOrders(_0xe0086b(0x1db));},_0x3d90be);}else unlockOrders();_0x3af3bf&&config[_0x2ad218(0x230)]&&(logHistory(_0x2ad218(0x1aa),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x2ad218(0x15e),_0x2ad218(0xa9)));}else{if(coolingDown)!config[_0x2ad218(0x230)]&&logHistory(_0x2ad218(0x1aa),_0x2ad218(0x16a));else lockOrders!=ORDERS[_0x2ad218(0xbc)]&&(!config[_0x2ad218(0x230)]&&(config[_0x2ad218(0x20e)]==_0x2ad218(0xd9)?logHistory(_0x2ad218(0x1aa),_0x2ad218(0x147)):logHistory(_0x2ad218(0x1aa),_0x2ad218(0x231))));}}function persistOpenOrders(_0x3422ce){const _0x559995=_0x22cecc,_0xc98286={...config,'openOrders':_0x3422ce};let _0x8c64f1=dbConfig[_0x559995(0xb6)](_0x559995(0x210))[_0x559995(0x137)]({'botID':botID})['value']();_0x8c64f1&&dbConfig['get'](_0x559995(0x210))['find']({'botID':botID})[_0x559995(0x158)](_0xc98286)[_0x559995(0x1ee)]();}function restoreOrders(){const _0x21126d=_0x22cecc;let _0x1ffb77;config[_0x21126d(0xd8)]&&allOpenOrders[_0x21126d(0x178)](_0x875404=>{const _0x4b48a9=_0x21126d,_0x359bdf=config[_0x4b48a9(0xd8)][_0x4b48a9(0x137)](_0x3df83e=>_0x3df83e[_0x4b48a9(0x185)]==_0x875404['id']);_0x359bdf&&(lastOrders[_0x4b48a9(0x24a)](_0x359bdf),_0x1ffb77=_0x875404['timestamp']);});if(lastOrders[_0x21126d(0x1e1)]>0x0){setLockOrders(ORDERS[_0x21126d(0x1ec)]),validateOrdersState=_0x21126d(0x1cf),allOrdersPlaced=!![];const _0x103145=new Date()[_0x21126d(0x22a)](),_0x2686d=config['ordertype']==_0x21126d(0xd9)?validateOrderTimeout*0x3c*0x3e8:config[_0x21126d(0x1b3)]*0x3c*0x3e8;if(_0x1ffb77+_0x2686d>_0x103145){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2ee2fe=_0x21126d;validateOrders(_0x2ee2fe(0x1db));},_0x1ffb77+_0x2686d-_0x103145);}else validateOrders(_0x21126d(0x1db));}}async function sendMetricsTelegram(){const _0x265cfd=_0x22cecc;if(!coinsLoaded){process[_0x265cfd(0x17a)]({'telegrammsg':_0x265cfd(0x163)},_0x25d35a=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x38bc81='';if(config[_0x265cfd(0x118)])_0x38bc81='<b>'+config['botname']+_0x265cfd(0xdb);else _0x38bc81=_0x265cfd(0x23a)+botID+_0x265cfd(0xdb);const _0x544b8b=getKPIs(_0x265cfd(0x1e8)),_0x15797c=getKPIs(_0x265cfd(0x20f),config[_0x265cfd(0x20f)]),_0x28c80b=getKPIs('net-basecoin'),_0x11608b=getKPIs(_0x265cfd(0x220),config[_0x265cfd(0x20f)]);_0x38bc81+=_0x265cfd(0x99),_0x38bc81+=_0x544b8b[_0x265cfd(0x10a)]+_0x265cfd(0x12f)+_0x544b8b['value']+'\x0a',_0x38bc81+=_0x544b8b[_0x265cfd(0x257)]+':\x20'+_0x544b8b[_0x265cfd(0x144)]+'%\x0a',_0x38bc81+=_0x15797c[_0x265cfd(0x10a)]+'\x20:\x20'+_0x15797c['value']+'\x0a',_0x38bc81+=_0x15797c[_0x265cfd(0x257)]+':\x20'+_0x15797c[_0x265cfd(0x144)]+'%\x0a',_0x38bc81+=_0x28c80b[_0x265cfd(0x10a)]+':\x20'+_0x28c80b[_0x265cfd(0xc3)]+'\x20('+config[_0x265cfd(0x1e8)]+')\x0a',_0x38bc81+=_0x28c80b[_0x265cfd(0x257)]+':\x20'+_0x28c80b[_0x265cfd(0x144)]+_0x265cfd(0x16c)+config[_0x265cfd(0x1e8)]+')\x0a',_0x38bc81+=_0x11608b[_0x265cfd(0x10a)]+':\x20'+_0x11608b[_0x265cfd(0xc3)]+'\x20('+config[_0x265cfd(0x20f)]+')\x0a',_0x38bc81+=_0x11608b['rightTxt']+':\x20'+_0x11608b[_0x265cfd(0x144)]+'%\x20('+config[_0x265cfd(0x20f)]+')\x0a',_0x38bc81+='</pre>',process[_0x265cfd(0x17a)]({'telegrammsg':_0x38bc81},_0x2dd909=>{});}async function sendPortfolioTelegram(){const _0x5a4080=_0x22cecc;if(!coinsLoaded||!currentCoins[0x0][_0x5a4080(0x13f)]){process['send']({'telegrammsg':_0x5a4080(0x163)},_0x7d8550=>{});return;}let _0x4b754a='';if(config[_0x5a4080(0x118)])_0x4b754a='<b>'+config[_0x5a4080(0xa7)]+_0x5a4080(0x237);else _0x4b754a=_0x5a4080(0x23a)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x4b754a+=_0x5a4080(0x99),_0x4b754a+=_0x5a4080(0xc0),_0x4b754a+=_0x5a4080(0x213),_0x4b754a+=_0x5a4080(0xc0),currentCoins['forEach'](_0x1dabd6=>{const _0x2a0474=_0x5a4080;_0x4b754a+=_0x1dabd6[_0x2a0474(0xb5)][_0x2a0474(0x111)](0x7)+'|\x20'+formatPad(_0x1dabd6[_0x2a0474(0x13f)],0x2,0x6)+'|\x20'+formatPad(_0x1dabd6[_0x2a0474(0x1f6)],0x2,0x6)+'|\x20'+formatPad(_0x1dabd6[_0x2a0474(0x1f9)]*0x64,0x2,0x6)+'\x0a';}),_0x4b754a+=_0x5a4080(0xa5),process[_0x5a4080(0x17a)]({'telegrammsg':_0x4b754a},_0x23adc0=>{});}function formatPad(_0x2ac809,_0x696cf8,_0x55dfad){const _0x412f25=_0x22cecc,_0x3a2e64=formatResultString(_0x2ac809,_0x696cf8);return _0x3a2e64?_0x3a2e64[_0x412f25(0x1c4)](_0x55dfad):''[_0x412f25(0x1c4)](_0x55dfad);}function logHistory(_0x4270de,_0x44b262,_0x291dc8=''){const _0x1fb450=_0x22cecc;logger[_0x1fb450(0xf5)](''+_0x44b262);let _0x317391={'time':getTimeStamp(),'type':_0x4270de,'event':_0x44b262};dbLogs[_0x1fb450(0xb6)](_0x1fb450(0x1e7))[_0x1fb450(0x24a)](_0x317391)['write']();if(_0x291dc8=='')_0x291dc8=_0x44b262;proxyEmit('event',{'log':_0x317391,'summary':_0x291dc8}),process[_0x1fb450(0x17a)]({'telegram':{..._0x317391,'botname':config[_0x1fb450(0xa7)],'showname':config['showname']}},_0x4dca2b=>{});}function emitHistory(_0x264390={}){const _0x4824f8=_0x22cecc;Object[_0x4824f8(0x191)](_0x264390)[_0x4824f8(0x1e1)]==0x0&&(_0x264390={'type':[_0x4824f8(0xc9),_0x4824f8(0x24b)],'event':'','page':0x1});if(_0x264390[_0x4824f8(0x243)][_0x4824f8(0x1eb)]('event'))_0x264390['type']['splice'](_0x264390[_0x4824f8(0x243)]['indexOf']('event'),0x1,_0x4824f8(0x1aa),'warning',_0x4824f8(0x15e));if(dbLogs[_0x4824f8(0xc2)](_0x4824f8(0x1e7))['value']()){let _0x452d09=dbLogs['get'](_0x4824f8(0x1e7))[_0x4824f8(0x12d)](_0x516028=>{const _0x2af725=_0x4824f8;if(_0x264390[_0x2af725(0x243)][_0x2af725(0x1e1)]==0x0)return![];else return _0x264390[_0x2af725(0x243)][_0x2af725(0x1eb)](_0x516028[_0x2af725(0x243)]);})[_0x4824f8(0x12d)](_0x145e74=>{const _0x42bc36=_0x4824f8;if(_0x264390[_0x42bc36(0x24b)]=='')return!![];else return _0x145e74['event'][_0x42bc36(0x177)]()[_0x42bc36(0x1eb)](_0x264390[_0x42bc36(0x24b)][_0x42bc36(0x177)]());})[_0x4824f8(0x236)]('time'),_0x2fa5f2=_0x452d09['value']()['length'];_0x452d09=_0x452d09[_0x4824f8(0x1e2)]()[_0x4824f8(0x12c)]((_0x264390[_0x4824f8(0x135)]-0x1)*logPageSize,_0x264390[_0x4824f8(0x135)]*logPageSize-0x1)[_0x4824f8(0x1e2)]()['value'](),proxyEmit(_0x4824f8(0xf6),{'logs':_0x452d09,'total':_0x2fa5f2});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x447dbd){const _0x215e8a=_0x22cecc;if(dbLogs[_0x215e8a(0xc2)]('logs')[_0x215e8a(0xc3)]()){const _0x58c86c=dbLogs[_0x215e8a(0xb6)](_0x215e8a(0x1e7))['sortBy'](_0x215e8a(0x21d))[_0x215e8a(0x12d)](_0x4aec56=>{const _0x49a3b4=_0x215e8a;return _0x4aec56[_0x49a3b4(0x243)]==_0x49a3b4(0xc9);})[_0x215e8a(0xc3)]();dbLogs[_0x215e8a(0xb6)](_0x215e8a(0x1e7))[_0x215e8a(0xee)]()[_0x215e8a(0x1ee)](),dbLogs[_0x215e8a(0xb6)](_0x215e8a(0x1e7))['assign'](_0x58c86c)['write'](),emitHistory(_0x447dbd);}}async function pauseBot(_0x16329c=pauseBotIntervalShort,_0x52fa56,_0x436b4d,_0x92c1e=![]){const _0x1a86ac=_0x22cecc,_0x44cd15=new Date()[_0x1a86ac(0x22a)]();if(!lastErrorShown||_0x44cd15-lastErrorShown>=_0x16329c){lastErrorShown=_0x44cd15;if(!lastBotPause)lastBotPause=_0x44cd15,consecutivePauses=0x1;else{if(_0x44cd15-lastBotPause-_0x16329c<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x92c1e){logHistory('error',_0x52fa56+_0x1a86ac(0x94)),await killBot();return;}else logHistory(_0x1a86ac(0x1aa),_0x52fa56+pauseBotMsg),_0x16329c=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x44cd15;}_0x436b4d?logger['debug']('('+consecutivePauses+')\x20'+_0x52fa56+_0x1a86ac(0x207),_0x436b4d):logger['debug']('('+consecutivePauses+')\x20'+_0x52fa56);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x16329c),botPaused=![],_0x16329c==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x258e78=_0x22cecc;botPaused=!![],await sleep(0x3e8),process[_0x258e78(0x17a)]({'stop':_0x258e78(0x255)},_0x332894=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x32089f,_0xcd837b){const _0xdb9840=_0x22cecc;if(botPaused)return;const _0x5347a8=config[_0xdb9840(0x1a4)]||_0xdb9840(0x1f4);if(_0xcd837b)logger[_0xdb9840(0x19e)]('Exception\x20thrown\x20in\x20'+_0xcd837b);const _0x32b164=()=>{const _0x1fa2ef=_0xdb9840;loading[_0x1fa2ef(0x1aa)]=!![],emitLoadingProgress();};if(_0x32089f[_0xdb9840(0x97)]()[_0xdb9840(0x1eb)](_0xdb9840(0xba)))logHistory(_0xdb9840(0x1aa),_0x5347a8+_0xdb9840(0xc4)),_0x32b164();else{if(_0x32089f[_0xdb9840(0x97)]()[_0xdb9840(0x1eb)](_0xdb9840(0x155)))logHistory(_0xdb9840(0x1aa),_0x5347a8+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x32b164();else{if(_0x32089f['toString']()[_0xdb9840(0x1eb)](_0xdb9840(0x219)))config['apiPassword']?errormsg=_0x5347a8+_0xdb9840(0x10b):errormsg=_0x5347a8+_0xdb9840(0x18d),logHistory('error',errormsg+_0xdb9840(0x15f)),_0x32b164();else _0x32089f['toString']()[_0xdb9840(0x1eb)](_0xdb9840(0x157))?(logHistory(_0xdb9840(0x1aa),_0x5347a8+_0xdb9840(0x1c3)),_0x32b164()):await handleError(_0x32089f,null);}}}async function handleError(_0x2a6614,_0x48a76f,_0x36867e=''){const _0x204bf3=_0x22cecc;if(botPaused)return;let _0x4065ad;const _0x1b63d6=config[_0x204bf3(0x1a4)]||_0x204bf3(0x1f4);if(_0x48a76f)logger[_0x204bf3(0x19e)]('Exception\x20thrown\x20in\x20'+_0x48a76f);if(_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x1eb)](_0x204bf3(0xbb)))_0x4065ad=_0x1b63d6+'\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x4065ad,_0x2a6614);else{if(_0x2a6614['toString']()['includes'](_0x204bf3(0x1a9)))_0x4065ad=_0x1b63d6+_0x204bf3(0x249),await pauseBot(undefined,_0x4065ad,_0x2a6614);else{if(_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x1eb)](_0x204bf3(0x139))||_0x2a6614['toString']()[_0x204bf3(0x1eb)](_0x204bf3(0x14b)))_0x4065ad=_0x1b63d6+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x4065ad,_0x2a6614[_0x204bf3(0x97)]());else{if(_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x1eb)](_0x204bf3(0x117)))_0x4065ad=_0x1b63d6+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x4065ad,_0x2a6614[_0x204bf3(0x97)]());else{if(_0x2a6614[_0x204bf3(0x97)]()['includes']('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x4065ad=_0x1b63d6+_0x204bf3(0x1dc),await pauseBot(undefined,_0x4065ad,_0x2a6614[_0x204bf3(0x97)]());else{if(_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x177)]()[_0x204bf3(0x1eb)](_0x204bf3(0x90))||_0x2a6614['toString']()['toLowerCase']()[_0x204bf3(0x1eb)](_0x204bf3(0x19a)))_0x4065ad='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',await pauseBot(undefined,_0x4065ad,_0x2a6614[_0x204bf3(0x97)]());else{if(_0x2a6614[_0x204bf3(0x97)]()['includes']('InvalidNonce'))_0x4065ad=_0x1b63d6+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',await pauseBot(undefined,_0x4065ad,_0x2a6614['toString']());else{if(_0x2a6614 instanceof ccxt[_0x204bf3(0x1c2)])_0x4065ad=_0x1b63d6+_0x204bf3(0x1f0)+_0x2a6614[_0x204bf3(0x97)](),logger[_0x204bf3(0x19e)]('Network\x20error\x20details:',_0x2a6614),await pauseBot(undefined,_0x4065ad,_0x2a6614);else{if(_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x1eb)]('API-key\x20format\x20invalid'))logHistory(_0x204bf3(0x1aa),_0x1b63d6+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x204bf3(0x1aa),_0x204bf3(0xf9)),await killBot();else{if(_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x1eb)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x204bf3(0x1aa),_0x1b63d6+_0x204bf3(0x119)),logHistory(_0x204bf3(0x1aa),_0x204bf3(0xf9)),await killBot();else{if(_0x2a6614['toString']()[_0x204bf3(0x1eb)](_0x204bf3(0x219))&&_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x1eb)](_0x204bf3(0x23e)))_0x4065ad=_0x1b63d6+_0x204bf3(0x209),await pauseBot(undefined,_0x4065ad,_0x2a6614,!![]);else{if(_0x2a6614['toString']()[_0x204bf3(0x1eb)]('AuthenticationError'))config['apiPassword']?_0x4065ad=_0x1b63d6+_0x204bf3(0x10b):_0x4065ad=_0x1b63d6+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x204bf3(0x1aa),_0x4065ad),logHistory(_0x204bf3(0x1aa),_0x204bf3(0xf9)),await killBot();else{if(_0x2a6614[_0x204bf3(0x97)]()['includes'](_0x204bf3(0x157)))logHistory(_0x204bf3(0x1aa),_0x1b63d6+_0x204bf3(0xab)),logHistory(_0x204bf3(0x1aa),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x2a6614[_0x204bf3(0x97)]()[_0x204bf3(0x1eb)](_0x204bf3(0x227)))logHistory('error',_0x204bf3(0x153)+_0x36867e),logger[_0x204bf3(0x19e)](_0x204bf3(0x103),_0x2a6614);else{if(_0x2a6614 instanceof ccxt['ExchangeError']){_0x4065ad=_0x1b63d6+_0x204bf3(0x11e)+_0x2a6614[_0x204bf3(0x97)](),logHistory(_0x204bf3(0x1aa),_0x4065ad),logger[_0x204bf3(0x19e)](_0x204bf3(0x10f),_0x2a6614);if(_0x36867e)logger[_0x204bf3(0x19e)](_0x204bf3(0x115)+_0x36867e);await pauseBot(undefined,_0x4065ad,_0x2a6614);}else{_0x4065ad=_0x204bf3(0x23c)+_0x2a6614['toString'](),logHistory('error',_0x4065ad),logger[_0x204bf3(0x19e)](_0x4065ad+_0x204bf3(0x207),_0x2a6614);if(_0x36867e)logger['debug'](_0x204bf3(0x115)+_0x36867e);await pauseBot(undefined,_0x4065ad);}}}}}}}}}}}}}}}}function decryptRSA(_0x52e45e,_0x176b77){const _0x1d2a5a=_0x22cecc,_0x583ded=forge[_0x1d2a5a(0xea)]['privateKeyFromPem'](_0x52e45e),_0x37404d=_0x583ded[_0x1d2a5a(0xd1)](forge[_0x1d2a5a(0x20b)]['decode64'](_0x176b77),_0x1d2a5a(0x1b1),{'md':forge['md'][_0x1d2a5a(0x211)][_0x1d2a5a(0x21f)](),'mgf1':{'md':forge['md'][_0x1d2a5a(0x211)][_0x1d2a5a(0x21f)]()}});return _0x37404d;}async function withRetry(_0x3e34fc,_0x1e5f27){const _0x22f28e=_0x22cecc;let _0x4bf00a=![],_0x335900=0x0,_0xa3ba9,_0x5bbb51;while(_0x335900<maxRetries){try{_0xa3ba9=await _0x1e5f27();break;}catch(_0x24f1f9){_0x5bbb51=_0x24f1f9,!_0x4bf00a?(_0x4bf00a=!![],logger[_0x22f28e(0x19e)]('RETRY\x20-\x20Error\x20in\x20'+_0x3e34fc+':',_0x24f1f9[_0x22f28e(0x97)]())):await sleep(retryInterval);}_0x335900++;}if(_0x335900==0x0)return _0xa3ba9;if(_0x335900>=maxRetries)throw _0x5bbb51;else return logger[_0x22f28e(0x19e)](_0x22f28e(0x1d8)+_0x335900+_0x22f28e(0x11c)),_0xa3ba9;}function formatResult(_0x4ed70b,_0x5cc645){const _0x2cef53=_0x22cecc;return parseFloat(_0x4ed70b[_0x2cef53(0x221)](_0x5cc645));}function formatResultTruncate(_0x12bfd2,_0x387d05){const _0x4481f0=_0x22cecc;let _0x1c9525=formatResultString(_0x12bfd2,0xa),_0x2803ec=_0x1c9525[_0x4481f0(0x148)]('.');return _0x2803ec!=-0x1&&(_0x1c9525=_0x1c9525[_0x4481f0(0x12c)](0x0,_0x2803ec+_0x387d05+0x1)),Number(_0x1c9525);}function formatResultString(_0x4cfc6e,_0xb5b805){const _0x1e2efd=_0x22cecc;let _0x468ee3;if(!(''+_0x4cfc6e)[_0x1e2efd(0x1eb)]('e'))_0x468ee3=+(Math[_0x1e2efd(0x130)](_0x4cfc6e+'e+'+_0xb5b805)+'e-'+_0xb5b805);else{let _0x38fc49=(''+_0x4cfc6e)[_0x1e2efd(0xce)]('e'),_0x29e2c0='';+_0x38fc49[0x1]+_0xb5b805>0x0&&(_0x29e2c0='+'),_0x468ee3=+(Math['round'](+_0x38fc49[0x0]+'e'+_0x29e2c0+(+_0x38fc49[0x1]+_0xb5b805))+'e-'+_0xb5b805);}return Number(_0x468ee3)['toFixed'](_0xb5b805);}function getServerTime(){const _0x3750e9=_0x22cecc,_0x5b71af=new Date();return _0x5b71af[_0x3750e9(0x23f)]()+'/'+(_0x5b71af['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x5b71af[_0x3750e9(0x201)]()[_0x3750e9(0x97)]()[_0x3750e9(0x1c4)](0x2,'0')+'\x20'+_0x5b71af[_0x3750e9(0x1b2)]()['toString']()[_0x3750e9(0x1c4)](0x2,'0')+':'+_0x5b71af[_0x3750e9(0x186)]()[_0x3750e9(0x97)]()['padStart'](0x2,'0')+':'+_0x5b71af[_0x3750e9(0x21a)]()[_0x3750e9(0x97)]()[_0x3750e9(0x1c4)](0x2,'0');}function getTimeStamp(){const _0x1fce8c=_0x22cecc,_0x541b9e=shiftedTime();return _0x541b9e[_0x1fce8c(0x23f)]()+'/'+(_0x541b9e['getMonth']()+0x1)[_0x1fce8c(0x97)]()[_0x1fce8c(0x1c4)](0x2,'0')+'/'+_0x541b9e['getDate']()['toString']()['padStart'](0x2,'0')+'\x20'+_0x541b9e[_0x1fce8c(0x1b2)]()['toString']()[_0x1fce8c(0x1c4)](0x2,'0')+':'+_0x541b9e[_0x1fce8c(0x186)]()[_0x1fce8c(0x97)]()['padStart'](0x2,'0')+':'+_0x541b9e[_0x1fce8c(0x21a)]()['toString']()[_0x1fce8c(0x1c4)](0x2,'0');}function getDate(){const _0x5c219b=_0x22cecc,_0x3fb068=shiftedTime();return _0x3fb068[_0x5c219b(0x23f)]()+'/'+(_0x3fb068['getMonth']()+0x1)[_0x5c219b(0x97)]()[_0x5c219b(0x1c4)](0x2,'0')+'/'+_0x3fb068[_0x5c219b(0x201)]()[_0x5c219b(0x97)]()[_0x5c219b(0x1c4)](0x2,'0');}function getHour(){const _0x1ca939=_0x22cecc,_0x2e17d5=shiftedTime();return _0x2e17d5[_0x1ca939(0x1b2)]()[_0x1ca939(0x97)]()[_0x1ca939(0x1c4)](0x2,'0');}function sleep(_0x5c6103){return new Promise(_0x1c6d90=>setTimeout(_0x1c6d90,_0x5c6103));}function shiftedTime(){const _0x571085=_0x22cecc,_0x191ac3=new Date();let _0x21aaa7=_0x191ac3;if(config&&config['timeshift']!==0x0)_0x21aaa7=fns[_0x571085(0xa2)](_0x191ac3,{'hours':config[_0x571085(0xbd)]});return _0x21aaa7;}function timer(_0x383cd8){const _0x994a07=_0x22cecc,_0x328cf7=new Date();!lasttime?console[_0x994a07(0xdf)](getTimeStamp()+_0x994a07(0x133),_0x383cd8,_0x328cf7):console['log'](getTimeStamp()+_0x994a07(0x133),_0x383cd8,(_0x328cf7-lasttime)/0x3e8),lasttime=_0x328cf7;}