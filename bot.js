const _0x3b6ecd=_0x377c;(function(_0x5e0aa3,_0x5902f9){const _0x4d03e0=_0x377c,_0xe50295=_0x5e0aa3();while(!![]){try{const _0x699f4a=-parseInt(_0x4d03e0(0x1ea))/0x1*(parseInt(_0x4d03e0(0x1b6))/0x2)+-parseInt(_0x4d03e0(0x1d6))/0x3+parseInt(_0x4d03e0(0x151))/0x4*(-parseInt(_0x4d03e0(0x168))/0x5)+-parseInt(_0x4d03e0(0x1da))/0x6*(parseInt(_0x4d03e0(0x27c))/0x7)+parseInt(_0x4d03e0(0x22f))/0x8*(-parseInt(_0x4d03e0(0x294))/0x9)+parseInt(_0x4d03e0(0x1f8))/0xa*(-parseInt(_0x4d03e0(0x152))/0xb)+parseInt(_0x4d03e0(0x26d))/0xc;if(_0x699f4a===_0x5902f9)break;else _0xe50295['push'](_0xe50295['shift']());}catch(_0x9e79ca){_0xe50295['push'](_0xe50295['shift']());}}}(_0x2563,0x7f695));const _0x3e1b70=function(){let _0x430edc=!![];return function(_0x4ffe28,_0x1d6f47){const _0x30923f=_0x430edc?function(){const _0x4c15de=_0x377c;if(_0x1d6f47){const _0x5840f6=_0x1d6f47[_0x4c15de(0x196)](_0x4ffe28,arguments);return _0x1d6f47=null,_0x5840f6;}}:function(){};return _0x430edc=![],_0x30923f;};}(),_0x1ab53c=_0x3e1b70(this,function(){const _0x38a080=_0x377c;return _0x1ab53c[_0x38a080(0x213)]()[_0x38a080(0x193)]('(((.+)+)+)+$')[_0x38a080(0x213)]()[_0x38a080(0x159)](_0x1ab53c)[_0x38a080(0x193)](_0x38a080(0x293));});_0x1ab53c();'use strict';const ccxt=require('ccxt')[_0x3b6ecd(0x18c)],low=require(_0x3b6ecd(0x220)),FileSync=require(_0x3b6ecd(0x205)),fs=require('fs'),fns=require(_0x3b6ecd(0x20f)),Crypt=require(_0x3b6ecd(0x1e7))[_0x3b6ecd(0x27a)],util=require(_0x3b6ecd(0x29a)),argv=require(_0x3b6ecd(0x279))(process[_0x3b6ecd(0x298)][_0x3b6ecd(0x1ce)](0x2))[_0x3b6ecd(0x298)],path=require('path');let exchange;global[_0x3b6ecd(0x1ad)]={},global[_0x3b6ecd(0x1d7)]={};const exceptions={'binance':['DAI/',_0x3b6ecd(0x1cc),_0x3b6ecd(0x1e0),_0x3b6ecd(0x175),_0x3b6ecd(0x256)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x3b6ecd(0x1c2)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x3b6ecd(0x22c)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x3b6ecd(0x186))['version'],botID=process[_0x3b6ecd(0x298)][0x2]||_0x3b6ecd(0x172),pattern=/^[0-9]{3}$/;!pattern[_0x3b6ecd(0x1d5)](botID)&&(console[_0x3b6ecd(0x14a)](_0x3b6ecd(0x1b1)+botID+_0x3b6ecd(0x1f3)),killBot());const userID=process[_0x3b6ecd(0x298)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x3b6ecd(0x1a0),logspath=userID?_0x3b6ecd(0x1d2)+userID+'/':'./logs/',loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x3b6ecd(0x23e)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x3b6ecd(0x142)+botID+_0x3b6ecd(0x1be),logfile=configpath+_0x3b6ecd(0x142)+botID+_0x3b6ecd(0x2a5),performancefile=configpath+'bot-'+botID+_0x3b6ecd(0x16c),coinresultsfile=configpath+_0x3b6ecd(0x142)+botID+_0x3b6ecd(0x287),settingsfile=configpath+_0x3b6ecd(0x286),securefile=configpath+_0x3b6ecd(0x143),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x3b6ecd(0x1c9)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x3b6ecd(0x1f1)]({'data':[],'version':serverversion})[_0x3b6ecd(0x1c9)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3b6ecd(0x1f1)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3b6ecd(0x1f1)]({'coins':[],'version':serverversion})[_0x3b6ecd(0x1c9)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x484cb8=>{console['log'](_0x484cb8);},'simple':_0x420d50=>{const _0x2874a2=_0x3b6ecd;console[_0x2874a2(0x14a)](_0x420d50),loggerfile[_0x2874a2(0x1c9)](util[_0x2874a2(0x169)](_0x420d50)+'\x0a');},'full':async(_0xa2a3ae,_0x5287c9='')=>{const _0xd1d579=_0x3b6ecd;let _0x4a2b8b;if(config['showname'])_0x4a2b8b=getTimeStamp()+':\x20'+config[_0xd1d579(0x22d)]+_0xd1d579(0x28d)+_0xa2a3ae;else _0x4a2b8b=getTimeStamp()+_0xd1d579(0x18a)+botID+_0xd1d579(0x28d)+_0xa2a3ae;console['log'](_0x4a2b8b),loggerfile[_0xd1d579(0x1c9)](util[_0xd1d579(0x169)](_0x4a2b8b)+'\x0a'),_0x5287c9&&(console['log'](_0x5287c9),loggerfile[_0xd1d579(0x1c9)](util[_0xd1d579(0x169)](_0x5287c9)+'\x0a'));},'debug':async(_0x136b2b,_0x19d1a0='')=>{const _0x69031e=_0x3b6ecd;let _0x3b798b;if(config[_0x69031e(0x17b)])_0x3b798b=getTimeStamp()+':\x20'+config['botname']+_0x69031e(0x19e)+_0x136b2b;else _0x3b798b=getTimeStamp()+_0x69031e(0x18a)+botID+_0x69031e(0x19e)+_0x136b2b;if(debugging)console['log'](_0x3b798b);loggerfile['write'](util['format'](_0x3b798b)+'\x0a');if(_0x19d1a0){if(debugging)console[_0x69031e(0x14a)](_0x19d1a0);loggerfile[_0x69031e(0x1c9)](util['format'](_0x19d1a0)+'\x0a');}}};function _0x377c(_0x1d15c8,_0x457f27){const _0x3b19bd=_0x2563();return _0x377c=function(_0x1ab53c,_0x3e1b70){_0x1ab53c=_0x1ab53c-0x13f;let _0x25638c=_0x3b19bd[_0x1ab53c];return _0x25638c;},_0x377c(_0x1d15c8,_0x457f27);}process['on']('uncaughtException',function(_0x508b10){const _0x2e60df=_0x3b6ecd;logger[_0x2e60df(0x1d9)](_0x508b10);});settings[_0x3b6ecd(0x14f)]!=config[_0x3b6ecd(0x14f)]&&updateTimeshift(settings[_0x3b6ecd(0x14f)]);settings['onepagemode']!=config[_0x3b6ecd(0x25b)]&&updateOnepagemode(settings[_0x3b6ecd(0x25b)]);process[_0x3b6ecd(0x1bb)]({'started':_0x3b6ecd(0x243)},_0xf7d053=>{}),initializeProcessListeners();function proxyEmit(_0x1bd9b1,_0x5f19b0=null){process['send']({'function':_0x1bd9b1,'args':_0x5f19b0},_0x4e0768=>{});}function initializeProcessListeners(){const _0x19d4fc=_0x3b6ecd;process['on'](_0x19d4fc(0x267),_0x3a0e63=>{const _0x55a49b=_0x19d4fc;switch(Object[_0x55a49b(0x1ca)](_0x3a0e63)[0x0]){case _0x55a49b(0x14f):_0x3a0e63['timeshift']!=undefined&&(settings[_0x55a49b(0x14f)]=_0x3a0e63[_0x55a49b(0x14f)],updateTimeshift(settings[_0x55a49b(0x14f)]));break;case _0x55a49b(0x25b):_0x3a0e63[_0x55a49b(0x25b)]!=undefined&&(settings[_0x55a49b(0x25b)]=_0x3a0e63[_0x55a49b(0x25b)],updateOnepagemode(settings[_0x55a49b(0x25b)]));break;case _0x55a49b(0x20c):_0x3a0e63[_0x55a49b(0x20c)]!=undefined&&(bots=JSON[_0x55a49b(0x185)](_0x3a0e63[_0x55a49b(0x20c)]),proxyEmit(_0x55a49b(0x20c),bots));break;case _0x55a49b(0x1b0):switch(_0x3a0e63[_0x55a49b(0x1b0)]){case'initclient':initclient();break;case _0x55a49b(0x20e):toggleBotMode();break;case'emitHistory':emitHistory(_0x3a0e63['args']);break;case _0x55a49b(0x18f):deleteHistoryAlerts(_0x3a0e63['args']);break;case _0x55a49b(0x1ae):getPortfolio(_0x3a0e63[_0x55a49b(0x233)]);break;case'storeConfiguration':storeConfiguration(_0x3a0e63[_0x55a49b(0x233)]);break;case _0x55a49b(0x1fb):storeHeadless(_0x3a0e63[_0x55a49b(0x233)]);break;case _0x55a49b(0x1a2):storeFiat(_0x3a0e63['args']);break;case _0x55a49b(0x24f):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x55a49b(0x13f):placeOrder(_0x3a0e63[_0x55a49b(0x233)]);break;case _0x55a49b(0x188):cancelLoading();break;case _0x55a49b(0x1ac):showConfig();break;case _0x55a49b(0x1ec):sendMetricsTelegram();break;case _0x55a49b(0x1ab):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x30aba3=null,_0x16e46a=![]){const _0x35d4e6=_0x3b6ecd;logger['debug']('Reset\x20|\x20'+(_0x30aba3&&_0x30aba3['length']>0x0?_0x35d4e6(0x1fc)+_0x30aba3['join'](','):_0x35d4e6(0x29d))+_0x35d4e6(0x221)+(_0x16e46a?'exchange\x20reloaded':'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0x16e46a)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config['apiKey']!='***'){if(_0x16e46a){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x1e14fb){if(_0x1e14fb[_0x35d4e6(0x213)]()[_0x35d4e6(0x27d)](_0x35d4e6(0x14e))){handleErrorNoStop(_0x1e14fb,_0x35d4e6(0x244));return;}else{handleError(_0x1e14fb,'loadSymbols()');return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x30aba3);const _0x4d4d22=await getCoins();[currentCoins,currentCoinsAll]=_0x4d4d22,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x35d4e6(0x171)]==0x0&&allOpenOrders[_0x35d4e6(0x171)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x113e47=_0x3b6ecd;exchangeStopped=!![],await exchange[_0x113e47(0x25d)]();}async function reloadExchange(){const _0x168626=_0x3b6ecd;logger[_0x168626(0x242)](_0x168626(0x16b));while(lockOrders!=ORDERS[_0x168626(0x22c)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x168626(0x242)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x3c0bc0=config[_0x3b6ecd(0x15e)],_0x2ec3eb=config[_0x3b6ecd(0x232)],_0x4570da=config[_0x3b6ecd(0x147)]){const _0x5cb09c=_0x3b6ecd;exchange&&await stopExchange();!supportedExchanges()[_0x5cb09c(0x27d)](_0x3c0bc0)&&(logHistory(_0x5cb09c(0x21a),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x3c0bc0+_0x5cb09c(0x1c5)),killBot());const _0x38ca8c=ccxt[_0x3c0bc0[_0x5cb09c(0x14d)]()];exchange=new _0x38ca8c({'apiKey':_0x2ec3eb,'secret':_0x4570da,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x1574c8=_0x3b6ecd;let _0x2652f1=config[_0x1574c8(0x25a)]==_0x1574c8(0x194)?_0x1574c8(0x194):'BTC',_0x149ea2=!allSymbols[_0x1574c8(0x27d)](_0x2652f1+_0x1574c8(0x1c3))?_0x1574c8(0x190):_0x1574c8(0x1a6),_0x542fe5=!allSymbols[_0x1574c8(0x27d)](_0x2652f1+_0x1574c8(0x1e1))?_0x149ea2:_0x1574c8(0x1b7);stablecoins={'eur':{'coin':''+_0x2652f1+_0x542fe5,'symbol':_0x2652f1+'/'+_0x542fe5},'usd':{'coin':''+_0x2652f1+_0x149ea2,'symbol':_0x2652f1+'/'+_0x149ea2}};}async function initwsCcxt(_0xf00575){const _0x568803=_0x3b6ecd;_0xf00575==null&&(_0xf00575=[],config['portfolio'][_0x568803(0x1af)](_0x2509fa=>{const _0x2f4263=_0x568803;if(!_0x2509fa[_0x2f4263(0x237)]&&_0x2509fa[_0x2f4263(0x150)]!=config[_0x2f4263(0x25a)])_0xf00575['push'](_0x2509fa[_0x2f4263(0x275)]);}));if(!_0xf00575[_0x568803(0x27d)](stablecoins[_0x568803(0x191)]['symbol']))_0xf00575['push'](stablecoins[_0x568803(0x191)]['symbol']);if(!_0xf00575[_0x568803(0x27d)](stablecoins[_0x568803(0x1f4)][_0x568803(0x275)]))_0xf00575['push'](stablecoins[_0x568803(0x1f4)]['symbol']);if(!_0xf00575[_0x568803(0x27d)](_0x568803(0x215)+config[_0x568803(0x25a)]))_0xf00575[_0x568803(0x26c)]('BNB/'+config[_0x568803(0x25a)]);loadCoins(_0xf00575);const _0x404e81=async _0x26e3a2=>{const _0x48ac47=_0x568803,_0x2eac59=await exchange[_0x48ac47(0x296)](_0x26e3a2);global[_0x48ac47(0x1ad)][noslash(_0x2eac59[_0x48ac47(0x275)])]=_0x2eac59[_0x48ac47(0x1f7)];while(!![]){if(!botPaused)try{const _0x2f4868=await exchange['watchTrades'](_0x26e3a2);global[_0x48ac47(0x1ad)][noslash(_0x2f4868[0x0][_0x48ac47(0x275)])]=_0x2f4868[0x0][_0x48ac47(0x1c7)],await sleep(0x3e8);}catch(_0x5d96a2){if(!exchangeStopped)await handleError(_0x5d96a2,_0x48ac47(0x1c8),_0x26e3a2);}else await sleep(0x3e8);}},_0xc402c4=async _0x295b16=>{const _0x22f6e7=_0x568803;while(!![]){if(!botPaused)try{const _0x372ff8=await exchange[_0x22f6e7(0x296)](_0x295b16);global[_0x22f6e7(0x1d7)][_0x372ff8[_0x22f6e7(0x275)]]=_0x372ff8['percentage'],await sleep(0x3c*0x3e8);}catch(_0x4f6787){if(!exchangeStopped)await handleError(_0x4f6787,_0x22f6e7(0x223),_0x295b16);}else await sleep(0x3e8);}},_0x8578e8=async()=>{const _0x1a4a05=_0x568803;while(!![]){if(!botPaused)try{const _0x34d549=await exchange[_0x1a4a05(0x1c1)]();_0x34d549['forEach'](_0x16906e=>{updateNumberCoinsCcxt(_0x16906e);});}catch(_0x4069f9){if(!exchangeStopped)await handleError(_0x4069f9,'watchOrders');}else await sleep(0x3e8);}};_0xf00575['forEach'](async _0x1a29ce=>{_0x404e81(_0x1a29ce),_0xc402c4(_0x1a29ce);}),!wsEventsSet&&(wsEventsSet=!![],_0x8578e8(),watchTransactions());}async function watchTransactions(){const _0x4db56b=_0x3b6ecd;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xa0f1bb=await getCoins(),[_0x49f867,_0x2aa810]=_0xa0f1bb;let _0x296c94=[];currentCoins[_0x4db56b(0x1af)](_0x1f6746=>{const _0x4cc7fb=_0x4db56b,_0xd3c75c=_0x49f867[_0x4cc7fb(0x255)](_0x561549=>_0x561549['coin']==_0x1f6746[_0x4cc7fb(0x150)]);_0xd3c75c&&(_0x1f6746[_0x4cc7fb(0x266)]!=_0xd3c75c[_0x4cc7fb(0x266)]&&_0x296c94['push']({'coin':_0x1f6746['coin'],'symbol':_0x1f6746['symbol'],'number':Number(formatResult(_0xd3c75c['number']-_0x1f6746[_0x4cc7fb(0x266)],0x8))}));});if(_0x296c94['length']==0x1&&!blockTransactionDetection){logger['debug'](_0x4db56b(0x1bd)+lastFees[_0x4db56b(0x1cd)]+_0x4db56b(0x1b5)+lastFees['highest']);if(!lastFees[_0x4db56b(0x1cd)]||_0x296c94[0x0][_0x4db56b(0x150)]!=lastFees[_0x4db56b(0x1cd)]||_0x296c94[0x0]['number']>lastFees[_0x4db56b(0x1de)]){let _0x41f135;if(_0x296c94[0x0][_0x4db56b(0x150)]!=config[_0x4db56b(0x25a)]){let _0x7a10c6=global[_0x4db56b(0x1ad)][noslash(_0x296c94[0x0][_0x4db56b(0x275)])];_0x41f135=_0x296c94[0x0][_0x4db56b(0x235)]?0x1/_0x7a10c6:_0x7a10c6;}else _0x41f135=0x1;_0x296c94[0x0][_0x4db56b(0x1c7)]=_0x41f135,delete _0x296c94[0x0]['symbol'];let _0x181cf5=[],_0x566a08=[...config['liquidity']]||[],_0x2c2c4c=config[_0x4db56b(0x259)];_0x566a08[_0x4db56b(0x2a9)]((_0x3e625e,_0x494244)=>_0x3e625e[_0x4db56b(0x1a4)]>_0x494244[_0x4db56b(0x1a4)]?-0x1:_0x494244[_0x4db56b(0x1a4)]>_0x3e625e[_0x4db56b(0x1a4)]?0x1:0x0);const _0x3f853e=getDate();if(_0x566a08[0x0]){const _0x5826e9=fns['parse'](_0x566a08[0x0][_0x4db56b(0x1a4)],'yyyy/MM/dd',new Date()),_0x3fe8ac=fns[_0x4db56b(0x185)](_0x3f853e,'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x5826e9,_0x3fe8ac)){_0x181cf5=_0x566a08[0x0][_0x4db56b(0x15d)];const _0x377479=_0x181cf5[_0x4db56b(0x255)](_0xa9376d=>_0xa9376d[_0x4db56b(0x150)]==_0x296c94[0x0][_0x4db56b(0x150)]);_0x377479?(_0x377479['number']+=_0x296c94[0x0]['number'],_0x377479[_0x4db56b(0x266)]==0x0&&(_0x181cf5=_0x181cf5['filter'](_0x57ad09=>{const _0x19892c=_0x4db56b;return _0x57ad09[_0x19892c(0x150)]!=_0x296c94[0x0][_0x19892c(0x150)];}))):_0x181cf5[_0x4db56b(0x26c)](_0x296c94[0x0]);const _0x2c83a8=_0x2c2c4c[_0x4db56b(0x255)](_0x25b282=>_0x25b282[_0x4db56b(0x1a4)]==_0x3f853e);_0x2c83a8[_0x4db56b(0x15d)]=_0x181cf5;}else _0x2c2c4c[_0x4db56b(0x26c)]({'date':_0x3f853e,'changes':[_0x296c94[0x0]]});}const _0x23da3e=_0x2c2c4c['find'](_0x3df2b4=>_0x3df2b4[_0x4db56b(0x1a4)]==_0x3f853e);if(_0x23da3e){let _0x3d522e=!![];_0x23da3e[_0x4db56b(0x15d)][_0x4db56b(0x1af)](_0x5e2412=>{if(_0x5e2412['number']!=0x0)_0x3d522e=![];}),_0x3d522e&&(_0x2c2c4c=_0x2c2c4c[_0x4db56b(0x240)](_0x256ad6=>{const _0x2b3473=_0x4db56b;return _0x256ad6[_0x2b3473(0x1a4)]!=_0x3f853e;}));}let _0x3a5396=dbConfig[_0x4db56b(0x292)](_0x4db56b(0x264))[_0x4db56b(0x255)]({'botID':botID})[_0x4db56b(0x19f)]();_0x3a5396&&(dbConfig[_0x4db56b(0x292)](_0x4db56b(0x264))['find']({'botID':botID})[_0x4db56b(0x274)]({'liquidity':_0x2c2c4c})['write'](),config[_0x4db56b(0x259)]=_0x2c2c4c),logHistory('success',_0x4db56b(0x164)+Math[_0x4db56b(0x19b)](_0x296c94[0x0][_0x4db56b(0x266)])+'\x20'+_0x296c94[0x0][_0x4db56b(0x150)]+'\x20'+(_0x296c94[0x0][_0x4db56b(0x266)]>0x0?_0x4db56b(0x173):_0x4db56b(0x1a3))+_0x4db56b(0x2a6)),proxyEmit(_0x4db56b(0x165),emittedConfiguration());}else logger[_0x4db56b(0x242)](_0x4db56b(0x19c)+Math['abs'](_0x296c94[0x0][_0x4db56b(0x266)])+'\x20'+_0x296c94[0x0]['coin']+'\x20'+(_0x296c94[0x0][_0x4db56b(0x266)]>0x0?_0x4db56b(0x173):'removed'));transactionDetected=!![],currentCoins=_0x49f867,currentCoinsAll=_0x2aa810;}await sleep(watchTransactionsInterval);}catch(_0x401f94){if(!exchangeStopped)await handleError(_0x401f94,_0x4db56b(0x16e));}else await sleep(0x3e8);}}async function loadSymbols(_0x203819=config[_0x3b6ecd(0x15e)],_0x185d48=![]){const _0x4f5263=_0x3b6ecd;if(allSymbols&&!_0x185d48)return;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x4f5263(0x1db)][_0x4f5263(0x240)](_0x13ab93=>{const _0x44e542=_0x4f5263;let _0x3f6f03=![];const _0x251c08=exceptions[_0x203819['toLowerCase']()]||[];return _0x251c08[_0x44e542(0x1af)](_0x45540f=>{const _0x32906c=_0x44e542;if(_0x13ab93[_0x32906c(0x27d)](_0x45540f))_0x3f6f03=!![];}),!_0x3f6f03;});}catch(_0xbfdf61){throw _0xbfdf61;}}async function initclient(){const _0x2a288a=_0x3b6ecd;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x2a288a(0x24a),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2a288a(0x25f),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3adf13=getNormalizedPerformance();emitPerformance(_0x3adf13),getStartingBalances(_0x3adf13);}async function toggleBotMode(){const _0x1785ca=_0x3b6ecd;let _0x3c6eb4=dbConfig[_0x1785ca(0x292)](_0x1785ca(0x264))['find']({'botID':botID})[_0x1785ca(0x19f)]();if(_0x3c6eb4){const _0x21b97d=!_0x3c6eb4[_0x1785ca(0x276)];dbConfig[_0x1785ca(0x292)](_0x1785ca(0x264))[_0x1785ca(0x255)]({'botID':botID})[_0x1785ca(0x274)]({'headless':_0x21b97d})[_0x1785ca(0x1c9)](),config['headless']=_0x21b97d,proxyEmit(_0x1785ca(0x165),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x48edba=_0x3b6ecd;process[_0x48edba(0x1bb)]({'updatebotmanager':!![]},_0x141afc=>{});}async function loadCoins(_0x4bc942){const _0x51e60c=_0x3b6ecd;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x1e3862,_0x5052b9=0x0,_0x5caefa=0x0;_0x4bc942[_0x51e60c(0x1af)](_0x49b0b3=>{const _0xfbfb54=_0x51e60c;loading[_0xfbfb54(0x29b)][_0xfbfb54(0x26c)](_0x49b0b3);}),loadingCanceled=![];let _0x1d8b63=![];while(_0x1e3862!=_0x4bc942[_0x51e60c(0x171)]){_0x1e3862=0x0,_0x4bc942[_0x51e60c(0x1af)](_0x3f0dbe=>{const _0x392aa0=_0x51e60c;if(global[_0x392aa0(0x1ad)][noslash(_0x3f0dbe)]){loading[_0x392aa0(0x29b)]=loading[_0x392aa0(0x29b)][_0x392aa0(0x240)](_0x3bc7d7=>_0x3bc7d7!=_0x3f0dbe);if(!watchedSymbols[_0x392aa0(0x27d)](_0x3f0dbe))watchedSymbols[_0x392aa0(0x26c)](_0x3f0dbe);_0x1e3862++;}}),loading[_0x51e60c(0x2a3)]=Math[_0x51e60c(0x23a)](_0x1e3862/_0x4bc942[_0x51e60c(0x171)]*0x64);loading[_0x51e60c(0x2a3)]!=0x64&&(_0x5caefa>0x1e*0x5&&(loading[_0x51e60c(0x25c)]=!![],emitLoadingProgress()),_0x5caefa>0x78*0x5&&!_0x1d8b63&&(loading[_0x51e60c(0x27e)]=!![],emitLoadingProgress(),_0x1d8b63=!![],logHistory('error',_0x51e60c(0x197)+loading[_0x51e60c(0x29b)][_0x51e60c(0x245)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x51e60c(0x21a),_0x51e60c(0x21d)+loadCoinsRetryInterval/0xea60+_0x51e60c(0x2ac)),pidCoinReloading=setTimeout(()=>{const _0x1f39f2=_0x51e60c;process[_0x1f39f2(0x1bb)]({'stop':_0x1f39f2(0x282)},_0x3fb787=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x1e3862!=_0x5052b9&&(_0x5052b9=_0x1e3862,emitLoadingProgress()),_0x5caefa++,await sleep(0xc8);}_0x1e3862==_0x4bc942[_0x51e60c(0x171)]&&(coinsLoaded=!![],process[_0x51e60c(0x1bb)]({'status':_0x51e60c(0x206),'live':_0x51e60c(0x243)},_0x599635=>{}),_0x1d8b63&&logHistory(_0x51e60c(0x1bc),_0x51e60c(0x17e)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x48f050=_0x3b6ecd;proxyEmit(_0x48f050(0x165),{...emittedConfiguration(),'configstate':_0x48f050(0x24c)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0xa92dc6=_0x3b6ecd;let _0xa6e393=global[_0xa92dc6(0x1ad)][stablecoins[_0xa92dc6(0x191)][_0xa92dc6(0x150)]],_0x56be0c=global[_0xa92dc6(0x1ad)][stablecoins[_0xa92dc6(0x1f4)][_0xa92dc6(0x150)]];return{'eur':Number(_0xa6e393),'usd':Number(_0x56be0c)};}function capitalize(_0x5e96e6){const _0xcfda78=_0x3b6ecd;return _0x5e96e6[_0xcfda78(0x1c4)](0x0,0x1)['toUpperCase']()+_0x5e96e6[_0xcfda78(0x1c4)](0x1);}function supportedExchanges(){const _0x268a9b=_0x3b6ecd,_0xed9e10=['ws','fetchTickers',_0x268a9b(0x296),_0x268a9b(0x1c8),_0x268a9b(0x1c1),_0x268a9b(0x1a1),_0x268a9b(0x2aa),_0x268a9b(0x1ef),_0x268a9b(0x1c6),'fetchBalance'];let _0x4a9d34=[],_0x5b8dd1=[],_0x4ddc0b=ccxt[_0x268a9b(0x24a)];_0x4ddc0b[_0x268a9b(0x1af)](_0x1cb185=>{const _0x28259c=_0x268a9b;try{const _0x445f3f=new ccxt[_0x1cb185]();if(_0x445f3f['has']['ws'])_0x5b8dd1[_0x28259c(0x26c)](_0x445f3f);}catch(_0x265a25){}}),_0x5b8dd1[_0x268a9b(0x1af)](_0x2f1ce9=>{const _0x2f6c8b=_0x268a9b;let _0x2a91d5=0x0;_0xed9e10[_0x2f6c8b(0x1af)](_0x2b2e99=>{const _0x4dd1aa=_0x2f6c8b;_0x2b2e99 in _0x2f1ce9[_0x4dd1aa(0x2a7)]&&_0x2f1ce9[_0x4dd1aa(0x2a7)][_0x2b2e99]&&_0x2a91d5++;}),_0x2a91d5==_0xed9e10[_0x2f6c8b(0x171)]&&_0x4a9d34[_0x2f6c8b(0x26c)](capitalize(_0x2f1ce9['id']));});let _0x1277ba=[];return _0x4ddc0b[_0x268a9b(0x1af)](_0x168c53=>{const _0x1160ea=_0x268a9b;_0x168c53=capitalize(_0x168c53);if(!_0x4a9d34[_0x1160ea(0x27d)](_0x168c53))_0x1277ba['push'](_0x168c53);}),_0x4a9d34;}function setStartDatePerformance(){const _0x2b5069=_0x3b6ecd;if(config&&config['liquidity'][0x0][_0x2b5069(0x15d)]['length']!=0x0){const _0x531ff6=config[_0x2b5069(0x259)][0x0]['changes'];dbPerformance[_0x2b5069(0x292)](_0x2b5069(0x27f))[_0x2b5069(0x255)]({'date':config[_0x2b5069(0x21c)]})[_0x2b5069(0x274)]({'coins':_0x531ff6})['write']();}}async function recreateCoinResults(){const _0x4eb055=_0x3b6ecd;let _0x4bd81f,_0x45223d=[];try{const _0x1c2811=fns[_0x4eb055(0x169)](fns[_0x4eb055(0x154)](config[_0x4eb055(0x21c)][_0x4eb055(0x1a7)](/\//g,'-')),_0x4eb055(0x297));for(const _0x22775e of currentCoins){if(_0x22775e['coin']!=config[_0x4eb055(0x25a)]){let _0x1c6e21=0x0,_0x183d45,_0x515e08;_0x4bd81f=await getAllEventOrders(_0x22775e[_0x4eb055(0x275)]);if(_0x4bd81f[_0x4eb055(0x171)]>0x0)_0x4bd81f[_0x4eb055(0x1af)](_0x474b05=>{const _0x4b80cf=_0x4eb055,_0x3b7ca6=_0x22775e[_0x4b80cf(0x275)][_0x4b80cf(0x27d)](config[_0x4b80cf(0x25a)]+'/');_0x45223d[_0x4b80cf(0x26c)]({'datetime':_0x474b05['datetime'],'coin':_0x22775e[_0x4b80cf(0x150)],'symbol':_0x22775e[_0x4b80cf(0x275)],'side':_0x474b05[_0x4b80cf(0x1cb)],'reverse':_0x3b7ca6,'amount':formatResult(_0x474b05[_0x4b80cf(0x161)],0x8),'filled':formatResult(_0x474b05[_0x4b80cf(0x161)],0x8),'price':formatResult(_0x474b05[_0x4b80cf(0x1c7)],0x8)}),_0x1c6e21=_0x474b05[_0x4b80cf(0x1cb)]=='buy'?_0x1c6e21+_0x474b05[_0x4b80cf(0x161)]:_0x1c6e21-_0x474b05[_0x4b80cf(0x161)];if(!_0x515e08)_0x515e08=_0x474b05[_0x4b80cf(0x1c7)];});_0x183d45=_0x22775e[_0x4eb055(0x266)]-_0x1c6e21;let _0xd462fb;config[_0x4eb055(0x259)]['forEach'](_0x2417c5=>{const _0x2389ed=_0x4eb055;!_0xd462fb&&(_0xd462fb=_0x2417c5['changes'][_0x2389ed(0x255)](_0xc99a28=>_0xc99a28[_0x2389ed(0x150)]==_0x22775e[_0x2389ed(0x150)]),_0xd462fb&&(_0x183d45=_0xd462fb[_0x2389ed(0x266)],_0x515e08=_0xd462fb['price']));});let _0x4a46d0=dbCoinResults[_0x4eb055(0x292)](_0x4eb055(0x2a4))['find']({'coin':_0x22775e[_0x4eb055(0x150)]})[_0x4eb055(0x19f)]();_0x4a46d0={'coin':_0x22775e[_0x4eb055(0x150)],'number':_0x183d45,'breakeven':_0x515e08,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x4eb055(0x2a4))[_0x4eb055(0x255)]({'coin':_0x22775e['coin']})[_0x4eb055(0x274)](_0x4a46d0)['write']();}}_0x45223d[_0x4eb055(0x2a9)]((_0x6736b1,_0x283fd5)=>_0x6736b1[_0x4eb055(0x271)]>_0x283fd5[_0x4eb055(0x271)]?0x1:_0x283fd5[_0x4eb055(0x271)]>_0x6736b1['datetime']?-0x1:0x0);let _0x2375a6=0x0;for(let _0x3e181c of _0x45223d){await updateCoinResults(_0x3e181c,!![]);}}catch(_0x40f45e){await handleError(_0x40f45e,_0x4eb055(0x2b2));}}async function getAllEventOrders(_0x5d39fa){const _0x3a7a5d=_0x3b6ecd;let _0x1d3768=[],_0x9acfbb=dbLogs[_0x3a7a5d(0x292)](_0x3a7a5d(0x295))[_0x3a7a5d(0x240)](_0x266e52=>{const _0x35de08=_0x3a7a5d,_0x2edcec=_0x266e52[_0x35de08(0x225)]['toLowerCase']();return _0x2edcec['includes'](_0x5d39fa[_0x35de08(0x14d)]())&&(_0x2edcec['includes'](_0x35de08(0x1a5))&&_0x2edcec['includes']('order')||_0x2edcec[_0x35de08(0x27d)](_0x35de08(0x161))&&_0x2edcec['includes'](_0x35de08(0x1e2)));})[_0x3a7a5d(0x278)](_0x3a7a5d(0x180))['value']();return _0x9acfbb[_0x3a7a5d(0x1af)](_0x167254=>{const _0x1f3988=_0x3a7a5d,_0x7d1bcb=_0x167254['event'][_0x1f3988(0x27d)]('sell')?_0x1f3988(0x16f):_0x1f3988(0x1f9),_0x22cd2a=/#([0-9]|\.)+\s/i,_0x424159=Number(_0x22cd2a['exec'](_0x167254['event'])[0x0]['slice'](0x1)),_0x3411d3=/@([0-9]|\.)+$/i,_0x341616=Number(_0x3411d3[_0x1f3988(0x208)](_0x167254[_0x1f3988(0x225)])[0x0]['slice'](0x1));_0x1d3768['push']({'datetime':_0x167254['time'],'coin':symbolToCoin(_0x5d39fa),'symbol':_0x5d39fa,'side':_0x7d1bcb,'amount':_0x424159,'filled':_0x424159,'price':_0x341616});}),_0x1d3768;}async function getAllOrders(_0x3b1b15,_0x4e615b){const _0xde2d0a=_0x3b6ecd;let _0x40c66e=[];while(_0x4e615b<exchange[_0xde2d0a(0x1cf)]()){const _0xe39ea7=0x1f4,_0x4ec630=await exchange[_0xde2d0a(0x1c6)](_0x3b1b15,_0x4e615b,_0xe39ea7);if(_0x4ec630[_0xde2d0a(0x171)])_0x4e615b=_0x4ec630[_0x4ec630[_0xde2d0a(0x171)]-0x1][_0xde2d0a(0x18d)]+0x1,_0x40c66e=_0x40c66e['concat'](_0x4ec630);else break;}return _0x40c66e;}async function validate24hChanges(){const _0xefb02e=_0x3b6ecd;for(const _0x2e8642 of currentCoins){if(_0x2e8642[_0xefb02e(0x150)]!=config['basecoin']){let _0x365fed;_0x2e8642[_0xefb02e(0x235)]?_0x365fed=formatResult((0x1/(global['change'][noslash(_0x2e8642[_0xefb02e(0x275)])]/0x64+0x1)-0x1)*0x64,0x3):_0x365fed=global['change'][noslash(_0x2e8642[_0xefb02e(0x275)])],_0x365fed<config[_0xefb02e(0x2a8)]&&(logHistory(_0xefb02e(0x21a),_0x2e8642[_0xefb02e(0x150)]+_0xefb02e(0x1fa)+_0x365fed+'%'),logHistory(_0xefb02e(0x21a),_0xefb02e(0x290)),logHistory(_0xefb02e(0x21a),_0xefb02e(0x2b0)),await storeHeadless({'headless':![]}));}}}function _0x2563(){const _0x152f82=['<b>Bot\x20','sells','datetime','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','valid','assign','symbol','headless','no\x20open\x20orders','sortBy','yargs/yargs','Crypt','max','999271SqXhnA','includes','cancel','data','\x20metrics:</b>\x20\x0a\x0a','balancing\x20resumed','restart','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','getOpenOrders()','No\x20more\x20open\x20orders\x20-\x20','bb-settings.json','-results.json','3\x20-\x20handling\x20FILLED\x20order:\x20','limit-high','fee','-------------------------------\x0a','Unknown\x20error\x20occured','\x20>\x20','netoffset','BUSD','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','starting-balance-','get','(((.+)+)+)+$','366399EacbNd','logs','fetchTicker','yyyy-MM-dd\x27T\x27HH:mm:ss','argv','\x20hour','util','remainingSymbols','fromCodePoint','no\x20additional\x20symbols','orderId','DDoSProtection','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','distribution','entries','progress','coins','-events.json','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','has','change24h','sort','createOrder','findIndex','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','openOrders','loadMarkets','2.5.0','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','MIN_NOTIONAL','recreateCoinResults()','placeOrder','status','emojisell','bot-','bb-secure.json','getMinutes','Invalid\x20quantity','Net\x20effect','apiSecret','startprice','API-key\x20format\x20invalid','log','cooldown','portfolio','toLowerCase','AuthenticationError','timeshift','coin','796COWXlN','1440197mKsnLD','Saving\x20configuration','parseISO','OrderNotFound','Resetting\x20bot\x20history','LOCKED','secure','constructor','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','.json','ongoing','changes','exchange','recovery','bid','filled','padEnd','performance','Portfolio\x20change\x20detected:\x20','configuration','InvalidNonce','splice','530fYewBy','format','net-fiat','Initiating\x20exchange\x20reload','-performance.json','configuration-stored','watchTransactions','sell','set','length','001','added','string','NANO/','1\x20-\x20Handle\x20open\x20orders','<b>','2\x20-\x20Orders\x20unlocked','Exchange','remove','showname','************','threshold','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','getTime','time','initial','getPortfolio(2)','\x20not\x20responding','Transaction\x20detection\x20unblocked','parse','./version.json','buys','cancelLoading','version',':\x20Bot\x20','limit','pro','timestamp','\x20|\x20lock\x20orders:\x20','deleteHistoryAlerts','USDT','eur','target','search','ETH','ORDERS.LOCKED','apply','Failed\x20to\x20load\x20coin\x20data\x20for\x20','closed','InsufficientFunds','open','abs','Fee\x20discount\x20refund\x20detected:\x20','2\x20-\x20Handled\x20open\x20orders','\x20>\x20[DEBUG]\x20','value','./config/','cancelOrder','storeFiat','removed','date','market','USD','replace','Avoiding\x20continuous\x20order\x20attempts','fetchBalance','final','sendPortfolioTelegram','showConfig','ticker','getPortfolio','forEach','function','Error:\x20Invalid\x20argument\x20','timer:','\x20orders\x20in\x20less\x20than\x20','\x20value','\x20|\x20highest:\x20','2TrAbEN','EUR','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','privateKey','Limit\x20(low-margin)','send','success','Fees\x20|\x20currency:\x20','-config.json','ask','Bot\x20','watchOrders','freeze','/USD','substring','\x20exchange','fetchClosedOrders','price','watchTrades','write','keys','side','HOT/BTC','currency','slice','milliseconds','\x20portfolio:</b>\x20\x0a\x0a','RequestTimeout','./logs/','BNB','\x20:\x20','test','697509yMAVOG','change','fees','simple','18iTdmIw','symbols','Cooldown\x20ended\x20-\x20balancing\x20resumed','canceled','highest','amount','XEM/BUSD','/EUR','order','\x20order:\x20','net-basecoin','stringify','balancing\x20resumes\x20when\x20cooldown\x20ends','hybrid-crypto-js','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','split','952529ZkjFbd','customId','sendMetricsTelegram','\x20closed\x20the\x20connection','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','fetchOpenOrders','ORDERS.UNLOCKED','defaults','</pre>',',\x20must\x20be\x20a\x203\x20digit\x20number','usd','Binance','total','last','70afUoyW','buy','\x20has\x20a\x2024h\x20drop\x20of\x20','storeHeadless','additional\x20symbols\x20','Order(s)\x20not\x20validated\x20after\x20','\x20minutes\x20-\x20','offset','getMonth','2.3.5','getCoins()','delta','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','lowdb/adapters/FileSync','enabled','type','exec','\x20change','ExchangeNotAvailable','0\x20-\x20EXECUTION:\x20','bots','leftTxt','toggleBotMode','date-fns','limits','breakeven','cost','toString','2\x20-\x20FILLED\x20known\x20order:\x20','BNB/','Limit\x20(high-margin)','UNLOCKING','%\x20(','***','error','page','startdate','Pausing\x20for\x20','rightTxt','unlinkSync','lowdb','\x20|\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','fetchTickers','average','event','orderstatus','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Invalid\x20API\x20key\x20or\x20secret\x20entered','2.6.0','clientOrderId','UNLOCKED','botname','emojibuy','96UEEFyS','getHours','ORDERS.UNLOCKING','apiKey','args','existsSync','reverse','BTC','excluded','botID','yyyy/MM/dd','round','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','decrypt','getPortfolio(0)','mkdirSync','full','filter','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','debug','running','loadSymbols()','join','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','2\x20-\x20Validate\x20orders:\x20','differenceInSeconds','cloneDeep','exchanges','getFullYear','loading-canceled','indexOf','1\x20-\x20Validate\x20orders:\x20','resetHistory','Order\x20filled:\x20','Market','kill','padStart','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','find','YOYOW/','getSeconds','fiat','liquidity','basecoin','onepagemode','timeout','close','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','balances','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','Executed\x20','none','getPortfolio(1)','bot','recent20','number','message','ordertype','trade','<pre>','toFixed','push','42735396GJvNUb','getDate'];_0x2563=function(){return _0x152f82;};return _0x2563();}function isOlderVersion(_0x48e8fb,_0x31d2e3){const _0x112599=_0x3b6ecd;if(!_0x48e8fb)return!![];const _0x4cb4a0=_0x31d2e3[_0x112599(0x1e9)]('.'),_0x3aaa65=_0x48e8fb[_0x112599(0x1e9)]('.');for(var _0x4a1332=0x0;_0x4a1332<_0x3aaa65['length'];_0x4a1332++){const _0x5767f0=~~_0x3aaa65[_0x4a1332],_0xddcce2=~~_0x4cb4a0[_0x4a1332];if(_0x5767f0<_0xddcce2)return!![];if(_0x5767f0>_0xddcce2)return![];}return![];}async function oneTimeMigration(){const _0x5c5654=_0x3b6ecd;let _0x38806d=dbLogs[_0x5c5654(0x292)]('version')['value']();if(isOlderVersion(_0x38806d,_0x5c5654(0x201))){let _0x589a9f=[];const _0x5287e7=dbLogs[_0x5c5654(0x292)](_0x5c5654(0x295))[_0x5c5654(0x19f)]();_0x5287e7['forEach'](_0x5aeeb2=>{const _0x4804de=_0x5c5654;_0x589a9f[_0x4804de(0x26c)]({'time':_0x5aeeb2[_0x4804de(0x180)],'type':_0x5aeeb2[_0x4804de(0x207)],'event':_0x5aeeb2[_0x4804de(0x225)]});}),dbLogs['get']('logs')[_0x5c5654(0x274)](_0x589a9f)[_0x5c5654(0x1c9)]();}let _0x421445=dbConfig[_0x5c5654(0x292)](_0x5c5654(0x189))['value']();if(isOlderVersion(_0x421445,_0x5c5654(0x201))){let _0x43da30=dbConfig['get'](_0x5c5654(0x264))['find']({'botID':botID})[_0x5c5654(0x19f)]();if(_0x43da30){let _0x1afcd9=[];_0x43da30[_0x5c5654(0x14c)][_0x5c5654(0x1af)](_0x11e94b=>{const _0x1904b1=_0x5c5654;_0x1afcd9['push']({'coin':_0x11e94b[_0x1904b1(0x150)],'number':_0x11e94b['startnumber'],'price':_0x11e94b[_0x1904b1(0x148)]}),delete _0x11e94b['startnumber'],delete _0x11e94b[_0x1904b1(0x148)];});if(_0x1afcd9['length']!==0x0)fs['writeFile'](configbackuppath+(_0x5c5654(0x291)+botID+_0x5c5654(0x15b)),JSON[_0x5c5654(0x1e5)](_0x1afcd9,null,0x4),function(_0x3381e3){if(_0x3381e3){}});const _0x23154f=(_0x2ffea5,_0x2635dc)=>{const _0x382f6d=_0x5c5654;let _0x5903ce=[];_0x2635dc[_0x382f6d(0x1af)](_0xf11e6=>{const _0x2dcb9a=_0x382f6d,_0x1387be=_0x2ffea5[_0x2dcb9a(0x255)](_0x5a3c86=>_0x5a3c86['coin']==_0xf11e6[_0x2dcb9a(0x150)]);if(!_0x1387be)_0x5903ce[_0x2dcb9a(0x26c)](_0xf11e6);});let _0x19ddb1=[];return _0x2ffea5[_0x382f6d(0x1af)](_0x5caefc=>{const _0x15db55=_0x382f6d,_0xf8e16b=_0x2635dc[_0x15db55(0x255)](_0x33cff3=>_0x33cff3[_0x15db55(0x150)]==_0x5caefc[_0x15db55(0x150)]);if(!_0xf8e16b||_0xf8e16b['number']==0x0&&_0x5caefc[_0x15db55(0x266)]!=0x0)_0x19ddb1[_0x15db55(0x26c)](_0x5caefc);}),{'missingDay1':_0x5903ce,'notInDay2':_0x19ddb1};},_0x57b0eb=dbPerformance[_0x5c5654(0x292)]('data')[_0x5c5654(0x249)]()[_0x5c5654(0x19f)]();if(_0x57b0eb['length']>0x1){const {missingDay1:_0x4d9af0,notInDay2:_0x5b2af0}=_0x23154f(_0x1afcd9,_0x57b0eb[0x1][_0x5c5654(0x2a4)]);_0x1afcd9=[..._0x1afcd9,..._0x4d9af0],_0x5b2af0[_0x5c5654(0x1af)](_0x5e8a97=>{const _0x4a3913=_0x5c5654;let _0x5ce722=_0x1afcd9[_0x4a3913(0x2ab)](_0x1b79ab=>_0x1b79ab[_0x4a3913(0x150)]==_0x5e8a97[_0x4a3913(0x150)]);_0x5ce722!=-0x1&&_0x1afcd9[_0x4a3913(0x167)](_0x5ce722,0x1);});}_0x1afcd9[_0x5c5654(0x2a9)]((_0x4537ec,_0x533dd7)=>_0x4537ec[_0x5c5654(0x150)]>_0x533dd7[_0x5c5654(0x150)]?0x1:_0x533dd7[_0x5c5654(0x150)]>_0x4537ec[_0x5c5654(0x150)]?-0x1:0x0);let _0x253c39=[{'date':_0x43da30['startdate'],'changes':_0x1afcd9}];_0x57b0eb['length']>0x2&&_0x57b0eb[_0x5c5654(0x1af)]((_0x301f15,_0x39a4da)=>{const _0x2a6f20=_0x5c5654;if(_0x39a4da>0x0&&_0x39a4da<_0x57b0eb['length']-0x1){const {missingDay1:_0x498270,notInDay2:_0x2c36ee}=_0x23154f(_0x57b0eb[_0x39a4da][_0x2a6f20(0x2a4)],_0x57b0eb[_0x39a4da+0x1][_0x2a6f20(0x2a4)]);_0x1afcd9=[],(_0x498270[_0x2a6f20(0x171)]!=0x0||_0x2c36ee[_0x2a6f20(0x171)]!=0x0)&&(_0x498270[_0x2a6f20(0x171)]!=0x0&&_0x1afcd9[_0x2a6f20(0x26c)](..._0x498270),_0x2c36ee[_0x2a6f20(0x171)]!=0x0&&(_0x2c36ee[_0x2a6f20(0x1af)](_0x1db511=>{const _0x11073f=_0x2a6f20;_0x1db511[_0x11073f(0x266)]=-_0x1db511[_0x11073f(0x266)];}),_0x1afcd9[_0x2a6f20(0x26c)](..._0x2c36ee)),_0x1afcd9[_0x2a6f20(0x2a9)]((_0x233985,_0x313c7b)=>_0x233985[_0x2a6f20(0x150)]>_0x313c7b[_0x2a6f20(0x150)]?0x1:_0x313c7b[_0x2a6f20(0x150)]>_0x233985[_0x2a6f20(0x150)]?-0x1:0x0),_0x253c39[_0x2a6f20(0x26c)]({'date':_0x57b0eb[_0x39a4da+0x1]['date'],'changes':_0x1afcd9}));}}),dbConfig[_0x5c5654(0x292)]('bot')['find']({'botID':botID})[_0x5c5654(0x274)]({..._0x43da30,'liquidity':_0x253c39})[_0x5c5654(0x1c9)]();}}if(isOlderVersion(_0x421445,_0x5c5654(0x22a))){let _0x37b6ec=dbConfig[_0x5c5654(0x292)]('bot')[_0x5c5654(0x255)]({'botID':botID})[_0x5c5654(0x19f)]();if(_0x37b6ec){const _0x54e34b=_0x37b6ec[_0x5c5654(0x15e)],_0x161566=_0x54e34b?capitalize(_0x54e34b):_0x5c5654(0x1f5);dbConfig[_0x5c5654(0x292)](_0x5c5654(0x264))[_0x5c5654(0x255)]({'botID':botID})[_0x5c5654(0x274)]({'exchange':_0x161566})['write']();}}let _0x3a2869=dbPerformance['get'](_0x5c5654(0x189))['value']();isOlderVersion(_0x3a2869,_0x5c5654(0x201))&&setStartDatePerformance();let _0x2c5665=dbCoinResults['get'](_0x5c5654(0x189))[_0x5c5654(0x19f)]();if(isOlderVersion(_0x2c5665,_0x5c5654(0x2af))){let _0x24c03f=dbCoinResults[_0x5c5654(0x292)](_0x5c5654(0x2a4))['value']();if(_0x24c03f[_0x5c5654(0x171)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x1000b0=_0x3b6ecd;dbConfig[_0x1000b0(0x170)](_0x1000b0(0x189),serverversion)[_0x1000b0(0x1c9)](),dbPerformance[_0x1000b0(0x170)](_0x1000b0(0x189),serverversion)[_0x1000b0(0x1c9)](),dbLogs[_0x1000b0(0x170)](_0x1000b0(0x189),serverversion)[_0x1000b0(0x1c9)](),dbCoinResults[_0x1000b0(0x170)](_0x1000b0(0x189),serverversion)[_0x1000b0(0x1c9)]();}function getConfiguration(_0x43a2b1){const _0x865299=_0x3b6ecd;let _0x257bf4=dbConfig[_0x865299(0x292)]('bot')['find']({'botID':_0x43a2b1})[_0x865299(0x19f)]();if(_0x257bf4){let _0x22cae6=![];typeof _0x257bf4[_0x865299(0x17d)]==_0x865299(0x174)&&(_0x257bf4={..._0x257bf4,'threshold':Number(_0x257bf4['threshold'])},_0x22cae6=!![]),_0x257bf4[_0x865299(0x2a8)]==null&&(_0x257bf4={..._0x257bf4,'change24h':-0x14},_0x22cae6=!![]),!_0x257bf4[_0x865299(0x258)]&&(_0x257bf4={..._0x257bf4,'fiat':'USD'},_0x22cae6=!![]),!_0x257bf4[_0x865299(0x25b)]&&(_0x257bf4={..._0x257bf4,'onepagemode':settings[_0x865299(0x25b)]},_0x22cae6=!![]),_0x22cae6&&(_0x257bf4={'botID':_0x257bf4[_0x865299(0x238)],'exchange':_0x257bf4['exchange'],'apiKey':_0x257bf4[_0x865299(0x232)],'apiSecret':_0x257bf4[_0x865299(0x147)],'basecoin':_0x257bf4[_0x865299(0x25a)],'botname':_0x257bf4[_0x865299(0x22d)],'showname':_0x257bf4[_0x865299(0x17b)],'threshold':_0x257bf4['threshold'],'ordertype':_0x257bf4[_0x865299(0x268)],'timeout':_0x257bf4[_0x865299(0x25c)],'fiat':_0x257bf4[_0x865299(0x258)],'startdate':_0x257bf4[_0x865299(0x21c)],'recreate':_0x257bf4['recreate'],'timeshift':_0x257bf4[_0x865299(0x14f)],'onepagemode':_0x257bf4[_0x865299(0x25b)],'headless':_0x257bf4['headless'],'cooldown':_0x257bf4[_0x865299(0x14b)],'change24h':_0x257bf4[_0x865299(0x2a8)],'emojibuy':_0x257bf4[_0x865299(0x22e)],'emojisell':_0x257bf4[_0x865299(0x141)],'portfolio':_0x257bf4[_0x865299(0x14c)],'liquidity':_0x257bf4[_0x865299(0x259)],'openOrders':_0x257bf4['openOrders']},dbConfig[_0x865299(0x292)](_0x865299(0x264))['remove']()['write'](),dbConfig['get'](_0x865299(0x264))[_0x865299(0x26c)](_0x257bf4)[_0x865299(0x1c9)]());}else _0x257bf4={'botID':_0x43a2b1,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x865299(0x1c0)+_0x43a2b1,'showname':![],'threshold':0x3,'ordertype':_0x865299(0x1a5),'timeout':0x14,'fiat':_0x865299(0x1a6),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x257bf4;}function emittedConfiguration(){const _0x49025d=_0x3b6ecd;let _0x2d4132;if(config['apiKey']=='')_0x2d4132={...config,'configstate':_0x49025d(0x181)};else config['apiKey']==_0x49025d(0x219)?_0x2d4132={...config,'configstate':_0x49025d(0x15f)}:_0x2d4132={...config,'apiKey':_0x49025d(0x17c),'apiSecret':_0x49025d(0x17c)};return _0x2d4132;}function getSettings(){const _0x3f425f=_0x3b6ecd;return dbSettings[_0x3f425f(0x292)]('settings')[_0x3f425f(0x19f)]();}function getSecure(){const _0x53244f=_0x3b6ecd;return dbSecure[_0x53244f(0x292)](_0x53244f(0x158))['value']()||{};}function updateTimeshift(_0x49adfb){const _0x470653=_0x3b6ecd;let _0x38ba73=dbConfig[_0x470653(0x292)]('bot')[_0x470653(0x255)]({'botID':botID})[_0x470653(0x19f)]();_0x38ba73&&dbConfig[_0x470653(0x292)](_0x470653(0x264))[_0x470653(0x255)]({'botID':botID})['assign']({'timeshift':_0x49adfb})[_0x470653(0x1c9)](),config[_0x470653(0x14f)]=_0x49adfb,proxyEmit(_0x470653(0x165),emittedConfiguration());}function updateOnepagemode(_0xa0c02c){const _0xb9524c=_0x3b6ecd;let _0x260534=dbConfig[_0xb9524c(0x292)]('bot')[_0xb9524c(0x255)]({'botID':botID})['value']();_0x260534&&dbConfig[_0xb9524c(0x292)](_0xb9524c(0x264))['find']({'botID':botID})[_0xb9524c(0x274)]({'onepagemode':_0xa0c02c})[_0xb9524c(0x1c9)](),config[_0xb9524c(0x25b)]=_0xa0c02c,proxyEmit(_0xb9524c(0x165),emittedConfiguration());}async function storeConfiguration(_0x51ab30){const _0x1b15a4=_0x3b6ecd;logger[_0x1b15a4(0x242)](_0x1b15a4(0x153)),blockTransactionDetection=!![],logger['debug']('Transaction\x20detection\x20blocked');let _0x440869=[],_0x2e45e3=![],_0x17dee8=[];_0x51ab30[_0x1b15a4(0x14c)]['forEach'](_0x38bc3e=>{const _0x4dd6b7=_0x1b15a4;if(!_0x38bc3e['excluded']&&_0x38bc3e[_0x4dd6b7(0x150)]!=_0x51ab30[_0x4dd6b7(0x25a)])_0x17dee8[_0x4dd6b7(0x26c)](_0x38bc3e[_0x4dd6b7(0x275)]);}),_0x17dee8[_0x1b15a4(0x1af)](_0x2dee2f=>{const _0x226ab2=_0x1b15a4,_0x4b570a=watchedSymbols[_0x226ab2(0x27d)](_0x2dee2f);!_0x4b570a&&_0x440869[_0x226ab2(0x26c)](_0x2dee2f);});_0x440869[_0x1b15a4(0x171)]>0x0?_0x2e45e3=!![]:currentCoins[_0x1b15a4(0x1af)](_0x39fb33=>{const _0x5d512a=_0x1b15a4;if(_0x39fb33[_0x5d512a(0x150)]!=config[_0x5d512a(0x25a)]){const _0x485a2c=_0x17dee8[_0x5d512a(0x255)](_0x362dba=>_0x362dba==_0x39fb33[_0x5d512a(0x275)]);!_0x485a2c&&(_0x2e45e3=!![]);}});let _0x253064=dbConfig[_0x1b15a4(0x292)]('bot')[_0x1b15a4(0x255)]({'botID':botID})[_0x1b15a4(0x19f)]();_0x51ab30={..._0x51ab30,'apiKey':crypt[_0x1b15a4(0x23c)](secure[_0x1b15a4(0x1b9)],_0x51ab30[_0x1b15a4(0x232)])[_0x1b15a4(0x267)],'apiSecret':crypt[_0x1b15a4(0x23c)](secure[_0x1b15a4(0x1b9)],_0x51ab30[_0x1b15a4(0x147)])[_0x1b15a4(0x267)]};let _0x126ff1=![];_0x253064?(_0x51ab30[_0x1b15a4(0x232)]==_0x1b15a4(0x17c)?_0x51ab30['apiKey']=config[_0x1b15a4(0x232)]:_0x126ff1=!![],_0x51ab30['apiSecret']==_0x1b15a4(0x17c)?_0x51ab30['apiSecret']=config[_0x1b15a4(0x147)]:_0x126ff1=!![],dbConfig[_0x1b15a4(0x292)]('bot')[_0x1b15a4(0x255)]({'botID':botID})[_0x1b15a4(0x274)](_0x51ab30)['write']()):(dbConfig[_0x1b15a4(0x292)](_0x1b15a4(0x264))[_0x1b15a4(0x26c)](_0x51ab30)['write'](),_0x126ff1=!![],process['send']({'status':_0x1b15a4(0x206),'live':'running'},_0x5ae456=>{}));config={..._0x51ab30},setStartDatePerformance(),process[_0x1b15a4(0x1bb)]({'botname':_0x51ab30[_0x1b15a4(0x22d)]},_0x38d7fd=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x1b15a4(0x16d)),await initCoinResults();if(_0x126ff1)await reset(_0x440869,!![]);else{if(_0x2e45e3)await reset(_0x440869,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger['debug'](_0x1b15a4(0x184));}async function storeHeadless(_0x466465){const _0x4d5fb9=_0x3b6ecd,_0x2fdc32={...config,'headless':_0x466465[_0x4d5fb9(0x276)]};let _0x1d71f4=dbConfig[_0x4d5fb9(0x292)](_0x4d5fb9(0x264))['find']({'botID':botID})[_0x4d5fb9(0x19f)]();_0x1d71f4&&dbConfig[_0x4d5fb9(0x292)](_0x4d5fb9(0x264))[_0x4d5fb9(0x255)]({'botID':botID})['assign'](_0x2fdc32)[_0x4d5fb9(0x1c9)](),config={..._0x2fdc32},updateBotManager(),proxyEmit(_0x4d5fb9(0x165),emittedConfiguration());}async function storeFiat(_0x26ee97){const _0x36e3dc=_0x3b6ecd,_0x3a5a69={...config,'fiat':_0x26ee97};let _0xb84896=dbConfig['get'](_0x36e3dc(0x264))[_0x36e3dc(0x255)]({'botID':botID})[_0x36e3dc(0x19f)]();_0xb84896&&dbConfig['get']('bot')[_0x36e3dc(0x255)]({'botID':botID})['assign'](_0x3a5a69)['write'](),config={..._0x3a5a69},proxyEmit(_0x36e3dc(0x165),emittedConfiguration());}function resetHistory(){const _0x3f082b=_0x3b6ecd;logger[_0x3f082b(0x23f)](_0x3f082b(0x156));try{if(fs[_0x3f082b(0x234)](path[_0x3f082b(0x245)](configpath,_0x3f082b(0x142)+botID+_0x3f082b(0x2a5))))fs[_0x3f082b(0x21f)](path[_0x3f082b(0x245)](configpath,_0x3f082b(0x142)+botID+'-events.json'));if(fs[_0x3f082b(0x234)](path['join'](configpath,_0x3f082b(0x142)+botID+_0x3f082b(0x16c))))fs[_0x3f082b(0x21f)](path[_0x3f082b(0x245)](configpath,_0x3f082b(0x142)+botID+_0x3f082b(0x16c)));if(fs['existsSync'](path[_0x3f082b(0x245)](configpath,_0x3f082b(0x142)+botID+_0x3f082b(0x287))))fs[_0x3f082b(0x21f)](path['join'](configpath,_0x3f082b(0x142)+botID+_0x3f082b(0x287)));}catch(_0x569a08){if(_0x569a08)logger[_0x3f082b(0x23f)]('Error\x20while\x20deleting\x20files:\x20',_0x569a08);}const _0x39c80d=getDate();let _0x1a8834=[];currentCoins[_0x3f082b(0x1af)](_0xb4e5c6=>{const _0x215c30=_0x3f082b;_0x1a8834[_0x215c30(0x26c)]({'coin':_0xb4e5c6['coin'],'number':_0xb4e5c6[_0x215c30(0x266)],'price':_0xb4e5c6[_0x215c30(0x1f7)]});});let _0x2ff170=dbConfig['get'](_0x3f082b(0x264))[_0x3f082b(0x255)]({'botID':botID})[_0x3f082b(0x19f)]();_0x2ff170&&(dbConfig[_0x3f082b(0x292)](_0x3f082b(0x264))[_0x3f082b(0x255)]({'botID':botID})[_0x3f082b(0x274)]({'liquidity':[{'date':_0x39c80d,'changes':_0x1a8834}]})['write'](),config[_0x3f082b(0x259)]=[]),process[_0x3f082b(0x1bb)]({'stop':_0x3f082b(0x282)},_0x1ff65b=>{});}function noslash(_0x5bb844){return _0x5bb844['replace']('/','');}function updateHighestFee(_0x3b991e,_0x44e754){const _0x47a2e4=_0x3b6ecd;lastFees[_0x47a2e4(0x1cd)]=_0x3b991e,lastFees[_0x47a2e4(0x265)]['length']===0x14&&lastFees[_0x47a2e4(0x265)]['shift'](),lastFees[_0x47a2e4(0x265)][_0x47a2e4(0x26c)](_0x44e754),lastFees[_0x47a2e4(0x1de)]=Math['max'](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x100d3e){const _0x405db0=_0x3b6ecd;logger[_0x405db0(0x242)](_0x405db0(0x20b)+_0x100d3e[_0x405db0(0x275)]+_0x405db0(0x221)+_0x100d3e[_0x405db0(0x140)]+_0x405db0(0x221)+_0x100d3e['id']+_0x405db0(0x221)+_0x100d3e[_0x405db0(0x22b)]);let _0x682808=_0x100d3e[_0x405db0(0x140)],_0x136fb4=![];currentCoins[_0x405db0(0x1af)](_0x1d7e72=>{const _0x4e5060=_0x405db0;_0x1d7e72[_0x4e5060(0x275)]==_0x100d3e[_0x4e5060(0x275)]&&(_0x136fb4=!![]);});if(!_0x136fb4)return;const _0x4436b1=currentCoins[_0x405db0(0x255)](_0x44e0d4=>_0x44e0d4['symbol']==_0x100d3e[_0x405db0(0x275)]),_0x42c63e=_0xbbc3f7=>{const _0x2227fa=_0x405db0;if(_0x4436b1)_0x4436b1[_0x2227fa(0x226)]=_0xbbc3f7;};if(_0x682808=='open')_0x42c63e(_0x405db0(0x19a));else{if(_0x682808==_0x405db0(0x1dd)){_0x42c63e(_0x405db0(0x1dd));const _0x1a9f91=await getCoins();[currentCoins,currentCoinsAll]=_0x1a9f91,await getOpenOrders(),handleOpenOrders();}else{if(_0x682808==_0x405db0(0x198)){logger[_0x405db0(0x242)]('1\x20-\x20FILLED:\x20'+_0x100d3e[_0x405db0(0x275)]+_0x405db0(0x221)+_0x100d3e[_0x405db0(0x161)]+'\x20|\x20'+_0x100d3e['id']+_0x405db0(0x221)+_0x100d3e[_0x405db0(0x22b)]);let _0x4cd043=![];if(lastOrders)lastOrders[_0x405db0(0x1af)](async _0xea2f7e=>{const _0x567521=_0x405db0;if(_0xea2f7e[_0x567521(0x1eb)]==_0x100d3e['clientOrderId']){logger[_0x567521(0x242)](_0x567521(0x214)+_0x100d3e['clientOrderId']),_0x4cd043=!![];if(_0xea2f7e['filled']==0x0){logger['debug'](_0x567521(0x288)+_0x100d3e[_0x567521(0x22b)]),_0xea2f7e[_0x567521(0x1c7)]=_0x100d3e[_0x567521(0x224)],_0xea2f7e['filled']=_0x100d3e[_0x567521(0x161)],_0xea2f7e[_0x567521(0x28a)]={'currency':_0x100d3e[_0x567521(0x28a)]?_0x100d3e[_0x567521(0x28a)]['currency']:null,'cost':_0x100d3e['fee']?_0x100d3e['fee'][_0x567521(0x212)]:0x0},updateHighestFee(_0xea2f7e[_0x567521(0x28a)]['currency'],_0xea2f7e[_0x567521(0x28a)]['cost']),_0x42c63e(_0x567521(0x161)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x348dae=await getCoins();[currentCoins,currentCoinsAll]=_0x348dae;}await updateCoinResults(_0xea2f7e);}}});if(!_0x4cd043){logger['debug']('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x100d3e['id']),_0x42c63e('filled');const _0x28237c=await getCoins();[currentCoins,currentCoinsAll]=_0x28237c,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1388b9=JSON['parse'](lastBalances[_0x405db0(0x14c)]);const _0x5730b5=_0x1388b9[_0x405db0(0x255)](_0x1b2fe6=>_0x1b2fe6[_0x405db0(0x275)]==_0x100d3e[_0x405db0(0x275)]);if(_0x5730b5){if(_0x682808==_0x405db0(0x19a))_0x5730b5['orderstatus']=_0x5730b5['orderstatus']==_0x405db0(0x161)?_0x405db0(0x161):_0x405db0(0x19a);else{if(_0x682808==_0x405db0(0x1dd))_0x5730b5[_0x405db0(0x226)]=_0x5730b5['orderstatus']==_0x405db0(0x161)?_0x405db0(0x161):_0x405db0(0x1dd);else _0x682808==_0x405db0(0x198)&&(_0x5730b5['orderstatus']=_0x405db0(0x161));}}lastBalances={...lastBalances,'portfolio':JSON[_0x405db0(0x1e5)](_0x1388b9)},proxyEmit(_0x405db0(0x25f),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x287c50=_0x3b6ecd;await getOpenOrders();let _0x5ed05e=![];currentCoins[_0x287c50(0x1af)](_0x374733=>{const _0x29aa07=_0x287c50;_0x5ed05e=allOpenOrders['find'](_0x4d42f8=>_0x4d42f8[_0x29aa07(0x275)]==_0x374733['symbol']),_0x374733[_0x29aa07(0x226)]=_0x5ed05e?_0x29aa07(0x19a):'none';});}async function getCoins(_0x4653a0=!![],_0x5ba82a=config['basecoin']){const _0x23b6db=_0x3b6ecd;let _0x3f63c4,_0x197ced=[],_0x152525=[],_0x33da85=[],_0x461ac1=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x3f63c4=await exchange['fetchBalance'](),mybalances=_0x3f63c4[_0x23b6db(0x1f6)];for(const [_0x1b1017,_0x306e0f]of Object[_0x23b6db(0x2a2)](mybalances)){_0x461ac1[_0x23b6db(0x26c)](_0x1b1017);}if(_0x5ba82a=='')for(const [_0x1c8307,_0x441322]of Object[_0x23b6db(0x2a2)](mybalances)){_0x441322['toString']()!=0x0&&_0x152525[_0x23b6db(0x26c)]({'coin':_0x1c8307});}else{let _0x409b8f=![];for(const [_0x1e3a25,_0x34904d]of Object['entries'](mybalances)){if(_0x461ac1[_0x23b6db(0x27d)](_0x1e3a25)){const _0x3cdfa7=config[_0x23b6db(0x14c)][_0x23b6db(0x255)](_0x4f1f22=>_0x4f1f22[_0x23b6db(0x150)]==_0x1e3a25),_0x597868=_0x1e3a25+'/'+_0x5ba82a,_0x5da56c=_0x5ba82a+'/'+_0x1e3a25,_0x5d4463=currentCoins[_0x23b6db(0x255)](_0x392195=>_0x392195[_0x23b6db(0x150)]==_0x1e3a25);_0x409b8f=![];if((_0x34904d['toString']()!=0x0||_0x3cdfa7)&&(allSymbols['includes'](_0x597868)||_0x1e3a25==_0x5ba82a))_0x1e3a25!=_0x5ba82a&&_0x197ced['push'](_0x597868),_0x152525[_0x23b6db(0x26c)]({'coin':_0x1e3a25,'symbol':_0x597868,'reverse':![],'number':Math['max'](_0x34904d+(_0x3cdfa7&&_0x3cdfa7['offset']||0x0),0x0),'orderstatus':_0x5d4463?_0x5d4463[_0x23b6db(0x226)]:_0x23b6db(0x262)});else(_0x34904d[_0x23b6db(0x213)]()!=0x0||_0x3cdfa7)&&allSymbols[_0x23b6db(0x27d)](_0x5da56c)&&(_0x1e3a25!=_0x5ba82a&&_0x197ced[_0x23b6db(0x26c)](_0x5da56c),_0x152525[_0x23b6db(0x26c)]({'coin':_0x1e3a25,'symbol':_0x5da56c,'reverse':!![],'number':Math[_0x23b6db(0x27b)](_0x34904d+(_0x3cdfa7&&_0x3cdfa7[_0x23b6db(0x1ff)]||0x0),0x0),'orderstatus':_0x5d4463?_0x5d4463[_0x23b6db(0x226)]:_0x23b6db(0x262)}));}}}}catch(_0x2fc1e4){if(!_0x4653a0)handleErrorNoStop(_0x2fc1e4,_0x23b6db(0x202));else await handleError(_0x2fc1e4,_0x23b6db(0x202));}return _0x33da85=cloneDeep(_0x152525),_0x152525=_0x152525[_0x23b6db(0x240)](_0x40e536=>{const _0x163409=_0x23b6db,_0x59c2f8=config[_0x163409(0x14c)]['find'](_0x406118=>_0x406118[_0x163409(0x150)]==_0x40e536[_0x163409(0x150)]);return _0x59c2f8&&!_0x59c2f8[_0x163409(0x237)];}),[_0x152525,_0x33da85];}async function getCoinNumber(_0x217775){const _0x45b7dd=_0x3b6ecd;let _0x3e4bd9;try{const _0x1a60f8=await exchange[_0x45b7dd(0x1a9)]();_0x3e4bd9=_0x1a60f8[_0x45b7dd(0x1f6)][_0x217775];}catch(_0x121583){await handleError(_0x121583,'getCoinNumber()');}return _0x3e4bd9;}async function getOpenOrders(){const _0x2fbcb1=_0x3b6ecd;let _0x5d1a9b;allOpenOrders=[];try{for(const _0x427606 of config[_0x2fbcb1(0x14c)]){!_0x427606['excluded']&&_0x427606[_0x2fbcb1(0x150)]!=config[_0x2fbcb1(0x25a)]&&(_0x5d1a9b=await exchange[_0x2fbcb1(0x1ef)](_0x427606[_0x2fbcb1(0x275)]),_0x5d1a9b[_0x2fbcb1(0x171)]>0x0&&allOpenOrders[_0x2fbcb1(0x26c)](_0x5d1a9b[0x0]));}}catch(_0x59cb8f){await handleError(_0x59cb8f,_0x2fbcb1(0x284));}}async function handleOpenOrders(_0x19d5ad=0x0){const _0x31727e=_0x3b6ecd;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x31727e(0x157)]&&allOrdersPlaced&&(_0x19d5ad==0x0?(logger['debug'](_0x31727e(0x176)),_0x19d5ad++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x31727e(0x19d)),validateOrders(_0x31727e(0x277))));}async function testAPI(_0x1aafa8){const _0x503ae3=_0x3b6ecd,_0x173c82=ccxt[_0x1aafa8[_0x503ae3(0x15e)][_0x503ae3(0x14d)]()],_0x4e3aab=new _0x173c82({'apiKey':_0x1aafa8['apiKey'],'secret':_0x1aafa8['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x4e3aab[_0x503ae3(0x2ae)]();}catch(_0x5b2521){throw _0x5b2521;}}function cloneDeep(_0x4f01f3){const _0x411096=_0x3b6ecd;return JSON[_0x411096(0x185)](JSON['stringify'](_0x4f01f3));}async function getPortfolio(_0x4a8897){const _0x4f0b07=_0x3b6ecd;let _0x15319d=[],_0x1dbf59=[],_0x76cc94=[],_0x2b2b4e;if(_0x4a8897['apiKey']!==_0x4f0b07(0x17c)||_0x4a8897[_0x4f0b07(0x147)]!==_0x4f0b07(0x17c)){if(config[_0x4f0b07(0x15e)]){if(_0x4a8897[_0x4f0b07(0x232)]==_0x4f0b07(0x17c))_0x4a8897[_0x4f0b07(0x232)]=config[_0x4f0b07(0x232)];if(_0x4a8897[_0x4f0b07(0x147)]=='************')_0x4a8897['apiSecret']=config[_0x4f0b07(0x147)];try{await testAPI(_0x4a8897);}catch(_0x418100){if(_0x418100[_0x4f0b07(0x213)]()[_0x4f0b07(0x27d)](_0x4f0b07(0x14e))){logger[_0x4f0b07(0x242)](_0x4f0b07(0x229)),proxyEmit('portfolio',![]);return;}else{handleError(_0x418100,_0x4f0b07(0x23d));return;}}}await initExchange(_0x4a8897[_0x4f0b07(0x15e)],_0x4a8897[_0x4f0b07(0x232)],_0x4a8897[_0x4f0b07(0x147)]);try{await loadSymbols(_0x4a8897[_0x4f0b07(0x15e)],!![]);}catch(_0x589483){if(_0x589483[_0x4f0b07(0x213)]()['includes'](_0x4f0b07(0x14e))){proxyEmit('portfolio',![]);return;}else{handleError(_0x589483,_0x4f0b07(0x263));return;}}const _0x3d8b6=await getCoins(![],_0x4a8897[_0x4f0b07(0x25a)]);_0x76cc94=cloneDeep(_0x3d8b6[0x1]);}else _0x76cc94=cloneDeep(currentCoinsAll);if(_0x4a8897['basecoin']=='')proxyEmit(_0x4f0b07(0x14c),_0x76cc94);else{_0x76cc94[_0x4f0b07(0x1af)](_0x7aeda=>{const _0x3e198d=_0x4f0b07;if(_0x7aeda[_0x3e198d(0x150)]!=_0x4a8897[_0x3e198d(0x25a)])_0x15319d[_0x3e198d(0x26c)](_0x7aeda[_0x3e198d(0x275)]);});try{_0x1dbf59=await exchange[_0x4f0b07(0x223)](_0x15319d);}catch(_0x2a2df7){if(_0x2a2df7[_0x4f0b07(0x213)]()[_0x4f0b07(0x27d)]('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x2a2df7,_0x4f0b07(0x182));return;}}_0x76cc94[_0x4f0b07(0x1af)](_0x462b01=>{const _0x44f97e=_0x4f0b07;_0x462b01['coin']!=_0x4a8897[_0x44f97e(0x25a)]?_0x2b2b4e=_0x462b01[_0x44f97e(0x235)]?0x1/_0x1dbf59[_0x462b01[_0x44f97e(0x275)]][_0x44f97e(0x1f7)]:_0x1dbf59[_0x462b01[_0x44f97e(0x275)]][_0x44f97e(0x1f7)]:_0x2b2b4e=0x1,_0x462b01[_0x44f97e(0x1c7)]=formatResult(_0x2b2b4e,0x8);}),proxyEmit(_0x4f0b07(0x14c),_0x76cc94);}}function checkMinimums(_0x36cc9a){const _0x13d623=_0x3b6ecd;let _0x2b11dc=!![];const _0x288852=!_0x36cc9a[_0x13d623(0x235)]?markets[_0x36cc9a[_0x13d623(0x275)]][_0x13d623(0x210)][_0x13d623(0x1df)]['min']:markets[_0x36cc9a[_0x13d623(0x275)]][_0x13d623(0x210)]['cost']['min'],_0x4147ef=!_0x36cc9a[_0x13d623(0x235)]?markets[_0x36cc9a['symbol']][_0x13d623(0x210)][_0x13d623(0x212)]['min']:markets[_0x36cc9a['symbol']]['limits'][_0x13d623(0x1df)]['min'],_0x47f7e3=markets[_0x36cc9a[_0x13d623(0x275)]]['precision']['amount'];_0x36cc9a[_0x13d623(0x269)]=formatResultTruncate(_0x36cc9a['trade'],_0x47f7e3);if(Math['abs'](_0x36cc9a[_0x13d623(0x269)])<_0x288852)_0x2b11dc=![];if(Math[_0x13d623(0x19b)](_0x36cc9a['trade'])*_0x36cc9a[_0x13d623(0x1f7)]<_0x4147ef)_0x2b11dc=![];if(_0x36cc9a[_0x13d623(0x1cb)]==_0x13d623(0x16f)){let _0x2e29ad=config['portfolio']['find'](_0x118fa1=>_0x118fa1[_0x13d623(0x150)]==_0x36cc9a[_0x13d623(0x150)]);if(_0x2e29ad[_0x13d623(0x1ff)]>0x0){if(Math[_0x13d623(0x19b)](_0x36cc9a[_0x13d623(0x269)])>_0x36cc9a['number']-_0x2e29ad['offset'])_0x2b11dc=![];}else{if(Math[_0x13d623(0x19b)](_0x36cc9a[_0x13d623(0x269)])>_0x36cc9a['number'])_0x2b11dc=![];}}if(_0x36cc9a['side']==_0x13d623(0x1f9)){let _0x26b432=config[_0x13d623(0x14c)][_0x13d623(0x255)](_0x5868f2=>_0x5868f2[_0x13d623(0x150)]==config[_0x13d623(0x25a)]),_0x51c4b6=currentCoins[_0x13d623(0x255)](_0x2aaf29=>_0x2aaf29[_0x13d623(0x150)]==config[_0x13d623(0x25a)]);if(_0x26b432[_0x13d623(0x1ff)]>0x0){if(Math['abs'](_0x36cc9a[_0x13d623(0x269)])*_0x36cc9a[_0x13d623(0x1f7)]>_0x51c4b6['number']-_0x26b432[_0x13d623(0x1ff)])_0x2b11dc=![];}else{if(Math[_0x13d623(0x19b)](_0x36cc9a['trade'])*_0x36cc9a[_0x13d623(0x1f7)]>_0x51c4b6[_0x13d623(0x266)])_0x2b11dc=![];}}return _0x2b11dc;}async function getBalances(){const _0x3ea155=_0x3b6ecd;let _0x54d89c=0x0,_0x464660;const _0x2c404f=config[_0x3ea155(0x17d)];if(config['headless']&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x3ea155(0x1af)](_0x4b9471=>{const _0x2c060d=_0x3ea155;if(_0x4b9471[_0x2c060d(0x150)]!=config[_0x2c060d(0x25a)]){let _0x500dfb=global[_0x2c060d(0x1ad)][noslash(_0x4b9471['symbol'])];_0x464660=_0x4b9471[_0x2c060d(0x235)]?0x1/_0x500dfb:_0x500dfb;}else _0x464660=0x1;let _0x4f7bea=_0x4b9471[_0x2c060d(0x266)]*_0x464660;_0x54d89c+=_0x4f7bea,_0x4b9471[_0x2c060d(0x1f7)]=formatResult(Number(_0x464660),0x8),_0x4b9471[_0x2c060d(0x19f)]=_0x4f7bea;}),currentCoins[_0x3ea155(0x1af)](_0x1dbb95=>{const _0xf9b840=_0x3ea155;let _0x2fd8d4=config[_0xf9b840(0x14c)]['find'](_0x162b9d=>_0x162b9d[_0xf9b840(0x150)]==_0x1dbb95[_0xf9b840(0x150)]),_0x3abe88=Number(_0x2fd8d4['distribution']),_0x3cee37=_0x1dbb95[_0xf9b840(0x19f)]/_0x54d89c*0x64,_0x5718e8=_0x3abe88*_0x54d89c/0x64/_0x1dbb95[_0xf9b840(0x1f7)]-_0x1dbb95[_0xf9b840(0x266)];_0x1dbb95[_0xf9b840(0x2a1)]=formatResult(_0x3cee37,0x3),_0x1dbb95[_0xf9b840(0x192)]=formatResult(_0x3abe88,0x3),_0x1dbb95[_0xf9b840(0x269)]=formatResult(_0x5718e8,0x8),_0x1dbb95[_0xf9b840(0x1cb)]='',_0x1dbb95[_0xf9b840(0x273)]=![];if(_0x1dbb95[_0xf9b840(0x150)]!=config[_0xf9b840(0x25a)]){if(_0x1dbb95[_0xf9b840(0x2a1)]>_0x3abe88)_0x1dbb95[_0xf9b840(0x1cb)]=_0xf9b840(0x16f),_0x1dbb95[_0xf9b840(0x273)]=checkMinimums(_0x1dbb95);else _0x1dbb95[_0xf9b840(0x2a1)]<_0x3abe88&&(_0x1dbb95[_0xf9b840(0x1cb)]='buy',_0x1dbb95[_0xf9b840(0x273)]=checkMinimums(_0x1dbb95));}_0x1dbb95[_0xf9b840(0x203)]=_0x1dbb95[_0xf9b840(0x2a1)]/_0x1dbb95[_0xf9b840(0x192)]-0x1;if(_0x1dbb95[_0xf9b840(0x226)]==_0xf9b840(0x161)||_0x1dbb95['orderstatus']=='canceled')_0x1dbb95[_0xf9b840(0x226)]=_0xf9b840(0x262);}),currentCoins[_0x3ea155(0x2a9)]((_0x5ce067,_0x144517)=>_0x5ce067[_0x3ea155(0x203)]<_0x144517[_0x3ea155(0x203)]?0x1:_0x144517[_0x3ea155(0x203)]<_0x5ce067[_0x3ea155(0x203)]?-0x1:0x0);const _0xadc024=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xadc024[_0x3ea155(0x191)],'usd':_0xadc024['usd'],'portfolio':JSON[_0x3ea155(0x1e5)](currentCoins),'threshold':_0x2c404f},proxyEmit(_0x3ea155(0x25f),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x3ea155(0x276)])headlessMode({'portfolio':currentCoins,'threshold':_0x2c404f});else{if(lockOrders==ORDERS[_0x3ea155(0x22c)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2c404f});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1d18c2=getNormalizedPerformance();getStartingBalances(_0x1d18c2),emitPerformance(_0x1d18c2);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x520c23=getNormalizedPerformance();emitPerformance(_0x520c23),getStartingBalances(_0x520c23),logger['debug'](_0x3ea155(0x23b));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x30d850=_0x3b6ecd;if(!lastBalances)return;let _0x149c3a=[],_0x27a457,_0x5087de=JSON[_0x30d850(0x185)](lastBalances[_0x30d850(0x14c)]);_0x5087de['sort']((_0x29191c,_0x5d88e7)=>_0x29191c['coin']>_0x5d88e7[_0x30d850(0x150)]?0x1:_0x5d88e7[_0x30d850(0x150)]>_0x29191c[_0x30d850(0x150)]?-0x1:0x0),_0x5087de[_0x30d850(0x1af)](_0x737933=>{const _0x4cd64b=_0x30d850;let _0xe09a2={'coin':_0x737933[_0x4cd64b(0x150)],'number':_0x737933[_0x4cd64b(0x266)],'price':_0x737933[_0x4cd64b(0x1f7)]};_0x149c3a['push'](_0xe09a2);});const _0x4cb8e4=await getFiat();_0x27a457={'date':lastBalances[_0x30d850(0x180)][_0x30d850(0x1e9)]('\x20')[0x0],'eur':_0x4cb8e4['eur'],'usd':_0x4cb8e4['usd'],'coins':_0x149c3a};let _0x43b656=dbPerformance['get'](_0x30d850(0x27f))['find']({'date':_0x27a457[_0x30d850(0x1a4)]})[_0x30d850(0x19f)]();_0x43b656?_0x27a457[_0x30d850(0x1a4)]!=config[_0x30d850(0x21c)]&&dbPerformance[_0x30d850(0x292)]('data')['find']({'date':_0x27a457['date']})['assign'](_0x27a457)[_0x30d850(0x1c9)]():dbPerformance['get'](_0x30d850(0x27f))[_0x30d850(0x26c)](_0x27a457)[_0x30d850(0x1c9)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0xafa70d=_0x3b6ecd;let _0xc4a3cc=[];if(dbPerformance[_0xafa70d(0x2a7)]('data')[_0xafa70d(0x19f)]()){let _0x5b041c=dbPerformance['get'](_0xafa70d(0x27f))[_0xafa70d(0x249)]()['sortBy'](_0xafa70d(0x1a4))['value'](),_0x43fc7e=[...config[_0xafa70d(0x259)]];_0x43fc7e[_0xafa70d(0x2a9)]((_0x44752f,_0x172f76)=>_0x44752f['date']>_0x172f76[_0xafa70d(0x1a4)]?-0x1:_0x172f76[_0xafa70d(0x1a4)]>_0x44752f[_0xafa70d(0x1a4)]?0x1:0x0);let _0x56294e=0x1,_0x433d35=[],_0x251dd2=0x0;_0x5b041c[_0xafa70d(0x1ce)]()[_0xafa70d(0x235)]()['forEach']((_0x1e9116,_0x554c5b)=>{const _0x2b75b4=_0xafa70d;if(_0x43fc7e[_0x251dd2]){if(_0x5b041c[_0x5b041c['length']-_0x554c5b]&&_0x43fc7e[_0x251dd2][_0x2b75b4(0x1a4)]==_0x5b041c[_0x5b041c[_0x2b75b4(0x171)]-_0x554c5b][_0x2b75b4(0x1a4)]){if(_0x554c5b<_0x5b041c['length']){let _0x4f1841=0x0,_0x46a9f2=0x0;_0x5b041c[_0x5b041c[_0x2b75b4(0x171)]-_0x554c5b][_0x2b75b4(0x2a4)][_0x2b75b4(0x1af)](_0x3066b5=>{const _0x2f67b0=_0x2b75b4;_0x46a9f2+=_0x3066b5[_0x2f67b0(0x266)]*_0x3066b5[_0x2f67b0(0x1c7)];}),_0x43fc7e[_0x251dd2][_0x2b75b4(0x15d)][_0x2b75b4(0x1af)](_0x22d097=>{const _0x269b57=_0x2b75b4;_0x4f1841+=_0x22d097['number']*_0x22d097[_0x269b57(0x1c7)];}),_0x56294e*=_0x4f1841/(_0x46a9f2-_0x4f1841)+0x1;}_0x251dd2++;}}let _0x420076=0x0;_0x1e9116['coins'][_0x2b75b4(0x1af)](_0x4df3fe=>{const _0x501505=_0x2b75b4;_0x420076+=_0x4df3fe[_0x501505(0x266)]*_0x4df3fe[_0x501505(0x1c7)];}),_0x433d35[_0x5b041c[_0x2b75b4(0x171)]-_0x554c5b-0x1]=_0x420076*(_0x56294e-0x1);});let _0x199a88=[];_0x43fc7e=[...config['liquidity']]||[];let _0x6e112c=0x0;_0x251dd2=0x0,_0x5b041c[_0xafa70d(0x1af)]((_0x54f027,_0x1689df)=>{const _0x4681ba=_0xafa70d;if(_0x43fc7e[_0x251dd2]){const _0x3c337c=fns[_0x4681ba(0x185)](_0x43fc7e[_0x251dd2][_0x4681ba(0x1a4)],_0x4681ba(0x239),new Date()),_0x21768c=fns['parse'](_0x54f027[_0x4681ba(0x1a4)],_0x4681ba(0x239),new Date());if(fns['isEqual'](_0x3c337c,_0x21768c)){let _0x53856e=0x0;_0x43fc7e[_0x251dd2][_0x4681ba(0x15d)][_0x4681ba(0x1af)](_0x4f34fe=>{const _0x3e2a8f=_0x4681ba;!_0x199a88[_0x4f34fe[_0x3e2a8f(0x150)]]?_0x199a88[_0x4f34fe[_0x3e2a8f(0x150)]]=_0x4f34fe[_0x3e2a8f(0x266)]:(_0x53856e=_0x199a88[_0x4f34fe[_0x3e2a8f(0x150)]],_0x199a88[_0x4f34fe['coin']]+=_0x4f34fe[_0x3e2a8f(0x266)]);const _0x246650=_0x54f027[_0x3e2a8f(0x2a4)]['find'](_0x2e9f76=>_0x2e9f76[_0x3e2a8f(0x150)]==_0x4f34fe[_0x3e2a8f(0x150)]);(!_0x246650||_0x246650['number']==0x0)&&(_0x6e112c+=(-_0x4f34fe[_0x3e2a8f(0x266)]-_0x53856e)*_0x4f34fe[_0x3e2a8f(0x1c7)]);}),_0x251dd2++;}}_0x54f027[_0x4681ba(0x2a4)][_0x4681ba(0x1af)]((_0x3a848a,_0x2eecf1)=>{const _0x5a0e97=_0x4681ba;_0x199a88[_0x3a848a[_0x5a0e97(0x150)]]&&(_0x3a848a[_0x5a0e97(0x181)]=_0x199a88[_0x3a848a['coin']]);}),_0xc4a3cc[_0x4681ba(0x26c)]({'date':_0x54f027[_0x4681ba(0x1a4)],'eur':_0x54f027[_0x4681ba(0x191)],'usd':_0x54f027['usd'],'offset':_0x433d35[_0x1689df],'netoffset':_0x6e112c,'coins':_0x54f027[_0x4681ba(0x2a4)]});});}return _0xc4a3cc;}function emitPerformance(_0xf2c49c){const _0x38f588=_0x3b6ecd;_0xf2c49c[_0x38f588(0x171)]!==0x0?(proxyEmit(_0x38f588(0x163),_0xf2c49c),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x20e951,_0x4a852a){const _0x31efbb=_0x3b6ecd;let _0x19e400=0x0,_0x49dbcc=0x0,_0x321a6e=0x0;_0x20e951['coins']['forEach'](_0x394f0d=>{const _0x59213e=_0x377c;_0x19e400+=_0x394f0d['number']*_0x394f0d[_0x59213e(0x1c7)];});_0x4a852a&&(_0x19e400+=_0x20e951[_0x31efbb(0x1ff)]);if(config[_0x31efbb(0x25a)]===_0x31efbb(0x236)||config[_0x31efbb(0x25a)]===_0x31efbb(0x194))_0x49dbcc=_0x19e400*_0x20e951[_0x31efbb(0x191)],_0x321a6e=_0x19e400*_0x20e951[_0x31efbb(0x1f4)];else{if(config[_0x31efbb(0x25a)]===_0x31efbb(0x28f)||config[_0x31efbb(0x25a)]===_0x31efbb(0x190)||config[_0x31efbb(0x25a)]===_0x31efbb(0x1a6))_0x49dbcc=_0x19e400*_0x20e951[_0x31efbb(0x191)]/_0x20e951[_0x31efbb(0x1f4)],_0x321a6e=_0x19e400;else config[_0x31efbb(0x25a)]===_0x31efbb(0x1b7)&&(_0x49dbcc=_0x19e400,_0x321a6e=_0x19e400*_0x20e951['usd']/_0x20e951[_0x31efbb(0x191)]);}return[_0x19e400,_0x49dbcc,_0x321a6e];}function getKPIs(_0x41970a,_0x3c5620=_0x3b6ecd(0x1b7)){const _0x1c5ebb=_0x3b6ecd,_0x31a101=config['basecoin'],_0x57c8fe=lastBalances,_0x2183ed=currentCoins,_0x3091d4=getNormalizedPerformance(),_0x58021a=_0x41970a==='basecoin'?_0x31a101:_0x41970a==='fiat'||_0x41970a===_0x1c5ebb(0x16a)?_0x3c5620:'Net\x20'+_0x31a101,_0x5d03b1=_0x41970a===_0x1c5ebb(0x1e4)?'Net\x20effect':_0x41970a===_0x1c5ebb(0x16a)?_0x1c5ebb(0x146):_0x58021a+_0x1c5ebb(0x1b4),_0x43a5d5=_0x41970a===_0x1c5ebb(0x1e4)||_0x41970a==='net-fiat'?_0x1c5ebb(0x146):_0x58021a+_0x1c5ebb(0x209);let _0x37c832=0x0;_0x2183ed[_0x1c5ebb(0x1af)](_0xe557f9=>{const _0x7eef40=_0x1c5ebb;_0x37c832+=_0xe557f9['number']*_0xe557f9[_0x7eef40(0x1f7)];});if(_0x41970a===_0x1c5ebb(0x258)||_0x41970a===_0x1c5ebb(0x16a)){if(_0x31a101===_0x1c5ebb(0x236)||_0x31a101==='ETH')_0x37c832=_0x37c832*(_0x3c5620===_0x1c5ebb(0x1b7)?_0x57c8fe['eur']:_0x57c8fe[_0x1c5ebb(0x1f4)]);else{if(_0x31a101===_0x1c5ebb(0x28f)||_0x31a101===_0x1c5ebb(0x190)||_0x31a101===_0x1c5ebb(0x1a6))_0x37c832=_0x37c832*(_0x3c5620===_0x1c5ebb(0x1b7)?_0x57c8fe[_0x1c5ebb(0x191)]/_0x57c8fe[_0x1c5ebb(0x1f4)]:0x1);else _0x31a101===_0x1c5ebb(0x1b7)&&(_0x37c832=_0x37c832*(_0x3c5620===_0x1c5ebb(0x1b7)?0x1:_0x57c8fe[_0x1c5ebb(0x1f4)]/_0x57c8fe['eur']));}}let _0x2af318;if(_0x37c832!==0x0){if(_0x41970a==='basecoin')_0x2af318=(_0x37c832/startingBalances[_0x1c5ebb(0x25a)]-0x1)*0x64;else{if(_0x3c5620===_0x1c5ebb(0x1b7))_0x2af318=(_0x37c832/startingBalances[_0x1c5ebb(0x191)]-0x1)*0x64;else _0x2af318=(_0x37c832/startingBalances[_0x1c5ebb(0x1f4)]-0x1)*0x64;}let _0x5b1fd9=0x0;if(startingBalances[_0x1c5ebb(0x2a4)])_0x2183ed['forEach'](_0x369042=>{const _0x457153=_0x1c5ebb;let _0x16aaff=startingBalances['coins'][_0x457153(0x255)](_0x57e50d=>_0x57e50d[_0x457153(0x150)]===_0x369042[_0x457153(0x150)]);if(_0x16aaff&&_0x16aaff[_0x457153(0x150)]&&_0x369042[_0x457153(0x266)]!==0x0)_0x5b1fd9+=_0x16aaff['number']*_0x369042['last'];});let _0x39e865=0x0;if(_0x3091d4['length']!==0x0){let _0x2f0318=_0x3091d4[_0x3091d4[_0x1c5ebb(0x171)]-0x1];_0x39e865=_0x2f0318[_0x1c5ebb(0x28e)];}_0x5b1fd9-=_0x39e865;_0x41970a===_0x1c5ebb(0x1e4)&&(_0x2af318=(_0x37c832-_0x5b1fd9)/startingBalances[_0x1c5ebb(0x25a)]*0x64,_0x37c832=_0x37c832-_0x5b1fd9);if(_0x41970a===_0x1c5ebb(0x16a)){let _0x246ec8=_0x3c5620==='EUR'?startingBalances[_0x1c5ebb(0x191)]:startingBalances[_0x1c5ebb(0x1f4)];if(_0x31a101==='BTC'||_0x31a101===_0x1c5ebb(0x194))_0x5b1fd9=_0x3c5620===_0x1c5ebb(0x1b7)?_0x5b1fd9*_0x57c8fe[_0x1c5ebb(0x191)]:_0x5b1fd9*_0x57c8fe['usd'];else{if(_0x31a101===_0x1c5ebb(0x28f)||_0x31a101===_0x1c5ebb(0x190)||_0x31a101===_0x1c5ebb(0x1a6))_0x5b1fd9=_0x3c5620===_0x1c5ebb(0x1b7)?_0x5b1fd9*_0x57c8fe[_0x1c5ebb(0x191)]/_0x57c8fe[_0x1c5ebb(0x1f4)]:_0x5b1fd9;else _0x31a101===_0x1c5ebb(0x1b7)&&(_0x5b1fd9=_0x3c5620===_0x1c5ebb(0x1b7)?_0x5b1fd9:_0x5b1fd9*_0x57c8fe['usd']/_0x57c8fe['eur']);}_0x2af318=(_0x37c832-_0x5b1fd9)/_0x246ec8*0x64,_0x37c832=_0x37c832-_0x5b1fd9;}if(_0x2af318){if(_0x2af318<0x64)_0x2af318=_0x2af318[_0x1c5ebb(0x26b)](0x2);else{if(_0x2af318<0x3e8)_0x2af318=_0x2af318[_0x1c5ebb(0x26b)](0x1);else _0x2af318=_0x2af318['toFixed'](0x0);}}else _0x2af318=Number('0')[_0x1c5ebb(0x26b)](0x2);if(_0x37c832){if(Math[_0x1c5ebb(0x19b)](_0x37c832)<0.000001)_0x37c832=_0x37c832[_0x1c5ebb(0x26b)](0x2);else{if(Math[_0x1c5ebb(0x19b)](_0x37c832)<0.1)_0x37c832=_0x37c832['toFixed'](0x6);else{if(Math[_0x1c5ebb(0x19b)](_0x37c832)<0x1)_0x37c832=_0x37c832['toFixed'](0x5);else{if(Math[_0x1c5ebb(0x19b)](_0x37c832)<0xa)_0x37c832=_0x37c832[_0x1c5ebb(0x26b)](0x4);else{if(Math[_0x1c5ebb(0x19b)](_0x37c832)<0x64)_0x37c832=_0x37c832[_0x1c5ebb(0x26b)](0x3);else{if(Math[_0x1c5ebb(0x19b)](_0x37c832)<0x3e8)_0x37c832=_0x37c832[_0x1c5ebb(0x26b)](0x2);else _0x37c832=_0x37c832[_0x1c5ebb(0x26b)](0x2);}}}}}}else _0x37c832=Number('0')[_0x1c5ebb(0x26b)](0x2);}else _0x2af318=Number('0')['toFixed'](0x2);return{'value':_0x37c832,'change':_0x2af318,'leftTxt':_0x5d03b1,'rightTxt':_0x43a5d5};}async function getStartingBalances(_0x3cde87,_0x50f9f4=!![]){const _0x4d54c5=_0x3b6ecd;if(_0x3cde87[_0x4d54c5(0x171)]!==0x0){const [_0x32bc65,_0x5a40dd,_0x2da537]=getPerf(_0x3cde87[0x0],!![]);let _0x30f78b=[];config['portfolio'][_0x4d54c5(0x1af)](_0x225432=>{const _0x57ee80=_0x4d54c5;let _0x5b679d=0x0,_0x280d5d;config[_0x57ee80(0x259)][_0x57ee80(0x1af)](_0x32e82d=>{const _0xb37bf8=_0x57ee80;let _0x707fae=_0x32e82d[_0xb37bf8(0x15d)][_0xb37bf8(0x255)](_0x40cc8e=>_0x40cc8e[_0xb37bf8(0x150)]==_0x225432[_0xb37bf8(0x150)]);if(_0x707fae){_0x5b679d+=_0x707fae['number'];if(!_0x280d5d)_0x280d5d=_0x707fae['price'];}}),_0x30f78b[_0x57ee80(0x26c)]({'coin':_0x225432['coin'],'number':_0x5b679d,'initialprice':_0x280d5d});});const _0x31882f={'basecoin':_0x32bc65,'eur':_0x5a40dd,'usd':_0x2da537,'coins':_0x30f78b};if(_0x50f9f4)proxyEmit('starting-balances',_0x31882f);startingBalances=_0x31882f;}}function headlessMode(_0x34a801){const _0x442fd2=_0x3b6ecd;let _0x21a4af=_0x34a801[_0x442fd2(0x14c)],_0xf87e1=_0x34a801[_0x442fd2(0x17d)],_0x4e4abc=[];for(let _0x185c5f of _0x21a4af){if(_0x185c5f[_0x442fd2(0x150)]!=config[_0x442fd2(0x25a)]){if(_0x185c5f[_0x442fd2(0x203)]>=_0xf87e1/0x64){if(_0x185c5f['valid'])_0x4e4abc[_0x442fd2(0x26c)](_0x185c5f);}else{if(_0x185c5f[_0x442fd2(0x203)]<=-_0xf87e1/0x64){if(_0x185c5f[_0x442fd2(0x273)])_0x4e4abc[_0x442fd2(0x26c)](_0x185c5f);}}}}_0x4e4abc[_0x442fd2(0x171)]>0x0&&placeOrder(_0x4e4abc);}function notifyBalance(_0x46a235){const _0x1796da=_0x3b6ecd;let _0x1b247e=_0x46a235[_0x1796da(0x14c)],_0x3f7e95=_0x46a235[_0x1796da(0x17d)],_0x2f914c=[];for(let _0x39cf1e of _0x1b247e){if(_0x39cf1e[_0x1796da(0x150)]!=config[_0x1796da(0x25a)]){if(_0x39cf1e[_0x1796da(0x203)]>=_0x3f7e95/0x64){if(_0x39cf1e['valid'])_0x2f914c[_0x1796da(0x26c)](_0x39cf1e);}else{if(_0x39cf1e[_0x1796da(0x203)]<=-_0x3f7e95/0x64){if(_0x39cf1e[_0x1796da(0x273)])_0x2f914c[_0x1796da(0x26c)](_0x39cf1e);}}}}if(_0x2f914c[_0x1796da(0x171)]>0x0){let _0x5a8a5b=_0x2f914c['map'](_0x20ce35=>_0x20ce35[_0x1796da(0x150)]);_0x5a8a5b['sort']();let _0x3ba9f5=_0x5a8a5b['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x3ba9f5;}}function symbolToCoin(_0x28bca6){const _0x585c30=_0x3b6ecd;let _0xfa244e;if(_0x28bca6[_0x585c30(0x27d)]('/'+config['basecoin']))_0xfa244e=_0x28bca6[_0x585c30(0x1a7)]('/'+config[_0x585c30(0x25a)],'');if(_0x28bca6[_0x585c30(0x27d)](config[_0x585c30(0x25a)]+'/'))_0xfa244e=_0x28bca6[_0x585c30(0x1a7)](config[_0x585c30(0x25a)]+'/','');return _0xfa244e;}async function unlockOrders(){const _0x53b637=_0x3b6ecd;if(allOrdersPlaced&&lockOrders==ORDERS[_0x53b637(0x157)]){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x53b637(0x217)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x5b3b24=await getCoins();[currentCoins,currentCoinsAll]=_0x5b3b24,validateOrdersState=_0x53b637(0x181),persistOpenOrders([]),lockOrders=ORDERS[_0x53b637(0x22c)],logger[_0x53b637(0x242)](_0x53b637(0x178));}}async function validateOrders(_0x53b402){const _0x2f70e0=_0x3b6ecd;if(_0x53b402)validateOrdersState=_0x53b402;logger[_0x2f70e0(0x242)](_0x2f70e0(0x24e)+validateOrdersState+_0x2f70e0(0x18e)+(lockOrders==0x1?_0x2f70e0(0x195):lockOrders==0x2?_0x2f70e0(0x231):_0x2f70e0(0x1f0)));let _0x3b8d98=[],_0x341a6b=config[_0x2f70e0(0x268)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2f70e0(0x25c)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2f70e0(0x157)])return;logger[_0x2f70e0(0x242)](_0x2f70e0(0x247)+validateOrdersState),lastOrders[_0x2f70e0(0x1af)](_0x2f7074=>{const _0x1d2558=_0x2f70e0;let _0x37630b=![];_0x2f7074[_0x1d2558(0x161)]>0x0&&(_0x37630b=!![]),_0x3b8d98[_0x1d2558(0x26c)](_0x37630b),_0x37630b&&config['ordertype']!=_0x1d2558(0x1a5)&&logHistory(_0x1d2558(0x1e2),_0x1d2558(0x250)+_0x2f7074[_0x1d2558(0x275)]+'\x20'+_0x2f7074[_0x1d2558(0x1cb)]+'\x20#'+formatResult(_0x2f7074[_0x1d2558(0x161)],0x8)+'\x20@'+formatResult(_0x2f7074[_0x1d2558(0x1c7)],0x8));}),_0x3b8d98[_0x2f70e0(0x1af)]((_0x4ab27a,_0x476ea9)=>{const _0x206731=_0x2f70e0;if(_0x4ab27a)lastOrders[_0x206731(0x167)](_0x476ea9,0x1);}),persistOpenOrders(lastOrders);const _0x57a76b=coolingDown?_0x2f70e0(0x1e6):_0x2f70e0(0x281);if(validateOrdersState=='initial'){validateOrdersState=_0x2f70e0(0x15c);if(_0x3b8d98[_0x2f70e0(0x27d)](![])){if(config[_0x2f70e0(0x268)]==_0x2f70e0(0x1a5)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x2f70e0(0x15c)){if(_0x3b8d98[_0x2f70e0(0x27d)](![])){}else{if(allOrdersPlaced){if(config[_0x2f70e0(0x268)]==_0x2f70e0(0x1a5)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x2f70e0(0x1aa))_0x3b8d98[_0x2f70e0(0x27d)](![])&&(config[_0x2f70e0(0x268)]==_0x2f70e0(0x1a5)?logHistory(_0x2f70e0(0x1bc),_0x2f70e0(0x1fd)+Math[_0x2f70e0(0x23a)](_0x341a6b*validateOrderInterval/0xea60)+_0x2f70e0(0x1fe)+_0x57a76b):(await cancelOrders(),logHistory(_0x2f70e0(0x1bc),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x2f70e0(0x23a)](_0x341a6b*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x57a76b))),await unlockOrders();else{if(validateOrdersState==_0x2f70e0(0x277)){if(config['ordertype']!=_0x2f70e0(0x1a5))logHistory(_0x2f70e0(0x1bc),_0x2f70e0(0x285)+_0x57a76b);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x5dc5c2=>{const _0x9875fe=_0x377c;try{const _0x2f6b33=await exchange[_0x9875fe(0x1a1)](_0x5dc5c2[_0x9875fe(0x29e)],_0x5dc5c2[_0x9875fe(0x275)]);}catch(_0xfda16b){if(_0xfda16b[_0x9875fe(0x213)]()['includes'](_0x9875fe(0x155))){}else await handleError(_0xfda16b,'cancelOrders()');}});}async function initCoinResults(){const _0x5380ca=_0x3b6ecd;let _0x388b7f=[];config[_0x5380ca(0x14c)][_0x5380ca(0x1af)](_0xda3336=>{const _0x51d8a2=_0x5380ca;if(!_0xda3336[_0x51d8a2(0x237)]&&_0xda3336['coin']!=config['basecoin']){let _0x335736=dbCoinResults['get'](_0x51d8a2(0x2a4))[_0x51d8a2(0x255)]({'coin':_0xda3336[_0x51d8a2(0x150)]})[_0x51d8a2(0x19f)]();if(!_0x335736){const _0x30fb96=currentCoins[_0x51d8a2(0x255)](_0x2e784e=>_0x2e784e[_0x51d8a2(0x150)]==_0xda3336[_0x51d8a2(0x150)]),_0x529524=global[_0x51d8a2(0x1ad)][noslash(_0xda3336['symbol'])];let _0x1a9e77=_0x30fb96?_0x30fb96['number']:null,_0x243e6e=_0xda3336[_0x51d8a2(0x235)]?0x1/_0x529524:_0x529524,_0x46b0ca;config['liquidity'][_0x51d8a2(0x1af)](_0x269cec=>{const _0xba788c=_0x51d8a2;!_0x46b0ca&&(_0x46b0ca=_0x269cec['changes'][_0xba788c(0x255)](_0x889af8=>_0x889af8[_0xba788c(0x150)]==_0xda3336[_0xba788c(0x150)]),_0x46b0ca&&(_0x1a9e77=_0x46b0ca[_0xba788c(0x266)],_0x243e6e=_0x46b0ca['price']));}),_0x388b7f['push']({'coin':_0xda3336[_0x51d8a2(0x150)],'number':_0x1a9e77,'price':_0x243e6e});}}}),_0x388b7f[_0x5380ca(0x1af)](_0x515645=>{const _0x2cb05e=_0x5380ca,_0x2bc252={'coin':_0x515645[_0x2cb05e(0x150)],'number':_0x515645[_0x2cb05e(0x266)],'breakeven':_0x515645[_0x2cb05e(0x1c7)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2cb05e(0x292)](_0x2cb05e(0x2a4))[_0x2cb05e(0x26c)](_0x2bc252)[_0x2cb05e(0x1c9)]();});}async function updateCoinResults(_0xf0c842,_0x247395=![]){const _0x40a067=_0x3b6ecd;let _0x24322a,_0x171130,_0xb3f8e4,_0x1b3b2d,_0x1d7f46,_0x9f5f02,_0x48161d=dbCoinResults['get'](_0x40a067(0x2a4))[_0x40a067(0x255)]({'coin':_0xf0c842[_0x40a067(0x150)]})['value']();!_0x48161d&&await initCoinResults();_0xf0c842[_0x40a067(0x235)]&&(_0x9f5f02={'filled':_0xf0c842[_0x40a067(0x161)]*_0xf0c842['price'],'amount':_0xf0c842[_0x40a067(0x161)]*_0xf0c842[_0x40a067(0x1c7)],'side':_0xf0c842[_0x40a067(0x1cb)]==_0x40a067(0x16f)?_0x40a067(0x1f9):_0x40a067(0x16f),'price':0x1/_0xf0c842[_0x40a067(0x1c7)]},_0xf0c842={..._0xf0c842,..._0x9f5f02});_0x247395?_0x171130=_0xf0c842[_0x40a067(0x1cb)]==_0x40a067(0x1f9)?_0x48161d['number']+_0xf0c842[_0x40a067(0x161)]:_0x48161d['number']-_0xf0c842[_0x40a067(0x161)]:_0x171130=await getCoinNumber(_0xf0c842[_0x40a067(0x150)]);if(_0xf0c842[_0x40a067(0x28a)]&&_0xf0c842[_0x40a067(0x28a)][_0x40a067(0x1cd)]==config[_0x40a067(0x25a)])_0x24322a=_0xf0c842[_0x40a067(0x28a)][_0x40a067(0x212)];else{if(_0xf0c842[_0x40a067(0x28a)]&&_0xf0c842[_0x40a067(0x28a)][_0x40a067(0x1cd)]=='BNB'&&!_0x247395)_0x24322a=_0xf0c842[_0x40a067(0x28a)][_0x40a067(0x212)]*global[_0x40a067(0x1ad)][_0x40a067(0x1d3)+config[_0x40a067(0x25a)]];else _0x24322a=defaultFee*_0xf0c842[_0x40a067(0x161)]*_0xf0c842[_0x40a067(0x1c7)];}_0xf0c842[_0x40a067(0x1cb)]==_0x40a067(0x1f9)?(_0xb3f8e4=_0x171130!=0x0?(_0x48161d['breakeven']*_0x48161d['number']+_0xf0c842[_0x40a067(0x1c7)]*(_0x171130-_0x48161d[_0x40a067(0x266)])+_0x24322a)/_0x171130:0x0,_0x1b3b2d=_0x48161d['realized']):(_0xb3f8e4=_0x171130!=0x0?(_0x48161d[_0x40a067(0x211)]*_0x48161d[_0x40a067(0x266)]-_0xf0c842[_0x40a067(0x1c7)]*(_0x48161d[_0x40a067(0x266)]-_0x171130)+_0x24322a)/_0x171130:0x0,_0x1b3b2d=_0x48161d['realized']+(_0xf0c842[_0x40a067(0x1c7)]-_0x48161d[_0x40a067(0x211)])*_0xf0c842[_0x40a067(0x161)]);_0x1d7f46=(_0xf0c842[_0x40a067(0x1c7)]-_0xb3f8e4-_0x24322a/_0xf0c842[_0x40a067(0x161)])*_0x171130;let _0x114326={'coin':_0xf0c842['coin'],'number':_0x171130,'breakeven':formatResult(_0xb3f8e4,0x8),'realized':formatResult(_0x1b3b2d,0x8),'unrealized':formatResult(_0x1d7f46,0x8),'fees':formatResult(_0x48161d[_0x40a067(0x1d8)]+_0x24322a,0x8),'sells':_0xf0c842['side']==_0x40a067(0x16f)?_0x48161d[_0x40a067(0x270)]+0x1:_0x48161d['sells'],'buys':_0xf0c842[_0x40a067(0x1cb)]=='buy'?_0x48161d[_0x40a067(0x187)]+0x1:_0x48161d['buys']};dbCoinResults[_0x40a067(0x292)](_0x40a067(0x2a4))[_0x40a067(0x255)]({'coin':_0xf0c842[_0x40a067(0x150)]})[_0x40a067(0x274)](_0x114326)[_0x40a067(0x1c9)]();if(!_0x247395){if(_0xf0c842['fee']&&_0xf0c842[_0x40a067(0x28a)]['currency']==_0x40a067(0x1d3)){const _0x2d557c=currentCoins[_0x40a067(0x255)](_0x5e1941=>_0x5e1941[_0x40a067(0x150)]==_0x40a067(0x1d3));if(_0x2d557c){let _0x26ad1c=dbCoinResults[_0x40a067(0x292)](_0x40a067(0x2a4))[_0x40a067(0x255)]({'coin':_0x40a067(0x1d3)})[_0x40a067(0x19f)]();_0x114326={..._0x26ad1c,'number':_0x2d557c[_0x40a067(0x266)]},dbCoinResults[_0x40a067(0x292)](_0x40a067(0x2a4))[_0x40a067(0x255)]({'coin':_0x40a067(0x1d3)})['assign'](_0x114326)[_0x40a067(0x1c9)]();}}}}async function placeOrder(_0x22fcd2){const _0x2dc8fd=_0x3b6ecd,_0x5b5e6b=config[_0x2dc8fd(0x268)]=='market'?_0x2dc8fd(0x1a5):_0x2dc8fd(0x18b);if(lockOrders==ORDERS[_0x2dc8fd(0x22c)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x2dc8fd(0x157)],allOrdersPlaced=![],validateOrdersState=_0x2dc8fd(0x181);let _0x5caa63=![];lastOrders=[];for(const _0x1ec3c8 of _0x22fcd2){let _0x1b41bf,_0x455f08,_0x49079f,_0x33002b,_0x311947,_0x151f04=_0x1ec3c8[_0x2dc8fd(0x275)];try{const _0x239591=await exchange[_0x2dc8fd(0x296)](_0x151f04);_0x1b41bf=_0x1ec3c8[_0x2dc8fd(0x235)]?0x1/_0x1ec3c8['last']:_0x1ec3c8[_0x2dc8fd(0x1f7)],_0x455f08=_0x239591[_0x2dc8fd(0x160)],_0x49079f=_0x239591[_0x2dc8fd(0x1bf)];_0x1ec3c8[_0x2dc8fd(0x235)]?(_0x33002b=_0x1ec3c8[_0x2dc8fd(0x1cb)]=='buy'?_0x2dc8fd(0x16f):_0x2dc8fd(0x1f9),_0x311947=Math['abs'](_0x1ec3c8[_0x2dc8fd(0x269)])/_0x1b41bf):(_0x33002b=_0x1ec3c8[_0x2dc8fd(0x1cb)],_0x311947=Math[_0x2dc8fd(0x19b)](_0x1ec3c8[_0x2dc8fd(0x269)]));_0x5b5e6b==_0x2dc8fd(0x18b)&&(config[_0x2dc8fd(0x268)]==_0x2dc8fd(0x289)&&(_0x1b41bf=_0x33002b==_0x2dc8fd(0x1f9)?_0x455f08:_0x49079f),config[_0x2dc8fd(0x268)]=='limit-low'&&(_0x1b41bf=_0x33002b==_0x2dc8fd(0x1f9)?_0x49079f:_0x455f08));_0x311947=formatResult(_0x311947,0x8),_0x1b41bf=formatResult(_0x1b41bf,0x8);const _0x488f22=_0x33002b==_0x2dc8fd(0x16f)?config[_0x2dc8fd(0x141)]?String[_0x2dc8fd(0x29c)]('0x'+config['emojisell'])+'\x20':'':config[_0x2dc8fd(0x22e)]?String[_0x2dc8fd(0x29c)]('0x'+config['emojibuy'])+'\x20':'',_0x386572=_0x5b5e6b==_0x2dc8fd(0x1a5)?_0x2dc8fd(0x251):config[_0x2dc8fd(0x268)]==_0x2dc8fd(0x289)?_0x2dc8fd(0x216):_0x2dc8fd(0x1ba),_0x3e4c22=new Date()['getTime']()[_0x2dc8fd(0x213)]()[_0x2dc8fd(0x1ce)](-0x6)+'-'+Math['random']()[_0x2dc8fd(0x213)]()['slice'](-0x6);lastOrders[_0x2dc8fd(0x26c)]({'customId':_0x3e4c22,'symbol':_0x151f04,'coin':_0x1ec3c8[_0x2dc8fd(0x150)],'side':_0x33002b,'reverse':_0x1ec3c8[_0x2dc8fd(0x235)],'filled':0x0});if(_0x5b5e6b==_0x2dc8fd(0x1a5))logHistory('order',''+_0x488f22+_0x386572+_0x2dc8fd(0x1e3)+_0x151f04+'\x20'+_0x33002b+'\x20#'+formatResult(_0x311947,0x8)+'\x20@'+formatResult(_0x1b41bf,0x8));else logHistory(_0x2dc8fd(0x1e2),''+_0x488f22+_0x386572+'\x20order:\x20'+_0x151f04+'\x20'+_0x33002b+'\x20#'+formatResult(_0x311947,0x8)+'\x20@'+formatResult(_0x1b41bf,0x8));const _0x37cc84=await exchange[_0x2dc8fd(0x2aa)](_0x151f04,_0x5b5e6b,_0x33002b,_0x311947,_0x1b41bf,{'clientOrderId':_0x3e4c22}),_0x1b9e15=lastOrders[_0x2dc8fd(0x171)]-0x1;_0x1b9e15>=0x0&&lastOrders[_0x1b9e15]['customId']==_0x3e4c22&&(lastOrders[_0x1b9e15]={...lastOrders[_0x1b9e15],'orderId':_0x37cc84['id'],'amount':_0x37cc84['amount'],'price':_0x37cc84[_0x2dc8fd(0x1c7)],'fee':_0x37cc84[_0x2dc8fd(0x28a)]});if(config[_0x2dc8fd(0x14b)]!=0x0){let _0x26fce7=null;if(cooldownTracker[_0x2dc8fd(0x171)]==config[_0x2dc8fd(0x14b)]-0x1)_0x26fce7=cooldownTracker['shift']();const _0x1eb9fe=getTimeStamp();cooldownTracker[_0x2dc8fd(0x26c)](_0x1eb9fe);if(_0x26fce7){const _0x6822db=fns[_0x2dc8fd(0x248)](new Date(_0x1eb9fe),new Date(_0x26fce7));if(_0x6822db<cooldownInterval){logHistory('error',_0x2dc8fd(0x261)+config[_0x2dc8fd(0x14b)]+_0x2dc8fd(0x1b3)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x2dc8fd(0x299)),coolingDown=!![];break;}}}}catch(_0x45bdad){if(_0x45bdad[_0x2dc8fd(0x213)]()[_0x2dc8fd(0x27d)](_0x2dc8fd(0x2b1)))lastOrders=lastOrders[_0x2dc8fd(0x240)](_0x321825=>_0x321825['symbol']!=_0x151f04),logHistory(_0x2dc8fd(0x21a),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x151f04),_0x5caa63=!![];else _0x45bdad['toString']()[_0x2dc8fd(0x27d)](_0x2dc8fd(0x145))?(lastOrders=lastOrders[_0x2dc8fd(0x240)](_0x5691ac=>_0x5691ac[_0x2dc8fd(0x275)]!=_0x151f04),logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x151f04),_0x5caa63=!![]):(lastOrders=lastOrders[_0x2dc8fd(0x240)](_0x1ce0fb=>_0x1ce0fb['symbol']!=_0x151f04),await handleError(_0x45bdad,'placeOrder()',_0x151f04));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x2dc8fd(0x171)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x115738=config['ordertype']==_0x2dc8fd(0x1a5)?validateOrderTimeout*0x3c*0x3e8:config[_0x2dc8fd(0x25c)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x115738);}else unlockOrders();_0x5caa63&&config[_0x2dc8fd(0x276)]&&await pauseBot(_0x2dc8fd(0x1a8)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x2dc8fd(0x1bc),_0x2dc8fd(0x1dc)));}else{if(coolingDown)!config[_0x2dc8fd(0x276)]&&logHistory(_0x2dc8fd(0x21a),_0x2dc8fd(0x272));else lockOrders!=ORDERS[_0x2dc8fd(0x22c)]&&(!config[_0x2dc8fd(0x276)]&&(config[_0x2dc8fd(0x268)]==_0x2dc8fd(0x1a5)?logHistory(_0x2dc8fd(0x21a),_0x2dc8fd(0x1b8)):logHistory(_0x2dc8fd(0x21a),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x5a92d0){const _0x5893e8=_0x3b6ecd,_0x1606b9={...config,'openOrders':_0x5a92d0};let _0x339054=dbConfig[_0x5893e8(0x292)](_0x5893e8(0x264))[_0x5893e8(0x255)]({'botID':botID})[_0x5893e8(0x19f)]();_0x339054&&dbConfig[_0x5893e8(0x292)](_0x5893e8(0x264))[_0x5893e8(0x255)]({'botID':botID})[_0x5893e8(0x274)](_0x1606b9)[_0x5893e8(0x1c9)]();}function restoreOrders(){const _0x433beb=_0x3b6ecd;let _0x416a6a;config[_0x433beb(0x2ad)]&&allOpenOrders[_0x433beb(0x1af)](_0xa8aebf=>{const _0x3b09e8=_0x433beb,_0x2cb7f9=config[_0x3b09e8(0x2ad)]['find'](_0x49ac2b=>_0x49ac2b[_0x3b09e8(0x29e)]==_0xa8aebf['id']);_0x2cb7f9&&(lastOrders[_0x3b09e8(0x26c)](_0x2cb7f9),_0x416a6a=_0xa8aebf['timestamp']);});if(lastOrders[_0x433beb(0x171)]>0x0){lockOrders=ORDERS[_0x433beb(0x157)],validateOrdersState=_0x433beb(0x15c),allOrdersPlaced=!![];const _0x40f319=new Date()[_0x433beb(0x17f)](),_0x57d2ef=config['ordertype']==_0x433beb(0x1a5)?validateOrderTimeout*0x3c*0x3e8:config[_0x433beb(0x25c)]*0x3c*0x3e8;if(_0x416a6a+_0x57d2ef>_0x40f319){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1314ea=_0x433beb;validateOrders(_0x1314ea(0x1aa));},_0x416a6a+_0x57d2ef-_0x40f319);}else validateOrders(_0x433beb(0x1aa));}}async function sendMetricsTelegram(){const _0x4fdb27=_0x3b6ecd;if(!coinsLoaded){process[_0x4fdb27(0x1bb)]({'telegrammsg':_0x4fdb27(0x15a)},_0x974198=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x4b6324='';if(config[_0x4fdb27(0x17b)])_0x4b6324=_0x4fdb27(0x177)+config['botname']+_0x4fdb27(0x280);else _0x4b6324=_0x4fdb27(0x26f)+botID+_0x4fdb27(0x280);const _0x1a739c=getKPIs(_0x4fdb27(0x25a)),_0x599e36=getKPIs(_0x4fdb27(0x258),config[_0x4fdb27(0x258)]),_0x240537=getKPIs(_0x4fdb27(0x1e4)),_0x133a67=getKPIs('net-fiat',config[_0x4fdb27(0x258)]);_0x4b6324+=_0x4fdb27(0x26a),_0x4b6324+=_0x1a739c[_0x4fdb27(0x20d)]+_0x4fdb27(0x1d4)+_0x1a739c[_0x4fdb27(0x19f)]+'\x0a',_0x4b6324+=_0x1a739c['rightTxt']+':\x20'+_0x1a739c[_0x4fdb27(0x1d7)]+'%\x0a',_0x4b6324+=_0x599e36[_0x4fdb27(0x20d)]+_0x4fdb27(0x1d4)+_0x599e36[_0x4fdb27(0x19f)]+'\x0a',_0x4b6324+=_0x599e36[_0x4fdb27(0x21e)]+':\x20'+_0x599e36[_0x4fdb27(0x1d7)]+'%\x0a',_0x4b6324+=_0x240537['leftTxt']+':\x20'+_0x240537[_0x4fdb27(0x19f)]+'\x20('+config['basecoin']+')\x0a',_0x4b6324+=_0x240537[_0x4fdb27(0x21e)]+':\x20'+_0x240537[_0x4fdb27(0x1d7)]+_0x4fdb27(0x218)+config[_0x4fdb27(0x25a)]+')\x0a',_0x4b6324+=_0x133a67[_0x4fdb27(0x20d)]+':\x20'+_0x133a67[_0x4fdb27(0x19f)]+'\x20('+config[_0x4fdb27(0x258)]+')\x0a',_0x4b6324+=_0x133a67[_0x4fdb27(0x21e)]+':\x20'+_0x133a67[_0x4fdb27(0x1d7)]+_0x4fdb27(0x218)+config[_0x4fdb27(0x258)]+')\x0a',_0x4b6324+=_0x4fdb27(0x1f2),process[_0x4fdb27(0x1bb)]({'telegrammsg':_0x4b6324},_0x17816c=>{});}async function sendPortfolioTelegram(){const _0x2d3752=_0x3b6ecd;if(!coinsLoaded){process[_0x2d3752(0x1bb)]({'telegrammsg':_0x2d3752(0x15a)},_0x279e70=>{});return;}let _0x162115='';if(config['showname'])_0x162115=_0x2d3752(0x177)+config[_0x2d3752(0x22d)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x162115=_0x2d3752(0x26f)+botID+_0x2d3752(0x1d0);_0x162115+=_0x2d3752(0x26a),_0x162115+=_0x2d3752(0x28b),_0x162115+=_0x2d3752(0x25e),_0x162115+=_0x2d3752(0x28b),currentCoins[_0x2d3752(0x1af)](_0x43ed66=>{const _0x2d684c=_0x2d3752;_0x162115+=_0x43ed66[_0x2d684c(0x150)][_0x2d684c(0x162)](0x7)+'|\x20'+formatPad(_0x43ed66[_0x2d684c(0x2a1)],0x2,0x6)+'|\x20'+formatPad(_0x43ed66[_0x2d684c(0x192)],0x2,0x6)+'|\x20'+formatPad(_0x43ed66['delta']*0x64,0x2,0x6)+'\x0a';}),_0x162115+='</pre>',process[_0x2d3752(0x1bb)]({'telegrammsg':_0x162115},_0x519c52=>{});}function formatPad(_0xf514d9,_0x5eb15f,_0x4ab760){const _0x1c40b5=formatResultString(_0xf514d9,_0x5eb15f);return _0x1c40b5?_0x1c40b5['padStart'](_0x4ab760):''['padStart'](_0x4ab760);}function logHistory(_0x27b2f5,_0x2f0244,_0x569c1a=''){const _0x32584b=_0x3b6ecd;let _0x2a4bce={'time':getTimeStamp(),'type':_0x27b2f5,'event':_0x2f0244};dbLogs['get']('logs')[_0x32584b(0x26c)](_0x2a4bce)[_0x32584b(0x1c9)]();if(_0x569c1a=='')_0x569c1a=_0x2f0244;proxyEmit('event',{'log':_0x2a4bce,'summary':_0x569c1a}),process[_0x32584b(0x1bb)]({'telegram':{..._0x2a4bce,'botname':config[_0x32584b(0x22d)],'showname':config[_0x32584b(0x17b)]}},_0x4da34c=>{}),logger[_0x32584b(0x23f)](''+_0x2a4bce[_0x32584b(0x225)]);}function emitHistory(_0x2540e7={}){const _0x24156f=_0x3b6ecd;Object[_0x24156f(0x1ca)](_0x2540e7)[_0x24156f(0x171)]==0x0&&(_0x2540e7={'type':[_0x24156f(0x1e2),_0x24156f(0x225)],'event':'','page':0x1});if(_0x2540e7['type'][_0x24156f(0x27d)](_0x24156f(0x225)))_0x2540e7[_0x24156f(0x207)]['splice'](_0x2540e7[_0x24156f(0x207)]['indexOf'](_0x24156f(0x225)),0x1,_0x24156f(0x21a),'warning','success');if(dbLogs[_0x24156f(0x2a7)]('logs')[_0x24156f(0x19f)]()){let _0x16b9aa=dbLogs[_0x24156f(0x292)]('logs')[_0x24156f(0x240)](_0x2e426b=>{const _0x3f2000=_0x24156f;if(_0x2540e7['type'][_0x3f2000(0x171)]==0x0)return![];else return _0x2540e7[_0x3f2000(0x207)][_0x3f2000(0x27d)](_0x2e426b[_0x3f2000(0x207)]);})['filter'](_0x556951=>{const _0x19686a=_0x24156f;if(_0x2540e7['event']=='')return!![];else return _0x556951['event'][_0x19686a(0x14d)]()[_0x19686a(0x27d)](_0x2540e7[_0x19686a(0x225)][_0x19686a(0x14d)]());})[_0x24156f(0x278)](_0x24156f(0x180)),_0x11608e=_0x16b9aa['value']()[_0x24156f(0x171)];_0x16b9aa=_0x16b9aa[_0x24156f(0x235)]()[_0x24156f(0x1ce)]((_0x2540e7['page']-0x1)*logPageSize,_0x2540e7[_0x24156f(0x21b)]*logPageSize-0x1)[_0x24156f(0x235)]()[_0x24156f(0x19f)](),proxyEmit('event-history',{'logs':_0x16b9aa,'total':_0x11608e});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x34343a){const _0x5211e4=_0x3b6ecd;if(dbLogs[_0x5211e4(0x2a7)](_0x5211e4(0x295))[_0x5211e4(0x19f)]()){const _0x469b59=dbLogs[_0x5211e4(0x292)](_0x5211e4(0x295))[_0x5211e4(0x278)](_0x5211e4(0x180))[_0x5211e4(0x240)](_0x2faf2e=>{const _0x948de0=_0x5211e4;return _0x2faf2e['type']==_0x948de0(0x1e2);})[_0x5211e4(0x19f)]();dbLogs[_0x5211e4(0x292)](_0x5211e4(0x295))[_0x5211e4(0x17a)]()[_0x5211e4(0x1c9)](),dbLogs[_0x5211e4(0x292)](_0x5211e4(0x295))[_0x5211e4(0x274)](_0x469b59)[_0x5211e4(0x1c9)](),emitHistory(_0x34343a);}}async function pauseBot(_0x43dd20=''){const _0xb162df=_0x3b6ecd,_0x2b7dcc=new Date()[_0xb162df(0x17f)]();if(!lastErrorShown||_0x2b7dcc-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x2b7dcc;!lastBotPause?(lastBotPause=_0x2b7dcc,consecutivePauses=0x1):(_0x2b7dcc-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0xb162df(0x1bb)]({'stop':_0xb162df(0x282)},_0x4f9b6b=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x43dd20)_0x43dd20+='\x20|\x20';logHistory('error',_0x43dd20+_0xb162df(0x21d)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x2f974c=_0x3b6ecd;process[_0x2f974c(0x1bb)]({'stop':_0x2f974c(0x252)},_0x39af1a=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xc92ee2,_0xcd4394){const _0x5c678c=_0x3b6ecd;if(_0xc92ee2['toString']()['includes'](_0x5c678c(0x149)))return logHistory(_0x5c678c(0x21a),config[_0x5c678c(0x15e)]+_0x5c678c(0x1e8)),![];else{if(_0xc92ee2['toString']()[_0x5c678c(0x27d)](_0x5c678c(0x222)))return logHistory(_0x5c678c(0x21a),config['exchange']+_0x5c678c(0x254)),![];else{if(_0xc92ee2[_0x5c678c(0x213)]()[_0x5c678c(0x27d)](_0x5c678c(0x14e)))return logHistory(_0x5c678c(0x21a),config['exchange']+_0x5c678c(0x1ee)),logHistory('error',_0x5c678c(0x228)),![];else await handleError(_0xc92ee2,_0xcd4394);}}}async function handleError(_0x3b4e03,_0x465b1b,_0x51a606=''){const _0x5c819d=_0x3b6ecd,_0x4ab60e=config['exchange']||_0x5c819d(0x179);if(_0x3b4e03[_0x5c819d(0x213)]()[_0x5c819d(0x27d)](_0x5c819d(0x29f)))await pauseBot(config[_0x5c819d(0x15e)]+_0x5c819d(0x246));else{if(_0x3b4e03['toString']()[_0x5c819d(0x27d)](_0x5c819d(0x20a)))await pauseBot(config[_0x5c819d(0x15e)]+'\x20not\x20available');else{if(_0x3b4e03[_0x5c819d(0x213)]()['includes'](_0x5c819d(0x1d1)))await pauseBot(config[_0x5c819d(0x15e)]+_0x5c819d(0x183));else{if(_0x3b4e03['toString']()[_0x5c819d(0x27d)](_0x5c819d(0x2a0)))await pauseBot(config[_0x5c819d(0x15e)]+_0x5c819d(0x1ed));else{if(_0x3b4e03['toString']()['includes'](_0x5c819d(0x260)))logHistory(_0x5c819d(0x21a),_0x465b1b+_0x5c819d(0x204)),logHistory(_0x5c819d(0x21a),_0x5c819d(0x241)),await killBot();else{if(_0x3b4e03['toString']()[_0x5c819d(0x27d)](_0x5c819d(0x166)))logHistory(_0x5c819d(0x21a),_0x465b1b+_0x5c819d(0x283)),logHistory(_0x5c819d(0x21a),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3b4e03['toString']()[_0x5c819d(0x27d)](_0x5c819d(0x149)))logHistory(_0x5c819d(0x21a),_0x465b1b+_0x5c819d(0x221)+config[_0x5c819d(0x15e)]+'\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x5c819d(0x241)),await killBot();else{if(_0x3b4e03[_0x5c819d(0x213)]()[_0x5c819d(0x27d)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5c819d(0x21a),_0x465b1b+'\x20|\x20'+config[_0x5c819d(0x15e)]+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x5c819d(0x21a),_0x5c819d(0x241)),await killBot();else{if(_0x3b4e03[_0x5c819d(0x213)]()['includes'](_0x5c819d(0x14e)))logHistory(_0x5c819d(0x21a),_0x465b1b+_0x5c819d(0x221)+config[_0x5c819d(0x15e)]+_0x5c819d(0x227)),logHistory(_0x5c819d(0x21a),_0x5c819d(0x241)),await killBot();else _0x3b4e03['toString']()[_0x5c819d(0x27d)](_0x5c819d(0x199))?logHistory(_0x5c819d(0x21a),_0x465b1b+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x51a606):(logger[_0x5c819d(0x23f)](_0x465b1b+'\x20|\x20Error\x20details:\x20',_0x3b4e03),await pauseBot(_0x5c819d(0x28c)));}}}}}}}}}function formatResult(_0x356fb5,_0x5326a3){const _0x473c4b=_0x3b6ecd;return parseFloat(_0x356fb5[_0x473c4b(0x26b)](_0x5326a3));}function formatResultTruncate(_0x17ec4a,_0x38aade){const _0x418629=_0x3b6ecd;let _0x4ffb50=formatResultString(_0x17ec4a,0xa),_0x2e2250=_0x4ffb50[_0x418629(0x24d)]('.');return _0x2e2250!=-0x1&&(_0x4ffb50=_0x4ffb50[_0x418629(0x1ce)](0x0,_0x2e2250+_0x38aade+0x1)),Number(_0x4ffb50);}function formatResultString(_0x59f0d6,_0x2f07d5){const _0x14fd6e=_0x3b6ecd;let _0x3de1e9;if(!(''+_0x59f0d6)[_0x14fd6e(0x27d)]('e'))_0x3de1e9=+(Math[_0x14fd6e(0x23a)](_0x59f0d6+'e+'+_0x2f07d5)+'e-'+_0x2f07d5);else{let _0x33e4c6=(''+_0x59f0d6)[_0x14fd6e(0x1e9)]('e'),_0x297cb9='';+_0x33e4c6[0x1]+_0x2f07d5>0x0&&(_0x297cb9='+'),_0x3de1e9=+(Math[_0x14fd6e(0x23a)](+_0x33e4c6[0x0]+'e'+_0x297cb9+(+_0x33e4c6[0x1]+_0x2f07d5))+'e-'+_0x2f07d5);}return Number(_0x3de1e9)['toFixed'](_0x2f07d5);}function getServerTime(){const _0x67a07b=_0x3b6ecd,_0x1f5a18=new Date();return _0x1f5a18[_0x67a07b(0x24b)]()+'/'+(_0x1f5a18['getMonth']()+0x1)[_0x67a07b(0x213)]()[_0x67a07b(0x253)](0x2,'0')+'/'+_0x1f5a18[_0x67a07b(0x26e)]()[_0x67a07b(0x213)]()[_0x67a07b(0x253)](0x2,'0')+'\x20'+_0x1f5a18[_0x67a07b(0x230)]()[_0x67a07b(0x213)]()[_0x67a07b(0x253)](0x2,'0')+':'+_0x1f5a18[_0x67a07b(0x144)]()['toString']()[_0x67a07b(0x253)](0x2,'0')+':'+_0x1f5a18[_0x67a07b(0x257)]()[_0x67a07b(0x213)]()[_0x67a07b(0x253)](0x2,'0');}function getTimeStamp(){const _0x25e490=_0x3b6ecd,_0x3a8a41=shiftedTime();return _0x3a8a41[_0x25e490(0x24b)]()+'/'+(_0x3a8a41['getMonth']()+0x1)[_0x25e490(0x213)]()[_0x25e490(0x253)](0x2,'0')+'/'+_0x3a8a41['getDate']()['toString']()[_0x25e490(0x253)](0x2,'0')+'\x20'+_0x3a8a41[_0x25e490(0x230)]()[_0x25e490(0x213)]()['padStart'](0x2,'0')+':'+_0x3a8a41[_0x25e490(0x144)]()[_0x25e490(0x213)]()[_0x25e490(0x253)](0x2,'0')+':'+_0x3a8a41[_0x25e490(0x257)]()[_0x25e490(0x213)]()[_0x25e490(0x253)](0x2,'0');}function getDate(){const _0x21604c=_0x3b6ecd,_0x49d6cf=shiftedTime();return _0x49d6cf['getFullYear']()+'/'+(_0x49d6cf[_0x21604c(0x200)]()+0x1)[_0x21604c(0x213)]()[_0x21604c(0x253)](0x2,'0')+'/'+_0x49d6cf[_0x21604c(0x26e)]()[_0x21604c(0x213)]()[_0x21604c(0x253)](0x2,'0');}function getHour(){const _0x189936=_0x3b6ecd,_0x52ec99=shiftedTime();return _0x52ec99[_0x189936(0x230)]()[_0x189936(0x213)]()[_0x189936(0x253)](0x2,'0');}function sleep(_0x48b50f){return new Promise(_0x34938e=>setTimeout(_0x34938e,_0x48b50f));}function shiftedTime(){const _0x538af9=_0x3b6ecd,_0x3bfdc3=new Date();let _0x446e0c=_0x3bfdc3;if(config&&config[_0x538af9(0x14f)]!==0x0)_0x446e0c=fns['add'](_0x3bfdc3,{'hours':config['timeshift']});return _0x446e0c;}function timer(_0x131d8c){const _0x3a6b2a=_0x3b6ecd,_0x18c6ef=new Date();!lasttime?console[_0x3a6b2a(0x14a)](_0x3a6b2a(0x1b2),_0x131d8c,_0x18c6ef):console['log'](_0x3a6b2a(0x1b2),_0x131d8c,(_0x18c6ef-lasttime)/0x3e8),lasttime=_0x18c6ef;}