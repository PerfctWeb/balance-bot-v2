const _0x1485ec=_0x28d8;(function(_0x5686c8,_0x1c061d){const _0xd73e9a=_0x28d8,_0x8ca8c1=_0x5686c8();while(!![]){try{const _0x306c80=parseInt(_0xd73e9a(0x281))/0x1+parseInt(_0xd73e9a(0x2d2))/0x2+parseInt(_0xd73e9a(0x1d7))/0x3+parseInt(_0xd73e9a(0x21b))/0x4+parseInt(_0xd73e9a(0x1c7))/0x5+-parseInt(_0xd73e9a(0x2ee))/0x6*(parseInt(_0xd73e9a(0x194))/0x7)+-parseInt(_0xd73e9a(0x1ac))/0x8*(parseInt(_0xd73e9a(0x29b))/0x9);if(_0x306c80===_0x1c061d)break;else _0x8ca8c1['push'](_0x8ca8c1['shift']());}catch(_0x501c75){_0x8ca8c1['push'](_0x8ca8c1['shift']());}}}(_0xd709,0x26194));const _0x41e803=function(){let _0x53399d=!![];return function(_0x445082,_0x47ba65){const _0x4cf58d=_0x53399d?function(){const _0x3d09d0=_0x28d8;if(_0x47ba65){const _0x2b5b4d=_0x47ba65[_0x3d09d0(0x1a8)](_0x445082,arguments);return _0x47ba65=null,_0x2b5b4d;}}:function(){};return _0x53399d=![],_0x4cf58d;};}(),_0x1774a2=_0x41e803(this,function(){const _0x152804=_0x28d8;return _0x1774a2[_0x152804(0x246)]()['search']('(((.+)+)+)+$')[_0x152804(0x246)]()[_0x152804(0x19f)](_0x1774a2)[_0x152804(0x304)](_0x152804(0x30b));});_0x1774a2();'use strict';const ccxt=require('ccxt'),low=require(_0x1485ec(0x2bf)),FileSync=require(_0x1485ec(0x18e)),fs=require('fs'),fns=require(_0x1485ec(0x2ca)),Crypt=require(_0x1485ec(0x1e7))[_0x1485ec(0x241)],util=require(_0x1485ec(0x250)),argv=require(_0x1485ec(0x1ce))(process[_0x1485ec(0x24d)][_0x1485ec(0x1d1)](0x2))['argv'],path=require(_0x1485ec(0x25c));let exchange;global[_0x1485ec(0x28e)]={},global['change']={};const usdBasecoins=[_0x1485ec(0x2c3),'BUSD','TUSD','USDT',_0x1485ec(0x1c1),_0x1485ec(0x309)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x1485ec(0x221)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x1485ec(0x1b4)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x1485ec(0x205))['version'],botID=process['argv'][0x2]||_0x1485ec(0x2a7),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x1485ec(0x1bc)](_0x1485ec(0x288)+botID+_0x1485ec(0x1e1)),killBot());const userID=process[_0x1485ec(0x24d)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x1485ec(0x204),logspath=userID?_0x1485ec(0x1d6)+userID+'/':_0x1485ec(0x1d6),loggerfile=fs[_0x1485ec(0x1ea)](logspath+_0x1485ec(0x1a1),{'flags':'a'});!fs[_0x1485ec(0x212)](configpath)&&fs[_0x1485ec(0x310)](configpath);!fs['existsSync'](logspath)&&fs[_0x1485ec(0x310)](logspath);const configfile=configpath+_0x1485ec(0x2ff)+botID+_0x1485ec(0x21e),logfile=configpath+'bot-'+botID+_0x1485ec(0x258),performancefile=configpath+'bot-'+botID+_0x1485ec(0x264),coinresultsfile=configpath+_0x1485ec(0x2ff)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x1485ec(0x208),configbackuppath=configpath+_0x1485ec(0x25a),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x1485ec(0x18d)]({'logs':[],'version':serverversion})[_0x1485ec(0x196)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1485ec(0x18d)]({'data':[],'version':serverversion})[_0x1485ec(0x196)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x1485ec(0x18d)]({'bot':[],'version':serverversion})[_0x1485ec(0x196)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x1485ec(0x251),'rsaStandard':_0x1485ec(0x215)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x479bdf=>{const _0x3f1bba=_0x1485ec;console[_0x3f1bba(0x1bc)](_0x479bdf);},'simple':_0x1410b7=>{const _0x3cdab2=_0x1485ec;console[_0x3cdab2(0x1bc)](_0x1410b7),loggerfile[_0x3cdab2(0x196)](util[_0x3cdab2(0x2f3)](_0x1410b7)+'\x0a');},'full':async(_0x5534a1,_0x2af2d0='')=>{const _0x68a3ec=_0x1485ec;let _0x3282c3;if(config[_0x68a3ec(0x195)])_0x3282c3=getTimeStamp()+':\x20'+config['botname']+_0x68a3ec(0x2aa)+_0x5534a1;else _0x3282c3=getTimeStamp()+_0x68a3ec(0x2ae)+botID+_0x68a3ec(0x2aa)+_0x5534a1;console[_0x68a3ec(0x1bc)](_0x3282c3),loggerfile[_0x68a3ec(0x196)](util[_0x68a3ec(0x2f3)](_0x3282c3)+'\x0a'),_0x2af2d0&&(console[_0x68a3ec(0x1bc)](_0x2af2d0),loggerfile['write'](util[_0x68a3ec(0x2f3)](_0x2af2d0)+'\x0a'));},'debug':async(_0x152ebb,_0x223056='')=>{const _0x1e31d5=_0x1485ec;let _0x4695bb;if(config[_0x1e31d5(0x195)])_0x4695bb=getTimeStamp()+':\x20'+config[_0x1e31d5(0x192)]+'\x20>\x20[DEBUG]\x20'+_0x152ebb;else _0x4695bb=getTimeStamp()+_0x1e31d5(0x2ae)+botID+_0x1e31d5(0x255)+_0x152ebb;if(debugging)console[_0x1e31d5(0x1bc)](_0x4695bb);loggerfile[_0x1e31d5(0x196)](util[_0x1e31d5(0x2f3)](_0x4695bb)+'\x0a');if(_0x223056){if(debugging)console[_0x1e31d5(0x1bc)](_0x223056);loggerfile[_0x1e31d5(0x196)](util[_0x1e31d5(0x2f3)](_0x223056)+'\x0a');}}};process['on'](_0x1485ec(0x2d7),function(_0x5a3ea2){const _0x2966d1=_0x1485ec;logHistory('error','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details'),logger[_0x2966d1(0x1ed)](_0x2966d1(0x240),_0x5a3ea2);});settings[_0x1485ec(0x2dc)]!=config[_0x1485ec(0x2dc)]&&updateTimeshift(settings[_0x1485ec(0x2dc)]);settings[_0x1485ec(0x2d5)]!=config[_0x1485ec(0x2d5)]&&updateOnepagemode(settings[_0x1485ec(0x2d5)]);process['send']({'started':_0x1485ec(0x1e6)},_0x4348f3=>{}),initializeProcessListeners();function proxyEmit(_0x5e72c1,_0x41f22b=null){const _0x4af45a=_0x1485ec;process[_0x4af45a(0x2eb)]({'function':_0x5e72c1,'args':_0x41f22b},_0x5d23a0=>{});}function initializeProcessListeners(){process['on']('message',_0x359f33=>{const _0x3749f0=_0x28d8;switch(Object[_0x3749f0(0x2d3)](_0x359f33)[0x0]){case'timeshift':_0x359f33['timeshift']!=undefined&&(settings['timeshift']=_0x359f33[_0x3749f0(0x2dc)],updateTimeshift(settings[_0x3749f0(0x2dc)]));break;case _0x3749f0(0x2d5):_0x359f33['onepagemode']!=undefined&&(settings[_0x3749f0(0x2d5)]=_0x359f33[_0x3749f0(0x2d5)],updateOnepagemode(settings[_0x3749f0(0x2d5)]));break;case _0x3749f0(0x287):_0x359f33[_0x3749f0(0x287)]!=undefined&&(bots=JSON[_0x3749f0(0x229)](_0x359f33[_0x3749f0(0x287)]),proxyEmit(_0x3749f0(0x287),bots));break;case _0x3749f0(0x2cd):switch(_0x359f33['function']){case'initclient':initclient();break;case _0x3749f0(0x1f4):toggleBotMode();break;case'emitHistory':emitHistory(_0x359f33[_0x3749f0(0x308)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x359f33[_0x3749f0(0x308)]);break;case'getPortfolio':getPortfolio(_0x359f33[_0x3749f0(0x308)]);break;case'storeConfiguration':storeConfiguration(_0x359f33[_0x3749f0(0x308)]);break;case _0x3749f0(0x218):storeHeadless(_0x359f33[_0x3749f0(0x308)]);break;case _0x3749f0(0x269):storeFiat(_0x359f33['args']);break;case _0x3749f0(0x19e):resetHistory();break;case _0x3749f0(0x232):getStartingBalances(getNormalizedPerformance());break;case _0x3749f0(0x226):placeOrder(_0x359f33[_0x3749f0(0x308)]);break;case _0x3749f0(0x1e5):cancelLoading();break;case _0x3749f0(0x210):showConfig();break;case _0x3749f0(0x2f9):sendMetricsTelegram();break;case _0x3749f0(0x1fc):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x435a42=null,_0x2bf991=![]){const _0x4f6a39=_0x1485ec;logger['debug'](_0x4f6a39(0x2b5)+(_0x435a42&&_0x435a42[_0x4f6a39(0x219)]>0x0?_0x4f6a39(0x230)+_0x435a42[_0x4f6a39(0x233)](','):_0x4f6a39(0x2bb))+_0x4f6a39(0x315)+(_0x2bf991?_0x4f6a39(0x25b):_0x4f6a39(0x28f))+_0x4f6a39(0x23f)+config[_0x4f6a39(0x28b)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x2bf991)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x4f6a39(0x185)]!=''&&config['apiKey']!='***'){if(_0x2bf991){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0xe611ab){handleErrorNoStop(_0xe611ab,_0x4f6a39(0x1f2));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x435a42);const _0x10c114=await getCoins();[currentCoins,currentCoinsAll]=_0x10c114,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x4f6a39(0x219)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x321f13=_0x1485ec;logger[_0x321f13(0x1ed)](_0x321f13(0x216));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x321f13(0x1ed)](_0x321f13(0x261)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x4e5bb2=config[_0x1485ec(0x28b)],_0x2d7fa9=config[_0x1485ec(0x185)],_0x236a61=config[_0x1485ec(0x2e1)],_0x210180=config[_0x1485ec(0x293)]){const _0xc3393b=_0x1485ec;exchange&&await stopExchange();!supportedExchanges()[_0xc3393b(0x1bb)](_0x4e5bb2)&&(logHistory(_0xc3393b(0x209),_0xc3393b(0x2ef)+_0x4e5bb2+'\x20exchange'),killBot());const _0x228fd2=ccxt[_0xc3393b(0x2ac)][_0x4e5bb2['toLowerCase']()];exchange=new _0x228fd2({'apiKey':_0x2d7fa9,'secret':_0x236a61,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x210180)exchange[_0xc3393b(0x2c4)]=_0x210180;}function setStableCoins(){const _0x10c1ed=_0x1485ec;let _0xd46ae6=config['basecoin']==_0x10c1ed(0x22e)?'ETH':_0x10c1ed(0x1b0),_0x3953a3=!allSymbols[_0x10c1ed(0x1bb)](_0xd46ae6+_0x10c1ed(0x239))?_0x10c1ed(0x20d):_0x10c1ed(0x2c3),_0x4543ee=!allSymbols[_0x10c1ed(0x1bb)](_0xd46ae6+_0x10c1ed(0x2e5))?_0x3953a3:_0x10c1ed(0x260);stablecoins={'eur':{'coin':''+_0xd46ae6+_0x4543ee,'symbol':_0xd46ae6+'/'+_0x4543ee},'usd':{'coin':''+_0xd46ae6+_0x3953a3,'symbol':_0xd46ae6+'/'+_0x3953a3}};}async function initwsCcxt(_0x37a9c2){const _0x23a170=_0x1485ec;_0x37a9c2==null&&(_0x37a9c2=[],config['portfolio'][_0x23a170(0x1dd)](_0x413e27=>{const _0x190b8e=_0x23a170;if(!_0x413e27[_0x190b8e(0x303)]&&_0x413e27['coin']!=config['basecoin'])_0x37a9c2['push'](_0x413e27[_0x190b8e(0x1c9)]);}));if(!_0x37a9c2[_0x23a170(0x1bb)](stablecoins[_0x23a170(0x2e0)]['symbol']))_0x37a9c2['push'](stablecoins[_0x23a170(0x2e0)][_0x23a170(0x1c9)]);if(!_0x37a9c2[_0x23a170(0x1bb)](stablecoins['usd'][_0x23a170(0x1c9)]))_0x37a9c2['push'](stablecoins[_0x23a170(0x2c7)]['symbol']);if(config[_0x23a170(0x28b)][_0x23a170(0x2e3)](_0x23a170(0x1c5))){if(!_0x37a9c2[_0x23a170(0x1bb)](_0x23a170(0x265)+config[_0x23a170(0x201)]))_0x37a9c2['push'](_0x23a170(0x265)+config['basecoin']);}loadCoins(_0x37a9c2);const _0x3cb221=async _0xc7cf57=>{const _0x2b86cc=_0x23a170,_0x10f4dc=await exchange['fetchTicker'](_0xc7cf57);global[_0x2b86cc(0x28e)][noslash(_0x10f4dc['symbol'])]=_0x10f4dc['last'];while(!![]){if(!botPaused)try{const _0x33fe8b=await exchange[_0x2b86cc(0x1a7)](_0xc7cf57);global[_0x2b86cc(0x28e)][noslash(_0x33fe8b[0x0][_0x2b86cc(0x1c9)])]=_0x33fe8b[0x0][_0x2b86cc(0x248)],await sleep(0x3e8);}catch(_0x5776e1){if(!exchangeStopped)await handleError(_0x5776e1,_0x2b86cc(0x1a7),_0xc7cf57);}else await sleep(0x64);}},_0x2892c8=async _0x5b514b=>{const _0x4d4467=_0x23a170;while(!![]){if(!botPaused)try{const _0x2e259=await exchange[_0x4d4467(0x2a4)](_0x5b514b);global[_0x4d4467(0x19a)][_0x2e259[_0x4d4467(0x1c9)]]=_0x2e259[_0x4d4467(0x262)],await sleep(0x3c*0x3e8);}catch(_0x495d9d){if(!exchangeStopped)await handleError(_0x495d9d,'fetchTickers',_0x5b514b);}else await sleep(0x64);}},_0x5aeda7=async()=>{const _0x4e9ac0=_0x23a170;while(!![]){if(!botPaused)try{const _0x142203=await exchange[_0x4e9ac0(0x2d1)]();_0x142203[_0x4e9ac0(0x1dd)](_0x13bcba=>{updateNumberCoinsCcxt(_0x13bcba);});}catch(_0x5023c2){if(!exchangeStopped)await handleError(_0x5023c2,_0x4e9ac0(0x2d1));}else await sleep(0x64);}};_0x37a9c2['forEach'](_0x2d12b1=>{_0x3cb221(_0x2d12b1),_0x2892c8(_0x2d12b1);}),!wsEventsSet&&(wsEventsSet=!![],_0x5aeda7(),watchTransactions());}async function watchTransactions(){const _0x10db4=_0x1485ec;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x4cf6a6=await getCoins(),[_0x4f54ee,_0xb98fa4]=_0x4cf6a6;let _0x5076f3=[];currentCoins['forEach'](_0x43d8db=>{const _0x20bff5=_0x28d8,_0x159c1c=_0x4f54ee[_0x20bff5(0x2ec)](_0x308248=>_0x308248['coin']==_0x43d8db[_0x20bff5(0x211)]);if(_0x159c1c){if(_0x43d8db['number']!=_0x159c1c[_0x20bff5(0x2b0)]){let _0x11b539;if(_0x43d8db[_0x20bff5(0x211)]!=config[_0x20bff5(0x201)]){const _0x3886fa=global[_0x20bff5(0x28e)][noslash(_0x43d8db['symbol'])];_0x11b539=_0x43d8db[_0x20bff5(0x268)]?0x1/_0x3886fa:_0x3886fa;}else _0x11b539=0x1;_0x5076f3[_0x20bff5(0x18c)]({'coin':_0x43d8db['coin'],'symbol':_0x43d8db[_0x20bff5(0x1c9)],'price':_0x11b539,'number':Number(formatResult(_0x159c1c[_0x20bff5(0x2b0)]-_0x43d8db['number'],0x8)),'basecoinvalue':_0x11b539*(_0x159c1c[_0x20bff5(0x2b0)]-_0x43d8db[_0x20bff5(0x2b0)])});}}});if(_0x5076f3[_0x10db4(0x219)]==0x1&&!blockTransactionDetection){if(config['autoliquidity']){logger[_0x10db4(0x1ed)](_0x10db4(0x1d5)+_0x5076f3[0x0][_0x10db4(0x1bf)]+_0x10db4(0x22c)+lastFees[_0x10db4(0x27a)]);if(lastFees[_0x10db4(0x27a)]==0x0||Math['abs'](_0x5076f3[0x0][_0x10db4(0x1bf)])>lastFees['highest']){delete _0x5076f3[0x0][_0x10db4(0x1c9)],delete _0x5076f3[0x0]['basecoinvalue'];let _0x5c702d=[],_0x1f51d9=[...config[_0x10db4(0x189)]]||[],_0x858124=config['liquidity'];_0x1f51d9['sort']((_0x171525,_0x21b4b3)=>_0x171525[_0x10db4(0x2a9)]>_0x21b4b3[_0x10db4(0x2a9)]?-0x1:_0x21b4b3['date']>_0x171525[_0x10db4(0x2a9)]?0x1:0x0);const _0x49ba88=getDate();if(_0x1f51d9[0x0]){const _0x5c1ebe=fns[_0x10db4(0x229)](_0x1f51d9[0x0][_0x10db4(0x2a9)],_0x10db4(0x253),new Date()),_0x579970=fns[_0x10db4(0x229)](_0x49ba88,_0x10db4(0x253),new Date());if(fns['isEqual'](_0x5c1ebe,_0x579970)){_0x5c702d=_0x1f51d9[0x0][_0x10db4(0x2f4)];const _0x1a75b1=_0x5c702d[_0x10db4(0x2ec)](_0x1ce9a2=>_0x1ce9a2['coin']==_0x5076f3[0x0][_0x10db4(0x211)]);_0x1a75b1?(_0x1a75b1['number']+=_0x5076f3[0x0][_0x10db4(0x2b0)],_0x1a75b1[_0x10db4(0x2b0)]==0x0&&(_0x5c702d=_0x5c702d[_0x10db4(0x26d)](_0x5a7110=>{const _0xf76a33=_0x10db4;return _0x5a7110[_0xf76a33(0x211)]!=_0x5076f3[0x0][_0xf76a33(0x211)];}))):_0x5c702d[_0x10db4(0x18c)](_0x5076f3[0x0]);const _0x5d76a3=_0x858124[_0x10db4(0x2ec)](_0x158f4d=>_0x158f4d[_0x10db4(0x2a9)]==_0x49ba88);_0x5d76a3['changes']=_0x5c702d;}else _0x858124['push']({'date':_0x49ba88,'changes':[_0x5076f3[0x0]]});}const _0x4cc577=_0x858124[_0x10db4(0x2ec)](_0x1cd4c9=>_0x1cd4c9['date']==_0x49ba88);if(_0x4cc577){let _0x5777af=!![];_0x4cc577[_0x10db4(0x2f4)][_0x10db4(0x1dd)](_0x2cb6b2=>{if(_0x2cb6b2['number']!=0x0)_0x5777af=![];}),_0x5777af&&(_0x858124=_0x858124[_0x10db4(0x26d)](_0x10ac03=>{return _0x10ac03['date']!=_0x49ba88;}));}let _0xa19272=dbConfig[_0x10db4(0x235)](_0x10db4(0x26b))[_0x10db4(0x2ec)]({'botID':botID})[_0x10db4(0x2be)]();_0xa19272&&(dbConfig[_0x10db4(0x235)](_0x10db4(0x26b))['find']({'botID':botID})[_0x10db4(0x186)]({'liquidity':_0x858124})['write'](),config[_0x10db4(0x189)]=_0x858124),logHistory('success',_0x10db4(0x1cb)+Math[_0x10db4(0x2b4)](_0x5076f3[0x0][_0x10db4(0x2b0)])+'\x20'+_0x5076f3[0x0][_0x10db4(0x211)]+'\x20'+(_0x5076f3[0x0][_0x10db4(0x2b0)]>0x0?_0x10db4(0x1b9):_0x10db4(0x272))+_0x10db4(0x1d9)),proxyEmit(_0x10db4(0x247),emittedConfiguration());}else logger[_0x10db4(0x1ed)](_0x10db4(0x280)+Math[_0x10db4(0x2b4)](_0x5076f3[0x0][_0x10db4(0x2b0)])+'\x20'+_0x5076f3[0x0][_0x10db4(0x211)]+'\x20'+(_0x5076f3[0x0][_0x10db4(0x2b0)]>0x0?_0x10db4(0x1b9):_0x10db4(0x272)));transactionDetected=!![],currentCoins=_0x4f54ee,currentCoinsAll=_0xb98fa4;}else logger[_0x10db4(0x1ed)](_0x10db4(0x1cb)+Math[_0x10db4(0x2b4)](_0x5076f3[0x0][_0x10db4(0x2b0)])+'\x20'+_0x5076f3[0x0][_0x10db4(0x211)]+'\x20'+(_0x5076f3[0x0][_0x10db4(0x2b0)]>0x0?'added':_0x10db4(0x272))+_0x10db4(0x29c)),currentCoins=_0x4f54ee,currentCoinsAll=_0xb98fa4;}await sleep(watchTransactionsInterval);}catch(_0x2bd11){if(!exchangeStopped)await handleError(_0x2bd11,'watchTransactions');}else await sleep(0x64);}}async function loadSymbols(_0x5c08b7=config['exchange'],_0x5512ef=![]){const _0x3f29ac=_0x1485ec;if(allSymbols&&!_0x5512ef)return;try{markets=await exchange[_0x3f29ac(0x1fb)](),allSymbols=[],Object[_0x3f29ac(0x252)](markets)['forEach'](_0x2c5f0a=>{const _0x297559=_0x3f29ac;_0x2c5f0a[0x1]['active']&&_0x2c5f0a[0x1][_0x297559(0x2df)]&&allSymbols[_0x297559(0x18c)](_0x2c5f0a[0x0]);});}catch(_0x4fdc5d){throw _0x4fdc5d;}}async function initclient(){const _0x1265c3=_0x1485ec;emitLoadingProgress(),proxyEmit(_0x1265c3(0x247),emittedConfiguration()),proxyEmit(_0x1265c3(0x2d9),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1265c3(0x1b1),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2874a8=getNormalizedPerformance();emitPerformance(_0x2874a8),getStartingBalances(_0x2874a8);}async function toggleBotMode(){const _0x480c1a=_0x1485ec;let _0x12a4c1=dbConfig[_0x480c1a(0x235)](_0x480c1a(0x26b))[_0x480c1a(0x2ec)]({'botID':botID})['value']();if(_0x12a4c1){const _0x5d33f5=!_0x12a4c1[_0x480c1a(0x305)];dbConfig[_0x480c1a(0x235)](_0x480c1a(0x26b))[_0x480c1a(0x2ec)]({'botID':botID})[_0x480c1a(0x186)]({'headless':_0x5d33f5})[_0x480c1a(0x196)](),config[_0x480c1a(0x305)]=_0x5d33f5,proxyEmit(_0x480c1a(0x247),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x3f80da=>{});}function _0x28d8(_0x1e1ba2,_0x3186ac){const _0x2e4d3c=_0xd709();return _0x28d8=function(_0x1774a2,_0x41e803){_0x1774a2=_0x1774a2-0x185;let _0xd70954=_0x2e4d3c[_0x1774a2];return _0xd70954;},_0x28d8(_0x1e1ba2,_0x3186ac);}async function loadCoins(_0x571545){const _0x2d0c24=_0x1485ec;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x45aa86,_0x59fb14=0x0,_0x277c11=0x0;_0x571545[_0x2d0c24(0x1dd)](_0x503e2a=>{loading['remainingSymbols']['push'](_0x503e2a);}),loadingCanceled=![];let _0x3f61df=![];while(_0x45aa86!=_0x571545[_0x2d0c24(0x219)]){_0x45aa86=0x0,_0x571545[_0x2d0c24(0x1dd)](_0x130d14=>{const _0x2cd3f9=_0x2d0c24;if(global['ticker'][noslash(_0x130d14)]){loading['remainingSymbols']=loading[_0x2cd3f9(0x278)]['filter'](_0x549726=>_0x549726!=_0x130d14);if(!watchedSymbols[_0x2cd3f9(0x1bb)](_0x130d14))watchedSymbols['push'](_0x130d14);_0x45aa86++;}}),loading[_0x2d0c24(0x2e6)]=Math[_0x2d0c24(0x1d3)](_0x45aa86/_0x571545[_0x2d0c24(0x219)]*0x64);loading[_0x2d0c24(0x2e6)]!=0x64&&(_0x277c11>0x1e*0x5&&(loading[_0x2d0c24(0x2e2)]=!![],emitLoadingProgress()),_0x277c11>0x78*0x5&&!_0x3f61df&&(loading[_0x2d0c24(0x2d6)]=!![],emitLoadingProgress(),_0x3f61df=!![],logHistory(_0x2d0c24(0x209),_0x2d0c24(0x22d)+loading[_0x2d0c24(0x278)][_0x2d0c24(0x233)](',\x20')+_0x2d0c24(0x238)),logHistory(_0x2d0c24(0x209),_0x2d0c24(0x24f)+loadCoinsRetryInterval/0xea60+_0x2d0c24(0x2e9)),pidCoinReloading=setTimeout(()=>{const _0x9ec082=_0x2d0c24;process[_0x9ec082(0x2eb)]({'stop':_0x9ec082(0x1f6)},_0x468e58=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x2d0c24(0x2d6)]=!![],emitLoadingProgress();break;}else _0x45aa86!=_0x59fb14&&(_0x59fb14=_0x45aa86,emitLoadingProgress()),_0x277c11++,await sleep(0xc8);}_0x45aa86==_0x571545['length']&&(coinsLoaded=!![],process[_0x2d0c24(0x2eb)]({'status':_0x2d0c24(0x266),'live':_0x2d0c24(0x1e6)},_0xc53ae0=>{}),_0x3f61df&&logHistory(_0x2d0c24(0x2e8),_0x2d0c24(0x29d)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x49b96f=_0x1485ec;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x49b96f(0x2da)});}function emitLoadingProgress(){const _0x51a987=_0x1485ec;proxyEmit(_0x51a987(0x220),loading);}async function getFiat(){const _0x576ec9=_0x1485ec;let _0x2c78de=global[_0x576ec9(0x28e)][stablecoins[_0x576ec9(0x2e0)]['coin']],_0x52ad9d=global[_0x576ec9(0x28e)][stablecoins[_0x576ec9(0x2c7)][_0x576ec9(0x211)]];return{'eur':Number(_0x2c78de),'usd':Number(_0x52ad9d)};}function capitalize(_0x5277ce){const _0x1b2006=_0x1485ec;return _0x5277ce['substring'](0x0,0x1)[_0x1b2006(0x19d)]()+_0x5277ce[_0x1b2006(0x234)](0x1);}function supportedExchanges(){const _0x23645a=_0x1485ec,_0x4811a9=['ws',_0x23645a(0x20b),_0x23645a(0x2a4),_0x23645a(0x1a7),_0x23645a(0x2d1),_0x23645a(0x21d),_0x23645a(0x1c0),'fetchOpenOrders','fetchClosedOrders',_0x23645a(0x27d)];let _0x22278d=[],_0x498c94=[],_0x39278f=ccxt[_0x23645a(0x2ac)][_0x23645a(0x2d9)];_0x39278f['forEach'](_0x2f18d5=>{const _0x2862ae=_0x23645a;try{const _0xd13ee3=new ccxt['pro'][_0x2f18d5]();_0x498c94[_0x2862ae(0x18c)](_0xd13ee3);}catch(_0x14a7f0){}}),_0x498c94[_0x23645a(0x1dd)](_0x22689c=>{const _0x4329db=_0x23645a;let _0x275cb7=0x0;_0x4811a9[_0x4329db(0x1dd)](_0x6e9433=>{const _0x4c0633=_0x4329db;_0x6e9433 in _0x22689c[_0x4c0633(0x1b2)]&&_0x22689c[_0x4c0633(0x1b2)][_0x6e9433]&&_0x275cb7++;}),_0x275cb7==_0x4811a9[_0x4329db(0x219)]&&_0x22278d[_0x4329db(0x18c)](capitalize(_0x22689c['id']));});let _0x4e9202=[];return _0x39278f[_0x23645a(0x1dd)](_0x4ae961=>{const _0x5bd79b=_0x23645a;_0x4ae961=capitalize(_0x4ae961);if(!_0x22278d[_0x5bd79b(0x1bb)](_0x4ae961))_0x4e9202['push'](_0x4ae961);}),_0x22278d;}function setStartDatePerformance(){const _0x252720=_0x1485ec;if(config&&config[_0x252720(0x189)][0x0][_0x252720(0x2f4)][_0x252720(0x219)]!=0x0){const _0x53cae8=config[_0x252720(0x189)][0x0]['changes'];dbPerformance[_0x252720(0x235)](_0x252720(0x2f0))[_0x252720(0x2ec)]({'date':config['startdate']})[_0x252720(0x186)]({'coins':_0x53cae8})[_0x252720(0x196)]();}}async function recreateCoinResults(){const _0x4b492f=_0x1485ec;let _0x16e4aa,_0x1ba7e3=[];try{const _0x28a38a=fns[_0x4b492f(0x2f3)](fns['parseISO'](config[_0x4b492f(0x1b6)][_0x4b492f(0x228)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x5ce1f8 of currentCoins){if(_0x5ce1f8[_0x4b492f(0x211)]!=config[_0x4b492f(0x201)]){let _0x2044e4=0x0,_0x1fd2c7,_0x27da28;_0x16e4aa=await getAllEventOrders(_0x5ce1f8[_0x4b492f(0x1c9)]);if(_0x16e4aa[_0x4b492f(0x219)]>0x0)_0x16e4aa['forEach'](_0x357a16=>{const _0x411721=_0x4b492f,_0x47b75e=_0x5ce1f8[_0x411721(0x1c9)][_0x411721(0x1bb)](config['basecoin']+'/');_0x1ba7e3['push']({'datetime':_0x357a16['datetime'],'coin':_0x5ce1f8[_0x411721(0x211)],'symbol':_0x5ce1f8[_0x411721(0x1c9)],'side':_0x357a16[_0x411721(0x1eb)],'reverse':_0x47b75e,'amount':formatResult(_0x357a16[_0x411721(0x243)],0x8),'filled':formatResult(_0x357a16['filled'],0x8),'price':formatResult(_0x357a16['price'],0x8)}),_0x2044e4=_0x357a16[_0x411721(0x1eb)]==_0x411721(0x1f7)?_0x2044e4+_0x357a16[_0x411721(0x243)]:_0x2044e4-_0x357a16['filled'];if(!_0x27da28)_0x27da28=_0x357a16[_0x411721(0x248)];});_0x1fd2c7=_0x5ce1f8[_0x4b492f(0x2b0)]-_0x2044e4;let _0x1c2166;config[_0x4b492f(0x189)][_0x4b492f(0x1dd)](_0x4bd0c7=>{const _0x37508c=_0x4b492f;!_0x1c2166&&(_0x1c2166=_0x4bd0c7[_0x37508c(0x2f4)][_0x37508c(0x2ec)](_0x59880c=>_0x59880c[_0x37508c(0x211)]==_0x5ce1f8[_0x37508c(0x211)]),_0x1c2166&&(_0x1fd2c7=_0x1c2166['number'],_0x27da28=_0x1c2166['price']));});let _0x3be6c5=dbCoinResults[_0x4b492f(0x235)](_0x4b492f(0x312))[_0x4b492f(0x2ec)]({'coin':_0x5ce1f8['coin']})[_0x4b492f(0x2be)]();_0x3be6c5={'coin':_0x5ce1f8[_0x4b492f(0x211)],'number':_0x1fd2c7,'breakeven':_0x27da28,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4b492f(0x235)](_0x4b492f(0x312))[_0x4b492f(0x2ec)]({'coin':_0x5ce1f8[_0x4b492f(0x211)]})['assign'](_0x3be6c5)[_0x4b492f(0x196)]();}}_0x1ba7e3[_0x4b492f(0x2c1)]((_0x10905f,_0x40333c)=>_0x10905f[_0x4b492f(0x1c2)]>_0x40333c[_0x4b492f(0x1c2)]?0x1:_0x40333c[_0x4b492f(0x1c2)]>_0x10905f[_0x4b492f(0x1c2)]?-0x1:0x0);let _0x3a7882=0x0;for(let _0x45f7ea of _0x1ba7e3){await updateCoinResults(_0x45f7ea,!![]);}}catch(_0x3a3671){await handleError(_0x3a3671,_0x4b492f(0x1ad));}}async function getAllEventOrders(_0xf4c216){const _0x195047=_0x1485ec;let _0x5df8c6=[],_0x45db50=dbLogs[_0x195047(0x235)]('logs')[_0x195047(0x26d)](_0x45f954=>{const _0x3d7eeb=_0x195047,_0x3c8a76=_0x45f954[_0x3d7eeb(0x23d)][_0x3d7eeb(0x1a2)]();return _0x3c8a76[_0x3d7eeb(0x1bb)](_0xf4c216['toLowerCase']())&&(_0x3c8a76[_0x3d7eeb(0x1bb)](_0x3d7eeb(0x1ae))&&_0x3c8a76[_0x3d7eeb(0x1bb)](_0x3d7eeb(0x257))||_0x3c8a76[_0x3d7eeb(0x1bb)](_0x3d7eeb(0x243))&&_0x3c8a76['includes'](_0x3d7eeb(0x257)));})[_0x195047(0x23a)](_0x195047(0x275))['value']();return _0x45db50[_0x195047(0x1dd)](_0x27487b=>{const _0x213ab9=_0x195047,_0x215143=_0x27487b[_0x213ab9(0x23d)][_0x213ab9(0x1bb)](_0x213ab9(0x23e))?_0x213ab9(0x23e):_0x213ab9(0x1f7),_0x1d5959=/#([0-9]|\.)+\s/i,_0x4d6d69=Number(_0x1d5959['exec'](_0x27487b[_0x213ab9(0x23d)])[0x0]['slice'](0x1)),_0x36385f=/@([0-9]|\.)+$/i,_0x3c58b9=Number(_0x36385f[_0x213ab9(0x289)](_0x27487b[_0x213ab9(0x23d)])[0x0]['slice'](0x1));_0x5df8c6[_0x213ab9(0x18c)]({'datetime':_0x27487b[_0x213ab9(0x275)],'coin':symbolToCoin(_0xf4c216),'symbol':_0xf4c216,'side':_0x215143,'amount':_0x4d6d69,'filled':_0x4d6d69,'price':_0x3c58b9});}),_0x5df8c6;}async function getAllOrders(_0x4bb22b,_0x4e1626){const _0x1fe4ae=_0x1485ec;let _0x434001=[];while(_0x4e1626<exchange['milliseconds']()){const _0x229889=0x1f4,_0x8f7598=await exchange['fetchClosedOrders'](_0x4bb22b,_0x4e1626,_0x229889);if(_0x8f7598['length'])_0x4e1626=_0x8f7598[_0x8f7598[_0x1fe4ae(0x219)]-0x1][_0x1fe4ae(0x225)]+0x1,_0x434001=_0x434001[_0x1fe4ae(0x2b7)](_0x8f7598);else break;}return _0x434001;}async function validate24hChanges(){const _0x5e7835=_0x1485ec;for(const _0x27af11 of currentCoins){if(_0x27af11[_0x5e7835(0x211)]!=config[_0x5e7835(0x201)]){let _0x1ecff1;_0x27af11[_0x5e7835(0x268)]?_0x1ecff1=formatResult((0x1/(global[_0x5e7835(0x19a)][noslash(_0x27af11[_0x5e7835(0x1c9)])]/0x64+0x1)-0x1)*0x64,0x3):_0x1ecff1=global['change'][noslash(_0x27af11[_0x5e7835(0x1c9)])],_0x1ecff1<config[_0x5e7835(0x311)]&&(logHistory('error',_0x27af11[_0x5e7835(0x211)]+_0x5e7835(0x190)+_0x1ecff1+'%'),logHistory(_0x5e7835(0x209),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x5e7835(0x209),_0x5e7835(0x27e)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0xe79577,_0x3efa11){const _0x232a1a=_0x1485ec;if(!_0xe79577)return!![];const _0x3577d3=_0x3efa11[_0x232a1a(0x1a3)]('.'),_0x56d319=_0xe79577['split']('.');for(var _0x2dc39d=0x0;_0x2dc39d<_0x56d319[_0x232a1a(0x219)];_0x2dc39d++){const _0x6e17f7=~~_0x56d319[_0x2dc39d],_0xcfa76=~~_0x3577d3[_0x2dc39d];if(_0x6e17f7<_0xcfa76)return!![];if(_0x6e17f7>_0xcfa76)return![];}return![];}async function oneTimeMigration(){const _0x414bc3=_0x1485ec;let _0x434ed9=dbLogs[_0x414bc3(0x235)](_0x414bc3(0x1cf))[_0x414bc3(0x2be)]();if(isOlderVersion(_0x434ed9,_0x414bc3(0x1ef))){let _0x5a12c7=[];const _0x52ec75=dbLogs[_0x414bc3(0x235)](_0x414bc3(0x2e7))['value']();_0x52ec75[_0x414bc3(0x1dd)](_0x39ec16=>{const _0x33225b=_0x414bc3;_0x5a12c7['push']({'time':_0x39ec16['time'],'type':_0x39ec16[_0x33225b(0x2ed)],'event':_0x39ec16[_0x33225b(0x23d)]});}),dbLogs[_0x414bc3(0x235)](_0x414bc3(0x2e7))[_0x414bc3(0x186)](_0x5a12c7)[_0x414bc3(0x196)]();}let _0x43db94=dbConfig[_0x414bc3(0x235)]('version')[_0x414bc3(0x2be)]();if(isOlderVersion(_0x43db94,_0x414bc3(0x1ef))){let _0x1cd6a4=dbConfig[_0x414bc3(0x235)](_0x414bc3(0x26b))[_0x414bc3(0x2ec)]({'botID':botID})['value']();if(_0x1cd6a4){let _0x3be734=[];_0x1cd6a4['portfolio'][_0x414bc3(0x1dd)](_0x5ab0b1=>{const _0x3f7980=_0x414bc3;_0x3be734[_0x3f7980(0x18c)]({'coin':_0x5ab0b1['coin'],'number':_0x5ab0b1[_0x3f7980(0x245)],'price':_0x5ab0b1[_0x3f7980(0x2bd)]}),delete _0x5ab0b1[_0x3f7980(0x245)],delete _0x5ab0b1[_0x3f7980(0x2bd)];});if(_0x3be734['length']!==0x0)fs['writeFile'](configbackuppath+(_0x414bc3(0x1a6)+botID+_0x414bc3(0x18a)),JSON[_0x414bc3(0x2f7)](_0x3be734,null,0x4),function(_0x215473){if(_0x215473){}});const _0x5537b6=(_0x5b70c1,_0x1a58af)=>{const _0x490b1a=_0x414bc3;let _0x273249=[];_0x1a58af[_0x490b1a(0x1dd)](_0x3b84ff=>{const _0x450520=_0x490b1a,_0x575fed=_0x5b70c1['find'](_0x7c42dd=>_0x7c42dd[_0x450520(0x211)]==_0x3b84ff[_0x450520(0x211)]);if(!_0x575fed)_0x273249[_0x450520(0x18c)](_0x3b84ff);});let _0x200fbc=[];return _0x5b70c1[_0x490b1a(0x1dd)](_0x1f0398=>{const _0x1aa8c3=_0x490b1a,_0x439818=_0x1a58af[_0x1aa8c3(0x2ec)](_0x3653b5=>_0x3653b5[_0x1aa8c3(0x211)]==_0x1f0398[_0x1aa8c3(0x211)]);if(!_0x439818||_0x439818[_0x1aa8c3(0x2b0)]==0x0&&_0x1f0398[_0x1aa8c3(0x2b0)]!=0x0)_0x200fbc[_0x1aa8c3(0x18c)](_0x1f0398);}),{'missingDay1':_0x273249,'notInDay2':_0x200fbc};},_0x207bd2=dbPerformance[_0x414bc3(0x235)](_0x414bc3(0x2f0))[_0x414bc3(0x20c)]()[_0x414bc3(0x2be)]();if(_0x207bd2[_0x414bc3(0x219)]>0x1){const {missingDay1:_0x1cba2e,notInDay2:_0x1fb926}=_0x5537b6(_0x3be734,_0x207bd2[0x1]['coins']);_0x3be734=[..._0x3be734,..._0x1cba2e],_0x1fb926[_0x414bc3(0x1dd)](_0xb04188=>{const _0x44b988=_0x414bc3;let _0x1d7770=_0x3be734[_0x44b988(0x2a2)](_0x101b93=>_0x101b93[_0x44b988(0x211)]==_0xb04188[_0x44b988(0x211)]);_0x1d7770!=-0x1&&_0x3be734[_0x44b988(0x1bd)](_0x1d7770,0x1);});}_0x3be734[_0x414bc3(0x2c1)]((_0x178e93,_0x13039c)=>_0x178e93['coin']>_0x13039c[_0x414bc3(0x211)]?0x1:_0x13039c[_0x414bc3(0x211)]>_0x178e93[_0x414bc3(0x211)]?-0x1:0x0);let _0x2a6d66=[{'date':_0x1cd6a4[_0x414bc3(0x1b6)],'changes':_0x3be734}];_0x207bd2[_0x414bc3(0x219)]>0x2&&_0x207bd2[_0x414bc3(0x1dd)]((_0x150bf4,_0x3f6d8e)=>{const _0x2ede70=_0x414bc3;if(_0x3f6d8e>0x0&&_0x3f6d8e<_0x207bd2[_0x2ede70(0x219)]-0x1){const {missingDay1:_0x3b7482,notInDay2:_0x99767b}=_0x5537b6(_0x207bd2[_0x3f6d8e][_0x2ede70(0x312)],_0x207bd2[_0x3f6d8e+0x1]['coins']);_0x3be734=[],(_0x3b7482[_0x2ede70(0x219)]!=0x0||_0x99767b[_0x2ede70(0x219)]!=0x0)&&(_0x3b7482[_0x2ede70(0x219)]!=0x0&&_0x3be734['push'](..._0x3b7482),_0x99767b[_0x2ede70(0x219)]!=0x0&&(_0x99767b[_0x2ede70(0x1dd)](_0x2cf266=>{const _0x6760ef=_0x2ede70;_0x2cf266[_0x6760ef(0x2b0)]=-_0x2cf266['number'];}),_0x3be734['push'](..._0x99767b)),_0x3be734[_0x2ede70(0x2c1)]((_0x4e6138,_0x1ea6c0)=>_0x4e6138[_0x2ede70(0x211)]>_0x1ea6c0['coin']?0x1:_0x1ea6c0[_0x2ede70(0x211)]>_0x4e6138[_0x2ede70(0x211)]?-0x1:0x0),_0x2a6d66[_0x2ede70(0x18c)]({'date':_0x207bd2[_0x3f6d8e+0x1][_0x2ede70(0x2a9)],'changes':_0x3be734}));}}),dbConfig[_0x414bc3(0x235)]('bot')['find']({'botID':botID})['assign']({..._0x1cd6a4,'liquidity':_0x2a6d66})['write']();}}if(isOlderVersion(_0x43db94,_0x414bc3(0x306))){let _0x4bfd0c=dbConfig['get']('bot')['find']({'botID':botID})[_0x414bc3(0x2be)]();if(_0x4bfd0c){const _0x2b70fe=_0x4bfd0c['exchange'],_0x5f2d43=_0x2b70fe?capitalize(_0x2b70fe):_0x414bc3(0x1c5);dbConfig['get'](_0x414bc3(0x26b))[_0x414bc3(0x2ec)]({'botID':botID})[_0x414bc3(0x186)]({'exchange':_0x5f2d43})['write']();}}let _0x4f209a=dbPerformance[_0x414bc3(0x235)](_0x414bc3(0x1cf))[_0x414bc3(0x2be)]();isOlderVersion(_0x4f209a,_0x414bc3(0x1ef))&&setStartDatePerformance();let _0x48aec3=dbCoinResults['get']('version')[_0x414bc3(0x2be)]();if(isOlderVersion(_0x48aec3,_0x414bc3(0x191))){let _0x5707d2=dbCoinResults[_0x414bc3(0x235)](_0x414bc3(0x312))[_0x414bc3(0x2be)]();if(_0x5707d2[_0x414bc3(0x219)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x3dffaa=_0x1485ec;dbConfig[_0x3dffaa(0x26e)](_0x3dffaa(0x1cf),serverversion)[_0x3dffaa(0x196)](),dbPerformance[_0x3dffaa(0x26e)](_0x3dffaa(0x1cf),serverversion)['write'](),dbLogs['set'](_0x3dffaa(0x1cf),serverversion)[_0x3dffaa(0x196)](),dbCoinResults[_0x3dffaa(0x26e)](_0x3dffaa(0x1cf),serverversion)[_0x3dffaa(0x196)]();}function getConfiguration(_0x14c8e8){const _0x2324a8=_0x1485ec;let _0x1ff956=dbConfig[_0x2324a8(0x235)](_0x2324a8(0x26b))[_0x2324a8(0x2ec)]({'botID':_0x14c8e8})[_0x2324a8(0x2be)]();if(_0x1ff956){let _0x235ed=![];typeof _0x1ff956['threshold']=='string'&&(_0x1ff956={..._0x1ff956,'threshold':Number(_0x1ff956['threshold'])},_0x235ed=!![]),_0x1ff956[_0x2324a8(0x311)]==null&&(_0x1ff956={..._0x1ff956,'change24h':-0x14},_0x235ed=!![]),!_0x1ff956[_0x2324a8(0x2ba)]&&(_0x1ff956={..._0x1ff956,'fiat':_0x2324a8(0x2c3)},_0x235ed=!![]),!_0x1ff956['onepagemode']&&(_0x1ff956={..._0x1ff956,'onepagemode':settings[_0x2324a8(0x2d5)]},_0x235ed=!![]),!_0x1ff956['colorscheme']&&(_0x1ff956={..._0x1ff956,'colorscheme':_0x2324a8(0x2d8)},_0x235ed=!![]),!_0x1ff956[_0x2324a8(0x30e)]&&(_0x1ff956={..._0x1ff956,'autoliquidity':!![]},_0x235ed=!![]),_0x235ed&&(_0x1ff956={'botID':_0x1ff956['botID'],'exchange':_0x1ff956['exchange'],'apiKey':_0x1ff956[_0x2324a8(0x185)],'apiSecret':_0x1ff956['apiSecret'],'apiPassword':_0x1ff956['apiPassword'],'basecoin':_0x1ff956[_0x2324a8(0x201)],'botname':_0x1ff956[_0x2324a8(0x192)],'showname':_0x1ff956[_0x2324a8(0x195)],'threshold':_0x1ff956['threshold'],'ordertype':_0x1ff956[_0x2324a8(0x21f)],'timeout':_0x1ff956[_0x2324a8(0x2e2)],'fiat':_0x1ff956[_0x2324a8(0x2ba)],'startdate':_0x1ff956[_0x2324a8(0x1b6)],'recreate':_0x1ff956[_0x2324a8(0x256)],'timeshift':_0x1ff956[_0x2324a8(0x2dc)],'onepagemode':_0x1ff956[_0x2324a8(0x2d5)],'headless':_0x1ff956['headless'],'cooldown':_0x1ff956['cooldown'],'change24h':_0x1ff956[_0x2324a8(0x311)],'emojibuy':_0x1ff956[_0x2324a8(0x2d0)],'emojisell':_0x1ff956[_0x2324a8(0x22f)],'colorscheme':_0x1ff956[_0x2324a8(0x1d2)],'portfolio':_0x1ff956[_0x2324a8(0x1b3)],'autoliquidity':_0x1ff956[_0x2324a8(0x30e)],'liquidity':_0x1ff956[_0x2324a8(0x189)],'openOrders':_0x1ff956[_0x2324a8(0x217)]},dbConfig[_0x2324a8(0x235)](_0x2324a8(0x26b))[_0x2324a8(0x2c2)]()['write'](),dbConfig[_0x2324a8(0x235)]('bot')[_0x2324a8(0x18c)](_0x1ff956)[_0x2324a8(0x196)]());}else _0x1ff956={'botID':_0x14c8e8,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x2324a8(0x231)+_0x14c8e8,'showname':![],'threshold':0x3,'ordertype':_0x2324a8(0x1ae),'timeout':0x14,'fiat':_0x2324a8(0x2c3),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x2324a8(0x2d5)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x2324a8(0x2d8),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1ff956;}function emittedConfiguration(){const _0x3eb058=_0x1485ec;let _0x13a39f;if(config[_0x3eb058(0x185)]=='')_0x13a39f={...config,'configstate':_0x3eb058(0x19b)};else config['apiKey']=='***'?_0x13a39f={...config,'configstate':_0x3eb058(0x285)}:(_0x13a39f={...config,'apiKey':'************','apiSecret':'************'},config[_0x3eb058(0x293)]&&(_0x13a39f[_0x3eb058(0x293)]=_0x3eb058(0x1f0)));return _0x13a39f;}function getSettings(){const _0x43b0b0=_0x1485ec;return dbSettings[_0x43b0b0(0x235)](_0x43b0b0(0x1ec))[_0x43b0b0(0x2be)]();}function getSecure(){const _0x3bbbcb=_0x1485ec;return dbSecure[_0x3bbbcb(0x235)](_0x3bbbcb(0x224))['value']()||{};}function updateTimeshift(_0x20fec7){const _0x29848e=_0x1485ec;let _0x397041=dbConfig[_0x29848e(0x235)](_0x29848e(0x26b))['find']({'botID':botID})[_0x29848e(0x2be)]();_0x397041&&dbConfig[_0x29848e(0x235)](_0x29848e(0x26b))[_0x29848e(0x2ec)]({'botID':botID})[_0x29848e(0x186)]({'timeshift':_0x20fec7})[_0x29848e(0x196)](),config[_0x29848e(0x2dc)]=_0x20fec7,proxyEmit(_0x29848e(0x247),emittedConfiguration());}function updateOnepagemode(_0xbf17ed){const _0x572331=_0x1485ec;let _0x3034bd=dbConfig[_0x572331(0x235)]('bot')['find']({'botID':botID})['value']();_0x3034bd&&dbConfig['get'](_0x572331(0x26b))['find']({'botID':botID})[_0x572331(0x186)]({'onepagemode':_0xbf17ed})[_0x572331(0x196)](),config[_0x572331(0x2d5)]=_0xbf17ed,proxyEmit(_0x572331(0x247),emittedConfiguration());}async function storeConfiguration(_0x260033){const _0x34cbaf=_0x1485ec;logger[_0x34cbaf(0x1ed)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x34cbaf(0x1ed)](_0x34cbaf(0x273));let _0x43c355=[],_0x520c84=![],_0x159be4=![],_0x1a4b0e=[];_0x260033[_0x34cbaf(0x1b3)]['forEach'](_0x3ca3dc=>{const _0x56cf2d=_0x34cbaf;if(!_0x3ca3dc[_0x56cf2d(0x303)]&&_0x3ca3dc[_0x56cf2d(0x211)]!=_0x260033[_0x56cf2d(0x201)])_0x1a4b0e[_0x56cf2d(0x18c)](_0x3ca3dc[_0x56cf2d(0x1c9)]);}),_0x1a4b0e[_0x34cbaf(0x1dd)](_0x508d04=>{const _0x327166=_0x34cbaf,_0xff3ac3=watchedSymbols[_0x327166(0x1bb)](_0x508d04);!_0xff3ac3&&_0x43c355[_0x327166(0x18c)](_0x508d04);}),_0x1a4b0e[_0x34cbaf(0x1dd)](_0x2be92a=>{const _0x23d88d=_0x34cbaf,_0x2e5e2c=currentCoins['find'](_0x268ea5=>_0x268ea5[_0x23d88d(0x1c9)]==_0x2be92a);!_0x2e5e2c&&(_0x520c84=!![]);}),currentCoins[_0x34cbaf(0x1dd)](_0x420f16=>{const _0xcb9d3b=_0x34cbaf;if(_0x420f16[_0xcb9d3b(0x211)]!=config[_0xcb9d3b(0x201)]){const _0x10fc8e=_0x1a4b0e[_0xcb9d3b(0x2ec)](_0x1e42b9=>_0x1e42b9==_0x420f16[_0xcb9d3b(0x1c9)]);!_0x10fc8e&&(_0x520c84=!![]);}}),_0x260033[_0x34cbaf(0x1b3)][_0x34cbaf(0x1dd)](_0x3dc528=>{const _0x2d3150=_0x34cbaf,_0x3732ec=config[_0x2d3150(0x1b3)]['find'](_0x58d2f0=>_0x58d2f0[_0x2d3150(0x211)]==_0x3dc528['coin']);if(_0x3732ec&&_0x3dc528[_0x2d3150(0x26a)]!=_0x3732ec['offset'])_0x159be4=!![];});let _0x440c43=dbConfig['get'](_0x34cbaf(0x26b))[_0x34cbaf(0x2ec)]({'botID':botID})[_0x34cbaf(0x2be)]();_0x260033={..._0x260033,'apiKey':crypt[_0x34cbaf(0x24b)](secure[_0x34cbaf(0x1a4)],_0x260033[_0x34cbaf(0x185)])[_0x34cbaf(0x2b1)],'apiSecret':crypt[_0x34cbaf(0x24b)](secure[_0x34cbaf(0x1a4)],_0x260033[_0x34cbaf(0x2e1)])['message']};_0x260033['apiPassword']&&(_0x260033[_0x34cbaf(0x293)]=crypt[_0x34cbaf(0x24b)](secure[_0x34cbaf(0x1a4)],_0x260033[_0x34cbaf(0x293)])[_0x34cbaf(0x2b1)]);let _0x5b6137=![];if(_0x440c43){_0x260033[_0x34cbaf(0x185)]=='************'?_0x260033['apiKey']=config['apiKey']:_0x5b6137=!![];_0x260033[_0x34cbaf(0x2e1)]==_0x34cbaf(0x1f0)?_0x260033[_0x34cbaf(0x2e1)]=config[_0x34cbaf(0x2e1)]:_0x5b6137=!![];if(_0x260033['apiPassword']==_0x34cbaf(0x1f0))_0x260033[_0x34cbaf(0x293)]=config[_0x34cbaf(0x293)];else{if(_0x260033[_0x34cbaf(0x293)])_0x5b6137=!![];}dbConfig['get']('bot')[_0x34cbaf(0x2ec)]({'botID':botID})['assign'](_0x260033)[_0x34cbaf(0x196)]();}else dbConfig[_0x34cbaf(0x235)](_0x34cbaf(0x26b))['push'](_0x260033)[_0x34cbaf(0x196)](),_0x5b6137=!![],process[_0x34cbaf(0x2eb)]({'status':_0x34cbaf(0x266),'live':_0x34cbaf(0x1e6)},_0x47e57c=>{});process['send']({'botname':_0x260033[_0x34cbaf(0x192)]},_0x3aa410=>{}),updateBotManager(),config={..._0x260033},proxyEmit(_0x34cbaf(0x207)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x5b6137)await reset(_0x43c355,!![]);else _0x520c84||_0x159be4?await reset(_0x43c355,![]):getBalances();blockTransactionDetection=![],logger[_0x34cbaf(0x1ed)](_0x34cbaf(0x2c9));}async function storeHeadless(_0xde20ed){const _0x524e95=_0x1485ec,_0x3f8850={...config,'headless':_0xde20ed[_0x524e95(0x305)]};let _0x22ea70=dbConfig[_0x524e95(0x235)](_0x524e95(0x26b))[_0x524e95(0x2ec)]({'botID':botID})['value']();_0x22ea70&&dbConfig[_0x524e95(0x235)](_0x524e95(0x26b))[_0x524e95(0x2ec)]({'botID':botID})[_0x524e95(0x186)](_0x3f8850)[_0x524e95(0x196)](),config={..._0x3f8850},updateBotManager(),proxyEmit(_0x524e95(0x247),emittedConfiguration());}async function storeFiat(_0x48a2a0){const _0xbcbbf=_0x1485ec,_0x3f1187={...config,'fiat':_0x48a2a0};let _0x4ea0e4=dbConfig[_0xbcbbf(0x235)](_0xbcbbf(0x26b))[_0xbcbbf(0x2ec)]({'botID':botID})['value']();_0x4ea0e4&&dbConfig[_0xbcbbf(0x235)](_0xbcbbf(0x26b))[_0xbcbbf(0x2ec)]({'botID':botID})['assign'](_0x3f1187)[_0xbcbbf(0x196)](),config={..._0x3f1187},proxyEmit(_0xbcbbf(0x247),emittedConfiguration());}function resetHistory(){const _0x539a4c=_0x1485ec;logger[_0x539a4c(0x1ab)](_0x539a4c(0x2b9));try{if(fs[_0x539a4c(0x212)](path[_0x539a4c(0x233)](configpath,_0x539a4c(0x2ff)+botID+_0x539a4c(0x258))))fs[_0x539a4c(0x198)](path[_0x539a4c(0x233)](configpath,_0x539a4c(0x2ff)+botID+'-events.json'));if(fs[_0x539a4c(0x212)](path[_0x539a4c(0x233)](configpath,_0x539a4c(0x2ff)+botID+'-performance.json')))fs[_0x539a4c(0x198)](path[_0x539a4c(0x233)](configpath,_0x539a4c(0x2ff)+botID+'-performance.json'));if(fs['existsSync'](path['join'](configpath,_0x539a4c(0x2ff)+botID+'-results.json')))fs['unlinkSync'](path[_0x539a4c(0x233)](configpath,_0x539a4c(0x2ff)+botID+_0x539a4c(0x28d)));}catch(_0x10d0af){if(_0x10d0af)logger[_0x539a4c(0x1ab)]('Error\x20while\x20deleting\x20files:\x20',_0x10d0af);}const _0x28373e=getDate();let _0x5a2d92=[];currentCoins[_0x539a4c(0x1dd)](_0x1ac7fa=>{const _0xa2be5a=_0x539a4c;_0x5a2d92['push']({'coin':_0x1ac7fa['coin'],'number':_0x1ac7fa[_0xa2be5a(0x2b0)],'price':_0x1ac7fa[_0xa2be5a(0x2db)]});});let _0x12fc53=dbConfig[_0x539a4c(0x235)](_0x539a4c(0x26b))[_0x539a4c(0x2ec)]({'botID':botID})[_0x539a4c(0x2be)]();_0x12fc53&&(dbConfig[_0x539a4c(0x235)]('bot')['find']({'botID':botID})[_0x539a4c(0x186)]({'liquidity':[{'date':_0x28373e,'changes':_0x5a2d92}]})[_0x539a4c(0x196)](),config[_0x539a4c(0x189)]=[]),process['send']({'stop':'restart'},_0x33dd4a=>{});}function _0xd709(){const _0x575b25=['\x20value','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','./logs/','759378GVGCGB','getTime','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','recent20','0\x20-\x20EXECUTION:\x20','Manual\x20balancing\x20required','forEach','buys','net-fiat','realized',',\x20must\x20be\x20a\x203\x20digit\x20number','ExchangeNotAvailable','Cooldown\x20ended\x20-\x20balancing\x20resumed','differenceInSeconds','cancelLoading','running','hybrid-crypto-js','RateLimitExceeded','\x20change','createWriteStream','side','settings','debug','breakeven','2.3.5','************','-------------------------------\x0a','loadSymbols()','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','toggleBotMode','amount','restart','buy','ongoing','Uncaught\x20ExchangeError:','ORDERS.UNLOCKED','loadMarkets','sendPortfolioTelegram','amountToPrecision','2\x20-\x20FILLED\x20known\x20order:\x20','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','fee','basecoin','</pre>','AuthenticationError','./config/','./version.json','fromCodePoint','configuration-stored','bb-secure.json','error','Unknown\x20error\x20occured','fetchTickers','cloneDeep','USDT','none','orderId','showConfig','coin','existsSync','\x20network\x20error','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','RSA-OAEP','Initiating\x20exchange\x20reload','openOrders','storeHeadless','length','getMinutes','160940nTYAPv','getFullYear','cancelOrder','-config.json','ordertype','coin-loading-progress','freeze','2\x20-\x20Handled\x20open\x20orders','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','secure','timestamp','placeOrder','sells','replace','parse','no\x20open\x20orders','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20|\x20highest\x20fee:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','ETH','emojisell','additional\x20symbols\x20','Bot\x20','getStartingBalances','join','substring','get','leftTxt','getPortfolio(1)','\x20-\x20bot\x20not\x20started','/USD','sortBy','delta','ORDERS.LOCKED','event','sell','\x20|\x20exchange:\x20','Uncaught\x20Exception:','Crypt','random','filled','Exchange','startnumber','toString','configuration','price','Net\x20effect','average','decrypt','placeOrder()','argv','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Pausing\x20for\x20','util','sha256','entries','yyyy/MM/dd','final','\x20>\x20[DEBUG]\x20','recreate','order','-events.json','currency','/backup/','exchange\x20reloaded','path','No\x20more\x20open\x20orders\x20-\x20','page','Limit\x20(high-margin)','EUR','Executing\x20exchange\x20reload','percentage','\x20not\x20responding','-performance.json','BNB/','enabled','Net\x20','reverse','storeFiat','offset','bot','3\x20-\x20handling\x20FILLED\x20order:\x20','filter','set','getPortfolio(2)','shift','balancing\x20resumed','removed','Transaction\x20detection\x20blocked','closed','time','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','Invalid\x20API\x20key\x20or\x20secret\x20entered','remainingSymbols','cost','highest','\x20|\x20Custom\x20ID:\x20','customId','fetchBalance','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Fee\x20discount\x20refund\x20detected:\x20','13140GCuYjn','cooldown','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','OnMaintenance','recovery','isEqual','bots','Error:\x20Invalid\x20argument\x20','exec','open','exchange','add','-results.json','ticker','exchange\x20not\x20reloaded','getOpenOrders()','getDate','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','apiPassword','\x20:\x20','trade','min','OrderNotFound','max','\x20|\x20Error\x20details:\x20','BNB','1391598CuxScc','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Initializing\x20coin\x20results','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','ORDERS.UNLOCKING','map','findIndex','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','fetchTicker','1\x20-\x20FILLED:\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','001','balancing\x20resumes\x20when\x20cooldown\x20ends','date','\x20>\x20','Market','pro','<b>Bot\x20',':\x20Bot\x20','InsufficientFunds','number','message',':\x20timer\x20>','1\x20-\x20Validate\x20orders:\x20','abs','Reset\x20|\x20','Resetting\x20coin\x20results:\x20','concat','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','Resetting\x20bot\x20history','fiat','no\x20additional\x20symbols','starting-balances','startprice','value','lowdb','MIN_NOTIONAL','sort','remove','USD','password','event-history','fees','usd','padStart','Transaction\x20detection\x20unblocked','date-fns','2\x20-\x20Validate\x20orders:\x20','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','function','getCoins()','getHours','emojibuy','watchOrders','551760SOSCoo','keys','\x20hour','onepagemode','cancel','uncaughtException','red_yellow_blue','exchanges','loading-canceled','last','timeshift','NetworkError','getPortfolio(0)','spot','eur','apiSecret','timeout','startsWith','rightTxt','/EUR','progress','logs','success','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','canceled','send','find','type','12cKnoYC','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','data','DDoSProtection','\x20API\x20key\x20is\x20invalid','format','changes','\x20minutes\x20-\x20','indexOf','stringify','Order\x20filled:\x20','sendMetricsTelegram','\x20API\x20secret\x20is\x20invalid','padEnd','Invalid\x20quantity','<b>','net-basecoin','bot-','\x20exchange\x20error','netoffset','\x20metrics:</b>\x20\x0a\x0a','excluded','search','headless','2.6.0','1\x20-\x20Handle\x20open\x20orders','args','USDP','cancelOrders()','(((.+)+)+)+$','InvalidNonce','%\x20(','autoliquidity','getMonth','mkdirSync','change24h','coins','valid','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20|\x20','apiKey','assign','orderstatus','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','liquidity','.json','InvalidOrder','push','defaults','lowdb/adapters/FileSync','performance','\x20has\x20a\x2024h\x20drop\x20of\x20','2.5.0','botname','target','887033igwuaK','showname','write','LOCKED','unlinkSync','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','change','initial','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','toUpperCase','resetHistory','constructor','limit-high','/output-000.log','toLowerCase','split','privateKey','fetchOpenOrders','starting-balance-','watchTrades','apply','distribution','<pre>','full','16FcszPr','recreateCoinResults()','market','total','BTC','balances','has','portfolio','UNLOCKED','\x20minutes','startdate','Waited\x20','1\x20-\x20Unlock\x20orders','added','bid','includes','log','splice','RequestTimeout','basecoinvalue','createOrder','USDC','datetime','limit','limit-low','Binance','toFixed','681765YVByza','\x20closed\x20the\x20connection','symbol','must\x20be\x20greater\x20than\x20minimum\x20amount','Portfolio\x20change\x20detected:\x20','\x20portfolio:</b>\x20\x0a\x0a','threshold','yargs/yargs','version','limits','slice','colorscheme','round'];_0xd709=function(){return _0x575b25;};return _0xd709();}function noslash(_0x31977f){const _0x14272f=_0x1485ec;return _0x31977f[_0x14272f(0x228)]('/','');}function updateHighestFee(_0x1392dd){const _0x3da6bc=_0x1485ec;if(_0x1392dd['reverse']){let _0x4149d5={'filled':_0x1392dd['filled']*_0x1392dd[_0x3da6bc(0x248)],'amount':_0x1392dd[_0x3da6bc(0x243)]*_0x1392dd['price'],'side':_0x1392dd['side']==_0x3da6bc(0x23e)?_0x3da6bc(0x1f7):_0x3da6bc(0x23e),'price':0x1/_0x1392dd[_0x3da6bc(0x248)]};_0x1392dd={..._0x1392dd,..._0x4149d5};}const _0xff3f73=defaultFee*_0x1392dd[_0x3da6bc(0x243)]*_0x1392dd['price'];lastFees[_0x3da6bc(0x1da)]['length']===0x14&&lastFees[_0x3da6bc(0x1da)][_0x3da6bc(0x270)](),lastFees[_0x3da6bc(0x1da)][_0x3da6bc(0x18c)](_0xff3f73),lastFees[_0x3da6bc(0x27a)]=Math['max'](...lastFees[_0x3da6bc(0x1da)]);}async function updateNumberCoinsCcxt(_0x1097c0){const _0x1741e0=_0x1485ec;logger['debug'](_0x1741e0(0x1db)+_0x1097c0[_0x1741e0(0x1c9)]+_0x1741e0(0x315)+_0x1097c0['status']+_0x1741e0(0x315)+_0x1097c0['id']);let _0x17aab9=_0x1097c0['status'],_0x563d45=![];currentCoins['forEach'](_0x5bc8f6=>{const _0x2fa01=_0x1741e0;_0x5bc8f6[_0x2fa01(0x1c9)]==_0x1097c0[_0x2fa01(0x1c9)]&&(_0x563d45=!![]);});if(!_0x563d45)return;const _0x1fda6b=currentCoins[_0x1741e0(0x2ec)](_0x482ec0=>_0x482ec0['symbol']==_0x1097c0['symbol']),_0x48da50=_0x5c9cd1=>{if(_0x1fda6b)_0x1fda6b['orderstatus']=_0x5c9cd1;};if(_0x17aab9==_0x1741e0(0x28a))_0x48da50('open');else{if(_0x17aab9==_0x1741e0(0x2ea)){_0x48da50('canceled');const _0x3a86a4=await getCoins();[currentCoins,currentCoinsAll]=_0x3a86a4,await getOpenOrders(),handleOpenOrders();}else{if(_0x17aab9==_0x1741e0(0x274)){logger[_0x1741e0(0x1ed)](_0x1741e0(0x2a5)+_0x1097c0[_0x1741e0(0x1c9)]+'\x20|\x20'+_0x1097c0[_0x1741e0(0x243)]+_0x1741e0(0x315)+_0x1097c0['id']);let _0x52ded2=![];if(lastOrders)for(const _0x3eba60 of lastOrders){const _0x5b39f7=0xc8,_0x38ecf1=0x1388;let _0x5ec7b1=0x0;while(!_0x3eba60['orderId']&&_0x5ec7b1*_0x5b39f7<_0x38ecf1){_0x5ec7b1++,await sleep(_0x5b39f7);}if(_0x5ec7b1>0x0)logger[_0x1741e0(0x1ed)](_0x1741e0(0x1b7)+_0x5ec7b1*_0x5b39f7/0x3e8+_0x1741e0(0x276));if(_0x3eba60[_0x1741e0(0x20f)]==_0x1097c0['id']){logger[_0x1741e0(0x1ed)](_0x1741e0(0x1fe)+_0x1097c0['id']),_0x52ded2=!![];if(_0x3eba60[_0x1741e0(0x243)]==0x0){logger[_0x1741e0(0x1ed)](_0x1741e0(0x26c)+_0x1097c0['id']);if(_0x1097c0[_0x1741e0(0x24a)])_0x3eba60[_0x1741e0(0x248)]=_0x1097c0[_0x1741e0(0x24a)];else{if(_0x1097c0['price'])_0x3eba60[_0x1741e0(0x248)]=_0x1097c0[_0x1741e0(0x248)];else{}}_0x3eba60[_0x1741e0(0x243)]=_0x1097c0[_0x1741e0(0x243)],updateHighestFee(_0x3eba60),_0x48da50(_0x1741e0(0x243)),await validateOrders();if(lockOrders==ORDERS[_0x1741e0(0x197)]){const _0x5b265f=await getCoins();[currentCoins,currentCoinsAll]=_0x5b265f;}_0x3eba60[_0x1741e0(0x200)]={'currency':_0x1097c0[_0x1741e0(0x200)]?_0x1097c0[_0x1741e0(0x200)][_0x1741e0(0x259)]:null,'cost':_0x1097c0['fee']?_0x1097c0[_0x1741e0(0x200)][_0x1741e0(0x279)]:0x0},await updateCoinResults(_0x3eba60);}}}if(!_0x52ded2){logger[_0x1741e0(0x1ed)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x1097c0['id']),_0x48da50(_0x1741e0(0x243));const _0x3de0e3=await getCoins();[currentCoins,currentCoinsAll]=_0x3de0e3,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x13981c=JSON['parse'](lastBalances[_0x1741e0(0x1b3)]);const _0x309f7b=_0x13981c[_0x1741e0(0x2ec)](_0x2e2735=>_0x2e2735[_0x1741e0(0x1c9)]==_0x1097c0[_0x1741e0(0x1c9)]);if(_0x309f7b){if(_0x17aab9==_0x1741e0(0x28a))_0x309f7b[_0x1741e0(0x187)]=_0x309f7b[_0x1741e0(0x187)]==_0x1741e0(0x243)?_0x1741e0(0x243):_0x1741e0(0x28a);else{if(_0x17aab9=='canceled')_0x309f7b[_0x1741e0(0x187)]=_0x309f7b['orderstatus']==_0x1741e0(0x243)?_0x1741e0(0x243):_0x1741e0(0x2ea);else _0x17aab9==_0x1741e0(0x274)&&(_0x309f7b[_0x1741e0(0x187)]=_0x1741e0(0x243));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1741e0(0x2f7)](_0x13981c)},proxyEmit(_0x1741e0(0x1b1),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x22b080=_0x1485ec;await getOpenOrders();let _0x1472b4=![];currentCoins[_0x22b080(0x1dd)](_0x4df742=>{const _0x493c94=_0x22b080;_0x1472b4=allOpenOrders[_0x493c94(0x2ec)](_0x26a503=>_0x26a503[_0x493c94(0x1c9)]==_0x4df742[_0x493c94(0x1c9)]),_0x4df742[_0x493c94(0x187)]=_0x1472b4?_0x493c94(0x28a):_0x493c94(0x20e);});}async function getCoins(_0x194e0f=!![],_0x3e5a21=config[_0x1485ec(0x201)]){const _0xd9ec78=_0x1485ec;let _0x2f27ff,_0x531217=[],_0x236b71=[],_0x1d373e=[],_0x2ca11f=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x2f27ff=await exchange[_0xd9ec78(0x27d)](),mybalances=_0x2f27ff[_0xd9ec78(0x1af)];for(const [_0x2e5793,_0x65ccec]of Object[_0xd9ec78(0x252)](mybalances)){_0x2ca11f[_0xd9ec78(0x18c)](_0x2e5793);}if(_0x3e5a21=='')for(const [_0x4ba7b9,_0x1678f7]of Object['entries'](mybalances)){_0x1678f7!=0x0&&_0x236b71[_0xd9ec78(0x18c)]({'coin':_0x4ba7b9});}else{let _0x4e047d=![];for(const [_0x13a09a,_0x421b1a]of Object[_0xd9ec78(0x252)](mybalances)){if(_0x2ca11f[_0xd9ec78(0x1bb)](_0x13a09a)){const _0x3140ae=config[_0xd9ec78(0x1b3)]['find'](_0x449fc7=>_0x449fc7[_0xd9ec78(0x211)]==_0x13a09a),_0x2767ed=_0x13a09a+'/'+_0x3e5a21,_0x5063b3=_0x3e5a21+'/'+_0x13a09a,_0x5031b2=currentCoins[_0xd9ec78(0x2ec)](_0x1c438b=>_0x1c438b[_0xd9ec78(0x211)]==_0x13a09a);_0x4e047d=![];if((_0x421b1a!=0x0||_0x3140ae)&&(allSymbols['includes'](_0x2767ed)||_0x13a09a==_0x3e5a21))_0x13a09a!=_0x3e5a21&&_0x531217[_0xd9ec78(0x18c)](_0x2767ed),_0x236b71[_0xd9ec78(0x18c)]({'coin':_0x13a09a,'symbol':_0x2767ed,'reverse':![],'number':Math[_0xd9ec78(0x298)](_0x421b1a+(_0x3140ae&&_0x3140ae[_0xd9ec78(0x26a)]||0x0),0x0),'orderstatus':_0x5031b2?_0x5031b2[_0xd9ec78(0x187)]:_0xd9ec78(0x20e)});else(_0x421b1a!=0x0||_0x3140ae)&&allSymbols[_0xd9ec78(0x1bb)](_0x5063b3)&&(_0x13a09a!=_0x3e5a21&&_0x531217[_0xd9ec78(0x18c)](_0x5063b3),_0x236b71[_0xd9ec78(0x18c)]({'coin':_0x13a09a,'symbol':_0x5063b3,'reverse':!![],'number':Math[_0xd9ec78(0x298)](_0x421b1a+(_0x3140ae&&_0x3140ae[_0xd9ec78(0x26a)]||0x0),0x0),'orderstatus':_0x5031b2?_0x5031b2[_0xd9ec78(0x187)]:'none'}));}}}}catch(_0x452045){if(!_0x194e0f)handleErrorNoStop(_0x452045,'getCoins()');else await handleError(_0x452045,_0xd9ec78(0x2ce));}return _0x1d373e=cloneDeep(_0x236b71),_0x236b71=_0x236b71[_0xd9ec78(0x26d)](_0x5889fa=>{const _0x4d8cd6=_0xd9ec78,_0x4df196=config['portfolio'][_0x4d8cd6(0x2ec)](_0x50c7e2=>_0x50c7e2[_0x4d8cd6(0x211)]==_0x5889fa['coin']);return _0x4df196&&!_0x4df196['excluded'];}),[_0x236b71,_0x1d373e];}async function getCoinNumber(_0xceb291){const _0x1a8d37=_0x1485ec;let _0x2a21b;try{const _0x5ce8a4=await exchange[_0x1a8d37(0x27d)]();_0x2a21b=_0x5ce8a4[_0x1a8d37(0x1af)][_0xceb291];}catch(_0x32a5d0){await handleError(_0x32a5d0,'getCoinNumber()');}return _0x2a21b;}async function getOpenOrders(){const _0x26ac15=_0x1485ec;let _0x4d5f07;allOpenOrders=[];try{for(const _0x148178 of config['portfolio']){!_0x148178['excluded']&&_0x148178[_0x26ac15(0x211)]!=config[_0x26ac15(0x201)]&&(_0x4d5f07=await exchange[_0x26ac15(0x1a5)](_0x148178[_0x26ac15(0x1c9)]),_0x4d5f07[_0x26ac15(0x219)]>0x0&&allOpenOrders[_0x26ac15(0x18c)](_0x4d5f07[0x0]));}}catch(_0x3e1073){await handleError(_0x3e1073,_0x26ac15(0x290));}}async function handleOpenOrders(_0x15afdc=0x0){const _0x240aed=_0x1485ec;allOpenOrders[_0x240aed(0x219)]==0x0&&lockOrders==ORDERS[_0x240aed(0x197)]&&allOrdersPlaced&&(_0x15afdc==0x0?(logger['debug'](_0x240aed(0x307)),_0x15afdc++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x240aed(0x1ed)](_0x240aed(0x222)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x32f6d3){const _0x4906bc=_0x1485ec,_0x362edc=ccxt['pro'][_0x32f6d3[_0x4906bc(0x28b)][_0x4906bc(0x1a2)]()],_0x4a5515=new _0x362edc({'apiKey':_0x32f6d3[_0x4906bc(0x185)],'secret':_0x32f6d3['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x4906bc(0x2df)}});if(_0x32f6d3[_0x4906bc(0x293)])_0x4a5515[_0x4906bc(0x2c4)]=_0x32f6d3[_0x4906bc(0x293)];try{await _0x4a5515['loadMarkets']();}catch(_0x57cd24){throw _0x57cd24;}}function cloneDeep(_0x1239b4){const _0xd56924=_0x1485ec;return JSON[_0xd56924(0x229)](JSON[_0xd56924(0x2f7)](_0x1239b4));}async function getPortfolio(_0x17f591){const _0x595976=_0x1485ec;let _0x10088f=[],_0x43feff=[],_0x325be9=[],_0x20d096;if(_0x17f591[_0x595976(0x185)]!==_0x595976(0x1f0)||_0x17f591[_0x595976(0x2e1)]!==_0x595976(0x1f0)||_0x17f591[_0x595976(0x293)]&&_0x17f591['apiPassword']!==_0x595976(0x1f0)){if(config['exchange']){if(_0x17f591[_0x595976(0x185)]==_0x595976(0x1f0))_0x17f591['apiKey']=config['apiKey'];if(_0x17f591[_0x595976(0x2e1)]==_0x595976(0x1f0))_0x17f591[_0x595976(0x2e1)]=config[_0x595976(0x2e1)];if(_0x17f591[_0x595976(0x293)]==_0x595976(0x1f0))_0x17f591['apiPassword']=config['apiPassword'];try{await testAPI(_0x17f591);}catch(_0x5edf8a){if(_0x5edf8a[_0x595976(0x246)]()['includes'](_0x595976(0x203))){logger[_0x595976(0x1ed)](_0x595976(0x277)),proxyEmit(_0x595976(0x1b3),![]);return;}else{handleError(_0x5edf8a,_0x595976(0x2de));return;}}}await initExchange(_0x17f591[_0x595976(0x28b)],_0x17f591['apiKey'],_0x17f591[_0x595976(0x2e1)],_0x17f591[_0x595976(0x293)]);try{await loadSymbols(_0x17f591['exchange'],!![]);}catch(_0x513276){if(_0x513276['toString']()[_0x595976(0x1bb)](_0x595976(0x203))){proxyEmit('portfolio',![]);return;}else{handleError(_0x513276,_0x595976(0x237));return;}}const _0x3bf2e9=await getCoins(![],_0x17f591[_0x595976(0x201)]);_0x325be9=cloneDeep(_0x3bf2e9[0x1]);}else _0x325be9=cloneDeep(currentCoinsAll);if(_0x17f591[_0x595976(0x201)]=='')proxyEmit(_0x595976(0x1b3),_0x325be9);else{_0x325be9[_0x595976(0x1dd)](_0x556bed=>{const _0x53a21a=_0x595976;if(_0x556bed['coin']!=_0x17f591[_0x53a21a(0x201)])_0x10088f[_0x53a21a(0x18c)](_0x556bed['symbol']);});try{_0x43feff=await exchange[_0x595976(0x20b)](_0x10088f);}catch(_0x4d94ab){if(_0x4d94ab[_0x595976(0x246)]()['includes'](_0x595976(0x203))){proxyEmit(_0x595976(0x1b3),![]);return;}else{handleError(_0x4d94ab,_0x595976(0x26f));return;}}_0x325be9[_0x595976(0x1dd)](_0x2e8325=>{const _0x14f453=_0x595976;_0x2e8325[_0x14f453(0x211)]!=_0x17f591[_0x14f453(0x201)]?_0x20d096=_0x2e8325[_0x14f453(0x268)]?0x1/_0x43feff[_0x2e8325[_0x14f453(0x1c9)]][_0x14f453(0x2db)]:_0x43feff[_0x2e8325[_0x14f453(0x1c9)]][_0x14f453(0x2db)]:_0x20d096=0x1,_0x2e8325['price']=formatResult(_0x20d096,0x8);}),proxyEmit(_0x595976(0x1b3),_0x325be9);}}function truncateTradeAmount(_0x23adae,_0x436b20){const _0x566e41=_0x1485ec;let _0xe8f06e=0x0;try{_0xe8f06e=exchange[_0x566e41(0x1fd)](_0x23adae,_0x436b20);}catch(_0x39bf92){}return _0xe8f06e;}function checkMinimums(_0x3d3b75){const _0x5b3690=_0x1485ec;let _0x3db067=!![];const _0x29ee80=!_0x3d3b75[_0x5b3690(0x268)]?markets[_0x3d3b75[_0x5b3690(0x1c9)]][_0x5b3690(0x1d0)]['amount']['min']:markets[_0x3d3b75[_0x5b3690(0x1c9)]][_0x5b3690(0x1d0)][_0x5b3690(0x279)]['min'],_0x5eb4f4=!_0x3d3b75[_0x5b3690(0x268)]?markets[_0x3d3b75[_0x5b3690(0x1c9)]][_0x5b3690(0x1d0)][_0x5b3690(0x279)][_0x5b3690(0x296)]:markets[_0x3d3b75[_0x5b3690(0x1c9)]]['limits'][_0x5b3690(0x1f5)][_0x5b3690(0x296)],_0x56e147=truncateTradeAmount(_0x3d3b75[_0x5b3690(0x1c9)],_0x3d3b75['trade']);_0x3d3b75['trade']=_0x56e147;if(Math[_0x5b3690(0x2b4)](_0x56e147)<_0x29ee80)_0x3db067=![];if(Math[_0x5b3690(0x2b4)](_0x56e147)*_0x3d3b75[_0x5b3690(0x2db)]<_0x5eb4f4)_0x3db067=![];if(_0x3d3b75[_0x5b3690(0x1eb)]==_0x5b3690(0x23e)){let _0x5bc7d6=config[_0x5b3690(0x1b3)][_0x5b3690(0x2ec)](_0x7e2cdd=>_0x7e2cdd[_0x5b3690(0x211)]==_0x3d3b75[_0x5b3690(0x211)]);if(_0x5bc7d6[_0x5b3690(0x26a)]>0x0){if(Math[_0x5b3690(0x2b4)](_0x56e147)>_0x3d3b75[_0x5b3690(0x2b0)]-_0x5bc7d6['offset'])_0x3db067=![];}else{if(Math['abs'](_0x56e147)>_0x3d3b75[_0x5b3690(0x2b0)])_0x3db067=![];}}if(_0x3d3b75[_0x5b3690(0x1eb)]=='buy'){let _0x1d193a=config[_0x5b3690(0x1b3)]['find'](_0x3c53a4=>_0x3c53a4[_0x5b3690(0x211)]==config['basecoin']),_0x4fd883=currentCoins[_0x5b3690(0x2ec)](_0x535539=>_0x535539[_0x5b3690(0x211)]==config[_0x5b3690(0x201)]);if(_0x1d193a[_0x5b3690(0x26a)]>0x0){if(Math[_0x5b3690(0x2b4)](_0x56e147)*_0x3d3b75[_0x5b3690(0x2db)]>_0x4fd883['number']-_0x1d193a[_0x5b3690(0x26a)])_0x3db067=![];}else{if(Math[_0x5b3690(0x2b4)](_0x56e147)*_0x3d3b75[_0x5b3690(0x2db)]>_0x4fd883[_0x5b3690(0x2b0)])_0x3db067=![];}}return _0x3db067;}async function getBalances(_0x5ee570=!![]){const _0x281c5f=_0x1485ec;let _0x2b0233=0x0,_0x476a1b;const _0x166e26=config[_0x281c5f(0x1cd)];if(config[_0x281c5f(0x305)]&&config[_0x281c5f(0x311)]<0x0)await validate24hChanges();currentCoins[_0x281c5f(0x1dd)](_0xa8d1b3=>{const _0x5bc8fa=_0x281c5f;if(_0xa8d1b3['coin']!=config['basecoin']){let _0x1c039d=global[_0x5bc8fa(0x28e)][noslash(_0xa8d1b3[_0x5bc8fa(0x1c9)])];_0x476a1b=_0xa8d1b3[_0x5bc8fa(0x268)]?0x1/_0x1c039d:_0x1c039d;}else _0x476a1b=0x1;let _0x3c3aa9=_0xa8d1b3[_0x5bc8fa(0x2b0)]*_0x476a1b;_0x2b0233+=_0x3c3aa9,_0xa8d1b3[_0x5bc8fa(0x2db)]=formatResult(Number(_0x476a1b),0x8),_0xa8d1b3[_0x5bc8fa(0x2be)]=_0x3c3aa9;}),currentCoins[_0x281c5f(0x1dd)](_0x515036=>{const _0x553034=_0x281c5f;let _0x1a65fa=config[_0x553034(0x1b3)][_0x553034(0x2ec)](_0x37edfe=>_0x37edfe[_0x553034(0x211)]==_0x515036[_0x553034(0x211)]),_0x16cc19=Number(_0x1a65fa[_0x553034(0x1a9)]),_0x13dce6=_0x515036['value']/_0x2b0233*0x64,_0x30f114=_0x16cc19*_0x2b0233/0x64/_0x515036[_0x553034(0x2db)]-_0x515036[_0x553034(0x2b0)];_0x515036[_0x553034(0x1a9)]=formatResult(_0x13dce6,0x3),_0x515036[_0x553034(0x193)]=formatResult(_0x16cc19,0x3),_0x515036[_0x553034(0x295)]=formatResult(_0x30f114,0x8),_0x515036[_0x553034(0x1eb)]='',_0x515036['valid']=![];if(_0x515036[_0x553034(0x211)]!=config[_0x553034(0x201)]){if(_0x515036['distribution']>_0x16cc19)_0x515036[_0x553034(0x1eb)]=_0x553034(0x23e),_0x515036['valid']=checkMinimums(_0x515036);else _0x515036[_0x553034(0x1a9)]<_0x16cc19&&(_0x515036['side']=_0x553034(0x1f7),_0x515036['valid']=checkMinimums(_0x515036));}_0x515036[_0x553034(0x23b)]=_0x515036[_0x553034(0x1a9)]/_0x515036[_0x553034(0x193)]-0x1;if(_0x515036[_0x553034(0x187)]=='filled'||_0x515036['orderstatus']==_0x553034(0x2ea))_0x515036[_0x553034(0x187)]=_0x553034(0x20e);}),currentCoins[_0x281c5f(0x2c1)]((_0xc455cc,_0x34cb35)=>_0xc455cc[_0x281c5f(0x23b)]<_0x34cb35[_0x281c5f(0x23b)]?0x1:_0x34cb35['delta']<_0xc455cc['delta']?-0x1:0x0);const _0x44f424=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x44f424[_0x281c5f(0x2e0)],'usd':_0x44f424[_0x281c5f(0x2c7)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x166e26},proxyEmit(_0x281c5f(0x1b1),{'serverversion':serverversion,'balances':lastBalances});if(_0x5ee570){if(config[_0x281c5f(0x305)])headlessMode({'portfolio':currentCoins,'threshold':_0x166e26});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x166e26});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x3d205e=getNormalizedPerformance();getStartingBalances(_0x3d205e),emitPerformance(_0x3d205e);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x3a9ccc=getNormalizedPerformance();emitPerformance(_0x3a9ccc),getStartingBalances(_0x3a9ccc),logger[_0x281c5f(0x1ed)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x17decf=_0x1485ec;if(!lastBalances)return;let _0x122057=[],_0x419360,_0x22f9df=JSON[_0x17decf(0x229)](lastBalances[_0x17decf(0x1b3)]);_0x22f9df[_0x17decf(0x2c1)]((_0x2c2fb2,_0x279ad4)=>_0x2c2fb2[_0x17decf(0x211)]>_0x279ad4[_0x17decf(0x211)]?0x1:_0x279ad4[_0x17decf(0x211)]>_0x2c2fb2[_0x17decf(0x211)]?-0x1:0x0),_0x22f9df['forEach'](_0xa9a141=>{const _0x1720a5=_0x17decf;let _0x193200={'coin':_0xa9a141[_0x1720a5(0x211)],'number':_0xa9a141[_0x1720a5(0x2b0)],'price':_0xa9a141[_0x1720a5(0x2db)]};_0x122057['push'](_0x193200);});const _0xbe2f12=await getFiat();_0x419360={'date':lastBalances[_0x17decf(0x275)][_0x17decf(0x1a3)]('\x20')[0x0],'eur':_0xbe2f12['eur'],'usd':_0xbe2f12['usd'],'coins':_0x122057};let _0x28797a=dbPerformance['get'](_0x17decf(0x2f0))['find']({'date':_0x419360['date']})['value']();_0x28797a?_0x419360[_0x17decf(0x2a9)]!=config[_0x17decf(0x1b6)]&&dbPerformance[_0x17decf(0x235)](_0x17decf(0x2f0))[_0x17decf(0x2ec)]({'date':_0x419360[_0x17decf(0x2a9)]})['assign'](_0x419360)[_0x17decf(0x196)]():dbPerformance['get']('data')[_0x17decf(0x18c)](_0x419360)[_0x17decf(0x196)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x565697=_0x1485ec;let _0x1e40fa=[];if(dbPerformance[_0x565697(0x1b2)](_0x565697(0x2f0))[_0x565697(0x2be)]()){let _0x20488c=dbPerformance[_0x565697(0x235)](_0x565697(0x2f0))[_0x565697(0x20c)]()[_0x565697(0x26d)](_0x394f46=>{const _0x3c6528=_0x565697;if(_0x394f46[_0x3c6528(0x312)][_0x3c6528(0x219)]==0x0)return![];else return!![];})[_0x565697(0x23a)](_0x565697(0x2a9))['value'](),_0x83528d=[...config['liquidity']];_0x83528d['sort']((_0x5c2f5e,_0x1c102a)=>_0x5c2f5e[_0x565697(0x2a9)]>_0x1c102a[_0x565697(0x2a9)]?-0x1:_0x1c102a[_0x565697(0x2a9)]>_0x5c2f5e[_0x565697(0x2a9)]?0x1:0x0);let _0x24ee1b=0x1,_0x1581ad=[],_0x273ba4=0x0;_0x20488c[_0x565697(0x1d1)]()[_0x565697(0x268)]()[_0x565697(0x1dd)]((_0x34aa57,_0x3e5671)=>{const _0x3164c1=_0x565697;if(_0x83528d[_0x273ba4]){if(_0x20488c[_0x20488c[_0x3164c1(0x219)]-_0x3e5671]&&_0x83528d[_0x273ba4][_0x3164c1(0x2a9)]==_0x20488c[_0x20488c[_0x3164c1(0x219)]-_0x3e5671][_0x3164c1(0x2a9)]){if(_0x3e5671<_0x20488c[_0x3164c1(0x219)]){let _0x36e7db=0x0,_0x305e19=0x0;_0x20488c[_0x20488c[_0x3164c1(0x219)]-_0x3e5671]['coins']['forEach'](_0x29dbf7=>{const _0x3f8a7c=_0x3164c1;_0x305e19+=_0x29dbf7[_0x3f8a7c(0x2b0)]*_0x29dbf7['price'];}),_0x83528d[_0x273ba4]['changes'][_0x3164c1(0x1dd)](_0x151bfe=>{const _0xa9c6ab=_0x3164c1;_0x36e7db+=_0x151bfe[_0xa9c6ab(0x2b0)]*_0x151bfe[_0xa9c6ab(0x248)];}),_0x24ee1b*=_0x36e7db/(_0x305e19-_0x36e7db)+0x1;}_0x273ba4++;}}let _0x4da467=0x0;_0x34aa57['coins'][_0x3164c1(0x1dd)](_0x30c285=>{const _0x5c769e=_0x3164c1;_0x4da467+=_0x30c285['number']*_0x30c285[_0x5c769e(0x248)];}),_0x1581ad[_0x20488c[_0x3164c1(0x219)]-_0x3e5671-0x1]=_0x4da467*(_0x24ee1b-0x1);});let _0x346976=[];_0x83528d=[...config[_0x565697(0x189)]]||[];let _0x1e5c63=0x0;_0x273ba4=0x0,_0x20488c['forEach']((_0x195fd2,_0x39eb6d)=>{const _0x31359c=_0x565697;if(_0x83528d[_0x273ba4]){const _0x38680a=fns[_0x31359c(0x229)](_0x83528d[_0x273ba4]['date'],_0x31359c(0x253),new Date()),_0x37e318=fns[_0x31359c(0x229)](_0x195fd2[_0x31359c(0x2a9)],_0x31359c(0x253),new Date());if(fns[_0x31359c(0x286)](_0x38680a,_0x37e318)){let _0xf58e68=0x0;_0x83528d[_0x273ba4][_0x31359c(0x2f4)][_0x31359c(0x1dd)](_0x1dfdd9=>{const _0x117011=_0x31359c;!_0x346976[_0x1dfdd9['coin']]?_0x346976[_0x1dfdd9[_0x117011(0x211)]]=_0x1dfdd9[_0x117011(0x2b0)]:(_0xf58e68=_0x346976[_0x1dfdd9[_0x117011(0x211)]],_0x346976[_0x1dfdd9[_0x117011(0x211)]]+=_0x1dfdd9[_0x117011(0x2b0)]);const _0x549bbf=_0x195fd2[_0x117011(0x312)]['find'](_0x17c13f=>_0x17c13f[_0x117011(0x211)]==_0x1dfdd9[_0x117011(0x211)]);(!_0x549bbf||_0x549bbf[_0x117011(0x2b0)]==0x0)&&(_0x1e5c63+=(-_0x1dfdd9[_0x117011(0x2b0)]-_0xf58e68)*_0x1dfdd9[_0x117011(0x248)]);}),_0x273ba4++;}}_0x195fd2[_0x31359c(0x312)]['forEach']((_0x16e34e,_0x2ea5dd)=>{const _0x403e27=_0x31359c;_0x346976[_0x16e34e[_0x403e27(0x211)]]&&(_0x16e34e[_0x403e27(0x19b)]=_0x346976[_0x16e34e[_0x403e27(0x211)]]);}),_0x1e40fa[_0x31359c(0x18c)]({'date':_0x195fd2[_0x31359c(0x2a9)],'eur':_0x195fd2[_0x31359c(0x2e0)],'usd':_0x195fd2['usd'],'offset':_0x1581ad[_0x39eb6d],'netoffset':_0x1e5c63,'coins':_0x195fd2[_0x31359c(0x312)]});});}return _0x1e40fa;}function emitPerformance(_0x4dd53c){const _0x459cb6=_0x1485ec;_0x4dd53c[_0x459cb6(0x219)]!==0x0?(proxyEmit(_0x459cb6(0x18f),_0x4dd53c),lastPerformanceEmitted=getDate()):proxyEmit(_0x459cb6(0x18f),[]);}function getPerf(_0x32a165,_0x2e9197){const _0x305c48=_0x1485ec;let _0x24f3cd=0x0,_0x35869c=0x0,_0x33d9ce=0x0;_0x32a165['coins'][_0x305c48(0x1dd)](_0x4e76a1=>{const _0xfad8ee=_0x305c48;_0x24f3cd+=_0x4e76a1[_0xfad8ee(0x2b0)]*_0x4e76a1[_0xfad8ee(0x248)];});_0x2e9197&&(_0x24f3cd+=_0x32a165[_0x305c48(0x26a)]);if(config[_0x305c48(0x201)]===_0x305c48(0x1b0)||config[_0x305c48(0x201)]===_0x305c48(0x22e))_0x35869c=_0x24f3cd*_0x32a165[_0x305c48(0x2e0)],_0x33d9ce=_0x24f3cd*_0x32a165[_0x305c48(0x2c7)];else{if(usdBasecoins[_0x305c48(0x1bb)](config['basecoin']))_0x35869c=_0x24f3cd*_0x32a165['eur']/_0x32a165[_0x305c48(0x2c7)],_0x33d9ce=_0x24f3cd;else config[_0x305c48(0x201)]===_0x305c48(0x260)&&(_0x35869c=_0x24f3cd,_0x33d9ce=_0x24f3cd*_0x32a165[_0x305c48(0x2c7)]/_0x32a165['eur']);}return[_0x24f3cd,_0x35869c,_0x33d9ce];}function getKPIs(_0x5542a5,_0x324e80=_0x1485ec(0x260)){const _0x8d96aa=_0x1485ec,_0x168a44=config[_0x8d96aa(0x201)],_0x167c32=lastBalances,_0x1dbc4b=currentCoins,_0x1865eb=getNormalizedPerformance(),_0x3d978a=_0x5542a5===_0x8d96aa(0x201)?_0x168a44:_0x5542a5==='fiat'||_0x5542a5===_0x8d96aa(0x1df)?_0x324e80:_0x8d96aa(0x267)+_0x168a44,_0x59c3c0=_0x5542a5===_0x8d96aa(0x2fe)?'Net\x20effect':_0x5542a5===_0x8d96aa(0x1df)?_0x8d96aa(0x249):_0x3d978a+_0x8d96aa(0x1d4),_0x2690f8=_0x5542a5===_0x8d96aa(0x2fe)||_0x5542a5===_0x8d96aa(0x1df)?_0x8d96aa(0x249):_0x3d978a+_0x8d96aa(0x1e9);let _0x2b274e=0x0;_0x1dbc4b[_0x8d96aa(0x1dd)](_0x5f2727=>{const _0x767023=_0x8d96aa;_0x2b274e+=_0x5f2727[_0x767023(0x2b0)]*_0x5f2727[_0x767023(0x2db)];});if(_0x5542a5===_0x8d96aa(0x2ba)||_0x5542a5===_0x8d96aa(0x1df)){if(_0x168a44==='BTC'||_0x168a44===_0x8d96aa(0x22e))_0x2b274e=_0x2b274e*(_0x324e80===_0x8d96aa(0x260)?_0x167c32[_0x8d96aa(0x2e0)]:_0x167c32[_0x8d96aa(0x2c7)]);else{if(usdBasecoins[_0x8d96aa(0x1bb)](_0x168a44))_0x2b274e=_0x2b274e*(_0x324e80===_0x8d96aa(0x260)?_0x167c32[_0x8d96aa(0x2e0)]/_0x167c32['usd']:0x1);else _0x168a44==='EUR'&&(_0x2b274e=_0x2b274e*(_0x324e80===_0x8d96aa(0x260)?0x1:_0x167c32[_0x8d96aa(0x2c7)]/_0x167c32['eur']));}}let _0xf88b76;if(_0x2b274e!==0x0){if(_0x5542a5===_0x8d96aa(0x201))_0xf88b76=(_0x2b274e/startingBalances['basecoin']-0x1)*0x64;else{if(_0x324e80===_0x8d96aa(0x260))_0xf88b76=(_0x2b274e/startingBalances[_0x8d96aa(0x2e0)]-0x1)*0x64;else _0xf88b76=(_0x2b274e/startingBalances[_0x8d96aa(0x2c7)]-0x1)*0x64;}let _0x1fc127=0x0;if(startingBalances[_0x8d96aa(0x312)])_0x1dbc4b[_0x8d96aa(0x1dd)](_0x4fe7b8=>{const _0x6b0f37=_0x8d96aa;let _0x453bdd=startingBalances[_0x6b0f37(0x312)]['find'](_0x149cb2=>_0x149cb2['coin']===_0x4fe7b8[_0x6b0f37(0x211)]);if(_0x453bdd&&_0x453bdd[_0x6b0f37(0x211)]&&_0x4fe7b8[_0x6b0f37(0x2b0)]!==0x0)_0x1fc127+=_0x453bdd[_0x6b0f37(0x2b0)]*_0x4fe7b8[_0x6b0f37(0x2db)];});let _0x406664=0x0;if(_0x1865eb[_0x8d96aa(0x219)]!==0x0){let _0x5e4760=_0x1865eb[_0x1865eb[_0x8d96aa(0x219)]-0x1];_0x406664=_0x5e4760[_0x8d96aa(0x301)];}_0x1fc127-=_0x406664;_0x5542a5===_0x8d96aa(0x2fe)&&(_0xf88b76=(_0x2b274e-_0x1fc127)/startingBalances[_0x8d96aa(0x201)]*0x64,_0x2b274e=_0x2b274e-_0x1fc127);if(_0x5542a5===_0x8d96aa(0x1df)){let _0x54130e=_0x324e80===_0x8d96aa(0x260)?startingBalances[_0x8d96aa(0x2e0)]:startingBalances[_0x8d96aa(0x2c7)];if(_0x168a44===_0x8d96aa(0x1b0)||_0x168a44===_0x8d96aa(0x22e))_0x1fc127=_0x324e80==='EUR'?_0x1fc127*_0x167c32[_0x8d96aa(0x2e0)]:_0x1fc127*_0x167c32[_0x8d96aa(0x2c7)];else{if(usdBasecoins[_0x8d96aa(0x1bb)](_0x168a44))_0x1fc127=_0x324e80===_0x8d96aa(0x260)?_0x1fc127*_0x167c32['eur']/_0x167c32[_0x8d96aa(0x2c7)]:_0x1fc127;else _0x168a44===_0x8d96aa(0x260)&&(_0x1fc127=_0x324e80===_0x8d96aa(0x260)?_0x1fc127:_0x1fc127*_0x167c32[_0x8d96aa(0x2c7)]/_0x167c32[_0x8d96aa(0x2e0)]);}_0xf88b76=(_0x2b274e-_0x1fc127)/_0x54130e*0x64,_0x2b274e=_0x2b274e-_0x1fc127;}if(_0xf88b76){if(_0xf88b76<0x64)_0xf88b76=_0xf88b76[_0x8d96aa(0x1c6)](0x2);else{if(_0xf88b76<0x3e8)_0xf88b76=_0xf88b76['toFixed'](0x1);else _0xf88b76=_0xf88b76[_0x8d96aa(0x1c6)](0x0);}}else _0xf88b76=Number('0')[_0x8d96aa(0x1c6)](0x2);if(_0x2b274e){if(Math[_0x8d96aa(0x2b4)](_0x2b274e)<0.000001)_0x2b274e=_0x2b274e[_0x8d96aa(0x1c6)](0x2);else{if(Math[_0x8d96aa(0x2b4)](_0x2b274e)<0.1)_0x2b274e=_0x2b274e[_0x8d96aa(0x1c6)](0x6);else{if(Math['abs'](_0x2b274e)<0x1)_0x2b274e=_0x2b274e['toFixed'](0x5);else{if(Math[_0x8d96aa(0x2b4)](_0x2b274e)<0xa)_0x2b274e=_0x2b274e[_0x8d96aa(0x1c6)](0x4);else{if(Math[_0x8d96aa(0x2b4)](_0x2b274e)<0x64)_0x2b274e=_0x2b274e[_0x8d96aa(0x1c6)](0x3);else{if(Math['abs'](_0x2b274e)<0x3e8)_0x2b274e=_0x2b274e[_0x8d96aa(0x1c6)](0x2);else _0x2b274e=_0x2b274e['toFixed'](0x2);}}}}}}else _0x2b274e=Number('0')[_0x8d96aa(0x1c6)](0x2);}else _0xf88b76=Number('0')[_0x8d96aa(0x1c6)](0x2);return{'value':_0x2b274e,'change':_0xf88b76,'leftTxt':_0x59c3c0,'rightTxt':_0x2690f8};}async function getStartingBalances(_0x4782da,_0x13536d=!![]){const _0x87bd16=_0x1485ec;if(_0x4782da[_0x87bd16(0x219)]!==0x0){const [_0x4a8327,_0x34a232,_0xb63cea]=getPerf(_0x4782da[0x0],!![]);let _0x3112f6=[];config[_0x87bd16(0x1b3)][_0x87bd16(0x1dd)](_0x10857d=>{const _0x383791=_0x87bd16;let _0x2efb3a=0x0,_0x59f4a0;config['liquidity'][_0x383791(0x1dd)](_0x2d4a90=>{const _0x53e033=_0x383791;let _0x1fdf00=_0x2d4a90['changes']['find'](_0x236d26=>_0x236d26[_0x53e033(0x211)]==_0x10857d['coin']);if(_0x1fdf00){_0x2efb3a+=_0x1fdf00['number'];if(!_0x59f4a0)_0x59f4a0=_0x1fdf00[_0x53e033(0x248)];}}),_0x3112f6[_0x383791(0x18c)]({'coin':_0x10857d[_0x383791(0x211)],'number':_0x2efb3a,'initialprice':_0x59f4a0});});const _0xde5c86={'basecoin':_0x4a8327,'eur':_0x34a232,'usd':_0xb63cea,'coins':_0x3112f6};if(_0x13536d)proxyEmit(_0x87bd16(0x2bc),_0xde5c86);startingBalances=_0xde5c86;}}function headlessMode(_0x3d2a2e){const _0x5bf1e9=_0x1485ec;let _0xea12d2=_0x3d2a2e['portfolio'],_0x193742=_0x3d2a2e[_0x5bf1e9(0x1cd)],_0x4f251f=[];for(let _0x16a3ef of _0xea12d2){if(_0x16a3ef[_0x5bf1e9(0x211)]!=config['basecoin']){if(_0x16a3ef[_0x5bf1e9(0x23b)]>=_0x193742/0x64){if(_0x16a3ef[_0x5bf1e9(0x313)])_0x4f251f['push'](_0x16a3ef);}else{if(_0x16a3ef[_0x5bf1e9(0x23b)]<=-_0x193742/0x64){if(_0x16a3ef[_0x5bf1e9(0x313)])_0x4f251f['push'](_0x16a3ef);}}}}_0x4f251f[_0x5bf1e9(0x219)]>0x0&&placeOrder(_0x4f251f);}function notifyBalance(_0x1c78e1){const _0x2b322e=_0x1485ec;let _0x416d3c=_0x1c78e1['portfolio'],_0x2b928f=_0x1c78e1[_0x2b322e(0x1cd)],_0x4751f3=[];for(let _0x3dbd31 of _0x416d3c){if(_0x3dbd31['coin']!=config[_0x2b322e(0x201)]){if(_0x3dbd31[_0x2b322e(0x23b)]>=_0x2b928f/0x64){if(_0x3dbd31[_0x2b322e(0x313)])_0x4751f3[_0x2b322e(0x18c)](_0x3dbd31);}else{if(_0x3dbd31[_0x2b322e(0x23b)]<=-_0x2b928f/0x64){if(_0x3dbd31[_0x2b322e(0x313)])_0x4751f3[_0x2b322e(0x18c)](_0x3dbd31);}}}}if(_0x4751f3['length']>0x0){let _0xa174e=_0x4751f3[_0x2b322e(0x2a1)](_0x557ae0=>_0x557ae0[_0x2b322e(0x211)]);_0xa174e[_0x2b322e(0x2c1)]();let _0x4347ca=_0xa174e['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x2b322e(0x1dc));lastCoinsToBalance=_0x4347ca;}}function symbolToCoin(_0x326655){const _0x4c1a9a=_0x1485ec;let _0x5c9791;if(_0x326655['includes']('/'+config[_0x4c1a9a(0x201)]))_0x5c9791=_0x326655[_0x4c1a9a(0x228)]('/'+config[_0x4c1a9a(0x201)],'');if(_0x326655['includes'](config['basecoin']+'/'))_0x5c9791=_0x326655[_0x4c1a9a(0x228)](config['basecoin']+'/','');return _0x5c9791;}async function unlockOrders(){const _0xc1ea5f=_0x1485ec;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0xc1ea5f(0x1ed)](_0xc1ea5f(0x1b8)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3837ab=await getCoins();[currentCoins,currentCoinsAll]=_0x3837ab,validateOrdersState=_0xc1ea5f(0x19b),persistOpenOrders([]),lockOrders=ORDERS[_0xc1ea5f(0x1b4)],logger[_0xc1ea5f(0x1ed)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x1146ce){const _0x44cf31=_0x1485ec;if(_0x1146ce)validateOrdersState=_0x1146ce;logger[_0x44cf31(0x1ed)](_0x44cf31(0x2b3)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x44cf31(0x23c):lockOrders==0x2?_0x44cf31(0x2a0):_0x44cf31(0x1fa)));let _0x3e8cfa=[],_0x1b073d=config[_0x44cf31(0x21f)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x44cf31(0x197)])return;logger[_0x44cf31(0x1ed)](_0x44cf31(0x2cb)+validateOrdersState),lastOrders[_0x44cf31(0x1dd)](_0x1faeba=>{const _0x527f57=_0x44cf31;let _0xf7c697=![];_0x1faeba[_0x527f57(0x243)]>0x0&&(_0xf7c697=!![]),_0x3e8cfa[_0x527f57(0x18c)](_0xf7c697),_0xf7c697&&config[_0x527f57(0x21f)]!=_0x527f57(0x1ae)&&logHistory(_0x527f57(0x257),_0x527f57(0x2f8)+_0x1faeba[_0x527f57(0x1c9)]+'\x20'+_0x1faeba[_0x527f57(0x1eb)]+'\x20#'+formatResult(_0x1faeba['filled'],0x8)+'\x20@'+formatResult(_0x1faeba[_0x527f57(0x248)],0x8));}),_0x3e8cfa[_0x44cf31(0x1dd)]((_0x30c2a1,_0x2cd830)=>{const _0x18d141=_0x44cf31;if(_0x30c2a1)lastOrders[_0x18d141(0x1bd)](_0x2cd830,0x1);}),persistOpenOrders(lastOrders);const _0x25baf6=coolingDown?_0x44cf31(0x2a8):_0x44cf31(0x271);if(validateOrdersState==_0x44cf31(0x19b)){validateOrdersState=_0x44cf31(0x1f8);if(_0x3e8cfa[_0x44cf31(0x1bb)](![])){if(config[_0x44cf31(0x21f)]==_0x44cf31(0x1ae)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x3e8cfa[_0x44cf31(0x1bb)](![])){}else{if(allOrdersPlaced){if(config[_0x44cf31(0x21f)]==_0x44cf31(0x1ae)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x44cf31(0x254))_0x3e8cfa['includes'](![])&&(config['ordertype']==_0x44cf31(0x1ae)?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x1b073d*validateOrderInterval/0xea60)+_0x44cf31(0x2f5)+_0x25baf6):(await cancelOrders(),logHistory('success',_0x44cf31(0x22b)+Math[_0x44cf31(0x1d3)](_0x1b073d*validateOrderInterval/0xea60)+_0x44cf31(0x2f5)+_0x25baf6))),await unlockOrders();else{if(validateOrdersState==_0x44cf31(0x22a)){if(config[_0x44cf31(0x21f)]!=_0x44cf31(0x1ae))logHistory(_0x44cf31(0x2e8),_0x44cf31(0x25d)+_0x25baf6);await unlockOrders();}}}}}async function cancelOrders(){const _0x2e1c79=_0x1485ec;lastOrders[_0x2e1c79(0x1dd)](async _0x584c5b=>{const _0x4a0658=_0x2e1c79;try{const _0x1606cb=await exchange[_0x4a0658(0x21d)](_0x584c5b[_0x4a0658(0x20f)],_0x584c5b['symbol']);}catch(_0x2dc8ed){if(_0x2dc8ed['toString']()[_0x4a0658(0x1bb)](_0x4a0658(0x297))){}else await handleError(_0x2dc8ed,_0x4a0658(0x30a));}});}async function initCoinResults(_0x343404){const _0x4a4892=_0x1485ec;_0x343404?logger[_0x4a4892(0x1ed)](_0x4a4892(0x2b6)+_0x343404):logger[_0x4a4892(0x1ed)](_0x4a4892(0x29e)),config[_0x4a4892(0x1b3)]['forEach'](_0x3ae463=>{const _0x3b2b4d=_0x4a4892;if(!_0x3ae463['excluded']&&_0x3ae463['coin']!=config[_0x3b2b4d(0x201)]){const _0x7b4dc8=currentCoins[_0x3b2b4d(0x2ec)](_0x39718c=>_0x39718c['coin']==_0x3ae463[_0x3b2b4d(0x211)]),_0x5f27e2=global['ticker'][noslash(_0x3ae463[_0x3b2b4d(0x1c9)])];let _0x2f6541=_0x7b4dc8?_0x7b4dc8[_0x3b2b4d(0x2b0)]:null,_0x570a8e=_0x3ae463['reverse']?0x1/_0x5f27e2:_0x5f27e2,_0x166029;config[_0x3b2b4d(0x189)][_0x3b2b4d(0x1dd)](_0xde3c3c=>{const _0x581bab=_0x3b2b4d;!_0x166029&&(_0x166029=_0xde3c3c[_0x581bab(0x2f4)]['find'](_0x241288=>_0x241288['coin']==_0x3ae463[_0x581bab(0x211)]),_0x166029&&(_0x2f6541=_0x166029[_0x581bab(0x2b0)],_0x570a8e=_0x166029[_0x581bab(0x248)]));});let _0x367879=dbCoinResults[_0x3b2b4d(0x235)](_0x3b2b4d(0x312))[_0x3b2b4d(0x2ec)]({'coin':_0x3ae463[_0x3b2b4d(0x211)]})[_0x3b2b4d(0x2be)]();if(!_0x367879){const _0x38886c={'coin':_0x3ae463[_0x3b2b4d(0x211)],'number':_0x2f6541,'breakeven':_0x570a8e,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')['push'](_0x38886c)[_0x3b2b4d(0x196)]();}else{if(_0x343404&&_0x3ae463['coin']==_0x343404){const _0x5c2ffc={'coin':_0x3ae463[_0x3b2b4d(0x211)],'number':_0x2f6541,'breakeven':_0x570a8e,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3b2b4d(0x235)](_0x3b2b4d(0x312))['find']({'coin':_0x3ae463[_0x3b2b4d(0x211)]})[_0x3b2b4d(0x186)](_0x5c2ffc)[_0x3b2b4d(0x196)]();}}}});}async function updateCoinResults(_0x59af31,_0x485e03=![]){const _0x5683cf=_0x1485ec;let _0x4c5a6b,_0x88f5e9,_0x4069cd,_0x33979a,_0x2057f1,_0x5358c1,_0x247142=dbCoinResults[_0x5683cf(0x235)]('coins')['find']({'coin':_0x59af31[_0x5683cf(0x211)]})['value'](),_0x279743=![];Object[_0x5683cf(0x252)](_0x247142)[_0x5683cf(0x1dd)](([_0x57d995,_0xe03aac])=>{if(_0xe03aac==null)_0x279743=!![];});(!_0x247142||_0x279743)&&(await initCoinResults(_0x59af31['coin']),_0x247142=dbCoinResults['get'](_0x5683cf(0x312))[_0x5683cf(0x2ec)]({'coin':_0x59af31[_0x5683cf(0x211)]})[_0x5683cf(0x2be)]());_0x59af31[_0x5683cf(0x268)]&&(_0x5358c1={'filled':_0x59af31[_0x5683cf(0x243)]*_0x59af31[_0x5683cf(0x248)],'amount':_0x59af31['filled']*_0x59af31['price'],'side':_0x59af31[_0x5683cf(0x1eb)]==_0x5683cf(0x23e)?'buy':'sell','price':0x1/_0x59af31[_0x5683cf(0x248)]},_0x59af31={..._0x59af31,..._0x5358c1});_0x485e03?_0x88f5e9=_0x59af31[_0x5683cf(0x1eb)]==_0x5683cf(0x1f7)?_0x247142['number']+_0x59af31[_0x5683cf(0x243)]:_0x247142[_0x5683cf(0x2b0)]-_0x59af31['filled']:_0x88f5e9=await getCoinNumber(_0x59af31['coin']);if(_0x59af31[_0x5683cf(0x200)]&&_0x59af31[_0x5683cf(0x200)][_0x5683cf(0x259)]==config[_0x5683cf(0x201)])_0x4c5a6b=_0x59af31[_0x5683cf(0x200)]['cost'];else{if(_0x59af31[_0x5683cf(0x200)]&&_0x59af31['fee']['currency']==_0x5683cf(0x29a)&&!_0x485e03)_0x4c5a6b=_0x59af31[_0x5683cf(0x200)][_0x5683cf(0x279)]*global[_0x5683cf(0x28e)]['BNB'+config[_0x5683cf(0x201)]];else _0x4c5a6b=defaultFee*_0x59af31[_0x5683cf(0x243)]*_0x59af31[_0x5683cf(0x248)];}_0x59af31[_0x5683cf(0x1eb)]==_0x5683cf(0x1f7)?(_0x4069cd=_0x88f5e9!=0x0?(_0x247142[_0x5683cf(0x1ee)]*_0x247142[_0x5683cf(0x2b0)]+_0x59af31[_0x5683cf(0x248)]*(_0x88f5e9-_0x247142[_0x5683cf(0x2b0)])+_0x4c5a6b)/_0x88f5e9:0x0,_0x33979a=_0x247142['realized']):(_0x4069cd=_0x88f5e9!=0x0?(_0x247142[_0x5683cf(0x1ee)]*_0x247142[_0x5683cf(0x2b0)]-_0x59af31[_0x5683cf(0x248)]*(_0x247142['number']-_0x88f5e9)+_0x4c5a6b)/_0x88f5e9:0x0,_0x33979a=_0x247142[_0x5683cf(0x1e0)]+(_0x59af31[_0x5683cf(0x248)]-_0x247142[_0x5683cf(0x1ee)])*_0x59af31[_0x5683cf(0x243)]);_0x2057f1=(_0x59af31[_0x5683cf(0x248)]-_0x4069cd-_0x4c5a6b/_0x59af31['filled'])*_0x88f5e9;let _0x3bf294={'coin':_0x59af31['coin'],'number':_0x88f5e9,'breakeven':formatResult(_0x4069cd,0x8),'realized':formatResult(_0x33979a,0x8),'unrealized':formatResult(_0x2057f1,0x8),'fees':formatResult(_0x247142[_0x5683cf(0x2c6)]+_0x4c5a6b,0x8),'sells':_0x59af31[_0x5683cf(0x1eb)]==_0x5683cf(0x23e)?_0x247142[_0x5683cf(0x227)]+0x1:_0x247142[_0x5683cf(0x227)],'buys':_0x59af31['side']==_0x5683cf(0x1f7)?_0x247142[_0x5683cf(0x1de)]+0x1:_0x247142[_0x5683cf(0x1de)]};dbCoinResults[_0x5683cf(0x235)](_0x5683cf(0x312))['find']({'coin':_0x59af31[_0x5683cf(0x211)]})[_0x5683cf(0x186)](_0x3bf294)['write']();if(!_0x485e03){if(_0x59af31[_0x5683cf(0x200)]&&_0x59af31[_0x5683cf(0x200)][_0x5683cf(0x259)]==_0x5683cf(0x29a)){const _0x57e1e1=currentCoins['find'](_0x20f8fb=>_0x20f8fb['coin']==_0x5683cf(0x29a));if(_0x57e1e1){let _0x3c5d5a=dbCoinResults[_0x5683cf(0x235)](_0x5683cf(0x312))['find']({'coin':'BNB'})['value']();_0x3bf294={..._0x3c5d5a,'number':_0x57e1e1[_0x5683cf(0x2b0)]},dbCoinResults[_0x5683cf(0x235)](_0x5683cf(0x312))['find']({'coin':'BNB'})[_0x5683cf(0x186)](_0x3bf294)[_0x5683cf(0x196)]();}}}}async function placeOrder(_0x35c5a9){const _0x547705=_0x1485ec,_0x394904=config[_0x547705(0x21f)]==_0x547705(0x1ae)?_0x547705(0x1ae):_0x547705(0x1c3);if(lockOrders==ORDERS[_0x547705(0x1b4)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x547705(0x197)],allOrdersPlaced=![],validateOrdersState=_0x547705(0x19b);let _0xd46ff1=![];lastOrders=[];for(const _0x1d9185 of _0x35c5a9){let _0x457afa,_0x1e3443,_0xc01b77,_0x1207f2,_0x5114d7,_0x2dafea=_0x1d9185[_0x547705(0x1c9)];try{const _0x542dab=await exchange[_0x547705(0x2a4)](_0x2dafea);_0x457afa=_0x1d9185['reverse']?0x1/_0x1d9185[_0x547705(0x2db)]:_0x1d9185[_0x547705(0x2db)],_0x1e3443=_0x542dab[_0x547705(0x1ba)],_0xc01b77=_0x542dab['ask'];_0x1d9185['reverse']?(_0x1207f2=_0x1d9185['side']==_0x547705(0x1f7)?'sell':_0x547705(0x1f7),_0x5114d7=Math[_0x547705(0x2b4)](_0x1d9185['trade'])/_0x457afa):(_0x1207f2=_0x1d9185['side'],_0x5114d7=Math[_0x547705(0x2b4)](_0x1d9185['trade']));_0x394904==_0x547705(0x1c3)&&(config[_0x547705(0x21f)]==_0x547705(0x1a0)&&(_0x457afa=_0x1207f2==_0x547705(0x1f7)?_0x1e3443:_0xc01b77),config['ordertype']==_0x547705(0x1c4)&&(_0x457afa=_0x1207f2=='buy'?_0xc01b77:_0x1e3443));_0x5114d7=formatResult(_0x5114d7,0x8),_0x457afa=formatResult(_0x457afa,0x8);const _0x5e2960=_0x1207f2==_0x547705(0x23e)?config[_0x547705(0x22f)]?String[_0x547705(0x206)]('0x'+config[_0x547705(0x22f)])+'\x20':'':config['emojibuy']?String[_0x547705(0x206)]('0x'+config['emojibuy'])+'\x20':'',_0x5ccbfd=_0x394904==_0x547705(0x1ae)?_0x547705(0x2ab):config[_0x547705(0x21f)]==_0x547705(0x1a0)?_0x547705(0x25f):'Limit\x20(low-margin)',_0x350ef0=(Math['floor'](Math[_0x547705(0x242)]()*0x35a4e900)+0x5f5e100)[_0x547705(0x246)]();lastOrders[_0x547705(0x18c)]({'customId':_0x350ef0,'symbol':_0x2dafea,'coin':_0x1d9185[_0x547705(0x211)],'amount':_0x5114d7,'price':_0x457afa,'side':_0x1207f2,'reverse':_0x1d9185[_0x547705(0x268)],'filled':0x0});if(_0x394904==_0x547705(0x1ae))logHistory(_0x547705(0x257),''+_0x5e2960+_0x5ccbfd+'\x20order:\x20'+_0x2dafea+'\x20'+_0x1207f2+'\x20#'+formatResult(_0x5114d7,0x8)+'\x20@'+formatResult(_0x457afa,0x8));else logHistory('order',''+_0x5e2960+_0x5ccbfd+'\x20order:\x20'+_0x2dafea+'\x20'+_0x1207f2+'\x20#'+formatResult(_0x5114d7,0x8)+'\x20@'+formatResult(_0x457afa,0x8));const _0x31c5a2=await exchange[_0x547705(0x1c0)](_0x2dafea,_0x394904,_0x1207f2,_0x5114d7,_0x457afa);logger['debug']('ID:\x20'+_0x31c5a2['id']+_0x547705(0x27b)+_0x350ef0);const _0xf41525=lastOrders['length']-0x1;if(_0xf41525>=0x0&&lastOrders[_0xf41525][_0x547705(0x27c)]==_0x350ef0){lastOrders[_0xf41525][_0x547705(0x20f)]=_0x31c5a2['id'];if(_0x31c5a2[_0x547705(0x1f5)])lastOrders[_0xf41525]['amount']=_0x31c5a2[_0x547705(0x1f5)];if(_0x31c5a2[_0x547705(0x248)])lastOrders[_0xf41525][_0x547705(0x248)]=_0x31c5a2[_0x547705(0x248)];lastOrders[_0xf41525][_0x547705(0x200)]=_0x31c5a2[_0x547705(0x200)];}if(config['cooldown']!=0x0){let _0x482452=null;if(cooldownTracker[_0x547705(0x219)]==config[_0x547705(0x282)]-0x1)_0x482452=cooldownTracker[_0x547705(0x270)]();const _0x5346e5=getTimeStamp();cooldownTracker[_0x547705(0x18c)](_0x5346e5);if(_0x482452){const _0x505c01=fns[_0x547705(0x1e4)](new Date(_0x5346e5),new Date(_0x482452));if(_0x505c01<cooldownInterval){logHistory(_0x547705(0x209),'Executed\x20'+config[_0x547705(0x282)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x547705(0x27f)+cooldownPeriod/(0xe10*0x3e8)+_0x547705(0x2d4)),coolingDown=!![];break;}}}}catch(_0x1cd056){if(_0x1cd056[_0x547705(0x246)]()[_0x547705(0x1bb)](_0x547705(0x2c0)))lastOrders=lastOrders[_0x547705(0x26d)](_0x43699c=>_0x43699c['symbol']!=_0x2dafea),logHistory(_0x547705(0x209),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x2dafea),_0xd46ff1=!![];else{if(_0x1cd056['toString']()[_0x547705(0x1bb)](_0x547705(0x2fc)))lastOrders=lastOrders[_0x547705(0x26d)](_0x25acc4=>_0x25acc4['symbol']!=_0x2dafea),logHistory(_0x547705(0x209),'Order\x20amount\x20is\x20invalid:\x20'+_0x2dafea),_0xd46ff1=!![];else{if(_0x1cd056[_0x547705(0x246)]()[_0x547705(0x1bb)](_0x547705(0x18b)))lastOrders=lastOrders[_0x547705(0x26d)](_0x57e304=>_0x57e304[_0x547705(0x1c9)]!=_0x2dafea),logHistory(_0x547705(0x209),'Order\x20is\x20invalid:\x20'+_0x2dafea),_0xd46ff1=!![];else _0x1cd056[_0x547705(0x246)]()[_0x547705(0x1bb)](_0x547705(0x1ca))?(lastOrders=lastOrders[_0x547705(0x26d)](_0x2e8d46=>_0x2e8d46[_0x547705(0x1c9)]!=_0x2dafea),logHistory(_0x547705(0x209),_0x547705(0x2a6)+_0x2dafea),_0xd46ff1=!![]):(lastOrders=lastOrders[_0x547705(0x26d)](_0x4a7cc5=>_0x4a7cc5[_0x547705(0x1c9)]!=_0x2dafea),await handleError(_0x1cd056,_0x547705(0x24c),_0x2dafea));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x547705(0x219)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x2b3d80=config[_0x547705(0x21f)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x101a01=_0x547705;validateOrders(_0x101a01(0x254));},_0x2b3d80);}else unlockOrders();_0xd46ff1&&config[_0x547705(0x305)]&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x547705(0x1e3)));}else{if(coolingDown)!config[_0x547705(0x305)]&&logHistory('error',_0x547705(0x188));else lockOrders!=ORDERS[_0x547705(0x1b4)]&&(!config[_0x547705(0x305)]&&(config[_0x547705(0x21f)]==_0x547705(0x1ae)?logHistory(_0x547705(0x209),_0x547705(0x223)):logHistory('error',_0x547705(0x19c))));}}function persistOpenOrders(_0x5cbb65){const _0x4967ac=_0x1485ec,_0x5d8c76={...config,'openOrders':_0x5cbb65};let _0x4784e6=dbConfig[_0x4967ac(0x235)](_0x4967ac(0x26b))[_0x4967ac(0x2ec)]({'botID':botID})['value']();_0x4784e6&&dbConfig['get'](_0x4967ac(0x26b))['find']({'botID':botID})[_0x4967ac(0x186)](_0x5d8c76)[_0x4967ac(0x196)]();}function restoreOrders(){const _0x57c362=_0x1485ec;let _0x2769e0;config[_0x57c362(0x217)]&&allOpenOrders[_0x57c362(0x1dd)](_0x37236d=>{const _0x13cc49=_0x57c362,_0x2a2a73=config[_0x13cc49(0x217)][_0x13cc49(0x2ec)](_0xf64553=>_0xf64553['orderId']==_0x37236d['id']);_0x2a2a73&&(lastOrders[_0x13cc49(0x18c)](_0x2a2a73),_0x2769e0=_0x37236d[_0x13cc49(0x225)]);});if(lastOrders[_0x57c362(0x219)]>0x0){lockOrders=ORDERS[_0x57c362(0x197)],validateOrdersState=_0x57c362(0x1f8),allOrdersPlaced=!![];const _0x450d79=new Date()[_0x57c362(0x1d8)](),_0x59df63=config[_0x57c362(0x21f)]==_0x57c362(0x1ae)?validateOrderTimeout*0x3c*0x3e8:config[_0x57c362(0x2e2)]*0x3c*0x3e8;if(_0x2769e0+_0x59df63>_0x450d79){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x465bd8=_0x57c362;validateOrders(_0x465bd8(0x254));},_0x2769e0+_0x59df63-_0x450d79);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x6b80ad=_0x1485ec;if(!coinsLoaded){process[_0x6b80ad(0x2eb)]({'telegrammsg':_0x6b80ad(0x2a3)},_0x5742bb=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0xed7515='';if(config['showname'])_0xed7515=_0x6b80ad(0x2fd)+config[_0x6b80ad(0x192)]+_0x6b80ad(0x302);else _0xed7515='<b>Bot\x20'+botID+_0x6b80ad(0x302);const _0x2fa2ba=getKPIs(_0x6b80ad(0x201)),_0x5045d7=getKPIs(_0x6b80ad(0x2ba),config['fiat']),_0x24b1c7=getKPIs('net-basecoin'),_0x2f90a3=getKPIs(_0x6b80ad(0x1df),config[_0x6b80ad(0x2ba)]);_0xed7515+=_0x6b80ad(0x1aa),_0xed7515+=_0x2fa2ba['leftTxt']+_0x6b80ad(0x294)+_0x2fa2ba['value']+'\x0a',_0xed7515+=_0x2fa2ba[_0x6b80ad(0x2e4)]+':\x20'+_0x2fa2ba[_0x6b80ad(0x19a)]+'%\x0a',_0xed7515+=_0x5045d7[_0x6b80ad(0x236)]+_0x6b80ad(0x294)+_0x5045d7['value']+'\x0a',_0xed7515+=_0x5045d7[_0x6b80ad(0x2e4)]+':\x20'+_0x5045d7[_0x6b80ad(0x19a)]+'%\x0a',_0xed7515+=_0x24b1c7['leftTxt']+':\x20'+_0x24b1c7[_0x6b80ad(0x2be)]+'\x20('+config['basecoin']+')\x0a',_0xed7515+=_0x24b1c7[_0x6b80ad(0x2e4)]+':\x20'+_0x24b1c7[_0x6b80ad(0x19a)]+_0x6b80ad(0x30d)+config[_0x6b80ad(0x201)]+')\x0a',_0xed7515+=_0x2f90a3[_0x6b80ad(0x236)]+':\x20'+_0x2f90a3[_0x6b80ad(0x2be)]+'\x20('+config[_0x6b80ad(0x2ba)]+')\x0a',_0xed7515+=_0x2f90a3[_0x6b80ad(0x2e4)]+':\x20'+_0x2f90a3['change']+_0x6b80ad(0x30d)+config[_0x6b80ad(0x2ba)]+')\x0a',_0xed7515+=_0x6b80ad(0x202),process['send']({'telegrammsg':_0xed7515},_0x3542a3=>{});}async function sendPortfolioTelegram(){const _0x425f14=_0x1485ec;if(!coinsLoaded){process['send']({'telegrammsg':_0x425f14(0x2a3)},_0x1bade1=>{});return;}let _0x449516='';if(config[_0x425f14(0x195)])_0x449516=_0x425f14(0x2fd)+config[_0x425f14(0x192)]+_0x425f14(0x1cc);else _0x449516=_0x425f14(0x2ad)+botID+_0x425f14(0x1cc);_0x449516+=_0x425f14(0x1aa),_0x449516+=_0x425f14(0x1f1),_0x449516+=_0x425f14(0x2cc),_0x449516+='-------------------------------\x0a',currentCoins[_0x425f14(0x1dd)](_0x236582=>{const _0x3125bf=_0x425f14;_0x449516+=_0x236582[_0x3125bf(0x211)][_0x3125bf(0x2fb)](0x7)+'|\x20'+formatPad(_0x236582[_0x3125bf(0x1a9)],0x2,0x6)+'|\x20'+formatPad(_0x236582['target'],0x2,0x6)+'|\x20'+formatPad(_0x236582[_0x3125bf(0x23b)]*0x64,0x2,0x6)+'\x0a';}),_0x449516+=_0x425f14(0x202),process['send']({'telegrammsg':_0x449516},_0xa4c722=>{});}function formatPad(_0x241a1b,_0x4a5f33,_0x5ec1d2){const _0x4aa8b4=_0x1485ec,_0x841348=formatResultString(_0x241a1b,_0x4a5f33);return _0x841348?_0x841348[_0x4aa8b4(0x2c8)](_0x5ec1d2):''['padStart'](_0x5ec1d2);}function logHistory(_0xc2e9d6,_0x417b7d,_0x356c1d=''){const _0x7d0717=_0x1485ec;let _0x25f48d={'time':getTimeStamp(),'type':_0xc2e9d6,'event':_0x417b7d};dbLogs[_0x7d0717(0x235)](_0x7d0717(0x2e7))[_0x7d0717(0x18c)](_0x25f48d)[_0x7d0717(0x196)]();if(_0x356c1d=='')_0x356c1d=_0x417b7d;proxyEmit(_0x7d0717(0x23d),{'log':_0x25f48d,'summary':_0x356c1d}),process[_0x7d0717(0x2eb)]({'telegram':{..._0x25f48d,'botname':config['botname'],'showname':config['showname']}},_0x54f67a=>{}),logger['full'](''+_0x25f48d[_0x7d0717(0x23d)]);}function emitHistory(_0x29a931={}){const _0x32fbce=_0x1485ec;Object[_0x32fbce(0x2d3)](_0x29a931)[_0x32fbce(0x219)]==0x0&&(_0x29a931={'type':[_0x32fbce(0x257),_0x32fbce(0x23d)],'event':'','page':0x1});if(_0x29a931[_0x32fbce(0x2ed)][_0x32fbce(0x1bb)]('event'))_0x29a931[_0x32fbce(0x2ed)][_0x32fbce(0x1bd)](_0x29a931[_0x32fbce(0x2ed)]['indexOf'](_0x32fbce(0x23d)),0x1,_0x32fbce(0x209),'warning',_0x32fbce(0x2e8));if(dbLogs[_0x32fbce(0x1b2)](_0x32fbce(0x2e7))['value']()){let _0x333a2e=dbLogs[_0x32fbce(0x235)](_0x32fbce(0x2e7))[_0x32fbce(0x26d)](_0x2f74bb=>{const _0x1070ab=_0x32fbce;if(_0x29a931[_0x1070ab(0x2ed)]['length']==0x0)return![];else return _0x29a931['type'][_0x1070ab(0x1bb)](_0x2f74bb['type']);})[_0x32fbce(0x26d)](_0x84cb45=>{const _0x3fba48=_0x32fbce;if(_0x29a931[_0x3fba48(0x23d)]=='')return!![];else return _0x84cb45[_0x3fba48(0x23d)][_0x3fba48(0x1a2)]()[_0x3fba48(0x1bb)](_0x29a931[_0x3fba48(0x23d)][_0x3fba48(0x1a2)]());})[_0x32fbce(0x23a)](_0x32fbce(0x275)),_0x5b2248=_0x333a2e[_0x32fbce(0x2be)]()['length'];_0x333a2e=_0x333a2e[_0x32fbce(0x268)]()['slice']((_0x29a931['page']-0x1)*logPageSize,_0x29a931[_0x32fbce(0x25e)]*logPageSize-0x1)[_0x32fbce(0x268)]()['value'](),proxyEmit(_0x32fbce(0x2c5),{'logs':_0x333a2e,'total':_0x5b2248});}else proxyEmit(_0x32fbce(0x2c5),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x44aab6){const _0x27597a=_0x1485ec;if(dbLogs[_0x27597a(0x1b2)]('logs')[_0x27597a(0x2be)]()){const _0x511519=dbLogs['get'](_0x27597a(0x2e7))[_0x27597a(0x23a)]('time')[_0x27597a(0x26d)](_0x166963=>{const _0x52c80d=_0x27597a;return _0x166963[_0x52c80d(0x2ed)]=='order';})[_0x27597a(0x2be)]();dbLogs['get'](_0x27597a(0x2e7))[_0x27597a(0x2c2)]()[_0x27597a(0x196)](),dbLogs[_0x27597a(0x235)](_0x27597a(0x2e7))[_0x27597a(0x186)](_0x511519)[_0x27597a(0x196)](),emitHistory(_0x44aab6);}}async function pauseBot(_0x2a1c90=''){const _0x118b8e=_0x1485ec,_0x3af792=new Date()[_0x118b8e(0x1d8)]();if(!lastErrorShown||_0x3af792-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x3af792;!lastBotPause?(lastBotPause=_0x3af792,consecutivePauses=0x1):(_0x3af792-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x118b8e(0x2eb)]({'stop':_0x118b8e(0x1f6)},_0x2e0072=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x118b8e(0x1d8)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x2a1c90)_0x2a1c90+='\x20|\x20';logHistory(_0x118b8e(0x209),_0x2a1c90+_0x118b8e(0x24f)+pauseBotInterval/0xea60+_0x118b8e(0x1b5)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x1c1223=_0x1485ec;process[_0x1c1223(0x2eb)]({'stop':'kill'},_0x4ce76d=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x10cc5d,_0x253e4a){const _0x1ad705=_0x1485ec;if(_0x10cc5d['toString']()[_0x1ad705(0x1bb)]('API-key\x20format\x20invalid'))return logHistory(_0x1ad705(0x209),config['exchange']+_0x1ad705(0x1f3)),![];else{if(_0x10cc5d[_0x1ad705(0x246)]()[_0x1ad705(0x1bb)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x1ad705(0x209),config[_0x1ad705(0x28b)]+_0x1ad705(0x292)),![];else{if(_0x10cc5d[_0x1ad705(0x246)]()[_0x1ad705(0x1bb)](_0x1ad705(0x203)))return logHistory(_0x1ad705(0x209),config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x1ad705(0x209),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x10cc5d,_0x253e4a);}}}async function handleError(_0x1c4339,_0x4b9a57,_0x323d1f=''){const _0x4936da=_0x1485ec,_0xaa5b61=config[_0x4936da(0x28b)]||_0x4936da(0x244);if(_0x1c4339['toString']()[_0x4936da(0x1bb)](_0x4936da(0x2f1))||_0x1c4339[_0x4936da(0x246)]()[_0x4936da(0x1bb)](_0x4936da(0x1e8)))await pauseBot(config['exchange']+_0x4936da(0x314));else{if(_0x1c4339[_0x4936da(0x246)]()[_0x4936da(0x1bb)](_0x4936da(0x1e2))||_0x1c4339[_0x4936da(0x246)]()['includes'](_0x4936da(0x284)))await pauseBot(config[_0x4936da(0x28b)]+'\x20not\x20available');else{if(_0x1c4339[_0x4936da(0x246)]()[_0x4936da(0x1bb)](_0x4936da(0x1be)))await pauseBot(config['exchange']+_0x4936da(0x263));else{if(_0x1c4339['toString']()[_0x4936da(0x1bb)](_0x4936da(0x29f)))await pauseBot(config['exchange']+_0x4936da(0x1c8));else{if(_0x1c4339[_0x4936da(0x246)]()[_0x4936da(0x1bb)](_0x4936da(0x1ff)))logHistory(_0x4936da(0x209),_0x4b9a57+_0x4936da(0x2b8)),logHistory(_0x4936da(0x209),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1c4339[_0x4936da(0x246)]()[_0x4936da(0x1bb)](_0x4936da(0x30c)))logHistory('error',_0x4b9a57+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x4936da(0x209),_0x4936da(0x283)),await killBot();else{if(_0x1c4339 instanceof ccxt[_0x4936da(0x2dd)])logger[_0x4936da(0x1ed)]('Uncaught\x20NetworkError:',_0x1c4339),await pauseBot(config[_0x4936da(0x28b)]+_0x4936da(0x213));else{if(_0x1c4339[_0x4936da(0x246)]()['includes']('API-key\x20format\x20invalid'))logHistory(_0x4936da(0x209),_0x4b9a57+_0x4936da(0x315)+config[_0x4936da(0x28b)]+_0x4936da(0x2f2)),logHistory('error',_0x4936da(0x283)),await killBot();else{if(_0x1c4339[_0x4936da(0x246)]()['includes'](_0x4936da(0x214)))logHistory(_0x4936da(0x209),_0x4b9a57+_0x4936da(0x315)+config['exchange']+_0x4936da(0x2fa)),logHistory(_0x4936da(0x209),_0x4936da(0x283)),await killBot();else{if(_0x1c4339['toString']()[_0x4936da(0x1bb)](_0x4936da(0x203)))logHistory('error',_0x4b9a57+'\x20|\x20'+config[_0x4936da(0x28b)]+_0x4936da(0x24e)),logHistory(_0x4936da(0x209),_0x4936da(0x283)),await killBot();else{if(_0x1c4339['toString']()[_0x4936da(0x1bb)](_0x4936da(0x2af)))logHistory(_0x4936da(0x209),_0x4b9a57+_0x4936da(0x199)+_0x323d1f);else _0x1c4339 instanceof ccxt['ExchangeError']?(logger[_0x4936da(0x1ed)](_0x4936da(0x1f9),_0x1c4339),logHistory('error',_0x4b9a57+_0x4936da(0x315)+config['exchange']+_0x4936da(0x300))):(logger['full'](_0x4b9a57+_0x4936da(0x299),_0x1c4339),await pauseBot(_0x4936da(0x20a)));}}}}}}}}}}}function formatResult(_0x285ef5,_0x4cfa9f){const _0x12087d=_0x1485ec;return parseFloat(_0x285ef5[_0x12087d(0x1c6)](_0x4cfa9f));}function formatResultTruncate(_0x38e7fe,_0x536e6a){const _0x56c86b=_0x1485ec;let _0x23dbbe=formatResultString(_0x38e7fe,0xa),_0x29c133=_0x23dbbe[_0x56c86b(0x2f6)]('.');return _0x29c133!=-0x1&&(_0x23dbbe=_0x23dbbe[_0x56c86b(0x1d1)](0x0,_0x29c133+_0x536e6a+0x1)),Number(_0x23dbbe);}function formatResultString(_0x5da79c,_0x23d0c5){const _0x476a93=_0x1485ec;let _0x5ce3d8;if(!(''+_0x5da79c)[_0x476a93(0x1bb)]('e'))_0x5ce3d8=+(Math['round'](_0x5da79c+'e+'+_0x23d0c5)+'e-'+_0x23d0c5);else{let _0x1c9e0f=(''+_0x5da79c)[_0x476a93(0x1a3)]('e'),_0x4e79da='';+_0x1c9e0f[0x1]+_0x23d0c5>0x0&&(_0x4e79da='+'),_0x5ce3d8=+(Math[_0x476a93(0x1d3)](+_0x1c9e0f[0x0]+'e'+_0x4e79da+(+_0x1c9e0f[0x1]+_0x23d0c5))+'e-'+_0x23d0c5);}return Number(_0x5ce3d8)[_0x476a93(0x1c6)](_0x23d0c5);}function getServerTime(){const _0x534821=_0x1485ec,_0x3b65d9=new Date();return _0x3b65d9['getFullYear']()+'/'+(_0x3b65d9[_0x534821(0x30f)]()+0x1)[_0x534821(0x246)]()['padStart'](0x2,'0')+'/'+_0x3b65d9[_0x534821(0x291)]()['toString']()[_0x534821(0x2c8)](0x2,'0')+'\x20'+_0x3b65d9[_0x534821(0x2cf)]()[_0x534821(0x246)]()[_0x534821(0x2c8)](0x2,'0')+':'+_0x3b65d9[_0x534821(0x21a)]()['toString']()[_0x534821(0x2c8)](0x2,'0')+':'+_0x3b65d9['getSeconds']()[_0x534821(0x246)]()[_0x534821(0x2c8)](0x2,'0');}function getTimeStamp(){const _0x5c081b=_0x1485ec,_0x378e7f=shiftedTime();return _0x378e7f[_0x5c081b(0x21c)]()+'/'+(_0x378e7f[_0x5c081b(0x30f)]()+0x1)[_0x5c081b(0x246)]()[_0x5c081b(0x2c8)](0x2,'0')+'/'+_0x378e7f[_0x5c081b(0x291)]()[_0x5c081b(0x246)]()[_0x5c081b(0x2c8)](0x2,'0')+'\x20'+_0x378e7f[_0x5c081b(0x2cf)]()[_0x5c081b(0x246)]()[_0x5c081b(0x2c8)](0x2,'0')+':'+_0x378e7f[_0x5c081b(0x21a)]()[_0x5c081b(0x246)]()[_0x5c081b(0x2c8)](0x2,'0')+':'+_0x378e7f['getSeconds']()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x46b60a=_0x1485ec,_0x381a16=shiftedTime();return _0x381a16[_0x46b60a(0x21c)]()+'/'+(_0x381a16[_0x46b60a(0x30f)]()+0x1)[_0x46b60a(0x246)]()[_0x46b60a(0x2c8)](0x2,'0')+'/'+_0x381a16[_0x46b60a(0x291)]()[_0x46b60a(0x246)]()['padStart'](0x2,'0');}function getHour(){const _0x3f45d8=_0x1485ec,_0x5d3990=shiftedTime();return _0x5d3990[_0x3f45d8(0x2cf)]()[_0x3f45d8(0x246)]()[_0x3f45d8(0x2c8)](0x2,'0');}function sleep(_0x31a486){return new Promise(_0xab2e24=>setTimeout(_0xab2e24,_0x31a486));}function shiftedTime(){const _0x3b11e2=_0x1485ec,_0x37a4b7=new Date();let _0x5e3036=_0x37a4b7;if(config&&config[_0x3b11e2(0x2dc)]!==0x0)_0x5e3036=fns[_0x3b11e2(0x28c)](_0x37a4b7,{'hours':config[_0x3b11e2(0x2dc)]});return _0x5e3036;}function timer(_0x25ff4a){const _0x3dd96e=_0x1485ec,_0x32705b=new Date();!lasttime?console[_0x3dd96e(0x1bc)](getTimeStamp()+_0x3dd96e(0x2b2),_0x25ff4a,_0x32705b):console[_0x3dd96e(0x1bc)](getTimeStamp()+_0x3dd96e(0x2b2),_0x25ff4a,(_0x32705b-lasttime)/0x3e8),lasttime=_0x32705b;}