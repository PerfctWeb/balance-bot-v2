function _0x34de(){const _0x4778dc=['number','102318qUXiHp','price','ordertype','format','Order\x20filled:\x20','filled','sell','\x20minutes','filter','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Binance\x20API\x20secret\x20is\x20invalid','join','botID','-results.json','limit','OrderNotFound','eventTime','reverse','************','fetchTickers','liquidity','splice','wsKey','getCoins()','cooldown','001','isEqual','no\x20open\x20orders','constructor','assign','apiKey','orderId','exchange','decrypt','includes','subscribeSpotUserDataStream','55dkGFqN','fees','keys','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','max','remainingSymbols','logs','side','distribution','abs','startprice','update\x20results:','emojibuy','change','mkdirSync','value','fetchOHLCV','fee','./config/','\x20order:\x20','coin','Cooldown\x20ended\x20-\x20balancing\x20resumed','initial','getHours','binance','Binance\x20API\x20blocked','Market','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Order\x20amount\x20is\x20invalid:\x20','success','USDT','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','storeHeadless','replace','spot','No\x20more\x20open\x20orders\x20-\x20','string','Binance\x20not\x20responding','defaults','\x20has\x20a\x2024h\x20drop\x20of\x20','error','ticker','portfolio','\x20|\x20Binance\x20API\x20key\x20invalid','loadSymbols()','XEM/BUSD','RequestTimeout','forEach','getFiat()','send','timeshift','yyyy/MM/dd','change24h','date-fns','log','kill','coin-loading-progress','timestamp','datetime','total','accumulatedQuantity','showname','apiSecret','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','page','bot-','(((.+)+)+)+$','toggleBotMode','Performance\x20recreation\x20completed\x20successfully','buys','stringify','NANO/','wsMarket','settings','coinamount','cancelOrders()','sha256','-config.json','balances','set','slice','initws()','limits','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','WebSockets(','restart','831112HvTGXX','toFixed','function','kline','startdate','length','symbols','\x20orders\x20in\x20less\x20than\x20','AuthenticationError','limit-high','trade','final','usd','differenceInCalendarDays','Binance\x20API\x20key\x20is\x20invalid','last','event-history','version','yyyy-MM-dd\x27T\x27HH:mm:ss','push','performance','18MdcrCF','configuration','reduce','fromCodePoint','breakeven','has','.json','getDate','YOYOW/','2.3.5','isArray','data','./version.json','target','getTime','threshold','running','createOrder','valid',':\x20Bot\x20','search','FILLED','\x20>\x20','delta','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','basecoin','14154oPCLgV','/backup/','Executed\x20','argv','BNB/','starting-balance-','binanceus','DAI/','subscribeSpotKline','currency','eachDayOfInterval','amount','cloneDeep',')\x20|\x20Error\x20details:\x20','reconnected','parse','InvalidNonce','deleteHistoryAlerts','196797hEHadN','BTC','API-key\x20format\x20invalid','cancelLoading','buy','limit-low','order','privateKey','772020HyPKeq','eventType','find','realized','differenceInSeconds','-events.json','Crypt','round','offset','Binance\x20not\x20available\x20(1)','get','coins','toString','market','toLowerCase','getFullYear','22FObeLo','botname','wss://stream.binance.com:9443','initialprice','Binance\x20not\x20available\x20(2)','startnumber','placeOrder()','type','apply','\x20minutes\x20-\x20','EUR','getMonth','userData','ETH','emojisell','sortBy','getCloses()','InsufficientFunds','\x20|\x20','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','Limit\x20(low-margin)','lowdb','closeWs','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','Unfilled\x20order(s)\x20canceled\x20after\x20','writeFile','parseISO','entries','balancing\x20resumes\x20when\x20cooldown\x20ends','emitHistory','bot','args','getMinutes','sells','formattedMessage','split','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','secure','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','recreateHistory()','cumulativeQuoteAssetTransactedQty','-performance.json','\x20hour','date','Bot\x20','changes','close','ExchangeNotAvailable','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','exit','fetchOpenOrders','lowdb/adapters/FileSync','MIN_NOTIONAL','min','5706690HzAbIF','orderStatus','write','test','getSeconds','add','starting-balances','time','configuration-stored','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','cost','BNB','\x20-\x20','starttime','symbol','2.4.4','timeout','sort','subscribeSymbol24hrTicker','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Limit\x20(high-margin)','224840dOgoxF','remove','placeOrder','priceChangePercent','message','event','BUSD','ongoing','shift','padStart','excluded','headless','eur','executionReport','\x20|\x20Error\x20details:\x20'];_0x34de=function(){return _0x4778dc;};return _0x34de();}const _0x202b32=_0x5969;(function(_0x5334f1,_0x464799){const _0x365c82=_0x5969,_0x4567c5=_0x5334f1();while(!![]){try{const _0x20e215=-parseInt(_0x365c82(0x1b9))/0x1+-parseInt(_0x365c82(0xa3))/0x2*(parseInt(_0x365c82(0x1a7))/0x3)+parseInt(_0x365c82(0x93))/0x4+parseInt(_0x365c82(0x122))/0x5*(-parseInt(_0x365c82(0xfe))/0x6)+parseInt(_0x365c82(0xee))/0x7+parseInt(_0x365c82(0x178))/0x8*(-parseInt(_0x365c82(0x18d))/0x9)+parseInt(_0x365c82(0xd9))/0xa;if(_0x20e215===_0x464799)break;else _0x4567c5['push'](_0x4567c5['shift']());}catch(_0xe2585e){_0x4567c5['push'](_0x4567c5['shift']());}}}(_0x34de,0x250ba));const _0x5b093d=function(){let _0x1f1632=!![];return function(_0xb1813d,_0x8595e5){const _0x4f7c20=_0x1f1632?function(){const _0x713ee7=_0x5969;if(_0x8595e5){const _0x2b6003=_0x8595e5[_0x713ee7(0xab)](_0xb1813d,arguments);return _0x8595e5=null,_0x2b6003;}}:function(){};return _0x1f1632=![],_0x4f7c20;};}(),_0x51d221=_0x5b093d(this,function(){const _0x3eca15=_0x5969;return _0x51d221[_0x3eca15(0x9f)]()[_0x3eca15(0x1a1)](_0x3eca15(0x164))['toString']()[_0x3eca15(0x11a)](_0x51d221)[_0x3eca15(0x1a1)]('(((.+)+)+)+$');});_0x51d221();'use strict';const ccxt=require('ccxt'),low=require(_0x202b32(0xb8)),FileSync=require(_0x202b32(0xd6)),fs=require('fs'),fns=require(_0x202b32(0x157)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x202b32(0x13a)),Crypt=require('hybrid-crypto-js')[_0x202b32(0x99)];let exchange,wsClient;global[_0x202b32(0x14b)]={},global[_0x202b32(0x12f)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x202b32(0x1ae),'HOT/BTC','HOT/EUR',_0x202b32(0x14f),_0x202b32(0x169),_0x202b32(0x195)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x202b32(0x199))[_0x202b32(0x189)],botID=process[_0x202b32(0x1aa)][0x2]||_0x202b32(0x117),pattern=/^[0-9]{3}$/;!pattern[_0x202b32(0xdc)](botID)&&(console[_0x202b32(0x158)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x202b32(0xd4)](0x1));const userID=process[_0x202b32(0x1aa)][0x3]||'',configpath=userID?_0x202b32(0x134)+userID+'/':_0x202b32(0x134);!fs['existsSync'](configpath)&&fs[_0x202b32(0x130)](configpath);const configfile=configpath+_0x202b32(0x163)+botID+_0x202b32(0x16f),logfile=configpath+_0x202b32(0x163)+botID+_0x202b32(0x98),performancefile=configpath+_0x202b32(0x163)+botID+_0x202b32(0xcc),coinresultsfile=configpath+_0x202b32(0x163)+botID+_0x202b32(0x10b),settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x202b32(0x1a8),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x202b32(0x148)]({'logs':[]})[_0x202b32(0xdb)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x202b32(0x148)]({'data':[]})[_0x202b32(0xdb)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x202b32(0xdb)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x202b32(0xdb)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x16c728)=>{},'debug':(..._0x3af78e)=>{},'notice':(..._0x4c8311)=>{},'info':(..._0x2d3ac)=>{},'warning':(..._0x468bb5)=>{},'error':async function(..._0x3a6485){const _0x577a8e=_0x202b32,_0x2b606c=new Date()[_0x577a8e(0x19b)]();if(!lastErrorShown||_0x2b606c-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x13f010='';if(_0x3a6485[0x0])_0x13f010+=_0x3a6485[0x0];if(_0x3a6485[0x1]&&_0x3a6485[0x1][_0x577a8e(0x14a)]&&_0x3a6485[0x1]['error'][_0x577a8e(0xf2)])_0x13f010+=_0x577a8e(0xe5)+_0x3a6485[0x1][_0x577a8e(0x14a)][_0x577a8e(0xf2)];logging(_0x577a8e(0x176)+consecutivePauses+_0x577a8e(0x1b4),''+_0x13f010),await pauseBot(_0x577a8e(0x9c));}}},crypt=new Crypt({'md':_0x202b32(0x16e),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x202b32(0x154)]!=config['timeshift']&&updateTimeshift(settings[_0x202b32(0x154)]);process['send']({'started':'running'},_0x1257ed=>{}),initializeProcessListeners();function proxyEmit(_0x1226e3,_0x3dd0b9=null){process['send']({'function':_0x1226e3,'args':_0x3dd0b9},_0x25dcb1=>{});}function initializeProcessListeners(){const _0x14040f=_0x202b32;process['on'](_0x14040f(0xf2),_0x20503f=>{const _0x4e9e95=_0x14040f;switch(Object[_0x4e9e95(0x124)](_0x20503f)[0x0]){case _0x4e9e95(0x154):_0x20503f['timeshift']!=undefined&&(settings['timeshift']=_0x20503f[_0x4e9e95(0x154)],updateTimeshift(settings[_0x4e9e95(0x154)]));break;case _0x4e9e95(0x17a):switch(_0x20503f['function']){case'initclient':initclient();break;case _0x4e9e95(0x165):toggleBotMode();break;case _0x4e9e95(0xc0):emitHistory(_0x20503f[_0x4e9e95(0xc2)]);break;case _0x4e9e95(0x1b8):deleteHistoryAlerts(_0x20503f[_0x4e9e95(0xc2)]);break;case'getPortfolio':getPortfolio(_0x20503f[_0x4e9e95(0xc2)]);break;case'storeConfiguration':storeConfiguration(_0x20503f[_0x4e9e95(0xc2)]);break;case _0x4e9e95(0x142):storeHeadless(_0x20503f['args']);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x4e9e95(0xf0):placeOrder(_0x20503f[_0x4e9e95(0xc2)]);break;case _0x4e9e95(0x8e):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x3138b5=_0x202b32;if(pidBalances)clearTimeout(pidBalances);if(config[_0x3138b5(0x11c)]!=''){await initExchange(config[_0x3138b5(0x11c)],config[_0x3138b5(0x160)]);let _0x2712fe=await loadSymbols();_0x2712fe&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x8f446d,_0x159cc0){const _0x1bc6d5=_0x202b32,_0x3570b6=ccxt[config[_0x1bc6d5(0x11e)]];let _0x15c157;switch(config[_0x1bc6d5(0x11e)]){case _0x1bc6d5(0x13a):_0x15c157='wss://stream.binance.com:9443';break;case _0x1bc6d5(0x1ad):_0x15c157='wss://stream.binance.us:9443';break;default:_0x15c157=_0x1bc6d5(0xa5);}exchange=new _0x3570b6({'apiKey':_0x8f446d,'secret':_0x159cc0,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x8f446d,'api_secret':_0x159cc0,'beautify':!![],'wsUrl':_0x15c157},logger);let _0x5e304d=config[_0x1bc6d5(0x11e)]==_0x1bc6d5(0x1ad)?_0x1bc6d5(0x140):_0x1bc6d5(0xad),_0x2289cc=config[_0x1bc6d5(0x1a6)]==_0x1bc6d5(0xb0)?_0x1bc6d5(0xb0):_0x1bc6d5(0x8c);stablecoins={'eur':{'coin':''+_0x2289cc+_0x5e304d,'symbol':_0x2289cc+'/'+_0x5e304d},'usd':{'coin':_0x2289cc+'USDT','symbol':_0x2289cc+'/USDT'}};}async function loadSymbols(){const _0x1261d7=_0x202b32;let _0x4eeeab;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x1261d7(0x17e)][_0x1261d7(0x106)](_0x542cf7=>{let _0x1b9e26=![];return exceptions['forEach'](_0xb839ff=>{const _0x348302=_0x5969;if(_0x542cf7[_0x348302(0x120)](_0xb839ff))_0x1b9e26=!![];}),!_0x1b9e26;}),_0x4eeeab=!![];}catch(_0x5cbf57){await handleError(_0x5cbf57,_0x1261d7(0x14e)),_0x4eeeab=![];}return _0x4eeeab;}async function initbot(){const _0x518dbc=_0x202b32;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x4b7edc=dbCoinResults[_0x518dbc(0x9d)](_0x518dbc(0x9e))['value']();if(_0x4b7edc[_0x518dbc(0x17d)]==0x0)await resetCoinResults();}async function initclient(){const _0x4c7d2a=_0x202b32;proxyEmit(_0x4c7d2a(0x18e),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x20e2cf=getNormalizedPerformance();emitPerformance(_0x20e2cf),await getStartingBalances(_0x20e2cf);}async function toggleBotMode(){const _0x60d2c9=_0x202b32;let _0x32e173=dbConfig['get'](_0x60d2c9(0xc1))['find']({'botID':botID})[_0x60d2c9(0x131)]();if(_0x32e173){const _0x3b4ac7=!_0x32e173['headless'];dbConfig[_0x60d2c9(0x9d)](_0x60d2c9(0xc1))[_0x60d2c9(0x95)]({'botID':botID})[_0x60d2c9(0x11b)]({'headless':_0x3b4ac7})[_0x60d2c9(0xdb)](),config['headless']=_0x3b4ac7,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4201ca=_0x202b32;process[_0x4201ca(0x153)]({'updatebotmanager':!![]},_0x25df64=>{});}function cleanws(){const _0x194895=_0x202b32;wsinitialized=![];ws1&&(ws1[_0x194895(0x151)](_0x318d28=>{const _0x26da6f=_0x194895;try{wsClient[_0x26da6f(0xb9)](_0x318d28);}catch(_0x35f2a0){}}),ws1=[]);if(ws2){try{wsClient[_0x194895(0xb9)](ws2);}catch(_0x511fff){}ws2=null;}ws3&&(ws3[_0x194895(0x151)](_0x3a63e1=>{const _0x3e74ba=_0x194895;try{wsClient[_0x3e74ba(0xb9)](_0x3a63e1);}catch(_0x2bfb6b){}}),ws3=[]);}async function initws(){const _0x5df3b5=_0x202b32;cleanws();let _0x166955=[];currentCoins['forEach'](_0x10d47f=>{const _0x59803a=_0x5969;if(_0x10d47f[_0x59803a(0x136)]!=config['basecoin'])_0x166955[_0x59803a(0x18b)](_0x10d47f[_0x59803a(0xe7)]);});if(!_0x166955[_0x5df3b5(0x120)](stablecoins[_0x5df3b5(0xfa)][_0x5df3b5(0xe7)]))_0x166955['push'](stablecoins[_0x5df3b5(0xfa)][_0x5df3b5(0xe7)]);if(!_0x166955['includes'](stablecoins[_0x5df3b5(0x184)][_0x5df3b5(0xe7)]))_0x166955[_0x5df3b5(0x18b)](stablecoins[_0x5df3b5(0x184)][_0x5df3b5(0xe7)]);if(!_0x166955['includes'](_0x5df3b5(0x1ab)+config['basecoin']))_0x166955['push']('BNB/'+config[_0x5df3b5(0x1a6)]);try{_0x166955['forEach']((_0xe2178a,_0x26b291)=>{const _0x395a1e=_0x5df3b5;ws1[_0x26b291]=wsClient[_0x395a1e(0x1af)](noslash(_0xe2178a),'1m'),ws3[_0x26b291]=wsClient[_0x395a1e(0xeb)](noslash(_0xe2178a),_0x395a1e(0x144));}),ws2=wsClient[_0x5df3b5(0x121)](),wsClient['on'](_0x5df3b5(0xc5),_0x3327f7=>{const _0x16b88b=_0x5df3b5;if(isWsFormattedKline(_0x3327f7)){global[_0x16b88b(0x14b)][_0x3327f7[_0x16b88b(0x17b)][_0x16b88b(0xe7)]]=_0x3327f7[_0x16b88b(0x17b)][_0x16b88b(0xd1)];return;}else{if(isWsFormatted24hrTicker(_0x3327f7)){global[_0x16b88b(0x12f)][_0x3327f7[_0x16b88b(0xe7)]]=_0x3327f7[_0x16b88b(0xf1)];return;}else{if(!Array[_0x16b88b(0x197)](_0x3327f7)&&_0x3327f7[_0x16b88b(0x114)][_0x16b88b(0x120)](_0x16b88b(0xaf))){if(_0x3327f7[_0x16b88b(0x16a)][_0x16b88b(0x120)]('spot')){updateNumberCoins(_0x3327f7);return;}}}}}),wsClient['on'](_0x5df3b5(0x1b5),async _0x39cb24=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0xc591c3){await handleError(_0xc591c3,_0x5df3b5(0x173));}let _0xc9493e,_0x49214e=0x0;loading[_0x5df3b5(0x127)]=[];let _0x58b495=0x0;_0x166955[_0x5df3b5(0x151)](_0x5c8956=>{const _0x10f30b=_0x5df3b5;loading[_0x10f30b(0x127)][_0x10f30b(0x18b)](_0x5c8956);}),loadingCanceled=![];while(_0xc9493e!=_0x166955[_0x5df3b5(0x17d)]){_0xc9493e=0x0,_0x166955[_0x5df3b5(0x151)](_0x172886=>{const _0x55634a=_0x5df3b5;global[_0x55634a(0x14b)][noslash(_0x172886)]&&(loading[_0x55634a(0x127)]=loading[_0x55634a(0x127)][_0x55634a(0x106)](_0xc0048e=>_0xc0048e!=_0x172886),_0xc9493e++);}),loading['progress']=Math[_0x5df3b5(0x9a)](_0xc9493e/_0x166955[_0x5df3b5(0x17d)]*0x64);_0x58b495>0x1e*0x5&&(loading[_0x5df3b5(0xe9)]=!![],emitLoadingProgress());if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0xc9493e!=_0x49214e&&(_0x49214e=_0xc9493e,emitLoadingProgress()),_0x58b495++,await sleep(0xc8);}if(_0xc9493e==_0x166955[_0x5df3b5(0x17d)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x293b90=_0x202b32;proxyEmit(_0x293b90(0x15a),loading);}async function getFiat(){const _0x2e92d4=_0x202b32;let _0x2e5735=0x0,_0x3fae41=0x0;try{_0x2e5735=global[_0x2e92d4(0x14b)][stablecoins[_0x2e92d4(0xfa)][_0x2e92d4(0x136)]],_0x3fae41=global[_0x2e92d4(0x14b)][stablecoins[_0x2e92d4(0x184)][_0x2e92d4(0x136)]];}catch(_0x5fa3a3){await handleError(_0x5fa3a3,_0x2e92d4(0x152));}return{'eur':Number(_0x2e5735),'usd':Number(_0x3fae41)};}function setStartDatePerformance(){const _0x4c5d23=_0x202b32;if(config&&config[_0x4c5d23(0x112)][0x0]['changes'][_0x4c5d23(0x17d)]!=0x0){const _0x50c51f=config[_0x4c5d23(0x112)][0x0][_0x4c5d23(0xd0)];dbPerformance[_0x4c5d23(0x9d)]('data')[_0x4c5d23(0x95)]({'date':config[_0x4c5d23(0x17c)]})['assign']({'coins':_0x50c51f})[_0x4c5d23(0xdb)]();}}async function recreateHistory(_0x25857f){const _0x13a5cb=_0x202b32;let _0x1f31c5,_0x4eb6a2=[];logHistory(_0x13a5cb(0x13f),_0x13a5cb(0xd3)),_0x25857f[_0x13a5cb(0x14c)][_0x13a5cb(0x151)](_0x24e70d=>{const _0x2bb5c5=_0x13a5cb;if(_0x24e70d[_0x2bb5c5(0x136)]!=config[_0x2bb5c5(0x1a6)]&&!_0x24e70d[_0x2bb5c5(0xf8)])_0x4eb6a2[_0x2bb5c5(0x18b)]({'coin':_0x24e70d['coin'],'symbol':_0x24e70d[_0x2bb5c5(0xe7)]});});let _0x3cba9f=[];try{const _0x16d46b=fns[_0x13a5cb(0x101)](fns['parseISO'](_0x25857f[_0x13a5cb(0x17c)][_0x13a5cb(0x143)](/\//g,'-')),_0x13a5cb(0x18a));for(const _0x3b7ff2 of _0x4eb6a2){if(_0x3b7ff2[_0x13a5cb(0x136)]!=config['basecoin'])_0x1f31c5=await exchange['fetchOrders'](_0x3b7ff2['symbol'],Date['parse'](_0x16d46b));_0x1f31c5[_0x13a5cb(0x151)](_0x306a57=>{const _0x1a7e94=_0x13a5cb,_0x5df64e=_0x3b7ff2[_0x1a7e94(0xe7)][_0x1a7e94(0x120)](config[_0x1a7e94(0x1a6)]+'/'),_0x1d17c5=fns[_0x1a7e94(0x101)](fns[_0x1a7e94(0xbd)](_0x306a57['datetime']),'yyyy/MM/dd\x20HH:mm:ss'),_0x3e3914=fns['format'](fns[_0x1a7e94(0xbd)](_0x306a57[_0x1a7e94(0x15c)]),'yyyy/MM/dd');let _0x2fa6b9;if(_0x306a57[_0x1a7e94(0x129)]==_0x1a7e94(0x8f)&&_0x5df64e==![])_0x2fa6b9=_0x306a57['amount'];if(_0x306a57[_0x1a7e94(0x129)]==_0x1a7e94(0x8f)&&_0x5df64e==!![])_0x2fa6b9=-_0x306a57[_0x1a7e94(0x1b2)]*_0x306a57[_0x1a7e94(0xff)];if(_0x306a57[_0x1a7e94(0x129)]==_0x1a7e94(0x104)&&_0x5df64e==![])_0x2fa6b9=-_0x306a57[_0x1a7e94(0x1b2)];if(_0x306a57['side']==_0x1a7e94(0x104)&&_0x5df64e==!![])_0x2fa6b9=_0x306a57[_0x1a7e94(0x1b2)]*_0x306a57['price'];_0x3cba9f['push']({'timestamp':_0x1d17c5,'date':_0x3e3914,'coin':_0x3b7ff2['coin'],'symbol':_0x3b7ff2[_0x1a7e94(0xe7)],'type':_0x306a57['type'],'side':_0x306a57['side'],'reverse':_0x5df64e,'amount':formatResult(_0x306a57[_0x1a7e94(0x103)],0x8),'filled':formatResult(_0x306a57[_0x1a7e94(0x103)],0x8),'coinamount':formatResult(_0x2fa6b9,0x8),'price':formatResult(_0x306a57['price'],0x8)});let _0x171f69;if(_0x306a57['side']==_0x1a7e94(0x8f)&&_0x5df64e==![])_0x171f69=-_0x306a57[_0x1a7e94(0x1b2)]*_0x306a57['price'];if(_0x306a57[_0x1a7e94(0x129)]=='buy'&&_0x5df64e==!![])_0x171f69=_0x306a57[_0x1a7e94(0x1b2)];if(_0x306a57['side']==_0x1a7e94(0x104)&&_0x5df64e==![])_0x171f69=_0x306a57[_0x1a7e94(0x1b2)]*_0x306a57[_0x1a7e94(0xff)];if(_0x306a57[_0x1a7e94(0x129)]==_0x1a7e94(0x104)&&_0x5df64e==!![])_0x171f69=-_0x306a57['amount'];_0x3cba9f[_0x1a7e94(0x18b)]({'date':_0x3e3914,'coin':config['basecoin'],'coinamount':formatResult(_0x171f69,0x8)});});}_0x3cba9f[_0x13a5cb(0xea)]((_0x13a1be,_0x3a7064)=>_0x13a1be[_0x13a5cb(0x15b)]>_0x3a7064['timestamp']?0x1:_0x3a7064[_0x13a5cb(0x15b)]>_0x13a1be[_0x13a5cb(0x15b)]?-0x1:0x0),dbLogs['get'](_0x13a5cb(0x128))[_0x13a5cb(0xef)]()['write'](),_0x3cba9f['forEach'](_0x18e43f=>{const _0x15185c=_0x13a5cb;let _0x3ab5a5;_0x18e43f['coin']!=config[_0x15185c(0x1a6)]&&(_0x3ab5a5={'time':_0x18e43f[_0x15185c(0x15b)],'type':_0x15185c(0x91),'event':'Order:\x20'+_0x18e43f[_0x15185c(0xe7)]+'\x20'+_0x18e43f[_0x15185c(0x129)]+'\x20#'+_0x18e43f[_0x15185c(0x1b2)]+'\x20@'+_0x18e43f['price']},dbLogs[_0x15185c(0x9d)](_0x15185c(0x128))[_0x15185c(0x18b)](_0x3ab5a5)[_0x15185c(0xdb)]());});const _0x3e8d75=fns[_0x13a5cb(0x1b1)]({'start':new Date(_0x25857f[_0x13a5cb(0x17c)]),'end':new Date()})['map'](_0x5ed9db=>fns[_0x13a5cb(0x101)](_0x5ed9db,_0x13a5cb(0x155)));let _0x1a2f61=[];_0x25857f['portfolio'][_0x13a5cb(0x151)](_0x68e4ec=>{const _0x3558ad=_0x13a5cb;if(!_0x68e4ec[_0x3558ad(0xf8)]){_0x1a2f61[_0x68e4ec[_0x3558ad(0x136)]]=[];let _0x4ea7a9=_0x68e4ec[_0x3558ad(0xa8)];_0x3e8d75[_0x3558ad(0x151)]((_0x25aa2f,_0x428c54)=>{const _0x56402b=_0x3558ad;let _0x39471f=_0x3cba9f[_0x56402b(0x106)](_0x5b677d=>_0x5b677d[_0x56402b(0x136)]==_0x68e4ec['coin']&&_0x5b677d[_0x56402b(0xce)]==_0x25aa2f);if(_0x39471f[_0x56402b(0x17d)]!=0x0){let _0x8abb0=_0x39471f[_0x56402b(0x18f)]((_0x184c59,_0x25e952)=>{const _0x47adcf=_0x56402b;return _0x184c59+=_0x25e952[_0x47adcf(0x16c)],_0x184c59;},0x0);_0x4ea7a9+=_0x8abb0;}_0x1a2f61[_0x68e4ec[_0x56402b(0x136)]][_0x25aa2f]=_0x4ea7a9;});}});const _0x1c490b=[..._0x4eb6a2];_0x1c490b[_0x13a5cb(0x18b)]({'coin':stablecoins[_0x13a5cb(0xfa)][_0x13a5cb(0x136)],'symbol':stablecoins[_0x13a5cb(0xfa)]['symbol']}),_0x1c490b[_0x13a5cb(0x18b)]({'coin':stablecoins[_0x13a5cb(0x184)][_0x13a5cb(0x136)],'symbol':stablecoins[_0x13a5cb(0x184)]['symbol']});let _0x3dc347=[];for(const _0x222282 of _0x1c490b){_0x3dc347[_0x222282[_0x13a5cb(0x136)]]=await getCloses(_0x222282[_0x13a5cb(0xe7)],new Date(_0x25857f['startdate']));}dbPerformance['get'](_0x13a5cb(0x198))[_0x13a5cb(0xef)]()[_0x13a5cb(0xdb)](),_0x3e8d75[_0x13a5cb(0x151)]((_0x28ec05,_0x407b79)=>{const _0x36246a=_0x13a5cb;let _0x2b9928,_0x53e74c=[];_0x407b79==0x0?(_0x25857f[_0x36246a(0x14c)][_0x36246a(0x151)](_0x1448df=>{const _0x1db0ef=_0x36246a;!_0x1448df[_0x1db0ef(0xf8)]&&_0x53e74c['push']({'coin':_0x1448df['coin'],'number':_0x1448df[_0x1db0ef(0xa8)],'price':_0x1448df['startprice']});}),_0x2b9928={'date':_0x28ec05,'eur':_0x3dc347[stablecoins[_0x36246a(0xfa)][_0x36246a(0x136)]][_0x407b79],'usd':_0x3dc347[stablecoins[_0x36246a(0x184)][_0x36246a(0x136)]][_0x407b79],'coins':_0x53e74c}):(_0x25857f[_0x36246a(0x14c)][_0x36246a(0x151)](_0x591d38=>{const _0x8471b3=_0x36246a;!_0x591d38[_0x8471b3(0xf8)]&&_0x53e74c[_0x8471b3(0x18b)]({'coin':_0x591d38[_0x8471b3(0x136)],'number':_0x1a2f61[_0x591d38['coin']][_0x28ec05],'price':_0x591d38['coin']==config['basecoin']?0x1:_0x3dc347[_0x591d38[_0x8471b3(0x136)]][_0x407b79]});}),_0x2b9928={'date':_0x28ec05,'eur':_0x3dc347[stablecoins['eur'][_0x36246a(0x136)]][_0x407b79],'usd':_0x3dc347[stablecoins[_0x36246a(0x184)][_0x36246a(0x136)]][_0x407b79],'coins':_0x53e74c}),dbPerformance[_0x36246a(0x9d)](_0x36246a(0x198))[_0x36246a(0x18b)](_0x2b9928)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x3814bb of _0x3cba9f){_0x3814bb[_0x13a5cb(0x136)]!=config['basecoin']&&await updateCoinResults(_0x3814bb);}logHistory(_0x13a5cb(0x13f),_0x13a5cb(0x166));}catch(_0x1fb8d0){await handleError(_0x1fb8d0,_0x13a5cb(0xca));}}async function validate24hChanges(){const _0x16d1ac=_0x202b32;let _0x369f00;for(const _0x42013e of currentCoins){if(_0x42013e[_0x16d1ac(0x136)]!=config[_0x16d1ac(0x1a6)]){let _0x3c036f;_0x42013e[_0x16d1ac(0x10f)]?_0x3c036f=formatResult((0x1/(global['change'][noslash(_0x42013e[_0x16d1ac(0xe7)])]/0x64+0x1)-0x1)*0x64,0x3):_0x3c036f=global['change'][noslash(_0x42013e[_0x16d1ac(0xe7)])],_0x3c036f<config[_0x16d1ac(0x156)]&&(logHistory(_0x16d1ac(0x14a),_0x42013e[_0x16d1ac(0x136)]+_0x16d1ac(0x149)+_0x3c036f+'%'),logHistory('error',_0x16d1ac(0x13d)),logHistory(_0x16d1ac(0x14a),_0x16d1ac(0xc7)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x29ac62,_0x662a43,_0x2b0964=undefined){const _0x367d97=_0x202b32,_0xb41c7c='1d';let _0x21449a,_0x376858;const _0x4bec48=fns[_0x367d97(0x185)](new Date(),_0x662a43)+0x1;try{const _0x322a8a=exchange['milliseconds']()-_0x4bec48*0x18*0xe10*0x3e8;_0x21449a=await exchange[_0x367d97(0x132)](_0x29ac62,_0xb41c7c,_0x322a8a,_0x2b0964),_0x376858=await exchange['fetchTickers'](_0x29ac62);}catch(_0x4fd99e){await handleError(_0x4fd99e,_0x367d97(0xb3));}let _0x2a52a9=ohlcvToCloses(_0x21449a);return _0x2a52a9[_0x367d97(0x18b)](_0x376858[_0x29ac62][_0x367d97(0x187)]),_0x2a52a9;}function ohlcvToCloses(_0x3e9c59){let _0x54d9cc=[];return _0x3e9c59['forEach'](function(_0x432011){const _0x114700=_0x5969;_0x54d9cc[_0x114700(0x18b)](_0x432011[0x4]);}),_0x54d9cc;}function oneTimeMigration(){const _0x351bf7=_0x202b32;let _0x5c0fd1=dbLogs[_0x351bf7(0x9d)](_0x351bf7(0x189))['value']();if(_0x5c0fd1!=_0x351bf7(0x196)){dbLogs['set'](_0x351bf7(0x189),_0x351bf7(0x196))['write']();let _0x11c295=[];const _0x1cf7cc=dbLogs['get'](_0x351bf7(0x128))[_0x351bf7(0x131)]();_0x1cf7cc[_0x351bf7(0x151)](_0x1f3a4f=>{const _0x199b3f=_0x351bf7;_0x11c295[_0x199b3f(0x18b)]({'time':_0x1f3a4f[_0x199b3f(0xe0)],'type':_0x1f3a4f[_0x199b3f(0xaa)],'event':_0x1f3a4f[_0x199b3f(0xf3)]});}),dbLogs[_0x351bf7(0x9d)]('logs')[_0x351bf7(0x11b)](_0x11c295)[_0x351bf7(0xdb)]();}let _0x569a91=dbConfig[_0x351bf7(0x9d)](_0x351bf7(0x189))[_0x351bf7(0x131)]();if(_0x569a91!=_0x351bf7(0x196)){dbConfig['set'](_0x351bf7(0x189),_0x351bf7(0x196))[_0x351bf7(0xdb)]();let _0x2dadd3=dbConfig['get']('bot')[_0x351bf7(0x95)]({'botID':botID})['value']();if(_0x2dadd3){let _0x438628=[];_0x2dadd3[_0x351bf7(0x14c)]['forEach'](_0x1f33ea=>{const _0x2ab817=_0x351bf7;_0x438628[_0x2ab817(0x18b)]({'coin':_0x1f33ea[_0x2ab817(0x136)],'number':_0x1f33ea['startnumber'],'price':_0x1f33ea['startprice']}),delete _0x1f33ea['startnumber'],delete _0x1f33ea[_0x2ab817(0x12c)];});if(_0x438628[_0x351bf7(0x17d)]!==0x0)fs[_0x351bf7(0xbc)](configbackuppath+(_0x351bf7(0x1ac)+botID+_0x351bf7(0x193)),JSON[_0x351bf7(0x168)](_0x438628,null,0x4),function(_0x2d523f){if(_0x2d523f){}});const _0x550b0a=(_0x3b39d8,_0x1fd3ee)=>{const _0x42fa1c=_0x351bf7;let _0x449433=[];_0x1fd3ee[_0x42fa1c(0x151)](_0x3ca48a=>{const _0x1979a4=_0x42fa1c,_0x173eda=_0x3b39d8[_0x1979a4(0x95)](_0x16e965=>_0x16e965[_0x1979a4(0x136)]==_0x3ca48a[_0x1979a4(0x136)]);if(!_0x173eda)_0x449433[_0x1979a4(0x18b)](_0x3ca48a);});let _0x5150a0=[];return _0x3b39d8[_0x42fa1c(0x151)](_0x4c3255=>{const _0x390163=_0x42fa1c,_0x21460b=_0x1fd3ee['find'](_0x17cb80=>_0x17cb80[_0x390163(0x136)]==_0x4c3255['coin']);if(!_0x21460b||_0x21460b[_0x390163(0xfd)]==0x0&&_0x4c3255['number']!=0x0)_0x5150a0[_0x390163(0x18b)](_0x4c3255);}),{'missingDay1':_0x449433,'notInDay2':_0x5150a0};},_0x1019b9=dbPerformance[_0x351bf7(0x9d)]('data')[_0x351bf7(0x1b3)]()[_0x351bf7(0x131)]();if(_0x1019b9[_0x351bf7(0x17d)]>0x1){const {missingDay1:_0x4e01ab,notInDay2:_0x2f815d}=_0x550b0a(_0x438628,_0x1019b9[0x1][_0x351bf7(0x9e)]);_0x438628=[..._0x438628,..._0x4e01ab],_0x2f815d[_0x351bf7(0x151)](_0x4c6826=>{const _0x1b6035=_0x351bf7;let _0x12246b=_0x438628['findIndex'](_0x160a72=>_0x160a72[_0x1b6035(0x136)]==_0x4c6826[_0x1b6035(0x136)]);_0x12246b!=-0x1&&_0x438628[_0x1b6035(0x113)](_0x12246b,0x1);});}_0x438628[_0x351bf7(0xea)]((_0xe99343,_0x31ebe2)=>_0xe99343[_0x351bf7(0x136)]>_0x31ebe2[_0x351bf7(0x136)]?0x1:_0x31ebe2[_0x351bf7(0x136)]>_0xe99343[_0x351bf7(0x136)]?-0x1:0x0);let _0x4bfc56=[{'date':_0x2dadd3[_0x351bf7(0x17c)],'changes':_0x438628}];_0x1019b9[_0x351bf7(0x17d)]>0x2&&_0x1019b9[_0x351bf7(0x151)]((_0x1d3f37,_0xa244d1)=>{const _0x202aa7=_0x351bf7;if(_0xa244d1>0x0&&_0xa244d1<_0x1019b9[_0x202aa7(0x17d)]-0x1){const {missingDay1:_0xab7522,notInDay2:_0x397c68}=_0x550b0a(_0x1019b9[_0xa244d1][_0x202aa7(0x9e)],_0x1019b9[_0xa244d1+0x1][_0x202aa7(0x9e)]);_0x438628=[],(_0xab7522[_0x202aa7(0x17d)]!=0x0||_0x397c68['length']!=0x0)&&(_0xab7522[_0x202aa7(0x17d)]!=0x0&&_0x438628[_0x202aa7(0x18b)](..._0xab7522),_0x397c68[_0x202aa7(0x17d)]!=0x0&&(_0x397c68['forEach'](_0x3f20f8=>{const _0x2e42b0=_0x202aa7;_0x3f20f8['number']=-_0x3f20f8[_0x2e42b0(0xfd)];}),_0x438628[_0x202aa7(0x18b)](..._0x397c68)),_0x438628[_0x202aa7(0xea)]((_0x2c189b,_0x4aed48)=>_0x2c189b['coin']>_0x4aed48[_0x202aa7(0x136)]?0x1:_0x4aed48[_0x202aa7(0x136)]>_0x2c189b[_0x202aa7(0x136)]?-0x1:0x0),_0x4bfc56[_0x202aa7(0x18b)]({'date':_0x1019b9[_0xa244d1+0x1][_0x202aa7(0xce)],'changes':_0x438628}));}}),dbConfig['get'](_0x351bf7(0xc1))[_0x351bf7(0x95)]({'botID':botID})['assign']({..._0x2dadd3,'liquidity':_0x4bfc56})[_0x351bf7(0xdb)]();}}config=getConfiguration(botID);let _0x4d0663=dbPerformance[_0x351bf7(0x9d)]('version')['value']();_0x4d0663!=_0x351bf7(0x196)&&(dbPerformance['set'](_0x351bf7(0x189),_0x351bf7(0x196))['write'](),setStartDatePerformance());let _0x1e3621=dbCoinResults['get'](_0x351bf7(0x189))[_0x351bf7(0x131)]();_0x1e3621!=_0x351bf7(0xe8)&&(dbCoinResults[_0x351bf7(0x9d)]('coins')[_0x351bf7(0xef)]()['write'](),dbCoinResults[_0x351bf7(0x171)](_0x351bf7(0x189),_0x351bf7(0xe8))[_0x351bf7(0xdb)](),dbCoinResults[_0x351bf7(0x171)](_0x351bf7(0xe6),getTimeStamp())[_0x351bf7(0xdb)]());}function getConfiguration(_0xb1eb0e){const _0x1e88ea=_0x202b32;let _0x25764e=dbConfig[_0x1e88ea(0x9d)](_0x1e88ea(0xc1))[_0x1e88ea(0x95)]({'botID':_0xb1eb0e})['value']();if(_0x25764e){let _0x2f43f7=![];typeof _0x25764e[_0x1e88ea(0x19c)]==_0x1e88ea(0x146)&&(_0x25764e={..._0x25764e,'threshold':Number(_0x25764e[_0x1e88ea(0x19c)])},_0x2f43f7=!![]),_0x25764e[_0x1e88ea(0x156)]==null&&(_0x25764e={..._0x25764e,'change24h':-0x14},_0x2f43f7=!![]),_0x2f43f7&&(_0x25764e={'botID':_0x25764e[_0x1e88ea(0x10a)],'exchange':_0x25764e['exchange'],'apiKey':_0x25764e[_0x1e88ea(0x11c)],'apiSecret':_0x25764e['apiSecret'],'basecoin':_0x25764e['basecoin'],'botname':_0x25764e['botname'],'showname':_0x25764e[_0x1e88ea(0x15f)],'threshold':_0x25764e[_0x1e88ea(0x19c)],'ordertype':_0x25764e['ordertype'],'timeout':_0x25764e[_0x1e88ea(0xe9)],'startdate':_0x25764e[_0x1e88ea(0x17c)],'recreate':_0x25764e['recreate'],'timeshift':_0x25764e[_0x1e88ea(0x154)],'headless':_0x25764e[_0x1e88ea(0xf9)],'cooldown':_0x25764e[_0x1e88ea(0x116)],'change24h':_0x25764e[_0x1e88ea(0x156)],'emojibuy':_0x25764e[_0x1e88ea(0x12e)],'emojisell':_0x25764e[_0x1e88ea(0xb1)],'portfolio':_0x25764e[_0x1e88ea(0x14c)],'liquidity':_0x25764e[_0x1e88ea(0x112)]},dbConfig['get'](_0x1e88ea(0xc1))[_0x1e88ea(0xef)]()[_0x1e88ea(0xdb)](),dbConfig[_0x1e88ea(0x9d)]('bot')[_0x1e88ea(0x18b)](_0x25764e)[_0x1e88ea(0xdb)]());}else _0x25764e={'botID':_0xb1eb0e,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x1e88ea(0xcf)+_0xb1eb0e,'showname':![],'threshold':0x3,'ordertype':_0x1e88ea(0xa0),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1e88ea(0x154)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x25764e;}function emittedConfiguration(){const _0x3f48bc=_0x202b32;let _0xa3e5eb;return config[_0x3f48bc(0x11c)]==''?_0xa3e5eb=config:_0xa3e5eb={...config,'apiKey':_0x3f48bc(0x110),'apiSecret':_0x3f48bc(0x110)},_0xa3e5eb;}function getSettings(){const _0x23aa8e=_0x202b32;return dbSettings[_0x23aa8e(0x9d)](_0x23aa8e(0x16b))['value']();}function getSecure(){const _0x1ce7cb=_0x202b32;return dbSecure[_0x1ce7cb(0x9d)](_0x1ce7cb(0xc8))['value']()||{};}function updateTimeshift(_0xc468c0){const _0x4d8272=_0x202b32;let _0x6dbacb=dbConfig[_0x4d8272(0x9d)](_0x4d8272(0xc1))['find']({'botID':botID})['value']();_0x6dbacb&&dbConfig[_0x4d8272(0x9d)](_0x4d8272(0xc1))[_0x4d8272(0x95)]({'botID':botID})[_0x4d8272(0x11b)]({'timeshift':_0xc468c0})['write'](),config['timeshift']=_0xc468c0,proxyEmit(_0x4d8272(0x18e),emittedConfiguration());}async function storeConfiguration(_0x1ee293){const _0x542815=_0x202b32;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x5929a4=dbConfig[_0x542815(0x9d)](_0x542815(0xc1))[_0x542815(0x95)]({'botID':botID})['value']();_0x1ee293={..._0x1ee293,'apiKey':crypt['decrypt'](secure[_0x542815(0x92)],_0x1ee293[_0x542815(0x11c)])['message'],'apiSecret':crypt[_0x542815(0x11f)](secure[_0x542815(0x92)],_0x1ee293['apiSecret'])['message']};if(_0x5929a4){if(_0x1ee293[_0x542815(0x11c)]==_0x542815(0x110))_0x1ee293['apiKey']=config['apiKey'];if(_0x1ee293[_0x542815(0x160)]==_0x542815(0x110))_0x1ee293['apiSecret']=config['apiSecret'];dbConfig[_0x542815(0x9d)]('bot')[_0x542815(0x95)]({'botID':botID})[_0x542815(0x11b)](_0x1ee293)[_0x542815(0xdb)]();}else dbConfig['get']('bot')[_0x542815(0x18b)](_0x1ee293)[_0x542815(0xdb)](),process[_0x542815(0x153)]({'status':'enabled','live':_0x542815(0x19d)},_0x9be49b=>{});config={..._0x1ee293},setStartDatePerformance(),process['send']({'botname':_0x1ee293['botname']},_0x88de47=>{}),updateBotManager();const _0x19786d=getNormalizedPerformance();getStartingBalances(_0x19786d),emitPerformance(_0x19786d),proxyEmit(_0x542815(0xe1)),reset();}async function storeHeadless(_0x3143a3){const _0x177dbf=_0x202b32,_0x5eec81={...config,'headless':_0x3143a3[_0x177dbf(0xf9)]};let _0x515c65=dbConfig[_0x177dbf(0x9d)](_0x177dbf(0xc1))[_0x177dbf(0x95)]({'botID':botID})[_0x177dbf(0x131)]();_0x515c65&&dbConfig[_0x177dbf(0x9d)](_0x177dbf(0xc1))[_0x177dbf(0x95)]({'botID':botID})[_0x177dbf(0x11b)](_0x5eec81)['write'](),config={..._0x5eec81},updateBotManager(),proxyEmit(_0x177dbf(0x18e),emittedConfiguration());}function noslash(_0x5b760b){return _0x5b760b['replace']('/','');}async function updateNumberCoins(_0x2cdfa2){const _0x272d76=_0x202b32;_0x2cdfa2[_0x272d76(0x94)]&&_0x2cdfa2[_0x272d76(0x94)]=='outboundAccountPosition'&&(_0x2cdfa2[_0x272d76(0x10e)]!=lastOutboundEventTime&&(lastOutboundEventTime=_0x2cdfa2[_0x272d76(0x10e)],currentCoins=await getCoins(),validateOrders()));if(_0x2cdfa2['eventType']&&_0x2cdfa2['eventType']==_0x272d76(0xfb)){if(_0x2cdfa2[_0x272d76(0xda)]==_0x272d76(0x1a2)){if(lastOrders)lastOrders[_0x272d76(0x151)](async _0x242f11=>{const _0x14b949=_0x272d76;if(_0x242f11[_0x14b949(0x11d)]==_0x2cdfa2['orderId']&&_0x242f11[_0x14b949(0x103)]==0x0){_0x242f11[_0x14b949(0xff)]=_0x2cdfa2[_0x14b949(0xcb)]/_0x2cdfa2[_0x14b949(0x15e)];if(_0x242f11[_0x14b949(0x10f)])_0x242f11[_0x14b949(0x103)]=_0x2cdfa2[_0x14b949(0x15e)]*_0x242f11[_0x14b949(0xff)];else _0x242f11[_0x14b949(0x103)]=_0x2cdfa2[_0x14b949(0x15e)];_0x242f11[_0x14b949(0x133)]={'cost':_0x2cdfa2['commission'],'currency':_0x2cdfa2['commissionAsset']},currentCoins=await getCoins(),validateOrders(),await updateCoinResults(_0x242f11);}});}}}async function getCoins(_0x28b725=!![],_0xae53be=config[_0x202b32(0x1a6)]){const _0xefa828=_0x202b32;let _0x47d3ef,_0x8034d5=[],_0x42f639=[],_0x3244a6=[];try{_0x47d3ef=await exchange['fetchBalance'](),mybalances=_0x47d3ef[_0xefa828(0x15d)];if(!_0x28b725)for(const [_0x1d4c7e,_0x41537e]of Object[_0xefa828(0xbe)](mybalances)){_0x3244a6[_0xefa828(0x18b)](_0x1d4c7e);}else config['portfolio'][_0xefa828(0x151)](_0x127061=>{const _0x33fde9=_0xefa828;if(!_0x127061['excluded'])_0x3244a6['push'](_0x127061[_0x33fde9(0x136)]);});if(_0xae53be=='')for(const [_0x8f336f,_0x1d69f9]of Object['entries'](mybalances)){_0x1d69f9[_0xefa828(0x9f)]()!=0x0&&_0x42f639['push']({'coin':_0x8f336f});}else{let _0x2d9937=0x0,_0x251071=![];for(const [_0x5372bd,_0x645c11]of Object[_0xefa828(0xbe)](mybalances)){if(_0x3244a6[_0xefa828(0x120)](_0x5372bd)){const _0x2434c1=config[_0xefa828(0x14c)][_0xefa828(0x95)](_0x4f08fa=>_0x4f08fa[_0xefa828(0x136)]==_0x5372bd),_0x36cf0b=_0x5372bd+'/'+_0xae53be,_0x28bf1c=_0xae53be+'/'+_0x5372bd;_0x251071=![];if((_0x645c11['toString']()!=0x0||_0x2434c1)&&(allSymbols[_0xefa828(0x120)](_0x36cf0b)||_0x5372bd==_0xae53be)){if(_0x5372bd!=_0xae53be){_0x8034d5['push'](_0x36cf0b);const _0x2b41be=await exchange[_0xefa828(0xd5)](_0x36cf0b);_0x2b41be['length']>0x0&&(_0x251071=!![]);}_0x42f639['push']({'coin':_0x5372bd,'symbol':_0x36cf0b,'reverse':![],'number':Math[_0xefa828(0x126)](_0x645c11+(_0x2434c1&&_0x2434c1['offset']||0x0),0x0),'order':_0x251071});}else{if((_0x645c11[_0xefa828(0x9f)]()!=0x0||_0x2434c1)&&allSymbols[_0xefa828(0x120)](_0x28bf1c)){if(_0x5372bd!=_0xae53be){_0x8034d5['push'](_0x28bf1c);const _0x172c2f=await exchange['fetchOpenOrders'](_0x28bf1c);_0x172c2f[_0xefa828(0x17d)]>0x0&&(_0x251071=!![]);}_0x42f639[_0xefa828(0x18b)]({'coin':_0x5372bd,'symbol':_0x28bf1c,'reverse':!![],'number':Math[_0xefa828(0x126)](_0x645c11+(_0x2434c1&&_0x2434c1['offset']||0x0),0x0),'order':_0x251071});}}}if(_0x251071)_0x2d9937++;}_0x2d9937==0x0&&(lockOrders&&validateOrders(_0xefa828(0x119)));}}catch(_0x2472b1){if(!_0x28b725){if(_0x2472b1[_0xefa828(0x9f)]()[_0xefa828(0x120)]('API-key\x20format\x20invalid'))return logHistory(_0xefa828(0x14a),_0xefa828(0x186)),![];else{if(_0x2472b1[_0xefa828(0x9f)]()[_0xefa828(0x120)](_0xefa828(0x180)))return logHistory(_0xefa828(0x14a),_0xefa828(0x1a5)),![];else{if(_0x2472b1[_0xefa828(0x9f)]()[_0xefa828(0x120)](_0xefa828(0x141)))return logHistory(_0xefa828(0x14a),_0xefa828(0x108)),![];else await handleError(_0x2472b1,'getCoins()');}}}else await handleError(_0x2472b1,_0xefa828(0x115));}return _0x42f639;}function _0x5969(_0x3b1678,_0x220356){const _0x15f1d3=_0x34de();return _0x5969=function(_0x51d221,_0x5b093d){_0x51d221=_0x51d221-0x8c;let _0x34de7c=_0x15f1d3[_0x51d221];return _0x34de7c;},_0x5969(_0x3b1678,_0x220356);}async function getPortfolio(_0x2a5dc4){const _0x109289=_0x202b32;let _0x3fdc48=[],_0x2b4420=[],_0x460083,_0x446387=[],_0x1e9dad,_0x2a1555;_0x2a5dc4[_0x109289(0x11c)]===_0x109289(0x110)||_0x2a5dc4[_0x109289(0x160)]===_0x109289(0x110)?(_0x1e9dad=config['apiKey'],_0x2a1555=config[_0x109289(0x160)]):(_0x1e9dad=_0x2a5dc4[_0x109289(0x11c)],_0x2a1555=_0x2a5dc4[_0x109289(0x160)]);await initExchange(_0x1e9dad,_0x2a1555);let _0x197d6a=await loadSymbols();if(_0x197d6a){_0x446387=await getCoins(![],_0x2a5dc4[_0x109289(0x1a6)]);if(_0x446387===![])proxyEmit(_0x109289(0x14c),![]);else{if(_0x2a5dc4[_0x109289(0x1a6)]=='')proxyEmit('portfolio',_0x446387);else{_0x446387[_0x109289(0x151)](_0x1c7a91=>{const _0xeb81e=_0x109289;_0x3fdc48[_0xeb81e(0x18b)](_0x1c7a91[_0xeb81e(0xe7)]);});try{_0x2b4420=await exchange[_0x109289(0x111)](_0x3fdc48);}catch(_0x2cf3ba){await handleError(_0x2cf3ba,'getPortfolio()');}_0x446387[_0x109289(0x151)](_0x3e3148=>{const _0x5262d2=_0x109289;_0x3e3148[_0x5262d2(0x136)]!=_0x2a5dc4[_0x5262d2(0x1a6)]?_0x460083=_0x3e3148[_0x5262d2(0x10f)]?0x1/_0x2b4420[_0x3e3148[_0x5262d2(0xe7)]]['last']:_0x2b4420[_0x3e3148[_0x5262d2(0xe7)]][_0x5262d2(0x187)]:_0x460083=0x1,_0x3e3148['price']=formatResult(_0x460083,0x8);}),proxyEmit(_0x109289(0x14c),_0x446387);}}}else proxyEmit(_0x109289(0x14c),![]);}function checkMinimums(_0x1cc13a){const _0x40188a=_0x202b32;let _0x1ce44a=!![];const _0x200f9f=!_0x1cc13a[_0x40188a(0x10f)]?markets[_0x1cc13a[_0x40188a(0xe7)]][_0x40188a(0x174)][_0x40188a(0x1b2)][_0x40188a(0xd8)]:markets[_0x1cc13a[_0x40188a(0xe7)]][_0x40188a(0x174)][_0x40188a(0xe3)]['min'],_0x150390=!_0x1cc13a[_0x40188a(0x10f)]?markets[_0x1cc13a['symbol']][_0x40188a(0x174)][_0x40188a(0xe3)]['min']:markets[_0x1cc13a[_0x40188a(0xe7)]][_0x40188a(0x174)]['amount'][_0x40188a(0xd8)];if(Math['abs'](_0x1cc13a[_0x40188a(0x182)])<_0x200f9f)_0x1ce44a=![];if(Math[_0x40188a(0x12b)](_0x1cc13a[_0x40188a(0x182)])*_0x1cc13a[_0x40188a(0x187)]<_0x150390)_0x1ce44a=![];if(_0x1cc13a[_0x40188a(0x129)]=='sell'){let _0x207231=config[_0x40188a(0x14c)]['find'](_0x4bcd1a=>_0x4bcd1a[_0x40188a(0x136)]==_0x1cc13a[_0x40188a(0x136)]);if(_0x207231['offset']>0x0){if(Math['abs'](_0x1cc13a['trade'])>_0x1cc13a[_0x40188a(0xfd)]-_0x207231['offset'])_0x1ce44a=![];}else{if(Math[_0x40188a(0x12b)](_0x1cc13a[_0x40188a(0x182)])>_0x1cc13a[_0x40188a(0xfd)])_0x1ce44a=![];}}if(_0x1cc13a[_0x40188a(0x129)]=='buy'){let _0x1df0fe=config[_0x40188a(0x14c)][_0x40188a(0x95)](_0x3576eb=>_0x3576eb[_0x40188a(0x136)]==config[_0x40188a(0x1a6)]),_0x3d740d=currentCoins['find'](_0x1b70e0=>_0x1b70e0['coin']==config[_0x40188a(0x1a6)]);if(_0x1df0fe[_0x40188a(0x9b)]>0x0){if(Math[_0x40188a(0x12b)](_0x1cc13a[_0x40188a(0x182)])*_0x1cc13a[_0x40188a(0x187)]>_0x3d740d['number']-_0x1df0fe[_0x40188a(0x9b)])_0x1ce44a=![];}else{if(Math[_0x40188a(0x12b)](_0x1cc13a[_0x40188a(0x182)])*_0x1cc13a[_0x40188a(0x187)]>_0x3d740d[_0x40188a(0xfd)])_0x1ce44a=![];}}return _0x1ce44a;}async function getBalances(){const _0xfefa0c=_0x202b32;let _0x189d30=0x0,_0x38e6f7;const _0x259f21=config[_0xfefa0c(0x19c)];if(config[_0xfefa0c(0xf9)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0xfefa0c(0x151)](_0x4b8c0b=>{const _0x4622a7=_0xfefa0c;if(_0x4b8c0b[_0x4622a7(0x136)]!=config['basecoin']){let _0x3d8af0=global[_0x4622a7(0x14b)][noslash(_0x4b8c0b[_0x4622a7(0xe7)])];_0x38e6f7=_0x4b8c0b[_0x4622a7(0x10f)]?0x1/_0x3d8af0:_0x3d8af0;}else _0x38e6f7=0x1;let _0x2dc3dd=_0x4b8c0b[_0x4622a7(0xfd)]*_0x38e6f7;_0x189d30+=_0x2dc3dd,_0x4b8c0b[_0x4622a7(0x187)]=formatResult(Number(_0x38e6f7),0x8),_0x4b8c0b['value']=_0x2dc3dd;}),currentCoins[_0xfefa0c(0x151)](_0x33ce4d=>{const _0xf65336=_0xfefa0c;let _0x51ac78=config['portfolio'][_0xf65336(0x95)](_0x35d0bd=>_0x35d0bd[_0xf65336(0x136)]==_0x33ce4d[_0xf65336(0x136)]),_0x264f6b=Number(_0x51ac78[_0xf65336(0x12a)]),_0x4b63ea=_0x33ce4d[_0xf65336(0x131)]/_0x189d30*0x64,_0xaf0bfb=_0x264f6b*_0x189d30/0x64/_0x33ce4d[_0xf65336(0x187)]-_0x33ce4d[_0xf65336(0xfd)];_0x33ce4d[_0xf65336(0x12a)]=formatResult(_0x4b63ea,0x3),_0x33ce4d[_0xf65336(0x19a)]=formatResult(_0x264f6b,0x3),_0x33ce4d[_0xf65336(0x182)]=formatResult(_0xaf0bfb,0x8),_0x33ce4d['side']='',_0x33ce4d[_0xf65336(0x19f)]=![];if(_0x33ce4d[_0xf65336(0x136)]!=config[_0xf65336(0x1a6)]){if(_0x33ce4d[_0xf65336(0x12a)]>_0x264f6b)_0x33ce4d[_0xf65336(0x129)]=_0xf65336(0x104),_0x33ce4d[_0xf65336(0x19f)]=checkMinimums(_0x33ce4d);else _0x33ce4d[_0xf65336(0x12a)]<_0x264f6b&&(_0x33ce4d[_0xf65336(0x129)]=_0xf65336(0x8f),_0x33ce4d[_0xf65336(0x19f)]=checkMinimums(_0x33ce4d));}_0x33ce4d[_0xf65336(0x1a4)]=_0x33ce4d[_0xf65336(0x12a)]/_0x33ce4d[_0xf65336(0x19a)]-0x1;}),currentCoins[_0xfefa0c(0xea)]((_0x593862,_0x35d4ac)=>_0x593862[_0xfefa0c(0x1a4)]<_0x35d4ac[_0xfefa0c(0x1a4)]?0x1:_0x35d4ac[_0xfefa0c(0x1a4)]<_0x593862['delta']?-0x1:0x0);const _0x57153b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x57153b[_0xfefa0c(0xfa)],'usd':_0x57153b['usd'],'portfolio':JSON[_0xfefa0c(0x168)](currentCoins),'threshold':_0x259f21},proxyEmit(_0xfefa0c(0x170),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x259f21});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x259f21});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x311bd5=_0x202b32;if(!lastBalances)return;let _0x1a9e5e=[],_0x157e39,_0x37c174=JSON[_0x311bd5(0x1b6)](lastBalances['portfolio']);_0x37c174[_0x311bd5(0xea)]((_0x189682,_0x4e775a)=>_0x189682['coin']>_0x4e775a['coin']?0x1:_0x4e775a[_0x311bd5(0x136)]>_0x189682[_0x311bd5(0x136)]?-0x1:0x0),_0x37c174[_0x311bd5(0x151)](_0x422f54=>{const _0x5c2222=_0x311bd5;let _0x454c87={'coin':_0x422f54['coin'],'number':_0x422f54[_0x5c2222(0xfd)],'price':_0x422f54[_0x5c2222(0x187)]};_0x1a9e5e[_0x5c2222(0x18b)](_0x454c87);});const _0x486e85=await getFiat();_0x157e39={'date':lastBalances[_0x311bd5(0xe0)][_0x311bd5(0xc6)]('\x20')[0x0],'eur':_0x486e85['eur'],'usd':_0x486e85[_0x311bd5(0x184)],'coins':_0x1a9e5e};let _0x5cc565=dbPerformance[_0x311bd5(0x9d)](_0x311bd5(0x198))[_0x311bd5(0x95)]({'date':_0x157e39[_0x311bd5(0xce)]})['value']();_0x5cc565?_0x157e39[_0x311bd5(0xce)]!=config[_0x311bd5(0x17c)]&&dbPerformance[_0x311bd5(0x9d)](_0x311bd5(0x198))[_0x311bd5(0x95)]({'date':_0x157e39[_0x311bd5(0xce)]})[_0x311bd5(0x11b)](_0x157e39)[_0x311bd5(0xdb)]():dbPerformance['get']('data')['push'](_0x157e39)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x2d4e01=_0x202b32;let _0x343dd0=[];if(dbPerformance[_0x2d4e01(0x192)](_0x2d4e01(0x198))[_0x2d4e01(0x131)]()){let _0x116b65=dbPerformance[_0x2d4e01(0x9d)]('data')['cloneDeep']()[_0x2d4e01(0xb2)](_0x2d4e01(0xce))[_0x2d4e01(0x131)](),_0x1c9635=[...config[_0x2d4e01(0x112)]];_0x1c9635[_0x2d4e01(0xea)]((_0x52b40f,_0x4bcef2)=>_0x52b40f['date']>_0x4bcef2['date']?-0x1:_0x4bcef2[_0x2d4e01(0xce)]>_0x52b40f['date']?0x1:0x0);let _0x17bfe8=0x1,_0x5199b3=[],_0x2b577e=0x0;_0x116b65[_0x2d4e01(0x172)]()[_0x2d4e01(0x10f)]()[_0x2d4e01(0x151)]((_0x428ccc,_0x1b0583)=>{const _0x55487b=_0x2d4e01;if(_0x1c9635[_0x2b577e]){if(_0x116b65[_0x116b65[_0x55487b(0x17d)]-_0x1b0583]&&_0x1c9635[_0x2b577e][_0x55487b(0xce)]==_0x116b65[_0x116b65['length']-_0x1b0583]['date']){if(_0x1b0583<_0x116b65['length']){let _0x5db5e5=0x0,_0x153d86=0x0;_0x116b65[_0x116b65[_0x55487b(0x17d)]-_0x1b0583][_0x55487b(0x9e)][_0x55487b(0x151)](_0xf26ae8=>{const _0x4168bc=_0x55487b;_0x153d86+=_0xf26ae8[_0x4168bc(0xfd)]*_0xf26ae8[_0x4168bc(0xff)];}),_0x1c9635[_0x2b577e][_0x55487b(0xd0)][_0x55487b(0x151)](_0x30da69=>{const _0x28b17f=_0x55487b;_0x5db5e5+=_0x30da69[_0x28b17f(0xfd)]*_0x30da69[_0x28b17f(0xff)];}),_0x17bfe8*=_0x5db5e5/(_0x153d86-_0x5db5e5)+0x1;}_0x2b577e++;}}let _0x235597=0x0;_0x428ccc[_0x55487b(0x9e)][_0x55487b(0x151)](_0x42852a=>{const _0x2edfeb=_0x55487b;_0x235597+=_0x42852a[_0x2edfeb(0xfd)]*_0x42852a[_0x2edfeb(0xff)];}),_0x5199b3[_0x116b65['length']-_0x1b0583-0x1]=_0x235597*(_0x17bfe8-0x1);});let _0x4d402e=[];_0x1c9635=[...config[_0x2d4e01(0x112)]]||[];let _0x597eab=0x0;_0x2b577e=0x0,_0x116b65[_0x2d4e01(0x151)]((_0x8d4448,_0x76e12f)=>{const _0x2e48ea=_0x2d4e01;if(_0x1c9635[_0x2b577e]){const _0x45e60d=fns[_0x2e48ea(0x1b6)](_0x1c9635[_0x2b577e][_0x2e48ea(0xce)],_0x2e48ea(0x155),new Date()),_0x6c92bd=fns[_0x2e48ea(0x1b6)](_0x8d4448[_0x2e48ea(0xce)],_0x2e48ea(0x155),new Date());if(fns[_0x2e48ea(0x118)](_0x45e60d,_0x6c92bd)){let _0x2bcf56=0x0;_0x1c9635[_0x2b577e][_0x2e48ea(0xd0)][_0x2e48ea(0x151)](_0x3db3d2=>{const _0x1ef5f3=_0x2e48ea;!_0x4d402e[_0x3db3d2['coin']]?_0x4d402e[_0x3db3d2[_0x1ef5f3(0x136)]]=_0x3db3d2['number']:(_0x2bcf56=_0x4d402e[_0x3db3d2[_0x1ef5f3(0x136)]],_0x4d402e[_0x3db3d2[_0x1ef5f3(0x136)]]+=_0x3db3d2[_0x1ef5f3(0xfd)]);const _0x1f35f8=_0x8d4448[_0x1ef5f3(0x9e)]['find'](_0x17067c=>_0x17067c[_0x1ef5f3(0x136)]==_0x3db3d2[_0x1ef5f3(0x136)]);(!_0x1f35f8||_0x1f35f8[_0x1ef5f3(0xfd)]==0x0)&&(_0x597eab+=(-_0x3db3d2[_0x1ef5f3(0xfd)]-_0x2bcf56)*_0x3db3d2[_0x1ef5f3(0xff)]);}),_0x2b577e++;}}_0x8d4448[_0x2e48ea(0x9e)][_0x2e48ea(0x151)]((_0x10e2a8,_0x4f54ef)=>{const _0x8f9605=_0x2e48ea;_0x4d402e[_0x10e2a8[_0x8f9605(0x136)]]&&(_0x10e2a8={..._0x10e2a8,'initial':_0x4d402e[_0x10e2a8[_0x8f9605(0x136)]]}),_0x8d4448['coins'][_0x4f54ef]=_0x10e2a8;}),_0x343dd0[_0x2e48ea(0x18b)]({'date':_0x8d4448['date'],'eur':_0x8d4448['eur'],'usd':_0x8d4448[_0x2e48ea(0x184)],'offset':_0x5199b3[_0x76e12f],'netoffset':_0x597eab,'coins':_0x8d4448[_0x2e48ea(0x9e)]});});}return _0x343dd0;}function emitPerformance(_0x3e500f){const _0x4a686e=_0x202b32;_0x3e500f[_0x4a686e(0x17d)]!==0x0?(proxyEmit(_0x4a686e(0x18c),_0x3e500f),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x34e8c6,_0x23007b){const _0x48d72c=_0x202b32;let _0x3dd2b0=0x0,_0x5bad8f=0x0,_0x399bd2=0x0;_0x34e8c6[_0x48d72c(0x9e)][_0x48d72c(0x151)](_0x745963=>{const _0x570adc=_0x48d72c;_0x3dd2b0+=_0x745963[_0x570adc(0xfd)]*_0x745963[_0x570adc(0xff)];});_0x23007b&&(_0x3dd2b0+=_0x34e8c6[_0x48d72c(0x9b)]);if(config['basecoin']==='BTC'||config[_0x48d72c(0x1a6)]===_0x48d72c(0xb0))_0x5bad8f=_0x3dd2b0*_0x34e8c6['eur'],_0x399bd2=_0x3dd2b0*_0x34e8c6[_0x48d72c(0x184)];else{if(config[_0x48d72c(0x1a6)]===_0x48d72c(0xf4)||config[_0x48d72c(0x1a6)]==='USDT'||config['basecoin']==='USDC')_0x5bad8f=_0x3dd2b0*_0x34e8c6['eur']/_0x34e8c6[_0x48d72c(0x184)],_0x399bd2=_0x3dd2b0;else config[_0x48d72c(0x1a6)]===_0x48d72c(0xad)&&(_0x5bad8f=_0x3dd2b0,_0x399bd2=_0x3dd2b0*_0x34e8c6[_0x48d72c(0x184)]/_0x34e8c6[_0x48d72c(0xfa)]);}return[_0x3dd2b0,_0x5bad8f,_0x399bd2];}async function getStartingBalances(_0x195423,_0x569bdf=!![]){const _0x1b83a6=_0x202b32;if(_0x195423[_0x1b83a6(0x17d)]!==0x0){const [_0x3edb8d,_0x168e9d,_0x4ef96f]=getPerf(_0x195423[0x0],!![]);let _0x3e9456=[];config[_0x1b83a6(0x14c)]['forEach'](_0x165e54=>{const _0x257b4b=_0x1b83a6;let _0x427f11=0x0,_0x372d38;config[_0x257b4b(0x112)][_0x257b4b(0x151)](_0x30c700=>{const _0x56ce15=_0x257b4b;let _0x3fa87d=_0x30c700[_0x56ce15(0xd0)]['find'](_0x41b244=>_0x41b244[_0x56ce15(0x136)]==_0x165e54['coin']);if(_0x3fa87d){_0x427f11+=_0x3fa87d[_0x56ce15(0xfd)];if(!_0x372d38)_0x372d38=_0x3fa87d[_0x56ce15(0xff)];}}),_0x3e9456[_0x257b4b(0x18b)]({'coin':_0x165e54['coin'],'number':_0x427f11,'initialprice':_0x372d38});});const _0x27e756={'basecoin':_0x3edb8d,'eur':_0x168e9d,'usd':_0x4ef96f,'coins':_0x3e9456};if(_0x569bdf)proxyEmit(_0x1b83a6(0xdf),_0x27e756);return _0x27e756;}}function headlessMode(_0x2ada49){const _0x2ec16c=_0x202b32;let _0x3a3e07=_0x2ada49[_0x2ec16c(0x14c)],_0x2062da=_0x2ada49[_0x2ec16c(0x19c)],_0x4b0cca=[];for(let _0xc41a45 of _0x3a3e07){if(_0xc41a45[_0x2ec16c(0x136)]!=config[_0x2ec16c(0x1a6)]){if(_0xc41a45[_0x2ec16c(0x1a4)]>=_0x2062da/0x64){if(_0xc41a45[_0x2ec16c(0x19f)])_0x4b0cca[_0x2ec16c(0x18b)](_0xc41a45);}else{if(_0xc41a45[_0x2ec16c(0x1a4)]<=-_0x2062da/0x64){if(_0xc41a45[_0x2ec16c(0x19f)])_0x4b0cca[_0x2ec16c(0x18b)](_0xc41a45);}}}}_0x4b0cca[_0x2ec16c(0x17d)]>0x0&&placeOrder(_0x4b0cca);}function notifyBalance(_0x4bfccf){const _0x1b8c46=_0x202b32;let _0x1279f0=_0x4bfccf['portfolio'],_0x1d8b10=_0x4bfccf[_0x1b8c46(0x19c)],_0x1ae3b9=[];for(let _0x63160 of _0x1279f0){if(_0x63160[_0x1b8c46(0x136)]!=config[_0x1b8c46(0x1a6)]){if(_0x63160[_0x1b8c46(0x1a4)]>=_0x1d8b10/0x64){if(_0x63160['valid'])_0x1ae3b9[_0x1b8c46(0x18b)](_0x63160);}else{if(_0x63160['delta']<=-_0x1d8b10/0x64){if(_0x63160['valid'])_0x1ae3b9[_0x1b8c46(0x18b)](_0x63160);}}}}if(_0x1ae3b9[_0x1b8c46(0x17d)]>0x0){let _0x495fa6=_0x1ae3b9['map'](_0x1644c2=>_0x1644c2[_0x1b8c46(0x136)]);_0x495fa6[_0x1b8c46(0xea)]();let _0x39f996=_0x495fa6[_0x1b8c46(0x109)](',\x20');if(lastCoinsToBalance!==_0x39f996)logHistory(_0x1b8c46(0x13f),'Manual\x20balancing\x20required:\x20'+_0x39f996);lastCoinsToBalance=_0x39f996;}}function symbolToCoin(_0x2d399f){const _0xbb541=_0x202b32;let _0x46aaac;if(_0x2d399f['includes']('/'+config[_0xbb541(0x1a6)]))_0x46aaac=_0x2d399f[_0xbb541(0x143)]('/'+config[_0xbb541(0x1a6)],'');if(_0x2d399f[_0xbb541(0x120)](config['basecoin']+'/'))_0x46aaac=_0x2d399f['replace'](config[_0xbb541(0x1a6)]+'/','');return _0x46aaac;}async function validateOrders(_0x42c75c){const _0x784a39=_0x202b32;if(_0x42c75c)validateOrdersState=_0x42c75c;let _0x1ca2e9=[],_0xef26a6=config[_0x784a39(0x100)]==_0x784a39(0xa0)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders['forEach'](_0x26f4dd=>{const _0x1b1f48=_0x784a39;let _0x14c160=![];if(_0x26f4dd[_0x1b1f48(0x103)]>0x0)_0x14c160=!![];else{let _0x51a56d=previousCoins[_0x1b1f48(0x95)](_0x3cb171=>_0x3cb171[_0x1b1f48(0x136)]==symbolToCoin(_0x26f4dd[_0x1b1f48(0xe7)])),_0x2255dc=currentCoins[_0x1b1f48(0x95)](_0x48eb65=>_0x48eb65[_0x1b1f48(0x136)]==symbolToCoin(_0x26f4dd[_0x1b1f48(0xe7)])),_0x30e219,_0x507b4c;_0x26f4dd['side']==_0x1b1f48(0x8f)&&!_0x26f4dd[_0x1b1f48(0x10f)]||_0x26f4dd[_0x1b1f48(0x129)]==_0x1b1f48(0x104)&&_0x26f4dd[_0x1b1f48(0x10f)]?(_0x30e219=_0x51a56d[_0x1b1f48(0xfd)]+0.9*_0x26f4dd[_0x1b1f48(0x103)],_0x507b4c=_0x51a56d[_0x1b1f48(0xfd)]+1.1*_0x26f4dd[_0x1b1f48(0x103)]):(_0x30e219=_0x51a56d[_0x1b1f48(0xfd)]-1.1*_0x26f4dd[_0x1b1f48(0x103)],_0x507b4c=_0x51a56d['number']-0.9*_0x26f4dd[_0x1b1f48(0x103)]),_0x14c160=_0x26f4dd['filled']!=0x0&&_0x2255dc[_0x1b1f48(0xfd)]>=_0x30e219&&_0x2255dc['number']<=_0x507b4c,_0x14c160&&(_0x2255dc[_0x1b1f48(0x91)]=![]);}_0x1ca2e9[_0x1b1f48(0x18b)](_0x14c160);if(_0x14c160&&config['ordertype']!='market'){if(_0x26f4dd[_0x1b1f48(0x10f)])logHistory('order',_0x1b1f48(0x102)+_0x26f4dd[_0x1b1f48(0xe7)]+'\x20'+_0x26f4dd['side']+'\x20#'+formatResult(_0x26f4dd[_0x1b1f48(0x103)]/_0x26f4dd[_0x1b1f48(0xff)],0x8)+'\x20@'+formatResult(_0x26f4dd[_0x1b1f48(0xff)],0x8));else logHistory(_0x1b1f48(0x91),_0x1b1f48(0x102)+_0x26f4dd['symbol']+'\x20'+_0x26f4dd[_0x1b1f48(0x129)]+'\x20#'+formatResult(_0x26f4dd['filled'],0x8)+'\x20@'+formatResult(_0x26f4dd[_0x1b1f48(0xff)],0x8));}}),_0x1ca2e9[_0x784a39(0x151)]((_0x42ddfd,_0x42e199)=>{if(_0x42ddfd)lastOrders['splice'](_0x42e199,0x1);});const _0x1b2259=coolingDown?_0x784a39(0xbf):'balancing\x20resumed';if(validateOrdersState==_0x784a39(0x138))validateOrdersState=_0x784a39(0xf5),_0x1ca2e9['includes'](![])?config[_0x784a39(0x100)]=='market'?logHistory(_0x784a39(0x14a),_0x784a39(0xba)):logHistory(_0x784a39(0x14a),_0x784a39(0xb6)):lockOrders=![];else{if(validateOrdersState=='ongoing'){if(_0x1ca2e9[_0x784a39(0x120)](![])){}else lockOrders=![],config[_0x784a39(0x100)]==_0x784a39(0xa0)?logHistory('success','Order(s)\x20validated\x20-\x20'+_0x1b2259):logHistory(_0x784a39(0x13f),'Order(s)\x20filled\x20-\x20'+_0x1b2259);}else{if(validateOrdersState=='final')lockOrders=![],_0x1ca2e9[_0x784a39(0x120)](![])?config[_0x784a39(0x100)]==_0x784a39(0xa0)?logHistory(_0x784a39(0x13f),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x784a39(0x9a)](_0xef26a6*validateOrderInterval/0xea60)+_0x784a39(0xac)+_0x1b2259):(await cancelOrders(),logHistory(_0x784a39(0x13f),_0x784a39(0xbb)+Math[_0x784a39(0x9a)](_0xef26a6*validateOrderInterval/0xea60)+_0x784a39(0xac)+_0x1b2259)):logHistory(_0x784a39(0x13f),_0x784a39(0x145)+_0x1b2259),currentCoins=await getCoins();else{if(validateOrdersState==_0x784a39(0x119)){lockOrders=![];if(config[_0x784a39(0x100)]!=_0x784a39(0xa0))logHistory(_0x784a39(0x13f),_0x784a39(0x145)+_0x1b2259);}}}}}async function cancelOrders(){const _0x3af041=_0x202b32;lastOrders[_0x3af041(0x151)](async _0x32b9bd=>{const _0x749113=_0x3af041;try{const _0x4d1cda=await exchange['cancelOrder'](_0x32b9bd[_0x749113(0x11d)],_0x32b9bd[_0x749113(0xe7)]);}catch(_0x3be72d){if(_0x3be72d[_0x749113(0x9f)]()[_0x749113(0x120)](_0x749113(0x10d))){}else await handleError(_0x3be72d,_0x749113(0x16d));}});}async function resetCoinResults(){const _0x39e565=_0x202b32;dbCoinResults[_0x39e565(0x9d)](_0x39e565(0x9e))[_0x39e565(0xef)]()[_0x39e565(0xdb)]();let _0x9a24fc=await getStartingBalances(getNormalizedPerformance(),![]);_0x9a24fc[_0x39e565(0x9e)][_0x39e565(0x151)](_0x3bf1c3=>{const _0x4ca239=_0x39e565;if(_0x3bf1c3[_0x4ca239(0x136)]!=config[_0x4ca239(0x1a6)]){let _0x4e4c9d={'coin':_0x3bf1c3['coin'],'number':_0x3bf1c3[_0x4ca239(0xfd)],'breakeven':formatResult(_0x3bf1c3[_0x4ca239(0xa6)],0x8),'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4ca239(0x9d)](_0x4ca239(0x9e))[_0x4ca239(0x18b)](_0x4e4c9d)[_0x4ca239(0xdb)]();}});}async function updateCoinResults(_0x291733){const _0x3ba9fc=_0x202b32;let _0x4400b9,_0x4d66a2,_0x1ba63e,_0x34a803,_0x4812db,_0x35798d;console[_0x3ba9fc(0x158)](_0x3ba9fc(0x12d),_0x291733);let _0x753b1d=dbCoinResults[_0x3ba9fc(0x9d)](_0x3ba9fc(0x9e))[_0x3ba9fc(0x95)]({'coin':_0x291733['coin']})[_0x3ba9fc(0x131)]();if(!_0x753b1d)return;if(_0x291733['fee']&&_0x291733[_0x3ba9fc(0x133)][_0x3ba9fc(0x1b0)]==config[_0x3ba9fc(0x1a6)])_0x4400b9=_0x291733[_0x3ba9fc(0x133)][_0x3ba9fc(0xe3)];else{if(_0x291733[_0x3ba9fc(0x133)]&&_0x291733[_0x3ba9fc(0x133)][_0x3ba9fc(0x1b0)]==_0x3ba9fc(0xe4))_0x4400b9=_0x291733[_0x3ba9fc(0x133)][_0x3ba9fc(0xe3)]*global[_0x3ba9fc(0x14b)][_0x3ba9fc(0xe4)+config[_0x3ba9fc(0x1a6)]];else _0x4400b9=0.001*_0x291733[_0x3ba9fc(0x103)];}_0x291733[_0x3ba9fc(0x10f)]&&(_0x35798d={'coin':_0x291733['coin'],'symbol':_0x291733[_0x3ba9fc(0xe7)],'filled':_0x291733['filled']*_0x291733[_0x3ba9fc(0xff)],'side':_0x291733[_0x3ba9fc(0x129)]==_0x3ba9fc(0x104)?'buy':'sell','price':0x1/_0x291733[_0x3ba9fc(0xff)]},_0x291733={..._0x35798d});_0x291733[_0x3ba9fc(0x129)]==_0x3ba9fc(0x8f)?_0x1ba63e=(_0x753b1d[_0x3ba9fc(0x191)]*_0x753b1d[_0x3ba9fc(0xfd)]+_0x291733['price']*_0x291733[_0x3ba9fc(0x103)])/(_0x753b1d[_0x3ba9fc(0xfd)]+_0x291733[_0x3ba9fc(0x103)]):_0x1ba63e=(_0x753b1d[_0x3ba9fc(0x191)]*_0x753b1d[_0x3ba9fc(0xfd)]-_0x291733[_0x3ba9fc(0xff)]*_0x291733['filled'])/(_0x753b1d['number']-_0x291733[_0x3ba9fc(0x103)]);_0x291733['side']==_0x3ba9fc(0x8f)?_0x34a803=_0x753b1d[_0x3ba9fc(0x96)]:_0x34a803=_0x753b1d['realized']+(_0x291733[_0x3ba9fc(0xff)]-_0x753b1d[_0x3ba9fc(0x191)])*_0x291733[_0x3ba9fc(0x103)];const _0x45f723=currentCoins[_0x3ba9fc(0x95)](_0x4dbe67=>_0x4dbe67[_0x3ba9fc(0x136)]==_0x291733[_0x3ba9fc(0x136)]);_0x4d66a2=_0x45f723['number'],_0x4812db=(_0x291733['price']-_0x1ba63e)*_0x4d66a2;let _0x38d5b0={'coin':_0x291733[_0x3ba9fc(0x136)],'number':_0x4d66a2,'breakeven':formatResult(_0x1ba63e,0x8),'realized':formatResult(_0x34a803,0x8),'unrealized':formatResult(_0x4812db,0x8),'fees':formatResult(_0x753b1d[_0x3ba9fc(0x123)]+_0x4400b9,0x8),'sells':_0x291733[_0x3ba9fc(0x129)]==_0x3ba9fc(0x104)?_0x753b1d[_0x3ba9fc(0xc4)]+0x1:_0x753b1d[_0x3ba9fc(0xc4)],'buys':_0x291733[_0x3ba9fc(0x129)]==_0x3ba9fc(0x8f)?_0x753b1d[_0x3ba9fc(0x167)]+0x1:_0x753b1d[_0x3ba9fc(0x167)]};dbCoinResults[_0x3ba9fc(0x9d)]('coins')[_0x3ba9fc(0x95)]({'coin':_0x291733['coin']})[_0x3ba9fc(0x11b)](_0x38d5b0)[_0x3ba9fc(0xdb)]();if(_0x291733['fee']&&_0x291733[_0x3ba9fc(0x133)][_0x3ba9fc(0x1b0)]==_0x3ba9fc(0xe4)){const _0x1bae30=currentCoins[_0x3ba9fc(0x95)](_0x24ec0d=>_0x24ec0d['coin']==_0x3ba9fc(0xe4));_0x4d66a2=_0x1bae30[_0x3ba9fc(0xfd)];let _0x4d8cb0=dbCoinResults[_0x3ba9fc(0x9d)](_0x3ba9fc(0x9e))['find']({'coin':_0x3ba9fc(0xe4)})[_0x3ba9fc(0x131)]();_0x38d5b0={..._0x4d8cb0,'number':_0x4d66a2},dbCoinResults['get']('coins')[_0x3ba9fc(0x95)]({'coin':_0x3ba9fc(0xe4)})['assign'](_0x38d5b0)['write']();}}async function placeOrder(_0x46832f){const _0x5ec90c=_0x202b32,_0x26e23d=config[_0x5ec90c(0x100)]==_0x5ec90c(0xa0)?_0x5ec90c(0xa0):_0x5ec90c(0x10c);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x5ec90c(0x1b6)](JSON[_0x5ec90c(0x168)](currentCoins));for(const _0x3e7394 of _0x46832f){let _0x17f0d1,_0x10dd40,_0x1c2ff3,_0x224c40,_0x14f701,_0x261363=_0x3e7394[_0x5ec90c(0xe7)];try{const _0x52f70d=await exchange[_0x5ec90c(0x111)](_0x261363),_0x2842ac=_0x52f70d[_0x261363];_0x17f0d1=_0x3e7394['reverse']?0x1/_0x3e7394[_0x5ec90c(0x187)]:_0x3e7394[_0x5ec90c(0x187)],_0x10dd40=_0x2842ac['bid'],_0x1c2ff3=_0x2842ac['ask'];_0x3e7394[_0x5ec90c(0x10f)]?(_0x224c40=_0x3e7394[_0x5ec90c(0x129)]==_0x5ec90c(0x8f)?_0x5ec90c(0x104):_0x5ec90c(0x8f),_0x14f701=Math[_0x5ec90c(0x12b)](_0x3e7394['trade'])/_0x17f0d1):(_0x224c40=_0x3e7394[_0x5ec90c(0x129)],_0x14f701=Math[_0x5ec90c(0x12b)](_0x3e7394['trade']));_0x26e23d==_0x5ec90c(0x10c)&&(config[_0x5ec90c(0x100)]==_0x5ec90c(0x181)&&(_0x17f0d1=_0x224c40==_0x5ec90c(0x8f)?_0x10dd40:_0x1c2ff3),config[_0x5ec90c(0x100)]==_0x5ec90c(0x90)&&(_0x17f0d1=_0x224c40==_0x5ec90c(0x8f)?_0x1c2ff3:_0x10dd40));_0x14f701=formatResult(_0x14f701,0x8),_0x17f0d1=formatResult(_0x17f0d1,0x8);const _0x540a23=await exchange[_0x5ec90c(0x19e)](_0x261363,_0x26e23d,_0x224c40,_0x14f701,_0x17f0d1);lastOrders[_0x5ec90c(0x18b)]({'orderId':_0x540a23['id'],'symbol':_0x261363,'coin':_0x3e7394['coin'],'side':_0x224c40,'reverse':_0x3e7394[_0x5ec90c(0x10f)],'amount':_0x3e7394[_0x5ec90c(0x10f)]?_0x540a23[_0x5ec90c(0x1b2)]*_0x540a23[_0x5ec90c(0xff)]:_0x540a23['amount'],'filled':0x0,'price':_0x540a23[_0x5ec90c(0xff)],'fee':_0x540a23['fee']});const _0x1d55eb=_0x224c40=='sell'?config[_0x5ec90c(0xb1)]?String['fromCodePoint']('0x'+config[_0x5ec90c(0xb1)])+'\x20':'':config[_0x5ec90c(0x12e)]?String[_0x5ec90c(0x190)]('0x'+config[_0x5ec90c(0x12e)])+'\x20':'',_0x5b0a0d=_0x26e23d==_0x5ec90c(0xa0)?_0x5ec90c(0x13c):config[_0x5ec90c(0x100)]==_0x5ec90c(0x181)?_0x5ec90c(0xed):_0x5ec90c(0xb7);if(_0x26e23d==_0x5ec90c(0xa0))logHistory(_0x5ec90c(0x91),''+_0x1d55eb+_0x5b0a0d+_0x5ec90c(0x135)+_0x261363+'\x20'+_0x224c40+'\x20#'+formatResult(_0x540a23[_0x5ec90c(0x103)],0x8)+'\x20@'+formatResult(_0x540a23[_0x5ec90c(0xff)],0x8));else logHistory(_0x5ec90c(0x91),''+_0x1d55eb+_0x5b0a0d+_0x5ec90c(0x135)+_0x261363+'\x20'+_0x224c40+'\x20#'+formatResult(_0x540a23[_0x5ec90c(0x1b2)],0x8)+'\x20@'+formatResult(_0x540a23['price'],0x8));let _0x2ec82d=currentCoins[_0x5ec90c(0x95)](_0xb13ce6=>_0xb13ce6['coin']==_0x3e7394[_0x5ec90c(0x136)]);_0x2ec82d[_0x5ec90c(0x91)]=!![];if(config['cooldown']!=0x0){let _0x93ac93=null;if(cooldownTracker[_0x5ec90c(0x17d)]==config[_0x5ec90c(0x116)]-0x1)_0x93ac93=cooldownTracker[_0x5ec90c(0xf6)]();const _0x89755b=getTimeStamp();cooldownTracker[_0x5ec90c(0x18b)](_0x89755b);if(_0x93ac93){const _0x40dfd2=fns[_0x5ec90c(0x97)](new Date(_0x89755b),new Date(_0x93ac93));if(_0x40dfd2<cooldownInterval){logHistory(_0x5ec90c(0x14a),_0x5ec90c(0x1a9)+config[_0x5ec90c(0x116)]+_0x5ec90c(0x17f)+cooldownInterval/0x3c+_0x5ec90c(0xc9)+cooldownPeriod/(0xe10*0x3e8)+_0x5ec90c(0xcd)),coolingDown=!![];break;}}}}catch(_0x3c6088){if(_0x3c6088['toString']()['includes'](_0x5ec90c(0xd7)))logHistory(_0x5ec90c(0x14a),_0x5ec90c(0x175)+_0x261363);else{if(_0x3c6088[_0x5ec90c(0x9f)]()[_0x5ec90c(0x120)]('Invalid\x20quantity'))logHistory(_0x5ec90c(0x14a),_0x5ec90c(0x13e)+_0x261363);else await handleError(_0x3c6088,_0x5ec90c(0xa9),_0x261363);}}}if(lastOrders[_0x5ec90c(0x17d)]!=0x0){lockOrders=!![],validateOrdersState=_0x5ec90c(0x138);const _0x5508d0=config[_0x5ec90c(0x100)]==_0x5ec90c(0xa0)?validateOrderTimeout*0x3c*0x3e8:config[_0x5ec90c(0xe9)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4920a3=_0x5ec90c;validateOrders(_0x4920a3(0x183));},_0x5508d0);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5ec90c(0x13f),_0x5ec90c(0x137)));}else{if(coolingDown)!config['headless']&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders&&(!config[_0x5ec90c(0xf9)]&&(config[_0x5ec90c(0x100)]==_0x5ec90c(0xa0)?logHistory(_0x5ec90c(0x14a),_0x5ec90c(0xe2)):logHistory(_0x5ec90c(0x14a),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function logHistory(_0x28042b,_0x45b2ae,_0x30f07a=''){const _0x3a6cd5=_0x202b32;let _0x2c6ae5={'time':getTimeStamp(),'type':_0x28042b,'event':_0x45b2ae};dbLogs[_0x3a6cd5(0x9d)]('logs')[_0x3a6cd5(0x18b)](_0x2c6ae5)[_0x3a6cd5(0xdb)]();if(_0x30f07a=='')_0x30f07a=_0x45b2ae;proxyEmit(_0x3a6cd5(0xf3),{'log':_0x2c6ae5,'summary':_0x30f07a}),process[_0x3a6cd5(0x153)]({'telegram':{..._0x2c6ae5,'botname':config['botname'],'showname':config[_0x3a6cd5(0x15f)]}},_0x8461e8=>{}),logging(''+_0x2c6ae5[_0x3a6cd5(0xf3)]);}function emitHistory(_0x33819b={}){const _0x1d1714=_0x202b32;Object[_0x1d1714(0x124)](_0x33819b)[_0x1d1714(0x17d)]==0x0&&(_0x33819b={'type':[_0x1d1714(0x91),_0x1d1714(0xf3)],'event':'','page':0x1});if(_0x33819b['type'][_0x1d1714(0x120)]('event'))_0x33819b[_0x1d1714(0xaa)][_0x1d1714(0x113)](_0x33819b[_0x1d1714(0xaa)]['indexOf'](_0x1d1714(0xf3)),0x1,_0x1d1714(0x14a),_0x1d1714(0x13f));if(dbLogs['has'](_0x1d1714(0x128))[_0x1d1714(0x131)]()){let _0x2ed26e=dbLogs[_0x1d1714(0x9d)](_0x1d1714(0x128))[_0x1d1714(0x106)](_0x498984=>{const _0xad1cb0=_0x1d1714;if(_0x33819b[_0xad1cb0(0xaa)][_0xad1cb0(0x17d)]==0x0)return![];else return _0x33819b[_0xad1cb0(0xaa)][_0xad1cb0(0x120)](_0x498984['type']);})['filter'](_0x1ee8cd=>{const _0x27bc60=_0x1d1714;if(_0x33819b['event']=='')return!![];else return _0x1ee8cd['event'][_0x27bc60(0xa1)]()[_0x27bc60(0x120)](_0x33819b[_0x27bc60(0xf3)]['toLowerCase']());})[_0x1d1714(0xb2)]('time'),_0x7ad900=_0x2ed26e[_0x1d1714(0x131)]()['length'];_0x2ed26e=_0x2ed26e['reverse']()['slice']((_0x33819b[_0x1d1714(0x162)]-0x1)*logPageSize,_0x33819b[_0x1d1714(0x162)]*logPageSize-0x1)[_0x1d1714(0x10f)]()[_0x1d1714(0x131)](),proxyEmit(_0x1d1714(0x188),{'logs':_0x2ed26e,'total':_0x7ad900});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5a5b6e){const _0x210e49=_0x202b32;if(dbLogs[_0x210e49(0x192)]('logs')['value']()){const _0x13f705=dbLogs['get'](_0x210e49(0x128))['sortBy'](_0x210e49(0xe0))[_0x210e49(0x106)](_0x75765e=>{const _0x340b7a=_0x210e49;return _0x75765e['type']==_0x340b7a(0x91);})[_0x210e49(0x131)]();dbLogs['get'](_0x210e49(0x128))[_0x210e49(0xef)]()[_0x210e49(0xdb)](),dbLogs[_0x210e49(0x9d)](_0x210e49(0x128))[_0x210e49(0x11b)](_0x13f705)[_0x210e49(0xdb)](),emitHistory(_0x5a5b6e);}}async function pauseBot(_0xbc9445=''){const _0x1b55db=_0x202b32,_0x382b02=new Date()[_0x1b55db(0x19b)]();if(!lastBotPause)lastBotPause=new Date()[_0x1b55db(0x19b)](),consecutivePauses=0x1;else{if(_0x382b02-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x1b55db(0x153)]({'stop':_0x1b55db(0x177)},_0x5dc09d=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0xbc9445)_0xbc9445+=_0x1b55db(0xb5);logHistory('error',_0xbc9445+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x1b55db(0x105)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x86c153=_0x202b32;process[_0x86c153(0x153)]({'stop':_0x86c153(0x159)},_0x3d205c=>{}),await sleep(0x7d0);}async function handleError(_0xcc8be5,_0x541492,_0x2f4789=''){const _0x4656b3=_0x202b32;if(_0xcc8be5['toString']()[_0x4656b3(0x120)]('DDoSProtection'))await pauseBot(_0x4656b3(0x13b));else{if(_0xcc8be5[_0x4656b3(0x9f)]()[_0x4656b3(0x120)](_0x4656b3(0xd2)))await pauseBot(_0x4656b3(0xa7));else{if(_0xcc8be5[_0x4656b3(0x9f)]()['includes'](_0x4656b3(0x150)))await pauseBot(_0x4656b3(0x147));else{if(_0xcc8be5['toString']()['includes'](_0x4656b3(0x8d)))logHistory(_0x4656b3(0x14a),_0x541492+_0x4656b3(0x14d)),logHistory(_0x4656b3(0x14a),_0x4656b3(0xec)),await killBot();else{if(_0xcc8be5[_0x4656b3(0x9f)]()[_0x4656b3(0x120)](_0x4656b3(0x180)))logHistory(_0x4656b3(0x14a),_0x541492+_0x4656b3(0x125)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xcc8be5[_0x4656b3(0x9f)]()[_0x4656b3(0x120)](_0x4656b3(0x141)))logHistory(_0x4656b3(0x14a),_0x541492+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory(_0x4656b3(0x14a),_0x4656b3(0xec)),await killBot();else{if(_0xcc8be5[_0x4656b3(0x9f)]()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory('error',_0x541492+_0x4656b3(0x161)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xcc8be5[_0x4656b3(0x9f)]()[_0x4656b3(0x120)](_0x4656b3(0x1b7)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process['send']({'stop':'restart'},_0x5c5ce9=>{});else _0xcc8be5[_0x4656b3(0x9f)]()[_0x4656b3(0x120)](_0x4656b3(0xb4))?logHistory(_0x4656b3(0x14a),_0x541492+_0x4656b3(0x107)+_0x2f4789):(logging(_0x541492+_0x4656b3(0xfc),_0xcc8be5),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x124cf6,_0x311720){const _0x1e1f58=_0x202b32;return _0x124cf6?parseFloat(_0x124cf6[_0x1e1f58(0x179)](_0x311720)):null;}function logging(_0x5f55f1,_0xf12fa1=''){const _0x57f6f4=_0x202b32;if(config[_0x57f6f4(0x15f)])console[_0x57f6f4(0x158)](getTimeStamp()+':\x20'+config[_0x57f6f4(0xa4)]+'\x20>\x20'+_0x5f55f1,_0xf12fa1);else console[_0x57f6f4(0x158)](getTimeStamp()+_0x57f6f4(0x1a0)+botID+_0x57f6f4(0x1a3)+_0x5f55f1,_0xf12fa1);}function getServerTime(){const _0x2ee1ec=_0x202b32,_0x48df44=new Date();return _0x48df44[_0x2ee1ec(0xa2)]()+'/'+(_0x48df44['getMonth']()+0x1)['toString']()[_0x2ee1ec(0xf7)](0x2,'0')+'/'+_0x48df44[_0x2ee1ec(0x194)]()[_0x2ee1ec(0x9f)]()[_0x2ee1ec(0xf7)](0x2,'0')+'\x20'+_0x48df44[_0x2ee1ec(0x139)]()[_0x2ee1ec(0x9f)]()[_0x2ee1ec(0xf7)](0x2,'0')+':'+_0x48df44[_0x2ee1ec(0xc3)]()[_0x2ee1ec(0x9f)]()[_0x2ee1ec(0xf7)](0x2,'0')+':'+_0x48df44['getSeconds']()[_0x2ee1ec(0x9f)]()[_0x2ee1ec(0xf7)](0x2,'0');}function getTimeStamp(){const _0x105bb9=_0x202b32,_0x1b7ef0=shiftedTime();return _0x1b7ef0[_0x105bb9(0xa2)]()+'/'+(_0x1b7ef0[_0x105bb9(0xae)]()+0x1)[_0x105bb9(0x9f)]()['padStart'](0x2,'0')+'/'+_0x1b7ef0['getDate']()[_0x105bb9(0x9f)]()[_0x105bb9(0xf7)](0x2,'0')+'\x20'+_0x1b7ef0[_0x105bb9(0x139)]()[_0x105bb9(0x9f)]()[_0x105bb9(0xf7)](0x2,'0')+':'+_0x1b7ef0[_0x105bb9(0xc3)]()[_0x105bb9(0x9f)]()[_0x105bb9(0xf7)](0x2,'0')+':'+_0x1b7ef0[_0x105bb9(0xdd)]()[_0x105bb9(0x9f)]()[_0x105bb9(0xf7)](0x2,'0');}function getDate(){const _0x77b9b6=_0x202b32,_0x1d0da2=shiftedTime();return _0x1d0da2[_0x77b9b6(0xa2)]()+'/'+(_0x1d0da2[_0x77b9b6(0xae)]()+0x1)[_0x77b9b6(0x9f)]()['padStart'](0x2,'0')+'/'+_0x1d0da2['getDate']()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x29f45b=_0x202b32,_0x416920=shiftedTime();return _0x416920[_0x29f45b(0x139)]()[_0x29f45b(0x9f)]()[_0x29f45b(0xf7)](0x2,'0');}function sleep(_0x5e0212){return new Promise(_0x3c16d8=>setTimeout(_0x3c16d8,_0x5e0212));}function shiftedTime(){const _0x3783b8=_0x202b32,_0x15e211=new Date();let _0x41afb1=_0x15e211;if(config&&config[_0x3783b8(0x154)]!==0x0)_0x41afb1=fns[_0x3783b8(0xde)](_0x15e211,{'hours':config[_0x3783b8(0x154)]});return _0x41afb1;}