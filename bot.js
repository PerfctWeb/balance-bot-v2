const _0x5a7073=_0x4200;(function(_0x379acb,_0x566f7d){const _0x51204c=_0x4200,_0x11bec5=_0x379acb();while(!![]){try{const _0x1fba93=-parseInt(_0x51204c(0xea))/0x1+-parseInt(_0x51204c(0x217))/0x2+parseInt(_0x51204c(0x179))/0x3+-parseInt(_0x51204c(0x18f))/0x4+-parseInt(_0x51204c(0x15b))/0x5+parseInt(_0x51204c(0x16b))/0x6+parseInt(_0x51204c(0x22b))/0x7;if(_0x1fba93===_0x566f7d)break;else _0x11bec5['push'](_0x11bec5['shift']());}catch(_0x43786a){_0x11bec5['push'](_0x11bec5['shift']());}}}(_0x5e4a,0x208bf));const _0x2f4408=function(){let _0x320141=!![];return function(_0x6a4133,_0x1d5a57){const _0x1c1010=_0x320141?function(){const _0x5e507c=_0x4200;if(_0x1d5a57){const _0x2ac040=_0x1d5a57[_0x5e507c(0x1ba)](_0x6a4133,arguments);return _0x1d5a57=null,_0x2ac040;}}:function(){};return _0x320141=![],_0x1c1010;};}(),_0x2a687a=_0x2f4408(this,function(){const _0x1b4a9e=_0x4200;return _0x2a687a[_0x1b4a9e(0x238)]()[_0x1b4a9e(0x125)](_0x1b4a9e(0x157))[_0x1b4a9e(0x238)]()[_0x1b4a9e(0xd9)](_0x2a687a)[_0x1b4a9e(0x125)]('(((.+)+)+)+$');});_0x2a687a();'use strict';const ccxt=require('ccxt')['pro'],low=require('lowdb'),FileSync=require(_0x5a7073(0x1d8)),fs=require('fs'),fns=require(_0x5a7073(0xd0)),Crypt=require(_0x5a7073(0xfa))['Crypt'],util=require(_0x5a7073(0x19a)),argv=require(_0x5a7073(0x226))(process[_0x5a7073(0x1d7)]['slice'](0x2))[_0x5a7073(0x1d7)],path=require(_0x5a7073(0x1dc));let exchange;global[_0x5a7073(0x184)]={},global[_0x5a7073(0x11d)]={};const exceptions={'binance':[_0x5a7073(0x114),'HOT/BTC',_0x5a7073(0x142),'NANO/',_0x5a7073(0x118)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5a7073(0x15d)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')['version'],botID=process[_0x5a7073(0x1d7)][0x2]||_0x5a7073(0x10e),pattern=/^[0-9]{3}$/;!pattern[_0x5a7073(0x14f)](botID)&&(console[_0x5a7073(0xd6)](_0x5a7073(0xd2)+botID+_0x5a7073(0x119)),killBot());const userID=process[_0x5a7073(0x1d7)][0x3]||'',configpath=userID?_0x5a7073(0x1e4)+userID+'/':_0x5a7073(0x1e4),logspath=userID?_0x5a7073(0x17a)+userID+'/':_0x5a7073(0x17a),loggerfile=fs[_0x5a7073(0x1d6)](logspath+_0x5a7073(0x1fd),{'flags':'a'});!fs[_0x5a7073(0x1d9)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x5a7073(0x1d9)](logspath)&&fs[_0x5a7073(0x172)](logspath);function _0x4200(_0x26d268,_0x3e8689){const _0x1a0ace=_0x5e4a();return _0x4200=function(_0x2a687a,_0x2f4408){_0x2a687a=_0x2a687a-0xc0;let _0x5e4a91=_0x1a0ace[_0x2a687a];return _0x5e4a91;},_0x4200(_0x26d268,_0x3e8689);}const configfile=configpath+'bot-'+botID+_0x5a7073(0x151),logfile=configpath+'bot-'+botID+_0x5a7073(0xd5),performancefile=configpath+'bot-'+botID+_0x5a7073(0x150),coinresultsfile=configpath+_0x5a7073(0x12e)+botID+_0x5a7073(0x1d1),settingsfile=configpath+_0x5a7073(0x1f9),securefile=configpath+_0x5a7073(0x155),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5a7073(0x221)]({'logs':[],'version':serverversion})[_0x5a7073(0x208)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5a7073(0x221)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5a7073(0x221)]({'bot':[],'version':serverversion})[_0x5a7073(0x208)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5a7073(0x221)]({'coins':[],'version':serverversion})[_0x5a7073(0x208)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5a7073(0x1ae),'rsaStandard':_0x5a7073(0x144)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1e6dd3=>{const _0x48b6c4=_0x5a7073;console[_0x48b6c4(0xd6)](_0x1e6dd3);},'simple':_0x251bbf=>{const _0x25c3fb=_0x5a7073;console['log'](_0x251bbf),loggerfile[_0x25c3fb(0x208)](util['format'](_0x251bbf)+'\x0a');},'full':async(_0x381954,_0x163703='')=>{const _0x3d65b0=_0x5a7073;let _0x4dffd5;if(config[_0x3d65b0(0x1cf)])_0x4dffd5=getTimeStamp()+':\x20'+config[_0x3d65b0(0x212)]+_0x3d65b0(0x1e8)+_0x381954;else _0x4dffd5=getTimeStamp()+_0x3d65b0(0x18a)+botID+_0x3d65b0(0x1e8)+_0x381954;console[_0x3d65b0(0xd6)](_0x4dffd5),loggerfile['write'](util[_0x3d65b0(0x1ce)](_0x4dffd5)+'\x0a'),_0x163703&&(console[_0x3d65b0(0xd6)](_0x163703),loggerfile['write'](util['format'](_0x163703)+'\x0a'));},'debug':async(_0x47a9a5,_0x3697e1='')=>{const _0x5aca1a=_0x5a7073;let _0x6048ac;if(config[_0x5aca1a(0x1cf)])_0x6048ac=getTimeStamp()+':\x20'+config[_0x5aca1a(0x212)]+_0x5aca1a(0x15e)+_0x47a9a5;else _0x6048ac=getTimeStamp()+_0x5aca1a(0x18a)+botID+_0x5aca1a(0x15e)+_0x47a9a5;if(debugging)console[_0x5aca1a(0xd6)](_0x6048ac);loggerfile[_0x5aca1a(0x208)](util[_0x5aca1a(0x1ce)](_0x6048ac)+'\x0a');if(_0x3697e1){if(debugging)console[_0x5aca1a(0xd6)](_0x3697e1);loggerfile[_0x5aca1a(0x208)](util['format'](_0x3697e1)+'\x0a');}}};process['on']('uncaughtException',function(_0x266724){logger['simple'](_0x266724);});settings[_0x5a7073(0x187)]!=config[_0x5a7073(0x187)]&&updateTimeshift(settings[_0x5a7073(0x187)]);settings[_0x5a7073(0x1c1)]!=config['onepagemode']&&updateOnepagemode(settings[_0x5a7073(0x1c1)]);process[_0x5a7073(0xfc)]({'started':_0x5a7073(0x1bd)},_0x5c8c88=>{}),initializeProcessListeners();function proxyEmit(_0x256c1f,_0x489c89=null){const _0x188ebe=_0x5a7073;process[_0x188ebe(0xfc)]({'function':_0x256c1f,'args':_0x489c89},_0x59f1c7=>{});}function initializeProcessListeners(){const _0x2ccea6=_0x5a7073;process['on'](_0x2ccea6(0xee),_0x1b74e7=>{const _0x14775c=_0x2ccea6;switch(Object['keys'](_0x1b74e7)[0x0]){case _0x14775c(0x187):_0x1b74e7[_0x14775c(0x187)]!=undefined&&(settings[_0x14775c(0x187)]=_0x1b74e7[_0x14775c(0x187)],updateTimeshift(settings['timeshift']));break;case'onepagemode':_0x1b74e7[_0x14775c(0x1c1)]!=undefined&&(settings[_0x14775c(0x1c1)]=_0x1b74e7[_0x14775c(0x1c1)],updateOnepagemode(settings[_0x14775c(0x1c1)]));break;case _0x14775c(0x139):_0x1b74e7[_0x14775c(0x139)]!=undefined&&(bots=JSON[_0x14775c(0x148)](_0x1b74e7[_0x14775c(0x139)]),proxyEmit(_0x14775c(0x139),bots));break;case _0x14775c(0xc6):switch(_0x1b74e7[_0x14775c(0xc6)]){case _0x14775c(0x14b):initclient();break;case _0x14775c(0xd3):toggleBotMode();break;case _0x14775c(0x18e):emitHistory(_0x1b74e7['args']);break;case _0x14775c(0xff):deleteHistoryAlerts(_0x1b74e7['args']);break;case _0x14775c(0x1a6):getPortfolio(_0x1b74e7[_0x14775c(0xf2)]);break;case _0x14775c(0x124):storeConfiguration(_0x1b74e7[_0x14775c(0xf2)]);break;case _0x14775c(0xf7):storeHeadless(_0x1b74e7[_0x14775c(0xf2)]);break;case _0x14775c(0x1e5):storeFiat(_0x1b74e7[_0x14775c(0xf2)]);break;case'resetHistory':resetHistory();break;case _0x14775c(0x153):getStartingBalances(getNormalizedPerformance());break;case _0x14775c(0xce):placeOrder(_0x1b74e7[_0x14775c(0xf2)]);break;case _0x14775c(0x15a):cancelLoading();break;case'showConfig':showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x2a6dbe=null,_0x2b2bf3=![]){const _0x5d0acd=_0x5a7073;logger[_0x5d0acd(0xfb)](_0x5d0acd(0xfe)+(_0x2a6dbe&&_0x2a6dbe[_0x5d0acd(0x16e)]>0x0?_0x5d0acd(0x112)+_0x2a6dbe[_0x5d0acd(0x106)](','):_0x5d0acd(0xdf))+_0x5d0acd(0x17f)+(_0x2b2bf3?'exchange\x20reloaded':'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0x2b2bf3)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5d0acd(0x162)]!=''&&config[_0x5d0acd(0x162)]!=_0x5d0acd(0xcb)){if(_0x2b2bf3){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x104a1a){handleErrorNoStop(_0x104a1a,_0x5d0acd(0x180));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x2a6dbe);const _0x3c8fb1=await getCoins();[currentCoins,currentCoinsAll]=_0x3c8fb1,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x5d0acd(0x16e)]==0x0&&allOpenOrders[_0x5d0acd(0x16e)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x57edda=_0x5a7073;exchangeStopped=!![],await exchange[_0x57edda(0x167)]();}async function reloadExchange(){const _0x1d56d3=_0x5a7073;logger[_0x1d56d3(0xfb)](_0x1d56d3(0x19f));while(lockOrders!=ORDERS[_0x1d56d3(0xda)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x1d56d3(0x1ff)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x291aaf=config[_0x5a7073(0xf1)],_0xbc858b=config[_0x5a7073(0x162)],_0x2fce6a=config[_0x5a7073(0x109)],_0xa24169=config[_0x5a7073(0x206)]){const _0x95a12d=_0x5a7073;exchange&&await stopExchange();!supportedExchanges()[_0x95a12d(0x13d)](_0x291aaf)&&(logHistory(_0x95a12d(0x222),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x291aaf+'\x20exchange'),killBot());const _0x2dec36=ccxt[_0x291aaf['toLowerCase']()];exchange=new _0x2dec36({'apiKey':_0xbc858b,'secret':_0x2fce6a,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0xa24169)exchange[_0x95a12d(0xc1)]=_0xa24169;}function setStableCoins(){const _0x4c38a0=_0x5a7073;let _0x42d5c4=config[_0x4c38a0(0xc7)]==_0x4c38a0(0xde)?_0x4c38a0(0xde):_0x4c38a0(0x177),_0x1ac2d7=!allSymbols[_0x4c38a0(0x13d)](_0x42d5c4+_0x4c38a0(0xf9))?_0x4c38a0(0xdc):_0x4c38a0(0xe8),_0x23e400=!allSymbols[_0x4c38a0(0x13d)](_0x42d5c4+_0x4c38a0(0x1f3))?_0x1ac2d7:'EUR';stablecoins={'eur':{'coin':''+_0x42d5c4+_0x23e400,'symbol':_0x42d5c4+'/'+_0x23e400},'usd':{'coin':''+_0x42d5c4+_0x1ac2d7,'symbol':_0x42d5c4+'/'+_0x1ac2d7}};}async function initwsCcxt(_0x2cc67c){const _0x56eddb=_0x5a7073;_0x2cc67c==null&&(_0x2cc67c=[],config[_0x56eddb(0x1a3)][_0x56eddb(0x1af)](_0x575c93=>{const _0x2cb93e=_0x56eddb;if(!_0x575c93['excluded']&&_0x575c93[_0x2cb93e(0x1fc)]!=config[_0x2cb93e(0xc7)])_0x2cc67c[_0x2cb93e(0xd4)](_0x575c93[_0x2cb93e(0x178)]);}));if(!_0x2cc67c[_0x56eddb(0x13d)](stablecoins[_0x56eddb(0x216)][_0x56eddb(0x178)]))_0x2cc67c[_0x56eddb(0xd4)](stablecoins[_0x56eddb(0x216)][_0x56eddb(0x178)]);if(!_0x2cc67c[_0x56eddb(0x13d)](stablecoins['usd'][_0x56eddb(0x178)]))_0x2cc67c[_0x56eddb(0xd4)](stablecoins['usd'][_0x56eddb(0x178)]);if(config['exchange'][_0x56eddb(0x205)](_0x56eddb(0x107))){if(!_0x2cc67c[_0x56eddb(0x13d)]('BNB/'+config['basecoin']))_0x2cc67c[_0x56eddb(0xd4)]('BNB/'+config['basecoin']);}loadCoins(_0x2cc67c);const _0x92e202=async _0x3462f8=>{const _0x1e715e=_0x56eddb,_0x2b27c0=await exchange[_0x1e715e(0x138)](_0x3462f8);global['ticker'][noslash(_0x2b27c0[_0x1e715e(0x178)])]=_0x2b27c0[_0x1e715e(0x1b1)];while(!![]){if(!botPaused)try{const _0x30e6e4=await exchange[_0x1e715e(0xd7)](_0x3462f8);global[_0x1e715e(0x184)][noslash(_0x30e6e4[0x0]['symbol'])]=_0x30e6e4[0x0]['price'],await sleep(0x3e8);}catch(_0x14b93f){if(!exchangeStopped)await handleError(_0x14b93f,_0x1e715e(0xd7),_0x3462f8);}else await sleep(0x3e8);}},_0x21d779=async _0x5135b8=>{const _0x21f29f=_0x56eddb;while(!![]){if(!botPaused)try{const _0x51166d=await exchange[_0x21f29f(0x138)](_0x5135b8);global['change'][_0x51166d[_0x21f29f(0x178)]]=_0x51166d[_0x21f29f(0x17c)],await sleep(0x3c*0x3e8);}catch(_0x1ed255){if(!exchangeStopped)await handleError(_0x1ed255,_0x21f29f(0xd8),_0x5135b8);}else await sleep(0x3e8);}},_0x29ecbc=async()=>{const _0x150be4=_0x56eddb;while(!![]){if(!botPaused)try{const _0x59b0b3=await exchange[_0x150be4(0x1be)]();_0x59b0b3['forEach'](_0x44e3b9=>{updateNumberCoinsCcxt(_0x44e3b9);});}catch(_0x5d0ae6){if(!exchangeStopped)await handleError(_0x5d0ae6,_0x150be4(0x1be));}else await sleep(0x3e8);}};_0x2cc67c[_0x56eddb(0x1af)](async _0x16c5dc=>{_0x92e202(_0x16c5dc),_0x21d779(_0x16c5dc);}),!wsEventsSet&&(wsEventsSet=!![],_0x29ecbc(),watchTransactions());}async function watchTransactions(){const _0x45c7ed=_0x5a7073;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x4a11f6=await getCoins(),[_0x1275d9,_0xc03418]=_0x4a11f6;let _0x3610b3=[];currentCoins[_0x45c7ed(0x1af)](_0x905c2=>{const _0x4ec936=_0x45c7ed,_0x51972d=_0x1275d9[_0x4ec936(0x129)](_0x21f315=>_0x21f315[_0x4ec936(0x1fc)]==_0x905c2[_0x4ec936(0x1fc)]);_0x51972d&&(_0x905c2[_0x4ec936(0x132)]!=_0x51972d[_0x4ec936(0x132)]&&_0x3610b3[_0x4ec936(0xd4)]({'coin':_0x905c2[_0x4ec936(0x1fc)],'symbol':_0x905c2['symbol'],'number':Number(formatResult(_0x51972d[_0x4ec936(0x132)]-_0x905c2[_0x4ec936(0x132)],0x8))}));});if(_0x3610b3[_0x45c7ed(0x16e)]==0x1&&!blockTransactionDetection){logger[_0x45c7ed(0xfb)](_0x45c7ed(0x105)+lastFees[_0x45c7ed(0x143)]+'\x20|\x20highest:\x20'+lastFees['highest']);if(!lastFees['currency']||_0x3610b3[0x0][_0x45c7ed(0x1fc)]!=lastFees[_0x45c7ed(0x143)]||_0x3610b3[0x0][_0x45c7ed(0x132)]>lastFees['highest']){let _0x4d196f;if(_0x3610b3[0x0][_0x45c7ed(0x1fc)]!=config[_0x45c7ed(0xc7)]){let _0x25a23a=global[_0x45c7ed(0x184)][noslash(_0x3610b3[0x0][_0x45c7ed(0x178)])];_0x4d196f=_0x3610b3[0x0][_0x45c7ed(0xdb)]?0x1/_0x25a23a:_0x25a23a;}else _0x4d196f=0x1;_0x3610b3[0x0][_0x45c7ed(0x207)]=_0x4d196f,delete _0x3610b3[0x0][_0x45c7ed(0x178)];let _0x22e52b=[],_0x4d5c68=[...config[_0x45c7ed(0x115)]]||[],_0x14fd77=config[_0x45c7ed(0x115)];_0x4d5c68[_0x45c7ed(0xc4)]((_0x272487,_0x1a8b61)=>_0x272487['date']>_0x1a8b61[_0x45c7ed(0x11c)]?-0x1:_0x1a8b61[_0x45c7ed(0x11c)]>_0x272487['date']?0x1:0x0);const _0x180244=getDate();if(_0x4d5c68[0x0]){const _0x4945b3=fns[_0x45c7ed(0x148)](_0x4d5c68[0x0][_0x45c7ed(0x11c)],_0x45c7ed(0x128),new Date()),_0xb2d243=fns[_0x45c7ed(0x148)](_0x180244,'yyyy/MM/dd',new Date());if(fns[_0x45c7ed(0x1aa)](_0x4945b3,_0xb2d243)){_0x22e52b=_0x4d5c68[0x0][_0x45c7ed(0x1a1)];const _0x235f25=_0x22e52b[_0x45c7ed(0x129)](_0x131f5c=>_0x131f5c[_0x45c7ed(0x1fc)]==_0x3610b3[0x0][_0x45c7ed(0x1fc)]);_0x235f25?(_0x235f25[_0x45c7ed(0x132)]+=_0x3610b3[0x0][_0x45c7ed(0x132)],_0x235f25['number']==0x0&&(_0x22e52b=_0x22e52b[_0x45c7ed(0x11a)](_0x4f2ed2=>{const _0x2251db=_0x45c7ed;return _0x4f2ed2[_0x2251db(0x1fc)]!=_0x3610b3[0x0][_0x2251db(0x1fc)];}))):_0x22e52b[_0x45c7ed(0xd4)](_0x3610b3[0x0]);const _0x2dae1e=_0x14fd77['find'](_0x4b33ae=>_0x4b33ae[_0x45c7ed(0x11c)]==_0x180244);_0x2dae1e[_0x45c7ed(0x1a1)]=_0x22e52b;}else _0x14fd77[_0x45c7ed(0xd4)]({'date':_0x180244,'changes':[_0x3610b3[0x0]]});}const _0x8ff2f7=_0x14fd77['find'](_0x12608c=>_0x12608c[_0x45c7ed(0x11c)]==_0x180244);if(_0x8ff2f7){let _0x14d359=!![];_0x8ff2f7[_0x45c7ed(0x1a1)][_0x45c7ed(0x1af)](_0x4e943e=>{const _0x3d1d98=_0x45c7ed;if(_0x4e943e[_0x3d1d98(0x132)]!=0x0)_0x14d359=![];}),_0x14d359&&(_0x14fd77=_0x14fd77['filter'](_0x5d6fa9=>{const _0x2a1be3=_0x45c7ed;return _0x5d6fa9[_0x2a1be3(0x11c)]!=_0x180244;}));}let _0x59e62f=dbConfig[_0x45c7ed(0xf5)](_0x45c7ed(0x1bc))[_0x45c7ed(0x129)]({'botID':botID})[_0x45c7ed(0x1c5)]();_0x59e62f&&(dbConfig[_0x45c7ed(0xf5)](_0x45c7ed(0x1bc))['find']({'botID':botID})[_0x45c7ed(0xe6)]({'liquidity':_0x14fd77})[_0x45c7ed(0x208)](),config['liquidity']=_0x14fd77),logHistory(_0x45c7ed(0xc5),_0x45c7ed(0x170)+Math[_0x45c7ed(0x10a)](_0x3610b3[0x0][_0x45c7ed(0x132)])+'\x20'+_0x3610b3[0x0][_0x45c7ed(0x1fc)]+'\x20'+(_0x3610b3[0x0]['number']>0x0?_0x45c7ed(0x1c7):'removed')+_0x45c7ed(0x190)),proxyEmit('configuration',emittedConfiguration());}else logger[_0x45c7ed(0xfb)](_0x45c7ed(0x1a8)+Math[_0x45c7ed(0x10a)](_0x3610b3[0x0][_0x45c7ed(0x132)])+'\x20'+_0x3610b3[0x0][_0x45c7ed(0x1fc)]+'\x20'+(_0x3610b3[0x0]['number']>0x0?'added':_0x45c7ed(0x199)));transactionDetected=!![],currentCoins=_0x1275d9,currentCoinsAll=_0xc03418;}await sleep(watchTransactionsInterval);}catch(_0x133d3a){if(!exchangeStopped)await handleError(_0x133d3a,_0x45c7ed(0x12a));}else await sleep(0x3e8);}}async function loadSymbols(_0x5de57d=config[_0x5a7073(0xf1)],_0x1a9dfe=![]){const _0x4e9871=_0x5a7073;if(allSymbols&&!_0x1a9dfe)return;try{markets=await exchange[_0x4e9871(0x140)](),allSymbols=exchange[_0x4e9871(0x163)][_0x4e9871(0x11a)](_0x12b1e0=>{const _0x2c6160=_0x4e9871;let _0x380d82=![];const _0x3e731b=exceptions[_0x5de57d['toLowerCase']()]||[];return _0x3e731b[_0x2c6160(0x1af)](_0x300dae=>{if(_0x12b1e0['includes'](_0x300dae))_0x380d82=!![];}),!_0x380d82;});}catch(_0x39b03b){throw _0x39b03b;}}async function initclient(){const _0x378a43=_0x5a7073;emitLoadingProgress(),proxyEmit(_0x378a43(0x232),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x378a43(0x19b),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5c8b8b=getNormalizedPerformance();emitPerformance(_0x5c8b8b),getStartingBalances(_0x5c8b8b);}async function toggleBotMode(){const _0x14e79f=_0x5a7073;let _0x41c7ca=dbConfig[_0x14e79f(0xf5)](_0x14e79f(0x1bc))[_0x14e79f(0x129)]({'botID':botID})[_0x14e79f(0x1c5)]();if(_0x41c7ca){const _0x4c77d=!_0x41c7ca['headless'];dbConfig[_0x14e79f(0xf5)]('bot')[_0x14e79f(0x129)]({'botID':botID})['assign']({'headless':_0x4c77d})[_0x14e79f(0x208)](),config[_0x14e79f(0xca)]=_0x4c77d,proxyEmit(_0x14e79f(0x232),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x5227af=>{});}async function loadCoins(_0xa4ab48){const _0x4db68d=_0x5a7073;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x42ad73,_0x2a7359=0x0,_0x32473e=0x0;_0xa4ab48[_0x4db68d(0x1af)](_0x1831b5=>{const _0x3687bf=_0x4db68d;loading[_0x3687bf(0x196)][_0x3687bf(0xd4)](_0x1831b5);}),loadingCanceled=![];let _0x166650=![];while(_0x42ad73!=_0xa4ab48['length']){_0x42ad73=0x0,_0xa4ab48[_0x4db68d(0x1af)](_0x115766=>{const _0x5dc014=_0x4db68d;if(global[_0x5dc014(0x184)][noslash(_0x115766)]){loading[_0x5dc014(0x196)]=loading[_0x5dc014(0x196)][_0x5dc014(0x11a)](_0x25553f=>_0x25553f!=_0x115766);if(!watchedSymbols[_0x5dc014(0x13d)](_0x115766))watchedSymbols[_0x5dc014(0xd4)](_0x115766);_0x42ad73++;}}),loading[_0x4db68d(0x228)]=Math[_0x4db68d(0x1c9)](_0x42ad73/_0xa4ab48['length']*0x64);loading[_0x4db68d(0x228)]!=0x64&&(_0x32473e>0x1e*0x5&&(loading[_0x4db68d(0x1b9)]=!![],emitLoadingProgress()),_0x32473e>0x78*0x5&&!_0x166650&&(loading[_0x4db68d(0x1fb)]=!![],emitLoadingProgress(),_0x166650=!![],logHistory('error',_0x4db68d(0x1c8)+loading[_0x4db68d(0x196)][_0x4db68d(0x106)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x4db68d(0x222),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x4db68d(0x1a7)),pidCoinReloading=setTimeout(()=>{const _0x30d4c4=_0x4db68d;process[_0x30d4c4(0xfc)]({'stop':'restart'},_0x181880=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x4db68d(0x1fb)]=!![],emitLoadingProgress();break;}else _0x42ad73!=_0x2a7359&&(_0x2a7359=_0x42ad73,emitLoadingProgress()),_0x32473e++,await sleep(0xc8);}_0x42ad73==_0xa4ab48[_0x4db68d(0x16e)]&&(coinsLoaded=!![],process[_0x4db68d(0xfc)]({'status':_0x4db68d(0x156),'live':_0x4db68d(0x1bd)},_0x54416c=>{}),_0x166650&&logHistory(_0x4db68d(0xc5),_0x4db68d(0x1b8)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x73370f=_0x5a7073;proxyEmit(_0x73370f(0x232),{...emittedConfiguration(),'configstate':_0x73370f(0x1f4)});}function emitLoadingProgress(){const _0xb44048=_0x5a7073;proxyEmit(_0xb44048(0x1eb),loading);}async function getFiat(){const _0x31af3a=_0x5a7073;let _0x10d13c=global[_0x31af3a(0x184)][stablecoins['eur'][_0x31af3a(0x1fc)]],_0x57121f=global[_0x31af3a(0x184)][stablecoins['usd'][_0x31af3a(0x1fc)]];return{'eur':Number(_0x10d13c),'usd':Number(_0x57121f)};}function capitalize(_0x2290a2){const _0xf7dbeb=_0x5a7073;return _0x2290a2[_0xf7dbeb(0x126)](0x0,0x1)[_0xf7dbeb(0x103)]()+_0x2290a2[_0xf7dbeb(0x126)](0x1);}function supportedExchanges(){const _0xf171c1=_0x5a7073,_0x5973e6=['ws','fetchTickers','fetchTicker','watchTrades','watchOrders','cancelOrder',_0xf171c1(0x1ad),_0xf171c1(0x235),_0xf171c1(0x171),_0xf171c1(0x14e)];let _0x5753cc=[],_0x5e3c95=[],_0x51add8=ccxt['exchanges'];_0x51add8['forEach'](_0x99992f=>{const _0x3d4a5a=_0xf171c1;try{const _0x5d6145=new ccxt[_0x99992f]();if(_0x5d6145[_0x3d4a5a(0x1e3)]['ws'])_0x5e3c95[_0x3d4a5a(0xd4)](_0x5d6145);}catch(_0x5de75a){}}),_0x5e3c95[_0xf171c1(0x1af)](_0x11cd1a=>{const _0x45847a=_0xf171c1;let _0x1c7572=0x0;_0x5973e6[_0x45847a(0x1af)](_0x287af1=>{const _0x356fb3=_0x45847a;_0x287af1 in _0x11cd1a['has']&&_0x11cd1a[_0x356fb3(0x1e3)][_0x287af1]&&_0x1c7572++;}),_0x1c7572==_0x5973e6[_0x45847a(0x16e)]&&_0x5753cc[_0x45847a(0xd4)](capitalize(_0x11cd1a['id']));});let _0x3fb693=[];return _0x51add8[_0xf171c1(0x1af)](_0x28fe0a=>{const _0xd80298=_0xf171c1;_0x28fe0a=capitalize(_0x28fe0a);if(!_0x5753cc[_0xd80298(0x13d)](_0x28fe0a))_0x3fb693[_0xd80298(0xd4)](_0x28fe0a);}),_0x5753cc;}function setStartDatePerformance(){const _0x46867a=_0x5a7073;if(config&&config['liquidity'][0x0][_0x46867a(0x1a1)]['length']!=0x0){const _0x4c6dc0=config[_0x46867a(0x115)][0x0]['changes'];dbPerformance[_0x46867a(0xf5)]('data')[_0x46867a(0x129)]({'date':config[_0x46867a(0x175)]})[_0x46867a(0xe6)]({'coins':_0x4c6dc0})[_0x46867a(0x208)]();}}async function recreateCoinResults(){const _0x4f4dcf=_0x5a7073;let _0x39b209,_0x3b91a2=[];try{const _0x55c412=fns['format'](fns['parseISO'](config[_0x4f4dcf(0x175)][_0x4f4dcf(0x18d)](/\//g,'-')),_0x4f4dcf(0xfd));for(const _0x278486 of currentCoins){if(_0x278486[_0x4f4dcf(0x1fc)]!=config[_0x4f4dcf(0xc7)]){let _0x2ab4c4=0x0,_0x10ebce,_0x3d0288;_0x39b209=await getAllEventOrders(_0x278486[_0x4f4dcf(0x178)]);if(_0x39b209[_0x4f4dcf(0x16e)]>0x0)_0x39b209['forEach'](_0x2d86d5=>{const _0x4391dd=_0x4f4dcf,_0x4c15df=_0x278486[_0x4391dd(0x178)][_0x4391dd(0x13d)](config[_0x4391dd(0xc7)]+'/');_0x3b91a2[_0x4391dd(0xd4)]({'datetime':_0x2d86d5[_0x4391dd(0x15f)],'coin':_0x278486['coin'],'symbol':_0x278486[_0x4391dd(0x178)],'side':_0x2d86d5[_0x4391dd(0x21d)],'reverse':_0x4c15df,'amount':formatResult(_0x2d86d5[_0x4391dd(0x1cb)],0x8),'filled':formatResult(_0x2d86d5['filled'],0x8),'price':formatResult(_0x2d86d5['price'],0x8)}),_0x2ab4c4=_0x2d86d5[_0x4391dd(0x21d)]==_0x4391dd(0x193)?_0x2ab4c4+_0x2d86d5[_0x4391dd(0x1cb)]:_0x2ab4c4-_0x2d86d5[_0x4391dd(0x1cb)];if(!_0x3d0288)_0x3d0288=_0x2d86d5[_0x4391dd(0x207)];});_0x10ebce=_0x278486[_0x4f4dcf(0x132)]-_0x2ab4c4;let _0x94c1ca;config[_0x4f4dcf(0x115)][_0x4f4dcf(0x1af)](_0x38f37a=>{const _0x1a6452=_0x4f4dcf;!_0x94c1ca&&(_0x94c1ca=_0x38f37a['changes']['find'](_0x59265c=>_0x59265c[_0x1a6452(0x1fc)]==_0x278486[_0x1a6452(0x1fc)]),_0x94c1ca&&(_0x10ebce=_0x94c1ca[_0x1a6452(0x132)],_0x3d0288=_0x94c1ca['price']));});let _0x5c5885=dbCoinResults[_0x4f4dcf(0xf5)](_0x4f4dcf(0x211))[_0x4f4dcf(0x129)]({'coin':_0x278486[_0x4f4dcf(0x1fc)]})[_0x4f4dcf(0x1c5)]();_0x5c5885={'coin':_0x278486[_0x4f4dcf(0x1fc)],'number':_0x10ebce,'breakeven':_0x3d0288,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x4f4dcf(0x211))[_0x4f4dcf(0x129)]({'coin':_0x278486[_0x4f4dcf(0x1fc)]})[_0x4f4dcf(0xe6)](_0x5c5885)[_0x4f4dcf(0x208)]();}}_0x3b91a2[_0x4f4dcf(0xc4)]((_0x80483d,_0x588f1e)=>_0x80483d[_0x4f4dcf(0x15f)]>_0x588f1e[_0x4f4dcf(0x15f)]?0x1:_0x588f1e[_0x4f4dcf(0x15f)]>_0x80483d[_0x4f4dcf(0x15f)]?-0x1:0x0);let _0x982c7a=0x0;for(let _0x49a80d of _0x3b91a2){await updateCoinResults(_0x49a80d,!![]);}}catch(_0x2c8a84){await handleError(_0x2c8a84,_0x4f4dcf(0x123));}}async function getAllEventOrders(_0x3dd962){const _0x2edea6=_0x5a7073;let _0x4f309d=[],_0x12a99a=dbLogs[_0x2edea6(0xf5)](_0x2edea6(0x1e6))['filter'](_0x5a910c=>{const _0x11a9c7=_0x2edea6,_0x3d89eb=_0x5a910c[_0x11a9c7(0x20c)][_0x11a9c7(0x1d3)]();return _0x3d89eb[_0x11a9c7(0x13d)](_0x3dd962['toLowerCase']())&&(_0x3d89eb['includes']('market')&&_0x3d89eb[_0x11a9c7(0x13d)]('order')||_0x3d89eb[_0x11a9c7(0x13d)](_0x11a9c7(0x1cb))&&_0x3d89eb['includes'](_0x11a9c7(0x13a)));})[_0x2edea6(0x11f)](_0x2edea6(0x1f1))[_0x2edea6(0x1c5)]();return _0x12a99a[_0x2edea6(0x1af)](_0x2c85d4=>{const _0x5cc037=_0x2edea6,_0x4ceb62=_0x2c85d4[_0x5cc037(0x20c)][_0x5cc037(0x13d)](_0x5cc037(0x18b))?_0x5cc037(0x18b):'buy',_0x3f926a=/#([0-9]|\.)+\s/i,_0x23acaf=Number(_0x3f926a['exec'](_0x2c85d4[_0x5cc037(0x20c)])[0x0][_0x5cc037(0x1c0)](0x1)),_0x1dd092=/@([0-9]|\.)+$/i,_0x3193ce=Number(_0x1dd092[_0x5cc037(0x1ef)](_0x2c85d4['event'])[0x0][_0x5cc037(0x1c0)](0x1));_0x4f309d[_0x5cc037(0xd4)]({'datetime':_0x2c85d4['time'],'coin':symbolToCoin(_0x3dd962),'symbol':_0x3dd962,'side':_0x4ceb62,'amount':_0x23acaf,'filled':_0x23acaf,'price':_0x3193ce});}),_0x4f309d;}async function getAllOrders(_0x5d4323,_0x14c9fd){const _0x1777c8=_0x5a7073;let _0xa1d531=[];while(_0x14c9fd<exchange[_0x1777c8(0xe4)]()){const _0x54adf2=0x1f4,_0x2abd6d=await exchange['fetchClosedOrders'](_0x5d4323,_0x14c9fd,_0x54adf2);if(_0x2abd6d['length'])_0x14c9fd=_0x2abd6d[_0x2abd6d[_0x1777c8(0x16e)]-0x1][_0x1777c8(0x1db)]+0x1,_0xa1d531=_0xa1d531[_0x1777c8(0x192)](_0x2abd6d);else break;}return _0xa1d531;}async function validate24hChanges(){const _0x3df773=_0x5a7073;for(const _0x38d37d of currentCoins){if(_0x38d37d[_0x3df773(0x1fc)]!=config[_0x3df773(0xc7)]){let _0x30b88a;_0x38d37d[_0x3df773(0xdb)]?_0x30b88a=formatResult((0x1/(global[_0x3df773(0x11d)][noslash(_0x38d37d[_0x3df773(0x178)])]/0x64+0x1)-0x1)*0x64,0x3):_0x30b88a=global[_0x3df773(0x11d)][noslash(_0x38d37d[_0x3df773(0x178)])],_0x30b88a<config[_0x3df773(0x1bb)]&&(logHistory(_0x3df773(0x222),_0x38d37d[_0x3df773(0x1fc)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x30b88a+'%'),logHistory(_0x3df773(0x222),_0x3df773(0x22e)),logHistory(_0x3df773(0x222),_0x3df773(0x1c3)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x49b2a3,_0x42e6bb){const _0x4c26f7=_0x5a7073;if(!_0x49b2a3)return!![];const _0x170b10=_0x42e6bb[_0x4c26f7(0x21e)]('.'),_0x1e30fc=_0x49b2a3[_0x4c26f7(0x21e)]('.');for(var _0x32d3be=0x0;_0x32d3be<_0x1e30fc[_0x4c26f7(0x16e)];_0x32d3be++){const _0x18bd4a=~~_0x1e30fc[_0x32d3be],_0x3029cb=~~_0x170b10[_0x32d3be];if(_0x18bd4a<_0x3029cb)return!![];if(_0x18bd4a>_0x3029cb)return![];}return![];}async function oneTimeMigration(){const _0x58bc6a=_0x5a7073;let _0xfc50ed=dbLogs[_0x58bc6a(0xf5)](_0x58bc6a(0x185))['value']();if(isOlderVersion(_0xfc50ed,_0x58bc6a(0x23a))){let _0x5e5a85=[];const _0x3becb6=dbLogs[_0x58bc6a(0xf5)](_0x58bc6a(0x1e6))[_0x58bc6a(0x1c5)]();_0x3becb6['forEach'](_0x4dd5b4=>{const _0x1ee67b=_0x58bc6a;_0x5e5a85[_0x1ee67b(0xd4)]({'time':_0x4dd5b4['time'],'type':_0x4dd5b4[_0x1ee67b(0x181)],'event':_0x4dd5b4['event']});}),dbLogs['get'](_0x58bc6a(0x1e6))[_0x58bc6a(0xe6)](_0x5e5a85)[_0x58bc6a(0x208)]();}let _0xcb183=dbConfig[_0x58bc6a(0xf5)](_0x58bc6a(0x185))[_0x58bc6a(0x1c5)]();if(isOlderVersion(_0xcb183,_0x58bc6a(0x23a))){let _0x26da7e=dbConfig[_0x58bc6a(0xf5)](_0x58bc6a(0x1bc))['find']({'botID':botID})[_0x58bc6a(0x1c5)]();if(_0x26da7e){let _0x546622=[];_0x26da7e[_0x58bc6a(0x1a3)][_0x58bc6a(0x1af)](_0x38d50a=>{const _0x32c119=_0x58bc6a;_0x546622[_0x32c119(0xd4)]({'coin':_0x38d50a[_0x32c119(0x1fc)],'number':_0x38d50a[_0x32c119(0xc9)],'price':_0x38d50a[_0x32c119(0x130)]}),delete _0x38d50a['startnumber'],delete _0x38d50a[_0x32c119(0x130)];});if(_0x546622['length']!==0x0)fs['writeFile'](configbackuppath+(_0x58bc6a(0x17b)+botID+_0x58bc6a(0x1b2)),JSON[_0x58bc6a(0xf8)](_0x546622,null,0x4),function(_0x4f3cf9){if(_0x4f3cf9){}});const _0x4b6611=(_0xc99cec,_0x3a0a9c)=>{const _0x236fdf=_0x58bc6a;let _0x4a56b1=[];_0x3a0a9c[_0x236fdf(0x1af)](_0x422009=>{const _0x2d2bed=_0x236fdf,_0x143d3b=_0xc99cec[_0x2d2bed(0x129)](_0x58ca58=>_0x58ca58[_0x2d2bed(0x1fc)]==_0x422009['coin']);if(!_0x143d3b)_0x4a56b1['push'](_0x422009);});let _0x1132b5=[];return _0xc99cec[_0x236fdf(0x1af)](_0x441b3d=>{const _0x4a0295=_0x236fdf,_0x4eae25=_0x3a0a9c[_0x4a0295(0x129)](_0x338b01=>_0x338b01[_0x4a0295(0x1fc)]==_0x441b3d[_0x4a0295(0x1fc)]);if(!_0x4eae25||_0x4eae25['number']==0x0&&_0x441b3d['number']!=0x0)_0x1132b5[_0x4a0295(0xd4)](_0x441b3d);}),{'missingDay1':_0x4a56b1,'notInDay2':_0x1132b5};},_0x1063d7=dbPerformance['get'](_0x58bc6a(0x201))[_0x58bc6a(0x22a)]()[_0x58bc6a(0x1c5)]();if(_0x1063d7['length']>0x1){const {missingDay1:_0x5524f0,notInDay2:_0x416f28}=_0x4b6611(_0x546622,_0x1063d7[0x1][_0x58bc6a(0x211)]);_0x546622=[..._0x546622,..._0x5524f0],_0x416f28[_0x58bc6a(0x1af)](_0x37a5cd=>{const _0xf68392=_0x58bc6a;let _0xbb001b=_0x546622[_0xf68392(0x1da)](_0x3cbfc4=>_0x3cbfc4['coin']==_0x37a5cd[_0xf68392(0x1fc)]);_0xbb001b!=-0x1&&_0x546622[_0xf68392(0xef)](_0xbb001b,0x1);});}_0x546622[_0x58bc6a(0xc4)]((_0x25c4fd,_0x8519d4)=>_0x25c4fd['coin']>_0x8519d4[_0x58bc6a(0x1fc)]?0x1:_0x8519d4[_0x58bc6a(0x1fc)]>_0x25c4fd['coin']?-0x1:0x0);let _0x5b0621=[{'date':_0x26da7e[_0x58bc6a(0x175)],'changes':_0x546622}];_0x1063d7[_0x58bc6a(0x16e)]>0x2&&_0x1063d7[_0x58bc6a(0x1af)]((_0x2932e4,_0x5809b5)=>{const _0x448fe1=_0x58bc6a;if(_0x5809b5>0x0&&_0x5809b5<_0x1063d7[_0x448fe1(0x16e)]-0x1){const {missingDay1:_0xba7af4,notInDay2:_0x336969}=_0x4b6611(_0x1063d7[_0x5809b5][_0x448fe1(0x211)],_0x1063d7[_0x5809b5+0x1]['coins']);_0x546622=[],(_0xba7af4[_0x448fe1(0x16e)]!=0x0||_0x336969['length']!=0x0)&&(_0xba7af4['length']!=0x0&&_0x546622[_0x448fe1(0xd4)](..._0xba7af4),_0x336969[_0x448fe1(0x16e)]!=0x0&&(_0x336969[_0x448fe1(0x1af)](_0x25eecf=>{const _0x177bf9=_0x448fe1;_0x25eecf['number']=-_0x25eecf[_0x177bf9(0x132)];}),_0x546622[_0x448fe1(0xd4)](..._0x336969)),_0x546622[_0x448fe1(0xc4)]((_0xb545e7,_0x3d0177)=>_0xb545e7['coin']>_0x3d0177[_0x448fe1(0x1fc)]?0x1:_0x3d0177[_0x448fe1(0x1fc)]>_0xb545e7[_0x448fe1(0x1fc)]?-0x1:0x0),_0x5b0621[_0x448fe1(0xd4)]({'date':_0x1063d7[_0x5809b5+0x1][_0x448fe1(0x11c)],'changes':_0x546622}));}}),dbConfig[_0x58bc6a(0xf5)]('bot')['find']({'botID':botID})['assign']({..._0x26da7e,'liquidity':_0x5b0621})[_0x58bc6a(0x208)]();}}if(isOlderVersion(_0xcb183,_0x58bc6a(0x1ac))){let _0x5844f3=dbConfig[_0x58bc6a(0xf5)](_0x58bc6a(0x1bc))[_0x58bc6a(0x129)]({'botID':botID})['value']();if(_0x5844f3){const _0x35f180=_0x5844f3['exchange'],_0x3a7a1b=_0x35f180?capitalize(_0x35f180):'Binance';dbConfig[_0x58bc6a(0xf5)](_0x58bc6a(0x1bc))[_0x58bc6a(0x129)]({'botID':botID})[_0x58bc6a(0xe6)]({'exchange':_0x3a7a1b})[_0x58bc6a(0x208)]();}}let _0x44f85d=dbPerformance[_0x58bc6a(0xf5)]('version')['value']();isOlderVersion(_0x44f85d,_0x58bc6a(0x23a))&&setStartDatePerformance();let _0x2b91e6=dbCoinResults['get'](_0x58bc6a(0x185))[_0x58bc6a(0x1c5)]();if(isOlderVersion(_0x2b91e6,'2.5.0')){let _0x38e949=dbCoinResults[_0x58bc6a(0xf5)](_0x58bc6a(0x211))[_0x58bc6a(0x1c5)]();if(_0x38e949[_0x58bc6a(0x16e)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x401de2=_0x5a7073;dbConfig[_0x401de2(0x11b)]('version',serverversion)['write'](),dbPerformance[_0x401de2(0x11b)](_0x401de2(0x185),serverversion)['write'](),dbLogs['set'](_0x401de2(0x185),serverversion)['write'](),dbCoinResults[_0x401de2(0x11b)]('version',serverversion)['write']();}function getConfiguration(_0x1b59c1){const _0x1971b9=_0x5a7073;let _0x1b9b2d=dbConfig[_0x1971b9(0xf5)]('bot')['find']({'botID':_0x1b59c1})['value']();if(_0x1b9b2d){let _0x28db78=![];typeof _0x1b9b2d[_0x1971b9(0x1bf)]==_0x1971b9(0x1d0)&&(_0x1b9b2d={..._0x1b9b2d,'threshold':Number(_0x1b9b2d['threshold'])},_0x28db78=!![]),_0x1b9b2d['change24h']==null&&(_0x1b9b2d={..._0x1b9b2d,'change24h':-0x14},_0x28db78=!![]),!_0x1b9b2d[_0x1971b9(0x1ab)]&&(_0x1b9b2d={..._0x1b9b2d,'fiat':_0x1971b9(0xe8)},_0x28db78=!![]),!_0x1b9b2d[_0x1971b9(0x1c1)]&&(_0x1b9b2d={..._0x1b9b2d,'onepagemode':settings[_0x1971b9(0x1c1)]},_0x28db78=!![]),_0x28db78&&(_0x1b9b2d={'botID':_0x1b9b2d[_0x1971b9(0x104)],'exchange':_0x1b9b2d[_0x1971b9(0xf1)],'apiKey':_0x1b9b2d[_0x1971b9(0x162)],'apiSecret':_0x1b9b2d['apiSecret'],'apiPassword':_0x1b9b2d[_0x1971b9(0x206)],'basecoin':_0x1b9b2d[_0x1971b9(0xc7)],'botname':_0x1b9b2d[_0x1971b9(0x212)],'showname':_0x1b9b2d['showname'],'threshold':_0x1b9b2d[_0x1971b9(0x1bf)],'ordertype':_0x1b9b2d[_0x1971b9(0x1ca)],'timeout':_0x1b9b2d[_0x1971b9(0x1b9)],'fiat':_0x1b9b2d['fiat'],'startdate':_0x1b9b2d[_0x1971b9(0x175)],'recreate':_0x1b9b2d[_0x1971b9(0x122)],'timeshift':_0x1b9b2d[_0x1971b9(0x187)],'onepagemode':_0x1b9b2d[_0x1971b9(0x1c1)],'headless':_0x1b9b2d[_0x1971b9(0xca)],'cooldown':_0x1b9b2d[_0x1971b9(0x18c)],'change24h':_0x1b9b2d[_0x1971b9(0x1bb)],'emojibuy':_0x1b9b2d[_0x1971b9(0x1b6)],'emojisell':_0x1b9b2d[_0x1971b9(0x17e)],'portfolio':_0x1b9b2d[_0x1971b9(0x1a3)],'liquidity':_0x1b9b2d[_0x1971b9(0x115)],'openOrders':_0x1b9b2d[_0x1971b9(0x1d2)]},dbConfig[_0x1971b9(0xf5)](_0x1971b9(0x1bc))[_0x1971b9(0x194)]()[_0x1971b9(0x208)](),dbConfig[_0x1971b9(0xf5)](_0x1971b9(0x1bc))[_0x1971b9(0xd4)](_0x1b9b2d)['write']());}else _0x1b9b2d={'botID':_0x1b59c1,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x1971b9(0x102)+_0x1b59c1,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x1971b9(0xe8),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1971b9(0x187)],'onepagemode':settings[_0x1971b9(0x1c1)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1b9b2d;}function emittedConfiguration(){const _0x4181a0=_0x5a7073;let _0x87a716;if(config[_0x4181a0(0x162)]=='')_0x87a716={...config,'configstate':_0x4181a0(0x1a0)};else config['apiKey']=='***'?_0x87a716={...config,'configstate':_0x4181a0(0x146)}:(_0x87a716={...config,'apiKey':_0x4181a0(0x21c),'apiSecret':_0x4181a0(0x21c)},config['apiPassword']&&(_0x87a716['apiPassword']=_0x4181a0(0x21c)));return _0x87a716;}function getSettings(){const _0x3c08ba=_0x5a7073;return dbSettings[_0x3c08ba(0xf5)](_0x3c08ba(0x218))['value']();}function getSecure(){return dbSecure['get']('secure')['value']()||{};}function updateTimeshift(_0x24e446){const _0x159421=_0x5a7073;let _0x12bd2a=dbConfig[_0x159421(0xf5)](_0x159421(0x1bc))[_0x159421(0x129)]({'botID':botID})[_0x159421(0x1c5)]();_0x12bd2a&&dbConfig[_0x159421(0xf5)](_0x159421(0x1bc))['find']({'botID':botID})[_0x159421(0xe6)]({'timeshift':_0x24e446})[_0x159421(0x208)](),config[_0x159421(0x187)]=_0x24e446,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x17d1f8){const _0x56ba7c=_0x5a7073;let _0x36f528=dbConfig[_0x56ba7c(0xf5)]('bot')[_0x56ba7c(0x129)]({'botID':botID})[_0x56ba7c(0x1c5)]();_0x36f528&&dbConfig['get'](_0x56ba7c(0x1bc))[_0x56ba7c(0x129)]({'botID':botID})[_0x56ba7c(0xe6)]({'onepagemode':_0x17d1f8})[_0x56ba7c(0x208)](),config[_0x56ba7c(0x1c1)]=_0x17d1f8,proxyEmit(_0x56ba7c(0x232),emittedConfiguration());}async function storeConfiguration(_0x3095ce){const _0x29929a=_0x5a7073;logger[_0x29929a(0xfb)](_0x29929a(0x113)),blockTransactionDetection=!![],logger[_0x29929a(0xfb)]('Transaction\x20detection\x20blocked');let _0xe366dd=[],_0x46bcb7=![],_0x45d1a5=[];_0x3095ce[_0x29929a(0x1a3)]['forEach'](_0x49fbaa=>{const _0x536b52=_0x29929a;if(!_0x49fbaa['excluded']&&_0x49fbaa[_0x536b52(0x1fc)]!=_0x3095ce[_0x536b52(0xc7)])_0x45d1a5[_0x536b52(0xd4)](_0x49fbaa[_0x536b52(0x178)]);}),_0x45d1a5[_0x29929a(0x1af)](_0xd5e292=>{const _0x3644e2=_0x29929a,_0x392743=watchedSymbols[_0x3644e2(0x13d)](_0xd5e292);!_0x392743&&_0xe366dd[_0x3644e2(0xd4)](_0xd5e292);});_0xe366dd[_0x29929a(0x16e)]>0x0?_0x46bcb7=!![]:currentCoins['forEach'](_0x4a4cbb=>{const _0x2d9bd1=_0x29929a;if(_0x4a4cbb[_0x2d9bd1(0x1fc)]!=config['basecoin']){const _0x25f571=_0x45d1a5[_0x2d9bd1(0x129)](_0x1b1330=>_0x1b1330==_0x4a4cbb['symbol']);!_0x25f571&&(_0x46bcb7=!![]);}});let _0x5405e6=dbConfig['get'](_0x29929a(0x1bc))['find']({'botID':botID})['value']();_0x3095ce={..._0x3095ce,'apiKey':crypt['decrypt'](secure[_0x29929a(0x13e)],_0x3095ce[_0x29929a(0x162)])['message'],'apiSecret':crypt[_0x29929a(0x12d)](secure[_0x29929a(0x13e)],_0x3095ce[_0x29929a(0x109)])['message']};_0x3095ce['apiPassword']&&(_0x3095ce[_0x29929a(0x206)]=crypt['decrypt'](secure[_0x29929a(0x13e)],_0x3095ce['apiPassword'])['message']);let _0x50a283=![];_0x5405e6?(_0x3095ce['apiKey']==_0x29929a(0x21c)?_0x3095ce[_0x29929a(0x162)]=config[_0x29929a(0x162)]:_0x50a283=!![],_0x3095ce[_0x29929a(0x109)]=='************'?_0x3095ce['apiSecret']=config[_0x29929a(0x109)]:_0x50a283=!![],_0x3095ce[_0x29929a(0x206)]==_0x29929a(0x21c)?_0x3095ce['apiPassword']=config[_0x29929a(0x206)]:_0x50a283=!![],dbConfig[_0x29929a(0xf5)]('bot')['find']({'botID':botID})['assign'](_0x3095ce)[_0x29929a(0x208)]()):(dbConfig['get']('bot')[_0x29929a(0xd4)](_0x3095ce)[_0x29929a(0x208)](),_0x50a283=!![],process['send']({'status':_0x29929a(0x156),'live':'running'},_0x21c247=>{}));config={..._0x3095ce},setStartDatePerformance(),process[_0x29929a(0xfc)]({'botname':_0x3095ce['botname']},_0x5ced6f=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit('configuration-stored'),await initCoinResults();if(_0x50a283)await reset(_0xe366dd,!![]);else{if(_0x46bcb7)await reset(_0xe366dd,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x29929a(0xfb)](_0x29929a(0x120));}async function storeHeadless(_0x4337eb){const _0x1a19f4=_0x5a7073,_0x39bcf3={...config,'headless':_0x4337eb[_0x1a19f4(0xca)]};let _0x4aa73c=dbConfig[_0x1a19f4(0xf5)](_0x1a19f4(0x1bc))[_0x1a19f4(0x129)]({'botID':botID})[_0x1a19f4(0x1c5)]();_0x4aa73c&&dbConfig[_0x1a19f4(0xf5)](_0x1a19f4(0x1bc))['find']({'botID':botID})[_0x1a19f4(0xe6)](_0x39bcf3)[_0x1a19f4(0x208)](),config={..._0x39bcf3},updateBotManager(),proxyEmit(_0x1a19f4(0x232),emittedConfiguration());}async function storeFiat(_0x3e3c4c){const _0x1aafb8=_0x5a7073,_0x4da913={...config,'fiat':_0x3e3c4c};let _0x17a83c=dbConfig[_0x1aafb8(0xf5)]('bot')['find']({'botID':botID})[_0x1aafb8(0x1c5)]();_0x17a83c&&dbConfig['get'](_0x1aafb8(0x1bc))['find']({'botID':botID})[_0x1aafb8(0xe6)](_0x4da913)[_0x1aafb8(0x208)](),config={..._0x4da913},proxyEmit(_0x1aafb8(0x232),emittedConfiguration());}function resetHistory(){const _0xb4de83=_0x5a7073;logger[_0xb4de83(0x191)](_0xb4de83(0x1b3));try{if(fs[_0xb4de83(0x1d9)](path[_0xb4de83(0x106)](configpath,_0xb4de83(0x12e)+botID+'-events.json')))fs[_0xb4de83(0xc0)](path[_0xb4de83(0x106)](configpath,_0xb4de83(0x12e)+botID+_0xb4de83(0xd5)));if(fs[_0xb4de83(0x1d9)](path[_0xb4de83(0x106)](configpath,'bot-'+botID+_0xb4de83(0x150))))fs['unlinkSync'](path[_0xb4de83(0x106)](configpath,'bot-'+botID+_0xb4de83(0x150)));if(fs[_0xb4de83(0x1d9)](path[_0xb4de83(0x106)](configpath,'bot-'+botID+_0xb4de83(0x1d1))))fs[_0xb4de83(0xc0)](path['join'](configpath,_0xb4de83(0x12e)+botID+'-results.json'));}catch(_0x57da9a){if(_0x57da9a)logger[_0xb4de83(0x191)](_0xb4de83(0x224),_0x57da9a);}const _0x1ac549=getDate();let _0xca141c=[];currentCoins['forEach'](_0x18fe1e=>{const _0x4de725=_0xb4de83;_0xca141c[_0x4de725(0xd4)]({'coin':_0x18fe1e['coin'],'number':_0x18fe1e[_0x4de725(0x132)],'price':_0x18fe1e[_0x4de725(0x1b1)]});});let _0x44634b=dbConfig[_0xb4de83(0xf5)](_0xb4de83(0x1bc))[_0xb4de83(0x129)]({'botID':botID})[_0xb4de83(0x1c5)]();_0x44634b&&(dbConfig['get'](_0xb4de83(0x1bc))[_0xb4de83(0x129)]({'botID':botID})[_0xb4de83(0xe6)]({'liquidity':[{'date':_0x1ac549,'changes':_0xca141c}]})['write'](),config[_0xb4de83(0x115)]=[]),process[_0xb4de83(0xfc)]({'stop':'restart'},_0x3f71d1=>{});}function noslash(_0x219b06){const _0x110e51=_0x5a7073;return _0x219b06[_0x110e51(0x18d)]('/','');}function updateHighestFee(_0x2735e2,_0x436d3c){const _0x14c84a=_0x5a7073;lastFees['currency']=_0x2735e2,lastFees[_0x14c84a(0xe7)][_0x14c84a(0x16e)]===0x14&&lastFees[_0x14c84a(0xe7)][_0x14c84a(0x237)](),lastFees[_0x14c84a(0xe7)]['push'](_0x436d3c),lastFees['highest']=Math[_0x14c84a(0x173)](...lastFees[_0x14c84a(0xe7)]);}async function updateNumberCoinsCcxt(_0x11ae69){const _0x263c3a=_0x5a7073;logger[_0x263c3a(0xfb)](_0x263c3a(0x1ee)+_0x11ae69['symbol']+'\x20|\x20'+_0x11ae69['status']+_0x263c3a(0x17f)+_0x11ae69['id']+_0x263c3a(0x17f)+_0x11ae69[_0x263c3a(0xe9)]);let _0x5ca9b5=_0x11ae69[_0x263c3a(0x1ed)],_0x5911e4=![];currentCoins[_0x263c3a(0x1af)](_0x523a9e=>{const _0x1affa6=_0x263c3a;_0x523a9e[_0x1affa6(0x178)]==_0x11ae69['symbol']&&(_0x5911e4=!![]);});if(!_0x5911e4)return;const _0x1518ca=currentCoins['find'](_0xd66697=>_0xd66697[_0x263c3a(0x178)]==_0x11ae69[_0x263c3a(0x178)]),_0x1f1b4c=_0x37ddfe=>{const _0x254fb4=_0x263c3a;if(_0x1518ca)_0x1518ca[_0x254fb4(0xe5)]=_0x37ddfe;};if(_0x5ca9b5==_0x263c3a(0x127))_0x1f1b4c(_0x263c3a(0x127));else{if(_0x5ca9b5==_0x263c3a(0x164)){_0x1f1b4c(_0x263c3a(0x164));const _0x4cceb2=await getCoins();[currentCoins,currentCoinsAll]=_0x4cceb2,await getOpenOrders(),handleOpenOrders();}else{if(_0x5ca9b5==_0x263c3a(0x16c)){logger['debug'](_0x263c3a(0x225)+_0x11ae69[_0x263c3a(0x178)]+'\x20|\x20'+_0x11ae69[_0x263c3a(0x1cb)]+_0x263c3a(0x17f)+_0x11ae69['id']+_0x263c3a(0x17f)+_0x11ae69[_0x263c3a(0xe9)]);let _0x42b48e=![];if(lastOrders)lastOrders[_0x263c3a(0x1af)](async _0x51687e=>{const _0x54465f=_0x263c3a;if(_0x51687e[_0x54465f(0x1d5)]==_0x11ae69[_0x54465f(0xe9)]){logger[_0x54465f(0xfb)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x11ae69[_0x54465f(0xe9)]),_0x42b48e=!![];if(_0x51687e['filled']==0x0){logger[_0x54465f(0xfb)](_0x54465f(0x21a)+_0x11ae69[_0x54465f(0xe9)]);_0x11ae69[_0x54465f(0x1e9)]?_0x51687e[_0x54465f(0x207)]=_0x11ae69[_0x54465f(0x1e9)]:_0x51687e[_0x54465f(0x207)]=_0x11ae69[_0x54465f(0x207)];_0x51687e['filled']=_0x11ae69[_0x54465f(0x1cb)],_0x51687e['fee']={'currency':_0x11ae69['fee']?_0x11ae69[_0x54465f(0x13b)][_0x54465f(0x143)]:null,'cost':_0x11ae69[_0x54465f(0x13b)]?_0x11ae69['fee'][_0x54465f(0x202)]:0x0},updateHighestFee(_0x51687e[_0x54465f(0x13b)]['currency'],_0x51687e['fee'][_0x54465f(0x202)]),_0x1f1b4c(_0x54465f(0x1cb)),await validateOrders();if(lockOrders==ORDERS[_0x54465f(0x1c2)]){const _0x2d8d2a=await getCoins();[currentCoins,currentCoinsAll]=_0x2d8d2a;}await updateCoinResults(_0x51687e);}}});if(!_0x42b48e){logger[_0x263c3a(0xfb)](_0x263c3a(0xeb)+_0x11ae69['id']),_0x1f1b4c(_0x263c3a(0x1cb));const _0x24bc11=await getCoins();[currentCoins,currentCoinsAll]=_0x24bc11,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x4c7336=JSON['parse'](lastBalances[_0x263c3a(0x1a3)]);const _0x4a197a=_0x4c7336[_0x263c3a(0x129)](_0x3deb00=>_0x3deb00['symbol']==_0x11ae69[_0x263c3a(0x178)]);if(_0x4a197a){if(_0x5ca9b5=='open')_0x4a197a[_0x263c3a(0xe5)]=_0x4a197a['orderstatus']==_0x263c3a(0x1cb)?'filled':_0x263c3a(0x127);else{if(_0x5ca9b5=='canceled')_0x4a197a[_0x263c3a(0xe5)]=_0x4a197a[_0x263c3a(0xe5)]==_0x263c3a(0x1cb)?_0x263c3a(0x1cb):_0x263c3a(0x164);else _0x5ca9b5=='closed'&&(_0x4a197a[_0x263c3a(0xe5)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x263c3a(0xf8)](_0x4c7336)},proxyEmit(_0x263c3a(0x19b),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x4bb142=_0x5a7073;await getOpenOrders();let _0x347e48=![];currentCoins[_0x4bb142(0x1af)](_0x459f8a=>{const _0x2ebee6=_0x4bb142;_0x347e48=allOpenOrders[_0x2ebee6(0x129)](_0x162fd9=>_0x162fd9[_0x2ebee6(0x178)]==_0x459f8a[_0x2ebee6(0x178)]),_0x459f8a[_0x2ebee6(0xe5)]=_0x347e48?_0x2ebee6(0x127):'none';});}async function getCoins(_0x4d3bf4=!![],_0x367b4c=config[_0x5a7073(0xc7)]){const _0x1125d2=_0x5a7073;let _0x4c308d,_0x23db25=[],_0x786762=[],_0x16d1cd=[],_0x3b025f=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x4c308d=await exchange[_0x1125d2(0x14e)](),mybalances=_0x4c308d['total'];for(const [_0x1485cf,_0x1f6ddf]of Object[_0x1125d2(0x183)](mybalances)){_0x3b025f[_0x1125d2(0xd4)](_0x1485cf);}if(_0x367b4c=='')for(const [_0x3cceaa,_0x20a27e]of Object[_0x1125d2(0x183)](mybalances)){_0x20a27e[_0x1125d2(0x238)]()!=0x0&&_0x786762['push']({'coin':_0x3cceaa});}else{let _0x2896c9=![];for(const [_0x581c30,_0x2256c4]of Object[_0x1125d2(0x183)](mybalances)){if(_0x3b025f['includes'](_0x581c30)){const _0xe8a7f=config[_0x1125d2(0x1a3)][_0x1125d2(0x129)](_0x2436f6=>_0x2436f6[_0x1125d2(0x1fc)]==_0x581c30),_0x3454d8=_0x581c30+'/'+_0x367b4c,_0x5bc94f=_0x367b4c+'/'+_0x581c30,_0x4c2783=currentCoins['find'](_0x557ecf=>_0x557ecf[_0x1125d2(0x1fc)]==_0x581c30);_0x2896c9=![];if((_0x2256c4[_0x1125d2(0x238)]()!=0x0||_0xe8a7f)&&(allSymbols[_0x1125d2(0x13d)](_0x3454d8)||_0x581c30==_0x367b4c))_0x581c30!=_0x367b4c&&_0x23db25[_0x1125d2(0xd4)](_0x3454d8),_0x786762[_0x1125d2(0xd4)]({'coin':_0x581c30,'symbol':_0x3454d8,'reverse':![],'number':Math[_0x1125d2(0x173)](_0x2256c4+(_0xe8a7f&&_0xe8a7f['offset']||0x0),0x0),'orderstatus':_0x4c2783?_0x4c2783['orderstatus']:_0x1125d2(0xc2)});else(_0x2256c4['toString']()!=0x0||_0xe8a7f)&&allSymbols[_0x1125d2(0x13d)](_0x5bc94f)&&(_0x581c30!=_0x367b4c&&_0x23db25[_0x1125d2(0xd4)](_0x5bc94f),_0x786762['push']({'coin':_0x581c30,'symbol':_0x5bc94f,'reverse':!![],'number':Math[_0x1125d2(0x173)](_0x2256c4+(_0xe8a7f&&_0xe8a7f[_0x1125d2(0x19d)]||0x0),0x0),'orderstatus':_0x4c2783?_0x4c2783[_0x1125d2(0xe5)]:'none'}));}}}}catch(_0x438d61){if(!_0x4d3bf4)handleErrorNoStop(_0x438d61,_0x1125d2(0x1f7));else await handleError(_0x438d61,_0x1125d2(0x1f7));}return _0x16d1cd=cloneDeep(_0x786762),_0x786762=_0x786762[_0x1125d2(0x11a)](_0x29235b=>{const _0x2df917=_0x1125d2,_0x1a49f5=config[_0x2df917(0x1a3)][_0x2df917(0x129)](_0x412d6c=>_0x412d6c[_0x2df917(0x1fc)]==_0x29235b[_0x2df917(0x1fc)]);return _0x1a49f5&&!_0x1a49f5[_0x2df917(0x204)];}),[_0x786762,_0x16d1cd];}async function getCoinNumber(_0x9951c0){const _0x1ff0c4=_0x5a7073;let _0x3b974d;try{const _0x19fd99=await exchange[_0x1ff0c4(0x14e)]();_0x3b974d=_0x19fd99[_0x1ff0c4(0x22c)][_0x9951c0];}catch(_0x3c1c53){await handleError(_0x3c1c53,'getCoinNumber()');}return _0x3b974d;}async function getOpenOrders(){const _0xea459e=_0x5a7073;let _0x13adcf;allOpenOrders=[];try{for(const _0x36b328 of config[_0xea459e(0x1a3)]){!_0x36b328[_0xea459e(0x204)]&&_0x36b328[_0xea459e(0x1fc)]!=config['basecoin']&&(_0x13adcf=await exchange[_0xea459e(0x235)](_0x36b328[_0xea459e(0x178)]),_0x13adcf[_0xea459e(0x16e)]>0x0&&allOpenOrders[_0xea459e(0xd4)](_0x13adcf[0x0]));}}catch(_0x19a2af){await handleError(_0x19a2af,'getOpenOrders()');}}async function handleOpenOrders(_0x4a0ba4=0x0){const _0x296c39=_0x5a7073;allOpenOrders[_0x296c39(0x16e)]==0x0&&lockOrders==ORDERS[_0x296c39(0x1c2)]&&allOrdersPlaced&&(_0x4a0ba4==0x0?(logger['debug'](_0x296c39(0x20f)),_0x4a0ba4++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x296c39(0xfb)](_0x296c39(0x14c)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x5ecd93){const _0x4ba1f4=_0x5a7073,_0x301600=ccxt[_0x5ecd93[_0x4ba1f4(0xf1)]['toLowerCase']()],_0x3176c5=new _0x301600({'apiKey':_0x5ecd93[_0x4ba1f4(0x162)],'secret':_0x5ecd93[_0x4ba1f4(0x109)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x5ecd93[_0x4ba1f4(0x206)])_0x3176c5[_0x4ba1f4(0xc1)]=_0x5ecd93[_0x4ba1f4(0x206)];try{await _0x3176c5[_0x4ba1f4(0x140)]();}catch(_0x11cae2){throw _0x11cae2;}}function cloneDeep(_0xdd26b8){const _0xeab6f1=_0x5a7073;return JSON[_0xeab6f1(0x148)](JSON['stringify'](_0xdd26b8));}async function getPortfolio(_0x518c14){const _0x58436d=_0x5a7073;let _0x124630=[],_0x524bf7=[],_0x120531=[],_0x1c2edf;if(_0x518c14[_0x58436d(0x162)]!==_0x58436d(0x21c)||_0x518c14['apiSecret']!=='************'||_0x518c14[_0x58436d(0x206)]&&_0x518c14['apiPassword']!==_0x58436d(0x21c)){if(config['exchange']){if(_0x518c14[_0x58436d(0x162)]==_0x58436d(0x21c))_0x518c14[_0x58436d(0x162)]=config[_0x58436d(0x162)];if(_0x518c14[_0x58436d(0x109)]=='************')_0x518c14[_0x58436d(0x109)]=config[_0x58436d(0x109)];if(_0x518c14['apiPassword']=='************')_0x518c14['apiPassword']=config['apiPassword'];try{await testAPI(_0x518c14);}catch(_0x1c76e3){if(_0x1c76e3['toString']()[_0x58436d(0x13d)](_0x58436d(0x1cc))){logger[_0x58436d(0xfb)](_0x58436d(0x160)),proxyEmit(_0x58436d(0x1a3),![]);return;}else{handleError(_0x1c76e3,_0x58436d(0x188));return;}}}await initExchange(_0x518c14[_0x58436d(0xf1)],_0x518c14[_0x58436d(0x162)],_0x518c14[_0x58436d(0x109)],_0x518c14['apiPassword']);try{await loadSymbols(_0x518c14[_0x58436d(0xf1)],!![]);}catch(_0x4490c2){if(_0x4490c2['toString']()[_0x58436d(0x13d)](_0x58436d(0x1cc))){proxyEmit(_0x58436d(0x1a3),![]);return;}else{handleError(_0x4490c2,_0x58436d(0x186));return;}}const _0x1dfbdf=await getCoins(![],_0x518c14[_0x58436d(0xc7)]);_0x120531=cloneDeep(_0x1dfbdf[0x1]);}else _0x120531=cloneDeep(currentCoinsAll);if(_0x518c14[_0x58436d(0xc7)]=='')proxyEmit(_0x58436d(0x1a3),_0x120531);else{_0x120531['forEach'](_0x56a37c=>{const _0x5868b6=_0x58436d;if(_0x56a37c['coin']!=_0x518c14[_0x5868b6(0xc7)])_0x124630['push'](_0x56a37c[_0x5868b6(0x178)]);});try{_0x524bf7=await exchange['fetchTickers'](_0x124630);}catch(_0x52f700){if(_0x52f700[_0x58436d(0x238)]()[_0x58436d(0x13d)](_0x58436d(0x1cc))){proxyEmit(_0x58436d(0x1a3),![]);return;}else{handleError(_0x52f700,_0x58436d(0x234));return;}}_0x120531['forEach'](_0x52ef8c=>{const _0x588542=_0x58436d;_0x52ef8c[_0x588542(0x1fc)]!=_0x518c14[_0x588542(0xc7)]?_0x1c2edf=_0x52ef8c['reverse']?0x1/_0x524bf7[_0x52ef8c['symbol']][_0x588542(0x1b1)]:_0x524bf7[_0x52ef8c[_0x588542(0x178)]]['last']:_0x1c2edf=0x1,_0x52ef8c[_0x588542(0x207)]=formatResult(_0x1c2edf,0x8);}),proxyEmit('portfolio',_0x120531);}}function truncateTradeAmount(_0x3d943d,_0x3dc7cb){const _0x59abc5=_0x5a7073;let _0x225950=0x0;try{_0x225950=exchange[_0x59abc5(0xf6)](_0x3d943d,_0x3dc7cb);}catch(_0x3d498d){}return _0x225950;}function checkMinimums(_0x5f4863){const _0x152435=_0x5a7073;let _0x50aedd=!![];const _0x507500=!_0x5f4863[_0x152435(0xdb)]?markets[_0x5f4863[_0x152435(0x178)]][_0x152435(0x133)][_0x152435(0x15c)][_0x152435(0x121)]:markets[_0x5f4863[_0x152435(0x178)]]['limits'][_0x152435(0x202)][_0x152435(0x121)],_0x974a06=!_0x5f4863[_0x152435(0xdb)]?markets[_0x5f4863[_0x152435(0x178)]][_0x152435(0x133)][_0x152435(0x202)][_0x152435(0x121)]:markets[_0x5f4863['symbol']]['limits'][_0x152435(0x15c)][_0x152435(0x121)],_0x1dd9fb=truncateTradeAmount(_0x5f4863[_0x152435(0x178)],_0x5f4863[_0x152435(0x1b7)]);_0x5f4863[_0x152435(0x1b7)]=_0x1dd9fb;if(Math['abs'](_0x1dd9fb)<_0x507500)_0x50aedd=![];if(Math['abs'](_0x1dd9fb)*_0x5f4863[_0x152435(0x1b1)]<_0x974a06)_0x50aedd=![];if(_0x5f4863[_0x152435(0x21d)]==_0x152435(0x18b)){let _0x268be7=config[_0x152435(0x1a3)]['find'](_0x5223ba=>_0x5223ba['coin']==_0x5f4863[_0x152435(0x1fc)]);if(_0x268be7['offset']>0x0){if(Math[_0x152435(0x10a)](_0x1dd9fb)>_0x5f4863[_0x152435(0x132)]-_0x268be7[_0x152435(0x19d)])_0x50aedd=![];}else{if(Math[_0x152435(0x10a)](_0x1dd9fb)>_0x5f4863['number'])_0x50aedd=![];}}if(_0x5f4863[_0x152435(0x21d)]=='buy'){let _0x543642=config[_0x152435(0x1a3)][_0x152435(0x129)](_0xc688eb=>_0xc688eb['coin']==config[_0x152435(0xc7)]),_0x135f9a=currentCoins[_0x152435(0x129)](_0x485272=>_0x485272[_0x152435(0x1fc)]==config[_0x152435(0xc7)]);if(_0x543642[_0x152435(0x19d)]>0x0){if(Math[_0x152435(0x10a)](_0x1dd9fb)*_0x5f4863[_0x152435(0x1b1)]>_0x135f9a[_0x152435(0x132)]-_0x543642[_0x152435(0x19d)])_0x50aedd=![];}else{if(Math['abs'](_0x1dd9fb)*_0x5f4863[_0x152435(0x1b1)]>_0x135f9a[_0x152435(0x132)])_0x50aedd=![];}}return _0x50aedd;}async function getBalances(){const _0x267eac=_0x5a7073;let _0x381384=0x0,_0x4ecced;const _0x4d2dc3=config['threshold'];if(config['headless']&&config[_0x267eac(0x1bb)]<0x0)await validate24hChanges();currentCoins[_0x267eac(0x1af)](_0xa3be86=>{const _0x11d8ef=_0x267eac;if(_0xa3be86['coin']!=config[_0x11d8ef(0xc7)]){let _0x5d83f5=global['ticker'][noslash(_0xa3be86[_0x11d8ef(0x178)])];_0x4ecced=_0xa3be86[_0x11d8ef(0xdb)]?0x1/_0x5d83f5:_0x5d83f5;}else _0x4ecced=0x1;let _0x1e9618=_0xa3be86[_0x11d8ef(0x132)]*_0x4ecced;_0x381384+=_0x1e9618,_0xa3be86[_0x11d8ef(0x1b1)]=formatResult(Number(_0x4ecced),0x8),_0xa3be86[_0x11d8ef(0x1c5)]=_0x1e9618;}),currentCoins[_0x267eac(0x1af)](_0x7cf835=>{const _0x4c1af3=_0x267eac;let _0x133a6d=config[_0x4c1af3(0x1a3)]['find'](_0x622ec8=>_0x622ec8[_0x4c1af3(0x1fc)]==_0x7cf835[_0x4c1af3(0x1fc)]),_0x1eb6d4=Number(_0x133a6d['distribution']),_0x17f401=_0x7cf835[_0x4c1af3(0x1c5)]/_0x381384*0x64,_0x23af32=_0x1eb6d4*_0x381384/0x64/_0x7cf835['last']-_0x7cf835['number'];_0x7cf835[_0x4c1af3(0x23b)]=formatResult(_0x17f401,0x3),_0x7cf835[_0x4c1af3(0x22f)]=formatResult(_0x1eb6d4,0x3),_0x7cf835[_0x4c1af3(0x1b7)]=formatResult(_0x23af32,0x8),_0x7cf835[_0x4c1af3(0x21d)]='',_0x7cf835['valid']=![];if(_0x7cf835['coin']!=config['basecoin']){if(_0x7cf835[_0x4c1af3(0x23b)]>_0x1eb6d4)_0x7cf835['side']=_0x4c1af3(0x18b),_0x7cf835[_0x4c1af3(0x1f8)]=checkMinimums(_0x7cf835);else _0x7cf835[_0x4c1af3(0x23b)]<_0x1eb6d4&&(_0x7cf835[_0x4c1af3(0x21d)]='buy',_0x7cf835[_0x4c1af3(0x1f8)]=checkMinimums(_0x7cf835));}_0x7cf835['delta']=_0x7cf835['distribution']/_0x7cf835[_0x4c1af3(0x22f)]-0x1;if(_0x7cf835[_0x4c1af3(0xe5)]=='filled'||_0x7cf835[_0x4c1af3(0xe5)]==_0x4c1af3(0x164))_0x7cf835[_0x4c1af3(0xe5)]=_0x4c1af3(0xc2);}),currentCoins[_0x267eac(0xc4)]((_0x5b160e,_0xa5602d)=>_0x5b160e[_0x267eac(0x198)]<_0xa5602d[_0x267eac(0x198)]?0x1:_0xa5602d[_0x267eac(0x198)]<_0x5b160e[_0x267eac(0x198)]?-0x1:0x0);const _0x2230dc=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2230dc[_0x267eac(0x216)],'usd':_0x2230dc['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x4d2dc3},proxyEmit(_0x267eac(0x19b),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x267eac(0xca)])headlessMode({'portfolio':currentCoins,'threshold':_0x4d2dc3});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4d2dc3});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1e3663=getNormalizedPerformance();getStartingBalances(_0x1e3663),emitPerformance(_0x1e3663);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x1867b6=getNormalizedPerformance();emitPerformance(_0x1867b6),getStartingBalances(_0x1867b6),logger[_0x267eac(0xfb)](_0x267eac(0x229));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x55bb68=_0x5a7073;if(!lastBalances)return;let _0x2f8689=[],_0x5ed51e,_0x10d403=JSON[_0x55bb68(0x148)](lastBalances[_0x55bb68(0x1a3)]);_0x10d403['sort']((_0x510eff,_0x17b564)=>_0x510eff['coin']>_0x17b564[_0x55bb68(0x1fc)]?0x1:_0x17b564[_0x55bb68(0x1fc)]>_0x510eff[_0x55bb68(0x1fc)]?-0x1:0x0),_0x10d403['forEach'](_0x233ee9=>{const _0x131def=_0x55bb68;let _0x455dbe={'coin':_0x233ee9['coin'],'number':_0x233ee9[_0x131def(0x132)],'price':_0x233ee9[_0x131def(0x1b1)]};_0x2f8689[_0x131def(0xd4)](_0x455dbe);});const _0x3a9f1b=await getFiat();_0x5ed51e={'date':lastBalances[_0x55bb68(0x1f1)][_0x55bb68(0x21e)]('\x20')[0x0],'eur':_0x3a9f1b[_0x55bb68(0x216)],'usd':_0x3a9f1b[_0x55bb68(0x20e)],'coins':_0x2f8689};let _0x5a0afa=dbPerformance['get']('data')['find']({'date':_0x5ed51e[_0x55bb68(0x11c)]})[_0x55bb68(0x1c5)]();_0x5a0afa?_0x5ed51e['date']!=config[_0x55bb68(0x175)]&&dbPerformance['get']('data')['find']({'date':_0x5ed51e[_0x55bb68(0x11c)]})[_0x55bb68(0xe6)](_0x5ed51e)['write']():dbPerformance[_0x55bb68(0xf5)](_0x55bb68(0x201))['push'](_0x5ed51e)[_0x55bb68(0x208)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x48a7ee=_0x5a7073;let _0x5a7571=[];if(dbPerformance[_0x48a7ee(0x1e3)](_0x48a7ee(0x201))[_0x48a7ee(0x1c5)]()){let _0x206e4c=dbPerformance[_0x48a7ee(0xf5)](_0x48a7ee(0x201))[_0x48a7ee(0x22a)]()[_0x48a7ee(0x11f)](_0x48a7ee(0x11c))['value'](),_0x563e68=[...config['liquidity']];_0x563e68[_0x48a7ee(0xc4)]((_0x3c06ae,_0xb86b37)=>_0x3c06ae[_0x48a7ee(0x11c)]>_0xb86b37[_0x48a7ee(0x11c)]?-0x1:_0xb86b37[_0x48a7ee(0x11c)]>_0x3c06ae[_0x48a7ee(0x11c)]?0x1:0x0);let _0x79fd3b=0x1,_0x7ea89f=[],_0xa5cb7c=0x0;_0x206e4c[_0x48a7ee(0x1c0)]()[_0x48a7ee(0xdb)]()[_0x48a7ee(0x1af)]((_0x1c2a66,_0x202698)=>{const _0x231825=_0x48a7ee;if(_0x563e68[_0xa5cb7c]){if(_0x206e4c[_0x206e4c[_0x231825(0x16e)]-_0x202698]&&_0x563e68[_0xa5cb7c]['date']==_0x206e4c[_0x206e4c[_0x231825(0x16e)]-_0x202698][_0x231825(0x11c)]){if(_0x202698<_0x206e4c[_0x231825(0x16e)]){let _0x25eb40=0x0,_0x2b9ffe=0x0;_0x206e4c[_0x206e4c[_0x231825(0x16e)]-_0x202698]['coins']['forEach'](_0x2b6a0e=>{const _0x3e49ff=_0x231825;_0x2b9ffe+=_0x2b6a0e[_0x3e49ff(0x132)]*_0x2b6a0e[_0x3e49ff(0x207)];}),_0x563e68[_0xa5cb7c][_0x231825(0x1a1)][_0x231825(0x1af)](_0x4460fa=>{const _0x5371e6=_0x231825;_0x25eb40+=_0x4460fa[_0x5371e6(0x132)]*_0x4460fa[_0x5371e6(0x207)];}),_0x79fd3b*=_0x25eb40/(_0x2b9ffe-_0x25eb40)+0x1;}_0xa5cb7c++;}}let _0x1c52b5=0x0;_0x1c2a66[_0x231825(0x211)]['forEach'](_0x16a459=>{const _0x3bea9=_0x231825;_0x1c52b5+=_0x16a459[_0x3bea9(0x132)]*_0x16a459['price'];}),_0x7ea89f[_0x206e4c['length']-_0x202698-0x1]=_0x1c52b5*(_0x79fd3b-0x1);});let _0x507b33=[];_0x563e68=[...config['liquidity']]||[];let _0x4a4683=0x0;_0xa5cb7c=0x0,_0x206e4c[_0x48a7ee(0x1af)]((_0x3bb324,_0x35afc2)=>{const _0x54ba8b=_0x48a7ee;if(_0x563e68[_0xa5cb7c]){const _0x41f9c2=fns[_0x54ba8b(0x148)](_0x563e68[_0xa5cb7c][_0x54ba8b(0x11c)],_0x54ba8b(0x128),new Date()),_0x11b23b=fns['parse'](_0x3bb324[_0x54ba8b(0x11c)],_0x54ba8b(0x128),new Date());if(fns['isEqual'](_0x41f9c2,_0x11b23b)){let _0x5d04a8=0x0;_0x563e68[_0xa5cb7c][_0x54ba8b(0x1a1)]['forEach'](_0x1b2ef5=>{const _0x3298d4=_0x54ba8b;!_0x507b33[_0x1b2ef5[_0x3298d4(0x1fc)]]?_0x507b33[_0x1b2ef5[_0x3298d4(0x1fc)]]=_0x1b2ef5[_0x3298d4(0x132)]:(_0x5d04a8=_0x507b33[_0x1b2ef5[_0x3298d4(0x1fc)]],_0x507b33[_0x1b2ef5['coin']]+=_0x1b2ef5['number']);const _0x2ea2b1=_0x3bb324[_0x3298d4(0x211)]['find'](_0xb6617e=>_0xb6617e[_0x3298d4(0x1fc)]==_0x1b2ef5[_0x3298d4(0x1fc)]);(!_0x2ea2b1||_0x2ea2b1[_0x3298d4(0x132)]==0x0)&&(_0x4a4683+=(-_0x1b2ef5[_0x3298d4(0x132)]-_0x5d04a8)*_0x1b2ef5[_0x3298d4(0x207)]);}),_0xa5cb7c++;}}_0x3bb324[_0x54ba8b(0x211)]['forEach']((_0x366556,_0x3108cb)=>{const _0x3fec44=_0x54ba8b;_0x507b33[_0x366556['coin']]&&(_0x366556[_0x3fec44(0x1a0)]=_0x507b33[_0x366556['coin']]);}),_0x5a7571['push']({'date':_0x3bb324[_0x54ba8b(0x11c)],'eur':_0x3bb324[_0x54ba8b(0x216)],'usd':_0x3bb324[_0x54ba8b(0x20e)],'offset':_0x7ea89f[_0x35afc2],'netoffset':_0x4a4683,'coins':_0x3bb324[_0x54ba8b(0x211)]});});}return _0x5a7571;}function emitPerformance(_0x566724){const _0x4ea98d=_0x5a7073;_0x566724[_0x4ea98d(0x16e)]!==0x0?(proxyEmit(_0x4ea98d(0xe0),_0x566724),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x239f04,_0x4c5436){const _0x5aaf55=_0x5a7073;let _0x23888b=0x0,_0x1ed58a=0x0,_0x220c3e=0x0;_0x239f04['coins'][_0x5aaf55(0x1af)](_0x2b0021=>{const _0x18d52d=_0x5aaf55;_0x23888b+=_0x2b0021[_0x18d52d(0x132)]*_0x2b0021[_0x18d52d(0x207)];});_0x4c5436&&(_0x23888b+=_0x239f04['offset']);if(config[_0x5aaf55(0xc7)]===_0x5aaf55(0x177)||config[_0x5aaf55(0xc7)]===_0x5aaf55(0xde))_0x1ed58a=_0x23888b*_0x239f04[_0x5aaf55(0x216)],_0x220c3e=_0x23888b*_0x239f04[_0x5aaf55(0x20e)];else{if(config[_0x5aaf55(0xc7)]==='BUSD'||config[_0x5aaf55(0xc7)]===_0x5aaf55(0xdc)||config['basecoin']===_0x5aaf55(0xe8))_0x1ed58a=_0x23888b*_0x239f04['eur']/_0x239f04[_0x5aaf55(0x20e)],_0x220c3e=_0x23888b;else config[_0x5aaf55(0xc7)]===_0x5aaf55(0x176)&&(_0x1ed58a=_0x23888b,_0x220c3e=_0x23888b*_0x239f04[_0x5aaf55(0x20e)]/_0x239f04[_0x5aaf55(0x216)]);}return[_0x23888b,_0x1ed58a,_0x220c3e];}function getKPIs(_0x3e7179,_0x139a70='EUR'){const _0x459bf8=_0x5a7073,_0x5ad0c2=config['basecoin'],_0x47d4dd=lastBalances,_0x2313cc=currentCoins,_0x2354fd=getNormalizedPerformance(),_0xa56158=_0x3e7179==='basecoin'?_0x5ad0c2:_0x3e7179===_0x459bf8(0x1ab)||_0x3e7179===_0x459bf8(0x200)?_0x139a70:_0x459bf8(0x1e1)+_0x5ad0c2,_0x5dcad7=_0x3e7179===_0x459bf8(0xf3)?_0x459bf8(0x189):_0x3e7179===_0x459bf8(0x200)?'Net\x20effect':_0xa56158+_0x459bf8(0x159),_0xdfdca3=_0x3e7179===_0x459bf8(0xf3)||_0x3e7179==='net-fiat'?'Net\x20effect':_0xa56158+_0x459bf8(0x168);let _0x35ed06=0x0;_0x2313cc[_0x459bf8(0x1af)](_0x3cf1a4=>{const _0x4292e2=_0x459bf8;_0x35ed06+=_0x3cf1a4[_0x4292e2(0x132)]*_0x3cf1a4['last'];});if(_0x3e7179===_0x459bf8(0x1ab)||_0x3e7179===_0x459bf8(0x200)){if(_0x5ad0c2===_0x459bf8(0x177)||_0x5ad0c2===_0x459bf8(0xde))_0x35ed06=_0x35ed06*(_0x139a70===_0x459bf8(0x176)?_0x47d4dd[_0x459bf8(0x216)]:_0x47d4dd[_0x459bf8(0x20e)]);else{if(_0x5ad0c2===_0x459bf8(0x1e2)||_0x5ad0c2===_0x459bf8(0xdc)||_0x5ad0c2==='USD')_0x35ed06=_0x35ed06*(_0x139a70===_0x459bf8(0x176)?_0x47d4dd[_0x459bf8(0x216)]/_0x47d4dd[_0x459bf8(0x20e)]:0x1);else _0x5ad0c2===_0x459bf8(0x176)&&(_0x35ed06=_0x35ed06*(_0x139a70==='EUR'?0x1:_0x47d4dd[_0x459bf8(0x20e)]/_0x47d4dd['eur']));}}let _0xbe3237;if(_0x35ed06!==0x0){if(_0x3e7179==='basecoin')_0xbe3237=(_0x35ed06/startingBalances[_0x459bf8(0xc7)]-0x1)*0x64;else{if(_0x139a70===_0x459bf8(0x176))_0xbe3237=(_0x35ed06/startingBalances[_0x459bf8(0x216)]-0x1)*0x64;else _0xbe3237=(_0x35ed06/startingBalances[_0x459bf8(0x20e)]-0x1)*0x64;}let _0x1c5412=0x0;if(startingBalances[_0x459bf8(0x211)])_0x2313cc[_0x459bf8(0x1af)](_0xbecbed=>{const _0x12f81b=_0x459bf8;let _0x2b0031=startingBalances[_0x12f81b(0x211)][_0x12f81b(0x129)](_0x1220b8=>_0x1220b8['coin']===_0xbecbed[_0x12f81b(0x1fc)]);if(_0x2b0031&&_0x2b0031[_0x12f81b(0x1fc)]&&_0xbecbed[_0x12f81b(0x132)]!==0x0)_0x1c5412+=_0x2b0031[_0x12f81b(0x132)]*_0xbecbed[_0x12f81b(0x1b1)];});let _0x4f5936=0x0;if(_0x2354fd[_0x459bf8(0x16e)]!==0x0){let _0x1e290b=_0x2354fd[_0x2354fd[_0x459bf8(0x16e)]-0x1];_0x4f5936=_0x1e290b[_0x459bf8(0x1de)];}_0x1c5412-=_0x4f5936;_0x3e7179===_0x459bf8(0xf3)&&(_0xbe3237=(_0x35ed06-_0x1c5412)/startingBalances['basecoin']*0x64,_0x35ed06=_0x35ed06-_0x1c5412);if(_0x3e7179===_0x459bf8(0x200)){let _0xf58466=_0x139a70===_0x459bf8(0x176)?startingBalances[_0x459bf8(0x216)]:startingBalances[_0x459bf8(0x20e)];if(_0x5ad0c2===_0x459bf8(0x177)||_0x5ad0c2===_0x459bf8(0xde))_0x1c5412=_0x139a70===_0x459bf8(0x176)?_0x1c5412*_0x47d4dd['eur']:_0x1c5412*_0x47d4dd[_0x459bf8(0x20e)];else{if(_0x5ad0c2===_0x459bf8(0x1e2)||_0x5ad0c2===_0x459bf8(0xdc)||_0x5ad0c2==='USD')_0x1c5412=_0x139a70===_0x459bf8(0x176)?_0x1c5412*_0x47d4dd[_0x459bf8(0x216)]/_0x47d4dd[_0x459bf8(0x20e)]:_0x1c5412;else _0x5ad0c2===_0x459bf8(0x176)&&(_0x1c5412=_0x139a70===_0x459bf8(0x176)?_0x1c5412:_0x1c5412*_0x47d4dd[_0x459bf8(0x20e)]/_0x47d4dd[_0x459bf8(0x216)]);}_0xbe3237=(_0x35ed06-_0x1c5412)/_0xf58466*0x64,_0x35ed06=_0x35ed06-_0x1c5412;}if(_0xbe3237){if(_0xbe3237<0x64)_0xbe3237=_0xbe3237[_0x459bf8(0x1b4)](0x2);else{if(_0xbe3237<0x3e8)_0xbe3237=_0xbe3237['toFixed'](0x1);else _0xbe3237=_0xbe3237[_0x459bf8(0x1b4)](0x0);}}else _0xbe3237=Number('0')['toFixed'](0x2);if(_0x35ed06){if(Math[_0x459bf8(0x10a)](_0x35ed06)<0.000001)_0x35ed06=_0x35ed06[_0x459bf8(0x1b4)](0x2);else{if(Math[_0x459bf8(0x10a)](_0x35ed06)<0.1)_0x35ed06=_0x35ed06[_0x459bf8(0x1b4)](0x6);else{if(Math[_0x459bf8(0x10a)](_0x35ed06)<0x1)_0x35ed06=_0x35ed06[_0x459bf8(0x1b4)](0x5);else{if(Math[_0x459bf8(0x10a)](_0x35ed06)<0xa)_0x35ed06=_0x35ed06[_0x459bf8(0x1b4)](0x4);else{if(Math['abs'](_0x35ed06)<0x64)_0x35ed06=_0x35ed06['toFixed'](0x3);else{if(Math[_0x459bf8(0x10a)](_0x35ed06)<0x3e8)_0x35ed06=_0x35ed06[_0x459bf8(0x1b4)](0x2);else _0x35ed06=_0x35ed06[_0x459bf8(0x1b4)](0x2);}}}}}}else _0x35ed06=Number('0')[_0x459bf8(0x1b4)](0x2);}else _0xbe3237=Number('0')[_0x459bf8(0x1b4)](0x2);return{'value':_0x35ed06,'change':_0xbe3237,'leftTxt':_0x5dcad7,'rightTxt':_0xdfdca3};}async function getStartingBalances(_0x45396d,_0x46908f=!![]){const _0xe519b6=_0x5a7073;if(_0x45396d[_0xe519b6(0x16e)]!==0x0){const [_0x207cda,_0xbc7f01,_0x221c81]=getPerf(_0x45396d[0x0],!![]);let _0x144fc8=[];config[_0xe519b6(0x1a3)][_0xe519b6(0x1af)](_0x728f7a=>{const _0x383d87=_0xe519b6;let _0x1e3178=0x0,_0x96002e;config[_0x383d87(0x115)][_0x383d87(0x1af)](_0x482039=>{const _0x33f30a=_0x383d87;let _0x3e16c9=_0x482039['changes'][_0x33f30a(0x129)](_0x4dfbce=>_0x4dfbce[_0x33f30a(0x1fc)]==_0x728f7a['coin']);if(_0x3e16c9){_0x1e3178+=_0x3e16c9['number'];if(!_0x96002e)_0x96002e=_0x3e16c9[_0x33f30a(0x207)];}}),_0x144fc8[_0x383d87(0xd4)]({'coin':_0x728f7a[_0x383d87(0x1fc)],'number':_0x1e3178,'initialprice':_0x96002e});});const _0x21943b={'basecoin':_0x207cda,'eur':_0xbc7f01,'usd':_0x221c81,'coins':_0x144fc8};if(_0x46908f)proxyEmit(_0xe519b6(0x1f0),_0x21943b);startingBalances=_0x21943b;}}function headlessMode(_0x4494e2){const _0x2eba01=_0x5a7073;let _0x66b20f=_0x4494e2[_0x2eba01(0x1a3)],_0x17cc20=_0x4494e2['threshold'],_0x2c214c=[];for(let _0x30355d of _0x66b20f){if(_0x30355d[_0x2eba01(0x1fc)]!=config['basecoin']){if(_0x30355d['delta']>=_0x17cc20/0x64){if(_0x30355d['valid'])_0x2c214c[_0x2eba01(0xd4)](_0x30355d);}else{if(_0x30355d[_0x2eba01(0x198)]<=-_0x17cc20/0x64){if(_0x30355d[_0x2eba01(0x1f8)])_0x2c214c[_0x2eba01(0xd4)](_0x30355d);}}}}_0x2c214c['length']>0x0&&placeOrder(_0x2c214c);}function notifyBalance(_0x1d2522){const _0x4ce077=_0x5a7073;let _0xff5ab4=_0x1d2522[_0x4ce077(0x1a3)],_0x4f6963=_0x1d2522[_0x4ce077(0x1bf)],_0x28d75d=[];for(let _0x24bb22 of _0xff5ab4){if(_0x24bb22[_0x4ce077(0x1fc)]!=config[_0x4ce077(0xc7)]){if(_0x24bb22[_0x4ce077(0x198)]>=_0x4f6963/0x64){if(_0x24bb22[_0x4ce077(0x1f8)])_0x28d75d[_0x4ce077(0xd4)](_0x24bb22);}else{if(_0x24bb22[_0x4ce077(0x198)]<=-_0x4f6963/0x64){if(_0x24bb22[_0x4ce077(0x1f8)])_0x28d75d[_0x4ce077(0xd4)](_0x24bb22);}}}}if(_0x28d75d[_0x4ce077(0x16e)]>0x0){let _0x1d75a3=_0x28d75d[_0x4ce077(0xe3)](_0x32c880=>_0x32c880[_0x4ce077(0x1fc)]);_0x1d75a3[_0x4ce077(0xc4)]();let _0x516e7c=_0x1d75a3[_0x4ce077(0x106)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x4ce077(0x19e));lastCoinsToBalance=_0x516e7c;}}function symbolToCoin(_0x48f0ff){const _0x138edd=_0x5a7073;let _0x2d0f37;if(_0x48f0ff[_0x138edd(0x13d)]('/'+config[_0x138edd(0xc7)]))_0x2d0f37=_0x48f0ff['replace']('/'+config['basecoin'],'');if(_0x48f0ff[_0x138edd(0x13d)](config[_0x138edd(0xc7)]+'/'))_0x2d0f37=_0x48f0ff[_0x138edd(0x18d)](config[_0x138edd(0xc7)]+'/','');return _0x2d0f37;}async function unlockOrders(){const _0x9df76b=_0x5a7073;if(allOrdersPlaced&&lockOrders==ORDERS[_0x9df76b(0x1c2)]){logger[_0x9df76b(0xfb)](_0x9df76b(0x174)),lockOrders=ORDERS[_0x9df76b(0x10f)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x4ffb81=await getCoins();[currentCoins,currentCoinsAll]=_0x4ffb81,validateOrdersState=_0x9df76b(0x1a0),persistOpenOrders([]),lockOrders=ORDERS[_0x9df76b(0xda)],logger[_0x9df76b(0xfb)](_0x9df76b(0x1a5));}}async function validateOrders(_0x17fb40){const _0xbcf7ee=_0x5a7073;if(_0x17fb40)validateOrdersState=_0x17fb40;logger[_0xbcf7ee(0xfb)](_0xbcf7ee(0xec)+validateOrdersState+_0xbcf7ee(0x1b0)+(lockOrders==0x1?_0xbcf7ee(0x111):lockOrders==0x2?_0xbcf7ee(0x141):_0xbcf7ee(0x1cd)));let _0x1089db=[],_0x5384b3=config['ordertype']==_0xbcf7ee(0x236)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0xbcf7ee(0x1b9)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0xbcf7ee(0x1c2)])return;logger['debug'](_0xbcf7ee(0x135)+validateOrdersState),lastOrders[_0xbcf7ee(0x1af)](_0x4f0a1d=>{const _0x349376=_0xbcf7ee;let _0x53cf84=![];_0x4f0a1d[_0x349376(0x1cb)]>0x0&&(_0x53cf84=!![]),_0x1089db['push'](_0x53cf84),_0x53cf84&&config['ordertype']!=_0x349376(0x236)&&logHistory('order',_0x349376(0x1e7)+_0x4f0a1d[_0x349376(0x178)]+'\x20'+_0x4f0a1d['side']+'\x20#'+formatResult(_0x4f0a1d[_0x349376(0x1cb)],0x8)+'\x20@'+formatResult(_0x4f0a1d[_0x349376(0x207)],0x8));}),_0x1089db[_0xbcf7ee(0x1af)]((_0x311091,_0x560cea)=>{if(_0x311091)lastOrders['splice'](_0x560cea,0x1);}),persistOpenOrders(lastOrders);const _0x147d1b=coolingDown?_0xbcf7ee(0xcf):_0xbcf7ee(0xc3);if(validateOrdersState==_0xbcf7ee(0x1a0)){validateOrdersState=_0xbcf7ee(0xe1);if(_0x1089db[_0xbcf7ee(0x13d)](![])){if(config['ordertype']=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x1089db[_0xbcf7ee(0x13d)](![])){}else{if(allOrdersPlaced){if(config[_0xbcf7ee(0x1ca)]==_0xbcf7ee(0x236)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0xbcf7ee(0x101))_0x1089db[_0xbcf7ee(0x13d)](![])&&(config[_0xbcf7ee(0x1ca)]==_0xbcf7ee(0x236)?logHistory('success',_0xbcf7ee(0x16d)+Math[_0xbcf7ee(0x1c9)](_0x5384b3*validateOrderInterval/0xea60)+_0xbcf7ee(0x227)+_0x147d1b):(await cancelOrders(),logHistory(_0xbcf7ee(0xc5),_0xbcf7ee(0x209)+Math[_0xbcf7ee(0x1c9)](_0x5384b3*validateOrderInterval/0xea60)+_0xbcf7ee(0x227)+_0x147d1b))),await unlockOrders();else{if(validateOrdersState==_0xbcf7ee(0x131)){if(config[_0xbcf7ee(0x1ca)]!=_0xbcf7ee(0x236))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x147d1b);await unlockOrders();}}}}}async function cancelOrders(){const _0x356480=_0x5a7073;lastOrders[_0x356480(0x1af)](async _0x3167e4=>{const _0x4e4413=_0x356480;try{const _0x576802=await exchange['cancelOrder'](_0x3167e4['orderId'],_0x3167e4[_0x4e4413(0x178)]);}catch(_0x4c2cc2){if(_0x4c2cc2[_0x4e4413(0x238)]()[_0x4e4413(0x13d)](_0x4e4413(0x110))){}else await handleError(_0x4c2cc2,_0x4e4413(0x20b));}});}async function initCoinResults(){const _0x25472a=_0x5a7073;let _0x13757c=[];config[_0x25472a(0x1a3)][_0x25472a(0x1af)](_0x169bbe=>{const _0x1e7f94=_0x25472a;if(!_0x169bbe['excluded']&&_0x169bbe[_0x1e7f94(0x1fc)]!=config[_0x1e7f94(0xc7)]){let _0x3eef0a=dbCoinResults[_0x1e7f94(0xf5)](_0x1e7f94(0x211))['find']({'coin':_0x169bbe[_0x1e7f94(0x1fc)]})[_0x1e7f94(0x1c5)]();if(!_0x3eef0a){const _0x1546de=currentCoins['find'](_0x362141=>_0x362141[_0x1e7f94(0x1fc)]==_0x169bbe['coin']),_0x27dcdc=global['ticker'][noslash(_0x169bbe[_0x1e7f94(0x178)])];let _0x286d6e=_0x1546de?_0x1546de[_0x1e7f94(0x132)]:null,_0x10bcc1=_0x169bbe[_0x1e7f94(0xdb)]?0x1/_0x27dcdc:_0x27dcdc,_0x34873c;config[_0x1e7f94(0x115)][_0x1e7f94(0x1af)](_0x1151de=>{const _0x449127=_0x1e7f94;!_0x34873c&&(_0x34873c=_0x1151de['changes'][_0x449127(0x129)](_0x265479=>_0x265479[_0x449127(0x1fc)]==_0x169bbe[_0x449127(0x1fc)]),_0x34873c&&(_0x286d6e=_0x34873c['number'],_0x10bcc1=_0x34873c[_0x449127(0x207)]));}),_0x13757c['push']({'coin':_0x169bbe[_0x1e7f94(0x1fc)],'number':_0x286d6e,'price':_0x10bcc1});}}}),_0x13757c['forEach'](_0x2c5f11=>{const _0x328cdf=_0x25472a,_0x55bc6b={'coin':_0x2c5f11[_0x328cdf(0x1fc)],'number':_0x2c5f11['number'],'breakeven':_0x2c5f11['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x328cdf(0x211))['push'](_0x55bc6b)[_0x328cdf(0x208)]();});}async function updateCoinResults(_0x1e9a82,_0x5b348b=![]){const _0x3880de=_0x5a7073;let _0x3243ee,_0x44b4fc,_0x527504,_0x18777d,_0x45f84b,_0x5b6df4,_0x4e30ec=dbCoinResults[_0x3880de(0xf5)](_0x3880de(0x211))[_0x3880de(0x129)]({'coin':_0x1e9a82[_0x3880de(0x1fc)]})[_0x3880de(0x1c5)]();!_0x4e30ec&&await initCoinResults();_0x1e9a82[_0x3880de(0xdb)]&&(_0x5b6df4={'filled':_0x1e9a82[_0x3880de(0x1cb)]*_0x1e9a82[_0x3880de(0x207)],'amount':_0x1e9a82[_0x3880de(0x1cb)]*_0x1e9a82['price'],'side':_0x1e9a82[_0x3880de(0x21d)]==_0x3880de(0x18b)?'buy':'sell','price':0x1/_0x1e9a82['price']},_0x1e9a82={..._0x1e9a82,..._0x5b6df4});_0x5b348b?_0x44b4fc=_0x1e9a82['side']==_0x3880de(0x193)?_0x4e30ec[_0x3880de(0x132)]+_0x1e9a82[_0x3880de(0x1cb)]:_0x4e30ec['number']-_0x1e9a82[_0x3880de(0x1cb)]:_0x44b4fc=await getCoinNumber(_0x1e9a82[_0x3880de(0x1fc)]);if(_0x1e9a82[_0x3880de(0x13b)]&&_0x1e9a82[_0x3880de(0x13b)][_0x3880de(0x143)]==config[_0x3880de(0xc7)])_0x3243ee=_0x1e9a82[_0x3880de(0x13b)][_0x3880de(0x202)];else{if(_0x1e9a82['fee']&&_0x1e9a82[_0x3880de(0x13b)]['currency']=='BNB'&&!_0x5b348b)_0x3243ee=_0x1e9a82[_0x3880de(0x13b)][_0x3880de(0x202)]*global[_0x3880de(0x184)]['BNB'+config[_0x3880de(0xc7)]];else _0x3243ee=defaultFee*_0x1e9a82['filled']*_0x1e9a82[_0x3880de(0x207)];}_0x1e9a82[_0x3880de(0x21d)]==_0x3880de(0x193)?(_0x527504=_0x44b4fc!=0x0?(_0x4e30ec['breakeven']*_0x4e30ec[_0x3880de(0x132)]+_0x1e9a82['price']*(_0x44b4fc-_0x4e30ec[_0x3880de(0x132)])+_0x3243ee)/_0x44b4fc:0x0,_0x18777d=_0x4e30ec[_0x3880de(0x1c6)]):(_0x527504=_0x44b4fc!=0x0?(_0x4e30ec[_0x3880de(0x210)]*_0x4e30ec['number']-_0x1e9a82[_0x3880de(0x207)]*(_0x4e30ec[_0x3880de(0x132)]-_0x44b4fc)+_0x3243ee)/_0x44b4fc:0x0,_0x18777d=_0x4e30ec[_0x3880de(0x1c6)]+(_0x1e9a82[_0x3880de(0x207)]-_0x4e30ec[_0x3880de(0x210)])*_0x1e9a82[_0x3880de(0x1cb)]);_0x45f84b=(_0x1e9a82[_0x3880de(0x207)]-_0x527504-_0x3243ee/_0x1e9a82[_0x3880de(0x1cb)])*_0x44b4fc;let _0x1254d2={'coin':_0x1e9a82[_0x3880de(0x1fc)],'number':_0x44b4fc,'breakeven':formatResult(_0x527504,0x8),'realized':formatResult(_0x18777d,0x8),'unrealized':formatResult(_0x45f84b,0x8),'fees':formatResult(_0x4e30ec[_0x3880de(0x219)]+_0x3243ee,0x8),'sells':_0x1e9a82[_0x3880de(0x21d)]==_0x3880de(0x18b)?_0x4e30ec[_0x3880de(0x14d)]+0x1:_0x4e30ec[_0x3880de(0x14d)],'buys':_0x1e9a82[_0x3880de(0x21d)]==_0x3880de(0x193)?_0x4e30ec['buys']+0x1:_0x4e30ec[_0x3880de(0x161)]};dbCoinResults[_0x3880de(0xf5)](_0x3880de(0x211))[_0x3880de(0x129)]({'coin':_0x1e9a82[_0x3880de(0x1fc)]})[_0x3880de(0xe6)](_0x1254d2)[_0x3880de(0x208)]();if(!_0x5b348b){if(_0x1e9a82[_0x3880de(0x13b)]&&_0x1e9a82[_0x3880de(0x13b)][_0x3880de(0x143)]==_0x3880de(0x117)){const _0x32e16f=currentCoins[_0x3880de(0x129)](_0x136981=>_0x136981['coin']==_0x3880de(0x117));if(_0x32e16f){let _0x36748c=dbCoinResults[_0x3880de(0xf5)]('coins')['find']({'coin':'BNB'})[_0x3880de(0x1c5)]();_0x1254d2={..._0x36748c,'number':_0x32e16f[_0x3880de(0x132)]},dbCoinResults[_0x3880de(0xf5)]('coins')['find']({'coin':_0x3880de(0x117)})[_0x3880de(0xe6)](_0x1254d2)[_0x3880de(0x208)]();}}}}async function placeOrder(_0x5661b2){const _0x144172=_0x5a7073,_0x2e08d3=config[_0x144172(0x1ca)]==_0x144172(0x236)?_0x144172(0x236):_0x144172(0x231);if(lockOrders==ORDERS[_0x144172(0xda)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x144172(0x1c2)],allOrdersPlaced=![],validateOrdersState=_0x144172(0x1a0);let _0x338442=![];lastOrders=[];for(const _0x4b6e92 of _0x5661b2){let _0x2d49cd,_0x4fdd31,_0x1befe2,_0x261e46,_0x1ff45a,_0x328c1d=_0x4b6e92[_0x144172(0x178)];try{const _0x27d194=await exchange[_0x144172(0x138)](_0x328c1d);_0x2d49cd=_0x4b6e92[_0x144172(0xdb)]?0x1/_0x4b6e92[_0x144172(0x1b1)]:_0x4b6e92[_0x144172(0x1b1)],_0x4fdd31=_0x27d194[_0x144172(0x1a4)],_0x1befe2=_0x27d194['ask'];_0x4b6e92['reverse']?(_0x261e46=_0x4b6e92[_0x144172(0x21d)]==_0x144172(0x193)?_0x144172(0x18b):_0x144172(0x193),_0x1ff45a=Math[_0x144172(0x10a)](_0x4b6e92[_0x144172(0x1b7)])/_0x2d49cd):(_0x261e46=_0x4b6e92['side'],_0x1ff45a=Math[_0x144172(0x10a)](_0x4b6e92[_0x144172(0x1b7)]));_0x2e08d3==_0x144172(0x231)&&(config[_0x144172(0x1ca)]==_0x144172(0x17d)&&(_0x2d49cd=_0x261e46==_0x144172(0x193)?_0x4fdd31:_0x1befe2),config[_0x144172(0x1ca)]==_0x144172(0x20a)&&(_0x2d49cd=_0x261e46==_0x144172(0x193)?_0x1befe2:_0x4fdd31));_0x1ff45a=formatResult(_0x1ff45a,0x8),_0x2d49cd=formatResult(_0x2d49cd,0x8);const _0x42215e=_0x261e46=='sell'?config['emojisell']?String['fromCodePoint']('0x'+config[_0x144172(0x17e)])+'\x20':'':config[_0x144172(0x1b6)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x57d405=_0x2e08d3=='market'?_0x144172(0x213):config['ordertype']==_0x144172(0x17d)?_0x144172(0x11e):'Limit\x20(low-margin)',_0x5bb3b6=new Date()[_0x144172(0x215)]()[_0x144172(0x238)]()[_0x144172(0x1c0)](-0x6)+'-'+Math[_0x144172(0x1f6)]()[_0x144172(0x238)]()[_0x144172(0x1c0)](-0x6);lastOrders[_0x144172(0xd4)]({'customId':_0x5bb3b6,'symbol':_0x328c1d,'coin':_0x4b6e92[_0x144172(0x1fc)],'side':_0x261e46,'reverse':_0x4b6e92[_0x144172(0xdb)],'filled':0x0});if(_0x2e08d3==_0x144172(0x236))logHistory(_0x144172(0x13a),''+_0x42215e+_0x57d405+_0x144172(0x21f)+_0x328c1d+'\x20'+_0x261e46+'\x20#'+formatResult(_0x1ff45a,0x8)+'\x20@'+formatResult(_0x2d49cd,0x8));else logHistory('order',''+_0x42215e+_0x57d405+_0x144172(0x21f)+_0x328c1d+'\x20'+_0x261e46+'\x20#'+formatResult(_0x1ff45a,0x8)+'\x20@'+formatResult(_0x2d49cd,0x8));const _0x4d0984=await exchange[_0x144172(0x1ad)](_0x328c1d,_0x2e08d3,_0x261e46,_0x1ff45a,_0x2d49cd,{'clientOrderId':_0x5bb3b6}),_0x41b036=lastOrders[_0x144172(0x16e)]-0x1;_0x41b036>=0x0&&lastOrders[_0x41b036][_0x144172(0x1d5)]==_0x5bb3b6&&(lastOrders[_0x41b036]={...lastOrders[_0x41b036],'orderId':_0x4d0984['id'],'amount':_0x4d0984[_0x144172(0x15c)],'price':_0x4d0984[_0x144172(0x207)],'fee':_0x4d0984[_0x144172(0x13b)]});if(config['cooldown']!=0x0){let _0x583548=null;if(cooldownTracker[_0x144172(0x16e)]==config[_0x144172(0x18c)]-0x1)_0x583548=cooldownTracker[_0x144172(0x237)]();const _0xaad325=getTimeStamp();cooldownTracker[_0x144172(0xd4)](_0xaad325);if(_0x583548){const _0x5ae3cf=fns[_0x144172(0xcc)](new Date(_0xaad325),new Date(_0x583548));if(_0x5ae3cf<cooldownInterval){logHistory(_0x144172(0x222),_0x144172(0x233)+config[_0x144172(0x18c)]+_0x144172(0x230)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x144172(0x108)),coolingDown=!![];break;}}}}catch(_0x35a714){if(_0x35a714[_0x144172(0x238)]()[_0x144172(0x13d)](_0x144172(0x1f5)))lastOrders=lastOrders[_0x144172(0x11a)](_0x3f0812=>_0x3f0812[_0x144172(0x178)]!=_0x328c1d),logHistory(_0x144172(0x222),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x328c1d),_0x338442=!![];else{if(_0x35a714['toString']()[_0x144172(0x13d)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x144172(0x11a)](_0x44b7b0=>_0x44b7b0[_0x144172(0x178)]!=_0x328c1d),logHistory(_0x144172(0x222),_0x144172(0x169)+_0x328c1d),_0x338442=!![];else _0x35a714[_0x144172(0x238)]()[_0x144172(0x13d)](_0x144172(0x10d))?(lastOrders=lastOrders[_0x144172(0x11a)](_0x1bcc4e=>_0x1bcc4e['symbol']!=_0x328c1d),logHistory(_0x144172(0x222),_0x144172(0x223)+_0x328c1d),_0x338442=!![]):(lastOrders=lastOrders[_0x144172(0x11a)](_0x5e5ef9=>_0x5e5ef9[_0x144172(0x178)]!=_0x328c1d),await handleError(_0x35a714,'placeOrder()',_0x328c1d));}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x144172(0x16e)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3b9570=config[_0x144172(0x1ca)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x144172(0x1b9)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4a7f1c=_0x144172;validateOrders(_0x4a7f1c(0x101));},_0x3b9570);}else unlockOrders();_0x338442&&config[_0x144172(0xca)]&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x144172(0xc5),_0x144172(0x1a2)));}else{if(coolingDown)!config[_0x144172(0xca)]&&logHistory(_0x144172(0x222),_0x144172(0x214));else lockOrders!=ORDERS[_0x144172(0xda)]&&(!config[_0x144172(0xca)]&&(config[_0x144172(0x1ca)]==_0x144172(0x236)?logHistory(_0x144172(0x222),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x144172(0x222),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x362a4f){const _0x59280f=_0x5a7073,_0x4b9206={...config,'openOrders':_0x362a4f};let _0x55427b=dbConfig[_0x59280f(0xf5)](_0x59280f(0x1bc))[_0x59280f(0x129)]({'botID':botID})[_0x59280f(0x1c5)]();_0x55427b&&dbConfig['get'](_0x59280f(0x1bc))[_0x59280f(0x129)]({'botID':botID})[_0x59280f(0xe6)](_0x4b9206)['write']();}function restoreOrders(){const _0x11ff86=_0x5a7073;let _0x28ecef;config['openOrders']&&allOpenOrders['forEach'](_0x1a3943=>{const _0x4aacf8=_0x4200,_0x1ad18a=config['openOrders'][_0x4aacf8(0x129)](_0xb43ea8=>_0xb43ea8[_0x4aacf8(0x12b)]==_0x1a3943['id']);_0x1ad18a&&(lastOrders[_0x4aacf8(0xd4)](_0x1ad18a),_0x28ecef=_0x1a3943[_0x4aacf8(0x1db)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x11ff86(0x1c2)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x4bbab6=new Date()[_0x11ff86(0x215)](),_0xbadee1=config[_0x11ff86(0x1ca)]==_0x11ff86(0x236)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x28ecef+_0xbadee1>_0x4bbab6){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x28ecef+_0xbadee1-_0x4bbab6);}else validateOrders(_0x11ff86(0x101));}}async function sendMetricsTelegram(){const _0x8a914b=_0x5a7073;if(!coinsLoaded){process[_0x8a914b(0xfc)]({'telegrammsg':_0x8a914b(0x13c)},_0x320b98=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x4ae672='';if(config['showname'])_0x4ae672=_0x8a914b(0xf0)+config[_0x8a914b(0x212)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x4ae672=_0x8a914b(0x134)+botID+_0x8a914b(0x16a);const _0x5bbfde=getKPIs(_0x8a914b(0xc7)),_0x3df2c5=getKPIs(_0x8a914b(0x1ab),config[_0x8a914b(0x1ab)]),_0x5f03e9=getKPIs(_0x8a914b(0xf3)),_0x4bbea5=getKPIs(_0x8a914b(0x200),config[_0x8a914b(0x1ab)]);_0x4ae672+=_0x8a914b(0x136),_0x4ae672+=_0x5bbfde['leftTxt']+_0x8a914b(0xdd)+_0x5bbfde[_0x8a914b(0x1c5)]+'\x0a',_0x4ae672+=_0x5bbfde['rightTxt']+':\x20'+_0x5bbfde[_0x8a914b(0x11d)]+'%\x0a',_0x4ae672+=_0x3df2c5['leftTxt']+_0x8a914b(0xdd)+_0x3df2c5[_0x8a914b(0x1c5)]+'\x0a',_0x4ae672+=_0x3df2c5[_0x8a914b(0xf4)]+':\x20'+_0x3df2c5[_0x8a914b(0x11d)]+'%\x0a',_0x4ae672+=_0x5f03e9[_0x8a914b(0x220)]+':\x20'+_0x5f03e9['value']+'\x20('+config[_0x8a914b(0xc7)]+')\x0a',_0x4ae672+=_0x5f03e9['rightTxt']+':\x20'+_0x5f03e9[_0x8a914b(0x11d)]+'%\x20('+config[_0x8a914b(0xc7)]+')\x0a',_0x4ae672+=_0x4bbea5['leftTxt']+':\x20'+_0x4bbea5[_0x8a914b(0x1c5)]+'\x20('+config[_0x8a914b(0x1ab)]+')\x0a',_0x4ae672+=_0x4bbea5[_0x8a914b(0xf4)]+':\x20'+_0x4bbea5['change']+_0x8a914b(0x145)+config[_0x8a914b(0x1ab)]+')\x0a',_0x4ae672+=_0x8a914b(0x16f),process[_0x8a914b(0xfc)]({'telegrammsg':_0x4ae672},_0x49e436=>{});}async function sendPortfolioTelegram(){const _0x5781b6=_0x5a7073;if(!coinsLoaded){process['send']({'telegrammsg':_0x5781b6(0x13c)},_0xae912d=>{});return;}let _0x344e33='';if(config['showname'])_0x344e33=_0x5781b6(0xf0)+config[_0x5781b6(0x212)]+_0x5781b6(0x1ea);else _0x344e33=_0x5781b6(0x134)+botID+_0x5781b6(0x1ea);_0x344e33+='<pre>',_0x344e33+=_0x5781b6(0x158),_0x344e33+=_0x5781b6(0x1b5),_0x344e33+=_0x5781b6(0x158),currentCoins['forEach'](_0x40869f=>{const _0x3a41bb=_0x5781b6;_0x344e33+=_0x40869f[_0x3a41bb(0x1fc)]['padEnd'](0x7)+'|\x20'+formatPad(_0x40869f[_0x3a41bb(0x23b)],0x2,0x6)+'|\x20'+formatPad(_0x40869f[_0x3a41bb(0x22f)],0x2,0x6)+'|\x20'+formatPad(_0x40869f[_0x3a41bb(0x198)]*0x64,0x2,0x6)+'\x0a';}),_0x344e33+=_0x5781b6(0x16f),process[_0x5781b6(0xfc)]({'telegrammsg':_0x344e33},_0x2291c7=>{});}function formatPad(_0x35072f,_0x3199e9,_0x1805a4){const _0x30782d=_0x5a7073,_0x2ba842=formatResultString(_0x35072f,_0x3199e9);return _0x2ba842?_0x2ba842['padStart'](_0x1805a4):''[_0x30782d(0x22d)](_0x1805a4);}function logHistory(_0x542816,_0x70a305,_0xa6f1d7=''){const _0x2b8c7e=_0x5a7073;let _0x2b5cf6={'time':getTimeStamp(),'type':_0x542816,'event':_0x70a305};dbLogs[_0x2b8c7e(0xf5)](_0x2b8c7e(0x1e6))[_0x2b8c7e(0xd4)](_0x2b5cf6)[_0x2b8c7e(0x208)]();if(_0xa6f1d7=='')_0xa6f1d7=_0x70a305;proxyEmit(_0x2b8c7e(0x20c),{'log':_0x2b5cf6,'summary':_0xa6f1d7}),process[_0x2b8c7e(0xfc)]({'telegram':{..._0x2b5cf6,'botname':config[_0x2b8c7e(0x212)],'showname':config['showname']}},_0x4ae439=>{}),logger[_0x2b8c7e(0x191)](''+_0x2b5cf6[_0x2b8c7e(0x20c)]);}function emitHistory(_0x1651ee={}){const _0xe7fb20=_0x5a7073;Object[_0xe7fb20(0x19c)](_0x1651ee)[_0xe7fb20(0x16e)]==0x0&&(_0x1651ee={'type':[_0xe7fb20(0x13a),'event'],'event':'','page':0x1});if(_0x1651ee[_0xe7fb20(0x181)][_0xe7fb20(0x13d)](_0xe7fb20(0x20c)))_0x1651ee[_0xe7fb20(0x181)]['splice'](_0x1651ee[_0xe7fb20(0x181)]['indexOf'](_0xe7fb20(0x20c)),0x1,_0xe7fb20(0x222),_0xe7fb20(0x182),_0xe7fb20(0xc5));if(dbLogs[_0xe7fb20(0x1e3)](_0xe7fb20(0x1e6))[_0xe7fb20(0x1c5)]()){let _0x45bf60=dbLogs[_0xe7fb20(0xf5)](_0xe7fb20(0x1e6))['filter'](_0x31de12=>{const _0x4e1a27=_0xe7fb20;if(_0x1651ee[_0x4e1a27(0x181)]['length']==0x0)return![];else return _0x1651ee[_0x4e1a27(0x181)][_0x4e1a27(0x13d)](_0x31de12[_0x4e1a27(0x181)]);})[_0xe7fb20(0x11a)](_0x543136=>{const _0x14dd18=_0xe7fb20;if(_0x1651ee[_0x14dd18(0x20c)]=='')return!![];else return _0x543136[_0x14dd18(0x20c)][_0x14dd18(0x1d3)]()[_0x14dd18(0x13d)](_0x1651ee[_0x14dd18(0x20c)]['toLowerCase']());})[_0xe7fb20(0x11f)]('time'),_0x7a2b73=_0x45bf60[_0xe7fb20(0x1c5)]()['length'];_0x45bf60=_0x45bf60[_0xe7fb20(0xdb)]()[_0xe7fb20(0x1c0)]((_0x1651ee[_0xe7fb20(0x12f)]-0x1)*logPageSize,_0x1651ee[_0xe7fb20(0x12f)]*logPageSize-0x1)[_0xe7fb20(0xdb)]()[_0xe7fb20(0x1c5)](),proxyEmit('event-history',{'logs':_0x45bf60,'total':_0x7a2b73});}else proxyEmit(_0xe7fb20(0x1dd),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x808f5d){const _0x5b4fc0=_0x5a7073;if(dbLogs[_0x5b4fc0(0x1e3)](_0x5b4fc0(0x1e6))[_0x5b4fc0(0x1c5)]()){const _0x3ab76b=dbLogs[_0x5b4fc0(0xf5)](_0x5b4fc0(0x1e6))[_0x5b4fc0(0x11f)](_0x5b4fc0(0x1f1))[_0x5b4fc0(0x11a)](_0x26d118=>{const _0x2b5a2a=_0x5b4fc0;return _0x26d118[_0x2b5a2a(0x181)]==_0x2b5a2a(0x13a);})[_0x5b4fc0(0x1c5)]();dbLogs[_0x5b4fc0(0xf5)](_0x5b4fc0(0x1e6))[_0x5b4fc0(0x194)]()[_0x5b4fc0(0x208)](),dbLogs[_0x5b4fc0(0xf5)](_0x5b4fc0(0x1e6))[_0x5b4fc0(0xe6)](_0x3ab76b)[_0x5b4fc0(0x208)](),emitHistory(_0x808f5d);}}function _0x5e4a(){const _0x503e84=['ORDERS.UNLOCKED','format','showname','string','-results.json','openOrders','toLowerCase','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','customId','createWriteStream','argv','lowdb/adapters/FileSync','existsSync','findIndex','timestamp','path','event-history','netoffset','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','\x20not\x20available','Net\x20','BUSD','has','./config/','storeFiat','logs','Order\x20filled:\x20','\x20>\x20','average','\x20portfolio:</b>\x20\x0a\x0a','coin-loading-progress','\x20|\x20Error\x20details:\x20','status','0\x20-\x20EXECUTION:\x20','exec','starting-balances','time','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','/EUR','loading-canceled','MIN_NOTIONAL','random','getCoins()','valid','bb-settings.json','\x20minutes','cancel','coin','/output-000.log','getFullYear','Executing\x20exchange\x20reload','net-fiat','data','cost','\x20closed\x20the\x20connection','excluded','startsWith','apiPassword','price','write','Unfilled\x20order(s)\x20canceled\x20after\x20','limit-low','cancelOrders()','event','getSeconds','usd','1\x20-\x20Handle\x20open\x20orders','breakeven','coins','botname','Market','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','getTime','eur','210138BXLQjY','settings','fees','3\x20-\x20handling\x20FILLED\x20order:\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','************','side','split','\x20order:\x20','leftTxt','defaults','error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Error\x20while\x20deleting\x20files:\x20','1\x20-\x20FILLED:\x20','yargs/yargs','\x20minutes\x20-\x20','progress','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','cloneDeep','2089038bqgVoy','total','padStart','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','target','\x20orders\x20in\x20less\x20than\x20','limit','configuration','Executed\x20','getPortfolio(2)','fetchOpenOrders','market','shift','toString','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','2.3.5','distribution','unlinkSync','password','none','balancing\x20resumed','sort','success','function','basecoin','InvalidNonce','startnumber','headless','***','differenceInSeconds','ExchangeNotAvailable','placeOrder','balancing\x20resumes\x20when\x20cooldown\x20ends','date-fns','Exchange','Error:\x20Invalid\x20argument\x20','toggleBotMode','push','-events.json','log','watchTrades','fetchTickers','constructor','UNLOCKED','reverse','USDT','\x20:\x20','ETH','no\x20additional\x20symbols','performance','ongoing','getHours','map','milliseconds','orderstatus','assign','recent20','USD','clientOrderId','263757WWniKT','2\x20-\x20FILLED\x20unknown\x20order:\x20','1\x20-\x20Validate\x20orders:\x20','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','message','splice','<b>','exchange','args','net-basecoin','rightTxt','get','amountToPrecision','storeHeadless','stringify','/USD','hybrid-crypto-js','debug','send','yyyy-MM-dd\x27T\x27HH:mm:ss','Reset\x20|\x20','deleteHistoryAlerts','\x20API\x20key\x20is\x20invalid','final','Bot\x20','toUpperCase','botID','Fees\x20|\x20currency:\x20','join','Binance','\x20hour','apiSecret','abs','Pausing\x20for\x20','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','must\x20be\x20greater\x20than\x20minimum\x20amount','001','UNLOCKING','OrderNotFound','ORDERS.LOCKED','additional\x20symbols\x20','Saving\x20configuration','DAI/','liquidity','getDate','BNB','YOYOW/',',\x20must\x20be\x20a\x203\x20digit\x20number','filter','set','date','change','Limit\x20(high-margin)','sortBy','Transaction\x20detection\x20unblocked','min','recreate','recreateCoinResults()','storeConfiguration','search','substring','open','yyyy/MM/dd','find','watchTransactions','orderId','RequestTimeout','decrypt','bot-','page','startprice','no\x20open\x20orders','number','limits','<b>Bot\x20','2\x20-\x20Validate\x20orders:\x20','<pre>','restart','fetchTicker','bots','order','fee','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','includes','privateKey','DDoSProtection','loadMarkets','ORDERS.UNLOCKING','XEM/BUSD','currency','RSA-OAEP','%\x20(','recovery','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','parse','getMonth','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','initclient','2\x20-\x20Handled\x20open\x20orders','sells','fetchBalance','test','-performance.json','-config.json','indexOf','getStartingBalances','getMinutes','bb-secure.json','enabled','(((.+)+)+)+$','-------------------------------\x0a','\x20value','cancelLoading','234725girUja','amount','freeze','\x20>\x20[DEBUG]\x20','datetime','Invalid\x20API\x20key\x20or\x20secret\x20entered','buys','apiKey','symbols','canceled','kill','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','close','\x20change','Order\x20amount\x20is\x20invalid:\x20','\x20metrics:</b>\x20\x0a\x0a','1532178kgNRGQ','closed','Order(s)\x20not\x20validated\x20after\x20','length','</pre>','Portfolio\x20change\x20detected:\x20','fetchClosedOrders','mkdirSync','max','1\x20-\x20Unlock\x20orders','startdate','EUR','BTC','symbol','177765UpbkCt','./logs/','starting-balance-','percentage','limit-high','emojisell','\x20|\x20','loadSymbols()','type','warning','entries','ticker','version','getPortfolio(1)','timeshift','getPortfolio(0)','Net\x20effect',':\x20Bot\x20','sell','cooldown','replace','emitHistory','255880QYfnnO','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','full','concat','buy','remove','Unknown\x20error\x20occured','remainingSymbols','timer:','delta','removed','util','balances','keys','offset','Manual\x20balancing\x20required','Initiating\x20exchange\x20reload','initial','changes','Cooldown\x20ended\x20-\x20balancing\x20resumed','portfolio','bid','2\x20-\x20Orders\x20unlocked','getPortfolio','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Fee\x20discount\x20refund\x20detected:\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','isEqual','fiat','2.6.0','createOrder','sha256','forEach','\x20|\x20lock\x20orders:\x20','last','.json','Resetting\x20bot\x20history','toFixed','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','emojibuy','trade','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','timeout','apply','change24h','bot','running','watchOrders','threshold','slice','onepagemode','LOCKED','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','API-key\x20format\x20invalid','value','realized','added','Failed\x20to\x20load\x20coin\x20data\x20for\x20','round','ordertype','filled','AuthenticationError'];_0x5e4a=function(){return _0x503e84;};return _0x5e4a();}async function pauseBot(_0x577700=''){const _0x1f7068=_0x5a7073,_0x516b81=new Date()['getTime']();if(!lastErrorShown||_0x516b81-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x516b81;!lastBotPause?(lastBotPause=_0x516b81,consecutivePauses=0x1):(_0x516b81-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x1f7068(0xfc)]({'stop':_0x1f7068(0x137)},_0x1d0c9d=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x1f7068(0x215)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x577700)_0x577700+=_0x1f7068(0x17f);logHistory(_0x1f7068(0x222),_0x577700+_0x1f7068(0x10b)+pauseBotInterval/0xea60+_0x1f7068(0x1fa)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x39ece3=_0x5a7073;process['send']({'stop':_0x39ece3(0x165)},_0x3e5e8f=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x30e1fd,_0x229bc4){const _0x3db24c=_0x5a7073;if(_0x30e1fd[_0x3db24c(0x238)]()[_0x3db24c(0x13d)](_0x3db24c(0x1c4)))return logHistory('error',config[_0x3db24c(0xf1)]+_0x3db24c(0x1d4)),![];else{if(_0x30e1fd[_0x3db24c(0x238)]()[_0x3db24c(0x13d)](_0x3db24c(0x147)))return logHistory(_0x3db24c(0x222),config[_0x3db24c(0xf1)]+_0x3db24c(0x239)),![];else{if(_0x30e1fd[_0x3db24c(0x238)]()['includes'](_0x3db24c(0x1cc)))return logHistory(_0x3db24c(0x222),config[_0x3db24c(0xf1)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x3db24c(0x222),_0x3db24c(0x166)),![];else await handleError(_0x30e1fd,_0x229bc4);}}}async function handleError(_0x30b59e,_0x4cfb7c,_0x51e2a8=''){const _0x26f778=_0x5a7073,_0xaad75b=config[_0x26f778(0xf1)]||_0x26f778(0xd1);if(_0x30b59e[_0x26f778(0x238)]()[_0x26f778(0x13d)](_0x26f778(0x13f)))await pauseBot(config['exchange']+_0x26f778(0x10c));else{if(_0x30b59e[_0x26f778(0x238)]()[_0x26f778(0x13d)](_0x26f778(0xcd)))await pauseBot(config[_0x26f778(0xf1)]+_0x26f778(0x1e0));else{if(_0x30b59e['toString']()['includes'](_0x26f778(0x12c)))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0x30b59e['toString']()['includes'](_0x26f778(0x1df)))await pauseBot(config[_0x26f778(0xf1)]+_0x26f778(0x203));else{if(_0x30b59e[_0x26f778(0x238)]()[_0x26f778(0x13d)](_0x26f778(0xed)))logHistory(_0x26f778(0x222),_0x4cfb7c+'\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x26f778(0x222),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x30b59e[_0x26f778(0x238)]()[_0x26f778(0x13d)](_0x26f778(0xc8)))logHistory(_0x26f778(0x222),_0x4cfb7c+_0x26f778(0x14a)),logHistory(_0x26f778(0x222),_0x26f778(0x1a9)),await killBot();else{if(_0x30b59e[_0x26f778(0x238)]()['includes']('API-key\x20format\x20invalid'))logHistory(_0x26f778(0x222),_0x4cfb7c+_0x26f778(0x17f)+config['exchange']+_0x26f778(0x100)),logHistory(_0x26f778(0x222),_0x26f778(0x1a9)),await killBot();else{if(_0x30b59e[_0x26f778(0x238)]()[_0x26f778(0x13d)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x26f778(0x222),_0x4cfb7c+_0x26f778(0x17f)+config[_0x26f778(0xf1)]+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x26f778(0x222),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x30b59e[_0x26f778(0x238)]()['includes'](_0x26f778(0x1cc)))logHistory(_0x26f778(0x222),_0x4cfb7c+'\x20|\x20'+config[_0x26f778(0xf1)]+_0x26f778(0x21b)),logHistory(_0x26f778(0x222),_0x26f778(0x1a9)),await killBot();else _0x30b59e[_0x26f778(0x238)]()[_0x26f778(0x13d)]('InsufficientFunds')?logHistory(_0x26f778(0x222),_0x4cfb7c+_0x26f778(0x1f2)+_0x51e2a8):(logger[_0x26f778(0x191)](_0x4cfb7c+_0x26f778(0x1ec),_0x30b59e),await pauseBot(_0x26f778(0x195)));}}}}}}}}}function formatResult(_0x49feeb,_0x2a0a6a){const _0x4cf213=_0x5a7073;return parseFloat(_0x49feeb[_0x4cf213(0x1b4)](_0x2a0a6a));}function formatResultTruncate(_0x10ebfa,_0x59fcb2){const _0x4d51af=_0x5a7073;let _0x5d811f=formatResultString(_0x10ebfa,0xa),_0x554afc=_0x5d811f[_0x4d51af(0x152)]('.');return _0x554afc!=-0x1&&(_0x5d811f=_0x5d811f[_0x4d51af(0x1c0)](0x0,_0x554afc+_0x59fcb2+0x1)),Number(_0x5d811f);}function formatResultString(_0x171f5e,_0x4e55a3){const _0x48151a=_0x5a7073;let _0x3787c7;if(!(''+_0x171f5e)['includes']('e'))_0x3787c7=+(Math[_0x48151a(0x1c9)](_0x171f5e+'e+'+_0x4e55a3)+'e-'+_0x4e55a3);else{let _0xa46766=(''+_0x171f5e)[_0x48151a(0x21e)]('e'),_0x5883cc='';+_0xa46766[0x1]+_0x4e55a3>0x0&&(_0x5883cc='+'),_0x3787c7=+(Math[_0x48151a(0x1c9)](+_0xa46766[0x0]+'e'+_0x5883cc+(+_0xa46766[0x1]+_0x4e55a3))+'e-'+_0x4e55a3);}return Number(_0x3787c7)[_0x48151a(0x1b4)](_0x4e55a3);}function getServerTime(){const _0x824a0d=_0x5a7073,_0x532e51=new Date();return _0x532e51[_0x824a0d(0x1fe)]()+'/'+(_0x532e51['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x532e51[_0x824a0d(0x116)]()[_0x824a0d(0x238)]()[_0x824a0d(0x22d)](0x2,'0')+'\x20'+_0x532e51[_0x824a0d(0xe2)]()[_0x824a0d(0x238)]()[_0x824a0d(0x22d)](0x2,'0')+':'+_0x532e51[_0x824a0d(0x154)]()[_0x824a0d(0x238)]()[_0x824a0d(0x22d)](0x2,'0')+':'+_0x532e51['getSeconds']()[_0x824a0d(0x238)]()[_0x824a0d(0x22d)](0x2,'0');}function getTimeStamp(){const _0x22c268=_0x5a7073,_0x327b4e=shiftedTime();return _0x327b4e[_0x22c268(0x1fe)]()+'/'+(_0x327b4e[_0x22c268(0x149)]()+0x1)[_0x22c268(0x238)]()[_0x22c268(0x22d)](0x2,'0')+'/'+_0x327b4e[_0x22c268(0x116)]()[_0x22c268(0x238)]()['padStart'](0x2,'0')+'\x20'+_0x327b4e[_0x22c268(0xe2)]()['toString']()['padStart'](0x2,'0')+':'+_0x327b4e[_0x22c268(0x154)]()[_0x22c268(0x238)]()[_0x22c268(0x22d)](0x2,'0')+':'+_0x327b4e[_0x22c268(0x20d)]()['toString']()[_0x22c268(0x22d)](0x2,'0');}function getDate(){const _0x34f763=_0x5a7073,_0x2da1ea=shiftedTime();return _0x2da1ea[_0x34f763(0x1fe)]()+'/'+(_0x2da1ea[_0x34f763(0x149)]()+0x1)[_0x34f763(0x238)]()[_0x34f763(0x22d)](0x2,'0')+'/'+_0x2da1ea[_0x34f763(0x116)]()[_0x34f763(0x238)]()[_0x34f763(0x22d)](0x2,'0');}function getHour(){const _0x544369=_0x5a7073,_0x2b4558=shiftedTime();return _0x2b4558[_0x544369(0xe2)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x4bfd15){return new Promise(_0x543d01=>setTimeout(_0x543d01,_0x4bfd15));}function shiftedTime(){const _0x1a72e5=_0x5a7073,_0x5a1b5e=new Date();let _0x463433=_0x5a1b5e;if(config&&config[_0x1a72e5(0x187)]!==0x0)_0x463433=fns['add'](_0x5a1b5e,{'hours':config[_0x1a72e5(0x187)]});return _0x463433;}function timer(_0x44e356){const _0x47ce50=_0x5a7073,_0xd5baec=new Date();!lasttime?console[_0x47ce50(0xd6)](_0x47ce50(0x197),_0x44e356,_0xd5baec):console[_0x47ce50(0xd6)]('timer:',_0x44e356,(_0xd5baec-lasttime)/0x3e8),lasttime=_0xd5baec;}