const _0x44c78f=_0x26cd;(function(_0x1748de,_0x18ffe2){const _0x8c3e7=_0x26cd,_0x33eb1b=_0x1748de();while(!![]){try{const _0x3c2d55=parseInt(_0x8c3e7(0x2ee))/0x1+parseInt(_0x8c3e7(0x270))/0x2*(parseInt(_0x8c3e7(0x1ac))/0x3)+parseInt(_0x8c3e7(0x1f1))/0x4*(parseInt(_0x8c3e7(0x1eb))/0x5)+parseInt(_0x8c3e7(0x1f9))/0x6+parseInt(_0x8c3e7(0x328))/0x7+parseInt(_0x8c3e7(0x2a9))/0x8*(-parseInt(_0x8c3e7(0x1a0))/0x9)+parseInt(_0x8c3e7(0x204))/0xa*(-parseInt(_0x8c3e7(0x1f2))/0xb);if(_0x3c2d55===_0x18ffe2)break;else _0x33eb1b['push'](_0x33eb1b['shift']());}catch(_0x554418){_0x33eb1b['push'](_0x33eb1b['shift']());}}}(_0x32e6,0xe282f));const _0x48c96d=function(){let _0x1e3a81=!![];return function(_0x3ccaa2,_0x5880d7){const _0x2f2491=_0x1e3a81?function(){const _0x385631=_0x26cd;if(_0x5880d7){const _0x32e895=_0x5880d7[_0x385631(0x2f1)](_0x3ccaa2,arguments);return _0x5880d7=null,_0x32e895;}}:function(){};return _0x1e3a81=![],_0x2f2491;};}(),_0xaeeb5d=_0x48c96d(this,function(){const _0x46c6ee=_0x26cd;return _0xaeeb5d['toString']()[_0x46c6ee(0x213)](_0x46c6ee(0x20b))[_0x46c6ee(0x2cd)]()[_0x46c6ee(0x29d)](_0xaeeb5d)[_0x46c6ee(0x213)]('(((.+)+)+)+$');});_0xaeeb5d();'use strict';const ccxt=require('ccxt'),low=require(_0x44c78f(0x296)),FileSync=require(_0x44c78f(0x285)),fs=require('fs'),fns=require(_0x44c78f(0x336)),Crypt=require(_0x44c78f(0x315))['Crypt'],util=require(_0x44c78f(0x1b7)),argv=require(_0x44c78f(0x268))(process[_0x44c78f(0x29a)][_0x44c78f(0x2aa)](0x2))[_0x44c78f(0x29a)],path=require(_0x44c78f(0x241));let exchange;global[_0x44c78f(0x252)]={},global['change']={};const usdBasecoins=[_0x44c78f(0x335),_0x44c78f(0x2c2),_0x44c78f(0x2ba),_0x44c78f(0x2b1),_0x44c78f(0x254),_0x44c78f(0x28c)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x44c78f(0x326)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x44c78f(0x27f))[_0x44c78f(0x199)],botID=process[_0x44c78f(0x29a)][0x2]||_0x44c78f(0x269),pattern=/^[0-9]{3}$/;!pattern[_0x44c78f(0x236)](botID)&&(console[_0x44c78f(0x1c1)](_0x44c78f(0x245)+botID+_0x44c78f(0x332)),killBot());const userID=process[_0x44c78f(0x29a)][0x3]||'',configpath=userID?_0x44c78f(0x2ff)+userID+'/':_0x44c78f(0x2ff),logspath=userID?_0x44c78f(0x1c7)+userID+'/':_0x44c78f(0x1c7),loggerfile=fs[_0x44c78f(0x1ad)](logspath+_0x44c78f(0x1ce),{'flags':'a'});!fs[_0x44c78f(0x1d3)](configpath)&&fs[_0x44c78f(0x1b1)](configpath);!fs[_0x44c78f(0x1d3)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x44c78f(0x325)+botID+_0x44c78f(0x1cb),logfile=configpath+'bot-'+botID+_0x44c78f(0x2be),performancefile=configpath+'bot-'+botID+_0x44c78f(0x2d5),coinresultsfile=configpath+_0x44c78f(0x325)+botID+_0x44c78f(0x1c4),settingsfile=configpath+_0x44c78f(0x20f),securefile=configpath+_0x44c78f(0x233),configbackuppath=configpath+_0x44c78f(0x323),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x44c78f(0x2ac)]({'logs':[],'version':serverversion})[_0x44c78f(0x259)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x44c78f(0x2ac)]({'data':[],'version':serverversion})[_0x44c78f(0x259)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x44c78f(0x2ac)]({'bot':[],'version':serverversion})[_0x44c78f(0x259)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x44c78f(0x2ac)]({'coins':[],'version':serverversion})[_0x44c78f(0x259)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x44c78f(0x32f),'rsaStandard':_0x44c78f(0x1b2)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x329acb=>{const _0x15f54a=_0x44c78f;console[_0x15f54a(0x1c1)](_0x329acb);},'simple':_0x560275=>{const _0x4a2871=_0x44c78f;console[_0x4a2871(0x1c1)](_0x560275),loggerfile[_0x4a2871(0x259)](util[_0x4a2871(0x295)](_0x560275)+'\x0a');},'full':async(_0x14c23e,_0x53223e='')=>{const _0x1c79f7=_0x44c78f;let _0x2647aa;if(config['showname'])_0x2647aa=getTimeStamp()+':\x20'+config[_0x1c79f7(0x1d2)]+_0x1c79f7(0x1c9)+_0x14c23e;else _0x2647aa=getTimeStamp()+_0x1c79f7(0x1b6)+botID+_0x1c79f7(0x1c9)+_0x14c23e;console[_0x1c79f7(0x1c1)](_0x2647aa),loggerfile[_0x1c79f7(0x259)](util[_0x1c79f7(0x295)](_0x2647aa)+'\x0a'),_0x53223e&&(console[_0x1c79f7(0x1c1)](_0x53223e),loggerfile[_0x1c79f7(0x259)](util['format'](_0x53223e)+'\x0a'));},'debug':async(_0x3bb6ef,_0x3397bf='')=>{const _0x5b9486=_0x44c78f;let _0x300ea3;if(config[_0x5b9486(0x31a)])_0x300ea3=getTimeStamp()+':\x20'+config[_0x5b9486(0x1d2)]+_0x5b9486(0x1a7)+_0x3bb6ef;else _0x300ea3=getTimeStamp()+_0x5b9486(0x1b6)+botID+_0x5b9486(0x1a7)+_0x3bb6ef;if(debugging)console[_0x5b9486(0x1c1)](_0x300ea3);loggerfile[_0x5b9486(0x259)](util[_0x5b9486(0x295)](_0x300ea3)+'\x0a');if(_0x3397bf){if(debugging)console['log'](_0x3397bf);loggerfile[_0x5b9486(0x259)](util[_0x5b9486(0x295)](_0x3397bf)+'\x0a');}}};process['on'](_0x44c78f(0x320),function(_0x5645b6){const _0x25ae9b=_0x44c78f;logHistory('error',_0x25ae9b(0x300)),logger[_0x25ae9b(0x31c)](_0x25ae9b(0x334),_0x5645b6);});function _0x32e6(){const _0x41d9ef=['\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','recent20','concat','./version.json','<b>Bot\x20','yyyy/MM/dd','openOrders','Exchange','Resetting\x20bot\x20history','lowdb/adapters/FileSync','running','bid','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','watchOrders','full','total','USDP','stringify','Invalid\x20API\x20key\x20or\x20secret\x20entered','splice','exec','yyyy-MM-dd\x27T\x27HH:mm:ss','isEqual','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20|\x20exchange:\x20','format','lowdb','Net\x20effect','logs','Limit\x20(high-margin)','argv','RequestTimeout','change24h','constructor','currency','getHours','set','Unfilled\x20order(s)\x20canceled\x20after\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','orderId','placeOrder','valid','sendMetricsTelegram','page','function','24fgtMTF','slice','API-key\x20format\x20invalid','defaults','getPortfolio(0)','price','starting-balances','breakeven','USDT','Invalid\x20symbol:\x20','loadMarkets','Market','apiSecret','keys','Unknown\x20error\x20occured','min','\x20-\x20bot\x20not\x20started','TUSD','ExchangeError','final','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','-events.json','<b>','message','getCoins()','BUSD','headless','add','join','getFullYear','UNLOCKING','entries','\x20minutes','getCoinNumber()','Reset\x20|\x20','storeFiat','toString','symbol','cooldown','/USD','1\x20-\x20Validate\x20orders:\x20','includes','excluded','-------------------------------\x0a','-performance.json','Failed\x20to\x20load\x20coin\x20data\x20for\x20','fetchBalance','ExchangeNotAvailable','canceled','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','number','limits','abs','cloneDeep','closed','net-fiat','BNB/','stopExchange()','getSeconds','limit','recreate','Bitget','configuration-stored','event-history','changes','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','fee','\x20|\x20','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','1038930EhEDNx','2.5.0','basecoin','apply','sort','getMonth','rightTxt','apiPassword','Order\x20is\x20invalid:\x20','BTC','/EUR','onepagemode','coin-loading-progress','none','fetchTicker','colorscheme','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','./config/','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','\x20portfolio:</b>\x20\x0a\x0a','threshold','\x20|\x20Custom\x20ID:\x20','sells','date','BNB','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','removed','1\x20-\x20Unlock\x20orders','basecoinvalue','\x20exchange\x20error','fiat','************','ETH','no\x20additional\x20symbols','Cex','\x20|\x20lock\x20orders:\x20','password','MIN_NOTIONAL','\x20has\x20a\x2024h\x20drop\x20of\x20','hybrid-crypto-js','split','percentage','type','assign','showname','toUpperCase','debug','Cooldown\x20ended\x20-\x20balancing\x20resumed','2\x20-\x20FILLED\x20unknown\x20order:\x20','Binance','uncaughtException','startnumber','map','/backup/','filled','bot-','freeze','settings','5091464nrtakY','ordertype','<pre>','buys','change','LOCKED','last','sha256','Transaction\x20detection\x20blocked','Liquidity\x20change\x20|\x20basecoin\x20value:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','sell','Uncaught\x20Exception:','USD','date-fns','progress','Resetting\x20coin\x20results:\x20',':\x20timer\x20>','Executing\x20exchange\x20reload','2.6.0','\x20not\x20responding','kill','balancing\x20resumes\x20when\x20cooldown\x20ends','getTime','initTickers()','3\x20-\x20handling\x20FILLED\x20order:\x20','version','startdate','args','initial','status','fetchClosedOrders','restart','5184558zXKIIF','exchange\x20reloaded','Saving\x20configuration','sortBy','OrderNotFound','ORDERS.UNLOCKING','differenceInSeconds','\x20>\x20[DEBUG]\x20','Bybit','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','ask','delta','3531PdwYYV','createWriteStream','liquidity','cancel','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','mkdirSync','RSA-OAEP','highest','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','value',':\x20Bot\x20','util','getDate','recovery','toFixed','filter','eur','usd','fetchTickers()','\x20minutes\x20-\x20','Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','log','cancelLoading','\x20hour','-results.json','trade','exchange\x20not\x20reloaded','./logs/','remainingSymbols','\x20>\x20','Initializing\x20coin\x20results','-config.json','close','success','/output-000.log','decrypt','coins','ID:\x20','botname','existsSync','Error\x20details:','\x20order:\x20','Waited\x20','limit-low','open','Order\x20amount\x20is\x20invalid:\x20','ORDERS.LOCKED','findIndex','get','send','balancing\x20resumed','target','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','bots','orderstatus','\x20change','added','\x20metrics:</b>\x20\x0a\x0a','1\x20-\x20FILLED:\x20','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','%\x20(','forEach','\x20API\x20key\x20is\x20invalid','7635205vpGMuB','indexOf','watchOrders()','Exception\x20thrown\x20in\x20','InvalidOrder','OnMaintenance','4KNGDVY','173954svieeQ','offset','round','realized','No\x20more\x20open\x20orders\x20-\x20','cancelOrders()','Portfolio\x20change\x20detected:\x20','6864282AhYoyh','padStart','max','milliseconds','getAllOrders()','deleteHistoryAlerts','net-basecoin','apiKey','remove','shift','emojisell','2260Pqmixm','placeOrder()','watchTrades','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','push','limit-high','privateKey','(((.+)+)+)+$','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','replace','Error\x20while\x20deleting\x20files:\x20','bb-settings.json','performance','find','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','search','bot','startprice','AuthenticationError','side','loading-canceled','2.3.5','UNLOCKED','customId','showConfig','spot','storeHeadless','exchanges','writeFile','\x20orders\x20in\x20less\x20than\x20','event','EUR','RateLimitExceeded','\x20value','emojibuy','buy','2\x20-\x20Validate\x20orders:\x20','Manual\x20balancing\x20required','additional\x20symbols\x20','portfolio','configuration','InsufficientFunds','storeConfiguration','balances','\x20not\x20available','ongoing','amount','bb-secure.json','warning','Pausing\x20for\x20','test','starting-balance-','fetchTickers','timeout','getPortfolio','getMinutes','unlinkSync','createOrder','Insufficient\x20funds\x20to\x20execute\x20order:\x20','cost','enabled','path','length','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','parse','Error:\x20Invalid\x20argument\x20','recreateCoinResults()','timestamp','pro','red_yellow_blue','</pre>','distribution','coin','timeshift','reverse','sendPortfolioTelegram','data','cancelOrder','ticker','Invalid\x20quantity','USDC','emitHistory','netoffset','string','watchTransactions()','write','leftTxt','***','floor','InvalidNonce','botID','fetchOpenOrders','initclient','resetHistory','fromCodePoint','datetime','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','toLowerCase','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','yargs/yargs','001','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','has','1\x20-\x20Handle\x20open\x20orders','Huobipro','\x20closed\x20the\x20connection','error','3046dWiroy','amountToPrecision','\x20-\x20exclude\x20from\x20balancing\x20in\x20the\x20configuration','substring','Net\x20','market','time','API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','average','fees','order','exchange'];_0x32e6=function(){return _0x41d9ef;};return _0x32e6();}settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x44c78f(0x24d)]);settings[_0x44c78f(0x2f9)]!=config[_0x44c78f(0x2f9)]&&updateOnepagemode(settings[_0x44c78f(0x2f9)]);process[_0x44c78f(0x1dd)]({'started':_0x44c78f(0x286)},_0x28ff39=>{}),initializeProcessListeners();function proxyEmit(_0x27fe87,_0x5201b8=null){process['send']({'function':_0x27fe87,'args':_0x5201b8},_0xf26491=>{});}function initializeProcessListeners(){const _0x55ef79=_0x44c78f;process['on'](_0x55ef79(0x2c0),_0x10d020=>{const _0x14d39c=_0x55ef79;switch(Object[_0x14d39c(0x2b6)](_0x10d020)[0x0]){case _0x14d39c(0x24d):_0x10d020['timeshift']!=undefined&&(settings['timeshift']=_0x10d020[_0x14d39c(0x24d)],updateTimeshift(settings[_0x14d39c(0x24d)]));break;case _0x14d39c(0x2f9):_0x10d020[_0x14d39c(0x2f9)]!=undefined&&(settings[_0x14d39c(0x2f9)]=_0x10d020['onepagemode'],updateOnepagemode(settings[_0x14d39c(0x2f9)]));break;case _0x14d39c(0x1e1):_0x10d020[_0x14d39c(0x1e1)]!=undefined&&(bots=JSON[_0x14d39c(0x244)](_0x10d020['bots']),proxyEmit(_0x14d39c(0x1e1),bots));break;case _0x14d39c(0x2a8):switch(_0x10d020[_0x14d39c(0x2a8)]){case _0x14d39c(0x260):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x14d39c(0x255):emitHistory(_0x10d020[_0x14d39c(0x19b)]);break;case _0x14d39c(0x1fe):deleteHistoryAlerts(_0x10d020[_0x14d39c(0x19b)]);break;case _0x14d39c(0x23a):getPortfolio(_0x10d020[_0x14d39c(0x19b)]);break;case _0x14d39c(0x22e):storeConfiguration(_0x10d020[_0x14d39c(0x19b)]);break;case _0x14d39c(0x21e):storeHeadless(_0x10d020[_0x14d39c(0x19b)]);break;case _0x14d39c(0x2cc):storeFiat(_0x10d020['args']);break;case _0x14d39c(0x261):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x14d39c(0x2a4):placeOrder(_0x10d020[_0x14d39c(0x19b)]);break;case _0x14d39c(0x1c2):cancelLoading();break;case _0x14d39c(0x21c):showConfig();break;case _0x14d39c(0x2a6):sendMetricsTelegram();break;case _0x14d39c(0x24f):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x48234f=null,_0x223e54=![]){const _0x256c9a=_0x44c78f;logger['debug'](_0x256c9a(0x2cb)+(_0x48234f&&_0x48234f['length']>0x0?_0x256c9a(0x22a)+_0x48234f[_0x256c9a(0x2c5)](','):_0x256c9a(0x30f))+_0x256c9a(0x2ec)+(_0x223e54?_0x256c9a(0x1a1):_0x256c9a(0x1c6))+_0x256c9a(0x294)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x223e54)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x256c9a(0x200)]!=''&&config[_0x256c9a(0x200)]!=_0x256c9a(0x25b)){loadingProgress=0x0;if(_0x223e54){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x55b952){handleErrorNoStop(_0x55b952,'loadSymbols()');return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x48234f);const _0x1e2cd4=await getCoins();[currentCoins,currentCoinsAll]=_0x1e2cd4,loadingProgress=maxLoadingProgress,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x256c9a(0x28a)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x256c9a(0x242)]==0x0&&allOpenOrders[_0x256c9a(0x242)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x52e3a7=_0x44c78f;exchangeStopped=!![];try{await exchange[_0x52e3a7(0x1cc)]();}catch(_0x257ddf){await handleError(_0x257ddf,_0x52e3a7(0x2e2));}}async function reloadExchange(){const _0x2e7f65=_0x44c78f;logger[_0x2e7f65(0x31c)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x2e7f65(0x21a)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x2e7f65(0x31c)](_0x2e7f65(0x33a)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x60edf4=config[_0x44c78f(0x27b)],_0x54f809=config['apiKey'],_0x5ecdfb=config[_0x44c78f(0x2b5)],_0x41854d=config['apiPassword']){const _0x3a1c59=_0x44c78f;exchange&&await stopExchange();!supportedExchanges()[_0x3a1c59(0x2d2)](_0x60edf4)&&(logHistory(_0x3a1c59(0x26f),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x60edf4+'\x20exchange'),killBot());const _0xcd48e5=ccxt[_0x3a1c59(0x248)][_0x60edf4[_0x3a1c59(0x266)]()];exchange=new _0xcd48e5({'apiKey':_0x54f809,'secret':_0x5ecdfb,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x41854d)exchange[_0x3a1c59(0x312)]=_0x41854d;}function setStableCoins(){const _0x190bba=_0x44c78f;let _0x5f096f=config[_0x190bba(0x2f0)]==_0x190bba(0x30e)?_0x190bba(0x30e):_0x190bba(0x2f7),_0x5ebde0=!allSymbols[_0x190bba(0x2d2)](_0x5f096f+_0x190bba(0x2d0))?_0x190bba(0x2b1):_0x190bba(0x335),_0x1d11b3=!allSymbols['includes'](_0x5f096f+_0x190bba(0x2f8))?_0x5ebde0:_0x190bba(0x223);stablecoins={'eur':{'coin':''+_0x5f096f+_0x1d11b3,'symbol':_0x5f096f+'/'+_0x1d11b3},'usd':{'coin':''+_0x5f096f+_0x5ebde0,'symbol':_0x5f096f+'/'+_0x5ebde0}};}async function initwsCcxt(_0x1e8e3c){const _0x3299dc=_0x44c78f;_0x1e8e3c==null&&(_0x1e8e3c=[],config['portfolio'][_0x3299dc(0x1e9)](_0x25e8fe=>{const _0x267b87=_0x3299dc;if(!_0x25e8fe[_0x267b87(0x2d3)]&&_0x25e8fe['coin']!=config['basecoin'])_0x1e8e3c[_0x267b87(0x208)](_0x25e8fe[_0x267b87(0x2ce)]);}));if(!_0x1e8e3c['includes'](stablecoins[_0x3299dc(0x1bc)]['symbol']))_0x1e8e3c[_0x3299dc(0x208)](stablecoins[_0x3299dc(0x1bc)][_0x3299dc(0x2ce)]);if(!_0x1e8e3c[_0x3299dc(0x2d2)](stablecoins[_0x3299dc(0x1bd)][_0x3299dc(0x2ce)]))_0x1e8e3c[_0x3299dc(0x208)](stablecoins[_0x3299dc(0x1bd)][_0x3299dc(0x2ce)]);if(config[_0x3299dc(0x27b)]['startsWith']('Binance')){if(!_0x1e8e3c['includes'](_0x3299dc(0x2e1)+config['basecoin']))_0x1e8e3c[_0x3299dc(0x208)](_0x3299dc(0x2e1)+config[_0x3299dc(0x2f0)]);}loadCoins(_0x1e8e3c),_0x1e8e3c=validateSymbols(_0x1e8e3c);const _0x2d5f4d=async _0x4b15c4=>{const _0xa30937=_0x3299dc;let _0x4041c1;try{const _0x1ac6d6=await exchange[_0xa30937(0x238)](_0x4b15c4);Object[_0xa30937(0x2c8)](_0x1ac6d6)[_0xa30937(0x1e9)](_0x407188=>{const _0x46c4b2=_0xa30937;_0x4041c1=_0x407188[0x1]['symbol'],global[_0x46c4b2(0x252)][noslash(_0x4041c1)]=_0x407188[0x1]['last'];});}catch(_0x5a146c){await handleError(_0x5a146c,_0xa30937(0x197),_0x4041c1);}},_0x1019c1=async _0x153171=>{const _0x3125f0=_0x3299dc;while(!![]){if(!botPaused)try{const _0x35f396=await exchange[_0x3125f0(0x206)](_0x153171);global[_0x3125f0(0x252)][noslash(_0x35f396[0x0][_0x3125f0(0x2ce)])]=_0x35f396[0x0]['price'],await sleep(0x3e8);}catch(_0x2a276e){if(!exchangeStopped)await handleError(_0x2a276e,'watchTrades()',_0x153171);}else await sleep(0x64);}},_0x2f0bea=async _0xa5060c=>{const _0x533506=_0x3299dc;while(!![]){if(!botPaused)try{const _0x5e8c66=await exchange[_0x533506(0x2fc)](_0xa5060c);global[_0x533506(0x32c)][_0x5e8c66[_0x533506(0x2ce)]]=_0x5e8c66[_0x533506(0x317)],await sleep(0x3c*0x3e8);}catch(_0x21373d){if(!exchangeStopped)await handleError(_0x21373d,_0x533506(0x1be),_0xa5060c);}else await sleep(0x64);}},_0x22f31c=async _0x52c604=>{const _0x941c96=_0x3299dc;while(!![]){if(!botPaused)try{const _0x471cb9=await exchange[_0x941c96(0x289)](_0x52c604);_0x471cb9['forEach'](_0xd27fd4=>{updateNumberCoinsCcxt(_0xd27fd4);});}catch(_0x1fc908){if(!exchangeStopped)await handleError(_0x1fc908,_0x941c96(0x1ed));}else await sleep(0x64);}};_0x2d5f4d(_0x1e8e3c),_0x1e8e3c[_0x3299dc(0x1e9)](_0x22c3b9=>{_0x1019c1(_0x22c3b9),_0x2f0bea(_0x22c3b9),_0x22f31c(_0x22c3b9);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function watchTransactions(){const _0x3a3356=_0x44c78f;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x1ba64f=await getCoins(),[_0x3b43a9,_0x58a8f0]=_0x1ba64f;let _0x1960cf=[];currentCoins['forEach'](_0x26b8e2=>{const _0x876699=_0x26cd,_0x2774fc=_0x3b43a9[_0x876699(0x211)](_0x14757f=>_0x14757f[_0x876699(0x24c)]==_0x26b8e2['coin']);if(_0x2774fc){if(_0x26b8e2[_0x876699(0x2db)]!=_0x2774fc['number']){let _0x4ee542;if(_0x26b8e2['coin']!=config[_0x876699(0x2f0)]){const _0xdde4b1=global[_0x876699(0x252)][noslash(_0x26b8e2[_0x876699(0x2ce)])];_0x4ee542=_0x26b8e2[_0x876699(0x24e)]?0x1/_0xdde4b1:_0xdde4b1;}else _0x4ee542=0x1;_0x1960cf[_0x876699(0x208)]({'coin':_0x26b8e2[_0x876699(0x24c)],'symbol':_0x26b8e2[_0x876699(0x2ce)],'price':_0x4ee542,'number':Number(formatResult(_0x2774fc[_0x876699(0x2db)]-_0x26b8e2['number'],0x8)),'basecoinvalue':_0x4ee542*(_0x2774fc['number']-_0x26b8e2[_0x876699(0x2db)])});}}});if(_0x1960cf[_0x3a3356(0x242)]==0x1&&!blockTransactionDetection){if(config['autoliquidity']){logger[_0x3a3356(0x31c)](_0x3a3356(0x331)+_0x1960cf[0x0][_0x3a3356(0x30a)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x3a3356(0x1b3)]);if(lastFees[_0x3a3356(0x1b3)]==0x0||Math['abs'](_0x1960cf[0x0]['basecoinvalue'])>lastFees[_0x3a3356(0x1b3)]){delete _0x1960cf[0x0][_0x3a3356(0x2ce)],delete _0x1960cf[0x0][_0x3a3356(0x30a)];let _0x469e9c=[],_0x462031=[...config[_0x3a3356(0x1ae)]]||[],_0x2efcc7=config[_0x3a3356(0x1ae)];_0x462031[_0x3a3356(0x2f2)]((_0x88a4d4,_0x4b6f60)=>_0x88a4d4[_0x3a3356(0x305)]>_0x4b6f60['date']?-0x1:_0x4b6f60[_0x3a3356(0x305)]>_0x88a4d4[_0x3a3356(0x305)]?0x1:0x0);const _0x563de7=getDate();if(_0x462031[0x0]){const _0x247b6a=fns[_0x3a3356(0x244)](_0x462031[0x0][_0x3a3356(0x305)],'yyyy/MM/dd',new Date()),_0x3543af=fns[_0x3a3356(0x244)](_0x563de7,_0x3a3356(0x281),new Date());if(fns[_0x3a3356(0x292)](_0x247b6a,_0x3543af)){_0x469e9c=_0x462031[0x0][_0x3a3356(0x2e9)];const _0x1ba739=_0x469e9c[_0x3a3356(0x211)](_0x6da38a=>_0x6da38a[_0x3a3356(0x24c)]==_0x1960cf[0x0][_0x3a3356(0x24c)]);_0x1ba739?(_0x1ba739['number']+=_0x1960cf[0x0][_0x3a3356(0x2db)],_0x1ba739[_0x3a3356(0x2db)]==0x0&&(_0x469e9c=_0x469e9c[_0x3a3356(0x1bb)](_0x3ae765=>{const _0x52d23c=_0x3a3356;return _0x3ae765[_0x52d23c(0x24c)]!=_0x1960cf[0x0]['coin'];}))):_0x469e9c[_0x3a3356(0x208)](_0x1960cf[0x0]);const _0x3a21c2=_0x2efcc7[_0x3a3356(0x211)](_0x42f942=>_0x42f942['date']==_0x563de7);_0x3a21c2[_0x3a3356(0x2e9)]=_0x469e9c;}else _0x2efcc7[_0x3a3356(0x208)]({'date':_0x563de7,'changes':[_0x1960cf[0x0]]});}const _0xbf98c3=_0x2efcc7[_0x3a3356(0x211)](_0x239769=>_0x239769[_0x3a3356(0x305)]==_0x563de7);if(_0xbf98c3){let _0x1102e2=!![];_0xbf98c3[_0x3a3356(0x2e9)][_0x3a3356(0x1e9)](_0x3a8edf=>{const _0x4d5e06=_0x3a3356;if(_0x3a8edf[_0x4d5e06(0x2db)]!=0x0)_0x1102e2=![];}),_0x1102e2&&(_0x2efcc7=_0x2efcc7[_0x3a3356(0x1bb)](_0x4268e4=>{const _0x296006=_0x3a3356;return _0x4268e4[_0x296006(0x305)]!=_0x563de7;}));}let _0x145247=dbConfig[_0x3a3356(0x1dc)](_0x3a3356(0x214))['find']({'botID':botID})['value']();_0x145247&&(dbConfig[_0x3a3356(0x1dc)](_0x3a3356(0x214))[_0x3a3356(0x211)]({'botID':botID})['assign']({'liquidity':_0x2efcc7})[_0x3a3356(0x259)](),config[_0x3a3356(0x1ae)]=_0x2efcc7),logHistory('success',_0x3a3356(0x1f8)+Math[_0x3a3356(0x2dd)](_0x1960cf[0x0]['number'])+'\x20'+_0x1960cf[0x0][_0x3a3356(0x24c)]+'\x20'+(_0x1960cf[0x0][_0x3a3356(0x2db)]>0x0?_0x3a3356(0x1e4):'removed')+_0x3a3356(0x293)),proxyEmit('configuration',emittedConfiguration());}else logger[_0x3a3356(0x31c)]('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0x3a3356(0x2dd)](_0x1960cf[0x0]['number'])+'\x20'+_0x1960cf[0x0][_0x3a3356(0x24c)]+'\x20'+(_0x1960cf[0x0]['number']>0x0?_0x3a3356(0x1e4):'removed'));transactionDetected=!![],currentCoins=_0x3b43a9,currentCoinsAll=_0x58a8f0;}else logger[_0x3a3356(0x31c)]('Portfolio\x20change\x20detected:\x20'+Math[_0x3a3356(0x2dd)](_0x1960cf[0x0][_0x3a3356(0x2db)])+'\x20'+_0x1960cf[0x0][_0x3a3356(0x24c)]+'\x20'+(_0x1960cf[0x0][_0x3a3356(0x2db)]>0x0?_0x3a3356(0x1e4):_0x3a3356(0x308))+_0x3a3356(0x1e7)),currentCoins=_0x3b43a9,currentCoinsAll=_0x58a8f0;}await sleep(watchTransactionsInterval);}catch(_0x25e41b){if(!exchangeStopped)await handleError(_0x25e41b,_0x3a3356(0x258));}else await sleep(0x64);}}async function loadSymbols(){const _0xda8171=_0x44c78f;try{markets=await exchange[_0xda8171(0x2b3)](),allSymbols=[],Object[_0xda8171(0x2c8)](markets)[_0xda8171(0x1e9)](_0x44a211=>{const _0x51440e=_0xda8171;_0x44a211[0x1]['active']&&_0x44a211[0x1][_0x51440e(0x21d)]&&allSymbols[_0x51440e(0x208)](_0x44a211[0x0]);});}catch(_0x35e4c2){throw _0x35e4c2;}}function validateSymbols(_0x467ac9){const _0x3a2839=_0x44c78f;let _0x44b481=[];return _0x467ac9[_0x3a2839(0x1e9)](_0x1b66fa=>{const _0x2f21fe=_0x3a2839;!allSymbols[_0x2f21fe(0x2d2)](_0x1b66fa)?logHistory(_0x2f21fe(0x26f),_0x2f21fe(0x2b2)+_0x1b66fa+_0x2f21fe(0x272)):_0x44b481[_0x2f21fe(0x208)](_0x1b66fa);}),_0x44b481;}async function initclient(){const _0x3505f1=_0x44c78f;proxyEmit(_0x3505f1(0x22c),emittedConfiguration()),proxyEmit(_0x3505f1(0x21f),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3505f1(0x22f),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5982a0=getNormalizedPerformance();emitPerformance(_0x5982a0),getStartingBalances(_0x5982a0);}async function toggleBotMode(){const _0x2c241f=_0x44c78f;let _0x8ee503=dbConfig[_0x2c241f(0x1dc)](_0x2c241f(0x214))[_0x2c241f(0x211)]({'botID':botID})[_0x2c241f(0x1b5)]();if(_0x8ee503){const _0x2038f1=!_0x8ee503[_0x2c241f(0x2c3)];dbConfig[_0x2c241f(0x1dc)](_0x2c241f(0x214))[_0x2c241f(0x211)]({'botID':botID})[_0x2c241f(0x319)]({'headless':_0x2038f1})[_0x2c241f(0x259)](),config[_0x2c241f(0x2c3)]=_0x2038f1,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x2b9e34=>{});}async function loadCoins(_0x3ad6e5){const _0x164dc9=_0x44c78f;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0xd5386b,_0x41ccfe=0x0,_0xe2ce8c=0x0;_0x3ad6e5['forEach'](_0x519a66=>{const _0x4f99d7=_0x26cd;loading[_0x4f99d7(0x1c8)][_0x4f99d7(0x208)](_0x519a66);}),loadingCanceled=![];let _0xb4f67e=![];while(_0xd5386b!=_0x3ad6e5[_0x164dc9(0x242)]+maxLoadingProgress){_0xd5386b=loadingProgress,_0x3ad6e5[_0x164dc9(0x1e9)](_0x51a044=>{const _0x49bdd5=_0x164dc9;if(global['ticker'][noslash(_0x51a044)]){loading[_0x49bdd5(0x1c8)]=loading[_0x49bdd5(0x1c8)]['filter'](_0x39284b=>_0x39284b!=_0x51a044);if(!watchedSymbols[_0x49bdd5(0x2d2)](_0x51a044))watchedSymbols['push'](_0x51a044);_0xd5386b++;}}),loading[_0x164dc9(0x337)]=Math[_0x164dc9(0x1f4)](_0xd5386b/(_0x3ad6e5[_0x164dc9(0x242)]+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0xe2ce8c>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0xe2ce8c>0x78*0x5&&!_0xb4f67e&&(loading[_0x164dc9(0x1af)]=!![],emitLoadingProgress(),_0xb4f67e=!![],logHistory(_0x164dc9(0x26f),_0x164dc9(0x2d6)+loading[_0x164dc9(0x1c8)][_0x164dc9(0x2c5)](',\x20')+_0x164dc9(0x2b9)),logHistory('error',_0x164dc9(0x235)+loadCoinsRetryInterval/0xea60+_0x164dc9(0x207)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x412516=_0x164dc9;process[_0x412516(0x1dd)]({'stop':_0x412516(0x19f)},_0x396651=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x164dc9(0x1af)]=!![],emitLoadingProgress();break;}else _0x41ccfe!=loading[_0x164dc9(0x337)]&&(_0x41ccfe=loading['progress'],emitLoadingProgress()),_0xe2ce8c++,await sleep(0xc8);}_0xd5386b==_0x3ad6e5[_0x164dc9(0x242)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x164dc9(0x240),'live':_0x164dc9(0x286)},_0x14469b=>{}),_0xb4f67e&&logHistory('success',_0x164dc9(0x307)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x20440a=_0x44c78f;proxyEmit(_0x20440a(0x22c),{...emittedConfiguration(),'configstate':_0x20440a(0x218)});}function emitLoadingProgress(){const _0x3edb3a=_0x44c78f;proxyEmit(_0x3edb3a(0x2fa),loading);}async function getFiat(){const _0x1decff=_0x44c78f;let _0x28ef81=global[_0x1decff(0x252)][stablecoins[_0x1decff(0x1bc)][_0x1decff(0x24c)]],_0xaad51f=global[_0x1decff(0x252)][stablecoins[_0x1decff(0x1bd)][_0x1decff(0x24c)]];return{'eur':Number(_0x28ef81),'usd':Number(_0xaad51f)};}function capitalize(_0x2b4ab6){const _0x4aa898=_0x44c78f;return _0x2b4ab6[_0x4aa898(0x273)](0x0,0x1)[_0x4aa898(0x31b)]()+_0x2b4ab6[_0x4aa898(0x273)](0x1);}function supportedExchanges(){const _0x71a2fb=_0x44c78f,_0x5e9e3c=['ws','fetchTickers',_0x71a2fb(0x2fc),_0x71a2fb(0x206),_0x71a2fb(0x289),'cancelOrder',_0x71a2fb(0x23d),_0x71a2fb(0x25f),_0x71a2fb(0x19e),_0x71a2fb(0x2d7)];let _0x218ede=[],_0x3a80f8=[],_0x4f2aec=ccxt['pro']['exchanges'];_0x4f2aec[_0x71a2fb(0x1e9)](_0x1364cc=>{const _0x441db0=_0x71a2fb;try{const _0x33f21c=new ccxt['pro'][_0x1364cc]();_0x3a80f8[_0x441db0(0x208)](_0x33f21c);}catch(_0x486029){}}),_0x3a80f8[_0x71a2fb(0x1e9)](_0x17e57e=>{const _0x2a5dca=_0x71a2fb;let _0x29459b=0x0;_0x5e9e3c[_0x2a5dca(0x1e9)](_0x14cbde=>{const _0x4a8fd2=_0x2a5dca;_0x14cbde in _0x17e57e[_0x4a8fd2(0x26b)]&&_0x17e57e['has'][_0x14cbde]&&_0x29459b++;}),_0x29459b==_0x5e9e3c['length']&&_0x218ede[_0x2a5dca(0x208)](capitalize(_0x17e57e['id']));});let _0x176285=[];return _0x4f2aec[_0x71a2fb(0x1e9)](_0x3fd427=>{const _0x59215b=_0x71a2fb;_0x3fd427=capitalize(_0x3fd427);if(!_0x218ede[_0x59215b(0x2d2)](_0x3fd427))_0x176285[_0x59215b(0x208)](_0x3fd427);}),_0x218ede;}function setStartDatePerformance(){const _0x7773a5=_0x44c78f;if(config&&config['liquidity'][0x0][_0x7773a5(0x2e9)][_0x7773a5(0x242)]!=0x0){const _0x44d5c4=config['liquidity'][0x0][_0x7773a5(0x2e9)];dbPerformance[_0x7773a5(0x1dc)](_0x7773a5(0x250))[_0x7773a5(0x211)]({'date':config[_0x7773a5(0x19a)]})[_0x7773a5(0x319)]({'coins':_0x44d5c4})[_0x7773a5(0x259)]();}}async function recreateCoinResults(){const _0x5600ce=_0x44c78f;let _0x4a2489,_0x1cbfef=[];try{const _0x23b6e9=fns[_0x5600ce(0x295)](fns['parseISO'](config[_0x5600ce(0x19a)][_0x5600ce(0x20d)](/\//g,'-')),_0x5600ce(0x291));for(const _0x1a5744 of currentCoins){if(_0x1a5744[_0x5600ce(0x24c)]!=config[_0x5600ce(0x2f0)]){let _0x232566=0x0,_0x8d575d,_0x5e773c;_0x4a2489=await getAllEventOrders(_0x1a5744[_0x5600ce(0x2ce)]);if(_0x4a2489[_0x5600ce(0x242)]>0x0)_0x4a2489[_0x5600ce(0x1e9)](_0x3c5105=>{const _0x37cfce=_0x5600ce,_0x2a8c37=_0x1a5744['symbol'][_0x37cfce(0x2d2)](config[_0x37cfce(0x2f0)]+'/');_0x1cbfef[_0x37cfce(0x208)]({'datetime':_0x3c5105[_0x37cfce(0x263)],'coin':_0x1a5744['coin'],'symbol':_0x1a5744['symbol'],'side':_0x3c5105[_0x37cfce(0x217)],'reverse':_0x2a8c37,'amount':formatResult(_0x3c5105[_0x37cfce(0x324)],0x8),'filled':formatResult(_0x3c5105[_0x37cfce(0x324)],0x8),'price':formatResult(_0x3c5105[_0x37cfce(0x2ae)],0x8)}),_0x232566=_0x3c5105[_0x37cfce(0x217)]==_0x37cfce(0x227)?_0x232566+_0x3c5105['filled']:_0x232566-_0x3c5105[_0x37cfce(0x324)];if(!_0x5e773c)_0x5e773c=_0x3c5105['price'];});_0x8d575d=_0x1a5744[_0x5600ce(0x2db)]-_0x232566;let _0x17df6c;config[_0x5600ce(0x1ae)][_0x5600ce(0x1e9)](_0x5cef3c=>{const _0x4491a4=_0x5600ce;!_0x17df6c&&(_0x17df6c=_0x5cef3c[_0x4491a4(0x2e9)][_0x4491a4(0x211)](_0xade24c=>_0xade24c[_0x4491a4(0x24c)]==_0x1a5744['coin']),_0x17df6c&&(_0x8d575d=_0x17df6c['number'],_0x5e773c=_0x17df6c[_0x4491a4(0x2ae)]));});let _0x4dda97=dbCoinResults[_0x5600ce(0x1dc)](_0x5600ce(0x1d0))[_0x5600ce(0x211)]({'coin':_0x1a5744[_0x5600ce(0x24c)]})['value']();_0x4dda97={'coin':_0x1a5744['coin'],'number':_0x8d575d,'breakeven':_0x5e773c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x5600ce(0x1d0))[_0x5600ce(0x211)]({'coin':_0x1a5744[_0x5600ce(0x24c)]})['assign'](_0x4dda97)['write']();}}_0x1cbfef[_0x5600ce(0x2f2)]((_0x1a37da,_0x7f42c6)=>_0x1a37da[_0x5600ce(0x263)]>_0x7f42c6[_0x5600ce(0x263)]?0x1:_0x7f42c6[_0x5600ce(0x263)]>_0x1a37da['datetime']?-0x1:0x0);let _0x55d428=0x0;for(let _0x3022f6 of _0x1cbfef){await updateCoinResults(_0x3022f6,!![]);}}catch(_0x393709){await handleError(_0x393709,_0x5600ce(0x246));}}async function getAllEventOrders(_0xe7c2a){const _0xf526e3=_0x44c78f;let _0x1dfb01=[],_0x520c78=dbLogs[_0xf526e3(0x1dc)](_0xf526e3(0x298))[_0xf526e3(0x1bb)](_0x4219af=>{const _0x1e2b1b=_0xf526e3,_0x51b4b8=_0x4219af[_0x1e2b1b(0x222)]['toLowerCase']();return _0x51b4b8[_0x1e2b1b(0x2d2)](_0xe7c2a[_0x1e2b1b(0x266)]())&&(_0x51b4b8['includes']('market')&&_0x51b4b8['includes'](_0x1e2b1b(0x27a))||_0x51b4b8[_0x1e2b1b(0x2d2)](_0x1e2b1b(0x324))&&_0x51b4b8[_0x1e2b1b(0x2d2)]('order'));})[_0xf526e3(0x1a3)]('time')['value']();return _0x520c78[_0xf526e3(0x1e9)](_0x58b27f=>{const _0x1c99f5=_0xf526e3,_0x393dcb=_0x58b27f[_0x1c99f5(0x222)][_0x1c99f5(0x2d2)](_0x1c99f5(0x333))?_0x1c99f5(0x333):_0x1c99f5(0x227),_0x24a3c1=/#([0-9]|\.)+\s/i,_0x48f009=Number(_0x24a3c1['exec'](_0x58b27f[_0x1c99f5(0x222)])[0x0]['slice'](0x1)),_0x5b58af=/@([0-9]|\.)+$/i,_0x1719e3=Number(_0x5b58af[_0x1c99f5(0x290)](_0x58b27f[_0x1c99f5(0x222)])[0x0]['slice'](0x1));_0x1dfb01['push']({'datetime':_0x58b27f['time'],'coin':symbolToCoin(_0xe7c2a),'symbol':_0xe7c2a,'side':_0x393dcb,'amount':_0x48f009,'filled':_0x48f009,'price':_0x1719e3});}),_0x1dfb01;}async function getAllOrders(_0x2bf3b8,_0x3361ee){const _0x46b2cb=_0x44c78f;let _0x2fcd22=[];while(_0x3361ee<exchange[_0x46b2cb(0x1fc)]()){const _0x5c22f7=0x1f4;try{const _0x2fc42d=await exchange[_0x46b2cb(0x19e)](_0x2bf3b8,_0x3361ee,_0x5c22f7);if(_0x2fc42d['length'])_0x3361ee=_0x2fc42d[_0x2fc42d[_0x46b2cb(0x242)]-0x1][_0x46b2cb(0x247)]+0x1,_0x2fcd22=_0x2fcd22[_0x46b2cb(0x27e)](_0x2fc42d);else break;}catch(_0x3ab9e7){await handleError(_0x3ab9e7,_0x46b2cb(0x1fd),_0x2bf3b8);}}return _0x2fcd22;}async function validate24hChanges(){const _0x29d355=_0x44c78f;for(const _0x4ed7c1 of currentCoins){if(_0x4ed7c1['coin']!=config[_0x29d355(0x2f0)]){let _0x1995cd;_0x4ed7c1[_0x29d355(0x24e)]?_0x1995cd=formatResult((0x1/(global[_0x29d355(0x32c)][noslash(_0x4ed7c1[_0x29d355(0x2ce)])]/0x64+0x1)-0x1)*0x64,0x3):_0x1995cd=global[_0x29d355(0x32c)][noslash(_0x4ed7c1[_0x29d355(0x2ce)])],_0x1995cd<config[_0x29d355(0x29c)]&&(logHistory(_0x29d355(0x26f),_0x4ed7c1['coin']+_0x29d355(0x314)+_0x1995cd+'%'),logHistory(_0x29d355(0x26f),_0x29d355(0x243)),logHistory(_0x29d355(0x26f),_0x29d355(0x2a2)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x52dde4,_0x3c9fe7){const _0x35adad=_0x44c78f;if(!_0x52dde4)return!![];const _0x1136d1=_0x3c9fe7['split']('.'),_0x4c182c=_0x52dde4['split']('.');for(var _0x38ec0b=0x0;_0x38ec0b<_0x4c182c[_0x35adad(0x242)];_0x38ec0b++){const _0x55c94b=~~_0x4c182c[_0x38ec0b],_0x180cbe=~~_0x1136d1[_0x38ec0b];if(_0x55c94b<_0x180cbe)return!![];if(_0x55c94b>_0x180cbe)return![];}return![];}async function oneTimeMigration(){const _0x5e8fc2=_0x44c78f;let _0x37197b=dbLogs['get'](_0x5e8fc2(0x199))[_0x5e8fc2(0x1b5)]();if(isOlderVersion(_0x37197b,_0x5e8fc2(0x219))){let _0x3c6229=[];const _0x43b7a1=dbLogs[_0x5e8fc2(0x1dc)](_0x5e8fc2(0x298))[_0x5e8fc2(0x1b5)]();_0x43b7a1[_0x5e8fc2(0x1e9)](_0x372f9c=>{const _0xf63276=_0x5e8fc2;_0x3c6229[_0xf63276(0x208)]({'time':_0x372f9c[_0xf63276(0x276)],'type':_0x372f9c['type'],'event':_0x372f9c[_0xf63276(0x222)]});}),dbLogs['get'](_0x5e8fc2(0x298))[_0x5e8fc2(0x319)](_0x3c6229)[_0x5e8fc2(0x259)]();}let _0x4be312=dbConfig[_0x5e8fc2(0x1dc)](_0x5e8fc2(0x199))['value']();if(isOlderVersion(_0x4be312,'2.3.5')){let _0x155320=dbConfig[_0x5e8fc2(0x1dc)](_0x5e8fc2(0x214))[_0x5e8fc2(0x211)]({'botID':botID})[_0x5e8fc2(0x1b5)]();if(_0x155320){let _0x1d7a83=[];_0x155320['portfolio'][_0x5e8fc2(0x1e9)](_0x2b5622=>{const _0x4cd672=_0x5e8fc2;_0x1d7a83[_0x4cd672(0x208)]({'coin':_0x2b5622[_0x4cd672(0x24c)],'number':_0x2b5622[_0x4cd672(0x321)],'price':_0x2b5622[_0x4cd672(0x215)]}),delete _0x2b5622['startnumber'],delete _0x2b5622[_0x4cd672(0x215)];});if(_0x1d7a83[_0x5e8fc2(0x242)]!==0x0)fs[_0x5e8fc2(0x220)](configbackuppath+(_0x5e8fc2(0x237)+botID+'.json'),JSON['stringify'](_0x1d7a83,null,0x4),function(_0x46b36e){if(_0x46b36e){}});const _0xff7b6e=(_0xfa60cb,_0x378ef5)=>{let _0x597f38=[];_0x378ef5['forEach'](_0x155a05=>{const _0x3be691=_0x26cd,_0x413305=_0xfa60cb[_0x3be691(0x211)](_0xae79c0=>_0xae79c0[_0x3be691(0x24c)]==_0x155a05[_0x3be691(0x24c)]);if(!_0x413305)_0x597f38[_0x3be691(0x208)](_0x155a05);});let _0x24b3fe=[];return _0xfa60cb['forEach'](_0x308986=>{const _0x13411a=_0x26cd,_0x3342b9=_0x378ef5['find'](_0x3c0617=>_0x3c0617[_0x13411a(0x24c)]==_0x308986[_0x13411a(0x24c)]);if(!_0x3342b9||_0x3342b9[_0x13411a(0x2db)]==0x0&&_0x308986['number']!=0x0)_0x24b3fe['push'](_0x308986);}),{'missingDay1':_0x597f38,'notInDay2':_0x24b3fe};},_0x10cff3=dbPerformance['get'](_0x5e8fc2(0x250))[_0x5e8fc2(0x2de)]()['value']();if(_0x10cff3[_0x5e8fc2(0x242)]>0x1){const {missingDay1:_0x5405c0,notInDay2:_0x43ea2f}=_0xff7b6e(_0x1d7a83,_0x10cff3[0x1][_0x5e8fc2(0x1d0)]);_0x1d7a83=[..._0x1d7a83,..._0x5405c0],_0x43ea2f[_0x5e8fc2(0x1e9)](_0xc652da=>{const _0x400d98=_0x5e8fc2;let _0x1e8115=_0x1d7a83[_0x400d98(0x1db)](_0x1784bc=>_0x1784bc['coin']==_0xc652da[_0x400d98(0x24c)]);_0x1e8115!=-0x1&&_0x1d7a83[_0x400d98(0x28f)](_0x1e8115,0x1);});}_0x1d7a83[_0x5e8fc2(0x2f2)]((_0x326683,_0x416568)=>_0x326683[_0x5e8fc2(0x24c)]>_0x416568['coin']?0x1:_0x416568[_0x5e8fc2(0x24c)]>_0x326683[_0x5e8fc2(0x24c)]?-0x1:0x0);let _0x58fe93=[{'date':_0x155320['startdate'],'changes':_0x1d7a83}];_0x10cff3['length']>0x2&&_0x10cff3[_0x5e8fc2(0x1e9)]((_0x1b39e0,_0x363ff2)=>{const _0x50d5af=_0x5e8fc2;if(_0x363ff2>0x0&&_0x363ff2<_0x10cff3[_0x50d5af(0x242)]-0x1){const {missingDay1:_0x2937ac,notInDay2:_0x333f3b}=_0xff7b6e(_0x10cff3[_0x363ff2]['coins'],_0x10cff3[_0x363ff2+0x1][_0x50d5af(0x1d0)]);_0x1d7a83=[],(_0x2937ac[_0x50d5af(0x242)]!=0x0||_0x333f3b['length']!=0x0)&&(_0x2937ac['length']!=0x0&&_0x1d7a83['push'](..._0x2937ac),_0x333f3b[_0x50d5af(0x242)]!=0x0&&(_0x333f3b['forEach'](_0xb454c8=>{const _0x4758b1=_0x50d5af;_0xb454c8[_0x4758b1(0x2db)]=-_0xb454c8['number'];}),_0x1d7a83['push'](..._0x333f3b)),_0x1d7a83['sort']((_0x976b0d,_0x331264)=>_0x976b0d[_0x50d5af(0x24c)]>_0x331264['coin']?0x1:_0x331264['coin']>_0x976b0d[_0x50d5af(0x24c)]?-0x1:0x0),_0x58fe93[_0x50d5af(0x208)]({'date':_0x10cff3[_0x363ff2+0x1][_0x50d5af(0x305)],'changes':_0x1d7a83}));}}),dbConfig[_0x5e8fc2(0x1dc)](_0x5e8fc2(0x214))[_0x5e8fc2(0x211)]({'botID':botID})['assign']({..._0x155320,'liquidity':_0x58fe93})['write']();}}if(isOlderVersion(_0x4be312,_0x5e8fc2(0x33b))){let _0x31aebf=dbConfig['get'](_0x5e8fc2(0x214))[_0x5e8fc2(0x211)]({'botID':botID})['value']();if(_0x31aebf){const _0x591cd8=_0x31aebf[_0x5e8fc2(0x27b)],_0x22c61c=_0x591cd8?capitalize(_0x591cd8):_0x5e8fc2(0x31f);dbConfig[_0x5e8fc2(0x1dc)]('bot')['find']({'botID':botID})[_0x5e8fc2(0x319)]({'exchange':_0x22c61c})[_0x5e8fc2(0x259)]();}}let _0x41c814=dbPerformance[_0x5e8fc2(0x1dc)](_0x5e8fc2(0x199))['value']();isOlderVersion(_0x41c814,_0x5e8fc2(0x219))&&setStartDatePerformance();let _0x369395=dbCoinResults[_0x5e8fc2(0x1dc)](_0x5e8fc2(0x199))['value']();if(isOlderVersion(_0x369395,_0x5e8fc2(0x2ef))){let _0x557b1d=dbCoinResults[_0x5e8fc2(0x1dc)](_0x5e8fc2(0x1d0))[_0x5e8fc2(0x1b5)]();if(_0x557b1d[_0x5e8fc2(0x242)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x130f3f=_0x44c78f;dbConfig[_0x130f3f(0x2a0)](_0x130f3f(0x199),serverversion)[_0x130f3f(0x259)](),dbPerformance[_0x130f3f(0x2a0)](_0x130f3f(0x199),serverversion)[_0x130f3f(0x259)](),dbLogs[_0x130f3f(0x2a0)](_0x130f3f(0x199),serverversion)[_0x130f3f(0x259)](),dbCoinResults[_0x130f3f(0x2a0)]('version',serverversion)[_0x130f3f(0x259)]();}function getConfiguration(_0xc40d94){const _0x434bd6=_0x44c78f;let _0x40f63f=dbConfig[_0x434bd6(0x1dc)](_0x434bd6(0x214))['find']({'botID':_0xc40d94})['value']();if(_0x40f63f){let _0x5afa78=![];typeof _0x40f63f[_0x434bd6(0x302)]==_0x434bd6(0x257)&&(_0x40f63f={..._0x40f63f,'threshold':Number(_0x40f63f[_0x434bd6(0x302)])},_0x5afa78=!![]),_0x40f63f[_0x434bd6(0x29c)]==undefined&&(_0x40f63f={..._0x40f63f,'change24h':-0x14},_0x5afa78=!![]),_0x40f63f['fiat']==undefined&&(_0x40f63f={..._0x40f63f,'fiat':_0x434bd6(0x335)},_0x5afa78=!![]),_0x40f63f[_0x434bd6(0x2f9)]==undefined&&(_0x40f63f={..._0x40f63f,'onepagemode':settings[_0x434bd6(0x2f9)]},_0x5afa78=!![]),_0x40f63f[_0x434bd6(0x2fd)]==undefined&&(_0x40f63f={..._0x40f63f,'colorscheme':_0x434bd6(0x249)},_0x5afa78=!![]),_0x40f63f['autoliquidity']==undefined&&(_0x40f63f={..._0x40f63f,'autoliquidity':!![]},_0x5afa78=!![]),_0x5afa78&&(_0x40f63f={'botID':_0x40f63f[_0x434bd6(0x25e)],'exchange':_0x40f63f[_0x434bd6(0x27b)],'apiKey':_0x40f63f[_0x434bd6(0x200)],'apiSecret':_0x40f63f[_0x434bd6(0x2b5)],'apiPassword':_0x40f63f[_0x434bd6(0x2f5)],'basecoin':_0x40f63f[_0x434bd6(0x2f0)],'botname':_0x40f63f[_0x434bd6(0x1d2)],'showname':_0x40f63f[_0x434bd6(0x31a)],'threshold':_0x40f63f[_0x434bd6(0x302)],'ordertype':_0x40f63f['ordertype'],'timeout':_0x40f63f[_0x434bd6(0x239)],'fiat':_0x40f63f[_0x434bd6(0x30c)],'startdate':_0x40f63f[_0x434bd6(0x19a)],'recreate':_0x40f63f[_0x434bd6(0x2e5)],'timeshift':_0x40f63f[_0x434bd6(0x24d)],'onepagemode':_0x40f63f['onepagemode'],'headless':_0x40f63f[_0x434bd6(0x2c3)],'cooldown':_0x40f63f[_0x434bd6(0x2cf)],'change24h':_0x40f63f['change24h'],'emojibuy':_0x40f63f[_0x434bd6(0x226)],'emojisell':_0x40f63f[_0x434bd6(0x203)],'colorscheme':_0x40f63f[_0x434bd6(0x2fd)],'portfolio':_0x40f63f[_0x434bd6(0x22b)],'autoliquidity':_0x40f63f['autoliquidity'],'liquidity':_0x40f63f[_0x434bd6(0x1ae)],'openOrders':_0x40f63f['openOrders']},dbConfig[_0x434bd6(0x1dc)](_0x434bd6(0x214))[_0x434bd6(0x201)]()[_0x434bd6(0x259)](),dbConfig[_0x434bd6(0x1dc)](_0x434bd6(0x214))[_0x434bd6(0x208)](_0x40f63f)[_0x434bd6(0x259)]());}else _0x40f63f={'botID':_0xc40d94,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0xc40d94,'showname':![],'threshold':0x3,'ordertype':_0x434bd6(0x275),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x434bd6(0x24d)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x434bd6(0x249),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x40f63f;}function emittedConfiguration(){const _0x58e4ac=_0x44c78f;let _0x292c1f;if(config[_0x58e4ac(0x200)]=='')_0x292c1f={...config,'configstate':_0x58e4ac(0x19c)};else config[_0x58e4ac(0x200)]==_0x58e4ac(0x25b)?_0x292c1f={...config,'configstate':_0x58e4ac(0x1b9)}:(_0x292c1f={...config,'apiKey':_0x58e4ac(0x30d),'apiSecret':_0x58e4ac(0x30d)},config['apiPassword']&&(_0x292c1f['apiPassword']=_0x58e4ac(0x30d)));return _0x292c1f;}function getSettings(){const _0x52403e=_0x44c78f;return dbSettings[_0x52403e(0x1dc)](_0x52403e(0x327))['value']();}function getSecure(){const _0x2a3ee8=_0x44c78f;return dbSecure[_0x2a3ee8(0x1dc)]('secure')[_0x2a3ee8(0x1b5)]()||{};}function updateTimeshift(_0x40d867){const _0x4c1ee6=_0x44c78f;let _0x534181=dbConfig[_0x4c1ee6(0x1dc)](_0x4c1ee6(0x214))[_0x4c1ee6(0x211)]({'botID':botID})['value']();_0x534181&&dbConfig[_0x4c1ee6(0x1dc)](_0x4c1ee6(0x214))[_0x4c1ee6(0x211)]({'botID':botID})[_0x4c1ee6(0x319)]({'timeshift':_0x40d867})[_0x4c1ee6(0x259)](),config['timeshift']=_0x40d867,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x34a41d){const _0x4948c0=_0x44c78f;let _0x25bbb5=dbConfig[_0x4948c0(0x1dc)](_0x4948c0(0x214))[_0x4948c0(0x211)]({'botID':botID})['value']();_0x25bbb5&&dbConfig[_0x4948c0(0x1dc)]('bot')[_0x4948c0(0x211)]({'botID':botID})[_0x4948c0(0x319)]({'onepagemode':_0x34a41d})[_0x4948c0(0x259)](),config[_0x4948c0(0x2f9)]=_0x34a41d,proxyEmit(_0x4948c0(0x22c),emittedConfiguration());}async function storeConfiguration(_0x16a63a){const _0x1b4795=_0x44c78f;logger[_0x1b4795(0x31c)](_0x1b4795(0x1a2));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x1b4795(0x31c)](_0x1b4795(0x330));let _0x2c5413=[],_0x2098f0=![],_0x3f18d8=![],_0x5857c8=[];_0x16a63a[_0x1b4795(0x22b)][_0x1b4795(0x1e9)](_0x498400=>{const _0x3f61f2=_0x1b4795;if(!_0x498400[_0x3f61f2(0x2d3)]&&_0x498400[_0x3f61f2(0x24c)]!=_0x16a63a['basecoin'])_0x5857c8[_0x3f61f2(0x208)](_0x498400[_0x3f61f2(0x2ce)]);}),_0x5857c8[_0x1b4795(0x1e9)](_0xc5d19c=>{const _0x1c8380=_0x1b4795,_0x266af2=watchedSymbols[_0x1c8380(0x2d2)](_0xc5d19c);!_0x266af2&&_0x2c5413['push'](_0xc5d19c);}),_0x5857c8[_0x1b4795(0x1e9)](_0x5751b4=>{const _0x2d67c0=_0x1b4795,_0x30d0b9=currentCoins[_0x2d67c0(0x211)](_0x3ef3c4=>_0x3ef3c4[_0x2d67c0(0x2ce)]==_0x5751b4);!_0x30d0b9&&(_0x2098f0=!![]);}),currentCoins[_0x1b4795(0x1e9)](_0x11806a=>{const _0xfbe1e2=_0x1b4795;if(_0x11806a[_0xfbe1e2(0x24c)]!=config[_0xfbe1e2(0x2f0)]){const _0xdb8dc9=_0x5857c8[_0xfbe1e2(0x211)](_0x27596a=>_0x27596a==_0x11806a[_0xfbe1e2(0x2ce)]);!_0xdb8dc9&&(_0x2098f0=!![]);}}),_0x16a63a[_0x1b4795(0x22b)]['forEach'](_0x5f0733=>{const _0x83c7d8=_0x1b4795,_0x47eddc=config['portfolio'][_0x83c7d8(0x211)](_0x2f72e2=>_0x2f72e2[_0x83c7d8(0x24c)]==_0x5f0733[_0x83c7d8(0x24c)]);if(_0x47eddc&&_0x5f0733['offset']!=_0x47eddc['offset'])_0x3f18d8=!![];});let _0x2223ca=dbConfig['get'](_0x1b4795(0x214))[_0x1b4795(0x211)]({'botID':botID})[_0x1b4795(0x1b5)]();_0x16a63a={..._0x16a63a,'apiKey':crypt['decrypt'](secure[_0x1b4795(0x20a)],_0x16a63a[_0x1b4795(0x200)])['message'],'apiSecret':crypt[_0x1b4795(0x1cf)](secure[_0x1b4795(0x20a)],_0x16a63a['apiSecret'])['message']};_0x16a63a[_0x1b4795(0x2f5)]&&(_0x16a63a['apiPassword']=crypt[_0x1b4795(0x1cf)](secure[_0x1b4795(0x20a)],_0x16a63a[_0x1b4795(0x2f5)])[_0x1b4795(0x2c0)]);let _0x1f15db=![];if(_0x2223ca){_0x16a63a['apiKey']==_0x1b4795(0x30d)?_0x16a63a[_0x1b4795(0x200)]=config[_0x1b4795(0x200)]:_0x1f15db=!![];_0x16a63a['apiSecret']==_0x1b4795(0x30d)?_0x16a63a[_0x1b4795(0x2b5)]=config['apiSecret']:_0x1f15db=!![];if(_0x16a63a[_0x1b4795(0x2f5)]=='************')_0x16a63a[_0x1b4795(0x2f5)]=config['apiPassword'];else{if(_0x16a63a[_0x1b4795(0x2f5)])_0x1f15db=!![];}dbConfig['get']('bot')['find']({'botID':botID})[_0x1b4795(0x319)](_0x16a63a)[_0x1b4795(0x259)]();}else dbConfig[_0x1b4795(0x1dc)](_0x1b4795(0x214))[_0x1b4795(0x208)](_0x16a63a)[_0x1b4795(0x259)](),_0x1f15db=!![],process['send']({'status':'enabled','live':'running'},_0x4ba2a1=>{});process[_0x1b4795(0x1dd)]({'botname':_0x16a63a[_0x1b4795(0x1d2)]},_0x53f056=>{}),updateBotManager(),config={..._0x16a63a},proxyEmit(_0x1b4795(0x2e7)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x1f15db)await reset(_0x2c5413,!![]);else _0x2098f0||_0x3f18d8?await reset(_0x2c5413,![]):getBalances();blockTransactionDetection=![],logger[_0x1b4795(0x31c)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x523fab){const _0x19a36f=_0x44c78f,_0x3348e2={...config,'headless':_0x523fab[_0x19a36f(0x2c3)]};let _0x2891fd=dbConfig[_0x19a36f(0x1dc)](_0x19a36f(0x214))[_0x19a36f(0x211)]({'botID':botID})[_0x19a36f(0x1b5)]();_0x2891fd&&dbConfig[_0x19a36f(0x1dc)](_0x19a36f(0x214))[_0x19a36f(0x211)]({'botID':botID})[_0x19a36f(0x319)](_0x3348e2)[_0x19a36f(0x259)](),config={..._0x3348e2},updateBotManager(),proxyEmit(_0x19a36f(0x22c),emittedConfiguration());}async function storeFiat(_0x516bc2){const _0x467ddf=_0x44c78f,_0x24c662={...config,'fiat':_0x516bc2};let _0xfb48d2=dbConfig[_0x467ddf(0x1dc)](_0x467ddf(0x214))[_0x467ddf(0x211)]({'botID':botID})[_0x467ddf(0x1b5)]();_0xfb48d2&&dbConfig[_0x467ddf(0x1dc)](_0x467ddf(0x214))['find']({'botID':botID})[_0x467ddf(0x319)](_0x24c662)[_0x467ddf(0x259)](),config={..._0x24c662},proxyEmit(_0x467ddf(0x22c),emittedConfiguration());}function resetHistory(){const _0x4502ca=_0x44c78f;logger['full'](_0x4502ca(0x284));try{if(fs[_0x4502ca(0x1d3)](path['join'](configpath,_0x4502ca(0x325)+botID+_0x4502ca(0x2be))))fs[_0x4502ca(0x23c)](path[_0x4502ca(0x2c5)](configpath,_0x4502ca(0x325)+botID+_0x4502ca(0x2be)));if(fs[_0x4502ca(0x1d3)](path[_0x4502ca(0x2c5)](configpath,_0x4502ca(0x325)+botID+_0x4502ca(0x2d5))))fs[_0x4502ca(0x23c)](path[_0x4502ca(0x2c5)](configpath,_0x4502ca(0x325)+botID+_0x4502ca(0x2d5)));if(fs[_0x4502ca(0x1d3)](path[_0x4502ca(0x2c5)](configpath,_0x4502ca(0x325)+botID+'-results.json')))fs[_0x4502ca(0x23c)](path['join'](configpath,'bot-'+botID+_0x4502ca(0x1c4)));}catch(_0x4b8574){if(_0x4b8574)logger[_0x4502ca(0x28a)](_0x4502ca(0x20e),_0x4b8574);}const _0x2771aa=getDate();let _0x571f19=[];currentCoins[_0x4502ca(0x1e9)](_0x1e46fe=>{const _0x3cfc76=_0x4502ca;_0x571f19[_0x3cfc76(0x208)]({'coin':_0x1e46fe['coin'],'number':_0x1e46fe['number'],'price':_0x1e46fe[_0x3cfc76(0x32e)]});});let _0x43fad5=dbConfig['get'](_0x4502ca(0x214))[_0x4502ca(0x211)]({'botID':botID})[_0x4502ca(0x1b5)]();_0x43fad5&&(dbConfig[_0x4502ca(0x1dc)](_0x4502ca(0x214))['find']({'botID':botID})[_0x4502ca(0x319)]({'liquidity':[{'date':_0x2771aa,'changes':_0x571f19}]})[_0x4502ca(0x259)](),config['liquidity']=[]),process[_0x4502ca(0x1dd)]({'stop':'restart'},_0x47748c=>{});}function noslash(_0x30b24c){const _0x30e996=_0x44c78f;return _0x30b24c[_0x30e996(0x20d)]('/','');}function updateHighestFee(_0x4395e2){const _0x48741c=_0x44c78f;if(_0x4395e2[_0x48741c(0x24e)]){let _0x1f7ba6={'filled':_0x4395e2[_0x48741c(0x324)]*_0x4395e2[_0x48741c(0x2ae)],'amount':_0x4395e2[_0x48741c(0x324)]*_0x4395e2['price'],'side':_0x4395e2[_0x48741c(0x217)]==_0x48741c(0x333)?_0x48741c(0x227):_0x48741c(0x333),'price':0x1/_0x4395e2[_0x48741c(0x2ae)]};_0x4395e2={..._0x4395e2,..._0x1f7ba6};}const _0x41c883=defaultFee*_0x4395e2['filled']*_0x4395e2[_0x48741c(0x2ae)];lastFees['recent20'][_0x48741c(0x242)]===0x14&&lastFees[_0x48741c(0x27d)]['shift'](),lastFees['recent20'][_0x48741c(0x208)](_0x41c883),lastFees['highest']=Math[_0x48741c(0x1fb)](...lastFees[_0x48741c(0x27d)]);}async function updateNumberCoinsCcxt(_0x416f53){const _0x30bf9d=_0x44c78f;logger[_0x30bf9d(0x31c)]('0\x20-\x20EXECUTION:\x20'+_0x416f53['symbol']+_0x30bf9d(0x2ec)+_0x416f53[_0x30bf9d(0x19d)]+_0x30bf9d(0x2ec)+_0x416f53['id']);let _0x2198b4=_0x416f53[_0x30bf9d(0x19d)],_0x5a7b25=![];currentCoins[_0x30bf9d(0x1e9)](_0x40b264=>{const _0x2c562d=_0x30bf9d;_0x40b264[_0x2c562d(0x2ce)]==_0x416f53[_0x2c562d(0x2ce)]&&(_0x5a7b25=!![]);});if(!_0x5a7b25)return;const _0x1dd762=currentCoins[_0x30bf9d(0x211)](_0x17415f=>_0x17415f[_0x30bf9d(0x2ce)]==_0x416f53[_0x30bf9d(0x2ce)]),_0x296dc4=_0x2a88ff=>{const _0x5c71fb=_0x30bf9d;if(_0x1dd762)_0x1dd762[_0x5c71fb(0x1e2)]=_0x2a88ff;};if(_0x2198b4=='open')_0x296dc4('open');else{if(_0x2198b4==_0x30bf9d(0x2d9)){_0x296dc4(_0x30bf9d(0x2d9));const _0x4ca09e=await getCoins();[currentCoins,currentCoinsAll]=_0x4ca09e,await getOpenOrders(),handleOpenOrders();}else{if(_0x2198b4==_0x30bf9d(0x2df)){logger['debug'](_0x30bf9d(0x1e6)+_0x416f53[_0x30bf9d(0x2ce)]+_0x30bf9d(0x2ec)+_0x416f53[_0x30bf9d(0x324)]+'\x20|\x20'+_0x416f53['id']);let _0x58eb4d=![];if(lastOrders)for(const _0x19e05a of lastOrders){const _0x13d0da=0xc8,_0x10857d=0x1388;let _0x23b70e=0x0;while(!_0x19e05a[_0x30bf9d(0x2a3)]&&_0x23b70e*_0x13d0da<_0x10857d){_0x23b70e++,await sleep(_0x13d0da);}if(_0x23b70e>0x0)logger[_0x30bf9d(0x31c)](_0x30bf9d(0x1d6)+_0x23b70e*_0x13d0da/0x3e8+_0x30bf9d(0x27c));if(_0x19e05a[_0x30bf9d(0x2a3)]==_0x416f53['id']){logger[_0x30bf9d(0x31c)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x416f53['id']),_0x58eb4d=!![];if(_0x19e05a[_0x30bf9d(0x324)]==0x0){logger['debug'](_0x30bf9d(0x198)+_0x416f53['id']);if(_0x416f53[_0x30bf9d(0x278)])_0x19e05a[_0x30bf9d(0x2ae)]=_0x416f53[_0x30bf9d(0x278)];else{if(_0x416f53[_0x30bf9d(0x2ae)])_0x19e05a[_0x30bf9d(0x2ae)]=_0x416f53['price'];else{}}_0x19e05a[_0x30bf9d(0x324)]=_0x416f53['filled'],updateHighestFee(_0x19e05a),_0x296dc4(_0x30bf9d(0x324)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x28ad14=await getCoins();[currentCoins,currentCoinsAll]=_0x28ad14;}_0x19e05a[_0x30bf9d(0x2eb)]={'currency':_0x416f53['fee']?_0x416f53['fee']['currency']:null,'cost':_0x416f53['fee']?_0x416f53[_0x30bf9d(0x2eb)][_0x30bf9d(0x23f)]:0x0},await updateCoinResults(_0x19e05a);}}}if(!_0x58eb4d){logger['debug'](_0x30bf9d(0x31e)+_0x416f53['id']),_0x296dc4('filled');const _0x567cdf=await getCoins();[currentCoins,currentCoinsAll]=_0x567cdf,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1de961=JSON[_0x30bf9d(0x244)](lastBalances['portfolio']);const _0x55f09e=_0x1de961[_0x30bf9d(0x211)](_0x119f2b=>_0x119f2b[_0x30bf9d(0x2ce)]==_0x416f53['symbol']);if(_0x55f09e){if(_0x2198b4==_0x30bf9d(0x1d8))_0x55f09e[_0x30bf9d(0x1e2)]=_0x55f09e[_0x30bf9d(0x1e2)]=='filled'?_0x30bf9d(0x324):'open';else{if(_0x2198b4=='canceled')_0x55f09e[_0x30bf9d(0x1e2)]=_0x55f09e['orderstatus']==_0x30bf9d(0x324)?'filled':_0x30bf9d(0x2d9);else _0x2198b4==_0x30bf9d(0x2df)&&(_0x55f09e['orderstatus']=_0x30bf9d(0x324));}}lastBalances={...lastBalances,'portfolio':JSON[_0x30bf9d(0x28d)](_0x1de961)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x18f9fa=_0x44c78f;await getOpenOrders();let _0x2691d4=![];currentCoins[_0x18f9fa(0x1e9)](_0x50608b=>{const _0x5c3eec=_0x18f9fa;_0x2691d4=allOpenOrders[_0x5c3eec(0x211)](_0x1def65=>_0x1def65[_0x5c3eec(0x2ce)]==_0x50608b['symbol']),_0x50608b[_0x5c3eec(0x1e2)]=_0x2691d4?_0x5c3eec(0x1d8):_0x5c3eec(0x2fb);});}async function getCoins(_0x4d6f09=!![],_0x3dbbe8=config[_0x44c78f(0x2f0)]){const _0x9c990e=_0x44c78f;let _0x4e8ff6,_0x50cfb2=[],_0x486f44=[],_0x420583=[],_0xde6f9e=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x4e8ff6=await exchange[_0x9c990e(0x2d7)](),mybalances=_0x4e8ff6[_0x9c990e(0x28b)];for(const [_0x2c1234,_0x500bf3]of Object[_0x9c990e(0x2c8)](mybalances)){_0xde6f9e[_0x9c990e(0x208)](_0x2c1234);}if(_0x3dbbe8=='')for(const [_0x525a41,_0x3f238d]of Object[_0x9c990e(0x2c8)](mybalances)){_0x3f238d!=0x0&&_0x486f44[_0x9c990e(0x208)]({'coin':_0x525a41});}else{let _0x2d5506=![];for(const [_0x212e29,_0x2685da]of Object[_0x9c990e(0x2c8)](mybalances)){if(_0xde6f9e['includes'](_0x212e29)){const _0x161559=config[_0x9c990e(0x22b)][_0x9c990e(0x211)](_0x45e60a=>_0x45e60a['coin']==_0x212e29),_0xfcc50a=_0x212e29+'/'+_0x3dbbe8,_0x39f684=_0x3dbbe8+'/'+_0x212e29,_0x409b6c=currentCoins[_0x9c990e(0x211)](_0x5d552a=>_0x5d552a[_0x9c990e(0x24c)]==_0x212e29);_0x2d5506=![];if((_0x2685da!=0x0||_0x161559)&&(allSymbols['includes'](_0xfcc50a)||_0x212e29==_0x3dbbe8))_0x212e29!=_0x3dbbe8&&_0x50cfb2[_0x9c990e(0x208)](_0xfcc50a),_0x486f44[_0x9c990e(0x208)]({'coin':_0x212e29,'symbol':_0xfcc50a,'reverse':![],'number':Math[_0x9c990e(0x1fb)](_0x2685da+(_0x161559&&_0x161559['offset']||0x0),0x0),'orderstatus':_0x409b6c?_0x409b6c[_0x9c990e(0x1e2)]:'none'});else(_0x2685da!=0x0||_0x161559)&&allSymbols[_0x9c990e(0x2d2)](_0x39f684)&&(_0x212e29!=_0x3dbbe8&&_0x50cfb2['push'](_0x39f684),_0x486f44[_0x9c990e(0x208)]({'coin':_0x212e29,'symbol':_0x39f684,'reverse':!![],'number':Math[_0x9c990e(0x1fb)](_0x2685da+(_0x161559&&_0x161559['offset']||0x0),0x0),'orderstatus':_0x409b6c?_0x409b6c[_0x9c990e(0x1e2)]:'none'}));}}}}catch(_0x3d3356){if(!_0x4d6f09)handleErrorNoStop(_0x3d3356,_0x9c990e(0x2c1));else await handleError(_0x3d3356,_0x9c990e(0x2c1));}return _0x420583=cloneDeep(_0x486f44),_0x486f44=_0x486f44[_0x9c990e(0x1bb)](_0x351a25=>{const _0x5753fa=_0x9c990e,_0x49c5c8=config[_0x5753fa(0x22b)][_0x5753fa(0x211)](_0x21b394=>_0x21b394[_0x5753fa(0x24c)]==_0x351a25[_0x5753fa(0x24c)]);return _0x49c5c8&&!_0x49c5c8['excluded'];}),[_0x486f44,_0x420583];}async function getCoinNumber(_0x46e49f){const _0x58fa78=_0x44c78f;let _0x352551;try{const _0x4eb0ef=await exchange[_0x58fa78(0x2d7)]();_0x352551=_0x4eb0ef[_0x58fa78(0x28b)][_0x46e49f];}catch(_0x4103de){await handleError(_0x4103de,_0x58fa78(0x2ca));}return _0x352551;}async function getOpenOrders(){const _0x4b9c62=_0x44c78f;let _0x10cc0c;allOpenOrders=[];try{for(const _0x422cff of config[_0x4b9c62(0x22b)]){!_0x422cff[_0x4b9c62(0x2d3)]&&_0x422cff[_0x4b9c62(0x24c)]!=config[_0x4b9c62(0x2f0)]&&(_0x10cc0c=await exchange['fetchOpenOrders'](_0x422cff[_0x4b9c62(0x2ce)]),_0x10cc0c[_0x4b9c62(0x242)]>0x0&&allOpenOrders[_0x4b9c62(0x208)](_0x10cc0c[0x0]));}}catch(_0x7a3cbc){await handleError(_0x7a3cbc,'getOpenOrders()');}}async function handleOpenOrders(_0x3671cf=0x0){const _0x1f9244=_0x44c78f;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x1f9244(0x32d)]&&allOrdersPlaced&&(_0x3671cf==0x0?(logger[_0x1f9244(0x31c)](_0x1f9244(0x26c)),_0x3671cf++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x1f9244(0x31c)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x204857){const _0x3e2b10=_0x44c78f,_0xb01623=ccxt[_0x3e2b10(0x248)][_0x204857[_0x3e2b10(0x27b)]['toLowerCase']()],_0xc704c9=new _0xb01623({'apiKey':_0x204857[_0x3e2b10(0x200)],'secret':_0x204857[_0x3e2b10(0x2b5)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x3e2b10(0x21d)}});if(_0x204857[_0x3e2b10(0x2f5)])_0xc704c9[_0x3e2b10(0x312)]=_0x204857[_0x3e2b10(0x2f5)];try{await _0xc704c9[_0x3e2b10(0x2b3)]();}catch(_0x1ca089){throw _0x1ca089;}}function cloneDeep(_0x58cbae){const _0x140802=_0x44c78f;return JSON[_0x140802(0x244)](JSON[_0x140802(0x28d)](_0x58cbae));}async function getPortfolio(_0x2ffa8b){const _0x29a9fc=_0x44c78f;let _0x38f14a=[],_0x22c8cf=[],_0x340caf=[],_0x26c58c;if(_0x2ffa8b['apiKey']!==_0x29a9fc(0x30d)||_0x2ffa8b[_0x29a9fc(0x2b5)]!==_0x29a9fc(0x30d)||_0x2ffa8b[_0x29a9fc(0x2f5)]&&_0x2ffa8b['apiPassword']!=='************'){if(config[_0x29a9fc(0x27b)]){if(_0x2ffa8b['apiKey']==_0x29a9fc(0x30d))_0x2ffa8b[_0x29a9fc(0x200)]=config[_0x29a9fc(0x200)];if(_0x2ffa8b[_0x29a9fc(0x2b5)]==_0x29a9fc(0x30d))_0x2ffa8b[_0x29a9fc(0x2b5)]=config[_0x29a9fc(0x2b5)];if(_0x2ffa8b[_0x29a9fc(0x2f5)]==_0x29a9fc(0x30d))_0x2ffa8b['apiPassword']=config[_0x29a9fc(0x2f5)];try{await testAPI(_0x2ffa8b);}catch(_0x21a284){if(_0x21a284['toString']()[_0x29a9fc(0x2d2)](_0x29a9fc(0x216))){logger['debug'](_0x29a9fc(0x28e)),proxyEmit(_0x29a9fc(0x22b),![]);return;}else{handleError(_0x21a284,_0x29a9fc(0x2ad));return;}}}await initExchange(_0x2ffa8b[_0x29a9fc(0x27b)],_0x2ffa8b[_0x29a9fc(0x200)],_0x2ffa8b['apiSecret'],_0x2ffa8b[_0x29a9fc(0x2f5)]);try{await loadSymbols();}catch(_0x9c6c41){if(_0x9c6c41[_0x29a9fc(0x2cd)]()[_0x29a9fc(0x2d2)](_0x29a9fc(0x216))){proxyEmit('portfolio',![]);return;}else{handleError(_0x9c6c41,'getPortfolio(1)');return;}}const _0x7c3b8e=await getCoins(![],_0x2ffa8b[_0x29a9fc(0x2f0)]);_0x340caf=cloneDeep(_0x7c3b8e[0x1]);}else _0x340caf=cloneDeep(currentCoinsAll);if(_0x2ffa8b[_0x29a9fc(0x2f0)]=='')proxyEmit(_0x29a9fc(0x22b),_0x340caf);else{_0x340caf['forEach'](_0x26a4ce=>{const _0x2f0fe0=_0x29a9fc;if(_0x26a4ce[_0x2f0fe0(0x24c)]!=_0x2ffa8b[_0x2f0fe0(0x2f0)])_0x38f14a['push'](_0x26a4ce[_0x2f0fe0(0x2ce)]);});if(_0x38f14a[_0x29a9fc(0x242)]==0x0)logHistory('error',_0x29a9fc(0x2ed));else{try{_0x22c8cf=await exchange[_0x29a9fc(0x238)](_0x38f14a);}catch(_0x3ff0b1){if(_0x3ff0b1[_0x29a9fc(0x2cd)]()[_0x29a9fc(0x2d2)]('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x3ff0b1,'getPortfolio(2)');return;}}_0x340caf[_0x29a9fc(0x1e9)](_0x4cb83a=>{const _0x53aec7=_0x29a9fc;_0x4cb83a[_0x53aec7(0x24c)]!=_0x2ffa8b[_0x53aec7(0x2f0)]?_0x26c58c=_0x4cb83a[_0x53aec7(0x24e)]?0x1/_0x22c8cf[_0x4cb83a[_0x53aec7(0x2ce)]][_0x53aec7(0x32e)]:_0x22c8cf[_0x4cb83a[_0x53aec7(0x2ce)]][_0x53aec7(0x32e)]:_0x26c58c=0x1,_0x4cb83a[_0x53aec7(0x2ae)]=formatResult(_0x26c58c,0x8);}),proxyEmit(_0x29a9fc(0x22b),_0x340caf);}}}function truncateTradeAmount(_0x55f47b,_0x4b99db){const _0x32bc7d=_0x44c78f;let _0x3eeafc=0x0;try{_0x3eeafc=exchange[_0x32bc7d(0x271)](_0x55f47b,_0x4b99db);}catch(_0x18007f){}return _0x3eeafc;}function checkMinimums(_0x1afeed){const _0x4ab135=_0x44c78f;let _0x1e516a=!![];const _0x4e9ee6=!_0x1afeed[_0x4ab135(0x24e)]?markets[_0x1afeed[_0x4ab135(0x2ce)]]['limits'][_0x4ab135(0x232)][_0x4ab135(0x2b8)]:markets[_0x1afeed['symbol']][_0x4ab135(0x2dc)][_0x4ab135(0x23f)][_0x4ab135(0x2b8)],_0x1d2458=!_0x1afeed[_0x4ab135(0x24e)]?markets[_0x1afeed[_0x4ab135(0x2ce)]][_0x4ab135(0x2dc)][_0x4ab135(0x23f)][_0x4ab135(0x2b8)]:markets[_0x1afeed[_0x4ab135(0x2ce)]][_0x4ab135(0x2dc)][_0x4ab135(0x232)][_0x4ab135(0x2b8)],_0x73b67b=truncateTradeAmount(_0x1afeed[_0x4ab135(0x2ce)],_0x1afeed['trade']);_0x1afeed['trade']=_0x73b67b;if(Math[_0x4ab135(0x2dd)](_0x73b67b)<_0x4e9ee6)_0x1e516a=![];if(Math[_0x4ab135(0x2dd)](_0x73b67b)*_0x1afeed[_0x4ab135(0x32e)]<_0x1d2458)_0x1e516a=![];if(_0x1afeed[_0x4ab135(0x217)]=='sell'){let _0x56575d=config[_0x4ab135(0x22b)][_0x4ab135(0x211)](_0x376e06=>_0x376e06[_0x4ab135(0x24c)]==_0x1afeed[_0x4ab135(0x24c)]);if(_0x56575d[_0x4ab135(0x1f3)]>0x0){if(Math[_0x4ab135(0x2dd)](_0x73b67b)>_0x1afeed[_0x4ab135(0x2db)]-_0x56575d['offset'])_0x1e516a=![];}else{if(Math[_0x4ab135(0x2dd)](_0x73b67b)>_0x1afeed[_0x4ab135(0x2db)])_0x1e516a=![];}}if(_0x1afeed[_0x4ab135(0x217)]==_0x4ab135(0x227)){let _0x5f3594=config[_0x4ab135(0x22b)][_0x4ab135(0x211)](_0x2d297d=>_0x2d297d[_0x4ab135(0x24c)]==config[_0x4ab135(0x2f0)]),_0x2839bc=currentCoins[_0x4ab135(0x211)](_0x4e9fd2=>_0x4e9fd2[_0x4ab135(0x24c)]==config['basecoin']);if(_0x5f3594['offset']>0x0){if(Math[_0x4ab135(0x2dd)](_0x73b67b)*_0x1afeed['last']>_0x2839bc[_0x4ab135(0x2db)]-_0x5f3594['offset'])_0x1e516a=![];}else{if(Math['abs'](_0x73b67b)*_0x1afeed['last']>_0x2839bc[_0x4ab135(0x2db)])_0x1e516a=![];}}return _0x1e516a;}async function getBalances(_0x5dd1a0=!![]){const _0x39d0ac=_0x44c78f;let _0x468a80=0x0,_0x59e759;const _0x184698=config[_0x39d0ac(0x302)];if(config[_0x39d0ac(0x2c3)]&&config[_0x39d0ac(0x29c)]<0x0)await validate24hChanges();currentCoins[_0x39d0ac(0x1e9)](_0x449f4f=>{const _0x2e484a=_0x39d0ac;if(_0x449f4f[_0x2e484a(0x24c)]!=config[_0x2e484a(0x2f0)]){let _0x502e22=global[_0x2e484a(0x252)][noslash(_0x449f4f[_0x2e484a(0x2ce)])];_0x59e759=_0x449f4f[_0x2e484a(0x24e)]?0x1/_0x502e22:_0x502e22;}else _0x59e759=0x1;let _0xd65a8b=_0x449f4f[_0x2e484a(0x2db)]*_0x59e759;_0x468a80+=_0xd65a8b,_0x449f4f['last']=formatResult(Number(_0x59e759),0x8),_0x449f4f['value']=_0xd65a8b;}),currentCoins[_0x39d0ac(0x1e9)](_0x5d0eb2=>{const _0x62c9dc=_0x39d0ac;let _0x519256=config[_0x62c9dc(0x22b)]['find'](_0x436fef=>_0x436fef['coin']==_0x5d0eb2[_0x62c9dc(0x24c)]),_0x4e1771=Number(_0x519256['distribution']),_0x540bbf=_0x5d0eb2[_0x62c9dc(0x1b5)]/_0x468a80*0x64,_0x1c3e73=_0x4e1771*_0x468a80/0x64/_0x5d0eb2['last']-_0x5d0eb2[_0x62c9dc(0x2db)];_0x5d0eb2[_0x62c9dc(0x24b)]=formatResult(_0x540bbf,0x3),_0x5d0eb2[_0x62c9dc(0x1df)]=formatResult(_0x4e1771,0x3),_0x5d0eb2[_0x62c9dc(0x1c5)]=formatResult(_0x1c3e73,0x8),_0x5d0eb2[_0x62c9dc(0x217)]='',_0x5d0eb2['valid']=![];if(_0x5d0eb2[_0x62c9dc(0x24c)]!=config[_0x62c9dc(0x2f0)]){if(_0x5d0eb2[_0x62c9dc(0x24b)]>_0x4e1771)_0x5d0eb2[_0x62c9dc(0x217)]='sell',_0x5d0eb2[_0x62c9dc(0x2a5)]=checkMinimums(_0x5d0eb2);else _0x5d0eb2[_0x62c9dc(0x24b)]<_0x4e1771&&(_0x5d0eb2[_0x62c9dc(0x217)]=_0x62c9dc(0x227),_0x5d0eb2[_0x62c9dc(0x2a5)]=checkMinimums(_0x5d0eb2));}_0x5d0eb2['delta']=_0x5d0eb2[_0x62c9dc(0x24b)]/_0x5d0eb2['target']-0x1;if(_0x5d0eb2[_0x62c9dc(0x1e2)]=='filled'||_0x5d0eb2[_0x62c9dc(0x1e2)]==_0x62c9dc(0x2d9))_0x5d0eb2[_0x62c9dc(0x1e2)]=_0x62c9dc(0x2fb);}),currentCoins[_0x39d0ac(0x2f2)]((_0x4c98be,_0x15b02d)=>_0x4c98be[_0x39d0ac(0x1ab)]<_0x15b02d[_0x39d0ac(0x1ab)]?0x1:_0x15b02d['delta']<_0x4c98be['delta']?-0x1:0x0);const _0xe86e85=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xe86e85[_0x39d0ac(0x1bc)],'usd':_0xe86e85[_0x39d0ac(0x1bd)],'portfolio':JSON[_0x39d0ac(0x28d)](currentCoins),'threshold':_0x184698},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x5dd1a0){if(config[_0x39d0ac(0x2c3)])headlessMode({'portfolio':currentCoins,'threshold':_0x184698});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x184698});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x111f47=getNormalizedPerformance();getStartingBalances(_0x111f47),emitPerformance(_0x111f47);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x74944e=getNormalizedPerformance();emitPerformance(_0x74944e),getStartingBalances(_0x74944e),logger[_0x39d0ac(0x31c)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3c8aed=_0x44c78f;if(!lastBalances)return;let _0x188a13=[],_0x5ecf74,_0x450056=JSON[_0x3c8aed(0x244)](lastBalances[_0x3c8aed(0x22b)]);_0x450056[_0x3c8aed(0x2f2)]((_0x208f3c,_0x27f965)=>_0x208f3c[_0x3c8aed(0x24c)]>_0x27f965['coin']?0x1:_0x27f965[_0x3c8aed(0x24c)]>_0x208f3c[_0x3c8aed(0x24c)]?-0x1:0x0),_0x450056[_0x3c8aed(0x1e9)](_0x536bcb=>{const _0xdf8edd=_0x3c8aed;let _0x2b879c={'coin':_0x536bcb['coin'],'number':_0x536bcb[_0xdf8edd(0x2db)],'price':_0x536bcb['last']};_0x188a13['push'](_0x2b879c);});const _0x21cdc0=await getFiat();_0x5ecf74={'date':lastBalances[_0x3c8aed(0x276)]['split']('\x20')[0x0],'eur':_0x21cdc0['eur'],'usd':_0x21cdc0[_0x3c8aed(0x1bd)],'coins':_0x188a13};let _0x3232d0=dbPerformance['get'](_0x3c8aed(0x250))[_0x3c8aed(0x211)]({'date':_0x5ecf74[_0x3c8aed(0x305)]})[_0x3c8aed(0x1b5)]();_0x3232d0?_0x5ecf74[_0x3c8aed(0x305)]!=config['startdate']&&dbPerformance['get'](_0x3c8aed(0x250))['find']({'date':_0x5ecf74[_0x3c8aed(0x305)]})[_0x3c8aed(0x319)](_0x5ecf74)[_0x3c8aed(0x259)]():dbPerformance[_0x3c8aed(0x1dc)]('data')[_0x3c8aed(0x208)](_0x5ecf74)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x391e37=_0x44c78f;let _0x52e227=[];if(dbPerformance[_0x391e37(0x26b)](_0x391e37(0x250))[_0x391e37(0x1b5)]()){let _0x517188=dbPerformance[_0x391e37(0x1dc)](_0x391e37(0x250))[_0x391e37(0x2de)]()['filter'](_0x3e2038=>{const _0x4fb33a=_0x391e37;if(_0x3e2038[_0x4fb33a(0x1d0)]['length']==0x0)return![];else return!![];})['sortBy'](_0x391e37(0x305))[_0x391e37(0x1b5)](),_0x4e618b=[...config[_0x391e37(0x1ae)]];_0x4e618b[_0x391e37(0x2f2)]((_0x9354b1,_0xe6eb01)=>_0x9354b1[_0x391e37(0x305)]>_0xe6eb01['date']?-0x1:_0xe6eb01['date']>_0x9354b1['date']?0x1:0x0);let _0x4c8bfc=0x1,_0x139fbc=[],_0x4a86f0=0x0;_0x517188[_0x391e37(0x2aa)]()[_0x391e37(0x24e)]()[_0x391e37(0x1e9)]((_0x37ad25,_0x3bcf8d)=>{const _0x2c183c=_0x391e37;if(_0x4e618b[_0x4a86f0]){if(_0x517188[_0x517188['length']-_0x3bcf8d]&&_0x4e618b[_0x4a86f0]['date']==_0x517188[_0x517188[_0x2c183c(0x242)]-_0x3bcf8d][_0x2c183c(0x305)]){if(_0x3bcf8d<_0x517188['length']){let _0x193b76=0x0,_0x48f00b=0x0;_0x517188[_0x517188[_0x2c183c(0x242)]-_0x3bcf8d][_0x2c183c(0x1d0)][_0x2c183c(0x1e9)](_0x396e4e=>{const _0x13611f=_0x2c183c;_0x48f00b+=_0x396e4e[_0x13611f(0x2db)]*_0x396e4e[_0x13611f(0x2ae)];}),_0x4e618b[_0x4a86f0][_0x2c183c(0x2e9)][_0x2c183c(0x1e9)](_0x1ed8b5=>{const _0x281bb1=_0x2c183c;_0x193b76+=_0x1ed8b5[_0x281bb1(0x2db)]*_0x1ed8b5[_0x281bb1(0x2ae)];}),_0x4c8bfc*=_0x193b76/(_0x48f00b-_0x193b76)+0x1;}_0x4a86f0++;}}let _0x3e14ad=0x0;_0x37ad25['coins'][_0x2c183c(0x1e9)](_0x57fe1e=>{const _0x9e055e=_0x2c183c;_0x3e14ad+=_0x57fe1e[_0x9e055e(0x2db)]*_0x57fe1e[_0x9e055e(0x2ae)];}),_0x139fbc[_0x517188[_0x2c183c(0x242)]-_0x3bcf8d-0x1]=_0x3e14ad*(_0x4c8bfc-0x1);});let _0x36e554=[];_0x4e618b=[...config[_0x391e37(0x1ae)]]||[];let _0x412341=0x0;_0x4a86f0=0x0,_0x517188[_0x391e37(0x1e9)]((_0x57288f,_0x10c94e)=>{const _0x8beb1a=_0x391e37;if(_0x4e618b[_0x4a86f0]){const _0x410eca=fns[_0x8beb1a(0x244)](_0x4e618b[_0x4a86f0][_0x8beb1a(0x305)],_0x8beb1a(0x281),new Date()),_0x31d97b=fns[_0x8beb1a(0x244)](_0x57288f['date'],_0x8beb1a(0x281),new Date());if(fns[_0x8beb1a(0x292)](_0x410eca,_0x31d97b)){let _0x1e8ed6=0x0;_0x4e618b[_0x4a86f0]['changes'][_0x8beb1a(0x1e9)](_0x55b2e4=>{const _0x44b88f=_0x8beb1a;!_0x36e554[_0x55b2e4['coin']]?_0x36e554[_0x55b2e4[_0x44b88f(0x24c)]]=_0x55b2e4[_0x44b88f(0x2db)]:(_0x1e8ed6=_0x36e554[_0x55b2e4[_0x44b88f(0x24c)]],_0x36e554[_0x55b2e4[_0x44b88f(0x24c)]]+=_0x55b2e4[_0x44b88f(0x2db)]);const _0x3c0d94=_0x57288f[_0x44b88f(0x1d0)][_0x44b88f(0x211)](_0x5b0d9c=>_0x5b0d9c['coin']==_0x55b2e4[_0x44b88f(0x24c)]);(!_0x3c0d94||_0x3c0d94[_0x44b88f(0x2db)]==0x0)&&(_0x412341+=(-_0x55b2e4['number']-_0x1e8ed6)*_0x55b2e4[_0x44b88f(0x2ae)]);}),_0x4a86f0++;}}_0x57288f['coins'][_0x8beb1a(0x1e9)]((_0x365007,_0x1d6dd1)=>{const _0x567395=_0x8beb1a;_0x36e554[_0x365007[_0x567395(0x24c)]]&&(_0x365007[_0x567395(0x19c)]=_0x36e554[_0x365007[_0x567395(0x24c)]]);}),_0x52e227['push']({'date':_0x57288f[_0x8beb1a(0x305)],'eur':_0x57288f['eur'],'usd':_0x57288f['usd'],'offset':_0x139fbc[_0x10c94e],'netoffset':_0x412341,'coins':_0x57288f[_0x8beb1a(0x1d0)]});});}return _0x52e227;}function emitPerformance(_0x3eec45){const _0x7312d0=_0x44c78f;_0x3eec45[_0x7312d0(0x242)]!==0x0?(proxyEmit(_0x7312d0(0x210),_0x3eec45),lastPerformanceEmitted=getDate()):proxyEmit(_0x7312d0(0x210),[]);}function getPerf(_0x582576,_0x1a0cc9){const _0x3efcfe=_0x44c78f;let _0x5a6f41=0x0,_0x588bfb=0x0,_0x1adc80=0x0;_0x582576[_0x3efcfe(0x1d0)][_0x3efcfe(0x1e9)](_0x481d3f=>{const _0x2aca54=_0x3efcfe;_0x5a6f41+=_0x481d3f[_0x2aca54(0x2db)]*_0x481d3f[_0x2aca54(0x2ae)];});_0x1a0cc9&&(_0x5a6f41+=_0x582576[_0x3efcfe(0x1f3)]);if(config[_0x3efcfe(0x2f0)]===_0x3efcfe(0x2f7)||config['basecoin']===_0x3efcfe(0x30e))_0x588bfb=_0x5a6f41*_0x582576['eur'],_0x1adc80=_0x5a6f41*_0x582576[_0x3efcfe(0x1bd)];else{if(usdBasecoins[_0x3efcfe(0x2d2)](config[_0x3efcfe(0x2f0)]))_0x588bfb=_0x5a6f41*_0x582576[_0x3efcfe(0x1bc)]/_0x582576[_0x3efcfe(0x1bd)],_0x1adc80=_0x5a6f41;else config[_0x3efcfe(0x2f0)]==='EUR'&&(_0x588bfb=_0x5a6f41,_0x1adc80=_0x5a6f41*_0x582576[_0x3efcfe(0x1bd)]/_0x582576[_0x3efcfe(0x1bc)]);}return[_0x5a6f41,_0x588bfb,_0x1adc80];}function getKPIs(_0x321e74,_0x3360e5=_0x44c78f(0x223)){const _0x175fa7=_0x44c78f,_0x553cfc=config[_0x175fa7(0x2f0)],_0x33af7b=lastBalances,_0x539820=currentCoins,_0x290a3f=getNormalizedPerformance(),_0x461a1d=_0x321e74===_0x175fa7(0x2f0)?_0x553cfc:_0x321e74===_0x175fa7(0x30c)||_0x321e74===_0x175fa7(0x2e0)?_0x3360e5:_0x175fa7(0x274)+_0x553cfc,_0x2d8597=_0x321e74===_0x175fa7(0x1ff)?_0x175fa7(0x297):_0x321e74===_0x175fa7(0x2e0)?_0x175fa7(0x297):_0x461a1d+_0x175fa7(0x225),_0x4e06bd=_0x321e74===_0x175fa7(0x1ff)||_0x321e74===_0x175fa7(0x2e0)?'Net\x20effect':_0x461a1d+_0x175fa7(0x1e3);let _0x39f848=0x0;_0x539820[_0x175fa7(0x1e9)](_0x4e6973=>{const _0x32bbce=_0x175fa7;_0x39f848+=_0x4e6973[_0x32bbce(0x2db)]*_0x4e6973[_0x32bbce(0x32e)];});if(_0x321e74===_0x175fa7(0x30c)||_0x321e74===_0x175fa7(0x2e0)){if(_0x553cfc===_0x175fa7(0x2f7)||_0x553cfc==='ETH')_0x39f848=_0x39f848*(_0x3360e5===_0x175fa7(0x223)?_0x33af7b[_0x175fa7(0x1bc)]:_0x33af7b[_0x175fa7(0x1bd)]);else{if(usdBasecoins[_0x175fa7(0x2d2)](_0x553cfc))_0x39f848=_0x39f848*(_0x3360e5===_0x175fa7(0x223)?_0x33af7b[_0x175fa7(0x1bc)]/_0x33af7b[_0x175fa7(0x1bd)]:0x1);else _0x553cfc===_0x175fa7(0x223)&&(_0x39f848=_0x39f848*(_0x3360e5===_0x175fa7(0x223)?0x1:_0x33af7b['usd']/_0x33af7b[_0x175fa7(0x1bc)]));}}let _0x17977a;if(_0x39f848!==0x0){if(_0x321e74===_0x175fa7(0x2f0))_0x17977a=(_0x39f848/startingBalances[_0x175fa7(0x2f0)]-0x1)*0x64;else{if(_0x3360e5===_0x175fa7(0x223))_0x17977a=(_0x39f848/startingBalances[_0x175fa7(0x1bc)]-0x1)*0x64;else _0x17977a=(_0x39f848/startingBalances[_0x175fa7(0x1bd)]-0x1)*0x64;}let _0x26238b=0x0;if(startingBalances[_0x175fa7(0x1d0)])_0x539820[_0x175fa7(0x1e9)](_0x40283f=>{const _0x58c2fc=_0x175fa7;let _0x1317a7=startingBalances[_0x58c2fc(0x1d0)][_0x58c2fc(0x211)](_0x5d578b=>_0x5d578b[_0x58c2fc(0x24c)]===_0x40283f[_0x58c2fc(0x24c)]);if(_0x1317a7&&_0x1317a7[_0x58c2fc(0x24c)]&&_0x40283f[_0x58c2fc(0x2db)]!==0x0)_0x26238b+=_0x1317a7[_0x58c2fc(0x2db)]*_0x40283f[_0x58c2fc(0x32e)];});let _0x24e5ca=0x0;if(_0x290a3f[_0x175fa7(0x242)]!==0x0){let _0x365ed1=_0x290a3f[_0x290a3f[_0x175fa7(0x242)]-0x1];_0x24e5ca=_0x365ed1[_0x175fa7(0x256)];}_0x26238b-=_0x24e5ca;_0x321e74===_0x175fa7(0x1ff)&&(_0x17977a=(_0x39f848-_0x26238b)/startingBalances['basecoin']*0x64,_0x39f848=_0x39f848-_0x26238b);if(_0x321e74===_0x175fa7(0x2e0)){let _0x633385=_0x3360e5===_0x175fa7(0x223)?startingBalances[_0x175fa7(0x1bc)]:startingBalances[_0x175fa7(0x1bd)];if(_0x553cfc===_0x175fa7(0x2f7)||_0x553cfc===_0x175fa7(0x30e))_0x26238b=_0x3360e5===_0x175fa7(0x223)?_0x26238b*_0x33af7b[_0x175fa7(0x1bc)]:_0x26238b*_0x33af7b[_0x175fa7(0x1bd)];else{if(usdBasecoins['includes'](_0x553cfc))_0x26238b=_0x3360e5===_0x175fa7(0x223)?_0x26238b*_0x33af7b[_0x175fa7(0x1bc)]/_0x33af7b[_0x175fa7(0x1bd)]:_0x26238b;else _0x553cfc===_0x175fa7(0x223)&&(_0x26238b=_0x3360e5===_0x175fa7(0x223)?_0x26238b:_0x26238b*_0x33af7b[_0x175fa7(0x1bd)]/_0x33af7b[_0x175fa7(0x1bc)]);}_0x17977a=(_0x39f848-_0x26238b)/_0x633385*0x64,_0x39f848=_0x39f848-_0x26238b;}if(_0x17977a){if(_0x17977a<0x64)_0x17977a=_0x17977a[_0x175fa7(0x1ba)](0x2);else{if(_0x17977a<0x3e8)_0x17977a=_0x17977a[_0x175fa7(0x1ba)](0x1);else _0x17977a=_0x17977a[_0x175fa7(0x1ba)](0x0);}}else _0x17977a=Number('0')[_0x175fa7(0x1ba)](0x2);if(_0x39f848){if(Math[_0x175fa7(0x2dd)](_0x39f848)<0.000001)_0x39f848=_0x39f848[_0x175fa7(0x1ba)](0x2);else{if(Math[_0x175fa7(0x2dd)](_0x39f848)<0.1)_0x39f848=_0x39f848[_0x175fa7(0x1ba)](0x6);else{if(Math[_0x175fa7(0x2dd)](_0x39f848)<0x1)_0x39f848=_0x39f848[_0x175fa7(0x1ba)](0x5);else{if(Math['abs'](_0x39f848)<0xa)_0x39f848=_0x39f848['toFixed'](0x4);else{if(Math[_0x175fa7(0x2dd)](_0x39f848)<0x64)_0x39f848=_0x39f848['toFixed'](0x3);else{if(Math[_0x175fa7(0x2dd)](_0x39f848)<0x3e8)_0x39f848=_0x39f848[_0x175fa7(0x1ba)](0x2);else _0x39f848=_0x39f848[_0x175fa7(0x1ba)](0x2);}}}}}}else _0x39f848=Number('0')['toFixed'](0x2);}else _0x17977a=Number('0')[_0x175fa7(0x1ba)](0x2);return{'value':_0x39f848,'change':_0x17977a,'leftTxt':_0x2d8597,'rightTxt':_0x4e06bd};}async function getStartingBalances(_0x29ca0e,_0x479dcd=!![]){const _0x1c56b2=_0x44c78f;if(_0x29ca0e[_0x1c56b2(0x242)]!==0x0){const [_0x26a5a2,_0x16f6db,_0x265336]=getPerf(_0x29ca0e[0x0],!![]);let _0x29ffae=[];config[_0x1c56b2(0x22b)][_0x1c56b2(0x1e9)](_0x538730=>{const _0x4bcfb=_0x1c56b2;let _0x24475b=0x0,_0x1e687c;config['liquidity'][_0x4bcfb(0x1e9)](_0x1264df=>{const _0x39519=_0x4bcfb;let _0x5f0c39=_0x1264df[_0x39519(0x2e9)][_0x39519(0x211)](_0x5b3e02=>_0x5b3e02[_0x39519(0x24c)]==_0x538730[_0x39519(0x24c)]);if(_0x5f0c39){_0x24475b+=_0x5f0c39['number'];if(!_0x1e687c)_0x1e687c=_0x5f0c39['price'];}}),_0x29ffae['push']({'coin':_0x538730['coin'],'number':_0x24475b,'initialprice':_0x1e687c});});const _0x2df157={'basecoin':_0x26a5a2,'eur':_0x16f6db,'usd':_0x265336,'coins':_0x29ffae};if(_0x479dcd)proxyEmit(_0x1c56b2(0x2af),_0x2df157);startingBalances=_0x2df157;}}function headlessMode(_0x2b9aeb){const _0x5d80c4=_0x44c78f;let _0x29fc46=_0x2b9aeb['portfolio'],_0x1752f9=_0x2b9aeb[_0x5d80c4(0x302)],_0x47a532=[];for(let _0x186082 of _0x29fc46){if(_0x186082[_0x5d80c4(0x24c)]!=config['basecoin']){if(_0x186082[_0x5d80c4(0x1ab)]>=_0x1752f9/0x64){if(_0x186082['valid'])_0x47a532[_0x5d80c4(0x208)](_0x186082);}else{if(_0x186082[_0x5d80c4(0x1ab)]<=-_0x1752f9/0x64){if(_0x186082[_0x5d80c4(0x2a5)])_0x47a532[_0x5d80c4(0x208)](_0x186082);}}}}_0x47a532[_0x5d80c4(0x242)]>0x0&&placeOrder(_0x47a532);}function notifyBalance(_0x3e44cf){const _0x1a10e9=_0x44c78f;let _0x525888=_0x3e44cf[_0x1a10e9(0x22b)],_0x4de62b=_0x3e44cf['threshold'],_0x2d06b4=[];for(let _0x51b724 of _0x525888){if(_0x51b724[_0x1a10e9(0x24c)]!=config[_0x1a10e9(0x2f0)]){if(_0x51b724[_0x1a10e9(0x1ab)]>=_0x4de62b/0x64){if(_0x51b724[_0x1a10e9(0x2a5)])_0x2d06b4[_0x1a10e9(0x208)](_0x51b724);}else{if(_0x51b724[_0x1a10e9(0x1ab)]<=-_0x4de62b/0x64){if(_0x51b724['valid'])_0x2d06b4[_0x1a10e9(0x208)](_0x51b724);}}}}if(_0x2d06b4[_0x1a10e9(0x242)]>0x0){let _0x1088b7=_0x2d06b4[_0x1a10e9(0x322)](_0x5b2b78=>_0x5b2b78[_0x1a10e9(0x24c)]);_0x1088b7['sort']();let _0x2c5de0=_0x1088b7[_0x1a10e9(0x2c5)](',\x20');if(!lastCoinsToBalance)logHistory(_0x1a10e9(0x234),_0x1a10e9(0x229));lastCoinsToBalance=_0x2c5de0;}}function symbolToCoin(_0xbd2484){const _0x1e7847=_0x44c78f;let _0x18fcce;if(_0xbd2484[_0x1e7847(0x2d2)]('/'+config[_0x1e7847(0x2f0)]))_0x18fcce=_0xbd2484[_0x1e7847(0x20d)]('/'+config['basecoin'],'');if(_0xbd2484[_0x1e7847(0x2d2)](config[_0x1e7847(0x2f0)]+'/'))_0x18fcce=_0xbd2484[_0x1e7847(0x20d)](config[_0x1e7847(0x2f0)]+'/','');return _0x18fcce;}async function unlockOrders(){const _0xb58815=_0x44c78f;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0xb58815(0x31c)](_0xb58815(0x309)),lockOrders=ORDERS[_0xb58815(0x2c7)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x1e2a62=await getCoins();[currentCoins,currentCoinsAll]=_0x1e2a62,validateOrdersState=_0xb58815(0x19c),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0xb58815(0x31c)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x1fc526){const _0x50e006=_0x44c78f;if(_0x1fc526)validateOrdersState=_0x1fc526;logger[_0x50e006(0x31c)](_0x50e006(0x2d1)+validateOrdersState+_0x50e006(0x311)+(lockOrders==0x1?_0x50e006(0x1da):lockOrders==0x2?_0x50e006(0x1a5):'ORDERS.UNLOCKED'));let _0x592690=[],_0x13909f=config[_0x50e006(0x329)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x50e006(0x32d)])return;logger[_0x50e006(0x31c)](_0x50e006(0x228)+validateOrdersState),lastOrders[_0x50e006(0x1e9)](_0x393256=>{const _0x5acfe5=_0x50e006;let _0x5357ef=![];_0x393256[_0x5acfe5(0x324)]>0x0&&(_0x5357ef=!![]),_0x592690[_0x5acfe5(0x208)](_0x5357ef),_0x5357ef&&config['ordertype']!=_0x5acfe5(0x275)&&logHistory(_0x5acfe5(0x27a),'Order\x20filled:\x20'+_0x393256['symbol']+'\x20'+_0x393256['side']+'\x20#'+formatResult(_0x393256[_0x5acfe5(0x324)],0x8)+'\x20@'+formatResult(_0x393256[_0x5acfe5(0x2ae)],0x8));}),_0x592690['forEach']((_0x15451d,_0x518e27)=>{const _0x246bf4=_0x50e006;if(_0x15451d)lastOrders[_0x246bf4(0x28f)](_0x518e27,0x1);}),persistOpenOrders(lastOrders);const _0x222f68=coolingDown?_0x50e006(0x33e):_0x50e006(0x1de);if(validateOrdersState==_0x50e006(0x19c)){validateOrdersState='ongoing';if(_0x592690[_0x50e006(0x2d2)](![])){if(config[_0x50e006(0x329)]==_0x50e006(0x275)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x592690[_0x50e006(0x2d2)](![])){}else{if(allOrdersPlaced){if(config[_0x50e006(0x329)]==_0x50e006(0x275)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x50e006(0x2bc))_0x592690[_0x50e006(0x2d2)](![])&&(config[_0x50e006(0x329)]==_0x50e006(0x275)?logHistory(_0x50e006(0x1cd),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x50e006(0x1f4)](_0x13909f*validateOrderInterval/0xea60)+_0x50e006(0x1bf)+_0x222f68):(await cancelOrders(),logHistory(_0x50e006(0x1cd),_0x50e006(0x2a1)+Math[_0x50e006(0x1f4)](_0x13909f*validateOrderInterval/0xea60)+_0x50e006(0x1bf)+_0x222f68))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x50e006(0x329)]!='market')logHistory('success',_0x50e006(0x1f6)+_0x222f68);await unlockOrders();}}}}}async function cancelOrders(){const _0x57c731=_0x44c78f;lastOrders[_0x57c731(0x1e9)](async _0x192cb1=>{const _0x4f85d4=_0x57c731;try{const _0x543b3a=await exchange[_0x4f85d4(0x251)](_0x192cb1[_0x4f85d4(0x2a3)],_0x192cb1[_0x4f85d4(0x2ce)]);}catch(_0x2fe6bd){if(_0x2fe6bd[_0x4f85d4(0x2cd)]()[_0x4f85d4(0x2d2)](_0x4f85d4(0x1a4))){}else await handleError(_0x2fe6bd,_0x4f85d4(0x1f7));}});}async function initCoinResults(_0x21bf33){const _0x460f85=_0x44c78f;_0x21bf33?logger[_0x460f85(0x31c)](_0x460f85(0x338)+_0x21bf33):logger[_0x460f85(0x31c)](_0x460f85(0x1ca)),config[_0x460f85(0x22b)]['forEach'](_0x16b8b9=>{const _0x44eba5=_0x460f85;if(!_0x16b8b9[_0x44eba5(0x2d3)]&&_0x16b8b9[_0x44eba5(0x24c)]!=config[_0x44eba5(0x2f0)]){const _0x30d116=currentCoins[_0x44eba5(0x211)](_0xb49f98=>_0xb49f98['coin']==_0x16b8b9[_0x44eba5(0x24c)]),_0xc4eed=global[_0x44eba5(0x252)][noslash(_0x16b8b9['symbol'])];let _0x5c5ecf=_0x30d116?_0x30d116[_0x44eba5(0x2db)]:null,_0x490341=_0x16b8b9[_0x44eba5(0x24e)]?0x1/_0xc4eed:_0xc4eed,_0x18fe01;config['liquidity'][_0x44eba5(0x1e9)](_0x3185e4=>{const _0xdd5be8=_0x44eba5;!_0x18fe01&&(_0x18fe01=_0x3185e4[_0xdd5be8(0x2e9)]['find'](_0x2db15a=>_0x2db15a['coin']==_0x16b8b9[_0xdd5be8(0x24c)]),_0x18fe01&&(_0x5c5ecf=_0x18fe01['number'],_0x490341=_0x18fe01[_0xdd5be8(0x2ae)]));});let _0xbc919d=dbCoinResults[_0x44eba5(0x1dc)](_0x44eba5(0x1d0))['find']({'coin':_0x16b8b9[_0x44eba5(0x24c)]})[_0x44eba5(0x1b5)]();if(!_0xbc919d){const _0x480a22={'coin':_0x16b8b9[_0x44eba5(0x24c)],'number':_0x5c5ecf,'breakeven':_0x490341,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x44eba5(0x1dc)](_0x44eba5(0x1d0))[_0x44eba5(0x208)](_0x480a22)[_0x44eba5(0x259)]();}else{if(_0x21bf33&&_0x16b8b9[_0x44eba5(0x24c)]==_0x21bf33){const _0x29cda2={'coin':_0x16b8b9[_0x44eba5(0x24c)],'number':_0x5c5ecf,'breakeven':_0x490341,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x44eba5(0x1dc)](_0x44eba5(0x1d0))[_0x44eba5(0x211)]({'coin':_0x16b8b9[_0x44eba5(0x24c)]})[_0x44eba5(0x319)](_0x29cda2)[_0x44eba5(0x259)]();}}}});}async function updateCoinResults(_0x1cf850,_0x57245e=![]){const _0x43b8b4=_0x44c78f;let _0x433a14,_0x1b728e,_0x801f62,_0x57bbb2,_0x28abf1,_0x2854a0,_0x471377=dbCoinResults[_0x43b8b4(0x1dc)]('coins')['find']({'coin':_0x1cf850[_0x43b8b4(0x24c)]})[_0x43b8b4(0x1b5)](),_0x148904=![];_0x471377&&Object['entries'](_0x471377)[_0x43b8b4(0x1e9)](([_0x4eba23,_0x8e147a])=>{if(_0x8e147a==null)_0x148904=!![];});(!_0x471377||_0x148904)&&(await initCoinResults(_0x1cf850['coin']),_0x471377=dbCoinResults[_0x43b8b4(0x1dc)]('coins')[_0x43b8b4(0x211)]({'coin':_0x1cf850[_0x43b8b4(0x24c)]})[_0x43b8b4(0x1b5)]());_0x1cf850[_0x43b8b4(0x24e)]&&(_0x2854a0={'filled':_0x1cf850[_0x43b8b4(0x324)]*_0x1cf850[_0x43b8b4(0x2ae)],'amount':_0x1cf850[_0x43b8b4(0x324)]*_0x1cf850[_0x43b8b4(0x2ae)],'side':_0x1cf850[_0x43b8b4(0x217)]=='sell'?_0x43b8b4(0x227):_0x43b8b4(0x333),'price':0x1/_0x1cf850[_0x43b8b4(0x2ae)]},_0x1cf850={..._0x1cf850,..._0x2854a0});_0x57245e?_0x1b728e=_0x1cf850[_0x43b8b4(0x217)]==_0x43b8b4(0x227)?_0x471377[_0x43b8b4(0x2db)]+_0x1cf850['filled']:_0x471377[_0x43b8b4(0x2db)]-_0x1cf850['filled']:_0x1b728e=await getCoinNumber(_0x1cf850['coin']);if(_0x1cf850[_0x43b8b4(0x2eb)]&&_0x1cf850[_0x43b8b4(0x2eb)][_0x43b8b4(0x29e)]==config[_0x43b8b4(0x2f0)])_0x433a14=_0x1cf850[_0x43b8b4(0x2eb)][_0x43b8b4(0x23f)];else{if(_0x1cf850[_0x43b8b4(0x2eb)]&&_0x1cf850[_0x43b8b4(0x2eb)][_0x43b8b4(0x29e)]==_0x43b8b4(0x306)&&!_0x57245e)_0x433a14=_0x1cf850['fee'][_0x43b8b4(0x23f)]*global[_0x43b8b4(0x252)][_0x43b8b4(0x306)+config[_0x43b8b4(0x2f0)]];else _0x433a14=defaultFee*_0x1cf850[_0x43b8b4(0x324)]*_0x1cf850['price'];}_0x1cf850['side']==_0x43b8b4(0x227)?(_0x801f62=_0x1b728e!=0x0?(_0x471377[_0x43b8b4(0x2b0)]*_0x471377[_0x43b8b4(0x2db)]+_0x1cf850[_0x43b8b4(0x2ae)]*(_0x1b728e-_0x471377['number'])+_0x433a14)/_0x1b728e:0x0,_0x57bbb2=_0x471377[_0x43b8b4(0x1f5)]):(_0x801f62=_0x1b728e!=0x0?(_0x471377[_0x43b8b4(0x2b0)]*_0x471377[_0x43b8b4(0x2db)]-_0x1cf850[_0x43b8b4(0x2ae)]*(_0x471377[_0x43b8b4(0x2db)]-_0x1b728e)+_0x433a14)/_0x1b728e:0x0,_0x57bbb2=_0x471377[_0x43b8b4(0x1f5)]+(_0x1cf850[_0x43b8b4(0x2ae)]-_0x471377[_0x43b8b4(0x2b0)])*_0x1cf850['filled']);_0x28abf1=(_0x1cf850[_0x43b8b4(0x2ae)]-_0x801f62-_0x433a14/_0x1cf850[_0x43b8b4(0x324)])*_0x1b728e;let _0x150faa={'coin':_0x1cf850[_0x43b8b4(0x24c)],'number':_0x1b728e,'breakeven':formatResult(_0x801f62,0x8),'realized':formatResult(_0x57bbb2,0x8),'unrealized':formatResult(_0x28abf1,0x8),'fees':formatResult(_0x471377[_0x43b8b4(0x279)]+_0x433a14,0x8),'sells':_0x1cf850[_0x43b8b4(0x217)]==_0x43b8b4(0x333)?_0x471377[_0x43b8b4(0x304)]+0x1:_0x471377[_0x43b8b4(0x304)],'buys':_0x1cf850[_0x43b8b4(0x217)]==_0x43b8b4(0x227)?_0x471377[_0x43b8b4(0x32b)]+0x1:_0x471377['buys']};dbCoinResults['get'](_0x43b8b4(0x1d0))[_0x43b8b4(0x211)]({'coin':_0x1cf850['coin']})[_0x43b8b4(0x319)](_0x150faa)[_0x43b8b4(0x259)]();if(!_0x57245e){if(_0x1cf850[_0x43b8b4(0x2eb)]&&_0x1cf850[_0x43b8b4(0x2eb)][_0x43b8b4(0x29e)]==_0x43b8b4(0x306)){const _0x4a3bb8=currentCoins['find'](_0x4149e7=>_0x4149e7[_0x43b8b4(0x24c)]==_0x43b8b4(0x306));if(_0x4a3bb8){let _0x1b6581=dbCoinResults['get']('coins')[_0x43b8b4(0x211)]({'coin':_0x43b8b4(0x306)})['value']();_0x150faa={..._0x1b6581,'number':_0x4a3bb8['number']},dbCoinResults[_0x43b8b4(0x1dc)]('coins')['find']({'coin':_0x43b8b4(0x306)})['assign'](_0x150faa)[_0x43b8b4(0x259)]();}}}}async function placeOrder(_0x159d6b){const _0x5e008d=_0x44c78f,_0x17b20a=config[_0x5e008d(0x329)]==_0x5e008d(0x275)?_0x5e008d(0x275):_0x5e008d(0x2e4);if(lockOrders==ORDERS[_0x5e008d(0x21a)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5e008d(0x32d)],allOrdersPlaced=![],validateOrdersState=_0x5e008d(0x19c);let _0x29ea96=![];lastOrders=[];for(const _0x28d878 of _0x159d6b){let _0x48fde3,_0xc41cbb,_0x5d87de,_0x508648,_0x21fedc,_0x4eb826=_0x28d878[_0x5e008d(0x2ce)];try{const _0x194537=await exchange[_0x5e008d(0x2fc)](_0x4eb826);_0x48fde3=_0x28d878['reverse']?0x1/_0x28d878[_0x5e008d(0x32e)]:_0x28d878['last'],_0xc41cbb=_0x194537[_0x5e008d(0x287)],_0x5d87de=_0x194537[_0x5e008d(0x1aa)];_0x28d878['reverse']?(_0x508648=_0x28d878[_0x5e008d(0x217)]==_0x5e008d(0x227)?_0x5e008d(0x333):_0x5e008d(0x227),_0x21fedc=Math['abs'](_0x28d878[_0x5e008d(0x1c5)])/_0x48fde3):(_0x508648=_0x28d878['side'],_0x21fedc=Math[_0x5e008d(0x2dd)](_0x28d878[_0x5e008d(0x1c5)]));_0x17b20a=='limit'&&(config['ordertype']==_0x5e008d(0x209)&&(_0x48fde3=_0x508648==_0x5e008d(0x227)?_0xc41cbb:_0x5d87de),config[_0x5e008d(0x329)]==_0x5e008d(0x1d7)&&(_0x48fde3=_0x508648==_0x5e008d(0x227)?_0x5d87de:_0xc41cbb));_0x21fedc=formatResult(_0x21fedc,0x8),_0x48fde3=formatResult(_0x48fde3,0x8);const _0x2609e2=_0x508648==_0x5e008d(0x333)?config[_0x5e008d(0x203)]?String[_0x5e008d(0x262)]('0x'+config[_0x5e008d(0x203)])+'\x20':'':config['emojibuy']?String[_0x5e008d(0x262)]('0x'+config[_0x5e008d(0x226)])+'\x20':'',_0x3bf32b=_0x17b20a==_0x5e008d(0x275)?_0x5e008d(0x2b4):config[_0x5e008d(0x329)]=='limit-high'?_0x5e008d(0x299):'Limit\x20(low-margin)',_0x36404c=(Math[_0x5e008d(0x25c)](Math['random']()*0x35a4e900)+0x5f5e100)[_0x5e008d(0x2cd)]();lastOrders['push']({'customId':_0x36404c,'symbol':_0x4eb826,'coin':_0x28d878['coin'],'amount':_0x21fedc,'price':_0x48fde3,'side':_0x508648,'reverse':_0x28d878[_0x5e008d(0x24e)],'filled':0x0});if(_0x17b20a==_0x5e008d(0x275))logHistory(_0x5e008d(0x27a),''+_0x2609e2+_0x3bf32b+_0x5e008d(0x1d5)+_0x4eb826+'\x20'+_0x508648+'\x20#'+formatResult(_0x21fedc,0x8)+'\x20@'+formatResult(_0x48fde3,0x8));else logHistory(_0x5e008d(0x27a),''+_0x2609e2+_0x3bf32b+_0x5e008d(0x1d5)+_0x4eb826+'\x20'+_0x508648+'\x20#'+formatResult(_0x21fedc,0x8)+'\x20@'+formatResult(_0x48fde3,0x8));let _0x104447;_0x17b20a==_0x5e008d(0x275)?_0x508648=='buy'&&[_0x5e008d(0x1a8),_0x5e008d(0x2e6),_0x5e008d(0x310),'Huobi',_0x5e008d(0x26d)][_0x5e008d(0x2d2)](config['exchange'])?_0x104447=await exchange[_0x5e008d(0x23d)](_0x4eb826,_0x17b20a,_0x508648,_0x21fedc,_0x48fde3):_0x104447=await exchange[_0x5e008d(0x23d)](_0x4eb826,_0x17b20a,_0x508648,_0x21fedc,undefined):_0x104447=await exchange[_0x5e008d(0x23d)](_0x4eb826,_0x17b20a,_0x508648,_0x21fedc,_0x48fde3);logger[_0x5e008d(0x31c)](_0x5e008d(0x1d1)+_0x104447['id']+_0x5e008d(0x303)+_0x36404c);const _0xc2e313=lastOrders['length']-0x1;if(_0xc2e313>=0x0&&lastOrders[_0xc2e313][_0x5e008d(0x21b)]==_0x36404c){lastOrders[_0xc2e313][_0x5e008d(0x2a3)]=_0x104447['id'];if(_0x104447['amount'])lastOrders[_0xc2e313]['amount']=_0x104447[_0x5e008d(0x232)];if(_0x104447[_0x5e008d(0x2ae)])lastOrders[_0xc2e313]['price']=_0x104447['price'];lastOrders[_0xc2e313]['fee']=_0x104447[_0x5e008d(0x2eb)];}if(config[_0x5e008d(0x2cf)]!=0x0){let _0x259225=null;if(cooldownTracker[_0x5e008d(0x242)]==config['cooldown']-0x1)_0x259225=cooldownTracker[_0x5e008d(0x202)]();const _0x3b81e4=getTimeStamp();cooldownTracker[_0x5e008d(0x208)](_0x3b81e4);if(_0x259225){const _0x4cdae0=fns[_0x5e008d(0x1a6)](new Date(_0x3b81e4),new Date(_0x259225));if(_0x4cdae0<cooldownInterval){logHistory(_0x5e008d(0x26f),'Executed\x20'+config[_0x5e008d(0x2cf)]+_0x5e008d(0x221)+cooldownInterval/0x3c+_0x5e008d(0x265)+cooldownPeriod/(0xe10*0x3e8)+_0x5e008d(0x1c3)),coolingDown=!![];break;}}}}catch(_0x144595){if(_0x144595[_0x5e008d(0x2cd)]()[_0x5e008d(0x2d2)](_0x5e008d(0x313)))lastOrders=lastOrders[_0x5e008d(0x1bb)](_0x36079f=>_0x36079f['symbol']!=_0x4eb826),logHistory(_0x5e008d(0x26f),_0x5e008d(0x288)+_0x4eb826),_0x29ea96=!![];else{if(_0x144595[_0x5e008d(0x2cd)]()[_0x5e008d(0x2d2)](_0x5e008d(0x253)))lastOrders=lastOrders[_0x5e008d(0x1bb)](_0x3002c7=>_0x3002c7[_0x5e008d(0x2ce)]!=_0x4eb826),logHistory(_0x5e008d(0x26f),_0x5e008d(0x1d9)+_0x4eb826),_0x29ea96=!![];else{if(_0x144595[_0x5e008d(0x2cd)]()[_0x5e008d(0x2d2)](_0x5e008d(0x1ef)))lastOrders=lastOrders[_0x5e008d(0x1bb)](_0x4de1b2=>_0x4de1b2[_0x5e008d(0x2ce)]!=_0x4eb826),logHistory(_0x5e008d(0x26f),_0x5e008d(0x2f6)+_0x4eb826),logger['debug'](_0x144595),_0x29ea96=!![];else _0x144595[_0x5e008d(0x2cd)]()[_0x5e008d(0x2d2)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x5e008d(0x1bb)](_0x1493dd=>_0x1493dd[_0x5e008d(0x2ce)]!=_0x4eb826),logHistory('error',_0x5e008d(0x288)+_0x4eb826),_0x29ea96=!![]):(lastOrders=lastOrders[_0x5e008d(0x1bb)](_0x56d3e2=>_0x56d3e2['symbol']!=_0x4eb826),await handleError(_0x144595,_0x5e008d(0x205),_0x4eb826));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5e008d(0x242)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5bfefc=config['ordertype']==_0x5e008d(0x275)?validateOrderTimeout*0x3c*0x3e8:config[_0x5e008d(0x239)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5e35af=_0x5e008d;validateOrders(_0x5e35af(0x2bc));},_0x5bfefc);}else unlockOrders();_0x29ea96&&config[_0x5e008d(0x2c3)]&&(logHistory(_0x5e008d(0x26f),'Avoiding\x20continuous\x20order\x20attempts'),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5e008d(0x1cd),_0x5e008d(0x31d)));}else{if(coolingDown)!config[_0x5e008d(0x2c3)]&&logHistory(_0x5e008d(0x26f),_0x5e008d(0x1e0));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x5e008d(0x2c3)]&&(config[_0x5e008d(0x329)]==_0x5e008d(0x275)?logHistory('error',_0x5e008d(0x26a)):logHistory(_0x5e008d(0x26f),_0x5e008d(0x2ea))));}}function persistOpenOrders(_0x19e828){const _0x1307b9=_0x44c78f,_0x36a681={...config,'openOrders':_0x19e828};let _0x49812f=dbConfig[_0x1307b9(0x1dc)](_0x1307b9(0x214))[_0x1307b9(0x211)]({'botID':botID})['value']();_0x49812f&&dbConfig[_0x1307b9(0x1dc)]('bot')[_0x1307b9(0x211)]({'botID':botID})['assign'](_0x36a681)[_0x1307b9(0x259)]();}function restoreOrders(){const _0xd42cfd=_0x44c78f;let _0x1dd96b;config[_0xd42cfd(0x282)]&&allOpenOrders[_0xd42cfd(0x1e9)](_0x243006=>{const _0x225124=_0xd42cfd,_0x3679f6=config[_0x225124(0x282)]['find'](_0x5a35f2=>_0x5a35f2[_0x225124(0x2a3)]==_0x243006['id']);_0x3679f6&&(lastOrders['push'](_0x3679f6),_0x1dd96b=_0x243006['timestamp']);});if(lastOrders[_0xd42cfd(0x242)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0xd42cfd(0x231),allOrdersPlaced=!![];const _0x3fcf03=new Date()[_0xd42cfd(0x33f)](),_0x5cabcc=config[_0xd42cfd(0x329)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0xd42cfd(0x239)]*0x3c*0x3e8;if(_0x1dd96b+_0x5cabcc>_0x3fcf03){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4d5a6b=_0xd42cfd;validateOrders(_0x4d5a6b(0x2bc));},_0x1dd96b+_0x5cabcc-_0x3fcf03);}else validateOrders(_0xd42cfd(0x2bc));}}async function sendMetricsTelegram(){const _0x223ef6=_0x44c78f;if(!coinsLoaded){process['send']({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x526f05=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x37224a='';if(config[_0x223ef6(0x31a)])_0x37224a=_0x223ef6(0x2bf)+config['botname']+_0x223ef6(0x1e5);else _0x37224a=_0x223ef6(0x280)+botID+_0x223ef6(0x1e5);const _0x30b6e8=getKPIs('basecoin'),_0x291fb8=getKPIs(_0x223ef6(0x30c),config[_0x223ef6(0x30c)]),_0x335b50=getKPIs(_0x223ef6(0x1ff)),_0x193e7a=getKPIs(_0x223ef6(0x2e0),config[_0x223ef6(0x30c)]);_0x37224a+=_0x223ef6(0x32a),_0x37224a+=_0x30b6e8['leftTxt']+'\x20:\x20'+_0x30b6e8[_0x223ef6(0x1b5)]+'\x0a',_0x37224a+=_0x30b6e8[_0x223ef6(0x2f4)]+':\x20'+_0x30b6e8[_0x223ef6(0x32c)]+'%\x0a',_0x37224a+=_0x291fb8['leftTxt']+'\x20:\x20'+_0x291fb8[_0x223ef6(0x1b5)]+'\x0a',_0x37224a+=_0x291fb8[_0x223ef6(0x2f4)]+':\x20'+_0x291fb8[_0x223ef6(0x32c)]+'%\x0a',_0x37224a+=_0x335b50['leftTxt']+':\x20'+_0x335b50[_0x223ef6(0x1b5)]+'\x20('+config[_0x223ef6(0x2f0)]+')\x0a',_0x37224a+=_0x335b50[_0x223ef6(0x2f4)]+':\x20'+_0x335b50[_0x223ef6(0x32c)]+_0x223ef6(0x1e8)+config[_0x223ef6(0x2f0)]+')\x0a',_0x37224a+=_0x193e7a[_0x223ef6(0x25a)]+':\x20'+_0x193e7a[_0x223ef6(0x1b5)]+'\x20('+config[_0x223ef6(0x30c)]+')\x0a',_0x37224a+=_0x193e7a[_0x223ef6(0x2f4)]+':\x20'+_0x193e7a[_0x223ef6(0x32c)]+_0x223ef6(0x1e8)+config[_0x223ef6(0x30c)]+')\x0a',_0x37224a+=_0x223ef6(0x24a),process[_0x223ef6(0x1dd)]({'telegrammsg':_0x37224a},_0x25bb05=>{});}async function sendPortfolioTelegram(){const _0x3576fd=_0x44c78f;if(!coinsLoaded){process[_0x3576fd(0x1dd)]({'telegrammsg':_0x3576fd(0x1a9)},_0x49fead=>{});return;}let _0x37586a='';if(config['showname'])_0x37586a=_0x3576fd(0x2bf)+config[_0x3576fd(0x1d2)]+_0x3576fd(0x301);else _0x37586a=_0x3576fd(0x280)+botID+_0x3576fd(0x301);_0x37586a+=_0x3576fd(0x32a),_0x37586a+=_0x3576fd(0x2d4),_0x37586a+=_0x3576fd(0x2bd),_0x37586a+=_0x3576fd(0x2d4),currentCoins[_0x3576fd(0x1e9)](_0x201a1c=>{const _0x356bda=_0x3576fd;_0x37586a+=_0x201a1c[_0x356bda(0x24c)]['padEnd'](0x7)+'|\x20'+formatPad(_0x201a1c[_0x356bda(0x24b)],0x2,0x6)+'|\x20'+formatPad(_0x201a1c['target'],0x2,0x6)+'|\x20'+formatPad(_0x201a1c['delta']*0x64,0x2,0x6)+'\x0a';}),_0x37586a+=_0x3576fd(0x24a),process[_0x3576fd(0x1dd)]({'telegrammsg':_0x37586a},_0x5d15b0=>{});}function formatPad(_0x29ac8c,_0x5dad77,_0x582bec){const _0x5aee94=_0x44c78f,_0x1d1d32=formatResultString(_0x29ac8c,_0x5dad77);return _0x1d1d32?_0x1d1d32[_0x5aee94(0x1fa)](_0x582bec):''[_0x5aee94(0x1fa)](_0x582bec);}function logHistory(_0x3e1251,_0x768e50,_0x9ed89=''){const _0x5c9811=_0x44c78f;logger['full'](''+_0x768e50);let _0x1894c6={'time':getTimeStamp(),'type':_0x3e1251,'event':_0x768e50};dbLogs[_0x5c9811(0x1dc)](_0x5c9811(0x298))[_0x5c9811(0x208)](_0x1894c6)[_0x5c9811(0x259)]();if(_0x9ed89=='')_0x9ed89=_0x768e50;proxyEmit(_0x5c9811(0x222),{'log':_0x1894c6,'summary':_0x9ed89}),process[_0x5c9811(0x1dd)]({'telegram':{..._0x1894c6,'botname':config[_0x5c9811(0x1d2)],'showname':config['showname']}},_0x23b406=>{});}function emitHistory(_0x18a9f9={}){const _0x326b37=_0x44c78f;Object[_0x326b37(0x2b6)](_0x18a9f9)['length']==0x0&&(_0x18a9f9={'type':['order','event'],'event':'','page':0x1});if(_0x18a9f9['type']['includes'](_0x326b37(0x222)))_0x18a9f9[_0x326b37(0x318)]['splice'](_0x18a9f9[_0x326b37(0x318)][_0x326b37(0x1ec)](_0x326b37(0x222)),0x1,_0x326b37(0x26f),'warning',_0x326b37(0x1cd));if(dbLogs[_0x326b37(0x26b)](_0x326b37(0x298))['value']()){let _0xb7fbde=dbLogs[_0x326b37(0x1dc)]('logs')[_0x326b37(0x1bb)](_0x1a592d=>{const _0x25e7d1=_0x326b37;if(_0x18a9f9[_0x25e7d1(0x318)][_0x25e7d1(0x242)]==0x0)return![];else return _0x18a9f9[_0x25e7d1(0x318)][_0x25e7d1(0x2d2)](_0x1a592d[_0x25e7d1(0x318)]);})[_0x326b37(0x1bb)](_0x5f3292=>{const _0x3e4a25=_0x326b37;if(_0x18a9f9[_0x3e4a25(0x222)]=='')return!![];else return _0x5f3292[_0x3e4a25(0x222)][_0x3e4a25(0x266)]()['includes'](_0x18a9f9[_0x3e4a25(0x222)]['toLowerCase']());})['sortBy'](_0x326b37(0x276)),_0x3d446f=_0xb7fbde['value']()[_0x326b37(0x242)];_0xb7fbde=_0xb7fbde[_0x326b37(0x24e)]()[_0x326b37(0x2aa)]((_0x18a9f9[_0x326b37(0x2a7)]-0x1)*logPageSize,_0x18a9f9[_0x326b37(0x2a7)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x326b37(0x2e8),{'logs':_0xb7fbde,'total':_0x3d446f});}else proxyEmit(_0x326b37(0x2e8),{'logs':[],'total':0x0});}function _0x26cd(_0x17fbdf,_0x5873f7){const _0x44a295=_0x32e6();return _0x26cd=function(_0xaeeb5d,_0x48c96d){_0xaeeb5d=_0xaeeb5d-0x197;let _0x32e66b=_0x44a295[_0xaeeb5d];return _0x32e66b;},_0x26cd(_0x17fbdf,_0x5873f7);}function deleteHistoryAlerts(_0x486c1c){const _0x59c757=_0x44c78f;if(dbLogs[_0x59c757(0x26b)](_0x59c757(0x298))[_0x59c757(0x1b5)]()){const _0x5de46b=dbLogs[_0x59c757(0x1dc)]('logs')[_0x59c757(0x1a3)](_0x59c757(0x276))[_0x59c757(0x1bb)](_0x96eb59=>{const _0x58189d=_0x59c757;return _0x96eb59[_0x58189d(0x318)]=='order';})[_0x59c757(0x1b5)]();dbLogs['get']('logs')['remove']()['write'](),dbLogs[_0x59c757(0x1dc)]('logs')[_0x59c757(0x319)](_0x5de46b)['write'](),emitHistory(_0x486c1c);}}async function pauseBot(){const _0xb96e92=_0x44c78f,_0x3b4e58=new Date()[_0xb96e92(0x33f)]();if(!lastErrorShown||_0x3b4e58-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x3b4e58;!lastBotPause?(lastBotPause=_0x3b4e58,consecutivePauses=0x1):(_0x3b4e58-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0xb96e92(0x1dd)]({'stop':_0xb96e92(0x19f)},_0x1d0404=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0xb96e92(0x33f)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),logHistory(_0xb96e92(0x26f),'Pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0xb96e92(0x2c9)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x167e45=_0x44c78f;botPaused=!![],await sleep(0x3e8),process[_0x167e45(0x1dd)]({'stop':_0x167e45(0x33d)},_0x44f586=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xcd4d83,_0x175208){const _0x32c9f5=_0x44c78f;if(botPaused)return;const _0x2bb042=config[_0x32c9f5(0x27b)]||_0x32c9f5(0x283);if(_0x175208)logger['debug']('Exception\x20thrown\x20in\x20'+_0x175208);if(_0xcd4d83[_0x32c9f5(0x2cd)]()['includes'](_0x32c9f5(0x2ab)))logHistory('error',_0x2bb042+_0x32c9f5(0x267));else{if(_0xcd4d83[_0x32c9f5(0x2cd)]()[_0x32c9f5(0x2d2)](_0x32c9f5(0x1b0)))logHistory(_0x32c9f5(0x26f),_0x2bb042+_0x32c9f5(0x2da));else _0xcd4d83['toString']()[_0x32c9f5(0x2d2)](_0x32c9f5(0x216))?(logHistory(_0x32c9f5(0x26f),_0x2bb042+_0x32c9f5(0x20c)),logHistory(_0x32c9f5(0x26f),_0x32c9f5(0x212))):await handleError(_0xcd4d83,null);}}async function handleError(_0x54e79d,_0x47ebb6,_0x269aca=''){const _0xb18dde=_0x44c78f;if(botPaused)return;const _0x1031bb=config['exchange']||_0xb18dde(0x283);if(_0x47ebb6)logger[_0xb18dde(0x31c)](_0xb18dde(0x1ee)+_0x47ebb6);if(_0x54e79d[_0xb18dde(0x2cd)]()['includes']('DDoSProtection')||_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)](_0xb18dde(0x224)))logHistory(_0xb18dde(0x26f),_0x1031bb+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading'),await pauseBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()['includes'](_0xb18dde(0x2d8))||_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)](_0xb18dde(0x1f0)))logHistory(_0xb18dde(0x26f),_0x1031bb+_0xb18dde(0x230)),await pauseBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)](_0xb18dde(0x29b)))logHistory('error',_0x1031bb+_0xb18dde(0x33c)),await pauseBot();else{if(_0x54e79d['toString']()[_0xb18dde(0x2d2)](_0xb18dde(0x1b4)))logHistory(_0xb18dde(0x26f),_0x1031bb+_0xb18dde(0x26e)),await pauseBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0xb18dde(0x26f),_0xb18dde(0x1c0)),logHistory(_0xb18dde(0x26f),_0xb18dde(0x264)),await killBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()['includes'](_0xb18dde(0x25d)))logHistory(_0xb18dde(0x26f),_0xb18dde(0x277)),logHistory(_0xb18dde(0x26f),_0xb18dde(0x264)),await killBot();else{if(_0x54e79d instanceof ccxt['NetworkError'])logHistory(_0xb18dde(0x26f),_0x1031bb+'\x20network\x20error'),logger['debug'](_0xb18dde(0x1d4),_0x54e79d),await pauseBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)](_0xb18dde(0x2ab)))logHistory('error',_0x1031bb+_0xb18dde(0x1ea)),logHistory(_0xb18dde(0x26f),_0xb18dde(0x264)),await killBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x1031bb+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0xb18dde(0x26f),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)](_0xb18dde(0x216)))logHistory(_0xb18dde(0x26f),_0x1031bb+_0xb18dde(0x2fe)),logHistory(_0xb18dde(0x26f),_0xb18dde(0x264)),await killBot();else{if(_0x54e79d[_0xb18dde(0x2cd)]()[_0xb18dde(0x2d2)](_0xb18dde(0x22d)))logHistory(_0xb18dde(0x26f),_0xb18dde(0x23e)+_0x269aca);else _0x54e79d instanceof ccxt[_0xb18dde(0x2bb)]?(logHistory(_0xb18dde(0x26f),_0x1031bb+_0xb18dde(0x30b)),logger[_0xb18dde(0x31c)](_0xb18dde(0x1d4),_0x54e79d)):(logHistory('error',_0xb18dde(0x2b7)),logger['debug']('Error\x20details:',_0x54e79d),await pauseBot());}}}}}}}}}}}function formatResult(_0x2866e9,_0x5c4e29){const _0x21a816=_0x44c78f;return parseFloat(_0x2866e9[_0x21a816(0x1ba)](_0x5c4e29));}function formatResultTruncate(_0xa4e341,_0x28bde2){const _0x52c564=_0x44c78f;let _0x181b80=formatResultString(_0xa4e341,0xa),_0x52adca=_0x181b80[_0x52c564(0x1ec)]('.');return _0x52adca!=-0x1&&(_0x181b80=_0x181b80[_0x52c564(0x2aa)](0x0,_0x52adca+_0x28bde2+0x1)),Number(_0x181b80);}function formatResultString(_0x148154,_0x144719){const _0x4c3c1e=_0x44c78f;let _0x5ad86e;if(!(''+_0x148154)[_0x4c3c1e(0x2d2)]('e'))_0x5ad86e=+(Math[_0x4c3c1e(0x1f4)](_0x148154+'e+'+_0x144719)+'e-'+_0x144719);else{let _0x3ce7c0=(''+_0x148154)[_0x4c3c1e(0x316)]('e'),_0x1419a6='';+_0x3ce7c0[0x1]+_0x144719>0x0&&(_0x1419a6='+'),_0x5ad86e=+(Math[_0x4c3c1e(0x1f4)](+_0x3ce7c0[0x0]+'e'+_0x1419a6+(+_0x3ce7c0[0x1]+_0x144719))+'e-'+_0x144719);}return Number(_0x5ad86e)[_0x4c3c1e(0x1ba)](_0x144719);}function getServerTime(){const _0x5d24d5=_0x44c78f,_0x3066e2=new Date();return _0x3066e2[_0x5d24d5(0x2c6)]()+'/'+(_0x3066e2[_0x5d24d5(0x2f3)]()+0x1)[_0x5d24d5(0x2cd)]()[_0x5d24d5(0x1fa)](0x2,'0')+'/'+_0x3066e2[_0x5d24d5(0x1b8)]()[_0x5d24d5(0x2cd)]()[_0x5d24d5(0x1fa)](0x2,'0')+'\x20'+_0x3066e2[_0x5d24d5(0x29f)]()[_0x5d24d5(0x2cd)]()[_0x5d24d5(0x1fa)](0x2,'0')+':'+_0x3066e2[_0x5d24d5(0x23b)]()[_0x5d24d5(0x2cd)]()[_0x5d24d5(0x1fa)](0x2,'0')+':'+_0x3066e2[_0x5d24d5(0x2e3)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x1a0b22=_0x44c78f,_0x598ff3=shiftedTime();return _0x598ff3[_0x1a0b22(0x2c6)]()+'/'+(_0x598ff3[_0x1a0b22(0x2f3)]()+0x1)[_0x1a0b22(0x2cd)]()[_0x1a0b22(0x1fa)](0x2,'0')+'/'+_0x598ff3[_0x1a0b22(0x1b8)]()['toString']()[_0x1a0b22(0x1fa)](0x2,'0')+'\x20'+_0x598ff3[_0x1a0b22(0x29f)]()[_0x1a0b22(0x2cd)]()[_0x1a0b22(0x1fa)](0x2,'0')+':'+_0x598ff3[_0x1a0b22(0x23b)]()[_0x1a0b22(0x2cd)]()['padStart'](0x2,'0')+':'+_0x598ff3[_0x1a0b22(0x2e3)]()[_0x1a0b22(0x2cd)]()['padStart'](0x2,'0');}function getDate(){const _0x4e51fd=_0x44c78f,_0x488702=shiftedTime();return _0x488702[_0x4e51fd(0x2c6)]()+'/'+(_0x488702[_0x4e51fd(0x2f3)]()+0x1)[_0x4e51fd(0x2cd)]()[_0x4e51fd(0x1fa)](0x2,'0')+'/'+_0x488702[_0x4e51fd(0x1b8)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x347913=_0x44c78f,_0x33c1fd=shiftedTime();return _0x33c1fd[_0x347913(0x29f)]()[_0x347913(0x2cd)]()[_0x347913(0x1fa)](0x2,'0');}function sleep(_0x17b4be){return new Promise(_0x3efe78=>setTimeout(_0x3efe78,_0x17b4be));}function shiftedTime(){const _0x2e4e5d=_0x44c78f,_0x3e9ddd=new Date();let _0x4dd306=_0x3e9ddd;if(config&&config[_0x2e4e5d(0x24d)]!==0x0)_0x4dd306=fns[_0x2e4e5d(0x2c4)](_0x3e9ddd,{'hours':config[_0x2e4e5d(0x24d)]});return _0x4dd306;}function timer(_0x52c8ad){const _0x1cb7b7=_0x44c78f,_0x4ec86b=new Date();!lasttime?console[_0x1cb7b7(0x1c1)](getTimeStamp()+':\x20timer\x20>',_0x52c8ad,_0x4ec86b):console[_0x1cb7b7(0x1c1)](getTimeStamp()+_0x1cb7b7(0x339),_0x52c8ad,(_0x4ec86b-lasttime)/0x3e8),lasttime=_0x4ec86b;}