const _0x3f1724=_0x3477;(function(_0x21902b,_0x497c76){const _0x413d52=_0x3477,_0x1c7f2f=_0x21902b();while(!![]){try{const _0x25c60a=-parseInt(_0x413d52(0x1fb))/0x1+parseInt(_0x413d52(0x10f))/0x2*(-parseInt(_0x413d52(0x278))/0x3)+parseInt(_0x413d52(0x288))/0x4+parseInt(_0x413d52(0x1b7))/0x5+parseInt(_0x413d52(0x1ac))/0x6+parseInt(_0x413d52(0x27a))/0x7+parseInt(_0x413d52(0x256))/0x8;if(_0x25c60a===_0x497c76)break;else _0x1c7f2f['push'](_0x1c7f2f['shift']());}catch(_0x4bad4e){_0x1c7f2f['push'](_0x1c7f2f['shift']());}}}(_0x32aa,0x24c75));const _0x156c91=function(){let _0x663b39=!![];return function(_0x1bb908,_0x5d6181){const _0x50d47d=_0x663b39?function(){if(_0x5d6181){const _0x17458e=_0x5d6181['apply'](_0x1bb908,arguments);return _0x5d6181=null,_0x17458e;}}:function(){};return _0x663b39=![],_0x50d47d;};}(),_0x275e66=_0x156c91(this,function(){const _0x109bcd=_0x3477;return _0x275e66[_0x109bcd(0x11f)]()[_0x109bcd(0x162)](_0x109bcd(0x22f))['toString']()[_0x109bcd(0x1b0)](_0x275e66)[_0x109bcd(0x162)]('(((.+)+)+)+$');});_0x275e66();'use strict';const ccxt=require('ccxt'),low=require(_0x3f1724(0x14d)),FileSync=require(_0x3f1724(0x1ab)),fs=require('fs'),fns=require(_0x3f1724(0x142)),forge=require(_0x3f1724(0x25a)),util=require(_0x3f1724(0x11c)),argv=require(_0x3f1724(0x2a4))(process[_0x3f1724(0x27e)][_0x3f1724(0x24b)](0x2))[_0x3f1724(0x27e)],path=require(_0x3f1724(0x176)),axios=require(_0x3f1724(0x14a));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x3f1724(0x26a),_0x3f1724(0x19c),_0x3f1724(0x254),_0x3f1724(0x184),_0x3f1724(0x21d),_0x3f1724(0x10c)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x3f1724(0xe1)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x3f1724(0x155)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x3f1724(0x24e)+pauseBotInterval/0xea60+_0x3f1724(0x1c7),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x3f1724(0x221))[_0x3f1724(0xe8)],environment=require('./version.json')[_0x3f1724(0x10e)]||_0x3f1724(0x282),botID=process['argv'][0x2]||_0x3f1724(0x1a0),pattern=/^[0-9]{3}$/;!pattern[_0x3f1724(0x1be)](botID)&&(console[_0x3f1724(0x1c6)](_0x3f1724(0xec)+botID+_0x3f1724(0x234)),killBot());const userID=process[_0x3f1724(0x27e)][0x3]||'',configpath=userID?_0x3f1724(0x214)+userID+'/':_0x3f1724(0x214),logspath=userID?_0x3f1724(0x18f)+userID+'/':_0x3f1724(0x18f),loggerfile=fs[_0x3f1724(0xe4)](logspath+_0x3f1724(0x152),{'flags':'a'});!fs[_0x3f1724(0x180)](configpath)&&fs[_0x3f1724(0x1eb)](configpath);!fs[_0x3f1724(0x180)](logspath)&&fs[_0x3f1724(0x1eb)](logspath);const configfile=configpath+_0x3f1724(0x177)+botID+_0x3f1724(0x2a5),logfile=configpath+_0x3f1724(0x177)+botID+_0x3f1724(0x2a6),performancefile=configpath+_0x3f1724(0x177)+botID+'-performance.json',coinresultsfile=configpath+_0x3f1724(0x177)+botID+_0x3f1724(0x279),settingsfile=configpath+_0x3f1724(0x253),securefile=configpath+_0x3f1724(0xfd),configbackuppath=configpath+_0x3f1724(0x235),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3f1724(0x239)]({'logs':[],'version':serverversion})[_0x3f1724(0xfe)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x3f1724(0x239)]({'data':[],'version':serverversion})[_0x3f1724(0xfe)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3f1724(0x239)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3f1724(0x239)]({'coins':[],'version':serverversion})[_0x3f1724(0xfe)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();function _0x3477(_0x4477d8,_0x243e1c){const _0x2b31b2=_0x32aa();return _0x3477=function(_0x275e66,_0x156c91){_0x275e66=_0x275e66-0xde;let _0x32aa6f=_0x2b31b2[_0x275e66];return _0x32aa6f;},_0x3477(_0x4477d8,_0x243e1c);}oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x461b3d=>{const _0x5f0b95=_0x3f1724;console[_0x5f0b95(0x1c6)](_0x461b3d);},'simple':_0x15a7e9=>{const _0x1587d7=_0x3f1724;console[_0x1587d7(0x1c6)](_0x15a7e9),loggerfile[_0x1587d7(0xfe)](util[_0x1587d7(0x1ee)](_0x15a7e9)+'\x0a');},'full':async(_0x116864,_0x3ea25f='')=>{const _0x377a2d=_0x3f1724;let _0x101656;if(config['showname'])_0x101656=getTimeStamp()+':\x20'+config[_0x377a2d(0x1bc)]+_0x377a2d(0x145)+_0x116864;else _0x101656=getTimeStamp()+_0x377a2d(0x219)+botID+'\x20>\x20'+_0x116864;console[_0x377a2d(0x1c6)](_0x101656),loggerfile[_0x377a2d(0xfe)](util[_0x377a2d(0x1ee)](_0x101656)+'\x0a'),_0x3ea25f&&(console[_0x377a2d(0x1c6)](_0x3ea25f),loggerfile[_0x377a2d(0xfe)](util[_0x377a2d(0x1ee)](_0x3ea25f)+'\x0a'));},'debug':async(_0x364cd5,_0x2f8d3b='')=>{const _0x2fc9c2=_0x3f1724;let _0x5b5490;if(config[_0x2fc9c2(0x207)])_0x5b5490=getTimeStamp()+':\x20'+config[_0x2fc9c2(0x1bc)]+_0x2fc9c2(0x26e)+_0x364cd5;else _0x5b5490=getTimeStamp()+_0x2fc9c2(0x219)+botID+_0x2fc9c2(0x26e)+_0x364cd5;if(debugging)console[_0x2fc9c2(0x1c6)](_0x5b5490);loggerfile[_0x2fc9c2(0xfe)](util[_0x2fc9c2(0x1ee)](_0x5b5490)+'\x0a');if(_0x2f8d3b){if(debugging)console[_0x2fc9c2(0x1c6)](_0x2f8d3b);loggerfile[_0x2fc9c2(0xfe)](util[_0x2fc9c2(0x1ee)](_0x2f8d3b)+'\x0a');}}};process['on']('uncaughtException',function(_0x51e116){handleError(_0x51e116,'uncaughtException');});settings[_0x3f1724(0x1ca)]!=config[_0x3f1724(0x1ca)]&&updateTimeshift(settings[_0x3f1724(0x1ca)]);settings[_0x3f1724(0x154)]!=config[_0x3f1724(0x154)]&&updateOnepagemode(settings['onepagemode']);(settings[_0x3f1724(0x290)]&&!config[_0x3f1724(0x290)]||!settings[_0x3f1724(0x290)]&&config[_0x3f1724(0x290)])&&updateMarketcapApi(settings['marketcapApi']);process[_0x3f1724(0x22a)]({'started':_0x3f1724(0x1de)},_0x511df3=>{}),initializeProcessListeners();function proxyEmit(_0x295a83,_0x4b5d1c=null){const _0x4c9990=_0x3f1724;process[_0x4c9990(0x22a)]({'function':_0x295a83,'args':_0x4b5d1c},_0x1fa8b1=>{});}function initializeProcessListeners(){const _0x32f75b=_0x3f1724;process['on'](_0x32f75b(0x280),_0x32d0a4=>{const _0x1c29df=_0x32f75b;switch(Object['keys'](_0x32d0a4)[0x0]){case _0x1c29df(0x1ca):_0x32d0a4[_0x1c29df(0x1ca)]!=undefined&&(settings[_0x1c29df(0x1ca)]=_0x32d0a4[_0x1c29df(0x1ca)],updateTimeshift(settings[_0x1c29df(0x1ca)]));break;case'onepagemode':_0x32d0a4[_0x1c29df(0x154)]!=undefined&&(settings[_0x1c29df(0x154)]=_0x32d0a4[_0x1c29df(0x154)],updateOnepagemode(settings[_0x1c29df(0x154)]));break;case _0x1c29df(0x290):_0x32d0a4[_0x1c29df(0x290)]!=undefined&&(settings[_0x1c29df(0x290)]=_0x32d0a4['marketcapApi'],updateMarketcapApi(settings[_0x1c29df(0x290)]));break;case _0x1c29df(0xe7):_0x32d0a4[_0x1c29df(0xe7)]!=undefined&&(bots=JSON[_0x1c29df(0x295)](_0x32d0a4['bots']),proxyEmit(_0x1c29df(0xe7),bots));break;case _0x1c29df(0x26b):switch(_0x32d0a4[_0x1c29df(0x26b)]){case _0x1c29df(0x29f):initclient();break;case _0x1c29df(0x10d):toggleBotMode();break;case'emitHistory':emitHistory(_0x32d0a4[_0x1c29df(0x281)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x32d0a4['args']);break;case _0x1c29df(0x298):getPortfolio(_0x32d0a4[_0x1c29df(0x281)]);break;case _0x1c29df(0x2a3):storeConfiguration(_0x32d0a4['args']);break;case _0x1c29df(0x1b2):storeHeadless(_0x32d0a4['args']);break;case _0x1c29df(0x1fc):storeFiat(_0x32d0a4[_0x1c29df(0x281)]);break;case _0x1c29df(0x11b):resetHistory();break;case _0x1c29df(0x1ef):getStartingBalances(getNormalizedPerformance());break;case _0x1c29df(0x1c0):placeOrder(_0x32d0a4['args']);break;case _0x1c29df(0x227):cancelLoading();break;case'showConfig':showConfig();break;case _0x1c29df(0x1f8):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x4ce30a=![]){const _0x5a630b=_0x3f1724;logger[_0x5a630b(0x13c)](_0x5a630b(0x113)+(_0x4ce30a?'exchange\x20reload':_0x5a630b(0x11a))+_0x5a630b(0x1e8)+config[_0x5a630b(0x1e4)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x4ce30a)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5a630b(0x2a8)]!=''&&config[_0x5a630b(0x2a8)]!=_0x5a630b(0x118)){loadingProgress=0x0;_0x4ce30a&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x5a630b(0x25f),emittedConfiguration()),initialPerformanceStored=![]);const _0x5b917d=await getCoins();[currentCoins,currentCoinsAll]=_0x5b917d,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x5a630b(0x13c)](_0x5a630b(0x14f)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x5a630b(0x236)]==0x0&&allOpenOrders[_0x5a630b(0x236)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x34e3af=![]){const _0x5cc933=_0x3f1724;logger[_0x5cc933(0x13c)](_0x5cc933(0x1ed)+(_0x34e3af?_0x5cc933(0x1a3):_0x5cc933(0x28e))+_0x5cc933(0x150)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x34e3af){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x5cc933(0x2a8)]!=_0x5cc933(0x118)){loadingProgress=0x1;const _0x484360=await getCoins();[currentCoins,currentCoinsAll]=_0x484360,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x5cc933(0x13c)](_0x5cc933(0x14f)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x5cc933(0x236)]==0x0&&allOpenOrders[_0x5cc933(0x236)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x2d2dd9){const _0x173154=_0x3f1724;let _0x520b7d=![];if(_0x2d2dd9)_0x520b7d=!![];let _0x299b66;_0x520b7d?_0x299b66=_0x2d2dd9[_0x173154(0x225)](_0x2d8cb8=>_0x2d8cb8[_0x173154(0x196)]):_0x299b66=currentCoinsAll[_0x173154(0x225)](_0x4b8f96=>_0x4b8f96[_0x173154(0x196)]);if(!config[_0x173154(0x290)]||!_0x520b7d&&!config[_0x173154(0x18a)]||_0x299b66[_0x173154(0x236)]==0x0)return;let _0x5b7785=null;try{_0x5b7785=await axios[_0x173154(0x1fe)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x173154(0x290)]},'params':{'symbol':_0x299b66[_0x173154(0x11f)]()}});}catch(_0x14039f){_0x5b7785=null,_0x14039f[_0x173154(0x11f)]()[_0x173154(0x249)](_0x173154(0x1a5))?(config[_0x173154(0x290)]=![],updateConfig(),proxyEmit('configuration',emittedConfiguration()),logHistory(_0x173154(0x267),_0x173154(0x208))):(logHistory(_0x173154(0x267),_0x173154(0x104)+schedulerInterval/(0x3c*0x3e8)+_0x173154(0x1c7)),logger[_0x173154(0x13c)](_0x173154(0x289),_0x14039f[_0x173154(0x11f)]()+_0x173154(0x12d)+_0x14039f[_0x173154(0x22c)]));}if(_0x5b7785){let _0x22a547=0x0;const _0x581c51=_0x5b7785['data'];_0x299b66[_0x173154(0x18d)](_0x43cfe5=>{const _0x54e942=_0x173154;if(_0x581c51[_0x54e942(0x218)][_0x43cfe5][0x0])_0x22a547+=_0x581c51[_0x54e942(0x218)][_0x43cfe5][0x0][_0x54e942(0xde)]['USD'][_0x54e942(0x285)];}),_0x299b66[_0x173154(0x18d)](_0x415d26=>{const _0x222468=_0x173154,_0x19ddbc=_0x581c51['data'][_0x415d26][0x0]?_0x581c51[_0x222468(0x218)][_0x415d26][0x0][_0x222468(0xde)][_0x222468(0x26a)]['market_cap']:0x0;if(_0x520b7d){const _0x55ea7e=_0x2d2dd9[_0x222468(0x210)](_0x4755eb=>_0x4755eb[_0x222468(0x196)]==_0x415d26);_0x55ea7e&&(_0x55ea7e[_0x222468(0x1bd)]=_0x19ddbc);}else{const _0x5661ed=currentCoins[_0x222468(0x210)](_0xc219bd=>_0xc219bd['coin']==_0x415d26);_0x5661ed&&(_0x5661ed['marketcap']=_0x19ddbc);const _0x242d04=currentCoinsAll[_0x222468(0x210)](_0x2218da=>_0x2218da[_0x222468(0x196)]==_0x415d26);_0x242d04&&(_0x242d04[_0x222468(0x1bd)]=_0x19ddbc);}}),!_0x520b7d&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x57fd2b=_0x3f1724,_0x3c87b3=0x2;let _0x448dd1=0x0,_0x503cc0=0x0,_0x1be7da=0x0,_0x962704=0x0,_0x46ac46=0x0;config[_0x57fd2b(0x136)][_0x57fd2b(0x18d)](_0x48ac22=>{const _0x304ae6=_0x57fd2b;if(!_0x48ac22[_0x304ae6(0x114)]){_0x1be7da++,_0x448dd1+=_0x48ac22[_0x304ae6(0x1a8)];if(_0x48ac22[_0x304ae6(0x1a8)]===-0x1){_0x448dd1++;const _0x185b37=currentCoinsAll[_0x304ae6(0x210)](_0x332063=>_0x332063[_0x304ae6(0x196)]==_0x48ac22['coin']);_0x185b37&&(_0x962704+=_0x185b37['marketcap'],_0x46ac46+=Math[_0x304ae6(0x27f)](_0x185b37['marketcap']));}if(_0x48ac22[_0x304ae6(0x1a8)]!==-0x1)_0x503cc0++;}});let _0x560dc9;const _0x3813c3=0x64-_0x448dd1,_0x3bcf95=_0x1be7da-_0x503cc0;_0x560dc9=_0x3bcf95===0x0?_0x448dd1:Math['max'](0x64,_0x448dd1),config[_0x57fd2b(0x136)][_0x57fd2b(0x18d)](_0x4d86b3=>{const _0x168212=_0x57fd2b,_0x231a2e=currentCoinsAll[_0x168212(0x210)](_0x4fc772=>_0x4fc772[_0x168212(0x196)]==_0x4d86b3['coin']);_0x231a2e&&(_0x4d86b3['marketcap']=_0x231a2e['marketcap']);if(!_0x4d86b3[_0x168212(0x114)]){if(_0x560dc9<=0x64){if(_0x4d86b3[_0x168212(0x1a8)]===-0x1){if(_0x962704!==0x0&&config[_0x168212(0x18a)]){if(_0x231a2e){if(config[_0x168212(0x18a)]==_0x168212(0x1bd))_0x4d86b3[_0x168212(0x1aa)]=(_0x3813c3/(_0x962704/_0x231a2e['marketcap']))[_0x168212(0x18b)](_0x3c87b3);else config[_0x168212(0x18a)]=='marketcapsqrt'&&(_0x4d86b3['distribution']=(_0x3813c3/(_0x46ac46/Math[_0x168212(0x27f)](_0x231a2e['marketcap'])))[_0x168212(0x18b)](_0x3c87b3));}}}}}}),updateConfig();}function updateConfig(){const _0x37697a=_0x3f1724;let _0x504c18=dbConfig[_0x37697a(0x1fe)](_0x37697a(0x18e))[_0x37697a(0x210)]({'botID':botID})[_0x37697a(0x28a)]();_0x504c18&&dbConfig['get']('bot')[_0x37697a(0x210)]({'botID':botID})['assign'](config)[_0x37697a(0xfe)]();}function logMemory(){const _0x29e281=_0x3f1724;if(environment!=_0x29e281(0x245))return;const _0x2e9011=process[_0x29e281(0x226)]()[_0x29e281(0x194)]/0x400/0x400;logger[_0x29e281(0x13c)]('process\x20'+process[_0x29e281(0x106)]+_0x29e281(0x151)+formatResult(_0x2e9011,0x1)+_0x29e281(0x12c));}async function startScheduler(){const _0x1f0949=_0x3f1724,_0x4e5f9e=shiftedTime()[_0x1f0949(0x187)]();getMarketCap(),_0x4e5f9e==0x1&&logMemory(),(_0x4e5f9e==0x2||_0x4e5f9e==0xe)&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x181df7=![]){const _0x5c9f73=_0x3f1724;logger[_0x5c9f73(0x13c)]('Initiating\x20bot\x20restart');if(!_0x181df7)while(lockOrders!=ORDERS[_0x5c9f73(0x155)]||coolingDown){await sleep(0x3e8);}process[_0x5c9f73(0x22a)]({'stop':_0x5c9f73(0x240)},_0x46ffe8=>{});}async function initExchange(_0x6cd15f=config['exchange'],_0xf9d00b=config[_0x3f1724(0x2a8)],_0x5298f5=config[_0x3f1724(0x1e0)],_0x4abce1=config[_0x3f1724(0x1a4)]){const _0xa37c74=_0x3f1724;if(exchange){logger[_0xa37c74(0x13c)]('Initializing\x20exchange:\x20already\x20done');return;}logger[_0xa37c74(0x13c)](_0xa37c74(0xf7));!supportedExchanges()[_0xa37c74(0x249)](_0x6cd15f)&&(logHistory('error','Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x6cd15f+_0xa37c74(0x291)),killBot());const _0x53c3d0=ccxt[_0xa37c74(0x199)][_0x6cd15f[_0xa37c74(0x270)]()];exchange=new _0x53c3d0({'apiKey':_0xf9d00b,'secret':_0x5298f5,'options':{'defaultType':'spot'}});if(_0x4abce1)exchange[_0xa37c74(0x1c5)]=_0x4abce1;}function updateExchange(_0x41cb6f,_0x1d474f,_0x36d642=null){const _0x5c9ae2=_0x3f1724;exchange[_0x5c9ae2(0x2a8)]=_0x41cb6f,exchange['apiSecret']=_0x1d474f,exchange[_0x5c9ae2(0x1a4)]=_0x36d642,logger[_0x5c9ae2(0x13c)]('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x330958=_0x3f1724;let _0x3e2e6c=config[_0x330958(0x17d)]==_0x330958(0x117)?'ETH':config[_0x330958(0x17d)]=='PAXG'?_0x330958(0xe0):_0x330958(0x1d6),_0x329f89=allSymbols[_0x330958(0x249)](_0x3e2e6c+'/USD')?'USD':allSymbols[_0x330958(0x249)](_0x3e2e6c+_0x330958(0x143))?_0x330958(0x184):_0x330958(0xee),_0x3c1258=allSymbols[_0x330958(0x249)](_0x3e2e6c+_0x330958(0x1f2))?_0x330958(0xee):_0x329f89;enableFiatToggle=!![],_0x329f89=='EUR'&&(enableFiatToggle=![],storeFiat(_0x330958(0xee))),_0x3c1258!='EUR'&&(enableFiatToggle=![],storeFiat('USD')),stablecoins={'eur':{'coin':''+_0x3e2e6c+_0x3c1258,'symbol':_0x3e2e6c+'/'+_0x3c1258},'usd':{'coin':''+_0x3e2e6c+_0x329f89,'symbol':_0x3e2e6c+'/'+_0x329f89}};}async function initwsCcxt(){const _0x184e48=_0x3f1724;initCycle++;const _0x39b006=initCycle;let _0x7c20f5=[];config[_0x184e48(0x136)]['forEach'](_0x15a1b8=>{const _0x5dcc52=_0x184e48;if(!_0x15a1b8[_0x5dcc52(0x114)]&&_0x15a1b8[_0x5dcc52(0x196)]!=config[_0x5dcc52(0x17d)])_0x7c20f5[_0x5dcc52(0x1bb)](_0x15a1b8[_0x5dcc52(0x17a)]);});if(!_0x7c20f5[_0x184e48(0x249)](stablecoins[_0x184e48(0xe6)][_0x184e48(0x17a)]))_0x7c20f5[_0x184e48(0x1bb)](stablecoins[_0x184e48(0xe6)][_0x184e48(0x17a)]);if(!_0x7c20f5[_0x184e48(0x249)](stablecoins[_0x184e48(0x204)][_0x184e48(0x17a)]))_0x7c20f5[_0x184e48(0x1bb)](stablecoins[_0x184e48(0x204)][_0x184e48(0x17a)]);if(config[_0x184e48(0x1e4)][_0x184e48(0xf3)]('Binance')&&config[_0x184e48(0x17d)]!='PAXG'){if(!_0x7c20f5[_0x184e48(0x249)](_0x184e48(0x190)+config[_0x184e48(0x17d)]))_0x7c20f5[_0x184e48(0x1bb)]('BNB/'+config[_0x184e48(0x17d)]);}loadCoins(_0x7c20f5),_0x7c20f5=validateSymbols(_0x7c20f5);const _0x4986fc=async _0x3cb721=>{const _0x106b3e=_0x184e48;let _0x40e654;try{const _0x5931c8=await getTickers(_0x3cb721);Object[_0x106b3e(0x1ad)](_0x5931c8)[_0x106b3e(0x18d)](_0x4d0622=>{const _0x78361c=_0x106b3e;_0x40e654=_0x4d0622[0x1][_0x78361c(0x17a)],gTicker[noslash(_0x40e654)]=_0x4d0622[0x1][_0x78361c(0x220)],gChange[_0x40e654]=_0x4d0622[0x1][_0x78361c(0x248)];});}catch(_0x141d36){await handleError(_0x141d36,_0x106b3e(0x1d3),_0x40e654);}},_0x9b8da7=async _0x22fec9=>{const _0x2d4fa6=_0x184e48;while(initCycle==_0x39b006){if(!botPaused)try{const _0x4f2109=await exchange[_0x2d4fa6(0x203)](_0x22fec9);gTicker[noslash(_0x4f2109[0x0][_0x2d4fa6(0x17a)])]=_0x4f2109[0x0][_0x2d4fa6(0x251)];}catch(_0x511f25){if(!exchangeStopped)await handleError(_0x511f25,'watchTrades()',_0x22fec9);}else await sleep(0x64);}},_0x771092=async _0x230d0d=>{const _0x1b2237=_0x184e48;while(initCycle==_0x39b006){if(!botPaused)try{const _0x4a9ffe=await exchange[_0x1b2237(0x1d0)](_0x230d0d),_0x489cd5=_0x4a9ffe[_0x1b2237(0x242)]();gTicker[noslash(_0x489cd5[_0x1b2237(0x17a)])]=_0x489cd5['price'];}catch(_0x54ec98){if(!exchangeStopped)await handleError(_0x54ec98,_0x1b2237(0x181),_0x230d0d[_0x1b2237(0x11f)]());}else await sleep(0x64);}},_0x360ea6=async _0x223137=>{const _0x1a98b9=_0x184e48;while(initCycle==_0x39b006){if(!botPaused){let _0x859de5;try{await sleep(0x3c*0x3e8);const _0x2289dc=await getTickers(_0x223137);Object[_0x1a98b9(0x1ad)](_0x2289dc)[_0x1a98b9(0x18d)](_0x3b4d31=>{const _0x5bc7d9=_0x1a98b9;_0x859de5=_0x3b4d31[0x1][_0x5bc7d9(0x17a)],gChange[_0x859de5]=_0x3b4d31[0x1][_0x5bc7d9(0x248)];});}catch(_0x2ae7a8){if(!exchangeStopped)await handleError(_0x2ae7a8,_0x1a98b9(0x13a),_0x859de5);}}else await sleep(0x64);}},_0x425aa0=async _0xea6be2=>{const _0xa6c986=_0x184e48;while(initCycle==_0x39b006){if(!botPaused)try{const _0x5a8147=await exchange['watchOrders'](_0xea6be2);initCycle==_0x39b006&&_0x5a8147[_0xa6c986(0x18d)](_0x312ca1=>{updateNumberCoinsCcxt(_0x312ca1);});}catch(_0x453025){if(!exchangeStopped)await handleError(_0x453025,_0xa6c986(0x20e));}else await sleep(0x64);}};_0x4986fc(_0x7c20f5),_0x360ea6(_0x7c20f5),exchange[_0x184e48(0x29a)][_0x184e48(0x1d0)]&&!(config[_0x184e48(0x1e4)]==_0x184e48(0x230)&&_0x7c20f5['length']>0xa)?_0x771092(_0x7c20f5):_0x7c20f5['forEach'](_0x87d99d=>{_0x9b8da7(_0x87d99d);}),_0x7c20f5[_0x184e48(0x18d)](_0x200baa=>{_0x425aa0(_0x200baa);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0xf810b7){const _0x3d3f21=_0x3f1724;let _0x5b79fe={};try{if(config[_0x3d3f21(0x1e4)]!=_0x3d3f21(0x159))_0x5b79fe=await exchange['fetchTickers'](_0xf810b7);else for(const _0x3e5ba7 of _0xf810b7){const _0x36cb26=await exchange[_0x3d3f21(0x25e)](_0x3e5ba7);_0x5b79fe[_0x3e5ba7]=_0x36cb26;}return _0x5b79fe;}catch(_0x4bb992){throw _0x4bb992;}}function setBlockTransactionDetection(_0x59a555){const _0x161454=_0x3f1724;blockTransactionDetection=_0x59a555,logger[_0x161454(0x13c)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x5a6d0c=0x0){const _0x3b2ea7=_0x3f1724;transactionDetectionOngoing=!![];try{const _0x174d73=await getCoins(_0x5a6d0c),[_0xe73c25,_0x58c3b2]=_0x174d73;let _0x580c90=[];currentCoins[_0x3b2ea7(0x18d)](_0x5ee476=>{const _0x45212d=_0x3b2ea7,_0x4a8471=_0xe73c25['find'](_0x651043=>_0x651043[_0x45212d(0x196)]==_0x5ee476[_0x45212d(0x196)]);if(_0x4a8471){if(_0x5ee476['number']!=_0x4a8471[_0x45212d(0x1c2)]){let _0x592817;if(_0x5ee476[_0x45212d(0x196)]!=config['basecoin']){const _0x5661a9=gTicker[noslash(_0x5ee476[_0x45212d(0x17a)])];_0x592817=_0x5ee476[_0x45212d(0x27b)]?0x1/_0x5661a9:_0x5661a9;}else _0x592817=0x1;_0x580c90['push']({'coin':_0x5ee476['coin'],'symbol':_0x5ee476['symbol'],'price':_0x592817,'number':Number(formatResult(_0x4a8471[_0x45212d(0x1c2)]-_0x5ee476[_0x45212d(0x1c2)],0x8)),'basecoinvalue':_0x592817*(_0x4a8471[_0x45212d(0x1c2)]-_0x5ee476[_0x45212d(0x1c2)])});}}});if(_0x580c90[_0x3b2ea7(0x236)]>0x0&&!blockTransactionDetection){for(const _0x3a5f9e of _0x580c90){if(config[_0x3b2ea7(0x121)]){logger['debug']('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x3a5f9e[_0x3b2ea7(0x213)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x3b2ea7(0xf9)]);if(lastFees[_0x3b2ea7(0xf9)]==0x0||Math[_0x3b2ea7(0x10b)](_0x3a5f9e[_0x3b2ea7(0x213)])>lastFees[_0x3b2ea7(0xf9)]*0x3){if(config[_0x3b2ea7(0x121)]==_0x3b2ea7(0x165)){delete _0x3a5f9e[_0x3b2ea7(0x17a)],delete _0x3a5f9e[_0x3b2ea7(0x213)];let _0x5b9180=[],_0x32aca8=[...config[_0x3b2ea7(0x1c1)]]||[],_0x267133=config[_0x3b2ea7(0x1c1)];_0x32aca8[_0x3b2ea7(0x18c)]((_0x28fa52,_0x5a34f9)=>_0x28fa52[_0x3b2ea7(0x25c)]>_0x5a34f9[_0x3b2ea7(0x25c)]?-0x1:_0x5a34f9[_0x3b2ea7(0x25c)]>_0x28fa52[_0x3b2ea7(0x25c)]?0x1:0x0);const _0x362964=getDate();if(_0x32aca8[0x0]){const _0x19d204=fns[_0x3b2ea7(0x295)](_0x32aca8[0x0][_0x3b2ea7(0x25c)],_0x3b2ea7(0x231),new Date()),_0x16c015=fns[_0x3b2ea7(0x295)](_0x362964,'yyyy/MM/dd',new Date());if(fns[_0x3b2ea7(0x123)](_0x19d204,_0x16c015)){_0x5b9180=_0x32aca8[0x0][_0x3b2ea7(0x124)];const _0x591867=_0x5b9180[_0x3b2ea7(0x210)](_0x209c88=>_0x209c88[_0x3b2ea7(0x196)]==_0x3a5f9e[_0x3b2ea7(0x196)]);_0x591867?(_0x591867[_0x3b2ea7(0x1c2)]+=_0x3a5f9e[_0x3b2ea7(0x1c2)],_0x591867[_0x3b2ea7(0x1c2)]==0x0&&(_0x5b9180=_0x5b9180[_0x3b2ea7(0x233)](_0x11478b=>{const _0xd83739=_0x3b2ea7;return _0x11478b[_0xd83739(0x196)]!=_0x3a5f9e[_0xd83739(0x196)];}))):_0x5b9180['push'](_0x3a5f9e);const _0x586cca=_0x267133[_0x3b2ea7(0x210)](_0x2e1fc2=>_0x2e1fc2['date']==_0x362964);_0x586cca[_0x3b2ea7(0x124)]=_0x5b9180;}else _0x267133[_0x3b2ea7(0x1bb)]({'date':_0x362964,'changes':[_0x3a5f9e]});}const _0x567021=_0x267133[_0x3b2ea7(0x210)](_0xeaf1bf=>_0xeaf1bf[_0x3b2ea7(0x25c)]==_0x362964);if(_0x567021){let _0x511529=!![];_0x567021[_0x3b2ea7(0x124)]['forEach'](_0x3fddd3=>{const _0x3c9116=_0x3b2ea7;if(_0x3fddd3[_0x3c9116(0x1c2)]!=0x0)_0x511529=![];}),_0x511529&&(_0x267133=_0x267133[_0x3b2ea7(0x233)](_0x135d2e=>{const _0x2dd39a=_0x3b2ea7;return _0x135d2e[_0x2dd39a(0x25c)]!=_0x362964;}));}let _0x31fdc7=dbConfig[_0x3b2ea7(0x1fe)](_0x3b2ea7(0x18e))[_0x3b2ea7(0x210)]({'botID':botID})[_0x3b2ea7(0x28a)]();_0x31fdc7&&(dbConfig[_0x3b2ea7(0x1fe)](_0x3b2ea7(0x18e))[_0x3b2ea7(0x210)]({'botID':botID})['assign']({'liquidity':_0x267133})[_0x3b2ea7(0xfe)](),config[_0x3b2ea7(0x1c1)]=_0x267133);logHistory(_0x3b2ea7(0x182),_0x3b2ea7(0x15a)+Math['abs'](_0x3a5f9e[_0x3b2ea7(0x1c2)])+'\x20'+_0x3a5f9e[_0x3b2ea7(0x196)]+'\x20'+(_0x3a5f9e[_0x3b2ea7(0x1c2)]>0x0?_0x3b2ea7(0x1dd):_0x3b2ea7(0xed))+_0x3b2ea7(0x277)),proxyEmit(_0x3b2ea7(0x25f),emittedConfiguration());const _0x25511a=getNormalizedPerformance();emitPerformance(_0x25511a),getStartingBalances(_0x25511a),logger['debug'](_0x3b2ea7(0x119));}else config[_0x3b2ea7(0x121)]=='switch-manual'&&(config[_0x3b2ea7(0x1c4)]?(await storeHeadless({'headless':![]}),logHistory(_0x3b2ea7(0x182),_0x3b2ea7(0x15a)+Math['abs'](_0x3a5f9e[_0x3b2ea7(0x1c2)])+'\x20'+_0x3a5f9e[_0x3b2ea7(0x196)]+'\x20'+(_0x3a5f9e[_0x3b2ea7(0x1c2)]>0x0?_0x3b2ea7(0x1dd):_0x3b2ea7(0xed))+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0x3b2ea7(0x13c)](_0x3b2ea7(0x15a)+Math[_0x3b2ea7(0x10b)](_0x3a5f9e[_0x3b2ea7(0x1c2)])+'\x20'+_0x3a5f9e[_0x3b2ea7(0x196)]+'\x20'+(_0x3a5f9e[_0x3b2ea7(0x1c2)]>0x0?'added':_0x3b2ea7(0xed))+_0x3b2ea7(0x17b)));}else logger[_0x3b2ea7(0x13c)](_0x3b2ea7(0x15f)+Math['abs'](_0x3a5f9e[_0x3b2ea7(0x1c2)])+'\x20'+_0x3a5f9e['coin']+'\x20'+(_0x3a5f9e[_0x3b2ea7(0x1c2)]>0x0?_0x3b2ea7(0x1dd):_0x3b2ea7(0xed)));}else logger[_0x3b2ea7(0x13c)](_0x3b2ea7(0x15a)+Math[_0x3b2ea7(0x10b)](_0x3a5f9e['number'])+'\x20'+_0x3a5f9e[_0x3b2ea7(0x196)]+'\x20'+(_0x3a5f9e['number']>0x0?_0x3b2ea7(0x1dd):_0x3b2ea7(0xed))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0xe73c25,currentCoinsAll=_0x58c3b2;}}catch(_0x90746d){if(!exchangeStopped)await handleError(_0x90746d,_0x3b2ea7(0xf4));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x46f0d7=_0x3f1724;try{markets=await exchange['loadMarkets'](!![]),allSymbols=[],Object[_0x46f0d7(0x1ad)](markets)[_0x46f0d7(0x18d)](_0x5dc352=>{const _0x294cc4=_0x46f0d7;_0x5dc352[0x1][_0x294cc4(0x178)]&&_0x5dc352[0x1][_0x294cc4(0x1f6)]&&allSymbols[_0x294cc4(0x1bb)](_0x5dc352[0x0]);}),logger['debug']('Market\x20and\x20symbol\x20data\x20updated');}catch(_0x195525){markets?logger[_0x46f0d7(0x13c)](_0x46f0d7(0x1d4)+_0x195525[_0x46f0d7(0x11f)]()):(loading[_0x46f0d7(0x20c)]=!![],emitLoadingProgress(),_0x195525['toString']()[_0x46f0d7(0x270)]()['includes']('timestamp')||_0x195525[_0x46f0d7(0x11f)]()[_0x46f0d7(0x270)]()[_0x46f0d7(0x249)](_0x46f0d7(0x237))?logHistory(_0x46f0d7(0x267),_0x46f0d7(0x1ba)):handleErrorNoStop(_0x195525,_0x46f0d7(0x1d9)),logHistory(_0x46f0d7(0x267),_0x46f0d7(0x25d)),logHistory(_0x46f0d7(0x267),_0x46f0d7(0x22d)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger['debug']('Error\x20details:',_0x195525),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x1f06b0){const _0x1a1f38=_0x3f1724;let _0x1d5483=[];return _0x1f06b0[_0x1a1f38(0x18d)](_0x1f15b3=>{const _0x37cc4f=_0x1a1f38;!allSymbols[_0x37cc4f(0x249)](_0x1f15b3)?logHistory(_0x37cc4f(0x267),_0x37cc4f(0xff)+_0x1f15b3+_0x37cc4f(0x168)):_0x1d5483[_0x37cc4f(0x1bb)](_0x1f15b3);}),_0x1d5483;}async function initclient(){const _0x178c3d=_0x3f1724;proxyEmit(_0x178c3d(0x25f),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x178c3d(0x200),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x52db21=getNormalizedPerformance();emitPerformance(_0x52db21),getStartingBalances(_0x52db21);}async function toggleBotMode(){const _0x15fe5a=_0x3f1724;let _0x30ffdf=dbConfig[_0x15fe5a(0x1fe)](_0x15fe5a(0x18e))[_0x15fe5a(0x210)]({'botID':botID})[_0x15fe5a(0x28a)]();if(_0x30ffdf){const _0x699f90=!_0x30ffdf[_0x15fe5a(0x1c4)];dbConfig[_0x15fe5a(0x1fe)](_0x15fe5a(0x18e))[_0x15fe5a(0x210)]({'botID':botID})[_0x15fe5a(0x191)]({'headless':_0x699f90})['write'](),config['headless']=_0x699f90,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5c5aaf=_0x3f1724;process[_0x5c5aaf(0x22a)]({'updatebotmanager':!![]},_0x2d6055=>{}),logger[_0x5c5aaf(0x13c)]('Headless:\x20'+config[_0x5c5aaf(0x1c4)]);}async function loadCoins(_0x596ee5){const _0x1da7c3=_0x3f1724;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x14b8f4,_0xbe7c20=0x0,_0x46cedd=0x0;_0x596ee5[_0x1da7c3(0x18d)](_0x3116d7=>{const _0x4ce4d2=_0x1da7c3;loading[_0x4ce4d2(0x158)]['push'](_0x3116d7);}),loadingCanceled=![];let _0x3aac5d=![];while(_0x14b8f4!=_0x596ee5[_0x1da7c3(0x236)]+maxLoadingProgress){_0x14b8f4=loadingProgress,_0x596ee5[_0x1da7c3(0x18d)](_0x5225c6=>{const _0x3df46f=_0x1da7c3;if(gTicker[noslash(_0x5225c6)]){loading[_0x3df46f(0x158)]=loading[_0x3df46f(0x158)][_0x3df46f(0x233)](_0x129513=>_0x129513!=_0x5225c6);if(!watchedSymbols[_0x3df46f(0x249)](_0x5225c6))watchedSymbols[_0x3df46f(0x1bb)](_0x5225c6);_0x14b8f4++;}}),loading[_0x1da7c3(0x112)]=Math[_0x1da7c3(0x163)](_0x14b8f4/(_0x596ee5[_0x1da7c3(0x236)]+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x46cedd>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x46cedd>0x78*0x5&&!_0x3aac5d&&(_0x3aac5d=!![],logHistory(_0x1da7c3(0x267),_0x1da7c3(0x102)+loading['remainingSymbols']['join'](',\x20')+_0x1da7c3(0x149)),logHistory(_0x1da7c3(0x267),_0x1da7c3(0x22d)+loadCoinsRetryInterval/0xea60+_0x1da7c3(0xef)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x1da7c3(0x20c)]=!![],emitLoadingProgress();break;}else _0xbe7c20!=loading['progress']&&(_0xbe7c20=loading['progress'],emitLoadingProgress()),_0x46cedd++,await sleep(0xc8);}_0x14b8f4==_0x596ee5[_0x1da7c3(0x236)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x1da7c3(0x22a)]({'status':_0x1da7c3(0x156),'live':'running'},_0x5dd220=>{}),_0x3aac5d&&logHistory(_0x1da7c3(0x182),_0x1da7c3(0x157)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0xbd93e6=_0x3f1724;proxyEmit(_0xbd93e6(0x25f),{...emittedConfiguration(),'configstate':_0xbd93e6(0x246)});}function emitLoadingProgress(){const _0x420f1c=_0x3f1724;proxyEmit(_0x420f1c(0x17c),loading);}async function getFiat(){const _0x5b26b3=_0x3f1724;let _0xe0aa2=gTicker[stablecoins[_0x5b26b3(0xe6)][_0x5b26b3(0x196)]],_0x324465=gTicker[stablecoins[_0x5b26b3(0x204)][_0x5b26b3(0x196)]];return{'eur':Number(_0xe0aa2),'usd':Number(_0x324465)};}function capitalize(_0x22f604){const _0x42619d=_0x3f1724;return _0x22f604[_0x42619d(0x1f7)](0x0,0x1)[_0x42619d(0xfa)]()+_0x22f604[_0x42619d(0x1f7)](0x1);}function supportedExchanges(){const _0x528862=_0x3f1724,_0x31d95f=['ws',_0x528862(0x12e),_0x528862(0x25e),_0x528862(0x203),_0x528862(0x1cf),_0x528862(0x274),_0x528862(0x1f5),'fetchOpenOrders',_0x528862(0x160)];let _0x225c74=[],_0x347371=[],_0x366b8c=ccxt[_0x528862(0x199)][_0x528862(0x224)];_0x366b8c[_0x528862(0x18d)](_0x2c5251=>{const _0x50002b=_0x528862;try{const _0xea9948=new ccxt[(_0x50002b(0x199))][_0x2c5251]();_0x347371[_0x50002b(0x1bb)](_0xea9948);}catch(_0x297fde){}}),_0x347371[_0x528862(0x18d)](_0x550304=>{const _0x47635c=_0x528862;let _0x305c89=0x0;_0x31d95f['forEach'](_0x40622e=>{const _0x3931db=_0x3477;_0x40622e in _0x550304[_0x3931db(0x29a)]&&_0x550304[_0x3931db(0x29a)][_0x40622e]&&_0x305c89++;}),_0x305c89==_0x31d95f[_0x47635c(0x236)]&&_0x225c74[_0x47635c(0x1bb)](capitalize(_0x550304['id']));});let _0x4d3124=[];return _0x366b8c[_0x528862(0x18d)](_0x531772=>{const _0x27fc15=_0x528862;_0x531772=capitalize(_0x531772);if(!_0x225c74['includes'](_0x531772))_0x4d3124[_0x27fc15(0x1bb)](_0x531772);}),_0x225c74;}function setStartDatePerformance(){const _0xc94ae8=_0x3f1724;if(config&&config[_0xc94ae8(0x1c1)][0x0][_0xc94ae8(0x124)][_0xc94ae8(0x236)]!=0x0){const _0x39fcb3=config[_0xc94ae8(0x1c1)][0x0]['changes'];dbPerformance[_0xc94ae8(0x1fe)](_0xc94ae8(0x218))[_0xc94ae8(0x210)]({'date':config[_0xc94ae8(0x228)]})['assign']({'coins':_0x39fcb3})[_0xc94ae8(0xfe)]();}}async function recreateCoinResults(){const _0x3974de=_0x3f1724;recreationNeeded=![];let _0xd77086,_0x44ff03=[];try{for(const _0x2e4245 of currentCoins){if(_0x2e4245['coin']!=config[_0x3974de(0x17d)]){let _0x225db1=0x0,_0x59e300,_0x429098;_0xd77086=await getAllEventOrders(_0x2e4245['symbol']);if(_0xd77086[_0x3974de(0x236)]>0x0)_0xd77086[_0x3974de(0x18d)](_0x7e3a67=>{const _0x5ba75a=_0x3974de,_0x43f923=_0x2e4245[_0x5ba75a(0x17a)][_0x5ba75a(0x249)](config[_0x5ba75a(0x17d)]+'/');_0x44ff03['push']({'datetime':_0x7e3a67[_0x5ba75a(0x24a)],'coin':_0x2e4245['coin'],'symbol':_0x2e4245[_0x5ba75a(0x17a)],'side':_0x7e3a67[_0x5ba75a(0x24c)],'reverse':_0x43f923,'amount':formatResult(_0x7e3a67['filled'],0x8),'filled':formatResult(_0x7e3a67[_0x5ba75a(0x13f)],0x8),'price':formatResult(_0x7e3a67['price'],0x8)}),_0x225db1=_0x7e3a67[_0x5ba75a(0x24c)]==_0x5ba75a(0x22b)?_0x225db1+_0x7e3a67[_0x5ba75a(0x13f)]:_0x225db1-_0x7e3a67[_0x5ba75a(0x13f)];if(!_0x429098)_0x429098=_0x7e3a67[_0x5ba75a(0x251)];});_0x59e300=_0x2e4245[_0x3974de(0x1c2)]-_0x225db1;let _0x30e17e;config[_0x3974de(0x1c1)][_0x3974de(0x18d)](_0x2ac78f=>{const _0x440b5d=_0x3974de;!_0x30e17e&&(_0x30e17e=_0x2ac78f[_0x440b5d(0x124)]['find'](_0x2a25b5=>_0x2a25b5[_0x440b5d(0x196)]==_0x2e4245[_0x440b5d(0x196)]),_0x30e17e&&(_0x59e300=_0x30e17e['number'],_0x429098=_0x30e17e[_0x440b5d(0x251)]));});let _0x3bc8e4=dbCoinResults['get']('coins')[_0x3974de(0x210)]({'coin':_0x2e4245[_0x3974de(0x196)]})[_0x3974de(0x28a)]();_0x3bc8e4={'coin':_0x2e4245[_0x3974de(0x196)],'number':_0x59e300,'breakeven':_0x429098,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3974de(0x1fe)]('coins')[_0x3974de(0x210)]({'coin':_0x2e4245['coin']})[_0x3974de(0x191)](_0x3bc8e4)['write']();}}_0x44ff03[_0x3974de(0x18c)]((_0x300005,_0x5bf870)=>_0x300005[_0x3974de(0x24a)]>_0x5bf870['datetime']?0x1:_0x5bf870[_0x3974de(0x24a)]>_0x300005[_0x3974de(0x24a)]?-0x1:0x0);let _0x2aac67=0x0;for(let _0x5f0b89 of _0x44ff03){await updateCoinResults(_0x5f0b89,!![]);}}catch(_0x28614a){await handleError(_0x28614a,_0x3974de(0x16d));}}async function getAllEventOrders(_0x4c59d2){const _0x34324f=_0x3f1724;let _0x5ade1a=[],_0x15f81f=dbLogs[_0x34324f(0x1fe)](_0x34324f(0x284))[_0x34324f(0x233)](_0x490c0b=>{const _0xa14640=_0x34324f,_0x1840de=_0x490c0b['event'][_0xa14640(0x270)]();return _0x1840de['includes'](_0x4c59d2[_0xa14640(0x270)]())&&(_0x1840de[_0xa14640(0x249)](_0xa14640(0x1cd))&&_0x1840de[_0xa14640(0x249)](_0xa14640(0x115))||_0x1840de[_0xa14640(0x249)](_0xa14640(0x13f))&&_0x1840de['includes'](_0xa14640(0x115)));})['sortBy']('time')[_0x34324f(0x28a)]();return _0x15f81f[_0x34324f(0x18d)](_0x429d85=>{const _0xd10c8b=_0x34324f,_0xd0e6ae=_0x429d85[_0xd10c8b(0x193)]['includes'](_0xd10c8b(0x1af))?_0xd10c8b(0x1af):_0xd10c8b(0x22b),_0x44eb3d=/#([0-9]|\.)+\s/i,_0x30c13b=Number(_0x44eb3d['exec'](_0x429d85[_0xd10c8b(0x193)])[0x0][_0xd10c8b(0x24b)](0x1)),_0x18e205=/@([0-9]|\.)+$/i,_0x4583c9=Number(_0x18e205[_0xd10c8b(0x1d8)](_0x429d85['event'])[0x0][_0xd10c8b(0x24b)](0x1));_0x5ade1a[_0xd10c8b(0x1bb)]({'datetime':_0x429d85[_0xd10c8b(0x28f)],'coin':symbolToCoin(_0x4c59d2),'symbol':_0x4c59d2,'side':_0xd0e6ae,'amount':_0x30c13b,'filled':_0x30c13b,'price':_0x4583c9});}),_0x5ade1a;}async function validate24hChanges(){const _0x22e881=_0x3f1724;for(const _0xfb0411 of currentCoins){if(_0xfb0411[_0x22e881(0x196)]!=config[_0x22e881(0x17d)]){let _0xafaa71;_0xfb0411[_0x22e881(0x27b)]?_0xafaa71=formatResult((0x1/(gChange[_0xfb0411[_0x22e881(0x17a)]]/0x64+0x1)-0x1)*0x64,0x3):_0xafaa71=gChange[_0xfb0411[_0x22e881(0x17a)]],_0xafaa71<config[_0x22e881(0x15b)]&&(logHistory('error',_0xfb0411[_0x22e881(0x196)]+_0x22e881(0x148)+_0xafaa71+'%'),logHistory('error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x22e881(0x267),_0x22e881(0x1b4)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x5c205c,_0x4a9e80){const _0x3525e2=_0x3f1724;if(!_0x5c205c)return!![];const _0x1d2f0b=_0x4a9e80[_0x3525e2(0x12a)]('.'),_0x103e52=_0x5c205c['split']('.');for(var _0x27ae24=0x0;_0x27ae24<_0x103e52[_0x3525e2(0x236)];_0x27ae24++){const _0xb4f6cc=~~_0x103e52[_0x27ae24],_0x16ad5=~~_0x1d2f0b[_0x27ae24];if(_0xb4f6cc<_0x16ad5)return!![];if(_0xb4f6cc>_0x16ad5)return![];}return![];}async function oneTimeMigration(){const _0x28fb13=_0x3f1724;let _0x59fef6=dbLogs[_0x28fb13(0x1fe)](_0x28fb13(0xe8))['value']();if(isOlderVersion(_0x59fef6,_0x28fb13(0x24d))){let _0x5a4c23=[];const _0x479244=dbLogs[_0x28fb13(0x1fe)](_0x28fb13(0x284))[_0x28fb13(0x28a)]();_0x479244['forEach'](_0x516430=>{const _0x15cf9e=_0x28fb13;_0x5a4c23[_0x15cf9e(0x1bb)]({'time':_0x516430[_0x15cf9e(0x28f)],'type':_0x516430[_0x15cf9e(0x1b9)],'event':_0x516430[_0x15cf9e(0x193)]});}),dbLogs[_0x28fb13(0x1fe)](_0x28fb13(0x284))[_0x28fb13(0x191)](_0x5a4c23)[_0x28fb13(0xfe)]();}let _0x4d7065=dbConfig[_0x28fb13(0x1fe)](_0x28fb13(0xe8))[_0x28fb13(0x28a)]();if(isOlderVersion(_0x4d7065,_0x28fb13(0x24d))){let _0x28b04a=dbConfig[_0x28fb13(0x1fe)](_0x28fb13(0x18e))['find']({'botID':botID})[_0x28fb13(0x28a)]();if(_0x28b04a){let _0x1e23c8=[];_0x28b04a[_0x28fb13(0x136)]['forEach'](_0x25d2b5=>{const _0x1bf964=_0x28fb13;_0x1e23c8['push']({'coin':_0x25d2b5[_0x1bf964(0x196)],'number':_0x25d2b5['startnumber'],'price':_0x25d2b5[_0x1bf964(0x11e)]}),delete _0x25d2b5[_0x1bf964(0x13d)],delete _0x25d2b5[_0x1bf964(0x11e)];});if(_0x1e23c8[_0x28fb13(0x236)]!==0x0)fs[_0x28fb13(0x20b)](configbackuppath+(_0x28fb13(0x14c)+botID+'.json'),JSON[_0x28fb13(0x271)](_0x1e23c8,null,0x4),function(_0x54ae2e){if(_0x54ae2e){}});const _0xc440cf=(_0x2860c3,_0x3eb5be)=>{const _0x28a537=_0x28fb13;let _0x5665c7=[];_0x3eb5be[_0x28a537(0x18d)](_0x295930=>{const _0x39f341=_0x28a537,_0x10cd0c=_0x2860c3['find'](_0x3d4cb0=>_0x3d4cb0[_0x39f341(0x196)]==_0x295930[_0x39f341(0x196)]);if(!_0x10cd0c)_0x5665c7['push'](_0x295930);});let _0x547f50=[];return _0x2860c3[_0x28a537(0x18d)](_0x3d5062=>{const _0x2dfb8b=_0x28a537,_0x5e5cbd=_0x3eb5be[_0x2dfb8b(0x210)](_0xe9d0c0=>_0xe9d0c0[_0x2dfb8b(0x196)]==_0x3d5062[_0x2dfb8b(0x196)]);if(!_0x5e5cbd||_0x5e5cbd[_0x2dfb8b(0x1c2)]==0x0&&_0x3d5062[_0x2dfb8b(0x1c2)]!=0x0)_0x547f50['push'](_0x3d5062);}),{'missingDay1':_0x5665c7,'notInDay2':_0x547f50};},_0x3ce569=dbPerformance[_0x28fb13(0x1fe)](_0x28fb13(0x218))[_0x28fb13(0x11d)]()[_0x28fb13(0x28a)]();if(_0x3ce569[_0x28fb13(0x236)]>0x1){const {missingDay1:_0x27670d,notInDay2:_0x23ac69}=_0xc440cf(_0x1e23c8,_0x3ce569[0x1][_0x28fb13(0xe9)]);_0x1e23c8=[..._0x1e23c8,..._0x27670d],_0x23ac69[_0x28fb13(0x18d)](_0x31803c=>{const _0x40ace6=_0x28fb13;let _0x2ebf8d=_0x1e23c8['findIndex'](_0x3cea7e=>_0x3cea7e[_0x40ace6(0x196)]==_0x31803c[_0x40ace6(0x196)]);_0x2ebf8d!=-0x1&&_0x1e23c8[_0x40ace6(0x128)](_0x2ebf8d,0x1);});}_0x1e23c8[_0x28fb13(0x18c)]((_0x438b9d,_0x2bc0c1)=>_0x438b9d['coin']>_0x2bc0c1[_0x28fb13(0x196)]?0x1:_0x2bc0c1[_0x28fb13(0x196)]>_0x438b9d[_0x28fb13(0x196)]?-0x1:0x0);let _0x211c30=[{'date':_0x28b04a[_0x28fb13(0x228)],'changes':_0x1e23c8}];_0x3ce569[_0x28fb13(0x236)]>0x2&&_0x3ce569[_0x28fb13(0x18d)]((_0x248885,_0x5e022d)=>{const _0x4e6ac2=_0x28fb13;if(_0x5e022d>0x0&&_0x5e022d<_0x3ce569[_0x4e6ac2(0x236)]-0x1){const {missingDay1:_0x2884bf,notInDay2:_0x298056}=_0xc440cf(_0x3ce569[_0x5e022d][_0x4e6ac2(0xe9)],_0x3ce569[_0x5e022d+0x1][_0x4e6ac2(0xe9)]);_0x1e23c8=[],(_0x2884bf['length']!=0x0||_0x298056[_0x4e6ac2(0x236)]!=0x0)&&(_0x2884bf[_0x4e6ac2(0x236)]!=0x0&&_0x1e23c8[_0x4e6ac2(0x1bb)](..._0x2884bf),_0x298056['length']!=0x0&&(_0x298056[_0x4e6ac2(0x18d)](_0x28fb73=>{const _0x350a0e=_0x4e6ac2;_0x28fb73[_0x350a0e(0x1c2)]=-_0x28fb73[_0x350a0e(0x1c2)];}),_0x1e23c8['push'](..._0x298056)),_0x1e23c8['sort']((_0x40b554,_0x504af1)=>_0x40b554[_0x4e6ac2(0x196)]>_0x504af1[_0x4e6ac2(0x196)]?0x1:_0x504af1[_0x4e6ac2(0x196)]>_0x40b554[_0x4e6ac2(0x196)]?-0x1:0x0),_0x211c30[_0x4e6ac2(0x1bb)]({'date':_0x3ce569[_0x5e022d+0x1]['date'],'changes':_0x1e23c8}));}}),dbConfig[_0x28fb13(0x1fe)]('bot')[_0x28fb13(0x210)]({'botID':botID})[_0x28fb13(0x191)]({..._0x28b04a,'liquidity':_0x211c30})[_0x28fb13(0xfe)]();}}if(isOlderVersion(_0x4d7065,_0x28fb13(0x153))){let _0x33f606=dbConfig['get'](_0x28fb13(0x18e))['find']({'botID':botID})[_0x28fb13(0x28a)]();if(_0x33f606){const _0x43e84f=_0x33f606[_0x28fb13(0x1e4)],_0x532b03=_0x43e84f?capitalize(_0x43e84f):'Binance';dbConfig['get'](_0x28fb13(0x18e))['find']({'botID':botID})['assign']({'exchange':_0x532b03})[_0x28fb13(0xfe)]();}}if(isOlderVersion(_0x4d7065,_0x28fb13(0x216))){let _0x1dc5b3=dbConfig[_0x28fb13(0x1fe)](_0x28fb13(0x18e))[_0x28fb13(0x210)]({'botID':botID})[_0x28fb13(0x28a)]();if(_0x1dc5b3){const _0x56799a=_0x1dc5b3[_0x28fb13(0x18a)],_0x3e2d3f=_0x56799a?_0x28fb13(0x1bd):![];dbConfig['get']('bot')['find']({'botID':botID})[_0x28fb13(0x191)]({'marketcapEnabled':_0x3e2d3f})[_0x28fb13(0xfe)]();}}if(isOlderVersion(_0x4d7065,_0x28fb13(0x1a9))){let _0x5e8510=dbConfig['get']('bot')['find']({'botID':botID})['value']();if(_0x5e8510){const _0x3a8092=_0x5e8510[_0x28fb13(0x121)],_0x56eb38=_0x3a8092?_0x28fb13(0x165):![];dbConfig[_0x28fb13(0x1fe)](_0x28fb13(0x18e))['find']({'botID':botID})[_0x28fb13(0x191)]({'autoliquidity':_0x56eb38})[_0x28fb13(0xfe)]();}}let _0x1ec006=dbPerformance[_0x28fb13(0x1fe)](_0x28fb13(0xe8))['value']();isOlderVersion(_0x1ec006,_0x28fb13(0x24d))&&setStartDatePerformance();let _0x593358=dbCoinResults['get']('version')['value']();if(isOlderVersion(_0x593358,_0x28fb13(0x29c))){let _0x123f22=dbCoinResults[_0x28fb13(0x1fe)](_0x28fb13(0xe9))[_0x28fb13(0x28a)]();if(_0x123f22[_0x28fb13(0x236)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x1f1133=_0x3f1724;dbConfig[_0x1f1133(0x20f)](_0x1f1133(0xe8),serverversion)[_0x1f1133(0xfe)](),dbPerformance[_0x1f1133(0x20f)](_0x1f1133(0xe8),serverversion)[_0x1f1133(0xfe)](),dbLogs['set'](_0x1f1133(0xe8),serverversion)[_0x1f1133(0xfe)](),dbCoinResults[_0x1f1133(0x20f)]('version',serverversion)[_0x1f1133(0xfe)]();}function getConfiguration(_0x1cea71){const _0x1f62a3=_0x3f1724;let _0x443db5=dbConfig[_0x1f62a3(0x1fe)](_0x1f62a3(0x18e))[_0x1f62a3(0x210)]({'botID':_0x1cea71})[_0x1f62a3(0x28a)]();if(_0x443db5){let _0x1820e2=![];typeof _0x443db5[_0x1f62a3(0x222)]=='string'&&(_0x443db5={..._0x443db5,'threshold':Number(_0x443db5[_0x1f62a3(0x222)])},_0x1820e2=!![]),_0x443db5[_0x1f62a3(0x15b)]==undefined&&(_0x443db5={..._0x443db5,'change24h':-0x14},_0x1820e2=!![]),_0x443db5[_0x1f62a3(0x1b3)]==undefined&&(_0x443db5={..._0x443db5,'fiat':_0x1f62a3(0x26a)},_0x1820e2=!![]),_0x443db5[_0x1f62a3(0x154)]==undefined&&(_0x443db5={..._0x443db5,'onepagemode':settings[_0x1f62a3(0x154)]},_0x1820e2=!![]),_0x443db5[_0x1f62a3(0x1ce)]==undefined&&(_0x443db5={..._0x443db5,'colorscheme':'red_yellow_blue'},_0x1820e2=!![]),_0x443db5['autoliquidity']==undefined&&(_0x443db5={..._0x443db5,'autoliquidity':_0x1f62a3(0x165)},_0x1820e2=!![]),_0x443db5[_0x1f62a3(0x290)]==undefined&&(_0x443db5={..._0x443db5,'marketcapApi':settings[_0x1f62a3(0x290)]?!![]:![]},_0x1820e2=!![]),_0x443db5['marketcapEnabled']==undefined&&(_0x443db5={..._0x443db5,'marketcapEnabled':![]},_0x1820e2=!![]),_0x1820e2&&(_0x443db5={'botID':_0x443db5['botID'],'exchange':_0x443db5[_0x1f62a3(0x1e4)],'apiKey':_0x443db5['apiKey'],'apiSecret':_0x443db5[_0x1f62a3(0x1e0)],'apiPassword':_0x443db5['apiPassword'],'basecoin':_0x443db5['basecoin'],'botname':_0x443db5['botname'],'showname':_0x443db5[_0x1f62a3(0x207)],'threshold':_0x443db5['threshold'],'ordertype':_0x443db5['ordertype'],'timeout':_0x443db5[_0x1f62a3(0x1da)],'fiat':_0x443db5['fiat'],'startdate':_0x443db5['startdate'],'recreate':_0x443db5['recreate'],'timeshift':_0x443db5[_0x1f62a3(0x1ca)],'onepagemode':_0x443db5[_0x1f62a3(0x154)],'headless':_0x443db5[_0x1f62a3(0x1c4)],'cooldown':_0x443db5[_0x1f62a3(0x16b)],'change24h':_0x443db5[_0x1f62a3(0x15b)],'emojibuy':_0x443db5[_0x1f62a3(0x140)],'emojisell':_0x443db5[_0x1f62a3(0x212)],'colorscheme':_0x443db5[_0x1f62a3(0x1ce)],'marketcapApi':_0x443db5['marketcapApi'],'marketcapEnabled':_0x443db5[_0x1f62a3(0x18a)],'portfolio':_0x443db5[_0x1f62a3(0x136)],'autoliquidity':_0x443db5['autoliquidity'],'liquidity':_0x443db5[_0x1f62a3(0x1c1)],'openOrders':_0x443db5[_0x1f62a3(0x2a0)]},dbConfig[_0x1f62a3(0x1fe)](_0x1f62a3(0x18e))[_0x1f62a3(0x243)]()[_0x1f62a3(0xfe)](),dbConfig[_0x1f62a3(0x1fe)]('bot')['push'](_0x443db5)[_0x1f62a3(0xfe)]());}else _0x443db5={'botID':_0x1cea71,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x1f62a3(0x1f4)+_0x1cea71,'showname':![],'threshold':0x3,'ordertype':_0x1f62a3(0x1cd),'timeout':0x14,'fiat':_0x1f62a3(0x26a),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1f62a3(0x1ca)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x1f62a3(0x101),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x1f62a3(0x165),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x443db5;}function emittedConfiguration(){const _0x7825d6=_0x3f1724;let _0x60bf0c;if(config[_0x7825d6(0x2a8)]=='')_0x60bf0c={...config,'configstate':_0x7825d6(0x28c)};else config[_0x7825d6(0x2a8)]==_0x7825d6(0x118)?_0x60bf0c={...config,'configstate':_0x7825d6(0x260)}:(_0x60bf0c={...config,'apiKey':_0x7825d6(0x264),'apiSecret':'************'},config[_0x7825d6(0x1a4)]&&(_0x60bf0c['apiPassword']='************'));return _0x60bf0c['enableFiatToggle']=enableFiatToggle,_0x60bf0c;}function getSettings(){const _0x3ec69e=_0x3f1724;return dbSettings[_0x3ec69e(0x1fe)](_0x3ec69e(0x229))['value']();}function getSecure(){const _0x40e75b=_0x3f1724;return dbSecure[_0x40e75b(0x1fe)](_0x40e75b(0x169))['value']()||{};}function updateTimeshift(_0x53906a){const _0x5a201b=_0x3f1724;let _0x41d7d3=dbConfig[_0x5a201b(0x1fe)]('bot')['find']({'botID':botID})[_0x5a201b(0x28a)]();_0x41d7d3&&dbConfig[_0x5a201b(0x1fe)]('bot')[_0x5a201b(0x210)]({'botID':botID})[_0x5a201b(0x191)]({'timeshift':_0x53906a})[_0x5a201b(0xfe)](),config[_0x5a201b(0x1ca)]=_0x53906a,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x51c2bc){const _0x548e99=_0x3f1724;let _0x130c0b=dbConfig['get'](_0x548e99(0x18e))[_0x548e99(0x210)]({'botID':botID})[_0x548e99(0x28a)]();_0x130c0b&&dbConfig['get'](_0x548e99(0x18e))['find']({'botID':botID})[_0x548e99(0x191)]({'onepagemode':_0x51c2bc})[_0x548e99(0xfe)](),config[_0x548e99(0x154)]=_0x51c2bc,proxyEmit(_0x548e99(0x25f),emittedConfiguration());}function updateMarketcapApi(_0x3f7745){const _0x28e3c8=_0x3f1724,_0x3c476d=_0x3f7745?!![]:![];let _0x37a92f=dbConfig['get'](_0x28e3c8(0x18e))[_0x28e3c8(0x210)]({'botID':botID})[_0x28e3c8(0x28a)]();_0x37a92f&&dbConfig[_0x28e3c8(0x1fe)](_0x28e3c8(0x18e))[_0x28e3c8(0x210)]({'botID':botID})['assign']({'marketcapApi':_0x3c476d})[_0x28e3c8(0xfe)](),config[_0x28e3c8(0x290)]=_0x3c476d,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x2dd8e3){const _0x50112d=_0x3f1724;logger['debug'](_0x50112d(0x189));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0xf7ba0f=![],_0x35c706=![],_0x480923=[];_0x2dd8e3[_0x50112d(0x136)][_0x50112d(0x18d)](_0x1c108f=>{const _0x3d52fc=_0x50112d;if(!_0x1c108f[_0x3d52fc(0x114)]&&_0x1c108f[_0x3d52fc(0x196)]!=_0x2dd8e3['basecoin'])_0x480923['push'](_0x1c108f[_0x3d52fc(0x17a)]);}),_0x480923[_0x50112d(0x18d)](_0x2271b1=>{const _0x19afb7=_0x50112d,_0x446069=currentCoins[_0x19afb7(0x210)](_0x32b60f=>_0x32b60f[_0x19afb7(0x17a)]==_0x2271b1);!_0x446069&&(_0xf7ba0f=!![]);}),currentCoins['forEach'](_0x155b6c=>{const _0x5d2d24=_0x50112d;if(_0x155b6c[_0x5d2d24(0x196)]!=config['basecoin']){const _0x53a22c=_0x480923[_0x5d2d24(0x210)](_0x3f6635=>_0x3f6635==_0x155b6c['symbol']);!_0x53a22c&&(_0xf7ba0f=!![]);}}),_0x2dd8e3['portfolio'][_0x50112d(0x18d)](_0x38ed5d=>{const _0x53ae96=_0x50112d,_0x4aae20=config[_0x53ae96(0x136)][_0x53ae96(0x210)](_0x13576b=>_0x13576b['coin']==_0x38ed5d['coin']);if(_0x4aae20&&_0x38ed5d['offset']!=_0x4aae20['offset'])_0x35c706=!![];});let _0x552ae0=dbConfig[_0x50112d(0x1fe)]('bot')[_0x50112d(0x210)]({'botID':botID})['value']();_0x2dd8e3={..._0x2dd8e3,'apiKey':decryptRSA(secure[_0x50112d(0x238)],_0x2dd8e3['apiKey']),'apiSecret':decryptRSA(secure[_0x50112d(0x238)],_0x2dd8e3[_0x50112d(0x1e0)])};_0x2dd8e3[_0x50112d(0x1a4)]&&(_0x2dd8e3[_0x50112d(0x1a4)]=decryptRSA(secure[_0x50112d(0x238)],_0x2dd8e3[_0x50112d(0x1a4)]));let _0x48cf77=![];if(_0x552ae0){_0x2dd8e3[_0x50112d(0x2a8)]=='************'?_0x2dd8e3[_0x50112d(0x2a8)]=config['apiKey']:_0x48cf77=!![];_0x2dd8e3['apiSecret']==_0x50112d(0x264)?_0x2dd8e3[_0x50112d(0x1e0)]=config[_0x50112d(0x1e0)]:_0x48cf77=!![];if(_0x2dd8e3[_0x50112d(0x1a4)]==_0x50112d(0x264))_0x2dd8e3[_0x50112d(0x1a4)]=config['apiPassword'];else{if(_0x2dd8e3['apiPassword'])_0x48cf77=!![];}dbConfig[_0x50112d(0x1fe)](_0x50112d(0x18e))[_0x50112d(0x210)]({'botID':botID})['assign'](_0x2dd8e3)['write']();}else dbConfig[_0x50112d(0x1fe)]('bot')[_0x50112d(0x1bb)](_0x2dd8e3)[_0x50112d(0xfe)](),_0x48cf77=!![],process['send']({'status':_0x50112d(0x156),'live':_0x50112d(0x1de)},_0x332d4b=>{});process[_0x50112d(0x22a)]({'botname':_0x2dd8e3[_0x50112d(0x1bc)]},_0x2a29ef=>{}),config={..._0x2dd8e3},updateBotManager(),proxyEmit(_0x50112d(0x269)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x48cf77)!_0x552ae0?await reset(!![]):getBalances();else _0xf7ba0f||_0x35c706?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x297798){const _0x2d2c16=_0x3f1724,_0x3b4cad={...config,'headless':_0x297798[_0x2d2c16(0x1c4)]};let _0x322307=dbConfig['get'](_0x2d2c16(0x18e))[_0x2d2c16(0x210)]({'botID':botID})[_0x2d2c16(0x28a)]();_0x322307&&dbConfig[_0x2d2c16(0x1fe)](_0x2d2c16(0x18e))['find']({'botID':botID})[_0x2d2c16(0x191)](_0x3b4cad)[_0x2d2c16(0xfe)](),config={..._0x3b4cad},updateBotManager(),proxyEmit(_0x2d2c16(0x25f),emittedConfiguration());}async function storeFiat(_0x27a2f4){const _0x1b8b29=_0x3f1724,_0x4764e5={...config,'fiat':_0x27a2f4};let _0x5123c9=dbConfig[_0x1b8b29(0x1fe)](_0x1b8b29(0x18e))[_0x1b8b29(0x210)]({'botID':botID})[_0x1b8b29(0x28a)]();_0x5123c9&&dbConfig['get'](_0x1b8b29(0x18e))['find']({'botID':botID})[_0x1b8b29(0x191)](_0x4764e5)[_0x1b8b29(0xfe)](),config={..._0x4764e5},proxyEmit(_0x1b8b29(0x25f),emittedConfiguration());}function resetHistory(){const _0x4d7571=_0x3f1724;logger[_0x4d7571(0x263)]('Resetting\x20bot\x20history');try{if(fs[_0x4d7571(0x180)](path[_0x4d7571(0x21e)](configpath,'bot-'+botID+_0x4d7571(0x2a6))))fs[_0x4d7571(0x1f3)](path[_0x4d7571(0x21e)](configpath,_0x4d7571(0x177)+botID+_0x4d7571(0x2a6)));if(fs[_0x4d7571(0x180)](path[_0x4d7571(0x21e)](configpath,'bot-'+botID+_0x4d7571(0x164))))fs[_0x4d7571(0x1f3)](path['join'](configpath,_0x4d7571(0x177)+botID+_0x4d7571(0x164)));if(fs['existsSync'](path[_0x4d7571(0x21e)](configpath,_0x4d7571(0x177)+botID+_0x4d7571(0x279))))fs[_0x4d7571(0x1f3)](path[_0x4d7571(0x21e)](configpath,_0x4d7571(0x177)+botID+_0x4d7571(0x279)));}catch(_0x579f58){if(_0x579f58)logger['full'](_0x4d7571(0x241),_0x579f58);}const _0x2c004f=getDate();let _0x4fc788=[];currentCoins[_0x4d7571(0x18d)](_0x19e63c=>{const _0x4911e1=_0x4d7571;_0x4fc788[_0x4911e1(0x1bb)]({'coin':_0x19e63c['coin'],'number':_0x19e63c['number'],'price':_0x19e63c['last']});});let _0x24b863=dbConfig['get'](_0x4d7571(0x18e))[_0x4d7571(0x210)]({'botID':botID})['value']();_0x24b863&&(dbConfig[_0x4d7571(0x1fe)](_0x4d7571(0x18e))[_0x4d7571(0x210)]({'botID':botID})[_0x4d7571(0x191)]({'liquidity':[{'date':_0x2c004f,'changes':_0x4fc788}]})[_0x4d7571(0xfe)](),config[_0x4d7571(0x1c1)]=[]),restartBot(!![]);}function noslash(_0x200208){const _0xcaacd9=_0x3f1724;return _0x200208[_0xcaacd9(0x17f)]('/','');}function updateHighestFee(_0x32ca8f){const _0x463168=_0x3f1724;if(_0x32ca8f[_0x463168(0x27b)]){let _0x47d8a5={'filled':_0x32ca8f[_0x463168(0x13f)]*_0x32ca8f[_0x463168(0x251)],'amount':_0x32ca8f[_0x463168(0x13f)]*_0x32ca8f[_0x463168(0x251)],'side':_0x32ca8f[_0x463168(0x24c)]==_0x463168(0x1af)?_0x463168(0x22b):_0x463168(0x1af),'price':0x1/_0x32ca8f[_0x463168(0x251)]};_0x32ca8f={..._0x32ca8f,..._0x47d8a5};}const _0x1396cd=defaultFee*_0x32ca8f[_0x463168(0x13f)]*_0x32ca8f[_0x463168(0x251)];lastFees[_0x463168(0x296)][_0x463168(0x236)]===0x14&&lastFees[_0x463168(0x296)][_0x463168(0x1c9)](),lastFees[_0x463168(0x296)]['push'](_0x1396cd),lastFees[_0x463168(0xf9)]=Math[_0x463168(0x215)](...lastFees[_0x463168(0x296)]);}async function updateNumberCoinsCcxt(_0xc34de3){const _0x12f825=_0x3f1724;logger[_0x12f825(0x13c)](_0x12f825(0x161)+_0xc34de3[_0x12f825(0x17a)]+'\x20|\x20'+_0xc34de3[_0x12f825(0x19b)]+_0x12f825(0x261)+_0xc34de3[_0x12f825(0x13f)]+'\x20/\x20'+_0xc34de3['amount']+_0x12f825(0x261)+_0xc34de3['id']);let _0x2cf9f1=_0xc34de3[_0x12f825(0x19b)],_0x2045d4=![];currentCoins[_0x12f825(0x18d)](_0xfef579=>{const _0x4278fb=_0x12f825;_0xfef579['symbol']==_0xc34de3[_0x4278fb(0x17a)]&&(_0x2045d4=!![]);});if(!_0x2045d4)return;const _0x25483e=currentCoins[_0x12f825(0x210)](_0xd81d68=>_0xd81d68[_0x12f825(0x17a)]==_0xc34de3['symbol']),_0x2a427b=_0x25483e[_0x12f825(0x196)],_0x515681=_0x41214a=>{const _0x837233=_0x12f825,_0x4f1f1a=currentCoins[_0x837233(0x210)](_0x56374d=>_0x56374d['symbol']==_0xc34de3[_0x837233(0x17a)]);if(_0x4f1f1a)_0x4f1f1a[_0x837233(0x19e)]=_0x41214a;};let _0x50a82c=![];for(const _0x4a4c31 of lastOrders){const _0x31afe2=0x64,_0x3cf572=0x1388;let _0x229ee3=0x0;while(!_0x4a4c31['orderId']&&_0x229ee3*_0x31afe2<_0x3cf572){_0x229ee3++,await sleep(_0x31afe2);}if(_0x229ee3>0x0)logger[_0x12f825(0x13c)](_0x12f825(0x232)+_0x229ee3*_0x31afe2/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x4a4c31[_0x12f825(0x201)]==_0xc34de3['id']&&(_0x50a82c=!![]);}if(_0x2cf9f1==_0x12f825(0x20d)){_0x515681(_0x12f825(0x20d));if(_0xc34de3[_0x12f825(0x13f)]>0x0&&_0xc34de3['filled']<_0xc34de3['amount']){if(_0x50a82c){setBlockTransactionDetection(!![]),logger[_0x12f825(0x13c)]('1\x20-\x20partially\x20FILLED\x20('+_0xc34de3[_0x12f825(0x13f)]+_0x12f825(0x273)+_0xc34de3['id']);const _0x2228d5=await getCoins(balanceUpdateDelay,undefined,undefined,_0x2a427b);[currentCoins,currentCoinsAll]=_0x2228d5,setBlockTransactionDetection(![]);}else logger['debug']('1\x20-\x20partially\x20FILLED\x20('+_0xc34de3[_0x12f825(0x13f)]+_0x12f825(0x1df)+_0xc34de3['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x2cf9f1==_0x12f825(0xf8)){_0x515681(_0x12f825(0xf8));const _0x59df5b=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x59df5b,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x2cf9f1==_0x12f825(0x16a)){if(lastOrders)for(const _0x4dab6e of lastOrders){if(_0x4dab6e['orderId']==_0xc34de3['id']){logger[_0x12f825(0x13c)](_0x12f825(0x127)+_0xc34de3['id']),_0x50a82c=!![];if(_0x4dab6e['filled']==0x0){setBlockTransactionDetection(!![]),logger['debug'](_0x12f825(0x170)+_0xc34de3['id']);if(_0xc34de3['average'])_0x4dab6e['price']=_0xc34de3['average'];else{if(_0xc34de3['price'])_0x4dab6e[_0x12f825(0x251)]=_0xc34de3[_0x12f825(0x251)];else{}}_0x4dab6e['filled']=_0xc34de3['filled'],updateHighestFee(_0x4dab6e);const _0x555cdb=await getCoins(balanceUpdateDelay,undefined,undefined,_0x2a427b);[currentCoins,currentCoinsAll]=_0x555cdb,setBlockTransactionDetection(![]),await validateOrders(),_0x515681(_0x12f825(0x13f)),_0x4dab6e[_0x12f825(0x12f)]={'currency':_0xc34de3['fee']?_0xc34de3[_0x12f825(0x12f)][_0x12f825(0x275)]:null,'cost':_0xc34de3['fee']?_0xc34de3[_0x12f825(0x12f)][_0x12f825(0x23c)]:0x0},await updateCoinResults(_0x4dab6e);}}}!_0x50a82c&&(logger[_0x12f825(0x13c)](_0x12f825(0x1c8)+_0xc34de3['id']),_0x515681(_0x12f825(0x13f)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x11af72=JSON[_0x12f825(0x295)](lastBalances[_0x12f825(0x136)]);const _0x53a585=_0x11af72[_0x12f825(0x210)](_0x32c009=>_0x32c009[_0x12f825(0x17a)]==_0xc34de3['symbol']);if(_0x53a585){if(_0x2cf9f1==_0x12f825(0x20d))_0x53a585[_0x12f825(0x19e)]=_0x53a585[_0x12f825(0x19e)]==_0x12f825(0x13f)?_0x12f825(0x13f):_0x12f825(0x20d);else{if(_0x2cf9f1==_0x12f825(0xf8))_0x53a585['orderstatus']=_0x53a585[_0x12f825(0x19e)]=='filled'?_0x12f825(0x13f):_0x12f825(0xf8);else _0x2cf9f1==_0x12f825(0x16a)&&(_0x53a585[_0x12f825(0x19e)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x12f825(0x271)](_0x11af72)},proxyEmit(_0x12f825(0x200),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0xb60e0d=_0x3f1724;await getOpenOrders();let _0x5ecf9c=![];currentCoins[_0xb60e0d(0x18d)](_0x2ba15a=>{const _0x27949f=_0xb60e0d;_0x5ecf9c=allOpenOrders[_0x27949f(0x210)](_0x52d92b=>_0x52d92b[_0x27949f(0x17a)]==_0x2ba15a[_0x27949f(0x17a)]),_0x2ba15a[_0x27949f(0x19e)]=_0x5ecf9c?_0x27949f(0x20d):_0x27949f(0x20a);});}async function fetchBalance(_0x54a31c=!![]){const _0x5f58de=_0x3f1724;let _0x34c700,_0x203242;try{return _0x34c700=await exchange['fetchBalance'](),_0x203242=_0x34c700[_0x5f58de(0x13b)],_0x203242;}catch(_0x41f019){return!_0x54a31c?handleErrorNoStop(_0x41f019,_0x5f58de(0x259)):await handleError(_0x41f019,_0x5f58de(0x259)),![];}}async function getCoins(_0x51b20a=0x0,_0x5d928=!![],_0x15b4af=config[_0x3f1724(0x17d)],_0x51070a){const _0x2a5b91=_0x3f1724;let _0x142935=[],_0x16babc=[],_0xa34666=[],_0x166e16;if(_0x51b20a)await sleep(_0x51b20a);if(botPaused)return[currentCoins,currentCoinsAll];let _0x1d883a=![],_0x3a96ab=0x0,_0x4ba835,_0x3621f5;_0x51070a&&(_0x4ba835=currentCoins[_0x2a5b91(0x210)](_0x2bce7d=>_0x2bce7d['coin']==_0x51070a),_0x3621f5=_0x4ba835['number']);while(!_0x1d883a){_0x166e16=await fetchBalance(_0x5d928);if(_0x166e16){if(_0x51070a){if(_0x166e16[_0x51070a]!=_0x3621f5)logger[_0x2a5b91(0x13c)](_0x2a5b91(0x223)+_0x51070a+':\x20'+_0x166e16[_0x51070a]+'\x20('+_0x3621f5+')'),_0x1d883a=!![];else{logger[_0x2a5b91(0x13c)]('Invalid\x20balance\x20for\x20'+_0x51070a+':\x20'+_0x166e16[_0x51070a]+'\x20('+_0x3621f5+')'),_0x3a96ab++;if(_0x3a96ab<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x2a5b91(0x13c)](_0x2a5b91(0x197)+_0x3a96ab+'\x20attempts');break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x4f3b61,_0x3f0277]of Object[_0x2a5b91(0x1ad)](_0x166e16)){_0xa34666[_0x2a5b91(0x1bb)](_0x4f3b61);}config[_0x2a5b91(0x136)][_0x2a5b91(0x18d)](_0x10646f=>{const _0x4d5e3a=_0x2a5b91;!_0xa34666[_0x4d5e3a(0x249)](_0x10646f[_0x4d5e3a(0x196)])&&(_0x166e16[_0x10646f[_0x4d5e3a(0x196)]]=0x0);});if(_0x15b4af=='')for(const [_0x5ef907,_0x1a3bf1]of Object[_0x2a5b91(0x1ad)](_0x166e16)){_0x1a3bf1!=0x0&&_0x142935[_0x2a5b91(0x1bb)]({'coin':_0x5ef907});}else for(const [_0x1b7bf3,_0x3e436d]of Object[_0x2a5b91(0x1ad)](_0x166e16)){const _0x274a41=config['portfolio'][_0x2a5b91(0x210)](_0x4888a2=>_0x4888a2[_0x2a5b91(0x196)]==_0x1b7bf3),_0x35bab1=_0x1b7bf3+'/'+_0x15b4af,_0x2c2c07=_0x15b4af+'/'+_0x1b7bf3,_0x3b5e10=currentCoins[_0x2a5b91(0x210)](_0x2ca237=>_0x2ca237[_0x2a5b91(0x196)]==_0x1b7bf3);if((_0x3e436d!=0x0||_0x274a41)&&(allSymbols[_0x2a5b91(0x249)](_0x35bab1)||_0x1b7bf3==_0x15b4af))_0x3b5e10?_0x142935['push']({..._0x3b5e10,'number':Math[_0x2a5b91(0x215)](_0x3e436d+(_0x274a41&&_0x274a41[_0x2a5b91(0x292)]||0x0),0x0)}):_0x142935[_0x2a5b91(0x1bb)]({'coin':_0x1b7bf3,'symbol':_0x35bab1,'reverse':![],'number':Math[_0x2a5b91(0x215)](_0x3e436d+(_0x274a41&&_0x274a41['offset']||0x0),0x0),'orderstatus':_0x2a5b91(0x20a)});else{if((_0x3e436d!=0x0||_0x274a41)&&allSymbols['includes'](_0x2c2c07))_0x3b5e10?_0x142935[_0x2a5b91(0x1bb)]({..._0x3b5e10,'number':Math['max'](_0x3e436d+(_0x274a41&&_0x274a41['offset']||0x0),0x0)}):_0x142935['push']({'coin':_0x1b7bf3,'symbol':_0x2c2c07,'reverse':!![],'number':Math['max'](_0x3e436d+(_0x274a41&&_0x274a41[_0x2a5b91(0x292)]||0x0),0x0),'orderstatus':_0x2a5b91(0x20a)});else _0x274a41&&_0x142935[_0x2a5b91(0x1bb)]({'coin':_0x274a41[_0x2a5b91(0x196)],'symbol':_0x274a41['symbol'],'reverse':_0x274a41[_0x2a5b91(0x27b)],'number':0x0,'orderstatus':_0x2a5b91(0x20a)});}}return _0x142935[_0x2a5b91(0x18c)]((_0x28e6e0,_0x3849f7)=>_0x28e6e0[_0x2a5b91(0x125)]<_0x3849f7[_0x2a5b91(0x125)]?0x1:_0x3849f7['delta']<_0x28e6e0[_0x2a5b91(0x125)]?-0x1:0x0),_0x16babc=cloneDeep(_0x142935),_0x142935=_0x142935[_0x2a5b91(0x233)](_0x5422d5=>{const _0x1ee5da=_0x2a5b91,_0x3bef50=config[_0x1ee5da(0x136)]['find'](_0x7e4062=>_0x7e4062[_0x1ee5da(0x196)]==_0x5422d5[_0x1ee5da(0x196)]);return _0x3bef50&&!_0x3bef50['excluded'];}),[_0x142935,_0x16babc];}async function getCoinNumber(_0x436618){const _0x495b6b=_0x3f1724;let _0x30ddf5;try{const _0x359a05=await exchange[_0x495b6b(0x160)]();_0x30ddf5=_0x359a05[_0x495b6b(0x13b)][_0x436618];}catch(_0x15d557){await handleError(_0x15d557,_0x495b6b(0x134));}return _0x30ddf5;}async function getOpenOrders(){const _0x192882=_0x3f1724;let _0x3d6618;allOpenOrders=[];try{for(const _0x30d440 of config[_0x192882(0x136)]){!_0x30d440[_0x192882(0x114)]&&_0x30d440[_0x192882(0x196)]!=config[_0x192882(0x17d)]&&(_0x3d6618=await exchange[_0x192882(0x1b5)](_0x30d440[_0x192882(0x17a)]),_0x3d6618['length']>0x0&&allOpenOrders[_0x192882(0x1bb)](_0x3d6618[0x0]));}}catch(_0x1b0bfe){await handleError(_0x1b0bfe,_0x192882(0x198));}}async function handleOpenOrders(_0x2a1052=0x0){const _0x3474ca=_0x3f1724;allOpenOrders[_0x3474ca(0x236)]==0x0&&lockOrders==ORDERS[_0x3474ca(0x28d)]&&allOrdersPlaced&&(_0x2a1052==0x0?(logger['debug'](_0x3474ca(0x29b)),_0x2a1052++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3474ca(0x13c)](_0x3474ca(0x1fa)),validateOrders(_0x3474ca(0x133))));}async function testAPI(_0x12473d){const _0x1f3061=_0x3f1724,_0x33719b=ccxt[_0x1f3061(0x199)][_0x12473d[_0x1f3061(0x1e4)]['toLowerCase']()],_0x547575=new _0x33719b({'apiKey':_0x12473d['apiKey'],'secret':_0x12473d[_0x1f3061(0x1e0)],'options':{'defaultType':_0x1f3061(0x1f6)}});if(_0x12473d[_0x1f3061(0x1a4)])_0x547575['password']=_0x12473d['apiPassword'];try{await _0x547575[_0x1f3061(0x160)]();}catch(_0x367e18){logger['debug'](_0x1f3061(0x108)+_0x367e18[_0x1f3061(0x11f)]());throw _0x367e18;}}function cloneDeep(_0x29fd51){const _0x46e1da=_0x3f1724;return JSON[_0x46e1da(0x295)](JSON['stringify'](_0x29fd51));}async function getPortfolio(_0x3e0a17){const _0x219d91=_0x3f1724;let _0x175af0=[],_0x13d6f1=[],_0x4d522c=[],_0x3b637e;_0x3e0a17[_0x219d91(0x2a8)]=decryptRSA(secure['privateKey'],_0x3e0a17['apiKey']),_0x3e0a17[_0x219d91(0x1e0)]=decryptRSA(secure[_0x219d91(0x238)],_0x3e0a17[_0x219d91(0x1e0)]);if(_0x3e0a17[_0x219d91(0x1a4)])_0x3e0a17[_0x219d91(0x1a4)]=decryptRSA(secure[_0x219d91(0x238)],_0x3e0a17[_0x219d91(0x1a4)]);if(_0x3e0a17['apiKey']!==_0x219d91(0x264)||_0x3e0a17[_0x219d91(0x1e0)]!==_0x219d91(0x264)||_0x3e0a17[_0x219d91(0x1a4)]&&_0x3e0a17[_0x219d91(0x1a4)]!=='************'){if(config[_0x219d91(0x1e4)]){if(_0x3e0a17[_0x219d91(0x2a8)]==_0x219d91(0x264))_0x3e0a17['apiKey']=config[_0x219d91(0x2a8)];if(_0x3e0a17[_0x219d91(0x1e0)]==_0x219d91(0x264))_0x3e0a17[_0x219d91(0x1e0)]=config[_0x219d91(0x1e0)];if(_0x3e0a17['apiPassword']==_0x219d91(0x264))_0x3e0a17[_0x219d91(0x1a4)]=config[_0x219d91(0x1a4)];}try{await testAPI(_0x3e0a17);}catch(_0x2a5dc3){if(_0x2a5dc3[_0x219d91(0x11f)]()['includes']('AuthenticationError')){logHistory(_0x219d91(0x267),_0x219d91(0x217)),proxyEmit(_0x219d91(0x13e),![]);return;}else{logHistory('error','Unknown\x20error\x20-\x20check\x20logs'),logger['debug'](_0x219d91(0x283),_0x2a5dc3),proxyEmit(_0x219d91(0x13e),![]);return;}}exchange?updateExchange(_0x3e0a17[_0x219d91(0x2a8)],_0x3e0a17[_0x219d91(0x1e0)],_0x3e0a17[_0x219d91(0x1a4)]):await initExchange(_0x3e0a17['exchange'],_0x3e0a17[_0x219d91(0x2a8)],_0x3e0a17['apiSecret'],_0x3e0a17[_0x219d91(0x1a4)]);await loadSymbols();const _0x874033=await getCoins(0x0,![],_0x3e0a17[_0x219d91(0x17d)]);_0x4d522c=cloneDeep(_0x874033[0x1]);}else{const _0xee3987=await getCoins();_0x4d522c=cloneDeep(_0xee3987[0x1]);}if(_0x3e0a17[_0x219d91(0x17d)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x219d91(0x166),_0x4d522c);else{_0x4d522c[_0x219d91(0x18d)](_0x4a549a=>{const _0x3cd6c4=_0x219d91;if(_0x4a549a['coin']!=_0x3e0a17[_0x3cd6c4(0x17d)]&&allSymbols['includes'](_0x4a549a[_0x3cd6c4(0x17a)]))_0x175af0[_0x3cd6c4(0x1bb)](_0x4a549a[_0x3cd6c4(0x17a)]);});if(_0x175af0[_0x219d91(0x236)]==0x0)logHistory('error',_0x219d91(0x1e9));else{try{_0x13d6f1=await getTickers(_0x175af0);}catch(_0x1749ae){logHistory(_0x219d91(0x267),_0x219d91(0x27d)),logger[_0x219d91(0x13c)](_0x219d91(0x29d),_0x1749ae),proxyEmit(_0x219d91(0x13e),![]);return;}_0x4d522c[_0x219d91(0x18d)](_0x1feede=>{const _0x2784ac=_0x219d91;_0x1feede['coin']!=_0x3e0a17[_0x2784ac(0x17d)]?_0x13d6f1[_0x1feede[_0x2784ac(0x17a)]]?_0x3b637e=_0x1feede[_0x2784ac(0x27b)]?0x1/_0x13d6f1[_0x1feede[_0x2784ac(0x17a)]][_0x2784ac(0x220)]:_0x13d6f1[_0x1feede[_0x2784ac(0x17a)]][_0x2784ac(0x220)]:_0x3b637e=0x0:_0x3b637e=0x1,_0x1feede['price']=formatResult(_0x3b637e,0x8);}),await getMarketCap(_0x4d522c),proxyEmit(_0x219d91(0x13e),!![]),proxyEmit(_0x219d91(0x166),_0x4d522c);}}}function truncateTradeAmount(_0x2c5246,_0x258d83){const _0x314dde=_0x3f1724;let _0x6ec8c0=0x0;try{_0x6ec8c0=exchange[_0x314dde(0x276)](_0x2c5246,_0x258d83);}catch(_0x5c4e91){}return _0x6ec8c0;}function checkMinimums(_0x442d45){const _0x12bf3c=_0x3f1724;let _0x2ecf0d=!![];const _0x3c45cd=!_0x442d45[_0x12bf3c(0x27b)]?markets[_0x442d45[_0x12bf3c(0x17a)]][_0x12bf3c(0x23b)][_0x12bf3c(0xfc)]['min']:markets[_0x442d45[_0x12bf3c(0x17a)]][_0x12bf3c(0x23b)][_0x12bf3c(0x23c)][_0x12bf3c(0xea)],_0xbd3919=!_0x442d45['reverse']?markets[_0x442d45['symbol']]['limits'][_0x12bf3c(0x23c)]['min']:markets[_0x442d45[_0x12bf3c(0x17a)]][_0x12bf3c(0x23b)][_0x12bf3c(0xfc)]['min'],_0x2072ac=truncateTradeAmount(_0x442d45['symbol'],_0x442d45[_0x12bf3c(0x22e)]);_0x442d45[_0x12bf3c(0x22e)]=_0x2072ac;if(Math[_0x12bf3c(0x10b)](_0x2072ac)<_0x3c45cd)_0x2ecf0d=![];if(Math['abs'](_0x2072ac)*_0x442d45[_0x12bf3c(0x220)]<_0xbd3919)_0x2ecf0d=![];if(_0x442d45[_0x12bf3c(0x24c)]==_0x12bf3c(0x1af)){let _0x1dba02=config[_0x12bf3c(0x136)][_0x12bf3c(0x210)](_0x531402=>_0x531402[_0x12bf3c(0x196)]==_0x442d45[_0x12bf3c(0x196)]);if(_0x1dba02[_0x12bf3c(0x292)]>0x0){if(Math[_0x12bf3c(0x10b)](_0x2072ac)>_0x442d45[_0x12bf3c(0x1c2)]-_0x1dba02[_0x12bf3c(0x292)])_0x2ecf0d=![];}else{if(Math[_0x12bf3c(0x10b)](_0x2072ac)>_0x442d45[_0x12bf3c(0x1c2)])_0x2ecf0d=![];}}if(_0x442d45[_0x12bf3c(0x24c)]=='buy'){let _0x1594f1=config[_0x12bf3c(0x136)][_0x12bf3c(0x210)](_0x23a542=>_0x23a542[_0x12bf3c(0x196)]==config[_0x12bf3c(0x17d)]),_0x5d0011=currentCoins['find'](_0x43eca0=>_0x43eca0['coin']==config[_0x12bf3c(0x17d)]);if(_0x1594f1[_0x12bf3c(0x292)]>0x0){if(Math[_0x12bf3c(0x10b)](_0x2072ac)*_0x442d45['last']>_0x5d0011[_0x12bf3c(0x1c2)]-_0x1594f1[_0x12bf3c(0x292)])_0x2ecf0d=![];}else{if(Math[_0x12bf3c(0x10b)](_0x2072ac)*_0x442d45[_0x12bf3c(0x220)]>_0x5d0011[_0x12bf3c(0x1c2)])_0x2ecf0d=![];}}return _0x2ecf0d;}async function getBalances(_0x17a511=!![]){const _0x52ec1d=_0x3f1724;if(botPaused)return;let _0x1c3af8=0x0,_0x270431;const _0x47ae69=config['threshold'];if(config[_0x52ec1d(0x1c4)]&&config[_0x52ec1d(0x15b)]<0x0)await validate24hChanges();currentCoins[_0x52ec1d(0x18d)](_0xc98758=>{const _0x29ac91=_0x52ec1d;if(_0xc98758[_0x29ac91(0x196)]!=config[_0x29ac91(0x17d)]){let _0x2dc7e3=gTicker[noslash(_0xc98758[_0x29ac91(0x17a)])];_0x270431=_0xc98758[_0x29ac91(0x27b)]?0x1/_0x2dc7e3:_0x2dc7e3;}else _0x270431=0x1;let _0x1f0e0e=_0xc98758[_0x29ac91(0x1c2)]*_0x270431;_0x1c3af8+=_0x1f0e0e,_0xc98758[_0x29ac91(0x220)]=formatResult(Number(_0x270431),0x8),_0xc98758[_0x29ac91(0x28a)]=_0x1f0e0e;}),currentCoins[_0x52ec1d(0x18d)](_0x1ff0fe=>{const _0x11e076=_0x52ec1d;let _0x1563c7=config[_0x11e076(0x136)]['find'](_0x489491=>_0x489491[_0x11e076(0x196)]==_0x1ff0fe['coin']),_0x5c470f=Number(_0x1563c7[_0x11e076(0x1aa)]),_0x2ac554=_0x1ff0fe['value']/_0x1c3af8*0x64,_0x2031a2=_0x5c470f*_0x1c3af8/0x64/_0x1ff0fe[_0x11e076(0x220)]-_0x1ff0fe[_0x11e076(0x1c2)];_0x1ff0fe[_0x11e076(0x1aa)]=formatResult(_0x2ac554,0x3),_0x1ff0fe['target']=formatResult(_0x5c470f,0x3),_0x1ff0fe[_0x11e076(0x22e)]=formatResult(_0x2031a2,0x8),_0x1ff0fe[_0x11e076(0x24c)]='',_0x1ff0fe['valid']=![];if(_0x1ff0fe[_0x11e076(0x196)]!=config[_0x11e076(0x17d)]){if(_0x1ff0fe[_0x11e076(0x1aa)]>_0x5c470f)_0x1ff0fe[_0x11e076(0x24c)]=_0x11e076(0x1af),_0x1ff0fe[_0x11e076(0x257)]=checkMinimums(_0x1ff0fe);else _0x1ff0fe['distribution']<_0x5c470f&&(_0x1ff0fe['side']='buy',_0x1ff0fe[_0x11e076(0x257)]=checkMinimums(_0x1ff0fe));}_0x1ff0fe[_0x11e076(0x125)]=_0x1ff0fe['distribution']/_0x1ff0fe[_0x11e076(0x28b)]-0x1;if(_0x1ff0fe[_0x11e076(0x19e)]==_0x11e076(0x13f)||_0x1ff0fe[_0x11e076(0x19e)]==_0x11e076(0xf8))_0x1ff0fe['orderstatus']='none';}),currentCoins[_0x52ec1d(0x18c)]((_0x727efe,_0x4c2342)=>_0x727efe[_0x52ec1d(0x125)]<_0x4c2342[_0x52ec1d(0x125)]?0x1:_0x4c2342[_0x52ec1d(0x125)]<_0x727efe[_0x52ec1d(0x125)]?-0x1:0x0);const _0x3b5f5a=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3b5f5a[_0x52ec1d(0xe6)],'usd':_0x3b5f5a[_0x52ec1d(0x204)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x47ae69},proxyEmit(_0x52ec1d(0x200),{'serverversion':serverversion,'balances':lastBalances});if(_0x17a511){if(config[_0x52ec1d(0x1c4)])headlessMode({'portfolio':currentCoins,'threshold':_0x47ae69});else lockOrders==ORDERS[_0x52ec1d(0x155)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x47ae69});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1336be=getNormalizedPerformance();getStartingBalances(_0x1336be),emitPerformance(_0x1336be);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3cc8d5=_0x3f1724;if(!lastBalances)return;let _0x1fdd8f=[],_0x34a0b0,_0x59efd1=JSON[_0x3cc8d5(0x295)](lastBalances[_0x3cc8d5(0x136)]);_0x59efd1['sort']((_0x10e953,_0x3750d0)=>_0x10e953[_0x3cc8d5(0x196)]>_0x3750d0[_0x3cc8d5(0x196)]?0x1:_0x3750d0['coin']>_0x10e953[_0x3cc8d5(0x196)]?-0x1:0x0),_0x59efd1['forEach'](_0x14f6b5=>{const _0x1f75d4=_0x3cc8d5;let _0x300ab5={'coin':_0x14f6b5[_0x1f75d4(0x196)],'number':_0x14f6b5['number'],'price':_0x14f6b5['last']};_0x1fdd8f[_0x1f75d4(0x1bb)](_0x300ab5);});const _0xb8ca41=await getFiat();_0x34a0b0={'date':lastBalances[_0x3cc8d5(0x28f)][_0x3cc8d5(0x12a)]('\x20')[0x0],'eur':_0xb8ca41[_0x3cc8d5(0xe6)],'usd':_0xb8ca41[_0x3cc8d5(0x204)],'coins':_0x1fdd8f};let _0x2b0bef=dbPerformance[_0x3cc8d5(0x1fe)](_0x3cc8d5(0x218))[_0x3cc8d5(0x210)]({'date':_0x34a0b0[_0x3cc8d5(0x25c)]})[_0x3cc8d5(0x28a)]();_0x2b0bef?_0x34a0b0[_0x3cc8d5(0x25c)]!=config[_0x3cc8d5(0x228)]&&dbPerformance[_0x3cc8d5(0x1fe)](_0x3cc8d5(0x218))[_0x3cc8d5(0x210)]({'date':_0x34a0b0[_0x3cc8d5(0x25c)]})['assign'](_0x34a0b0)[_0x3cc8d5(0xfe)]():dbPerformance['get'](_0x3cc8d5(0x218))[_0x3cc8d5(0x1bb)](_0x34a0b0)[_0x3cc8d5(0xfe)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x12b694=_0x3f1724;let _0x293787=[];if(dbPerformance['has'](_0x12b694(0x218))[_0x12b694(0x28a)]()){let _0xf9ced9=dbPerformance[_0x12b694(0x1fe)](_0x12b694(0x218))['cloneDeep']()['filter'](_0xac1415=>{const _0x17f05f=_0x12b694;if(_0xac1415[_0x17f05f(0xe9)][_0x17f05f(0x236)]==0x0)return![];else return!![];})[_0x12b694(0x1bf)](_0x12b694(0x25c))[_0x12b694(0x28a)](),_0x668616=[...config[_0x12b694(0x1c1)]];_0x668616[_0x12b694(0x18c)]((_0x296e0e,_0x3e6fea)=>_0x296e0e[_0x12b694(0x25c)]>_0x3e6fea[_0x12b694(0x25c)]?-0x1:_0x3e6fea[_0x12b694(0x25c)]>_0x296e0e['date']?0x1:0x0);let _0x242073=0x1,_0x5c8647=[],_0x4d5f04=0x0;_0xf9ced9['slice']()['reverse']()[_0x12b694(0x18d)]((_0x3209cb,_0x391aed)=>{const _0x39447a=_0x12b694;if(_0x668616[_0x4d5f04]){if(_0xf9ced9[_0xf9ced9[_0x39447a(0x236)]-_0x391aed]&&_0x668616[_0x4d5f04][_0x39447a(0x25c)]==_0xf9ced9[_0xf9ced9[_0x39447a(0x236)]-_0x391aed][_0x39447a(0x25c)]){if(_0x391aed<_0xf9ced9[_0x39447a(0x236)]){let _0x151e23=0x0,_0x4ad7a7=0x0;_0xf9ced9[_0xf9ced9[_0x39447a(0x236)]-_0x391aed][_0x39447a(0xe9)][_0x39447a(0x18d)](_0x34eb8d=>{const _0x3faf98=_0x39447a;_0x4ad7a7+=_0x34eb8d[_0x3faf98(0x1c2)]*_0x34eb8d[_0x3faf98(0x251)];}),_0x668616[_0x4d5f04]['changes'][_0x39447a(0x18d)](_0x4b0bb1=>{const _0x275c04=_0x39447a;_0x151e23+=_0x4b0bb1['number']*_0x4b0bb1[_0x275c04(0x251)];}),_0x242073*=_0x151e23/(_0x4ad7a7-_0x151e23)+0x1;}_0x4d5f04++;}}let _0x281dfb=0x0;_0x3209cb[_0x39447a(0xe9)][_0x39447a(0x18d)](_0x473738=>{const _0x1063c0=_0x39447a;_0x281dfb+=_0x473738[_0x1063c0(0x1c2)]*_0x473738[_0x1063c0(0x251)];}),_0x5c8647[_0xf9ced9[_0x39447a(0x236)]-_0x391aed-0x1]=_0x281dfb*(_0x242073-0x1);});let _0x240966=[];_0x668616=[...config['liquidity']]||[];let _0x293fc0=0x0;_0x4d5f04=0x0,_0xf9ced9[_0x12b694(0x18d)]((_0x39017b,_0x22e864)=>{const _0x1fdf16=_0x12b694;if(_0x668616[_0x4d5f04]){const _0x4c288a=fns[_0x1fdf16(0x295)](_0x668616[_0x4d5f04][_0x1fdf16(0x25c)],_0x1fdf16(0x231),new Date()),_0x20b824=fns['parse'](_0x39017b['date'],_0x1fdf16(0x231),new Date());if(fns['isEqual'](_0x4c288a,_0x20b824)){let _0x302fe5=0x0;_0x668616[_0x4d5f04][_0x1fdf16(0x124)][_0x1fdf16(0x18d)](_0x2599d8=>{const _0x2432bc=_0x1fdf16;!_0x240966[_0x2599d8[_0x2432bc(0x196)]]?_0x240966[_0x2599d8['coin']]=_0x2599d8[_0x2432bc(0x1c2)]:(_0x302fe5=_0x240966[_0x2599d8[_0x2432bc(0x196)]],_0x240966[_0x2599d8[_0x2432bc(0x196)]]+=_0x2599d8[_0x2432bc(0x1c2)]);const _0x44060d=_0x39017b['coins']['find'](_0x16fa29=>_0x16fa29['coin']==_0x2599d8[_0x2432bc(0x196)]);(!_0x44060d||_0x44060d[_0x2432bc(0x1c2)]==0x0)&&(_0x293fc0+=(-_0x2599d8[_0x2432bc(0x1c2)]-_0x302fe5)*_0x2599d8[_0x2432bc(0x251)]);}),_0x4d5f04++;}}_0x39017b[_0x1fdf16(0xe9)][_0x1fdf16(0x18d)]((_0x1b93c0,_0x301eb4)=>{const _0x471815=_0x1fdf16;_0x240966[_0x1b93c0['coin']]&&(_0x1b93c0[_0x471815(0x28c)]=_0x240966[_0x1b93c0[_0x471815(0x196)]]);}),_0x293787[_0x1fdf16(0x1bb)]({'date':_0x39017b[_0x1fdf16(0x25c)],'eur':_0x39017b[_0x1fdf16(0xe6)],'usd':_0x39017b[_0x1fdf16(0x204)],'offset':_0x5c8647[_0x22e864],'netoffset':_0x293fc0,'coins':_0x39017b[_0x1fdf16(0xe9)]});});}return _0x293787;}function emitPerformance(_0x737ed6){const _0x141772=_0x3f1724;_0x737ed6[_0x141772(0x236)]!==0x0?(proxyEmit(_0x141772(0x26c),_0x737ed6),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x132d39,_0x89def5){const _0x3b73e7=_0x3f1724;let _0x2b9e9d=0x0,_0x54db5d=0x0,_0x54dd55=0x0;_0x132d39['coins']['forEach'](_0xc33671=>{const _0x2bc95e=_0x3477;_0x2b9e9d+=_0xc33671[_0x2bc95e(0x1c2)]*_0xc33671[_0x2bc95e(0x251)];});_0x89def5&&(_0x2b9e9d+=_0x132d39[_0x3b73e7(0x292)]);if(config[_0x3b73e7(0x17d)]==='BTC'||config[_0x3b73e7(0x17d)]==='ETH'||config[_0x3b73e7(0x17d)]===_0x3b73e7(0xe0))_0x54db5d=_0x2b9e9d*_0x132d39[_0x3b73e7(0xe6)],_0x54dd55=_0x2b9e9d*_0x132d39[_0x3b73e7(0x204)];else{if(usdBasecoins[_0x3b73e7(0x249)](config[_0x3b73e7(0x17d)]))_0x54db5d=_0x2b9e9d*_0x132d39[_0x3b73e7(0xe6)]/_0x132d39[_0x3b73e7(0x204)],_0x54dd55=_0x2b9e9d;else config[_0x3b73e7(0x17d)]===_0x3b73e7(0xee)&&(_0x54db5d=_0x2b9e9d,_0x54dd55=_0x2b9e9d*_0x132d39[_0x3b73e7(0x204)]/_0x132d39['eur']);}return[_0x2b9e9d,_0x54db5d,_0x54dd55];}function getKPIs(_0x248a13,_0x4e4561=_0x3f1724(0xee)){const _0x33df4b=_0x3f1724,_0x478ff7=config['basecoin'],_0x5f2ce6=lastBalances,_0x1be96e=currentCoins,_0xd177fb=getNormalizedPerformance(),_0x104c09=_0x248a13===_0x33df4b(0x17d)?_0x478ff7:_0x248a13===_0x33df4b(0x1b3)||_0x248a13===_0x33df4b(0x144)?_0x4e4561:_0x33df4b(0x146)+_0x478ff7,_0x1a3734=_0x248a13===_0x33df4b(0x23a)?'Net\x20effect':_0x248a13===_0x33df4b(0x144)?_0x33df4b(0x1ae):_0x104c09+_0x33df4b(0x129),_0x569a2f=_0x248a13===_0x33df4b(0x23a)||_0x248a13===_0x33df4b(0x144)?_0x33df4b(0x1ae):_0x104c09+_0x33df4b(0x209);let _0x1c4289=0x0;_0x1be96e[_0x33df4b(0x18d)](_0x3d0f96=>{const _0x1d1230=_0x33df4b;_0x1c4289+=_0x3d0f96[_0x1d1230(0x1c2)]*_0x3d0f96[_0x1d1230(0x220)];});if(_0x248a13===_0x33df4b(0x1b3)||_0x248a13==='net-fiat'){if(_0x478ff7==='BTC'||_0x478ff7===_0x33df4b(0x117)||_0x478ff7===_0x33df4b(0xe0))_0x1c4289=_0x1c4289*(_0x4e4561===_0x33df4b(0xee)?_0x5f2ce6[_0x33df4b(0xe6)]:_0x5f2ce6['usd']);else{if(usdBasecoins[_0x33df4b(0x249)](_0x478ff7))_0x1c4289=_0x1c4289*(_0x4e4561==='EUR'?_0x5f2ce6[_0x33df4b(0xe6)]/_0x5f2ce6['usd']:0x1);else _0x478ff7===_0x33df4b(0xee)&&(_0x1c4289=_0x1c4289*(_0x4e4561===_0x33df4b(0xee)?0x1:_0x5f2ce6[_0x33df4b(0x204)]/_0x5f2ce6['eur']));}}let _0x46f476;if(_0x1c4289!==0x0){if(_0x248a13==='basecoin')_0x46f476=(_0x1c4289/startingBalances[_0x33df4b(0x17d)]-0x1)*0x64;else{if(_0x4e4561===_0x33df4b(0xee))_0x46f476=(_0x1c4289/startingBalances[_0x33df4b(0xe6)]-0x1)*0x64;else _0x46f476=(_0x1c4289/startingBalances[_0x33df4b(0x204)]-0x1)*0x64;}let _0x1d9e6a=0x0;if(startingBalances[_0x33df4b(0xe9)])_0x1be96e[_0x33df4b(0x18d)](_0x4bfbe4=>{const _0x437463=_0x33df4b;let _0x50f6b4=startingBalances[_0x437463(0xe9)][_0x437463(0x210)](_0x47a514=>_0x47a514[_0x437463(0x196)]===_0x4bfbe4[_0x437463(0x196)]);if(_0x50f6b4&&_0x50f6b4[_0x437463(0x196)]&&_0x4bfbe4['number']!==0x0)_0x1d9e6a+=_0x50f6b4[_0x437463(0x1c2)]*_0x4bfbe4['last'];});let _0x170daa=0x0;if(_0xd177fb[_0x33df4b(0x236)]!==0x0){let _0x38783b=_0xd177fb[_0xd177fb['length']-0x1];_0x170daa=_0x38783b[_0x33df4b(0x1db)];}_0x1d9e6a-=_0x170daa;_0x248a13===_0x33df4b(0x23a)&&(_0x46f476=(_0x1c4289-_0x1d9e6a)/startingBalances[_0x33df4b(0x17d)]*0x64,_0x1c4289=_0x1c4289-_0x1d9e6a);if(_0x248a13===_0x33df4b(0x144)){let _0x560aea=_0x4e4561==='EUR'?startingBalances[_0x33df4b(0xe6)]:startingBalances[_0x33df4b(0x204)];if(_0x478ff7===_0x33df4b(0x1d6)||_0x478ff7===_0x33df4b(0x117)||_0x478ff7===_0x33df4b(0xe0))_0x1d9e6a=_0x4e4561===_0x33df4b(0xee)?_0x1d9e6a*_0x5f2ce6[_0x33df4b(0xe6)]:_0x1d9e6a*_0x5f2ce6[_0x33df4b(0x204)];else{if(usdBasecoins['includes'](_0x478ff7))_0x1d9e6a=_0x4e4561===_0x33df4b(0xee)?_0x1d9e6a*_0x5f2ce6[_0x33df4b(0xe6)]/_0x5f2ce6[_0x33df4b(0x204)]:_0x1d9e6a;else _0x478ff7===_0x33df4b(0xee)&&(_0x1d9e6a=_0x4e4561===_0x33df4b(0xee)?_0x1d9e6a:_0x1d9e6a*_0x5f2ce6[_0x33df4b(0x204)]/_0x5f2ce6[_0x33df4b(0xe6)]);}_0x46f476=(_0x1c4289-_0x1d9e6a)/_0x560aea*0x64,_0x1c4289=_0x1c4289-_0x1d9e6a;}if(_0x46f476){if(_0x46f476<0x64)_0x46f476=_0x46f476[_0x33df4b(0x18b)](0x2);else{if(_0x46f476<0x3e8)_0x46f476=_0x46f476['toFixed'](0x1);else _0x46f476=_0x46f476[_0x33df4b(0x18b)](0x0);}}else _0x46f476=Number('0')[_0x33df4b(0x18b)](0x2);if(_0x1c4289){if(Math[_0x33df4b(0x10b)](_0x1c4289)<0.000001)_0x1c4289=_0x1c4289['toFixed'](0x2);else{if(Math[_0x33df4b(0x10b)](_0x1c4289)<0.1)_0x1c4289=_0x1c4289[_0x33df4b(0x18b)](0x6);else{if(Math['abs'](_0x1c4289)<0x1)_0x1c4289=_0x1c4289['toFixed'](0x5);else{if(Math[_0x33df4b(0x10b)](_0x1c4289)<0xa)_0x1c4289=_0x1c4289[_0x33df4b(0x18b)](0x4);else{if(Math['abs'](_0x1c4289)<0x64)_0x1c4289=_0x1c4289[_0x33df4b(0x18b)](0x3);else{if(Math['abs'](_0x1c4289)<0x3e8)_0x1c4289=_0x1c4289['toFixed'](0x2);else _0x1c4289=_0x1c4289[_0x33df4b(0x18b)](0x2);}}}}}}else _0x1c4289=Number('0')[_0x33df4b(0x18b)](0x2);}else _0x46f476=Number('0')['toFixed'](0x2);return{'value':_0x1c4289,'change':_0x46f476,'leftTxt':_0x1a3734,'rightTxt':_0x569a2f};}async function getStartingBalances(_0x39e2ae,_0x4292ec=!![]){const _0x3dfa37=_0x3f1724;if(_0x39e2ae[_0x3dfa37(0x236)]!==0x0){const [_0x29018e,_0x12d269,_0xe99048]=getPerf(_0x39e2ae[0x0],!![]);let _0x53bd4e=[];config['portfolio'][_0x3dfa37(0x18d)](_0x51952c=>{const _0x2f16d6=_0x3dfa37;let _0x416bf6=0x0,_0x5bb4cc;config[_0x2f16d6(0x1c1)]['forEach'](_0xc60a9d=>{const _0xd8f3cb=_0x2f16d6;let _0xf97102=_0xc60a9d['changes'][_0xd8f3cb(0x210)](_0x13339a=>_0x13339a[_0xd8f3cb(0x196)]==_0x51952c['coin']);if(_0xf97102){_0x416bf6+=_0xf97102[_0xd8f3cb(0x1c2)];if(!_0x5bb4cc)_0x5bb4cc=_0xf97102['price'];}}),_0x53bd4e[_0x2f16d6(0x1bb)]({'coin':_0x51952c[_0x2f16d6(0x196)],'number':_0x416bf6,'initialprice':_0x5bb4cc});});const _0x9b4158={'basecoin':_0x29018e,'eur':_0x12d269,'usd':_0xe99048,'coins':_0x53bd4e};if(_0x4292ec)proxyEmit(_0x3dfa37(0x111),_0x9b4158);startingBalances=_0x9b4158;}}function headlessMode(_0x703fb8){const _0x264897=_0x3f1724;let _0x4a5402=_0x703fb8[_0x264897(0x136)],_0x1a992b=_0x703fb8[_0x264897(0x222)],_0x4155b5=[];for(let _0x4445e3 of _0x4a5402){if(_0x4445e3[_0x264897(0x196)]!=config[_0x264897(0x17d)]){if(_0x4445e3['delta']>=_0x1a992b/0x64){if(_0x4445e3['valid'])_0x4155b5['push'](_0x4445e3);}else{if(_0x4445e3[_0x264897(0x125)]<=-_0x1a992b/0x64){if(_0x4445e3[_0x264897(0x257)])_0x4155b5[_0x264897(0x1bb)](_0x4445e3);}}}}_0x4155b5[_0x264897(0x236)]>0x0&&placeOrder(_0x4155b5);}function notifyBalance(_0x2234fa){const _0x3f8c9e=_0x3f1724;let _0x530c28=_0x2234fa[_0x3f8c9e(0x136)],_0x250b04=_0x2234fa[_0x3f8c9e(0x222)],_0x394f75=[];for(let _0x278153 of _0x530c28){if(_0x278153[_0x3f8c9e(0x196)]!=config['basecoin']){if(_0x278153[_0x3f8c9e(0x125)]>=_0x250b04/0x64){if(_0x278153[_0x3f8c9e(0x257)])_0x394f75['push'](_0x278153);}else{if(_0x278153[_0x3f8c9e(0x125)]<=-_0x250b04/0x64){if(_0x278153[_0x3f8c9e(0x257)])_0x394f75['push'](_0x278153);}}}}if(_0x394f75[_0x3f8c9e(0x236)]>0x0){let _0xa7904b=_0x394f75[_0x3f8c9e(0x225)](_0x1c59f4=>_0x1c59f4['coin']);_0xa7904b[_0x3f8c9e(0x18c)]();let _0x3d9eeb=_0xa7904b[_0x3f8c9e(0x21e)](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x3d9eeb;}}function symbolToCoin(_0x2d66fa){const _0x26fec2=_0x3f1724;let _0x27ce91;if(_0x2d66fa[_0x26fec2(0x249)]('/'+config[_0x26fec2(0x17d)]))_0x27ce91=_0x2d66fa[_0x26fec2(0x17f)]('/'+config[_0x26fec2(0x17d)],'');if(_0x2d66fa[_0x26fec2(0x249)](config[_0x26fec2(0x17d)]+'/'))_0x27ce91=_0x2d66fa[_0x26fec2(0x17f)](config[_0x26fec2(0x17d)]+'/','');return _0x27ce91;}async function unlockOrders(_0x16a6e0=![]){const _0x32dff5=_0x3f1724;if(allOrdersPlaced&&lockOrders==ORDERS[_0x32dff5(0x28d)]){logger['debug'](_0x32dff5(0x24f)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x16a6e0){const _0x5911a3=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5911a3,setBlockTransactionDetection(![]);}validateOrdersState=_0x32dff5(0x28c),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x32dff5(0x13c)](_0x32dff5(0x126));}}async function validateOrders(_0x236ad0){const _0x589434=_0x3f1724;if(_0x236ad0)validateOrdersState=_0x236ad0;logger[_0x589434(0x13c)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x589434(0x174)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x589434(0x23d):_0x589434(0xeb)));let _0x3fffb5=[],_0x432706=config[_0x589434(0x293)]==_0x589434(0x1cd)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x589434(0x1da)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x589434(0x28d)])return;logger[_0x589434(0x13c)](_0x589434(0xe5)+validateOrdersState),lastOrders[_0x589434(0x18d)](_0x35be65=>{const _0x4f242f=_0x589434;let _0x5d0373=![];_0x35be65[_0x4f242f(0x13f)]>0x0&&(_0x5d0373=!![]),_0x3fffb5[_0x4f242f(0x1bb)](_0x5d0373),_0x5d0373&&config[_0x4f242f(0x293)]!='market'&&logHistory(_0x4f242f(0x115),'Order\x20filled:\x20'+_0x35be65[_0x4f242f(0x17a)]+'\x20'+_0x35be65[_0x4f242f(0x24c)]+'\x20#'+formatResult(_0x35be65[_0x4f242f(0x13f)],0x8)+'\x20@'+formatResult(_0x35be65[_0x4f242f(0x251)],0x8));}),_0x3fffb5[_0x589434(0x18d)]((_0x4f15e6,_0x12ad93)=>{const _0x515d95=_0x589434;if(_0x4f15e6)lastOrders[_0x515d95(0x128)](_0x12ad93,0x1);}),persistOpenOrders(lastOrders);const _0x2d41b0=coolingDown?_0x589434(0x1d5):_0x589434(0x1a7);if(validateOrdersState=='initial'){validateOrdersState=_0x589434(0x173);if(_0x3fffb5['includes'](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x589434(0x173)){if(_0x3fffb5[_0x589434(0x249)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x589434(0x10a))_0x3fffb5[_0x589434(0x249)](![])&&(config[_0x589434(0x293)]==_0x589434(0x1cd)?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x432706*validateOrderInterval/0xea60)+_0x589434(0x14b)+_0x2d41b0):(await cancelOrders(),logHistory('success',_0x589434(0x26d)+Math[_0x589434(0x163)](_0x432706*validateOrderInterval/0xea60)+_0x589434(0x14b)+_0x2d41b0))),await unlockOrders(!![]);else{if(validateOrdersState==_0x589434(0x133)){if(config[_0x589434(0x293)]!='market')logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x2d41b0);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x5c9a91=_0x3f1724;lastOrders[_0x5c9a91(0x18d)](async _0x5a8e72=>{const _0x1a1170=_0x5c9a91;try{const _0x461ff5=await exchange[_0x1a1170(0x274)](_0x5a8e72[_0x1a1170(0x201)],_0x5a8e72[_0x1a1170(0x17a)]);}catch(_0x14168a){if(_0x14168a[_0x1a1170(0x11f)]()[_0x1a1170(0x249)](_0x1a1170(0x137))){}else await handleError(_0x14168a,_0x1a1170(0x16c));}});}async function initCoinResults(_0x5d6ddb){const _0x18859a=_0x3f1724;_0x5d6ddb?logger[_0x18859a(0x13c)](_0x18859a(0xf1)+_0x5d6ddb):logger[_0x18859a(0x13c)]('Initializing\x20coin\x20results'),config[_0x18859a(0x136)][_0x18859a(0x18d)](_0x2448c5=>{const _0x418a7c=_0x18859a;if(!_0x2448c5[_0x418a7c(0x114)]&&_0x2448c5['coin']!=config[_0x418a7c(0x17d)]){const _0x181767=currentCoins['find'](_0x7b85a5=>_0x7b85a5[_0x418a7c(0x196)]==_0x2448c5[_0x418a7c(0x196)]),_0x1a3c64=gTicker[noslash(_0x2448c5[_0x418a7c(0x17a)])];let _0x47e192=_0x181767?_0x181767[_0x418a7c(0x1c2)]:null,_0x2ab90f=_0x2448c5['reverse']?0x1/_0x1a3c64:_0x1a3c64,_0x2e1d5d;config[_0x418a7c(0x1c1)][_0x418a7c(0x18d)](_0x374201=>{const _0x4a90f1=_0x418a7c;!_0x2e1d5d&&(_0x2e1d5d=_0x374201[_0x4a90f1(0x124)][_0x4a90f1(0x210)](_0x3dabb7=>_0x3dabb7[_0x4a90f1(0x196)]==_0x2448c5[_0x4a90f1(0x196)]),_0x2e1d5d&&(_0x47e192=_0x2e1d5d[_0x4a90f1(0x1c2)],_0x2ab90f=_0x2e1d5d[_0x4a90f1(0x251)]));});let _0x12d0ee=dbCoinResults[_0x418a7c(0x1fe)]('coins')[_0x418a7c(0x210)]({'coin':_0x2448c5['coin']})[_0x418a7c(0x28a)]();if(!_0x12d0ee){const _0x1b4688={'coin':_0x2448c5['coin'],'number':_0x47e192,'breakeven':_0x2ab90f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x418a7c(0x1fe)](_0x418a7c(0xe9))[_0x418a7c(0x1bb)](_0x1b4688)[_0x418a7c(0xfe)]();}else{if(_0x5d6ddb&&_0x2448c5[_0x418a7c(0x196)]==_0x5d6ddb){const _0x4d020d={'coin':_0x2448c5[_0x418a7c(0x196)],'number':_0x47e192,'breakeven':_0x2ab90f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x418a7c(0x1fe)](_0x418a7c(0xe9))[_0x418a7c(0x210)]({'coin':_0x2448c5[_0x418a7c(0x196)]})['assign'](_0x4d020d)[_0x418a7c(0xfe)]();}}}});}async function updateCoinResults(_0x53b4b2,_0x36c441=![]){const _0x14a293=_0x3f1724;let _0x5f50f8,_0x18a71e,_0x5219d1,_0x2a532f,_0x4af92e,_0xf7dcc4,_0x3bbf3d=dbCoinResults[_0x14a293(0x1fe)](_0x14a293(0xe9))[_0x14a293(0x210)]({'coin':_0x53b4b2[_0x14a293(0x196)]})[_0x14a293(0x28a)](),_0x5620fd=![];_0x3bbf3d&&Object['entries'](_0x3bbf3d)[_0x14a293(0x18d)](([_0x59d156,_0x49a055])=>{if(_0x49a055==null)_0x5620fd=!![];});(!_0x3bbf3d||_0x5620fd)&&(await initCoinResults(_0x53b4b2[_0x14a293(0x196)]),_0x3bbf3d=dbCoinResults[_0x14a293(0x1fe)]('coins')[_0x14a293(0x210)]({'coin':_0x53b4b2[_0x14a293(0x196)]})['value']());_0x53b4b2[_0x14a293(0x27b)]&&(_0xf7dcc4={'filled':_0x53b4b2[_0x14a293(0x13f)]*_0x53b4b2[_0x14a293(0x251)],'amount':_0x53b4b2[_0x14a293(0x13f)]*_0x53b4b2[_0x14a293(0x251)],'side':_0x53b4b2[_0x14a293(0x24c)]==_0x14a293(0x1af)?_0x14a293(0x22b):_0x14a293(0x1af),'price':0x1/_0x53b4b2[_0x14a293(0x251)]},_0x53b4b2={..._0x53b4b2,..._0xf7dcc4});_0x36c441?_0x18a71e=_0x53b4b2[_0x14a293(0x24c)]==_0x14a293(0x22b)?_0x3bbf3d[_0x14a293(0x1c2)]+_0x53b4b2[_0x14a293(0x13f)]:_0x3bbf3d['number']-_0x53b4b2['filled']:_0x18a71e=await getCoinNumber(_0x53b4b2['coin']);if(_0x53b4b2[_0x14a293(0x12f)]&&_0x53b4b2[_0x14a293(0x12f)]['currency']==config[_0x14a293(0x17d)])_0x5f50f8=Number(_0x53b4b2[_0x14a293(0x12f)][_0x14a293(0x23c)]);else{if(_0x53b4b2[_0x14a293(0x12f)]&&_0x53b4b2[_0x14a293(0x12f)]['currency']==_0x14a293(0x1e6)&&!_0x36c441&&config[_0x14a293(0x17d)]!='PAXG')_0x5f50f8=Number(_0x53b4b2[_0x14a293(0x12f)]['cost'])*gTicker[_0x14a293(0x1e6)+config[_0x14a293(0x17d)]];else _0x5f50f8=defaultFee*_0x53b4b2[_0x14a293(0x13f)]*_0x53b4b2[_0x14a293(0x251)];}_0x53b4b2[_0x14a293(0x24c)]=='buy'?(_0x5219d1=_0x18a71e!=0x0?(_0x3bbf3d[_0x14a293(0x25b)]*_0x3bbf3d[_0x14a293(0x1c2)]+_0x53b4b2['price']*(_0x18a71e-_0x3bbf3d['number'])+_0x5f50f8)/_0x18a71e:0x0,_0x2a532f=_0x3bbf3d[_0x14a293(0x122)]):(_0x5219d1=_0x18a71e!=0x0?(_0x3bbf3d[_0x14a293(0x25b)]*_0x3bbf3d[_0x14a293(0x1c2)]-_0x53b4b2['price']*(_0x3bbf3d[_0x14a293(0x1c2)]-_0x18a71e)+_0x5f50f8)/_0x18a71e:0x0,_0x2a532f=_0x3bbf3d['realized']+(_0x53b4b2['price']-_0x3bbf3d[_0x14a293(0x25b)])*_0x53b4b2['filled']);_0x4af92e=(_0x53b4b2[_0x14a293(0x251)]-_0x5219d1-_0x5f50f8/_0x53b4b2[_0x14a293(0x13f)])*_0x18a71e;let _0x2a3ee1={'coin':_0x53b4b2[_0x14a293(0x196)],'number':_0x18a71e,'breakeven':formatResult(_0x5219d1,0x8),'realized':formatResult(_0x2a532f,0x8),'unrealized':formatResult(_0x4af92e,0x8),'fees':formatResult(_0x3bbf3d[_0x14a293(0x1b6)]+_0x5f50f8,0x8),'sells':_0x53b4b2[_0x14a293(0x24c)]=='sell'?_0x3bbf3d[_0x14a293(0xf2)]+0x1:_0x3bbf3d[_0x14a293(0xf2)],'buys':_0x53b4b2['side']==_0x14a293(0x22b)?_0x3bbf3d[_0x14a293(0xf6)]+0x1:_0x3bbf3d[_0x14a293(0xf6)]};dbCoinResults['get'](_0x14a293(0xe9))[_0x14a293(0x210)]({'coin':_0x53b4b2[_0x14a293(0x196)]})[_0x14a293(0x191)](_0x2a3ee1)[_0x14a293(0xfe)]();if(!_0x36c441){if(_0x53b4b2['fee']&&_0x53b4b2[_0x14a293(0x12f)][_0x14a293(0x275)]==_0x14a293(0x1e6)){const _0x4863cc=currentCoins[_0x14a293(0x210)](_0x1e3e03=>_0x1e3e03[_0x14a293(0x196)]==_0x14a293(0x1e6));if(_0x4863cc){let _0x4c1c1a=dbCoinResults[_0x14a293(0x1fe)](_0x14a293(0xe9))[_0x14a293(0x210)]({'coin':_0x14a293(0x1e6)})[_0x14a293(0x28a)]();_0x2a3ee1={..._0x4c1c1a,'number':_0x4863cc[_0x14a293(0x1c2)]},dbCoinResults['get']('coins')[_0x14a293(0x210)]({'coin':'BNB'})[_0x14a293(0x191)](_0x2a3ee1)['write']();}}}}async function placeOrder(_0xb31d74){const _0x315cdf=_0x3f1724,_0x7247b5=config[_0x315cdf(0x293)]==_0x315cdf(0x1cd)?_0x315cdf(0x1cd):_0x315cdf(0x1b1);if(lockOrders==ORDERS[_0x315cdf(0x155)]&&!coolingDown){lockOrders=ORDERS[_0x315cdf(0x28d)];while(transactionDetectionOngoing){await sleep(0x64);}lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x315cdf(0x28c);let _0x1df9e5=![];lastOrders=[];const _0x3cf976=config[_0x315cdf(0x222)];for(const _0x588622 of _0xb31d74){let _0x6f8bfd,_0x503160,_0x35edf7,_0x56696f,_0x540462,_0x3e5c80=_0x588622['symbol'];logger[_0x315cdf(0x13c)](_0x315cdf(0x247)+_0x588622['coin']+'\x20'+_0x588622['number']+'\x20'+_0x588622['last']+'\x20'+_0x588622['distribution']+'%\x20'+_0x588622[_0x315cdf(0x28b)]+'%\x20'+(0x64*_0x588622['delta'])[_0x315cdf(0x18b)](0x2)+'%\x20('+_0x3cf976['toFixed'](0x2)+'%)');try{const _0x43c5f6=await exchange[_0x315cdf(0x25e)](_0x3e5c80);_0x6f8bfd=_0x588622[_0x315cdf(0x27b)]?0x1/_0x588622[_0x315cdf(0x220)]:_0x588622[_0x315cdf(0x220)],_0x503160=_0x43c5f6['bid'],_0x35edf7=_0x43c5f6[_0x315cdf(0x105)];_0x588622[_0x315cdf(0x27b)]?(_0x56696f=_0x588622[_0x315cdf(0x24c)]==_0x315cdf(0x22b)?_0x315cdf(0x1af):'buy',_0x540462=Math['abs'](_0x588622[_0x315cdf(0x22e)])/_0x6f8bfd):(_0x56696f=_0x588622[_0x315cdf(0x24c)],_0x540462=Math['abs'](_0x588622[_0x315cdf(0x22e)]));_0x7247b5==_0x315cdf(0x1b1)&&(config[_0x315cdf(0x293)]==_0x315cdf(0x171)&&(_0x6f8bfd=_0x56696f==_0x315cdf(0x22b)?_0x503160:_0x35edf7),config[_0x315cdf(0x293)]==_0x315cdf(0x195)&&(_0x6f8bfd=_0x56696f==_0x315cdf(0x22b)?_0x35edf7:_0x503160));_0x540462=formatResult(_0x540462,0x8),_0x6f8bfd=formatResult(_0x6f8bfd,0x8);const _0x2fab74=_0x56696f==_0x315cdf(0x1af)?config['emojisell']?String[_0x315cdf(0x16e)]('0x'+config[_0x315cdf(0x212)])+'\x20':'':config[_0x315cdf(0x140)]?String[_0x315cdf(0x16e)]('0x'+config[_0x315cdf(0x140)])+'\x20':'',_0x1d9db8=_0x7247b5=='market'?_0x315cdf(0xfb):config[_0x315cdf(0x293)]==_0x315cdf(0x171)?_0x315cdf(0x19a):_0x315cdf(0x268),_0x2df88b=(Math['floor'](Math[_0x315cdf(0x1d2)]()*0x35a4e900)+0x5f5e100)[_0x315cdf(0x11f)]();lastOrders[_0x315cdf(0x1bb)]({'customId':_0x2df88b,'symbol':_0x3e5c80,'coin':_0x588622[_0x315cdf(0x196)],'amount':_0x540462,'price':_0x6f8bfd,'side':_0x56696f,'reverse':_0x588622['reverse'],'filled':0x0});if(_0x7247b5==_0x315cdf(0x1cd))logHistory(_0x315cdf(0x115),''+_0x2fab74+_0x1d9db8+_0x315cdf(0x12b)+_0x3e5c80+'\x20'+_0x56696f+'\x20#'+formatResult(_0x540462,0x8)+'\x20@'+formatResult(_0x6f8bfd,0x8));else logHistory(_0x315cdf(0x115),''+_0x2fab74+_0x1d9db8+_0x315cdf(0x12b)+_0x3e5c80+'\x20'+_0x56696f+'\x20#'+formatResult(_0x540462,0x8)+'\x20@'+formatResult(_0x6f8bfd,0x8));let _0xf57589;_0x7247b5==_0x315cdf(0x1cd)?_0x56696f==_0x315cdf(0x22b)&&['Bybit',_0x315cdf(0x286),'Cex',_0x315cdf(0x19f),_0x315cdf(0x141)][_0x315cdf(0x249)](config[_0x315cdf(0x1e4)])?_0xf57589=await exchange[_0x315cdf(0x1f5)](_0x3e5c80,_0x7247b5,_0x56696f,_0x540462,_0x6f8bfd):_0xf57589=await exchange['createOrder'](_0x3e5c80,_0x7247b5,_0x56696f,_0x540462,undefined):_0xf57589=await exchange['createOrder'](_0x3e5c80,_0x7247b5,_0x56696f,_0x540462,_0x6f8bfd);logger['debug']('ID:\x20'+_0xf57589['id']+_0x315cdf(0x27c)+_0x2df88b);const _0x2da0ac=lastOrders['length']-0x1;if(_0x2da0ac>=0x0&&lastOrders[_0x2da0ac][_0x315cdf(0x206)]==_0x2df88b){lastOrders[_0x2da0ac][_0x315cdf(0x201)]=_0xf57589['id'];if(_0xf57589[_0x315cdf(0xfc)])lastOrders[_0x2da0ac][_0x315cdf(0xfc)]=_0xf57589[_0x315cdf(0xfc)];if(_0xf57589[_0x315cdf(0x251)])lastOrders[_0x2da0ac][_0x315cdf(0x251)]=_0xf57589[_0x315cdf(0x251)];lastOrders[_0x2da0ac][_0x315cdf(0x12f)]=_0xf57589[_0x315cdf(0x12f)];}if(config[_0x315cdf(0x16b)]!=0x0){let _0x48e8f2=null;if(cooldownTracker[_0x315cdf(0x236)]==config['cooldown']-0x1)_0x48e8f2=cooldownTracker[_0x315cdf(0x1c9)]();const _0x464c21=getTimeStamp();cooldownTracker[_0x315cdf(0x1bb)](_0x464c21);if(_0x48e8f2){const _0x28d2a3=fns[_0x315cdf(0x202)](new Date(_0x464c21),new Date(_0x48e8f2));if(_0x28d2a3<cooldownInterval){logHistory(_0x315cdf(0x267),_0x315cdf(0x183)+config[_0x315cdf(0x16b)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x315cdf(0x147)+cooldownPeriod/(0xe10*0x3e8)+_0x315cdf(0x130)),coolingDown=!![];break;}}}}catch(_0x5f282c){if(_0x5f282c[_0x315cdf(0x11f)]()[_0x315cdf(0x249)](_0x315cdf(0x175)))lastOrders=lastOrders[_0x315cdf(0x233)](_0x32b350=>_0x32b350['symbol']!=_0x3e5c80),logHistory(_0x315cdf(0x267),_0x315cdf(0x252)+_0x3e5c80),_0x1df9e5=!![];else{if(_0x5f282c[_0x315cdf(0x11f)]()[_0x315cdf(0x249)](_0x315cdf(0x167)))lastOrders=lastOrders['filter'](_0x5b2a2f=>_0x5b2a2f['symbol']!=_0x3e5c80),logHistory(_0x315cdf(0x267),_0x315cdf(0x1e1)+_0x3e5c80),_0x1df9e5=!![];else{if(_0x5f282c['toString']()[_0x315cdf(0x249)](_0x315cdf(0x2a1)))lastOrders=lastOrders[_0x315cdf(0x233)](_0x21c84e=>_0x21c84e[_0x315cdf(0x17a)]!=_0x3e5c80),logHistory(_0x315cdf(0x267),_0x315cdf(0x19d)+_0x3e5c80),logger[_0x315cdf(0x13c)](_0x5f282c),_0x1df9e5=!![];else _0x5f282c[_0x315cdf(0x11f)]()[_0x315cdf(0x249)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x315cdf(0x233)](_0x599fe8=>_0x599fe8['symbol']!=_0x3e5c80),logHistory('error',_0x315cdf(0x252)+_0x3e5c80),_0x1df9e5=!![]):(lastOrders=lastOrders[_0x315cdf(0x233)](_0x1da722=>_0x1da722[_0x315cdf(0x17a)]!=_0x3e5c80),await handleError(_0x5f282c,_0x315cdf(0x1a6),_0x3e5c80));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x315cdf(0x236)]>0x0){const _0x5c699b=config[_0x315cdf(0x293)]==_0x315cdf(0x1cd)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5c699b);}else unlockOrders();_0x1df9e5&&config[_0x315cdf(0x1c4)]&&(logHistory('error',_0x315cdf(0x110)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x315cdf(0x182),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config['headless']&&logHistory(_0x315cdf(0x267),_0x315cdf(0x244));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x315cdf(0x1c4)]&&(config[_0x315cdf(0x293)]==_0x315cdf(0x1cd)?logHistory(_0x315cdf(0x267),_0x315cdf(0x1a1)):logHistory(_0x315cdf(0x267),_0x315cdf(0x1dc))));}}function persistOpenOrders(_0x7e8db){const _0x1b4265=_0x3f1724,_0x34632d={...config,'openOrders':_0x7e8db};let _0x196bbb=dbConfig['get'](_0x1b4265(0x18e))[_0x1b4265(0x210)]({'botID':botID})['value']();_0x196bbb&&dbConfig['get'](_0x1b4265(0x18e))[_0x1b4265(0x210)]({'botID':botID})[_0x1b4265(0x191)](_0x34632d)[_0x1b4265(0xfe)]();}function restoreOrders(){const _0x4bd543=_0x3f1724;let _0x17680f;config['openOrders']&&allOpenOrders[_0x4bd543(0x18d)](_0x4df557=>{const _0x4b77aa=_0x4bd543,_0x147908=config['openOrders'][_0x4b77aa(0x210)](_0x25e1fa=>_0x25e1fa[_0x4b77aa(0x201)]==_0x4df557['id']);_0x147908&&(lastOrders[_0x4b77aa(0x1bb)](_0x147908),_0x17680f=_0x4df557['timestamp']);});if(lastOrders[_0x4bd543(0x236)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x4bd543(0x173),allOrdersPlaced=!![];const _0x2f3ced=new Date()[_0x4bd543(0x29e)](),_0x17e78a=config[_0x4bd543(0x293)]==_0x4bd543(0x1cd)?validateOrderTimeout*0x3c*0x3e8:config[_0x4bd543(0x1da)]*0x3c*0x3e8;if(_0x17680f+_0x17e78a>_0x2f3ced){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x510c5b=_0x4bd543;validateOrders(_0x510c5b(0x10a));},_0x17680f+_0x17e78a-_0x2f3ced);}else validateOrders(_0x4bd543(0x10a));}}async function sendMetricsTelegram(){const _0x30860e=_0x3f1724;if(!coinsLoaded){process[_0x30860e(0x22a)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x34683d=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x18c63e='';if(config[_0x30860e(0x207)])_0x18c63e=_0x30860e(0x131)+config[_0x30860e(0x1bc)]+_0x30860e(0x17e);else _0x18c63e=_0x30860e(0x116)+botID+_0x30860e(0x17e);const _0x3644a4=getKPIs(_0x30860e(0x17d)),_0x1d476c=getKPIs(_0x30860e(0x1b3),config['fiat']),_0x2478a5=getKPIs(_0x30860e(0x23a)),_0x5de7bd=getKPIs('net-fiat',config[_0x30860e(0x1b3)]);_0x18c63e+='<pre>',_0x18c63e+=_0x3644a4['leftTxt']+_0x30860e(0x294)+_0x3644a4[_0x30860e(0x28a)]+'\x0a',_0x18c63e+=_0x3644a4[_0x30860e(0x299)]+':\x20'+_0x3644a4['change']+'%\x0a',_0x18c63e+=_0x1d476c[_0x30860e(0x1ec)]+_0x30860e(0x294)+_0x1d476c[_0x30860e(0x28a)]+'\x0a',_0x18c63e+=_0x1d476c['rightTxt']+':\x20'+_0x1d476c[_0x30860e(0x1cb)]+'%\x0a',_0x18c63e+=_0x2478a5[_0x30860e(0x1ec)]+':\x20'+_0x2478a5[_0x30860e(0x28a)]+'\x20('+config[_0x30860e(0x17d)]+')\x0a',_0x18c63e+=_0x2478a5['rightTxt']+':\x20'+_0x2478a5[_0x30860e(0x1cb)]+_0x30860e(0x139)+config[_0x30860e(0x17d)]+')\x0a',_0x18c63e+=_0x5de7bd['leftTxt']+':\x20'+_0x5de7bd[_0x30860e(0x28a)]+'\x20('+config[_0x30860e(0x1b3)]+')\x0a',_0x18c63e+=_0x5de7bd[_0x30860e(0x299)]+':\x20'+_0x5de7bd[_0x30860e(0x1cb)]+_0x30860e(0x139)+config[_0x30860e(0x1b3)]+')\x0a',_0x18c63e+=_0x30860e(0x272),process[_0x30860e(0x22a)]({'telegrammsg':_0x18c63e},_0x472e23=>{});}async function sendPortfolioTelegram(){const _0x3ed1f4=_0x3f1724;if(!coinsLoaded||!currentCoins[0x0][_0x3ed1f4(0x1aa)]){process[_0x3ed1f4(0x22a)]({'telegrammsg':_0x3ed1f4(0x100)},_0x39e4fc=>{});return;}let _0xb788f5='';if(config['showname'])_0xb788f5='<b>'+config[_0x3ed1f4(0x1bc)]+_0x3ed1f4(0x1d1);else _0xb788f5='<b>Bot\x20'+botID+_0x3ed1f4(0x1d1);_0xb788f5+='<pre>',_0xb788f5+=_0x3ed1f4(0x179),_0xb788f5+=_0x3ed1f4(0x262),_0xb788f5+=_0x3ed1f4(0x179),currentCoins[_0x3ed1f4(0x18d)](_0x1f0463=>{const _0x184f08=_0x3ed1f4;_0xb788f5+=_0x1f0463[_0x184f08(0x196)][_0x184f08(0xf0)](0x7)+'|\x20'+formatPad(_0x1f0463[_0x184f08(0x1aa)],0x2,0x6)+'|\x20'+formatPad(_0x1f0463[_0x184f08(0x28b)],0x2,0x6)+'|\x20'+formatPad(_0x1f0463['delta']*0x64,0x2,0x6)+'\x0a';}),_0xb788f5+=_0x3ed1f4(0x272),process[_0x3ed1f4(0x22a)]({'telegrammsg':_0xb788f5},_0x271764=>{});}function formatPad(_0x2e63ab,_0x4f665a,_0x4c559b){const _0x57900f=_0x3f1724,_0x54795b=formatResultString(_0x2e63ab,_0x4f665a);return _0x54795b?_0x54795b[_0x57900f(0x15d)](_0x4c559b):''[_0x57900f(0x15d)](_0x4c559b);}function logHistory(_0x4d2204,_0x35d90b,_0x59d0b7=''){const _0x129095=_0x3f1724;logger[_0x129095(0x263)](''+_0x35d90b);let _0x1bc76d={'time':getTimeStamp(),'type':_0x4d2204,'event':_0x35d90b};dbLogs[_0x129095(0x1fe)](_0x129095(0x284))[_0x129095(0x1bb)](_0x1bc76d)[_0x129095(0xfe)]();if(_0x59d0b7=='')_0x59d0b7=_0x35d90b;proxyEmit(_0x129095(0x193),{'log':_0x1bc76d,'summary':_0x59d0b7}),process[_0x129095(0x22a)]({'telegram':{..._0x1bc76d,'botname':config['botname'],'showname':config[_0x129095(0x207)]}},_0x4b31e8=>{});}function emitHistory(_0x1bea9a={}){const _0x19c4b0=_0x3f1724;Object[_0x19c4b0(0x1e3)](_0x1bea9a)['length']==0x0&&(_0x1bea9a={'type':[_0x19c4b0(0x115),_0x19c4b0(0x193)],'event':'','page':0x1});if(_0x1bea9a[_0x19c4b0(0x1b9)][_0x19c4b0(0x249)]('event'))_0x1bea9a[_0x19c4b0(0x1b9)][_0x19c4b0(0x128)](_0x1bea9a['type'][_0x19c4b0(0x1e5)](_0x19c4b0(0x193)),0x1,_0x19c4b0(0x267),_0x19c4b0(0x21b),_0x19c4b0(0x182));if(dbLogs[_0x19c4b0(0x29a)](_0x19c4b0(0x284))['value']()){let _0x5a640d=dbLogs[_0x19c4b0(0x1fe)](_0x19c4b0(0x284))['filter'](_0x7db54a=>{const _0x1aebf0=_0x19c4b0;if(_0x1bea9a[_0x1aebf0(0x1b9)][_0x1aebf0(0x236)]==0x0)return![];else return _0x1bea9a['type'][_0x1aebf0(0x249)](_0x7db54a[_0x1aebf0(0x1b9)]);})[_0x19c4b0(0x233)](_0x440d1f=>{const _0x4cbd61=_0x19c4b0;if(_0x1bea9a[_0x4cbd61(0x193)]=='')return!![];else return _0x440d1f['event'][_0x4cbd61(0x270)]()[_0x4cbd61(0x249)](_0x1bea9a[_0x4cbd61(0x193)][_0x4cbd61(0x270)]());})['sortBy'](_0x19c4b0(0x28f)),_0x45947b=_0x5a640d[_0x19c4b0(0x28a)]()[_0x19c4b0(0x236)];_0x5a640d=_0x5a640d[_0x19c4b0(0x27b)]()[_0x19c4b0(0x24b)]((_0x1bea9a[_0x19c4b0(0x1e2)]-0x1)*logPageSize,_0x1bea9a[_0x19c4b0(0x1e2)]*logPageSize-0x1)[_0x19c4b0(0x27b)]()['value'](),proxyEmit(_0x19c4b0(0x15c),{'logs':_0x5a640d,'total':_0x45947b});}else proxyEmit(_0x19c4b0(0x15c),{'logs':[],'total':0x0});}function _0x32aa(){const _0x51a6dc=['getOpenOrders()','pro','Limit\x20(high-margin)','status','BUSD','Order\x20is\x20invalid:\x20','orderstatus','Huobi','001','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','RETRY\x20-\x20Problem\x20resolved\x20after\x20','quick','apiPassword','status\x20code\x20401','placeOrder()','balancing\x20resumed','slider','2.6.23','distribution','lowdb/adapters/FileSync','521748cIctZy','entries','Net\x20effect','sell','constructor','limit','storeHeadless','fiat','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','fetchOpenOrders','fees','31075cuSWQe','AuthenticationError','type','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','push','botname','marketcap','test','sortBy','placeOrder','liquidity','number','Exchange','headless','password','log','\x20minutes','1\x20-\x20FILLED\x20unknown\x20order:\x20','shift','timeshift','change','getMonth','market','colorscheme','watchOrders','watchTradesForSymbols','\x20portfolio:</b>\x20\x0a\x0a','random','initTickers()','Error\x20in\x20loadSymbols():\x20','balancing\x20resumes\x20when\x20cooldown\x20ends','BTC','RequestTimeout','exec','loadSymbols()','timeout','netoffset','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','added','running',')\x20unknown\x20order:\x20','apiSecret','Order\x20amount\x20is\x20invalid:\x20','page','keys','exchange','indexOf','BNB','API-key\x20format\x20invalid','\x20|\x20exchange:\x20','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','Insufficient\x20funds\x20to\x20execute\x20order:\x20','mkdirSync','leftTxt','Resuming\x20(','format','getStartingBalances','(see:\x20hodlerhacks.com/fix/1)','pki','/EUR','unlinkSync','Bot\x20','createOrder','spot','substring','sendMetricsTelegram','RateLimitExceeded','2\x20-\x20Handled\x20open\x20orders','69846volXRs','storeFiat','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','get','getDate','balances','orderId','differenceInSeconds','watchTrades','usd','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','customId','showname','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','\x20change','none','writeFile','cancel','open','watchOrders()','set','find','\x20>\x20details:','emojisell','basecoinvalue','./config/','max','2.6.22','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','data',':\x20Bot\x20','\x20exchange\x20error:\x20','warning','\x20attempts','USDC','join','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','last','./version.json','threshold','Valid\x20balance\x20for\x20','exchanges','map','memoryUsage','cancelLoading','startdate','settings','send','buy','code','Pausing\x20for\x20','trade','(((.+)+)+)+$','Bybit','yyyy/MM/dd','Waited\x20','filter',',\x20must\x20be\x20a\x203\x20digit\x20number','/backup/','length','request-time','privateKey','defaults','net-basecoin','limits','cost','ORDERS.UNLOCKING','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','RETRY\x20-\x20Error\x20in\x20','restart','Error\x20while\x20deleting\x20files:\x20','pop','remove','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','staging','loading-canceled','Trigger:\x20','percentage','includes','datetime','slice','side','2.3.5','\x20>\x20pausing\x20bot\x20for\x20','1\x20-\x20Unlocking\x20orders','Exception\x20thrown\x20in\x20','price','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','bb-settings.json','TUSD','ExchangeNotAvailable','1463344VoYZHz','valid','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','fetchBalance()','node-forge','breakeven','date','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','fetchTicker','configuration','recovery','\x20|\x20','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','full','************','getFullYear','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','error','Limit\x20(low-margin)','configuration-stored','USD','function','performance','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20>\x20[DEBUG]\x20','getSeconds','toLowerCase','stringify','</pre>',')\x20known\x20order:\x20','cancelOrder','currency','amountToPrecision','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','3AIkkql','-results.json','655501HTeDZV','reverse','\x20|\x20Custom\x20ID:\x20','Unknown\x20error\x20-\x20check\x20logs','argv','sqrt','message','args','production','Error\x20details\x20(0):','logs','market_cap','Bitget','Symbol(s):\x20','119856DuskQC','Error\x20details:','value','target','initial','LOCKED','complete','time','marketcapApi','\x20exchange','offset','ordertype','\x20:\x20','parse','recent20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','getPortfolio','rightTxt','has','1\x20-\x20Handle\x20open\x20orders','2.5.0','Error\x20details\x20(1):','getTime','initclient','openOrders','InvalidOrder','\x20API\x20secret\x20is\x20invalid','storeConfiguration','yargs/yargs','-config.json','-events.json','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','apiKey','quote','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','PAXG','freeze',':\x20timer\x20>','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','createWriteStream','2\x20-\x20Validate\x20orders:\x20','eur','bots','version','coins','min','ORDERS.UNLOCKED','Error:\x20Invalid\x20argument\x20','removed','EUR','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','padEnd','Resetting\x20coin\x20results:\x20','sells','startsWith','detectLiquidityChange()','RSA-OAEP','buys','Initializing\x20exchange','canceled','highest','toUpperCase','Market','amount','bb-secure.json','write','Invalid\x20symbol:\x20','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','red_yellow_blue','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','ask','pid','decrypt','Error\x20in\x20testAPI():\x20','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','final','abs','USDP','toggleBotMode','environment','358414XHJLKK','Avoiding\x20continuous\x20order\x20attempts','starting-balances','progress','Reset\x20|\x20','excluded','order','<b>Bot\x20','ETH','***','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','no\x20exchange\x20reloaded','resetHistory','util','cloneDeep','startprice','toString','sha256','autoliquidity','realized','isEqual','changes','delta','2\x20-\x20Orders\x20unlocked','1\x20-\x20FILLED\x20known\x20order:\x20','splice','\x20value','split','\x20order:\x20','\x20MB','\x20-\x20','fetchTickers','fee','\x20hour','<b>','create','no\x20open\x20orders','getCoinNumber()','Network\x20error\x20details:','portfolio','OrderNotFound','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','%\x20(','fetchTickers()','total','debug','startnumber','portfolio1','filled','emojibuy','Huobipro','date-fns','/USDT','net-fiat','\x20>\x20','Net\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20has\x20a\x2024h\x20drop\x20of\x20','\x20-\x20bot\x20not\x20started','axios','\x20minutes\x20-\x20','starting-balance-','lowdb','\x20API\x20key\x20is\x20invalid','Loading\x20completed',')\x20|\x20exchange:\x20','\x20uses\x20','/output-000.log','2.6.0','onepagemode','UNLOCKED','enabled','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','remainingSymbols','Cryptocom','Portfolio\x20change\x20detected:\x20','change24h','event-history','padStart','\x20network\x20error:\x20','Fee\x20discount\x20refund\x20detected:\x20','fetchBalance','0\x20-\x20EXECUTION:\x20','search','round','-performance.json','update-liquidity','portfolio2','Invalid\x20quantity','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','secure','closed','cooldown','cancelOrders()','recreateCoinResults()','fromCodePoint','OnMaintenance','2\x20-\x20handling\x20FILLED\x20order:\x20','limit-high','PermissionDenied','ongoing','\x20|\x20lock\x20orders:\x20','MIN_NOTIONAL','path','bot-','active','-------------------------------\x0a','symbol','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','coin-loading-progress','basecoin','\x20metrics:</b>\x20\x0a\x0a','replace','existsSync','watchTradesForSymbols()','success','Executed\x20','USDT','decode64','kill','getHours','Unknown\x20error:\x20','Saving\x20configuration','marketcapEnabled','toFixed','sort','forEach','bot','./logs/','BNB/','assign','NetworkError','event','heapUsed','limit-low','coin','Stopped\x20fetching\x20balance\x20after\x20'];_0x32aa=function(){return _0x51a6dc;};return _0x32aa();}function deleteHistoryAlerts(_0x572ef8){const _0x498e0f=_0x3f1724;if(dbLogs[_0x498e0f(0x29a)](_0x498e0f(0x284))['value']()){const _0x1025d9=dbLogs[_0x498e0f(0x1fe)](_0x498e0f(0x284))[_0x498e0f(0x1bf)](_0x498e0f(0x28f))[_0x498e0f(0x233)](_0x2995c0=>{const _0x474a89=_0x498e0f;return _0x2995c0[_0x474a89(0x1b9)]==_0x474a89(0x115);})[_0x498e0f(0x28a)]();dbLogs[_0x498e0f(0x1fe)](_0x498e0f(0x284))[_0x498e0f(0x243)]()[_0x498e0f(0xfe)](),dbLogs[_0x498e0f(0x1fe)](_0x498e0f(0x284))[_0x498e0f(0x191)](_0x1025d9)[_0x498e0f(0xfe)](),emitHistory(_0x572ef8);}}async function pauseBot(_0x534b4b=pauseBotIntervalShort,_0x52b88e,_0xd60952,_0x39068b=![]){const _0x19751d=_0x3f1724,_0x575ec7=new Date()[_0x19751d(0x29e)]();if(!lastErrorShown||_0x575ec7-lastErrorShown>=_0x534b4b){lastErrorShown=_0x575ec7;if(!lastBotPause)lastBotPause=_0x575ec7,consecutivePauses=0x1;else{if(_0x575ec7-lastBotPause-_0x534b4b<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x39068b){logHistory(_0x19751d(0x267),_0x52b88e+_0x19751d(0x1fd)),await killBot();return;}else logHistory('error',_0x52b88e+pauseBotMsg),_0x534b4b=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x575ec7;}_0xd60952?logger['debug']('('+consecutivePauses+')\x20'+_0x52b88e+_0x19751d(0x211),_0xd60952):logger['debug']('('+consecutivePauses+')\x20'+_0x52b88e);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x534b4b),botPaused=![],_0x534b4b==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x837c8=_0x3f1724;botPaused=!![],await sleep(0x3e8),process[_0x837c8(0x22a)]({'stop':_0x837c8(0x186)},_0x2638a8=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x597f75,_0x217f39){const _0x62b129=_0x3f1724;if(botPaused)return;const _0x480aa6=config[_0x62b129(0x1e4)]||_0x62b129(0x1c3);if(_0x217f39)logger['debug'](_0x62b129(0x250)+_0x217f39);const _0x9e055c=()=>{const _0x6e20d5=_0x62b129;loading[_0x6e20d5(0x267)]=!![],emitLoadingProgress();};if(_0x597f75['toString']()[_0x62b129(0x249)](_0x62b129(0x1e7)))logHistory('error',_0x480aa6+_0x62b129(0x297)),_0x9e055c();else{if(_0x597f75['toString']()['includes'](_0x62b129(0x138)))logHistory(_0x62b129(0x267),_0x480aa6+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x9e055c();else{if(_0x597f75[_0x62b129(0x11f)]()[_0x62b129(0x249)](_0x62b129(0x1b8)))config[_0x62b129(0x1a4)]?errormsg=_0x480aa6+_0x62b129(0x21f):errormsg=_0x480aa6+_0x62b129(0x266),logHistory(_0x62b129(0x267),errormsg+_0x62b129(0x1f0)),_0x9e055c();else _0x597f75[_0x62b129(0x11f)]()['includes'](_0x62b129(0x172))?(logHistory(_0x62b129(0x267),_0x480aa6+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x9e055c()):await handleError(_0x597f75,null);}}}async function handleError(_0x1a79f8,_0x4795e0,_0x218ac6=''){const _0x19fe6c=_0x3f1724;if(botPaused)return;let _0x38c852;const _0x4e0bdb=config[_0x19fe6c(0x1e4)]||_0x19fe6c(0x1c3);if(_0x4795e0)logger[_0x19fe6c(0x13c)](_0x19fe6c(0x250)+_0x4795e0);if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)]('DDoSProtection'))_0x38c852=_0x4e0bdb+_0x19fe6c(0x258),await pauseBot(undefined,_0x38c852,_0x1a79f8);else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x1f9)))_0x38c852=_0x4e0bdb+_0x19fe6c(0x205),await pauseBot(undefined,_0x38c852,_0x1a79f8);else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x255))||_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x16f)))_0x38c852=_0x4e0bdb+_0x19fe6c(0x109),await pauseBot(undefined,_0x38c852,_0x1a79f8['toString']());else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x1d7)))_0x38c852=_0x4e0bdb+_0x19fe6c(0x103),await pauseBot(undefined,_0x38c852,_0x1a79f8[_0x19fe6c(0x11f)]());else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x23e)))_0x38c852=_0x4e0bdb+_0x19fe6c(0xdf),await pauseBot(undefined,_0x38c852,_0x1a79f8[_0x19fe6c(0x11f)]());else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x270)]()[_0x19fe6c(0x249)]('timestamp')||_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x270)]()[_0x19fe6c(0x249)]('request-time'))_0x38c852='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',await pauseBot(undefined,_0x38c852,_0x1a79f8[_0x19fe6c(0x11f)]());else{if(_0x1a79f8[_0x19fe6c(0x11f)]()['includes']('InvalidNonce'))_0x38c852=_0x4e0bdb+_0x19fe6c(0x2a7),await pauseBot(undefined,_0x38c852,_0x1a79f8[_0x19fe6c(0x11f)]());else{if(_0x1a79f8 instanceof ccxt[_0x19fe6c(0x192)])_0x38c852=_0x4e0bdb+_0x19fe6c(0x15e)+_0x1a79f8[_0x19fe6c(0x11f)](),logger[_0x19fe6c(0x13c)](_0x19fe6c(0x135),_0x1a79f8),await pauseBot(undefined,_0x38c852,_0x1a79f8);else{if(_0x1a79f8['toString']()[_0x19fe6c(0x249)](_0x19fe6c(0x1e7)))logHistory('error',_0x4e0bdb+_0x19fe6c(0x14e)),logHistory('error',_0x19fe6c(0xe3)),await killBot();else{if(_0x1a79f8[_0x19fe6c(0x11f)]()['includes'](_0x19fe6c(0x138)))logHistory(_0x19fe6c(0x267),_0x4e0bdb+_0x19fe6c(0x2a2)),logHistory(_0x19fe6c(0x267),_0x19fe6c(0xe3)),await killBot();else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x1b8))&&_0x1a79f8['toString']()[_0x19fe6c(0x249)]('token\x20is\x20expired'))_0x38c852=_0x4e0bdb+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)',await pauseBot(undefined,_0x38c852,_0x1a79f8,!![]);else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x1b8)))config[_0x19fe6c(0x1a4)]?_0x38c852=_0x4e0bdb+'\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange':_0x38c852=_0x4e0bdb+_0x19fe6c(0x266),logHistory(_0x19fe6c(0x267),_0x38c852),logHistory('error',_0x19fe6c(0xe3)),await killBot();else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)](_0x19fe6c(0x172)))logHistory(_0x19fe6c(0x267),_0x4e0bdb+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x19fe6c(0x267),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1a79f8[_0x19fe6c(0x11f)]()[_0x19fe6c(0x249)]('InsufficientFunds'))logHistory(_0x19fe6c(0x267),_0x19fe6c(0x1ea)+_0x218ac6);else{if(_0x1a79f8 instanceof ccxt['ExchangeError']){_0x38c852=_0x4e0bdb+_0x19fe6c(0x21a)+_0x1a79f8[_0x19fe6c(0x11f)](),logHistory('error',_0x38c852),logger[_0x19fe6c(0x13c)]('Exchange\x20error\x20details:',_0x1a79f8);if(_0x218ac6)logger[_0x19fe6c(0x13c)](_0x19fe6c(0x287)+_0x218ac6);await pauseBot(undefined,_0x38c852,_0x1a79f8);}else{_0x38c852=_0x19fe6c(0x188)+_0x1a79f8['toString'](),logHistory(_0x19fe6c(0x267),_0x38c852),logger['debug'](_0x38c852+_0x19fe6c(0x211),_0x1a79f8);if(_0x218ac6)logger[_0x19fe6c(0x13c)]('Symbol(s):\x20'+_0x218ac6);await pauseBot(undefined,_0x38c852);}}}}}}}}}}}}}}}}function decryptRSA(_0x51b366,_0x38d44c){const _0x5ac2a1=_0x3f1724,_0x384850=forge[_0x5ac2a1(0x1f1)]['privateKeyFromPem'](_0x51b366),_0x1ece77=_0x384850[_0x5ac2a1(0x107)](forge[_0x5ac2a1(0x11c)][_0x5ac2a1(0x185)](_0x38d44c),_0x5ac2a1(0xf5),{'md':forge['md'][_0x5ac2a1(0x120)][_0x5ac2a1(0x132)](),'mgf1':{'md':forge['md'][_0x5ac2a1(0x120)][_0x5ac2a1(0x132)]()}});return _0x1ece77;}async function withRetry(_0x3c2f95,_0x5c833c){const _0x527d3c=_0x3f1724;let _0x2a25eb=![],_0xf3d239=0x0,_0x155990,_0x54713f;while(_0xf3d239<maxRetries){try{_0x155990=await _0x5c833c();break;}catch(_0x24fc06){_0x54713f=_0x24fc06,!_0x2a25eb?(_0x2a25eb=!![],logger[_0x527d3c(0x13c)](_0x527d3c(0x23f)+_0x3c2f95+':',_0x24fc06[_0x527d3c(0x11f)]())):await sleep(retryInterval);}_0xf3d239++;}if(_0xf3d239==0x0)return _0x155990;if(_0xf3d239>=maxRetries)throw _0x54713f;else return logger[_0x527d3c(0x13c)](_0x527d3c(0x1a2)+_0xf3d239+_0x527d3c(0x21c)),_0x155990;}function formatResult(_0xc6785a,_0x5539bd){return parseFloat(_0xc6785a['toFixed'](_0x5539bd));}function formatResultTruncate(_0x5e7f0f,_0x87b503){let _0x104964=formatResultString(_0x5e7f0f,0xa),_0x374ebc=_0x104964['indexOf']('.');return _0x374ebc!=-0x1&&(_0x104964=_0x104964['slice'](0x0,_0x374ebc+_0x87b503+0x1)),Number(_0x104964);}function formatResultString(_0x558244,_0xc854f4){const _0x2ed2c4=_0x3f1724;let _0x25b516;if(!(''+_0x558244)[_0x2ed2c4(0x249)]('e'))_0x25b516=+(Math[_0x2ed2c4(0x163)](_0x558244+'e+'+_0xc854f4)+'e-'+_0xc854f4);else{let _0x118661=(''+_0x558244)[_0x2ed2c4(0x12a)]('e'),_0x10d694='';+_0x118661[0x1]+_0xc854f4>0x0&&(_0x10d694='+'),_0x25b516=+(Math['round'](+_0x118661[0x0]+'e'+_0x10d694+(+_0x118661[0x1]+_0xc854f4))+'e-'+_0xc854f4);}return Number(_0x25b516)[_0x2ed2c4(0x18b)](_0xc854f4);}function getServerTime(){const _0x1e059a=_0x3f1724,_0x3852e3=new Date();return _0x3852e3['getFullYear']()+'/'+(_0x3852e3[_0x1e059a(0x1cc)]()+0x1)[_0x1e059a(0x11f)]()['padStart'](0x2,'0')+'/'+_0x3852e3[_0x1e059a(0x1ff)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x3852e3[_0x1e059a(0x187)]()[_0x1e059a(0x11f)]()[_0x1e059a(0x15d)](0x2,'0')+':'+_0x3852e3['getMinutes']()[_0x1e059a(0x11f)]()[_0x1e059a(0x15d)](0x2,'0')+':'+_0x3852e3[_0x1e059a(0x26f)]()[_0x1e059a(0x11f)]()[_0x1e059a(0x15d)](0x2,'0');}function getTimeStamp(){const _0x58b4ba=_0x3f1724,_0x2b1ea2=shiftedTime();return _0x2b1ea2[_0x58b4ba(0x265)]()+'/'+(_0x2b1ea2[_0x58b4ba(0x1cc)]()+0x1)[_0x58b4ba(0x11f)]()['padStart'](0x2,'0')+'/'+_0x2b1ea2[_0x58b4ba(0x1ff)]()[_0x58b4ba(0x11f)]()['padStart'](0x2,'0')+'\x20'+_0x2b1ea2[_0x58b4ba(0x187)]()[_0x58b4ba(0x11f)]()[_0x58b4ba(0x15d)](0x2,'0')+':'+_0x2b1ea2['getMinutes']()[_0x58b4ba(0x11f)]()[_0x58b4ba(0x15d)](0x2,'0')+':'+_0x2b1ea2['getSeconds']()[_0x58b4ba(0x11f)]()[_0x58b4ba(0x15d)](0x2,'0');}function getDate(){const _0x4a08e4=_0x3f1724,_0x49b9e4=shiftedTime();return _0x49b9e4[_0x4a08e4(0x265)]()+'/'+(_0x49b9e4[_0x4a08e4(0x1cc)]()+0x1)[_0x4a08e4(0x11f)]()[_0x4a08e4(0x15d)](0x2,'0')+'/'+_0x49b9e4[_0x4a08e4(0x1ff)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x538fd1=_0x3f1724,_0x5b4620=shiftedTime();return _0x5b4620[_0x538fd1(0x187)]()[_0x538fd1(0x11f)]()[_0x538fd1(0x15d)](0x2,'0');}function sleep(_0x32a2f6){return new Promise(_0x27e635=>setTimeout(_0x27e635,_0x32a2f6));}function shiftedTime(){const _0x29f251=_0x3f1724,_0x2dfc6f=new Date();let _0x49c4d2=_0x2dfc6f;if(config&&config[_0x29f251(0x1ca)]!==0x0)_0x49c4d2=fns['add'](_0x2dfc6f,{'hours':config['timeshift']});return _0x49c4d2;}function timer(_0x467cde){const _0x40d5d2=_0x3f1724,_0x19ed3e=new Date();!lasttime?console[_0x40d5d2(0x1c6)](getTimeStamp()+':\x20timer\x20>',_0x467cde,_0x19ed3e):console['log'](getTimeStamp()+_0x40d5d2(0xe2),_0x467cde,(_0x19ed3e-lasttime)/0x3e8),lasttime=_0x19ed3e;}