const _0x4a828f=_0x3ffa;(function(_0x36991b,_0x3b6127){const _0x4c661f=_0x3ffa,_0x1ed95f=_0x36991b();while(!![]){try{const _0x4f2c66=-parseInt(_0x4c661f(0x195))/0x1+parseInt(_0x4c661f(0x191))/0x2*(-parseInt(_0x4c661f(0x1d2))/0x3)+-parseInt(_0x4c661f(0x243))/0x4*(parseInt(_0x4c661f(0x224))/0x5)+parseInt(_0x4c661f(0x29f))/0x6+-parseInt(_0x4c661f(0x1a9))/0x7*(parseInt(_0x4c661f(0x265))/0x8)+-parseInt(_0x4c661f(0x255))/0x9*(parseInt(_0x4c661f(0x223))/0xa)+-parseInt(_0x4c661f(0x1c5))/0xb*(-parseInt(_0x4c661f(0x1ae))/0xc);if(_0x4f2c66===_0x3b6127)break;else _0x1ed95f['push'](_0x1ed95f['shift']());}catch(_0xbceace){_0x1ed95f['push'](_0x1ed95f['shift']());}}}(_0x3891,0xa202f));const _0xf367ae=function(){let _0x3d7491=!![];return function(_0x461c40,_0x13520d){const _0x19a6ef=_0x3d7491?function(){if(_0x13520d){const _0x4d2323=_0x13520d['apply'](_0x461c40,arguments);return _0x13520d=null,_0x4d2323;}}:function(){};return _0x3d7491=![],_0x19a6ef;};}(),_0x557612=_0xf367ae(this,function(){const _0x6a0d3e=_0x3ffa;return _0x557612[_0x6a0d3e(0x2a1)]()[_0x6a0d3e(0x296)](_0x6a0d3e(0x214))[_0x6a0d3e(0x2a1)]()['constructor'](_0x557612)[_0x6a0d3e(0x296)](_0x6a0d3e(0x214));});_0x557612();'use strict';const ccxt=require(_0x4a828f(0x1bc)),low=require(_0x4a828f(0x1b2)),FileSync=require(_0x4a828f(0x19c)),fs=require('fs'),fns=require(_0x4a828f(0x1b5)),{WebsocketClient,DefaultLogger}=require(_0x4a828f(0x27d)),Crypt=require(_0x4a828f(0x246))[_0x4a828f(0x28e)];let exchange,wsClient;global['ticker']={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x4a828f(0x272))['version'],botID=process[_0x4a828f(0x230)][0x2]||_0x4a828f(0x200),pattern=/^[0-9]{3}$/;if(!pattern[_0x4a828f(0x238)](botID))return console[_0x4a828f(0x1b0)](_0x4a828f(0x1f2)+botID+_0x4a828f(0x1e8)),process[_0x4a828f(0x26d)](0x1);const userID=process[_0x4a828f(0x230)][0x3]||'',configpath=userID?_0x4a828f(0x210)+userID+'/':'./config/';!fs[_0x4a828f(0x24e)](configpath)&&fs[_0x4a828f(0x1c4)](configpath);const configfile=configpath+_0x4a828f(0x241)+botID+_0x4a828f(0x263),logfile=configpath+_0x4a828f(0x241)+botID+_0x4a828f(0x27c),performancefile=configpath+'bot-'+botID+_0x4a828f(0x288),coinresultsfile=configpath+_0x4a828f(0x241)+botID+_0x4a828f(0x1ff),settingsfile=configpath+_0x4a828f(0x1e0),securefile=configpath+_0x4a828f(0x27b),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x4a828f(0x229)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x4a828f(0x1a2)]({'data':[]})[_0x4a828f(0x229)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x4a828f(0x229)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x4a828f(0x1a2)]({'coins':[]})[_0x4a828f(0x229)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':'BTCEUR','symbol':_0x4a828f(0x19f)},'usd':{'coin':_0x4a828f(0x29e),'symbol':'BTC/USDT'}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x175915)=>{},'debug':(..._0x3b3eec)=>{},'notice':(..._0x4b623a)=>{},'info':(..._0x2edcc7)=>{},'warning':(..._0x39aa2b)=>{},'error':async function(..._0x36bc53){const _0x5c248f=_0x4a828f,_0x323744=new Date()[_0x5c248f(0x231)]();if(!lastErrorShown||_0x323744-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x5c248f(0x231)](),logHistory(_0x5c248f(0x1d8),_0x5c248f(0x251)+consecutivePauses+_0x5c248f(0x208));let _0x37e768='';if(_0x36bc53[0x0])_0x37e768+=_0x36bc53[0x0];if(_0x36bc53[0x1]&&_0x36bc53[0x1][_0x5c248f(0x1d8)]&&_0x36bc53[0x1]['error']['message'])_0x37e768+=_0x5c248f(0x1cb)+_0x36bc53[0x1]['error'][_0x5c248f(0x1c0)];logging(_0x5c248f(0x251)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x37e768),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x4a828f(0x218)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config[_0x4a828f(0x29c)]&&updateTimeshift(settings[_0x4a828f(0x29c)]);process['send']({'started':_0x4a828f(0x290)},_0x3133bf=>{}),initializeProcessListeners();function proxyEmit(_0x2d9486,_0xfed759=null){const _0xd10662=_0x4a828f;process[_0xd10662(0x27a)]({'function':_0x2d9486,'args':_0xfed759},_0x3ce971=>{});}function initializeProcessListeners(){const _0x53a0d0=_0x4a828f;process['on'](_0x53a0d0(0x1c0),_0x55fd6b=>{const _0x23fb95=_0x53a0d0;switch(Object[_0x23fb95(0x236)](_0x55fd6b)[0x0]){case _0x23fb95(0x29c):_0x55fd6b[_0x23fb95(0x29c)]!=undefined&&(settings[_0x23fb95(0x29c)]=_0x55fd6b[_0x23fb95(0x29c)],updateTimeshift(settings['timeshift']));break;case'function':switch(_0x55fd6b[_0x23fb95(0x247)]){case _0x23fb95(0x20c):initclient();break;case _0x23fb95(0x1ef):emitHistory(_0x55fd6b['args']);break;case _0x23fb95(0x22d):deleteHistoryAlerts(_0x55fd6b[_0x23fb95(0x242)]);break;case'getPortfolio':getPortfolio(_0x55fd6b[_0x23fb95(0x242)]);break;case _0x23fb95(0x270):storeConfiguration(_0x55fd6b[_0x23fb95(0x242)]);break;case _0x23fb95(0x2a3):storeHeadless(_0x55fd6b[_0x23fb95(0x242)]);break;case _0x23fb95(0x2a6):getStartingBalances(getNormalizedPerformance());break;case _0x23fb95(0x1a7):placeOrder(_0x55fd6b['args']);break;case'cancelLoading':cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x30771a=_0x4a828f;if(pidBalances)clearTimeout(pidBalances);if(config[_0x30771a(0x260)]!=''){await initExchange(config[_0x30771a(0x260)],config[_0x30771a(0x1d6)]);let _0x1b9042=await loadSymbols();_0x1b9042&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x2ebef3,_0x1901ef){const _0x230223=_0x4a828f,_0x233874=ccxt[config[_0x230223(0x220)]];let _0x29e8f9;switch(config[_0x230223(0x220)]){case _0x230223(0x27d):_0x29e8f9=_0x230223(0x248);break;case'binanceus':_0x29e8f9='wss://stream.binance.us:9443';break;default:_0x29e8f9=_0x230223(0x248);}exchange=new _0x233874({'apiKey':_0x2ebef3,'secret':_0x1901ef,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x2ebef3,'api_secret':_0x1901ef,'beautify':!![],'wsUrl':_0x29e8f9},logger),config[_0x230223(0x220)]==_0x230223(0x1c8)&&(stablecoins={'eur':{'coin':'BTCBUSD','symbol':'BTC/BUSD'},'usd':{'coin':_0x230223(0x29e),'symbol':'BTC/USDT'}});}async function loadSymbols(){const _0x44fb1f=_0x4a828f;let _0x142794;try{markets=await exchange['loadMarkets']();const _0x322253=[_0x44fb1f(0x21b),_0x44fb1f(0x1db),_0x44fb1f(0x21f)];allSymbols=exchange[_0x44fb1f(0x26e)][_0x44fb1f(0x1c2)](_0xd77dac=>{const _0x2b5d1b=_0x44fb1f;let _0x2d96a2=![];return _0x322253[_0x2b5d1b(0x24c)](_0x565b13=>{const _0x17a963=_0x2b5d1b;if(_0xd77dac[_0x17a963(0x1ba)](_0x565b13))_0x2d96a2=!![];}),!_0x2d96a2;}),_0x142794=!![];}catch(_0x4a9d6c){await handleError(_0x4a9d6c,'loadSymbols()'),_0x142794=![];}return _0x142794;}function _0x3891(){const _0x5b996f=['Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Order:\x20','map','Pausing\x20bot\x20for\x205\x20minutes\x20(','bot-','args','351556tojDKP','configuration','subscribeSpotUserDataStream','hybrid-crypto-js','function','wss://stream.binance.com:9443','Limit\x20(low-margin)','last','cooldown','forEach','reverse','existsSync','Order(s)\x20not\x20validated\x20after\x20','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','WebSockets(','Order\x20filled:\x20','replace','emojisell','5983569HsEQDS','format','get','round','accumulatedQuantity','event','threshold','BUSD','LIMIT','isArray','subDays','apiKey','\x20>\x20','target','-config.json','buys','56gnOpVF','getMonth','recreateHistory()','logs','differenceInSeconds','fetchOrders','createOrder','wsMarket','exit','symbols','starting-balance-','storeConfiguration','remove','./version.json','splice','delta','min','sells','cancelOrder()','enabled','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','send','bb-secure.json','-events.json','binance','success','bot','Executed\x20','buy','startprice','secure','version','coinamount','kline','distribution','-performance.json','Bot\x20','Order(s)\x20filled\x20-\x20balancing\x20resumed','wsKey','page','BNB','Crypt','headless','running','Invalid\x20quantity','timestamp','ExchangeNotAvailable','slice','eur','search','assign','length','limit','limits','liquidity','timeshift','botname','BTCUSDT','5240952XkQgAF','getCloses()','toString','DDoSProtection','storeHeadless','offset','FILLED','getStartingBalances','push','limit-high','isEqual','milliseconds','442812aTHcfH','event-history','cancel','ordertype','1324062jSzgkm','EUR','trade','showname','abs','indexOf','startdate','lowdb/adapters/FileSync','InsufficientFunds','remainingSymbols','BTC/EUR','date','amount','defaults','availableBalance','breakeven','kill','asset','placeOrder','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','204519yEYjnE','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','fromCodePoint','coin','placeOrder()','1548RcaGHD','price','log','filled','lowdb','realized','getFiat()','date-fns','startnumber','Limit\x20(high-margin)','sell','.json','includes','\x20order:\x20','ccxt','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','getDate','performance','message','subscribeSpotKline','filter','data','mkdirSync','247973dwVskN','fetchBalance','closeWs','binanceus','progress','fetchTickers','\x20-\x20','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','side','InvalidNonce','portfolio','cloneDeep','\x20|\x20Error\x20details:\x20','3Xqgfcr','fetchOHLCV','reconnected','orderStatus','apiSecret','currency','error','Binance\x20API\x20secret\x20is\x20invalid','parseISO','HOT/BTC','getCoins()','BTC','parse','number','bb-settings.json','\x20orders\x20in\x20less\x20than\x20','yyyy-MM-dd\x27T\x27HH:mm:ss','sortBy','USDT','yyyy/MM/dd','\x20hour','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20minutes\x20-\x20balancing\x20resumed','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','max','order','coins','executionReport','emitHistory','RequestTimeout','cost','Error:\x20Invalid\x20argument\x20','orderId','sort','time','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','MIN_NOTIONAL','2.3.5','getFullYear','privateKey','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','yyyy/MM/dd\x20HH:mm:ss','set','eventType','-results.json','001','Manual\x20balancing\x20required:\x20','usd','entries','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','basecoin','spot','valid',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available',':\x20Bot\x20','configuration-stored','Order(s)\x20validated\x20-\x20balancing\x20resumed','initclient','userData','formattedMessage','getPortfolio()','./config/','value','ticker','market','(((.+)+)+)+$','balances','padStart','toFixed','RSA-OAEP','symbol','getSeconds','DAI/','add','getMinutes','has','HOT/EUR','exchange','fee','decrypt','10TUSXzi','40NXdxIb','AuthenticationError','toLowerCase','excluded','************','write','datetime','getHours','initws()','deleteHistoryAlerts','eachDayOfInterval','close','argv','getTime','type','find','starting-balances','changes','keys','USDC','test','Market','stringify','ask','addDays'];_0x3891=function(){return _0x5b996f;};return _0x3891();}async function initbot(){const _0x2cba81=_0x4a828f;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x3de6e5=dbCoinResults[_0x2cba81(0x257)](_0x2cba81(0x1ed))[_0x2cba81(0x211)]();if(_0x3de6e5['length']==0x0)await resetCoinResults();}function _0x3ffa(_0x4e808d,_0x138e30){const _0x9605e0=_0x3891();return _0x3ffa=function(_0x557612,_0xf367ae){_0x557612=_0x557612-0x191;let _0x389166=_0x9605e0[_0x557612];return _0x389166;},_0x3ffa(_0x4e808d,_0x138e30);}async function initclient(){const _0x1f2254=_0x4a828f;proxyEmit(_0x1f2254(0x244),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1f2254(0x215),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x410a8c=getNormalizedPerformance();emitPerformance(_0x410a8c),await getStartingBalances(_0x410a8c);}function cleanws(){const _0x4d77a9=_0x4a828f;wsinitialized=![];ws1&&(ws1['forEach'](_0x44f336=>{const _0x1b033f=_0x3ffa;try{wsClient[_0x1b033f(0x1c7)](_0x44f336);}catch(_0x1d1ca3){}}),ws1=[]);if(ws2){try{wsClient[_0x4d77a9(0x1c7)](ws2);}catch(_0x309ce8){}ws2=null;}}async function initws(){const _0x3f3c07=_0x4a828f;cleanws();let _0x55fd76=[];currentCoins[_0x3f3c07(0x24c)](_0x93fe60=>{const _0x50c021=_0x3f3c07;if(_0x93fe60['coin']!=config[_0x50c021(0x205)])_0x55fd76[_0x50c021(0x2a7)](noslash(_0x93fe60[_0x50c021(0x219)]));});if(!_0x55fd76['includes'](stablecoins[_0x3f3c07(0x295)][_0x3f3c07(0x1ac)]))_0x55fd76[_0x3f3c07(0x2a7)](stablecoins[_0x3f3c07(0x295)]['coin']);if(!_0x55fd76['includes'](stablecoins[_0x3f3c07(0x202)][_0x3f3c07(0x1ac)]))_0x55fd76[_0x3f3c07(0x2a7)](stablecoins[_0x3f3c07(0x202)][_0x3f3c07(0x1ac)]);if(!_0x55fd76[_0x3f3c07(0x1ba)](_0x3f3c07(0x28d)+config[_0x3f3c07(0x205)]))_0x55fd76[_0x3f3c07(0x2a7)]('BNB'+config[_0x3f3c07(0x205)]);try{_0x55fd76[_0x3f3c07(0x24c)]((_0x2a5d15,_0x398c4a)=>{const _0x213c89=_0x3f3c07;ws1[_0x398c4a]=wsClient[_0x213c89(0x1c1)](_0x2a5d15,'1m');}),ws2=wsClient[_0x3f3c07(0x245)](),wsClient['on'](_0x3f3c07(0x20e),_0x4855f3=>{const _0x48f1f8=_0x3f3c07;if(!Array['isArray'](_0x4855f3)&&!_0x4855f3[_0x48f1f8(0x28b)][_0x48f1f8(0x1ba)]('userData')){if(_0x4855f3[_0x48f1f8(0x1fe)]===_0x48f1f8(0x286)){global[_0x48f1f8(0x212)][_0x4855f3[_0x48f1f8(0x286)][_0x48f1f8(0x219)]]=_0x4855f3[_0x48f1f8(0x286)][_0x48f1f8(0x22f)];return;}}else{if(!Array[_0x48f1f8(0x25e)](_0x4855f3)&&_0x4855f3[_0x48f1f8(0x28b)][_0x48f1f8(0x1ba)](_0x48f1f8(0x20d))){if(_0x4855f3[_0x48f1f8(0x26c)][_0x48f1f8(0x1ba)](_0x48f1f8(0x206))){updateNumberCoins(_0x4855f3);return;}}}}),wsClient['on'](_0x3f3c07(0x1d4),async _0x381d37=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x16d970){await handleError(_0x16d970,_0x3f3c07(0x22c));}let _0x3efd72,_0x4e6b22=0x0;loading[_0x3f3c07(0x19e)]=[];let _0x358d3e=0x0;currentCoins[_0x3f3c07(0x24c)](_0x1eaeac=>{const _0x42a14e=_0x3f3c07;if(_0x1eaeac[_0x42a14e(0x1ac)]!=config[_0x42a14e(0x205)])loading[_0x42a14e(0x19e)][_0x42a14e(0x2a7)](_0x1eaeac[_0x42a14e(0x219)]);}),loadingCanceled=![];while(_0x3efd72!=currentCoins['length']-0x1){_0x3efd72=0x0,currentCoins[_0x3f3c07(0x24c)](_0x59492a=>{const _0x449037=_0x3f3c07;_0x59492a[_0x449037(0x1ac)]!=config['basecoin']&&global[_0x449037(0x212)][noslash(_0x59492a['symbol'])]&&(loading[_0x449037(0x19e)]=loading[_0x449037(0x19e)]['filter'](_0x3c770=>_0x3c770!=_0x59492a[_0x449037(0x219)]),_0x3efd72++);}),loading[_0x3f3c07(0x1c9)]=Math[_0x3f3c07(0x258)](_0x3efd72/(currentCoins[_0x3f3c07(0x298)]-0x1)*0x64);_0x358d3e>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x3f3c07(0x193)]=!![],emitLoadingProgress();break;}else _0x3efd72!=_0x4e6b22&&(_0x4e6b22=_0x3efd72,emitLoadingProgress()),_0x358d3e++,await sleep(0xc8);}if(_0x3efd72==currentCoins['length']-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x4674bb=_0x4a828f;let _0x2e8c6d=0x0,_0x3c5086=0x0;try{_0x2e8c6d=global[_0x4674bb(0x212)][stablecoins[_0x4674bb(0x295)][_0x4674bb(0x1ac)]],_0x3c5086=global['ticker'][stablecoins['usd'][_0x4674bb(0x1ac)]];}catch(_0x27bb92){await handleError(_0x27bb92,_0x4674bb(0x1b4));}return{'eur':Number(_0x2e8c6d),'usd':Number(_0x3c5086)};}function setStartDatePerformance(){const _0xe8147b=_0x4a828f;if(config&&config['liquidity'][0x0][_0xe8147b(0x235)]['length']!=0x0){const _0x33e612=config[_0xe8147b(0x29b)][0x0][_0xe8147b(0x235)];dbPerformance[_0xe8147b(0x257)](_0xe8147b(0x1c3))['find']({'date':config[_0xe8147b(0x19b)]})[_0xe8147b(0x297)]({'coins':_0x33e612})['write']();}}async function recreateHistory(_0xfec250){const _0x2f682c=_0x4a828f;let _0x569b90,_0x3fec3b=[];logHistory('success','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0xfec250[_0x2f682c(0x1cf)][_0x2f682c(0x24c)](_0x47f59c=>{const _0xdaa8c5=_0x2f682c;if(_0x47f59c[_0xdaa8c5(0x1ac)]!=config[_0xdaa8c5(0x205)]&&!_0x47f59c['excluded'])_0x3fec3b['push']({'coin':_0x47f59c[_0xdaa8c5(0x1ac)],'symbol':_0x47f59c['symbol']});});let _0x4dee61=[];try{const _0x38b7b0=fns[_0x2f682c(0x256)](fns[_0x2f682c(0x1da)](_0xfec250[_0x2f682c(0x19b)][_0x2f682c(0x253)](/\//g,'-')),_0x2f682c(0x1e2));for(const _0x26ad20 of _0x3fec3b){if(_0x26ad20[_0x2f682c(0x1ac)]!=config[_0x2f682c(0x205)])_0x569b90=await exchange[_0x2f682c(0x26a)](_0x26ad20[_0x2f682c(0x219)],Date[_0x2f682c(0x1de)](_0x38b7b0));_0x569b90[_0x2f682c(0x24c)](_0x425a04=>{const _0x3830ce=_0x2f682c,_0x1336a3=_0x26ad20['symbol'][_0x3830ce(0x1ba)](config[_0x3830ce(0x205)]+'/'),_0x2c61e5=fns['format'](fns[_0x3830ce(0x1da)](_0x425a04[_0x3830ce(0x22a)]),_0x3830ce(0x1fc)),_0x204b50=fns[_0x3830ce(0x256)](fns[_0x3830ce(0x1da)](_0x425a04[_0x3830ce(0x22a)]),_0x3830ce(0x1e5));let _0x28773c;if(_0x425a04[_0x3830ce(0x1cd)]==_0x3830ce(0x281)&&_0x1336a3==![])_0x28773c=_0x425a04['amount'];if(_0x425a04[_0x3830ce(0x1cd)]==_0x3830ce(0x281)&&_0x1336a3==!![])_0x28773c=-_0x425a04[_0x3830ce(0x1a1)]*_0x425a04[_0x3830ce(0x1af)];if(_0x425a04[_0x3830ce(0x1cd)]=='sell'&&_0x1336a3==![])_0x28773c=-_0x425a04[_0x3830ce(0x1a1)];if(_0x425a04[_0x3830ce(0x1cd)]=='sell'&&_0x1336a3==!![])_0x28773c=_0x425a04[_0x3830ce(0x1a1)]*_0x425a04[_0x3830ce(0x1af)];_0x4dee61[_0x3830ce(0x2a7)]({'timestamp':_0x2c61e5,'date':_0x204b50,'coin':_0x26ad20['coin'],'symbol':_0x26ad20[_0x3830ce(0x219)],'type':_0x425a04[_0x3830ce(0x232)],'side':_0x425a04[_0x3830ce(0x1cd)],'reverse':_0x1336a3,'amount':formatResult(_0x425a04['filled'],0x8),'filled':formatResult(_0x425a04[_0x3830ce(0x1b1)],0x8),'coinamount':formatResult(_0x28773c,0x8),'price':formatResult(_0x425a04[_0x3830ce(0x1af)],0x8)});let _0x26b465;if(_0x425a04['side']==_0x3830ce(0x281)&&_0x1336a3==![])_0x26b465=-_0x425a04[_0x3830ce(0x1a1)]*_0x425a04[_0x3830ce(0x1af)];if(_0x425a04['side']==_0x3830ce(0x281)&&_0x1336a3==!![])_0x26b465=_0x425a04['amount'];if(_0x425a04[_0x3830ce(0x1cd)]=='sell'&&_0x1336a3==![])_0x26b465=_0x425a04[_0x3830ce(0x1a1)]*_0x425a04[_0x3830ce(0x1af)];if(_0x425a04[_0x3830ce(0x1cd)]==_0x3830ce(0x1b8)&&_0x1336a3==!![])_0x26b465=-_0x425a04[_0x3830ce(0x1a1)];_0x4dee61[_0x3830ce(0x2a7)]({'date':_0x204b50,'coin':config[_0x3830ce(0x205)],'coinamount':formatResult(_0x26b465,0x8)});});}_0x4dee61[_0x2f682c(0x1f4)]((_0x147ccc,_0x5294f9)=>_0x147ccc[_0x2f682c(0x292)]>_0x5294f9[_0x2f682c(0x292)]?0x1:_0x5294f9[_0x2f682c(0x292)]>_0x147ccc[_0x2f682c(0x292)]?-0x1:0x0),dbLogs[_0x2f682c(0x257)]('logs')[_0x2f682c(0x271)]()[_0x2f682c(0x229)](),_0x4dee61[_0x2f682c(0x24c)](_0x1b49f1=>{const _0x5412ef=_0x2f682c;let _0x3ba4e7;_0x1b49f1[_0x5412ef(0x1ac)]!=config[_0x5412ef(0x205)]&&(_0x3ba4e7={'time':_0x1b49f1[_0x5412ef(0x292)],'type':_0x5412ef(0x1ec),'event':_0x5412ef(0x23e)+_0x1b49f1['symbol']+'\x20'+_0x1b49f1['side']+'\x20#'+_0x1b49f1['amount']+'\x20@'+_0x1b49f1['price']},dbLogs[_0x5412ef(0x257)]('logs')[_0x5412ef(0x2a7)](_0x3ba4e7)[_0x5412ef(0x229)]());});const _0x3d8cef=fns[_0x2f682c(0x22e)]({'start':new Date(_0xfec250['startdate']),'end':new Date()})[_0x2f682c(0x23f)](_0x85ebe3=>fns[_0x2f682c(0x256)](_0x85ebe3,'yyyy/MM/dd'));let _0x44487c=[];_0xfec250[_0x2f682c(0x1cf)][_0x2f682c(0x24c)](_0x2c6d33=>{const _0x111008=_0x2f682c;if(!_0x2c6d33[_0x111008(0x227)]){_0x44487c[_0x2c6d33[_0x111008(0x1ac)]]=[];let _0x4eba4d=_0x2c6d33[_0x111008(0x1b6)];_0x3d8cef[_0x111008(0x24c)]((_0x4e24b6,_0x539b09)=>{const _0x1499e3=_0x111008;let _0x2a35fd=_0x4dee61[_0x1499e3(0x1c2)](_0x532fd0=>_0x532fd0['coin']==_0x2c6d33[_0x1499e3(0x1ac)]&&_0x532fd0[_0x1499e3(0x1a0)]==_0x4e24b6);if(_0x2a35fd[_0x1499e3(0x298)]!=0x0){let _0x3e3da8=_0x2a35fd['reduce']((_0x4b6733,_0x4104c8)=>{const _0x281882=_0x1499e3;return _0x4b6733+=_0x4104c8[_0x281882(0x285)],_0x4b6733;},0x0);_0x4eba4d+=_0x3e3da8;}_0x44487c[_0x2c6d33[_0x1499e3(0x1ac)]][_0x4e24b6]=_0x4eba4d;});}});const _0x329843=[..._0x3fec3b];_0x329843[_0x2f682c(0x2a7)]({'coin':stablecoins[_0x2f682c(0x295)][_0x2f682c(0x1ac)],'symbol':stablecoins[_0x2f682c(0x295)][_0x2f682c(0x219)]}),_0x329843[_0x2f682c(0x2a7)]({'coin':stablecoins[_0x2f682c(0x202)][_0x2f682c(0x1ac)],'symbol':stablecoins[_0x2f682c(0x202)][_0x2f682c(0x219)]});let _0xd37221=[];for(const _0xda467e of _0x329843){_0xd37221[_0xda467e[_0x2f682c(0x1ac)]]=await getCloses(_0xda467e[_0x2f682c(0x219)],new Date(_0xfec250['startdate']));}dbPerformance['get'](_0x2f682c(0x1c3))[_0x2f682c(0x271)]()[_0x2f682c(0x229)](),_0x3d8cef[_0x2f682c(0x24c)]((_0xdb918c,_0x37553a)=>{const _0x446588=_0x2f682c;let _0x420b45,_0x420ac8=[];_0x37553a==0x0?(_0xfec250[_0x446588(0x1cf)][_0x446588(0x24c)](_0x1a018c=>{const _0x4ddb3f=_0x446588;!_0x1a018c[_0x4ddb3f(0x227)]&&_0x420ac8[_0x4ddb3f(0x2a7)]({'coin':_0x1a018c[_0x4ddb3f(0x1ac)],'number':_0x1a018c['startnumber'],'price':_0x1a018c[_0x4ddb3f(0x282)]});}),_0x420b45={'date':_0xdb918c,'eur':_0xd37221[stablecoins[_0x446588(0x295)][_0x446588(0x1ac)]][_0x37553a],'usd':_0xd37221[stablecoins[_0x446588(0x202)][_0x446588(0x1ac)]][_0x37553a],'coins':_0x420ac8}):(_0xfec250[_0x446588(0x1cf)][_0x446588(0x24c)](_0x4ab8db=>{const _0x37807d=_0x446588;!_0x4ab8db[_0x37807d(0x227)]&&_0x420ac8[_0x37807d(0x2a7)]({'coin':_0x4ab8db[_0x37807d(0x1ac)],'number':_0x44487c[_0x4ab8db['coin']][_0xdb918c],'price':_0x4ab8db['coin']==config[_0x37807d(0x205)]?0x1:_0xd37221[_0x4ab8db[_0x37807d(0x1ac)]][_0x37553a]});}),_0x420b45={'date':_0xdb918c,'eur':_0xd37221[stablecoins['eur']['coin']][_0x37553a],'usd':_0xd37221[stablecoins[_0x446588(0x202)][_0x446588(0x1ac)]][_0x37553a],'coins':_0x420ac8}),dbPerformance[_0x446588(0x257)](_0x446588(0x1c3))[_0x446588(0x2a7)](_0x420b45)[_0x446588(0x229)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x4a6d26 of _0x4dee61){_0x4a6d26[_0x2f682c(0x1ac)]!=config[_0x2f682c(0x205)]&&await updateCoinResults(_0x4a6d26);}logHistory(_0x2f682c(0x27e),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x575fb4){await handleError(_0x575fb4,_0x2f682c(0x267));}}async function getCloses(_0x43fa41,_0x11f1f5,_0x47a7ac=undefined){const _0x515cbf=_0x4a828f,_0x5678bf='1d';let _0x24faf1,_0x1e6b09;const _0x1cd623=fns['differenceInCalendarDays'](new Date(),_0x11f1f5)+0x1;try{const _0x1ee836=exchange[_0x515cbf(0x2aa)]()-_0x1cd623*0x18*0xe10*0x3e8;_0x24faf1=await exchange[_0x515cbf(0x1d3)](_0x43fa41,_0x5678bf,_0x1ee836,_0x47a7ac),_0x1e6b09=await exchange[_0x515cbf(0x1ca)](_0x43fa41);}catch(_0x5c8f21){await handleError(_0x5c8f21,_0x515cbf(0x2a0));}let _0x4a21b8=ohlcvToCloses(_0x24faf1);return _0x4a21b8[_0x515cbf(0x2a7)](_0x1e6b09[_0x43fa41][_0x515cbf(0x24a)]),_0x4a21b8;}function ohlcvToCloses(_0x146d11){const _0x14e685=_0x4a828f;let _0x455079=[];return _0x146d11[_0x14e685(0x24c)](function(_0x4a78dd){const _0x4f3bc2=_0x14e685;_0x455079[_0x4f3bc2(0x2a7)](_0x4a78dd[0x4]);}),_0x455079;}function oneTimeMigration(){const _0x503c7c=_0x4a828f;let _0x23abcf=dbLogs[_0x503c7c(0x257)](_0x503c7c(0x284))[_0x503c7c(0x211)]();if(_0x23abcf!=_0x503c7c(0x1f8)){dbLogs[_0x503c7c(0x1fd)]('version',_0x503c7c(0x1f8))[_0x503c7c(0x229)]();let _0x1b5a24=[];const _0x39161f=dbLogs[_0x503c7c(0x257)](_0x503c7c(0x268))[_0x503c7c(0x211)]();_0x39161f[_0x503c7c(0x24c)](_0x58f60a=>{const _0x45dc7e=_0x503c7c;_0x1b5a24[_0x45dc7e(0x2a7)]({'time':_0x58f60a['time'],'type':_0x58f60a[_0x45dc7e(0x232)],'event':_0x58f60a['event']});}),dbLogs['get'](_0x503c7c(0x268))['assign'](_0x1b5a24)[_0x503c7c(0x229)]();}let _0x2058e5=dbConfig[_0x503c7c(0x257)](_0x503c7c(0x284))[_0x503c7c(0x211)]();if(_0x2058e5!='2.3.5'){dbConfig['set'](_0x503c7c(0x284),'2.3.5')['write']();let _0x52ee1c=dbConfig[_0x503c7c(0x257)](_0x503c7c(0x27f))[_0x503c7c(0x233)]({'botID':botID})['value']();if(_0x52ee1c){let _0x5a5f3c=[];_0x52ee1c[_0x503c7c(0x1cf)]['forEach'](_0x140b90=>{const _0x3f373c=_0x503c7c;_0x5a5f3c[_0x3f373c(0x2a7)]({'coin':_0x140b90[_0x3f373c(0x1ac)],'number':_0x140b90['startnumber'],'price':_0x140b90[_0x3f373c(0x282)]}),delete _0x140b90[_0x3f373c(0x1b6)],delete _0x140b90[_0x3f373c(0x282)];});if(_0x5a5f3c[_0x503c7c(0x298)]!==0x0)fs['writeFile'](configbackuppath+(_0x503c7c(0x26f)+botID+_0x503c7c(0x1b9)),JSON[_0x503c7c(0x23a)](_0x5a5f3c,null,0x4),function(_0x4bf21a){if(_0x4bf21a){}});const _0x255953=(_0x4db5d8,_0x196ba1)=>{const _0x4fd74c=_0x503c7c;let _0x201c47=[];_0x196ba1['forEach'](_0x3cf311=>{const _0x592d0a=_0x3ffa,_0x50b3f1=_0x4db5d8['find'](_0x884a73=>_0x884a73[_0x592d0a(0x1ac)]==_0x3cf311[_0x592d0a(0x1ac)]);if(!_0x50b3f1)_0x201c47[_0x592d0a(0x2a7)](_0x3cf311);});let _0xc76837=[];return _0x4db5d8[_0x4fd74c(0x24c)](_0x245f2f=>{const _0x16accf=_0x4fd74c,_0x44aef4=_0x196ba1[_0x16accf(0x233)](_0x3e202b=>_0x3e202b['coin']==_0x245f2f[_0x16accf(0x1ac)]);if(!_0x44aef4||_0x44aef4['number']==0x0&&_0x245f2f['number']!=0x0)_0xc76837['push'](_0x245f2f);}),{'missingDay1':_0x201c47,'notInDay2':_0xc76837};},_0xe8ca5b=dbPerformance[_0x503c7c(0x257)](_0x503c7c(0x1c3))['cloneDeep']()[_0x503c7c(0x211)]();if(_0xe8ca5b[_0x503c7c(0x298)]>0x1){const {missingDay1:_0x4285f2,notInDay2:_0x45c8d2}=_0x255953(_0x5a5f3c,_0xe8ca5b[0x1][_0x503c7c(0x1ed)]);_0x5a5f3c=[..._0x5a5f3c,..._0x4285f2],_0x45c8d2['forEach'](_0x2eeb3f=>{const _0x999dca=_0x503c7c;let _0x395f48=_0x5a5f3c['findIndex'](_0x3b16f6=>_0x3b16f6[_0x999dca(0x1ac)]==_0x2eeb3f[_0x999dca(0x1ac)]);_0x395f48!=-0x1&&_0x5a5f3c['splice'](_0x395f48,0x1);});}_0x5a5f3c[_0x503c7c(0x1f4)]((_0x58ed90,_0x54bbbb)=>_0x58ed90[_0x503c7c(0x1ac)]>_0x54bbbb[_0x503c7c(0x1ac)]?0x1:_0x54bbbb[_0x503c7c(0x1ac)]>_0x58ed90[_0x503c7c(0x1ac)]?-0x1:0x0);let _0x2a7379=[{'date':_0x52ee1c['startdate'],'changes':_0x5a5f3c}];_0xe8ca5b[_0x503c7c(0x298)]>0x2&&_0xe8ca5b[_0x503c7c(0x24c)]((_0x28bfce,_0x37afbf)=>{const _0x5379bb=_0x503c7c;if(_0x37afbf>0x0&&_0x37afbf<_0xe8ca5b[_0x5379bb(0x298)]-0x1){const {missingDay1:_0x576d8f,notInDay2:_0x1c598b}=_0x255953(_0xe8ca5b[_0x37afbf][_0x5379bb(0x1ed)],_0xe8ca5b[_0x37afbf+0x1]['coins']);_0x5a5f3c=[],(_0x576d8f[_0x5379bb(0x298)]!=0x0||_0x1c598b['length']!=0x0)&&(_0x576d8f[_0x5379bb(0x298)]!=0x0&&_0x5a5f3c[_0x5379bb(0x2a7)](..._0x576d8f),_0x1c598b[_0x5379bb(0x298)]!=0x0&&(_0x1c598b[_0x5379bb(0x24c)](_0x14d8fc=>{const _0x8447da=_0x5379bb;_0x14d8fc[_0x8447da(0x1df)]=-_0x14d8fc[_0x8447da(0x1df)];}),_0x5a5f3c['push'](..._0x1c598b)),_0x5a5f3c[_0x5379bb(0x1f4)]((_0x13b97b,_0x5c950a)=>_0x13b97b[_0x5379bb(0x1ac)]>_0x5c950a[_0x5379bb(0x1ac)]?0x1:_0x5c950a[_0x5379bb(0x1ac)]>_0x13b97b[_0x5379bb(0x1ac)]?-0x1:0x0),_0x2a7379['push']({'date':_0xe8ca5b[_0x37afbf+0x1][_0x5379bb(0x1a0)],'changes':_0x5a5f3c}));}}),dbConfig[_0x503c7c(0x257)](_0x503c7c(0x27f))['find']({'botID':botID})['assign']({..._0x52ee1c,'liquidity':_0x2a7379})[_0x503c7c(0x229)]();}}config=getConfiguration(botID);let _0x15765b=dbPerformance[_0x503c7c(0x257)](_0x503c7c(0x284))[_0x503c7c(0x211)]();_0x15765b!=_0x503c7c(0x1f8)&&(dbPerformance[_0x503c7c(0x1fd)]('version',_0x503c7c(0x1f8))[_0x503c7c(0x229)](),setStartDatePerformance());let _0x546706=dbCoinResults[_0x503c7c(0x257)]('version')[_0x503c7c(0x211)]();_0x546706!='2.3.5'&&dbCoinResults[_0x503c7c(0x1fd)](_0x503c7c(0x284),_0x503c7c(0x1f8))[_0x503c7c(0x229)]();}function getConfiguration(_0x45ed46){const _0x582764=_0x4a828f;let _0x30dcc8=dbConfig['get']('bot')['find']({'botID':_0x45ed46})['value']();if(_0x30dcc8){}else _0x30dcc8={'botID':_0x45ed46,'exchange':_0x582764(0x27d),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x582764(0x289)+_0x45ed46,'showname':![],'threshold':'3','ordertype':_0x582764(0x213),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x582764(0x29c)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x30dcc8;}function emittedConfiguration(){const _0x58c1ad=_0x4a828f;let _0x447a76;return config['apiKey']==''?_0x447a76=config:_0x447a76={...config,'apiKey':_0x58c1ad(0x228),'apiSecret':_0x58c1ad(0x228)},_0x447a76;}function getSettings(){const _0x1ae6d8=_0x4a828f;return dbSettings[_0x1ae6d8(0x257)]('settings')[_0x1ae6d8(0x211)]();}function getSecure(){const _0x3589a7=_0x4a828f;return dbSecure[_0x3589a7(0x257)](_0x3589a7(0x283))[_0x3589a7(0x211)]()||{};}function updateTimeshift(_0x4f7afa){const _0x5c5ad4=_0x4a828f;let _0x53dda2=dbConfig['get'](_0x5c5ad4(0x27f))[_0x5c5ad4(0x233)]({'botID':botID})['value']();_0x53dda2&&dbConfig['get'](_0x5c5ad4(0x27f))[_0x5c5ad4(0x233)]({'botID':botID})['assign']({'timeshift':_0x4f7afa})[_0x5c5ad4(0x229)](),config['timeshift']=_0x4f7afa,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x49af4a){const _0x486b2b=_0x4a828f;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x5a8b96=dbConfig[_0x486b2b(0x257)](_0x486b2b(0x27f))[_0x486b2b(0x233)]({'botID':botID})[_0x486b2b(0x211)]();_0x49af4a={..._0x49af4a,'apiKey':crypt['decrypt'](secure[_0x486b2b(0x1fa)],_0x49af4a[_0x486b2b(0x260)])[_0x486b2b(0x1c0)],'apiSecret':crypt[_0x486b2b(0x222)](secure[_0x486b2b(0x1fa)],_0x49af4a['apiSecret'])['message']};if(_0x5a8b96){if(_0x49af4a[_0x486b2b(0x260)]==_0x486b2b(0x228))_0x49af4a[_0x486b2b(0x260)]=config[_0x486b2b(0x260)];if(_0x49af4a[_0x486b2b(0x1d6)]==_0x486b2b(0x228))_0x49af4a[_0x486b2b(0x1d6)]=config[_0x486b2b(0x1d6)];dbConfig[_0x486b2b(0x257)](_0x486b2b(0x27f))[_0x486b2b(0x233)]({'botID':botID})[_0x486b2b(0x297)](_0x49af4a)['write']();}else dbConfig[_0x486b2b(0x257)](_0x486b2b(0x27f))[_0x486b2b(0x2a7)](_0x49af4a)[_0x486b2b(0x229)](),process['send']({'status':_0x486b2b(0x278),'live':'running'},_0x19a707=>{});config={..._0x49af4a},setStartDatePerformance(),process[_0x486b2b(0x27a)]({'botname':_0x49af4a[_0x486b2b(0x29d)]},_0x29acd7=>{});const _0x3bcfc1=getNormalizedPerformance();getStartingBalances(_0x3bcfc1),emitPerformance(_0x3bcfc1),proxyEmit(_0x486b2b(0x20a)),reset();}async function storeHeadless(_0x22ae9a){const _0x250776=_0x4a828f,_0x3eab14={...config,'headless':_0x22ae9a[_0x250776(0x28f)]};let _0x3559c5=dbConfig[_0x250776(0x257)](_0x250776(0x27f))[_0x250776(0x233)]({'botID':botID})[_0x250776(0x211)]();_0x3559c5&&dbConfig[_0x250776(0x257)](_0x250776(0x27f))[_0x250776(0x233)]({'botID':botID})[_0x250776(0x297)](_0x3eab14)[_0x250776(0x229)](),config={..._0x3eab14},proxyEmit(_0x250776(0x244),emittedConfiguration());}function noslash(_0x789c01){const _0x501152=_0x4a828f;return _0x789c01[_0x501152(0x253)]('/','');}function updateNumberCoins(_0x4ea375){const _0x4aac6b=_0x4a828f;_0x4ea375[_0x4aac6b(0x1fe)]&&_0x4ea375[_0x4aac6b(0x1fe)]=='outboundAccountPosition'&&_0x4ea375['balances'][_0x4aac6b(0x24c)](_0x50a560=>{const _0x26b343=_0x4aac6b;let _0xd5ff69=currentCoins[_0x26b343(0x233)](_0x2d3201=>_0x2d3201[_0x26b343(0x1ac)]==_0x50a560[_0x26b343(0x1a6)]),_0x5d4ee7=config['portfolio'][_0x26b343(0x233)](_0x172c47=>_0x172c47['coin']==_0x50a560[_0x26b343(0x1a6)]);if(_0xd5ff69&&_0x5d4ee7)_0xd5ff69['number']=Math['max'](Number(_0x50a560[_0x26b343(0x1a3)])+(_0x5d4ee7[_0x26b343(0x2a4)]||0x0),0x0);});if(_0x4ea375[_0x4aac6b(0x1fe)]&&_0x4ea375[_0x4aac6b(0x1fe)]==_0x4aac6b(0x1ee)){if(_0x4ea375['orderType']==_0x4aac6b(0x25d)&&_0x4ea375[_0x4aac6b(0x1d5)]==_0x4aac6b(0x2a5)){if(lastOrders)lastOrders[_0x4aac6b(0x24c)](_0x1ee545=>{const _0x48b605=_0x4aac6b;if(_0x1ee545[_0x48b605(0x1f3)]==_0x4ea375[_0x48b605(0x1f3)]){if(_0x1ee545[_0x48b605(0x24d)])_0x1ee545[_0x48b605(0x1b1)]=_0x4ea375[_0x48b605(0x259)]*_0x1ee545[_0x48b605(0x1af)];else _0x1ee545[_0x48b605(0x1b1)]=_0x4ea375['accumulatedQuantity'];}});}}}async function getCoins(_0x3f1b75=!![],_0x4647e3=config[_0x4a828f(0x205)]){const _0x40f3f6=_0x4a828f;let _0x48bff4,_0x4f4b00=[],_0x150ecc=[],_0x105d58=[];try{_0x48bff4=await exchange[_0x40f3f6(0x1c6)](),mybalances=_0x48bff4['total'];if(!_0x3f1b75)for(const [_0x360318,_0x18719a]of Object['entries'](mybalances)){_0x105d58['push'](_0x360318);}else config[_0x40f3f6(0x1cf)][_0x40f3f6(0x24c)](_0x4e223d=>{const _0x166725=_0x40f3f6;if(!_0x4e223d['excluded'])_0x105d58[_0x166725(0x2a7)](_0x4e223d['coin']);});if(_0x4647e3=='')for(const [_0x915d3e,_0xd5754]of Object[_0x40f3f6(0x203)](mybalances)){_0xd5754[_0x40f3f6(0x2a1)]()!=0x0&&_0x150ecc[_0x40f3f6(0x2a7)]({'coin':_0x915d3e});}else for(const [_0x508fbb,_0x1d6bda]of Object[_0x40f3f6(0x203)](mybalances)){if(_0x105d58['includes'](_0x508fbb)){const _0x10326e=config['portfolio'][_0x40f3f6(0x233)](_0x3a6e39=>_0x3a6e39[_0x40f3f6(0x1ac)]==_0x508fbb);if((_0x1d6bda[_0x40f3f6(0x2a1)]()!=0x0||_0x10326e)&&(allSymbols[_0x40f3f6(0x1ba)](_0x508fbb+'/'+_0x4647e3)||_0x508fbb==_0x4647e3))_0x150ecc[_0x40f3f6(0x2a7)]({'coin':_0x508fbb,'symbol':_0x508fbb+'/'+_0x4647e3,'reverse':![],'number':Math[_0x40f3f6(0x1eb)](_0x1d6bda+(_0x10326e&&_0x10326e[_0x40f3f6(0x2a4)]||0x0),0x0)}),_0x508fbb!=_0x4647e3&&_0x4f4b00['push'](_0x508fbb+'/'+_0x4647e3);else(_0x1d6bda[_0x40f3f6(0x2a1)]()!=0x0||_0x10326e)&&allSymbols[_0x40f3f6(0x1ba)](_0x4647e3+'/'+_0x508fbb)&&(_0x150ecc['push']({'coin':_0x508fbb,'symbol':_0x4647e3+'/'+_0x508fbb,'reverse':!![],'number':Math[_0x40f3f6(0x1eb)](_0x1d6bda+(_0x10326e&&_0x10326e[_0x40f3f6(0x2a4)]||0x0),0x0)}),_0x508fbb!=_0x4647e3&&_0x4f4b00['push'](_0x4647e3+'/'+_0x508fbb));}}}catch(_0x5754e3){if(!_0x3f1b75){if(_0x5754e3[_0x40f3f6(0x2a1)]()[_0x40f3f6(0x1ba)]('API-key\x20format\x20invalid'))return logHistory(_0x40f3f6(0x1d8),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x5754e3[_0x40f3f6(0x2a1)]()[_0x40f3f6(0x1ba)](_0x40f3f6(0x225)))return logHistory(_0x40f3f6(0x1d8),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x5754e3[_0x40f3f6(0x2a1)]()[_0x40f3f6(0x1ba)](_0x40f3f6(0x1aa)))return logHistory('error',_0x40f3f6(0x1d9)),![];else await handleError(_0x5754e3,_0x40f3f6(0x1dc));}}}else await handleError(_0x5754e3,'getCoins()');}return _0x150ecc;}async function getPortfolio(_0x2b6238){const _0x15784a=_0x4a828f;let _0x3037b5=[],_0x18e9ab=[],_0x2d3929,_0x420dff=[],_0x4719c5,_0x16bd74;_0x2b6238['apiKey']===_0x15784a(0x228)||_0x2b6238[_0x15784a(0x1d6)]===_0x15784a(0x228)?(_0x4719c5=config['apiKey'],_0x16bd74=config[_0x15784a(0x1d6)]):(_0x4719c5=_0x2b6238[_0x15784a(0x260)],_0x16bd74=_0x2b6238[_0x15784a(0x1d6)]);await initExchange(_0x4719c5,_0x16bd74);let _0x1ba872=await loadSymbols();if(_0x1ba872){_0x420dff=await getCoins(![],_0x2b6238['basecoin']);if(_0x420dff===![])proxyEmit(_0x15784a(0x1cf),![]);else{if(_0x2b6238[_0x15784a(0x205)]=='')proxyEmit(_0x15784a(0x1cf),_0x420dff);else{_0x420dff['forEach'](_0x1063f1=>{const _0xbcda62=_0x15784a;_0x3037b5['push'](_0x1063f1[_0xbcda62(0x219)]);});try{_0x18e9ab=await exchange[_0x15784a(0x1ca)](_0x3037b5);}catch(_0x46bb8e){await handleError(_0x46bb8e,_0x15784a(0x20f));}_0x420dff['forEach'](_0xf3e142=>{const _0x4b5bff=_0x15784a;_0xf3e142['coin']!=_0x2b6238['basecoin']?_0x2d3929=_0xf3e142[_0x4b5bff(0x24d)]?0x1/_0x18e9ab[_0xf3e142['symbol']][_0x4b5bff(0x24a)]:_0x18e9ab[_0xf3e142['symbol']][_0x4b5bff(0x24a)]:_0x2d3929=0x1,_0xf3e142['price']=formatResult(_0x2d3929,0x8);}),proxyEmit('portfolio',_0x420dff);}}}else proxyEmit(_0x15784a(0x1cf),![]);}function checkMinimums(_0x4ec56d){const _0x2267d5=_0x4a828f;let _0x44020c=!![];const _0x5a6fc5=!_0x4ec56d[_0x2267d5(0x24d)]?markets[_0x4ec56d['symbol']]['limits'][_0x2267d5(0x1a1)][_0x2267d5(0x275)]:markets[_0x4ec56d[_0x2267d5(0x219)]]['limits'][_0x2267d5(0x1f1)]['min'],_0x5524e0=!_0x4ec56d['reverse']?markets[_0x4ec56d['symbol']][_0x2267d5(0x29a)][_0x2267d5(0x1f1)][_0x2267d5(0x275)]:markets[_0x4ec56d[_0x2267d5(0x219)]]['limits'][_0x2267d5(0x1a1)][_0x2267d5(0x275)];if(Math['abs'](_0x4ec56d[_0x2267d5(0x197)])<_0x5a6fc5)_0x44020c=![];if(Math[_0x2267d5(0x199)](_0x4ec56d[_0x2267d5(0x197)])*_0x4ec56d[_0x2267d5(0x24a)]<_0x5524e0)_0x44020c=![];if(_0x4ec56d[_0x2267d5(0x1cd)]==_0x2267d5(0x1b8)){let _0x55df09=config[_0x2267d5(0x1cf)][_0x2267d5(0x233)](_0x6a4e00=>_0x6a4e00[_0x2267d5(0x1ac)]==_0x4ec56d[_0x2267d5(0x1ac)]);if(Math[_0x2267d5(0x199)](_0x4ec56d[_0x2267d5(0x197)])>_0x4ec56d['number']-_0x55df09['offset'])_0x44020c=![];}return _0x44020c;}async function getBalances(){const _0x3e6ec3=_0x4a828f;let _0x3e9731=0x0,_0x4c2aed;const _0x4695dc=config[_0x3e6ec3(0x25b)];currentCoins['forEach'](_0x3a505d=>{const _0x28e085=_0x3e6ec3;if(_0x3a505d[_0x28e085(0x1ac)]!=config[_0x28e085(0x205)]){let _0x587df1=global[_0x28e085(0x212)][noslash(_0x3a505d[_0x28e085(0x219)])];_0x4c2aed=_0x3a505d[_0x28e085(0x24d)]?0x1/_0x587df1:_0x587df1;}else _0x4c2aed=0x1;let _0x18863a=_0x3a505d['number']*_0x4c2aed;_0x3e9731+=_0x18863a,_0x3a505d['last']=formatResult(Number(_0x4c2aed),0x8),_0x3a505d[_0x28e085(0x211)]=_0x18863a;}),currentCoins[_0x3e6ec3(0x24c)](_0x41acb0=>{const _0x383d85=_0x3e6ec3;let _0x11d16d=config[_0x383d85(0x1cf)]['find'](_0x92213f=>_0x92213f['coin']==_0x41acb0['coin']),_0x112686=Number(_0x11d16d[_0x383d85(0x287)]),_0x34a5ea=_0x41acb0[_0x383d85(0x211)]/_0x3e9731*0x64,_0x1396e6=_0x112686*_0x3e9731/0x64/_0x41acb0[_0x383d85(0x24a)]-_0x41acb0[_0x383d85(0x1df)];_0x41acb0[_0x383d85(0x287)]=formatResult(_0x34a5ea,0x3),_0x41acb0[_0x383d85(0x262)]=formatResult(_0x112686,0x3),_0x41acb0['trade']=formatResult(_0x1396e6,0x8),_0x41acb0[_0x383d85(0x1cd)]='',_0x41acb0['valid']='';if(_0x41acb0[_0x383d85(0x1ac)]!=config[_0x383d85(0x205)]){if(_0x41acb0[_0x383d85(0x287)]>_0x112686)_0x41acb0[_0x383d85(0x1cd)]='sell',_0x41acb0['valid']=checkMinimums(_0x41acb0);else _0x41acb0['distribution']<_0x112686&&(_0x41acb0[_0x383d85(0x1cd)]='buy',_0x41acb0[_0x383d85(0x207)]=checkMinimums(_0x41acb0));}_0x41acb0['delta']=_0x41acb0[_0x383d85(0x287)]/_0x41acb0['target']-0x1;}),currentCoins[_0x3e6ec3(0x1f4)]((_0x29885a,_0x10ecd4)=>_0x29885a[_0x3e6ec3(0x274)]<_0x10ecd4[_0x3e6ec3(0x274)]?0x1:_0x10ecd4['delta']<_0x29885a[_0x3e6ec3(0x274)]?-0x1:0x0);const _0x1f65bb=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1f65bb[_0x3e6ec3(0x295)],'usd':_0x1f65bb[_0x3e6ec3(0x202)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x4695dc},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x3e6ec3(0x28f)])headlessMode({'portfolio':currentCoins,'threshold':_0x4695dc});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x4695dc});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1cbfaf=_0x4a828f;if(!lastBalances)return;let _0x392c3e=[],_0x25e1fb,_0x1ab4a4=JSON[_0x1cbfaf(0x1de)](lastBalances[_0x1cbfaf(0x1cf)]);_0x1ab4a4['sort']((_0x5bc531,_0x4cb590)=>_0x5bc531['coin']>_0x4cb590[_0x1cbfaf(0x1ac)]?0x1:_0x4cb590[_0x1cbfaf(0x1ac)]>_0x5bc531[_0x1cbfaf(0x1ac)]?-0x1:0x0),_0x1ab4a4[_0x1cbfaf(0x24c)](_0x4a0c0b=>{const _0x5ccd0d=_0x1cbfaf;let _0x4b093d={'coin':_0x4a0c0b[_0x5ccd0d(0x1ac)],'number':_0x4a0c0b[_0x5ccd0d(0x1df)],'price':_0x4a0c0b[_0x5ccd0d(0x24a)]};_0x392c3e[_0x5ccd0d(0x2a7)](_0x4b093d);});const _0x12f518=await getFiat();_0x25e1fb={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x12f518[_0x1cbfaf(0x295)],'usd':_0x12f518[_0x1cbfaf(0x202)],'coins':_0x392c3e};let _0x493fd0=dbPerformance[_0x1cbfaf(0x257)](_0x1cbfaf(0x1c3))[_0x1cbfaf(0x233)]({'date':_0x25e1fb['date']})['value']();_0x493fd0?_0x25e1fb['date']!=config[_0x1cbfaf(0x19b)]&&dbPerformance[_0x1cbfaf(0x257)](_0x1cbfaf(0x1c3))['find']({'date':_0x25e1fb[_0x1cbfaf(0x1a0)]})[_0x1cbfaf(0x297)](_0x25e1fb)['write']():dbPerformance[_0x1cbfaf(0x257)](_0x1cbfaf(0x1c3))['push'](_0x25e1fb)[_0x1cbfaf(0x229)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0xc7f637=_0x4a828f;let _0x423791=[];if(dbPerformance[_0xc7f637(0x21e)](_0xc7f637(0x1c3))['value']()){let _0x4ec221=dbPerformance[_0xc7f637(0x257)]('data')[_0xc7f637(0x1d0)]()['sortBy'](_0xc7f637(0x1a0))['value'](),_0x17bd24=[...config[_0xc7f637(0x29b)]];_0x17bd24[_0xc7f637(0x1f4)]((_0x52840e,_0x3b7df2)=>_0x52840e[_0xc7f637(0x1a0)]>_0x3b7df2[_0xc7f637(0x1a0)]?-0x1:_0x3b7df2[_0xc7f637(0x1a0)]>_0x52840e['date']?0x1:0x0);let _0x365beb=0x1,_0xe29cd2=[],_0x430de8=0x0;_0x4ec221[_0xc7f637(0x294)]()[_0xc7f637(0x24d)]()[_0xc7f637(0x24c)]((_0x5ee5a2,_0x5f2034)=>{const _0x461950=_0xc7f637;if(_0x17bd24[_0x430de8]){const _0x1dab4f=fns[_0x461950(0x1de)](_0x17bd24[_0x430de8][_0x461950(0x1a0)],'yyyy/MM/dd',new Date()),_0x3bc2b4=fns[_0x461950(0x1de)](_0x5ee5a2[_0x461950(0x1a0)],_0x461950(0x1e5),new Date());if(fns[_0x461950(0x2a9)](_0x1dab4f,fns[_0x461950(0x23c)](_0x3bc2b4,0x1))){if(_0x5f2034<_0x4ec221[_0x461950(0x298)]){let _0x4170ea=0x0,_0x5d7e19=0x0;_0x4ec221[_0x4ec221[_0x461950(0x298)]-_0x5f2034-0x1][_0x461950(0x1ed)][_0x461950(0x24c)](_0x11806f=>{_0x5d7e19+=_0x11806f['number']*_0x11806f['price'];}),_0x17bd24[_0x430de8]['changes'][_0x461950(0x24c)](_0xde8148=>{const _0x51e531=_0x461950;_0x4170ea+=_0xde8148[_0x51e531(0x1df)]*_0xde8148[_0x51e531(0x1af)];}),_0x365beb*=_0x4170ea/_0x5d7e19+0x1;}_0x430de8++;}}let _0x3689c1=0x0;_0x5ee5a2[_0x461950(0x1ed)][_0x461950(0x24c)](_0x5b78c4=>{const _0x4b5ba6=_0x461950;_0x3689c1+=_0x5b78c4['number']*_0x5b78c4[_0x4b5ba6(0x1af)];}),_0xe29cd2[_0x4ec221[_0x461950(0x298)]-_0x5f2034-0x1]=_0x3689c1*(_0x365beb-0x1);});let _0x5d0a82=[];_0x17bd24=[...config[_0xc7f637(0x29b)]]||[];let _0x5be411=0x0;_0x430de8=0x0,_0x4ec221[_0xc7f637(0x24c)]((_0x1f18f3,_0x1c1413)=>{const _0x3e4d2c=_0xc7f637;if(_0x17bd24[_0x430de8]){const _0x1a3e47=fns[_0x3e4d2c(0x1de)](_0x17bd24[_0x430de8][_0x3e4d2c(0x1a0)],'yyyy/MM/dd',new Date()),_0x5a8c1f=fns[_0x3e4d2c(0x1de)](_0x1f18f3[_0x3e4d2c(0x1a0)],_0x3e4d2c(0x1e5),new Date()),_0x5d1314=fns[_0x3e4d2c(0x256)](fns[_0x3e4d2c(0x25f)](_0x5a8c1f,0x1),'yyyy/MM/dd');if(fns['isEqual'](_0x1a3e47,_0x5a8c1f)){let _0x7a803=0x0;_0x17bd24[_0x430de8]['changes'][_0x3e4d2c(0x24c)](_0x11ffaa=>{const _0x477be2=_0x3e4d2c;!_0x5d0a82[_0x11ffaa[_0x477be2(0x1ac)]]?_0x5d0a82[_0x11ffaa[_0x477be2(0x1ac)]]=_0x11ffaa[_0x477be2(0x1df)]:(_0x7a803=_0x5d0a82[_0x11ffaa['coin']],_0x5d0a82[_0x11ffaa['coin']]+=_0x11ffaa['number']);const _0x2bd5e9=_0x1f18f3[_0x477be2(0x1ed)][_0x477be2(0x233)](_0x460f2f=>_0x460f2f[_0x477be2(0x1ac)]==_0x11ffaa[_0x477be2(0x1ac)]);(!_0x2bd5e9||_0x2bd5e9[_0x477be2(0x1df)]==0x0)&&(_0x5be411+=(-_0x11ffaa[_0x477be2(0x1df)]-_0x7a803)*_0x11ffaa[_0x477be2(0x1af)]);}),_0x430de8++;}}_0x1f18f3['coins'][_0x3e4d2c(0x24c)]((_0x3b09c9,_0x3f055d)=>{const _0x13e874=_0x3e4d2c;_0x5d0a82[_0x3b09c9[_0x13e874(0x1ac)]]&&(_0x3b09c9={..._0x3b09c9,'initial':_0x5d0a82[_0x3b09c9[_0x13e874(0x1ac)]]}),_0x1f18f3[_0x13e874(0x1ed)][_0x3f055d]=_0x3b09c9;}),_0x423791['push']({'date':_0x1f18f3[_0x3e4d2c(0x1a0)],'eur':_0x1f18f3[_0x3e4d2c(0x295)],'usd':_0x1f18f3[_0x3e4d2c(0x202)],'offset':_0xe29cd2[_0x1c1413],'netoffset':_0x5be411,'coins':_0x1f18f3[_0x3e4d2c(0x1ed)]});});}return _0x423791;}function emitPerformance(_0x327fc6){const _0x267f38=_0x4a828f;_0x327fc6[_0x267f38(0x298)]!==0x0?(proxyEmit(_0x267f38(0x1bf),_0x327fc6),lastPerformanceEmitted=getDate()):proxyEmit(_0x267f38(0x1bf),[]);}function getPerf(_0x25f019,_0x2b0b31){const _0x3b6499=_0x4a828f;let _0x2b350a=0x0,_0x4eac58=0x0,_0x3efa1d=0x0;_0x25f019['coins'][_0x3b6499(0x24c)](_0x19650a=>{const _0x1c5ff1=_0x3b6499;_0x2b350a+=_0x19650a[_0x1c5ff1(0x1df)]*_0x19650a[_0x1c5ff1(0x1af)];});_0x2b0b31&&(_0x2b350a+=_0x25f019[_0x3b6499(0x2a4)]);if(config['basecoin']===_0x3b6499(0x1dd))_0x4eac58=_0x2b350a*_0x25f019[_0x3b6499(0x295)],_0x3efa1d=_0x2b350a*_0x25f019['usd'];else{if(config[_0x3b6499(0x205)]===_0x3b6499(0x25c)||config['basecoin']===_0x3b6499(0x1e4)||config[_0x3b6499(0x205)]===_0x3b6499(0x237))_0x4eac58=_0x2b350a*_0x25f019['eur']/_0x25f019[_0x3b6499(0x202)],_0x3efa1d=_0x2b350a;else config[_0x3b6499(0x205)]===_0x3b6499(0x196)&&(_0x4eac58=_0x2b350a,_0x3efa1d=_0x2b350a*_0x25f019[_0x3b6499(0x202)]/_0x25f019['eur']);}return[_0x2b350a,_0x4eac58,_0x3efa1d];}async function getStartingBalances(_0x5c4a09,_0x3c7ef3=!![]){const _0x41f485=_0x4a828f;if(_0x5c4a09[_0x41f485(0x298)]!==0x0){const [_0x2967bb,_0xbe250c,_0x1ec3e4]=getPerf(_0x5c4a09[0x0],!![]);let _0x1484ed=[];config[_0x41f485(0x1cf)][_0x41f485(0x24c)](_0x4da48e=>{const _0x443fbf=_0x41f485;let _0x593335=0x0;config[_0x443fbf(0x29b)]['forEach'](_0x440c41=>{const _0x2cfe25=_0x443fbf;let _0x327d34=_0x440c41[_0x2cfe25(0x235)]['find'](_0x287e5f=>_0x287e5f[_0x2cfe25(0x1ac)]==_0x4da48e[_0x2cfe25(0x1ac)]);if(_0x327d34)_0x593335+=_0x327d34[_0x2cfe25(0x1df)];}),_0x1484ed[_0x443fbf(0x2a7)]({'coin':_0x4da48e[_0x443fbf(0x1ac)],'number':_0x593335,'price':_0x4da48e[_0x443fbf(0x1af)]});});const _0x149785={'basecoin':_0x2967bb,'eur':_0xbe250c,'usd':_0x1ec3e4,'coins':_0x1484ed};if(_0x3c7ef3)proxyEmit(_0x41f485(0x234),_0x149785);return _0x149785;}}function headlessMode(_0x142ae4){const _0x428dab=_0x4a828f;let _0x15d7bf=_0x142ae4[_0x428dab(0x1cf)],_0x188d6d=_0x142ae4[_0x428dab(0x25b)],_0x25e1dd=[];for(let _0x240f36 of _0x15d7bf){if(_0x240f36[_0x428dab(0x1ac)]!=config[_0x428dab(0x205)]){if(_0x240f36[_0x428dab(0x287)]/_0x240f36[_0x428dab(0x262)]-0x1>=_0x188d6d/0x64){if(_0x240f36['valid'])_0x25e1dd[_0x428dab(0x2a7)](_0x240f36);}else{if(_0x240f36[_0x428dab(0x287)]/_0x240f36[_0x428dab(0x262)]-0x1<=-_0x188d6d/0x64){if(_0x240f36[_0x428dab(0x207)])_0x25e1dd['push'](_0x240f36);}}}}_0x25e1dd['length']>0x0&&placeOrder(_0x25e1dd);}function notifyBalance(_0xda2fb2){const _0x45a05b=_0x4a828f;let _0x18c132=_0xda2fb2['portfolio'],_0x301b0b=_0xda2fb2['threshold'],_0x1420e5=[];for(let _0x244b62 of _0x18c132){if(_0x244b62[_0x45a05b(0x1ac)]!=config[_0x45a05b(0x205)]){if(_0x244b62[_0x45a05b(0x287)]/_0x244b62['target']-0x1>=_0x301b0b/0x64){if(_0x244b62['valid'])_0x1420e5[_0x45a05b(0x2a7)](_0x244b62);}else{if(_0x244b62['distribution']/_0x244b62['target']-0x1<=-_0x301b0b/0x64){if(_0x244b62['valid'])_0x1420e5[_0x45a05b(0x2a7)](_0x244b62);}}}}if(_0x1420e5[_0x45a05b(0x298)]>0x0){let _0x22cc46=_0x1420e5[_0x45a05b(0x23f)](_0x14b619=>_0x14b619[_0x45a05b(0x1ac)]);_0x22cc46[_0x45a05b(0x1f4)]();let _0x189039=_0x22cc46['join'](',\x20');if(lastCoinsToBalance!==_0x189039)logHistory('success',_0x45a05b(0x201)+_0x189039);lastCoinsToBalance=_0x189039;}}function symbolToCoin(_0x4e3e3d){const _0x3b0c7a=_0x4a828f;let _0x1655d5;if(_0x4e3e3d[_0x3b0c7a(0x1ba)]('/'+config[_0x3b0c7a(0x205)]))_0x1655d5=_0x4e3e3d['replace']('/'+config[_0x3b0c7a(0x205)],'');if(_0x4e3e3d[_0x3b0c7a(0x1ba)](config[_0x3b0c7a(0x205)]+'/'))_0x1655d5=_0x4e3e3d[_0x3b0c7a(0x253)](config['basecoin']+'/','');return _0x1655d5;}async function validateOrders(_0x174feb=0x0){const _0x34eaa0=_0x4a828f;let _0x53d50a=[],_0x30b1fc=config[_0x34eaa0(0x194)]==_0x34eaa0(0x213)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x34eaa0(0x24c)](_0x4d54de=>{const _0x5756fe=_0x34eaa0;let _0x1976ec=previousCoins[_0x5756fe(0x233)](_0x47cf1f=>_0x47cf1f[_0x5756fe(0x1ac)]==symbolToCoin(_0x4d54de[_0x5756fe(0x219)])),_0x28700d=currentCoins[_0x5756fe(0x233)](_0x4a41fc=>_0x4a41fc['coin']==symbolToCoin(_0x4d54de['symbol'])),_0xf9c010,_0x5a25b4;_0x4d54de[_0x5756fe(0x1cd)]==_0x5756fe(0x281)&&!_0x4d54de[_0x5756fe(0x24d)]||_0x4d54de['side']=='sell'&&_0x4d54de[_0x5756fe(0x24d)]?(_0xf9c010=_0x1976ec[_0x5756fe(0x1df)]+0.9*_0x4d54de[_0x5756fe(0x1b1)],_0x5a25b4=_0x1976ec[_0x5756fe(0x1df)]+1.1*_0x4d54de[_0x5756fe(0x1b1)]):(_0xf9c010=_0x1976ec['number']-1.1*_0x4d54de['filled'],_0x5a25b4=_0x1976ec[_0x5756fe(0x1df)]-0.9*_0x4d54de[_0x5756fe(0x1b1)]);const _0xd4016=_0x4d54de[_0x5756fe(0x1b1)]!=0x0&&_0x28700d[_0x5756fe(0x1df)]>=_0xf9c010&&_0x28700d[_0x5756fe(0x1df)]<=_0x5a25b4;_0x53d50a[_0x5756fe(0x2a7)](_0xd4016);if(_0xd4016&&config[_0x5756fe(0x194)]!=_0x5756fe(0x213)){if(_0x4d54de[_0x5756fe(0x24d)])logHistory('order','Order\x20filled:\x20'+_0x4d54de[_0x5756fe(0x219)]+'\x20'+_0x4d54de[_0x5756fe(0x1cd)]+'\x20#'+formatResult(_0x4d54de[_0x5756fe(0x1b1)]/_0x4d54de[_0x5756fe(0x1af)],0x8)+'\x20@'+formatResult(_0x4d54de[_0x5756fe(0x1af)],0x8));else logHistory(_0x5756fe(0x1ec),_0x5756fe(0x252)+_0x4d54de[_0x5756fe(0x219)]+'\x20'+_0x4d54de[_0x5756fe(0x1cd)]+'\x20#'+formatResult(_0x4d54de[_0x5756fe(0x1b1)],0x8)+'\x20@'+formatResult(_0x4d54de['price'],0x8));}}),_0x53d50a[_0x34eaa0(0x24c)]((_0xe3eb1d,_0x58b09e)=>{if(_0xe3eb1d)lastOrders['splice'](_0x58b09e,0x1);});if(_0x174feb<_0x30b1fc&&_0x53d50a[_0x34eaa0(0x1ba)](![])){if(_0x174feb==0x0){config[_0x34eaa0(0x194)]==_0x34eaa0(0x213)?logHistory('error',_0x34eaa0(0x279)):logHistory('error','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused');if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x174feb);},0xa*0x3e8);}else{(_0x174feb==0x1||_0x174feb==Math[_0x34eaa0(0x258)](_0x30b1fc/0x2)||_0x174feb==_0x30b1fc-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x174feb);},validateOrderInterval);}}else{lockOrders=![];if(_0x174feb>0x0&&!_0x53d50a['includes'](![]))config[_0x34eaa0(0x194)]==_0x34eaa0(0x213)?logHistory(_0x34eaa0(0x27e),_0x34eaa0(0x20b)):logHistory(_0x34eaa0(0x27e),_0x34eaa0(0x28a));else _0x174feb>0x0&&_0x53d50a['includes'](![])&&(config[_0x34eaa0(0x194)]==_0x34eaa0(0x213)?logHistory(_0x34eaa0(0x27e),_0x34eaa0(0x24f)+Math[_0x34eaa0(0x258)](_0x30b1fc*validateOrderInterval/0xea60)+_0x34eaa0(0x1e9)):(lastOrders[_0x34eaa0(0x24c)](async _0x83e9c7=>{const _0x12b1a9=_0x34eaa0;try{const _0x16e475=await exchange['cancelOrder'](_0x83e9c7[_0x12b1a9(0x1f3)],_0x83e9c7['symbol']);}catch(_0x10e1bf){if(_0x10e1bf[_0x12b1a9(0x2a1)]()[_0x12b1a9(0x1ba)]('OrderNotFound')){}else await handleError(_0x10e1bf,_0x12b1a9(0x277));}}),logHistory(_0x34eaa0(0x27e),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x30b1fc*validateOrderInterval/0xea60)+_0x34eaa0(0x1e9))));}}async function resetCoinResults(){const _0x3851d4=_0x4a828f;dbCoinResults[_0x3851d4(0x257)](_0x3851d4(0x1ed))['remove']()[_0x3851d4(0x229)]();let _0x35946a=await getStartingBalances(getNormalizedPerformance(),![]);_0x35946a[_0x3851d4(0x1ed)][_0x3851d4(0x24c)](_0x51e3d7=>{const _0x33de62=_0x3851d4;if(_0x51e3d7[_0x33de62(0x1ac)]!=config[_0x33de62(0x205)]){let _0x925034={'coin':_0x51e3d7[_0x33de62(0x1ac)],'number':_0x51e3d7[_0x33de62(0x1df)],'breakeven':_0x51e3d7[_0x33de62(0x1af)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x33de62(0x257)]('coins')['push'](_0x925034)['write']();}});}async function updateCoinResults(_0x5420cf){const _0x7b1cf3=_0x4a828f;let _0x13286f,_0x53b21a,_0x452a0c,_0x233ed1,_0x1b946f,_0x47a194,_0x4cf8f9=dbCoinResults[_0x7b1cf3(0x257)](_0x7b1cf3(0x1ed))[_0x7b1cf3(0x233)]({'coin':_0x5420cf['coin']})[_0x7b1cf3(0x211)]();if(!_0x4cf8f9)return;if(_0x5420cf[_0x7b1cf3(0x221)]&&_0x5420cf[_0x7b1cf3(0x221)][_0x7b1cf3(0x1d7)]==config[_0x7b1cf3(0x205)])_0x13286f=_0x5420cf['fee'][_0x7b1cf3(0x1f1)];else{if(_0x5420cf[_0x7b1cf3(0x221)]&&_0x5420cf[_0x7b1cf3(0x221)][_0x7b1cf3(0x1d7)]=='BNB')_0x13286f=_0x5420cf[_0x7b1cf3(0x221)][_0x7b1cf3(0x1f1)]*global['ticker'][_0x7b1cf3(0x28d)+config['basecoin']];else _0x13286f=0.001*_0x5420cf[_0x7b1cf3(0x1b1)];}const _0x35693a=_0x5420cf['symbol'][_0x7b1cf3(0x1ba)](config[_0x7b1cf3(0x205)]+'/');_0x35693a&&(_0x47a194={'coin':_0x5420cf[_0x7b1cf3(0x1ac)],'symbol':_0x5420cf['symbol'],'filled':_0x5420cf[_0x7b1cf3(0x1b1)]*_0x5420cf['price'],'side':_0x5420cf[_0x7b1cf3(0x1cd)]==_0x7b1cf3(0x1b8)?_0x7b1cf3(0x281):_0x7b1cf3(0x1b8),'price':0x1/_0x5420cf[_0x7b1cf3(0x1af)]},_0x5420cf={..._0x47a194});_0x5420cf[_0x7b1cf3(0x1cd)]==_0x7b1cf3(0x281)?_0x452a0c=(_0x4cf8f9['breakeven']*_0x4cf8f9[_0x7b1cf3(0x1df)]+_0x5420cf['price']*_0x5420cf[_0x7b1cf3(0x1b1)])/(_0x4cf8f9[_0x7b1cf3(0x1df)]+_0x5420cf[_0x7b1cf3(0x1b1)]):_0x452a0c=(_0x4cf8f9[_0x7b1cf3(0x1a4)]*_0x4cf8f9[_0x7b1cf3(0x1df)]-_0x5420cf[_0x7b1cf3(0x1af)]*_0x5420cf[_0x7b1cf3(0x1b1)])/(_0x4cf8f9[_0x7b1cf3(0x1df)]-_0x5420cf[_0x7b1cf3(0x1b1)]);_0x5420cf['side']==_0x7b1cf3(0x281)?_0x233ed1=_0x4cf8f9[_0x7b1cf3(0x1b3)]:_0x233ed1=_0x4cf8f9[_0x7b1cf3(0x1b3)]+(_0x5420cf[_0x7b1cf3(0x1af)]-_0x4cf8f9[_0x7b1cf3(0x1a4)])*_0x5420cf[_0x7b1cf3(0x1b1)];_0x53b21a=_0x5420cf[_0x7b1cf3(0x1cd)]=='sell'?_0x4cf8f9[_0x7b1cf3(0x1df)]-_0x5420cf['filled']:_0x4cf8f9[_0x7b1cf3(0x1df)]+_0x5420cf[_0x7b1cf3(0x1b1)],_0x1b946f=(_0x5420cf[_0x7b1cf3(0x1af)]-_0x452a0c)*_0x53b21a;let _0xf8b0f={'coin':_0x5420cf[_0x7b1cf3(0x1ac)],'number':_0x53b21a,'breakeven':formatResult(_0x452a0c,0x8),'realized':formatResult(_0x233ed1,0x8),'unrealized':formatResult(_0x1b946f,0x8),'fees':formatResult(_0x4cf8f9['fees']+_0x13286f,0x8),'sells':_0x5420cf['side']==_0x7b1cf3(0x1b8)?_0x4cf8f9[_0x7b1cf3(0x276)]+0x1:_0x4cf8f9[_0x7b1cf3(0x276)],'buys':_0x5420cf[_0x7b1cf3(0x1cd)]==_0x7b1cf3(0x281)?_0x4cf8f9[_0x7b1cf3(0x264)]+0x1:_0x4cf8f9[_0x7b1cf3(0x264)]};dbCoinResults[_0x7b1cf3(0x257)]('coins')[_0x7b1cf3(0x233)]({'coin':_0x5420cf['coin']})['assign'](_0xf8b0f)[_0x7b1cf3(0x229)]();}async function placeOrder(_0x271b23){const _0x93bed=_0x4a828f,_0x5c1554=config[_0x93bed(0x194)]==_0x93bed(0x213)?_0x93bed(0x213):_0x93bed(0x299);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x93bed(0x23a)](currentCoins));for(const _0x79c671 of _0x271b23){let _0x12b446,_0xf8c40e,_0x51e00a,_0x281e74,_0x5b1ba0,_0x3ade84=_0x79c671[_0x93bed(0x219)];try{const _0x25e75c=await exchange['fetchTickers'](_0x3ade84),_0x3df924=_0x25e75c[_0x3ade84];_0x12b446=_0x3df924['last'],_0xf8c40e=_0x3df924['bid'],_0x51e00a=_0x3df924[_0x93bed(0x23b)];_0x79c671['reverse']?(_0x281e74=_0x79c671[_0x93bed(0x1cd)]=='buy'?'sell':_0x93bed(0x281),_0x5b1ba0=Math['abs'](_0x79c671[_0x93bed(0x197)])/_0x12b446):(_0x281e74=_0x79c671[_0x93bed(0x1cd)],_0x5b1ba0=Math['abs'](_0x79c671['trade']));_0x5c1554==_0x93bed(0x299)&&(config['ordertype']==_0x93bed(0x2a8)&&(_0x12b446=_0x281e74==_0x93bed(0x281)?_0xf8c40e:_0x51e00a),config['ordertype']=='limit-low'&&(_0x12b446=_0x281e74==_0x93bed(0x281)?_0x51e00a:_0xf8c40e));_0x5b1ba0=formatResult(_0x5b1ba0,0x8),_0x12b446=formatResult(_0x12b446,0x8);const _0x1c39e4=await exchange[_0x93bed(0x26b)](_0x3ade84,_0x5c1554,_0x281e74,_0x5b1ba0,_0x12b446);lastOrders[_0x93bed(0x2a7)]({'orderId':_0x1c39e4['id'],'symbol':_0x3ade84,'side':_0x281e74,'reverse':_0x79c671[_0x93bed(0x24d)],'amount':_0x79c671[_0x93bed(0x24d)]?_0x1c39e4[_0x93bed(0x1a1)]*_0x1c39e4['price']:_0x1c39e4[_0x93bed(0x1a1)],'filled':_0x79c671[_0x93bed(0x24d)]?_0x1c39e4[_0x93bed(0x1b1)]*_0x1c39e4[_0x93bed(0x1af)]:_0x1c39e4[_0x93bed(0x1b1)],'price':_0x1c39e4['price']});const _0x4c69f0=_0x281e74==_0x93bed(0x1b8)?config[_0x93bed(0x254)]?String[_0x93bed(0x1ab)]('0x'+config['emojisell'])+'\x20':'':config['emojibuy']?String[_0x93bed(0x1ab)]('0x'+config['emojibuy'])+'\x20':'',_0x4cba7e=_0x5c1554=='market'?_0x93bed(0x239):config[_0x93bed(0x194)]=='limit-high'?_0x93bed(0x1b7):_0x93bed(0x249);if(_0x5c1554==_0x93bed(0x213))logHistory(_0x93bed(0x1ec),''+_0x4c69f0+_0x4cba7e+_0x93bed(0x1bb)+_0x3ade84+'\x20'+_0x281e74+'\x20#'+formatResult(_0x1c39e4[_0x93bed(0x1b1)],0x8)+'\x20@'+formatResult(_0x1c39e4[_0x93bed(0x1af)],0x8));else logHistory(_0x93bed(0x1ec),''+_0x4c69f0+_0x4cba7e+_0x93bed(0x1bb)+_0x3ade84+'\x20'+_0x281e74+'\x20#'+formatResult(_0x1c39e4[_0x93bed(0x1a1)],0x8)+'\x20@'+formatResult(_0x1c39e4[_0x93bed(0x1af)],0x8));_0x1c39e4['coin']=_0x79c671[_0x93bed(0x1ac)],await updateCoinResults(_0x1c39e4);if(config[_0x93bed(0x24b)]!=0x0){let _0x58447a=null;if(cooldownTracker['length']==config[_0x93bed(0x24b)]-0x1)_0x58447a=cooldownTracker['shift']();const _0x578d65=getTimeStamp();cooldownTracker[_0x93bed(0x2a7)](_0x578d65);if(_0x58447a){const _0x1c5831=fns[_0x93bed(0x269)](new Date(_0x578d65),new Date(_0x58447a));_0x1c5831<cooldownInterval&&(logHistory(_0x93bed(0x1d8),_0x93bed(0x280)+config[_0x93bed(0x24b)]+_0x93bed(0x1e1)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x93bed(0x1e6)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x2a2f43){if(_0x2a2f43[_0x93bed(0x2a1)]()[_0x93bed(0x1ba)](_0x93bed(0x1f7)))logHistory(_0x93bed(0x1d8),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x3ade84);else{if(_0x2a2f43[_0x93bed(0x2a1)]()[_0x93bed(0x1ba)](_0x93bed(0x291)))logHistory(_0x93bed(0x1d8),'Order\x20amount\x20is\x20invalid:\x20'+_0x3ade84);else await handleError(_0x2a2f43,_0x93bed(0x1ad));}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config[_0x93bed(0x194)]==_0x93bed(0x213)?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x93bed(0x1d8),_0x93bed(0x1e7)));else coolingDown&&(!config[_0x93bed(0x28f)]&&logHistory(_0x93bed(0x1d8),_0x93bed(0x23d)));}}function logHistory(_0x170d3f,_0x26a85d,_0x5f87b6=''){const _0x1fd5bd=_0x4a828f;let _0x142bfa={'time':getTimeStamp(),'type':_0x170d3f,'event':_0x26a85d};dbLogs['get'](_0x1fd5bd(0x268))[_0x1fd5bd(0x2a7)](_0x142bfa)[_0x1fd5bd(0x229)]();if(_0x5f87b6=='')_0x5f87b6=_0x26a85d;proxyEmit(_0x1fd5bd(0x25a),{'log':_0x142bfa,'summary':_0x5f87b6}),process[_0x1fd5bd(0x27a)]({'telegram':{..._0x142bfa,'botname':config['botname'],'showname':config[_0x1fd5bd(0x198)]}},_0xcf48d8=>{}),logging(''+_0x142bfa['event']);}function emitHistory(_0x55f5bf={}){const _0x15841=_0x4a828f;Object[_0x15841(0x236)](_0x55f5bf)['length']==0x0&&(_0x55f5bf={'type':[_0x15841(0x1ec),'event'],'event':'','page':0x1});if(_0x55f5bf[_0x15841(0x232)][_0x15841(0x1ba)]('event'))_0x55f5bf['type'][_0x15841(0x273)](_0x55f5bf[_0x15841(0x232)][_0x15841(0x19a)]('event'),0x1,_0x15841(0x1d8),_0x15841(0x27e));if(dbLogs[_0x15841(0x21e)](_0x15841(0x268))['value']()){let _0x54e77c=dbLogs[_0x15841(0x257)](_0x15841(0x268))[_0x15841(0x1c2)](_0x519cab=>{const _0x4f56b9=_0x15841;if(_0x55f5bf['type'][_0x4f56b9(0x298)]==0x0)return![];else return _0x55f5bf[_0x4f56b9(0x232)][_0x4f56b9(0x1ba)](_0x519cab[_0x4f56b9(0x232)]);})[_0x15841(0x1c2)](_0x4d42f7=>{const _0x50b1be=_0x15841;if(_0x55f5bf[_0x50b1be(0x25a)]=='')return!![];else return _0x4d42f7[_0x50b1be(0x25a)][_0x50b1be(0x226)]()[_0x50b1be(0x1ba)](_0x55f5bf[_0x50b1be(0x25a)][_0x50b1be(0x226)]());})['sortBy'](_0x15841(0x1f5)),_0x40a273=_0x54e77c[_0x15841(0x211)]()[_0x15841(0x298)];_0x54e77c=_0x54e77c[_0x15841(0x24d)]()[_0x15841(0x294)]((_0x55f5bf[_0x15841(0x28c)]-0x1)*logPageSize,_0x55f5bf[_0x15841(0x28c)]*logPageSize-0x1)['reverse']()[_0x15841(0x211)](),proxyEmit(_0x15841(0x192),{'logs':_0x54e77c,'total':_0x40a273});}else proxyEmit(_0x15841(0x192),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1b4ad0){const _0xc9ca45=_0x4a828f;if(dbLogs[_0xc9ca45(0x21e)](_0xc9ca45(0x268))[_0xc9ca45(0x211)]()){const _0x3f7d4a=dbLogs[_0xc9ca45(0x257)]('logs')[_0xc9ca45(0x1e3)]('time')[_0xc9ca45(0x1c2)](_0xf3dd7c=>{const _0x286f34=_0xc9ca45;return _0xf3dd7c[_0x286f34(0x232)]==_0x286f34(0x1ec);})['value']();dbLogs[_0xc9ca45(0x257)](_0xc9ca45(0x268))[_0xc9ca45(0x271)]()['write'](),dbLogs['get']('logs')[_0xc9ca45(0x297)](_0x3f7d4a)['write'](),emitHistory(_0x1b4ad0);}}async function pauseBot(_0x312464){const _0x5b3439=_0x4a828f,_0x345202=new Date()[_0x5b3439(0x231)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x345202-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x5b3439(0x27a)]({'stop':'restart'},_0x4f530d=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x5b3439(0x231)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error',_0x5b3439(0x240)+consecutivePauses+')'),await sleep(_0x312464),botPaused=![],reset();}}async function handleError(_0x5ba952,_0x4f0b9e,_0x33455c=''){const _0x4fb2b8=_0x4a828f;if(_0x5ba952['toString']()[_0x4fb2b8(0x1ba)](_0x4fb2b8(0x2a2)))logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+_0x4fb2b8(0x1cc)),await pauseBot(pauseBotInterval);else{if(_0x5ba952['toString']()['includes'](_0x4fb2b8(0x293)))logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+_0x4fb2b8(0x250)),await pauseBot(pauseBotInterval);else{if(_0x5ba952[_0x4fb2b8(0x2a1)]()['includes'](_0x4fb2b8(0x1f0)))logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+_0x4fb2b8(0x1f6)),await pauseBot(pauseBotInterval);else{if(_0x5ba952[_0x4fb2b8(0x2a1)]()[_0x4fb2b8(0x1ba)]('API-key\x20format\x20invalid'))logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+_0x4fb2b8(0x1fb)),logHistory(_0x4fb2b8(0x1d8),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x4fb2b8(0x27a)]({'stop':_0x4fb2b8(0x1a5)},_0x18e57a=>{});else{if(_0x5ba952[_0x4fb2b8(0x2a1)]()['includes'](_0x4fb2b8(0x225)))logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x4fb2b8(0x1d8),_0x4fb2b8(0x1bd)),process[_0x4fb2b8(0x27a)]({'stop':_0x4fb2b8(0x1a5)},_0x2d0c11=>{});else{if(_0x5ba952[_0x4fb2b8(0x2a1)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+'\x20|\x20Binance\x20API\x20secret\x20is\x20invalid'),logHistory(_0x4fb2b8(0x1d8),_0x4fb2b8(0x1bd)),process[_0x4fb2b8(0x27a)]({'stop':_0x4fb2b8(0x1a5)},_0x44a19f=>{});else{if(_0x5ba952[_0x4fb2b8(0x2a1)]()[_0x4fb2b8(0x1ba)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+_0x4fb2b8(0x1a8)),logHistory(_0x4fb2b8(0x1d8),_0x4fb2b8(0x1bd)),process['send']({'stop':_0x4fb2b8(0x1a5)},_0xc81a98=>{});else{if(_0x5ba952[_0x4fb2b8(0x2a1)]()[_0x4fb2b8(0x1ba)](_0x4fb2b8(0x1ce)))logHistory('error',_0x4f0b9e+_0x4fb2b8(0x1ea)),await pauseBot(pauseBotInterval),process[_0x4fb2b8(0x27a)]({'stop':'restart'},_0x175d35=>{});else _0x5ba952['toString']()['includes'](_0x4fb2b8(0x19d))?logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+_0x4fb2b8(0x204)):(logHistory(_0x4fb2b8(0x1d8),_0x4f0b9e+'\x20|\x20Unknown\x20error\x20occured'),logging(_0x4f0b9e+_0x4fb2b8(0x1d1),_0x5ba952),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x12e4cf,_0x16a46e){const _0x4c3179=_0x4a828f;return parseFloat(_0x12e4cf[_0x4c3179(0x217)](_0x16a46e));}function logging(_0x4d1f68,_0x2f2f56=''){const _0x8d00de=_0x4a828f;if(config['showname'])console[_0x8d00de(0x1b0)](getTimeStamp()+':\x20'+config['botname']+_0x8d00de(0x261)+_0x4d1f68,_0x2f2f56);else console[_0x8d00de(0x1b0)](getTimeStamp()+_0x8d00de(0x209)+botID+_0x8d00de(0x261)+_0x4d1f68,_0x2f2f56);}function getServerTime(){const _0x1a3e7d=_0x4a828f,_0xb2aecd=new Date();return _0xb2aecd['getFullYear']()+'/'+(_0xb2aecd['getMonth']()+0x1)[_0x1a3e7d(0x2a1)]()['padStart'](0x2,'0')+'/'+_0xb2aecd[_0x1a3e7d(0x1be)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0xb2aecd['getHours']()[_0x1a3e7d(0x2a1)]()[_0x1a3e7d(0x216)](0x2,'0')+':'+_0xb2aecd[_0x1a3e7d(0x21d)]()[_0x1a3e7d(0x2a1)]()['padStart'](0x2,'0')+':'+_0xb2aecd[_0x1a3e7d(0x21a)]()[_0x1a3e7d(0x2a1)]()[_0x1a3e7d(0x216)](0x2,'0');}function getTimeStamp(){const _0x47fbae=_0x4a828f,_0x60fbd9=shiftedTime();return _0x60fbd9[_0x47fbae(0x1f9)]()+'/'+(_0x60fbd9[_0x47fbae(0x266)]()+0x1)['toString']()[_0x47fbae(0x216)](0x2,'0')+'/'+_0x60fbd9[_0x47fbae(0x1be)]()[_0x47fbae(0x2a1)]()[_0x47fbae(0x216)](0x2,'0')+'\x20'+_0x60fbd9[_0x47fbae(0x22b)]()[_0x47fbae(0x2a1)]()[_0x47fbae(0x216)](0x2,'0')+':'+_0x60fbd9[_0x47fbae(0x21d)]()[_0x47fbae(0x2a1)]()[_0x47fbae(0x216)](0x2,'0')+':'+_0x60fbd9[_0x47fbae(0x21a)]()[_0x47fbae(0x2a1)]()[_0x47fbae(0x216)](0x2,'0');}function getDate(){const _0x10c7a0=_0x4a828f,_0x53e6e8=shiftedTime();return _0x53e6e8['getFullYear']()+'/'+(_0x53e6e8['getMonth']()+0x1)[_0x10c7a0(0x2a1)]()['padStart'](0x2,'0')+'/'+_0x53e6e8[_0x10c7a0(0x1be)]()[_0x10c7a0(0x2a1)]()[_0x10c7a0(0x216)](0x2,'0');}function getHour(){const _0x7d1b58=_0x4a828f,_0x2ef174=shiftedTime();return _0x2ef174[_0x7d1b58(0x22b)]()[_0x7d1b58(0x2a1)]()[_0x7d1b58(0x216)](0x2,'0');}function sleep(_0x445d31){return new Promise(_0x3ef8ac=>setTimeout(_0x3ef8ac,_0x445d31));}function shiftedTime(){const _0x1fdb2c=_0x4a828f,_0xa9d5bc=new Date();let _0x1d6139=_0xa9d5bc;if(config&&config[_0x1fdb2c(0x29c)]!==0x0)_0x1d6139=fns[_0x1fdb2c(0x21c)](_0xa9d5bc,{'hours':config[_0x1fdb2c(0x29c)]});return _0x1d6139;}