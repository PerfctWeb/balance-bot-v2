const _0x274079=_0x272c;(function(_0x42c074,_0x5b0a04){const _0x501c7b=_0x272c,_0x202572=_0x42c074();while(!![]){try{const _0x504ccb=-parseInt(_0x501c7b(0x1b0))/0x1*(-parseInt(_0x501c7b(0x2a3))/0x2)+-parseInt(_0x501c7b(0x287))/0x3+parseInt(_0x501c7b(0x1ff))/0x4+-parseInt(_0x501c7b(0x258))/0x5*(-parseInt(_0x501c7b(0x209))/0x6)+-parseInt(_0x501c7b(0x195))/0x7+parseInt(_0x501c7b(0x1be))/0x8+-parseInt(_0x501c7b(0x1ad))/0x9*(-parseInt(_0x501c7b(0x20b))/0xa);if(_0x504ccb===_0x5b0a04)break;else _0x202572['push'](_0x202572['shift']());}catch(_0x590841){_0x202572['push'](_0x202572['shift']());}}}(_0x21c6,0x7dcec));const _0xc490cb=function(){let _0x29918b=!![];return function(_0x539134,_0x209083){const _0x431153=_0x29918b?function(){const _0x2bece1=_0x272c;if(_0x209083){const _0x43e32a=_0x209083[_0x2bece1(0x215)](_0x539134,arguments);return _0x209083=null,_0x43e32a;}}:function(){};return _0x29918b=![],_0x431153;};}(),_0x43b721=_0xc490cb(this,function(){const _0x2a8bf1=_0x272c;return _0x43b721[_0x2a8bf1(0x299)]()[_0x2a8bf1(0x166)]('(((.+)+)+)+$')[_0x2a8bf1(0x299)]()[_0x2a8bf1(0x1de)](_0x43b721)[_0x2a8bf1(0x166)](_0x2a8bf1(0x29f));});_0x43b721();'use strict';const ccxt=require(_0x274079(0x1aa))['pro'],low=require(_0x274079(0x260)),FileSync=require(_0x274079(0x269)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x274079(0x2a8))[_0x274079(0x161)],util=require(_0x274079(0x1b4)),argv=require(_0x274079(0x165))(process[_0x274079(0x1ee)][_0x274079(0x142)](0x2))[_0x274079(0x1ee)],path=require(_0x274079(0x1f4));let exchange;global[_0x274079(0x1e4)]={},global[_0x274079(0x192)]={};const exceptions={'binance':[_0x274079(0x1ac),_0x274079(0x248),_0x274079(0x22c),_0x274079(0x160),_0x274079(0x1e7)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x274079(0x288)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x274079(0x1bd))[_0x274079(0x19f)],botID=process[_0x274079(0x1ee)][0x2]||_0x274079(0x1df),pattern=/^[0-9]{3}$/;!pattern[_0x274079(0x255)](botID)&&(console[_0x274079(0x20e)](_0x274079(0x144)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x274079(0x1ee)][0x3]||'',configpath=userID?_0x274079(0x1eb)+userID+'/':_0x274079(0x1eb),logspath=userID?_0x274079(0x25a)+userID+'/':_0x274079(0x25a),loggerfile=fs[_0x274079(0x23f)](logspath+_0x274079(0x1bf),{'flags':'a'});!fs[_0x274079(0x19d)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x274079(0x19d)](logspath)&&fs[_0x274079(0x1bb)](logspath);const configfile=configpath+_0x274079(0x1ba)+botID+_0x274079(0x228),logfile=configpath+_0x274079(0x1ba)+botID+_0x274079(0x213),performancefile=configpath+_0x274079(0x1ba)+botID+_0x274079(0x17e),coinresultsfile=configpath+_0x274079(0x1ba)+botID+'-results.json',settingsfile=configpath+_0x274079(0x253),securefile=configpath+_0x274079(0x1d7),configbackuppath=configpath+_0x274079(0x250),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x274079(0x186)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x274079(0x24b)]({'data':[],'version':serverversion})[_0x274079(0x186)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x274079(0x186)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x274079(0x24b)]({'coins':[],'version':serverversion})[_0x274079(0x186)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x274079(0x163),'rsaStandard':_0x274079(0x217)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x903061=>{const _0x20aebd=_0x274079;console[_0x20aebd(0x20e)](_0x903061);},'simple':_0x12384e=>{const _0x57fbe6=_0x274079;console[_0x57fbe6(0x20e)](_0x12384e),loggerfile[_0x57fbe6(0x186)](util[_0x57fbe6(0x193)](_0x12384e)+'\x0a');},'full':async(_0x4359cc,_0x489425='')=>{const _0x3f7934=_0x274079;let _0xc0ae5e;if(config[_0x3f7934(0x1c2)])_0xc0ae5e=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x4359cc;else _0xc0ae5e=getTimeStamp()+_0x3f7934(0x1e3)+botID+_0x3f7934(0x137)+_0x4359cc;console['log'](_0xc0ae5e),loggerfile[_0x3f7934(0x186)](util[_0x3f7934(0x193)](_0xc0ae5e)+'\x0a'),_0x489425&&(console[_0x3f7934(0x20e)](_0x489425),loggerfile[_0x3f7934(0x186)](util[_0x3f7934(0x193)](_0x489425)+'\x0a'));},'debug':async(_0xfa7065,_0x211fa9='')=>{const _0x2080d8=_0x274079;let _0x49b45f;if(config[_0x2080d8(0x1c2)])_0x49b45f=getTimeStamp()+':\x20'+config[_0x2080d8(0x135)]+_0x2080d8(0x223)+_0xfa7065;else _0x49b45f=getTimeStamp()+_0x2080d8(0x1e3)+botID+_0x2080d8(0x223)+_0xfa7065;if(debugging)console[_0x2080d8(0x20e)](_0x49b45f);loggerfile[_0x2080d8(0x186)](util[_0x2080d8(0x193)](_0x49b45f)+'\x0a');if(_0x211fa9){if(debugging)console['log'](_0x211fa9);loggerfile[_0x2080d8(0x186)](util[_0x2080d8(0x193)](_0x211fa9)+'\x0a');}}};process['on'](_0x274079(0x22d),function(_0x2d7f95){logger['simple'](_0x2d7f95);});settings['timeshift']!=config[_0x274079(0x1d2)]&&updateTimeshift(settings[_0x274079(0x1d2)]);settings[_0x274079(0x264)]!=config[_0x274079(0x264)]&&updateOnepagemode(settings[_0x274079(0x264)]);process[_0x274079(0x21f)]({'started':_0x274079(0x24d)},_0x500b67=>{}),initializeProcessListeners();function proxyEmit(_0x23cdd4,_0x47cc20=null){const _0x99164b=_0x274079;process[_0x99164b(0x21f)]({'function':_0x23cdd4,'args':_0x47cc20},_0x31f65e=>{});}function initializeProcessListeners(){process['on']('message',_0x90d2e4=>{const _0x2297d2=_0x272c;switch(Object['keys'](_0x90d2e4)[0x0]){case _0x2297d2(0x1d2):_0x90d2e4[_0x2297d2(0x1d2)]!=undefined&&(settings[_0x2297d2(0x1d2)]=_0x90d2e4['timeshift'],updateTimeshift(settings[_0x2297d2(0x1d2)]));break;case _0x2297d2(0x264):_0x90d2e4[_0x2297d2(0x264)]!=undefined&&(settings[_0x2297d2(0x264)]=_0x90d2e4['onepagemode'],updateOnepagemode(settings[_0x2297d2(0x264)]));break;case'bots':_0x90d2e4[_0x2297d2(0x17b)]!=undefined&&(bots=JSON[_0x2297d2(0x138)](_0x90d2e4['bots']),proxyEmit('bots',bots));break;case'function':switch(_0x90d2e4[_0x2297d2(0x1f7)]){case _0x2297d2(0x245):initclient();break;case _0x2297d2(0x1ec):toggleBotMode();break;case _0x2297d2(0x285):emitHistory(_0x90d2e4[_0x2297d2(0x200)]);break;case _0x2297d2(0x1e0):deleteHistoryAlerts(_0x90d2e4[_0x2297d2(0x200)]);break;case _0x2297d2(0x281):getPortfolio(_0x90d2e4[_0x2297d2(0x200)]);break;case _0x2297d2(0x27e):storeConfiguration(_0x90d2e4[_0x2297d2(0x200)]);break;case'storeHeadless':storeHeadless(_0x90d2e4['args']);break;case'storeFiat':storeFiat(_0x90d2e4[_0x2297d2(0x200)]);break;case'resetHistory':resetHistory();break;case _0x2297d2(0x24e):getStartingBalances(getNormalizedPerformance());break;case _0x2297d2(0x2a2):placeOrder(_0x90d2e4['args']);break;case'cancelLoading':cancelLoading();break;case _0x2297d2(0x28e):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x353c7f=null,_0x5a5a61=![]){const _0x366118=_0x274079;logger[_0x366118(0x187)](_0x366118(0x22f)+(_0x353c7f&&_0x353c7f[_0x366118(0x233)]>0x0?_0x366118(0x1a6)+_0x353c7f[_0x366118(0x2a6)](','):_0x366118(0x188))+_0x366118(0x183)+(_0x5a5a61?_0x366118(0x239):_0x366118(0x181)));if(pidBalances)clearTimeout(pidBalances);if(!_0x5a5a61)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x366118(0x26e)]!=''&&config[_0x366118(0x26e)]!=_0x366118(0x259)){if(_0x5a5a61){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0xad88e7){if(_0xad88e7[_0x366118(0x299)]()[_0x366118(0x1db)]('AuthenticationError')){handleErrorNoStop(_0xad88e7,_0x366118(0x249));return;}else{handleError(_0xad88e7,'loadSymbols()');return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x353c7f);const _0x5d3762=await getCoins();[currentCoins,currentCoinsAll]=_0x5d3762,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x366118(0x233)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x53a790=_0x274079;logger[_0x53a790(0x187)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x53a790(0x254)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x53a790(0x1f2)),exchange&&await stopExchange(),reset(null,!![]);}function _0x272c(_0x43d05c,_0x2abe1b){const _0x43607d=_0x21c6();return _0x272c=function(_0x43b721,_0xc490cb){_0x43b721=_0x43b721-0x132;let _0x21c61b=_0x43607d[_0x43b721];return _0x21c61b;},_0x272c(_0x43d05c,_0x2abe1b);}async function initExchange(_0x32b431=config[_0x274079(0x292)],_0x1a4421=config['apiKey'],_0x1833e7=config[_0x274079(0x23d)]){const _0x5c1693=_0x274079;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x32b431)&&(logHistory(_0x5c1693(0x263),_0x5c1693(0x262)+_0x32b431+_0x5c1693(0x208)),killBot());const _0x290750=ccxt[_0x32b431[_0x5c1693(0x29c)]()];exchange=new _0x290750({'apiKey':_0x1a4421,'secret':_0x1833e7,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x2cea7e=_0x274079;let _0x569c11=config[_0x2cea7e(0x203)]==_0x2cea7e(0x1f3)?'ETH':_0x2cea7e(0x28b),_0x33e998=!allSymbols[_0x2cea7e(0x1db)](_0x569c11+_0x2cea7e(0x275))?_0x2cea7e(0x184):_0x2cea7e(0x273),_0x34c6c7=!allSymbols[_0x2cea7e(0x1db)](_0x569c11+_0x2cea7e(0x156))?_0x33e998:_0x2cea7e(0x177);stablecoins={'eur':{'coin':''+_0x569c11+_0x34c6c7,'symbol':_0x569c11+'/'+_0x34c6c7},'usd':{'coin':''+_0x569c11+_0x33e998,'symbol':_0x569c11+'/'+_0x33e998}};}async function initwsCcxt(_0x29f6d7){const _0x3bb48c=_0x274079;_0x29f6d7==null&&(_0x29f6d7=[],config['portfolio'][_0x3bb48c(0x14e)](_0x66e502=>{const _0x576fd7=_0x3bb48c;if(!_0x66e502['excluded']&&_0x66e502[_0x576fd7(0x25f)]!=config[_0x576fd7(0x203)])_0x29f6d7[_0x576fd7(0x202)](_0x66e502[_0x576fd7(0x1ed)]);}));if(!_0x29f6d7[_0x3bb48c(0x1db)](stablecoins[_0x3bb48c(0x27b)][_0x3bb48c(0x1ed)]))_0x29f6d7['push'](stablecoins[_0x3bb48c(0x27b)][_0x3bb48c(0x1ed)]);if(!_0x29f6d7[_0x3bb48c(0x1db)](stablecoins[_0x3bb48c(0x14b)][_0x3bb48c(0x1ed)]))_0x29f6d7[_0x3bb48c(0x202)](stablecoins['usd'][_0x3bb48c(0x1ed)]);if(!_0x29f6d7[_0x3bb48c(0x1db)](_0x3bb48c(0x1b7)+config[_0x3bb48c(0x203)]))_0x29f6d7[_0x3bb48c(0x202)](_0x3bb48c(0x1b7)+config[_0x3bb48c(0x203)]);loadCoins(_0x29f6d7);const _0x39b820=async _0x279dd8=>{const _0x1c0fdc=_0x3bb48c,_0x1da1bf=await exchange['fetchTicker'](_0x279dd8);global['ticker'][noslash(_0x1da1bf[_0x1c0fdc(0x1ed)])]=_0x1da1bf[_0x1c0fdc(0x13e)];while(!![]){if(!botPaused)try{const _0x30fa6c=await exchange[_0x1c0fdc(0x190)](_0x279dd8);global['ticker'][noslash(_0x30fa6c[0x0][_0x1c0fdc(0x1ed)])]=_0x30fa6c[0x0][_0x1c0fdc(0x1cb)],await sleep(0x3e8);}catch(_0x390945){if(!exchangeStopped)await handleError(_0x390945,'watchTrades',_0x279dd8);}else await sleep(0x3e8);}},_0x266fa4=async _0x769d7=>{const _0x4ba515=_0x3bb48c;while(!![]){if(!botPaused)try{const _0x302f36=await exchange[_0x4ba515(0x274)](_0x769d7);global[_0x4ba515(0x192)][_0x302f36[_0x4ba515(0x1ed)]]=_0x302f36[_0x4ba515(0x23c)],await sleep(0x3c*0x3e8);}catch(_0x3d32a7){if(!exchangeStopped)await handleError(_0x3d32a7,_0x4ba515(0x185),_0x769d7);}else await sleep(0x3e8);}},_0x514ebc=async()=>{const _0x4ccd1e=_0x3bb48c;while(!![]){if(!botPaused)try{const _0x4d2cbe=await exchange[_0x4ccd1e(0x20a)]();_0x4d2cbe[_0x4ccd1e(0x14e)](_0x575640=>{updateNumberCoinsCcxt(_0x575640);});}catch(_0x1cb2af){if(!exchangeStopped)await handleError(_0x1cb2af,'watchOrders');}else await sleep(0x3e8);}};_0x29f6d7[_0x3bb48c(0x14e)](async _0x5b27ce=>{_0x39b820(_0x5b27ce),_0x266fa4(_0x5b27ce);}),!wsEventsSet&&(wsEventsSet=!![],_0x514ebc(),watchTransactions());}async function watchTransactions(){const _0x49efa5=_0x274079;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x4ea8e8=await getCoins(),[_0x243a03,_0x1c7272]=_0x4ea8e8;let _0x125fab=[];currentCoins['forEach'](_0x24b03a=>{const _0x1783f7=_0x272c,_0x310779=_0x243a03[_0x1783f7(0x278)](_0x535723=>_0x535723['coin']==_0x24b03a[_0x1783f7(0x25f)]);_0x310779&&(_0x24b03a['number']!=_0x310779[_0x1783f7(0x28f)]&&_0x125fab[_0x1783f7(0x202)]({'coin':_0x24b03a[_0x1783f7(0x25f)],'symbol':_0x24b03a[_0x1783f7(0x1ed)],'number':Number(formatResult(_0x310779[_0x1783f7(0x28f)]-_0x24b03a[_0x1783f7(0x28f)],0x8))}));});if(_0x125fab[_0x49efa5(0x233)]==0x1&&!blockTransactionDetection){logger[_0x49efa5(0x187)](_0x49efa5(0x143)+lastFees[_0x49efa5(0x1cc)]+_0x49efa5(0x18a)+lastFees[_0x49efa5(0x212)]);if(!lastFees[_0x49efa5(0x1cc)]||_0x125fab[0x0]['coin']!=lastFees[_0x49efa5(0x1cc)]||_0x125fab[0x0][_0x49efa5(0x28f)]>lastFees['highest']){let _0x36433c;if(_0x125fab[0x0][_0x49efa5(0x25f)]!=config['basecoin']){let _0x14a546=global[_0x49efa5(0x1e4)][noslash(_0x125fab[0x0]['symbol'])];_0x36433c=_0x125fab[0x0][_0x49efa5(0x13b)]?0x1/_0x14a546:_0x14a546;}else _0x36433c=0x1;_0x125fab[0x0]['price']=_0x36433c,delete _0x125fab[0x0][_0x49efa5(0x1ed)];let _0x1e4d74=[],_0x45744d=[...config['liquidity']]||[],_0x42ce72=config[_0x49efa5(0x167)];_0x45744d[_0x49efa5(0x168)]((_0x56ee63,_0x40b5e1)=>_0x56ee63[_0x49efa5(0x19a)]>_0x40b5e1[_0x49efa5(0x19a)]?-0x1:_0x40b5e1['date']>_0x56ee63[_0x49efa5(0x19a)]?0x1:0x0);const _0x5750da=getDate();if(_0x45744d[0x0]){const _0x374c2c=fns['parse'](_0x45744d[0x0][_0x49efa5(0x19a)],'yyyy/MM/dd',new Date()),_0x3452d8=fns['parse'](_0x5750da,'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x374c2c,_0x3452d8)){_0x1e4d74=_0x45744d[0x0][_0x49efa5(0x286)];const _0x426815=_0x1e4d74[_0x49efa5(0x278)](_0x57aab3=>_0x57aab3[_0x49efa5(0x25f)]==_0x125fab[0x0][_0x49efa5(0x25f)]);_0x426815?(_0x426815[_0x49efa5(0x28f)]+=_0x125fab[0x0]['number'],_0x426815[_0x49efa5(0x28f)]==0x0&&(_0x1e4d74=_0x1e4d74[_0x49efa5(0x1d9)](_0x1ba735=>{const _0x10eddb=_0x49efa5;return _0x1ba735['coin']!=_0x125fab[0x0][_0x10eddb(0x25f)];}))):_0x1e4d74[_0x49efa5(0x202)](_0x125fab[0x0]);const _0xc74c4b=_0x42ce72[_0x49efa5(0x278)](_0x7be71=>_0x7be71[_0x49efa5(0x19a)]==_0x5750da);_0xc74c4b[_0x49efa5(0x286)]=_0x1e4d74;}else _0x42ce72[_0x49efa5(0x202)]({'date':_0x5750da,'changes':[_0x125fab[0x0]]});}const _0x1973a5=_0x42ce72[_0x49efa5(0x278)](_0x4946d8=>_0x4946d8['date']==_0x5750da);if(_0x1973a5){let _0x3ddd39=!![];_0x1973a5['changes']['forEach'](_0x33d6d3=>{const _0xd9b91e=_0x49efa5;if(_0x33d6d3[_0xd9b91e(0x28f)]!=0x0)_0x3ddd39=![];}),_0x3ddd39&&(_0x42ce72=_0x42ce72[_0x49efa5(0x1d9)](_0x2c9177=>{const _0x23b63c=_0x49efa5;return _0x2c9177[_0x23b63c(0x19a)]!=_0x5750da;}));}let _0x2778d8=dbConfig[_0x49efa5(0x15d)](_0x49efa5(0x174))[_0x49efa5(0x278)]({'botID':botID})[_0x49efa5(0x1c8)]();_0x2778d8&&(dbConfig['get'](_0x49efa5(0x174))[_0x49efa5(0x278)]({'botID':botID})['assign']({'liquidity':_0x42ce72})[_0x49efa5(0x186)](),config[_0x49efa5(0x167)]=_0x42ce72),logHistory(_0x49efa5(0x15c),_0x49efa5(0x16e)+Math[_0x49efa5(0x145)](_0x125fab[0x0][_0x49efa5(0x28f)])+'\x20'+_0x125fab[0x0]['coin']+'\x20'+(_0x125fab[0x0][_0x49efa5(0x28f)]>0x0?_0x49efa5(0x226):_0x49efa5(0x29a))+_0x49efa5(0x20c)),proxyEmit(_0x49efa5(0x18c),emittedConfiguration());}else logger['debug'](_0x49efa5(0x133)+Math[_0x49efa5(0x145)](_0x125fab[0x0][_0x49efa5(0x28f)])+'\x20'+_0x125fab[0x0]['coin']+'\x20'+(_0x125fab[0x0][_0x49efa5(0x28f)]>0x0?'added':_0x49efa5(0x29a)));transactionDetected=!![],currentCoins=_0x243a03,currentCoinsAll=_0x1c7272;}await sleep(watchTransactionsInterval);}catch(_0x584632){if(!exchangeStopped)await handleError(_0x584632,'watchTransactions');}else await sleep(0x3e8);}}async function loadSymbols(_0x36f3b7=config[_0x274079(0x292)],_0x79e05=![]){const _0x566948=_0x274079;if(allSymbols&&!_0x79e05)return;try{markets=await exchange[_0x566948(0x24f)](),allSymbols=exchange['symbols']['filter'](_0x31cbb2=>{const _0x5e89d7=_0x566948;let _0x299c37=![];const _0x4fedd5=exceptions[_0x36f3b7[_0x5e89d7(0x29c)]()]||[];return _0x4fedd5[_0x5e89d7(0x14e)](_0x1c0ac4=>{if(_0x31cbb2['includes'](_0x1c0ac4))_0x299c37=!![];}),!_0x299c37;});}catch(_0x253e2a){throw _0x253e2a;}}async function initclient(){const _0x5e3fa7=_0x274079;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x5e3fa7(0x23a),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5e3fa7(0x21d),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2a6b6b=getNormalizedPerformance();emitPerformance(_0x2a6b6b),getStartingBalances(_0x2a6b6b);}async function toggleBotMode(){const _0x580b3b=_0x274079;let _0x4b7f75=dbConfig[_0x580b3b(0x15d)](_0x580b3b(0x174))[_0x580b3b(0x278)]({'botID':botID})['value']();if(_0x4b7f75){const _0x284d40=!_0x4b7f75['headless'];dbConfig[_0x580b3b(0x15d)](_0x580b3b(0x174))[_0x580b3b(0x278)]({'botID':botID})[_0x580b3b(0x1d5)]({'headless':_0x284d40})[_0x580b3b(0x186)](),config['headless']=_0x284d40,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3ca20a=_0x274079;process[_0x3ca20a(0x21f)]({'updatebotmanager':!![]},_0x16a279=>{});}async function loadCoins(_0x4eb774){const _0x139dd3=_0x274079;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x35f9ad,_0x437bca=0x0,_0x4d2a71=0x0;_0x4eb774[_0x139dd3(0x14e)](_0x4c1484=>{const _0x419aed=_0x139dd3;loading[_0x419aed(0x1da)][_0x419aed(0x202)](_0x4c1484);}),loadingCanceled=![];let _0x5dd27d=![];while(_0x35f9ad!=_0x4eb774[_0x139dd3(0x233)]){_0x35f9ad=0x0,_0x4eb774[_0x139dd3(0x14e)](_0xfa4c78=>{const _0x5f4d75=_0x139dd3;if(global[_0x5f4d75(0x1e4)][noslash(_0xfa4c78)]){loading[_0x5f4d75(0x1da)]=loading[_0x5f4d75(0x1da)][_0x5f4d75(0x1d9)](_0x212cf4=>_0x212cf4!=_0xfa4c78);if(!watchedSymbols[_0x5f4d75(0x1db)](_0xfa4c78))watchedSymbols[_0x5f4d75(0x202)](_0xfa4c78);_0x35f9ad++;}}),loading[_0x139dd3(0x1e1)]=Math['round'](_0x35f9ad/_0x4eb774['length']*0x64);loading[_0x139dd3(0x1e1)]!=0x64&&(_0x4d2a71>0x1e*0x5&&(loading[_0x139dd3(0x15e)]=!![],emitLoadingProgress()),_0x4d2a71>0x78*0x5&&!_0x5dd27d&&(loading[_0x139dd3(0x14f)]=!![],emitLoadingProgress(),_0x5dd27d=!![],logHistory(_0x139dd3(0x263),_0x139dd3(0x211)+loading[_0x139dd3(0x1da)][_0x139dd3(0x2a6)](',\x20')+_0x139dd3(0x25b)),logHistory(_0x139dd3(0x263),_0x139dd3(0x27c)+loadCoinsRetryInterval/0xea60+_0x139dd3(0x1fc)),pidCoinReloading=setTimeout(()=>{const _0x1e4417=_0x139dd3;process['send']({'stop':_0x1e4417(0x1c6)},_0x4daec2=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x139dd3(0x14f)]=!![],emitLoadingProgress();break;}else _0x35f9ad!=_0x437bca&&(_0x437bca=_0x35f9ad,emitLoadingProgress()),_0x4d2a71++,await sleep(0xc8);}_0x35f9ad==_0x4eb774[_0x139dd3(0x233)]&&(coinsLoaded=!![],process[_0x139dd3(0x21f)]({'status':'enabled','live':_0x139dd3(0x24d)},_0x319e13=>{}),_0x5dd27d&&logHistory('success',_0x139dd3(0x13f)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x24800c=_0x274079;proxyEmit(_0x24800c(0x18c),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x172e9a=_0x274079;proxyEmit(_0x172e9a(0x21e),loading);}async function getFiat(){const _0xed23f8=_0x274079;let _0x28b381=global[_0xed23f8(0x1e4)][stablecoins[_0xed23f8(0x27b)][_0xed23f8(0x25f)]],_0x1c0002=global['ticker'][stablecoins[_0xed23f8(0x14b)][_0xed23f8(0x25f)]];return{'eur':Number(_0x28b381),'usd':Number(_0x1c0002)};}function _0x21c6(){const _0x31bd44=['\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','\x20hour','-performance.json','padStart','\x20|\x20Error\x20details:\x20','exchange\x20not\x20reloaded','min','\x20|\x20','USDT','fetchTickers','write','debug','no\x20additional\x20symbols','getCoins()','\x20|\x20highest:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','configuration','-results.json','coins','customId','watchTrades','2\x20-\x20Validate\x20orders:\x20','change','format','Invalid\x20API\x20key\x20or\x20secret\x20entered','1868034PXuVIG','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','total','sell','has','date','starting-balances','cooldown','existsSync','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','version','2.5.0','\x20:\x20','isEqual','substring','Net\x20effect','fetchBalance','additional\x20symbols\x20','ongoing','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','random','ccxt','clientOrderId','DAI/','1452906bnSFTl','\x20minutes','limits','27qWgtag','orderId','ordertype','placeOrder()','util','Market','page','BNB/','cost','canceled','bot-','mkdirSync','change24h','./version.json','2253152qArGie','/output-000.log','Invalid\x20quantity','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','showname','secure','Limit\x20(high-margin)','enabled','restart','limit-high','value','UNLOCKING','milliseconds','price','currency','\x20not\x20available','Unknown\x20error\x20occured','target','\x20minutes\x20-\x20','unlinkSync','timeshift','max','differenceInSeconds','assign','sortBy','bb-secure.json','realized','filter','remainingSymbols','includes','parseISO','3\x20-\x20handling\x20FILLED\x20order:\x20','constructor','001','deleteHistoryAlerts','progress','closed',':\x20Bot\x20','ticker','performance','orderstatus','YOYOW/','Net\x20','status','order','./config/','toggleBotMode','symbol','argv','remove','BUSD','\x20change','Executing\x20exchange\x20reload','ETH','path','Manual\x20balancing\x20required','string','function','\x20order:\x20','bid','No\x20more\x20open\x20orders\x20-\x20','final','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','yyyy/MM/dd','2.3.5','687784GaAtfk','args','2\x20-\x20FILLED\x20unknown\x20order:\x20','push','basecoin','leftTxt','getDate','replace','decrypt','\x20exchange','3394626tVobWt','watchOrders','10tGQmkj','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','headless','log','no\x20open\x20orders','delta','Failed\x20to\x20load\x20coin\x20data\x20for\x20','highest','-events.json','type','apply','getPortfolio(0)','RSA-OAEP','2.6.0','botID','toFixed','recent20','DDoSProtection','balances','coin-loading-progress','send','fetchOpenOrders','indexOf','getMinutes','\x20>\x20[DEBUG]\x20','.json','LOCKED','added','\x20API\x20secret\x20is\x20invalid','-config.json','event','concat','timer:','XEM/BUSD','uncaughtException','1\x20-\x20Validate\x20orders:\x20','Reset\x20|\x20','startprice','split','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','length','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','Order(s)\x20not\x20validated\x20after\x20','%\x20(','fee','warning','exchange\x20reloaded','exchanges','Transaction\x20detection\x20blocked','percentage','apiSecret','OrderNotFound','createWriteStream','market','emojisell','shift','initial','cancelOrder','initclient','getFullYear','balancing\x20resumes\x20when\x20cooldown\x20ends','HOT/BTC','loadSymbols()','recovery','defaults','buy','running','getStartingBalances','loadMarkets','/backup/','message','getMonth','bb-settings.json','UNLOCKED','test','timestamp','excluded','5HZpcNh','***','./logs/','\x20-\x20bot\x20not\x20started','rightTxt','offset','2\x20-\x20FILLED\x20known\x20order:\x20','coin','lowdb','breakeven','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','error','onepagemode','kill','balancing\x20resumed','ask','1\x20-\x20FILLED:\x20','lowdb/adapters/FileSync','none','************','event-history','recreate','apiKey','getCoinNumber()','ORDERS.LOCKED','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','\x20metrics:</b>\x20\x0a\x0a','USD','fetchTicker','/USD','set','MIN_NOTIONAL','find','stringify','buys','eur','Pausing\x20for\x20','<pre>','storeConfiguration','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','getPortfolio','yyyy-MM-dd\x27T\x27HH:mm:ss','<b>Bot\x20','settings','emitHistory','changes','2649420RrUebb','freeze','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','open','BTC','average','\x20portfolio:</b>\x20\x0a\x0a','showConfig','number','InsufficientFunds','add','exchange','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','threshold','\x20API\x20key\x20is\x20invalid','openOrders','fromCodePoint','amount','toString','removed','Error\x20while\x20deleting\x20files:\x20','toLowerCase','valid','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','(((.+)+)+)+$','fiat','net-fiat','placeOrder','35890xZTFso','configuration-stored','entries','join','round','hybrid-crypto-js','AuthenticationError','Fee\x20discount\x20refund\x20detected:\x20','padEnd','botname','time','\x20>\x20','parse','net-basecoin','Resetting\x20bot\x20history','reverse','Unfilled\x20order(s)\x20canceled\x20after\x20','limit','last','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','getSeconds','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','slice','Fees\x20|\x20currency:\x20','Error:\x20Invalid\x20argument\x20','abs','writeFile','distribution','\x20has\x20a\x2024h\x20drop\x20of\x20','Executed\x20','startnumber','usd','getPortfolio(2)','</pre>','forEach','cancel','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','startdate','logs','InvalidNonce','Saving\x20configuration','Bot\x20','/EUR','ORDERS.UNLOCKING','-------------------------------\x0a','cloneDeep','full','trade','success','get','timeout','1\x20-\x20Handle\x20open\x20orders','NANO/','Crypt','fetchClosedOrders','sha256','BNB','yargs/yargs','search','liquidity','sort','API-key\x20format\x20invalid','getPortfolio(1)','limit-low','datetime','emojibuy','Portfolio\x20change\x20detected:\x20','sells','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','getTime','recreateCoinResults()','splice','bot','privateKey','side','EUR','portfolio','data','filled','bots'];_0x21c6=function(){return _0x31bd44;};return _0x21c6();}function capitalize(_0x54d447){const _0x2eeeb1=_0x274079;return _0x54d447[_0x2eeeb1(0x1a3)](0x0,0x1)['toUpperCase']()+_0x54d447[_0x2eeeb1(0x1a3)](0x1);}function supportedExchanges(){const _0x272f46=_0x274079,_0x4ea620=['ws',_0x272f46(0x185),'fetchTicker',_0x272f46(0x190),_0x272f46(0x20a),'cancelOrder','createOrder',_0x272f46(0x220),_0x272f46(0x162),_0x272f46(0x1a5)];let _0x94e8a0=[],_0x29370c=[],_0xe767f3=ccxt[_0x272f46(0x23a)];_0xe767f3[_0x272f46(0x14e)](_0x161b49=>{const _0x33b2b4=_0x272f46;try{const _0x31012f=new ccxt[_0x161b49]();if(_0x31012f[_0x33b2b4(0x199)]['ws'])_0x29370c['push'](_0x31012f);}catch(_0x29d581){}}),_0x29370c['forEach'](_0x3a00cf=>{const _0x381ba1=_0x272f46;let _0x4eb137=0x0;_0x4ea620['forEach'](_0x763ad=>{const _0x41f07f=_0x272c;_0x763ad in _0x3a00cf[_0x41f07f(0x199)]&&_0x3a00cf[_0x41f07f(0x199)][_0x763ad]&&_0x4eb137++;}),_0x4eb137==_0x4ea620['length']&&_0x94e8a0[_0x381ba1(0x202)](capitalize(_0x3a00cf['id']));});let _0x3047b4=[];return _0xe767f3[_0x272f46(0x14e)](_0x5b60be=>{_0x5b60be=capitalize(_0x5b60be);if(!_0x94e8a0['includes'](_0x5b60be))_0x3047b4['push'](_0x5b60be);}),_0x94e8a0;}function setStartDatePerformance(){const _0x21c703=_0x274079;if(config&&config['liquidity'][0x0][_0x21c703(0x286)][_0x21c703(0x233)]!=0x0){const _0x220e13=config['liquidity'][0x0][_0x21c703(0x286)];dbPerformance[_0x21c703(0x15d)](_0x21c703(0x179))[_0x21c703(0x278)]({'date':config[_0x21c703(0x151)]})[_0x21c703(0x1d5)]({'coins':_0x220e13})[_0x21c703(0x186)]();}}async function recreateCoinResults(){const _0x1352c0=_0x274079;let _0x1ab9d5,_0x22856b=[];try{const _0x38c886=fns['format'](fns[_0x1352c0(0x1dc)](config[_0x1352c0(0x151)][_0x1352c0(0x206)](/\//g,'-')),_0x1352c0(0x282));for(const _0x1aa9df of currentCoins){if(_0x1aa9df[_0x1352c0(0x25f)]!=config['basecoin']){let _0x386888=0x0,_0xbaf496,_0x23f3a9;_0x1ab9d5=await getAllEventOrders(_0x1aa9df['symbol']);if(_0x1ab9d5[_0x1352c0(0x233)]>0x0)_0x1ab9d5[_0x1352c0(0x14e)](_0x126312=>{const _0x51a2b3=_0x1352c0,_0x14ebd3=_0x1aa9df['symbol'][_0x51a2b3(0x1db)](config[_0x51a2b3(0x203)]+'/');_0x22856b[_0x51a2b3(0x202)]({'datetime':_0x126312[_0x51a2b3(0x16c)],'coin':_0x1aa9df['coin'],'symbol':_0x1aa9df[_0x51a2b3(0x1ed)],'side':_0x126312[_0x51a2b3(0x176)],'reverse':_0x14ebd3,'amount':formatResult(_0x126312[_0x51a2b3(0x17a)],0x8),'filled':formatResult(_0x126312['filled'],0x8),'price':formatResult(_0x126312[_0x51a2b3(0x1cb)],0x8)}),_0x386888=_0x126312[_0x51a2b3(0x176)]=='buy'?_0x386888+_0x126312[_0x51a2b3(0x17a)]:_0x386888-_0x126312[_0x51a2b3(0x17a)];if(!_0x23f3a9)_0x23f3a9=_0x126312['price'];});_0xbaf496=_0x1aa9df['number']-_0x386888;let _0x12e39e;config[_0x1352c0(0x167)][_0x1352c0(0x14e)](_0x925872=>{const _0x54fc79=_0x1352c0;!_0x12e39e&&(_0x12e39e=_0x925872[_0x54fc79(0x286)][_0x54fc79(0x278)](_0x59637b=>_0x59637b[_0x54fc79(0x25f)]==_0x1aa9df[_0x54fc79(0x25f)]),_0x12e39e&&(_0xbaf496=_0x12e39e[_0x54fc79(0x28f)],_0x23f3a9=_0x12e39e[_0x54fc79(0x1cb)]));});let _0x3b94c9=dbCoinResults[_0x1352c0(0x15d)](_0x1352c0(0x18e))[_0x1352c0(0x278)]({'coin':_0x1aa9df['coin']})['value']();_0x3b94c9={'coin':_0x1aa9df[_0x1352c0(0x25f)],'number':_0xbaf496,'breakeven':_0x23f3a9,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1352c0(0x15d)](_0x1352c0(0x18e))[_0x1352c0(0x278)]({'coin':_0x1aa9df[_0x1352c0(0x25f)]})[_0x1352c0(0x1d5)](_0x3b94c9)[_0x1352c0(0x186)]();}}_0x22856b[_0x1352c0(0x168)]((_0xdd9dde,_0x377073)=>_0xdd9dde['datetime']>_0x377073['datetime']?0x1:_0x377073['datetime']>_0xdd9dde['datetime']?-0x1:0x0);let _0x2bd377=0x0;for(let _0x2a83a8 of _0x22856b){await updateCoinResults(_0x2a83a8,!![]);}}catch(_0x59a013){await handleError(_0x59a013,_0x1352c0(0x172));}}async function getAllEventOrders(_0x17e2c1){const _0x52d43a=_0x274079;let _0x4dac72=[],_0x5c7728=dbLogs[_0x52d43a(0x15d)](_0x52d43a(0x152))[_0x52d43a(0x1d9)](_0x22e779=>{const _0x253a0f=_0x52d43a,_0x37eb35=_0x22e779[_0x253a0f(0x229)][_0x253a0f(0x29c)]();return _0x37eb35['includes'](_0x17e2c1[_0x253a0f(0x29c)]())&&(_0x37eb35['includes'](_0x253a0f(0x240))&&_0x37eb35[_0x253a0f(0x1db)](_0x253a0f(0x1ea))||_0x37eb35[_0x253a0f(0x1db)](_0x253a0f(0x17a))&&_0x37eb35[_0x253a0f(0x1db)](_0x253a0f(0x1ea)));})[_0x52d43a(0x1d6)]('time')[_0x52d43a(0x1c8)]();return _0x5c7728['forEach'](_0x5b774a=>{const _0x10ba3d=_0x52d43a,_0x38edf8=_0x5b774a[_0x10ba3d(0x229)][_0x10ba3d(0x1db)]('sell')?_0x10ba3d(0x198):_0x10ba3d(0x24c),_0x1719eb=/#([0-9]|\.)+\s/i,_0x471215=Number(_0x1719eb['exec'](_0x5b774a[_0x10ba3d(0x229)])[0x0][_0x10ba3d(0x142)](0x1)),_0x1affe5=/@([0-9]|\.)+$/i,_0x7ceaf=Number(_0x1affe5['exec'](_0x5b774a[_0x10ba3d(0x229)])[0x0][_0x10ba3d(0x142)](0x1));_0x4dac72[_0x10ba3d(0x202)]({'datetime':_0x5b774a[_0x10ba3d(0x136)],'coin':symbolToCoin(_0x17e2c1),'symbol':_0x17e2c1,'side':_0x38edf8,'amount':_0x471215,'filled':_0x471215,'price':_0x7ceaf});}),_0x4dac72;}async function getAllOrders(_0x1f869c,_0x4371a4){const _0x3ec629=_0x274079;let _0x3e4dba=[];while(_0x4371a4<exchange[_0x3ec629(0x1ca)]()){const _0x43c7ef=0x1f4,_0x57c485=await exchange[_0x3ec629(0x162)](_0x1f869c,_0x4371a4,_0x43c7ef);if(_0x57c485['length'])_0x4371a4=_0x57c485[_0x57c485['length']-0x1][_0x3ec629(0x256)]+0x1,_0x3e4dba=_0x3e4dba[_0x3ec629(0x22a)](_0x57c485);else break;}return _0x3e4dba;}async function validate24hChanges(){const _0x14b016=_0x274079;for(const _0x1a161a of currentCoins){if(_0x1a161a[_0x14b016(0x25f)]!=config[_0x14b016(0x203)]){let _0xb4df41;_0x1a161a[_0x14b016(0x13b)]?_0xb4df41=formatResult((0x1/(global[_0x14b016(0x192)][noslash(_0x1a161a[_0x14b016(0x1ed)])]/0x64+0x1)-0x1)*0x64,0x3):_0xb4df41=global[_0x14b016(0x192)][noslash(_0x1a161a[_0x14b016(0x1ed)])],_0xb4df41<config[_0x14b016(0x1bc)]&&(logHistory(_0x14b016(0x263),_0x1a161a[_0x14b016(0x25f)]+_0x14b016(0x148)+_0xb4df41+'%'),logHistory('error',_0x14b016(0x271)),logHistory(_0x14b016(0x263),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x32ff2f,_0x5d54a8){const _0xca884a=_0x274079;if(!_0x32ff2f)return!![];const _0x40538a=_0x5d54a8['split']('.'),_0x3c5046=_0x32ff2f['split']('.');for(var _0xc83671=0x0;_0xc83671<_0x3c5046[_0xca884a(0x233)];_0xc83671++){const _0x42df72=~~_0x3c5046[_0xc83671],_0x179b9f=~~_0x40538a[_0xc83671];if(_0x42df72<_0x179b9f)return!![];if(_0x42df72>_0x179b9f)return![];}return![];}async function oneTimeMigration(){const _0xa7626f=_0x274079;let _0x165ba1=dbLogs['get']('version')['value']();if(isOlderVersion(_0x165ba1,_0xa7626f(0x1fe))){let _0x3b0051=[];const _0x5dc098=dbLogs[_0xa7626f(0x15d)](_0xa7626f(0x152))[_0xa7626f(0x1c8)]();_0x5dc098[_0xa7626f(0x14e)](_0x5a0377=>{const _0x3b5966=_0xa7626f;_0x3b0051[_0x3b5966(0x202)]({'time':_0x5a0377[_0x3b5966(0x136)],'type':_0x5a0377['type'],'event':_0x5a0377[_0x3b5966(0x229)]});}),dbLogs[_0xa7626f(0x15d)](_0xa7626f(0x152))['assign'](_0x3b0051)['write']();}let _0x46d1f9=dbConfig['get']('version')[_0xa7626f(0x1c8)]();if(isOlderVersion(_0x46d1f9,'2.3.5')){let _0x44dca3=dbConfig['get']('bot')['find']({'botID':botID})[_0xa7626f(0x1c8)]();if(_0x44dca3){let _0x44d865=[];_0x44dca3['portfolio'][_0xa7626f(0x14e)](_0x4a59fa=>{const _0x40a54e=_0xa7626f;_0x44d865[_0x40a54e(0x202)]({'coin':_0x4a59fa[_0x40a54e(0x25f)],'number':_0x4a59fa[_0x40a54e(0x14a)],'price':_0x4a59fa[_0x40a54e(0x230)]}),delete _0x4a59fa[_0x40a54e(0x14a)],delete _0x4a59fa['startprice'];});if(_0x44d865[_0xa7626f(0x233)]!==0x0)fs[_0xa7626f(0x146)](configbackuppath+('starting-balance-'+botID+_0xa7626f(0x224)),JSON['stringify'](_0x44d865,null,0x4),function(_0x394ce8){if(_0x394ce8){}});const _0x4a92c1=(_0x32ee52,_0x4a7fd2)=>{const _0x365e1e=_0xa7626f;let _0x45fbe4=[];_0x4a7fd2[_0x365e1e(0x14e)](_0x5aff5b=>{const _0x5c69b3=_0x365e1e,_0x482b28=_0x32ee52['find'](_0x16c564=>_0x16c564[_0x5c69b3(0x25f)]==_0x5aff5b[_0x5c69b3(0x25f)]);if(!_0x482b28)_0x45fbe4[_0x5c69b3(0x202)](_0x5aff5b);});let _0x5d9bb6=[];return _0x32ee52[_0x365e1e(0x14e)](_0x2598f3=>{const _0x41a1cc=_0x365e1e,_0x45f078=_0x4a7fd2[_0x41a1cc(0x278)](_0x1d4b47=>_0x1d4b47[_0x41a1cc(0x25f)]==_0x2598f3[_0x41a1cc(0x25f)]);if(!_0x45f078||_0x45f078['number']==0x0&&_0x2598f3[_0x41a1cc(0x28f)]!=0x0)_0x5d9bb6[_0x41a1cc(0x202)](_0x2598f3);}),{'missingDay1':_0x45fbe4,'notInDay2':_0x5d9bb6};},_0x266f4e=dbPerformance[_0xa7626f(0x15d)](_0xa7626f(0x179))[_0xa7626f(0x159)]()[_0xa7626f(0x1c8)]();if(_0x266f4e[_0xa7626f(0x233)]>0x1){const {missingDay1:_0x34800a,notInDay2:_0xba2285}=_0x4a92c1(_0x44d865,_0x266f4e[0x1][_0xa7626f(0x18e)]);_0x44d865=[..._0x44d865,..._0x34800a],_0xba2285[_0xa7626f(0x14e)](_0x4dfe03=>{const _0x3dba00=_0xa7626f;let _0x2bf6ee=_0x44d865['findIndex'](_0x3e388d=>_0x3e388d[_0x3dba00(0x25f)]==_0x4dfe03[_0x3dba00(0x25f)]);_0x2bf6ee!=-0x1&&_0x44d865[_0x3dba00(0x173)](_0x2bf6ee,0x1);});}_0x44d865[_0xa7626f(0x168)]((_0x44446f,_0x29bdd4)=>_0x44446f[_0xa7626f(0x25f)]>_0x29bdd4['coin']?0x1:_0x29bdd4[_0xa7626f(0x25f)]>_0x44446f[_0xa7626f(0x25f)]?-0x1:0x0);let _0x43a642=[{'date':_0x44dca3[_0xa7626f(0x151)],'changes':_0x44d865}];_0x266f4e[_0xa7626f(0x233)]>0x2&&_0x266f4e[_0xa7626f(0x14e)]((_0x3d73de,_0x428666)=>{const _0x5f30cc=_0xa7626f;if(_0x428666>0x0&&_0x428666<_0x266f4e[_0x5f30cc(0x233)]-0x1){const {missingDay1:_0x408b7f,notInDay2:_0x43c228}=_0x4a92c1(_0x266f4e[_0x428666][_0x5f30cc(0x18e)],_0x266f4e[_0x428666+0x1]['coins']);_0x44d865=[],(_0x408b7f[_0x5f30cc(0x233)]!=0x0||_0x43c228['length']!=0x0)&&(_0x408b7f[_0x5f30cc(0x233)]!=0x0&&_0x44d865[_0x5f30cc(0x202)](..._0x408b7f),_0x43c228[_0x5f30cc(0x233)]!=0x0&&(_0x43c228[_0x5f30cc(0x14e)](_0x1bfd02=>{const _0x4729d9=_0x5f30cc;_0x1bfd02[_0x4729d9(0x28f)]=-_0x1bfd02[_0x4729d9(0x28f)];}),_0x44d865[_0x5f30cc(0x202)](..._0x43c228)),_0x44d865[_0x5f30cc(0x168)]((_0x31dfaa,_0x1d4b7b)=>_0x31dfaa['coin']>_0x1d4b7b[_0x5f30cc(0x25f)]?0x1:_0x1d4b7b[_0x5f30cc(0x25f)]>_0x31dfaa[_0x5f30cc(0x25f)]?-0x1:0x0),_0x43a642['push']({'date':_0x266f4e[_0x428666+0x1][_0x5f30cc(0x19a)],'changes':_0x44d865}));}}),dbConfig[_0xa7626f(0x15d)]('bot')[_0xa7626f(0x278)]({'botID':botID})[_0xa7626f(0x1d5)]({..._0x44dca3,'liquidity':_0x43a642})[_0xa7626f(0x186)]();}}if(isOlderVersion(_0x46d1f9,_0xa7626f(0x218))){let _0xad2dc9=dbConfig['get'](_0xa7626f(0x174))[_0xa7626f(0x278)]({'botID':botID})[_0xa7626f(0x1c8)]();if(_0xad2dc9){const _0x16abda=_0xad2dc9[_0xa7626f(0x292)],_0x266dad=_0x16abda?capitalize(_0x16abda):'Binance';dbConfig['get'](_0xa7626f(0x174))['find']({'botID':botID})[_0xa7626f(0x1d5)]({'exchange':_0x266dad})[_0xa7626f(0x186)]();}}let _0x1c6502=dbPerformance[_0xa7626f(0x15d)]('version')[_0xa7626f(0x1c8)]();isOlderVersion(_0x1c6502,'2.3.5')&&setStartDatePerformance();let _0x337326=dbCoinResults['get'](_0xa7626f(0x19f))[_0xa7626f(0x1c8)]();if(isOlderVersion(_0x337326,_0xa7626f(0x1a0))){let _0x3fa117=dbCoinResults['get'](_0xa7626f(0x18e))[_0xa7626f(0x1c8)]();if(_0x3fa117['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x1e7eae=_0x274079;dbConfig['set'](_0x1e7eae(0x19f),serverversion)[_0x1e7eae(0x186)](),dbPerformance[_0x1e7eae(0x276)](_0x1e7eae(0x19f),serverversion)[_0x1e7eae(0x186)](),dbLogs['set']('version',serverversion)[_0x1e7eae(0x186)](),dbCoinResults[_0x1e7eae(0x276)](_0x1e7eae(0x19f),serverversion)[_0x1e7eae(0x186)]();}function getConfiguration(_0x32fe1a){const _0x275e73=_0x274079;let _0x4ce498=dbConfig[_0x275e73(0x15d)]('bot')[_0x275e73(0x278)]({'botID':_0x32fe1a})[_0x275e73(0x1c8)]();if(_0x4ce498){let _0x2d00d2=![];typeof _0x4ce498['threshold']==_0x275e73(0x1f6)&&(_0x4ce498={..._0x4ce498,'threshold':Number(_0x4ce498[_0x275e73(0x294)])},_0x2d00d2=!![]),_0x4ce498['change24h']==null&&(_0x4ce498={..._0x4ce498,'change24h':-0x14},_0x2d00d2=!![]),!_0x4ce498[_0x275e73(0x2a0)]&&(_0x4ce498={..._0x4ce498,'fiat':_0x275e73(0x273)},_0x2d00d2=!![]),!_0x4ce498['onepagemode']&&(_0x4ce498={..._0x4ce498,'onepagemode':settings['onepagemode']},_0x2d00d2=!![]),_0x2d00d2&&(_0x4ce498={'botID':_0x4ce498[_0x275e73(0x219)],'exchange':_0x4ce498[_0x275e73(0x292)],'apiKey':_0x4ce498[_0x275e73(0x26e)],'apiSecret':_0x4ce498[_0x275e73(0x23d)],'basecoin':_0x4ce498[_0x275e73(0x203)],'botname':_0x4ce498[_0x275e73(0x135)],'showname':_0x4ce498['showname'],'threshold':_0x4ce498[_0x275e73(0x294)],'ordertype':_0x4ce498[_0x275e73(0x1b2)],'timeout':_0x4ce498['timeout'],'fiat':_0x4ce498[_0x275e73(0x2a0)],'startdate':_0x4ce498[_0x275e73(0x151)],'recreate':_0x4ce498[_0x275e73(0x26d)],'timeshift':_0x4ce498['timeshift'],'onepagemode':_0x4ce498['onepagemode'],'headless':_0x4ce498['headless'],'cooldown':_0x4ce498[_0x275e73(0x19c)],'change24h':_0x4ce498[_0x275e73(0x1bc)],'emojibuy':_0x4ce498[_0x275e73(0x16d)],'emojisell':_0x4ce498['emojisell'],'portfolio':_0x4ce498['portfolio'],'liquidity':_0x4ce498['liquidity'],'openOrders':_0x4ce498[_0x275e73(0x296)]},dbConfig[_0x275e73(0x15d)](_0x275e73(0x174))[_0x275e73(0x1ef)]()[_0x275e73(0x186)](),dbConfig[_0x275e73(0x15d)](_0x275e73(0x174))[_0x275e73(0x202)](_0x4ce498)['write']());}else _0x4ce498={'botID':_0x32fe1a,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x275e73(0x155)+_0x32fe1a,'showname':![],'threshold':0x3,'ordertype':_0x275e73(0x240),'timeout':0x14,'fiat':_0x275e73(0x273),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x275e73(0x1d2)],'onepagemode':settings[_0x275e73(0x264)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4ce498;}function emittedConfiguration(){const _0x57d399=_0x274079;let _0xdaff12;if(config[_0x57d399(0x26e)]=='')_0xdaff12={...config,'configstate':'initial'};else config[_0x57d399(0x26e)]==_0x57d399(0x259)?_0xdaff12={...config,'configstate':_0x57d399(0x24a)}:_0xdaff12={...config,'apiKey':_0x57d399(0x26b),'apiSecret':_0x57d399(0x26b)};return _0xdaff12;}function getSettings(){const _0x2b954f=_0x274079;return dbSettings[_0x2b954f(0x15d)](_0x2b954f(0x284))['value']();}function getSecure(){const _0x546294=_0x274079;return dbSecure[_0x546294(0x15d)](_0x546294(0x1c3))[_0x546294(0x1c8)]()||{};}function updateTimeshift(_0x1c7c6c){const _0x28e6cc=_0x274079;let _0x56c11f=dbConfig[_0x28e6cc(0x15d)](_0x28e6cc(0x174))[_0x28e6cc(0x278)]({'botID':botID})['value']();_0x56c11f&&dbConfig[_0x28e6cc(0x15d)](_0x28e6cc(0x174))[_0x28e6cc(0x278)]({'botID':botID})[_0x28e6cc(0x1d5)]({'timeshift':_0x1c7c6c})[_0x28e6cc(0x186)](),config[_0x28e6cc(0x1d2)]=_0x1c7c6c,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x26b897){const _0x652f6b=_0x274079;let _0x5eb957=dbConfig[_0x652f6b(0x15d)](_0x652f6b(0x174))[_0x652f6b(0x278)]({'botID':botID})['value']();_0x5eb957&&dbConfig['get'](_0x652f6b(0x174))[_0x652f6b(0x278)]({'botID':botID})[_0x652f6b(0x1d5)]({'onepagemode':_0x26b897})[_0x652f6b(0x186)](),config[_0x652f6b(0x264)]=_0x26b897,proxyEmit(_0x652f6b(0x18c),emittedConfiguration());}async function storeConfiguration(_0x43e4e6){const _0x40e10f=_0x274079;logger[_0x40e10f(0x187)](_0x40e10f(0x154)),blockTransactionDetection=!![],logger[_0x40e10f(0x187)](_0x40e10f(0x23b));let _0x5765d5=[],_0x796d17=![],_0x2ed220=[];_0x43e4e6['portfolio'][_0x40e10f(0x14e)](_0x136b92=>{const _0x50e08e=_0x40e10f;if(!_0x136b92['excluded']&&_0x136b92[_0x50e08e(0x25f)]!=_0x43e4e6[_0x50e08e(0x203)])_0x2ed220[_0x50e08e(0x202)](_0x136b92[_0x50e08e(0x1ed)]);}),_0x2ed220[_0x40e10f(0x14e)](_0x5c340b=>{const _0x5c2878=_0x40e10f,_0x5323a6=watchedSymbols[_0x5c2878(0x1db)](_0x5c340b);!_0x5323a6&&_0x5765d5['push'](_0x5c340b);});_0x5765d5[_0x40e10f(0x233)]>0x0?_0x796d17=!![]:currentCoins[_0x40e10f(0x14e)](_0x5a1935=>{const _0x1ca433=_0x40e10f;if(_0x5a1935[_0x1ca433(0x25f)]!=config['basecoin']){const _0x1cf37b=_0x2ed220[_0x1ca433(0x278)](_0x3455f5=>_0x3455f5==_0x5a1935[_0x1ca433(0x1ed)]);!_0x1cf37b&&(_0x796d17=!![]);}});let _0xda721=dbConfig[_0x40e10f(0x15d)](_0x40e10f(0x174))[_0x40e10f(0x278)]({'botID':botID})['value']();_0x43e4e6={..._0x43e4e6,'apiKey':crypt[_0x40e10f(0x207)](secure[_0x40e10f(0x175)],_0x43e4e6[_0x40e10f(0x26e)])[_0x40e10f(0x251)],'apiSecret':crypt['decrypt'](secure[_0x40e10f(0x175)],_0x43e4e6[_0x40e10f(0x23d)])[_0x40e10f(0x251)]};let _0x53b3f0=![];_0xda721?(_0x43e4e6[_0x40e10f(0x26e)]=='************'?_0x43e4e6[_0x40e10f(0x26e)]=config['apiKey']:_0x53b3f0=!![],_0x43e4e6[_0x40e10f(0x23d)]=='************'?_0x43e4e6[_0x40e10f(0x23d)]=config['apiSecret']:_0x53b3f0=!![],dbConfig[_0x40e10f(0x15d)](_0x40e10f(0x174))[_0x40e10f(0x278)]({'botID':botID})[_0x40e10f(0x1d5)](_0x43e4e6)[_0x40e10f(0x186)]()):(dbConfig[_0x40e10f(0x15d)](_0x40e10f(0x174))[_0x40e10f(0x202)](_0x43e4e6)[_0x40e10f(0x186)](),_0x53b3f0=!![],process['send']({'status':_0x40e10f(0x1c5),'live':_0x40e10f(0x24d)},_0xd72ee9=>{}));config={..._0x43e4e6},setStartDatePerformance(),process[_0x40e10f(0x21f)]({'botname':_0x43e4e6['botname']},_0x5913b6=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x40e10f(0x2a4)),await initCoinResults();if(_0x53b3f0)await reset(_0x5765d5,!![]);else{if(_0x796d17)await reset(_0x5765d5,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger['debug']('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x45bf44){const _0x18ff17=_0x274079,_0x38def4={...config,'headless':_0x45bf44[_0x18ff17(0x20d)]};let _0x349e41=dbConfig[_0x18ff17(0x15d)](_0x18ff17(0x174))[_0x18ff17(0x278)]({'botID':botID})['value']();_0x349e41&&dbConfig[_0x18ff17(0x15d)](_0x18ff17(0x174))['find']({'botID':botID})[_0x18ff17(0x1d5)](_0x38def4)[_0x18ff17(0x186)](),config={..._0x38def4},updateBotManager(),proxyEmit(_0x18ff17(0x18c),emittedConfiguration());}async function storeFiat(_0x561a8f){const _0x15de7d=_0x274079,_0x5f2a1f={...config,'fiat':_0x561a8f};let _0x3c4096=dbConfig[_0x15de7d(0x15d)]('bot')[_0x15de7d(0x278)]({'botID':botID})[_0x15de7d(0x1c8)]();_0x3c4096&&dbConfig[_0x15de7d(0x15d)](_0x15de7d(0x174))[_0x15de7d(0x278)]({'botID':botID})[_0x15de7d(0x1d5)](_0x5f2a1f)[_0x15de7d(0x186)](),config={..._0x5f2a1f},proxyEmit(_0x15de7d(0x18c),emittedConfiguration());}function resetHistory(){const _0x2dedbb=_0x274079;logger[_0x2dedbb(0x15a)](_0x2dedbb(0x13a));try{if(fs[_0x2dedbb(0x19d)](path[_0x2dedbb(0x2a6)](configpath,_0x2dedbb(0x1ba)+botID+_0x2dedbb(0x213))))fs[_0x2dedbb(0x1d1)](path[_0x2dedbb(0x2a6)](configpath,'bot-'+botID+_0x2dedbb(0x213)));if(fs[_0x2dedbb(0x19d)](path[_0x2dedbb(0x2a6)](configpath,_0x2dedbb(0x1ba)+botID+_0x2dedbb(0x17e))))fs[_0x2dedbb(0x1d1)](path[_0x2dedbb(0x2a6)](configpath,_0x2dedbb(0x1ba)+botID+_0x2dedbb(0x17e)));if(fs['existsSync'](path[_0x2dedbb(0x2a6)](configpath,_0x2dedbb(0x1ba)+botID+_0x2dedbb(0x18d))))fs[_0x2dedbb(0x1d1)](path[_0x2dedbb(0x2a6)](configpath,'bot-'+botID+_0x2dedbb(0x18d)));}catch(_0x3f3785){if(_0x3f3785)logger[_0x2dedbb(0x15a)](_0x2dedbb(0x29b),_0x3f3785);}const _0x28b117=getDate();let _0x50096f=[];currentCoins['forEach'](_0x3381df=>{const _0x9b8802=_0x2dedbb;_0x50096f[_0x9b8802(0x202)]({'coin':_0x3381df[_0x9b8802(0x25f)],'number':_0x3381df[_0x9b8802(0x28f)],'price':_0x3381df['last']});});let _0x1716f5=dbConfig['get'](_0x2dedbb(0x174))['find']({'botID':botID})[_0x2dedbb(0x1c8)]();_0x1716f5&&(dbConfig['get'](_0x2dedbb(0x174))['find']({'botID':botID})['assign']({'liquidity':[{'date':_0x28b117,'changes':_0x50096f}]})[_0x2dedbb(0x186)](),config[_0x2dedbb(0x167)]=[]),process[_0x2dedbb(0x21f)]({'stop':_0x2dedbb(0x1c6)},_0x312d6f=>{});}function noslash(_0x2bfb0e){const _0x1b6636=_0x274079;return _0x2bfb0e[_0x1b6636(0x206)]('/','');}function updateHighestFee(_0x3c55ef,_0xd6135b){const _0xd61266=_0x274079;lastFees[_0xd61266(0x1cc)]=_0x3c55ef,lastFees[_0xd61266(0x21b)][_0xd61266(0x233)]===0x14&&lastFees['recent20']['shift'](),lastFees[_0xd61266(0x21b)][_0xd61266(0x202)](_0xd6135b),lastFees[_0xd61266(0x212)]=Math[_0xd61266(0x1d3)](...lastFees[_0xd61266(0x21b)]);}async function updateNumberCoinsCcxt(_0x412e40){const _0x34d6f5=_0x274079;logger[_0x34d6f5(0x187)]('0\x20-\x20EXECUTION:\x20'+_0x412e40['symbol']+_0x34d6f5(0x183)+_0x412e40[_0x34d6f5(0x1e9)]+_0x34d6f5(0x183)+_0x412e40['id']+'\x20|\x20'+_0x412e40[_0x34d6f5(0x1ab)]);let _0x72cffb=_0x412e40[_0x34d6f5(0x1e9)],_0x286231=![];currentCoins['forEach'](_0x47a17c=>{_0x47a17c['symbol']==_0x412e40['symbol']&&(_0x286231=!![]);});if(!_0x286231)return;const _0x1f4cf1=currentCoins['find'](_0x58e840=>_0x58e840['symbol']==_0x412e40[_0x34d6f5(0x1ed)]),_0x42b9b5=_0x50d1c9=>{if(_0x1f4cf1)_0x1f4cf1['orderstatus']=_0x50d1c9;};if(_0x72cffb==_0x34d6f5(0x28a))_0x42b9b5('open');else{if(_0x72cffb==_0x34d6f5(0x1b9)){_0x42b9b5('canceled');const _0x2cd217=await getCoins();[currentCoins,currentCoinsAll]=_0x2cd217,await getOpenOrders(),handleOpenOrders();}else{if(_0x72cffb==_0x34d6f5(0x1e2)){logger[_0x34d6f5(0x187)](_0x34d6f5(0x268)+_0x412e40[_0x34d6f5(0x1ed)]+'\x20|\x20'+_0x412e40[_0x34d6f5(0x17a)]+_0x34d6f5(0x183)+_0x412e40['id']+'\x20|\x20'+_0x412e40[_0x34d6f5(0x1ab)]);let _0x31e8a7=![];if(lastOrders)lastOrders[_0x34d6f5(0x14e)](async _0x2511f3=>{const _0x3451f9=_0x34d6f5;if(_0x2511f3[_0x3451f9(0x18f)]==_0x412e40[_0x3451f9(0x1ab)]){logger[_0x3451f9(0x187)](_0x3451f9(0x25e)+_0x412e40[_0x3451f9(0x1ab)]),_0x31e8a7=!![];if(_0x2511f3[_0x3451f9(0x17a)]==0x0){logger['debug'](_0x3451f9(0x1dd)+_0x412e40[_0x3451f9(0x1ab)]),_0x2511f3['price']=_0x412e40[_0x3451f9(0x28c)],_0x2511f3[_0x3451f9(0x17a)]=_0x412e40['filled'],_0x2511f3[_0x3451f9(0x237)]={'currency':_0x412e40[_0x3451f9(0x237)]?_0x412e40['fee']['currency']:null,'cost':_0x412e40[_0x3451f9(0x237)]?_0x412e40[_0x3451f9(0x237)][_0x3451f9(0x1b8)]:0x0},updateHighestFee(_0x2511f3[_0x3451f9(0x237)][_0x3451f9(0x1cc)],_0x2511f3[_0x3451f9(0x237)]['cost']),_0x42b9b5(_0x3451f9(0x17a)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x586f83=await getCoins();[currentCoins,currentCoinsAll]=_0x586f83;}await updateCoinResults(_0x2511f3);}}});if(!_0x31e8a7){logger[_0x34d6f5(0x187)](_0x34d6f5(0x201)+_0x412e40['id']),_0x42b9b5(_0x34d6f5(0x17a));const _0x5d0680=await getCoins();[currentCoins,currentCoinsAll]=_0x5d0680,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x57b8a9=JSON[_0x34d6f5(0x138)](lastBalances[_0x34d6f5(0x178)]);const _0x20477c=_0x57b8a9[_0x34d6f5(0x278)](_0xa1d102=>_0xa1d102['symbol']==_0x412e40['symbol']);if(_0x20477c){if(_0x72cffb=='open')_0x20477c[_0x34d6f5(0x1e6)]=_0x20477c[_0x34d6f5(0x1e6)]==_0x34d6f5(0x17a)?_0x34d6f5(0x17a):'open';else{if(_0x72cffb==_0x34d6f5(0x1b9))_0x20477c[_0x34d6f5(0x1e6)]=_0x20477c[_0x34d6f5(0x1e6)]=='filled'?_0x34d6f5(0x17a):_0x34d6f5(0x1b9);else _0x72cffb==_0x34d6f5(0x1e2)&&(_0x20477c[_0x34d6f5(0x1e6)]=_0x34d6f5(0x17a));}}lastBalances={...lastBalances,'portfolio':JSON[_0x34d6f5(0x279)](_0x57b8a9)},proxyEmit(_0x34d6f5(0x21d),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x2b5759=![];currentCoins['forEach'](_0xbf4be7=>{const _0x52e2cd=_0x272c;_0x2b5759=allOpenOrders[_0x52e2cd(0x278)](_0x55d054=>_0x55d054[_0x52e2cd(0x1ed)]==_0xbf4be7[_0x52e2cd(0x1ed)]),_0xbf4be7['orderstatus']=_0x2b5759?_0x52e2cd(0x28a):_0x52e2cd(0x26a);});}async function getCoins(_0x5c1339=!![],_0x460b2b=config[_0x274079(0x203)]){const _0x8cb243=_0x274079;let _0x34a9b4,_0x21351a=[],_0x4c8de5=[],_0x3806f0=[],_0xb5b8a9=[];try{_0x34a9b4=await exchange['fetchBalance'](),mybalances=_0x34a9b4[_0x8cb243(0x197)];for(const [_0x4d7ce8,_0x1d1f44]of Object[_0x8cb243(0x2a5)](mybalances)){_0xb5b8a9['push'](_0x4d7ce8);}if(_0x460b2b=='')for(const [_0x574041,_0x89af98]of Object['entries'](mybalances)){_0x89af98[_0x8cb243(0x299)]()!=0x0&&_0x4c8de5[_0x8cb243(0x202)]({'coin':_0x574041});}else{let _0x18a1f0=![];for(const [_0x20df71,_0x37852b]of Object[_0x8cb243(0x2a5)](mybalances)){if(_0xb5b8a9[_0x8cb243(0x1db)](_0x20df71)){const _0x2a57b9=config[_0x8cb243(0x178)][_0x8cb243(0x278)](_0x4205e3=>_0x4205e3[_0x8cb243(0x25f)]==_0x20df71),_0x1966c3=_0x20df71+'/'+_0x460b2b,_0x2211e8=_0x460b2b+'/'+_0x20df71,_0x5773ca=currentCoins['find'](_0x2fd577=>_0x2fd577[_0x8cb243(0x25f)]==_0x20df71);_0x18a1f0=![];if((_0x37852b[_0x8cb243(0x299)]()!=0x0||_0x2a57b9)&&(allSymbols[_0x8cb243(0x1db)](_0x1966c3)||_0x20df71==_0x460b2b))_0x20df71!=_0x460b2b&&_0x21351a[_0x8cb243(0x202)](_0x1966c3),_0x4c8de5[_0x8cb243(0x202)]({'coin':_0x20df71,'symbol':_0x1966c3,'reverse':![],'number':Math[_0x8cb243(0x1d3)](_0x37852b+(_0x2a57b9&&_0x2a57b9[_0x8cb243(0x25d)]||0x0),0x0),'orderstatus':_0x5773ca?_0x5773ca['orderstatus']:_0x8cb243(0x26a)});else(_0x37852b['toString']()!=0x0||_0x2a57b9)&&allSymbols['includes'](_0x2211e8)&&(_0x20df71!=_0x460b2b&&_0x21351a[_0x8cb243(0x202)](_0x2211e8),_0x4c8de5[_0x8cb243(0x202)]({'coin':_0x20df71,'symbol':_0x2211e8,'reverse':!![],'number':Math[_0x8cb243(0x1d3)](_0x37852b+(_0x2a57b9&&_0x2a57b9[_0x8cb243(0x25d)]||0x0),0x0),'orderstatus':_0x5773ca?_0x5773ca['orderstatus']:_0x8cb243(0x26a)}));}}}}catch(_0x15ce5b){if(!_0x5c1339)handleErrorNoStop(_0x15ce5b,'getCoins()');else await handleError(_0x15ce5b,_0x8cb243(0x189));}return _0x3806f0=cloneDeep(_0x4c8de5),_0x4c8de5=_0x4c8de5[_0x8cb243(0x1d9)](_0x2438d4=>{const _0xea02b1=_0x8cb243,_0x40df18=config[_0xea02b1(0x178)][_0xea02b1(0x278)](_0x206e90=>_0x206e90[_0xea02b1(0x25f)]==_0x2438d4['coin']);return _0x40df18&&!_0x40df18[_0xea02b1(0x257)];}),[_0x4c8de5,_0x3806f0];}async function getCoinNumber(_0x3957c8){const _0x285ced=_0x274079;let _0x3af296;try{const _0x2389e6=await exchange[_0x285ced(0x1a5)]();_0x3af296=_0x2389e6[_0x285ced(0x197)][_0x3957c8];}catch(_0x3731c3){await handleError(_0x3731c3,_0x285ced(0x26f));}return _0x3af296;}async function getOpenOrders(){const _0x3b13e2=_0x274079;let _0x1b3106;allOpenOrders=[];try{for(const _0x5cd183 of config[_0x3b13e2(0x178)]){!_0x5cd183[_0x3b13e2(0x257)]&&_0x5cd183[_0x3b13e2(0x25f)]!=config[_0x3b13e2(0x203)]&&(_0x1b3106=await exchange[_0x3b13e2(0x220)](_0x5cd183[_0x3b13e2(0x1ed)]),_0x1b3106[_0x3b13e2(0x233)]>0x0&&allOpenOrders[_0x3b13e2(0x202)](_0x1b3106[0x0]));}}catch(_0x149479){await handleError(_0x149479,'getOpenOrders()');}}async function handleOpenOrders(_0xb004b0=0x0){const _0x12655e=_0x274079;allOpenOrders[_0x12655e(0x233)]==0x0&&lockOrders==ORDERS[_0x12655e(0x225)]&&allOrdersPlaced&&(_0xb004b0==0x0?(logger['debug'](_0x12655e(0x15f)),_0xb004b0++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x12655e(0x187)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x12655e(0x20f))));}async function testAPI(_0x57c5af){const _0x4ff487=_0x274079,_0x225ab8=ccxt[_0x57c5af[_0x4ff487(0x292)]['toLowerCase']()],_0x52b2c6=new _0x225ab8({'apiKey':_0x57c5af['apiKey'],'secret':_0x57c5af['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x52b2c6[_0x4ff487(0x24f)]();}catch(_0x5931b5){throw _0x5931b5;}}function cloneDeep(_0x19606c){const _0x35696a=_0x274079;return JSON[_0x35696a(0x138)](JSON[_0x35696a(0x279)](_0x19606c));}async function getPortfolio(_0x22fcdd){const _0x3f3e77=_0x274079;let _0x2e1c26=[],_0x470de8=[],_0x4d63a7=[],_0x4cd72a;if(_0x22fcdd[_0x3f3e77(0x26e)]!==_0x3f3e77(0x26b)||_0x22fcdd['apiSecret']!==_0x3f3e77(0x26b)){if(config[_0x3f3e77(0x292)]){if(_0x22fcdd[_0x3f3e77(0x26e)]==_0x3f3e77(0x26b))_0x22fcdd[_0x3f3e77(0x26e)]=config[_0x3f3e77(0x26e)];if(_0x22fcdd[_0x3f3e77(0x23d)]==_0x3f3e77(0x26b))_0x22fcdd[_0x3f3e77(0x23d)]=config[_0x3f3e77(0x23d)];try{await testAPI(_0x22fcdd);}catch(_0x4962ba){if(_0x4962ba[_0x3f3e77(0x299)]()[_0x3f3e77(0x1db)](_0x3f3e77(0x132))){logger[_0x3f3e77(0x187)](_0x3f3e77(0x194)),proxyEmit(_0x3f3e77(0x178),![]);return;}else{handleError(_0x4962ba,_0x3f3e77(0x216));return;}}}await initExchange(_0x22fcdd[_0x3f3e77(0x292)],_0x22fcdd[_0x3f3e77(0x26e)],_0x22fcdd[_0x3f3e77(0x23d)]);try{await loadSymbols(_0x22fcdd[_0x3f3e77(0x292)],!![]);}catch(_0x2e671a){if(_0x2e671a[_0x3f3e77(0x299)]()[_0x3f3e77(0x1db)](_0x3f3e77(0x132))){proxyEmit('portfolio',![]);return;}else{handleError(_0x2e671a,_0x3f3e77(0x16a));return;}}const _0x580853=await getCoins(![],_0x22fcdd[_0x3f3e77(0x203)]);_0x4d63a7=cloneDeep(_0x580853[0x1]);}else _0x4d63a7=cloneDeep(currentCoinsAll);if(_0x22fcdd['basecoin']=='')proxyEmit(_0x3f3e77(0x178),_0x4d63a7);else{_0x4d63a7[_0x3f3e77(0x14e)](_0x38e085=>{const _0x4fba4b=_0x3f3e77;if(_0x38e085[_0x4fba4b(0x25f)]!=_0x22fcdd[_0x4fba4b(0x203)])_0x2e1c26[_0x4fba4b(0x202)](_0x38e085[_0x4fba4b(0x1ed)]);});try{_0x470de8=await exchange[_0x3f3e77(0x185)](_0x2e1c26);}catch(_0x3d0fdc){if(_0x3d0fdc['toString']()['includes']('AuthenticationError')){proxyEmit(_0x3f3e77(0x178),![]);return;}else{handleError(_0x3d0fdc,_0x3f3e77(0x14c));return;}}_0x4d63a7[_0x3f3e77(0x14e)](_0x1db301=>{const _0x23116d=_0x3f3e77;_0x1db301['coin']!=_0x22fcdd[_0x23116d(0x203)]?_0x4cd72a=_0x1db301[_0x23116d(0x13b)]?0x1/_0x470de8[_0x1db301[_0x23116d(0x1ed)]]['last']:_0x470de8[_0x1db301[_0x23116d(0x1ed)]][_0x23116d(0x13e)]:_0x4cd72a=0x1,_0x1db301[_0x23116d(0x1cb)]=formatResult(_0x4cd72a,0x8);}),proxyEmit(_0x3f3e77(0x178),_0x4d63a7);}}function checkMinimums(_0x227236){const _0x38bade=_0x274079;let _0x323b59=!![];const _0x43f9d7=!_0x227236[_0x38bade(0x13b)]?markets[_0x227236[_0x38bade(0x1ed)]][_0x38bade(0x1af)][_0x38bade(0x298)]['min']:markets[_0x227236['symbol']][_0x38bade(0x1af)][_0x38bade(0x1b8)][_0x38bade(0x182)],_0x24edc4=!_0x227236['reverse']?markets[_0x227236[_0x38bade(0x1ed)]]['limits'][_0x38bade(0x1b8)][_0x38bade(0x182)]:markets[_0x227236[_0x38bade(0x1ed)]]['limits'][_0x38bade(0x298)][_0x38bade(0x182)],_0x51f6b2=markets[_0x227236[_0x38bade(0x1ed)]]['precision']['amount'];_0x227236[_0x38bade(0x15b)]=formatResultTruncate(_0x227236['trade'],_0x51f6b2);if(Math[_0x38bade(0x145)](_0x227236['trade'])<_0x43f9d7)_0x323b59=![];if(Math['abs'](_0x227236[_0x38bade(0x15b)])*_0x227236['last']<_0x24edc4)_0x323b59=![];if(_0x227236['side']==_0x38bade(0x198)){let _0x20d511=config[_0x38bade(0x178)]['find'](_0x1e69b5=>_0x1e69b5[_0x38bade(0x25f)]==_0x227236['coin']);if(_0x20d511[_0x38bade(0x25d)]>0x0){if(Math[_0x38bade(0x145)](_0x227236[_0x38bade(0x15b)])>_0x227236[_0x38bade(0x28f)]-_0x20d511[_0x38bade(0x25d)])_0x323b59=![];}else{if(Math[_0x38bade(0x145)](_0x227236[_0x38bade(0x15b)])>_0x227236['number'])_0x323b59=![];}}if(_0x227236['side']==_0x38bade(0x24c)){let _0x4466f9=config[_0x38bade(0x178)][_0x38bade(0x278)](_0x488f22=>_0x488f22[_0x38bade(0x25f)]==config['basecoin']),_0x30b50d=currentCoins[_0x38bade(0x278)](_0x4a8f4a=>_0x4a8f4a[_0x38bade(0x25f)]==config[_0x38bade(0x203)]);if(_0x4466f9['offset']>0x0){if(Math[_0x38bade(0x145)](_0x227236[_0x38bade(0x15b)])*_0x227236['last']>_0x30b50d[_0x38bade(0x28f)]-_0x4466f9[_0x38bade(0x25d)])_0x323b59=![];}else{if(Math[_0x38bade(0x145)](_0x227236[_0x38bade(0x15b)])*_0x227236[_0x38bade(0x13e)]>_0x30b50d['number'])_0x323b59=![];}}return _0x323b59;}async function getBalances(){const _0x50e1d9=_0x274079;let _0x1a4109=0x0,_0x2305c1;const _0x506a38=config[_0x50e1d9(0x294)];if(config[_0x50e1d9(0x20d)]&&config[_0x50e1d9(0x1bc)]<0x0)await validate24hChanges();currentCoins['forEach'](_0xf4ce0=>{const _0x3b7d16=_0x50e1d9;if(_0xf4ce0['coin']!=config[_0x3b7d16(0x203)]){let _0x39ebe1=global[_0x3b7d16(0x1e4)][noslash(_0xf4ce0[_0x3b7d16(0x1ed)])];_0x2305c1=_0xf4ce0[_0x3b7d16(0x13b)]?0x1/_0x39ebe1:_0x39ebe1;}else _0x2305c1=0x1;let _0xf4812c=_0xf4ce0[_0x3b7d16(0x28f)]*_0x2305c1;_0x1a4109+=_0xf4812c,_0xf4ce0['last']=formatResult(Number(_0x2305c1),0x8),_0xf4ce0[_0x3b7d16(0x1c8)]=_0xf4812c;}),currentCoins['forEach'](_0x53cfac=>{const _0x5a3a22=_0x50e1d9;let _0x4a5efc=config['portfolio'][_0x5a3a22(0x278)](_0x430999=>_0x430999['coin']==_0x53cfac[_0x5a3a22(0x25f)]),_0xeea9bb=Number(_0x4a5efc[_0x5a3a22(0x147)]),_0x163684=_0x53cfac['value']/_0x1a4109*0x64,_0x4ed73b=_0xeea9bb*_0x1a4109/0x64/_0x53cfac[_0x5a3a22(0x13e)]-_0x53cfac[_0x5a3a22(0x28f)];_0x53cfac[_0x5a3a22(0x147)]=formatResult(_0x163684,0x3),_0x53cfac['target']=formatResult(_0xeea9bb,0x3),_0x53cfac[_0x5a3a22(0x15b)]=formatResult(_0x4ed73b,0x8),_0x53cfac[_0x5a3a22(0x176)]='',_0x53cfac[_0x5a3a22(0x29d)]=![];if(_0x53cfac[_0x5a3a22(0x25f)]!=config[_0x5a3a22(0x203)]){if(_0x53cfac[_0x5a3a22(0x147)]>_0xeea9bb)_0x53cfac[_0x5a3a22(0x176)]=_0x5a3a22(0x198),_0x53cfac['valid']=checkMinimums(_0x53cfac);else _0x53cfac['distribution']<_0xeea9bb&&(_0x53cfac[_0x5a3a22(0x176)]='buy',_0x53cfac[_0x5a3a22(0x29d)]=checkMinimums(_0x53cfac));}_0x53cfac[_0x5a3a22(0x210)]=_0x53cfac['distribution']/_0x53cfac[_0x5a3a22(0x1cf)]-0x1;if(_0x53cfac[_0x5a3a22(0x1e6)]==_0x5a3a22(0x17a)||_0x53cfac['orderstatus']==_0x5a3a22(0x1b9))_0x53cfac[_0x5a3a22(0x1e6)]='none';}),currentCoins[_0x50e1d9(0x168)]((_0x8a6fbe,_0x12d409)=>_0x8a6fbe[_0x50e1d9(0x210)]<_0x12d409['delta']?0x1:_0x12d409['delta']<_0x8a6fbe[_0x50e1d9(0x210)]?-0x1:0x0);const _0x2d37a9=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2d37a9[_0x50e1d9(0x27b)],'usd':_0x2d37a9['usd'],'portfolio':JSON[_0x50e1d9(0x279)](currentCoins),'threshold':_0x506a38},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x50e1d9(0x20d)])headlessMode({'portfolio':currentCoins,'threshold':_0x506a38});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x506a38});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x25b376=getNormalizedPerformance();getStartingBalances(_0x25b376),emitPerformance(_0x25b376);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0xc81c33=getNormalizedPerformance();emitPerformance(_0xc81c33),getStartingBalances(_0xc81c33),logger[_0x50e1d9(0x187)](_0x50e1d9(0x170));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xbb098f=_0x274079;if(!lastBalances)return;let _0x2f956f=[],_0x33f70c,_0x34ab09=JSON[_0xbb098f(0x138)](lastBalances[_0xbb098f(0x178)]);_0x34ab09[_0xbb098f(0x168)]((_0x30472f,_0x5b6e1a)=>_0x30472f[_0xbb098f(0x25f)]>_0x5b6e1a[_0xbb098f(0x25f)]?0x1:_0x5b6e1a[_0xbb098f(0x25f)]>_0x30472f[_0xbb098f(0x25f)]?-0x1:0x0),_0x34ab09['forEach'](_0x2f9e98=>{const _0x47d2e2=_0xbb098f;let _0x4f2e09={'coin':_0x2f9e98[_0x47d2e2(0x25f)],'number':_0x2f9e98['number'],'price':_0x2f9e98['last']};_0x2f956f[_0x47d2e2(0x202)](_0x4f2e09);});const _0x11958c=await getFiat();_0x33f70c={'date':lastBalances[_0xbb098f(0x136)]['split']('\x20')[0x0],'eur':_0x11958c[_0xbb098f(0x27b)],'usd':_0x11958c['usd'],'coins':_0x2f956f};let _0x183e38=dbPerformance['get']('data')[_0xbb098f(0x278)]({'date':_0x33f70c[_0xbb098f(0x19a)]})[_0xbb098f(0x1c8)]();_0x183e38?_0x33f70c['date']!=config[_0xbb098f(0x151)]&&dbPerformance[_0xbb098f(0x15d)](_0xbb098f(0x179))['find']({'date':_0x33f70c[_0xbb098f(0x19a)]})['assign'](_0x33f70c)[_0xbb098f(0x186)]():dbPerformance[_0xbb098f(0x15d)](_0xbb098f(0x179))['push'](_0x33f70c)[_0xbb098f(0x186)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x219c72=_0x274079;let _0x2cab00=[];if(dbPerformance['has'](_0x219c72(0x179))[_0x219c72(0x1c8)]()){let _0x25b96b=dbPerformance['get']('data')[_0x219c72(0x159)]()['sortBy'](_0x219c72(0x19a))[_0x219c72(0x1c8)](),_0x1be831=[...config[_0x219c72(0x167)]];_0x1be831[_0x219c72(0x168)]((_0x25256d,_0x5cb3d6)=>_0x25256d[_0x219c72(0x19a)]>_0x5cb3d6[_0x219c72(0x19a)]?-0x1:_0x5cb3d6[_0x219c72(0x19a)]>_0x25256d[_0x219c72(0x19a)]?0x1:0x0);let _0x4ef682=0x1,_0x39b37f=[],_0x1c6612=0x0;_0x25b96b[_0x219c72(0x142)]()[_0x219c72(0x13b)]()[_0x219c72(0x14e)]((_0x3fe200,_0x2740cc)=>{const _0x5266b7=_0x219c72;if(_0x1be831[_0x1c6612]){if(_0x25b96b[_0x25b96b[_0x5266b7(0x233)]-_0x2740cc]&&_0x1be831[_0x1c6612][_0x5266b7(0x19a)]==_0x25b96b[_0x25b96b[_0x5266b7(0x233)]-_0x2740cc][_0x5266b7(0x19a)]){if(_0x2740cc<_0x25b96b[_0x5266b7(0x233)]){let _0x1c4f11=0x0,_0x2f442d=0x0;_0x25b96b[_0x25b96b[_0x5266b7(0x233)]-_0x2740cc][_0x5266b7(0x18e)]['forEach'](_0x5548d3=>{const _0x194078=_0x5266b7;_0x2f442d+=_0x5548d3[_0x194078(0x28f)]*_0x5548d3['price'];}),_0x1be831[_0x1c6612]['changes'][_0x5266b7(0x14e)](_0x56d343=>{const _0x29d473=_0x5266b7;_0x1c4f11+=_0x56d343[_0x29d473(0x28f)]*_0x56d343[_0x29d473(0x1cb)];}),_0x4ef682*=_0x1c4f11/(_0x2f442d-_0x1c4f11)+0x1;}_0x1c6612++;}}let _0x44720d=0x0;_0x3fe200['coins'][_0x5266b7(0x14e)](_0x1c5c7c=>{const _0x538927=_0x5266b7;_0x44720d+=_0x1c5c7c['number']*_0x1c5c7c[_0x538927(0x1cb)];}),_0x39b37f[_0x25b96b['length']-_0x2740cc-0x1]=_0x44720d*(_0x4ef682-0x1);});let _0x5270a8=[];_0x1be831=[...config[_0x219c72(0x167)]]||[];let _0x266ce3=0x0;_0x1c6612=0x0,_0x25b96b[_0x219c72(0x14e)]((_0x35ce53,_0x58ab90)=>{const _0x318b6a=_0x219c72;if(_0x1be831[_0x1c6612]){const _0x1d2347=fns[_0x318b6a(0x138)](_0x1be831[_0x1c6612][_0x318b6a(0x19a)],'yyyy/MM/dd',new Date()),_0x47faf3=fns[_0x318b6a(0x138)](_0x35ce53[_0x318b6a(0x19a)],_0x318b6a(0x1fd),new Date());if(fns[_0x318b6a(0x1a2)](_0x1d2347,_0x47faf3)){let _0x3b81e7=0x0;_0x1be831[_0x1c6612]['changes'][_0x318b6a(0x14e)](_0x1010cd=>{const _0x45da01=_0x318b6a;!_0x5270a8[_0x1010cd[_0x45da01(0x25f)]]?_0x5270a8[_0x1010cd[_0x45da01(0x25f)]]=_0x1010cd[_0x45da01(0x28f)]:(_0x3b81e7=_0x5270a8[_0x1010cd[_0x45da01(0x25f)]],_0x5270a8[_0x1010cd['coin']]+=_0x1010cd['number']);const _0x3731f4=_0x35ce53[_0x45da01(0x18e)]['find'](_0xd12330=>_0xd12330[_0x45da01(0x25f)]==_0x1010cd[_0x45da01(0x25f)]);(!_0x3731f4||_0x3731f4['number']==0x0)&&(_0x266ce3+=(-_0x1010cd['number']-_0x3b81e7)*_0x1010cd[_0x45da01(0x1cb)]);}),_0x1c6612++;}}_0x35ce53[_0x318b6a(0x18e)][_0x318b6a(0x14e)]((_0x2f36ba,_0x8ec11b)=>{_0x5270a8[_0x2f36ba['coin']]&&(_0x2f36ba['initial']=_0x5270a8[_0x2f36ba['coin']]);}),_0x2cab00[_0x318b6a(0x202)]({'date':_0x35ce53[_0x318b6a(0x19a)],'eur':_0x35ce53[_0x318b6a(0x27b)],'usd':_0x35ce53[_0x318b6a(0x14b)],'offset':_0x39b37f[_0x58ab90],'netoffset':_0x266ce3,'coins':_0x35ce53[_0x318b6a(0x18e)]});});}return _0x2cab00;}function emitPerformance(_0x4e10d0){const _0x1d7d4d=_0x274079;_0x4e10d0['length']!==0x0?(proxyEmit('performance',_0x4e10d0),lastPerformanceEmitted=getDate()):proxyEmit(_0x1d7d4d(0x1e5),[]);}function getPerf(_0x5e5975,_0x3d10e0){const _0x2f7cb8=_0x274079;let _0x320071=0x0,_0x58b39f=0x0,_0x4269f1=0x0;_0x5e5975[_0x2f7cb8(0x18e)]['forEach'](_0x547428=>{const _0x44d14c=_0x2f7cb8;_0x320071+=_0x547428[_0x44d14c(0x28f)]*_0x547428[_0x44d14c(0x1cb)];});_0x3d10e0&&(_0x320071+=_0x5e5975[_0x2f7cb8(0x25d)]);if(config[_0x2f7cb8(0x203)]===_0x2f7cb8(0x28b)||config['basecoin']===_0x2f7cb8(0x1f3))_0x58b39f=_0x320071*_0x5e5975[_0x2f7cb8(0x27b)],_0x4269f1=_0x320071*_0x5e5975[_0x2f7cb8(0x14b)];else{if(config[_0x2f7cb8(0x203)]===_0x2f7cb8(0x1f0)||config[_0x2f7cb8(0x203)]==='USDT'||config['basecoin']==='USD')_0x58b39f=_0x320071*_0x5e5975[_0x2f7cb8(0x27b)]/_0x5e5975['usd'],_0x4269f1=_0x320071;else config['basecoin']===_0x2f7cb8(0x177)&&(_0x58b39f=_0x320071,_0x4269f1=_0x320071*_0x5e5975[_0x2f7cb8(0x14b)]/_0x5e5975[_0x2f7cb8(0x27b)]);}return[_0x320071,_0x58b39f,_0x4269f1];}function getKPIs(_0x412278,_0x483bc9=_0x274079(0x177)){const _0x332298=_0x274079,_0x529d07=config[_0x332298(0x203)],_0x55b62e=lastBalances,_0x2dd570=currentCoins,_0x20c052=getNormalizedPerformance(),_0x3d7080=_0x412278===_0x332298(0x203)?_0x529d07:_0x412278==='fiat'||_0x412278==='net-fiat'?_0x483bc9:_0x332298(0x1e8)+_0x529d07,_0x273452=_0x412278===_0x332298(0x139)?_0x332298(0x1a4):_0x412278==='net-fiat'?_0x332298(0x1a4):_0x3d7080+'\x20value',_0x5e0620=_0x412278===_0x332298(0x139)||_0x412278===_0x332298(0x2a1)?_0x332298(0x1a4):_0x3d7080+_0x332298(0x1f1);let _0x2d520d=0x0;_0x2dd570['forEach'](_0x1d5690=>{const _0x2eb0d1=_0x332298;_0x2d520d+=_0x1d5690[_0x2eb0d1(0x28f)]*_0x1d5690[_0x2eb0d1(0x13e)];});if(_0x412278==='fiat'||_0x412278===_0x332298(0x2a1)){if(_0x529d07===_0x332298(0x28b)||_0x529d07==='ETH')_0x2d520d=_0x2d520d*(_0x483bc9===_0x332298(0x177)?_0x55b62e[_0x332298(0x27b)]:_0x55b62e['usd']);else{if(_0x529d07===_0x332298(0x1f0)||_0x529d07===_0x332298(0x184)||_0x529d07===_0x332298(0x273))_0x2d520d=_0x2d520d*(_0x483bc9==='EUR'?_0x55b62e['eur']/_0x55b62e[_0x332298(0x14b)]:0x1);else _0x529d07===_0x332298(0x177)&&(_0x2d520d=_0x2d520d*(_0x483bc9===_0x332298(0x177)?0x1:_0x55b62e[_0x332298(0x14b)]/_0x55b62e[_0x332298(0x27b)]));}}let _0x545e36;if(_0x2d520d!==0x0){if(_0x412278===_0x332298(0x203))_0x545e36=(_0x2d520d/startingBalances[_0x332298(0x203)]-0x1)*0x64;else{if(_0x483bc9===_0x332298(0x177))_0x545e36=(_0x2d520d/startingBalances['eur']-0x1)*0x64;else _0x545e36=(_0x2d520d/startingBalances[_0x332298(0x14b)]-0x1)*0x64;}let _0xe24bc3=0x0;if(startingBalances[_0x332298(0x18e)])_0x2dd570[_0x332298(0x14e)](_0x4026b0=>{const _0x296a05=_0x332298;let _0x2db3d2=startingBalances[_0x296a05(0x18e)][_0x296a05(0x278)](_0x57e5ff=>_0x57e5ff[_0x296a05(0x25f)]===_0x4026b0[_0x296a05(0x25f)]);if(_0x2db3d2&&_0x2db3d2[_0x296a05(0x25f)]&&_0x4026b0['number']!==0x0)_0xe24bc3+=_0x2db3d2[_0x296a05(0x28f)]*_0x4026b0[_0x296a05(0x13e)];});let _0x4bea01=0x0;if(_0x20c052['length']!==0x0){let _0x6f5809=_0x20c052[_0x20c052[_0x332298(0x233)]-0x1];_0x4bea01=_0x6f5809['netoffset'];}_0xe24bc3-=_0x4bea01;_0x412278===_0x332298(0x139)&&(_0x545e36=(_0x2d520d-_0xe24bc3)/startingBalances[_0x332298(0x203)]*0x64,_0x2d520d=_0x2d520d-_0xe24bc3);if(_0x412278===_0x332298(0x2a1)){let _0x192af2=_0x483bc9===_0x332298(0x177)?startingBalances['eur']:startingBalances['usd'];if(_0x529d07==='BTC'||_0x529d07===_0x332298(0x1f3))_0xe24bc3=_0x483bc9==='EUR'?_0xe24bc3*_0x55b62e['eur']:_0xe24bc3*_0x55b62e[_0x332298(0x14b)];else{if(_0x529d07==='BUSD'||_0x529d07===_0x332298(0x184)||_0x529d07===_0x332298(0x273))_0xe24bc3=_0x483bc9===_0x332298(0x177)?_0xe24bc3*_0x55b62e[_0x332298(0x27b)]/_0x55b62e[_0x332298(0x14b)]:_0xe24bc3;else _0x529d07===_0x332298(0x177)&&(_0xe24bc3=_0x483bc9===_0x332298(0x177)?_0xe24bc3:_0xe24bc3*_0x55b62e['usd']/_0x55b62e[_0x332298(0x27b)]);}_0x545e36=(_0x2d520d-_0xe24bc3)/_0x192af2*0x64,_0x2d520d=_0x2d520d-_0xe24bc3;}if(_0x545e36){if(_0x545e36<0x64)_0x545e36=_0x545e36[_0x332298(0x21a)](0x2);else{if(_0x545e36<0x3e8)_0x545e36=_0x545e36[_0x332298(0x21a)](0x1);else _0x545e36=_0x545e36['toFixed'](0x0);}}else _0x545e36=Number('0')['toFixed'](0x2);if(_0x2d520d){if(Math[_0x332298(0x145)](_0x2d520d)<0.000001)_0x2d520d=_0x2d520d[_0x332298(0x21a)](0x2);else{if(Math['abs'](_0x2d520d)<0.1)_0x2d520d=_0x2d520d[_0x332298(0x21a)](0x6);else{if(Math[_0x332298(0x145)](_0x2d520d)<0x1)_0x2d520d=_0x2d520d[_0x332298(0x21a)](0x5);else{if(Math['abs'](_0x2d520d)<0xa)_0x2d520d=_0x2d520d[_0x332298(0x21a)](0x4);else{if(Math['abs'](_0x2d520d)<0x64)_0x2d520d=_0x2d520d['toFixed'](0x3);else{if(Math['abs'](_0x2d520d)<0x3e8)_0x2d520d=_0x2d520d['toFixed'](0x2);else _0x2d520d=_0x2d520d[_0x332298(0x21a)](0x2);}}}}}}else _0x2d520d=Number('0')[_0x332298(0x21a)](0x2);}else _0x545e36=Number('0')[_0x332298(0x21a)](0x2);return{'value':_0x2d520d,'change':_0x545e36,'leftTxt':_0x273452,'rightTxt':_0x5e0620};}async function getStartingBalances(_0x3bc6e9,_0x1baecd=!![]){const _0x950735=_0x274079;if(_0x3bc6e9[_0x950735(0x233)]!==0x0){const [_0x58f508,_0x585a7f,_0x3864f2]=getPerf(_0x3bc6e9[0x0],!![]);let _0x40aebf=[];config['portfolio'][_0x950735(0x14e)](_0x28061a=>{const _0x4df1c0=_0x950735;let _0x31637d=0x0,_0x57cd96;config['liquidity'][_0x4df1c0(0x14e)](_0x591cdd=>{const _0x55e93d=_0x4df1c0;let _0x2c5aed=_0x591cdd[_0x55e93d(0x286)][_0x55e93d(0x278)](_0x11fa49=>_0x11fa49[_0x55e93d(0x25f)]==_0x28061a[_0x55e93d(0x25f)]);if(_0x2c5aed){_0x31637d+=_0x2c5aed[_0x55e93d(0x28f)];if(!_0x57cd96)_0x57cd96=_0x2c5aed[_0x55e93d(0x1cb)];}}),_0x40aebf[_0x4df1c0(0x202)]({'coin':_0x28061a['coin'],'number':_0x31637d,'initialprice':_0x57cd96});});const _0x29aa0a={'basecoin':_0x58f508,'eur':_0x585a7f,'usd':_0x3864f2,'coins':_0x40aebf};if(_0x1baecd)proxyEmit(_0x950735(0x19b),_0x29aa0a);startingBalances=_0x29aa0a;}}function headlessMode(_0xc9b087){const _0x207b82=_0x274079;let _0x52c784=_0xc9b087[_0x207b82(0x178)],_0x1ebb64=_0xc9b087[_0x207b82(0x294)],_0x3c6ddf=[];for(let _0x2441e3 of _0x52c784){if(_0x2441e3['coin']!=config['basecoin']){if(_0x2441e3[_0x207b82(0x210)]>=_0x1ebb64/0x64){if(_0x2441e3[_0x207b82(0x29d)])_0x3c6ddf[_0x207b82(0x202)](_0x2441e3);}else{if(_0x2441e3[_0x207b82(0x210)]<=-_0x1ebb64/0x64){if(_0x2441e3[_0x207b82(0x29d)])_0x3c6ddf[_0x207b82(0x202)](_0x2441e3);}}}}_0x3c6ddf[_0x207b82(0x233)]>0x0&&placeOrder(_0x3c6ddf);}function notifyBalance(_0x42f611){const _0x3d859f=_0x274079;let _0x3fa64e=_0x42f611[_0x3d859f(0x178)],_0x48ac48=_0x42f611[_0x3d859f(0x294)],_0x4921c0=[];for(let _0x2aea19 of _0x3fa64e){if(_0x2aea19[_0x3d859f(0x25f)]!=config[_0x3d859f(0x203)]){if(_0x2aea19[_0x3d859f(0x210)]>=_0x48ac48/0x64){if(_0x2aea19[_0x3d859f(0x29d)])_0x4921c0[_0x3d859f(0x202)](_0x2aea19);}else{if(_0x2aea19[_0x3d859f(0x210)]<=-_0x48ac48/0x64){if(_0x2aea19[_0x3d859f(0x29d)])_0x4921c0[_0x3d859f(0x202)](_0x2aea19);}}}}if(_0x4921c0[_0x3d859f(0x233)]>0x0){let _0x28d59a=_0x4921c0['map'](_0x1996be=>_0x1996be['coin']);_0x28d59a['sort']();let _0x16f404=_0x28d59a['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x3d859f(0x1f5));lastCoinsToBalance=_0x16f404;}}function symbolToCoin(_0x24ad88){const _0x31f046=_0x274079;let _0x465362;if(_0x24ad88['includes']('/'+config[_0x31f046(0x203)]))_0x465362=_0x24ad88[_0x31f046(0x206)]('/'+config[_0x31f046(0x203)],'');if(_0x24ad88['includes'](config[_0x31f046(0x203)]+'/'))_0x465362=_0x24ad88[_0x31f046(0x206)](config[_0x31f046(0x203)]+'/','');return _0x465362;}async function unlockOrders(){const _0x3b8c66=_0x274079;if(allOrdersPlaced&&lockOrders==ORDERS[_0x3b8c66(0x225)]){logger[_0x3b8c66(0x187)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x3b8c66(0x1c9)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x2dd893=await getCoins();[currentCoins,currentCoinsAll]=_0x2dd893,validateOrdersState=_0x3b8c66(0x243),persistOpenOrders([]),lockOrders=ORDERS[_0x3b8c66(0x254)],logger[_0x3b8c66(0x187)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x3baf22){const _0x9fbf03=_0x274079;if(_0x3baf22)validateOrdersState=_0x3baf22;logger[_0x9fbf03(0x187)](_0x9fbf03(0x22e)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x9fbf03(0x270):lockOrders==0x2?_0x9fbf03(0x157):'ORDERS.UNLOCKED'));let _0x263e6f=[],_0x3c9379=config['ordertype']==_0x9fbf03(0x240)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x9fbf03(0x15e)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger['debug'](_0x9fbf03(0x191)+validateOrdersState),lastOrders['forEach'](_0x2522a3=>{const _0x37db14=_0x9fbf03;let _0x3442ae=![];_0x2522a3[_0x37db14(0x17a)]>0x0&&(_0x3442ae=!![]),_0x263e6f[_0x37db14(0x202)](_0x3442ae),_0x3442ae&&config['ordertype']!=_0x37db14(0x240)&&logHistory('order','Order\x20filled:\x20'+_0x2522a3[_0x37db14(0x1ed)]+'\x20'+_0x2522a3['side']+'\x20#'+formatResult(_0x2522a3[_0x37db14(0x17a)],0x8)+'\x20@'+formatResult(_0x2522a3['price'],0x8));}),_0x263e6f[_0x9fbf03(0x14e)]((_0x1a52e8,_0xffdff4)=>{const _0x5e9e27=_0x9fbf03;if(_0x1a52e8)lastOrders[_0x5e9e27(0x173)](_0xffdff4,0x1);}),persistOpenOrders(lastOrders);const _0x3eb497=coolingDown?_0x9fbf03(0x247):_0x9fbf03(0x266);if(validateOrdersState=='initial'){validateOrdersState=_0x9fbf03(0x1a7);if(_0x263e6f['includes'](![])){if(config[_0x9fbf03(0x1b2)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x9fbf03(0x1a7)){if(_0x263e6f[_0x9fbf03(0x1db)](![])){}else{if(allOrdersPlaced){if(config[_0x9fbf03(0x1b2)]==_0x9fbf03(0x240)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x9fbf03(0x1fb))_0x263e6f['includes'](![])&&(config['ordertype']==_0x9fbf03(0x240)?logHistory(_0x9fbf03(0x15c),_0x9fbf03(0x235)+Math[_0x9fbf03(0x2a7)](_0x3c9379*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x3eb497):(await cancelOrders(),logHistory(_0x9fbf03(0x15c),_0x9fbf03(0x13c)+Math[_0x9fbf03(0x2a7)](_0x3c9379*validateOrderInterval/0xea60)+_0x9fbf03(0x1d0)+_0x3eb497))),await unlockOrders();else{if(validateOrdersState==_0x9fbf03(0x20f)){if(config[_0x9fbf03(0x1b2)]!='market')logHistory(_0x9fbf03(0x15c),_0x9fbf03(0x1fa)+_0x3eb497);await unlockOrders();}}}}}async function cancelOrders(){const _0x5e5ee0=_0x274079;lastOrders[_0x5e5ee0(0x14e)](async _0x12a85f=>{const _0x362385=_0x5e5ee0;try{const _0x542403=await exchange[_0x362385(0x244)](_0x12a85f[_0x362385(0x1b1)],_0x12a85f[_0x362385(0x1ed)]);}catch(_0x16c4fa){if(_0x16c4fa['toString']()[_0x362385(0x1db)](_0x362385(0x23e))){}else await handleError(_0x16c4fa,'cancelOrders()');}});}async function initCoinResults(){const _0x242732=_0x274079;let _0x4a2b93=[];config['portfolio'][_0x242732(0x14e)](_0x165b23=>{const _0xfd06a1=_0x242732;if(!_0x165b23[_0xfd06a1(0x257)]&&_0x165b23[_0xfd06a1(0x25f)]!=config['basecoin']){let _0x4265d8=dbCoinResults[_0xfd06a1(0x15d)](_0xfd06a1(0x18e))[_0xfd06a1(0x278)]({'coin':_0x165b23[_0xfd06a1(0x25f)]})[_0xfd06a1(0x1c8)]();if(!_0x4265d8){const _0x836efd=currentCoins[_0xfd06a1(0x278)](_0x5ef818=>_0x5ef818['coin']==_0x165b23[_0xfd06a1(0x25f)]),_0x4c3877=global[_0xfd06a1(0x1e4)][noslash(_0x165b23[_0xfd06a1(0x1ed)])];let _0x312776=_0x836efd?_0x836efd['number']:null,_0xc93c8d=_0x165b23[_0xfd06a1(0x13b)]?0x1/_0x4c3877:_0x4c3877,_0xc41bdd;config['liquidity']['forEach'](_0x205b52=>{const _0x49443a=_0xfd06a1;!_0xc41bdd&&(_0xc41bdd=_0x205b52[_0x49443a(0x286)][_0x49443a(0x278)](_0x287355=>_0x287355[_0x49443a(0x25f)]==_0x165b23['coin']),_0xc41bdd&&(_0x312776=_0xc41bdd['number'],_0xc93c8d=_0xc41bdd[_0x49443a(0x1cb)]));}),_0x4a2b93[_0xfd06a1(0x202)]({'coin':_0x165b23[_0xfd06a1(0x25f)],'number':_0x312776,'price':_0xc93c8d});}}}),_0x4a2b93['forEach'](_0x536bb3=>{const _0xc58fe2=_0x242732,_0x4b201a={'coin':_0x536bb3[_0xc58fe2(0x25f)],'number':_0x536bb3['number'],'breakeven':_0x536bb3[_0xc58fe2(0x1cb)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xc58fe2(0x15d)](_0xc58fe2(0x18e))[_0xc58fe2(0x202)](_0x4b201a)['write']();});}async function updateCoinResults(_0x2834d5,_0x12502c=![]){const _0x1a2374=_0x274079;let _0x1e1452,_0x4b9aad,_0x37520c,_0x2c648e,_0x5152a4,_0x1f6c38,_0x5c05c1=dbCoinResults[_0x1a2374(0x15d)](_0x1a2374(0x18e))[_0x1a2374(0x278)]({'coin':_0x2834d5[_0x1a2374(0x25f)]})[_0x1a2374(0x1c8)]();!_0x5c05c1&&await initCoinResults();_0x2834d5['reverse']&&(_0x1f6c38={'filled':_0x2834d5[_0x1a2374(0x17a)]*_0x2834d5[_0x1a2374(0x1cb)],'amount':_0x2834d5[_0x1a2374(0x17a)]*_0x2834d5[_0x1a2374(0x1cb)],'side':_0x2834d5[_0x1a2374(0x176)]==_0x1a2374(0x198)?_0x1a2374(0x24c):'sell','price':0x1/_0x2834d5[_0x1a2374(0x1cb)]},_0x2834d5={..._0x2834d5,..._0x1f6c38});_0x12502c?_0x4b9aad=_0x2834d5['side']==_0x1a2374(0x24c)?_0x5c05c1[_0x1a2374(0x28f)]+_0x2834d5['filled']:_0x5c05c1['number']-_0x2834d5[_0x1a2374(0x17a)]:_0x4b9aad=await getCoinNumber(_0x2834d5[_0x1a2374(0x25f)]);if(_0x2834d5['fee']&&_0x2834d5['fee']['currency']==config[_0x1a2374(0x203)])_0x1e1452=_0x2834d5[_0x1a2374(0x237)]['cost'];else{if(_0x2834d5[_0x1a2374(0x237)]&&_0x2834d5[_0x1a2374(0x237)]['currency']==_0x1a2374(0x164)&&!_0x12502c)_0x1e1452=_0x2834d5[_0x1a2374(0x237)]['cost']*global['ticker']['BNB'+config['basecoin']];else _0x1e1452=defaultFee*_0x2834d5['filled']*_0x2834d5[_0x1a2374(0x1cb)];}_0x2834d5[_0x1a2374(0x176)]==_0x1a2374(0x24c)?(_0x37520c=_0x4b9aad!=0x0?(_0x5c05c1['breakeven']*_0x5c05c1[_0x1a2374(0x28f)]+_0x2834d5[_0x1a2374(0x1cb)]*(_0x4b9aad-_0x5c05c1[_0x1a2374(0x28f)])+_0x1e1452)/_0x4b9aad:0x0,_0x2c648e=_0x5c05c1[_0x1a2374(0x1d8)]):(_0x37520c=_0x4b9aad!=0x0?(_0x5c05c1[_0x1a2374(0x261)]*_0x5c05c1[_0x1a2374(0x28f)]-_0x2834d5['price']*(_0x5c05c1[_0x1a2374(0x28f)]-_0x4b9aad)+_0x1e1452)/_0x4b9aad:0x0,_0x2c648e=_0x5c05c1[_0x1a2374(0x1d8)]+(_0x2834d5[_0x1a2374(0x1cb)]-_0x5c05c1[_0x1a2374(0x261)])*_0x2834d5[_0x1a2374(0x17a)]);_0x5152a4=(_0x2834d5[_0x1a2374(0x1cb)]-_0x37520c-_0x1e1452/_0x2834d5['filled'])*_0x4b9aad;let _0x13c672={'coin':_0x2834d5['coin'],'number':_0x4b9aad,'breakeven':formatResult(_0x37520c,0x8),'realized':formatResult(_0x2c648e,0x8),'unrealized':formatResult(_0x5152a4,0x8),'fees':formatResult(_0x5c05c1['fees']+_0x1e1452,0x8),'sells':_0x2834d5[_0x1a2374(0x176)]==_0x1a2374(0x198)?_0x5c05c1[_0x1a2374(0x16f)]+0x1:_0x5c05c1[_0x1a2374(0x16f)],'buys':_0x2834d5['side']==_0x1a2374(0x24c)?_0x5c05c1[_0x1a2374(0x27a)]+0x1:_0x5c05c1['buys']};dbCoinResults[_0x1a2374(0x15d)](_0x1a2374(0x18e))[_0x1a2374(0x278)]({'coin':_0x2834d5[_0x1a2374(0x25f)]})['assign'](_0x13c672)[_0x1a2374(0x186)]();if(!_0x12502c){if(_0x2834d5[_0x1a2374(0x237)]&&_0x2834d5[_0x1a2374(0x237)][_0x1a2374(0x1cc)]==_0x1a2374(0x164)){const _0x28a107=currentCoins[_0x1a2374(0x278)](_0x1c0c7a=>_0x1c0c7a['coin']==_0x1a2374(0x164));if(_0x28a107){let _0x4854c2=dbCoinResults[_0x1a2374(0x15d)](_0x1a2374(0x18e))[_0x1a2374(0x278)]({'coin':_0x1a2374(0x164)})[_0x1a2374(0x1c8)]();_0x13c672={..._0x4854c2,'number':_0x28a107[_0x1a2374(0x28f)]},dbCoinResults[_0x1a2374(0x15d)](_0x1a2374(0x18e))[_0x1a2374(0x278)]({'coin':'BNB'})['assign'](_0x13c672)[_0x1a2374(0x186)]();}}}}async function placeOrder(_0x4977ce){const _0x59095a=_0x274079,_0x1ee4c1=config[_0x59095a(0x1b2)]==_0x59095a(0x240)?_0x59095a(0x240):_0x59095a(0x13d);if(lockOrders==ORDERS[_0x59095a(0x254)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x59095a(0x225)],allOrdersPlaced=![],validateOrdersState=_0x59095a(0x243),lastOrders=[];for(const _0x5b2435 of _0x4977ce){let _0xbfb1fc,_0x5137ed,_0x5000d6,_0x4c40c5,_0x34d9b1,_0x5e9ae4=_0x5b2435[_0x59095a(0x1ed)];try{const _0x5e6298=await exchange[_0x59095a(0x274)](_0x5e9ae4);_0xbfb1fc=_0x5b2435[_0x59095a(0x13b)]?0x1/_0x5b2435['last']:_0x5b2435[_0x59095a(0x13e)],_0x5137ed=_0x5e6298[_0x59095a(0x1f9)],_0x5000d6=_0x5e6298[_0x59095a(0x267)];_0x5b2435[_0x59095a(0x13b)]?(_0x4c40c5=_0x5b2435[_0x59095a(0x176)]==_0x59095a(0x24c)?_0x59095a(0x198):_0x59095a(0x24c),_0x34d9b1=Math[_0x59095a(0x145)](_0x5b2435[_0x59095a(0x15b)])/_0xbfb1fc):(_0x4c40c5=_0x5b2435[_0x59095a(0x176)],_0x34d9b1=Math[_0x59095a(0x145)](_0x5b2435[_0x59095a(0x15b)]));_0x1ee4c1==_0x59095a(0x13d)&&(config[_0x59095a(0x1b2)]==_0x59095a(0x1c7)&&(_0xbfb1fc=_0x4c40c5==_0x59095a(0x24c)?_0x5137ed:_0x5000d6),config[_0x59095a(0x1b2)]==_0x59095a(0x16b)&&(_0xbfb1fc=_0x4c40c5==_0x59095a(0x24c)?_0x5000d6:_0x5137ed));_0x34d9b1=formatResult(_0x34d9b1,0x8),_0xbfb1fc=formatResult(_0xbfb1fc,0x8);const _0x14d851=_0x4c40c5==_0x59095a(0x198)?config[_0x59095a(0x241)]?String[_0x59095a(0x297)]('0x'+config[_0x59095a(0x241)])+'\x20':'':config[_0x59095a(0x16d)]?String[_0x59095a(0x297)]('0x'+config[_0x59095a(0x16d)])+'\x20':'',_0x3d7fd2=_0x1ee4c1==_0x59095a(0x240)?_0x59095a(0x1b5):config[_0x59095a(0x1b2)]==_0x59095a(0x1c7)?_0x59095a(0x1c4):'Limit\x20(low-margin)',_0x307adb=new Date()[_0x59095a(0x171)]()[_0x59095a(0x299)]()['slice'](-0x6)+'-'+Math[_0x59095a(0x1a9)]()['toString']()[_0x59095a(0x142)](-0x6);lastOrders[_0x59095a(0x202)]({'customId':_0x307adb,'symbol':_0x5e9ae4,'coin':_0x5b2435['coin'],'side':_0x4c40c5,'reverse':_0x5b2435[_0x59095a(0x13b)],'filled':0x0});if(_0x1ee4c1==_0x59095a(0x240))logHistory('order',''+_0x14d851+_0x3d7fd2+_0x59095a(0x1f8)+_0x5e9ae4+'\x20'+_0x4c40c5+'\x20#'+formatResult(_0x34d9b1,0x8)+'\x20@'+formatResult(_0xbfb1fc,0x8));else logHistory(_0x59095a(0x1ea),''+_0x14d851+_0x3d7fd2+_0x59095a(0x1f8)+_0x5e9ae4+'\x20'+_0x4c40c5+'\x20#'+formatResult(_0x34d9b1,0x8)+'\x20@'+formatResult(_0xbfb1fc,0x8));const _0x4bdc33=await exchange['createOrder'](_0x5e9ae4,_0x1ee4c1,_0x4c40c5,_0x34d9b1,_0xbfb1fc,{'clientOrderId':_0x307adb}),_0x26f924=lastOrders[_0x59095a(0x233)]-0x1;_0x26f924>=0x0&&lastOrders[_0x26f924][_0x59095a(0x18f)]==_0x307adb&&(lastOrders[_0x26f924]={...lastOrders[_0x26f924],'orderId':_0x4bdc33['id'],'amount':_0x4bdc33[_0x59095a(0x298)],'price':_0x4bdc33[_0x59095a(0x1cb)],'fee':_0x4bdc33[_0x59095a(0x237)]});if(config[_0x59095a(0x19c)]!=0x0){let _0x161af4=null;if(cooldownTracker['length']==config[_0x59095a(0x19c)]-0x1)_0x161af4=cooldownTracker[_0x59095a(0x242)]();const _0x2a97aa=getTimeStamp();cooldownTracker[_0x59095a(0x202)](_0x2a97aa);if(_0x161af4){const _0xf8be17=fns[_0x59095a(0x1d4)](new Date(_0x2a97aa),new Date(_0x161af4));if(_0xf8be17<cooldownInterval){logHistory(_0x59095a(0x263),_0x59095a(0x149)+config[_0x59095a(0x19c)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x59095a(0x17d)),coolingDown=!![];break;}}}}catch(_0x2f7113){if(_0x2f7113['toString']()[_0x59095a(0x1db)](_0x59095a(0x277)))lastOrders=lastOrders['filter'](_0x5bc6ee=>_0x5bc6ee[_0x59095a(0x1ed)]!=_0x5e9ae4),await pauseBot(_0x59095a(0x141)+_0x5e9ae4);else _0x2f7113['toString']()[_0x59095a(0x1db)](_0x59095a(0x1c0))?(lastOrders=lastOrders[_0x59095a(0x1d9)](_0x969098=>_0x969098[_0x59095a(0x1ed)]!=_0x5e9ae4),await pauseBot('Order\x20amount\x20is\x20invalid:\x20'+_0x5e9ae4)):(lastOrders=lastOrders['filter'](_0xd7a860=>_0xd7a860[_0x59095a(0x1ed)]!=_0x5e9ae4),await handleError(_0x2f7113,_0x59095a(0x1b3),_0x5e9ae4));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x59095a(0x233)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5888ab=config[_0x59095a(0x1b2)]==_0x59095a(0x240)?validateOrderTimeout*0x3c*0x3e8:config[_0x59095a(0x15e)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3f9dbb=_0x59095a;validateOrders(_0x3f9dbb(0x1fb));},_0x5888ab);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x59095a(0x15c),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config['headless']&&logHistory(_0x59095a(0x263),_0x59095a(0x19e));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x59095a(0x20d)]&&(config[_0x59095a(0x1b2)]==_0x59095a(0x240)?logHistory(_0x59095a(0x263),_0x59095a(0x150)):logHistory('error',_0x59095a(0x18b))));}}function persistOpenOrders(_0x3e79d8){const _0x15bba1=_0x274079,_0x437549={...config,'openOrders':_0x3e79d8};let _0xa11b66=dbConfig[_0x15bba1(0x15d)](_0x15bba1(0x174))[_0x15bba1(0x278)]({'botID':botID})['value']();_0xa11b66&&dbConfig[_0x15bba1(0x15d)](_0x15bba1(0x174))[_0x15bba1(0x278)]({'botID':botID})[_0x15bba1(0x1d5)](_0x437549)[_0x15bba1(0x186)]();}function restoreOrders(){const _0x44ec17=_0x274079;let _0xedbba3;config['openOrders']&&allOpenOrders[_0x44ec17(0x14e)](_0xfedf2a=>{const _0x326722=_0x44ec17,_0x36f03b=config[_0x326722(0x296)][_0x326722(0x278)](_0x4e96fc=>_0x4e96fc[_0x326722(0x1b1)]==_0xfedf2a['id']);_0x36f03b&&(lastOrders[_0x326722(0x202)](_0x36f03b),_0xedbba3=_0xfedf2a[_0x326722(0x256)]);});if(lastOrders[_0x44ec17(0x233)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x36b333=new Date()['getTime'](),_0x5093aa=config[_0x44ec17(0x1b2)]==_0x44ec17(0x240)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0xedbba3+_0x5093aa>_0x36b333){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x11f0e7=_0x44ec17;validateOrders(_0x11f0e7(0x1fb));},_0xedbba3+_0x5093aa-_0x36b333);}else validateOrders(_0x44ec17(0x1fb));}}async function sendMetricsTelegram(){const _0x23deb2=_0x274079;if(!coinsLoaded){process['send']({'telegrammsg':_0x23deb2(0x280)},_0xba441e=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0xb6c60a='';if(config['showname'])_0xb6c60a='<b>'+config[_0x23deb2(0x135)]+_0x23deb2(0x272);else _0xb6c60a='<b>Bot\x20'+botID+_0x23deb2(0x272);const _0x144101=getKPIs(_0x23deb2(0x203)),_0x517c26=getKPIs(_0x23deb2(0x2a0),config[_0x23deb2(0x2a0)]),_0x5df63e=getKPIs(_0x23deb2(0x139)),_0x1e1f7b=getKPIs(_0x23deb2(0x2a1),config['fiat']);_0xb6c60a+=_0x23deb2(0x27d),_0xb6c60a+=_0x144101['leftTxt']+_0x23deb2(0x1a1)+_0x144101[_0x23deb2(0x1c8)]+'\x0a',_0xb6c60a+=_0x144101['rightTxt']+':\x20'+_0x144101['change']+'%\x0a',_0xb6c60a+=_0x517c26[_0x23deb2(0x204)]+_0x23deb2(0x1a1)+_0x517c26[_0x23deb2(0x1c8)]+'\x0a',_0xb6c60a+=_0x517c26['rightTxt']+':\x20'+_0x517c26['change']+'%\x0a',_0xb6c60a+=_0x5df63e['leftTxt']+':\x20'+_0x5df63e[_0x23deb2(0x1c8)]+'\x20('+config[_0x23deb2(0x203)]+')\x0a',_0xb6c60a+=_0x5df63e[_0x23deb2(0x25c)]+':\x20'+_0x5df63e[_0x23deb2(0x192)]+'%\x20('+config['basecoin']+')\x0a',_0xb6c60a+=_0x1e1f7b[_0x23deb2(0x204)]+':\x20'+_0x1e1f7b['value']+'\x20('+config['fiat']+')\x0a',_0xb6c60a+=_0x1e1f7b[_0x23deb2(0x25c)]+':\x20'+_0x1e1f7b[_0x23deb2(0x192)]+_0x23deb2(0x236)+config[_0x23deb2(0x2a0)]+')\x0a',_0xb6c60a+=_0x23deb2(0x14d),process[_0x23deb2(0x21f)]({'telegrammsg':_0xb6c60a},_0x7acc06=>{});}async function sendPortfolioTelegram(){const _0x39f9f7=_0x274079;if(!coinsLoaded){process['send']({'telegrammsg':_0x39f9f7(0x280)},_0x37e3f9=>{});return;}let _0xf0af57='';if(config[_0x39f9f7(0x1c2)])_0xf0af57='<b>'+config[_0x39f9f7(0x135)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0xf0af57=_0x39f9f7(0x283)+botID+_0x39f9f7(0x28d);_0xf0af57+=_0x39f9f7(0x27d),_0xf0af57+=_0x39f9f7(0x158),_0xf0af57+=_0x39f9f7(0x29e),_0xf0af57+='-------------------------------\x0a',currentCoins['forEach'](_0x515a18=>{const _0x42cf05=_0x39f9f7;_0xf0af57+=_0x515a18[_0x42cf05(0x25f)][_0x42cf05(0x134)](0x7)+'|\x20'+formatPad(_0x515a18['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x515a18[_0x42cf05(0x1cf)],0x2,0x6)+'|\x20'+formatPad(_0x515a18[_0x42cf05(0x210)]*0x64,0x2,0x6)+'\x0a';}),_0xf0af57+=_0x39f9f7(0x14d),process[_0x39f9f7(0x21f)]({'telegrammsg':_0xf0af57},_0x141508=>{});}function formatPad(_0x3fd23d,_0x365539,_0x3a2699){const _0x4e9e43=_0x274079,_0x3dcae9=formatResultString(_0x3fd23d,_0x365539);return _0x3dcae9?_0x3dcae9[_0x4e9e43(0x17f)](_0x3a2699):''[_0x4e9e43(0x17f)](_0x3a2699);}function logHistory(_0x1a3d05,_0x6ef077,_0x32ed1c=''){const _0x2a1808=_0x274079;let _0x400fd2={'time':getTimeStamp(),'type':_0x1a3d05,'event':_0x6ef077};dbLogs[_0x2a1808(0x15d)]('logs')['push'](_0x400fd2)[_0x2a1808(0x186)]();if(_0x32ed1c=='')_0x32ed1c=_0x6ef077;proxyEmit('event',{'log':_0x400fd2,'summary':_0x32ed1c}),process[_0x2a1808(0x21f)]({'telegram':{..._0x400fd2,'botname':config[_0x2a1808(0x135)],'showname':config['showname']}},_0x49a9a8=>{}),logger['full'](''+_0x400fd2[_0x2a1808(0x229)]);}function emitHistory(_0x172edb={}){const _0x4751f3=_0x274079;Object['keys'](_0x172edb)[_0x4751f3(0x233)]==0x0&&(_0x172edb={'type':[_0x4751f3(0x1ea),_0x4751f3(0x229)],'event':'','page':0x1});if(_0x172edb[_0x4751f3(0x214)]['includes'](_0x4751f3(0x229)))_0x172edb[_0x4751f3(0x214)][_0x4751f3(0x173)](_0x172edb[_0x4751f3(0x214)][_0x4751f3(0x221)](_0x4751f3(0x229)),0x1,_0x4751f3(0x263),_0x4751f3(0x238),'success');if(dbLogs[_0x4751f3(0x199)](_0x4751f3(0x152))[_0x4751f3(0x1c8)]()){let _0x49f5b1=dbLogs[_0x4751f3(0x15d)](_0x4751f3(0x152))[_0x4751f3(0x1d9)](_0x40d5dd=>{const _0x537d07=_0x4751f3;if(_0x172edb['type'][_0x537d07(0x233)]==0x0)return![];else return _0x172edb[_0x537d07(0x214)][_0x537d07(0x1db)](_0x40d5dd[_0x537d07(0x214)]);})[_0x4751f3(0x1d9)](_0x5616df=>{const _0x426254=_0x4751f3;if(_0x172edb[_0x426254(0x229)]=='')return!![];else return _0x5616df[_0x426254(0x229)]['toLowerCase']()[_0x426254(0x1db)](_0x172edb[_0x426254(0x229)][_0x426254(0x29c)]());})[_0x4751f3(0x1d6)](_0x4751f3(0x136)),_0x120dea=_0x49f5b1['value']()[_0x4751f3(0x233)];_0x49f5b1=_0x49f5b1['reverse']()[_0x4751f3(0x142)]((_0x172edb[_0x4751f3(0x1b6)]-0x1)*logPageSize,_0x172edb[_0x4751f3(0x1b6)]*logPageSize-0x1)[_0x4751f3(0x13b)]()[_0x4751f3(0x1c8)](),proxyEmit(_0x4751f3(0x26c),{'logs':_0x49f5b1,'total':_0x120dea});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5d52fa){const _0x542754=_0x274079;if(dbLogs['has']('logs')[_0x542754(0x1c8)]()){const _0x4960ef=dbLogs[_0x542754(0x15d)](_0x542754(0x152))['sortBy'](_0x542754(0x136))[_0x542754(0x1d9)](_0x11027b=>{const _0x505849=_0x542754;return _0x11027b[_0x505849(0x214)]=='order';})[_0x542754(0x1c8)]();dbLogs[_0x542754(0x15d)](_0x542754(0x152))[_0x542754(0x1ef)]()['write'](),dbLogs['get']('logs')['assign'](_0x4960ef)[_0x542754(0x186)](),emitHistory(_0x5d52fa);}}async function pauseBot(_0x567cef=''){const _0x58f058=_0x274079,_0x1ba8f9=new Date()[_0x58f058(0x171)]();if(!lastErrorShown||_0x1ba8f9-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x1ba8f9;!lastBotPause?(lastBotPause=_0x1ba8f9,consecutivePauses=0x1):(_0x1ba8f9-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x58f058(0x21f)]({'stop':_0x58f058(0x1c6)},_0x55794b=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x58f058(0x171)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x567cef)_0x567cef+='\x20|\x20';logHistory(_0x58f058(0x263),_0x567cef+_0x58f058(0x27c)+pauseBotInterval/0xea60+_0x58f058(0x1ae)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x5b1222=_0x274079;process[_0x5b1222(0x21f)]({'stop':_0x5b1222(0x265)},_0x1cca6b=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x497aee,_0x5220b6){const _0x4c4594=_0x274079;if(_0x497aee[_0x4c4594(0x299)]()[_0x4c4594(0x1db)](_0x4c4594(0x169)))return logHistory('error',config[_0x4c4594(0x292)]+_0x4c4594(0x1c1)),![];else{if(_0x497aee[_0x4c4594(0x299)]()[_0x4c4594(0x1db)](_0x4c4594(0x289)))return logHistory(_0x4c4594(0x263),config['exchange']+_0x4c4594(0x232)),![];else{if(_0x497aee[_0x4c4594(0x299)]()['includes'](_0x4c4594(0x132)))return logHistory(_0x4c4594(0x263),config[_0x4c4594(0x292)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x4c4594(0x263),_0x4c4594(0x293)),![];else await handleError(_0x497aee,_0x5220b6);}}}async function handleError(_0x337b7d,_0x444be3,_0x5d7e8e=''){const _0x261ebc=_0x274079,_0xc10ca4=config['exchange']||'Exchange';if(_0x337b7d[_0x261ebc(0x299)]()[_0x261ebc(0x1db)](_0x261ebc(0x21c)))await pauseBot(config[_0x261ebc(0x292)]+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x337b7d['toString']()[_0x261ebc(0x1db)]('ExchangeNotAvailable'))await pauseBot(config[_0x261ebc(0x292)]+_0x261ebc(0x1cd));else{if(_0x337b7d[_0x261ebc(0x299)]()[_0x261ebc(0x1db)]('RequestTimeout'))await pauseBot(config[_0x261ebc(0x292)]+'\x20not\x20responding');else{if(_0x337b7d['toString']()[_0x261ebc(0x1db)](_0x261ebc(0x27f)))await pauseBot(config[_0x261ebc(0x292)]+'\x20closed\x20the\x20connection');else{if(_0x337b7d[_0x261ebc(0x299)]()[_0x261ebc(0x1db)](_0x261ebc(0x234)))logHistory(_0x261ebc(0x263),_0x444be3+_0x261ebc(0x196)),logHistory(_0x261ebc(0x263),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x337b7d['toString']()[_0x261ebc(0x1db)](_0x261ebc(0x153)))logHistory('error',_0x444be3+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x337b7d['toString']()[_0x261ebc(0x1db)](_0x261ebc(0x169)))logHistory('error',_0x444be3+_0x261ebc(0x183)+config[_0x261ebc(0x292)]+_0x261ebc(0x295)),logHistory(_0x261ebc(0x263),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x337b7d['toString']()[_0x261ebc(0x1db)](_0x261ebc(0x289)))logHistory(_0x261ebc(0x263),_0x444be3+_0x261ebc(0x183)+config[_0x261ebc(0x292)]+_0x261ebc(0x227)),logHistory('error',_0x261ebc(0x1a8)),await killBot();else{if(_0x337b7d['toString']()[_0x261ebc(0x1db)]('AuthenticationError'))logHistory(_0x261ebc(0x263),_0x444be3+_0x261ebc(0x183)+config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x261ebc(0x263),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0x337b7d['toString']()[_0x261ebc(0x1db)](_0x261ebc(0x290))?logHistory(_0x261ebc(0x263),_0x444be3+_0x261ebc(0x17c)+_0x5d7e8e):(logger[_0x261ebc(0x15a)](_0x444be3+_0x261ebc(0x180),_0x337b7d),await pauseBot(_0x261ebc(0x1ce)));}}}}}}}}}function formatResult(_0x35c324,_0x14f2c5){const _0x39be13=_0x274079;return parseFloat(_0x35c324[_0x39be13(0x21a)](_0x14f2c5));}function formatResultTruncate(_0x141739,_0x44ead3){const _0x1fc9ba=_0x274079;let _0x5934d6=formatResultString(_0x141739,0xa),_0x2f9c49=_0x5934d6[_0x1fc9ba(0x221)]('.');return _0x2f9c49!=-0x1&&(_0x5934d6=_0x5934d6[_0x1fc9ba(0x142)](0x0,_0x2f9c49+_0x44ead3+0x1)),Number(_0x5934d6);}function formatResultString(_0x45c883,_0x3db22b){const _0x5ae111=_0x274079;let _0x193969;if(!(''+_0x45c883)['includes']('e'))_0x193969=+(Math[_0x5ae111(0x2a7)](_0x45c883+'e+'+_0x3db22b)+'e-'+_0x3db22b);else{let _0x28bddf=(''+_0x45c883)[_0x5ae111(0x231)]('e'),_0x11a5e7='';+_0x28bddf[0x1]+_0x3db22b>0x0&&(_0x11a5e7='+'),_0x193969=+(Math[_0x5ae111(0x2a7)](+_0x28bddf[0x0]+'e'+_0x11a5e7+(+_0x28bddf[0x1]+_0x3db22b))+'e-'+_0x3db22b);}return Number(_0x193969)[_0x5ae111(0x21a)](_0x3db22b);}function getServerTime(){const _0x4996e5=_0x274079,_0x2e6f19=new Date();return _0x2e6f19[_0x4996e5(0x246)]()+'/'+(_0x2e6f19[_0x4996e5(0x252)]()+0x1)[_0x4996e5(0x299)]()['padStart'](0x2,'0')+'/'+_0x2e6f19[_0x4996e5(0x205)]()[_0x4996e5(0x299)]()[_0x4996e5(0x17f)](0x2,'0')+'\x20'+_0x2e6f19['getHours']()[_0x4996e5(0x299)]()['padStart'](0x2,'0')+':'+_0x2e6f19['getMinutes']()[_0x4996e5(0x299)]()[_0x4996e5(0x17f)](0x2,'0')+':'+_0x2e6f19[_0x4996e5(0x140)]()['toString']()[_0x4996e5(0x17f)](0x2,'0');}function getTimeStamp(){const _0x3cab43=_0x274079,_0x2f7e99=shiftedTime();return _0x2f7e99[_0x3cab43(0x246)]()+'/'+(_0x2f7e99[_0x3cab43(0x252)]()+0x1)[_0x3cab43(0x299)]()[_0x3cab43(0x17f)](0x2,'0')+'/'+_0x2f7e99['getDate']()[_0x3cab43(0x299)]()[_0x3cab43(0x17f)](0x2,'0')+'\x20'+_0x2f7e99['getHours']()[_0x3cab43(0x299)]()[_0x3cab43(0x17f)](0x2,'0')+':'+_0x2f7e99[_0x3cab43(0x222)]()[_0x3cab43(0x299)]()[_0x3cab43(0x17f)](0x2,'0')+':'+_0x2f7e99[_0x3cab43(0x140)]()[_0x3cab43(0x299)]()[_0x3cab43(0x17f)](0x2,'0');}function getDate(){const _0x5e0a7a=_0x274079,_0x2d6b27=shiftedTime();return _0x2d6b27[_0x5e0a7a(0x246)]()+'/'+(_0x2d6b27['getMonth']()+0x1)[_0x5e0a7a(0x299)]()[_0x5e0a7a(0x17f)](0x2,'0')+'/'+_0x2d6b27['getDate']()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x40d759=_0x274079,_0x5ddc7c=shiftedTime();return _0x5ddc7c['getHours']()['toString']()[_0x40d759(0x17f)](0x2,'0');}function sleep(_0x2161ad){return new Promise(_0x15cf2e=>setTimeout(_0x15cf2e,_0x2161ad));}function shiftedTime(){const _0xb4b083=_0x274079,_0x5c3ea8=new Date();let _0xeb9ee2=_0x5c3ea8;if(config&&config[_0xb4b083(0x1d2)]!==0x0)_0xeb9ee2=fns[_0xb4b083(0x291)](_0x5c3ea8,{'hours':config[_0xb4b083(0x1d2)]});return _0xeb9ee2;}function timer(_0x3743b4){const _0x3ed9f2=_0x274079,_0x116ba4=new Date();!lasttime?console['log'](_0x3ed9f2(0x22b),_0x3743b4,_0x116ba4):console[_0x3ed9f2(0x20e)]('timer:',_0x3743b4,(_0x116ba4-lasttime)/0x3e8),lasttime=_0x116ba4;}