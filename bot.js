const _0x2634e0=_0x1a6b;(function(_0x493e4b,_0x2508d8){const _0x766af0=_0x1a6b,_0x196cb6=_0x493e4b();while(!![]){try{const _0x1d678a=-parseInt(_0x766af0(0x267))/0x1+parseInt(_0x766af0(0x1e5))/0x2+-parseInt(_0x766af0(0x1f3))/0x3*(parseInt(_0x766af0(0x2eb))/0x4)+parseInt(_0x766af0(0x238))/0x5*(parseInt(_0x766af0(0x1f1))/0x6)+parseInt(_0x766af0(0x1fc))/0x7*(-parseInt(_0x766af0(0x287))/0x8)+-parseInt(_0x766af0(0x2cc))/0x9*(parseInt(_0x766af0(0x2ab))/0xa)+parseInt(_0x766af0(0x2bf))/0xb;if(_0x1d678a===_0x2508d8)break;else _0x196cb6['push'](_0x196cb6['shift']());}catch(_0x483dd8){_0x196cb6['push'](_0x196cb6['shift']());}}}(_0x3bf7,0x4c620));const _0x16b4b7=function(){let _0xb06fe6=!![];return function(_0xc34234,_0x5a162c){const _0x32e7ed=_0xb06fe6?function(){const _0x217bc7=_0x1a6b;if(_0x5a162c){const _0xcebf79=_0x5a162c[_0x217bc7(0x209)](_0xc34234,arguments);return _0x5a162c=null,_0xcebf79;}}:function(){};return _0xb06fe6=![],_0x32e7ed;};}(),_0x468320=_0x16b4b7(this,function(){const _0x24b51f=_0x1a6b;return _0x468320['toString']()['search']('(((.+)+)+)+$')[_0x24b51f(0x297)]()[_0x24b51f(0x28a)](_0x468320)[_0x24b51f(0x24e)](_0x24b51f(0x1ff));});_0x468320();'use strict';const ccxt=require('ccxt'),low=require(_0x2634e0(0x28f)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger}=require(_0x2634e0(0x221)),Crypt=require(_0x2634e0(0x28d))['Crypt'];let exchange,wsClient;global[_0x2634e0(0x244)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x2634e0(0x299))['version'],botID=process[_0x2634e0(0x1ee)][0x2]||_0x2634e0(0x212),pattern=/^[0-9]{3}$/;if(!pattern[_0x2634e0(0x2a1)](botID))return console['log'](_0x2634e0(0x278)+botID+_0x2634e0(0x27e)),process['exit'](0x1);const userID=process['argv'][0x3]||'',configpath=userID?_0x2634e0(0x23d)+userID+'/':_0x2634e0(0x23d);!fs['existsSync'](configpath)&&fs[_0x2634e0(0x282)](configpath);const configfile=configpath+_0x2634e0(0x232)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x2634e0(0x2d9),performancefile=configpath+_0x2634e0(0x232)+botID+_0x2634e0(0x261),coinresultsfile=configpath+'bot-'+botID+_0x2634e0(0x2cd),settingsfile=configpath+_0x2634e0(0x1fb),securefile=configpath+_0x2634e0(0x1f9),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2634e0(0x2cb)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2634e0(0x2cb)]({'data':[]})[_0x2634e0(0x20e)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2634e0(0x2cb)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2634e0(0x2cb)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x2634e0(0x2e7),'symbol':'BTC/EUR'},'usd':{'coin':_0x2634e0(0x24a),'symbol':_0x2634e0(0x208)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x2bc5a6)=>{},'debug':(..._0x5726d9)=>{},'notice':(..._0x630d79)=>{},'info':(..._0x44f79b)=>{},'warning':(..._0x1aad02)=>{},'error':async function(..._0x3f0b26){const _0x143f55=_0x2634e0,_0xc8563f=new Date()[_0x143f55(0x264)]();if(!lastErrorShown||_0xc8563f-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x143f55(0x264)](),logHistory('error',_0x143f55(0x2c0)+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available');let _0x40a5de='';if(_0x3f0b26[0x0])_0x40a5de+=_0x3f0b26[0x0];if(_0x3f0b26[0x1]&&_0x3f0b26[0x1][_0x143f55(0x2ac)]&&_0x3f0b26[0x1]['error'][_0x143f55(0x26f)])_0x40a5de+=_0x143f55(0x2d1)+_0x3f0b26[0x1][_0x143f55(0x2ac)][_0x143f55(0x26f)];logging(_0x143f55(0x2c0)+consecutivePauses+_0x143f55(0x27d),''+_0x40a5de),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':'sha256','rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings[_0x2634e0(0x2e6)]!=config[_0x2634e0(0x2e6)]&&updateTimeshift(settings[_0x2634e0(0x2e6)]);process[_0x2634e0(0x224)]({'started':'running'}),initializeProcessListeners();function proxyEmit(_0x344f1c,_0x42959c=null){const _0x480bab=_0x2634e0;process[_0x480bab(0x224)]({'function':_0x344f1c,'args':_0x42959c});}function initializeProcessListeners(){const _0x4872ec=_0x2634e0;process['on'](_0x4872ec(0x26f),_0x2ce755=>{const _0xa8d31f=_0x4872ec;switch(Object[_0xa8d31f(0x1fd)](_0x2ce755)[0x0]){case'timeshift':_0x2ce755[_0xa8d31f(0x2e6)]!=undefined&&(settings[_0xa8d31f(0x2e6)]=_0x2ce755[_0xa8d31f(0x2e6)],updateTimeshift(settings[_0xa8d31f(0x2e6)]));break;case _0xa8d31f(0x2de):switch(_0x2ce755['function']){case _0xa8d31f(0x2d8):initclient();break;case'emitHistory':emitHistory(_0x2ce755[_0xa8d31f(0x1ef)]);break;case _0xa8d31f(0x256):getPortfolio(_0x2ce755[_0xa8d31f(0x1ef)]);break;case'storeConfiguration':storeConfiguration(_0x2ce755[_0xa8d31f(0x1ef)]);break;case _0xa8d31f(0x2b1):storeHeadless(_0x2ce755['args']);break;case'getStartingBalances':getStartingBalances();break;case'placeOrder':placeOrder(_0x2ce755['args']);break;case _0xa8d31f(0x2a9):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x43bc13=_0x2634e0;if(pidBalances)clearTimeout(pidBalances);if(config[_0x43bc13(0x2b3)]!=''){await initExchange(config[_0x43bc13(0x2b3)],config[_0x43bc13(0x279)]);let _0x3fda8b=await loadSymbols();_0x3fda8b&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x2a16a7,_0x300ae9){const _0x49864a=_0x2634e0,_0x40dd68=ccxt[config['exchange']];let _0x937231;switch(config['exchange']){case _0x49864a(0x221):_0x937231=_0x49864a(0x20a);break;case'binanceus':_0x937231=_0x49864a(0x2dd);break;default:_0x937231=_0x49864a(0x20a);}exchange=new _0x40dd68({'apiKey':_0x2a16a7,'secret':_0x300ae9,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x2a16a7,'api_secret':_0x300ae9,'beautify':!![],'wsUrl':_0x937231},logger),config[_0x49864a(0x273)]==_0x49864a(0x2df)&&(stablecoins={'eur':{'coin':_0x49864a(0x25f),'symbol':'BTC/BUSD'},'usd':{'coin':_0x49864a(0x24a),'symbol':_0x49864a(0x208)}});}async function loadSymbols(){const _0x23f65f=_0x2634e0;let _0x38d7c5;try{markets=await exchange[_0x23f65f(0x2bb)]();const _0x57d858=[_0x23f65f(0x2e2),_0x23f65f(0x226),_0x23f65f(0x2a0)];allSymbols=exchange[_0x23f65f(0x211)][_0x23f65f(0x27c)](_0x97cdc9=>{const _0x15accd=_0x23f65f;let _0x24feb3=![];return _0x57d858[_0x15accd(0x22b)](_0x4edd7=>{const _0x3c9e8c=_0x15accd;if(_0x97cdc9[_0x3c9e8c(0x25e)](_0x4edd7))_0x24feb3=!![];}),!_0x24feb3;}),_0x38d7c5=!![];}catch(_0x188621){await handleError(_0x188621,'loadSymbols()'),_0x38d7c5=![];}return _0x38d7c5;}async function initbot(){const _0x5e151e=_0x2634e0;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x15b176=dbCoinResults['get'](_0x5e151e(0x2c6))['value']();if(_0x15b176['length']==0x0)await resetCoinResults();}async function initclient(){const _0x4a8113=_0x2634e0;proxyEmit(_0x4a8113(0x291),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4a8113(0x24b),{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x5b8830=_0x2634e0;wsinitialized=![];ws1&&(ws1['forEach'](_0x4d9a93=>{try{wsClient['closeWs'](_0x4d9a93);}catch(_0x2e4a9b){}}),ws1=[]);if(ws2){try{wsClient[_0x5b8830(0x1f8)](ws2);}catch(_0x20bc77){}ws2=null;}}async function initws(){const _0x585e73=_0x2634e0;cleanws();let _0xeb1205=[];currentCoins[_0x585e73(0x22b)](_0x31a8e3=>{const _0x48c234=_0x585e73;if(_0x31a8e3[_0x48c234(0x21c)]!=config[_0x48c234(0x2af)])_0xeb1205['push'](noslash(_0x31a8e3[_0x48c234(0x218)]));});if(!_0xeb1205[_0x585e73(0x25e)](stablecoins['eur']['coin']))_0xeb1205[_0x585e73(0x1ec)](stablecoins[_0x585e73(0x29b)]['coin']);if(!_0xeb1205[_0x585e73(0x25e)](stablecoins[_0x585e73(0x2e5)][_0x585e73(0x21c)]))_0xeb1205[_0x585e73(0x1ec)](stablecoins[_0x585e73(0x2e5)][_0x585e73(0x21c)]);if(!_0xeb1205[_0x585e73(0x25e)]('BNB'+config['basecoin']))_0xeb1205['push'](_0x585e73(0x1f4)+config[_0x585e73(0x2af)]);try{_0xeb1205[_0x585e73(0x22b)]((_0x33a957,_0x43a451)=>{ws1[_0x43a451]=wsClient['subscribeSpotKline'](_0x33a957,'1m');}),ws2=wsClient[_0x585e73(0x2b4)](),wsClient['on'](_0x585e73(0x28b),_0x41626c=>{const _0x56603c=_0x585e73;if(!Array[_0x56603c(0x270)](_0x41626c)&&!_0x41626c['wsKey'][_0x56603c(0x25e)](_0x56603c(0x2d0))){if(_0x41626c[_0x56603c(0x2bd)]===_0x56603c(0x2d6)){global[_0x56603c(0x244)][_0x41626c[_0x56603c(0x2d6)][_0x56603c(0x218)]]=_0x41626c[_0x56603c(0x2d6)][_0x56603c(0x1f5)];return;}}else{if(!Array[_0x56603c(0x270)](_0x41626c)&&_0x41626c[_0x56603c(0x201)][_0x56603c(0x25e)](_0x56603c(0x2d0))){if(_0x41626c[_0x56603c(0x2e1)]['includes'](_0x56603c(0x2ce))){updateNumberCoins(_0x41626c);return;}}}}),wsClient['on'](_0x585e73(0x268),async _0x18c64b=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x58bc19){await handleError(_0x58bc19,_0x585e73(0x2cf));}let _0x10a1fa,_0x3fa4e2=0x0;loading[_0x585e73(0x257)]=[];let _0x3fa655=0x0;currentCoins[_0x585e73(0x22b)](_0x1d6e8b=>{const _0x30fe3a=_0x585e73;if(_0x1d6e8b[_0x30fe3a(0x21c)]!=config[_0x30fe3a(0x2af)])loading[_0x30fe3a(0x257)][_0x30fe3a(0x1ec)](_0x1d6e8b['symbol']);}),loadingCanceled=![];while(_0x10a1fa!=currentCoins[_0x585e73(0x2e4)]-0x1){_0x10a1fa=0x0,currentCoins[_0x585e73(0x22b)](_0x12f223=>{const _0x162fc7=_0x585e73;_0x12f223[_0x162fc7(0x21c)]!=config['basecoin']&&global[_0x162fc7(0x244)][noslash(_0x12f223['symbol'])]&&(loading['remainingSymbols']=loading[_0x162fc7(0x257)][_0x162fc7(0x27c)](_0x543967=>_0x543967!=_0x12f223[_0x162fc7(0x218)]),_0x10a1fa++);}),loading[_0x585e73(0x2be)]=Math['round'](_0x10a1fa/(currentCoins[_0x585e73(0x2e4)]-0x1)*0x64);_0x3fa655>0x1e*0x5&&(loading[_0x585e73(0x21f)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x585e73(0x250)]=!![],emitLoadingProgress();break;}else _0x10a1fa!=_0x3fa4e2&&(_0x3fa4e2=_0x10a1fa,emitLoadingProgress()),_0x3fa655++,await sleep(0xc8);}if(_0x10a1fa==currentCoins[_0x585e73(0x2e4)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x57b429=_0x2634e0;proxyEmit(_0x57b429(0x21b),loading);}async function getFiat(){const _0x5350e2=_0x2634e0;let _0x282dc1=0x0,_0x441302=0x0;try{_0x282dc1=global['ticker'][stablecoins[_0x5350e2(0x29b)]['coin']],_0x441302=global[_0x5350e2(0x244)][stablecoins[_0x5350e2(0x2e5)][_0x5350e2(0x21c)]];}catch(_0x2f7a38){await handleError(_0x2f7a38,'getFiat()');}return{'eur':Number(_0x282dc1),'usd':Number(_0x441302)};}async function setStartDatePerformance(_0x448275){const _0x64a782=_0x2634e0,_0x209bbf=fns['format'](new Date(_0x448275[_0x64a782(0x207)]),_0x64a782(0x22a));let _0x10de24=[];_0x10de24[stablecoins[_0x64a782(0x29b)][_0x64a782(0x21c)]]=await getCloses(stablecoins[_0x64a782(0x29b)][_0x64a782(0x218)],new Date(_0x448275[_0x64a782(0x207)]),0x1),_0x10de24[stablecoins[_0x64a782(0x2e5)]['coin']]=await getCloses(stablecoins[_0x64a782(0x2e5)][_0x64a782(0x218)],new Date(_0x448275[_0x64a782(0x207)]),0x1);let _0x517c27,_0x2a4a35=[];_0x448275['portfolio']['forEach'](_0x2037b8=>{const _0x21374a=_0x64a782;!_0x2037b8[_0x21374a(0x26c)]&&_0x2a4a35[_0x21374a(0x1ec)]({'coin':_0x2037b8[_0x21374a(0x21c)],'number':_0x2037b8['startnumber'],'price':_0x2037b8[_0x21374a(0x240)]});}),_0x517c27={'date':_0x209bbf,'eur':_0x10de24[stablecoins[_0x64a782(0x29b)][_0x64a782(0x21c)]][0x0],'usd':_0x10de24[stablecoins[_0x64a782(0x2e5)][_0x64a782(0x21c)]][0x0],'coins':_0x2a4a35};let _0x214149=dbPerformance['get']('data')[_0x64a782(0x237)]({'date':_0x209bbf})[_0x64a782(0x23a)]();_0x214149?dbPerformance[_0x64a782(0x26d)](_0x64a782(0x234))['find']({'date':_0x209bbf})['assign'](_0x517c27)[_0x64a782(0x20e)]():dbPerformance[_0x64a782(0x26d)]('data')[_0x64a782(0x1ec)](_0x517c27)[_0x64a782(0x20e)](),_0x214149=dbPerformance[_0x64a782(0x26d)](_0x64a782(0x234))[_0x64a782(0x298)](_0x64a782(0x2a3))[_0x64a782(0x23a)](),_0x214149[_0x64a782(0x22b)](_0x5d0386=>{const _0x3e18ef=_0x64a782;_0x5d0386[_0x3e18ef(0x2a3)]<_0x209bbf&&dbPerformance[_0x3e18ef(0x26d)](_0x3e18ef(0x234))['remove']({'date':_0x5d0386[_0x3e18ef(0x2a3)]})['write']();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x5e2bf7){const _0x2d46d2=_0x2634e0;let _0x3a015d,_0x581253=[];logHistory(_0x2d46d2(0x1e9),_0x2d46d2(0x25a)),_0x5e2bf7[_0x2d46d2(0x203)]['forEach'](_0x3b4dc2=>{const _0x23fa60=_0x2d46d2;if(_0x3b4dc2[_0x23fa60(0x21c)]!=config[_0x23fa60(0x2af)]&&!_0x3b4dc2['excluded'])_0x581253[_0x23fa60(0x1ec)]({'coin':_0x3b4dc2[_0x23fa60(0x21c)],'symbol':_0x3b4dc2[_0x23fa60(0x218)]});});let _0x330dce=[];try{const _0x12f596=fns[_0x2d46d2(0x204)](fns[_0x2d46d2(0x222)](_0x5e2bf7[_0x2d46d2(0x207)][_0x2d46d2(0x285)](/\//g,'-')),_0x2d46d2(0x2ea));for(const _0x20de2f of _0x581253){if(_0x20de2f[_0x2d46d2(0x21c)]!=config[_0x2d46d2(0x2af)])_0x3a015d=await exchange[_0x2d46d2(0x245)](_0x20de2f['symbol'],Date[_0x2d46d2(0x20f)](_0x12f596));_0x3a015d['forEach'](_0x461bc=>{const _0x5814b2=_0x2d46d2,_0xb6166c=_0x20de2f['symbol'][_0x5814b2(0x25e)](config[_0x5814b2(0x2af)]+'/'),_0x32cb3e=fns[_0x5814b2(0x204)](fns['parseISO'](_0x461bc[_0x5814b2(0x253)]),_0x5814b2(0x2e3)),_0x557134=fns[_0x5814b2(0x204)](fns[_0x5814b2(0x222)](_0x461bc[_0x5814b2(0x253)]),_0x5814b2(0x22a));let _0x2cea26;if(_0x461bc[_0x5814b2(0x272)]==_0x5814b2(0x24f)&&_0xb6166c==![])_0x2cea26=_0x461bc[_0x5814b2(0x206)];if(_0x461bc[_0x5814b2(0x272)]=='buy'&&_0xb6166c==!![])_0x2cea26=-_0x461bc['amount']*_0x461bc[_0x5814b2(0x28c)];if(_0x461bc[_0x5814b2(0x272)]=='sell'&&_0xb6166c==![])_0x2cea26=-_0x461bc['amount'];if(_0x461bc[_0x5814b2(0x272)]==_0x5814b2(0x24d)&&_0xb6166c==!![])_0x2cea26=_0x461bc['amount']*_0x461bc['price'];_0x330dce[_0x5814b2(0x1ec)]({'timestamp':_0x32cb3e,'date':_0x557134,'coin':_0x20de2f[_0x5814b2(0x21c)],'symbol':_0x20de2f[_0x5814b2(0x218)],'type':_0x461bc[_0x5814b2(0x28e)],'side':_0x461bc[_0x5814b2(0x272)],'reverse':_0xb6166c,'amount':formatResult(_0x461bc[_0x5814b2(0x288)],0x8),'filled':formatResult(_0x461bc['filled'],0x8),'coinamount':formatResult(_0x2cea26,0x8),'price':formatResult(_0x461bc[_0x5814b2(0x28c)],0x8)});let _0x3034c8;if(_0x461bc[_0x5814b2(0x272)]=='buy'&&_0xb6166c==![])_0x3034c8=-_0x461bc[_0x5814b2(0x206)]*_0x461bc['price'];if(_0x461bc[_0x5814b2(0x272)]==_0x5814b2(0x24f)&&_0xb6166c==!![])_0x3034c8=_0x461bc['amount'];if(_0x461bc[_0x5814b2(0x272)]=='sell'&&_0xb6166c==![])_0x3034c8=_0x461bc[_0x5814b2(0x206)]*_0x461bc['price'];if(_0x461bc[_0x5814b2(0x272)]==_0x5814b2(0x24d)&&_0xb6166c==!![])_0x3034c8=-_0x461bc[_0x5814b2(0x206)];_0x330dce[_0x5814b2(0x1ec)]({'date':_0x557134,'coin':config[_0x5814b2(0x2af)],'coinamount':formatResult(_0x3034c8,0x8)});});}_0x330dce[_0x2d46d2(0x260)]((_0x26f295,_0x597ca3)=>_0x26f295[_0x2d46d2(0x27f)]>_0x597ca3[_0x2d46d2(0x27f)]?0x1:_0x597ca3[_0x2d46d2(0x27f)]>_0x26f295[_0x2d46d2(0x27f)]?-0x1:0x0),dbLogs[_0x2d46d2(0x26d)](_0x2d46d2(0x21e))['remove']()[_0x2d46d2(0x20e)](),_0x330dce[_0x2d46d2(0x22b)](_0x307c71=>{const _0x54cc7c=_0x2d46d2;let _0x14bad7;_0x307c71[_0x54cc7c(0x21c)]!=config[_0x54cc7c(0x2af)]&&(_0x14bad7={'time':_0x307c71[_0x54cc7c(0x27f)],'type':_0x54cc7c(0x217),'event':_0x54cc7c(0x228)+_0x307c71['symbol']+'\x20'+_0x307c71[_0x54cc7c(0x272)]+'\x20#'+_0x307c71[_0x54cc7c(0x206)]+'\x20@'+_0x307c71[_0x54cc7c(0x28c)]},dbLogs[_0x54cc7c(0x26d)]('logs')[_0x54cc7c(0x1ec)](_0x14bad7)[_0x54cc7c(0x20e)]());});const _0x2261b1=fns['eachDayOfInterval']({'start':new Date(_0x5e2bf7[_0x2d46d2(0x207)]),'end':new Date()})[_0x2d46d2(0x29c)](_0x561ced=>fns[_0x2d46d2(0x204)](_0x561ced,'yyyy/MM/dd'));let _0x521f64=[];_0x5e2bf7[_0x2d46d2(0x203)][_0x2d46d2(0x22b)](_0x4968c4=>{const _0x5c73fb=_0x2d46d2;if(!_0x4968c4[_0x5c73fb(0x26c)]){_0x521f64[_0x4968c4[_0x5c73fb(0x21c)]]=[];let _0x557262=_0x4968c4[_0x5c73fb(0x2e9)];_0x2261b1[_0x5c73fb(0x22b)]((_0x421d8d,_0x38f06e)=>{const _0x17e09c=_0x5c73fb;let _0xc58f90=_0x330dce[_0x17e09c(0x27c)](_0x488c6e=>_0x488c6e['coin']==_0x4968c4['coin']&&_0x488c6e['date']==_0x421d8d);if(_0xc58f90[_0x17e09c(0x2e4)]!=0x0){let _0x509618=_0xc58f90[_0x17e09c(0x2a7)]((_0x34ed1c,_0x507f6c)=>{const _0x14704b=_0x17e09c;return _0x34ed1c+=_0x507f6c[_0x14704b(0x2ad)],_0x34ed1c;},0x0);_0x557262+=_0x509618;}_0x521f64[_0x4968c4[_0x17e09c(0x21c)]][_0x421d8d]=_0x557262;});}});const _0x44e828=[..._0x581253];_0x44e828[_0x2d46d2(0x1ec)]({'coin':stablecoins[_0x2d46d2(0x29b)][_0x2d46d2(0x21c)],'symbol':stablecoins[_0x2d46d2(0x29b)][_0x2d46d2(0x218)]}),_0x44e828[_0x2d46d2(0x1ec)]({'coin':stablecoins[_0x2d46d2(0x2e5)][_0x2d46d2(0x21c)],'symbol':stablecoins['usd'][_0x2d46d2(0x218)]});let _0x30abc9=[];for(const _0xc8e9df of _0x44e828){_0x30abc9[_0xc8e9df[_0x2d46d2(0x21c)]]=await getCloses(_0xc8e9df[_0x2d46d2(0x218)],new Date(_0x5e2bf7[_0x2d46d2(0x207)]));}dbPerformance[_0x2d46d2(0x26d)](_0x2d46d2(0x234))[_0x2d46d2(0x2a5)]()[_0x2d46d2(0x20e)](),_0x2261b1[_0x2d46d2(0x22b)]((_0x31900a,_0x57b927)=>{const _0xdab78b=_0x2d46d2;let _0x3e0fd3,_0x500bad=[];_0x57b927==0x0?(_0x5e2bf7['portfolio']['forEach'](_0x267639=>{const _0xd2519f=_0x1a6b;!_0x267639['excluded']&&_0x500bad[_0xd2519f(0x1ec)]({'coin':_0x267639[_0xd2519f(0x21c)],'number':_0x267639[_0xd2519f(0x2e9)],'price':_0x267639[_0xd2519f(0x240)]});}),_0x3e0fd3={'date':_0x31900a,'eur':_0x30abc9[stablecoins['eur'][_0xdab78b(0x21c)]][_0x57b927],'usd':_0x30abc9[stablecoins[_0xdab78b(0x2e5)][_0xdab78b(0x21c)]][_0x57b927],'coins':_0x500bad}):(_0x5e2bf7['portfolio'][_0xdab78b(0x22b)](_0x47dd53=>{const _0xa89427=_0xdab78b;!_0x47dd53['excluded']&&_0x500bad[_0xa89427(0x1ec)]({'coin':_0x47dd53['coin'],'number':_0x521f64[_0x47dd53['coin']][_0x31900a],'price':_0x47dd53['coin']==config['basecoin']?0x1:_0x30abc9[_0x47dd53[_0xa89427(0x21c)]][_0x57b927]});}),_0x3e0fd3={'date':_0x31900a,'eur':_0x30abc9[stablecoins['eur'][_0xdab78b(0x21c)]][_0x57b927],'usd':_0x30abc9[stablecoins[_0xdab78b(0x2e5)][_0xdab78b(0x21c)]][_0x57b927],'coins':_0x500bad}),dbPerformance[_0xdab78b(0x26d)]('data')[_0xdab78b(0x1ec)](_0x3e0fd3)[_0xdab78b(0x20e)]();}),emitPerformance(),await resetCoinResults();for(let _0x1cd6ef of _0x330dce){_0x1cd6ef[_0x2d46d2(0x21c)]!=config['basecoin']&&await updateCoinResults(_0x1cd6ef);}logHistory('success',_0x2d46d2(0x21a));}catch(_0x977437){await handleError(_0x977437,'recreateHistory()');}}async function getCloses(_0x63022c,_0xe29ec7,_0x471912=undefined){const _0x255b75=_0x2634e0,_0x19648c='1d';let _0xedb020,_0x1e8d2b;const _0x162bd6=fns[_0x255b75(0x26b)](new Date(),_0xe29ec7)+0x1;try{const _0x5bc965=exchange[_0x255b75(0x27a)]()-_0x162bd6*0x18*0xe10*0x3e8;_0xedb020=await exchange['fetchOHLCV'](_0x63022c,_0x19648c,_0x5bc965,_0x471912),_0x1e8d2b=await exchange[_0x255b75(0x25b)](_0x63022c);}catch(_0x42ee8f){await handleError(_0x42ee8f,_0x255b75(0x1eb));}let _0xc7d3ed=ohlcvToCloses(_0xedb020);return _0xc7d3ed[_0x255b75(0x1ec)](_0x1e8d2b[_0x63022c][_0x255b75(0x254)]),_0xc7d3ed;}function ohlcvToCloses(_0x571faa){let _0x45cb3f=[];return _0x571faa['forEach'](function(_0x1feeb3){_0x45cb3f['push'](_0x1feeb3[0x4]);}),_0x45cb3f;}function getConfiguration(_0x1d8319){const _0x50a9f2=_0x2634e0;let _0x28a515=dbConfig[_0x50a9f2(0x26d)](_0x50a9f2(0x2dc))[_0x50a9f2(0x237)]({'botID':_0x1d8319})[_0x50a9f2(0x23a)]();if(_0x28a515){let _0x318292=![];!_0x28a515[_0x50a9f2(0x273)]&&(_0x28a515={..._0x28a515,'exchange':'binance'},_0x318292=!![]),!_0x28a515[_0x50a9f2(0x2af)]&&(_0x28a515={..._0x28a515,'basecoin':_0x50a9f2(0x2a6)},_0x318292=!![]),!_0x28a515[_0x50a9f2(0x1f7)]&&(_0x28a515={..._0x28a515,'ordertype':'market'},_0x318292=!![]),!_0x28a515[_0x50a9f2(0x21f)]&&(_0x28a515={..._0x28a515,'timeout':0x14},_0x318292=!![]),!_0x28a515['emojibuy']&&(_0x28a515={..._0x28a515,'emojibuy':''},_0x318292=!![]),!_0x28a515[_0x50a9f2(0x22e)]&&(_0x28a515={..._0x28a515,'emojisell':''},_0x318292=!![]),!_0x28a515[_0x50a9f2(0x265)]&&(_0x28a515={..._0x28a515,'showname':![]},_0x318292=!![]),_0x318292&&(_0x28a515={'botID':_0x28a515[_0x50a9f2(0x284)],'exchange':_0x28a515['exchange'],'apiKey':_0x28a515[_0x50a9f2(0x2b3)],'apiSecret':_0x28a515['apiSecret'],'basecoin':_0x28a515['basecoin'],'botname':_0x28a515[_0x50a9f2(0x25c)],'showname':_0x28a515[_0x50a9f2(0x265)],'threshold':_0x28a515[_0x50a9f2(0x239)],'ordertype':_0x28a515['ordertype'],'timeout':_0x28a515[_0x50a9f2(0x21f)],'startdate':_0x28a515[_0x50a9f2(0x207)],'recreate':_0x28a515['recreate'],'timeshift':_0x28a515['timeshift'],'headless':_0x28a515[_0x50a9f2(0x277)],'cooldown':_0x28a515['cooldown'],'emojibuy':_0x28a515['emojibuy'],'emojisell':_0x28a515[_0x50a9f2(0x22e)],'portfolio':_0x28a515[_0x50a9f2(0x203)]},dbConfig[_0x50a9f2(0x26d)]('bot')[_0x50a9f2(0x2a5)]()[_0x50a9f2(0x20e)](),dbConfig[_0x50a9f2(0x26d)]('bot')[_0x50a9f2(0x1ec)](_0x28a515)[_0x50a9f2(0x20e)]());}else _0x28a515={'botID':_0x1d8319,'exchange':_0x50a9f2(0x221),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x50a9f2(0x283)+_0x1d8319,'showname':![],'threshold':'3','ordertype':_0x50a9f2(0x289),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x50a9f2(0x2e6)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x28a515;}function emittedConfiguration(){const _0x57b6f0=_0x2634e0;let _0x34ff5d;return config[_0x57b6f0(0x2b3)]==''?_0x34ff5d=config:_0x34ff5d={...config,'apiKey':_0x57b6f0(0x215),'apiSecret':_0x57b6f0(0x215)},_0x34ff5d;}function getSettings(){const _0x51c171=_0x2634e0;return dbSettings['get']('settings')[_0x51c171(0x23a)]();}function getSecure(){const _0x142d33=_0x2634e0;return dbSecure[_0x142d33(0x26d)](_0x142d33(0x251))[_0x142d33(0x23a)]()||{};}function updateTimeshift(_0x185d99){const _0x215b24=_0x2634e0;let _0x4ca5dc=dbConfig[_0x215b24(0x26d)](_0x215b24(0x2dc))['find']({'botID':botID})[_0x215b24(0x23a)]();_0x4ca5dc&&dbConfig[_0x215b24(0x26d)](_0x215b24(0x2dc))['find']({'botID':botID})[_0x215b24(0x25d)]({'timeshift':_0x185d99})[_0x215b24(0x20e)](),config['timeshift']=_0x185d99,proxyEmit(_0x215b24(0x291),emittedConfiguration());}async function storeConfiguration(_0x10b3df){const _0x328f47=_0x2634e0;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x345e48=dbConfig[_0x328f47(0x26d)]('bot')[_0x328f47(0x237)]({'botID':botID})[_0x328f47(0x23a)]();_0x10b3df={..._0x10b3df,'apiKey':crypt[_0x328f47(0x242)](secure[_0x328f47(0x2c4)],_0x10b3df['apiKey'])['message'],'apiSecret':crypt[_0x328f47(0x242)](secure['privateKey'],_0x10b3df[_0x328f47(0x279)])[_0x328f47(0x26f)]};if(_0x345e48){if(_0x10b3df[_0x328f47(0x2b3)]==_0x328f47(0x215))_0x10b3df['apiKey']=config[_0x328f47(0x2b3)];if(_0x10b3df[_0x328f47(0x279)]==_0x328f47(0x215))_0x10b3df[_0x328f47(0x279)]=config[_0x328f47(0x279)];dbConfig[_0x328f47(0x26d)](_0x328f47(0x2dc))[_0x328f47(0x237)]({'botID':botID})[_0x328f47(0x25d)](_0x10b3df)[_0x328f47(0x20e)]();}else dbConfig[_0x328f47(0x26d)](_0x328f47(0x2dc))[_0x328f47(0x1ec)](_0x10b3df)[_0x328f47(0x20e)](),process[_0x328f47(0x224)]({'status':_0x328f47(0x281),'live':_0x328f47(0x200)});config={..._0x10b3df};if(config['recreate'])await recreateHistory(config);else await setStartDatePerformance(config);process[_0x328f47(0x224)]({'botname':_0x10b3df[_0x328f47(0x25c)]}),proxyEmit(_0x328f47(0x249)),reset();}async function storeHeadless(_0xd6bcc){const _0x256896=_0x2634e0,_0x3f7874={...config,'headless':_0xd6bcc[_0x256896(0x277)]};let _0x99601c=dbConfig[_0x256896(0x26d)](_0x256896(0x2dc))['find']({'botID':botID})[_0x256896(0x23a)]();_0x99601c&&dbConfig[_0x256896(0x26d)](_0x256896(0x2dc))[_0x256896(0x237)]({'botID':botID})[_0x256896(0x25d)](_0x3f7874)[_0x256896(0x20e)](),config={..._0x3f7874},proxyEmit(_0x256896(0x291),emittedConfiguration());}function noslash(_0xc313fd){return _0xc313fd['replace']('/','');}function updateNumberCoins(_0x40f5a2){const _0xbf02e3=_0x2634e0;_0x40f5a2[_0xbf02e3(0x2bd)]&&_0x40f5a2[_0xbf02e3(0x2bd)]==_0xbf02e3(0x26a)&&_0x40f5a2[_0xbf02e3(0x24b)][_0xbf02e3(0x22b)](_0x53111a=>{const _0x52fe7a=_0xbf02e3;let _0x51d11b=currentCoins[_0x52fe7a(0x237)](_0x278231=>_0x278231[_0x52fe7a(0x21c)]==_0x53111a[_0x52fe7a(0x1f0)]),_0xe14622=config[_0x52fe7a(0x203)][_0x52fe7a(0x237)](_0x3cfa2=>_0x3cfa2[_0x52fe7a(0x21c)]==_0x53111a[_0x52fe7a(0x1f0)]);if(_0x51d11b&&_0xe14622)_0x51d11b[_0x52fe7a(0x23f)]=Math['max'](Number(_0x53111a['availableBalance'])+(_0xe14622[_0x52fe7a(0x230)]||0x0),0x0);});if(_0x40f5a2[_0xbf02e3(0x2bd)]&&_0x40f5a2[_0xbf02e3(0x2bd)]==_0xbf02e3(0x2d2)){if(_0x40f5a2['orderType']=='LIMIT'&&_0x40f5a2[_0xbf02e3(0x220)]==_0xbf02e3(0x294)){if(lastOrders)lastOrders[_0xbf02e3(0x22b)](_0x11f105=>{const _0xcbfb28=_0xbf02e3;if(_0x11f105['orderId']==_0x40f5a2['orderId']){if(_0x11f105[_0xcbfb28(0x22f)])_0x11f105['filled']=_0x40f5a2['accumulatedQuantity']*_0x11f105['price'];else _0x11f105[_0xcbfb28(0x288)]=_0x40f5a2['accumulatedQuantity'];}});}}}async function getCoins(_0x4cc8aa=!![],_0x5a075d=config[_0x2634e0(0x2af)]){const _0x5a3ef1=_0x2634e0;let _0x34e1e6,_0x3c655f=[],_0x32635b=[],_0x11a50c=[];try{_0x34e1e6=await exchange[_0x5a3ef1(0x2da)](),mybalances=_0x34e1e6['total'];if(!_0x4cc8aa)for(const [_0x1b956b,_0x2e25b7]of Object[_0x5a3ef1(0x276)](mybalances)){_0x11a50c['push'](_0x1b956b);}else config[_0x5a3ef1(0x203)][_0x5a3ef1(0x22b)](_0xf4b581=>{const _0x490ceb=_0x5a3ef1;if(!_0xf4b581[_0x490ceb(0x26c)])_0x11a50c['push'](_0xf4b581[_0x490ceb(0x21c)]);});if(_0x5a075d=='')for(const [_0x1d35f3,_0x342583]of Object[_0x5a3ef1(0x276)](mybalances)){_0x342583['toString']()!=0x0&&_0x32635b['push']({'coin':_0x1d35f3});}else for(const [_0x233b5e,_0x5d3a13]of Object[_0x5a3ef1(0x276)](mybalances)){if(_0x11a50c[_0x5a3ef1(0x25e)](_0x233b5e)){const _0x16312e=config[_0x5a3ef1(0x203)][_0x5a3ef1(0x237)](_0x3ea1b5=>_0x3ea1b5[_0x5a3ef1(0x21c)]==_0x233b5e);if((_0x5d3a13[_0x5a3ef1(0x297)]()!=0x0||_0x16312e)&&(allSymbols[_0x5a3ef1(0x25e)](_0x233b5e+'/'+_0x5a075d)||_0x233b5e==_0x5a075d))_0x32635b['push']({'coin':_0x233b5e,'symbol':_0x233b5e+'/'+_0x5a075d,'reverse':![],'number':Math[_0x5a3ef1(0x26e)](_0x5d3a13+(_0x16312e&&_0x16312e[_0x5a3ef1(0x230)]||0x0),0x0)}),_0x233b5e!=_0x5a075d&&_0x3c655f[_0x5a3ef1(0x1ec)](_0x233b5e+'/'+_0x5a075d);else(_0x5d3a13['toString']()!=0x0||_0x16312e)&&allSymbols[_0x5a3ef1(0x25e)](_0x5a075d+'/'+_0x233b5e)&&(_0x32635b[_0x5a3ef1(0x1ec)]({'coin':_0x233b5e,'symbol':_0x5a075d+'/'+_0x233b5e,'reverse':!![],'number':Math[_0x5a3ef1(0x26e)](_0x5d3a13+(_0x16312e&&_0x16312e[_0x5a3ef1(0x230)]||0x0),0x0)}),_0x233b5e!=_0x5a075d&&_0x3c655f[_0x5a3ef1(0x1ec)](_0x5a075d+'/'+_0x233b5e));}}}catch(_0x57c2e6){if(!_0x4cc8aa){if(_0x57c2e6['toString']()['includes']('API-key\x20format\x20invalid'))return logHistory(_0x5a3ef1(0x2ac),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x57c2e6[_0x5a3ef1(0x297)]()[_0x5a3ef1(0x25e)](_0x5a3ef1(0x280)))return logHistory('error',_0x5a3ef1(0x20c)),![];else{if(_0x57c2e6[_0x5a3ef1(0x297)]()[_0x5a3ef1(0x25e)](_0x5a3ef1(0x263)))return logHistory(_0x5a3ef1(0x2ac),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x57c2e6,'getCoins()');}}}else await handleError(_0x57c2e6,_0x5a3ef1(0x2a4));}return _0x32635b;}async function getPortfolio(_0x11c2b3){const _0x5e69b8=_0x2634e0;let _0xfecb10=[],_0x35e6a2=[],_0x379dce,_0x246a18=[],_0x24fe99,_0x2b9c4f;_0x11c2b3['apiKey']===_0x5e69b8(0x215)||_0x11c2b3['apiSecret']===_0x5e69b8(0x215)?(_0x24fe99=config[_0x5e69b8(0x2b3)],_0x2b9c4f=config[_0x5e69b8(0x279)]):(_0x24fe99=_0x11c2b3[_0x5e69b8(0x2b3)],_0x2b9c4f=_0x11c2b3[_0x5e69b8(0x279)]);await initExchange(_0x24fe99,_0x2b9c4f);let _0x3e7c9d=await loadSymbols();if(_0x3e7c9d){_0x246a18=await getCoins(![],_0x11c2b3[_0x5e69b8(0x2af)]);if(_0x246a18===![])proxyEmit(_0x5e69b8(0x203),![]);else{if(_0x11c2b3[_0x5e69b8(0x2af)]=='')proxyEmit(_0x5e69b8(0x203),_0x246a18);else{_0x246a18[_0x5e69b8(0x22b)](_0x2092ec=>{const _0xfa1f39=_0x5e69b8;_0xfecb10['push'](_0x2092ec[_0xfa1f39(0x218)]);});try{_0x35e6a2=await exchange['fetchTickers'](_0xfecb10);}catch(_0x5ab1ed){await handleError(_0x5ab1ed,_0x5e69b8(0x231));}_0x246a18['forEach'](_0x12eb27=>{const _0x6d3a30=_0x5e69b8;_0x12eb27[_0x6d3a30(0x21c)]!=_0x11c2b3['basecoin']?_0x379dce=_0x12eb27[_0x6d3a30(0x22f)]?0x1/_0x35e6a2[_0x12eb27[_0x6d3a30(0x218)]][_0x6d3a30(0x254)]:_0x35e6a2[_0x12eb27[_0x6d3a30(0x218)]][_0x6d3a30(0x254)]:_0x379dce=0x1,_0x12eb27['price']=formatResult(_0x379dce,0x8);}),proxyEmit(_0x5e69b8(0x203),_0x246a18);}}}else proxyEmit(_0x5e69b8(0x203),![]);}function checkMinimums(_0x7c74a9){const _0x1c62c6=_0x2634e0;let _0x126097=!![];const _0x309bf9=!_0x7c74a9[_0x1c62c6(0x22f)]?markets[_0x7c74a9[_0x1c62c6(0x218)]][_0x1c62c6(0x275)][_0x1c62c6(0x206)]['min']:markets[_0x7c74a9['symbol']][_0x1c62c6(0x275)]['cost'][_0x1c62c6(0x1fe)],_0x342e95=!_0x7c74a9[_0x1c62c6(0x22f)]?markets[_0x7c74a9[_0x1c62c6(0x218)]][_0x1c62c6(0x275)][_0x1c62c6(0x1fa)][_0x1c62c6(0x1fe)]:markets[_0x7c74a9[_0x1c62c6(0x218)]]['limits'][_0x1c62c6(0x206)]['min'];if(Math[_0x1c62c6(0x2c7)](_0x7c74a9[_0x1c62c6(0x296)])<_0x309bf9)_0x126097=![];if(Math[_0x1c62c6(0x2c7)](_0x7c74a9[_0x1c62c6(0x296)])*_0x7c74a9['last']<_0x342e95)_0x126097=![];return _0x126097;}async function getBalances(){const _0x227817=_0x2634e0;let _0x3d7158=0x0,_0x50cce9;const _0x4d9e3f=config['threshold'];currentCoins[_0x227817(0x22b)](_0x6d669a=>{const _0x2ec4b1=_0x227817;if(_0x6d669a['coin']!=config[_0x2ec4b1(0x2af)]){let _0x54f457=global[_0x2ec4b1(0x244)][noslash(_0x6d669a['symbol'])];_0x50cce9=_0x6d669a[_0x2ec4b1(0x22f)]?0x1/_0x54f457:_0x54f457;}else _0x50cce9=0x1;let _0x51a20f=_0x6d669a[_0x2ec4b1(0x23f)]*_0x50cce9;_0x3d7158+=_0x51a20f,_0x6d669a[_0x2ec4b1(0x254)]=formatResult(Number(_0x50cce9),0x8),_0x6d669a[_0x2ec4b1(0x23a)]=_0x51a20f;}),currentCoins['forEach'](_0x32ad60=>{const _0x4b50de=_0x227817;let _0x2eb0f0=config[_0x4b50de(0x203)][_0x4b50de(0x237)](_0x4c8546=>_0x4c8546[_0x4b50de(0x21c)]==_0x32ad60[_0x4b50de(0x21c)]),_0x5b54d3=Number(_0x2eb0f0[_0x4b50de(0x2aa)]),_0x3b032b=_0x32ad60['value']/_0x3d7158*0x64,_0x409745=_0x5b54d3*_0x3d7158/0x64/_0x32ad60['last']-_0x32ad60[_0x4b50de(0x23f)];_0x32ad60['distribution']=formatResult(_0x3b032b,0x3),_0x32ad60['target']=formatResult(_0x5b54d3,0x3),_0x32ad60['trade']=formatResult(_0x409745,0x8),_0x32ad60[_0x4b50de(0x272)]='',_0x32ad60[_0x4b50de(0x2db)]='';if(_0x32ad60[_0x4b50de(0x21c)]!=config['basecoin']){if(_0x32ad60['distribution']>_0x5b54d3)_0x32ad60[_0x4b50de(0x272)]=_0x4b50de(0x24d),_0x32ad60[_0x4b50de(0x2db)]=checkMinimums(_0x32ad60);else _0x32ad60[_0x4b50de(0x2aa)]<_0x5b54d3&&(_0x32ad60[_0x4b50de(0x272)]=_0x4b50de(0x24f),_0x32ad60[_0x4b50de(0x2db)]=checkMinimums(_0x32ad60));}_0x32ad60[_0x4b50de(0x227)]=_0x32ad60[_0x4b50de(0x2aa)]/_0x32ad60[_0x4b50de(0x219)]-0x1;}),currentCoins[_0x227817(0x260)]((_0x4d1827,_0x28a03e)=>_0x4d1827[_0x227817(0x227)]<_0x28a03e[_0x227817(0x227)]?0x1:_0x28a03e['delta']<_0x4d1827[_0x227817(0x227)]?-0x1:0x0);const _0x57df4b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x57df4b[_0x227817(0x29b)],'usd':_0x57df4b[_0x227817(0x2e5)],'portfolio':JSON[_0x227817(0x20d)](currentCoins),'threshold':_0x4d9e3f},proxyEmit(_0x227817(0x24b),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x227817(0x277)])headlessMode({'portfolio':currentCoins,'threshold':_0x4d9e3f});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xbaec83=_0x2634e0;if(!lastBalances)return;let _0x3dc6a7=await getStartingBalances(![]),_0x46d4e4=[],_0x148736;JSON[_0xbaec83(0x20f)](lastBalances[_0xbaec83(0x203)])[_0xbaec83(0x22b)](_0x423282=>{const _0xe8ae49=_0xbaec83;let _0x2e5993={'coin':_0x423282[_0xe8ae49(0x21c)],'number':_0x423282[_0xe8ae49(0x23f)],'price':_0x423282[_0xe8ae49(0x254)]};_0x46d4e4['push'](_0x2e5993);});const _0x2285c9=await getFiat();_0x148736={'date':lastBalances[_0xbaec83(0x2ae)][_0xbaec83(0x23b)]('\x20')[0x0],'eur':_0x2285c9[_0xbaec83(0x29b)],'usd':_0x2285c9['usd'],'coins':_0x46d4e4};let _0x516836=dbPerformance[_0xbaec83(0x26d)](_0xbaec83(0x234))['find']({'date':_0x148736['date']})[_0xbaec83(0x23a)]();_0x516836?dbPerformance[_0xbaec83(0x26d)](_0xbaec83(0x234))[_0xbaec83(0x237)]({'date':_0x148736[_0xbaec83(0x2a3)]})[_0xbaec83(0x25d)](_0x148736)[_0xbaec83(0x20e)]():dbPerformance[_0xbaec83(0x26d)](_0xbaec83(0x234))['push'](_0x148736)[_0xbaec83(0x20e)](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x4e0d56=_0x2634e0;if(dbPerformance['has'](_0x4e0d56(0x234))[_0x4e0d56(0x23a)]()){let _0x36b142=dbPerformance[_0x4e0d56(0x26d)]('data')[_0x4e0d56(0x298)](_0x4e0d56(0x2a3))[_0x4e0d56(0x23a)]();proxyEmit(_0x4e0d56(0x22c),_0x36b142),lastPerformanceEmitted=getDate();}else proxyEmit(_0x4e0d56(0x22c),[]);}async function getStartingBalances(_0x2e0258=!![]){const _0x14fa8d=_0x2634e0;let _0x1b7982=dbPerformance['get'](_0x14fa8d(0x234))[_0x14fa8d(0x237)]({'date':config[_0x14fa8d(0x207)]})[_0x14fa8d(0x23a)]();config[_0x14fa8d(0x2b3)]!=''&&!_0x1b7982&&(await setStartDatePerformance(config),_0x1b7982=dbPerformance[_0x14fa8d(0x26d)](_0x14fa8d(0x234))['find']({'date':config[_0x14fa8d(0x207)]})[_0x14fa8d(0x23a)]());if(config[_0x14fa8d(0x2b3)]==''||!_0x1b7982)return{};let _0xf35600=0x0,_0xb61134=0x0,_0x536e87=0x0,_0x5eef96=[],_0x172b59=0x0;config[_0x14fa8d(0x203)][_0x14fa8d(0x22b)](_0xbcac2a=>{const _0x18e9ef=_0x14fa8d;if(!_0xbcac2a[_0x18e9ef(0x26c)]){_0x5eef96[_0x172b59]={'coin':_0xbcac2a[_0x18e9ef(0x21c)],'symbol':_0xbcac2a[_0x18e9ef(0x218)],'number':_0xbcac2a['startnumber'],'price':_0xbcac2a[_0x18e9ef(0x240)]},_0xf35600+=_0xbcac2a[_0x18e9ef(0x240)]*_0xbcac2a[_0x18e9ef(0x2e9)];if(config[_0x18e9ef(0x2af)]==_0x18e9ef(0x2a6))_0xb61134+=_0xbcac2a[_0x18e9ef(0x240)]*_0xbcac2a[_0x18e9ef(0x2e9)]*_0x1b7982['eur'],_0x536e87+=_0xbcac2a['startprice']*_0xbcac2a[_0x18e9ef(0x2e9)]*_0x1b7982[_0x18e9ef(0x2e5)];else{if(config['basecoin']==_0x18e9ef(0x274)||config[_0x18e9ef(0x2af)]=='USDT'||config[_0x18e9ef(0x2af)]==_0x18e9ef(0x2b5))_0xb61134+=_0xbcac2a[_0x18e9ef(0x240)]*_0xbcac2a[_0x18e9ef(0x2e9)]*_0x1b7982[_0x18e9ef(0x29b)]/_0x1b7982[_0x18e9ef(0x2e5)],_0x536e87+=_0xbcac2a['startprice']*_0xbcac2a[_0x18e9ef(0x2e9)];else config[_0x18e9ef(0x2af)]=='EUR'&&(_0xb61134+=_0xbcac2a[_0x18e9ef(0x240)]*_0xbcac2a[_0x18e9ef(0x2e9)],_0x536e87+=_0xbcac2a[_0x18e9ef(0x240)]*_0xbcac2a[_0x18e9ef(0x2e9)]*_0x1b7982[_0x18e9ef(0x2e5)]/_0x1b7982[_0x18e9ef(0x29b)]);}_0x172b59++;}});let _0x34b3b1={'basecoin':_0xf35600,'eur':_0xb61134,'usd':_0x536e87,'coins':_0x5eef96};if(_0x2e0258)proxyEmit(_0x14fa8d(0x262),_0x34b3b1);return _0x34b3b1;}function headlessMode(_0x5b1e8e){const _0x66a533=_0x2634e0;let _0x35622c=_0x5b1e8e[_0x66a533(0x203)],_0xefa900=_0x5b1e8e[_0x66a533(0x239)],_0x29be7c=[];for(let _0x5512dc of _0x35622c){if(_0x5512dc[_0x66a533(0x21c)]!=config['basecoin']){if(_0x5512dc['distribution']/_0x5512dc[_0x66a533(0x219)]-0x1>=_0xefa900/0x64){if(_0x5512dc['valid'])_0x29be7c[_0x66a533(0x1ec)](_0x5512dc);}else{if(_0x5512dc['distribution']/_0x5512dc[_0x66a533(0x219)]-0x1<=-_0xefa900/0x64){if(_0x5512dc['valid'])_0x29be7c[_0x66a533(0x1ec)](_0x5512dc);}}}}_0x29be7c[_0x66a533(0x2e4)]>0x0&&placeOrder(_0x29be7c);}function symbolToCoin(_0x94105b){const _0x3dc589=_0x2634e0;let _0x3aa36e;if(_0x94105b[_0x3dc589(0x25e)]('/'+config[_0x3dc589(0x2af)]))_0x3aa36e=_0x94105b[_0x3dc589(0x285)]('/'+config[_0x3dc589(0x2af)],'');if(_0x94105b[_0x3dc589(0x25e)](config[_0x3dc589(0x2af)]+'/'))_0x3aa36e=_0x94105b['replace'](config[_0x3dc589(0x2af)]+'/','');return _0x3aa36e;}async function validateOrders(_0x5c6d84=0x0){const _0x2ad0a6=_0x2634e0;let _0x1fa249=[],_0x5f4c45=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2ad0a6(0x21f)]*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x209e3f=>{const _0x153424=_0x2ad0a6;let _0x162d13=previousCoins[_0x153424(0x237)](_0x1daf4b=>_0x1daf4b[_0x153424(0x21c)]==symbolToCoin(_0x209e3f[_0x153424(0x218)])),_0x57df68=currentCoins[_0x153424(0x237)](_0x50fbc0=>_0x50fbc0['coin']==symbolToCoin(_0x209e3f[_0x153424(0x218)])),_0x333fbe,_0x2e8003;_0x209e3f[_0x153424(0x272)]==_0x153424(0x24f)&&!_0x209e3f['reverse']||_0x209e3f[_0x153424(0x272)]==_0x153424(0x24d)&&_0x209e3f[_0x153424(0x22f)]?(_0x333fbe=_0x162d13[_0x153424(0x23f)]+0.9*_0x209e3f[_0x153424(0x288)],_0x2e8003=_0x162d13['number']+1.1*_0x209e3f[_0x153424(0x288)]):(_0x333fbe=_0x162d13[_0x153424(0x23f)]-1.1*_0x209e3f[_0x153424(0x288)],_0x2e8003=_0x162d13[_0x153424(0x23f)]-0.9*_0x209e3f['filled']);const _0x3d36f9=_0x209e3f[_0x153424(0x288)]!=0x0&&_0x57df68[_0x153424(0x23f)]>=_0x333fbe&&_0x57df68['number']<=_0x2e8003;_0x1fa249[_0x153424(0x1ec)](_0x3d36f9);if(_0x3d36f9&&config['ordertype']!=_0x153424(0x289)){if(_0x209e3f[_0x153424(0x22f)])logHistory(_0x153424(0x217),_0x153424(0x286)+_0x209e3f['symbol']+'\x20'+_0x209e3f[_0x153424(0x272)]+'\x20#'+formatResult(_0x209e3f[_0x153424(0x288)]/_0x209e3f[_0x153424(0x28c)],0x8)+'\x20@'+formatResult(_0x209e3f[_0x153424(0x28c)],0x8));else logHistory(_0x153424(0x217),_0x153424(0x286)+_0x209e3f[_0x153424(0x218)]+'\x20'+_0x209e3f['side']+'\x20#'+formatResult(_0x209e3f[_0x153424(0x288)],0x8)+'\x20@'+formatResult(_0x209e3f['price'],0x8));}}),_0x1fa249[_0x2ad0a6(0x22b)]((_0x2a40bd,_0x39f645)=>{const _0x3d4ade=_0x2ad0a6;if(_0x2a40bd)lastOrders[_0x3d4ade(0x290)](_0x39f645,0x1);});if(_0x5c6d84<_0x5f4c45&&_0x1fa249['includes'](![])){if(_0x5c6d84==0x0){config[_0x2ad0a6(0x1f7)]==_0x2ad0a6(0x289)?logHistory('error',_0x2ad0a6(0x1ed)):logHistory('error',_0x2ad0a6(0x2c5));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5c6d84);},0xa*0x3e8);}else{(_0x5c6d84==0x1||_0x5c6d84==Math[_0x2ad0a6(0x2d7)](_0x5f4c45/0x2)||_0x5c6d84==_0x5f4c45-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5c6d84);},validateOrderInterval);}}else{lockOrders=![];if(_0x5c6d84>0x0&&!_0x1fa249[_0x2ad0a6(0x25e)](![]))config[_0x2ad0a6(0x1f7)]==_0x2ad0a6(0x289)?logHistory(_0x2ad0a6(0x1e9),'Order(s)\x20validated\x20-\x20balancing\x20resumed'):logHistory(_0x2ad0a6(0x1e9),_0x2ad0a6(0x1f6));else _0x5c6d84>0x0&&_0x1fa249[_0x2ad0a6(0x25e)](![])&&(config[_0x2ad0a6(0x1f7)]==_0x2ad0a6(0x289)?logHistory(_0x2ad0a6(0x1e9),_0x2ad0a6(0x293)+Math[_0x2ad0a6(0x2d7)](_0x5f4c45*validateOrderInterval/0xea60)+_0x2ad0a6(0x2c1)):(lastOrders[_0x2ad0a6(0x22b)](async _0x49c3a1=>{const _0x4fdd91=_0x2ad0a6;try{const _0x2ec098=await exchange['cancelOrder'](_0x49c3a1[_0x4fdd91(0x2c8)],_0x49c3a1[_0x4fdd91(0x218)]);}catch(_0x2d1e0e){if(_0x2d1e0e[_0x4fdd91(0x297)]()[_0x4fdd91(0x25e)](_0x4fdd91(0x2ec))){}else await handleError(_0x2d1e0e,_0x4fdd91(0x20b));}}),logHistory(_0x2ad0a6(0x1e9),_0x2ad0a6(0x259)+Math['round'](_0x5f4c45*validateOrderInterval/0xea60)+_0x2ad0a6(0x2c1))));}}async function resetCoinResults(){const _0x5e9293=_0x2634e0;dbCoinResults[_0x5e9293(0x26d)](_0x5e9293(0x2c6))[_0x5e9293(0x2a5)]()[_0x5e9293(0x20e)]();let _0x55c7b5=await getStartingBalances(![]);_0x55c7b5[_0x5e9293(0x2c6)]['forEach'](_0x39374b=>{const _0x1450fe=_0x5e9293,_0x9f682c=_0x39374b['symbol'][_0x1450fe(0x25e)](config['basecoin']+'/');if(_0x39374b[_0x1450fe(0x21c)]!=config[_0x1450fe(0x2af)]){let _0x390050={'coin':_0x39374b[_0x1450fe(0x21c)],'number':_0x39374b['number'],'breakeven':_0x39374b[_0x1450fe(0x28c)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x1450fe(0x2c6))[_0x1450fe(0x1ec)](_0x390050)['write']();}});}async function updateCoinResults(_0x3a920f){const _0x513f27=_0x2634e0;let _0x46d098,_0x1f3e74,_0x43b14f,_0x328ce7,_0x480bdf,_0x34456a,_0x3c99f8=dbCoinResults[_0x513f27(0x26d)](_0x513f27(0x2c6))[_0x513f27(0x237)]({'coin':_0x3a920f['coin']})[_0x513f27(0x23a)]();if(!_0x3c99f8)return;if(_0x3a920f[_0x513f27(0x23e)]&&_0x3a920f[_0x513f27(0x23e)][_0x513f27(0x1e7)]==config[_0x513f27(0x2af)])_0x46d098=_0x3a920f['fee'][_0x513f27(0x1fa)];else{if(_0x3a920f[_0x513f27(0x23e)]&&_0x3a920f[_0x513f27(0x23e)][_0x513f27(0x1e7)]==_0x513f27(0x1f4))_0x46d098=_0x3a920f[_0x513f27(0x23e)]['cost']*global['ticker'][_0x513f27(0x1f4)+config['basecoin']];else _0x46d098=0.001*_0x3a920f[_0x513f27(0x288)];}const _0x14e86b=_0x3a920f[_0x513f27(0x218)]['includes'](config[_0x513f27(0x2af)]+'/');_0x14e86b&&(_0x34456a={'coin':_0x3a920f[_0x513f27(0x21c)],'symbol':_0x3a920f[_0x513f27(0x218)],'filled':_0x3a920f[_0x513f27(0x288)]*_0x3a920f[_0x513f27(0x28c)],'side':_0x3a920f['side']==_0x513f27(0x24d)?'buy':_0x513f27(0x24d),'price':0x1/_0x3a920f[_0x513f27(0x28c)]},_0x3a920f={..._0x34456a});_0x3a920f['side']=='buy'?_0x43b14f=(_0x3c99f8['breakeven']*_0x3c99f8['number']+_0x3a920f[_0x513f27(0x28c)]*_0x3a920f['filled'])/(_0x3c99f8[_0x513f27(0x23f)]+_0x3a920f[_0x513f27(0x288)]):_0x43b14f=(_0x3c99f8[_0x513f27(0x213)]*_0x3c99f8[_0x513f27(0x23f)]-_0x3a920f[_0x513f27(0x28c)]*_0x3a920f['filled'])/(_0x3c99f8['number']-_0x3a920f[_0x513f27(0x288)]);_0x3a920f[_0x513f27(0x272)]==_0x513f27(0x24f)?_0x328ce7=_0x3c99f8[_0x513f27(0x22d)]:_0x328ce7=_0x3c99f8[_0x513f27(0x22d)]+(_0x3a920f[_0x513f27(0x28c)]-_0x3c99f8['breakeven'])*_0x3a920f[_0x513f27(0x288)];_0x1f3e74=_0x3a920f[_0x513f27(0x272)]==_0x513f27(0x24d)?_0x3c99f8[_0x513f27(0x23f)]-_0x3a920f[_0x513f27(0x288)]:_0x3c99f8['number']+_0x3a920f[_0x513f27(0x288)],_0x480bdf=(_0x3a920f['price']-_0x43b14f)*_0x1f3e74;let _0x4b043c={'coin':_0x3a920f[_0x513f27(0x21c)],'number':_0x1f3e74,'breakeven':formatResult(_0x43b14f,0x8),'realized':formatResult(_0x328ce7,0x8),'unrealized':formatResult(_0x480bdf,0x8),'fees':formatResult(_0x3c99f8[_0x513f27(0x202)]+_0x46d098,0x8),'sells':_0x3a920f[_0x513f27(0x272)]==_0x513f27(0x24d)?_0x3c99f8[_0x513f27(0x2a2)]+0x1:_0x3c99f8[_0x513f27(0x2a2)],'buys':_0x3a920f['side']==_0x513f27(0x24f)?_0x3c99f8[_0x513f27(0x24c)]+0x1:_0x3c99f8[_0x513f27(0x24c)]};dbCoinResults[_0x513f27(0x26d)](_0x513f27(0x2c6))[_0x513f27(0x237)]({'coin':_0x3a920f[_0x513f27(0x21c)]})['assign'](_0x4b043c)[_0x513f27(0x20e)]();}async function placeOrder(_0x3983e8){const _0x120b6c=_0x2634e0,_0x472f54=config[_0x120b6c(0x1f7)]=='market'?_0x120b6c(0x289):_0x120b6c(0x295);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x120b6c(0x20f)](JSON[_0x120b6c(0x20d)](currentCoins));for(const _0x4b85a0 of _0x3983e8){let _0x1a39f3,_0x1eff1e,_0x4b088d,_0x430494,_0x475587,_0x4949d6=_0x4b85a0[_0x120b6c(0x218)];try{const _0x3cb6e0=await exchange['fetchTickers'](_0x4949d6),_0x5893b5=_0x3cb6e0[_0x4949d6];_0x1a39f3=_0x5893b5[_0x120b6c(0x254)],_0x1eff1e=_0x5893b5[_0x120b6c(0x29d)],_0x4b088d=_0x5893b5[_0x120b6c(0x243)];_0x4b85a0[_0x120b6c(0x22f)]?(_0x430494=_0x4b85a0[_0x120b6c(0x272)]==_0x120b6c(0x24f)?_0x120b6c(0x24d):_0x120b6c(0x24f),_0x475587=Math[_0x120b6c(0x2c7)](_0x4b85a0[_0x120b6c(0x296)])/_0x1a39f3):(_0x430494=_0x4b85a0[_0x120b6c(0x272)],_0x475587=Math['abs'](_0x4b85a0[_0x120b6c(0x296)]));_0x472f54=='limit'&&(config['ordertype']==_0x120b6c(0x246)&&(_0x1a39f3=_0x430494==_0x120b6c(0x24f)?_0x1eff1e:_0x4b088d),config['ordertype']=='limit-low'&&(_0x1a39f3=_0x430494==_0x120b6c(0x24f)?_0x4b088d:_0x1eff1e));_0x475587=formatResult(_0x475587,0x8),_0x1a39f3=formatResult(_0x1a39f3,0x8);const _0x536024=await exchange[_0x120b6c(0x214)](_0x4949d6,_0x472f54,_0x430494,_0x475587,_0x1a39f3);lastOrders[_0x120b6c(0x1ec)]({'orderId':_0x536024['id'],'symbol':_0x4949d6,'side':_0x430494,'reverse':_0x4b85a0[_0x120b6c(0x22f)],'amount':_0x4b85a0[_0x120b6c(0x22f)]?_0x536024[_0x120b6c(0x206)]*_0x536024['price']:_0x536024[_0x120b6c(0x206)],'filled':_0x4b85a0[_0x120b6c(0x22f)]?_0x536024[_0x120b6c(0x288)]*_0x536024[_0x120b6c(0x28c)]:_0x536024[_0x120b6c(0x288)],'price':_0x536024[_0x120b6c(0x28c)]});const _0x597f56=_0x430494==_0x120b6c(0x24d)?config[_0x120b6c(0x22e)]?String['fromCodePoint']('0x'+config[_0x120b6c(0x22e)])+'\x20':'':config['emojibuy']?String[_0x120b6c(0x2b8)]('0x'+config[_0x120b6c(0x1e6)])+'\x20':'',_0x3175e0=_0x472f54==_0x120b6c(0x289)?_0x120b6c(0x210):config[_0x120b6c(0x1f7)]==_0x120b6c(0x246)?_0x120b6c(0x21d):_0x120b6c(0x2b2);if(_0x472f54==_0x120b6c(0x289))logHistory(_0x120b6c(0x217),''+_0x597f56+_0x3175e0+'\x20order:\x20'+_0x4949d6+'\x20'+_0x430494+'\x20#'+formatResult(_0x536024['filled'],0x8)+'\x20@'+formatResult(_0x536024['price'],0x8));else logHistory(_0x120b6c(0x217),''+_0x597f56+_0x3175e0+'\x20order:\x20'+_0x4949d6+'\x20'+_0x430494+'\x20#'+formatResult(_0x536024[_0x120b6c(0x206)],0x8)+'\x20@'+formatResult(_0x536024[_0x120b6c(0x28c)],0x8));_0x536024[_0x120b6c(0x21c)]=_0x4b85a0[_0x120b6c(0x21c)],await updateCoinResults(_0x536024);if(config[_0x120b6c(0x2d5)]!=0x0){let _0x4128cf=null;if(cooldownTracker[_0x120b6c(0x2e4)]==config['cooldown']-0x1)_0x4128cf=cooldownTracker['shift']();const _0x33352a=getTimeStamp();cooldownTracker[_0x120b6c(0x1ec)](_0x33352a);if(_0x4128cf){const _0x34a8e8=fns['differenceInSeconds'](new Date(_0x33352a),new Date(_0x4128cf));_0x34a8e8<cooldownInterval&&(logHistory(_0x120b6c(0x2ac),_0x120b6c(0x2ba)+config[_0x120b6c(0x2d5)]+_0x120b6c(0x2b6)+cooldownInterval/0x3c+_0x120b6c(0x29e)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x4f651f){if(_0x4f651f['toString']()[_0x120b6c(0x25e)](_0x120b6c(0x266)))logHistory(_0x120b6c(0x2ac),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4949d6);else{if(_0x4f651f[_0x120b6c(0x297)]()['includes'](_0x120b6c(0x205)))logHistory(_0x120b6c(0x2ac),'Order\x20amount\x20is\x20invalid:\x20'+_0x4949d6);else await handleError(_0x4f651f,_0x120b6c(0x241));}}}if(lastOrders[_0x120b6c(0x2e4)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config[_0x120b6c(0x1f7)]==_0x120b6c(0x289)?logHistory(_0x120b6c(0x2ac),_0x120b6c(0x248)):logHistory(_0x120b6c(0x2ac),_0x120b6c(0x29f)));else coolingDown&&(!config[_0x120b6c(0x277)]&&logHistory(_0x120b6c(0x2ac),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'));}}function logHistory(_0x4a202c,_0x514273,_0x2d75f8=''){const _0x202c55=_0x2634e0;let _0x19fbb2={'time':getTimeStamp(),'type':_0x4a202c,'event':_0x514273,'botname':config[_0x202c55(0x25c)],'showname':config[_0x202c55(0x265)]};dbLogs[_0x202c55(0x26d)](_0x202c55(0x21e))[_0x202c55(0x1ec)](_0x19fbb2)['write']();if(_0x2d75f8=='')_0x2d75f8=_0x514273;proxyEmit(_0x202c55(0x1e8),{'log':_0x19fbb2,'summary':_0x2d75f8}),process[_0x202c55(0x224)]({'telegram':_0x19fbb2}),logging(''+_0x19fbb2[_0x202c55(0x1e8)]);}function emitHistory(_0x3227f2={}){const _0x4948d4=_0x2634e0;Object[_0x4948d4(0x1fd)](_0x3227f2)[_0x4948d4(0x2e4)]==0x0&&(_0x3227f2={'type':['order',_0x4948d4(0x1e8)],'event':'','page':0x1});if(_0x3227f2[_0x4948d4(0x28e)][_0x4948d4(0x25e)](_0x4948d4(0x1e8)))_0x3227f2['type']['splice'](_0x3227f2[_0x4948d4(0x28e)][_0x4948d4(0x225)](_0x4948d4(0x1e8)),0x1,'error','success');if(dbLogs[_0x4948d4(0x216)](_0x4948d4(0x21e))[_0x4948d4(0x23a)]()){let _0x463491=dbLogs[_0x4948d4(0x26d)](_0x4948d4(0x21e))[_0x4948d4(0x27c)](_0x13b8bf=>{const _0x516ddf=_0x4948d4;if(_0x3227f2['type'][_0x516ddf(0x2e4)]==0x0)return![];else return _0x3227f2[_0x516ddf(0x28e)][_0x516ddf(0x25e)](_0x13b8bf[_0x516ddf(0x28e)]);})[_0x4948d4(0x27c)](_0x36fbc7=>{const _0x118c23=_0x4948d4;if(_0x3227f2[_0x118c23(0x1e8)]=='')return!![];else return _0x36fbc7[_0x118c23(0x1e8)]['toLowerCase']()['includes'](_0x3227f2['event'][_0x118c23(0x236)]());})[_0x4948d4(0x298)](_0x4948d4(0x2ae)),_0x88a788=_0x463491[_0x4948d4(0x23a)]()[_0x4948d4(0x2e4)];_0x463491=_0x463491[_0x4948d4(0x22f)]()['slice']((_0x3227f2[_0x4948d4(0x29a)]-0x1)*logPageSize,_0x3227f2['page']*logPageSize-0x1)[_0x4948d4(0x22f)]()[_0x4948d4(0x23a)](),proxyEmit(_0x4948d4(0x2d3),{'logs':_0x463491,'total':_0x88a788});}else proxyEmit(_0x4948d4(0x2d3),{'logs':[],'total':0x0});}async function pauseBot(_0x53f116){const _0x46da5f=_0x2634e0,_0x49c833=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x46da5f(0x264)](),consecutivePauses=0x1;else{if(_0x49c833-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x46da5f(0x224)]({'stop':_0x46da5f(0x235)});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x46da5f(0x264)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error',_0x46da5f(0x2c3)+consecutivePauses+')'),await sleep(_0x53f116),botPaused=![],reset();}}async function handleError(_0x3a377c,_0x114215,_0x5efe70=''){const _0x2f8802=_0x2634e0;if(_0x3a377c[_0x2f8802(0x297)]()[_0x2f8802(0x25e)](_0x2f8802(0x2c9)))logHistory(_0x2f8802(0x2ac),_0x114215+_0x2f8802(0x2bc)),await pauseBot(pauseBotInterval);else{if(_0x3a377c[_0x2f8802(0x297)]()['includes'](_0x2f8802(0x223)))logHistory(_0x2f8802(0x2ac),_0x114215+_0x2f8802(0x292)),await pauseBot(pauseBotInterval);else{if(_0x3a377c[_0x2f8802(0x297)]()[_0x2f8802(0x25e)](_0x2f8802(0x247)))logHistory(_0x2f8802(0x2ac),_0x114215+'\x20|\x20Binance\x20exchange\x20is\x20not\x20responding'),await pauseBot(pauseBotInterval);else{if(_0x3a377c[_0x2f8802(0x297)]()[_0x2f8802(0x25e)]('API-key\x20format\x20invalid'))logHistory(_0x2f8802(0x2ac),_0x114215+_0x2f8802(0x1f2)),logHistory(_0x2f8802(0x2ac),_0x2f8802(0x271)),process[_0x2f8802(0x224)]({'stop':_0x2f8802(0x229)});else{if(_0x3a377c[_0x2f8802(0x297)]()[_0x2f8802(0x25e)](_0x2f8802(0x280)))logHistory(_0x2f8802(0x2ac),_0x114215+_0x2f8802(0x252)),logHistory(_0x2f8802(0x2ac),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x2f8802(0x224)]({'stop':_0x2f8802(0x229)});else{if(_0x3a377c['toString']()[_0x2f8802(0x25e)](_0x2f8802(0x263)))logHistory(_0x2f8802(0x2ac),_0x114215+_0x2f8802(0x1ea)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x2f8802(0x224)]({'stop':_0x2f8802(0x229)});else{if(_0x3a377c[_0x2f8802(0x297)]()[_0x2f8802(0x25e)](_0x2f8802(0x27b)))logHistory(_0x2f8802(0x2ac),_0x114215+_0x2f8802(0x2ca)),logHistory(_0x2f8802(0x2ac),_0x2f8802(0x271)),process['send']({'stop':_0x2f8802(0x229)});else{if(_0x3a377c['toString']()[_0x2f8802(0x25e)](_0x2f8802(0x2e0)))logHistory('error',_0x114215+_0x2f8802(0x2e8)),await pauseBot(pauseBotInterval),process[_0x2f8802(0x224)]({'stop':_0x2f8802(0x235)});else _0x3a377c[_0x2f8802(0x297)]()[_0x2f8802(0x25e)](_0x2f8802(0x233))?logHistory(_0x2f8802(0x2ac),_0x114215+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory('error',_0x114215+_0x2f8802(0x2a8)),logging(_0x114215+'\x20|\x20Error\x20details:\x20',_0x3a377c),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x3d7963,_0xb22ba5){const _0x3c5235=_0x2634e0;return parseFloat(_0x3d7963[_0x3c5235(0x23c)](_0xb22ba5));}function logging(_0x1efb89,_0x2567a9=''){const _0x293e9d=_0x2634e0;if(config[_0x293e9d(0x265)])console['log'](getTimeStamp()+':\x20'+config['botname']+_0x293e9d(0x258)+_0x1efb89,_0x2567a9);else console[_0x293e9d(0x2c2)](getTimeStamp()+':\x20Bot\x20'+botID+_0x293e9d(0x258)+_0x1efb89,_0x2567a9);}function getServerTime(){const _0x1bc9fd=_0x2634e0,_0x2c9f47=new Date();return _0x2c9f47['getFullYear']()+'/'+(_0x2c9f47['getMonth']()+0x1)['toString']()[_0x1bc9fd(0x2d4)](0x2,'0')+'/'+_0x2c9f47[_0x1bc9fd(0x269)]()[_0x1bc9fd(0x297)]()['padStart'](0x2,'0')+'\x20'+_0x2c9f47[_0x1bc9fd(0x255)]()['toString']()[_0x1bc9fd(0x2d4)](0x2,'0')+':'+_0x2c9f47['getMinutes']()[_0x1bc9fd(0x297)]()[_0x1bc9fd(0x2d4)](0x2,'0')+':'+_0x2c9f47[_0x1bc9fd(0x2b7)]()['toString']()[_0x1bc9fd(0x2d4)](0x2,'0');}function _0x1a6b(_0x48a298,_0x421041){const _0x1b3b52=_0x3bf7();return _0x1a6b=function(_0x468320,_0x16b4b7){_0x468320=_0x468320-0x1e5;let _0x3bf7ef=_0x1b3b52[_0x468320];return _0x3bf7ef;},_0x1a6b(_0x48a298,_0x421041);}function getTimeStamp(){const _0x4e80c2=_0x2634e0,_0x207ae8=shiftedTime();return _0x207ae8[_0x4e80c2(0x2b0)]()+'/'+(_0x207ae8[_0x4e80c2(0x2b9)]()+0x1)[_0x4e80c2(0x297)]()['padStart'](0x2,'0')+'/'+_0x207ae8['getDate']()[_0x4e80c2(0x297)]()[_0x4e80c2(0x2d4)](0x2,'0')+'\x20'+_0x207ae8[_0x4e80c2(0x255)]()['toString']()['padStart'](0x2,'0')+':'+_0x207ae8['getMinutes']()[_0x4e80c2(0x297)]()['padStart'](0x2,'0')+':'+_0x207ae8[_0x4e80c2(0x2b7)]()[_0x4e80c2(0x297)]()[_0x4e80c2(0x2d4)](0x2,'0');}function getDate(){const _0xe309dd=_0x2634e0,_0x3eb255=shiftedTime();return _0x3eb255[_0xe309dd(0x2b0)]()+'/'+(_0x3eb255[_0xe309dd(0x2b9)]()+0x1)[_0xe309dd(0x297)]()['padStart'](0x2,'0')+'/'+_0x3eb255[_0xe309dd(0x269)]()[_0xe309dd(0x297)]()[_0xe309dd(0x2d4)](0x2,'0');}function getHour(){const _0x25c7ff=_0x2634e0,_0x2ef17c=shiftedTime();return _0x2ef17c[_0x25c7ff(0x255)]()[_0x25c7ff(0x297)]()[_0x25c7ff(0x2d4)](0x2,'0');}function sleep(_0x5b0db2){return new Promise(_0x3a97e5=>setTimeout(_0x3a97e5,_0x5b0db2));}function shiftedTime(){const _0x58cbed=_0x2634e0,_0x362eb0=new Date();let _0x47f881=_0x362eb0;if(config&&config[_0x58cbed(0x2e6)]!==0x0)_0x47f881=fns['add'](_0x362eb0,{'hours':config[_0x58cbed(0x2e6)]});return _0x47f881;}function _0x3bf7(){const _0x300cb2=['\x20|\x20Unknown\x20error\x20occured','cancelLoading','distribution','109390QeGBSp','error','coinamount','time','basecoin','getFullYear','storeHeadless','Limit\x20(low-margin)','apiKey','subscribeSpotUserDataStream','USDC','\x20orders\x20in\x20less\x20than\x20','getSeconds','fromCodePoint','getMonth','Executed\x20','loadMarkets','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','eventType','progress','11075702WnLEgY','WebSockets(','\x20minutes\x20-\x20balancing\x20resumed','log','Pausing\x20bot\x20for\x205\x20minutes\x20(','privateKey','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','coins','abs','orderId','DDoSProtection','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','defaults','117VwkYDi','-results.json','spot','initws()','userData','\x20-\x20','executionReport','event-history','padStart','cooldown','kline','round','initclient','-events.json','fetchBalance','valid','bot','wss://stream.binance.us:9443','function','binanceus','InvalidNonce','wsMarket','DAI/','yyyy/MM/dd\x20HH:mm:ss','length','usd','timeshift','BTCEUR','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','startnumber','yyyy-MM-dd\x27T\x27HH:mm:ss','422076FNOhcS','OrderNotFound','516504crfsrr','emojibuy','currency','event','success','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','getCloses()','push','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','argv','args','asset','18Trmtty','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','6XyDoPf','BNB','close','Order(s)\x20filled\x20-\x20balancing\x20resumed','ordertype','closeWs','bb-secure.json','cost','bb-settings.json','68453TPwlxE','keys','min','(((.+)+)+)+$','running','wsKey','fees','portfolio','format','Invalid\x20quantity','amount','startdate','BTC/USDT','apply','wss://stream.binance.com:9443','cancelOrder()','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','stringify','write','parse','Market','symbols','001','breakeven','createOrder','************','has','order','symbol','target','Performance\x20recreation\x20completed\x20successfully','coin-loading-progress','coin','Limit\x20(high-margin)','logs','timeout','orderStatus','binance','parseISO','ExchangeNotAvailable','send','indexOf','HOT/BTC','delta','Order:\x20','kill','yyyy/MM/dd','forEach','performance','realized','emojisell','reverse','offset','getPortfolio()','bot-','InsufficientFunds','data','restart','toLowerCase','find','11795YCqbOP','threshold','value','split','toFixed','./config/','fee','number','startprice','placeOrder()','decrypt','ask','ticker','fetchOrders','limit-high','RequestTimeout','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','configuration-stored','BTCUSDT','balances','buys','sell','search','buy','cancel','secure','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','datetime','last','getHours','getPortfolio','remainingSymbols','\x20>\x20','Unfilled\x20order(s)\x20canceled\x20after\x20','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','fetchTickers','botname','assign','includes','BTCBUSD','sort','-performance.json','starting-balances','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','getTime','showname','MIN_NOTIONAL','498533NKSzHm','reconnected','getDate','outboundAccountPosition','differenceInCalendarDays','excluded','get','max','message','isArray','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','side','exchange','BUSD','limits','entries','headless','Error:\x20Invalid\x20argument\x20','apiSecret','milliseconds','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','filter',')\x20|\x20Error\x20details:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','timestamp','AuthenticationError','enabled','mkdirSync','Bot\x20','botID','replace','Order\x20filled:\x20','88ClXxjw','filled','market','constructor','formattedMessage','price','hybrid-crypto-js','type','lowdb','splice','configuration','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','Order(s)\x20not\x20validated\x20after\x20','FILLED','limit','trade','toString','sortBy','./version.json','page','eur','map','bid','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','HOT/EUR','test','sells','date','getCoins()','remove','BTC','reduce'];_0x3bf7=function(){return _0x300cb2;};return _0x3bf7();}