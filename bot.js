const _0x50b50e=_0x1aa6;(function(_0x37ec27,_0x29f552){const _0x1d5901=_0x1aa6,_0x3c6b6f=_0x37ec27();while(!![]){try{const _0x382996=parseInt(_0x1d5901(0x321))/0x1*(parseInt(_0x1d5901(0x252))/0x2)+parseInt(_0x1d5901(0x2ac))/0x3*(parseInt(_0x1d5901(0x209))/0x4)+-parseInt(_0x1d5901(0x20c))/0x5+-parseInt(_0x1d5901(0x323))/0x6*(-parseInt(_0x1d5901(0x28c))/0x7)+parseInt(_0x1d5901(0x1d5))/0x8+parseInt(_0x1d5901(0x2ce))/0x9+-parseInt(_0x1d5901(0x234))/0xa;if(_0x382996===_0x29f552)break;else _0x3c6b6f['push'](_0x3c6b6f['shift']());}catch(_0x4fce00){_0x3c6b6f['push'](_0x3c6b6f['shift']());}}}(_0x5756,0xade12));const _0x39059a=function(){let _0x3ad2b6=!![];return function(_0x252577,_0x456d6f){const _0x421f35=_0x3ad2b6?function(){if(_0x456d6f){const _0x22695c=_0x456d6f['apply'](_0x252577,arguments);return _0x456d6f=null,_0x22695c;}}:function(){};return _0x3ad2b6=![],_0x421f35;};}(),_0x114cb4=_0x39059a(this,function(){const _0x16f323=_0x1aa6;return _0x114cb4['toString']()[_0x16f323(0x31d)](_0x16f323(0x322))['toString']()[_0x16f323(0x20d)](_0x114cb4)[_0x16f323(0x31d)](_0x16f323(0x322));});_0x114cb4();'use strict';const ccxt=require(_0x50b50e(0x224)),low=require(_0x50b50e(0x1ce)),FileSync=require(_0x50b50e(0x1f8)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x50b50e(0x277))[_0x50b50e(0x270)],util=require(_0x50b50e(0x210)),argv=require('yargs/yargs')(process['argv'][_0x50b50e(0x2ed)](0x2))[_0x50b50e(0x2a1)],path=require(_0x50b50e(0x2a8));let exchange;global['ticker']={},global[_0x50b50e(0x2d1)]={};const usdBasecoins=[_0x50b50e(0x299),'BUSD','TUSD',_0x50b50e(0x1c9),_0x50b50e(0x261),_0x50b50e(0x1e0)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x50b50e(0x1ea)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0xa*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x50b50e(0x1ff))[_0x50b50e(0x227)],botID=process['argv'][0x2]||_0x50b50e(0x2f7),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console['log'](_0x50b50e(0x222)+botID+_0x50b50e(0x313)),killBot());const userID=process[_0x50b50e(0x2a1)][0x3]||'',configpath=userID?_0x50b50e(0x1cc)+userID+'/':_0x50b50e(0x1cc),logspath=userID?_0x50b50e(0x1be)+userID+'/':_0x50b50e(0x1be),loggerfile=fs[_0x50b50e(0x29b)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x50b50e(0x25f)](configpath)&&fs[_0x50b50e(0x30c)](configpath);!fs['existsSync'](logspath)&&fs[_0x50b50e(0x30c)](logspath);const configfile=configpath+_0x50b50e(0x2d2)+botID+_0x50b50e(0x2c8),logfile=configpath+_0x50b50e(0x2d2)+botID+_0x50b50e(0x326),performancefile=configpath+_0x50b50e(0x2d2)+botID+_0x50b50e(0x32f),coinresultsfile=configpath+_0x50b50e(0x2d2)+botID+_0x50b50e(0x2b3),settingsfile=configpath+_0x50b50e(0x334),securefile=configpath+_0x50b50e(0x266),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x50b50e(0x1b7)]({'logs':[],'version':serverversion})[_0x50b50e(0x2ff)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x50b50e(0x1b7)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x50b50e(0x1b7)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x50b50e(0x2ff)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x50b50e(0x284),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1366e9=>{const _0x3f4dcf=_0x50b50e;console[_0x3f4dcf(0x320)](_0x1366e9);},'simple':_0x3f467e=>{const _0x133b5e=_0x50b50e;console[_0x133b5e(0x320)](_0x3f467e),loggerfile[_0x133b5e(0x2ff)](util[_0x133b5e(0x22e)](_0x3f467e)+'\x0a');},'full':async(_0x991784,_0x4d8265='')=>{const _0x41d627=_0x50b50e;let _0x498aa2;if(config[_0x41d627(0x314)])_0x498aa2=getTimeStamp()+':\x20'+config[_0x41d627(0x2fe)]+_0x41d627(0x1bc)+_0x991784;else _0x498aa2=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x991784;console[_0x41d627(0x320)](_0x498aa2),loggerfile['write'](util['format'](_0x498aa2)+'\x0a'),_0x4d8265&&(console[_0x41d627(0x320)](_0x4d8265),loggerfile[_0x41d627(0x2ff)](util[_0x41d627(0x22e)](_0x4d8265)+'\x0a'));},'debug':async(_0x52d5cf,_0x4b4a7a='')=>{const _0xfc8ab8=_0x50b50e;let _0x15e515;if(config[_0xfc8ab8(0x314)])_0x15e515=getTimeStamp()+':\x20'+config[_0xfc8ab8(0x2fe)]+_0xfc8ab8(0x1bf)+_0x52d5cf;else _0x15e515=getTimeStamp()+_0xfc8ab8(0x2ec)+botID+_0xfc8ab8(0x1bf)+_0x52d5cf;if(debugging)console[_0xfc8ab8(0x320)](_0x15e515);loggerfile[_0xfc8ab8(0x2ff)](util[_0xfc8ab8(0x22e)](_0x15e515)+'\x0a');if(_0x4b4a7a){if(debugging)console[_0xfc8ab8(0x320)](_0x4b4a7a);loggerfile[_0xfc8ab8(0x2ff)](util[_0xfc8ab8(0x22e)](_0x4b4a7a)+'\x0a');}}};process['on'](_0x50b50e(0x233),function(_0x541f92){const _0x2ddaeb=_0x50b50e;logHistory(_0x2ddaeb(0x2c3),_0x2ddaeb(0x2df)),logger[_0x2ddaeb(0x1f9)](_0x2ddaeb(0x2c1),_0x541f92);});settings[_0x50b50e(0x305)]!=config[_0x50b50e(0x305)]&&updateTimeshift(settings['timeshift']);settings[_0x50b50e(0x30f)]!=config[_0x50b50e(0x30f)]&&updateOnepagemode(settings[_0x50b50e(0x30f)]);process[_0x50b50e(0x2fd)]({'started':_0x50b50e(0x31b)},_0x5205cd=>{}),initializeProcessListeners();function proxyEmit(_0x3543a8,_0x2e1044=null){const _0x5e540b=_0x50b50e;process[_0x5e540b(0x2fd)]({'function':_0x3543a8,'args':_0x2e1044},_0x1ff839=>{});}function initializeProcessListeners(){const _0x1878ec=_0x50b50e;process['on'](_0x1878ec(0x1bd),_0x304d08=>{const _0x411b3c=_0x1878ec;switch(Object[_0x411b3c(0x28b)](_0x304d08)[0x0]){case'timeshift':_0x304d08[_0x411b3c(0x305)]!=undefined&&(settings[_0x411b3c(0x305)]=_0x304d08[_0x411b3c(0x305)],updateTimeshift(settings[_0x411b3c(0x305)]));break;case _0x411b3c(0x30f):_0x304d08[_0x411b3c(0x30f)]!=undefined&&(settings['onepagemode']=_0x304d08['onepagemode'],updateOnepagemode(settings[_0x411b3c(0x30f)]));break;case _0x411b3c(0x31e):_0x304d08[_0x411b3c(0x31e)]!=undefined&&(bots=JSON[_0x411b3c(0x1b2)](_0x304d08[_0x411b3c(0x31e)]),proxyEmit('bots',bots));break;case'function':switch(_0x304d08[_0x411b3c(0x22a)]){case'initclient':initclient();break;case _0x411b3c(0x217):toggleBotMode();break;case'emitHistory':emitHistory(_0x304d08['args']);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x304d08[_0x411b3c(0x20f)]);break;case _0x411b3c(0x25e):getPortfolio(_0x304d08[_0x411b3c(0x20f)]);break;case _0x411b3c(0x20e):storeConfiguration(_0x304d08[_0x411b3c(0x20f)]);break;case'storeHeadless':storeHeadless(_0x304d08[_0x411b3c(0x20f)]);break;case'storeFiat':storeFiat(_0x304d08[_0x411b3c(0x20f)]);break;case _0x411b3c(0x1db):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x304d08['args']);break;case'cancelLoading':cancelLoading();break;case _0x411b3c(0x328):showConfig();break;case _0x411b3c(0x1d3):sendMetricsTelegram();break;case _0x411b3c(0x25d):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x4f7ba5=null,_0x1d581a=![]){const _0x5cc0e1=_0x50b50e;logger[_0x5cc0e1(0x1f9)](_0x5cc0e1(0x219)+(_0x4f7ba5&&_0x4f7ba5[_0x5cc0e1(0x2be)]>0x0?_0x5cc0e1(0x1d4)+_0x4f7ba5['join'](','):_0x5cc0e1(0x2a4))+_0x5cc0e1(0x2b9)+(_0x1d581a?_0x5cc0e1(0x2db):_0x5cc0e1(0x26c))+'\x20|\x20exchange:\x20'+config[_0x5cc0e1(0x2e1)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x1d581a)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5cc0e1(0x1e8)]!=''&&config['apiKey']!='***'){if(_0x1d581a){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x1e36db){handleErrorNoStop(_0x1e36db,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x4f7ba5);const _0x14d7b7=await getCoins();[currentCoins,currentCoinsAll]=_0x14d7b7,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x5cc0e1(0x2be)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0xa5ee63=_0x50b50e;exchangeStopped=!![];try{await exchange[_0xa5ee63(0x1c0)]();}catch(_0x57d86d){await handleError(_0x57d86d,'stopExchange()');}}async function reloadExchange(){const _0x557a16=_0x50b50e;logger['debug'](_0x557a16(0x226));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x557a16(0x1f9)](_0x557a16(0x1b8)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x1f3270=config[_0x50b50e(0x2e1)],_0x2c047d=config[_0x50b50e(0x1e8)],_0x3fc1c8=config['apiSecret'],_0x46eb99=config['apiPassword']){const _0x187d0c=_0x50b50e;exchange&&await stopExchange();!supportedExchanges()[_0x187d0c(0x2cf)](_0x1f3270)&&(logHistory('error',_0x187d0c(0x312)+_0x1f3270+_0x187d0c(0x1e2)),killBot());const _0x25b5eb=ccxt[_0x187d0c(0x2a0)][_0x1f3270[_0x187d0c(0x29d)]()];exchange=new _0x25b5eb({'apiKey':_0x2c047d,'secret':_0x3fc1c8,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x46eb99)exchange[_0x187d0c(0x1b3)]=_0x46eb99;}function setStableCoins(){const _0x10168a=_0x50b50e;let _0x2ab9a1=config[_0x10168a(0x2ad)]==_0x10168a(0x2f9)?_0x10168a(0x2f9):_0x10168a(0x1ef),_0x265877=!allSymbols['includes'](_0x2ab9a1+_0x10168a(0x294))?'USDT':_0x10168a(0x299),_0x42342b=!allSymbols[_0x10168a(0x2cf)](_0x2ab9a1+_0x10168a(0x264))?_0x265877:'EUR';stablecoins={'eur':{'coin':''+_0x2ab9a1+_0x42342b,'symbol':_0x2ab9a1+'/'+_0x42342b},'usd':{'coin':''+_0x2ab9a1+_0x265877,'symbol':_0x2ab9a1+'/'+_0x265877}};}async function initwsCcxt(_0x5b6a22){const _0x324d83=_0x50b50e;_0x5b6a22==null&&(_0x5b6a22=[],config[_0x324d83(0x1b9)]['forEach'](_0x1fed9f=>{const _0x23f3c9=_0x324d83;if(!_0x1fed9f[_0x23f3c9(0x2f1)]&&_0x1fed9f['coin']!=config[_0x23f3c9(0x2ad)])_0x5b6a22['push'](_0x1fed9f[_0x23f3c9(0x335)]);}));if(!_0x5b6a22['includes'](stablecoins[_0x324d83(0x2b5)][_0x324d83(0x335)]))_0x5b6a22['push'](stablecoins[_0x324d83(0x2b5)][_0x324d83(0x335)]);if(!_0x5b6a22[_0x324d83(0x2cf)](stablecoins[_0x324d83(0x25a)][_0x324d83(0x335)]))_0x5b6a22[_0x324d83(0x24f)](stablecoins[_0x324d83(0x25a)][_0x324d83(0x335)]);if(config['exchange']['startsWith'](_0x324d83(0x215))){if(!_0x5b6a22[_0x324d83(0x2cf)](_0x324d83(0x225)+config[_0x324d83(0x2ad)]))_0x5b6a22[_0x324d83(0x24f)](_0x324d83(0x225)+config[_0x324d83(0x2ad)]);}loadCoins(_0x5b6a22);const _0x1b84ce=async _0x452ed1=>{const _0x25578b=_0x324d83;try{const _0x37ecbf=await exchange['fetchTicker'](_0x452ed1);global[_0x25578b(0x2c5)][noslash(_0x37ecbf[_0x25578b(0x335)])]=_0x37ecbf[_0x25578b(0x1eb)];}catch(_0x14ffec){await handleError(_0x14ffec,_0x25578b(0x30b),_0x452ed1);}while(!![]){if(!botPaused)try{const _0x2965a7=await exchange[_0x25578b(0x2cb)](_0x452ed1);global[_0x25578b(0x2c5)][noslash(_0x2965a7[0x0][_0x25578b(0x335)])]=_0x2965a7[0x0]['price'],await sleep(0x3e8);}catch(_0x13215e){if(!exchangeStopped)await handleError(_0x13215e,_0x25578b(0x2c4),_0x452ed1);}else await sleep(0x64);}},_0x283735=async _0x2eb14a=>{const _0x303c37=_0x324d83;while(!![]){if(!botPaused)try{const _0x4da6d9=await exchange[_0x303c37(0x1fb)](_0x2eb14a);global[_0x303c37(0x2d1)][_0x4da6d9[_0x303c37(0x335)]]=_0x4da6d9['percentage'],await sleep(0x3c*0x3e8);}catch(_0x51a2e5){if(!exchangeStopped)await handleError(_0x51a2e5,_0x303c37(0x24c),_0x2eb14a);}else await sleep(0x64);}},_0x31481a=async()=>{const _0x449a18=_0x324d83;while(!![]){if(!botPaused)try{const _0x3ffd96=await exchange[_0x449a18(0x22c)]();_0x3ffd96[_0x449a18(0x278)](_0x1cbc9c=>{updateNumberCoinsCcxt(_0x1cbc9c);});}catch(_0x13d923){if(!exchangeStopped)await handleError(_0x13d923,_0x449a18(0x22c));}else await sleep(0x64);}};_0x5b6a22[_0x324d83(0x278)](_0x274cb4=>{_0x1b84ce(_0x274cb4),_0x283735(_0x274cb4);}),!wsEventsSet&&(wsEventsSet=!![],_0x31481a(),watchTransactions());}async function watchTransactions(){const _0x1564bc=_0x50b50e;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x136a2e=await getCoins(),[_0x33f846,_0x3e9e86]=_0x136a2e;let _0x396e3a=[];currentCoins['forEach'](_0x3eafd7=>{const _0x44a39f=_0x1aa6,_0x32fd0f=_0x33f846[_0x44a39f(0x232)](_0x4bbcaf=>_0x4bbcaf[_0x44a39f(0x337)]==_0x3eafd7[_0x44a39f(0x337)]);if(_0x32fd0f){if(_0x3eafd7[_0x44a39f(0x1ba)]!=_0x32fd0f['number']){let _0x2034e4;if(_0x3eafd7[_0x44a39f(0x337)]!=config['basecoin']){const _0x23e8f8=global[_0x44a39f(0x2c5)][noslash(_0x3eafd7[_0x44a39f(0x335)])];_0x2034e4=_0x3eafd7[_0x44a39f(0x2f0)]?0x1/_0x23e8f8:_0x23e8f8;}else _0x2034e4=0x1;_0x396e3a[_0x44a39f(0x24f)]({'coin':_0x3eafd7[_0x44a39f(0x337)],'symbol':_0x3eafd7[_0x44a39f(0x335)],'price':_0x2034e4,'number':Number(formatResult(_0x32fd0f[_0x44a39f(0x1ba)]-_0x3eafd7[_0x44a39f(0x1ba)],0x8)),'basecoinvalue':_0x2034e4*(_0x32fd0f['number']-_0x3eafd7[_0x44a39f(0x1ba)])});}}});if(_0x396e3a['length']==0x1&&!blockTransactionDetection){if(config[_0x1564bc(0x23b)]){logger[_0x1564bc(0x1f9)](_0x1564bc(0x239)+_0x396e3a[0x0][_0x1564bc(0x338)]+'\x20|\x20highest\x20fee:\x20'+lastFees['highest']);if(lastFees[_0x1564bc(0x2b6)]==0x0||Math['abs'](_0x396e3a[0x0][_0x1564bc(0x338)])>lastFees[_0x1564bc(0x2b6)]){delete _0x396e3a[0x0][_0x1564bc(0x335)],delete _0x396e3a[0x0]['basecoinvalue'];let _0x46beed=[],_0x9b688d=[...config['liquidity']]||[],_0x3058a0=config[_0x1564bc(0x285)];_0x9b688d[_0x1564bc(0x2f6)]((_0x368a1b,_0x5cdb60)=>_0x368a1b[_0x1564bc(0x315)]>_0x5cdb60[_0x1564bc(0x315)]?-0x1:_0x5cdb60[_0x1564bc(0x315)]>_0x368a1b['date']?0x1:0x0);const _0x23070f=getDate();if(_0x9b688d[0x0]){const _0x43886b=fns['parse'](_0x9b688d[0x0][_0x1564bc(0x315)],_0x1564bc(0x230),new Date()),_0x404825=fns[_0x1564bc(0x1b2)](_0x23070f,'yyyy/MM/dd',new Date());if(fns[_0x1564bc(0x1fa)](_0x43886b,_0x404825)){_0x46beed=_0x9b688d[0x0][_0x1564bc(0x2a6)];const _0x261b48=_0x46beed[_0x1564bc(0x232)](_0x554633=>_0x554633[_0x1564bc(0x337)]==_0x396e3a[0x0][_0x1564bc(0x337)]);_0x261b48?(_0x261b48[_0x1564bc(0x1ba)]+=_0x396e3a[0x0][_0x1564bc(0x1ba)],_0x261b48['number']==0x0&&(_0x46beed=_0x46beed[_0x1564bc(0x231)](_0x57e713=>{const _0x386528=_0x1564bc;return _0x57e713[_0x386528(0x337)]!=_0x396e3a[0x0]['coin'];}))):_0x46beed['push'](_0x396e3a[0x0]);const _0x36fa19=_0x3058a0['find'](_0x13c143=>_0x13c143[_0x1564bc(0x315)]==_0x23070f);_0x36fa19[_0x1564bc(0x2a6)]=_0x46beed;}else _0x3058a0['push']({'date':_0x23070f,'changes':[_0x396e3a[0x0]]});}const _0x52ab79=_0x3058a0[_0x1564bc(0x232)](_0x5662ea=>_0x5662ea[_0x1564bc(0x315)]==_0x23070f);if(_0x52ab79){let _0x50c204=!![];_0x52ab79[_0x1564bc(0x2a6)][_0x1564bc(0x278)](_0x423f22=>{if(_0x423f22['number']!=0x0)_0x50c204=![];}),_0x50c204&&(_0x3058a0=_0x3058a0[_0x1564bc(0x231)](_0xa02db9=>{const _0x3e5fda=_0x1564bc;return _0xa02db9[_0x3e5fda(0x315)]!=_0x23070f;}));}let _0x373f73=dbConfig[_0x1564bc(0x265)]('bot')['find']({'botID':botID})[_0x1564bc(0x316)]();_0x373f73&&(dbConfig[_0x1564bc(0x265)](_0x1564bc(0x297))['find']({'botID':botID})[_0x1564bc(0x268)]({'liquidity':_0x3058a0})[_0x1564bc(0x2ff)](),config[_0x1564bc(0x285)]=_0x3058a0),logHistory(_0x1564bc(0x1b0),_0x1564bc(0x2dd)+Math[_0x1564bc(0x2f3)](_0x396e3a[0x0][_0x1564bc(0x1ba)])+'\x20'+_0x396e3a[0x0][_0x1564bc(0x337)]+'\x20'+(_0x396e3a[0x0][_0x1564bc(0x1ba)]>0x0?_0x1564bc(0x2aa):_0x1564bc(0x1b5))+_0x1564bc(0x249)),proxyEmit(_0x1564bc(0x289),emittedConfiguration());}else logger['debug'](_0x1564bc(0x2a9)+Math[_0x1564bc(0x2f3)](_0x396e3a[0x0][_0x1564bc(0x1ba)])+'\x20'+_0x396e3a[0x0][_0x1564bc(0x337)]+'\x20'+(_0x396e3a[0x0][_0x1564bc(0x1ba)]>0x0?_0x1564bc(0x2aa):'removed'));transactionDetected=!![],currentCoins=_0x33f846,currentCoinsAll=_0x3e9e86;}else logger['debug'](_0x1564bc(0x2dd)+Math['abs'](_0x396e3a[0x0]['number'])+'\x20'+_0x396e3a[0x0][_0x1564bc(0x337)]+'\x20'+(_0x396e3a[0x0]['number']>0x0?_0x1564bc(0x2aa):_0x1564bc(0x1b5))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled'),currentCoins=_0x33f846,currentCoinsAll=_0x3e9e86;}await sleep(watchTransactionsInterval);}catch(_0xa7b4d3){if(!exchangeStopped)await handleError(_0xa7b4d3,_0x1564bc(0x22b));}else await sleep(0x64);}}async function loadSymbols(_0x4e8e06=config[_0x50b50e(0x2e1)]){const _0xa48e21=_0x50b50e;try{markets=await exchange[_0xa48e21(0x263)](),allSymbols=[],Object[_0xa48e21(0x21c)](markets)[_0xa48e21(0x278)](_0x41f835=>{const _0x5226f1=_0xa48e21;_0x41f835[0x1][_0x5226f1(0x211)]&&_0x41f835[0x1][_0x5226f1(0x1d1)]&&allSymbols[_0x5226f1(0x24f)](_0x41f835[0x0]);});}catch(_0xda7910){throw _0xda7910;}}async function initclient(){const _0x524c0c=_0x50b50e;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x524c0c(0x304),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x524c0c(0x2eb),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xd122b4=getNormalizedPerformance();emitPerformance(_0xd122b4),getStartingBalances(_0xd122b4);}async function toggleBotMode(){const _0x2a248e=_0x50b50e;let _0x44560e=dbConfig[_0x2a248e(0x265)](_0x2a248e(0x297))['find']({'botID':botID})[_0x2a248e(0x316)]();if(_0x44560e){const _0x664e35=!_0x44560e['headless'];dbConfig[_0x2a248e(0x265)](_0x2a248e(0x297))[_0x2a248e(0x232)]({'botID':botID})[_0x2a248e(0x268)]({'headless':_0x664e35})[_0x2a248e(0x2ff)](),config[_0x2a248e(0x251)]=_0x664e35,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4fd9cd=_0x50b50e;process[_0x4fd9cd(0x2fd)]({'updatebotmanager':!![]},_0x50f3a0=>{});}async function loadCoins(_0x15e036){const _0x2cf1db=_0x50b50e;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0xb9f39c,_0x23f827=0x0,_0x418ea9=0x0;_0x15e036[_0x2cf1db(0x278)](_0x3a0f3c=>{const _0x527e51=_0x2cf1db;loading[_0x527e51(0x1f1)][_0x527e51(0x24f)](_0x3a0f3c);}),loadingCanceled=![];let _0x5a3f41=![];while(_0xb9f39c!=_0x15e036[_0x2cf1db(0x2be)]){_0xb9f39c=0x0,_0x15e036[_0x2cf1db(0x278)](_0x20f40d=>{const _0xfbde8c=_0x2cf1db;if(global[_0xfbde8c(0x2c5)][noslash(_0x20f40d)]){loading[_0xfbde8c(0x1f1)]=loading['remainingSymbols'][_0xfbde8c(0x231)](_0x1e8a65=>_0x1e8a65!=_0x20f40d);if(!watchedSymbols[_0xfbde8c(0x2cf)](_0x20f40d))watchedSymbols[_0xfbde8c(0x24f)](_0x20f40d);_0xb9f39c++;}}),loading[_0x2cf1db(0x2a3)]=Math['round'](_0xb9f39c/_0x15e036[_0x2cf1db(0x2be)]*0x64);loading[_0x2cf1db(0x2a3)]!=0x64&&(_0x418ea9>0x1e*0x5&&(loading[_0x2cf1db(0x1d9)]=!![],emitLoadingProgress()),_0x418ea9>0x78*0x5&&!_0x5a3f41&&(loading[_0x2cf1db(0x1dc)]=!![],emitLoadingProgress(),_0x5a3f41=!![],logHistory(_0x2cf1db(0x2c3),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x2cf1db(0x1f1)][_0x2cf1db(0x2fb)](',\x20')+_0x2cf1db(0x27e)),logHistory(_0x2cf1db(0x2c3),_0x2cf1db(0x303)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{const _0x487d7f=_0x2cf1db;process[_0x487d7f(0x2fd)]({'stop':'restart'},_0x20256d=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x2cf1db(0x1dc)]=!![],emitLoadingProgress();break;}else _0xb9f39c!=_0x23f827&&(_0x23f827=_0xb9f39c,emitLoadingProgress()),_0x418ea9++,await sleep(0xc8);}_0xb9f39c==_0x15e036[_0x2cf1db(0x2be)]&&(coinsLoaded=!![],process[_0x2cf1db(0x2fd)]({'status':_0x2cf1db(0x1fd),'live':_0x2cf1db(0x31b)},_0xd7504=>{}),_0x5a3f41&&logHistory(_0x2cf1db(0x1b0),_0x2cf1db(0x1cd)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x455ff9=_0x50b50e;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x455ff9(0x206)});}function emitLoadingProgress(){const _0x5f5407=_0x50b50e;proxyEmit(_0x5f5407(0x27d),loading);}async function getFiat(){const _0x50ae9a=_0x50b50e;let _0x109d8a=global[_0x50ae9a(0x2c5)][stablecoins['eur'][_0x50ae9a(0x337)]],_0x1f1207=global[_0x50ae9a(0x2c5)][stablecoins[_0x50ae9a(0x25a)][_0x50ae9a(0x337)]];return{'eur':Number(_0x109d8a),'usd':Number(_0x1f1207)};}function capitalize(_0x4c2a4c){const _0x244e47=_0x50b50e;return _0x4c2a4c[_0x244e47(0x279)](0x0,0x1)[_0x244e47(0x1ca)]()+_0x4c2a4c[_0x244e47(0x279)](0x1);}function supportedExchanges(){const _0x4ba0c6=_0x50b50e,_0x4c7c25=['ws',_0x4ba0c6(0x24c),'fetchTicker',_0x4ba0c6(0x2cb),'watchOrders',_0x4ba0c6(0x269),'createOrder',_0x4ba0c6(0x1e7),_0x4ba0c6(0x26e),'fetchBalance'];let _0x262dbd=[],_0x411bdf=[],_0xd31d9b=ccxt[_0x4ba0c6(0x2a0)][_0x4ba0c6(0x304)];_0xd31d9b[_0x4ba0c6(0x278)](_0xfd546=>{const _0x555e03=_0x4ba0c6;try{const _0x158e60=new ccxt[(_0x555e03(0x2a0))][_0xfd546]();_0x411bdf[_0x555e03(0x24f)](_0x158e60);}catch(_0x3d313d){}}),_0x411bdf['forEach'](_0x36df5f=>{const _0x4cb1c0=_0x4ba0c6;let _0x4aefe0=0x0;_0x4c7c25['forEach'](_0x3c5e69=>{const _0x3c4a56=_0x1aa6;_0x3c5e69 in _0x36df5f[_0x3c4a56(0x1e5)]&&_0x36df5f[_0x3c4a56(0x1e5)][_0x3c5e69]&&_0x4aefe0++;}),_0x4aefe0==_0x4c7c25[_0x4cb1c0(0x2be)]&&_0x262dbd[_0x4cb1c0(0x24f)](capitalize(_0x36df5f['id']));});let _0xef6b61=[];return _0xd31d9b[_0x4ba0c6(0x278)](_0x29deb6=>{const _0x34ada6=_0x4ba0c6;_0x29deb6=capitalize(_0x29deb6);if(!_0x262dbd[_0x34ada6(0x2cf)](_0x29deb6))_0xef6b61[_0x34ada6(0x24f)](_0x29deb6);}),_0x262dbd;}function setStartDatePerformance(){const _0x5c7033=_0x50b50e;if(config&&config[_0x5c7033(0x285)][0x0][_0x5c7033(0x2a6)][_0x5c7033(0x2be)]!=0x0){const _0x1aed97=config['liquidity'][0x0]['changes'];dbPerformance['get']('data')[_0x5c7033(0x232)]({'date':config[_0x5c7033(0x29a)]})['assign']({'coins':_0x1aed97})['write']();}}async function recreateCoinResults(){const _0xe15057=_0x50b50e;let _0x24e199,_0xd869df=[];try{const _0x408816=fns[_0xe15057(0x22e)](fns[_0xe15057(0x2bc)](config[_0xe15057(0x29a)][_0xe15057(0x2d5)](/\//g,'-')),_0xe15057(0x292));for(const _0x319f5a of currentCoins){if(_0x319f5a[_0xe15057(0x337)]!=config[_0xe15057(0x2ad)]){let _0x3d6ad7=0x0,_0x33ea00,_0x443235;_0x24e199=await getAllEventOrders(_0x319f5a[_0xe15057(0x335)]);if(_0x24e199['length']>0x0)_0x24e199['forEach'](_0x2ba882=>{const _0x55d4a8=_0xe15057,_0x1aa3c5=_0x319f5a[_0x55d4a8(0x335)][_0x55d4a8(0x2cf)](config[_0x55d4a8(0x2ad)]+'/');_0xd869df['push']({'datetime':_0x2ba882['datetime'],'coin':_0x319f5a['coin'],'symbol':_0x319f5a[_0x55d4a8(0x335)],'side':_0x2ba882[_0x55d4a8(0x2af)],'reverse':_0x1aa3c5,'amount':formatResult(_0x2ba882[_0x55d4a8(0x201)],0x8),'filled':formatResult(_0x2ba882['filled'],0x8),'price':formatResult(_0x2ba882[_0x55d4a8(0x2d8)],0x8)}),_0x3d6ad7=_0x2ba882[_0x55d4a8(0x2af)]==_0x55d4a8(0x242)?_0x3d6ad7+_0x2ba882[_0x55d4a8(0x201)]:_0x3d6ad7-_0x2ba882[_0x55d4a8(0x201)];if(!_0x443235)_0x443235=_0x2ba882[_0x55d4a8(0x2d8)];});_0x33ea00=_0x319f5a[_0xe15057(0x1ba)]-_0x3d6ad7;let _0x5c0dc8;config[_0xe15057(0x285)][_0xe15057(0x278)](_0x922fcb=>{const _0x2ca78d=_0xe15057;!_0x5c0dc8&&(_0x5c0dc8=_0x922fcb[_0x2ca78d(0x2a6)][_0x2ca78d(0x232)](_0x2587da=>_0x2587da[_0x2ca78d(0x337)]==_0x319f5a[_0x2ca78d(0x337)]),_0x5c0dc8&&(_0x33ea00=_0x5c0dc8[_0x2ca78d(0x1ba)],_0x443235=_0x5c0dc8['price']));});let _0x2076d6=dbCoinResults[_0xe15057(0x265)](_0xe15057(0x2bb))['find']({'coin':_0x319f5a[_0xe15057(0x337)]})[_0xe15057(0x316)]();_0x2076d6={'coin':_0x319f5a[_0xe15057(0x337)],'number':_0x33ea00,'breakeven':_0x443235,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0xe15057(0x265)](_0xe15057(0x2bb))[_0xe15057(0x232)]({'coin':_0x319f5a[_0xe15057(0x337)]})[_0xe15057(0x268)](_0x2076d6)[_0xe15057(0x2ff)]();}}_0xd869df[_0xe15057(0x2f6)]((_0x4f80ee,_0x12c992)=>_0x4f80ee[_0xe15057(0x1c5)]>_0x12c992[_0xe15057(0x1c5)]?0x1:_0x12c992[_0xe15057(0x1c5)]>_0x4f80ee[_0xe15057(0x1c5)]?-0x1:0x0);let _0x5f08db=0x0;for(let _0x162305 of _0xd869df){await updateCoinResults(_0x162305,!![]);}}catch(_0x54a028){await handleError(_0x54a028,_0xe15057(0x1ee));}}async function getAllEventOrders(_0x7c1ee5){const _0x45026f=_0x50b50e;let _0x127b33=[],_0x196cc6=dbLogs['get'](_0x45026f(0x275))['filter'](_0xfcedf6=>{const _0x359cac=_0x45026f,_0x3781db=_0xfcedf6['event'][_0x359cac(0x29d)]();return _0x3781db[_0x359cac(0x2cf)](_0x7c1ee5[_0x359cac(0x29d)]())&&(_0x3781db[_0x359cac(0x2cf)]('market')&&_0x3781db['includes']('order')||_0x3781db['includes'](_0x359cac(0x201))&&_0x3781db[_0x359cac(0x2cf)](_0x359cac(0x218)));})['sortBy'](_0x45026f(0x248))[_0x45026f(0x316)]();return _0x196cc6[_0x45026f(0x278)](_0x5dabf9=>{const _0x4c001a=_0x45026f,_0x5f41df=_0x5dabf9[_0x4c001a(0x2e8)][_0x4c001a(0x2cf)](_0x4c001a(0x21b))?_0x4c001a(0x21b):_0x4c001a(0x242),_0x3ee2e5=/#([0-9]|\.)+\s/i,_0x549676=Number(_0x3ee2e5['exec'](_0x5dabf9[_0x4c001a(0x2e8)])[0x0][_0x4c001a(0x2ed)](0x1)),_0x1afeaa=/@([0-9]|\.)+$/i,_0x205292=Number(_0x1afeaa[_0x4c001a(0x2dc)](_0x5dabf9[_0x4c001a(0x2e8)])[0x0][_0x4c001a(0x2ed)](0x1));_0x127b33['push']({'datetime':_0x5dabf9[_0x4c001a(0x248)],'coin':symbolToCoin(_0x7c1ee5),'symbol':_0x7c1ee5,'side':_0x5f41df,'amount':_0x549676,'filled':_0x549676,'price':_0x205292});}),_0x127b33;}async function getAllOrders(_0x20b30e,_0x370627){const _0x11de3c=_0x50b50e;let _0x709f60=[];while(_0x370627<exchange[_0x11de3c(0x2f8)]()){const _0x3f6ff8=0x1f4;try{const _0x385e48=await exchange[_0x11de3c(0x26e)](_0x20b30e,_0x370627,_0x3f6ff8);if(_0x385e48[_0x11de3c(0x2be)])_0x370627=_0x385e48[_0x385e48[_0x11de3c(0x2be)]-0x1]['timestamp']+0x1,_0x709f60=_0x709f60[_0x11de3c(0x23c)](_0x385e48);else break;}catch(_0x4b0deb){await handleError(_0x4b0deb,_0x11de3c(0x26d),_0x20b30e);}}return _0x709f60;}async function validate24hChanges(){const _0x30ac0f=_0x50b50e;for(const _0x47589b of currentCoins){if(_0x47589b['coin']!=config[_0x30ac0f(0x2ad)]){let _0xf9b38b;_0x47589b[_0x30ac0f(0x2f0)]?_0xf9b38b=formatResult((0x1/(global[_0x30ac0f(0x2d1)][noslash(_0x47589b['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0xf9b38b=global['change'][noslash(_0x47589b[_0x30ac0f(0x335)])],_0xf9b38b<config[_0x30ac0f(0x32c)]&&(logHistory(_0x30ac0f(0x2c3),_0x47589b[_0x30ac0f(0x337)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0xf9b38b+'%'),logHistory(_0x30ac0f(0x2c3),_0x30ac0f(0x27a)),logHistory(_0x30ac0f(0x2c3),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x17e00b,_0x33293f){const _0x243eaf=_0x50b50e;if(!_0x17e00b)return!![];const _0x4b1650=_0x33293f[_0x243eaf(0x1e9)]('.'),_0x12303f=_0x17e00b[_0x243eaf(0x1e9)]('.');for(var _0x969e01=0x0;_0x969e01<_0x12303f[_0x243eaf(0x2be)];_0x969e01++){const _0x195e39=~~_0x12303f[_0x969e01],_0x4e97c2=~~_0x4b1650[_0x969e01];if(_0x195e39<_0x4e97c2)return!![];if(_0x195e39>_0x4e97c2)return![];}return![];}async function oneTimeMigration(){const _0x400c90=_0x50b50e;let _0x2b7e51=dbLogs[_0x400c90(0x265)](_0x400c90(0x227))['value']();if(isOlderVersion(_0x2b7e51,_0x400c90(0x223))){let _0xc5ad08=[];const _0x7af7c8=dbLogs['get']('logs')['value']();_0x7af7c8[_0x400c90(0x278)](_0x3a136a=>{const _0x24c105=_0x400c90;_0xc5ad08[_0x24c105(0x24f)]({'time':_0x3a136a[_0x24c105(0x248)],'type':_0x3a136a[_0x24c105(0x332)],'event':_0x3a136a[_0x24c105(0x2e8)]});}),dbLogs['get']('logs')[_0x400c90(0x268)](_0xc5ad08)[_0x400c90(0x2ff)]();}let _0x5af370=dbConfig[_0x400c90(0x265)](_0x400c90(0x227))[_0x400c90(0x316)]();if(isOlderVersion(_0x5af370,_0x400c90(0x223))){let _0x458f48=dbConfig[_0x400c90(0x265)](_0x400c90(0x297))[_0x400c90(0x232)]({'botID':botID})[_0x400c90(0x316)]();if(_0x458f48){let _0x4b6e9c=[];_0x458f48[_0x400c90(0x1b9)]['forEach'](_0x202b3f=>{const _0x442a0f=_0x400c90;_0x4b6e9c[_0x442a0f(0x24f)]({'coin':_0x202b3f[_0x442a0f(0x337)],'number':_0x202b3f[_0x442a0f(0x1ad)],'price':_0x202b3f[_0x442a0f(0x258)]}),delete _0x202b3f[_0x442a0f(0x1ad)],delete _0x202b3f['startprice'];});if(_0x4b6e9c[_0x400c90(0x2be)]!==0x0)fs[_0x400c90(0x1ed)](configbackuppath+(_0x400c90(0x1fc)+botID+_0x400c90(0x2e0)),JSON[_0x400c90(0x2e6)](_0x4b6e9c,null,0x4),function(_0xc5fd9d){if(_0xc5fd9d){}});const _0x5e997b=(_0x5f159b,_0x6ff209)=>{const _0x398d43=_0x400c90;let _0x1e1d63=[];_0x6ff209['forEach'](_0x2796c4=>{const _0x266dd0=_0x1aa6,_0x26f8f0=_0x5f159b[_0x266dd0(0x232)](_0xf67a4d=>_0xf67a4d[_0x266dd0(0x337)]==_0x2796c4[_0x266dd0(0x337)]);if(!_0x26f8f0)_0x1e1d63[_0x266dd0(0x24f)](_0x2796c4);});let _0x31770a=[];return _0x5f159b[_0x398d43(0x278)](_0x1947cc=>{const _0x20b6ef=_0x398d43,_0x396f64=_0x6ff209[_0x20b6ef(0x232)](_0xb3bc0a=>_0xb3bc0a[_0x20b6ef(0x337)]==_0x1947cc[_0x20b6ef(0x337)]);if(!_0x396f64||_0x396f64[_0x20b6ef(0x1ba)]==0x0&&_0x1947cc[_0x20b6ef(0x1ba)]!=0x0)_0x31770a['push'](_0x1947cc);}),{'missingDay1':_0x1e1d63,'notInDay2':_0x31770a};},_0x5dc52f=dbPerformance[_0x400c90(0x265)](_0x400c90(0x2d0))[_0x400c90(0x1c6)]()[_0x400c90(0x316)]();if(_0x5dc52f[_0x400c90(0x2be)]>0x1){const {missingDay1:_0x20a712,notInDay2:_0x5824cd}=_0x5e997b(_0x4b6e9c,_0x5dc52f[0x1][_0x400c90(0x2bb)]);_0x4b6e9c=[..._0x4b6e9c,..._0x20a712],_0x5824cd[_0x400c90(0x278)](_0x143a61=>{const _0x15e6b7=_0x400c90;let _0x267179=_0x4b6e9c['findIndex'](_0xd9486a=>_0xd9486a[_0x15e6b7(0x337)]==_0x143a61['coin']);_0x267179!=-0x1&&_0x4b6e9c['splice'](_0x267179,0x1);});}_0x4b6e9c[_0x400c90(0x2f6)]((_0x197f4e,_0x15855c)=>_0x197f4e[_0x400c90(0x337)]>_0x15855c['coin']?0x1:_0x15855c[_0x400c90(0x337)]>_0x197f4e['coin']?-0x1:0x0);let _0x26da86=[{'date':_0x458f48['startdate'],'changes':_0x4b6e9c}];_0x5dc52f['length']>0x2&&_0x5dc52f['forEach']((_0x315ffa,_0x19a3ef)=>{const _0x3a327c=_0x400c90;if(_0x19a3ef>0x0&&_0x19a3ef<_0x5dc52f[_0x3a327c(0x2be)]-0x1){const {missingDay1:_0x189dff,notInDay2:_0x42d0aa}=_0x5e997b(_0x5dc52f[_0x19a3ef][_0x3a327c(0x2bb)],_0x5dc52f[_0x19a3ef+0x1][_0x3a327c(0x2bb)]);_0x4b6e9c=[],(_0x189dff[_0x3a327c(0x2be)]!=0x0||_0x42d0aa[_0x3a327c(0x2be)]!=0x0)&&(_0x189dff[_0x3a327c(0x2be)]!=0x0&&_0x4b6e9c[_0x3a327c(0x24f)](..._0x189dff),_0x42d0aa[_0x3a327c(0x2be)]!=0x0&&(_0x42d0aa['forEach'](_0x351a0c=>{const _0x18302c=_0x3a327c;_0x351a0c[_0x18302c(0x1ba)]=-_0x351a0c[_0x18302c(0x1ba)];}),_0x4b6e9c[_0x3a327c(0x24f)](..._0x42d0aa)),_0x4b6e9c[_0x3a327c(0x2f6)]((_0x41d902,_0x156a63)=>_0x41d902[_0x3a327c(0x337)]>_0x156a63[_0x3a327c(0x337)]?0x1:_0x156a63[_0x3a327c(0x337)]>_0x41d902[_0x3a327c(0x337)]?-0x1:0x0),_0x26da86[_0x3a327c(0x24f)]({'date':_0x5dc52f[_0x19a3ef+0x1][_0x3a327c(0x315)],'changes':_0x4b6e9c}));}}),dbConfig[_0x400c90(0x265)](_0x400c90(0x297))[_0x400c90(0x232)]({'botID':botID})['assign']({..._0x458f48,'liquidity':_0x26da86})['write']();}}if(isOlderVersion(_0x5af370,_0x400c90(0x27b))){let _0x561cd1=dbConfig[_0x400c90(0x265)](_0x400c90(0x297))[_0x400c90(0x232)]({'botID':botID})[_0x400c90(0x316)]();if(_0x561cd1){const _0x1f29dc=_0x561cd1[_0x400c90(0x2e1)],_0x485d51=_0x1f29dc?capitalize(_0x1f29dc):_0x400c90(0x215);dbConfig[_0x400c90(0x265)](_0x400c90(0x297))['find']({'botID':botID})[_0x400c90(0x268)]({'exchange':_0x485d51})['write']();}}let _0x3c1757=dbPerformance['get'](_0x400c90(0x227))[_0x400c90(0x316)]();isOlderVersion(_0x3c1757,'2.3.5')&&setStartDatePerformance();let _0x53eafa=dbCoinResults['get'](_0x400c90(0x227))[_0x400c90(0x316)]();if(isOlderVersion(_0x53eafa,_0x400c90(0x1d8))){let _0x3151b7=dbCoinResults['get'](_0x400c90(0x2bb))[_0x400c90(0x316)]();if(_0x3151b7[_0x400c90(0x2be)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x273ad5=_0x50b50e;dbConfig[_0x273ad5(0x1b1)]('version',serverversion)[_0x273ad5(0x2ff)](),dbPerformance[_0x273ad5(0x1b1)](_0x273ad5(0x227),serverversion)[_0x273ad5(0x2ff)](),dbLogs[_0x273ad5(0x1b1)](_0x273ad5(0x227),serverversion)[_0x273ad5(0x2ff)](),dbCoinResults[_0x273ad5(0x1b1)](_0x273ad5(0x227),serverversion)['write']();}function getConfiguration(_0x29c36c){const _0x186a39=_0x50b50e;let _0x1636bb=dbConfig['get'](_0x186a39(0x297))[_0x186a39(0x232)]({'botID':_0x29c36c})[_0x186a39(0x316)]();if(_0x1636bb){let _0x5f2abc=![];typeof _0x1636bb[_0x186a39(0x30a)]==_0x186a39(0x2b1)&&(_0x1636bb={..._0x1636bb,'threshold':Number(_0x1636bb['threshold'])},_0x5f2abc=!![]),_0x1636bb[_0x186a39(0x32c)]==undefined&&(_0x1636bb={..._0x1636bb,'change24h':-0x14},_0x5f2abc=!![]),_0x1636bb[_0x186a39(0x205)]==undefined&&(_0x1636bb={..._0x1636bb,'fiat':_0x186a39(0x299)},_0x5f2abc=!![]),_0x1636bb[_0x186a39(0x30f)]==undefined&&(_0x1636bb={..._0x1636bb,'onepagemode':settings[_0x186a39(0x30f)]},_0x5f2abc=!![]),_0x1636bb['colorscheme']==undefined&&(_0x1636bb={..._0x1636bb,'colorscheme':_0x186a39(0x283)},_0x5f2abc=!![]),_0x1636bb[_0x186a39(0x23b)]==undefined&&(_0x1636bb={..._0x1636bb,'autoliquidity':!![]},_0x5f2abc=!![]),_0x5f2abc&&(_0x1636bb={'botID':_0x1636bb[_0x186a39(0x2b4)],'exchange':_0x1636bb[_0x186a39(0x2e1)],'apiKey':_0x1636bb[_0x186a39(0x1e8)],'apiSecret':_0x1636bb[_0x186a39(0x331)],'apiPassword':_0x1636bb[_0x186a39(0x2b8)],'basecoin':_0x1636bb[_0x186a39(0x2ad)],'botname':_0x1636bb[_0x186a39(0x2fe)],'showname':_0x1636bb[_0x186a39(0x314)],'threshold':_0x1636bb[_0x186a39(0x30a)],'ordertype':_0x1636bb[_0x186a39(0x28a)],'timeout':_0x1636bb[_0x186a39(0x1d9)],'fiat':_0x1636bb[_0x186a39(0x205)],'startdate':_0x1636bb[_0x186a39(0x29a)],'recreate':_0x1636bb['recreate'],'timeshift':_0x1636bb[_0x186a39(0x305)],'onepagemode':_0x1636bb['onepagemode'],'headless':_0x1636bb['headless'],'cooldown':_0x1636bb[_0x186a39(0x26b)],'change24h':_0x1636bb[_0x186a39(0x32c)],'emojibuy':_0x1636bb[_0x186a39(0x2ee)],'emojisell':_0x1636bb[_0x186a39(0x21e)],'colorscheme':_0x1636bb[_0x186a39(0x259)],'portfolio':_0x1636bb[_0x186a39(0x1b9)],'autoliquidity':_0x1636bb[_0x186a39(0x23b)],'liquidity':_0x1636bb[_0x186a39(0x285)],'openOrders':_0x1636bb[_0x186a39(0x1d7)]},dbConfig[_0x186a39(0x265)](_0x186a39(0x297))[_0x186a39(0x2ab)]()['write'](),dbConfig['get'](_0x186a39(0x297))[_0x186a39(0x24f)](_0x1636bb)[_0x186a39(0x2ff)]());}else _0x1636bb={'botID':_0x29c36c,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x29c36c,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x186a39(0x305)],'onepagemode':settings[_0x186a39(0x30f)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1636bb;}function _0x1aa6(_0x58e829,_0x3fd94f){const _0x13b087=_0x5756();return _0x1aa6=function(_0x114cb4,_0x39059a){_0x114cb4=_0x114cb4-0x1ac;let _0x575616=_0x13b087[_0x114cb4];return _0x575616;},_0x1aa6(_0x58e829,_0x3fd94f);}function emittedConfiguration(){const _0x19fd00=_0x50b50e;let _0x15a854;if(config['apiKey']=='')_0x15a854={...config,'configstate':'initial'};else config['apiKey']==_0x19fd00(0x23d)?_0x15a854={...config,'configstate':_0x19fd00(0x2bd)}:(_0x15a854={...config,'apiKey':_0x19fd00(0x243),'apiSecret':_0x19fd00(0x243)},config[_0x19fd00(0x2b8)]&&(_0x15a854['apiPassword']=_0x19fd00(0x243)));return _0x15a854;}function getSettings(){const _0x1ee0f1=_0x50b50e;return dbSettings[_0x1ee0f1(0x265)](_0x1ee0f1(0x339))[_0x1ee0f1(0x316)]();}function getSecure(){const _0x49ffe6=_0x50b50e;return dbSecure[_0x49ffe6(0x265)](_0x49ffe6(0x1e4))[_0x49ffe6(0x316)]()||{};}function updateTimeshift(_0x59c18a){const _0x2d36e2=_0x50b50e;let _0x47eb2e=dbConfig[_0x2d36e2(0x265)]('bot')[_0x2d36e2(0x232)]({'botID':botID})[_0x2d36e2(0x316)]();_0x47eb2e&&dbConfig[_0x2d36e2(0x265)](_0x2d36e2(0x297))['find']({'botID':botID})['assign']({'timeshift':_0x59c18a})[_0x2d36e2(0x2ff)](),config[_0x2d36e2(0x305)]=_0x59c18a,proxyEmit(_0x2d36e2(0x289),emittedConfiguration());}function updateOnepagemode(_0xa7e2f0){const _0x3baf20=_0x50b50e;let _0x12cf27=dbConfig[_0x3baf20(0x265)](_0x3baf20(0x297))[_0x3baf20(0x232)]({'botID':botID})[_0x3baf20(0x316)]();_0x12cf27&&dbConfig[_0x3baf20(0x265)](_0x3baf20(0x297))[_0x3baf20(0x232)]({'botID':botID})[_0x3baf20(0x268)]({'onepagemode':_0xa7e2f0})['write'](),config[_0x3baf20(0x30f)]=_0xa7e2f0,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0xd24036){const _0x3663de=_0x50b50e;logger[_0x3663de(0x1f9)](_0x3663de(0x1b6));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x3663de(0x1f9)]('Transaction\x20detection\x20blocked');let _0x1d9aea=[],_0xf2c123=![],_0x3ed192=![],_0x4c18f8=[];_0xd24036[_0x3663de(0x1b9)][_0x3663de(0x278)](_0x473061=>{const _0x442703=_0x3663de;if(!_0x473061['excluded']&&_0x473061[_0x442703(0x337)]!=_0xd24036[_0x442703(0x2ad)])_0x4c18f8[_0x442703(0x24f)](_0x473061[_0x442703(0x335)]);}),_0x4c18f8[_0x3663de(0x278)](_0x2de74c=>{const _0x3e92ef=_0x3663de,_0x5e8449=watchedSymbols[_0x3e92ef(0x2cf)](_0x2de74c);!_0x5e8449&&_0x1d9aea['push'](_0x2de74c);}),_0x4c18f8[_0x3663de(0x278)](_0x4443da=>{const _0x1c7109=_0x3663de,_0x19854f=currentCoins['find'](_0x11efdb=>_0x11efdb[_0x1c7109(0x335)]==_0x4443da);!_0x19854f&&(_0xf2c123=!![]);}),currentCoins[_0x3663de(0x278)](_0x32c518=>{const _0x2499f1=_0x3663de;if(_0x32c518[_0x2499f1(0x337)]!=config[_0x2499f1(0x2ad)]){const _0x3793c2=_0x4c18f8[_0x2499f1(0x232)](_0x3edd92=>_0x3edd92==_0x32c518[_0x2499f1(0x335)]);!_0x3793c2&&(_0xf2c123=!![]);}}),_0xd24036[_0x3663de(0x1b9)][_0x3663de(0x278)](_0x1a55d6=>{const _0x1334d9=_0x3663de,_0xfb3b28=config[_0x1334d9(0x1b9)][_0x1334d9(0x232)](_0x5935d4=>_0x5935d4[_0x1334d9(0x337)]==_0x1a55d6[_0x1334d9(0x337)]);if(_0xfb3b28&&_0x1a55d6[_0x1334d9(0x235)]!=_0xfb3b28['offset'])_0x3ed192=!![];});let _0x144965=dbConfig['get']('bot')['find']({'botID':botID})[_0x3663de(0x316)]();_0xd24036={..._0xd24036,'apiKey':crypt[_0x3663de(0x31c)](secure[_0x3663de(0x298)],_0xd24036['apiKey'])[_0x3663de(0x1bd)],'apiSecret':crypt['decrypt'](secure[_0x3663de(0x298)],_0xd24036[_0x3663de(0x331)])[_0x3663de(0x1bd)]};_0xd24036['apiPassword']&&(_0xd24036[_0x3663de(0x2b8)]=crypt['decrypt'](secure[_0x3663de(0x298)],_0xd24036[_0x3663de(0x2b8)])['message']);let _0x532b26=![];if(_0x144965){_0xd24036[_0x3663de(0x1e8)]=='************'?_0xd24036[_0x3663de(0x1e8)]=config[_0x3663de(0x1e8)]:_0x532b26=!![];_0xd24036['apiSecret']==_0x3663de(0x243)?_0xd24036['apiSecret']=config[_0x3663de(0x331)]:_0x532b26=!![];if(_0xd24036[_0x3663de(0x2b8)]==_0x3663de(0x243))_0xd24036[_0x3663de(0x2b8)]=config[_0x3663de(0x2b8)];else{if(_0xd24036[_0x3663de(0x2b8)])_0x532b26=!![];}dbConfig['get'](_0x3663de(0x297))[_0x3663de(0x232)]({'botID':botID})[_0x3663de(0x268)](_0xd24036)[_0x3663de(0x2ff)]();}else dbConfig[_0x3663de(0x265)](_0x3663de(0x297))['push'](_0xd24036)[_0x3663de(0x2ff)](),_0x532b26=!![],process[_0x3663de(0x2fd)]({'status':_0x3663de(0x1fd),'live':_0x3663de(0x31b)},_0x217a96=>{});process['send']({'botname':_0xd24036[_0x3663de(0x2fe)]},_0x17f2a3=>{}),updateBotManager(),config={..._0xd24036},proxyEmit(_0x3663de(0x2d4)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x532b26)await reset(_0x1d9aea,!![]);else _0xf2c123||_0x3ed192?await reset(_0x1d9aea,![]):getBalances();blockTransactionDetection=![],logger[_0x3663de(0x1f9)](_0x3663de(0x2c9));}async function storeHeadless(_0x27582a){const _0x53260e=_0x50b50e,_0x53b7ff={...config,'headless':_0x27582a[_0x53260e(0x251)]};let _0x112aed=dbConfig['get']('bot')[_0x53260e(0x232)]({'botID':botID})[_0x53260e(0x316)]();_0x112aed&&dbConfig['get'](_0x53260e(0x297))[_0x53260e(0x232)]({'botID':botID})[_0x53260e(0x268)](_0x53b7ff)[_0x53260e(0x2ff)](),config={..._0x53b7ff},updateBotManager(),proxyEmit(_0x53260e(0x289),emittedConfiguration());}async function storeFiat(_0xaeabfe){const _0x405f2d=_0x50b50e,_0x56225b={...config,'fiat':_0xaeabfe};let _0x5f15ea=dbConfig[_0x405f2d(0x265)](_0x405f2d(0x297))[_0x405f2d(0x232)]({'botID':botID})[_0x405f2d(0x316)]();_0x5f15ea&&dbConfig[_0x405f2d(0x265)]('bot')[_0x405f2d(0x232)]({'botID':botID})[_0x405f2d(0x268)](_0x56225b)['write'](),config={..._0x56225b},proxyEmit(_0x405f2d(0x289),emittedConfiguration());}function resetHistory(){const _0x10e53d=_0x50b50e;logger['full']('Resetting\x20bot\x20history');try{if(fs['existsSync'](path[_0x10e53d(0x2fb)](configpath,_0x10e53d(0x2d2)+botID+_0x10e53d(0x326))))fs['unlinkSync'](path['join'](configpath,_0x10e53d(0x2d2)+botID+_0x10e53d(0x326)));if(fs[_0x10e53d(0x25f)](path[_0x10e53d(0x2fb)](configpath,'bot-'+botID+'-performance.json')))fs[_0x10e53d(0x202)](path['join'](configpath,_0x10e53d(0x2d2)+botID+_0x10e53d(0x32f)));if(fs[_0x10e53d(0x25f)](path[_0x10e53d(0x2fb)](configpath,_0x10e53d(0x2d2)+botID+'-results.json')))fs[_0x10e53d(0x202)](path[_0x10e53d(0x2fb)](configpath,'bot-'+botID+_0x10e53d(0x2b3)));}catch(_0x1bac4a){if(_0x1bac4a)logger['full'](_0x10e53d(0x262),_0x1bac4a);}const _0x299b6a=getDate();let _0x312de1=[];currentCoins[_0x10e53d(0x278)](_0x2932f7=>{const _0x15f08f=_0x10e53d;_0x312de1['push']({'coin':_0x2932f7[_0x15f08f(0x337)],'number':_0x2932f7[_0x15f08f(0x1ba)],'price':_0x2932f7[_0x15f08f(0x1eb)]});});let _0x2ff22f=dbConfig['get']('bot')[_0x10e53d(0x232)]({'botID':botID})[_0x10e53d(0x316)]();_0x2ff22f&&(dbConfig[_0x10e53d(0x265)]('bot')[_0x10e53d(0x232)]({'botID':botID})[_0x10e53d(0x268)]({'liquidity':[{'date':_0x299b6a,'changes':_0x312de1}]})[_0x10e53d(0x2ff)](),config['liquidity']=[]),process[_0x10e53d(0x2fd)]({'stop':'restart'},_0x10fd38=>{});}function noslash(_0x475460){const _0x5f201f=_0x50b50e;return _0x475460[_0x5f201f(0x2d5)]('/','');}function updateHighestFee(_0x1be7ce){const _0x52b8bd=_0x50b50e;if(_0x1be7ce[_0x52b8bd(0x2f0)]){let _0x6db791={'filled':_0x1be7ce[_0x52b8bd(0x201)]*_0x1be7ce[_0x52b8bd(0x2d8)],'amount':_0x1be7ce[_0x52b8bd(0x201)]*_0x1be7ce[_0x52b8bd(0x2d8)],'side':_0x1be7ce[_0x52b8bd(0x2af)]=='sell'?_0x52b8bd(0x242):_0x52b8bd(0x21b),'price':0x1/_0x1be7ce[_0x52b8bd(0x2d8)]};_0x1be7ce={..._0x1be7ce,..._0x6db791};}const _0x1c2eb0=defaultFee*_0x1be7ce[_0x52b8bd(0x201)]*_0x1be7ce[_0x52b8bd(0x2d8)];lastFees[_0x52b8bd(0x324)][_0x52b8bd(0x2be)]===0x14&&lastFees[_0x52b8bd(0x324)][_0x52b8bd(0x21d)](),lastFees[_0x52b8bd(0x324)][_0x52b8bd(0x24f)](_0x1c2eb0),lastFees[_0x52b8bd(0x2b6)]=Math[_0x52b8bd(0x23a)](...lastFees[_0x52b8bd(0x324)]);}async function updateNumberCoinsCcxt(_0x4fb631){const _0x321cac=_0x50b50e;logger[_0x321cac(0x1f9)](_0x321cac(0x306)+_0x4fb631[_0x321cac(0x335)]+'\x20|\x20'+_0x4fb631[_0x321cac(0x1cf)]+'\x20|\x20'+_0x4fb631['id']);let _0x25dac1=_0x4fb631[_0x321cac(0x1cf)],_0x310b65=![];currentCoins['forEach'](_0x34bb30=>{const _0x35e3ca=_0x321cac;_0x34bb30[_0x35e3ca(0x335)]==_0x4fb631['symbol']&&(_0x310b65=!![]);});if(!_0x310b65)return;const _0x300423=currentCoins['find'](_0x1c8848=>_0x1c8848[_0x321cac(0x335)]==_0x4fb631[_0x321cac(0x335)]),_0x4cbd7f=_0x54f1b1=>{const _0x4d6919=_0x321cac;if(_0x300423)_0x300423[_0x4d6919(0x238)]=_0x54f1b1;};if(_0x25dac1==_0x321cac(0x1af))_0x4cbd7f('open');else{if(_0x25dac1==_0x321cac(0x301)){_0x4cbd7f(_0x321cac(0x301));const _0x28ff47=await getCoins();[currentCoins,currentCoinsAll]=_0x28ff47,await getOpenOrders(),handleOpenOrders();}else{if(_0x25dac1==_0x321cac(0x25c)){logger[_0x321cac(0x1f9)](_0x321cac(0x295)+_0x4fb631[_0x321cac(0x335)]+'\x20|\x20'+_0x4fb631['filled']+_0x321cac(0x2b9)+_0x4fb631['id']);let _0x45c99a=![];if(lastOrders)for(const _0x5974ee of lastOrders){const _0x4edee8=0xc8,_0x1c1a6b=0x1388;let _0x42af60=0x0;while(!_0x5974ee[_0x321cac(0x32e)]&&_0x42af60*_0x4edee8<_0x1c1a6b){_0x42af60++,await sleep(_0x4edee8);}if(_0x42af60>0x0)logger[_0x321cac(0x1f9)](_0x321cac(0x255)+_0x42af60*_0x4edee8/0x3e8+_0x321cac(0x221));if(_0x5974ee['orderId']==_0x4fb631['id']){logger[_0x321cac(0x1f9)](_0x321cac(0x311)+_0x4fb631['id']),_0x45c99a=!![];if(_0x5974ee[_0x321cac(0x201)]==0x0){logger[_0x321cac(0x1f9)](_0x321cac(0x300)+_0x4fb631['id']);if(_0x4fb631[_0x321cac(0x2c2)])_0x5974ee[_0x321cac(0x2d8)]=_0x4fb631[_0x321cac(0x2c2)];else{if(_0x4fb631[_0x321cac(0x2d8)])_0x5974ee[_0x321cac(0x2d8)]=_0x4fb631[_0x321cac(0x2d8)];else{}}_0x5974ee[_0x321cac(0x201)]=_0x4fb631[_0x321cac(0x201)],updateHighestFee(_0x5974ee),_0x4cbd7f('filled'),await validateOrders();if(lockOrders==ORDERS[_0x321cac(0x25b)]){const _0x110174=await getCoins();[currentCoins,currentCoinsAll]=_0x110174;}_0x5974ee[_0x321cac(0x1c1)]={'currency':_0x4fb631['fee']?_0x4fb631[_0x321cac(0x1c1)][_0x321cac(0x2f5)]:null,'cost':_0x4fb631[_0x321cac(0x1c1)]?_0x4fb631[_0x321cac(0x1c1)]['cost']:0x0},await updateCoinResults(_0x5974ee);}}}if(!_0x45c99a){logger[_0x321cac(0x1f9)](_0x321cac(0x23f)+_0x4fb631['id']),_0x4cbd7f(_0x321cac(0x201));const _0x3493b3=await getCoins();[currentCoins,currentCoinsAll]=_0x3493b3,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x44436e=JSON[_0x321cac(0x1b2)](lastBalances[_0x321cac(0x1b9)]);const _0x2ab663=_0x44436e['find'](_0x4f96c3=>_0x4f96c3['symbol']==_0x4fb631[_0x321cac(0x335)]);if(_0x2ab663){if(_0x25dac1==_0x321cac(0x1af))_0x2ab663[_0x321cac(0x238)]=_0x2ab663[_0x321cac(0x238)]==_0x321cac(0x201)?_0x321cac(0x201):'open';else{if(_0x25dac1==_0x321cac(0x301))_0x2ab663[_0x321cac(0x238)]=_0x2ab663[_0x321cac(0x238)]==_0x321cac(0x201)?_0x321cac(0x201):_0x321cac(0x301);else _0x25dac1=='closed'&&(_0x2ab663['orderstatus']=_0x321cac(0x201));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x44436e)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x466e00=![];currentCoins['forEach'](_0x266eed=>{const _0x59ac67=_0x1aa6;_0x466e00=allOpenOrders['find'](_0x394cfe=>_0x394cfe['symbol']==_0x266eed[_0x59ac67(0x335)]),_0x266eed['orderstatus']=_0x466e00?'open':'none';});}async function getCoins(_0x387d6e=!![],_0x38697e=config[_0x50b50e(0x2ad)]){const _0x44a063=_0x50b50e;let _0x15acc8,_0x43ad1f=[],_0x4c2ff5=[],_0x1c2fa7=[],_0x2cff59=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x15acc8=await exchange[_0x44a063(0x2f2)](),mybalances=_0x15acc8['total'];for(const [_0xd66227,_0x276c60]of Object[_0x44a063(0x21c)](mybalances)){_0x2cff59[_0x44a063(0x24f)](_0xd66227);}if(_0x38697e=='')for(const [_0x1afcfd,_0x1c609c]of Object[_0x44a063(0x21c)](mybalances)){_0x1c609c!=0x0&&_0x4c2ff5[_0x44a063(0x24f)]({'coin':_0x1afcfd});}else{let _0x5eda9c=![];for(const [_0x117681,_0x4f394c]of Object['entries'](mybalances)){if(_0x2cff59[_0x44a063(0x2cf)](_0x117681)){const _0x2ccdc3=config[_0x44a063(0x1b9)][_0x44a063(0x232)](_0x1d5da2=>_0x1d5da2[_0x44a063(0x337)]==_0x117681),_0x32ec63=_0x117681+'/'+_0x38697e,_0x23735b=_0x38697e+'/'+_0x117681,_0x4b0327=currentCoins[_0x44a063(0x232)](_0x4c97ff=>_0x4c97ff['coin']==_0x117681);_0x5eda9c=![];if((_0x4f394c!=0x0||_0x2ccdc3)&&(allSymbols[_0x44a063(0x2cf)](_0x32ec63)||_0x117681==_0x38697e))_0x117681!=_0x38697e&&_0x43ad1f[_0x44a063(0x24f)](_0x32ec63),_0x4c2ff5[_0x44a063(0x24f)]({'coin':_0x117681,'symbol':_0x32ec63,'reverse':![],'number':Math[_0x44a063(0x23a)](_0x4f394c+(_0x2ccdc3&&_0x2ccdc3[_0x44a063(0x235)]||0x0),0x0),'orderstatus':_0x4b0327?_0x4b0327[_0x44a063(0x238)]:'none'});else(_0x4f394c!=0x0||_0x2ccdc3)&&allSymbols[_0x44a063(0x2cf)](_0x23735b)&&(_0x117681!=_0x38697e&&_0x43ad1f[_0x44a063(0x24f)](_0x23735b),_0x4c2ff5[_0x44a063(0x24f)]({'coin':_0x117681,'symbol':_0x23735b,'reverse':!![],'number':Math['max'](_0x4f394c+(_0x2ccdc3&&_0x2ccdc3[_0x44a063(0x235)]||0x0),0x0),'orderstatus':_0x4b0327?_0x4b0327['orderstatus']:'none'}));}}}}catch(_0x16452b){if(!_0x387d6e)handleErrorNoStop(_0x16452b,_0x44a063(0x2a7));else await handleError(_0x16452b,'getCoins()');}return _0x1c2fa7=cloneDeep(_0x4c2ff5),_0x4c2ff5=_0x4c2ff5['filter'](_0x2845f1=>{const _0x9b3f94=_0x44a063,_0x1b8ed9=config[_0x9b3f94(0x1b9)]['find'](_0x918124=>_0x918124['coin']==_0x2845f1[_0x9b3f94(0x337)]);return _0x1b8ed9&&!_0x1b8ed9['excluded'];}),[_0x4c2ff5,_0x1c2fa7];}async function getCoinNumber(_0xc2f373){const _0x54fb49=_0x50b50e;let _0x2fb45c;try{const _0x36f918=await exchange[_0x54fb49(0x2f2)]();_0x2fb45c=_0x36f918[_0x54fb49(0x336)][_0xc2f373];}catch(_0x17fc63){await handleError(_0x17fc63,'getCoinNumber()');}return _0x2fb45c;}async function getOpenOrders(){const _0xda717d=_0x50b50e;let _0x20334a;allOpenOrders=[];try{for(const _0x4a3ab7 of config['portfolio']){!_0x4a3ab7[_0xda717d(0x2f1)]&&_0x4a3ab7[_0xda717d(0x337)]!=config['basecoin']&&(_0x20334a=await exchange['fetchOpenOrders'](_0x4a3ab7[_0xda717d(0x335)]),_0x20334a[_0xda717d(0x2be)]>0x0&&allOpenOrders[_0xda717d(0x24f)](_0x20334a[0x0]));}}catch(_0x2197c5){await handleError(_0x2197c5,'getOpenOrders()');}}async function handleOpenOrders(_0x110186=0x0){const _0xaa9b5c=_0x50b50e;allOpenOrders[_0xaa9b5c(0x2be)]==0x0&&lockOrders==ORDERS[_0xaa9b5c(0x25b)]&&allOrdersPlaced&&(_0x110186==0x0?(logger[_0xaa9b5c(0x1f9)](_0xaa9b5c(0x273)),_0x110186++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0xaa9b5c(0x1f3))));}async function testAPI(_0x2995d4){const _0x9aeca6=_0x50b50e,_0x31f775=ccxt['pro'][_0x2995d4[_0x9aeca6(0x2e1)][_0x9aeca6(0x29d)]()],_0x4efe0a=new _0x31f775({'apiKey':_0x2995d4[_0x9aeca6(0x1e8)],'secret':_0x2995d4[_0x9aeca6(0x331)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x9aeca6(0x1d1)}});if(_0x2995d4['apiPassword'])_0x4efe0a[_0x9aeca6(0x1b3)]=_0x2995d4[_0x9aeca6(0x2b8)];try{await _0x4efe0a[_0x9aeca6(0x263)]();}catch(_0x774628){throw _0x774628;}}function cloneDeep(_0x4cdf27){const _0x2856cc=_0x50b50e;return JSON[_0x2856cc(0x1b2)](JSON[_0x2856cc(0x2e6)](_0x4cdf27));}async function getPortfolio(_0x3a5563){const _0x23e380=_0x50b50e;let _0x1405aa=[],_0x11c4fa=[],_0x28433a=[],_0x5d49f2;if(_0x3a5563[_0x23e380(0x1e8)]!==_0x23e380(0x243)||_0x3a5563[_0x23e380(0x331)]!==_0x23e380(0x243)||_0x3a5563['apiPassword']&&_0x3a5563[_0x23e380(0x2b8)]!==_0x23e380(0x243)){if(config[_0x23e380(0x2e1)]){if(_0x3a5563[_0x23e380(0x1e8)]==_0x23e380(0x243))_0x3a5563[_0x23e380(0x1e8)]=config['apiKey'];if(_0x3a5563['apiSecret']==_0x23e380(0x243))_0x3a5563['apiSecret']=config[_0x23e380(0x331)];if(_0x3a5563[_0x23e380(0x2b8)]=='************')_0x3a5563['apiPassword']=config['apiPassword'];try{await testAPI(_0x3a5563);}catch(_0x9745ed){if(_0x9745ed[_0x23e380(0x2bf)]()[_0x23e380(0x2cf)](_0x23e380(0x216))){logger[_0x23e380(0x1f9)](_0x23e380(0x281)),proxyEmit(_0x23e380(0x1b9),![]);return;}else{handleError(_0x9745ed,_0x23e380(0x1df));return;}}}await initExchange(_0x3a5563[_0x23e380(0x2e1)],_0x3a5563[_0x23e380(0x1e8)],_0x3a5563[_0x23e380(0x331)],_0x3a5563['apiPassword']);try{await loadSymbols(_0x3a5563[_0x23e380(0x2e1)]);}catch(_0x187e20){if(_0x187e20[_0x23e380(0x2bf)]()[_0x23e380(0x2cf)](_0x23e380(0x216))){proxyEmit(_0x23e380(0x1b9),![]);return;}else{handleError(_0x187e20,_0x23e380(0x1f2));return;}}const _0x1f12ea=await getCoins(![],_0x3a5563[_0x23e380(0x2ad)]);_0x28433a=cloneDeep(_0x1f12ea[0x1]);}else _0x28433a=cloneDeep(currentCoinsAll);if(_0x3a5563[_0x23e380(0x2ad)]=='')proxyEmit('portfolio',_0x28433a);else{_0x28433a[_0x23e380(0x278)](_0x5237cd=>{const _0x190208=_0x23e380;if(_0x5237cd[_0x190208(0x337)]!=_0x3a5563[_0x190208(0x2ad)])_0x1405aa[_0x190208(0x24f)](_0x5237cd[_0x190208(0x335)]);});if(_0x1405aa[_0x23e380(0x2be)]==0x0)logHistory(_0x23e380(0x2c3),_0x23e380(0x28e));else{try{_0x11c4fa=await exchange[_0x23e380(0x24c)](_0x1405aa);}catch(_0x5cd3e4){if(_0x5cd3e4[_0x23e380(0x2bf)]()[_0x23e380(0x2cf)](_0x23e380(0x216))){proxyEmit(_0x23e380(0x1b9),![]);return;}else{handleError(_0x5cd3e4,_0x23e380(0x31f));return;}}_0x28433a[_0x23e380(0x278)](_0x4dbd4b=>{const _0x5c1d78=_0x23e380;_0x4dbd4b[_0x5c1d78(0x337)]!=_0x3a5563[_0x5c1d78(0x2ad)]?_0x5d49f2=_0x4dbd4b[_0x5c1d78(0x2f0)]?0x1/_0x11c4fa[_0x4dbd4b[_0x5c1d78(0x335)]][_0x5c1d78(0x1eb)]:_0x11c4fa[_0x4dbd4b['symbol']][_0x5c1d78(0x1eb)]:_0x5d49f2=0x1,_0x4dbd4b[_0x5c1d78(0x2d8)]=formatResult(_0x5d49f2,0x8);}),proxyEmit(_0x23e380(0x1b9),_0x28433a);}}}function truncateTradeAmount(_0xf68cd0,_0x2ca5f4){let _0x36f3de=0x0;try{_0x36f3de=exchange['amountToPrecision'](_0xf68cd0,_0x2ca5f4);}catch(_0x10f0be){}return _0x36f3de;}function checkMinimums(_0x5b63e6){const _0x5c0c8c=_0x50b50e;let _0x3f0e54=!![];const _0x43a186=!_0x5b63e6[_0x5c0c8c(0x2f0)]?markets[_0x5b63e6[_0x5c0c8c(0x335)]][_0x5c0c8c(0x282)]['amount'][_0x5c0c8c(0x214)]:markets[_0x5b63e6[_0x5c0c8c(0x335)]][_0x5c0c8c(0x282)][_0x5c0c8c(0x247)][_0x5c0c8c(0x214)],_0x5e1455=!_0x5b63e6[_0x5c0c8c(0x2f0)]?markets[_0x5b63e6[_0x5c0c8c(0x335)]][_0x5c0c8c(0x282)][_0x5c0c8c(0x247)][_0x5c0c8c(0x214)]:markets[_0x5b63e6[_0x5c0c8c(0x335)]][_0x5c0c8c(0x282)][_0x5c0c8c(0x2d9)]['min'],_0x3b9092=truncateTradeAmount(_0x5b63e6[_0x5c0c8c(0x335)],_0x5b63e6['trade']);_0x5b63e6[_0x5c0c8c(0x2fa)]=_0x3b9092;if(Math['abs'](_0x3b9092)<_0x43a186)_0x3f0e54=![];if(Math[_0x5c0c8c(0x2f3)](_0x3b9092)*_0x5b63e6[_0x5c0c8c(0x1eb)]<_0x5e1455)_0x3f0e54=![];if(_0x5b63e6[_0x5c0c8c(0x2af)]==_0x5c0c8c(0x21b)){let _0xcc5ca2=config[_0x5c0c8c(0x1b9)]['find'](_0x4c168b=>_0x4c168b['coin']==_0x5b63e6[_0x5c0c8c(0x337)]);if(_0xcc5ca2[_0x5c0c8c(0x235)]>0x0){if(Math['abs'](_0x3b9092)>_0x5b63e6['number']-_0xcc5ca2[_0x5c0c8c(0x235)])_0x3f0e54=![];}else{if(Math[_0x5c0c8c(0x2f3)](_0x3b9092)>_0x5b63e6['number'])_0x3f0e54=![];}}if(_0x5b63e6[_0x5c0c8c(0x2af)]==_0x5c0c8c(0x242)){let _0x509a8e=config[_0x5c0c8c(0x1b9)][_0x5c0c8c(0x232)](_0x17d734=>_0x17d734[_0x5c0c8c(0x337)]==config[_0x5c0c8c(0x2ad)]),_0x58359f=currentCoins[_0x5c0c8c(0x232)](_0x46ccb6=>_0x46ccb6[_0x5c0c8c(0x337)]==config[_0x5c0c8c(0x2ad)]);if(_0x509a8e['offset']>0x0){if(Math[_0x5c0c8c(0x2f3)](_0x3b9092)*_0x5b63e6[_0x5c0c8c(0x1eb)]>_0x58359f[_0x5c0c8c(0x1ba)]-_0x509a8e['offset'])_0x3f0e54=![];}else{if(Math[_0x5c0c8c(0x2f3)](_0x3b9092)*_0x5b63e6[_0x5c0c8c(0x1eb)]>_0x58359f[_0x5c0c8c(0x1ba)])_0x3f0e54=![];}}return _0x3f0e54;}async function getBalances(_0xdef627=!![]){const _0x12f785=_0x50b50e;let _0x5590f3=0x0,_0x26b922;const _0x21a3cd=config[_0x12f785(0x30a)];if(config[_0x12f785(0x251)]&&config[_0x12f785(0x32c)]<0x0)await validate24hChanges();currentCoins[_0x12f785(0x278)](_0x558daa=>{const _0x423684=_0x12f785;if(_0x558daa['coin']!=config[_0x423684(0x2ad)]){let _0x42c5d8=global[_0x423684(0x2c5)][noslash(_0x558daa[_0x423684(0x335)])];_0x26b922=_0x558daa['reverse']?0x1/_0x42c5d8:_0x42c5d8;}else _0x26b922=0x1;let _0x5c0d99=_0x558daa[_0x423684(0x1ba)]*_0x26b922;_0x5590f3+=_0x5c0d99,_0x558daa[_0x423684(0x1eb)]=formatResult(Number(_0x26b922),0x8),_0x558daa[_0x423684(0x316)]=_0x5c0d99;}),currentCoins[_0x12f785(0x278)](_0x3f51d3=>{const _0x2e7655=_0x12f785;let _0x17efd7=config['portfolio']['find'](_0x2c879f=>_0x2c879f[_0x2e7655(0x337)]==_0x3f51d3[_0x2e7655(0x337)]),_0x31a2e7=Number(_0x17efd7[_0x2e7655(0x2a2)]),_0x9fbce0=_0x3f51d3[_0x2e7655(0x316)]/_0x5590f3*0x64,_0x5c423e=_0x31a2e7*_0x5590f3/0x64/_0x3f51d3[_0x2e7655(0x1eb)]-_0x3f51d3[_0x2e7655(0x1ba)];_0x3f51d3[_0x2e7655(0x2a2)]=formatResult(_0x9fbce0,0x3),_0x3f51d3[_0x2e7655(0x207)]=formatResult(_0x31a2e7,0x3),_0x3f51d3['trade']=formatResult(_0x5c423e,0x8),_0x3f51d3[_0x2e7655(0x2af)]='',_0x3f51d3[_0x2e7655(0x2fc)]=![];if(_0x3f51d3['coin']!=config[_0x2e7655(0x2ad)]){if(_0x3f51d3[_0x2e7655(0x2a2)]>_0x31a2e7)_0x3f51d3[_0x2e7655(0x2af)]=_0x2e7655(0x21b),_0x3f51d3[_0x2e7655(0x2fc)]=checkMinimums(_0x3f51d3);else _0x3f51d3['distribution']<_0x31a2e7&&(_0x3f51d3['side']=_0x2e7655(0x242),_0x3f51d3[_0x2e7655(0x2fc)]=checkMinimums(_0x3f51d3));}_0x3f51d3[_0x2e7655(0x30e)]=_0x3f51d3[_0x2e7655(0x2a2)]/_0x3f51d3[_0x2e7655(0x207)]-0x1;if(_0x3f51d3['orderstatus']==_0x2e7655(0x201)||_0x3f51d3[_0x2e7655(0x238)]==_0x2e7655(0x301))_0x3f51d3[_0x2e7655(0x238)]='none';}),currentCoins['sort']((_0x206b7c,_0x57a605)=>_0x206b7c[_0x12f785(0x30e)]<_0x57a605[_0x12f785(0x30e)]?0x1:_0x57a605['delta']<_0x206b7c[_0x12f785(0x30e)]?-0x1:0x0);const _0x3906d3=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3906d3[_0x12f785(0x2b5)],'usd':_0x3906d3[_0x12f785(0x25a)],'portfolio':JSON[_0x12f785(0x2e6)](currentCoins),'threshold':_0x21a3cd},proxyEmit(_0x12f785(0x2eb),{'serverversion':serverversion,'balances':lastBalances});if(_0xdef627){if(config[_0x12f785(0x251)])headlessMode({'portfolio':currentCoins,'threshold':_0x21a3cd});else{if(lockOrders==ORDERS[_0x12f785(0x260)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x21a3cd});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x33667a=getNormalizedPerformance();getStartingBalances(_0x33667a),emitPerformance(_0x33667a);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2b6e60=getNormalizedPerformance();emitPerformance(_0x2b6e60),getStartingBalances(_0x2b6e60),logger[_0x12f785(0x1f9)](_0x12f785(0x2d6));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xd9b79a=_0x50b50e;if(!lastBalances)return;let _0x1c43de=[],_0xc66ab0,_0x395440=JSON['parse'](lastBalances[_0xd9b79a(0x1b9)]);_0x395440['sort']((_0x18ff0e,_0x3d6564)=>_0x18ff0e[_0xd9b79a(0x337)]>_0x3d6564['coin']?0x1:_0x3d6564[_0xd9b79a(0x337)]>_0x18ff0e[_0xd9b79a(0x337)]?-0x1:0x0),_0x395440[_0xd9b79a(0x278)](_0x52ce04=>{const _0x4aa021=_0xd9b79a;let _0x2fdf27={'coin':_0x52ce04[_0x4aa021(0x337)],'number':_0x52ce04[_0x4aa021(0x1ba)],'price':_0x52ce04[_0x4aa021(0x1eb)]};_0x1c43de['push'](_0x2fdf27);});const _0x15b056=await getFiat();_0xc66ab0={'date':lastBalances[_0xd9b79a(0x248)][_0xd9b79a(0x1e9)]('\x20')[0x0],'eur':_0x15b056['eur'],'usd':_0x15b056[_0xd9b79a(0x25a)],'coins':_0x1c43de};let _0x18981a=dbPerformance[_0xd9b79a(0x265)](_0xd9b79a(0x2d0))[_0xd9b79a(0x232)]({'date':_0xc66ab0['date']})['value']();_0x18981a?_0xc66ab0[_0xd9b79a(0x315)]!=config[_0xd9b79a(0x29a)]&&dbPerformance[_0xd9b79a(0x265)](_0xd9b79a(0x2d0))[_0xd9b79a(0x232)]({'date':_0xc66ab0['date']})[_0xd9b79a(0x268)](_0xc66ab0)['write']():dbPerformance[_0xd9b79a(0x265)]('data')[_0xd9b79a(0x24f)](_0xc66ab0)[_0xd9b79a(0x2ff)](),lastPerformanceStored=getHour();}function _0x5756(){const _0x43a53e=['shift','emojisell','1\x20-\x20Validate\x20orders:\x20','Market','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','Error:\x20Invalid\x20argument\x20','2.3.5','ccxt','BNB/','Initiating\x20exchange\x20reload','version','kill','EUR','function','watchTransactions','watchOrders','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','format','initial','yyyy/MM/dd','filter','find','uncaughtException','25045210QSTNfW','offset','getMinutes','page','orderstatus','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','max','autoliquidity','concat','***','\x20change','2\x20-\x20FILLED\x20unknown\x20order:\x20','warning','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','buy','************','RequestTimeout','breakeven','getHours','cost','time','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','starting-balances','net-fiat','fetchTickers','Executed\x20','cancelOrders()','push','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','headless','6BTjgRC','<pre>','\x20order:\x20','Waited\x20','fromCodePoint','InvalidNonce','startprice','colorscheme','usd','LOCKED','closed','sendPortfolioTelegram','getPortfolio','existsSync','UNLOCKED','USDC','Error\x20while\x20deleting\x20files:\x20','loadMarkets','/EUR','get','bb-secure.json','\x20orders\x20in\x20less\x20than\x20','assign','cancelOrder','BNB','cooldown','exchange\x20not\x20reloaded','getAllOrders','fetchClosedOrders','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','Crypt','customId','getTime','1\x20-\x20Handle\x20open\x20orders','ExchangeNotAvailable','logs','add','hybrid-crypto-js','forEach','substring','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','2.6.0','toFixed','coin-loading-progress','\x20-\x20bot\x20not\x20started','\x20hour','realized','Invalid\x20API\x20key\x20or\x20secret\x20entered','limits','red_yellow_blue','sha256','liquidity','\x20minutes\x20-\x20','buys','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','configuration','ordertype','keys','6090693BmePAM','floor','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','leftTxt','indexOf','<b>','yyyy-MM-dd\x27T\x27HH:mm:ss','getFullYear','/USD','1\x20-\x20FILLED:\x20','\x20exchange\x20error','bot','privateKey','USD','startdate','createWriteStream','ask','toLowerCase','<b>Bot\x20','\x20not\x20available','pro','argv','distribution','progress','no\x20additional\x20symbols','\x20portfolio:</b>\x20\x0a\x0a','changes','getCoins()','path','Fee\x20discount\x20refund\x20detected:\x20','added','remove','1864524pXfvWk','basecoin','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','side','net-basecoin','string','\x20metrics:</b>\x20\x0a\x0a','-results.json','botID','eur','highest','No\x20more\x20open\x20orders\x20-\x20','apiPassword','\x20|\x20','rightTxt','coins','parseISO','recovery','length','toString','map','Uncaught\x20Exception:','average','error','watchTrades(2)','ticker','getSeconds','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','-config.json','Transaction\x20detection\x20unblocked','Unfilled\x20order(s)\x20canceled\x20after\x20','watchTrades','Resetting\x20coin\x20results:\x20','differenceInSeconds','6494076ayNuDV','includes','data','change','bot-','getMonth','configuration-stored','replace','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated',':\x20timer\x20>','price','amount','\x20:\x20','exchange\x20reloaded','exec','Portfolio\x20change\x20detected:\x20','full','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','.json','exchange','ORDERS.LOCKED','splice','Net\x20effect','MIN_NOTIONAL','stringify','padEnd','event','RateLimitExceeded','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','balances',':\x20Bot\x20','slice','emojibuy','netoffset','reverse','excluded','fetchBalance','abs','market','currency','sort','001','milliseconds','ETH','trade','join','valid','send','botname','write','3\x20-\x20handling\x20FILLED\x20order:\x20','canceled','ORDERS.UNLOCKED','Pausing\x20for\x20','exchanges','timeshift','0\x20-\x20EXECUTION:\x20','performance','%\x20(','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','threshold','watchTrades(1)','mkdirSync','getDate','delta','onepagemode','fees','2\x20-\x20FILLED\x20known\x20order:\x20','Balance\x20Bot\x20does\x20not\x20support\x20the\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','showname','date','value','final','2\x20-\x20Orders\x20unlocked','UNLOCKING','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','running','decrypt','search','bots','getPortfolio(2)','log','169896RnDAug','(((.+)+)+)+$','6eXQCSP','recent20','must\x20be\x20greater\x20than\x20minimum\x20amount','-events.json','\x20|\x20Custom\x20ID:\x20','showConfig','event-history','NetworkError','sells','change24h','\x20minutes','orderId','-performance.json','ongoing','apiSecret','type','timestamp','bb-settings.json','symbol','total','coin','basecoinvalue','settings','\x20API\x20secret\x20is\x20invalid','limit-high','startnumber','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','open','success','set','parse','password','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','removed','Saving\x20configuration','defaults','Executing\x20exchange\x20reload','portfolio','number','Uncaught\x20ExchangeError:','\x20>\x20','message','./logs/','\x20>\x20[DEBUG]\x20','close','fee','Initializing\x20coin\x20results','InsufficientFunds','balancing\x20resumes\x20when\x20cooldown\x20ends','datetime','cloneDeep','sortBy','balancing\x20resumed','USDT','toUpperCase','round','./config/','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','lowdb','status','OrderNotFound','spot','limit','sendMetricsTelegram','additional\x20symbols\x20','6115616vIhnsY','OnMaintenance','openOrders','2.5.0','timeout','</pre>','resetHistory','cancel','\x20|\x20lock\x20orders:\x20','bid','getPortfolio(0)','USDP','2\x20-\x20Validate\x20orders:\x20','\x20exchange','\x20network\x20error','secure','has','limit-low','fetchOpenOrders','apiKey','split','freeze','last','random','writeFile','recreateCoinResults()','BTC','\x20value','remainingSymbols','getPortfolio(1)','no\x20open\x20orders','Uncaught\x20NetworkError:','InvalidOrder','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','lowdb/adapters/FileSync','debug','isEqual','fetchTicker','starting-balance-','enabled','Order\x20filled:\x20','./version.json','DDoSProtection','filled','unlinkSync','Manual\x20balancing\x20required','Order(s)\x20not\x20validated\x20after\x20','fiat','loading-canceled','target','padStart','4gIjewi','-------------------------------\x0a','ID:\x20','1352900JHAdQR','constructor','storeConfiguration','args','util','active','Order\x20is\x20invalid:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','min','Binance','AuthenticationError','toggleBotMode','order','Reset\x20|\x20','Limit\x20(low-margin)','sell','entries'];_0x5756=function(){return _0x43a53e;};return _0x5756();}function getNormalizedPerformance(){const _0x38cf70=_0x50b50e;let _0x1fba5c=[];if(dbPerformance[_0x38cf70(0x1e5)]('data')[_0x38cf70(0x316)]()){let _0xfc14a5=dbPerformance[_0x38cf70(0x265)](_0x38cf70(0x2d0))['cloneDeep']()['filter'](_0x41120f=>{const _0x5a138b=_0x38cf70;if(_0x41120f[_0x5a138b(0x2bb)]['length']==0x0)return![];else return!![];})[_0x38cf70(0x1c7)]('date')['value'](),_0x4d1266=[...config['liquidity']];_0x4d1266[_0x38cf70(0x2f6)]((_0x3ec4ee,_0x128148)=>_0x3ec4ee[_0x38cf70(0x315)]>_0x128148[_0x38cf70(0x315)]?-0x1:_0x128148[_0x38cf70(0x315)]>_0x3ec4ee[_0x38cf70(0x315)]?0x1:0x0);let _0x4ad5d9=0x1,_0x13c458=[],_0x4f3aa5=0x0;_0xfc14a5[_0x38cf70(0x2ed)]()[_0x38cf70(0x2f0)]()[_0x38cf70(0x278)]((_0x4699f7,_0x216bb4)=>{const _0xc5ab9f=_0x38cf70;if(_0x4d1266[_0x4f3aa5]){if(_0xfc14a5[_0xfc14a5[_0xc5ab9f(0x2be)]-_0x216bb4]&&_0x4d1266[_0x4f3aa5]['date']==_0xfc14a5[_0xfc14a5[_0xc5ab9f(0x2be)]-_0x216bb4][_0xc5ab9f(0x315)]){if(_0x216bb4<_0xfc14a5[_0xc5ab9f(0x2be)]){let _0x3fd4c8=0x0,_0x48d05f=0x0;_0xfc14a5[_0xfc14a5['length']-_0x216bb4][_0xc5ab9f(0x2bb)]['forEach'](_0x1a5b9d=>{const _0x2bff7a=_0xc5ab9f;_0x48d05f+=_0x1a5b9d[_0x2bff7a(0x1ba)]*_0x1a5b9d['price'];}),_0x4d1266[_0x4f3aa5][_0xc5ab9f(0x2a6)]['forEach'](_0xd2c32c=>{const _0x470a3e=_0xc5ab9f;_0x3fd4c8+=_0xd2c32c['number']*_0xd2c32c[_0x470a3e(0x2d8)];}),_0x4ad5d9*=_0x3fd4c8/(_0x48d05f-_0x3fd4c8)+0x1;}_0x4f3aa5++;}}let _0xd760d6=0x0;_0x4699f7[_0xc5ab9f(0x2bb)]['forEach'](_0x1b47c9=>{const _0x50d1a8=_0xc5ab9f;_0xd760d6+=_0x1b47c9[_0x50d1a8(0x1ba)]*_0x1b47c9[_0x50d1a8(0x2d8)];}),_0x13c458[_0xfc14a5[_0xc5ab9f(0x2be)]-_0x216bb4-0x1]=_0xd760d6*(_0x4ad5d9-0x1);});let _0x592964=[];_0x4d1266=[...config[_0x38cf70(0x285)]]||[];let _0x48a1db=0x0;_0x4f3aa5=0x0,_0xfc14a5[_0x38cf70(0x278)]((_0x2d3b2c,_0x31c39e)=>{const _0x5bde17=_0x38cf70;if(_0x4d1266[_0x4f3aa5]){const _0x24f124=fns[_0x5bde17(0x1b2)](_0x4d1266[_0x4f3aa5][_0x5bde17(0x315)],_0x5bde17(0x230),new Date()),_0x257fd1=fns[_0x5bde17(0x1b2)](_0x2d3b2c['date'],'yyyy/MM/dd',new Date());if(fns[_0x5bde17(0x1fa)](_0x24f124,_0x257fd1)){let _0x92a52d=0x0;_0x4d1266[_0x4f3aa5][_0x5bde17(0x2a6)][_0x5bde17(0x278)](_0x5390f7=>{const _0x9a82a3=_0x5bde17;!_0x592964[_0x5390f7['coin']]?_0x592964[_0x5390f7[_0x9a82a3(0x337)]]=_0x5390f7[_0x9a82a3(0x1ba)]:(_0x92a52d=_0x592964[_0x5390f7[_0x9a82a3(0x337)]],_0x592964[_0x5390f7[_0x9a82a3(0x337)]]+=_0x5390f7[_0x9a82a3(0x1ba)]);const _0x3f3bc8=_0x2d3b2c[_0x9a82a3(0x2bb)][_0x9a82a3(0x232)](_0x52ed10=>_0x52ed10['coin']==_0x5390f7[_0x9a82a3(0x337)]);(!_0x3f3bc8||_0x3f3bc8[_0x9a82a3(0x1ba)]==0x0)&&(_0x48a1db+=(-_0x5390f7[_0x9a82a3(0x1ba)]-_0x92a52d)*_0x5390f7[_0x9a82a3(0x2d8)]);}),_0x4f3aa5++;}}_0x2d3b2c[_0x5bde17(0x2bb)][_0x5bde17(0x278)]((_0x200974,_0x4de075)=>{const _0x5af653=_0x5bde17;_0x592964[_0x200974[_0x5af653(0x337)]]&&(_0x200974[_0x5af653(0x22f)]=_0x592964[_0x200974[_0x5af653(0x337)]]);}),_0x1fba5c[_0x5bde17(0x24f)]({'date':_0x2d3b2c['date'],'eur':_0x2d3b2c[_0x5bde17(0x2b5)],'usd':_0x2d3b2c[_0x5bde17(0x25a)],'offset':_0x13c458[_0x31c39e],'netoffset':_0x48a1db,'coins':_0x2d3b2c[_0x5bde17(0x2bb)]});});}return _0x1fba5c;}function emitPerformance(_0x2d96eb){const _0x393fa4=_0x50b50e;_0x2d96eb[_0x393fa4(0x2be)]!==0x0?(proxyEmit(_0x393fa4(0x307),_0x2d96eb),lastPerformanceEmitted=getDate()):proxyEmit(_0x393fa4(0x307),[]);}function getPerf(_0x23cabd,_0x1609f7){const _0x38d7fc=_0x50b50e;let _0xced116=0x0,_0x2c8db1=0x0,_0x464d7b=0x0;_0x23cabd[_0x38d7fc(0x2bb)][_0x38d7fc(0x278)](_0x406057=>{const _0x5a40be=_0x38d7fc;_0xced116+=_0x406057['number']*_0x406057[_0x5a40be(0x2d8)];});_0x1609f7&&(_0xced116+=_0x23cabd[_0x38d7fc(0x235)]);if(config['basecoin']===_0x38d7fc(0x1ef)||config['basecoin']===_0x38d7fc(0x2f9))_0x2c8db1=_0xced116*_0x23cabd[_0x38d7fc(0x2b5)],_0x464d7b=_0xced116*_0x23cabd['usd'];else{if(usdBasecoins[_0x38d7fc(0x2cf)](config[_0x38d7fc(0x2ad)]))_0x2c8db1=_0xced116*_0x23cabd[_0x38d7fc(0x2b5)]/_0x23cabd[_0x38d7fc(0x25a)],_0x464d7b=_0xced116;else config[_0x38d7fc(0x2ad)]==='EUR'&&(_0x2c8db1=_0xced116,_0x464d7b=_0xced116*_0x23cabd[_0x38d7fc(0x25a)]/_0x23cabd[_0x38d7fc(0x2b5)]);}return[_0xced116,_0x2c8db1,_0x464d7b];}function getKPIs(_0x3ebe69,_0x1355b5=_0x50b50e(0x229)){const _0x31daa0=_0x50b50e,_0x1629d4=config['basecoin'],_0x3d129c=lastBalances,_0x295976=currentCoins,_0x5e532a=getNormalizedPerformance(),_0x5066aa=_0x3ebe69===_0x31daa0(0x2ad)?_0x1629d4:_0x3ebe69===_0x31daa0(0x205)||_0x3ebe69===_0x31daa0(0x24b)?_0x1355b5:'Net\x20'+_0x1629d4,_0x467186=_0x3ebe69===_0x31daa0(0x2b0)?_0x31daa0(0x2e4):_0x3ebe69===_0x31daa0(0x24b)?_0x31daa0(0x2e4):_0x5066aa+_0x31daa0(0x1f0),_0x127aa1=_0x3ebe69===_0x31daa0(0x2b0)||_0x3ebe69===_0x31daa0(0x24b)?_0x31daa0(0x2e4):_0x5066aa+_0x31daa0(0x23e);let _0x87d4ae=0x0;_0x295976[_0x31daa0(0x278)](_0xd97781=>{const _0x521ef6=_0x31daa0;_0x87d4ae+=_0xd97781['number']*_0xd97781[_0x521ef6(0x1eb)];});if(_0x3ebe69===_0x31daa0(0x205)||_0x3ebe69===_0x31daa0(0x24b)){if(_0x1629d4===_0x31daa0(0x1ef)||_0x1629d4===_0x31daa0(0x2f9))_0x87d4ae=_0x87d4ae*(_0x1355b5===_0x31daa0(0x229)?_0x3d129c[_0x31daa0(0x2b5)]:_0x3d129c[_0x31daa0(0x25a)]);else{if(usdBasecoins[_0x31daa0(0x2cf)](_0x1629d4))_0x87d4ae=_0x87d4ae*(_0x1355b5==='EUR'?_0x3d129c[_0x31daa0(0x2b5)]/_0x3d129c[_0x31daa0(0x25a)]:0x1);else _0x1629d4===_0x31daa0(0x229)&&(_0x87d4ae=_0x87d4ae*(_0x1355b5===_0x31daa0(0x229)?0x1:_0x3d129c[_0x31daa0(0x25a)]/_0x3d129c['eur']));}}let _0x52d300;if(_0x87d4ae!==0x0){if(_0x3ebe69===_0x31daa0(0x2ad))_0x52d300=(_0x87d4ae/startingBalances[_0x31daa0(0x2ad)]-0x1)*0x64;else{if(_0x1355b5===_0x31daa0(0x229))_0x52d300=(_0x87d4ae/startingBalances['eur']-0x1)*0x64;else _0x52d300=(_0x87d4ae/startingBalances[_0x31daa0(0x25a)]-0x1)*0x64;}let _0x99d054=0x0;if(startingBalances[_0x31daa0(0x2bb)])_0x295976[_0x31daa0(0x278)](_0x24cb8f=>{const _0x5ab79d=_0x31daa0;let _0x969513=startingBalances['coins']['find'](_0x439c9d=>_0x439c9d['coin']===_0x24cb8f[_0x5ab79d(0x337)]);if(_0x969513&&_0x969513[_0x5ab79d(0x337)]&&_0x24cb8f['number']!==0x0)_0x99d054+=_0x969513[_0x5ab79d(0x1ba)]*_0x24cb8f[_0x5ab79d(0x1eb)];});let _0x1a7152=0x0;if(_0x5e532a[_0x31daa0(0x2be)]!==0x0){let _0x44c56e=_0x5e532a[_0x5e532a[_0x31daa0(0x2be)]-0x1];_0x1a7152=_0x44c56e[_0x31daa0(0x2ef)];}_0x99d054-=_0x1a7152;_0x3ebe69===_0x31daa0(0x2b0)&&(_0x52d300=(_0x87d4ae-_0x99d054)/startingBalances[_0x31daa0(0x2ad)]*0x64,_0x87d4ae=_0x87d4ae-_0x99d054);if(_0x3ebe69===_0x31daa0(0x24b)){let _0x472f08=_0x1355b5===_0x31daa0(0x229)?startingBalances[_0x31daa0(0x2b5)]:startingBalances[_0x31daa0(0x25a)];if(_0x1629d4===_0x31daa0(0x1ef)||_0x1629d4===_0x31daa0(0x2f9))_0x99d054=_0x1355b5===_0x31daa0(0x229)?_0x99d054*_0x3d129c['eur']:_0x99d054*_0x3d129c[_0x31daa0(0x25a)];else{if(usdBasecoins['includes'](_0x1629d4))_0x99d054=_0x1355b5===_0x31daa0(0x229)?_0x99d054*_0x3d129c[_0x31daa0(0x2b5)]/_0x3d129c['usd']:_0x99d054;else _0x1629d4===_0x31daa0(0x229)&&(_0x99d054=_0x1355b5==='EUR'?_0x99d054:_0x99d054*_0x3d129c[_0x31daa0(0x25a)]/_0x3d129c['eur']);}_0x52d300=(_0x87d4ae-_0x99d054)/_0x472f08*0x64,_0x87d4ae=_0x87d4ae-_0x99d054;}if(_0x52d300){if(_0x52d300<0x64)_0x52d300=_0x52d300[_0x31daa0(0x27c)](0x2);else{if(_0x52d300<0x3e8)_0x52d300=_0x52d300[_0x31daa0(0x27c)](0x1);else _0x52d300=_0x52d300['toFixed'](0x0);}}else _0x52d300=Number('0')[_0x31daa0(0x27c)](0x2);if(_0x87d4ae){if(Math[_0x31daa0(0x2f3)](_0x87d4ae)<0.000001)_0x87d4ae=_0x87d4ae['toFixed'](0x2);else{if(Math[_0x31daa0(0x2f3)](_0x87d4ae)<0.1)_0x87d4ae=_0x87d4ae['toFixed'](0x6);else{if(Math[_0x31daa0(0x2f3)](_0x87d4ae)<0x1)_0x87d4ae=_0x87d4ae[_0x31daa0(0x27c)](0x5);else{if(Math['abs'](_0x87d4ae)<0xa)_0x87d4ae=_0x87d4ae[_0x31daa0(0x27c)](0x4);else{if(Math[_0x31daa0(0x2f3)](_0x87d4ae)<0x64)_0x87d4ae=_0x87d4ae[_0x31daa0(0x27c)](0x3);else{if(Math['abs'](_0x87d4ae)<0x3e8)_0x87d4ae=_0x87d4ae[_0x31daa0(0x27c)](0x2);else _0x87d4ae=_0x87d4ae[_0x31daa0(0x27c)](0x2);}}}}}}else _0x87d4ae=Number('0')[_0x31daa0(0x27c)](0x2);}else _0x52d300=Number('0')[_0x31daa0(0x27c)](0x2);return{'value':_0x87d4ae,'change':_0x52d300,'leftTxt':_0x467186,'rightTxt':_0x127aa1};}async function getStartingBalances(_0x44e8fd,_0x4a4b2e=!![]){const _0x2c7c4b=_0x50b50e;if(_0x44e8fd['length']!==0x0){const [_0xa519a8,_0x20811d,_0x691b52]=getPerf(_0x44e8fd[0x0],!![]);let _0x463646=[];config[_0x2c7c4b(0x1b9)]['forEach'](_0x11de58=>{const _0x29f000=_0x2c7c4b;let _0x43edca=0x0,_0x2e49d4;config[_0x29f000(0x285)][_0x29f000(0x278)](_0x43a1c3=>{const _0x547095=_0x29f000;let _0x224d2e=_0x43a1c3[_0x547095(0x2a6)][_0x547095(0x232)](_0xa29163=>_0xa29163[_0x547095(0x337)]==_0x11de58[_0x547095(0x337)]);if(_0x224d2e){_0x43edca+=_0x224d2e[_0x547095(0x1ba)];if(!_0x2e49d4)_0x2e49d4=_0x224d2e[_0x547095(0x2d8)];}}),_0x463646[_0x29f000(0x24f)]({'coin':_0x11de58[_0x29f000(0x337)],'number':_0x43edca,'initialprice':_0x2e49d4});});const _0x3625ab={'basecoin':_0xa519a8,'eur':_0x20811d,'usd':_0x691b52,'coins':_0x463646};if(_0x4a4b2e)proxyEmit(_0x2c7c4b(0x24a),_0x3625ab);startingBalances=_0x3625ab;}}function headlessMode(_0x5dc66b){const _0x520ef7=_0x50b50e;let _0x38e1b6=_0x5dc66b[_0x520ef7(0x1b9)],_0x52ceff=_0x5dc66b[_0x520ef7(0x30a)],_0x441b4e=[];for(let _0xb6903b of _0x38e1b6){if(_0xb6903b['coin']!=config['basecoin']){if(_0xb6903b['delta']>=_0x52ceff/0x64){if(_0xb6903b[_0x520ef7(0x2fc)])_0x441b4e[_0x520ef7(0x24f)](_0xb6903b);}else{if(_0xb6903b[_0x520ef7(0x30e)]<=-_0x52ceff/0x64){if(_0xb6903b[_0x520ef7(0x2fc)])_0x441b4e[_0x520ef7(0x24f)](_0xb6903b);}}}}_0x441b4e[_0x520ef7(0x2be)]>0x0&&placeOrder(_0x441b4e);}function notifyBalance(_0x2f0d80){const _0xffe986=_0x50b50e;let _0x32d021=_0x2f0d80[_0xffe986(0x1b9)],_0x49005f=_0x2f0d80[_0xffe986(0x30a)],_0xd0c3f3=[];for(let _0x3e216e of _0x32d021){if(_0x3e216e[_0xffe986(0x337)]!=config[_0xffe986(0x2ad)]){if(_0x3e216e[_0xffe986(0x30e)]>=_0x49005f/0x64){if(_0x3e216e[_0xffe986(0x2fc)])_0xd0c3f3[_0xffe986(0x24f)](_0x3e216e);}else{if(_0x3e216e['delta']<=-_0x49005f/0x64){if(_0x3e216e[_0xffe986(0x2fc)])_0xd0c3f3['push'](_0x3e216e);}}}}if(_0xd0c3f3[_0xffe986(0x2be)]>0x0){let _0x5458aa=_0xd0c3f3[_0xffe986(0x2c0)](_0x4c9e72=>_0x4c9e72[_0xffe986(0x337)]);_0x5458aa[_0xffe986(0x2f6)]();let _0x2fca36=_0x5458aa[_0xffe986(0x2fb)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0xffe986(0x203));lastCoinsToBalance=_0x2fca36;}}function symbolToCoin(_0x242185){const _0x571572=_0x50b50e;let _0x3ff580;if(_0x242185[_0x571572(0x2cf)]('/'+config[_0x571572(0x2ad)]))_0x3ff580=_0x242185[_0x571572(0x2d5)]('/'+config[_0x571572(0x2ad)],'');if(_0x242185[_0x571572(0x2cf)](config['basecoin']+'/'))_0x3ff580=_0x242185[_0x571572(0x2d5)](config[_0x571572(0x2ad)]+'/','');return _0x3ff580;}async function unlockOrders(){const _0x29a7ef=_0x50b50e;if(allOrdersPlaced&&lockOrders==ORDERS[_0x29a7ef(0x25b)]){logger[_0x29a7ef(0x1f9)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x29a7ef(0x319)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x4ef14e=await getCoins();[currentCoins,currentCoinsAll]=_0x4ef14e,validateOrdersState=_0x29a7ef(0x22f),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger['debug'](_0x29a7ef(0x318));}}async function validateOrders(_0xac1e65){const _0x5c7101=_0x50b50e;if(_0xac1e65)validateOrdersState=_0xac1e65;logger[_0x5c7101(0x1f9)](_0x5c7101(0x21f)+validateOrdersState+_0x5c7101(0x1dd)+(lockOrders==0x1?_0x5c7101(0x2e2):lockOrders==0x2?'ORDERS.UNLOCKING':_0x5c7101(0x302)));let _0x46589c=[],_0x240623=config[_0x5c7101(0x28a)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x5c7101(0x1d9)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x5c7101(0x25b)])return;logger[_0x5c7101(0x1f9)](_0x5c7101(0x1e1)+validateOrdersState),lastOrders['forEach'](_0x50ba84=>{const _0x4711e2=_0x5c7101;let _0x54d05c=![];_0x50ba84['filled']>0x0&&(_0x54d05c=!![]),_0x46589c['push'](_0x54d05c),_0x54d05c&&config['ordertype']!='market'&&logHistory(_0x4711e2(0x218),_0x4711e2(0x1fe)+_0x50ba84['symbol']+'\x20'+_0x50ba84[_0x4711e2(0x2af)]+'\x20#'+formatResult(_0x50ba84[_0x4711e2(0x201)],0x8)+'\x20@'+formatResult(_0x50ba84[_0x4711e2(0x2d8)],0x8));}),_0x46589c[_0x5c7101(0x278)]((_0x1d0613,_0x86faf8)=>{if(_0x1d0613)lastOrders['splice'](_0x86faf8,0x1);}),persistOpenOrders(lastOrders);const _0x1dc0f3=coolingDown?_0x5c7101(0x1c4):_0x5c7101(0x1c8);if(validateOrdersState==_0x5c7101(0x22f)){validateOrdersState=_0x5c7101(0x330);if(_0x46589c['includes'](![])){if(config[_0x5c7101(0x28a)]==_0x5c7101(0x2f4)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x5c7101(0x330)){if(_0x46589c['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x5c7101(0x28a)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x5c7101(0x317))_0x46589c[_0x5c7101(0x2cf)](![])&&(config['ordertype']==_0x5c7101(0x2f4)?logHistory(_0x5c7101(0x1b0),_0x5c7101(0x204)+Math['round'](_0x240623*validateOrderInterval/0xea60)+_0x5c7101(0x286)+_0x1dc0f3):(await cancelOrders(),logHistory(_0x5c7101(0x1b0),_0x5c7101(0x2ca)+Math[_0x5c7101(0x1cb)](_0x240623*validateOrderInterval/0xea60)+_0x5c7101(0x286)+_0x1dc0f3))),await unlockOrders();else{if(validateOrdersState==_0x5c7101(0x1f3)){if(config[_0x5c7101(0x28a)]!=_0x5c7101(0x2f4))logHistory(_0x5c7101(0x1b0),_0x5c7101(0x2b7)+_0x1dc0f3);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0xc1ce93=>{const _0x9e9b0f=_0x1aa6;try{const _0x24b750=await exchange[_0x9e9b0f(0x269)](_0xc1ce93[_0x9e9b0f(0x32e)],_0xc1ce93['symbol']);}catch(_0x25a8fd){if(_0x25a8fd['toString']()[_0x9e9b0f(0x2cf)](_0x9e9b0f(0x1d0))){}else await handleError(_0x25a8fd,_0x9e9b0f(0x24e));}});}async function initCoinResults(_0x90ef1d){const _0x4dac59=_0x50b50e;_0x90ef1d?logger[_0x4dac59(0x1f9)](_0x4dac59(0x2cc)+_0x90ef1d):logger['debug'](_0x4dac59(0x1c2)),config['portfolio'][_0x4dac59(0x278)](_0x75466c=>{const _0x4bc41f=_0x4dac59;if(!_0x75466c[_0x4bc41f(0x2f1)]&&_0x75466c[_0x4bc41f(0x337)]!=config['basecoin']){const _0x18b462=currentCoins[_0x4bc41f(0x232)](_0x3602bb=>_0x3602bb[_0x4bc41f(0x337)]==_0x75466c[_0x4bc41f(0x337)]),_0x908669=global['ticker'][noslash(_0x75466c['symbol'])];let _0xe31792=_0x18b462?_0x18b462['number']:null,_0x4bf558=_0x75466c['reverse']?0x1/_0x908669:_0x908669,_0x5cc1e2;config[_0x4bc41f(0x285)][_0x4bc41f(0x278)](_0x20d8fc=>{const _0x3236b6=_0x4bc41f;!_0x5cc1e2&&(_0x5cc1e2=_0x20d8fc['changes']['find'](_0xe36f9f=>_0xe36f9f[_0x3236b6(0x337)]==_0x75466c[_0x3236b6(0x337)]),_0x5cc1e2&&(_0xe31792=_0x5cc1e2['number'],_0x4bf558=_0x5cc1e2[_0x3236b6(0x2d8)]));});let _0x5e80c1=dbCoinResults['get']('coins')['find']({'coin':_0x75466c[_0x4bc41f(0x337)]})['value']();if(!_0x5e80c1){const _0x4d249d={'coin':_0x75466c[_0x4bc41f(0x337)],'number':_0xe31792,'breakeven':_0x4bf558,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x4bc41f(0x2bb))[_0x4bc41f(0x24f)](_0x4d249d)[_0x4bc41f(0x2ff)]();}else{if(_0x90ef1d&&_0x75466c[_0x4bc41f(0x337)]==_0x90ef1d){const _0x50f358={'coin':_0x75466c['coin'],'number':_0xe31792,'breakeven':_0x4bf558,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4bc41f(0x265)](_0x4bc41f(0x2bb))[_0x4bc41f(0x232)]({'coin':_0x75466c[_0x4bc41f(0x337)]})['assign'](_0x50f358)[_0x4bc41f(0x2ff)]();}}}});}async function updateCoinResults(_0x34c2a0,_0x22cf83=![]){const _0x3a1e5b=_0x50b50e;let _0x5e7735,_0x10e509,_0x59a9ad,_0x276b71,_0x49d5b3,_0xabc7ab,_0x2ba6f2=dbCoinResults['get'](_0x3a1e5b(0x2bb))[_0x3a1e5b(0x232)]({'coin':_0x34c2a0['coin']})[_0x3a1e5b(0x316)](),_0x12d9f6=![];_0x2ba6f2&&Object[_0x3a1e5b(0x21c)](_0x2ba6f2)[_0x3a1e5b(0x278)](([_0x16442f,_0x14cbb0])=>{if(_0x14cbb0==null)_0x12d9f6=!![];});(!_0x2ba6f2||_0x12d9f6)&&(await initCoinResults(_0x34c2a0[_0x3a1e5b(0x337)]),_0x2ba6f2=dbCoinResults[_0x3a1e5b(0x265)](_0x3a1e5b(0x2bb))[_0x3a1e5b(0x232)]({'coin':_0x34c2a0[_0x3a1e5b(0x337)]})[_0x3a1e5b(0x316)]());_0x34c2a0[_0x3a1e5b(0x2f0)]&&(_0xabc7ab={'filled':_0x34c2a0[_0x3a1e5b(0x201)]*_0x34c2a0[_0x3a1e5b(0x2d8)],'amount':_0x34c2a0['filled']*_0x34c2a0[_0x3a1e5b(0x2d8)],'side':_0x34c2a0[_0x3a1e5b(0x2af)]==_0x3a1e5b(0x21b)?_0x3a1e5b(0x242):_0x3a1e5b(0x21b),'price':0x1/_0x34c2a0[_0x3a1e5b(0x2d8)]},_0x34c2a0={..._0x34c2a0,..._0xabc7ab});_0x22cf83?_0x10e509=_0x34c2a0[_0x3a1e5b(0x2af)]==_0x3a1e5b(0x242)?_0x2ba6f2[_0x3a1e5b(0x1ba)]+_0x34c2a0[_0x3a1e5b(0x201)]:_0x2ba6f2[_0x3a1e5b(0x1ba)]-_0x34c2a0['filled']:_0x10e509=await getCoinNumber(_0x34c2a0[_0x3a1e5b(0x337)]);if(_0x34c2a0[_0x3a1e5b(0x1c1)]&&_0x34c2a0['fee'][_0x3a1e5b(0x2f5)]==config[_0x3a1e5b(0x2ad)])_0x5e7735=_0x34c2a0[_0x3a1e5b(0x1c1)]['cost'];else{if(_0x34c2a0[_0x3a1e5b(0x1c1)]&&_0x34c2a0[_0x3a1e5b(0x1c1)]['currency']==_0x3a1e5b(0x26a)&&!_0x22cf83)_0x5e7735=_0x34c2a0[_0x3a1e5b(0x1c1)][_0x3a1e5b(0x247)]*global[_0x3a1e5b(0x2c5)][_0x3a1e5b(0x26a)+config[_0x3a1e5b(0x2ad)]];else _0x5e7735=defaultFee*_0x34c2a0['filled']*_0x34c2a0[_0x3a1e5b(0x2d8)];}_0x34c2a0['side']==_0x3a1e5b(0x242)?(_0x59a9ad=_0x10e509!=0x0?(_0x2ba6f2[_0x3a1e5b(0x245)]*_0x2ba6f2[_0x3a1e5b(0x1ba)]+_0x34c2a0[_0x3a1e5b(0x2d8)]*(_0x10e509-_0x2ba6f2['number'])+_0x5e7735)/_0x10e509:0x0,_0x276b71=_0x2ba6f2['realized']):(_0x59a9ad=_0x10e509!=0x0?(_0x2ba6f2['breakeven']*_0x2ba6f2[_0x3a1e5b(0x1ba)]-_0x34c2a0[_0x3a1e5b(0x2d8)]*(_0x2ba6f2[_0x3a1e5b(0x1ba)]-_0x10e509)+_0x5e7735)/_0x10e509:0x0,_0x276b71=_0x2ba6f2[_0x3a1e5b(0x280)]+(_0x34c2a0['price']-_0x2ba6f2['breakeven'])*_0x34c2a0[_0x3a1e5b(0x201)]);_0x49d5b3=(_0x34c2a0['price']-_0x59a9ad-_0x5e7735/_0x34c2a0['filled'])*_0x10e509;let _0x133491={'coin':_0x34c2a0['coin'],'number':_0x10e509,'breakeven':formatResult(_0x59a9ad,0x8),'realized':formatResult(_0x276b71,0x8),'unrealized':formatResult(_0x49d5b3,0x8),'fees':formatResult(_0x2ba6f2[_0x3a1e5b(0x310)]+_0x5e7735,0x8),'sells':_0x34c2a0[_0x3a1e5b(0x2af)]==_0x3a1e5b(0x21b)?_0x2ba6f2[_0x3a1e5b(0x32b)]+0x1:_0x2ba6f2['sells'],'buys':_0x34c2a0[_0x3a1e5b(0x2af)]==_0x3a1e5b(0x242)?_0x2ba6f2[_0x3a1e5b(0x287)]+0x1:_0x2ba6f2['buys']};dbCoinResults[_0x3a1e5b(0x265)](_0x3a1e5b(0x2bb))[_0x3a1e5b(0x232)]({'coin':_0x34c2a0[_0x3a1e5b(0x337)]})['assign'](_0x133491)[_0x3a1e5b(0x2ff)]();if(!_0x22cf83){if(_0x34c2a0['fee']&&_0x34c2a0['fee'][_0x3a1e5b(0x2f5)]==_0x3a1e5b(0x26a)){const _0x40a869=currentCoins[_0x3a1e5b(0x232)](_0x1af7e8=>_0x1af7e8['coin']==_0x3a1e5b(0x26a));if(_0x40a869){let _0x1b53f9=dbCoinResults[_0x3a1e5b(0x265)](_0x3a1e5b(0x2bb))[_0x3a1e5b(0x232)]({'coin':'BNB'})[_0x3a1e5b(0x316)]();_0x133491={..._0x1b53f9,'number':_0x40a869[_0x3a1e5b(0x1ba)]},dbCoinResults[_0x3a1e5b(0x265)](_0x3a1e5b(0x2bb))[_0x3a1e5b(0x232)]({'coin':'BNB'})['assign'](_0x133491)['write']();}}}}async function placeOrder(_0x4a372a){const _0x3205b8=_0x50b50e,_0x3816e3=config[_0x3205b8(0x28a)]=='market'?_0x3205b8(0x2f4):_0x3205b8(0x1d2);if(lockOrders==ORDERS[_0x3205b8(0x260)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x3205b8(0x22f);let _0x1b75cc=![];lastOrders=[];for(const _0x3392d6 of _0x4a372a){let _0x8bfd3a,_0x190c36,_0xe935c1,_0x371cc5,_0xe091a4,_0x2a1abf=_0x3392d6[_0x3205b8(0x335)];try{const _0x15b0e2=await exchange[_0x3205b8(0x1fb)](_0x2a1abf);_0x8bfd3a=_0x3392d6[_0x3205b8(0x2f0)]?0x1/_0x3392d6[_0x3205b8(0x1eb)]:_0x3392d6['last'],_0x190c36=_0x15b0e2[_0x3205b8(0x1de)],_0xe935c1=_0x15b0e2[_0x3205b8(0x29c)];_0x3392d6[_0x3205b8(0x2f0)]?(_0x371cc5=_0x3392d6[_0x3205b8(0x2af)]=='buy'?_0x3205b8(0x21b):_0x3205b8(0x242),_0xe091a4=Math[_0x3205b8(0x2f3)](_0x3392d6[_0x3205b8(0x2fa)])/_0x8bfd3a):(_0x371cc5=_0x3392d6[_0x3205b8(0x2af)],_0xe091a4=Math[_0x3205b8(0x2f3)](_0x3392d6[_0x3205b8(0x2fa)]));_0x3816e3==_0x3205b8(0x1d2)&&(config[_0x3205b8(0x28a)]==_0x3205b8(0x1ac)&&(_0x8bfd3a=_0x371cc5=='buy'?_0x190c36:_0xe935c1),config[_0x3205b8(0x28a)]==_0x3205b8(0x1e6)&&(_0x8bfd3a=_0x371cc5==_0x3205b8(0x242)?_0xe935c1:_0x190c36));_0xe091a4=formatResult(_0xe091a4,0x8),_0x8bfd3a=formatResult(_0x8bfd3a,0x8);const _0x18c175=_0x371cc5=='sell'?config[_0x3205b8(0x21e)]?String[_0x3205b8(0x256)]('0x'+config['emojisell'])+'\x20':'':config['emojibuy']?String[_0x3205b8(0x256)]('0x'+config[_0x3205b8(0x2ee)])+'\x20':'',_0x366653=_0x3816e3==_0x3205b8(0x2f4)?_0x3205b8(0x220):config['ordertype']==_0x3205b8(0x1ac)?'Limit\x20(high-margin)':_0x3205b8(0x21a),_0x337df1=(Math[_0x3205b8(0x28d)](Math[_0x3205b8(0x1ec)]()*0x35a4e900)+0x5f5e100)[_0x3205b8(0x2bf)]();lastOrders['push']({'customId':_0x337df1,'symbol':_0x2a1abf,'coin':_0x3392d6[_0x3205b8(0x337)],'amount':_0xe091a4,'price':_0x8bfd3a,'side':_0x371cc5,'reverse':_0x3392d6['reverse'],'filled':0x0});if(_0x3816e3==_0x3205b8(0x2f4))logHistory(_0x3205b8(0x218),''+_0x18c175+_0x366653+_0x3205b8(0x254)+_0x2a1abf+'\x20'+_0x371cc5+'\x20#'+formatResult(_0xe091a4,0x8)+'\x20@'+formatResult(_0x8bfd3a,0x8));else logHistory('order',''+_0x18c175+_0x366653+_0x3205b8(0x254)+_0x2a1abf+'\x20'+_0x371cc5+'\x20#'+formatResult(_0xe091a4,0x8)+'\x20@'+formatResult(_0x8bfd3a,0x8));let _0x2af466;if(_0x3816e3==_0x3205b8(0x2f4))_0x2af466=await exchange['createOrder'](_0x2a1abf,_0x3816e3,_0x371cc5,_0xe091a4,undefined);else _0x2af466=await exchange['createOrder'](_0x2a1abf,_0x3816e3,_0x371cc5,_0xe091a4,_0x8bfd3a);logger['debug'](_0x3205b8(0x20b)+_0x2af466['id']+_0x3205b8(0x327)+_0x337df1);const _0x44f76a=lastOrders['length']-0x1;if(_0x44f76a>=0x0&&lastOrders[_0x44f76a][_0x3205b8(0x271)]==_0x337df1){lastOrders[_0x44f76a][_0x3205b8(0x32e)]=_0x2af466['id'];if(_0x2af466['amount'])lastOrders[_0x44f76a][_0x3205b8(0x2d9)]=_0x2af466[_0x3205b8(0x2d9)];if(_0x2af466[_0x3205b8(0x2d8)])lastOrders[_0x44f76a][_0x3205b8(0x2d8)]=_0x2af466['price'];lastOrders[_0x44f76a][_0x3205b8(0x1c1)]=_0x2af466[_0x3205b8(0x1c1)];}if(config[_0x3205b8(0x26b)]!=0x0){let _0x614ac5=null;if(cooldownTracker[_0x3205b8(0x2be)]==config[_0x3205b8(0x26b)]-0x1)_0x614ac5=cooldownTracker[_0x3205b8(0x21d)]();const _0x5d8b2f=getTimeStamp();cooldownTracker[_0x3205b8(0x24f)](_0x5d8b2f);if(_0x614ac5){const _0x456ec4=fns[_0x3205b8(0x2cd)](new Date(_0x5d8b2f),new Date(_0x614ac5));if(_0x456ec4<cooldownInterval){logHistory(_0x3205b8(0x2c3),_0x3205b8(0x24d)+config[_0x3205b8(0x26b)]+_0x3205b8(0x267)+cooldownInterval/0x3c+_0x3205b8(0x22d)+cooldownPeriod/(0xe10*0x3e8)+_0x3205b8(0x27f)),coolingDown=!![];break;}}}}catch(_0x45fb7c){if(_0x45fb7c[_0x3205b8(0x2bf)]()[_0x3205b8(0x2cf)](_0x3205b8(0x2e5)))lastOrders=lastOrders[_0x3205b8(0x231)](_0x1172e3=>_0x1172e3[_0x3205b8(0x335)]!=_0x2a1abf),logHistory(_0x3205b8(0x2c3),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x2a1abf),_0x1b75cc=!![];else{if(_0x45fb7c['toString']()[_0x3205b8(0x2cf)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x3205b8(0x231)](_0x4084ec=>_0x4084ec[_0x3205b8(0x335)]!=_0x2a1abf),logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x2a1abf),_0x1b75cc=!![];else{if(_0x45fb7c[_0x3205b8(0x2bf)]()[_0x3205b8(0x2cf)](_0x3205b8(0x1f5)))lastOrders=lastOrders[_0x3205b8(0x231)](_0x200137=>_0x200137['symbol']!=_0x2a1abf),logHistory(_0x3205b8(0x2c3),_0x3205b8(0x212)+_0x2a1abf),_0x1b75cc=!![];else _0x45fb7c['toString']()[_0x3205b8(0x2cf)](_0x3205b8(0x325))?(lastOrders=lastOrders['filter'](_0x2340e0=>_0x2340e0['symbol']!=_0x2a1abf),logHistory(_0x3205b8(0x2c3),_0x3205b8(0x1ae)+_0x2a1abf),_0x1b75cc=!![]):(lastOrders=lastOrders[_0x3205b8(0x231)](_0x2e9548=>_0x2e9548[_0x3205b8(0x335)]!=_0x2a1abf),await handleError(_0x45fb7c,'placeOrder()',_0x2a1abf));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x3205b8(0x2be)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5a1b64=config['ordertype']==_0x3205b8(0x2f4)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5a1b64);}else unlockOrders();_0x1b75cc&&config[_0x3205b8(0x251)]&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success','Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x3205b8(0x251)]&&logHistory(_0x3205b8(0x2c3),_0x3205b8(0x241));else lockOrders!=ORDERS[_0x3205b8(0x260)]&&(!config[_0x3205b8(0x251)]&&(config['ordertype']==_0x3205b8(0x2f4)?logHistory(_0x3205b8(0x2c3),_0x3205b8(0x288)):logHistory(_0x3205b8(0x2c3),_0x3205b8(0x213))));}}function persistOpenOrders(_0x18535d){const _0x635c4a=_0x50b50e,_0x5a98b9={...config,'openOrders':_0x18535d};let _0x48ca93=dbConfig[_0x635c4a(0x265)](_0x635c4a(0x297))[_0x635c4a(0x232)]({'botID':botID})[_0x635c4a(0x316)]();_0x48ca93&&dbConfig[_0x635c4a(0x265)](_0x635c4a(0x297))[_0x635c4a(0x232)]({'botID':botID})[_0x635c4a(0x268)](_0x5a98b9)['write']();}function restoreOrders(){const _0x10ed32=_0x50b50e;let _0x40c7c5;config[_0x10ed32(0x1d7)]&&allOpenOrders[_0x10ed32(0x278)](_0x5070cf=>{const _0x4e2f72=_0x10ed32,_0xa25e07=config[_0x4e2f72(0x1d7)][_0x4e2f72(0x232)](_0x3c83ac=>_0x3c83ac[_0x4e2f72(0x32e)]==_0x5070cf['id']);_0xa25e07&&(lastOrders[_0x4e2f72(0x24f)](_0xa25e07),_0x40c7c5=_0x5070cf[_0x4e2f72(0x333)]);});if(lastOrders[_0x10ed32(0x2be)]>0x0){lockOrders=ORDERS[_0x10ed32(0x25b)],validateOrdersState=_0x10ed32(0x330),allOrdersPlaced=!![];const _0x4c5877=new Date()[_0x10ed32(0x272)](),_0x251c69=config[_0x10ed32(0x28a)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x10ed32(0x1d9)]*0x3c*0x3e8;if(_0x40c7c5+_0x251c69>_0x4c5877){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xa7cf35=_0x10ed32;validateOrders(_0xa7cf35(0x317));},_0x40c7c5+_0x251c69-_0x4c5877);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x25593e=_0x50b50e;if(!coinsLoaded){process[_0x25593e(0x2fd)]({'telegrammsg':_0x25593e(0x26f)},_0x250272=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x2783da='';if(config['showname'])_0x2783da=_0x25593e(0x291)+config[_0x25593e(0x2fe)]+_0x25593e(0x2b2);else _0x2783da=_0x25593e(0x29e)+botID+_0x25593e(0x2b2);const _0x35e7b6=getKPIs(_0x25593e(0x2ad)),_0x4ec9e5=getKPIs(_0x25593e(0x205),config[_0x25593e(0x205)]),_0x403e89=getKPIs(_0x25593e(0x2b0)),_0x4ee662=getKPIs(_0x25593e(0x24b),config[_0x25593e(0x205)]);_0x2783da+='<pre>',_0x2783da+=_0x35e7b6[_0x25593e(0x28f)]+'\x20:\x20'+_0x35e7b6[_0x25593e(0x316)]+'\x0a',_0x2783da+=_0x35e7b6[_0x25593e(0x2ba)]+':\x20'+_0x35e7b6['change']+'%\x0a',_0x2783da+=_0x4ec9e5[_0x25593e(0x28f)]+_0x25593e(0x2da)+_0x4ec9e5['value']+'\x0a',_0x2783da+=_0x4ec9e5['rightTxt']+':\x20'+_0x4ec9e5[_0x25593e(0x2d1)]+'%\x0a',_0x2783da+=_0x403e89[_0x25593e(0x28f)]+':\x20'+_0x403e89[_0x25593e(0x316)]+'\x20('+config['basecoin']+')\x0a',_0x2783da+=_0x403e89[_0x25593e(0x2ba)]+':\x20'+_0x403e89[_0x25593e(0x2d1)]+'%\x20('+config[_0x25593e(0x2ad)]+')\x0a',_0x2783da+=_0x4ee662['leftTxt']+':\x20'+_0x4ee662[_0x25593e(0x316)]+'\x20('+config[_0x25593e(0x205)]+')\x0a',_0x2783da+=_0x4ee662[_0x25593e(0x2ba)]+':\x20'+_0x4ee662[_0x25593e(0x2d1)]+_0x25593e(0x308)+config[_0x25593e(0x205)]+')\x0a',_0x2783da+=_0x25593e(0x1da),process['send']({'telegrammsg':_0x2783da},_0x3980b7=>{});}async function sendPortfolioTelegram(){const _0x5be6a0=_0x50b50e;if(!coinsLoaded){process['send']({'telegrammsg':_0x5be6a0(0x26f)},_0x133fe1=>{});return;}let _0x4bb5d3='';if(config['showname'])_0x4bb5d3=_0x5be6a0(0x291)+config[_0x5be6a0(0x2fe)]+_0x5be6a0(0x2a5);else _0x4bb5d3=_0x5be6a0(0x29e)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x4bb5d3+=_0x5be6a0(0x253),_0x4bb5d3+=_0x5be6a0(0x20a),_0x4bb5d3+=_0x5be6a0(0x1f6),_0x4bb5d3+=_0x5be6a0(0x20a),currentCoins[_0x5be6a0(0x278)](_0x4d0a64=>{const _0x351bbf=_0x5be6a0;_0x4bb5d3+=_0x4d0a64['coin'][_0x351bbf(0x2e7)](0x7)+'|\x20'+formatPad(_0x4d0a64[_0x351bbf(0x2a2)],0x2,0x6)+'|\x20'+formatPad(_0x4d0a64['target'],0x2,0x6)+'|\x20'+formatPad(_0x4d0a64[_0x351bbf(0x30e)]*0x64,0x2,0x6)+'\x0a';}),_0x4bb5d3+=_0x5be6a0(0x1da),process['send']({'telegrammsg':_0x4bb5d3},_0x53e203=>{});}function formatPad(_0x3f1d15,_0x4fe149,_0x5d2cf0){const _0x27fc99=_0x50b50e,_0x6ad922=formatResultString(_0x3f1d15,_0x4fe149);return _0x6ad922?_0x6ad922[_0x27fc99(0x208)](_0x5d2cf0):''[_0x27fc99(0x208)](_0x5d2cf0);}function logHistory(_0x307643,_0x113583,_0x207c35=''){const _0x58245b=_0x50b50e;let _0x385550={'time':getTimeStamp(),'type':_0x307643,'event':_0x113583};dbLogs[_0x58245b(0x265)](_0x58245b(0x275))[_0x58245b(0x24f)](_0x385550)['write']();if(_0x207c35=='')_0x207c35=_0x113583;proxyEmit(_0x58245b(0x2e8),{'log':_0x385550,'summary':_0x207c35}),process['send']({'telegram':{..._0x385550,'botname':config[_0x58245b(0x2fe)],'showname':config[_0x58245b(0x314)]}},_0x2bc37f=>{}),logger[_0x58245b(0x2de)](''+_0x385550[_0x58245b(0x2e8)]);}function emitHistory(_0x39ca42={}){const _0x50049d=_0x50b50e;Object[_0x50049d(0x28b)](_0x39ca42)[_0x50049d(0x2be)]==0x0&&(_0x39ca42={'type':[_0x50049d(0x218),_0x50049d(0x2e8)],'event':'','page':0x1});if(_0x39ca42[_0x50049d(0x332)]['includes'](_0x50049d(0x2e8)))_0x39ca42[_0x50049d(0x332)][_0x50049d(0x2e3)](_0x39ca42[_0x50049d(0x332)][_0x50049d(0x290)]('event'),0x1,_0x50049d(0x2c3),_0x50049d(0x240),_0x50049d(0x1b0));if(dbLogs[_0x50049d(0x1e5)](_0x50049d(0x275))[_0x50049d(0x316)]()){let _0x3a6fdf=dbLogs[_0x50049d(0x265)](_0x50049d(0x275))[_0x50049d(0x231)](_0x339993=>{const _0x3e8189=_0x50049d;if(_0x39ca42[_0x3e8189(0x332)]['length']==0x0)return![];else return _0x39ca42[_0x3e8189(0x332)][_0x3e8189(0x2cf)](_0x339993[_0x3e8189(0x332)]);})['filter'](_0x4369ff=>{const _0x5bdc11=_0x50049d;if(_0x39ca42[_0x5bdc11(0x2e8)]=='')return!![];else return _0x4369ff[_0x5bdc11(0x2e8)][_0x5bdc11(0x29d)]()[_0x5bdc11(0x2cf)](_0x39ca42[_0x5bdc11(0x2e8)][_0x5bdc11(0x29d)]());})['sortBy'](_0x50049d(0x248)),_0x482022=_0x3a6fdf[_0x50049d(0x316)]()[_0x50049d(0x2be)];_0x3a6fdf=_0x3a6fdf['reverse']()[_0x50049d(0x2ed)]((_0x39ca42[_0x50049d(0x237)]-0x1)*logPageSize,_0x39ca42[_0x50049d(0x237)]*logPageSize-0x1)[_0x50049d(0x2f0)]()[_0x50049d(0x316)](),proxyEmit(_0x50049d(0x329),{'logs':_0x3a6fdf,'total':_0x482022});}else proxyEmit(_0x50049d(0x329),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5a7448){const _0x49a1ea=_0x50b50e;if(dbLogs['has']('logs')['value']()){const _0xb23665=dbLogs[_0x49a1ea(0x265)](_0x49a1ea(0x275))[_0x49a1ea(0x1c7)](_0x49a1ea(0x248))['filter'](_0x3b5ecd=>{const _0xf6ed35=_0x49a1ea;return _0x3b5ecd[_0xf6ed35(0x332)]=='order';})[_0x49a1ea(0x316)]();dbLogs[_0x49a1ea(0x265)]('logs')[_0x49a1ea(0x2ab)]()[_0x49a1ea(0x2ff)](),dbLogs[_0x49a1ea(0x265)](_0x49a1ea(0x275))['assign'](_0xb23665)[_0x49a1ea(0x2ff)](),emitHistory(_0x5a7448);}}async function pauseBot(_0x33c03f=''){const _0x3e91c3=_0x50b50e,_0x34ba82=new Date()[_0x3e91c3(0x272)]();if(!lastErrorShown||_0x34ba82-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x34ba82;!lastBotPause?(lastBotPause=_0x34ba82,consecutivePauses=0x1):(_0x34ba82-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x43f633=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x3e91c3(0x272)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x33c03f)_0x33c03f+='\x20|\x20';logHistory(_0x3e91c3(0x2c3),_0x33c03f+_0x3e91c3(0x303)+pauseBotInterval/0xea60+_0x3e91c3(0x32d)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x11f4d3=_0x50b50e;process[_0x11f4d3(0x2fd)]({'stop':_0x11f4d3(0x228)},_0x62bddf=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x576d13,_0x4b0a81){const _0x339890=_0x50b50e;if(_0x576d13[_0x339890(0x2bf)]()[_0x339890(0x2cf)]('API-key\x20format\x20invalid'))return logHistory(_0x339890(0x2c3),config[_0x339890(0x2e1)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x576d13[_0x339890(0x2bf)]()[_0x339890(0x2cf)](_0x339890(0x309)))return logHistory('error',config[_0x339890(0x2e1)]+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x576d13[_0x339890(0x2bf)]()[_0x339890(0x2cf)](_0x339890(0x216)))return logHistory('error',config[_0x339890(0x2e1)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x339890(0x2c3),_0x339890(0x2c7)),![];else await handleError(_0x576d13,_0x4b0a81);}}}async function handleError(_0x1b3df7,_0x4331f4,_0x4aaed6=''){const _0xe6b62=_0x50b50e,_0x1fc882=config[_0xe6b62(0x2e1)]||'Exchange';if(_0x1b3df7['toString']()[_0xe6b62(0x2cf)](_0xe6b62(0x200))||_0x1b3df7[_0xe6b62(0x2bf)]()['includes'](_0xe6b62(0x2e9)))await pauseBot(config[_0xe6b62(0x2e1)]+_0xe6b62(0x1b4));else{if(_0x1b3df7[_0xe6b62(0x2bf)]()[_0xe6b62(0x2cf)](_0xe6b62(0x274))||_0x1b3df7[_0xe6b62(0x2bf)]()[_0xe6b62(0x2cf)](_0xe6b62(0x1d6)))await pauseBot(config['exchange']+_0xe6b62(0x29f));else{if(_0x1b3df7['toString']()[_0xe6b62(0x2cf)](_0xe6b62(0x244)))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0x1b3df7[_0xe6b62(0x2bf)]()[_0xe6b62(0x2cf)](_0xe6b62(0x2ea)))await pauseBot(config[_0xe6b62(0x2e1)]+'\x20closed\x20the\x20connection');else{if(_0x1b3df7[_0xe6b62(0x2bf)]()[_0xe6b62(0x2cf)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0xe6b62(0x2c3),_0x4331f4+_0xe6b62(0x31a)),logHistory(_0xe6b62(0x2c3),_0xe6b62(0x250)),await killBot();else{if(_0x1b3df7[_0xe6b62(0x2bf)]()['includes'](_0xe6b62(0x257)))logHistory(_0xe6b62(0x2c3),_0x4331f4+_0xe6b62(0x2ae)),logHistory(_0xe6b62(0x2c3),_0xe6b62(0x250)),await killBot();else{if(_0x1b3df7 instanceof ccxt[_0xe6b62(0x32a)])logger['debug'](_0xe6b62(0x1f4),_0x1b3df7),await pauseBot(config[_0xe6b62(0x2e1)]+_0xe6b62(0x1e3));else{if(_0x1b3df7[_0xe6b62(0x2bf)]()['includes']('API-key\x20format\x20invalid'))logHistory(_0xe6b62(0x2c3),_0x4331f4+_0xe6b62(0x2b9)+config[_0xe6b62(0x2e1)]+'\x20API\x20key\x20is\x20invalid'),logHistory(_0xe6b62(0x2c3),_0xe6b62(0x250)),await killBot();else{if(_0x1b3df7[_0xe6b62(0x2bf)]()[_0xe6b62(0x2cf)](_0xe6b62(0x309)))logHistory(_0xe6b62(0x2c3),_0x4331f4+_0xe6b62(0x2b9)+config[_0xe6b62(0x2e1)]+_0xe6b62(0x33a)),logHistory(_0xe6b62(0x2c3),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1b3df7[_0xe6b62(0x2bf)]()[_0xe6b62(0x2cf)](_0xe6b62(0x216)))logHistory(_0xe6b62(0x2c3),_0x4331f4+_0xe6b62(0x2b9)+config[_0xe6b62(0x2e1)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0xe6b62(0x2c3),_0xe6b62(0x250)),await killBot();else{if(_0x1b3df7[_0xe6b62(0x2bf)]()[_0xe6b62(0x2cf)](_0xe6b62(0x1c3)))logHistory(_0xe6b62(0x2c3),_0x4331f4+_0xe6b62(0x1f7)+_0x4aaed6);else _0x1b3df7 instanceof ccxt['ExchangeError']?(logger[_0xe6b62(0x1f9)](_0xe6b62(0x1bb),_0x1b3df7),logHistory(_0xe6b62(0x2c3),_0x4331f4+'\x20|\x20'+config[_0xe6b62(0x2e1)]+_0xe6b62(0x296))):(logger[_0xe6b62(0x2de)](_0x4331f4+'\x20|\x20Error\x20details:\x20',_0x1b3df7),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}}}}function formatResult(_0x16e900,_0x210890){const _0xd3a43e=_0x50b50e;return parseFloat(_0x16e900[_0xd3a43e(0x27c)](_0x210890));}function formatResultTruncate(_0x38e6d0,_0x251b8e){const _0x3cfcf9=_0x50b50e;let _0x51e6fd=formatResultString(_0x38e6d0,0xa),_0x555023=_0x51e6fd['indexOf']('.');return _0x555023!=-0x1&&(_0x51e6fd=_0x51e6fd[_0x3cfcf9(0x2ed)](0x0,_0x555023+_0x251b8e+0x1)),Number(_0x51e6fd);}function formatResultString(_0x3eafc4,_0x399cb6){const _0x3ce859=_0x50b50e;let _0x2a41be;if(!(''+_0x3eafc4)[_0x3ce859(0x2cf)]('e'))_0x2a41be=+(Math[_0x3ce859(0x1cb)](_0x3eafc4+'e+'+_0x399cb6)+'e-'+_0x399cb6);else{let _0x5d0d08=(''+_0x3eafc4)[_0x3ce859(0x1e9)]('e'),_0xe85310='';+_0x5d0d08[0x1]+_0x399cb6>0x0&&(_0xe85310='+'),_0x2a41be=+(Math['round'](+_0x5d0d08[0x0]+'e'+_0xe85310+(+_0x5d0d08[0x1]+_0x399cb6))+'e-'+_0x399cb6);}return Number(_0x2a41be)[_0x3ce859(0x27c)](_0x399cb6);}function getServerTime(){const _0x57e2ff=_0x50b50e,_0x43dfe8=new Date();return _0x43dfe8[_0x57e2ff(0x293)]()+'/'+(_0x43dfe8[_0x57e2ff(0x2d3)]()+0x1)[_0x57e2ff(0x2bf)]()[_0x57e2ff(0x208)](0x2,'0')+'/'+_0x43dfe8['getDate']()['toString']()[_0x57e2ff(0x208)](0x2,'0')+'\x20'+_0x43dfe8[_0x57e2ff(0x246)]()[_0x57e2ff(0x2bf)]()[_0x57e2ff(0x208)](0x2,'0')+':'+_0x43dfe8['getMinutes']()[_0x57e2ff(0x2bf)]()[_0x57e2ff(0x208)](0x2,'0')+':'+_0x43dfe8[_0x57e2ff(0x2c6)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x422625=_0x50b50e,_0x364f40=shiftedTime();return _0x364f40[_0x422625(0x293)]()+'/'+(_0x364f40['getMonth']()+0x1)[_0x422625(0x2bf)]()[_0x422625(0x208)](0x2,'0')+'/'+_0x364f40[_0x422625(0x30d)]()[_0x422625(0x2bf)]()[_0x422625(0x208)](0x2,'0')+'\x20'+_0x364f40[_0x422625(0x246)]()[_0x422625(0x2bf)]()['padStart'](0x2,'0')+':'+_0x364f40[_0x422625(0x236)]()[_0x422625(0x2bf)]()[_0x422625(0x208)](0x2,'0')+':'+_0x364f40[_0x422625(0x2c6)]()[_0x422625(0x2bf)]()[_0x422625(0x208)](0x2,'0');}function getDate(){const _0x4f5415=_0x50b50e,_0x9f3ffb=shiftedTime();return _0x9f3ffb[_0x4f5415(0x293)]()+'/'+(_0x9f3ffb['getMonth']()+0x1)['toString']()[_0x4f5415(0x208)](0x2,'0')+'/'+_0x9f3ffb[_0x4f5415(0x30d)]()[_0x4f5415(0x2bf)]()[_0x4f5415(0x208)](0x2,'0');}function getHour(){const _0x3b1ec2=_0x50b50e,_0x4ae07f=shiftedTime();return _0x4ae07f[_0x3b1ec2(0x246)]()[_0x3b1ec2(0x2bf)]()[_0x3b1ec2(0x208)](0x2,'0');}function sleep(_0x1557a2){return new Promise(_0x492d4e=>setTimeout(_0x492d4e,_0x1557a2));}function shiftedTime(){const _0x2937f3=_0x50b50e,_0x266c9e=new Date();let _0x4c50ba=_0x266c9e;if(config&&config[_0x2937f3(0x305)]!==0x0)_0x4c50ba=fns[_0x2937f3(0x276)](_0x266c9e,{'hours':config['timeshift']});return _0x4c50ba;}function timer(_0x46f9ee){const _0x1b888a=_0x50b50e,_0x595e71=new Date();!lasttime?console[_0x1b888a(0x320)](getTimeStamp()+_0x1b888a(0x2d7),_0x46f9ee,_0x595e71):console[_0x1b888a(0x320)](getTimeStamp()+_0x1b888a(0x2d7),_0x46f9ee,(_0x595e71-lasttime)/0x3e8),lasttime=_0x595e71;}