const _0x5be2c4=_0x2dc2;(function(_0x314d7a,_0x4d2b43){const _0x2777f4=_0x2dc2,_0x226c5a=_0x314d7a();while(!![]){try{const _0x2e4556=parseInt(_0x2777f4(0x1a7))/0x1*(-parseInt(_0x2777f4(0x1ff))/0x2)+-parseInt(_0x2777f4(0x297))/0x3*(-parseInt(_0x2777f4(0x1fd))/0x4)+parseInt(_0x2777f4(0x23c))/0x5*(parseInt(_0x2777f4(0x196))/0x6)+-parseInt(_0x2777f4(0x181))/0x7*(parseInt(_0x2777f4(0x180))/0x8)+-parseInt(_0x2777f4(0x24b))/0x9+parseInt(_0x2777f4(0x205))/0xa+-parseInt(_0x2777f4(0x23d))/0xb;if(_0x2e4556===_0x4d2b43)break;else _0x226c5a['push'](_0x226c5a['shift']());}catch(_0x1bb097){_0x226c5a['push'](_0x226c5a['shift']());}}}(_0x545d,0xc7777));const _0x5118c2=function(){let _0x37b7ad=!![];return function(_0x41f5f1,_0xa4b38b){const _0x59d8a0=_0x37b7ad?function(){const _0x39fff8=_0x2dc2;if(_0xa4b38b){const _0x3751d9=_0xa4b38b[_0x39fff8(0x26f)](_0x41f5f1,arguments);return _0xa4b38b=null,_0x3751d9;}}:function(){};return _0x37b7ad=![],_0x59d8a0;};}(),_0x306608=_0x5118c2(this,function(){const _0x50b3d9=_0x2dc2;return _0x306608[_0x50b3d9(0x21d)]()[_0x50b3d9(0x19c)](_0x50b3d9(0x289))[_0x50b3d9(0x21d)]()[_0x50b3d9(0x25c)](_0x306608)[_0x50b3d9(0x19c)](_0x50b3d9(0x289));});_0x306608();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require(_0x5be2c4(0x200)),fs=require('fs'),fns=require(_0x5be2c4(0x296)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x5be2c4(0x1a5)),Crypt=require(_0x5be2c4(0x17a))[_0x5be2c4(0x280)];let exchange,wsClient;global[_0x5be2c4(0x20e)]={},global[_0x5be2c4(0x25f)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x5be2c4(0x1a1),_0x5be2c4(0x215),_0x5be2c4(0x23f),_0x5be2c4(0x1d3),_0x5be2c4(0x1e5),_0x5be2c4(0x241)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];function _0x545d(){const _0x2370a8=['startprice','performance','get','emojibuy','breakeven','showname','assign','toggleBotMode','decrypt','balancing\x20resumed','valid','initws()','sell','set','write','Error:\x20Invalid\x20argument\x20','************','getMonth','RequestTimeout','Order(s)\x20not\x20validated\x20after\x20','20wRWDby','3793174xTMuEb','threshold','HOT/EUR','close','YOYOW/','ordertype','subscribeSpotUserDataStream','sort','last','portfolio','Unknown\x20error\x20occured','eur','wss://stream.binance.us:9443','parseISO','11148030nZVfCc','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','keys','timeout','\x20|\x20','split','fetchClosedOrders','balances','no\x20open\x20orders','exchange','kline','configuration-stored','priceChangePercent','abs','API-key\x20format\x20invalid','wsKey','eventType','constructor','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','ETH','change','usd','change24h','getMinutes','getPortfolio()','\x20>\x20','2.3.5','parse','trade','cancelOrder','userData','remove','Pausing\x20for\x20','executionReport','BNB/','fromCodePoint','apply','getTime','BTC','date','has','storeHeadless','API\x20or\x20clock\x20sync\x20issue','shift','Binance\x20not\x20available\x20(1)','botname','offset','-config.json','deleteHistoryAlerts','running','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','mkdirSync','loadMarkets','Crypt','order','coin','isArray','fee','filled','currency','slice','basecoin','(((.+)+)+)+$','spot','Market','length','getFiat()','join','wsMarket','reconnected','recreate','./version.json','getDate','liquidity','Manual\x20balancing\x20required:\x20','date-fns','75mGAsCg','sortBy','Binance\x20not\x20responding','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','padStart','replace','min','headless','coins','logs','\x20-\x20','getSeconds','cancelOrders()','apiSecret','side','toLowerCase','argv','EUR','function','No\x20more\x20open\x20orders\x20-\x20','Order(s)\x20validated\x20-\x20','FILLED','splice','hybrid-crypto-js','privateKey','buy','placeOrder','excluded','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','40UuGqZk','370223oLoIQR','bot','differenceInSeconds','bot-','limits','fetchBalance','bb-settings.json','findIndex','filter','forEach','\x20|\x20Binance\x20API\x20secret\x20invalid','-results.json','writeFile','apiKey','\x20-\x20bot\x20not\x20started','milliseconds','format','log','getStartingBalances','limit-low','\x20|\x20Error\x20details:\x20','1625478rqpXBP','OrderNotFound','datetime','symbol','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','final','search','placeOrder()','reverse','changes','001','DAI/','delta','Order(s)\x20filled\x20-\x20','InvalidNonce','binance',':\x20Bot\x20','733643kkPwMR','includes','fetchTickers','ask','initial','\x20order:\x20','round','storeConfiguration','indexOf','getCoins()','entries','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','2.5.0','ExchangeNotAvailable','WebSockets(','time','string','buys','\x20portfolio:\x20\x0a\x0a','timestamp','concat','/backup/','toFixed','loadSymbols()','\x20minutes','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','page','distribution','Failed\x20to\x20load\x20coin\x20data\x20for\x20','InsufficientFunds','ongoing','yyyy/MM/dd','max','-performance.json','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20hour','realized','Binance\x20API\x20key\x20is\x20invalid','Binance\x20API\x20secret\x20is\x20invalid','accumulatedQuantity','Order\x20filled:\x20','push','version','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','XEM/BUSD','starting-balances','kill','createOrder','message','botID','initclient','total','MIN_NOTIONAL','restart',',\x20must\x20be\x20a\x203\x20digit\x20number','price','BNB','\x20|\x20Binance\x20API\x20key\x20invalid','./config/','-------------------------------\x0a','map','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','NANO/','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','limit','amount','market','event','error','number','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','padEnd','starting-balance-','BUSD','defaults','progress','timeshift','getHours','settings','formattedMessage','data','eventTime','\x20has\x20a\x2024h\x20drop\x20of\x20','find','\x20minutes\x20-\x20','configuration','176188ZbVDQY','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','2KRBmOn','lowdb/adapters/FileSync','getPortfolio','target','</pre>','orderId','12137800tgKVPB','startdate','cost','getFullYear','fees','cooldown','binanceus','cloneDeep','Binance\x20not\x20available\x20(2)','ticker','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','existsSync','type','Bot\x20','emitHistory','secure','HOT/BTC','emojisell','exec','send','/USDT','fetchOpenOrders','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','toString','remainingSymbols','stringify','commission','args','success','event-history','DDoSProtection','USDT','sells','value'];_0x545d=function(){return _0x2370a8;};return _0x545d();}const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],wstriggersset=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,recreationNeeded=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x5be2c4(0x292))['version'],botID=process['argv'][0x2]||_0x5be2c4(0x1a0),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x5be2c4(0x192)](_0x5be2c4(0x237)+botID+_0x5be2c4(0x1dd)),process['exit'](0x1));const userID=process[_0x5be2c4(0x173)][0x3]||'',configpath=userID?_0x5be2c4(0x1e1)+userID+'/':'./config/';!fs[_0x5be2c4(0x210)](configpath)&&fs[_0x5be2c4(0x27e)](configpath);const configfile=configpath+_0x5be2c4(0x184)+botID+_0x5be2c4(0x27a),logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+_0x5be2c4(0x184)+botID+_0x5be2c4(0x1c8),coinresultsfile=configpath+_0x5be2c4(0x184)+botID+_0x5be2c4(0x18c),settingsfile=configpath+_0x5be2c4(0x187),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x5be2c4(0x1bc),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5be2c4(0x1f1)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5be2c4(0x1f1)]({'data':[]})[_0x5be2c4(0x236)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5be2c4(0x1f1)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5be2c4(0x1f1)]({'coins':[]})[_0x5be2c4(0x236)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x3e207f)=>{},'debug':(..._0x271216)=>{},'notice':(..._0x1dbab8)=>{},'info':(..._0x346874)=>{},'warning':(..._0x17663a)=>{},'error':async function(..._0xd22593){const _0x558553=_0x5be2c4,_0x39159e=new Date()[_0x558553(0x270)]();if(!lastErrorShown||_0x39159e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x558553(0x270)]();let _0x3df582='';if(_0xd22593[0x0])_0x3df582+=_0xd22593[0x0];if(_0xd22593[0x1]&&_0xd22593[0x1][_0x558553(0x1eb)]&&_0xd22593[0x1]['error'][_0x558553(0x1d7)])_0x3df582+='\x20-\x20'+_0xd22593[0x1][_0x558553(0x1eb)][_0x558553(0x1d7)];logging(_0x558553(0x1b5)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x3df582),await pauseBot(_0x558553(0x277));}}},crypt=new Crypt({'md':'sha256','rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x5be2c4(0x1f3)]!=config[_0x5be2c4(0x1f3)]&&updateTimeshift(settings[_0x5be2c4(0x1f3)]);process[_0x5be2c4(0x218)]({'started':'running'},_0x5bec3c=>{}),initializeProcessListeners();function proxyEmit(_0x56b043,_0x3386a6=null){const _0xd37cc0=_0x5be2c4;process[_0xd37cc0(0x218)]({'function':_0x56b043,'args':_0x3386a6},_0x434ad1=>{});}function initializeProcessListeners(){const _0x56add6=_0x5be2c4;process['on'](_0x56add6(0x1d7),_0x1d1704=>{const _0x952ac2=_0x56add6;switch(Object[_0x952ac2(0x24d)](_0x1d1704)[0x0]){case _0x952ac2(0x1f3):_0x1d1704[_0x952ac2(0x1f3)]!=undefined&&(settings[_0x952ac2(0x1f3)]=_0x1d1704[_0x952ac2(0x1f3)],updateTimeshift(settings[_0x952ac2(0x1f3)]));break;case _0x952ac2(0x175):switch(_0x1d1704['function']){case _0x952ac2(0x1d9):initclient();break;case _0x952ac2(0x22f):toggleBotMode();break;case _0x952ac2(0x213):emitHistory(_0x1d1704['args']);break;case _0x952ac2(0x27b):deleteHistoryAlerts(_0x1d1704[_0x952ac2(0x221)]);break;case _0x952ac2(0x201):getPortfolio(_0x1d1704[_0x952ac2(0x221)]);break;case _0x952ac2(0x1ae):storeConfiguration(_0x1d1704['args']);break;case _0x952ac2(0x274):storeHeadless(_0x1d1704[_0x952ac2(0x221)]);break;case _0x952ac2(0x193):getStartingBalances(getNormalizedPerformance());break;case _0x952ac2(0x17d):placeOrder(_0x1d1704[_0x952ac2(0x221)]);break;case'cancelLoading':cancelLoading();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x532a04=_0x5be2c4;if(pidBalances)clearTimeout(pidBalances);if(config[_0x532a04(0x18e)]!=''){await initExchange(config['apiKey'],config['apiSecret']);let _0x2e4347=await loadSymbols();if(_0x2e4347){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x532a04(0x28c)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x280b9c,_0x142162){const _0x2aaee1=_0x5be2c4,_0x238a5d=ccxt[config[_0x2aaee1(0x254)]];let _0x2a033c;switch(config['exchange']){case _0x2aaee1(0x1a5):_0x2a033c='wss://stream.binance.com:9443';break;case _0x2aaee1(0x20b):_0x2a033c=_0x2aaee1(0x249);break;default:_0x2a033c='wss://stream.binance.com:9443';}exchange=new _0x238a5d({'apiKey':_0x280b9c,'secret':_0x142162,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x280b9c,'api_secret':_0x142162,'beautify':!![],'wsUrl':_0x2a033c},logger);!wstriggersset&&(wstriggersset=!![],wsClient['on'](_0x2aaee1(0x1f6),_0x55ce80=>{const _0x1fa917=_0x2aaee1;if(isWsFormattedKline(_0x55ce80)){global['ticker'][_0x55ce80[_0x1fa917(0x255)]['symbol']]=_0x55ce80[_0x1fa917(0x255)]['close'];return;}else{if(isWsFormatted24hrTicker(_0x55ce80)){global[_0x1fa917(0x25f)][_0x55ce80[_0x1fa917(0x199)]]=_0x55ce80[_0x1fa917(0x257)];return;}else{if(!Array[_0x1fa917(0x283)](_0x55ce80)&&_0x55ce80[_0x1fa917(0x25a)][_0x1fa917(0x1a8)](_0x1fa917(0x269))){if(_0x55ce80[_0x1fa917(0x28f)][_0x1fa917(0x1a8)](_0x1fa917(0x28a))){updateNumberCoins(_0x55ce80);return;}}}}}),wsClient['on'](_0x2aaee1(0x290),async _0x22ed83=>{if(!botPaused)currentCoins=await getCoins(!![]);}));let _0x3d0478=config[_0x2aaee1(0x254)]==_0x2aaee1(0x20b)?'USDT':_0x2aaee1(0x174),_0x27b435=config[_0x2aaee1(0x288)]==_0x2aaee1(0x25e)?_0x2aaee1(0x25e):_0x2aaee1(0x271);stablecoins={'eur':{'coin':''+_0x27b435+_0x3d0478,'symbol':_0x27b435+'/'+_0x3d0478},'usd':{'coin':_0x27b435+_0x2aaee1(0x225),'symbol':_0x27b435+_0x2aaee1(0x219)}};}async function loadSymbols(){const _0x58ef6e=_0x5be2c4;let _0x29fa92;try{markets=await exchange[_0x58ef6e(0x27f)](),allSymbols=exchange['symbols'][_0x58ef6e(0x189)](_0xa554e7=>{const _0x227fa0=_0x58ef6e;let _0xbf850a=![];return exceptions[_0x227fa0(0x18a)](_0x5ec63f=>{const _0x2e6d3b=_0x227fa0;if(_0xa554e7[_0x2e6d3b(0x1a8)](_0x5ec63f))_0xbf850a=!![];}),!_0xbf850a;}),_0x29fa92=!![];}catch(_0x29cd2a){await handleError(_0x29cd2a,_0x58ef6e(0x1be)),_0x29fa92=![];}return _0x29fa92;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x50fca3=_0x5be2c4;proxyEmit(_0x50fca3(0x1fc),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x50fca3(0x252),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4a6378=getNormalizedPerformance();emitPerformance(_0x4a6378),await getStartingBalances(_0x4a6378);}async function toggleBotMode(){const _0x1b267d=_0x5be2c4;let _0x2d9655=dbConfig[_0x1b267d(0x22a)](_0x1b267d(0x182))[_0x1b267d(0x1fa)]({'botID':botID})['value']();if(_0x2d9655){const _0x1a3443=!_0x2d9655[_0x1b267d(0x29e)];dbConfig[_0x1b267d(0x22a)](_0x1b267d(0x182))[_0x1b267d(0x1fa)]({'botID':botID})['assign']({'headless':_0x1a3443})[_0x1b267d(0x236)](),config[_0x1b267d(0x29e)]=_0x1a3443,proxyEmit(_0x1b267d(0x1fc),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0xc1dc94=>{});}function cleanws(){const _0x32eb15=_0x5be2c4;wsinitialized=![];ws1&&(ws1['forEach'](_0x35af64=>{const _0x19c917=_0x2dc2;try{wsClient[_0x19c917(0x240)](_0x35af64);}catch(_0x5a45ac){}}),ws1=[]);if(ws2){try{wsClient[_0x32eb15(0x240)](ws2);}catch(_0x35102d){}ws2=null;}ws3&&(ws3[_0x32eb15(0x18a)](_0x4832f0=>{const _0x224e11=_0x32eb15;try{wsClient[_0x224e11(0x240)](_0x4832f0);}catch(_0x103fe2){}}),ws3=[]);}async function initws(){const _0x4fba5f=_0x5be2c4;cleanws();let _0x44494d=[];currentCoins[_0x4fba5f(0x18a)](_0x5bd28e=>{const _0x41c8d1=_0x4fba5f;if(_0x5bd28e['coin']!=config[_0x41c8d1(0x288)])_0x44494d[_0x41c8d1(0x1d0)](_0x5bd28e[_0x41c8d1(0x199)]);});if(!_0x44494d[_0x4fba5f(0x1a8)](stablecoins['eur'][_0x4fba5f(0x199)]))_0x44494d['push'](stablecoins[_0x4fba5f(0x248)][_0x4fba5f(0x199)]);if(!_0x44494d[_0x4fba5f(0x1a8)](stablecoins['usd']['symbol']))_0x44494d[_0x4fba5f(0x1d0)](stablecoins[_0x4fba5f(0x260)]['symbol']);if(!_0x44494d[_0x4fba5f(0x1a8)](_0x4fba5f(0x26d)+config[_0x4fba5f(0x288)]))_0x44494d[_0x4fba5f(0x1d0)](_0x4fba5f(0x26d)+config[_0x4fba5f(0x288)]);try{_0x44494d[_0x4fba5f(0x18a)]((_0x3d11e3,_0x20757b)=>{ws1[_0x20757b]=wsClient['subscribeSpotKline'](noslash(_0x3d11e3),'1m'),ws3[_0x20757b]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x3d11e3),'spot');}),ws2=wsClient[_0x4fba5f(0x243)]();}catch(_0x4eb589){await handleError(_0x4eb589,_0x4fba5f(0x233));}let _0x3f8877,_0x3e4b51=0x0;loading[_0x4fba5f(0x21e)]=[];let _0x478c3a=0x0;_0x44494d[_0x4fba5f(0x18a)](_0x185e0b=>{const _0x28a1b8=_0x4fba5f;loading[_0x28a1b8(0x21e)][_0x28a1b8(0x1d0)](_0x185e0b);}),loadingCanceled=![];let _0x4a2d2f=![];while(_0x3f8877!=_0x44494d[_0x4fba5f(0x28c)]){_0x3f8877=0x0,_0x44494d['forEach'](_0x20bc3d=>{const _0x52b849=_0x4fba5f;global[_0x52b849(0x20e)][noslash(_0x20bc3d)]&&(loading[_0x52b849(0x21e)]=loading[_0x52b849(0x21e)]['filter'](_0x426b=>_0x426b!=_0x20bc3d),_0x3f8877++);}),loading[_0x4fba5f(0x1f2)]=Math[_0x4fba5f(0x1ad)](_0x3f8877/_0x44494d['length']*0x64);loading[_0x4fba5f(0x1f2)]!=0x64&&(_0x478c3a>0x1e*0x5&&(loading[_0x4fba5f(0x24e)]=!![],emitLoadingProgress()),_0x478c3a>0x3c*0x5&&!_0x4a2d2f&&(_0x4a2d2f=!![],logHistory('error',_0x4fba5f(0x1c3)+loading[_0x4fba5f(0x21e)]+_0x4fba5f(0x18f))));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x3f8877!=_0x3e4b51&&(_0x3e4b51=_0x3f8877,emitLoadingProgress()),_0x478c3a++,await sleep(0xc8);}_0x4a2d2f&&logHistory(_0x4fba5f(0x222),_0x4fba5f(0x24c));if(_0x3f8877==_0x44494d[_0x4fba5f(0x28c)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x2bed7a=_0x5be2c4;let _0x54e8f6=0x0,_0x392a66=0x0;try{_0x54e8f6=global[_0x2bed7a(0x20e)][stablecoins[_0x2bed7a(0x248)][_0x2bed7a(0x282)]],_0x392a66=global[_0x2bed7a(0x20e)][stablecoins['usd']['coin']];}catch(_0x172285){await handleError(_0x172285,_0x2bed7a(0x28d));}return{'eur':Number(_0x54e8f6),'usd':Number(_0x392a66)};}function setStartDatePerformance(){const _0x1e3542=_0x5be2c4;if(config&&config[_0x1e3542(0x294)][0x0][_0x1e3542(0x19f)][_0x1e3542(0x28c)]!=0x0){const _0x4e4942=config[_0x1e3542(0x294)][0x0]['changes'];dbPerformance[_0x1e3542(0x22a)](_0x1e3542(0x1f7))[_0x1e3542(0x1fa)]({'date':config[_0x1e3542(0x206)]})[_0x1e3542(0x22e)]({'coins':_0x4e4942})['write']();}}async function recreateCoinResults(){const _0x2db852=_0x5be2c4;let _0x5ef15f,_0x3ff7f2=[];try{const _0x1c8605=fns[_0x2db852(0x191)](fns[_0x2db852(0x24a)](config[_0x2db852(0x206)][_0x2db852(0x29c)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x455195 of currentCoins){if(_0x455195[_0x2db852(0x282)]!=config['basecoin']){let _0x305fbc=0x0,_0x23b23d,_0x6e21eb;_0x5ef15f=await getAllEventOrders(_0x455195['symbol']);if(_0x5ef15f[_0x2db852(0x28c)]>0x0)_0x5ef15f['forEach'](_0x557e2b=>{const _0x1aa186=_0x2db852,_0x31a517=_0x455195[_0x1aa186(0x199)]['includes'](config['basecoin']+'/');_0x3ff7f2[_0x1aa186(0x1d0)]({'datetime':_0x557e2b[_0x1aa186(0x198)],'coin':_0x455195[_0x1aa186(0x282)],'symbol':_0x455195['symbol'],'side':_0x557e2b[_0x1aa186(0x171)],'reverse':_0x31a517,'amount':formatResult(_0x557e2b[_0x1aa186(0x285)],0x8),'filled':formatResult(_0x557e2b[_0x1aa186(0x285)],0x8),'price':formatResult(_0x557e2b[_0x1aa186(0x1de)],0x8)}),_0x305fbc=_0x557e2b[_0x1aa186(0x171)]==_0x1aa186(0x17c)?_0x305fbc+_0x557e2b['filled']:_0x305fbc-_0x557e2b[_0x1aa186(0x285)];if(!_0x6e21eb)_0x6e21eb=_0x557e2b[_0x1aa186(0x1de)];});_0x23b23d=_0x455195[_0x2db852(0x1ec)]-_0x305fbc;let _0x5e2edd;config['liquidity'][_0x2db852(0x18a)](_0x3e74aa=>{const _0x5d8a2e=_0x2db852;!_0x5e2edd&&(_0x5e2edd=_0x3e74aa['changes'][_0x5d8a2e(0x1fa)](_0x7fc544=>_0x7fc544[_0x5d8a2e(0x282)]==_0x455195['coin']),_0x5e2edd&&(_0x23b23d=_0x5e2edd[_0x5d8a2e(0x1ec)],_0x6e21eb=_0x5e2edd['price']));});let _0x54aa35=dbCoinResults[_0x2db852(0x22a)](_0x2db852(0x29f))['find']({'coin':_0x455195['coin']})['value']();_0x54aa35={'coin':_0x455195[_0x2db852(0x282)],'number':_0x23b23d,'breakeven':_0x6e21eb,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x2db852(0x29f))[_0x2db852(0x1fa)]({'coin':_0x455195[_0x2db852(0x282)]})['assign'](_0x54aa35)[_0x2db852(0x236)]();}}_0x3ff7f2[_0x2db852(0x244)]((_0x129014,_0x14ecd9)=>_0x129014[_0x2db852(0x198)]>_0x14ecd9[_0x2db852(0x198)]?0x1:_0x14ecd9['datetime']>_0x129014[_0x2db852(0x198)]?-0x1:0x0);let _0x14e076=0x0;for(let _0x4dc9d9 of _0x3ff7f2){await updateCoinResults(_0x4dc9d9,!![]);}}catch(_0x1544a2){await handleError(_0x1544a2,'recreateCoinResults()');}}async function getAllEventOrders(_0x553c4d){const _0xbe7883=_0x5be2c4;let _0x2706f8=[],_0x201ee0=dbLogs[_0xbe7883(0x22a)]('logs')[_0xbe7883(0x189)](_0x46a1ee=>{const _0x3a18be=_0xbe7883,_0x34f191=_0x46a1ee[_0x3a18be(0x1ea)][_0x3a18be(0x172)]();return _0x34f191[_0x3a18be(0x1a8)](_0x553c4d[_0x3a18be(0x172)]())&&(_0x34f191[_0x3a18be(0x1a8)](_0x3a18be(0x1e9))&&_0x34f191['includes'](_0x3a18be(0x281))||_0x34f191['includes'](_0x3a18be(0x285))&&_0x34f191[_0x3a18be(0x1a8)]('order'));})['sortBy'](_0xbe7883(0x1b6))[_0xbe7883(0x227)]();return _0x201ee0[_0xbe7883(0x18a)](_0x15bf9c=>{const _0xb59b74=_0xbe7883,_0x50b8cc=_0x15bf9c['event']['includes'](_0xb59b74(0x234))?_0xb59b74(0x234):'buy',_0x1ae30=/#([0-9]|\.)+\s/i,_0x2e2c32=Number(_0x1ae30[_0xb59b74(0x217)](_0x15bf9c[_0xb59b74(0x1ea)])[0x0]['slice'](0x1)),_0x157463=/@([0-9]|\.)+$/i,_0x33df45=Number(_0x157463['exec'](_0x15bf9c[_0xb59b74(0x1ea)])[0x0][_0xb59b74(0x287)](0x1));_0x2706f8[_0xb59b74(0x1d0)]({'datetime':_0x15bf9c[_0xb59b74(0x1b6)],'coin':symbolToCoin(_0x553c4d),'symbol':_0x553c4d,'side':_0x50b8cc,'amount':_0x2e2c32,'filled':_0x2e2c32,'price':_0x33df45});}),_0x2706f8;}async function getAllOrders(_0x2dc987,_0x242ec3){const _0x3369c7=_0x5be2c4;let _0xa9ac90=[];while(_0x242ec3<exchange[_0x3369c7(0x190)]()){const _0x3124ca=0x1f4,_0x2f5e4c=await exchange[_0x3369c7(0x251)](_0x2dc987,_0x242ec3,_0x3124ca);if(_0x2f5e4c[_0x3369c7(0x28c)])_0x242ec3=_0x2f5e4c[_0x2f5e4c[_0x3369c7(0x28c)]-0x1][_0x3369c7(0x1ba)]+0x1,_0xa9ac90=_0xa9ac90[_0x3369c7(0x1bb)](_0x2f5e4c);else break;}return _0xa9ac90;}async function validate24hChanges(){const _0x5733c0=_0x5be2c4;let _0x4ea614;for(const _0x3bc2a3 of currentCoins){if(_0x3bc2a3['coin']!=config[_0x5733c0(0x288)]){let _0x5b7966;_0x3bc2a3['reverse']?_0x5b7966=formatResult((0x1/(global[_0x5733c0(0x25f)][noslash(_0x3bc2a3[_0x5733c0(0x199)])]/0x64+0x1)-0x1)*0x64,0x3):_0x5b7966=global['change'][noslash(_0x3bc2a3['symbol'])],_0x5b7966<config['change24h']&&(logHistory('error',_0x3bc2a3['coin']+_0x5733c0(0x1f9)+_0x5b7966+'%'),logHistory(_0x5733c0(0x1eb),_0x5733c0(0x1c0)),logHistory(_0x5733c0(0x1eb),_0x5733c0(0x1e6)),await storeHeadless({'headless':![]}));}}}function _0x2dc2(_0x544ab7,_0x342e10){const _0x4df1cd=_0x545d();return _0x2dc2=function(_0x306608,_0x5118c2){_0x306608=_0x306608-0x171;let _0x545d13=_0x4df1cd[_0x306608];return _0x545d13;},_0x2dc2(_0x544ab7,_0x342e10);}async function oneTimeMigration(){const _0x4c767b=_0x5be2c4;let _0x1db668=dbLogs['get'](_0x4c767b(0x1d1))[_0x4c767b(0x227)]();if(_0x1db668!=_0x4c767b(0x265)){dbLogs[_0x4c767b(0x235)](_0x4c767b(0x1d1),_0x4c767b(0x265))[_0x4c767b(0x236)]();let _0x152acb=[];const _0x9d277b=dbLogs[_0x4c767b(0x22a)](_0x4c767b(0x2a0))[_0x4c767b(0x227)]();_0x9d277b[_0x4c767b(0x18a)](_0x164430=>{const _0xda7a26=_0x4c767b;_0x152acb[_0xda7a26(0x1d0)]({'time':_0x164430[_0xda7a26(0x1b6)],'type':_0x164430['type'],'event':_0x164430['event']});}),dbLogs[_0x4c767b(0x22a)]('logs')[_0x4c767b(0x22e)](_0x152acb)[_0x4c767b(0x236)]();}let _0x471788=dbConfig[_0x4c767b(0x22a)](_0x4c767b(0x1d1))['value']();if(_0x471788!=_0x4c767b(0x265)){dbConfig[_0x4c767b(0x235)](_0x4c767b(0x1d1),_0x4c767b(0x265))[_0x4c767b(0x236)]();let _0x2cf589=dbConfig[_0x4c767b(0x22a)](_0x4c767b(0x182))[_0x4c767b(0x1fa)]({'botID':botID})['value']();if(_0x2cf589){let _0x40d5da=[];_0x2cf589['portfolio'][_0x4c767b(0x18a)](_0x9f76d7=>{const _0x32c37a=_0x4c767b;_0x40d5da[_0x32c37a(0x1d0)]({'coin':_0x9f76d7[_0x32c37a(0x282)],'number':_0x9f76d7['startnumber'],'price':_0x9f76d7[_0x32c37a(0x228)]}),delete _0x9f76d7['startnumber'],delete _0x9f76d7[_0x32c37a(0x228)];});if(_0x40d5da[_0x4c767b(0x28c)]!==0x0)fs[_0x4c767b(0x18d)](configbackuppath+(_0x4c767b(0x1ef)+botID+'.json'),JSON['stringify'](_0x40d5da,null,0x4),function(_0x393d3c){if(_0x393d3c){}});const _0x1f1dbc=(_0x3bc0f3,_0x3a2bc6)=>{const _0x226f60=_0x4c767b;let _0xf198d=[];_0x3a2bc6['forEach'](_0x152c1a=>{const _0x38d0c4=_0x2dc2,_0x344cae=_0x3bc0f3[_0x38d0c4(0x1fa)](_0x3c1d45=>_0x3c1d45[_0x38d0c4(0x282)]==_0x152c1a[_0x38d0c4(0x282)]);if(!_0x344cae)_0xf198d[_0x38d0c4(0x1d0)](_0x152c1a);});let _0x28bfef=[];return _0x3bc0f3[_0x226f60(0x18a)](_0x45c1f2=>{const _0x25798c=_0x226f60,_0x5de658=_0x3a2bc6[_0x25798c(0x1fa)](_0x2ecbef=>_0x2ecbef['coin']==_0x45c1f2[_0x25798c(0x282)]);if(!_0x5de658||_0x5de658[_0x25798c(0x1ec)]==0x0&&_0x45c1f2[_0x25798c(0x1ec)]!=0x0)_0x28bfef[_0x25798c(0x1d0)](_0x45c1f2);}),{'missingDay1':_0xf198d,'notInDay2':_0x28bfef};},_0x118ef8=dbPerformance[_0x4c767b(0x22a)](_0x4c767b(0x1f7))[_0x4c767b(0x20c)]()[_0x4c767b(0x227)]();if(_0x118ef8[_0x4c767b(0x28c)]>0x1){const {missingDay1:_0xb09032,notInDay2:_0x15c139}=_0x1f1dbc(_0x40d5da,_0x118ef8[0x1][_0x4c767b(0x29f)]);_0x40d5da=[..._0x40d5da,..._0xb09032],_0x15c139[_0x4c767b(0x18a)](_0x5a76e7=>{const _0x384640=_0x4c767b;let _0x176a82=_0x40d5da[_0x384640(0x188)](_0x1bfd18=>_0x1bfd18[_0x384640(0x282)]==_0x5a76e7['coin']);_0x176a82!=-0x1&&_0x40d5da[_0x384640(0x179)](_0x176a82,0x1);});}_0x40d5da[_0x4c767b(0x244)]((_0x493d9a,_0x1d2a20)=>_0x493d9a[_0x4c767b(0x282)]>_0x1d2a20[_0x4c767b(0x282)]?0x1:_0x1d2a20['coin']>_0x493d9a[_0x4c767b(0x282)]?-0x1:0x0);let _0x6e5c20=[{'date':_0x2cf589[_0x4c767b(0x206)],'changes':_0x40d5da}];_0x118ef8['length']>0x2&&_0x118ef8[_0x4c767b(0x18a)]((_0x459ea7,_0x5689a0)=>{const _0x337d75=_0x4c767b;if(_0x5689a0>0x0&&_0x5689a0<_0x118ef8[_0x337d75(0x28c)]-0x1){const {missingDay1:_0x4ea1fe,notInDay2:_0xf20d4b}=_0x1f1dbc(_0x118ef8[_0x5689a0][_0x337d75(0x29f)],_0x118ef8[_0x5689a0+0x1]['coins']);_0x40d5da=[],(_0x4ea1fe[_0x337d75(0x28c)]!=0x0||_0xf20d4b['length']!=0x0)&&(_0x4ea1fe['length']!=0x0&&_0x40d5da['push'](..._0x4ea1fe),_0xf20d4b[_0x337d75(0x28c)]!=0x0&&(_0xf20d4b['forEach'](_0x280041=>{const _0x2e1c6c=_0x337d75;_0x280041[_0x2e1c6c(0x1ec)]=-_0x280041[_0x2e1c6c(0x1ec)];}),_0x40d5da['push'](..._0xf20d4b)),_0x40d5da[_0x337d75(0x244)]((_0x52f654,_0x44b4d4)=>_0x52f654[_0x337d75(0x282)]>_0x44b4d4[_0x337d75(0x282)]?0x1:_0x44b4d4['coin']>_0x52f654[_0x337d75(0x282)]?-0x1:0x0),_0x6e5c20[_0x337d75(0x1d0)]({'date':_0x118ef8[_0x5689a0+0x1]['date'],'changes':_0x40d5da}));}}),dbConfig['get']('bot')[_0x4c767b(0x1fa)]({'botID':botID})[_0x4c767b(0x22e)]({..._0x2cf589,'liquidity':_0x6e5c20})[_0x4c767b(0x236)]();}}config=getConfiguration(botID);let _0x1381c9=dbPerformance[_0x4c767b(0x22a)](_0x4c767b(0x1d1))[_0x4c767b(0x227)]();_0x1381c9!='2.3.5'&&(dbPerformance[_0x4c767b(0x235)](_0x4c767b(0x1d1),_0x4c767b(0x265))[_0x4c767b(0x236)](),setStartDatePerformance());let _0x55afe4=dbCoinResults[_0x4c767b(0x22a)](_0x4c767b(0x1d1))['value']();if(_0x55afe4!=_0x4c767b(0x1b3)){dbCoinResults[_0x4c767b(0x235)](_0x4c767b(0x1d1),_0x4c767b(0x1b3))[_0x4c767b(0x236)]();let _0x53a48c=dbCoinResults['get'](_0x4c767b(0x29f))[_0x4c767b(0x227)]();if(_0x53a48c[_0x4c767b(0x28c)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x3cdadf){const _0x58b648=_0x5be2c4;let _0x11e5b2=dbConfig[_0x58b648(0x22a)]('bot')[_0x58b648(0x1fa)]({'botID':_0x3cdadf})[_0x58b648(0x227)]();if(_0x11e5b2){let _0x28e78c=![];typeof _0x11e5b2[_0x58b648(0x23e)]==_0x58b648(0x1b7)&&(_0x11e5b2={..._0x11e5b2,'threshold':Number(_0x11e5b2[_0x58b648(0x23e)])},_0x28e78c=!![]),_0x11e5b2[_0x58b648(0x261)]==null&&(_0x11e5b2={..._0x11e5b2,'change24h':-0x14},_0x28e78c=!![]),_0x28e78c&&(_0x11e5b2={'botID':_0x11e5b2[_0x58b648(0x1d8)],'exchange':_0x11e5b2['exchange'],'apiKey':_0x11e5b2[_0x58b648(0x18e)],'apiSecret':_0x11e5b2['apiSecret'],'basecoin':_0x11e5b2[_0x58b648(0x288)],'botname':_0x11e5b2[_0x58b648(0x278)],'showname':_0x11e5b2[_0x58b648(0x22d)],'threshold':_0x11e5b2[_0x58b648(0x23e)],'ordertype':_0x11e5b2['ordertype'],'timeout':_0x11e5b2['timeout'],'startdate':_0x11e5b2[_0x58b648(0x206)],'recreate':_0x11e5b2[_0x58b648(0x291)],'timeshift':_0x11e5b2['timeshift'],'headless':_0x11e5b2[_0x58b648(0x29e)],'cooldown':_0x11e5b2[_0x58b648(0x20a)],'change24h':_0x11e5b2[_0x58b648(0x261)],'emojibuy':_0x11e5b2[_0x58b648(0x22b)],'emojisell':_0x11e5b2[_0x58b648(0x216)],'portfolio':_0x11e5b2[_0x58b648(0x246)],'liquidity':_0x11e5b2[_0x58b648(0x294)]},dbConfig['get'](_0x58b648(0x182))[_0x58b648(0x26a)]()[_0x58b648(0x236)](),dbConfig['get'](_0x58b648(0x182))[_0x58b648(0x1d0)](_0x11e5b2)['write']());}else _0x11e5b2={'botID':_0x3cdadf,'exchange':_0x58b648(0x1a5),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x58b648(0x212)+_0x3cdadf,'showname':![],'threshold':0x3,'ordertype':_0x58b648(0x1e9),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x58b648(0x1f3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x11e5b2;}function emittedConfiguration(){const _0x3b4de7=_0x5be2c4;let _0x2c66a2;return config[_0x3b4de7(0x18e)]==''?_0x2c66a2=config:_0x2c66a2={...config,'apiKey':_0x3b4de7(0x238),'apiSecret':_0x3b4de7(0x238)},_0x2c66a2;}function getSettings(){const _0x442fad=_0x5be2c4;return dbSettings[_0x442fad(0x22a)](_0x442fad(0x1f5))[_0x442fad(0x227)]();}function getSecure(){const _0x4b1b3b=_0x5be2c4;return dbSecure[_0x4b1b3b(0x22a)](_0x4b1b3b(0x214))[_0x4b1b3b(0x227)]()||{};}function updateTimeshift(_0x2de655){const _0x1cb562=_0x5be2c4;let _0x43047a=dbConfig[_0x1cb562(0x22a)](_0x1cb562(0x182))[_0x1cb562(0x1fa)]({'botID':botID})['value']();_0x43047a&&dbConfig['get'](_0x1cb562(0x182))[_0x1cb562(0x1fa)]({'botID':botID})[_0x1cb562(0x22e)]({'timeshift':_0x2de655})[_0x1cb562(0x236)](),config[_0x1cb562(0x1f3)]=_0x2de655,proxyEmit(_0x1cb562(0x1fc),emittedConfiguration());}async function storeConfiguration(_0x3e7a85){const _0x5a2f45=_0x5be2c4;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x1bc066=dbConfig['get'](_0x5a2f45(0x182))[_0x5a2f45(0x1fa)]({'botID':botID})[_0x5a2f45(0x227)]();_0x3e7a85={..._0x3e7a85,'apiKey':crypt[_0x5a2f45(0x230)](secure[_0x5a2f45(0x17b)],_0x3e7a85[_0x5a2f45(0x18e)])[_0x5a2f45(0x1d7)],'apiSecret':crypt[_0x5a2f45(0x230)](secure[_0x5a2f45(0x17b)],_0x3e7a85[_0x5a2f45(0x2a4)])[_0x5a2f45(0x1d7)]};if(_0x1bc066){if(_0x3e7a85['apiKey']==_0x5a2f45(0x238))_0x3e7a85[_0x5a2f45(0x18e)]=config['apiKey'];if(_0x3e7a85['apiSecret']==_0x5a2f45(0x238))_0x3e7a85[_0x5a2f45(0x2a4)]=config[_0x5a2f45(0x2a4)];dbConfig[_0x5a2f45(0x22a)](_0x5a2f45(0x182))['find']({'botID':botID})[_0x5a2f45(0x22e)](_0x3e7a85)['write']();}else dbConfig[_0x5a2f45(0x22a)]('bot')['push'](_0x3e7a85)[_0x5a2f45(0x236)](),process[_0x5a2f45(0x218)]({'status':'enabled','live':_0x5a2f45(0x27c)},_0xc1da3=>{});config={..._0x3e7a85},setStartDatePerformance(),process[_0x5a2f45(0x218)]({'botname':_0x3e7a85['botname']},_0x1f3b1e=>{}),updateBotManager();const _0x13ed6a=getNormalizedPerformance();getStartingBalances(_0x13ed6a),emitPerformance(_0x13ed6a),proxyEmit(_0x5a2f45(0x256)),await initCoinResults(),reset();}async function storeHeadless(_0x1f6b59){const _0x19b7f7=_0x5be2c4,_0x5cd44f={...config,'headless':_0x1f6b59['headless']};let _0x3f4b4c=dbConfig[_0x19b7f7(0x22a)]('bot')[_0x19b7f7(0x1fa)]({'botID':botID})[_0x19b7f7(0x227)]();_0x3f4b4c&&dbConfig[_0x19b7f7(0x22a)](_0x19b7f7(0x182))[_0x19b7f7(0x1fa)]({'botID':botID})['assign'](_0x5cd44f)[_0x19b7f7(0x236)](),config={..._0x5cd44f},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x243331){const _0x343b22=_0x5be2c4;return _0x243331[_0x343b22(0x29c)]('/','');}async function updateNumberCoins(_0x260401){const _0x94045e=_0x5be2c4;console[_0x94045e(0x192)](_0x260401);if(_0x260401['eventType']&&_0x260401[_0x94045e(0x25b)]=='outboundAccountPosition'){if(_0x260401[_0x94045e(0x1f8)]!=lastOutboundEventTime){lastOutboundEventTime=_0x260401[_0x94045e(0x1f8)],currentCoins=await getCoins(!![]);if(lastBalances){let _0x3568eb=JSON[_0x94045e(0x266)](lastBalances[_0x94045e(0x246)]);_0x3568eb[_0x94045e(0x18a)](_0x44530e=>{const _0x3ff9ec=_0x94045e,_0x1ea490=currentCoins['find'](_0x45a323=>_0x45a323['coin']==_0x44530e[_0x3ff9ec(0x282)]);if(_0x1ea490['order'])_0x44530e[_0x3ff9ec(0x281)]=_0x1ea490[_0x3ff9ec(0x281)];}),lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x3568eb)},proxyEmit(_0x94045e(0x252),{'serverversion':serverversion,'balances':lastBalances});}}}if(_0x260401[_0x94045e(0x25b)]&&_0x260401[_0x94045e(0x25b)]==_0x94045e(0x26c)){if(_0x260401['orderStatus']==_0x94045e(0x178)){if(lastOrders)lastOrders[_0x94045e(0x18a)](async _0x18c826=>{const _0x1346d4=_0x94045e;_0x18c826[_0x1346d4(0x204)]==_0x260401[_0x1346d4(0x204)]&&_0x18c826['filled']==0x0&&(_0x18c826[_0x1346d4(0x1de)]=_0x260401['cumulativeQuoteAssetTransactedQty']/_0x260401[_0x1346d4(0x1ce)],_0x18c826['filled']=_0x260401[_0x1346d4(0x1ce)],_0x18c826[_0x1346d4(0x284)]={'cost':_0x260401[_0x1346d4(0x220)],'currency':_0x260401['commissionAsset']},await validateOrders(),await updateCoinResults(_0x18c826));});}}}async function getCoins(_0x52b9d8=![],_0x39f393=!![],_0x48660e=config[_0x5be2c4(0x288)]){const _0x3bbe7c=_0x5be2c4;let _0x50d4be,_0x42f650=[],_0x13abfe=[],_0x1c6849=[];try{_0x50d4be=await exchange[_0x3bbe7c(0x186)](),mybalances=_0x50d4be[_0x3bbe7c(0x1da)];if(!_0x39f393)for(const [_0x201032,_0x54d47e]of Object[_0x3bbe7c(0x1b1)](mybalances)){_0x1c6849[_0x3bbe7c(0x1d0)](_0x201032);}else config[_0x3bbe7c(0x246)][_0x3bbe7c(0x18a)](_0x56c8df=>{const _0x325718=_0x3bbe7c;if(!_0x56c8df['excluded'])_0x1c6849['push'](_0x56c8df[_0x325718(0x282)]);});if(_0x48660e=='')for(const [_0x125731,_0x24b0ce]of Object[_0x3bbe7c(0x1b1)](mybalances)){_0x24b0ce[_0x3bbe7c(0x21d)]()!=0x0&&_0x13abfe[_0x3bbe7c(0x1d0)]({'coin':_0x125731});}else{let _0x28a6e0=![],_0x385c06;allOpenOrders=[];for(const [_0x45f858,_0x58cde7]of Object[_0x3bbe7c(0x1b1)](mybalances)){if(_0x1c6849[_0x3bbe7c(0x1a8)](_0x45f858)){const _0x2f8c3d=config['portfolio']['find'](_0x1efa2e=>_0x1efa2e['coin']==_0x45f858),_0x5e9fb0=_0x45f858+'/'+_0x48660e,_0x5bb680=_0x48660e+'/'+_0x45f858;_0x28a6e0=![];if((_0x58cde7[_0x3bbe7c(0x21d)]()!=0x0||_0x2f8c3d)&&(allSymbols[_0x3bbe7c(0x1a8)](_0x5e9fb0)||_0x45f858==_0x48660e))_0x45f858!=_0x48660e&&(_0x42f650[_0x3bbe7c(0x1d0)](_0x5e9fb0),_0x52b9d8&&(_0x385c06=await exchange[_0x3bbe7c(0x21a)](_0x5e9fb0),_0x385c06['length']>0x0&&(_0x28a6e0=!![]))),_0x13abfe[_0x3bbe7c(0x1d0)]({'coin':_0x45f858,'symbol':_0x5e9fb0,'reverse':![],'number':Math[_0x3bbe7c(0x1c7)](_0x58cde7+(_0x2f8c3d&&_0x2f8c3d['offset']||0x0),0x0),'order':_0x28a6e0});else(_0x58cde7['toString']()!=0x0||_0x2f8c3d)&&allSymbols[_0x3bbe7c(0x1a8)](_0x5bb680)&&(_0x45f858!=_0x48660e&&(_0x42f650[_0x3bbe7c(0x1d0)](_0x5bb680),_0x52b9d8&&(_0x385c06=await exchange[_0x3bbe7c(0x21a)](_0x5bb680),_0x385c06[_0x3bbe7c(0x28c)]>0x0&&(_0x28a6e0=!![]))),_0x13abfe[_0x3bbe7c(0x1d0)]({'coin':_0x45f858,'symbol':_0x5bb680,'reverse':!![],'number':Math[_0x3bbe7c(0x1c7)](_0x58cde7+(_0x2f8c3d&&_0x2f8c3d[_0x3bbe7c(0x279)]||0x0),0x0),'order':_0x28a6e0}));}_0x28a6e0&&allOpenOrders[_0x3bbe7c(0x1d0)](_0x385c06[0x0]);}_0x52b9d8&&allOpenOrders[_0x3bbe7c(0x28c)]==0x0&&allOrdersPlaced&&(lockOrders&&(await sleep(0x7d0),validateOrders(_0x3bbe7c(0x253))));}}catch(_0x2a5402){if(!_0x39f393){if(_0x2a5402[_0x3bbe7c(0x21d)]()['includes'](_0x3bbe7c(0x259)))return logHistory('error',_0x3bbe7c(0x1cc)),![];else{if(_0x2a5402[_0x3bbe7c(0x21d)]()[_0x3bbe7c(0x1a8)]('AuthenticationError'))return logHistory(_0x3bbe7c(0x1eb),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x2a5402['toString']()[_0x3bbe7c(0x1a8)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x3bbe7c(0x1eb),_0x3bbe7c(0x1cd)),![];else await handleError(_0x2a5402,_0x3bbe7c(0x1b0));}}}else await handleError(_0x2a5402,_0x3bbe7c(0x1b0));}return _0x13abfe;}async function getPortfolio(_0x4c1828){const _0x4d516f=_0x5be2c4;let _0x1e6b1f=[],_0x44b5a5=[],_0x3a74a9,_0x54d3a5=[],_0x1341e8,_0x2224b4;_0x4c1828[_0x4d516f(0x18e)]===_0x4d516f(0x238)||_0x4c1828[_0x4d516f(0x2a4)]===_0x4d516f(0x238)?(_0x1341e8=config[_0x4d516f(0x18e)],_0x2224b4=config[_0x4d516f(0x2a4)]):(_0x1341e8=_0x4c1828[_0x4d516f(0x18e)],_0x2224b4=_0x4c1828[_0x4d516f(0x2a4)]);await initExchange(_0x1341e8,_0x2224b4);let _0x11dd6c=await loadSymbols();if(_0x11dd6c){_0x54d3a5=await getCoins(![],![],_0x4c1828[_0x4d516f(0x288)]);if(_0x54d3a5===![])proxyEmit(_0x4d516f(0x246),![]);else{if(_0x4c1828[_0x4d516f(0x288)]=='')proxyEmit(_0x4d516f(0x246),_0x54d3a5);else{_0x54d3a5[_0x4d516f(0x18a)](_0x41e8d3=>{const _0x5aef01=_0x4d516f;if(_0x41e8d3[_0x5aef01(0x282)]!=_0x4c1828[_0x5aef01(0x288)])_0x1e6b1f[_0x5aef01(0x1d0)](_0x41e8d3[_0x5aef01(0x199)]);});try{_0x44b5a5=await exchange[_0x4d516f(0x1a9)](_0x1e6b1f);}catch(_0x3f6871){await handleError(_0x3f6871,_0x4d516f(0x263));}_0x54d3a5['forEach'](_0x4ecb82=>{const _0x217cd5=_0x4d516f;_0x4ecb82['coin']!=_0x4c1828[_0x217cd5(0x288)]?_0x3a74a9=_0x4ecb82[_0x217cd5(0x19e)]?0x1/_0x44b5a5[_0x4ecb82[_0x217cd5(0x199)]][_0x217cd5(0x245)]:_0x44b5a5[_0x4ecb82[_0x217cd5(0x199)]][_0x217cd5(0x245)]:_0x3a74a9=0x1,_0x4ecb82[_0x217cd5(0x1de)]=formatResult(_0x3a74a9,0x8);}),proxyEmit(_0x4d516f(0x246),_0x54d3a5);}}}else proxyEmit(_0x4d516f(0x246),![]);}function checkMinimums(_0x22219b){const _0x5c8101=_0x5be2c4;let _0x37f597=!![];const _0x26d5e5=!_0x22219b[_0x5c8101(0x19e)]?markets[_0x22219b[_0x5c8101(0x199)]][_0x5c8101(0x185)][_0x5c8101(0x1e8)]['min']:markets[_0x22219b[_0x5c8101(0x199)]][_0x5c8101(0x185)]['cost'][_0x5c8101(0x29d)],_0x5727f8=!_0x22219b['reverse']?markets[_0x22219b[_0x5c8101(0x199)]][_0x5c8101(0x185)][_0x5c8101(0x207)][_0x5c8101(0x29d)]:markets[_0x22219b[_0x5c8101(0x199)]][_0x5c8101(0x185)][_0x5c8101(0x1e8)]['min'],_0x18bf42=markets[_0x22219b['symbol']]['precision'][_0x5c8101(0x1e8)];_0x22219b[_0x5c8101(0x267)]=formatResultTruncate(_0x22219b['trade'],_0x18bf42);if(Math[_0x5c8101(0x258)](_0x22219b[_0x5c8101(0x267)])<_0x26d5e5)_0x37f597=![];if(Math[_0x5c8101(0x258)](_0x22219b[_0x5c8101(0x267)])*_0x22219b[_0x5c8101(0x245)]<_0x5727f8)_0x37f597=![];if(_0x22219b[_0x5c8101(0x171)]==_0x5c8101(0x234)){let _0x3b4fc6=config['portfolio'][_0x5c8101(0x1fa)](_0x420f88=>_0x420f88[_0x5c8101(0x282)]==_0x22219b['coin']);if(_0x3b4fc6[_0x5c8101(0x279)]>0x0){if(Math[_0x5c8101(0x258)](_0x22219b[_0x5c8101(0x267)])>_0x22219b[_0x5c8101(0x1ec)]-_0x3b4fc6[_0x5c8101(0x279)])_0x37f597=![];}else{if(Math[_0x5c8101(0x258)](_0x22219b['trade'])>_0x22219b[_0x5c8101(0x1ec)])_0x37f597=![];}}if(_0x22219b[_0x5c8101(0x171)]=='buy'){let _0x5650b8=config[_0x5c8101(0x246)][_0x5c8101(0x1fa)](_0x5b2a90=>_0x5b2a90['coin']==config['basecoin']),_0x343dbf=currentCoins[_0x5c8101(0x1fa)](_0x2657d8=>_0x2657d8[_0x5c8101(0x282)]==config['basecoin']);if(_0x5650b8['offset']>0x0){if(Math[_0x5c8101(0x258)](_0x22219b['trade'])*_0x22219b[_0x5c8101(0x245)]>_0x343dbf[_0x5c8101(0x1ec)]-_0x5650b8[_0x5c8101(0x279)])_0x37f597=![];}else{if(Math[_0x5c8101(0x258)](_0x22219b[_0x5c8101(0x267)])*_0x22219b[_0x5c8101(0x245)]>_0x343dbf[_0x5c8101(0x1ec)])_0x37f597=![];}}return _0x37f597;}async function getBalances(){const _0x65468c=_0x5be2c4;let _0x366a84=0x0,_0xb50dfd;const _0x41f16a=config[_0x65468c(0x23e)];if(config['headless']&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x65468c(0x18a)](_0x2f2904=>{const _0x27e631=_0x65468c;if(_0x2f2904[_0x27e631(0x282)]!=config[_0x27e631(0x288)]){let _0x5db002=global[_0x27e631(0x20e)][noslash(_0x2f2904[_0x27e631(0x199)])];_0xb50dfd=_0x2f2904[_0x27e631(0x19e)]?0x1/_0x5db002:_0x5db002;}else _0xb50dfd=0x1;let _0x5ac7e7=_0x2f2904['number']*_0xb50dfd;_0x366a84+=_0x5ac7e7,_0x2f2904['last']=formatResult(Number(_0xb50dfd),0x8),_0x2f2904['value']=_0x5ac7e7;}),currentCoins[_0x65468c(0x18a)](_0x3b89cf=>{const _0x57462e=_0x65468c;let _0xbe7253=config[_0x57462e(0x246)][_0x57462e(0x1fa)](_0xaad745=>_0xaad745[_0x57462e(0x282)]==_0x3b89cf[_0x57462e(0x282)]),_0x3097ed=Number(_0xbe7253[_0x57462e(0x1c2)]),_0x5b317d=_0x3b89cf['value']/_0x366a84*0x64,_0x3ebc72=_0x3097ed*_0x366a84/0x64/_0x3b89cf[_0x57462e(0x245)]-_0x3b89cf[_0x57462e(0x1ec)];_0x3b89cf[_0x57462e(0x1c2)]=formatResult(_0x5b317d,0x3),_0x3b89cf[_0x57462e(0x202)]=formatResult(_0x3097ed,0x3),_0x3b89cf['trade']=formatResult(_0x3ebc72,0x8),_0x3b89cf[_0x57462e(0x171)]='',_0x3b89cf[_0x57462e(0x232)]=![];if(_0x3b89cf[_0x57462e(0x282)]!=config[_0x57462e(0x288)]){if(_0x3b89cf[_0x57462e(0x1c2)]>_0x3097ed)_0x3b89cf[_0x57462e(0x171)]=_0x57462e(0x234),_0x3b89cf[_0x57462e(0x232)]=checkMinimums(_0x3b89cf);else _0x3b89cf[_0x57462e(0x1c2)]<_0x3097ed&&(_0x3b89cf[_0x57462e(0x171)]=_0x57462e(0x17c),_0x3b89cf[_0x57462e(0x232)]=checkMinimums(_0x3b89cf));}_0x3b89cf[_0x57462e(0x1a2)]=_0x3b89cf[_0x57462e(0x1c2)]/_0x3b89cf[_0x57462e(0x202)]-0x1;}),currentCoins['sort']((_0xadf402,_0x6f7fed)=>_0xadf402[_0x65468c(0x1a2)]<_0x6f7fed[_0x65468c(0x1a2)]?0x1:_0x6f7fed[_0x65468c(0x1a2)]<_0xadf402['delta']?-0x1:0x0);const _0x175488=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x175488[_0x65468c(0x248)],'usd':_0x175488[_0x65468c(0x260)],'portfolio':JSON[_0x65468c(0x21f)](currentCoins),'threshold':_0x41f16a},proxyEmit(_0x65468c(0x252),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x65468c(0x29e)])headlessMode({'portfolio':currentCoins,'threshold':_0x41f16a});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x41f16a});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x51188e=_0x5be2c4;if(!lastBalances)return;let _0x59b2fa=[],_0x2695db,_0x3bb11b=JSON['parse'](lastBalances['portfolio']);_0x3bb11b[_0x51188e(0x244)]((_0x1c87f4,_0x297e3a)=>_0x1c87f4[_0x51188e(0x282)]>_0x297e3a[_0x51188e(0x282)]?0x1:_0x297e3a[_0x51188e(0x282)]>_0x1c87f4[_0x51188e(0x282)]?-0x1:0x0),_0x3bb11b[_0x51188e(0x18a)](_0x1b7c43=>{const _0x13870c=_0x51188e;let _0x37bfbd={'coin':_0x1b7c43['coin'],'number':_0x1b7c43[_0x13870c(0x1ec)],'price':_0x1b7c43[_0x13870c(0x245)]};_0x59b2fa[_0x13870c(0x1d0)](_0x37bfbd);});const _0x5d3256=await getFiat();_0x2695db={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x5d3256[_0x51188e(0x248)],'usd':_0x5d3256['usd'],'coins':_0x59b2fa};let _0x48a896=dbPerformance[_0x51188e(0x22a)](_0x51188e(0x1f7))[_0x51188e(0x1fa)]({'date':_0x2695db[_0x51188e(0x272)]})[_0x51188e(0x227)]();_0x48a896?_0x2695db[_0x51188e(0x272)]!=config[_0x51188e(0x206)]&&dbPerformance['get']('data')[_0x51188e(0x1fa)]({'date':_0x2695db[_0x51188e(0x272)]})[_0x51188e(0x22e)](_0x2695db)[_0x51188e(0x236)]():dbPerformance[_0x51188e(0x22a)](_0x51188e(0x1f7))[_0x51188e(0x1d0)](_0x2695db)[_0x51188e(0x236)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4e74f7=_0x5be2c4;let _0x13be05=[];if(dbPerformance[_0x4e74f7(0x273)](_0x4e74f7(0x1f7))[_0x4e74f7(0x227)]()){let _0x390d8f=dbPerformance[_0x4e74f7(0x22a)](_0x4e74f7(0x1f7))[_0x4e74f7(0x20c)]()[_0x4e74f7(0x298)](_0x4e74f7(0x272))[_0x4e74f7(0x227)](),_0xa99ef4=[...config[_0x4e74f7(0x294)]];_0xa99ef4[_0x4e74f7(0x244)]((_0x53828d,_0x52eca8)=>_0x53828d[_0x4e74f7(0x272)]>_0x52eca8[_0x4e74f7(0x272)]?-0x1:_0x52eca8[_0x4e74f7(0x272)]>_0x53828d[_0x4e74f7(0x272)]?0x1:0x0);let _0x4b9c1f=0x1,_0x30f6c3=[],_0x1df5b0=0x0;_0x390d8f['slice']()[_0x4e74f7(0x19e)]()[_0x4e74f7(0x18a)]((_0x3cc665,_0x4ae4b1)=>{const _0x2e0f44=_0x4e74f7;if(_0xa99ef4[_0x1df5b0]){if(_0x390d8f[_0x390d8f['length']-_0x4ae4b1]&&_0xa99ef4[_0x1df5b0][_0x2e0f44(0x272)]==_0x390d8f[_0x390d8f['length']-_0x4ae4b1][_0x2e0f44(0x272)]){if(_0x4ae4b1<_0x390d8f[_0x2e0f44(0x28c)]){let _0x1f7fe0=0x0,_0x3ff35=0x0;_0x390d8f[_0x390d8f['length']-_0x4ae4b1][_0x2e0f44(0x29f)][_0x2e0f44(0x18a)](_0x462d1e=>{const _0x46cdff=_0x2e0f44;_0x3ff35+=_0x462d1e[_0x46cdff(0x1ec)]*_0x462d1e[_0x46cdff(0x1de)];}),_0xa99ef4[_0x1df5b0][_0x2e0f44(0x19f)][_0x2e0f44(0x18a)](_0x64bbc0=>{const _0x178679=_0x2e0f44;_0x1f7fe0+=_0x64bbc0['number']*_0x64bbc0[_0x178679(0x1de)];}),_0x4b9c1f*=_0x1f7fe0/(_0x3ff35-_0x1f7fe0)+0x1;}_0x1df5b0++;}}let _0x247c2b=0x0;_0x3cc665[_0x2e0f44(0x29f)]['forEach'](_0x2a79b3=>{const _0x73ee5c=_0x2e0f44;_0x247c2b+=_0x2a79b3[_0x73ee5c(0x1ec)]*_0x2a79b3[_0x73ee5c(0x1de)];}),_0x30f6c3[_0x390d8f[_0x2e0f44(0x28c)]-_0x4ae4b1-0x1]=_0x247c2b*(_0x4b9c1f-0x1);});let _0x3da1f1=[];_0xa99ef4=[...config[_0x4e74f7(0x294)]]||[];let _0x19f792=0x0;_0x1df5b0=0x0,_0x390d8f[_0x4e74f7(0x18a)]((_0xf779d7,_0x5602c0)=>{const _0x16915c=_0x4e74f7;if(_0xa99ef4[_0x1df5b0]){const _0x5ca091=fns[_0x16915c(0x266)](_0xa99ef4[_0x1df5b0][_0x16915c(0x272)],_0x16915c(0x1c6),new Date()),_0x4826ed=fns[_0x16915c(0x266)](_0xf779d7[_0x16915c(0x272)],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x5ca091,_0x4826ed)){let _0x306a5c=0x0;_0xa99ef4[_0x1df5b0][_0x16915c(0x19f)]['forEach'](_0x5a42f9=>{const _0x5a3ca1=_0x16915c;!_0x3da1f1[_0x5a42f9[_0x5a3ca1(0x282)]]?_0x3da1f1[_0x5a42f9[_0x5a3ca1(0x282)]]=_0x5a42f9[_0x5a3ca1(0x1ec)]:(_0x306a5c=_0x3da1f1[_0x5a42f9[_0x5a3ca1(0x282)]],_0x3da1f1[_0x5a42f9[_0x5a3ca1(0x282)]]+=_0x5a42f9['number']);const _0x259807=_0xf779d7[_0x5a3ca1(0x29f)][_0x5a3ca1(0x1fa)](_0x276ff9=>_0x276ff9[_0x5a3ca1(0x282)]==_0x5a42f9[_0x5a3ca1(0x282)]);(!_0x259807||_0x259807['number']==0x0)&&(_0x19f792+=(-_0x5a42f9[_0x5a3ca1(0x1ec)]-_0x306a5c)*_0x5a42f9[_0x5a3ca1(0x1de)]);}),_0x1df5b0++;}}_0xf779d7[_0x16915c(0x29f)][_0x16915c(0x18a)]((_0x441967,_0x50d3e0)=>{const _0x16cdf2=_0x16915c;_0x3da1f1[_0x441967['coin']]&&(_0x441967={..._0x441967,'initial':_0x3da1f1[_0x441967[_0x16cdf2(0x282)]]}),_0xf779d7[_0x16cdf2(0x29f)][_0x50d3e0]=_0x441967;}),_0x13be05['push']({'date':_0xf779d7[_0x16915c(0x272)],'eur':_0xf779d7['eur'],'usd':_0xf779d7[_0x16915c(0x260)],'offset':_0x30f6c3[_0x5602c0],'netoffset':_0x19f792,'coins':_0xf779d7[_0x16915c(0x29f)]});});}return _0x13be05;}function emitPerformance(_0x53bd8c){const _0x519a21=_0x5be2c4;_0x53bd8c[_0x519a21(0x28c)]!==0x0?(proxyEmit(_0x519a21(0x229),_0x53bd8c),lastPerformanceEmitted=getDate()):proxyEmit(_0x519a21(0x229),[]);}function getPerf(_0x522955,_0x3db060){const _0x1e3ebf=_0x5be2c4;let _0x421db8=0x0,_0x23a0ee=0x0,_0x38749d=0x0;_0x522955['coins'][_0x1e3ebf(0x18a)](_0x13df76=>{const _0xdefe45=_0x1e3ebf;_0x421db8+=_0x13df76['number']*_0x13df76[_0xdefe45(0x1de)];});_0x3db060&&(_0x421db8+=_0x522955[_0x1e3ebf(0x279)]);if(config['basecoin']==='BTC'||config['basecoin']==='ETH')_0x23a0ee=_0x421db8*_0x522955[_0x1e3ebf(0x248)],_0x38749d=_0x421db8*_0x522955[_0x1e3ebf(0x260)];else{if(config[_0x1e3ebf(0x288)]===_0x1e3ebf(0x1f0)||config[_0x1e3ebf(0x288)]===_0x1e3ebf(0x225))_0x23a0ee=_0x421db8*_0x522955[_0x1e3ebf(0x248)]/_0x522955[_0x1e3ebf(0x260)],_0x38749d=_0x421db8;else config[_0x1e3ebf(0x288)]===_0x1e3ebf(0x174)&&(_0x23a0ee=_0x421db8,_0x38749d=_0x421db8*_0x522955[_0x1e3ebf(0x260)]/_0x522955[_0x1e3ebf(0x248)]);}return[_0x421db8,_0x23a0ee,_0x38749d];}async function getStartingBalances(_0x2428f6,_0x5dd728=!![]){const _0x6532b0=_0x5be2c4;if(_0x2428f6['length']!==0x0){const [_0x5dd940,_0x3f9fc7,_0x3c5fc4]=getPerf(_0x2428f6[0x0],!![]);let _0x545c7e=[];config[_0x6532b0(0x246)][_0x6532b0(0x18a)](_0x20e461=>{const _0x5da0fc=_0x6532b0;let _0x2ecc93=0x0,_0x1e5f7c;config[_0x5da0fc(0x294)][_0x5da0fc(0x18a)](_0x120369=>{const _0x4529c0=_0x5da0fc;let _0x37c350=_0x120369[_0x4529c0(0x19f)][_0x4529c0(0x1fa)](_0x59d8b4=>_0x59d8b4[_0x4529c0(0x282)]==_0x20e461['coin']);if(_0x37c350){_0x2ecc93+=_0x37c350['number'];if(!_0x1e5f7c)_0x1e5f7c=_0x37c350[_0x4529c0(0x1de)];}}),_0x545c7e[_0x5da0fc(0x1d0)]({'coin':_0x20e461['coin'],'number':_0x2ecc93,'initialprice':_0x1e5f7c});});const _0x9936f2={'basecoin':_0x5dd940,'eur':_0x3f9fc7,'usd':_0x3c5fc4,'coins':_0x545c7e};if(_0x5dd728)proxyEmit(_0x6532b0(0x1d4),_0x9936f2);return _0x9936f2;}}function headlessMode(_0x32d45d){const _0x1a7260=_0x5be2c4;let _0x3d1a8d=_0x32d45d[_0x1a7260(0x246)],_0x22388c=_0x32d45d[_0x1a7260(0x23e)],_0x242775=[];for(let _0x3586cc of _0x3d1a8d){if(_0x3586cc[_0x1a7260(0x282)]!=config[_0x1a7260(0x288)]){if(_0x3586cc[_0x1a7260(0x1a2)]>=_0x22388c/0x64){if(_0x3586cc['valid'])_0x242775[_0x1a7260(0x1d0)](_0x3586cc);}else{if(_0x3586cc['delta']<=-_0x22388c/0x64){if(_0x3586cc[_0x1a7260(0x232)])_0x242775[_0x1a7260(0x1d0)](_0x3586cc);}}}}_0x242775['length']>0x0&&(allOrdersPlaced=![],placeOrder(_0x242775));}function notifyBalance(_0x2b32a2){const _0x5bf1cb=_0x5be2c4;let _0x421aeb=_0x2b32a2[_0x5bf1cb(0x246)],_0x51813d=_0x2b32a2[_0x5bf1cb(0x23e)],_0x38d2bf=[];for(let _0xfc5ebe of _0x421aeb){if(_0xfc5ebe['coin']!=config['basecoin']){if(_0xfc5ebe[_0x5bf1cb(0x1a2)]>=_0x51813d/0x64){if(_0xfc5ebe[_0x5bf1cb(0x232)])_0x38d2bf[_0x5bf1cb(0x1d0)](_0xfc5ebe);}else{if(_0xfc5ebe[_0x5bf1cb(0x1a2)]<=-_0x51813d/0x64){if(_0xfc5ebe[_0x5bf1cb(0x232)])_0x38d2bf[_0x5bf1cb(0x1d0)](_0xfc5ebe);}}}}if(_0x38d2bf[_0x5bf1cb(0x28c)]>0x0){let _0x200e30=_0x38d2bf[_0x5bf1cb(0x1e3)](_0x4c9981=>_0x4c9981[_0x5bf1cb(0x282)]);_0x200e30[_0x5bf1cb(0x244)]();let _0x99e616=_0x200e30[_0x5bf1cb(0x28e)](',\x20');if(lastCoinsToBalance!==_0x99e616)logHistory(_0x5bf1cb(0x222),_0x5bf1cb(0x295)+_0x99e616);lastCoinsToBalance=_0x99e616;}}function symbolToCoin(_0x243a9b){const _0xb8d2b9=_0x5be2c4;let _0x4c2059;if(_0x243a9b['includes']('/'+config[_0xb8d2b9(0x288)]))_0x4c2059=_0x243a9b['replace']('/'+config[_0xb8d2b9(0x288)],'');if(_0x243a9b[_0xb8d2b9(0x1a8)](config[_0xb8d2b9(0x288)]+'/'))_0x4c2059=_0x243a9b[_0xb8d2b9(0x29c)](config['basecoin']+'/','');return _0x4c2059;}async function unlockOrders(){currentCoins=await getCoins(),validateOrdersState='initial';if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);lockOrders=![];}async function validateOrders(_0xb43300){const _0x178519=_0x5be2c4;if(_0xb43300)validateOrdersState=_0xb43300;let _0x1a7954=[],_0xd57815=config['ordertype']==_0x178519(0x1e9)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;logging(validateOrdersState+_0x178519(0x2a1)+_0xb43300),lastOrders['forEach'](_0x2592a4=>{const _0x1ff09f=_0x178519;let _0x507405=![];_0x2592a4[_0x1ff09f(0x285)]>0x0&&(_0x507405=!![]),_0x1a7954[_0x1ff09f(0x1d0)](_0x507405),_0x507405&&config[_0x1ff09f(0x242)]!=_0x1ff09f(0x1e9)&&logHistory(_0x1ff09f(0x281),_0x1ff09f(0x1cf)+_0x2592a4['symbol']+'\x20'+_0x2592a4[_0x1ff09f(0x171)]+'\x20#'+formatResult(_0x2592a4[_0x1ff09f(0x285)],0x8)+'\x20@'+formatResult(_0x2592a4[_0x1ff09f(0x1de)],0x8));}),_0x1a7954[_0x178519(0x18a)]((_0x220a20,_0x25c5a5)=>{if(_0x220a20)lastOrders['splice'](_0x25c5a5,0x1);});const _0x3fe162=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x178519(0x231);if(validateOrdersState=='initial')validateOrdersState=_0x178519(0x1c5),_0x1a7954[_0x178519(0x1a8)](![])?config['ordertype']=='market'?logHistory(_0x178519(0x1eb),_0x178519(0x1b2)):logHistory(_0x178519(0x1eb),_0x178519(0x25d)):await unlockOrders();else{if(validateOrdersState==_0x178519(0x1c5)){if(_0x1a7954[_0x178519(0x1a8)](![])){}else config[_0x178519(0x242)]=='market'?logHistory(_0x178519(0x222),_0x178519(0x177)+_0x3fe162):logHistory('success',_0x178519(0x1a3)+_0x3fe162),await unlockOrders();}else{if(validateOrdersState==_0x178519(0x19b))_0x1a7954[_0x178519(0x1a8)](![])?config[_0x178519(0x242)]==_0x178519(0x1e9)?logHistory(_0x178519(0x222),_0x178519(0x23b)+Math[_0x178519(0x1ad)](_0xd57815*validateOrderInterval/0xea60)+_0x178519(0x1fb)+_0x3fe162):(await cancelOrders(),logHistory(_0x178519(0x222),_0x178519(0x1c9)+Math[_0x178519(0x1ad)](_0xd57815*validateOrderInterval/0xea60)+_0x178519(0x1fb)+_0x3fe162)):logHistory(_0x178519(0x222),_0x178519(0x176)+_0x3fe162),await unlockOrders();else{if(validateOrdersState==_0x178519(0x253)){if(config['ordertype']!=_0x178519(0x1e9))logHistory(_0x178519(0x222),'No\x20more\x20open\x20orders\x20-\x20'+_0x3fe162);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x2e141e=>{const _0x21ba84=_0x2dc2;try{const _0x472c50=await exchange[_0x21ba84(0x268)](_0x2e141e[_0x21ba84(0x204)],_0x2e141e[_0x21ba84(0x199)]);}catch(_0x4547d4){if(_0x4547d4['toString']()[_0x21ba84(0x1a8)](_0x21ba84(0x197))){}else await handleError(_0x4547d4,_0x21ba84(0x2a3));}});}async function initCoinResults(){const _0x16dddd=_0x5be2c4;let _0x48305c=[];config[_0x16dddd(0x246)][_0x16dddd(0x18a)](_0x56b8d2=>{const _0x21863b=_0x16dddd;if(!_0x56b8d2[_0x21863b(0x17e)]&&_0x56b8d2[_0x21863b(0x282)]!=config[_0x21863b(0x288)]){let _0x59cffb=dbCoinResults[_0x21863b(0x22a)](_0x21863b(0x29f))[_0x21863b(0x1fa)]({'coin':_0x56b8d2['coin']})[_0x21863b(0x227)]();if(!_0x59cffb){const _0x4457fb=currentCoins[_0x21863b(0x1fa)](_0x13ca65=>_0x13ca65[_0x21863b(0x282)]==_0x56b8d2['coin']),_0x413b36=global[_0x21863b(0x20e)][noslash(_0x56b8d2[_0x21863b(0x199)])];let _0x149172=_0x4457fb?_0x4457fb[_0x21863b(0x1ec)]:null,_0x1e3ae4=_0x56b8d2[_0x21863b(0x19e)]?0x1/_0x413b36:_0x413b36,_0x2a2bfc;config['liquidity'][_0x21863b(0x18a)](_0x4eabe9=>{const _0x47dc6f=_0x21863b;!_0x2a2bfc&&(_0x2a2bfc=_0x4eabe9[_0x47dc6f(0x19f)]['find'](_0x2347d1=>_0x2347d1[_0x47dc6f(0x282)]==_0x56b8d2[_0x47dc6f(0x282)]),_0x2a2bfc&&(_0x149172=_0x2a2bfc[_0x47dc6f(0x1ec)],_0x1e3ae4=_0x2a2bfc[_0x47dc6f(0x1de)]));}),_0x48305c[_0x21863b(0x1d0)]({'coin':_0x56b8d2[_0x21863b(0x282)],'number':_0x149172,'price':_0x1e3ae4});}}}),_0x48305c[_0x16dddd(0x18a)](_0x5830c0=>{const _0x1cc07c=_0x16dddd,_0xfc3e9b={'coin':_0x5830c0[_0x1cc07c(0x282)],'number':_0x5830c0[_0x1cc07c(0x1ec)],'breakeven':_0x5830c0[_0x1cc07c(0x1de)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1cc07c(0x22a)]('coins')[_0x1cc07c(0x1d0)](_0xfc3e9b)[_0x1cc07c(0x236)]();});}async function updateCoinResults(_0x3d27bf,_0x286daf=![]){const _0x34eaf6=_0x5be2c4;let _0x20ca2c,_0x41422a,_0x2d2436,_0x2582e7,_0x35a907,_0x4c8979,_0x242c66=dbCoinResults[_0x34eaf6(0x22a)](_0x34eaf6(0x29f))[_0x34eaf6(0x1fa)]({'coin':_0x3d27bf[_0x34eaf6(0x282)]})[_0x34eaf6(0x227)]();!_0x242c66&&await initCoinResults();_0x3d27bf[_0x34eaf6(0x19e)]&&(_0x4c8979={'filled':_0x3d27bf[_0x34eaf6(0x285)]*_0x3d27bf['price'],'amount':_0x3d27bf[_0x34eaf6(0x285)]*_0x3d27bf[_0x34eaf6(0x1de)],'side':_0x3d27bf['side']==_0x34eaf6(0x234)?_0x34eaf6(0x17c):_0x34eaf6(0x234),'price':0x1/_0x3d27bf[_0x34eaf6(0x1de)]},_0x3d27bf={..._0x3d27bf,..._0x4c8979});if(_0x286daf)_0x41422a=_0x3d27bf[_0x34eaf6(0x171)]==_0x34eaf6(0x17c)?_0x242c66['number']+_0x3d27bf[_0x34eaf6(0x285)]:_0x242c66[_0x34eaf6(0x1ec)]-_0x3d27bf[_0x34eaf6(0x285)];else{const _0x2d38c9=currentCoins['find'](_0x4e669a=>_0x4e669a[_0x34eaf6(0x282)]==_0x3d27bf[_0x34eaf6(0x282)]);_0x41422a=_0x2d38c9[_0x34eaf6(0x1ec)];}if(_0x3d27bf['fee']&&_0x3d27bf[_0x34eaf6(0x284)][_0x34eaf6(0x286)]==config[_0x34eaf6(0x288)])_0x20ca2c=_0x3d27bf['fee']['cost'];else{if(_0x3d27bf['fee']&&_0x3d27bf[_0x34eaf6(0x284)][_0x34eaf6(0x286)]==_0x34eaf6(0x1df)&&!_0x286daf)_0x20ca2c=_0x3d27bf[_0x34eaf6(0x284)][_0x34eaf6(0x207)]*global[_0x34eaf6(0x20e)][_0x34eaf6(0x1df)+config[_0x34eaf6(0x288)]];else _0x20ca2c=defaultFee*_0x3d27bf[_0x34eaf6(0x285)]*_0x3d27bf[_0x34eaf6(0x1de)];}_0x3d27bf[_0x34eaf6(0x171)]=='buy'?(_0x2d2436=_0x41422a!=0x0?(_0x242c66[_0x34eaf6(0x22c)]*_0x242c66['number']+_0x3d27bf['price']*(_0x41422a-_0x242c66['number'])+_0x20ca2c)/_0x41422a:0x0,_0x2582e7=_0x242c66[_0x34eaf6(0x1cb)]):(_0x2d2436=_0x41422a!=0x0?(_0x242c66[_0x34eaf6(0x22c)]*_0x242c66[_0x34eaf6(0x1ec)]-_0x3d27bf[_0x34eaf6(0x1de)]*(_0x242c66['number']-_0x41422a)+_0x20ca2c)/_0x41422a:0x0,_0x2582e7=_0x242c66['realized']+(_0x3d27bf[_0x34eaf6(0x1de)]-_0x242c66[_0x34eaf6(0x22c)])*_0x3d27bf[_0x34eaf6(0x285)]);_0x35a907=(_0x3d27bf['price']-_0x2d2436-_0x20ca2c/_0x3d27bf['filled'])*_0x41422a;let _0x2a2ff1={'coin':_0x3d27bf['coin'],'number':_0x41422a,'breakeven':formatResult(_0x2d2436,0x8),'realized':formatResult(_0x2582e7,0x8),'unrealized':formatResult(_0x35a907,0x8),'fees':formatResult(_0x242c66[_0x34eaf6(0x209)]+_0x20ca2c,0x8),'sells':_0x3d27bf[_0x34eaf6(0x171)]=='sell'?_0x242c66[_0x34eaf6(0x226)]+0x1:_0x242c66['sells'],'buys':_0x3d27bf[_0x34eaf6(0x171)]=='buy'?_0x242c66[_0x34eaf6(0x1b8)]+0x1:_0x242c66[_0x34eaf6(0x1b8)]};dbCoinResults[_0x34eaf6(0x22a)](_0x34eaf6(0x29f))[_0x34eaf6(0x1fa)]({'coin':_0x3d27bf[_0x34eaf6(0x282)]})[_0x34eaf6(0x22e)](_0x2a2ff1)[_0x34eaf6(0x236)]();if(!_0x286daf){if(_0x3d27bf[_0x34eaf6(0x284)]&&_0x3d27bf['fee'][_0x34eaf6(0x286)]=='BNB'){const _0x8c5174=currentCoins['find'](_0x193bae=>_0x193bae[_0x34eaf6(0x282)]=='BNB');if(_0x8c5174){let _0x33d8c3=dbCoinResults[_0x34eaf6(0x22a)](_0x34eaf6(0x29f))[_0x34eaf6(0x1fa)]({'coin':_0x34eaf6(0x1df)})[_0x34eaf6(0x227)]();_0x2a2ff1={..._0x33d8c3,'number':_0x8c5174[_0x34eaf6(0x1ec)]},dbCoinResults['get'](_0x34eaf6(0x29f))[_0x34eaf6(0x1fa)]({'coin':_0x34eaf6(0x1df)})[_0x34eaf6(0x22e)](_0x2a2ff1)[_0x34eaf6(0x236)]();}}}}async function placeOrder(_0x254dae){const _0x5b5cbf=_0x5be2c4,_0xf1ff6a=config['ordertype']==_0x5b5cbf(0x1e9)?'market':'limit';if(!lockOrders&&!coolingDown){lastOrders=[];for(const _0x3e999c of _0x254dae){let _0x4e7e4,_0x25de9b,_0x561832,_0x5b5db1,_0x70714e,_0x548345=_0x3e999c['symbol'];try{const _0x333db2=await exchange['fetchTickers']([_0x548345]),_0x4a02c6=_0x333db2[_0x548345];_0x4e7e4=_0x3e999c[_0x5b5cbf(0x19e)]?0x1/_0x3e999c[_0x5b5cbf(0x245)]:_0x3e999c['last'],_0x25de9b=_0x4a02c6['bid'],_0x561832=_0x4a02c6[_0x5b5cbf(0x1aa)];_0x3e999c[_0x5b5cbf(0x19e)]?(_0x5b5db1=_0x3e999c['side']=='buy'?'sell':_0x5b5cbf(0x17c),_0x70714e=Math['abs'](_0x3e999c[_0x5b5cbf(0x267)])/_0x4e7e4):(_0x5b5db1=_0x3e999c[_0x5b5cbf(0x171)],_0x70714e=Math[_0x5b5cbf(0x258)](_0x3e999c[_0x5b5cbf(0x267)]));_0xf1ff6a==_0x5b5cbf(0x1e7)&&(config[_0x5b5cbf(0x242)]=='limit-high'&&(_0x4e7e4=_0x5b5db1=='buy'?_0x25de9b:_0x561832),config[_0x5b5cbf(0x242)]==_0x5b5cbf(0x194)&&(_0x4e7e4=_0x5b5db1==_0x5b5cbf(0x17c)?_0x561832:_0x25de9b));_0x70714e=formatResult(_0x70714e,0x8),_0x4e7e4=formatResult(_0x4e7e4,0x8);const _0x466fbb=await exchange[_0x5b5cbf(0x1d6)](_0x548345,_0xf1ff6a,_0x5b5db1,_0x70714e,_0x4e7e4);lastOrders[_0x5b5cbf(0x1d0)]({'orderId':_0x466fbb['id'],'symbol':_0x548345,'coin':_0x3e999c['coin'],'side':_0x5b5db1,'reverse':_0x3e999c[_0x5b5cbf(0x19e)],'amount':_0x466fbb['amount'],'filled':0x0,'price':_0x466fbb['price'],'fee':_0x466fbb[_0x5b5cbf(0x284)]});const _0x1612e5=_0x5b5db1==_0x5b5cbf(0x234)?config[_0x5b5cbf(0x216)]?String[_0x5b5cbf(0x26e)]('0x'+config[_0x5b5cbf(0x216)])+'\x20':'':config['emojibuy']?String['fromCodePoint']('0x'+config[_0x5b5cbf(0x22b)])+'\x20':'',_0x3a104b=_0xf1ff6a==_0x5b5cbf(0x1e9)?_0x5b5cbf(0x28b):config[_0x5b5cbf(0x242)]=='limit-high'?'Limit\x20(high-margin)':'Limit\x20(low-margin)';if(_0xf1ff6a=='market')logHistory(_0x5b5cbf(0x281),''+_0x1612e5+_0x3a104b+_0x5b5cbf(0x1ac)+_0x548345+'\x20'+_0x5b5db1+'\x20#'+formatResult(_0x466fbb[_0x5b5cbf(0x285)],0x8)+'\x20@'+formatResult(_0x466fbb[_0x5b5cbf(0x1de)],0x8));else logHistory('order',''+_0x1612e5+_0x3a104b+_0x5b5cbf(0x1ac)+_0x548345+'\x20'+_0x5b5db1+'\x20#'+formatResult(_0x466fbb[_0x5b5cbf(0x1e8)],0x8)+'\x20@'+formatResult(_0x466fbb[_0x5b5cbf(0x1de)],0x8));let _0x1e5e3b=currentCoins['find'](_0xf697b0=>_0xf697b0['coin']==_0x3e999c[_0x5b5cbf(0x282)]);_0x1e5e3b[_0x5b5cbf(0x281)]=!![];if(config[_0x5b5cbf(0x20a)]!=0x0){let _0x20820b=null;if(cooldownTracker['length']==config[_0x5b5cbf(0x20a)]-0x1)_0x20820b=cooldownTracker[_0x5b5cbf(0x276)]();const _0x390fbf=getTimeStamp();cooldownTracker[_0x5b5cbf(0x1d0)](_0x390fbf);if(_0x20820b){const _0x55f6ff=fns[_0x5b5cbf(0x183)](new Date(_0x390fbf),new Date(_0x20820b));if(_0x55f6ff<cooldownInterval){logHistory(_0x5b5cbf(0x1eb),'Executed\x20'+config[_0x5b5cbf(0x20a)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x5b5cbf(0x21b)+cooldownPeriod/(0xe10*0x3e8)+_0x5b5cbf(0x1ca)),coolingDown=!![];break;}}}}catch(_0x4e4532){if(_0x4e4532[_0x5b5cbf(0x21d)]()[_0x5b5cbf(0x1a8)](_0x5b5cbf(0x1db)))logHistory(_0x5b5cbf(0x1eb),_0x5b5cbf(0x27d)+_0x548345);else{if(_0x4e4532[_0x5b5cbf(0x21d)]()['includes']('Invalid\x20quantity'))logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x548345);else await handleError(_0x4e4532,_0x5b5cbf(0x19d),_0x548345);}}}allOrdersPlaced=!![];if(lastOrders[_0x5b5cbf(0x28c)]!=0x0){lockOrders=!![],validateOrdersState=_0x5b5cbf(0x1ab),setTimeout(function(){validateOrders();},0x1388);const _0x3a58be=config[_0x5b5cbf(0x242)]==_0x5b5cbf(0x1e9)?validateOrderTimeout*0x3c*0x3e8:config[_0x5b5cbf(0x24e)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x3a58be);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5b5cbf(0x222),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x5b5cbf(0x29e)]&&logHistory('error',_0x5b5cbf(0x29a));else lockOrders&&(!config['headless']&&(config[_0x5b5cbf(0x242)]==_0x5b5cbf(0x1e9)?logHistory(_0x5b5cbf(0x1eb),_0x5b5cbf(0x19a)):logHistory('error',_0x5b5cbf(0x20f))));}}function restoreOrders(){const _0x46bf35=_0x5be2c4;let _0x4ac818;lockOrders=!![],validateOrdersState='ongoing',currentCoins[_0x46bf35(0x18a)](_0x157950=>{const _0x2f84fe=_0x46bf35,_0x2bf289=allOpenOrders['find'](_0x3d8296=>_0x3d8296[_0x2f84fe(0x199)]==_0x157950[_0x2f84fe(0x199)]);_0x2bf289&&(lastOrders[_0x2f84fe(0x1d0)]({'orderId':_0x2bf289['id'],'symbol':_0x157950[_0x2f84fe(0x199)],'coin':_0x157950[_0x2f84fe(0x282)],'side':_0x2bf289[_0x2f84fe(0x171)],'reverse':_0x157950[_0x2f84fe(0x19e)],'amount':_0x2bf289['amount'],'filled':0x0,'price':_0x2bf289[_0x2f84fe(0x1de)],'fee':_0x2bf289['fee']}),_0x157950[_0x2f84fe(0x281)]=!![],_0x4ac818=_0x2bf289[_0x2f84fe(0x1ba)]);});const _0x39262e=new Date()[_0x46bf35(0x270)](),_0x51256c=config[_0x46bf35(0x242)]==_0x46bf35(0x1e9)?validateOrderTimeout*0x3c*0x3e8:config[_0x46bf35(0x24e)]*0x3c*0x3e8;if(_0x4ac818+_0x51256c>_0x39262e){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4f0113=_0x46bf35;validateOrders(_0x4f0113(0x19b));},_0x4ac818+_0x51256c-_0x39262e);}else validateOrders(_0x46bf35(0x19b));}function sendPortfolioTelegram(){const _0x23f157=_0x5be2c4,_0x5013b6=[_0x23f157(0x174),'BUSD',_0x23f157(0x225)],_0x20e567=_0x5013b6[_0x23f157(0x1a8)](config[_0x23f157(0x288)])?0x2:0x8;let _0x34e3af='';if(config[_0x23f157(0x22d)])_0x34e3af=config['botname']+_0x23f157(0x1b9);else _0x34e3af=_0x23f157(0x212)+botID+_0x23f157(0x1b9);_0x34e3af+='<pre>',_0x34e3af+=_0x23f157(0x1d2),_0x34e3af+=_0x23f157(0x1e2),currentCoins[_0x23f157(0x18a)](_0x35d66c=>{const _0xd1418=_0x23f157;_0x34e3af+=_0x35d66c[_0xd1418(0x282)][_0xd1418(0x1ee)](0x7)+'|\x20'+formatPad(_0x35d66c['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x35d66c[_0xd1418(0x202)],0x2,0x6)+'|\x20'+formatPad(_0x35d66c[_0xd1418(0x1a2)]*0x64,0x2,0x6)+'\x0a';}),_0x34e3af+=_0x23f157(0x203),process[_0x23f157(0x218)]({'telegrammsg':_0x34e3af},_0x447040=>{});}function formatPad(_0x1abfd,_0x1ef94,_0x3cc4d3){const _0x2ad988=_0x5be2c4,_0x29ac75=formatResultString(_0x1abfd,_0x1ef94);return _0x29ac75?_0x29ac75[_0x2ad988(0x29b)](_0x3cc4d3):''[_0x2ad988(0x29b)](_0x3cc4d3);}function logHistory(_0x547379,_0x2fb583,_0xc6770d=''){const _0x4debf3=_0x5be2c4;let _0x2c62e8={'time':getTimeStamp(),'type':_0x547379,'event':_0x2fb583};dbLogs[_0x4debf3(0x22a)](_0x4debf3(0x2a0))[_0x4debf3(0x1d0)](_0x2c62e8)[_0x4debf3(0x236)]();if(_0xc6770d=='')_0xc6770d=_0x2fb583;proxyEmit('event',{'log':_0x2c62e8,'summary':_0xc6770d}),process[_0x4debf3(0x218)]({'telegram':{..._0x2c62e8,'botname':config[_0x4debf3(0x278)],'showname':config[_0x4debf3(0x22d)]}},_0x1caab8=>{}),logging(''+_0x2c62e8[_0x4debf3(0x1ea)]);}function emitHistory(_0x1a99e7={}){const _0x550737=_0x5be2c4;Object[_0x550737(0x24d)](_0x1a99e7)['length']==0x0&&(_0x1a99e7={'type':[_0x550737(0x281),_0x550737(0x1ea)],'event':'','page':0x1});if(_0x1a99e7[_0x550737(0x211)][_0x550737(0x1a8)](_0x550737(0x1ea)))_0x1a99e7[_0x550737(0x211)]['splice'](_0x1a99e7['type']['indexOf'](_0x550737(0x1ea)),0x1,_0x550737(0x1eb),_0x550737(0x222));if(dbLogs[_0x550737(0x273)](_0x550737(0x2a0))[_0x550737(0x227)]()){let _0xabef18=dbLogs[_0x550737(0x22a)](_0x550737(0x2a0))['filter'](_0x5eb51e=>{const _0x3367e0=_0x550737;if(_0x1a99e7[_0x3367e0(0x211)][_0x3367e0(0x28c)]==0x0)return![];else return _0x1a99e7[_0x3367e0(0x211)]['includes'](_0x5eb51e['type']);})['filter'](_0x58880f=>{const _0x53d529=_0x550737;if(_0x1a99e7[_0x53d529(0x1ea)]=='')return!![];else return _0x58880f[_0x53d529(0x1ea)]['toLowerCase']()[_0x53d529(0x1a8)](_0x1a99e7[_0x53d529(0x1ea)][_0x53d529(0x172)]());})[_0x550737(0x298)](_0x550737(0x1b6)),_0x355e32=_0xabef18[_0x550737(0x227)]()[_0x550737(0x28c)];_0xabef18=_0xabef18[_0x550737(0x19e)]()[_0x550737(0x287)]((_0x1a99e7[_0x550737(0x1c1)]-0x1)*logPageSize,_0x1a99e7[_0x550737(0x1c1)]*logPageSize-0x1)[_0x550737(0x19e)]()[_0x550737(0x227)](),proxyEmit('event-history',{'logs':_0xabef18,'total':_0x355e32});}else proxyEmit(_0x550737(0x223),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2e5dc6){const _0x264376=_0x5be2c4;if(dbLogs[_0x264376(0x273)](_0x264376(0x2a0))[_0x264376(0x227)]()){const _0x153a7f=dbLogs['get'](_0x264376(0x2a0))[_0x264376(0x298)](_0x264376(0x1b6))[_0x264376(0x189)](_0x419517=>{const _0x3d85e9=_0x264376;return _0x419517[_0x3d85e9(0x211)]==_0x3d85e9(0x281);})[_0x264376(0x227)]();dbLogs['get'](_0x264376(0x2a0))[_0x264376(0x26a)]()[_0x264376(0x236)](),dbLogs[_0x264376(0x22a)](_0x264376(0x2a0))['assign'](_0x153a7f)[_0x264376(0x236)](),emitHistory(_0x2e5dc6);}}async function pauseBot(_0x46d9dd=''){const _0x5620be=_0x5be2c4,_0x28cd0d=new Date()[_0x5620be(0x270)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x28cd0d-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x5620be(0x218)]({'stop':_0x5620be(0x1dc)},_0x443a72=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x46d9dd)_0x46d9dd+=_0x5620be(0x24f);logHistory(_0x5620be(0x1eb),_0x46d9dd+_0x5620be(0x26b)+pauseBotInterval/0xea60+_0x5620be(0x1bf)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x5e12f5=_0x5be2c4;process[_0x5e12f5(0x218)]({'stop':_0x5e12f5(0x1d5)},_0x1fc4d7=>{}),await sleep(0x7d0);}async function handleError(_0xe5eb90,_0x3ba7f2,_0x1d0371=''){const _0x2601fa=_0x5be2c4;if(_0xe5eb90['toString']()[_0x2601fa(0x1a8)](_0x2601fa(0x224)))await pauseBot('Binance\x20API\x20blocked');else{if(_0xe5eb90[_0x2601fa(0x21d)]()[_0x2601fa(0x1a8)](_0x2601fa(0x1b4)))await pauseBot(_0x2601fa(0x20d));else{if(_0xe5eb90['toString']()[_0x2601fa(0x1a8)](_0x2601fa(0x23a)))await pauseBot(_0x2601fa(0x299));else{if(_0xe5eb90[_0x2601fa(0x21d)]()[_0x2601fa(0x1a8)](_0x2601fa(0x259)))logHistory(_0x2601fa(0x1eb),_0x3ba7f2+_0x2601fa(0x1e0)),logHistory(_0x2601fa(0x1eb),_0x2601fa(0x1e4)),await killBot();else{if(_0xe5eb90[_0x2601fa(0x21d)]()[_0x2601fa(0x1a8)]('AuthenticationError'))logHistory(_0x2601fa(0x1eb),_0x3ba7f2+_0x2601fa(0x1fe)),logHistory(_0x2601fa(0x1eb),_0x2601fa(0x1e4)),await killBot();else{if(_0xe5eb90[_0x2601fa(0x21d)]()[_0x2601fa(0x1a8)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x3ba7f2+_0x2601fa(0x18b)),logHistory('error',_0x2601fa(0x1e4)),await killBot();else{if(_0xe5eb90[_0x2601fa(0x21d)]()[_0x2601fa(0x1a8)](_0x2601fa(0x17f)))logHistory(_0x2601fa(0x1eb),_0x3ba7f2+_0x2601fa(0x21c)),logHistory(_0x2601fa(0x1eb),_0x2601fa(0x1e4)),await killBot();else{if(_0xe5eb90[_0x2601fa(0x21d)]()['includes'](_0x2601fa(0x1a4)))await pauseBot(_0x2601fa(0x275)),process['send']({'stop':_0x2601fa(0x1dc)},_0x1c772b=>{});else _0xe5eb90[_0x2601fa(0x21d)]()['includes'](_0x2601fa(0x1c4))?logHistory('error',_0x3ba7f2+_0x2601fa(0x1ed)+_0x1d0371):(logging(_0x3ba7f2+_0x2601fa(0x195),_0xe5eb90),await pauseBot(_0x2601fa(0x247)));}}}}}}}}function formatResult(_0x73b1c4,_0x44e523){const _0x36bb92=_0x5be2c4;return parseFloat(_0x73b1c4[_0x36bb92(0x1bd)](_0x44e523));}function formatResultTruncate(_0x18c91f,_0x4fbe4c){const _0x49adc5=_0x5be2c4;let _0x1a76a6=formatResultString(_0x18c91f,0xa),_0x4f9ef6=_0x1a76a6[_0x49adc5(0x1af)]('.');return _0x4f9ef6!=-0x1&&(_0x1a76a6=_0x1a76a6['slice'](0x0,_0x4f9ef6+_0x4fbe4c+0x1)),Number(_0x1a76a6);}function formatResultString(_0x3a1e40,_0x571609){const _0x58dff6=_0x5be2c4;let _0x413189;if(!(''+_0x3a1e40)[_0x58dff6(0x1a8)]('e'))_0x413189=+(Math['round'](_0x3a1e40+'e+'+_0x571609)+'e-'+_0x571609);else{let _0x2bdcc7=(''+_0x3a1e40)[_0x58dff6(0x250)]('e'),_0x3b6c15='';+_0x2bdcc7[0x1]+_0x571609>0x0&&(_0x3b6c15='+'),_0x413189=+(Math[_0x58dff6(0x1ad)](+_0x2bdcc7[0x0]+'e'+_0x3b6c15+(+_0x2bdcc7[0x1]+_0x571609))+'e-'+_0x571609);}return Number(_0x413189)[_0x58dff6(0x1bd)](_0x571609);}function logging(_0x2ec79b,_0x3a9a86=''){const _0x1cdb66=_0x5be2c4;if(config[_0x1cdb66(0x22d)])console[_0x1cdb66(0x192)](getTimeStamp()+':\x20'+config[_0x1cdb66(0x278)]+'\x20>\x20'+_0x2ec79b,_0x3a9a86);else console[_0x1cdb66(0x192)](getTimeStamp()+_0x1cdb66(0x1a6)+botID+_0x1cdb66(0x264)+_0x2ec79b,_0x3a9a86);}function getServerTime(){const _0x3dac7b=_0x5be2c4,_0x126929=new Date();return _0x126929[_0x3dac7b(0x208)]()+'/'+(_0x126929[_0x3dac7b(0x239)]()+0x1)[_0x3dac7b(0x21d)]()[_0x3dac7b(0x29b)](0x2,'0')+'/'+_0x126929[_0x3dac7b(0x293)]()[_0x3dac7b(0x21d)]()[_0x3dac7b(0x29b)](0x2,'0')+'\x20'+_0x126929[_0x3dac7b(0x1f4)]()[_0x3dac7b(0x21d)]()['padStart'](0x2,'0')+':'+_0x126929['getMinutes']()[_0x3dac7b(0x21d)]()[_0x3dac7b(0x29b)](0x2,'0')+':'+_0x126929[_0x3dac7b(0x2a2)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0xd4c452=_0x5be2c4,_0x21f455=shiftedTime();return _0x21f455[_0xd4c452(0x208)]()+'/'+(_0x21f455[_0xd4c452(0x239)]()+0x1)[_0xd4c452(0x21d)]()[_0xd4c452(0x29b)](0x2,'0')+'/'+_0x21f455[_0xd4c452(0x293)]()[_0xd4c452(0x21d)]()[_0xd4c452(0x29b)](0x2,'0')+'\x20'+_0x21f455[_0xd4c452(0x1f4)]()['toString']()['padStart'](0x2,'0')+':'+_0x21f455[_0xd4c452(0x262)]()[_0xd4c452(0x21d)]()[_0xd4c452(0x29b)](0x2,'0')+':'+_0x21f455[_0xd4c452(0x2a2)]()[_0xd4c452(0x21d)]()[_0xd4c452(0x29b)](0x2,'0');}function getDate(){const _0x50d6d3=_0x5be2c4,_0x230b31=shiftedTime();return _0x230b31[_0x50d6d3(0x208)]()+'/'+(_0x230b31[_0x50d6d3(0x239)]()+0x1)[_0x50d6d3(0x21d)]()[_0x50d6d3(0x29b)](0x2,'0')+'/'+_0x230b31[_0x50d6d3(0x293)]()[_0x50d6d3(0x21d)]()[_0x50d6d3(0x29b)](0x2,'0');}function getHour(){const _0x51402a=_0x5be2c4,_0x567e71=shiftedTime();return _0x567e71[_0x51402a(0x1f4)]()[_0x51402a(0x21d)]()['padStart'](0x2,'0');}function sleep(_0x5f3775){return new Promise(_0x2c0921=>setTimeout(_0x2c0921,_0x5f3775));}function shiftedTime(){const _0x374547=_0x5be2c4,_0xb60764=new Date();let _0x59140b=_0xb60764;if(config&&config[_0x374547(0x1f3)]!==0x0)_0x59140b=fns['add'](_0xb60764,{'hours':config[_0x374547(0x1f3)]});return _0x59140b;}