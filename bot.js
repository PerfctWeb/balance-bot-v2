const _0x115f29=_0x4578;(function(_0x440d17,_0x1fbe13){const _0x2b20da=_0x4578,_0x484b05=_0x440d17();while(!![]){try{const _0x8681d4=parseInt(_0x2b20da(0xdf))/0x1*(parseInt(_0x2b20da(0xbb))/0x2)+parseInt(_0x2b20da(0x1ac))/0x3*(parseInt(_0x2b20da(0x13c))/0x4)+parseInt(_0x2b20da(0xef))/0x5+-parseInt(_0x2b20da(0x15d))/0x6*(-parseInt(_0x2b20da(0x182))/0x7)+parseInt(_0x2b20da(0x190))/0x8*(parseInt(_0x2b20da(0x1d4))/0x9)+-parseInt(_0x2b20da(0x9e))/0xa*(parseInt(_0x2b20da(0x13e))/0xb)+-parseInt(_0x2b20da(0xcd))/0xc;if(_0x8681d4===_0x1fbe13)break;else _0x484b05['push'](_0x484b05['shift']());}catch(_0x41220b){_0x484b05['push'](_0x484b05['shift']());}}}(_0xb418,0xd7c9f));const _0x225fd9=function(){let _0x53f596=!![];return function(_0x1a2687,_0x2f231e){const _0x836279=_0x53f596?function(){const _0x268d5a=_0x4578;if(_0x2f231e){const _0x28e040=_0x2f231e[_0x268d5a(0x18b)](_0x1a2687,arguments);return _0x2f231e=null,_0x28e040;}}:function(){};return _0x53f596=![],_0x836279;};}(),_0x2d6e05=_0x225fd9(this,function(){const _0x247839=_0x4578;return _0x2d6e05[_0x247839(0xcb)]()['search'](_0x247839(0x163))[_0x247839(0xcb)]()[_0x247839(0x17d)](_0x2d6e05)['search'](_0x247839(0x163));});_0x2d6e05();'use strict';const ccxt=require(_0x115f29(0x197))['pro'],low=require(_0x115f29(0x1f9)),FileSync=require(_0x115f29(0x1bc)),fs=require('fs'),fns=require(_0x115f29(0x120)),Crypt=require(_0x115f29(0x1b9))[_0x115f29(0x19b)],util=require(_0x115f29(0x10f)),argv=require(_0x115f29(0x89))(process[_0x115f29(0x133)][_0x115f29(0xf4)](0x2))[_0x115f29(0x133)],path=require(_0x115f29(0x1b6));let exchange;global[_0x115f29(0x84)]={},global[_0x115f29(0x1a1)]={};const exceptions={'binance':[_0x115f29(0x111),_0x115f29(0x8c),_0x115f29(0x12b),_0x115f29(0x188),'YOYOW/']},exchangesRequiringIntId=[_0x115f29(0x15a)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x115f29(0x1f4)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x115f29(0xf6)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')[_0x115f29(0x198)],botID=process['argv'][0x2]||_0x115f29(0x119),pattern=/^[0-9]{3}$/;!pattern[_0x115f29(0x13b)](botID)&&(console[_0x115f29(0x101)]('Error:\x20Invalid\x20argument\x20'+botID+_0x115f29(0x1df)),killBot());const userID=process[_0x115f29(0x133)][0x3]||'',configpath=userID?_0x115f29(0xf2)+userID+'/':'./config/',logspath=userID?_0x115f29(0x176)+userID+'/':_0x115f29(0x176),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x115f29(0x1cf)](configpath);!fs[_0x115f29(0xc1)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x115f29(0x14c)+botID+'-config.json',logfile=configpath+_0x115f29(0x14c)+botID+_0x115f29(0xd1),performancefile=configpath+_0x115f29(0x14c)+botID+_0x115f29(0xe2),coinresultsfile=configpath+'bot-'+botID+_0x115f29(0x127),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x115f29(0xed),configbackuppath=configpath+_0x115f29(0x126),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x115f29(0x165)]({'logs':[],'version':serverversion})[_0x115f29(0x1cd)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x115f29(0x165)]({'data':[],'version':serverversion})[_0x115f29(0x1cd)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x115f29(0x165)]({'bot':[],'version':serverversion})[_0x115f29(0x1cd)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x115f29(0x165)]({'coins':[],'version':serverversion})[_0x115f29(0x1cd)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x115f29(0x1a2),'rsaStandard':_0x115f29(0xf8)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x19b657=>{const _0x321307=_0x115f29;console[_0x321307(0x101)](_0x19b657);},'simple':_0x4ec83f=>{const _0x40aa2e=_0x115f29;console[_0x40aa2e(0x101)](_0x4ec83f),loggerfile[_0x40aa2e(0x1cd)](util[_0x40aa2e(0x8f)](_0x4ec83f)+'\x0a');},'full':async(_0x55903e,_0x452459='')=>{const _0x471faa=_0x115f29;let _0x2536f3;if(config['showname'])_0x2536f3=getTimeStamp()+':\x20'+config[_0x471faa(0x92)]+_0x471faa(0x16b)+_0x55903e;else _0x2536f3=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x55903e;console[_0x471faa(0x101)](_0x2536f3),loggerfile[_0x471faa(0x1cd)](util['format'](_0x2536f3)+'\x0a'),_0x452459&&(console[_0x471faa(0x101)](_0x452459),loggerfile['write'](util[_0x471faa(0x8f)](_0x452459)+'\x0a'));},'debug':async(_0x50fd44,_0x3b3b4d='')=>{const _0x44b334=_0x115f29;let _0x19bb46;if(config[_0x44b334(0x18d)])_0x19bb46=getTimeStamp()+':\x20'+config[_0x44b334(0x92)]+_0x44b334(0x1d6)+_0x50fd44;else _0x19bb46=getTimeStamp()+_0x44b334(0xa0)+botID+'\x20>\x20[DEBUG]\x20'+_0x50fd44;if(debugging)console[_0x44b334(0x101)](_0x19bb46);loggerfile[_0x44b334(0x1cd)](util[_0x44b334(0x8f)](_0x19bb46)+'\x0a');if(_0x3b3b4d){if(debugging)console[_0x44b334(0x101)](_0x3b3b4d);loggerfile[_0x44b334(0x1cd)](util['format'](_0x3b3b4d)+'\x0a');}}};process['on'](_0x115f29(0xf3),function(_0x578fb1){const _0x36997b=_0x115f29;logger[_0x36997b(0x1cc)]('Uncaught\x20Exception:',_0x578fb1);});settings['timeshift']!=config[_0x115f29(0x10a)]&&updateTimeshift(settings[_0x115f29(0x10a)]);settings[_0x115f29(0xb4)]!=config[_0x115f29(0xb4)]&&updateOnepagemode(settings[_0x115f29(0xb4)]);process[_0x115f29(0x153)]({'started':_0x115f29(0x8a)},_0x10ba14=>{}),initializeProcessListeners();function proxyEmit(_0x55e837,_0xcc6e78=null){const _0x4b6ef5=_0x115f29;process[_0x4b6ef5(0x153)]({'function':_0x55e837,'args':_0xcc6e78},_0x1d4d26=>{});}function initializeProcessListeners(){const _0x319c69=_0x115f29;process['on'](_0x319c69(0x172),_0x3adc96=>{const _0x3bb3e9=_0x319c69;switch(Object[_0x3bb3e9(0xfe)](_0x3adc96)[0x0]){case _0x3bb3e9(0x10a):_0x3adc96[_0x3bb3e9(0x10a)]!=undefined&&(settings[_0x3bb3e9(0x10a)]=_0x3adc96[_0x3bb3e9(0x10a)],updateTimeshift(settings[_0x3bb3e9(0x10a)]));break;case _0x3bb3e9(0xb4):_0x3adc96[_0x3bb3e9(0xb4)]!=undefined&&(settings[_0x3bb3e9(0xb4)]=_0x3adc96['onepagemode'],updateOnepagemode(settings[_0x3bb3e9(0xb4)]));break;case'bots':_0x3adc96[_0x3bb3e9(0x1a9)]!=undefined&&(bots=JSON['parse'](_0x3adc96[_0x3bb3e9(0x1a9)]),proxyEmit('bots',bots));break;case _0x3bb3e9(0x115):switch(_0x3adc96[_0x3bb3e9(0x115)]){case _0x3bb3e9(0x19d):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x3bb3e9(0x143):emitHistory(_0x3adc96[_0x3bb3e9(0xa6)]);break;case _0x3bb3e9(0x13f):deleteHistoryAlerts(_0x3adc96[_0x3bb3e9(0xa6)]);break;case'getPortfolio':getPortfolio(_0x3adc96[_0x3bb3e9(0xa6)]);break;case _0x3bb3e9(0x100):storeConfiguration(_0x3adc96[_0x3bb3e9(0xa6)]);break;case _0x3bb3e9(0x1ba):storeHeadless(_0x3adc96[_0x3bb3e9(0xa6)]);break;case _0x3bb3e9(0x1e8):storeFiat(_0x3adc96['args']);break;case _0x3bb3e9(0x151):resetHistory();break;case _0x3bb3e9(0xe8):getStartingBalances(getNormalizedPerformance());break;case _0x3bb3e9(0x1bb):placeOrder(_0x3adc96[_0x3bb3e9(0xa6)]);break;case'cancelLoading':cancelLoading();break;case _0x3bb3e9(0x1f5):showConfig();break;case _0x3bb3e9(0x134):sendMetricsTelegram();break;case _0x3bb3e9(0x18f):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x4b03a1=null,_0x4f4b53=![]){const _0x366c27=_0x115f29;logger[_0x366c27(0x1cc)]('Reset\x20|\x20'+(_0x4b03a1&&_0x4b03a1['length']>0x0?'additional\x20symbols\x20'+_0x4b03a1['join'](','):_0x366c27(0x196))+_0x366c27(0x1ec)+(_0x4f4b53?_0x366c27(0x10b):_0x366c27(0x1a0)));if(pidBalances)clearTimeout(pidBalances);if(!_0x4f4b53)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x366c27(0xc9)]!=''&&config[_0x366c27(0xc9)]!=_0x366c27(0xbf)){if(_0x4f4b53){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x562228){handleErrorNoStop(_0x562228,_0x366c27(0xb9));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x4b03a1);const _0x714693=await getCoins();[currentCoins,currentCoinsAll]=_0x714693,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x366c27(0x1ef)]==0x0&&allOpenOrders[_0x366c27(0x1ef)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x5898c9=_0x115f29;exchangeStopped=!![],await exchange[_0x5898c9(0xb7)]();}async function reloadExchange(){const _0x3b981f=_0x115f29;logger[_0x3b981f(0x1cc)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x3b981f(0xf6)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x3b981f(0x1cc)](_0x3b981f(0x99)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x5a3075=config[_0x115f29(0xae)],_0x386e3b=config[_0x115f29(0xc9)],_0x4cc9bc=config[_0x115f29(0xdb)],_0x657693=config[_0x115f29(0x1fe)]){const _0x210882=_0x115f29;exchange&&await stopExchange();!supportedExchanges()[_0x210882(0x156)](_0x5a3075)&&(logHistory(_0x210882(0x137),_0x210882(0x9f)+_0x5a3075+'\x20exchange'),killBot());const _0x60f6dd=ccxt[_0x5a3075[_0x210882(0x124)]()];exchange=new _0x60f6dd({'apiKey':_0x386e3b,'secret':_0x4cc9bc,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x657693)exchange['password']=_0x657693;}function setStableCoins(){const _0x5e3ca4=_0x115f29;let _0x30ec56=config[_0x5e3ca4(0x1fa)]==_0x5e3ca4(0x159)?_0x5e3ca4(0x159):_0x5e3ca4(0x95),_0x16e7ee=!allSymbols[_0x5e3ca4(0x156)](_0x30ec56+_0x5e3ca4(0xa8))?_0x5e3ca4(0x167):_0x5e3ca4(0x1b2),_0x4ee659=!allSymbols[_0x5e3ca4(0x156)](_0x30ec56+_0x5e3ca4(0x130))?_0x16e7ee:'EUR';stablecoins={'eur':{'coin':''+_0x30ec56+_0x4ee659,'symbol':_0x30ec56+'/'+_0x4ee659},'usd':{'coin':''+_0x30ec56+_0x16e7ee,'symbol':_0x30ec56+'/'+_0x16e7ee}};}async function initwsCcxt(_0x19194b){const _0x8ec26b=_0x115f29;_0x19194b==null&&(_0x19194b=[],config[_0x8ec26b(0x142)][_0x8ec26b(0x152)](_0x18138d=>{const _0x46cbc8=_0x8ec26b;if(!_0x18138d[_0x46cbc8(0x121)]&&_0x18138d[_0x46cbc8(0x1e3)]!=config['basecoin'])_0x19194b[_0x46cbc8(0x194)](_0x18138d[_0x46cbc8(0x140)]);}));if(!_0x19194b['includes'](stablecoins[_0x8ec26b(0x1ca)][_0x8ec26b(0x140)]))_0x19194b[_0x8ec26b(0x194)](stablecoins[_0x8ec26b(0x1ca)][_0x8ec26b(0x140)]);if(!_0x19194b[_0x8ec26b(0x156)](stablecoins[_0x8ec26b(0x1d2)]['symbol']))_0x19194b['push'](stablecoins['usd']['symbol']);if(config[_0x8ec26b(0xae)][_0x8ec26b(0x8d)](_0x8ec26b(0x191))){if(!_0x19194b[_0x8ec26b(0x156)](_0x8ec26b(0x13a)+config[_0x8ec26b(0x1fa)]))_0x19194b[_0x8ec26b(0x194)](_0x8ec26b(0x13a)+config[_0x8ec26b(0x1fa)]);}loadCoins(_0x19194b);const _0x1be16e=async _0x50c0d1=>{const _0x1ecc83=_0x8ec26b,_0x32ddc5=await exchange['fetchTicker'](_0x50c0d1);global[_0x1ecc83(0x84)][noslash(_0x32ddc5['symbol'])]=_0x32ddc5[_0x1ecc83(0x1cb)];while(!![]){if(!botPaused)try{const _0x25ae63=await exchange['watchTrades'](_0x50c0d1);global['ticker'][noslash(_0x25ae63[0x0][_0x1ecc83(0x140)])]=_0x25ae63[0x0][_0x1ecc83(0xa7)],await sleep(0x3e8);}catch(_0x293de2){if(!exchangeStopped)await handleError(_0x293de2,_0x1ecc83(0x14a),_0x50c0d1);}else await sleep(0x64);}},_0x4eaeaf=async _0x556496=>{const _0x51eabc=_0x8ec26b;while(!![]){if(!botPaused)try{const _0x4354a0=await exchange[_0x51eabc(0x146)](_0x556496);global[_0x51eabc(0x1a1)][_0x4354a0[_0x51eabc(0x140)]]=_0x4354a0[_0x51eabc(0xec)],await sleep(0x3c*0x3e8);}catch(_0x398027){if(!exchangeStopped)await handleError(_0x398027,'fetchTickers',_0x556496);}else await sleep(0x64);}},_0x3c8565=async()=>{const _0x466856=_0x8ec26b;while(!![]){if(!botPaused)try{const _0x3698d8=await exchange[_0x466856(0xe6)]();_0x3698d8[_0x466856(0x152)](_0x572c59=>{updateNumberCoinsCcxt(_0x572c59);});}catch(_0x2cf6b1){if(!exchangeStopped)await handleError(_0x2cf6b1,_0x466856(0xe6));}else await sleep(0x64);}};_0x19194b[_0x8ec26b(0x152)](async _0x394fd8=>{_0x1be16e(_0x394fd8),_0x4eaeaf(_0x394fd8);}),!wsEventsSet&&(wsEventsSet=!![],_0x3c8565(),watchTransactions());}async function watchTransactions(){const _0x20cfda=_0x115f29;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x5dff98=await getCoins(),[_0x2f2c69,_0x31262a]=_0x5dff98;let _0xd1786c=[];currentCoins[_0x20cfda(0x152)](_0x191bd2=>{const _0x15f75d=_0x20cfda,_0x1d4c0e=_0x2f2c69['find'](_0x5bd2e9=>_0x5bd2e9['coin']==_0x191bd2[_0x15f75d(0x1e3)]);_0x1d4c0e&&(_0x191bd2[_0x15f75d(0x12d)]!=_0x1d4c0e[_0x15f75d(0x12d)]&&_0xd1786c[_0x15f75d(0x194)]({'coin':_0x191bd2['coin'],'symbol':_0x191bd2['symbol'],'number':Number(formatResult(_0x1d4c0e['number']-_0x191bd2['number'],0x8))}));});if(_0xd1786c[_0x20cfda(0x1ef)]==0x1&&!blockTransactionDetection){if(config[_0x20cfda(0xeb)]){logger['debug'](_0x20cfda(0x10d)+lastFees[_0x20cfda(0xcc)]+_0x20cfda(0x11e)+lastFees[_0x20cfda(0x1a8)]);if(!lastFees[_0x20cfda(0xcc)]||_0xd1786c[0x0][_0x20cfda(0x1e3)]!=lastFees['currency']||_0xd1786c[0x0][_0x20cfda(0x12d)]>lastFees[_0x20cfda(0x1a8)]){let _0x10e90c;if(_0xd1786c[0x0][_0x20cfda(0x1e3)]!=config['basecoin']){let _0x4e1a7f=global[_0x20cfda(0x84)][noslash(_0xd1786c[0x0][_0x20cfda(0x140)])];_0x10e90c=_0xd1786c[0x0]['reverse']?0x1/_0x4e1a7f:_0x4e1a7f;}else _0x10e90c=0x1;_0xd1786c[0x0]['price']=_0x10e90c,delete _0xd1786c[0x0][_0x20cfda(0x140)];let _0xf237d8=[],_0x355529=[...config[_0x20cfda(0x1c8)]]||[],_0x4cd467=config[_0x20cfda(0x1c8)];_0x355529[_0x20cfda(0x104)]((_0x5c13e9,_0x18f5d9)=>_0x5c13e9['date']>_0x18f5d9[_0x20cfda(0xc2)]?-0x1:_0x18f5d9[_0x20cfda(0xc2)]>_0x5c13e9['date']?0x1:0x0);const _0x501b80=getDate();if(_0x355529[0x0]){const _0x58f5e3=fns[_0x20cfda(0xd9)](_0x355529[0x0][_0x20cfda(0xc2)],_0x20cfda(0x16f),new Date()),_0x179890=fns[_0x20cfda(0xd9)](_0x501b80,_0x20cfda(0x16f),new Date());if(fns[_0x20cfda(0xbc)](_0x58f5e3,_0x179890)){_0xf237d8=_0x355529[0x0][_0x20cfda(0x1d0)];const _0x4f4a45=_0xf237d8[_0x20cfda(0x15e)](_0x4dd85f=>_0x4dd85f['coin']==_0xd1786c[0x0][_0x20cfda(0x1e3)]);_0x4f4a45?(_0x4f4a45[_0x20cfda(0x12d)]+=_0xd1786c[0x0][_0x20cfda(0x12d)],_0x4f4a45[_0x20cfda(0x12d)]==0x0&&(_0xf237d8=_0xf237d8['filter'](_0x1a0285=>{const _0x10592a=_0x20cfda;return _0x1a0285[_0x10592a(0x1e3)]!=_0xd1786c[0x0][_0x10592a(0x1e3)];}))):_0xf237d8[_0x20cfda(0x194)](_0xd1786c[0x0]);const _0x4d4b41=_0x4cd467[_0x20cfda(0x15e)](_0xc3ed50=>_0xc3ed50[_0x20cfda(0xc2)]==_0x501b80);_0x4d4b41['changes']=_0xf237d8;}else _0x4cd467[_0x20cfda(0x194)]({'date':_0x501b80,'changes':[_0xd1786c[0x0]]});}const _0x112558=_0x4cd467['find'](_0x7c0c69=>_0x7c0c69['date']==_0x501b80);if(_0x112558){let _0x579097=!![];_0x112558['changes'][_0x20cfda(0x152)](_0x513c60=>{const _0x430854=_0x20cfda;if(_0x513c60[_0x430854(0x12d)]!=0x0)_0x579097=![];}),_0x579097&&(_0x4cd467=_0x4cd467[_0x20cfda(0x8e)](_0x36467c=>{const _0x34b692=_0x20cfda;return _0x36467c[_0x34b692(0xc2)]!=_0x501b80;}));}let _0x389a69=dbConfig[_0x20cfda(0x199)]('bot')[_0x20cfda(0x15e)]({'botID':botID})[_0x20cfda(0x105)]();_0x389a69&&(dbConfig[_0x20cfda(0x199)]('bot')['find']({'botID':botID})['assign']({'liquidity':_0x4cd467})['write'](),config[_0x20cfda(0x1c8)]=_0x4cd467),logHistory(_0x20cfda(0x85),_0x20cfda(0x1e9)+Math[_0x20cfda(0xda)](_0xd1786c[0x0]['number'])+'\x20'+_0xd1786c[0x0][_0x20cfda(0x1e3)]+'\x20'+(_0xd1786c[0x0][_0x20cfda(0x12d)]>0x0?_0x20cfda(0x11f):_0x20cfda(0x174))+_0x20cfda(0x1a5)),proxyEmit(_0x20cfda(0x19f),emittedConfiguration());}else logger['debug'](_0x20cfda(0x103)+Math[_0x20cfda(0xda)](_0xd1786c[0x0][_0x20cfda(0x12d)])+'\x20'+_0xd1786c[0x0][_0x20cfda(0x1e3)]+'\x20'+(_0xd1786c[0x0][_0x20cfda(0x12d)]>0x0?_0x20cfda(0x11f):_0x20cfda(0x174)));transactionDetected=!![],currentCoins=_0x2f2c69,currentCoinsAll=_0x31262a;}else logger[_0x20cfda(0x1cc)]('Portfolio\x20change\x20detected:\x20'+Math[_0x20cfda(0xda)](_0xd1786c[0x0][_0x20cfda(0x12d)])+'\x20'+_0xd1786c[0x0][_0x20cfda(0x1e3)]+'\x20'+(_0xd1786c[0x0]['number']>0x0?_0x20cfda(0x11f):_0x20cfda(0x174))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled'),currentCoins=_0x2f2c69,currentCoinsAll=_0x31262a;}await sleep(watchTransactionsInterval);}catch(_0x2b0800){if(!exchangeStopped)await handleError(_0x2b0800,'watchTransactions');}else await sleep(0x64);}}async function loadSymbols(_0x5d0ebf=config[_0x115f29(0xae)],_0x58bb2b=![]){const _0x198dcf=_0x115f29;if(allSymbols&&!_0x58bb2b)return;try{markets=await exchange[_0x198dcf(0x19c)](),allSymbols=exchange[_0x198dcf(0xa4)]['filter'](_0x46c93b=>{const _0x1fbf3d=_0x198dcf;let _0x757b7e=![];const _0x54dc40=exceptions[_0x5d0ebf['toLowerCase']()]||[];return _0x54dc40[_0x1fbf3d(0x152)](_0x6cd19c=>{const _0x3c42ec=_0x1fbf3d;if(_0x46c93b[_0x3c42ec(0x156)](_0x6cd19c))_0x757b7e=!![];}),!_0x757b7e;});}catch(_0x48a227){throw _0x48a227;}}async function initclient(){const _0x2e521f=_0x115f29;emitLoadingProgress(),proxyEmit(_0x2e521f(0x19f),emittedConfiguration()),proxyEmit(_0x2e521f(0x149),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2e521f(0xe1),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2aa33a=getNormalizedPerformance();emitPerformance(_0x2aa33a),getStartingBalances(_0x2aa33a);}async function toggleBotMode(){const _0x21e111=_0x115f29;let _0x5bdace=dbConfig[_0x21e111(0x199)](_0x21e111(0x123))[_0x21e111(0x15e)]({'botID':botID})[_0x21e111(0x105)]();if(_0x5bdace){const _0x441215=!_0x5bdace['headless'];dbConfig[_0x21e111(0x199)](_0x21e111(0x123))[_0x21e111(0x15e)]({'botID':botID})['assign']({'headless':_0x441215})[_0x21e111(0x1cd)](),config[_0x21e111(0x169)]=_0x441215,proxyEmit(_0x21e111(0x19f),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x59d65b=_0x115f29;process[_0x59d65b(0x153)]({'updatebotmanager':!![]},_0x2156b2=>{});}async function loadCoins(_0x19b6fe){const _0x5455d5=_0x115f29;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x407554,_0x10c5af=0x0,_0x3312a2=0x0;_0x19b6fe[_0x5455d5(0x152)](_0x3d6c70=>{const _0x1661d5=_0x5455d5;loading[_0x1661d5(0x112)][_0x1661d5(0x194)](_0x3d6c70);}),loadingCanceled=![];let _0x2579ed=![];while(_0x407554!=_0x19b6fe[_0x5455d5(0x1ef)]){_0x407554=0x0,_0x19b6fe[_0x5455d5(0x152)](_0x39c0a1=>{const _0x5c34f5=_0x5455d5;if(global[_0x5c34f5(0x84)][noslash(_0x39c0a1)]){loading[_0x5c34f5(0x112)]=loading['remainingSymbols']['filter'](_0x4c0a32=>_0x4c0a32!=_0x39c0a1);if(!watchedSymbols['includes'](_0x39c0a1))watchedSymbols['push'](_0x39c0a1);_0x407554++;}}),loading[_0x5455d5(0x1b4)]=Math[_0x5455d5(0xd8)](_0x407554/_0x19b6fe[_0x5455d5(0x1ef)]*0x64);loading[_0x5455d5(0x1b4)]!=0x64&&(_0x3312a2>0x1e*0x5&&(loading[_0x5455d5(0x1f3)]=!![],emitLoadingProgress()),_0x3312a2>0x78*0x5&&!_0x2579ed&&(loading[_0x5455d5(0x1eb)]=!![],emitLoadingProgress(),_0x2579ed=!![],logHistory(_0x5455d5(0x137),_0x5455d5(0x1fc)+loading[_0x5455d5(0x112)][_0x5455d5(0x17b)](',\x20')+_0x5455d5(0xa1)),logHistory(_0x5455d5(0x137),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x5455d5(0xc6)),pidCoinReloading=setTimeout(()=>{const _0x1c1e3b=_0x5455d5;process[_0x1c1e3b(0x153)]({'stop':'restart'},_0x57362d=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x407554!=_0x10c5af&&(_0x10c5af=_0x407554,emitLoadingProgress()),_0x3312a2++,await sleep(0xc8);}_0x407554==_0x19b6fe[_0x5455d5(0x1ef)]&&(coinsLoaded=!![],process[_0x5455d5(0x153)]({'status':_0x5455d5(0xf7),'live':_0x5455d5(0x8a)},_0x1953d3=>{}),_0x2579ed&&logHistory(_0x5455d5(0x85),_0x5455d5(0xe0)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x5db4bf=_0x115f29;proxyEmit(_0x5db4bf(0x19f),{...emittedConfiguration(),'configstate':_0x5db4bf(0x19e)});}function emitLoadingProgress(){const _0x1c24f3=_0x115f29;proxyEmit(_0x1c24f3(0xf9),loading);}async function getFiat(){const _0x445d4c=_0x115f29;let _0x4d1cd7=global[_0x445d4c(0x84)][stablecoins[_0x445d4c(0x1ca)][_0x445d4c(0x1e3)]],_0x20aa2e=global[_0x445d4c(0x84)][stablecoins[_0x445d4c(0x1d2)][_0x445d4c(0x1e3)]];return{'eur':Number(_0x4d1cd7),'usd':Number(_0x20aa2e)};}function capitalize(_0x1000fd){return _0x1000fd['substring'](0x0,0x1)['toUpperCase']()+_0x1000fd['substring'](0x1);}function supportedExchanges(){const _0x1ed5fc=_0x115f29,_0x1245a0=['ws','fetchTickers',_0x1ed5fc(0x146),'watchTrades',_0x1ed5fc(0xe6),_0x1ed5fc(0x1ee),_0x1ed5fc(0x15c),_0x1ed5fc(0x11a),'fetchClosedOrders','fetchBalance'];let _0x2486e6=[],_0x30c13e=[],_0x3933bd=ccxt['exchanges'];_0x3933bd[_0x1ed5fc(0x152)](_0x228b47=>{const _0x10c436=_0x1ed5fc;try{const _0x3c719d=new ccxt[_0x228b47]();if(_0x3c719d[_0x10c436(0xb0)]['ws'])_0x30c13e[_0x10c436(0x194)](_0x3c719d);}catch(_0x46a2d0){}}),_0x30c13e[_0x1ed5fc(0x152)](_0x50b35a=>{const _0x2ee278=_0x1ed5fc;let _0x1ac168=0x0;_0x1245a0['forEach'](_0x1d54a6=>{const _0x329a56=_0x4578;_0x1d54a6 in _0x50b35a[_0x329a56(0xb0)]&&_0x50b35a[_0x329a56(0xb0)][_0x1d54a6]&&_0x1ac168++;}),_0x1ac168==_0x1245a0[_0x2ee278(0x1ef)]&&_0x2486e6[_0x2ee278(0x194)](capitalize(_0x50b35a['id']));});let _0x52a9f3=[];return _0x3933bd[_0x1ed5fc(0x152)](_0x31f4fe=>{_0x31f4fe=capitalize(_0x31f4fe);if(!_0x2486e6['includes'](_0x31f4fe))_0x52a9f3['push'](_0x31f4fe);}),_0x2486e6;}function setStartDatePerformance(){const _0x13ad08=_0x115f29;if(config&&config['liquidity'][0x0][_0x13ad08(0x1d0)][_0x13ad08(0x1ef)]!=0x0){const _0x5189c0=config[_0x13ad08(0x1c8)][0x0][_0x13ad08(0x1d0)];dbPerformance[_0x13ad08(0x199)](_0x13ad08(0x1a6))[_0x13ad08(0x15e)]({'date':config[_0x13ad08(0xc0)]})[_0x13ad08(0x132)]({'coins':_0x5189c0})[_0x13ad08(0x1cd)]();}}async function recreateCoinResults(){const _0x359ace=_0x115f29;let _0x82feb2,_0x1a2264=[];try{const _0x57e66d=fns[_0x359ace(0x8f)](fns['parseISO'](config[_0x359ace(0xc0)][_0x359ace(0xaa)](/\//g,'-')),_0x359ace(0x1ad));for(const _0x449fbe of currentCoins){if(_0x449fbe[_0x359ace(0x1e3)]!=config[_0x359ace(0x1fa)]){let _0x217385=0x0,_0x345591,_0x1bb2a9;_0x82feb2=await getAllEventOrders(_0x449fbe[_0x359ace(0x140)]);if(_0x82feb2[_0x359ace(0x1ef)]>0x0)_0x82feb2['forEach'](_0x5be3c0=>{const _0x264ca5=_0x359ace,_0x44f251=_0x449fbe[_0x264ca5(0x140)]['includes'](config[_0x264ca5(0x1fa)]+'/');_0x1a2264[_0x264ca5(0x194)]({'datetime':_0x5be3c0[_0x264ca5(0x17f)],'coin':_0x449fbe[_0x264ca5(0x1e3)],'symbol':_0x449fbe[_0x264ca5(0x140)],'side':_0x5be3c0[_0x264ca5(0x1b0)],'reverse':_0x44f251,'amount':formatResult(_0x5be3c0[_0x264ca5(0x94)],0x8),'filled':formatResult(_0x5be3c0[_0x264ca5(0x94)],0x8),'price':formatResult(_0x5be3c0[_0x264ca5(0xa7)],0x8)}),_0x217385=_0x5be3c0[_0x264ca5(0x1b0)]==_0x264ca5(0x1ff)?_0x217385+_0x5be3c0[_0x264ca5(0x94)]:_0x217385-_0x5be3c0[_0x264ca5(0x94)];if(!_0x1bb2a9)_0x1bb2a9=_0x5be3c0[_0x264ca5(0xa7)];});_0x345591=_0x449fbe['number']-_0x217385;let _0x29e24d;config[_0x359ace(0x1c8)][_0x359ace(0x152)](_0x1897c0=>{const _0x5b9edc=_0x359ace;!_0x29e24d&&(_0x29e24d=_0x1897c0[_0x5b9edc(0x1d0)][_0x5b9edc(0x15e)](_0x35a9e7=>_0x35a9e7['coin']==_0x449fbe[_0x5b9edc(0x1e3)]),_0x29e24d&&(_0x345591=_0x29e24d[_0x5b9edc(0x12d)],_0x1bb2a9=_0x29e24d[_0x5b9edc(0xa7)]));});let _0x346ac0=dbCoinResults['get'](_0x359ace(0x17e))[_0x359ace(0x15e)]({'coin':_0x449fbe[_0x359ace(0x1e3)]})[_0x359ace(0x105)]();_0x346ac0={'coin':_0x449fbe['coin'],'number':_0x345591,'breakeven':_0x1bb2a9,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x359ace(0x199)]('coins')[_0x359ace(0x15e)]({'coin':_0x449fbe[_0x359ace(0x1e3)]})['assign'](_0x346ac0)[_0x359ace(0x1cd)]();}}_0x1a2264[_0x359ace(0x104)]((_0x112bef,_0x1b296d)=>_0x112bef[_0x359ace(0x17f)]>_0x1b296d[_0x359ace(0x17f)]?0x1:_0x1b296d['datetime']>_0x112bef[_0x359ace(0x17f)]?-0x1:0x0);let _0x2f86d7=0x0;for(let _0x5d293a of _0x1a2264){await updateCoinResults(_0x5d293a,!![]);}}catch(_0x4a645c){await handleError(_0x4a645c,'recreateCoinResults()');}}async function getAllEventOrders(_0x49ac0e){const _0xc4aa98=_0x115f29;let _0x17be3b=[],_0x35ce26=dbLogs[_0xc4aa98(0x199)]('logs')['filter'](_0x183af6=>{const _0x33bfcd=_0xc4aa98,_0x40830c=_0x183af6[_0x33bfcd(0x16a)][_0x33bfcd(0x124)]();return _0x40830c[_0x33bfcd(0x156)](_0x49ac0e[_0x33bfcd(0x124)]())&&(_0x40830c[_0x33bfcd(0x156)](_0x33bfcd(0x14f))&&_0x40830c['includes'](_0x33bfcd(0x147))||_0x40830c['includes'](_0x33bfcd(0x94))&&_0x40830c[_0x33bfcd(0x156)](_0x33bfcd(0x147)));})[_0xc4aa98(0x1d3)]('time')['value']();return _0x35ce26[_0xc4aa98(0x152)](_0x402e8c=>{const _0x48b201=_0xc4aa98,_0x59d52a=_0x402e8c['event'][_0x48b201(0x156)]('sell')?_0x48b201(0x107):_0x48b201(0x1ff),_0x134e68=/#([0-9]|\.)+\s/i,_0x2b8e36=Number(_0x134e68['exec'](_0x402e8c[_0x48b201(0x16a)])[0x0][_0x48b201(0xf4)](0x1)),_0x324da0=/@([0-9]|\.)+$/i,_0x4ebebc=Number(_0x324da0[_0x48b201(0xbd)](_0x402e8c[_0x48b201(0x16a)])[0x0][_0x48b201(0xf4)](0x1));_0x17be3b[_0x48b201(0x194)]({'datetime':_0x402e8c[_0x48b201(0x178)],'coin':symbolToCoin(_0x49ac0e),'symbol':_0x49ac0e,'side':_0x59d52a,'amount':_0x2b8e36,'filled':_0x2b8e36,'price':_0x4ebebc});}),_0x17be3b;}async function getAllOrders(_0x19abdd,_0x5620c0){const _0xbb56b8=_0x115f29;let _0x5347cc=[];while(_0x5620c0<exchange[_0xbb56b8(0x16e)]()){const _0x47ca9a=0x1f4,_0x107af8=await exchange[_0xbb56b8(0x1b5)](_0x19abdd,_0x5620c0,_0x47ca9a);if(_0x107af8['length'])_0x5620c0=_0x107af8[_0x107af8[_0xbb56b8(0x1ef)]-0x1]['timestamp']+0x1,_0x5347cc=_0x5347cc[_0xbb56b8(0x1fb)](_0x107af8);else break;}return _0x5347cc;}async function validate24hChanges(){const _0x3784c4=_0x115f29;for(const _0x2299e3 of currentCoins){if(_0x2299e3[_0x3784c4(0x1e3)]!=config['basecoin']){let _0x27c835;_0x2299e3[_0x3784c4(0x200)]?_0x27c835=formatResult((0x1/(global['change'][noslash(_0x2299e3[_0x3784c4(0x140)])]/0x64+0x1)-0x1)*0x64,0x3):_0x27c835=global[_0x3784c4(0x1a1)][noslash(_0x2299e3['symbol'])],_0x27c835<config[_0x3784c4(0x1c5)]&&(logHistory('error',_0x2299e3[_0x3784c4(0x1e3)]+_0x3784c4(0x168)+_0x27c835+'%'),logHistory(_0x3784c4(0x137),_0x3784c4(0x136)),logHistory('error',_0x3784c4(0x160)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x2dad02,_0x3f2a5b){const _0x159d32=_0x115f29;if(!_0x2dad02)return!![];const _0x5a5ab5=_0x3f2a5b[_0x159d32(0x1f6)]('.'),_0x4b39f7=_0x2dad02[_0x159d32(0x1f6)]('.');for(var _0x3c0fbb=0x0;_0x3c0fbb<_0x4b39f7[_0x159d32(0x1ef)];_0x3c0fbb++){const _0x1b4123=~~_0x4b39f7[_0x3c0fbb],_0x4d7ae7=~~_0x5a5ab5[_0x3c0fbb];if(_0x1b4123<_0x4d7ae7)return!![];if(_0x1b4123>_0x4d7ae7)return![];}return![];}async function oneTimeMigration(){const _0x4c0d84=_0x115f29;let _0xd7631a=dbLogs[_0x4c0d84(0x199)]('version')[_0x4c0d84(0x105)]();if(isOlderVersion(_0xd7631a,'2.3.5')){let _0x4c8ad0=[];const _0x368e87=dbLogs['get']('logs')['value']();_0x368e87[_0x4c0d84(0x152)](_0xe62824=>{const _0x246afa=_0x4c0d84;_0x4c8ad0[_0x246afa(0x194)]({'time':_0xe62824[_0x246afa(0x178)],'type':_0xe62824['type'],'event':_0xe62824[_0x246afa(0x16a)]});}),dbLogs[_0x4c0d84(0x199)](_0x4c0d84(0x1bd))[_0x4c0d84(0x132)](_0x4c8ad0)['write']();}let _0x1c09fc=dbConfig[_0x4c0d84(0x199)](_0x4c0d84(0x198))[_0x4c0d84(0x105)]();if(isOlderVersion(_0x1c09fc,_0x4c0d84(0x185))){let _0x58c921=dbConfig[_0x4c0d84(0x199)](_0x4c0d84(0x123))[_0x4c0d84(0x15e)]({'botID':botID})[_0x4c0d84(0x105)]();if(_0x58c921){let _0xe006c6=[];_0x58c921['portfolio'][_0x4c0d84(0x152)](_0x1cbed8=>{const _0x2805e2=_0x4c0d84;_0xe006c6[_0x2805e2(0x194)]({'coin':_0x1cbed8['coin'],'number':_0x1cbed8['startnumber'],'price':_0x1cbed8[_0x2805e2(0x177)]}),delete _0x1cbed8[_0x2805e2(0x1f8)],delete _0x1cbed8[_0x2805e2(0x177)];});if(_0xe006c6['length']!==0x0)fs[_0x4c0d84(0x1c9)](configbackuppath+(_0x4c0d84(0x11b)+botID+_0x4c0d84(0x12e)),JSON['stringify'](_0xe006c6,null,0x4),function(_0x5759af){if(_0x5759af){}});const _0x53be2c=(_0x23c7b1,_0x3d153a)=>{const _0x3c094f=_0x4c0d84;let _0x3e422e=[];_0x3d153a[_0x3c094f(0x152)](_0x233f2f=>{const _0x889248=_0x3c094f,_0x41c976=_0x23c7b1[_0x889248(0x15e)](_0x3dbb8e=>_0x3dbb8e['coin']==_0x233f2f[_0x889248(0x1e3)]);if(!_0x41c976)_0x3e422e[_0x889248(0x194)](_0x233f2f);});let _0x3c501a=[];return _0x23c7b1[_0x3c094f(0x152)](_0x19f2d4=>{const _0x902825=_0x3c094f,_0x5e4dd8=_0x3d153a[_0x902825(0x15e)](_0x4167b1=>_0x4167b1['coin']==_0x19f2d4['coin']);if(!_0x5e4dd8||_0x5e4dd8[_0x902825(0x12d)]==0x0&&_0x19f2d4['number']!=0x0)_0x3c501a['push'](_0x19f2d4);}),{'missingDay1':_0x3e422e,'notInDay2':_0x3c501a};},_0x2e58d1=dbPerformance[_0x4c0d84(0x199)](_0x4c0d84(0x1a6))['cloneDeep']()[_0x4c0d84(0x105)]();if(_0x2e58d1[_0x4c0d84(0x1ef)]>0x1){const {missingDay1:_0x3ac148,notInDay2:_0x4e15e3}=_0x53be2c(_0xe006c6,_0x2e58d1[0x1][_0x4c0d84(0x17e)]);_0xe006c6=[..._0xe006c6,..._0x3ac148],_0x4e15e3[_0x4c0d84(0x152)](_0x431247=>{const _0x181cf6=_0x4c0d84;let _0x52da57=_0xe006c6['findIndex'](_0x2a7583=>_0x2a7583[_0x181cf6(0x1e3)]==_0x431247[_0x181cf6(0x1e3)]);_0x52da57!=-0x1&&_0xe006c6['splice'](_0x52da57,0x1);});}_0xe006c6[_0x4c0d84(0x104)]((_0x4c821d,_0xac63fa)=>_0x4c821d[_0x4c0d84(0x1e3)]>_0xac63fa[_0x4c0d84(0x1e3)]?0x1:_0xac63fa[_0x4c0d84(0x1e3)]>_0x4c821d[_0x4c0d84(0x1e3)]?-0x1:0x0);let _0x144aa4=[{'date':_0x58c921['startdate'],'changes':_0xe006c6}];_0x2e58d1['length']>0x2&&_0x2e58d1[_0x4c0d84(0x152)]((_0x47da0b,_0x3dbff7)=>{const _0x16384e=_0x4c0d84;if(_0x3dbff7>0x0&&_0x3dbff7<_0x2e58d1[_0x16384e(0x1ef)]-0x1){const {missingDay1:_0x31191c,notInDay2:_0x44be70}=_0x53be2c(_0x2e58d1[_0x3dbff7][_0x16384e(0x17e)],_0x2e58d1[_0x3dbff7+0x1][_0x16384e(0x17e)]);_0xe006c6=[],(_0x31191c[_0x16384e(0x1ef)]!=0x0||_0x44be70[_0x16384e(0x1ef)]!=0x0)&&(_0x31191c[_0x16384e(0x1ef)]!=0x0&&_0xe006c6['push'](..._0x31191c),_0x44be70[_0x16384e(0x1ef)]!=0x0&&(_0x44be70['forEach'](_0x541b8e=>{_0x541b8e['number']=-_0x541b8e['number'];}),_0xe006c6[_0x16384e(0x194)](..._0x44be70)),_0xe006c6[_0x16384e(0x104)]((_0x41c2d0,_0x248a28)=>_0x41c2d0[_0x16384e(0x1e3)]>_0x248a28[_0x16384e(0x1e3)]?0x1:_0x248a28[_0x16384e(0x1e3)]>_0x41c2d0[_0x16384e(0x1e3)]?-0x1:0x0),_0x144aa4[_0x16384e(0x194)]({'date':_0x2e58d1[_0x3dbff7+0x1][_0x16384e(0xc2)],'changes':_0xe006c6}));}}),dbConfig[_0x4c0d84(0x199)](_0x4c0d84(0x123))['find']({'botID':botID})['assign']({..._0x58c921,'liquidity':_0x144aa4})[_0x4c0d84(0x1cd)]();}}if(isOlderVersion(_0x1c09fc,_0x4c0d84(0x1a3))){let _0x3d142d=dbConfig[_0x4c0d84(0x199)](_0x4c0d84(0x123))['find']({'botID':botID})['value']();if(_0x3d142d){const _0x3d638a=_0x3d142d[_0x4c0d84(0xae)],_0x29cd47=_0x3d638a?capitalize(_0x3d638a):_0x4c0d84(0x191);dbConfig[_0x4c0d84(0x199)](_0x4c0d84(0x123))[_0x4c0d84(0x15e)]({'botID':botID})['assign']({'exchange':_0x29cd47})[_0x4c0d84(0x1cd)]();}}let _0x5b3759=dbPerformance[_0x4c0d84(0x199)](_0x4c0d84(0x198))[_0x4c0d84(0x105)]();isOlderVersion(_0x5b3759,_0x4c0d84(0x185))&&setStartDatePerformance();let _0x5562b9=dbCoinResults[_0x4c0d84(0x199)](_0x4c0d84(0x198))['value']();if(isOlderVersion(_0x5562b9,'2.5.0')){let _0xb8805d=dbCoinResults['get']('coins')[_0x4c0d84(0x105)]();if(_0xb8805d[_0x4c0d84(0x1ef)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x3699bb=_0x115f29;dbConfig[_0x3699bb(0x106)]('version',serverversion)[_0x3699bb(0x1cd)](),dbPerformance[_0x3699bb(0x106)](_0x3699bb(0x198),serverversion)[_0x3699bb(0x1cd)](),dbLogs[_0x3699bb(0x106)]('version',serverversion)[_0x3699bb(0x1cd)](),dbCoinResults[_0x3699bb(0x106)]('version',serverversion)[_0x3699bb(0x1cd)]();}function getConfiguration(_0x4df1b8){const _0x27c670=_0x115f29;let _0x1fd4cd=dbConfig[_0x27c670(0x199)](_0x27c670(0x123))['find']({'botID':_0x4df1b8})[_0x27c670(0x105)]();if(_0x1fd4cd){let _0x4097f4=![];typeof _0x1fd4cd['threshold']==_0x27c670(0x1b1)&&(_0x1fd4cd={..._0x1fd4cd,'threshold':Number(_0x1fd4cd[_0x27c670(0x91)])},_0x4097f4=!![]),_0x1fd4cd[_0x27c670(0x1c5)]==null&&(_0x1fd4cd={..._0x1fd4cd,'change24h':-0x14},_0x4097f4=!![]),!_0x1fd4cd['fiat']&&(_0x1fd4cd={..._0x1fd4cd,'fiat':'USD'},_0x4097f4=!![]),!_0x1fd4cd['onepagemode']&&(_0x1fd4cd={..._0x1fd4cd,'onepagemode':settings[_0x27c670(0xb4)]},_0x4097f4=!![]),!_0x1fd4cd['colorscheme']&&(_0x1fd4cd={..._0x1fd4cd,'colorscheme':'red_yellow_blue'},_0x4097f4=!![]),!_0x1fd4cd[_0x27c670(0xeb)]&&(_0x1fd4cd={..._0x1fd4cd,'autoliquidity':!![]},_0x4097f4=!![]),_0x4097f4&&(_0x1fd4cd={'botID':_0x1fd4cd['botID'],'exchange':_0x1fd4cd[_0x27c670(0xae)],'apiKey':_0x1fd4cd[_0x27c670(0xc9)],'apiSecret':_0x1fd4cd[_0x27c670(0xdb)],'apiPassword':_0x1fd4cd[_0x27c670(0x1fe)],'basecoin':_0x1fd4cd[_0x27c670(0x1fa)],'botname':_0x1fd4cd['botname'],'showname':_0x1fd4cd[_0x27c670(0x18d)],'threshold':_0x1fd4cd['threshold'],'ordertype':_0x1fd4cd[_0x27c670(0xee)],'timeout':_0x1fd4cd['timeout'],'fiat':_0x1fd4cd[_0x27c670(0x11c)],'startdate':_0x1fd4cd['startdate'],'recreate':_0x1fd4cd[_0x27c670(0xd5)],'timeshift':_0x1fd4cd['timeshift'],'onepagemode':_0x1fd4cd[_0x27c670(0xb4)],'headless':_0x1fd4cd[_0x27c670(0x169)],'cooldown':_0x1fd4cd[_0x27c670(0x129)],'change24h':_0x1fd4cd[_0x27c670(0x1c5)],'emojibuy':_0x1fd4cd[_0x27c670(0x170)],'emojisell':_0x1fd4cd[_0x27c670(0x1ce)],'colorscheme':_0x1fd4cd['colorscheme'],'portfolio':_0x1fd4cd[_0x27c670(0x142)],'autoliquidity':_0x1fd4cd['autoliquidity'],'liquidity':_0x1fd4cd['liquidity'],'openOrders':_0x1fd4cd[_0x27c670(0x131)]},dbConfig[_0x27c670(0x199)]('bot')[_0x27c670(0xa9)]()[_0x27c670(0x1cd)](),dbConfig[_0x27c670(0x199)](_0x27c670(0x123))[_0x27c670(0x194)](_0x1fd4cd)['write']());}else _0x1fd4cd={'botID':_0x4df1b8,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x27c670(0xfb)+_0x4df1b8,'showname':![],'threshold':0x3,'ordertype':_0x27c670(0x14f),'timeout':0x14,'fiat':_0x27c670(0x1b2),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1fd4cd;}function emittedConfiguration(){const _0x370c15=_0x115f29;let _0x5335c4;if(config[_0x370c15(0xc9)]=='')_0x5335c4={...config,'configstate':_0x370c15(0xfa)};else config[_0x370c15(0xc9)]==_0x370c15(0xbf)?_0x5335c4={...config,'configstate':'recovery'}:(_0x5335c4={...config,'apiKey':_0x370c15(0x184),'apiSecret':_0x370c15(0x184)},config[_0x370c15(0x1fe)]&&(_0x5335c4[_0x370c15(0x1fe)]=_0x370c15(0x184)));return _0x5335c4;}function getSettings(){const _0x2b1bf5=_0x115f29;return dbSettings[_0x2b1bf5(0x199)](_0x2b1bf5(0xa2))[_0x2b1bf5(0x105)]();}function getSecure(){const _0x6ad7d8=_0x115f29;return dbSecure[_0x6ad7d8(0x199)](_0x6ad7d8(0x1ae))['value']()||{};}function updateTimeshift(_0x36ae7a){const _0x30ded5=_0x115f29;let _0x27ed88=dbConfig[_0x30ded5(0x199)](_0x30ded5(0x123))[_0x30ded5(0x15e)]({'botID':botID})[_0x30ded5(0x105)]();_0x27ed88&&dbConfig[_0x30ded5(0x199)](_0x30ded5(0x123))[_0x30ded5(0x15e)]({'botID':botID})['assign']({'timeshift':_0x36ae7a})[_0x30ded5(0x1cd)](),config[_0x30ded5(0x10a)]=_0x36ae7a,proxyEmit(_0x30ded5(0x19f),emittedConfiguration());}function updateOnepagemode(_0x46ada6){const _0x5b8411=_0x115f29;let _0x4a3257=dbConfig[_0x5b8411(0x199)](_0x5b8411(0x123))['find']({'botID':botID})[_0x5b8411(0x105)]();_0x4a3257&&dbConfig['get'](_0x5b8411(0x123))['find']({'botID':botID})[_0x5b8411(0x132)]({'onepagemode':_0x46ada6})[_0x5b8411(0x1cd)](),config[_0x5b8411(0xb4)]=_0x46ada6,proxyEmit(_0x5b8411(0x19f),emittedConfiguration());}async function storeConfiguration(_0x41e2bd){const _0x5abf0b=_0x115f29;logger[_0x5abf0b(0x1cc)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x5abf0b(0x1cc)](_0x5abf0b(0x1f2));let _0x106e13=[],_0x20e38d=![],_0x24a872=![],_0x4eab01=[];_0x41e2bd['portfolio'][_0x5abf0b(0x152)](_0x26737a=>{const _0x22705d=_0x5abf0b;if(!_0x26737a[_0x22705d(0x121)]&&_0x26737a[_0x22705d(0x1e3)]!=_0x41e2bd['basecoin'])_0x4eab01['push'](_0x26737a[_0x22705d(0x140)]);}),_0x4eab01[_0x5abf0b(0x152)](_0x3ca0b5=>{const _0x4b8140=_0x5abf0b,_0x14e0ed=watchedSymbols[_0x4b8140(0x156)](_0x3ca0b5);!_0x14e0ed&&_0x106e13[_0x4b8140(0x194)](_0x3ca0b5);}),_0x4eab01[_0x5abf0b(0x152)](_0xe9090=>{const _0x151cf5=_0x5abf0b,_0x4f35a2=currentCoins[_0x151cf5(0x15e)](_0x3637e2=>_0x3637e2[_0x151cf5(0x140)]==_0xe9090);!_0x4f35a2&&(_0x20e38d=!![]);}),currentCoins[_0x5abf0b(0x152)](_0x22b219=>{const _0x5a0635=_0x5abf0b;if(_0x22b219['coin']!=config[_0x5a0635(0x1fa)]){const _0x195a49=_0x4eab01[_0x5a0635(0x15e)](_0xf88533=>_0xf88533==_0x22b219[_0x5a0635(0x140)]);!_0x195a49&&(_0x20e38d=!![]);}}),_0x41e2bd[_0x5abf0b(0x142)][_0x5abf0b(0x152)](_0x4b2020=>{const _0x393b51=_0x5abf0b,_0x150382=config[_0x393b51(0x142)]['find'](_0x4a12b0=>_0x4a12b0[_0x393b51(0x1e3)]==_0x4b2020[_0x393b51(0x1e3)]);if(_0x150382&&_0x4b2020[_0x393b51(0xe3)]!=_0x150382[_0x393b51(0xe3)])_0x24a872=!![];});let _0x509b5c=dbConfig[_0x5abf0b(0x199)]('bot')[_0x5abf0b(0x15e)]({'botID':botID})[_0x5abf0b(0x105)]();_0x41e2bd={..._0x41e2bd,'apiKey':crypt[_0x5abf0b(0xc4)](secure[_0x5abf0b(0x186)],_0x41e2bd[_0x5abf0b(0xc9)])['message'],'apiSecret':crypt[_0x5abf0b(0xc4)](secure['privateKey'],_0x41e2bd['apiSecret'])[_0x5abf0b(0x172)]};_0x41e2bd[_0x5abf0b(0x1fe)]&&(_0x41e2bd[_0x5abf0b(0x1fe)]=crypt[_0x5abf0b(0xc4)](secure[_0x5abf0b(0x186)],_0x41e2bd['apiPassword'])['message']);let _0x19b3b0=![];if(_0x509b5c){_0x41e2bd[_0x5abf0b(0xc9)]==_0x5abf0b(0x184)?_0x41e2bd[_0x5abf0b(0xc9)]=config['apiKey']:_0x19b3b0=!![];_0x41e2bd['apiSecret']=='************'?_0x41e2bd[_0x5abf0b(0xdb)]=config['apiSecret']:_0x19b3b0=!![];if(_0x41e2bd['apiPassword']==_0x5abf0b(0x184))_0x41e2bd[_0x5abf0b(0x1fe)]=config[_0x5abf0b(0x1fe)];else{if(_0x41e2bd[_0x5abf0b(0x1fe)])_0x19b3b0=!![];}dbConfig[_0x5abf0b(0x199)](_0x5abf0b(0x123))[_0x5abf0b(0x15e)]({'botID':botID})['assign'](_0x41e2bd)[_0x5abf0b(0x1cd)]();}else dbConfig['get'](_0x5abf0b(0x123))[_0x5abf0b(0x194)](_0x41e2bd)['write'](),_0x19b3b0=!![],process[_0x5abf0b(0x153)]({'status':_0x5abf0b(0xf7),'live':_0x5abf0b(0x8a)},_0x486843=>{});process[_0x5abf0b(0x153)]({'botname':_0x41e2bd[_0x5abf0b(0x92)]},_0x547f97=>{}),updateBotManager(),config={..._0x41e2bd},proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x19b3b0)await reset(_0x106e13,!![]);else _0x20e38d||_0x24a872?await reset(_0x106e13,![]):getBalances();blockTransactionDetection=![],logger[_0x5abf0b(0x1cc)](_0x5abf0b(0x1d7));}async function storeHeadless(_0x500213){const _0x111f0f=_0x115f29,_0xac1935={...config,'headless':_0x500213[_0x111f0f(0x169)]};let _0x38d8b1=dbConfig['get'](_0x111f0f(0x123))[_0x111f0f(0x15e)]({'botID':botID})[_0x111f0f(0x105)]();_0x38d8b1&&dbConfig[_0x111f0f(0x199)]('bot')[_0x111f0f(0x15e)]({'botID':botID})[_0x111f0f(0x132)](_0xac1935)['write'](),config={..._0xac1935},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x42f2cf){const _0x26d25d=_0x115f29,_0x2a56b1={...config,'fiat':_0x42f2cf};let _0x46c97e=dbConfig['get']('bot')[_0x26d25d(0x15e)]({'botID':botID})[_0x26d25d(0x105)]();_0x46c97e&&dbConfig[_0x26d25d(0x199)]('bot')[_0x26d25d(0x15e)]({'botID':botID})[_0x26d25d(0x132)](_0x2a56b1)[_0x26d25d(0x1cd)](),config={..._0x2a56b1},proxyEmit(_0x26d25d(0x19f),emittedConfiguration());}function resetHistory(){const _0x2d4dc1=_0x115f29;logger['full'](_0x2d4dc1(0xd3));try{if(fs[_0x2d4dc1(0xc1)](path['join'](configpath,_0x2d4dc1(0x14c)+botID+_0x2d4dc1(0xd1))))fs[_0x2d4dc1(0x187)](path[_0x2d4dc1(0x17b)](configpath,_0x2d4dc1(0x14c)+botID+_0x2d4dc1(0xd1)));if(fs[_0x2d4dc1(0xc1)](path['join'](configpath,_0x2d4dc1(0x14c)+botID+_0x2d4dc1(0xe2))))fs['unlinkSync'](path['join'](configpath,'bot-'+botID+'-performance.json'));if(fs[_0x2d4dc1(0xc1)](path[_0x2d4dc1(0x17b)](configpath,_0x2d4dc1(0x14c)+botID+_0x2d4dc1(0x127))))fs[_0x2d4dc1(0x187)](path[_0x2d4dc1(0x17b)](configpath,'bot-'+botID+'-results.json'));}catch(_0x57e9b5){if(_0x57e9b5)logger[_0x2d4dc1(0xca)](_0x2d4dc1(0x1f0),_0x57e9b5);}const _0x185f39=getDate();let _0xdfce20=[];currentCoins[_0x2d4dc1(0x152)](_0x305f7b=>{const _0x2c930d=_0x2d4dc1;_0xdfce20[_0x2c930d(0x194)]({'coin':_0x305f7b[_0x2c930d(0x1e3)],'number':_0x305f7b['number'],'price':_0x305f7b['last']});});let _0x30a3d8=dbConfig['get'](_0x2d4dc1(0x123))['find']({'botID':botID})[_0x2d4dc1(0x105)]();_0x30a3d8&&(dbConfig[_0x2d4dc1(0x199)](_0x2d4dc1(0x123))[_0x2d4dc1(0x15e)]({'botID':botID})['assign']({'liquidity':[{'date':_0x185f39,'changes':_0xdfce20}]})[_0x2d4dc1(0x1cd)](),config[_0x2d4dc1(0x1c8)]=[]),process[_0x2d4dc1(0x153)]({'stop':_0x2d4dc1(0x1dc)},_0x1beddd=>{});}function noslash(_0x1c576e){return _0x1c576e['replace']('/','');}function updateHighestFee(_0x3d13fa,_0x5eb6ec){const _0x5aed80=_0x115f29;lastFees[_0x5aed80(0xcc)]=_0x3d13fa,lastFees[_0x5aed80(0x17c)]['length']===0x14&&lastFees['recent20'][_0x5aed80(0x154)](),lastFees[_0x5aed80(0x17c)][_0x5aed80(0x194)](_0x5eb6ec),lastFees[_0x5aed80(0x1a8)]=Math[_0x5aed80(0xd4)](...lastFees[_0x5aed80(0x17c)]);}async function updateNumberCoinsCcxt(_0xa6767b){const _0x323261=_0x115f29;logger[_0x323261(0x1cc)](_0x323261(0x1f1)+_0xa6767b[_0x323261(0x140)]+'\x20|\x20'+_0xa6767b[_0x323261(0x1c6)]+_0x323261(0x1ec)+_0xa6767b['id']+_0x323261(0x1ec)+_0xa6767b[_0x323261(0xdc)]);let _0x3c1650=_0xa6767b[_0x323261(0x1c6)],_0x3f1002=![];currentCoins[_0x323261(0x152)](_0x3a0209=>{const _0x5bece9=_0x323261;_0x3a0209['symbol']==_0xa6767b[_0x5bece9(0x140)]&&(_0x3f1002=!![]);});if(!_0x3f1002)return;const _0x575408=currentCoins[_0x323261(0x15e)](_0x2ead78=>_0x2ead78['symbol']==_0xa6767b[_0x323261(0x140)]),_0x284a11=_0x3cbcac=>{const _0x35b3fa=_0x323261;if(_0x575408)_0x575408[_0x35b3fa(0x1b7)]=_0x3cbcac;};if(_0x3c1650=='open')_0x284a11(_0x323261(0x114));else{if(_0x3c1650==_0x323261(0x1e5)){_0x284a11(_0x323261(0x1e5));const _0x148475=await getCoins();[currentCoins,currentCoinsAll]=_0x148475,await getOpenOrders(),handleOpenOrders();}else{if(_0x3c1650==_0x323261(0x1c2)){logger['debug'](_0x323261(0xb2)+_0xa6767b[_0x323261(0x140)]+_0x323261(0x1ec)+_0xa6767b[_0x323261(0x94)]+_0x323261(0x1ec)+_0xa6767b['id']+_0x323261(0x1ec)+_0xa6767b['clientOrderId']);let _0xc118d=![];if(lastOrders)lastOrders[_0x323261(0x152)](async _0x71fd31=>{const _0x17d804=_0x323261;if(_0x71fd31[_0x17d804(0x96)]==_0xa6767b[_0x17d804(0xdc)][_0x17d804(0xcb)]()){logger[_0x17d804(0x1cc)](_0x17d804(0x17a)+_0xa6767b[_0x17d804(0xdc)]),_0xc118d=!![];if(_0x71fd31[_0x17d804(0x94)]==0x0){logger[_0x17d804(0x1cc)](_0x17d804(0x18e)+_0xa6767b[_0x17d804(0xdc)]);if(_0xa6767b['average'])_0x71fd31[_0x17d804(0xa7)]=_0xa6767b[_0x17d804(0x1e0)];else{if(_0xa6767b[_0x17d804(0xa7)])_0x71fd31['price']=_0xa6767b[_0x17d804(0xa7)];else{}}_0x71fd31[_0x17d804(0x94)]=_0xa6767b[_0x17d804(0x94)],_0x71fd31[_0x17d804(0xe5)]={'currency':_0xa6767b[_0x17d804(0xe5)]?_0xa6767b[_0x17d804(0xe5)][_0x17d804(0xcc)]:null,'cost':_0xa6767b[_0x17d804(0xe5)]?_0xa6767b[_0x17d804(0xe5)]['cost']:0x0},updateHighestFee(_0x71fd31[_0x17d804(0xe5)][_0x17d804(0xcc)],_0x71fd31['fee'][_0x17d804(0x148)]),_0x284a11('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x4666bc=await getCoins();[currentCoins,currentCoinsAll]=_0x4666bc;}await updateCoinResults(_0x71fd31);}}});if(!_0xc118d){logger[_0x323261(0x1cc)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0xa6767b['id']),_0x284a11('filled');const _0x2f55c1=await getCoins();[currentCoins,currentCoinsAll]=_0x2f55c1,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1b42ba=JSON[_0x323261(0xd9)](lastBalances[_0x323261(0x142)]);const _0x29e53e=_0x1b42ba[_0x323261(0x15e)](_0x1b3ee3=>_0x1b3ee3[_0x323261(0x140)]==_0xa6767b['symbol']);if(_0x29e53e){if(_0x3c1650==_0x323261(0x114))_0x29e53e[_0x323261(0x1b7)]=_0x29e53e[_0x323261(0x1b7)]==_0x323261(0x94)?'filled':_0x323261(0x114);else{if(_0x3c1650==_0x323261(0x1e5))_0x29e53e[_0x323261(0x1b7)]=_0x29e53e[_0x323261(0x1b7)]==_0x323261(0x94)?'filled':_0x323261(0x1e5);else _0x3c1650=='closed'&&(_0x29e53e[_0x323261(0x1b7)]=_0x323261(0x94));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x1b42ba)},proxyEmit(_0x323261(0xe1),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x3ee77c=_0x115f29;await getOpenOrders();let _0x46908f=![];currentCoins[_0x3ee77c(0x152)](_0x4b716d=>{const _0x43e71e=_0x3ee77c;_0x46908f=allOpenOrders[_0x43e71e(0x15e)](_0x36b616=>_0x36b616['symbol']==_0x4b716d[_0x43e71e(0x140)]),_0x4b716d[_0x43e71e(0x1b7)]=_0x46908f?'open':'none';});}async function getCoins(_0x3ffd8e=!![],_0x278d5c=config[_0x115f29(0x1fa)]){const _0x283340=_0x115f29;let _0x45323d,_0x556bc4=[],_0x3beeca=[],_0x4be130=[],_0x545ca9=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x45323d=await exchange['fetchBalance'](),mybalances=_0x45323d[_0x283340(0xab)];for(const [_0xe9910,_0x81c06b]of Object[_0x283340(0x175)](mybalances)){_0x545ca9[_0x283340(0x194)](_0xe9910);}if(_0x278d5c=='')for(const [_0x35d7ac,_0x46a07a]of Object[_0x283340(0x175)](mybalances)){_0x46a07a[_0x283340(0xcb)]()!=0x0&&_0x3beeca[_0x283340(0x194)]({'coin':_0x35d7ac});}else{let _0x27ddbe=![];for(const [_0x557fc1,_0x595541]of Object[_0x283340(0x175)](mybalances)){if(_0x545ca9['includes'](_0x557fc1)){const _0x597b51=config['portfolio'][_0x283340(0x15e)](_0x2bcfa2=>_0x2bcfa2[_0x283340(0x1e3)]==_0x557fc1),_0x3d7c5a=_0x557fc1+'/'+_0x278d5c,_0x353a68=_0x278d5c+'/'+_0x557fc1,_0x554591=currentCoins[_0x283340(0x15e)](_0x27be8e=>_0x27be8e['coin']==_0x557fc1);_0x27ddbe=![];if((_0x595541[_0x283340(0xcb)]()!=0x0||_0x597b51)&&(allSymbols[_0x283340(0x156)](_0x3d7c5a)||_0x557fc1==_0x278d5c))_0x557fc1!=_0x278d5c&&_0x556bc4[_0x283340(0x194)](_0x3d7c5a),_0x3beeca[_0x283340(0x194)]({'coin':_0x557fc1,'symbol':_0x3d7c5a,'reverse':![],'number':Math[_0x283340(0xd4)](_0x595541+(_0x597b51&&_0x597b51[_0x283340(0xe3)]||0x0),0x0),'orderstatus':_0x554591?_0x554591[_0x283340(0x1b7)]:'none'});else(_0x595541[_0x283340(0xcb)]()!=0x0||_0x597b51)&&allSymbols[_0x283340(0x156)](_0x353a68)&&(_0x557fc1!=_0x278d5c&&_0x556bc4[_0x283340(0x194)](_0x353a68),_0x3beeca['push']({'coin':_0x557fc1,'symbol':_0x353a68,'reverse':!![],'number':Math[_0x283340(0xd4)](_0x595541+(_0x597b51&&_0x597b51[_0x283340(0xe3)]||0x0),0x0),'orderstatus':_0x554591?_0x554591[_0x283340(0x1b7)]:'none'}));}}}}catch(_0x4b3461){if(!_0x3ffd8e)handleErrorNoStop(_0x4b3461,_0x283340(0x1f7));else await handleError(_0x4b3461,'getCoins()');}return _0x4be130=cloneDeep(_0x3beeca),_0x3beeca=_0x3beeca[_0x283340(0x8e)](_0x387e8e=>{const _0x453a89=_0x283340,_0x2069cc=config['portfolio'][_0x453a89(0x15e)](_0x823a13=>_0x823a13['coin']==_0x387e8e[_0x453a89(0x1e3)]);return _0x2069cc&&!_0x2069cc[_0x453a89(0x121)];}),[_0x3beeca,_0x4be130];}async function getCoinNumber(_0xf338a2){const _0x453735=_0x115f29;let _0x306e1f;try{const _0x51dabe=await exchange[_0x453735(0x12f)]();_0x306e1f=_0x51dabe['total'][_0xf338a2];}catch(_0x3d1d49){await handleError(_0x3d1d49,_0x453735(0x135));}return _0x306e1f;}async function getOpenOrders(){const _0x2699a9=_0x115f29;let _0x21cfa4;allOpenOrders=[];try{for(const _0x5f46ea of config['portfolio']){!_0x5f46ea['excluded']&&_0x5f46ea[_0x2699a9(0x1e3)]!=config[_0x2699a9(0x1fa)]&&(_0x21cfa4=await exchange[_0x2699a9(0x11a)](_0x5f46ea['symbol']),_0x21cfa4[_0x2699a9(0x1ef)]>0x0&&allOpenOrders[_0x2699a9(0x194)](_0x21cfa4[0x0]));}}catch(_0x1f60b8){await handleError(_0x1f60b8,'getOpenOrders()');}}async function handleOpenOrders(_0x383b1b=0x0){const _0x37adc8=_0x115f29;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x37adc8(0x155)]&&allOrdersPlaced&&(_0x383b1b==0x0?(logger[_0x37adc8(0x1cc)]('1\x20-\x20Handle\x20open\x20orders'),_0x383b1b++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x37adc8(0x1cc)](_0x37adc8(0xd0)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x961fe0){const _0x37293e=_0x115f29,_0x96bc24=ccxt[_0x961fe0['exchange']['toLowerCase']()],_0x5994a0=new _0x96bc24({'apiKey':_0x961fe0['apiKey'],'secret':_0x961fe0[_0x37293e(0xdb)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x961fe0[_0x37293e(0x1fe)])_0x5994a0[_0x37293e(0x16c)]=_0x961fe0[_0x37293e(0x1fe)];try{await _0x5994a0['loadMarkets']();}catch(_0x13d14f){throw _0x13d14f;}}function cloneDeep(_0x1cf9db){const _0x58920f=_0x115f29;return JSON[_0x58920f(0xd9)](JSON[_0x58920f(0x150)](_0x1cf9db));}async function getPortfolio(_0x45d82f){const _0x454f8b=_0x115f29;let _0x388a12=[],_0x6d440c=[],_0x2c254f=[],_0x2f2937;if(_0x45d82f[_0x454f8b(0xc9)]!=='************'||_0x45d82f[_0x454f8b(0xdb)]!==_0x454f8b(0x184)||_0x45d82f['apiPassword']&&_0x45d82f[_0x454f8b(0x1fe)]!==_0x454f8b(0x184)){if(config['exchange']){if(_0x45d82f[_0x454f8b(0xc9)]=='************')_0x45d82f['apiKey']=config['apiKey'];if(_0x45d82f[_0x454f8b(0xdb)]=='************')_0x45d82f[_0x454f8b(0xdb)]=config[_0x454f8b(0xdb)];if(_0x45d82f[_0x454f8b(0x1fe)]==_0x454f8b(0x184))_0x45d82f[_0x454f8b(0x1fe)]=config[_0x454f8b(0x1fe)];try{await testAPI(_0x45d82f);}catch(_0x232a39){if(_0x232a39['toString']()[_0x454f8b(0x156)](_0x454f8b(0x118))){logger[_0x454f8b(0x1cc)](_0x454f8b(0x158)),proxyEmit('portfolio',![]);return;}else{handleError(_0x232a39,_0x454f8b(0xce));return;}}}await initExchange(_0x45d82f[_0x454f8b(0xae)],_0x45d82f[_0x454f8b(0xc9)],_0x45d82f['apiSecret'],_0x45d82f[_0x454f8b(0x1fe)]);try{await loadSymbols(_0x45d82f[_0x454f8b(0xae)],!![]);}catch(_0x228e74){if(_0x228e74['toString']()[_0x454f8b(0x156)](_0x454f8b(0x118))){proxyEmit(_0x454f8b(0x142),![]);return;}else{handleError(_0x228e74,_0x454f8b(0x171));return;}}const _0x3033b3=await getCoins(![],_0x45d82f[_0x454f8b(0x1fa)]);_0x2c254f=cloneDeep(_0x3033b3[0x1]);}else _0x2c254f=cloneDeep(currentCoinsAll);if(_0x45d82f[_0x454f8b(0x1fa)]=='')proxyEmit(_0x454f8b(0x142),_0x2c254f);else{_0x2c254f[_0x454f8b(0x152)](_0x36692a=>{const _0x546a23=_0x454f8b;if(_0x36692a[_0x546a23(0x1e3)]!=_0x45d82f[_0x546a23(0x1fa)])_0x388a12[_0x546a23(0x194)](_0x36692a[_0x546a23(0x140)]);});try{_0x6d440c=await exchange['fetchTickers'](_0x388a12);}catch(_0x135908){if(_0x135908['toString']()['includes'](_0x454f8b(0x118))){proxyEmit('portfolio',![]);return;}else{handleError(_0x135908,_0x454f8b(0xe9));return;}}_0x2c254f[_0x454f8b(0x152)](_0xd0ca53=>{const _0xbc1d0c=_0x454f8b;_0xd0ca53['coin']!=_0x45d82f[_0xbc1d0c(0x1fa)]?_0x2f2937=_0xd0ca53[_0xbc1d0c(0x200)]?0x1/_0x6d440c[_0xd0ca53[_0xbc1d0c(0x140)]]['last']:_0x6d440c[_0xd0ca53[_0xbc1d0c(0x140)]][_0xbc1d0c(0x1cb)]:_0x2f2937=0x1,_0xd0ca53[_0xbc1d0c(0xa7)]=formatResult(_0x2f2937,0x8);}),proxyEmit('portfolio',_0x2c254f);}}function truncateTradeAmount(_0x1c6d6d,_0x2135eb){const _0x10cedf=_0x115f29;let _0x4b9c5c=0x0;try{_0x4b9c5c=exchange[_0x10cedf(0x1d5)](_0x1c6d6d,_0x2135eb);}catch(_0x461ff1){}return _0x4b9c5c;}function checkMinimums(_0x3cc594){const _0x12e49f=_0x115f29;let _0x47a5ad=!![];const _0x4b61f9=!_0x3cc594[_0x12e49f(0x200)]?markets[_0x3cc594[_0x12e49f(0x140)]][_0x12e49f(0x161)][_0x12e49f(0x13d)][_0x12e49f(0xf0)]:markets[_0x3cc594[_0x12e49f(0x140)]]['limits'][_0x12e49f(0x148)][_0x12e49f(0xf0)],_0x2465eb=!_0x3cc594['reverse']?markets[_0x3cc594[_0x12e49f(0x140)]][_0x12e49f(0x161)][_0x12e49f(0x148)][_0x12e49f(0xf0)]:markets[_0x3cc594[_0x12e49f(0x140)]]['limits'][_0x12e49f(0x13d)][_0x12e49f(0xf0)],_0x7acf7d=truncateTradeAmount(_0x3cc594[_0x12e49f(0x140)],_0x3cc594['trade']);_0x3cc594[_0x12e49f(0x201)]=_0x7acf7d;if(Math[_0x12e49f(0xda)](_0x7acf7d)<_0x4b61f9)_0x47a5ad=![];if(Math[_0x12e49f(0xda)](_0x7acf7d)*_0x3cc594['last']<_0x2465eb)_0x47a5ad=![];if(_0x3cc594['side']==_0x12e49f(0x107)){let _0x3f7b80=config[_0x12e49f(0x142)][_0x12e49f(0x15e)](_0xc15564=>_0xc15564[_0x12e49f(0x1e3)]==_0x3cc594[_0x12e49f(0x1e3)]);if(_0x3f7b80['offset']>0x0){if(Math[_0x12e49f(0xda)](_0x7acf7d)>_0x3cc594[_0x12e49f(0x12d)]-_0x3f7b80[_0x12e49f(0xe3)])_0x47a5ad=![];}else{if(Math[_0x12e49f(0xda)](_0x7acf7d)>_0x3cc594['number'])_0x47a5ad=![];}}if(_0x3cc594[_0x12e49f(0x1b0)]=='buy'){let _0x2299e1=config[_0x12e49f(0x142)][_0x12e49f(0x15e)](_0x2b745c=>_0x2b745c[_0x12e49f(0x1e3)]==config[_0x12e49f(0x1fa)]),_0x51fee9=currentCoins[_0x12e49f(0x15e)](_0x2db30b=>_0x2db30b[_0x12e49f(0x1e3)]==config[_0x12e49f(0x1fa)]);if(_0x2299e1[_0x12e49f(0xe3)]>0x0){if(Math[_0x12e49f(0xda)](_0x7acf7d)*_0x3cc594['last']>_0x51fee9[_0x12e49f(0x12d)]-_0x2299e1[_0x12e49f(0xe3)])_0x47a5ad=![];}else{if(Math[_0x12e49f(0xda)](_0x7acf7d)*_0x3cc594['last']>_0x51fee9[_0x12e49f(0x12d)])_0x47a5ad=![];}}return _0x47a5ad;}async function getBalances(_0x56a91b=!![]){const _0x1cb7cd=_0x115f29;let _0x32b46d=0x0,_0xf607f7;const _0x30a382=config[_0x1cb7cd(0x91)];if(config[_0x1cb7cd(0x169)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x1cb7cd(0x152)](_0x45948c=>{const _0x59540e=_0x1cb7cd;if(_0x45948c['coin']!=config[_0x59540e(0x1fa)]){let _0x2bf680=global[_0x59540e(0x84)][noslash(_0x45948c[_0x59540e(0x140)])];_0xf607f7=_0x45948c[_0x59540e(0x200)]?0x1/_0x2bf680:_0x2bf680;}else _0xf607f7=0x1;let _0x57bebc=_0x45948c[_0x59540e(0x12d)]*_0xf607f7;_0x32b46d+=_0x57bebc,_0x45948c['last']=formatResult(Number(_0xf607f7),0x8),_0x45948c[_0x59540e(0x105)]=_0x57bebc;}),currentCoins[_0x1cb7cd(0x152)](_0x3a2816=>{const _0x5b7213=_0x1cb7cd;let _0x5973cc=config[_0x5b7213(0x142)][_0x5b7213(0x15e)](_0x533e62=>_0x533e62[_0x5b7213(0x1e3)]==_0x3a2816[_0x5b7213(0x1e3)]),_0x2be59a=Number(_0x5973cc['distribution']),_0x4f34b6=_0x3a2816[_0x5b7213(0x105)]/_0x32b46d*0x64,_0x99a70f=_0x2be59a*_0x32b46d/0x64/_0x3a2816[_0x5b7213(0x1cb)]-_0x3a2816['number'];_0x3a2816[_0x5b7213(0x93)]=formatResult(_0x4f34b6,0x3),_0x3a2816[_0x5b7213(0x1dd)]=formatResult(_0x2be59a,0x3),_0x3a2816[_0x5b7213(0x201)]=formatResult(_0x99a70f,0x8),_0x3a2816[_0x5b7213(0x1b0)]='',_0x3a2816[_0x5b7213(0x141)]=![];if(_0x3a2816[_0x5b7213(0x1e3)]!=config['basecoin']){if(_0x3a2816[_0x5b7213(0x93)]>_0x2be59a)_0x3a2816['side']='sell',_0x3a2816['valid']=checkMinimums(_0x3a2816);else _0x3a2816[_0x5b7213(0x93)]<_0x2be59a&&(_0x3a2816['side']=_0x5b7213(0x1ff),_0x3a2816[_0x5b7213(0x141)]=checkMinimums(_0x3a2816));}_0x3a2816[_0x5b7213(0x1bf)]=_0x3a2816[_0x5b7213(0x93)]/_0x3a2816['target']-0x1;if(_0x3a2816[_0x5b7213(0x1b7)]==_0x5b7213(0x94)||_0x3a2816[_0x5b7213(0x1b7)]==_0x5b7213(0x1e5))_0x3a2816[_0x5b7213(0x1b7)]='none';}),currentCoins[_0x1cb7cd(0x104)]((_0x43a361,_0x333462)=>_0x43a361[_0x1cb7cd(0x1bf)]<_0x333462[_0x1cb7cd(0x1bf)]?0x1:_0x333462['delta']<_0x43a361[_0x1cb7cd(0x1bf)]?-0x1:0x0);const _0x1561d7=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1561d7[_0x1cb7cd(0x1ca)],'usd':_0x1561d7[_0x1cb7cd(0x1d2)],'portfolio':JSON[_0x1cb7cd(0x150)](currentCoins),'threshold':_0x30a382},proxyEmit(_0x1cb7cd(0xe1),{'serverversion':serverversion,'balances':lastBalances});if(_0x56a91b){if(config[_0x1cb7cd(0x169)])headlessMode({'portfolio':currentCoins,'threshold':_0x30a382});else{if(lockOrders==ORDERS[_0x1cb7cd(0xf6)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x30a382});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1be5de=getNormalizedPerformance();getStartingBalances(_0x1be5de),emitPerformance(_0x1be5de);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x159678=getNormalizedPerformance();emitPerformance(_0x159678),getStartingBalances(_0x159678),logger[_0x1cb7cd(0x1cc)](_0x1cb7cd(0x1af));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x31567d=_0x115f29;if(!lastBalances)return;let _0x264eb7=[],_0x448881,_0x185fca=JSON[_0x31567d(0xd9)](lastBalances[_0x31567d(0x142)]);_0x185fca[_0x31567d(0x104)]((_0x5d9e03,_0xa768b7)=>_0x5d9e03[_0x31567d(0x1e3)]>_0xa768b7['coin']?0x1:_0xa768b7[_0x31567d(0x1e3)]>_0x5d9e03[_0x31567d(0x1e3)]?-0x1:0x0),_0x185fca[_0x31567d(0x152)](_0x26347a=>{const _0x153bc9=_0x31567d;let _0x30193c={'coin':_0x26347a[_0x153bc9(0x1e3)],'number':_0x26347a['number'],'price':_0x26347a['last']};_0x264eb7[_0x153bc9(0x194)](_0x30193c);});const _0x4760d9=await getFiat();_0x448881={'date':lastBalances[_0x31567d(0x178)][_0x31567d(0x1f6)]('\x20')[0x0],'eur':_0x4760d9['eur'],'usd':_0x4760d9[_0x31567d(0x1d2)],'coins':_0x264eb7};let _0x5d0dd7=dbPerformance[_0x31567d(0x199)]('data')[_0x31567d(0x15e)]({'date':_0x448881['date']})[_0x31567d(0x105)]();_0x5d0dd7?_0x448881[_0x31567d(0xc2)]!=config[_0x31567d(0xc0)]&&dbPerformance['get'](_0x31567d(0x1a6))[_0x31567d(0x15e)]({'date':_0x448881[_0x31567d(0xc2)]})['assign'](_0x448881)[_0x31567d(0x1cd)]():dbPerformance[_0x31567d(0x199)](_0x31567d(0x1a6))[_0x31567d(0x194)](_0x448881)[_0x31567d(0x1cd)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5a0fdc=_0x115f29;let _0x43a50e=[];if(dbPerformance[_0x5a0fdc(0xb0)](_0x5a0fdc(0x1a6))[_0x5a0fdc(0x105)]()){let _0xb090d2=dbPerformance[_0x5a0fdc(0x199)]('data')[_0x5a0fdc(0x1b3)]()[_0x5a0fdc(0x8e)](_0x2bcc1e=>{const _0x44b7d1=_0x5a0fdc;if(_0x2bcc1e[_0x44b7d1(0x17e)][_0x44b7d1(0x1ef)]==0x0)return![];else return!![];})['sortBy'](_0x5a0fdc(0xc2))[_0x5a0fdc(0x105)](),_0x1bb664=[...config[_0x5a0fdc(0x1c8)]];_0x1bb664['sort']((_0x4e6266,_0x1fffc8)=>_0x4e6266[_0x5a0fdc(0xc2)]>_0x1fffc8['date']?-0x1:_0x1fffc8['date']>_0x4e6266[_0x5a0fdc(0xc2)]?0x1:0x0);let _0x57c4cd=0x1,_0x300440=[],_0x835545=0x0;_0xb090d2[_0x5a0fdc(0xf4)]()[_0x5a0fdc(0x200)]()[_0x5a0fdc(0x152)]((_0x1e6032,_0x4c3d49)=>{const _0x48dde0=_0x5a0fdc;if(_0x1bb664[_0x835545]){if(_0xb090d2[_0xb090d2[_0x48dde0(0x1ef)]-_0x4c3d49]&&_0x1bb664[_0x835545][_0x48dde0(0xc2)]==_0xb090d2[_0xb090d2[_0x48dde0(0x1ef)]-_0x4c3d49][_0x48dde0(0xc2)]){if(_0x4c3d49<_0xb090d2[_0x48dde0(0x1ef)]){let _0x297bc5=0x0,_0x21a67c=0x0;_0xb090d2[_0xb090d2['length']-_0x4c3d49][_0x48dde0(0x17e)][_0x48dde0(0x152)](_0x2b6ec6=>{const _0x1e8b1a=_0x48dde0;_0x21a67c+=_0x2b6ec6[_0x1e8b1a(0x12d)]*_0x2b6ec6[_0x1e8b1a(0xa7)];}),_0x1bb664[_0x835545][_0x48dde0(0x1d0)][_0x48dde0(0x152)](_0x297892=>{const _0x1d593f=_0x48dde0;_0x297bc5+=_0x297892['number']*_0x297892[_0x1d593f(0xa7)];}),_0x57c4cd*=_0x297bc5/(_0x21a67c-_0x297bc5)+0x1;}_0x835545++;}}let _0x1bbea3=0x0;_0x1e6032[_0x48dde0(0x17e)]['forEach'](_0x58c372=>{_0x1bbea3+=_0x58c372['number']*_0x58c372['price'];}),_0x300440[_0xb090d2[_0x48dde0(0x1ef)]-_0x4c3d49-0x1]=_0x1bbea3*(_0x57c4cd-0x1);});let _0x457d1b=[];_0x1bb664=[...config['liquidity']]||[];let _0x263dee=0x0;_0x835545=0x0,_0xb090d2[_0x5a0fdc(0x152)]((_0x4b89a4,_0x3a2d3e)=>{const _0x2b82bd=_0x5a0fdc;if(_0x1bb664[_0x835545]){const _0x2c8136=fns[_0x2b82bd(0xd9)](_0x1bb664[_0x835545][_0x2b82bd(0xc2)],'yyyy/MM/dd',new Date()),_0x2900df=fns['parse'](_0x4b89a4['date'],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x2c8136,_0x2900df)){let _0x4f85de=0x0;_0x1bb664[_0x835545][_0x2b82bd(0x1d0)][_0x2b82bd(0x152)](_0x36adf7=>{const _0x57d621=_0x2b82bd;!_0x457d1b[_0x36adf7[_0x57d621(0x1e3)]]?_0x457d1b[_0x36adf7[_0x57d621(0x1e3)]]=_0x36adf7[_0x57d621(0x12d)]:(_0x4f85de=_0x457d1b[_0x36adf7['coin']],_0x457d1b[_0x36adf7[_0x57d621(0x1e3)]]+=_0x36adf7[_0x57d621(0x12d)]);const _0x153fac=_0x4b89a4['coins'][_0x57d621(0x15e)](_0x1e72d2=>_0x1e72d2[_0x57d621(0x1e3)]==_0x36adf7[_0x57d621(0x1e3)]);(!_0x153fac||_0x153fac[_0x57d621(0x12d)]==0x0)&&(_0x263dee+=(-_0x36adf7['number']-_0x4f85de)*_0x36adf7[_0x57d621(0xa7)]);}),_0x835545++;}}_0x4b89a4[_0x2b82bd(0x17e)]['forEach']((_0x36c51b,_0x2abef8)=>{const _0x59cc51=_0x2b82bd;_0x457d1b[_0x36c51b[_0x59cc51(0x1e3)]]&&(_0x36c51b[_0x59cc51(0xfa)]=_0x457d1b[_0x36c51b[_0x59cc51(0x1e3)]]);}),_0x43a50e[_0x2b82bd(0x194)]({'date':_0x4b89a4['date'],'eur':_0x4b89a4[_0x2b82bd(0x1ca)],'usd':_0x4b89a4['usd'],'offset':_0x300440[_0x3a2d3e],'netoffset':_0x263dee,'coins':_0x4b89a4[_0x2b82bd(0x17e)]});});}return _0x43a50e;}function emitPerformance(_0x3926b9){const _0x1cb7b5=_0x115f29;_0x3926b9[_0x1cb7b5(0x1ef)]!==0x0?(proxyEmit(_0x1cb7b5(0x9c),_0x3926b9),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x40d13e,_0x489897){const _0x4459b2=_0x115f29;let _0x1c81a9=0x0,_0x192777=0x0,_0x38cefe=0x0;_0x40d13e['coins'][_0x4459b2(0x152)](_0x19ef3b=>{const _0x25ae8b=_0x4459b2;_0x1c81a9+=_0x19ef3b[_0x25ae8b(0x12d)]*_0x19ef3b[_0x25ae8b(0xa7)];});_0x489897&&(_0x1c81a9+=_0x40d13e[_0x4459b2(0xe3)]);if(config[_0x4459b2(0x1fa)]===_0x4459b2(0x95)||config[_0x4459b2(0x1fa)]===_0x4459b2(0x159))_0x192777=_0x1c81a9*_0x40d13e['eur'],_0x38cefe=_0x1c81a9*_0x40d13e[_0x4459b2(0x1d2)];else{if(config[_0x4459b2(0x1fa)]===_0x4459b2(0x1e6)||config['basecoin']===_0x4459b2(0x167)||config['basecoin']===_0x4459b2(0x1b2))_0x192777=_0x1c81a9*_0x40d13e['eur']/_0x40d13e['usd'],_0x38cefe=_0x1c81a9;else config['basecoin']===_0x4459b2(0x138)&&(_0x192777=_0x1c81a9,_0x38cefe=_0x1c81a9*_0x40d13e[_0x4459b2(0x1d2)]/_0x40d13e['eur']);}return[_0x1c81a9,_0x192777,_0x38cefe];}function getKPIs(_0x477391,_0x5398eb=_0x115f29(0x138)){const _0x104a86=_0x115f29,_0x13c63b=config[_0x104a86(0x1fa)],_0x405018=lastBalances,_0x238906=currentCoins,_0x55ff0a=getNormalizedPerformance(),_0x59b455=_0x477391==='basecoin'?_0x13c63b:_0x477391==='fiat'||_0x477391===_0x104a86(0xb3)?_0x5398eb:_0x104a86(0xf1)+_0x13c63b,_0x27dafd=_0x477391===_0x104a86(0xe4)?'Net\x20effect':_0x477391===_0x104a86(0xb3)?_0x104a86(0x1db):_0x59b455+_0x104a86(0x179),_0x5d41b6=_0x477391===_0x104a86(0xe4)||_0x477391===_0x104a86(0xb3)?'Net\x20effect':_0x59b455+'\x20change';let _0x13a714=0x0;_0x238906['forEach'](_0x374b6d=>{const _0x25d555=_0x104a86;_0x13a714+=_0x374b6d['number']*_0x374b6d[_0x25d555(0x1cb)];});if(_0x477391==='fiat'||_0x477391==='net-fiat'){if(_0x13c63b===_0x104a86(0x95)||_0x13c63b===_0x104a86(0x159))_0x13a714=_0x13a714*(_0x5398eb==='EUR'?_0x405018['eur']:_0x405018[_0x104a86(0x1d2)]);else{if(_0x13c63b===_0x104a86(0x1e6)||_0x13c63b===_0x104a86(0x167)||_0x13c63b===_0x104a86(0x1b2))_0x13a714=_0x13a714*(_0x5398eb===_0x104a86(0x138)?_0x405018[_0x104a86(0x1ca)]/_0x405018[_0x104a86(0x1d2)]:0x1);else _0x13c63b===_0x104a86(0x138)&&(_0x13a714=_0x13a714*(_0x5398eb===_0x104a86(0x138)?0x1:_0x405018[_0x104a86(0x1d2)]/_0x405018[_0x104a86(0x1ca)]));}}let _0x20b2f1;if(_0x13a714!==0x0){if(_0x477391===_0x104a86(0x1fa))_0x20b2f1=(_0x13a714/startingBalances[_0x104a86(0x1fa)]-0x1)*0x64;else{if(_0x5398eb===_0x104a86(0x138))_0x20b2f1=(_0x13a714/startingBalances[_0x104a86(0x1ca)]-0x1)*0x64;else _0x20b2f1=(_0x13a714/startingBalances['usd']-0x1)*0x64;}let _0x4ec014=0x0;if(startingBalances[_0x104a86(0x17e)])_0x238906['forEach'](_0x37d523=>{const _0x3a6a08=_0x104a86;let _0x4e032f=startingBalances[_0x3a6a08(0x17e)]['find'](_0x5c41a9=>_0x5c41a9['coin']===_0x37d523[_0x3a6a08(0x1e3)]);if(_0x4e032f&&_0x4e032f[_0x3a6a08(0x1e3)]&&_0x37d523[_0x3a6a08(0x12d)]!==0x0)_0x4ec014+=_0x4e032f[_0x3a6a08(0x12d)]*_0x37d523[_0x3a6a08(0x1cb)];});let _0x5e7e2a=0x0;if(_0x55ff0a['length']!==0x0){let _0x11463b=_0x55ff0a[_0x55ff0a[_0x104a86(0x1ef)]-0x1];_0x5e7e2a=_0x11463b[_0x104a86(0xc7)];}_0x4ec014-=_0x5e7e2a;_0x477391===_0x104a86(0xe4)&&(_0x20b2f1=(_0x13a714-_0x4ec014)/startingBalances[_0x104a86(0x1fa)]*0x64,_0x13a714=_0x13a714-_0x4ec014);if(_0x477391===_0x104a86(0xb3)){let _0x36ec8a=_0x5398eb===_0x104a86(0x138)?startingBalances[_0x104a86(0x1ca)]:startingBalances['usd'];if(_0x13c63b===_0x104a86(0x95)||_0x13c63b==='ETH')_0x4ec014=_0x5398eb===_0x104a86(0x138)?_0x4ec014*_0x405018['eur']:_0x4ec014*_0x405018[_0x104a86(0x1d2)];else{if(_0x13c63b==='BUSD'||_0x13c63b===_0x104a86(0x167)||_0x13c63b===_0x104a86(0x1b2))_0x4ec014=_0x5398eb===_0x104a86(0x138)?_0x4ec014*_0x405018['eur']/_0x405018[_0x104a86(0x1d2)]:_0x4ec014;else _0x13c63b===_0x104a86(0x138)&&(_0x4ec014=_0x5398eb===_0x104a86(0x138)?_0x4ec014:_0x4ec014*_0x405018['usd']/_0x405018[_0x104a86(0x1ca)]);}_0x20b2f1=(_0x13a714-_0x4ec014)/_0x36ec8a*0x64,_0x13a714=_0x13a714-_0x4ec014;}if(_0x20b2f1){if(_0x20b2f1<0x64)_0x20b2f1=_0x20b2f1[_0x104a86(0xb6)](0x2);else{if(_0x20b2f1<0x3e8)_0x20b2f1=_0x20b2f1[_0x104a86(0xb6)](0x1);else _0x20b2f1=_0x20b2f1[_0x104a86(0xb6)](0x0);}}else _0x20b2f1=Number('0')['toFixed'](0x2);if(_0x13a714){if(Math[_0x104a86(0xda)](_0x13a714)<0.000001)_0x13a714=_0x13a714[_0x104a86(0xb6)](0x2);else{if(Math[_0x104a86(0xda)](_0x13a714)<0.1)_0x13a714=_0x13a714[_0x104a86(0xb6)](0x6);else{if(Math[_0x104a86(0xda)](_0x13a714)<0x1)_0x13a714=_0x13a714['toFixed'](0x5);else{if(Math[_0x104a86(0xda)](_0x13a714)<0xa)_0x13a714=_0x13a714[_0x104a86(0xb6)](0x4);else{if(Math[_0x104a86(0xda)](_0x13a714)<0x64)_0x13a714=_0x13a714[_0x104a86(0xb6)](0x3);else{if(Math[_0x104a86(0xda)](_0x13a714)<0x3e8)_0x13a714=_0x13a714['toFixed'](0x2);else _0x13a714=_0x13a714[_0x104a86(0xb6)](0x2);}}}}}}else _0x13a714=Number('0')[_0x104a86(0xb6)](0x2);}else _0x20b2f1=Number('0')[_0x104a86(0xb6)](0x2);return{'value':_0x13a714,'change':_0x20b2f1,'leftTxt':_0x27dafd,'rightTxt':_0x5d41b6};}async function getStartingBalances(_0x5ba682,_0x5469ba=!![]){const _0x30cd96=_0x115f29;if(_0x5ba682['length']!==0x0){const [_0x4bf743,_0x546897,_0x28f4f5]=getPerf(_0x5ba682[0x0],!![]);let _0x4abc31=[];config[_0x30cd96(0x142)][_0x30cd96(0x152)](_0x14c37e=>{const _0x23a42d=_0x30cd96;let _0x40c2c3=0x0,_0x546594;config[_0x23a42d(0x1c8)][_0x23a42d(0x152)](_0xaff6ab=>{const _0x2bc72b=_0x23a42d;let _0x22632a=_0xaff6ab[_0x2bc72b(0x1d0)][_0x2bc72b(0x15e)](_0x4aebf2=>_0x4aebf2[_0x2bc72b(0x1e3)]==_0x14c37e[_0x2bc72b(0x1e3)]);if(_0x22632a){_0x40c2c3+=_0x22632a[_0x2bc72b(0x12d)];if(!_0x546594)_0x546594=_0x22632a[_0x2bc72b(0xa7)];}}),_0x4abc31[_0x23a42d(0x194)]({'coin':_0x14c37e[_0x23a42d(0x1e3)],'number':_0x40c2c3,'initialprice':_0x546594});});const _0x347c4d={'basecoin':_0x4bf743,'eur':_0x546897,'usd':_0x28f4f5,'coins':_0x4abc31};if(_0x5469ba)proxyEmit(_0x30cd96(0x1c0),_0x347c4d);startingBalances=_0x347c4d;}}function headlessMode(_0x293f67){const _0x5533bf=_0x115f29;let _0x419861=_0x293f67[_0x5533bf(0x142)],_0x44465e=_0x293f67[_0x5533bf(0x91)],_0x2dc943=[];for(let _0x3ad24a of _0x419861){if(_0x3ad24a[_0x5533bf(0x1e3)]!=config['basecoin']){if(_0x3ad24a[_0x5533bf(0x1bf)]>=_0x44465e/0x64){if(_0x3ad24a['valid'])_0x2dc943['push'](_0x3ad24a);}else{if(_0x3ad24a[_0x5533bf(0x1bf)]<=-_0x44465e/0x64){if(_0x3ad24a[_0x5533bf(0x141)])_0x2dc943[_0x5533bf(0x194)](_0x3ad24a);}}}}_0x2dc943[_0x5533bf(0x1ef)]>0x0&&placeOrder(_0x2dc943);}function notifyBalance(_0x15621d){const _0x169249=_0x115f29;let _0x2b3f20=_0x15621d[_0x169249(0x142)],_0x582814=_0x15621d[_0x169249(0x91)],_0x5ad210=[];for(let _0x46b200 of _0x2b3f20){if(_0x46b200[_0x169249(0x1e3)]!=config['basecoin']){if(_0x46b200[_0x169249(0x1bf)]>=_0x582814/0x64){if(_0x46b200[_0x169249(0x141)])_0x5ad210[_0x169249(0x194)](_0x46b200);}else{if(_0x46b200[_0x169249(0x1bf)]<=-_0x582814/0x64){if(_0x46b200[_0x169249(0x141)])_0x5ad210[_0x169249(0x194)](_0x46b200);}}}}if(_0x5ad210[_0x169249(0x1ef)]>0x0){let _0x23a1b3=_0x5ad210['map'](_0x118bf1=>_0x118bf1['coin']);_0x23a1b3[_0x169249(0x104)]();let _0x3ff3db=_0x23a1b3['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x169249(0x1c3),_0x169249(0x19a));lastCoinsToBalance=_0x3ff3db;}}function symbolToCoin(_0x49ec2a){const _0x20f10f=_0x115f29;let _0x43b08f;if(_0x49ec2a[_0x20f10f(0x156)]('/'+config[_0x20f10f(0x1fa)]))_0x43b08f=_0x49ec2a[_0x20f10f(0xaa)]('/'+config[_0x20f10f(0x1fa)],'');if(_0x49ec2a[_0x20f10f(0x156)](config[_0x20f10f(0x1fa)]+'/'))_0x43b08f=_0x49ec2a[_0x20f10f(0xaa)](config[_0x20f10f(0x1fa)]+'/','');return _0x43b08f;}async function unlockOrders(){const _0x5acf02=_0x115f29;if(allOrdersPlaced&&lockOrders==ORDERS[_0x5acf02(0x155)]){logger['debug'](_0x5acf02(0x18a)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x258dc9=await getCoins();[currentCoins,currentCoinsAll]=_0x258dc9,validateOrdersState=_0x5acf02(0xfa),persistOpenOrders([]),lockOrders=ORDERS[_0x5acf02(0xf6)],logger['debug'](_0x5acf02(0x125));}}async function validateOrders(_0x346466){const _0x53f9ea=_0x115f29;if(_0x346466)validateOrdersState=_0x346466;logger[_0x53f9ea(0x1cc)](_0x53f9ea(0x1ed)+validateOrdersState+_0x53f9ea(0x98)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x53f9ea(0xb8):_0x53f9ea(0x8b)));let _0x561784=[],_0x47ac3d=config[_0x53f9ea(0xee)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x53f9ea(0x1f3)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x53f9ea(0x155)])return;logger[_0x53f9ea(0x1cc)](_0x53f9ea(0x18c)+validateOrdersState),lastOrders[_0x53f9ea(0x152)](_0x547601=>{const _0x3324d6=_0x53f9ea;let _0x107baa=![];_0x547601[_0x3324d6(0x94)]>0x0&&(_0x107baa=!![]),_0x561784[_0x3324d6(0x194)](_0x107baa),_0x107baa&&config['ordertype']!=_0x3324d6(0x14f)&&logHistory('order',_0x3324d6(0xb5)+_0x547601[_0x3324d6(0x140)]+'\x20'+_0x547601['side']+'\x20#'+formatResult(_0x547601[_0x3324d6(0x94)],0x8)+'\x20@'+formatResult(_0x547601[_0x3324d6(0xa7)],0x8));}),_0x561784[_0x53f9ea(0x152)]((_0x8ad908,_0x35bb5c)=>{const _0x525118=_0x53f9ea;if(_0x8ad908)lastOrders[_0x525118(0xad)](_0x35bb5c,0x1);}),persistOpenOrders(lastOrders);const _0x3d882e=coolingDown?_0x53f9ea(0x116):_0x53f9ea(0x1aa);if(validateOrdersState==_0x53f9ea(0xfa)){validateOrdersState=_0x53f9ea(0xbe);if(_0x561784[_0x53f9ea(0x156)](![])){if(config[_0x53f9ea(0xee)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x53f9ea(0xbe)){if(_0x561784[_0x53f9ea(0x156)](![])){}else{if(allOrdersPlaced){if(config[_0x53f9ea(0xee)]==_0x53f9ea(0x14f)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x53f9ea(0xaf))_0x561784[_0x53f9ea(0x156)](![])&&(config[_0x53f9ea(0xee)]==_0x53f9ea(0x14f)?logHistory(_0x53f9ea(0x85),_0x53f9ea(0xfc)+Math[_0x53f9ea(0xd8)](_0x47ac3d*validateOrderInterval/0xea60)+_0x53f9ea(0x12a)+_0x3d882e):(await cancelOrders(),logHistory(_0x53f9ea(0x85),_0x53f9ea(0x128)+Math['round'](_0x47ac3d*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x3d882e))),await unlockOrders();else{if(validateOrdersState==_0x53f9ea(0x122)){if(config[_0x53f9ea(0xee)]!=_0x53f9ea(0x14f))logHistory(_0x53f9ea(0x85),_0x53f9ea(0x166)+_0x3d882e);await unlockOrders();}}}}}async function cancelOrders(){const _0x359091=_0x115f29;lastOrders[_0x359091(0x152)](async _0x32fef6=>{const _0x4e0f1a=_0x359091;try{const _0x5b0cee=await exchange[_0x4e0f1a(0x1ee)](_0x32fef6[_0x4e0f1a(0xd2)],_0x32fef6[_0x4e0f1a(0x140)]);}catch(_0x76d161){if(_0x76d161['toString']()[_0x4e0f1a(0x156)]('OrderNotFound')){}else await handleError(_0x76d161,'cancelOrders()');}});}async function initCoinResults(_0x5dfaf4){const _0x31c894=_0x115f29;_0x5dfaf4?logger[_0x31c894(0x1cc)]('Resetting\x20coin\x20results:\x20'+_0x5dfaf4):logger[_0x31c894(0x1cc)](_0x31c894(0xd6)),config[_0x31c894(0x142)]['forEach'](_0x8aea38=>{const _0x2e495e=_0x31c894;if(!_0x8aea38[_0x2e495e(0x121)]&&_0x8aea38[_0x2e495e(0x1e3)]!=config['basecoin']){const _0x26b0a7=currentCoins['find'](_0x1f0150=>_0x1f0150[_0x2e495e(0x1e3)]==_0x8aea38[_0x2e495e(0x1e3)]),_0x2d4119=global[_0x2e495e(0x84)][noslash(_0x8aea38[_0x2e495e(0x140)])];let _0x22ce4d=_0x26b0a7?_0x26b0a7[_0x2e495e(0x12d)]:null,_0x2659bf=_0x8aea38[_0x2e495e(0x200)]?0x1/_0x2d4119:_0x2d4119,_0x5327ff;config['liquidity'][_0x2e495e(0x152)](_0xb553ec=>{const _0x261de8=_0x2e495e;!_0x5327ff&&(_0x5327ff=_0xb553ec['changes']['find'](_0x1783a5=>_0x1783a5[_0x261de8(0x1e3)]==_0x8aea38[_0x261de8(0x1e3)]),_0x5327ff&&(_0x22ce4d=_0x5327ff[_0x261de8(0x12d)],_0x2659bf=_0x5327ff[_0x261de8(0xa7)]));});let _0x1f7e26=dbCoinResults['get'](_0x2e495e(0x17e))[_0x2e495e(0x15e)]({'coin':_0x8aea38[_0x2e495e(0x1e3)]})['value']();if(!_0x1f7e26){const _0x2d1b64={'coin':_0x8aea38[_0x2e495e(0x1e3)],'number':_0x22ce4d,'breakeven':_0x2659bf,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2e495e(0x199)](_0x2e495e(0x17e))['push'](_0x2d1b64)[_0x2e495e(0x1cd)]();}else{if(_0x5dfaf4&&_0x8aea38[_0x2e495e(0x1e3)]==_0x5dfaf4){const _0x53fc1e={'coin':_0x8aea38[_0x2e495e(0x1e3)],'number':_0x22ce4d,'breakeven':_0x2659bf,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x2e495e(0x17e))[_0x2e495e(0x15e)]({'coin':_0x8aea38[_0x2e495e(0x1e3)]})[_0x2e495e(0x132)](_0x53fc1e)['write']();}}}});}function _0x4578(_0x5cc51a,_0x5ef423){const _0x1ab67b=_0xb418();return _0x4578=function(_0x2d6e05,_0x225fd9){_0x2d6e05=_0x2d6e05-0x83;let _0xb41836=_0x1ab67b[_0x2d6e05];return _0xb41836;},_0x4578(_0x5cc51a,_0x5ef423);}async function updateCoinResults(_0x2e477a,_0x1c7a7b=![]){const _0x476819=_0x115f29;let _0x3167e6,_0xe573f,_0x556a3f,_0x503d15,_0x2a7523,_0x459229,_0x28b9b4=dbCoinResults['get'](_0x476819(0x17e))[_0x476819(0x15e)]({'coin':_0x2e477a['coin']})['value'](),_0x41bc6b=![];Object['entries'](_0x28b9b4)[_0x476819(0x152)](([_0x19a41d,_0x4dbc22])=>{if(_0x4dbc22==null)_0x41bc6b=!![];});(!_0x28b9b4||_0x41bc6b)&&(await initCoinResults(_0x2e477a[_0x476819(0x1e3)]),_0x28b9b4=dbCoinResults['get']('coins')[_0x476819(0x15e)]({'coin':_0x2e477a[_0x476819(0x1e3)]})[_0x476819(0x105)]());_0x2e477a[_0x476819(0x200)]&&(_0x459229={'filled':_0x2e477a[_0x476819(0x94)]*_0x2e477a[_0x476819(0xa7)],'amount':_0x2e477a[_0x476819(0x94)]*_0x2e477a[_0x476819(0xa7)],'side':_0x2e477a[_0x476819(0x1b0)]=='sell'?_0x476819(0x1ff):_0x476819(0x107),'price':0x1/_0x2e477a['price']},_0x2e477a={..._0x2e477a,..._0x459229});_0x1c7a7b?_0xe573f=_0x2e477a[_0x476819(0x1b0)]==_0x476819(0x1ff)?_0x28b9b4[_0x476819(0x12d)]+_0x2e477a['filled']:_0x28b9b4[_0x476819(0x12d)]-_0x2e477a[_0x476819(0x94)]:_0xe573f=await getCoinNumber(_0x2e477a[_0x476819(0x1e3)]);if(_0x2e477a[_0x476819(0xe5)]&&_0x2e477a[_0x476819(0xe5)][_0x476819(0xcc)]==config[_0x476819(0x1fa)])_0x3167e6=_0x2e477a[_0x476819(0xe5)]['cost'];else{if(_0x2e477a['fee']&&_0x2e477a['fee'][_0x476819(0xcc)]==_0x476819(0x192)&&!_0x1c7a7b)_0x3167e6=_0x2e477a['fee']['cost']*global['ticker']['BNB'+config[_0x476819(0x1fa)]];else _0x3167e6=defaultFee*_0x2e477a[_0x476819(0x94)]*_0x2e477a[_0x476819(0xa7)];}_0x2e477a[_0x476819(0x1b0)]==_0x476819(0x1ff)?(_0x556a3f=_0xe573f!=0x0?(_0x28b9b4['breakeven']*_0x28b9b4[_0x476819(0x12d)]+_0x2e477a['price']*(_0xe573f-_0x28b9b4[_0x476819(0x12d)])+_0x3167e6)/_0xe573f:0x0,_0x503d15=_0x28b9b4[_0x476819(0x1e4)]):(_0x556a3f=_0xe573f!=0x0?(_0x28b9b4[_0x476819(0x1a7)]*_0x28b9b4[_0x476819(0x12d)]-_0x2e477a[_0x476819(0xa7)]*(_0x28b9b4['number']-_0xe573f)+_0x3167e6)/_0xe573f:0x0,_0x503d15=_0x28b9b4[_0x476819(0x1e4)]+(_0x2e477a[_0x476819(0xa7)]-_0x28b9b4[_0x476819(0x1a7)])*_0x2e477a[_0x476819(0x94)]);_0x2a7523=(_0x2e477a[_0x476819(0xa7)]-_0x556a3f-_0x3167e6/_0x2e477a[_0x476819(0x94)])*_0xe573f;let _0x8af67f={'coin':_0x2e477a[_0x476819(0x1e3)],'number':_0xe573f,'breakeven':formatResult(_0x556a3f,0x8),'realized':formatResult(_0x503d15,0x8),'unrealized':formatResult(_0x2a7523,0x8),'fees':formatResult(_0x28b9b4['fees']+_0x3167e6,0x8),'sells':_0x2e477a[_0x476819(0x1b0)]=='sell'?_0x28b9b4[_0x476819(0x1e7)]+0x1:_0x28b9b4[_0x476819(0x1e7)],'buys':_0x2e477a[_0x476819(0x1b0)]==_0x476819(0x1ff)?_0x28b9b4[_0x476819(0x10c)]+0x1:_0x28b9b4[_0x476819(0x10c)]};dbCoinResults['get']('coins')[_0x476819(0x15e)]({'coin':_0x2e477a[_0x476819(0x1e3)]})[_0x476819(0x132)](_0x8af67f)[_0x476819(0x1cd)]();if(!_0x1c7a7b){if(_0x2e477a['fee']&&_0x2e477a[_0x476819(0xe5)][_0x476819(0xcc)]==_0x476819(0x192)){const _0x19fbd3=currentCoins['find'](_0x2defc2=>_0x2defc2[_0x476819(0x1e3)]==_0x476819(0x192));if(_0x19fbd3){let _0x548f59=dbCoinResults['get'](_0x476819(0x17e))[_0x476819(0x15e)]({'coin':_0x476819(0x192)})[_0x476819(0x105)]();_0x8af67f={..._0x548f59,'number':_0x19fbd3['number']},dbCoinResults[_0x476819(0x199)](_0x476819(0x17e))['find']({'coin':_0x476819(0x192)})[_0x476819(0x132)](_0x8af67f)[_0x476819(0x1cd)]();}}}}async function placeOrder(_0x40cb91){const _0x4a45a3=_0x115f29,_0x36b755=config[_0x4a45a3(0xee)]==_0x4a45a3(0x14f)?'market':'limit';if(lockOrders==ORDERS[_0x4a45a3(0xf6)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState='initial';let _0x5b0c5d=![];lastOrders=[];for(const _0x468df1 of _0x40cb91){let _0x4527de,_0x14dd19,_0x37d182,_0x66c3fe,_0x10548b,_0x3d8ed4=_0x468df1['symbol'];try{const _0x152c5a=await exchange[_0x4a45a3(0x146)](_0x3d8ed4);_0x4527de=_0x468df1[_0x4a45a3(0x200)]?0x1/_0x468df1['last']:_0x468df1[_0x4a45a3(0x1cb)],_0x14dd19=_0x152c5a[_0x4a45a3(0xdd)],_0x37d182=_0x152c5a['ask'];_0x468df1[_0x4a45a3(0x200)]?(_0x66c3fe=_0x468df1[_0x4a45a3(0x1b0)]==_0x4a45a3(0x1ff)?_0x4a45a3(0x107):_0x4a45a3(0x1ff),_0x10548b=Math[_0x4a45a3(0xda)](_0x468df1[_0x4a45a3(0x201)])/_0x4527de):(_0x66c3fe=_0x468df1[_0x4a45a3(0x1b0)],_0x10548b=Math[_0x4a45a3(0xda)](_0x468df1['trade']));_0x36b755==_0x4a45a3(0x164)&&(config['ordertype']==_0x4a45a3(0xf5)&&(_0x4527de=_0x66c3fe==_0x4a45a3(0x1ff)?_0x14dd19:_0x37d182),config['ordertype']==_0x4a45a3(0xc8)&&(_0x4527de=_0x66c3fe==_0x4a45a3(0x1ff)?_0x37d182:_0x14dd19));_0x10548b=formatResult(_0x10548b,0x8),_0x4527de=formatResult(_0x4527de,0x8);const _0x404a35=_0x66c3fe=='sell'?config[_0x4a45a3(0x1ce)]?String[_0x4a45a3(0x1d9)]('0x'+config[_0x4a45a3(0x1ce)])+'\x20':'':config[_0x4a45a3(0x170)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x23fd6f=_0x36b755=='market'?'Market':config[_0x4a45a3(0xee)]=='limit-high'?'Limit\x20(high-margin)':'Limit\x20(low-margin)',_0x3c8c8b=(Math[_0x4a45a3(0x1c1)](Math[_0x4a45a3(0x195)]()*0x35a4e900)+0x5f5e100)[_0x4a45a3(0xcb)]();lastOrders[_0x4a45a3(0x194)]({'customId':_0x3c8c8b,'symbol':_0x3d8ed4,'coin':_0x468df1[_0x4a45a3(0x1e3)],'amount':_0x10548b,'price':_0x4527de,'side':_0x66c3fe,'reverse':_0x468df1[_0x4a45a3(0x200)],'filled':0x0});if(_0x36b755=='market')logHistory(_0x4a45a3(0x147),''+_0x404a35+_0x23fd6f+_0x4a45a3(0xea)+_0x3d8ed4+'\x20'+_0x66c3fe+'\x20#'+formatResult(_0x10548b,0x8)+'\x20@'+formatResult(_0x4527de,0x8));else logHistory(_0x4a45a3(0x147),''+_0x404a35+_0x23fd6f+_0x4a45a3(0xea)+_0x3d8ed4+'\x20'+_0x66c3fe+'\x20#'+formatResult(_0x10548b,0x8)+'\x20@'+formatResult(_0x4527de,0x8));let _0xac3bef=_0x3c8c8b;exchangesRequiringIntId['includes'](config['exchange'])&&(_0xac3bef=parseInt(_0x3c8c8b));logger[_0x4a45a3(0x1cc)](_0x4a45a3(0xe7)+_0xac3bef+_0x4a45a3(0xb1)+typeof _0xac3bef);const _0x271641=await exchange[_0x4a45a3(0x15c)](_0x3d8ed4,_0x36b755,_0x66c3fe,_0x10548b,_0x4527de,{'clientOrderId':_0xac3bef}),_0x53da5c=lastOrders['length']-0x1;if(_0x53da5c>=0x0&&lastOrders[_0x53da5c][_0x4a45a3(0x96)]==_0x3c8c8b){lastOrders[_0x53da5c]['orderId']=_0x271641['id'];if(_0x271641['amount'])lastOrders[_0x53da5c][_0x4a45a3(0x13d)]=_0x271641['amount'];if(_0x271641['price'])lastOrders[_0x53da5c]['price']=_0x271641[_0x4a45a3(0xa7)];lastOrders[_0x53da5c]['fee']=_0x271641[_0x4a45a3(0xe5)];}if(config[_0x4a45a3(0x129)]!=0x0){let _0x31c472=null;if(cooldownTracker[_0x4a45a3(0x1ef)]==config[_0x4a45a3(0x129)]-0x1)_0x31c472=cooldownTracker[_0x4a45a3(0x154)]();const _0x53319e=getTimeStamp();cooldownTracker[_0x4a45a3(0x194)](_0x53319e);if(_0x31c472){const _0x561bd1=fns[_0x4a45a3(0x10e)](new Date(_0x53319e),new Date(_0x31c472));if(_0x561bd1<cooldownInterval){logHistory(_0x4a45a3(0x137),_0x4a45a3(0x183)+config[_0x4a45a3(0x129)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x4a45a3(0x1a4)),coolingDown=!![];break;}}}}catch(_0x5eaaa6){if(_0x5eaaa6[_0x4a45a3(0xcb)]()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders[_0x4a45a3(0x8e)](_0x20df0e=>_0x20df0e[_0x4a45a3(0x140)]!=_0x3d8ed4),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x3d8ed4),_0x5b0c5d=!![];else{if(_0x5eaaa6[_0x4a45a3(0xcb)]()['includes']('Invalid\x20quantity'))lastOrders=lastOrders[_0x4a45a3(0x8e)](_0x1c773c=>_0x1c773c[_0x4a45a3(0x140)]!=_0x3d8ed4),logHistory(_0x4a45a3(0x137),'Order\x20amount\x20is\x20invalid:\x20'+_0x3d8ed4),_0x5b0c5d=!![];else{if(_0x5eaaa6[_0x4a45a3(0xcb)]()[_0x4a45a3(0x156)](_0x4a45a3(0x144)))lastOrders=lastOrders[_0x4a45a3(0x8e)](_0x3e54c7=>_0x3e54c7[_0x4a45a3(0x140)]!=_0x3d8ed4),logHistory('error',_0x4a45a3(0xc3)+_0x3d8ed4),_0x5b0c5d=!![];else _0x5eaaa6[_0x4a45a3(0xcb)]()[_0x4a45a3(0x156)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x4a45a3(0x8e)](_0x634e7e=>_0x634e7e[_0x4a45a3(0x140)]!=_0x3d8ed4),logHistory('error',_0x4a45a3(0x1d8)+_0x3d8ed4),_0x5b0c5d=!![]):(lastOrders=lastOrders[_0x4a45a3(0x8e)](_0x1f043d=>_0x1f043d['symbol']!=_0x3d8ed4),await handleError(_0x5eaaa6,_0x4a45a3(0x102),_0x3d8ed4));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3184ed=config['ordertype']==_0x4a45a3(0x14f)?validateOrderTimeout*0x3c*0x3e8:config[_0x4a45a3(0x1f3)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x312260=_0x4a45a3;validateOrders(_0x312260(0xaf));},_0x3184ed);}else unlockOrders();_0x5b0c5d&&config[_0x4a45a3(0x169)]&&await pauseBot(_0x4a45a3(0x1de)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4a45a3(0x85),_0x4a45a3(0xba)));}else{if(coolingDown)!config[_0x4a45a3(0x169)]&&logHistory(_0x4a45a3(0x137),_0x4a45a3(0x139));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x4a45a3(0x169)]&&(config['ordertype']==_0x4a45a3(0x14f)?logHistory(_0x4a45a3(0x137),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x4a45a3(0x137),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function _0xb418(){const _0x2206ce=['date','Order\x20is\x20invalid:\x20','decrypt','padStart','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','netoffset','limit-low','apiKey','full','toString','currency','22621908GvxjiI','getPortfolio(0)','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','2\x20-\x20Handled\x20open\x20orders','-events.json','orderId','Resetting\x20bot\x20history','max','recreate','Initializing\x20coin\x20results','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','round','parse','abs','apiSecret','clientOrderId','bid','InsufficientFunds','6257IKAeYB','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','balances','-performance.json','offset','net-basecoin','fee','watchOrders','Custom\x20ID:\x20','getStartingBalances','getPortfolio(2)','\x20order:\x20','autoliquidity','percentage','bb-secure.json','ordertype','6148730WzPuOG','min','Net\x20','./config/','uncaughtException','slice','limit-high','UNLOCKED','enabled','RSA-OAEP','coin-loading-progress','initial','Bot\x20','Order(s)\x20not\x20validated\x20after\x20','\x20API\x20secret\x20is\x20invalid','keys','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','storeConfiguration','log','placeOrder()','Fee\x20discount\x20refund\x20detected:\x20','sort','value','set','sell','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','getMinutes','timeshift','exchange\x20reloaded','buys','Fees\x20|\x20currency:\x20','differenceInSeconds','util','indexOf','DAI/','remainingSymbols','page','open','function','balancing\x20resumes\x20when\x20cooldown\x20ends','<b>','AuthenticationError','001','fetchOpenOrders','starting-balance-','fiat','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20|\x20highest:\x20','added','date-fns','excluded','no\x20open\x20orders','bot','toLowerCase','2\x20-\x20Orders\x20unlocked','/backup/','-results.json','Unfilled\x20order(s)\x20canceled\x20after\x20','cooldown','\x20minutes\x20-\x20','XEM/BUSD','Exchange','number','.json','fetchBalance','/EUR','openOrders','assign','argv','sendMetricsTelegram','getCoinNumber()','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','error','EUR','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','BNB/','test','7468sfxvlS','amount','3377PhzMIK','deleteHistoryAlerts','symbol','valid','portfolio','emitHistory','InvalidOrder','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','fetchTicker','order','cost','exchanges','watchTrades','timestamp','bot-','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','\x20portfolio:</b>\x20\x0a\x0a','market','stringify','resetHistory','forEach','send','shift','LOCKED','includes',':\x20timer\x20>','Invalid\x20API\x20key\x20or\x20secret\x20entered','ETH','Bitfinex2','getMonth','createOrder','446604Ngheom','find','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','limits','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','(((.+)+)+)+$','limit','defaults','No\x20more\x20open\x20orders\x20-\x20','USDT','\x20has\x20a\x2024h\x20drop\x20of\x20','headless','event','\x20>\x20','password','rightTxt','milliseconds','yyyy/MM/dd','emojibuy','getPortfolio(1)','message','getSeconds','removed','entries','./logs/','startprice','time','\x20value','2\x20-\x20FILLED\x20known\x20order:\x20','join','recent20','constructor','coins','datetime','<pre>','\x20not\x20responding','7KMijiM','Executed\x20','************','2.3.5','privateKey','unlinkSync','NANO/','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','1\x20-\x20Unlock\x20orders','apply','2\x20-\x20Validate\x20orders:\x20','showname','3\x20-\x20handling\x20FILLED\x20order:\x20','sendPortfolioTelegram','1936hpoSNF','Binance','BNB','Pausing\x20for\x20','push','random','no\x20additional\x20symbols','ccxt','version','get','Manual\x20balancing\x20required','Crypt','loadMarkets','initclient','loading-canceled','configuration','exchange\x20not\x20reloaded','change','sha256','2.6.0','\x20hour','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','data','breakeven','highest','bots','balancing\x20resumed','\x20metrics:</b>\x20\x0a\x0a','1626SSXnjY','yyyy-MM-dd\x27T\x27HH:mm:ss','secure','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','side','string','USD','cloneDeep','progress','fetchClosedOrders','path','orderstatus','getTime','hybrid-crypto-js','storeHeadless','placeOrder','lowdb/adapters/FileSync','logs','getDate','delta','starting-balances','floor','closed','warning','\x20:\x20','change24h','status','InvalidNonce','liquidity','writeFile','eur','last','debug','write','emojisell','mkdirSync','changes','getFullYear','usd','sortBy','25695NMXrqs','amountToPrecision','\x20>\x20[DEBUG]\x20','Transaction\x20detection\x20unblocked','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','fromCodePoint','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','Net\x20effect','restart','target','Avoiding\x20continuous\x20order\x20attempts',',\x20must\x20be\x20a\x203\x20digit\x20number','average','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','coin','realized','canceled','BUSD','sells','storeFiat','Portfolio\x20change\x20detected:\x20','</pre>','cancel','\x20|\x20','1\x20-\x20Validate\x20orders:\x20','cancelOrder','length','Error\x20while\x20deleting\x20files:\x20','0\x20-\x20EXECUTION:\x20','Transaction\x20detection\x20blocked','timeout','freeze','showConfig','split','getCoins()','startnumber','lowdb','basecoin','concat','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20minutes','apiPassword','buy','reverse','trade','padEnd','ticker','success','-------------------------------\x0a','<b>Bot\x20','RequestTimeout','yargs/yargs','running','ORDERS.UNLOCKED','HOT/BTC','startsWith','filter','format','getHours','threshold','botname','distribution','filled','BTC','customId','\x20|\x20Error\x20details:\x20','\x20|\x20lock\x20orders:\x20','Executing\x20exchange\x20reload','%\x20(','Unknown\x20error\x20occured','performance','leftTxt','48310RJHLGu','Balance\x20Bot\x20does\x20not\x20support\x20the\x20',':\x20Bot\x20','\x20-\x20bot\x20not\x20started','settings','type','symbols','kill','args','price','/USD','remove','replace','total','ExchangeNotAvailable','splice','exchange','final','has','\x20|\x20Type:\x20','1\x20-\x20FILLED:\x20','net-fiat','onepagemode','Order\x20filled:\x20','toFixed','close','ORDERS.UNLOCKING','loadSymbols()','Cooldown\x20ended\x20-\x20balancing\x20resumed','398yhWPSI','isEqual','exec','ongoing','***','startdate','existsSync'];_0xb418=function(){return _0x2206ce;};return _0xb418();}function persistOpenOrders(_0x364a8f){const _0x54f58c=_0x115f29,_0x1fbd43={...config,'openOrders':_0x364a8f};let _0x1285da=dbConfig[_0x54f58c(0x199)]('bot')[_0x54f58c(0x15e)]({'botID':botID})[_0x54f58c(0x105)]();_0x1285da&&dbConfig[_0x54f58c(0x199)](_0x54f58c(0x123))[_0x54f58c(0x15e)]({'botID':botID})[_0x54f58c(0x132)](_0x1fbd43)['write']();}function restoreOrders(){const _0x340980=_0x115f29;let _0x140833;config[_0x340980(0x131)]&&allOpenOrders[_0x340980(0x152)](_0x1a15e2=>{const _0x2ed95e=_0x340980,_0x5635b8=config[_0x2ed95e(0x131)]['find'](_0x25b0db=>_0x25b0db[_0x2ed95e(0xd2)]==_0x1a15e2['id']);_0x5635b8&&(lastOrders[_0x2ed95e(0x194)](_0x5635b8),_0x140833=_0x1a15e2[_0x2ed95e(0x14b)]);});if(lastOrders[_0x340980(0x1ef)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x340980(0xbe),allOrdersPlaced=!![];const _0x1e072d=new Date()['getTime'](),_0x9801fd=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x340980(0x1f3)]*0x3c*0x3e8;if(_0x140833+_0x9801fd>_0x1e072d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x447129=_0x340980;validateOrders(_0x447129(0xaf));},_0x140833+_0x9801fd-_0x1e072d);}else validateOrders(_0x340980(0xaf));}}async function sendMetricsTelegram(){const _0x3ae93c=_0x115f29;if(!coinsLoaded){process[_0x3ae93c(0x153)]({'telegrammsg':_0x3ae93c(0x1da)},_0x1fd7fa=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x250676='';if(config[_0x3ae93c(0x18d)])_0x250676=_0x3ae93c(0x117)+config[_0x3ae93c(0x92)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x250676=_0x3ae93c(0x87)+botID+_0x3ae93c(0x1ab);const _0x4d9c6b=getKPIs('basecoin'),_0x346930=getKPIs(_0x3ae93c(0x11c),config['fiat']),_0x336639=getKPIs(_0x3ae93c(0xe4)),_0x2e74b0=getKPIs(_0x3ae93c(0xb3),config[_0x3ae93c(0x11c)]);_0x250676+=_0x3ae93c(0x180),_0x250676+=_0x4d9c6b[_0x3ae93c(0x9d)]+_0x3ae93c(0x1c4)+_0x4d9c6b[_0x3ae93c(0x105)]+'\x0a',_0x250676+=_0x4d9c6b[_0x3ae93c(0x16d)]+':\x20'+_0x4d9c6b['change']+'%\x0a',_0x250676+=_0x346930['leftTxt']+_0x3ae93c(0x1c4)+_0x346930['value']+'\x0a',_0x250676+=_0x346930['rightTxt']+':\x20'+_0x346930[_0x3ae93c(0x1a1)]+'%\x0a',_0x250676+=_0x336639['leftTxt']+':\x20'+_0x336639[_0x3ae93c(0x105)]+'\x20('+config[_0x3ae93c(0x1fa)]+')\x0a',_0x250676+=_0x336639[_0x3ae93c(0x16d)]+':\x20'+_0x336639[_0x3ae93c(0x1a1)]+_0x3ae93c(0x9a)+config[_0x3ae93c(0x1fa)]+')\x0a',_0x250676+=_0x2e74b0['leftTxt']+':\x20'+_0x2e74b0['value']+'\x20('+config[_0x3ae93c(0x11c)]+')\x0a',_0x250676+=_0x2e74b0[_0x3ae93c(0x16d)]+':\x20'+_0x2e74b0[_0x3ae93c(0x1a1)]+_0x3ae93c(0x9a)+config[_0x3ae93c(0x11c)]+')\x0a',_0x250676+='</pre>',process['send']({'telegrammsg':_0x250676},_0x58a901=>{});}async function sendPortfolioTelegram(){const _0x2761b5=_0x115f29;if(!coinsLoaded){process['send']({'telegrammsg':_0x2761b5(0x1da)},_0x144ea6=>{});return;}let _0x4a4ec4='';if(config[_0x2761b5(0x18d)])_0x4a4ec4='<b>'+config[_0x2761b5(0x92)]+_0x2761b5(0x14e);else _0x4a4ec4='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x4a4ec4+=_0x2761b5(0x180),_0x4a4ec4+='-------------------------------\x0a',_0x4a4ec4+=_0x2761b5(0x11d),_0x4a4ec4+=_0x2761b5(0x86),currentCoins['forEach'](_0x51fb1b=>{const _0x4f58a2=_0x2761b5;_0x4a4ec4+=_0x51fb1b[_0x4f58a2(0x1e3)][_0x4f58a2(0x83)](0x7)+'|\x20'+formatPad(_0x51fb1b[_0x4f58a2(0x93)],0x2,0x6)+'|\x20'+formatPad(_0x51fb1b[_0x4f58a2(0x1dd)],0x2,0x6)+'|\x20'+formatPad(_0x51fb1b[_0x4f58a2(0x1bf)]*0x64,0x2,0x6)+'\x0a';}),_0x4a4ec4+=_0x2761b5(0x1ea),process['send']({'telegrammsg':_0x4a4ec4},_0x311953=>{});}function formatPad(_0x190a03,_0x14aeb1,_0x352841){const _0x1ebdf0=_0x115f29,_0x275cf1=formatResultString(_0x190a03,_0x14aeb1);return _0x275cf1?_0x275cf1[_0x1ebdf0(0xc5)](_0x352841):''[_0x1ebdf0(0xc5)](_0x352841);}function logHistory(_0x4083b5,_0x5edac4,_0x1c8eed=''){const _0x3bb02e=_0x115f29;let _0x24cd70={'time':getTimeStamp(),'type':_0x4083b5,'event':_0x5edac4};dbLogs[_0x3bb02e(0x199)](_0x3bb02e(0x1bd))[_0x3bb02e(0x194)](_0x24cd70)['write']();if(_0x1c8eed=='')_0x1c8eed=_0x5edac4;proxyEmit(_0x3bb02e(0x16a),{'log':_0x24cd70,'summary':_0x1c8eed}),process[_0x3bb02e(0x153)]({'telegram':{..._0x24cd70,'botname':config[_0x3bb02e(0x92)],'showname':config['showname']}},_0x58fb26=>{}),logger['full'](''+_0x24cd70[_0x3bb02e(0x16a)]);}function emitHistory(_0x3b6607={}){const _0x1a05a2=_0x115f29;Object[_0x1a05a2(0xfe)](_0x3b6607)[_0x1a05a2(0x1ef)]==0x0&&(_0x3b6607={'type':[_0x1a05a2(0x147),_0x1a05a2(0x16a)],'event':'','page':0x1});if(_0x3b6607[_0x1a05a2(0xa3)][_0x1a05a2(0x156)](_0x1a05a2(0x16a)))_0x3b6607[_0x1a05a2(0xa3)][_0x1a05a2(0xad)](_0x3b6607[_0x1a05a2(0xa3)][_0x1a05a2(0x110)]('event'),0x1,'error',_0x1a05a2(0x1c3),_0x1a05a2(0x85));if(dbLogs[_0x1a05a2(0xb0)]('logs')[_0x1a05a2(0x105)]()){let _0x41463a=dbLogs[_0x1a05a2(0x199)](_0x1a05a2(0x1bd))[_0x1a05a2(0x8e)](_0x2f0ce9=>{const _0x5af84c=_0x1a05a2;if(_0x3b6607[_0x5af84c(0xa3)][_0x5af84c(0x1ef)]==0x0)return![];else return _0x3b6607['type']['includes'](_0x2f0ce9[_0x5af84c(0xa3)]);})[_0x1a05a2(0x8e)](_0x3b0706=>{const _0x357624=_0x1a05a2;if(_0x3b6607[_0x357624(0x16a)]=='')return!![];else return _0x3b0706[_0x357624(0x16a)][_0x357624(0x124)]()['includes'](_0x3b6607[_0x357624(0x16a)]['toLowerCase']());})[_0x1a05a2(0x1d3)](_0x1a05a2(0x178)),_0x4a53c8=_0x41463a[_0x1a05a2(0x105)]()['length'];_0x41463a=_0x41463a[_0x1a05a2(0x200)]()['slice']((_0x3b6607[_0x1a05a2(0x113)]-0x1)*logPageSize,_0x3b6607[_0x1a05a2(0x113)]*logPageSize-0x1)['reverse']()[_0x1a05a2(0x105)](),proxyEmit('event-history',{'logs':_0x41463a,'total':_0x4a53c8});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x21fd27){const _0x43176c=_0x115f29;if(dbLogs[_0x43176c(0xb0)](_0x43176c(0x1bd))[_0x43176c(0x105)]()){const _0x3a8685=dbLogs[_0x43176c(0x199)](_0x43176c(0x1bd))[_0x43176c(0x1d3)]('time')['filter'](_0x10ec66=>{const _0x4782b9=_0x43176c;return _0x10ec66[_0x4782b9(0xa3)]==_0x4782b9(0x147);})[_0x43176c(0x105)]();dbLogs['get'](_0x43176c(0x1bd))[_0x43176c(0xa9)]()['write'](),dbLogs[_0x43176c(0x199)](_0x43176c(0x1bd))['assign'](_0x3a8685)[_0x43176c(0x1cd)](),emitHistory(_0x21fd27);}}async function pauseBot(_0x5b185f=''){const _0x44e72a=_0x115f29,_0x11d750=new Date()[_0x44e72a(0x1b8)]();if(!lastErrorShown||_0x11d750-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x11d750;!lastBotPause?(lastBotPause=_0x11d750,consecutivePauses=0x1):(_0x11d750-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x36d6f1=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x44e72a(0x1b8)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x5b185f)_0x5b185f+=_0x44e72a(0x1ec);logHistory(_0x44e72a(0x137),_0x5b185f+_0x44e72a(0x193)+pauseBotInterval/0xea60+_0x44e72a(0x1fd)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x4f3ee0=_0x115f29;process['send']({'stop':_0x4f3ee0(0xa5)},_0x4b3e4f=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x354584,_0x410656){const _0x3aa5b6=_0x115f29;if(_0x354584['toString']()[_0x3aa5b6(0x156)]('API-key\x20format\x20invalid'))return logHistory(_0x3aa5b6(0x137),config['exchange']+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x354584['toString']()[_0x3aa5b6(0x156)](_0x3aa5b6(0x189)))return logHistory('error',config[_0x3aa5b6(0xae)]+_0x3aa5b6(0xff)),![];else{if(_0x354584[_0x3aa5b6(0xcb)]()[_0x3aa5b6(0x156)](_0x3aa5b6(0x118)))return logHistory(_0x3aa5b6(0x137),config['exchange']+_0x3aa5b6(0x145)),logHistory(_0x3aa5b6(0x137),_0x3aa5b6(0x1e1)),![];else await handleError(_0x354584,_0x410656);}}}async function handleError(_0x37b779,_0x3272c2,_0xd3bf14=''){const _0x15e75c=_0x115f29,_0x24ee7d=config[_0x15e75c(0xae)]||_0x15e75c(0x12c);if(_0x37b779[_0x15e75c(0xcb)]()['includes']('DDoSProtection'))await pauseBot(config[_0x15e75c(0xae)]+_0x15e75c(0x108));else{if(_0x37b779['toString']()[_0x15e75c(0x156)](_0x15e75c(0xac)))await pauseBot(config[_0x15e75c(0xae)]+'\x20not\x20available');else{if(_0x37b779[_0x15e75c(0xcb)]()['includes'](_0x15e75c(0x88)))await pauseBot(config[_0x15e75c(0xae)]+_0x15e75c(0x181));else{if(_0x37b779[_0x15e75c(0xcb)]()[_0x15e75c(0x156)](_0x15e75c(0x15f)))await pauseBot(config[_0x15e75c(0xae)]+'\x20closed\x20the\x20connection');else{if(_0x37b779[_0x15e75c(0xcb)]()[_0x15e75c(0x156)](_0x15e75c(0x1e2)))logHistory(_0x15e75c(0x137),_0x3272c2+_0x15e75c(0xcf)),logHistory(_0x15e75c(0x137),_0x15e75c(0xd7)),await killBot();else{if(_0x37b779[_0x15e75c(0xcb)]()[_0x15e75c(0x156)](_0x15e75c(0x1c7)))logHistory(_0x15e75c(0x137),_0x3272c2+_0x15e75c(0x14d)),logHistory(_0x15e75c(0x137),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x37b779[_0x15e75c(0xcb)]()[_0x15e75c(0x156)]('API-key\x20format\x20invalid'))logHistory(_0x15e75c(0x137),_0x3272c2+_0x15e75c(0x1ec)+config['exchange']+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x15e75c(0x137),_0x15e75c(0xd7)),await killBot();else{if(_0x37b779[_0x15e75c(0xcb)]()[_0x15e75c(0x156)](_0x15e75c(0x189)))logHistory(_0x15e75c(0x137),_0x3272c2+_0x15e75c(0x1ec)+config[_0x15e75c(0xae)]+_0x15e75c(0xfd)),logHistory(_0x15e75c(0x137),_0x15e75c(0xd7)),await killBot();else{if(_0x37b779[_0x15e75c(0xcb)]()[_0x15e75c(0x156)](_0x15e75c(0x118)))logHistory(_0x15e75c(0x137),_0x3272c2+_0x15e75c(0x1ec)+config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x15e75c(0x137),_0x15e75c(0xd7)),await killBot();else _0x37b779[_0x15e75c(0xcb)]()['includes'](_0x15e75c(0xde))?logHistory('error',_0x3272c2+_0x15e75c(0x162)+_0xd3bf14):(logger[_0x15e75c(0xca)](_0x3272c2+_0x15e75c(0x97),_0x37b779),await pauseBot(_0x15e75c(0x9b)));}}}}}}}}}function formatResult(_0x2b821b,_0x340d6f){const _0x20f0dd=_0x115f29;return parseFloat(_0x2b821b[_0x20f0dd(0xb6)](_0x340d6f));}function formatResultTruncate(_0x4fa294,_0x300d01){const _0x47824c=_0x115f29;let _0x4eb6f8=formatResultString(_0x4fa294,0xa),_0x3330f=_0x4eb6f8[_0x47824c(0x110)]('.');return _0x3330f!=-0x1&&(_0x4eb6f8=_0x4eb6f8[_0x47824c(0xf4)](0x0,_0x3330f+_0x300d01+0x1)),Number(_0x4eb6f8);}function formatResultString(_0x5a3689,_0x321c47){const _0x3553d5=_0x115f29;let _0x19d6cf;if(!(''+_0x5a3689)[_0x3553d5(0x156)]('e'))_0x19d6cf=+(Math[_0x3553d5(0xd8)](_0x5a3689+'e+'+_0x321c47)+'e-'+_0x321c47);else{let _0x5584d1=(''+_0x5a3689)['split']('e'),_0xe0df9e='';+_0x5584d1[0x1]+_0x321c47>0x0&&(_0xe0df9e='+'),_0x19d6cf=+(Math[_0x3553d5(0xd8)](+_0x5584d1[0x0]+'e'+_0xe0df9e+(+_0x5584d1[0x1]+_0x321c47))+'e-'+_0x321c47);}return Number(_0x19d6cf)[_0x3553d5(0xb6)](_0x321c47);}function getServerTime(){const _0x375c90=_0x115f29,_0xafa78b=new Date();return _0xafa78b['getFullYear']()+'/'+(_0xafa78b['getMonth']()+0x1)[_0x375c90(0xcb)]()[_0x375c90(0xc5)](0x2,'0')+'/'+_0xafa78b[_0x375c90(0x1be)]()['toString']()[_0x375c90(0xc5)](0x2,'0')+'\x20'+_0xafa78b[_0x375c90(0x90)]()[_0x375c90(0xcb)]()[_0x375c90(0xc5)](0x2,'0')+':'+_0xafa78b[_0x375c90(0x109)]()[_0x375c90(0xcb)]()[_0x375c90(0xc5)](0x2,'0')+':'+_0xafa78b['getSeconds']()[_0x375c90(0xcb)]()[_0x375c90(0xc5)](0x2,'0');}function getTimeStamp(){const _0x3e70f4=_0x115f29,_0x1e2c5c=shiftedTime();return _0x1e2c5c[_0x3e70f4(0x1d1)]()+'/'+(_0x1e2c5c[_0x3e70f4(0x15b)]()+0x1)[_0x3e70f4(0xcb)]()['padStart'](0x2,'0')+'/'+_0x1e2c5c[_0x3e70f4(0x1be)]()[_0x3e70f4(0xcb)]()[_0x3e70f4(0xc5)](0x2,'0')+'\x20'+_0x1e2c5c[_0x3e70f4(0x90)]()[_0x3e70f4(0xcb)]()[_0x3e70f4(0xc5)](0x2,'0')+':'+_0x1e2c5c[_0x3e70f4(0x109)]()[_0x3e70f4(0xcb)]()['padStart'](0x2,'0')+':'+_0x1e2c5c[_0x3e70f4(0x173)]()[_0x3e70f4(0xcb)]()[_0x3e70f4(0xc5)](0x2,'0');}function getDate(){const _0x2b26a0=_0x115f29,_0x17fb98=shiftedTime();return _0x17fb98[_0x2b26a0(0x1d1)]()+'/'+(_0x17fb98['getMonth']()+0x1)[_0x2b26a0(0xcb)]()[_0x2b26a0(0xc5)](0x2,'0')+'/'+_0x17fb98[_0x2b26a0(0x1be)]()[_0x2b26a0(0xcb)]()[_0x2b26a0(0xc5)](0x2,'0');}function getHour(){const _0x496a0d=_0x115f29,_0xa8d5b4=shiftedTime();return _0xa8d5b4[_0x496a0d(0x90)]()['toString']()[_0x496a0d(0xc5)](0x2,'0');}function sleep(_0x5d5669){return new Promise(_0x23093f=>setTimeout(_0x23093f,_0x5d5669));}function shiftedTime(){const _0x310b20=_0x115f29,_0x27e91a=new Date();let _0x4a7bc6=_0x27e91a;if(config&&config[_0x310b20(0x10a)]!==0x0)_0x4a7bc6=fns['add'](_0x27e91a,{'hours':config[_0x310b20(0x10a)]});return _0x4a7bc6;}function timer(_0x593d8d){const _0x16fd31=_0x115f29,_0x17cb5a=new Date();!lasttime?console['log'](getTimeStamp()+_0x16fd31(0x157),_0x593d8d,_0x17cb5a):console[_0x16fd31(0x101)](getTimeStamp()+_0x16fd31(0x157),_0x593d8d,(_0x17cb5a-lasttime)/0x3e8),lasttime=_0x17cb5a;}