const _0xd0190=_0x1367;(function(_0x3d56f0,_0x45e1f6){const _0x2a2ec1=_0x1367,_0x342973=_0x3d56f0();while(!![]){try{const _0x308907=parseInt(_0x2a2ec1(0x18c))/0x1*(parseInt(_0x2a2ec1(0x1d7))/0x2)+parseInt(_0x2a2ec1(0x1f1))/0x3*(parseInt(_0x2a2ec1(0x2c7))/0x4)+parseInt(_0x2a2ec1(0x1a0))/0x5+-parseInt(_0x2a2ec1(0x204))/0x6*(-parseInt(_0x2a2ec1(0x1af))/0x7)+-parseInt(_0x2a2ec1(0x1cf))/0x8+-parseInt(_0x2a2ec1(0x21d))/0x9+-parseInt(_0x2a2ec1(0x2cf))/0xa*(-parseInt(_0x2a2ec1(0x193))/0xb);if(_0x308907===_0x45e1f6)break;else _0x342973['push'](_0x342973['shift']());}catch(_0x20f8a4){_0x342973['push'](_0x342973['shift']());}}}(_0x3c52,0x75419));const _0x45d25e=function(){let _0x5267ee=!![];return function(_0x53c552,_0x529db8){const _0x2838f3=_0x5267ee?function(){const _0x589604=_0x1367;if(_0x529db8){const _0x2c226e=_0x529db8[_0x589604(0x2a0)](_0x53c552,arguments);return _0x529db8=null,_0x2c226e;}}:function(){};return _0x5267ee=![],_0x2838f3;};}(),_0x193d69=_0x45d25e(this,function(){const _0x26446f=_0x1367;return _0x193d69[_0x26446f(0x250)]()[_0x26446f(0x19b)](_0x26446f(0x256))['toString']()[_0x26446f(0x2d7)](_0x193d69)[_0x26446f(0x19b)](_0x26446f(0x256));});_0x193d69();'use strict';const ccxt=require(_0xd0190(0x230)),low=require(_0xd0190(0x26d)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0xd0190(0x2d6)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require('hybrid-crypto-js')[_0xd0190(0x1e8)],util=require(_0xd0190(0x2db));let exchange,wsClient;global[_0xd0190(0x1b4)]={},global[_0xd0190(0x1e5)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0xd0190(0x278),_0xd0190(0x211),_0xd0190(0x1d5),_0xd0190(0x19d),'NANO/',_0xd0190(0x180)];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xd0190(0x181)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0xd0190(0x2ae)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')['version'],botID=process[_0xd0190(0x2cd)][0x2]||_0xd0190(0x295),pattern=/^[0-9]{3}$/;!pattern[_0xd0190(0x2a7)](botID)&&(console[_0xd0190(0x2cc)](_0xd0190(0x1a8)+botID+_0xd0190(0x18a)),process[_0xd0190(0x2ad)](0x1));function _0x1367(_0x24a3c0,_0x429fbc){const _0x1479e2=_0x3c52();return _0x1367=function(_0x193d69,_0x45d25e){_0x193d69=_0x193d69-0x179;let _0x3c5255=_0x1479e2[_0x193d69];return _0x3c5255;},_0x1367(_0x24a3c0,_0x429fbc);}const userID=process[_0xd0190(0x2cd)][0x3]||'',configpath=userID?_0xd0190(0x20a)+userID+'/':'./config/',logspath=userID?_0xd0190(0x2b0)+userID+'/':_0xd0190(0x2b0),loggerfile=fs['createWriteStream'](logspath+_0xd0190(0x1f2),{'flags':'a'});!fs[_0xd0190(0x2b2)](configpath)&&fs[_0xd0190(0x1d6)](configpath);!fs['existsSync'](logspath)&&fs[_0xd0190(0x1d6)](logspath);const configfile=configpath+_0xd0190(0x282)+botID+'-config.json',logfile=configpath+_0xd0190(0x282)+botID+_0xd0190(0x24e),performancefile=configpath+_0xd0190(0x282)+botID+_0xd0190(0x203),coinresultsfile=configpath+_0xd0190(0x282)+botID+_0xd0190(0x277),settingsfile=configpath+_0xd0190(0x26a),securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xd0190(0x290)]({'logs':[]})[_0xd0190(0x1da)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);function _0x3c52(){const _0x11ae78=['fiat','emojibuy','2\x20-\x20FILLED\x20unknown\x20order:\x20','fetchBalance','1\x20-\x20FILLED:\x20','set','send','bb-settings.json','getMonth','event-history','lowdb','configuration-stored','time','Binance\x20not\x20available\x20(1)','commissionAsset','trade','realized','leftTxt','basecoin','eventType','-results.json','DAI/','deleteHistoryAlerts','reconnected','AuthenticationError','target','args','number','abs','Net\x20effect','binanceus','bot-','symbol','accumulatedQuantity','indexOf','replace','milliseconds','\x20|\x20Error\x20details:\x20','getFullYear','Order(s)\x20filled\x20-\x20','limits','timestamp','Unknown\x20error\x20occured','format','full','defaults','find','wsUrl','offset','join','001','concat','no\x20open\x20orders','BTC','subscribeSymbol24hrTicker','yyyy/MM/dd','1\x20-\x20Unlock\x20orders','fee','Manual\x20balancing\x20required','\x20|\x20','breakeven','apply','storeHeadless','recreateCoinResults()','\x20>\x20','binance','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','getMinutes','test','BUSD','Pausing\x20for\x20','wsMarket','apiKey','LOCKED','exit','UNLOCKED','liquidity','./logs/','settings','existsSync','getPortfolio()','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','getTime','has','Market','get','userData','message','3\x20-\x20handling\x20FILLED\x20order:\x20','USDT','orderStatus','bot','api_secret','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','placeOrder','WebSockets(','last','Limit\x20(low-margin)','cancelOrders()','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','1580DkldQk','newClientOrderId','ORDERS.UNLOCKING','event','getCoinNumber()','log','argv','Net\x20effect\x20(','18310uWoVnx','max','sha256','Failed\x20to\x20load\x20coin\x20data\x20for\x20','fromCodePoint','progress','initial','date-fns','constructor','order','symbols','getFiat()','util','botID','initws()','open','Limit\x20(high-margin)','toggleBotMode','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','eur','\x20hour','currency','UNLOCKING','wsKey','net-basecoin','orderId','2\x20-\x20Orders\x20unlocked','\x20:\x20','forEach','wss://stream.binance.com:9443','sendPortfolioTelegram','YOYOW/','freeze','\x20-\x20bot\x20not\x20started','emitHistory','fetchTickers','portfolio','writeFile','distribution','delta','sort',',\x20must\x20be\x20a\x203\x20digit\x20number','<pre>','11813lgOQVU',')\x20|\x20Error\x20details:\x20','differenceInSeconds','startnumber','\x20-\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','CANCELED','1903kALGiM','market','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','restart','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','recreate','************','API-key\x20format\x20invalid','search','Order(s)\x20validated\x20-\x20','XEM/BUSD','filled','rightTxt','1008305KSIpPn','Executed\x20','Binance\x20API\x20blocked','cooldown','data','\x20>\x20[DEBUG]\x20','exchange','placeOrder()','Error:\x20Invalid\x20argument\x20','ordertype','cost','final','<b>Bot\x20','assign','Bot\x20','119IEUSkn','EUR','\x20portfolio:</b>\x20\x0a\x0a','keys','reverse','ticker','emojisell','limit-low','entries','logs','orderstatus','value','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','toFixed','warning','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','push','openOrders','NEW','error','</pre>','getCoins()','usd','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','getOpenOrders()','RequestTimeout','InvalidNonce','padStart','datetime','remove','sortBy','ExchangeNotAvailable','3837032xkDOEa','ongoing','Binance\x20not\x20responding','debug','\x20minutes','stringify','HOT/EUR','mkdirSync','92WJovOT','2.5.0','getDate','write','apiSecret','limit-high','API\x20or\x20clock\x20sync\x20issue','type','filter','No\x20more\x20open\x20orders\x20-\x20',':\x20Bot\x20','canceled','uncaughtException','price','change','cancelOrder','Binance\x20API\x20key\x20is\x20invalid','Crypt','yyyy-MM-dd\x27T\x27HH:mm:ss','Order(s)\x20not\x20validated\x20after\x20','includes','kline','spot','2.3.5','shift','fetchOpenOrders','207oNRfUi','/output-000.log','sells','side','loadSymbols()','DDoSProtection','precision','startprice','parse','decrypt','***','timeout','starting-balance-','buys','valid','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','priceChangePercent','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','-performance.json','235848yPQFya','bid','coin-loading-progress','exec','length','success','./config/','getHours','\x20|\x20Binance\x20API\x20key\x20invalid','date','min','remainingSymbols','2\x20-\x20Validate\x20orders:\x20','HOT/BTC','map','kill','threshold','string','0\x20-\x20EXECUTION:\x20','random','2\x20-\x20Handled\x20open\x20orders','sell','close','customId','\x20change','7176627IzxLZA','balancing\x20resumes\x20when\x20cooldown\x20ends','headless','subscribeSpotKline','add','formattedMessage','net-fiat','Invalid\x20quantity','buy','slice','page','startdate','timeshift','split','starting-balances','coins','changes','RSA-OAEP','Net\x20','ccxt','recovery','1\x20-\x20Handle\x20open\x20orders','cumulativeQuoteAssetTransactedQty','balancing\x20resumed','version','splice','Binance\x20not\x20available\x20(2)','ETH','FILLED','total','subscribeSpotUserDataStream','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','coin','BNB','wss://stream.binance.us:9443','amount','round','InsufficientFunds','showname','performance','configuration','fees','api_key','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','balances','none','botname','\x20order:\x20','findIndex','-events.json','\x20minutes\x20-\x20','toString','isArray','toLowerCase','\x20value','Cooldown\x20ended\x20-\x20balancing\x20resumed','cloneDeep','(((.+)+)+)+$','running','change24h','cancel','initclient','BNB/','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','function','fetchClosedOrders','getSeconds','\x20has\x20a\x2024h\x20drop\x20of\x20','createOrder','simple'];_0x3c52=function(){return _0x11ae78;};return _0x3c52();}dbPerformance[_0xd0190(0x290)]({'data':[]})[_0xd0190(0x1da)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0xd0190(0x1da)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xd0190(0x290)]({'coins':[]})[_0xd0190(0x1da)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0xb86c9)=>{},'debug':(..._0x347321)=>{},'notice':(..._0x4ffc7d)=>{},'info':(..._0x3edaf5)=>{},'warning':(..._0x393b6f)=>{},'error':async function(..._0x5a0b19){const _0x4a3a7b=_0xd0190,_0x1c5f15=new Date()['getTime']();if(!lastErrorShown||_0x1c5f15-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x4a3a7b(0x2b5)]();let _0x370d2e='';if(_0x5a0b19[0x0])_0x370d2e+=_0x5a0b19[0x0];if(_0x5a0b19[0x1]&&_0x5a0b19[0x1][_0x4a3a7b(0x1c2)]&&_0x5a0b19[0x1]['error']['message'])_0x370d2e+=_0x4a3a7b(0x190)+_0x5a0b19[0x1][_0x4a3a7b(0x1c2)][_0x4a3a7b(0x2ba)];logger['full'](_0x4a3a7b(0x2c2)+consecutivePauses+_0x4a3a7b(0x18d),''+_0x370d2e),await pauseBot(_0x4a3a7b(0x270));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0xd0190(0x2d1),'rsaStandard':_0xd0190(0x22e)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x575812=>{console['log'](_0x575812);},'simple':_0xb64057=>{const _0x10092d=_0xd0190;console[_0x10092d(0x2cc)](_0xb64057),loggerfile[_0x10092d(0x1da)](util[_0x10092d(0x28e)](_0xb64057)+'\x0a');},'full':async(_0x55cd7e,_0x47e9ac='')=>{const _0x25a4b3=_0xd0190;let _0x4c6a77;if(config[_0x25a4b3(0x243)])_0x4c6a77=getTimeStamp()+':\x20'+config['botname']+_0x25a4b3(0x2a3)+_0x55cd7e;else _0x4c6a77=getTimeStamp()+_0x25a4b3(0x1e1)+botID+_0x25a4b3(0x2a3)+_0x55cd7e;console[_0x25a4b3(0x2cc)](_0x4c6a77),loggerfile[_0x25a4b3(0x1da)](util['format'](_0x4c6a77)+'\x0a'),_0x47e9ac&&(console[_0x25a4b3(0x2cc)](_0x47e9ac),loggerfile[_0x25a4b3(0x1da)](util[_0x25a4b3(0x28e)](_0x47e9ac)+'\x0a'));},'debug':async(_0x47077a,_0x4a1b4f='')=>{const _0x121265=_0xd0190;let _0xe58df4;if(config[_0x121265(0x243)])_0xe58df4=getTimeStamp()+':\x20'+config['botname']+_0x121265(0x1a5)+_0x47077a;else _0xe58df4=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20[DEBUG]\x20'+_0x47077a;if(debugLoggingScreen)console[_0x121265(0x2cc)](_0xe58df4);loggerfile['write'](util[_0x121265(0x28e)](_0xe58df4)+'\x0a');if(_0x4a1b4f){if(debugLoggingScreen)console['log'](_0x4a1b4f);loggerfile[_0x121265(0x1da)](util['format'](_0x4a1b4f)+'\x0a');}}};process['on'](_0xd0190(0x1e3),function(_0x274cf2){const _0x236522=_0xd0190;logger[_0x236522(0x262)](_0x274cf2);});settings[_0xd0190(0x229)]!=config['timeshift']&&updateTimeshift(settings[_0xd0190(0x229)]);process[_0xd0190(0x269)]({'started':_0xd0190(0x257)},_0x17dfd7=>{}),initializeProcessListeners();function proxyEmit(_0x59ac63,_0x1a1706=null){const _0x4cfb1a=_0xd0190;process[_0x4cfb1a(0x269)]({'function':_0x59ac63,'args':_0x1a1706},_0x315183=>{});}function initializeProcessListeners(){const _0x4c7c06=_0xd0190;process['on'](_0x4c7c06(0x2ba),_0x196c24=>{const _0x49ef8d=_0x4c7c06;switch(Object[_0x49ef8d(0x1b2)](_0x196c24)[0x0]){case _0x49ef8d(0x229):_0x196c24[_0x49ef8d(0x229)]!=undefined&&(settings['timeshift']=_0x196c24[_0x49ef8d(0x229)],updateTimeshift(settings[_0x49ef8d(0x229)]));break;case _0x49ef8d(0x25d):switch(_0x196c24[_0x49ef8d(0x25d)]){case _0x49ef8d(0x25a):initclient();break;case _0x49ef8d(0x2e0):toggleBotMode();break;case _0x49ef8d(0x183):emitHistory(_0x196c24[_0x49ef8d(0x27d)]);break;case _0x49ef8d(0x279):deleteHistoryAlerts(_0x196c24[_0x49ef8d(0x27d)]);break;case'getPortfolio':getPortfolio(_0x196c24['args']);break;case'storeConfiguration':storeConfiguration(_0x196c24[_0x49ef8d(0x27d)]);break;case _0x49ef8d(0x2a1):storeHeadless(_0x196c24[_0x49ef8d(0x27d)]);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x49ef8d(0x2c1):placeOrder(_0x196c24['args']);break;case'cancelLoading':cancelLoading();break;case _0x49ef8d(0x17f):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x456aba=_0xd0190;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''&&config[_0x456aba(0x2ab)]!=_0x456aba(0x1fb)){await initExchange(config[_0x456aba(0x2ab)],config['apiSecret']),await initWsEvents();let _0x38366f=![];try{_0x38366f=await loadSymbols();}catch(_0x5464a3){handleError(_0x5464a3,_0x456aba(0x1f5));}if(_0x38366f){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x456aba(0x208)]==0x0&&allOpenOrders[_0x456aba(0x208)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x37021e,_0x4d9a69){const _0x59e313=_0xd0190,_0x534fdd=ccxt[config[_0x59e313(0x1a6)]];let _0x291f72;switch(config[_0x59e313(0x1a6)]){case _0x59e313(0x2a4):_0x291f72='wss://stream.binance.com:9443';break;case _0x59e313(0x281):_0x291f72=_0x59e313(0x23f);break;default:_0x291f72=_0x59e313(0x17e);}exchange=new _0x534fdd({'apiKey':_0x37021e,'secret':_0x4d9a69,'timeout':0x7530,'enableRateLimit':!![]}),wsClient['options'][_0x59e313(0x247)]=_0x37021e,wsClient['options'][_0x59e313(0x2bf)]=_0x4d9a69,wsClient['options'][_0x59e313(0x292)]=_0x291f72;let _0xe5fa53=config[_0x59e313(0x1a6)]==_0x59e313(0x281)?_0x59e313(0x2bc):_0x59e313(0x1b0),_0x50ff74=config[_0x59e313(0x275)]==_0x59e313(0x238)?_0x59e313(0x238):_0x59e313(0x298);stablecoins={'eur':{'coin':''+_0x50ff74+_0xe5fa53,'symbol':_0x50ff74+'/'+_0xe5fa53},'usd':{'coin':_0x50ff74+_0x59e313(0x2bc),'symbol':_0x50ff74+'/USDT'}};}async function initWsEvents(){const _0x57dd57=_0xd0190;!wsClient['_events'][_0x57dd57(0x222)]&&wsClient['on']('formattedMessage',_0x12eae7=>{const _0x1f947d=_0x57dd57;if(isWsFormattedKline(_0x12eae7)){global['ticker'][_0x12eae7['kline'][_0x1f947d(0x283)]]=_0x12eae7[_0x1f947d(0x1ec)][_0x1f947d(0x21a)];return;}else{if(isWsFormatted24hrTicker(_0x12eae7)){global[_0x1f947d(0x1e5)][_0x12eae7[_0x1f947d(0x283)]]=_0x12eae7[_0x1f947d(0x201)];return;}else{if(!Array[_0x1f947d(0x251)](_0x12eae7)&&_0x12eae7[_0x1f947d(0x2e6)][_0x1f947d(0x1eb)](_0x1f947d(0x2b9))){if(_0x12eae7[_0x1f947d(0x2aa)]['includes']('spot')){updateNumberCoins(_0x12eae7);return;}}}}}),!wsClient['_events'][_0x57dd57(0x27a)]&&wsClient['on'](_0x57dd57(0x27a),async _0xd7e595=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x1e98a3=_0xd0190;let _0x549b0e=![];try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x1e98a3(0x2d9)][_0x1e98a3(0x1df)](_0x204b0b=>{const _0x4ff627=_0x1e98a3;let _0x11756d=![];return exceptions[_0x4ff627(0x17d)](_0xb29ff6=>{const _0x4df2b5=_0x4ff627;if(_0x204b0b[_0x4df2b5(0x1eb)](_0xb29ff6))_0x11756d=!![];}),!_0x11756d;}),_0x549b0e=!![];}catch(_0x1f9c96){_0x549b0e=![];throw _0x1f9c96;}return _0x549b0e;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x36e851=_0xd0190;proxyEmit(_0x36e851(0x245),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x58a70f=getNormalizedPerformance();emitPerformance(_0x58a70f),await getStartingBalances(_0x58a70f);}async function toggleBotMode(){const _0x4875bb=_0xd0190;let _0x3d0bfe=dbConfig['get']('bot')[_0x4875bb(0x291)]({'botID':botID})[_0x4875bb(0x1ba)]();if(_0x3d0bfe){const _0x481535=!_0x3d0bfe[_0x4875bb(0x21f)];dbConfig[_0x4875bb(0x2b8)]('bot')[_0x4875bb(0x291)]({'botID':botID})[_0x4875bb(0x1ad)]({'headless':_0x481535})[_0x4875bb(0x1da)](),config[_0x4875bb(0x21f)]=_0x481535,proxyEmit(_0x4875bb(0x245),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x2cb22b=>{});}function cleanws(){const _0x567e3c=_0xd0190;wsinitialized=![];ws1&&(ws1['forEach'](_0x592824=>{const _0x23062a=_0x1367;try{wsClient[_0x23062a(0x21a)](_0x592824);}catch(_0x168f3d){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x5b227b){}ws2=null;}ws3&&(ws3[_0x567e3c(0x17d)](_0x4e842e=>{const _0x28eb18=_0x567e3c;try{wsClient[_0x28eb18(0x21a)](_0x4e842e);}catch(_0x40120f){}}),ws3=[]);}async function initws(){const _0xba29c5=_0xd0190;cleanws();let _0x49696b=[];currentCoins[_0xba29c5(0x17d)](_0x2601a3=>{const _0x42f40f=_0xba29c5;if(_0x2601a3['coin']!=config[_0x42f40f(0x275)])_0x49696b[_0x42f40f(0x1bf)](_0x2601a3[_0x42f40f(0x283)]);});if(!_0x49696b[_0xba29c5(0x1eb)](stablecoins[_0xba29c5(0x2e2)][_0xba29c5(0x283)]))_0x49696b['push'](stablecoins['eur'][_0xba29c5(0x283)]);if(!_0x49696b[_0xba29c5(0x1eb)](stablecoins[_0xba29c5(0x1c5)][_0xba29c5(0x283)]))_0x49696b[_0xba29c5(0x1bf)](stablecoins[_0xba29c5(0x1c5)]['symbol']);if(!_0x49696b[_0xba29c5(0x1eb)](_0xba29c5(0x25b)+config[_0xba29c5(0x275)]))_0x49696b[_0xba29c5(0x1bf)](_0xba29c5(0x25b)+config[_0xba29c5(0x275)]);try{_0x49696b[_0xba29c5(0x17d)]((_0x3b25aa,_0x5955f2)=>{const _0x19afc1=_0xba29c5;ws1[_0x5955f2]=wsClient[_0x19afc1(0x220)](noslash(_0x3b25aa),'1m'),ws3[_0x5955f2]=wsClient[_0x19afc1(0x299)](noslash(_0x3b25aa),_0x19afc1(0x1ed));}),ws2=wsClient[_0xba29c5(0x23b)]();}catch(_0x287607){await handleError(_0x287607,_0xba29c5(0x2dd));}let _0x20e16b,_0x25230d=0x0;loading['remainingSymbols']=[];let _0x174a2a=0x0;_0x49696b[_0xba29c5(0x17d)](_0x305b27=>{const _0x3630a3=_0xba29c5;loading[_0x3630a3(0x20f)][_0x3630a3(0x1bf)](_0x305b27);}),loadingCanceled=![];let _0xcf66bd=![];while(_0x20e16b!=_0x49696b[_0xba29c5(0x208)]){_0x20e16b=0x0,_0x49696b[_0xba29c5(0x17d)](_0x3fdcf7=>{const _0x2c6ed0=_0xba29c5;global[_0x2c6ed0(0x1b4)][noslash(_0x3fdcf7)]&&(loading['remainingSymbols']=loading[_0x2c6ed0(0x20f)][_0x2c6ed0(0x1df)](_0x435ff1=>_0x435ff1!=_0x3fdcf7),_0x20e16b++);}),loading[_0xba29c5(0x2d4)]=Math[_0xba29c5(0x241)](_0x20e16b/_0x49696b[_0xba29c5(0x208)]*0x64);loading[_0xba29c5(0x2d4)]!=0x64&&(_0x174a2a>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x174a2a>0x3c*0x5&&!_0xcf66bd&&(_0xcf66bd=!![],logHistory(_0xba29c5(0x1c2),_0xba29c5(0x2d2)+loading[_0xba29c5(0x20f)][_0xba29c5(0x294)](',\x20')+_0xba29c5(0x182)),logHistory(_0xba29c5(0x1c2),_0xba29c5(0x2a9)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),await sleep(loadCoinsRetryInterval),process[_0xba29c5(0x269)]({'stop':_0xba29c5(0x196)},_0x4ec251=>{})));if(loadingCanceled){loading[_0xba29c5(0x259)]=!![],emitLoadingProgress();break;}else _0x20e16b!=_0x25230d&&(_0x25230d=_0x20e16b,emitLoadingProgress()),_0x174a2a++,await sleep(0xc8);}_0xcf66bd&&logHistory('success','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started');if(_0x20e16b==_0x49696b['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x582a8a=_0xd0190;proxyEmit(_0x582a8a(0x206),loading);}async function getFiat(){const _0x29e820=_0xd0190;let _0x5f5c93=0x0,_0x21af57=0x0;try{_0x5f5c93=global[_0x29e820(0x1b4)][stablecoins[_0x29e820(0x2e2)][_0x29e820(0x23d)]],_0x21af57=global[_0x29e820(0x1b4)][stablecoins['usd'][_0x29e820(0x23d)]];}catch(_0x341be8){await handleError(_0x341be8,_0x29e820(0x2da));}return{'eur':Number(_0x5f5c93),'usd':Number(_0x21af57)};}function setStartDatePerformance(){const _0x4d6004=_0xd0190;if(config&&config[_0x4d6004(0x2af)][0x0][_0x4d6004(0x22d)][_0x4d6004(0x208)]!=0x0){const _0x3211e7=config[_0x4d6004(0x2af)][0x0][_0x4d6004(0x22d)];dbPerformance[_0x4d6004(0x2b8)](_0x4d6004(0x1a4))[_0x4d6004(0x291)]({'date':config['startdate']})[_0x4d6004(0x1ad)]({'coins':_0x3211e7})['write']();}}async function recreateCoinResults(){const _0x1119fd=_0xd0190;let _0xef5305,_0x58d8fa=[];try{const _0x460e9e=fns['format'](fns['parseISO'](config[_0x1119fd(0x228)]['replace'](/\//g,'-')),_0x1119fd(0x1e9));for(const _0x1ff7de of currentCoins){if(_0x1ff7de[_0x1119fd(0x23d)]!=config[_0x1119fd(0x275)]){let _0x4e3e6a=0x0,_0x9f897f,_0x4fa752;_0xef5305=await getAllEventOrders(_0x1ff7de[_0x1119fd(0x283)]);if(_0xef5305[_0x1119fd(0x208)]>0x0)_0xef5305['forEach'](_0x84e76a=>{const _0x40fe2a=_0x1119fd,_0x16354b=_0x1ff7de[_0x40fe2a(0x283)][_0x40fe2a(0x1eb)](config[_0x40fe2a(0x275)]+'/');_0x58d8fa[_0x40fe2a(0x1bf)]({'datetime':_0x84e76a[_0x40fe2a(0x1cb)],'coin':_0x1ff7de[_0x40fe2a(0x23d)],'symbol':_0x1ff7de[_0x40fe2a(0x283)],'side':_0x84e76a[_0x40fe2a(0x1f4)],'reverse':_0x16354b,'amount':formatResult(_0x84e76a[_0x40fe2a(0x19e)],0x8),'filled':formatResult(_0x84e76a[_0x40fe2a(0x19e)],0x8),'price':formatResult(_0x84e76a[_0x40fe2a(0x1e4)],0x8)}),_0x4e3e6a=_0x84e76a[_0x40fe2a(0x1f4)]==_0x40fe2a(0x225)?_0x4e3e6a+_0x84e76a[_0x40fe2a(0x19e)]:_0x4e3e6a-_0x84e76a[_0x40fe2a(0x19e)];if(!_0x4fa752)_0x4fa752=_0x84e76a[_0x40fe2a(0x1e4)];});_0x9f897f=_0x1ff7de[_0x1119fd(0x27e)]-_0x4e3e6a;let _0x7c0275;config[_0x1119fd(0x2af)][_0x1119fd(0x17d)](_0x12cf34=>{const _0x481fdc=_0x1119fd;!_0x7c0275&&(_0x7c0275=_0x12cf34[_0x481fdc(0x22d)][_0x481fdc(0x291)](_0x4e3a66=>_0x4e3a66[_0x481fdc(0x23d)]==_0x1ff7de[_0x481fdc(0x23d)]),_0x7c0275&&(_0x9f897f=_0x7c0275['number'],_0x4fa752=_0x7c0275[_0x481fdc(0x1e4)]));});let _0x4b8d2d=dbCoinResults[_0x1119fd(0x2b8)]('coins')['find']({'coin':_0x1ff7de[_0x1119fd(0x23d)]})[_0x1119fd(0x1ba)]();_0x4b8d2d={'coin':_0x1ff7de[_0x1119fd(0x23d)],'number':_0x9f897f,'breakeven':_0x4fa752,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1119fd(0x2b8)]('coins')[_0x1119fd(0x291)]({'coin':_0x1ff7de[_0x1119fd(0x23d)]})['assign'](_0x4b8d2d)[_0x1119fd(0x1da)]();}}_0x58d8fa[_0x1119fd(0x189)]((_0x563ab0,_0x884a24)=>_0x563ab0[_0x1119fd(0x1cb)]>_0x884a24['datetime']?0x1:_0x884a24[_0x1119fd(0x1cb)]>_0x563ab0[_0x1119fd(0x1cb)]?-0x1:0x0);let _0x56e8fc=0x0;for(let _0x397b56 of _0x58d8fa){await updateCoinResults(_0x397b56,!![]);}}catch(_0x38c38a){await handleError(_0x38c38a,_0x1119fd(0x2a2));}}async function getAllEventOrders(_0x44ae5c){const _0x261fb7=_0xd0190;let _0x4fac5c=[],_0x32926f=dbLogs[_0x261fb7(0x2b8)](_0x261fb7(0x1b8))['filter'](_0x6ad186=>{const _0x1e3c63=_0x261fb7,_0x331a22=_0x6ad186[_0x1e3c63(0x2ca)]['toLowerCase']();return _0x331a22[_0x1e3c63(0x1eb)](_0x44ae5c['toLowerCase']())&&(_0x331a22[_0x1e3c63(0x1eb)]('market')&&_0x331a22['includes']('order')||_0x331a22[_0x1e3c63(0x1eb)](_0x1e3c63(0x19e))&&_0x331a22[_0x1e3c63(0x1eb)](_0x1e3c63(0x2d8)));})[_0x261fb7(0x1cd)](_0x261fb7(0x26f))[_0x261fb7(0x1ba)]();return _0x32926f['forEach'](_0xa843cc=>{const _0x56a5f5=_0x261fb7,_0x30983=_0xa843cc[_0x56a5f5(0x2ca)][_0x56a5f5(0x1eb)]('sell')?'sell':_0x56a5f5(0x225),_0x40e486=/#([0-9]|\.)+\s/i,_0x90dcd2=Number(_0x40e486[_0x56a5f5(0x207)](_0xa843cc['event'])[0x0][_0x56a5f5(0x226)](0x1)),_0x5134cf=/@([0-9]|\.)+$/i,_0x26e449=Number(_0x5134cf['exec'](_0xa843cc[_0x56a5f5(0x2ca)])[0x0][_0x56a5f5(0x226)](0x1));_0x4fac5c[_0x56a5f5(0x1bf)]({'datetime':_0xa843cc[_0x56a5f5(0x26f)],'coin':symbolToCoin(_0x44ae5c),'symbol':_0x44ae5c,'side':_0x30983,'amount':_0x90dcd2,'filled':_0x90dcd2,'price':_0x26e449});}),_0x4fac5c;}async function getAllOrders(_0x7129c7,_0x268eb4){const _0x460c37=_0xd0190;let _0x5cd482=[];while(_0x268eb4<exchange[_0x460c37(0x287)]()){const _0x5304eb=0x1f4,_0x1ba619=await exchange[_0x460c37(0x25e)](_0x7129c7,_0x268eb4,_0x5304eb);if(_0x1ba619['length'])_0x268eb4=_0x1ba619[_0x1ba619['length']-0x1][_0x460c37(0x28c)]+0x1,_0x5cd482=_0x5cd482[_0x460c37(0x296)](_0x1ba619);else break;}return _0x5cd482;}async function validate24hChanges(){const _0x39c6e6=_0xd0190;let _0x1ae1fc;for(const _0x387498 of currentCoins){if(_0x387498['coin']!=config['basecoin']){let _0x204ea7;_0x387498[_0x39c6e6(0x1b3)]?_0x204ea7=formatResult((0x1/(global[_0x39c6e6(0x1e5)][noslash(_0x387498['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x204ea7=global[_0x39c6e6(0x1e5)][noslash(_0x387498[_0x39c6e6(0x283)])],_0x204ea7<config[_0x39c6e6(0x258)]&&(logHistory(_0x39c6e6(0x1c2),_0x387498['coin']+_0x39c6e6(0x260)+_0x204ea7+'%'),logHistory(_0x39c6e6(0x1c2),_0x39c6e6(0x2c0)),logHistory('error',_0x39c6e6(0x1bb)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x417002=_0xd0190;let _0x573ae1=dbLogs[_0x417002(0x2b8)](_0x417002(0x235))[_0x417002(0x1ba)]();if(_0x573ae1!=_0x417002(0x1ee)){dbLogs['set']('version',_0x417002(0x1ee))[_0x417002(0x1da)]();let _0x36c292=[];const _0x4fb734=dbLogs[_0x417002(0x2b8)]('logs')[_0x417002(0x1ba)]();_0x4fb734['forEach'](_0x4404b0=>{const _0x5bbd73=_0x417002;_0x36c292[_0x5bbd73(0x1bf)]({'time':_0x4404b0[_0x5bbd73(0x26f)],'type':_0x4404b0[_0x5bbd73(0x1de)],'event':_0x4404b0[_0x5bbd73(0x2ca)]});}),dbLogs[_0x417002(0x2b8)](_0x417002(0x1b8))['assign'](_0x36c292)[_0x417002(0x1da)]();}let _0x3a113e=dbConfig[_0x417002(0x2b8)](_0x417002(0x235))['value']();if(_0x3a113e!=_0x417002(0x1ee)){dbConfig[_0x417002(0x268)](_0x417002(0x235),_0x417002(0x1ee))[_0x417002(0x1da)]();let _0x1e51ad=dbConfig[_0x417002(0x2b8)](_0x417002(0x2be))['find']({'botID':botID})[_0x417002(0x1ba)]();if(_0x1e51ad){let _0x433d79=[];_0x1e51ad[_0x417002(0x185)]['forEach'](_0x2d3af0=>{const _0x4dfb9e=_0x417002;_0x433d79[_0x4dfb9e(0x1bf)]({'coin':_0x2d3af0['coin'],'number':_0x2d3af0[_0x4dfb9e(0x18f)],'price':_0x2d3af0[_0x4dfb9e(0x1f8)]}),delete _0x2d3af0[_0x4dfb9e(0x18f)],delete _0x2d3af0[_0x4dfb9e(0x1f8)];});if(_0x433d79[_0x417002(0x208)]!==0x0)fs[_0x417002(0x186)](configbackuppath+(_0x417002(0x1fd)+botID+'.json'),JSON[_0x417002(0x1d4)](_0x433d79,null,0x4),function(_0x39a4ac){if(_0x39a4ac){}});const _0x47bebf=(_0x15edb2,_0x1e52e4)=>{const _0x25de11=_0x417002;let _0x52aa5b=[];_0x1e52e4[_0x25de11(0x17d)](_0x15c47f=>{const _0x35e853=_0x25de11,_0x2022ed=_0x15edb2[_0x35e853(0x291)](_0x218e37=>_0x218e37[_0x35e853(0x23d)]==_0x15c47f[_0x35e853(0x23d)]);if(!_0x2022ed)_0x52aa5b[_0x35e853(0x1bf)](_0x15c47f);});let _0x3472ec=[];return _0x15edb2[_0x25de11(0x17d)](_0x4a8780=>{const _0x2a79d6=_0x25de11,_0x2a1d8f=_0x1e52e4[_0x2a79d6(0x291)](_0x5c1a95=>_0x5c1a95['coin']==_0x4a8780[_0x2a79d6(0x23d)]);if(!_0x2a1d8f||_0x2a1d8f[_0x2a79d6(0x27e)]==0x0&&_0x4a8780['number']!=0x0)_0x3472ec[_0x2a79d6(0x1bf)](_0x4a8780);}),{'missingDay1':_0x52aa5b,'notInDay2':_0x3472ec};},_0x4e9b00=dbPerformance[_0x417002(0x2b8)](_0x417002(0x1a4))[_0x417002(0x255)]()[_0x417002(0x1ba)]();if(_0x4e9b00[_0x417002(0x208)]>0x1){const {missingDay1:_0x5c3dd2,notInDay2:_0x4fdd2e}=_0x47bebf(_0x433d79,_0x4e9b00[0x1][_0x417002(0x22c)]);_0x433d79=[..._0x433d79,..._0x5c3dd2],_0x4fdd2e[_0x417002(0x17d)](_0x20384f=>{const _0x428af2=_0x417002;let _0xea0fc3=_0x433d79[_0x428af2(0x24d)](_0x5c87e8=>_0x5c87e8[_0x428af2(0x23d)]==_0x20384f['coin']);_0xea0fc3!=-0x1&&_0x433d79['splice'](_0xea0fc3,0x1);});}_0x433d79[_0x417002(0x189)]((_0x39fac0,_0x1aacb8)=>_0x39fac0[_0x417002(0x23d)]>_0x1aacb8[_0x417002(0x23d)]?0x1:_0x1aacb8['coin']>_0x39fac0['coin']?-0x1:0x0);let _0x355eb1=[{'date':_0x1e51ad[_0x417002(0x228)],'changes':_0x433d79}];_0x4e9b00[_0x417002(0x208)]>0x2&&_0x4e9b00[_0x417002(0x17d)]((_0x499e61,_0x47b39f)=>{const _0x55c5c0=_0x417002;if(_0x47b39f>0x0&&_0x47b39f<_0x4e9b00[_0x55c5c0(0x208)]-0x1){const {missingDay1:_0x464c1e,notInDay2:_0x242528}=_0x47bebf(_0x4e9b00[_0x47b39f][_0x55c5c0(0x22c)],_0x4e9b00[_0x47b39f+0x1][_0x55c5c0(0x22c)]);_0x433d79=[],(_0x464c1e[_0x55c5c0(0x208)]!=0x0||_0x242528[_0x55c5c0(0x208)]!=0x0)&&(_0x464c1e['length']!=0x0&&_0x433d79[_0x55c5c0(0x1bf)](..._0x464c1e),_0x242528[_0x55c5c0(0x208)]!=0x0&&(_0x242528[_0x55c5c0(0x17d)](_0x98e4d=>{const _0x42e539=_0x55c5c0;_0x98e4d[_0x42e539(0x27e)]=-_0x98e4d[_0x42e539(0x27e)];}),_0x433d79[_0x55c5c0(0x1bf)](..._0x242528)),_0x433d79[_0x55c5c0(0x189)]((_0x4b6f06,_0x3b5f75)=>_0x4b6f06[_0x55c5c0(0x23d)]>_0x3b5f75[_0x55c5c0(0x23d)]?0x1:_0x3b5f75[_0x55c5c0(0x23d)]>_0x4b6f06[_0x55c5c0(0x23d)]?-0x1:0x0),_0x355eb1[_0x55c5c0(0x1bf)]({'date':_0x4e9b00[_0x47b39f+0x1][_0x55c5c0(0x20d)],'changes':_0x433d79}));}}),dbConfig['get']('bot')[_0x417002(0x291)]({'botID':botID})[_0x417002(0x1ad)]({..._0x1e51ad,'liquidity':_0x355eb1})[_0x417002(0x1da)]();}}config=getConfiguration(botID);let _0x5aa15d=dbPerformance['get'](_0x417002(0x235))['value']();_0x5aa15d!=_0x417002(0x1ee)&&(dbPerformance[_0x417002(0x268)](_0x417002(0x235),_0x417002(0x1ee))['write'](),setStartDatePerformance());let _0x450a59=dbCoinResults[_0x417002(0x2b8)](_0x417002(0x235))[_0x417002(0x1ba)]();if(_0x450a59!=_0x417002(0x1d8)){dbCoinResults[_0x417002(0x268)]('version','2.5.0')['write']();let _0x294d73=dbCoinResults[_0x417002(0x2b8)](_0x417002(0x22c))[_0x417002(0x1ba)]();if(_0x294d73[_0x417002(0x208)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x5063a7){const _0x359251=_0xd0190;let _0x420fa3=dbConfig[_0x359251(0x2b8)](_0x359251(0x2be))[_0x359251(0x291)]({'botID':_0x5063a7})['value']();if(_0x420fa3){let _0x426d8d=![];typeof _0x420fa3[_0x359251(0x214)]==_0x359251(0x215)&&(_0x420fa3={..._0x420fa3,'threshold':Number(_0x420fa3[_0x359251(0x214)])},_0x426d8d=!![]),_0x420fa3['change24h']==null&&(_0x420fa3={..._0x420fa3,'change24h':-0x14},_0x426d8d=!![]),_0x426d8d&&(_0x420fa3={'botID':_0x420fa3[_0x359251(0x2dc)],'exchange':_0x420fa3[_0x359251(0x1a6)],'apiKey':_0x420fa3[_0x359251(0x2ab)],'apiSecret':_0x420fa3[_0x359251(0x1db)],'basecoin':_0x420fa3[_0x359251(0x275)],'botname':_0x420fa3[_0x359251(0x24b)],'showname':_0x420fa3[_0x359251(0x243)],'threshold':_0x420fa3[_0x359251(0x214)],'ordertype':_0x420fa3[_0x359251(0x1a9)],'timeout':_0x420fa3[_0x359251(0x1fc)],'startdate':_0x420fa3[_0x359251(0x228)],'recreate':_0x420fa3[_0x359251(0x198)],'timeshift':_0x420fa3[_0x359251(0x229)],'headless':_0x420fa3[_0x359251(0x21f)],'cooldown':_0x420fa3[_0x359251(0x1a3)],'change24h':_0x420fa3[_0x359251(0x258)],'emojibuy':_0x420fa3[_0x359251(0x264)],'emojisell':_0x420fa3[_0x359251(0x1b5)],'portfolio':_0x420fa3[_0x359251(0x185)],'liquidity':_0x420fa3[_0x359251(0x2af)]},dbConfig['get'](_0x359251(0x2be))[_0x359251(0x1cc)]()['write'](),dbConfig['get'](_0x359251(0x2be))[_0x359251(0x1bf)](_0x420fa3)['write']());}else _0x420fa3={'botID':_0x5063a7,'exchange':_0x359251(0x2a4),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x359251(0x1ae)+_0x5063a7,'showname':![],'threshold':0x3,'ordertype':_0x359251(0x194),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x359251(0x229)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x420fa3;}function emittedConfiguration(){const _0x50374d=_0xd0190;let _0x4bf6d5;if(config['apiKey']=='')_0x4bf6d5={...config,'configstate':'initial'};else config[_0x50374d(0x2ab)]==_0x50374d(0x1fb)?_0x4bf6d5={...config,'configstate':_0x50374d(0x231)}:_0x4bf6d5={...config,'apiKey':_0x50374d(0x199),'apiSecret':_0x50374d(0x199)};return _0x4bf6d5;}function getSettings(){const _0x49b74e=_0xd0190;return dbSettings[_0x49b74e(0x2b8)](_0x49b74e(0x2b1))[_0x49b74e(0x1ba)]();}function getSecure(){const _0xbc015c=_0xd0190;return dbSecure[_0xbc015c(0x2b8)]('secure')[_0xbc015c(0x1ba)]()||{};}function updateTimeshift(_0xb21354){const _0x368861=_0xd0190;let _0x3e4947=dbConfig[_0x368861(0x2b8)](_0x368861(0x2be))[_0x368861(0x291)]({'botID':botID})[_0x368861(0x1ba)]();_0x3e4947&&dbConfig[_0x368861(0x2b8)]('bot')[_0x368861(0x291)]({'botID':botID})[_0x368861(0x1ad)]({'timeshift':_0xb21354})[_0x368861(0x1da)](),config[_0x368861(0x229)]=_0xb21354,proxyEmit(_0x368861(0x245),emittedConfiguration());}async function storeConfiguration(_0x293870){const _0x28961a=_0xd0190;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x2d33e2=dbConfig[_0x28961a(0x2b8)]('bot')[_0x28961a(0x291)]({'botID':botID})['value']();_0x293870={..._0x293870,'apiKey':crypt[_0x28961a(0x1fa)](secure['privateKey'],_0x293870[_0x28961a(0x2ab)])[_0x28961a(0x2ba)],'apiSecret':crypt[_0x28961a(0x1fa)](secure['privateKey'],_0x293870['apiSecret'])[_0x28961a(0x2ba)]};if(_0x2d33e2){if(_0x293870[_0x28961a(0x2ab)]=='************')_0x293870[_0x28961a(0x2ab)]=config[_0x28961a(0x2ab)];if(_0x293870[_0x28961a(0x1db)]=='************')_0x293870['apiSecret']=config[_0x28961a(0x1db)];dbConfig['get'](_0x28961a(0x2be))[_0x28961a(0x291)]({'botID':botID})['assign'](_0x293870)[_0x28961a(0x1da)]();}else dbConfig['get'](_0x28961a(0x2be))[_0x28961a(0x1bf)](_0x293870)['write'](),process[_0x28961a(0x269)]({'status':'enabled','live':_0x28961a(0x257)},_0xba7508=>{});config={..._0x293870},setStartDatePerformance(),process[_0x28961a(0x269)]({'botname':_0x293870[_0x28961a(0x24b)]},_0x32ef04=>{}),updateBotManager();const _0x39879d=getNormalizedPerformance();getStartingBalances(_0x39879d),emitPerformance(_0x39879d),proxyEmit(_0x28961a(0x26e)),await initCoinResults(),reset();}async function storeHeadless(_0xc9376a){const _0x48cdd0=_0xd0190,_0x5b5a81={...config,'headless':_0xc9376a[_0x48cdd0(0x21f)]};let _0x2cee43=dbConfig[_0x48cdd0(0x2b8)]('bot')[_0x48cdd0(0x291)]({'botID':botID})[_0x48cdd0(0x1ba)]();_0x2cee43&&dbConfig[_0x48cdd0(0x2b8)](_0x48cdd0(0x2be))['find']({'botID':botID})['assign'](_0x5b5a81)['write'](),config={..._0x5b5a81},updateBotManager(),proxyEmit(_0x48cdd0(0x245),emittedConfiguration());}function noslash(_0x521d4e){const _0x59f79f=_0xd0190;return _0x521d4e[_0x59f79f(0x286)]('/','');}async function updateNumberCoins(_0x136f50){const _0x44561a=_0xd0190;if(_0x136f50['eventType']&&_0x136f50[_0x44561a(0x276)]=='executionReport'){logger['debug'](_0x44561a(0x216)+_0x136f50[_0x44561a(0x283)]+_0x44561a(0x29e)+_0x136f50[_0x44561a(0x2bd)]+_0x44561a(0x29e)+_0x136f50['orderId']+_0x44561a(0x29e)+_0x136f50[_0x44561a(0x2c8)]);let _0x31d6c1=_0x136f50[_0x44561a(0x2bd)],_0xcd07b3=![];currentCoins[_0x44561a(0x17d)](_0x1ab265=>{const _0xe9e79f=_0x44561a;noslash(_0x1ab265[_0xe9e79f(0x283)])==_0x136f50[_0xe9e79f(0x283)]&&(_0xcd07b3=!![]);});if(!_0xcd07b3)return;const _0x5e1348=currentCoins[_0x44561a(0x291)](_0x6cb361=>noslash(_0x6cb361['symbol'])==_0x136f50['symbol']),_0x436790=_0x194ab3=>{const _0x261b61=_0x44561a;if(_0x5e1348)_0x5e1348[_0x261b61(0x1b9)]=_0x194ab3;};if(_0x31d6c1==_0x44561a(0x1c1))_0x436790(_0x44561a(0x2de));else{if(_0x31d6c1==_0x44561a(0x192))_0x436790(_0x44561a(0x1e2)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x31d6c1==_0x44561a(0x239)){logger[_0x44561a(0x1d2)](_0x44561a(0x267)+_0x136f50[_0x44561a(0x283)]+_0x44561a(0x29e)+_0x136f50[_0x44561a(0x284)]+_0x44561a(0x29e)+_0x136f50[_0x44561a(0x17a)]+_0x44561a(0x29e)+_0x136f50[_0x44561a(0x2c8)]);let _0x290134=![];if(lastOrders)lastOrders[_0x44561a(0x17d)](async _0x5845cb=>{const _0x3a8149=_0x44561a;if(_0x5845cb[_0x3a8149(0x21b)]==_0x136f50[_0x3a8149(0x2c8)]){logger[_0x3a8149(0x1d2)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x136f50[_0x3a8149(0x2c8)]),_0x290134=!![];if(_0x5845cb[_0x3a8149(0x19e)]==0x0){logger['debug'](_0x3a8149(0x2bb)+_0x136f50[_0x3a8149(0x2c8)]),_0x5845cb[_0x3a8149(0x1e4)]=_0x136f50[_0x3a8149(0x233)]/_0x136f50['accumulatedQuantity'],_0x5845cb[_0x3a8149(0x19e)]=_0x136f50[_0x3a8149(0x284)],_0x5845cb[_0x3a8149(0x29c)]={'cost':_0x136f50['commission'],'currency':_0x136f50[_0x3a8149(0x271)]},_0x436790(_0x3a8149(0x19e)),await validateOrders();if(lockOrders==ORDERS[_0x3a8149(0x2ac)])currentCoins=await getCoins();await updateCoinResults(_0x5845cb);}}});!_0x290134&&(logger[_0x44561a(0x1d2)](_0x44561a(0x265)+_0x136f50[_0x44561a(0x17a)]),_0x436790(_0x44561a(0x19e)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x8cd6c7=JSON['parse'](lastBalances[_0x44561a(0x185)]);const _0x2370dc=_0x8cd6c7[_0x44561a(0x291)](_0x52b061=>noslash(_0x52b061[_0x44561a(0x283)])==_0x136f50['symbol']);if(_0x2370dc){if(_0x31d6c1==_0x44561a(0x1c1))_0x2370dc[_0x44561a(0x1b9)]=_0x2370dc[_0x44561a(0x1b9)]==_0x44561a(0x19e)?_0x44561a(0x19e):_0x44561a(0x2de);else{if(_0x31d6c1==_0x44561a(0x192))_0x2370dc[_0x44561a(0x1b9)]=_0x2370dc[_0x44561a(0x1b9)]==_0x44561a(0x19e)?'filled':'canceled';else _0x31d6c1==_0x44561a(0x239)&&(_0x2370dc[_0x44561a(0x1b9)]=_0x44561a(0x19e));}}lastBalances={...lastBalances,'portfolio':JSON[_0x44561a(0x1d4)](_0x8cd6c7)},proxyEmit(_0x44561a(0x249),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x558663=![],_0x5d2401=!![],_0x5b64b2=config[_0xd0190(0x275)]){const _0x2ed566=_0xd0190;let _0x56a935,_0x2c3646=[],_0x571d1f=[],_0x5755c0=[];try{_0x56a935=await exchange[_0x2ed566(0x266)](),mybalances=_0x56a935[_0x2ed566(0x23a)];if(!_0x5d2401)for(const [_0x2a36b4,_0x4ecf18]of Object[_0x2ed566(0x1b7)](mybalances)){_0x5755c0[_0x2ed566(0x1bf)](_0x2a36b4);}else config[_0x2ed566(0x185)][_0x2ed566(0x17d)](_0x322202=>{const _0x5f46a4=_0x2ed566;if(!_0x322202['excluded'])_0x5755c0[_0x5f46a4(0x1bf)](_0x322202[_0x5f46a4(0x23d)]);});if(_0x5b64b2=='')for(const [_0x5e2955,_0x4fa72b]of Object[_0x2ed566(0x1b7)](mybalances)){_0x4fa72b['toString']()!=0x0&&_0x571d1f[_0x2ed566(0x1bf)]({'coin':_0x5e2955});}else{if(_0x558663)await getOpenOrders();let _0x434565=![];for(const [_0x4de1de,_0x1e5fac]of Object[_0x2ed566(0x1b7)](mybalances)){if(_0x5755c0[_0x2ed566(0x1eb)](_0x4de1de)){const _0x486660=config[_0x2ed566(0x185)][_0x2ed566(0x291)](_0x3d8662=>_0x3d8662[_0x2ed566(0x23d)]==_0x4de1de),_0x12c91b=_0x4de1de+'/'+_0x5b64b2,_0x45c589=_0x5b64b2+'/'+_0x4de1de,_0x4002fa=currentCoins['find'](_0x19e30f=>_0x19e30f['coin']==_0x4de1de);_0x434565=![];_0x558663&&(_0x434565=allOpenOrders[_0x2ed566(0x291)](_0x25f5bf=>_0x25f5bf[_0x2ed566(0x283)]==_0x486660[_0x2ed566(0x283)]));if((_0x1e5fac[_0x2ed566(0x250)]()!=0x0||_0x486660)&&(allSymbols[_0x2ed566(0x1eb)](_0x12c91b)||_0x4de1de==_0x5b64b2))_0x4de1de!=_0x5b64b2&&_0x2c3646['push'](_0x12c91b),_0x571d1f['push']({'coin':_0x4de1de,'symbol':_0x12c91b,'reverse':![],'number':Math[_0x2ed566(0x2d0)](_0x1e5fac+(_0x486660&&_0x486660['offset']||0x0),0x0),'orderstatus':_0x558663?_0x434565?_0x2ed566(0x2de):_0x2ed566(0x24a):_0x4002fa?_0x4002fa['orderstatus']:_0x2ed566(0x24a)});else(_0x1e5fac[_0x2ed566(0x250)]()!=0x0||_0x486660)&&allSymbols[_0x2ed566(0x1eb)](_0x45c589)&&(_0x4de1de!=_0x5b64b2&&_0x2c3646[_0x2ed566(0x1bf)](_0x45c589),_0x571d1f[_0x2ed566(0x1bf)]({'coin':_0x4de1de,'symbol':_0x45c589,'reverse':!![],'number':Math['max'](_0x1e5fac+(_0x486660&&_0x486660[_0x2ed566(0x293)]||0x0),0x0),'orderstatus':_0x558663?_0x434565?_0x2ed566(0x2de):_0x2ed566(0x24a):_0x4002fa?_0x4002fa[_0x2ed566(0x1b9)]:'none'}));}}}}catch(_0x42fe4e){if(!_0x5d2401)handleErrorNoStop(_0x42fe4e,_0x2ed566(0x1c4));else await handleError(_0x42fe4e,_0x2ed566(0x1c4));}return _0x571d1f;}async function getCoinNumber(_0x2c47e8){const _0x4749bd=_0xd0190;let _0x55cfe6;try{const _0x425f33=await exchange[_0x4749bd(0x266)]();_0x55cfe6=_0x425f33[_0x4749bd(0x23a)][_0x2c47e8];}catch(_0x571178){await handleError(_0x571178,_0x4749bd(0x2cb));}return _0x55cfe6;}async function getOpenOrders(){const _0x558ac3=_0xd0190;let _0xb48e0a;allOpenOrders=[];try{for(const _0x1bc0a0 of config[_0x558ac3(0x185)]){!_0x1bc0a0['excluded']&&_0x1bc0a0[_0x558ac3(0x23d)]!=config[_0x558ac3(0x275)]&&(_0xb48e0a=await exchange[_0x558ac3(0x1f0)](_0x1bc0a0['symbol']),_0xb48e0a[_0x558ac3(0x208)]>0x0&&allOpenOrders['push'](_0xb48e0a[0x0]));}}catch(_0x35a8bc){await handleError(_0x35a8bc,_0x558ac3(0x1c7));}}async function handleOpenOrders(_0x41385c=0x0){const _0x3095b=_0xd0190;allOpenOrders[_0x3095b(0x208)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x41385c==0x0?(logger['debug'](_0x3095b(0x232)),_0x41385c++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x3095b(0x218)),validateOrders(_0x3095b(0x297))));}async function getPortfolio(_0x5a2af3){const _0x4f27e3=_0xd0190;let _0x5f58e5=[],_0x466b2d=[],_0x7d3e30,_0x549758=[],_0x469291,_0x1b24aa;_0x5a2af3[_0x4f27e3(0x2ab)]==='************'||_0x5a2af3['apiSecret']===_0x4f27e3(0x199)?(_0x469291=config[_0x4f27e3(0x2ab)],_0x1b24aa=config[_0x4f27e3(0x1db)]):(_0x469291=_0x5a2af3[_0x4f27e3(0x2ab)],_0x1b24aa=_0x5a2af3[_0x4f27e3(0x1db)]);await initExchange(_0x469291,_0x1b24aa);let _0x20639c=![];try{_0x20639c=await loadSymbols();}catch(_0x2a3e5d){_0x20639c=![],handleErrorNoStop(_0x2a3e5d,'loadSymbols()');}if(_0x20639c){_0x549758=await getCoins(![],![],_0x5a2af3[_0x4f27e3(0x275)]);if(_0x549758===![])proxyEmit(_0x4f27e3(0x185),![]);else{if(_0x5a2af3['basecoin']=='')proxyEmit(_0x4f27e3(0x185),_0x549758);else{_0x549758[_0x4f27e3(0x17d)](_0x1cde95=>{const _0x46e129=_0x4f27e3;if(_0x1cde95[_0x46e129(0x23d)]!=_0x5a2af3[_0x46e129(0x275)])_0x5f58e5[_0x46e129(0x1bf)](_0x1cde95['symbol']);});try{_0x466b2d=await exchange[_0x4f27e3(0x184)](_0x5f58e5);}catch(_0x302df7){await handleError(_0x302df7,_0x4f27e3(0x2b3));}_0x549758[_0x4f27e3(0x17d)](_0x50d0c4=>{const _0x4d43e1=_0x4f27e3;_0x50d0c4[_0x4d43e1(0x23d)]!=_0x5a2af3['basecoin']?_0x7d3e30=_0x50d0c4[_0x4d43e1(0x1b3)]?0x1/_0x466b2d[_0x50d0c4[_0x4d43e1(0x283)]][_0x4d43e1(0x2c3)]:_0x466b2d[_0x50d0c4[_0x4d43e1(0x283)]]['last']:_0x7d3e30=0x1,_0x50d0c4[_0x4d43e1(0x1e4)]=formatResult(_0x7d3e30,0x8);}),proxyEmit('portfolio',_0x549758);}}}else proxyEmit(_0x4f27e3(0x185),![]);}function checkMinimums(_0x58ca9e){const _0x2c626f=_0xd0190;let _0x52c91a=!![];const _0x1f640e=!_0x58ca9e['reverse']?markets[_0x58ca9e[_0x2c626f(0x283)]][_0x2c626f(0x28b)][_0x2c626f(0x240)][_0x2c626f(0x20e)]:markets[_0x58ca9e['symbol']][_0x2c626f(0x28b)][_0x2c626f(0x1aa)][_0x2c626f(0x20e)],_0x22dd25=!_0x58ca9e['reverse']?markets[_0x58ca9e['symbol']][_0x2c626f(0x28b)][_0x2c626f(0x1aa)]['min']:markets[_0x58ca9e['symbol']]['limits'][_0x2c626f(0x240)]['min'],_0x37b413=markets[_0x58ca9e['symbol']][_0x2c626f(0x1f7)][_0x2c626f(0x240)];_0x58ca9e[_0x2c626f(0x272)]=formatResultTruncate(_0x58ca9e[_0x2c626f(0x272)],_0x37b413);if(Math[_0x2c626f(0x27f)](_0x58ca9e[_0x2c626f(0x272)])<_0x1f640e)_0x52c91a=![];if(Math[_0x2c626f(0x27f)](_0x58ca9e[_0x2c626f(0x272)])*_0x58ca9e[_0x2c626f(0x2c3)]<_0x22dd25)_0x52c91a=![];if(_0x58ca9e[_0x2c626f(0x1f4)]==_0x2c626f(0x219)){let _0xdeac63=config[_0x2c626f(0x185)][_0x2c626f(0x291)](_0x1d31a8=>_0x1d31a8['coin']==_0x58ca9e['coin']);if(_0xdeac63[_0x2c626f(0x293)]>0x0){if(Math[_0x2c626f(0x27f)](_0x58ca9e[_0x2c626f(0x272)])>_0x58ca9e[_0x2c626f(0x27e)]-_0xdeac63[_0x2c626f(0x293)])_0x52c91a=![];}else{if(Math['abs'](_0x58ca9e[_0x2c626f(0x272)])>_0x58ca9e['number'])_0x52c91a=![];}}if(_0x58ca9e['side']==_0x2c626f(0x225)){let _0x2b73c1=config[_0x2c626f(0x185)][_0x2c626f(0x291)](_0x369162=>_0x369162[_0x2c626f(0x23d)]==config[_0x2c626f(0x275)]),_0x57e670=currentCoins[_0x2c626f(0x291)](_0x18d545=>_0x18d545[_0x2c626f(0x23d)]==config[_0x2c626f(0x275)]);if(_0x2b73c1[_0x2c626f(0x293)]>0x0){if(Math[_0x2c626f(0x27f)](_0x58ca9e[_0x2c626f(0x272)])*_0x58ca9e['last']>_0x57e670[_0x2c626f(0x27e)]-_0x2b73c1['offset'])_0x52c91a=![];}else{if(Math[_0x2c626f(0x27f)](_0x58ca9e[_0x2c626f(0x272)])*_0x58ca9e['last']>_0x57e670[_0x2c626f(0x27e)])_0x52c91a=![];}}return _0x52c91a;}async function getBalances(){const _0x25a725=_0xd0190;let _0x143dcd=0x0,_0x1b2062;const _0x52d0cd=config[_0x25a725(0x214)];if(config['headless']&&config[_0x25a725(0x258)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x8bc249=>{const _0xe5480e=_0x25a725;if(_0x8bc249['coin']!=config[_0xe5480e(0x275)]){let _0x42d416=global[_0xe5480e(0x1b4)][noslash(_0x8bc249[_0xe5480e(0x283)])];_0x1b2062=_0x8bc249[_0xe5480e(0x1b3)]?0x1/_0x42d416:_0x42d416;}else _0x1b2062=0x1;let _0x2a288f=_0x8bc249[_0xe5480e(0x27e)]*_0x1b2062;_0x143dcd+=_0x2a288f,_0x8bc249[_0xe5480e(0x2c3)]=formatResult(Number(_0x1b2062),0x8),_0x8bc249[_0xe5480e(0x1ba)]=_0x2a288f;}),currentCoins[_0x25a725(0x17d)](_0xe508c5=>{const _0x4a78d8=_0x25a725;let _0x580a38=config[_0x4a78d8(0x185)][_0x4a78d8(0x291)](_0x1587d6=>_0x1587d6[_0x4a78d8(0x23d)]==_0xe508c5[_0x4a78d8(0x23d)]),_0x45d81f=Number(_0x580a38[_0x4a78d8(0x187)]),_0x1b776e=_0xe508c5['value']/_0x143dcd*0x64,_0x5d9c80=_0x45d81f*_0x143dcd/0x64/_0xe508c5[_0x4a78d8(0x2c3)]-_0xe508c5[_0x4a78d8(0x27e)];_0xe508c5[_0x4a78d8(0x187)]=formatResult(_0x1b776e,0x3),_0xe508c5['target']=formatResult(_0x45d81f,0x3),_0xe508c5[_0x4a78d8(0x272)]=formatResult(_0x5d9c80,0x8),_0xe508c5[_0x4a78d8(0x1f4)]='',_0xe508c5[_0x4a78d8(0x1ff)]=![];if(_0xe508c5['coin']!=config[_0x4a78d8(0x275)]){if(_0xe508c5['distribution']>_0x45d81f)_0xe508c5[_0x4a78d8(0x1f4)]=_0x4a78d8(0x219),_0xe508c5[_0x4a78d8(0x1ff)]=checkMinimums(_0xe508c5);else _0xe508c5[_0x4a78d8(0x187)]<_0x45d81f&&(_0xe508c5[_0x4a78d8(0x1f4)]=_0x4a78d8(0x225),_0xe508c5[_0x4a78d8(0x1ff)]=checkMinimums(_0xe508c5));}_0xe508c5[_0x4a78d8(0x188)]=_0xe508c5[_0x4a78d8(0x187)]/_0xe508c5[_0x4a78d8(0x27c)]-0x1;if(_0xe508c5[_0x4a78d8(0x1b9)]==_0x4a78d8(0x19e)||_0xe508c5[_0x4a78d8(0x1b9)]=='canceled')_0xe508c5[_0x4a78d8(0x1b9)]=_0x4a78d8(0x24a);}),currentCoins[_0x25a725(0x189)]((_0x1d2727,_0x25a879)=>_0x1d2727['delta']<_0x25a879[_0x25a725(0x188)]?0x1:_0x25a879['delta']<_0x1d2727[_0x25a725(0x188)]?-0x1:0x0);const _0x25f06a=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x25f06a[_0x25a725(0x2e2)],'usd':_0x25f06a['usd'],'portfolio':JSON[_0x25a725(0x1d4)](currentCoins),'threshold':_0x52d0cd},proxyEmit(_0x25a725(0x249),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x25a725(0x21f)])headlessMode({'portfolio':currentCoins,'threshold':_0x52d0cd});else{if(lockOrders==ORDERS[_0x25a725(0x2ae)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x52d0cd});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xff5d15=_0xd0190;if(!lastBalances)return;let _0x447a20=[],_0x402073,_0xd6c535=JSON[_0xff5d15(0x1f9)](lastBalances[_0xff5d15(0x185)]);_0xd6c535[_0xff5d15(0x189)]((_0x32ec60,_0x54eb4e)=>_0x32ec60[_0xff5d15(0x23d)]>_0x54eb4e['coin']?0x1:_0x54eb4e['coin']>_0x32ec60[_0xff5d15(0x23d)]?-0x1:0x0),_0xd6c535[_0xff5d15(0x17d)](_0x4f2293=>{const _0x3fec12=_0xff5d15;let _0xdf16e0={'coin':_0x4f2293[_0x3fec12(0x23d)],'number':_0x4f2293[_0x3fec12(0x27e)],'price':_0x4f2293[_0x3fec12(0x2c3)]};_0x447a20[_0x3fec12(0x1bf)](_0xdf16e0);});const _0x3b58b0=await getFiat();_0x402073={'date':lastBalances[_0xff5d15(0x26f)]['split']('\x20')[0x0],'eur':_0x3b58b0['eur'],'usd':_0x3b58b0[_0xff5d15(0x1c5)],'coins':_0x447a20};let _0x10540b=dbPerformance['get'](_0xff5d15(0x1a4))[_0xff5d15(0x291)]({'date':_0x402073[_0xff5d15(0x20d)]})[_0xff5d15(0x1ba)]();_0x10540b?_0x402073[_0xff5d15(0x20d)]!=config[_0xff5d15(0x228)]&&dbPerformance[_0xff5d15(0x2b8)](_0xff5d15(0x1a4))[_0xff5d15(0x291)]({'date':_0x402073['date']})[_0xff5d15(0x1ad)](_0x402073)[_0xff5d15(0x1da)]():dbPerformance['get'](_0xff5d15(0x1a4))[_0xff5d15(0x1bf)](_0x402073)[_0xff5d15(0x1da)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x47292c=_0xd0190;let _0x26cd2d=[];if(dbPerformance[_0x47292c(0x2b6)]('data')[_0x47292c(0x1ba)]()){let _0x3e18d6=dbPerformance[_0x47292c(0x2b8)](_0x47292c(0x1a4))['cloneDeep']()['sortBy']('date')[_0x47292c(0x1ba)](),_0x5896df=[...config[_0x47292c(0x2af)]];_0x5896df[_0x47292c(0x189)]((_0x2f883f,_0x237d9f)=>_0x2f883f['date']>_0x237d9f[_0x47292c(0x20d)]?-0x1:_0x237d9f[_0x47292c(0x20d)]>_0x2f883f[_0x47292c(0x20d)]?0x1:0x0);let _0x15fd72=0x1,_0x5a1aa2=[],_0x5f4ce8=0x0;_0x3e18d6[_0x47292c(0x226)]()[_0x47292c(0x1b3)]()[_0x47292c(0x17d)]((_0x5f3589,_0x32e73d)=>{const _0x5a221f=_0x47292c;if(_0x5896df[_0x5f4ce8]){if(_0x3e18d6[_0x3e18d6['length']-_0x32e73d]&&_0x5896df[_0x5f4ce8][_0x5a221f(0x20d)]==_0x3e18d6[_0x3e18d6[_0x5a221f(0x208)]-_0x32e73d]['date']){if(_0x32e73d<_0x3e18d6[_0x5a221f(0x208)]){let _0x198289=0x0,_0x4fb714=0x0;_0x3e18d6[_0x3e18d6[_0x5a221f(0x208)]-_0x32e73d]['coins'][_0x5a221f(0x17d)](_0x251c54=>{const _0x112194=_0x5a221f;_0x4fb714+=_0x251c54[_0x112194(0x27e)]*_0x251c54[_0x112194(0x1e4)];}),_0x5896df[_0x5f4ce8][_0x5a221f(0x22d)][_0x5a221f(0x17d)](_0x5a2a00=>{const _0x508757=_0x5a221f;_0x198289+=_0x5a2a00[_0x508757(0x27e)]*_0x5a2a00[_0x508757(0x1e4)];}),_0x15fd72*=_0x198289/(_0x4fb714-_0x198289)+0x1;}_0x5f4ce8++;}}let _0x4cf907=0x0;_0x5f3589[_0x5a221f(0x22c)][_0x5a221f(0x17d)](_0x287bbd=>{const _0x1c678b=_0x5a221f;_0x4cf907+=_0x287bbd[_0x1c678b(0x27e)]*_0x287bbd[_0x1c678b(0x1e4)];}),_0x5a1aa2[_0x3e18d6['length']-_0x32e73d-0x1]=_0x4cf907*(_0x15fd72-0x1);});let _0x4cc65c=[];_0x5896df=[...config[_0x47292c(0x2af)]]||[];let _0x148077=0x0;_0x5f4ce8=0x0,_0x3e18d6[_0x47292c(0x17d)]((_0x11b2c8,_0x9ebe0b)=>{const _0x450315=_0x47292c;if(_0x5896df[_0x5f4ce8]){const _0x389cf3=fns[_0x450315(0x1f9)](_0x5896df[_0x5f4ce8][_0x450315(0x20d)],'yyyy/MM/dd',new Date()),_0x37dcb7=fns['parse'](_0x11b2c8[_0x450315(0x20d)],_0x450315(0x29a),new Date());if(fns['isEqual'](_0x389cf3,_0x37dcb7)){let _0x333e95=0x0;_0x5896df[_0x5f4ce8][_0x450315(0x22d)][_0x450315(0x17d)](_0x5c90e7=>{const _0x37598d=_0x450315;!_0x4cc65c[_0x5c90e7[_0x37598d(0x23d)]]?_0x4cc65c[_0x5c90e7['coin']]=_0x5c90e7[_0x37598d(0x27e)]:(_0x333e95=_0x4cc65c[_0x5c90e7['coin']],_0x4cc65c[_0x5c90e7[_0x37598d(0x23d)]]+=_0x5c90e7[_0x37598d(0x27e)]);const _0xf5a4c=_0x11b2c8[_0x37598d(0x22c)][_0x37598d(0x291)](_0x2dd6af=>_0x2dd6af[_0x37598d(0x23d)]==_0x5c90e7[_0x37598d(0x23d)]);(!_0xf5a4c||_0xf5a4c[_0x37598d(0x27e)]==0x0)&&(_0x148077+=(-_0x5c90e7[_0x37598d(0x27e)]-_0x333e95)*_0x5c90e7[_0x37598d(0x1e4)]);}),_0x5f4ce8++;}}_0x11b2c8[_0x450315(0x22c)][_0x450315(0x17d)]((_0x1bc892,_0x5b01a9)=>{const _0x2c0a97=_0x450315;_0x4cc65c[_0x1bc892[_0x2c0a97(0x23d)]]&&(_0x1bc892={..._0x1bc892,'initial':_0x4cc65c[_0x1bc892['coin']]}),_0x11b2c8[_0x2c0a97(0x22c)][_0x5b01a9]=_0x1bc892;}),_0x26cd2d[_0x450315(0x1bf)]({'date':_0x11b2c8[_0x450315(0x20d)],'eur':_0x11b2c8[_0x450315(0x2e2)],'usd':_0x11b2c8[_0x450315(0x1c5)],'offset':_0x5a1aa2[_0x9ebe0b],'netoffset':_0x148077,'coins':_0x11b2c8['coins']});});}return _0x26cd2d;}function emitPerformance(_0x2efb22){const _0x22a77c=_0xd0190;_0x2efb22[_0x22a77c(0x208)]!==0x0?(proxyEmit(_0x22a77c(0x244),_0x2efb22),lastPerformanceEmitted=getDate()):proxyEmit(_0x22a77c(0x244),[]);}function getPerf(_0x5a603c,_0x469119){const _0x534a4a=_0xd0190;let _0x421154=0x0,_0x3c2d36=0x0,_0x31ce2a=0x0;_0x5a603c['coins']['forEach'](_0x87b91f=>{const _0x459295=_0x1367;_0x421154+=_0x87b91f[_0x459295(0x27e)]*_0x87b91f[_0x459295(0x1e4)];});_0x469119&&(_0x421154+=_0x5a603c['offset']);if(config[_0x534a4a(0x275)]==='BTC'||config[_0x534a4a(0x275)]===_0x534a4a(0x238))_0x3c2d36=_0x421154*_0x5a603c[_0x534a4a(0x2e2)],_0x31ce2a=_0x421154*_0x5a603c['usd'];else{if(config[_0x534a4a(0x275)]===_0x534a4a(0x2a8)||config[_0x534a4a(0x275)]===_0x534a4a(0x2bc))_0x3c2d36=_0x421154*_0x5a603c['eur']/_0x5a603c['usd'],_0x31ce2a=_0x421154;else config[_0x534a4a(0x275)]===_0x534a4a(0x1b0)&&(_0x3c2d36=_0x421154,_0x31ce2a=_0x421154*_0x5a603c['usd']/_0x5a603c[_0x534a4a(0x2e2)]);}return[_0x421154,_0x3c2d36,_0x31ce2a];}function getKPIs(_0x104c45,_0x1d5b06=_0xd0190(0x1b0)){const _0x3835f5=_0xd0190,_0x2dd537=config[_0x3835f5(0x275)],_0x5590aa=config['balances'],_0x3f3cbb=currentCoins,_0x4ea296=getNormalizedPerformance(),_0x3e003b=_0x104c45===_0x3835f5(0x275)?_0x2dd537:_0x104c45===_0x3835f5(0x263)||_0x104c45==='net-fiat'?_0x1d5b06:_0x3835f5(0x22f)+_0x2dd537,_0x5f4c68=_0x104c45==='net-basecoin'?_0x3835f5(0x280):_0x104c45===_0x3835f5(0x223)?_0x3835f5(0x2ce)+_0x3e003b+')':_0x3e003b+_0x3835f5(0x253),_0x20f0a3=_0x104c45===_0x3835f5(0x179)||_0x104c45==='net-fiat'?'Net\x20effect':_0x3e003b+_0x3835f5(0x21c);let _0x497dc1=0x0;_0x3f3cbb[_0x3835f5(0x17d)](_0x4c5eae=>{const _0x3b428d=_0x3835f5;_0x497dc1+=_0x4c5eae[_0x3b428d(0x27e)]*_0x4c5eae['last'];});if(_0x104c45==='fiat'||_0x104c45===_0x3835f5(0x223)){if(_0x2dd537===_0x3835f5(0x298)||_0x2dd537===_0x3835f5(0x238))_0x497dc1=_0x497dc1*(_0x1d5b06==='EUR'?_0x5590aa['eur']:_0x5590aa['usd']);else{if(_0x2dd537===_0x3835f5(0x2a8)||_0x2dd537==='USDT')_0x497dc1=_0x497dc1*(_0x1d5b06===_0x3835f5(0x1b0)?_0x5590aa['eur']/_0x5590aa[_0x3835f5(0x1c5)]:0x1);else _0x2dd537===_0x3835f5(0x1b0)&&(_0x497dc1=_0x497dc1*(_0x1d5b06===_0x3835f5(0x1b0)?0x1:_0x5590aa['usd']/_0x5590aa['eur']));}}let _0x2ebc17;if(_0x497dc1!==0x0){if(_0x104c45===_0x3835f5(0x275))_0x2ebc17=(_0x497dc1/startingBalances['basecoin']-0x1)*0x64;else{if(_0x1d5b06===_0x3835f5(0x1b0))_0x2ebc17=(_0x497dc1/startingBalances['eur']-0x1)*0x64;else _0x2ebc17=(_0x497dc1/startingBalances['usd']-0x1)*0x64;}let _0x5ef405=0x0;if(startingBalances[_0x3835f5(0x22c)])_0x3f3cbb[_0x3835f5(0x17d)](_0xdd4327=>{const _0x3df1a=_0x3835f5;let _0x1dc683=startingBalances[_0x3df1a(0x22c)][_0x3df1a(0x291)](_0x61638b=>_0x61638b[_0x3df1a(0x23d)]===_0xdd4327['coin']);if(_0x1dc683&&_0x1dc683[_0x3df1a(0x23d)]&&_0xdd4327[_0x3df1a(0x27e)]!==0x0)_0x5ef405+=_0x1dc683[_0x3df1a(0x27e)]*_0xdd4327['last'];});let _0x23bd56=0x0;if(_0x4ea296[_0x3835f5(0x208)]!==0x0){let _0xecdaed=_0x4ea296[_0x4ea296[_0x3835f5(0x208)]-0x1];_0x23bd56=_0xecdaed['netoffset'];}_0x5ef405-=_0x23bd56;_0x104c45===_0x3835f5(0x179)&&(_0x2ebc17=(_0x497dc1-_0x5ef405)/startingBalances[_0x3835f5(0x275)]*0x64,_0x497dc1=_0x497dc1-_0x5ef405);if(_0x104c45===_0x3835f5(0x223)){let _0xd4abfe=_0x1d5b06===_0x3835f5(0x1b0)?startingBalances[_0x3835f5(0x2e2)]:startingBalances[_0x3835f5(0x1c5)];if(_0x2dd537===_0x3835f5(0x298)||_0x2dd537==='ETH')_0x5ef405=_0x1d5b06===_0x3835f5(0x1b0)?_0x5ef405*_0x5590aa['eur']:_0x5ef405*_0x5590aa['usd'];else{if(_0x2dd537===_0x3835f5(0x2a8)||_0x2dd537==='USDT')_0x5ef405=_0x1d5b06===_0x3835f5(0x1b0)?_0x5ef405*_0x5590aa['eur']/_0x5590aa['usd']:_0x5ef405;else _0x2dd537===_0x3835f5(0x1b0)&&(_0x5ef405=_0x1d5b06===_0x3835f5(0x1b0)?_0x5ef405:_0x5ef405*_0x5590aa['usd']/_0x5590aa[_0x3835f5(0x2e2)]);}_0x2ebc17=(_0x497dc1-_0x5ef405)/_0xd4abfe*0x64,_0x497dc1=_0x497dc1-_0x5ef405;}if(_0x2ebc17){if(_0x2ebc17<0x64)_0x2ebc17=_0x2ebc17[_0x3835f5(0x1bc)](0x2);else{if(_0x2ebc17<0x3e8)_0x2ebc17=_0x2ebc17[_0x3835f5(0x1bc)](0x1);else _0x2ebc17=_0x2ebc17['toFixed'](0x0);}}else _0x2ebc17=Number('0')[_0x3835f5(0x1bc)](0x2);if(_0x497dc1){if(Math[_0x3835f5(0x27f)](_0x497dc1)<0.000001)_0x497dc1=_0x497dc1[_0x3835f5(0x1bc)](0x2);else{if(Math['abs'](_0x497dc1)<0.1)_0x497dc1=_0x497dc1[_0x3835f5(0x1bc)](0x6);else{if(Math[_0x3835f5(0x27f)](_0x497dc1)<0x1)_0x497dc1=_0x497dc1[_0x3835f5(0x1bc)](0x5);else{if(Math[_0x3835f5(0x27f)](_0x497dc1)<0xa)_0x497dc1=_0x497dc1[_0x3835f5(0x1bc)](0x4);else{if(Math['abs'](_0x497dc1)<0x64)_0x497dc1=_0x497dc1[_0x3835f5(0x1bc)](0x3);else{if(Math[_0x3835f5(0x27f)](_0x497dc1)<0x3e8)_0x497dc1=_0x497dc1[_0x3835f5(0x1bc)](0x2);else _0x497dc1=_0x497dc1[_0x3835f5(0x1bc)](0x2);}}}}}}else _0x497dc1=Number('0')[_0x3835f5(0x1bc)](0x2);}else _0x2ebc17=Number('0')['toFixed'](0x2);return{'value':_0x497dc1,'change':_0x2ebc17,'leftTxt':_0x5f4c68,'rightTxt':_0x20f0a3};}async function getStartingBalances(_0x233e30,_0x5aaf85=!![]){const _0x164738=_0xd0190;if(_0x233e30[_0x164738(0x208)]!==0x0){const [_0x320109,_0x543a0f,_0x16fbd0]=getPerf(_0x233e30[0x0],!![]);let _0x341aff=[];config[_0x164738(0x185)]['forEach'](_0x4564ec=>{const _0x9f199=_0x164738;let _0x3cc9bb=0x0,_0x345b87;config['liquidity'][_0x9f199(0x17d)](_0x3ca933=>{const _0x3533f0=_0x9f199;let _0x3bce34=_0x3ca933[_0x3533f0(0x22d)][_0x3533f0(0x291)](_0x486512=>_0x486512[_0x3533f0(0x23d)]==_0x4564ec[_0x3533f0(0x23d)]);if(_0x3bce34){_0x3cc9bb+=_0x3bce34[_0x3533f0(0x27e)];if(!_0x345b87)_0x345b87=_0x3bce34[_0x3533f0(0x1e4)];}}),_0x341aff[_0x9f199(0x1bf)]({'coin':_0x4564ec[_0x9f199(0x23d)],'number':_0x3cc9bb,'initialprice':_0x345b87});});const _0x1adba7={'basecoin':_0x320109,'eur':_0x543a0f,'usd':_0x16fbd0,'coins':_0x341aff};if(_0x5aaf85)proxyEmit(_0x164738(0x22b),_0x1adba7);startingBalances=_0x1adba7;}}function headlessMode(_0x21d0d7){const _0x42252c=_0xd0190;let _0x8097cc=_0x21d0d7[_0x42252c(0x185)],_0x5f21fc=_0x21d0d7['threshold'],_0x2f2d3a=[];for(let _0x30702c of _0x8097cc){if(_0x30702c[_0x42252c(0x23d)]!=config[_0x42252c(0x275)]){if(_0x30702c[_0x42252c(0x188)]>=_0x5f21fc/0x64){if(_0x30702c[_0x42252c(0x1ff)])_0x2f2d3a['push'](_0x30702c);}else{if(_0x30702c[_0x42252c(0x188)]<=-_0x5f21fc/0x64){if(_0x30702c[_0x42252c(0x1ff)])_0x2f2d3a[_0x42252c(0x1bf)](_0x30702c);}}}}_0x2f2d3a[_0x42252c(0x208)]>0x0&&placeOrder(_0x2f2d3a);}function notifyBalance(_0x124c64){const _0x762818=_0xd0190;let _0x1eb474=_0x124c64[_0x762818(0x185)],_0x21f38e=_0x124c64[_0x762818(0x214)],_0x1183ff=[];for(let _0x17b117 of _0x1eb474){if(_0x17b117[_0x762818(0x23d)]!=config[_0x762818(0x275)]){if(_0x17b117[_0x762818(0x188)]>=_0x21f38e/0x64){if(_0x17b117['valid'])_0x1183ff[_0x762818(0x1bf)](_0x17b117);}else{if(_0x17b117['delta']<=-_0x21f38e/0x64){if(_0x17b117[_0x762818(0x1ff)])_0x1183ff[_0x762818(0x1bf)](_0x17b117);}}}}if(_0x1183ff['length']>0x0){let _0x2861ab=_0x1183ff[_0x762818(0x212)](_0x2b7b62=>_0x2b7b62[_0x762818(0x23d)]);_0x2861ab['sort']();let _0x46ce6b=_0x2861ab[_0x762818(0x294)](',\x20');if(!lastCoinsToBalance)logHistory(_0x762818(0x1bd),_0x762818(0x29d));lastCoinsToBalance=_0x46ce6b;}}function symbolToCoin(_0x57c057){const _0xa3544f=_0xd0190;let _0x36430a;if(_0x57c057[_0xa3544f(0x1eb)]('/'+config[_0xa3544f(0x275)]))_0x36430a=_0x57c057['replace']('/'+config['basecoin'],'');if(_0x57c057[_0xa3544f(0x1eb)](config[_0xa3544f(0x275)]+'/'))_0x36430a=_0x57c057['replace'](config[_0xa3544f(0x275)]+'/','');return _0x36430a;}async function unlockOrders(){const _0x5d0564=_0xd0190;if(allOrdersPlaced&&lockOrders==ORDERS[_0x5d0564(0x2ac)]){logger[_0x5d0564(0x1d2)](_0x5d0564(0x29b)),lockOrders=ORDERS[_0x5d0564(0x2e5)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x5d0564(0x2d5),persistOpenOrders([]),lockOrders=ORDERS[_0x5d0564(0x2ae)],logger['debug'](_0x5d0564(0x17b));}}async function validateOrders(_0x3d059a){const _0x2f6fea=_0xd0190;if(_0x3d059a)validateOrdersState=_0x3d059a;logger[_0x2f6fea(0x1d2)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x2f6fea(0x2c9):'ORDERS.UNLOCKED'));let _0x2297b8=[],_0x4633dc=config[_0x2f6fea(0x1a9)]==_0x2f6fea(0x194)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2f6fea(0x1fc)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2f6fea(0x2ac)])return;logger[_0x2f6fea(0x1d2)](_0x2f6fea(0x210)+validateOrdersState),lastOrders['forEach'](_0x3b29a0=>{const _0x45da4f=_0x2f6fea;let _0x4515df=![];_0x3b29a0[_0x45da4f(0x19e)]>0x0&&(_0x4515df=!![]),_0x2297b8[_0x45da4f(0x1bf)](_0x4515df),_0x4515df&&config[_0x45da4f(0x1a9)]!=_0x45da4f(0x194)&&logHistory(_0x45da4f(0x2d8),'Order\x20filled:\x20'+_0x3b29a0['symbol']+'\x20'+_0x3b29a0[_0x45da4f(0x1f4)]+'\x20#'+formatResult(_0x3b29a0[_0x45da4f(0x19e)],0x8)+'\x20@'+formatResult(_0x3b29a0[_0x45da4f(0x1e4)],0x8));}),_0x2297b8['forEach']((_0x2f3cd6,_0x5c2654)=>{if(_0x2f3cd6)lastOrders['splice'](_0x5c2654,0x1);}),persistOpenOrders(lastOrders);const _0x27be35=coolingDown?_0x2f6fea(0x21e):_0x2f6fea(0x234);if(validateOrdersState==_0x2f6fea(0x2d5))validateOrdersState=_0x2f6fea(0x1d0),_0x2297b8['includes'](![])?config[_0x2f6fea(0x1a9)]==_0x2f6fea(0x194)?logHistory(_0x2f6fea(0x1bd),_0x2f6fea(0x2b4)):logHistory(_0x2f6fea(0x1bd),_0x2f6fea(0x2c6)):await unlockOrders();else{if(validateOrdersState==_0x2f6fea(0x1d0)){if(_0x2297b8[_0x2f6fea(0x1eb)](![])){}else allOrdersPlaced&&(config[_0x2f6fea(0x1a9)]=='market'?logHistory(_0x2f6fea(0x209),_0x2f6fea(0x19c)+_0x27be35):logHistory(_0x2f6fea(0x209),_0x2f6fea(0x28a)+_0x27be35),await unlockOrders());}else{if(validateOrdersState=='final')_0x2297b8['includes'](![])&&(config[_0x2f6fea(0x1a9)]=='market'?logHistory(_0x2f6fea(0x209),_0x2f6fea(0x1ea)+Math[_0x2f6fea(0x241)](_0x4633dc*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x27be35):(await cancelOrders(),logHistory(_0x2f6fea(0x209),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x2f6fea(0x241)](_0x4633dc*validateOrderInterval/0xea60)+_0x2f6fea(0x24f)+_0x27be35))),await unlockOrders();else{if(validateOrdersState==_0x2f6fea(0x297)){if(config[_0x2f6fea(0x1a9)]!=_0x2f6fea(0x194))logHistory(_0x2f6fea(0x209),_0x2f6fea(0x1e0)+_0x27be35);await unlockOrders();}}}}}async function cancelOrders(){const _0x2decdf=_0xd0190;lastOrders[_0x2decdf(0x17d)](async _0x4f9cfb=>{const _0x5d55c4=_0x2decdf;try{const _0x1a9ccc=await exchange[_0x5d55c4(0x1e6)](_0x4f9cfb[_0x5d55c4(0x17a)],_0x4f9cfb[_0x5d55c4(0x283)]);}catch(_0x45833f){if(_0x45833f[_0x5d55c4(0x250)]()[_0x5d55c4(0x1eb)]('OrderNotFound')){}else await handleError(_0x45833f,_0x5d55c4(0x2c5));}});}async function initCoinResults(){const _0x23a1c3=_0xd0190;let _0x211074=[];config[_0x23a1c3(0x185)]['forEach'](_0x1a3520=>{const _0x13aef2=_0x23a1c3;if(!_0x1a3520['excluded']&&_0x1a3520[_0x13aef2(0x23d)]!=config[_0x13aef2(0x275)]){let _0x1998a3=dbCoinResults['get'](_0x13aef2(0x22c))[_0x13aef2(0x291)]({'coin':_0x1a3520[_0x13aef2(0x23d)]})[_0x13aef2(0x1ba)]();if(!_0x1998a3){const _0x3b5792=currentCoins[_0x13aef2(0x291)](_0x8c8d9e=>_0x8c8d9e[_0x13aef2(0x23d)]==_0x1a3520[_0x13aef2(0x23d)]),_0x43e983=global['ticker'][noslash(_0x1a3520['symbol'])];let _0x4d6215=_0x3b5792?_0x3b5792[_0x13aef2(0x27e)]:null,_0x40039a=_0x1a3520[_0x13aef2(0x1b3)]?0x1/_0x43e983:_0x43e983,_0x4cc507;config['liquidity']['forEach'](_0x1084cb=>{const _0x2c8e12=_0x13aef2;!_0x4cc507&&(_0x4cc507=_0x1084cb[_0x2c8e12(0x22d)][_0x2c8e12(0x291)](_0x614e=>_0x614e['coin']==_0x1a3520[_0x2c8e12(0x23d)]),_0x4cc507&&(_0x4d6215=_0x4cc507[_0x2c8e12(0x27e)],_0x40039a=_0x4cc507[_0x2c8e12(0x1e4)]));}),_0x211074[_0x13aef2(0x1bf)]({'coin':_0x1a3520['coin'],'number':_0x4d6215,'price':_0x40039a});}}}),_0x211074['forEach'](_0x3f3480=>{const _0x5079a7=_0x23a1c3,_0x54b58a={'coin':_0x3f3480[_0x5079a7(0x23d)],'number':_0x3f3480[_0x5079a7(0x27e)],'breakeven':_0x3f3480[_0x5079a7(0x1e4)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5079a7(0x2b8)](_0x5079a7(0x22c))[_0x5079a7(0x1bf)](_0x54b58a)['write']();});}async function updateCoinResults(_0x34f71a,_0x54efc7=![]){const _0x42e771=_0xd0190;let _0x549330,_0x4ba12f,_0x318300,_0x5615ec,_0x37db64,_0x387b97,_0x1a5507=dbCoinResults['get'](_0x42e771(0x22c))[_0x42e771(0x291)]({'coin':_0x34f71a[_0x42e771(0x23d)]})['value']();!_0x1a5507&&await initCoinResults();_0x34f71a[_0x42e771(0x1b3)]&&(_0x387b97={'filled':_0x34f71a['filled']*_0x34f71a[_0x42e771(0x1e4)],'amount':_0x34f71a[_0x42e771(0x19e)]*_0x34f71a[_0x42e771(0x1e4)],'side':_0x34f71a['side']==_0x42e771(0x219)?_0x42e771(0x225):_0x42e771(0x219),'price':0x1/_0x34f71a[_0x42e771(0x1e4)]},_0x34f71a={..._0x34f71a,..._0x387b97});_0x54efc7?_0x4ba12f=_0x34f71a[_0x42e771(0x1f4)]==_0x42e771(0x225)?_0x1a5507[_0x42e771(0x27e)]+_0x34f71a['filled']:_0x1a5507[_0x42e771(0x27e)]-_0x34f71a[_0x42e771(0x19e)]:_0x4ba12f=await getCoinNumber(_0x34f71a[_0x42e771(0x23d)]);if(_0x34f71a[_0x42e771(0x29c)]&&_0x34f71a['fee']['currency']==config[_0x42e771(0x275)])_0x549330=_0x34f71a[_0x42e771(0x29c)][_0x42e771(0x1aa)];else{if(_0x34f71a[_0x42e771(0x29c)]&&_0x34f71a[_0x42e771(0x29c)][_0x42e771(0x2e4)]=='BNB'&&!_0x54efc7)_0x549330=_0x34f71a[_0x42e771(0x29c)][_0x42e771(0x1aa)]*global[_0x42e771(0x1b4)][_0x42e771(0x23e)+config[_0x42e771(0x275)]];else _0x549330=defaultFee*_0x34f71a[_0x42e771(0x19e)]*_0x34f71a[_0x42e771(0x1e4)];}_0x34f71a[_0x42e771(0x1f4)]==_0x42e771(0x225)?(_0x318300=_0x4ba12f!=0x0?(_0x1a5507['breakeven']*_0x1a5507[_0x42e771(0x27e)]+_0x34f71a[_0x42e771(0x1e4)]*(_0x4ba12f-_0x1a5507[_0x42e771(0x27e)])+_0x549330)/_0x4ba12f:0x0,_0x5615ec=_0x1a5507['realized']):(_0x318300=_0x4ba12f!=0x0?(_0x1a5507[_0x42e771(0x29f)]*_0x1a5507['number']-_0x34f71a[_0x42e771(0x1e4)]*(_0x1a5507[_0x42e771(0x27e)]-_0x4ba12f)+_0x549330)/_0x4ba12f:0x0,_0x5615ec=_0x1a5507[_0x42e771(0x273)]+(_0x34f71a[_0x42e771(0x1e4)]-_0x1a5507['breakeven'])*_0x34f71a[_0x42e771(0x19e)]);_0x37db64=(_0x34f71a[_0x42e771(0x1e4)]-_0x318300-_0x549330/_0x34f71a[_0x42e771(0x19e)])*_0x4ba12f;let _0xe67841={'coin':_0x34f71a['coin'],'number':_0x4ba12f,'breakeven':formatResult(_0x318300,0x8),'realized':formatResult(_0x5615ec,0x8),'unrealized':formatResult(_0x37db64,0x8),'fees':formatResult(_0x1a5507[_0x42e771(0x246)]+_0x549330,0x8),'sells':_0x34f71a['side']=='sell'?_0x1a5507[_0x42e771(0x1f3)]+0x1:_0x1a5507[_0x42e771(0x1f3)],'buys':_0x34f71a[_0x42e771(0x1f4)]==_0x42e771(0x225)?_0x1a5507[_0x42e771(0x1fe)]+0x1:_0x1a5507['buys']};dbCoinResults['get']('coins')[_0x42e771(0x291)]({'coin':_0x34f71a[_0x42e771(0x23d)]})['assign'](_0xe67841)[_0x42e771(0x1da)]();if(!_0x54efc7){if(_0x34f71a[_0x42e771(0x29c)]&&_0x34f71a[_0x42e771(0x29c)][_0x42e771(0x2e4)]==_0x42e771(0x23e)){const _0x48e1fa=currentCoins[_0x42e771(0x291)](_0x5e04a7=>_0x5e04a7[_0x42e771(0x23d)]==_0x42e771(0x23e));if(_0x48e1fa){let _0x5a8f91=dbCoinResults['get']('coins')[_0x42e771(0x291)]({'coin':_0x42e771(0x23e)})[_0x42e771(0x1ba)]();_0xe67841={..._0x5a8f91,'number':_0x48e1fa[_0x42e771(0x27e)]},dbCoinResults[_0x42e771(0x2b8)]('coins')[_0x42e771(0x291)]({'coin':_0x42e771(0x23e)})[_0x42e771(0x1ad)](_0xe67841)['write']();}}}}async function placeOrder(_0x4aa720){const _0x4f914f=_0xd0190,_0x1370fc=config[_0x4f914f(0x1a9)]==_0x4f914f(0x194)?'market':'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x4f914f(0x2ac)],allOrdersPlaced=![],validateOrdersState=_0x4f914f(0x2d5),lastOrders=[];for(const _0xda36 of _0x4aa720){let _0xbf5aae,_0x20c12e,_0x4db067,_0x150238,_0x3dbd53,_0x518a36=_0xda36['symbol'];try{const _0x3c946b=await exchange[_0x4f914f(0x184)]([_0x518a36]),_0x2f081b=_0x3c946b[_0x518a36];_0xbf5aae=_0xda36[_0x4f914f(0x1b3)]?0x1/_0xda36['last']:_0xda36[_0x4f914f(0x2c3)],_0x20c12e=_0x2f081b[_0x4f914f(0x205)],_0x4db067=_0x2f081b['ask'];_0xda36[_0x4f914f(0x1b3)]?(_0x150238=_0xda36[_0x4f914f(0x1f4)]==_0x4f914f(0x225)?_0x4f914f(0x219):_0x4f914f(0x225),_0x3dbd53=Math[_0x4f914f(0x27f)](_0xda36[_0x4f914f(0x272)])/_0xbf5aae):(_0x150238=_0xda36[_0x4f914f(0x1f4)],_0x3dbd53=Math[_0x4f914f(0x27f)](_0xda36[_0x4f914f(0x272)]));_0x1370fc=='limit'&&(config[_0x4f914f(0x1a9)]=='limit-high'&&(_0xbf5aae=_0x150238=='buy'?_0x20c12e:_0x4db067),config['ordertype']==_0x4f914f(0x1b6)&&(_0xbf5aae=_0x150238==_0x4f914f(0x225)?_0x4db067:_0x20c12e));_0x3dbd53=formatResult(_0x3dbd53,0x8),_0xbf5aae=formatResult(_0xbf5aae,0x8);const _0x39c38e=_0x150238==_0x4f914f(0x219)?config[_0x4f914f(0x1b5)]?String[_0x4f914f(0x2d3)]('0x'+config[_0x4f914f(0x1b5)])+'\x20':'':config[_0x4f914f(0x264)]?String[_0x4f914f(0x2d3)]('0x'+config[_0x4f914f(0x264)])+'\x20':'',_0x5a5b47=_0x1370fc==_0x4f914f(0x194)?_0x4f914f(0x2b7):config['ordertype']==_0x4f914f(0x1dc)?_0x4f914f(0x2df):_0x4f914f(0x2c4),_0x36ee1a=new Date()['getTime']()[_0x4f914f(0x250)]()[_0x4f914f(0x226)](-0x6)+'-'+Math[_0x4f914f(0x217)]()['toString']()[_0x4f914f(0x226)](-0x6);lastOrders[_0x4f914f(0x1bf)]({'customId':_0x36ee1a,'symbol':_0x518a36,'coin':_0xda36[_0x4f914f(0x23d)],'side':_0x150238,'reverse':_0xda36[_0x4f914f(0x1b3)],'filled':0x0});if(_0x1370fc=='market')logHistory(_0x4f914f(0x2d8),''+_0x39c38e+_0x5a5b47+'\x20order:\x20'+_0x518a36+'\x20'+_0x150238+'\x20#'+formatResult(_0x3dbd53,0x8)+'\x20@'+formatResult(_0xbf5aae,0x8));else logHistory(_0x4f914f(0x2d8),''+_0x39c38e+_0x5a5b47+_0x4f914f(0x24c)+_0x518a36+'\x20'+_0x150238+'\x20#'+formatResult(_0x3dbd53,0x8)+'\x20@'+formatResult(_0xbf5aae,0x8));const _0x28d1f8=await exchange[_0x4f914f(0x261)](_0x518a36,_0x1370fc,_0x150238,_0x3dbd53,_0xbf5aae,{'clientOrderId':_0x36ee1a}),_0x2a84cf=lastOrders[_0x4f914f(0x208)]-0x1;_0x2a84cf>=0x0&&lastOrders[_0x2a84cf][_0x4f914f(0x21b)]==_0x36ee1a&&(lastOrders[_0x2a84cf]={...lastOrders[_0x2a84cf],'orderId':_0x28d1f8['id'],'amount':_0x28d1f8[_0x4f914f(0x240)],'price':_0x28d1f8[_0x4f914f(0x1e4)],'fee':_0x28d1f8[_0x4f914f(0x29c)]});if(config[_0x4f914f(0x1a3)]!=0x0){let _0x38ad36=null;if(cooldownTracker[_0x4f914f(0x208)]==config[_0x4f914f(0x1a3)]-0x1)_0x38ad36=cooldownTracker[_0x4f914f(0x1ef)]();const _0x276808=getTimeStamp();cooldownTracker['push'](_0x276808);if(_0x38ad36){const _0x532611=fns[_0x4f914f(0x18e)](new Date(_0x276808),new Date(_0x38ad36));if(_0x532611<cooldownInterval){logHistory(_0x4f914f(0x1c2),_0x4f914f(0x1a1)+config[_0x4f914f(0x1a3)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x4f914f(0x2e1)+cooldownPeriod/(0xe10*0x3e8)+_0x4f914f(0x2e3)),coolingDown=!![];break;}}}}catch(_0x116c92){if(_0x116c92['toString']()[_0x4f914f(0x1eb)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x4f914f(0x1df)](_0x18d0a6=>_0x18d0a6[_0x4f914f(0x283)]!=_0x518a36),logHistory(_0x4f914f(0x1c2),_0x4f914f(0x195)+_0x518a36);else _0x116c92[_0x4f914f(0x250)]()[_0x4f914f(0x1eb)](_0x4f914f(0x224))?(lastOrders=lastOrders[_0x4f914f(0x1df)](_0x26ef51=>_0x26ef51[_0x4f914f(0x283)]!=_0x518a36),logHistory(_0x4f914f(0x1c2),'Order\x20amount\x20is\x20invalid:\x20'+_0x518a36)):(lastOrders=lastOrders['filter'](_0x582194=>_0x582194['symbol']!=_0x518a36),await handleError(_0x116c92,_0x4f914f(0x1a7),_0x518a36));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x4f914f(0x208)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3c3882=config[_0x4f914f(0x1a9)]==_0x4f914f(0x194)?validateOrderTimeout*0x3c*0x3e8:config[_0x4f914f(0x1fc)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x326212=_0x4f914f;validateOrders(_0x326212(0x1ab));},_0x3c3882);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x4f914f(0x254)));}else{if(coolingDown)!config[_0x4f914f(0x21f)]&&logHistory(_0x4f914f(0x1c2),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x4f914f(0x2ae)]&&(!config[_0x4f914f(0x21f)]&&(config[_0x4f914f(0x1a9)]==_0x4f914f(0x194)?logHistory(_0x4f914f(0x1c2),_0x4f914f(0x248)):logHistory(_0x4f914f(0x1c2),_0x4f914f(0x191))));}}function persistOpenOrders(_0x4e81d5){const _0x23561d=_0xd0190,_0x2172a7={...config,'openOrders':_0x4e81d5};let _0x264686=dbConfig[_0x23561d(0x2b8)](_0x23561d(0x2be))[_0x23561d(0x291)]({'botID':botID})[_0x23561d(0x1ba)]();_0x264686&&dbConfig[_0x23561d(0x2b8)](_0x23561d(0x2be))['find']({'botID':botID})['assign'](_0x2172a7)['write']();}function restoreOrders(){const _0x4a7ecc=_0xd0190;let _0x1d834a;config[_0x4a7ecc(0x1c0)]&&allOpenOrders[_0x4a7ecc(0x17d)](_0x238d9b=>{const _0x25db4a=_0x4a7ecc,_0x5a5d03=config[_0x25db4a(0x1c0)]['find'](_0xbed186=>_0xbed186['orderId']==_0x238d9b['id']);_0x5a5d03&&(lastOrders[_0x25db4a(0x1bf)](_0x5a5d03),_0x1d834a=_0x238d9b['timestamp']);});if(lastOrders[_0x4a7ecc(0x208)]>0x0){lockOrders=ORDERS[_0x4a7ecc(0x2ac)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x2dc214=new Date()[_0x4a7ecc(0x2b5)](),_0x197a2e=config[_0x4a7ecc(0x1a9)]==_0x4a7ecc(0x194)?validateOrderTimeout*0x3c*0x3e8:config[_0x4a7ecc(0x1fc)]*0x3c*0x3e8;if(_0x1d834a+_0x197a2e>_0x2dc214){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x1d834a+_0x197a2e-_0x2dc214);}else validateOrders(_0x4a7ecc(0x1ab));}}async function sendPortfolioTelegram(){const _0xaa20ba=_0xd0190;if(loading['progress']!=0x64){process[_0xaa20ba(0x269)]({'telegrammsg':_0xaa20ba(0x2a5)},_0x589b4a=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x40cb8c=[_0xaa20ba(0x1b0),_0xaa20ba(0x2a8),'USDT'],_0x156612=_0x40cb8c[_0xaa20ba(0x1eb)](config['basecoin'])?0x2:0x8;let _0x317700='';if(config[_0xaa20ba(0x243)])_0x317700='<b>'+config[_0xaa20ba(0x24b)]+_0xaa20ba(0x1b1);else _0x317700=_0xaa20ba(0x1ac)+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x5267c3=getKPIs(_0xaa20ba(0x275)),_0xf288af=getKPIs('net-basecoin');_0x317700+=_0xaa20ba(0x18b),_0x317700+=_0x5267c3[_0xaa20ba(0x274)]+_0xaa20ba(0x17c)+_0x5267c3['value']+'\x20\x0a',_0x317700+=_0x5267c3[_0xaa20ba(0x19f)]+':\x20'+_0x5267c3[_0xaa20ba(0x1e5)]+'%\x20\x0a',_0x317700+=_0xf288af['leftTxt']+':\x20'+_0xf288af[_0xaa20ba(0x1ba)]+'\x20'+config[_0xaa20ba(0x275)]+'\x0a',_0x317700+=_0xf288af['rightTxt']+':\x20'+_0xf288af['change']+'%\x20\x0a',_0x317700+='\x0a',_0x317700+='-------------------------------\x0a',_0x317700+=_0xaa20ba(0x25c),_0x317700+='-------------------------------\x0a',currentCoins[_0xaa20ba(0x17d)](_0x4320c7=>{const _0x480d65=_0xaa20ba;_0x317700+=_0x4320c7[_0x480d65(0x23d)]['padEnd'](0x7)+'|\x20'+formatPad(_0x4320c7[_0x480d65(0x187)],0x2,0x6)+'|\x20'+formatPad(_0x4320c7['target'],0x2,0x6)+'|\x20'+formatPad(_0x4320c7[_0x480d65(0x188)]*0x64,0x2,0x6)+'\x0a';}),_0x317700+=_0xaa20ba(0x1c3),process['send']({'telegrammsg':_0x317700},_0x236c01=>{});}function formatPad(_0x226c51,_0x5ced5d,_0x5a8041){const _0x5784b8=_0xd0190,_0x31b877=formatResultString(_0x226c51,_0x5ced5d);return _0x31b877?_0x31b877[_0x5784b8(0x1ca)](_0x5a8041):''[_0x5784b8(0x1ca)](_0x5a8041);}function logHistory(_0x4d1141,_0x1d27a5,_0x3fee52=''){const _0xebda8a=_0xd0190;let _0x687886={'time':getTimeStamp(),'type':_0x4d1141,'event':_0x1d27a5};dbLogs[_0xebda8a(0x2b8)](_0xebda8a(0x1b8))[_0xebda8a(0x1bf)](_0x687886)[_0xebda8a(0x1da)]();if(_0x3fee52=='')_0x3fee52=_0x1d27a5;proxyEmit('event',{'log':_0x687886,'summary':_0x3fee52}),process[_0xebda8a(0x269)]({'telegram':{..._0x687886,'botname':config['botname'],'showname':config[_0xebda8a(0x243)]}},_0x5b5b96=>{}),logger[_0xebda8a(0x28f)](''+_0x687886[_0xebda8a(0x2ca)]);}function emitHistory(_0x4f737d={}){const _0x32f38b=_0xd0190;Object[_0x32f38b(0x1b2)](_0x4f737d)['length']==0x0&&(_0x4f737d={'type':[_0x32f38b(0x2d8),_0x32f38b(0x2ca)],'event':'','page':0x1});if(_0x4f737d[_0x32f38b(0x1de)][_0x32f38b(0x1eb)](_0x32f38b(0x2ca)))_0x4f737d['type'][_0x32f38b(0x236)](_0x4f737d['type'][_0x32f38b(0x285)]('event'),0x1,_0x32f38b(0x1c2),'success');if(dbLogs['has'](_0x32f38b(0x1b8))[_0x32f38b(0x1ba)]()){let _0x4b63f0=dbLogs['get'](_0x32f38b(0x1b8))[_0x32f38b(0x1df)](_0x3cf5a3=>{const _0x5457d1=_0x32f38b;if(_0x4f737d['type'][_0x5457d1(0x208)]==0x0)return![];else return _0x4f737d[_0x5457d1(0x1de)]['includes'](_0x3cf5a3[_0x5457d1(0x1de)]);})[_0x32f38b(0x1df)](_0x3619bb=>{const _0x47dd4c=_0x32f38b;if(_0x4f737d[_0x47dd4c(0x2ca)]=='')return!![];else return _0x3619bb['event'][_0x47dd4c(0x252)]()['includes'](_0x4f737d[_0x47dd4c(0x2ca)][_0x47dd4c(0x252)]());})['sortBy']('time'),_0x3daf23=_0x4b63f0['value']()['length'];_0x4b63f0=_0x4b63f0[_0x32f38b(0x1b3)]()[_0x32f38b(0x226)]((_0x4f737d[_0x32f38b(0x227)]-0x1)*logPageSize,_0x4f737d['page']*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x32f38b(0x26c),{'logs':_0x4b63f0,'total':_0x3daf23});}else proxyEmit(_0x32f38b(0x26c),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x3ae4c3){const _0x26c1bd=_0xd0190;if(dbLogs[_0x26c1bd(0x2b6)](_0x26c1bd(0x1b8))[_0x26c1bd(0x1ba)]()){const _0x2fa854=dbLogs['get']('logs')[_0x26c1bd(0x1cd)](_0x26c1bd(0x26f))[_0x26c1bd(0x1df)](_0x1f1ee4=>{const _0x3d0dff=_0x26c1bd;return _0x1f1ee4[_0x3d0dff(0x1de)]=='order';})[_0x26c1bd(0x1ba)]();dbLogs[_0x26c1bd(0x2b8)](_0x26c1bd(0x1b8))[_0x26c1bd(0x1cc)]()[_0x26c1bd(0x1da)](),dbLogs[_0x26c1bd(0x2b8)](_0x26c1bd(0x1b8))[_0x26c1bd(0x1ad)](_0x2fa854)[_0x26c1bd(0x1da)](),emitHistory(_0x3ae4c3);}}async function pauseBot(_0x2bd988=''){const _0xe32ce8=_0xd0190,_0x549130=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0xe32ce8(0x2b5)](),consecutivePauses=0x1;else{if(_0x549130-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0xe32ce8(0x269)]({'stop':_0xe32ce8(0x196)},_0x5bc23b=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x2bd988)_0x2bd988+=_0xe32ce8(0x29e);logHistory(_0xe32ce8(0x1c2),_0x2bd988+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0xe32ce8(0x1d3)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x4f6f58=_0xd0190;process[_0x4f6f58(0x269)]({'stop':_0x4f6f58(0x213)},_0x503003=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3fa67e,_0x149be8){const _0xb1e23c=_0xd0190;if(_0x3fa67e[_0xb1e23c(0x250)]()[_0xb1e23c(0x1eb)]('API-key\x20format\x20invalid'))return logHistory(_0xb1e23c(0x1c2),_0xb1e23c(0x1e7)),![];else{if(_0x3fa67e['toString']()[_0xb1e23c(0x1eb)](_0xb1e23c(0x27b)))return logHistory(_0xb1e23c(0x1c2),_0xb1e23c(0x202)),![];else{if(_0x3fa67e['toString']()[_0xb1e23c(0x1eb)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0xb1e23c(0x1c2),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x3fa67e,_0x149be8);}}}async function handleError(_0x3a9d7e,_0x43b445,_0x19bbae=''){const _0x445ddd=_0xd0190;if(_0x3a9d7e[_0x445ddd(0x250)]()[_0x445ddd(0x1eb)](_0x445ddd(0x1f6)))await pauseBot(_0x445ddd(0x1a2));else{if(_0x3a9d7e['toString']()[_0x445ddd(0x1eb)](_0x445ddd(0x1ce)))await pauseBot(_0x445ddd(0x237));else{if(_0x3a9d7e[_0x445ddd(0x250)]()[_0x445ddd(0x1eb)](_0x445ddd(0x1c8)))await pauseBot(_0x445ddd(0x1d1));else{if(_0x3a9d7e[_0x445ddd(0x250)]()[_0x445ddd(0x1eb)](_0x445ddd(0x19a)))logHistory('error',_0x43b445+_0x445ddd(0x20c)),logHistory(_0x445ddd(0x1c2),_0x445ddd(0x23c)),await killBot();else{if(_0x3a9d7e[_0x445ddd(0x250)]()['includes'](_0x445ddd(0x27b)))logHistory(_0x445ddd(0x1c2),_0x43b445+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x445ddd(0x1c2),_0x445ddd(0x23c)),await killBot();else{if(_0x3a9d7e[_0x445ddd(0x250)]()[_0x445ddd(0x1eb)](_0x445ddd(0x1c6)))logHistory('error',_0x43b445+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3a9d7e[_0x445ddd(0x250)]()[_0x445ddd(0x1eb)](_0x445ddd(0x197)))logHistory(_0x445ddd(0x1c2),_0x43b445+_0x445ddd(0x1be)),logHistory(_0x445ddd(0x1c2),_0x445ddd(0x23c)),await killBot();else{if(_0x3a9d7e[_0x445ddd(0x250)]()[_0x445ddd(0x1eb)](_0x445ddd(0x1c9)))await pauseBot(_0x445ddd(0x1dd)),process[_0x445ddd(0x269)]({'stop':_0x445ddd(0x196)},_0x390be8=>{});else _0x3a9d7e[_0x445ddd(0x250)]()[_0x445ddd(0x1eb)](_0x445ddd(0x242))?logHistory(_0x445ddd(0x1c2),_0x43b445+_0x445ddd(0x200)+_0x19bbae):(logger[_0x445ddd(0x28f)](_0x43b445+_0x445ddd(0x288),_0x3a9d7e),await pauseBot(_0x445ddd(0x28d)));}}}}}}}}function formatResult(_0x3967c4,_0x59ef0b){const _0x28fc28=_0xd0190;return parseFloat(_0x3967c4[_0x28fc28(0x1bc)](_0x59ef0b));}function formatResultTruncate(_0x21a2ec,_0x21d866){let _0x4cf94d=formatResultString(_0x21a2ec,0xa),_0x53cad9=_0x4cf94d['indexOf']('.');return _0x53cad9!=-0x1&&(_0x4cf94d=_0x4cf94d['slice'](0x0,_0x53cad9+_0x21d866+0x1)),Number(_0x4cf94d);}function formatResultString(_0x3b7049,_0x55113d){const _0x36db98=_0xd0190;let _0x4b7a2c;if(!(''+_0x3b7049)[_0x36db98(0x1eb)]('e'))_0x4b7a2c=+(Math[_0x36db98(0x241)](_0x3b7049+'e+'+_0x55113d)+'e-'+_0x55113d);else{let _0x48eb7d=(''+_0x3b7049)[_0x36db98(0x22a)]('e'),_0x26faa2='';+_0x48eb7d[0x1]+_0x55113d>0x0&&(_0x26faa2='+'),_0x4b7a2c=+(Math[_0x36db98(0x241)](+_0x48eb7d[0x0]+'e'+_0x26faa2+(+_0x48eb7d[0x1]+_0x55113d))+'e-'+_0x55113d);}return Number(_0x4b7a2c)['toFixed'](_0x55113d);}function getServerTime(){const _0x28fd48=_0xd0190,_0x4f563d=new Date();return _0x4f563d[_0x28fd48(0x289)]()+'/'+(_0x4f563d[_0x28fd48(0x26b)]()+0x1)[_0x28fd48(0x250)]()[_0x28fd48(0x1ca)](0x2,'0')+'/'+_0x4f563d[_0x28fd48(0x1d9)]()[_0x28fd48(0x250)]()['padStart'](0x2,'0')+'\x20'+_0x4f563d['getHours']()['toString']()['padStart'](0x2,'0')+':'+_0x4f563d[_0x28fd48(0x2a6)]()['toString']()[_0x28fd48(0x1ca)](0x2,'0')+':'+_0x4f563d[_0x28fd48(0x25f)]()['toString']()[_0x28fd48(0x1ca)](0x2,'0');}function getTimeStamp(){const _0x4dc592=_0xd0190,_0x33456a=shiftedTime();return _0x33456a['getFullYear']()+'/'+(_0x33456a[_0x4dc592(0x26b)]()+0x1)['toString']()[_0x4dc592(0x1ca)](0x2,'0')+'/'+_0x33456a[_0x4dc592(0x1d9)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x33456a[_0x4dc592(0x20b)]()[_0x4dc592(0x250)]()[_0x4dc592(0x1ca)](0x2,'0')+':'+_0x33456a['getMinutes']()['toString']()['padStart'](0x2,'0')+':'+_0x33456a[_0x4dc592(0x25f)]()[_0x4dc592(0x250)]()[_0x4dc592(0x1ca)](0x2,'0');}function getDate(){const _0x1c203a=_0xd0190,_0x49d7cc=shiftedTime();return _0x49d7cc[_0x1c203a(0x289)]()+'/'+(_0x49d7cc[_0x1c203a(0x26b)]()+0x1)[_0x1c203a(0x250)]()[_0x1c203a(0x1ca)](0x2,'0')+'/'+_0x49d7cc[_0x1c203a(0x1d9)]()['toString']()[_0x1c203a(0x1ca)](0x2,'0');}function getHour(){const _0x3edd80=_0xd0190,_0x273fc6=shiftedTime();return _0x273fc6[_0x3edd80(0x20b)]()[_0x3edd80(0x250)]()[_0x3edd80(0x1ca)](0x2,'0');}function sleep(_0x496ef5){return new Promise(_0x15f1c7=>setTimeout(_0x15f1c7,_0x496ef5));}function shiftedTime(){const _0x4b3be7=_0xd0190,_0x40fef4=new Date();let _0x5437e4=_0x40fef4;if(config&&config[_0x4b3be7(0x229)]!==0x0)_0x5437e4=fns[_0x4b3be7(0x221)](_0x40fef4,{'hours':config[_0x4b3be7(0x229)]});return _0x5437e4;}