const _0x35f7c6=_0x3e01;(function(_0x881b99,_0x5c5872){const _0x2ebfc2=_0x3e01,_0xb694a8=_0x881b99();while(!![]){try{const _0x859c27=parseInt(_0x2ebfc2(0x288))/0x1+parseInt(_0x2ebfc2(0x24c))/0x2+parseInt(_0x2ebfc2(0x29f))/0x3*(-parseInt(_0x2ebfc2(0x2e3))/0x4)+parseInt(_0x2ebfc2(0x2f7))/0x5+parseInt(_0x2ebfc2(0x1fd))/0x6+parseInt(_0x2ebfc2(0x219))/0x7+-parseInt(_0x2ebfc2(0x293))/0x8*(parseInt(_0x2ebfc2(0x257))/0x9);if(_0x859c27===_0x5c5872)break;else _0xb694a8['push'](_0xb694a8['shift']());}catch(_0x2df932){_0xb694a8['push'](_0xb694a8['shift']());}}}(_0x36d7,0xd1fd2));const _0x1dd45b=function(){let _0x198e1d=!![];return function(_0xe4e16e,_0x122c9e){const _0x202b13=_0x198e1d?function(){if(_0x122c9e){const _0x1c3e61=_0x122c9e['apply'](_0xe4e16e,arguments);return _0x122c9e=null,_0x1c3e61;}}:function(){};return _0x198e1d=![],_0x202b13;};}(),_0x55b975=_0x1dd45b(this,function(){const _0x41bf2a=_0x3e01;return _0x55b975['toString']()[_0x41bf2a(0x304)](_0x41bf2a(0x261))['toString']()[_0x41bf2a(0x292)](_0x55b975)['search'](_0x41bf2a(0x261));});_0x55b975();'use strict';const ccxt=require('ccxt'),low=require(_0x35f7c6(0x207)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x35f7c6(0x282)),{WebsocketClient,DefaultLogger}=require(_0x35f7c6(0x2bf)),Crypt=require(_0x35f7c6(0x2b1))[_0x35f7c6(0x24e)];let exchange,wsClient;global[_0x35f7c6(0x23e)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x35f7c6(0x23b))[_0x35f7c6(0x26f)],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x35f7c6(0x2ac)](botID))return console[_0x35f7c6(0x251)]('Error:\x20Invalid\x20argument\x20'+botID+_0x35f7c6(0x28f)),process['exit'](0x1);const userID=process[_0x35f7c6(0x2a0)][0x3]||'',configpath=userID?_0x35f7c6(0x2cb)+userID+'/':_0x35f7c6(0x2cb);!fs[_0x35f7c6(0x305)](configpath)&&fs['mkdirSync'](configpath);const configfile=configpath+_0x35f7c6(0x244)+botID+_0x35f7c6(0x2fe),logfile=configpath+'bot-'+botID+_0x35f7c6(0x275),performancefile=configpath+_0x35f7c6(0x244)+botID+'-performance.json',coinresultsfile=configpath+'bot-'+botID+_0x35f7c6(0x2ae),settingsfile=configpath+_0x35f7c6(0x208),securefile=configpath+_0x35f7c6(0x1f9),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})['write']();function _0x3e01(_0x209c17,_0xb76763){const _0x51ad18=_0x36d7();return _0x3e01=function(_0x55b975,_0x1dd45b){_0x55b975=_0x55b975-0x1f2;let _0x36d7c0=_0x51ad18[_0x55b975];return _0x36d7c0;},_0x3e01(_0x209c17,_0xb76763);}const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x35f7c6(0x25a)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x35f7c6(0x259)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x35f7c6(0x259)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x35f7c6(0x2fc),'symbol':_0x35f7c6(0x22a)},'usd':{'coin':'BTCUSDT','symbol':_0x35f7c6(0x2cd)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x14bf71)=>{},'debug':(..._0x429f3f)=>{},'notice':(..._0xb34b00)=>{},'info':(..._0x5780c4)=>{},'warning':(..._0x1b241b)=>{},'error':async function(..._0x3beb35){const _0x61e932=_0x35f7c6,_0x3a9e2f=new Date()[_0x61e932(0x2a6)]();if(!lastErrorShown||_0x3a9e2f-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x61e932(0x2a6)](),logHistory(_0x61e932(0x295),'WebSockets('+consecutivePauses+_0x61e932(0x226));let _0x1e2d04='';if(_0x3beb35[0x0])_0x1e2d04+=_0x3beb35[0x0];if(_0x3beb35[0x1]&&_0x3beb35[0x1]['error']&&_0x3beb35[0x1][_0x61e932(0x295)][_0x61e932(0x302)])_0x1e2d04+='\x20-\x20'+_0x3beb35[0x1]['error'][_0x61e932(0x302)];logging(_0x61e932(0x243)+consecutivePauses+_0x61e932(0x2a5),''+_0x1e2d04),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':'sha256','rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings['timeshift']!=config[_0x35f7c6(0x2e9)]&&updateTimeshift(settings[_0x35f7c6(0x2e9)]);process[_0x35f7c6(0x24d)]({'started':_0x35f7c6(0x24a)},_0x5282eb=>{}),initializeProcessListeners();function proxyEmit(_0x2bb28b,_0x29d865=null){const _0x6db209=_0x35f7c6;process[_0x6db209(0x24d)]({'function':_0x2bb28b,'args':_0x29d865},_0x4aa18b=>{});}function initializeProcessListeners(){const _0x5bdc46=_0x35f7c6;process['on'](_0x5bdc46(0x302),_0xf9aac9=>{const _0x40cb02=_0x5bdc46;switch(Object['keys'](_0xf9aac9)[0x0]){case _0x40cb02(0x2e9):_0xf9aac9['timeshift']!=undefined&&(settings[_0x40cb02(0x2e9)]=_0xf9aac9[_0x40cb02(0x2e9)],updateTimeshift(settings[_0x40cb02(0x2e9)]));break;case _0x40cb02(0x264):switch(_0xf9aac9['function']){case _0x40cb02(0x1fb):initclient();break;case _0x40cb02(0x25e):emitHistory(_0xf9aac9['args']);break;case _0x40cb02(0x2aa):getPortfolio(_0xf9aac9[_0x40cb02(0x233)]);break;case _0x40cb02(0x20b):storeConfiguration(_0xf9aac9[_0x40cb02(0x233)]);break;case _0x40cb02(0x270):storeHeadless(_0xf9aac9[_0x40cb02(0x233)]);break;case _0x40cb02(0x2bc):getStartingBalances();break;case _0x40cb02(0x2de):placeOrder(_0xf9aac9['args']);break;case _0x40cb02(0x21e):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x15b0bf=_0x35f7c6;if(pidBalances)clearTimeout(pidBalances);if(config[_0x15b0bf(0x217)]!=''){await initExchange(config[_0x15b0bf(0x217)],config[_0x15b0bf(0x209)]);let _0x17b891=await loadSymbols();_0x17b891&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x37d272,_0x418135){const _0x5e005e=_0x35f7c6,_0x16d08b=ccxt[config[_0x5e005e(0x265)]];let _0x85fbcf;switch(config[_0x5e005e(0x265)]){case _0x5e005e(0x2bf):_0x85fbcf='wss://stream.binance.com:9443';break;case'binanceus':_0x85fbcf=_0x5e005e(0x256);break;default:_0x85fbcf=_0x5e005e(0x203);}exchange=new _0x16d08b({'apiKey':_0x37d272,'secret':_0x418135,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x37d272,'api_secret':_0x418135,'beautify':!![],'wsUrl':_0x85fbcf},logger),config[_0x5e005e(0x265)]==_0x5e005e(0x2d1)&&(stablecoins={'eur':{'coin':_0x5e005e(0x300),'symbol':_0x5e005e(0x216)},'usd':{'coin':_0x5e005e(0x271),'symbol':'BTC/USDT'}});}async function loadSymbols(){const _0x155a1d=_0x35f7c6;let _0x110b66;try{markets=await exchange[_0x155a1d(0x291)]();const _0x3720e9=[_0x155a1d(0x29b),_0x155a1d(0x239),_0x155a1d(0x221)];allSymbols=exchange[_0x155a1d(0x2a2)]['filter'](_0x5a2b4b=>{const _0x2b6f8b=_0x155a1d;let _0xd8b243=![];return _0x3720e9[_0x2b6f8b(0x26d)](_0x544dda=>{const _0x4dbb2f=_0x2b6f8b;if(_0x5a2b4b[_0x4dbb2f(0x281)](_0x544dda))_0xd8b243=!![];}),!_0xd8b243;}),_0x110b66=!![];}catch(_0x149c03){await handleError(_0x149c03,_0x155a1d(0x25c)),_0x110b66=![];}return _0x110b66;}async function initbot(){const _0x29a819=_0x35f7c6;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x1c07b2=dbCoinResults[_0x29a819(0x218)](_0x29a819(0x266))[_0x29a819(0x2f4)]();if(_0x1c07b2[_0x29a819(0x26b)]==0x0)await resetCoinResults();}async function initclient(){const _0x42acdd=_0x35f7c6;proxyEmit(_0x42acdd(0x2ee),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x5ab00a=_0x35f7c6;wsinitialized=![];ws1&&(ws1[_0x5ab00a(0x26d)](_0x24b0d5=>{const _0x1aa7df=_0x5ab00a;try{wsClient[_0x1aa7df(0x2e4)](_0x24b0d5);}catch(_0x381270){}}),ws1=[]);if(ws2){try{wsClient[_0x5ab00a(0x2e4)](ws2);}catch(_0x270583){}ws2=null;}}async function initws(){const _0x226b17=_0x35f7c6;cleanws();let _0x4346c9=[];currentCoins[_0x226b17(0x26d)](_0x560185=>{const _0x2927bc=_0x226b17;if(_0x560185['coin']!=config[_0x2927bc(0x269)])_0x4346c9[_0x2927bc(0x21c)](noslash(_0x560185[_0x2927bc(0x2e6)]));});if(!_0x4346c9[_0x226b17(0x281)](stablecoins[_0x226b17(0x23f)][_0x226b17(0x23c)]))_0x4346c9['push'](stablecoins[_0x226b17(0x23f)][_0x226b17(0x23c)]);if(!_0x4346c9[_0x226b17(0x281)](stablecoins['usd'][_0x226b17(0x23c)]))_0x4346c9[_0x226b17(0x21c)](stablecoins['usd'][_0x226b17(0x23c)]);if(!_0x4346c9[_0x226b17(0x281)](_0x226b17(0x1f3)+config['basecoin']))_0x4346c9['push'](_0x226b17(0x1f3)+config[_0x226b17(0x269)]);try{_0x4346c9[_0x226b17(0x26d)]((_0x24ba58,_0x2c4ea5)=>{ws1[_0x2c4ea5]=wsClient['subscribeSpotKline'](_0x24ba58,'1m');}),ws2=wsClient[_0x226b17(0x2e8)](),wsClient['on'](_0x226b17(0x246),_0x1ad67e=>{const _0x12f92d=_0x226b17;if(!Array[_0x12f92d(0x245)](_0x1ad67e)&&!_0x1ad67e[_0x12f92d(0x286)][_0x12f92d(0x281)](_0x12f92d(0x22b))){if(_0x1ad67e[_0x12f92d(0x2d6)]===_0x12f92d(0x231)){global[_0x12f92d(0x23e)][_0x1ad67e[_0x12f92d(0x231)][_0x12f92d(0x2e6)]]=_0x1ad67e[_0x12f92d(0x231)][_0x12f92d(0x2ea)];return;}}else{if(!Array[_0x12f92d(0x245)](_0x1ad67e)&&_0x1ad67e[_0x12f92d(0x286)][_0x12f92d(0x281)]('userData')){if(_0x1ad67e[_0x12f92d(0x294)][_0x12f92d(0x281)](_0x12f92d(0x240))){updateNumberCoins(_0x1ad67e);return;}}}}),wsClient['on'](_0x226b17(0x2e2),async _0x11d6fd=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x28dad2){await handleError(_0x28dad2,'initws()');}let _0x1c27ae,_0xd69087=0x0;loading[_0x226b17(0x2c3)]=[];let _0x1ce61a=0x0;currentCoins[_0x226b17(0x26d)](_0x59c9c1=>{const _0x7cec7d=_0x226b17;if(_0x59c9c1[_0x7cec7d(0x23c)]!=config['basecoin'])loading['remainingSymbols'][_0x7cec7d(0x21c)](_0x59c9c1[_0x7cec7d(0x2e6)]);}),loadingCanceled=![];while(_0x1c27ae!=currentCoins['length']-0x1){_0x1c27ae=0x0,currentCoins['forEach'](_0x2316ac=>{const _0x267294=_0x226b17;_0x2316ac[_0x267294(0x23c)]!=config['basecoin']&&global[_0x267294(0x23e)][noslash(_0x2316ac['symbol'])]&&(loading[_0x267294(0x2c3)]=loading[_0x267294(0x2c3)][_0x267294(0x235)](_0x650fc1=>_0x650fc1!=_0x2316ac[_0x267294(0x2e6)]),_0x1c27ae++);}),loading[_0x226b17(0x236)]=Math['round'](_0x1c27ae/(currentCoins['length']-0x1)*0x64);_0x1ce61a>0x1e*0x5&&(loading[_0x226b17(0x2c4)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x226b17(0x250)]=!![],emitLoadingProgress();break;}else _0x1c27ae!=_0xd69087&&(_0xd69087=_0x1c27ae,emitLoadingProgress()),_0x1ce61a++,await sleep(0xc8);}if(_0x1c27ae==currentCoins['length']-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x945c12=_0x35f7c6;proxyEmit(_0x945c12(0x225),loading);}async function getFiat(){const _0x233ab9=_0x35f7c6;let _0x267423=0x0,_0x229674=0x0;try{_0x267423=global['ticker'][stablecoins[_0x233ab9(0x23f)][_0x233ab9(0x23c)]],_0x229674=global[_0x233ab9(0x23e)][stablecoins['usd'][_0x233ab9(0x23c)]];}catch(_0x38045c){await handleError(_0x38045c,_0x233ab9(0x2f5));}return{'eur':Number(_0x267423),'usd':Number(_0x229674)};}async function setStartDatePerformance(_0x362709){const _0x5b1cb8=_0x35f7c6,_0x58fe5c=fns[_0x5b1cb8(0x229)](new Date(_0x362709[_0x5b1cb8(0x2d2)]),_0x5b1cb8(0x2cf));let _0x33e5b7=[];_0x33e5b7[stablecoins[_0x5b1cb8(0x23f)][_0x5b1cb8(0x23c)]]=await getCloses(stablecoins[_0x5b1cb8(0x23f)]['symbol'],new Date(_0x362709['startdate']),0x1),_0x33e5b7[stablecoins[_0x5b1cb8(0x20c)][_0x5b1cb8(0x23c)]]=await getCloses(stablecoins['usd'][_0x5b1cb8(0x2e6)],new Date(_0x362709[_0x5b1cb8(0x2d2)]),0x1);let _0x267454,_0x41135a=[];_0x362709[_0x5b1cb8(0x1f2)]['forEach'](_0xf1c51a=>{const _0x239e5a=_0x5b1cb8;!_0xf1c51a[_0x239e5a(0x205)]&&_0x41135a[_0x239e5a(0x21c)]({'coin':_0xf1c51a[_0x239e5a(0x23c)],'number':_0xf1c51a[_0x239e5a(0x274)],'price':_0xf1c51a[_0x239e5a(0x2c8)]});}),_0x267454={'date':_0x58fe5c,'eur':_0x33e5b7[stablecoins[_0x5b1cb8(0x23f)][_0x5b1cb8(0x23c)]][0x0],'usd':_0x33e5b7[stablecoins[_0x5b1cb8(0x20c)][_0x5b1cb8(0x23c)]][0x0],'coins':_0x41135a};let _0xa3395d=dbPerformance[_0x5b1cb8(0x218)](_0x5b1cb8(0x283))[_0x5b1cb8(0x247)]({'date':_0x58fe5c})[_0x5b1cb8(0x2f4)]();_0xa3395d?dbPerformance[_0x5b1cb8(0x218)](_0x5b1cb8(0x283))[_0x5b1cb8(0x247)]({'date':_0x58fe5c})[_0x5b1cb8(0x1fa)](_0x267454)[_0x5b1cb8(0x259)]():dbPerformance['get']('data')[_0x5b1cb8(0x21c)](_0x267454)[_0x5b1cb8(0x259)](),_0xa3395d=dbPerformance[_0x5b1cb8(0x218)](_0x5b1cb8(0x283))[_0x5b1cb8(0x25f)](_0x5b1cb8(0x253))[_0x5b1cb8(0x2f4)](),_0xa3395d['forEach'](_0x4f2f47=>{const _0x55faeb=_0x5b1cb8;_0x4f2f47[_0x55faeb(0x253)]<_0x58fe5c&&dbPerformance[_0x55faeb(0x218)](_0x55faeb(0x283))[_0x55faeb(0x230)]({'date':_0x4f2f47[_0x55faeb(0x253)]})[_0x55faeb(0x259)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x4509da){const _0x223f1c=_0x35f7c6;let _0x56f85e,_0x59e8ab=[];logHistory(_0x223f1c(0x2b2),_0x223f1c(0x2e1)),_0x4509da['portfolio'][_0x223f1c(0x26d)](_0x1843b7=>{const _0x20878e=_0x223f1c;if(_0x1843b7['coin']!=config['basecoin']&&!_0x1843b7[_0x20878e(0x205)])_0x59e8ab[_0x20878e(0x21c)]({'coin':_0x1843b7['coin'],'symbol':_0x1843b7[_0x20878e(0x2e6)]});});let _0x11e75e=[];try{const _0x127069=fns['format'](fns['parseISO'](_0x4509da['startdate'][_0x223f1c(0x211)](/\//g,'-')),_0x223f1c(0x20e));for(const _0x42364e of _0x59e8ab){if(_0x42364e[_0x223f1c(0x23c)]!=config['basecoin'])_0x56f85e=await exchange[_0x223f1c(0x28a)](_0x42364e[_0x223f1c(0x2e6)],Date[_0x223f1c(0x258)](_0x127069));_0x56f85e[_0x223f1c(0x26d)](_0x120764=>{const _0x44ebf1=_0x223f1c,_0xe349c2=_0x42364e[_0x44ebf1(0x2e6)][_0x44ebf1(0x281)](config[_0x44ebf1(0x269)]+'/'),_0x1bc52e=fns[_0x44ebf1(0x229)](fns[_0x44ebf1(0x2ff)](_0x120764['datetime']),_0x44ebf1(0x1fc)),_0x1050bc=fns[_0x44ebf1(0x229)](fns[_0x44ebf1(0x2ff)](_0x120764[_0x44ebf1(0x29e)]),_0x44ebf1(0x2cf));let _0x3e7dad;if(_0x120764[_0x44ebf1(0x232)]==_0x44ebf1(0x2a8)&&_0xe349c2==![])_0x3e7dad=_0x120764[_0x44ebf1(0x2e7)];if(_0x120764[_0x44ebf1(0x232)]==_0x44ebf1(0x2a8)&&_0xe349c2==!![])_0x3e7dad=-_0x120764[_0x44ebf1(0x2e7)]*_0x120764[_0x44ebf1(0x2c9)];if(_0x120764[_0x44ebf1(0x232)]==_0x44ebf1(0x2dd)&&_0xe349c2==![])_0x3e7dad=-_0x120764[_0x44ebf1(0x2e7)];if(_0x120764['side']=='sell'&&_0xe349c2==!![])_0x3e7dad=_0x120764[_0x44ebf1(0x2e7)]*_0x120764['price'];_0x11e75e[_0x44ebf1(0x21c)]({'timestamp':_0x1bc52e,'date':_0x1050bc,'coin':_0x42364e['coin'],'symbol':_0x42364e['symbol'],'type':_0x120764['type'],'side':_0x120764[_0x44ebf1(0x232)],'reverse':_0xe349c2,'amount':formatResult(_0x120764[_0x44ebf1(0x21a)],0x8),'filled':formatResult(_0x120764[_0x44ebf1(0x21a)],0x8),'coinamount':formatResult(_0x3e7dad,0x8),'price':formatResult(_0x120764[_0x44ebf1(0x2c9)],0x8)});let _0x250657;if(_0x120764['side']==_0x44ebf1(0x2a8)&&_0xe349c2==![])_0x250657=-_0x120764['amount']*_0x120764[_0x44ebf1(0x2c9)];if(_0x120764['side']==_0x44ebf1(0x2a8)&&_0xe349c2==!![])_0x250657=_0x120764['amount'];if(_0x120764[_0x44ebf1(0x232)]==_0x44ebf1(0x2dd)&&_0xe349c2==![])_0x250657=_0x120764['amount']*_0x120764['price'];if(_0x120764[_0x44ebf1(0x232)]==_0x44ebf1(0x2dd)&&_0xe349c2==!![])_0x250657=-_0x120764[_0x44ebf1(0x2e7)];_0x11e75e[_0x44ebf1(0x21c)]({'date':_0x1050bc,'coin':config[_0x44ebf1(0x269)],'coinamount':formatResult(_0x250657,0x8)});});}_0x11e75e[_0x223f1c(0x299)]((_0x19b2a0,_0x521324)=>_0x19b2a0[_0x223f1c(0x26a)]>_0x521324[_0x223f1c(0x26a)]?0x1:_0x521324[_0x223f1c(0x26a)]>_0x19b2a0['timestamp']?-0x1:0x0),dbLogs[_0x223f1c(0x218)]('logs')[_0x223f1c(0x230)]()[_0x223f1c(0x259)](),_0x11e75e[_0x223f1c(0x26d)](_0x50dece=>{const _0x2a1cf9=_0x223f1c;let _0x547586;_0x50dece['coin']!=config[_0x2a1cf9(0x269)]&&(_0x547586={'time':_0x50dece[_0x2a1cf9(0x26a)],'type':_0x2a1cf9(0x2dc),'event':_0x2a1cf9(0x2c2)+_0x50dece[_0x2a1cf9(0x2e6)]+'\x20'+_0x50dece[_0x2a1cf9(0x232)]+'\x20#'+_0x50dece[_0x2a1cf9(0x2e7)]+'\x20@'+_0x50dece[_0x2a1cf9(0x2c9)]},dbLogs[_0x2a1cf9(0x218)](_0x2a1cf9(0x287))[_0x2a1cf9(0x21c)](_0x547586)['write']());});const _0x937a96=fns[_0x223f1c(0x249)]({'start':new Date(_0x4509da[_0x223f1c(0x2d2)]),'end':new Date()})[_0x223f1c(0x202)](_0x3d50f7=>fns[_0x223f1c(0x229)](_0x3d50f7,_0x223f1c(0x2cf)));let _0x3aedb3=[];_0x4509da[_0x223f1c(0x1f2)]['forEach'](_0x41dc0e=>{const _0x22c5e5=_0x223f1c;if(!_0x41dc0e[_0x22c5e5(0x205)]){_0x3aedb3[_0x41dc0e[_0x22c5e5(0x23c)]]=[];let _0x24805b=_0x41dc0e['startnumber'];_0x937a96['forEach']((_0x472095,_0x469aa7)=>{const _0x5b85eb=_0x22c5e5;let _0x5c987d=_0x11e75e['filter'](_0x38036a=>_0x38036a['coin']==_0x41dc0e['coin']&&_0x38036a[_0x5b85eb(0x253)]==_0x472095);if(_0x5c987d[_0x5b85eb(0x26b)]!=0x0){let _0x516bfd=_0x5c987d[_0x5b85eb(0x2eb)]((_0x24c8da,_0x38077a)=>{const _0x4acbd5=_0x5b85eb;return _0x24c8da+=_0x38077a[_0x4acbd5(0x2b4)],_0x24c8da;},0x0);_0x24805b+=_0x516bfd;}_0x3aedb3[_0x41dc0e[_0x5b85eb(0x23c)]][_0x472095]=_0x24805b;});}});const _0x8e47f8=[..._0x59e8ab];_0x8e47f8[_0x223f1c(0x21c)]({'coin':stablecoins['eur'][_0x223f1c(0x23c)],'symbol':stablecoins['eur']['symbol']}),_0x8e47f8['push']({'coin':stablecoins['usd'][_0x223f1c(0x23c)],'symbol':stablecoins[_0x223f1c(0x20c)]['symbol']});let _0x4febe=[];for(const _0x166f04 of _0x8e47f8){_0x4febe[_0x166f04[_0x223f1c(0x23c)]]=await getCloses(_0x166f04[_0x223f1c(0x2e6)],new Date(_0x4509da[_0x223f1c(0x2d2)]));}dbPerformance[_0x223f1c(0x218)](_0x223f1c(0x283))[_0x223f1c(0x230)]()[_0x223f1c(0x259)](),_0x937a96[_0x223f1c(0x26d)]((_0x3f1908,_0x442862)=>{const _0x182c22=_0x223f1c;let _0x41de2d,_0xb98b8d=[];_0x442862==0x0?(_0x4509da['portfolio'][_0x182c22(0x26d)](_0xe13a9=>{const _0x31e87c=_0x182c22;!_0xe13a9['excluded']&&_0xb98b8d[_0x31e87c(0x21c)]({'coin':_0xe13a9['coin'],'number':_0xe13a9['startnumber'],'price':_0xe13a9[_0x31e87c(0x2c8)]});}),_0x41de2d={'date':_0x3f1908,'eur':_0x4febe[stablecoins[_0x182c22(0x23f)][_0x182c22(0x23c)]][_0x442862],'usd':_0x4febe[stablecoins['usd'][_0x182c22(0x23c)]][_0x442862],'coins':_0xb98b8d}):(_0x4509da[_0x182c22(0x1f2)][_0x182c22(0x26d)](_0x495139=>{const _0x39585f=_0x182c22;!_0x495139[_0x39585f(0x205)]&&_0xb98b8d[_0x39585f(0x21c)]({'coin':_0x495139['coin'],'number':_0x3aedb3[_0x495139[_0x39585f(0x23c)]][_0x3f1908],'price':_0x495139[_0x39585f(0x23c)]==config[_0x39585f(0x269)]?0x1:_0x4febe[_0x495139['coin']][_0x442862]});}),_0x41de2d={'date':_0x3f1908,'eur':_0x4febe[stablecoins['eur'][_0x182c22(0x23c)]][_0x442862],'usd':_0x4febe[stablecoins[_0x182c22(0x20c)]['coin']][_0x442862],'coins':_0xb98b8d}),dbPerformance[_0x182c22(0x218)]('data')[_0x182c22(0x21c)](_0x41de2d)['write']();}),emitPerformance(),await resetCoinResults();for(let _0x576ccd of _0x11e75e){_0x576ccd[_0x223f1c(0x23c)]!=config['basecoin']&&await updateCoinResults(_0x576ccd);}logHistory('success',_0x223f1c(0x20d));}catch(_0x2fa8ae){await handleError(_0x2fa8ae,_0x223f1c(0x26c));}}async function getCloses(_0x3ad820,_0x53ed53,_0x1005ae=undefined){const _0x3eac2f=_0x35f7c6,_0xbbe5a4='1d';let _0x3a90e,_0x3150aa;const _0x1c999e=fns['differenceInCalendarDays'](new Date(),_0x53ed53)+0x1;try{const _0x23527e=exchange[_0x3eac2f(0x267)]()-_0x1c999e*0x18*0xe10*0x3e8;_0x3a90e=await exchange[_0x3eac2f(0x2bd)](_0x3ad820,_0xbbe5a4,_0x23527e,_0x1005ae),_0x3150aa=await exchange[_0x3eac2f(0x2ab)](_0x3ad820);}catch(_0x497431){await handleError(_0x497431,'getCloses()');}let _0x2ef014=ohlcvToCloses(_0x3a90e);return _0x2ef014[_0x3eac2f(0x21c)](_0x3150aa[_0x3ad820][_0x3eac2f(0x289)]),_0x2ef014;}function ohlcvToCloses(_0x503127){const _0x4cb1cb=_0x35f7c6;let _0xb4b2cd=[];return _0x503127[_0x4cb1cb(0x26d)](function(_0x129aa2){const _0x409e90=_0x4cb1cb;_0xb4b2cd[_0x409e90(0x21c)](_0x129aa2[0x4]);}),_0xb4b2cd;}function getConfiguration(_0x2a6769){const _0x573433=_0x35f7c6;let _0x51b84e=dbConfig[_0x573433(0x218)](_0x573433(0x2be))[_0x573433(0x247)]({'botID':_0x2a6769})[_0x573433(0x2f4)]();if(_0x51b84e){let _0xbf529d=![];!_0x51b84e[_0x573433(0x265)]&&(_0x51b84e={..._0x51b84e,'exchange':'binance'},_0xbf529d=!![]),!_0x51b84e[_0x573433(0x269)]&&(_0x51b84e={..._0x51b84e,'basecoin':'BTC'},_0xbf529d=!![]),!_0x51b84e[_0x573433(0x2b5)]&&(_0x51b84e={..._0x51b84e,'ordertype':_0x573433(0x29c)},_0xbf529d=!![]),!_0x51b84e[_0x573433(0x2c4)]&&(_0x51b84e={..._0x51b84e,'timeout':0x14},_0xbf529d=!![]),!_0x51b84e['emojibuy']&&(_0x51b84e={..._0x51b84e,'emojibuy':''},_0xbf529d=!![]),!_0x51b84e[_0x573433(0x2b7)]&&(_0x51b84e={..._0x51b84e,'emojisell':''},_0xbf529d=!![]),!_0x51b84e[_0x573433(0x20f)]&&(_0x51b84e={..._0x51b84e,'showname':![]},_0xbf529d=!![]),_0xbf529d&&(_0x51b84e={'botID':_0x51b84e[_0x573433(0x2d8)],'exchange':_0x51b84e[_0x573433(0x265)],'apiKey':_0x51b84e['apiKey'],'apiSecret':_0x51b84e[_0x573433(0x209)],'basecoin':_0x51b84e[_0x573433(0x269)],'botname':_0x51b84e[_0x573433(0x2a1)],'showname':_0x51b84e[_0x573433(0x20f)],'threshold':_0x51b84e[_0x573433(0x2f2)],'ordertype':_0x51b84e[_0x573433(0x2b5)],'timeout':_0x51b84e[_0x573433(0x2c4)],'startdate':_0x51b84e['startdate'],'recreate':_0x51b84e[_0x573433(0x1f7)],'timeshift':_0x51b84e[_0x573433(0x2e9)],'headless':_0x51b84e['headless'],'cooldown':_0x51b84e['cooldown'],'emojibuy':_0x51b84e['emojibuy'],'emojisell':_0x51b84e[_0x573433(0x2b7)],'portfolio':_0x51b84e['portfolio']},dbConfig[_0x573433(0x218)](_0x573433(0x2be))[_0x573433(0x230)]()[_0x573433(0x259)](),dbConfig[_0x573433(0x218)](_0x573433(0x2be))[_0x573433(0x21c)](_0x51b84e)['write']());}else _0x51b84e={'botID':_0x2a6769,'exchange':_0x573433(0x2bf),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x573433(0x20a)+_0x2a6769,'showname':![],'threshold':'3','ordertype':_0x573433(0x29c),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x573433(0x2e9)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x51b84e;}function emittedConfiguration(){const _0x3acd9f=_0x35f7c6;let _0x4c6e7c;return config[_0x3acd9f(0x217)]==''?_0x4c6e7c=config:_0x4c6e7c={...config,'apiKey':'************','apiSecret':'************'},_0x4c6e7c;}function getSettings(){const _0x4de73b=_0x35f7c6;return dbSettings[_0x4de73b(0x218)]('settings')[_0x4de73b(0x2f4)]();}function getSecure(){const _0x3831e5=_0x35f7c6;return dbSecure[_0x3831e5(0x218)](_0x3831e5(0x27a))['value']()||{};}function updateTimeshift(_0x479385){const _0x715f90=_0x35f7c6;let _0x13262d=dbConfig[_0x715f90(0x218)](_0x715f90(0x2be))[_0x715f90(0x247)]({'botID':botID})['value']();_0x13262d&&dbConfig['get'](_0x715f90(0x2be))['find']({'botID':botID})[_0x715f90(0x1fa)]({'timeshift':_0x479385})['write'](),config['timeshift']=_0x479385,proxyEmit(_0x715f90(0x2ee),emittedConfiguration());}async function storeConfiguration(_0x308955){const _0x542ddb=_0x35f7c6;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x9620fd=dbConfig[_0x542ddb(0x218)](_0x542ddb(0x2be))[_0x542ddb(0x247)]({'botID':botID})[_0x542ddb(0x2f4)]();_0x308955={..._0x308955,'apiKey':crypt[_0x542ddb(0x22c)](secure[_0x542ddb(0x2df)],_0x308955[_0x542ddb(0x217)])['message'],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x308955['apiSecret'])['message']};if(_0x9620fd){if(_0x308955[_0x542ddb(0x217)]==_0x542ddb(0x27b))_0x308955[_0x542ddb(0x217)]=config[_0x542ddb(0x217)];if(_0x308955['apiSecret']==_0x542ddb(0x27b))_0x308955[_0x542ddb(0x209)]=config[_0x542ddb(0x209)];dbConfig[_0x542ddb(0x218)](_0x542ddb(0x2be))['find']({'botID':botID})['assign'](_0x308955)[_0x542ddb(0x259)]();}else dbConfig[_0x542ddb(0x218)](_0x542ddb(0x2be))[_0x542ddb(0x21c)](_0x308955)['write'](),process[_0x542ddb(0x24d)]({'status':_0x542ddb(0x214),'live':_0x542ddb(0x24a)},_0x4650f4=>{});config={..._0x308955};if(config[_0x542ddb(0x1f7)])await recreateHistory(config);else await setStartDatePerformance(config);process[_0x542ddb(0x24d)]({'botname':_0x308955['botname']},_0x2939cf=>{}),proxyEmit(_0x542ddb(0x303)),reset();}async function storeHeadless(_0xfd0ed8){const _0x151245=_0x35f7c6,_0x13ffb4={...config,'headless':_0xfd0ed8[_0x151245(0x301)]};let _0x4e739f=dbConfig[_0x151245(0x218)](_0x151245(0x2be))['find']({'botID':botID})['value']();_0x4e739f&&dbConfig[_0x151245(0x218)](_0x151245(0x2be))[_0x151245(0x247)]({'botID':botID})[_0x151245(0x1fa)](_0x13ffb4)['write'](),config={..._0x13ffb4},proxyEmit(_0x151245(0x2ee),emittedConfiguration());}function noslash(_0x53624c){return _0x53624c['replace']('/','');}function updateNumberCoins(_0x3ce7c8){const _0x4edeff=_0x35f7c6;_0x3ce7c8[_0x4edeff(0x2d6)]&&_0x3ce7c8[_0x4edeff(0x2d6)]==_0x4edeff(0x223)&&_0x3ce7c8['balances'][_0x4edeff(0x26d)](_0x5c3896=>{const _0xf45422=_0x4edeff;let _0x25dbee=currentCoins[_0xf45422(0x247)](_0x509c6b=>_0x509c6b[_0xf45422(0x23c)]==_0x5c3896[_0xf45422(0x2ba)]),_0x566135=config[_0xf45422(0x1f2)][_0xf45422(0x247)](_0x5e3adc=>_0x5e3adc[_0xf45422(0x23c)]==_0x5c3896[_0xf45422(0x2ba)]);if(_0x25dbee&&_0x566135)_0x25dbee[_0xf45422(0x2f3)]=Math[_0xf45422(0x2b8)](Number(_0x5c3896[_0xf45422(0x23a)])+(_0x566135[_0xf45422(0x2b3)]||0x0),0x0);});if(_0x3ce7c8['eventType']&&_0x3ce7c8[_0x4edeff(0x2d6)]==_0x4edeff(0x2d9)){if(_0x3ce7c8[_0x4edeff(0x29d)]=='LIMIT'&&_0x3ce7c8['orderStatus']==_0x4edeff(0x2c1)){if(lastOrders)lastOrders['forEach'](_0x13b50c=>{const _0x3d1bd4=_0x4edeff;if(_0x13b50c[_0x3d1bd4(0x213)]==_0x3ce7c8[_0x3d1bd4(0x213)]){if(_0x13b50c[_0x3d1bd4(0x2a4)])_0x13b50c[_0x3d1bd4(0x21a)]=_0x3ce7c8[_0x3d1bd4(0x1f5)]*_0x13b50c[_0x3d1bd4(0x2c9)];else _0x13b50c[_0x3d1bd4(0x21a)]=_0x3ce7c8['accumulatedQuantity'];}});}}}async function getCoins(_0x2859e1=!![],_0x112e66=config['basecoin']){const _0x151343=_0x35f7c6;let _0x80a259,_0x24f352=[],_0x589dff=[],_0x36a247=[];try{_0x80a259=await exchange[_0x151343(0x1f8)](),mybalances=_0x80a259[_0x151343(0x22e)];if(!_0x2859e1)for(const [_0x34aee5,_0x4006df]of Object['entries'](mybalances)){_0x36a247[_0x151343(0x21c)](_0x34aee5);}else config[_0x151343(0x1f2)]['forEach'](_0x278eff=>{const _0xb394ee=_0x151343;if(!_0x278eff[_0xb394ee(0x205)])_0x36a247[_0xb394ee(0x21c)](_0x278eff[_0xb394ee(0x23c)]);});if(_0x112e66=='')for(const [_0x3d0e27,_0x57e89f]of Object[_0x151343(0x27c)](mybalances)){_0x57e89f[_0x151343(0x1f4)]()!=0x0&&_0x589dff['push']({'coin':_0x3d0e27});}else for(const [_0x1e2fcb,_0x2d742c]of Object[_0x151343(0x27c)](mybalances)){if(_0x36a247['includes'](_0x1e2fcb)){const _0x4663b9=config[_0x151343(0x1f2)][_0x151343(0x247)](_0x22b26f=>_0x22b26f[_0x151343(0x23c)]==_0x1e2fcb);if((_0x2d742c[_0x151343(0x1f4)]()!=0x0||_0x4663b9)&&(allSymbols[_0x151343(0x281)](_0x1e2fcb+'/'+_0x112e66)||_0x1e2fcb==_0x112e66))_0x589dff[_0x151343(0x21c)]({'coin':_0x1e2fcb,'symbol':_0x1e2fcb+'/'+_0x112e66,'reverse':![],'number':Math[_0x151343(0x2b8)](_0x2d742c+(_0x4663b9&&_0x4663b9[_0x151343(0x2b3)]||0x0),0x0)}),_0x1e2fcb!=_0x112e66&&_0x24f352[_0x151343(0x21c)](_0x1e2fcb+'/'+_0x112e66);else(_0x2d742c[_0x151343(0x1f4)]()!=0x0||_0x4663b9)&&allSymbols[_0x151343(0x281)](_0x112e66+'/'+_0x1e2fcb)&&(_0x589dff['push']({'coin':_0x1e2fcb,'symbol':_0x112e66+'/'+_0x1e2fcb,'reverse':!![],'number':Math['max'](_0x2d742c+(_0x4663b9&&_0x4663b9['offset']||0x0),0x0)}),_0x1e2fcb!=_0x112e66&&_0x24f352[_0x151343(0x21c)](_0x112e66+'/'+_0x1e2fcb));}}}catch(_0x151280){if(!_0x2859e1){if(_0x151280[_0x151343(0x1f4)]()[_0x151343(0x281)](_0x151343(0x280)))return logHistory(_0x151343(0x295),_0x151343(0x242)),![];else{if(_0x151280[_0x151343(0x1f4)]()['includes'](_0x151343(0x2da)))return logHistory(_0x151343(0x295),_0x151343(0x298)),![];else{if(_0x151280[_0x151343(0x1f4)]()[_0x151343(0x281)](_0x151343(0x254)))return logHistory(_0x151343(0x295),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x151280,_0x151343(0x2ce));}}}else await handleError(_0x151280,_0x151343(0x2ce));}return _0x589dff;}async function getPortfolio(_0x4c17d4){const _0x55a614=_0x35f7c6;let _0x4b16bb=[],_0x5536f4=[],_0x10a214,_0x1fc4ec=[],_0x2fd9e6,_0x5e31cc;_0x4c17d4[_0x55a614(0x217)]===_0x55a614(0x27b)||_0x4c17d4[_0x55a614(0x209)]==='************'?(_0x2fd9e6=config[_0x55a614(0x217)],_0x5e31cc=config[_0x55a614(0x209)]):(_0x2fd9e6=_0x4c17d4[_0x55a614(0x217)],_0x5e31cc=_0x4c17d4[_0x55a614(0x209)]);await initExchange(_0x2fd9e6,_0x5e31cc);let _0x5c919d=await loadSymbols();if(_0x5c919d){_0x1fc4ec=await getCoins(![],_0x4c17d4[_0x55a614(0x269)]);if(_0x1fc4ec===![])proxyEmit(_0x55a614(0x1f2),![]);else{if(_0x4c17d4[_0x55a614(0x269)]=='')proxyEmit(_0x55a614(0x1f2),_0x1fc4ec);else{_0x1fc4ec[_0x55a614(0x26d)](_0x293749=>{_0x4b16bb['push'](_0x293749['symbol']);});try{_0x5536f4=await exchange['fetchTickers'](_0x4b16bb);}catch(_0x219217){await handleError(_0x219217,_0x55a614(0x2ad));}_0x1fc4ec[_0x55a614(0x26d)](_0x55606b=>{const _0x4c1e0a=_0x55a614;_0x55606b[_0x4c1e0a(0x23c)]!=_0x4c17d4[_0x4c1e0a(0x269)]?_0x10a214=_0x55606b[_0x4c1e0a(0x2a4)]?0x1/_0x5536f4[_0x55606b[_0x4c1e0a(0x2e6)]]['last']:_0x5536f4[_0x55606b[_0x4c1e0a(0x2e6)]]['last']:_0x10a214=0x1,_0x55606b['price']=formatResult(_0x10a214,0x8);}),proxyEmit(_0x55a614(0x1f2),_0x1fc4ec);}}}else proxyEmit(_0x55a614(0x1f2),![]);}function checkMinimums(_0xcd789c){const _0x33849a=_0x35f7c6;let _0x4a540c=!![];const _0x1bd6d2=!_0xcd789c[_0x33849a(0x2a4)]?markets[_0xcd789c[_0x33849a(0x2e6)]][_0x33849a(0x28c)]['amount'][_0x33849a(0x28e)]:markets[_0xcd789c['symbol']][_0x33849a(0x28c)]['cost'][_0x33849a(0x28e)],_0x17785b=!_0xcd789c['reverse']?markets[_0xcd789c[_0x33849a(0x2e6)]][_0x33849a(0x28c)]['cost'][_0x33849a(0x28e)]:markets[_0xcd789c[_0x33849a(0x2e6)]][_0x33849a(0x28c)][_0x33849a(0x2e7)][_0x33849a(0x28e)];if(Math['abs'](_0xcd789c[_0x33849a(0x27d)])<_0x1bd6d2)_0x4a540c=![];if(Math['abs'](_0xcd789c[_0x33849a(0x27d)])*_0xcd789c['last']<_0x17785b)_0x4a540c=![];let _0x4ee7a1=config['portfolio'][_0x33849a(0x247)](_0x355de0=>_0x355de0[_0x33849a(0x23c)]==_0xcd789c[_0x33849a(0x23c)]);if(Math[_0x33849a(0x284)](_0xcd789c[_0x33849a(0x27d)])>_0xcd789c[_0x33849a(0x2f3)]-_0x4ee7a1[_0x33849a(0x2b3)])_0x4a540c=![];return _0x4a540c;}async function getBalances(){const _0x1656b7=_0x35f7c6;let _0x52696b=0x0,_0x3b1123;const _0x11d10d=config[_0x1656b7(0x2f2)];currentCoins[_0x1656b7(0x26d)](_0x3f0a70=>{const _0x3e6510=_0x1656b7;if(_0x3f0a70['coin']!=config['basecoin']){let _0x30b7ed=global[_0x3e6510(0x23e)][noslash(_0x3f0a70[_0x3e6510(0x2e6)])];_0x3b1123=_0x3f0a70[_0x3e6510(0x2a4)]?0x1/_0x30b7ed:_0x30b7ed;}else _0x3b1123=0x1;let _0x4e09f8=_0x3f0a70[_0x3e6510(0x2f3)]*_0x3b1123;_0x52696b+=_0x4e09f8,_0x3f0a70[_0x3e6510(0x289)]=formatResult(Number(_0x3b1123),0x8),_0x3f0a70[_0x3e6510(0x2f4)]=_0x4e09f8;}),currentCoins[_0x1656b7(0x26d)](_0x22cee3=>{const _0x1554db=_0x1656b7;let _0x4eeb5a=config[_0x1554db(0x1f2)]['find'](_0x37a467=>_0x37a467[_0x1554db(0x23c)]==_0x22cee3[_0x1554db(0x23c)]),_0x5a5f8c=Number(_0x4eeb5a[_0x1554db(0x1ff)]),_0x40eb8d=_0x22cee3[_0x1554db(0x2f4)]/_0x52696b*0x64,_0x1846f5=_0x5a5f8c*_0x52696b/0x64/_0x22cee3[_0x1554db(0x289)]-_0x22cee3[_0x1554db(0x2f3)];_0x22cee3[_0x1554db(0x1ff)]=formatResult(_0x40eb8d,0x3),_0x22cee3['target']=formatResult(_0x5a5f8c,0x3),_0x22cee3[_0x1554db(0x27d)]=formatResult(_0x1846f5,0x8),_0x22cee3[_0x1554db(0x232)]='',_0x22cee3[_0x1554db(0x285)]='';if(_0x22cee3[_0x1554db(0x23c)]!=config[_0x1554db(0x269)]){if(_0x22cee3[_0x1554db(0x1ff)]>_0x5a5f8c)_0x22cee3[_0x1554db(0x232)]=_0x1554db(0x2dd),_0x22cee3['valid']=checkMinimums(_0x22cee3);else _0x22cee3[_0x1554db(0x1ff)]<_0x5a5f8c&&(_0x22cee3[_0x1554db(0x232)]=_0x1554db(0x2a8),_0x22cee3[_0x1554db(0x285)]=checkMinimums(_0x22cee3));}_0x22cee3[_0x1554db(0x28d)]=_0x22cee3['distribution']/_0x22cee3[_0x1554db(0x2d5)]-0x1;}),currentCoins[_0x1656b7(0x299)]((_0xa8d807,_0x430f1e)=>_0xa8d807[_0x1656b7(0x28d)]<_0x430f1e['delta']?0x1:_0x430f1e[_0x1656b7(0x28d)]<_0xa8d807[_0x1656b7(0x28d)]?-0x1:0x0);const _0x261bf3=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x261bf3[_0x1656b7(0x23f)],'usd':_0x261bf3[_0x1656b7(0x20c)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x11d10d},proxyEmit(_0x1656b7(0x241),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x1656b7(0x301)])headlessMode({'portfolio':currentCoins,'threshold':_0x11d10d});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xe96756=_0x35f7c6;if(!lastBalances)return;let _0x244afd=await getStartingBalances(![]),_0x20851f=[],_0x4e5da6;JSON[_0xe96756(0x258)](lastBalances[_0xe96756(0x1f2)])[_0xe96756(0x26d)](_0x3e66a3=>{const _0x4da514=_0xe96756;let _0x4304e5={'coin':_0x3e66a3[_0x4da514(0x23c)],'number':_0x3e66a3['number'],'price':_0x3e66a3[_0x4da514(0x289)]};_0x20851f[_0x4da514(0x21c)](_0x4304e5);});const _0x40943f=await getFiat();_0x4e5da6={'date':lastBalances[_0xe96756(0x2ec)][_0xe96756(0x237)]('\x20')[0x0],'eur':_0x40943f[_0xe96756(0x23f)],'usd':_0x40943f['usd'],'coins':_0x20851f};let _0x8fd8df=dbPerformance[_0xe96756(0x218)]('data')['find']({'date':_0x4e5da6[_0xe96756(0x253)]})[_0xe96756(0x2f4)]();_0x8fd8df?dbPerformance['get'](_0xe96756(0x283))[_0xe96756(0x247)]({'date':_0x4e5da6[_0xe96756(0x253)]})['assign'](_0x4e5da6)[_0xe96756(0x259)]():dbPerformance[_0xe96756(0x218)](_0xe96756(0x283))[_0xe96756(0x21c)](_0x4e5da6)[_0xe96756(0x259)](),lastPerformanceStored=getHour();}function _0x36d7(){const _0xc0921=['limit','startnumber','-events.json','cancelOrder','fee','limit-high','Order\x20amount\x20is\x20invalid:\x20','secure','************','entries','trade','EUR','limit-low','API-key\x20format\x20invalid','includes','date-fns','data','abs','valid','wsKey','logs','1189211NYVqfE','last','fetchOrders','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','limits','delta','min',',\x20must\x20be\x20a\x203\x20digit\x20number','indexOf','loadMarkets','constructor','240qjicqq','wsMarket','error','kill','getHours','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','sort','\x20orders\x20in\x20less\x20than\x20','DAI/','market','orderType','datetime','6UETyhP','argv','botname','symbols','getFullYear','reverse',')\x20|\x20Error\x20details:\x20','getTime','Order(s)\x20validated\x20-\x20balancing\x20resumed','buy','emojibuy','getPortfolio','fetchTickers','test','getPortfolio()','-results.json','breakeven','cancelOrder()','hybrid-crypto-js','success','offset','coinamount','ordertype','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','emojisell','max','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','asset','Order\x20filled:\x20','getStartingBalances','fetchOHLCV','bot','binance','cooldown','FILLED','Order:\x20','remainingSymbols','timeout','restart','has','differenceInSeconds','startprice','price','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','./config/','buys','BTC/USDT','getCoins()','yyyy/MM/dd','OrderNotFound','binanceus','startdate','event-history','event','target','eventType','getDate','botID','executionReport','AuthenticationError','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','order','sell','placeOrder','privateKey','starting-balances','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','reconnected','1939352ZOBwfd','closeWs','stringify','symbol','amount','subscribeSpotUserDataStream','timeshift','close','reduce','time','InvalidNonce','configuration','USDT','getMinutes','\x20hour','threshold','number','value','getFiat()','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','6327860nTOVZg','MIN_NOTIONAL','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','slice','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','BTCEUR','Pausing\x20bot\x20for\x205\x20minutes\x20(','-config.json','parseISO','BTCBUSD','headless','message','configuration-stored','search','existsSync','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','portfolio','BNB','toString','accumulatedQuantity','Executed\x20','recreate','fetchBalance','bb-secure.json','assign','initclient','yyyy/MM/dd\x20HH:mm:ss','5650128dFDhUb','toLowerCase','distribution','\x20>\x20','Limit\x20(low-margin)','map','wss://stream.binance.com:9443','Unfilled\x20order(s)\x20canceled\x20after\x20','excluded','currency','lowdb','bb-settings.json','apiSecret','Bot\x20','storeConfiguration','usd','Performance\x20recreation\x20completed\x20successfully','yyyy-MM-dd\x27T\x27HH:mm:ss','showname','getMonth','replace','ExchangeNotAvailable','orderId','enabled','USDC','BTC/BUSD','apiKey','get','1433075TdIoSq','filled','padStart','push','page','cancelLoading','Market','bid','HOT/EUR','fees','outboundAccountPosition','toFixed','coin-loading-progress',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','Limit\x20(high-margin)','type','format','BTC/EUR','userData','decrypt','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','total','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','remove','kline','side','args','round','filter','progress','split','placeOrder()','HOT/BTC','availableBalance','./version.json','coin',':\x20Bot\x20','ticker','eur','spot','balances','Binance\x20API\x20key\x20is\x20invalid','WebSockets(','bot-','isArray','formattedMessage','find','getSeconds','eachDayOfInterval','running','splice','1626248ZlorBn','send','Crypt','createOrder','cancel','log','realized','date','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20minutes\x20-\x20balancing\x20resumed','wss://stream.binance.us:9443','775359azPpTj','parse','write','defaults','fromCodePoint','loadSymbols()','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','emitHistory','sortBy','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','(((.+)+)+)+$','cost','DDoSProtection','function','exchange','coins','milliseconds','add','basecoin','timestamp','length','recreateHistory()','forEach','BUSD','version','storeHeadless','BTCUSDT','\x20|\x20Binance\x20exchange\x20is\x20not\x20available'];_0x36d7=function(){return _0xc0921;};return _0x36d7();}function emitPerformance(){const _0x2923b8=_0x35f7c6;if(dbPerformance[_0x2923b8(0x2c6)](_0x2923b8(0x283))['value']()){let _0x13c907=dbPerformance[_0x2923b8(0x218)](_0x2923b8(0x283))[_0x2923b8(0x25f)](_0x2923b8(0x253))[_0x2923b8(0x2f4)]();proxyEmit('performance',_0x13c907),lastPerformanceEmitted=getDate();}else proxyEmit('performance',[]);}async function getStartingBalances(_0x12d78f=!![]){const _0x7e8420=_0x35f7c6;let _0x30c4d9=dbPerformance[_0x7e8420(0x218)](_0x7e8420(0x283))[_0x7e8420(0x247)]({'date':config[_0x7e8420(0x2d2)]})['value']();config['apiKey']!=''&&!_0x30c4d9&&(await setStartDatePerformance(config),_0x30c4d9=dbPerformance['get']('data')[_0x7e8420(0x247)]({'date':config[_0x7e8420(0x2d2)]})[_0x7e8420(0x2f4)]());if(config[_0x7e8420(0x217)]==''||!_0x30c4d9)return{};let _0x459eef=0x0,_0x31fb9c=0x0,_0x298e5b=0x0,_0x2eab56=[],_0x120242=0x0;config['portfolio'][_0x7e8420(0x26d)](_0x82898c=>{const _0x4b5e8d=_0x7e8420;if(!_0x82898c[_0x4b5e8d(0x205)]){_0x2eab56[_0x120242]={'coin':_0x82898c[_0x4b5e8d(0x23c)],'symbol':_0x82898c[_0x4b5e8d(0x2e6)],'number':_0x82898c['startnumber'],'price':_0x82898c['startprice']},_0x459eef+=_0x82898c[_0x4b5e8d(0x2c8)]*_0x82898c['startnumber'];if(config[_0x4b5e8d(0x269)]=='BTC')_0x31fb9c+=_0x82898c[_0x4b5e8d(0x2c8)]*_0x82898c['startnumber']*_0x30c4d9['eur'],_0x298e5b+=_0x82898c['startprice']*_0x82898c[_0x4b5e8d(0x274)]*_0x30c4d9[_0x4b5e8d(0x20c)];else{if(config[_0x4b5e8d(0x269)]==_0x4b5e8d(0x26e)||config[_0x4b5e8d(0x269)]==_0x4b5e8d(0x2ef)||config[_0x4b5e8d(0x269)]==_0x4b5e8d(0x215))_0x31fb9c+=_0x82898c[_0x4b5e8d(0x2c8)]*_0x82898c[_0x4b5e8d(0x274)]*_0x30c4d9[_0x4b5e8d(0x23f)]/_0x30c4d9[_0x4b5e8d(0x20c)],_0x298e5b+=_0x82898c['startprice']*_0x82898c[_0x4b5e8d(0x274)];else config[_0x4b5e8d(0x269)]==_0x4b5e8d(0x27e)&&(_0x31fb9c+=_0x82898c[_0x4b5e8d(0x2c8)]*_0x82898c[_0x4b5e8d(0x274)],_0x298e5b+=_0x82898c[_0x4b5e8d(0x2c8)]*_0x82898c[_0x4b5e8d(0x274)]*_0x30c4d9[_0x4b5e8d(0x20c)]/_0x30c4d9[_0x4b5e8d(0x23f)]);}_0x120242++;}});let _0x21eb4a={'basecoin':_0x459eef,'eur':_0x31fb9c,'usd':_0x298e5b,'coins':_0x2eab56};if(_0x12d78f)proxyEmit(_0x7e8420(0x2e0),_0x21eb4a);return _0x21eb4a;}function headlessMode(_0x4bde05){const _0x48a1d9=_0x35f7c6;let _0x49c8a8=_0x4bde05[_0x48a1d9(0x1f2)],_0x3617ee=_0x4bde05[_0x48a1d9(0x2f2)],_0x512a88=[];for(let _0x2e7417 of _0x49c8a8){if(_0x2e7417[_0x48a1d9(0x23c)]!=config[_0x48a1d9(0x269)]){if(_0x2e7417[_0x48a1d9(0x1ff)]/_0x2e7417['target']-0x1>=_0x3617ee/0x64){if(_0x2e7417[_0x48a1d9(0x285)])_0x512a88[_0x48a1d9(0x21c)](_0x2e7417);}else{if(_0x2e7417[_0x48a1d9(0x1ff)]/_0x2e7417[_0x48a1d9(0x2d5)]-0x1<=-_0x3617ee/0x64){if(_0x2e7417[_0x48a1d9(0x285)])_0x512a88['push'](_0x2e7417);}}}}_0x512a88['length']>0x0&&placeOrder(_0x512a88);}function symbolToCoin(_0x30cc4a){const _0x5ce967=_0x35f7c6;let _0x32257f;if(_0x30cc4a[_0x5ce967(0x281)]('/'+config['basecoin']))_0x32257f=_0x30cc4a[_0x5ce967(0x211)]('/'+config[_0x5ce967(0x269)],'');if(_0x30cc4a['includes'](config[_0x5ce967(0x269)]+'/'))_0x32257f=_0x30cc4a['replace'](config[_0x5ce967(0x269)]+'/','');return _0x32257f;}async function validateOrders(_0x4161f1=0x0){const _0x463680=_0x35f7c6;let _0x448fa1=[],_0x246152=config[_0x463680(0x2b5)]==_0x463680(0x29c)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x463680(0x2c4)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x463680(0x26d)](_0x477c22=>{const _0x12ba52=_0x463680;let _0xb2fffd=previousCoins[_0x12ba52(0x247)](_0x5d2921=>_0x5d2921[_0x12ba52(0x23c)]==symbolToCoin(_0x477c22[_0x12ba52(0x2e6)])),_0x145b3b=currentCoins['find'](_0xa175ec=>_0xa175ec[_0x12ba52(0x23c)]==symbolToCoin(_0x477c22['symbol'])),_0x3896d8,_0x117af8;_0x477c22['side']==_0x12ba52(0x2a8)&&!_0x477c22[_0x12ba52(0x2a4)]||_0x477c22[_0x12ba52(0x232)]==_0x12ba52(0x2dd)&&_0x477c22[_0x12ba52(0x2a4)]?(_0x3896d8=_0xb2fffd[_0x12ba52(0x2f3)]+0.9*_0x477c22[_0x12ba52(0x21a)],_0x117af8=_0xb2fffd[_0x12ba52(0x2f3)]+1.1*_0x477c22[_0x12ba52(0x21a)]):(_0x3896d8=_0xb2fffd[_0x12ba52(0x2f3)]-1.1*_0x477c22[_0x12ba52(0x21a)],_0x117af8=_0xb2fffd[_0x12ba52(0x2f3)]-0.9*_0x477c22[_0x12ba52(0x21a)]);const _0x2ed382=_0x477c22['filled']!=0x0&&_0x145b3b['number']>=_0x3896d8&&_0x145b3b[_0x12ba52(0x2f3)]<=_0x117af8;_0x448fa1[_0x12ba52(0x21c)](_0x2ed382);if(_0x2ed382&&config[_0x12ba52(0x2b5)]!=_0x12ba52(0x29c)){if(_0x477c22[_0x12ba52(0x2a4)])logHistory(_0x12ba52(0x2dc),_0x12ba52(0x2bb)+_0x477c22[_0x12ba52(0x2e6)]+'\x20'+_0x477c22[_0x12ba52(0x232)]+'\x20#'+formatResult(_0x477c22['filled']/_0x477c22[_0x12ba52(0x2c9)],0x8)+'\x20@'+formatResult(_0x477c22[_0x12ba52(0x2c9)],0x8));else logHistory(_0x12ba52(0x2dc),_0x12ba52(0x2bb)+_0x477c22[_0x12ba52(0x2e6)]+'\x20'+_0x477c22[_0x12ba52(0x232)]+'\x20#'+formatResult(_0x477c22['filled'],0x8)+'\x20@'+formatResult(_0x477c22[_0x12ba52(0x2c9)],0x8));}}),_0x448fa1[_0x463680(0x26d)]((_0x7edb77,_0x4a442f)=>{const _0x53e2a3=_0x463680;if(_0x7edb77)lastOrders[_0x53e2a3(0x24b)](_0x4a442f,0x1);});if(_0x4161f1<_0x246152&&_0x448fa1[_0x463680(0x281)](![])){if(_0x4161f1==0x0){config[_0x463680(0x2b5)]==_0x463680(0x29c)?logHistory(_0x463680(0x295),_0x463680(0x25d)):logHistory(_0x463680(0x295),_0x463680(0x2f9));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4161f1);},0xa*0x3e8);}else{(_0x4161f1==0x1||_0x4161f1==Math['round'](_0x246152/0x2)||_0x4161f1==_0x246152-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4161f1);},validateOrderInterval);}}else{lockOrders=![];if(_0x4161f1>0x0&&!_0x448fa1[_0x463680(0x281)](![]))config['ordertype']==_0x463680(0x29c)?logHistory(_0x463680(0x2b2),_0x463680(0x2a7)):logHistory('success','Order(s)\x20filled\x20-\x20balancing\x20resumed');else _0x4161f1>0x0&&_0x448fa1[_0x463680(0x281)](![])&&(config[_0x463680(0x2b5)]==_0x463680(0x29c)?logHistory(_0x463680(0x2b2),'Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x246152*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders['forEach'](async _0x9857eb=>{const _0x184c5d=_0x463680;try{const _0x538d58=await exchange[_0x184c5d(0x276)](_0x9857eb[_0x184c5d(0x213)],_0x9857eb['symbol']);}catch(_0x5d4534){if(_0x5d4534[_0x184c5d(0x1f4)]()[_0x184c5d(0x281)](_0x184c5d(0x2d0))){}else await handleError(_0x5d4534,_0x184c5d(0x2b0));}}),logHistory(_0x463680(0x2b2),_0x463680(0x204)+Math[_0x463680(0x234)](_0x246152*validateOrderInterval/0xea60)+_0x463680(0x255))));}}async function resetCoinResults(){const _0x483ded=_0x35f7c6;dbCoinResults[_0x483ded(0x218)]('coins')[_0x483ded(0x230)]()[_0x483ded(0x259)]();let _0x1427d3=await getStartingBalances(![]);_0x1427d3[_0x483ded(0x266)]['forEach'](_0x2c0a33=>{const _0x37a47c=_0x483ded,_0x3fc807=_0x2c0a33[_0x37a47c(0x2e6)]['includes'](config['basecoin']+'/');if(_0x2c0a33['coin']!=config['basecoin']){let _0x15fa76={'coin':_0x2c0a33[_0x37a47c(0x23c)],'number':_0x2c0a33[_0x37a47c(0x2f3)],'breakeven':_0x2c0a33[_0x37a47c(0x2c9)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x37a47c(0x218)](_0x37a47c(0x266))[_0x37a47c(0x21c)](_0x15fa76)[_0x37a47c(0x259)]();}});}async function updateCoinResults(_0x33898c){const _0xbbbc22=_0x35f7c6;let _0x5a9af6,_0x40ad43,_0x27e92b,_0x5045a8,_0x21f97e,_0x9903ba,_0x1e94ab=dbCoinResults['get'](_0xbbbc22(0x266))[_0xbbbc22(0x247)]({'coin':_0x33898c[_0xbbbc22(0x23c)]})[_0xbbbc22(0x2f4)]();if(!_0x1e94ab)return;if(_0x33898c[_0xbbbc22(0x277)]&&_0x33898c[_0xbbbc22(0x277)][_0xbbbc22(0x206)]==config['basecoin'])_0x5a9af6=_0x33898c[_0xbbbc22(0x277)][_0xbbbc22(0x262)];else{if(_0x33898c[_0xbbbc22(0x277)]&&_0x33898c[_0xbbbc22(0x277)]['currency']==_0xbbbc22(0x1f3))_0x5a9af6=_0x33898c['fee'][_0xbbbc22(0x262)]*global['ticker'][_0xbbbc22(0x1f3)+config[_0xbbbc22(0x269)]];else _0x5a9af6=0.001*_0x33898c[_0xbbbc22(0x21a)];}const _0x4dab60=_0x33898c[_0xbbbc22(0x2e6)][_0xbbbc22(0x281)](config['basecoin']+'/');_0x4dab60&&(_0x9903ba={'coin':_0x33898c[_0xbbbc22(0x23c)],'symbol':_0x33898c['symbol'],'filled':_0x33898c[_0xbbbc22(0x21a)]*_0x33898c[_0xbbbc22(0x2c9)],'side':_0x33898c[_0xbbbc22(0x232)]==_0xbbbc22(0x2dd)?_0xbbbc22(0x2a8):_0xbbbc22(0x2dd),'price':0x1/_0x33898c['price']},_0x33898c={..._0x9903ba});_0x33898c[_0xbbbc22(0x232)]==_0xbbbc22(0x2a8)?_0x27e92b=(_0x1e94ab[_0xbbbc22(0x2af)]*_0x1e94ab[_0xbbbc22(0x2f3)]+_0x33898c[_0xbbbc22(0x2c9)]*_0x33898c[_0xbbbc22(0x21a)])/(_0x1e94ab[_0xbbbc22(0x2f3)]+_0x33898c[_0xbbbc22(0x21a)]):_0x27e92b=(_0x1e94ab['breakeven']*_0x1e94ab['number']-_0x33898c['price']*_0x33898c['filled'])/(_0x1e94ab[_0xbbbc22(0x2f3)]-_0x33898c['filled']);_0x33898c['side']==_0xbbbc22(0x2a8)?_0x5045a8=_0x1e94ab['realized']:_0x5045a8=_0x1e94ab[_0xbbbc22(0x252)]+(_0x33898c['price']-_0x1e94ab[_0xbbbc22(0x2af)])*_0x33898c[_0xbbbc22(0x21a)];_0x40ad43=_0x33898c[_0xbbbc22(0x232)]=='sell'?_0x1e94ab['number']-_0x33898c[_0xbbbc22(0x21a)]:_0x1e94ab['number']+_0x33898c[_0xbbbc22(0x21a)],_0x21f97e=(_0x33898c[_0xbbbc22(0x2c9)]-_0x27e92b)*_0x40ad43;let _0x3f2fc1={'coin':_0x33898c['coin'],'number':_0x40ad43,'breakeven':formatResult(_0x27e92b,0x8),'realized':formatResult(_0x5045a8,0x8),'unrealized':formatResult(_0x21f97e,0x8),'fees':formatResult(_0x1e94ab[_0xbbbc22(0x222)]+_0x5a9af6,0x8),'sells':_0x33898c[_0xbbbc22(0x232)]=='sell'?_0x1e94ab['sells']+0x1:_0x1e94ab['sells'],'buys':_0x33898c[_0xbbbc22(0x232)]==_0xbbbc22(0x2a8)?_0x1e94ab[_0xbbbc22(0x2cc)]+0x1:_0x1e94ab[_0xbbbc22(0x2cc)]};dbCoinResults[_0xbbbc22(0x218)](_0xbbbc22(0x266))['find']({'coin':_0x33898c[_0xbbbc22(0x23c)]})[_0xbbbc22(0x1fa)](_0x3f2fc1)[_0xbbbc22(0x259)]();}async function placeOrder(_0x2ecb0b){const _0x217e2a=_0x35f7c6,_0x5c3588=config['ordertype']==_0x217e2a(0x29c)?'market':'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x217e2a(0x258)](JSON[_0x217e2a(0x2e5)](currentCoins));for(const _0x50fb43 of _0x2ecb0b){let _0x52d90d,_0x2dd54f,_0x2455b5,_0x20e898,_0x196d6a,_0x2e9fce=_0x50fb43['symbol'];try{const _0x34a1e9=await exchange[_0x217e2a(0x2ab)](_0x2e9fce),_0x3319b5=_0x34a1e9[_0x2e9fce];_0x52d90d=_0x3319b5[_0x217e2a(0x289)],_0x2dd54f=_0x3319b5[_0x217e2a(0x220)],_0x2455b5=_0x3319b5['ask'];_0x50fb43[_0x217e2a(0x2a4)]?(_0x20e898=_0x50fb43[_0x217e2a(0x232)]==_0x217e2a(0x2a8)?_0x217e2a(0x2dd):_0x217e2a(0x2a8),_0x196d6a=Math[_0x217e2a(0x284)](_0x50fb43[_0x217e2a(0x27d)])/_0x52d90d):(_0x20e898=_0x50fb43['side'],_0x196d6a=Math[_0x217e2a(0x284)](_0x50fb43[_0x217e2a(0x27d)]));_0x5c3588==_0x217e2a(0x273)&&(config[_0x217e2a(0x2b5)]==_0x217e2a(0x278)&&(_0x52d90d=_0x20e898=='buy'?_0x2dd54f:_0x2455b5),config[_0x217e2a(0x2b5)]==_0x217e2a(0x27f)&&(_0x52d90d=_0x20e898==_0x217e2a(0x2a8)?_0x2455b5:_0x2dd54f));_0x196d6a=formatResult(_0x196d6a,0x8),_0x52d90d=formatResult(_0x52d90d,0x8);const _0x3d8eae=await exchange[_0x217e2a(0x24f)](_0x2e9fce,_0x5c3588,_0x20e898,_0x196d6a,_0x52d90d);lastOrders[_0x217e2a(0x21c)]({'orderId':_0x3d8eae['id'],'symbol':_0x2e9fce,'side':_0x20e898,'reverse':_0x50fb43[_0x217e2a(0x2a4)],'amount':_0x50fb43['reverse']?_0x3d8eae[_0x217e2a(0x2e7)]*_0x3d8eae[_0x217e2a(0x2c9)]:_0x3d8eae[_0x217e2a(0x2e7)],'filled':_0x50fb43['reverse']?_0x3d8eae[_0x217e2a(0x21a)]*_0x3d8eae[_0x217e2a(0x2c9)]:_0x3d8eae[_0x217e2a(0x21a)],'price':_0x3d8eae[_0x217e2a(0x2c9)]});const _0x537ad2=_0x20e898==_0x217e2a(0x2dd)?config[_0x217e2a(0x2b7)]?String[_0x217e2a(0x25b)]('0x'+config['emojisell'])+'\x20':'':config[_0x217e2a(0x2a9)]?String[_0x217e2a(0x25b)]('0x'+config[_0x217e2a(0x2a9)])+'\x20':'',_0x153109=_0x5c3588==_0x217e2a(0x29c)?_0x217e2a(0x21f):config['ordertype']=='limit-high'?_0x217e2a(0x227):_0x217e2a(0x201);if(_0x5c3588==_0x217e2a(0x29c))logHistory('order',''+_0x537ad2+_0x153109+'\x20order:\x20'+_0x2e9fce+'\x20'+_0x20e898+'\x20#'+formatResult(_0x3d8eae['filled'],0x8)+'\x20@'+formatResult(_0x3d8eae['price'],0x8));else logHistory('order',''+_0x537ad2+_0x153109+'\x20order:\x20'+_0x2e9fce+'\x20'+_0x20e898+'\x20#'+formatResult(_0x3d8eae['amount'],0x8)+'\x20@'+formatResult(_0x3d8eae[_0x217e2a(0x2c9)],0x8));_0x3d8eae['coin']=_0x50fb43['coin'],await updateCoinResults(_0x3d8eae);if(config['cooldown']!=0x0){let _0x4c2910=null;if(cooldownTracker['length']==config[_0x217e2a(0x2c0)]-0x1)_0x4c2910=cooldownTracker['shift']();const _0x3808aa=getTimeStamp();cooldownTracker[_0x217e2a(0x21c)](_0x3808aa);if(_0x4c2910){const _0x381512=fns[_0x217e2a(0x2c7)](new Date(_0x3808aa),new Date(_0x4c2910));_0x381512<cooldownInterval&&(logHistory('error',_0x217e2a(0x1f6)+config[_0x217e2a(0x2c0)]+_0x217e2a(0x29a)+cooldownInterval/0x3c+_0x217e2a(0x2f6)+cooldownPeriod/(0xe10*0x3e8)+_0x217e2a(0x2f1)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x381987){if(_0x381987[_0x217e2a(0x1f4)]()[_0x217e2a(0x281)](_0x217e2a(0x2f8)))logHistory(_0x217e2a(0x295),_0x217e2a(0x306)+_0x2e9fce);else{if(_0x381987[_0x217e2a(0x1f4)]()[_0x217e2a(0x281)]('Invalid\x20quantity'))logHistory('error',_0x217e2a(0x279)+_0x2e9fce);else await handleError(_0x381987,_0x217e2a(0x238));}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config[_0x217e2a(0x2b5)]==_0x217e2a(0x29c)?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x217e2a(0x295),_0x217e2a(0x22d)));else coolingDown&&(!config['headless']&&logHistory(_0x217e2a(0x295),_0x217e2a(0x2ca)));}}function logHistory(_0x18f97b,_0x333b42,_0x317664=''){const _0x33c851=_0x35f7c6;let _0x3060bb={'time':getTimeStamp(),'type':_0x18f97b,'event':_0x333b42,'botname':config[_0x33c851(0x2a1)],'showname':config[_0x33c851(0x20f)]};dbLogs[_0x33c851(0x218)](_0x33c851(0x287))[_0x33c851(0x21c)](_0x3060bb)[_0x33c851(0x259)]();if(_0x317664=='')_0x317664=_0x333b42;proxyEmit(_0x33c851(0x2d4),{'log':_0x3060bb,'summary':_0x317664}),process['send']({'telegram':_0x3060bb},_0x169005=>{}),logging(''+_0x3060bb['event']);}function emitHistory(_0x1743d8={}){const _0x3b466a=_0x35f7c6;Object['keys'](_0x1743d8)[_0x3b466a(0x26b)]==0x0&&(_0x1743d8={'type':['order',_0x3b466a(0x2d4)],'event':'','page':0x1});if(_0x1743d8[_0x3b466a(0x228)]['includes']('event'))_0x1743d8[_0x3b466a(0x228)]['splice'](_0x1743d8[_0x3b466a(0x228)][_0x3b466a(0x290)]('event'),0x1,'error','success');if(dbLogs[_0x3b466a(0x2c6)](_0x3b466a(0x287))[_0x3b466a(0x2f4)]()){let _0x569215=dbLogs['get'](_0x3b466a(0x287))['filter'](_0x473b07=>{const _0x294f6b=_0x3b466a;if(_0x1743d8['type'][_0x294f6b(0x26b)]==0x0)return![];else return _0x1743d8[_0x294f6b(0x228)][_0x294f6b(0x281)](_0x473b07['type']);})[_0x3b466a(0x235)](_0x13ae8e=>{const _0x6cb02f=_0x3b466a;if(_0x1743d8[_0x6cb02f(0x2d4)]=='')return!![];else return _0x13ae8e['event'][_0x6cb02f(0x1fe)]()['includes'](_0x1743d8[_0x6cb02f(0x2d4)][_0x6cb02f(0x1fe)]());})['sortBy']('time'),_0x2fab31=_0x569215['value']()[_0x3b466a(0x26b)];_0x569215=_0x569215[_0x3b466a(0x2a4)]()[_0x3b466a(0x2fa)]((_0x1743d8[_0x3b466a(0x21d)]-0x1)*logPageSize,_0x1743d8[_0x3b466a(0x21d)]*logPageSize-0x1)[_0x3b466a(0x2a4)]()[_0x3b466a(0x2f4)](),proxyEmit(_0x3b466a(0x2d3),{'logs':_0x569215,'total':_0x2fab31});}else proxyEmit(_0x3b466a(0x2d3),{'logs':[],'total':0x0});}async function pauseBot(_0x3bd5fc){const _0x42756e=_0x35f7c6,_0x2e7031=new Date()[_0x42756e(0x2a6)]();if(!lastBotPause)lastBotPause=new Date()[_0x42756e(0x2a6)](),consecutivePauses=0x1;else{if(_0x2e7031-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x42756e(0x24d)]({'stop':'restart'},_0x4d8602=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x42756e(0x2a6)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error',_0x42756e(0x2fd)+consecutivePauses+')'),await sleep(_0x3bd5fc),botPaused=![],reset();}}async function handleError(_0x3bfbb7,_0x594808,_0x2057ce=''){const _0x20f6ff=_0x35f7c6;if(_0x3bfbb7[_0x20f6ff(0x1f4)]()['includes'](_0x20f6ff(0x263)))logHistory(_0x20f6ff(0x295),_0x594808+_0x20f6ff(0x2b6)),await pauseBot(pauseBotInterval);else{if(_0x3bfbb7[_0x20f6ff(0x1f4)]()[_0x20f6ff(0x281)](_0x20f6ff(0x212)))logHistory('error',_0x594808+_0x20f6ff(0x272)),await pauseBot(pauseBotInterval);else{if(_0x3bfbb7[_0x20f6ff(0x1f4)]()[_0x20f6ff(0x281)]('RequestTimeout'))logHistory(_0x20f6ff(0x295),_0x594808+_0x20f6ff(0x260)),await pauseBot(pauseBotInterval);else{if(_0x3bfbb7[_0x20f6ff(0x1f4)]()[_0x20f6ff(0x281)](_0x20f6ff(0x280)))logHistory('error',_0x594808+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory(_0x20f6ff(0x295),_0x20f6ff(0x2fb)),process[_0x20f6ff(0x24d)]({'stop':_0x20f6ff(0x296)},_0x54a207=>{});else{if(_0x3bfbb7['toString']()[_0x20f6ff(0x281)]('AuthenticationError'))logHistory(_0x20f6ff(0x295),_0x594808+_0x20f6ff(0x2b9)),logHistory('error',_0x20f6ff(0x2fb)),process[_0x20f6ff(0x24d)]({'stop':'kill'},_0x21134b=>{});else{if(_0x3bfbb7[_0x20f6ff(0x1f4)]()[_0x20f6ff(0x281)](_0x20f6ff(0x254)))logHistory(_0x20f6ff(0x295),_0x594808+_0x20f6ff(0x28b)),logHistory(_0x20f6ff(0x295),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['send']({'stop':_0x20f6ff(0x296)},_0x1ea8e8=>{});else{if(_0x3bfbb7['toString']()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x20f6ff(0x295),_0x594808+_0x20f6ff(0x22f)),logHistory(_0x20f6ff(0x295),_0x20f6ff(0x2fb)),process[_0x20f6ff(0x24d)]({'stop':_0x20f6ff(0x296)},_0x27f228=>{});else{if(_0x3bfbb7['toString']()[_0x20f6ff(0x281)](_0x20f6ff(0x2ed)))logHistory(_0x20f6ff(0x295),_0x594808+_0x20f6ff(0x2db)),await pauseBot(pauseBotInterval),process[_0x20f6ff(0x24d)]({'stop':_0x20f6ff(0x2c5)},_0x415560=>{});else _0x3bfbb7['toString']()['includes']('InsufficientFunds')?logHistory(_0x20f6ff(0x295),_0x594808+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory('error',_0x594808+'\x20|\x20Unknown\x20error\x20occured'),logging(_0x594808+'\x20|\x20Error\x20details:\x20',_0x3bfbb7),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x6dcd1b,_0x2497f3){const _0x386e88=_0x35f7c6;return parseFloat(_0x6dcd1b[_0x386e88(0x224)](_0x2497f3));}function logging(_0x4b7a57,_0xe5edda=''){const _0x51a1cb=_0x35f7c6;if(config['showname'])console[_0x51a1cb(0x251)](getTimeStamp()+':\x20'+config[_0x51a1cb(0x2a1)]+'\x20>\x20'+_0x4b7a57,_0xe5edda);else console[_0x51a1cb(0x251)](getTimeStamp()+_0x51a1cb(0x23d)+botID+_0x51a1cb(0x200)+_0x4b7a57,_0xe5edda);}function getServerTime(){const _0x469337=_0x35f7c6,_0xb4e845=new Date();return _0xb4e845[_0x469337(0x2a3)]()+'/'+(_0xb4e845[_0x469337(0x210)]()+0x1)['toString']()[_0x469337(0x21b)](0x2,'0')+'/'+_0xb4e845[_0x469337(0x2d7)]()[_0x469337(0x1f4)]()['padStart'](0x2,'0')+'\x20'+_0xb4e845[_0x469337(0x297)]()[_0x469337(0x1f4)]()[_0x469337(0x21b)](0x2,'0')+':'+_0xb4e845[_0x469337(0x2f0)]()[_0x469337(0x1f4)]()[_0x469337(0x21b)](0x2,'0')+':'+_0xb4e845[_0x469337(0x248)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x252a16=_0x35f7c6,_0x783ea0=shiftedTime();return _0x783ea0[_0x252a16(0x2a3)]()+'/'+(_0x783ea0[_0x252a16(0x210)]()+0x1)[_0x252a16(0x1f4)]()['padStart'](0x2,'0')+'/'+_0x783ea0['getDate']()['toString']()[_0x252a16(0x21b)](0x2,'0')+'\x20'+_0x783ea0[_0x252a16(0x297)]()[_0x252a16(0x1f4)]()[_0x252a16(0x21b)](0x2,'0')+':'+_0x783ea0['getMinutes']()[_0x252a16(0x1f4)]()[_0x252a16(0x21b)](0x2,'0')+':'+_0x783ea0[_0x252a16(0x248)]()[_0x252a16(0x1f4)]()[_0x252a16(0x21b)](0x2,'0');}function getDate(){const _0x57f366=_0x35f7c6,_0x468f8e=shiftedTime();return _0x468f8e[_0x57f366(0x2a3)]()+'/'+(_0x468f8e[_0x57f366(0x210)]()+0x1)[_0x57f366(0x1f4)]()[_0x57f366(0x21b)](0x2,'0')+'/'+_0x468f8e[_0x57f366(0x2d7)]()[_0x57f366(0x1f4)]()[_0x57f366(0x21b)](0x2,'0');}function getHour(){const _0x2650bd=_0x35f7c6,_0x33d544=shiftedTime();return _0x33d544[_0x2650bd(0x297)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x469393){return new Promise(_0x287703=>setTimeout(_0x287703,_0x469393));}function shiftedTime(){const _0x22785c=_0x35f7c6,_0x4dbdb4=new Date();let _0x3b1055=_0x4dbdb4;if(config&&config[_0x22785c(0x2e9)]!==0x0)_0x3b1055=fns[_0x22785c(0x268)](_0x4dbdb4,{'hours':config[_0x22785c(0x2e9)]});return _0x3b1055;}