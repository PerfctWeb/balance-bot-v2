const _0x5923c6=_0x55f5;(function(_0x5895d5,_0x2c98d4){const _0x3e3fce=_0x55f5,_0x1ea9a6=_0x5895d5();while(!![]){try{const _0x2115b1=-parseInt(_0x3e3fce(0x1af))/0x1*(parseInt(_0x3e3fce(0x246))/0x2)+parseInt(_0x3e3fce(0x2a3))/0x3+-parseInt(_0x3e3fce(0x210))/0x4+-parseInt(_0x3e3fce(0x28d))/0x5+-parseInt(_0x3e3fce(0x1b6))/0x6*(parseInt(_0x3e3fce(0x234))/0x7)+parseInt(_0x3e3fce(0x2d4))/0x8+-parseInt(_0x3e3fce(0x18e))/0x9*(-parseInt(_0x3e3fce(0x1da))/0xa);if(_0x2115b1===_0x2c98d4)break;else _0x1ea9a6['push'](_0x1ea9a6['shift']());}catch(_0x172681){_0x1ea9a6['push'](_0x1ea9a6['shift']());}}}(_0x3ea3,0x5a071));const _0x518718=function(){let _0x476bf8=!![];return function(_0x190a56,_0x72ceb7){const _0x2c099e=_0x476bf8?function(){if(_0x72ceb7){const _0x1550c1=_0x72ceb7['apply'](_0x190a56,arguments);return _0x72ceb7=null,_0x1550c1;}}:function(){};return _0x476bf8=![],_0x2c099e;};}(),_0x41ff79=_0x518718(this,function(){const _0x30a85e=_0x55f5;return _0x41ff79[_0x30a85e(0x24d)]()[_0x30a85e(0x208)](_0x30a85e(0x2b6))[_0x30a85e(0x24d)]()[_0x30a85e(0x184)](_0x41ff79)[_0x30a85e(0x208)](_0x30a85e(0x2b6));});_0x41ff79();'use strict';const ccxt=require(_0x5923c6(0x26c))[_0x5923c6(0x1ca)],low=require(_0x5923c6(0x1d2)),FileSync=require(_0x5923c6(0x21a)),fs=require('fs'),fns=require(_0x5923c6(0x21b)),Crypt=require('hybrid-crypto-js')[_0x5923c6(0x289)],util=require(_0x5923c6(0x200));let exchange;global[_0x5923c6(0x1fb)]={},global[_0x5923c6(0x198)]={};const exceptions={'binance':[_0x5923c6(0x29f),_0x5923c6(0x1ac),_0x5923c6(0x2ba),_0x5923c6(0x2db),'YOYOW/']};let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5923c6(0x1c0)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require(_0x5923c6(0x1a7))[_0x5923c6(0x235)],botID=process[_0x5923c6(0x193)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x5923c6(0x1ed)](botID)&&(console[_0x5923c6(0x2bf)](_0x5923c6(0x221)+botID+_0x5923c6(0x25f)),killBot());const userID=process[_0x5923c6(0x193)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x5923c6(0x1be),logspath=userID?'./logs/'+userID+'/':_0x5923c6(0x1dc),loggerfile=fs[_0x5923c6(0x185)](logspath+_0x5923c6(0x274),{'flags':'a'});!fs[_0x5923c6(0x1b9)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x5923c6(0x1b9)](logspath)&&fs[_0x5923c6(0x2b1)](logspath);const configfile=configpath+_0x5923c6(0x25e)+botID+_0x5923c6(0x192),logfile=configpath+_0x5923c6(0x25e)+botID+_0x5923c6(0x2b4),performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+_0x5923c6(0x25e)+botID+_0x5923c6(0x1f9),settingsfile=configpath+_0x5923c6(0x2b9),securefile=configpath+_0x5923c6(0x1f1),configbackuppath=configpath+_0x5923c6(0x264),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5923c6(0x1a9)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x5923c6(0x187)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5923c6(0x1a9)]({'bot':[],'version':serverversion})[_0x5923c6(0x187)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5923c6(0x1a9)]({'coins':[],'version':serverversion})[_0x5923c6(0x187)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5923c6(0x29d),'rsaStandard':_0x5923c6(0x197)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x5f0d1a=>{const _0x2bea07=_0x5923c6;console[_0x2bea07(0x2bf)](_0x5f0d1a);},'simple':_0x35d425=>{const _0x111122=_0x5923c6;console[_0x111122(0x2bf)](_0x35d425),loggerfile[_0x111122(0x187)](util['format'](_0x35d425)+'\x0a');},'full':async(_0x20a672,_0x1795c6='')=>{const _0x58e3f5=_0x5923c6;let _0x3b5eeb;if(config['showname'])_0x3b5eeb=getTimeStamp()+':\x20'+config['botname']+_0x58e3f5(0x276)+_0x20a672;else _0x3b5eeb=getTimeStamp()+_0x58e3f5(0x202)+botID+_0x58e3f5(0x276)+_0x20a672;console['log'](_0x3b5eeb),loggerfile[_0x58e3f5(0x187)](util[_0x58e3f5(0x1d5)](_0x3b5eeb)+'\x0a'),_0x1795c6&&(console[_0x58e3f5(0x2bf)](_0x1795c6),loggerfile[_0x58e3f5(0x187)](util['format'](_0x1795c6)+'\x0a'));},'debug':async(_0xa0f13b,_0x18344e='')=>{const _0x19073c=_0x5923c6;let _0x17dfaa;if(config['showname'])_0x17dfaa=getTimeStamp()+':\x20'+config[_0x19073c(0x1ee)]+'\x20>\x20[DEBUG]\x20'+_0xa0f13b;else _0x17dfaa=getTimeStamp()+':\x20Bot\x20'+botID+_0x19073c(0x1a8)+_0xa0f13b;if(debugLoggingScreen)console[_0x19073c(0x2bf)](_0x17dfaa);loggerfile[_0x19073c(0x187)](util[_0x19073c(0x1d5)](_0x17dfaa)+'\x0a');if(_0x18344e){if(debugLoggingScreen)console[_0x19073c(0x2bf)](_0x18344e);loggerfile[_0x19073c(0x187)](util[_0x19073c(0x1d5)](_0x18344e)+'\x0a');}}};process['on'](_0x5923c6(0x1e0),function(_0x4ef219){const _0x396f45=_0x5923c6;logger[_0x396f45(0x19b)](_0x4ef219);});settings[_0x5923c6(0x1fc)]!=config[_0x5923c6(0x1fc)]&&updateTimeshift(settings[_0x5923c6(0x1fc)]);process[_0x5923c6(0x19f)]({'started':_0x5923c6(0x18d)},_0x203b49=>{}),initializeProcessListeners();function proxyEmit(_0x1d270f,_0x508f17=null){const _0x11fadd=_0x5923c6;process[_0x11fadd(0x19f)]({'function':_0x1d270f,'args':_0x508f17},_0x18c273=>{});}function initializeProcessListeners(){const _0x535765=_0x5923c6;process['on'](_0x535765(0x2ca),_0x38007b=>{const _0xecdc37=_0x535765;switch(Object[_0xecdc37(0x27d)](_0x38007b)[0x0]){case'timeshift':_0x38007b[_0xecdc37(0x1fc)]!=undefined&&(settings[_0xecdc37(0x1fc)]=_0x38007b[_0xecdc37(0x1fc)],updateTimeshift(settings[_0xecdc37(0x1fc)]));break;case _0xecdc37(0x2d9):switch(_0x38007b[_0xecdc37(0x2d9)]){case'initclient':initclient();break;case _0xecdc37(0x191):toggleBotMode();break;case _0xecdc37(0x1e5):emitHistory(_0x38007b['args']);break;case _0xecdc37(0x1e4):deleteHistoryAlerts(_0x38007b[_0xecdc37(0x22c)]);break;case _0xecdc37(0x1df):getPortfolio(_0x38007b[_0xecdc37(0x22c)]);break;case _0xecdc37(0x2c4):storeConfiguration(_0x38007b[_0xecdc37(0x22c)]);break;case'storeHeadless':storeHeadless(_0x38007b[_0xecdc37(0x22c)]);break;case _0xecdc37(0x216):getStartingBalances(getNormalizedPerformance());break;case _0xecdc37(0x2c7):placeOrder(_0x38007b[_0xecdc37(0x22c)]);break;case _0xecdc37(0x28a):cancelLoading();break;case'showConfig':showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset();async function reset(_0x791cb8=null,_0x48ff73=![]){const _0x3f0d19=_0x5923c6;logger[_0x3f0d19(0x1f6)](_0x3f0d19(0x1ef)+(_0x791cb8!=null)+'\x20|\x20'+_0x48ff73);if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x48ff73)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config[_0x3f0d19(0x1c4)]!=''&&config[_0x3f0d19(0x1c4)]!='***'){await initExchange();let _0x2cb64c=![];_0x2cb64c=await loadSymbols();if(_0x2cb64c){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x791cb8),exchangeStopped=![];if(lastOrders[_0x3f0d19(0x2bb)]==0x0&&allOpenOrders[_0x3f0d19(0x2bb)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){const _0x5a0c0b=_0x5923c6;exchangeStopped=!![],await exchange[_0x5a0c0b(0x287)]();}async function reloadExchange(){const _0x4f100e=_0x5923c6;logger['debug'](_0x4f100e(0x26b));while(lockOrders!=ORDERS[_0x4f100e(0x1cc)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x4f100e(0x1f6)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x42b0a2=config[_0x5923c6(0x220)],_0x2dd255=config[_0x5923c6(0x1c4)],_0x2c903d=config['apiSecret']){const _0x51578b=_0x5923c6;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x42b0a2)&&(logger[_0x51578b(0x252)](_0x51578b(0x2a8)+_0x42b0a2+_0x51578b(0x237)),killBot());const _0x56d561=ccxt[_0x42b0a2['toLowerCase']()];exchange=new _0x56d561({'apiKey':_0x2dd255,'secret':_0x2c903d,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x34ddeb=_0x5923c6;let _0x244929=config[_0x34ddeb(0x1aa)]==_0x34ddeb(0x23a)?_0x34ddeb(0x23a):'BTC',_0x178131=!allSymbols[_0x34ddeb(0x1d6)](_0x244929+_0x34ddeb(0x27c))?_0x34ddeb(0x280):_0x34ddeb(0x2cb),_0x16c7dd=!allSymbols[_0x34ddeb(0x1d6)](_0x244929+'/EUR')?_0x178131:'EUR';stablecoins={'eur':{'coin':''+_0x244929+_0x16c7dd,'symbol':_0x244929+'/'+_0x16c7dd},'usd':{'coin':''+_0x244929+_0x178131,'symbol':_0x244929+'/'+_0x178131}};}async function initwsCcxt(_0x2d98d4){const _0x500371=_0x5923c6;_0x2d98d4==null&&(_0x2d98d4=[],currentCoins['forEach'](_0x44d863=>{const _0x50f0d0=_0x55f5;if(_0x44d863['coin']!=config['basecoin'])_0x2d98d4[_0x50f0d0(0x20d)](_0x44d863[_0x50f0d0(0x2c9)]);}));if(!_0x2d98d4[_0x500371(0x1d6)](stablecoins[_0x500371(0x190)]['symbol']))_0x2d98d4[_0x500371(0x20d)](stablecoins[_0x500371(0x190)]['symbol']);if(!_0x2d98d4['includes'](stablecoins[_0x500371(0x251)][_0x500371(0x2c9)]))_0x2d98d4[_0x500371(0x20d)](stablecoins[_0x500371(0x251)][_0x500371(0x2c9)]);if(!_0x2d98d4[_0x500371(0x1d6)](_0x500371(0x20e)+config[_0x500371(0x1aa)]))_0x2d98d4[_0x500371(0x20d)]('BNB/'+config[_0x500371(0x1aa)]);loadCoins(_0x2d98d4);const _0xcfbc64=async _0x4f304d=>{const _0x48bc49=_0x500371,_0x3ebfed=await exchange[_0x48bc49(0x294)](_0x4f304d);global[_0x48bc49(0x1fb)][noslash(_0x3ebfed[_0x48bc49(0x2c9)])]=_0x3ebfed[_0x48bc49(0x1a5)];while(!![]){if(!botPaused)try{const _0x4c1f41=await exchange[_0x48bc49(0x240)](_0x4f304d);global[_0x48bc49(0x1fb)][noslash(_0x4c1f41[0x0][_0x48bc49(0x2c9)])]=_0x4c1f41[0x0][_0x48bc49(0x260)],await sleep(0x3e8);}catch(_0xf55848){if(!exchangeStopped)await handleError(_0xf55848,_0x48bc49(0x240),_0x4f304d);}else await sleep(0x3e8);}},_0x41cf50=async _0x9c0146=>{const _0x441be1=_0x500371;while(!![]){if(!botPaused)try{const _0x3bca24=await exchange[_0x441be1(0x294)](_0x9c0146);global[_0x441be1(0x198)][_0x3bca24[_0x441be1(0x2c9)]]=_0x3bca24[_0x441be1(0x204)],await sleep(0x2710);}catch(_0x1b1f85){if(!exchangeStopped)await handleError(_0x1b1f85,'fetchTickers',_0x9c0146);}else await sleep(0x3e8);}},_0xc4527a=async()=>{const _0x443e2c=_0x500371;while(!![]){if(!botPaused)try{const _0x5b2f9d=await exchange['watchOrders']();_0x5b2f9d[_0x443e2c(0x2c1)](_0x5cbf3f=>{updateNumberCoinsCcxt(_0x5cbf3f);});}catch(_0x44939c){if(!exchangeStopped)await handleError(_0x44939c,_0x443e2c(0x275));}else await sleep(0x3e8);}};_0x2d98d4[_0x500371(0x2c1)](async _0x5d8553=>{_0xcfbc64(_0x5d8553),_0x41cf50(_0x5d8553);}),!wsEventsSet&&(wsEventsSet=!![],_0xc4527a());}async function loadSymbols(){const _0x4e6690=_0x5923c6;if(allSymbols)return!![];let _0x39788f=![];try{markets=await exchange[_0x4e6690(0x228)](),allSymbols=exchange['symbols'][_0x4e6690(0x217)](_0x1de775=>{const _0xfb7d3e=_0x4e6690;let _0xd3e110=![];return exceptions[config[_0xfb7d3e(0x220)][_0xfb7d3e(0x2af)]()]['forEach'](_0xf0eb40=>{const _0x53f85a=_0xfb7d3e;if(_0x1de775[_0x53f85a(0x1d6)](_0xf0eb40))_0xd3e110=!![];}),!_0xd3e110;}),_0x39788f=!![];}catch(_0x17a89f){_0x39788f=![],handleError(_0x17a89f,_0x4e6690(0x1f0));}return _0x39788f;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x1326ce=_0x5923c6;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x1326ce(0x231),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1326ce(0x2b8),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x23d95f=getNormalizedPerformance();emitPerformance(_0x23d95f),await getStartingBalances(_0x23d95f);}async function toggleBotMode(){const _0x27e88d=_0x5923c6;let _0x1df660=dbConfig[_0x27e88d(0x194)](_0x27e88d(0x286))[_0x27e88d(0x26d)]({'botID':botID})[_0x27e88d(0x2ce)]();if(_0x1df660){const _0xc81c31=!_0x1df660[_0x27e88d(0x267)];dbConfig['get'](_0x27e88d(0x286))[_0x27e88d(0x26d)]({'botID':botID})[_0x27e88d(0x20b)]({'headless':_0xc81c31})['write'](),config[_0x27e88d(0x267)]=_0xc81c31,proxyEmit(_0x27e88d(0x1e7),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x510fe6=_0x5923c6;process[_0x510fe6(0x19f)]({'updatebotmanager':!![]},_0x42f856=>{});}async function loadCoins(_0x94cd28){const _0x3072c3=_0x5923c6;let _0x355ba7,_0x349b17=0x0;loading[_0x3072c3(0x23c)]=[];let _0xa17447=0x0;_0x94cd28[_0x3072c3(0x2c1)](_0x265a91=>{const _0x1011d5=_0x3072c3;loading[_0x1011d5(0x23c)]['push'](_0x265a91);}),loadingCanceled=![];let _0x2a4104=![];while(_0x355ba7!=_0x94cd28['length']){_0x355ba7=0x0,_0x94cd28[_0x3072c3(0x2c1)](_0x288b6f=>{const _0x587f25=_0x3072c3;global['ticker'][noslash(_0x288b6f)]&&(loading[_0x587f25(0x23c)]=loading[_0x587f25(0x23c)][_0x587f25(0x217)](_0x36a23b=>_0x36a23b!=_0x288b6f),_0x355ba7++);}),loading[_0x3072c3(0x283)]=Math['round'](_0x355ba7/_0x94cd28[_0x3072c3(0x2bb)]*0x64);loading[_0x3072c3(0x283)]!=0x64&&(_0xa17447>0x1e*0x5&&(loading[_0x3072c3(0x27f)]=!![],emitLoadingProgress()),_0xa17447>0x78*0x5&&!_0x2a4104&&(loading[_0x3072c3(0x188)]=!![],emitLoadingProgress(),_0x2a4104=!![],logHistory(_0x3072c3(0x254),_0x3072c3(0x278)+loading['remainingSymbols']['join'](',\x20')+_0x3072c3(0x1c1)),logHistory(_0x3072c3(0x254),_0x3072c3(0x1ce)+loadCoinsRetryInterval/0xea60+_0x3072c3(0x249)),pidCoinReloading=setTimeout(()=>{const _0x406884=_0x3072c3;process['send']({'stop':_0x406884(0x18f)},_0x4c5ad4=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x3072c3(0x188)]=!![],emitLoadingProgress();break;}else _0x355ba7!=_0x349b17&&(_0x349b17=_0x355ba7,emitLoadingProgress()),_0xa17447++,await sleep(0xc8);}_0x355ba7==_0x94cd28[_0x3072c3(0x2bb)]&&(coinsLoaded=!![],_0x2a4104&&logHistory(_0x3072c3(0x22d),_0x3072c3(0x206)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x5445d8=_0x5923c6;proxyEmit(_0x5445d8(0x1e7),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x9f1da2=_0x5923c6;let _0x32ab32=global[_0x9f1da2(0x1fb)][stablecoins[_0x9f1da2(0x190)][_0x9f1da2(0x1fe)]],_0x57b036=global[_0x9f1da2(0x1fb)][stablecoins[_0x9f1da2(0x251)][_0x9f1da2(0x1fe)]];return{'eur':Number(_0x32ab32),'usd':Number(_0x57b036)};}function capitalize(_0x79678a){const _0x2beaff=_0x5923c6;return _0x79678a[_0x2beaff(0x2a5)](0x0,0x1)[_0x2beaff(0x244)]()+_0x79678a['substring'](0x1);}function supportedExchanges(){const _0x5b2a7d=_0x5923c6,_0x19338d=['ws',_0x5b2a7d(0x212),_0x5b2a7d(0x294),_0x5b2a7d(0x240),'watchOrders','cancelOrder','createOrder','fetchOpenOrders','fetchClosedOrders',_0x5b2a7d(0x268)];let _0x54a062=[];const _0x5abaa7=ccxt[_0x5b2a7d(0x231)]['map'](_0x458e92=>new ccxt[_0x458e92]())[_0x5b2a7d(0x217)](_0x2a7bdf=>_0x2a7bdf[_0x5b2a7d(0x1f8)]['ws']);return _0x5abaa7[_0x5b2a7d(0x2c1)](_0x1a7b07=>{const _0x222370=_0x5b2a7d;let _0x2582c5=0x0;_0x19338d['forEach'](_0xd58724=>{const _0x3e4c0b=_0x55f5;_0xd58724 in _0x1a7b07[_0x3e4c0b(0x1f8)]&&_0x1a7b07[_0x3e4c0b(0x1f8)][_0xd58724]&&_0x2582c5++;}),_0x2582c5==_0x19338d[_0x222370(0x2bb)]&&_0x54a062[_0x222370(0x20d)](capitalize(_0x1a7b07['id']));}),_0x54a062;}function setStartDatePerformance(){const _0x93c2b=_0x5923c6;if(config&&config['liquidity'][0x0][_0x93c2b(0x2b3)][_0x93c2b(0x2bb)]!=0x0){const _0x40ae4f=config[_0x93c2b(0x24b)][0x0][_0x93c2b(0x2b3)];dbPerformance[_0x93c2b(0x194)](_0x93c2b(0x21f))['find']({'date':config['startdate']})['assign']({'coins':_0x40ae4f})[_0x93c2b(0x187)]();}}async function recreateCoinResults(){const _0x4a0f3d=_0x5923c6;let _0x13e965,_0x2d7b70=[];try{const _0x4849a7=fns[_0x4a0f3d(0x1d5)](fns['parseISO'](config[_0x4a0f3d(0x1e9)]['replace'](/\//g,'-')),_0x4a0f3d(0x1c5));for(const _0x577ffa of currentCoins){if(_0x577ffa[_0x4a0f3d(0x1fe)]!=config['basecoin']){let _0x2ef732=0x0,_0xf034a3,_0x22289f;_0x13e965=await getAllEventOrders(_0x577ffa[_0x4a0f3d(0x2c9)]);if(_0x13e965['length']>0x0)_0x13e965[_0x4a0f3d(0x2c1)](_0x39239a=>{const _0x3caac2=_0x4a0f3d,_0x208f27=_0x577ffa[_0x3caac2(0x2c9)][_0x3caac2(0x1d6)](config[_0x3caac2(0x1aa)]+'/');_0x2d7b70[_0x3caac2(0x20d)]({'datetime':_0x39239a[_0x3caac2(0x219)],'coin':_0x577ffa[_0x3caac2(0x1fe)],'symbol':_0x577ffa[_0x3caac2(0x2c9)],'side':_0x39239a[_0x3caac2(0x1fd)],'reverse':_0x208f27,'amount':formatResult(_0x39239a[_0x3caac2(0x1b1)],0x8),'filled':formatResult(_0x39239a[_0x3caac2(0x1b1)],0x8),'price':formatResult(_0x39239a['price'],0x8)}),_0x2ef732=_0x39239a[_0x3caac2(0x1fd)]==_0x3caac2(0x295)?_0x2ef732+_0x39239a[_0x3caac2(0x1b1)]:_0x2ef732-_0x39239a[_0x3caac2(0x1b1)];if(!_0x22289f)_0x22289f=_0x39239a['price'];});_0xf034a3=_0x577ffa[_0x4a0f3d(0x1ad)]-_0x2ef732;let _0x3306b6;config[_0x4a0f3d(0x24b)][_0x4a0f3d(0x2c1)](_0x645684=>{const _0x330608=_0x4a0f3d;!_0x3306b6&&(_0x3306b6=_0x645684[_0x330608(0x2b3)][_0x330608(0x26d)](_0x2a1109=>_0x2a1109['coin']==_0x577ffa['coin']),_0x3306b6&&(_0xf034a3=_0x3306b6['number'],_0x22289f=_0x3306b6[_0x330608(0x260)]));});let _0x1ec878=dbCoinResults[_0x4a0f3d(0x194)](_0x4a0f3d(0x1d8))[_0x4a0f3d(0x26d)]({'coin':_0x577ffa[_0x4a0f3d(0x1fe)]})[_0x4a0f3d(0x2ce)]();_0x1ec878={'coin':_0x577ffa['coin'],'number':_0xf034a3,'breakeven':_0x22289f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x4a0f3d(0x1d8))[_0x4a0f3d(0x26d)]({'coin':_0x577ffa[_0x4a0f3d(0x1fe)]})[_0x4a0f3d(0x20b)](_0x1ec878)[_0x4a0f3d(0x187)]();}}_0x2d7b70[_0x4a0f3d(0x241)]((_0x388603,_0x55039c)=>_0x388603['datetime']>_0x55039c[_0x4a0f3d(0x219)]?0x1:_0x55039c[_0x4a0f3d(0x219)]>_0x388603[_0x4a0f3d(0x219)]?-0x1:0x0);let _0x5d686d=0x0;for(let _0x1b6f09 of _0x2d7b70){await updateCoinResults(_0x1b6f09,!![]);}}catch(_0x86186c){await handleError(_0x86186c,_0x4a0f3d(0x213));}}async function getAllEventOrders(_0x354690){const _0x3ab8ce=_0x5923c6;let _0x1e4598=[],_0x1d3273=dbLogs['get'](_0x3ab8ce(0x2b2))['filter'](_0x1c6142=>{const _0x5a881a=_0x3ab8ce,_0x31c4f4=_0x1c6142['event'][_0x5a881a(0x2af)]();return _0x31c4f4[_0x5a881a(0x1d6)](_0x354690['toLowerCase']())&&(_0x31c4f4[_0x5a881a(0x1d6)](_0x5a881a(0x1e8))&&_0x31c4f4['includes'](_0x5a881a(0x2d3))||_0x31c4f4[_0x5a881a(0x1d6)](_0x5a881a(0x1b1))&&_0x31c4f4[_0x5a881a(0x1d6)](_0x5a881a(0x2d3)));})[_0x3ab8ce(0x27b)](_0x3ab8ce(0x25b))['value']();return _0x1d3273['forEach'](_0x49fbd6=>{const _0x3e1c68=_0x3ab8ce,_0x3a1a8e=_0x49fbd6[_0x3e1c68(0x1d1)][_0x3e1c68(0x1d6)](_0x3e1c68(0x24e))?_0x3e1c68(0x24e):_0x3e1c68(0x295),_0x10c83a=/#([0-9]|\.)+\s/i,_0x4f6542=Number(_0x10c83a[_0x3e1c68(0x222)](_0x49fbd6[_0x3e1c68(0x1d1)])[0x0][_0x3e1c68(0x255)](0x1)),_0x1e88f7=/@([0-9]|\.)+$/i,_0x1ee99c=Number(_0x1e88f7[_0x3e1c68(0x222)](_0x49fbd6['event'])[0x0][_0x3e1c68(0x255)](0x1));_0x1e4598[_0x3e1c68(0x20d)]({'datetime':_0x49fbd6[_0x3e1c68(0x25b)],'coin':symbolToCoin(_0x354690),'symbol':_0x354690,'side':_0x3a1a8e,'amount':_0x4f6542,'filled':_0x4f6542,'price':_0x1ee99c});}),_0x1e4598;}async function getAllOrders(_0x2835a9,_0x49355a){const _0x1ba9bc=_0x5923c6;let _0x33002d=[];while(_0x49355a<exchange['milliseconds']()){const _0x387e1f=0x1f4,_0xa10b09=await exchange[_0x1ba9bc(0x25a)](_0x2835a9,_0x49355a,_0x387e1f);if(_0xa10b09['length'])_0x49355a=_0xa10b09[_0xa10b09[_0x1ba9bc(0x2bb)]-0x1]['timestamp']+0x1,_0x33002d=_0x33002d['concat'](_0xa10b09);else break;}return _0x33002d;}async function validate24hChanges(){const _0x3049ff=_0x5923c6;for(const _0x23b5b2 of currentCoins){if(_0x23b5b2[_0x3049ff(0x1fe)]!=config[_0x3049ff(0x1aa)]){let _0x214ebb;_0x23b5b2['reverse']?_0x214ebb=formatResult((0x1/(global[_0x3049ff(0x198)][noslash(_0x23b5b2[_0x3049ff(0x2c9)])]/0x64+0x1)-0x1)*0x64,0x3):_0x214ebb=global['change'][noslash(_0x23b5b2[_0x3049ff(0x2c9)])],_0x214ebb<config[_0x3049ff(0x2b5)]&&(logHistory(_0x3049ff(0x254),_0x23b5b2[_0x3049ff(0x1fe)]+_0x3049ff(0x243)+_0x214ebb+'%'),logHistory('error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x3049ff(0x254),_0x3049ff(0x265)),await storeHeadless({'headless':![]}));}}}function isNewerVersion(_0x2b6dcc,_0x1eac02){const _0x463689=_0x5923c6,_0x13e269=_0x1eac02[_0x463689(0x262)]('.'),_0x3b5e63=_0x2b6dcc['split']('.');for(var _0x4b5a37=0x0;_0x4b5a37<_0x3b5e63[_0x463689(0x2bb)];_0x4b5a37++){const _0x4e3ddb=~~_0x3b5e63[_0x4b5a37],_0x16dcb9=~~_0x13e269[_0x4b5a37];if(_0x4e3ddb>_0x16dcb9)return!![];if(_0x4e3ddb<_0x16dcb9)return![];}return![];}async function oneTimeMigration(){const _0x9f532d=_0x5923c6;let _0x563ad5=dbLogs[_0x9f532d(0x194)]('version')['value']();if(!isNewerVersion(_0x563ad5,'2.3.5')){dbLogs[_0x9f532d(0x19a)](_0x9f532d(0x235),_0x9f532d(0x1c8))[_0x9f532d(0x187)]();let _0x449bee=[];const _0x58326b=dbLogs[_0x9f532d(0x194)](_0x9f532d(0x2b2))[_0x9f532d(0x2ce)]();_0x58326b[_0x9f532d(0x2c1)](_0x31ae1f=>{const _0x1fb436=_0x9f532d;_0x449bee['push']({'time':_0x31ae1f['time'],'type':_0x31ae1f[_0x1fb436(0x21d)],'event':_0x31ae1f[_0x1fb436(0x1d1)]});}),dbLogs[_0x9f532d(0x194)](_0x9f532d(0x2b2))[_0x9f532d(0x20b)](_0x449bee)[_0x9f532d(0x187)]();}let _0x4fa868=dbConfig[_0x9f532d(0x194)](_0x9f532d(0x235))[_0x9f532d(0x2ce)]();if(!isNewerVersion(_0x4fa868,_0x9f532d(0x1c8))){dbConfig['set'](_0x9f532d(0x235),_0x9f532d(0x1c8))[_0x9f532d(0x187)]();let _0x2d6471=dbConfig[_0x9f532d(0x194)](_0x9f532d(0x286))[_0x9f532d(0x26d)]({'botID':botID})['value']();if(_0x2d6471){let _0xd90b10=[];_0x2d6471[_0x9f532d(0x273)][_0x9f532d(0x2c1)](_0x485b41=>{const _0x4edb25=_0x9f532d;_0xd90b10[_0x4edb25(0x20d)]({'coin':_0x485b41[_0x4edb25(0x1fe)],'number':_0x485b41['startnumber'],'price':_0x485b41[_0x4edb25(0x1ba)]}),delete _0x485b41[_0x4edb25(0x293)],delete _0x485b41[_0x4edb25(0x1ba)];});if(_0xd90b10[_0x9f532d(0x2bb)]!==0x0)fs[_0x9f532d(0x27a)](configbackuppath+(_0x9f532d(0x22f)+botID+_0x9f532d(0x258)),JSON[_0x9f532d(0x1de)](_0xd90b10,null,0x4),function(_0x523b87){if(_0x523b87){}});const _0x4ff868=(_0x12d6b7,_0x4013b9)=>{const _0x1a863c=_0x9f532d;let _0x4d40a9=[];_0x4013b9['forEach'](_0x2af21a=>{const _0xb53088=_0x55f5,_0x4d56a6=_0x12d6b7[_0xb53088(0x26d)](_0x101e08=>_0x101e08[_0xb53088(0x1fe)]==_0x2af21a[_0xb53088(0x1fe)]);if(!_0x4d56a6)_0x4d40a9[_0xb53088(0x20d)](_0x2af21a);});let _0x56f75f=[];return _0x12d6b7[_0x1a863c(0x2c1)](_0x1dbd05=>{const _0x59f1ec=_0x1a863c,_0x184544=_0x4013b9[_0x59f1ec(0x26d)](_0x43f650=>_0x43f650['coin']==_0x1dbd05[_0x59f1ec(0x1fe)]);if(!_0x184544||_0x184544[_0x59f1ec(0x1ad)]==0x0&&_0x1dbd05[_0x59f1ec(0x1ad)]!=0x0)_0x56f75f[_0x59f1ec(0x20d)](_0x1dbd05);}),{'missingDay1':_0x4d40a9,'notInDay2':_0x56f75f};},_0x2b4200=dbPerformance[_0x9f532d(0x194)](_0x9f532d(0x21f))[_0x9f532d(0x24c)]()['value']();if(_0x2b4200['length']>0x1){const {missingDay1:_0x1842e9,notInDay2:_0x3854df}=_0x4ff868(_0xd90b10,_0x2b4200[0x1]['coins']);_0xd90b10=[..._0xd90b10,..._0x1842e9],_0x3854df[_0x9f532d(0x2c1)](_0x451228=>{const _0x3cfbac=_0x9f532d;let _0xaacf1d=_0xd90b10[_0x3cfbac(0x232)](_0x45697e=>_0x45697e[_0x3cfbac(0x1fe)]==_0x451228['coin']);_0xaacf1d!=-0x1&&_0xd90b10[_0x3cfbac(0x24f)](_0xaacf1d,0x1);});}_0xd90b10[_0x9f532d(0x241)]((_0xe12b0d,_0x5851f8)=>_0xe12b0d[_0x9f532d(0x1fe)]>_0x5851f8[_0x9f532d(0x1fe)]?0x1:_0x5851f8[_0x9f532d(0x1fe)]>_0xe12b0d['coin']?-0x1:0x0);let _0x2cd27a=[{'date':_0x2d6471[_0x9f532d(0x1e9)],'changes':_0xd90b10}];_0x2b4200[_0x9f532d(0x2bb)]>0x2&&_0x2b4200['forEach']((_0x253476,_0x1837e1)=>{const _0x293a11=_0x9f532d;if(_0x1837e1>0x0&&_0x1837e1<_0x2b4200[_0x293a11(0x2bb)]-0x1){const {missingDay1:_0x2b122c,notInDay2:_0x2f7001}=_0x4ff868(_0x2b4200[_0x1837e1][_0x293a11(0x1d8)],_0x2b4200[_0x1837e1+0x1][_0x293a11(0x1d8)]);_0xd90b10=[],(_0x2b122c[_0x293a11(0x2bb)]!=0x0||_0x2f7001[_0x293a11(0x2bb)]!=0x0)&&(_0x2b122c[_0x293a11(0x2bb)]!=0x0&&_0xd90b10[_0x293a11(0x20d)](..._0x2b122c),_0x2f7001[_0x293a11(0x2bb)]!=0x0&&(_0x2f7001['forEach'](_0x153b75=>{const _0xa38fe6=_0x293a11;_0x153b75['number']=-_0x153b75[_0xa38fe6(0x1ad)];}),_0xd90b10[_0x293a11(0x20d)](..._0x2f7001)),_0xd90b10[_0x293a11(0x241)]((_0x3ad1e3,_0x39f7e9)=>_0x3ad1e3[_0x293a11(0x1fe)]>_0x39f7e9['coin']?0x1:_0x39f7e9[_0x293a11(0x1fe)]>_0x3ad1e3[_0x293a11(0x1fe)]?-0x1:0x0),_0x2cd27a[_0x293a11(0x20d)]({'date':_0x2b4200[_0x1837e1+0x1][_0x293a11(0x282)],'changes':_0xd90b10}));}}),dbConfig[_0x9f532d(0x194)]('bot')[_0x9f532d(0x26d)]({'botID':botID})['assign']({..._0x2d6471,'liquidity':_0x2cd27a})[_0x9f532d(0x187)]();}}_0x4fa868=dbConfig['get'](_0x9f532d(0x235))[_0x9f532d(0x2ce)]();if(!isNewerVersion(_0x4fa868,_0x9f532d(0x1e3))){dbConfig[_0x9f532d(0x19a)]('version','2.6.0')[_0x9f532d(0x187)]();let _0x413eb5=dbConfig[_0x9f532d(0x194)]('bot')[_0x9f532d(0x26d)]({'botID':botID})['value']();if(_0x413eb5){const _0x321223=_0x413eb5[_0x9f532d(0x220)],_0x15a057=_0x321223?capitalize(_0x321223):_0x9f532d(0x1a1);dbConfig['get'](_0x9f532d(0x286))[_0x9f532d(0x26d)]({'botID':botID})[_0x9f532d(0x20b)]({'exchange':_0x15a057})[_0x9f532d(0x187)]();}}config=getConfiguration(botID);let _0x1952f1=dbPerformance[_0x9f532d(0x194)](_0x9f532d(0x235))['value']();!isNewerVersion(_0x1952f1,_0x9f532d(0x1c8))&&(dbPerformance[_0x9f532d(0x19a)](_0x9f532d(0x235),_0x9f532d(0x1c8))[_0x9f532d(0x187)](),setStartDatePerformance());let _0x5680c6=dbCoinResults[_0x9f532d(0x194)](_0x9f532d(0x235))[_0x9f532d(0x2ce)]();if(!isNewerVersion(_0x5680c6,_0x9f532d(0x1f3))){dbCoinResults[_0x9f532d(0x19a)](_0x9f532d(0x235),'2.5.0')[_0x9f532d(0x187)]();let _0x4ab329=dbCoinResults[_0x9f532d(0x194)](_0x9f532d(0x1d8))[_0x9f532d(0x2ce)]();if(_0x4ab329[_0x9f532d(0x2bb)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0xfd851f){const _0x19a5c0=_0x5923c6;let _0x7bb5a3=dbConfig['get'](_0x19a5c0(0x286))[_0x19a5c0(0x26d)]({'botID':_0xfd851f})[_0x19a5c0(0x2ce)]();if(_0x7bb5a3){let _0x431557=![];typeof _0x7bb5a3['threshold']=='string'&&(_0x7bb5a3={..._0x7bb5a3,'threshold':Number(_0x7bb5a3[_0x19a5c0(0x2a2)])},_0x431557=!![]),_0x7bb5a3[_0x19a5c0(0x2b5)]==null&&(_0x7bb5a3={..._0x7bb5a3,'change24h':-0x14},_0x431557=!![]),_0x431557&&(_0x7bb5a3={'botID':_0x7bb5a3[_0x19a5c0(0x2d1)],'exchange':_0x7bb5a3[_0x19a5c0(0x220)],'apiKey':_0x7bb5a3[_0x19a5c0(0x1c4)],'apiSecret':_0x7bb5a3[_0x19a5c0(0x215)],'basecoin':_0x7bb5a3[_0x19a5c0(0x1aa)],'botname':_0x7bb5a3[_0x19a5c0(0x1ee)],'showname':_0x7bb5a3[_0x19a5c0(0x19e)],'threshold':_0x7bb5a3[_0x19a5c0(0x2a2)],'ordertype':_0x7bb5a3[_0x19a5c0(0x257)],'timeout':_0x7bb5a3['timeout'],'startdate':_0x7bb5a3[_0x19a5c0(0x1e9)],'recreate':_0x7bb5a3['recreate'],'timeshift':_0x7bb5a3[_0x19a5c0(0x1fc)],'headless':_0x7bb5a3['headless'],'cooldown':_0x7bb5a3[_0x19a5c0(0x259)],'change24h':_0x7bb5a3[_0x19a5c0(0x2b5)],'emojibuy':_0x7bb5a3[_0x19a5c0(0x2a6)],'emojisell':_0x7bb5a3[_0x19a5c0(0x196)],'portfolio':_0x7bb5a3[_0x19a5c0(0x273)],'liquidity':_0x7bb5a3[_0x19a5c0(0x24b)]},dbConfig['get'](_0x19a5c0(0x286))[_0x19a5c0(0x1a6)]()[_0x19a5c0(0x187)](),dbConfig[_0x19a5c0(0x194)]('bot')['push'](_0x7bb5a3)[_0x19a5c0(0x187)]());}else _0x7bb5a3={'botID':_0xfd851f,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x19a5c0(0x1db)+_0xfd851f,'showname':![],'threshold':0x3,'ordertype':_0x19a5c0(0x1e8),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x19a5c0(0x1fc)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x7bb5a3;}function emittedConfiguration(){const _0x2c891d=_0x5923c6;let _0x145dc0;if(config[_0x2c891d(0x1c4)]=='')_0x145dc0={...config,'configstate':_0x2c891d(0x238)};else config['apiKey']==_0x2c891d(0x2d7)?_0x145dc0={...config,'configstate':_0x2c891d(0x1b5)}:_0x145dc0={...config,'apiKey':'************','apiSecret':_0x2c891d(0x242)};return _0x145dc0;}function getSettings(){const _0x4335ef=_0x5923c6;return dbSettings[_0x4335ef(0x194)](_0x4335ef(0x2c0))['value']();}function getSecure(){const _0x4370cc=_0x5923c6;return dbSecure['get'](_0x4370cc(0x256))[_0x4370cc(0x2ce)]()||{};}function updateTimeshift(_0x44c47f){const _0xf98ba5=_0x5923c6;let _0x336d29=dbConfig['get'](_0xf98ba5(0x286))[_0xf98ba5(0x26d)]({'botID':botID})[_0xf98ba5(0x2ce)]();_0x336d29&&dbConfig[_0xf98ba5(0x194)](_0xf98ba5(0x286))['find']({'botID':botID})[_0xf98ba5(0x20b)]({'timeshift':_0x44c47f})[_0xf98ba5(0x187)](),config['timeshift']=_0x44c47f,proxyEmit(_0xf98ba5(0x1e7),emittedConfiguration());}async function storeConfiguration(_0x3333c0){const _0x520d32=_0x5923c6;let _0x341299=[],_0x23c53e=[];_0x3333c0['portfolio'][_0x520d32(0x2c1)](_0xe1681=>{const _0x1cde51=_0x520d32;if(!_0xe1681[_0x1cde51(0x284)]&&_0xe1681[_0x1cde51(0x1fe)]!=_0x3333c0[_0x1cde51(0x1aa)])_0x23c53e[_0x1cde51(0x20d)](_0xe1681[_0x1cde51(0x2c9)]);});currentCoins['length']==0x0?_0x341299=_0x23c53e:_0x23c53e[_0x520d32(0x2c1)](_0xcfe029=>{const _0x46c81e=_0x520d32,_0x341bf1=currentCoins['find'](_0x2a3c5c=>_0x2a3c5c[_0x46c81e(0x2c9)]==_0xcfe029);!_0x341bf1&&_0x341299[_0x46c81e(0x20d)](_0xcfe029);});let _0x1f7fab=dbConfig[_0x520d32(0x194)](_0x520d32(0x286))[_0x520d32(0x26d)]({'botID':botID})[_0x520d32(0x2ce)]();_0x3333c0={..._0x3333c0,'apiKey':crypt[_0x520d32(0x2d8)](secure['privateKey'],_0x3333c0[_0x520d32(0x1c4)])[_0x520d32(0x2ca)],'apiSecret':crypt['decrypt'](secure[_0x520d32(0x245)],_0x3333c0['apiSecret'])['message']};if(_0x1f7fab){if(_0x3333c0[_0x520d32(0x1c4)]==_0x520d32(0x242))_0x3333c0[_0x520d32(0x1c4)]=config['apiKey'];if(_0x3333c0['apiSecret']=='************')_0x3333c0[_0x520d32(0x215)]=config[_0x520d32(0x215)];dbConfig[_0x520d32(0x194)](_0x520d32(0x286))[_0x520d32(0x26d)]({'botID':botID})[_0x520d32(0x20b)](_0x3333c0)['write']();}else dbConfig[_0x520d32(0x194)](_0x520d32(0x286))['push'](_0x3333c0)[_0x520d32(0x187)](),process[_0x520d32(0x19f)]({'status':_0x520d32(0x23f),'live':_0x520d32(0x18d)},_0x5a0d1e=>{});config={..._0x3333c0},setStartDatePerformance(),process[_0x520d32(0x19f)]({'botname':_0x3333c0[_0x520d32(0x1ee)]},_0x54452d=>{}),updateBotManager();const _0xe77cf4=getNormalizedPerformance();getStartingBalances(_0xe77cf4),emitPerformance(_0xe77cf4),proxyEmit(_0x520d32(0x225)),await initCoinResults(),reset(_0x341299);}async function storeHeadless(_0x16c132){const _0x4b6ea5=_0x5923c6,_0x59c78e={...config,'headless':_0x16c132[_0x4b6ea5(0x267)]};let _0x3cef29=dbConfig[_0x4b6ea5(0x194)]('bot')['find']({'botID':botID})['value']();_0x3cef29&&dbConfig['get']('bot')[_0x4b6ea5(0x26d)]({'botID':botID})[_0x4b6ea5(0x20b)](_0x59c78e)[_0x4b6ea5(0x187)](),config={..._0x59c78e},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0xafb3df){const _0x3f12bd=_0x5923c6;return _0xafb3df[_0x3f12bd(0x223)]('/','');}async function updateNumberCoinsCcxt(_0x4eea31){const _0x26adb3=_0x5923c6;logger[_0x26adb3(0x1f6)]('0\x20-\x20EXECUTION:\x20'+_0x4eea31[_0x26adb3(0x2c9)]+_0x26adb3(0x229)+_0x4eea31[_0x26adb3(0x1cd)]+_0x26adb3(0x229)+_0x4eea31['id']+_0x26adb3(0x229)+_0x4eea31['clientOrderId']);let _0x27d766=_0x4eea31['status'],_0x16eef0=![];currentCoins[_0x26adb3(0x2c1)](_0x17a7fd=>{_0x17a7fd['symbol']==_0x4eea31['symbol']&&(_0x16eef0=!![]);});if(!_0x16eef0)return;const _0x22a83a=currentCoins[_0x26adb3(0x26d)](_0x4561f1=>_0x4561f1[_0x26adb3(0x2c9)]==_0x4eea31[_0x26adb3(0x2c9)]),_0x32953c=_0x385e90=>{const _0x22e580=_0x26adb3;if(_0x22a83a)_0x22a83a[_0x22e580(0x205)]=_0x385e90;};if(_0x27d766==_0x26adb3(0x230))_0x32953c(_0x26adb3(0x230));else{if(_0x27d766==_0x26adb3(0x2a7))_0x32953c(_0x26adb3(0x2a7)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x27d766==_0x26adb3(0x211)){logger['debug'](_0x26adb3(0x1c6)+_0x4eea31[_0x26adb3(0x2c9)]+_0x26adb3(0x229)+_0x4eea31[_0x26adb3(0x1b1)]+_0x26adb3(0x229)+_0x4eea31['id']+_0x26adb3(0x229)+_0x4eea31[_0x26adb3(0x25c)]);let _0xa98944=![];if(lastOrders)lastOrders['forEach'](async _0x299868=>{const _0x9bff2=_0x26adb3;if(_0x299868[_0x9bff2(0x186)]==_0x4eea31['clientOrderId']){logger[_0x9bff2(0x1f6)](_0x9bff2(0x1ea)+_0x4eea31[_0x9bff2(0x25c)]),_0xa98944=!![];if(_0x299868[_0x9bff2(0x1b1)]==0x0){logger['debug'](_0x9bff2(0x2cf)+_0x4eea31[_0x9bff2(0x25c)]),_0x299868[_0x9bff2(0x260)]=_0x4eea31[_0x9bff2(0x248)],_0x299868[_0x9bff2(0x1b1)]=_0x4eea31[_0x9bff2(0x1b1)],_0x299868[_0x9bff2(0x263)]={'cost':_0x4eea31[_0x9bff2(0x263)]['cost'],'currency':_0x4eea31[_0x9bff2(0x263)][_0x9bff2(0x1d3)]},_0x32953c(_0x9bff2(0x1b1)),await validateOrders();if(lockOrders==ORDERS[_0x9bff2(0x19c)])currentCoins=await getCoins();await updateCoinResults(_0x299868);}}});!_0xa98944&&(logger[_0x26adb3(0x1f6)](_0x26adb3(0x29a)+_0x4eea31['id']),_0x32953c('filled'),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x2f605c=JSON[_0x26adb3(0x1bf)](lastBalances['portfolio']);const _0x1a1210=_0x2f605c[_0x26adb3(0x26d)](_0x2dcbbc=>_0x2dcbbc['symbol']==_0x4eea31[_0x26adb3(0x2c9)]);if(_0x1a1210){if(_0x27d766==_0x26adb3(0x230))_0x1a1210[_0x26adb3(0x205)]=_0x1a1210[_0x26adb3(0x205)]=='filled'?'filled':'open';else{if(_0x27d766=='canceled')_0x1a1210[_0x26adb3(0x205)]=_0x1a1210['orderstatus']==_0x26adb3(0x1b1)?_0x26adb3(0x1b1):_0x26adb3(0x2a7);else _0x27d766=='closed'&&(_0x1a1210[_0x26adb3(0x205)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x26adb3(0x1de)](_0x2f605c)},proxyEmit(_0x26adb3(0x2b8),{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0x38d5c5=![],_0x55ae73=!![],_0xf7424b=config[_0x5923c6(0x1aa)]){const _0x33b116=_0x5923c6;let _0x4b6ab6,_0x47212b=[],_0x366b13=[],_0x181330=[];try{_0x4b6ab6=await exchange[_0x33b116(0x268)](),mybalances=_0x4b6ab6[_0x33b116(0x1a3)];if(!_0x55ae73)for(const [_0x11316a,_0x5395a4]of Object['entries'](mybalances)){_0x181330[_0x33b116(0x20d)](_0x11316a);}else config['portfolio'][_0x33b116(0x2c1)](_0x3c558f=>{const _0x322d25=_0x33b116;if(!_0x3c558f[_0x322d25(0x284)])_0x181330[_0x322d25(0x20d)](_0x3c558f[_0x322d25(0x1fe)]);});if(_0xf7424b=='')for(const [_0x5d516c,_0x1d11df]of Object[_0x33b116(0x214)](mybalances)){_0x1d11df[_0x33b116(0x24d)]()!=0x0&&_0x366b13['push']({'coin':_0x5d516c});}else{if(_0x38d5c5)await getOpenOrders();let _0x6f280e=![];for(const [_0x516067,_0x2ef0db]of Object['entries'](mybalances)){if(_0x181330['includes'](_0x516067)){const _0x27da52=config[_0x33b116(0x273)][_0x33b116(0x26d)](_0x5ec528=>_0x5ec528['coin']==_0x516067),_0x4cfe52=_0x516067+'/'+_0xf7424b,_0x16ea69=_0xf7424b+'/'+_0x516067,_0xf185b3=currentCoins[_0x33b116(0x26d)](_0x3cb0a0=>_0x3cb0a0['coin']==_0x516067);_0x6f280e=![];_0x38d5c5&&(_0x6f280e=allOpenOrders[_0x33b116(0x26d)](_0x21710e=>_0x21710e['symbol']==_0x27da52[_0x33b116(0x2c9)]));if((_0x2ef0db[_0x33b116(0x24d)]()!=0x0||_0x27da52)&&(allSymbols[_0x33b116(0x1d6)](_0x4cfe52)||_0x516067==_0xf7424b))_0x516067!=_0xf7424b&&_0x47212b[_0x33b116(0x20d)](_0x4cfe52),_0x366b13['push']({'coin':_0x516067,'symbol':_0x4cfe52,'reverse':![],'number':Math[_0x33b116(0x226)](_0x2ef0db+(_0x27da52&&_0x27da52['offset']||0x0),0x0),'orderstatus':_0x38d5c5?_0x6f280e?_0x33b116(0x230):_0x33b116(0x1fa):_0xf185b3?_0xf185b3[_0x33b116(0x205)]:_0x33b116(0x1fa)});else(_0x2ef0db['toString']()!=0x0||_0x27da52)&&allSymbols[_0x33b116(0x1d6)](_0x16ea69)&&(_0x516067!=_0xf7424b&&_0x47212b[_0x33b116(0x20d)](_0x16ea69),_0x366b13[_0x33b116(0x20d)]({'coin':_0x516067,'symbol':_0x16ea69,'reverse':!![],'number':Math[_0x33b116(0x226)](_0x2ef0db+(_0x27da52&&_0x27da52[_0x33b116(0x2cc)]||0x0),0x0),'orderstatus':_0x38d5c5?_0x6f280e?_0x33b116(0x230):_0x33b116(0x1fa):_0xf185b3?_0xf185b3[_0x33b116(0x205)]:'none'}));}}}}catch(_0x2817fc){if(!_0x55ae73)handleErrorNoStop(_0x2817fc,_0x33b116(0x28b));else await handleError(_0x2817fc,_0x33b116(0x28b));}return _0x366b13;}async function getCoinNumber(_0x57a24a){let _0x58cdd9;try{const _0x27973f=await exchange['fetchBalance']();_0x58cdd9=_0x27973f['total'][_0x57a24a];}catch(_0x4a8e3c){await handleError(_0x4a8e3c,'getCoinNumber()');}return _0x58cdd9;}async function getOpenOrders(){const _0x39f88f=_0x5923c6;let _0xdabade;allOpenOrders=[];try{for(const _0x4d4142 of config[_0x39f88f(0x273)]){!_0x4d4142['excluded']&&_0x4d4142[_0x39f88f(0x1fe)]!=config[_0x39f88f(0x1aa)]&&(_0xdabade=await exchange[_0x39f88f(0x224)](_0x4d4142['symbol']),_0xdabade['length']>0x0&&allOpenOrders[_0x39f88f(0x20d)](_0xdabade[0x0]));}}catch(_0x5448a8){await handleError(_0x5448a8,'getOpenOrders()');}}async function handleOpenOrders(_0x58223c=0x0){const _0x199f22=_0x5923c6;allOpenOrders[_0x199f22(0x2bb)]==0x0&&lockOrders==ORDERS[_0x199f22(0x19c)]&&allOrdersPlaced&&(_0x58223c==0x0?(logger[_0x199f22(0x1f6)](_0x199f22(0x2d2)),_0x58223c++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x199f22(0x1f6)](_0x199f22(0x195)),validateOrders('no\x20open\x20orders')));}async function getPortfolio(_0x4bb029){const _0xef7c7d=_0x5923c6;let _0x589fc8=[],_0x303b98=[],_0x14decf,_0x51c72a=[],_0x489c88=![];if(_0x4bb029[_0xef7c7d(0x1c4)]===_0xef7c7d(0x242)||_0x4bb029[_0xef7c7d(0x215)]===_0xef7c7d(0x242))_0x489c88=!![];else{await initExchange(_0x4bb029[_0xef7c7d(0x220)],_0x4bb029['apiKey'],_0x4bb029[_0xef7c7d(0x215)]);try{_0x489c88=await loadSymbols();}catch(_0x26da71){_0x489c88=![],handleErrorNoStop(_0x26da71,'loadSymbols()');}}if(_0x489c88){_0x51c72a=await getCoins(![],![],_0x4bb029[_0xef7c7d(0x1aa)]);if(_0x51c72a===![])proxyEmit('portfolio',![]);else{if(_0x4bb029[_0xef7c7d(0x1aa)]=='')proxyEmit(_0xef7c7d(0x273),_0x51c72a);else{_0x51c72a['forEach'](_0x5864ed=>{const _0x187865=_0xef7c7d;if(_0x5864ed[_0x187865(0x1fe)]!=_0x4bb029[_0x187865(0x1aa)])_0x589fc8[_0x187865(0x20d)](_0x5864ed[_0x187865(0x2c9)]);});try{_0x303b98=await exchange[_0xef7c7d(0x212)](_0x589fc8);}catch(_0x2c33a0){await handleError(_0x2c33a0,_0xef7c7d(0x18c));}_0x51c72a[_0xef7c7d(0x2c1)](_0x5d7f6d=>{const _0x15de72=_0xef7c7d;_0x5d7f6d['coin']!=_0x4bb029[_0x15de72(0x1aa)]?_0x14decf=_0x5d7f6d[_0x15de72(0x199)]?0x1/_0x303b98[_0x5d7f6d[_0x15de72(0x2c9)]][_0x15de72(0x1a5)]:_0x303b98[_0x5d7f6d[_0x15de72(0x2c9)]][_0x15de72(0x1a5)]:_0x14decf=0x1,_0x5d7f6d[_0x15de72(0x260)]=formatResult(_0x14decf,0x8);}),proxyEmit(_0xef7c7d(0x273),_0x51c72a);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x49b1f1){const _0x5d18c4=_0x5923c6;let _0x191ee0=!![];const _0x185606=!_0x49b1f1[_0x5d18c4(0x199)]?markets[_0x49b1f1[_0x5d18c4(0x2c9)]][_0x5d18c4(0x296)][_0x5d18c4(0x247)][_0x5d18c4(0x1a4)]:markets[_0x49b1f1[_0x5d18c4(0x2c9)]][_0x5d18c4(0x296)][_0x5d18c4(0x23b)][_0x5d18c4(0x1a4)],_0x238cab=!_0x49b1f1[_0x5d18c4(0x199)]?markets[_0x49b1f1[_0x5d18c4(0x2c9)]][_0x5d18c4(0x296)][_0x5d18c4(0x23b)][_0x5d18c4(0x1a4)]:markets[_0x49b1f1[_0x5d18c4(0x2c9)]][_0x5d18c4(0x296)]['amount'][_0x5d18c4(0x1a4)],_0x18e730=markets[_0x49b1f1['symbol']]['precision']['amount'];_0x49b1f1[_0x5d18c4(0x218)]=formatResultTruncate(_0x49b1f1['trade'],_0x18e730);if(Math[_0x5d18c4(0x1e1)](_0x49b1f1[_0x5d18c4(0x218)])<_0x185606)_0x191ee0=![];if(Math[_0x5d18c4(0x1e1)](_0x49b1f1[_0x5d18c4(0x218)])*_0x49b1f1['last']<_0x238cab)_0x191ee0=![];if(_0x49b1f1[_0x5d18c4(0x1fd)]==_0x5d18c4(0x24e)){let _0x13bc0f=config['portfolio']['find'](_0x142f73=>_0x142f73[_0x5d18c4(0x1fe)]==_0x49b1f1[_0x5d18c4(0x1fe)]);if(_0x13bc0f[_0x5d18c4(0x2cc)]>0x0){if(Math[_0x5d18c4(0x1e1)](_0x49b1f1[_0x5d18c4(0x218)])>_0x49b1f1[_0x5d18c4(0x1ad)]-_0x13bc0f[_0x5d18c4(0x2cc)])_0x191ee0=![];}else{if(Math[_0x5d18c4(0x1e1)](_0x49b1f1[_0x5d18c4(0x218)])>_0x49b1f1['number'])_0x191ee0=![];}}if(_0x49b1f1[_0x5d18c4(0x1fd)]==_0x5d18c4(0x295)){let _0x3bbdfd=config[_0x5d18c4(0x273)][_0x5d18c4(0x26d)](_0x5b69d2=>_0x5b69d2[_0x5d18c4(0x1fe)]==config[_0x5d18c4(0x1aa)]),_0x5efa68=currentCoins[_0x5d18c4(0x26d)](_0x328a76=>_0x328a76[_0x5d18c4(0x1fe)]==config['basecoin']);if(_0x3bbdfd[_0x5d18c4(0x2cc)]>0x0){if(Math[_0x5d18c4(0x1e1)](_0x49b1f1[_0x5d18c4(0x218)])*_0x49b1f1[_0x5d18c4(0x1a5)]>_0x5efa68[_0x5d18c4(0x1ad)]-_0x3bbdfd[_0x5d18c4(0x2cc)])_0x191ee0=![];}else{if(Math['abs'](_0x49b1f1[_0x5d18c4(0x218)])*_0x49b1f1[_0x5d18c4(0x1a5)]>_0x5efa68[_0x5d18c4(0x1ad)])_0x191ee0=![];}}return _0x191ee0;}async function getBalances(){const _0x3fee61=_0x5923c6;let _0x139d8a=0x0,_0x3c9f92;const _0x3b9bdc=config[_0x3fee61(0x2a2)];if(config[_0x3fee61(0x267)]&&config[_0x3fee61(0x2b5)]<0x0)await validate24hChanges();currentCoins[_0x3fee61(0x2c1)](_0x47fbbd=>{const _0x2c491a=_0x3fee61;if(_0x47fbbd[_0x2c491a(0x1fe)]!=config[_0x2c491a(0x1aa)]){let _0x481eee=global[_0x2c491a(0x1fb)][noslash(_0x47fbbd[_0x2c491a(0x2c9)])];_0x3c9f92=_0x47fbbd[_0x2c491a(0x199)]?0x1/_0x481eee:_0x481eee;}else _0x3c9f92=0x1;let _0xd42685=_0x47fbbd[_0x2c491a(0x1ad)]*_0x3c9f92;_0x139d8a+=_0xd42685,_0x47fbbd[_0x2c491a(0x1a5)]=formatResult(Number(_0x3c9f92),0x8),_0x47fbbd[_0x2c491a(0x2ce)]=_0xd42685;}),currentCoins['forEach'](_0x527dd5=>{const _0x58c176=_0x3fee61;let _0x56c503=config[_0x58c176(0x273)][_0x58c176(0x26d)](_0x2979fe=>_0x2979fe[_0x58c176(0x1fe)]==_0x527dd5[_0x58c176(0x1fe)]),_0x55bfa0=Number(_0x56c503[_0x58c176(0x2b7)]),_0x417cf5=_0x527dd5[_0x58c176(0x2ce)]/_0x139d8a*0x64,_0x9ab5bc=_0x55bfa0*_0x139d8a/0x64/_0x527dd5['last']-_0x527dd5[_0x58c176(0x1ad)];_0x527dd5['distribution']=formatResult(_0x417cf5,0x3),_0x527dd5[_0x58c176(0x2d6)]=formatResult(_0x55bfa0,0x3),_0x527dd5['trade']=formatResult(_0x9ab5bc,0x8),_0x527dd5[_0x58c176(0x1fd)]='',_0x527dd5['valid']=![];if(_0x527dd5[_0x58c176(0x1fe)]!=config['basecoin']){if(_0x527dd5[_0x58c176(0x2b7)]>_0x55bfa0)_0x527dd5['side']=_0x58c176(0x24e),_0x527dd5['valid']=checkMinimums(_0x527dd5);else _0x527dd5[_0x58c176(0x2b7)]<_0x55bfa0&&(_0x527dd5[_0x58c176(0x1fd)]=_0x58c176(0x295),_0x527dd5['valid']=checkMinimums(_0x527dd5));}_0x527dd5['delta']=_0x527dd5['distribution']/_0x527dd5[_0x58c176(0x2d6)]-0x1;if(_0x527dd5[_0x58c176(0x205)]==_0x58c176(0x1b1)||_0x527dd5[_0x58c176(0x205)]=='canceled')_0x527dd5[_0x58c176(0x205)]=_0x58c176(0x1fa);}),currentCoins[_0x3fee61(0x241)]((_0x58a396,_0x4acdcb)=>_0x58a396[_0x3fee61(0x2c8)]<_0x4acdcb['delta']?0x1:_0x4acdcb[_0x3fee61(0x2c8)]<_0x58a396[_0x3fee61(0x2c8)]?-0x1:0x0);const _0x2cd6de=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2cd6de[_0x3fee61(0x190)],'usd':_0x2cd6de[_0x3fee61(0x251)],'portfolio':JSON[_0x3fee61(0x1de)](currentCoins),'threshold':_0x3b9bdc},proxyEmit(_0x3fee61(0x2b8),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x3fee61(0x267)])headlessMode({'portfolio':currentCoins,'threshold':_0x3b9bdc});else{if(lockOrders==ORDERS[_0x3fee61(0x1cc)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3b9bdc});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5b767f=_0x5923c6;if(!lastBalances)return;let _0xaee53a=[],_0x62717f,_0x370c5b=JSON[_0x5b767f(0x1bf)](lastBalances[_0x5b767f(0x273)]);_0x370c5b[_0x5b767f(0x241)]((_0xe29a24,_0x4c85f0)=>_0xe29a24['coin']>_0x4c85f0[_0x5b767f(0x1fe)]?0x1:_0x4c85f0[_0x5b767f(0x1fe)]>_0xe29a24[_0x5b767f(0x1fe)]?-0x1:0x0),_0x370c5b[_0x5b767f(0x2c1)](_0x49b0f5=>{const _0x38a67b=_0x5b767f;let _0x189342={'coin':_0x49b0f5[_0x38a67b(0x1fe)],'number':_0x49b0f5[_0x38a67b(0x1ad)],'price':_0x49b0f5[_0x38a67b(0x1a5)]};_0xaee53a[_0x38a67b(0x20d)](_0x189342);});const _0x4dae8a=await getFiat();_0x62717f={'date':lastBalances[_0x5b767f(0x25b)][_0x5b767f(0x262)]('\x20')[0x0],'eur':_0x4dae8a[_0x5b767f(0x190)],'usd':_0x4dae8a[_0x5b767f(0x251)],'coins':_0xaee53a};let _0x3de3db=dbPerformance[_0x5b767f(0x194)](_0x5b767f(0x21f))['find']({'date':_0x62717f[_0x5b767f(0x282)]})[_0x5b767f(0x2ce)]();_0x3de3db?_0x62717f[_0x5b767f(0x282)]!=config['startdate']&&dbPerformance['get']('data')['find']({'date':_0x62717f['date']})[_0x5b767f(0x20b)](_0x62717f)[_0x5b767f(0x187)]():dbPerformance[_0x5b767f(0x194)](_0x5b767f(0x21f))[_0x5b767f(0x20d)](_0x62717f)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0xcb3acb=_0x5923c6;let _0x538954=[];if(dbPerformance[_0xcb3acb(0x1f8)](_0xcb3acb(0x21f))['value']()){let _0x5103f8=dbPerformance[_0xcb3acb(0x194)](_0xcb3acb(0x21f))[_0xcb3acb(0x24c)]()['sortBy']('date')['value'](),_0x42edb9=[...config[_0xcb3acb(0x24b)]];_0x42edb9['sort']((_0x3d76df,_0x1aa1aa)=>_0x3d76df[_0xcb3acb(0x282)]>_0x1aa1aa['date']?-0x1:_0x1aa1aa[_0xcb3acb(0x282)]>_0x3d76df[_0xcb3acb(0x282)]?0x1:0x0);let _0x4b03ea=0x1,_0x4f3849=[],_0xaa21cd=0x0;_0x5103f8[_0xcb3acb(0x255)]()['reverse']()[_0xcb3acb(0x2c1)]((_0x3842f3,_0x44917c)=>{const _0x237550=_0xcb3acb;if(_0x42edb9[_0xaa21cd]){if(_0x5103f8[_0x5103f8['length']-_0x44917c]&&_0x42edb9[_0xaa21cd][_0x237550(0x282)]==_0x5103f8[_0x5103f8[_0x237550(0x2bb)]-_0x44917c][_0x237550(0x282)]){if(_0x44917c<_0x5103f8[_0x237550(0x2bb)]){let _0x19ba14=0x0,_0x654a55=0x0;_0x5103f8[_0x5103f8[_0x237550(0x2bb)]-_0x44917c]['coins'][_0x237550(0x2c1)](_0x1a3151=>{const _0xa6fe22=_0x237550;_0x654a55+=_0x1a3151[_0xa6fe22(0x1ad)]*_0x1a3151[_0xa6fe22(0x260)];}),_0x42edb9[_0xaa21cd][_0x237550(0x2b3)][_0x237550(0x2c1)](_0x501838=>{const _0x55bc1b=_0x237550;_0x19ba14+=_0x501838[_0x55bc1b(0x1ad)]*_0x501838['price'];}),_0x4b03ea*=_0x19ba14/(_0x654a55-_0x19ba14)+0x1;}_0xaa21cd++;}}let _0x332d1c=0x0;_0x3842f3[_0x237550(0x1d8)][_0x237550(0x2c1)](_0x7a2ac9=>{const _0x2977f3=_0x237550;_0x332d1c+=_0x7a2ac9[_0x2977f3(0x1ad)]*_0x7a2ac9[_0x2977f3(0x260)];}),_0x4f3849[_0x5103f8[_0x237550(0x2bb)]-_0x44917c-0x1]=_0x332d1c*(_0x4b03ea-0x1);});let _0x1550b5=[];_0x42edb9=[...config[_0xcb3acb(0x24b)]]||[];let _0x511862=0x0;_0xaa21cd=0x0,_0x5103f8['forEach']((_0x3de85a,_0x2d0db4)=>{const _0x3ecaaa=_0xcb3acb;if(_0x42edb9[_0xaa21cd]){const _0x44f44b=fns[_0x3ecaaa(0x1bf)](_0x42edb9[_0xaa21cd][_0x3ecaaa(0x282)],_0x3ecaaa(0x1b4),new Date()),_0x5eb4cc=fns[_0x3ecaaa(0x1bf)](_0x3de85a[_0x3ecaaa(0x282)],_0x3ecaaa(0x1b4),new Date());if(fns[_0x3ecaaa(0x2d5)](_0x44f44b,_0x5eb4cc)){let _0x289f74=0x0;_0x42edb9[_0xaa21cd]['changes'][_0x3ecaaa(0x2c1)](_0x50e124=>{const _0x513fa1=_0x3ecaaa;!_0x1550b5[_0x50e124[_0x513fa1(0x1fe)]]?_0x1550b5[_0x50e124['coin']]=_0x50e124[_0x513fa1(0x1ad)]:(_0x289f74=_0x1550b5[_0x50e124[_0x513fa1(0x1fe)]],_0x1550b5[_0x50e124['coin']]+=_0x50e124['number']);const _0x2505fa=_0x3de85a[_0x513fa1(0x1d8)][_0x513fa1(0x26d)](_0x4949d6=>_0x4949d6[_0x513fa1(0x1fe)]==_0x50e124[_0x513fa1(0x1fe)]);(!_0x2505fa||_0x2505fa[_0x513fa1(0x1ad)]==0x0)&&(_0x511862+=(-_0x50e124[_0x513fa1(0x1ad)]-_0x289f74)*_0x50e124['price']);}),_0xaa21cd++;}}_0x3de85a[_0x3ecaaa(0x1d8)][_0x3ecaaa(0x2c1)]((_0x3b254f,_0xa34c3c)=>{const _0x16194a=_0x3ecaaa;_0x1550b5[_0x3b254f['coin']]&&(_0x3b254f={..._0x3b254f,'initial':_0x1550b5[_0x3b254f['coin']]}),_0x3de85a[_0x16194a(0x1d8)][_0xa34c3c]=_0x3b254f;}),_0x538954[_0x3ecaaa(0x20d)]({'date':_0x3de85a['date'],'eur':_0x3de85a['eur'],'usd':_0x3de85a[_0x3ecaaa(0x251)],'offset':_0x4f3849[_0x2d0db4],'netoffset':_0x511862,'coins':_0x3de85a[_0x3ecaaa(0x1d8)]});});}return _0x538954;}function emitPerformance(_0xee8342){const _0x17a580=_0x5923c6;_0xee8342[_0x17a580(0x2bb)]!==0x0?(proxyEmit(_0x17a580(0x29e),_0xee8342),lastPerformanceEmitted=getDate()):proxyEmit(_0x17a580(0x29e),[]);}function getPerf(_0x2524f7,_0x3adc34){const _0x2a242f=_0x5923c6;let _0x1cde88=0x0,_0x1fbcb8=0x0,_0x573b7c=0x0;_0x2524f7['coins']['forEach'](_0x35ce01=>{const _0x210da9=_0x55f5;_0x1cde88+=_0x35ce01['number']*_0x35ce01[_0x210da9(0x260)];});_0x3adc34&&(_0x1cde88+=_0x2524f7[_0x2a242f(0x2cc)]);if(config[_0x2a242f(0x1aa)]===_0x2a242f(0x1b3)||config[_0x2a242f(0x1aa)]===_0x2a242f(0x23a))_0x1fbcb8=_0x1cde88*_0x2524f7[_0x2a242f(0x190)],_0x573b7c=_0x1cde88*_0x2524f7['usd'];else{if(config['basecoin']==='BUSD'||config['basecoin']==='USDT'||config['basecoin']===_0x2a242f(0x2cb))_0x1fbcb8=_0x1cde88*_0x2524f7[_0x2a242f(0x190)]/_0x2524f7[_0x2a242f(0x251)],_0x573b7c=_0x1cde88;else config[_0x2a242f(0x1aa)]===_0x2a242f(0x1ff)&&(_0x1fbcb8=_0x1cde88,_0x573b7c=_0x1cde88*_0x2524f7[_0x2a242f(0x251)]/_0x2524f7[_0x2a242f(0x190)]);}return[_0x1cde88,_0x1fbcb8,_0x573b7c];}function getKPIs(_0x234d94,_0x4a18df=_0x5923c6(0x1ff)){const _0x159e90=_0x5923c6,_0x460a83=config[_0x159e90(0x1aa)],_0x4d0e0e=config['balances'],_0x142104=currentCoins,_0x28d8e3=getNormalizedPerformance(),_0x26586e=_0x234d94===_0x159e90(0x1aa)?_0x460a83:_0x234d94===_0x159e90(0x1bc)||_0x234d94===_0x159e90(0x2bd)?_0x4a18df:_0x159e90(0x2c3)+_0x460a83,_0x1969ae=_0x234d94==='net-basecoin'?_0x159e90(0x253):_0x234d94==='net-fiat'?_0x159e90(0x24a)+_0x26586e+')':_0x26586e+'\x20value',_0x44befa=_0x234d94===_0x159e90(0x2ab)||_0x234d94==='net-fiat'?_0x159e90(0x253):_0x26586e+'\x20change';let _0x394ae2=0x0;_0x142104[_0x159e90(0x2c1)](_0x168087=>{const _0x2e3a77=_0x159e90;_0x394ae2+=_0x168087[_0x2e3a77(0x1ad)]*_0x168087[_0x2e3a77(0x1a5)];});if(_0x234d94===_0x159e90(0x1bc)||_0x234d94===_0x159e90(0x2bd)){if(_0x460a83===_0x159e90(0x1b3)||_0x460a83==='ETH')_0x394ae2=_0x394ae2*(_0x4a18df===_0x159e90(0x1ff)?_0x4d0e0e['eur']:_0x4d0e0e['usd']);else{if(_0x460a83===_0x159e90(0x297)||_0x460a83===_0x159e90(0x280)||_0x460a83===_0x159e90(0x2cb))_0x394ae2=_0x394ae2*(_0x4a18df==='EUR'?_0x4d0e0e['eur']/_0x4d0e0e[_0x159e90(0x251)]:0x1);else _0x460a83===_0x159e90(0x1ff)&&(_0x394ae2=_0x394ae2*(_0x4a18df===_0x159e90(0x1ff)?0x1:_0x4d0e0e[_0x159e90(0x251)]/_0x4d0e0e[_0x159e90(0x190)]));}}let _0x7b6873;if(_0x394ae2!==0x0){if(_0x234d94==='basecoin')_0x7b6873=(_0x394ae2/startingBalances[_0x159e90(0x1aa)]-0x1)*0x64;else{if(_0x4a18df==='EUR')_0x7b6873=(_0x394ae2/startingBalances[_0x159e90(0x190)]-0x1)*0x64;else _0x7b6873=(_0x394ae2/startingBalances[_0x159e90(0x251)]-0x1)*0x64;}let _0x5caf58=0x0;if(startingBalances[_0x159e90(0x1d8)])_0x142104[_0x159e90(0x2c1)](_0x29e22e=>{const _0x1597da=_0x159e90;let _0x12744a=startingBalances[_0x1597da(0x1d8)][_0x1597da(0x26d)](_0x471fae=>_0x471fae[_0x1597da(0x1fe)]===_0x29e22e['coin']);if(_0x12744a&&_0x12744a[_0x1597da(0x1fe)]&&_0x29e22e['number']!==0x0)_0x5caf58+=_0x12744a[_0x1597da(0x1ad)]*_0x29e22e[_0x1597da(0x1a5)];});let _0x2541f6=0x0;if(_0x28d8e3['length']!==0x0){let _0x5c450d=_0x28d8e3[_0x28d8e3['length']-0x1];_0x2541f6=_0x5c450d['netoffset'];}_0x5caf58-=_0x2541f6;_0x234d94===_0x159e90(0x2ab)&&(_0x7b6873=(_0x394ae2-_0x5caf58)/startingBalances[_0x159e90(0x1aa)]*0x64,_0x394ae2=_0x394ae2-_0x5caf58);if(_0x234d94===_0x159e90(0x2bd)){let _0x18bbff=_0x4a18df===_0x159e90(0x1ff)?startingBalances['eur']:startingBalances['usd'];if(_0x460a83==='BTC'||_0x460a83==='ETH')_0x5caf58=_0x4a18df===_0x159e90(0x1ff)?_0x5caf58*_0x4d0e0e['eur']:_0x5caf58*_0x4d0e0e['usd'];else{if(_0x460a83===_0x159e90(0x297)||_0x460a83===_0x159e90(0x280)||_0x460a83===_0x159e90(0x2cb))_0x5caf58=_0x4a18df===_0x159e90(0x1ff)?_0x5caf58*_0x4d0e0e['eur']/_0x4d0e0e['usd']:_0x5caf58;else _0x460a83===_0x159e90(0x1ff)&&(_0x5caf58=_0x4a18df===_0x159e90(0x1ff)?_0x5caf58:_0x5caf58*_0x4d0e0e[_0x159e90(0x251)]/_0x4d0e0e[_0x159e90(0x190)]);}_0x7b6873=(_0x394ae2-_0x5caf58)/_0x18bbff*0x64,_0x394ae2=_0x394ae2-_0x5caf58;}if(_0x7b6873){if(_0x7b6873<0x64)_0x7b6873=_0x7b6873[_0x159e90(0x2dc)](0x2);else{if(_0x7b6873<0x3e8)_0x7b6873=_0x7b6873[_0x159e90(0x2dc)](0x1);else _0x7b6873=_0x7b6873[_0x159e90(0x2dc)](0x0);}}else _0x7b6873=Number('0')[_0x159e90(0x2dc)](0x2);if(_0x394ae2){if(Math[_0x159e90(0x1e1)](_0x394ae2)<0.000001)_0x394ae2=_0x394ae2['toFixed'](0x2);else{if(Math[_0x159e90(0x1e1)](_0x394ae2)<0.1)_0x394ae2=_0x394ae2['toFixed'](0x6);else{if(Math[_0x159e90(0x1e1)](_0x394ae2)<0x1)_0x394ae2=_0x394ae2[_0x159e90(0x2dc)](0x5);else{if(Math[_0x159e90(0x1e1)](_0x394ae2)<0xa)_0x394ae2=_0x394ae2[_0x159e90(0x2dc)](0x4);else{if(Math[_0x159e90(0x1e1)](_0x394ae2)<0x64)_0x394ae2=_0x394ae2[_0x159e90(0x2dc)](0x3);else{if(Math[_0x159e90(0x1e1)](_0x394ae2)<0x3e8)_0x394ae2=_0x394ae2[_0x159e90(0x2dc)](0x2);else _0x394ae2=_0x394ae2[_0x159e90(0x2dc)](0x2);}}}}}}else _0x394ae2=Number('0')[_0x159e90(0x2dc)](0x2);}else _0x7b6873=Number('0')[_0x159e90(0x2dc)](0x2);return{'value':_0x394ae2,'change':_0x7b6873,'leftTxt':_0x1969ae,'rightTxt':_0x44befa};}async function getStartingBalances(_0x4c10c0,_0x354915=!![]){const _0xe8f143=_0x5923c6;if(_0x4c10c0[_0xe8f143(0x2bb)]!==0x0){const [_0x47c26c,_0x15f626,_0x21def0]=getPerf(_0x4c10c0[0x0],!![]);let _0xec729c=[];config[_0xe8f143(0x273)][_0xe8f143(0x2c1)](_0x160947=>{const _0x353c8a=_0xe8f143;let _0x576574=0x0,_0x188ca3;config[_0x353c8a(0x24b)][_0x353c8a(0x2c1)](_0x1905f1=>{const _0x16bf52=_0x353c8a;let _0x29da55=_0x1905f1[_0x16bf52(0x2b3)][_0x16bf52(0x26d)](_0x44cede=>_0x44cede[_0x16bf52(0x1fe)]==_0x160947[_0x16bf52(0x1fe)]);if(_0x29da55){_0x576574+=_0x29da55[_0x16bf52(0x1ad)];if(!_0x188ca3)_0x188ca3=_0x29da55[_0x16bf52(0x260)];}}),_0xec729c[_0x353c8a(0x20d)]({'coin':_0x160947[_0x353c8a(0x1fe)],'number':_0x576574,'initialprice':_0x188ca3});});const _0x4fc252={'basecoin':_0x47c26c,'eur':_0x15f626,'usd':_0x21def0,'coins':_0xec729c};if(_0x354915)proxyEmit(_0xe8f143(0x269),_0x4fc252);startingBalances=_0x4fc252;}}function _0x55f5(_0x5d9d85,_0x5a021b){const _0x1e9b96=_0x3ea3();return _0x55f5=function(_0x41ff79,_0x518718){_0x41ff79=_0x41ff79-0x184;let _0x3ea3d3=_0x1e9b96[_0x41ff79];return _0x3ea3d3;},_0x55f5(_0x5d9d85,_0x5a021b);}function headlessMode(_0x5b7d6e){const _0x4b3439=_0x5923c6;let _0x80b593=_0x5b7d6e[_0x4b3439(0x273)],_0x401086=_0x5b7d6e[_0x4b3439(0x2a2)],_0x5aa816=[];for(let _0x44d480 of _0x80b593){if(_0x44d480[_0x4b3439(0x1fe)]!=config[_0x4b3439(0x1aa)]){if(_0x44d480[_0x4b3439(0x2c8)]>=_0x401086/0x64){if(_0x44d480[_0x4b3439(0x1d4)])_0x5aa816['push'](_0x44d480);}else{if(_0x44d480[_0x4b3439(0x2c8)]<=-_0x401086/0x64){if(_0x44d480[_0x4b3439(0x1d4)])_0x5aa816[_0x4b3439(0x20d)](_0x44d480);}}}}_0x5aa816[_0x4b3439(0x2bb)]>0x0&&placeOrder(_0x5aa816);}function notifyBalance(_0x4b0862){const _0x89e750=_0x5923c6;let _0x45ce31=_0x4b0862['portfolio'],_0x235576=_0x4b0862[_0x89e750(0x2a2)],_0x321e7c=[];for(let _0x63c35e of _0x45ce31){if(_0x63c35e[_0x89e750(0x1fe)]!=config['basecoin']){if(_0x63c35e[_0x89e750(0x2c8)]>=_0x235576/0x64){if(_0x63c35e['valid'])_0x321e7c[_0x89e750(0x20d)](_0x63c35e);}else{if(_0x63c35e['delta']<=-_0x235576/0x64){if(_0x63c35e[_0x89e750(0x1d4)])_0x321e7c[_0x89e750(0x20d)](_0x63c35e);}}}}if(_0x321e7c[_0x89e750(0x2bb)]>0x0){let _0x12b562=_0x321e7c['map'](_0x8559e5=>_0x8559e5[_0x89e750(0x1fe)]);_0x12b562[_0x89e750(0x241)]();let _0x3a096d=_0x12b562[_0x89e750(0x26f)](',\x20');if(!lastCoinsToBalance)logHistory(_0x89e750(0x1f4),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x3a096d;}}function symbolToCoin(_0x51b47d){const _0x286f65=_0x5923c6;let _0xa37dbd;if(_0x51b47d[_0x286f65(0x1d6)]('/'+config[_0x286f65(0x1aa)]))_0xa37dbd=_0x51b47d[_0x286f65(0x223)]('/'+config[_0x286f65(0x1aa)],'');if(_0x51b47d['includes'](config[_0x286f65(0x1aa)]+'/'))_0xa37dbd=_0x51b47d['replace'](config['basecoin']+'/','');return _0xa37dbd;}async function unlockOrders(){const _0x10b879=_0x5923c6;if(allOrdersPlaced&&lockOrders==ORDERS[_0x10b879(0x19c)]){logger[_0x10b879(0x1f6)](_0x10b879(0x2c6)),lockOrders=ORDERS[_0x10b879(0x239)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x10b879(0x1cc)],logger[_0x10b879(0x1f6)](_0x10b879(0x1ab));}}async function validateOrders(_0x51bf9b){const _0x2d7c31=_0x5923c6;if(_0x51bf9b)validateOrdersState=_0x51bf9b;logger['debug'](_0x2d7c31(0x1f7)+validateOrdersState+_0x2d7c31(0x270)+(lockOrders==0x1?_0x2d7c31(0x28c):lockOrders==0x2?'ORDERS.UNLOCKING':_0x2d7c31(0x272)));let _0x12a2e0=[],_0x28789c=config[_0x2d7c31(0x257)]==_0x2d7c31(0x1e8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2d7c31(0x27f)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2d7c31(0x19c)])return;logger[_0x2d7c31(0x1f6)](_0x2d7c31(0x299)+validateOrdersState),lastOrders[_0x2d7c31(0x2c1)](_0x1ae3d4=>{const _0x1d69a0=_0x2d7c31;let _0x3b84e7=![];_0x1ae3d4['filled']>0x0&&(_0x3b84e7=!![]),_0x12a2e0['push'](_0x3b84e7),_0x3b84e7&&config[_0x1d69a0(0x257)]!=_0x1d69a0(0x1e8)&&logHistory(_0x1d69a0(0x2d3),_0x1d69a0(0x2a4)+_0x1ae3d4[_0x1d69a0(0x2c9)]+'\x20'+_0x1ae3d4['side']+'\x20#'+formatResult(_0x1ae3d4['filled'],0x8)+'\x20@'+formatResult(_0x1ae3d4['price'],0x8));}),_0x12a2e0[_0x2d7c31(0x2c1)]((_0x3bac20,_0x526b93)=>{if(_0x3bac20)lastOrders['splice'](_0x526b93,0x1);}),persistOpenOrders(lastOrders);const _0x524510=coolingDown?_0x2d7c31(0x2ad):_0x2d7c31(0x2d0);if(validateOrdersState=='initial')validateOrdersState='ongoing',_0x12a2e0[_0x2d7c31(0x1d6)](![])?config['ordertype']=='market'?logHistory('warning',_0x2d7c31(0x298)):logHistory('warning',_0x2d7c31(0x1b0)):await unlockOrders();else{if(validateOrdersState==_0x2d7c31(0x28e)){if(_0x12a2e0[_0x2d7c31(0x1d6)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x2d7c31(0x1e8)?logHistory(_0x2d7c31(0x22d),_0x2d7c31(0x288)+_0x524510):logHistory(_0x2d7c31(0x22d),_0x2d7c31(0x203)+_0x524510),await unlockOrders());}else{if(validateOrdersState==_0x2d7c31(0x2be))_0x12a2e0[_0x2d7c31(0x1d6)](![])&&(config[_0x2d7c31(0x257)]==_0x2d7c31(0x1e8)?logHistory(_0x2d7c31(0x22d),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x2d7c31(0x1d7)](_0x28789c*validateOrderInterval/0xea60)+_0x2d7c31(0x1d9)+_0x524510):(await cancelOrders(),logHistory(_0x2d7c31(0x22d),_0x2d7c31(0x1c2)+Math['round'](_0x28789c*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x524510))),await unlockOrders();else{if(validateOrdersState==_0x2d7c31(0x2c2)){if(config[_0x2d7c31(0x257)]!=_0x2d7c31(0x1e8))logHistory(_0x2d7c31(0x22d),_0x2d7c31(0x1cb)+_0x524510);await unlockOrders();}}}}}async function cancelOrders(){const _0x336d4d=_0x5923c6;lastOrders[_0x336d4d(0x2c1)](async _0x537fca=>{const _0x48c560=_0x336d4d;try{const _0x17c17a=await exchange[_0x48c560(0x21e)](_0x537fca[_0x48c560(0x2cd)],_0x537fca['symbol']);}catch(_0x1dbfdc){if(_0x1dbfdc[_0x48c560(0x24d)]()[_0x48c560(0x1d6)](_0x48c560(0x21c))){}else await handleError(_0x1dbfdc,_0x48c560(0x29c));}});}async function initCoinResults(){const _0x1cdbca=_0x5923c6;let _0x5d843f=[];config[_0x1cdbca(0x273)][_0x1cdbca(0x2c1)](_0x3499dc=>{const _0x15f25a=_0x1cdbca;if(!_0x3499dc[_0x15f25a(0x284)]&&_0x3499dc[_0x15f25a(0x1fe)]!=config[_0x15f25a(0x1aa)]){let _0x19f740=dbCoinResults[_0x15f25a(0x194)]('coins')['find']({'coin':_0x3499dc[_0x15f25a(0x1fe)]})[_0x15f25a(0x2ce)]();if(!_0x19f740){const _0x3a75dd=currentCoins[_0x15f25a(0x26d)](_0x19b6bc=>_0x19b6bc[_0x15f25a(0x1fe)]==_0x3499dc[_0x15f25a(0x1fe)]),_0x565065=global[_0x15f25a(0x1fb)][noslash(_0x3499dc[_0x15f25a(0x2c9)])];let _0x5f1b1e=_0x3a75dd?_0x3a75dd[_0x15f25a(0x1ad)]:null,_0x11273e=_0x3499dc[_0x15f25a(0x199)]?0x1/_0x565065:_0x565065,_0x5f0c3d;config['liquidity'][_0x15f25a(0x2c1)](_0x422d6e=>{const _0x5894a1=_0x15f25a;!_0x5f0c3d&&(_0x5f0c3d=_0x422d6e[_0x5894a1(0x2b3)]['find'](_0x4d7484=>_0x4d7484['coin']==_0x3499dc[_0x5894a1(0x1fe)]),_0x5f0c3d&&(_0x5f1b1e=_0x5f0c3d['number'],_0x11273e=_0x5f0c3d[_0x5894a1(0x260)]));}),_0x5d843f[_0x15f25a(0x20d)]({'coin':_0x3499dc[_0x15f25a(0x1fe)],'number':_0x5f1b1e,'price':_0x11273e});}}}),_0x5d843f[_0x1cdbca(0x2c1)](_0x47db93=>{const _0x5e79c7=_0x1cdbca,_0x221905={'coin':_0x47db93[_0x5e79c7(0x1fe)],'number':_0x47db93[_0x5e79c7(0x1ad)],'breakeven':_0x47db93['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5e79c7(0x194)](_0x5e79c7(0x1d8))[_0x5e79c7(0x20d)](_0x221905)['write']();});}async function updateCoinResults(_0x15e263,_0x141c1e=![]){const _0x2676f8=_0x5923c6;let _0x54b006,_0x2bb1fd,_0x555450,_0x3493af,_0x1dc039,_0x4ab78a,_0x54386d=dbCoinResults[_0x2676f8(0x194)](_0x2676f8(0x1d8))['find']({'coin':_0x15e263[_0x2676f8(0x1fe)]})[_0x2676f8(0x2ce)]();!_0x54386d&&await initCoinResults();_0x15e263[_0x2676f8(0x199)]&&(_0x4ab78a={'filled':_0x15e263[_0x2676f8(0x1b1)]*_0x15e263[_0x2676f8(0x260)],'amount':_0x15e263[_0x2676f8(0x1b1)]*_0x15e263[_0x2676f8(0x260)],'side':_0x15e263[_0x2676f8(0x1fd)]==_0x2676f8(0x24e)?_0x2676f8(0x295):'sell','price':0x1/_0x15e263[_0x2676f8(0x260)]},_0x15e263={..._0x15e263,..._0x4ab78a});_0x141c1e?_0x2bb1fd=_0x15e263[_0x2676f8(0x1fd)]==_0x2676f8(0x295)?_0x54386d[_0x2676f8(0x1ad)]+_0x15e263[_0x2676f8(0x1b1)]:_0x54386d[_0x2676f8(0x1ad)]-_0x15e263[_0x2676f8(0x1b1)]:_0x2bb1fd=await getCoinNumber(_0x15e263[_0x2676f8(0x1fe)]);if(_0x15e263[_0x2676f8(0x263)]&&_0x15e263['fee']['currency']==config['basecoin'])_0x54b006=_0x15e263['fee'][_0x2676f8(0x23b)];else{if(_0x15e263['fee']&&_0x15e263[_0x2676f8(0x263)][_0x2676f8(0x1d3)]=='BNB'&&!_0x141c1e)_0x54b006=_0x15e263[_0x2676f8(0x263)]['cost']*global[_0x2676f8(0x1fb)][_0x2676f8(0x1a2)+config[_0x2676f8(0x1aa)]];else _0x54b006=defaultFee*_0x15e263[_0x2676f8(0x1b1)]*_0x15e263['price'];}_0x15e263[_0x2676f8(0x1fd)]==_0x2676f8(0x295)?(_0x555450=_0x2bb1fd!=0x0?(_0x54386d['breakeven']*_0x54386d[_0x2676f8(0x1ad)]+_0x15e263['price']*(_0x2bb1fd-_0x54386d[_0x2676f8(0x1ad)])+_0x54b006)/_0x2bb1fd:0x0,_0x3493af=_0x54386d[_0x2676f8(0x1a0)]):(_0x555450=_0x2bb1fd!=0x0?(_0x54386d[_0x2676f8(0x1c9)]*_0x54386d[_0x2676f8(0x1ad)]-_0x15e263[_0x2676f8(0x260)]*(_0x54386d[_0x2676f8(0x1ad)]-_0x2bb1fd)+_0x54b006)/_0x2bb1fd:0x0,_0x3493af=_0x54386d['realized']+(_0x15e263[_0x2676f8(0x260)]-_0x54386d[_0x2676f8(0x1c9)])*_0x15e263[_0x2676f8(0x1b1)]);_0x1dc039=(_0x15e263[_0x2676f8(0x260)]-_0x555450-_0x54b006/_0x15e263[_0x2676f8(0x1b1)])*_0x2bb1fd;let _0x1a7e3e={'coin':_0x15e263[_0x2676f8(0x1fe)],'number':_0x2bb1fd,'breakeven':formatResult(_0x555450,0x8),'realized':formatResult(_0x3493af,0x8),'unrealized':formatResult(_0x1dc039,0x8),'fees':formatResult(_0x54386d['fees']+_0x54b006,0x8),'sells':_0x15e263['side']==_0x2676f8(0x24e)?_0x54386d[_0x2676f8(0x227)]+0x1:_0x54386d[_0x2676f8(0x227)],'buys':_0x15e263[_0x2676f8(0x1fd)]=='buy'?_0x54386d['buys']+0x1:_0x54386d[_0x2676f8(0x279)]};dbCoinResults['get'](_0x2676f8(0x1d8))[_0x2676f8(0x26d)]({'coin':_0x15e263[_0x2676f8(0x1fe)]})[_0x2676f8(0x20b)](_0x1a7e3e)['write']();if(!_0x141c1e){if(_0x15e263[_0x2676f8(0x263)]&&_0x15e263[_0x2676f8(0x263)][_0x2676f8(0x1d3)]==_0x2676f8(0x1a2)){const _0x26d3ad=currentCoins[_0x2676f8(0x26d)](_0x1d6a46=>_0x1d6a46[_0x2676f8(0x1fe)]==_0x2676f8(0x1a2));if(_0x26d3ad){let _0x1dd685=dbCoinResults[_0x2676f8(0x194)]('coins')['find']({'coin':_0x2676f8(0x1a2)})[_0x2676f8(0x2ce)]();_0x1a7e3e={..._0x1dd685,'number':_0x26d3ad['number']},dbCoinResults[_0x2676f8(0x194)](_0x2676f8(0x1d8))[_0x2676f8(0x26d)]({'coin':_0x2676f8(0x1a2)})[_0x2676f8(0x20b)](_0x1a7e3e)[_0x2676f8(0x187)]();}}}}async function placeOrder(_0xa8873f){const _0x1b798f=_0x5923c6,_0x21ba65=config[_0x1b798f(0x257)]==_0x1b798f(0x1e8)?_0x1b798f(0x1e8):_0x1b798f(0x2c5);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x1b798f(0x19c)],allOrdersPlaced=![],validateOrdersState=_0x1b798f(0x238),lastOrders=[];for(const _0x66a9d2 of _0xa8873f){let _0x3a59a9,_0x1485e0,_0x33c258,_0x23a38b,_0x4dafd8,_0x130558=_0x66a9d2[_0x1b798f(0x2c9)];try{const _0x371417=await exchange[_0x1b798f(0x294)](_0x130558);_0x3a59a9=_0x66a9d2[_0x1b798f(0x199)]?0x1/_0x66a9d2[_0x1b798f(0x1a5)]:_0x66a9d2[_0x1b798f(0x1a5)],_0x1485e0=_0x371417[_0x1b798f(0x2dd)],_0x33c258=_0x371417['ask'];_0x66a9d2[_0x1b798f(0x199)]?(_0x23a38b=_0x66a9d2[_0x1b798f(0x1fd)]==_0x1b798f(0x295)?_0x1b798f(0x24e):_0x1b798f(0x295),_0x4dafd8=Math[_0x1b798f(0x1e1)](_0x66a9d2[_0x1b798f(0x218)])/_0x3a59a9):(_0x23a38b=_0x66a9d2[_0x1b798f(0x1fd)],_0x4dafd8=Math['abs'](_0x66a9d2[_0x1b798f(0x218)]));_0x21ba65=='limit'&&(config[_0x1b798f(0x257)]=='limit-high'&&(_0x3a59a9=_0x23a38b==_0x1b798f(0x295)?_0x1485e0:_0x33c258),config[_0x1b798f(0x257)]==_0x1b798f(0x292)&&(_0x3a59a9=_0x23a38b==_0x1b798f(0x295)?_0x33c258:_0x1485e0));_0x4dafd8=formatResult(_0x4dafd8,0x8),_0x3a59a9=formatResult(_0x3a59a9,0x8);const _0x2c9119=_0x23a38b==_0x1b798f(0x24e)?config[_0x1b798f(0x196)]?String[_0x1b798f(0x2b0)]('0x'+config[_0x1b798f(0x196)])+'\x20':'':config[_0x1b798f(0x2a6)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x2b8ce2=_0x21ba65==_0x1b798f(0x1e8)?'Market':config[_0x1b798f(0x257)]==_0x1b798f(0x277)?'Limit\x20(high-margin)':_0x1b798f(0x20f),_0x2787b3=new Date()[_0x1b798f(0x1b2)]()[_0x1b798f(0x24d)]()[_0x1b798f(0x255)](-0x6)+'-'+Math[_0x1b798f(0x285)]()['toString']()[_0x1b798f(0x255)](-0x6);lastOrders[_0x1b798f(0x20d)]({'customId':_0x2787b3,'symbol':_0x130558,'coin':_0x66a9d2[_0x1b798f(0x1fe)],'side':_0x23a38b,'reverse':_0x66a9d2[_0x1b798f(0x199)],'filled':0x0});if(_0x21ba65==_0x1b798f(0x1e8))logHistory('order',''+_0x2c9119+_0x2b8ce2+'\x20order:\x20'+_0x130558+'\x20'+_0x23a38b+'\x20#'+formatResult(_0x4dafd8,0x8)+'\x20@'+formatResult(_0x3a59a9,0x8));else logHistory('order',''+_0x2c9119+_0x2b8ce2+_0x1b798f(0x189)+_0x130558+'\x20'+_0x23a38b+'\x20#'+formatResult(_0x4dafd8,0x8)+'\x20@'+formatResult(_0x3a59a9,0x8));const _0x49a752=await exchange[_0x1b798f(0x22a)](_0x130558,_0x21ba65,_0x23a38b,_0x4dafd8,_0x3a59a9,{'clientOrderId':_0x2787b3}),_0x5dbb66=lastOrders['length']-0x1;_0x5dbb66>=0x0&&lastOrders[_0x5dbb66]['customId']==_0x2787b3&&(lastOrders[_0x5dbb66]={...lastOrders[_0x5dbb66],'orderId':_0x49a752['id'],'amount':_0x49a752[_0x1b798f(0x247)],'price':_0x49a752[_0x1b798f(0x260)],'fee':_0x49a752[_0x1b798f(0x263)]});if(config[_0x1b798f(0x259)]!=0x0){let _0x3acdd9=null;if(cooldownTracker[_0x1b798f(0x2bb)]==config['cooldown']-0x1)_0x3acdd9=cooldownTracker[_0x1b798f(0x28f)]();const _0x35c533=getTimeStamp();cooldownTracker['push'](_0x35c533);if(_0x3acdd9){const _0x3c1bb1=fns[_0x1b798f(0x2ac)](new Date(_0x35c533),new Date(_0x3acdd9));if(_0x3c1bb1<cooldownInterval){logHistory('error','Executed\x20'+config[_0x1b798f(0x259)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x3db522){if(_0x3db522[_0x1b798f(0x24d)]()[_0x1b798f(0x1d6)]('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x2bb16e=>_0x2bb16e[_0x1b798f(0x2c9)]!=_0x130558),logHistory(_0x1b798f(0x254),_0x1b798f(0x23e)+_0x130558);else _0x3db522[_0x1b798f(0x24d)]()[_0x1b798f(0x1d6)](_0x1b798f(0x1bb))?(lastOrders=lastOrders[_0x1b798f(0x217)](_0x9deb30=>_0x9deb30[_0x1b798f(0x2c9)]!=_0x130558),logHistory('error',_0x1b798f(0x23d)+_0x130558)):(lastOrders=lastOrders[_0x1b798f(0x217)](_0x54295c=>_0x54295c[_0x1b798f(0x2c9)]!=_0x130558),await handleError(_0x3db522,'placeOrder()',_0x130558));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x1652a4=config['ordertype']==_0x1b798f(0x1e8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xaa16fd=_0x1b798f;validateOrders(_0xaa16fd(0x2be));},_0x1652a4);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x1b798f(0x20c)));}else{if(coolingDown)!config[_0x1b798f(0x267)]&&logHistory(_0x1b798f(0x254),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x1b798f(0x1cc)]&&(!config['headless']&&(config[_0x1b798f(0x257)]==_0x1b798f(0x1e8)?logHistory(_0x1b798f(0x254),_0x1b798f(0x266)):logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x1b4c50){const _0x4019a2=_0x5923c6,_0x4dc2c9={...config,'openOrders':_0x1b4c50};let _0x288083=dbConfig['get'](_0x4019a2(0x286))[_0x4019a2(0x26d)]({'botID':botID})[_0x4019a2(0x2ce)]();_0x288083&&dbConfig[_0x4019a2(0x194)](_0x4019a2(0x286))[_0x4019a2(0x26d)]({'botID':botID})[_0x4019a2(0x20b)](_0x4dc2c9)['write']();}function restoreOrders(){const _0x20d945=_0x5923c6;let _0x27b715;config[_0x20d945(0x1f5)]&&allOpenOrders[_0x20d945(0x2c1)](_0x5a0fa3=>{const _0x26beaa=_0x20d945,_0x177519=config[_0x26beaa(0x1f5)][_0x26beaa(0x26d)](_0x529c46=>_0x529c46[_0x26beaa(0x2cd)]==_0x5a0fa3['id']);_0x177519&&(lastOrders['push'](_0x177519),_0x27b715=_0x5a0fa3[_0x26beaa(0x209)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x20d945(0x19c)],validateOrdersState=_0x20d945(0x28e),allOrdersPlaced=!![];const _0x1a1a50=new Date()[_0x20d945(0x1b2)](),_0x2449e3=config[_0x20d945(0x257)]==_0x20d945(0x1e8)?validateOrderTimeout*0x3c*0x3e8:config[_0x20d945(0x27f)]*0x3c*0x3e8;if(_0x27b715+_0x2449e3>_0x1a1a50){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x27b715+_0x2449e3-_0x1a1a50);}else validateOrders(_0x20d945(0x2be));}}async function sendPortfolioTelegram(){const _0x23aa65=_0x5923c6;if(!coinsLoaded){process[_0x23aa65(0x19f)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0xb7e8d0=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x29c24e=[_0x23aa65(0x1ff),'USD',_0x23aa65(0x297),_0x23aa65(0x280)],_0x4c8a5e=_0x29c24e[_0x23aa65(0x1d6)](config[_0x23aa65(0x1aa)])?0x2:0x8;let _0x5a7c0a='';if(config['showname'])_0x5a7c0a=_0x23aa65(0x27e)+config[_0x23aa65(0x1ee)]+_0x23aa65(0x1eb);else _0x5a7c0a=_0x23aa65(0x1dd)+botID+_0x23aa65(0x1eb);const _0x3139f5=getKPIs(_0x23aa65(0x1aa)),_0x393c34=getKPIs(_0x23aa65(0x2ab));_0x5a7c0a+=_0x23aa65(0x1b8),_0x5a7c0a+=_0x3139f5[_0x23aa65(0x26e)]+'\x20:\x20'+_0x3139f5[_0x23aa65(0x2ce)]+'\x20\x0a',_0x5a7c0a+=_0x3139f5['rightTxt']+':\x20'+_0x3139f5[_0x23aa65(0x198)]+_0x23aa65(0x2a0),_0x5a7c0a+=_0x393c34[_0x23aa65(0x26e)]+':\x20'+_0x393c34['value']+'\x20'+config['basecoin']+'\x0a',_0x5a7c0a+=_0x393c34[_0x23aa65(0x22e)]+':\x20'+_0x393c34[_0x23aa65(0x198)]+_0x23aa65(0x2a0),_0x5a7c0a+='\x0a',_0x5a7c0a+=_0x23aa65(0x1ec),_0x5a7c0a+=_0x23aa65(0x2aa),_0x5a7c0a+=_0x23aa65(0x1ec),currentCoins[_0x23aa65(0x2c1)](_0x10eeb2=>{const _0x2e35ac=_0x23aa65;_0x5a7c0a+=_0x10eeb2[_0x2e35ac(0x1fe)][_0x2e35ac(0x271)](0x7)+'|\x20'+formatPad(_0x10eeb2['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x10eeb2[_0x2e35ac(0x2d6)],0x2,0x6)+'|\x20'+formatPad(_0x10eeb2[_0x2e35ac(0x2c8)]*0x64,0x2,0x6)+'\x0a';}),_0x5a7c0a+=_0x23aa65(0x26a),process['send']({'telegrammsg':_0x5a7c0a},_0x25952a=>{});}function _0x3ea3(){const _0x5dd96e=['getSeconds','date','progress','excluded','random','bot','close','Order(s)\x20validated\x20-\x20','Crypt','cancelLoading','getCoins()','ORDERS.LOCKED','406715pedtGH','ongoing','shift','event-history','\x20API\x20secret\x20is\x20invalid','limit-low','startnumber','fetchTicker','buy','limits','BUSD','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','2\x20-\x20Validate\x20orders:\x20','2\x20-\x20FILLED\x20unknown\x20order:\x20','InsufficientFunds','cancelOrders()','sha256','performance','DAI/','%\x20\x0a','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','threshold','118644kvCDYM','Order\x20filled:\x20','substring','emojibuy','canceled','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','getFullYear','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','net-basecoin','differenceInSeconds','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20not\x20available','toLowerCase','fromCodePoint','mkdirSync','logs','changes','-events.json','change24h','(((.+)+)+)+$','distribution','balances','bb-settings.json','XEM/BUSD','length','getMinutes','net-fiat','final','log','settings','forEach','no\x20open\x20orders','Net\x20','storeConfiguration','limit','1\x20-\x20Unlock\x20orders','placeOrder','delta','symbol','message','USD','offset','orderId','value','3\x20-\x20handling\x20FILLED\x20order:\x20','balancing\x20resumed','botID','1\x20-\x20Handle\x20open\x20orders','order','440432EDdbik','isEqual','target','***','decrypt','function','getHours','NANO/','toFixed','bid','constructor','createWriteStream','customId','write','cancel','\x20order:\x20','page','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','getPortfolio()','running','1440765RwKbDd','restart','eur','toggleBotMode','-config.json','argv','get','2\x20-\x20Handled\x20open\x20orders','emojisell','RSA-OAEP','change','reverse','set','simple','LOCKED','\x20not\x20responding','showname','send','realized','Binance','BNB','total','min','last','remove','./version.json','\x20>\x20[DEBUG]\x20','defaults','basecoin','2\x20-\x20Orders\x20unlocked','HOT/BTC','number','InvalidNonce','1etybWg','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','filled','getTime','BTC','yyyy/MM/dd','recovery','16890GljEpL','\x20API\x20blocked\x20(DDoS\x20protection)','<pre>','existsSync','startprice','Invalid\x20quantity','fiat','indexOf','./config/','parse','freeze','\x20-\x20bot\x20not\x20started','Unfilled\x20order(s)\x20canceled\x20after\x20','AuthenticationError','apiKey','yyyy-MM-dd\x27T\x27HH:mm:ss','1\x20-\x20FILLED:\x20','ExchangeNotAvailable','2.3.5','breakeven','pro','No\x20more\x20open\x20orders\x20-\x20','UNLOCKED','status','Pausing\x20for\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','timer:','event','lowdb','currency','valid','format','includes','round','coins','\x20minutes\x20-\x20','50pufVRv','Bot\x20','./logs/','<b>Bot\x20','stringify','getPortfolio','uncaughtException','abs','padStart','2.6.0','deleteHistoryAlerts','emitHistory','getMonth','configuration','market','startdate','2\x20-\x20FILLED\x20known\x20order:\x20','\x20portfolio:</b>\x20\x0a\x0a','-------------------------------\x0a','test','botname','Reset\x20|\x20','loadSymbols()','bb-secure.json','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','2.5.0','warning','openOrders','debug','1\x20-\x20Validate\x20orders:\x20','has','-results.json','none','ticker','timeshift','side','coin','EUR','util','getDate',':\x20Bot\x20','Order(s)\x20filled\x20-\x20','percentage','orderstatus','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','\x20API\x20key\x20is\x20invalid','search','timestamp','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','assign','Cooldown\x20ended\x20-\x20balancing\x20resumed','push','BNB/','Limit\x20(low-margin)','495592VjhyGT','closed','fetchTickers','recreateCoinResults()','entries','apiSecret','getStartingBalances','filter','trade','datetime','lowdb/adapters/FileSync','date-fns','OrderNotFound','type','cancelOrder','data','exchange','Error:\x20Invalid\x20argument\x20','exec','replace','fetchOpenOrders','configuration-stored','max','sells','loadMarkets','\x20|\x20','createOrder','\x20|\x20Error\x20details:\x20','args','success','rightTxt','starting-balance-','open','exchanges','findIndex','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','721nksSKZ','version','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','\x20exchange','initial','UNLOCKING','ETH','cost','remainingSymbols','Order\x20amount\x20is\x20invalid:\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','enabled','watchTrades','sort','************','\x20has\x20a\x2024h\x20drop\x20of\x20','toUpperCase','privateKey','62176nECEmv','amount','average','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Net\x20effect\x20(','liquidity','cloneDeep','toString','sell','splice','kill','usd','full','Net\x20effect','error','slice','secure','ordertype','.json','cooldown','fetchClosedOrders','time','clientOrderId','DDoSProtection','bot-',',\x20must\x20be\x20a\x203\x20digit\x20number','price','\x20minutes','split','fee','/backup/','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','headless','fetchBalance','starting-balances','</pre>','Initiating\x20exchange\x20reload','ccxt','find','leftTxt','join','\x20|\x20lock\x20orders:\x20','padEnd','ORDERS.UNLOCKED','portfolio','/output-000.log','watchOrders','\x20>\x20','limit-high','Failed\x20to\x20load\x20coin\x20data\x20for\x20','buys','writeFile','sortBy','/USD','keys','<b>','timeout','USDT'];_0x3ea3=function(){return _0x5dd96e;};return _0x3ea3();}function formatPad(_0x3784bf,_0x17cb1e,_0x48200d){const _0x4a8f6e=_0x5923c6,_0x1c9f48=formatResultString(_0x3784bf,_0x17cb1e);return _0x1c9f48?_0x1c9f48[_0x4a8f6e(0x1e2)](_0x48200d):''['padStart'](_0x48200d);}function logHistory(_0xeccb36,_0x475ae2,_0x196b29=''){const _0x44487d=_0x5923c6;let _0x4a7e96={'time':getTimeStamp(),'type':_0xeccb36,'event':_0x475ae2};dbLogs[_0x44487d(0x194)](_0x44487d(0x2b2))['push'](_0x4a7e96)[_0x44487d(0x187)]();if(_0x196b29=='')_0x196b29=_0x475ae2;proxyEmit(_0x44487d(0x1d1),{'log':_0x4a7e96,'summary':_0x196b29}),process[_0x44487d(0x19f)]({'telegram':{..._0x4a7e96,'botname':config[_0x44487d(0x1ee)],'showname':config[_0x44487d(0x19e)]}},_0x202644=>{}),logger[_0x44487d(0x252)](''+_0x4a7e96[_0x44487d(0x1d1)]);}function emitHistory(_0x3cc4de={}){const _0x23d8ca=_0x5923c6;Object[_0x23d8ca(0x27d)](_0x3cc4de)[_0x23d8ca(0x2bb)]==0x0&&(_0x3cc4de={'type':[_0x23d8ca(0x2d3),_0x23d8ca(0x1d1)],'event':'','page':0x1});if(_0x3cc4de['type'][_0x23d8ca(0x1d6)](_0x23d8ca(0x1d1)))_0x3cc4de[_0x23d8ca(0x21d)]['splice'](_0x3cc4de['type'][_0x23d8ca(0x1bd)](_0x23d8ca(0x1d1)),0x1,'error',_0x23d8ca(0x22d));if(dbLogs[_0x23d8ca(0x1f8)](_0x23d8ca(0x2b2))[_0x23d8ca(0x2ce)]()){let _0x83cc48=dbLogs[_0x23d8ca(0x194)](_0x23d8ca(0x2b2))[_0x23d8ca(0x217)](_0xe835d5=>{const _0x521baa=_0x23d8ca;if(_0x3cc4de[_0x521baa(0x21d)][_0x521baa(0x2bb)]==0x0)return![];else return _0x3cc4de[_0x521baa(0x21d)][_0x521baa(0x1d6)](_0xe835d5[_0x521baa(0x21d)]);})[_0x23d8ca(0x217)](_0x4620e8=>{const _0x59c133=_0x23d8ca;if(_0x3cc4de[_0x59c133(0x1d1)]=='')return!![];else return _0x4620e8['event'][_0x59c133(0x2af)]()[_0x59c133(0x1d6)](_0x3cc4de[_0x59c133(0x1d1)][_0x59c133(0x2af)]());})[_0x23d8ca(0x27b)](_0x23d8ca(0x25b)),_0x38b547=_0x83cc48[_0x23d8ca(0x2ce)]()[_0x23d8ca(0x2bb)];_0x83cc48=_0x83cc48['reverse']()[_0x23d8ca(0x255)]((_0x3cc4de[_0x23d8ca(0x18a)]-0x1)*logPageSize,_0x3cc4de[_0x23d8ca(0x18a)]*logPageSize-0x1)[_0x23d8ca(0x199)]()[_0x23d8ca(0x2ce)](),proxyEmit(_0x23d8ca(0x290),{'logs':_0x83cc48,'total':_0x38b547});}else proxyEmit(_0x23d8ca(0x290),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5d820c){const _0x3c4819=_0x5923c6;if(dbLogs[_0x3c4819(0x1f8)](_0x3c4819(0x2b2))[_0x3c4819(0x2ce)]()){const _0x28edc5=dbLogs[_0x3c4819(0x194)]('logs')[_0x3c4819(0x27b)](_0x3c4819(0x25b))[_0x3c4819(0x217)](_0x1dca03=>{const _0x27851e=_0x3c4819;return _0x1dca03[_0x27851e(0x21d)]=='order';})[_0x3c4819(0x2ce)]();dbLogs['get']('logs')[_0x3c4819(0x1a6)]()[_0x3c4819(0x187)](),dbLogs[_0x3c4819(0x194)](_0x3c4819(0x2b2))[_0x3c4819(0x20b)](_0x28edc5)[_0x3c4819(0x187)](),emitHistory(_0x5d820c);}}async function pauseBot(_0x36873e=''){const _0x42416e=_0x5923c6,_0x38b364=new Date()['getTime']();if(!lastErrorShown||_0x38b364-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x38b364;!lastBotPause?(lastBotPause=_0x38b364,consecutivePauses=0x1):(_0x38b364-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x42416e(0x19f)]({'stop':_0x42416e(0x18f)},_0x54e03c=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x36873e)_0x36873e+=_0x42416e(0x229);logHistory('error',_0x36873e+_0x42416e(0x1ce)+pauseBotInterval/0xea60+_0x42416e(0x261)),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){const _0x51eb4d=_0x5923c6;process['send']({'stop':_0x51eb4d(0x250)},_0x3905be=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x23146f,_0x2d237a){const _0x3cebd6=_0x5923c6;if(_0x23146f[_0x3cebd6(0x24d)]()[_0x3cebd6(0x1d6)]('API-key\x20format\x20invalid'))return logHistory(_0x3cebd6(0x254),config[_0x3cebd6(0x220)]+_0x3cebd6(0x207)),![];else{if(_0x23146f['toString']()[_0x3cebd6(0x1d6)](_0x3cebd6(0x1cf)))return logHistory(_0x3cebd6(0x254),config[_0x3cebd6(0x220)]+_0x3cebd6(0x291)),![];else{if(_0x23146f[_0x3cebd6(0x24d)]()['includes']('AuthenticationError'))return logHistory(_0x3cebd6(0x254),config['exchange']+_0x3cebd6(0x18b)+config[_0x3cebd6(0x220)]),![];else await handleError(_0x23146f,_0x2d237a);}}}async function handleError(_0x393d7b,_0x179ddb,_0x386bf2=''){const _0x17530e=_0x5923c6;if(_0x393d7b[_0x17530e(0x24d)]()[_0x17530e(0x1d6)](_0x17530e(0x25d)))await pauseBot(config[_0x17530e(0x220)]+_0x17530e(0x1b7));else{if(_0x393d7b[_0x17530e(0x24d)]()[_0x17530e(0x1d6)](_0x17530e(0x1c7)))await pauseBot(config[_0x17530e(0x220)]+_0x17530e(0x2ae));else{if(_0x393d7b['toString']()[_0x17530e(0x1d6)]('RequestTimeout'))await pauseBot(config[_0x17530e(0x220)]+_0x17530e(0x19d));else{if(_0x393d7b['toString']()[_0x17530e(0x1d6)](_0x17530e(0x236)))logHistory('error',_0x179ddb+_0x17530e(0x233)),logHistory(_0x17530e(0x254),_0x17530e(0x2a1)),await killBot();else{if(_0x393d7b[_0x17530e(0x24d)]()['includes'](_0x17530e(0x1ae)))logHistory(_0x17530e(0x254),_0x179ddb+_0x17530e(0x1f2)),logHistory(_0x17530e(0x254),_0x17530e(0x2a1)),await killBot();else{if(_0x393d7b[_0x17530e(0x24d)]()[_0x17530e(0x1d6)]('API-key\x20format\x20invalid'))logHistory(_0x17530e(0x254),_0x179ddb+_0x17530e(0x229)+config['exchange']+_0x17530e(0x207)),logHistory(_0x17530e(0x254),_0x17530e(0x2a1)),await killBot();else{if(_0x393d7b[_0x17530e(0x24d)]()[_0x17530e(0x1d6)](_0x17530e(0x1cf)))logHistory(_0x17530e(0x254),_0x179ddb+_0x17530e(0x229)+config[_0x17530e(0x220)]+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x17530e(0x254),_0x17530e(0x2a1)),await killBot();else{if(_0x393d7b[_0x17530e(0x24d)]()[_0x17530e(0x1d6)](_0x17530e(0x1c3)))logHistory('error',_0x179ddb+'\x20|\x20'+config[_0x17530e(0x220)]+_0x17530e(0x20a)+config[_0x17530e(0x220)]),logHistory(_0x17530e(0x254),_0x17530e(0x2a1)),await killBot();else _0x393d7b[_0x17530e(0x24d)]()[_0x17530e(0x1d6)](_0x17530e(0x29b))?logHistory(_0x17530e(0x254),_0x179ddb+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x386bf2):(logger[_0x17530e(0x252)](_0x179ddb+_0x17530e(0x22b),_0x393d7b),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x5126ee,_0xc37e32){return parseFloat(_0x5126ee['toFixed'](_0xc37e32));}function formatResultTruncate(_0x342d24,_0x1bd833){const _0x598648=_0x5923c6;let _0x9e37e1=formatResultString(_0x342d24,0xa),_0x11b3e9=_0x9e37e1['indexOf']('.');return _0x11b3e9!=-0x1&&(_0x9e37e1=_0x9e37e1[_0x598648(0x255)](0x0,_0x11b3e9+_0x1bd833+0x1)),Number(_0x9e37e1);}function formatResultString(_0x244730,_0x13415b){const _0xde9bfc=_0x5923c6;let _0x452bd9;if(!(''+_0x244730)[_0xde9bfc(0x1d6)]('e'))_0x452bd9=+(Math[_0xde9bfc(0x1d7)](_0x244730+'e+'+_0x13415b)+'e-'+_0x13415b);else{let _0x638ded=(''+_0x244730)[_0xde9bfc(0x262)]('e'),_0x3dae50='';+_0x638ded[0x1]+_0x13415b>0x0&&(_0x3dae50='+'),_0x452bd9=+(Math[_0xde9bfc(0x1d7)](+_0x638ded[0x0]+'e'+_0x3dae50+(+_0x638ded[0x1]+_0x13415b))+'e-'+_0x13415b);}return Number(_0x452bd9)[_0xde9bfc(0x2dc)](_0x13415b);}function getServerTime(){const _0x1de208=_0x5923c6,_0x375cfc=new Date();return _0x375cfc['getFullYear']()+'/'+(_0x375cfc[_0x1de208(0x1e6)]()+0x1)['toString']()[_0x1de208(0x1e2)](0x2,'0')+'/'+_0x375cfc[_0x1de208(0x201)]()[_0x1de208(0x24d)]()['padStart'](0x2,'0')+'\x20'+_0x375cfc[_0x1de208(0x2da)]()[_0x1de208(0x24d)]()[_0x1de208(0x1e2)](0x2,'0')+':'+_0x375cfc[_0x1de208(0x2bc)]()['toString']()[_0x1de208(0x1e2)](0x2,'0')+':'+_0x375cfc[_0x1de208(0x281)]()[_0x1de208(0x24d)]()[_0x1de208(0x1e2)](0x2,'0');}function getTimeStamp(){const _0x345f4a=_0x5923c6,_0x20b4ed=shiftedTime();return _0x20b4ed[_0x345f4a(0x2a9)]()+'/'+(_0x20b4ed['getMonth']()+0x1)[_0x345f4a(0x24d)]()[_0x345f4a(0x1e2)](0x2,'0')+'/'+_0x20b4ed[_0x345f4a(0x201)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x20b4ed[_0x345f4a(0x2da)]()[_0x345f4a(0x24d)]()[_0x345f4a(0x1e2)](0x2,'0')+':'+_0x20b4ed[_0x345f4a(0x2bc)]()[_0x345f4a(0x24d)]()['padStart'](0x2,'0')+':'+_0x20b4ed['getSeconds']()['toString']()[_0x345f4a(0x1e2)](0x2,'0');}function getDate(){const _0x52a517=_0x5923c6,_0x3abac8=shiftedTime();return _0x3abac8[_0x52a517(0x2a9)]()+'/'+(_0x3abac8[_0x52a517(0x1e6)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x3abac8[_0x52a517(0x201)]()[_0x52a517(0x24d)]()['padStart'](0x2,'0');}function getHour(){const _0x1ae074=_0x5923c6,_0x3c3ce0=shiftedTime();return _0x3c3ce0['getHours']()[_0x1ae074(0x24d)]()[_0x1ae074(0x1e2)](0x2,'0');}function sleep(_0x5681be){return new Promise(_0x42feb0=>setTimeout(_0x42feb0,_0x5681be));}function shiftedTime(){const _0x3d173a=_0x5923c6,_0x5528ec=new Date();let _0x5e9d55=_0x5528ec;if(config&&config[_0x3d173a(0x1fc)]!==0x0)_0x5e9d55=fns['add'](_0x5528ec,{'hours':config['timeshift']});return _0x5e9d55;}function timer(_0xdff6e8){const _0x32a6f1=_0x5923c6,_0x27e03d=new Date();!lasttime?console[_0x32a6f1(0x2bf)](_0x32a6f1(0x1d0),_0xdff6e8,_0x27e03d):console['log'](_0x32a6f1(0x1d0),_0xdff6e8,(_0x27e03d-lasttime)/0x3e8),lasttime=_0x27e03d;}