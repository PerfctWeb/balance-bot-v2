const _0x527fa2=_0x5539;(function(_0x70772b,_0x27b6c9){const _0x48766f=_0x5539,_0x501e7a=_0x70772b();while(!![]){try{const _0x3ff789=-parseInt(_0x48766f(0x124))/0x1+-parseInt(_0x48766f(0x1e7))/0x2+parseInt(_0x48766f(0x179))/0x3*(-parseInt(_0x48766f(0x119))/0x4)+parseInt(_0x48766f(0x25b))/0x5*(parseInt(_0x48766f(0x1af))/0x6)+parseInt(_0x48766f(0x22c))/0x7+parseInt(_0x48766f(0x26f))/0x8*(-parseInt(_0x48766f(0x123))/0x9)+parseInt(_0x48766f(0x1b7))/0xa;if(_0x3ff789===_0x27b6c9)break;else _0x501e7a['push'](_0x501e7a['shift']());}catch(_0x36d444){_0x501e7a['push'](_0x501e7a['shift']());}}}(_0x20eb,0x70d5c));const _0x2e30a1=function(){let _0x20768f=!![];return function(_0x2669fe,_0x4d9cf3){const _0x494e4=_0x20768f?function(){const _0x13c3d7=_0x5539;if(_0x4d9cf3){const _0x24b19a=_0x4d9cf3[_0x13c3d7(0x1d0)](_0x2669fe,arguments);return _0x4d9cf3=null,_0x24b19a;}}:function(){};return _0x20768f=![],_0x494e4;};}(),_0x1da2b7=_0x2e30a1(this,function(){const _0x48ae48=_0x5539;return _0x1da2b7['toString']()[_0x48ae48(0x224)](_0x48ae48(0x147))[_0x48ae48(0x1ff)]()[_0x48ae48(0x1ba)](_0x1da2b7)[_0x48ae48(0x224)](_0x48ae48(0x147));});_0x1da2b7();'use strict';const ccxt=require('ccxt'),low=require(_0x527fa2(0x1ed)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x527fa2(0x1fb)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x527fa2(0x27a)),Crypt=require('hybrid-crypto-js')[_0x527fa2(0x1a8)],util=require('util');let exchange,wsClient;global['ticker']={},global[_0x527fa2(0x239)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x527fa2(0x135),_0x527fa2(0x197),'HOT/EUR','XEM/BUSD',_0x527fa2(0x244),_0x527fa2(0x140)];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x527fa2(0x261)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x527fa2(0x23d)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x527fa2(0x24f))[_0x527fa2(0x187)],botID=process['argv'][0x2]||_0x527fa2(0x18d),pattern=/^[0-9]{3}$/;!pattern[_0x527fa2(0x1b3)](botID)&&(console['log'](_0x527fa2(0x1d5)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x527fa2(0x1a7)](0x1));const userID=process[_0x527fa2(0x238)][0x3]||'',configpath=userID?_0x527fa2(0x24b)+userID+'/':_0x527fa2(0x24b),logspath=userID?'./logs/'+userID+'/':_0x527fa2(0x223),loggerfile=fs[_0x527fa2(0x1a9)](logspath+_0x527fa2(0x11b),{'flags':'a'});!fs[_0x527fa2(0x11c)](configpath)&&fs[_0x527fa2(0x19d)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x527fa2(0x177)+botID+_0x527fa2(0x1e8),logfile=configpath+_0x527fa2(0x177)+botID+'-events.json',performancefile=configpath+'bot-'+botID+_0x527fa2(0x149),coinresultsfile=configpath+_0x527fa2(0x177)+botID+'-results.json',settingsfile=configpath+_0x527fa2(0x163),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x527fa2(0x15d),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x527fa2(0x205)]({'data':[]})[_0x527fa2(0x1d6)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x527fa2(0x205)]({'bot':[]})[_0x527fa2(0x1d6)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x527fa2(0x205)]({'coins':[]})[_0x527fa2(0x1d6)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x401012)=>{},'debug':(..._0x12e6cb)=>{},'notice':(..._0x27be80)=>{},'info':(..._0x2ce231)=>{},'warning':(..._0x2d0d99)=>{},'error':async function(..._0x2349db){const _0x4e68a3=_0x527fa2,_0x37f500=new Date()[_0x4e68a3(0x213)]();if(!lastErrorShown||_0x37f500-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x4e68a3(0x213)]();let _0x59f426='';if(_0x2349db[0x0])_0x59f426+=_0x2349db[0x0];if(_0x2349db[0x1]&&_0x2349db[0x1][_0x4e68a3(0x1f2)]&&_0x2349db[0x1][_0x4e68a3(0x1f2)]['message'])_0x59f426+=_0x4e68a3(0x26d)+_0x2349db[0x1]['error'][_0x4e68a3(0x14e)];logger[_0x4e68a3(0x1d7)](_0x4e68a3(0x15b)+consecutivePauses+_0x4e68a3(0x22f),''+_0x59f426),await pauseBot(_0x4e68a3(0x21c));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':'sha256','rsaStandard':_0x527fa2(0x18c)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x63ca4c=>{const _0x33587f=_0x527fa2;console[_0x33587f(0x14a)](_0x63ca4c);},'simple':_0x5c33ed=>{const _0x22a2a2=_0x527fa2;console[_0x22a2a2(0x14a)](_0x5c33ed),loggerfile[_0x22a2a2(0x1d6)](util['format'](_0x5c33ed)+'\x0a');},'full':async(_0x5dfdca,_0x257ff6='')=>{const _0x5d8e42=_0x527fa2;let _0x26e9f0;if(config[_0x5d8e42(0x11d)])_0x26e9f0=getTimeStamp()+':\x20'+config[_0x5d8e42(0x1bb)]+'\x20>\x20'+_0x5dfdca;else _0x26e9f0=getTimeStamp()+_0x5d8e42(0x13d)+botID+'\x20>\x20'+_0x5dfdca;console[_0x5d8e42(0x14a)](_0x26e9f0),loggerfile[_0x5d8e42(0x1d6)](util[_0x5d8e42(0x127)](_0x26e9f0)+'\x0a'),_0x257ff6&&(console[_0x5d8e42(0x14a)](_0x257ff6),loggerfile[_0x5d8e42(0x1d6)](util[_0x5d8e42(0x127)](_0x257ff6)+'\x0a'));},'debug':async(_0x432a9b,_0xdf756c='')=>{const _0x3a6103=_0x527fa2;let _0x14b90f;if(config[_0x3a6103(0x11d)])_0x14b90f=getTimeStamp()+':\x20'+config['botname']+_0x3a6103(0x229)+_0x432a9b;else _0x14b90f=getTimeStamp()+_0x3a6103(0x13d)+botID+'\x20>\x20[DEBUG]\x20'+_0x432a9b;if(debugLoggingScreen)console[_0x3a6103(0x14a)](_0x14b90f);loggerfile['write'](util[_0x3a6103(0x127)](_0x14b90f)+'\x0a');if(_0xdf756c){if(debugLoggingScreen)console[_0x3a6103(0x14a)](_0xdf756c);loggerfile[_0x3a6103(0x1d6)](util['format'](_0xdf756c)+'\x0a');}}};process['on'](_0x527fa2(0x1f1),function(_0x31356c){const _0x13d358=_0x527fa2;logger[_0x13d358(0x1ce)](_0x31356c);});settings[_0x527fa2(0x26e)]!=config[_0x527fa2(0x26e)]&&updateTimeshift(settings[_0x527fa2(0x26e)]);process['send']({'started':'running'},_0x5cdf1a=>{}),initializeProcessListeners();function proxyEmit(_0x38ad40,_0x285d10=null){const _0xc7b6ab=_0x527fa2;process[_0xc7b6ab(0x18f)]({'function':_0x38ad40,'args':_0x285d10},_0x4520f4=>{});}function initializeProcessListeners(){const _0x75c455=_0x527fa2;process['on'](_0x75c455(0x14e),_0x2b3d01=>{const _0x1ede05=_0x75c455;switch(Object[_0x1ede05(0x11f)](_0x2b3d01)[0x0]){case _0x1ede05(0x26e):_0x2b3d01[_0x1ede05(0x26e)]!=undefined&&(settings[_0x1ede05(0x26e)]=_0x2b3d01['timeshift'],updateTimeshift(settings[_0x1ede05(0x26e)]));break;case _0x1ede05(0x12c):switch(_0x2b3d01[_0x1ede05(0x12c)]){case'initclient':initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x1ede05(0x1c8):emitHistory(_0x2b3d01['args']);break;case _0x1ede05(0x190):deleteHistoryAlerts(_0x2b3d01['args']);break;case _0x1ede05(0x1a3):getPortfolio(_0x2b3d01[_0x1ede05(0x23f)]);break;case _0x1ede05(0x23b):storeConfiguration(_0x2b3d01[_0x1ede05(0x23f)]);break;case'storeHeadless':storeHeadless(_0x2b3d01[_0x1ede05(0x23f)]);break;case _0x1ede05(0x194):getStartingBalances(getNormalizedPerformance());break;case _0x1ede05(0x11a):placeOrder(_0x2b3d01['args']);break;case _0x1ede05(0x1cf):cancelLoading();break;case _0x1ede05(0x132):showConfig();break;case _0x1ede05(0x260):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x4ee164=_0x527fa2;if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(config[_0x4ee164(0x134)]!=''&&config[_0x4ee164(0x134)]!=_0x4ee164(0x1be)){await initExchange(config[_0x4ee164(0x134)],config['apiSecret']),await initWsEvents();let _0x13807e=![];try{_0x13807e=await loadSymbols();}catch(_0x3034f4){handleError(_0x3034f4,_0x4ee164(0x1c2));}if(_0x13807e){currentCoins=await getCoins(!![]),await initws();if(lastOrders['length']==0x0&&allOpenOrders[_0x4ee164(0x130)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x5b7b55,_0x2c25a9){const _0x6b4eb5=_0x527fa2,_0x5d6025=ccxt[config[_0x6b4eb5(0x18e)]];let _0x489b59;switch(config[_0x6b4eb5(0x18e)]){case _0x6b4eb5(0x27a):_0x489b59=_0x6b4eb5(0x20a);break;case'binanceus':_0x489b59='wss://stream.binance.us:9443';break;default:_0x489b59=_0x6b4eb5(0x20a);}exchange=new _0x5d6025({'apiKey':_0x5b7b55,'secret':_0x2c25a9,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x6b4eb5(0x245)]['api_key']=_0x5b7b55,wsClient[_0x6b4eb5(0x245)][_0x6b4eb5(0x167)]=_0x2c25a9,wsClient[_0x6b4eb5(0x245)][_0x6b4eb5(0x25c)]=_0x489b59;let _0x477194=config[_0x6b4eb5(0x18e)]==_0x6b4eb5(0x164)?_0x6b4eb5(0x268):_0x6b4eb5(0x152),_0x3d8f14=config['basecoin']==_0x6b4eb5(0x169)?_0x6b4eb5(0x169):_0x6b4eb5(0x19f);stablecoins={'eur':{'coin':''+_0x3d8f14+_0x477194,'symbol':_0x3d8f14+'/'+_0x477194},'usd':{'coin':_0x3d8f14+_0x6b4eb5(0x268),'symbol':_0x3d8f14+_0x6b4eb5(0x12f)}};}async function initWsEvents(){const _0x4ef425=_0x527fa2;!wsClient[_0x4ef425(0x233)][_0x4ef425(0x208)]&&wsClient['on'](_0x4ef425(0x208),_0x97c588=>{const _0x2939c4=_0x4ef425;if(isWsFormattedKline(_0x97c588)){global[_0x2939c4(0x246)][_0x97c588[_0x2939c4(0x12e)]['symbol']]=_0x97c588[_0x2939c4(0x12e)][_0x2939c4(0x116)];return;}else{if(isWsFormatted24hrTicker(_0x97c588)){global['change'][_0x97c588['symbol']]=_0x97c588[_0x2939c4(0x19e)];return;}else{if(!Array[_0x2939c4(0x259)](_0x97c588)&&_0x97c588['wsKey']['includes'](_0x2939c4(0x202))){if(_0x97c588[_0x2939c4(0x13f)][_0x2939c4(0x1a2)](_0x2939c4(0x1f5))){updateNumberCoins(_0x97c588);return;}}}}}),!wsClient['_events'][_0x4ef425(0x236)]&&wsClient['on'](_0x4ef425(0x236),async _0xf374c5=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x19689d=_0x527fa2;let _0x21f42f=![];try{markets=await exchange[_0x19689d(0x16a)](),allSymbols=exchange[_0x19689d(0x257)][_0x19689d(0x1ae)](_0x1e0a03=>{const _0x5e4205=_0x19689d;let _0x5ae209=![];return exceptions[_0x5e4205(0x138)](_0x3fa276=>{const _0x4d3ed8=_0x5e4205;if(_0x1e0a03[_0x4d3ed8(0x1a2)](_0x3fa276))_0x5ae209=!![];}),!_0x5ae209;}),_0x21f42f=!![];}catch(_0x21c561){_0x21f42f=![];throw _0x21c561;}return _0x21f42f;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x2ac767=_0x527fa2;proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2ac767(0x151),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x325094=getNormalizedPerformance();emitPerformance(_0x325094),await getStartingBalances(_0x325094);}async function toggleBotMode(){const _0x254c63=_0x527fa2;let _0x4072a1=dbConfig[_0x254c63(0x1b0)]('bot')['find']({'botID':botID})[_0x254c63(0x1e5)]();if(_0x4072a1){const _0x305402=!_0x4072a1[_0x254c63(0x162)];dbConfig[_0x254c63(0x1b0)]('bot')[_0x254c63(0x1ef)]({'botID':botID})[_0x254c63(0x25e)]({'headless':_0x305402})[_0x254c63(0x1d6)](),config[_0x254c63(0x162)]=_0x305402,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x19049e=_0x527fa2;process[_0x19049e(0x18f)]({'updatebotmanager':!![]},_0x1755b9=>{});}function cleanws(){const _0x1eb4d3=_0x527fa2;wsinitialized=![];ws1&&(ws1['forEach'](_0x5f5541=>{const _0x421823=_0x5539;try{wsClient[_0x421823(0x116)](_0x5f5541);}catch(_0x4aad06){}}),ws1=[]);if(ws2){try{wsClient[_0x1eb4d3(0x116)](ws2);}catch(_0x43684a){}ws2=null;}ws3&&(ws3[_0x1eb4d3(0x138)](_0x2d0d4d=>{const _0x137743=_0x1eb4d3;try{wsClient[_0x137743(0x116)](_0x2d0d4d);}catch(_0x22c5b4){}}),ws3=[]);}async function initws(){const _0x2a1c17=_0x527fa2;cleanws();let _0x574c3b=[];currentCoins[_0x2a1c17(0x138)](_0xa02a52=>{const _0x58940a=_0x2a1c17;if(_0xa02a52['coin']!=config[_0x58940a(0x1e3)])_0x574c3b['push'](_0xa02a52[_0x58940a(0x25d)]);});if(!_0x574c3b[_0x2a1c17(0x1a2)](stablecoins[_0x2a1c17(0x26a)][_0x2a1c17(0x25d)]))_0x574c3b[_0x2a1c17(0x1a5)](stablecoins[_0x2a1c17(0x26a)][_0x2a1c17(0x25d)]);if(!_0x574c3b[_0x2a1c17(0x1a2)](stablecoins[_0x2a1c17(0x1b9)][_0x2a1c17(0x25d)]))_0x574c3b['push'](stablecoins[_0x2a1c17(0x1b9)][_0x2a1c17(0x25d)]);if(!_0x574c3b[_0x2a1c17(0x1a2)](_0x2a1c17(0x1a1)+config[_0x2a1c17(0x1e3)]))_0x574c3b[_0x2a1c17(0x1a5)](_0x2a1c17(0x1a1)+config[_0x2a1c17(0x1e3)]);try{_0x574c3b[_0x2a1c17(0x138)]((_0x3ff9ee,_0x1b1a00)=>{const _0x1c0a06=_0x2a1c17;ws1[_0x1b1a00]=wsClient['subscribeSpotKline'](noslash(_0x3ff9ee),'1m'),ws3[_0x1b1a00]=wsClient[_0x1c0a06(0x26c)](noslash(_0x3ff9ee),'spot');}),ws2=wsClient[_0x2a1c17(0x209)]();}catch(_0x5a87e5){await handleError(_0x5a87e5,'initws()');}let _0x462d74,_0x5695ae=0x0;loading['remainingSymbols']=[];let _0x563961=0x0;_0x574c3b['forEach'](_0x3783a7=>{const _0x4b6d64=_0x2a1c17;loading[_0x4b6d64(0x165)][_0x4b6d64(0x1a5)](_0x3783a7);}),loadingCanceled=![];let _0x3647e6=![];while(_0x462d74!=_0x574c3b[_0x2a1c17(0x130)]){_0x462d74=0x0,_0x574c3b[_0x2a1c17(0x138)](_0x1edd8f=>{const _0x28b090=_0x2a1c17;global[_0x28b090(0x246)][noslash(_0x1edd8f)]&&(loading['remainingSymbols']=loading[_0x28b090(0x165)]['filter'](_0x47d664=>_0x47d664!=_0x1edd8f),_0x462d74++);}),loading['progress']=Math[_0x2a1c17(0x232)](_0x462d74/_0x574c3b[_0x2a1c17(0x130)]*0x64);loading[_0x2a1c17(0x133)]!=0x64&&(_0x563961>0x1e*0x5&&(loading[_0x2a1c17(0x228)]=!![],emitLoadingProgress()),_0x563961>0x78*0x5&&!_0x3647e6&&(loading['cancel']=!![],emitLoadingProgress(),_0x3647e6=!![],logHistory('error',_0x2a1c17(0x1ca)+loading[_0x2a1c17(0x165)][_0x2a1c17(0x1e9)](',\x20')+_0x2a1c17(0x1c6)),logHistory(_0x2a1c17(0x1f2),_0x2a1c17(0x1cb)+loadCoinsRetryInterval/0xea60+_0x2a1c17(0x17f)),pidCoinReloading=setTimeout(()=>{const _0x5aecb3=_0x2a1c17;process[_0x5aecb3(0x18f)]({'stop':_0x5aecb3(0x200)},_0x1cf12b=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x462d74!=_0x5695ae&&(_0x5695ae=_0x462d74,emitLoadingProgress()),_0x563961++,await sleep(0xc8);}_0x462d74==_0x574c3b[_0x2a1c17(0x130)]&&(wsinitialized=!![],_0x3647e6&&logHistory('success',_0x2a1c17(0x211)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x247493=_0x527fa2;proxyEmit(_0x247493(0x16f),{...emittedConfiguration(),'configstate':_0x247493(0x258)});}function emitLoadingProgress(){const _0x1b901f=_0x527fa2;proxyEmit(_0x1b901f(0x1a4),loading);}async function getFiat(){const _0x2cb7ec=_0x527fa2;let _0x38e610=0x0,_0x2c407f=0x0;try{_0x38e610=global['ticker'][stablecoins[_0x2cb7ec(0x26a)][_0x2cb7ec(0x212)]],_0x2c407f=global[_0x2cb7ec(0x246)][stablecoins['usd'][_0x2cb7ec(0x212)]];}catch(_0x1d84c2){await handleError(_0x1d84c2,'getFiat()');}return{'eur':Number(_0x38e610),'usd':Number(_0x2c407f)};}function _0x20eb(){const _0x42e41c=['cancelOrder','parse','Invalid\x20quantity','orderstatus','getMonth','padEnd','string','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Binance\x20API\x20blocked','binance','Binance\x20not\x20responding','\x20order:\x20','close','DDoSProtection','enabled','1555636tiWsUG','placeOrder','/output-000.log','existsSync','showname','FILLED','keys','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','random','ExchangeNotAvailable','10062pcIplI','658518DqcQEV','ORDERS.LOCKED','date','format','parseISO','createOrder','limits','newClientOrderId','function','commissionAsset','kline','/USDT','length','warning','showConfig','progress','apiKey','DAI/','net-fiat','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','forEach','slice','yyyy-MM-dd\x27T\x27HH:mm:ss','fiat','2.5.0',':\x20Bot\x20','milliseconds','wsMarket','YOYOW/','total','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','running','-------------------------------\x0a','API-key\x20format\x20invalid','\x20value','(((.+)+)+)+$','indexOf','-performance.json','log','breakeven','Manual\x20balancing\x20required','InvalidNonce','message','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','RequestTimeout','balances','EUR','\x20|\x20lock\x20orders:\x20','final','.json','page','Limit\x20(low-margin)','net-basecoin','map','add','WebSockets(','open','/backup/','Order\x20filled:\x20','concat','performance','time','headless','bb-settings.json','binanceus','remainingSymbols','API\x20or\x20clock\x20sync\x20issue','api_secret','distribution','ETH','loadMarkets','fees','decrypt','cost','stringify','configuration','precision','side','bid','padStart','set','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','findIndex','bot-','offset','3hCdbqP','event','no\x20open\x20orders','cancelOrders()','excluded','MIN_NOTIONAL','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','toFixed','emojisell','has','ORDERS.UNLOCKING','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','fee','startprice','version','\x20minutes\x20-\x20','fromCodePoint','bot','\x20|\x20Binance\x20API\x20key\x20invalid','RSA-OAEP','001','exchange','send','deleteHistoryAlerts','market','event-history','startdate','getStartingBalances','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','initial','HOT/BTC','Binance\x20not\x20available\x20(2)','</pre>','datetime','getCoins()','liquidity','mkdirSync','priceChangePercent','BTC','exec','BNB/','includes','getPortfolio','coin-loading-progress','push','getHours','exit','Crypt','createWriteStream','realized','price','currency','amount','filter','189102bBvBoG','get','number','accumulatedQuantity','test','valid','getFullYear','coins','6409260xsFFat','abs','usd','constructor','botname','NEW','logs','***','1\x20-\x20FILLED:\x20','emojibuy','BUSD','loadSymbols()','Order(s)\x20not\x20validated\x20after\x20','3\x20-\x20handling\x20FILLED\x20order:\x20','fetchBalance','\x20-\x20bot\x20not\x20started','2.3.5','emitHistory','\x20|\x20Error\x20details:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Pausing\x20for\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','\x20hour','simple','cancelLoading','apply','Unfilled\x20order(s)\x20canceled\x20after\x20','sortBy','cloneDeep','\x20|\x20','Error:\x20Invalid\x20argument\x20','write','full','getPortfolio()','order','min','delta','portfolio','\x20portfolio:</b>\x20\x0a\x0a','limit','fetchClosedOrders','CANCELED','AuthenticationError','splice','basecoin','canceled','value','<pre>','1488096LGPLKf','-config.json','join','startnumber','balancing\x20resumes\x20when\x20cooldown\x20ends','customId','lowdb','threshold','find','differenceInSeconds','uncaughtException','error','changes','\x20change','spot','Order(s)\x20validated\x20-\x20','eventType','2\x20-\x20FILLED\x20unknown\x20order:\x20','Order\x20amount\x20is\x20invalid:\x20','getMinutes','date-fns','\x20|\x20Binance\x20API\x20secret\x20invalid','yyyy/MM/dd','Market','toString','restart','Net\x20','userData','sort','LOCKED','defaults','Executed\x20','type','formattedMessage','subscribeSpotUserDataStream','wss://stream.binance.com:9443','none','1\x20-\x20Validate\x20orders:\x20','isEqual','getDate','replace','************','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','coin','getTime','\x20orders\x20in\x20less\x20than\x20','leftTxt','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','<b>Bot\x20','cumulativeQuoteAssetTransactedQty','toLowerCase','reverse','sell','Binance\x20not\x20available\x20(1)','2\x20-\x20Handled\x20open\x20orders','Order(s)\x20filled\x20-\x20','limit-high','writeFile','Net\x20effect','%\x20\x0a','./logs/','search','fetchTickers','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','filled','timeout','\x20>\x20[DEBUG]\x20','ask','target','5463885yXVUNv','max','starting-balance-',')\x20|\x20Error\x20details:\x20','UNLOCKING','Net\x20effect\x20(','round','_events','OrderNotFound','debug','reconnected','data','argv','change','No\x20more\x20open\x20orders\x20-\x20','storeConfiguration','trade','UNLOCKED','Limit\x20(high-margin)','args','recovery','2\x20-\x20Orders\x20unlocked','Unknown\x20error\x20occured','executionReport','NANO/','options','ticker','sells','ordertype','orderStatus','shift','./config/','entries','buy','ongoing','./version.json','openOrders','rightTxt','cooldown','kill','change24h','success','Binance\x20API\x20secret\x20is\x20invalid','symbols','loading-canceled','isArray','split','140jWbuVB','wsUrl','symbol','assign','\x20:\x20','sendPortfolioTelegram','freeze','1\x20-\x20Handle\x20open\x20orders','recreate','last','commission','limit-low','BNB','USDT','orderId','eur','apiSecret','subscribeSymbol24hrTicker','\x20-\x20','timeshift','360rMvmai','privateKey'];_0x20eb=function(){return _0x42e41c;};return _0x20eb();}function setStartDatePerformance(){const _0x2d1921=_0x527fa2;if(config&&config[_0x2d1921(0x19c)][0x0][_0x2d1921(0x1f3)][_0x2d1921(0x130)]!=0x0){const _0x27214c=config['liquidity'][0x0]['changes'];dbPerformance['get'](_0x2d1921(0x237))['find']({'date':config[_0x2d1921(0x193)]})[_0x2d1921(0x25e)]({'coins':_0x27214c})[_0x2d1921(0x1d6)]();}}async function recreateCoinResults(){const _0x871b21=_0x527fa2;let _0x43daf5,_0x1ef017=[];try{const _0x241f1c=fns[_0x871b21(0x127)](fns[_0x871b21(0x128)](config['startdate']['replace'](/\//g,'-')),_0x871b21(0x13a));for(const _0x27403b of currentCoins){if(_0x27403b['coin']!=config[_0x871b21(0x1e3)]){let _0x521fb9=0x0,_0x28c545,_0x4e4e96;_0x43daf5=await getAllEventOrders(_0x27403b[_0x871b21(0x25d)]);if(_0x43daf5[_0x871b21(0x130)]>0x0)_0x43daf5[_0x871b21(0x138)](_0x228178=>{const _0x1764ef=_0x871b21,_0x1bcbd9=_0x27403b['symbol'][_0x1764ef(0x1a2)](config[_0x1764ef(0x1e3)]+'/');_0x1ef017[_0x1764ef(0x1a5)]({'datetime':_0x228178['datetime'],'coin':_0x27403b['coin'],'symbol':_0x27403b[_0x1764ef(0x25d)],'side':_0x228178[_0x1764ef(0x171)],'reverse':_0x1bcbd9,'amount':formatResult(_0x228178[_0x1764ef(0x227)],0x8),'filled':formatResult(_0x228178[_0x1764ef(0x227)],0x8),'price':formatResult(_0x228178['price'],0x8)}),_0x521fb9=_0x228178[_0x1764ef(0x171)]==_0x1764ef(0x24d)?_0x521fb9+_0x228178['filled']:_0x521fb9-_0x228178[_0x1764ef(0x227)];if(!_0x4e4e96)_0x4e4e96=_0x228178['price'];});_0x28c545=_0x27403b[_0x871b21(0x1b1)]-_0x521fb9;let _0x3827c5;config[_0x871b21(0x19c)][_0x871b21(0x138)](_0x98aec1=>{const _0x3abf1b=_0x871b21;!_0x3827c5&&(_0x3827c5=_0x98aec1['changes'][_0x3abf1b(0x1ef)](_0x4a6290=>_0x4a6290[_0x3abf1b(0x212)]==_0x27403b[_0x3abf1b(0x212)]),_0x3827c5&&(_0x28c545=_0x3827c5['number'],_0x4e4e96=_0x3827c5[_0x3abf1b(0x1ab)]));});let _0x4a0ac3=dbCoinResults['get'](_0x871b21(0x1b6))[_0x871b21(0x1ef)]({'coin':_0x27403b['coin']})[_0x871b21(0x1e5)]();_0x4a0ac3={'coin':_0x27403b[_0x871b21(0x212)],'number':_0x28c545,'breakeven':_0x4e4e96,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x871b21(0x1b0)](_0x871b21(0x1b6))[_0x871b21(0x1ef)]({'coin':_0x27403b['coin']})[_0x871b21(0x25e)](_0x4a0ac3)[_0x871b21(0x1d6)]();}}_0x1ef017[_0x871b21(0x203)]((_0x4ce253,_0x25674d)=>_0x4ce253[_0x871b21(0x19a)]>_0x25674d[_0x871b21(0x19a)]?0x1:_0x25674d[_0x871b21(0x19a)]>_0x4ce253['datetime']?-0x1:0x0);let _0x4895bf=0x0;for(let _0x3a0b5f of _0x1ef017){await updateCoinResults(_0x3a0b5f,!![]);}}catch(_0x59bca2){await handleError(_0x59bca2,'recreateCoinResults()');}}async function getAllEventOrders(_0x299eea){const _0x31d1ae=_0x527fa2;let _0x2fd28c=[],_0x5239cf=dbLogs[_0x31d1ae(0x1b0)]('logs')[_0x31d1ae(0x1ae)](_0x40100f=>{const _0x35e7ec=_0x31d1ae,_0x5cdb8d=_0x40100f['event']['toLowerCase']();return _0x5cdb8d['includes'](_0x299eea[_0x35e7ec(0x219)]())&&(_0x5cdb8d[_0x35e7ec(0x1a2)]('market')&&_0x5cdb8d[_0x35e7ec(0x1a2)](_0x35e7ec(0x1d9))||_0x5cdb8d[_0x35e7ec(0x1a2)](_0x35e7ec(0x227))&&_0x5cdb8d[_0x35e7ec(0x1a2)]('order'));})[_0x31d1ae(0x1d2)](_0x31d1ae(0x161))[_0x31d1ae(0x1e5)]();return _0x5239cf[_0x31d1ae(0x138)](_0x4cec9c=>{const _0x511198=_0x31d1ae,_0x379384=_0x4cec9c['event'][_0x511198(0x1a2)]('sell')?_0x511198(0x21b):_0x511198(0x24d),_0x23a5ee=/#([0-9]|\.)+\s/i,_0x39773e=Number(_0x23a5ee[_0x511198(0x1a0)](_0x4cec9c['event'])[0x0][_0x511198(0x139)](0x1)),_0x30070e=/@([0-9]|\.)+$/i,_0x1e6cd2=Number(_0x30070e['exec'](_0x4cec9c[_0x511198(0x17a)])[0x0][_0x511198(0x139)](0x1));_0x2fd28c['push']({'datetime':_0x4cec9c[_0x511198(0x161)],'coin':symbolToCoin(_0x299eea),'symbol':_0x299eea,'side':_0x379384,'amount':_0x39773e,'filled':_0x39773e,'price':_0x1e6cd2});}),_0x2fd28c;}async function getAllOrders(_0x1acd46,_0x5914b1){const _0x3ad7b1=_0x527fa2;let _0x15f3c3=[];while(_0x5914b1<exchange[_0x3ad7b1(0x13e)]()){const _0x2f7370=0x1f4,_0x22bd78=await exchange[_0x3ad7b1(0x1df)](_0x1acd46,_0x5914b1,_0x2f7370);if(_0x22bd78[_0x3ad7b1(0x130)])_0x5914b1=_0x22bd78[_0x22bd78[_0x3ad7b1(0x130)]-0x1]['timestamp']+0x1,_0x15f3c3=_0x15f3c3[_0x3ad7b1(0x15f)](_0x22bd78);else break;}return _0x15f3c3;}async function validate24hChanges(){const _0xfc1c99=_0x527fa2;let _0x32dba4;for(const _0x83d412 of currentCoins){if(_0x83d412[_0xfc1c99(0x212)]!=config[_0xfc1c99(0x1e3)]){let _0x11b04f;_0x83d412[_0xfc1c99(0x21a)]?_0x11b04f=formatResult((0x1/(global[_0xfc1c99(0x239)][noslash(_0x83d412[_0xfc1c99(0x25d)])]/0x64+0x1)-0x1)*0x64,0x3):_0x11b04f=global[_0xfc1c99(0x239)][noslash(_0x83d412['symbol'])],_0x11b04f<config['change24h']&&(logHistory('error',_0x83d412[_0xfc1c99(0x212)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x11b04f+'%'),logHistory('error',_0xfc1c99(0x278)),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x462cd7=_0x527fa2;let _0x2f2688=dbLogs[_0x462cd7(0x1b0)]('version')[_0x462cd7(0x1e5)]();if(_0x2f2688!=_0x462cd7(0x1c7)){dbLogs['set'](_0x462cd7(0x187),_0x462cd7(0x1c7))[_0x462cd7(0x1d6)]();let _0x1fc4f5=[];const _0x48f4f5=dbLogs[_0x462cd7(0x1b0)](_0x462cd7(0x1bd))['value']();_0x48f4f5[_0x462cd7(0x138)](_0x3e633a=>{const _0x1410db=_0x462cd7;_0x1fc4f5[_0x1410db(0x1a5)]({'time':_0x3e633a['time'],'type':_0x3e633a[_0x1410db(0x207)],'event':_0x3e633a['event']});}),dbLogs[_0x462cd7(0x1b0)](_0x462cd7(0x1bd))[_0x462cd7(0x25e)](_0x1fc4f5)[_0x462cd7(0x1d6)]();}let _0x562a83=dbConfig['get'](_0x462cd7(0x187))['value']();if(_0x562a83!=_0x462cd7(0x1c7)){dbConfig[_0x462cd7(0x174)](_0x462cd7(0x187),_0x462cd7(0x1c7))[_0x462cd7(0x1d6)]();let _0x2ef4d6=dbConfig[_0x462cd7(0x1b0)](_0x462cd7(0x18a))[_0x462cd7(0x1ef)]({'botID':botID})[_0x462cd7(0x1e5)]();if(_0x2ef4d6){let _0x5ad0ce=[];_0x2ef4d6[_0x462cd7(0x1dc)]['forEach'](_0x4467dc=>{const _0x112038=_0x462cd7;_0x5ad0ce[_0x112038(0x1a5)]({'coin':_0x4467dc['coin'],'number':_0x4467dc[_0x112038(0x1ea)],'price':_0x4467dc[_0x112038(0x186)]}),delete _0x4467dc['startnumber'],delete _0x4467dc[_0x112038(0x186)];});if(_0x5ad0ce['length']!==0x0)fs[_0x462cd7(0x220)](configbackuppath+(_0x462cd7(0x22e)+botID+_0x462cd7(0x155)),JSON[_0x462cd7(0x16e)](_0x5ad0ce,null,0x4),function(_0x526e7b){if(_0x526e7b){}});const _0x32b11c=(_0x4c8c46,_0xbb058)=>{const _0x2a8b17=_0x462cd7;let _0x80cc75=[];_0xbb058[_0x2a8b17(0x138)](_0x23ed8c=>{const _0x587554=_0x2a8b17,_0x1c007b=_0x4c8c46['find'](_0x266d0b=>_0x266d0b[_0x587554(0x212)]==_0x23ed8c[_0x587554(0x212)]);if(!_0x1c007b)_0x80cc75['push'](_0x23ed8c);});let _0x1229de=[];return _0x4c8c46[_0x2a8b17(0x138)](_0x5b93b2=>{const _0x21feec=_0x2a8b17,_0x250699=_0xbb058[_0x21feec(0x1ef)](_0x13d8d3=>_0x13d8d3[_0x21feec(0x212)]==_0x5b93b2[_0x21feec(0x212)]);if(!_0x250699||_0x250699['number']==0x0&&_0x5b93b2[_0x21feec(0x1b1)]!=0x0)_0x1229de[_0x21feec(0x1a5)](_0x5b93b2);}),{'missingDay1':_0x80cc75,'notInDay2':_0x1229de};},_0x14449e=dbPerformance[_0x462cd7(0x1b0)](_0x462cd7(0x237))[_0x462cd7(0x1d3)]()['value']();if(_0x14449e['length']>0x1){const {missingDay1:_0x4ce937,notInDay2:_0x203405}=_0x32b11c(_0x5ad0ce,_0x14449e[0x1][_0x462cd7(0x1b6)]);_0x5ad0ce=[..._0x5ad0ce,..._0x4ce937],_0x203405['forEach'](_0x250efa=>{const _0x1355bb=_0x462cd7;let _0x2536ae=_0x5ad0ce[_0x1355bb(0x176)](_0x3e02e8=>_0x3e02e8[_0x1355bb(0x212)]==_0x250efa[_0x1355bb(0x212)]);_0x2536ae!=-0x1&&_0x5ad0ce[_0x1355bb(0x1e2)](_0x2536ae,0x1);});}_0x5ad0ce[_0x462cd7(0x203)]((_0x70d2cf,_0x4d21e7)=>_0x70d2cf['coin']>_0x4d21e7[_0x462cd7(0x212)]?0x1:_0x4d21e7[_0x462cd7(0x212)]>_0x70d2cf[_0x462cd7(0x212)]?-0x1:0x0);let _0x109aa6=[{'date':_0x2ef4d6[_0x462cd7(0x193)],'changes':_0x5ad0ce}];_0x14449e[_0x462cd7(0x130)]>0x2&&_0x14449e[_0x462cd7(0x138)]((_0x19dbc6,_0x33e1a8)=>{const _0x8f57ae=_0x462cd7;if(_0x33e1a8>0x0&&_0x33e1a8<_0x14449e['length']-0x1){const {missingDay1:_0x583e56,notInDay2:_0xc51517}=_0x32b11c(_0x14449e[_0x33e1a8][_0x8f57ae(0x1b6)],_0x14449e[_0x33e1a8+0x1][_0x8f57ae(0x1b6)]);_0x5ad0ce=[],(_0x583e56['length']!=0x0||_0xc51517[_0x8f57ae(0x130)]!=0x0)&&(_0x583e56[_0x8f57ae(0x130)]!=0x0&&_0x5ad0ce[_0x8f57ae(0x1a5)](..._0x583e56),_0xc51517[_0x8f57ae(0x130)]!=0x0&&(_0xc51517[_0x8f57ae(0x138)](_0x15b740=>{const _0x3614e1=_0x8f57ae;_0x15b740['number']=-_0x15b740[_0x3614e1(0x1b1)];}),_0x5ad0ce[_0x8f57ae(0x1a5)](..._0xc51517)),_0x5ad0ce[_0x8f57ae(0x203)]((_0x2e6382,_0xbec11c)=>_0x2e6382['coin']>_0xbec11c['coin']?0x1:_0xbec11c[_0x8f57ae(0x212)]>_0x2e6382['coin']?-0x1:0x0),_0x109aa6[_0x8f57ae(0x1a5)]({'date':_0x14449e[_0x33e1a8+0x1][_0x8f57ae(0x126)],'changes':_0x5ad0ce}));}}),dbConfig[_0x462cd7(0x1b0)]('bot')[_0x462cd7(0x1ef)]({'botID':botID})[_0x462cd7(0x25e)]({..._0x2ef4d6,'liquidity':_0x109aa6})[_0x462cd7(0x1d6)]();}}config=getConfiguration(botID);let _0x477c36=dbPerformance['get']('version')[_0x462cd7(0x1e5)]();_0x477c36!='2.3.5'&&(dbPerformance[_0x462cd7(0x174)](_0x462cd7(0x187),_0x462cd7(0x1c7))[_0x462cd7(0x1d6)](),setStartDatePerformance());let _0x5757f2=dbCoinResults[_0x462cd7(0x1b0)](_0x462cd7(0x187))[_0x462cd7(0x1e5)]();if(_0x5757f2!=_0x462cd7(0x13c)){dbCoinResults[_0x462cd7(0x174)](_0x462cd7(0x187),_0x462cd7(0x13c))[_0x462cd7(0x1d6)]();let _0x5d458f=dbCoinResults[_0x462cd7(0x1b0)](_0x462cd7(0x1b6))['value']();if(_0x5d458f[_0x462cd7(0x130)]!=0x0)recreationNeeded=!![];}}function _0x5539(_0x304937,_0x13568c){const _0x270eea=_0x20eb();return _0x5539=function(_0x1da2b7,_0x2e30a1){_0x1da2b7=_0x1da2b7-0x116;let _0x20eb21=_0x270eea[_0x1da2b7];return _0x20eb21;},_0x5539(_0x304937,_0x13568c);}function getConfiguration(_0x425cb7){const _0x1e954d=_0x527fa2;let _0x1df71c=dbConfig['get'](_0x1e954d(0x18a))[_0x1e954d(0x1ef)]({'botID':_0x425cb7})['value']();if(_0x1df71c){let _0x58d9b5=![];typeof _0x1df71c[_0x1e954d(0x1ee)]==_0x1e954d(0x277)&&(_0x1df71c={..._0x1df71c,'threshold':Number(_0x1df71c[_0x1e954d(0x1ee)])},_0x58d9b5=!![]),_0x1df71c['change24h']==null&&(_0x1df71c={..._0x1df71c,'change24h':-0x14},_0x58d9b5=!![]),_0x58d9b5&&(_0x1df71c={'botID':_0x1df71c['botID'],'exchange':_0x1df71c[_0x1e954d(0x18e)],'apiKey':_0x1df71c[_0x1e954d(0x134)],'apiSecret':_0x1df71c[_0x1e954d(0x26b)],'basecoin':_0x1df71c[_0x1e954d(0x1e3)],'botname':_0x1df71c[_0x1e954d(0x1bb)],'showname':_0x1df71c[_0x1e954d(0x11d)],'threshold':_0x1df71c[_0x1e954d(0x1ee)],'ordertype':_0x1df71c[_0x1e954d(0x248)],'timeout':_0x1df71c[_0x1e954d(0x228)],'startdate':_0x1df71c[_0x1e954d(0x193)],'recreate':_0x1df71c[_0x1e954d(0x263)],'timeshift':_0x1df71c[_0x1e954d(0x26e)],'headless':_0x1df71c[_0x1e954d(0x162)],'cooldown':_0x1df71c['cooldown'],'change24h':_0x1df71c['change24h'],'emojibuy':_0x1df71c[_0x1e954d(0x1c0)],'emojisell':_0x1df71c['emojisell'],'portfolio':_0x1df71c[_0x1e954d(0x1dc)],'liquidity':_0x1df71c[_0x1e954d(0x19c)]},dbConfig[_0x1e954d(0x1b0)](_0x1e954d(0x18a))['remove']()[_0x1e954d(0x1d6)](),dbConfig[_0x1e954d(0x1b0)](_0x1e954d(0x18a))[_0x1e954d(0x1a5)](_0x1df71c)[_0x1e954d(0x1d6)]());}else _0x1df71c={'botID':_0x425cb7,'exchange':_0x1e954d(0x27a),'apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x425cb7,'showname':![],'threshold':0x3,'ordertype':_0x1e954d(0x191),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1e954d(0x26e)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x1df71c;}function emittedConfiguration(){const _0xd2c62d=_0x527fa2;let _0xeb5e8d;if(config['apiKey']=='')_0xeb5e8d={...config,'configstate':'initial'};else config['apiKey']==_0xd2c62d(0x1be)?_0xeb5e8d={...config,'configstate':_0xd2c62d(0x240)}:_0xeb5e8d={...config,'apiKey':_0xd2c62d(0x210),'apiSecret':_0xd2c62d(0x210)};return _0xeb5e8d;}function getSettings(){const _0x252465=_0x527fa2;return dbSettings[_0x252465(0x1b0)]('settings')[_0x252465(0x1e5)]();}function getSecure(){const _0x595374=_0x527fa2;return dbSecure['get']('secure')[_0x595374(0x1e5)]()||{};}function updateTimeshift(_0x10b9c8){const _0x56431f=_0x527fa2;let _0x48a53f=dbConfig[_0x56431f(0x1b0)](_0x56431f(0x18a))[_0x56431f(0x1ef)]({'botID':botID})[_0x56431f(0x1e5)]();_0x48a53f&&dbConfig[_0x56431f(0x1b0)](_0x56431f(0x18a))[_0x56431f(0x1ef)]({'botID':botID})['assign']({'timeshift':_0x10b9c8})[_0x56431f(0x1d6)](),config[_0x56431f(0x26e)]=_0x10b9c8,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x1ff206){const _0x9a3d35=_0x527fa2;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x368c33=dbConfig['get'](_0x9a3d35(0x18a))[_0x9a3d35(0x1ef)]({'botID':botID})['value']();_0x1ff206={..._0x1ff206,'apiKey':crypt[_0x9a3d35(0x16c)](secure['privateKey'],_0x1ff206[_0x9a3d35(0x134)])[_0x9a3d35(0x14e)],'apiSecret':crypt[_0x9a3d35(0x16c)](secure[_0x9a3d35(0x270)],_0x1ff206[_0x9a3d35(0x26b)])[_0x9a3d35(0x14e)]};if(_0x368c33){if(_0x1ff206[_0x9a3d35(0x134)]=='************')_0x1ff206[_0x9a3d35(0x134)]=config[_0x9a3d35(0x134)];if(_0x1ff206[_0x9a3d35(0x26b)]==_0x9a3d35(0x210))_0x1ff206[_0x9a3d35(0x26b)]=config[_0x9a3d35(0x26b)];dbConfig['get'](_0x9a3d35(0x18a))[_0x9a3d35(0x1ef)]({'botID':botID})[_0x9a3d35(0x25e)](_0x1ff206)[_0x9a3d35(0x1d6)]();}else dbConfig[_0x9a3d35(0x1b0)](_0x9a3d35(0x18a))[_0x9a3d35(0x1a5)](_0x1ff206)['write'](),process[_0x9a3d35(0x18f)]({'status':_0x9a3d35(0x118),'live':_0x9a3d35(0x143)},_0x3a4fb9=>{});config={..._0x1ff206},setStartDatePerformance(),process[_0x9a3d35(0x18f)]({'botname':_0x1ff206[_0x9a3d35(0x1bb)]},_0x321d88=>{}),updateBotManager();const _0x9aaa81=getNormalizedPerformance();getStartingBalances(_0x9aaa81),emitPerformance(_0x9aaa81),proxyEmit('configuration-stored'),await initCoinResults(),reset();}async function storeHeadless(_0xc9b8d){const _0x522c75=_0x527fa2,_0x96b64f={...config,'headless':_0xc9b8d[_0x522c75(0x162)]};let _0x5044f9=dbConfig[_0x522c75(0x1b0)](_0x522c75(0x18a))[_0x522c75(0x1ef)]({'botID':botID})[_0x522c75(0x1e5)]();_0x5044f9&&dbConfig[_0x522c75(0x1b0)](_0x522c75(0x18a))[_0x522c75(0x1ef)]({'botID':botID})[_0x522c75(0x25e)](_0x96b64f)[_0x522c75(0x1d6)](),config={..._0x96b64f},updateBotManager(),proxyEmit(_0x522c75(0x16f),emittedConfiguration());}function noslash(_0x170372){const _0x10705f=_0x527fa2;return _0x170372[_0x10705f(0x20f)]('/','');}async function updateNumberCoins(_0xb61a6e){const _0x53a755=_0x527fa2;if(_0xb61a6e[_0x53a755(0x1f7)]&&_0xb61a6e[_0x53a755(0x1f7)]==_0x53a755(0x243)){logger[_0x53a755(0x235)]('0\x20-\x20EXECUTION:\x20'+_0xb61a6e['symbol']+'\x20|\x20'+_0xb61a6e['orderStatus']+_0x53a755(0x1d4)+_0xb61a6e[_0x53a755(0x269)]+_0x53a755(0x1d4)+_0xb61a6e['newClientOrderId']);let _0x3157ad=_0xb61a6e[_0x53a755(0x249)],_0x2cb960=![];currentCoins['forEach'](_0x4f049b=>{const _0x9d7fb2=_0x53a755;noslash(_0x4f049b[_0x9d7fb2(0x25d)])==_0xb61a6e[_0x9d7fb2(0x25d)]&&(_0x2cb960=!![]);});if(!_0x2cb960)return;const _0x3cb25b=currentCoins['find'](_0x48b06b=>noslash(_0x48b06b[_0x53a755(0x25d)])==_0xb61a6e[_0x53a755(0x25d)]),_0x4decd6=_0x4078b9=>{const _0x479777=_0x53a755;if(_0x3cb25b)_0x3cb25b[_0x479777(0x274)]=_0x4078b9;};if(_0x3157ad==_0x53a755(0x1bc))_0x4decd6(_0x53a755(0x15c));else{if(_0x3157ad==_0x53a755(0x1e0))_0x4decd6(_0x53a755(0x1e4)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x3157ad==_0x53a755(0x11e)){logger['debug'](_0x53a755(0x1bf)+_0xb61a6e[_0x53a755(0x25d)]+_0x53a755(0x1d4)+_0xb61a6e[_0x53a755(0x1b2)]+'\x20|\x20'+_0xb61a6e[_0x53a755(0x269)]+_0x53a755(0x1d4)+_0xb61a6e[_0x53a755(0x12b)]);let _0x57f1ea=![];if(lastOrders)lastOrders['forEach'](async _0x584728=>{const _0x13eef9=_0x53a755;if(_0x584728[_0x13eef9(0x1ec)]==_0xb61a6e['newClientOrderId']){logger[_0x13eef9(0x235)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0xb61a6e[_0x13eef9(0x12b)]),_0x57f1ea=!![];if(_0x584728[_0x13eef9(0x227)]==0x0){logger['debug'](_0x13eef9(0x1c4)+_0xb61a6e[_0x13eef9(0x12b)]),_0x584728[_0x13eef9(0x1ab)]=_0xb61a6e[_0x13eef9(0x218)]/_0xb61a6e[_0x13eef9(0x1b2)],_0x584728[_0x13eef9(0x227)]=_0xb61a6e[_0x13eef9(0x1b2)],_0x584728['fee']={'cost':_0xb61a6e[_0x13eef9(0x265)],'currency':_0xb61a6e[_0x13eef9(0x12d)]},_0x4decd6('filled'),await validateOrders();if(lockOrders==ORDERS[_0x13eef9(0x204)])currentCoins=await getCoins();await updateCoinResults(_0x584728);}}});!_0x57f1ea&&(logger[_0x53a755(0x235)](_0x53a755(0x1f8)+_0xb61a6e[_0x53a755(0x269)]),_0x4decd6(_0x53a755(0x227)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x25a3a5=JSON[_0x53a755(0x272)](lastBalances['portfolio']);const _0x2cae7c=_0x25a3a5[_0x53a755(0x1ef)](_0x1eabf8=>noslash(_0x1eabf8[_0x53a755(0x25d)])==_0xb61a6e['symbol']);if(_0x2cae7c){if(_0x3157ad==_0x53a755(0x1bc))_0x2cae7c['orderstatus']=_0x2cae7c[_0x53a755(0x274)]==_0x53a755(0x227)?_0x53a755(0x227):_0x53a755(0x15c);else{if(_0x3157ad==_0x53a755(0x1e0))_0x2cae7c['orderstatus']=_0x2cae7c['orderstatus']=='filled'?_0x53a755(0x227):'canceled';else _0x3157ad=='FILLED'&&(_0x2cae7c['orderstatus']=_0x53a755(0x227));}}lastBalances={...lastBalances,'portfolio':JSON[_0x53a755(0x16e)](_0x25a3a5)},proxyEmit(_0x53a755(0x151),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x585db9=![],_0x50ad50=!![],_0x8024da=config['basecoin']){const _0x2cf6e6=_0x527fa2;let _0x5bd95f,_0x6f5dc8=[],_0x42be9f=[],_0x2778dc=[];try{_0x5bd95f=await exchange[_0x2cf6e6(0x1c5)](),mybalances=_0x5bd95f['total'];if(!_0x50ad50)for(const [_0x33cd4f,_0x2f300b]of Object[_0x2cf6e6(0x24c)](mybalances)){_0x2778dc[_0x2cf6e6(0x1a5)](_0x33cd4f);}else config[_0x2cf6e6(0x1dc)]['forEach'](_0x501d17=>{const _0x56bb23=_0x2cf6e6;if(!_0x501d17[_0x56bb23(0x17d)])_0x2778dc[_0x56bb23(0x1a5)](_0x501d17['coin']);});if(_0x8024da=='')for(const [_0x11f188,_0x269fab]of Object[_0x2cf6e6(0x24c)](mybalances)){_0x269fab[_0x2cf6e6(0x1ff)]()!=0x0&&_0x42be9f[_0x2cf6e6(0x1a5)]({'coin':_0x11f188});}else{if(_0x585db9)await getOpenOrders();let _0x4f463d=![];for(const [_0x1ccb6d,_0x1d0bab]of Object[_0x2cf6e6(0x24c)](mybalances)){if(_0x2778dc['includes'](_0x1ccb6d)){const _0xafc0da=config[_0x2cf6e6(0x1dc)][_0x2cf6e6(0x1ef)](_0x10d588=>_0x10d588[_0x2cf6e6(0x212)]==_0x1ccb6d),_0x2449c5=_0x1ccb6d+'/'+_0x8024da,_0x3edc6a=_0x8024da+'/'+_0x1ccb6d,_0x414093=currentCoins[_0x2cf6e6(0x1ef)](_0x55f653=>_0x55f653['coin']==_0x1ccb6d);_0x4f463d=![];_0x585db9&&(_0x4f463d=allOpenOrders[_0x2cf6e6(0x1ef)](_0x2d2c27=>_0x2d2c27['symbol']==_0xafc0da['symbol']));if((_0x1d0bab[_0x2cf6e6(0x1ff)]()!=0x0||_0xafc0da)&&(allSymbols[_0x2cf6e6(0x1a2)](_0x2449c5)||_0x1ccb6d==_0x8024da))_0x1ccb6d!=_0x8024da&&_0x6f5dc8[_0x2cf6e6(0x1a5)](_0x2449c5),_0x42be9f[_0x2cf6e6(0x1a5)]({'coin':_0x1ccb6d,'symbol':_0x2449c5,'reverse':![],'number':Math['max'](_0x1d0bab+(_0xafc0da&&_0xafc0da[_0x2cf6e6(0x178)]||0x0),0x0),'orderstatus':_0x585db9?_0x4f463d?'open':'none':_0x414093?_0x414093['orderstatus']:_0x2cf6e6(0x20b)});else(_0x1d0bab[_0x2cf6e6(0x1ff)]()!=0x0||_0xafc0da)&&allSymbols['includes'](_0x3edc6a)&&(_0x1ccb6d!=_0x8024da&&_0x6f5dc8[_0x2cf6e6(0x1a5)](_0x3edc6a),_0x42be9f[_0x2cf6e6(0x1a5)]({'coin':_0x1ccb6d,'symbol':_0x3edc6a,'reverse':!![],'number':Math[_0x2cf6e6(0x22d)](_0x1d0bab+(_0xafc0da&&_0xafc0da[_0x2cf6e6(0x178)]||0x0),0x0),'orderstatus':_0x585db9?_0x4f463d?'open':'none':_0x414093?_0x414093[_0x2cf6e6(0x274)]:'none'}));}}}}catch(_0x5105a7){if(!_0x50ad50)handleErrorNoStop(_0x5105a7,_0x2cf6e6(0x19b));else await handleError(_0x5105a7,_0x2cf6e6(0x19b));}return _0x42be9f;}async function getCoinNumber(_0x53d9cf){const _0x25f8a6=_0x527fa2;let _0x4174c5;try{const _0x208f09=await exchange['fetchBalance']();_0x4174c5=_0x208f09[_0x25f8a6(0x141)][_0x53d9cf];}catch(_0x3119e0){await handleError(_0x3119e0,'getCoinNumber()');}return _0x4174c5;}async function getOpenOrders(){const _0x5ad132=_0x527fa2;let _0x216d13;allOpenOrders=[];try{for(const _0x4f60b0 of config[_0x5ad132(0x1dc)]){!_0x4f60b0[_0x5ad132(0x17d)]&&_0x4f60b0[_0x5ad132(0x212)]!=config['basecoin']&&(_0x216d13=await exchange['fetchOpenOrders'](_0x4f60b0['symbol']),_0x216d13[_0x5ad132(0x130)]>0x0&&allOpenOrders[_0x5ad132(0x1a5)](_0x216d13[0x0]));}}catch(_0x24848c){await handleError(_0x24848c,'getOpenOrders()');}}async function handleOpenOrders(_0x392634=0x0){const _0x7ebac1=_0x527fa2;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x7ebac1(0x204)]&&allOrdersPlaced&&(_0x392634==0x0?(logger[_0x7ebac1(0x235)](_0x7ebac1(0x262)),_0x392634++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x7ebac1(0x21d)),validateOrders('no\x20open\x20orders')));}async function getPortfolio(_0x263f6d){const _0x1d62fd=_0x527fa2;let _0x1b1535=[],_0x168791=[],_0x504ec0,_0x42552c=[],_0x386b57,_0x424b42;_0x263f6d[_0x1d62fd(0x134)]===_0x1d62fd(0x210)||_0x263f6d[_0x1d62fd(0x26b)]===_0x1d62fd(0x210)?(_0x386b57=config['apiKey'],_0x424b42=config[_0x1d62fd(0x26b)]):(_0x386b57=_0x263f6d[_0x1d62fd(0x134)],_0x424b42=_0x263f6d[_0x1d62fd(0x26b)]);await initExchange(_0x386b57,_0x424b42);let _0x2c03ee=![];try{_0x2c03ee=await loadSymbols();}catch(_0x19f88b){_0x2c03ee=![],handleErrorNoStop(_0x19f88b,_0x1d62fd(0x1c2));}if(_0x2c03ee){_0x42552c=await getCoins(![],![],_0x263f6d[_0x1d62fd(0x1e3)]);if(_0x42552c===![])proxyEmit('portfolio',![]);else{if(_0x263f6d[_0x1d62fd(0x1e3)]=='')proxyEmit(_0x1d62fd(0x1dc),_0x42552c);else{_0x42552c[_0x1d62fd(0x138)](_0x179cae=>{const _0x59af5a=_0x1d62fd;if(_0x179cae[_0x59af5a(0x212)]!=_0x263f6d[_0x59af5a(0x1e3)])_0x1b1535[_0x59af5a(0x1a5)](_0x179cae['symbol']);});try{_0x168791=await exchange[_0x1d62fd(0x225)](_0x1b1535);}catch(_0x44026a){await handleError(_0x44026a,_0x1d62fd(0x1d8));}_0x42552c[_0x1d62fd(0x138)](_0x48cab8=>{const _0x2fd0aa=_0x1d62fd;_0x48cab8[_0x2fd0aa(0x212)]!=_0x263f6d[_0x2fd0aa(0x1e3)]?_0x504ec0=_0x48cab8[_0x2fd0aa(0x21a)]?0x1/_0x168791[_0x48cab8[_0x2fd0aa(0x25d)]][_0x2fd0aa(0x264)]:_0x168791[_0x48cab8[_0x2fd0aa(0x25d)]][_0x2fd0aa(0x264)]:_0x504ec0=0x1,_0x48cab8[_0x2fd0aa(0x1ab)]=formatResult(_0x504ec0,0x8);}),proxyEmit(_0x1d62fd(0x1dc),_0x42552c);}}}else proxyEmit(_0x1d62fd(0x1dc),![]);}function checkMinimums(_0x19c72c){const _0x4af48b=_0x527fa2;let _0x1456c4=!![];const _0x286550=!_0x19c72c['reverse']?markets[_0x19c72c['symbol']][_0x4af48b(0x12a)][_0x4af48b(0x1ad)][_0x4af48b(0x1da)]:markets[_0x19c72c[_0x4af48b(0x25d)]]['limits'][_0x4af48b(0x16d)][_0x4af48b(0x1da)],_0x5a211f=!_0x19c72c[_0x4af48b(0x21a)]?markets[_0x19c72c[_0x4af48b(0x25d)]][_0x4af48b(0x12a)][_0x4af48b(0x16d)][_0x4af48b(0x1da)]:markets[_0x19c72c[_0x4af48b(0x25d)]][_0x4af48b(0x12a)]['amount'][_0x4af48b(0x1da)],_0x2c225b=markets[_0x19c72c[_0x4af48b(0x25d)]][_0x4af48b(0x170)][_0x4af48b(0x1ad)];_0x19c72c['trade']=formatResultTruncate(_0x19c72c[_0x4af48b(0x23c)],_0x2c225b);if(Math['abs'](_0x19c72c['trade'])<_0x286550)_0x1456c4=![];if(Math[_0x4af48b(0x1b8)](_0x19c72c[_0x4af48b(0x23c)])*_0x19c72c['last']<_0x5a211f)_0x1456c4=![];if(_0x19c72c[_0x4af48b(0x171)]==_0x4af48b(0x21b)){let _0xafad05=config[_0x4af48b(0x1dc)][_0x4af48b(0x1ef)](_0x379731=>_0x379731[_0x4af48b(0x212)]==_0x19c72c[_0x4af48b(0x212)]);if(_0xafad05[_0x4af48b(0x178)]>0x0){if(Math['abs'](_0x19c72c[_0x4af48b(0x23c)])>_0x19c72c['number']-_0xafad05[_0x4af48b(0x178)])_0x1456c4=![];}else{if(Math[_0x4af48b(0x1b8)](_0x19c72c[_0x4af48b(0x23c)])>_0x19c72c[_0x4af48b(0x1b1)])_0x1456c4=![];}}if(_0x19c72c[_0x4af48b(0x171)]==_0x4af48b(0x24d)){let _0x28b323=config[_0x4af48b(0x1dc)][_0x4af48b(0x1ef)](_0x4ca153=>_0x4ca153[_0x4af48b(0x212)]==config[_0x4af48b(0x1e3)]),_0x1077cc=currentCoins[_0x4af48b(0x1ef)](_0x1194e1=>_0x1194e1[_0x4af48b(0x212)]==config[_0x4af48b(0x1e3)]);if(_0x28b323[_0x4af48b(0x178)]>0x0){if(Math[_0x4af48b(0x1b8)](_0x19c72c[_0x4af48b(0x23c)])*_0x19c72c[_0x4af48b(0x264)]>_0x1077cc[_0x4af48b(0x1b1)]-_0x28b323[_0x4af48b(0x178)])_0x1456c4=![];}else{if(Math[_0x4af48b(0x1b8)](_0x19c72c[_0x4af48b(0x23c)])*_0x19c72c[_0x4af48b(0x264)]>_0x1077cc[_0x4af48b(0x1b1)])_0x1456c4=![];}}return _0x1456c4;}async function getBalances(){const _0x18c14d=_0x527fa2;let _0x54dc17=0x0,_0xc395bc;const _0x19dce5=config['threshold'];if(config['headless']&&config[_0x18c14d(0x254)]<0x0)await validate24hChanges();currentCoins[_0x18c14d(0x138)](_0x5460dc=>{const _0x2ed33b=_0x18c14d;if(_0x5460dc[_0x2ed33b(0x212)]!=config[_0x2ed33b(0x1e3)]){let _0x5cf594=global[_0x2ed33b(0x246)][noslash(_0x5460dc['symbol'])];_0xc395bc=_0x5460dc[_0x2ed33b(0x21a)]?0x1/_0x5cf594:_0x5cf594;}else _0xc395bc=0x1;let _0x3d6e57=_0x5460dc[_0x2ed33b(0x1b1)]*_0xc395bc;_0x54dc17+=_0x3d6e57,_0x5460dc['last']=formatResult(Number(_0xc395bc),0x8),_0x5460dc['value']=_0x3d6e57;}),currentCoins[_0x18c14d(0x138)](_0x2eb8cb=>{const _0x6e0610=_0x18c14d;let _0x16dec2=config[_0x6e0610(0x1dc)]['find'](_0x442ccb=>_0x442ccb['coin']==_0x2eb8cb[_0x6e0610(0x212)]),_0x4f8f5a=Number(_0x16dec2[_0x6e0610(0x168)]),_0x4fefb0=_0x2eb8cb['value']/_0x54dc17*0x64,_0x2d10fb=_0x4f8f5a*_0x54dc17/0x64/_0x2eb8cb[_0x6e0610(0x264)]-_0x2eb8cb[_0x6e0610(0x1b1)];_0x2eb8cb[_0x6e0610(0x168)]=formatResult(_0x4fefb0,0x3),_0x2eb8cb['target']=formatResult(_0x4f8f5a,0x3),_0x2eb8cb['trade']=formatResult(_0x2d10fb,0x8),_0x2eb8cb[_0x6e0610(0x171)]='',_0x2eb8cb[_0x6e0610(0x1b4)]=![];if(_0x2eb8cb[_0x6e0610(0x212)]!=config[_0x6e0610(0x1e3)]){if(_0x2eb8cb[_0x6e0610(0x168)]>_0x4f8f5a)_0x2eb8cb[_0x6e0610(0x171)]=_0x6e0610(0x21b),_0x2eb8cb['valid']=checkMinimums(_0x2eb8cb);else _0x2eb8cb[_0x6e0610(0x168)]<_0x4f8f5a&&(_0x2eb8cb[_0x6e0610(0x171)]=_0x6e0610(0x24d),_0x2eb8cb[_0x6e0610(0x1b4)]=checkMinimums(_0x2eb8cb));}_0x2eb8cb[_0x6e0610(0x1db)]=_0x2eb8cb[_0x6e0610(0x168)]/_0x2eb8cb[_0x6e0610(0x22b)]-0x1;if(_0x2eb8cb[_0x6e0610(0x274)]==_0x6e0610(0x227)||_0x2eb8cb['orderstatus']==_0x6e0610(0x1e4))_0x2eb8cb[_0x6e0610(0x274)]=_0x6e0610(0x20b);}),currentCoins[_0x18c14d(0x203)]((_0x365c48,_0x2f1423)=>_0x365c48['delta']<_0x2f1423[_0x18c14d(0x1db)]?0x1:_0x2f1423['delta']<_0x365c48[_0x18c14d(0x1db)]?-0x1:0x0);const _0x5bca7b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5bca7b['eur'],'usd':_0x5bca7b['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x19dce5},proxyEmit(_0x18c14d(0x151),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x19dce5});else{if(lockOrders==ORDERS[_0x18c14d(0x23d)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x19dce5});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x31e2cf=_0x527fa2;if(!lastBalances)return;let _0x1f5e22=[],_0xbf9e01,_0x506242=JSON['parse'](lastBalances[_0x31e2cf(0x1dc)]);_0x506242['sort']((_0x130448,_0x3b60fd)=>_0x130448['coin']>_0x3b60fd[_0x31e2cf(0x212)]?0x1:_0x3b60fd[_0x31e2cf(0x212)]>_0x130448['coin']?-0x1:0x0),_0x506242[_0x31e2cf(0x138)](_0x40c2f0=>{const _0x3367c3=_0x31e2cf;let _0x42c2d3={'coin':_0x40c2f0[_0x3367c3(0x212)],'number':_0x40c2f0[_0x3367c3(0x1b1)],'price':_0x40c2f0['last']};_0x1f5e22[_0x3367c3(0x1a5)](_0x42c2d3);});const _0x3aee34=await getFiat();_0xbf9e01={'date':lastBalances[_0x31e2cf(0x161)][_0x31e2cf(0x25a)]('\x20')[0x0],'eur':_0x3aee34['eur'],'usd':_0x3aee34['usd'],'coins':_0x1f5e22};let _0x3361ad=dbPerformance['get'](_0x31e2cf(0x237))[_0x31e2cf(0x1ef)]({'date':_0xbf9e01[_0x31e2cf(0x126)]})['value']();_0x3361ad?_0xbf9e01['date']!=config[_0x31e2cf(0x193)]&&dbPerformance[_0x31e2cf(0x1b0)](_0x31e2cf(0x237))['find']({'date':_0xbf9e01[_0x31e2cf(0x126)]})[_0x31e2cf(0x25e)](_0xbf9e01)[_0x31e2cf(0x1d6)]():dbPerformance[_0x31e2cf(0x1b0)]('data')[_0x31e2cf(0x1a5)](_0xbf9e01)[_0x31e2cf(0x1d6)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x94a7c7=_0x527fa2;let _0x9d3c8d=[];if(dbPerformance[_0x94a7c7(0x182)](_0x94a7c7(0x237))['value']()){let _0x3c336e=dbPerformance[_0x94a7c7(0x1b0)]('data')['cloneDeep']()[_0x94a7c7(0x1d2)](_0x94a7c7(0x126))[_0x94a7c7(0x1e5)](),_0x10e24b=[...config[_0x94a7c7(0x19c)]];_0x10e24b[_0x94a7c7(0x203)]((_0x11a616,_0x292d93)=>_0x11a616[_0x94a7c7(0x126)]>_0x292d93['date']?-0x1:_0x292d93[_0x94a7c7(0x126)]>_0x11a616[_0x94a7c7(0x126)]?0x1:0x0);let _0x5559fa=0x1,_0x21dfdd=[],_0x205d45=0x0;_0x3c336e['slice']()[_0x94a7c7(0x21a)]()[_0x94a7c7(0x138)]((_0x53eb30,_0x439d11)=>{const _0x3ff97c=_0x94a7c7;if(_0x10e24b[_0x205d45]){if(_0x3c336e[_0x3c336e[_0x3ff97c(0x130)]-_0x439d11]&&_0x10e24b[_0x205d45]['date']==_0x3c336e[_0x3c336e['length']-_0x439d11][_0x3ff97c(0x126)]){if(_0x439d11<_0x3c336e['length']){let _0x590f36=0x0,_0x53099b=0x0;_0x3c336e[_0x3c336e[_0x3ff97c(0x130)]-_0x439d11]['coins']['forEach'](_0x449d9c=>{const _0x2ee0dc=_0x3ff97c;_0x53099b+=_0x449d9c['number']*_0x449d9c[_0x2ee0dc(0x1ab)];}),_0x10e24b[_0x205d45][_0x3ff97c(0x1f3)][_0x3ff97c(0x138)](_0x2bed8b=>{const _0x194a3a=_0x3ff97c;_0x590f36+=_0x2bed8b[_0x194a3a(0x1b1)]*_0x2bed8b[_0x194a3a(0x1ab)];}),_0x5559fa*=_0x590f36/(_0x53099b-_0x590f36)+0x1;}_0x205d45++;}}let _0x275fe6=0x0;_0x53eb30[_0x3ff97c(0x1b6)][_0x3ff97c(0x138)](_0x446b15=>{const _0x331a20=_0x3ff97c;_0x275fe6+=_0x446b15[_0x331a20(0x1b1)]*_0x446b15['price'];}),_0x21dfdd[_0x3c336e[_0x3ff97c(0x130)]-_0x439d11-0x1]=_0x275fe6*(_0x5559fa-0x1);});let _0xc4cca2=[];_0x10e24b=[...config['liquidity']]||[];let _0x34c7b7=0x0;_0x205d45=0x0,_0x3c336e['forEach']((_0x387b34,_0x1b41ce)=>{const _0x1e3b16=_0x94a7c7;if(_0x10e24b[_0x205d45]){const _0xae78e4=fns[_0x1e3b16(0x272)](_0x10e24b[_0x205d45][_0x1e3b16(0x126)],'yyyy/MM/dd',new Date()),_0xc71bdf=fns[_0x1e3b16(0x272)](_0x387b34['date'],_0x1e3b16(0x1fd),new Date());if(fns[_0x1e3b16(0x20d)](_0xae78e4,_0xc71bdf)){let _0x5d7a44=0x0;_0x10e24b[_0x205d45][_0x1e3b16(0x1f3)][_0x1e3b16(0x138)](_0xaea238=>{const _0x2ed15c=_0x1e3b16;!_0xc4cca2[_0xaea238[_0x2ed15c(0x212)]]?_0xc4cca2[_0xaea238[_0x2ed15c(0x212)]]=_0xaea238['number']:(_0x5d7a44=_0xc4cca2[_0xaea238[_0x2ed15c(0x212)]],_0xc4cca2[_0xaea238[_0x2ed15c(0x212)]]+=_0xaea238[_0x2ed15c(0x1b1)]);const _0x30f502=_0x387b34[_0x2ed15c(0x1b6)]['find'](_0x4f5af2=>_0x4f5af2[_0x2ed15c(0x212)]==_0xaea238[_0x2ed15c(0x212)]);(!_0x30f502||_0x30f502[_0x2ed15c(0x1b1)]==0x0)&&(_0x34c7b7+=(-_0xaea238[_0x2ed15c(0x1b1)]-_0x5d7a44)*_0xaea238[_0x2ed15c(0x1ab)]);}),_0x205d45++;}}_0x387b34[_0x1e3b16(0x1b6)][_0x1e3b16(0x138)]((_0x56ecbb,_0x1d2591)=>{const _0xe4ef0c=_0x1e3b16;_0xc4cca2[_0x56ecbb[_0xe4ef0c(0x212)]]&&(_0x56ecbb={..._0x56ecbb,'initial':_0xc4cca2[_0x56ecbb['coin']]}),_0x387b34['coins'][_0x1d2591]=_0x56ecbb;}),_0x9d3c8d['push']({'date':_0x387b34['date'],'eur':_0x387b34['eur'],'usd':_0x387b34[_0x1e3b16(0x1b9)],'offset':_0x21dfdd[_0x1b41ce],'netoffset':_0x34c7b7,'coins':_0x387b34[_0x1e3b16(0x1b6)]});});}return _0x9d3c8d;}function emitPerformance(_0x49f3ca){const _0x4a471c=_0x527fa2;_0x49f3ca['length']!==0x0?(proxyEmit(_0x4a471c(0x160),_0x49f3ca),lastPerformanceEmitted=getDate()):proxyEmit(_0x4a471c(0x160),[]);}function getPerf(_0x57f4cc,_0x5f3cbb){const _0x4508c3=_0x527fa2;let _0x53c836=0x0,_0x3ce0ef=0x0,_0x4cf189=0x0;_0x57f4cc[_0x4508c3(0x1b6)][_0x4508c3(0x138)](_0x58dbc2=>{const _0x4d3e23=_0x4508c3;_0x53c836+=_0x58dbc2[_0x4d3e23(0x1b1)]*_0x58dbc2['price'];});_0x5f3cbb&&(_0x53c836+=_0x57f4cc['offset']);if(config[_0x4508c3(0x1e3)]===_0x4508c3(0x19f)||config[_0x4508c3(0x1e3)]===_0x4508c3(0x169))_0x3ce0ef=_0x53c836*_0x57f4cc['eur'],_0x4cf189=_0x53c836*_0x57f4cc[_0x4508c3(0x1b9)];else{if(config['basecoin']===_0x4508c3(0x1c1)||config[_0x4508c3(0x1e3)]===_0x4508c3(0x268))_0x3ce0ef=_0x53c836*_0x57f4cc[_0x4508c3(0x26a)]/_0x57f4cc[_0x4508c3(0x1b9)],_0x4cf189=_0x53c836;else config['basecoin']===_0x4508c3(0x152)&&(_0x3ce0ef=_0x53c836,_0x4cf189=_0x53c836*_0x57f4cc[_0x4508c3(0x1b9)]/_0x57f4cc[_0x4508c3(0x26a)]);}return[_0x53c836,_0x3ce0ef,_0x4cf189];}function getKPIs(_0xb424f,_0x2746e7=_0x527fa2(0x152)){const _0x18c92b=_0x527fa2,_0x510274=config['basecoin'],_0x350c7f=config[_0x18c92b(0x151)],_0x22bf7e=currentCoins,_0x184f75=getNormalizedPerformance(),_0x5393f7=_0xb424f===_0x18c92b(0x1e3)?_0x510274:_0xb424f===_0x18c92b(0x13b)||_0xb424f===_0x18c92b(0x136)?_0x2746e7:_0x18c92b(0x201)+_0x510274,_0x50c52c=_0xb424f==='net-basecoin'?_0x18c92b(0x221):_0xb424f==='net-fiat'?_0x18c92b(0x231)+_0x5393f7+')':_0x5393f7+_0x18c92b(0x146),_0x39130a=_0xb424f==='net-basecoin'||_0xb424f===_0x18c92b(0x136)?_0x18c92b(0x221):_0x5393f7+_0x18c92b(0x1f4);let _0xf56c1=0x0;_0x22bf7e[_0x18c92b(0x138)](_0x1d0854=>{const _0x57b456=_0x18c92b;_0xf56c1+=_0x1d0854[_0x57b456(0x1b1)]*_0x1d0854[_0x57b456(0x264)];});if(_0xb424f==='fiat'||_0xb424f===_0x18c92b(0x136)){if(_0x510274===_0x18c92b(0x19f)||_0x510274==='ETH')_0xf56c1=_0xf56c1*(_0x2746e7==='EUR'?_0x350c7f[_0x18c92b(0x26a)]:_0x350c7f['usd']);else{if(_0x510274===_0x18c92b(0x1c1)||_0x510274==='USDT')_0xf56c1=_0xf56c1*(_0x2746e7===_0x18c92b(0x152)?_0x350c7f['eur']/_0x350c7f[_0x18c92b(0x1b9)]:0x1);else _0x510274===_0x18c92b(0x152)&&(_0xf56c1=_0xf56c1*(_0x2746e7==='EUR'?0x1:_0x350c7f[_0x18c92b(0x1b9)]/_0x350c7f[_0x18c92b(0x26a)]));}}let _0x1d5181;if(_0xf56c1!==0x0){if(_0xb424f===_0x18c92b(0x1e3))_0x1d5181=(_0xf56c1/startingBalances[_0x18c92b(0x1e3)]-0x1)*0x64;else{if(_0x2746e7===_0x18c92b(0x152))_0x1d5181=(_0xf56c1/startingBalances[_0x18c92b(0x26a)]-0x1)*0x64;else _0x1d5181=(_0xf56c1/startingBalances['usd']-0x1)*0x64;}let _0x5fdce3=0x0;if(startingBalances[_0x18c92b(0x1b6)])_0x22bf7e[_0x18c92b(0x138)](_0x3f9bbc=>{const _0x36f15b=_0x18c92b;let _0x950c90=startingBalances[_0x36f15b(0x1b6)]['find'](_0x209dd5=>_0x209dd5[_0x36f15b(0x212)]===_0x3f9bbc[_0x36f15b(0x212)]);if(_0x950c90&&_0x950c90[_0x36f15b(0x212)]&&_0x3f9bbc[_0x36f15b(0x1b1)]!==0x0)_0x5fdce3+=_0x950c90[_0x36f15b(0x1b1)]*_0x3f9bbc[_0x36f15b(0x264)];});let _0xb778df=0x0;if(_0x184f75['length']!==0x0){let _0x46d066=_0x184f75[_0x184f75[_0x18c92b(0x130)]-0x1];_0xb778df=_0x46d066['netoffset'];}_0x5fdce3-=_0xb778df;_0xb424f===_0x18c92b(0x158)&&(_0x1d5181=(_0xf56c1-_0x5fdce3)/startingBalances['basecoin']*0x64,_0xf56c1=_0xf56c1-_0x5fdce3);if(_0xb424f===_0x18c92b(0x136)){let _0x5c28c7=_0x2746e7==='EUR'?startingBalances[_0x18c92b(0x26a)]:startingBalances[_0x18c92b(0x1b9)];if(_0x510274===_0x18c92b(0x19f)||_0x510274===_0x18c92b(0x169))_0x5fdce3=_0x2746e7==='EUR'?_0x5fdce3*_0x350c7f[_0x18c92b(0x26a)]:_0x5fdce3*_0x350c7f[_0x18c92b(0x1b9)];else{if(_0x510274==='BUSD'||_0x510274===_0x18c92b(0x268))_0x5fdce3=_0x2746e7===_0x18c92b(0x152)?_0x5fdce3*_0x350c7f[_0x18c92b(0x26a)]/_0x350c7f[_0x18c92b(0x1b9)]:_0x5fdce3;else _0x510274===_0x18c92b(0x152)&&(_0x5fdce3=_0x2746e7===_0x18c92b(0x152)?_0x5fdce3:_0x5fdce3*_0x350c7f['usd']/_0x350c7f['eur']);}_0x1d5181=(_0xf56c1-_0x5fdce3)/_0x5c28c7*0x64,_0xf56c1=_0xf56c1-_0x5fdce3;}if(_0x1d5181){if(_0x1d5181<0x64)_0x1d5181=_0x1d5181['toFixed'](0x2);else{if(_0x1d5181<0x3e8)_0x1d5181=_0x1d5181[_0x18c92b(0x180)](0x1);else _0x1d5181=_0x1d5181[_0x18c92b(0x180)](0x0);}}else _0x1d5181=Number('0')[_0x18c92b(0x180)](0x2);if(_0xf56c1){if(Math[_0x18c92b(0x1b8)](_0xf56c1)<0.000001)_0xf56c1=_0xf56c1[_0x18c92b(0x180)](0x2);else{if(Math[_0x18c92b(0x1b8)](_0xf56c1)<0.1)_0xf56c1=_0xf56c1[_0x18c92b(0x180)](0x6);else{if(Math[_0x18c92b(0x1b8)](_0xf56c1)<0x1)_0xf56c1=_0xf56c1[_0x18c92b(0x180)](0x5);else{if(Math[_0x18c92b(0x1b8)](_0xf56c1)<0xa)_0xf56c1=_0xf56c1[_0x18c92b(0x180)](0x4);else{if(Math[_0x18c92b(0x1b8)](_0xf56c1)<0x64)_0xf56c1=_0xf56c1[_0x18c92b(0x180)](0x3);else{if(Math[_0x18c92b(0x1b8)](_0xf56c1)<0x3e8)_0xf56c1=_0xf56c1[_0x18c92b(0x180)](0x2);else _0xf56c1=_0xf56c1[_0x18c92b(0x180)](0x2);}}}}}}else _0xf56c1=Number('0')[_0x18c92b(0x180)](0x2);}else _0x1d5181=Number('0')[_0x18c92b(0x180)](0x2);return{'value':_0xf56c1,'change':_0x1d5181,'leftTxt':_0x50c52c,'rightTxt':_0x39130a};}async function getStartingBalances(_0x3a1be9,_0x385a14=!![]){const _0x147a00=_0x527fa2;if(_0x3a1be9['length']!==0x0){const [_0x575122,_0x489b46,_0xa7c9a2]=getPerf(_0x3a1be9[0x0],!![]);let _0x4b54c1=[];config[_0x147a00(0x1dc)][_0x147a00(0x138)](_0x3b14bd=>{const _0xd0b25a=_0x147a00;let _0x54ae64=0x0,_0x2020d4;config[_0xd0b25a(0x19c)][_0xd0b25a(0x138)](_0x1eef55=>{const _0x7b0a55=_0xd0b25a;let _0x64ddc8=_0x1eef55[_0x7b0a55(0x1f3)][_0x7b0a55(0x1ef)](_0x411730=>_0x411730[_0x7b0a55(0x212)]==_0x3b14bd[_0x7b0a55(0x212)]);if(_0x64ddc8){_0x54ae64+=_0x64ddc8[_0x7b0a55(0x1b1)];if(!_0x2020d4)_0x2020d4=_0x64ddc8[_0x7b0a55(0x1ab)];}}),_0x4b54c1[_0xd0b25a(0x1a5)]({'coin':_0x3b14bd[_0xd0b25a(0x212)],'number':_0x54ae64,'initialprice':_0x2020d4});});const _0x25ceba={'basecoin':_0x575122,'eur':_0x489b46,'usd':_0xa7c9a2,'coins':_0x4b54c1};if(_0x385a14)proxyEmit('starting-balances',_0x25ceba);startingBalances=_0x25ceba;}}function headlessMode(_0x18d55e){const _0x3cfc59=_0x527fa2;let _0x53dd98=_0x18d55e['portfolio'],_0x46217f=_0x18d55e['threshold'],_0x3011ac=[];for(let _0x216ac1 of _0x53dd98){if(_0x216ac1[_0x3cfc59(0x212)]!=config[_0x3cfc59(0x1e3)]){if(_0x216ac1[_0x3cfc59(0x1db)]>=_0x46217f/0x64){if(_0x216ac1[_0x3cfc59(0x1b4)])_0x3011ac[_0x3cfc59(0x1a5)](_0x216ac1);}else{if(_0x216ac1[_0x3cfc59(0x1db)]<=-_0x46217f/0x64){if(_0x216ac1['valid'])_0x3011ac['push'](_0x216ac1);}}}}_0x3011ac[_0x3cfc59(0x130)]>0x0&&placeOrder(_0x3011ac);}function notifyBalance(_0x3f41d6){const _0x675dfb=_0x527fa2;let _0x178709=_0x3f41d6[_0x675dfb(0x1dc)],_0x2055c0=_0x3f41d6['threshold'],_0x143a81=[];for(let _0x49f1dd of _0x178709){if(_0x49f1dd['coin']!=config['basecoin']){if(_0x49f1dd[_0x675dfb(0x1db)]>=_0x2055c0/0x64){if(_0x49f1dd[_0x675dfb(0x1b4)])_0x143a81[_0x675dfb(0x1a5)](_0x49f1dd);}else{if(_0x49f1dd['delta']<=-_0x2055c0/0x64){if(_0x49f1dd[_0x675dfb(0x1b4)])_0x143a81[_0x675dfb(0x1a5)](_0x49f1dd);}}}}if(_0x143a81[_0x675dfb(0x130)]>0x0){let _0x33321f=_0x143a81[_0x675dfb(0x159)](_0x5dd287=>_0x5dd287[_0x675dfb(0x212)]);_0x33321f[_0x675dfb(0x203)]();let _0x309b07=_0x33321f[_0x675dfb(0x1e9)](',\x20');if(!lastCoinsToBalance)logHistory(_0x675dfb(0x131),_0x675dfb(0x14c));lastCoinsToBalance=_0x309b07;}}function symbolToCoin(_0x15ecfc){const _0x2c88ab=_0x527fa2;let _0x13d2d5;if(_0x15ecfc[_0x2c88ab(0x1a2)]('/'+config[_0x2c88ab(0x1e3)]))_0x13d2d5=_0x15ecfc[_0x2c88ab(0x20f)]('/'+config[_0x2c88ab(0x1e3)],'');if(_0x15ecfc[_0x2c88ab(0x1a2)](config[_0x2c88ab(0x1e3)]+'/'))_0x13d2d5=_0x15ecfc[_0x2c88ab(0x20f)](config[_0x2c88ab(0x1e3)]+'/','');return _0x13d2d5;}async function unlockOrders(){const _0x576621=_0x527fa2;if(allOrdersPlaced&&lockOrders==ORDERS[_0x576621(0x204)]){logger[_0x576621(0x235)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x576621(0x230)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x576621(0x196),persistOpenOrders([]),lockOrders=ORDERS[_0x576621(0x23d)],logger[_0x576621(0x235)](_0x576621(0x241));}}async function validateOrders(_0x1cf3fd){const _0x13b52c=_0x527fa2;if(_0x1cf3fd)validateOrdersState=_0x1cf3fd;logger[_0x13b52c(0x235)](_0x13b52c(0x20c)+validateOrdersState+_0x13b52c(0x153)+(lockOrders==0x1?_0x13b52c(0x125):lockOrders==0x2?_0x13b52c(0x183):'ORDERS.UNLOCKED'));let _0x304dee=[],_0x4fedfc=config[_0x13b52c(0x248)]==_0x13b52c(0x191)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x13b52c(0x204)])return;logger[_0x13b52c(0x235)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x13b52c(0x138)](_0x41b7d4=>{const _0x54bae9=_0x13b52c;let _0x2fcf90=![];_0x41b7d4[_0x54bae9(0x227)]>0x0&&(_0x2fcf90=!![]),_0x304dee[_0x54bae9(0x1a5)](_0x2fcf90),_0x2fcf90&&config[_0x54bae9(0x248)]!=_0x54bae9(0x191)&&logHistory(_0x54bae9(0x1d9),_0x54bae9(0x15e)+_0x41b7d4[_0x54bae9(0x25d)]+'\x20'+_0x41b7d4[_0x54bae9(0x171)]+'\x20#'+formatResult(_0x41b7d4[_0x54bae9(0x227)],0x8)+'\x20@'+formatResult(_0x41b7d4[_0x54bae9(0x1ab)],0x8));}),_0x304dee[_0x13b52c(0x138)]((_0x569eed,_0x7d4c88)=>{if(_0x569eed)lastOrders['splice'](_0x7d4c88,0x1);}),persistOpenOrders(lastOrders);const _0xad2485=coolingDown?_0x13b52c(0x1eb):'balancing\x20resumed';if(validateOrdersState=='initial')validateOrdersState=_0x13b52c(0x24e),_0x304dee[_0x13b52c(0x1a2)](![])?config['ordertype']==_0x13b52c(0x191)?logHistory(_0x13b52c(0x131),_0x13b52c(0x216)):logHistory(_0x13b52c(0x131),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState==_0x13b52c(0x24e)){if(_0x304dee[_0x13b52c(0x1a2)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x13b52c(0x191)?logHistory(_0x13b52c(0x255),_0x13b52c(0x1f6)+_0xad2485):logHistory(_0x13b52c(0x255),_0x13b52c(0x21e)+_0xad2485),await unlockOrders());}else{if(validateOrdersState==_0x13b52c(0x154))_0x304dee['includes'](![])&&(config[_0x13b52c(0x248)]==_0x13b52c(0x191)?logHistory('success',_0x13b52c(0x1c3)+Math[_0x13b52c(0x232)](_0x4fedfc*validateOrderInterval/0xea60)+_0x13b52c(0x188)+_0xad2485):(await cancelOrders(),logHistory('success',_0x13b52c(0x1d1)+Math[_0x13b52c(0x232)](_0x4fedfc*validateOrderInterval/0xea60)+_0x13b52c(0x188)+_0xad2485))),await unlockOrders();else{if(validateOrdersState==_0x13b52c(0x17b)){if(config[_0x13b52c(0x248)]!=_0x13b52c(0x191))logHistory(_0x13b52c(0x255),_0x13b52c(0x23a)+_0xad2485);await unlockOrders();}}}}}async function cancelOrders(){const _0x5c900d=_0x527fa2;lastOrders[_0x5c900d(0x138)](async _0x193bde=>{const _0x1cbf6e=_0x5c900d;try{const _0x514544=await exchange[_0x1cbf6e(0x271)](_0x193bde['orderId'],_0x193bde[_0x1cbf6e(0x25d)]);}catch(_0x55d426){if(_0x55d426[_0x1cbf6e(0x1ff)]()[_0x1cbf6e(0x1a2)](_0x1cbf6e(0x234))){}else await handleError(_0x55d426,_0x1cbf6e(0x17c));}});}async function initCoinResults(){const _0x26dc87=_0x527fa2;let _0xdebbc9=[];config[_0x26dc87(0x1dc)][_0x26dc87(0x138)](_0x4463d3=>{const _0x25e50f=_0x26dc87;if(!_0x4463d3[_0x25e50f(0x17d)]&&_0x4463d3[_0x25e50f(0x212)]!=config[_0x25e50f(0x1e3)]){let _0x1ca1f7=dbCoinResults[_0x25e50f(0x1b0)](_0x25e50f(0x1b6))['find']({'coin':_0x4463d3[_0x25e50f(0x212)]})[_0x25e50f(0x1e5)]();if(!_0x1ca1f7){const _0x7c66cd=currentCoins['find'](_0x5e1cdc=>_0x5e1cdc[_0x25e50f(0x212)]==_0x4463d3[_0x25e50f(0x212)]),_0x320c02=global[_0x25e50f(0x246)][noslash(_0x4463d3['symbol'])];let _0x2e3ef5=_0x7c66cd?_0x7c66cd[_0x25e50f(0x1b1)]:null,_0x34c441=_0x4463d3[_0x25e50f(0x21a)]?0x1/_0x320c02:_0x320c02,_0x5c14f8;config[_0x25e50f(0x19c)][_0x25e50f(0x138)](_0x21b59b=>{const _0x5d20bd=_0x25e50f;!_0x5c14f8&&(_0x5c14f8=_0x21b59b[_0x5d20bd(0x1f3)][_0x5d20bd(0x1ef)](_0x4d46c1=>_0x4d46c1[_0x5d20bd(0x212)]==_0x4463d3['coin']),_0x5c14f8&&(_0x2e3ef5=_0x5c14f8[_0x5d20bd(0x1b1)],_0x34c441=_0x5c14f8[_0x5d20bd(0x1ab)]));}),_0xdebbc9[_0x25e50f(0x1a5)]({'coin':_0x4463d3['coin'],'number':_0x2e3ef5,'price':_0x34c441});}}}),_0xdebbc9['forEach'](_0x1fbf03=>{const _0x38a17b=_0x26dc87,_0x23bea0={'coin':_0x1fbf03['coin'],'number':_0x1fbf03[_0x38a17b(0x1b1)],'breakeven':_0x1fbf03['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x38a17b(0x1b0)](_0x38a17b(0x1b6))[_0x38a17b(0x1a5)](_0x23bea0)['write']();});}async function updateCoinResults(_0x3c4a79,_0x4794ef=![]){const _0x31daac=_0x527fa2;let _0x58168e,_0x264a35,_0x362368,_0x3b573d,_0x25495c,_0x4cd31d,_0xd48c08=dbCoinResults[_0x31daac(0x1b0)](_0x31daac(0x1b6))[_0x31daac(0x1ef)]({'coin':_0x3c4a79[_0x31daac(0x212)]})['value']();!_0xd48c08&&await initCoinResults();_0x3c4a79[_0x31daac(0x21a)]&&(_0x4cd31d={'filled':_0x3c4a79[_0x31daac(0x227)]*_0x3c4a79[_0x31daac(0x1ab)],'amount':_0x3c4a79['filled']*_0x3c4a79[_0x31daac(0x1ab)],'side':_0x3c4a79[_0x31daac(0x171)]=='sell'?_0x31daac(0x24d):'sell','price':0x1/_0x3c4a79[_0x31daac(0x1ab)]},_0x3c4a79={..._0x3c4a79,..._0x4cd31d});_0x4794ef?_0x264a35=_0x3c4a79[_0x31daac(0x171)]==_0x31daac(0x24d)?_0xd48c08[_0x31daac(0x1b1)]+_0x3c4a79[_0x31daac(0x227)]:_0xd48c08[_0x31daac(0x1b1)]-_0x3c4a79[_0x31daac(0x227)]:_0x264a35=await getCoinNumber(_0x3c4a79[_0x31daac(0x212)]);if(_0x3c4a79['fee']&&_0x3c4a79[_0x31daac(0x185)][_0x31daac(0x1ac)]==config['basecoin'])_0x58168e=_0x3c4a79[_0x31daac(0x185)]['cost'];else{if(_0x3c4a79[_0x31daac(0x185)]&&_0x3c4a79[_0x31daac(0x185)]['currency']=='BNB'&&!_0x4794ef)_0x58168e=_0x3c4a79[_0x31daac(0x185)][_0x31daac(0x16d)]*global['ticker'][_0x31daac(0x267)+config[_0x31daac(0x1e3)]];else _0x58168e=defaultFee*_0x3c4a79[_0x31daac(0x227)]*_0x3c4a79[_0x31daac(0x1ab)];}_0x3c4a79['side']=='buy'?(_0x362368=_0x264a35!=0x0?(_0xd48c08['breakeven']*_0xd48c08[_0x31daac(0x1b1)]+_0x3c4a79[_0x31daac(0x1ab)]*(_0x264a35-_0xd48c08[_0x31daac(0x1b1)])+_0x58168e)/_0x264a35:0x0,_0x3b573d=_0xd48c08[_0x31daac(0x1aa)]):(_0x362368=_0x264a35!=0x0?(_0xd48c08['breakeven']*_0xd48c08['number']-_0x3c4a79[_0x31daac(0x1ab)]*(_0xd48c08['number']-_0x264a35)+_0x58168e)/_0x264a35:0x0,_0x3b573d=_0xd48c08[_0x31daac(0x1aa)]+(_0x3c4a79[_0x31daac(0x1ab)]-_0xd48c08[_0x31daac(0x14b)])*_0x3c4a79['filled']);_0x25495c=(_0x3c4a79[_0x31daac(0x1ab)]-_0x362368-_0x58168e/_0x3c4a79[_0x31daac(0x227)])*_0x264a35;let _0x33212c={'coin':_0x3c4a79['coin'],'number':_0x264a35,'breakeven':formatResult(_0x362368,0x8),'realized':formatResult(_0x3b573d,0x8),'unrealized':formatResult(_0x25495c,0x8),'fees':formatResult(_0xd48c08[_0x31daac(0x16b)]+_0x58168e,0x8),'sells':_0x3c4a79['side']==_0x31daac(0x21b)?_0xd48c08[_0x31daac(0x247)]+0x1:_0xd48c08['sells'],'buys':_0x3c4a79[_0x31daac(0x171)]=='buy'?_0xd48c08['buys']+0x1:_0xd48c08['buys']};dbCoinResults[_0x31daac(0x1b0)](_0x31daac(0x1b6))[_0x31daac(0x1ef)]({'coin':_0x3c4a79[_0x31daac(0x212)]})[_0x31daac(0x25e)](_0x33212c)['write']();if(!_0x4794ef){if(_0x3c4a79[_0x31daac(0x185)]&&_0x3c4a79[_0x31daac(0x185)][_0x31daac(0x1ac)]==_0x31daac(0x267)){const _0x5ad6f8=currentCoins[_0x31daac(0x1ef)](_0x55c238=>_0x55c238['coin']==_0x31daac(0x267));if(_0x5ad6f8){let _0x6575c=dbCoinResults[_0x31daac(0x1b0)](_0x31daac(0x1b6))['find']({'coin':_0x31daac(0x267)})['value']();_0x33212c={..._0x6575c,'number':_0x5ad6f8[_0x31daac(0x1b1)]},dbCoinResults[_0x31daac(0x1b0)](_0x31daac(0x1b6))['find']({'coin':'BNB'})[_0x31daac(0x25e)](_0x33212c)['write']();}}}}async function placeOrder(_0x631050){const _0x1582d5=_0x527fa2,_0x2faef6=config[_0x1582d5(0x248)]==_0x1582d5(0x191)?'market':_0x1582d5(0x1de);if(lockOrders==ORDERS[_0x1582d5(0x23d)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x2fb7a5 of _0x631050){let _0x65f5fd,_0x3f5d34,_0x40daac,_0xc817fc,_0x2c252c,_0x296c2b=_0x2fb7a5[_0x1582d5(0x25d)];try{const _0x1b5191=await exchange[_0x1582d5(0x225)]([_0x296c2b]),_0x1881de=_0x1b5191[_0x296c2b];_0x65f5fd=_0x2fb7a5['reverse']?0x1/_0x2fb7a5[_0x1582d5(0x264)]:_0x2fb7a5[_0x1582d5(0x264)],_0x3f5d34=_0x1881de[_0x1582d5(0x172)],_0x40daac=_0x1881de[_0x1582d5(0x22a)];_0x2fb7a5[_0x1582d5(0x21a)]?(_0xc817fc=_0x2fb7a5[_0x1582d5(0x171)]==_0x1582d5(0x24d)?_0x1582d5(0x21b):'buy',_0x2c252c=Math[_0x1582d5(0x1b8)](_0x2fb7a5[_0x1582d5(0x23c)])/_0x65f5fd):(_0xc817fc=_0x2fb7a5['side'],_0x2c252c=Math[_0x1582d5(0x1b8)](_0x2fb7a5['trade']));_0x2faef6=='limit'&&(config[_0x1582d5(0x248)]=='limit-high'&&(_0x65f5fd=_0xc817fc=='buy'?_0x3f5d34:_0x40daac),config[_0x1582d5(0x248)]==_0x1582d5(0x266)&&(_0x65f5fd=_0xc817fc==_0x1582d5(0x24d)?_0x40daac:_0x3f5d34));_0x2c252c=formatResult(_0x2c252c,0x8),_0x65f5fd=formatResult(_0x65f5fd,0x8);const _0x45d292=_0xc817fc=='sell'?config[_0x1582d5(0x181)]?String[_0x1582d5(0x189)]('0x'+config[_0x1582d5(0x181)])+'\x20':'':config[_0x1582d5(0x1c0)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x3c5e46=_0x2faef6==_0x1582d5(0x191)?_0x1582d5(0x1fe):config[_0x1582d5(0x248)]==_0x1582d5(0x21f)?_0x1582d5(0x23e):_0x1582d5(0x157),_0x4fcc7e=new Date()[_0x1582d5(0x213)]()[_0x1582d5(0x1ff)]()[_0x1582d5(0x139)](-0x6)+'-'+Math[_0x1582d5(0x121)]()[_0x1582d5(0x1ff)]()[_0x1582d5(0x139)](-0x6);lastOrders[_0x1582d5(0x1a5)]({'customId':_0x4fcc7e,'symbol':_0x296c2b,'coin':_0x2fb7a5[_0x1582d5(0x212)],'side':_0xc817fc,'reverse':_0x2fb7a5[_0x1582d5(0x21a)],'filled':0x0});if(_0x2faef6==_0x1582d5(0x191))logHistory(_0x1582d5(0x1d9),''+_0x45d292+_0x3c5e46+_0x1582d5(0x27c)+_0x296c2b+'\x20'+_0xc817fc+'\x20#'+formatResult(_0x2c252c,0x8)+'\x20@'+formatResult(_0x65f5fd,0x8));else logHistory(_0x1582d5(0x1d9),''+_0x45d292+_0x3c5e46+_0x1582d5(0x27c)+_0x296c2b+'\x20'+_0xc817fc+'\x20#'+formatResult(_0x2c252c,0x8)+'\x20@'+formatResult(_0x65f5fd,0x8));const _0x21dc4d=await exchange[_0x1582d5(0x129)](_0x296c2b,_0x2faef6,_0xc817fc,_0x2c252c,_0x65f5fd,{'clientOrderId':_0x4fcc7e}),_0x2cda03=lastOrders[_0x1582d5(0x130)]-0x1;_0x2cda03>=0x0&&lastOrders[_0x2cda03][_0x1582d5(0x1ec)]==_0x4fcc7e&&(lastOrders[_0x2cda03]={...lastOrders[_0x2cda03],'orderId':_0x21dc4d['id'],'amount':_0x21dc4d['amount'],'price':_0x21dc4d[_0x1582d5(0x1ab)],'fee':_0x21dc4d[_0x1582d5(0x185)]});if(config['cooldown']!=0x0){let _0xdcf8cd=null;if(cooldownTracker[_0x1582d5(0x130)]==config[_0x1582d5(0x252)]-0x1)_0xdcf8cd=cooldownTracker[_0x1582d5(0x24a)]();const _0x1bce55=getTimeStamp();cooldownTracker[_0x1582d5(0x1a5)](_0x1bce55);if(_0xdcf8cd){const _0x4d1baa=fns[_0x1582d5(0x1f0)](new Date(_0x1bce55),new Date(_0xdcf8cd));if(_0x4d1baa<cooldownInterval){logHistory(_0x1582d5(0x1f2),_0x1582d5(0x206)+config[_0x1582d5(0x252)]+_0x1582d5(0x214)+cooldownInterval/0x3c+_0x1582d5(0x175)+cooldownPeriod/(0xe10*0x3e8)+_0x1582d5(0x1cd)),coolingDown=!![];break;}}}}catch(_0x19aa12){if(_0x19aa12[_0x1582d5(0x1ff)]()[_0x1582d5(0x1a2)](_0x1582d5(0x17e)))lastOrders=lastOrders[_0x1582d5(0x1ae)](_0x224965=>_0x224965[_0x1582d5(0x25d)]!=_0x296c2b),logHistory(_0x1582d5(0x1f2),_0x1582d5(0x142)+_0x296c2b);else _0x19aa12[_0x1582d5(0x1ff)]()[_0x1582d5(0x1a2)](_0x1582d5(0x273))?(lastOrders=lastOrders[_0x1582d5(0x1ae)](_0x25e253=>_0x25e253[_0x1582d5(0x25d)]!=_0x296c2b),logHistory(_0x1582d5(0x1f2),_0x1582d5(0x1f9)+_0x296c2b)):(lastOrders=lastOrders[_0x1582d5(0x1ae)](_0x4124c5=>_0x4124c5[_0x1582d5(0x25d)]!=_0x296c2b),await handleError(_0x19aa12,'placeOrder()',_0x296c2b));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x1582d5(0x130)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x53aa2b=config[_0x1582d5(0x248)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x1582d5(0x228)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x32b0ca=_0x1582d5;validateOrders(_0x32b0ca(0x154));},_0x53aa2b);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1582d5(0x255),_0x1582d5(0x1cc)));}else{if(coolingDown)!config[_0x1582d5(0x162)]&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x1582d5(0x23d)]&&(!config[_0x1582d5(0x162)]&&(config[_0x1582d5(0x248)]==_0x1582d5(0x191)?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x1582d5(0x1f2),_0x1582d5(0x184))));}}function persistOpenOrders(_0x10acaa){const _0x1ed59=_0x527fa2,_0x5d82c0={...config,'openOrders':_0x10acaa};let _0x21a0b7=dbConfig['get']('bot')[_0x1ed59(0x1ef)]({'botID':botID})[_0x1ed59(0x1e5)]();_0x21a0b7&&dbConfig[_0x1ed59(0x1b0)](_0x1ed59(0x18a))[_0x1ed59(0x1ef)]({'botID':botID})[_0x1ed59(0x25e)](_0x5d82c0)[_0x1ed59(0x1d6)]();}function restoreOrders(){const _0x31fc0c=_0x527fa2;let _0x4398e1;config[_0x31fc0c(0x250)]&&allOpenOrders[_0x31fc0c(0x138)](_0x264c4e=>{const _0xaaf840=_0x31fc0c,_0x4e25c3=config[_0xaaf840(0x250)][_0xaaf840(0x1ef)](_0x57e72b=>_0x57e72b[_0xaaf840(0x269)]==_0x264c4e['id']);_0x4e25c3&&(lastOrders[_0xaaf840(0x1a5)](_0x4e25c3),_0x4398e1=_0x264c4e['timestamp']);});if(lastOrders[_0x31fc0c(0x130)]>0x0){lockOrders=ORDERS[_0x31fc0c(0x204)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x219450=new Date()[_0x31fc0c(0x213)](),_0x56a932=config[_0x31fc0c(0x248)]==_0x31fc0c(0x191)?validateOrderTimeout*0x3c*0x3e8:config[_0x31fc0c(0x228)]*0x3c*0x3e8;if(_0x4398e1+_0x56a932>_0x219450){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x40ff64=_0x31fc0c;validateOrders(_0x40ff64(0x154));},_0x4398e1+_0x56a932-_0x219450);}else validateOrders(_0x31fc0c(0x154));}}async function sendPortfolioTelegram(){const _0xd80c99=_0x527fa2;if(loading[_0xd80c99(0x133)]!=0x64){process[_0xd80c99(0x18f)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x19585c=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x20eadc=[_0xd80c99(0x152),_0xd80c99(0x1c1),_0xd80c99(0x268)],_0x10a5cc=_0x20eadc[_0xd80c99(0x1a2)](config[_0xd80c99(0x1e3)])?0x2:0x8;let _0x29495d='';if(config[_0xd80c99(0x11d)])_0x29495d='<b>'+config['botname']+_0xd80c99(0x1dd);else _0x29495d=_0xd80c99(0x217)+botID+_0xd80c99(0x1dd);const _0x2ca47f=getKPIs(_0xd80c99(0x1e3)),_0x1e3149=getKPIs('net-basecoin');_0x29495d+=_0xd80c99(0x1e6),_0x29495d+=_0x2ca47f['leftTxt']+_0xd80c99(0x25f)+_0x2ca47f[_0xd80c99(0x1e5)]+'\x20\x0a',_0x29495d+=_0x2ca47f[_0xd80c99(0x251)]+':\x20'+_0x2ca47f[_0xd80c99(0x239)]+_0xd80c99(0x222),_0x29495d+=_0x1e3149[_0xd80c99(0x215)]+':\x20'+_0x1e3149[_0xd80c99(0x1e5)]+'\x20'+config[_0xd80c99(0x1e3)]+'\x0a',_0x29495d+=_0x1e3149[_0xd80c99(0x251)]+':\x20'+_0x1e3149['change']+'%\x20\x0a',_0x29495d+='\x0a',_0x29495d+=_0xd80c99(0x144),_0x29495d+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x29495d+=_0xd80c99(0x144),currentCoins['forEach'](_0x460b91=>{const _0x45beed=_0xd80c99;_0x29495d+=_0x460b91[_0x45beed(0x212)][_0x45beed(0x276)](0x7)+'|\x20'+formatPad(_0x460b91[_0x45beed(0x168)],0x2,0x6)+'|\x20'+formatPad(_0x460b91['target'],0x2,0x6)+'|\x20'+formatPad(_0x460b91[_0x45beed(0x1db)]*0x64,0x2,0x6)+'\x0a';}),_0x29495d+=_0xd80c99(0x199),process[_0xd80c99(0x18f)]({'telegrammsg':_0x29495d},_0x105a6b=>{});}function formatPad(_0x165d59,_0x43046d,_0x8af077){const _0x32f2ff=_0x527fa2,_0x38be9d=formatResultString(_0x165d59,_0x43046d);return _0x38be9d?_0x38be9d[_0x32f2ff(0x173)](_0x8af077):''[_0x32f2ff(0x173)](_0x8af077);}function logHistory(_0x2f461e,_0x232158,_0x5505db=''){const _0x1e3d75=_0x527fa2;let _0x1bf9b1={'time':getTimeStamp(),'type':_0x2f461e,'event':_0x232158};dbLogs['get'](_0x1e3d75(0x1bd))[_0x1e3d75(0x1a5)](_0x1bf9b1)[_0x1e3d75(0x1d6)]();if(_0x5505db=='')_0x5505db=_0x232158;proxyEmit(_0x1e3d75(0x17a),{'log':_0x1bf9b1,'summary':_0x5505db}),process['send']({'telegram':{..._0x1bf9b1,'botname':config[_0x1e3d75(0x1bb)],'showname':config[_0x1e3d75(0x11d)]}},_0x40bb9a=>{}),logger[_0x1e3d75(0x1d7)](''+_0x1bf9b1[_0x1e3d75(0x17a)]);}function emitHistory(_0xa80d65={}){const _0x299018=_0x527fa2;Object[_0x299018(0x11f)](_0xa80d65)[_0x299018(0x130)]==0x0&&(_0xa80d65={'type':[_0x299018(0x1d9),_0x299018(0x17a)],'event':'','page':0x1});if(_0xa80d65[_0x299018(0x207)][_0x299018(0x1a2)](_0x299018(0x17a)))_0xa80d65['type'][_0x299018(0x1e2)](_0xa80d65[_0x299018(0x207)]['indexOf'](_0x299018(0x17a)),0x1,_0x299018(0x1f2),'success');if(dbLogs[_0x299018(0x182)](_0x299018(0x1bd))[_0x299018(0x1e5)]()){let _0x5bce13=dbLogs[_0x299018(0x1b0)](_0x299018(0x1bd))[_0x299018(0x1ae)](_0x182774=>{const _0x3f3ee1=_0x299018;if(_0xa80d65[_0x3f3ee1(0x207)][_0x3f3ee1(0x130)]==0x0)return![];else return _0xa80d65['type']['includes'](_0x182774[_0x3f3ee1(0x207)]);})[_0x299018(0x1ae)](_0x3313d4=>{const _0x20f1d0=_0x299018;if(_0xa80d65['event']=='')return!![];else return _0x3313d4[_0x20f1d0(0x17a)]['toLowerCase']()['includes'](_0xa80d65[_0x20f1d0(0x17a)][_0x20f1d0(0x219)]());})[_0x299018(0x1d2)](_0x299018(0x161)),_0x46bbcd=_0x5bce13[_0x299018(0x1e5)]()[_0x299018(0x130)];_0x5bce13=_0x5bce13[_0x299018(0x21a)]()[_0x299018(0x139)]((_0xa80d65[_0x299018(0x156)]-0x1)*logPageSize,_0xa80d65[_0x299018(0x156)]*logPageSize-0x1)[_0x299018(0x21a)]()[_0x299018(0x1e5)](),proxyEmit('event-history',{'logs':_0x5bce13,'total':_0x46bbcd});}else proxyEmit(_0x299018(0x192),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1a6287){const _0x3e8160=_0x527fa2;if(dbLogs[_0x3e8160(0x182)](_0x3e8160(0x1bd))[_0x3e8160(0x1e5)]()){const _0x14c629=dbLogs['get']('logs')[_0x3e8160(0x1d2)](_0x3e8160(0x161))[_0x3e8160(0x1ae)](_0x5ac5a2=>{const _0xda6e10=_0x3e8160;return _0x5ac5a2[_0xda6e10(0x207)]=='order';})[_0x3e8160(0x1e5)]();dbLogs[_0x3e8160(0x1b0)]('logs')['remove']()[_0x3e8160(0x1d6)](),dbLogs['get'](_0x3e8160(0x1bd))['assign'](_0x14c629)[_0x3e8160(0x1d6)](),emitHistory(_0x1a6287);}}async function pauseBot(_0x509231=''){const _0x59d14d=_0x527fa2,_0x403048=new Date()[_0x59d14d(0x213)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x403048-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x59d14d(0x18f)]({'stop':_0x59d14d(0x200)},_0x7b24f8=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x59d14d(0x213)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x509231)_0x509231+='\x20|\x20';logHistory(_0x59d14d(0x1f2),_0x509231+'Pausing\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x485a36=_0x527fa2;process[_0x485a36(0x18f)]({'stop':_0x485a36(0x253)},_0x4f5242=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x4a823f,_0x5b99ea){const _0x1df844=_0x527fa2;if(_0x4a823f[_0x1df844(0x1ff)]()[_0x1df844(0x1a2)](_0x1df844(0x145)))return logHistory('error','Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x4a823f[_0x1df844(0x1ff)]()[_0x1df844(0x1a2)](_0x1df844(0x1e1)))return logHistory(_0x1df844(0x1f2),_0x1df844(0x137)),![];else{if(_0x4a823f[_0x1df844(0x1ff)]()[_0x1df844(0x1a2)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error',_0x1df844(0x256)),![];else await handleError(_0x4a823f,_0x5b99ea);}}}async function handleError(_0x2cdf73,_0x26e492,_0x5f7f75=''){const _0x1ce56f=_0x527fa2;if(_0x2cdf73['toString']()[_0x1ce56f(0x1a2)](_0x1ce56f(0x117)))await pauseBot(_0x1ce56f(0x279));else{if(_0x2cdf73[_0x1ce56f(0x1ff)]()[_0x1ce56f(0x1a2)](_0x1ce56f(0x122)))await pauseBot(_0x1ce56f(0x198));else{if(_0x2cdf73[_0x1ce56f(0x1ff)]()['includes'](_0x1ce56f(0x150)))await pauseBot(_0x1ce56f(0x27b));else{if(_0x2cdf73[_0x1ce56f(0x1ff)]()[_0x1ce56f(0x1a2)](_0x1ce56f(0x145)))logHistory(_0x1ce56f(0x1f2),_0x26e492+_0x1ce56f(0x18b)),logHistory(_0x1ce56f(0x1f2),_0x1ce56f(0x195)),await killBot();else{if(_0x2cdf73['toString']()[_0x1ce56f(0x1a2)](_0x1ce56f(0x1e1)))logHistory('error',_0x26e492+_0x1ce56f(0x226)),logHistory(_0x1ce56f(0x1f2),_0x1ce56f(0x195)),await killBot();else{if(_0x2cdf73[_0x1ce56f(0x1ff)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x1ce56f(0x1f2),_0x26e492+_0x1ce56f(0x1fc)),logHistory(_0x1ce56f(0x1f2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x2cdf73[_0x1ce56f(0x1ff)]()[_0x1ce56f(0x1a2)](_0x1ce56f(0x120)))logHistory(_0x1ce56f(0x1f2),_0x26e492+_0x1ce56f(0x14f)),logHistory(_0x1ce56f(0x1f2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x2cdf73['toString']()[_0x1ce56f(0x1a2)](_0x1ce56f(0x14d)))await pauseBot(_0x1ce56f(0x166)),process[_0x1ce56f(0x18f)]({'stop':_0x1ce56f(0x200)},_0x3c854e=>{});else _0x2cdf73['toString']()[_0x1ce56f(0x1a2)]('InsufficientFunds')?logHistory(_0x1ce56f(0x1f2),_0x26e492+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x5f7f75):(logger['full'](_0x26e492+_0x1ce56f(0x1c9),_0x2cdf73),await pauseBot(_0x1ce56f(0x242)));}}}}}}}}function formatResult(_0xabca2e,_0x5ed449){const _0x57a2a5=_0x527fa2;return parseFloat(_0xabca2e[_0x57a2a5(0x180)](_0x5ed449));}function formatResultTruncate(_0x514636,_0x245dbb){const _0x30a1fa=_0x527fa2;let _0x5748a6=formatResultString(_0x514636,0xa),_0x125187=_0x5748a6[_0x30a1fa(0x148)]('.');return _0x125187!=-0x1&&(_0x5748a6=_0x5748a6[_0x30a1fa(0x139)](0x0,_0x125187+_0x245dbb+0x1)),Number(_0x5748a6);}function formatResultString(_0x591561,_0x394d0c){const _0x500060=_0x527fa2;let _0x10388a;if(!(''+_0x591561)[_0x500060(0x1a2)]('e'))_0x10388a=+(Math[_0x500060(0x232)](_0x591561+'e+'+_0x394d0c)+'e-'+_0x394d0c);else{let _0x4e4391=(''+_0x591561)[_0x500060(0x25a)]('e'),_0x4c55fd='';+_0x4e4391[0x1]+_0x394d0c>0x0&&(_0x4c55fd='+'),_0x10388a=+(Math[_0x500060(0x232)](+_0x4e4391[0x0]+'e'+_0x4c55fd+(+_0x4e4391[0x1]+_0x394d0c))+'e-'+_0x394d0c);}return Number(_0x10388a)[_0x500060(0x180)](_0x394d0c);}function getServerTime(){const _0x244cb5=_0x527fa2,_0x23ac4d=new Date();return _0x23ac4d[_0x244cb5(0x1b5)]()+'/'+(_0x23ac4d[_0x244cb5(0x275)]()+0x1)[_0x244cb5(0x1ff)]()[_0x244cb5(0x173)](0x2,'0')+'/'+_0x23ac4d[_0x244cb5(0x20e)]()[_0x244cb5(0x1ff)]()[_0x244cb5(0x173)](0x2,'0')+'\x20'+_0x23ac4d[_0x244cb5(0x1a6)]()[_0x244cb5(0x1ff)]()['padStart'](0x2,'0')+':'+_0x23ac4d['getMinutes']()['toString']()[_0x244cb5(0x173)](0x2,'0')+':'+_0x23ac4d['getSeconds']()[_0x244cb5(0x1ff)]()[_0x244cb5(0x173)](0x2,'0');}function getTimeStamp(){const _0x352ca5=_0x527fa2,_0x100a88=shiftedTime();return _0x100a88['getFullYear']()+'/'+(_0x100a88[_0x352ca5(0x275)]()+0x1)[_0x352ca5(0x1ff)]()[_0x352ca5(0x173)](0x2,'0')+'/'+_0x100a88[_0x352ca5(0x20e)]()[_0x352ca5(0x1ff)]()[_0x352ca5(0x173)](0x2,'0')+'\x20'+_0x100a88['getHours']()[_0x352ca5(0x1ff)]()['padStart'](0x2,'0')+':'+_0x100a88[_0x352ca5(0x1fa)]()[_0x352ca5(0x1ff)]()[_0x352ca5(0x173)](0x2,'0')+':'+_0x100a88['getSeconds']()['toString']()[_0x352ca5(0x173)](0x2,'0');}function getDate(){const _0x6c6ede=_0x527fa2,_0x528781=shiftedTime();return _0x528781[_0x6c6ede(0x1b5)]()+'/'+(_0x528781[_0x6c6ede(0x275)]()+0x1)[_0x6c6ede(0x1ff)]()[_0x6c6ede(0x173)](0x2,'0')+'/'+_0x528781[_0x6c6ede(0x20e)]()[_0x6c6ede(0x1ff)]()[_0x6c6ede(0x173)](0x2,'0');}function getHour(){const _0x1a8dde=_0x527fa2,_0x212471=shiftedTime();return _0x212471[_0x1a8dde(0x1a6)]()[_0x1a8dde(0x1ff)]()[_0x1a8dde(0x173)](0x2,'0');}function sleep(_0x593690){return new Promise(_0x2d5268=>setTimeout(_0x2d5268,_0x593690));}function shiftedTime(){const _0x5f1660=_0x527fa2,_0x2b62d5=new Date();let _0xaa4ea=_0x2b62d5;if(config&&config[_0x5f1660(0x26e)]!==0x0)_0xaa4ea=fns[_0x5f1660(0x15a)](_0x2b62d5,{'hours':config['timeshift']});return _0xaa4ea;}