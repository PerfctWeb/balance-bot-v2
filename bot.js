const _0x17e9f9=_0x673a;(function(_0x2b40d7,_0xbfb9b8){const _0x5152ed=_0x673a,_0x5a0d45=_0x2b40d7();while(!![]){try{const _0x2e00df=parseInt(_0x5152ed(0x194))/0x1+-parseInt(_0x5152ed(0xdb))/0x2*(-parseInt(_0x5152ed(0xfd))/0x3)+parseInt(_0x5152ed(0x1ad))/0x4*(parseInt(_0x5152ed(0x1ec))/0x5)+-parseInt(_0x5152ed(0x166))/0x6*(parseInt(_0x5152ed(0x14b))/0x7)+-parseInt(_0x5152ed(0x1cc))/0x8+-parseInt(_0x5152ed(0x214))/0x9+parseInt(_0x5152ed(0x1cf))/0xa*(-parseInt(_0x5152ed(0x135))/0xb);if(_0x2e00df===_0xbfb9b8)break;else _0x5a0d45['push'](_0x5a0d45['shift']());}catch(_0x1e74ae){_0x5a0d45['push'](_0x5a0d45['shift']());}}}(_0x3d12,0x39e85));const _0x168464=function(){let _0x4a1c97=!![];return function(_0x36fd6f,_0x2acefc){const _0x5c2583=_0x4a1c97?function(){const _0x2aa8df=_0x673a;if(_0x2acefc){const _0x585606=_0x2acefc[_0x2aa8df(0x165)](_0x36fd6f,arguments);return _0x2acefc=null,_0x585606;}}:function(){};return _0x4a1c97=![],_0x5c2583;};}(),_0x3a8b0d=_0x168464(this,function(){const _0x53e7ea=_0x673a;return _0x3a8b0d[_0x53e7ea(0x1ce)]()[_0x53e7ea(0xee)](_0x53e7ea(0x211))['toString']()['constructor'](_0x3a8b0d)[_0x53e7ea(0xee)]('(((.+)+)+)+$');});_0x3a8b0d();'use strict';const ccxt=require(_0x17e9f9(0xc1))[_0x17e9f9(0x146)],low=require(_0x17e9f9(0x18a)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x17e9f9(0x20c)),Crypt=require(_0x17e9f9(0x201))[_0x17e9f9(0xff)],util=require('util'),argv=require(_0x17e9f9(0xb6))(process['argv']['slice'](0x2))[_0x17e9f9(0x1fe)],path=require(_0x17e9f9(0x1fb));let exchange;global[_0x17e9f9(0x174)]={},global[_0x17e9f9(0x17d)]={};const exceptions={'binance':['DAI/',_0x17e9f9(0xeb),_0x17e9f9(0x137),_0x17e9f9(0x179),_0x17e9f9(0x175)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x17e9f9(0xd2)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x17e9f9(0x18f)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x17e9f9(0x1b4))['version'],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x17e9f9(0xb2)](botID)&&(console['log'](_0x17e9f9(0x1a2)+botID+_0x17e9f9(0xcf)),killBot());const userID=process[_0x17e9f9(0x1fe)][0x3]||'',configpath=userID?_0x17e9f9(0x1e7)+userID+'/':_0x17e9f9(0x1e7),logspath=userID?'./logs/'+userID+'/':_0x17e9f9(0xf9),loggerfile=fs[_0x17e9f9(0x138)](logspath+_0x17e9f9(0x181),{'flags':'a'});!fs[_0x17e9f9(0x19e)](configpath)&&fs[_0x17e9f9(0x191)](configpath);!fs[_0x17e9f9(0x19e)](logspath)&&fs[_0x17e9f9(0x191)](logspath);const configfile=configpath+_0x17e9f9(0xbd)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x17e9f9(0x128),performancefile=configpath+_0x17e9f9(0xbd)+botID+_0x17e9f9(0x1f9),coinresultsfile=configpath+'bot-'+botID+_0x17e9f9(0x1be),settingsfile=configpath+_0x17e9f9(0x1c0),securefile=configpath+_0x17e9f9(0x178),configbackuppath=configpath+_0x17e9f9(0x133),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x17e9f9(0x16e)]({'logs':[],'version':serverversion})[_0x17e9f9(0x1a9)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x17e9f9(0x16e)]({'data':[],'version':serverversion})[_0x17e9f9(0x1a9)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x17e9f9(0x16e)]({'coins':[],'version':serverversion})[_0x17e9f9(0x1a9)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x17e9f9(0x186),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1a2b24=>{console['log'](_0x1a2b24);},'simple':_0x3731f8=>{const _0x3cd6eb=_0x17e9f9;console[_0x3cd6eb(0x14d)](_0x3731f8),loggerfile[_0x3cd6eb(0x1a9)](util[_0x3cd6eb(0x216)](_0x3731f8)+'\x0a');},'full':async(_0x293655,_0x173ffe='')=>{const _0x27b074=_0x17e9f9;let _0x122096;if(config['showname'])_0x122096=getTimeStamp()+':\x20'+config[_0x27b074(0x154)]+_0x27b074(0x119)+_0x293655;else _0x122096=getTimeStamp()+_0x27b074(0xea)+botID+_0x27b074(0x119)+_0x293655;console[_0x27b074(0x14d)](_0x122096),loggerfile[_0x27b074(0x1a9)](util[_0x27b074(0x216)](_0x122096)+'\x0a'),_0x173ffe&&(console[_0x27b074(0x14d)](_0x173ffe),loggerfile[_0x27b074(0x1a9)](util[_0x27b074(0x216)](_0x173ffe)+'\x0a'));},'debug':async(_0xf9bb17,_0x3f2c1b='')=>{const _0x58951c=_0x17e9f9;let _0x1e35c3;if(config['showname'])_0x1e35c3=getTimeStamp()+':\x20'+config[_0x58951c(0x154)]+_0x58951c(0x1c8)+_0xf9bb17;else _0x1e35c3=getTimeStamp()+_0x58951c(0xea)+botID+_0x58951c(0x1c8)+_0xf9bb17;if(debugging)console[_0x58951c(0x14d)](_0x1e35c3);loggerfile[_0x58951c(0x1a9)](util[_0x58951c(0x216)](_0x1e35c3)+'\x0a');if(_0x3f2c1b){if(debugging)console[_0x58951c(0x14d)](_0x3f2c1b);loggerfile[_0x58951c(0x1a9)](util[_0x58951c(0x216)](_0x3f2c1b)+'\x0a');}}};process['on'](_0x17e9f9(0x13a),function(_0x32011b){logger['simple'](_0x32011b);});settings[_0x17e9f9(0x1a1)]!=config[_0x17e9f9(0x1a1)]&&updateTimeshift(settings[_0x17e9f9(0x1a1)]);settings[_0x17e9f9(0x218)]!=config[_0x17e9f9(0x218)]&&updateOnepagemode(settings['onepagemode']);process[_0x17e9f9(0xb4)]({'started':_0x17e9f9(0x190)},_0x4d5f4b=>{}),initializeProcessListeners();function proxyEmit(_0x166c21,_0x1e91bf=null){const _0xb97119=_0x17e9f9;process[_0xb97119(0xb4)]({'function':_0x166c21,'args':_0x1e91bf},_0x45a298=>{});}function initializeProcessListeners(){const _0x3bb48a=_0x17e9f9;process['on'](_0x3bb48a(0x16a),_0xf27217=>{const _0x384e00=_0x3bb48a;switch(Object['keys'](_0xf27217)[0x0]){case _0x384e00(0x1a1):_0xf27217[_0x384e00(0x1a1)]!=undefined&&(settings[_0x384e00(0x1a1)]=_0xf27217['timeshift'],updateTimeshift(settings[_0x384e00(0x1a1)]));break;case _0x384e00(0x218):_0xf27217['onepagemode']!=undefined&&(settings[_0x384e00(0x218)]=_0xf27217[_0x384e00(0x218)],updateOnepagemode(settings[_0x384e00(0x218)]));break;case _0x384e00(0x102):_0xf27217['bots']!=undefined&&(bots=JSON[_0x384e00(0x1a6)](_0xf27217[_0x384e00(0x102)]),proxyEmit(_0x384e00(0x102),bots));break;case _0x384e00(0x106):switch(_0xf27217[_0x384e00(0x106)]){case _0x384e00(0x14f):initclient();break;case _0x384e00(0xd1):toggleBotMode();break;case _0x384e00(0x20f):emitHistory(_0xf27217[_0x384e00(0x132)]);break;case _0x384e00(0xba):deleteHistoryAlerts(_0xf27217[_0x384e00(0x132)]);break;case _0x384e00(0xc4):getPortfolio(_0xf27217[_0x384e00(0x132)]);break;case _0x384e00(0x110):storeConfiguration(_0xf27217[_0x384e00(0x132)]);break;case _0x384e00(0x1cb):storeHeadless(_0xf27217[_0x384e00(0x132)]);break;case _0x384e00(0x1e3):storeFiat(_0xf27217[_0x384e00(0x132)]);break;case'resetHistory':resetHistory();break;case _0x384e00(0xd8):getStartingBalances(getNormalizedPerformance());break;case _0x384e00(0x10d):placeOrder(_0xf27217[_0x384e00(0x132)]);break;case _0x384e00(0x21b):cancelLoading();break;case'showConfig':showConfig();break;case _0x384e00(0x152):sendMetricsTelegram();break;case _0x384e00(0x193):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x3fb8dd=null,_0xfdeec5=![]){const _0x5dd21a=_0x17e9f9;logger[_0x5dd21a(0x1ab)]('Reset\x20|\x20'+(_0x3fb8dd&&_0x3fb8dd[_0x5dd21a(0x188)]>0x0?_0x5dd21a(0x100)+_0x3fb8dd[_0x5dd21a(0xb7)](','):_0x5dd21a(0x21f))+'\x20|\x20'+(_0xfdeec5?_0x5dd21a(0x1b7):'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0xfdeec5)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5dd21a(0x1e9)]!=''&&config['apiKey']!=_0x5dd21a(0x1d7)){if(_0xfdeec5){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x2f772b){handleErrorNoStop(_0x2f772b,_0x5dd21a(0xe0));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x3fb8dd);const _0x17ab6a=await getCoins();[currentCoins,currentCoinsAll]=_0x17ab6a,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x5dd21a(0x188)]==0x0&&allOpenOrders[_0x5dd21a(0x188)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x536d20=_0x17e9f9;exchangeStopped=!![],await exchange[_0x536d20(0x21c)]();}async function reloadExchange(){const _0x199c2d=_0x17e9f9;logger['debug'](_0x199c2d(0x159));while(lockOrders!=ORDERS[_0x199c2d(0x18f)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x199c2d(0x1ab)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0xd61ae0=config[_0x17e9f9(0xe3)],_0x5f4462=config['apiKey'],_0x19a293=config['apiSecret'],_0x35ab42=config['apiPassword']){const _0x242f65=_0x17e9f9;exchange&&await stopExchange();!supportedExchanges()[_0x242f65(0x1ff)](_0xd61ae0)&&(logHistory(_0x242f65(0x1d2),_0x242f65(0x173)+_0xd61ae0+_0x242f65(0xd4)),killBot());const _0x5f07bc=ccxt[_0xd61ae0[_0x242f65(0xe6)]()];exchange=new _0x5f07bc({'apiKey':_0x5f4462,'secret':_0x19a293,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x35ab42)exchange['password']=_0x35ab42;}function setStableCoins(){const _0x2ec136=_0x17e9f9;let _0x4a4b68=config['basecoin']==_0x2ec136(0x19c)?_0x2ec136(0x19c):_0x2ec136(0x121),_0x55f447=!allSymbols[_0x2ec136(0x1ff)](_0x4a4b68+_0x2ec136(0x149))?'USDT':_0x2ec136(0x163),_0x4e7365=!allSymbols[_0x2ec136(0x1ff)](_0x4a4b68+_0x2ec136(0x1f3))?_0x55f447:_0x2ec136(0x184);stablecoins={'eur':{'coin':''+_0x4a4b68+_0x4e7365,'symbol':_0x4a4b68+'/'+_0x4e7365},'usd':{'coin':''+_0x4a4b68+_0x55f447,'symbol':_0x4a4b68+'/'+_0x55f447}};}async function initwsCcxt(_0x23718f){const _0x2ae07c=_0x17e9f9;_0x23718f==null&&(_0x23718f=[],config[_0x2ae07c(0x10b)][_0x2ae07c(0x17f)](_0x429a2a=>{const _0x4b81b8=_0x2ae07c;if(!_0x429a2a['excluded']&&_0x429a2a[_0x4b81b8(0x11b)]!=config['basecoin'])_0x23718f['push'](_0x429a2a[_0x4b81b8(0x1ba)]);}));if(!_0x23718f[_0x2ae07c(0x1ff)](stablecoins[_0x2ae07c(0x1cd)][_0x2ae07c(0x1ba)]))_0x23718f[_0x2ae07c(0xfe)](stablecoins[_0x2ae07c(0x1cd)][_0x2ae07c(0x1ba)]);if(!_0x23718f[_0x2ae07c(0x1ff)](stablecoins[_0x2ae07c(0x15f)][_0x2ae07c(0x1ba)]))_0x23718f[_0x2ae07c(0xfe)](stablecoins['usd'][_0x2ae07c(0x1ba)]);if(config['exchange'][_0x2ae07c(0x1aa)](_0x2ae07c(0xec))){if(!_0x23718f[_0x2ae07c(0x1ff)]('BNB/'+config[_0x2ae07c(0x1b1)]))_0x23718f[_0x2ae07c(0xfe)]('BNB/'+config['basecoin']);}loadCoins(_0x23718f);const _0x39e3d1=async _0x41cee2=>{const _0x4b25af=_0x2ae07c,_0x54915c=await exchange[_0x4b25af(0xef)](_0x41cee2);global[_0x4b25af(0x174)][noslash(_0x54915c[_0x4b25af(0x1ba)])]=_0x54915c['last'];while(!![]){if(!botPaused)try{const _0x5c2548=await exchange[_0x4b25af(0xce)](_0x41cee2);global[_0x4b25af(0x174)][noslash(_0x5c2548[0x0][_0x4b25af(0x1ba)])]=_0x5c2548[0x0][_0x4b25af(0xc0)],await sleep(0x3e8);}catch(_0x1d7d2d){if(!exchangeStopped)await handleError(_0x1d7d2d,_0x4b25af(0xce),_0x41cee2);}else await sleep(0x3e8);}},_0x5ddbcc=async _0x108b69=>{const _0x21ae9b=_0x2ae07c;while(!![]){if(!botPaused)try{const _0x31e6d2=await exchange[_0x21ae9b(0xef)](_0x108b69);global[_0x21ae9b(0x17d)][_0x31e6d2[_0x21ae9b(0x1ba)]]=_0x31e6d2[_0x21ae9b(0x10f)],await sleep(0x3c*0x3e8);}catch(_0x1e76e1){if(!exchangeStopped)await handleError(_0x1e76e1,_0x21ae9b(0x19f),_0x108b69);}else await sleep(0x3e8);}},_0x28ecbe=async()=>{const _0x547d24=_0x2ae07c;while(!![]){if(!botPaused)try{const _0x24f01f=await exchange[_0x547d24(0x150)]();_0x24f01f[_0x547d24(0x17f)](_0x1106ed=>{updateNumberCoinsCcxt(_0x1106ed);});}catch(_0x5a2990){if(!exchangeStopped)await handleError(_0x5a2990,_0x547d24(0x150));}else await sleep(0x3e8);}};_0x23718f[_0x2ae07c(0x17f)](async _0x508bf=>{_0x39e3d1(_0x508bf),_0x5ddbcc(_0x508bf);}),!wsEventsSet&&(wsEventsSet=!![],_0x28ecbe(),watchTransactions());}async function watchTransactions(){const _0x5d0d52=_0x17e9f9;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x4f24b2=await getCoins(),[_0x4c25fd,_0x3338e7]=_0x4f24b2;let _0x584da7=[];currentCoins['forEach'](_0x343087=>{const _0x4cc048=_0x673a,_0x42c86f=_0x4c25fd[_0x4cc048(0x1eb)](_0x1fc218=>_0x1fc218[_0x4cc048(0x11b)]==_0x343087[_0x4cc048(0x11b)]);_0x42c86f&&(_0x343087[_0x4cc048(0x151)]!=_0x42c86f[_0x4cc048(0x151)]&&_0x584da7['push']({'coin':_0x343087[_0x4cc048(0x11b)],'symbol':_0x343087[_0x4cc048(0x1ba)],'number':Number(formatResult(_0x42c86f[_0x4cc048(0x151)]-_0x343087[_0x4cc048(0x151)],0x8))}));});if(_0x584da7[_0x5d0d52(0x188)]==0x1&&!blockTransactionDetection){logger[_0x5d0d52(0x1ab)](_0x5d0d52(0x12b)+lastFees[_0x5d0d52(0x199)]+'\x20|\x20highest:\x20'+lastFees[_0x5d0d52(0x1fd)]);if(!lastFees[_0x5d0d52(0x199)]||_0x584da7[0x0]['coin']!=lastFees[_0x5d0d52(0x199)]||_0x584da7[0x0][_0x5d0d52(0x151)]>lastFees[_0x5d0d52(0x1fd)]){let _0x255718;if(_0x584da7[0x0][_0x5d0d52(0x11b)]!=config[_0x5d0d52(0x1b1)]){let _0x177e88=global[_0x5d0d52(0x174)][noslash(_0x584da7[0x0][_0x5d0d52(0x1ba)])];_0x255718=_0x584da7[0x0][_0x5d0d52(0x141)]?0x1/_0x177e88:_0x177e88;}else _0x255718=0x1;_0x584da7[0x0]['price']=_0x255718,delete _0x584da7[0x0][_0x5d0d52(0x1ba)];let _0x5019a5=[],_0x565c95=[...config[_0x5d0d52(0x11d)]]||[],_0x831475=config[_0x5d0d52(0x11d)];_0x565c95['sort']((_0x183421,_0x34591e)=>_0x183421[_0x5d0d52(0x1e6)]>_0x34591e[_0x5d0d52(0x1e6)]?-0x1:_0x34591e[_0x5d0d52(0x1e6)]>_0x183421[_0x5d0d52(0x1e6)]?0x1:0x0);const _0x2b9620=getDate();if(_0x565c95[0x0]){const _0x3e655d=fns[_0x5d0d52(0x1a6)](_0x565c95[0x0][_0x5d0d52(0x1e6)],_0x5d0d52(0x1db),new Date()),_0x4bba8b=fns[_0x5d0d52(0x1a6)](_0x2b9620,_0x5d0d52(0x1db),new Date());if(fns[_0x5d0d52(0x20b)](_0x3e655d,_0x4bba8b)){_0x5019a5=_0x565c95[0x0][_0x5d0d52(0x207)];const _0x6a4a00=_0x5019a5[_0x5d0d52(0x1eb)](_0x1a5daf=>_0x1a5daf[_0x5d0d52(0x11b)]==_0x584da7[0x0][_0x5d0d52(0x11b)]);_0x6a4a00?(_0x6a4a00[_0x5d0d52(0x151)]+=_0x584da7[0x0][_0x5d0d52(0x151)],_0x6a4a00[_0x5d0d52(0x151)]==0x0&&(_0x5019a5=_0x5019a5[_0x5d0d52(0x11f)](_0x3e56ca=>{const _0x414e17=_0x5d0d52;return _0x3e56ca[_0x414e17(0x11b)]!=_0x584da7[0x0][_0x414e17(0x11b)];}))):_0x5019a5[_0x5d0d52(0xfe)](_0x584da7[0x0]);const _0x5853cf=_0x831475[_0x5d0d52(0x1eb)](_0x4968b0=>_0x4968b0[_0x5d0d52(0x1e6)]==_0x2b9620);_0x5853cf[_0x5d0d52(0x207)]=_0x5019a5;}else _0x831475[_0x5d0d52(0xfe)]({'date':_0x2b9620,'changes':[_0x584da7[0x0]]});}const _0x249d57=_0x831475[_0x5d0d52(0x1eb)](_0x507c37=>_0x507c37['date']==_0x2b9620);if(_0x249d57){let _0x4d4065=!![];_0x249d57[_0x5d0d52(0x207)][_0x5d0d52(0x17f)](_0x1b5303=>{const _0x53ab61=_0x5d0d52;if(_0x1b5303[_0x53ab61(0x151)]!=0x0)_0x4d4065=![];}),_0x4d4065&&(_0x831475=_0x831475['filter'](_0x1995b4=>{const _0x45ec9e=_0x5d0d52;return _0x1995b4[_0x45ec9e(0x1e6)]!=_0x2b9620;}));}let _0x43034d=dbConfig['get'](_0x5d0d52(0xf8))['find']({'botID':botID})[_0x5d0d52(0x1df)]();_0x43034d&&(dbConfig[_0x5d0d52(0x12d)]('bot')[_0x5d0d52(0x1eb)]({'botID':botID})[_0x5d0d52(0x1a3)]({'liquidity':_0x831475})[_0x5d0d52(0x1a9)](),config['liquidity']=_0x831475),logHistory(_0x5d0d52(0x142),'Portfolio\x20change\x20detected:\x20'+Math[_0x5d0d52(0x12e)](_0x584da7[0x0][_0x5d0d52(0x151)])+'\x20'+_0x584da7[0x0]['coin']+'\x20'+(_0x584da7[0x0][_0x5d0d52(0x151)]>0x0?_0x5d0d52(0x222):_0x5d0d52(0x20d))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());}else logger[_0x5d0d52(0x1ab)](_0x5d0d52(0x18c)+Math[_0x5d0d52(0x12e)](_0x584da7[0x0]['number'])+'\x20'+_0x584da7[0x0][_0x5d0d52(0x11b)]+'\x20'+(_0x584da7[0x0][_0x5d0d52(0x151)]>0x0?_0x5d0d52(0x222):_0x5d0d52(0x20d)));transactionDetected=!![],currentCoins=_0x4c25fd,currentCoinsAll=_0x3338e7;}await sleep(watchTransactionsInterval);}catch(_0x2d4b94){if(!exchangeStopped)await handleError(_0x2d4b94,_0x5d0d52(0x1ee));}else await sleep(0x3e8);}}async function loadSymbols(_0x152fdb=config[_0x17e9f9(0xe3)],_0x569a1f=![]){const _0x1d405a=_0x17e9f9;if(allSymbols&&!_0x569a1f)return;try{markets=await exchange[_0x1d405a(0x104)](),allSymbols=exchange[_0x1d405a(0xcb)][_0x1d405a(0x11f)](_0x249206=>{const _0x437efe=_0x1d405a;let _0x1dcc42=![];const _0x43efc8=exceptions[_0x152fdb['toLowerCase']()]||[];return _0x43efc8[_0x437efe(0x17f)](_0x5b88cd=>{if(_0x249206['includes'](_0x5b88cd))_0x1dcc42=!![];}),!_0x1dcc42;});}catch(_0x5e60f2){throw _0x5e60f2;}}async function initclient(){const _0x378ba4=_0x17e9f9;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x378ba4(0x11c),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x378ba4(0x1ae),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x32b884=getNormalizedPerformance();emitPerformance(_0x32b884),getStartingBalances(_0x32b884);}async function toggleBotMode(){const _0x5ac5b6=_0x17e9f9;let _0x4a0b3d=dbConfig[_0x5ac5b6(0x12d)](_0x5ac5b6(0xf8))['find']({'botID':botID})['value']();if(_0x4a0b3d){const _0x4627fd=!_0x4a0b3d[_0x5ac5b6(0x11e)];dbConfig['get']('bot')['find']({'botID':botID})[_0x5ac5b6(0x1a3)]({'headless':_0x4627fd})['write'](),config[_0x5ac5b6(0x11e)]=_0x4627fd,proxyEmit(_0x5ac5b6(0xbe),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x351a9d=_0x17e9f9;process[_0x351a9d(0xb4)]({'updatebotmanager':!![]},_0x349f72=>{});}async function loadCoins(_0x2bd711){const _0x4eda39=_0x17e9f9;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x1d5093,_0x58d967=0x0,_0x21ac32=0x0;_0x2bd711[_0x4eda39(0x17f)](_0x336aa3=>{const _0x5074ab=_0x4eda39;loading[_0x5074ab(0x136)][_0x5074ab(0xfe)](_0x336aa3);}),loadingCanceled=![];let _0x2b4525=![];while(_0x1d5093!=_0x2bd711['length']){_0x1d5093=0x0,_0x2bd711[_0x4eda39(0x17f)](_0x458af4=>{const _0x431fe0=_0x4eda39;if(global['ticker'][noslash(_0x458af4)]){loading['remainingSymbols']=loading[_0x431fe0(0x136)][_0x431fe0(0x11f)](_0x4bbc9b=>_0x4bbc9b!=_0x458af4);if(!watchedSymbols[_0x431fe0(0x1ff)](_0x458af4))watchedSymbols['push'](_0x458af4);_0x1d5093++;}}),loading['progress']=Math['round'](_0x1d5093/_0x2bd711[_0x4eda39(0x188)]*0x64);loading[_0x4eda39(0x125)]!=0x64&&(_0x21ac32>0x1e*0x5&&(loading[_0x4eda39(0x111)]=!![],emitLoadingProgress()),_0x21ac32>0x78*0x5&&!_0x2b4525&&(loading['cancel']=!![],emitLoadingProgress(),_0x2b4525=!![],logHistory(_0x4eda39(0x1d2),_0x4eda39(0x21e)+loading['remainingSymbols'][_0x4eda39(0xb7)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x4eda39(0x1d2),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x4eda39(0xc8)),pidCoinReloading=setTimeout(()=>{const _0x4981f3=_0x4eda39;process[_0x4981f3(0xb4)]({'stop':_0x4981f3(0x1c3)},_0x462800=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x1d5093!=_0x58d967&&(_0x58d967=_0x1d5093,emitLoadingProgress()),_0x21ac32++,await sleep(0xc8);}_0x1d5093==_0x2bd711['length']&&(coinsLoaded=!![],process['send']({'status':_0x4eda39(0x11a),'live':_0x4eda39(0x190)},_0x553da3=>{}),_0x2b4525&&logHistory(_0x4eda39(0x142),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x522e64=_0x17e9f9;proxyEmit(_0x522e64(0xbe),{...emittedConfiguration(),'configstate':_0x522e64(0x130)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x1d445d=_0x17e9f9;let _0x4973ef=global['ticker'][stablecoins['eur'][_0x1d445d(0x11b)]],_0xa4855e=global['ticker'][stablecoins[_0x1d445d(0x15f)][_0x1d445d(0x11b)]];return{'eur':Number(_0x4973ef),'usd':Number(_0xa4855e)};}function capitalize(_0x3135bf){const _0x59c6a5=_0x17e9f9;return _0x3135bf[_0x59c6a5(0x167)](0x0,0x1)['toUpperCase']()+_0x3135bf[_0x59c6a5(0x167)](0x1);}function supportedExchanges(){const _0x1a8e66=_0x17e9f9,_0x2da7cd=['ws',_0x1a8e66(0x19f),_0x1a8e66(0xef),_0x1a8e66(0xce),_0x1a8e66(0x150),_0x1a8e66(0x161),_0x1a8e66(0x118),_0x1a8e66(0x139),'fetchClosedOrders',_0x1a8e66(0x220)];let _0x334d5a=[],_0x4c3845=[],_0x2cff37=ccxt[_0x1a8e66(0x11c)];_0x2cff37['forEach'](_0x3bafed=>{const _0x1d043d=_0x1a8e66;try{const _0x18dfc1=new ccxt[_0x3bafed]();if(_0x18dfc1[_0x1d043d(0x221)]['ws'])_0x4c3845[_0x1d043d(0xfe)](_0x18dfc1);}catch(_0x458d48){}}),_0x4c3845[_0x1a8e66(0x17f)](_0x322662=>{const _0x59cd4b=_0x1a8e66;let _0x3634b3=0x0;_0x2da7cd[_0x59cd4b(0x17f)](_0x322dad=>{const _0x10e21d=_0x59cd4b;_0x322dad in _0x322662[_0x10e21d(0x221)]&&_0x322662[_0x10e21d(0x221)][_0x322dad]&&_0x3634b3++;}),_0x3634b3==_0x2da7cd[_0x59cd4b(0x188)]&&_0x334d5a['push'](capitalize(_0x322662['id']));});let _0x130f94=[];return _0x2cff37['forEach'](_0x352cae=>{const _0x2dff88=_0x1a8e66;_0x352cae=capitalize(_0x352cae);if(!_0x334d5a[_0x2dff88(0x1ff)](_0x352cae))_0x130f94[_0x2dff88(0xfe)](_0x352cae);}),_0x334d5a;}function setStartDatePerformance(){const _0x3503a7=_0x17e9f9;if(config&&config['liquidity'][0x0][_0x3503a7(0x207)][_0x3503a7(0x188)]!=0x0){const _0x487ab4=config[_0x3503a7(0x11d)][0x0][_0x3503a7(0x207)];dbPerformance[_0x3503a7(0x12d)](_0x3503a7(0x155))['find']({'date':config[_0x3503a7(0x208)]})['assign']({'coins':_0x487ab4})['write']();}}async function recreateCoinResults(){const _0x47980f=_0x17e9f9;let _0x5eb29a,_0x55cb05=[];try{const _0x3fb60c=fns[_0x47980f(0x216)](fns[_0x47980f(0x1ac)](config[_0x47980f(0x208)][_0x47980f(0x198)](/\//g,'-')),_0x47980f(0xe4));for(const _0x20573e of currentCoins){if(_0x20573e[_0x47980f(0x11b)]!=config[_0x47980f(0x1b1)]){let _0x167b7e=0x0,_0x425e19,_0x5482b5;_0x5eb29a=await getAllEventOrders(_0x20573e[_0x47980f(0x1ba)]);if(_0x5eb29a[_0x47980f(0x188)]>0x0)_0x5eb29a[_0x47980f(0x17f)](_0x5dd5b3=>{const _0x18a99c=_0x47980f,_0x50902a=_0x20573e[_0x18a99c(0x1ba)]['includes'](config[_0x18a99c(0x1b1)]+'/');_0x55cb05[_0x18a99c(0xfe)]({'datetime':_0x5dd5b3[_0x18a99c(0x10a)],'coin':_0x20573e['coin'],'symbol':_0x20573e[_0x18a99c(0x1ba)],'side':_0x5dd5b3[_0x18a99c(0x1c9)],'reverse':_0x50902a,'amount':formatResult(_0x5dd5b3[_0x18a99c(0x196)],0x8),'filled':formatResult(_0x5dd5b3['filled'],0x8),'price':formatResult(_0x5dd5b3['price'],0x8)}),_0x167b7e=_0x5dd5b3[_0x18a99c(0x1c9)]=='buy'?_0x167b7e+_0x5dd5b3[_0x18a99c(0x196)]:_0x167b7e-_0x5dd5b3[_0x18a99c(0x196)];if(!_0x5482b5)_0x5482b5=_0x5dd5b3[_0x18a99c(0xc0)];});_0x425e19=_0x20573e[_0x47980f(0x151)]-_0x167b7e;let _0x4097a5;config[_0x47980f(0x11d)]['forEach'](_0x5bc8da=>{const _0x4e6006=_0x47980f;!_0x4097a5&&(_0x4097a5=_0x5bc8da['changes'][_0x4e6006(0x1eb)](_0xfae395=>_0xfae395[_0x4e6006(0x11b)]==_0x20573e['coin']),_0x4097a5&&(_0x425e19=_0x4097a5['number'],_0x5482b5=_0x4097a5[_0x4e6006(0xc0)]));});let _0x5c6b8a=dbCoinResults['get'](_0x47980f(0x1c6))[_0x47980f(0x1eb)]({'coin':_0x20573e[_0x47980f(0x11b)]})[_0x47980f(0x1df)]();_0x5c6b8a={'coin':_0x20573e[_0x47980f(0x11b)],'number':_0x425e19,'breakeven':_0x5482b5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x47980f(0x12d)](_0x47980f(0x1c6))['find']({'coin':_0x20573e['coin']})['assign'](_0x5c6b8a)[_0x47980f(0x1a9)]();}}_0x55cb05['sort']((_0x4f17a9,_0x3bbd24)=>_0x4f17a9[_0x47980f(0x10a)]>_0x3bbd24['datetime']?0x1:_0x3bbd24[_0x47980f(0x10a)]>_0x4f17a9[_0x47980f(0x10a)]?-0x1:0x0);let _0x12949d=0x0;for(let _0x5adfc1 of _0x55cb05){await updateCoinResults(_0x5adfc1,!![]);}}catch(_0x346db7){await handleError(_0x346db7,'recreateCoinResults()');}}async function getAllEventOrders(_0x7f7ff9){const _0xe33789=_0x17e9f9;let _0x3661f3=[],_0x172967=dbLogs[_0xe33789(0x12d)](_0xe33789(0x17a))[_0xe33789(0x11f)](_0x1a5952=>{const _0x497f74=_0xe33789,_0x1c6f52=_0x1a5952[_0x497f74(0x148)][_0x497f74(0xe6)]();return _0x1c6f52['includes'](_0x7f7ff9[_0x497f74(0xe6)]())&&(_0x1c6f52['includes'](_0x497f74(0xde))&&_0x1c6f52['includes'](_0x497f74(0x108))||_0x1c6f52[_0x497f74(0x1ff)]('filled')&&_0x1c6f52[_0x497f74(0x1ff)](_0x497f74(0x108)));})['sortBy'](_0xe33789(0x1e2))[_0xe33789(0x1df)]();return _0x172967[_0xe33789(0x17f)](_0x58407a=>{const _0x59f3fc=_0xe33789,_0x468cdf=_0x58407a['event'][_0x59f3fc(0x1ff)](_0x59f3fc(0x16c))?_0x59f3fc(0x16c):_0x59f3fc(0x156),_0x291718=/#([0-9]|\.)+\s/i,_0x51382f=Number(_0x291718[_0x59f3fc(0xbc)](_0x58407a[_0x59f3fc(0x148)])[0x0][_0x59f3fc(0x1d8)](0x1)),_0x2e2fdf=/@([0-9]|\.)+$/i,_0x1c5d5d=Number(_0x2e2fdf[_0x59f3fc(0xbc)](_0x58407a['event'])[0x0][_0x59f3fc(0x1d8)](0x1));_0x3661f3[_0x59f3fc(0xfe)]({'datetime':_0x58407a[_0x59f3fc(0x1e2)],'coin':symbolToCoin(_0x7f7ff9),'symbol':_0x7f7ff9,'side':_0x468cdf,'amount':_0x51382f,'filled':_0x51382f,'price':_0x1c5d5d});}),_0x3661f3;}async function getAllOrders(_0x5c8ea8,_0x528a28){const _0x4a9b5f=_0x17e9f9;let _0x216845=[];while(_0x528a28<exchange['milliseconds']()){const _0x9ac658=0x1f4,_0x409de9=await exchange['fetchClosedOrders'](_0x5c8ea8,_0x528a28,_0x9ac658);if(_0x409de9[_0x4a9b5f(0x188)])_0x528a28=_0x409de9[_0x409de9[_0x4a9b5f(0x188)]-0x1]['timestamp']+0x1,_0x216845=_0x216845[_0x4a9b5f(0x1b5)](_0x409de9);else break;}return _0x216845;}async function validate24hChanges(){const _0x26b1dd=_0x17e9f9;for(const _0x23294e of currentCoins){if(_0x23294e[_0x26b1dd(0x11b)]!=config[_0x26b1dd(0x1b1)]){let _0xbf6425;_0x23294e[_0x26b1dd(0x141)]?_0xbf6425=formatResult((0x1/(global[_0x26b1dd(0x17d)][noslash(_0x23294e[_0x26b1dd(0x1ba)])]/0x64+0x1)-0x1)*0x64,0x3):_0xbf6425=global[_0x26b1dd(0x17d)][noslash(_0x23294e[_0x26b1dd(0x1ba)])],_0xbf6425<config[_0x26b1dd(0xe9)]&&(logHistory(_0x26b1dd(0x1d2),_0x23294e[_0x26b1dd(0x11b)]+_0x26b1dd(0x140)+_0xbf6425+'%'),logHistory(_0x26b1dd(0x1d2),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x26b1dd(0x1d6)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x314df2,_0x544fa0){const _0x354d76=_0x17e9f9;if(!_0x314df2)return!![];const _0x5deccc=_0x544fa0[_0x354d76(0xb5)]('.'),_0x588d57=_0x314df2[_0x354d76(0xb5)]('.');for(var _0x2ddfad=0x0;_0x2ddfad<_0x588d57[_0x354d76(0x188)];_0x2ddfad++){const _0x58728a=~~_0x588d57[_0x2ddfad],_0x40e013=~~_0x5deccc[_0x2ddfad];if(_0x58728a<_0x40e013)return!![];if(_0x58728a>_0x40e013)return![];}return![];}async function oneTimeMigration(){const _0x2a907a=_0x17e9f9;let _0x5c490b=dbLogs[_0x2a907a(0x12d)](_0x2a907a(0x1d1))[_0x2a907a(0x1df)]();if(isOlderVersion(_0x5c490b,_0x2a907a(0x15b))){let _0x22f6d4=[];const _0x300b97=dbLogs[_0x2a907a(0x12d)](_0x2a907a(0x17a))[_0x2a907a(0x1df)]();_0x300b97[_0x2a907a(0x17f)](_0x39675f=>{const _0x49a28b=_0x2a907a;_0x22f6d4['push']({'time':_0x39675f[_0x49a28b(0x1e2)],'type':_0x39675f['type'],'event':_0x39675f[_0x49a28b(0x148)]});}),dbLogs['get'](_0x2a907a(0x17a))[_0x2a907a(0x1a3)](_0x22f6d4)['write']();}let _0x3b323b=dbConfig[_0x2a907a(0x12d)](_0x2a907a(0x1d1))[_0x2a907a(0x1df)]();if(isOlderVersion(_0x3b323b,_0x2a907a(0x15b))){let _0x2fd96e=dbConfig[_0x2a907a(0x12d)]('bot')[_0x2a907a(0x1eb)]({'botID':botID})[_0x2a907a(0x1df)]();if(_0x2fd96e){let _0x14b8b8=[];_0x2fd96e[_0x2a907a(0x10b)][_0x2a907a(0x17f)](_0x21c81d=>{const _0x4363b6=_0x2a907a;_0x14b8b8['push']({'coin':_0x21c81d[_0x4363b6(0x11b)],'number':_0x21c81d[_0x4363b6(0x1b6)],'price':_0x21c81d[_0x4363b6(0x1c1)]}),delete _0x21c81d[_0x4363b6(0x1b6)],delete _0x21c81d[_0x4363b6(0x1c1)];});if(_0x14b8b8[_0x2a907a(0x188)]!==0x0)fs[_0x2a907a(0x1b9)](configbackuppath+('starting-balance-'+botID+_0x2a907a(0x1e0)),JSON[_0x2a907a(0xd9)](_0x14b8b8,null,0x4),function(_0x55e521){if(_0x55e521){}});const _0x2979bc=(_0x109cf0,_0x1e8014)=>{const _0x4bbc94=_0x2a907a;let _0x5f4f4d=[];_0x1e8014['forEach'](_0x50656f=>{const _0x4ab085=_0x673a,_0x4f0524=_0x109cf0[_0x4ab085(0x1eb)](_0x23aa39=>_0x23aa39[_0x4ab085(0x11b)]==_0x50656f[_0x4ab085(0x11b)]);if(!_0x4f0524)_0x5f4f4d[_0x4ab085(0xfe)](_0x50656f);});let _0x4c5ad9=[];return _0x109cf0[_0x4bbc94(0x17f)](_0xfb3a04=>{const _0x2c015d=_0x4bbc94,_0x477d77=_0x1e8014['find'](_0x287238=>_0x287238[_0x2c015d(0x11b)]==_0xfb3a04[_0x2c015d(0x11b)]);if(!_0x477d77||_0x477d77[_0x2c015d(0x151)]==0x0&&_0xfb3a04[_0x2c015d(0x151)]!=0x0)_0x4c5ad9[_0x2c015d(0xfe)](_0xfb3a04);}),{'missingDay1':_0x5f4f4d,'notInDay2':_0x4c5ad9};},_0x1e2d6c=dbPerformance[_0x2a907a(0x12d)](_0x2a907a(0x155))[_0x2a907a(0x1e5)]()['value']();if(_0x1e2d6c[_0x2a907a(0x188)]>0x1){const {missingDay1:_0x1fbef1,notInDay2:_0xe2bb09}=_0x2979bc(_0x14b8b8,_0x1e2d6c[0x1][_0x2a907a(0x1c6)]);_0x14b8b8=[..._0x14b8b8,..._0x1fbef1],_0xe2bb09[_0x2a907a(0x17f)](_0x262139=>{const _0x215052=_0x2a907a;let _0x23b249=_0x14b8b8['findIndex'](_0x2e0de0=>_0x2e0de0[_0x215052(0x11b)]==_0x262139[_0x215052(0x11b)]);_0x23b249!=-0x1&&_0x14b8b8['splice'](_0x23b249,0x1);});}_0x14b8b8['sort']((_0x49ac9f,_0x34b974)=>_0x49ac9f['coin']>_0x34b974[_0x2a907a(0x11b)]?0x1:_0x34b974[_0x2a907a(0x11b)]>_0x49ac9f[_0x2a907a(0x11b)]?-0x1:0x0);let _0x2d58ba=[{'date':_0x2fd96e[_0x2a907a(0x208)],'changes':_0x14b8b8}];_0x1e2d6c[_0x2a907a(0x188)]>0x2&&_0x1e2d6c[_0x2a907a(0x17f)]((_0x1f9985,_0x2fb2a3)=>{const _0x401dd7=_0x2a907a;if(_0x2fb2a3>0x0&&_0x2fb2a3<_0x1e2d6c[_0x401dd7(0x188)]-0x1){const {missingDay1:_0x449417,notInDay2:_0x4c3dc4}=_0x2979bc(_0x1e2d6c[_0x2fb2a3][_0x401dd7(0x1c6)],_0x1e2d6c[_0x2fb2a3+0x1][_0x401dd7(0x1c6)]);_0x14b8b8=[],(_0x449417['length']!=0x0||_0x4c3dc4[_0x401dd7(0x188)]!=0x0)&&(_0x449417[_0x401dd7(0x188)]!=0x0&&_0x14b8b8[_0x401dd7(0xfe)](..._0x449417),_0x4c3dc4[_0x401dd7(0x188)]!=0x0&&(_0x4c3dc4['forEach'](_0x484e12=>{const _0x224492=_0x401dd7;_0x484e12['number']=-_0x484e12[_0x224492(0x151)];}),_0x14b8b8[_0x401dd7(0xfe)](..._0x4c3dc4)),_0x14b8b8[_0x401dd7(0x21a)]((_0x2929d0,_0x4be495)=>_0x2929d0[_0x401dd7(0x11b)]>_0x4be495[_0x401dd7(0x11b)]?0x1:_0x4be495[_0x401dd7(0x11b)]>_0x2929d0['coin']?-0x1:0x0),_0x2d58ba[_0x401dd7(0xfe)]({'date':_0x1e2d6c[_0x2fb2a3+0x1]['date'],'changes':_0x14b8b8}));}}),dbConfig['get'](_0x2a907a(0xf8))[_0x2a907a(0x1eb)]({'botID':botID})['assign']({..._0x2fd96e,'liquidity':_0x2d58ba})[_0x2a907a(0x1a9)]();}}if(isOlderVersion(_0x3b323b,_0x2a907a(0x1ca))){let _0x29c685=dbConfig['get'](_0x2a907a(0xf8))['find']({'botID':botID})[_0x2a907a(0x1df)]();if(_0x29c685){const _0x489933=_0x29c685[_0x2a907a(0xe3)],_0x5de7e7=_0x489933?capitalize(_0x489933):_0x2a907a(0xec);dbConfig[_0x2a907a(0x12d)]('bot')[_0x2a907a(0x1eb)]({'botID':botID})[_0x2a907a(0x1a3)]({'exchange':_0x5de7e7})[_0x2a907a(0x1a9)]();}}let _0x1e1927=dbPerformance[_0x2a907a(0x12d)](_0x2a907a(0x1d1))['value']();isOlderVersion(_0x1e1927,_0x2a907a(0x15b))&&setStartDatePerformance();let _0x1a4c81=dbCoinResults[_0x2a907a(0x12d)](_0x2a907a(0x1d1))[_0x2a907a(0x1df)]();if(isOlderVersion(_0x1a4c81,_0x2a907a(0x13b))){let _0x2dce72=dbCoinResults[_0x2a907a(0x12d)](_0x2a907a(0x1c6))[_0x2a907a(0x1df)]();if(_0x2dce72['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x102859=_0x17e9f9;dbConfig[_0x102859(0xfb)](_0x102859(0x1d1),serverversion)[_0x102859(0x1a9)](),dbPerformance[_0x102859(0xfb)](_0x102859(0x1d1),serverversion)[_0x102859(0x1a9)](),dbLogs[_0x102859(0xfb)](_0x102859(0x1d1),serverversion)[_0x102859(0x1a9)](),dbCoinResults[_0x102859(0xfb)]('version',serverversion)['write']();}function getConfiguration(_0x41d65f){const _0x3fd693=_0x17e9f9;let _0x434c54=dbConfig[_0x3fd693(0x12d)](_0x3fd693(0xf8))[_0x3fd693(0x1eb)]({'botID':_0x41d65f})[_0x3fd693(0x1df)]();if(_0x434c54){let _0x1e4659=![];typeof _0x434c54[_0x3fd693(0x1bb)]==_0x3fd693(0x224)&&(_0x434c54={..._0x434c54,'threshold':Number(_0x434c54[_0x3fd693(0x1bb)])},_0x1e4659=!![]),_0x434c54[_0x3fd693(0xe9)]==null&&(_0x434c54={..._0x434c54,'change24h':-0x14},_0x1e4659=!![]),!_0x434c54[_0x3fd693(0x19b)]&&(_0x434c54={..._0x434c54,'fiat':_0x3fd693(0x163)},_0x1e4659=!![]),!_0x434c54[_0x3fd693(0x218)]&&(_0x434c54={..._0x434c54,'onepagemode':settings['onepagemode']},_0x1e4659=!![]),_0x1e4659&&(_0x434c54={'botID':_0x434c54['botID'],'exchange':_0x434c54[_0x3fd693(0xe3)],'apiKey':_0x434c54[_0x3fd693(0x1e9)],'apiSecret':_0x434c54[_0x3fd693(0x16f)],'apiPassword':_0x434c54[_0x3fd693(0xc9)],'basecoin':_0x434c54['basecoin'],'botname':_0x434c54['botname'],'showname':_0x434c54[_0x3fd693(0x1dc)],'threshold':_0x434c54['threshold'],'ordertype':_0x434c54['ordertype'],'timeout':_0x434c54[_0x3fd693(0x111)],'fiat':_0x434c54['fiat'],'startdate':_0x434c54['startdate'],'recreate':_0x434c54['recreate'],'timeshift':_0x434c54[_0x3fd693(0x1a1)],'onepagemode':_0x434c54[_0x3fd693(0x218)],'headless':_0x434c54[_0x3fd693(0x11e)],'cooldown':_0x434c54[_0x3fd693(0x18d)],'change24h':_0x434c54['change24h'],'emojibuy':_0x434c54[_0x3fd693(0x18e)],'emojisell':_0x434c54[_0x3fd693(0x189)],'portfolio':_0x434c54[_0x3fd693(0x10b)],'liquidity':_0x434c54[_0x3fd693(0x11d)],'openOrders':_0x434c54[_0x3fd693(0xf4)]},dbConfig[_0x3fd693(0x12d)](_0x3fd693(0xf8))['remove']()[_0x3fd693(0x1a9)](),dbConfig[_0x3fd693(0x12d)]('bot')[_0x3fd693(0xfe)](_0x434c54)['write']());}else _0x434c54={'botID':_0x41d65f,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x3fd693(0x147)+_0x41d65f,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x3fd693(0x163),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3fd693(0x1a1)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x434c54;}function emittedConfiguration(){const _0x3ab9fa=_0x17e9f9;let _0x326ae8;if(config[_0x3ab9fa(0x1e9)]=='')_0x326ae8={...config,'configstate':_0x3ab9fa(0x1bd)};else config[_0x3ab9fa(0x1e9)]==_0x3ab9fa(0x1d7)?_0x326ae8={...config,'configstate':_0x3ab9fa(0xe1)}:(_0x326ae8={...config,'apiKey':_0x3ab9fa(0x107),'apiSecret':_0x3ab9fa(0x107)},config[_0x3ab9fa(0xc9)]&&(_0x326ae8['apiPassword']=_0x3ab9fa(0x107)));return _0x326ae8;}function getSettings(){const _0x4d34e1=_0x17e9f9;return dbSettings[_0x4d34e1(0x12d)](_0x4d34e1(0xfa))['value']();}function getSecure(){const _0x46d834=_0x17e9f9;return dbSecure[_0x46d834(0x12d)](_0x46d834(0x1ef))[_0x46d834(0x1df)]()||{};}function updateTimeshift(_0x5a210a){const _0x14d64d=_0x17e9f9;let _0x58d902=dbConfig[_0x14d64d(0x12d)](_0x14d64d(0xf8))['find']({'botID':botID})[_0x14d64d(0x1df)]();_0x58d902&&dbConfig['get'](_0x14d64d(0xf8))['find']({'botID':botID})[_0x14d64d(0x1a3)]({'timeshift':_0x5a210a})[_0x14d64d(0x1a9)](),config[_0x14d64d(0x1a1)]=_0x5a210a,proxyEmit(_0x14d64d(0xbe),emittedConfiguration());}function updateOnepagemode(_0x287de9){const _0x3704c6=_0x17e9f9;let _0x2f8af2=dbConfig[_0x3704c6(0x12d)]('bot')[_0x3704c6(0x1eb)]({'botID':botID})[_0x3704c6(0x1df)]();_0x2f8af2&&dbConfig['get'](_0x3704c6(0xf8))[_0x3704c6(0x1eb)]({'botID':botID})['assign']({'onepagemode':_0x287de9})[_0x3704c6(0x1a9)](),config[_0x3704c6(0x218)]=_0x287de9,proxyEmit(_0x3704c6(0xbe),emittedConfiguration());}async function storeConfiguration(_0x3fe556){const _0x2633eb=_0x17e9f9;logger[_0x2633eb(0x1ab)](_0x2633eb(0xf3)),blockTransactionDetection=!![],logger[_0x2633eb(0x1ab)](_0x2633eb(0x12f));let _0x5c3a48=[],_0x28677c=![],_0xf66522=[];_0x3fe556[_0x2633eb(0x10b)]['forEach'](_0x3c024f=>{const _0x205c17=_0x2633eb;if(!_0x3c024f['excluded']&&_0x3c024f[_0x205c17(0x11b)]!=_0x3fe556[_0x205c17(0x1b1)])_0xf66522['push'](_0x3c024f[_0x205c17(0x1ba)]);}),_0xf66522[_0x2633eb(0x17f)](_0xe4ac9f=>{const _0x5df426=_0x2633eb,_0x3b3d9e=watchedSymbols[_0x5df426(0x1ff)](_0xe4ac9f);!_0x3b3d9e&&_0x5c3a48[_0x5df426(0xfe)](_0xe4ac9f);});_0x5c3a48[_0x2633eb(0x188)]>0x0?_0x28677c=!![]:currentCoins['forEach'](_0xf78546=>{const _0x2005c6=_0x2633eb;if(_0xf78546['coin']!=config[_0x2005c6(0x1b1)]){const _0x4d3ac9=_0xf66522[_0x2005c6(0x1eb)](_0x42987d=>_0x42987d==_0xf78546['symbol']);!_0x4d3ac9&&(_0x28677c=!![]);}});let _0x2edfbf=dbConfig['get'](_0x2633eb(0xf8))[_0x2633eb(0x1eb)]({'botID':botID})[_0x2633eb(0x1df)]();_0x3fe556={..._0x3fe556,'apiKey':crypt[_0x2633eb(0x13c)](secure[_0x2633eb(0x143)],_0x3fe556[_0x2633eb(0x1e9)])[_0x2633eb(0x16a)],'apiSecret':crypt[_0x2633eb(0x13c)](secure[_0x2633eb(0x143)],_0x3fe556[_0x2633eb(0x16f)])['message']};_0x3fe556[_0x2633eb(0xc9)]&&(_0x3fe556[_0x2633eb(0xc9)]=crypt['decrypt'](secure[_0x2633eb(0x143)],_0x3fe556[_0x2633eb(0xc9)])[_0x2633eb(0x16a)]);let _0x2c8c66=![];_0x2edfbf?(_0x3fe556[_0x2633eb(0x1e9)]==_0x2633eb(0x107)?_0x3fe556[_0x2633eb(0x1e9)]=config[_0x2633eb(0x1e9)]:_0x2c8c66=!![],_0x3fe556['apiSecret']==_0x2633eb(0x107)?_0x3fe556['apiSecret']=config['apiSecret']:_0x2c8c66=!![],_0x3fe556['apiPassword']==_0x2633eb(0x107)?_0x3fe556['apiPassword']=config['apiPassword']:_0x2c8c66=!![],dbConfig[_0x2633eb(0x12d)](_0x2633eb(0xf8))[_0x2633eb(0x1eb)]({'botID':botID})[_0x2633eb(0x1a3)](_0x3fe556)[_0x2633eb(0x1a9)]()):(dbConfig[_0x2633eb(0x12d)](_0x2633eb(0xf8))[_0x2633eb(0xfe)](_0x3fe556)[_0x2633eb(0x1a9)](),_0x2c8c66=!![],process['send']({'status':_0x2633eb(0x11a),'live':_0x2633eb(0x190)},_0x4aa8ba=>{}));config={..._0x3fe556},setStartDatePerformance(),process['send']({'botname':_0x3fe556[_0x2633eb(0x154)]},_0x4d0640=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x2633eb(0x1a0)),await initCoinResults();if(_0x2c8c66)await reset(_0x5c3a48,!![]);else{if(_0x28677c)await reset(_0x5c3a48,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x2633eb(0x1ab)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x3a357c){const _0x1283c5=_0x17e9f9,_0x157dee={...config,'headless':_0x3a357c[_0x1283c5(0x11e)]};let _0x1f764c=dbConfig[_0x1283c5(0x12d)](_0x1283c5(0xf8))[_0x1283c5(0x1eb)]({'botID':botID})['value']();_0x1f764c&&dbConfig[_0x1283c5(0x12d)](_0x1283c5(0xf8))[_0x1283c5(0x1eb)]({'botID':botID})['assign'](_0x157dee)[_0x1283c5(0x1a9)](),config={..._0x157dee},updateBotManager(),proxyEmit(_0x1283c5(0xbe),emittedConfiguration());}function _0x3d12(){const _0x4b6b8f=['date-fns','removed','API-key\x20format\x20invalid','emitHistory','Order\x20amount\x20is\x20invalid:\x20','(((.+)+)+)+$','LOCKED','OrderNotFound','1343529MTlprF','ongoing','format','2\x20-\x20Validate\x20orders:\x20','onepagemode','orderstatus','sort','cancelLoading','close','toFixed','Failed\x20to\x20load\x20coin\x20data\x20for\x20','no\x20additional\x20symbols','fetchBalance','has','added','ordertype','string','\x20|\x20Error\x20details:\x20','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','test','average','send','split','yargs/yargs','join','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','UNLOCKING','deleteHistoryAlerts','BUSD','exec','bot-','configuration','full','price','ccxt','-------------------------------\x0a','target','getPortfolio','Cooldown\x20ended\x20-\x20balancing\x20resumed','round','\x20hour','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','apiPassword','password','symbols','add','%\x20(','watchTrades',',\x20must\x20be\x20a\x203\x20digit\x20number','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','toggleBotMode','freeze','InvalidNonce','\x20exchange','valid','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','indexOf','getStartingBalances','stringify','3\x20-\x20handling\x20FILLED\x20order:\x20','2oEXNHQ','Pausing\x20for\x20','amount','market','realized','loadSymbols()','recovery','padEnd','exchange','yyyy-MM-dd\x27T\x27HH:mm:ss','net-fiat','toLowerCase','shift','open','change24h',':\x20Bot\x20','HOT/BTC','Binance','entries','search','fetchTicker','1\x20-\x20Validate\x20orders:\x20','keys','unlinkSync','Saving\x20configuration','openOrders','\x20minutes','closed','limit','bot','./logs/','settings','set','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','847338YnmMpV','push','Crypt','additional\x20symbols\x20','trade','bots','getMonth','loadMarkets','differenceInSeconds','function','************','order','rightTxt','datetime','portfolio','getFullYear','placeOrder','fee','percentage','storeConfiguration','timeout','random','\x20|\x20lock\x20orders:\x20','ask','getHours','2\x20-\x20FILLED\x20known\x20order:\x20','splice','createOrder','\x20>\x20','enabled','coin','exchanges','liquidity','headless','filter','netoffset','BTC','\x20|\x20','page','timer:','progress','limit-high','performance','-events.json','getPortfolio(1)','final','Fees\x20|\x20currency:\x20','status','get','abs','Transaction\x20detection\x20blocked','loading-canceled','\x20metrics:</b>\x20\x0a\x0a','args','/backup/','getCoins()','58729LPFvNk','remainingSymbols','XEM/BUSD','createWriteStream','fetchOpenOrders','uncaughtException','2.5.0','decrypt','delta','canceled','offset','\x20has\x20a\x2024h\x20drop\x20of\x20','reverse','success','privateKey','\x20minutes\x20-\x20','\x20portfolio:</b>\x20\x0a\x0a','pro','Bot\x20','event','/USD','limits','7aBBnaq','padStart','log','No\x20more\x20open\x20orders\x20-\x20','initclient','watchOrders','number','sendMetricsTelegram','fromCodePoint','botname','data','buy','<pre>','clientOrderId','Initiating\x20exchange\x20reload','timestamp','2.3.5','1\x20-\x20Handle\x20open\x20orders','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','ORDERS.UNLOCKED','usd','getDate','cancelOrder','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','USD','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','apply','688926QOIzxQ','substring','last','map','message','orderId','sell','</pre>','defaults','apiSecret','net-basecoin','buys','balancing\x20resumes\x20when\x20cooldown\x20ends','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','ticker','YOYOW/','getOpenOrders()','leftTxt','bb-secure.json','NANO/','logs','Order(s)\x20not\x20validated\x20after\x20','Market','change','ORDERS.LOCKED','forEach','max','/output-000.log','2\x20-\x20FILLED\x20unknown\x20order:\x20','Unfilled\x20order(s)\x20canceled\x20after\x20','EUR','RequestTimeout','sha256','\x20closed\x20the\x20connection','length','emojisell','lowdb','no\x20open\x20orders','Fee\x20discount\x20refund\x20detected:\x20','cooldown','emojibuy','UNLOCKED','running','mkdirSync','Manual\x20balancing\x20required','sendPortfolioTelegram','432232lBFpBX','breakeven','filled','excluded','replace','currency','\x20value','fiat','ETH','Avoiding\x20continuous\x20order\x20attempts','existsSync','fetchTickers','configuration-stored','timeshift','Error:\x20Invalid\x20argument\x20','assign','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Net\x20effect','parse','getPortfolio(0)','Order\x20filled:\x20','write','startsWith','debug','parseISO','3452LJNGOj','balances','Net\x20','Executed\x20','basecoin','\x20not\x20responding','getMinutes','./version.json','concat','startnumber','exchange\x20reloaded','Exchange','writeFile','symbol','threshold','1\x20-\x20Unlock\x20orders','initial','-results.json','warning','bb-settings.json','startprice','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','restart','bid','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','coins','0\x20-\x20EXECUTION:\x20','\x20>\x20[DEBUG]\x20','side','2.6.0','storeHeadless','1306616VDwegG','eur','toString','590dJpnEg','distribution','version','error','MIN_NOTIONAL','BNB','\x20:\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','***','slice','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Resetting\x20bot\x20history','yyyy/MM/dd','showname','AuthenticationError','cost','value','.json','Limit\x20(low-margin)','time','storeFiat','sortBy','cloneDeep','date','./config/','\x20change','apiKey','remove','find','1535NsjnrD','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','watchTransactions','secure','<b>','\x20API\x20key\x20is\x20invalid','total','/EUR','getTime','recent20','customId','sells','ExchangeNotAvailable','-performance.json','event-history','path','\x20not\x20available','highest','argv','includes','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','hybrid-crypto-js','USDT','min','Unknown\x20error\x20occured','Limit\x20(high-margin)','getSeconds','changes','startdate','none','type','isEqual'];_0x3d12=function(){return _0x4b6b8f;};return _0x3d12();}async function storeFiat(_0x259453){const _0x15347d=_0x17e9f9,_0x4ff63f={...config,'fiat':_0x259453};let _0x36741c=dbConfig[_0x15347d(0x12d)]('bot')[_0x15347d(0x1eb)]({'botID':botID})[_0x15347d(0x1df)]();_0x36741c&&dbConfig[_0x15347d(0x12d)]('bot')['find']({'botID':botID})[_0x15347d(0x1a3)](_0x4ff63f)[_0x15347d(0x1a9)](),config={..._0x4ff63f},proxyEmit(_0x15347d(0xbe),emittedConfiguration());}function resetHistory(){const _0x47b374=_0x17e9f9;logger['full'](_0x47b374(0x1da));try{if(fs[_0x47b374(0x19e)](path['join'](configpath,_0x47b374(0xbd)+botID+'-events.json')))fs[_0x47b374(0xf2)](path[_0x47b374(0xb7)](configpath,_0x47b374(0xbd)+botID+_0x47b374(0x128)));if(fs[_0x47b374(0x19e)](path[_0x47b374(0xb7)](configpath,_0x47b374(0xbd)+botID+_0x47b374(0x1f9))))fs[_0x47b374(0xf2)](path[_0x47b374(0xb7)](configpath,_0x47b374(0xbd)+botID+'-performance.json'));if(fs[_0x47b374(0x19e)](path[_0x47b374(0xb7)](configpath,_0x47b374(0xbd)+botID+_0x47b374(0x1be))))fs[_0x47b374(0xf2)](path[_0x47b374(0xb7)](configpath,'bot-'+botID+_0x47b374(0x1be)));}catch(_0x1b2257){if(_0x1b2257)logger[_0x47b374(0xbf)]('Error\x20while\x20deleting\x20files:\x20',_0x1b2257);}const _0x553612=getDate();let _0x31e118=[];currentCoins[_0x47b374(0x17f)](_0x3e5065=>{const _0x1fc4fe=_0x47b374;_0x31e118[_0x1fc4fe(0xfe)]({'coin':_0x3e5065[_0x1fc4fe(0x11b)],'number':_0x3e5065[_0x1fc4fe(0x151)],'price':_0x3e5065[_0x1fc4fe(0x168)]});});let _0x5b1ee0=dbConfig['get'](_0x47b374(0xf8))[_0x47b374(0x1eb)]({'botID':botID})[_0x47b374(0x1df)]();_0x5b1ee0&&(dbConfig[_0x47b374(0x12d)]('bot')[_0x47b374(0x1eb)]({'botID':botID})[_0x47b374(0x1a3)]({'liquidity':[{'date':_0x553612,'changes':_0x31e118}]})[_0x47b374(0x1a9)](),config[_0x47b374(0x11d)]=[]),process['send']({'stop':'restart'},_0x206ce2=>{});}function noslash(_0x4a204d){const _0xa9e3f=_0x17e9f9;return _0x4a204d[_0xa9e3f(0x198)]('/','');}function updateHighestFee(_0x5af874,_0x3529a8){const _0x177d7a=_0x17e9f9;lastFees['currency']=_0x5af874,lastFees[_0x177d7a(0x1f5)]['length']===0x14&&lastFees[_0x177d7a(0x1f5)][_0x177d7a(0xe7)](),lastFees[_0x177d7a(0x1f5)]['push'](_0x3529a8),lastFees['highest']=Math[_0x177d7a(0x180)](...lastFees[_0x177d7a(0x1f5)]);}async function updateNumberCoinsCcxt(_0x4112c8){const _0x1d399b=_0x17e9f9;logger[_0x1d399b(0x1ab)](_0x1d399b(0x1c7)+_0x4112c8[_0x1d399b(0x1ba)]+_0x1d399b(0x122)+_0x4112c8[_0x1d399b(0x12c)]+_0x1d399b(0x122)+_0x4112c8['id']+_0x1d399b(0x122)+_0x4112c8[_0x1d399b(0x158)]);let _0x571187=_0x4112c8[_0x1d399b(0x12c)],_0x5cc896=![];currentCoins[_0x1d399b(0x17f)](_0xc0d951=>{const _0x518429=_0x1d399b;_0xc0d951[_0x518429(0x1ba)]==_0x4112c8['symbol']&&(_0x5cc896=!![]);});if(!_0x5cc896)return;const _0x5dbd2d=currentCoins[_0x1d399b(0x1eb)](_0x509179=>_0x509179[_0x1d399b(0x1ba)]==_0x4112c8[_0x1d399b(0x1ba)]),_0x25319f=_0x3bfa84=>{const _0x151aab=_0x1d399b;if(_0x5dbd2d)_0x5dbd2d[_0x151aab(0x219)]=_0x3bfa84;};if(_0x571187==_0x1d399b(0xe8))_0x25319f('open');else{if(_0x571187==_0x1d399b(0x13e)){_0x25319f(_0x1d399b(0x13e));const _0x346e01=await getCoins();[currentCoins,currentCoinsAll]=_0x346e01,await getOpenOrders(),handleOpenOrders();}else{if(_0x571187==_0x1d399b(0xf6)){logger[_0x1d399b(0x1ab)]('1\x20-\x20FILLED:\x20'+_0x4112c8[_0x1d399b(0x1ba)]+_0x1d399b(0x122)+_0x4112c8[_0x1d399b(0x196)]+_0x1d399b(0x122)+_0x4112c8['id']+_0x1d399b(0x122)+_0x4112c8['clientOrderId']);let _0x4ac4f5=![];if(lastOrders)lastOrders[_0x1d399b(0x17f)](async _0x294c57=>{const _0x3fb0fe=_0x1d399b;if(_0x294c57[_0x3fb0fe(0x1f6)]==_0x4112c8[_0x3fb0fe(0x158)]){logger[_0x3fb0fe(0x1ab)](_0x3fb0fe(0x116)+_0x4112c8['clientOrderId']),_0x4ac4f5=!![];if(_0x294c57['filled']==0x0){logger['debug'](_0x3fb0fe(0xda)+_0x4112c8['clientOrderId']);_0x4112c8['average']?_0x294c57[_0x3fb0fe(0xc0)]=_0x4112c8[_0x3fb0fe(0xb3)]:_0x294c57['price']=_0x4112c8[_0x3fb0fe(0xc0)];_0x294c57[_0x3fb0fe(0x196)]=_0x4112c8[_0x3fb0fe(0x196)],_0x294c57['fee']={'currency':_0x4112c8[_0x3fb0fe(0x10e)]?_0x4112c8[_0x3fb0fe(0x10e)][_0x3fb0fe(0x199)]:null,'cost':_0x4112c8[_0x3fb0fe(0x10e)]?_0x4112c8[_0x3fb0fe(0x10e)][_0x3fb0fe(0x1de)]:0x0},updateHighestFee(_0x294c57[_0x3fb0fe(0x10e)][_0x3fb0fe(0x199)],_0x294c57[_0x3fb0fe(0x10e)][_0x3fb0fe(0x1de)]),_0x25319f(_0x3fb0fe(0x196)),await validateOrders();if(lockOrders==ORDERS[_0x3fb0fe(0x212)]){const _0x4a3f37=await getCoins();[currentCoins,currentCoinsAll]=_0x4a3f37;}await updateCoinResults(_0x294c57);}}});if(!_0x4ac4f5){logger['debug'](_0x1d399b(0x182)+_0x4112c8['id']),_0x25319f(_0x1d399b(0x196));const _0x504373=await getCoins();[currentCoins,currentCoinsAll]=_0x504373,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x190e12=JSON[_0x1d399b(0x1a6)](lastBalances[_0x1d399b(0x10b)]);const _0x4cdcfa=_0x190e12[_0x1d399b(0x1eb)](_0x10873a=>_0x10873a[_0x1d399b(0x1ba)]==_0x4112c8[_0x1d399b(0x1ba)]);if(_0x4cdcfa){if(_0x571187==_0x1d399b(0xe8))_0x4cdcfa[_0x1d399b(0x219)]=_0x4cdcfa[_0x1d399b(0x219)]==_0x1d399b(0x196)?_0x1d399b(0x196):_0x1d399b(0xe8);else{if(_0x571187==_0x1d399b(0x13e))_0x4cdcfa[_0x1d399b(0x219)]=_0x4cdcfa[_0x1d399b(0x219)]=='filled'?_0x1d399b(0x196):_0x1d399b(0x13e);else _0x571187==_0x1d399b(0xf6)&&(_0x4cdcfa[_0x1d399b(0x219)]=_0x1d399b(0x196));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1d399b(0xd9)](_0x190e12)},proxyEmit(_0x1d399b(0x1ae),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x5f38e5=_0x17e9f9;await getOpenOrders();let _0x3f2645=![];currentCoins[_0x5f38e5(0x17f)](_0xab0fa1=>{const _0x197152=_0x5f38e5;_0x3f2645=allOpenOrders[_0x197152(0x1eb)](_0x3d77ff=>_0x3d77ff[_0x197152(0x1ba)]==_0xab0fa1[_0x197152(0x1ba)]),_0xab0fa1[_0x197152(0x219)]=_0x3f2645?_0x197152(0xe8):'none';});}async function getCoins(_0x508283=!![],_0x3b9ba8=config[_0x17e9f9(0x1b1)]){const _0x4066e3=_0x17e9f9;let _0xbc5444,_0x5cf0d2=[],_0x3f594f=[],_0x8f4ab3=[],_0x55cbe9=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0xbc5444=await exchange['fetchBalance'](),mybalances=_0xbc5444[_0x4066e3(0x1f2)];for(const [_0x4db063,_0x1161f7]of Object['entries'](mybalances)){_0x55cbe9[_0x4066e3(0xfe)](_0x4db063);}if(_0x3b9ba8=='')for(const [_0x3d57d7,_0x4f0ebd]of Object[_0x4066e3(0xed)](mybalances)){_0x4f0ebd['toString']()!=0x0&&_0x3f594f[_0x4066e3(0xfe)]({'coin':_0x3d57d7});}else{let _0xd4cefc=![];for(const [_0x3647ca,_0x396d25]of Object['entries'](mybalances)){if(_0x55cbe9['includes'](_0x3647ca)){const _0x4d289d=config['portfolio'][_0x4066e3(0x1eb)](_0x417e34=>_0x417e34['coin']==_0x3647ca),_0x5ac589=_0x3647ca+'/'+_0x3b9ba8,_0x60f172=_0x3b9ba8+'/'+_0x3647ca,_0x6ca6c5=currentCoins[_0x4066e3(0x1eb)](_0x59ad87=>_0x59ad87['coin']==_0x3647ca);_0xd4cefc=![];if((_0x396d25[_0x4066e3(0x1ce)]()!=0x0||_0x4d289d)&&(allSymbols[_0x4066e3(0x1ff)](_0x5ac589)||_0x3647ca==_0x3b9ba8))_0x3647ca!=_0x3b9ba8&&_0x5cf0d2[_0x4066e3(0xfe)](_0x5ac589),_0x3f594f['push']({'coin':_0x3647ca,'symbol':_0x5ac589,'reverse':![],'number':Math[_0x4066e3(0x180)](_0x396d25+(_0x4d289d&&_0x4d289d[_0x4066e3(0x13f)]||0x0),0x0),'orderstatus':_0x6ca6c5?_0x6ca6c5[_0x4066e3(0x219)]:_0x4066e3(0x209)});else(_0x396d25[_0x4066e3(0x1ce)]()!=0x0||_0x4d289d)&&allSymbols['includes'](_0x60f172)&&(_0x3647ca!=_0x3b9ba8&&_0x5cf0d2[_0x4066e3(0xfe)](_0x60f172),_0x3f594f[_0x4066e3(0xfe)]({'coin':_0x3647ca,'symbol':_0x60f172,'reverse':!![],'number':Math[_0x4066e3(0x180)](_0x396d25+(_0x4d289d&&_0x4d289d[_0x4066e3(0x13f)]||0x0),0x0),'orderstatus':_0x6ca6c5?_0x6ca6c5['orderstatus']:_0x4066e3(0x209)}));}}}}catch(_0x1413ea){if(!_0x508283)handleErrorNoStop(_0x1413ea,_0x4066e3(0x134));else await handleError(_0x1413ea,_0x4066e3(0x134));}return _0x8f4ab3=cloneDeep(_0x3f594f),_0x3f594f=_0x3f594f[_0x4066e3(0x11f)](_0x32c537=>{const _0x178b0f=_0x4066e3,_0x2495ce=config[_0x178b0f(0x10b)][_0x178b0f(0x1eb)](_0x5cf7a1=>_0x5cf7a1[_0x178b0f(0x11b)]==_0x32c537[_0x178b0f(0x11b)]);return _0x2495ce&&!_0x2495ce[_0x178b0f(0x197)];}),[_0x3f594f,_0x8f4ab3];}async function getCoinNumber(_0x430676){const _0x4d3b40=_0x17e9f9;let _0x753a03;try{const _0x3e385c=await exchange[_0x4d3b40(0x220)]();_0x753a03=_0x3e385c[_0x4d3b40(0x1f2)][_0x430676];}catch(_0x5e0a8b){await handleError(_0x5e0a8b,'getCoinNumber()');}return _0x753a03;}async function getOpenOrders(){const _0x4dadcc=_0x17e9f9;let _0x2c9bdd;allOpenOrders=[];try{for(const _0x4f1a79 of config[_0x4dadcc(0x10b)]){!_0x4f1a79[_0x4dadcc(0x197)]&&_0x4f1a79[_0x4dadcc(0x11b)]!=config[_0x4dadcc(0x1b1)]&&(_0x2c9bdd=await exchange[_0x4dadcc(0x139)](_0x4f1a79[_0x4dadcc(0x1ba)]),_0x2c9bdd['length']>0x0&&allOpenOrders[_0x4dadcc(0xfe)](_0x2c9bdd[0x0]));}}catch(_0x486e40){await handleError(_0x486e40,_0x4dadcc(0x176));}}async function handleOpenOrders(_0x538d77=0x0){const _0x3ceac0=_0x17e9f9;allOpenOrders[_0x3ceac0(0x188)]==0x0&&lockOrders==ORDERS[_0x3ceac0(0x212)]&&allOrdersPlaced&&(_0x538d77==0x0?(logger[_0x3ceac0(0x1ab)](_0x3ceac0(0x15c)),_0x538d77++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x3ceac0(0x18b))));}async function testAPI(_0x3c14cf){const _0x55a4f5=_0x17e9f9,_0x1051d1=ccxt[_0x3c14cf[_0x55a4f5(0xe3)][_0x55a4f5(0xe6)]()],_0x240add=new _0x1051d1({'apiKey':_0x3c14cf[_0x55a4f5(0x1e9)],'secret':_0x3c14cf['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x3c14cf[_0x55a4f5(0xc9)])_0x240add[_0x55a4f5(0xca)]=_0x3c14cf[_0x55a4f5(0xc9)];try{await _0x240add[_0x55a4f5(0x104)]();}catch(_0x2e7573){throw _0x2e7573;}}function cloneDeep(_0x5bc7c0){const _0x31e964=_0x17e9f9;return JSON[_0x31e964(0x1a6)](JSON[_0x31e964(0xd9)](_0x5bc7c0));}async function getPortfolio(_0x35a0f8){const _0xa93d65=_0x17e9f9;let _0x16ca55=[],_0x3a1be5=[],_0xbb43e6=[],_0x228498;if(_0x35a0f8['apiKey']!==_0xa93d65(0x107)||_0x35a0f8[_0xa93d65(0x16f)]!==_0xa93d65(0x107)||_0x35a0f8[_0xa93d65(0xc9)]&&_0x35a0f8[_0xa93d65(0xc9)]!==_0xa93d65(0x107)){if(config['exchange']){if(_0x35a0f8[_0xa93d65(0x1e9)]==_0xa93d65(0x107))_0x35a0f8['apiKey']=config[_0xa93d65(0x1e9)];if(_0x35a0f8[_0xa93d65(0x16f)]==_0xa93d65(0x107))_0x35a0f8[_0xa93d65(0x16f)]=config[_0xa93d65(0x16f)];if(_0x35a0f8[_0xa93d65(0xc9)]=='************')_0x35a0f8[_0xa93d65(0xc9)]=config[_0xa93d65(0xc9)];try{await testAPI(_0x35a0f8);}catch(_0x57544){if(_0x57544['toString']()[_0xa93d65(0x1ff)](_0xa93d65(0x1dd))){logger[_0xa93d65(0x1ab)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0xa93d65(0x10b),![]);return;}else{handleError(_0x57544,_0xa93d65(0x1a7));return;}}}await initExchange(_0x35a0f8[_0xa93d65(0xe3)],_0x35a0f8[_0xa93d65(0x1e9)],_0x35a0f8['apiSecret'],_0x35a0f8['apiPassword']);try{await loadSymbols(_0x35a0f8[_0xa93d65(0xe3)],!![]);}catch(_0x262d00){if(_0x262d00[_0xa93d65(0x1ce)]()['includes'](_0xa93d65(0x1dd))){proxyEmit(_0xa93d65(0x10b),![]);return;}else{handleError(_0x262d00,_0xa93d65(0x129));return;}}const _0x19b2c5=await getCoins(![],_0x35a0f8['basecoin']);_0xbb43e6=cloneDeep(_0x19b2c5[0x1]);}else _0xbb43e6=cloneDeep(currentCoinsAll);if(_0x35a0f8[_0xa93d65(0x1b1)]=='')proxyEmit(_0xa93d65(0x10b),_0xbb43e6);else{_0xbb43e6['forEach'](_0x194ee2=>{const _0x2c86e6=_0xa93d65;if(_0x194ee2[_0x2c86e6(0x11b)]!=_0x35a0f8[_0x2c86e6(0x1b1)])_0x16ca55[_0x2c86e6(0xfe)](_0x194ee2[_0x2c86e6(0x1ba)]);});try{_0x3a1be5=await exchange['fetchTickers'](_0x16ca55);}catch(_0x563364){if(_0x563364[_0xa93d65(0x1ce)]()[_0xa93d65(0x1ff)]('AuthenticationError')){proxyEmit(_0xa93d65(0x10b),![]);return;}else{handleError(_0x563364,'getPortfolio(2)');return;}}_0xbb43e6[_0xa93d65(0x17f)](_0x1123c8=>{const _0x4cbc60=_0xa93d65;_0x1123c8[_0x4cbc60(0x11b)]!=_0x35a0f8[_0x4cbc60(0x1b1)]?_0x228498=_0x1123c8['reverse']?0x1/_0x3a1be5[_0x1123c8[_0x4cbc60(0x1ba)]]['last']:_0x3a1be5[_0x1123c8[_0x4cbc60(0x1ba)]]['last']:_0x228498=0x1,_0x1123c8[_0x4cbc60(0xc0)]=formatResult(_0x228498,0x8);}),proxyEmit(_0xa93d65(0x10b),_0xbb43e6);}}function truncateTradeAmount(_0x2d8334,_0x177cf8){let _0x241f78=0x0;try{_0x241f78=exchange['amountToPrecision'](_0x2d8334,_0x177cf8);}catch(_0xa6f768){}return _0x241f78;}function checkMinimums(_0x1ba476){const _0x112c2e=_0x17e9f9;let _0x1bd3b7=!![];const _0xd099b3=!_0x1ba476[_0x112c2e(0x141)]?markets[_0x1ba476['symbol']][_0x112c2e(0x14a)][_0x112c2e(0xdd)]['min']:markets[_0x1ba476[_0x112c2e(0x1ba)]][_0x112c2e(0x14a)][_0x112c2e(0x1de)][_0x112c2e(0x203)],_0x26013d=!_0x1ba476['reverse']?markets[_0x1ba476['symbol']]['limits'][_0x112c2e(0x1de)][_0x112c2e(0x203)]:markets[_0x1ba476[_0x112c2e(0x1ba)]][_0x112c2e(0x14a)][_0x112c2e(0xdd)][_0x112c2e(0x203)],_0x1e468d=truncateTradeAmount(_0x1ba476[_0x112c2e(0x1ba)],_0x1ba476['trade']);_0x1ba476['trade']=_0x1e468d;if(Math['abs'](_0x1e468d)<_0xd099b3)_0x1bd3b7=![];if(Math['abs'](_0x1e468d)*_0x1ba476[_0x112c2e(0x168)]<_0x26013d)_0x1bd3b7=![];if(_0x1ba476['side']=='sell'){let _0x535e02=config[_0x112c2e(0x10b)][_0x112c2e(0x1eb)](_0x5ce583=>_0x5ce583[_0x112c2e(0x11b)]==_0x1ba476[_0x112c2e(0x11b)]);if(_0x535e02[_0x112c2e(0x13f)]>0x0){if(Math['abs'](_0x1e468d)>_0x1ba476[_0x112c2e(0x151)]-_0x535e02[_0x112c2e(0x13f)])_0x1bd3b7=![];}else{if(Math[_0x112c2e(0x12e)](_0x1e468d)>_0x1ba476[_0x112c2e(0x151)])_0x1bd3b7=![];}}if(_0x1ba476[_0x112c2e(0x1c9)]==_0x112c2e(0x156)){let _0xe88565=config[_0x112c2e(0x10b)][_0x112c2e(0x1eb)](_0x5a0efa=>_0x5a0efa['coin']==config['basecoin']),_0x11ce53=currentCoins[_0x112c2e(0x1eb)](_0x1b179a=>_0x1b179a[_0x112c2e(0x11b)]==config[_0x112c2e(0x1b1)]);if(_0xe88565[_0x112c2e(0x13f)]>0x0){if(Math[_0x112c2e(0x12e)](_0x1e468d)*_0x1ba476['last']>_0x11ce53['number']-_0xe88565['offset'])_0x1bd3b7=![];}else{if(Math[_0x112c2e(0x12e)](_0x1e468d)*_0x1ba476['last']>_0x11ce53['number'])_0x1bd3b7=![];}}return _0x1bd3b7;}async function getBalances(){const _0x416102=_0x17e9f9;let _0x48f672=0x0,_0x4990ad;const _0x27c012=config[_0x416102(0x1bb)];if(config[_0x416102(0x11e)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x416102(0x17f)](_0x156e57=>{const _0x5e52ca=_0x416102;if(_0x156e57['coin']!=config[_0x5e52ca(0x1b1)]){let _0x8e494b=global[_0x5e52ca(0x174)][noslash(_0x156e57[_0x5e52ca(0x1ba)])];_0x4990ad=_0x156e57['reverse']?0x1/_0x8e494b:_0x8e494b;}else _0x4990ad=0x1;let _0x280823=_0x156e57[_0x5e52ca(0x151)]*_0x4990ad;_0x48f672+=_0x280823,_0x156e57['last']=formatResult(Number(_0x4990ad),0x8),_0x156e57[_0x5e52ca(0x1df)]=_0x280823;}),currentCoins[_0x416102(0x17f)](_0x36e08e=>{const _0x27bf15=_0x416102;let _0x5d167b=config[_0x27bf15(0x10b)][_0x27bf15(0x1eb)](_0x162371=>_0x162371[_0x27bf15(0x11b)]==_0x36e08e['coin']),_0x29c973=Number(_0x5d167b['distribution']),_0x4781d3=_0x36e08e[_0x27bf15(0x1df)]/_0x48f672*0x64,_0xc0ca3a=_0x29c973*_0x48f672/0x64/_0x36e08e[_0x27bf15(0x168)]-_0x36e08e[_0x27bf15(0x151)];_0x36e08e[_0x27bf15(0x1d0)]=formatResult(_0x4781d3,0x3),_0x36e08e[_0x27bf15(0xc3)]=formatResult(_0x29c973,0x3),_0x36e08e['trade']=formatResult(_0xc0ca3a,0x8),_0x36e08e[_0x27bf15(0x1c9)]='',_0x36e08e[_0x27bf15(0xd5)]=![];if(_0x36e08e[_0x27bf15(0x11b)]!=config[_0x27bf15(0x1b1)]){if(_0x36e08e[_0x27bf15(0x1d0)]>_0x29c973)_0x36e08e[_0x27bf15(0x1c9)]=_0x27bf15(0x16c),_0x36e08e[_0x27bf15(0xd5)]=checkMinimums(_0x36e08e);else _0x36e08e[_0x27bf15(0x1d0)]<_0x29c973&&(_0x36e08e[_0x27bf15(0x1c9)]=_0x27bf15(0x156),_0x36e08e[_0x27bf15(0xd5)]=checkMinimums(_0x36e08e));}_0x36e08e[_0x27bf15(0x13d)]=_0x36e08e[_0x27bf15(0x1d0)]/_0x36e08e[_0x27bf15(0xc3)]-0x1;if(_0x36e08e[_0x27bf15(0x219)]==_0x27bf15(0x196)||_0x36e08e[_0x27bf15(0x219)]==_0x27bf15(0x13e))_0x36e08e[_0x27bf15(0x219)]=_0x27bf15(0x209);}),currentCoins[_0x416102(0x21a)]((_0x122233,_0x36464d)=>_0x122233[_0x416102(0x13d)]<_0x36464d['delta']?0x1:_0x36464d[_0x416102(0x13d)]<_0x122233['delta']?-0x1:0x0);const _0x32d429=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x32d429[_0x416102(0x1cd)],'usd':_0x32d429[_0x416102(0x15f)],'portfolio':JSON[_0x416102(0xd9)](currentCoins),'threshold':_0x27c012},proxyEmit(_0x416102(0x1ae),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x27c012});else{if(lockOrders==ORDERS[_0x416102(0x18f)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x27c012});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x31f077=getNormalizedPerformance();getStartingBalances(_0x31f077),emitPerformance(_0x31f077);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x51bdd9=getNormalizedPerformance();emitPerformance(_0x51bdd9),getStartingBalances(_0x51bdd9),logger[_0x416102(0x1ab)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2491fb=_0x17e9f9;if(!lastBalances)return;let _0x569197=[],_0x2a2481,_0x46fcee=JSON[_0x2491fb(0x1a6)](lastBalances[_0x2491fb(0x10b)]);_0x46fcee['sort']((_0x24c16f,_0x13c66e)=>_0x24c16f[_0x2491fb(0x11b)]>_0x13c66e['coin']?0x1:_0x13c66e[_0x2491fb(0x11b)]>_0x24c16f[_0x2491fb(0x11b)]?-0x1:0x0),_0x46fcee[_0x2491fb(0x17f)](_0x426452=>{const _0x15c4dc=_0x2491fb;let _0x415439={'coin':_0x426452[_0x15c4dc(0x11b)],'number':_0x426452['number'],'price':_0x426452[_0x15c4dc(0x168)]};_0x569197[_0x15c4dc(0xfe)](_0x415439);});const _0x24842e=await getFiat();_0x2a2481={'date':lastBalances[_0x2491fb(0x1e2)][_0x2491fb(0xb5)]('\x20')[0x0],'eur':_0x24842e[_0x2491fb(0x1cd)],'usd':_0x24842e[_0x2491fb(0x15f)],'coins':_0x569197};let _0xdbcc89=dbPerformance[_0x2491fb(0x12d)](_0x2491fb(0x155))[_0x2491fb(0x1eb)]({'date':_0x2a2481[_0x2491fb(0x1e6)]})['value']();_0xdbcc89?_0x2a2481[_0x2491fb(0x1e6)]!=config[_0x2491fb(0x208)]&&dbPerformance[_0x2491fb(0x12d)](_0x2491fb(0x155))[_0x2491fb(0x1eb)]({'date':_0x2a2481[_0x2491fb(0x1e6)]})[_0x2491fb(0x1a3)](_0x2a2481)[_0x2491fb(0x1a9)]():dbPerformance[_0x2491fb(0x12d)](_0x2491fb(0x155))[_0x2491fb(0xfe)](_0x2a2481)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x529c8d=_0x17e9f9;let _0x40a320=[];if(dbPerformance[_0x529c8d(0x221)]('data')['value']()){let _0x391a58=dbPerformance['get'](_0x529c8d(0x155))[_0x529c8d(0x1e5)]()[_0x529c8d(0x1e4)](_0x529c8d(0x1e6))[_0x529c8d(0x1df)](),_0xfa05da=[...config[_0x529c8d(0x11d)]];_0xfa05da[_0x529c8d(0x21a)]((_0x454bc9,_0x42bb57)=>_0x454bc9[_0x529c8d(0x1e6)]>_0x42bb57['date']?-0x1:_0x42bb57[_0x529c8d(0x1e6)]>_0x454bc9[_0x529c8d(0x1e6)]?0x1:0x0);let _0x467e56=0x1,_0x5e703d=[],_0x5d9a5f=0x0;_0x391a58[_0x529c8d(0x1d8)]()[_0x529c8d(0x141)]()[_0x529c8d(0x17f)]((_0x5e9696,_0x132794)=>{const _0x484ec1=_0x529c8d;if(_0xfa05da[_0x5d9a5f]){if(_0x391a58[_0x391a58['length']-_0x132794]&&_0xfa05da[_0x5d9a5f][_0x484ec1(0x1e6)]==_0x391a58[_0x391a58['length']-_0x132794][_0x484ec1(0x1e6)]){if(_0x132794<_0x391a58[_0x484ec1(0x188)]){let _0x1d19b8=0x0,_0xa2b687=0x0;_0x391a58[_0x391a58[_0x484ec1(0x188)]-_0x132794][_0x484ec1(0x1c6)][_0x484ec1(0x17f)](_0x101877=>{const _0x4c4b28=_0x484ec1;_0xa2b687+=_0x101877[_0x4c4b28(0x151)]*_0x101877[_0x4c4b28(0xc0)];}),_0xfa05da[_0x5d9a5f][_0x484ec1(0x207)][_0x484ec1(0x17f)](_0x38fcbd=>{const _0x1ede7f=_0x484ec1;_0x1d19b8+=_0x38fcbd[_0x1ede7f(0x151)]*_0x38fcbd[_0x1ede7f(0xc0)];}),_0x467e56*=_0x1d19b8/(_0xa2b687-_0x1d19b8)+0x1;}_0x5d9a5f++;}}let _0x38640f=0x0;_0x5e9696[_0x484ec1(0x1c6)][_0x484ec1(0x17f)](_0x2f51fd=>{const _0x63e4a6=_0x484ec1;_0x38640f+=_0x2f51fd[_0x63e4a6(0x151)]*_0x2f51fd['price'];}),_0x5e703d[_0x391a58[_0x484ec1(0x188)]-_0x132794-0x1]=_0x38640f*(_0x467e56-0x1);});let _0x2059ce=[];_0xfa05da=[...config[_0x529c8d(0x11d)]]||[];let _0x2b7483=0x0;_0x5d9a5f=0x0,_0x391a58['forEach']((_0x46f3c4,_0x15bc94)=>{const _0x410e38=_0x529c8d;if(_0xfa05da[_0x5d9a5f]){const _0x365c5f=fns[_0x410e38(0x1a6)](_0xfa05da[_0x5d9a5f]['date'],_0x410e38(0x1db),new Date()),_0x3a37a7=fns[_0x410e38(0x1a6)](_0x46f3c4[_0x410e38(0x1e6)],_0x410e38(0x1db),new Date());if(fns[_0x410e38(0x20b)](_0x365c5f,_0x3a37a7)){let _0x1255f9=0x0;_0xfa05da[_0x5d9a5f][_0x410e38(0x207)][_0x410e38(0x17f)](_0x370462=>{const _0x125612=_0x410e38;!_0x2059ce[_0x370462[_0x125612(0x11b)]]?_0x2059ce[_0x370462['coin']]=_0x370462[_0x125612(0x151)]:(_0x1255f9=_0x2059ce[_0x370462[_0x125612(0x11b)]],_0x2059ce[_0x370462[_0x125612(0x11b)]]+=_0x370462['number']);const _0x5f08f7=_0x46f3c4['coins'][_0x125612(0x1eb)](_0x246ca7=>_0x246ca7[_0x125612(0x11b)]==_0x370462[_0x125612(0x11b)]);(!_0x5f08f7||_0x5f08f7['number']==0x0)&&(_0x2b7483+=(-_0x370462[_0x125612(0x151)]-_0x1255f9)*_0x370462[_0x125612(0xc0)]);}),_0x5d9a5f++;}}_0x46f3c4[_0x410e38(0x1c6)][_0x410e38(0x17f)]((_0x14f320,_0x113a76)=>{const _0x300990=_0x410e38;_0x2059ce[_0x14f320[_0x300990(0x11b)]]&&(_0x14f320[_0x300990(0x1bd)]=_0x2059ce[_0x14f320[_0x300990(0x11b)]]);}),_0x40a320[_0x410e38(0xfe)]({'date':_0x46f3c4[_0x410e38(0x1e6)],'eur':_0x46f3c4[_0x410e38(0x1cd)],'usd':_0x46f3c4['usd'],'offset':_0x5e703d[_0x15bc94],'netoffset':_0x2b7483,'coins':_0x46f3c4[_0x410e38(0x1c6)]});});}return _0x40a320;}function emitPerformance(_0x109236){const _0x381da0=_0x17e9f9;_0x109236['length']!==0x0?(proxyEmit(_0x381da0(0x127),_0x109236),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x1b334e,_0x1e09ad){const _0x42657f=_0x17e9f9;let _0x1475b5=0x0,_0x503d6f=0x0,_0x4f7506=0x0;_0x1b334e['coins'][_0x42657f(0x17f)](_0x487241=>{const _0x33545d=_0x42657f;_0x1475b5+=_0x487241[_0x33545d(0x151)]*_0x487241[_0x33545d(0xc0)];});_0x1e09ad&&(_0x1475b5+=_0x1b334e[_0x42657f(0x13f)]);if(config['basecoin']===_0x42657f(0x121)||config[_0x42657f(0x1b1)]===_0x42657f(0x19c))_0x503d6f=_0x1475b5*_0x1b334e['eur'],_0x4f7506=_0x1475b5*_0x1b334e[_0x42657f(0x15f)];else{if(config[_0x42657f(0x1b1)]===_0x42657f(0xbb)||config[_0x42657f(0x1b1)]===_0x42657f(0x202)||config[_0x42657f(0x1b1)]===_0x42657f(0x163))_0x503d6f=_0x1475b5*_0x1b334e[_0x42657f(0x1cd)]/_0x1b334e[_0x42657f(0x15f)],_0x4f7506=_0x1475b5;else config[_0x42657f(0x1b1)]==='EUR'&&(_0x503d6f=_0x1475b5,_0x4f7506=_0x1475b5*_0x1b334e[_0x42657f(0x15f)]/_0x1b334e['eur']);}return[_0x1475b5,_0x503d6f,_0x4f7506];}function getKPIs(_0x2e2d6a,_0x30a099='EUR'){const _0x299d02=_0x17e9f9,_0x2d2de4=config[_0x299d02(0x1b1)],_0x5411a2=lastBalances,_0x1e9c54=currentCoins,_0x1d9582=getNormalizedPerformance(),_0x4b7586=_0x2e2d6a===_0x299d02(0x1b1)?_0x2d2de4:_0x2e2d6a===_0x299d02(0x19b)||_0x2e2d6a==='net-fiat'?_0x30a099:_0x299d02(0x1af)+_0x2d2de4,_0xea86da=_0x2e2d6a===_0x299d02(0x170)?_0x299d02(0x1a5):_0x2e2d6a===_0x299d02(0xe5)?_0x299d02(0x1a5):_0x4b7586+_0x299d02(0x19a),_0x3b217a=_0x2e2d6a===_0x299d02(0x170)||_0x2e2d6a===_0x299d02(0xe5)?_0x299d02(0x1a5):_0x4b7586+_0x299d02(0x1e8);let _0x2a6dce=0x0;_0x1e9c54[_0x299d02(0x17f)](_0x2eeb69=>{const _0x215877=_0x299d02;_0x2a6dce+=_0x2eeb69[_0x215877(0x151)]*_0x2eeb69[_0x215877(0x168)];});if(_0x2e2d6a==='fiat'||_0x2e2d6a===_0x299d02(0xe5)){if(_0x2d2de4===_0x299d02(0x121)||_0x2d2de4===_0x299d02(0x19c))_0x2a6dce=_0x2a6dce*(_0x30a099===_0x299d02(0x184)?_0x5411a2[_0x299d02(0x1cd)]:_0x5411a2[_0x299d02(0x15f)]);else{if(_0x2d2de4==='BUSD'||_0x2d2de4===_0x299d02(0x202)||_0x2d2de4===_0x299d02(0x163))_0x2a6dce=_0x2a6dce*(_0x30a099===_0x299d02(0x184)?_0x5411a2[_0x299d02(0x1cd)]/_0x5411a2[_0x299d02(0x15f)]:0x1);else _0x2d2de4===_0x299d02(0x184)&&(_0x2a6dce=_0x2a6dce*(_0x30a099===_0x299d02(0x184)?0x1:_0x5411a2[_0x299d02(0x15f)]/_0x5411a2['eur']));}}let _0x5346bd;if(_0x2a6dce!==0x0){if(_0x2e2d6a==='basecoin')_0x5346bd=(_0x2a6dce/startingBalances[_0x299d02(0x1b1)]-0x1)*0x64;else{if(_0x30a099==='EUR')_0x5346bd=(_0x2a6dce/startingBalances['eur']-0x1)*0x64;else _0x5346bd=(_0x2a6dce/startingBalances[_0x299d02(0x15f)]-0x1)*0x64;}let _0x2b17fb=0x0;if(startingBalances['coins'])_0x1e9c54[_0x299d02(0x17f)](_0x2ddf6e=>{const _0x453bee=_0x299d02;let _0x2b63a5=startingBalances[_0x453bee(0x1c6)][_0x453bee(0x1eb)](_0x20f3e0=>_0x20f3e0['coin']===_0x2ddf6e['coin']);if(_0x2b63a5&&_0x2b63a5[_0x453bee(0x11b)]&&_0x2ddf6e[_0x453bee(0x151)]!==0x0)_0x2b17fb+=_0x2b63a5[_0x453bee(0x151)]*_0x2ddf6e['last'];});let _0x4b16c4=0x0;if(_0x1d9582[_0x299d02(0x188)]!==0x0){let _0x2e473b=_0x1d9582[_0x1d9582[_0x299d02(0x188)]-0x1];_0x4b16c4=_0x2e473b[_0x299d02(0x120)];}_0x2b17fb-=_0x4b16c4;_0x2e2d6a===_0x299d02(0x170)&&(_0x5346bd=(_0x2a6dce-_0x2b17fb)/startingBalances[_0x299d02(0x1b1)]*0x64,_0x2a6dce=_0x2a6dce-_0x2b17fb);if(_0x2e2d6a===_0x299d02(0xe5)){let _0x451cc9=_0x30a099===_0x299d02(0x184)?startingBalances[_0x299d02(0x1cd)]:startingBalances[_0x299d02(0x15f)];if(_0x2d2de4===_0x299d02(0x121)||_0x2d2de4==='ETH')_0x2b17fb=_0x30a099===_0x299d02(0x184)?_0x2b17fb*_0x5411a2[_0x299d02(0x1cd)]:_0x2b17fb*_0x5411a2[_0x299d02(0x15f)];else{if(_0x2d2de4===_0x299d02(0xbb)||_0x2d2de4===_0x299d02(0x202)||_0x2d2de4===_0x299d02(0x163))_0x2b17fb=_0x30a099==='EUR'?_0x2b17fb*_0x5411a2[_0x299d02(0x1cd)]/_0x5411a2[_0x299d02(0x15f)]:_0x2b17fb;else _0x2d2de4===_0x299d02(0x184)&&(_0x2b17fb=_0x30a099==='EUR'?_0x2b17fb:_0x2b17fb*_0x5411a2[_0x299d02(0x15f)]/_0x5411a2[_0x299d02(0x1cd)]);}_0x5346bd=(_0x2a6dce-_0x2b17fb)/_0x451cc9*0x64,_0x2a6dce=_0x2a6dce-_0x2b17fb;}if(_0x5346bd){if(_0x5346bd<0x64)_0x5346bd=_0x5346bd['toFixed'](0x2);else{if(_0x5346bd<0x3e8)_0x5346bd=_0x5346bd[_0x299d02(0x21d)](0x1);else _0x5346bd=_0x5346bd[_0x299d02(0x21d)](0x0);}}else _0x5346bd=Number('0')['toFixed'](0x2);if(_0x2a6dce){if(Math[_0x299d02(0x12e)](_0x2a6dce)<0.000001)_0x2a6dce=_0x2a6dce[_0x299d02(0x21d)](0x2);else{if(Math[_0x299d02(0x12e)](_0x2a6dce)<0.1)_0x2a6dce=_0x2a6dce['toFixed'](0x6);else{if(Math[_0x299d02(0x12e)](_0x2a6dce)<0x1)_0x2a6dce=_0x2a6dce[_0x299d02(0x21d)](0x5);else{if(Math['abs'](_0x2a6dce)<0xa)_0x2a6dce=_0x2a6dce[_0x299d02(0x21d)](0x4);else{if(Math[_0x299d02(0x12e)](_0x2a6dce)<0x64)_0x2a6dce=_0x2a6dce['toFixed'](0x3);else{if(Math[_0x299d02(0x12e)](_0x2a6dce)<0x3e8)_0x2a6dce=_0x2a6dce['toFixed'](0x2);else _0x2a6dce=_0x2a6dce[_0x299d02(0x21d)](0x2);}}}}}}else _0x2a6dce=Number('0')['toFixed'](0x2);}else _0x5346bd=Number('0')[_0x299d02(0x21d)](0x2);return{'value':_0x2a6dce,'change':_0x5346bd,'leftTxt':_0xea86da,'rightTxt':_0x3b217a};}async function getStartingBalances(_0x4e0c3c,_0x4fec01=!![]){const _0x2ce32d=_0x17e9f9;if(_0x4e0c3c['length']!==0x0){const [_0x57d265,_0x37c010,_0x1f4fb7]=getPerf(_0x4e0c3c[0x0],!![]);let _0x3ea158=[];config[_0x2ce32d(0x10b)][_0x2ce32d(0x17f)](_0x5ebd6c=>{const _0x5c06a7=_0x2ce32d;let _0x18de49=0x0,_0x143547;config['liquidity'][_0x5c06a7(0x17f)](_0x31a40d=>{const _0xb4314f=_0x5c06a7;let _0x10ef2f=_0x31a40d[_0xb4314f(0x207)][_0xb4314f(0x1eb)](_0x44c1dc=>_0x44c1dc[_0xb4314f(0x11b)]==_0x5ebd6c[_0xb4314f(0x11b)]);if(_0x10ef2f){_0x18de49+=_0x10ef2f[_0xb4314f(0x151)];if(!_0x143547)_0x143547=_0x10ef2f['price'];}}),_0x3ea158[_0x5c06a7(0xfe)]({'coin':_0x5ebd6c['coin'],'number':_0x18de49,'initialprice':_0x143547});});const _0x2040ba={'basecoin':_0x57d265,'eur':_0x37c010,'usd':_0x1f4fb7,'coins':_0x3ea158};if(_0x4fec01)proxyEmit('starting-balances',_0x2040ba);startingBalances=_0x2040ba;}}function headlessMode(_0x47616f){const _0x1d9fac=_0x17e9f9;let _0x5916ec=_0x47616f['portfolio'],_0x3a2b34=_0x47616f['threshold'],_0x329653=[];for(let _0x5c1a1b of _0x5916ec){if(_0x5c1a1b[_0x1d9fac(0x11b)]!=config[_0x1d9fac(0x1b1)]){if(_0x5c1a1b[_0x1d9fac(0x13d)]>=_0x3a2b34/0x64){if(_0x5c1a1b['valid'])_0x329653['push'](_0x5c1a1b);}else{if(_0x5c1a1b['delta']<=-_0x3a2b34/0x64){if(_0x5c1a1b[_0x1d9fac(0xd5)])_0x329653[_0x1d9fac(0xfe)](_0x5c1a1b);}}}}_0x329653[_0x1d9fac(0x188)]>0x0&&placeOrder(_0x329653);}function notifyBalance(_0x5d1c16){const _0x3179ee=_0x17e9f9;let _0x432c2a=_0x5d1c16[_0x3179ee(0x10b)],_0x364fa2=_0x5d1c16[_0x3179ee(0x1bb)],_0x1a13e1=[];for(let _0x3780bb of _0x432c2a){if(_0x3780bb[_0x3179ee(0x11b)]!=config['basecoin']){if(_0x3780bb[_0x3179ee(0x13d)]>=_0x364fa2/0x64){if(_0x3780bb['valid'])_0x1a13e1[_0x3179ee(0xfe)](_0x3780bb);}else{if(_0x3780bb[_0x3179ee(0x13d)]<=-_0x364fa2/0x64){if(_0x3780bb['valid'])_0x1a13e1[_0x3179ee(0xfe)](_0x3780bb);}}}}if(_0x1a13e1[_0x3179ee(0x188)]>0x0){let _0x5c7676=_0x1a13e1[_0x3179ee(0x169)](_0x384aa5=>_0x384aa5['coin']);_0x5c7676['sort']();let _0x148d96=_0x5c7676[_0x3179ee(0xb7)](',\x20');if(!lastCoinsToBalance)logHistory(_0x3179ee(0x1bf),_0x3179ee(0x192));lastCoinsToBalance=_0x148d96;}}function symbolToCoin(_0x2a9d20){const _0x1dbdbb=_0x17e9f9;let _0x15f9c8;if(_0x2a9d20[_0x1dbdbb(0x1ff)]('/'+config['basecoin']))_0x15f9c8=_0x2a9d20[_0x1dbdbb(0x198)]('/'+config[_0x1dbdbb(0x1b1)],'');if(_0x2a9d20[_0x1dbdbb(0x1ff)](config[_0x1dbdbb(0x1b1)]+'/'))_0x15f9c8=_0x2a9d20[_0x1dbdbb(0x198)](config['basecoin']+'/','');return _0x15f9c8;}async function unlockOrders(){const _0x192a05=_0x17e9f9;if(allOrdersPlaced&&lockOrders==ORDERS[_0x192a05(0x212)]){logger[_0x192a05(0x1ab)](_0x192a05(0x1bc)),lockOrders=ORDERS[_0x192a05(0xb9)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3e7c20=await getCoins();[currentCoins,currentCoinsAll]=_0x3e7c20,validateOrdersState=_0x192a05(0x1bd),persistOpenOrders([]),lockOrders=ORDERS[_0x192a05(0x18f)],logger[_0x192a05(0x1ab)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x29647e){const _0x417910=_0x17e9f9;if(_0x29647e)validateOrdersState=_0x29647e;logger[_0x417910(0x1ab)](_0x417910(0xf0)+validateOrdersState+_0x417910(0x113)+(lockOrders==0x1?_0x417910(0x17e):lockOrders==0x2?'ORDERS.UNLOCKING':_0x417910(0x15e)));let _0x5d59e9=[],_0x2b0674=config[_0x417910(0x223)]==_0x417910(0xde)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x417910(0x212)])return;logger[_0x417910(0x1ab)](_0x417910(0x217)+validateOrdersState),lastOrders[_0x417910(0x17f)](_0x57c998=>{const _0x411239=_0x417910;let _0x2cfdae=![];_0x57c998[_0x411239(0x196)]>0x0&&(_0x2cfdae=!![]),_0x5d59e9['push'](_0x2cfdae),_0x2cfdae&&config['ordertype']!=_0x411239(0xde)&&logHistory(_0x411239(0x108),_0x411239(0x1a8)+_0x57c998[_0x411239(0x1ba)]+'\x20'+_0x57c998[_0x411239(0x1c9)]+'\x20#'+formatResult(_0x57c998[_0x411239(0x196)],0x8)+'\x20@'+formatResult(_0x57c998[_0x411239(0xc0)],0x8));}),_0x5d59e9[_0x417910(0x17f)]((_0x77ea1,_0x3e1ff9)=>{const _0x26ab98=_0x417910;if(_0x77ea1)lastOrders[_0x26ab98(0x117)](_0x3e1ff9,0x1);}),persistOpenOrders(lastOrders);const _0x36033c=coolingDown?_0x417910(0x172):'balancing\x20resumed';if(validateOrdersState=='initial'){validateOrdersState=_0x417910(0x215);if(_0x5d59e9[_0x417910(0x1ff)](![])){if(config[_0x417910(0x223)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x417910(0x215)){if(_0x5d59e9['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x417910(0x223)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x417910(0x12a))_0x5d59e9[_0x417910(0x1ff)](![])&&(config[_0x417910(0x223)]=='market'?logHistory(_0x417910(0x142),_0x417910(0x17b)+Math[_0x417910(0xc6)](_0x2b0674*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x36033c):(await cancelOrders(),logHistory(_0x417910(0x142),_0x417910(0x183)+Math[_0x417910(0xc6)](_0x2b0674*validateOrderInterval/0xea60)+_0x417910(0x144)+_0x36033c))),await unlockOrders();else{if(validateOrdersState==_0x417910(0x18b)){if(config[_0x417910(0x223)]!=_0x417910(0xde))logHistory('success',_0x417910(0x14e)+_0x36033c);await unlockOrders();}}}}}async function cancelOrders(){const _0x33c6d6=_0x17e9f9;lastOrders[_0x33c6d6(0x17f)](async _0x1c5a7d=>{const _0x2ce0f3=_0x33c6d6;try{const _0x1f3de4=await exchange['cancelOrder'](_0x1c5a7d['orderId'],_0x1c5a7d['symbol']);}catch(_0x470850){if(_0x470850[_0x2ce0f3(0x1ce)]()[_0x2ce0f3(0x1ff)](_0x2ce0f3(0x213))){}else await handleError(_0x470850,'cancelOrders()');}});}async function initCoinResults(){const _0x167e6f=_0x17e9f9;let _0x3362d5=[];config[_0x167e6f(0x10b)]['forEach'](_0x13be74=>{const _0x46edcf=_0x167e6f;if(!_0x13be74[_0x46edcf(0x197)]&&_0x13be74['coin']!=config['basecoin']){let _0x557772=dbCoinResults[_0x46edcf(0x12d)](_0x46edcf(0x1c6))[_0x46edcf(0x1eb)]({'coin':_0x13be74[_0x46edcf(0x11b)]})[_0x46edcf(0x1df)]();if(!_0x557772){const _0x37c587=currentCoins['find'](_0x17346d=>_0x17346d[_0x46edcf(0x11b)]==_0x13be74[_0x46edcf(0x11b)]),_0x5b9730=global[_0x46edcf(0x174)][noslash(_0x13be74['symbol'])];let _0x1d943e=_0x37c587?_0x37c587[_0x46edcf(0x151)]:null,_0xb3764f=_0x13be74['reverse']?0x1/_0x5b9730:_0x5b9730,_0x1b94a3;config[_0x46edcf(0x11d)][_0x46edcf(0x17f)](_0xcc99d9=>{const _0x5e8033=_0x46edcf;!_0x1b94a3&&(_0x1b94a3=_0xcc99d9[_0x5e8033(0x207)]['find'](_0x2bab7e=>_0x2bab7e[_0x5e8033(0x11b)]==_0x13be74[_0x5e8033(0x11b)]),_0x1b94a3&&(_0x1d943e=_0x1b94a3[_0x5e8033(0x151)],_0xb3764f=_0x1b94a3[_0x5e8033(0xc0)]));}),_0x3362d5['push']({'coin':_0x13be74[_0x46edcf(0x11b)],'number':_0x1d943e,'price':_0xb3764f});}}}),_0x3362d5['forEach'](_0x254324=>{const _0x37cd90=_0x167e6f,_0x286997={'coin':_0x254324[_0x37cd90(0x11b)],'number':_0x254324[_0x37cd90(0x151)],'breakeven':_0x254324[_0x37cd90(0xc0)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x37cd90(0x12d)](_0x37cd90(0x1c6))[_0x37cd90(0xfe)](_0x286997)[_0x37cd90(0x1a9)]();});}async function updateCoinResults(_0x2f1eb7,_0x417bb1=![]){const _0x579d26=_0x17e9f9;let _0x264005,_0x201702,_0x26341a,_0x3aa6e3,_0xa55600,_0x49120e,_0x334254=dbCoinResults[_0x579d26(0x12d)](_0x579d26(0x1c6))[_0x579d26(0x1eb)]({'coin':_0x2f1eb7[_0x579d26(0x11b)]})['value']();!_0x334254&&await initCoinResults();_0x2f1eb7['reverse']&&(_0x49120e={'filled':_0x2f1eb7['filled']*_0x2f1eb7[_0x579d26(0xc0)],'amount':_0x2f1eb7[_0x579d26(0x196)]*_0x2f1eb7[_0x579d26(0xc0)],'side':_0x2f1eb7[_0x579d26(0x1c9)]=='sell'?'buy':_0x579d26(0x16c),'price':0x1/_0x2f1eb7[_0x579d26(0xc0)]},_0x2f1eb7={..._0x2f1eb7,..._0x49120e});_0x417bb1?_0x201702=_0x2f1eb7[_0x579d26(0x1c9)]==_0x579d26(0x156)?_0x334254['number']+_0x2f1eb7['filled']:_0x334254[_0x579d26(0x151)]-_0x2f1eb7[_0x579d26(0x196)]:_0x201702=await getCoinNumber(_0x2f1eb7['coin']);if(_0x2f1eb7[_0x579d26(0x10e)]&&_0x2f1eb7[_0x579d26(0x10e)][_0x579d26(0x199)]==config['basecoin'])_0x264005=_0x2f1eb7['fee'][_0x579d26(0x1de)];else{if(_0x2f1eb7[_0x579d26(0x10e)]&&_0x2f1eb7[_0x579d26(0x10e)][_0x579d26(0x199)]==_0x579d26(0x1d4)&&!_0x417bb1)_0x264005=_0x2f1eb7['fee'][_0x579d26(0x1de)]*global[_0x579d26(0x174)][_0x579d26(0x1d4)+config[_0x579d26(0x1b1)]];else _0x264005=defaultFee*_0x2f1eb7['filled']*_0x2f1eb7['price'];}_0x2f1eb7['side']=='buy'?(_0x26341a=_0x201702!=0x0?(_0x334254[_0x579d26(0x195)]*_0x334254['number']+_0x2f1eb7[_0x579d26(0xc0)]*(_0x201702-_0x334254['number'])+_0x264005)/_0x201702:0x0,_0x3aa6e3=_0x334254[_0x579d26(0xdf)]):(_0x26341a=_0x201702!=0x0?(_0x334254['breakeven']*_0x334254[_0x579d26(0x151)]-_0x2f1eb7[_0x579d26(0xc0)]*(_0x334254[_0x579d26(0x151)]-_0x201702)+_0x264005)/_0x201702:0x0,_0x3aa6e3=_0x334254[_0x579d26(0xdf)]+(_0x2f1eb7['price']-_0x334254[_0x579d26(0x195)])*_0x2f1eb7['filled']);_0xa55600=(_0x2f1eb7[_0x579d26(0xc0)]-_0x26341a-_0x264005/_0x2f1eb7[_0x579d26(0x196)])*_0x201702;let _0x2c6466={'coin':_0x2f1eb7[_0x579d26(0x11b)],'number':_0x201702,'breakeven':formatResult(_0x26341a,0x8),'realized':formatResult(_0x3aa6e3,0x8),'unrealized':formatResult(_0xa55600,0x8),'fees':formatResult(_0x334254['fees']+_0x264005,0x8),'sells':_0x2f1eb7[_0x579d26(0x1c9)]=='sell'?_0x334254[_0x579d26(0x1f7)]+0x1:_0x334254[_0x579d26(0x1f7)],'buys':_0x2f1eb7[_0x579d26(0x1c9)]==_0x579d26(0x156)?_0x334254[_0x579d26(0x171)]+0x1:_0x334254[_0x579d26(0x171)]};dbCoinResults[_0x579d26(0x12d)](_0x579d26(0x1c6))[_0x579d26(0x1eb)]({'coin':_0x2f1eb7[_0x579d26(0x11b)]})['assign'](_0x2c6466)['write']();if(!_0x417bb1){if(_0x2f1eb7['fee']&&_0x2f1eb7[_0x579d26(0x10e)]['currency']==_0x579d26(0x1d4)){const _0x2179b2=currentCoins[_0x579d26(0x1eb)](_0x179239=>_0x179239[_0x579d26(0x11b)]=='BNB');if(_0x2179b2){let _0x27cbd4=dbCoinResults['get'](_0x579d26(0x1c6))[_0x579d26(0x1eb)]({'coin':'BNB'})[_0x579d26(0x1df)]();_0x2c6466={..._0x27cbd4,'number':_0x2179b2[_0x579d26(0x151)]},dbCoinResults[_0x579d26(0x12d)](_0x579d26(0x1c6))[_0x579d26(0x1eb)]({'coin':_0x579d26(0x1d4)})['assign'](_0x2c6466)[_0x579d26(0x1a9)]();}}}}async function placeOrder(_0x195dfe){const _0x30b4ba=_0x17e9f9,_0xbc3f11=config['ordertype']=='market'?'market':'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x30b4ba(0x212)],allOrdersPlaced=![],validateOrdersState=_0x30b4ba(0x1bd);let _0xa64e4b=![];lastOrders=[];for(const _0x1c78e3 of _0x195dfe){let _0x29e320,_0x105854,_0x4b8bc0,_0x41cbfc,_0x556961,_0x3524b4=_0x1c78e3[_0x30b4ba(0x1ba)];try{const _0x246c25=await exchange[_0x30b4ba(0xef)](_0x3524b4);_0x29e320=_0x1c78e3[_0x30b4ba(0x141)]?0x1/_0x1c78e3[_0x30b4ba(0x168)]:_0x1c78e3[_0x30b4ba(0x168)],_0x105854=_0x246c25[_0x30b4ba(0x1c4)],_0x4b8bc0=_0x246c25[_0x30b4ba(0x114)];_0x1c78e3[_0x30b4ba(0x141)]?(_0x41cbfc=_0x1c78e3[_0x30b4ba(0x1c9)]==_0x30b4ba(0x156)?_0x30b4ba(0x16c):_0x30b4ba(0x156),_0x556961=Math['abs'](_0x1c78e3[_0x30b4ba(0x101)])/_0x29e320):(_0x41cbfc=_0x1c78e3[_0x30b4ba(0x1c9)],_0x556961=Math[_0x30b4ba(0x12e)](_0x1c78e3[_0x30b4ba(0x101)]));_0xbc3f11==_0x30b4ba(0xf7)&&(config[_0x30b4ba(0x223)]==_0x30b4ba(0x126)&&(_0x29e320=_0x41cbfc=='buy'?_0x105854:_0x4b8bc0),config['ordertype']=='limit-low'&&(_0x29e320=_0x41cbfc=='buy'?_0x4b8bc0:_0x105854));_0x556961=formatResult(_0x556961,0x8),_0x29e320=formatResult(_0x29e320,0x8);const _0x285de1=_0x41cbfc==_0x30b4ba(0x16c)?config['emojisell']?String[_0x30b4ba(0x153)]('0x'+config[_0x30b4ba(0x189)])+'\x20':'':config[_0x30b4ba(0x18e)]?String[_0x30b4ba(0x153)]('0x'+config[_0x30b4ba(0x18e)])+'\x20':'',_0x4fec2d=_0xbc3f11==_0x30b4ba(0xde)?_0x30b4ba(0x17c):config[_0x30b4ba(0x223)]=='limit-high'?_0x30b4ba(0x205):_0x30b4ba(0x1e1),_0x3bad72=new Date()[_0x30b4ba(0x1f4)]()[_0x30b4ba(0x1ce)]()[_0x30b4ba(0x1d8)](-0x6)+'-'+Math[_0x30b4ba(0x112)]()[_0x30b4ba(0x1ce)]()[_0x30b4ba(0x1d8)](-0x6);lastOrders[_0x30b4ba(0xfe)]({'customId':_0x3bad72,'symbol':_0x3524b4,'coin':_0x1c78e3[_0x30b4ba(0x11b)],'side':_0x41cbfc,'reverse':_0x1c78e3[_0x30b4ba(0x141)],'filled':0x0});if(_0xbc3f11=='market')logHistory(_0x30b4ba(0x108),''+_0x285de1+_0x4fec2d+'\x20order:\x20'+_0x3524b4+'\x20'+_0x41cbfc+'\x20#'+formatResult(_0x556961,0x8)+'\x20@'+formatResult(_0x29e320,0x8));else logHistory('order',''+_0x285de1+_0x4fec2d+'\x20order:\x20'+_0x3524b4+'\x20'+_0x41cbfc+'\x20#'+formatResult(_0x556961,0x8)+'\x20@'+formatResult(_0x29e320,0x8));const _0x2fbb76=await exchange[_0x30b4ba(0x118)](_0x3524b4,_0xbc3f11,_0x41cbfc,_0x556961,_0x29e320,{'clientOrderId':_0x3bad72}),_0x555796=lastOrders[_0x30b4ba(0x188)]-0x1;_0x555796>=0x0&&lastOrders[_0x555796][_0x30b4ba(0x1f6)]==_0x3bad72&&(lastOrders[_0x555796]={...lastOrders[_0x555796],'orderId':_0x2fbb76['id'],'amount':_0x2fbb76[_0x30b4ba(0xdd)],'price':_0x2fbb76['price'],'fee':_0x2fbb76['fee']});if(config[_0x30b4ba(0x18d)]!=0x0){let _0x5c9a07=null;if(cooldownTracker[_0x30b4ba(0x188)]==config[_0x30b4ba(0x18d)]-0x1)_0x5c9a07=cooldownTracker[_0x30b4ba(0xe7)]();const _0x465d7c=getTimeStamp();cooldownTracker[_0x30b4ba(0xfe)](_0x465d7c);if(_0x5c9a07){const _0x200f93=fns[_0x30b4ba(0x105)](new Date(_0x465d7c),new Date(_0x5c9a07));if(_0x200f93<cooldownInterval){logHistory(_0x30b4ba(0x1d2),_0x30b4ba(0x1b0)+config[_0x30b4ba(0x18d)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x30b4ba(0xc7)),coolingDown=!![];break;}}}}catch(_0x4e64e0){if(_0x4e64e0['toString']()[_0x30b4ba(0x1ff)](_0x30b4ba(0x1d3)))lastOrders=lastOrders[_0x30b4ba(0x11f)](_0x561c66=>_0x561c66[_0x30b4ba(0x1ba)]!=_0x3524b4),logHistory(_0x30b4ba(0x1d2),_0x30b4ba(0x1a4)+_0x3524b4),_0xa64e4b=!![];else{if(_0x4e64e0[_0x30b4ba(0x1ce)]()[_0x30b4ba(0x1ff)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x30b4ba(0x11f)](_0x14117f=>_0x14117f[_0x30b4ba(0x1ba)]!=_0x3524b4),logHistory(_0x30b4ba(0x1d2),_0x30b4ba(0x210)+_0x3524b4),_0xa64e4b=!![];else _0x4e64e0[_0x30b4ba(0x1ce)]()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x30b4ba(0x11f)](_0x482a18=>_0x482a18[_0x30b4ba(0x1ba)]!=_0x3524b4),logHistory(_0x30b4ba(0x1d2),_0x30b4ba(0x1a4)+_0x3524b4),_0xa64e4b=!![]):(lastOrders=lastOrders[_0x30b4ba(0x11f)](_0xab32c8=>_0xab32c8[_0x30b4ba(0x1ba)]!=_0x3524b4),await handleError(_0x4e64e0,'placeOrder()',_0x3524b4));}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x30b4ba(0x188)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0xcaf267=config['ordertype']==_0x30b4ba(0xde)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0xcaf267);}else unlockOrders();_0xa64e4b&&config[_0x30b4ba(0x11e)]&&await pauseBot(_0x30b4ba(0x19d)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x30b4ba(0x142),_0x30b4ba(0xc5)));}else{if(coolingDown)!config[_0x30b4ba(0x11e)]&&logHistory(_0x30b4ba(0x1d2),_0x30b4ba(0x15d));else lockOrders!=ORDERS[_0x30b4ba(0x18f)]&&(!config[_0x30b4ba(0x11e)]&&(config[_0x30b4ba(0x223)]=='market'?logHistory(_0x30b4ba(0x1d2),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x30b4ba(0x1d2),_0x30b4ba(0x1d9))));}}function persistOpenOrders(_0x688816){const _0x3e74cf=_0x17e9f9,_0x3e8881={...config,'openOrders':_0x688816};let _0xbafe73=dbConfig[_0x3e74cf(0x12d)](_0x3e74cf(0xf8))[_0x3e74cf(0x1eb)]({'botID':botID})['value']();_0xbafe73&&dbConfig[_0x3e74cf(0x12d)](_0x3e74cf(0xf8))[_0x3e74cf(0x1eb)]({'botID':botID})[_0x3e74cf(0x1a3)](_0x3e8881)[_0x3e74cf(0x1a9)]();}function restoreOrders(){const _0xc5fc78=_0x17e9f9;let _0x5d1350;config[_0xc5fc78(0xf4)]&&allOpenOrders[_0xc5fc78(0x17f)](_0x1f3015=>{const _0x47b8c1=_0xc5fc78,_0x5aa445=config['openOrders'][_0x47b8c1(0x1eb)](_0x3410bf=>_0x3410bf[_0x47b8c1(0x16b)]==_0x1f3015['id']);_0x5aa445&&(lastOrders['push'](_0x5aa445),_0x5d1350=_0x1f3015[_0x47b8c1(0x15a)]);});if(lastOrders[_0xc5fc78(0x188)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0xc5fc78(0x215),allOrdersPlaced=!![];const _0x3e5af2=new Date()[_0xc5fc78(0x1f4)](),_0x5a37f4=config[_0xc5fc78(0x223)]==_0xc5fc78(0xde)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x5d1350+_0x5a37f4>_0x3e5af2){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x30b9b6=_0xc5fc78;validateOrders(_0x30b9b6(0x12a));},_0x5d1350+_0x5a37f4-_0x3e5af2);}else validateOrders(_0xc5fc78(0x12a));}}async function sendMetricsTelegram(){const _0x3b7d4e=_0x17e9f9;if(!coinsLoaded){process[_0x3b7d4e(0xb4)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0xad294a=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x407590='';if(config[_0x3b7d4e(0x1dc)])_0x407590=_0x3b7d4e(0x1f0)+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x407590='<b>Bot\x20'+botID+_0x3b7d4e(0x131);const _0x25e48c=getKPIs('basecoin'),_0x3d527d=getKPIs('fiat',config[_0x3b7d4e(0x19b)]),_0xc5f876=getKPIs(_0x3b7d4e(0x170)),_0x704d87=getKPIs('net-fiat',config[_0x3b7d4e(0x19b)]);_0x407590+=_0x3b7d4e(0x157),_0x407590+=_0x25e48c[_0x3b7d4e(0x177)]+_0x3b7d4e(0x1d5)+_0x25e48c['value']+'\x0a',_0x407590+=_0x25e48c[_0x3b7d4e(0x109)]+':\x20'+_0x25e48c['change']+'%\x0a',_0x407590+=_0x3d527d['leftTxt']+'\x20:\x20'+_0x3d527d[_0x3b7d4e(0x1df)]+'\x0a',_0x407590+=_0x3d527d[_0x3b7d4e(0x109)]+':\x20'+_0x3d527d[_0x3b7d4e(0x17d)]+'%\x0a',_0x407590+=_0xc5f876[_0x3b7d4e(0x177)]+':\x20'+_0xc5f876['value']+'\x20('+config['basecoin']+')\x0a',_0x407590+=_0xc5f876[_0x3b7d4e(0x109)]+':\x20'+_0xc5f876[_0x3b7d4e(0x17d)]+_0x3b7d4e(0xcd)+config[_0x3b7d4e(0x1b1)]+')\x0a',_0x407590+=_0x704d87[_0x3b7d4e(0x177)]+':\x20'+_0x704d87['value']+'\x20('+config[_0x3b7d4e(0x19b)]+')\x0a',_0x407590+=_0x704d87['rightTxt']+':\x20'+_0x704d87['change']+_0x3b7d4e(0xcd)+config[_0x3b7d4e(0x19b)]+')\x0a',_0x407590+=_0x3b7d4e(0x16d),process[_0x3b7d4e(0xb4)]({'telegrammsg':_0x407590},_0x19d999=>{});}async function sendPortfolioTelegram(){const _0x2ca7a2=_0x17e9f9;if(!coinsLoaded){process[_0x2ca7a2(0xb4)]({'telegrammsg':_0x2ca7a2(0x162)},_0x18585d=>{});return;}let _0x32cbbb='';if(config[_0x2ca7a2(0x1dc)])_0x32cbbb='<b>'+config[_0x2ca7a2(0x154)]+_0x2ca7a2(0x145);else _0x32cbbb='<b>Bot\x20'+botID+_0x2ca7a2(0x145);_0x32cbbb+='<pre>',_0x32cbbb+='-------------------------------\x0a',_0x32cbbb+=_0x2ca7a2(0xfc),_0x32cbbb+=_0x2ca7a2(0xc2),currentCoins['forEach'](_0x16b7dc=>{const _0x435b70=_0x2ca7a2;_0x32cbbb+=_0x16b7dc[_0x435b70(0x11b)][_0x435b70(0xe2)](0x7)+'|\x20'+formatPad(_0x16b7dc[_0x435b70(0x1d0)],0x2,0x6)+'|\x20'+formatPad(_0x16b7dc[_0x435b70(0xc3)],0x2,0x6)+'|\x20'+formatPad(_0x16b7dc['delta']*0x64,0x2,0x6)+'\x0a';}),_0x32cbbb+=_0x2ca7a2(0x16d),process[_0x2ca7a2(0xb4)]({'telegrammsg':_0x32cbbb},_0x190987=>{});}function formatPad(_0x4d156a,_0x1f8672,_0x19a680){const _0x9e1afc=_0x17e9f9,_0xe578d6=formatResultString(_0x4d156a,_0x1f8672);return _0xe578d6?_0xe578d6[_0x9e1afc(0x14c)](_0x19a680):''[_0x9e1afc(0x14c)](_0x19a680);}function logHistory(_0x24ced0,_0x1e6bac,_0x4c1362=''){const _0x206ed2=_0x17e9f9;let _0x486a45={'time':getTimeStamp(),'type':_0x24ced0,'event':_0x1e6bac};dbLogs[_0x206ed2(0x12d)](_0x206ed2(0x17a))[_0x206ed2(0xfe)](_0x486a45)[_0x206ed2(0x1a9)]();if(_0x4c1362=='')_0x4c1362=_0x1e6bac;proxyEmit('event',{'log':_0x486a45,'summary':_0x4c1362}),process[_0x206ed2(0xb4)]({'telegram':{..._0x486a45,'botname':config['botname'],'showname':config[_0x206ed2(0x1dc)]}},_0x5f25c2=>{}),logger['full'](''+_0x486a45[_0x206ed2(0x148)]);}function emitHistory(_0x1cef33={}){const _0x280bef=_0x17e9f9;Object[_0x280bef(0xf1)](_0x1cef33)[_0x280bef(0x188)]==0x0&&(_0x1cef33={'type':[_0x280bef(0x108),_0x280bef(0x148)],'event':'','page':0x1});if(_0x1cef33[_0x280bef(0x20a)][_0x280bef(0x1ff)](_0x280bef(0x148)))_0x1cef33[_0x280bef(0x20a)][_0x280bef(0x117)](_0x1cef33['type'][_0x280bef(0xd7)]('event'),0x1,_0x280bef(0x1d2),_0x280bef(0x1bf),'success');if(dbLogs[_0x280bef(0x221)](_0x280bef(0x17a))[_0x280bef(0x1df)]()){let _0xf1172d=dbLogs[_0x280bef(0x12d)](_0x280bef(0x17a))[_0x280bef(0x11f)](_0x1d41d2=>{const _0x328694=_0x280bef;if(_0x1cef33['type'][_0x328694(0x188)]==0x0)return![];else return _0x1cef33[_0x328694(0x20a)]['includes'](_0x1d41d2[_0x328694(0x20a)]);})[_0x280bef(0x11f)](_0x259189=>{const _0x845f0a=_0x280bef;if(_0x1cef33[_0x845f0a(0x148)]=='')return!![];else return _0x259189['event'][_0x845f0a(0xe6)]()[_0x845f0a(0x1ff)](_0x1cef33[_0x845f0a(0x148)][_0x845f0a(0xe6)]());})[_0x280bef(0x1e4)](_0x280bef(0x1e2)),_0x3cd92c=_0xf1172d[_0x280bef(0x1df)]()[_0x280bef(0x188)];_0xf1172d=_0xf1172d[_0x280bef(0x141)]()['slice']((_0x1cef33[_0x280bef(0x123)]-0x1)*logPageSize,_0x1cef33[_0x280bef(0x123)]*logPageSize-0x1)[_0x280bef(0x141)]()[_0x280bef(0x1df)](),proxyEmit(_0x280bef(0x1fa),{'logs':_0xf1172d,'total':_0x3cd92c});}else proxyEmit(_0x280bef(0x1fa),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x438751){const _0x240c46=_0x17e9f9;if(dbLogs[_0x240c46(0x221)](_0x240c46(0x17a))[_0x240c46(0x1df)]()){const _0x189eb9=dbLogs[_0x240c46(0x12d)](_0x240c46(0x17a))[_0x240c46(0x1e4)](_0x240c46(0x1e2))[_0x240c46(0x11f)](_0x2a4247=>{const _0x42d1f8=_0x240c46;return _0x2a4247[_0x42d1f8(0x20a)]=='order';})[_0x240c46(0x1df)]();dbLogs[_0x240c46(0x12d)]('logs')[_0x240c46(0x1ea)]()[_0x240c46(0x1a9)](),dbLogs[_0x240c46(0x12d)](_0x240c46(0x17a))['assign'](_0x189eb9)['write'](),emitHistory(_0x438751);}}async function pauseBot(_0x3c6d73=''){const _0x29309c=_0x17e9f9,_0xbe3eff=new Date()[_0x29309c(0x1f4)]();if(!lastErrorShown||_0xbe3eff-lastErrorShown>=pauseBotInterval){lastErrorShown=_0xbe3eff;!lastBotPause?(lastBotPause=_0xbe3eff,consecutivePauses=0x1):(_0xbe3eff-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x29309c(0xb4)]({'stop':_0x29309c(0x1c3)},_0xf9100c=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x29309c(0x1f4)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x3c6d73)_0x3c6d73+='\x20|\x20';logHistory(_0x29309c(0x1d2),_0x3c6d73+_0x29309c(0xdc)+pauseBotInterval/0xea60+_0x29309c(0xf5)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}function _0x673a(_0x42d678,_0x294ee5){const _0x579537=_0x3d12();return _0x673a=function(_0x3a8b0d,_0x168464){_0x3a8b0d=_0x3a8b0d-0xb1;let _0x3d121b=_0x579537[_0x3a8b0d];return _0x3d121b;},_0x673a(_0x42d678,_0x294ee5);}async function killBot(){process['send']({'stop':'kill'},_0x2079ff=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x303263,_0x40a1b6){const _0x2808c2=_0x17e9f9;if(_0x303263['toString']()['includes'](_0x2808c2(0x20e)))return logHistory('error',config['exchange']+_0x2808c2(0xd6)),![];else{if(_0x303263[_0x2808c2(0x1ce)]()[_0x2808c2(0x1ff)](_0x2808c2(0x164)))return logHistory('error',config['exchange']+_0x2808c2(0xb8)),![];else{if(_0x303263['toString']()[_0x2808c2(0x1ff)](_0x2808c2(0x1dd)))return logHistory(_0x2808c2(0x1d2),config[_0x2808c2(0xe3)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x2808c2(0x1d2),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x303263,_0x40a1b6);}}}async function handleError(_0x143477,_0x4e4fd4,_0x33a850=''){const _0x1015af=_0x17e9f9,_0x21df42=config['exchange']||_0x1015af(0x1b8);if(_0x143477[_0x1015af(0x1ce)]()['includes']('DDoSProtection'))await pauseBot(config['exchange']+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x143477[_0x1015af(0x1ce)]()[_0x1015af(0x1ff)](_0x1015af(0x1f8)))await pauseBot(config[_0x1015af(0xe3)]+_0x1015af(0x1fc));else{if(_0x143477[_0x1015af(0x1ce)]()['includes'](_0x1015af(0x185)))await pauseBot(config[_0x1015af(0xe3)]+_0x1015af(0x1b2));else{if(_0x143477['toString']()['includes'](_0x1015af(0x1ed)))await pauseBot(config['exchange']+_0x1015af(0x187));else{if(_0x143477[_0x1015af(0x1ce)]()[_0x1015af(0x1ff)](_0x1015af(0x1c2)))logHistory('error',_0x4e4fd4+_0x1015af(0x200)),logHistory(_0x1015af(0x1d2),_0x1015af(0xd0)),await killBot();else{if(_0x143477[_0x1015af(0x1ce)]()[_0x1015af(0x1ff)](_0x1015af(0xd3)))logHistory(_0x1015af(0x1d2),_0x4e4fd4+_0x1015af(0x1c5)),logHistory(_0x1015af(0x1d2),_0x1015af(0xd0)),await killBot();else{if(_0x143477['toString']()[_0x1015af(0x1ff)]('API-key\x20format\x20invalid'))logHistory(_0x1015af(0x1d2),_0x4e4fd4+_0x1015af(0x122)+config[_0x1015af(0xe3)]+_0x1015af(0x1f1)),logHistory(_0x1015af(0x1d2),_0x1015af(0xd0)),await killBot();else{if(_0x143477['toString']()[_0x1015af(0x1ff)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x4e4fd4+_0x1015af(0x122)+config[_0x1015af(0xe3)]+'\x20API\x20secret\x20is\x20invalid'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x143477[_0x1015af(0x1ce)]()[_0x1015af(0x1ff)](_0x1015af(0x1dd)))logHistory(_0x1015af(0x1d2),_0x4e4fd4+_0x1015af(0x122)+config[_0x1015af(0xe3)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x1015af(0x1d2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0x143477['toString']()[_0x1015af(0x1ff)]('InsufficientFunds')?logHistory(_0x1015af(0x1d2),_0x4e4fd4+_0x1015af(0xb1)+_0x33a850):(logger[_0x1015af(0xbf)](_0x4e4fd4+_0x1015af(0x225),_0x143477),await pauseBot(_0x1015af(0x204)));}}}}}}}}}function formatResult(_0x17e447,_0xe4e336){return parseFloat(_0x17e447['toFixed'](_0xe4e336));}function formatResultTruncate(_0xf0e703,_0x34342e){const _0x289880=_0x17e9f9;let _0x310ac8=formatResultString(_0xf0e703,0xa),_0x583f0b=_0x310ac8['indexOf']('.');return _0x583f0b!=-0x1&&(_0x310ac8=_0x310ac8[_0x289880(0x1d8)](0x0,_0x583f0b+_0x34342e+0x1)),Number(_0x310ac8);}function formatResultString(_0x1bdba3,_0x1d9956){const _0x5a20ab=_0x17e9f9;let _0x238f5b;if(!(''+_0x1bdba3)['includes']('e'))_0x238f5b=+(Math[_0x5a20ab(0xc6)](_0x1bdba3+'e+'+_0x1d9956)+'e-'+_0x1d9956);else{let _0x1bc3dc=(''+_0x1bdba3)[_0x5a20ab(0xb5)]('e'),_0x241d4a='';+_0x1bc3dc[0x1]+_0x1d9956>0x0&&(_0x241d4a='+'),_0x238f5b=+(Math[_0x5a20ab(0xc6)](+_0x1bc3dc[0x0]+'e'+_0x241d4a+(+_0x1bc3dc[0x1]+_0x1d9956))+'e-'+_0x1d9956);}return Number(_0x238f5b)[_0x5a20ab(0x21d)](_0x1d9956);}function getServerTime(){const _0x528374=_0x17e9f9,_0x297205=new Date();return _0x297205[_0x528374(0x10c)]()+'/'+(_0x297205[_0x528374(0x103)]()+0x1)[_0x528374(0x1ce)]()[_0x528374(0x14c)](0x2,'0')+'/'+_0x297205['getDate']()['toString']()[_0x528374(0x14c)](0x2,'0')+'\x20'+_0x297205[_0x528374(0x115)]()[_0x528374(0x1ce)]()[_0x528374(0x14c)](0x2,'0')+':'+_0x297205[_0x528374(0x1b3)]()[_0x528374(0x1ce)]()['padStart'](0x2,'0')+':'+_0x297205[_0x528374(0x206)]()[_0x528374(0x1ce)]()[_0x528374(0x14c)](0x2,'0');}function getTimeStamp(){const _0x6ee8cd=_0x17e9f9,_0x34bdf0=shiftedTime();return _0x34bdf0['getFullYear']()+'/'+(_0x34bdf0['getMonth']()+0x1)[_0x6ee8cd(0x1ce)]()[_0x6ee8cd(0x14c)](0x2,'0')+'/'+_0x34bdf0[_0x6ee8cd(0x160)]()[_0x6ee8cd(0x1ce)]()[_0x6ee8cd(0x14c)](0x2,'0')+'\x20'+_0x34bdf0['getHours']()[_0x6ee8cd(0x1ce)]()[_0x6ee8cd(0x14c)](0x2,'0')+':'+_0x34bdf0[_0x6ee8cd(0x1b3)]()[_0x6ee8cd(0x1ce)]()[_0x6ee8cd(0x14c)](0x2,'0')+':'+_0x34bdf0['getSeconds']()[_0x6ee8cd(0x1ce)]()[_0x6ee8cd(0x14c)](0x2,'0');}function getDate(){const _0x52870e=_0x17e9f9,_0x2daa8c=shiftedTime();return _0x2daa8c[_0x52870e(0x10c)]()+'/'+(_0x2daa8c['getMonth']()+0x1)[_0x52870e(0x1ce)]()[_0x52870e(0x14c)](0x2,'0')+'/'+_0x2daa8c[_0x52870e(0x160)]()[_0x52870e(0x1ce)]()[_0x52870e(0x14c)](0x2,'0');}function getHour(){const _0x2785ec=_0x17e9f9,_0x3abd18=shiftedTime();return _0x3abd18['getHours']()[_0x2785ec(0x1ce)]()['padStart'](0x2,'0');}function sleep(_0x3642a0){return new Promise(_0x494b25=>setTimeout(_0x494b25,_0x3642a0));}function shiftedTime(){const _0x38e5f4=_0x17e9f9,_0x26427c=new Date();let _0x3aca70=_0x26427c;if(config&&config[_0x38e5f4(0x1a1)]!==0x0)_0x3aca70=fns[_0x38e5f4(0xcc)](_0x26427c,{'hours':config['timeshift']});return _0x3aca70;}function timer(_0x5c3e15){const _0x1a86ff=_0x17e9f9,_0x107213=new Date();!lasttime?console[_0x1a86ff(0x14d)]('timer:',_0x5c3e15,_0x107213):console[_0x1a86ff(0x14d)](_0x1a86ff(0x124),_0x5c3e15,(_0x107213-lasttime)/0x3e8),lasttime=_0x107213;}