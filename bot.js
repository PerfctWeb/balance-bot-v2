const _0x355576=_0x52ce;(function(_0x19b607,_0x2d1749){const _0x37ab4b=_0x52ce,_0x27c84b=_0x19b607();while(!![]){try{const _0x456465=parseInt(_0x37ab4b(0x18c))/0x1+parseInt(_0x37ab4b(0x29a))/0x2+-parseInt(_0x37ab4b(0x20f))/0x3+parseInt(_0x37ab4b(0x1b9))/0x4*(parseInt(_0x37ab4b(0x1bf))/0x5)+parseInt(_0x37ab4b(0x205))/0x6*(-parseInt(_0x37ab4b(0x1d2))/0x7)+-parseInt(_0x37ab4b(0x202))/0x8+parseInt(_0x37ab4b(0x1a5))/0x9*(parseInt(_0x37ab4b(0x1a7))/0xa);if(_0x456465===_0x2d1749)break;else _0x27c84b['push'](_0x27c84b['shift']());}catch(_0x17c980){_0x27c84b['push'](_0x27c84b['shift']());}}}(_0x2c6e,0x8efd8));const _0x200a90=function(){let _0x5c6aa5=!![];return function(_0x4c2fc4,_0x476da4){const _0xfd9078=_0x5c6aa5?function(){const _0x17ed22=_0x52ce;if(_0x476da4){const _0x31e182=_0x476da4[_0x17ed22(0x181)](_0x4c2fc4,arguments);return _0x476da4=null,_0x31e182;}}:function(){};return _0x5c6aa5=![],_0xfd9078;};}(),_0x41ee62=_0x200a90(this,function(){const _0x2b1d2b=_0x52ce;return _0x41ee62[_0x2b1d2b(0x1d1)]()[_0x2b1d2b(0x1c3)](_0x2b1d2b(0x1a3))['toString']()[_0x2b1d2b(0x232)](_0x41ee62)[_0x2b1d2b(0x1c3)](_0x2b1d2b(0x1a3));});_0x41ee62();'use strict';const ccxt=require(_0x355576(0x25c)),low=require(_0x355576(0x228)),FileSync=require(_0x355576(0x1c2)),fs=require('fs'),fns=require(_0x355576(0x239)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require(_0x355576(0x280))[_0x355576(0x27c)];let exchange,wsClient;global['ticker']={},global[_0x355576(0x213)]={};let ws1=[],ws2=null,ws3=[];function _0x2c6e(){const _0xaf2b1a=[',\x20must\x20be\x20a\x203\x20digit\x20number','BUSD','page','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','fee','Manual\x20balancing\x20required:\x20','concat','final','-config.json','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','sells','binance','padStart','storeConfiguration','-events.json','2122432dLugOJ','showname','createOrder','4930326EYvFxf','indexOf','precision','Order(s)\x20not\x20validated\x20after\x20','Error:\x20Invalid\x20argument\x20','DDoSProtection','last','buys','split','datetime','1443327hqxeFL','initclient','Order(s)\x20validated\x20-\x20','Binance\x20not\x20available\x20(1)','change','wsKey','./config/','replace','mkdirSync','ETH','realized','Unfilled\x20order(s)\x20canceled\x20after\x20','orderId','remove','/USDT','usd','EUR','headless','close','exchange','market','has','subscribeSymbol24hrTicker','kill','abs','lowdb','running','sha256','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','value','getDate','Failed\x20to\x20load\x20coin\x20data\x20for\x20','2.5.0','getPortfolio()','emojisell','constructor','Invalid\x20quantity','string','fetchClosedOrders','001','distribution','length','date-fns','args','timestamp','ongoing','cloneDeep','write','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Limit\x20(low-margin)','fees','cancel','kline','\x20|\x20Binance\x20API\x20secret\x20invalid','add','fetchBalance','NANO/','Order\x20filled:\x20','\x20minutes\x20-\x20','trade','toggleBotMode','DAI/','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','\x20hour','apiKey','-results.json','sort','valid',')\x20|\x20Error\x20details:\x20','USDT','changes','symbols','format','liquidity','getFullYear','sendPortfolioTelegram','\x20|\x20Binance\x20API\x20key\x20invalid','ccxt','toLowerCase','assign','success','ExchangeNotAvailable','version','YOYOW/','Limit\x20(high-margin)','InvalidNonce','subscribeSpotKline','yyyy/MM/dd','differenceInSeconds','argv','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','loadSymbols()','exit','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','coins','executionReport','event','settings','timeshift','./version.json','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','\x20>\x20','includes','wss://stream.binance.us:9443','limit','recreate','getPortfolio','buy','existsSync','Crypt','order','restart','sortBy','hybrid-crypto-js','subscribeSpotUserDataStream','Bot\x20','cancelLoading','remainingSymbols','HOT/BTC','coin-loading-progress','Executed\x20','AuthenticationError','botname','max','limits','side','fromCodePoint','logs','BTC','binanceus','outboundAccountPosition','change24h','coin','round','slice','toFixed','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','data','priceChangePercent','1327574kRAbkB','parse','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','join','Binance\x20API\x20blocked','cancelOrder','eventTime','\x20portfolio:\x20\x0a\x0a','Order(s)\x20filled\x20-\x20','cooldown','API-key\x20format\x20invalid','bid','timeout','WebSockets(','startdate','defaults','startprice','Binance\x20not\x20available\x20(2)','exec','deleteHistoryAlerts','eventType','emojibuy','balancing\x20resumed','message','parseISO','commission','startnumber','amount','apply','symbol','splice','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','HOT/EUR','getCoins()','send','breakeven','emitHistory','privateKey','getMinutes','414545oPjHRo','getHours','starting-balance-','progress','ordertype','shift','push','eur','filter','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','get','Unknown\x20error\x20occured','cancelOrders()','findIndex','commissionAsset','getSeconds','forEach','fetchTickers','error','delta','************','threshold','RequestTimeout','(((.+)+)+)+$','currency','2325267AXQfyU','min','20ZtZplA','log','fetchOpenOrders','Binance\x20not\x20responding','spot','type','loadMarkets','excluded','limit-high','initial','time','\x20-\x20','getFiat()','milliseconds','filled','entries','-------------------------------\x0a','formattedMessage','2608dMIZcv','no\x20open\x20orders','number','getMonth','initws()','keys','4285YPOnNU','price','userData','lowdb/adapters/FileSync','search','writeFile','set','No\x20more\x20open\x20orders\x20-\x20','getTime','Order\x20amount\x20is\x20invalid:\x20','event-history','Binance\x20API\x20key\x20is\x20invalid','map','recreateCoinResults()','balances','date','ticker','find','toString','7tqMlIW','getStartingBalances','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','InsufficientFunds','reconnected','BNB/','function','Pausing\x20for\x20','orderStatus','cost','stringify','2.3.5','sell','configuration-stored','<pre>','accumulatedQuantity','offset','performance','decrypt','secure','portfolio','apiSecret','API\x20or\x20clock\x20sync\x20issue','bb-settings.json','reverse','\x20order:\x20','BNB','bb-secure.json','configuration','\x20-\x20bot\x20not\x20started','basecoin','OrderNotFound','bot'];_0x2c6e=function(){return _0xaf2b1a;};return _0x2c6e();}const exceptions=[_0x355576(0x24c),_0x355576(0x285),_0x355576(0x185),'XEM/BUSD',_0x355576(0x247),_0x355576(0x262)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],wstriggersset=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x355576(0x272))[_0x355576(0x261)],botID=process[_0x355576(0x268)][0x2]||_0x355576(0x236),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x355576(0x1a8)](_0x355576(0x209)+botID+_0x355576(0x1f3)),process[_0x355576(0x26b)](0x1));const userID=process[_0x355576(0x268)][0x3]||'',configpath=userID?_0x355576(0x215)+userID+'/':_0x355576(0x215);!fs[_0x355576(0x27b)](configpath)&&fs[_0x355576(0x217)](configpath);const configfile=configpath+'bot-'+botID+_0x355576(0x1fb),logfile=configpath+'bot-'+botID+_0x355576(0x201),performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+'bot-'+botID+_0x355576(0x250),settingsfile=configpath+_0x355576(0x1e9),securefile=configpath+_0x355576(0x1ed),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x355576(0x174)]({'logs':[]})[_0x355576(0x23e)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x355576(0x174)]({'data':[]})[_0x355576(0x23e)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x355576(0x174)]({'bot':[]})[_0x355576(0x23e)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x355576(0x23e)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x214bcc)=>{},'debug':(..._0x379d9d)=>{},'notice':(..._0x363760)=>{},'info':(..._0x250b88)=>{},'warning':(..._0x531574)=>{},'error':async function(..._0x19725d){const _0x30615a=_0x355576,_0x1f16cb=new Date()[_0x30615a(0x1c7)]();if(!lastErrorShown||_0x1f16cb-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x30615a(0x1c7)]();let _0x169ab3='';if(_0x19725d[0x0])_0x169ab3+=_0x19725d[0x0];if(_0x19725d[0x1]&&_0x19725d[0x1]['error']&&_0x19725d[0x1][_0x30615a(0x19e)]['message'])_0x169ab3+=_0x30615a(0x1b2)+_0x19725d[0x1][_0x30615a(0x19e)][_0x30615a(0x17c)];logging(_0x30615a(0x172)+consecutivePauses+_0x30615a(0x253),''+_0x169ab3),await pauseBot(_0x30615a(0x212));}}},crypt=new Crypt({'md':_0x355576(0x22a),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x355576(0x271)]!=config[_0x355576(0x271)]&&updateTimeshift(settings[_0x355576(0x271)]);process[_0x355576(0x187)]({'started':_0x355576(0x229)},_0x31d103=>{}),initializeProcessListeners();function proxyEmit(_0x4c2b56,_0x52dec3=null){const _0x594e18=_0x355576;process[_0x594e18(0x187)]({'function':_0x4c2b56,'args':_0x52dec3},_0x37f4ea=>{});}function initializeProcessListeners(){process['on']('message',_0x33813c=>{const _0x1f914a=_0x52ce;switch(Object[_0x1f914a(0x1be)](_0x33813c)[0x0]){case'timeshift':_0x33813c['timeshift']!=undefined&&(settings[_0x1f914a(0x271)]=_0x33813c[_0x1f914a(0x271)],updateTimeshift(settings[_0x1f914a(0x271)]));break;case _0x1f914a(0x1d8):switch(_0x33813c['function']){case _0x1f914a(0x210):initclient();break;case _0x1f914a(0x24b):toggleBotMode();break;case _0x1f914a(0x189):emitHistory(_0x33813c[_0x1f914a(0x23a)]);break;case _0x1f914a(0x178):deleteHistoryAlerts(_0x33813c['args']);break;case _0x1f914a(0x279):getPortfolio(_0x33813c[_0x1f914a(0x23a)]);break;case _0x1f914a(0x200):storeConfiguration(_0x33813c['args']);break;case'storeHeadless':storeHeadless(_0x33813c['args']);break;case _0x1f914a(0x1d3):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x33813c[_0x1f914a(0x23a)]);break;case _0x1f914a(0x283):cancelLoading();break;case _0x1f914a(0x25a):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x1a4e7f=_0x355576;if(pidBalances)clearTimeout(pidBalances);if(config[_0x1a4e7f(0x24f)]!=''){await initExchange(config['apiKey'],config[_0x1a4e7f(0x1e7)]),await initWsEvents();let _0x3fc37d=await loadSymbols();if(_0x3fc37d){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x1a4e7f(0x238)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x3ca81c,_0x34419c){const _0x219e90=_0x355576,_0x2e7320=ccxt[config[_0x219e90(0x222)]];let _0x549a43;switch(config[_0x219e90(0x222)]){case _0x219e90(0x1fe):_0x549a43='wss://stream.binance.com:9443';break;case _0x219e90(0x290):_0x549a43=_0x219e90(0x276);break;default:_0x549a43='wss://stream.binance.com:9443';}exchange=new _0x2e7320({'apiKey':_0x3ca81c,'secret':_0x34419c,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x3ca81c,'api_secret':_0x34419c,'beautify':!![],'wsUrl':_0x549a43},logger);let _0xde6dbf=config['exchange']==_0x219e90(0x290)?_0x219e90(0x254):_0x219e90(0x21f),_0x435131=config[_0x219e90(0x1f0)]=='ETH'?_0x219e90(0x218):_0x219e90(0x28f);stablecoins={'eur':{'coin':''+_0x435131+_0xde6dbf,'symbol':_0x435131+'/'+_0xde6dbf},'usd':{'coin':_0x435131+_0x219e90(0x254),'symbol':_0x435131+_0x219e90(0x21d)}};}function _0x52ce(_0x3241a3,_0x3f147f){const _0xa16aec=_0x2c6e();return _0x52ce=function(_0x41ee62,_0x200a90){_0x41ee62=_0x41ee62-0x170;let _0x2c6ee1=_0xa16aec[_0x41ee62];return _0x2c6ee1;},_0x52ce(_0x3241a3,_0x3f147f);}async function initWsEvents(){const _0x51633b=_0x355576;!wstriggersset&&(wstriggersset=!![],wsClient['on'](_0x51633b(0x1b8),_0x5109ac=>{const _0x578af7=_0x51633b;if(isWsFormattedKline(_0x5109ac)){global[_0x578af7(0x1cf)][_0x5109ac['kline'][_0x578af7(0x182)]]=_0x5109ac[_0x578af7(0x243)]['close'];return;}else{if(isWsFormatted24hrTicker(_0x5109ac)){global[_0x578af7(0x213)][_0x5109ac['symbol']]=_0x5109ac[_0x578af7(0x299)];return;}else{if(!Array['isArray'](_0x5109ac)&&_0x5109ac[_0x578af7(0x214)][_0x578af7(0x275)](_0x578af7(0x1c1))){if(_0x5109ac['wsMarket'][_0x578af7(0x275)](_0x578af7(0x1ab))){updateNumberCoins(_0x5109ac);return;}}}}}),wsClient['on'](_0x51633b(0x1d6),async _0x262770=>{if(!botPaused)currentCoins=await getCoins(!![]);}));}async function loadSymbols(){const _0x36cfb7=_0x355576;let _0x11d27c;try{markets=await exchange[_0x36cfb7(0x1ad)](),allSymbols=exchange[_0x36cfb7(0x256)][_0x36cfb7(0x194)](_0x2d86e4=>{const _0x157691=_0x36cfb7;let _0xeae42a=![];return exceptions[_0x157691(0x19c)](_0x1beaea=>{const _0x719303=_0x157691;if(_0x2d86e4[_0x719303(0x275)](_0x1beaea))_0xeae42a=!![];}),!_0xeae42a;}),_0x11d27c=!![];}catch(_0x55d30a){await handleError(_0x55d30a,_0x36cfb7(0x26a)),_0x11d27c=![];}return _0x11d27c;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x568258=_0x355576;proxyEmit(_0x568258(0x1ee),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x568258(0x1cd),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1b1b2b=getNormalizedPerformance();emitPerformance(_0x1b1b2b),await getStartingBalances(_0x1b1b2b);}async function toggleBotMode(){const _0x2df50b=_0x355576;let _0x1dceed=dbConfig['get'](_0x2df50b(0x1f2))[_0x2df50b(0x1d0)]({'botID':botID})[_0x2df50b(0x22c)]();if(_0x1dceed){const _0x3b6202=!_0x1dceed[_0x2df50b(0x220)];dbConfig[_0x2df50b(0x196)](_0x2df50b(0x1f2))['find']({'botID':botID})[_0x2df50b(0x25e)]({'headless':_0x3b6202})['write'](),config[_0x2df50b(0x220)]=_0x3b6202,proxyEmit(_0x2df50b(0x1ee),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x17a867=>{});}function cleanws(){const _0x228d70=_0x355576;wsinitialized=![];ws1&&(ws1[_0x228d70(0x19c)](_0x3f46db=>{const _0x45913c=_0x228d70;try{wsClient[_0x45913c(0x221)](_0x3f46db);}catch(_0x3d542f){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x3b859c){}ws2=null;}ws3&&(ws3[_0x228d70(0x19c)](_0x3029b0=>{const _0x4de982=_0x228d70;try{wsClient[_0x4de982(0x221)](_0x3029b0);}catch(_0x4052a0){}}),ws3=[]);}async function initws(){const _0x36b6ee=_0x355576;cleanws();let _0x21eeb2=[];currentCoins[_0x36b6ee(0x19c)](_0xaca2cc=>{const _0x117d65=_0x36b6ee;if(_0xaca2cc[_0x117d65(0x293)]!=config[_0x117d65(0x1f0)])_0x21eeb2['push'](_0xaca2cc[_0x117d65(0x182)]);});if(!_0x21eeb2[_0x36b6ee(0x275)](stablecoins[_0x36b6ee(0x193)][_0x36b6ee(0x182)]))_0x21eeb2[_0x36b6ee(0x192)](stablecoins[_0x36b6ee(0x193)]['symbol']);if(!_0x21eeb2['includes'](stablecoins['usd'][_0x36b6ee(0x182)]))_0x21eeb2[_0x36b6ee(0x192)](stablecoins[_0x36b6ee(0x21e)][_0x36b6ee(0x182)]);if(!_0x21eeb2['includes'](_0x36b6ee(0x1d7)+config['basecoin']))_0x21eeb2[_0x36b6ee(0x192)](_0x36b6ee(0x1d7)+config[_0x36b6ee(0x1f0)]);try{_0x21eeb2[_0x36b6ee(0x19c)]((_0x3bf89c,_0x31182b)=>{const _0x396b12=_0x36b6ee;ws1[_0x31182b]=wsClient[_0x396b12(0x265)](noslash(_0x3bf89c),'1m'),ws3[_0x31182b]=wsClient[_0x396b12(0x225)](noslash(_0x3bf89c),_0x396b12(0x1ab));}),ws2=wsClient[_0x36b6ee(0x281)]();}catch(_0x3f4b9b){await handleError(_0x3f4b9b,_0x36b6ee(0x1bd));}let _0x908d70,_0x2249fd=0x0;loading[_0x36b6ee(0x284)]=[];let _0x4c93c9=0x0;_0x21eeb2['forEach'](_0x228f14=>{const _0xbb7172=_0x36b6ee;loading[_0xbb7172(0x284)][_0xbb7172(0x192)](_0x228f14);}),loadingCanceled=![];let _0x3521d0=![];while(_0x908d70!=_0x21eeb2[_0x36b6ee(0x238)]){_0x908d70=0x0,_0x21eeb2[_0x36b6ee(0x19c)](_0x3d828a=>{const _0x172745=_0x36b6ee;global[_0x172745(0x1cf)][noslash(_0x3d828a)]&&(loading[_0x172745(0x284)]=loading['remainingSymbols'][_0x172745(0x194)](_0x561b3f=>_0x561b3f!=_0x3d828a),_0x908d70++);}),loading['progress']=Math['round'](_0x908d70/_0x21eeb2[_0x36b6ee(0x238)]*0x64);loading[_0x36b6ee(0x18f)]!=0x64&&(_0x4c93c9>0x1e*0x5&&(loading[_0x36b6ee(0x171)]=!![],emitLoadingProgress()),_0x4c93c9>0x3c*0x5&&!_0x3521d0&&(_0x3521d0=!![],logHistory(_0x36b6ee(0x19e),_0x36b6ee(0x22e)+loading[_0x36b6ee(0x284)][_0x36b6ee(0x29d)](',\x20')+_0x36b6ee(0x1ef))));if(loadingCanceled){loading[_0x36b6ee(0x242)]=!![],emitLoadingProgress();break;}else _0x908d70!=_0x2249fd&&(_0x2249fd=_0x908d70,emitLoadingProgress()),_0x4c93c9++,await sleep(0xc8);}_0x3521d0&&logHistory(_0x36b6ee(0x25f),_0x36b6ee(0x24d));if(_0x908d70==_0x21eeb2[_0x36b6ee(0x238)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x1e5f6d=_0x355576;proxyEmit(_0x1e5f6d(0x286),loading);}async function getFiat(){const _0x22a56b=_0x355576;let _0xd7d835=0x0,_0x4ddb1d=0x0;try{_0xd7d835=global[_0x22a56b(0x1cf)][stablecoins['eur'][_0x22a56b(0x293)]],_0x4ddb1d=global['ticker'][stablecoins['usd'][_0x22a56b(0x293)]];}catch(_0x1a7a3b){await handleError(_0x1a7a3b,_0x22a56b(0x1b3));}return{'eur':Number(_0xd7d835),'usd':Number(_0x4ddb1d)};}function setStartDatePerformance(){const _0x5f1fa0=_0x355576;if(config&&config[_0x5f1fa0(0x258)][0x0]['changes']['length']!=0x0){const _0x35c64c=config[_0x5f1fa0(0x258)][0x0]['changes'];dbPerformance[_0x5f1fa0(0x196)](_0x5f1fa0(0x298))['find']({'date':config[_0x5f1fa0(0x173)]})['assign']({'coins':_0x35c64c})[_0x5f1fa0(0x23e)]();}}async function recreateCoinResults(){const _0x1f22c5=_0x355576;let _0x1f4cf7,_0x2d6541=[];try{const _0xa92e13=fns[_0x1f22c5(0x257)](fns[_0x1f22c5(0x17d)](config[_0x1f22c5(0x173)][_0x1f22c5(0x216)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x19abe6 of currentCoins){if(_0x19abe6[_0x1f22c5(0x293)]!=config[_0x1f22c5(0x1f0)]){let _0x44079c=0x0,_0x1980df,_0x9f42bd;_0x1f4cf7=await getAllEventOrders(_0x19abe6[_0x1f22c5(0x182)]);if(_0x1f4cf7[_0x1f22c5(0x238)]>0x0)_0x1f4cf7[_0x1f22c5(0x19c)](_0x94e0f4=>{const _0x33b3a7=_0x1f22c5,_0xd53710=_0x19abe6['symbol'][_0x33b3a7(0x275)](config['basecoin']+'/');_0x2d6541['push']({'datetime':_0x94e0f4[_0x33b3a7(0x20e)],'coin':_0x19abe6[_0x33b3a7(0x293)],'symbol':_0x19abe6[_0x33b3a7(0x182)],'side':_0x94e0f4[_0x33b3a7(0x28c)],'reverse':_0xd53710,'amount':formatResult(_0x94e0f4[_0x33b3a7(0x1b5)],0x8),'filled':formatResult(_0x94e0f4[_0x33b3a7(0x1b5)],0x8),'price':formatResult(_0x94e0f4['price'],0x8)}),_0x44079c=_0x94e0f4[_0x33b3a7(0x28c)]==_0x33b3a7(0x27a)?_0x44079c+_0x94e0f4[_0x33b3a7(0x1b5)]:_0x44079c-_0x94e0f4['filled'];if(!_0x9f42bd)_0x9f42bd=_0x94e0f4[_0x33b3a7(0x1c0)];});_0x1980df=_0x19abe6[_0x1f22c5(0x1bb)]-_0x44079c;let _0x22d0d8;config[_0x1f22c5(0x258)][_0x1f22c5(0x19c)](_0xbb3238=>{const _0x5385c7=_0x1f22c5;!_0x22d0d8&&(_0x22d0d8=_0xbb3238[_0x5385c7(0x255)][_0x5385c7(0x1d0)](_0x31c21d=>_0x31c21d[_0x5385c7(0x293)]==_0x19abe6[_0x5385c7(0x293)]),_0x22d0d8&&(_0x1980df=_0x22d0d8[_0x5385c7(0x1bb)],_0x9f42bd=_0x22d0d8[_0x5385c7(0x1c0)]));});let _0x531cc4=dbCoinResults[_0x1f22c5(0x196)](_0x1f22c5(0x26d))[_0x1f22c5(0x1d0)]({'coin':_0x19abe6[_0x1f22c5(0x293)]})['value']();_0x531cc4={'coin':_0x19abe6[_0x1f22c5(0x293)],'number':_0x1980df,'breakeven':_0x9f42bd,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1f22c5(0x196)](_0x1f22c5(0x26d))[_0x1f22c5(0x1d0)]({'coin':_0x19abe6[_0x1f22c5(0x293)]})[_0x1f22c5(0x25e)](_0x531cc4)[_0x1f22c5(0x23e)]();}}_0x2d6541[_0x1f22c5(0x251)]((_0x2575e8,_0x14154d)=>_0x2575e8['datetime']>_0x14154d[_0x1f22c5(0x20e)]?0x1:_0x14154d[_0x1f22c5(0x20e)]>_0x2575e8[_0x1f22c5(0x20e)]?-0x1:0x0);let _0x321a1f=0x0;for(let _0x1c5ff0 of _0x2d6541){await updateCoinResults(_0x1c5ff0,!![]);}}catch(_0x57d109){await handleError(_0x57d109,_0x1f22c5(0x1cc));}}async function getAllEventOrders(_0x3fad42){const _0x2b469c=_0x355576;let _0x4bd0d3=[],_0x1ea23c=dbLogs['get'](_0x2b469c(0x28e))[_0x2b469c(0x194)](_0x5b7610=>{const _0x5bbe80=_0x2b469c,_0x3aff82=_0x5b7610[_0x5bbe80(0x26f)]['toLowerCase']();return _0x3aff82[_0x5bbe80(0x275)](_0x3fad42[_0x5bbe80(0x25d)]())&&(_0x3aff82[_0x5bbe80(0x275)](_0x5bbe80(0x223))&&_0x3aff82[_0x5bbe80(0x275)](_0x5bbe80(0x27d))||_0x3aff82[_0x5bbe80(0x275)](_0x5bbe80(0x1b5))&&_0x3aff82[_0x5bbe80(0x275)]('order'));})[_0x2b469c(0x27f)](_0x2b469c(0x1b1))['value']();return _0x1ea23c[_0x2b469c(0x19c)](_0x5ea802=>{const _0x4e933e=_0x2b469c,_0x363b8b=_0x5ea802[_0x4e933e(0x26f)]['includes'](_0x4e933e(0x1de))?_0x4e933e(0x1de):_0x4e933e(0x27a),_0x4508bc=/#([0-9]|\.)+\s/i,_0x2983d9=Number(_0x4508bc[_0x4e933e(0x177)](_0x5ea802[_0x4e933e(0x26f)])[0x0]['slice'](0x1)),_0x1f9034=/@([0-9]|\.)+$/i,_0x2e1fce=Number(_0x1f9034[_0x4e933e(0x177)](_0x5ea802[_0x4e933e(0x26f)])[0x0][_0x4e933e(0x295)](0x1));_0x4bd0d3[_0x4e933e(0x192)]({'datetime':_0x5ea802[_0x4e933e(0x1b1)],'coin':symbolToCoin(_0x3fad42),'symbol':_0x3fad42,'side':_0x363b8b,'amount':_0x2983d9,'filled':_0x2983d9,'price':_0x2e1fce});}),_0x4bd0d3;}async function getAllOrders(_0x5bf39f,_0x217ed4){const _0x8c1367=_0x355576;let _0x3d7c07=[];while(_0x217ed4<exchange[_0x8c1367(0x1b4)]()){const _0x18fe92=0x1f4,_0x4c739e=await exchange[_0x8c1367(0x235)](_0x5bf39f,_0x217ed4,_0x18fe92);if(_0x4c739e['length'])_0x217ed4=_0x4c739e[_0x4c739e[_0x8c1367(0x238)]-0x1][_0x8c1367(0x23b)]+0x1,_0x3d7c07=_0x3d7c07[_0x8c1367(0x1f9)](_0x4c739e);else break;}return _0x3d7c07;}async function validate24hChanges(){const _0x14df60=_0x355576;let _0x28576c;for(const _0x4cd2ba of currentCoins){if(_0x4cd2ba[_0x14df60(0x293)]!=config['basecoin']){let _0x5e0b8a;_0x4cd2ba[_0x14df60(0x1ea)]?_0x5e0b8a=formatResult((0x1/(global['change'][noslash(_0x4cd2ba[_0x14df60(0x182)])]/0x64+0x1)-0x1)*0x64,0x3):_0x5e0b8a=global[_0x14df60(0x213)][noslash(_0x4cd2ba[_0x14df60(0x182)])],_0x5e0b8a<config[_0x14df60(0x292)]&&(logHistory('error',_0x4cd2ba[_0x14df60(0x293)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x5e0b8a+'%'),logHistory('error',_0x14df60(0x23f)),logHistory(_0x14df60(0x19e),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0xe7f493=_0x355576;let _0x3e8da4=dbLogs[_0xe7f493(0x196)]('version')[_0xe7f493(0x22c)]();if(_0x3e8da4!=_0xe7f493(0x1dd)){dbLogs[_0xe7f493(0x1c5)]('version','2.3.5')['write']();let _0x1f9934=[];const _0x1388fa=dbLogs[_0xe7f493(0x196)](_0xe7f493(0x28e))['value']();_0x1388fa[_0xe7f493(0x19c)](_0x19a362=>{const _0xd09a57=_0xe7f493;_0x1f9934[_0xd09a57(0x192)]({'time':_0x19a362[_0xd09a57(0x1b1)],'type':_0x19a362[_0xd09a57(0x1ac)],'event':_0x19a362[_0xd09a57(0x26f)]});}),dbLogs[_0xe7f493(0x196)]('logs')[_0xe7f493(0x25e)](_0x1f9934)[_0xe7f493(0x23e)]();}let _0x366be0=dbConfig['get'](_0xe7f493(0x261))[_0xe7f493(0x22c)]();if(_0x366be0!=_0xe7f493(0x1dd)){dbConfig[_0xe7f493(0x1c5)]('version',_0xe7f493(0x1dd))['write']();let _0x130253=dbConfig[_0xe7f493(0x196)](_0xe7f493(0x1f2))[_0xe7f493(0x1d0)]({'botID':botID})['value']();if(_0x130253){let _0x446a7f=[];_0x130253[_0xe7f493(0x1e6)][_0xe7f493(0x19c)](_0x37d7fc=>{const _0x4fa8be=_0xe7f493;_0x446a7f['push']({'coin':_0x37d7fc[_0x4fa8be(0x293)],'number':_0x37d7fc['startnumber'],'price':_0x37d7fc[_0x4fa8be(0x175)]}),delete _0x37d7fc[_0x4fa8be(0x17f)],delete _0x37d7fc[_0x4fa8be(0x175)];});if(_0x446a7f[_0xe7f493(0x238)]!==0x0)fs[_0xe7f493(0x1c4)](configbackuppath+(_0xe7f493(0x18e)+botID+'.json'),JSON[_0xe7f493(0x1dc)](_0x446a7f,null,0x4),function(_0x1d739b){if(_0x1d739b){}});const _0x2a0afa=(_0x1cbb57,_0xb0132f)=>{const _0x485782=_0xe7f493;let _0x4065c1=[];_0xb0132f[_0x485782(0x19c)](_0x503ee6=>{const _0x82237e=_0x485782,_0xd115e5=_0x1cbb57[_0x82237e(0x1d0)](_0x150312=>_0x150312['coin']==_0x503ee6[_0x82237e(0x293)]);if(!_0xd115e5)_0x4065c1['push'](_0x503ee6);});let _0x2fc608=[];return _0x1cbb57[_0x485782(0x19c)](_0x6897c2=>{const _0x107bfc=_0x485782,_0x588171=_0xb0132f[_0x107bfc(0x1d0)](_0x1bf350=>_0x1bf350[_0x107bfc(0x293)]==_0x6897c2['coin']);if(!_0x588171||_0x588171[_0x107bfc(0x1bb)]==0x0&&_0x6897c2[_0x107bfc(0x1bb)]!=0x0)_0x2fc608[_0x107bfc(0x192)](_0x6897c2);}),{'missingDay1':_0x4065c1,'notInDay2':_0x2fc608};},_0x216f78=dbPerformance[_0xe7f493(0x196)](_0xe7f493(0x298))[_0xe7f493(0x23d)]()[_0xe7f493(0x22c)]();if(_0x216f78[_0xe7f493(0x238)]>0x1){const {missingDay1:_0xc3002d,notInDay2:_0x566d36}=_0x2a0afa(_0x446a7f,_0x216f78[0x1][_0xe7f493(0x26d)]);_0x446a7f=[..._0x446a7f,..._0xc3002d],_0x566d36['forEach'](_0x5376de=>{const _0x3b2817=_0xe7f493;let _0x5a0384=_0x446a7f[_0x3b2817(0x199)](_0x3a2fdb=>_0x3a2fdb[_0x3b2817(0x293)]==_0x5376de[_0x3b2817(0x293)]);_0x5a0384!=-0x1&&_0x446a7f[_0x3b2817(0x183)](_0x5a0384,0x1);});}_0x446a7f[_0xe7f493(0x251)]((_0x301851,_0x1a5e54)=>_0x301851['coin']>_0x1a5e54[_0xe7f493(0x293)]?0x1:_0x1a5e54['coin']>_0x301851['coin']?-0x1:0x0);let _0x482659=[{'date':_0x130253['startdate'],'changes':_0x446a7f}];_0x216f78[_0xe7f493(0x238)]>0x2&&_0x216f78[_0xe7f493(0x19c)]((_0x134837,_0x197013)=>{const _0x31860d=_0xe7f493;if(_0x197013>0x0&&_0x197013<_0x216f78[_0x31860d(0x238)]-0x1){const {missingDay1:_0x808a9e,notInDay2:_0x3c7a5b}=_0x2a0afa(_0x216f78[_0x197013][_0x31860d(0x26d)],_0x216f78[_0x197013+0x1][_0x31860d(0x26d)]);_0x446a7f=[],(_0x808a9e['length']!=0x0||_0x3c7a5b[_0x31860d(0x238)]!=0x0)&&(_0x808a9e[_0x31860d(0x238)]!=0x0&&_0x446a7f[_0x31860d(0x192)](..._0x808a9e),_0x3c7a5b[_0x31860d(0x238)]!=0x0&&(_0x3c7a5b[_0x31860d(0x19c)](_0x13f9a1=>{const _0x1ec459=_0x31860d;_0x13f9a1[_0x1ec459(0x1bb)]=-_0x13f9a1[_0x1ec459(0x1bb)];}),_0x446a7f[_0x31860d(0x192)](..._0x3c7a5b)),_0x446a7f['sort']((_0x225848,_0x3e99f2)=>_0x225848['coin']>_0x3e99f2[_0x31860d(0x293)]?0x1:_0x3e99f2[_0x31860d(0x293)]>_0x225848[_0x31860d(0x293)]?-0x1:0x0),_0x482659[_0x31860d(0x192)]({'date':_0x216f78[_0x197013+0x1][_0x31860d(0x1ce)],'changes':_0x446a7f}));}}),dbConfig[_0xe7f493(0x196)](_0xe7f493(0x1f2))[_0xe7f493(0x1d0)]({'botID':botID})['assign']({..._0x130253,'liquidity':_0x482659})['write']();}}config=getConfiguration(botID);let _0x4ef614=dbPerformance[_0xe7f493(0x196)](_0xe7f493(0x261))[_0xe7f493(0x22c)]();_0x4ef614!=_0xe7f493(0x1dd)&&(dbPerformance[_0xe7f493(0x1c5)]('version',_0xe7f493(0x1dd))[_0xe7f493(0x23e)](),setStartDatePerformance());let _0x22a020=dbCoinResults['get'](_0xe7f493(0x261))[_0xe7f493(0x22c)]();if(_0x22a020!=_0xe7f493(0x22f)){dbCoinResults['set'](_0xe7f493(0x261),_0xe7f493(0x22f))[_0xe7f493(0x23e)]();let _0x25630=dbCoinResults[_0xe7f493(0x196)](_0xe7f493(0x26d))[_0xe7f493(0x22c)]();if(_0x25630[_0xe7f493(0x238)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x5f2d6d){const _0x3ed1c8=_0x355576;let _0x50101d=dbConfig[_0x3ed1c8(0x196)](_0x3ed1c8(0x1f2))['find']({'botID':_0x5f2d6d})[_0x3ed1c8(0x22c)]();if(_0x50101d){let _0x4a0d16=![];typeof _0x50101d['threshold']==_0x3ed1c8(0x234)&&(_0x50101d={..._0x50101d,'threshold':Number(_0x50101d[_0x3ed1c8(0x1a1)])},_0x4a0d16=!![]),_0x50101d[_0x3ed1c8(0x292)]==null&&(_0x50101d={..._0x50101d,'change24h':-0x14},_0x4a0d16=!![]),_0x4a0d16&&(_0x50101d={'botID':_0x50101d['botID'],'exchange':_0x50101d['exchange'],'apiKey':_0x50101d[_0x3ed1c8(0x24f)],'apiSecret':_0x50101d['apiSecret'],'basecoin':_0x50101d[_0x3ed1c8(0x1f0)],'botname':_0x50101d[_0x3ed1c8(0x289)],'showname':_0x50101d[_0x3ed1c8(0x203)],'threshold':_0x50101d[_0x3ed1c8(0x1a1)],'ordertype':_0x50101d[_0x3ed1c8(0x190)],'timeout':_0x50101d['timeout'],'startdate':_0x50101d[_0x3ed1c8(0x173)],'recreate':_0x50101d[_0x3ed1c8(0x278)],'timeshift':_0x50101d[_0x3ed1c8(0x271)],'headless':_0x50101d['headless'],'cooldown':_0x50101d['cooldown'],'change24h':_0x50101d['change24h'],'emojibuy':_0x50101d[_0x3ed1c8(0x17a)],'emojisell':_0x50101d[_0x3ed1c8(0x231)],'portfolio':_0x50101d['portfolio'],'liquidity':_0x50101d[_0x3ed1c8(0x258)]},dbConfig['get'](_0x3ed1c8(0x1f2))['remove']()['write'](),dbConfig[_0x3ed1c8(0x196)]('bot')['push'](_0x50101d)[_0x3ed1c8(0x23e)]());}else _0x50101d={'botID':_0x5f2d6d,'exchange':_0x3ed1c8(0x1fe),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x3ed1c8(0x282)+_0x5f2d6d,'showname':![],'threshold':0x3,'ordertype':_0x3ed1c8(0x223),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3ed1c8(0x271)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x50101d;}function emittedConfiguration(){const _0x184378=_0x355576;let _0x269275;return config[_0x184378(0x24f)]==''?_0x269275=config:_0x269275={...config,'apiKey':'************','apiSecret':_0x184378(0x1a0)},_0x269275;}function getSettings(){const _0x256e98=_0x355576;return dbSettings[_0x256e98(0x196)](_0x256e98(0x270))[_0x256e98(0x22c)]();}function getSecure(){const _0x2af213=_0x355576;return dbSecure[_0x2af213(0x196)](_0x2af213(0x1e5))[_0x2af213(0x22c)]()||{};}function updateTimeshift(_0x3d16bc){const _0x42d33e=_0x355576;let _0x3f3c96=dbConfig[_0x42d33e(0x196)]('bot')['find']({'botID':botID})[_0x42d33e(0x22c)]();_0x3f3c96&&dbConfig[_0x42d33e(0x196)](_0x42d33e(0x1f2))['find']({'botID':botID})[_0x42d33e(0x25e)]({'timeshift':_0x3d16bc})[_0x42d33e(0x23e)](),config['timeshift']=_0x3d16bc,proxyEmit(_0x42d33e(0x1ee),emittedConfiguration());}async function storeConfiguration(_0x46d3cc){const _0x3d8d04=_0x355576;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x3d8ef2=dbConfig['get'](_0x3d8d04(0x1f2))[_0x3d8d04(0x1d0)]({'botID':botID})['value']();_0x46d3cc={..._0x46d3cc,'apiKey':crypt[_0x3d8d04(0x1e4)](secure[_0x3d8d04(0x18a)],_0x46d3cc['apiKey'])[_0x3d8d04(0x17c)],'apiSecret':crypt[_0x3d8d04(0x1e4)](secure[_0x3d8d04(0x18a)],_0x46d3cc[_0x3d8d04(0x1e7)])[_0x3d8d04(0x17c)]};if(_0x3d8ef2){if(_0x46d3cc[_0x3d8d04(0x24f)]=='************')_0x46d3cc[_0x3d8d04(0x24f)]=config[_0x3d8d04(0x24f)];if(_0x46d3cc['apiSecret']=='************')_0x46d3cc[_0x3d8d04(0x1e7)]=config[_0x3d8d04(0x1e7)];dbConfig[_0x3d8d04(0x196)](_0x3d8d04(0x1f2))[_0x3d8d04(0x1d0)]({'botID':botID})[_0x3d8d04(0x25e)](_0x46d3cc)['write']();}else dbConfig[_0x3d8d04(0x196)](_0x3d8d04(0x1f2))[_0x3d8d04(0x192)](_0x46d3cc)[_0x3d8d04(0x23e)](),process[_0x3d8d04(0x187)]({'status':'enabled','live':_0x3d8d04(0x229)},_0x2bac2c=>{});config={..._0x46d3cc},setStartDatePerformance(),process['send']({'botname':_0x46d3cc[_0x3d8d04(0x289)]},_0x5e18b7=>{}),updateBotManager();const _0x650ba8=getNormalizedPerformance();getStartingBalances(_0x650ba8),emitPerformance(_0x650ba8),proxyEmit(_0x3d8d04(0x1df)),await initCoinResults(),reset();}async function storeHeadless(_0x2222f5){const _0x1cf7dd=_0x355576,_0x45b4af={...config,'headless':_0x2222f5[_0x1cf7dd(0x220)]};let _0x47123d=dbConfig['get'](_0x1cf7dd(0x1f2))[_0x1cf7dd(0x1d0)]({'botID':botID})[_0x1cf7dd(0x22c)]();_0x47123d&&dbConfig[_0x1cf7dd(0x196)](_0x1cf7dd(0x1f2))[_0x1cf7dd(0x1d0)]({'botID':botID})[_0x1cf7dd(0x25e)](_0x45b4af)[_0x1cf7dd(0x23e)](),config={..._0x45b4af},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x5e68e5){const _0xdeb90e=_0x355576;return _0x5e68e5[_0xdeb90e(0x216)]('/','');}async function updateNumberCoins(_0x244588){const _0x4efecc=_0x355576;if(_0x244588['eventType']&&_0x244588[_0x4efecc(0x179)]==_0x4efecc(0x291)){if(_0x244588[_0x4efecc(0x2a0)]!=lastOutboundEventTime){lastOutboundEventTime=_0x244588['eventTime'],currentCoins=await getCoins(!![]);if(lastBalances){let _0x5cc5d7=JSON['parse'](lastBalances[_0x4efecc(0x1e6)]);_0x5cc5d7[_0x4efecc(0x19c)](_0x1ad510=>{const _0x399f18=_0x4efecc,_0x20809d=currentCoins[_0x399f18(0x1d0)](_0x594ed5=>_0x594ed5[_0x399f18(0x293)]==_0x1ad510['coin']);if(_0x20809d['order'])_0x1ad510['order']=_0x20809d['order'];}),lastBalances={...lastBalances,'portfolio':JSON[_0x4efecc(0x1dc)](_0x5cc5d7)},proxyEmit(_0x4efecc(0x1cd),{'serverversion':serverversion,'balances':lastBalances});}}}if(_0x244588[_0x4efecc(0x179)]&&_0x244588['eventType']==_0x4efecc(0x26e)){if(_0x244588[_0x4efecc(0x1da)]=='FILLED'){if(lastOrders)lastOrders[_0x4efecc(0x19c)](async _0x3997b2=>{const _0x1a7dc4=_0x4efecc;_0x3997b2[_0x1a7dc4(0x21b)]==_0x244588[_0x1a7dc4(0x21b)]&&_0x3997b2[_0x1a7dc4(0x1b5)]==0x0&&(_0x3997b2[_0x1a7dc4(0x1c0)]=_0x244588['cumulativeQuoteAssetTransactedQty']/_0x244588[_0x1a7dc4(0x1e1)],_0x3997b2[_0x1a7dc4(0x1b5)]=_0x244588[_0x1a7dc4(0x1e1)],_0x3997b2[_0x1a7dc4(0x1f7)]={'cost':_0x244588[_0x1a7dc4(0x17e)],'currency':_0x244588[_0x1a7dc4(0x19a)]},await validateOrders(),await updateCoinResults(_0x3997b2));});}}}async function getCoins(_0x20d165=![],_0x516cd6=!![],_0x4bdb97=config[_0x355576(0x1f0)]){const _0x5ac2c1=_0x355576;let _0x5c8970,_0x5b71fa=[],_0x5cb698=[],_0x9f0b18=[];try{_0x5c8970=await exchange[_0x5ac2c1(0x246)](),mybalances=_0x5c8970['total'];if(!_0x516cd6)for(const [_0x4fc15e,_0xf891d5]of Object[_0x5ac2c1(0x1b6)](mybalances)){_0x9f0b18[_0x5ac2c1(0x192)](_0x4fc15e);}else config[_0x5ac2c1(0x1e6)]['forEach'](_0x4ba450=>{const _0x568e4c=_0x5ac2c1;if(!_0x4ba450['excluded'])_0x9f0b18[_0x568e4c(0x192)](_0x4ba450['coin']);});if(_0x4bdb97=='')for(const [_0x4c7b9f,_0x5dffd2]of Object['entries'](mybalances)){_0x5dffd2['toString']()!=0x0&&_0x5cb698[_0x5ac2c1(0x192)]({'coin':_0x4c7b9f});}else{let _0x4f5f9f=![],_0x2b1d32;allOpenOrders=[];for(const [_0x3e7b79,_0xdf9b65]of Object[_0x5ac2c1(0x1b6)](mybalances)){if(_0x9f0b18['includes'](_0x3e7b79)){const _0x3ec5f4=config[_0x5ac2c1(0x1e6)]['find'](_0x233d19=>_0x233d19[_0x5ac2c1(0x293)]==_0x3e7b79),_0x26f340=_0x3e7b79+'/'+_0x4bdb97,_0x59417c=_0x4bdb97+'/'+_0x3e7b79;_0x4f5f9f=![];if((_0xdf9b65['toString']()!=0x0||_0x3ec5f4)&&(allSymbols['includes'](_0x26f340)||_0x3e7b79==_0x4bdb97))_0x3e7b79!=_0x4bdb97&&(_0x5b71fa['push'](_0x26f340),_0x20d165&&(_0x2b1d32=await exchange['fetchOpenOrders'](_0x26f340),_0x2b1d32[_0x5ac2c1(0x238)]>0x0&&(_0x4f5f9f=!![]))),_0x5cb698[_0x5ac2c1(0x192)]({'coin':_0x3e7b79,'symbol':_0x26f340,'reverse':![],'number':Math[_0x5ac2c1(0x28a)](_0xdf9b65+(_0x3ec5f4&&_0x3ec5f4[_0x5ac2c1(0x1e2)]||0x0),0x0),'order':_0x4f5f9f});else(_0xdf9b65[_0x5ac2c1(0x1d1)]()!=0x0||_0x3ec5f4)&&allSymbols[_0x5ac2c1(0x275)](_0x59417c)&&(_0x3e7b79!=_0x4bdb97&&(_0x5b71fa[_0x5ac2c1(0x192)](_0x59417c),_0x20d165&&(_0x2b1d32=await exchange[_0x5ac2c1(0x1a9)](_0x59417c),_0x2b1d32[_0x5ac2c1(0x238)]>0x0&&(_0x4f5f9f=!![]))),_0x5cb698['push']({'coin':_0x3e7b79,'symbol':_0x59417c,'reverse':!![],'number':Math[_0x5ac2c1(0x28a)](_0xdf9b65+(_0x3ec5f4&&_0x3ec5f4[_0x5ac2c1(0x1e2)]||0x0),0x0),'order':_0x4f5f9f}));}_0x4f5f9f&&allOpenOrders[_0x5ac2c1(0x192)](_0x2b1d32[0x0]);}_0x20d165&&allOpenOrders[_0x5ac2c1(0x238)]==0x0&&allOrdersPlaced&&(lockOrders&&(await sleep(0x7d0),validateOrders(_0x5ac2c1(0x1ba))));}}catch(_0x481116){if(!_0x516cd6){if(_0x481116[_0x5ac2c1(0x1d1)]()[_0x5ac2c1(0x275)](_0x5ac2c1(0x2a4)))return logHistory(_0x5ac2c1(0x19e),_0x5ac2c1(0x1ca)),![];else{if(_0x481116[_0x5ac2c1(0x1d1)]()[_0x5ac2c1(0x275)](_0x5ac2c1(0x288)))return logHistory(_0x5ac2c1(0x19e),_0x5ac2c1(0x29c)),![];else{if(_0x481116['toString']()[_0x5ac2c1(0x275)](_0x5ac2c1(0x1d4)))return logHistory('error','Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x481116,_0x5ac2c1(0x186));}}}else await handleError(_0x481116,_0x5ac2c1(0x186));}return _0x5cb698;}async function getPortfolio(_0x4d1fa7){const _0x2bff5d=_0x355576;let _0x154bc5=[],_0x1bb1bf=[],_0xd005a8,_0x3269b1=[],_0x40adda,_0x49438e;_0x4d1fa7[_0x2bff5d(0x24f)]===_0x2bff5d(0x1a0)||_0x4d1fa7['apiSecret']==='************'?(_0x40adda=config[_0x2bff5d(0x24f)],_0x49438e=config[_0x2bff5d(0x1e7)]):(_0x40adda=_0x4d1fa7[_0x2bff5d(0x24f)],_0x49438e=_0x4d1fa7[_0x2bff5d(0x1e7)]);await initExchange(_0x40adda,_0x49438e);let _0x980597=await loadSymbols();if(_0x980597){_0x3269b1=await getCoins(![],![],_0x4d1fa7['basecoin']);if(_0x3269b1===![])proxyEmit(_0x2bff5d(0x1e6),![]);else{if(_0x4d1fa7['basecoin']=='')proxyEmit(_0x2bff5d(0x1e6),_0x3269b1);else{_0x3269b1[_0x2bff5d(0x19c)](_0x4a2b39=>{const _0x40fdc6=_0x2bff5d;if(_0x4a2b39[_0x40fdc6(0x293)]!=_0x4d1fa7['basecoin'])_0x154bc5['push'](_0x4a2b39[_0x40fdc6(0x182)]);});try{_0x1bb1bf=await exchange[_0x2bff5d(0x19d)](_0x154bc5);}catch(_0x5608f4){await handleError(_0x5608f4,_0x2bff5d(0x230));}_0x3269b1[_0x2bff5d(0x19c)](_0x57bb58=>{const _0x1ab019=_0x2bff5d;_0x57bb58[_0x1ab019(0x293)]!=_0x4d1fa7[_0x1ab019(0x1f0)]?_0xd005a8=_0x57bb58[_0x1ab019(0x1ea)]?0x1/_0x1bb1bf[_0x57bb58[_0x1ab019(0x182)]][_0x1ab019(0x20b)]:_0x1bb1bf[_0x57bb58['symbol']][_0x1ab019(0x20b)]:_0xd005a8=0x1,_0x57bb58['price']=formatResult(_0xd005a8,0x8);}),proxyEmit('portfolio',_0x3269b1);}}}else proxyEmit(_0x2bff5d(0x1e6),![]);}function checkMinimums(_0x37a746){const _0x5de0a4=_0x355576;let _0x3e4cd3=!![];const _0x32914b=!_0x37a746['reverse']?markets[_0x37a746[_0x5de0a4(0x182)]]['limits'][_0x5de0a4(0x180)]['min']:markets[_0x37a746[_0x5de0a4(0x182)]][_0x5de0a4(0x28b)][_0x5de0a4(0x1db)][_0x5de0a4(0x1a6)],_0xb3a3c3=!_0x37a746[_0x5de0a4(0x1ea)]?markets[_0x37a746[_0x5de0a4(0x182)]][_0x5de0a4(0x28b)][_0x5de0a4(0x1db)][_0x5de0a4(0x1a6)]:markets[_0x37a746[_0x5de0a4(0x182)]][_0x5de0a4(0x28b)][_0x5de0a4(0x180)][_0x5de0a4(0x1a6)],_0x44b6ad=markets[_0x37a746['symbol']][_0x5de0a4(0x207)]['amount'];_0x37a746[_0x5de0a4(0x24a)]=formatResultTruncate(_0x37a746[_0x5de0a4(0x24a)],_0x44b6ad);if(Math['abs'](_0x37a746[_0x5de0a4(0x24a)])<_0x32914b)_0x3e4cd3=![];if(Math[_0x5de0a4(0x227)](_0x37a746[_0x5de0a4(0x24a)])*_0x37a746[_0x5de0a4(0x20b)]<_0xb3a3c3)_0x3e4cd3=![];if(_0x37a746[_0x5de0a4(0x28c)]==_0x5de0a4(0x1de)){let _0x4b13fa=config[_0x5de0a4(0x1e6)]['find'](_0x2b044a=>_0x2b044a['coin']==_0x37a746['coin']);if(_0x4b13fa[_0x5de0a4(0x1e2)]>0x0){if(Math[_0x5de0a4(0x227)](_0x37a746[_0x5de0a4(0x24a)])>_0x37a746[_0x5de0a4(0x1bb)]-_0x4b13fa[_0x5de0a4(0x1e2)])_0x3e4cd3=![];}else{if(Math[_0x5de0a4(0x227)](_0x37a746[_0x5de0a4(0x24a)])>_0x37a746[_0x5de0a4(0x1bb)])_0x3e4cd3=![];}}if(_0x37a746[_0x5de0a4(0x28c)]==_0x5de0a4(0x27a)){let _0x11a581=config[_0x5de0a4(0x1e6)]['find'](_0x364a3e=>_0x364a3e['coin']==config[_0x5de0a4(0x1f0)]),_0x3dded1=currentCoins[_0x5de0a4(0x1d0)](_0x25c18c=>_0x25c18c['coin']==config[_0x5de0a4(0x1f0)]);if(_0x11a581['offset']>0x0){if(Math[_0x5de0a4(0x227)](_0x37a746[_0x5de0a4(0x24a)])*_0x37a746[_0x5de0a4(0x20b)]>_0x3dded1['number']-_0x11a581['offset'])_0x3e4cd3=![];}else{if(Math[_0x5de0a4(0x227)](_0x37a746['trade'])*_0x37a746[_0x5de0a4(0x20b)]>_0x3dded1[_0x5de0a4(0x1bb)])_0x3e4cd3=![];}}return _0x3e4cd3;}async function getBalances(){const _0xdb5198=_0x355576;let _0x479ea5=0x0,_0x4f3deb;const _0x4becc6=config[_0xdb5198(0x1a1)];if(config['headless']&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0xdb5198(0x19c)](_0x4316af=>{const _0x44b4d5=_0xdb5198;if(_0x4316af[_0x44b4d5(0x293)]!=config[_0x44b4d5(0x1f0)]){let _0x5f4781=global[_0x44b4d5(0x1cf)][noslash(_0x4316af['symbol'])];_0x4f3deb=_0x4316af[_0x44b4d5(0x1ea)]?0x1/_0x5f4781:_0x5f4781;}else _0x4f3deb=0x1;let _0x13d27a=_0x4316af['number']*_0x4f3deb;_0x479ea5+=_0x13d27a,_0x4316af[_0x44b4d5(0x20b)]=formatResult(Number(_0x4f3deb),0x8),_0x4316af[_0x44b4d5(0x22c)]=_0x13d27a;}),currentCoins[_0xdb5198(0x19c)](_0x5a9658=>{const _0x4dd6ed=_0xdb5198;let _0x2b1de8=config[_0x4dd6ed(0x1e6)][_0x4dd6ed(0x1d0)](_0x3535bd=>_0x3535bd[_0x4dd6ed(0x293)]==_0x5a9658['coin']),_0x3ddc3=Number(_0x2b1de8[_0x4dd6ed(0x237)]),_0x2f21b5=_0x5a9658[_0x4dd6ed(0x22c)]/_0x479ea5*0x64,_0x228cac=_0x3ddc3*_0x479ea5/0x64/_0x5a9658[_0x4dd6ed(0x20b)]-_0x5a9658[_0x4dd6ed(0x1bb)];_0x5a9658[_0x4dd6ed(0x237)]=formatResult(_0x2f21b5,0x3),_0x5a9658['target']=formatResult(_0x3ddc3,0x3),_0x5a9658[_0x4dd6ed(0x24a)]=formatResult(_0x228cac,0x8),_0x5a9658[_0x4dd6ed(0x28c)]='',_0x5a9658[_0x4dd6ed(0x252)]=![];if(_0x5a9658[_0x4dd6ed(0x293)]!=config[_0x4dd6ed(0x1f0)]){if(_0x5a9658[_0x4dd6ed(0x237)]>_0x3ddc3)_0x5a9658[_0x4dd6ed(0x28c)]=_0x4dd6ed(0x1de),_0x5a9658[_0x4dd6ed(0x252)]=checkMinimums(_0x5a9658);else _0x5a9658['distribution']<_0x3ddc3&&(_0x5a9658[_0x4dd6ed(0x28c)]=_0x4dd6ed(0x27a),_0x5a9658['valid']=checkMinimums(_0x5a9658));}_0x5a9658['delta']=_0x5a9658[_0x4dd6ed(0x237)]/_0x5a9658['target']-0x1;}),currentCoins['sort']((_0x3cc2bd,_0x17f318)=>_0x3cc2bd[_0xdb5198(0x19f)]<_0x17f318[_0xdb5198(0x19f)]?0x1:_0x17f318[_0xdb5198(0x19f)]<_0x3cc2bd[_0xdb5198(0x19f)]?-0x1:0x0);const _0x448634=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x448634[_0xdb5198(0x193)],'usd':_0x448634[_0xdb5198(0x21e)],'portfolio':JSON[_0xdb5198(0x1dc)](currentCoins),'threshold':_0x4becc6},proxyEmit(_0xdb5198(0x1cd),{'serverversion':serverversion,'balances':lastBalances});if(config[_0xdb5198(0x220)])headlessMode({'portfolio':currentCoins,'threshold':_0x4becc6});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x4becc6});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x17fcd8=_0x355576;if(!lastBalances)return;let _0x35cbdd=[],_0x3d6fa8,_0x3ab521=JSON[_0x17fcd8(0x29b)](lastBalances[_0x17fcd8(0x1e6)]);_0x3ab521[_0x17fcd8(0x251)]((_0x2921ab,_0x42617f)=>_0x2921ab[_0x17fcd8(0x293)]>_0x42617f[_0x17fcd8(0x293)]?0x1:_0x42617f[_0x17fcd8(0x293)]>_0x2921ab[_0x17fcd8(0x293)]?-0x1:0x0),_0x3ab521[_0x17fcd8(0x19c)](_0x25b533=>{const _0x2805a2=_0x17fcd8;let _0x2b5f12={'coin':_0x25b533[_0x2805a2(0x293)],'number':_0x25b533['number'],'price':_0x25b533[_0x2805a2(0x20b)]};_0x35cbdd[_0x2805a2(0x192)](_0x2b5f12);});const _0x395c57=await getFiat();_0x3d6fa8={'date':lastBalances[_0x17fcd8(0x1b1)]['split']('\x20')[0x0],'eur':_0x395c57[_0x17fcd8(0x193)],'usd':_0x395c57[_0x17fcd8(0x21e)],'coins':_0x35cbdd};let _0x41b827=dbPerformance[_0x17fcd8(0x196)](_0x17fcd8(0x298))[_0x17fcd8(0x1d0)]({'date':_0x3d6fa8[_0x17fcd8(0x1ce)]})['value']();_0x41b827?_0x3d6fa8['date']!=config[_0x17fcd8(0x173)]&&dbPerformance['get'](_0x17fcd8(0x298))[_0x17fcd8(0x1d0)]({'date':_0x3d6fa8[_0x17fcd8(0x1ce)]})['assign'](_0x3d6fa8)['write']():dbPerformance[_0x17fcd8(0x196)](_0x17fcd8(0x298))[_0x17fcd8(0x192)](_0x3d6fa8)[_0x17fcd8(0x23e)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x43ee24=_0x355576;let _0x2ea596=[];if(dbPerformance[_0x43ee24(0x224)](_0x43ee24(0x298))[_0x43ee24(0x22c)]()){let _0x29f723=dbPerformance[_0x43ee24(0x196)](_0x43ee24(0x298))[_0x43ee24(0x23d)]()['sortBy'](_0x43ee24(0x1ce))[_0x43ee24(0x22c)](),_0x2a4105=[...config[_0x43ee24(0x258)]];_0x2a4105[_0x43ee24(0x251)]((_0x492db,_0x1638f0)=>_0x492db[_0x43ee24(0x1ce)]>_0x1638f0['date']?-0x1:_0x1638f0[_0x43ee24(0x1ce)]>_0x492db[_0x43ee24(0x1ce)]?0x1:0x0);let _0x23dffc=0x1,_0x3505ee=[],_0xf4c751=0x0;_0x29f723[_0x43ee24(0x295)]()[_0x43ee24(0x1ea)]()['forEach']((_0x4cc4c0,_0x248fe6)=>{const _0x2827bb=_0x43ee24;if(_0x2a4105[_0xf4c751]){if(_0x29f723[_0x29f723[_0x2827bb(0x238)]-_0x248fe6]&&_0x2a4105[_0xf4c751]['date']==_0x29f723[_0x29f723[_0x2827bb(0x238)]-_0x248fe6]['date']){if(_0x248fe6<_0x29f723['length']){let _0x2f7f88=0x0,_0xe0d5cb=0x0;_0x29f723[_0x29f723['length']-_0x248fe6][_0x2827bb(0x26d)]['forEach'](_0x618467=>{const _0x59e6e5=_0x2827bb;_0xe0d5cb+=_0x618467['number']*_0x618467[_0x59e6e5(0x1c0)];}),_0x2a4105[_0xf4c751][_0x2827bb(0x255)][_0x2827bb(0x19c)](_0x35dac6=>{const _0x251c54=_0x2827bb;_0x2f7f88+=_0x35dac6['number']*_0x35dac6[_0x251c54(0x1c0)];}),_0x23dffc*=_0x2f7f88/(_0xe0d5cb-_0x2f7f88)+0x1;}_0xf4c751++;}}let _0x28fac1=0x0;_0x4cc4c0['coins'][_0x2827bb(0x19c)](_0x5bdc31=>{const _0x2af70e=_0x2827bb;_0x28fac1+=_0x5bdc31[_0x2af70e(0x1bb)]*_0x5bdc31[_0x2af70e(0x1c0)];}),_0x3505ee[_0x29f723[_0x2827bb(0x238)]-_0x248fe6-0x1]=_0x28fac1*(_0x23dffc-0x1);});let _0x50e098=[];_0x2a4105=[...config['liquidity']]||[];let _0x2548d1=0x0;_0xf4c751=0x0,_0x29f723[_0x43ee24(0x19c)]((_0xc2be67,_0x53de8e)=>{const _0xd2a032=_0x43ee24;if(_0x2a4105[_0xf4c751]){const _0x4f29bd=fns[_0xd2a032(0x29b)](_0x2a4105[_0xf4c751]['date'],_0xd2a032(0x266),new Date()),_0x82de60=fns[_0xd2a032(0x29b)](_0xc2be67['date'],_0xd2a032(0x266),new Date());if(fns['isEqual'](_0x4f29bd,_0x82de60)){let _0x24376e=0x0;_0x2a4105[_0xf4c751][_0xd2a032(0x255)][_0xd2a032(0x19c)](_0x23e3e1=>{const _0x566d01=_0xd2a032;!_0x50e098[_0x23e3e1['coin']]?_0x50e098[_0x23e3e1[_0x566d01(0x293)]]=_0x23e3e1[_0x566d01(0x1bb)]:(_0x24376e=_0x50e098[_0x23e3e1['coin']],_0x50e098[_0x23e3e1[_0x566d01(0x293)]]+=_0x23e3e1[_0x566d01(0x1bb)]);const _0x16e7a6=_0xc2be67[_0x566d01(0x26d)][_0x566d01(0x1d0)](_0x471385=>_0x471385['coin']==_0x23e3e1[_0x566d01(0x293)]);(!_0x16e7a6||_0x16e7a6[_0x566d01(0x1bb)]==0x0)&&(_0x2548d1+=(-_0x23e3e1['number']-_0x24376e)*_0x23e3e1[_0x566d01(0x1c0)]);}),_0xf4c751++;}}_0xc2be67[_0xd2a032(0x26d)][_0xd2a032(0x19c)]((_0x31c532,_0xf1f580)=>{const _0x44d22b=_0xd2a032;_0x50e098[_0x31c532[_0x44d22b(0x293)]]&&(_0x31c532={..._0x31c532,'initial':_0x50e098[_0x31c532[_0x44d22b(0x293)]]}),_0xc2be67[_0x44d22b(0x26d)][_0xf1f580]=_0x31c532;}),_0x2ea596['push']({'date':_0xc2be67[_0xd2a032(0x1ce)],'eur':_0xc2be67[_0xd2a032(0x193)],'usd':_0xc2be67['usd'],'offset':_0x3505ee[_0x53de8e],'netoffset':_0x2548d1,'coins':_0xc2be67[_0xd2a032(0x26d)]});});}return _0x2ea596;}function emitPerformance(_0x53e732){const _0x54ea51=_0x355576;_0x53e732[_0x54ea51(0x238)]!==0x0?(proxyEmit('performance',_0x53e732),lastPerformanceEmitted=getDate()):proxyEmit(_0x54ea51(0x1e3),[]);}function getPerf(_0x2365fe,_0x354453){const _0x54f0d6=_0x355576;let _0x282bb1=0x0,_0x360733=0x0,_0x49be94=0x0;_0x2365fe['coins'][_0x54f0d6(0x19c)](_0x4de1f0=>{const _0x400c1d=_0x54f0d6;_0x282bb1+=_0x4de1f0[_0x400c1d(0x1bb)]*_0x4de1f0['price'];});_0x354453&&(_0x282bb1+=_0x2365fe[_0x54f0d6(0x1e2)]);if(config[_0x54f0d6(0x1f0)]===_0x54f0d6(0x28f)||config[_0x54f0d6(0x1f0)]===_0x54f0d6(0x218))_0x360733=_0x282bb1*_0x2365fe[_0x54f0d6(0x193)],_0x49be94=_0x282bb1*_0x2365fe[_0x54f0d6(0x21e)];else{if(config['basecoin']===_0x54f0d6(0x1f4)||config[_0x54f0d6(0x1f0)]===_0x54f0d6(0x254))_0x360733=_0x282bb1*_0x2365fe[_0x54f0d6(0x193)]/_0x2365fe[_0x54f0d6(0x21e)],_0x49be94=_0x282bb1;else config[_0x54f0d6(0x1f0)]===_0x54f0d6(0x21f)&&(_0x360733=_0x282bb1,_0x49be94=_0x282bb1*_0x2365fe[_0x54f0d6(0x21e)]/_0x2365fe[_0x54f0d6(0x193)]);}return[_0x282bb1,_0x360733,_0x49be94];}async function getStartingBalances(_0x170e7c,_0x210cc1=!![]){const _0x364eab=_0x355576;if(_0x170e7c['length']!==0x0){const [_0x2ac7c5,_0x34f6ab,_0x5b5ca2]=getPerf(_0x170e7c[0x0],!![]);let _0x11de29=[];config[_0x364eab(0x1e6)][_0x364eab(0x19c)](_0x4a91f4=>{const _0x5af300=_0x364eab;let _0x1ebfa6=0x0,_0x32d0ee;config[_0x5af300(0x258)][_0x5af300(0x19c)](_0x2891c5=>{const _0x964946=_0x5af300;let _0x2df59b=_0x2891c5[_0x964946(0x255)]['find'](_0x2db51c=>_0x2db51c['coin']==_0x4a91f4[_0x964946(0x293)]);if(_0x2df59b){_0x1ebfa6+=_0x2df59b[_0x964946(0x1bb)];if(!_0x32d0ee)_0x32d0ee=_0x2df59b['price'];}}),_0x11de29[_0x5af300(0x192)]({'coin':_0x4a91f4[_0x5af300(0x293)],'number':_0x1ebfa6,'initialprice':_0x32d0ee});});const _0x21b96c={'basecoin':_0x2ac7c5,'eur':_0x34f6ab,'usd':_0x5b5ca2,'coins':_0x11de29};if(_0x210cc1)proxyEmit('starting-balances',_0x21b96c);return _0x21b96c;}}function headlessMode(_0x25476a){const _0x530b43=_0x355576;let _0x46348d=_0x25476a['portfolio'],_0x2dbc62=_0x25476a[_0x530b43(0x1a1)],_0x5c8ce5=[];for(let _0x3c152b of _0x46348d){if(_0x3c152b[_0x530b43(0x293)]!=config['basecoin']){if(_0x3c152b[_0x530b43(0x19f)]>=_0x2dbc62/0x64){if(_0x3c152b[_0x530b43(0x252)])_0x5c8ce5['push'](_0x3c152b);}else{if(_0x3c152b['delta']<=-_0x2dbc62/0x64){if(_0x3c152b[_0x530b43(0x252)])_0x5c8ce5[_0x530b43(0x192)](_0x3c152b);}}}}_0x5c8ce5[_0x530b43(0x238)]>0x0&&(allOrdersPlaced=![],placeOrder(_0x5c8ce5));}function notifyBalance(_0x4abe65){const _0x59e18d=_0x355576;let _0x13d158=_0x4abe65[_0x59e18d(0x1e6)],_0x14320c=_0x4abe65[_0x59e18d(0x1a1)],_0x3d6b57=[];for(let _0x3883f8 of _0x13d158){if(_0x3883f8[_0x59e18d(0x293)]!=config['basecoin']){if(_0x3883f8[_0x59e18d(0x19f)]>=_0x14320c/0x64){if(_0x3883f8[_0x59e18d(0x252)])_0x3d6b57['push'](_0x3883f8);}else{if(_0x3883f8[_0x59e18d(0x19f)]<=-_0x14320c/0x64){if(_0x3883f8[_0x59e18d(0x252)])_0x3d6b57['push'](_0x3883f8);}}}}if(_0x3d6b57[_0x59e18d(0x238)]>0x0){let _0x286feb=_0x3d6b57[_0x59e18d(0x1cb)](_0x90c95f=>_0x90c95f[_0x59e18d(0x293)]);_0x286feb[_0x59e18d(0x251)]();let _0x53e187=_0x286feb[_0x59e18d(0x29d)](',\x20');if(lastCoinsToBalance!==_0x53e187)logHistory(_0x59e18d(0x25f),_0x59e18d(0x1f8)+_0x53e187);lastCoinsToBalance=_0x53e187;}}function symbolToCoin(_0x4b6de7){const _0xc63abf=_0x355576;let _0xb92176;if(_0x4b6de7[_0xc63abf(0x275)]('/'+config[_0xc63abf(0x1f0)]))_0xb92176=_0x4b6de7['replace']('/'+config['basecoin'],'');if(_0x4b6de7['includes'](config['basecoin']+'/'))_0xb92176=_0x4b6de7['replace'](config[_0xc63abf(0x1f0)]+'/','');return _0xb92176;}async function unlockOrders(){const _0x3ab8ce=_0x355576;currentCoins=await getCoins(),validateOrdersState=_0x3ab8ce(0x1b0);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);lockOrders=![];}async function validateOrders(_0x307a36){const _0x17ca8f=_0x355576;if(_0x307a36)validateOrdersState=_0x307a36;let _0x19e1b3=[],_0x4d2a84=config[_0x17ca8f(0x190)]==_0x17ca8f(0x223)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x17ca8f(0x171)]*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders[_0x17ca8f(0x19c)](_0x3829b2=>{const _0x438a19=_0x17ca8f;let _0x5bc61a=![];_0x3829b2['filled']>0x0&&(_0x5bc61a=!![]),_0x19e1b3[_0x438a19(0x192)](_0x5bc61a),_0x5bc61a&&config[_0x438a19(0x190)]!=_0x438a19(0x223)&&logHistory(_0x438a19(0x27d),_0x438a19(0x248)+_0x3829b2[_0x438a19(0x182)]+'\x20'+_0x3829b2['side']+'\x20#'+formatResult(_0x3829b2[_0x438a19(0x1b5)],0x8)+'\x20@'+formatResult(_0x3829b2[_0x438a19(0x1c0)],0x8));}),_0x19e1b3[_0x17ca8f(0x19c)]((_0x52be7a,_0x8947b1)=>{if(_0x52be7a)lastOrders['splice'](_0x8947b1,0x1);});const _0x478aa4=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x17ca8f(0x17b);if(validateOrdersState=='initial')validateOrdersState=_0x17ca8f(0x23c),_0x19e1b3[_0x17ca8f(0x275)](![])?config[_0x17ca8f(0x190)]==_0x17ca8f(0x223)?logHistory(_0x17ca8f(0x19e),_0x17ca8f(0x184)):logHistory(_0x17ca8f(0x19e),_0x17ca8f(0x273)):await unlockOrders();else{if(validateOrdersState==_0x17ca8f(0x23c)){if(_0x19e1b3[_0x17ca8f(0x275)](![])){}else config[_0x17ca8f(0x190)]==_0x17ca8f(0x223)?logHistory(_0x17ca8f(0x25f),_0x17ca8f(0x211)+_0x478aa4):logHistory(_0x17ca8f(0x25f),_0x17ca8f(0x2a2)+_0x478aa4),await unlockOrders();}else{if(validateOrdersState==_0x17ca8f(0x1fa))_0x19e1b3[_0x17ca8f(0x275)](![])?config[_0x17ca8f(0x190)]==_0x17ca8f(0x223)?logHistory(_0x17ca8f(0x25f),_0x17ca8f(0x208)+Math['round'](_0x4d2a84*validateOrderInterval/0xea60)+_0x17ca8f(0x249)+_0x478aa4):(await cancelOrders(),logHistory(_0x17ca8f(0x25f),_0x17ca8f(0x21a)+Math[_0x17ca8f(0x294)](_0x4d2a84*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x478aa4)):logHistory(_0x17ca8f(0x25f),_0x17ca8f(0x1c6)+_0x478aa4),await unlockOrders();else{if(validateOrdersState==_0x17ca8f(0x1ba)){if(config[_0x17ca8f(0x190)]!='market')logHistory('success',_0x17ca8f(0x1c6)+_0x478aa4);await unlockOrders();}}}}}async function cancelOrders(){const _0x2d786f=_0x355576;lastOrders[_0x2d786f(0x19c)](async _0x173f9a=>{const _0x2105db=_0x2d786f;try{const _0x1a541f=await exchange[_0x2105db(0x29f)](_0x173f9a['orderId'],_0x173f9a['symbol']);}catch(_0x1d02ab){if(_0x1d02ab[_0x2105db(0x1d1)]()[_0x2105db(0x275)](_0x2105db(0x1f1))){}else await handleError(_0x1d02ab,_0x2105db(0x198));}});}async function initCoinResults(){const _0x564caa=_0x355576;let _0x3da19e=[];config['portfolio'][_0x564caa(0x19c)](_0x1f6d57=>{const _0x3937af=_0x564caa;if(!_0x1f6d57[_0x3937af(0x1ae)]&&_0x1f6d57[_0x3937af(0x293)]!=config[_0x3937af(0x1f0)]){let _0x4837ee=dbCoinResults['get'](_0x3937af(0x26d))[_0x3937af(0x1d0)]({'coin':_0x1f6d57[_0x3937af(0x293)]})[_0x3937af(0x22c)]();if(!_0x4837ee){const _0x4c039e=currentCoins[_0x3937af(0x1d0)](_0x3c27d9=>_0x3c27d9[_0x3937af(0x293)]==_0x1f6d57['coin']),_0x4c8a11=global[_0x3937af(0x1cf)][noslash(_0x1f6d57[_0x3937af(0x182)])];let _0x2a780f=_0x4c039e?_0x4c039e[_0x3937af(0x1bb)]:null,_0x53e5b3=_0x1f6d57[_0x3937af(0x1ea)]?0x1/_0x4c8a11:_0x4c8a11,_0xcdd7a5;config['liquidity'][_0x3937af(0x19c)](_0x216c0e=>{const _0x56603e=_0x3937af;!_0xcdd7a5&&(_0xcdd7a5=_0x216c0e['changes'][_0x56603e(0x1d0)](_0x37b8d1=>_0x37b8d1['coin']==_0x1f6d57[_0x56603e(0x293)]),_0xcdd7a5&&(_0x2a780f=_0xcdd7a5['number'],_0x53e5b3=_0xcdd7a5[_0x56603e(0x1c0)]));}),_0x3da19e['push']({'coin':_0x1f6d57[_0x3937af(0x293)],'number':_0x2a780f,'price':_0x53e5b3});}}}),_0x3da19e['forEach'](_0x1d4690=>{const _0x5eb493=_0x564caa,_0x17e5f5={'coin':_0x1d4690['coin'],'number':_0x1d4690[_0x5eb493(0x1bb)],'breakeven':_0x1d4690[_0x5eb493(0x1c0)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5eb493(0x196)](_0x5eb493(0x26d))[_0x5eb493(0x192)](_0x17e5f5)[_0x5eb493(0x23e)]();});}async function updateCoinResults(_0x21d6b1,_0x4226a0=![]){const _0x4caea7=_0x355576;let _0x2c789a,_0x30e8d6,_0x1d2711,_0x13a63c,_0x12f512,_0x3ad9f1,_0x409278=dbCoinResults[_0x4caea7(0x196)](_0x4caea7(0x26d))['find']({'coin':_0x21d6b1[_0x4caea7(0x293)]})['value']();!_0x409278&&await initCoinResults();_0x21d6b1[_0x4caea7(0x1ea)]&&(_0x3ad9f1={'filled':_0x21d6b1[_0x4caea7(0x1b5)]*_0x21d6b1[_0x4caea7(0x1c0)],'amount':_0x21d6b1[_0x4caea7(0x1b5)]*_0x21d6b1[_0x4caea7(0x1c0)],'side':_0x21d6b1[_0x4caea7(0x28c)]==_0x4caea7(0x1de)?_0x4caea7(0x27a):'sell','price':0x1/_0x21d6b1[_0x4caea7(0x1c0)]},_0x21d6b1={..._0x21d6b1,..._0x3ad9f1});if(_0x4226a0)_0x30e8d6=_0x21d6b1[_0x4caea7(0x28c)]==_0x4caea7(0x27a)?_0x409278[_0x4caea7(0x1bb)]+_0x21d6b1[_0x4caea7(0x1b5)]:_0x409278[_0x4caea7(0x1bb)]-_0x21d6b1[_0x4caea7(0x1b5)];else{const _0x214703=currentCoins[_0x4caea7(0x1d0)](_0x10a98d=>_0x10a98d[_0x4caea7(0x293)]==_0x21d6b1[_0x4caea7(0x293)]);_0x30e8d6=_0x214703[_0x4caea7(0x1bb)];}if(_0x21d6b1['fee']&&_0x21d6b1[_0x4caea7(0x1f7)][_0x4caea7(0x1a4)]==config[_0x4caea7(0x1f0)])_0x2c789a=_0x21d6b1[_0x4caea7(0x1f7)][_0x4caea7(0x1db)];else{if(_0x21d6b1[_0x4caea7(0x1f7)]&&_0x21d6b1['fee'][_0x4caea7(0x1a4)]=='BNB'&&!_0x4226a0)_0x2c789a=_0x21d6b1[_0x4caea7(0x1f7)][_0x4caea7(0x1db)]*global['ticker'][_0x4caea7(0x1ec)+config[_0x4caea7(0x1f0)]];else _0x2c789a=defaultFee*_0x21d6b1[_0x4caea7(0x1b5)]*_0x21d6b1[_0x4caea7(0x1c0)];}_0x21d6b1['side']=='buy'?(_0x1d2711=_0x30e8d6!=0x0?(_0x409278[_0x4caea7(0x188)]*_0x409278[_0x4caea7(0x1bb)]+_0x21d6b1['price']*(_0x30e8d6-_0x409278['number'])+_0x2c789a)/_0x30e8d6:0x0,_0x13a63c=_0x409278['realized']):(_0x1d2711=_0x30e8d6!=0x0?(_0x409278[_0x4caea7(0x188)]*_0x409278['number']-_0x21d6b1[_0x4caea7(0x1c0)]*(_0x409278[_0x4caea7(0x1bb)]-_0x30e8d6)+_0x2c789a)/_0x30e8d6:0x0,_0x13a63c=_0x409278[_0x4caea7(0x219)]+(_0x21d6b1['price']-_0x409278[_0x4caea7(0x188)])*_0x21d6b1['filled']);_0x12f512=(_0x21d6b1[_0x4caea7(0x1c0)]-_0x1d2711-_0x2c789a/_0x21d6b1[_0x4caea7(0x1b5)])*_0x30e8d6;let _0x46d9d3={'coin':_0x21d6b1[_0x4caea7(0x293)],'number':_0x30e8d6,'breakeven':formatResult(_0x1d2711,0x8),'realized':formatResult(_0x13a63c,0x8),'unrealized':formatResult(_0x12f512,0x8),'fees':formatResult(_0x409278[_0x4caea7(0x241)]+_0x2c789a,0x8),'sells':_0x21d6b1[_0x4caea7(0x28c)]==_0x4caea7(0x1de)?_0x409278[_0x4caea7(0x1fd)]+0x1:_0x409278[_0x4caea7(0x1fd)],'buys':_0x21d6b1[_0x4caea7(0x28c)]==_0x4caea7(0x27a)?_0x409278[_0x4caea7(0x20c)]+0x1:_0x409278['buys']};dbCoinResults[_0x4caea7(0x196)](_0x4caea7(0x26d))['find']({'coin':_0x21d6b1[_0x4caea7(0x293)]})[_0x4caea7(0x25e)](_0x46d9d3)[_0x4caea7(0x23e)]();if(!_0x4226a0){if(_0x21d6b1[_0x4caea7(0x1f7)]&&_0x21d6b1[_0x4caea7(0x1f7)][_0x4caea7(0x1a4)]==_0x4caea7(0x1ec)){const _0x5298d0=currentCoins['find'](_0xb26486=>_0xb26486[_0x4caea7(0x293)]==_0x4caea7(0x1ec));if(_0x5298d0){let _0x5885ca=dbCoinResults['get'](_0x4caea7(0x26d))['find']({'coin':_0x4caea7(0x1ec)})[_0x4caea7(0x22c)]();_0x46d9d3={..._0x5885ca,'number':_0x5298d0[_0x4caea7(0x1bb)]},dbCoinResults[_0x4caea7(0x196)](_0x4caea7(0x26d))[_0x4caea7(0x1d0)]({'coin':_0x4caea7(0x1ec)})[_0x4caea7(0x25e)](_0x46d9d3)[_0x4caea7(0x23e)]();}}}}async function placeOrder(_0x13799d){const _0x3454d3=_0x355576,_0x411cfb=config[_0x3454d3(0x190)]=='market'?_0x3454d3(0x223):_0x3454d3(0x277);if(!lockOrders&&!coolingDown){lastOrders=[];for(const _0x5d162d of _0x13799d){let _0x11732e,_0x18eb67,_0x277e71,_0x25b97b,_0x232f01,_0x5bce82=_0x5d162d[_0x3454d3(0x182)];try{const _0x19ea74=await exchange[_0x3454d3(0x19d)]([_0x5bce82]),_0x5ae0d0=_0x19ea74[_0x5bce82];_0x11732e=_0x5d162d[_0x3454d3(0x1ea)]?0x1/_0x5d162d[_0x3454d3(0x20b)]:_0x5d162d[_0x3454d3(0x20b)],_0x18eb67=_0x5ae0d0[_0x3454d3(0x170)],_0x277e71=_0x5ae0d0['ask'];_0x5d162d[_0x3454d3(0x1ea)]?(_0x25b97b=_0x5d162d[_0x3454d3(0x28c)]=='buy'?'sell':_0x3454d3(0x27a),_0x232f01=Math[_0x3454d3(0x227)](_0x5d162d['trade'])/_0x11732e):(_0x25b97b=_0x5d162d[_0x3454d3(0x28c)],_0x232f01=Math[_0x3454d3(0x227)](_0x5d162d[_0x3454d3(0x24a)]));_0x411cfb==_0x3454d3(0x277)&&(config[_0x3454d3(0x190)]==_0x3454d3(0x1af)&&(_0x11732e=_0x25b97b==_0x3454d3(0x27a)?_0x18eb67:_0x277e71),config[_0x3454d3(0x190)]=='limit-low'&&(_0x11732e=_0x25b97b=='buy'?_0x277e71:_0x18eb67));_0x232f01=formatResult(_0x232f01,0x8),_0x11732e=formatResult(_0x11732e,0x8);const _0x5d0201=await exchange[_0x3454d3(0x204)](_0x5bce82,_0x411cfb,_0x25b97b,_0x232f01,_0x11732e);lastOrders[_0x3454d3(0x192)]({'orderId':_0x5d0201['id'],'symbol':_0x5bce82,'coin':_0x5d162d[_0x3454d3(0x293)],'side':_0x25b97b,'reverse':_0x5d162d['reverse'],'amount':_0x5d0201[_0x3454d3(0x180)],'filled':0x0,'price':_0x5d0201['price'],'fee':_0x5d0201[_0x3454d3(0x1f7)]});const _0x3b19a9=_0x25b97b==_0x3454d3(0x1de)?config[_0x3454d3(0x231)]?String[_0x3454d3(0x28d)]('0x'+config[_0x3454d3(0x231)])+'\x20':'':config['emojibuy']?String[_0x3454d3(0x28d)]('0x'+config['emojibuy'])+'\x20':'',_0xb1f0be=_0x411cfb==_0x3454d3(0x223)?'Market':config['ordertype']==_0x3454d3(0x1af)?_0x3454d3(0x263):_0x3454d3(0x240);if(_0x411cfb==_0x3454d3(0x223))logHistory(_0x3454d3(0x27d),''+_0x3b19a9+_0xb1f0be+_0x3454d3(0x1eb)+_0x5bce82+'\x20'+_0x25b97b+'\x20#'+formatResult(_0x5d0201['filled'],0x8)+'\x20@'+formatResult(_0x5d0201[_0x3454d3(0x1c0)],0x8));else logHistory(_0x3454d3(0x27d),''+_0x3b19a9+_0xb1f0be+'\x20order:\x20'+_0x5bce82+'\x20'+_0x25b97b+'\x20#'+formatResult(_0x5d0201[_0x3454d3(0x180)],0x8)+'\x20@'+formatResult(_0x5d0201[_0x3454d3(0x1c0)],0x8));let _0x157ee=currentCoins[_0x3454d3(0x1d0)](_0x429a03=>_0x429a03[_0x3454d3(0x293)]==_0x5d162d['coin']);_0x157ee[_0x3454d3(0x27d)]=!![];if(config[_0x3454d3(0x2a3)]!=0x0){let _0x19fd1c=null;if(cooldownTracker[_0x3454d3(0x238)]==config[_0x3454d3(0x2a3)]-0x1)_0x19fd1c=cooldownTracker[_0x3454d3(0x191)]();const _0x483ec0=getTimeStamp();cooldownTracker[_0x3454d3(0x192)](_0x483ec0);if(_0x19fd1c){const _0x2ce44f=fns[_0x3454d3(0x267)](new Date(_0x483ec0),new Date(_0x19fd1c));if(_0x2ce44f<cooldownInterval){logHistory(_0x3454d3(0x19e),_0x3454d3(0x287)+config[_0x3454d3(0x2a3)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x3454d3(0x24e)),coolingDown=!![];break;}}}}catch(_0x32f30c){if(_0x32f30c[_0x3454d3(0x1d1)]()[_0x3454d3(0x275)]('MIN_NOTIONAL'))logHistory(_0x3454d3(0x19e),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x5bce82);else{if(_0x32f30c[_0x3454d3(0x1d1)]()['includes'](_0x3454d3(0x233)))logHistory(_0x3454d3(0x19e),_0x3454d3(0x1c8)+_0x5bce82);else await handleError(_0x32f30c,'placeOrder()',_0x5bce82);}}}allOrdersPlaced=!![];if(lastOrders['length']!=0x0){lockOrders=!![],validateOrdersState=_0x3454d3(0x1b0),setTimeout(function(){validateOrders();},0x1388);const _0x186534=config[_0x3454d3(0x190)]==_0x3454d3(0x223)?validateOrderTimeout*0x3c*0x3e8:config[_0x3454d3(0x171)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1fdd6a=_0x3454d3;validateOrders(_0x1fdd6a(0x1fa));},_0x186534);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x3454d3(0x25f),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x3454d3(0x220)]&&logHistory(_0x3454d3(0x19e),_0x3454d3(0x297));else lockOrders&&(!config['headless']&&(config[_0x3454d3(0x190)]==_0x3454d3(0x223)?logHistory(_0x3454d3(0x19e),_0x3454d3(0x269)):logHistory(_0x3454d3(0x19e),_0x3454d3(0x1fc))));}}function restoreOrders(){const _0x5d5283=_0x355576;let _0x543ce4;lockOrders=!![],validateOrdersState='ongoing',currentCoins[_0x5d5283(0x19c)](_0x30294a=>{const _0x17275f=_0x5d5283,_0x2e632c=allOpenOrders[_0x17275f(0x1d0)](_0xcb57df=>_0xcb57df[_0x17275f(0x182)]==_0x30294a[_0x17275f(0x182)]);_0x2e632c&&(lastOrders['push']({'orderId':_0x2e632c['id'],'symbol':_0x30294a[_0x17275f(0x182)],'coin':_0x30294a[_0x17275f(0x293)],'side':_0x2e632c[_0x17275f(0x28c)],'reverse':_0x30294a[_0x17275f(0x1ea)],'amount':_0x2e632c[_0x17275f(0x180)],'filled':0x0,'price':_0x2e632c[_0x17275f(0x1c0)],'fee':_0x2e632c[_0x17275f(0x1f7)]}),_0x30294a[_0x17275f(0x27d)]=!![],_0x543ce4=_0x2e632c[_0x17275f(0x23b)]);});const _0x1eec0d=new Date()[_0x5d5283(0x1c7)](),_0x5659a8=config[_0x5d5283(0x190)]==_0x5d5283(0x223)?validateOrderTimeout*0x3c*0x3e8:config[_0x5d5283(0x171)]*0x3c*0x3e8;if(_0x543ce4+_0x5659a8>_0x1eec0d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x50e5b4=_0x5d5283;validateOrders(_0x50e5b4(0x1fa));},_0x543ce4+_0x5659a8-_0x1eec0d);}else validateOrders('final');}function sendPortfolioTelegram(){const _0xcd6051=_0x355576,_0x4c5d2c=[_0xcd6051(0x21f),_0xcd6051(0x1f4),_0xcd6051(0x254)],_0x4fa35d=_0x4c5d2c[_0xcd6051(0x275)](config[_0xcd6051(0x1f0)])?0x2:0x8;let _0x1c4417='';if(config[_0xcd6051(0x203)])_0x1c4417=config[_0xcd6051(0x289)]+_0xcd6051(0x2a1);else _0x1c4417='Bot\x20'+botID+_0xcd6051(0x2a1);_0x1c4417+=_0xcd6051(0x1e0),_0x1c4417+=_0xcd6051(0x1f6),_0x1c4417+=_0xcd6051(0x1b7),currentCoins[_0xcd6051(0x19c)](_0x3def49=>{const _0x163af1=_0xcd6051;_0x1c4417+=_0x3def49[_0x163af1(0x293)]['padEnd'](0x7)+'|\x20'+formatPad(_0x3def49[_0x163af1(0x237)],0x2,0x6)+'|\x20'+formatPad(_0x3def49['target'],0x2,0x6)+'|\x20'+formatPad(_0x3def49[_0x163af1(0x19f)]*0x64,0x2,0x6)+'\x0a';}),_0x1c4417+='</pre>',process['send']({'telegrammsg':_0x1c4417},_0x12567a=>{});}function formatPad(_0x31d468,_0x4be509,_0x256ca4){const _0x5caa9c=_0x355576,_0x41de89=formatResultString(_0x31d468,_0x4be509);return _0x41de89?_0x41de89['padStart'](_0x256ca4):''[_0x5caa9c(0x1ff)](_0x256ca4);}function logHistory(_0x145c03,_0x1ede49,_0x374262=''){const _0x5313f2=_0x355576;let _0x483a5c={'time':getTimeStamp(),'type':_0x145c03,'event':_0x1ede49};dbLogs[_0x5313f2(0x196)](_0x5313f2(0x28e))[_0x5313f2(0x192)](_0x483a5c)[_0x5313f2(0x23e)]();if(_0x374262=='')_0x374262=_0x1ede49;proxyEmit('event',{'log':_0x483a5c,'summary':_0x374262}),process[_0x5313f2(0x187)]({'telegram':{..._0x483a5c,'botname':config[_0x5313f2(0x289)],'showname':config[_0x5313f2(0x203)]}},_0x5b9852=>{}),logging(''+_0x483a5c[_0x5313f2(0x26f)]);}function emitHistory(_0x3d02f3={}){const _0x4d4fe3=_0x355576;Object[_0x4d4fe3(0x1be)](_0x3d02f3)[_0x4d4fe3(0x238)]==0x0&&(_0x3d02f3={'type':[_0x4d4fe3(0x27d),_0x4d4fe3(0x26f)],'event':'','page':0x1});if(_0x3d02f3[_0x4d4fe3(0x1ac)][_0x4d4fe3(0x275)]('event'))_0x3d02f3[_0x4d4fe3(0x1ac)]['splice'](_0x3d02f3[_0x4d4fe3(0x1ac)]['indexOf']('event'),0x1,_0x4d4fe3(0x19e),_0x4d4fe3(0x25f));if(dbLogs[_0x4d4fe3(0x224)](_0x4d4fe3(0x28e))[_0x4d4fe3(0x22c)]()){let _0x53886c=dbLogs[_0x4d4fe3(0x196)]('logs')[_0x4d4fe3(0x194)](_0xd451bd=>{const _0x58ce6c=_0x4d4fe3;if(_0x3d02f3[_0x58ce6c(0x1ac)]['length']==0x0)return![];else return _0x3d02f3[_0x58ce6c(0x1ac)]['includes'](_0xd451bd[_0x58ce6c(0x1ac)]);})['filter'](_0x44b2e1=>{const _0x2b9531=_0x4d4fe3;if(_0x3d02f3[_0x2b9531(0x26f)]=='')return!![];else return _0x44b2e1[_0x2b9531(0x26f)][_0x2b9531(0x25d)]()['includes'](_0x3d02f3['event'][_0x2b9531(0x25d)]());})[_0x4d4fe3(0x27f)]('time'),_0x2830a9=_0x53886c[_0x4d4fe3(0x22c)]()[_0x4d4fe3(0x238)];_0x53886c=_0x53886c[_0x4d4fe3(0x1ea)]()['slice']((_0x3d02f3[_0x4d4fe3(0x1f5)]-0x1)*logPageSize,_0x3d02f3[_0x4d4fe3(0x1f5)]*logPageSize-0x1)[_0x4d4fe3(0x1ea)]()['value'](),proxyEmit('event-history',{'logs':_0x53886c,'total':_0x2830a9});}else proxyEmit(_0x4d4fe3(0x1c9),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2d3ef4){const _0x1d70b7=_0x355576;if(dbLogs[_0x1d70b7(0x224)](_0x1d70b7(0x28e))['value']()){const _0x3c636b=dbLogs[_0x1d70b7(0x196)]('logs')[_0x1d70b7(0x27f)]('time')[_0x1d70b7(0x194)](_0x32510=>{const _0x4bc8ef=_0x1d70b7;return _0x32510[_0x4bc8ef(0x1ac)]==_0x4bc8ef(0x27d);})['value']();dbLogs['get']('logs')[_0x1d70b7(0x21c)]()['write'](),dbLogs[_0x1d70b7(0x196)]('logs')[_0x1d70b7(0x25e)](_0x3c636b)[_0x1d70b7(0x23e)](),emitHistory(_0x2d3ef4);}}async function pauseBot(_0x5edbb2=''){const _0x3500cb=_0x355576,_0x1dc5af=new Date()[_0x3500cb(0x1c7)]();if(!lastBotPause)lastBotPause=new Date()[_0x3500cb(0x1c7)](),consecutivePauses=0x1;else{if(_0x1dc5af-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x3500cb(0x27e)},_0x440d28=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x3500cb(0x1c7)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x5edbb2)_0x5edbb2+='\x20|\x20';logHistory(_0x3500cb(0x19e),_0x5edbb2+_0x3500cb(0x1d9)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x3e13ea=_0x355576;process['send']({'stop':_0x3e13ea(0x226)},_0x493f36=>{}),await sleep(0x7d0);}async function handleError(_0xf628e8,_0x36ef86,_0x5ec6c5=''){const _0x147c66=_0x355576;if(_0xf628e8[_0x147c66(0x1d1)]()[_0x147c66(0x275)](_0x147c66(0x20a)))await pauseBot(_0x147c66(0x29e));else{if(_0xf628e8[_0x147c66(0x1d1)]()[_0x147c66(0x275)](_0x147c66(0x260)))await pauseBot(_0x147c66(0x176));else{if(_0xf628e8[_0x147c66(0x1d1)]()['includes'](_0x147c66(0x1a2)))await pauseBot(_0x147c66(0x1aa));else{if(_0xf628e8[_0x147c66(0x1d1)]()[_0x147c66(0x275)](_0x147c66(0x2a4)))logHistory(_0x147c66(0x19e),_0x36ef86+_0x147c66(0x25b)),logHistory(_0x147c66(0x19e),_0x147c66(0x26c)),await killBot();else{if(_0xf628e8[_0x147c66(0x1d1)]()[_0x147c66(0x275)](_0x147c66(0x288)))logHistory(_0x147c66(0x19e),_0x36ef86+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xf628e8[_0x147c66(0x1d1)]()[_0x147c66(0x275)](_0x147c66(0x1d4)))logHistory(_0x147c66(0x19e),_0x36ef86+_0x147c66(0x244)),logHistory(_0x147c66(0x19e),_0x147c66(0x26c)),await killBot();else{if(_0xf628e8[_0x147c66(0x1d1)]()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x147c66(0x19e),_0x36ef86+_0x147c66(0x22b)),logHistory(_0x147c66(0x19e),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xf628e8['toString']()['includes'](_0x147c66(0x264)))await pauseBot(_0x147c66(0x1e8)),process[_0x147c66(0x187)]({'stop':_0x147c66(0x27e)},_0x510ba6=>{});else _0xf628e8['toString']()[_0x147c66(0x275)](_0x147c66(0x1d5))?logHistory(_0x147c66(0x19e),_0x36ef86+_0x147c66(0x195)+_0x5ec6c5):(logging(_0x36ef86+'\x20|\x20Error\x20details:\x20',_0xf628e8),await pauseBot(_0x147c66(0x197)));}}}}}}}}function formatResult(_0x13cf59,_0x43a71c){const _0x4a4f11=_0x355576;return parseFloat(_0x13cf59[_0x4a4f11(0x296)](_0x43a71c));}function formatResultTruncate(_0x268abe,_0x490e90){const _0x22f8da=_0x355576;let _0xb242f4=formatResultString(_0x268abe,0xa),_0x4402aa=_0xb242f4[_0x22f8da(0x206)]('.');return _0x4402aa!=-0x1&&(_0xb242f4=_0xb242f4[_0x22f8da(0x295)](0x0,_0x4402aa+_0x490e90+0x1)),Number(_0xb242f4);}function formatResultString(_0xd170c8,_0x4671d0){const _0x14c26e=_0x355576;let _0x2856e5;if(!(''+_0xd170c8)[_0x14c26e(0x275)]('e'))_0x2856e5=+(Math[_0x14c26e(0x294)](_0xd170c8+'e+'+_0x4671d0)+'e-'+_0x4671d0);else{let _0x584c3f=(''+_0xd170c8)[_0x14c26e(0x20d)]('e'),_0x1c690f='';+_0x584c3f[0x1]+_0x4671d0>0x0&&(_0x1c690f='+'),_0x2856e5=+(Math['round'](+_0x584c3f[0x0]+'e'+_0x1c690f+(+_0x584c3f[0x1]+_0x4671d0))+'e-'+_0x4671d0);}return Number(_0x2856e5)[_0x14c26e(0x296)](_0x4671d0);}function logging(_0x4b7c06,_0x3e08a7=''){const _0x369d05=_0x355576;if(config[_0x369d05(0x203)])console[_0x369d05(0x1a8)](getTimeStamp()+':\x20'+config[_0x369d05(0x289)]+_0x369d05(0x274)+_0x4b7c06,_0x3e08a7);else console[_0x369d05(0x1a8)](getTimeStamp()+':\x20Bot\x20'+botID+_0x369d05(0x274)+_0x4b7c06,_0x3e08a7);}function getServerTime(){const _0x1ca0d7=_0x355576,_0x295352=new Date();return _0x295352[_0x1ca0d7(0x259)]()+'/'+(_0x295352[_0x1ca0d7(0x1bc)]()+0x1)['toString']()[_0x1ca0d7(0x1ff)](0x2,'0')+'/'+_0x295352[_0x1ca0d7(0x22d)]()[_0x1ca0d7(0x1d1)]()[_0x1ca0d7(0x1ff)](0x2,'0')+'\x20'+_0x295352[_0x1ca0d7(0x18d)]()[_0x1ca0d7(0x1d1)]()[_0x1ca0d7(0x1ff)](0x2,'0')+':'+_0x295352[_0x1ca0d7(0x18b)]()[_0x1ca0d7(0x1d1)]()['padStart'](0x2,'0')+':'+_0x295352[_0x1ca0d7(0x19b)]()[_0x1ca0d7(0x1d1)]()[_0x1ca0d7(0x1ff)](0x2,'0');}function getTimeStamp(){const _0x34ecc5=_0x355576,_0x2ccf68=shiftedTime();return _0x2ccf68[_0x34ecc5(0x259)]()+'/'+(_0x2ccf68[_0x34ecc5(0x1bc)]()+0x1)[_0x34ecc5(0x1d1)]()[_0x34ecc5(0x1ff)](0x2,'0')+'/'+_0x2ccf68[_0x34ecc5(0x22d)]()[_0x34ecc5(0x1d1)]()['padStart'](0x2,'0')+'\x20'+_0x2ccf68[_0x34ecc5(0x18d)]()['toString']()[_0x34ecc5(0x1ff)](0x2,'0')+':'+_0x2ccf68[_0x34ecc5(0x18b)]()['toString']()['padStart'](0x2,'0')+':'+_0x2ccf68['getSeconds']()[_0x34ecc5(0x1d1)]()[_0x34ecc5(0x1ff)](0x2,'0');}function getDate(){const _0x4ae8cb=_0x355576,_0x4f3401=shiftedTime();return _0x4f3401[_0x4ae8cb(0x259)]()+'/'+(_0x4f3401[_0x4ae8cb(0x1bc)]()+0x1)[_0x4ae8cb(0x1d1)]()['padStart'](0x2,'0')+'/'+_0x4f3401[_0x4ae8cb(0x22d)]()[_0x4ae8cb(0x1d1)]()['padStart'](0x2,'0');}function getHour(){const _0x11b698=_0x355576,_0xd62bc7=shiftedTime();return _0xd62bc7['getHours']()[_0x11b698(0x1d1)]()['padStart'](0x2,'0');}function sleep(_0x276d31){return new Promise(_0x149ba2=>setTimeout(_0x149ba2,_0x276d31));}function shiftedTime(){const _0x51c3a6=_0x355576,_0x4bc919=new Date();let _0x2ed193=_0x4bc919;if(config&&config[_0x51c3a6(0x271)]!==0x0)_0x2ed193=fns[_0x51c3a6(0x245)](_0x4bc919,{'hours':config[_0x51c3a6(0x271)]});return _0x2ed193;}