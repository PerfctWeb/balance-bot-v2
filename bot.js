const _0x483e3c=_0x7337;(function(_0x12347b,_0x2d6261){const _0x674ca1=_0x7337,_0x1af6ea=_0x12347b();while(!![]){try{const _0x37fa9a=parseInt(_0x674ca1(0x206))/0x1*(parseInt(_0x674ca1(0x1dc))/0x2)+parseInt(_0x674ca1(0x218))/0x3+parseInt(_0x674ca1(0x24a))/0x4*(parseInt(_0x674ca1(0x1c9))/0x5)+-parseInt(_0x674ca1(0x271))/0x6+parseInt(_0x674ca1(0x283))/0x7*(-parseInt(_0x674ca1(0x1df))/0x8)+parseInt(_0x674ca1(0x1ff))/0x9+parseInt(_0x674ca1(0x24e))/0xa*(-parseInt(_0x674ca1(0x239))/0xb);if(_0x37fa9a===_0x2d6261)break;else _0x1af6ea['push'](_0x1af6ea['shift']());}catch(_0x125bea){_0x1af6ea['push'](_0x1af6ea['shift']());}}}(_0x18dc,0x4acdd));const _0x501583=function(){let _0x421cd9=!![];return function(_0x426999,_0xc6d6b7){const _0x1c2a2a=_0x421cd9?function(){const _0x3be664=_0x7337;if(_0xc6d6b7){const _0x16f0d7=_0xc6d6b7[_0x3be664(0x180)](_0x426999,arguments);return _0xc6d6b7=null,_0x16f0d7;}}:function(){};return _0x421cd9=![],_0x1c2a2a;};}(),_0x1f5764=_0x501583(this,function(){const _0x1686ff=_0x7337;return _0x1f5764[_0x1686ff(0x207)]()['search'](_0x1686ff(0x176))[_0x1686ff(0x207)]()['constructor'](_0x1f5764)[_0x1686ff(0x1d6)](_0x1686ff(0x176));});_0x1f5764();'use strict';const ccxt=require('ccxt')['pro'],low=require(_0x483e3c(0x1d7)),FileSync=require(_0x483e3c(0x14d)),fs=require('fs'),fns=require(_0x483e3c(0x1ea)),Crypt=require('hybrid-crypto-js')[_0x483e3c(0x192)],util=require(_0x483e3c(0x1cd));let exchange;global['ticker']={},global[_0x483e3c(0x1aa)]={};const exceptions={'binance':['DAI/',_0x483e3c(0x251),_0x483e3c(0x1bc),_0x483e3c(0x21c),_0x483e3c(0x190)]};let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x483e3c(0x178)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require(_0x483e3c(0x14e))[_0x483e3c(0x1f1)],botID=process['argv'][0x2]||_0x483e3c(0x1a5),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x483e3c(0x1fc)](_0x483e3c(0x161)+botID+_0x483e3c(0x248)),killBot());const userID=process[_0x483e3c(0x267)][0x3]||'',configpath=userID?_0x483e3c(0x286)+userID+'/':_0x483e3c(0x286),logspath=userID?_0x483e3c(0x247)+userID+'/':_0x483e3c(0x247),loggerfile=fs[_0x483e3c(0x231)](logspath+_0x483e3c(0x1ee),{'flags':'a'});!fs[_0x483e3c(0x17e)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x483e3c(0x17e)](logspath)&&fs[_0x483e3c(0x185)](logspath);const configfile=configpath+'bot-'+botID+_0x483e3c(0x26e),logfile=configpath+_0x483e3c(0x278)+botID+_0x483e3c(0x23e),performancefile=configpath+_0x483e3c(0x278)+botID+'-performance.json',coinresultsfile=configpath+_0x483e3c(0x278)+botID+_0x483e3c(0x16d),settingsfile=configpath+_0x483e3c(0x202),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x483e3c(0x1fe),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x483e3c(0x269)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x483e3c(0x1ab)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x483e3c(0x1ab)]({'bot':[],'version':serverversion})[_0x483e3c(0x269)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x483e3c(0x17d)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x5d6d57=>{const _0xf660ab=_0x483e3c;console[_0xf660ab(0x1fc)](_0x5d6d57);},'simple':_0x2c8bdc=>{const _0x513bae=_0x483e3c;console[_0x513bae(0x1fc)](_0x2c8bdc),loggerfile[_0x513bae(0x269)](util[_0x513bae(0x19e)](_0x2c8bdc)+'\x0a');},'full':async(_0x2175ad,_0x1641ee='')=>{const _0x35592a=_0x483e3c;let _0x11fb54;if(config['showname'])_0x11fb54=getTimeStamp()+':\x20'+config[_0x35592a(0x1a3)]+_0x35592a(0x1fd)+_0x2175ad;else _0x11fb54=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x2175ad;console[_0x35592a(0x1fc)](_0x11fb54),loggerfile[_0x35592a(0x269)](util['format'](_0x11fb54)+'\x0a'),_0x1641ee&&(console['log'](_0x1641ee),loggerfile[_0x35592a(0x269)](util[_0x35592a(0x19e)](_0x1641ee)+'\x0a'));},'debug':async(_0x3fe79d,_0x55db93='')=>{const _0x1a69b5=_0x483e3c;let _0x12228d;if(config['showname'])_0x12228d=getTimeStamp()+':\x20'+config[_0x1a69b5(0x1a3)]+_0x1a69b5(0x175)+_0x3fe79d;else _0x12228d=getTimeStamp()+':\x20Bot\x20'+botID+_0x1a69b5(0x175)+_0x3fe79d;if(debugLoggingScreen)console['log'](_0x12228d);loggerfile[_0x1a69b5(0x269)](util['format'](_0x12228d)+'\x0a');if(_0x55db93){if(debugLoggingScreen)console[_0x1a69b5(0x1fc)](_0x55db93);loggerfile['write'](util[_0x1a69b5(0x19e)](_0x55db93)+'\x0a');}}};process['on']('uncaughtException',function(_0x3d690b){const _0x24fb13=_0x483e3c;logger[_0x24fb13(0x140)](_0x3d690b);});settings[_0x483e3c(0x220)]!=config['timeshift']&&updateTimeshift(settings[_0x483e3c(0x220)]);process['send']({'started':'running'},_0x24276d=>{}),initializeProcessListeners();function proxyEmit(_0xf338ef,_0x5a7de0=null){const _0x331722=_0x483e3c;process[_0x331722(0x14a)]({'function':_0xf338ef,'args':_0x5a7de0},_0x1848d1=>{});}function initializeProcessListeners(){const _0x142151=_0x483e3c;process['on'](_0x142151(0x216),_0x5bf7ca=>{const _0x50de70=_0x142151;switch(Object[_0x50de70(0x197)](_0x5bf7ca)[0x0]){case'timeshift':_0x5bf7ca['timeshift']!=undefined&&(settings['timeshift']=_0x5bf7ca[_0x50de70(0x220)],updateTimeshift(settings[_0x50de70(0x220)]));break;case'function':switch(_0x5bf7ca[_0x50de70(0x14f)]){case _0x50de70(0x1c1):initclient();break;case _0x50de70(0x1a9):toggleBotMode();break;case'emitHistory':emitHistory(_0x5bf7ca[_0x50de70(0x1d3)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x5bf7ca[_0x50de70(0x1d3)]);break;case _0x50de70(0x1c5):getPortfolio(_0x5bf7ca[_0x50de70(0x1d3)]);break;case _0x50de70(0x159):storeConfiguration(_0x5bf7ca['args']);break;case _0x50de70(0x1d8):storeHeadless(_0x5bf7ca[_0x50de70(0x1d3)]);break;case _0x50de70(0x238):getStartingBalances(getNormalizedPerformance());break;case _0x50de70(0x208):placeOrder(_0x5bf7ca[_0x50de70(0x1d3)]);break;case'cancelLoading':cancelLoading();break;case'showConfig':showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset();async function reset(_0x5253e3=null,_0x7ab5fa=![]){const _0x186f13=_0x483e3c;if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x7ab5fa)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config[_0x186f13(0x149)]!=''&&config[_0x186f13(0x149)]!=_0x186f13(0x262)){await initExchange();let _0x4b4147=![];_0x4b4147=await loadSymbols();if(_0x4b4147){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x5253e3),exchangeStopped=![];if(lastOrders[_0x186f13(0x142)]==0x0&&allOpenOrders[_0x186f13(0x142)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){const _0x3ec466=_0x483e3c;exchangeStopped=!![],await exchange[_0x3ec466(0x1a0)]();}async function reloadExchange(){const _0x5a35f7=_0x483e3c;logger[_0x5a35f7(0x25b)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x5a35f7(0x25b)](_0x5a35f7(0x1a2)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x2346b0=config['exchange'],_0xbbce16=config[_0x483e3c(0x149)],_0x5c3fc9=config[_0x483e3c(0x15e)]){const _0x1e438e=_0x483e3c;exchange&&await stopExchange();!supportedExchanges()[_0x1e438e(0x187)](_0x2346b0)&&(logger['full']('Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x2346b0+_0x1e438e(0x282)),killBot());const _0x2a0bf6=ccxt[_0x2346b0[_0x1e438e(0x210)]()];exchange=new _0x2a0bf6({'apiKey':_0xbbce16,'secret':_0x5c3fc9,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'adjustForTimeDifference':!![]}});}function setStableCoins(){const _0x5d7cdd=_0x483e3c;let _0x150e38=config['basecoin']==_0x5d7cdd(0x233)?_0x5d7cdd(0x233):_0x5d7cdd(0x14b),_0x39c797=!allSymbols[_0x5d7cdd(0x187)](_0x150e38+_0x5d7cdd(0x1b9))?_0x5d7cdd(0x1f3):'USD',_0x509a98=!allSymbols['includes'](_0x150e38+_0x5d7cdd(0x252))?_0x39c797:'EUR';stablecoins={'eur':{'coin':''+_0x150e38+_0x509a98,'symbol':_0x150e38+'/'+_0x509a98},'usd':{'coin':''+_0x150e38+_0x39c797,'symbol':_0x150e38+'/'+_0x39c797}};}async function initwsCcxt(_0x525e53){const _0x388534=_0x483e3c;_0x525e53==null&&(_0x525e53=[],currentCoins['forEach'](_0x12f241=>{const _0x6eceff=_0x7337;if(_0x12f241[_0x6eceff(0x1d4)]!=config[_0x6eceff(0x270)])_0x525e53[_0x6eceff(0x13f)](_0x12f241['symbol']);}));if(!_0x525e53[_0x388534(0x187)](stablecoins[_0x388534(0x150)][_0x388534(0x27a)]))_0x525e53[_0x388534(0x13f)](stablecoins['eur'][_0x388534(0x27a)]);if(!_0x525e53[_0x388534(0x187)](stablecoins[_0x388534(0x289)]['symbol']))_0x525e53[_0x388534(0x13f)](stablecoins[_0x388534(0x289)][_0x388534(0x27a)]);if(!_0x525e53[_0x388534(0x187)](_0x388534(0x1e1)+config['basecoin']))_0x525e53[_0x388534(0x13f)](_0x388534(0x1e1)+config[_0x388534(0x270)]);loadCoins(_0x525e53);const _0x1d53b1=async _0x47dc70=>{const _0x1344f6=_0x388534,_0x247b57=await exchange[_0x1344f6(0x280)](_0x47dc70);global[_0x1344f6(0x1e2)][noslash(_0x247b57[_0x1344f6(0x27a)])]=_0x247b57['last'];while(!![]){if(!botPaused)try{const _0x44b059=await exchange['watchTrades'](_0x47dc70);global[_0x1344f6(0x1e2)][noslash(_0x44b059[0x0][_0x1344f6(0x27a)])]=_0x44b059[0x0]['price'],await sleep(0x3e8);}catch(_0x133a9f){if(!exchangeStopped)await handleError(_0x133a9f,'watchTrades',_0x47dc70);}else await sleep(0x3e8);}},_0x27e58b=async _0x43666a=>{const _0x180e78=_0x388534;while(!![]){if(!botPaused)try{const _0x43cb4f=await exchange[_0x180e78(0x280)](_0x43666a);global[_0x180e78(0x1aa)][_0x43cb4f[_0x180e78(0x27a)]]=_0x43cb4f[_0x180e78(0x158)],await sleep(0x2710);}catch(_0x11c481){if(!exchangeStopped)await handleError(_0x11c481,'fetchTickers',_0x43666a);}else await sleep(0x3e8);}},_0x58b39b=async()=>{const _0x330382=_0x388534;while(!![]){if(!botPaused)try{const _0x5a5df8=await exchange[_0x330382(0x255)]();_0x5a5df8['forEach'](_0x5d68ce=>{updateNumberCoinsCcxt(_0x5d68ce);});}catch(_0x13ccb1){if(!exchangeStopped)await handleError(_0x13ccb1,_0x330382(0x255));}else await sleep(0x3e8);}};_0x525e53[_0x388534(0x200)](async _0x4cef58=>{_0x1d53b1(_0x4cef58),_0x27e58b(_0x4cef58);}),!wsEventsSet&&(wsEventsSet=!![],_0x58b39b());}async function loadSymbols(){const _0x141c55=_0x483e3c;if(allSymbols)return!![];let _0x430230=![];try{markets=await exchange[_0x141c55(0x171)](),allSymbols=exchange[_0x141c55(0x22f)][_0x141c55(0x265)](_0x24cee0=>{const _0xb6f41f=_0x141c55;let _0x20e60e=![];return exceptions[config[_0xb6f41f(0x16f)][_0xb6f41f(0x210)]()][_0xb6f41f(0x200)](_0x5a8b7e=>{if(_0x24cee0['includes'](_0x5a8b7e))_0x20e60e=!![];}),!_0x20e60e;}),_0x430230=!![];}catch(_0xf0690e){_0x430230=![],handleError(_0xf0690e,'loadSymbols()');}return _0x430230;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x4a524c=_0x483e3c;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x4a524c(0x17b),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x33b5ed=getNormalizedPerformance();emitPerformance(_0x33b5ed),await getStartingBalances(_0x33b5ed);}async function toggleBotMode(){const _0x349ef9=_0x483e3c;let _0x438e66=dbConfig[_0x349ef9(0x15c)](_0x349ef9(0x254))[_0x349ef9(0x153)]({'botID':botID})[_0x349ef9(0x18e)]();if(_0x438e66){const _0x52cf80=!_0x438e66['headless'];dbConfig['get']('bot')[_0x349ef9(0x153)]({'botID':botID})[_0x349ef9(0x1ed)]({'headless':_0x52cf80})[_0x349ef9(0x269)](),config[_0x349ef9(0x1c8)]=_0x52cf80,proxyEmit(_0x349ef9(0x23f),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x235ec0=>{});}async function loadCoins(_0x373931){const _0x532577=_0x483e3c;let _0x1f1979,_0x5318a6=0x0;loading[_0x532577(0x1bb)]=[];let _0x41c513=0x0;_0x373931[_0x532577(0x200)](_0x8c7f0b=>{loading['remainingSymbols']['push'](_0x8c7f0b);}),loadingCanceled=![];let _0x1edf65=![];while(_0x1f1979!=_0x373931[_0x532577(0x142)]){_0x1f1979=0x0,_0x373931[_0x532577(0x200)](_0x6c1c5e=>{const _0x40e4c8=_0x532577;global[_0x40e4c8(0x1e2)][noslash(_0x6c1c5e)]&&(loading[_0x40e4c8(0x1bb)]=loading[_0x40e4c8(0x1bb)][_0x40e4c8(0x265)](_0x106b54=>_0x106b54!=_0x6c1c5e),_0x1f1979++);}),loading[_0x532577(0x145)]=Math[_0x532577(0x1e6)](_0x1f1979/_0x373931['length']*0x64);loading[_0x532577(0x145)]!=0x64&&(_0x41c513>0x1e*0x5&&(loading[_0x532577(0x288)]=!![],emitLoadingProgress()),_0x41c513>0x78*0x5&&!_0x1edf65&&(loading[_0x532577(0x15f)]=!![],emitLoadingProgress(),_0x1edf65=!![],logHistory(_0x532577(0x243),_0x532577(0x146)+loading['remainingSymbols'][_0x532577(0x28e)](',\x20')+_0x532577(0x22e)),logHistory(_0x532577(0x243),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x532577(0x23d)),pidCoinReloading=setTimeout(()=>{const _0x5af41c=_0x532577;process[_0x5af41c(0x14a)]({'stop':_0x5af41c(0x214)},_0x45619d=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x532577(0x15f)]=!![],emitLoadingProgress();break;}else _0x1f1979!=_0x5318a6&&(_0x5318a6=_0x1f1979,emitLoadingProgress()),_0x41c513++,await sleep(0xc8);}_0x1f1979==_0x373931['length']&&(coinsLoaded=!![],_0x1edf65&&logHistory(_0x532577(0x1a7),_0x532577(0x1d1)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x120d10=_0x483e3c;proxyEmit(_0x120d10(0x23f),{...emittedConfiguration(),'configstate':_0x120d10(0x16a)});}function emitLoadingProgress(){const _0x184c04=_0x483e3c;proxyEmit(_0x184c04(0x27c),loading);}async function getFiat(){const _0xab0471=_0x483e3c;let _0x2623ab=global[_0xab0471(0x1e2)][stablecoins[_0xab0471(0x150)][_0xab0471(0x1d4)]],_0x53fec7=global[_0xab0471(0x1e2)][stablecoins[_0xab0471(0x289)][_0xab0471(0x1d4)]];return{'eur':Number(_0x2623ab),'usd':Number(_0x53fec7)};}function capitalize(_0x59e2ba){const _0x4828ac=_0x483e3c;return _0x59e2ba[_0x4828ac(0x27f)](0x0,0x1)['toUpperCase']()+_0x59e2ba[_0x4828ac(0x27f)](0x1);}function supportedExchanges(){const _0x175536=_0x483e3c,_0x84201a=['ws','fetchTickers',_0x175536(0x280),_0x175536(0x1b5),_0x175536(0x255),_0x175536(0x1fa),_0x175536(0x266),_0x175536(0x22c),'fetchClosedOrders',_0x175536(0x28d)];let _0x2d968c=[];const _0x187682=ccxt['exchanges']['map'](_0x1553c6=>new ccxt[_0x1553c6]())['filter'](_0x472085=>_0x472085['has']['ws']);return _0x187682['forEach'](_0x1336b8=>{const _0x276813=_0x175536;let _0x2394c6=0x0;_0x84201a[_0x276813(0x200)](_0x223ef3=>{_0x223ef3 in _0x1336b8['has']&&_0x1336b8['has'][_0x223ef3]&&_0x2394c6++;}),_0x2394c6==_0x84201a[_0x276813(0x142)]&&_0x2d968c['push'](capitalize(_0x1336b8['id']));}),_0x2d968c;}function setStartDatePerformance(){const _0x51327c=_0x483e3c;if(config&&config['liquidity'][0x0][_0x51327c(0x16e)][_0x51327c(0x142)]!=0x0){const _0x222220=config[_0x51327c(0x19b)][0x0]['changes'];dbPerformance[_0x51327c(0x15c)](_0x51327c(0x22b))[_0x51327c(0x153)]({'date':config[_0x51327c(0x1f9)]})['assign']({'coins':_0x222220})[_0x51327c(0x269)]();}}async function recreateCoinResults(){const _0x30aa87=_0x483e3c;let _0x215c93,_0x337403=[];try{const _0xa4d067=fns[_0x30aa87(0x19e)](fns[_0x30aa87(0x1d5)](config[_0x30aa87(0x1f9)][_0x30aa87(0x24b)](/\//g,'-')),_0x30aa87(0x24d));for(const _0x475626 of currentCoins){if(_0x475626[_0x30aa87(0x1d4)]!=config[_0x30aa87(0x270)]){let _0xbd1f55=0x0,_0x32fbe2,_0x4cd8c5;_0x215c93=await getAllEventOrders(_0x475626[_0x30aa87(0x27a)]);if(_0x215c93[_0x30aa87(0x142)]>0x0)_0x215c93[_0x30aa87(0x200)](_0x203bab=>{const _0x5e7fd5=_0x30aa87,_0x48a8de=_0x475626['symbol'][_0x5e7fd5(0x187)](config[_0x5e7fd5(0x270)]+'/');_0x337403[_0x5e7fd5(0x13f)]({'datetime':_0x203bab[_0x5e7fd5(0x21a)],'coin':_0x475626['coin'],'symbol':_0x475626[_0x5e7fd5(0x27a)],'side':_0x203bab['side'],'reverse':_0x48a8de,'amount':formatResult(_0x203bab['filled'],0x8),'filled':formatResult(_0x203bab[_0x5e7fd5(0x285)],0x8),'price':formatResult(_0x203bab[_0x5e7fd5(0x284)],0x8)}),_0xbd1f55=_0x203bab[_0x5e7fd5(0x1e3)]==_0x5e7fd5(0x26c)?_0xbd1f55+_0x203bab[_0x5e7fd5(0x285)]:_0xbd1f55-_0x203bab[_0x5e7fd5(0x285)];if(!_0x4cd8c5)_0x4cd8c5=_0x203bab[_0x5e7fd5(0x284)];});_0x32fbe2=_0x475626[_0x30aa87(0x155)]-_0xbd1f55;let _0x595afd;config[_0x30aa87(0x19b)][_0x30aa87(0x200)](_0xff9a94=>{const _0x2c9f80=_0x30aa87;!_0x595afd&&(_0x595afd=_0xff9a94[_0x2c9f80(0x16e)]['find'](_0x1313ea=>_0x1313ea[_0x2c9f80(0x1d4)]==_0x475626[_0x2c9f80(0x1d4)]),_0x595afd&&(_0x32fbe2=_0x595afd[_0x2c9f80(0x155)],_0x4cd8c5=_0x595afd[_0x2c9f80(0x284)]));});let _0x1d95d0=dbCoinResults['get'](_0x30aa87(0x1e4))[_0x30aa87(0x153)]({'coin':_0x475626[_0x30aa87(0x1d4)]})['value']();_0x1d95d0={'coin':_0x475626[_0x30aa87(0x1d4)],'number':_0x32fbe2,'breakeven':_0x4cd8c5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')['find']({'coin':_0x475626[_0x30aa87(0x1d4)]})[_0x30aa87(0x1ed)](_0x1d95d0)[_0x30aa87(0x269)]();}}_0x337403[_0x30aa87(0x290)]((_0x43a000,_0x357b6b)=>_0x43a000[_0x30aa87(0x21a)]>_0x357b6b[_0x30aa87(0x21a)]?0x1:_0x357b6b[_0x30aa87(0x21a)]>_0x43a000[_0x30aa87(0x21a)]?-0x1:0x0);let _0xaa9eee=0x0;for(let _0x30887a of _0x337403){await updateCoinResults(_0x30887a,!![]);}}catch(_0xaec986){await handleError(_0xaec986,_0x30aa87(0x25e));}}async function getAllEventOrders(_0x69a317){const _0x11802c=_0x483e3c;let _0x2a537f=[],_0xcc6b59=dbLogs[_0x11802c(0x15c)](_0x11802c(0x19d))[_0x11802c(0x265)](_0x4648c5=>{const _0x5cbceb=_0x11802c,_0x3f8b2d=_0x4648c5['event'][_0x5cbceb(0x210)]();return _0x3f8b2d[_0x5cbceb(0x187)](_0x69a317[_0x5cbceb(0x210)]())&&(_0x3f8b2d['includes']('market')&&_0x3f8b2d[_0x5cbceb(0x187)](_0x5cbceb(0x21d))||_0x3f8b2d[_0x5cbceb(0x187)](_0x5cbceb(0x285))&&_0x3f8b2d['includes']('order'));})[_0x11802c(0x1e8)]('time')[_0x11802c(0x18e)]();return _0xcc6b59[_0x11802c(0x200)](_0x341ef8=>{const _0x45d052=_0x11802c,_0x2900cf=_0x341ef8['event'][_0x45d052(0x187)]('sell')?'sell':'buy',_0x28cdab=/#([0-9]|\.)+\s/i,_0x403140=Number(_0x28cdab[_0x45d052(0x156)](_0x341ef8[_0x45d052(0x186)])[0x0][_0x45d052(0x242)](0x1)),_0x1d5310=/@([0-9]|\.)+$/i,_0x501289=Number(_0x1d5310[_0x45d052(0x156)](_0x341ef8['event'])[0x0][_0x45d052(0x242)](0x1));_0x2a537f[_0x45d052(0x13f)]({'datetime':_0x341ef8[_0x45d052(0x165)],'coin':symbolToCoin(_0x69a317),'symbol':_0x69a317,'side':_0x2900cf,'amount':_0x403140,'filled':_0x403140,'price':_0x501289});}),_0x2a537f;}async function getAllOrders(_0x31c38b,_0x4ef492){const _0x4093b2=_0x483e3c;let _0x523bd5=[];while(_0x4ef492<exchange[_0x4093b2(0x166)]()){const _0x526e41=0x1f4,_0x13d325=await exchange[_0x4093b2(0x224)](_0x31c38b,_0x4ef492,_0x526e41);if(_0x13d325[_0x4093b2(0x142)])_0x4ef492=_0x13d325[_0x13d325[_0x4093b2(0x142)]-0x1][_0x4093b2(0x1a6)]+0x1,_0x523bd5=_0x523bd5[_0x4093b2(0x256)](_0x13d325);else break;}return _0x523bd5;}async function validate24hChanges(){const _0x5ef3ed=_0x483e3c;for(const _0x573d6b of currentCoins){if(_0x573d6b['coin']!=config['basecoin']){let _0x57d32f;_0x573d6b[_0x5ef3ed(0x293)]?_0x57d32f=formatResult((0x1/(global[_0x5ef3ed(0x1aa)][noslash(_0x573d6b[_0x5ef3ed(0x27a)])]/0x64+0x1)-0x1)*0x64,0x3):_0x57d32f=global[_0x5ef3ed(0x1aa)][noslash(_0x573d6b[_0x5ef3ed(0x27a)])],_0x57d32f<config[_0x5ef3ed(0x292)]&&(logHistory(_0x5ef3ed(0x243),_0x573d6b[_0x5ef3ed(0x1d4)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x57d32f+'%'),logHistory(_0x5ef3ed(0x243),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x5ef3ed(0x243),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isNewerVersion(_0x398aa0,_0x8ccafa){const _0x3293d2=_0x483e3c,_0x1b9eea=_0x8ccafa[_0x3293d2(0x1d9)]('.'),_0x5f2371=_0x398aa0[_0x3293d2(0x1d9)]('.');for(var _0x4e8993=0x0;_0x4e8993<_0x5f2371[_0x3293d2(0x142)];_0x4e8993++){const _0x399c7=~~_0x5f2371[_0x4e8993],_0x406fb1=~~_0x1b9eea[_0x4e8993];if(_0x399c7>_0x406fb1)return!![];if(_0x399c7<_0x406fb1)return![];}return![];}async function oneTimeMigration(){const _0x2f52e4=_0x483e3c;let _0x2573ec=dbLogs[_0x2f52e4(0x15c)]('version')[_0x2f52e4(0x18e)]();if(!isNewerVersion(_0x2573ec,_0x2f52e4(0x1f6))){dbLogs['set'](_0x2f52e4(0x1f1),_0x2f52e4(0x1f6))[_0x2f52e4(0x269)]();let _0x5c1c20=[];const _0x88ab48=dbLogs[_0x2f52e4(0x15c)](_0x2f52e4(0x19d))[_0x2f52e4(0x18e)]();_0x88ab48[_0x2f52e4(0x200)](_0x1324d7=>{const _0x593b22=_0x2f52e4;_0x5c1c20[_0x593b22(0x13f)]({'time':_0x1324d7['time'],'type':_0x1324d7['type'],'event':_0x1324d7[_0x593b22(0x186)]});}),dbLogs[_0x2f52e4(0x15c)](_0x2f52e4(0x19d))[_0x2f52e4(0x1ed)](_0x5c1c20)[_0x2f52e4(0x269)]();}let _0x85e60f=dbConfig['get'](_0x2f52e4(0x1f1))['value']();if(!isNewerVersion(_0x85e60f,'2.3.5')){dbConfig[_0x2f52e4(0x24c)](_0x2f52e4(0x1f1),'2.3.5')[_0x2f52e4(0x269)]();let _0x86cdd2=dbConfig[_0x2f52e4(0x15c)](_0x2f52e4(0x254))['find']({'botID':botID})['value']();if(_0x86cdd2){let _0x3de17c=[];_0x86cdd2[_0x2f52e4(0x23a)][_0x2f52e4(0x200)](_0x3132cb=>{const _0xc05f97=_0x2f52e4;_0x3de17c[_0xc05f97(0x13f)]({'coin':_0x3132cb[_0xc05f97(0x1d4)],'number':_0x3132cb['startnumber'],'price':_0x3132cb[_0xc05f97(0x294)]}),delete _0x3132cb[_0xc05f97(0x236)],delete _0x3132cb['startprice'];});if(_0x3de17c[_0x2f52e4(0x142)]!==0x0)fs[_0x2f52e4(0x1e5)](configbackuppath+(_0x2f52e4(0x209)+botID+'.json'),JSON['stringify'](_0x3de17c,null,0x4),function(_0x2d15fc){if(_0x2d15fc){}});const _0x5f2b43=(_0x1844d4,_0x3ec490)=>{const _0x219502=_0x2f52e4;let _0x37c6cc=[];_0x3ec490[_0x219502(0x200)](_0x20ec68=>{const _0x5a6746=_0x219502,_0x261343=_0x1844d4[_0x5a6746(0x153)](_0x14d178=>_0x14d178['coin']==_0x20ec68['coin']);if(!_0x261343)_0x37c6cc[_0x5a6746(0x13f)](_0x20ec68);});let _0x16d273=[];return _0x1844d4[_0x219502(0x200)](_0x151d7f=>{const _0x40c727=_0x219502,_0x55356c=_0x3ec490[_0x40c727(0x153)](_0x2fcb6b=>_0x2fcb6b[_0x40c727(0x1d4)]==_0x151d7f[_0x40c727(0x1d4)]);if(!_0x55356c||_0x55356c['number']==0x0&&_0x151d7f['number']!=0x0)_0x16d273[_0x40c727(0x13f)](_0x151d7f);}),{'missingDay1':_0x37c6cc,'notInDay2':_0x16d273};},_0x581294=dbPerformance['get']('data')[_0x2f52e4(0x15a)]()[_0x2f52e4(0x18e)]();if(_0x581294['length']>0x1){const {missingDay1:_0x2d3bbb,notInDay2:_0x43c737}=_0x5f2b43(_0x3de17c,_0x581294[0x1][_0x2f52e4(0x1e4)]);_0x3de17c=[..._0x3de17c,..._0x2d3bbb],_0x43c737[_0x2f52e4(0x200)](_0xd439ae=>{const _0x668455=_0x2f52e4;let _0x3db1d4=_0x3de17c[_0x668455(0x261)](_0x571ea6=>_0x571ea6['coin']==_0xd439ae['coin']);_0x3db1d4!=-0x1&&_0x3de17c[_0x668455(0x154)](_0x3db1d4,0x1);});}_0x3de17c['sort']((_0x3aeaac,_0x4adf6e)=>_0x3aeaac[_0x2f52e4(0x1d4)]>_0x4adf6e[_0x2f52e4(0x1d4)]?0x1:_0x4adf6e['coin']>_0x3aeaac[_0x2f52e4(0x1d4)]?-0x1:0x0);let _0x3ac75c=[{'date':_0x86cdd2['startdate'],'changes':_0x3de17c}];_0x581294[_0x2f52e4(0x142)]>0x2&&_0x581294[_0x2f52e4(0x200)]((_0x1a2500,_0x581ac3)=>{const _0x415e44=_0x2f52e4;if(_0x581ac3>0x0&&_0x581ac3<_0x581294[_0x415e44(0x142)]-0x1){const {missingDay1:_0x3128ba,notInDay2:_0x1b209c}=_0x5f2b43(_0x581294[_0x581ac3]['coins'],_0x581294[_0x581ac3+0x1]['coins']);_0x3de17c=[],(_0x3128ba[_0x415e44(0x142)]!=0x0||_0x1b209c[_0x415e44(0x142)]!=0x0)&&(_0x3128ba[_0x415e44(0x142)]!=0x0&&_0x3de17c[_0x415e44(0x13f)](..._0x3128ba),_0x1b209c[_0x415e44(0x142)]!=0x0&&(_0x1b209c[_0x415e44(0x200)](_0x5ce06f=>{const _0x58e66d=_0x415e44;_0x5ce06f['number']=-_0x5ce06f[_0x58e66d(0x155)];}),_0x3de17c[_0x415e44(0x13f)](..._0x1b209c)),_0x3de17c[_0x415e44(0x290)]((_0x352f03,_0x3fb399)=>_0x352f03[_0x415e44(0x1d4)]>_0x3fb399[_0x415e44(0x1d4)]?0x1:_0x3fb399[_0x415e44(0x1d4)]>_0x352f03['coin']?-0x1:0x0),_0x3ac75c[_0x415e44(0x13f)]({'date':_0x581294[_0x581ac3+0x1]['date'],'changes':_0x3de17c}));}}),dbConfig[_0x2f52e4(0x15c)](_0x2f52e4(0x254))[_0x2f52e4(0x153)]({'botID':botID})[_0x2f52e4(0x1ed)]({..._0x86cdd2,'liquidity':_0x3ac75c})[_0x2f52e4(0x269)]();}}_0x85e60f=dbConfig[_0x2f52e4(0x15c)](_0x2f52e4(0x1f1))['value']();if(!isNewerVersion(_0x85e60f,_0x2f52e4(0x19f))){dbConfig[_0x2f52e4(0x24c)](_0x2f52e4(0x1f1),_0x2f52e4(0x19f))[_0x2f52e4(0x269)]();let _0x38309d=dbConfig[_0x2f52e4(0x15c)](_0x2f52e4(0x254))[_0x2f52e4(0x153)]({'botID':botID})[_0x2f52e4(0x18e)]();if(_0x38309d){const _0x3cb4d8=_0x38309d[_0x2f52e4(0x16f)],_0x1573bc=_0x3cb4d8?capitalize(_0x3cb4d8):'Binance';dbConfig['get'](_0x2f52e4(0x254))['find']({'botID':botID})[_0x2f52e4(0x1ed)]({'exchange':_0x1573bc})[_0x2f52e4(0x269)]();}}config=getConfiguration(botID);let _0x2def79=dbPerformance[_0x2f52e4(0x15c)](_0x2f52e4(0x1f1))['value']();!isNewerVersion(_0x2def79,_0x2f52e4(0x1f6))&&(dbPerformance['set']('version',_0x2f52e4(0x1f6))[_0x2f52e4(0x269)](),setStartDatePerformance());let _0x2f3fca=dbCoinResults[_0x2f52e4(0x15c)](_0x2f52e4(0x1f1))['value']();if(!isNewerVersion(_0x2f3fca,'2.5.0')){dbCoinResults[_0x2f52e4(0x24c)](_0x2f52e4(0x1f1),'2.5.0')[_0x2f52e4(0x269)]();let _0x18caeb=dbCoinResults[_0x2f52e4(0x15c)](_0x2f52e4(0x1e4))[_0x2f52e4(0x18e)]();if(_0x18caeb[_0x2f52e4(0x142)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x3214b4){const _0x50195f=_0x483e3c;let _0x81dc6b=dbConfig[_0x50195f(0x15c)](_0x50195f(0x254))['find']({'botID':_0x3214b4})['value']();if(_0x81dc6b){let _0x533842=![];typeof _0x81dc6b[_0x50195f(0x188)]==_0x50195f(0x22a)&&(_0x81dc6b={..._0x81dc6b,'threshold':Number(_0x81dc6b['threshold'])},_0x533842=!![]),_0x81dc6b['change24h']==null&&(_0x81dc6b={..._0x81dc6b,'change24h':-0x14},_0x533842=!![]),_0x533842&&(_0x81dc6b={'botID':_0x81dc6b[_0x50195f(0x1b1)],'exchange':_0x81dc6b['exchange'],'apiKey':_0x81dc6b[_0x50195f(0x149)],'apiSecret':_0x81dc6b[_0x50195f(0x15e)],'basecoin':_0x81dc6b['basecoin'],'botname':_0x81dc6b['botname'],'showname':_0x81dc6b[_0x50195f(0x246)],'threshold':_0x81dc6b['threshold'],'ordertype':_0x81dc6b[_0x50195f(0x170)],'timeout':_0x81dc6b['timeout'],'startdate':_0x81dc6b[_0x50195f(0x1f9)],'recreate':_0x81dc6b[_0x50195f(0x234)],'timeshift':_0x81dc6b[_0x50195f(0x220)],'headless':_0x81dc6b[_0x50195f(0x1c8)],'cooldown':_0x81dc6b[_0x50195f(0x194)],'change24h':_0x81dc6b[_0x50195f(0x292)],'emojibuy':_0x81dc6b[_0x50195f(0x20a)],'emojisell':_0x81dc6b[_0x50195f(0x257)],'portfolio':_0x81dc6b[_0x50195f(0x23a)],'liquidity':_0x81dc6b['liquidity']},dbConfig[_0x50195f(0x15c)](_0x50195f(0x254))[_0x50195f(0x17c)]()[_0x50195f(0x269)](),dbConfig[_0x50195f(0x15c)](_0x50195f(0x254))[_0x50195f(0x13f)](_0x81dc6b)['write']());}else _0x81dc6b={'botID':_0x3214b4,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x50195f(0x1ca)+_0x3214b4,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x50195f(0x220)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x81dc6b;}function emittedConfiguration(){const _0x2f4255=_0x483e3c;let _0x4936b9;if(config[_0x2f4255(0x149)]=='')_0x4936b9={...config,'configstate':_0x2f4255(0x235)};else config[_0x2f4255(0x149)]==_0x2f4255(0x262)?_0x4936b9={...config,'configstate':_0x2f4255(0x164)}:_0x4936b9={...config,'apiKey':'************','apiSecret':_0x2f4255(0x181)};return _0x4936b9;}function getSettings(){const _0x499d27=_0x483e3c;return dbSettings[_0x499d27(0x15c)](_0x499d27(0x1c3))['value']();}function getSecure(){const _0x16e791=_0x483e3c;return dbSecure[_0x16e791(0x15c)](_0x16e791(0x1ac))[_0x16e791(0x18e)]()||{};}function updateTimeshift(_0x16f14f){const _0x56abce=_0x483e3c;let _0x40a5ce=dbConfig[_0x56abce(0x15c)](_0x56abce(0x254))[_0x56abce(0x153)]({'botID':botID})[_0x56abce(0x18e)]();_0x40a5ce&&dbConfig[_0x56abce(0x15c)](_0x56abce(0x254))[_0x56abce(0x153)]({'botID':botID})[_0x56abce(0x1ed)]({'timeshift':_0x16f14f})[_0x56abce(0x269)](),config[_0x56abce(0x220)]=_0x16f14f,proxyEmit(_0x56abce(0x23f),emittedConfiguration());}async function storeConfiguration(_0x42afe6){const _0x3226ea=_0x483e3c;let _0x3d4cd4=[],_0x2b8306=[];_0x42afe6[_0x3226ea(0x23a)][_0x3226ea(0x200)](_0xb575e0=>{const _0x4020ea=_0x3226ea;if(!_0xb575e0[_0x4020ea(0x15b)]&&_0xb575e0[_0x4020ea(0x1d4)]!=_0x42afe6[_0x4020ea(0x270)])_0x2b8306[_0x4020ea(0x13f)](_0xb575e0[_0x4020ea(0x27a)]);});currentCoins['length']==0x0?_0x3d4cd4=_0x2b8306:_0x2b8306[_0x3226ea(0x200)](_0x58d2fe=>{const _0x134cca=_0x3226ea,_0x5563d4=currentCoins[_0x134cca(0x153)](_0x2bc376=>_0x2bc376['symbol']==_0x58d2fe);!_0x5563d4&&_0x3d4cd4['push'](_0x58d2fe);});let _0x5fe189=dbConfig[_0x3226ea(0x15c)]('bot')[_0x3226ea(0x153)]({'botID':botID})['value']();_0x42afe6={..._0x42afe6,'apiKey':crypt['decrypt'](secure[_0x3226ea(0x1b4)],_0x42afe6[_0x3226ea(0x149)])[_0x3226ea(0x216)],'apiSecret':crypt[_0x3226ea(0x1ba)](secure['privateKey'],_0x42afe6[_0x3226ea(0x15e)])[_0x3226ea(0x216)]};if(_0x5fe189){if(_0x42afe6[_0x3226ea(0x149)]==_0x3226ea(0x181))_0x42afe6[_0x3226ea(0x149)]=config[_0x3226ea(0x149)];if(_0x42afe6[_0x3226ea(0x15e)]==_0x3226ea(0x181))_0x42afe6[_0x3226ea(0x15e)]=config[_0x3226ea(0x15e)];dbConfig[_0x3226ea(0x15c)]('bot')[_0x3226ea(0x153)]({'botID':botID})[_0x3226ea(0x1ed)](_0x42afe6)['write']();}else dbConfig[_0x3226ea(0x15c)]('bot')[_0x3226ea(0x13f)](_0x42afe6)[_0x3226ea(0x269)](),process[_0x3226ea(0x14a)]({'status':_0x3226ea(0x19c),'live':_0x3226ea(0x24f)},_0x359fa7=>{});config={..._0x42afe6},setStartDatePerformance(),process[_0x3226ea(0x14a)]({'botname':_0x42afe6[_0x3226ea(0x1a3)]},_0x52af1b=>{}),updateBotManager();const _0x3ffbc4=getNormalizedPerformance();getStartingBalances(_0x3ffbc4),emitPerformance(_0x3ffbc4),proxyEmit('configuration-stored'),await initCoinResults(),reset(_0x3d4cd4);}async function storeHeadless(_0x5b21c2){const _0x269418=_0x483e3c,_0x5813e4={...config,'headless':_0x5b21c2['headless']};let _0x38940e=dbConfig['get']('bot')['find']({'botID':botID})[_0x269418(0x18e)]();_0x38940e&&dbConfig[_0x269418(0x15c)](_0x269418(0x254))[_0x269418(0x153)]({'botID':botID})['assign'](_0x5813e4)[_0x269418(0x269)](),config={..._0x5813e4},updateBotManager(),proxyEmit(_0x269418(0x23f),emittedConfiguration());}function noslash(_0x466595){const _0x2f3a5d=_0x483e3c;return _0x466595[_0x2f3a5d(0x24b)]('/','');}async function updateNumberCoinsCcxt(_0x12d760){const _0xb5b671=_0x483e3c;logger[_0xb5b671(0x25b)]('0\x20-\x20EXECUTION:\x20'+_0x12d760[_0xb5b671(0x27a)]+_0xb5b671(0x259)+_0x12d760['status']+_0xb5b671(0x259)+_0x12d760['id']+_0xb5b671(0x259)+_0x12d760[_0xb5b671(0x160)]);let _0xe47681=_0x12d760[_0xb5b671(0x27e)],_0x46a593=![];currentCoins[_0xb5b671(0x200)](_0x428cdd=>{const _0x365098=_0xb5b671;_0x428cdd[_0x365098(0x27a)]==_0x12d760[_0x365098(0x27a)]&&(_0x46a593=!![]);});if(!_0x46a593)return;const _0x586252=currentCoins[_0xb5b671(0x153)](_0x58e7c3=>_0x58e7c3[_0xb5b671(0x27a)]==_0x12d760['symbol']),_0x1d2b65=_0x3a5219=>{const _0x5c1ae3=_0xb5b671;if(_0x586252)_0x586252[_0x5c1ae3(0x272)]=_0x3a5219;};if(_0xe47681=='open')_0x1d2b65(_0xb5b671(0x1ad));else{if(_0xe47681=='canceled')_0x1d2b65(_0xb5b671(0x225)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0xe47681=='closed'){logger[_0xb5b671(0x25b)](_0xb5b671(0x268)+_0x12d760[_0xb5b671(0x27a)]+_0xb5b671(0x259)+_0x12d760[_0xb5b671(0x285)]+_0xb5b671(0x259)+_0x12d760['id']+_0xb5b671(0x259)+_0x12d760[_0xb5b671(0x160)]);let _0x49aea0=![];if(lastOrders)lastOrders[_0xb5b671(0x200)](async _0x2cb0d0=>{const _0x1c7476=_0xb5b671;if(_0x2cb0d0[_0x1c7476(0x199)]==_0x12d760[_0x1c7476(0x160)]){logger[_0x1c7476(0x25b)](_0x1c7476(0x1b8)+_0x12d760[_0x1c7476(0x160)]),_0x49aea0=!![];if(_0x2cb0d0[_0x1c7476(0x285)]==0x0){logger['debug'](_0x1c7476(0x1c7)+_0x12d760[_0x1c7476(0x160)]),_0x2cb0d0['price']=_0x12d760['average'],_0x2cb0d0[_0x1c7476(0x285)]=_0x12d760[_0x1c7476(0x285)],_0x2cb0d0['fee']={'cost':_0x12d760[_0x1c7476(0x18b)][_0x1c7476(0x1e7)],'currency':_0x12d760[_0x1c7476(0x18b)][_0x1c7476(0x18f)]},_0x1d2b65(_0x1c7476(0x285)),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x2cb0d0);}}});!_0x49aea0&&(logger[_0xb5b671(0x25b)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x12d760['id']),_0x1d2b65(_0xb5b671(0x285)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x44471a=JSON[_0xb5b671(0x204)](lastBalances[_0xb5b671(0x23a)]);const _0x1eec1e=_0x44471a['find'](_0x47cdda=>_0x47cdda[_0xb5b671(0x27a)]==_0x12d760[_0xb5b671(0x27a)]);if(_0x1eec1e){if(_0xe47681==_0xb5b671(0x1ad))_0x1eec1e[_0xb5b671(0x272)]=_0x1eec1e[_0xb5b671(0x272)]==_0xb5b671(0x285)?_0xb5b671(0x285):'open';else{if(_0xe47681=='canceled')_0x1eec1e[_0xb5b671(0x272)]=_0x1eec1e['orderstatus']==_0xb5b671(0x285)?_0xb5b671(0x285):_0xb5b671(0x225);else _0xe47681=='closed'&&(_0x1eec1e[_0xb5b671(0x272)]=_0xb5b671(0x285));}}lastBalances={...lastBalances,'portfolio':JSON[_0xb5b671(0x1a4)](_0x44471a)},proxyEmit(_0xb5b671(0x20f),{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0x186308=![],_0x54cca6=!![],_0x1da986=config['basecoin']){const _0x53bf42=_0x483e3c;let _0x314583,_0x438a4b=[],_0x119f56=[],_0x12273c=[];try{_0x314583=await exchange[_0x53bf42(0x28d)](),mybalances=_0x314583[_0x53bf42(0x1e9)];if(!_0x54cca6)for(const [_0x22b5bc,_0xcc5b6a]of Object['entries'](mybalances)){_0x12273c[_0x53bf42(0x13f)](_0x22b5bc);}else config[_0x53bf42(0x23a)][_0x53bf42(0x200)](_0x2f2432=>{const _0x67a55d=_0x53bf42;if(!_0x2f2432[_0x67a55d(0x15b)])_0x12273c[_0x67a55d(0x13f)](_0x2f2432['coin']);});if(_0x1da986=='')for(const [_0x127815,_0x1b24f4]of Object[_0x53bf42(0x1da)](mybalances)){_0x1b24f4['toString']()!=0x0&&_0x119f56[_0x53bf42(0x13f)]({'coin':_0x127815});}else{if(_0x186308)await getOpenOrders();let _0x2d732d=![];for(const [_0x5d057b,_0x2b1863]of Object['entries'](mybalances)){if(_0x12273c['includes'](_0x5d057b)){const _0x2a8796=config[_0x53bf42(0x23a)][_0x53bf42(0x153)](_0x2699ba=>_0x2699ba[_0x53bf42(0x1d4)]==_0x5d057b),_0x5db249=_0x5d057b+'/'+_0x1da986,_0x396800=_0x1da986+'/'+_0x5d057b,_0x2716a3=currentCoins['find'](_0x4b3299=>_0x4b3299[_0x53bf42(0x1d4)]==_0x5d057b);_0x2d732d=![];_0x186308&&(_0x2d732d=allOpenOrders[_0x53bf42(0x153)](_0x4db161=>_0x4db161[_0x53bf42(0x27a)]==_0x2a8796[_0x53bf42(0x27a)]));if((_0x2b1863[_0x53bf42(0x207)]()!=0x0||_0x2a8796)&&(allSymbols['includes'](_0x5db249)||_0x5d057b==_0x1da986))_0x5d057b!=_0x1da986&&_0x438a4b['push'](_0x5db249),_0x119f56[_0x53bf42(0x13f)]({'coin':_0x5d057b,'symbol':_0x5db249,'reverse':![],'number':Math[_0x53bf42(0x27b)](_0x2b1863+(_0x2a8796&&_0x2a8796[_0x53bf42(0x240)]||0x0),0x0),'orderstatus':_0x186308?_0x2d732d?'open':_0x53bf42(0x179):_0x2716a3?_0x2716a3['orderstatus']:_0x53bf42(0x179)});else(_0x2b1863[_0x53bf42(0x207)]()!=0x0||_0x2a8796)&&allSymbols[_0x53bf42(0x187)](_0x396800)&&(_0x5d057b!=_0x1da986&&_0x438a4b['push'](_0x396800),_0x119f56[_0x53bf42(0x13f)]({'coin':_0x5d057b,'symbol':_0x396800,'reverse':!![],'number':Math[_0x53bf42(0x27b)](_0x2b1863+(_0x2a8796&&_0x2a8796[_0x53bf42(0x240)]||0x0),0x0),'orderstatus':_0x186308?_0x2d732d?_0x53bf42(0x1ad):_0x53bf42(0x179):_0x2716a3?_0x2716a3['orderstatus']:_0x53bf42(0x179)}));}}}}catch(_0x5e768a){if(!_0x54cca6)handleErrorNoStop(_0x5e768a,'getCoins()');else await handleError(_0x5e768a,_0x53bf42(0x1ce));}return _0x119f56;}async function getCoinNumber(_0x2f49f6){const _0x22f23f=_0x483e3c;let _0x579b96;try{const _0x2dde2d=await exchange['fetchBalance']();_0x579b96=_0x2dde2d[_0x22f23f(0x1e9)][_0x2f49f6];}catch(_0x2683af){await handleError(_0x2683af,'getCoinNumber()');}return _0x579b96;}async function getOpenOrders(){const _0x135b87=_0x483e3c;let _0x21c2be;allOpenOrders=[];try{for(const _0x27680d of config['portfolio']){!_0x27680d['excluded']&&_0x27680d['coin']!=config['basecoin']&&(_0x21c2be=await exchange[_0x135b87(0x22c)](_0x27680d[_0x135b87(0x27a)]),_0x21c2be[_0x135b87(0x142)]>0x0&&allOpenOrders[_0x135b87(0x13f)](_0x21c2be[0x0]));}}catch(_0x2ccfac){await handleError(_0x2ccfac,_0x135b87(0x1be));}}async function handleOpenOrders(_0x10e147=0x0){const _0x357242=_0x483e3c;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x10e147==0x0?(logger['debug'](_0x357242(0x193)),_0x10e147++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x357242(0x25b)](_0x357242(0x22d)),validateOrders(_0x357242(0x17f))));}async function getPortfolio(_0x148ac2){const _0x3d318a=_0x483e3c;let _0x5ca9ec=[],_0x266de8=[],_0x20ea2c,_0x529287=[],_0x46e945=![];if(_0x148ac2[_0x3d318a(0x149)]===_0x3d318a(0x181)||_0x148ac2['apiSecret']===_0x3d318a(0x181))_0x46e945=!![];else{await initExchange(_0x148ac2[_0x3d318a(0x16f)],_0x148ac2[_0x3d318a(0x149)],_0x148ac2['apiSecret']);try{_0x46e945=await loadSymbols();}catch(_0x1c6c55){_0x46e945=![],handleErrorNoStop(_0x1c6c55,_0x3d318a(0x1c4));}}if(_0x46e945){_0x529287=await getCoins(![],![],_0x148ac2[_0x3d318a(0x270)]);if(_0x529287===![])proxyEmit('portfolio',![]);else{if(_0x148ac2[_0x3d318a(0x270)]=='')proxyEmit(_0x3d318a(0x23a),_0x529287);else{_0x529287[_0x3d318a(0x200)](_0x443d2c=>{const _0x22840f=_0x3d318a;if(_0x443d2c[_0x22840f(0x1d4)]!=_0x148ac2['basecoin'])_0x5ca9ec[_0x22840f(0x13f)](_0x443d2c[_0x22840f(0x27a)]);});try{_0x266de8=await exchange['fetchTickers'](_0x5ca9ec);}catch(_0x4ad673){await handleError(_0x4ad673,_0x3d318a(0x26f));}_0x529287[_0x3d318a(0x200)](_0x25e437=>{const _0x43433b=_0x3d318a;_0x25e437[_0x43433b(0x1d4)]!=_0x148ac2[_0x43433b(0x270)]?_0x20ea2c=_0x25e437[_0x43433b(0x293)]?0x1/_0x266de8[_0x25e437['symbol']][_0x43433b(0x230)]:_0x266de8[_0x25e437[_0x43433b(0x27a)]]['last']:_0x20ea2c=0x1,_0x25e437[_0x43433b(0x284)]=formatResult(_0x20ea2c,0x8);}),proxyEmit(_0x3d318a(0x23a),_0x529287);}}}else proxyEmit(_0x3d318a(0x23a),![]);}function checkMinimums(_0x253925){const _0x48b1f5=_0x483e3c;let _0x4155bd=!![];const _0x68bfca=!_0x253925[_0x48b1f5(0x293)]?markets[_0x253925[_0x48b1f5(0x27a)]][_0x48b1f5(0x212)][_0x48b1f5(0x19a)][_0x48b1f5(0x141)]:markets[_0x253925[_0x48b1f5(0x27a)]]['limits']['cost'][_0x48b1f5(0x141)],_0x4ebb4c=!_0x253925['reverse']?markets[_0x253925[_0x48b1f5(0x27a)]][_0x48b1f5(0x212)][_0x48b1f5(0x1e7)]['min']:markets[_0x253925[_0x48b1f5(0x27a)]][_0x48b1f5(0x212)][_0x48b1f5(0x19a)]['min'],_0x1fab49=markets[_0x253925[_0x48b1f5(0x27a)]][_0x48b1f5(0x20d)]['amount'];_0x253925[_0x48b1f5(0x21b)]=formatResultTruncate(_0x253925[_0x48b1f5(0x21b)],_0x1fab49);if(Math[_0x48b1f5(0x281)](_0x253925[_0x48b1f5(0x21b)])<_0x68bfca)_0x4155bd=![];if(Math[_0x48b1f5(0x281)](_0x253925[_0x48b1f5(0x21b)])*_0x253925[_0x48b1f5(0x230)]<_0x4ebb4c)_0x4155bd=![];if(_0x253925['side']=='sell'){let _0x1c18b9=config[_0x48b1f5(0x23a)][_0x48b1f5(0x153)](_0x21a8df=>_0x21a8df[_0x48b1f5(0x1d4)]==_0x253925['coin']);if(_0x1c18b9[_0x48b1f5(0x240)]>0x0){if(Math[_0x48b1f5(0x281)](_0x253925['trade'])>_0x253925[_0x48b1f5(0x155)]-_0x1c18b9[_0x48b1f5(0x240)])_0x4155bd=![];}else{if(Math[_0x48b1f5(0x281)](_0x253925[_0x48b1f5(0x21b)])>_0x253925['number'])_0x4155bd=![];}}if(_0x253925['side']=='buy'){let _0x2b3b63=config['portfolio'][_0x48b1f5(0x153)](_0x3e9935=>_0x3e9935[_0x48b1f5(0x1d4)]==config['basecoin']),_0x1f92c1=currentCoins['find'](_0x3cd158=>_0x3cd158[_0x48b1f5(0x1d4)]==config[_0x48b1f5(0x270)]);if(_0x2b3b63['offset']>0x0){if(Math['abs'](_0x253925[_0x48b1f5(0x21b)])*_0x253925[_0x48b1f5(0x230)]>_0x1f92c1[_0x48b1f5(0x155)]-_0x2b3b63[_0x48b1f5(0x240)])_0x4155bd=![];}else{if(Math['abs'](_0x253925[_0x48b1f5(0x21b)])*_0x253925[_0x48b1f5(0x230)]>_0x1f92c1[_0x48b1f5(0x155)])_0x4155bd=![];}}return _0x4155bd;}async function getBalances(){const _0x445a37=_0x483e3c;let _0x4cbc60=0x0,_0x37bd88;const _0x34d253=config[_0x445a37(0x188)];if(config[_0x445a37(0x1c8)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x445a37(0x200)](_0x5730ce=>{const _0x512f0b=_0x445a37;if(_0x5730ce[_0x512f0b(0x1d4)]!=config[_0x512f0b(0x270)]){let _0x45b285=global[_0x512f0b(0x1e2)][noslash(_0x5730ce[_0x512f0b(0x27a)])];_0x37bd88=_0x5730ce[_0x512f0b(0x293)]?0x1/_0x45b285:_0x45b285;}else _0x37bd88=0x1;let _0x3dde1b=_0x5730ce[_0x512f0b(0x155)]*_0x37bd88;_0x4cbc60+=_0x3dde1b,_0x5730ce['last']=formatResult(Number(_0x37bd88),0x8),_0x5730ce[_0x512f0b(0x18e)]=_0x3dde1b;}),currentCoins['forEach'](_0x581ead=>{const _0x17787c=_0x445a37;let _0x5ecf41=config[_0x17787c(0x23a)][_0x17787c(0x153)](_0x6dcde0=>_0x6dcde0[_0x17787c(0x1d4)]==_0x581ead[_0x17787c(0x1d4)]),_0x4d2cf8=Number(_0x5ecf41[_0x17787c(0x25c)]),_0x2e9ac5=_0x581ead[_0x17787c(0x18e)]/_0x4cbc60*0x64,_0x39a5d6=_0x4d2cf8*_0x4cbc60/0x64/_0x581ead[_0x17787c(0x230)]-_0x581ead[_0x17787c(0x155)];_0x581ead[_0x17787c(0x25c)]=formatResult(_0x2e9ac5,0x3),_0x581ead[_0x17787c(0x1de)]=formatResult(_0x4d2cf8,0x3),_0x581ead[_0x17787c(0x21b)]=formatResult(_0x39a5d6,0x8),_0x581ead[_0x17787c(0x1e3)]='',_0x581ead[_0x17787c(0x1cb)]=![];if(_0x581ead[_0x17787c(0x1d4)]!=config[_0x17787c(0x270)]){if(_0x581ead[_0x17787c(0x25c)]>_0x4d2cf8)_0x581ead[_0x17787c(0x1e3)]='sell',_0x581ead[_0x17787c(0x1cb)]=checkMinimums(_0x581ead);else _0x581ead[_0x17787c(0x25c)]<_0x4d2cf8&&(_0x581ead['side']=_0x17787c(0x26c),_0x581ead[_0x17787c(0x1cb)]=checkMinimums(_0x581ead));}_0x581ead[_0x17787c(0x1b2)]=_0x581ead[_0x17787c(0x25c)]/_0x581ead[_0x17787c(0x1de)]-0x1;if(_0x581ead[_0x17787c(0x272)]=='filled'||_0x581ead[_0x17787c(0x272)]=='canceled')_0x581ead[_0x17787c(0x272)]='none';}),currentCoins[_0x445a37(0x290)]((_0x1b2d81,_0xbfe91)=>_0x1b2d81['delta']<_0xbfe91[_0x445a37(0x1b2)]?0x1:_0xbfe91[_0x445a37(0x1b2)]<_0x1b2d81[_0x445a37(0x1b2)]?-0x1:0x0);const _0x12612e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x12612e[_0x445a37(0x150)],'usd':_0x12612e[_0x445a37(0x289)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x34d253},proxyEmit(_0x445a37(0x20f),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x445a37(0x1c8)])headlessMode({'portfolio':currentCoins,'threshold':_0x34d253});else{if(lockOrders==ORDERS[_0x445a37(0x178)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x34d253});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x39de7c=_0x483e3c;if(!lastBalances)return;let _0x3dbe8b=[],_0x24773a,_0x19f341=JSON[_0x39de7c(0x204)](lastBalances[_0x39de7c(0x23a)]);_0x19f341[_0x39de7c(0x290)]((_0x8d3482,_0x54c9db)=>_0x8d3482[_0x39de7c(0x1d4)]>_0x54c9db[_0x39de7c(0x1d4)]?0x1:_0x54c9db[_0x39de7c(0x1d4)]>_0x8d3482[_0x39de7c(0x1d4)]?-0x1:0x0),_0x19f341[_0x39de7c(0x200)](_0x32b2ce=>{const _0x348066=_0x39de7c;let _0x2ee2aa={'coin':_0x32b2ce[_0x348066(0x1d4)],'number':_0x32b2ce[_0x348066(0x155)],'price':_0x32b2ce[_0x348066(0x230)]};_0x3dbe8b[_0x348066(0x13f)](_0x2ee2aa);});const _0x3fca3f=await getFiat();_0x24773a={'date':lastBalances[_0x39de7c(0x165)][_0x39de7c(0x1d9)]('\x20')[0x0],'eur':_0x3fca3f['eur'],'usd':_0x3fca3f['usd'],'coins':_0x3dbe8b};let _0x2568c8=dbPerformance[_0x39de7c(0x15c)](_0x39de7c(0x22b))[_0x39de7c(0x153)]({'date':_0x24773a[_0x39de7c(0x217)]})[_0x39de7c(0x18e)]();_0x2568c8?_0x24773a[_0x39de7c(0x217)]!=config[_0x39de7c(0x1f9)]&&dbPerformance['get'](_0x39de7c(0x22b))[_0x39de7c(0x153)]({'date':_0x24773a[_0x39de7c(0x217)]})[_0x39de7c(0x1ed)](_0x24773a)['write']():dbPerformance[_0x39de7c(0x15c)](_0x39de7c(0x22b))[_0x39de7c(0x13f)](_0x24773a)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4061eb=_0x483e3c;let _0x5cbb28=[];if(dbPerformance[_0x4061eb(0x26d)](_0x4061eb(0x22b))[_0x4061eb(0x18e)]()){let _0x529384=dbPerformance[_0x4061eb(0x15c)](_0x4061eb(0x22b))[_0x4061eb(0x15a)]()['sortBy']('date')[_0x4061eb(0x18e)](),_0x232a8c=[...config[_0x4061eb(0x19b)]];_0x232a8c[_0x4061eb(0x290)]((_0x334200,_0x145a85)=>_0x334200[_0x4061eb(0x217)]>_0x145a85[_0x4061eb(0x217)]?-0x1:_0x145a85[_0x4061eb(0x217)]>_0x334200[_0x4061eb(0x217)]?0x1:0x0);let _0x2843cd=0x1,_0x419919=[],_0x4d045a=0x0;_0x529384[_0x4061eb(0x242)]()[_0x4061eb(0x293)]()[_0x4061eb(0x200)]((_0x18159d,_0x252f01)=>{const _0x57fd96=_0x4061eb;if(_0x232a8c[_0x4d045a]){if(_0x529384[_0x529384[_0x57fd96(0x142)]-_0x252f01]&&_0x232a8c[_0x4d045a][_0x57fd96(0x217)]==_0x529384[_0x529384[_0x57fd96(0x142)]-_0x252f01][_0x57fd96(0x217)]){if(_0x252f01<_0x529384['length']){let _0x33e0e3=0x0,_0x12af3c=0x0;_0x529384[_0x529384[_0x57fd96(0x142)]-_0x252f01][_0x57fd96(0x1e4)]['forEach'](_0x26d47e=>{const _0x47c611=_0x57fd96;_0x12af3c+=_0x26d47e[_0x47c611(0x155)]*_0x26d47e[_0x47c611(0x284)];}),_0x232a8c[_0x4d045a][_0x57fd96(0x16e)][_0x57fd96(0x200)](_0x13a75e=>{const _0x262d98=_0x57fd96;_0x33e0e3+=_0x13a75e[_0x262d98(0x155)]*_0x13a75e[_0x262d98(0x284)];}),_0x2843cd*=_0x33e0e3/(_0x12af3c-_0x33e0e3)+0x1;}_0x4d045a++;}}let _0x1ae098=0x0;_0x18159d['coins'][_0x57fd96(0x200)](_0x574cd9=>{const _0x5996d9=_0x57fd96;_0x1ae098+=_0x574cd9[_0x5996d9(0x155)]*_0x574cd9[_0x5996d9(0x284)];}),_0x419919[_0x529384['length']-_0x252f01-0x1]=_0x1ae098*(_0x2843cd-0x1);});let _0x55c775=[];_0x232a8c=[...config['liquidity']]||[];let _0x547db1=0x0;_0x4d045a=0x0,_0x529384['forEach']((_0x40356a,_0x29fea1)=>{const _0x26d19f=_0x4061eb;if(_0x232a8c[_0x4d045a]){const _0x3cba50=fns[_0x26d19f(0x204)](_0x232a8c[_0x4d045a][_0x26d19f(0x217)],_0x26d19f(0x1dd),new Date()),_0x3d620e=fns[_0x26d19f(0x204)](_0x40356a['date'],_0x26d19f(0x1dd),new Date());if(fns[_0x26d19f(0x172)](_0x3cba50,_0x3d620e)){let _0x4bd123=0x0;_0x232a8c[_0x4d045a][_0x26d19f(0x16e)][_0x26d19f(0x200)](_0x567e45=>{const _0x3014c7=_0x26d19f;!_0x55c775[_0x567e45[_0x3014c7(0x1d4)]]?_0x55c775[_0x567e45[_0x3014c7(0x1d4)]]=_0x567e45['number']:(_0x4bd123=_0x55c775[_0x567e45[_0x3014c7(0x1d4)]],_0x55c775[_0x567e45[_0x3014c7(0x1d4)]]+=_0x567e45[_0x3014c7(0x155)]);const _0x3bb4fc=_0x40356a[_0x3014c7(0x1e4)][_0x3014c7(0x153)](_0xf52b5a=>_0xf52b5a[_0x3014c7(0x1d4)]==_0x567e45[_0x3014c7(0x1d4)]);(!_0x3bb4fc||_0x3bb4fc['number']==0x0)&&(_0x547db1+=(-_0x567e45[_0x3014c7(0x155)]-_0x4bd123)*_0x567e45[_0x3014c7(0x284)]);}),_0x4d045a++;}}_0x40356a[_0x26d19f(0x1e4)][_0x26d19f(0x200)]((_0x35bc38,_0x128d5b)=>{const _0x4d30c6=_0x26d19f;_0x55c775[_0x35bc38[_0x4d30c6(0x1d4)]]&&(_0x35bc38={..._0x35bc38,'initial':_0x55c775[_0x35bc38[_0x4d30c6(0x1d4)]]}),_0x40356a['coins'][_0x128d5b]=_0x35bc38;}),_0x5cbb28['push']({'date':_0x40356a['date'],'eur':_0x40356a['eur'],'usd':_0x40356a['usd'],'offset':_0x419919[_0x29fea1],'netoffset':_0x547db1,'coins':_0x40356a['coins']});});}return _0x5cbb28;}function emitPerformance(_0xf107ad){const _0x4bd044=_0x483e3c;_0xf107ad[_0x4bd044(0x142)]!==0x0?(proxyEmit(_0x4bd044(0x147),_0xf107ad),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x13e011,_0x4be8e7){const _0x11277a=_0x483e3c;let _0x206197=0x0,_0x1a26ec=0x0,_0x45b7c6=0x0;_0x13e011[_0x11277a(0x1e4)][_0x11277a(0x200)](_0x319101=>{const _0x3371ec=_0x11277a;_0x206197+=_0x319101[_0x3371ec(0x155)]*_0x319101[_0x3371ec(0x284)];});_0x4be8e7&&(_0x206197+=_0x13e011[_0x11277a(0x240)]);if(config[_0x11277a(0x270)]===_0x11277a(0x14b)||config[_0x11277a(0x270)]===_0x11277a(0x233))_0x1a26ec=_0x206197*_0x13e011[_0x11277a(0x150)],_0x45b7c6=_0x206197*_0x13e011['usd'];else{if(config[_0x11277a(0x270)]===_0x11277a(0x1c0)||config[_0x11277a(0x270)]==='USDT'||config[_0x11277a(0x270)]===_0x11277a(0x1ae))_0x1a26ec=_0x206197*_0x13e011[_0x11277a(0x150)]/_0x13e011[_0x11277a(0x289)],_0x45b7c6=_0x206197;else config[_0x11277a(0x270)]===_0x11277a(0x23c)&&(_0x1a26ec=_0x206197,_0x45b7c6=_0x206197*_0x13e011['usd']/_0x13e011['eur']);}return[_0x206197,_0x1a26ec,_0x45b7c6];}function getKPIs(_0x25d6f2,_0x59ff6e=_0x483e3c(0x23c)){const _0x48b979=_0x483e3c,_0xd70faf=config[_0x48b979(0x270)],_0xd8371a=config['balances'],_0x50d66e=currentCoins,_0x59fb82=getNormalizedPerformance(),_0x2441e9=_0x25d6f2==='basecoin'?_0xd70faf:_0x25d6f2==='fiat'||_0x25d6f2==='net-fiat'?_0x59ff6e:_0x48b979(0x253)+_0xd70faf,_0x4de7b4=_0x25d6f2===_0x48b979(0x143)?'Net\x20effect':_0x25d6f2===_0x48b979(0x201)?_0x48b979(0x250)+_0x2441e9+')':_0x2441e9+_0x48b979(0x264),_0x26018c=_0x25d6f2===_0x48b979(0x143)||_0x25d6f2===_0x48b979(0x201)?_0x48b979(0x168):_0x2441e9+_0x48b979(0x1f8);let _0x519f43=0x0;_0x50d66e['forEach'](_0x500c89=>{const _0x7184aa=_0x48b979;_0x519f43+=_0x500c89[_0x7184aa(0x155)]*_0x500c89[_0x7184aa(0x230)];});if(_0x25d6f2===_0x48b979(0x1b6)||_0x25d6f2===_0x48b979(0x201)){if(_0xd70faf===_0x48b979(0x14b)||_0xd70faf===_0x48b979(0x233))_0x519f43=_0x519f43*(_0x59ff6e===_0x48b979(0x23c)?_0xd8371a[_0x48b979(0x150)]:_0xd8371a[_0x48b979(0x289)]);else{if(_0xd70faf===_0x48b979(0x1c0)||_0xd70faf===_0x48b979(0x1f3)||_0xd70faf===_0x48b979(0x1ae))_0x519f43=_0x519f43*(_0x59ff6e===_0x48b979(0x23c)?_0xd8371a[_0x48b979(0x150)]/_0xd8371a[_0x48b979(0x289)]:0x1);else _0xd70faf==='EUR'&&(_0x519f43=_0x519f43*(_0x59ff6e===_0x48b979(0x23c)?0x1:_0xd8371a[_0x48b979(0x289)]/_0xd8371a['eur']));}}let _0x52d3e5;if(_0x519f43!==0x0){if(_0x25d6f2===_0x48b979(0x270))_0x52d3e5=(_0x519f43/startingBalances[_0x48b979(0x270)]-0x1)*0x64;else{if(_0x59ff6e===_0x48b979(0x23c))_0x52d3e5=(_0x519f43/startingBalances[_0x48b979(0x150)]-0x1)*0x64;else _0x52d3e5=(_0x519f43/startingBalances[_0x48b979(0x289)]-0x1)*0x64;}let _0xab0a0c=0x0;if(startingBalances[_0x48b979(0x1e4)])_0x50d66e[_0x48b979(0x200)](_0x46fa18=>{const _0xa1ec74=_0x48b979;let _0x31d963=startingBalances[_0xa1ec74(0x1e4)][_0xa1ec74(0x153)](_0x3cb81b=>_0x3cb81b[_0xa1ec74(0x1d4)]===_0x46fa18[_0xa1ec74(0x1d4)]);if(_0x31d963&&_0x31d963['coin']&&_0x46fa18[_0xa1ec74(0x155)]!==0x0)_0xab0a0c+=_0x31d963[_0xa1ec74(0x155)]*_0x46fa18[_0xa1ec74(0x230)];});let _0x18cda4=0x0;if(_0x59fb82[_0x48b979(0x142)]!==0x0){let _0x2563a9=_0x59fb82[_0x59fb82[_0x48b979(0x142)]-0x1];_0x18cda4=_0x2563a9['netoffset'];}_0xab0a0c-=_0x18cda4;_0x25d6f2===_0x48b979(0x143)&&(_0x52d3e5=(_0x519f43-_0xab0a0c)/startingBalances[_0x48b979(0x270)]*0x64,_0x519f43=_0x519f43-_0xab0a0c);if(_0x25d6f2===_0x48b979(0x201)){let _0x3e8ccc=_0x59ff6e===_0x48b979(0x23c)?startingBalances['eur']:startingBalances[_0x48b979(0x289)];if(_0xd70faf==='BTC'||_0xd70faf===_0x48b979(0x233))_0xab0a0c=_0x59ff6e===_0x48b979(0x23c)?_0xab0a0c*_0xd8371a[_0x48b979(0x150)]:_0xab0a0c*_0xd8371a['usd'];else{if(_0xd70faf===_0x48b979(0x1c0)||_0xd70faf===_0x48b979(0x1f3)||_0xd70faf===_0x48b979(0x1ae))_0xab0a0c=_0x59ff6e===_0x48b979(0x23c)?_0xab0a0c*_0xd8371a[_0x48b979(0x150)]/_0xd8371a[_0x48b979(0x289)]:_0xab0a0c;else _0xd70faf===_0x48b979(0x23c)&&(_0xab0a0c=_0x59ff6e==='EUR'?_0xab0a0c:_0xab0a0c*_0xd8371a[_0x48b979(0x289)]/_0xd8371a['eur']);}_0x52d3e5=(_0x519f43-_0xab0a0c)/_0x3e8ccc*0x64,_0x519f43=_0x519f43-_0xab0a0c;}if(_0x52d3e5){if(_0x52d3e5<0x64)_0x52d3e5=_0x52d3e5[_0x48b979(0x276)](0x2);else{if(_0x52d3e5<0x3e8)_0x52d3e5=_0x52d3e5[_0x48b979(0x276)](0x1);else _0x52d3e5=_0x52d3e5[_0x48b979(0x276)](0x0);}}else _0x52d3e5=Number('0')[_0x48b979(0x276)](0x2);if(_0x519f43){if(Math[_0x48b979(0x281)](_0x519f43)<0.000001)_0x519f43=_0x519f43['toFixed'](0x2);else{if(Math[_0x48b979(0x281)](_0x519f43)<0.1)_0x519f43=_0x519f43[_0x48b979(0x276)](0x6);else{if(Math['abs'](_0x519f43)<0x1)_0x519f43=_0x519f43['toFixed'](0x5);else{if(Math[_0x48b979(0x281)](_0x519f43)<0xa)_0x519f43=_0x519f43[_0x48b979(0x276)](0x4);else{if(Math['abs'](_0x519f43)<0x64)_0x519f43=_0x519f43[_0x48b979(0x276)](0x3);else{if(Math[_0x48b979(0x281)](_0x519f43)<0x3e8)_0x519f43=_0x519f43[_0x48b979(0x276)](0x2);else _0x519f43=_0x519f43[_0x48b979(0x276)](0x2);}}}}}}else _0x519f43=Number('0')[_0x48b979(0x276)](0x2);}else _0x52d3e5=Number('0')[_0x48b979(0x276)](0x2);return{'value':_0x519f43,'change':_0x52d3e5,'leftTxt':_0x4de7b4,'rightTxt':_0x26018c};}async function getStartingBalances(_0x5942ae,_0x344db7=!![]){const _0x5e4c57=_0x483e3c;if(_0x5942ae['length']!==0x0){const [_0x4bc7a5,_0x4ef7d4,_0x1e66d4]=getPerf(_0x5942ae[0x0],!![]);let _0x4ca7e3=[];config['portfolio'][_0x5e4c57(0x200)](_0x499880=>{const _0x35dc47=_0x5e4c57;let _0x31f116=0x0,_0x8f0b7c;config[_0x35dc47(0x19b)]['forEach'](_0x390df2=>{const _0x59a4e2=_0x35dc47;let _0x2b5f43=_0x390df2['changes'][_0x59a4e2(0x153)](_0x3776d9=>_0x3776d9[_0x59a4e2(0x1d4)]==_0x499880[_0x59a4e2(0x1d4)]);if(_0x2b5f43){_0x31f116+=_0x2b5f43[_0x59a4e2(0x155)];if(!_0x8f0b7c)_0x8f0b7c=_0x2b5f43[_0x59a4e2(0x284)];}}),_0x4ca7e3[_0x35dc47(0x13f)]({'coin':_0x499880[_0x35dc47(0x1d4)],'number':_0x31f116,'initialprice':_0x8f0b7c});});const _0x504a87={'basecoin':_0x4bc7a5,'eur':_0x4ef7d4,'usd':_0x1e66d4,'coins':_0x4ca7e3};if(_0x344db7)proxyEmit('starting-balances',_0x504a87);startingBalances=_0x504a87;}}function headlessMode(_0x282136){const _0x34f5e6=_0x483e3c;let _0x80bc98=_0x282136[_0x34f5e6(0x23a)],_0x5a0a4e=_0x282136['threshold'],_0x1a7ca3=[];for(let _0x208b22 of _0x80bc98){if(_0x208b22[_0x34f5e6(0x1d4)]!=config['basecoin']){if(_0x208b22[_0x34f5e6(0x1b2)]>=_0x5a0a4e/0x64){if(_0x208b22[_0x34f5e6(0x1cb)])_0x1a7ca3['push'](_0x208b22);}else{if(_0x208b22['delta']<=-_0x5a0a4e/0x64){if(_0x208b22['valid'])_0x1a7ca3[_0x34f5e6(0x13f)](_0x208b22);}}}}_0x1a7ca3[_0x34f5e6(0x142)]>0x0&&placeOrder(_0x1a7ca3);}function notifyBalance(_0x4f07ec){const _0x2713a6=_0x483e3c;let _0x1ea064=_0x4f07ec[_0x2713a6(0x23a)],_0x2949cf=_0x4f07ec[_0x2713a6(0x188)],_0x16a6b5=[];for(let _0x11ce8c of _0x1ea064){if(_0x11ce8c[_0x2713a6(0x1d4)]!=config['basecoin']){if(_0x11ce8c[_0x2713a6(0x1b2)]>=_0x2949cf/0x64){if(_0x11ce8c[_0x2713a6(0x1cb)])_0x16a6b5[_0x2713a6(0x13f)](_0x11ce8c);}else{if(_0x11ce8c[_0x2713a6(0x1b2)]<=-_0x2949cf/0x64){if(_0x11ce8c['valid'])_0x16a6b5['push'](_0x11ce8c);}}}}if(_0x16a6b5[_0x2713a6(0x142)]>0x0){let _0x52a698=_0x16a6b5[_0x2713a6(0x205)](_0x43f064=>_0x43f064[_0x2713a6(0x1d4)]);_0x52a698[_0x2713a6(0x290)]();let _0x25bd9c=_0x52a698[_0x2713a6(0x28e)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2713a6(0x1ef),_0x2713a6(0x191));lastCoinsToBalance=_0x25bd9c;}}function symbolToCoin(_0x1910b9){const _0x39645e=_0x483e3c;let _0x4a642b;if(_0x1910b9['includes']('/'+config[_0x39645e(0x270)]))_0x4a642b=_0x1910b9[_0x39645e(0x24b)]('/'+config[_0x39645e(0x270)],'');if(_0x1910b9[_0x39645e(0x187)](config[_0x39645e(0x270)]+'/'))_0x4a642b=_0x1910b9[_0x39645e(0x24b)](config[_0x39645e(0x270)]+'/','');return _0x4a642b;}async function unlockOrders(){const _0x57eab9=_0x483e3c;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x57eab9(0x25b)](_0x57eab9(0x279)),lockOrders=ORDERS[_0x57eab9(0x15d)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x57eab9(0x235),persistOpenOrders([]),lockOrders=ORDERS[_0x57eab9(0x178)],logger['debug'](_0x57eab9(0x173));}}async function validateOrders(_0x32fa58){const _0x4d62ae=_0x483e3c;if(_0x32fa58)validateOrdersState=_0x32fa58;logger[_0x4d62ae(0x25b)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x4d62ae(0x162)+(lockOrders==0x1?_0x4d62ae(0x223):lockOrders==0x2?_0x4d62ae(0x28f):_0x4d62ae(0x198)));let _0x2f49d6=[],_0x2518b7=config[_0x4d62ae(0x170)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4d62ae(0x228)])return;logger[_0x4d62ae(0x25b)](_0x4d62ae(0x18c)+validateOrdersState),lastOrders[_0x4d62ae(0x200)](_0x552f73=>{const _0x2d04b5=_0x4d62ae;let _0x45c939=![];_0x552f73[_0x2d04b5(0x285)]>0x0&&(_0x45c939=!![]),_0x2f49d6[_0x2d04b5(0x13f)](_0x45c939),_0x45c939&&config[_0x2d04b5(0x170)]!=_0x2d04b5(0x25f)&&logHistory(_0x2d04b5(0x21d),_0x2d04b5(0x18d)+_0x552f73['symbol']+'\x20'+_0x552f73[_0x2d04b5(0x1e3)]+'\x20#'+formatResult(_0x552f73['filled'],0x8)+'\x20@'+formatResult(_0x552f73[_0x2d04b5(0x284)],0x8));}),_0x2f49d6[_0x4d62ae(0x200)]((_0x397a94,_0x2e732e)=>{if(_0x397a94)lastOrders['splice'](_0x2e732e,0x1);}),persistOpenOrders(lastOrders);const _0x2cfd4e=coolingDown?_0x4d62ae(0x157):_0x4d62ae(0x20b);if(validateOrdersState==_0x4d62ae(0x235))validateOrdersState=_0x4d62ae(0x163),_0x2f49d6[_0x4d62ae(0x187)](![])?config[_0x4d62ae(0x170)]==_0x4d62ae(0x25f)?logHistory('warning',_0x4d62ae(0x211)):logHistory(_0x4d62ae(0x1ef),_0x4d62ae(0x182)):await unlockOrders();else{if(validateOrdersState==_0x4d62ae(0x163)){if(_0x2f49d6[_0x4d62ae(0x187)](![])){}else allOrdersPlaced&&(config[_0x4d62ae(0x170)]==_0x4d62ae(0x25f)?logHistory(_0x4d62ae(0x1a7),_0x4d62ae(0x1eb)+_0x2cfd4e):logHistory(_0x4d62ae(0x1a7),'Order(s)\x20filled\x20-\x20'+_0x2cfd4e),await unlockOrders());}else{if(validateOrdersState==_0x4d62ae(0x184))_0x2f49d6[_0x4d62ae(0x187)](![])&&(config['ordertype']==_0x4d62ae(0x25f)?logHistory(_0x4d62ae(0x1a7),_0x4d62ae(0x25a)+Math[_0x4d62ae(0x1e6)](_0x2518b7*validateOrderInterval/0xea60)+_0x4d62ae(0x16c)+_0x2cfd4e):(await cancelOrders(),logHistory(_0x4d62ae(0x1a7),_0x4d62ae(0x203)+Math[_0x4d62ae(0x1e6)](_0x2518b7*validateOrderInterval/0xea60)+_0x4d62ae(0x16c)+_0x2cfd4e))),await unlockOrders();else{if(validateOrdersState==_0x4d62ae(0x17f)){if(config['ordertype']!='market')logHistory(_0x4d62ae(0x1a7),'No\x20more\x20open\x20orders\x20-\x20'+_0x2cfd4e);await unlockOrders();}}}}}async function cancelOrders(){const _0xf074d7=_0x483e3c;lastOrders[_0xf074d7(0x200)](async _0x24ac91=>{const _0x251e6c=_0xf074d7;try{const _0x325891=await exchange[_0x251e6c(0x1fa)](_0x24ac91['orderId'],_0x24ac91[_0x251e6c(0x27a)]);}catch(_0xd2073c){if(_0xd2073c[_0x251e6c(0x207)]()[_0x251e6c(0x187)]('OrderNotFound')){}else await handleError(_0xd2073c,_0x251e6c(0x26a));}});}async function initCoinResults(){const _0x4d3c24=_0x483e3c;let _0xb97fbf=[];config['portfolio']['forEach'](_0x2d953e=>{const _0x366a26=_0x7337;if(!_0x2d953e['excluded']&&_0x2d953e[_0x366a26(0x1d4)]!=config[_0x366a26(0x270)]){let _0x1a77e2=dbCoinResults[_0x366a26(0x15c)](_0x366a26(0x1e4))[_0x366a26(0x153)]({'coin':_0x2d953e[_0x366a26(0x1d4)]})[_0x366a26(0x18e)]();if(!_0x1a77e2){const _0x53d235=currentCoins[_0x366a26(0x153)](_0x3afcdc=>_0x3afcdc['coin']==_0x2d953e[_0x366a26(0x1d4)]),_0x5dc7e7=global[_0x366a26(0x1e2)][noslash(_0x2d953e['symbol'])];let _0x3cfcf9=_0x53d235?_0x53d235[_0x366a26(0x155)]:null,_0x44b41f=_0x2d953e[_0x366a26(0x293)]?0x1/_0x5dc7e7:_0x5dc7e7,_0x5a52c6;config['liquidity'][_0x366a26(0x200)](_0x20c499=>{const _0x475807=_0x366a26;!_0x5a52c6&&(_0x5a52c6=_0x20c499[_0x475807(0x16e)][_0x475807(0x153)](_0x192744=>_0x192744[_0x475807(0x1d4)]==_0x2d953e[_0x475807(0x1d4)]),_0x5a52c6&&(_0x3cfcf9=_0x5a52c6[_0x475807(0x155)],_0x44b41f=_0x5a52c6['price']));}),_0xb97fbf[_0x366a26(0x13f)]({'coin':_0x2d953e['coin'],'number':_0x3cfcf9,'price':_0x44b41f});}}}),_0xb97fbf[_0x4d3c24(0x200)](_0x1ab296=>{const _0x142e63=_0x4d3c24,_0x5ea3a2={'coin':_0x1ab296[_0x142e63(0x1d4)],'number':_0x1ab296[_0x142e63(0x155)],'breakeven':_0x1ab296[_0x142e63(0x284)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x142e63(0x1e4))['push'](_0x5ea3a2)[_0x142e63(0x269)]();});}async function updateCoinResults(_0x5c81f6,_0x1c1c2e=![]){const _0x27b0c9=_0x483e3c;let _0x4ef426,_0x48a15,_0x1d469d,_0x85e8fa,_0x432dc3,_0x11d200,_0x2920a6=dbCoinResults['get'](_0x27b0c9(0x1e4))[_0x27b0c9(0x153)]({'coin':_0x5c81f6[_0x27b0c9(0x1d4)]})[_0x27b0c9(0x18e)]();!_0x2920a6&&await initCoinResults();_0x5c81f6[_0x27b0c9(0x293)]&&(_0x11d200={'filled':_0x5c81f6[_0x27b0c9(0x285)]*_0x5c81f6[_0x27b0c9(0x284)],'amount':_0x5c81f6[_0x27b0c9(0x285)]*_0x5c81f6[_0x27b0c9(0x284)],'side':_0x5c81f6[_0x27b0c9(0x1e3)]==_0x27b0c9(0x274)?_0x27b0c9(0x26c):_0x27b0c9(0x274),'price':0x1/_0x5c81f6[_0x27b0c9(0x284)]},_0x5c81f6={..._0x5c81f6,..._0x11d200});_0x1c1c2e?_0x48a15=_0x5c81f6[_0x27b0c9(0x1e3)]=='buy'?_0x2920a6[_0x27b0c9(0x155)]+_0x5c81f6[_0x27b0c9(0x285)]:_0x2920a6[_0x27b0c9(0x155)]-_0x5c81f6['filled']:_0x48a15=await getCoinNumber(_0x5c81f6[_0x27b0c9(0x1d4)]);if(_0x5c81f6[_0x27b0c9(0x18b)]&&_0x5c81f6[_0x27b0c9(0x18b)][_0x27b0c9(0x18f)]==config[_0x27b0c9(0x270)])_0x4ef426=_0x5c81f6[_0x27b0c9(0x18b)][_0x27b0c9(0x1e7)];else{if(_0x5c81f6['fee']&&_0x5c81f6[_0x27b0c9(0x18b)][_0x27b0c9(0x18f)]==_0x27b0c9(0x28c)&&!_0x1c1c2e)_0x4ef426=_0x5c81f6[_0x27b0c9(0x18b)]['cost']*global[_0x27b0c9(0x1e2)][_0x27b0c9(0x28c)+config['basecoin']];else _0x4ef426=defaultFee*_0x5c81f6[_0x27b0c9(0x285)]*_0x5c81f6[_0x27b0c9(0x284)];}_0x5c81f6[_0x27b0c9(0x1e3)]==_0x27b0c9(0x26c)?(_0x1d469d=_0x48a15!=0x0?(_0x2920a6['breakeven']*_0x2920a6[_0x27b0c9(0x155)]+_0x5c81f6[_0x27b0c9(0x284)]*(_0x48a15-_0x2920a6['number'])+_0x4ef426)/_0x48a15:0x0,_0x85e8fa=_0x2920a6[_0x27b0c9(0x28b)]):(_0x1d469d=_0x48a15!=0x0?(_0x2920a6['breakeven']*_0x2920a6[_0x27b0c9(0x155)]-_0x5c81f6['price']*(_0x2920a6['number']-_0x48a15)+_0x4ef426)/_0x48a15:0x0,_0x85e8fa=_0x2920a6[_0x27b0c9(0x28b)]+(_0x5c81f6['price']-_0x2920a6[_0x27b0c9(0x1c2)])*_0x5c81f6[_0x27b0c9(0x285)]);_0x432dc3=(_0x5c81f6['price']-_0x1d469d-_0x4ef426/_0x5c81f6[_0x27b0c9(0x285)])*_0x48a15;let _0x1a3ad8={'coin':_0x5c81f6[_0x27b0c9(0x1d4)],'number':_0x48a15,'breakeven':formatResult(_0x1d469d,0x8),'realized':formatResult(_0x85e8fa,0x8),'unrealized':formatResult(_0x432dc3,0x8),'fees':formatResult(_0x2920a6['fees']+_0x4ef426,0x8),'sells':_0x5c81f6[_0x27b0c9(0x1e3)]==_0x27b0c9(0x274)?_0x2920a6[_0x27b0c9(0x18a)]+0x1:_0x2920a6['sells'],'buys':_0x5c81f6['side']=='buy'?_0x2920a6['buys']+0x1:_0x2920a6[_0x27b0c9(0x144)]};dbCoinResults[_0x27b0c9(0x15c)](_0x27b0c9(0x1e4))['find']({'coin':_0x5c81f6['coin']})[_0x27b0c9(0x1ed)](_0x1a3ad8)[_0x27b0c9(0x269)]();if(!_0x1c1c2e){if(_0x5c81f6[_0x27b0c9(0x18b)]&&_0x5c81f6[_0x27b0c9(0x18b)][_0x27b0c9(0x18f)]==_0x27b0c9(0x28c)){const _0x3089d5=currentCoins['find'](_0x25fd96=>_0x25fd96[_0x27b0c9(0x1d4)]==_0x27b0c9(0x28c));if(_0x3089d5){let _0x2b0bde=dbCoinResults[_0x27b0c9(0x15c)](_0x27b0c9(0x1e4))[_0x27b0c9(0x153)]({'coin':'BNB'})[_0x27b0c9(0x18e)]();_0x1a3ad8={..._0x2b0bde,'number':_0x3089d5['number']},dbCoinResults[_0x27b0c9(0x15c)](_0x27b0c9(0x1e4))[_0x27b0c9(0x153)]({'coin':_0x27b0c9(0x28c)})[_0x27b0c9(0x1ed)](_0x1a3ad8)[_0x27b0c9(0x269)]();}}}}async function placeOrder(_0x13ad43){const _0x55928d=_0x483e3c,_0x1069ff=config[_0x55928d(0x170)]==_0x55928d(0x25f)?_0x55928d(0x25f):_0x55928d(0x177);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x55928d(0x228)],allOrdersPlaced=![],validateOrdersState=_0x55928d(0x235),lastOrders=[];for(const _0x54ea17 of _0x13ad43){let _0x3af7b7,_0x4432bd,_0x21fabe,_0x452655,_0x4482c5,_0x210cad=_0x54ea17[_0x55928d(0x27a)];try{const _0x2d16a1=await exchange[_0x55928d(0x280)](_0x210cad);_0x3af7b7=_0x54ea17[_0x55928d(0x293)]?0x1/_0x54ea17[_0x55928d(0x230)]:_0x54ea17[_0x55928d(0x230)],_0x4432bd=_0x2d16a1[_0x55928d(0x1d2)],_0x21fabe=_0x2d16a1[_0x55928d(0x227)];_0x54ea17[_0x55928d(0x293)]?(_0x452655=_0x54ea17[_0x55928d(0x1e3)]==_0x55928d(0x26c)?_0x55928d(0x274):'buy',_0x4482c5=Math[_0x55928d(0x281)](_0x54ea17[_0x55928d(0x21b)])/_0x3af7b7):(_0x452655=_0x54ea17[_0x55928d(0x1e3)],_0x4482c5=Math['abs'](_0x54ea17['trade']));_0x1069ff==_0x55928d(0x177)&&(config[_0x55928d(0x170)]==_0x55928d(0x226)&&(_0x3af7b7=_0x452655==_0x55928d(0x26c)?_0x4432bd:_0x21fabe),config[_0x55928d(0x170)]==_0x55928d(0x1ec)&&(_0x3af7b7=_0x452655==_0x55928d(0x26c)?_0x21fabe:_0x4432bd));_0x4482c5=formatResult(_0x4482c5,0x8),_0x3af7b7=formatResult(_0x3af7b7,0x8);const _0x4dccfa=_0x452655==_0x55928d(0x274)?config[_0x55928d(0x257)]?String[_0x55928d(0x183)]('0x'+config[_0x55928d(0x257)])+'\x20':'':config[_0x55928d(0x20a)]?String[_0x55928d(0x183)]('0x'+config['emojibuy'])+'\x20':'',_0x1fd30e=_0x1069ff=='market'?_0x55928d(0x195):config[_0x55928d(0x170)]==_0x55928d(0x226)?_0x55928d(0x263):_0x55928d(0x167),_0x456e74=new Date()['getTime']()[_0x55928d(0x207)]()['slice'](-0x6)+'-'+Math[_0x55928d(0x1f5)]()[_0x55928d(0x207)]()[_0x55928d(0x242)](-0x6);lastOrders[_0x55928d(0x13f)]({'customId':_0x456e74,'symbol':_0x210cad,'coin':_0x54ea17[_0x55928d(0x1d4)],'side':_0x452655,'reverse':_0x54ea17[_0x55928d(0x293)],'filled':0x0});if(_0x1069ff=='market')logHistory(_0x55928d(0x21d),''+_0x4dccfa+_0x1fd30e+_0x55928d(0x20e)+_0x210cad+'\x20'+_0x452655+'\x20#'+formatResult(_0x4482c5,0x8)+'\x20@'+formatResult(_0x3af7b7,0x8));else logHistory(_0x55928d(0x21d),''+_0x4dccfa+_0x1fd30e+_0x55928d(0x20e)+_0x210cad+'\x20'+_0x452655+'\x20#'+formatResult(_0x4482c5,0x8)+'\x20@'+formatResult(_0x3af7b7,0x8));const _0x24597f=await exchange[_0x55928d(0x266)](_0x210cad,_0x1069ff,_0x452655,_0x4482c5,_0x3af7b7,{'clientOrderId':_0x456e74}),_0x539f53=lastOrders['length']-0x1;_0x539f53>=0x0&&lastOrders[_0x539f53]['customId']==_0x456e74&&(lastOrders[_0x539f53]={...lastOrders[_0x539f53],'orderId':_0x24597f['id'],'amount':_0x24597f[_0x55928d(0x19a)],'price':_0x24597f[_0x55928d(0x284)],'fee':_0x24597f['fee']});if(config[_0x55928d(0x194)]!=0x0){let _0x2695b0=null;if(cooldownTracker[_0x55928d(0x142)]==config['cooldown']-0x1)_0x2695b0=cooldownTracker['shift']();const _0x3cb03c=getTimeStamp();cooldownTracker[_0x55928d(0x13f)](_0x3cb03c);if(_0x2695b0){const _0x5e6b6d=fns[_0x55928d(0x273)](new Date(_0x3cb03c),new Date(_0x2695b0));if(_0x5e6b6d<cooldownInterval){logHistory(_0x55928d(0x243),_0x55928d(0x21e)+config['cooldown']+_0x55928d(0x249)+cooldownInterval/0x3c+_0x55928d(0x1b7)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x4819b4){if(_0x4819b4[_0x55928d(0x207)]()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders[_0x55928d(0x265)](_0x95f24f=>_0x95f24f[_0x55928d(0x27a)]!=_0x210cad),logHistory(_0x55928d(0x243),_0x55928d(0x152)+_0x210cad);else _0x4819b4[_0x55928d(0x207)]()[_0x55928d(0x187)](_0x55928d(0x229))?(lastOrders=lastOrders[_0x55928d(0x265)](_0x14c4c4=>_0x14c4c4[_0x55928d(0x27a)]!=_0x210cad),logHistory(_0x55928d(0x243),_0x55928d(0x26b)+_0x210cad)):(lastOrders=lastOrders['filter'](_0x22c07b=>_0x22c07b[_0x55928d(0x27a)]!=_0x210cad),await handleError(_0x4819b4,_0x55928d(0x1cc),_0x210cad));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x55928d(0x142)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x23c8d7=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x55928d(0x288)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x50abbc=_0x55928d;validateOrders(_0x50abbc(0x184));},_0x23c8d7);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x55928d(0x1a7),_0x55928d(0x1f4)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x55928d(0x1b3));else lockOrders!=ORDERS[_0x55928d(0x178)]&&(!config[_0x55928d(0x1c8)]&&(config[_0x55928d(0x170)]==_0x55928d(0x25f)?logHistory(_0x55928d(0x243),_0x55928d(0x16b)):logHistory('error',_0x55928d(0x1e0))));}}function persistOpenOrders(_0x43a099){const _0xbf7b3e=_0x483e3c,_0x18b664={...config,'openOrders':_0x43a099};let _0x403032=dbConfig[_0xbf7b3e(0x15c)](_0xbf7b3e(0x254))[_0xbf7b3e(0x153)]({'botID':botID})[_0xbf7b3e(0x18e)]();_0x403032&&dbConfig[_0xbf7b3e(0x15c)](_0xbf7b3e(0x254))[_0xbf7b3e(0x153)]({'botID':botID})[_0xbf7b3e(0x1ed)](_0x18b664)['write']();}function _0x18dc(){const _0xf07f58=['-------------------------------\x0a','timeshift','\x20not\x20available','indexOf','ORDERS.LOCKED','fetchClosedOrders','canceled','limit-high','ask','LOCKED','Invalid\x20quantity','string','data','fetchOpenOrders','2\x20-\x20Handled\x20open\x20orders','\x20-\x20bot\x20not\x20started','symbols','last','createWriteStream','timer:','ETH','recreate','initial','startnumber','page','getStartingBalances','11AMFFWM','portfolio','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','EUR','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','-events.json','configuration','offset','\x20:\x20','slice','error','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','ExchangeNotAvailable','showname','./logs/',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20orders\x20in\x20less\x20than\x20','4ZhLmdW','replace','set','yyyy-MM-dd\x27T\x27HH:mm:ss','5605270IsZBYn','running','Net\x20effect\x20(','HOT/BTC','/EUR','Net\x20','bot','watchOrders','concat','emojisell','getTime','\x20|\x20','Order(s)\x20not\x20validated\x20after\x20','debug','distribution','Pausing\x20for\x20','recreateCoinResults()','market','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','findIndex','***','Limit\x20(high-margin)','\x20value','filter','createOrder','argv','1\x20-\x20FILLED:\x20','write','cancelOrders()','Order\x20amount\x20is\x20invalid:\x20','buy','has','-config.json','getPortfolio()','basecoin','1954026LTCmgl','orderstatus','differenceInSeconds','sell','API-key\x20format\x20invalid','toFixed','type','bot-','1\x20-\x20Unlock\x20orders','symbol','max','coin-loading-progress','\x20API\x20blocked\x20(DDoS\x20protection)','status','substring','fetchTicker','abs','\x20exchange','1463546zdVDGx','price','filled','./config/','getMinutes','timeout','usd','getSeconds','realized','BNB','fetchBalance','join','ORDERS.UNLOCKING','sort','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','change24h','reverse','startprice','push','simple','min','length','net-basecoin','buys','progress','Failed\x20to\x20load\x20coin\x20data\x20for\x20','performance','full','apiKey','send','BTC','getHours','lowdb/adapters/FileSync','./version.json','function','eur','%\x20\x0a','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','find','splice','number','exec','balancing\x20resumes\x20when\x20cooldown\x20ends','percentage','storeConfiguration','cloneDeep','excluded','get','UNLOCKING','apiSecret','cancel','clientOrderId','Error:\x20Invalid\x20argument\x20','\x20|\x20lock\x20orders:\x20','ongoing','recovery','time','milliseconds','Limit\x20(low-margin)','Net\x20effect','getFullYear','loading-canceled','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','\x20minutes\x20-\x20','-results.json','changes','exchange','ordertype','loadMarkets','isEqual','2\x20-\x20Orders\x20unlocked','AuthenticationError','\x20>\x20[DEBUG]\x20','(((.+)+)+)+$','limit','UNLOCKED','none','RequestTimeout','exchanges','remove','RSA-OAEP','existsSync','no\x20open\x20orders','apply','************','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','fromCodePoint','final','mkdirSync','event','includes','threshold','padStart','sells','fee','2\x20-\x20Validate\x20orders:\x20','Order\x20filled:\x20','value','currency','YOYOW/','Manual\x20balancing\x20required','Crypt','1\x20-\x20Handle\x20open\x20orders','cooldown','Market','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','keys','ORDERS.UNLOCKED','customId','amount','liquidity','enabled','logs','format','2.6.0','close','<b>Bot\x20','Executing\x20exchange\x20reload','botname','stringify','001','timestamp','success','<b>','toggleBotMode','change','defaults','secure','open','USD','event-history','padEnd','botID','delta','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','privateKey','watchTrades','fiat','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','2\x20-\x20FILLED\x20known\x20order:\x20','/USD','decrypt','remainingSymbols','XEM/BUSD','InsufficientFunds','getOpenOrders()','<pre>','BUSD','initclient','breakeven','settings','loadSymbols()','getPortfolio','openOrders','3\x20-\x20handling\x20FILLED\x20order:\x20','headless','1671910HgUKqc','Bot\x20','valid','placeOrder()','util','getCoins()','\x20not\x20responding','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','bid','args','coin','parseISO','search','lowdb','storeHeadless','split','entries','\x20API\x20secret\x20is\x20invalid','471638kikuFL','yyyy/MM/dd','target','8sPZkcW','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','BNB/','ticker','side','coins','writeFile','round','cost','sortBy','total','date-fns','Order(s)\x20validated\x20-\x20','limit-low','assign','/output-000.log','warning','leftTxt','version','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','USDT','Cooldown\x20ended\x20-\x20balancing\x20resumed','random','2.3.5','getMonth','\x20change','startdate','cancelOrder','add','log','\x20>\x20','/backup/','69759lWtebz','forEach','net-fiat','bb-settings.json','Unfilled\x20order(s)\x20canceled\x20after\x20','parse','map','2NJFOsC','toString','placeOrder','starting-balance-','emojibuy','balancing\x20resumed','getDate','precision','\x20order:\x20','balances','toLowerCase','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','limits','rightTxt','restart','Unknown\x20error\x20occured','message','date','1763706BRSQbP','\x20API\x20key\x20is\x20invalid','datetime','trade','NANO/','order','Executed\x20'];_0x18dc=function(){return _0xf07f58;};return _0x18dc();}function restoreOrders(){const _0x1aa522=_0x483e3c;let _0x311806;config[_0x1aa522(0x1c6)]&&allOpenOrders[_0x1aa522(0x200)](_0x398726=>{const _0xeab26=config['openOrders']['find'](_0x37626=>_0x37626['orderId']==_0x398726['id']);_0xeab26&&(lastOrders['push'](_0xeab26),_0x311806=_0x398726['timestamp']);});if(lastOrders[_0x1aa522(0x142)]>0x0){lockOrders=ORDERS[_0x1aa522(0x228)],validateOrdersState=_0x1aa522(0x163),allOrdersPlaced=!![];const _0x565ec7=new Date()[_0x1aa522(0x258)](),_0x2314c0=config[_0x1aa522(0x170)]==_0x1aa522(0x25f)?validateOrderTimeout*0x3c*0x3e8:config[_0x1aa522(0x288)]*0x3c*0x3e8;if(_0x311806+_0x2314c0>_0x565ec7){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4dbccb=_0x1aa522;validateOrders(_0x4dbccb(0x184));},_0x311806+_0x2314c0-_0x565ec7);}else validateOrders('final');}}async function sendPortfolioTelegram(){const _0x56d5b1=_0x483e3c;if(!coinsLoaded){process['send']({'telegrammsg':_0x56d5b1(0x196)},_0x581b74=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x4bdb12=[_0x56d5b1(0x23c),'USD','BUSD',_0x56d5b1(0x1f3)],_0x299cac=_0x4bdb12[_0x56d5b1(0x187)](config[_0x56d5b1(0x270)])?0x2:0x8;let _0x4a28f4='';if(config[_0x56d5b1(0x246)])_0x4a28f4=_0x56d5b1(0x1a8)+config['botname']+'\x20portfolio:</b>\x20\x0a\x0a';else _0x4a28f4=_0x56d5b1(0x1a1)+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x27115a=getKPIs('basecoin'),_0x9138e0=getKPIs(_0x56d5b1(0x143));_0x4a28f4+=_0x56d5b1(0x1bf),_0x4a28f4+=_0x27115a[_0x56d5b1(0x1f0)]+_0x56d5b1(0x241)+_0x27115a[_0x56d5b1(0x18e)]+'\x20\x0a',_0x4a28f4+=_0x27115a[_0x56d5b1(0x213)]+':\x20'+_0x27115a['change']+'%\x20\x0a',_0x4a28f4+=_0x9138e0[_0x56d5b1(0x1f0)]+':\x20'+_0x9138e0[_0x56d5b1(0x18e)]+'\x20'+config[_0x56d5b1(0x270)]+'\x0a',_0x4a28f4+=_0x9138e0['rightTxt']+':\x20'+_0x9138e0[_0x56d5b1(0x1aa)]+_0x56d5b1(0x151),_0x4a28f4+='\x0a',_0x4a28f4+=_0x56d5b1(0x21f),_0x4a28f4+=_0x56d5b1(0x23b),_0x4a28f4+=_0x56d5b1(0x21f),currentCoins['forEach'](_0x4d988e=>{const _0x5df08b=_0x56d5b1;_0x4a28f4+=_0x4d988e[_0x5df08b(0x1d4)][_0x5df08b(0x1b0)](0x7)+'|\x20'+formatPad(_0x4d988e['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x4d988e[_0x5df08b(0x1de)],0x2,0x6)+'|\x20'+formatPad(_0x4d988e[_0x5df08b(0x1b2)]*0x64,0x2,0x6)+'\x0a';}),_0x4a28f4+='</pre>',process[_0x56d5b1(0x14a)]({'telegrammsg':_0x4a28f4},_0x364cb=>{});}function formatPad(_0x5f3392,_0x3edff1,_0x28c0c6){const _0x2ba4aa=_0x483e3c,_0x25eca5=formatResultString(_0x5f3392,_0x3edff1);return _0x25eca5?_0x25eca5[_0x2ba4aa(0x189)](_0x28c0c6):''[_0x2ba4aa(0x189)](_0x28c0c6);}function logHistory(_0x5e6df4,_0x5d4c2d,_0x4a57ed=''){const _0x248060=_0x483e3c;let _0x362040={'time':getTimeStamp(),'type':_0x5e6df4,'event':_0x5d4c2d};dbLogs['get'](_0x248060(0x19d))['push'](_0x362040)['write']();if(_0x4a57ed=='')_0x4a57ed=_0x5d4c2d;proxyEmit('event',{'log':_0x362040,'summary':_0x4a57ed}),process['send']({'telegram':{..._0x362040,'botname':config[_0x248060(0x1a3)],'showname':config[_0x248060(0x246)]}},_0x47af49=>{}),logger[_0x248060(0x148)](''+_0x362040[_0x248060(0x186)]);}function emitHistory(_0x5c8329={}){const _0x54fc52=_0x483e3c;Object[_0x54fc52(0x197)](_0x5c8329)[_0x54fc52(0x142)]==0x0&&(_0x5c8329={'type':[_0x54fc52(0x21d),_0x54fc52(0x186)],'event':'','page':0x1});if(_0x5c8329[_0x54fc52(0x277)][_0x54fc52(0x187)](_0x54fc52(0x186)))_0x5c8329[_0x54fc52(0x277)][_0x54fc52(0x154)](_0x5c8329['type'][_0x54fc52(0x222)](_0x54fc52(0x186)),0x1,_0x54fc52(0x243),_0x54fc52(0x1a7));if(dbLogs[_0x54fc52(0x26d)](_0x54fc52(0x19d))[_0x54fc52(0x18e)]()){let _0x5cc6d4=dbLogs['get'](_0x54fc52(0x19d))['filter'](_0x3459ff=>{const _0x3306d3=_0x54fc52;if(_0x5c8329[_0x3306d3(0x277)]['length']==0x0)return![];else return _0x5c8329[_0x3306d3(0x277)]['includes'](_0x3459ff[_0x3306d3(0x277)]);})[_0x54fc52(0x265)](_0x225e0e=>{const _0x12a89c=_0x54fc52;if(_0x5c8329[_0x12a89c(0x186)]=='')return!![];else return _0x225e0e['event'][_0x12a89c(0x210)]()[_0x12a89c(0x187)](_0x5c8329['event']['toLowerCase']());})[_0x54fc52(0x1e8)](_0x54fc52(0x165)),_0x4e919d=_0x5cc6d4['value']()[_0x54fc52(0x142)];_0x5cc6d4=_0x5cc6d4['reverse']()[_0x54fc52(0x242)]((_0x5c8329[_0x54fc52(0x237)]-0x1)*logPageSize,_0x5c8329[_0x54fc52(0x237)]*logPageSize-0x1)[_0x54fc52(0x293)]()[_0x54fc52(0x18e)](),proxyEmit(_0x54fc52(0x1af),{'logs':_0x5cc6d4,'total':_0x4e919d});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2aca1e){const _0x6816e7=_0x483e3c;if(dbLogs[_0x6816e7(0x26d)](_0x6816e7(0x19d))['value']()){const _0x15c204=dbLogs[_0x6816e7(0x15c)](_0x6816e7(0x19d))[_0x6816e7(0x1e8)]('time')[_0x6816e7(0x265)](_0x562a3a=>{return _0x562a3a['type']=='order';})['value']();dbLogs[_0x6816e7(0x15c)](_0x6816e7(0x19d))['remove']()[_0x6816e7(0x269)](),dbLogs['get'](_0x6816e7(0x19d))[_0x6816e7(0x1ed)](_0x15c204)[_0x6816e7(0x269)](),emitHistory(_0x2aca1e);}}async function pauseBot(_0x86de1f=''){const _0x1fa30f=_0x483e3c,_0x2ff71f=new Date()[_0x1fa30f(0x258)]();if(!lastErrorShown||_0x2ff71f-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x2ff71f;!lastBotPause?(lastBotPause=_0x2ff71f,consecutivePauses=0x1):(_0x2ff71f-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0x1fa30f(0x214)},_0x5b610d=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x86de1f)_0x86de1f+=_0x1fa30f(0x259);logHistory(_0x1fa30f(0x243),_0x86de1f+_0x1fa30f(0x25d)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){process['send']({'stop':'kill'},_0x5b3410=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x795f95,_0x367133){const _0x17854f=_0x483e3c;if(_0x795f95[_0x17854f(0x207)]()[_0x17854f(0x187)](_0x17854f(0x275)))return logHistory(_0x17854f(0x243),config[_0x17854f(0x16f)]+_0x17854f(0x219)),![];else{if(_0x795f95['toString']()[_0x17854f(0x187)](_0x17854f(0x291)))return logHistory(_0x17854f(0x243),config['exchange']+_0x17854f(0x1db)),![];else{if(_0x795f95['toString']()[_0x17854f(0x187)](_0x17854f(0x174)))return logHistory(_0x17854f(0x243),config['exchange']+_0x17854f(0x260)+config['exchange']),![];else await handleError(_0x795f95,_0x367133);}}}async function handleError(_0x237354,_0x16fc1c,_0x940116=''){const _0x1ad214=_0x483e3c;if(_0x237354[_0x1ad214(0x207)]()[_0x1ad214(0x187)]('DDoSProtection'))await pauseBot(config[_0x1ad214(0x16f)]+_0x1ad214(0x27d));else{if(_0x237354[_0x1ad214(0x207)]()['includes'](_0x1ad214(0x245)))await pauseBot(config[_0x1ad214(0x16f)]+_0x1ad214(0x221));else{if(_0x237354[_0x1ad214(0x207)]()[_0x1ad214(0x187)](_0x1ad214(0x17a)))await pauseBot(config[_0x1ad214(0x16f)]+_0x1ad214(0x1cf));else{if(_0x237354['toString']()[_0x1ad214(0x187)](_0x1ad214(0x1d0)))logHistory('error',_0x16fc1c+'\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x1ad214(0x243),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x237354['toString']()[_0x1ad214(0x187)]('InvalidNonce'))logHistory(_0x1ad214(0x243),_0x16fc1c+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x1ad214(0x243),_0x1ad214(0x1f2)),await killBot();else{if(_0x237354[_0x1ad214(0x207)]()['includes'](_0x1ad214(0x275)))logHistory(_0x1ad214(0x243),_0x16fc1c+_0x1ad214(0x259)+config[_0x1ad214(0x16f)]+_0x1ad214(0x219)),logHistory('error',_0x1ad214(0x1f2)),await killBot();else{if(_0x237354[_0x1ad214(0x207)]()[_0x1ad214(0x187)](_0x1ad214(0x291)))logHistory(_0x1ad214(0x243),_0x16fc1c+_0x1ad214(0x259)+config['exchange']+_0x1ad214(0x1db)),logHistory(_0x1ad214(0x243),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x237354['toString']()[_0x1ad214(0x187)](_0x1ad214(0x174)))logHistory(_0x1ad214(0x243),_0x16fc1c+'\x20|\x20'+config[_0x1ad214(0x16f)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20'+config['exchange']),logHistory(_0x1ad214(0x243),_0x1ad214(0x1f2)),await killBot();else _0x237354[_0x1ad214(0x207)]()[_0x1ad214(0x187)](_0x1ad214(0x1bd))?logHistory(_0x1ad214(0x243),_0x16fc1c+_0x1ad214(0x244)+_0x940116):(logger['full'](_0x16fc1c+'\x20|\x20Error\x20details:\x20',_0x237354),await pauseBot(_0x1ad214(0x215)));}}}}}}}}function formatResult(_0x2183f3,_0x30cd2e){const _0x442d1a=_0x483e3c;return parseFloat(_0x2183f3[_0x442d1a(0x276)](_0x30cd2e));}function formatResultTruncate(_0x320c47,_0x4bf3f0){const _0x5a6eb3=_0x483e3c;let _0x255fe8=formatResultString(_0x320c47,0xa),_0x1b3609=_0x255fe8[_0x5a6eb3(0x222)]('.');return _0x1b3609!=-0x1&&(_0x255fe8=_0x255fe8['slice'](0x0,_0x1b3609+_0x4bf3f0+0x1)),Number(_0x255fe8);}function _0x7337(_0x18f492,_0x53ee0b){const _0x3a7a61=_0x18dc();return _0x7337=function(_0x1f5764,_0x501583){_0x1f5764=_0x1f5764-0x13f;let _0x18dc72=_0x3a7a61[_0x1f5764];return _0x18dc72;},_0x7337(_0x18f492,_0x53ee0b);}function formatResultString(_0x26259b,_0x5a1aeb){const _0x2954ac=_0x483e3c;let _0x3946ee;if(!(''+_0x26259b)['includes']('e'))_0x3946ee=+(Math['round'](_0x26259b+'e+'+_0x5a1aeb)+'e-'+_0x5a1aeb);else{let _0x2cee2f=(''+_0x26259b)[_0x2954ac(0x1d9)]('e'),_0x4bf412='';+_0x2cee2f[0x1]+_0x5a1aeb>0x0&&(_0x4bf412='+'),_0x3946ee=+(Math[_0x2954ac(0x1e6)](+_0x2cee2f[0x0]+'e'+_0x4bf412+(+_0x2cee2f[0x1]+_0x5a1aeb))+'e-'+_0x5a1aeb);}return Number(_0x3946ee)[_0x2954ac(0x276)](_0x5a1aeb);}function getServerTime(){const _0x4bf22c=_0x483e3c,_0x419b4c=new Date();return _0x419b4c[_0x4bf22c(0x169)]()+'/'+(_0x419b4c[_0x4bf22c(0x1f7)]()+0x1)['toString']()[_0x4bf22c(0x189)](0x2,'0')+'/'+_0x419b4c[_0x4bf22c(0x20c)]()['toString']()[_0x4bf22c(0x189)](0x2,'0')+'\x20'+_0x419b4c['getHours']()[_0x4bf22c(0x207)]()[_0x4bf22c(0x189)](0x2,'0')+':'+_0x419b4c[_0x4bf22c(0x287)]()[_0x4bf22c(0x207)]()['padStart'](0x2,'0')+':'+_0x419b4c[_0x4bf22c(0x28a)]()[_0x4bf22c(0x207)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x1916bf=_0x483e3c,_0x469bf3=shiftedTime();return _0x469bf3[_0x1916bf(0x169)]()+'/'+(_0x469bf3[_0x1916bf(0x1f7)]()+0x1)['toString']()[_0x1916bf(0x189)](0x2,'0')+'/'+_0x469bf3[_0x1916bf(0x20c)]()[_0x1916bf(0x207)]()[_0x1916bf(0x189)](0x2,'0')+'\x20'+_0x469bf3[_0x1916bf(0x14c)]()[_0x1916bf(0x207)]()['padStart'](0x2,'0')+':'+_0x469bf3['getMinutes']()[_0x1916bf(0x207)]()['padStart'](0x2,'0')+':'+_0x469bf3[_0x1916bf(0x28a)]()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x4bd721=_0x483e3c,_0x132048=shiftedTime();return _0x132048[_0x4bd721(0x169)]()+'/'+(_0x132048[_0x4bd721(0x1f7)]()+0x1)[_0x4bd721(0x207)]()[_0x4bd721(0x189)](0x2,'0')+'/'+_0x132048[_0x4bd721(0x20c)]()[_0x4bd721(0x207)]()[_0x4bd721(0x189)](0x2,'0');}function getHour(){const _0x165618=_0x483e3c,_0x3f3216=shiftedTime();return _0x3f3216[_0x165618(0x14c)]()[_0x165618(0x207)]()['padStart'](0x2,'0');}function sleep(_0x16a67f){return new Promise(_0x356413=>setTimeout(_0x356413,_0x16a67f));}function shiftedTime(){const _0x575ab4=_0x483e3c,_0xba48a=new Date();let _0xd92f35=_0xba48a;if(config&&config[_0x575ab4(0x220)]!==0x0)_0xd92f35=fns[_0x575ab4(0x1fb)](_0xba48a,{'hours':config['timeshift']});return _0xd92f35;}function timer(_0x13b9cb){const _0x3662a9=_0x483e3c,_0x5a6596=new Date();!lasttime?console[_0x3662a9(0x1fc)]('timer:',_0x13b9cb,_0x5a6596):console[_0x3662a9(0x1fc)](_0x3662a9(0x232),_0x13b9cb,(_0x5a6596-lasttime)/0x3e8),lasttime=_0x5a6596;}