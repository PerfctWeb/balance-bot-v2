const _0x570eee=_0x2363;(function(_0x412928,_0x4a8214){const _0x134cfe=_0x2363,_0x54a3ef=_0x412928();while(!![]){try{const _0x4ffb9c=parseInt(_0x134cfe(0x233))/0x1+parseInt(_0x134cfe(0x1fc))/0x2+-parseInt(_0x134cfe(0x258))/0x3*(parseInt(_0x134cfe(0x365))/0x4)+-parseInt(_0x134cfe(0x2d3))/0x5*(parseInt(_0x134cfe(0x1ff))/0x6)+parseInt(_0x134cfe(0x253))/0x7+parseInt(_0x134cfe(0x378))/0x8*(parseInt(_0x134cfe(0x24f))/0x9)+parseInt(_0x134cfe(0x34b))/0xa*(parseInt(_0x134cfe(0x39f))/0xb);if(_0x4ffb9c===_0x4a8214)break;else _0x54a3ef['push'](_0x54a3ef['shift']());}catch(_0x27f22c){_0x54a3ef['push'](_0x54a3ef['shift']());}}}(_0x2af4,0xaee3c));const _0x352712=function(){let _0x29366d=!![];return function(_0x1f0ece,_0x69fbce){const _0x56a1d4=_0x29366d?function(){const _0x4fc44d=_0x2363;if(_0x69fbce){const _0x1a3bf6=_0x69fbce[_0x4fc44d(0x256)](_0x1f0ece,arguments);return _0x69fbce=null,_0x1a3bf6;}}:function(){};return _0x29366d=![],_0x56a1d4;};}(),_0x3ee39a=_0x352712(this,function(){const _0x265c2a=_0x2363;return _0x3ee39a['toString']()[_0x265c2a(0x2ce)](_0x265c2a(0x317))[_0x265c2a(0x1f6)]()[_0x265c2a(0x2b2)](_0x3ee39a)['search']('(((.+)+)+)+$');});_0x3ee39a();'use strict';const ccxt=require(_0x570eee(0x2be)),low=require(_0x570eee(0x25e)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x570eee(0x2b6)),forge=require(_0x570eee(0x347)),util=require(_0x570eee(0x332)),argv=require(_0x570eee(0x22f))(process[_0x570eee(0x372)][_0x570eee(0x2c6)](0x2))[_0x570eee(0x372)],path=require(_0x570eee(0x33a)),axios=require(_0x570eee(0x357));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x570eee(0x340),'BUSD',_0x570eee(0x230),_0x570eee(0x1fd),_0x570eee(0x225),_0x570eee(0x37e)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x570eee(0x361)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0x570eee(0x226)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x570eee(0x283)+pauseBotInterval/0xea60+_0x570eee(0x354),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0x570eee(0x374))['version'],environment=require(_0x570eee(0x374))['environment']||_0x570eee(0x30e),botID=process[_0x570eee(0x372)][0x2]||_0x570eee(0x3b0),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console['log'](_0x570eee(0x3ac)+botID+_0x570eee(0x200)),killBot());const userID=process[_0x570eee(0x372)][0x3]||'',configpath=userID?_0x570eee(0x25c)+userID+'/':_0x570eee(0x25c),logspath=userID?_0x570eee(0x2a1)+userID+'/':_0x570eee(0x2a1),loggerfile=fs[_0x570eee(0x2eb)](logspath+_0x570eee(0x32c),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x570eee(0x308)](configpath);function _0x2363(_0x4d23d4,_0x51fe0f){const _0x2672e6=_0x2af4();return _0x2363=function(_0x3ee39a,_0x352712){_0x3ee39a=_0x3ee39a-0x1ec;let _0x2af493=_0x2672e6[_0x3ee39a];return _0x2af493;},_0x2363(_0x4d23d4,_0x51fe0f);}!fs[_0x570eee(0x324)](logspath)&&fs[_0x570eee(0x308)](logspath);const configfile=configpath+'bot-'+botID+_0x570eee(0x244),logfile=configpath+_0x570eee(0x2c5)+botID+_0x570eee(0x33c),performancefile=configpath+_0x570eee(0x2c5)+botID+'-performance.json',coinresultsfile=configpath+_0x570eee(0x2c5)+botID+_0x570eee(0x25f),settingsfile=configpath+_0x570eee(0x227),securefile=configpath+_0x570eee(0x316),configbackuppath=configpath+_0x570eee(0x35b),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x570eee(0x292)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x570eee(0x337)]({'data':[],'version':serverversion})[_0x570eee(0x292)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x570eee(0x337)]({'bot':[],'version':serverversion})[_0x570eee(0x292)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x570eee(0x337)]({'coins':[],'version':serverversion})[_0x570eee(0x292)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0xcfb464=>{const _0x4c3760=_0x570eee;console[_0x4c3760(0x320)](_0xcfb464);},'simple':_0x602624=>{const _0x25e4d7=_0x570eee;console[_0x25e4d7(0x320)](_0x602624),loggerfile[_0x25e4d7(0x292)](util[_0x25e4d7(0x235)](_0x602624)+'\x0a');},'full':async(_0x22c1f5,_0xe4d7ab='')=>{const _0x28b9a4=_0x570eee;let _0x223d0a;if(config[_0x28b9a4(0x328)])_0x223d0a=getTimeStamp()+':\x20'+config[_0x28b9a4(0x24d)]+_0x28b9a4(0x2ad)+_0x22c1f5;else _0x223d0a=getTimeStamp()+_0x28b9a4(0x3aa)+botID+_0x28b9a4(0x2ad)+_0x22c1f5;console[_0x28b9a4(0x320)](_0x223d0a),loggerfile['write'](util[_0x28b9a4(0x235)](_0x223d0a)+'\x0a'),_0xe4d7ab&&(console[_0x28b9a4(0x320)](_0xe4d7ab),loggerfile[_0x28b9a4(0x292)](util['format'](_0xe4d7ab)+'\x0a'));},'debug':async(_0x61c419,_0x217f2c='')=>{const _0x1cd1d1=_0x570eee;let _0x14d0d1;if(config[_0x1cd1d1(0x328)])_0x14d0d1=getTimeStamp()+':\x20'+config[_0x1cd1d1(0x24d)]+_0x1cd1d1(0x23b)+_0x61c419;else _0x14d0d1=getTimeStamp()+_0x1cd1d1(0x3aa)+botID+_0x1cd1d1(0x23b)+_0x61c419;if(debugging)console[_0x1cd1d1(0x320)](_0x14d0d1);loggerfile[_0x1cd1d1(0x292)](util[_0x1cd1d1(0x235)](_0x14d0d1)+'\x0a');if(_0x217f2c){if(debugging)console['log'](_0x217f2c);loggerfile[_0x1cd1d1(0x292)](util[_0x1cd1d1(0x235)](_0x217f2c)+'\x0a');}}};process['on'](_0x570eee(0x2e3),function(_0x425ebc){const _0x3c5e4b=_0x570eee;handleError(_0x425ebc,_0x3c5e4b(0x2e3));});settings[_0x570eee(0x2c2)]!=config[_0x570eee(0x2c2)]&&updateTimeshift(settings[_0x570eee(0x2c2)]);settings[_0x570eee(0x2fe)]!=config['onepagemode']&&updateOnepagemode(settings[_0x570eee(0x2fe)]);(settings[_0x570eee(0x349)]&&!config['marketcapApi']||!settings[_0x570eee(0x349)]&&config[_0x570eee(0x349)])&&updateMarketcapApi(settings['marketcapApi']);process[_0x570eee(0x29d)]({'started':_0x570eee(0x30f)},_0x10370d=>{}),initializeProcessListeners();function proxyEmit(_0x20c8d8,_0x276d37=null){const _0x397466=_0x570eee;process[_0x397466(0x29d)]({'function':_0x20c8d8,'args':_0x276d37},_0x1c6ee7=>{});}function initializeProcessListeners(){const _0x16041e=_0x570eee;process['on'](_0x16041e(0x2f5),_0x1cce4b=>{const _0x17a1f4=_0x16041e;switch(Object['keys'](_0x1cce4b)[0x0]){case _0x17a1f4(0x2c2):_0x1cce4b['timeshift']!=undefined&&(settings['timeshift']=_0x1cce4b[_0x17a1f4(0x2c2)],updateTimeshift(settings['timeshift']));break;case _0x17a1f4(0x2fe):_0x1cce4b['onepagemode']!=undefined&&(settings[_0x17a1f4(0x2fe)]=_0x1cce4b[_0x17a1f4(0x2fe)],updateOnepagemode(settings['onepagemode']));break;case'marketcapApi':_0x1cce4b['marketcapApi']!=undefined&&(settings['marketcapApi']=_0x1cce4b[_0x17a1f4(0x349)],updateMarketcapApi(settings[_0x17a1f4(0x349)]));break;case _0x17a1f4(0x2e7):_0x1cce4b[_0x17a1f4(0x2e7)]!=undefined&&(bots=JSON[_0x17a1f4(0x325)](_0x1cce4b[_0x17a1f4(0x2e7)]),proxyEmit('bots',bots));break;case _0x17a1f4(0x359):switch(_0x1cce4b[_0x17a1f4(0x359)]){case _0x17a1f4(0x291):initclient();break;case _0x17a1f4(0x321):toggleBotMode();break;case'emitHistory':emitHistory(_0x1cce4b[_0x17a1f4(0x334)]);break;case _0x17a1f4(0x2d4):deleteHistoryAlerts(_0x1cce4b[_0x17a1f4(0x334)]);break;case _0x17a1f4(0x28e):getPortfolio(_0x1cce4b[_0x17a1f4(0x334)]);break;case _0x17a1f4(0x322):storeConfiguration(_0x1cce4b[_0x17a1f4(0x334)]);break;case _0x17a1f4(0x2f6):storeHeadless(_0x1cce4b[_0x17a1f4(0x334)]);break;case _0x17a1f4(0x2ff):storeFiat(_0x1cce4b[_0x17a1f4(0x334)]);break;case'resetHistory':resetHistory();break;case _0x17a1f4(0x37d):getStartingBalances(getNormalizedPerformance());break;case _0x17a1f4(0x35a):placeOrder(_0x1cce4b[_0x17a1f4(0x334)]);break;case _0x17a1f4(0x307):cancelLoading();break;case _0x17a1f4(0x211):showConfig();break;case _0x17a1f4(0x350):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x37c487=![]){const _0x42c481=_0x570eee;logger[_0x42c481(0x3b1)](_0x42c481(0x2a3)+(_0x37c487?'exchange\x20reload':_0x42c481(0x263))+_0x42c481(0x38c)+config[_0x42c481(0x267)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x37c487)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x42c481(0x36d)]!=_0x42c481(0x218)){loadingProgress=0x0;_0x37c487&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit('configuration',emittedConfiguration()),initialPerformanceStored=![]);const _0x1a7f8=await getCoins();[currentCoins,currentCoinsAll]=_0x1a7f8,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x42c481(0x3b1)](_0x42c481(0x2fb)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x42c481(0x333)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x4e658c=![]){const _0x10723d=_0x570eee;logger['debug']('Resuming\x20('+(_0x4e658c?_0x10723d(0x31a):_0x10723d(0x2ae))+_0x10723d(0x305)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x4e658c){getBalances();return;}coinsLoaded=![];if(config[_0x10723d(0x36d)]!=''&&config[_0x10723d(0x36d)]!=_0x10723d(0x218)){loadingProgress=0x1;const _0x33e017=await getCoins();[currentCoins,currentCoinsAll]=_0x33e017,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x10723d(0x3b1)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x10723d(0x333)]==0x0&&allOpenOrders[_0x10723d(0x333)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x86a053){const _0x1b75a5=_0x570eee;let _0x153723=![];if(_0x86a053)_0x153723=!![];let _0x315a21;_0x153723?_0x315a21=_0x86a053['map'](_0x377531=>_0x377531[_0x1b75a5(0x27e)]):_0x315a21=currentCoinsAll['map'](_0x31e4cc=>_0x31e4cc[_0x1b75a5(0x27e)]);if(!config[_0x1b75a5(0x349)]||!_0x153723&&!config[_0x1b75a5(0x303)]||_0x315a21[_0x1b75a5(0x333)]==0x0)return;let _0x4193ec=null;try{_0x4193ec=await axios[_0x1b75a5(0x351)](_0x1b75a5(0x2b1),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x1b75a5(0x349)]},'params':{'symbol':_0x315a21['toString']()}});}catch(_0x341f46){_0x4193ec=null,_0x341f46[_0x1b75a5(0x1f6)]()[_0x1b75a5(0x2c1)]('status\x20code\x20401')?(config[_0x1b75a5(0x349)]=![],updateConfig(),proxyEmit(_0x1b75a5(0x30b),emittedConfiguration()),logHistory(_0x1b75a5(0x2cb),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x1b75a5(0x2cb),_0x1b75a5(0x29c)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x1b75a5(0x3b1)]('Error\x20details:',_0x341f46[_0x1b75a5(0x1f6)]()+_0x1b75a5(0x259)+_0x341f46[_0x1b75a5(0x24b)]));}if(_0x4193ec){let _0x326b1a=0x0;const _0x3d5395=_0x4193ec[_0x1b75a5(0x2c0)];_0x315a21[_0x1b75a5(0x217)](_0x171f70=>{const _0x57ced5=_0x1b75a5;if(_0x3d5395['data'][_0x171f70][0x0])_0x326b1a+=_0x3d5395['data'][_0x171f70][0x0][_0x57ced5(0x28f)][_0x57ced5(0x340)][_0x57ced5(0x30d)];}),_0x315a21['forEach'](_0x4d945b=>{const _0x275e82=_0x1b75a5,_0x9924d8=_0x3d5395['data'][_0x4d945b][0x0]?_0x3d5395[_0x275e82(0x2c0)][_0x4d945b][0x0][_0x275e82(0x28f)][_0x275e82(0x340)][_0x275e82(0x30d)]:0x0;if(_0x153723){const _0x45b307=_0x86a053[_0x275e82(0x280)](_0x579a93=>_0x579a93[_0x275e82(0x27e)]==_0x4d945b);_0x45b307&&(_0x45b307[_0x275e82(0x26a)]=_0x9924d8);}else{const _0x11787c=currentCoins['find'](_0x2f4204=>_0x2f4204[_0x275e82(0x27e)]==_0x4d945b);_0x11787c&&(_0x11787c[_0x275e82(0x26a)]=_0x9924d8);const _0x431c7a=currentCoinsAll[_0x275e82(0x280)](_0x3a54f8=>_0x3a54f8[_0x275e82(0x27e)]==_0x4d945b);_0x431c7a&&(_0x431c7a['marketcap']=_0x9924d8);}}),!_0x153723&&updateTargetDistribution();}}function updateTargetDistribution(){const _0xade153=_0x570eee,_0x1eee3a=0x2;let _0x11e8f9=0x0,_0x50cef8=0x0,_0x584c17=0x0,_0x3e23e9=0x0,_0x4aa641=0x0;config[_0xade153(0x28d)][_0xade153(0x217)](_0x55a931=>{const _0x3868bd=_0xade153;if(!_0x55a931[_0x3868bd(0x2e1)]){_0x584c17++,_0x11e8f9+=_0x55a931[_0x3868bd(0x238)];if(_0x55a931['slider']===-0x1){_0x11e8f9++;const _0x8685c4=currentCoinsAll['find'](_0x2f2757=>_0x2f2757[_0x3868bd(0x27e)]==_0x55a931[_0x3868bd(0x27e)]);_0x8685c4&&(_0x3e23e9+=_0x8685c4[_0x3868bd(0x26a)],_0x4aa641+=Math[_0x3868bd(0x27d)](_0x8685c4['marketcap']));}if(_0x55a931[_0x3868bd(0x238)]!==-0x1)_0x50cef8++;}});let _0x48d163;const _0x45c18b=0x64-_0x11e8f9,_0xbba24f=_0x584c17-_0x50cef8;_0x48d163=_0xbba24f===0x0?_0x11e8f9:Math[_0xade153(0x37f)](0x64,_0x11e8f9),config['portfolio'][_0xade153(0x217)](_0x160b75=>{const _0x4719a5=_0xade153,_0x7bbe91=currentCoinsAll['find'](_0x1c6c5b=>_0x1c6c5b[_0x4719a5(0x27e)]==_0x160b75[_0x4719a5(0x27e)]);_0x7bbe91&&(_0x160b75[_0x4719a5(0x26a)]=_0x7bbe91['marketcap']);if(!_0x160b75[_0x4719a5(0x2e1)]){if(_0x48d163<=0x64){if(_0x160b75[_0x4719a5(0x238)]===-0x1){if(_0x3e23e9!==0x0&&config['marketcapEnabled']){if(_0x7bbe91){if(config['marketcapEnabled']==_0x4719a5(0x26a))_0x160b75['distribution']=(_0x45c18b/(_0x3e23e9/_0x7bbe91[_0x4719a5(0x26a)]))[_0x4719a5(0x207)](_0x1eee3a);else config[_0x4719a5(0x303)]==_0x4719a5(0x312)&&(_0x160b75[_0x4719a5(0x1ee)]=(_0x45c18b/(_0x4aa641/Math[_0x4719a5(0x27d)](_0x7bbe91[_0x4719a5(0x26a)])))[_0x4719a5(0x207)](_0x1eee3a));}}}}}}),updateConfig();}function updateConfig(){const _0x3c30ea=_0x570eee;let _0x2d4baa=dbConfig[_0x3c30ea(0x351)]('bot')[_0x3c30ea(0x280)]({'botID':botID})[_0x3c30ea(0x234)]();_0x2d4baa&&dbConfig[_0x3c30ea(0x351)](_0x3c30ea(0x289))[_0x3c30ea(0x280)]({'botID':botID})[_0x3c30ea(0x3b3)](config)['write']();}function logMemory(){const _0x4b4884=_0x570eee;if(environment!=_0x4b4884(0x3b8))return;const _0x362be0=process[_0x4b4884(0x2f0)]()[_0x4b4884(0x1f2)]/0x400/0x400;logger[_0x4b4884(0x3b1)]('process\x20'+process[_0x4b4884(0x250)]+_0x4b4884(0x3ab)+formatResult(_0x362be0,0x1)+'\x20MB');}async function startScheduler(){const _0xcc853e=_0x570eee,_0xfa8d95=shiftedTime()[_0xcc853e(0x261)]();getMarketCap(),_0xfa8d95==0x1&&logMemory(),(_0xfa8d95==0x2||_0xfa8d95==0xe)&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x9cdd48=![]){const _0x5940c0=_0x570eee;logger[_0x5940c0(0x3b1)](_0x5940c0(0x276));if(!_0x9cdd48)while(lockOrders!=ORDERS[_0x5940c0(0x226)]||coolingDown){await sleep(0x3e8);}process[_0x5940c0(0x29d)]({'stop':_0x5940c0(0x240)},_0x1ae194=>{});}async function initExchange(_0x10e251=config['exchange'],_0x77a5e8=config[_0x570eee(0x36d)],_0x28c27a=config['apiSecret'],_0x115c3d=config['apiPassword']){const _0x574f51=_0x570eee;if(exchange){logger[_0x574f51(0x3b1)](_0x574f51(0x2af));return;}logger[_0x574f51(0x3b1)]('Initializing\x20exchange');!supportedExchanges()['includes'](_0x10e251)&&(logHistory(_0x574f51(0x2cb),_0x574f51(0x3a0)+_0x10e251+_0x574f51(0x29a)),killBot());const _0x452196=ccxt['pro'][_0x10e251['toLowerCase']()];exchange=new _0x452196({'apiKey':_0x77a5e8,'secret':_0x28c27a,'options':{'defaultType':_0x574f51(0x21e)}});if(_0x115c3d)exchange[_0x574f51(0x20b)]=_0x115c3d;}function _0x2af4(){const _0x57cfed=['exec','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','timeout','last','Placing\x20order\x20for:\x20','USDC','UNLOCKED','bb-settings.json','Pausing\x20for\x20','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','event','basecoinvalue','kill','total','Market\x20&\x20symbol\x20data\x20updated','yargs/yargs','TUSD','Net\x20effect','sortBy','439305noXXEZ','value','format','loadMarkets','getFullYear','slider','fiat','highest','\x20>\x20[DEBUG]\x20','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','\x20minutes\x20-\x20','InvalidOrder','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','restart','create','date','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','-config.json','indexOf','/USDT','ETH','cost','added','remove','code','red_yellow_blue','botname','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','9bxXARZ','pid','initial','remainingSymbols','8546657sPSxPD','change24h','toUpperCase','apply','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','897wmHobx','\x20-\x20','\x20API\x20key\x20is\x20invalid','apiSecret','./config/','loading-canceled','lowdb','-results.json','switch-manual','getHours','1\x20-\x20Validate\x20orders:\x20','no\x20exchange\x20reloaded','floor','limit','OrderNotFound','exchange','open','getCoinNumber()','marketcap','order','0\x20-\x20EXECUTION:\x20','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','join','loadSymbols()','Error\x20in\x20loadSymbols():\x20','price','final','enabled','amount','\x20|\x20','Initiating\x20bot\x20restart','1\x20-\x20partially\x20FILLED\x20(','percentage','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20change','limit-low','sqrt','coin','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','find','No\x20more\x20open\x20orders\x20-\x20','usd','\x20>\x20pausing\x20bot\x20for\x20','getOpenOrders()','1\x20-\x20FILLED\x20known\x20order:\x20','createOrder','\x20has\x20a\x2024h\x20drop\x20of\x20','request-time','bot','Fee\x20discount\x20refund\x20detected:\x20','eur','Invalid\x20quantity','portfolio','getPortfolio','quote','Insufficient\x20funds\x20to\x20execute\x20order:\x20','initclient','write','<b>Bot\x20','watchTradesForSymbols()','Invalid\x20balance\x20for\x20','balances','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','realized','RETRY\x20-\x20Error\x20in\x20','\x20exchange','Huobipro','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','send','<b>','2\x20-\x20Handled\x20open\x20orders','fetchOpenOrders','./logs/','startnumber','Reset\x20|\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Error\x20while\x20deleting\x20files:\x20','BNB/','fetchTickers','type','currency','orderId','Bybit','Exception\x20thrown\x20in\x20','\x20>\x20','complete','Initializing\x20exchange:\x20already\x20done','limit-high','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','constructor','PAXG','Unknown\x20error:\x20','Error\x20details:','date-fns','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','Cex','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','replace','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','EUR','emojibuy','ccxt','decrypt','data','includes','timeshift','fetchTicker','pki','bot-','slice','progress','warning','update-liquidity','performance','error','getDate','headless','search','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','exchanges','splice','startsWith','865vkgepT','deleteHistoryAlerts','ID:\x20','coins','Trigger:\x20','BTC','configuration-stored','success','average','2.6.23','active','UNLOCKING','Avoiding\x20continuous\x20order\x20attempts','no\x20open\x20orders','excluded','startdate','uncaughtException','\x20portfolio:</b>\x20\x0a\x0a','LOCKED','orderstatus','bots','\x20metrics:</b>\x20\x0a\x0a','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Cryptocom','createWriteStream','sell','%\x20(','1\x20-\x20FILLED\x20unknown\x20order:\x20','writeFile','memoryUsage','Headless:\x20','stringify','fromCodePoint','leftTxt','message','storeHeadless','canceled','************','Binance','abs','Loading\x20completed','padStart','watchTradesForSymbols','onepagemode','storeFiat','valid','AuthenticationError','NetworkError','marketcapEnabled','keys',')\x20|\x20exchange:\x20','Resetting\x20coin\x20results:\x20','cancelLoading','mkdirSync','/USD','Saving\x20configuration','configuration','buys','market_cap','production','running','Limit\x20(high-margin)','status','marketcapsqrt','Exchange\x20error\x20details:','DDoSProtection','Exchange','bb-secure.json','(((.+)+)+)+$','\x20|\x20highest\x20fee:\x20','sha256','quick','2.3.5','cancel','reverse','RSA-OAEP','Cooldown\x20ended\x20-\x20balancing\x20resumed','log','toggleBotMode','storeConfiguration','none','existsSync','parse','starting-balance-','cloneDeep','showname','liquidity','Bitget','symbol','/output-000.log','fee','Error\x20details:\x20','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','colorscheme','full','util','length','args','privateKey','ongoing','defaults','add','datetime','path','sells','-events.json','number','ExchangeError','\x20API\x20secret\x20is\x20invalid','USD','trade','side','sort','event-history','\x20|\x20lock\x20orders:\x20','2.5.0','node-forge','getTime','marketcapApi','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','10hmDNbf','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','<pre>','basecoin','bid','sendMetricsTelegram','get','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','push','\x20minutes','Manual\x20balancing\x20required','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','axios','rightTxt','function','placeOrder','/backup/','Unfilled\x20order(s)\x20canceled\x20after\x20','map','\x20>\x20details:','2\x20-\x20Validate\x20orders:\x20','Symbol(s):\x20','freeze','balancing\x20resumed','filled','autoliquidity','7940dtmKYA','watchTrades','BNB','-performance.json','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','portfolio2','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Stopped\x20fetching\x20balance\x20after\x20','apiKey','detectLiquidityChange()','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','removed','placeOrder()','argv','netoffset','./version.json','cooldown','Set\x20lock\x20orders\x20to:\x20','shift','6204280YIXZBN','Executed\x20','split','privateKeyFromPem','MIN_NOTIONAL','getStartingBalances','USDP','max','Order\x20amount\x20is\x20invalid:\x20','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','page','Limit\x20(low-margin)','getMonth','-------------------------------\x0a','PermissionDenied','\x20|\x20Custom\x20ID:\x20','recreateCoinResults()','\x20network\x20error:\x20','portfolio1','emojisell','\x20|\x20exchange:\x20','toLowerCase','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','\x20:\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Failed\x20to\x20load\x20coin\x20data\x20for\x20','cancelOrders()','version','logs','openOrders','threshold','Net\x20','round','botID','fetchBalance()','set','limits','changes','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','459976sXaDiN','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','getSeconds','fetchTickers()','\x20exchange\x20error:\x20','breakeven','filter','2.6.0','\x20attempts','cancelOrder','getMinutes',':\x20Bot\x20','\x20uses\x20','Error:\x20Invalid\x20argument\x20','market','closed','ExchangeNotAvailable','001','debug','pro','assign','\x20order:\x20','unlinkSync','change','starting-balances','staging','net-fiat','delta','fetchBalance','distribution','buy','enableFiatToggle','apiPassword','heapUsed','Initializing\x20coin\x20results','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','ask','toString','Resetting\x20bot\x20history','string','decode64','recreate','customId','486488BqFRVM','USDT','timestamp','48936HCFeiz',',\x20must\x20be\x20a\x203\x20digit\x20number','differenceInSeconds','substring','ordertype',')\x20known\x20order:\x20','startprice','entries','toFixed','net-basecoin','Invalid\x20symbol:\x20','Order\x20is\x20invalid:\x20','password','Portfolio\x20change\x20detected:\x20','watchOrders()','target','yyyy/MM/dd','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','showConfig','Market','RateLimitExceeded','offset','Block\x20transaction\x20detection:\x20','watchOrders','forEach','***','time','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','has','\x20hour','recent20','spot','min'];_0x2af4=function(){return _0x57cfed;};return _0x2af4();}function updateExchange(_0x578a6b,_0x1772cb,_0x4ae57a=null){const _0x5a127b=_0x570eee;exchange[_0x5a127b(0x36d)]=_0x578a6b,exchange[_0x5a127b(0x25b)]=_0x1772cb,exchange[_0x5a127b(0x1f1)]=_0x4ae57a,logger[_0x5a127b(0x3b1)]('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x74f1d=_0x570eee;let _0x24d165=config['basecoin']=='ETH'?'ETH':config[_0x74f1d(0x34e)]==_0x74f1d(0x2b3)?_0x74f1d(0x2b3):_0x74f1d(0x2d8),_0x4781e2=allSymbols[_0x74f1d(0x2c1)](_0x24d165+_0x74f1d(0x309))?'USD':allSymbols[_0x74f1d(0x2c1)](_0x24d165+_0x74f1d(0x246))?_0x74f1d(0x1fd):_0x74f1d(0x2bc),_0x4e9fd0=allSymbols['includes'](_0x24d165+'/EUR')?_0x74f1d(0x2bc):_0x4781e2;enableFiatToggle=!![],_0x4781e2==_0x74f1d(0x2bc)&&(enableFiatToggle=![],storeFiat(_0x74f1d(0x2bc))),_0x4e9fd0!=_0x74f1d(0x2bc)&&(enableFiatToggle=![],storeFiat(_0x74f1d(0x340))),stablecoins={'eur':{'coin':''+_0x24d165+_0x4e9fd0,'symbol':_0x24d165+'/'+_0x4e9fd0},'usd':{'coin':''+_0x24d165+_0x4781e2,'symbol':_0x24d165+'/'+_0x4781e2}};}async function initwsCcxt(){const _0x50331b=_0x570eee;initCycle++;const _0x17447d=initCycle;let _0x24fe32=[];config[_0x50331b(0x28d)][_0x50331b(0x217)](_0x1c1dcd=>{const _0xf70dc3=_0x50331b;if(!_0x1c1dcd[_0xf70dc3(0x2e1)]&&_0x1c1dcd[_0xf70dc3(0x27e)]!=config[_0xf70dc3(0x34e)])_0x24fe32[_0xf70dc3(0x353)](_0x1c1dcd['symbol']);});if(!_0x24fe32[_0x50331b(0x2c1)](stablecoins[_0x50331b(0x28b)][_0x50331b(0x32b)]))_0x24fe32[_0x50331b(0x353)](stablecoins[_0x50331b(0x28b)][_0x50331b(0x32b)]);if(!_0x24fe32['includes'](stablecoins[_0x50331b(0x282)][_0x50331b(0x32b)]))_0x24fe32[_0x50331b(0x353)](stablecoins[_0x50331b(0x282)][_0x50331b(0x32b)]);if(config[_0x50331b(0x267)][_0x50331b(0x2d2)](_0x50331b(0x2f9))&&config['basecoin']!=_0x50331b(0x2b3)){if(!_0x24fe32[_0x50331b(0x2c1)](_0x50331b(0x2a6)+config['basecoin']))_0x24fe32[_0x50331b(0x353)](_0x50331b(0x2a6)+config[_0x50331b(0x34e)]);}loadCoins(_0x24fe32),_0x24fe32=validateSymbols(_0x24fe32);const _0xe8fd99=async _0xc206dc=>{let _0x2a7d8d;try{const _0x45ae1f=await getTickers(_0xc206dc);Object['entries'](_0x45ae1f)['forEach'](_0x5468b5=>{const _0xe15c0f=_0x2363;_0x2a7d8d=_0x5468b5[0x1][_0xe15c0f(0x32b)],gTicker[noslash(_0x2a7d8d)]=_0x5468b5[0x1][_0xe15c0f(0x223)],gChange[_0x2a7d8d]=_0x5468b5[0x1]['percentage'];});}catch(_0x4220a2){await handleError(_0x4220a2,'initTickers()',_0x2a7d8d);}},_0x30b841=async _0x2a406f=>{const _0x7efb13=_0x50331b;while(initCycle==_0x17447d){if(!botPaused)try{const _0x22a340=await exchange[_0x7efb13(0x366)](_0x2a406f);gTicker[noslash(_0x22a340[0x0][_0x7efb13(0x32b)])]=_0x22a340[0x0]['price'];}catch(_0x3318aa){if(!exchangeStopped)await handleError(_0x3318aa,'watchTrades()',_0x2a406f);}else await sleep(0x64);}},_0x16d3c8=async _0x110867=>{const _0x25439f=_0x50331b;while(initCycle==_0x17447d){if(!botPaused)try{const _0x480ee4=await exchange[_0x25439f(0x2fd)](_0x110867),_0x21a9a0=_0x480ee4['pop']();gTicker[noslash(_0x21a9a0[_0x25439f(0x32b)])]=_0x21a9a0[_0x25439f(0x271)];}catch(_0x3e6a04){if(!exchangeStopped)await handleError(_0x3e6a04,_0x25439f(0x294),_0x110867[_0x25439f(0x1f6)]());}else await sleep(0x64);}},_0x160f0b=async _0x494619=>{const _0x3d01b0=_0x50331b;while(initCycle==_0x17447d){if(!botPaused){let _0x3eedd0;try{await sleep(0x3c*0x3e8);const _0x1ac41b=await getTickers(_0x494619);Object[_0x3d01b0(0x206)](_0x1ac41b)[_0x3d01b0(0x217)](_0x3bace9=>{const _0x5b01e8=_0x3d01b0;_0x3eedd0=_0x3bace9[0x1][_0x5b01e8(0x32b)],gChange[_0x3eedd0]=_0x3bace9[0x1][_0x5b01e8(0x278)];});}catch(_0x1bfa22){if(!exchangeStopped)await handleError(_0x1bfa22,_0x3d01b0(0x3a2),_0x3eedd0);}}else await sleep(0x64);}},_0x11555d=async _0x367efa=>{const _0x49ca6f=_0x50331b;while(initCycle==_0x17447d){if(!botPaused)try{const _0x21bf2b=await exchange['watchOrders'](_0x367efa);initCycle==_0x17447d&&_0x21bf2b[_0x49ca6f(0x217)](_0x241183=>{updateNumberCoinsCcxt(_0x241183);});}catch(_0x45df9d){if(!exchangeStopped)await handleError(_0x45df9d,_0x49ca6f(0x20d));}else await sleep(0x64);}};_0xe8fd99(_0x24fe32),_0x160f0b(_0x24fe32),exchange[_0x50331b(0x21b)][_0x50331b(0x2fd)]&&!(config[_0x50331b(0x267)]==_0x50331b(0x2ab)&&_0x24fe32[_0x50331b(0x333)]>0xa)?_0x16d3c8(_0x24fe32):_0x24fe32['forEach'](_0x4d2b35=>{_0x30b841(_0x4d2b35);}),_0x24fe32[_0x50331b(0x217)](_0x57b22e=>{_0x11555d(_0x57b22e);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x460808){const _0x3745f4=_0x570eee;let _0x1c298b={};try{if(config[_0x3745f4(0x267)]!=_0x3745f4(0x2ea))_0x1c298b=await exchange[_0x3745f4(0x2a7)](_0x460808);else for(const _0x3c57e6 of _0x460808){const _0x4af811=await exchange[_0x3745f4(0x2c3)](_0x3c57e6);_0x1c298b[_0x3c57e6]=_0x4af811;}return _0x1c298b;}catch(_0x168aa0){throw _0x168aa0;}}function setBlockTransactionDetection(_0x223e26){const _0x103502=_0x570eee;blockTransactionDetection=_0x223e26,logger[_0x103502(0x3b1)](_0x103502(0x215)+blockTransactionDetection);}async function detectLiquidityChange(_0x16d967=0x0){const _0x35f4c2=_0x570eee;transactionDetectionOngoing=!![];try{const _0x4cef44=await getCoins(_0x16d967),[_0x5c00cd,_0xd7db01]=_0x4cef44;let _0x210f45=[];currentCoins[_0x35f4c2(0x217)](_0x38338a=>{const _0xf16082=_0x35f4c2,_0x13c299=_0x5c00cd[_0xf16082(0x280)](_0x2373a7=>_0x2373a7[_0xf16082(0x27e)]==_0x38338a[_0xf16082(0x27e)]);if(_0x13c299){if(_0x38338a[_0xf16082(0x33d)]!=_0x13c299[_0xf16082(0x33d)]){let _0x551506;if(_0x38338a[_0xf16082(0x27e)]!=config['basecoin']){const _0x511dba=gTicker[noslash(_0x38338a[_0xf16082(0x32b)])];_0x551506=_0x38338a[_0xf16082(0x31d)]?0x1/_0x511dba:_0x511dba;}else _0x551506=0x1;_0x210f45['push']({'coin':_0x38338a[_0xf16082(0x27e)],'symbol':_0x38338a[_0xf16082(0x32b)],'price':_0x551506,'number':Number(formatResult(_0x13c299[_0xf16082(0x33d)]-_0x38338a[_0xf16082(0x33d)],0x8)),'basecoinvalue':_0x551506*(_0x13c299[_0xf16082(0x33d)]-_0x38338a[_0xf16082(0x33d)])});}}});if(_0x210f45[_0x35f4c2(0x333)]>0x0&&!blockTransactionDetection){for(const _0x28ed71 of _0x210f45){if(config[_0x35f4c2(0x364)]){logger[_0x35f4c2(0x3b1)](_0x35f4c2(0x23c)+_0x28ed71[_0x35f4c2(0x22b)]+_0x35f4c2(0x318)+lastFees[_0x35f4c2(0x23a)]);if(lastFees[_0x35f4c2(0x23a)]==0x0||Math[_0x35f4c2(0x2fa)](_0x28ed71[_0x35f4c2(0x22b)])>lastFees[_0x35f4c2(0x23a)]*0x3){if(config[_0x35f4c2(0x364)]==_0x35f4c2(0x2c9)){delete _0x28ed71[_0x35f4c2(0x32b)],delete _0x28ed71[_0x35f4c2(0x22b)];let _0x5d3cf6=[],_0x464462=[...config[_0x35f4c2(0x329)]]||[],_0x42bd96=config[_0x35f4c2(0x329)];_0x464462[_0x35f4c2(0x343)]((_0x28032d,_0x4ee9b1)=>_0x28032d[_0x35f4c2(0x242)]>_0x4ee9b1[_0x35f4c2(0x242)]?-0x1:_0x4ee9b1[_0x35f4c2(0x242)]>_0x28032d['date']?0x1:0x0);const _0x90f445=getDate();if(_0x464462[0x0]){const _0xb17737=fns[_0x35f4c2(0x325)](_0x464462[0x0][_0x35f4c2(0x242)],'yyyy/MM/dd',new Date()),_0x5b50ae=fns[_0x35f4c2(0x325)](_0x90f445,'yyyy/MM/dd',new Date());if(fns['isEqual'](_0xb17737,_0x5b50ae)){_0x5d3cf6=_0x464462[0x0][_0x35f4c2(0x39d)];const _0x5dffd4=_0x5d3cf6['find'](_0xbf3355=>_0xbf3355['coin']==_0x28ed71[_0x35f4c2(0x27e)]);_0x5dffd4?(_0x5dffd4[_0x35f4c2(0x33d)]+=_0x28ed71[_0x35f4c2(0x33d)],_0x5dffd4[_0x35f4c2(0x33d)]==0x0&&(_0x5d3cf6=_0x5d3cf6['filter'](_0x57cd45=>{const _0x136ceb=_0x35f4c2;return _0x57cd45[_0x136ceb(0x27e)]!=_0x28ed71[_0x136ceb(0x27e)];}))):_0x5d3cf6[_0x35f4c2(0x353)](_0x28ed71);const _0x38cf00=_0x42bd96[_0x35f4c2(0x280)](_0x1998f4=>_0x1998f4[_0x35f4c2(0x242)]==_0x90f445);_0x38cf00['changes']=_0x5d3cf6;}else _0x42bd96[_0x35f4c2(0x353)]({'date':_0x90f445,'changes':[_0x28ed71]});}const _0xe5453f=_0x42bd96[_0x35f4c2(0x280)](_0x8941b1=>_0x8941b1[_0x35f4c2(0x242)]==_0x90f445);if(_0xe5453f){let _0x11e0a7=!![];_0xe5453f['changes'][_0x35f4c2(0x217)](_0x30982c=>{const _0x150368=_0x35f4c2;if(_0x30982c[_0x150368(0x33d)]!=0x0)_0x11e0a7=![];}),_0x11e0a7&&(_0x42bd96=_0x42bd96['filter'](_0x49ed8f=>{return _0x49ed8f['date']!=_0x90f445;}));}let _0x48d178=dbConfig[_0x35f4c2(0x351)](_0x35f4c2(0x289))['find']({'botID':botID})['value']();_0x48d178&&(dbConfig['get'](_0x35f4c2(0x289))[_0x35f4c2(0x280)]({'botID':botID})['assign']({'liquidity':_0x42bd96})[_0x35f4c2(0x292)](),config[_0x35f4c2(0x329)]=_0x42bd96);logHistory(_0x35f4c2(0x2da),_0x35f4c2(0x20c)+Math[_0x35f4c2(0x2fa)](_0x28ed71['number'])+'\x20'+_0x28ed71['coin']+'\x20'+(_0x28ed71[_0x35f4c2(0x33d)]>0x0?_0x35f4c2(0x249):_0x35f4c2(0x370))+_0x35f4c2(0x279)),proxyEmit(_0x35f4c2(0x30b),emittedConfiguration());const _0xe6e19e=getNormalizedPerformance();emitPerformance(_0xe6e19e),getStartingBalances(_0xe6e19e),logger[_0x35f4c2(0x3b1)](_0x35f4c2(0x34a));}else config['autoliquidity']==_0x35f4c2(0x260)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x35f4c2(0x2da),_0x35f4c2(0x20c)+Math[_0x35f4c2(0x2fa)](_0x28ed71[_0x35f4c2(0x33d)])+'\x20'+_0x28ed71['coin']+'\x20'+(_0x28ed71['number']>0x0?_0x35f4c2(0x249):_0x35f4c2(0x370))+_0x35f4c2(0x257))):logger[_0x35f4c2(0x3b1)]('Portfolio\x20change\x20detected:\x20'+Math[_0x35f4c2(0x2fa)](_0x28ed71['number'])+'\x20'+_0x28ed71[_0x35f4c2(0x27e)]+'\x20'+(_0x28ed71[_0x35f4c2(0x33d)]>0x0?_0x35f4c2(0x249):_0x35f4c2(0x370))+'\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode'));}else logger['debug'](_0x35f4c2(0x28a)+Math[_0x35f4c2(0x2fa)](_0x28ed71[_0x35f4c2(0x33d)])+'\x20'+_0x28ed71[_0x35f4c2(0x27e)]+'\x20'+(_0x28ed71[_0x35f4c2(0x33d)]>0x0?_0x35f4c2(0x249):_0x35f4c2(0x370)));}else logger[_0x35f4c2(0x3b1)](_0x35f4c2(0x20c)+Math[_0x35f4c2(0x2fa)](_0x28ed71[_0x35f4c2(0x33d)])+'\x20'+_0x28ed71[_0x35f4c2(0x27e)]+'\x20'+(_0x28ed71[_0x35f4c2(0x33d)]>0x0?_0x35f4c2(0x249):_0x35f4c2(0x370))+_0x35f4c2(0x369));}currentCoins=_0x5c00cd,currentCoinsAll=_0xd7db01;}}catch(_0x3a58be){if(!exchangeStopped)await handleError(_0x3a58be,_0x35f4c2(0x36e));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x2f1425=_0x570eee;try{markets=await exchange[_0x2f1425(0x236)](!![]),allSymbols=[],Object['entries'](markets)['forEach'](_0x4f7356=>{const _0x5627cc=_0x2f1425;_0x4f7356[0x1][_0x5627cc(0x2dd)]&&_0x4f7356[0x1][_0x5627cc(0x21e)]&&allSymbols[_0x5627cc(0x353)](_0x4f7356[0x0]);}),logger[_0x2f1425(0x3b1)](_0x2f1425(0x22e));}catch(_0x283469){markets?logger[_0x2f1425(0x3b1)](_0x2f1425(0x270)+_0x283469[_0x2f1425(0x1f6)]()):(loading[_0x2f1425(0x31c)]=!![],emitLoadingProgress(),_0x283469[_0x2f1425(0x1f6)]()[_0x2f1425(0x38d)]()[_0x2f1425(0x2c1)](_0x2f1425(0x1fe))||_0x283469[_0x2f1425(0x1f6)]()[_0x2f1425(0x38d)]()[_0x2f1425(0x2c1)](_0x2f1425(0x288))?logHistory('error',_0x2f1425(0x297)):handleErrorNoStop(_0x283469,_0x2f1425(0x26f)),logHistory(_0x2f1425(0x2cb),'Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory(_0x2f1425(0x2cb),_0x2f1425(0x228)+loadCoinsRetryInterval/0xea60+_0x2f1425(0x229)),logger[_0x2f1425(0x3b1)]('Error\x20details:',_0x283469),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x240235){const _0x22feb=_0x570eee;let _0x54db16=[];return _0x240235[_0x22feb(0x217)](_0x11f495=>{const _0x4206d4=_0x22feb;!allSymbols[_0x4206d4(0x2c1)](_0x11f495)?logHistory('error',_0x4206d4(0x209)+_0x11f495+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x54db16[_0x4206d4(0x353)](_0x11f495);}),_0x54db16;}async function initclient(){const _0x124afb=_0x570eee;proxyEmit(_0x124afb(0x30b),emittedConfiguration()),proxyEmit(_0x124afb(0x2d0),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x124afb(0x296),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x17420a=getNormalizedPerformance();emitPerformance(_0x17420a),getStartingBalances(_0x17420a);}async function toggleBotMode(){const _0x4b1d08=_0x570eee;let _0xadebfe=dbConfig[_0x4b1d08(0x351)](_0x4b1d08(0x289))['find']({'botID':botID})[_0x4b1d08(0x234)]();if(_0xadebfe){const _0x5a2783=!_0xadebfe[_0x4b1d08(0x2cd)];dbConfig[_0x4b1d08(0x351)](_0x4b1d08(0x289))[_0x4b1d08(0x280)]({'botID':botID})[_0x4b1d08(0x3b3)]({'headless':_0x5a2783})['write'](),config[_0x4b1d08(0x2cd)]=_0x5a2783,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1d1cb2=_0x570eee;process[_0x1d1cb2(0x29d)]({'updatebotmanager':!![]},_0x56208d=>{}),logger[_0x1d1cb2(0x3b1)](_0x1d1cb2(0x2f1)+config[_0x1d1cb2(0x2cd)]);}async function loadCoins(_0x823177){const _0x95656a=_0x570eee;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x43ba23,_0x166086=0x0,_0x2f9196=0x0;_0x823177[_0x95656a(0x217)](_0x5afa4e=>{const _0x5ac207=_0x95656a;loading[_0x5ac207(0x252)]['push'](_0x5afa4e);}),loadingCanceled=![];let _0x404a2f=![];while(_0x43ba23!=_0x823177[_0x95656a(0x333)]+maxLoadingProgress){_0x43ba23=loadingProgress,_0x823177[_0x95656a(0x217)](_0x5b083a=>{const _0x2e77c6=_0x95656a;if(gTicker[noslash(_0x5b083a)]){loading['remainingSymbols']=loading[_0x2e77c6(0x252)][_0x2e77c6(0x3a5)](_0xb9cf92=>_0xb9cf92!=_0x5b083a);if(!watchedSymbols[_0x2e77c6(0x2c1)](_0x5b083a))watchedSymbols[_0x2e77c6(0x353)](_0x5b083a);_0x43ba23++;}}),loading[_0x95656a(0x2c7)]=Math[_0x95656a(0x398)](_0x43ba23/(_0x823177[_0x95656a(0x333)]+maxLoadingProgress)*0x64);loading[_0x95656a(0x2c7)]!=0x64&&(_0x2f9196>0x1e*0x5&&(loading[_0x95656a(0x222)]=!![],emitLoadingProgress()),_0x2f9196>0x78*0x5&&!_0x404a2f&&(_0x404a2f=!![],logHistory('error',_0x95656a(0x391)+loading['remainingSymbols'][_0x95656a(0x26e)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x95656a(0x2cb),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x95656a(0x229)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x95656a(0x31c)]=!![],emitLoadingProgress();break;}else _0x166086!=loading[_0x95656a(0x2c7)]&&(_0x166086=loading[_0x95656a(0x2c7)],emitLoadingProgress()),_0x2f9196++,await sleep(0xc8);}_0x43ba23==_0x823177[_0x95656a(0x333)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':'enabled','live':'running'},_0x3c431a=>{}),_0x404a2f&&logHistory('success',_0x95656a(0x390)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0xcc5426=_0x570eee;proxyEmit(_0xcc5426(0x30b),{...emittedConfiguration(),'configstate':_0xcc5426(0x25d)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x4bc3b4=_0x570eee;let _0x55fcd1=gTicker[stablecoins[_0x4bc3b4(0x28b)]['coin']],_0x24258c=gTicker[stablecoins[_0x4bc3b4(0x282)]['coin']];return{'eur':Number(_0x55fcd1),'usd':Number(_0x24258c)};}function capitalize(_0x274aff){const _0x1ddc20=_0x570eee;return _0x274aff[_0x1ddc20(0x202)](0x0,0x1)[_0x1ddc20(0x255)]()+_0x274aff[_0x1ddc20(0x202)](0x1);}function supportedExchanges(){const _0x54db53=_0x570eee,_0x3dae2d=['ws',_0x54db53(0x2a7),_0x54db53(0x2c3),_0x54db53(0x366),_0x54db53(0x216),_0x54db53(0x3a8),'createOrder',_0x54db53(0x2a0),'fetchBalance'];let _0x561e2a=[],_0x2e5163=[],_0xf96efc=ccxt[_0x54db53(0x3b2)][_0x54db53(0x2d0)];_0xf96efc['forEach'](_0x2b04ad=>{const _0x106713=_0x54db53;try{const _0x202db0=new ccxt[(_0x106713(0x3b2))][_0x2b04ad]();_0x2e5163[_0x106713(0x353)](_0x202db0);}catch(_0x8e3978){}}),_0x2e5163['forEach'](_0x593a20=>{const _0x525b97=_0x54db53;let _0x17db67=0x0;_0x3dae2d['forEach'](_0x53d54e=>{const _0x3504ff=_0x2363;_0x53d54e in _0x593a20[_0x3504ff(0x21b)]&&_0x593a20[_0x3504ff(0x21b)][_0x53d54e]&&_0x17db67++;}),_0x17db67==_0x3dae2d[_0x525b97(0x333)]&&_0x561e2a[_0x525b97(0x353)](capitalize(_0x593a20['id']));});let _0x1baa60=[];return _0xf96efc[_0x54db53(0x217)](_0x9b272e=>{const _0x2e48f5=_0x54db53;_0x9b272e=capitalize(_0x9b272e);if(!_0x561e2a[_0x2e48f5(0x2c1)](_0x9b272e))_0x1baa60[_0x2e48f5(0x353)](_0x9b272e);}),_0x561e2a;}function setStartDatePerformance(){const _0x3fbaff=_0x570eee;if(config&&config[_0x3fbaff(0x329)][0x0][_0x3fbaff(0x39d)]['length']!=0x0){const _0x24c818=config['liquidity'][0x0][_0x3fbaff(0x39d)];dbPerformance['get'](_0x3fbaff(0x2c0))['find']({'date':config[_0x3fbaff(0x2e2)]})[_0x3fbaff(0x3b3)]({'coins':_0x24c818})[_0x3fbaff(0x292)]();}}async function recreateCoinResults(){const _0x2768fd=_0x570eee;recreationNeeded=![];let _0x4ac701,_0x3653c9=[];try{for(const _0x452f1a of currentCoins){if(_0x452f1a['coin']!=config['basecoin']){let _0x16be4a=0x0,_0x55b98c,_0x5ac6ee;_0x4ac701=await getAllEventOrders(_0x452f1a['symbol']);if(_0x4ac701[_0x2768fd(0x333)]>0x0)_0x4ac701[_0x2768fd(0x217)](_0xc1155f=>{const _0x1571be=_0x2768fd,_0x34394f=_0x452f1a['symbol'][_0x1571be(0x2c1)](config['basecoin']+'/');_0x3653c9[_0x1571be(0x353)]({'datetime':_0xc1155f['datetime'],'coin':_0x452f1a[_0x1571be(0x27e)],'symbol':_0x452f1a[_0x1571be(0x32b)],'side':_0xc1155f[_0x1571be(0x342)],'reverse':_0x34394f,'amount':formatResult(_0xc1155f[_0x1571be(0x363)],0x8),'filled':formatResult(_0xc1155f[_0x1571be(0x363)],0x8),'price':formatResult(_0xc1155f[_0x1571be(0x271)],0x8)}),_0x16be4a=_0xc1155f[_0x1571be(0x342)]=='buy'?_0x16be4a+_0xc1155f['filled']:_0x16be4a-_0xc1155f['filled'];if(!_0x5ac6ee)_0x5ac6ee=_0xc1155f['price'];});_0x55b98c=_0x452f1a[_0x2768fd(0x33d)]-_0x16be4a;let _0x42d2a9;config[_0x2768fd(0x329)][_0x2768fd(0x217)](_0x51a9ac=>{const _0x589e4f=_0x2768fd;!_0x42d2a9&&(_0x42d2a9=_0x51a9ac[_0x589e4f(0x39d)][_0x589e4f(0x280)](_0x4611e6=>_0x4611e6[_0x589e4f(0x27e)]==_0x452f1a[_0x589e4f(0x27e)]),_0x42d2a9&&(_0x55b98c=_0x42d2a9[_0x589e4f(0x33d)],_0x5ac6ee=_0x42d2a9[_0x589e4f(0x271)]));});let _0x54cbd6=dbCoinResults[_0x2768fd(0x351)](_0x2768fd(0x2d6))[_0x2768fd(0x280)]({'coin':_0x452f1a[_0x2768fd(0x27e)]})[_0x2768fd(0x234)]();_0x54cbd6={'coin':_0x452f1a[_0x2768fd(0x27e)],'number':_0x55b98c,'breakeven':_0x5ac6ee,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2768fd(0x351)](_0x2768fd(0x2d6))[_0x2768fd(0x280)]({'coin':_0x452f1a['coin']})[_0x2768fd(0x3b3)](_0x54cbd6)['write']();}}_0x3653c9[_0x2768fd(0x343)]((_0x1f7b20,_0x2a66ce)=>_0x1f7b20[_0x2768fd(0x339)]>_0x2a66ce[_0x2768fd(0x339)]?0x1:_0x2a66ce['datetime']>_0x1f7b20[_0x2768fd(0x339)]?-0x1:0x0);let _0xcc6c68=0x0;for(let _0x26500b of _0x3653c9){await updateCoinResults(_0x26500b,!![]);}}catch(_0x3b3f4c){await handleError(_0x3b3f4c,_0x2768fd(0x388));}}async function getAllEventOrders(_0x166de9){const _0x5d4c04=_0x570eee;let _0x1c12be=[],_0x10ca39=dbLogs[_0x5d4c04(0x351)](_0x5d4c04(0x394))[_0x5d4c04(0x3a5)](_0x1bee1e=>{const _0x2486f1=_0x5d4c04,_0x3247df=_0x1bee1e[_0x2486f1(0x22a)]['toLowerCase']();return _0x3247df['includes'](_0x166de9[_0x2486f1(0x38d)]())&&(_0x3247df[_0x2486f1(0x2c1)]('market')&&_0x3247df[_0x2486f1(0x2c1)](_0x2486f1(0x26b))||_0x3247df[_0x2486f1(0x2c1)](_0x2486f1(0x363))&&_0x3247df[_0x2486f1(0x2c1)](_0x2486f1(0x26b)));})[_0x5d4c04(0x232)](_0x5d4c04(0x219))[_0x5d4c04(0x234)]();return _0x10ca39[_0x5d4c04(0x217)](_0x111885=>{const _0x48aa58=_0x5d4c04,_0x51fe94=_0x111885[_0x48aa58(0x22a)]['includes'](_0x48aa58(0x2ec))?_0x48aa58(0x2ec):_0x48aa58(0x1ef),_0x574f61=/#([0-9]|\.)+\s/i,_0x29e66b=Number(_0x574f61[_0x48aa58(0x220)](_0x111885['event'])[0x0][_0x48aa58(0x2c6)](0x1)),_0x280c3d=/@([0-9]|\.)+$/i,_0x364417=Number(_0x280c3d[_0x48aa58(0x220)](_0x111885[_0x48aa58(0x22a)])[0x0][_0x48aa58(0x2c6)](0x1));_0x1c12be[_0x48aa58(0x353)]({'datetime':_0x111885['time'],'coin':symbolToCoin(_0x166de9),'symbol':_0x166de9,'side':_0x51fe94,'amount':_0x29e66b,'filled':_0x29e66b,'price':_0x364417});}),_0x1c12be;}async function validate24hChanges(){const _0x2744d2=_0x570eee;for(const _0x1c7728 of currentCoins){if(_0x1c7728[_0x2744d2(0x27e)]!=config[_0x2744d2(0x34e)]){let _0x97ab81;_0x1c7728[_0x2744d2(0x31d)]?_0x97ab81=formatResult((0x1/(gChange[_0x1c7728['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x97ab81=gChange[_0x1c7728[_0x2744d2(0x32b)]],_0x97ab81<config['change24h']&&(logHistory(_0x2744d2(0x2cb),_0x1c7728[_0x2744d2(0x27e)]+_0x2744d2(0x287)+_0x97ab81+'%'),logHistory('error',_0x2744d2(0x38e)),logHistory(_0x2744d2(0x2cb),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x33ee01,_0x29b983){const _0x484227=_0x570eee;if(!_0x33ee01)return!![];const _0x4cafd5=_0x29b983[_0x484227(0x37a)]('.'),_0x3026f1=_0x33ee01[_0x484227(0x37a)]('.');for(var _0x1116fc=0x0;_0x1116fc<_0x3026f1[_0x484227(0x333)];_0x1116fc++){const _0x5c1b3e=~~_0x3026f1[_0x1116fc],_0xaf6768=~~_0x4cafd5[_0x1116fc];if(_0x5c1b3e<_0xaf6768)return!![];if(_0x5c1b3e>_0xaf6768)return![];}return![];}async function oneTimeMigration(){const _0x1866c6=_0x570eee;let _0x1ae8e8=dbLogs['get']('version')[_0x1866c6(0x234)]();if(isOlderVersion(_0x1ae8e8,_0x1866c6(0x31b))){let _0x4ecdb9=[];const _0x52ede9=dbLogs[_0x1866c6(0x351)](_0x1866c6(0x394))[_0x1866c6(0x234)]();_0x52ede9[_0x1866c6(0x217)](_0x55ae50=>{const _0x1636f3=_0x1866c6;_0x4ecdb9[_0x1636f3(0x353)]({'time':_0x55ae50['time'],'type':_0x55ae50[_0x1636f3(0x2a8)],'event':_0x55ae50['event']});}),dbLogs['get'](_0x1866c6(0x394))['assign'](_0x4ecdb9)[_0x1866c6(0x292)]();}let _0x309e2b=dbConfig[_0x1866c6(0x351)](_0x1866c6(0x393))[_0x1866c6(0x234)]();if(isOlderVersion(_0x309e2b,_0x1866c6(0x31b))){let _0x183efa=dbConfig[_0x1866c6(0x351)](_0x1866c6(0x289))['find']({'botID':botID})[_0x1866c6(0x234)]();if(_0x183efa){let _0x41628e=[];_0x183efa[_0x1866c6(0x28d)][_0x1866c6(0x217)](_0x57a836=>{const _0x1d877c=_0x1866c6;_0x41628e[_0x1d877c(0x353)]({'coin':_0x57a836[_0x1d877c(0x27e)],'number':_0x57a836[_0x1d877c(0x2a2)],'price':_0x57a836['startprice']}),delete _0x57a836[_0x1d877c(0x2a2)],delete _0x57a836[_0x1d877c(0x205)];});if(_0x41628e[_0x1866c6(0x333)]!==0x0)fs[_0x1866c6(0x2ef)](configbackuppath+(_0x1866c6(0x326)+botID+'.json'),JSON[_0x1866c6(0x2f2)](_0x41628e,null,0x4),function(_0x3000fb){if(_0x3000fb){}});const _0x17c342=(_0x258e99,_0x583747)=>{const _0x17cb1f=_0x1866c6;let _0x3c4f40=[];_0x583747[_0x17cb1f(0x217)](_0x39984c=>{const _0x66d103=_0x17cb1f,_0xfd9b10=_0x258e99[_0x66d103(0x280)](_0x4bd51f=>_0x4bd51f[_0x66d103(0x27e)]==_0x39984c[_0x66d103(0x27e)]);if(!_0xfd9b10)_0x3c4f40[_0x66d103(0x353)](_0x39984c);});let _0x501df4=[];return _0x258e99[_0x17cb1f(0x217)](_0x183285=>{const _0x5e7503=_0x17cb1f,_0x322f90=_0x583747[_0x5e7503(0x280)](_0x4001f7=>_0x4001f7[_0x5e7503(0x27e)]==_0x183285['coin']);if(!_0x322f90||_0x322f90[_0x5e7503(0x33d)]==0x0&&_0x183285[_0x5e7503(0x33d)]!=0x0)_0x501df4[_0x5e7503(0x353)](_0x183285);}),{'missingDay1':_0x3c4f40,'notInDay2':_0x501df4};},_0x48f1b6=dbPerformance[_0x1866c6(0x351)]('data')['cloneDeep']()[_0x1866c6(0x234)]();if(_0x48f1b6[_0x1866c6(0x333)]>0x1){const {missingDay1:_0x21ffc3,notInDay2:_0x592249}=_0x17c342(_0x41628e,_0x48f1b6[0x1][_0x1866c6(0x2d6)]);_0x41628e=[..._0x41628e,..._0x21ffc3],_0x592249[_0x1866c6(0x217)](_0x41bea8=>{const _0x3c49a2=_0x1866c6;let _0x53244e=_0x41628e['findIndex'](_0x5c6c54=>_0x5c6c54[_0x3c49a2(0x27e)]==_0x41bea8['coin']);_0x53244e!=-0x1&&_0x41628e['splice'](_0x53244e,0x1);});}_0x41628e[_0x1866c6(0x343)]((_0x263bb9,_0x32b286)=>_0x263bb9[_0x1866c6(0x27e)]>_0x32b286[_0x1866c6(0x27e)]?0x1:_0x32b286['coin']>_0x263bb9[_0x1866c6(0x27e)]?-0x1:0x0);let _0x44c1d3=[{'date':_0x183efa['startdate'],'changes':_0x41628e}];_0x48f1b6[_0x1866c6(0x333)]>0x2&&_0x48f1b6[_0x1866c6(0x217)]((_0x4d1bd5,_0x16f595)=>{const _0x23717b=_0x1866c6;if(_0x16f595>0x0&&_0x16f595<_0x48f1b6['length']-0x1){const {missingDay1:_0x2d92f6,notInDay2:_0x346d08}=_0x17c342(_0x48f1b6[_0x16f595][_0x23717b(0x2d6)],_0x48f1b6[_0x16f595+0x1][_0x23717b(0x2d6)]);_0x41628e=[],(_0x2d92f6[_0x23717b(0x333)]!=0x0||_0x346d08[_0x23717b(0x333)]!=0x0)&&(_0x2d92f6[_0x23717b(0x333)]!=0x0&&_0x41628e[_0x23717b(0x353)](..._0x2d92f6),_0x346d08[_0x23717b(0x333)]!=0x0&&(_0x346d08[_0x23717b(0x217)](_0x2ba0db=>{const _0x9630ed=_0x23717b;_0x2ba0db[_0x9630ed(0x33d)]=-_0x2ba0db['number'];}),_0x41628e[_0x23717b(0x353)](..._0x346d08)),_0x41628e[_0x23717b(0x343)]((_0x504441,_0x4db354)=>_0x504441[_0x23717b(0x27e)]>_0x4db354[_0x23717b(0x27e)]?0x1:_0x4db354[_0x23717b(0x27e)]>_0x504441['coin']?-0x1:0x0),_0x44c1d3[_0x23717b(0x353)]({'date':_0x48f1b6[_0x16f595+0x1][_0x23717b(0x242)],'changes':_0x41628e}));}}),dbConfig[_0x1866c6(0x351)](_0x1866c6(0x289))[_0x1866c6(0x280)]({'botID':botID})[_0x1866c6(0x3b3)]({..._0x183efa,'liquidity':_0x44c1d3})[_0x1866c6(0x292)]();}}if(isOlderVersion(_0x309e2b,_0x1866c6(0x3a6))){let _0x5ab516=dbConfig['get']('bot')[_0x1866c6(0x280)]({'botID':botID})[_0x1866c6(0x234)]();if(_0x5ab516){const _0x16be4e=_0x5ab516[_0x1866c6(0x267)],_0x2079a9=_0x16be4e?capitalize(_0x16be4e):_0x1866c6(0x2f9);dbConfig[_0x1866c6(0x351)](_0x1866c6(0x289))[_0x1866c6(0x280)]({'botID':botID})[_0x1866c6(0x3b3)]({'exchange':_0x2079a9})['write']();}}if(isOlderVersion(_0x309e2b,'2.6.22')){let _0x4fdab6=dbConfig['get'](_0x1866c6(0x289))['find']({'botID':botID})[_0x1866c6(0x234)]();if(_0x4fdab6){const _0x15227d=_0x4fdab6['marketcapEnabled'],_0x2f9cf7=_0x15227d?'marketcap':![];dbConfig[_0x1866c6(0x351)](_0x1866c6(0x289))[_0x1866c6(0x280)]({'botID':botID})['assign']({'marketcapEnabled':_0x2f9cf7})[_0x1866c6(0x292)]();}}if(isOlderVersion(_0x309e2b,_0x1866c6(0x2dc))){let _0xb0b83c=dbConfig[_0x1866c6(0x351)](_0x1866c6(0x289))[_0x1866c6(0x280)]({'botID':botID})['value']();if(_0xb0b83c){const _0x56530d=_0xb0b83c['autoliquidity'],_0x4d0bab=_0x56530d?_0x1866c6(0x2c9):![];dbConfig[_0x1866c6(0x351)](_0x1866c6(0x289))[_0x1866c6(0x280)]({'botID':botID})[_0x1866c6(0x3b3)]({'autoliquidity':_0x4d0bab})[_0x1866c6(0x292)]();}}let _0x36e995=dbPerformance[_0x1866c6(0x351)](_0x1866c6(0x393))['value']();isOlderVersion(_0x36e995,_0x1866c6(0x31b))&&setStartDatePerformance();let _0x45d304=dbCoinResults[_0x1866c6(0x351)](_0x1866c6(0x393))[_0x1866c6(0x234)]();if(isOlderVersion(_0x45d304,_0x1866c6(0x346))){let _0x2ef598=dbCoinResults['get']('coins')['value']();if(_0x2ef598[_0x1866c6(0x333)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x1709ed=_0x570eee;dbConfig[_0x1709ed(0x39b)](_0x1709ed(0x393),serverversion)['write'](),dbPerformance[_0x1709ed(0x39b)](_0x1709ed(0x393),serverversion)[_0x1709ed(0x292)](),dbLogs['set']('version',serverversion)['write'](),dbCoinResults[_0x1709ed(0x39b)](_0x1709ed(0x393),serverversion)[_0x1709ed(0x292)]();}function getConfiguration(_0x12cc73){const _0xb5e1c=_0x570eee;let _0xdf20de=dbConfig[_0xb5e1c(0x351)](_0xb5e1c(0x289))[_0xb5e1c(0x280)]({'botID':_0x12cc73})[_0xb5e1c(0x234)]();if(_0xdf20de){let _0x59697b=![];typeof _0xdf20de['threshold']==_0xb5e1c(0x1f8)&&(_0xdf20de={..._0xdf20de,'threshold':Number(_0xdf20de['threshold'])},_0x59697b=!![]),_0xdf20de[_0xb5e1c(0x254)]==undefined&&(_0xdf20de={..._0xdf20de,'change24h':-0x14},_0x59697b=!![]),_0xdf20de[_0xb5e1c(0x239)]==undefined&&(_0xdf20de={..._0xdf20de,'fiat':_0xb5e1c(0x340)},_0x59697b=!![]),_0xdf20de['onepagemode']==undefined&&(_0xdf20de={..._0xdf20de,'onepagemode':settings[_0xb5e1c(0x2fe)]},_0x59697b=!![]),_0xdf20de['colorscheme']==undefined&&(_0xdf20de={..._0xdf20de,'colorscheme':_0xb5e1c(0x24c)},_0x59697b=!![]),_0xdf20de['autoliquidity']==undefined&&(_0xdf20de={..._0xdf20de,'autoliquidity':_0xb5e1c(0x2c9)},_0x59697b=!![]),_0xdf20de[_0xb5e1c(0x349)]==undefined&&(_0xdf20de={..._0xdf20de,'marketcapApi':settings[_0xb5e1c(0x349)]?!![]:![]},_0x59697b=!![]),_0xdf20de[_0xb5e1c(0x303)]==undefined&&(_0xdf20de={..._0xdf20de,'marketcapEnabled':![]},_0x59697b=!![]),_0x59697b&&(_0xdf20de={'botID':_0xdf20de[_0xb5e1c(0x399)],'exchange':_0xdf20de[_0xb5e1c(0x267)],'apiKey':_0xdf20de[_0xb5e1c(0x36d)],'apiSecret':_0xdf20de[_0xb5e1c(0x25b)],'apiPassword':_0xdf20de[_0xb5e1c(0x1f1)],'basecoin':_0xdf20de['basecoin'],'botname':_0xdf20de[_0xb5e1c(0x24d)],'showname':_0xdf20de[_0xb5e1c(0x328)],'threshold':_0xdf20de[_0xb5e1c(0x396)],'ordertype':_0xdf20de['ordertype'],'timeout':_0xdf20de[_0xb5e1c(0x222)],'fiat':_0xdf20de[_0xb5e1c(0x239)],'startdate':_0xdf20de['startdate'],'recreate':_0xdf20de[_0xb5e1c(0x1fa)],'timeshift':_0xdf20de[_0xb5e1c(0x2c2)],'onepagemode':_0xdf20de[_0xb5e1c(0x2fe)],'headless':_0xdf20de[_0xb5e1c(0x2cd)],'cooldown':_0xdf20de['cooldown'],'change24h':_0xdf20de[_0xb5e1c(0x254)],'emojibuy':_0xdf20de[_0xb5e1c(0x2bd)],'emojisell':_0xdf20de[_0xb5e1c(0x38b)],'colorscheme':_0xdf20de[_0xb5e1c(0x330)],'marketcapApi':_0xdf20de['marketcapApi'],'marketcapEnabled':_0xdf20de[_0xb5e1c(0x303)],'portfolio':_0xdf20de[_0xb5e1c(0x28d)],'autoliquidity':_0xdf20de[_0xb5e1c(0x364)],'liquidity':_0xdf20de[_0xb5e1c(0x329)],'openOrders':_0xdf20de['openOrders']},dbConfig[_0xb5e1c(0x351)](_0xb5e1c(0x289))['remove']()[_0xb5e1c(0x292)](),dbConfig['get'](_0xb5e1c(0x289))[_0xb5e1c(0x353)](_0xdf20de)[_0xb5e1c(0x292)]());}else _0xdf20de={'botID':_0x12cc73,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x12cc73,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0xb5e1c(0x2c2)],'onepagemode':settings[_0xb5e1c(0x2fe)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0xb5e1c(0x24c),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':'update-liquidity','liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xdf20de;}function emittedConfiguration(){const _0x166373=_0x570eee;let _0x219470;if(config[_0x166373(0x36d)]=='')_0x219470={...config,'configstate':'initial'};else config[_0x166373(0x36d)]=='***'?_0x219470={...config,'configstate':'recovery'}:(_0x219470={...config,'apiKey':_0x166373(0x2f8),'apiSecret':_0x166373(0x2f8)},config['apiPassword']&&(_0x219470[_0x166373(0x1f1)]=_0x166373(0x2f8)));return _0x219470[_0x166373(0x1f0)]=enableFiatToggle,_0x219470;}function getSettings(){const _0x4d7feb=_0x570eee;return dbSettings[_0x4d7feb(0x351)]('settings')[_0x4d7feb(0x234)]();}function getSecure(){const _0x530167=_0x570eee;return dbSecure[_0x530167(0x351)]('secure')['value']()||{};}function updateTimeshift(_0x395e60){const _0x466176=_0x570eee;let _0x3fc232=dbConfig[_0x466176(0x351)](_0x466176(0x289))[_0x466176(0x280)]({'botID':botID})['value']();_0x3fc232&&dbConfig[_0x466176(0x351)](_0x466176(0x289))[_0x466176(0x280)]({'botID':botID})[_0x466176(0x3b3)]({'timeshift':_0x395e60})[_0x466176(0x292)](),config[_0x466176(0x2c2)]=_0x395e60,proxyEmit(_0x466176(0x30b),emittedConfiguration());}function updateOnepagemode(_0x42ec9c){const _0x467e91=_0x570eee;let _0x1b69b3=dbConfig['get'](_0x467e91(0x289))[_0x467e91(0x280)]({'botID':botID})[_0x467e91(0x234)]();_0x1b69b3&&dbConfig[_0x467e91(0x351)](_0x467e91(0x289))['find']({'botID':botID})[_0x467e91(0x3b3)]({'onepagemode':_0x42ec9c})[_0x467e91(0x292)](),config[_0x467e91(0x2fe)]=_0x42ec9c,proxyEmit(_0x467e91(0x30b),emittedConfiguration());}function updateMarketcapApi(_0xf67705){const _0x524390=_0x570eee,_0x451512=_0xf67705?!![]:![];let _0x398172=dbConfig['get']('bot')['find']({'botID':botID})['value']();_0x398172&&dbConfig['get'](_0x524390(0x289))['find']({'botID':botID})[_0x524390(0x3b3)]({'marketcapApi':_0x451512})[_0x524390(0x292)](),config[_0x524390(0x349)]=_0x451512,getMarketCap(),proxyEmit(_0x524390(0x30b),emittedConfiguration());}async function storeConfiguration(_0x139eba){const _0x560478=_0x570eee;logger[_0x560478(0x3b1)](_0x560478(0x30a));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x27649d=![],_0x4369be=![],_0x48414d=[];_0x139eba[_0x560478(0x28d)][_0x560478(0x217)](_0x2792b4=>{const _0x250dba=_0x560478;if(!_0x2792b4[_0x250dba(0x2e1)]&&_0x2792b4[_0x250dba(0x27e)]!=_0x139eba[_0x250dba(0x34e)])_0x48414d[_0x250dba(0x353)](_0x2792b4['symbol']);}),_0x48414d[_0x560478(0x217)](_0x2b4b55=>{const _0xbf2d82=_0x560478,_0x3e53ff=currentCoins['find'](_0x3517e7=>_0x3517e7[_0xbf2d82(0x32b)]==_0x2b4b55);!_0x3e53ff&&(_0x27649d=!![]);}),currentCoins[_0x560478(0x217)](_0x39729a=>{const _0x4df083=_0x560478;if(_0x39729a['coin']!=config[_0x4df083(0x34e)]){const _0x301de7=_0x48414d['find'](_0x219845=>_0x219845==_0x39729a['symbol']);!_0x301de7&&(_0x27649d=!![]);}}),_0x139eba[_0x560478(0x28d)]['forEach'](_0x1abc7d=>{const _0x19389a=_0x560478,_0x44a1f4=config[_0x19389a(0x28d)]['find'](_0x4e75ce=>_0x4e75ce[_0x19389a(0x27e)]==_0x1abc7d[_0x19389a(0x27e)]);if(_0x44a1f4&&_0x1abc7d[_0x19389a(0x214)]!=_0x44a1f4[_0x19389a(0x214)])_0x4369be=!![];});let _0x323812=dbConfig['get'](_0x560478(0x289))[_0x560478(0x280)]({'botID':botID})[_0x560478(0x234)]();_0x139eba={..._0x139eba,'apiKey':decryptRSA(secure[_0x560478(0x335)],_0x139eba[_0x560478(0x36d)]),'apiSecret':decryptRSA(secure[_0x560478(0x335)],_0x139eba[_0x560478(0x25b)])};_0x139eba[_0x560478(0x1f1)]&&(_0x139eba[_0x560478(0x1f1)]=decryptRSA(secure[_0x560478(0x335)],_0x139eba[_0x560478(0x1f1)]));let _0x3716ca=![];if(_0x323812){_0x139eba['apiKey']==_0x560478(0x2f8)?_0x139eba[_0x560478(0x36d)]=config[_0x560478(0x36d)]:_0x3716ca=!![];_0x139eba[_0x560478(0x25b)]==_0x560478(0x2f8)?_0x139eba[_0x560478(0x25b)]=config['apiSecret']:_0x3716ca=!![];if(_0x139eba[_0x560478(0x1f1)]==_0x560478(0x2f8))_0x139eba[_0x560478(0x1f1)]=config['apiPassword'];else{if(_0x139eba[_0x560478(0x1f1)])_0x3716ca=!![];}dbConfig[_0x560478(0x351)](_0x560478(0x289))[_0x560478(0x280)]({'botID':botID})[_0x560478(0x3b3)](_0x139eba)['write']();}else dbConfig[_0x560478(0x351)](_0x560478(0x289))[_0x560478(0x353)](_0x139eba)[_0x560478(0x292)](),_0x3716ca=!![],process[_0x560478(0x29d)]({'status':_0x560478(0x273),'live':_0x560478(0x30f)},_0x6684d3=>{});process['send']({'botname':_0x139eba[_0x560478(0x24d)]},_0xff949f=>{}),config={..._0x139eba},updateBotManager(),proxyEmit(_0x560478(0x2d9)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3716ca)!_0x323812?await reset(!![]):getBalances();else _0x27649d||_0x4369be?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x4810ab){const _0x41e7d3=_0x570eee,_0x490178={...config,'headless':_0x4810ab['headless']};let _0x2b44e2=dbConfig[_0x41e7d3(0x351)](_0x41e7d3(0x289))[_0x41e7d3(0x280)]({'botID':botID})[_0x41e7d3(0x234)]();_0x2b44e2&&dbConfig[_0x41e7d3(0x351)]('bot')[_0x41e7d3(0x280)]({'botID':botID})[_0x41e7d3(0x3b3)](_0x490178)[_0x41e7d3(0x292)](),config={..._0x490178},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x1f0035){const _0x3e5bad=_0x570eee,_0x4d0d94={...config,'fiat':_0x1f0035};let _0x1debeb=dbConfig[_0x3e5bad(0x351)](_0x3e5bad(0x289))[_0x3e5bad(0x280)]({'botID':botID})['value']();_0x1debeb&&dbConfig[_0x3e5bad(0x351)](_0x3e5bad(0x289))[_0x3e5bad(0x280)]({'botID':botID})[_0x3e5bad(0x3b3)](_0x4d0d94)[_0x3e5bad(0x292)](),config={..._0x4d0d94},proxyEmit(_0x3e5bad(0x30b),emittedConfiguration());}function resetHistory(){const _0x4acaa5=_0x570eee;logger[_0x4acaa5(0x331)](_0x4acaa5(0x1f7));try{if(fs[_0x4acaa5(0x324)](path[_0x4acaa5(0x26e)](configpath,'bot-'+botID+_0x4acaa5(0x33c))))fs[_0x4acaa5(0x3b5)](path[_0x4acaa5(0x26e)](configpath,'bot-'+botID+_0x4acaa5(0x33c)));if(fs[_0x4acaa5(0x324)](path[_0x4acaa5(0x26e)](configpath,_0x4acaa5(0x2c5)+botID+'-performance.json')))fs[_0x4acaa5(0x3b5)](path['join'](configpath,'bot-'+botID+_0x4acaa5(0x368)));if(fs[_0x4acaa5(0x324)](path[_0x4acaa5(0x26e)](configpath,_0x4acaa5(0x2c5)+botID+_0x4acaa5(0x25f))))fs[_0x4acaa5(0x3b5)](path[_0x4acaa5(0x26e)](configpath,_0x4acaa5(0x2c5)+botID+_0x4acaa5(0x25f)));}catch(_0x9daa15){if(_0x9daa15)logger[_0x4acaa5(0x331)](_0x4acaa5(0x2a5),_0x9daa15);}const _0x381a3b=getDate();let _0x2b0a92=[];currentCoins[_0x4acaa5(0x217)](_0x5c7c49=>{const _0x559089=_0x4acaa5;_0x2b0a92[_0x559089(0x353)]({'coin':_0x5c7c49['coin'],'number':_0x5c7c49[_0x559089(0x33d)],'price':_0x5c7c49[_0x559089(0x223)]});});let _0x92b7b9=dbConfig['get'](_0x4acaa5(0x289))[_0x4acaa5(0x280)]({'botID':botID})[_0x4acaa5(0x234)]();_0x92b7b9&&(dbConfig['get'](_0x4acaa5(0x289))[_0x4acaa5(0x280)]({'botID':botID})['assign']({'liquidity':[{'date':_0x381a3b,'changes':_0x2b0a92}]})[_0x4acaa5(0x292)](),config['liquidity']=[]),restartBot(!![]);}function noslash(_0x6a1c2){const _0x3ced54=_0x570eee;return _0x6a1c2[_0x3ced54(0x2ba)]('/','');}function updateHighestFee(_0x973160){const _0x2dfa42=_0x570eee;if(_0x973160[_0x2dfa42(0x31d)]){let _0x25c1fb={'filled':_0x973160[_0x2dfa42(0x363)]*_0x973160['price'],'amount':_0x973160[_0x2dfa42(0x363)]*_0x973160[_0x2dfa42(0x271)],'side':_0x973160[_0x2dfa42(0x342)]=='sell'?_0x2dfa42(0x1ef):_0x2dfa42(0x2ec),'price':0x1/_0x973160[_0x2dfa42(0x271)]};_0x973160={..._0x973160,..._0x25c1fb};}const _0x221ffc=defaultFee*_0x973160[_0x2dfa42(0x363)]*_0x973160[_0x2dfa42(0x271)];lastFees[_0x2dfa42(0x21d)][_0x2dfa42(0x333)]===0x14&&lastFees[_0x2dfa42(0x21d)][_0x2dfa42(0x377)](),lastFees['recent20'][_0x2dfa42(0x353)](_0x221ffc),lastFees[_0x2dfa42(0x23a)]=Math[_0x2dfa42(0x37f)](...lastFees[_0x2dfa42(0x21d)]);}async function updateNumberCoinsCcxt(_0x5b43fa){const _0x31cfd8=_0x570eee;logger[_0x31cfd8(0x3b1)](_0x31cfd8(0x26c)+_0x5b43fa[_0x31cfd8(0x32b)]+_0x31cfd8(0x275)+_0x5b43fa[_0x31cfd8(0x311)]+_0x31cfd8(0x275)+_0x5b43fa[_0x31cfd8(0x363)]+'\x20/\x20'+_0x5b43fa[_0x31cfd8(0x274)]+_0x31cfd8(0x275)+_0x5b43fa['id']);let _0x1f9c2e=_0x5b43fa[_0x31cfd8(0x311)],_0x477074=![];currentCoins[_0x31cfd8(0x217)](_0x22ace6=>{const _0x51ba09=_0x31cfd8;_0x22ace6[_0x51ba09(0x32b)]==_0x5b43fa[_0x51ba09(0x32b)]&&(_0x477074=!![]);});if(!_0x477074)return;const _0x597a7e=currentCoins[_0x31cfd8(0x280)](_0xac8157=>_0xac8157['symbol']==_0x5b43fa['symbol']),_0x268efd=_0x597a7e[_0x31cfd8(0x27e)],_0x230c9f=_0x399a4e=>{const _0x434e18=_0x31cfd8,_0x8e0767=currentCoins[_0x434e18(0x280)](_0x491c22=>_0x491c22[_0x434e18(0x32b)]==_0x5b43fa[_0x434e18(0x32b)]);if(_0x8e0767)_0x8e0767[_0x434e18(0x2e6)]=_0x399a4e;};let _0x5e919c=![];for(const _0x4566e8 of lastOrders){const _0x4dce38=0x64,_0x255983=0x1388;let _0x452b47=0x0;while(!_0x4566e8['orderId']&&_0x452b47*_0x4dce38<_0x255983){_0x452b47++,await sleep(_0x4dce38);}if(_0x452b47>0x0)logger['debug']('Waited\x20'+_0x452b47*_0x4dce38/0x3e8+_0x31cfd8(0x2bb));_0x4566e8['orderId']==_0x5b43fa['id']&&(_0x5e919c=!![]);}if(_0x1f9c2e==_0x31cfd8(0x268)){_0x230c9f(_0x31cfd8(0x268));if(_0x5b43fa[_0x31cfd8(0x363)]>0x0&&_0x5b43fa['filled']<_0x5b43fa[_0x31cfd8(0x274)]){if(_0x5e919c){setBlockTransactionDetection(!![]),logger[_0x31cfd8(0x3b1)](_0x31cfd8(0x277)+_0x5b43fa[_0x31cfd8(0x363)]+_0x31cfd8(0x204)+_0x5b43fa['id']);const _0x2795f7=await getCoins(balanceUpdateDelay,undefined,undefined,_0x268efd);[currentCoins,currentCoinsAll]=_0x2795f7,setBlockTransactionDetection(![]);}else logger[_0x31cfd8(0x3b1)](_0x31cfd8(0x277)+_0x5b43fa[_0x31cfd8(0x363)]+')\x20unknown\x20order:\x20'+_0x5b43fa['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x1f9c2e==_0x31cfd8(0x2f7)){_0x230c9f(_0x31cfd8(0x2f7)),lastOrders=lastOrders[_0x31cfd8(0x3a5)](_0x3e8aef=>_0x3e8aef[_0x31cfd8(0x32b)]!=_0x5b43fa[_0x31cfd8(0x32b)]);const _0x311566=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x311566,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x1f9c2e==_0x31cfd8(0x3ae)){if(lastOrders)for(const _0x50d802 of lastOrders){if(_0x50d802[_0x31cfd8(0x2aa)]==_0x5b43fa['id']){logger[_0x31cfd8(0x3b1)](_0x31cfd8(0x285)+_0x5b43fa['id']),_0x5e919c=!![];if(_0x50d802[_0x31cfd8(0x363)]==0x0){setBlockTransactionDetection(!![]),logger[_0x31cfd8(0x3b1)]('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x5b43fa['id']);if(_0x5b43fa[_0x31cfd8(0x2db)])_0x50d802[_0x31cfd8(0x271)]=_0x5b43fa['average'];else{if(_0x5b43fa[_0x31cfd8(0x271)])_0x50d802['price']=_0x5b43fa[_0x31cfd8(0x271)];else{}}_0x50d802[_0x31cfd8(0x363)]=_0x5b43fa[_0x31cfd8(0x363)],updateHighestFee(_0x50d802);const _0x227adc=await getCoins(balanceUpdateDelay,undefined,undefined,_0x268efd);[currentCoins,currentCoinsAll]=_0x227adc,setBlockTransactionDetection(![]),await validateOrders(),_0x230c9f(_0x31cfd8(0x363)),_0x50d802[_0x31cfd8(0x32d)]={'currency':_0x5b43fa[_0x31cfd8(0x32d)]?_0x5b43fa['fee'][_0x31cfd8(0x2a9)]:null,'cost':_0x5b43fa['fee']?_0x5b43fa['fee'][_0x31cfd8(0x248)]:0x0},await updateCoinResults(_0x50d802);}}}!_0x5e919c&&(logger[_0x31cfd8(0x3b1)](_0x31cfd8(0x2ee)+_0x5b43fa['id']),_0x230c9f(_0x31cfd8(0x363)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x1398d5=JSON[_0x31cfd8(0x325)](lastBalances[_0x31cfd8(0x28d)]);const _0x496fd9=_0x1398d5['find'](_0x26674d=>_0x26674d[_0x31cfd8(0x32b)]==_0x5b43fa[_0x31cfd8(0x32b)]);if(_0x496fd9){if(_0x1f9c2e==_0x31cfd8(0x268))_0x496fd9[_0x31cfd8(0x2e6)]=_0x496fd9[_0x31cfd8(0x2e6)]==_0x31cfd8(0x363)?_0x31cfd8(0x363):_0x31cfd8(0x268);else{if(_0x1f9c2e=='canceled')_0x496fd9[_0x31cfd8(0x2e6)]=_0x496fd9[_0x31cfd8(0x2e6)]==_0x31cfd8(0x363)?_0x31cfd8(0x363):'canceled';else _0x1f9c2e==_0x31cfd8(0x3ae)&&(_0x496fd9[_0x31cfd8(0x2e6)]=_0x31cfd8(0x363));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x1398d5)},proxyEmit(_0x31cfd8(0x296),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0xd68772=![];currentCoins['forEach'](_0x449813=>{const _0x47e95f=_0x2363;_0xd68772=allOpenOrders[_0x47e95f(0x280)](_0x447ecd=>_0x447ecd['symbol']==_0x449813['symbol']),_0x449813[_0x47e95f(0x2e6)]=_0xd68772?'open':_0x47e95f(0x323);});}async function fetchBalance(_0x5bba81=!![]){const _0xcb8a83=_0x570eee;let _0x32c669,_0x47b766;try{return _0x32c669=await exchange[_0xcb8a83(0x1ed)](),_0x47b766=_0x32c669[_0xcb8a83(0x22d)],_0x47b766;}catch(_0x4fc107){return!_0x5bba81?handleErrorNoStop(_0x4fc107,_0xcb8a83(0x39a)):await handleError(_0x4fc107,_0xcb8a83(0x39a)),![];}}async function getCoins(_0x9f48a7=0x0,_0x5b9df2=!![],_0xf2110d=config[_0x570eee(0x34e)],_0x588613){const _0x488305=_0x570eee;let _0x5d29f9=[],_0x915d63=[],_0x4833b1=[],_0x12aa86;if(_0x9f48a7)await sleep(_0x9f48a7);if(botPaused)return[currentCoins,currentCoinsAll];let _0x472b30=![],_0x4a7266=0x0,_0x4c33df,_0x29b722;_0x588613&&(_0x4c33df=currentCoins['find'](_0xa1a19b=>_0xa1a19b[_0x488305(0x27e)]==_0x588613),_0x29b722=_0x4c33df[_0x488305(0x33d)]);while(!_0x472b30){_0x12aa86=await fetchBalance(_0x5b9df2);if(_0x12aa86){if(_0x588613){if(_0x12aa86[_0x588613]!=_0x29b722)logger['debug']('Valid\x20balance\x20for\x20'+_0x588613+':\x20'+_0x12aa86[_0x588613]+'\x20('+_0x29b722+')'),_0x472b30=!![];else{logger[_0x488305(0x3b1)](_0x488305(0x295)+_0x588613+':\x20'+_0x12aa86[_0x588613]+'\x20('+_0x29b722+')'),_0x4a7266++;if(_0x4a7266<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x488305(0x3b1)](_0x488305(0x36c)+_0x4a7266+_0x488305(0x3a7));break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x407595,_0xd94492]of Object[_0x488305(0x206)](_0x12aa86)){_0x4833b1[_0x488305(0x353)](_0x407595);}config['portfolio'][_0x488305(0x217)](_0xc3e23c=>{const _0x181ea8=_0x488305;!_0x4833b1[_0x181ea8(0x2c1)](_0xc3e23c[_0x181ea8(0x27e)])&&(_0x12aa86[_0xc3e23c[_0x181ea8(0x27e)]]=0x0);});if(_0xf2110d=='')for(const [_0x4023b4,_0x4c9948]of Object[_0x488305(0x206)](_0x12aa86)){_0x4c9948!=0x0&&_0x5d29f9[_0x488305(0x353)]({'coin':_0x4023b4});}else for(const [_0x5d9352,_0x76ea5f]of Object[_0x488305(0x206)](_0x12aa86)){const _0x468036=config[_0x488305(0x28d)][_0x488305(0x280)](_0x453f0c=>_0x453f0c[_0x488305(0x27e)]==_0x5d9352),_0x308a34=_0x5d9352+'/'+_0xf2110d,_0x4125c5=_0xf2110d+'/'+_0x5d9352,_0x5197cb=currentCoins[_0x488305(0x280)](_0x507d6f=>_0x507d6f[_0x488305(0x27e)]==_0x5d9352);if((_0x76ea5f!=0x0||_0x468036)&&(allSymbols['includes'](_0x308a34)||_0x5d9352==_0xf2110d))_0x5197cb?_0x5d29f9[_0x488305(0x353)]({..._0x5197cb,'number':Math[_0x488305(0x37f)](_0x76ea5f+(_0x468036&&_0x468036[_0x488305(0x214)]||0x0),0x0)}):_0x5d29f9[_0x488305(0x353)]({'coin':_0x5d9352,'symbol':_0x308a34,'reverse':![],'number':Math['max'](_0x76ea5f+(_0x468036&&_0x468036[_0x488305(0x214)]||0x0),0x0),'orderstatus':_0x488305(0x323)});else{if((_0x76ea5f!=0x0||_0x468036)&&allSymbols[_0x488305(0x2c1)](_0x4125c5))_0x5197cb?_0x5d29f9['push']({..._0x5197cb,'number':Math[_0x488305(0x37f)](_0x76ea5f+(_0x468036&&_0x468036[_0x488305(0x214)]||0x0),0x0)}):_0x5d29f9[_0x488305(0x353)]({'coin':_0x5d9352,'symbol':_0x4125c5,'reverse':!![],'number':Math['max'](_0x76ea5f+(_0x468036&&_0x468036[_0x488305(0x214)]||0x0),0x0),'orderstatus':'none'});else _0x468036&&_0x5d29f9['push']({'coin':_0x468036[_0x488305(0x27e)],'symbol':_0x468036[_0x488305(0x32b)],'reverse':_0x468036[_0x488305(0x31d)],'number':0x0,'orderstatus':_0x488305(0x323)});}}return _0x5d29f9['sort']((_0x2b4935,_0x3ba880)=>_0x2b4935[_0x488305(0x1ec)]<_0x3ba880['delta']?0x1:_0x3ba880['delta']<_0x2b4935[_0x488305(0x1ec)]?-0x1:0x0),_0x915d63=cloneDeep(_0x5d29f9),_0x5d29f9=_0x5d29f9[_0x488305(0x3a5)](_0x52ae6d=>{const _0x55abf1=_0x488305,_0x1e7fa9=config[_0x55abf1(0x28d)][_0x55abf1(0x280)](_0x47ab67=>_0x47ab67[_0x55abf1(0x27e)]==_0x52ae6d['coin']);return _0x1e7fa9&&!_0x1e7fa9[_0x55abf1(0x2e1)];}),[_0x5d29f9,_0x915d63];}async function getCoinNumber(_0x54ed45){const _0x323828=_0x570eee;let _0x4363f3;try{const _0x2165de=await exchange[_0x323828(0x1ed)]();_0x4363f3=_0x2165de[_0x323828(0x22d)][_0x54ed45];}catch(_0x357a09){await handleError(_0x357a09,_0x323828(0x269));}return _0x4363f3;}async function getOpenOrders(){const _0x2b2ee8=_0x570eee;let _0x3264b4;allOpenOrders=[];try{for(const _0x3143b7 of config[_0x2b2ee8(0x28d)]){!_0x3143b7['excluded']&&_0x3143b7['coin']!=config[_0x2b2ee8(0x34e)]&&(_0x3264b4=await exchange[_0x2b2ee8(0x2a0)](_0x3143b7[_0x2b2ee8(0x32b)]),_0x3264b4[_0x2b2ee8(0x333)]>0x0&&allOpenOrders[_0x2b2ee8(0x353)](_0x3264b4[0x0]));}}catch(_0x18b36e){await handleError(_0x18b36e,_0x2b2ee8(0x284));}}async function handleOpenOrders(_0x555cfa=0x0){const _0x3ef6de=_0x570eee;allOpenOrders[_0x3ef6de(0x333)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x555cfa==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x555cfa++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3ef6de(0x3b1)](_0x3ef6de(0x29f)),validateOrders(_0x3ef6de(0x2e0))));}async function testAPI(_0x8a52e){const _0x5bd72e=_0x570eee,_0x5308db=ccxt[_0x5bd72e(0x3b2)][_0x8a52e[_0x5bd72e(0x267)][_0x5bd72e(0x38d)]()],_0x4454d7=new _0x5308db({'apiKey':_0x8a52e[_0x5bd72e(0x36d)],'secret':_0x8a52e[_0x5bd72e(0x25b)],'options':{'defaultType':'spot'}});if(_0x8a52e[_0x5bd72e(0x1f1)])_0x4454d7[_0x5bd72e(0x20b)]=_0x8a52e[_0x5bd72e(0x1f1)];try{await _0x4454d7[_0x5bd72e(0x1ed)]();}catch(_0x583b41){logger[_0x5bd72e(0x3b1)]('Error\x20in\x20testAPI():\x20'+_0x583b41[_0x5bd72e(0x1f6)]());throw _0x583b41;}}function cloneDeep(_0x191898){const _0x3cbfa2=_0x570eee;return JSON['parse'](JSON[_0x3cbfa2(0x2f2)](_0x191898));}async function getPortfolio(_0x15a937){const _0x895175=_0x570eee;let _0x59e717=[],_0x25cf87=[],_0x309fa1=[],_0x2ba26e;_0x15a937['apiKey']=decryptRSA(secure[_0x895175(0x335)],_0x15a937[_0x895175(0x36d)]),_0x15a937['apiSecret']=decryptRSA(secure[_0x895175(0x335)],_0x15a937[_0x895175(0x25b)]);if(_0x15a937[_0x895175(0x1f1)])_0x15a937[_0x895175(0x1f1)]=decryptRSA(secure[_0x895175(0x335)],_0x15a937[_0x895175(0x1f1)]);if(_0x15a937[_0x895175(0x36d)]!==_0x895175(0x2f8)||_0x15a937[_0x895175(0x25b)]!==_0x895175(0x2f8)||_0x15a937[_0x895175(0x1f1)]&&_0x15a937[_0x895175(0x1f1)]!=='************'){if(config[_0x895175(0x267)]){if(_0x15a937[_0x895175(0x36d)]==_0x895175(0x2f8))_0x15a937[_0x895175(0x36d)]=config['apiKey'];if(_0x15a937[_0x895175(0x25b)]==_0x895175(0x2f8))_0x15a937[_0x895175(0x25b)]=config[_0x895175(0x25b)];if(_0x15a937[_0x895175(0x1f1)]==_0x895175(0x2f8))_0x15a937[_0x895175(0x1f1)]=config[_0x895175(0x1f1)];}try{await testAPI(_0x15a937);}catch(_0x107027){if(_0x107027[_0x895175(0x1f6)]()['includes'](_0x895175(0x301))){logHistory('error',_0x895175(0x27f)),logHistory(_0x895175(0x2cb),_0x895175(0x32e)+_0x107027['toString']()),proxyEmit(_0x895175(0x38a),![]);return;}else{if(_0x107027[_0x895175(0x1f6)]()[_0x895175(0x2c1)]('PermissionDenied')){logHistory(_0x895175(0x2cb),_0x895175(0x36f)),logHistory(_0x895175(0x2cb),_0x895175(0x32e)+_0x107027['toString']()),proxyEmit(_0x895175(0x38a),![]);return;}else{logHistory(_0x895175(0x2cb),'Error\x20occurred:\x20'+_0x107027['toString']()),logger[_0x895175(0x3b1)](_0x895175(0x2b5),_0x107027),proxyEmit('portfolio1',![]);return;}}}exchange?updateExchange(_0x15a937[_0x895175(0x36d)],_0x15a937['apiSecret'],_0x15a937[_0x895175(0x1f1)]):await initExchange(_0x15a937[_0x895175(0x267)],_0x15a937[_0x895175(0x36d)],_0x15a937['apiSecret'],_0x15a937[_0x895175(0x1f1)]);await loadSymbols();const _0x1002eb=await getCoins(0x0,![],_0x15a937[_0x895175(0x34e)]);_0x309fa1=cloneDeep(_0x1002eb[0x1]);}else{const _0x5b1e23=await getCoins();_0x309fa1=cloneDeep(_0x5b1e23[0x1]);}if(_0x15a937['basecoin']=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x895175(0x36a),_0x309fa1);else{_0x309fa1[_0x895175(0x217)](_0xa44f9d=>{const _0x32d054=_0x895175;if(_0xa44f9d[_0x32d054(0x27e)]!=_0x15a937[_0x32d054(0x34e)]&&allSymbols[_0x32d054(0x2c1)](_0xa44f9d[_0x32d054(0x32b)]))_0x59e717[_0x32d054(0x353)](_0xa44f9d['symbol']);});if(_0x59e717[_0x895175(0x333)]==0x0)logHistory('error',_0x895175(0x34c));else{try{_0x25cf87=await getTickers(_0x59e717);}catch(_0x36bea1){logHistory(_0x895175(0x2cb),'Unknown\x20error\x20-\x20check\x20logs'),logger[_0x895175(0x3b1)](_0x895175(0x2b5),_0x36bea1),proxyEmit(_0x895175(0x38a),![]);return;}_0x309fa1['forEach'](_0x51689e=>{const _0x19e096=_0x895175;_0x51689e[_0x19e096(0x27e)]!=_0x15a937[_0x19e096(0x34e)]?_0x25cf87[_0x51689e[_0x19e096(0x32b)]]?_0x2ba26e=_0x51689e[_0x19e096(0x31d)]?0x1/_0x25cf87[_0x51689e[_0x19e096(0x32b)]]['last']:_0x25cf87[_0x51689e['symbol']][_0x19e096(0x223)]:_0x2ba26e=0x0:_0x2ba26e=0x1,_0x51689e['price']=formatResult(_0x2ba26e,0x8);}),await getMarketCap(_0x309fa1),proxyEmit('portfolio1',!![]),proxyEmit(_0x895175(0x36a),_0x309fa1);}}}function truncateTradeAmount(_0x3ccd3a,_0x1ef627){let _0x4003a6=0x0;try{_0x4003a6=exchange['amountToPrecision'](_0x3ccd3a,_0x1ef627);}catch(_0x3c337a){}return _0x4003a6;}function checkMinimums(_0x1665ea){const _0x2747c6=_0x570eee;let _0x5590da=!![];const _0x4a18d0=!_0x1665ea['reverse']?markets[_0x1665ea[_0x2747c6(0x32b)]][_0x2747c6(0x39c)][_0x2747c6(0x274)][_0x2747c6(0x21f)]:markets[_0x1665ea[_0x2747c6(0x32b)]][_0x2747c6(0x39c)][_0x2747c6(0x248)][_0x2747c6(0x21f)],_0x422629=!_0x1665ea[_0x2747c6(0x31d)]?markets[_0x1665ea[_0x2747c6(0x32b)]]['limits'][_0x2747c6(0x248)][_0x2747c6(0x21f)]:markets[_0x1665ea[_0x2747c6(0x32b)]][_0x2747c6(0x39c)][_0x2747c6(0x274)][_0x2747c6(0x21f)],_0x3aa70d=truncateTradeAmount(_0x1665ea[_0x2747c6(0x32b)],_0x1665ea[_0x2747c6(0x341)]);_0x1665ea[_0x2747c6(0x341)]=_0x3aa70d;if(Math[_0x2747c6(0x2fa)](_0x3aa70d)<_0x4a18d0)_0x5590da=![];if(Math[_0x2747c6(0x2fa)](_0x3aa70d)*_0x1665ea[_0x2747c6(0x223)]<_0x422629)_0x5590da=![];if(_0x1665ea['side']==_0x2747c6(0x2ec)){let _0x209b17=config['portfolio']['find'](_0x27f299=>_0x27f299[_0x2747c6(0x27e)]==_0x1665ea[_0x2747c6(0x27e)]);if(_0x209b17[_0x2747c6(0x214)]>0x0){if(Math[_0x2747c6(0x2fa)](_0x3aa70d)>_0x1665ea[_0x2747c6(0x33d)]-_0x209b17['offset'])_0x5590da=![];}else{if(Math[_0x2747c6(0x2fa)](_0x3aa70d)>_0x1665ea[_0x2747c6(0x33d)])_0x5590da=![];}}if(_0x1665ea['side']==_0x2747c6(0x1ef)){let _0x36c223=config[_0x2747c6(0x28d)][_0x2747c6(0x280)](_0x586559=>_0x586559[_0x2747c6(0x27e)]==config[_0x2747c6(0x34e)]),_0x32f3ef=currentCoins[_0x2747c6(0x280)](_0x214bb7=>_0x214bb7[_0x2747c6(0x27e)]==config[_0x2747c6(0x34e)]);if(_0x36c223[_0x2747c6(0x214)]>0x0){if(Math[_0x2747c6(0x2fa)](_0x3aa70d)*_0x1665ea[_0x2747c6(0x223)]>_0x32f3ef['number']-_0x36c223[_0x2747c6(0x214)])_0x5590da=![];}else{if(Math['abs'](_0x3aa70d)*_0x1665ea[_0x2747c6(0x223)]>_0x32f3ef['number'])_0x5590da=![];}}return _0x5590da;}async function getBalances(_0x4a70c8=!![]){const _0x25ecf9=_0x570eee;if(botPaused)return;let _0x1e7561=0x0,_0x46eac0;const _0x24507e=config[_0x25ecf9(0x396)];if(config[_0x25ecf9(0x2cd)]&&config[_0x25ecf9(0x254)]<0x0)await validate24hChanges();currentCoins[_0x25ecf9(0x217)](_0x361212=>{const _0x4328c3=_0x25ecf9;if(_0x361212[_0x4328c3(0x27e)]!=config[_0x4328c3(0x34e)]){let _0x1d92cd=gTicker[noslash(_0x361212[_0x4328c3(0x32b)])];_0x46eac0=_0x361212[_0x4328c3(0x31d)]?0x1/_0x1d92cd:_0x1d92cd;}else _0x46eac0=0x1;let _0x171786=_0x361212['number']*_0x46eac0;_0x1e7561+=_0x171786,_0x361212[_0x4328c3(0x223)]=formatResult(Number(_0x46eac0),0x8),_0x361212['value']=_0x171786;}),currentCoins['forEach'](_0xa16d53=>{const _0x59931c=_0x25ecf9;let _0x184de7=config[_0x59931c(0x28d)][_0x59931c(0x280)](_0x413f85=>_0x413f85['coin']==_0xa16d53['coin']),_0x4647aa=Number(_0x184de7[_0x59931c(0x1ee)]),_0x14897e=_0xa16d53[_0x59931c(0x234)]/_0x1e7561*0x64,_0x34e4f8=_0x4647aa*_0x1e7561/0x64/_0xa16d53[_0x59931c(0x223)]-_0xa16d53[_0x59931c(0x33d)];_0xa16d53[_0x59931c(0x1ee)]=formatResult(_0x14897e,0x3),_0xa16d53[_0x59931c(0x20e)]=formatResult(_0x4647aa,0x3),_0xa16d53[_0x59931c(0x341)]=formatResult(_0x34e4f8,0x8),_0xa16d53[_0x59931c(0x342)]='',_0xa16d53[_0x59931c(0x300)]=![];if(_0xa16d53[_0x59931c(0x27e)]!=config['basecoin']){if(_0xa16d53[_0x59931c(0x1ee)]>_0x4647aa)_0xa16d53['side']=_0x59931c(0x2ec),_0xa16d53[_0x59931c(0x300)]=checkMinimums(_0xa16d53);else _0xa16d53[_0x59931c(0x1ee)]<_0x4647aa&&(_0xa16d53['side']=_0x59931c(0x1ef),_0xa16d53[_0x59931c(0x300)]=checkMinimums(_0xa16d53));}_0xa16d53['delta']=_0xa16d53['distribution']/_0xa16d53[_0x59931c(0x20e)]-0x1;if(_0xa16d53[_0x59931c(0x2e6)]=='filled'||_0xa16d53[_0x59931c(0x2e6)]==_0x59931c(0x2f7))_0xa16d53[_0x59931c(0x2e6)]='none';}),currentCoins['sort']((_0x1ef2ff,_0x4a4f19)=>_0x1ef2ff[_0x25ecf9(0x1ec)]<_0x4a4f19[_0x25ecf9(0x1ec)]?0x1:_0x4a4f19['delta']<_0x1ef2ff[_0x25ecf9(0x1ec)]?-0x1:0x0);const _0x50071b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x50071b['eur'],'usd':_0x50071b['usd'],'portfolio':JSON[_0x25ecf9(0x2f2)](currentCoins),'threshold':_0x24507e},proxyEmit(_0x25ecf9(0x296),{'serverversion':serverversion,'balances':lastBalances});if(_0x4a70c8){if(config[_0x25ecf9(0x2cd)])headlessMode({'portfolio':currentCoins,'threshold':_0x24507e});else lockOrders==ORDERS[_0x25ecf9(0x226)]&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0x24507e});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0xa05579=getNormalizedPerformance();getStartingBalances(_0xa05579),emitPerformance(_0xa05579);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x451425=_0x570eee;if(!lastBalances)return;let _0x353173=[],_0x5d9e05,_0x1ce375=JSON['parse'](lastBalances['portfolio']);_0x1ce375[_0x451425(0x343)]((_0x1d76ae,_0x2bc5db)=>_0x1d76ae[_0x451425(0x27e)]>_0x2bc5db[_0x451425(0x27e)]?0x1:_0x2bc5db['coin']>_0x1d76ae[_0x451425(0x27e)]?-0x1:0x0),_0x1ce375['forEach'](_0x123c51=>{const _0x754f12=_0x451425;let _0x39d9b6={'coin':_0x123c51['coin'],'number':_0x123c51['number'],'price':_0x123c51['last']};_0x353173[_0x754f12(0x353)](_0x39d9b6);});const _0x331e4b=await getFiat();_0x5d9e05={'date':lastBalances[_0x451425(0x219)][_0x451425(0x37a)]('\x20')[0x0],'eur':_0x331e4b['eur'],'usd':_0x331e4b[_0x451425(0x282)],'coins':_0x353173};let _0x2d57f1=dbPerformance[_0x451425(0x351)](_0x451425(0x2c0))['find']({'date':_0x5d9e05['date']})[_0x451425(0x234)]();_0x2d57f1?_0x5d9e05[_0x451425(0x242)]!=config[_0x451425(0x2e2)]&&dbPerformance[_0x451425(0x351)](_0x451425(0x2c0))[_0x451425(0x280)]({'date':_0x5d9e05[_0x451425(0x242)]})[_0x451425(0x3b3)](_0x5d9e05)[_0x451425(0x292)]():dbPerformance['get'](_0x451425(0x2c0))[_0x451425(0x353)](_0x5d9e05)[_0x451425(0x292)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5e15c6=_0x570eee;let _0x257f84=[];if(dbPerformance[_0x5e15c6(0x21b)]('data')['value']()){let _0x500271=dbPerformance[_0x5e15c6(0x351)](_0x5e15c6(0x2c0))[_0x5e15c6(0x327)]()['filter'](_0x5438da=>{const _0x4cff58=_0x5e15c6;if(_0x5438da['coins'][_0x4cff58(0x333)]==0x0)return![];else return!![];})['sortBy'](_0x5e15c6(0x242))['value'](),_0x273170=[...config[_0x5e15c6(0x329)]];_0x273170['sort']((_0x2cb5d2,_0x675daa)=>_0x2cb5d2[_0x5e15c6(0x242)]>_0x675daa[_0x5e15c6(0x242)]?-0x1:_0x675daa[_0x5e15c6(0x242)]>_0x2cb5d2[_0x5e15c6(0x242)]?0x1:0x0);let _0x82f4d2=0x1,_0x272de0=[],_0x4a4c9a=0x0;_0x500271['slice']()[_0x5e15c6(0x31d)]()[_0x5e15c6(0x217)]((_0x1a9428,_0x1ffa5f)=>{const _0x27921c=_0x5e15c6;if(_0x273170[_0x4a4c9a]){if(_0x500271[_0x500271['length']-_0x1ffa5f]&&_0x273170[_0x4a4c9a][_0x27921c(0x242)]==_0x500271[_0x500271[_0x27921c(0x333)]-_0x1ffa5f][_0x27921c(0x242)]){if(_0x1ffa5f<_0x500271['length']){let _0x298a4d=0x0,_0x47e6f6=0x0;_0x500271[_0x500271[_0x27921c(0x333)]-_0x1ffa5f][_0x27921c(0x2d6)][_0x27921c(0x217)](_0x4f0e62=>{const _0x193af5=_0x27921c;_0x47e6f6+=_0x4f0e62[_0x193af5(0x33d)]*_0x4f0e62[_0x193af5(0x271)];}),_0x273170[_0x4a4c9a]['changes'][_0x27921c(0x217)](_0xaea5b0=>{const _0x56fa20=_0x27921c;_0x298a4d+=_0xaea5b0[_0x56fa20(0x33d)]*_0xaea5b0[_0x56fa20(0x271)];}),_0x82f4d2*=_0x298a4d/(_0x47e6f6-_0x298a4d)+0x1;}_0x4a4c9a++;}}let _0x500ed2=0x0;_0x1a9428['coins']['forEach'](_0x4d2cce=>{const _0x41efe5=_0x27921c;_0x500ed2+=_0x4d2cce['number']*_0x4d2cce[_0x41efe5(0x271)];}),_0x272de0[_0x500271[_0x27921c(0x333)]-_0x1ffa5f-0x1]=_0x500ed2*(_0x82f4d2-0x1);});let _0xd8d0fa=[];_0x273170=[...config[_0x5e15c6(0x329)]]||[];let _0x42e5ee=0x0;_0x4a4c9a=0x0,_0x500271[_0x5e15c6(0x217)]((_0x16025d,_0x5adc0b)=>{const _0x3d44af=_0x5e15c6;if(_0x273170[_0x4a4c9a]){const _0x4107fe=fns[_0x3d44af(0x325)](_0x273170[_0x4a4c9a][_0x3d44af(0x242)],_0x3d44af(0x20f),new Date()),_0x117933=fns[_0x3d44af(0x325)](_0x16025d[_0x3d44af(0x242)],_0x3d44af(0x20f),new Date());if(fns['isEqual'](_0x4107fe,_0x117933)){let _0x455c01=0x0;_0x273170[_0x4a4c9a][_0x3d44af(0x39d)]['forEach'](_0x11acc3=>{const _0xa74eaf=_0x3d44af;!_0xd8d0fa[_0x11acc3[_0xa74eaf(0x27e)]]?_0xd8d0fa[_0x11acc3[_0xa74eaf(0x27e)]]=_0x11acc3[_0xa74eaf(0x33d)]:(_0x455c01=_0xd8d0fa[_0x11acc3[_0xa74eaf(0x27e)]],_0xd8d0fa[_0x11acc3[_0xa74eaf(0x27e)]]+=_0x11acc3[_0xa74eaf(0x33d)]);const _0x1d7047=_0x16025d[_0xa74eaf(0x2d6)][_0xa74eaf(0x280)](_0x5a1aa0=>_0x5a1aa0[_0xa74eaf(0x27e)]==_0x11acc3[_0xa74eaf(0x27e)]);(!_0x1d7047||_0x1d7047[_0xa74eaf(0x33d)]==0x0)&&(_0x42e5ee+=(-_0x11acc3[_0xa74eaf(0x33d)]-_0x455c01)*_0x11acc3[_0xa74eaf(0x271)]);}),_0x4a4c9a++;}}_0x16025d['coins'][_0x3d44af(0x217)]((_0x452452,_0x5859d4)=>{const _0x5b095b=_0x3d44af;_0xd8d0fa[_0x452452[_0x5b095b(0x27e)]]&&(_0x452452[_0x5b095b(0x251)]=_0xd8d0fa[_0x452452['coin']]);}),_0x257f84['push']({'date':_0x16025d[_0x3d44af(0x242)],'eur':_0x16025d[_0x3d44af(0x28b)],'usd':_0x16025d[_0x3d44af(0x282)],'offset':_0x272de0[_0x5adc0b],'netoffset':_0x42e5ee,'coins':_0x16025d[_0x3d44af(0x2d6)]});});}return _0x257f84;}function emitPerformance(_0x19ff84){const _0x5153c5=_0x570eee;_0x19ff84[_0x5153c5(0x333)]!==0x0?(proxyEmit(_0x5153c5(0x2ca),_0x19ff84),lastPerformanceEmitted=getDate()):proxyEmit(_0x5153c5(0x2ca),[]);}function getPerf(_0x4e9c2a,_0x3b600b){const _0x37b12e=_0x570eee;let _0x38a096=0x0,_0x426304=0x0,_0x1a1f64=0x0;_0x4e9c2a[_0x37b12e(0x2d6)]['forEach'](_0x21c8fe=>{const _0x42147e=_0x37b12e;_0x38a096+=_0x21c8fe[_0x42147e(0x33d)]*_0x21c8fe['price'];});_0x3b600b&&(_0x38a096+=_0x4e9c2a[_0x37b12e(0x214)]);if(config[_0x37b12e(0x34e)]===_0x37b12e(0x2d8)||config['basecoin']===_0x37b12e(0x247)||config[_0x37b12e(0x34e)]===_0x37b12e(0x2b3))_0x426304=_0x38a096*_0x4e9c2a[_0x37b12e(0x28b)],_0x1a1f64=_0x38a096*_0x4e9c2a[_0x37b12e(0x282)];else{if(usdBasecoins[_0x37b12e(0x2c1)](config[_0x37b12e(0x34e)]))_0x426304=_0x38a096*_0x4e9c2a[_0x37b12e(0x28b)]/_0x4e9c2a['usd'],_0x1a1f64=_0x38a096;else config['basecoin']===_0x37b12e(0x2bc)&&(_0x426304=_0x38a096,_0x1a1f64=_0x38a096*_0x4e9c2a[_0x37b12e(0x282)]/_0x4e9c2a[_0x37b12e(0x28b)]);}return[_0x38a096,_0x426304,_0x1a1f64];}function getKPIs(_0xfbbf7a,_0x1a7e3b='EUR'){const _0x5b81fc=_0x570eee,_0x34f9a0=config[_0x5b81fc(0x34e)],_0x1062d7=lastBalances,_0xb67518=currentCoins,_0x193fee=getNormalizedPerformance(),_0xe77f11=_0xfbbf7a==='basecoin'?_0x34f9a0:_0xfbbf7a===_0x5b81fc(0x239)||_0xfbbf7a===_0x5b81fc(0x3b9)?_0x1a7e3b:_0x5b81fc(0x397)+_0x34f9a0,_0x119438=_0xfbbf7a===_0x5b81fc(0x208)?_0x5b81fc(0x231):_0xfbbf7a==='net-fiat'?_0x5b81fc(0x231):_0xe77f11+'\x20value',_0x504ea6=_0xfbbf7a===_0x5b81fc(0x208)||_0xfbbf7a===_0x5b81fc(0x3b9)?_0x5b81fc(0x231):_0xe77f11+_0x5b81fc(0x27b);let _0x1504bb=0x0;_0xb67518[_0x5b81fc(0x217)](_0x4756d3=>{const _0x4868dc=_0x5b81fc;_0x1504bb+=_0x4756d3[_0x4868dc(0x33d)]*_0x4756d3[_0x4868dc(0x223)];});if(_0xfbbf7a===_0x5b81fc(0x239)||_0xfbbf7a===_0x5b81fc(0x3b9)){if(_0x34f9a0===_0x5b81fc(0x2d8)||_0x34f9a0==='ETH'||_0x34f9a0===_0x5b81fc(0x2b3))_0x1504bb=_0x1504bb*(_0x1a7e3b===_0x5b81fc(0x2bc)?_0x1062d7[_0x5b81fc(0x28b)]:_0x1062d7[_0x5b81fc(0x282)]);else{if(usdBasecoins[_0x5b81fc(0x2c1)](_0x34f9a0))_0x1504bb=_0x1504bb*(_0x1a7e3b===_0x5b81fc(0x2bc)?_0x1062d7[_0x5b81fc(0x28b)]/_0x1062d7[_0x5b81fc(0x282)]:0x1);else _0x34f9a0==='EUR'&&(_0x1504bb=_0x1504bb*(_0x1a7e3b===_0x5b81fc(0x2bc)?0x1:_0x1062d7[_0x5b81fc(0x282)]/_0x1062d7[_0x5b81fc(0x28b)]));}}let _0x1f6b5;if(_0x1504bb!==0x0){if(_0xfbbf7a===_0x5b81fc(0x34e))_0x1f6b5=(_0x1504bb/startingBalances[_0x5b81fc(0x34e)]-0x1)*0x64;else{if(_0x1a7e3b===_0x5b81fc(0x2bc))_0x1f6b5=(_0x1504bb/startingBalances[_0x5b81fc(0x28b)]-0x1)*0x64;else _0x1f6b5=(_0x1504bb/startingBalances[_0x5b81fc(0x282)]-0x1)*0x64;}let _0x23cb0e=0x0;if(startingBalances[_0x5b81fc(0x2d6)])_0xb67518[_0x5b81fc(0x217)](_0x37376f=>{const _0xda13d4=_0x5b81fc;let _0x1efd9a=startingBalances[_0xda13d4(0x2d6)][_0xda13d4(0x280)](_0x5b3223=>_0x5b3223[_0xda13d4(0x27e)]===_0x37376f[_0xda13d4(0x27e)]);if(_0x1efd9a&&_0x1efd9a[_0xda13d4(0x27e)]&&_0x37376f[_0xda13d4(0x33d)]!==0x0)_0x23cb0e+=_0x1efd9a['number']*_0x37376f[_0xda13d4(0x223)];});let _0xde865f=0x0;if(_0x193fee[_0x5b81fc(0x333)]!==0x0){let _0x194945=_0x193fee[_0x193fee[_0x5b81fc(0x333)]-0x1];_0xde865f=_0x194945[_0x5b81fc(0x373)];}_0x23cb0e-=_0xde865f;_0xfbbf7a==='net-basecoin'&&(_0x1f6b5=(_0x1504bb-_0x23cb0e)/startingBalances[_0x5b81fc(0x34e)]*0x64,_0x1504bb=_0x1504bb-_0x23cb0e);if(_0xfbbf7a===_0x5b81fc(0x3b9)){let _0x4e7a3e=_0x1a7e3b===_0x5b81fc(0x2bc)?startingBalances[_0x5b81fc(0x28b)]:startingBalances['usd'];if(_0x34f9a0===_0x5b81fc(0x2d8)||_0x34f9a0===_0x5b81fc(0x247)||_0x34f9a0===_0x5b81fc(0x2b3))_0x23cb0e=_0x1a7e3b==='EUR'?_0x23cb0e*_0x1062d7[_0x5b81fc(0x28b)]:_0x23cb0e*_0x1062d7[_0x5b81fc(0x282)];else{if(usdBasecoins[_0x5b81fc(0x2c1)](_0x34f9a0))_0x23cb0e=_0x1a7e3b===_0x5b81fc(0x2bc)?_0x23cb0e*_0x1062d7[_0x5b81fc(0x28b)]/_0x1062d7[_0x5b81fc(0x282)]:_0x23cb0e;else _0x34f9a0==='EUR'&&(_0x23cb0e=_0x1a7e3b==='EUR'?_0x23cb0e:_0x23cb0e*_0x1062d7[_0x5b81fc(0x282)]/_0x1062d7[_0x5b81fc(0x28b)]);}_0x1f6b5=(_0x1504bb-_0x23cb0e)/_0x4e7a3e*0x64,_0x1504bb=_0x1504bb-_0x23cb0e;}if(_0x1f6b5){if(_0x1f6b5<0x64)_0x1f6b5=_0x1f6b5['toFixed'](0x2);else{if(_0x1f6b5<0x3e8)_0x1f6b5=_0x1f6b5[_0x5b81fc(0x207)](0x1);else _0x1f6b5=_0x1f6b5[_0x5b81fc(0x207)](0x0);}}else _0x1f6b5=Number('0')[_0x5b81fc(0x207)](0x2);if(_0x1504bb){if(Math[_0x5b81fc(0x2fa)](_0x1504bb)<0.000001)_0x1504bb=_0x1504bb['toFixed'](0x2);else{if(Math[_0x5b81fc(0x2fa)](_0x1504bb)<0.1)_0x1504bb=_0x1504bb[_0x5b81fc(0x207)](0x6);else{if(Math[_0x5b81fc(0x2fa)](_0x1504bb)<0x1)_0x1504bb=_0x1504bb[_0x5b81fc(0x207)](0x5);else{if(Math['abs'](_0x1504bb)<0xa)_0x1504bb=_0x1504bb['toFixed'](0x4);else{if(Math[_0x5b81fc(0x2fa)](_0x1504bb)<0x64)_0x1504bb=_0x1504bb[_0x5b81fc(0x207)](0x3);else{if(Math[_0x5b81fc(0x2fa)](_0x1504bb)<0x3e8)_0x1504bb=_0x1504bb[_0x5b81fc(0x207)](0x2);else _0x1504bb=_0x1504bb[_0x5b81fc(0x207)](0x2);}}}}}}else _0x1504bb=Number('0')['toFixed'](0x2);}else _0x1f6b5=Number('0')['toFixed'](0x2);return{'value':_0x1504bb,'change':_0x1f6b5,'leftTxt':_0x119438,'rightTxt':_0x504ea6};}async function getStartingBalances(_0x524f81,_0x4877ea=!![]){const _0x16b01c=_0x570eee;if(_0x524f81[_0x16b01c(0x333)]!==0x0){const [_0x215fe1,_0x49c677,_0x234b41]=getPerf(_0x524f81[0x0],!![]);let _0x50624d=[];config[_0x16b01c(0x28d)]['forEach'](_0x544b0b=>{const _0x5eae19=_0x16b01c;let _0x19258f=0x0,_0x960688;config[_0x5eae19(0x329)][_0x5eae19(0x217)](_0x7dfa3d=>{const _0x1a659d=_0x5eae19;let _0x257de=_0x7dfa3d['changes']['find'](_0x44b2e7=>_0x44b2e7[_0x1a659d(0x27e)]==_0x544b0b['coin']);if(_0x257de){_0x19258f+=_0x257de[_0x1a659d(0x33d)];if(!_0x960688)_0x960688=_0x257de[_0x1a659d(0x271)];}}),_0x50624d[_0x5eae19(0x353)]({'coin':_0x544b0b[_0x5eae19(0x27e)],'number':_0x19258f,'initialprice':_0x960688});});const _0x1ea6b2={'basecoin':_0x215fe1,'eur':_0x49c677,'usd':_0x234b41,'coins':_0x50624d};if(_0x4877ea)proxyEmit(_0x16b01c(0x3b7),_0x1ea6b2);startingBalances=_0x1ea6b2;}}function headlessMode(_0x52c4f7){const _0x4ef85c=_0x570eee;let _0x4695c0=_0x52c4f7['portfolio'],_0x51b48d=_0x52c4f7['threshold'],_0x38abdc=[];for(let _0x285382 of _0x4695c0){if(_0x285382[_0x4ef85c(0x27e)]!=config['basecoin']){if(_0x285382['delta']>=_0x51b48d/0x64){if(_0x285382[_0x4ef85c(0x300)])_0x38abdc[_0x4ef85c(0x353)](_0x285382);}else{if(_0x285382[_0x4ef85c(0x1ec)]<=-_0x51b48d/0x64){if(_0x285382[_0x4ef85c(0x300)])_0x38abdc['push'](_0x285382);}}}}_0x38abdc['length']>0x0&&placeOrder(_0x38abdc);}function notifyBalance(_0x442feb){const _0x1cb4f6=_0x570eee;let _0x23598e=_0x442feb[_0x1cb4f6(0x28d)],_0x5beae9=_0x442feb[_0x1cb4f6(0x396)],_0x110e57=[];for(let _0x268268 of _0x23598e){if(_0x268268['coin']!=config['basecoin']){if(_0x268268[_0x1cb4f6(0x1ec)]>=_0x5beae9/0x64){if(_0x268268[_0x1cb4f6(0x300)])_0x110e57[_0x1cb4f6(0x353)](_0x268268);}else{if(_0x268268[_0x1cb4f6(0x1ec)]<=-_0x5beae9/0x64){if(_0x268268[_0x1cb4f6(0x300)])_0x110e57[_0x1cb4f6(0x353)](_0x268268);}}}}if(_0x110e57[_0x1cb4f6(0x333)]>0x0){let _0x41b4d0=_0x110e57[_0x1cb4f6(0x35d)](_0x13e4fc=>_0x13e4fc[_0x1cb4f6(0x27e)]);_0x41b4d0[_0x1cb4f6(0x343)]();let _0x4bdf98=_0x41b4d0['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x1cb4f6(0x2c8),_0x1cb4f6(0x355));lastCoinsToBalance=_0x4bdf98;}}function symbolToCoin(_0x19f9ba){const _0x130278=_0x570eee;let _0x3d2247;if(_0x19f9ba[_0x130278(0x2c1)]('/'+config[_0x130278(0x34e)]))_0x3d2247=_0x19f9ba[_0x130278(0x2ba)]('/'+config['basecoin'],'');if(_0x19f9ba[_0x130278(0x2c1)](config[_0x130278(0x34e)]+'/'))_0x3d2247=_0x19f9ba[_0x130278(0x2ba)](config['basecoin']+'/','');return _0x3d2247;}function setLockOrders(_0x32db9b){const _0xc7d2d=_0x570eee;lockOrders=_0x32db9b,logger[_0xc7d2d(0x3b1)](_0xc7d2d(0x376)+Object[_0xc7d2d(0x304)](ORDERS)[lockOrders]);}async function unlockOrders(_0x4e1e91=![]){const _0x18f82b=_0x570eee;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){setLockOrders(ORDERS[_0x18f82b(0x2de)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x4e1e91){const _0xa45e84=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xa45e84,setBlockTransactionDetection(![]);}validateOrdersState='initial',persistOpenOrders([]),setLockOrders(ORDERS[_0x18f82b(0x226)]);}}async function validateOrders(_0x19c885){const _0x2366ef=_0x570eee;if(_0x19c885)validateOrdersState=_0x19c885;logger[_0x2366ef(0x3b1)](_0x2366ef(0x262)+validateOrdersState+_0x2366ef(0x345)+Object[_0x2366ef(0x304)](ORDERS)[lockOrders]);let _0x223a8a=[],_0x23e729=config[_0x2366ef(0x203)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2366ef(0x222)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2366ef(0x2e5)])return;logger[_0x2366ef(0x3b1)](_0x2366ef(0x35f)+validateOrdersState);for(let _0x35c104=lastOrders[_0x2366ef(0x333)]-0x1;_0x35c104>=0x0;_0x35c104--){let _0x20d8ed=lastOrders[_0x35c104],_0x4dbc19=![];_0x20d8ed[_0x2366ef(0x363)]>0x0&&(_0x4dbc19=!![]),_0x223a8a['push'](_0x4dbc19),_0x4dbc19&&config[_0x2366ef(0x203)]!=_0x2366ef(0x3ad)&&logHistory(_0x2366ef(0x26b),'Order\x20filled:\x20'+_0x20d8ed[_0x2366ef(0x32b)]+'\x20'+_0x20d8ed[_0x2366ef(0x342)]+'\x20#'+formatResult(_0x20d8ed[_0x2366ef(0x363)],0x8)+'\x20@'+formatResult(_0x20d8ed[_0x2366ef(0x271)],0x8)),_0x4dbc19&&lastOrders[_0x2366ef(0x2d1)](_0x35c104,0x1);}persistOpenOrders(lastOrders);const _0x4a4cb9=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x2366ef(0x362);if(validateOrdersState==_0x2366ef(0x251)){validateOrdersState=_0x2366ef(0x336);if(_0x223a8a[_0x2366ef(0x2c1)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x2366ef(0x336)){if(_0x223a8a[_0x2366ef(0x2c1)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x2366ef(0x272))_0x223a8a[_0x2366ef(0x2c1)](![])&&(config[_0x2366ef(0x203)]=='market'?logHistory(_0x2366ef(0x2da),'Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x23e729*validateOrderInterval/0xea60)+_0x2366ef(0x23d)+_0x4a4cb9):(await cancelOrders(),logHistory(_0x2366ef(0x2da),_0x2366ef(0x35c)+Math[_0x2366ef(0x398)](_0x23e729*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x4a4cb9))),await unlockOrders(!![]);else{if(validateOrdersState==_0x2366ef(0x2e0)){if(config[_0x2366ef(0x203)]!=_0x2366ef(0x3ad))logHistory(_0x2366ef(0x2da),_0x2366ef(0x281)+_0x4a4cb9);await unlockOrders(!![]);}}}}}async function cancelOrders(){const _0x274378=_0x570eee;lastOrders[_0x274378(0x217)](async _0x5ec590=>{const _0xa6a340=_0x274378;try{const _0xfae928=await exchange[_0xa6a340(0x3a8)](_0x5ec590[_0xa6a340(0x2aa)],_0x5ec590[_0xa6a340(0x32b)]);}catch(_0x4f62e7){if(_0x4f62e7[_0xa6a340(0x1f6)]()[_0xa6a340(0x2c1)](_0xa6a340(0x266))){}else await handleError(_0x4f62e7,_0xa6a340(0x392));}});}async function initCoinResults(_0x411a42){const _0x1e948b=_0x570eee;_0x411a42?logger[_0x1e948b(0x3b1)](_0x1e948b(0x306)+_0x411a42):logger['debug'](_0x1e948b(0x1f3)),config['portfolio'][_0x1e948b(0x217)](_0x181dd0=>{const _0x3d415c=_0x1e948b;if(!_0x181dd0[_0x3d415c(0x2e1)]&&_0x181dd0[_0x3d415c(0x27e)]!=config[_0x3d415c(0x34e)]){const _0x1414d4=currentCoins['find'](_0x79d67a=>_0x79d67a[_0x3d415c(0x27e)]==_0x181dd0[_0x3d415c(0x27e)]),_0x134ba6=gTicker[noslash(_0x181dd0[_0x3d415c(0x32b)])];let _0x24e1cc=_0x1414d4?_0x1414d4[_0x3d415c(0x33d)]:null,_0x27f651=_0x181dd0['reverse']?0x1/_0x134ba6:_0x134ba6,_0x35311e;config[_0x3d415c(0x329)][_0x3d415c(0x217)](_0x213ac5=>{const _0x4e1479=_0x3d415c;!_0x35311e&&(_0x35311e=_0x213ac5['changes']['find'](_0x25f1b4=>_0x25f1b4[_0x4e1479(0x27e)]==_0x181dd0[_0x4e1479(0x27e)]),_0x35311e&&(_0x24e1cc=_0x35311e['number'],_0x27f651=_0x35311e[_0x4e1479(0x271)]));});let _0x50bca2=dbCoinResults['get'](_0x3d415c(0x2d6))[_0x3d415c(0x280)]({'coin':_0x181dd0[_0x3d415c(0x27e)]})[_0x3d415c(0x234)]();if(!_0x50bca2){const _0x578834={'coin':_0x181dd0[_0x3d415c(0x27e)],'number':_0x24e1cc,'breakeven':_0x27f651,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x3d415c(0x2d6))[_0x3d415c(0x353)](_0x578834)[_0x3d415c(0x292)]();}else{if(_0x411a42&&_0x181dd0[_0x3d415c(0x27e)]==_0x411a42){const _0x4791c4={'coin':_0x181dd0[_0x3d415c(0x27e)],'number':_0x24e1cc,'breakeven':_0x27f651,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x3d415c(0x2d6))[_0x3d415c(0x280)]({'coin':_0x181dd0['coin']})['assign'](_0x4791c4)['write']();}}}});}async function updateCoinResults(_0x5b72cf,_0x51eeca=![]){const _0x5e0788=_0x570eee;let _0x23d47f,_0x1c849c,_0x2ea5b2,_0x28dd03,_0x99bc3c,_0x18fa04,_0x410b6d=dbCoinResults[_0x5e0788(0x351)]('coins')[_0x5e0788(0x280)]({'coin':_0x5b72cf[_0x5e0788(0x27e)]})[_0x5e0788(0x234)](),_0x5559cf=![];_0x410b6d&&Object[_0x5e0788(0x206)](_0x410b6d)['forEach'](([_0x2e149c,_0x469d22])=>{if(_0x469d22==null)_0x5559cf=!![];});(!_0x410b6d||_0x5559cf)&&(await initCoinResults(_0x5b72cf['coin']),_0x410b6d=dbCoinResults[_0x5e0788(0x351)](_0x5e0788(0x2d6))[_0x5e0788(0x280)]({'coin':_0x5b72cf[_0x5e0788(0x27e)]})[_0x5e0788(0x234)]());_0x5b72cf[_0x5e0788(0x31d)]&&(_0x18fa04={'filled':_0x5b72cf[_0x5e0788(0x363)]*_0x5b72cf[_0x5e0788(0x271)],'amount':_0x5b72cf['filled']*_0x5b72cf[_0x5e0788(0x271)],'side':_0x5b72cf['side']==_0x5e0788(0x2ec)?_0x5e0788(0x1ef):_0x5e0788(0x2ec),'price':0x1/_0x5b72cf[_0x5e0788(0x271)]},_0x5b72cf={..._0x5b72cf,..._0x18fa04});_0x51eeca?_0x1c849c=_0x5b72cf[_0x5e0788(0x342)]==_0x5e0788(0x1ef)?_0x410b6d[_0x5e0788(0x33d)]+_0x5b72cf[_0x5e0788(0x363)]:_0x410b6d['number']-_0x5b72cf['filled']:_0x1c849c=await getCoinNumber(_0x5b72cf[_0x5e0788(0x27e)]);if(_0x5b72cf[_0x5e0788(0x32d)]&&_0x5b72cf[_0x5e0788(0x32d)][_0x5e0788(0x2a9)]==config['basecoin'])_0x23d47f=Number(_0x5b72cf[_0x5e0788(0x32d)][_0x5e0788(0x248)]);else{if(_0x5b72cf[_0x5e0788(0x32d)]&&_0x5b72cf[_0x5e0788(0x32d)][_0x5e0788(0x2a9)]=='BNB'&&!_0x51eeca&&config['basecoin']!=_0x5e0788(0x2b3))_0x23d47f=Number(_0x5b72cf[_0x5e0788(0x32d)]['cost'])*gTicker[_0x5e0788(0x367)+config[_0x5e0788(0x34e)]];else _0x23d47f=defaultFee*_0x5b72cf[_0x5e0788(0x363)]*_0x5b72cf[_0x5e0788(0x271)];}_0x5b72cf[_0x5e0788(0x342)]=='buy'?(_0x2ea5b2=_0x1c849c!=0x0?(_0x410b6d[_0x5e0788(0x3a4)]*_0x410b6d[_0x5e0788(0x33d)]+_0x5b72cf[_0x5e0788(0x271)]*(_0x1c849c-_0x410b6d['number'])+_0x23d47f)/_0x1c849c:0x0,_0x28dd03=_0x410b6d[_0x5e0788(0x298)]):(_0x2ea5b2=_0x1c849c!=0x0?(_0x410b6d[_0x5e0788(0x3a4)]*_0x410b6d[_0x5e0788(0x33d)]-_0x5b72cf[_0x5e0788(0x271)]*(_0x410b6d[_0x5e0788(0x33d)]-_0x1c849c)+_0x23d47f)/_0x1c849c:0x0,_0x28dd03=_0x410b6d[_0x5e0788(0x298)]+(_0x5b72cf[_0x5e0788(0x271)]-_0x410b6d[_0x5e0788(0x3a4)])*_0x5b72cf['filled']);_0x99bc3c=(_0x5b72cf[_0x5e0788(0x271)]-_0x2ea5b2-_0x23d47f/_0x5b72cf[_0x5e0788(0x363)])*_0x1c849c;let _0x41a19f={'coin':_0x5b72cf[_0x5e0788(0x27e)],'number':_0x1c849c,'breakeven':formatResult(_0x2ea5b2,0x8),'realized':formatResult(_0x28dd03,0x8),'unrealized':formatResult(_0x99bc3c,0x8),'fees':formatResult(_0x410b6d['fees']+_0x23d47f,0x8),'sells':_0x5b72cf[_0x5e0788(0x342)]==_0x5e0788(0x2ec)?_0x410b6d[_0x5e0788(0x33b)]+0x1:_0x410b6d['sells'],'buys':_0x5b72cf[_0x5e0788(0x342)]=='buy'?_0x410b6d[_0x5e0788(0x30c)]+0x1:_0x410b6d['buys']};dbCoinResults[_0x5e0788(0x351)](_0x5e0788(0x2d6))[_0x5e0788(0x280)]({'coin':_0x5b72cf[_0x5e0788(0x27e)]})['assign'](_0x41a19f)['write']();if(!_0x51eeca){if(_0x5b72cf['fee']&&_0x5b72cf[_0x5e0788(0x32d)][_0x5e0788(0x2a9)]=='BNB'){const _0x3b8ef4=currentCoins['find'](_0x158b55=>_0x158b55[_0x5e0788(0x27e)]==_0x5e0788(0x367));if(_0x3b8ef4){let _0x16899b=dbCoinResults['get'](_0x5e0788(0x2d6))[_0x5e0788(0x280)]({'coin':_0x5e0788(0x367)})[_0x5e0788(0x234)]();_0x41a19f={..._0x16899b,'number':_0x3b8ef4['number']},dbCoinResults[_0x5e0788(0x351)](_0x5e0788(0x2d6))['find']({'coin':'BNB'})[_0x5e0788(0x3b3)](_0x41a19f)[_0x5e0788(0x292)]();}}}}async function placeOrder(_0x1358d6){const _0x11b37d=_0x570eee,_0x12ef7d=config['ordertype']=='market'?_0x11b37d(0x3ad):_0x11b37d(0x265);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){setLockOrders(ORDERS[_0x11b37d(0x2e5)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x11b37d(0x3b1)](_0x11b37d(0x224)+_0x1358d6[_0x11b37d(0x35d)](_0x17113a=>_0x17113a[_0x11b37d(0x27e)])[_0x11b37d(0x26e)](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x11b37d(0x251);let _0x113315=![];lastOrders=[];const _0x407ed1=config[_0x11b37d(0x396)];for(const _0x1fa58a of _0x1358d6){let _0x45bb7f,_0x4b9bdd,_0x2463fe,_0x1e023a,_0x47ec51,_0x451469=_0x1fa58a[_0x11b37d(0x32b)];logger[_0x11b37d(0x3b1)](_0x11b37d(0x2d7)+_0x1fa58a[_0x11b37d(0x27e)]+'\x20'+_0x1fa58a['number']+'\x20'+_0x1fa58a[_0x11b37d(0x223)]+'\x20'+_0x1fa58a[_0x11b37d(0x1ee)]+'%\x20'+_0x1fa58a[_0x11b37d(0x20e)]+'%\x20'+(0x64*_0x1fa58a[_0x11b37d(0x1ec)])[_0x11b37d(0x207)](0x2)+_0x11b37d(0x2ed)+_0x407ed1[_0x11b37d(0x207)](0x2)+'%)');try{const _0x853b=await exchange[_0x11b37d(0x2c3)](_0x451469);_0x45bb7f=_0x1fa58a[_0x11b37d(0x31d)]?0x1/_0x1fa58a[_0x11b37d(0x223)]:_0x1fa58a['last'],_0x4b9bdd=_0x853b[_0x11b37d(0x34f)],_0x2463fe=_0x853b[_0x11b37d(0x1f5)];_0x1fa58a['reverse']?(_0x1e023a=_0x1fa58a[_0x11b37d(0x342)]=='buy'?_0x11b37d(0x2ec):_0x11b37d(0x1ef),_0x47ec51=Math[_0x11b37d(0x2fa)](_0x1fa58a[_0x11b37d(0x341)])/_0x45bb7f):(_0x1e023a=_0x1fa58a[_0x11b37d(0x342)],_0x47ec51=Math[_0x11b37d(0x2fa)](_0x1fa58a[_0x11b37d(0x341)]));_0x12ef7d==_0x11b37d(0x265)&&(config[_0x11b37d(0x203)]=='limit-high'&&(_0x45bb7f=_0x1e023a==_0x11b37d(0x1ef)?_0x4b9bdd:_0x2463fe),config[_0x11b37d(0x203)]==_0x11b37d(0x27c)&&(_0x45bb7f=_0x1e023a=='buy'?_0x2463fe:_0x4b9bdd));_0x47ec51=formatResult(_0x47ec51,0x8),_0x45bb7f=formatResult(_0x45bb7f,0x8);const _0x5694ca=_0x1e023a==_0x11b37d(0x2ec)?config[_0x11b37d(0x38b)]?String[_0x11b37d(0x2f3)]('0x'+config[_0x11b37d(0x38b)])+'\x20':'':config[_0x11b37d(0x2bd)]?String['fromCodePoint']('0x'+config[_0x11b37d(0x2bd)])+'\x20':'',_0x345aa6=_0x12ef7d==_0x11b37d(0x3ad)?_0x11b37d(0x212):config[_0x11b37d(0x203)]==_0x11b37d(0x2b0)?_0x11b37d(0x310):_0x11b37d(0x383),_0x2308c5=(Math[_0x11b37d(0x264)](Math['random']()*0x35a4e900)+0x5f5e100)[_0x11b37d(0x1f6)]();lastOrders[_0x11b37d(0x353)]({'customId':_0x2308c5,'symbol':_0x451469,'coin':_0x1fa58a[_0x11b37d(0x27e)],'amount':_0x47ec51,'price':_0x45bb7f,'side':_0x1e023a,'reverse':_0x1fa58a[_0x11b37d(0x31d)],'filled':0x0});if(_0x12ef7d==_0x11b37d(0x3ad))logHistory(_0x11b37d(0x26b),''+_0x5694ca+_0x345aa6+_0x11b37d(0x3b4)+_0x451469+'\x20'+_0x1e023a+'\x20#'+formatResult(_0x47ec51,0x8)+'\x20@'+formatResult(_0x45bb7f,0x8));else logHistory('order',''+_0x5694ca+_0x345aa6+_0x11b37d(0x3b4)+_0x451469+'\x20'+_0x1e023a+'\x20#'+formatResult(_0x47ec51,0x8)+'\x20@'+formatResult(_0x45bb7f,0x8));let _0x2f3fca;_0x12ef7d==_0x11b37d(0x3ad)?_0x1e023a==_0x11b37d(0x1ef)&&['Bybit',_0x11b37d(0x32a),_0x11b37d(0x2b8),'Huobi',_0x11b37d(0x29b)][_0x11b37d(0x2c1)](config[_0x11b37d(0x267)])?_0x2f3fca=await exchange['createOrder'](_0x451469,_0x12ef7d,_0x1e023a,_0x47ec51,_0x45bb7f):_0x2f3fca=await exchange[_0x11b37d(0x286)](_0x451469,_0x12ef7d,_0x1e023a,_0x47ec51,undefined):_0x2f3fca=await exchange[_0x11b37d(0x286)](_0x451469,_0x12ef7d,_0x1e023a,_0x47ec51,_0x45bb7f);logger[_0x11b37d(0x3b1)](_0x11b37d(0x2d5)+_0x2f3fca['id']+_0x11b37d(0x387)+_0x2308c5);const _0x30d0d2=lastOrders[_0x11b37d(0x333)]-0x1;if(_0x30d0d2>=0x0&&lastOrders[_0x30d0d2][_0x11b37d(0x1fb)]==_0x2308c5){lastOrders[_0x30d0d2]['orderId']=_0x2f3fca['id'];if(_0x2f3fca[_0x11b37d(0x274)])lastOrders[_0x30d0d2][_0x11b37d(0x274)]=_0x2f3fca[_0x11b37d(0x274)];if(_0x2f3fca[_0x11b37d(0x271)])lastOrders[_0x30d0d2][_0x11b37d(0x271)]=_0x2f3fca[_0x11b37d(0x271)];lastOrders[_0x30d0d2][_0x11b37d(0x32d)]=_0x2f3fca[_0x11b37d(0x32d)];}if(config[_0x11b37d(0x375)]!=0x0){let _0x106ce8=null;if(cooldownTracker['length']==config[_0x11b37d(0x375)]-0x1)_0x106ce8=cooldownTracker[_0x11b37d(0x377)]();const _0x2647ae=getTimeStamp();cooldownTracker[_0x11b37d(0x353)](_0x2647ae);if(_0x106ce8){const _0x1abb0e=fns[_0x11b37d(0x201)](new Date(_0x2647ae),new Date(_0x106ce8));if(_0x1abb0e<cooldownInterval){logHistory(_0x11b37d(0x2cb),_0x11b37d(0x379)+config[_0x11b37d(0x375)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x11b37d(0x21c)),coolingDown=!![];break;}}}}catch(_0x211077){if(_0x211077[_0x11b37d(0x1f6)]()[_0x11b37d(0x2c1)](_0x11b37d(0x37c)))lastOrders=lastOrders[_0x11b37d(0x3a5)](_0x3129c4=>_0x3129c4[_0x11b37d(0x32b)]!=_0x451469),logHistory(_0x11b37d(0x2cb),_0x11b37d(0x210)+_0x451469),_0x113315=!![];else{if(_0x211077[_0x11b37d(0x1f6)]()[_0x11b37d(0x2c1)](_0x11b37d(0x28c)))lastOrders=lastOrders[_0x11b37d(0x3a5)](_0x1afa2d=>_0x1afa2d['symbol']!=_0x451469),logHistory(_0x11b37d(0x2cb),_0x11b37d(0x380)+_0x451469),_0x113315=!![];else{if(_0x211077[_0x11b37d(0x1f6)]()[_0x11b37d(0x2c1)](_0x11b37d(0x23e)))lastOrders=lastOrders[_0x11b37d(0x3a5)](_0x46908f=>_0x46908f[_0x11b37d(0x32b)]!=_0x451469),logHistory(_0x11b37d(0x2cb),_0x11b37d(0x20a)+_0x451469),logger[_0x11b37d(0x3b1)](_0x211077),_0x113315=!![];else _0x211077['toString']()[_0x11b37d(0x2c1)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x11b37d(0x3a5)](_0x1ff660=>_0x1ff660[_0x11b37d(0x32b)]!=_0x451469),logHistory(_0x11b37d(0x2cb),_0x11b37d(0x210)+_0x451469),_0x113315=!![]):(lastOrders=lastOrders['filter'](_0x148ce6=>_0x148ce6[_0x11b37d(0x32b)]!=_0x451469),await handleError(_0x211077,_0x11b37d(0x371),_0x451469));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x11b37d(0x333)]>0x0){const _0x13621d=config[_0x11b37d(0x203)]==_0x11b37d(0x3ad)?validateOrderTimeout*0x3c*0x3e8:config[_0x11b37d(0x222)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x27a380=_0x11b37d;validateOrders(_0x27a380(0x272));},_0x13621d);}else unlockOrders();_0x113315&&config[_0x11b37d(0x2cd)]&&(logHistory(_0x11b37d(0x2cb),_0x11b37d(0x2df)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x11b37d(0x2da),_0x11b37d(0x31f)));}else{if(coolingDown)!config[_0x11b37d(0x2cd)]&&logHistory(_0x11b37d(0x2cb),_0x11b37d(0x356));else lockOrders!=ORDERS[_0x11b37d(0x226)]&&(!config[_0x11b37d(0x2cd)]&&(config[_0x11b37d(0x203)]=='market'?logHistory(_0x11b37d(0x2cb),_0x11b37d(0x2a4)):logHistory(_0x11b37d(0x2cb),_0x11b37d(0x2b9))));}}function persistOpenOrders(_0xb285a7){const _0x5dbff4=_0x570eee,_0x56b98b={...config,'openOrders':_0xb285a7};let _0x3cb2a5=dbConfig[_0x5dbff4(0x351)](_0x5dbff4(0x289))[_0x5dbff4(0x280)]({'botID':botID})[_0x5dbff4(0x234)]();_0x3cb2a5&&dbConfig[_0x5dbff4(0x351)](_0x5dbff4(0x289))[_0x5dbff4(0x280)]({'botID':botID})['assign'](_0x56b98b)['write']();}function restoreOrders(){const _0x201244=_0x570eee;let _0x1a214d;config['openOrders']&&allOpenOrders[_0x201244(0x217)](_0xa4e704=>{const _0x459af9=_0x201244,_0x3f94fc=config[_0x459af9(0x395)][_0x459af9(0x280)](_0x1f2b48=>_0x1f2b48[_0x459af9(0x2aa)]==_0xa4e704['id']);_0x3f94fc&&(lastOrders[_0x459af9(0x353)](_0x3f94fc),_0x1a214d=_0xa4e704[_0x459af9(0x1fe)]);});if(lastOrders['length']>0x0){setLockOrders(ORDERS[_0x201244(0x2e5)]),validateOrdersState=_0x201244(0x336),allOrdersPlaced=!![];const _0x1e9912=new Date()[_0x201244(0x348)](),_0x374966=config[_0x201244(0x203)]==_0x201244(0x3ad)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x1a214d+_0x374966>_0x1e9912){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x46a999=_0x201244;validateOrders(_0x46a999(0x272));},_0x1a214d+_0x374966-_0x1e9912);}else validateOrders(_0x201244(0x272));}}async function sendMetricsTelegram(){const _0x1e91bb=_0x570eee;if(!coinsLoaded){process[_0x1e91bb(0x29d)]({'telegrammsg':_0x1e91bb(0x352)},_0x24ea0f=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x23b1e6='';if(config[_0x1e91bb(0x328)])_0x23b1e6=_0x1e91bb(0x29e)+config[_0x1e91bb(0x24d)]+_0x1e91bb(0x2e8);else _0x23b1e6=_0x1e91bb(0x293)+botID+_0x1e91bb(0x2e8);const _0x16d5ff=getKPIs(_0x1e91bb(0x34e)),_0x22f96f=getKPIs(_0x1e91bb(0x239),config[_0x1e91bb(0x239)]),_0x3223ba=getKPIs(_0x1e91bb(0x208)),_0x5aeedf=getKPIs(_0x1e91bb(0x3b9),config[_0x1e91bb(0x239)]);_0x23b1e6+='<pre>',_0x23b1e6+=_0x16d5ff[_0x1e91bb(0x2f4)]+_0x1e91bb(0x38f)+_0x16d5ff[_0x1e91bb(0x234)]+'\x0a',_0x23b1e6+=_0x16d5ff[_0x1e91bb(0x358)]+':\x20'+_0x16d5ff[_0x1e91bb(0x3b6)]+'%\x0a',_0x23b1e6+=_0x22f96f[_0x1e91bb(0x2f4)]+_0x1e91bb(0x38f)+_0x22f96f[_0x1e91bb(0x234)]+'\x0a',_0x23b1e6+=_0x22f96f[_0x1e91bb(0x358)]+':\x20'+_0x22f96f[_0x1e91bb(0x3b6)]+'%\x0a',_0x23b1e6+=_0x3223ba[_0x1e91bb(0x2f4)]+':\x20'+_0x3223ba[_0x1e91bb(0x234)]+'\x20('+config[_0x1e91bb(0x34e)]+')\x0a',_0x23b1e6+=_0x3223ba[_0x1e91bb(0x358)]+':\x20'+_0x3223ba[_0x1e91bb(0x3b6)]+_0x1e91bb(0x2ed)+config[_0x1e91bb(0x34e)]+')\x0a',_0x23b1e6+=_0x5aeedf[_0x1e91bb(0x2f4)]+':\x20'+_0x5aeedf['value']+'\x20('+config[_0x1e91bb(0x239)]+')\x0a',_0x23b1e6+=_0x5aeedf[_0x1e91bb(0x358)]+':\x20'+_0x5aeedf[_0x1e91bb(0x3b6)]+_0x1e91bb(0x2ed)+config[_0x1e91bb(0x239)]+')\x0a',_0x23b1e6+='</pre>',process[_0x1e91bb(0x29d)]({'telegrammsg':_0x23b1e6},_0x32c887=>{});}async function sendPortfolioTelegram(){const _0x43cdc2=_0x570eee;if(!coinsLoaded||!currentCoins[0x0][_0x43cdc2(0x1ee)]){process[_0x43cdc2(0x29d)]({'telegrammsg':_0x43cdc2(0x352)},_0x9161f8=>{});return;}let _0x47fec8='';if(config['showname'])_0x47fec8=_0x43cdc2(0x29e)+config[_0x43cdc2(0x24d)]+_0x43cdc2(0x2e4);else _0x47fec8=_0x43cdc2(0x293)+botID+_0x43cdc2(0x2e4);_0x47fec8+=_0x43cdc2(0x34d),_0x47fec8+=_0x43cdc2(0x385),_0x47fec8+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x47fec8+='-------------------------------\x0a',currentCoins[_0x43cdc2(0x217)](_0x32e584=>{const _0x7ae2d3=_0x43cdc2;_0x47fec8+=_0x32e584[_0x7ae2d3(0x27e)]['padEnd'](0x7)+'|\x20'+formatPad(_0x32e584[_0x7ae2d3(0x1ee)],0x2,0x6)+'|\x20'+formatPad(_0x32e584[_0x7ae2d3(0x20e)],0x2,0x6)+'|\x20'+formatPad(_0x32e584['delta']*0x64,0x2,0x6)+'\x0a';}),_0x47fec8+='</pre>',process[_0x43cdc2(0x29d)]({'telegrammsg':_0x47fec8},_0xfcbc96=>{});}function formatPad(_0x1c451a,_0x4aaf42,_0x29c2d5){const _0x4765a8=_0x570eee,_0x2bf5d8=formatResultString(_0x1c451a,_0x4aaf42);return _0x2bf5d8?_0x2bf5d8[_0x4765a8(0x2fc)](_0x29c2d5):''[_0x4765a8(0x2fc)](_0x29c2d5);}function logHistory(_0x302b77,_0x587b4f,_0xbda12=''){const _0x20ff6f=_0x570eee;logger[_0x20ff6f(0x331)](''+_0x587b4f);let _0x511cd8={'time':getTimeStamp(),'type':_0x302b77,'event':_0x587b4f};dbLogs['get'](_0x20ff6f(0x394))[_0x20ff6f(0x353)](_0x511cd8)['write']();if(_0xbda12=='')_0xbda12=_0x587b4f;proxyEmit(_0x20ff6f(0x22a),{'log':_0x511cd8,'summary':_0xbda12}),process['send']({'telegram':{..._0x511cd8,'botname':config['botname'],'showname':config[_0x20ff6f(0x328)]}},_0xdd67f4=>{});}function emitHistory(_0x3c582d={}){const _0x2f57bd=_0x570eee;Object['keys'](_0x3c582d)['length']==0x0&&(_0x3c582d={'type':[_0x2f57bd(0x26b),'event'],'event':'','page':0x1});if(_0x3c582d[_0x2f57bd(0x2a8)]['includes'](_0x2f57bd(0x22a)))_0x3c582d[_0x2f57bd(0x2a8)]['splice'](_0x3c582d[_0x2f57bd(0x2a8)][_0x2f57bd(0x245)](_0x2f57bd(0x22a)),0x1,_0x2f57bd(0x2cb),_0x2f57bd(0x2c8),'success');if(dbLogs[_0x2f57bd(0x21b)](_0x2f57bd(0x394))[_0x2f57bd(0x234)]()){let _0x43f90f=dbLogs['get'](_0x2f57bd(0x394))[_0x2f57bd(0x3a5)](_0x34d566=>{const _0x2eefab=_0x2f57bd;if(_0x3c582d[_0x2eefab(0x2a8)][_0x2eefab(0x333)]==0x0)return![];else return _0x3c582d['type'][_0x2eefab(0x2c1)](_0x34d566[_0x2eefab(0x2a8)]);})[_0x2f57bd(0x3a5)](_0x4250ce=>{const _0x503a9d=_0x2f57bd;if(_0x3c582d['event']=='')return!![];else return _0x4250ce[_0x503a9d(0x22a)][_0x503a9d(0x38d)]()[_0x503a9d(0x2c1)](_0x3c582d[_0x503a9d(0x22a)]['toLowerCase']());})[_0x2f57bd(0x232)](_0x2f57bd(0x219)),_0x51a6d1=_0x43f90f[_0x2f57bd(0x234)]()[_0x2f57bd(0x333)];_0x43f90f=_0x43f90f['reverse']()[_0x2f57bd(0x2c6)]((_0x3c582d[_0x2f57bd(0x382)]-0x1)*logPageSize,_0x3c582d[_0x2f57bd(0x382)]*logPageSize-0x1)[_0x2f57bd(0x31d)]()[_0x2f57bd(0x234)](),proxyEmit(_0x2f57bd(0x344),{'logs':_0x43f90f,'total':_0x51a6d1});}else proxyEmit(_0x2f57bd(0x344),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4ef5f7){const _0x52c87c=_0x570eee;if(dbLogs['has'](_0x52c87c(0x394))[_0x52c87c(0x234)]()){const _0x10158f=dbLogs[_0x52c87c(0x351)](_0x52c87c(0x394))['sortBy'](_0x52c87c(0x219))[_0x52c87c(0x3a5)](_0x5062f2=>{const _0x284d0b=_0x52c87c;return _0x5062f2[_0x284d0b(0x2a8)]==_0x284d0b(0x26b);})['value']();dbLogs['get']('logs')[_0x52c87c(0x24a)]()['write'](),dbLogs[_0x52c87c(0x351)](_0x52c87c(0x394))[_0x52c87c(0x3b3)](_0x10158f)[_0x52c87c(0x292)](),emitHistory(_0x4ef5f7);}}async function pauseBot(_0x32e34e=pauseBotIntervalShort,_0x472a48,_0x59dba9,_0x431747=![]){const _0x5ad68d=_0x570eee,_0x27bbc1=new Date()[_0x5ad68d(0x348)]();if(!lastErrorShown||_0x27bbc1-lastErrorShown>=_0x32e34e){lastErrorShown=_0x27bbc1;if(!lastBotPause)lastBotPause=_0x27bbc1,consecutivePauses=0x1;else{if(_0x27bbc1-lastBotPause-_0x32e34e<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x431747){logHistory('error',_0x472a48+_0x5ad68d(0x26d)),await killBot();return;}else logHistory(_0x5ad68d(0x2cb),_0x472a48+pauseBotMsg),_0x32e34e=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x27bbc1;}_0x59dba9?logger['debug']('('+consecutivePauses+')\x20'+_0x472a48+_0x5ad68d(0x35e),_0x59dba9):logger[_0x5ad68d(0x3b1)]('('+consecutivePauses+')\x20'+_0x472a48);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x32e34e),botPaused=![],_0x32e34e==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x27dc32=_0x570eee;botPaused=!![],await sleep(0x3e8),process[_0x27dc32(0x29d)]({'stop':_0x27dc32(0x22c)},_0x278146=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xd5602a,_0xe3b95c){const _0x55d814=_0x570eee;if(botPaused)return;const _0x468309=config[_0x55d814(0x267)]||_0x55d814(0x315);if(_0xe3b95c)logger[_0x55d814(0x3b1)](_0x55d814(0x2ac)+_0xe3b95c);const _0x59c12b=()=>{const _0x4ed889=_0x55d814;loading[_0x4ed889(0x2cb)]=!![],emitLoadingProgress();};if(_0xd5602a[_0x55d814(0x1f6)]()[_0x55d814(0x2c1)]('API-key\x20format\x20invalid'))logHistory(_0x55d814(0x2cb),_0x468309+_0x55d814(0x24e)),_0x59c12b();else{if(_0xd5602a[_0x55d814(0x1f6)]()[_0x55d814(0x2c1)](_0x55d814(0x23f)))logHistory('error',_0x468309+_0x55d814(0x381)),_0x59c12b();else{if(_0xd5602a['toString']()[_0x55d814(0x2c1)](_0x55d814(0x301)))config[_0x55d814(0x1f1)]?errormsg=_0x468309+_0x55d814(0x32f):errormsg=_0x468309+_0x55d814(0x2cf),logHistory(_0x55d814(0x2cb),errormsg+'(see:\x20hodlerhacks.com/fix/1)'),_0x59c12b();else _0xd5602a['toString']()[_0x55d814(0x2c1)](_0x55d814(0x386))?(logHistory(_0x55d814(0x2cb),_0x468309+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x59c12b()):await handleError(_0xd5602a,null);}}}async function handleError(_0x1bcdc0,_0x11e4f8,_0x1218b2=''){const _0x560ada=_0x570eee;if(botPaused)return;let _0x81de56;const _0x343644=config[_0x560ada(0x267)]||_0x560ada(0x315);if(_0x11e4f8)logger[_0x560ada(0x3b1)]('Exception\x20thrown\x20in\x20'+_0x11e4f8);if(_0x1bcdc0['toString']()[_0x560ada(0x2c1)](_0x560ada(0x314)))_0x81de56=_0x343644+_0x560ada(0x27a),await pauseBot(undefined,_0x81de56,_0x1bcdc0);else{if(_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x2c1)](_0x560ada(0x213)))_0x81de56=_0x343644+_0x560ada(0x2e9),await pauseBot(undefined,_0x81de56,_0x1bcdc0);else{if(_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x2c1)](_0x560ada(0x3af))||_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x2c1)]('OnMaintenance'))_0x81de56=_0x343644+_0x560ada(0x243),await pauseBot(undefined,_0x81de56,_0x1bcdc0[_0x560ada(0x1f6)]());else{if(_0x1bcdc0[_0x560ada(0x1f6)]()['includes']('RequestTimeout'))_0x81de56=_0x343644+_0x560ada(0x1f4),await pauseBot(undefined,_0x81de56,_0x1bcdc0[_0x560ada(0x1f6)]());else{if(_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x2c1)](_0x560ada(0x21a)))_0x81de56=_0x343644+_0x560ada(0x221),await pauseBot(undefined,_0x81de56,_0x1bcdc0[_0x560ada(0x1f6)]());else{if(_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x38d)]()[_0x560ada(0x2c1)](_0x560ada(0x1fe))||_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x38d)]()[_0x560ada(0x2c1)](_0x560ada(0x288)))_0x81de56=_0x560ada(0x297),await pauseBot(undefined,_0x81de56,_0x1bcdc0['toString']());else{if(_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x2c1)]('InvalidNonce'))_0x81de56=_0x343644+_0x560ada(0x36b),await pauseBot(undefined,_0x81de56,_0x1bcdc0[_0x560ada(0x1f6)]());else{if(_0x1bcdc0 instanceof ccxt[_0x560ada(0x302)])_0x81de56=_0x343644+_0x560ada(0x389)+_0x1bcdc0[_0x560ada(0x1f6)](),logger[_0x560ada(0x3b1)]('Network\x20error\x20details:',_0x1bcdc0),await pauseBot(undefined,_0x81de56,_0x1bcdc0);else{if(_0x1bcdc0['toString']()['includes']('API-key\x20format\x20invalid'))logHistory(_0x560ada(0x2cb),_0x343644+_0x560ada(0x25a)),logHistory(_0x560ada(0x2cb),_0x560ada(0x2b7)),await killBot();else{if(_0x1bcdc0[_0x560ada(0x1f6)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x560ada(0x2cb),_0x343644+_0x560ada(0x33f)),logHistory(_0x560ada(0x2cb),_0x560ada(0x2b7)),await killBot();else{if(_0x1bcdc0['toString']()['includes'](_0x560ada(0x301))&&_0x1bcdc0['toString']()['includes']('token\x20is\x20expired'))_0x81de56=_0x343644+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)',await pauseBot(undefined,_0x81de56,_0x1bcdc0,!![]);else{if(_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x2c1)](_0x560ada(0x301)))config[_0x560ada(0x1f1)]?_0x81de56=_0x343644+_0x560ada(0x32f):_0x81de56=_0x343644+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x560ada(0x2cb),_0x81de56),logHistory(_0x560ada(0x2cb),_0x560ada(0x2b7)),await killBot();else{if(_0x1bcdc0[_0x560ada(0x1f6)]()['includes'](_0x560ada(0x386)))logHistory('error',_0x343644+_0x560ada(0x39e)),logHistory('error',_0x560ada(0x2b7)),await killBot();else{if(_0x1bcdc0[_0x560ada(0x1f6)]()[_0x560ada(0x2c1)]('InsufficientFunds'))logHistory(_0x560ada(0x2cb),_0x560ada(0x290)+_0x1218b2),logger['debug'](_0x560ada(0x2b5),_0x1bcdc0);else{if(_0x1bcdc0 instanceof ccxt[_0x560ada(0x33e)]){_0x81de56=_0x343644+_0x560ada(0x3a3)+_0x1bcdc0[_0x560ada(0x1f6)](),logHistory('error',_0x81de56),logger['debug'](_0x560ada(0x313),_0x1bcdc0);if(_0x1218b2)logger[_0x560ada(0x3b1)](_0x560ada(0x360)+_0x1218b2);await pauseBot(undefined,_0x81de56,_0x1bcdc0);}else{_0x81de56=_0x560ada(0x2b4)+_0x1bcdc0[_0x560ada(0x1f6)](),logHistory(_0x560ada(0x2cb),_0x81de56),logger[_0x560ada(0x3b1)](_0x81de56+_0x560ada(0x35e),_0x1bcdc0);if(_0x1218b2)logger[_0x560ada(0x3b1)](_0x560ada(0x360)+_0x1218b2);await pauseBot(undefined,_0x81de56);}}}}}}}}}}}}}}}}function decryptRSA(_0x983c3d,_0x36e93e){const _0xbe943a=_0x570eee,_0x13ed11=forge[_0xbe943a(0x2c4)][_0xbe943a(0x37b)](_0x983c3d),_0x34a5c2=_0x13ed11[_0xbe943a(0x2bf)](forge[_0xbe943a(0x332)][_0xbe943a(0x1f9)](_0x36e93e),_0xbe943a(0x31e),{'md':forge['md'][_0xbe943a(0x319)][_0xbe943a(0x241)](),'mgf1':{'md':forge['md']['sha256'][_0xbe943a(0x241)]()}});return _0x34a5c2;}async function withRetry(_0x4df645,_0x56ad91){const _0x35410c=_0x570eee;let _0x42c7c3=![],_0x316372=0x0,_0x1acc2a,_0x4a65c9;while(_0x316372<maxRetries){try{_0x1acc2a=await _0x56ad91();break;}catch(_0x3daf5f){_0x4a65c9=_0x3daf5f,!_0x42c7c3?(_0x42c7c3=!![],logger[_0x35410c(0x3b1)](_0x35410c(0x299)+_0x4df645+':',_0x3daf5f[_0x35410c(0x1f6)]())):await sleep(retryInterval);}_0x316372++;}if(_0x316372==0x0)return _0x1acc2a;if(_0x316372>=maxRetries)throw _0x4a65c9;else return logger['debug']('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x316372+_0x35410c(0x3a7)),_0x1acc2a;}function formatResult(_0x561d49,_0x1fb75e){return parseFloat(_0x561d49['toFixed'](_0x1fb75e));}function formatResultTruncate(_0x52e2ee,_0x1d1dda){const _0x355cfe=_0x570eee;let _0x9c63cb=formatResultString(_0x52e2ee,0xa),_0x185cb1=_0x9c63cb['indexOf']('.');return _0x185cb1!=-0x1&&(_0x9c63cb=_0x9c63cb[_0x355cfe(0x2c6)](0x0,_0x185cb1+_0x1d1dda+0x1)),Number(_0x9c63cb);}function formatResultString(_0x7e6197,_0x173723){const _0xc63ef4=_0x570eee;let _0x9d1082;if(!(''+_0x7e6197)[_0xc63ef4(0x2c1)]('e'))_0x9d1082=+(Math[_0xc63ef4(0x398)](_0x7e6197+'e+'+_0x173723)+'e-'+_0x173723);else{let _0x7665c7=(''+_0x7e6197)['split']('e'),_0x3cda5c='';+_0x7665c7[0x1]+_0x173723>0x0&&(_0x3cda5c='+'),_0x9d1082=+(Math[_0xc63ef4(0x398)](+_0x7665c7[0x0]+'e'+_0x3cda5c+(+_0x7665c7[0x1]+_0x173723))+'e-'+_0x173723);}return Number(_0x9d1082)[_0xc63ef4(0x207)](_0x173723);}function getServerTime(){const _0x364a9f=_0x570eee,_0x58fefb=new Date();return _0x58fefb[_0x364a9f(0x237)]()+'/'+(_0x58fefb['getMonth']()+0x1)[_0x364a9f(0x1f6)]()[_0x364a9f(0x2fc)](0x2,'0')+'/'+_0x58fefb[_0x364a9f(0x2cc)]()[_0x364a9f(0x1f6)]()[_0x364a9f(0x2fc)](0x2,'0')+'\x20'+_0x58fefb['getHours']()[_0x364a9f(0x1f6)]()[_0x364a9f(0x2fc)](0x2,'0')+':'+_0x58fefb[_0x364a9f(0x3a9)]()['toString']()[_0x364a9f(0x2fc)](0x2,'0')+':'+_0x58fefb[_0x364a9f(0x3a1)]()[_0x364a9f(0x1f6)]()[_0x364a9f(0x2fc)](0x2,'0');}function getTimeStamp(){const _0x29361c=_0x570eee,_0x575fc8=shiftedTime();return _0x575fc8[_0x29361c(0x237)]()+'/'+(_0x575fc8[_0x29361c(0x384)]()+0x1)['toString']()[_0x29361c(0x2fc)](0x2,'0')+'/'+_0x575fc8[_0x29361c(0x2cc)]()[_0x29361c(0x1f6)]()[_0x29361c(0x2fc)](0x2,'0')+'\x20'+_0x575fc8[_0x29361c(0x261)]()[_0x29361c(0x1f6)]()[_0x29361c(0x2fc)](0x2,'0')+':'+_0x575fc8[_0x29361c(0x3a9)]()[_0x29361c(0x1f6)]()[_0x29361c(0x2fc)](0x2,'0')+':'+_0x575fc8[_0x29361c(0x3a1)]()[_0x29361c(0x1f6)]()['padStart'](0x2,'0');}function getDate(){const _0x46b425=_0x570eee,_0x4e80b6=shiftedTime();return _0x4e80b6[_0x46b425(0x237)]()+'/'+(_0x4e80b6[_0x46b425(0x384)]()+0x1)[_0x46b425(0x1f6)]()[_0x46b425(0x2fc)](0x2,'0')+'/'+_0x4e80b6[_0x46b425(0x2cc)]()[_0x46b425(0x1f6)]()['padStart'](0x2,'0');}function getHour(){const _0x486466=_0x570eee,_0x4b2b1e=shiftedTime();return _0x4b2b1e[_0x486466(0x261)]()[_0x486466(0x1f6)]()[_0x486466(0x2fc)](0x2,'0');}function sleep(_0x3ac60c){return new Promise(_0x21ffda=>setTimeout(_0x21ffda,_0x3ac60c));}function shiftedTime(){const _0x3f6efb=_0x570eee,_0x36ea56=new Date();let _0x43d4ad=_0x36ea56;if(config&&config[_0x3f6efb(0x2c2)]!==0x0)_0x43d4ad=fns[_0x3f6efb(0x338)](_0x36ea56,{'hours':config[_0x3f6efb(0x2c2)]});return _0x43d4ad;}function timer(_0x1962f1){const _0x27f650=_0x570eee,_0x1d3f42=new Date();!lasttime?console[_0x27f650(0x320)](getTimeStamp()+':\x20timer\x20>',_0x1962f1,_0x1d3f42):console[_0x27f650(0x320)](getTimeStamp()+':\x20timer\x20>',_0x1962f1,(_0x1d3f42-lasttime)/0x3e8),lasttime=_0x1d3f42;}