const _0x369f78=_0x56f7;(function(_0x6d50f2,_0x1f6746){const _0xc7dc81=_0x56f7,_0x1fbfdf=_0x6d50f2();while(!![]){try{const _0x1a15a5=-parseInt(_0xc7dc81(0x2c9))/0x1*(-parseInt(_0xc7dc81(0x288))/0x2)+parseInt(_0xc7dc81(0x1ca))/0x3*(parseInt(_0xc7dc81(0x291))/0x4)+parseInt(_0xc7dc81(0x293))/0x5+parseInt(_0xc7dc81(0x1e7))/0x6+-parseInt(_0xc7dc81(0x2a8))/0x7*(parseInt(_0xc7dc81(0x2e0))/0x8)+parseInt(_0xc7dc81(0x255))/0x9*(parseInt(_0xc7dc81(0x1ac))/0xa)+-parseInt(_0xc7dc81(0x1ee))/0xb;if(_0x1a15a5===_0x1f6746)break;else _0x1fbfdf['push'](_0x1fbfdf['shift']());}catch(_0x34c66e){_0x1fbfdf['push'](_0x1fbfdf['shift']());}}}(_0x5d87,0xb0197));const _0x560fc4=function(){let _0x43a172=!![];return function(_0x3d5032,_0x529706){const _0x4dfa16=_0x43a172?function(){if(_0x529706){const _0x2cef31=_0x529706['apply'](_0x3d5032,arguments);return _0x529706=null,_0x2cef31;}}:function(){};return _0x43a172=![],_0x4dfa16;};}(),_0x1edecc=_0x560fc4(this,function(){const _0x5a5606=_0x56f7;return _0x1edecc[_0x5a5606(0x17e)]()[_0x5a5606(0x2cc)]('(((.+)+)+)+$')[_0x5a5606(0x17e)]()[_0x5a5606(0x2d9)](_0x1edecc)[_0x5a5606(0x2cc)]('(((.+)+)+)+$');});_0x1edecc();'use strict';const ccxt=require('ccxt'),low=require(_0x369f78(0x29a)),FileSync=require(_0x369f78(0x18a)),fs=require('fs'),fns=require(_0x369f78(0x19d)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x369f78(0x2c2)),Crypt=require(_0x369f78(0x1c6))[_0x369f78(0x1e0)],util=require(_0x369f78(0x1c4));let exchange,wsClient;global[_0x369f78(0x2c7)]={},global[_0x369f78(0x1a6)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x369f78(0x2b7),_0x369f78(0x24b),_0x369f78(0x282),_0x369f78(0x20d),_0x369f78(0x276),_0x369f78(0x180)];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x369f78(0x2b3)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x369f78(0x284)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];function _0x56f7(_0x1f2921,_0xac1fb5){const _0x2b0a07=_0x5d87();return _0x56f7=function(_0x1edecc,_0x560fc4){_0x1edecc=_0x1edecc-0x17e;let _0x5d8765=_0x2b0a07[_0x1edecc];return _0x5d8765;},_0x56f7(_0x1f2921,_0xac1fb5);}const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x369f78(0x2bd))[_0x369f78(0x2cd)],botID=process[_0x369f78(0x281)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x369f78(0x2d7)](_0x369f78(0x1b3)+botID+_0x369f78(0x2b5)),process[_0x369f78(0x1eb)](0x1));const userID=process[_0x369f78(0x281)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x369f78(0x2de),logspath=userID?_0x369f78(0x1e2)+userID+'/':_0x369f78(0x1e2),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs[_0x369f78(0x2d8)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x369f78(0x2d8)](logspath)&&fs[_0x369f78(0x2df)](logspath);const configfile=configpath+_0x369f78(0x1d8)+botID+_0x369f78(0x1af),logfile=configpath+_0x369f78(0x1d8)+botID+_0x369f78(0x1a3),performancefile=configpath+_0x369f78(0x1d8)+botID+'-performance.json',coinresultsfile=configpath+_0x369f78(0x1d8)+botID+_0x369f78(0x29d),settingsfile=configpath+_0x369f78(0x25a),securefile=configpath+_0x369f78(0x1c3),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x369f78(0x201)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0x369f78(0x201)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x369f78(0x1e4)]({'bot':[]})[_0x369f78(0x201)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x369f78(0x1e4)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x4c1049)=>{},'debug':(..._0x436af8)=>{},'notice':(..._0x452bb2)=>{},'info':(..._0x15c1f7)=>{},'warning':(..._0x12d313)=>{},'error':async function(..._0x407746){const _0x18c6d9=_0x369f78,_0x5a81cd=new Date()[_0x18c6d9(0x26b)]();if(!lastErrorShown||_0x5a81cd-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x18c6d9(0x26b)]();let _0x41af0d='';if(_0x407746[0x0])_0x41af0d+=_0x407746[0x0];if(_0x407746[0x1]&&_0x407746[0x1][_0x18c6d9(0x21b)]&&_0x407746[0x1][_0x18c6d9(0x21b)][_0x18c6d9(0x2a5)])_0x41af0d+='\x20-\x20'+_0x407746[0x1][_0x18c6d9(0x21b)]['message'];logger[_0x18c6d9(0x2b0)](_0x18c6d9(0x195)+consecutivePauses+_0x18c6d9(0x221),''+_0x41af0d),await pauseBot(_0x18c6d9(0x1aa));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x369f78(0x18c),'rsaStandard':_0x369f78(0x1e6)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x21cb18=>{console['log'](_0x21cb18);},'simple':_0x10a54a=>{const _0x834a87=_0x369f78;console[_0x834a87(0x2d7)](_0x10a54a),loggerfile[_0x834a87(0x201)](util['format'](_0x10a54a)+'\x0a');},'full':async(_0x5030ef,_0x3ba83e='')=>{const _0x16c578=_0x369f78;let _0x514715;if(config[_0x16c578(0x242)])_0x514715=getTimeStamp()+':\x20'+config[_0x16c578(0x271)]+_0x16c578(0x248)+_0x5030ef;else _0x514715=getTimeStamp()+_0x16c578(0x240)+botID+_0x16c578(0x248)+_0x5030ef;console[_0x16c578(0x2d7)](_0x514715),loggerfile['write'](util[_0x16c578(0x27f)](_0x514715)+'\x0a'),_0x3ba83e&&(console['log'](_0x3ba83e),loggerfile[_0x16c578(0x201)](util[_0x16c578(0x27f)](_0x3ba83e)+'\x0a'));},'debug':async(_0x3667ea,_0x1747ec='')=>{const _0x31fae8=_0x369f78;let _0x48d1f8;if(config[_0x31fae8(0x242)])_0x48d1f8=getTimeStamp()+':\x20'+config[_0x31fae8(0x271)]+_0x31fae8(0x252)+_0x3667ea;else _0x48d1f8=getTimeStamp()+_0x31fae8(0x240)+botID+'\x20>\x20[DEBUG]\x20'+_0x3667ea;if(debugLoggingScreen)console['log'](_0x48d1f8);loggerfile[_0x31fae8(0x201)](util[_0x31fae8(0x27f)](_0x48d1f8)+'\x0a');if(_0x1747ec){if(debugLoggingScreen)console[_0x31fae8(0x2d7)](_0x1747ec);loggerfile[_0x31fae8(0x201)](util[_0x31fae8(0x27f)](_0x1747ec)+'\x0a');}}};process['on']('uncaughtException',function(_0x29996e){logger['simple'](_0x29996e);});settings['timeshift']!=config[_0x369f78(0x23e)]&&updateTimeshift(settings[_0x369f78(0x23e)]);process['send']({'started':'running'},_0x1eefec=>{}),initializeProcessListeners();function proxyEmit(_0x33493b,_0x261c6d=null){const _0x5c75fa=_0x369f78;process[_0x5c75fa(0x232)]({'function':_0x33493b,'args':_0x261c6d},_0x56f332=>{});}function initializeProcessListeners(){const _0x361d93=_0x369f78;process['on'](_0x361d93(0x2a5),_0x8afd10=>{const _0x1b16b4=_0x361d93;switch(Object['keys'](_0x8afd10)[0x0]){case _0x1b16b4(0x23e):_0x8afd10[_0x1b16b4(0x23e)]!=undefined&&(settings[_0x1b16b4(0x23e)]=_0x8afd10[_0x1b16b4(0x23e)],updateTimeshift(settings[_0x1b16b4(0x23e)]));break;case _0x1b16b4(0x1f4):switch(_0x8afd10[_0x1b16b4(0x1f4)]){case _0x1b16b4(0x28a):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x1b16b4(0x1e9):emitHistory(_0x8afd10['args']);break;case _0x1b16b4(0x233):deleteHistoryAlerts(_0x8afd10['args']);break;case _0x1b16b4(0x1ce):getPortfolio(_0x8afd10['args']);break;case'storeConfiguration':storeConfiguration(_0x8afd10[_0x1b16b4(0x210)]);break;case _0x1b16b4(0x1cc):storeHeadless(_0x8afd10[_0x1b16b4(0x210)]);break;case _0x1b16b4(0x211):getStartingBalances(getNormalizedPerformance());break;case _0x1b16b4(0x19b):placeOrder(_0x8afd10[_0x1b16b4(0x210)]);break;case _0x1b16b4(0x2b1):cancelLoading();break;case _0x1b16b4(0x2ad):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x37f6df=_0x369f78;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''&&config['apiKey']!=_0x37f6df(0x294)){await initExchange(config[_0x37f6df(0x2a2)],config[_0x37f6df(0x22c)]),await initWsEvents();let _0x27802d=![];try{_0x27802d=await loadSymbols();}catch(_0x3d4163){handleError(_0x3d4163,'loadSymbols()');}if(_0x27802d){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x37f6df(0x181)]==0x0&&allOpenOrders[_0x37f6df(0x181)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x449fd9,_0x28c77d){const _0x33ad14=_0x369f78,_0xb6f4e9=ccxt[config[_0x33ad14(0x2b6)]];let _0x31f328;switch(config['exchange']){case _0x33ad14(0x2c2):_0x31f328='wss://stream.binance.com:9443';break;case _0x33ad14(0x186):_0x31f328='wss://stream.binance.us:9443';break;default:_0x31f328=_0x33ad14(0x264);}exchange=new _0xb6f4e9({'apiKey':_0x449fd9,'secret':_0x28c77d,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x33ad14(0x27e)][_0x33ad14(0x219)]=_0x449fd9,wsClient['options'][_0x33ad14(0x18b)]=_0x28c77d,wsClient[_0x33ad14(0x27e)][_0x33ad14(0x25d)]=_0x31f328;let _0x44ff36=config[_0x33ad14(0x2b6)]==_0x33ad14(0x186)?_0x33ad14(0x1d0):'EUR',_0x290cd5=config[_0x33ad14(0x2a7)]==_0x33ad14(0x222)?_0x33ad14(0x222):_0x33ad14(0x1bf);stablecoins={'eur':{'coin':''+_0x290cd5+_0x44ff36,'symbol':_0x290cd5+'/'+_0x44ff36},'usd':{'coin':_0x290cd5+_0x33ad14(0x1d0),'symbol':_0x290cd5+_0x33ad14(0x297)}};}async function initWsEvents(){const _0x587082=_0x369f78;!wsClient[_0x587082(0x2ab)][_0x587082(0x279)]&&wsClient['on'](_0x587082(0x279),_0x318123=>{const _0x4012de=_0x587082;if(isWsFormattedKline(_0x318123)){global[_0x4012de(0x2c7)][_0x318123[_0x4012de(0x273)][_0x4012de(0x192)]]=_0x318123[_0x4012de(0x273)][_0x4012de(0x1f7)];return;}else{if(isWsFormatted24hrTicker(_0x318123)){global[_0x4012de(0x1a6)][_0x318123['symbol']]=_0x318123[_0x4012de(0x2af)];return;}else{if(!Array[_0x4012de(0x23d)](_0x318123)&&_0x318123[_0x4012de(0x1dd)][_0x4012de(0x234)](_0x4012de(0x243))){if(_0x318123[_0x4012de(0x26a)][_0x4012de(0x234)]('spot')){updateNumberCoins(_0x318123);return;}}}}}),!wsClient['_events'][_0x587082(0x23a)]&&wsClient['on'](_0x587082(0x23a),async _0x550200=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x1ecdef=_0x369f78;let _0x58b3f1=![];try{markets=await exchange[_0x1ecdef(0x225)](),allSymbols=exchange['symbols'][_0x1ecdef(0x20f)](_0x21f098=>{let _0x216e46=![];return exceptions['forEach'](_0x112c2b=>{const _0x2446f9=_0x56f7;if(_0x21f098[_0x2446f9(0x234)](_0x112c2b))_0x216e46=!![];}),!_0x216e46;}),_0x58b3f1=!![];}catch(_0x7f4af0){_0x58b3f1=![];throw _0x7f4af0;}return _0x58b3f1;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x3ce6ed=_0x369f78;proxyEmit(_0x3ce6ed(0x197),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3ce6ed(0x2e1),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3519ac=getNormalizedPerformance();emitPerformance(_0x3519ac),await getStartingBalances(_0x3519ac);}async function toggleBotMode(){const _0x3556d8=_0x369f78;let _0x5030b9=dbConfig[_0x3556d8(0x21f)](_0x3556d8(0x228))['find']({'botID':botID})['value']();if(_0x5030b9){const _0x54c558=!_0x5030b9[_0x3556d8(0x29e)];dbConfig[_0x3556d8(0x21f)]('bot')['find']({'botID':botID})['assign']({'headless':_0x54c558})[_0x3556d8(0x201)](),config[_0x3556d8(0x29e)]=_0x54c558,proxyEmit(_0x3556d8(0x197),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x295f3c=>{});}function cleanws(){const _0x165d4b=_0x369f78;wsinitialized=![];ws1&&(ws1[_0x165d4b(0x266)](_0x4d8c97=>{const _0x2e92c6=_0x165d4b;try{wsClient[_0x2e92c6(0x1f7)](_0x4d8c97);}catch(_0xae45b){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x1c5fbe){}ws2=null;}ws3&&(ws3['forEach'](_0x52bbc6=>{const _0x26b198=_0x165d4b;try{wsClient[_0x26b198(0x1f7)](_0x52bbc6);}catch(_0x4e8fa5){}}),ws3=[]);}async function initws(){const _0x38969a=_0x369f78;cleanws();let _0x22e0c5=[];currentCoins[_0x38969a(0x266)](_0x520c37=>{const _0x5537c9=_0x38969a;if(_0x520c37['coin']!=config[_0x5537c9(0x2a7)])_0x22e0c5['push'](_0x520c37[_0x5537c9(0x192)]);});if(!_0x22e0c5[_0x38969a(0x234)](stablecoins[_0x38969a(0x24a)][_0x38969a(0x192)]))_0x22e0c5[_0x38969a(0x270)](stablecoins[_0x38969a(0x24a)][_0x38969a(0x192)]);if(!_0x22e0c5[_0x38969a(0x234)](stablecoins['usd'][_0x38969a(0x192)]))_0x22e0c5[_0x38969a(0x270)](stablecoins[_0x38969a(0x1d4)][_0x38969a(0x192)]);if(!_0x22e0c5[_0x38969a(0x234)](_0x38969a(0x20e)+config[_0x38969a(0x2a7)]))_0x22e0c5[_0x38969a(0x270)](_0x38969a(0x20e)+config[_0x38969a(0x2a7)]);try{_0x22e0c5[_0x38969a(0x266)]((_0x5af807,_0x401861)=>{const _0x523540=_0x38969a;ws1[_0x401861]=wsClient['subscribeSpotKline'](noslash(_0x5af807),'1m'),ws3[_0x401861]=wsClient[_0x523540(0x1cd)](noslash(_0x5af807),_0x523540(0x1f0));}),ws2=wsClient['subscribeSpotUserDataStream']();}catch(_0x2c6056){await handleError(_0x2c6056,_0x38969a(0x18e));}let _0x2f4964,_0x5e6dc2=0x0;loading[_0x38969a(0x2ca)]=[];let _0x478991=0x0;_0x22e0c5[_0x38969a(0x266)](_0x441688=>{const _0x10adfb=_0x38969a;loading[_0x10adfb(0x2ca)][_0x10adfb(0x270)](_0x441688);}),loadingCanceled=![];let _0x17da58=![];while(_0x2f4964!=_0x22e0c5[_0x38969a(0x181)]){_0x2f4964=0x0,_0x22e0c5[_0x38969a(0x266)](_0x4a7a28=>{const _0x3c9c21=_0x38969a;global['ticker'][noslash(_0x4a7a28)]&&(loading[_0x3c9c21(0x2ca)]=loading[_0x3c9c21(0x2ca)][_0x3c9c21(0x20f)](_0x1d2f8b=>_0x1d2f8b!=_0x4a7a28),_0x2f4964++);}),loading[_0x38969a(0x188)]=Math[_0x38969a(0x2a6)](_0x2f4964/_0x22e0c5[_0x38969a(0x181)]*0x64);loading[_0x38969a(0x188)]!=0x64&&(_0x478991>0x1e*0x5&&(loading[_0x38969a(0x299)]=!![],emitLoadingProgress()),_0x478991>0x3c*0x5&&!_0x17da58&&(_0x17da58=!![],logHistory(_0x38969a(0x21b),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x38969a(0x2ca)][_0x38969a(0x1b0)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x38969a(0x21b),_0x38969a(0x214)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),await sleep(loadCoinsRetryInterval),process[_0x38969a(0x232)]({'stop':_0x38969a(0x212)},_0x192678=>{})));if(loadingCanceled){loading[_0x38969a(0x267)]=!![],emitLoadingProgress();break;}else _0x2f4964!=_0x5e6dc2&&(_0x5e6dc2=_0x2f4964,emitLoadingProgress()),_0x478991++,await sleep(0xc8);}_0x17da58&&logHistory(_0x38969a(0x19e),_0x38969a(0x298));if(_0x2f4964==_0x22e0c5['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0xbfb36=_0x369f78;proxyEmit(_0xbfb36(0x1f2),loading);}async function getFiat(){const _0x1913d5=_0x369f78;let _0x596116=0x0,_0x1edb14=0x0;try{_0x596116=global['ticker'][stablecoins[_0x1913d5(0x24a)][_0x1913d5(0x22f)]],_0x1edb14=global[_0x1913d5(0x2c7)][stablecoins[_0x1913d5(0x1d4)]['coin']];}catch(_0x59582e){await handleError(_0x59582e,_0x1913d5(0x2b8));}return{'eur':Number(_0x596116),'usd':Number(_0x1edb14)};}function setStartDatePerformance(){const _0x17ede2=_0x369f78;if(config&&config[_0x17ede2(0x262)][0x0][_0x17ede2(0x1dc)][_0x17ede2(0x181)]!=0x0){const _0x498c7c=config[_0x17ede2(0x262)][0x0]['changes'];dbPerformance[_0x17ede2(0x21f)](_0x17ede2(0x2dd))[_0x17ede2(0x2a3)]({'date':config[_0x17ede2(0x22a)]})[_0x17ede2(0x21d)]({'coins':_0x498c7c})['write']();}}async function recreateCoinResults(){const _0x5bbf9d=_0x369f78;let _0x1abc1b,_0x25a200=[];try{const _0x5816dd=fns[_0x5bbf9d(0x27f)](fns[_0x5bbf9d(0x17f)](config['startdate'][_0x5bbf9d(0x2d4)](/\//g,'-')),_0x5bbf9d(0x244));for(const _0x1a5a4c of currentCoins){if(_0x1a5a4c[_0x5bbf9d(0x22f)]!=config['basecoin']){let _0x321361=0x0,_0x12f1c4,_0x59ff6e;_0x1abc1b=await getAllEventOrders(_0x1a5a4c[_0x5bbf9d(0x192)]);if(_0x1abc1b[_0x5bbf9d(0x181)]>0x0)_0x1abc1b['forEach'](_0x2840f4=>{const _0x3151b4=_0x5bbf9d,_0xacac5c=_0x1a5a4c['symbol']['includes'](config[_0x3151b4(0x2a7)]+'/');_0x25a200[_0x3151b4(0x270)]({'datetime':_0x2840f4[_0x3151b4(0x223)],'coin':_0x1a5a4c[_0x3151b4(0x22f)],'symbol':_0x1a5a4c[_0x3151b4(0x192)],'side':_0x2840f4[_0x3151b4(0x226)],'reverse':_0xacac5c,'amount':formatResult(_0x2840f4[_0x3151b4(0x207)],0x8),'filled':formatResult(_0x2840f4[_0x3151b4(0x207)],0x8),'price':formatResult(_0x2840f4[_0x3151b4(0x1e8)],0x8)}),_0x321361=_0x2840f4['side']=='buy'?_0x321361+_0x2840f4[_0x3151b4(0x207)]:_0x321361-_0x2840f4[_0x3151b4(0x207)];if(!_0x59ff6e)_0x59ff6e=_0x2840f4[_0x3151b4(0x1e8)];});_0x12f1c4=_0x1a5a4c[_0x5bbf9d(0x189)]-_0x321361;let _0x5efecb;config['liquidity'][_0x5bbf9d(0x266)](_0x5ebfde=>{const _0x253126=_0x5bbf9d;!_0x5efecb&&(_0x5efecb=_0x5ebfde[_0x253126(0x1dc)][_0x253126(0x2a3)](_0x212506=>_0x212506[_0x253126(0x22f)]==_0x1a5a4c['coin']),_0x5efecb&&(_0x12f1c4=_0x5efecb[_0x253126(0x189)],_0x59ff6e=_0x5efecb['price']));});let _0x376030=dbCoinResults[_0x5bbf9d(0x21f)](_0x5bbf9d(0x206))[_0x5bbf9d(0x2a3)]({'coin':_0x1a5a4c[_0x5bbf9d(0x22f)]})[_0x5bbf9d(0x2c6)]();_0x376030={'coin':_0x1a5a4c['coin'],'number':_0x12f1c4,'breakeven':_0x59ff6e,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')[_0x5bbf9d(0x2a3)]({'coin':_0x1a5a4c[_0x5bbf9d(0x22f)]})[_0x5bbf9d(0x21d)](_0x376030)['write']();}}_0x25a200[_0x5bbf9d(0x2c0)]((_0x2ca900,_0x37b0fa)=>_0x2ca900[_0x5bbf9d(0x223)]>_0x37b0fa[_0x5bbf9d(0x223)]?0x1:_0x37b0fa[_0x5bbf9d(0x223)]>_0x2ca900['datetime']?-0x1:0x0);let _0x142551=0x0;for(let _0x5a1e40 of _0x25a200){await updateCoinResults(_0x5a1e40,!![]);}}catch(_0x16a42d){await handleError(_0x16a42d,_0x5bbf9d(0x2b4));}}async function getAllEventOrders(_0x861f9d){const _0x3ea445=_0x369f78;let _0x470ecf=[],_0x3626bf=dbLogs[_0x3ea445(0x21f)]('logs')[_0x3ea445(0x20f)](_0x438235=>{const _0x3f4dbd=_0x3ea445,_0xa7290a=_0x438235[_0x3f4dbd(0x2c4)][_0x3f4dbd(0x26c)]();return _0xa7290a[_0x3f4dbd(0x234)](_0x861f9d['toLowerCase']())&&(_0xa7290a[_0x3f4dbd(0x234)](_0x3f4dbd(0x215))&&_0xa7290a['includes'](_0x3f4dbd(0x1cf))||_0xa7290a['includes'](_0x3f4dbd(0x207))&&_0xa7290a[_0x3f4dbd(0x234)](_0x3f4dbd(0x1cf)));})[_0x3ea445(0x191)](_0x3ea445(0x2d1))[_0x3ea445(0x2c6)]();return _0x3626bf[_0x3ea445(0x266)](_0x36556a=>{const _0x777ad9=_0x3ea445,_0x637f58=_0x36556a[_0x777ad9(0x2c4)][_0x777ad9(0x234)](_0x777ad9(0x2be))?_0x777ad9(0x2be):_0x777ad9(0x253),_0x196281=/#([0-9]|\.)+\s/i,_0x21add5=Number(_0x196281['exec'](_0x36556a[_0x777ad9(0x2c4)])[0x0][_0x777ad9(0x29f)](0x1)),_0x5e437b=/@([0-9]|\.)+$/i,_0x3ac785=Number(_0x5e437b['exec'](_0x36556a[_0x777ad9(0x2c4)])[0x0][_0x777ad9(0x29f)](0x1));_0x470ecf[_0x777ad9(0x270)]({'datetime':_0x36556a['time'],'coin':symbolToCoin(_0x861f9d),'symbol':_0x861f9d,'side':_0x637f58,'amount':_0x21add5,'filled':_0x21add5,'price':_0x3ac785});}),_0x470ecf;}async function getAllOrders(_0x359b25,_0x54f655){const _0x3382be=_0x369f78;let _0x17c2d1=[];while(_0x54f655<exchange[_0x3382be(0x25f)]()){const _0x4855f7=0x1f4,_0xe87b10=await exchange['fetchClosedOrders'](_0x359b25,_0x54f655,_0x4855f7);if(_0xe87b10['length'])_0x54f655=_0xe87b10[_0xe87b10['length']-0x1][_0x3382be(0x1fa)]+0x1,_0x17c2d1=_0x17c2d1[_0x3382be(0x28e)](_0xe87b10);else break;}return _0x17c2d1;}async function validate24hChanges(){const _0xfae945=_0x369f78;let _0x3316ab;for(const _0x1dcbc6 of currentCoins){if(_0x1dcbc6[_0xfae945(0x22f)]!=config['basecoin']){let _0x148679;_0x1dcbc6[_0xfae945(0x296)]?_0x148679=formatResult((0x1/(global[_0xfae945(0x1a6)][noslash(_0x1dcbc6['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x148679=global[_0xfae945(0x1a6)][noslash(_0x1dcbc6[_0xfae945(0x192)])],_0x148679<config[_0xfae945(0x2da)]&&(logHistory(_0xfae945(0x21b),_0x1dcbc6[_0xfae945(0x22f)]+_0xfae945(0x237)+_0x148679+'%'),logHistory(_0xfae945(0x21b),_0xfae945(0x2c3)),logHistory('error',_0xfae945(0x29b)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x1ed3ba=_0x369f78;let _0x4983ff=dbLogs[_0x1ed3ba(0x21f)](_0x1ed3ba(0x2cd))[_0x1ed3ba(0x2c6)]();if(_0x4983ff!=_0x1ed3ba(0x25b)){dbLogs[_0x1ed3ba(0x218)](_0x1ed3ba(0x2cd),_0x1ed3ba(0x25b))['write']();let _0x2b191a=[];const _0x864193=dbLogs[_0x1ed3ba(0x21f)]('logs')[_0x1ed3ba(0x2c6)]();_0x864193[_0x1ed3ba(0x266)](_0x2c1fb7=>{const _0xabd89a=_0x1ed3ba;_0x2b191a['push']({'time':_0x2c1fb7[_0xabd89a(0x2d1)],'type':_0x2c1fb7['type'],'event':_0x2c1fb7['event']});}),dbLogs[_0x1ed3ba(0x21f)](_0x1ed3ba(0x220))[_0x1ed3ba(0x21d)](_0x2b191a)[_0x1ed3ba(0x201)]();}let _0x4fdde6=dbConfig['get'](_0x1ed3ba(0x2cd))[_0x1ed3ba(0x2c6)]();if(_0x4fdde6!=_0x1ed3ba(0x25b)){dbConfig[_0x1ed3ba(0x218)](_0x1ed3ba(0x2cd),_0x1ed3ba(0x25b))[_0x1ed3ba(0x201)]();let _0x2db26d=dbConfig[_0x1ed3ba(0x21f)](_0x1ed3ba(0x228))[_0x1ed3ba(0x2a3)]({'botID':botID})[_0x1ed3ba(0x2c6)]();if(_0x2db26d){let _0x1683d6=[];_0x2db26d[_0x1ed3ba(0x1f8)]['forEach'](_0x185bab=>{const _0x54e550=_0x1ed3ba;_0x1683d6[_0x54e550(0x270)]({'coin':_0x185bab[_0x54e550(0x22f)],'number':_0x185bab['startnumber'],'price':_0x185bab['startprice']}),delete _0x185bab[_0x54e550(0x23c)],delete _0x185bab[_0x54e550(0x239)];});if(_0x1683d6['length']!==0x0)fs[_0x1ed3ba(0x1e3)](configbackuppath+('starting-balance-'+botID+_0x1ed3ba(0x28d)),JSON[_0x1ed3ba(0x1ea)](_0x1683d6,null,0x4),function(_0x34ff7c){if(_0x34ff7c){}});const _0x1ba35a=(_0x344218,_0x5c411a)=>{const _0x4c460f=_0x1ed3ba;let _0x343195=[];_0x5c411a[_0x4c460f(0x266)](_0x10e5d9=>{const _0x298490=_0x4c460f,_0x58d9d1=_0x344218['find'](_0x4e4d59=>_0x4e4d59['coin']==_0x10e5d9['coin']);if(!_0x58d9d1)_0x343195[_0x298490(0x270)](_0x10e5d9);});let _0x55d6e2=[];return _0x344218[_0x4c460f(0x266)](_0x8cca1f=>{const _0x5ee0ef=_0x4c460f,_0x1aa6ff=_0x5c411a['find'](_0x22bd33=>_0x22bd33[_0x5ee0ef(0x22f)]==_0x8cca1f[_0x5ee0ef(0x22f)]);if(!_0x1aa6ff||_0x1aa6ff['number']==0x0&&_0x8cca1f[_0x5ee0ef(0x189)]!=0x0)_0x55d6e2[_0x5ee0ef(0x270)](_0x8cca1f);}),{'missingDay1':_0x343195,'notInDay2':_0x55d6e2};},_0x49df6a=dbPerformance[_0x1ed3ba(0x21f)](_0x1ed3ba(0x2dd))[_0x1ed3ba(0x2d5)]()[_0x1ed3ba(0x2c6)]();if(_0x49df6a[_0x1ed3ba(0x181)]>0x1){const {missingDay1:_0x358310,notInDay2:_0x42f4ed}=_0x1ba35a(_0x1683d6,_0x49df6a[0x1][_0x1ed3ba(0x206)]);_0x1683d6=[..._0x1683d6,..._0x358310],_0x42f4ed['forEach'](_0x10d40f=>{const _0x4044dc=_0x1ed3ba;let _0x55fd6a=_0x1683d6['findIndex'](_0x38264f=>_0x38264f[_0x4044dc(0x22f)]==_0x10d40f[_0x4044dc(0x22f)]);_0x55fd6a!=-0x1&&_0x1683d6[_0x4044dc(0x1b9)](_0x55fd6a,0x1);});}_0x1683d6[_0x1ed3ba(0x2c0)]((_0x315ea8,_0x6e4d86)=>_0x315ea8['coin']>_0x6e4d86['coin']?0x1:_0x6e4d86[_0x1ed3ba(0x22f)]>_0x315ea8[_0x1ed3ba(0x22f)]?-0x1:0x0);let _0x36bd8f=[{'date':_0x2db26d[_0x1ed3ba(0x22a)],'changes':_0x1683d6}];_0x49df6a[_0x1ed3ba(0x181)]>0x2&&_0x49df6a[_0x1ed3ba(0x266)]((_0x111d11,_0x427720)=>{const _0x3c7f99=_0x1ed3ba;if(_0x427720>0x0&&_0x427720<_0x49df6a[_0x3c7f99(0x181)]-0x1){const {missingDay1:_0x501f21,notInDay2:_0x2547a3}=_0x1ba35a(_0x49df6a[_0x427720][_0x3c7f99(0x206)],_0x49df6a[_0x427720+0x1][_0x3c7f99(0x206)]);_0x1683d6=[],(_0x501f21['length']!=0x0||_0x2547a3[_0x3c7f99(0x181)]!=0x0)&&(_0x501f21['length']!=0x0&&_0x1683d6[_0x3c7f99(0x270)](..._0x501f21),_0x2547a3[_0x3c7f99(0x181)]!=0x0&&(_0x2547a3[_0x3c7f99(0x266)](_0x3a142a=>{const _0x428440=_0x3c7f99;_0x3a142a[_0x428440(0x189)]=-_0x3a142a[_0x428440(0x189)];}),_0x1683d6[_0x3c7f99(0x270)](..._0x2547a3)),_0x1683d6[_0x3c7f99(0x2c0)]((_0x619912,_0x374151)=>_0x619912[_0x3c7f99(0x22f)]>_0x374151[_0x3c7f99(0x22f)]?0x1:_0x374151[_0x3c7f99(0x22f)]>_0x619912['coin']?-0x1:0x0),_0x36bd8f[_0x3c7f99(0x270)]({'date':_0x49df6a[_0x427720+0x1][_0x3c7f99(0x295)],'changes':_0x1683d6}));}}),dbConfig[_0x1ed3ba(0x21f)](_0x1ed3ba(0x228))[_0x1ed3ba(0x2a3)]({'botID':botID})[_0x1ed3ba(0x21d)]({..._0x2db26d,'liquidity':_0x36bd8f})['write']();}}config=getConfiguration(botID);let _0x52de50=dbPerformance[_0x1ed3ba(0x21f)]('version')[_0x1ed3ba(0x2c6)]();_0x52de50!=_0x1ed3ba(0x25b)&&(dbPerformance[_0x1ed3ba(0x218)](_0x1ed3ba(0x2cd),_0x1ed3ba(0x25b))[_0x1ed3ba(0x201)](),setStartDatePerformance());let _0x434341=dbCoinResults[_0x1ed3ba(0x21f)]('version')['value']();if(_0x434341!=_0x1ed3ba(0x1d2)){dbCoinResults[_0x1ed3ba(0x218)](_0x1ed3ba(0x2cd),_0x1ed3ba(0x1d2))[_0x1ed3ba(0x201)]();let _0x255a2a=dbCoinResults[_0x1ed3ba(0x21f)]('coins')[_0x1ed3ba(0x2c6)]();if(_0x255a2a[_0x1ed3ba(0x181)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x235ca0){const _0x576d04=_0x369f78;let _0x30a14c=dbConfig[_0x576d04(0x21f)](_0x576d04(0x228))[_0x576d04(0x2a3)]({'botID':_0x235ca0})[_0x576d04(0x2c6)]();if(_0x30a14c){let _0xf75c8b=![];typeof _0x30a14c[_0x576d04(0x268)]==_0x576d04(0x1ef)&&(_0x30a14c={..._0x30a14c,'threshold':Number(_0x30a14c[_0x576d04(0x268)])},_0xf75c8b=!![]),_0x30a14c[_0x576d04(0x2da)]==null&&(_0x30a14c={..._0x30a14c,'change24h':-0x14},_0xf75c8b=!![]),_0xf75c8b&&(_0x30a14c={'botID':_0x30a14c[_0x576d04(0x26e)],'exchange':_0x30a14c['exchange'],'apiKey':_0x30a14c[_0x576d04(0x2a2)],'apiSecret':_0x30a14c['apiSecret'],'basecoin':_0x30a14c[_0x576d04(0x2a7)],'botname':_0x30a14c[_0x576d04(0x271)],'showname':_0x30a14c[_0x576d04(0x242)],'threshold':_0x30a14c[_0x576d04(0x268)],'ordertype':_0x30a14c['ordertype'],'timeout':_0x30a14c[_0x576d04(0x299)],'startdate':_0x30a14c[_0x576d04(0x22a)],'recreate':_0x30a14c[_0x576d04(0x1d1)],'timeshift':_0x30a14c[_0x576d04(0x23e)],'headless':_0x30a14c[_0x576d04(0x29e)],'cooldown':_0x30a14c[_0x576d04(0x194)],'change24h':_0x30a14c[_0x576d04(0x2da)],'emojibuy':_0x30a14c[_0x576d04(0x275)],'emojisell':_0x30a14c[_0x576d04(0x241)],'portfolio':_0x30a14c[_0x576d04(0x1f8)],'liquidity':_0x30a14c[_0x576d04(0x262)]},dbConfig[_0x576d04(0x21f)]('bot')[_0x576d04(0x250)]()[_0x576d04(0x201)](),dbConfig[_0x576d04(0x21f)](_0x576d04(0x228))[_0x576d04(0x270)](_0x30a14c)['write']());}else _0x30a14c={'botID':_0x235ca0,'exchange':_0x576d04(0x2c2),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x576d04(0x2cb)+_0x235ca0,'showname':![],'threshold':0x3,'ordertype':_0x576d04(0x215),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x30a14c;}function emittedConfiguration(){const _0x3b7c90=_0x369f78;let _0x898a2e;if(config[_0x3b7c90(0x2a2)]=='')_0x898a2e={...config,'configstate':_0x3b7c90(0x230)};else config[_0x3b7c90(0x2a2)]==_0x3b7c90(0x294)?_0x898a2e={...config,'configstate':_0x3b7c90(0x2ae)}:_0x898a2e={...config,'apiKey':'************','apiSecret':_0x3b7c90(0x2d2)};return _0x898a2e;}function getSettings(){const _0x46b68a=_0x369f78;return dbSettings[_0x46b68a(0x21f)](_0x46b68a(0x229))[_0x46b68a(0x2c6)]();}function getSecure(){const _0x3fd54d=_0x369f78;return dbSecure['get'](_0x3fd54d(0x258))['value']()||{};}function updateTimeshift(_0x31e8f3){const _0x2e3f31=_0x369f78;let _0x255704=dbConfig[_0x2e3f31(0x21f)](_0x2e3f31(0x228))[_0x2e3f31(0x2a3)]({'botID':botID})['value']();_0x255704&&dbConfig[_0x2e3f31(0x21f)](_0x2e3f31(0x228))[_0x2e3f31(0x2a3)]({'botID':botID})[_0x2e3f31(0x21d)]({'timeshift':_0x31e8f3})[_0x2e3f31(0x201)](),config[_0x2e3f31(0x23e)]=_0x31e8f3,proxyEmit(_0x2e3f31(0x197),emittedConfiguration());}async function storeConfiguration(_0x549e38){const _0x4f628c=_0x369f78;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x480f5a=dbConfig[_0x4f628c(0x21f)]('bot')[_0x4f628c(0x2a3)]({'botID':botID})['value']();_0x549e38={..._0x549e38,'apiKey':crypt[_0x4f628c(0x1ec)](secure[_0x4f628c(0x2d3)],_0x549e38[_0x4f628c(0x2a2)])[_0x4f628c(0x2a5)],'apiSecret':crypt[_0x4f628c(0x1ec)](secure['privateKey'],_0x549e38[_0x4f628c(0x22c)])['message']};if(_0x480f5a){if(_0x549e38['apiKey']==_0x4f628c(0x2d2))_0x549e38[_0x4f628c(0x2a2)]=config['apiKey'];if(_0x549e38['apiSecret']==_0x4f628c(0x2d2))_0x549e38[_0x4f628c(0x22c)]=config[_0x4f628c(0x22c)];dbConfig[_0x4f628c(0x21f)](_0x4f628c(0x228))[_0x4f628c(0x2a3)]({'botID':botID})[_0x4f628c(0x21d)](_0x549e38)[_0x4f628c(0x201)]();}else dbConfig['get'](_0x4f628c(0x228))[_0x4f628c(0x270)](_0x549e38)['write'](),process[_0x4f628c(0x232)]({'status':_0x4f628c(0x203),'live':'running'},_0x391d12=>{});config={..._0x549e38},setStartDatePerformance(),process[_0x4f628c(0x232)]({'botname':_0x549e38[_0x4f628c(0x271)]},_0x399e60=>{}),updateBotManager();const _0xad1a2a=getNormalizedPerformance();getStartingBalances(_0xad1a2a),emitPerformance(_0xad1a2a),proxyEmit(_0x4f628c(0x1a8)),await initCoinResults(),reset();}async function storeHeadless(_0x55d313){const _0x4543ee=_0x369f78,_0xcef25={...config,'headless':_0x55d313[_0x4543ee(0x29e)]};let _0x31be3d=dbConfig[_0x4543ee(0x21f)](_0x4543ee(0x228))[_0x4543ee(0x2a3)]({'botID':botID})['value']();_0x31be3d&&dbConfig[_0x4543ee(0x21f)]('bot')[_0x4543ee(0x2a3)]({'botID':botID})['assign'](_0xcef25)[_0x4543ee(0x201)](),config={..._0xcef25},updateBotManager(),proxyEmit(_0x4543ee(0x197),emittedConfiguration());}function noslash(_0x1a9615){return _0x1a9615['replace']('/','');}async function updateNumberCoins(_0x370441){const _0x689d2e=_0x369f78;if(_0x370441[_0x689d2e(0x283)]&&_0x370441[_0x689d2e(0x283)]==_0x689d2e(0x1da)){logger['debug'](_0x689d2e(0x190)+_0x370441[_0x689d2e(0x192)]+'\x20|\x20'+_0x370441[_0x689d2e(0x2aa)]+_0x689d2e(0x24d)+_0x370441[_0x689d2e(0x285)]+'\x20|\x20'+_0x370441[_0x689d2e(0x1b2)]);let _0x3c8a45=_0x370441[_0x689d2e(0x2aa)],_0x59f7cd=![];currentCoins[_0x689d2e(0x266)](_0x44b098=>{const _0x126953=_0x689d2e;noslash(_0x44b098[_0x126953(0x192)])==_0x370441[_0x126953(0x192)]&&(_0x59f7cd=!![]);});if(!_0x59f7cd)return;const _0x250f84=currentCoins['find'](_0x3e0286=>noslash(_0x3e0286['symbol'])==_0x370441[_0x689d2e(0x192)]),_0x4f8512=_0x53c075=>{const _0x4af17f=_0x689d2e;if(_0x250f84)_0x250f84[_0x4af17f(0x1c1)]=_0x53c075;};if(_0x3c8a45=='NEW')_0x4f8512('open');else{if(_0x3c8a45==_0x689d2e(0x20b))_0x4f8512(_0x689d2e(0x1c2)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x3c8a45==_0x689d2e(0x1db)){logger[_0x689d2e(0x235)](_0x689d2e(0x20a)+_0x370441[_0x689d2e(0x192)]+_0x689d2e(0x24d)+_0x370441[_0x689d2e(0x1a1)]+_0x689d2e(0x24d)+_0x370441[_0x689d2e(0x285)]+_0x689d2e(0x24d)+_0x370441[_0x689d2e(0x1b2)]);let _0x61ae4=![];if(lastOrders)lastOrders[_0x689d2e(0x266)](async _0x1ed32c=>{const _0x2588c4=_0x689d2e;if(_0x1ed32c['customId']==_0x370441[_0x2588c4(0x1b2)]){logger[_0x2588c4(0x235)](_0x2588c4(0x1bd)+_0x370441[_0x2588c4(0x1b2)]),_0x61ae4=!![];if(_0x1ed32c[_0x2588c4(0x207)]==0x0){logger[_0x2588c4(0x235)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x370441['newClientOrderId']),_0x1ed32c[_0x2588c4(0x1e8)]=_0x370441[_0x2588c4(0x257)]/_0x370441[_0x2588c4(0x1a1)],_0x1ed32c['filled']=_0x370441[_0x2588c4(0x1a1)],_0x1ed32c['fee']={'cost':_0x370441[_0x2588c4(0x19f)],'currency':_0x370441[_0x2588c4(0x272)]},_0x4f8512('filled'),await validateOrders();if(lockOrders==ORDERS[_0x2588c4(0x2c1)])currentCoins=await getCoins();await updateCoinResults(_0x1ed32c);}}});!_0x61ae4&&(logger['debug'](_0x689d2e(0x204)+_0x370441[_0x689d2e(0x285)]),_0x4f8512(_0x689d2e(0x207)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x4117b8=JSON[_0x689d2e(0x24f)](lastBalances[_0x689d2e(0x1f8)]);const _0x59ee95=_0x4117b8['find'](_0x5a198c=>noslash(_0x5a198c[_0x689d2e(0x192)])==_0x370441['symbol']);if(_0x59ee95){if(_0x3c8a45==_0x689d2e(0x249))_0x59ee95[_0x689d2e(0x1c1)]=_0x59ee95[_0x689d2e(0x1c1)]==_0x689d2e(0x207)?_0x689d2e(0x207):_0x689d2e(0x198);else{if(_0x3c8a45=='CANCELED')_0x59ee95[_0x689d2e(0x1c1)]=_0x59ee95[_0x689d2e(0x1c1)]==_0x689d2e(0x207)?'filled':_0x689d2e(0x1c2);else _0x3c8a45==_0x689d2e(0x1db)&&(_0x59ee95[_0x689d2e(0x1c1)]=_0x689d2e(0x207));}}lastBalances={...lastBalances,'portfolio':JSON[_0x689d2e(0x1ea)](_0x4117b8)},proxyEmit(_0x689d2e(0x2e1),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x140000=![],_0x3f8404=!![],_0x545bc9=config[_0x369f78(0x2a7)]){const _0x2905b4=_0x369f78;let _0x3a29f7,_0x15e0ff=[],_0x48ac8e=[],_0x45d693=[];try{_0x3a29f7=await exchange[_0x2905b4(0x216)](),mybalances=_0x3a29f7['total'];if(!_0x3f8404)for(const [_0x47412f,_0x44b0a9]of Object[_0x2905b4(0x2a9)](mybalances)){_0x45d693[_0x2905b4(0x270)](_0x47412f);}else config[_0x2905b4(0x1f8)][_0x2905b4(0x266)](_0x4eb2cc=>{const _0x1e2994=_0x2905b4;if(!_0x4eb2cc[_0x1e2994(0x182)])_0x45d693['push'](_0x4eb2cc[_0x1e2994(0x22f)]);});if(_0x545bc9=='')for(const [_0x241858,_0x229c56]of Object[_0x2905b4(0x2a9)](mybalances)){_0x229c56['toString']()!=0x0&&_0x48ac8e[_0x2905b4(0x270)]({'coin':_0x241858});}else{if(_0x140000)await getOpenOrders();let _0x53e407=![];for(const [_0x57e14c,_0x51bbac]of Object[_0x2905b4(0x2a9)](mybalances)){if(_0x45d693[_0x2905b4(0x234)](_0x57e14c)){const _0xf3d1fa=config[_0x2905b4(0x1f8)][_0x2905b4(0x2a3)](_0x360875=>_0x360875[_0x2905b4(0x22f)]==_0x57e14c),_0x33c6d5=_0x57e14c+'/'+_0x545bc9,_0x581df8=_0x545bc9+'/'+_0x57e14c,_0x699ee=currentCoins[_0x2905b4(0x2a3)](_0xd3dba7=>_0xd3dba7[_0x2905b4(0x22f)]==_0x57e14c);_0x53e407=![];_0x140000&&(_0x53e407=allOpenOrders[_0x2905b4(0x2a3)](_0x4c8836=>_0x4c8836['symbol']==_0xf3d1fa['symbol']));if((_0x51bbac[_0x2905b4(0x17e)]()!=0x0||_0xf3d1fa)&&(allSymbols[_0x2905b4(0x234)](_0x33c6d5)||_0x57e14c==_0x545bc9))_0x57e14c!=_0x545bc9&&_0x15e0ff[_0x2905b4(0x270)](_0x33c6d5),_0x48ac8e[_0x2905b4(0x270)]({'coin':_0x57e14c,'symbol':_0x33c6d5,'reverse':![],'number':Math[_0x2905b4(0x1a7)](_0x51bbac+(_0xf3d1fa&&_0xf3d1fa['offset']||0x0),0x0),'orderstatus':_0x140000?_0x53e407?_0x2905b4(0x198):_0x2905b4(0x1f5):_0x699ee?_0x699ee['orderstatus']:_0x2905b4(0x1f5)});else(_0x51bbac[_0x2905b4(0x17e)]()!=0x0||_0xf3d1fa)&&allSymbols[_0x2905b4(0x234)](_0x581df8)&&(_0x57e14c!=_0x545bc9&&_0x15e0ff[_0x2905b4(0x270)](_0x581df8),_0x48ac8e[_0x2905b4(0x270)]({'coin':_0x57e14c,'symbol':_0x581df8,'reverse':!![],'number':Math[_0x2905b4(0x1a7)](_0x51bbac+(_0xf3d1fa&&_0xf3d1fa[_0x2905b4(0x184)]||0x0),0x0),'orderstatus':_0x140000?_0x53e407?_0x2905b4(0x198):_0x2905b4(0x1f5):_0x699ee?_0x699ee['orderstatus']:'none'}));}}}}catch(_0x35e29e){if(!_0x3f8404)handleErrorNoStop(_0x35e29e,_0x2905b4(0x199));else await handleError(_0x35e29e,'getCoins()');}return _0x48ac8e;}async function getCoinNumber(_0x353fb0){const _0x36ff7e=_0x369f78;let _0x107422;try{const _0x18ef6c=await exchange['fetchBalance']();_0x107422=_0x18ef6c[_0x36ff7e(0x1e1)][_0x353fb0];}catch(_0x5d2929){await handleError(_0x5d2929,'getCoinNumber()');}return _0x107422;}async function getOpenOrders(){const _0x20350f=_0x369f78;let _0x25a8cc;allOpenOrders=[];try{for(const _0x191198 of config[_0x20350f(0x1f8)]){!_0x191198[_0x20350f(0x182)]&&_0x191198[_0x20350f(0x22f)]!=config['basecoin']&&(_0x25a8cc=await exchange['fetchOpenOrders'](_0x191198['symbol']),_0x25a8cc['length']>0x0&&allOpenOrders[_0x20350f(0x270)](_0x25a8cc[0x0]));}}catch(_0x2978b1){await handleError(_0x2978b1,_0x20350f(0x1ff));}}async function handleOpenOrders(_0x100533=0x0){const _0x3b7b9c=_0x369f78;allOpenOrders[_0x3b7b9c(0x181)]==0x0&&lockOrders==ORDERS[_0x3b7b9c(0x2c1)]&&allOrdersPlaced&&(_0x100533==0x0?(logger[_0x3b7b9c(0x235)]('1\x20-\x20Handle\x20open\x20orders'),_0x100533++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3b7b9c(0x235)](_0x3b7b9c(0x1d9)),validateOrders(_0x3b7b9c(0x2d6))));}async function getPortfolio(_0x2e1a91){const _0x25513f=_0x369f78;let _0x148c22=[],_0x3a3429=[],_0x1ca36b,_0x3b8d16=[],_0x382ce6,_0x510c9d;_0x2e1a91['apiKey']===_0x25513f(0x2d2)||_0x2e1a91['apiSecret']===_0x25513f(0x2d2)?(_0x382ce6=config[_0x25513f(0x2a2)],_0x510c9d=config['apiSecret']):(_0x382ce6=_0x2e1a91[_0x25513f(0x2a2)],_0x510c9d=_0x2e1a91[_0x25513f(0x22c)]);await initExchange(_0x382ce6,_0x510c9d);let _0x130536=![];try{_0x130536=await loadSymbols();}catch(_0x8845b){_0x130536=![],handleErrorNoStop(_0x8845b,_0x25513f(0x26d));}if(_0x130536){_0x3b8d16=await getCoins(![],![],_0x2e1a91[_0x25513f(0x2a7)]);if(_0x3b8d16===![])proxyEmit(_0x25513f(0x1f8),![]);else{if(_0x2e1a91['basecoin']=='')proxyEmit(_0x25513f(0x1f8),_0x3b8d16);else{_0x3b8d16['forEach'](_0x5f4be6=>{const _0x2cf531=_0x25513f;if(_0x5f4be6[_0x2cf531(0x22f)]!=_0x2e1a91[_0x2cf531(0x2a7)])_0x148c22[_0x2cf531(0x270)](_0x5f4be6[_0x2cf531(0x192)]);});try{_0x3a3429=await exchange[_0x25513f(0x260)](_0x148c22);}catch(_0x2e9884){await handleError(_0x2e9884,_0x25513f(0x18f));}_0x3b8d16[_0x25513f(0x266)](_0x335a41=>{const _0x21bb2c=_0x25513f;_0x335a41[_0x21bb2c(0x22f)]!=_0x2e1a91[_0x21bb2c(0x2a7)]?_0x1ca36b=_0x335a41[_0x21bb2c(0x296)]?0x1/_0x3a3429[_0x335a41[_0x21bb2c(0x192)]][_0x21bb2c(0x1a5)]:_0x3a3429[_0x335a41[_0x21bb2c(0x192)]][_0x21bb2c(0x1a5)]:_0x1ca36b=0x1,_0x335a41[_0x21bb2c(0x1e8)]=formatResult(_0x1ca36b,0x8);}),proxyEmit('portfolio',_0x3b8d16);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x221d06){const _0x43dacf=_0x369f78;let _0x3c66ff=!![];const _0x1315d6=!_0x221d06['reverse']?markets[_0x221d06['symbol']][_0x43dacf(0x263)][_0x43dacf(0x1b6)][_0x43dacf(0x1f3)]:markets[_0x221d06[_0x43dacf(0x192)]][_0x43dacf(0x263)]['cost'][_0x43dacf(0x1f3)],_0x4bea6b=!_0x221d06[_0x43dacf(0x296)]?markets[_0x221d06[_0x43dacf(0x192)]][_0x43dacf(0x263)][_0x43dacf(0x1fb)][_0x43dacf(0x1f3)]:markets[_0x221d06['symbol']][_0x43dacf(0x263)][_0x43dacf(0x1b6)]['min'],_0x1cbf33=markets[_0x221d06[_0x43dacf(0x192)]]['precision'][_0x43dacf(0x1b6)];_0x221d06[_0x43dacf(0x1c8)]=formatResultTruncate(_0x221d06[_0x43dacf(0x1c8)],_0x1cbf33);if(Math[_0x43dacf(0x1e5)](_0x221d06[_0x43dacf(0x1c8)])<_0x1315d6)_0x3c66ff=![];if(Math[_0x43dacf(0x1e5)](_0x221d06['trade'])*_0x221d06[_0x43dacf(0x1a5)]<_0x4bea6b)_0x3c66ff=![];if(_0x221d06['side']==_0x43dacf(0x2be)){let _0x1e140e=config[_0x43dacf(0x1f8)][_0x43dacf(0x2a3)](_0x98caa7=>_0x98caa7[_0x43dacf(0x22f)]==_0x221d06[_0x43dacf(0x22f)]);if(_0x1e140e['offset']>0x0){if(Math[_0x43dacf(0x1e5)](_0x221d06['trade'])>_0x221d06[_0x43dacf(0x189)]-_0x1e140e[_0x43dacf(0x184)])_0x3c66ff=![];}else{if(Math[_0x43dacf(0x1e5)](_0x221d06[_0x43dacf(0x1c8)])>_0x221d06[_0x43dacf(0x189)])_0x3c66ff=![];}}if(_0x221d06[_0x43dacf(0x226)]==_0x43dacf(0x253)){let _0x5882dd=config[_0x43dacf(0x1f8)][_0x43dacf(0x2a3)](_0x925514=>_0x925514['coin']==config[_0x43dacf(0x2a7)]),_0x3de159=currentCoins[_0x43dacf(0x2a3)](_0x1c47bf=>_0x1c47bf[_0x43dacf(0x22f)]==config['basecoin']);if(_0x5882dd['offset']>0x0){if(Math[_0x43dacf(0x1e5)](_0x221d06[_0x43dacf(0x1c8)])*_0x221d06['last']>_0x3de159['number']-_0x5882dd[_0x43dacf(0x184)])_0x3c66ff=![];}else{if(Math['abs'](_0x221d06['trade'])*_0x221d06[_0x43dacf(0x1a5)]>_0x3de159[_0x43dacf(0x189)])_0x3c66ff=![];}}return _0x3c66ff;}function _0x5d87(){const _0x70a7c8=['target','emojibuy','NANO/','Limit\x20(low-margin)','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','formattedMessage','net-fiat','-------------------------------\x0a','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','limit-high','options','format','ordertype','argv','HOT/EUR','eventType','UNLOCKED','orderId','getFullYear','Binance\x20API\x20secret\x20is\x20invalid','18CLXgfq','Unknown\x20error\x20occured','initclient','Binance\x20not\x20available\x20(2)','getSeconds','.json','concat','type','Limit\x20(high-margin)','364232BscaOT','balancing\x20resumed','4244650QPGFqV','***','date','reverse','/USDT','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','timeout','lowdb','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','getDate','-results.json','headless','slice','\x20minutes','Binance\x20API\x20blocked','apiKey','find','cancelOrder','message','round','basecoin','19439ADkHmT','entries','orderStatus','_events','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','sendPortfolioTelegram','recovery','priceChangePercent','full','cancelLoading','<pre>','freeze','recreateCoinResults()',',\x20must\x20be\x20a\x203\x20digit\x20number','exchange','DAI/','getFiat()','final','Net\x20effect\x20(','yyyy/MM/dd','keys','./version.json','sell','1\x20-\x20Validate\x20orders:\x20','sort','LOCKED','binance','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','event','getHours','value','ticker','kill','82153PSZPSu','remainingSymbols','Bot\x20','search','version','leftTxt','sells','OrderNotFound','time','************','privateKey','replace','cloneDeep','no\x20open\x20orders','log','existsSync','constructor','change24h','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','ongoing','data','./config/','mkdirSync','3016hxwkrx','balances','warning','toString','parseISO','YOYOW/','length','excluded','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','offset','ORDERS.LOCKED','binanceus','has','progress','number','lowdb/adapters/FileSync','api_secret','sha256','InvalidNonce','initws()','getPortfolio()','0\x20-\x20EXECUTION:\x20','sortBy','symbol','fee','cooldown','WebSockets(','Executed\x20','configuration','open','getCoins()','\x20hour','placeOrder','add','date-fns','success','commission','AuthenticationError','accumulatedQuantity','RequestTimeout','-events.json','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','last','change','max','configuration-stored','map','Binance\x20not\x20available\x20(1)','\x20:\x20','6690XGNLfg','limit','No\x20more\x20open\x20orders\x20-\x20','-config.json','join','API-key\x20format\x20invalid','newClientOrderId','Error:\x20Invalid\x20argument\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','amount','ExchangeNotAvailable','\x20order:\x20','splice','\x20portfolio:</b>\x20\x0a\x0a','ORDERS.UNLOCKING','fromCodePoint','2\x20-\x20FILLED\x20known\x20order:\x20','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','BTC','delta','orderstatus','canceled','bb-secure.json','util','toFixed','hybrid-crypto-js','valid','trade','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','9Mlyznk','createOrder','storeHeadless','subscribeSymbol24hrTicker','getPortfolio','order','USDT','recreate','2.5.0','</pre>','usd','%\x20\x0a','padStart','bid','bot-','2\x20-\x20Handled\x20open\x20orders','executionReport','FILLED','changes','wsKey','BUSD','rightTxt','Crypt','total','./logs/','writeFile','defaults','abs','RSA-OAEP','5884632TljLms','price','emitHistory','stringify','exit','decrypt','fiat','21572265llUkEB','string','spot','Order(s)\x20validated\x20-\x20','coin-loading-progress','min','function','none','BNB','close','portfolio','performance','timestamp','cost','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','buys','\x20minutes\x20-\x20','getOpenOrders()','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','write','split','enabled','2\x20-\x20FILLED\x20unknown\x20order:\x20','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','coins','filled','InsufficientFunds','page','1\x20-\x20FILLED:\x20','CANCELED','2\x20-\x20Orders\x20unlocked','XEM/BUSD','BNB/','filter','args','getStartingBalances','restart','\x20|\x20Binance\x20API\x20secret\x20invalid','Pausing\x20for\x20','market','fetchBalance','differenceInSeconds','set','api_key','distribution','error','indexOf','assign','Order\x20amount\x20is\x20invalid:\x20','get','logs',')\x20|\x20Error\x20details:\x20','ETH','datetime','Order(s)\x20filled\x20-\x20','loadMarkets','side','breakeven','bot','settings','startdate','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','apiSecret','currency','\x20orders\x20in\x20less\x20than\x20','coin','initial','<b>','send','deleteHistoryAlerts','includes','debug','getMonth','\x20has\x20a\x2024h\x20drop\x20of\x20','Order\x20filled:\x20','startprice','reconnected','openOrders','startnumber','isArray','timeshift','ORDERS.UNLOCKED',':\x20Bot\x20','emojisell','showname','userData','yyyy-MM-dd\x27T\x27HH:mm:ss','getMinutes','event-history','net-basecoin','\x20>\x20','NEW','eur','HOT/BTC','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20|\x20','netoffset','parse','remove','Net\x20effect','\x20>\x20[DEBUG]\x20','buy','EUR','11934KPetPb','Net\x20','cumulativeQuoteAssetTransactedQty','secure','\x20|\x20lock\x20orders:\x20','bb-settings.json','2.3.5','starting-balances','wsUrl','2\x20-\x20Validate\x20orders:\x20','milliseconds','fetchTickers','Invalid\x20quantity','liquidity','limits','wss://stream.binance.com:9443','UNLOCKING','forEach','cancel','threshold','1\x20-\x20Unlock\x20orders','wsMarket','getTime','toLowerCase','loadSymbols()','botID','Binance\x20API\x20key\x20is\x20invalid','push','botname','commissionAsset','kline'];_0x5d87=function(){return _0x70a7c8;};return _0x5d87();}async function getBalances(){const _0x3e31e3=_0x369f78;let _0x2ab232=0x0,_0x3baa3d;const _0x276b37=config[_0x3e31e3(0x268)];if(config[_0x3e31e3(0x29e)]&&config[_0x3e31e3(0x2da)]<0x0)await validate24hChanges();currentCoins[_0x3e31e3(0x266)](_0x44694f=>{const _0x2b5b20=_0x3e31e3;if(_0x44694f['coin']!=config[_0x2b5b20(0x2a7)]){let _0x52aaad=global[_0x2b5b20(0x2c7)][noslash(_0x44694f['symbol'])];_0x3baa3d=_0x44694f[_0x2b5b20(0x296)]?0x1/_0x52aaad:_0x52aaad;}else _0x3baa3d=0x1;let _0x8d7e7=_0x44694f['number']*_0x3baa3d;_0x2ab232+=_0x8d7e7,_0x44694f[_0x2b5b20(0x1a5)]=formatResult(Number(_0x3baa3d),0x8),_0x44694f[_0x2b5b20(0x2c6)]=_0x8d7e7;}),currentCoins[_0x3e31e3(0x266)](_0x1969b0=>{const _0xe25041=_0x3e31e3;let _0x51999f=config[_0xe25041(0x1f8)][_0xe25041(0x2a3)](_0x5c311c=>_0x5c311c[_0xe25041(0x22f)]==_0x1969b0[_0xe25041(0x22f)]),_0x255302=Number(_0x51999f[_0xe25041(0x21a)]),_0x4635b0=_0x1969b0[_0xe25041(0x2c6)]/_0x2ab232*0x64,_0x1c5543=_0x255302*_0x2ab232/0x64/_0x1969b0[_0xe25041(0x1a5)]-_0x1969b0[_0xe25041(0x189)];_0x1969b0[_0xe25041(0x21a)]=formatResult(_0x4635b0,0x3),_0x1969b0[_0xe25041(0x274)]=formatResult(_0x255302,0x3),_0x1969b0[_0xe25041(0x1c8)]=formatResult(_0x1c5543,0x8),_0x1969b0[_0xe25041(0x226)]='',_0x1969b0[_0xe25041(0x1c7)]=![];if(_0x1969b0[_0xe25041(0x22f)]!=config[_0xe25041(0x2a7)]){if(_0x1969b0[_0xe25041(0x21a)]>_0x255302)_0x1969b0[_0xe25041(0x226)]=_0xe25041(0x2be),_0x1969b0['valid']=checkMinimums(_0x1969b0);else _0x1969b0[_0xe25041(0x21a)]<_0x255302&&(_0x1969b0['side']=_0xe25041(0x253),_0x1969b0['valid']=checkMinimums(_0x1969b0));}_0x1969b0[_0xe25041(0x1c0)]=_0x1969b0[_0xe25041(0x21a)]/_0x1969b0['target']-0x1;if(_0x1969b0[_0xe25041(0x1c1)]==_0xe25041(0x207)||_0x1969b0[_0xe25041(0x1c1)]=='canceled')_0x1969b0[_0xe25041(0x1c1)]='none';}),currentCoins['sort']((_0x55b435,_0x338619)=>_0x55b435['delta']<_0x338619['delta']?0x1:_0x338619['delta']<_0x55b435[_0x3e31e3(0x1c0)]?-0x1:0x0);const _0x18eac2=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x18eac2[_0x3e31e3(0x24a)],'usd':_0x18eac2[_0x3e31e3(0x1d4)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x276b37},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x276b37});else{if(lockOrders==ORDERS[_0x3e31e3(0x284)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x276b37});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x17ee93=_0x369f78;if(!lastBalances)return;let _0x1e23c3=[],_0x42d608,_0x3a095f=JSON[_0x17ee93(0x24f)](lastBalances[_0x17ee93(0x1f8)]);_0x3a095f['sort']((_0x3424ed,_0x3dbfd0)=>_0x3424ed[_0x17ee93(0x22f)]>_0x3dbfd0['coin']?0x1:_0x3dbfd0[_0x17ee93(0x22f)]>_0x3424ed['coin']?-0x1:0x0),_0x3a095f[_0x17ee93(0x266)](_0x310c4e=>{const _0x20fb88=_0x17ee93;let _0x192979={'coin':_0x310c4e[_0x20fb88(0x22f)],'number':_0x310c4e[_0x20fb88(0x189)],'price':_0x310c4e['last']};_0x1e23c3['push'](_0x192979);});const _0x2babd6=await getFiat();_0x42d608={'date':lastBalances['time'][_0x17ee93(0x202)]('\x20')[0x0],'eur':_0x2babd6[_0x17ee93(0x24a)],'usd':_0x2babd6[_0x17ee93(0x1d4)],'coins':_0x1e23c3};let _0x59903e=dbPerformance[_0x17ee93(0x21f)](_0x17ee93(0x2dd))[_0x17ee93(0x2a3)]({'date':_0x42d608[_0x17ee93(0x295)]})[_0x17ee93(0x2c6)]();_0x59903e?_0x42d608[_0x17ee93(0x295)]!=config[_0x17ee93(0x22a)]&&dbPerformance[_0x17ee93(0x21f)]('data')[_0x17ee93(0x2a3)]({'date':_0x42d608[_0x17ee93(0x295)]})[_0x17ee93(0x21d)](_0x42d608)[_0x17ee93(0x201)]():dbPerformance[_0x17ee93(0x21f)]('data')[_0x17ee93(0x270)](_0x42d608)[_0x17ee93(0x201)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3ab8ec=_0x369f78;let _0x3420fd=[];if(dbPerformance['has'](_0x3ab8ec(0x2dd))[_0x3ab8ec(0x2c6)]()){let _0x1fb906=dbPerformance[_0x3ab8ec(0x21f)](_0x3ab8ec(0x2dd))[_0x3ab8ec(0x2d5)]()[_0x3ab8ec(0x191)](_0x3ab8ec(0x295))[_0x3ab8ec(0x2c6)](),_0x46d04f=[...config[_0x3ab8ec(0x262)]];_0x46d04f[_0x3ab8ec(0x2c0)]((_0x5c7cb6,_0x1049f8)=>_0x5c7cb6[_0x3ab8ec(0x295)]>_0x1049f8[_0x3ab8ec(0x295)]?-0x1:_0x1049f8[_0x3ab8ec(0x295)]>_0x5c7cb6['date']?0x1:0x0);let _0x758ecb=0x1,_0x3df111=[],_0x45eb81=0x0;_0x1fb906['slice']()[_0x3ab8ec(0x296)]()[_0x3ab8ec(0x266)]((_0x5d8314,_0x27907e)=>{const _0xcb37f8=_0x3ab8ec;if(_0x46d04f[_0x45eb81]){if(_0x1fb906[_0x1fb906['length']-_0x27907e]&&_0x46d04f[_0x45eb81][_0xcb37f8(0x295)]==_0x1fb906[_0x1fb906[_0xcb37f8(0x181)]-_0x27907e]['date']){if(_0x27907e<_0x1fb906[_0xcb37f8(0x181)]){let _0xcdd3e0=0x0,_0x5a986b=0x0;_0x1fb906[_0x1fb906[_0xcb37f8(0x181)]-_0x27907e]['coins'][_0xcb37f8(0x266)](_0x56cc9f=>{const _0xd1a2e3=_0xcb37f8;_0x5a986b+=_0x56cc9f[_0xd1a2e3(0x189)]*_0x56cc9f['price'];}),_0x46d04f[_0x45eb81][_0xcb37f8(0x1dc)][_0xcb37f8(0x266)](_0x3f6de4=>{const _0x1072bf=_0xcb37f8;_0xcdd3e0+=_0x3f6de4[_0x1072bf(0x189)]*_0x3f6de4[_0x1072bf(0x1e8)];}),_0x758ecb*=_0xcdd3e0/(_0x5a986b-_0xcdd3e0)+0x1;}_0x45eb81++;}}let _0x420cb5=0x0;_0x5d8314[_0xcb37f8(0x206)][_0xcb37f8(0x266)](_0x22b0f8=>{const _0x340dc9=_0xcb37f8;_0x420cb5+=_0x22b0f8[_0x340dc9(0x189)]*_0x22b0f8[_0x340dc9(0x1e8)];}),_0x3df111[_0x1fb906[_0xcb37f8(0x181)]-_0x27907e-0x1]=_0x420cb5*(_0x758ecb-0x1);});let _0x4375e1=[];_0x46d04f=[...config[_0x3ab8ec(0x262)]]||[];let _0xc744d1=0x0;_0x45eb81=0x0,_0x1fb906[_0x3ab8ec(0x266)]((_0x15ab20,_0x40df2b)=>{const _0xf6e19c=_0x3ab8ec;if(_0x46d04f[_0x45eb81]){const _0x258dad=fns[_0xf6e19c(0x24f)](_0x46d04f[_0x45eb81]['date'],'yyyy/MM/dd',new Date()),_0x49e70f=fns['parse'](_0x15ab20['date'],_0xf6e19c(0x2bb),new Date());if(fns['isEqual'](_0x258dad,_0x49e70f)){let _0xc6b018=0x0;_0x46d04f[_0x45eb81][_0xf6e19c(0x1dc)][_0xf6e19c(0x266)](_0x1f4747=>{const _0x191ff8=_0xf6e19c;!_0x4375e1[_0x1f4747[_0x191ff8(0x22f)]]?_0x4375e1[_0x1f4747[_0x191ff8(0x22f)]]=_0x1f4747[_0x191ff8(0x189)]:(_0xc6b018=_0x4375e1[_0x1f4747[_0x191ff8(0x22f)]],_0x4375e1[_0x1f4747[_0x191ff8(0x22f)]]+=_0x1f4747['number']);const _0x3f00e6=_0x15ab20[_0x191ff8(0x206)][_0x191ff8(0x2a3)](_0x52c4a3=>_0x52c4a3[_0x191ff8(0x22f)]==_0x1f4747[_0x191ff8(0x22f)]);(!_0x3f00e6||_0x3f00e6[_0x191ff8(0x189)]==0x0)&&(_0xc744d1+=(-_0x1f4747[_0x191ff8(0x189)]-_0xc6b018)*_0x1f4747[_0x191ff8(0x1e8)]);}),_0x45eb81++;}}_0x15ab20[_0xf6e19c(0x206)][_0xf6e19c(0x266)]((_0x1eee9a,_0x41d2da)=>{const _0x24293a=_0xf6e19c;_0x4375e1[_0x1eee9a['coin']]&&(_0x1eee9a={..._0x1eee9a,'initial':_0x4375e1[_0x1eee9a[_0x24293a(0x22f)]]}),_0x15ab20['coins'][_0x41d2da]=_0x1eee9a;}),_0x3420fd[_0xf6e19c(0x270)]({'date':_0x15ab20[_0xf6e19c(0x295)],'eur':_0x15ab20[_0xf6e19c(0x24a)],'usd':_0x15ab20[_0xf6e19c(0x1d4)],'offset':_0x3df111[_0x40df2b],'netoffset':_0xc744d1,'coins':_0x15ab20[_0xf6e19c(0x206)]});});}return _0x3420fd;}function emitPerformance(_0x2f2ca4){const _0x33256b=_0x369f78;_0x2f2ca4[_0x33256b(0x181)]!==0x0?(proxyEmit(_0x33256b(0x1f9),_0x2f2ca4),lastPerformanceEmitted=getDate()):proxyEmit(_0x33256b(0x1f9),[]);}function getPerf(_0x1cc65f,_0x3779d1){const _0x1f2724=_0x369f78;let _0xb083d1=0x0,_0x2d7500=0x0,_0x281d6e=0x0;_0x1cc65f[_0x1f2724(0x206)][_0x1f2724(0x266)](_0x375028=>{const _0x2749b8=_0x1f2724;_0xb083d1+=_0x375028[_0x2749b8(0x189)]*_0x375028['price'];});_0x3779d1&&(_0xb083d1+=_0x1cc65f[_0x1f2724(0x184)]);if(config['basecoin']===_0x1f2724(0x1bf)||config[_0x1f2724(0x2a7)]===_0x1f2724(0x222))_0x2d7500=_0xb083d1*_0x1cc65f[_0x1f2724(0x24a)],_0x281d6e=_0xb083d1*_0x1cc65f[_0x1f2724(0x1d4)];else{if(config[_0x1f2724(0x2a7)]===_0x1f2724(0x1de)||config['basecoin']===_0x1f2724(0x1d0))_0x2d7500=_0xb083d1*_0x1cc65f[_0x1f2724(0x24a)]/_0x1cc65f[_0x1f2724(0x1d4)],_0x281d6e=_0xb083d1;else config[_0x1f2724(0x2a7)]===_0x1f2724(0x254)&&(_0x2d7500=_0xb083d1,_0x281d6e=_0xb083d1*_0x1cc65f[_0x1f2724(0x1d4)]/_0x1cc65f['eur']);}return[_0xb083d1,_0x2d7500,_0x281d6e];}function getKPIs(_0x3a0253,_0x3f32f5='EUR'){const _0x1e5dac=_0x369f78,_0x232ade=config[_0x1e5dac(0x2a7)],_0x5eeb7c=config[_0x1e5dac(0x2e1)],_0x19ce93=currentCoins,_0x120113=getNormalizedPerformance(),_0x2c4a22=_0x3a0253===_0x1e5dac(0x2a7)?_0x232ade:_0x3a0253===_0x1e5dac(0x1ed)||_0x3a0253===_0x1e5dac(0x27a)?_0x3f32f5:_0x1e5dac(0x256)+_0x232ade,_0x4283c1=_0x3a0253===_0x1e5dac(0x247)?'Net\x20effect':_0x3a0253===_0x1e5dac(0x27a)?_0x1e5dac(0x2ba)+_0x2c4a22+')':_0x2c4a22+'\x20value',_0x1a17c2=_0x3a0253===_0x1e5dac(0x247)||_0x3a0253===_0x1e5dac(0x27a)?_0x1e5dac(0x251):_0x2c4a22+'\x20change';let _0x6cd2bb=0x0;_0x19ce93[_0x1e5dac(0x266)](_0x1ced3f=>{const _0x1bc067=_0x1e5dac;_0x6cd2bb+=_0x1ced3f[_0x1bc067(0x189)]*_0x1ced3f[_0x1bc067(0x1a5)];});if(_0x3a0253==='fiat'||_0x3a0253===_0x1e5dac(0x27a)){if(_0x232ade==='BTC'||_0x232ade==='ETH')_0x6cd2bb=_0x6cd2bb*(_0x3f32f5===_0x1e5dac(0x254)?_0x5eeb7c[_0x1e5dac(0x24a)]:_0x5eeb7c[_0x1e5dac(0x1d4)]);else{if(_0x232ade===_0x1e5dac(0x1de)||_0x232ade===_0x1e5dac(0x1d0))_0x6cd2bb=_0x6cd2bb*(_0x3f32f5===_0x1e5dac(0x254)?_0x5eeb7c[_0x1e5dac(0x24a)]/_0x5eeb7c[_0x1e5dac(0x1d4)]:0x1);else _0x232ade===_0x1e5dac(0x254)&&(_0x6cd2bb=_0x6cd2bb*(_0x3f32f5==='EUR'?0x1:_0x5eeb7c[_0x1e5dac(0x1d4)]/_0x5eeb7c[_0x1e5dac(0x24a)]));}}let _0x2a400c;if(_0x6cd2bb!==0x0){if(_0x3a0253===_0x1e5dac(0x2a7))_0x2a400c=(_0x6cd2bb/startingBalances['basecoin']-0x1)*0x64;else{if(_0x3f32f5==='EUR')_0x2a400c=(_0x6cd2bb/startingBalances[_0x1e5dac(0x24a)]-0x1)*0x64;else _0x2a400c=(_0x6cd2bb/startingBalances[_0x1e5dac(0x1d4)]-0x1)*0x64;}let _0xdea70f=0x0;if(startingBalances['coins'])_0x19ce93[_0x1e5dac(0x266)](_0x509058=>{const _0x4828ac=_0x1e5dac;let _0x5a942c=startingBalances[_0x4828ac(0x206)][_0x4828ac(0x2a3)](_0x146aa8=>_0x146aa8['coin']===_0x509058['coin']);if(_0x5a942c&&_0x5a942c[_0x4828ac(0x22f)]&&_0x509058[_0x4828ac(0x189)]!==0x0)_0xdea70f+=_0x5a942c['number']*_0x509058[_0x4828ac(0x1a5)];});let _0x35770c=0x0;if(_0x120113[_0x1e5dac(0x181)]!==0x0){let _0x4bdd04=_0x120113[_0x120113[_0x1e5dac(0x181)]-0x1];_0x35770c=_0x4bdd04[_0x1e5dac(0x24e)];}_0xdea70f-=_0x35770c;_0x3a0253===_0x1e5dac(0x247)&&(_0x2a400c=(_0x6cd2bb-_0xdea70f)/startingBalances[_0x1e5dac(0x2a7)]*0x64,_0x6cd2bb=_0x6cd2bb-_0xdea70f);if(_0x3a0253===_0x1e5dac(0x27a)){let _0x5d02cf=_0x3f32f5===_0x1e5dac(0x254)?startingBalances[_0x1e5dac(0x24a)]:startingBalances[_0x1e5dac(0x1d4)];if(_0x232ade===_0x1e5dac(0x1bf)||_0x232ade==='ETH')_0xdea70f=_0x3f32f5===_0x1e5dac(0x254)?_0xdea70f*_0x5eeb7c[_0x1e5dac(0x24a)]:_0xdea70f*_0x5eeb7c[_0x1e5dac(0x1d4)];else{if(_0x232ade===_0x1e5dac(0x1de)||_0x232ade===_0x1e5dac(0x1d0))_0xdea70f=_0x3f32f5==='EUR'?_0xdea70f*_0x5eeb7c[_0x1e5dac(0x24a)]/_0x5eeb7c['usd']:_0xdea70f;else _0x232ade===_0x1e5dac(0x254)&&(_0xdea70f=_0x3f32f5===_0x1e5dac(0x254)?_0xdea70f:_0xdea70f*_0x5eeb7c[_0x1e5dac(0x1d4)]/_0x5eeb7c[_0x1e5dac(0x24a)]);}_0x2a400c=(_0x6cd2bb-_0xdea70f)/_0x5d02cf*0x64,_0x6cd2bb=_0x6cd2bb-_0xdea70f;}if(_0x2a400c){if(_0x2a400c<0x64)_0x2a400c=_0x2a400c[_0x1e5dac(0x1c5)](0x2);else{if(_0x2a400c<0x3e8)_0x2a400c=_0x2a400c[_0x1e5dac(0x1c5)](0x1);else _0x2a400c=_0x2a400c[_0x1e5dac(0x1c5)](0x0);}}else _0x2a400c=Number('0')['toFixed'](0x2);if(_0x6cd2bb){if(Math[_0x1e5dac(0x1e5)](_0x6cd2bb)<0.000001)_0x6cd2bb=_0x6cd2bb[_0x1e5dac(0x1c5)](0x2);else{if(Math[_0x1e5dac(0x1e5)](_0x6cd2bb)<0.1)_0x6cd2bb=_0x6cd2bb[_0x1e5dac(0x1c5)](0x6);else{if(Math['abs'](_0x6cd2bb)<0x1)_0x6cd2bb=_0x6cd2bb[_0x1e5dac(0x1c5)](0x5);else{if(Math[_0x1e5dac(0x1e5)](_0x6cd2bb)<0xa)_0x6cd2bb=_0x6cd2bb[_0x1e5dac(0x1c5)](0x4);else{if(Math[_0x1e5dac(0x1e5)](_0x6cd2bb)<0x64)_0x6cd2bb=_0x6cd2bb['toFixed'](0x3);else{if(Math[_0x1e5dac(0x1e5)](_0x6cd2bb)<0x3e8)_0x6cd2bb=_0x6cd2bb[_0x1e5dac(0x1c5)](0x2);else _0x6cd2bb=_0x6cd2bb[_0x1e5dac(0x1c5)](0x2);}}}}}}else _0x6cd2bb=Number('0')['toFixed'](0x2);}else _0x2a400c=Number('0')[_0x1e5dac(0x1c5)](0x2);return{'value':_0x6cd2bb,'change':_0x2a400c,'leftTxt':_0x4283c1,'rightTxt':_0x1a17c2};}async function getStartingBalances(_0x188a33,_0x581337=!![]){const _0x966901=_0x369f78;if(_0x188a33[_0x966901(0x181)]!==0x0){const [_0x5a8b2f,_0x388c49,_0x3a2ee2]=getPerf(_0x188a33[0x0],!![]);let _0x21508e=[];config[_0x966901(0x1f8)][_0x966901(0x266)](_0x17c3e8=>{const _0x126310=_0x966901;let _0x5d8a60=0x0,_0x44679c;config['liquidity'][_0x126310(0x266)](_0x3b60e7=>{const _0x21d60e=_0x126310;let _0x4dc326=_0x3b60e7[_0x21d60e(0x1dc)][_0x21d60e(0x2a3)](_0x296360=>_0x296360[_0x21d60e(0x22f)]==_0x17c3e8['coin']);if(_0x4dc326){_0x5d8a60+=_0x4dc326[_0x21d60e(0x189)];if(!_0x44679c)_0x44679c=_0x4dc326[_0x21d60e(0x1e8)];}}),_0x21508e[_0x126310(0x270)]({'coin':_0x17c3e8[_0x126310(0x22f)],'number':_0x5d8a60,'initialprice':_0x44679c});});const _0xa1ced1={'basecoin':_0x5a8b2f,'eur':_0x388c49,'usd':_0x3a2ee2,'coins':_0x21508e};if(_0x581337)proxyEmit(_0x966901(0x25c),_0xa1ced1);startingBalances=_0xa1ced1;}}function headlessMode(_0x554fb4){const _0x19070d=_0x369f78;let _0x1c1e1f=_0x554fb4['portfolio'],_0x143718=_0x554fb4[_0x19070d(0x268)],_0x56cbe8=[];for(let _0x2ef67f of _0x1c1e1f){if(_0x2ef67f[_0x19070d(0x22f)]!=config[_0x19070d(0x2a7)]){if(_0x2ef67f[_0x19070d(0x1c0)]>=_0x143718/0x64){if(_0x2ef67f[_0x19070d(0x1c7)])_0x56cbe8[_0x19070d(0x270)](_0x2ef67f);}else{if(_0x2ef67f['delta']<=-_0x143718/0x64){if(_0x2ef67f[_0x19070d(0x1c7)])_0x56cbe8[_0x19070d(0x270)](_0x2ef67f);}}}}_0x56cbe8['length']>0x0&&placeOrder(_0x56cbe8);}function notifyBalance(_0x19a3bb){const _0xb18f82=_0x369f78;let _0x2c64f7=_0x19a3bb['portfolio'],_0x209fee=_0x19a3bb[_0xb18f82(0x268)],_0x1cd164=[];for(let _0x4e92a5 of _0x2c64f7){if(_0x4e92a5[_0xb18f82(0x22f)]!=config[_0xb18f82(0x2a7)]){if(_0x4e92a5['delta']>=_0x209fee/0x64){if(_0x4e92a5['valid'])_0x1cd164[_0xb18f82(0x270)](_0x4e92a5);}else{if(_0x4e92a5[_0xb18f82(0x1c0)]<=-_0x209fee/0x64){if(_0x4e92a5[_0xb18f82(0x1c7)])_0x1cd164[_0xb18f82(0x270)](_0x4e92a5);}}}}if(_0x1cd164[_0xb18f82(0x181)]>0x0){let _0x2aadd3=_0x1cd164[_0xb18f82(0x1a9)](_0x5958d8=>_0x5958d8[_0xb18f82(0x22f)]);_0x2aadd3['sort']();let _0x4bfa6e=_0x2aadd3[_0xb18f82(0x1b0)](',\x20');if(!lastCoinsToBalance)logHistory(_0xb18f82(0x2e2),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x4bfa6e;}}function symbolToCoin(_0x3105eb){const _0x5ad3bc=_0x369f78;let _0x288cfb;if(_0x3105eb[_0x5ad3bc(0x234)]('/'+config[_0x5ad3bc(0x2a7)]))_0x288cfb=_0x3105eb[_0x5ad3bc(0x2d4)]('/'+config[_0x5ad3bc(0x2a7)],'');if(_0x3105eb[_0x5ad3bc(0x234)](config['basecoin']+'/'))_0x288cfb=_0x3105eb['replace'](config['basecoin']+'/','');return _0x288cfb;}async function unlockOrders(){const _0x151760=_0x369f78;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x151760(0x235)](_0x151760(0x269)),lockOrders=ORDERS[_0x151760(0x265)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x151760(0x230),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger['debug'](_0x151760(0x20c));}}async function validateOrders(_0x2181d5){const _0x368ae5=_0x369f78;if(_0x2181d5)validateOrdersState=_0x2181d5;logger[_0x368ae5(0x235)](_0x368ae5(0x2bf)+validateOrdersState+_0x368ae5(0x259)+(lockOrders==0x1?_0x368ae5(0x185):lockOrders==0x2?_0x368ae5(0x1bb):_0x368ae5(0x23f)));let _0x3fdbd8=[],_0x36d9b8=config[_0x368ae5(0x280)]==_0x368ae5(0x215)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x368ae5(0x299)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x368ae5(0x2c1)])return;logger[_0x368ae5(0x235)](_0x368ae5(0x25e)+validateOrdersState),lastOrders[_0x368ae5(0x266)](_0x2312db=>{const _0x242d4e=_0x368ae5;let _0x505c91=![];_0x2312db[_0x242d4e(0x207)]>0x0&&(_0x505c91=!![]),_0x3fdbd8[_0x242d4e(0x270)](_0x505c91),_0x505c91&&config['ordertype']!=_0x242d4e(0x215)&&logHistory(_0x242d4e(0x1cf),_0x242d4e(0x238)+_0x2312db[_0x242d4e(0x192)]+'\x20'+_0x2312db[_0x242d4e(0x226)]+'\x20#'+formatResult(_0x2312db['filled'],0x8)+'\x20@'+formatResult(_0x2312db[_0x242d4e(0x1e8)],0x8));}),_0x3fdbd8[_0x368ae5(0x266)]((_0x1134ae,_0x37a8bb)=>{const _0x77950a=_0x368ae5;if(_0x1134ae)lastOrders[_0x77950a(0x1b9)](_0x37a8bb,0x1);}),persistOpenOrders(lastOrders);const _0x1853b8=coolingDown?_0x368ae5(0x24c):_0x368ae5(0x292);if(validateOrdersState==_0x368ae5(0x230))validateOrdersState='ongoing',_0x3fdbd8['includes'](![])?config['ordertype']==_0x368ae5(0x215)?logHistory('warning',_0x368ae5(0x1be)):logHistory(_0x368ae5(0x2e2),_0x368ae5(0x278)):await unlockOrders();else{if(validateOrdersState==_0x368ae5(0x2dc)){if(_0x3fdbd8['includes'](![])){}else allOrdersPlaced&&(config[_0x368ae5(0x280)]==_0x368ae5(0x215)?logHistory('success',_0x368ae5(0x1f1)+_0x1853b8):logHistory('success',_0x368ae5(0x224)+_0x1853b8),await unlockOrders());}else{if(validateOrdersState==_0x368ae5(0x2b9))_0x3fdbd8[_0x368ae5(0x234)](![])&&(config[_0x368ae5(0x280)]==_0x368ae5(0x215)?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math[_0x368ae5(0x2a6)](_0x36d9b8*validateOrderInterval/0xea60)+_0x368ae5(0x1fe)+_0x1853b8):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x368ae5(0x2a6)](_0x36d9b8*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1853b8))),await unlockOrders();else{if(validateOrdersState==_0x368ae5(0x2d6)){if(config[_0x368ae5(0x280)]!='market')logHistory(_0x368ae5(0x19e),_0x368ae5(0x1ae)+_0x1853b8);await unlockOrders();}}}}}async function cancelOrders(){const _0x400b8d=_0x369f78;lastOrders[_0x400b8d(0x266)](async _0x2f835d=>{const _0x22fa1f=_0x400b8d;try{const _0x11ee95=await exchange[_0x22fa1f(0x2a4)](_0x2f835d[_0x22fa1f(0x285)],_0x2f835d[_0x22fa1f(0x192)]);}catch(_0x21a74c){if(_0x21a74c['toString']()['includes'](_0x22fa1f(0x2d0))){}else await handleError(_0x21a74c,'cancelOrders()');}});}async function initCoinResults(){const _0x221d28=_0x369f78;let _0xd99a02=[];config['portfolio']['forEach'](_0x190d96=>{const _0xc9a696=_0x56f7;if(!_0x190d96[_0xc9a696(0x182)]&&_0x190d96['coin']!=config[_0xc9a696(0x2a7)]){let _0x549155=dbCoinResults[_0xc9a696(0x21f)]('coins')['find']({'coin':_0x190d96['coin']})['value']();if(!_0x549155){const _0x2a0a23=currentCoins[_0xc9a696(0x2a3)](_0x4facac=>_0x4facac[_0xc9a696(0x22f)]==_0x190d96[_0xc9a696(0x22f)]),_0x3cf977=global[_0xc9a696(0x2c7)][noslash(_0x190d96['symbol'])];let _0x6e642d=_0x2a0a23?_0x2a0a23[_0xc9a696(0x189)]:null,_0x55ec11=_0x190d96[_0xc9a696(0x296)]?0x1/_0x3cf977:_0x3cf977,_0x516a7e;config[_0xc9a696(0x262)][_0xc9a696(0x266)](_0x4248f8=>{const _0x327805=_0xc9a696;!_0x516a7e&&(_0x516a7e=_0x4248f8[_0x327805(0x1dc)][_0x327805(0x2a3)](_0x7c9321=>_0x7c9321['coin']==_0x190d96[_0x327805(0x22f)]),_0x516a7e&&(_0x6e642d=_0x516a7e[_0x327805(0x189)],_0x55ec11=_0x516a7e[_0x327805(0x1e8)]));}),_0xd99a02[_0xc9a696(0x270)]({'coin':_0x190d96[_0xc9a696(0x22f)],'number':_0x6e642d,'price':_0x55ec11});}}}),_0xd99a02[_0x221d28(0x266)](_0x446d99=>{const _0x2ac181=_0x221d28,_0x159bfc={'coin':_0x446d99[_0x2ac181(0x22f)],'number':_0x446d99['number'],'breakeven':_0x446d99[_0x2ac181(0x1e8)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2ac181(0x21f)](_0x2ac181(0x206))[_0x2ac181(0x270)](_0x159bfc)[_0x2ac181(0x201)]();});}async function updateCoinResults(_0x144643,_0x2d5503=![]){const _0x335eff=_0x369f78;let _0x580c3b,_0xd59a2a,_0x3de73f,_0x3fa96f,_0x255dbc,_0x553f65,_0x3559f1=dbCoinResults[_0x335eff(0x21f)](_0x335eff(0x206))[_0x335eff(0x2a3)]({'coin':_0x144643[_0x335eff(0x22f)]})[_0x335eff(0x2c6)]();!_0x3559f1&&await initCoinResults();_0x144643[_0x335eff(0x296)]&&(_0x553f65={'filled':_0x144643['filled']*_0x144643['price'],'amount':_0x144643[_0x335eff(0x207)]*_0x144643[_0x335eff(0x1e8)],'side':_0x144643[_0x335eff(0x226)]==_0x335eff(0x2be)?'buy':_0x335eff(0x2be),'price':0x1/_0x144643[_0x335eff(0x1e8)]},_0x144643={..._0x144643,..._0x553f65});_0x2d5503?_0xd59a2a=_0x144643['side']=='buy'?_0x3559f1[_0x335eff(0x189)]+_0x144643[_0x335eff(0x207)]:_0x3559f1['number']-_0x144643[_0x335eff(0x207)]:_0xd59a2a=await getCoinNumber(_0x144643[_0x335eff(0x22f)]);if(_0x144643[_0x335eff(0x193)]&&_0x144643[_0x335eff(0x193)]['currency']==config[_0x335eff(0x2a7)])_0x580c3b=_0x144643[_0x335eff(0x193)][_0x335eff(0x1fb)];else{if(_0x144643['fee']&&_0x144643[_0x335eff(0x193)][_0x335eff(0x22d)]=='BNB'&&!_0x2d5503)_0x580c3b=_0x144643[_0x335eff(0x193)][_0x335eff(0x1fb)]*global['ticker'][_0x335eff(0x1f6)+config['basecoin']];else _0x580c3b=defaultFee*_0x144643[_0x335eff(0x207)]*_0x144643[_0x335eff(0x1e8)];}_0x144643['side']==_0x335eff(0x253)?(_0x3de73f=_0xd59a2a!=0x0?(_0x3559f1[_0x335eff(0x227)]*_0x3559f1[_0x335eff(0x189)]+_0x144643[_0x335eff(0x1e8)]*(_0xd59a2a-_0x3559f1[_0x335eff(0x189)])+_0x580c3b)/_0xd59a2a:0x0,_0x3fa96f=_0x3559f1['realized']):(_0x3de73f=_0xd59a2a!=0x0?(_0x3559f1[_0x335eff(0x227)]*_0x3559f1['number']-_0x144643[_0x335eff(0x1e8)]*(_0x3559f1[_0x335eff(0x189)]-_0xd59a2a)+_0x580c3b)/_0xd59a2a:0x0,_0x3fa96f=_0x3559f1['realized']+(_0x144643[_0x335eff(0x1e8)]-_0x3559f1[_0x335eff(0x227)])*_0x144643['filled']);_0x255dbc=(_0x144643['price']-_0x3de73f-_0x580c3b/_0x144643[_0x335eff(0x207)])*_0xd59a2a;let _0xb2d17c={'coin':_0x144643[_0x335eff(0x22f)],'number':_0xd59a2a,'breakeven':formatResult(_0x3de73f,0x8),'realized':formatResult(_0x3fa96f,0x8),'unrealized':formatResult(_0x255dbc,0x8),'fees':formatResult(_0x3559f1['fees']+_0x580c3b,0x8),'sells':_0x144643[_0x335eff(0x226)]==_0x335eff(0x2be)?_0x3559f1[_0x335eff(0x2cf)]+0x1:_0x3559f1['sells'],'buys':_0x144643['side']==_0x335eff(0x253)?_0x3559f1[_0x335eff(0x1fd)]+0x1:_0x3559f1[_0x335eff(0x1fd)]};dbCoinResults[_0x335eff(0x21f)]('coins')[_0x335eff(0x2a3)]({'coin':_0x144643['coin']})[_0x335eff(0x21d)](_0xb2d17c)['write']();if(!_0x2d5503){if(_0x144643[_0x335eff(0x193)]&&_0x144643[_0x335eff(0x193)][_0x335eff(0x22d)]==_0x335eff(0x1f6)){const _0x44f9fa=currentCoins[_0x335eff(0x2a3)](_0x5590e2=>_0x5590e2[_0x335eff(0x22f)]==_0x335eff(0x1f6));if(_0x44f9fa){let _0xf2463c=dbCoinResults[_0x335eff(0x21f)]('coins')['find']({'coin':_0x335eff(0x1f6)})[_0x335eff(0x2c6)]();_0xb2d17c={..._0xf2463c,'number':_0x44f9fa[_0x335eff(0x189)]},dbCoinResults['get'](_0x335eff(0x206))['find']({'coin':_0x335eff(0x1f6)})[_0x335eff(0x21d)](_0xb2d17c)[_0x335eff(0x201)]();}}}}async function placeOrder(_0xcb04eb){const _0x82a872=_0x369f78,_0x37b6f0=config[_0x82a872(0x280)]=='market'?'market':_0x82a872(0x1ad);if(lockOrders==ORDERS[_0x82a872(0x284)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x82a872(0x2c1)],allOrdersPlaced=![],validateOrdersState=_0x82a872(0x230),lastOrders=[];for(const _0x23f832 of _0xcb04eb){let _0x46b602,_0x176903,_0x285fcf,_0x153a78,_0x554a1c,_0xd93c9=_0x23f832['symbol'];try{const _0x4947b7=await exchange[_0x82a872(0x260)]([_0xd93c9]),_0x59bee8=_0x4947b7[_0xd93c9];_0x46b602=_0x23f832['reverse']?0x1/_0x23f832['last']:_0x23f832['last'],_0x176903=_0x59bee8[_0x82a872(0x1d7)],_0x285fcf=_0x59bee8['ask'];_0x23f832[_0x82a872(0x296)]?(_0x153a78=_0x23f832[_0x82a872(0x226)]==_0x82a872(0x253)?_0x82a872(0x2be):_0x82a872(0x253),_0x554a1c=Math[_0x82a872(0x1e5)](_0x23f832['trade'])/_0x46b602):(_0x153a78=_0x23f832[_0x82a872(0x226)],_0x554a1c=Math[_0x82a872(0x1e5)](_0x23f832[_0x82a872(0x1c8)]));_0x37b6f0=='limit'&&(config[_0x82a872(0x280)]==_0x82a872(0x27d)&&(_0x46b602=_0x153a78==_0x82a872(0x253)?_0x176903:_0x285fcf),config['ordertype']=='limit-low'&&(_0x46b602=_0x153a78=='buy'?_0x285fcf:_0x176903));_0x554a1c=formatResult(_0x554a1c,0x8),_0x46b602=formatResult(_0x46b602,0x8);const _0xaa83c1=_0x153a78==_0x82a872(0x2be)?config[_0x82a872(0x241)]?String[_0x82a872(0x1bc)]('0x'+config[_0x82a872(0x241)])+'\x20':'':config[_0x82a872(0x275)]?String[_0x82a872(0x1bc)]('0x'+config[_0x82a872(0x275)])+'\x20':'',_0x5cda1c=_0x37b6f0==_0x82a872(0x215)?'Market':config[_0x82a872(0x280)]==_0x82a872(0x27d)?_0x82a872(0x290):_0x82a872(0x277),_0x566845=new Date()[_0x82a872(0x26b)]()[_0x82a872(0x17e)]()[_0x82a872(0x29f)](-0x6)+'-'+Math['random']()[_0x82a872(0x17e)]()[_0x82a872(0x29f)](-0x6);lastOrders[_0x82a872(0x270)]({'customId':_0x566845,'symbol':_0xd93c9,'coin':_0x23f832['coin'],'side':_0x153a78,'reverse':_0x23f832[_0x82a872(0x296)],'filled':0x0});if(_0x37b6f0=='market')logHistory(_0x82a872(0x1cf),''+_0xaa83c1+_0x5cda1c+'\x20order:\x20'+_0xd93c9+'\x20'+_0x153a78+'\x20#'+formatResult(_0x554a1c,0x8)+'\x20@'+formatResult(_0x46b602,0x8));else logHistory(_0x82a872(0x1cf),''+_0xaa83c1+_0x5cda1c+_0x82a872(0x1b8)+_0xd93c9+'\x20'+_0x153a78+'\x20#'+formatResult(_0x554a1c,0x8)+'\x20@'+formatResult(_0x46b602,0x8));const _0x5295bd=await exchange[_0x82a872(0x1cb)](_0xd93c9,_0x37b6f0,_0x153a78,_0x554a1c,_0x46b602,{'clientOrderId':_0x566845}),_0x5153d4=lastOrders[_0x82a872(0x181)]-0x1;_0x5153d4>=0x0&&lastOrders[_0x5153d4]['customId']==_0x566845&&(lastOrders[_0x5153d4]={...lastOrders[_0x5153d4],'orderId':_0x5295bd['id'],'amount':_0x5295bd[_0x82a872(0x1b6)],'price':_0x5295bd[_0x82a872(0x1e8)],'fee':_0x5295bd[_0x82a872(0x193)]});if(config[_0x82a872(0x194)]!=0x0){let _0x34134d=null;if(cooldownTracker[_0x82a872(0x181)]==config['cooldown']-0x1)_0x34134d=cooldownTracker['shift']();const _0xd02063=getTimeStamp();cooldownTracker[_0x82a872(0x270)](_0xd02063);if(_0x34134d){const _0x2a9e5f=fns[_0x82a872(0x217)](new Date(_0xd02063),new Date(_0x34134d));if(_0x2a9e5f<cooldownInterval){logHistory(_0x82a872(0x21b),_0x82a872(0x196)+config['cooldown']+_0x82a872(0x22e)+cooldownInterval/0x3c+_0x82a872(0x1a4)+cooldownPeriod/(0xe10*0x3e8)+_0x82a872(0x19a)),coolingDown=!![];break;}}}}catch(_0x3df86b){if(_0x3df86b[_0x82a872(0x17e)]()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x5afa83=>_0x5afa83[_0x82a872(0x192)]!=_0xd93c9),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0xd93c9);else _0x3df86b['toString']()[_0x82a872(0x234)](_0x82a872(0x261))?(lastOrders=lastOrders[_0x82a872(0x20f)](_0x48c694=>_0x48c694[_0x82a872(0x192)]!=_0xd93c9),logHistory(_0x82a872(0x21b),_0x82a872(0x21e)+_0xd93c9)):(lastOrders=lastOrders[_0x82a872(0x20f)](_0x5e377f=>_0x5e377f[_0x82a872(0x192)]!=_0xd93c9),await handleError(_0x3df86b,'placeOrder()',_0xd93c9));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x82a872(0x181)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x11c635=config['ordertype']==_0x82a872(0x215)?validateOrderTimeout*0x3c*0x3e8:config[_0x82a872(0x299)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4c341d=_0x82a872;validateOrders(_0x4c341d(0x2b9));},_0x11c635);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x82a872(0x19e),_0x82a872(0x1b4)));}else{if(coolingDown)!config[_0x82a872(0x29e)]&&logHistory('error',_0x82a872(0x2ac));else lockOrders!=ORDERS[_0x82a872(0x284)]&&(!config[_0x82a872(0x29e)]&&(config[_0x82a872(0x280)]==_0x82a872(0x215)?logHistory('error',_0x82a872(0x1c9)):logHistory(_0x82a872(0x21b),_0x82a872(0x183))));}}function persistOpenOrders(_0x12da8a){const _0x356374=_0x369f78,_0x2619f3={...config,'openOrders':_0x12da8a};let _0xbb5f3d=dbConfig[_0x356374(0x21f)](_0x356374(0x228))['find']({'botID':botID})[_0x356374(0x2c6)]();_0xbb5f3d&&dbConfig['get'](_0x356374(0x228))[_0x356374(0x2a3)]({'botID':botID})[_0x356374(0x21d)](_0x2619f3)[_0x356374(0x201)]();}function restoreOrders(){const _0x2398d0=_0x369f78;let _0x2780a4;allOpenOrders[_0x2398d0(0x266)](_0x4fabf3=>{const _0x2f3a98=_0x2398d0,_0x10d8f7=config[_0x2f3a98(0x23b)]['find'](_0x162e54=>_0x162e54[_0x2f3a98(0x285)]==_0x4fabf3['id']);_0x10d8f7&&(lastOrders[_0x2f3a98(0x270)](_0x10d8f7),_0x2780a4=_0x4fabf3[_0x2f3a98(0x1fa)]);});if(lastOrders[_0x2398d0(0x181)]>0x0){lockOrders=ORDERS[_0x2398d0(0x2c1)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x8ea659=new Date()[_0x2398d0(0x26b)](),_0x1f01ba=config[_0x2398d0(0x280)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x2398d0(0x299)]*0x3c*0x3e8;if(_0x2780a4+_0x1f01ba>_0x8ea659){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3093a8=_0x2398d0;validateOrders(_0x3093a8(0x2b9));},_0x2780a4+_0x1f01ba-_0x8ea659);}else validateOrders(_0x2398d0(0x2b9));}}async function sendPortfolioTelegram(){const _0x861434=_0x369f78;if(loading[_0x861434(0x188)]!=0x64){process[_0x861434(0x232)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x4038b7=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x47ff22=['EUR',_0x861434(0x1de),_0x861434(0x1d0)],_0x568875=_0x47ff22[_0x861434(0x234)](config[_0x861434(0x2a7)])?0x2:0x8;let _0x4e26cd='';if(config['showname'])_0x4e26cd=_0x861434(0x231)+config['botname']+_0x861434(0x1ba);else _0x4e26cd='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x2074f8=getKPIs(_0x861434(0x2a7)),_0x5c2532=getKPIs(_0x861434(0x247));_0x4e26cd+=_0x861434(0x2b2),_0x4e26cd+=_0x2074f8[_0x861434(0x2ce)]+_0x861434(0x1ab)+_0x2074f8[_0x861434(0x2c6)]+'\x20\x0a',_0x4e26cd+=_0x2074f8['rightTxt']+':\x20'+_0x2074f8[_0x861434(0x1a6)]+'%\x20\x0a',_0x4e26cd+=_0x5c2532[_0x861434(0x2ce)]+':\x20'+_0x5c2532[_0x861434(0x2c6)]+'\x20'+config['basecoin']+'\x0a',_0x4e26cd+=_0x5c2532[_0x861434(0x1df)]+':\x20'+_0x5c2532[_0x861434(0x1a6)]+_0x861434(0x1d5),_0x4e26cd+='\x0a',_0x4e26cd+=_0x861434(0x27b),_0x4e26cd+=_0x861434(0x1fc),_0x4e26cd+='-------------------------------\x0a',currentCoins[_0x861434(0x266)](_0x4756d1=>{const _0xd50420=_0x861434;_0x4e26cd+=_0x4756d1['coin']['padEnd'](0x7)+'|\x20'+formatPad(_0x4756d1['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x4756d1[_0xd50420(0x274)],0x2,0x6)+'|\x20'+formatPad(_0x4756d1[_0xd50420(0x1c0)]*0x64,0x2,0x6)+'\x0a';}),_0x4e26cd+=_0x861434(0x1d3),process[_0x861434(0x232)]({'telegrammsg':_0x4e26cd},_0x288501=>{});}function formatPad(_0x53472d,_0x1269d0,_0x1c79a6){const _0x3a5601=_0x369f78,_0x4899ab=formatResultString(_0x53472d,_0x1269d0);return _0x4899ab?_0x4899ab['padStart'](_0x1c79a6):''[_0x3a5601(0x1d6)](_0x1c79a6);}function logHistory(_0x314f14,_0xe5e25f,_0x250b18=''){const _0x4151a8=_0x369f78;let _0x125b01={'time':getTimeStamp(),'type':_0x314f14,'event':_0xe5e25f};dbLogs[_0x4151a8(0x21f)](_0x4151a8(0x220))[_0x4151a8(0x270)](_0x125b01)[_0x4151a8(0x201)]();if(_0x250b18=='')_0x250b18=_0xe5e25f;proxyEmit(_0x4151a8(0x2c4),{'log':_0x125b01,'summary':_0x250b18}),process[_0x4151a8(0x232)]({'telegram':{..._0x125b01,'botname':config[_0x4151a8(0x271)],'showname':config[_0x4151a8(0x242)]}},_0x15b430=>{}),logger[_0x4151a8(0x2b0)](''+_0x125b01[_0x4151a8(0x2c4)]);}function emitHistory(_0x509cfa={}){const _0x20a7bf=_0x369f78;Object[_0x20a7bf(0x2bc)](_0x509cfa)[_0x20a7bf(0x181)]==0x0&&(_0x509cfa={'type':[_0x20a7bf(0x1cf),_0x20a7bf(0x2c4)],'event':'','page':0x1});if(_0x509cfa[_0x20a7bf(0x28f)]['includes']('event'))_0x509cfa[_0x20a7bf(0x28f)][_0x20a7bf(0x1b9)](_0x509cfa[_0x20a7bf(0x28f)][_0x20a7bf(0x21c)](_0x20a7bf(0x2c4)),0x1,_0x20a7bf(0x21b),_0x20a7bf(0x19e));if(dbLogs[_0x20a7bf(0x187)]('logs')[_0x20a7bf(0x2c6)]()){let _0x1a6bbe=dbLogs['get']('logs')[_0x20a7bf(0x20f)](_0x373264=>{const _0x116a69=_0x20a7bf;if(_0x509cfa[_0x116a69(0x28f)][_0x116a69(0x181)]==0x0)return![];else return _0x509cfa['type'][_0x116a69(0x234)](_0x373264[_0x116a69(0x28f)]);})[_0x20a7bf(0x20f)](_0x3ef2de=>{const _0x1e2b7a=_0x20a7bf;if(_0x509cfa[_0x1e2b7a(0x2c4)]=='')return!![];else return _0x3ef2de[_0x1e2b7a(0x2c4)][_0x1e2b7a(0x26c)]()[_0x1e2b7a(0x234)](_0x509cfa[_0x1e2b7a(0x2c4)][_0x1e2b7a(0x26c)]());})[_0x20a7bf(0x191)](_0x20a7bf(0x2d1)),_0x444a50=_0x1a6bbe[_0x20a7bf(0x2c6)]()[_0x20a7bf(0x181)];_0x1a6bbe=_0x1a6bbe[_0x20a7bf(0x296)]()[_0x20a7bf(0x29f)]((_0x509cfa[_0x20a7bf(0x209)]-0x1)*logPageSize,_0x509cfa['page']*logPageSize-0x1)[_0x20a7bf(0x296)]()[_0x20a7bf(0x2c6)](),proxyEmit(_0x20a7bf(0x246),{'logs':_0x1a6bbe,'total':_0x444a50});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2e2749){const _0x80504a=_0x369f78;if(dbLogs[_0x80504a(0x187)](_0x80504a(0x220))[_0x80504a(0x2c6)]()){const _0x3ef27b=dbLogs['get'](_0x80504a(0x220))[_0x80504a(0x191)](_0x80504a(0x2d1))['filter'](_0x4a5da4=>{const _0x30632b=_0x80504a;return _0x4a5da4['type']==_0x30632b(0x1cf);})[_0x80504a(0x2c6)]();dbLogs['get'](_0x80504a(0x220))[_0x80504a(0x250)]()[_0x80504a(0x201)](),dbLogs[_0x80504a(0x21f)](_0x80504a(0x220))[_0x80504a(0x21d)](_0x3ef27b)['write'](),emitHistory(_0x2e2749);}}async function pauseBot(_0x1fc201=''){const _0x33a7bf=_0x369f78,_0x3030fe=new Date()[_0x33a7bf(0x26b)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x3030fe-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x33a7bf(0x232)]({'stop':_0x33a7bf(0x212)},_0x4e08c5=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x33a7bf(0x26b)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x1fc201)_0x1fc201+=_0x33a7bf(0x24d);logHistory(_0x33a7bf(0x21b),_0x1fc201+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x33a7bf(0x2a0)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0xc41118=_0x369f78;process[_0xc41118(0x232)]({'stop':_0xc41118(0x2c8)},_0x5e3d91=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1ec7f3,_0x21758c){const _0xa624a7=_0x369f78;if(_0x1ec7f3[_0xa624a7(0x17e)]()[_0xa624a7(0x234)](_0xa624a7(0x1b1)))return logHistory(_0xa624a7(0x21b),_0xa624a7(0x26f)),![];else{if(_0x1ec7f3['toString']()['includes'](_0xa624a7(0x1a0)))return logHistory(_0xa624a7(0x21b),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x1ec7f3[_0xa624a7(0x17e)]()[_0xa624a7(0x234)](_0xa624a7(0x1b5)))return logHistory(_0xa624a7(0x21b),_0xa624a7(0x287)),![];else await handleError(_0x1ec7f3,_0x21758c);}}}async function handleError(_0x557000,_0x202316,_0x1ceb6e=''){const _0x5b4df2=_0x369f78;if(_0x557000['toString']()[_0x5b4df2(0x234)]('DDoSProtection'))await pauseBot(_0x5b4df2(0x2a1));else{if(_0x557000[_0x5b4df2(0x17e)]()[_0x5b4df2(0x234)](_0x5b4df2(0x1b7)))await pauseBot(_0x5b4df2(0x28b));else{if(_0x557000[_0x5b4df2(0x17e)]()[_0x5b4df2(0x234)](_0x5b4df2(0x1a2)))await pauseBot('Binance\x20not\x20responding');else{if(_0x557000['toString']()['includes'](_0x5b4df2(0x1b1)))logHistory(_0x5b4df2(0x21b),_0x202316+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x5b4df2(0x21b),_0x5b4df2(0x200)),await killBot();else{if(_0x557000[_0x5b4df2(0x17e)]()[_0x5b4df2(0x234)](_0x5b4df2(0x1a0)))logHistory(_0x5b4df2(0x21b),_0x202316+_0x5b4df2(0x27c)),logHistory(_0x5b4df2(0x21b),_0x5b4df2(0x200)),await killBot();else{if(_0x557000[_0x5b4df2(0x17e)]()['includes'](_0x5b4df2(0x1b5)))logHistory('error',_0x202316+_0x5b4df2(0x213)),logHistory(_0x5b4df2(0x21b),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x557000[_0x5b4df2(0x17e)]()[_0x5b4df2(0x234)](_0x5b4df2(0x2db)))logHistory(_0x5b4df2(0x21b),_0x202316+_0x5b4df2(0x205)),logHistory('error',_0x5b4df2(0x200)),await killBot();else{if(_0x557000[_0x5b4df2(0x17e)]()[_0x5b4df2(0x234)](_0x5b4df2(0x18d)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x5b4df2(0x232)]({'stop':_0x5b4df2(0x212)},_0x7e16f6=>{});else _0x557000[_0x5b4df2(0x17e)]()[_0x5b4df2(0x234)](_0x5b4df2(0x208))?logHistory('error',_0x202316+_0x5b4df2(0x22b)+_0x1ceb6e):(logger[_0x5b4df2(0x2b0)](_0x202316+'\x20|\x20Error\x20details:\x20',_0x557000),await pauseBot(_0x5b4df2(0x289)));}}}}}}}}function formatResult(_0x2653b5,_0x381a84){return parseFloat(_0x2653b5['toFixed'](_0x381a84));}function formatResultTruncate(_0x532e1d,_0x123597){const _0x4d1332=_0x369f78;let _0x1968b6=formatResultString(_0x532e1d,0xa),_0x58b2a0=_0x1968b6[_0x4d1332(0x21c)]('.');return _0x58b2a0!=-0x1&&(_0x1968b6=_0x1968b6[_0x4d1332(0x29f)](0x0,_0x58b2a0+_0x123597+0x1)),Number(_0x1968b6);}function formatResultString(_0x163944,_0x43cbae){const _0x1dd70a=_0x369f78;let _0x2b1b66;if(!(''+_0x163944)[_0x1dd70a(0x234)]('e'))_0x2b1b66=+(Math[_0x1dd70a(0x2a6)](_0x163944+'e+'+_0x43cbae)+'e-'+_0x43cbae);else{let _0x55b4a9=(''+_0x163944)['split']('e'),_0x87c50f='';+_0x55b4a9[0x1]+_0x43cbae>0x0&&(_0x87c50f='+'),_0x2b1b66=+(Math[_0x1dd70a(0x2a6)](+_0x55b4a9[0x0]+'e'+_0x87c50f+(+_0x55b4a9[0x1]+_0x43cbae))+'e-'+_0x43cbae);}return Number(_0x2b1b66)[_0x1dd70a(0x1c5)](_0x43cbae);}function getServerTime(){const _0xbcc2bf=_0x369f78,_0x33a3c7=new Date();return _0x33a3c7[_0xbcc2bf(0x286)]()+'/'+(_0x33a3c7[_0xbcc2bf(0x236)]()+0x1)[_0xbcc2bf(0x17e)]()['padStart'](0x2,'0')+'/'+_0x33a3c7['getDate']()['toString']()[_0xbcc2bf(0x1d6)](0x2,'0')+'\x20'+_0x33a3c7[_0xbcc2bf(0x2c5)]()[_0xbcc2bf(0x17e)]()[_0xbcc2bf(0x1d6)](0x2,'0')+':'+_0x33a3c7[_0xbcc2bf(0x245)]()[_0xbcc2bf(0x17e)]()['padStart'](0x2,'0')+':'+_0x33a3c7[_0xbcc2bf(0x28c)]()[_0xbcc2bf(0x17e)]()[_0xbcc2bf(0x1d6)](0x2,'0');}function getTimeStamp(){const _0x25febc=_0x369f78,_0x238ec2=shiftedTime();return _0x238ec2[_0x25febc(0x286)]()+'/'+(_0x238ec2[_0x25febc(0x236)]()+0x1)[_0x25febc(0x17e)]()[_0x25febc(0x1d6)](0x2,'0')+'/'+_0x238ec2['getDate']()[_0x25febc(0x17e)]()['padStart'](0x2,'0')+'\x20'+_0x238ec2['getHours']()[_0x25febc(0x17e)]()['padStart'](0x2,'0')+':'+_0x238ec2[_0x25febc(0x245)]()[_0x25febc(0x17e)]()[_0x25febc(0x1d6)](0x2,'0')+':'+_0x238ec2[_0x25febc(0x28c)]()[_0x25febc(0x17e)]()['padStart'](0x2,'0');}function getDate(){const _0x323d3b=_0x369f78,_0x5df83c=shiftedTime();return _0x5df83c[_0x323d3b(0x286)]()+'/'+(_0x5df83c[_0x323d3b(0x236)]()+0x1)[_0x323d3b(0x17e)]()[_0x323d3b(0x1d6)](0x2,'0')+'/'+_0x5df83c[_0x323d3b(0x29c)]()['toString']()[_0x323d3b(0x1d6)](0x2,'0');}function getHour(){const _0x5c40d5=_0x369f78,_0xe0e948=shiftedTime();return _0xe0e948[_0x5c40d5(0x2c5)]()['toString']()[_0x5c40d5(0x1d6)](0x2,'0');}function sleep(_0x5ae079){return new Promise(_0x586238=>setTimeout(_0x586238,_0x5ae079));}function shiftedTime(){const _0x469828=_0x369f78,_0x44884f=new Date();let _0x368344=_0x44884f;if(config&&config['timeshift']!==0x0)_0x368344=fns[_0x469828(0x19c)](_0x44884f,{'hours':config[_0x469828(0x23e)]});return _0x368344;}