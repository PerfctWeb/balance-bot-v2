const _0x37e3a1=_0x2909;(function(_0x4f3ca8,_0x162976){const _0xbd65c4=_0x2909,_0x18b9a9=_0x4f3ca8();while(!![]){try{const _0x148ea4=-parseInt(_0xbd65c4(0x1a5))/0x1*(parseInt(_0xbd65c4(0x24c))/0x2)+-parseInt(_0xbd65c4(0x25a))/0x3*(-parseInt(_0xbd65c4(0x27f))/0x4)+-parseInt(_0xbd65c4(0x21f))/0x5*(parseInt(_0xbd65c4(0x1b5))/0x6)+-parseInt(_0xbd65c4(0x1ac))/0x7+parseInt(_0xbd65c4(0x13e))/0x8+parseInt(_0xbd65c4(0x183))/0x9*(-parseInt(_0xbd65c4(0x247))/0xa)+parseInt(_0xbd65c4(0x1f2))/0xb;if(_0x148ea4===_0x162976)break;else _0x18b9a9['push'](_0x18b9a9['shift']());}catch(_0x288cd4){_0x18b9a9['push'](_0x18b9a9['shift']());}}}(_0x5723,0x258b2));const _0x4c0d1b=function(){let _0x4164ea=!![];return function(_0x3767f9,_0x1d9b45){const _0x113e04=_0x4164ea?function(){const _0x2f9be2=_0x2909;if(_0x1d9b45){const _0x263dd9=_0x1d9b45[_0x2f9be2(0x186)](_0x3767f9,arguments);return _0x1d9b45=null,_0x263dd9;}}:function(){};return _0x4164ea=![],_0x113e04;};}(),_0x29f85e=_0x4c0d1b(this,function(){const _0x41745f=_0x2909;return _0x29f85e['toString']()[_0x41745f(0x217)](_0x41745f(0x211))[_0x41745f(0x139)]()[_0x41745f(0x179)](_0x29f85e)[_0x41745f(0x217)](_0x41745f(0x211));});_0x29f85e();'use strict';const ccxt=require('ccxt'),low=require(_0x37e3a1(0x128)),FileSync=require(_0x37e3a1(0x1db)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x37e3a1(0x199)),Crypt=require('hybrid-crypto-js')[_0x37e3a1(0x1df)],util=require(_0x37e3a1(0x124));let exchange,wsClient;global[_0x37e3a1(0x1ff)]={},global[_0x37e3a1(0x20e)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x37e3a1(0x14b),'HOT/BTC','HOT/EUR',_0x37e3a1(0x267),_0x37e3a1(0x1b2),'YOYOW/'];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x37e3a1(0x19f)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x37e3a1(0x226)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x37e3a1(0x193))['version'],botID=process[_0x37e3a1(0x25f)][0x2]||_0x37e3a1(0x1b6),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x37e3a1(0x129)](_0x37e3a1(0x1ea)+botID+_0x37e3a1(0x1aa)),process[_0x37e3a1(0x1b9)](0x1));const userID=process[_0x37e3a1(0x25f)][0x3]||'',configpath=userID?_0x37e3a1(0x19d)+userID+'/':_0x37e3a1(0x19d),logspath=userID?_0x37e3a1(0x239)+userID+'/':_0x37e3a1(0x239),loggerfile=fs[_0x37e3a1(0x1f1)](logspath+_0x37e3a1(0x143),{'flags':'a'});!fs[_0x37e3a1(0x176)](configpath)&&fs[_0x37e3a1(0x14d)](configpath);!fs[_0x37e3a1(0x176)](logspath)&&fs[_0x37e3a1(0x14d)](logspath);const configfile=configpath+'bot-'+botID+_0x37e3a1(0x146),logfile=configpath+'bot-'+botID+_0x37e3a1(0x177),performancefile=configpath+_0x37e3a1(0x241)+botID+_0x37e3a1(0x21e),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+_0x37e3a1(0x1e6),securefile=configpath+_0x37e3a1(0x19a),configbackuppath=configpath+_0x37e3a1(0x223),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x37e3a1(0x12e)]({'logs':[]})[_0x37e3a1(0x16d)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x37e3a1(0x12e)]({'data':[]})[_0x37e3a1(0x16d)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x37e3a1(0x12e)]({'bot':[]})[_0x37e3a1(0x16d)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x37e3a1(0x12e)]({'coins':[]})[_0x37e3a1(0x16d)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x2b60bc)=>{},'debug':(..._0x4b397a)=>{},'notice':(..._0x57698e)=>{},'info':(..._0x73be97)=>{},'warning':(..._0x7eaab2)=>{},'error':async function(..._0x5460c2){const _0x409aac=_0x37e3a1,_0xa03498=new Date()[_0x409aac(0x232)]();if(!lastErrorShown||_0xa03498-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x32f586='';if(_0x5460c2[0x0])_0x32f586+=_0x5460c2[0x0];if(_0x5460c2[0x1]&&_0x5460c2[0x1]['error']&&_0x5460c2[0x1][_0x409aac(0x1c8)]['message'])_0x32f586+=_0x409aac(0x255)+_0x5460c2[0x1]['error'][_0x409aac(0x278)];logger[_0x409aac(0x15b)](_0x409aac(0x23e)+consecutivePauses+_0x409aac(0x256),''+_0x32f586),await pauseBot(_0x409aac(0x126));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':'sha256','rsaStandard':_0x37e3a1(0x1bc)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x185b09=>{console['log'](_0x185b09);},'simple':_0x17e019=>{const _0xda1821=_0x37e3a1;console[_0xda1821(0x129)](_0x17e019),loggerfile['write'](util[_0xda1821(0x237)](_0x17e019)+'\x0a');},'full':async(_0x36e71c,_0xeb88='')=>{const _0x4e3056=_0x37e3a1;let _0x1e3ec5;if(config[_0x4e3056(0x131)])_0x1e3ec5=getTimeStamp()+':\x20'+config[_0x4e3056(0x258)]+'\x20>\x20'+_0x36e71c;else _0x1e3ec5=getTimeStamp()+_0x4e3056(0x158)+botID+_0x4e3056(0x1b3)+_0x36e71c;console[_0x4e3056(0x129)](_0x1e3ec5),loggerfile['write'](util[_0x4e3056(0x237)](_0x1e3ec5)+'\x0a'),_0xeb88&&(console['log'](_0xeb88),loggerfile[_0x4e3056(0x16d)](util[_0x4e3056(0x237)](_0xeb88)+'\x0a'));}};process['on']('uncaughtException',function(_0x12b4f4){logger['simple'](_0x12b4f4);});settings[_0x37e3a1(0x227)]!=config['timeshift']&&updateTimeshift(settings[_0x37e3a1(0x227)]);process[_0x37e3a1(0x16c)]({'started':_0x37e3a1(0x259)},_0x413aa5=>{}),initializeProcessListeners();function proxyEmit(_0x1366e9,_0x5874ee=null){process['send']({'function':_0x1366e9,'args':_0x5874ee},_0x2cdb09=>{});}function initializeProcessListeners(){const _0x526ee9=_0x37e3a1;process['on'](_0x526ee9(0x278),_0x19a00c=>{const _0x84c29e=_0x526ee9;switch(Object[_0x84c29e(0x15e)](_0x19a00c)[0x0]){case _0x84c29e(0x227):_0x19a00c[_0x84c29e(0x227)]!=undefined&&(settings['timeshift']=_0x19a00c[_0x84c29e(0x227)],updateTimeshift(settings[_0x84c29e(0x227)]));break;case _0x84c29e(0x201):switch(_0x19a00c[_0x84c29e(0x201)]){case _0x84c29e(0x1f0):initclient();break;case _0x84c29e(0x248):toggleBotMode();break;case _0x84c29e(0x17d):emitHistory(_0x19a00c[_0x84c29e(0x190)]);break;case _0x84c29e(0x18f):deleteHistoryAlerts(_0x19a00c[_0x84c29e(0x190)]);break;case _0x84c29e(0x188):getPortfolio(_0x19a00c[_0x84c29e(0x190)]);break;case _0x84c29e(0x24d):storeConfiguration(_0x19a00c[_0x84c29e(0x190)]);break;case _0x84c29e(0x1e8):storeHeadless(_0x19a00c[_0x84c29e(0x190)]);break;case _0x84c29e(0x254):getStartingBalances(getNormalizedPerformance());break;case _0x84c29e(0x1d1):placeOrder(_0x19a00c[_0x84c29e(0x190)]);break;case _0x84c29e(0x20c):cancelLoading();break;case _0x84c29e(0x1cf):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x453b02=_0x37e3a1;if(pidBalances)clearTimeout(pidBalances);if(config[_0x453b02(0x283)]!=''&&config['apiKey']!='***'){await initExchange(config[_0x453b02(0x283)],config[_0x453b02(0x12d)]),await initWsEvents();let _0x51967e=await loadSymbols();if(_0x51967e){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x453b02(0x275)]==0x0&&allOpenOrders[_0x453b02(0x275)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x12ed3f,_0x90cca0){const _0x12e15a=_0x37e3a1,_0x3f5d3f=ccxt[config[_0x12e15a(0x12c)]];let _0x3ba40f;switch(config[_0x12e15a(0x12c)]){case _0x12e15a(0x199):_0x3ba40f=_0x12e15a(0x187);break;case _0x12e15a(0x27e):_0x3ba40f=_0x12e15a(0x194);break;default:_0x3ba40f='wss://stream.binance.com:9443';}exchange=new _0x3f5d3f({'apiKey':_0x12ed3f,'secret':_0x90cca0,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x12e15a(0x220)][_0x12e15a(0x171)]=_0x12ed3f,wsClient[_0x12e15a(0x220)][_0x12e15a(0x1e1)]=_0x90cca0,wsClient['options']['wsUrl']=_0x3ba40f;let _0x58c489=config[_0x12e15a(0x12c)]==_0x12e15a(0x27e)?_0x12e15a(0x279):_0x12e15a(0x123),_0x1d2755=config[_0x12e15a(0x24a)]=='ETH'?'ETH':_0x12e15a(0x137);stablecoins={'eur':{'coin':''+_0x1d2755+_0x58c489,'symbol':_0x1d2755+'/'+_0x58c489},'usd':{'coin':_0x1d2755+_0x12e15a(0x279),'symbol':_0x1d2755+_0x12e15a(0x134)}};}async function initWsEvents(){const _0xf66d9f=_0x37e3a1;!wsClient[_0xf66d9f(0x161)][_0xf66d9f(0x203)]&&wsClient['on']('formattedMessage',_0x327bdb=>{const _0x1b08e0=_0xf66d9f;if(isWsFormattedKline(_0x327bdb)){global['ticker'][_0x327bdb[_0x1b08e0(0x22c)][_0x1b08e0(0x1d2)]]=_0x327bdb['kline'][_0x1b08e0(0x23c)];return;}else{if(isWsFormatted24hrTicker(_0x327bdb)){global[_0x1b08e0(0x20e)][_0x327bdb[_0x1b08e0(0x1d2)]]=_0x327bdb[_0x1b08e0(0x142)];return;}else{if(!Array[_0x1b08e0(0x23a)](_0x327bdb)&&_0x327bdb[_0x1b08e0(0x1bb)][_0x1b08e0(0x27b)](_0x1b08e0(0x181))){if(_0x327bdb[_0x1b08e0(0x144)][_0x1b08e0(0x27b)](_0x1b08e0(0x14a))){updateNumberCoins(_0x327bdb);return;}}}}}),!wsClient[_0xf66d9f(0x161)][_0xf66d9f(0x1e5)]&&wsClient['on'](_0xf66d9f(0x1e5),async _0x32f928=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x15bd98=_0x37e3a1;let _0x39e268;try{markets=await exchange[_0x15bd98(0x172)](),allSymbols=exchange[_0x15bd98(0x151)][_0x15bd98(0x213)](_0x56943e=>{const _0x18d9e2=_0x15bd98;let _0x27c97d=![];return exceptions[_0x18d9e2(0x16b)](_0x421d7a=>{if(_0x56943e['includes'](_0x421d7a))_0x27c97d=!![];}),!_0x27c97d;}),_0x39e268=!![];}catch(_0x1bfb4f){await handleError(_0x1bfb4f,_0x15bd98(0x1a9)),_0x39e268=![];}return _0x39e268;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x55bc65=_0x37e3a1;proxyEmit(_0x55bc65(0x205),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x55bc65(0x238),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x18e7a2=getNormalizedPerformance();emitPerformance(_0x18e7a2),await getStartingBalances(_0x18e7a2);}async function toggleBotMode(){const _0x593ba9=_0x37e3a1;let _0x179032=dbConfig['get'](_0x593ba9(0x162))[_0x593ba9(0x16f)]({'botID':botID})[_0x593ba9(0x207)]();if(_0x179032){const _0x5e98e3=!_0x179032[_0x593ba9(0x147)];dbConfig[_0x593ba9(0x189)](_0x593ba9(0x162))[_0x593ba9(0x16f)]({'botID':botID})['assign']({'headless':_0x5e98e3})[_0x593ba9(0x16d)](),config[_0x593ba9(0x147)]=_0x5e98e3,proxyEmit(_0x593ba9(0x205),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2f3a8b=_0x37e3a1;process[_0x2f3a8b(0x16c)]({'updatebotmanager':!![]},_0xa02625=>{});}function cleanws(){const _0x210e46=_0x37e3a1;wsinitialized=![];ws1&&(ws1[_0x210e46(0x16b)](_0x2d2ccd=>{try{wsClient['close'](_0x2d2ccd);}catch(_0x579ec2){}}),ws1=[]);if(ws2){try{wsClient[_0x210e46(0x23c)](ws2);}catch(_0x46e80c){}ws2=null;}ws3&&(ws3[_0x210e46(0x16b)](_0x3290b7=>{const _0x26517f=_0x210e46;try{wsClient[_0x26517f(0x23c)](_0x3290b7);}catch(_0x742305){}}),ws3=[]);}async function initws(){const _0x41b0e8=_0x37e3a1;cleanws();let _0x1e01eb=[];currentCoins[_0x41b0e8(0x16b)](_0x561951=>{const _0x321783=_0x41b0e8;if(_0x561951['coin']!=config[_0x321783(0x24a)])_0x1e01eb[_0x321783(0x1b8)](_0x561951['symbol']);});if(!_0x1e01eb[_0x41b0e8(0x27b)](stablecoins[_0x41b0e8(0x1ad)]['symbol']))_0x1e01eb[_0x41b0e8(0x1b8)](stablecoins['eur']['symbol']);if(!_0x1e01eb[_0x41b0e8(0x27b)](stablecoins['usd']['symbol']))_0x1e01eb[_0x41b0e8(0x1b8)](stablecoins[_0x41b0e8(0x1d8)][_0x41b0e8(0x1d2)]);if(!_0x1e01eb[_0x41b0e8(0x27b)](_0x41b0e8(0x192)+config['basecoin']))_0x1e01eb[_0x41b0e8(0x1b8)](_0x41b0e8(0x192)+config['basecoin']);try{_0x1e01eb['forEach']((_0x218404,_0x4a02ec)=>{const _0x21332f=_0x41b0e8;ws1[_0x4a02ec]=wsClient[_0x21332f(0x257)](noslash(_0x218404),'1m'),ws3[_0x4a02ec]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x218404),'spot');}),ws2=wsClient['subscribeSpotUserDataStream']();}catch(_0x393d88){await handleError(_0x393d88,_0x41b0e8(0x12b));}let _0x2328aa,_0x508185=0x0;loading[_0x41b0e8(0x271)]=[];let _0x39f544=0x0;_0x1e01eb[_0x41b0e8(0x16b)](_0x4a8f09=>{const _0x755d64=_0x41b0e8;loading[_0x755d64(0x271)]['push'](_0x4a8f09);}),loadingCanceled=![];let _0x279847=![];while(_0x2328aa!=_0x1e01eb[_0x41b0e8(0x275)]){_0x2328aa=0x0,_0x1e01eb[_0x41b0e8(0x16b)](_0x2d915a=>{const _0x2a3572=_0x41b0e8;global[_0x2a3572(0x1ff)][noslash(_0x2d915a)]&&(loading[_0x2a3572(0x271)]=loading[_0x2a3572(0x271)]['filter'](_0xa118b7=>_0xa118b7!=_0x2d915a),_0x2328aa++);}),loading[_0x41b0e8(0x148)]=Math['round'](_0x2328aa/_0x1e01eb[_0x41b0e8(0x275)]*0x64);loading[_0x41b0e8(0x148)]!=0x64&&(_0x39f544>0x1e*0x5&&(loading[_0x41b0e8(0x219)]=!![],emitLoadingProgress()),_0x39f544>0x3c*0x5&&!_0x279847&&(_0x279847=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading['remainingSymbols'][_0x41b0e8(0x245)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x41b0e8(0x1c8),'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x41b0e8(0x166)),await sleep(pauseBotInterval),process[_0x41b0e8(0x16c)]({'stop':_0x41b0e8(0x184)},_0x5bbff8=>{})));if(loadingCanceled){loading[_0x41b0e8(0x1d0)]=!![],emitLoadingProgress();break;}else _0x2328aa!=_0x508185&&(_0x508185=_0x2328aa,emitLoadingProgress()),_0x39f544++,await sleep(0xc8);}_0x279847&&logHistory(_0x41b0e8(0x282),_0x41b0e8(0x1da));if(_0x2328aa==_0x1e01eb['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x285c24=_0x37e3a1;proxyEmit(_0x285c24(0x1ba),loading);}async function getFiat(){const _0x276370=_0x37e3a1;let _0x9594d0=0x0,_0x1fe804=0x0;try{_0x9594d0=global[_0x276370(0x1ff)][stablecoins['eur'][_0x276370(0x170)]],_0x1fe804=global[_0x276370(0x1ff)][stablecoins[_0x276370(0x1d8)][_0x276370(0x170)]];}catch(_0x203be2){await handleError(_0x203be2,_0x276370(0x19c));}return{'eur':Number(_0x9594d0),'usd':Number(_0x1fe804)};}function _0x2909(_0x3b8cd3,_0x2461f8){const _0x38b528=_0x5723();return _0x2909=function(_0x29f85e,_0x4c0d1b){_0x29f85e=_0x29f85e-0x123;let _0x57239a=_0x38b528[_0x29f85e];return _0x57239a;},_0x2909(_0x3b8cd3,_0x2461f8);}function setStartDatePerformance(){const _0x36f9ee=_0x37e3a1;if(config&&config[_0x36f9ee(0x263)][0x0][_0x36f9ee(0x19e)][_0x36f9ee(0x275)]!=0x0){const _0x2b23e0=config[_0x36f9ee(0x263)][0x0]['changes'];dbPerformance['get'](_0x36f9ee(0x1ca))['find']({'date':config[_0x36f9ee(0x17e)]})['assign']({'coins':_0x2b23e0})[_0x36f9ee(0x16d)]();}}async function recreateCoinResults(){const _0x2cc264=_0x37e3a1;let _0x3b1a49,_0xf3a146=[];try{const _0x386f4e=fns['format'](fns[_0x2cc264(0x246)](config['startdate']['replace'](/\//g,'-')),_0x2cc264(0x23b));for(const _0x29cf12 of currentCoins){if(_0x29cf12['coin']!=config['basecoin']){let _0x281d32=0x0,_0x349508,_0x2b429c;_0x3b1a49=await getAllEventOrders(_0x29cf12[_0x2cc264(0x1d2)]);if(_0x3b1a49[_0x2cc264(0x275)]>0x0)_0x3b1a49[_0x2cc264(0x16b)](_0x17471f=>{const _0x3ba1c6=_0x2cc264,_0x194747=_0x29cf12['symbol'][_0x3ba1c6(0x27b)](config[_0x3ba1c6(0x24a)]+'/');_0xf3a146[_0x3ba1c6(0x1b8)]({'datetime':_0x17471f[_0x3ba1c6(0x1de)],'coin':_0x29cf12[_0x3ba1c6(0x170)],'symbol':_0x29cf12[_0x3ba1c6(0x1d2)],'side':_0x17471f['side'],'reverse':_0x194747,'amount':formatResult(_0x17471f['filled'],0x8),'filled':formatResult(_0x17471f[_0x3ba1c6(0x21b)],0x8),'price':formatResult(_0x17471f[_0x3ba1c6(0x175)],0x8)}),_0x281d32=_0x17471f['side']==_0x3ba1c6(0x235)?_0x281d32+_0x17471f['filled']:_0x281d32-_0x17471f[_0x3ba1c6(0x21b)];if(!_0x2b429c)_0x2b429c=_0x17471f[_0x3ba1c6(0x175)];});_0x349508=_0x29cf12[_0x2cc264(0x242)]-_0x281d32;let _0x5a68e3;config[_0x2cc264(0x263)]['forEach'](_0x46a424=>{const _0x27c9b0=_0x2cc264;!_0x5a68e3&&(_0x5a68e3=_0x46a424[_0x27c9b0(0x19e)]['find'](_0x1c48f5=>_0x1c48f5['coin']==_0x29cf12[_0x27c9b0(0x170)]),_0x5a68e3&&(_0x349508=_0x5a68e3[_0x27c9b0(0x242)],_0x2b429c=_0x5a68e3[_0x27c9b0(0x175)]));});let _0x1acef7=dbCoinResults['get']('coins')[_0x2cc264(0x16f)]({'coin':_0x29cf12[_0x2cc264(0x170)]})[_0x2cc264(0x207)]();_0x1acef7={'coin':_0x29cf12[_0x2cc264(0x170)],'number':_0x349508,'breakeven':_0x2b429c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2cc264(0x189)]('coins')[_0x2cc264(0x16f)]({'coin':_0x29cf12[_0x2cc264(0x170)]})[_0x2cc264(0x22f)](_0x1acef7)[_0x2cc264(0x16d)]();}}_0xf3a146[_0x2cc264(0x21d)]((_0x3b505f,_0x22a1a8)=>_0x3b505f[_0x2cc264(0x1de)]>_0x22a1a8[_0x2cc264(0x1de)]?0x1:_0x22a1a8[_0x2cc264(0x1de)]>_0x3b505f['datetime']?-0x1:0x0);let _0x5ba485=0x0;for(let _0x1e49b8 of _0xf3a146){await updateCoinResults(_0x1e49b8,!![]);}}catch(_0x936591){await handleError(_0x936591,_0x2cc264(0x23d));}}async function getAllEventOrders(_0x3b801b){const _0x7ab857=_0x37e3a1;let _0x4f26ce=[],_0x24f607=dbLogs[_0x7ab857(0x189)]('logs')[_0x7ab857(0x213)](_0x534314=>{const _0x1e9e4c=_0x7ab857,_0x1ab7d9=_0x534314[_0x1e9e4c(0x210)]['toLowerCase']();return _0x1ab7d9[_0x1e9e4c(0x27b)](_0x3b801b[_0x1e9e4c(0x12a)]())&&(_0x1ab7d9[_0x1e9e4c(0x27b)]('market')&&_0x1ab7d9[_0x1e9e4c(0x27b)](_0x1e9e4c(0x196))||_0x1ab7d9['includes'](_0x1e9e4c(0x21b))&&_0x1ab7d9[_0x1e9e4c(0x27b)](_0x1e9e4c(0x196)));})[_0x7ab857(0x1e0)]('time')[_0x7ab857(0x207)]();return _0x24f607['forEach'](_0x553aa0=>{const _0x330fe4=_0x7ab857,_0x4ba3f0=_0x553aa0[_0x330fe4(0x210)][_0x330fe4(0x27b)](_0x330fe4(0x25d))?_0x330fe4(0x25d):'buy',_0x5378f6=/#([0-9]|\.)+\s/i,_0x28dca2=Number(_0x5378f6[_0x330fe4(0x197)](_0x553aa0['event'])[0x0][_0x330fe4(0x1d9)](0x1)),_0x175049=/@([0-9]|\.)+$/i,_0x5e9352=Number(_0x175049['exec'](_0x553aa0[_0x330fe4(0x210)])[0x0][_0x330fe4(0x1d9)](0x1));_0x4f26ce[_0x330fe4(0x1b8)]({'datetime':_0x553aa0[_0x330fe4(0x153)],'coin':symbolToCoin(_0x3b801b),'symbol':_0x3b801b,'side':_0x4ba3f0,'amount':_0x28dca2,'filled':_0x28dca2,'price':_0x5e9352});}),_0x4f26ce;}async function getAllOrders(_0x26c248,_0x4d08f0){const _0x1f95c6=_0x37e3a1;let _0x8d2791=[];while(_0x4d08f0<exchange[_0x1f95c6(0x281)]()){const _0x1e7933=0x1f4,_0x238a61=await exchange[_0x1f95c6(0x150)](_0x26c248,_0x4d08f0,_0x1e7933);if(_0x238a61[_0x1f95c6(0x275)])_0x4d08f0=_0x238a61[_0x238a61['length']-0x1][_0x1f95c6(0x26b)]+0x1,_0x8d2791=_0x8d2791[_0x1f95c6(0x13f)](_0x238a61);else break;}return _0x8d2791;}async function validate24hChanges(){const _0xad5e53=_0x37e3a1;let _0x1dc121;for(const _0x1871aa of currentCoins){if(_0x1871aa['coin']!=config[_0xad5e53(0x24a)]){let _0x22ab9e;_0x1871aa[_0xad5e53(0x155)]?_0x22ab9e=formatResult((0x1/(global['change'][noslash(_0x1871aa['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x22ab9e=global[_0xad5e53(0x20e)][noslash(_0x1871aa[_0xad5e53(0x1d2)])],_0x22ab9e<config[_0xad5e53(0x1c6)]&&(logHistory(_0xad5e53(0x1c8),_0x1871aa[_0xad5e53(0x170)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x22ab9e+'%'),logHistory(_0xad5e53(0x1c8),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x3729bf=_0x37e3a1;let _0x2cb377=dbLogs[_0x3729bf(0x189)](_0x3729bf(0x27a))['value']();if(_0x2cb377!='2.3.5'){dbLogs[_0x3729bf(0x130)](_0x3729bf(0x27a),'2.3.5')[_0x3729bf(0x16d)]();let _0x2018fc=[];const _0x50c425=dbLogs['get'](_0x3729bf(0x1ce))[_0x3729bf(0x207)]();_0x50c425[_0x3729bf(0x16b)](_0x4f53a6=>{const _0x42ba28=_0x3729bf;_0x2018fc[_0x42ba28(0x1b8)]({'time':_0x4f53a6[_0x42ba28(0x153)],'type':_0x4f53a6['type'],'event':_0x4f53a6[_0x42ba28(0x210)]});}),dbLogs[_0x3729bf(0x189)](_0x3729bf(0x1ce))[_0x3729bf(0x22f)](_0x2018fc)[_0x3729bf(0x16d)]();}let _0x968665=dbConfig['get'](_0x3729bf(0x27a))['value']();if(_0x968665!=_0x3729bf(0x17f)){dbConfig[_0x3729bf(0x130)](_0x3729bf(0x27a),_0x3729bf(0x17f))[_0x3729bf(0x16d)]();let _0x1b74e0=dbConfig[_0x3729bf(0x189)]('bot')[_0x3729bf(0x16f)]({'botID':botID})[_0x3729bf(0x207)]();if(_0x1b74e0){let _0x458607=[];_0x1b74e0[_0x3729bf(0x1a0)]['forEach'](_0x30c5b0=>{const _0x268df2=_0x3729bf;_0x458607[_0x268df2(0x1b8)]({'coin':_0x30c5b0[_0x268df2(0x170)],'number':_0x30c5b0[_0x268df2(0x14c)],'price':_0x30c5b0[_0x268df2(0x185)]}),delete _0x30c5b0['startnumber'],delete _0x30c5b0[_0x268df2(0x185)];});if(_0x458607['length']!==0x0)fs[_0x3729bf(0x1e7)](configbackuppath+(_0x3729bf(0x178)+botID+_0x3729bf(0x1c3)),JSON[_0x3729bf(0x182)](_0x458607,null,0x4),function(_0x37f821){if(_0x37f821){}});const _0x40755c=(_0x223b26,_0x29a603)=>{const _0x30f118=_0x3729bf;let _0x160f9d=[];_0x29a603[_0x30f118(0x16b)](_0x10ba8e=>{const _0x5af91d=_0x30f118,_0x4dde1a=_0x223b26['find'](_0x5e4f53=>_0x5e4f53[_0x5af91d(0x170)]==_0x10ba8e['coin']);if(!_0x4dde1a)_0x160f9d['push'](_0x10ba8e);});let _0x29037e=[];return _0x223b26[_0x30f118(0x16b)](_0x1a8282=>{const _0x19b6d6=_0x30f118,_0x4e9c81=_0x29a603[_0x19b6d6(0x16f)](_0x20561c=>_0x20561c[_0x19b6d6(0x170)]==_0x1a8282['coin']);if(!_0x4e9c81||_0x4e9c81['number']==0x0&&_0x1a8282[_0x19b6d6(0x242)]!=0x0)_0x29037e[_0x19b6d6(0x1b8)](_0x1a8282);}),{'missingDay1':_0x160f9d,'notInDay2':_0x29037e};},_0x4df811=dbPerformance[_0x3729bf(0x189)]('data')['cloneDeep']()[_0x3729bf(0x207)]();if(_0x4df811[_0x3729bf(0x275)]>0x1){const {missingDay1:_0x3d1868,notInDay2:_0x120151}=_0x40755c(_0x458607,_0x4df811[0x1]['coins']);_0x458607=[..._0x458607,..._0x3d1868],_0x120151['forEach'](_0x75fc68=>{const _0x5628a0=_0x3729bf;let _0xd7b28e=_0x458607[_0x5628a0(0x141)](_0x3b9327=>_0x3b9327[_0x5628a0(0x170)]==_0x75fc68['coin']);_0xd7b28e!=-0x1&&_0x458607[_0x5628a0(0x25b)](_0xd7b28e,0x1);});}_0x458607[_0x3729bf(0x21d)]((_0x13218e,_0xdd22d3)=>_0x13218e['coin']>_0xdd22d3[_0x3729bf(0x170)]?0x1:_0xdd22d3[_0x3729bf(0x170)]>_0x13218e[_0x3729bf(0x170)]?-0x1:0x0);let _0x35f273=[{'date':_0x1b74e0[_0x3729bf(0x17e)],'changes':_0x458607}];_0x4df811[_0x3729bf(0x275)]>0x2&&_0x4df811[_0x3729bf(0x16b)]((_0x2f3d84,_0x57b351)=>{const _0x74b1cd=_0x3729bf;if(_0x57b351>0x0&&_0x57b351<_0x4df811['length']-0x1){const {missingDay1:_0x36879c,notInDay2:_0x30579b}=_0x40755c(_0x4df811[_0x57b351][_0x74b1cd(0x228)],_0x4df811[_0x57b351+0x1]['coins']);_0x458607=[],(_0x36879c['length']!=0x0||_0x30579b[_0x74b1cd(0x275)]!=0x0)&&(_0x36879c[_0x74b1cd(0x275)]!=0x0&&_0x458607[_0x74b1cd(0x1b8)](..._0x36879c),_0x30579b[_0x74b1cd(0x275)]!=0x0&&(_0x30579b[_0x74b1cd(0x16b)](_0x513615=>{const _0x4b535a=_0x74b1cd;_0x513615['number']=-_0x513615[_0x4b535a(0x242)];}),_0x458607[_0x74b1cd(0x1b8)](..._0x30579b)),_0x458607['sort']((_0x5a5ae1,_0x1442da)=>_0x5a5ae1['coin']>_0x1442da['coin']?0x1:_0x1442da[_0x74b1cd(0x170)]>_0x5a5ae1[_0x74b1cd(0x170)]?-0x1:0x0),_0x35f273['push']({'date':_0x4df811[_0x57b351+0x1][_0x74b1cd(0x1c1)],'changes':_0x458607}));}}),dbConfig['get'](_0x3729bf(0x162))[_0x3729bf(0x16f)]({'botID':botID})[_0x3729bf(0x22f)]({..._0x1b74e0,'liquidity':_0x35f273})[_0x3729bf(0x16d)]();}}config=getConfiguration(botID);let _0x5e360a=dbPerformance[_0x3729bf(0x189)](_0x3729bf(0x27a))[_0x3729bf(0x207)]();_0x5e360a!=_0x3729bf(0x17f)&&(dbPerformance[_0x3729bf(0x130)](_0x3729bf(0x27a),_0x3729bf(0x17f))['write'](),setStartDatePerformance());let _0x39b5ec=dbCoinResults[_0x3729bf(0x189)]('version')['value']();if(_0x39b5ec!=_0x3729bf(0x1c0)){dbCoinResults[_0x3729bf(0x130)]('version',_0x3729bf(0x1c0))[_0x3729bf(0x16d)]();let _0x42589f=dbCoinResults['get'](_0x3729bf(0x228))[_0x3729bf(0x207)]();if(_0x42589f[_0x3729bf(0x275)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x4d32b6){const _0x79f05=_0x37e3a1;let _0x38a870=dbConfig[_0x79f05(0x189)](_0x79f05(0x162))['find']({'botID':_0x4d32b6})['value']();if(_0x38a870){let _0x28edb1=![];typeof _0x38a870[_0x79f05(0x236)]==_0x79f05(0x136)&&(_0x38a870={..._0x38a870,'threshold':Number(_0x38a870['threshold'])},_0x28edb1=!![]),_0x38a870[_0x79f05(0x1c6)]==null&&(_0x38a870={..._0x38a870,'change24h':-0x14},_0x28edb1=!![]),_0x28edb1&&(_0x38a870={'botID':_0x38a870[_0x79f05(0x1ef)],'exchange':_0x38a870[_0x79f05(0x12c)],'apiKey':_0x38a870[_0x79f05(0x283)],'apiSecret':_0x38a870[_0x79f05(0x12d)],'basecoin':_0x38a870['basecoin'],'botname':_0x38a870[_0x79f05(0x258)],'showname':_0x38a870[_0x79f05(0x131)],'threshold':_0x38a870[_0x79f05(0x236)],'ordertype':_0x38a870[_0x79f05(0x1dc)],'timeout':_0x38a870['timeout'],'startdate':_0x38a870['startdate'],'recreate':_0x38a870[_0x79f05(0x26a)],'timeshift':_0x38a870[_0x79f05(0x227)],'headless':_0x38a870[_0x79f05(0x147)],'cooldown':_0x38a870['cooldown'],'change24h':_0x38a870[_0x79f05(0x1c6)],'emojibuy':_0x38a870[_0x79f05(0x20f)],'emojisell':_0x38a870[_0x79f05(0x18c)],'portfolio':_0x38a870[_0x79f05(0x1a0)],'liquidity':_0x38a870[_0x79f05(0x263)]},dbConfig[_0x79f05(0x189)]('bot')[_0x79f05(0x1c7)]()[_0x79f05(0x16d)](),dbConfig[_0x79f05(0x189)](_0x79f05(0x162))[_0x79f05(0x1b8)](_0x38a870)[_0x79f05(0x16d)]());}else _0x38a870={'botID':_0x4d32b6,'exchange':_0x79f05(0x199),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x79f05(0x260)+_0x4d32b6,'showname':![],'threshold':0x3,'ordertype':_0x79f05(0x13d),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x79f05(0x227)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x38a870;}function emittedConfiguration(){const _0x59ad65=_0x37e3a1;let _0x2d57d8;if(config['apiKey']=='')_0x2d57d8={...config,'configstate':'initial'};else config[_0x59ad65(0x283)]==_0x59ad65(0x1b7)?_0x2d57d8={...config,'configstate':_0x59ad65(0x1c4)}:_0x2d57d8={...config,'apiKey':_0x59ad65(0x204),'apiSecret':_0x59ad65(0x204)};return _0x2d57d8;}function getSettings(){const _0x484509=_0x37e3a1;return dbSettings['get'](_0x484509(0x25c))[_0x484509(0x207)]();}function getSecure(){const _0x3c2890=_0x37e3a1;return dbSecure[_0x3c2890(0x189)]('secure')['value']()||{};}function updateTimeshift(_0x3b16de){const _0x5ce991=_0x37e3a1;let _0x257084=dbConfig[_0x5ce991(0x189)](_0x5ce991(0x162))[_0x5ce991(0x16f)]({'botID':botID})[_0x5ce991(0x207)]();_0x257084&&dbConfig[_0x5ce991(0x189)]('bot')[_0x5ce991(0x16f)]({'botID':botID})[_0x5ce991(0x22f)]({'timeshift':_0x3b16de})['write'](),config['timeshift']=_0x3b16de,proxyEmit(_0x5ce991(0x205),emittedConfiguration());}async function storeConfiguration(_0x13b1fb){const _0x3c60e1=_0x37e3a1;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x55f1df=dbConfig[_0x3c60e1(0x189)](_0x3c60e1(0x162))[_0x3c60e1(0x16f)]({'botID':botID})[_0x3c60e1(0x207)]();_0x13b1fb={..._0x13b1fb,'apiKey':crypt[_0x3c60e1(0x152)](secure['privateKey'],_0x13b1fb['apiKey'])[_0x3c60e1(0x278)],'apiSecret':crypt['decrypt'](secure[_0x3c60e1(0x18e)],_0x13b1fb['apiSecret'])[_0x3c60e1(0x278)]};if(_0x55f1df){if(_0x13b1fb[_0x3c60e1(0x283)]=='************')_0x13b1fb[_0x3c60e1(0x283)]=config[_0x3c60e1(0x283)];if(_0x13b1fb[_0x3c60e1(0x12d)]=='************')_0x13b1fb[_0x3c60e1(0x12d)]=config[_0x3c60e1(0x12d)];dbConfig['get'](_0x3c60e1(0x162))[_0x3c60e1(0x16f)]({'botID':botID})[_0x3c60e1(0x22f)](_0x13b1fb)[_0x3c60e1(0x16d)]();}else dbConfig[_0x3c60e1(0x189)](_0x3c60e1(0x162))[_0x3c60e1(0x1b8)](_0x13b1fb)[_0x3c60e1(0x16d)](),process['send']({'status':_0x3c60e1(0x1a6),'live':_0x3c60e1(0x259)},_0x5648a3=>{});config={..._0x13b1fb},setStartDatePerformance(),process[_0x3c60e1(0x16c)]({'botname':_0x13b1fb[_0x3c60e1(0x258)]},_0x4b21a7=>{}),updateBotManager();const _0x101246=getNormalizedPerformance();getStartingBalances(_0x101246),emitPerformance(_0x101246),proxyEmit(_0x3c60e1(0x195)),await initCoinResults(),reset();}async function storeHeadless(_0x25ff48){const _0x18eb9e=_0x37e3a1,_0x36905d={...config,'headless':_0x25ff48['headless']};let _0x495d82=dbConfig[_0x18eb9e(0x189)]('bot')[_0x18eb9e(0x16f)]({'botID':botID})['value']();_0x495d82&&dbConfig[_0x18eb9e(0x189)](_0x18eb9e(0x162))['find']({'botID':botID})[_0x18eb9e(0x22f)](_0x36905d)[_0x18eb9e(0x16d)](),config={..._0x36905d},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x2ef1ef){const _0x1c2075=_0x37e3a1;return _0x2ef1ef[_0x1c2075(0x24e)]('/','');}async function updateNumberCoins(_0x412bac){const _0x18de7=_0x37e3a1;if(_0x412bac['eventType']&&_0x412bac[_0x18de7(0x234)]==_0x18de7(0x165)){let _0x484c78=_0x412bac[_0x18de7(0x127)],_0x370eb8=![];currentCoins[_0x18de7(0x16b)](_0x127612=>{const _0x1957a7=_0x18de7;noslash(_0x127612[_0x1957a7(0x1d2)])==_0x412bac[_0x1957a7(0x1d2)]&&(_0x370eb8=!![]);});if(!_0x370eb8)return;const _0x4faccb=currentCoins[_0x18de7(0x16f)](_0x33b40b=>noslash(_0x33b40b['symbol'])==_0x412bac[_0x18de7(0x1d2)]),_0x34c77=_0x5844ca=>{const _0x5bd0c1=_0x18de7;if(_0x4faccb)_0x4faccb[_0x5bd0c1(0x1dd)]=_0x5844ca;};if(_0x484c78==_0x18de7(0x1ab))_0x34c77(_0x18de7(0x1fb));else{if(_0x484c78==_0x18de7(0x250))_0x34c77(_0x18de7(0x268)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x484c78==_0x18de7(0x262)){let _0x58b52e=![];console[_0x18de7(0x129)](_0x18de7(0x262)),console[_0x18de7(0x129)](_0x18de7(0x253),lastOrders),console['log'](_0x18de7(0x1ca),_0x412bac);if(lastOrders)lastOrders['forEach'](async _0x2d7a8e=>{const _0x500169=_0x18de7;if(_0x2d7a8e[_0x500169(0x1fc)]==_0x412bac[_0x500169(0x18b)]){_0x58b52e=!![];if(_0x2d7a8e['filled']==0x0){_0x2d7a8e['price']=_0x412bac[_0x500169(0x159)]/_0x412bac[_0x500169(0x26e)],_0x2d7a8e[_0x500169(0x21b)]=_0x412bac[_0x500169(0x26e)],_0x2d7a8e[_0x500169(0x1f8)]={'cost':_0x412bac[_0x500169(0x20b)],'currency':_0x412bac['commissionAsset']},_0x34c77('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x2d7a8e);}}});!_0x58b52e&&(_0x34c77('filled'),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x594347=JSON['parse'](lastBalances['portfolio']);const _0x44bf78=_0x594347[_0x18de7(0x16f)](_0x199942=>noslash(_0x199942[_0x18de7(0x1d2)])==_0x412bac[_0x18de7(0x1d2)]);if(_0x44bf78){if(_0x484c78==_0x18de7(0x1ab))_0x44bf78[_0x18de7(0x1dd)]=_0x44bf78[_0x18de7(0x1dd)]==_0x18de7(0x21b)?_0x18de7(0x21b):'open';else{if(_0x484c78==_0x18de7(0x250))_0x44bf78[_0x18de7(0x1dd)]=_0x44bf78[_0x18de7(0x1dd)]==_0x18de7(0x21b)?'filled':_0x18de7(0x268);else _0x484c78=='FILLED'&&(_0x44bf78[_0x18de7(0x1dd)]=_0x18de7(0x21b));}}lastBalances={...lastBalances,'portfolio':JSON[_0x18de7(0x182)](_0x594347)},proxyEmit(_0x18de7(0x238),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x48c106=![],_0x14af9b=!![],_0x40a975=config['basecoin']){const _0x56d07b=_0x37e3a1;let _0xde2a2c,_0x26f124=[],_0x4f5f6c=[],_0x3b922b=[];try{_0xde2a2c=await exchange[_0x56d07b(0x13b)](),mybalances=_0xde2a2c[_0x56d07b(0x15f)];if(!_0x14af9b)for(const [_0x438e23,_0x564918]of Object[_0x56d07b(0x1ed)](mybalances)){_0x3b922b['push'](_0x438e23);}else config[_0x56d07b(0x1a0)]['forEach'](_0x32c708=>{const _0x21f27a=_0x56d07b;if(!_0x32c708[_0x21f27a(0x1eb)])_0x3b922b[_0x21f27a(0x1b8)](_0x32c708[_0x21f27a(0x170)]);});if(_0x40a975=='')for(const [_0x4647e7,_0x5fc94]of Object[_0x56d07b(0x1ed)](mybalances)){_0x5fc94['toString']()!=0x0&&_0x4f5f6c[_0x56d07b(0x1b8)]({'coin':_0x4647e7});}else{if(_0x48c106)await getOpenOrders();let _0x36cd45=![];for(const [_0x142955,_0x193a99]of Object[_0x56d07b(0x1ed)](mybalances)){if(_0x3b922b['includes'](_0x142955)){const _0x315139=config[_0x56d07b(0x1a0)]['find'](_0x3fb3d8=>_0x3fb3d8['coin']==_0x142955),_0x4146cd=_0x142955+'/'+_0x40a975,_0x204367=_0x40a975+'/'+_0x142955,_0xb90c6d=currentCoins[_0x56d07b(0x16f)](_0x3b79e5=>_0x3b79e5[_0x56d07b(0x170)]==_0x142955);_0x36cd45=![];_0x48c106&&(_0x36cd45=allOpenOrders[_0x56d07b(0x16f)](_0xb5d962=>_0xb5d962['symbol']==_0x315139[_0x56d07b(0x1d2)]));if((_0x193a99[_0x56d07b(0x139)]()!=0x0||_0x315139)&&(allSymbols[_0x56d07b(0x27b)](_0x4146cd)||_0x142955==_0x40a975))_0x142955!=_0x40a975&&_0x26f124['push'](_0x4146cd),_0x4f5f6c[_0x56d07b(0x1b8)]({'coin':_0x142955,'symbol':_0x4146cd,'reverse':![],'number':Math[_0x56d07b(0x14f)](_0x193a99+(_0x315139&&_0x315139[_0x56d07b(0x206)]||0x0),0x0),'orderstatus':_0x48c106?_0x36cd45?_0x56d07b(0x1fb):'none':_0xb90c6d?_0xb90c6d[_0x56d07b(0x1dd)]:'none'});else(_0x193a99[_0x56d07b(0x139)]()!=0x0||_0x315139)&&allSymbols[_0x56d07b(0x27b)](_0x204367)&&(_0x142955!=_0x40a975&&_0x26f124[_0x56d07b(0x1b8)](_0x204367),_0x4f5f6c[_0x56d07b(0x1b8)]({'coin':_0x142955,'symbol':_0x204367,'reverse':!![],'number':Math[_0x56d07b(0x14f)](_0x193a99+(_0x315139&&_0x315139['offset']||0x0),0x0),'orderstatus':_0x48c106?_0x36cd45?_0x56d07b(0x1fb):_0x56d07b(0x17b):_0xb90c6d?_0xb90c6d['orderstatus']:'none'}));}}}}catch(_0x3d21e0){if(!_0x14af9b){if(_0x3d21e0[_0x56d07b(0x139)]()[_0x56d07b(0x27b)]('API-key\x20format\x20invalid'))return logHistory(_0x56d07b(0x1c8),_0x56d07b(0x149)),![];else{if(_0x3d21e0[_0x56d07b(0x139)]()[_0x56d07b(0x27b)](_0x56d07b(0x266)))return logHistory(_0x56d07b(0x1c8),_0x56d07b(0x208)),![];else{if(_0x3d21e0[_0x56d07b(0x139)]()['includes'](_0x56d07b(0x209)))return logHistory(_0x56d07b(0x1c8),_0x56d07b(0x1f6)),![];else await handleError(_0x3d21e0,'getCoins()');}}}else await handleError(_0x3d21e0,_0x56d07b(0x18d));}return _0x4f5f6c;}async function getCoinNumber(_0x303075){let _0x254c1d;try{const _0x575b1d=await exchange['fetchBalance']();_0x254c1d=_0x575b1d['total'][_0x303075];}catch(_0x220af6){await handleError(_0x220af6,'getCoinNumber()');}return _0x254c1d;}async function getOpenOrders(){const _0x2654e7=_0x37e3a1;let _0x4d0b69;allOpenOrders=[];try{for(const _0x53e25e of config[_0x2654e7(0x1a0)]){!_0x53e25e[_0x2654e7(0x1eb)]&&_0x53e25e[_0x2654e7(0x170)]!=config[_0x2654e7(0x24a)]&&(_0x4d0b69=await exchange[_0x2654e7(0x125)](_0x53e25e['symbol']),_0x4d0b69[_0x2654e7(0x275)]>0x0&&allOpenOrders[_0x2654e7(0x1b8)](_0x4d0b69[0x0]));}}catch(_0xda23b1){await handleError(_0xda23b1,_0x2654e7(0x164));}}async function handleOpenOrders(_0x53c31a=0x0){const _0x34cff9=_0x37e3a1;allOpenOrders[_0x34cff9(0x275)]==0x0&&lockOrders==ORDERS[_0x34cff9(0x1c2)]&&allOrdersPlaced&&(_0x53c31a==0x0?(_0x53c31a++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x34cff9(0x16a)));}async function getPortfolio(_0x4822d7){const _0x4df5dd=_0x37e3a1;let _0x32482b=[],_0x882cce=[],_0x54cd72,_0x96faa9=[],_0x720c2d,_0x28207f;_0x4822d7[_0x4df5dd(0x283)]===_0x4df5dd(0x204)||_0x4822d7[_0x4df5dd(0x12d)]===_0x4df5dd(0x204)?(_0x720c2d=config[_0x4df5dd(0x283)],_0x28207f=config[_0x4df5dd(0x12d)]):(_0x720c2d=_0x4822d7[_0x4df5dd(0x283)],_0x28207f=_0x4822d7[_0x4df5dd(0x12d)]);await initExchange(_0x720c2d,_0x28207f);let _0x37a8e8=await loadSymbols();if(_0x37a8e8){_0x96faa9=await getCoins(![],![],_0x4822d7[_0x4df5dd(0x24a)]);if(_0x96faa9===![])proxyEmit(_0x4df5dd(0x1a0),![]);else{if(_0x4822d7[_0x4df5dd(0x24a)]=='')proxyEmit(_0x4df5dd(0x1a0),_0x96faa9);else{_0x96faa9[_0x4df5dd(0x16b)](_0x5d77fc=>{const _0x3e50dd=_0x4df5dd;if(_0x5d77fc['coin']!=_0x4822d7['basecoin'])_0x32482b[_0x3e50dd(0x1b8)](_0x5d77fc[_0x3e50dd(0x1d2)]);});try{_0x882cce=await exchange['fetchTickers'](_0x32482b);}catch(_0x3747ec){await handleError(_0x3747ec,'getPortfolio()');}_0x96faa9[_0x4df5dd(0x16b)](_0x4027a8=>{const _0x536eac=_0x4df5dd;_0x4027a8[_0x536eac(0x170)]!=_0x4822d7[_0x536eac(0x24a)]?_0x54cd72=_0x4027a8[_0x536eac(0x155)]?0x1/_0x882cce[_0x4027a8[_0x536eac(0x1d2)]]['last']:_0x882cce[_0x4027a8[_0x536eac(0x1d2)]][_0x536eac(0x19b)]:_0x54cd72=0x1,_0x4027a8[_0x536eac(0x175)]=formatResult(_0x54cd72,0x8);}),proxyEmit(_0x4df5dd(0x1a0),_0x96faa9);}}}else proxyEmit(_0x4df5dd(0x1a0),![]);}function checkMinimums(_0x3520ed){const _0x456dad=_0x37e3a1;let _0x10bed1=!![];const _0x226d83=!_0x3520ed[_0x456dad(0x155)]?markets[_0x3520ed[_0x456dad(0x1d2)]][_0x456dad(0x20d)][_0x456dad(0x13a)][_0x456dad(0x1ec)]:markets[_0x3520ed[_0x456dad(0x1d2)]][_0x456dad(0x20d)][_0x456dad(0x22a)]['min'],_0x4508ed=!_0x3520ed['reverse']?markets[_0x3520ed[_0x456dad(0x1d2)]][_0x456dad(0x20d)][_0x456dad(0x22a)][_0x456dad(0x1ec)]:markets[_0x3520ed['symbol']]['limits'][_0x456dad(0x13a)][_0x456dad(0x1ec)],_0x489f3f=markets[_0x3520ed[_0x456dad(0x1d2)]][_0x456dad(0x277)]['amount'];_0x3520ed[_0x456dad(0x280)]=formatResultTruncate(_0x3520ed[_0x456dad(0x280)],_0x489f3f);if(Math['abs'](_0x3520ed[_0x456dad(0x280)])<_0x226d83)_0x10bed1=![];if(Math[_0x456dad(0x1fe)](_0x3520ed[_0x456dad(0x280)])*_0x3520ed[_0x456dad(0x19b)]<_0x4508ed)_0x10bed1=![];if(_0x3520ed['side']=='sell'){let _0x2895ef=config[_0x456dad(0x1a0)]['find'](_0x40c093=>_0x40c093['coin']==_0x3520ed[_0x456dad(0x170)]);if(_0x2895ef[_0x456dad(0x206)]>0x0){if(Math[_0x456dad(0x1fe)](_0x3520ed[_0x456dad(0x280)])>_0x3520ed[_0x456dad(0x242)]-_0x2895ef[_0x456dad(0x206)])_0x10bed1=![];}else{if(Math[_0x456dad(0x1fe)](_0x3520ed[_0x456dad(0x280)])>_0x3520ed['number'])_0x10bed1=![];}}if(_0x3520ed[_0x456dad(0x1f9)]==_0x456dad(0x235)){let _0x37b28b=config[_0x456dad(0x1a0)]['find'](_0x62d93b=>_0x62d93b[_0x456dad(0x170)]==config['basecoin']),_0x4e887d=currentCoins[_0x456dad(0x16f)](_0x3c197f=>_0x3c197f[_0x456dad(0x170)]==config[_0x456dad(0x24a)]);if(_0x37b28b[_0x456dad(0x206)]>0x0){if(Math[_0x456dad(0x1fe)](_0x3520ed[_0x456dad(0x280)])*_0x3520ed['last']>_0x4e887d[_0x456dad(0x242)]-_0x37b28b[_0x456dad(0x206)])_0x10bed1=![];}else{if(Math[_0x456dad(0x1fe)](_0x3520ed[_0x456dad(0x280)])*_0x3520ed[_0x456dad(0x19b)]>_0x4e887d[_0x456dad(0x242)])_0x10bed1=![];}}return _0x10bed1;}async function getBalances(){const _0x598474=_0x37e3a1;let _0x1f063a=0x0,_0x5dce77;const _0x2b916b=config[_0x598474(0x236)];if(config['headless']&&config[_0x598474(0x1c6)]<0x0)await validate24hChanges();currentCoins[_0x598474(0x16b)](_0x542091=>{const _0x29fd16=_0x598474;if(_0x542091[_0x29fd16(0x170)]!=config[_0x29fd16(0x24a)]){let _0x5c4e71=global[_0x29fd16(0x1ff)][noslash(_0x542091[_0x29fd16(0x1d2)])];_0x5dce77=_0x542091['reverse']?0x1/_0x5c4e71:_0x5c4e71;}else _0x5dce77=0x1;let _0x3963b7=_0x542091[_0x29fd16(0x242)]*_0x5dce77;_0x1f063a+=_0x3963b7,_0x542091[_0x29fd16(0x19b)]=formatResult(Number(_0x5dce77),0x8),_0x542091['value']=_0x3963b7;}),currentCoins['forEach'](_0xbcdf49=>{const _0x3452d6=_0x598474;let _0x410b39=config['portfolio'][_0x3452d6(0x16f)](_0x41a902=>_0x41a902[_0x3452d6(0x170)]==_0xbcdf49[_0x3452d6(0x170)]),_0x41b7fe=Number(_0x410b39[_0x3452d6(0x269)]),_0x3f50c3=_0xbcdf49[_0x3452d6(0x207)]/_0x1f063a*0x64,_0x43e54d=_0x41b7fe*_0x1f063a/0x64/_0xbcdf49[_0x3452d6(0x19b)]-_0xbcdf49[_0x3452d6(0x242)];_0xbcdf49[_0x3452d6(0x269)]=formatResult(_0x3f50c3,0x3),_0xbcdf49[_0x3452d6(0x221)]=formatResult(_0x41b7fe,0x3),_0xbcdf49[_0x3452d6(0x280)]=formatResult(_0x43e54d,0x8),_0xbcdf49[_0x3452d6(0x1f9)]='',_0xbcdf49['valid']=![];if(_0xbcdf49['coin']!=config[_0x3452d6(0x24a)]){if(_0xbcdf49[_0x3452d6(0x269)]>_0x41b7fe)_0xbcdf49['side']='sell',_0xbcdf49[_0x3452d6(0x272)]=checkMinimums(_0xbcdf49);else _0xbcdf49[_0x3452d6(0x269)]<_0x41b7fe&&(_0xbcdf49[_0x3452d6(0x1f9)]=_0x3452d6(0x235),_0xbcdf49['valid']=checkMinimums(_0xbcdf49));}_0xbcdf49[_0x3452d6(0x244)]=_0xbcdf49[_0x3452d6(0x269)]/_0xbcdf49['target']-0x1;if(_0xbcdf49[_0x3452d6(0x1dd)]=='filled'||_0xbcdf49[_0x3452d6(0x1dd)]==_0x3452d6(0x268))_0xbcdf49[_0x3452d6(0x1dd)]=_0x3452d6(0x17b);}),currentCoins[_0x598474(0x21d)]((_0x558807,_0x3a8a5e)=>_0x558807['delta']<_0x3a8a5e[_0x598474(0x244)]?0x1:_0x3a8a5e[_0x598474(0x244)]<_0x558807['delta']?-0x1:0x0);const _0xc4d28e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xc4d28e['eur'],'usd':_0xc4d28e[_0x598474(0x1d8)],'portfolio':JSON[_0x598474(0x182)](currentCoins),'threshold':_0x2b916b},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x598474(0x147)])headlessMode({'portfolio':currentCoins,'threshold':_0x2b916b});else{if(lockOrders==ORDERS[_0x598474(0x226)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2b916b});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x205adc=_0x37e3a1;if(!lastBalances)return;let _0x1650b2=[],_0x2e2b0f,_0x3bbdbd=JSON[_0x205adc(0x1f7)](lastBalances[_0x205adc(0x1a0)]);_0x3bbdbd[_0x205adc(0x21d)]((_0x236cc5,_0x50208b)=>_0x236cc5[_0x205adc(0x170)]>_0x50208b['coin']?0x1:_0x50208b[_0x205adc(0x170)]>_0x236cc5[_0x205adc(0x170)]?-0x1:0x0),_0x3bbdbd[_0x205adc(0x16b)](_0x45ad83=>{const _0x2a7f85=_0x205adc;let _0x5b9417={'coin':_0x45ad83[_0x2a7f85(0x170)],'number':_0x45ad83['number'],'price':_0x45ad83[_0x2a7f85(0x19b)]};_0x1650b2[_0x2a7f85(0x1b8)](_0x5b9417);});const _0x54c3cb=await getFiat();_0x2e2b0f={'date':lastBalances[_0x205adc(0x153)][_0x205adc(0x1af)]('\x20')[0x0],'eur':_0x54c3cb[_0x205adc(0x1ad)],'usd':_0x54c3cb[_0x205adc(0x1d8)],'coins':_0x1650b2};let _0x47a631=dbPerformance[_0x205adc(0x189)](_0x205adc(0x1ca))[_0x205adc(0x16f)]({'date':_0x2e2b0f['date']})['value']();_0x47a631?_0x2e2b0f[_0x205adc(0x1c1)]!=config[_0x205adc(0x17e)]&&dbPerformance['get'](_0x205adc(0x1ca))['find']({'date':_0x2e2b0f['date']})[_0x205adc(0x22f)](_0x2e2b0f)['write']():dbPerformance[_0x205adc(0x189)](_0x205adc(0x1ca))[_0x205adc(0x1b8)](_0x2e2b0f)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1d9556=_0x37e3a1;let _0x395903=[];if(dbPerformance[_0x1d9556(0x215)]('data')[_0x1d9556(0x207)]()){let _0x5ba997=dbPerformance['get']('data')['cloneDeep']()[_0x1d9556(0x1e0)]('date')[_0x1d9556(0x207)](),_0x37c725=[...config[_0x1d9556(0x263)]];_0x37c725['sort']((_0x880fb,_0x3be924)=>_0x880fb[_0x1d9556(0x1c1)]>_0x3be924[_0x1d9556(0x1c1)]?-0x1:_0x3be924[_0x1d9556(0x1c1)]>_0x880fb['date']?0x1:0x0);let _0x229e6b=0x1,_0x794773=[],_0x8145e1=0x0;_0x5ba997[_0x1d9556(0x1d9)]()[_0x1d9556(0x155)]()[_0x1d9556(0x16b)]((_0x546973,_0x40b0f6)=>{const _0x260edd=_0x1d9556;if(_0x37c725[_0x8145e1]){if(_0x5ba997[_0x5ba997[_0x260edd(0x275)]-_0x40b0f6]&&_0x37c725[_0x8145e1]['date']==_0x5ba997[_0x5ba997['length']-_0x40b0f6]['date']){if(_0x40b0f6<_0x5ba997[_0x260edd(0x275)]){let _0xadab3c=0x0,_0x4dbbee=0x0;_0x5ba997[_0x5ba997[_0x260edd(0x275)]-_0x40b0f6][_0x260edd(0x228)]['forEach'](_0x2ea2c2=>{const _0xf9ddaf=_0x260edd;_0x4dbbee+=_0x2ea2c2[_0xf9ddaf(0x242)]*_0x2ea2c2[_0xf9ddaf(0x175)];}),_0x37c725[_0x8145e1]['changes'][_0x260edd(0x16b)](_0x299074=>{const _0x22c41b=_0x260edd;_0xadab3c+=_0x299074['number']*_0x299074[_0x22c41b(0x175)];}),_0x229e6b*=_0xadab3c/(_0x4dbbee-_0xadab3c)+0x1;}_0x8145e1++;}}let _0x256c1c=0x0;_0x546973[_0x260edd(0x228)][_0x260edd(0x16b)](_0x20d308=>{const _0x596c70=_0x260edd;_0x256c1c+=_0x20d308[_0x596c70(0x242)]*_0x20d308[_0x596c70(0x175)];}),_0x794773[_0x5ba997[_0x260edd(0x275)]-_0x40b0f6-0x1]=_0x256c1c*(_0x229e6b-0x1);});let _0x4893a5=[];_0x37c725=[...config[_0x1d9556(0x263)]]||[];let _0x39dc13=0x0;_0x8145e1=0x0,_0x5ba997['forEach']((_0x2feff0,_0x4695ed)=>{const _0x10bca4=_0x1d9556;if(_0x37c725[_0x8145e1]){const _0x577134=fns[_0x10bca4(0x1f7)](_0x37c725[_0x8145e1][_0x10bca4(0x1c1)],_0x10bca4(0x21c),new Date()),_0x4cb179=fns['parse'](_0x2feff0['date'],_0x10bca4(0x21c),new Date());if(fns[_0x10bca4(0x169)](_0x577134,_0x4cb179)){let _0xdb33df=0x0;_0x37c725[_0x8145e1][_0x10bca4(0x19e)]['forEach'](_0x362136=>{const _0xa21d0c=_0x10bca4;!_0x4893a5[_0x362136[_0xa21d0c(0x170)]]?_0x4893a5[_0x362136[_0xa21d0c(0x170)]]=_0x362136[_0xa21d0c(0x242)]:(_0xdb33df=_0x4893a5[_0x362136[_0xa21d0c(0x170)]],_0x4893a5[_0x362136[_0xa21d0c(0x170)]]+=_0x362136[_0xa21d0c(0x242)]);const _0x2f4456=_0x2feff0[_0xa21d0c(0x228)][_0xa21d0c(0x16f)](_0x8901a2=>_0x8901a2[_0xa21d0c(0x170)]==_0x362136['coin']);(!_0x2f4456||_0x2f4456[_0xa21d0c(0x242)]==0x0)&&(_0x39dc13+=(-_0x362136['number']-_0xdb33df)*_0x362136[_0xa21d0c(0x175)]);}),_0x8145e1++;}}_0x2feff0[_0x10bca4(0x228)][_0x10bca4(0x16b)]((_0x43f747,_0x55acd8)=>{const _0x568e3a=_0x10bca4;_0x4893a5[_0x43f747[_0x568e3a(0x170)]]&&(_0x43f747={..._0x43f747,'initial':_0x4893a5[_0x43f747[_0x568e3a(0x170)]]}),_0x2feff0[_0x568e3a(0x228)][_0x55acd8]=_0x43f747;}),_0x395903[_0x10bca4(0x1b8)]({'date':_0x2feff0[_0x10bca4(0x1c1)],'eur':_0x2feff0[_0x10bca4(0x1ad)],'usd':_0x2feff0[_0x10bca4(0x1d8)],'offset':_0x794773[_0x4695ed],'netoffset':_0x39dc13,'coins':_0x2feff0[_0x10bca4(0x228)]});});}return _0x395903;}function emitPerformance(_0x145246){const _0x524e96=_0x37e3a1;_0x145246[_0x524e96(0x275)]!==0x0?(proxyEmit(_0x524e96(0x157),_0x145246),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x44f58a,_0x6480b5){const _0x391280=_0x37e3a1;let _0x237149=0x0,_0x22a9f6=0x0,_0x330ee9=0x0;_0x44f58a[_0x391280(0x228)]['forEach'](_0x5e79e7=>{const _0x488c32=_0x391280;_0x237149+=_0x5e79e7[_0x488c32(0x242)]*_0x5e79e7[_0x488c32(0x175)];});_0x6480b5&&(_0x237149+=_0x44f58a['offset']);if(config['basecoin']===_0x391280(0x137)||config['basecoin']===_0x391280(0x15a))_0x22a9f6=_0x237149*_0x44f58a['eur'],_0x330ee9=_0x237149*_0x44f58a[_0x391280(0x1d8)];else{if(config[_0x391280(0x24a)]===_0x391280(0x1e4)||config[_0x391280(0x24a)]==='USDT')_0x22a9f6=_0x237149*_0x44f58a[_0x391280(0x1ad)]/_0x44f58a[_0x391280(0x1d8)],_0x330ee9=_0x237149;else config[_0x391280(0x24a)]==='EUR'&&(_0x22a9f6=_0x237149,_0x330ee9=_0x237149*_0x44f58a[_0x391280(0x1d8)]/_0x44f58a[_0x391280(0x1ad)]);}return[_0x237149,_0x22a9f6,_0x330ee9];}function getKPIs(_0x353d34,_0x7ded6=_0x37e3a1(0x123)){const _0x169655=_0x37e3a1,_0x3d61c9=config[_0x169655(0x24a)],_0x19351c=config[_0x169655(0x238)],_0x54f818=currentCoins,_0x548e45=getNormalizedPerformance(),_0xa144ee=_0x353d34===_0x169655(0x24a)?_0x3d61c9:_0x353d34===_0x169655(0x202)||_0x353d34===_0x169655(0x214)?_0x7ded6:'Net\x20'+_0x3d61c9,_0x22618b=_0x353d34===_0x169655(0x1d5)?'Net\x20effect':_0x353d34===_0x169655(0x214)?_0x169655(0x13c)+_0xa144ee+')':_0xa144ee+'\x20value',_0x4ebdb8=_0x353d34===_0x169655(0x1d5)||_0x353d34===_0x169655(0x214)?_0x169655(0x12f):_0xa144ee+_0x169655(0x252);let _0x58c5d3=0x0;_0x54f818[_0x169655(0x16b)](_0x39346d=>{const _0x1e6d01=_0x169655;_0x58c5d3+=_0x39346d[_0x1e6d01(0x242)]*_0x39346d[_0x1e6d01(0x19b)];});if(_0x353d34===_0x169655(0x202)||_0x353d34===_0x169655(0x214)){if(_0x3d61c9===_0x169655(0x137)||_0x3d61c9===_0x169655(0x15a))_0x58c5d3=_0x58c5d3*(_0x7ded6===_0x169655(0x123)?_0x19351c['eur']:_0x19351c[_0x169655(0x1d8)]);else{if(_0x3d61c9==='BUSD'||_0x3d61c9==='USDT')_0x58c5d3=_0x58c5d3*(_0x7ded6===_0x169655(0x123)?_0x19351c[_0x169655(0x1ad)]/_0x19351c['usd']:0x1);else _0x3d61c9===_0x169655(0x123)&&(_0x58c5d3=_0x58c5d3*(_0x7ded6===_0x169655(0x123)?0x1:_0x19351c[_0x169655(0x1d8)]/_0x19351c[_0x169655(0x1ad)]));}}let _0x1433df;if(_0x58c5d3!==0x0){if(_0x353d34===_0x169655(0x24a))_0x1433df=(_0x58c5d3/startingBalances[_0x169655(0x24a)]-0x1)*0x64;else{if(_0x7ded6===_0x169655(0x123))_0x1433df=(_0x58c5d3/startingBalances[_0x169655(0x1ad)]-0x1)*0x64;else _0x1433df=(_0x58c5d3/startingBalances[_0x169655(0x1d8)]-0x1)*0x64;}let _0x34194b=0x0;if(startingBalances[_0x169655(0x228)])_0x54f818[_0x169655(0x16b)](_0x3eb534=>{const _0x5a3f09=_0x169655;let _0x2610fb=startingBalances[_0x5a3f09(0x228)]['find'](_0x1f1e10=>_0x1f1e10[_0x5a3f09(0x170)]===_0x3eb534['coin']);if(_0x2610fb&&_0x2610fb['coin']&&_0x3eb534[_0x5a3f09(0x242)]!==0x0)_0x34194b+=_0x2610fb[_0x5a3f09(0x242)]*_0x3eb534[_0x5a3f09(0x19b)];});let _0x24521a=0x0;if(_0x548e45['length']!==0x0){let _0x67b39c=_0x548e45[_0x548e45[_0x169655(0x275)]-0x1];_0x24521a=_0x67b39c[_0x169655(0x1d7)];}_0x34194b-=_0x24521a;_0x353d34===_0x169655(0x1d5)&&(_0x1433df=(_0x58c5d3-_0x34194b)/startingBalances[_0x169655(0x24a)]*0x64,_0x58c5d3=_0x58c5d3-_0x34194b);if(_0x353d34===_0x169655(0x214)){let _0x3e1b22=_0x7ded6===_0x169655(0x123)?startingBalances[_0x169655(0x1ad)]:startingBalances[_0x169655(0x1d8)];if(_0x3d61c9==='BTC'||_0x3d61c9===_0x169655(0x15a))_0x34194b=_0x7ded6===_0x169655(0x123)?_0x34194b*_0x19351c[_0x169655(0x1ad)]:_0x34194b*_0x19351c[_0x169655(0x1d8)];else{if(_0x3d61c9===_0x169655(0x1e4)||_0x3d61c9===_0x169655(0x279))_0x34194b=_0x7ded6===_0x169655(0x123)?_0x34194b*_0x19351c[_0x169655(0x1ad)]/_0x19351c[_0x169655(0x1d8)]:_0x34194b;else _0x3d61c9===_0x169655(0x123)&&(_0x34194b=_0x7ded6==='EUR'?_0x34194b:_0x34194b*_0x19351c[_0x169655(0x1d8)]/_0x19351c[_0x169655(0x1ad)]);}_0x1433df=(_0x58c5d3-_0x34194b)/_0x3e1b22*0x64,_0x58c5d3=_0x58c5d3-_0x34194b;}if(_0x1433df){if(_0x1433df<0x64)_0x1433df=_0x1433df[_0x169655(0x156)](0x2);else{if(_0x1433df<0x3e8)_0x1433df=_0x1433df[_0x169655(0x156)](0x1);else _0x1433df=_0x1433df[_0x169655(0x156)](0x0);}}else _0x1433df=Number('0')['toFixed'](0x2);if(_0x58c5d3){if(Math['abs'](_0x58c5d3)<0.000001)_0x58c5d3=_0x58c5d3[_0x169655(0x156)](0x2);else{if(Math[_0x169655(0x1fe)](_0x58c5d3)<0.1)_0x58c5d3=_0x58c5d3[_0x169655(0x156)](0x6);else{if(Math[_0x169655(0x1fe)](_0x58c5d3)<0x1)_0x58c5d3=_0x58c5d3[_0x169655(0x156)](0x5);else{if(Math['abs'](_0x58c5d3)<0xa)_0x58c5d3=_0x58c5d3['toFixed'](0x4);else{if(Math[_0x169655(0x1fe)](_0x58c5d3)<0x64)_0x58c5d3=_0x58c5d3[_0x169655(0x156)](0x3);else{if(Math[_0x169655(0x1fe)](_0x58c5d3)<0x3e8)_0x58c5d3=_0x58c5d3['toFixed'](0x2);else _0x58c5d3=_0x58c5d3['toFixed'](0x2);}}}}}}else _0x58c5d3=Number('0')[_0x169655(0x156)](0x2);}else _0x1433df=Number('0')[_0x169655(0x156)](0x2);return{'value':_0x58c5d3,'change':_0x1433df,'leftTxt':_0x22618b,'rightTxt':_0x4ebdb8};}async function getStartingBalances(_0x11ff97,_0x2bd8ee=!![]){const _0x42d486=_0x37e3a1;if(_0x11ff97['length']!==0x0){const [_0x32b1f4,_0x427d49,_0x13c367]=getPerf(_0x11ff97[0x0],!![]);let _0x661140=[];config[_0x42d486(0x1a0)][_0x42d486(0x16b)](_0x1fa925=>{const _0x27b0b0=_0x42d486;let _0x540708=0x0,_0x3f5c59;config['liquidity']['forEach'](_0x529f65=>{const _0x5d4260=_0x2909;let _0x5e41b2=_0x529f65[_0x5d4260(0x19e)][_0x5d4260(0x16f)](_0x233d46=>_0x233d46['coin']==_0x1fa925[_0x5d4260(0x170)]);if(_0x5e41b2){_0x540708+=_0x5e41b2[_0x5d4260(0x242)];if(!_0x3f5c59)_0x3f5c59=_0x5e41b2['price'];}}),_0x661140[_0x27b0b0(0x1b8)]({'coin':_0x1fa925[_0x27b0b0(0x170)],'number':_0x540708,'initialprice':_0x3f5c59});});const _0x2a0cd9={'basecoin':_0x32b1f4,'eur':_0x427d49,'usd':_0x13c367,'coins':_0x661140};if(_0x2bd8ee)proxyEmit(_0x42d486(0x22e),_0x2a0cd9);startingBalances=_0x2a0cd9;}}function headlessMode(_0x31d77b){const _0x59fc6f=_0x37e3a1;let _0x4529ac=_0x31d77b[_0x59fc6f(0x1a0)],_0x594d4c=_0x31d77b[_0x59fc6f(0x236)],_0x41451e=[];for(let _0x28ad04 of _0x4529ac){if(_0x28ad04[_0x59fc6f(0x170)]!=config['basecoin']){if(_0x28ad04[_0x59fc6f(0x244)]>=_0x594d4c/0x64){if(_0x28ad04[_0x59fc6f(0x272)])_0x41451e[_0x59fc6f(0x1b8)](_0x28ad04);}else{if(_0x28ad04[_0x59fc6f(0x244)]<=-_0x594d4c/0x64){if(_0x28ad04['valid'])_0x41451e[_0x59fc6f(0x1b8)](_0x28ad04);}}}}_0x41451e[_0x59fc6f(0x275)]>0x0&&placeOrder(_0x41451e);}function notifyBalance(_0x126a20){const _0x1e5d42=_0x37e3a1;let _0x434968=_0x126a20[_0x1e5d42(0x1a0)],_0x267ec6=_0x126a20['threshold'],_0x2de2bf=[];for(let _0x3dc9b5 of _0x434968){if(_0x3dc9b5[_0x1e5d42(0x170)]!=config[_0x1e5d42(0x24a)]){if(_0x3dc9b5[_0x1e5d42(0x244)]>=_0x267ec6/0x64){if(_0x3dc9b5[_0x1e5d42(0x272)])_0x2de2bf['push'](_0x3dc9b5);}else{if(_0x3dc9b5['delta']<=-_0x267ec6/0x64){if(_0x3dc9b5[_0x1e5d42(0x272)])_0x2de2bf[_0x1e5d42(0x1b8)](_0x3dc9b5);}}}}if(_0x2de2bf['length']>0x0){let _0x3f1666=_0x2de2bf['map'](_0x18474f=>_0x18474f[_0x1e5d42(0x170)]);_0x3f1666['sort']();let _0x20fb99=_0x3f1666[_0x1e5d42(0x245)](',\x20');if(lastCoinsToBalance!==_0x20fb99)logHistory(_0x1e5d42(0x282),'Manual\x20balancing\x20required:\x20'+_0x20fb99);lastCoinsToBalance=_0x20fb99;}}function symbolToCoin(_0xa7e599){const _0x36737c=_0x37e3a1;let _0xdeb9e1;if(_0xa7e599[_0x36737c(0x27b)]('/'+config['basecoin']))_0xdeb9e1=_0xa7e599[_0x36737c(0x24e)]('/'+config['basecoin'],'');if(_0xa7e599[_0x36737c(0x27b)](config[_0x36737c(0x24a)]+'/'))_0xdeb9e1=_0xa7e599['replace'](config[_0x36737c(0x24a)]+'/','');return _0xdeb9e1;}async function unlockOrders(){const _0x469180=_0x37e3a1;if(allOrdersPlaced){lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x469180(0x231),persistOpenOrders([]),lockOrders=ORDERS[_0x469180(0x226)];}}async function validateOrders(_0x144127){const _0x5b9032=_0x37e3a1;if(_0x144127)validateOrdersState=_0x144127;let _0x223671=[],_0x1f1262=config[_0x5b9032(0x1dc)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x5b9032(0x219)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x5b9032(0x1c2)])return;lastOrders[_0x5b9032(0x16b)](_0x40df69=>{const _0x1e5d36=_0x5b9032;let _0x39c28f=![];_0x40df69[_0x1e5d36(0x21b)]>0x0&&(_0x39c28f=!![]),_0x223671['push'](_0x39c28f),_0x39c28f&&config[_0x1e5d36(0x1dc)]!=_0x1e5d36(0x13d)&&logHistory(_0x1e5d36(0x196),'Order\x20filled:\x20'+_0x40df69[_0x1e5d36(0x1d2)]+'\x20'+_0x40df69[_0x1e5d36(0x1f9)]+'\x20#'+formatResult(_0x40df69[_0x1e5d36(0x21b)],0x8)+'\x20@'+formatResult(_0x40df69[_0x1e5d36(0x175)],0x8));}),_0x223671[_0x5b9032(0x16b)]((_0x5f3512,_0xc512ac)=>{const _0x1b546c=_0x5b9032;if(_0x5f3512)lastOrders[_0x1b546c(0x25b)](_0xc512ac,0x1);}),persistOpenOrders(lastOrders);const _0x2b6c21=coolingDown?_0x5b9032(0x198):_0x5b9032(0x249);if(validateOrdersState==_0x5b9032(0x231))validateOrdersState=_0x5b9032(0x1cc),_0x223671[_0x5b9032(0x27b)](![])?config['ordertype']==_0x5b9032(0x13d)?logHistory(_0x5b9032(0x1c8),_0x5b9032(0x180)):logHistory(_0x5b9032(0x1c8),_0x5b9032(0x135)):await unlockOrders();else{if(validateOrdersState==_0x5b9032(0x1cc)){if(_0x223671[_0x5b9032(0x27b)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x5b9032(0x13d)?logHistory(_0x5b9032(0x282),_0x5b9032(0x200)+_0x2b6c21):logHistory(_0x5b9032(0x282),_0x5b9032(0x160)+_0x2b6c21),await unlockOrders());}else{if(validateOrdersState==_0x5b9032(0x26f))_0x223671[_0x5b9032(0x27b)](![])&&(config[_0x5b9032(0x1dc)]==_0x5b9032(0x13d)?logHistory(_0x5b9032(0x282),_0x5b9032(0x133)+Math[_0x5b9032(0x26c)](_0x1f1262*validateOrderInterval/0xea60)+_0x5b9032(0x229)+_0x2b6c21):(await cancelOrders(),logHistory(_0x5b9032(0x282),_0x5b9032(0x138)+Math[_0x5b9032(0x26c)](_0x1f1262*validateOrderInterval/0xea60)+_0x5b9032(0x229)+_0x2b6c21))),await unlockOrders();else{if(validateOrdersState==_0x5b9032(0x16a)){if(config['ordertype']!='market')logHistory(_0x5b9032(0x282),_0x5b9032(0x1a2)+_0x2b6c21);await unlockOrders();}}}}}async function cancelOrders(){const _0x4001ef=_0x37e3a1;lastOrders[_0x4001ef(0x16b)](async _0x40f301=>{const _0xe06dff=_0x4001ef;try{const _0x4d4b73=await exchange[_0xe06dff(0x1f5)](_0x40f301[_0xe06dff(0x1a4)],_0x40f301['symbol']);}catch(_0x57f8cf){if(_0x57f8cf['toString']()[_0xe06dff(0x27b)](_0xe06dff(0x216))){}else await handleError(_0x57f8cf,_0xe06dff(0x1fd));}});}async function initCoinResults(){const _0x47f940=_0x37e3a1;let _0x338916=[];config[_0x47f940(0x1a0)][_0x47f940(0x16b)](_0x448755=>{const _0x7a508c=_0x47f940;if(!_0x448755[_0x7a508c(0x1eb)]&&_0x448755[_0x7a508c(0x170)]!=config['basecoin']){let _0x15ad81=dbCoinResults['get']('coins')[_0x7a508c(0x16f)]({'coin':_0x448755[_0x7a508c(0x170)]})['value']();if(!_0x15ad81){const _0x1f4b57=currentCoins['find'](_0x51ed8b=>_0x51ed8b[_0x7a508c(0x170)]==_0x448755[_0x7a508c(0x170)]),_0x12949f=global[_0x7a508c(0x1ff)][noslash(_0x448755[_0x7a508c(0x1d2)])];let _0x241571=_0x1f4b57?_0x1f4b57[_0x7a508c(0x242)]:null,_0xb472f6=_0x448755[_0x7a508c(0x155)]?0x1/_0x12949f:_0x12949f,_0x3a8725;config['liquidity']['forEach'](_0x26ed1d=>{const _0x58a1a2=_0x7a508c;!_0x3a8725&&(_0x3a8725=_0x26ed1d[_0x58a1a2(0x19e)]['find'](_0x33579c=>_0x33579c[_0x58a1a2(0x170)]==_0x448755['coin']),_0x3a8725&&(_0x241571=_0x3a8725[_0x58a1a2(0x242)],_0xb472f6=_0x3a8725[_0x58a1a2(0x175)]));}),_0x338916[_0x7a508c(0x1b8)]({'coin':_0x448755[_0x7a508c(0x170)],'number':_0x241571,'price':_0xb472f6});}}}),_0x338916[_0x47f940(0x16b)](_0x23c0b7=>{const _0x3b2f1a=_0x47f940,_0x4b326b={'coin':_0x23c0b7[_0x3b2f1a(0x170)],'number':_0x23c0b7['number'],'breakeven':_0x23c0b7[_0x3b2f1a(0x175)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')['push'](_0x4b326b)['write']();});}async function updateCoinResults(_0x1f3a65,_0x2a9155=![]){const _0x5d0b46=_0x37e3a1;let _0x502da5,_0xff9fe7,_0x48c5c6,_0x2be474,_0xc9921a,_0x171947,_0x329ee9=dbCoinResults['get']('coins')['find']({'coin':_0x1f3a65['coin']})['value']();!_0x329ee9&&await initCoinResults();_0x1f3a65[_0x5d0b46(0x155)]&&(_0x171947={'filled':_0x1f3a65[_0x5d0b46(0x21b)]*_0x1f3a65['price'],'amount':_0x1f3a65[_0x5d0b46(0x21b)]*_0x1f3a65[_0x5d0b46(0x175)],'side':_0x1f3a65[_0x5d0b46(0x1f9)]==_0x5d0b46(0x25d)?_0x5d0b46(0x235):'sell','price':0x1/_0x1f3a65[_0x5d0b46(0x175)]},_0x1f3a65={..._0x1f3a65,..._0x171947});_0x2a9155?_0xff9fe7=_0x1f3a65[_0x5d0b46(0x1f9)]==_0x5d0b46(0x235)?_0x329ee9[_0x5d0b46(0x242)]+_0x1f3a65[_0x5d0b46(0x21b)]:_0x329ee9[_0x5d0b46(0x242)]-_0x1f3a65[_0x5d0b46(0x21b)]:_0xff9fe7=await getCoinNumber(_0x1f3a65[_0x5d0b46(0x170)]);if(_0x1f3a65[_0x5d0b46(0x1f8)]&&_0x1f3a65[_0x5d0b46(0x1f8)][_0x5d0b46(0x1e2)]==config['basecoin'])_0x502da5=_0x1f3a65[_0x5d0b46(0x1f8)]['cost'];else{if(_0x1f3a65[_0x5d0b46(0x1f8)]&&_0x1f3a65['fee'][_0x5d0b46(0x1e2)]==_0x5d0b46(0x15c)&&!_0x2a9155)_0x502da5=_0x1f3a65['fee'][_0x5d0b46(0x22a)]*global[_0x5d0b46(0x1ff)][_0x5d0b46(0x15c)+config[_0x5d0b46(0x24a)]];else _0x502da5=defaultFee*_0x1f3a65[_0x5d0b46(0x21b)]*_0x1f3a65[_0x5d0b46(0x175)];}_0x1f3a65[_0x5d0b46(0x1f9)]==_0x5d0b46(0x235)?(_0x48c5c6=_0xff9fe7!=0x0?(_0x329ee9[_0x5d0b46(0x273)]*_0x329ee9[_0x5d0b46(0x242)]+_0x1f3a65['price']*(_0xff9fe7-_0x329ee9[_0x5d0b46(0x242)])+_0x502da5)/_0xff9fe7:0x0,_0x2be474=_0x329ee9[_0x5d0b46(0x1d6)]):(_0x48c5c6=_0xff9fe7!=0x0?(_0x329ee9['breakeven']*_0x329ee9[_0x5d0b46(0x242)]-_0x1f3a65['price']*(_0x329ee9[_0x5d0b46(0x242)]-_0xff9fe7)+_0x502da5)/_0xff9fe7:0x0,_0x2be474=_0x329ee9[_0x5d0b46(0x1d6)]+(_0x1f3a65[_0x5d0b46(0x175)]-_0x329ee9['breakeven'])*_0x1f3a65[_0x5d0b46(0x21b)]);_0xc9921a=(_0x1f3a65[_0x5d0b46(0x175)]-_0x48c5c6-_0x502da5/_0x1f3a65[_0x5d0b46(0x21b)])*_0xff9fe7;let _0x14e29f={'coin':_0x1f3a65[_0x5d0b46(0x170)],'number':_0xff9fe7,'breakeven':formatResult(_0x48c5c6,0x8),'realized':formatResult(_0x2be474,0x8),'unrealized':formatResult(_0xc9921a,0x8),'fees':formatResult(_0x329ee9[_0x5d0b46(0x23f)]+_0x502da5,0x8),'sells':_0x1f3a65[_0x5d0b46(0x1f9)]==_0x5d0b46(0x25d)?_0x329ee9[_0x5d0b46(0x1f4)]+0x1:_0x329ee9['sells'],'buys':_0x1f3a65[_0x5d0b46(0x1f9)]=='buy'?_0x329ee9[_0x5d0b46(0x212)]+0x1:_0x329ee9[_0x5d0b46(0x212)]};dbCoinResults[_0x5d0b46(0x189)](_0x5d0b46(0x228))[_0x5d0b46(0x16f)]({'coin':_0x1f3a65['coin']})[_0x5d0b46(0x22f)](_0x14e29f)[_0x5d0b46(0x16d)]();if(!_0x2a9155){if(_0x1f3a65[_0x5d0b46(0x1f8)]&&_0x1f3a65['fee'][_0x5d0b46(0x1e2)]==_0x5d0b46(0x15c)){const _0x532cf4=currentCoins['find'](_0x5265d5=>_0x5265d5[_0x5d0b46(0x170)]==_0x5d0b46(0x15c));if(_0x532cf4){let _0xed5075=dbCoinResults['get'](_0x5d0b46(0x228))[_0x5d0b46(0x16f)]({'coin':_0x5d0b46(0x15c)})['value']();_0x14e29f={..._0xed5075,'number':_0x532cf4[_0x5d0b46(0x242)]},dbCoinResults[_0x5d0b46(0x189)](_0x5d0b46(0x228))[_0x5d0b46(0x16f)]({'coin':'BNB'})['assign'](_0x14e29f)[_0x5d0b46(0x16d)]();}}}}async function placeOrder(_0x44671f){const _0x5697c3=_0x37e3a1,_0x2efdcc=config[_0x5697c3(0x1dc)]==_0x5697c3(0x13d)?_0x5697c3(0x13d):_0x5697c3(0x1a7);if(lockOrders==ORDERS[_0x5697c3(0x226)]&&!coolingDown){lockOrders=ORDERS[_0x5697c3(0x1c2)],allOrdersPlaced=![],validateOrdersState=_0x5697c3(0x231),lastOrders=[];for(const _0x3ca965 of _0x44671f){let _0x2d9ccc,_0x3ffbcb,_0x2b550f,_0x2eb4b1,_0x3eb1c0,_0x501142=_0x3ca965[_0x5697c3(0x1d2)];try{const _0x589ba6=await exchange[_0x5697c3(0x168)]([_0x501142]),_0x368556=_0x589ba6[_0x501142];_0x2d9ccc=_0x3ca965[_0x5697c3(0x155)]?0x1/_0x3ca965[_0x5697c3(0x19b)]:_0x3ca965['last'],_0x3ffbcb=_0x368556[_0x5697c3(0x1d3)],_0x2b550f=_0x368556['ask'];_0x3ca965[_0x5697c3(0x155)]?(_0x2eb4b1=_0x3ca965[_0x5697c3(0x1f9)]==_0x5697c3(0x235)?_0x5697c3(0x25d):_0x5697c3(0x235),_0x3eb1c0=Math[_0x5697c3(0x1fe)](_0x3ca965[_0x5697c3(0x280)])/_0x2d9ccc):(_0x2eb4b1=_0x3ca965[_0x5697c3(0x1f9)],_0x3eb1c0=Math['abs'](_0x3ca965[_0x5697c3(0x280)]));_0x2efdcc=='limit'&&(config[_0x5697c3(0x1dc)]=='limit-high'&&(_0x2d9ccc=_0x2eb4b1==_0x5697c3(0x235)?_0x3ffbcb:_0x2b550f),config[_0x5697c3(0x1dc)]==_0x5697c3(0x191)&&(_0x2d9ccc=_0x2eb4b1==_0x5697c3(0x235)?_0x2b550f:_0x3ffbcb));_0x3eb1c0=formatResult(_0x3eb1c0,0x8),_0x2d9ccc=formatResult(_0x2d9ccc,0x8);const _0x2701fc=new Date()[_0x5697c3(0x232)]()[_0x5697c3(0x139)]()[_0x5697c3(0x1d9)](-0x6)+'-'+Math['random']()[_0x5697c3(0x139)]()[_0x5697c3(0x1d9)](-0x6);lastOrders['push']({'customId':_0x2701fc,'symbol':_0x501142,'coin':_0x3ca965[_0x5697c3(0x170)],'side':_0x2eb4b1,'reverse':_0x3ca965[_0x5697c3(0x155)]}),console[_0x5697c3(0x129)](lastOrders);const _0x1c4e70=await exchange[_0x5697c3(0x1e3)](_0x501142,_0x2efdcc,_0x2eb4b1,_0x3eb1c0,_0x2d9ccc,{'clientOrderId':_0x2701fc}),_0x5d7021=lastOrders[_0x5697c3(0x275)]-0x1;_0x5d7021>=0x0&&lastOrders[_0x5d7021]['customId']==_0x2701fc&&(lastOrders[_0x5d7021]={'customId':_0x2701fc,'orderId':_0x1c4e70['id'],'symbol':_0x501142,'coin':_0x3ca965[_0x5697c3(0x170)],'side':_0x2eb4b1,'reverse':_0x3ca965[_0x5697c3(0x155)],'amount':_0x1c4e70[_0x5697c3(0x13a)],'filled':0x0,'price':_0x1c4e70[_0x5697c3(0x175)],'fee':_0x1c4e70[_0x5697c3(0x1f8)]});console['log'](lastOrders);const _0x2de861=_0x2eb4b1=='sell'?config[_0x5697c3(0x18c)]?String[_0x5697c3(0x222)]('0x'+config[_0x5697c3(0x18c)])+'\x20':'':config[_0x5697c3(0x20f)]?String[_0x5697c3(0x222)]('0x'+config[_0x5697c3(0x20f)])+'\x20':'',_0x10947c=_0x2efdcc=='market'?_0x5697c3(0x274):config[_0x5697c3(0x1dc)]=='limit-high'?_0x5697c3(0x264):_0x5697c3(0x154);if(_0x2efdcc==_0x5697c3(0x13d))logHistory(_0x5697c3(0x196),''+_0x2de861+_0x10947c+'\x20order:\x20'+_0x501142+'\x20'+_0x2eb4b1+'\x20#'+formatResult(_0x1c4e70[_0x5697c3(0x21b)],0x8)+'\x20@'+formatResult(_0x1c4e70['price'],0x8));else logHistory('order',''+_0x2de861+_0x10947c+_0x5697c3(0x240)+_0x501142+'\x20'+_0x2eb4b1+'\x20#'+formatResult(_0x1c4e70[_0x5697c3(0x13a)],0x8)+'\x20@'+formatResult(_0x1c4e70[_0x5697c3(0x175)],0x8));let _0x2405cc=currentCoins[_0x5697c3(0x16f)](_0x267f7b=>_0x267f7b[_0x5697c3(0x170)]==_0x3ca965['coin']);_0x2405cc[_0x5697c3(0x1dd)]=_0x5697c3(0x1fb);if(config[_0x5697c3(0x15d)]!=0x0){let _0x534f7f=null;if(cooldownTracker['length']==config[_0x5697c3(0x15d)]-0x1)_0x534f7f=cooldownTracker[_0x5697c3(0x230)]();const _0x3b6cd3=getTimeStamp();cooldownTracker['push'](_0x3b6cd3);if(_0x534f7f){const _0x5a62ce=fns[_0x5697c3(0x27d)](new Date(_0x3b6cd3),new Date(_0x534f7f));if(_0x5a62ce<cooldownInterval){logHistory('error','Executed\x20'+config[_0x5697c3(0x15d)]+_0x5697c3(0x167)+cooldownInterval/0x3c+_0x5697c3(0x1bd)+cooldownPeriod/(0xe10*0x3e8)+_0x5697c3(0x145)),coolingDown=!![];break;}}}}catch(_0x2eb510){if(_0x2eb510[_0x5697c3(0x139)]()[_0x5697c3(0x27b)]('MIN_NOTIONAL'))logHistory(_0x5697c3(0x1c8),_0x5697c3(0x16e)+_0x501142);else{if(_0x2eb510[_0x5697c3(0x139)]()[_0x5697c3(0x27b)](_0x5697c3(0x163)))logHistory(_0x5697c3(0x1c8),_0x5697c3(0x1a3)+_0x501142);else await handleError(_0x2eb510,_0x5697c3(0x21a),_0x501142);}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5882ac=config[_0x5697c3(0x1dc)]==_0x5697c3(0x13d)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5882ac),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5697c3(0x282),_0x5697c3(0x17c)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x5697c3(0x1b0));else lockOrders!=ORDERS[_0x5697c3(0x226)]&&(!config[_0x5697c3(0x147)]&&(config[_0x5697c3(0x1dc)]=='market'?logHistory(_0x5697c3(0x1c8),_0x5697c3(0x1ae)):logHistory(_0x5697c3(0x1c8),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x588fc3){const _0x3ab415=_0x37e3a1,_0x3ea073={...config,'openOrders':_0x588fc3};let _0x2eec6c=dbConfig['get'](_0x3ab415(0x162))[_0x3ab415(0x16f)]({'botID':botID})[_0x3ab415(0x207)]();_0x2eec6c&&dbConfig['get'](_0x3ab415(0x162))[_0x3ab415(0x16f)]({'botID':botID})[_0x3ab415(0x22f)](_0x3ea073)['write']();}function restoreOrders(){const _0xc1b517=_0x37e3a1;let _0x212a9e;allOpenOrders[_0xc1b517(0x16b)](_0x51f3cc=>{const _0x213e70=_0xc1b517,_0x4fe00b=config[_0x213e70(0x1cb)][_0x213e70(0x16f)](_0x1d6f2c=>_0x1d6f2c[_0x213e70(0x1a4)]==_0x51f3cc['id']);_0x4fe00b&&(lastOrders[_0x213e70(0x1b8)](_0x4fe00b),_0x212a9e=_0x51f3cc[_0x213e70(0x26b)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0xc1b517(0x1c2)],validateOrdersState=_0xc1b517(0x1cc),allOrdersPlaced=!![];const _0x44767d=new Date()[_0xc1b517(0x232)](),_0x43a3e5=config[_0xc1b517(0x1dc)]==_0xc1b517(0x13d)?validateOrderTimeout*0x3c*0x3e8:config[_0xc1b517(0x219)]*0x3c*0x3e8;if(_0x212a9e+_0x43a3e5>_0x44767d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x212a9e+_0x43a3e5-_0x44767d);}else validateOrders('final');}}async function sendPortfolioTelegram(){const _0x2b7179=_0x37e3a1;if(loading[_0x2b7179(0x148)]!=0x64){process[_0x2b7179(0x16c)]({'telegrammsg':_0x2b7179(0x243)},_0xffe9f5=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x2ecf43=[_0x2b7179(0x123),_0x2b7179(0x1e4),_0x2b7179(0x279)],_0x243c0e=_0x2ecf43[_0x2b7179(0x27b)](config[_0x2b7179(0x24a)])?0x2:0x8;let _0x2979a7='';if(config[_0x2b7179(0x131)])_0x2979a7=_0x2b7179(0x233)+config[_0x2b7179(0x258)]+_0x2b7179(0x276);else _0x2979a7=_0x2b7179(0x132)+botID+_0x2b7179(0x276);const _0x447210=getKPIs(_0x2b7179(0x24a)),_0x30add8=getKPIs('net-basecoin');_0x2979a7+=_0x2b7179(0x1f3),_0x2979a7+=_0x447210['leftTxt']+'\x20:\x20'+_0x447210[_0x2b7179(0x207)]+'\x20\x0a',_0x2979a7+=_0x447210['rightTxt']+':\x20'+_0x447210[_0x2b7179(0x20e)]+_0x2b7179(0x1d4),_0x2979a7+=_0x30add8['leftTxt']+':\x20'+_0x30add8['value']+'\x20'+config[_0x2b7179(0x24a)]+'\x0a',_0x2979a7+=_0x30add8[_0x2b7179(0x1bf)]+':\x20'+_0x30add8[_0x2b7179(0x20e)]+'%\x20\x0a',_0x2979a7+='\x0a',_0x2979a7+='-------------------------------\x0a',_0x2979a7+=_0x2b7179(0x1cd),_0x2979a7+=_0x2b7179(0x1a8),currentCoins[_0x2b7179(0x16b)](_0x50c81b=>{const _0x992d0d=_0x2b7179;_0x2979a7+=_0x50c81b[_0x992d0d(0x170)][_0x992d0d(0x14e)](0x7)+'|\x20'+formatPad(_0x50c81b[_0x992d0d(0x269)],0x2,0x6)+'|\x20'+formatPad(_0x50c81b[_0x992d0d(0x221)],0x2,0x6)+'|\x20'+formatPad(_0x50c81b[_0x992d0d(0x244)]*0x64,0x2,0x6)+'\x0a';}),_0x2979a7+=_0x2b7179(0x24f),process['send']({'telegrammsg':_0x2979a7},_0x2b71ba=>{});}function formatPad(_0x5e07ff,_0x59646f,_0x5a1a69){const _0x41ec00=_0x37e3a1,_0x534412=formatResultString(_0x5e07ff,_0x59646f);return _0x534412?_0x534412[_0x41ec00(0x1fa)](_0x5a1a69):''['padStart'](_0x5a1a69);}function logHistory(_0x204f99,_0x2aa539,_0x45e574=''){const _0x357ca5=_0x37e3a1;let _0x416458={'time':getTimeStamp(),'type':_0x204f99,'event':_0x2aa539};dbLogs[_0x357ca5(0x189)](_0x357ca5(0x1ce))['push'](_0x416458)[_0x357ca5(0x16d)]();if(_0x45e574=='')_0x45e574=_0x2aa539;proxyEmit('event',{'log':_0x416458,'summary':_0x45e574}),process[_0x357ca5(0x16c)]({'telegram':{..._0x416458,'botname':config['botname'],'showname':config[_0x357ca5(0x131)]}},_0x384300=>{}),logger[_0x357ca5(0x15b)](''+_0x416458[_0x357ca5(0x210)]);}function emitHistory(_0x34abfd={}){const _0x17292a=_0x37e3a1;Object[_0x17292a(0x15e)](_0x34abfd)[_0x17292a(0x275)]==0x0&&(_0x34abfd={'type':[_0x17292a(0x196),_0x17292a(0x210)],'event':'','page':0x1});if(_0x34abfd[_0x17292a(0x1be)][_0x17292a(0x27b)](_0x17292a(0x210)))_0x34abfd['type']['splice'](_0x34abfd[_0x17292a(0x1be)]['indexOf'](_0x17292a(0x210)),0x1,_0x17292a(0x1c8),'success');if(dbLogs[_0x17292a(0x215)](_0x17292a(0x1ce))[_0x17292a(0x207)]()){let _0x242b52=dbLogs[_0x17292a(0x189)](_0x17292a(0x1ce))[_0x17292a(0x213)](_0x279ae1=>{const _0x2dcda1=_0x17292a;if(_0x34abfd[_0x2dcda1(0x1be)]['length']==0x0)return![];else return _0x34abfd['type'][_0x2dcda1(0x27b)](_0x279ae1[_0x2dcda1(0x1be)]);})['filter'](_0x1bc960=>{const _0x59678b=_0x17292a;if(_0x34abfd[_0x59678b(0x210)]=='')return!![];else return _0x1bc960[_0x59678b(0x210)][_0x59678b(0x12a)]()[_0x59678b(0x27b)](_0x34abfd[_0x59678b(0x210)]['toLowerCase']());})['sortBy']('time'),_0x301760=_0x242b52[_0x17292a(0x207)]()[_0x17292a(0x275)];_0x242b52=_0x242b52[_0x17292a(0x155)]()['slice']((_0x34abfd['page']-0x1)*logPageSize,_0x34abfd['page']*logPageSize-0x1)[_0x17292a(0x155)]()[_0x17292a(0x207)](),proxyEmit(_0x17292a(0x27c),{'logs':_0x242b52,'total':_0x301760});}else proxyEmit(_0x17292a(0x27c),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4c44d0){const _0x14ee78=_0x37e3a1;if(dbLogs['has'](_0x14ee78(0x1ce))[_0x14ee78(0x207)]()){const _0x39ffac=dbLogs[_0x14ee78(0x189)]('logs')[_0x14ee78(0x1e0)](_0x14ee78(0x153))[_0x14ee78(0x213)](_0x5ddd39=>{const _0x1b500b=_0x14ee78;return _0x5ddd39[_0x1b500b(0x1be)]==_0x1b500b(0x196);})[_0x14ee78(0x207)]();dbLogs[_0x14ee78(0x189)](_0x14ee78(0x1ce))['remove']()[_0x14ee78(0x16d)](),dbLogs[_0x14ee78(0x189)](_0x14ee78(0x1ce))[_0x14ee78(0x22f)](_0x39ffac)[_0x14ee78(0x16d)](),emitHistory(_0x4c44d0);}}function _0x5723(){const _0x37a5f5=['join','parseISO','930ARrpOG','toggleBotMode','balancing\x20resumed','basecoin','\x20|\x20Binance\x20API\x20secret\x20invalid','56568KybDiO','storeConfiguration','replace','</pre>','CANCELED','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','\x20change','lastOrders','getStartingBalances','\x20-\x20',')\x20|\x20Error\x20details:\x20','subscribeSpotKline','botname','running','33nwWMvm','splice','settings','sell','\x20|\x20Error\x20details:\x20','argv','Bot\x20','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','FILLED','liquidity','Limit\x20(high-margin)','API\x20or\x20clock\x20sync\x20issue','AuthenticationError','XEM/BUSD','canceled','distribution','recreate','timestamp','round','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','accumulatedQuantity','final','Binance\x20API\x20blocked','remainingSymbols','valid','breakeven','Market','length','\x20portfolio:</b>\x20\x0a\x0a','precision','message','USDT','version','includes','event-history','differenceInSeconds','binanceus','87692kUjTKS','trade','milliseconds','success','apiKey','EUR','util','fetchOpenOrders','Binance\x20not\x20available\x20(1)','orderStatus','lowdb','log','toLowerCase','initws()','exchange','apiSecret','defaults','Net\x20effect','set','showname','<b>Bot\x20','Order(s)\x20not\x20validated\x20after\x20','/USDT','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','string','BTC','Unfilled\x20order(s)\x20canceled\x20after\x20','toString','amount','fetchBalance','Net\x20effect\x20(','market','234896goQyca','concat','getFullYear','findIndex','priceChangePercent','/output-000.log','wsMarket','\x20hour','-config.json','headless','progress','Binance\x20API\x20key\x20is\x20invalid','spot','DAI/','startnumber','mkdirSync','padEnd','max','fetchClosedOrders','symbols','decrypt','time','Limit\x20(low-margin)','reverse','toFixed','performance',':\x20Bot\x20','cumulativeQuoteAssetTransactedQty','ETH','full','BNB','cooldown','keys','total','Order(s)\x20filled\x20-\x20','_events','bot','Invalid\x20quantity','getOpenOrders()','executionReport','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','\x20orders\x20in\x20less\x20than\x20','fetchTickers','isEqual','no\x20open\x20orders','forEach','send','write','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','find','coin','api_key','loadMarkets','add','DDoSProtection','price','existsSync','-events.json','starting-balance-','constructor','Pausing\x20for\x20','none','Cooldown\x20ended\x20-\x20balancing\x20resumed','emitHistory','startdate','2.3.5','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','userData','stringify','25056ikQPAh','restart','startprice','apply','wss://stream.binance.com:9443','getPortfolio','get','\x20|\x20','newClientOrderId','emojisell','getCoins()','privateKey','deleteHistoryAlerts','args','limit-low','BNB/','./version.json','wss://stream.binance.us:9443','configuration-stored','order','exec','balancing\x20resumes\x20when\x20cooldown\x20ends','binance','bb-secure.json','last','getFiat()','./config/','changes','freeze','portfolio','\x20|\x20Binance\x20API\x20key\x20invalid','No\x20more\x20open\x20orders\x20-\x20','Order\x20amount\x20is\x20invalid:\x20','orderId','9yCRudm','enabled','limit','-------------------------------\x0a','loadSymbols()',',\x20must\x20be\x20a\x203\x20digit\x20number','NEW','868000fOJKwb','eur','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','split','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','getDate','NANO/','\x20>\x20','getMinutes','359442wddzfU','001','***','push','exit','coin-loading-progress','wsKey','RSA-OAEP','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','type','rightTxt','2.5.0','date','LOCKED','.json','recovery','ExchangeNotAvailable','change24h','remove','error','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','data','openOrders','ongoing','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','logs','sendPortfolioTelegram','cancel','placeOrder','symbol','bid','%\x20\x0a','net-basecoin','realized','netoffset','usd','slice','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','lowdb/adapters/FileSync','ordertype','orderstatus','datetime','Crypt','sortBy','api_secret','currency','createOrder','BUSD','reconnected','bb-settings.json','writeFile','storeHeadless','getSeconds','Error:\x20Invalid\x20argument\x20','excluded','min','entries','kill','botID','initclient','createWriteStream','9022926pAUnnF','<pre>','sells','cancelOrder','Binance\x20API\x20secret\x20is\x20invalid','parse','fee','side','padStart','open','customId','cancelOrders()','abs','ticker','Order(s)\x20validated\x20-\x20','function','fiat','formattedMessage','************','configuration','offset','value','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','commission','cancelLoading','limits','change','emojibuy','event','(((.+)+)+)+$','buys','filter','net-fiat','has','OrderNotFound','search','getMonth','timeout','placeOrder()','filled','yyyy/MM/dd','sort','-performance.json','25sRsPmD','options','target','fromCodePoint','/backup/','getHours','InvalidNonce','UNLOCKED','timeshift','coins','\x20minutes\x20-\x20','cost','\x20minutes','kline','RequestTimeout','starting-balances','assign','shift','initial','getTime','<b>','eventType','buy','threshold','format','balances','./logs/','isArray','yyyy-MM-dd\x27T\x27HH:mm:ss','close','recreateCoinResults()','WebSockets(','fees','\x20order:\x20','bot-','number','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','delta'];_0x5723=function(){return _0x37a5f5;};return _0x5723();}async function pauseBot(_0x903e8=''){const _0x221dfd=_0x37e3a1,_0x2579c8=new Date()[_0x221dfd(0x232)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x2579c8-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x221dfd(0x16c)]({'stop':_0x221dfd(0x184)},_0x205ab6=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x221dfd(0x232)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x903e8)_0x903e8+=_0x221dfd(0x18a);logHistory(_0x221dfd(0x1c8),_0x903e8+_0x221dfd(0x17a)+pauseBotInterval/0xea60+_0x221dfd(0x22b)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x5df6a6=_0x37e3a1;process[_0x5df6a6(0x16c)]({'stop':_0x5df6a6(0x1ee)},_0x325ac7=>{}),await sleep(0x7d0);}async function handleError(_0x4fc115,_0x185f22,_0x364e3c=''){const _0x282090=_0x37e3a1;if(_0x4fc115['toString']()[_0x282090(0x27b)](_0x282090(0x174)))await pauseBot(_0x282090(0x270));else{if(_0x4fc115['toString']()['includes'](_0x282090(0x1c5)))await pauseBot('Binance\x20not\x20available\x20(2)');else{if(_0x4fc115[_0x282090(0x139)]()[_0x282090(0x27b)](_0x282090(0x22d)))await pauseBot('Binance\x20not\x20responding');else{if(_0x4fc115[_0x282090(0x139)]()['includes']('API-key\x20format\x20invalid'))logHistory('error',_0x185f22+_0x282090(0x1a1)),logHistory(_0x282090(0x1c8),_0x282090(0x20a)),await killBot();else{if(_0x4fc115[_0x282090(0x139)]()[_0x282090(0x27b)](_0x282090(0x266)))logHistory('error',_0x185f22+_0x282090(0x26d)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4fc115['toString']()['includes'](_0x282090(0x209)))logHistory('error',_0x185f22+_0x282090(0x24b)),logHistory(_0x282090(0x1c8),_0x282090(0x20a)),await killBot();else{if(_0x4fc115[_0x282090(0x139)]()[_0x282090(0x27b)](_0x282090(0x251)))logHistory(_0x282090(0x1c8),_0x185f22+_0x282090(0x1c9)),logHistory(_0x282090(0x1c8),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4fc115[_0x282090(0x139)]()[_0x282090(0x27b)](_0x282090(0x225)))await pauseBot(_0x282090(0x265)),process[_0x282090(0x16c)]({'stop':_0x282090(0x184)},_0x2f69d3=>{});else _0x4fc115[_0x282090(0x139)]()[_0x282090(0x27b)]('InsufficientFunds')?logHistory('error',_0x185f22+_0x282090(0x261)+_0x364e3c):(logger[_0x282090(0x15b)](_0x185f22+_0x282090(0x25e),_0x4fc115),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x2f891e,_0x12d7c2){return parseFloat(_0x2f891e['toFixed'](_0x12d7c2));}function formatResultTruncate(_0x16ce51,_0x1badcc){const _0x586a17=_0x37e3a1;let _0x1bdd49=formatResultString(_0x16ce51,0xa),_0x530e20=_0x1bdd49['indexOf']('.');return _0x530e20!=-0x1&&(_0x1bdd49=_0x1bdd49[_0x586a17(0x1d9)](0x0,_0x530e20+_0x1badcc+0x1)),Number(_0x1bdd49);}function formatResultString(_0x3ea7d1,_0x3ae899){const _0x34f25e=_0x37e3a1;let _0x48a9f3;if(!(''+_0x3ea7d1)['includes']('e'))_0x48a9f3=+(Math[_0x34f25e(0x26c)](_0x3ea7d1+'e+'+_0x3ae899)+'e-'+_0x3ae899);else{let _0x5cd2c9=(''+_0x3ea7d1)[_0x34f25e(0x1af)]('e'),_0x56ce7d='';+_0x5cd2c9[0x1]+_0x3ae899>0x0&&(_0x56ce7d='+'),_0x48a9f3=+(Math[_0x34f25e(0x26c)](+_0x5cd2c9[0x0]+'e'+_0x56ce7d+(+_0x5cd2c9[0x1]+_0x3ae899))+'e-'+_0x3ae899);}return Number(_0x48a9f3)['toFixed'](_0x3ae899);}function getServerTime(){const _0x2fab98=_0x37e3a1,_0x228c0b=new Date();return _0x228c0b[_0x2fab98(0x140)]()+'/'+(_0x228c0b[_0x2fab98(0x218)]()+0x1)[_0x2fab98(0x139)]()[_0x2fab98(0x1fa)](0x2,'0')+'/'+_0x228c0b[_0x2fab98(0x1b1)]()['toString']()[_0x2fab98(0x1fa)](0x2,'0')+'\x20'+_0x228c0b['getHours']()[_0x2fab98(0x139)]()[_0x2fab98(0x1fa)](0x2,'0')+':'+_0x228c0b[_0x2fab98(0x1b4)]()[_0x2fab98(0x139)]()[_0x2fab98(0x1fa)](0x2,'0')+':'+_0x228c0b[_0x2fab98(0x1e9)]()[_0x2fab98(0x139)]()[_0x2fab98(0x1fa)](0x2,'0');}function getTimeStamp(){const _0x473cfd=_0x37e3a1,_0x50daa6=shiftedTime();return _0x50daa6['getFullYear']()+'/'+(_0x50daa6[_0x473cfd(0x218)]()+0x1)['toString']()[_0x473cfd(0x1fa)](0x2,'0')+'/'+_0x50daa6[_0x473cfd(0x1b1)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x50daa6[_0x473cfd(0x224)]()['toString']()['padStart'](0x2,'0')+':'+_0x50daa6[_0x473cfd(0x1b4)]()[_0x473cfd(0x139)]()[_0x473cfd(0x1fa)](0x2,'0')+':'+_0x50daa6[_0x473cfd(0x1e9)]()[_0x473cfd(0x139)]()['padStart'](0x2,'0');}function getDate(){const _0x3a9f00=_0x37e3a1,_0x5cf99a=shiftedTime();return _0x5cf99a[_0x3a9f00(0x140)]()+'/'+(_0x5cf99a[_0x3a9f00(0x218)]()+0x1)[_0x3a9f00(0x139)]()[_0x3a9f00(0x1fa)](0x2,'0')+'/'+_0x5cf99a[_0x3a9f00(0x1b1)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x2bce55=_0x37e3a1,_0xd8fa5c=shiftedTime();return _0xd8fa5c[_0x2bce55(0x224)]()[_0x2bce55(0x139)]()['padStart'](0x2,'0');}function sleep(_0x435e7b){return new Promise(_0x3893af=>setTimeout(_0x3893af,_0x435e7b));}function shiftedTime(){const _0xcabacf=_0x37e3a1,_0x2d847b=new Date();let _0x430d79=_0x2d847b;if(config&&config['timeshift']!==0x0)_0x430d79=fns[_0xcabacf(0x173)](_0x2d847b,{'hours':config[_0xcabacf(0x227)]});return _0x430d79;}