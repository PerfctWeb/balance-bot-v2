function _0x1eb1(_0x559e1b,_0x3ddf4e){const _0x37f311=_0x4d1d();return _0x1eb1=function(_0x524ad7,_0xed9d2e){_0x524ad7=_0x524ad7-0xbe;let _0x4d1db0=_0x37f311[_0x524ad7];return _0x4d1db0;},_0x1eb1(_0x559e1b,_0x3ddf4e);}const _0x1d3102=_0x1eb1;(function(_0x455ddb,_0x489b74){const _0x4664aa=_0x1eb1,_0x27185c=_0x455ddb();while(!![]){try{const _0x36fd40=-parseInt(_0x4664aa(0x237))/0x1+-parseInt(_0x4664aa(0x175))/0x2+-parseInt(_0x4664aa(0xfb))/0x3*(parseInt(_0x4664aa(0x1a8))/0x4)+-parseInt(_0x4664aa(0x193))/0x5+parseInt(_0x4664aa(0x231))/0x6*(parseInt(_0x4664aa(0x23a))/0x7)+parseInt(_0x4664aa(0x139))/0x8+parseInt(_0x4664aa(0x176))/0x9*(parseInt(_0x4664aa(0x20f))/0xa);if(_0x36fd40===_0x489b74)break;else _0x27185c['push'](_0x27185c['shift']());}catch(_0x2a08e5){_0x27185c['push'](_0x27185c['shift']());}}}(_0x4d1d,0xe5302));const _0xed9d2e=function(){let _0x25827e=!![];return function(_0xe2ffbd,_0x1604a2){const _0x56925b=_0x25827e?function(){if(_0x1604a2){const _0x177108=_0x1604a2['apply'](_0xe2ffbd,arguments);return _0x1604a2=null,_0x177108;}}:function(){};return _0x25827e=![],_0x56925b;};}(),_0x524ad7=_0xed9d2e(this,function(){const _0x2c9e78=_0x1eb1;return _0x524ad7[_0x2c9e78(0x178)]()[_0x2c9e78(0xf9)](_0x2c9e78(0x1f2))['toString']()[_0x2c9e78(0xda)](_0x524ad7)[_0x2c9e78(0xf9)](_0x2c9e78(0x1f2));});_0x524ad7();'use strict';const ccxt=require(_0x1d3102(0x131))[_0x1d3102(0x1e0)],low=require(_0x1d3102(0x121)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x1d3102(0x22f)),Crypt=require('hybrid-crypto-js')[_0x1d3102(0x225)],util=require('util'),argv=require('yargs/yargs')(process['argv'][_0x1d3102(0x133)](0x2))[_0x1d3102(0x148)],path=require(_0x1d3102(0xe8));let exchange;global[_0x1d3102(0x16b)]={},global[_0x1d3102(0x1cd)]={};const exceptions={'binance':[_0x1d3102(0x1ef),_0x1d3102(0xe4),_0x1d3102(0xde),_0x1d3102(0x20d),'YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x1d3102(0x200)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});function _0x4d1d(){const _0x511c37=['recovery','sort','deleteHistoryAlerts','BUSD','openOrders','\x20not\x20available','timeout','remove','get','average','\x20order:\x20','ticker','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Executed\x20','placeOrder()','\x20minutes','emojisell','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','createOrder','RSA-OAEP','loading-canceled','3197808ONRhiK','8352387fVmTKU','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','toString','-events.json','running','status','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','enabled','ordertype','kill','datetime','getHours','net-fiat','getPortfolio(0)','onepagemode','offset','precision','usd','configuration','<b>','distribution','fetchTickers','Fee\x20discount\x20refund\x20detected:\x20','3\x20-\x20handling\x20FILLED\x20order:\x20','API-key\x20format\x20invalid','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','2.5.0','cancelOrder','6010300SGYCZE','date','Cooldown\x20ended\x20-\x20balancing\x20resumed','BNB','resetHistory','-------------------------------\x0a','secure','final','balances','Executing\x20exchange\x20reload','timeshift','Limit\x20(low-margin)','data','limit-high','Net\x20','find','Order\x20amount\x20is\x20invalid:\x20','change24h','createWriteStream','replace','logs','959716qbRRuS','watchTrades','eur','\x20portfolio:</b>\x20\x0a\x0a','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','timestamp','Avoiding\x20continuous\x20order\x20attempts','/EUR','InvalidNonce','2.3.5','breakeven','\x20|\x20Error\x20details:\x20','ETH','error','\x20closed\x20the\x20connection','sendMetricsTelegram','highest','percentage','2\x20-\x20Orders\x20unlocked','Fees\x20|\x20currency:\x20','2.6.0','length','target','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','************','buys','</pre>','getCoinNumber()','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','concat','time','fetchClosedOrders','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','uncaughtException','apiSecret','success','message','change','EUR','exchange\x20not\x20reloaded','ongoing','performance','side','min','\x20|\x20highest:\x20','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','max','botID','cancelLoading','threshold','getPortfolio(1)','initclient','delta','LOCKED','\x20>\x20','version','pro','orderId','balancing\x20resumes\x20when\x20cooldown\x20ends','parseISO','yyyy-MM-dd\x27T\x27HH:mm:ss','log','assign','filled','additional\x20symbols\x20','currency','\x20minutes\x20-\x20','Order\x20filled:\x20','added','findIndex','unlinkSync','DAI/','Unfilled\x20order(s)\x20canceled\x20after\x20','canceled','(((.+)+)+)+$','limits','001','customId','\x20API\x20secret\x20is\x20invalid','Portfolio\x20change\x20detected:\x20','\x20orders\x20in\x20less\x20than\x20','emitHistory','2\x20-\x20Validate\x20orders:\x20','differenceInSeconds','./logs/','market','apiKey','fetchOpenOrders','freeze','orderstatus','liquidity','exec','InsufficientFunds','Binance','headless','ask','Initiating\x20exchange\x20reload','substring','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','string','toUpperCase','NANO/','open','30PZOPli','indexOf','amount','getFullYear','full','no\x20additional\x20symbols','args','stringify','total','isEqual','debug',':\x20Bot\x20','number','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','bot-','balancing\x20resumed','storeFiat','placeOrder','cloneDeep','price','getCoins()','changes','Crypt','getSeconds','BNB/','format','decrypt','\x20>\x20[DEBUG]\x20','abs','warning','close','botname','date-fns','push','84oPDjnv','storeConfiguration','getMinutes','2\x20-\x20Handled\x20open\x20orders','Market','fetchBalance','797250tefvGl','event-history','toFixed','363069clhurh','random','UNLOCKED','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','sell','entries','none','trade','cooldown','/output-000.log','reverse','privateKey','symbols','Reset\x20|\x20','2\x20-\x20FILLED\x20known\x20order:\x20','recreateCoinResults()','ORDERS.LOCKED','AuthenticationError','Pausing\x20for\x20','no\x20open\x20orders','getTime','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','page','shift','bid','toLowerCase','basecoin','forEach','net-basecoin','round','keys','exchange','fee','bots','toggleBotMode','\x20|\x20','constructor','<b>Bot\x20','RequestTimeout','Order(s)\x20not\x20validated\x20after\x20','XEM/BUSD','map','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','MIN_NOTIONAL','\x20API\x20key\x20is\x20invalid','valid','HOT/BTC','coin','last','getDate','path','recent20','showname','type',',\x20must\x20be\x20a\x203\x20digit\x20number','/USD','buy','exchanges','-results.json','loadSymbols()','ExchangeNotAvailable','removed','sendPortfolioTelegram','<pre>','\x20has\x20a\x2024h\x20drop\x20of\x20','fetchTicker','order','search','Limit\x20(high-margin)','9BxMoAd','Invalid\x20quantity','Invalid\x20API\x20key\x20or\x20secret\x20entered','Exchange','showConfig','fromCodePoint','recreate','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','join','./version.json','function','-performance.json','Transaction\x20detection\x20unblocked','\x20metrics:</b>\x20\x0a\x0a','1\x20-\x20FILLED:\x20','cost','cancel','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','write','limit','clientOrderId','yyyy/MM/dd','-config.json','add','has','ORDERS.UNLOCKING','send','existsSync','Failed\x20to\x20load\x20coin\x20data\x20for\x20','fees','starting-balance-','\x20change','loadMarkets','progress','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','starting-balances','startdate','coins','lowdb','realized','initial','includes','padStart','cancelOrders()','Net\x20effect','symbol','excluded','leftTxt','emojibuy','fiat','closed','1\x20-\x20Unlock\x20orders','mkdirSync','bot','ccxt','UNLOCKING','slice','set','remainingSymbols','\x20-\x20bot\x20not\x20started','netoffset','sortBy','13971904ROVSMm','Error\x20while\x20deleting\x20files:\x20','split','limit-low','filter','restart','rightTxt','Error:\x20Invalid\x20argument\x20','defaults','Unknown\x20error\x20occured','startprice','test','/backup/','BTC','\x20|\x20lock\x20orders:\x20','argv','USD','ORDERS.UNLOCKED','Bot\x20','watchOrders','event','sells','getPortfolio','splice','Manual\x20balancing\x20required','startnumber','getMonth','%\x20(','timer:','\x20:\x20','value','USDT','./config/','parse','DDoSProtection','1\x20-\x20Handle\x20open\x20orders','\x20hour','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','portfolio'];_0x4d1d=function(){return _0x511c37;};return _0x4d1d();}let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x1d3102(0x104))[_0x1d3102(0x1df)],botID=process['argv'][0x2]||_0x1d3102(0x1f4),pattern=/^[0-9]{3}$/;!pattern[_0x1d3102(0x144)](botID)&&(console[_0x1d3102(0x1e5)](_0x1d3102(0x140)+botID+_0x1d3102(0xec)),killBot());const userID=process[_0x1d3102(0x148)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x1d3102(0x159),logspath=userID?_0x1d3102(0x1fc)+userID+'/':_0x1d3102(0x1fc),loggerfile=fs[_0x1d3102(0x1a5)](logspath+_0x1d3102(0xbf),{'flags':'a'});!fs[_0x1d3102(0x116)](configpath)&&fs[_0x1d3102(0x12f)](configpath);!fs[_0x1d3102(0x116)](logspath)&&fs[_0x1d3102(0x12f)](logspath);const configfile=configpath+'bot-'+botID+_0x1d3102(0x111),logfile=configpath+_0x1d3102(0x21d)+botID+_0x1d3102(0x179),performancefile=configpath+'bot-'+botID+_0x1d3102(0x106),coinresultsfile=configpath+_0x1d3102(0x21d)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x1d3102(0x145),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x1d3102(0x141)]({'logs':[],'version':serverversion})[_0x1d3102(0x10d)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1d3102(0x141)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x1d3102(0x141)]({'bot':[],'version':serverversion})[_0x1d3102(0x10d)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1d3102(0x141)]({'coins':[],'version':serverversion})[_0x1d3102(0x10d)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x1d3102(0x173)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x245423=>{const _0x5ad928=_0x1d3102;console[_0x5ad928(0x1e5)](_0x245423);},'simple':_0x3aedc0=>{const _0x561ffb=_0x1d3102;console[_0x561ffb(0x1e5)](_0x3aedc0),loggerfile[_0x561ffb(0x10d)](util[_0x561ffb(0x228)](_0x3aedc0)+'\x0a');},'full':async(_0x45589a,_0x31742b='')=>{const _0x4f116e=_0x1d3102;let _0x550bb6;if(config['showname'])_0x550bb6=getTimeStamp()+':\x20'+config[_0x4f116e(0x22e)]+_0x4f116e(0x1de)+_0x45589a;else _0x550bb6=getTimeStamp()+_0x4f116e(0x21a)+botID+_0x4f116e(0x1de)+_0x45589a;console[_0x4f116e(0x1e5)](_0x550bb6),loggerfile[_0x4f116e(0x10d)](util[_0x4f116e(0x228)](_0x550bb6)+'\x0a'),_0x31742b&&(console[_0x4f116e(0x1e5)](_0x31742b),loggerfile[_0x4f116e(0x10d)](util['format'](_0x31742b)+'\x0a'));},'debug':async(_0x6a91aa,_0x245014='')=>{const _0x145619=_0x1d3102;let _0x527a12;if(config[_0x145619(0xea)])_0x527a12=getTimeStamp()+':\x20'+config[_0x145619(0x22e)]+_0x145619(0x22a)+_0x6a91aa;else _0x527a12=getTimeStamp()+_0x145619(0x21a)+botID+_0x145619(0x22a)+_0x6a91aa;if(debugging)console[_0x145619(0x1e5)](_0x527a12);loggerfile[_0x145619(0x10d)](util['format'](_0x527a12)+'\x0a');if(_0x245014){if(debugging)console[_0x145619(0x1e5)](_0x245014);loggerfile[_0x145619(0x10d)](util[_0x145619(0x228)](_0x245014)+'\x0a');}}};process['on'](_0x1d3102(0x1c9),function(_0x3b6b4a){logger['simple'](_0x3b6b4a);});settings[_0x1d3102(0x19d)]!=config[_0x1d3102(0x19d)]&&updateTimeshift(settings[_0x1d3102(0x19d)]);settings[_0x1d3102(0x184)]!=config[_0x1d3102(0x184)]&&updateOnepagemode(settings['onepagemode']);process['send']({'started':_0x1d3102(0x17a)},_0x92ab58=>{}),initializeProcessListeners();function proxyEmit(_0x254e45,_0x598e3e=null){const _0x3aefa9=_0x1d3102;process[_0x3aefa9(0x115)]({'function':_0x254e45,'args':_0x598e3e},_0x22657c=>{});}function initializeProcessListeners(){const _0x1e7f15=_0x1d3102;process['on'](_0x1e7f15(0x1cc),_0x473910=>{const _0x2dd74b=_0x1e7f15;switch(Object[_0x2dd74b(0xd4)](_0x473910)[0x0]){case _0x2dd74b(0x19d):_0x473910[_0x2dd74b(0x19d)]!=undefined&&(settings[_0x2dd74b(0x19d)]=_0x473910[_0x2dd74b(0x19d)],updateTimeshift(settings[_0x2dd74b(0x19d)]));break;case _0x2dd74b(0x184):_0x473910[_0x2dd74b(0x184)]!=undefined&&(settings['onepagemode']=_0x473910['onepagemode'],updateOnepagemode(settings[_0x2dd74b(0x184)]));break;case'bots':_0x473910[_0x2dd74b(0xd7)]!=undefined&&(bots=JSON['parse'](_0x473910[_0x2dd74b(0xd7)]),proxyEmit(_0x2dd74b(0xd7),bots));break;case _0x2dd74b(0x105):switch(_0x473910[_0x2dd74b(0x105)]){case _0x2dd74b(0x1db):initclient();break;case _0x2dd74b(0xd8):toggleBotMode();break;case _0x2dd74b(0x1f9):emitHistory(_0x473910[_0x2dd74b(0x215)]);break;case _0x2dd74b(0x162):deleteHistoryAlerts(_0x473910[_0x2dd74b(0x215)]);break;case _0x2dd74b(0x14f):getPortfolio(_0x473910['args']);break;case _0x2dd74b(0x232):storeConfiguration(_0x473910[_0x2dd74b(0x215)]);break;case'storeHeadless':storeHeadless(_0x473910[_0x2dd74b(0x215)]);break;case _0x2dd74b(0x21f):storeFiat(_0x473910[_0x2dd74b(0x215)]);break;case _0x2dd74b(0x197):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x2dd74b(0x220):placeOrder(_0x473910[_0x2dd74b(0x215)]);break;case _0x2dd74b(0x1d8):cancelLoading();break;case _0x2dd74b(0xff):showConfig();break;case _0x2dd74b(0x1b7):sendMetricsTelegram();break;case _0x2dd74b(0xf4):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x35d915=null,_0x121cac=![]){const _0x5745be=_0x1d3102;logger['debug'](_0x5745be(0xc3)+(_0x35d915&&_0x35d915[_0x5745be(0x1bd)]>0x0?_0x5745be(0x1e8)+_0x35d915[_0x5745be(0x103)](','):_0x5745be(0x214))+'\x20|\x20'+(_0x121cac?'exchange\x20reloaded':_0x5745be(0x1cf)));if(pidBalances)clearTimeout(pidBalances);if(!_0x121cac)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5745be(0x1fe)]!=''&&config[_0x5745be(0x1fe)]!='***'){if(_0x121cac){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0xc18c3e){handleErrorNoStop(_0xc18c3e,_0x5745be(0xf1));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x35d915);const _0x7d1bab=await getCoins();[currentCoins,currentCoinsAll]=_0x7d1bab,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x5745be(0x1bd)]==0x0&&allOpenOrders[_0x5745be(0x1bd)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x236919=_0x1d3102;exchangeStopped=!![],await exchange[_0x236919(0x22d)]();}async function reloadExchange(){const _0x1c5732=_0x1d3102;logger[_0x1c5732(0x219)](_0x1c5732(0x208));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x1c5732(0x219)](_0x1c5732(0x19c)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x19b474=config[_0x1d3102(0xd5)],_0xa2c412=config[_0x1d3102(0x1fe)],_0x40ea9d=config[_0x1d3102(0x1ca)]){const _0x4f6350=_0x1d3102;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x19b474)&&(logHistory(_0x4f6350(0x1b5),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x19b474+'\x20exchange'),killBot());const _0x41d303=ccxt[_0x19b474[_0x4f6350(0xcf)]()];exchange=new _0x41d303({'apiKey':_0xa2c412,'secret':_0x40ea9d,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x322028=_0x1d3102;let _0x13e746=config[_0x322028(0xd0)]==_0x322028(0x1b4)?_0x322028(0x1b4):_0x322028(0x146),_0x55f45e=!allSymbols[_0x322028(0x124)](_0x13e746+_0x322028(0xed))?_0x322028(0x158):_0x322028(0x149),_0xd5274d=!allSymbols[_0x322028(0x124)](_0x13e746+_0x322028(0x1af))?_0x55f45e:_0x322028(0x1ce);stablecoins={'eur':{'coin':''+_0x13e746+_0xd5274d,'symbol':_0x13e746+'/'+_0xd5274d},'usd':{'coin':''+_0x13e746+_0x55f45e,'symbol':_0x13e746+'/'+_0x55f45e}};}async function initwsCcxt(_0x3ffd66){const _0x3e9139=_0x1d3102;_0x3ffd66==null&&(_0x3ffd66=[],config[_0x3e9139(0x15f)]['forEach'](_0x31d315=>{const _0x1678a4=_0x3e9139;if(!_0x31d315[_0x1678a4(0x129)]&&_0x31d315[_0x1678a4(0xe5)]!=config['basecoin'])_0x3ffd66[_0x1678a4(0x230)](_0x31d315[_0x1678a4(0x128)]);}));if(!_0x3ffd66[_0x3e9139(0x124)](stablecoins[_0x3e9139(0x1aa)][_0x3e9139(0x128)]))_0x3ffd66[_0x3e9139(0x230)](stablecoins[_0x3e9139(0x1aa)][_0x3e9139(0x128)]);if(!_0x3ffd66[_0x3e9139(0x124)](stablecoins[_0x3e9139(0x187)][_0x3e9139(0x128)]))_0x3ffd66['push'](stablecoins[_0x3e9139(0x187)]['symbol']);if(!_0x3ffd66['includes'](_0x3e9139(0x227)+config[_0x3e9139(0xd0)]))_0x3ffd66[_0x3e9139(0x230)](_0x3e9139(0x227)+config[_0x3e9139(0xd0)]);loadCoins(_0x3ffd66);const _0x51d3be=async _0x53c665=>{const _0x19e869=_0x3e9139,_0x26a31e=await exchange[_0x19e869(0xf7)](_0x53c665);global[_0x19e869(0x16b)][noslash(_0x26a31e[_0x19e869(0x128)])]=_0x26a31e[_0x19e869(0xe6)];while(!![]){if(!botPaused)try{const _0x4df125=await exchange['watchTrades'](_0x53c665);global[_0x19e869(0x16b)][noslash(_0x4df125[0x0][_0x19e869(0x128)])]=_0x4df125[0x0][_0x19e869(0x222)],await sleep(0x3e8);}catch(_0x3d5743){if(!exchangeStopped)await handleError(_0x3d5743,_0x19e869(0x1a9),_0x53c665);}else await sleep(0x3e8);}},_0x18f9c2=async _0x5532d2=>{const _0x336105=_0x3e9139;while(!![]){if(!botPaused)try{const _0x1f682f=await exchange[_0x336105(0xf7)](_0x5532d2);global['change'][_0x1f682f['symbol']]=_0x1f682f[_0x336105(0x1b9)],await sleep(0x3c*0x3e8);}catch(_0x29f276){if(!exchangeStopped)await handleError(_0x29f276,_0x336105(0x18b),_0x5532d2);}else await sleep(0x3e8);}},_0x3d4e8c=async()=>{const _0x3eb74f=_0x3e9139;while(!![]){if(!botPaused)try{const _0x1ecc99=await exchange[_0x3eb74f(0x14c)]();_0x1ecc99['forEach'](_0x226fba=>{updateNumberCoinsCcxt(_0x226fba);});}catch(_0x141aed){if(!exchangeStopped)await handleError(_0x141aed,_0x3eb74f(0x14c));}else await sleep(0x3e8);}};_0x3ffd66[_0x3e9139(0xd1)](async _0x11b859=>{_0x51d3be(_0x11b859),_0x18f9c2(_0x11b859);}),!wsEventsSet&&(wsEventsSet=!![],_0x3d4e8c(),watchTransactions());}async function watchTransactions(){const _0x2232e3=_0x1d3102;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x198c39=await getCoins(),[_0x23ac70,_0x446288]=_0x198c39;let _0x4406fd=[];currentCoins[_0x2232e3(0xd1)](_0x399327=>{const _0x21d3fb=_0x2232e3,_0x24e1c9=_0x23ac70['find'](_0x48bc34=>_0x48bc34[_0x21d3fb(0xe5)]==_0x399327[_0x21d3fb(0xe5)]);_0x24e1c9&&(_0x399327[_0x21d3fb(0x21b)]!=_0x24e1c9[_0x21d3fb(0x21b)]&&_0x4406fd[_0x21d3fb(0x230)]({'coin':_0x399327[_0x21d3fb(0xe5)],'symbol':_0x399327[_0x21d3fb(0x128)],'number':Number(formatResult(_0x24e1c9['number']-_0x399327[_0x21d3fb(0x21b)],0x8))}));});if(_0x4406fd[_0x2232e3(0x1bd)]==0x1&&!blockTransactionDetection){logger[_0x2232e3(0x219)](_0x2232e3(0x1bb)+lastFees[_0x2232e3(0x1e9)]+_0x2232e3(0x1d4)+lastFees['highest']);if(!lastFees[_0x2232e3(0x1e9)]||_0x4406fd[0x0][_0x2232e3(0xe5)]!=lastFees[_0x2232e3(0x1e9)]||_0x4406fd[0x0]['number']>lastFees[_0x2232e3(0x1b8)]){let _0x4bec01;if(_0x4406fd[0x0][_0x2232e3(0xe5)]!=config[_0x2232e3(0xd0)]){let _0x3a03a8=global['ticker'][noslash(_0x4406fd[0x0][_0x2232e3(0x128)])];_0x4bec01=_0x4406fd[0x0][_0x2232e3(0xc0)]?0x1/_0x3a03a8:_0x3a03a8;}else _0x4bec01=0x1;_0x4406fd[0x0][_0x2232e3(0x222)]=_0x4bec01,delete _0x4406fd[0x0][_0x2232e3(0x128)];let _0x27fa2b=[],_0x56352=[...config[_0x2232e3(0x202)]]||[],_0x1d0021=config[_0x2232e3(0x202)];_0x56352[_0x2232e3(0x161)]((_0x24c7e0,_0x3aea07)=>_0x24c7e0['date']>_0x3aea07[_0x2232e3(0x194)]?-0x1:_0x3aea07[_0x2232e3(0x194)]>_0x24c7e0['date']?0x1:0x0);const _0xecf810=getDate();if(_0x56352[0x0]){const _0x5853bb=fns[_0x2232e3(0x15a)](_0x56352[0x0][_0x2232e3(0x194)],_0x2232e3(0x110),new Date()),_0x43a4a6=fns[_0x2232e3(0x15a)](_0xecf810,_0x2232e3(0x110),new Date());if(fns[_0x2232e3(0x218)](_0x5853bb,_0x43a4a6)){_0x27fa2b=_0x56352[0x0][_0x2232e3(0x224)];const _0x598caf=_0x27fa2b[_0x2232e3(0x1a2)](_0x369be5=>_0x369be5[_0x2232e3(0xe5)]==_0x4406fd[0x0][_0x2232e3(0xe5)]);_0x598caf?(_0x598caf[_0x2232e3(0x21b)]+=_0x4406fd[0x0][_0x2232e3(0x21b)],_0x598caf[_0x2232e3(0x21b)]==0x0&&(_0x27fa2b=_0x27fa2b[_0x2232e3(0x13d)](_0x331fbd=>{const _0x483cc7=_0x2232e3;return _0x331fbd[_0x483cc7(0xe5)]!=_0x4406fd[0x0][_0x483cc7(0xe5)];}))):_0x27fa2b['push'](_0x4406fd[0x0]);const _0x4113b5=_0x1d0021[_0x2232e3(0x1a2)](_0x376595=>_0x376595[_0x2232e3(0x194)]==_0xecf810);_0x4113b5['changes']=_0x27fa2b;}else _0x1d0021['push']({'date':_0xecf810,'changes':[_0x4406fd[0x0]]});}const _0x479356=_0x1d0021[_0x2232e3(0x1a2)](_0x594042=>_0x594042['date']==_0xecf810);if(_0x479356){let _0x3eaa23=!![];_0x479356[_0x2232e3(0x224)][_0x2232e3(0xd1)](_0x300c50=>{const _0x405e4b=_0x2232e3;if(_0x300c50[_0x405e4b(0x21b)]!=0x0)_0x3eaa23=![];}),_0x3eaa23&&(_0x1d0021=_0x1d0021[_0x2232e3(0x13d)](_0x21cfb4=>{const _0x118b8b=_0x2232e3;return _0x21cfb4[_0x118b8b(0x194)]!=_0xecf810;}));}let _0x31c78b=dbConfig['get'](_0x2232e3(0x130))['find']({'botID':botID})['value']();_0x31c78b&&(dbConfig[_0x2232e3(0x168)](_0x2232e3(0x130))[_0x2232e3(0x1a2)]({'botID':botID})[_0x2232e3(0x1e6)]({'liquidity':_0x1d0021})[_0x2232e3(0x10d)](),config['liquidity']=_0x1d0021),logHistory(_0x2232e3(0x1cb),_0x2232e3(0x1f7)+Math['abs'](_0x4406fd[0x0]['number'])+'\x20'+_0x4406fd[0x0]['coin']+'\x20'+(_0x4406fd[0x0][_0x2232e3(0x21b)]>0x0?_0x2232e3(0x1ec):_0x2232e3(0xf3))+_0x2232e3(0x102)),proxyEmit(_0x2232e3(0x188),emittedConfiguration());}else logger[_0x2232e3(0x219)](_0x2232e3(0x18c)+Math[_0x2232e3(0x22b)](_0x4406fd[0x0][_0x2232e3(0x21b)])+'\x20'+_0x4406fd[0x0][_0x2232e3(0xe5)]+'\x20'+(_0x4406fd[0x0][_0x2232e3(0x21b)]>0x0?_0x2232e3(0x1ec):_0x2232e3(0xf3)));transactionDetected=!![],currentCoins=_0x23ac70,currentCoinsAll=_0x446288;}await sleep(watchTransactionsInterval);}catch(_0x3ec9a0){if(!exchangeStopped)await handleError(_0x3ec9a0,'watchTransactions');}else await sleep(0x3e8);}}async function loadSymbols(_0x1fe9d9=config[_0x1d3102(0xd5)],_0x332194=![]){const _0x45bc10=_0x1d3102;if(allSymbols&&!_0x332194)return;try{markets=await exchange[_0x45bc10(0x11b)](),allSymbols=exchange[_0x45bc10(0xc2)]['filter'](_0x5cb3fc=>{const _0x4ee839=_0x45bc10;let _0x58dc40=![];const _0x60955e=exceptions[_0x1fe9d9[_0x4ee839(0xcf)]()]||[];return _0x60955e[_0x4ee839(0xd1)](_0x4b4752=>{const _0x350b0e=_0x4ee839;if(_0x5cb3fc[_0x350b0e(0x124)](_0x4b4752))_0x58dc40=!![];}),!_0x58dc40;});}catch(_0x655f3d){throw _0x655f3d;}}async function initclient(){const _0x1ca524=_0x1d3102;emitLoadingProgress(),proxyEmit(_0x1ca524(0x188),emittedConfiguration()),proxyEmit(_0x1ca524(0xef),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1ca524(0x19b),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2603b6=getNormalizedPerformance();emitPerformance(_0x2603b6),getStartingBalances(_0x2603b6);}async function toggleBotMode(){const _0x28b112=_0x1d3102;let _0x58595e=dbConfig[_0x28b112(0x168)](_0x28b112(0x130))[_0x28b112(0x1a2)]({'botID':botID})[_0x28b112(0x157)]();if(_0x58595e){const _0x171795=!_0x58595e[_0x28b112(0x206)];dbConfig[_0x28b112(0x168)]('bot')['find']({'botID':botID})[_0x28b112(0x1e6)]({'headless':_0x171795})[_0x28b112(0x10d)](),config['headless']=_0x171795,proxyEmit(_0x28b112(0x188),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x30170b=>{});}async function loadCoins(_0x4e1b9c){const _0xfb43b3=_0x1d3102;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x2d835d,_0x323ddf=0x0,_0x2b60e0=0x0;_0x4e1b9c[_0xfb43b3(0xd1)](_0xf21828=>{const _0x54c425=_0xfb43b3;loading[_0x54c425(0x135)][_0x54c425(0x230)](_0xf21828);}),loadingCanceled=![];let _0x33013e=![];while(_0x2d835d!=_0x4e1b9c[_0xfb43b3(0x1bd)]){_0x2d835d=0x0,_0x4e1b9c['forEach'](_0x4dbbaf=>{const _0xcb0f79=_0xfb43b3;if(global[_0xcb0f79(0x16b)][noslash(_0x4dbbaf)]){loading[_0xcb0f79(0x135)]=loading[_0xcb0f79(0x135)][_0xcb0f79(0x13d)](_0x1b02aa=>_0x1b02aa!=_0x4dbbaf);if(!watchedSymbols[_0xcb0f79(0x124)](_0x4dbbaf))watchedSymbols['push'](_0x4dbbaf);_0x2d835d++;}}),loading[_0xfb43b3(0x11c)]=Math[_0xfb43b3(0xd3)](_0x2d835d/_0x4e1b9c[_0xfb43b3(0x1bd)]*0x64);loading[_0xfb43b3(0x11c)]!=0x64&&(_0x2b60e0>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x2b60e0>0x78*0x5&&!_0x33013e&&(loading[_0xfb43b3(0x10b)]=!![],emitLoadingProgress(),_0x33013e=!![],logHistory(_0xfb43b3(0x1b5),_0xfb43b3(0x117)+loading[_0xfb43b3(0x135)]['join'](',\x20')+_0xfb43b3(0x136)),logHistory(_0xfb43b3(0x1b5),_0xfb43b3(0xc8)+loadCoinsRetryInterval/0xea60+_0xfb43b3(0xcb)),pidCoinReloading=setTimeout(()=>{const _0x1da4bf=_0xfb43b3;process['send']({'stop':_0x1da4bf(0x13e)},_0x4c2fda=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0xfb43b3(0x10b)]=!![],emitLoadingProgress();break;}else _0x2d835d!=_0x323ddf&&(_0x323ddf=_0x2d835d,emitLoadingProgress()),_0x2b60e0++,await sleep(0xc8);}_0x2d835d==_0x4e1b9c[_0xfb43b3(0x1bd)]&&(coinsLoaded=!![],process['send']({'status':_0xfb43b3(0x17d),'live':_0xfb43b3(0x17a)},_0xfcc5c9=>{}),_0x33013e&&logHistory(_0xfb43b3(0x1cb),_0xfb43b3(0x11d)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2ab952=_0x1d3102;proxyEmit(_0x2ab952(0x188),{...emittedConfiguration(),'configstate':_0x2ab952(0x174)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x534ad2=_0x1d3102;let _0x3a6b4b=global[_0x534ad2(0x16b)][stablecoins[_0x534ad2(0x1aa)][_0x534ad2(0xe5)]],_0x562b82=global[_0x534ad2(0x16b)][stablecoins['usd'][_0x534ad2(0xe5)]];return{'eur':Number(_0x3a6b4b),'usd':Number(_0x562b82)};}function capitalize(_0x3f5b1f){const _0x5b6ca8=_0x1d3102;return _0x3f5b1f[_0x5b6ca8(0x209)](0x0,0x1)[_0x5b6ca8(0x20c)]()+_0x3f5b1f[_0x5b6ca8(0x209)](0x1);}function supportedExchanges(){const _0x1de8ad=_0x1d3102,_0xb8470d=['ws',_0x1de8ad(0x18b),_0x1de8ad(0xf7),_0x1de8ad(0x1a9),'watchOrders',_0x1de8ad(0x192),_0x1de8ad(0x172),_0x1de8ad(0x1ff),_0x1de8ad(0x1c7),_0x1de8ad(0x236)];let _0x374f9c=[],_0x1aeb70=[],_0x55d539=ccxt[_0x1de8ad(0xef)];_0x55d539['forEach'](_0x100fc8=>{const _0x4a5dd4=_0x1de8ad;try{const _0x2de799=new ccxt[_0x100fc8]();if(_0x2de799[_0x4a5dd4(0x113)]['ws'])_0x1aeb70[_0x4a5dd4(0x230)](_0x2de799);}catch(_0x32b917){}}),_0x1aeb70['forEach'](_0x575233=>{const _0x34b13d=_0x1de8ad;let _0x5006af=0x0;_0xb8470d[_0x34b13d(0xd1)](_0x5b2b94=>{const _0x251ce5=_0x34b13d;_0x5b2b94 in _0x575233[_0x251ce5(0x113)]&&_0x575233[_0x251ce5(0x113)][_0x5b2b94]&&_0x5006af++;}),_0x5006af==_0xb8470d[_0x34b13d(0x1bd)]&&_0x374f9c[_0x34b13d(0x230)](capitalize(_0x575233['id']));});let _0x5d34c6=[];return _0x55d539[_0x1de8ad(0xd1)](_0x275be6=>{const _0x58a5cd=_0x1de8ad;_0x275be6=capitalize(_0x275be6);if(!_0x374f9c[_0x58a5cd(0x124)](_0x275be6))_0x5d34c6[_0x58a5cd(0x230)](_0x275be6);}),_0x374f9c;}function setStartDatePerformance(){const _0x5f4fed=_0x1d3102;if(config&&config[_0x5f4fed(0x202)][0x0][_0x5f4fed(0x224)][_0x5f4fed(0x1bd)]!=0x0){const _0x2b652e=config[_0x5f4fed(0x202)][0x0][_0x5f4fed(0x224)];dbPerformance[_0x5f4fed(0x168)](_0x5f4fed(0x19f))[_0x5f4fed(0x1a2)]({'date':config[_0x5f4fed(0x11f)]})['assign']({'coins':_0x2b652e})['write']();}}async function recreateCoinResults(){const _0x57c000=_0x1d3102;let _0x12cb62,_0x56e99f=[];try{const _0x23b9f0=fns['format'](fns[_0x57c000(0x1e3)](config[_0x57c000(0x11f)]['replace'](/\//g,'-')),_0x57c000(0x1e4));for(const _0x378dae of currentCoins){if(_0x378dae[_0x57c000(0xe5)]!=config[_0x57c000(0xd0)]){let _0x6c1708=0x0,_0x23148f,_0x130d98;_0x12cb62=await getAllEventOrders(_0x378dae[_0x57c000(0x128)]);if(_0x12cb62[_0x57c000(0x1bd)]>0x0)_0x12cb62[_0x57c000(0xd1)](_0x390e41=>{const _0x324433=_0x57c000,_0x3aedb0=_0x378dae[_0x324433(0x128)]['includes'](config[_0x324433(0xd0)]+'/');_0x56e99f[_0x324433(0x230)]({'datetime':_0x390e41[_0x324433(0x180)],'coin':_0x378dae[_0x324433(0xe5)],'symbol':_0x378dae[_0x324433(0x128)],'side':_0x390e41[_0x324433(0x1d2)],'reverse':_0x3aedb0,'amount':formatResult(_0x390e41['filled'],0x8),'filled':formatResult(_0x390e41[_0x324433(0x1e7)],0x8),'price':formatResult(_0x390e41[_0x324433(0x222)],0x8)}),_0x6c1708=_0x390e41[_0x324433(0x1d2)]==_0x324433(0xee)?_0x6c1708+_0x390e41['filled']:_0x6c1708-_0x390e41[_0x324433(0x1e7)];if(!_0x130d98)_0x130d98=_0x390e41[_0x324433(0x222)];});_0x23148f=_0x378dae[_0x57c000(0x21b)]-_0x6c1708;let _0x1cb5b7;config['liquidity'][_0x57c000(0xd1)](_0x175812=>{const _0x233f54=_0x57c000;!_0x1cb5b7&&(_0x1cb5b7=_0x175812[_0x233f54(0x224)][_0x233f54(0x1a2)](_0x262cd1=>_0x262cd1[_0x233f54(0xe5)]==_0x378dae[_0x233f54(0xe5)]),_0x1cb5b7&&(_0x23148f=_0x1cb5b7['number'],_0x130d98=_0x1cb5b7[_0x233f54(0x222)]));});let _0x4a1e46=dbCoinResults[_0x57c000(0x168)](_0x57c000(0x120))[_0x57c000(0x1a2)]({'coin':_0x378dae[_0x57c000(0xe5)]})[_0x57c000(0x157)]();_0x4a1e46={'coin':_0x378dae[_0x57c000(0xe5)],'number':_0x23148f,'breakeven':_0x130d98,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x57c000(0x120))[_0x57c000(0x1a2)]({'coin':_0x378dae['coin']})[_0x57c000(0x1e6)](_0x4a1e46)[_0x57c000(0x10d)]();}}_0x56e99f[_0x57c000(0x161)]((_0x25b701,_0x3b1ef6)=>_0x25b701[_0x57c000(0x180)]>_0x3b1ef6[_0x57c000(0x180)]?0x1:_0x3b1ef6[_0x57c000(0x180)]>_0x25b701[_0x57c000(0x180)]?-0x1:0x0);let _0x2dcda9=0x0;for(let _0x551c6f of _0x56e99f){await updateCoinResults(_0x551c6f,!![]);}}catch(_0xc70849){await handleError(_0xc70849,_0x57c000(0xc5));}}async function getAllEventOrders(_0x19fa6e){const _0xaf60e3=_0x1d3102;let _0x4adb1b=[],_0x31e538=dbLogs[_0xaf60e3(0x168)](_0xaf60e3(0x1a7))[_0xaf60e3(0x13d)](_0x80a561=>{const _0x12dc34=_0xaf60e3,_0x433976=_0x80a561[_0x12dc34(0x14d)][_0x12dc34(0xcf)]();return _0x433976[_0x12dc34(0x124)](_0x19fa6e[_0x12dc34(0xcf)]())&&(_0x433976[_0x12dc34(0x124)](_0x12dc34(0x1fd))&&_0x433976[_0x12dc34(0x124)](_0x12dc34(0xf8))||_0x433976[_0x12dc34(0x124)](_0x12dc34(0x1e7))&&_0x433976[_0x12dc34(0x124)](_0x12dc34(0xf8)));})[_0xaf60e3(0x138)]('time')[_0xaf60e3(0x157)]();return _0x31e538[_0xaf60e3(0xd1)](_0xd5d63b=>{const _0x3f203a=_0xaf60e3,_0xe3cd40=_0xd5d63b[_0x3f203a(0x14d)][_0x3f203a(0x124)](_0x3f203a(0x23e))?_0x3f203a(0x23e):_0x3f203a(0xee),_0x1cfe6b=/#([0-9]|\.)+\s/i,_0x3980fa=Number(_0x1cfe6b[_0x3f203a(0x203)](_0xd5d63b[_0x3f203a(0x14d)])[0x0]['slice'](0x1)),_0x562203=/@([0-9]|\.)+$/i,_0x49d289=Number(_0x562203[_0x3f203a(0x203)](_0xd5d63b[_0x3f203a(0x14d)])[0x0][_0x3f203a(0x133)](0x1));_0x4adb1b[_0x3f203a(0x230)]({'datetime':_0xd5d63b[_0x3f203a(0x1c6)],'coin':symbolToCoin(_0x19fa6e),'symbol':_0x19fa6e,'side':_0xe3cd40,'amount':_0x3980fa,'filled':_0x3980fa,'price':_0x49d289});}),_0x4adb1b;}async function getAllOrders(_0x3abb16,_0x549c21){const _0x40ce4c=_0x1d3102;let _0x2c3e90=[];while(_0x549c21<exchange['milliseconds']()){const _0x4c0f8e=0x1f4,_0x195481=await exchange[_0x40ce4c(0x1c7)](_0x3abb16,_0x549c21,_0x4c0f8e);if(_0x195481[_0x40ce4c(0x1bd)])_0x549c21=_0x195481[_0x195481[_0x40ce4c(0x1bd)]-0x1][_0x40ce4c(0x1ad)]+0x1,_0x2c3e90=_0x2c3e90[_0x40ce4c(0x1c5)](_0x195481);else break;}return _0x2c3e90;}async function validate24hChanges(){const _0x725754=_0x1d3102;for(const _0x30588c of currentCoins){if(_0x30588c[_0x725754(0xe5)]!=config[_0x725754(0xd0)]){let _0x2d6fe3;_0x30588c['reverse']?_0x2d6fe3=formatResult((0x1/(global[_0x725754(0x1cd)][noslash(_0x30588c[_0x725754(0x128)])]/0x64+0x1)-0x1)*0x64,0x3):_0x2d6fe3=global[_0x725754(0x1cd)][noslash(_0x30588c[_0x725754(0x128)])],_0x2d6fe3<config[_0x725754(0x1a4)]&&(logHistory('error',_0x30588c[_0x725754(0xe5)]+_0x725754(0xf6)+_0x2d6fe3+'%'),logHistory(_0x725754(0x1b5),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x725754(0x1b5),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x73cc5e,_0x12e406){const _0x3cf1ef=_0x1d3102;if(!_0x73cc5e)return!![];const _0x5e6f43=_0x12e406[_0x3cf1ef(0x13b)]('.'),_0x54951c=_0x73cc5e['split']('.');for(var _0x405229=0x0;_0x405229<_0x54951c[_0x3cf1ef(0x1bd)];_0x405229++){const _0x557fea=~~_0x54951c[_0x405229],_0xad3216=~~_0x5e6f43[_0x405229];if(_0x557fea<_0xad3216)return!![];if(_0x557fea>_0xad3216)return![];}return![];}async function oneTimeMigration(){const _0x5052a8=_0x1d3102;let _0x3f1854=dbLogs['get'](_0x5052a8(0x1df))['value']();if(isOlderVersion(_0x3f1854,_0x5052a8(0x1b1))){let _0x1d6484=[];const _0x3fa8dc=dbLogs[_0x5052a8(0x168)]('logs')[_0x5052a8(0x157)]();_0x3fa8dc['forEach'](_0x5e1746=>{const _0x172d2b=_0x5052a8;_0x1d6484[_0x172d2b(0x230)]({'time':_0x5e1746[_0x172d2b(0x1c6)],'type':_0x5e1746[_0x172d2b(0xeb)],'event':_0x5e1746[_0x172d2b(0x14d)]});}),dbLogs[_0x5052a8(0x168)]('logs')['assign'](_0x1d6484)['write']();}let _0x3abe0e=dbConfig[_0x5052a8(0x168)](_0x5052a8(0x1df))['value']();if(isOlderVersion(_0x3abe0e,_0x5052a8(0x1b1))){let _0xc4e955=dbConfig['get']('bot')[_0x5052a8(0x1a2)]({'botID':botID})['value']();if(_0xc4e955){let _0x18ef86=[];_0xc4e955[_0x5052a8(0x15f)][_0x5052a8(0xd1)](_0x2569cd=>{const _0x1e71c9=_0x5052a8;_0x18ef86['push']({'coin':_0x2569cd[_0x1e71c9(0xe5)],'number':_0x2569cd[_0x1e71c9(0x152)],'price':_0x2569cd[_0x1e71c9(0x143)]}),delete _0x2569cd[_0x1e71c9(0x152)],delete _0x2569cd[_0x1e71c9(0x143)];});if(_0x18ef86[_0x5052a8(0x1bd)]!==0x0)fs['writeFile'](configbackuppath+(_0x5052a8(0x119)+botID+'.json'),JSON[_0x5052a8(0x216)](_0x18ef86,null,0x4),function(_0x1eeac9){if(_0x1eeac9){}});const _0x2138aa=(_0x88fbe8,_0x16af72)=>{const _0x31840a=_0x5052a8;let _0x1f16d2=[];_0x16af72[_0x31840a(0xd1)](_0x424a0e=>{const _0x5cbd8f=_0x31840a,_0x41cef6=_0x88fbe8[_0x5cbd8f(0x1a2)](_0x37a1c7=>_0x37a1c7[_0x5cbd8f(0xe5)]==_0x424a0e[_0x5cbd8f(0xe5)]);if(!_0x41cef6)_0x1f16d2['push'](_0x424a0e);});let _0x219cf8=[];return _0x88fbe8['forEach'](_0x486bb3=>{const _0x4a3c56=_0x31840a,_0x19a19b=_0x16af72['find'](_0x81f3f9=>_0x81f3f9['coin']==_0x486bb3[_0x4a3c56(0xe5)]);if(!_0x19a19b||_0x19a19b[_0x4a3c56(0x21b)]==0x0&&_0x486bb3[_0x4a3c56(0x21b)]!=0x0)_0x219cf8['push'](_0x486bb3);}),{'missingDay1':_0x1f16d2,'notInDay2':_0x219cf8};},_0x3e04b3=dbPerformance[_0x5052a8(0x168)](_0x5052a8(0x19f))['cloneDeep']()[_0x5052a8(0x157)]();if(_0x3e04b3[_0x5052a8(0x1bd)]>0x1){const {missingDay1:_0x32d91b,notInDay2:_0x2910bd}=_0x2138aa(_0x18ef86,_0x3e04b3[0x1][_0x5052a8(0x120)]);_0x18ef86=[..._0x18ef86,..._0x32d91b],_0x2910bd[_0x5052a8(0xd1)](_0x26389c=>{const _0x51ab19=_0x5052a8;let _0xb54af0=_0x18ef86[_0x51ab19(0x1ed)](_0x169d1e=>_0x169d1e['coin']==_0x26389c[_0x51ab19(0xe5)]);_0xb54af0!=-0x1&&_0x18ef86[_0x51ab19(0x150)](_0xb54af0,0x1);});}_0x18ef86[_0x5052a8(0x161)]((_0x564036,_0x41aac3)=>_0x564036[_0x5052a8(0xe5)]>_0x41aac3[_0x5052a8(0xe5)]?0x1:_0x41aac3[_0x5052a8(0xe5)]>_0x564036[_0x5052a8(0xe5)]?-0x1:0x0);let _0xb3ef67=[{'date':_0xc4e955[_0x5052a8(0x11f)],'changes':_0x18ef86}];_0x3e04b3[_0x5052a8(0x1bd)]>0x2&&_0x3e04b3[_0x5052a8(0xd1)]((_0x3c5712,_0x2b0d43)=>{const _0x2f00d7=_0x5052a8;if(_0x2b0d43>0x0&&_0x2b0d43<_0x3e04b3[_0x2f00d7(0x1bd)]-0x1){const {missingDay1:_0x171d04,notInDay2:_0xde6716}=_0x2138aa(_0x3e04b3[_0x2b0d43]['coins'],_0x3e04b3[_0x2b0d43+0x1]['coins']);_0x18ef86=[],(_0x171d04[_0x2f00d7(0x1bd)]!=0x0||_0xde6716['length']!=0x0)&&(_0x171d04[_0x2f00d7(0x1bd)]!=0x0&&_0x18ef86[_0x2f00d7(0x230)](..._0x171d04),_0xde6716['length']!=0x0&&(_0xde6716[_0x2f00d7(0xd1)](_0x4ea0b2=>{const _0x38b36d=_0x2f00d7;_0x4ea0b2[_0x38b36d(0x21b)]=-_0x4ea0b2[_0x38b36d(0x21b)];}),_0x18ef86[_0x2f00d7(0x230)](..._0xde6716)),_0x18ef86[_0x2f00d7(0x161)]((_0x4f9fb8,_0x46c72c)=>_0x4f9fb8[_0x2f00d7(0xe5)]>_0x46c72c[_0x2f00d7(0xe5)]?0x1:_0x46c72c[_0x2f00d7(0xe5)]>_0x4f9fb8[_0x2f00d7(0xe5)]?-0x1:0x0),_0xb3ef67[_0x2f00d7(0x230)]({'date':_0x3e04b3[_0x2b0d43+0x1]['date'],'changes':_0x18ef86}));}}),dbConfig[_0x5052a8(0x168)](_0x5052a8(0x130))[_0x5052a8(0x1a2)]({'botID':botID})[_0x5052a8(0x1e6)]({..._0xc4e955,'liquidity':_0xb3ef67})[_0x5052a8(0x10d)]();}}if(isOlderVersion(_0x3abe0e,_0x5052a8(0x1bc))){let _0x44cb0b=dbConfig[_0x5052a8(0x168)](_0x5052a8(0x130))[_0x5052a8(0x1a2)]({'botID':botID})[_0x5052a8(0x157)]();if(_0x44cb0b){const _0x4f204e=_0x44cb0b['exchange'],_0x42d30f=_0x4f204e?capitalize(_0x4f204e):_0x5052a8(0x205);dbConfig['get'](_0x5052a8(0x130))[_0x5052a8(0x1a2)]({'botID':botID})[_0x5052a8(0x1e6)]({'exchange':_0x42d30f})['write']();}}let _0x48f866=dbPerformance[_0x5052a8(0x168)](_0x5052a8(0x1df))[_0x5052a8(0x157)]();isOlderVersion(_0x48f866,'2.3.5')&&setStartDatePerformance();let _0x5a3fdc=dbCoinResults['get'](_0x5052a8(0x1df))[_0x5052a8(0x157)]();if(isOlderVersion(_0x5a3fdc,_0x5052a8(0x191))){let _0xfa7e12=dbCoinResults[_0x5052a8(0x168)](_0x5052a8(0x120))[_0x5052a8(0x157)]();if(_0xfa7e12[_0x5052a8(0x1bd)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x24c721=_0x1d3102;dbConfig[_0x24c721(0x134)](_0x24c721(0x1df),serverversion)[_0x24c721(0x10d)](),dbPerformance[_0x24c721(0x134)]('version',serverversion)[_0x24c721(0x10d)](),dbLogs[_0x24c721(0x134)]('version',serverversion)[_0x24c721(0x10d)](),dbCoinResults[_0x24c721(0x134)](_0x24c721(0x1df),serverversion)[_0x24c721(0x10d)]();}function getConfiguration(_0x52aded){const _0x5418bc=_0x1d3102;let _0x48da77=dbConfig[_0x5418bc(0x168)]('bot')[_0x5418bc(0x1a2)]({'botID':_0x52aded})['value']();if(_0x48da77){let _0x2cfdec=![];typeof _0x48da77[_0x5418bc(0x1d9)]==_0x5418bc(0x20b)&&(_0x48da77={..._0x48da77,'threshold':Number(_0x48da77[_0x5418bc(0x1d9)])},_0x2cfdec=!![]),_0x48da77[_0x5418bc(0x1a4)]==null&&(_0x48da77={..._0x48da77,'change24h':-0x14},_0x2cfdec=!![]),!_0x48da77[_0x5418bc(0x12c)]&&(_0x48da77={..._0x48da77,'fiat':'USD'},_0x2cfdec=!![]),!_0x48da77[_0x5418bc(0x184)]&&(_0x48da77={..._0x48da77,'onepagemode':settings['onepagemode']},_0x2cfdec=!![]),_0x2cfdec&&(_0x48da77={'botID':_0x48da77[_0x5418bc(0x1d7)],'exchange':_0x48da77['exchange'],'apiKey':_0x48da77[_0x5418bc(0x1fe)],'apiSecret':_0x48da77[_0x5418bc(0x1ca)],'basecoin':_0x48da77[_0x5418bc(0xd0)],'botname':_0x48da77[_0x5418bc(0x22e)],'showname':_0x48da77['showname'],'threshold':_0x48da77[_0x5418bc(0x1d9)],'ordertype':_0x48da77['ordertype'],'timeout':_0x48da77[_0x5418bc(0x166)],'fiat':_0x48da77[_0x5418bc(0x12c)],'startdate':_0x48da77['startdate'],'recreate':_0x48da77[_0x5418bc(0x101)],'timeshift':_0x48da77[_0x5418bc(0x19d)],'onepagemode':_0x48da77[_0x5418bc(0x184)],'headless':_0x48da77[_0x5418bc(0x206)],'cooldown':_0x48da77[_0x5418bc(0xbe)],'change24h':_0x48da77[_0x5418bc(0x1a4)],'emojibuy':_0x48da77['emojibuy'],'emojisell':_0x48da77['emojisell'],'portfolio':_0x48da77[_0x5418bc(0x15f)],'liquidity':_0x48da77[_0x5418bc(0x202)],'openOrders':_0x48da77[_0x5418bc(0x164)]},dbConfig[_0x5418bc(0x168)](_0x5418bc(0x130))['remove']()[_0x5418bc(0x10d)](),dbConfig['get'](_0x5418bc(0x130))[_0x5418bc(0x230)](_0x48da77)[_0x5418bc(0x10d)]());}else _0x48da77={'botID':_0x52aded,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x5418bc(0x14b)+_0x52aded,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x5418bc(0x149),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x48da77;}function emittedConfiguration(){const _0x1d205f=_0x1d3102;let _0xc18ac;if(config[_0x1d205f(0x1fe)]=='')_0xc18ac={...config,'configstate':'initial'};else config[_0x1d205f(0x1fe)]=='***'?_0xc18ac={...config,'configstate':_0x1d205f(0x160)}:_0xc18ac={...config,'apiKey':_0x1d205f(0x1c0),'apiSecret':_0x1d205f(0x1c0)};return _0xc18ac;}function getSettings(){const _0x200559=_0x1d3102;return dbSettings[_0x200559(0x168)]('settings')[_0x200559(0x157)]();}function getSecure(){const _0x97905=_0x1d3102;return dbSecure[_0x97905(0x168)](_0x97905(0x199))['value']()||{};}function updateTimeshift(_0x807702){const _0x58d5ab=_0x1d3102;let _0x3e7910=dbConfig[_0x58d5ab(0x168)]('bot')[_0x58d5ab(0x1a2)]({'botID':botID})['value']();_0x3e7910&&dbConfig[_0x58d5ab(0x168)]('bot')[_0x58d5ab(0x1a2)]({'botID':botID})[_0x58d5ab(0x1e6)]({'timeshift':_0x807702})[_0x58d5ab(0x10d)](),config[_0x58d5ab(0x19d)]=_0x807702,proxyEmit(_0x58d5ab(0x188),emittedConfiguration());}function updateOnepagemode(_0x575bb4){const _0x3779c9=_0x1d3102;let _0xf8952d=dbConfig[_0x3779c9(0x168)](_0x3779c9(0x130))[_0x3779c9(0x1a2)]({'botID':botID})[_0x3779c9(0x157)]();_0xf8952d&&dbConfig[_0x3779c9(0x168)](_0x3779c9(0x130))[_0x3779c9(0x1a2)]({'botID':botID})[_0x3779c9(0x1e6)]({'onepagemode':_0x575bb4})[_0x3779c9(0x10d)](),config[_0x3779c9(0x184)]=_0x575bb4,proxyEmit(_0x3779c9(0x188),emittedConfiguration());}async function storeConfiguration(_0x169cc0){const _0x4f4463=_0x1d3102;logger[_0x4f4463(0x219)]('Saving\x20configuration'),blockTransactionDetection=!![],logger[_0x4f4463(0x219)]('Transaction\x20detection\x20blocked');let _0x4e30c6=[],_0xec5266=![],_0x10e683=[];_0x169cc0[_0x4f4463(0x15f)]['forEach'](_0x47a0f8=>{const _0x212f7c=_0x4f4463;if(!_0x47a0f8['excluded']&&_0x47a0f8['coin']!=_0x169cc0[_0x212f7c(0xd0)])_0x10e683[_0x212f7c(0x230)](_0x47a0f8[_0x212f7c(0x128)]);}),_0x10e683['forEach'](_0x985449=>{const _0x51fa8b=_0x4f4463,_0x13ed64=watchedSymbols[_0x51fa8b(0x124)](_0x985449);!_0x13ed64&&_0x4e30c6['push'](_0x985449);});_0x4e30c6[_0x4f4463(0x1bd)]>0x0?_0xec5266=!![]:currentCoins['forEach'](_0x57b0f5=>{const _0x74d00c=_0x4f4463;if(_0x57b0f5['coin']!=config[_0x74d00c(0xd0)]){const _0xae7f3f=_0x10e683[_0x74d00c(0x1a2)](_0x25e2a2=>_0x25e2a2==_0x57b0f5[_0x74d00c(0x128)]);!_0xae7f3f&&(_0xec5266=!![]);}});let _0x38f0ff=dbConfig[_0x4f4463(0x168)](_0x4f4463(0x130))['find']({'botID':botID})['value']();_0x169cc0={..._0x169cc0,'apiKey':crypt['decrypt'](secure[_0x4f4463(0xc1)],_0x169cc0[_0x4f4463(0x1fe)])[_0x4f4463(0x1cc)],'apiSecret':crypt[_0x4f4463(0x229)](secure[_0x4f4463(0xc1)],_0x169cc0['apiSecret'])[_0x4f4463(0x1cc)]};let _0xc91799=![];_0x38f0ff?(_0x169cc0[_0x4f4463(0x1fe)]==_0x4f4463(0x1c0)?_0x169cc0[_0x4f4463(0x1fe)]=config[_0x4f4463(0x1fe)]:_0xc91799=!![],_0x169cc0['apiSecret']==_0x4f4463(0x1c0)?_0x169cc0[_0x4f4463(0x1ca)]=config[_0x4f4463(0x1ca)]:_0xc91799=!![],dbConfig['get'](_0x4f4463(0x130))[_0x4f4463(0x1a2)]({'botID':botID})[_0x4f4463(0x1e6)](_0x169cc0)[_0x4f4463(0x10d)]()):(dbConfig[_0x4f4463(0x168)](_0x4f4463(0x130))[_0x4f4463(0x230)](_0x169cc0)['write'](),_0xc91799=!![],process['send']({'status':_0x4f4463(0x17d),'live':_0x4f4463(0x17a)},_0x2b99c2=>{}));config={..._0x169cc0},setStartDatePerformance(),process['send']({'botname':_0x169cc0[_0x4f4463(0x22e)]},_0x3f8860=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit('configuration-stored'),await initCoinResults();if(_0xc91799)await reset(_0x4e30c6,!![]);else{if(_0xec5266)await reset(_0x4e30c6,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x4f4463(0x219)](_0x4f4463(0x107));}async function storeHeadless(_0x1785d6){const _0x435449=_0x1d3102,_0xcec1c5={...config,'headless':_0x1785d6['headless']};let _0x5dcb2b=dbConfig[_0x435449(0x168)](_0x435449(0x130))[_0x435449(0x1a2)]({'botID':botID})[_0x435449(0x157)]();_0x5dcb2b&&dbConfig[_0x435449(0x168)]('bot')['find']({'botID':botID})[_0x435449(0x1e6)](_0xcec1c5)[_0x435449(0x10d)](),config={..._0xcec1c5},updateBotManager(),proxyEmit(_0x435449(0x188),emittedConfiguration());}async function storeFiat(_0x5b4cf3){const _0x235bdc=_0x1d3102,_0x25332e={...config,'fiat':_0x5b4cf3};let _0x4fca76=dbConfig[_0x235bdc(0x168)](_0x235bdc(0x130))[_0x235bdc(0x1a2)]({'botID':botID})['value']();_0x4fca76&&dbConfig[_0x235bdc(0x168)](_0x235bdc(0x130))[_0x235bdc(0x1a2)]({'botID':botID})[_0x235bdc(0x1e6)](_0x25332e)[_0x235bdc(0x10d)](),config={..._0x25332e},proxyEmit(_0x235bdc(0x188),emittedConfiguration());}function resetHistory(){const _0x167785=_0x1d3102;logger[_0x167785(0x213)]('Resetting\x20bot\x20history');try{if(fs['existsSync'](path[_0x167785(0x103)](configpath,_0x167785(0x21d)+botID+_0x167785(0x179))))fs[_0x167785(0x1ee)](path[_0x167785(0x103)](configpath,_0x167785(0x21d)+botID+_0x167785(0x179)));if(fs[_0x167785(0x116)](path['join'](configpath,_0x167785(0x21d)+botID+_0x167785(0x106))))fs[_0x167785(0x1ee)](path[_0x167785(0x103)](configpath,_0x167785(0x21d)+botID+_0x167785(0x106)));if(fs[_0x167785(0x116)](path[_0x167785(0x103)](configpath,_0x167785(0x21d)+botID+_0x167785(0xf0))))fs[_0x167785(0x1ee)](path[_0x167785(0x103)](configpath,'bot-'+botID+_0x167785(0xf0)));}catch(_0x412306){if(_0x412306)logger[_0x167785(0x213)](_0x167785(0x13a),_0x412306);}const _0x1e8ce1=getDate();let _0x313004=[];currentCoins[_0x167785(0xd1)](_0x2879da=>{const _0x30da58=_0x167785;_0x313004[_0x30da58(0x230)]({'coin':_0x2879da[_0x30da58(0xe5)],'number':_0x2879da['number'],'price':_0x2879da[_0x30da58(0xe6)]});});let _0xabd7b5=dbConfig[_0x167785(0x168)](_0x167785(0x130))[_0x167785(0x1a2)]({'botID':botID})['value']();_0xabd7b5&&(dbConfig['get'](_0x167785(0x130))[_0x167785(0x1a2)]({'botID':botID})[_0x167785(0x1e6)]({'liquidity':[{'date':_0x1e8ce1,'changes':_0x313004}]})['write'](),config[_0x167785(0x202)]=[]),process['send']({'stop':_0x167785(0x13e)},_0xb009e4=>{});}function noslash(_0x110748){const _0x4afba7=_0x1d3102;return _0x110748[_0x4afba7(0x1a6)]('/','');}function updateHighestFee(_0x6efba7,_0x4e15b8){const _0xc567f2=_0x1d3102;lastFees[_0xc567f2(0x1e9)]=_0x6efba7,lastFees[_0xc567f2(0xe9)][_0xc567f2(0x1bd)]===0x14&&lastFees[_0xc567f2(0xe9)]['shift'](),lastFees['recent20'][_0xc567f2(0x230)](_0x4e15b8),lastFees[_0xc567f2(0x1b8)]=Math[_0xc567f2(0x1d6)](...lastFees[_0xc567f2(0xe9)]);}async function updateNumberCoinsCcxt(_0x17e29f){const _0x198024=_0x1d3102;logger['debug']('0\x20-\x20EXECUTION:\x20'+_0x17e29f['symbol']+_0x198024(0xd9)+_0x17e29f[_0x198024(0x17b)]+_0x198024(0xd9)+_0x17e29f['id']+'\x20|\x20'+_0x17e29f[_0x198024(0x10f)]);let _0x31bdf8=_0x17e29f[_0x198024(0x17b)],_0x509c90=![];currentCoins[_0x198024(0xd1)](_0x16ed6a=>{const _0x2452f9=_0x198024;_0x16ed6a[_0x2452f9(0x128)]==_0x17e29f[_0x2452f9(0x128)]&&(_0x509c90=!![]);});if(!_0x509c90)return;const _0x64e6dd=currentCoins['find'](_0x5e1e16=>_0x5e1e16[_0x198024(0x128)]==_0x17e29f[_0x198024(0x128)]),_0x3656e1=_0x115574=>{const _0x18dd56=_0x198024;if(_0x64e6dd)_0x64e6dd[_0x18dd56(0x201)]=_0x115574;};if(_0x31bdf8==_0x198024(0x20e))_0x3656e1(_0x198024(0x20e));else{if(_0x31bdf8=='canceled'){_0x3656e1(_0x198024(0x1f1));const _0x3b7138=await getCoins();[currentCoins,currentCoinsAll]=_0x3b7138,await getOpenOrders(),handleOpenOrders();}else{if(_0x31bdf8=='closed'){logger[_0x198024(0x219)](_0x198024(0x109)+_0x17e29f[_0x198024(0x128)]+_0x198024(0xd9)+_0x17e29f[_0x198024(0x1e7)]+_0x198024(0xd9)+_0x17e29f['id']+_0x198024(0xd9)+_0x17e29f[_0x198024(0x10f)]);let _0x1c44ee=![];if(lastOrders)lastOrders[_0x198024(0xd1)](async _0x2b14b2=>{const _0x54297e=_0x198024;if(_0x2b14b2[_0x54297e(0x1f5)]==_0x17e29f[_0x54297e(0x10f)]){logger[_0x54297e(0x219)](_0x54297e(0xc4)+_0x17e29f['clientOrderId']),_0x1c44ee=!![];if(_0x2b14b2['filled']==0x0){logger[_0x54297e(0x219)](_0x54297e(0x18d)+_0x17e29f['clientOrderId']),_0x2b14b2['price']=_0x17e29f[_0x54297e(0x169)],_0x2b14b2[_0x54297e(0x1e7)]=_0x17e29f[_0x54297e(0x1e7)],_0x2b14b2[_0x54297e(0xd6)]={'currency':_0x17e29f['fee']?_0x17e29f['fee'][_0x54297e(0x1e9)]:null,'cost':_0x17e29f[_0x54297e(0xd6)]?_0x17e29f[_0x54297e(0xd6)][_0x54297e(0x10a)]:0x0},updateHighestFee(_0x2b14b2['fee']['currency'],_0x2b14b2[_0x54297e(0xd6)][_0x54297e(0x10a)]),_0x3656e1(_0x54297e(0x1e7)),await validateOrders();if(lockOrders==ORDERS[_0x54297e(0x1dd)]){const _0x2b866e=await getCoins();[currentCoins,currentCoinsAll]=_0x2b866e;}await updateCoinResults(_0x2b14b2);}}});if(!_0x1c44ee){logger['debug']('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x17e29f['id']),_0x3656e1(_0x198024(0x1e7));const _0x58479a=await getCoins();[currentCoins,currentCoinsAll]=_0x58479a,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1743bf=JSON[_0x198024(0x15a)](lastBalances[_0x198024(0x15f)]);const _0x45df8d=_0x1743bf['find'](_0x5185f3=>_0x5185f3[_0x198024(0x128)]==_0x17e29f['symbol']);if(_0x45df8d){if(_0x31bdf8==_0x198024(0x20e))_0x45df8d[_0x198024(0x201)]=_0x45df8d[_0x198024(0x201)]==_0x198024(0x1e7)?_0x198024(0x1e7):'open';else{if(_0x31bdf8==_0x198024(0x1f1))_0x45df8d[_0x198024(0x201)]=_0x45df8d[_0x198024(0x201)]=='filled'?'filled':_0x198024(0x1f1);else _0x31bdf8==_0x198024(0x12d)&&(_0x45df8d[_0x198024(0x201)]=_0x198024(0x1e7));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x1743bf)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x57c15b=_0x1d3102;await getOpenOrders();let _0x533183=![];currentCoins[_0x57c15b(0xd1)](_0x4a6be4=>{const _0x13da97=_0x57c15b;_0x533183=allOpenOrders[_0x13da97(0x1a2)](_0x19d5ff=>_0x19d5ff[_0x13da97(0x128)]==_0x4a6be4[_0x13da97(0x128)]),_0x4a6be4[_0x13da97(0x201)]=_0x533183?'open':_0x13da97(0x240);});}async function getCoins(_0x3ec71d=!![],_0x318191=config[_0x1d3102(0xd0)]){const _0x4e7a2e=_0x1d3102;let _0x44aa1f,_0x56f9c2=[],_0x37a206=[],_0x4c7b64=[],_0x573e6e=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x44aa1f=await exchange[_0x4e7a2e(0x236)](),mybalances=_0x44aa1f[_0x4e7a2e(0x217)];for(const [_0x262314,_0x22327d]of Object['entries'](mybalances)){_0x573e6e['push'](_0x262314);}if(_0x318191=='')for(const [_0x10710d,_0x4e1ff5]of Object[_0x4e7a2e(0x23f)](mybalances)){_0x4e1ff5[_0x4e7a2e(0x178)]()!=0x0&&_0x37a206[_0x4e7a2e(0x230)]({'coin':_0x10710d});}else{let _0x185c64=![];for(const [_0x131999,_0x205b02]of Object[_0x4e7a2e(0x23f)](mybalances)){if(_0x573e6e[_0x4e7a2e(0x124)](_0x131999)){const _0x1cd62c=config[_0x4e7a2e(0x15f)]['find'](_0x55f072=>_0x55f072[_0x4e7a2e(0xe5)]==_0x131999),_0x43ad0e=_0x131999+'/'+_0x318191,_0xbe0e11=_0x318191+'/'+_0x131999,_0x18970a=currentCoins[_0x4e7a2e(0x1a2)](_0x2ee60d=>_0x2ee60d[_0x4e7a2e(0xe5)]==_0x131999);_0x185c64=![];if((_0x205b02[_0x4e7a2e(0x178)]()!=0x0||_0x1cd62c)&&(allSymbols[_0x4e7a2e(0x124)](_0x43ad0e)||_0x131999==_0x318191))_0x131999!=_0x318191&&_0x56f9c2[_0x4e7a2e(0x230)](_0x43ad0e),_0x37a206[_0x4e7a2e(0x230)]({'coin':_0x131999,'symbol':_0x43ad0e,'reverse':![],'number':Math['max'](_0x205b02+(_0x1cd62c&&_0x1cd62c[_0x4e7a2e(0x185)]||0x0),0x0),'orderstatus':_0x18970a?_0x18970a[_0x4e7a2e(0x201)]:_0x4e7a2e(0x240)});else(_0x205b02[_0x4e7a2e(0x178)]()!=0x0||_0x1cd62c)&&allSymbols[_0x4e7a2e(0x124)](_0xbe0e11)&&(_0x131999!=_0x318191&&_0x56f9c2[_0x4e7a2e(0x230)](_0xbe0e11),_0x37a206[_0x4e7a2e(0x230)]({'coin':_0x131999,'symbol':_0xbe0e11,'reverse':!![],'number':Math[_0x4e7a2e(0x1d6)](_0x205b02+(_0x1cd62c&&_0x1cd62c[_0x4e7a2e(0x185)]||0x0),0x0),'orderstatus':_0x18970a?_0x18970a['orderstatus']:_0x4e7a2e(0x240)}));}}}}catch(_0x3a11d5){if(!_0x3ec71d)handleErrorNoStop(_0x3a11d5,_0x4e7a2e(0x223));else await handleError(_0x3a11d5,_0x4e7a2e(0x223));}return _0x4c7b64=cloneDeep(_0x37a206),_0x37a206=_0x37a206[_0x4e7a2e(0x13d)](_0x2f3f03=>{const _0x14e053=_0x4e7a2e,_0xc157b2=config['portfolio'][_0x14e053(0x1a2)](_0x5b00f5=>_0x5b00f5[_0x14e053(0xe5)]==_0x2f3f03[_0x14e053(0xe5)]);return _0xc157b2&&!_0xc157b2['excluded'];}),[_0x37a206,_0x4c7b64];}async function getCoinNumber(_0x230418){const _0x11f047=_0x1d3102;let _0x4ca748;try{const _0xf47133=await exchange[_0x11f047(0x236)]();_0x4ca748=_0xf47133[_0x11f047(0x217)][_0x230418];}catch(_0x1ac96e){await handleError(_0x1ac96e,_0x11f047(0x1c3));}return _0x4ca748;}async function getOpenOrders(){const _0x32ba82=_0x1d3102;let _0x1647c4;allOpenOrders=[];try{for(const _0x134553 of config['portfolio']){!_0x134553[_0x32ba82(0x129)]&&_0x134553['coin']!=config[_0x32ba82(0xd0)]&&(_0x1647c4=await exchange['fetchOpenOrders'](_0x134553[_0x32ba82(0x128)]),_0x1647c4[_0x32ba82(0x1bd)]>0x0&&allOpenOrders[_0x32ba82(0x230)](_0x1647c4[0x0]));}}catch(_0x37cd5a){await handleError(_0x37cd5a,'getOpenOrders()');}}async function handleOpenOrders(_0x58c583=0x0){const _0x122674=_0x1d3102;allOpenOrders[_0x122674(0x1bd)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x58c583==0x0?(logger[_0x122674(0x219)](_0x122674(0x15c)),_0x58c583++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x122674(0x219)](_0x122674(0x234)),validateOrders(_0x122674(0xc9))));}async function testAPI(_0x1ef2c8){const _0x8c21ec=_0x1d3102,_0x1b880c=ccxt[_0x1ef2c8[_0x8c21ec(0xd5)]['toLowerCase']()],_0x49657b=new _0x1b880c({'apiKey':_0x1ef2c8[_0x8c21ec(0x1fe)],'secret':_0x1ef2c8[_0x8c21ec(0x1ca)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x49657b[_0x8c21ec(0x11b)]();}catch(_0x33cc1a){throw _0x33cc1a;}}function cloneDeep(_0x2962ae){const _0x5b537e=_0x1d3102;return JSON[_0x5b537e(0x15a)](JSON['stringify'](_0x2962ae));}async function getPortfolio(_0x46c8c1){const _0x279b39=_0x1d3102;let _0x525fec=[],_0x3cd44e=[],_0x1c8f66=[],_0x17b092;if(_0x46c8c1[_0x279b39(0x1fe)]!=='************'||_0x46c8c1[_0x279b39(0x1ca)]!=='************'){if(config[_0x279b39(0xd5)]){if(_0x46c8c1[_0x279b39(0x1fe)]==_0x279b39(0x1c0))_0x46c8c1[_0x279b39(0x1fe)]=config['apiKey'];if(_0x46c8c1[_0x279b39(0x1ca)]==_0x279b39(0x1c0))_0x46c8c1[_0x279b39(0x1ca)]=config[_0x279b39(0x1ca)];try{await testAPI(_0x46c8c1);}catch(_0xb97d78){if(_0xb97d78[_0x279b39(0x178)]()[_0x279b39(0x124)](_0x279b39(0xc7))){logger[_0x279b39(0x219)](_0x279b39(0xfd)),proxyEmit(_0x279b39(0x15f),![]);return;}else{handleError(_0xb97d78,_0x279b39(0x183));return;}}}await initExchange(_0x46c8c1[_0x279b39(0xd5)],_0x46c8c1[_0x279b39(0x1fe)],_0x46c8c1[_0x279b39(0x1ca)]);try{await loadSymbols(_0x46c8c1['exchange'],!![]);}catch(_0x28bc94){if(_0x28bc94[_0x279b39(0x178)]()[_0x279b39(0x124)](_0x279b39(0xc7))){proxyEmit(_0x279b39(0x15f),![]);return;}else{handleError(_0x28bc94,_0x279b39(0x1da));return;}}const _0x4d1bad=await getCoins(![],_0x46c8c1[_0x279b39(0xd0)]);_0x1c8f66=cloneDeep(_0x4d1bad[0x1]);}else _0x1c8f66=cloneDeep(currentCoinsAll);if(_0x46c8c1[_0x279b39(0xd0)]=='')proxyEmit('portfolio',_0x1c8f66);else{_0x1c8f66[_0x279b39(0xd1)](_0x561ef1=>{const _0x460dee=_0x279b39;if(_0x561ef1[_0x460dee(0xe5)]!=_0x46c8c1[_0x460dee(0xd0)])_0x525fec['push'](_0x561ef1[_0x460dee(0x128)]);});try{_0x3cd44e=await exchange[_0x279b39(0x18b)](_0x525fec);}catch(_0x28f854){if(_0x28f854[_0x279b39(0x178)]()['includes'](_0x279b39(0xc7))){proxyEmit(_0x279b39(0x15f),![]);return;}else{handleError(_0x28f854,'getPortfolio(2)');return;}}_0x1c8f66['forEach'](_0xeb0ef0=>{const _0x439dbb=_0x279b39;_0xeb0ef0[_0x439dbb(0xe5)]!=_0x46c8c1['basecoin']?_0x17b092=_0xeb0ef0[_0x439dbb(0xc0)]?0x1/_0x3cd44e[_0xeb0ef0[_0x439dbb(0x128)]]['last']:_0x3cd44e[_0xeb0ef0[_0x439dbb(0x128)]][_0x439dbb(0xe6)]:_0x17b092=0x1,_0xeb0ef0[_0x439dbb(0x222)]=formatResult(_0x17b092,0x8);}),proxyEmit(_0x279b39(0x15f),_0x1c8f66);}}function checkMinimums(_0x1bbdfd){const _0x140e68=_0x1d3102;let _0x1b9767=!![];const _0x2ab0f6=!_0x1bbdfd['reverse']?markets[_0x1bbdfd[_0x140e68(0x128)]][_0x140e68(0x1f3)][_0x140e68(0x211)]['min']:markets[_0x1bbdfd[_0x140e68(0x128)]]['limits'][_0x140e68(0x10a)][_0x140e68(0x1d3)],_0x5cb3df=!_0x1bbdfd['reverse']?markets[_0x1bbdfd[_0x140e68(0x128)]][_0x140e68(0x1f3)][_0x140e68(0x10a)][_0x140e68(0x1d3)]:markets[_0x1bbdfd[_0x140e68(0x128)]][_0x140e68(0x1f3)][_0x140e68(0x211)][_0x140e68(0x1d3)],_0x27604b=markets[_0x1bbdfd[_0x140e68(0x128)]][_0x140e68(0x186)][_0x140e68(0x211)];_0x1bbdfd[_0x140e68(0x241)]=formatResultTruncate(_0x1bbdfd[_0x140e68(0x241)],_0x27604b);if(Math[_0x140e68(0x22b)](_0x1bbdfd['trade'])<_0x2ab0f6)_0x1b9767=![];if(Math['abs'](_0x1bbdfd[_0x140e68(0x241)])*_0x1bbdfd[_0x140e68(0xe6)]<_0x5cb3df)_0x1b9767=![];if(_0x1bbdfd[_0x140e68(0x1d2)]==_0x140e68(0x23e)){let _0x406fe8=config[_0x140e68(0x15f)][_0x140e68(0x1a2)](_0x1ae566=>_0x1ae566[_0x140e68(0xe5)]==_0x1bbdfd['coin']);if(_0x406fe8[_0x140e68(0x185)]>0x0){if(Math[_0x140e68(0x22b)](_0x1bbdfd['trade'])>_0x1bbdfd[_0x140e68(0x21b)]-_0x406fe8[_0x140e68(0x185)])_0x1b9767=![];}else{if(Math[_0x140e68(0x22b)](_0x1bbdfd[_0x140e68(0x241)])>_0x1bbdfd[_0x140e68(0x21b)])_0x1b9767=![];}}if(_0x1bbdfd['side']==_0x140e68(0xee)){let _0x40fefa=config[_0x140e68(0x15f)]['find'](_0xd0195d=>_0xd0195d[_0x140e68(0xe5)]==config[_0x140e68(0xd0)]),_0x4fdb4b=currentCoins[_0x140e68(0x1a2)](_0x584d42=>_0x584d42[_0x140e68(0xe5)]==config[_0x140e68(0xd0)]);if(_0x40fefa[_0x140e68(0x185)]>0x0){if(Math[_0x140e68(0x22b)](_0x1bbdfd['trade'])*_0x1bbdfd[_0x140e68(0xe6)]>_0x4fdb4b[_0x140e68(0x21b)]-_0x40fefa[_0x140e68(0x185)])_0x1b9767=![];}else{if(Math[_0x140e68(0x22b)](_0x1bbdfd[_0x140e68(0x241)])*_0x1bbdfd['last']>_0x4fdb4b[_0x140e68(0x21b)])_0x1b9767=![];}}return _0x1b9767;}async function getBalances(){const _0x26bf04=_0x1d3102;let _0x3f2e07=0x0,_0x161965;const _0x4d47b5=config[_0x26bf04(0x1d9)];if(config[_0x26bf04(0x206)]&&config[_0x26bf04(0x1a4)]<0x0)await validate24hChanges();currentCoins[_0x26bf04(0xd1)](_0x101691=>{const _0x4f3fb0=_0x26bf04;if(_0x101691[_0x4f3fb0(0xe5)]!=config[_0x4f3fb0(0xd0)]){let _0xb97af2=global[_0x4f3fb0(0x16b)][noslash(_0x101691[_0x4f3fb0(0x128)])];_0x161965=_0x101691[_0x4f3fb0(0xc0)]?0x1/_0xb97af2:_0xb97af2;}else _0x161965=0x1;let _0x35190b=_0x101691[_0x4f3fb0(0x21b)]*_0x161965;_0x3f2e07+=_0x35190b,_0x101691[_0x4f3fb0(0xe6)]=formatResult(Number(_0x161965),0x8),_0x101691[_0x4f3fb0(0x157)]=_0x35190b;}),currentCoins['forEach'](_0x4bed01=>{const _0x156466=_0x26bf04;let _0x2bdfe0=config[_0x156466(0x15f)][_0x156466(0x1a2)](_0x3ecdae=>_0x3ecdae['coin']==_0x4bed01['coin']),_0x316286=Number(_0x2bdfe0[_0x156466(0x18a)]),_0x4f8d2b=_0x4bed01[_0x156466(0x157)]/_0x3f2e07*0x64,_0x3f256e=_0x316286*_0x3f2e07/0x64/_0x4bed01[_0x156466(0xe6)]-_0x4bed01[_0x156466(0x21b)];_0x4bed01['distribution']=formatResult(_0x4f8d2b,0x3),_0x4bed01[_0x156466(0x1be)]=formatResult(_0x316286,0x3),_0x4bed01['trade']=formatResult(_0x3f256e,0x8),_0x4bed01['side']='',_0x4bed01['valid']=![];if(_0x4bed01[_0x156466(0xe5)]!=config[_0x156466(0xd0)]){if(_0x4bed01['distribution']>_0x316286)_0x4bed01[_0x156466(0x1d2)]=_0x156466(0x23e),_0x4bed01[_0x156466(0xe3)]=checkMinimums(_0x4bed01);else _0x4bed01[_0x156466(0x18a)]<_0x316286&&(_0x4bed01[_0x156466(0x1d2)]='buy',_0x4bed01[_0x156466(0xe3)]=checkMinimums(_0x4bed01));}_0x4bed01[_0x156466(0x1dc)]=_0x4bed01['distribution']/_0x4bed01[_0x156466(0x1be)]-0x1;if(_0x4bed01[_0x156466(0x201)]==_0x156466(0x1e7)||_0x4bed01[_0x156466(0x201)]==_0x156466(0x1f1))_0x4bed01[_0x156466(0x201)]=_0x156466(0x240);}),currentCoins[_0x26bf04(0x161)]((_0x8ab9f9,_0x1d0534)=>_0x8ab9f9['delta']<_0x1d0534[_0x26bf04(0x1dc)]?0x1:_0x1d0534[_0x26bf04(0x1dc)]<_0x8ab9f9[_0x26bf04(0x1dc)]?-0x1:0x0);const _0xc75a55=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xc75a55[_0x26bf04(0x1aa)],'usd':_0xc75a55['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x4d47b5},proxyEmit(_0x26bf04(0x19b),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x26bf04(0x206)])headlessMode({'portfolio':currentCoins,'threshold':_0x4d47b5});else{if(lockOrders==ORDERS[_0x26bf04(0x23c)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4d47b5});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x3d5371=getNormalizedPerformance();getStartingBalances(_0x3d5371),emitPerformance(_0x3d5371);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x5769cf=getNormalizedPerformance();emitPerformance(_0x5769cf),getStartingBalances(_0x5769cf),logger[_0x26bf04(0x219)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2c4c6a=_0x1d3102;if(!lastBalances)return;let _0x304932=[],_0xa571ff,_0x6860fd=JSON['parse'](lastBalances[_0x2c4c6a(0x15f)]);_0x6860fd[_0x2c4c6a(0x161)]((_0x48fa55,_0x3d025d)=>_0x48fa55[_0x2c4c6a(0xe5)]>_0x3d025d[_0x2c4c6a(0xe5)]?0x1:_0x3d025d['coin']>_0x48fa55['coin']?-0x1:0x0),_0x6860fd['forEach'](_0x34275e=>{const _0x11d976=_0x2c4c6a;let _0x7511c3={'coin':_0x34275e[_0x11d976(0xe5)],'number':_0x34275e['number'],'price':_0x34275e[_0x11d976(0xe6)]};_0x304932[_0x11d976(0x230)](_0x7511c3);});const _0x4dc690=await getFiat();_0xa571ff={'date':lastBalances[_0x2c4c6a(0x1c6)][_0x2c4c6a(0x13b)]('\x20')[0x0],'eur':_0x4dc690[_0x2c4c6a(0x1aa)],'usd':_0x4dc690['usd'],'coins':_0x304932};let _0x27a8fa=dbPerformance[_0x2c4c6a(0x168)](_0x2c4c6a(0x19f))[_0x2c4c6a(0x1a2)]({'date':_0xa571ff[_0x2c4c6a(0x194)]})[_0x2c4c6a(0x157)]();_0x27a8fa?_0xa571ff[_0x2c4c6a(0x194)]!=config[_0x2c4c6a(0x11f)]&&dbPerformance[_0x2c4c6a(0x168)](_0x2c4c6a(0x19f))['find']({'date':_0xa571ff[_0x2c4c6a(0x194)]})['assign'](_0xa571ff)[_0x2c4c6a(0x10d)]():dbPerformance[_0x2c4c6a(0x168)]('data')[_0x2c4c6a(0x230)](_0xa571ff)[_0x2c4c6a(0x10d)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5576d0=_0x1d3102;let _0x2ee86b=[];if(dbPerformance[_0x5576d0(0x113)](_0x5576d0(0x19f))[_0x5576d0(0x157)]()){let _0x1883d2=dbPerformance['get'](_0x5576d0(0x19f))[_0x5576d0(0x221)]()[_0x5576d0(0x138)](_0x5576d0(0x194))[_0x5576d0(0x157)](),_0x56c5a4=[...config[_0x5576d0(0x202)]];_0x56c5a4[_0x5576d0(0x161)]((_0x3d7742,_0x1d9702)=>_0x3d7742[_0x5576d0(0x194)]>_0x1d9702['date']?-0x1:_0x1d9702[_0x5576d0(0x194)]>_0x3d7742[_0x5576d0(0x194)]?0x1:0x0);let _0x8358a0=0x1,_0x596e60=[],_0x2818ed=0x0;_0x1883d2[_0x5576d0(0x133)]()[_0x5576d0(0xc0)]()[_0x5576d0(0xd1)]((_0xb601e1,_0x42327d)=>{const _0x3cd9cd=_0x5576d0;if(_0x56c5a4[_0x2818ed]){if(_0x1883d2[_0x1883d2[_0x3cd9cd(0x1bd)]-_0x42327d]&&_0x56c5a4[_0x2818ed][_0x3cd9cd(0x194)]==_0x1883d2[_0x1883d2[_0x3cd9cd(0x1bd)]-_0x42327d][_0x3cd9cd(0x194)]){if(_0x42327d<_0x1883d2[_0x3cd9cd(0x1bd)]){let _0x526614=0x0,_0x2f1cf7=0x0;_0x1883d2[_0x1883d2[_0x3cd9cd(0x1bd)]-_0x42327d][_0x3cd9cd(0x120)][_0x3cd9cd(0xd1)](_0x195071=>{const _0x339d6f=_0x3cd9cd;_0x2f1cf7+=_0x195071[_0x339d6f(0x21b)]*_0x195071[_0x339d6f(0x222)];}),_0x56c5a4[_0x2818ed][_0x3cd9cd(0x224)][_0x3cd9cd(0xd1)](_0x13ba7c=>{const _0x2ba3e2=_0x3cd9cd;_0x526614+=_0x13ba7c[_0x2ba3e2(0x21b)]*_0x13ba7c['price'];}),_0x8358a0*=_0x526614/(_0x2f1cf7-_0x526614)+0x1;}_0x2818ed++;}}let _0x3de4ed=0x0;_0xb601e1['coins']['forEach'](_0x1a1326=>{const _0x102f2b=_0x3cd9cd;_0x3de4ed+=_0x1a1326['number']*_0x1a1326[_0x102f2b(0x222)];}),_0x596e60[_0x1883d2[_0x3cd9cd(0x1bd)]-_0x42327d-0x1]=_0x3de4ed*(_0x8358a0-0x1);});let _0x4351b4=[];_0x56c5a4=[...config[_0x5576d0(0x202)]]||[];let _0x3d8b9a=0x0;_0x2818ed=0x0,_0x1883d2[_0x5576d0(0xd1)]((_0x499cb7,_0x19fcfb)=>{const _0xfc4434=_0x5576d0;if(_0x56c5a4[_0x2818ed]){const _0x12ed3e=fns['parse'](_0x56c5a4[_0x2818ed][_0xfc4434(0x194)],_0xfc4434(0x110),new Date()),_0x3ad350=fns[_0xfc4434(0x15a)](_0x499cb7[_0xfc4434(0x194)],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x12ed3e,_0x3ad350)){let _0x2d29bd=0x0;_0x56c5a4[_0x2818ed][_0xfc4434(0x224)][_0xfc4434(0xd1)](_0x5e9be6=>{const _0x37ea6b=_0xfc4434;!_0x4351b4[_0x5e9be6[_0x37ea6b(0xe5)]]?_0x4351b4[_0x5e9be6[_0x37ea6b(0xe5)]]=_0x5e9be6[_0x37ea6b(0x21b)]:(_0x2d29bd=_0x4351b4[_0x5e9be6[_0x37ea6b(0xe5)]],_0x4351b4[_0x5e9be6['coin']]+=_0x5e9be6[_0x37ea6b(0x21b)]);const _0x452b25=_0x499cb7[_0x37ea6b(0x120)]['find'](_0x190df5=>_0x190df5[_0x37ea6b(0xe5)]==_0x5e9be6[_0x37ea6b(0xe5)]);(!_0x452b25||_0x452b25[_0x37ea6b(0x21b)]==0x0)&&(_0x3d8b9a+=(-_0x5e9be6['number']-_0x2d29bd)*_0x5e9be6[_0x37ea6b(0x222)]);}),_0x2818ed++;}}_0x499cb7[_0xfc4434(0x120)]['forEach']((_0x304175,_0x134a74)=>{const _0x1192f3=_0xfc4434;_0x4351b4[_0x304175[_0x1192f3(0xe5)]]&&(_0x304175[_0x1192f3(0x123)]=_0x4351b4[_0x304175[_0x1192f3(0xe5)]]);}),_0x2ee86b[_0xfc4434(0x230)]({'date':_0x499cb7[_0xfc4434(0x194)],'eur':_0x499cb7['eur'],'usd':_0x499cb7[_0xfc4434(0x187)],'offset':_0x596e60[_0x19fcfb],'netoffset':_0x3d8b9a,'coins':_0x499cb7[_0xfc4434(0x120)]});});}return _0x2ee86b;}function emitPerformance(_0x293b34){const _0x2deb10=_0x1d3102;_0x293b34[_0x2deb10(0x1bd)]!==0x0?(proxyEmit(_0x2deb10(0x1d1),_0x293b34),lastPerformanceEmitted=getDate()):proxyEmit(_0x2deb10(0x1d1),[]);}function getPerf(_0x4fa2ac,_0x53596f){const _0x10efd4=_0x1d3102;let _0x3ef9af=0x0,_0x38981a=0x0,_0x81181f=0x0;_0x4fa2ac[_0x10efd4(0x120)]['forEach'](_0x22374b=>{const _0x96edab=_0x10efd4;_0x3ef9af+=_0x22374b[_0x96edab(0x21b)]*_0x22374b[_0x96edab(0x222)];});_0x53596f&&(_0x3ef9af+=_0x4fa2ac[_0x10efd4(0x185)]);if(config[_0x10efd4(0xd0)]==='BTC'||config['basecoin']===_0x10efd4(0x1b4))_0x38981a=_0x3ef9af*_0x4fa2ac[_0x10efd4(0x1aa)],_0x81181f=_0x3ef9af*_0x4fa2ac[_0x10efd4(0x187)];else{if(config['basecoin']===_0x10efd4(0x163)||config[_0x10efd4(0xd0)]===_0x10efd4(0x158)||config['basecoin']===_0x10efd4(0x149))_0x38981a=_0x3ef9af*_0x4fa2ac[_0x10efd4(0x1aa)]/_0x4fa2ac[_0x10efd4(0x187)],_0x81181f=_0x3ef9af;else config[_0x10efd4(0xd0)]===_0x10efd4(0x1ce)&&(_0x38981a=_0x3ef9af,_0x81181f=_0x3ef9af*_0x4fa2ac['usd']/_0x4fa2ac[_0x10efd4(0x1aa)]);}return[_0x3ef9af,_0x38981a,_0x81181f];}function getKPIs(_0x47990f,_0x1cb376=_0x1d3102(0x1ce)){const _0x5c09b3=_0x1d3102,_0x21f7c1=config[_0x5c09b3(0xd0)],_0x3669eb=lastBalances,_0x41dadc=currentCoins,_0x454d0d=getNormalizedPerformance(),_0x2708c8=_0x47990f===_0x5c09b3(0xd0)?_0x21f7c1:_0x47990f===_0x5c09b3(0x12c)||_0x47990f==='net-fiat'?_0x1cb376:_0x5c09b3(0x1a1)+_0x21f7c1,_0x271a2c=_0x47990f===_0x5c09b3(0xd2)?_0x5c09b3(0x127):_0x47990f==='net-fiat'?_0x5c09b3(0x127):_0x2708c8+'\x20value',_0x81ee5=_0x47990f==='net-basecoin'||_0x47990f===_0x5c09b3(0x182)?_0x5c09b3(0x127):_0x2708c8+_0x5c09b3(0x11a);let _0x327d1f=0x0;_0x41dadc[_0x5c09b3(0xd1)](_0xa14cf5=>{const _0x42b5dc=_0x5c09b3;_0x327d1f+=_0xa14cf5[_0x42b5dc(0x21b)]*_0xa14cf5[_0x42b5dc(0xe6)];});if(_0x47990f==='fiat'||_0x47990f==='net-fiat'){if(_0x21f7c1===_0x5c09b3(0x146)||_0x21f7c1===_0x5c09b3(0x1b4))_0x327d1f=_0x327d1f*(_0x1cb376===_0x5c09b3(0x1ce)?_0x3669eb[_0x5c09b3(0x1aa)]:_0x3669eb[_0x5c09b3(0x187)]);else{if(_0x21f7c1==='BUSD'||_0x21f7c1===_0x5c09b3(0x158)||_0x21f7c1===_0x5c09b3(0x149))_0x327d1f=_0x327d1f*(_0x1cb376===_0x5c09b3(0x1ce)?_0x3669eb[_0x5c09b3(0x1aa)]/_0x3669eb[_0x5c09b3(0x187)]:0x1);else _0x21f7c1===_0x5c09b3(0x1ce)&&(_0x327d1f=_0x327d1f*(_0x1cb376==='EUR'?0x1:_0x3669eb[_0x5c09b3(0x187)]/_0x3669eb[_0x5c09b3(0x1aa)]));}}let _0x313f32;if(_0x327d1f!==0x0){if(_0x47990f===_0x5c09b3(0xd0))_0x313f32=(_0x327d1f/startingBalances[_0x5c09b3(0xd0)]-0x1)*0x64;else{if(_0x1cb376==='EUR')_0x313f32=(_0x327d1f/startingBalances['eur']-0x1)*0x64;else _0x313f32=(_0x327d1f/startingBalances['usd']-0x1)*0x64;}let _0x4d4a37=0x0;if(startingBalances[_0x5c09b3(0x120)])_0x41dadc[_0x5c09b3(0xd1)](_0x5e766b=>{const _0x38787e=_0x5c09b3;let _0x5542b0=startingBalances[_0x38787e(0x120)][_0x38787e(0x1a2)](_0x345f8e=>_0x345f8e[_0x38787e(0xe5)]===_0x5e766b[_0x38787e(0xe5)]);if(_0x5542b0&&_0x5542b0[_0x38787e(0xe5)]&&_0x5e766b['number']!==0x0)_0x4d4a37+=_0x5542b0[_0x38787e(0x21b)]*_0x5e766b[_0x38787e(0xe6)];});let _0x2598cd=0x0;if(_0x454d0d[_0x5c09b3(0x1bd)]!==0x0){let _0x242ef6=_0x454d0d[_0x454d0d[_0x5c09b3(0x1bd)]-0x1];_0x2598cd=_0x242ef6[_0x5c09b3(0x137)];}_0x4d4a37-=_0x2598cd;_0x47990f===_0x5c09b3(0xd2)&&(_0x313f32=(_0x327d1f-_0x4d4a37)/startingBalances[_0x5c09b3(0xd0)]*0x64,_0x327d1f=_0x327d1f-_0x4d4a37);if(_0x47990f==='net-fiat'){let _0x18d8fe=_0x1cb376===_0x5c09b3(0x1ce)?startingBalances[_0x5c09b3(0x1aa)]:startingBalances[_0x5c09b3(0x187)];if(_0x21f7c1===_0x5c09b3(0x146)||_0x21f7c1===_0x5c09b3(0x1b4))_0x4d4a37=_0x1cb376==='EUR'?_0x4d4a37*_0x3669eb[_0x5c09b3(0x1aa)]:_0x4d4a37*_0x3669eb[_0x5c09b3(0x187)];else{if(_0x21f7c1==='BUSD'||_0x21f7c1===_0x5c09b3(0x158)||_0x21f7c1===_0x5c09b3(0x149))_0x4d4a37=_0x1cb376===_0x5c09b3(0x1ce)?_0x4d4a37*_0x3669eb['eur']/_0x3669eb[_0x5c09b3(0x187)]:_0x4d4a37;else _0x21f7c1===_0x5c09b3(0x1ce)&&(_0x4d4a37=_0x1cb376===_0x5c09b3(0x1ce)?_0x4d4a37:_0x4d4a37*_0x3669eb['usd']/_0x3669eb['eur']);}_0x313f32=(_0x327d1f-_0x4d4a37)/_0x18d8fe*0x64,_0x327d1f=_0x327d1f-_0x4d4a37;}if(_0x313f32){if(_0x313f32<0x64)_0x313f32=_0x313f32[_0x5c09b3(0x239)](0x2);else{if(_0x313f32<0x3e8)_0x313f32=_0x313f32[_0x5c09b3(0x239)](0x1);else _0x313f32=_0x313f32[_0x5c09b3(0x239)](0x0);}}else _0x313f32=Number('0')['toFixed'](0x2);if(_0x327d1f){if(Math['abs'](_0x327d1f)<0.000001)_0x327d1f=_0x327d1f[_0x5c09b3(0x239)](0x2);else{if(Math[_0x5c09b3(0x22b)](_0x327d1f)<0.1)_0x327d1f=_0x327d1f[_0x5c09b3(0x239)](0x6);else{if(Math[_0x5c09b3(0x22b)](_0x327d1f)<0x1)_0x327d1f=_0x327d1f[_0x5c09b3(0x239)](0x5);else{if(Math['abs'](_0x327d1f)<0xa)_0x327d1f=_0x327d1f[_0x5c09b3(0x239)](0x4);else{if(Math['abs'](_0x327d1f)<0x64)_0x327d1f=_0x327d1f['toFixed'](0x3);else{if(Math[_0x5c09b3(0x22b)](_0x327d1f)<0x3e8)_0x327d1f=_0x327d1f['toFixed'](0x2);else _0x327d1f=_0x327d1f['toFixed'](0x2);}}}}}}else _0x327d1f=Number('0')[_0x5c09b3(0x239)](0x2);}else _0x313f32=Number('0')[_0x5c09b3(0x239)](0x2);return{'value':_0x327d1f,'change':_0x313f32,'leftTxt':_0x271a2c,'rightTxt':_0x81ee5};}async function getStartingBalances(_0xd4d91c,_0x2dadbc=!![]){const _0x47646f=_0x1d3102;if(_0xd4d91c[_0x47646f(0x1bd)]!==0x0){const [_0x394c7b,_0x143961,_0x4fbed0]=getPerf(_0xd4d91c[0x0],!![]);let _0x4a8274=[];config[_0x47646f(0x15f)]['forEach'](_0x5b82da=>{const _0x5c6549=_0x47646f;let _0x4cc4b8=0x0,_0xfed2ea;config['liquidity'][_0x5c6549(0xd1)](_0x1af710=>{const _0x1cadf7=_0x5c6549;let _0x4db389=_0x1af710[_0x1cadf7(0x224)]['find'](_0x19006b=>_0x19006b[_0x1cadf7(0xe5)]==_0x5b82da[_0x1cadf7(0xe5)]);if(_0x4db389){_0x4cc4b8+=_0x4db389[_0x1cadf7(0x21b)];if(!_0xfed2ea)_0xfed2ea=_0x4db389[_0x1cadf7(0x222)];}}),_0x4a8274['push']({'coin':_0x5b82da['coin'],'number':_0x4cc4b8,'initialprice':_0xfed2ea});});const _0x3cafdf={'basecoin':_0x394c7b,'eur':_0x143961,'usd':_0x4fbed0,'coins':_0x4a8274};if(_0x2dadbc)proxyEmit(_0x47646f(0x11e),_0x3cafdf);startingBalances=_0x3cafdf;}}function headlessMode(_0x4c5c54){const _0xc7af84=_0x1d3102;let _0x299b26=_0x4c5c54['portfolio'],_0x49d9e4=_0x4c5c54[_0xc7af84(0x1d9)],_0x8affe8=[];for(let _0x415ad6 of _0x299b26){if(_0x415ad6[_0xc7af84(0xe5)]!=config[_0xc7af84(0xd0)]){if(_0x415ad6[_0xc7af84(0x1dc)]>=_0x49d9e4/0x64){if(_0x415ad6[_0xc7af84(0xe3)])_0x8affe8[_0xc7af84(0x230)](_0x415ad6);}else{if(_0x415ad6[_0xc7af84(0x1dc)]<=-_0x49d9e4/0x64){if(_0x415ad6['valid'])_0x8affe8[_0xc7af84(0x230)](_0x415ad6);}}}}_0x8affe8[_0xc7af84(0x1bd)]>0x0&&placeOrder(_0x8affe8);}function notifyBalance(_0x53aa17){const _0x27a889=_0x1d3102;let _0x5cadb4=_0x53aa17[_0x27a889(0x15f)],_0x5b9e3c=_0x53aa17['threshold'],_0x56cf15=[];for(let _0x325ef2 of _0x5cadb4){if(_0x325ef2[_0x27a889(0xe5)]!=config['basecoin']){if(_0x325ef2['delta']>=_0x5b9e3c/0x64){if(_0x325ef2[_0x27a889(0xe3)])_0x56cf15[_0x27a889(0x230)](_0x325ef2);}else{if(_0x325ef2[_0x27a889(0x1dc)]<=-_0x5b9e3c/0x64){if(_0x325ef2[_0x27a889(0xe3)])_0x56cf15[_0x27a889(0x230)](_0x325ef2);}}}}if(_0x56cf15['length']>0x0){let _0x52e22c=_0x56cf15[_0x27a889(0xdf)](_0x167c81=>_0x167c81[_0x27a889(0xe5)]);_0x52e22c['sort']();let _0xac26cf=_0x52e22c[_0x27a889(0x103)](',\x20');if(!lastCoinsToBalance)logHistory(_0x27a889(0x22c),_0x27a889(0x151));lastCoinsToBalance=_0xac26cf;}}function symbolToCoin(_0x1542e9){const _0x75401d=_0x1d3102;let _0x11ef0f;if(_0x1542e9[_0x75401d(0x124)]('/'+config['basecoin']))_0x11ef0f=_0x1542e9[_0x75401d(0x1a6)]('/'+config[_0x75401d(0xd0)],'');if(_0x1542e9[_0x75401d(0x124)](config[_0x75401d(0xd0)]+'/'))_0x11ef0f=_0x1542e9[_0x75401d(0x1a6)](config[_0x75401d(0xd0)]+'/','');return _0x11ef0f;}async function unlockOrders(){const _0xded40d=_0x1d3102;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0xded40d(0x219)](_0xded40d(0x12e)),lockOrders=ORDERS[_0xded40d(0x132)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x476c29=await getCoins();[currentCoins,currentCoinsAll]=_0x476c29,validateOrdersState=_0xded40d(0x123),persistOpenOrders([]),lockOrders=ORDERS[_0xded40d(0x23c)],logger[_0xded40d(0x219)](_0xded40d(0x1ba));}}async function validateOrders(_0x5db3c3){const _0x10ee43=_0x1d3102;if(_0x5db3c3)validateOrdersState=_0x5db3c3;logger[_0x10ee43(0x219)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x10ee43(0x147)+(lockOrders==0x1?_0x10ee43(0xc6):lockOrders==0x2?_0x10ee43(0x114):_0x10ee43(0x14a)));let _0x53dfe4=[],_0x5b01ca=config['ordertype']==_0x10ee43(0x1fd)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x10ee43(0x166)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x10ee43(0x219)](_0x10ee43(0x1fa)+validateOrdersState),lastOrders[_0x10ee43(0xd1)](_0x24de8f=>{const _0xca33a=_0x10ee43;let _0x374544=![];_0x24de8f['filled']>0x0&&(_0x374544=!![]),_0x53dfe4['push'](_0x374544),_0x374544&&config['ordertype']!=_0xca33a(0x1fd)&&logHistory(_0xca33a(0xf8),_0xca33a(0x1eb)+_0x24de8f[_0xca33a(0x128)]+'\x20'+_0x24de8f[_0xca33a(0x1d2)]+'\x20#'+formatResult(_0x24de8f['filled'],0x8)+'\x20@'+formatResult(_0x24de8f[_0xca33a(0x222)],0x8));}),_0x53dfe4[_0x10ee43(0xd1)]((_0x510b4b,_0xa05323)=>{const _0x279dd3=_0x10ee43;if(_0x510b4b)lastOrders[_0x279dd3(0x150)](_0xa05323,0x1);}),persistOpenOrders(lastOrders);const _0x431898=coolingDown?_0x10ee43(0x1e2):_0x10ee43(0x21e);if(validateOrdersState=='initial'){validateOrdersState=_0x10ee43(0x1d0);if(_0x53dfe4[_0x10ee43(0x124)](![])){if(config['ordertype']==_0x10ee43(0x1fd)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x10ee43(0x1d0)){if(_0x53dfe4[_0x10ee43(0x124)](![])){}else{if(allOrdersPlaced){if(config[_0x10ee43(0x17e)]==_0x10ee43(0x1fd)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x10ee43(0x19a))_0x53dfe4[_0x10ee43(0x124)](![])&&(config[_0x10ee43(0x17e)]=='market'?logHistory(_0x10ee43(0x1cb),_0x10ee43(0xdd)+Math[_0x10ee43(0xd3)](_0x5b01ca*validateOrderInterval/0xea60)+_0x10ee43(0x1ea)+_0x431898):(await cancelOrders(),logHistory(_0x10ee43(0x1cb),_0x10ee43(0x1f0)+Math[_0x10ee43(0xd3)](_0x5b01ca*validateOrderInterval/0xea60)+_0x10ee43(0x1ea)+_0x431898))),await unlockOrders();else{if(validateOrdersState==_0x10ee43(0xc9)){if(config[_0x10ee43(0x17e)]!=_0x10ee43(0x1fd))logHistory(_0x10ee43(0x1cb),'No\x20more\x20open\x20orders\x20-\x20'+_0x431898);await unlockOrders();}}}}}async function cancelOrders(){const _0x51f41e=_0x1d3102;lastOrders[_0x51f41e(0xd1)](async _0x3b3be8=>{const _0x1ac322=_0x51f41e;try{const _0xe71cfb=await exchange['cancelOrder'](_0x3b3be8['orderId'],_0x3b3be8[_0x1ac322(0x128)]);}catch(_0x43eadb){if(_0x43eadb['toString']()[_0x1ac322(0x124)]('OrderNotFound')){}else await handleError(_0x43eadb,_0x1ac322(0x126));}});}async function initCoinResults(){const _0x3a2f1b=_0x1d3102;let _0x43c845=[];config[_0x3a2f1b(0x15f)][_0x3a2f1b(0xd1)](_0x30cd87=>{const _0x293f40=_0x3a2f1b;if(!_0x30cd87[_0x293f40(0x129)]&&_0x30cd87[_0x293f40(0xe5)]!=config[_0x293f40(0xd0)]){let _0x42e33d=dbCoinResults[_0x293f40(0x168)](_0x293f40(0x120))[_0x293f40(0x1a2)]({'coin':_0x30cd87['coin']})[_0x293f40(0x157)]();if(!_0x42e33d){const _0x150e91=currentCoins[_0x293f40(0x1a2)](_0x26f799=>_0x26f799[_0x293f40(0xe5)]==_0x30cd87['coin']),_0x15c217=global['ticker'][noslash(_0x30cd87['symbol'])];let _0x1c79eb=_0x150e91?_0x150e91[_0x293f40(0x21b)]:null,_0x3b6bb1=_0x30cd87[_0x293f40(0xc0)]?0x1/_0x15c217:_0x15c217,_0x10efbc;config[_0x293f40(0x202)]['forEach'](_0x4a8984=>{const _0x427fb0=_0x293f40;!_0x10efbc&&(_0x10efbc=_0x4a8984[_0x427fb0(0x224)][_0x427fb0(0x1a2)](_0x37e8d1=>_0x37e8d1[_0x427fb0(0xe5)]==_0x30cd87[_0x427fb0(0xe5)]),_0x10efbc&&(_0x1c79eb=_0x10efbc[_0x427fb0(0x21b)],_0x3b6bb1=_0x10efbc[_0x427fb0(0x222)]));}),_0x43c845[_0x293f40(0x230)]({'coin':_0x30cd87[_0x293f40(0xe5)],'number':_0x1c79eb,'price':_0x3b6bb1});}}}),_0x43c845[_0x3a2f1b(0xd1)](_0x3a9ba9=>{const _0x4abcc6=_0x3a2f1b,_0x11bd10={'coin':_0x3a9ba9[_0x4abcc6(0xe5)],'number':_0x3a9ba9[_0x4abcc6(0x21b)],'breakeven':_0x3a9ba9[_0x4abcc6(0x222)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4abcc6(0x168)]('coins')[_0x4abcc6(0x230)](_0x11bd10)[_0x4abcc6(0x10d)]();});}async function updateCoinResults(_0xbb1f68,_0xffdd10=![]){const _0x26502c=_0x1d3102;let _0x3c5aae,_0x497cdb,_0xa6b822,_0x30ba66,_0x37e6a0,_0x223e10,_0x4a2bfa=dbCoinResults[_0x26502c(0x168)](_0x26502c(0x120))['find']({'coin':_0xbb1f68[_0x26502c(0xe5)]})[_0x26502c(0x157)]();!_0x4a2bfa&&await initCoinResults();_0xbb1f68[_0x26502c(0xc0)]&&(_0x223e10={'filled':_0xbb1f68[_0x26502c(0x1e7)]*_0xbb1f68[_0x26502c(0x222)],'amount':_0xbb1f68[_0x26502c(0x1e7)]*_0xbb1f68['price'],'side':_0xbb1f68['side']==_0x26502c(0x23e)?_0x26502c(0xee):'sell','price':0x1/_0xbb1f68['price']},_0xbb1f68={..._0xbb1f68,..._0x223e10});_0xffdd10?_0x497cdb=_0xbb1f68[_0x26502c(0x1d2)]==_0x26502c(0xee)?_0x4a2bfa['number']+_0xbb1f68[_0x26502c(0x1e7)]:_0x4a2bfa[_0x26502c(0x21b)]-_0xbb1f68['filled']:_0x497cdb=await getCoinNumber(_0xbb1f68[_0x26502c(0xe5)]);if(_0xbb1f68['fee']&&_0xbb1f68[_0x26502c(0xd6)][_0x26502c(0x1e9)]==config[_0x26502c(0xd0)])_0x3c5aae=_0xbb1f68[_0x26502c(0xd6)][_0x26502c(0x10a)];else{if(_0xbb1f68['fee']&&_0xbb1f68['fee'][_0x26502c(0x1e9)]==_0x26502c(0x196)&&!_0xffdd10)_0x3c5aae=_0xbb1f68[_0x26502c(0xd6)]['cost']*global[_0x26502c(0x16b)][_0x26502c(0x196)+config['basecoin']];else _0x3c5aae=defaultFee*_0xbb1f68[_0x26502c(0x1e7)]*_0xbb1f68[_0x26502c(0x222)];}_0xbb1f68[_0x26502c(0x1d2)]==_0x26502c(0xee)?(_0xa6b822=_0x497cdb!=0x0?(_0x4a2bfa['breakeven']*_0x4a2bfa[_0x26502c(0x21b)]+_0xbb1f68[_0x26502c(0x222)]*(_0x497cdb-_0x4a2bfa[_0x26502c(0x21b)])+_0x3c5aae)/_0x497cdb:0x0,_0x30ba66=_0x4a2bfa['realized']):(_0xa6b822=_0x497cdb!=0x0?(_0x4a2bfa[_0x26502c(0x1b2)]*_0x4a2bfa['number']-_0xbb1f68['price']*(_0x4a2bfa[_0x26502c(0x21b)]-_0x497cdb)+_0x3c5aae)/_0x497cdb:0x0,_0x30ba66=_0x4a2bfa[_0x26502c(0x122)]+(_0xbb1f68[_0x26502c(0x222)]-_0x4a2bfa[_0x26502c(0x1b2)])*_0xbb1f68[_0x26502c(0x1e7)]);_0x37e6a0=(_0xbb1f68[_0x26502c(0x222)]-_0xa6b822-_0x3c5aae/_0xbb1f68[_0x26502c(0x1e7)])*_0x497cdb;let _0x1cc2d7={'coin':_0xbb1f68[_0x26502c(0xe5)],'number':_0x497cdb,'breakeven':formatResult(_0xa6b822,0x8),'realized':formatResult(_0x30ba66,0x8),'unrealized':formatResult(_0x37e6a0,0x8),'fees':formatResult(_0x4a2bfa[_0x26502c(0x118)]+_0x3c5aae,0x8),'sells':_0xbb1f68[_0x26502c(0x1d2)]==_0x26502c(0x23e)?_0x4a2bfa[_0x26502c(0x14e)]+0x1:_0x4a2bfa[_0x26502c(0x14e)],'buys':_0xbb1f68[_0x26502c(0x1d2)]==_0x26502c(0xee)?_0x4a2bfa[_0x26502c(0x1c1)]+0x1:_0x4a2bfa[_0x26502c(0x1c1)]};dbCoinResults[_0x26502c(0x168)](_0x26502c(0x120))['find']({'coin':_0xbb1f68[_0x26502c(0xe5)]})[_0x26502c(0x1e6)](_0x1cc2d7)[_0x26502c(0x10d)]();if(!_0xffdd10){if(_0xbb1f68[_0x26502c(0xd6)]&&_0xbb1f68['fee'][_0x26502c(0x1e9)]==_0x26502c(0x196)){const _0x2927b2=currentCoins[_0x26502c(0x1a2)](_0x4cc554=>_0x4cc554[_0x26502c(0xe5)]==_0x26502c(0x196));if(_0x2927b2){let _0x51a421=dbCoinResults[_0x26502c(0x168)](_0x26502c(0x120))[_0x26502c(0x1a2)]({'coin':_0x26502c(0x196)})[_0x26502c(0x157)]();_0x1cc2d7={..._0x51a421,'number':_0x2927b2['number']},dbCoinResults[_0x26502c(0x168)](_0x26502c(0x120))[_0x26502c(0x1a2)]({'coin':_0x26502c(0x196)})['assign'](_0x1cc2d7)[_0x26502c(0x10d)]();}}}}async function placeOrder(_0x171b95){const _0x5cd086=_0x1d3102,_0x2bbef6=config[_0x5cd086(0x17e)]=='market'?_0x5cd086(0x1fd):_0x5cd086(0x10e);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState='initial';let _0x476351=![];lastOrders=[];for(const _0x5bbf89 of _0x171b95){let _0x36d4f5,_0x1bd3a9,_0x388773,_0x5b3720,_0xcd9cd7,_0x5e9ff4=_0x5bbf89[_0x5cd086(0x128)];try{const _0x390bae=await exchange['fetchTicker'](_0x5e9ff4);_0x36d4f5=_0x5bbf89[_0x5cd086(0xc0)]?0x1/_0x5bbf89[_0x5cd086(0xe6)]:_0x5bbf89[_0x5cd086(0xe6)],_0x1bd3a9=_0x390bae[_0x5cd086(0xce)],_0x388773=_0x390bae[_0x5cd086(0x207)];_0x5bbf89[_0x5cd086(0xc0)]?(_0x5b3720=_0x5bbf89[_0x5cd086(0x1d2)]==_0x5cd086(0xee)?'sell':'buy',_0xcd9cd7=Math[_0x5cd086(0x22b)](_0x5bbf89[_0x5cd086(0x241)])/_0x36d4f5):(_0x5b3720=_0x5bbf89[_0x5cd086(0x1d2)],_0xcd9cd7=Math[_0x5cd086(0x22b)](_0x5bbf89[_0x5cd086(0x241)]));_0x2bbef6=='limit'&&(config[_0x5cd086(0x17e)]==_0x5cd086(0x1a0)&&(_0x36d4f5=_0x5b3720=='buy'?_0x1bd3a9:_0x388773),config[_0x5cd086(0x17e)]==_0x5cd086(0x13c)&&(_0x36d4f5=_0x5b3720=='buy'?_0x388773:_0x1bd3a9));_0xcd9cd7=formatResult(_0xcd9cd7,0x8),_0x36d4f5=formatResult(_0x36d4f5,0x8);const _0x380e81=_0x5b3720==_0x5cd086(0x23e)?config['emojisell']?String[_0x5cd086(0x100)]('0x'+config[_0x5cd086(0x170)])+'\x20':'':config[_0x5cd086(0x12b)]?String[_0x5cd086(0x100)]('0x'+config[_0x5cd086(0x12b)])+'\x20':'',_0x59c39d=_0x2bbef6=='market'?_0x5cd086(0x235):config[_0x5cd086(0x17e)]=='limit-high'?_0x5cd086(0xfa):_0x5cd086(0x19e),_0x5a19f1=new Date()[_0x5cd086(0xca)]()['toString']()[_0x5cd086(0x133)](-0x6)+'-'+Math[_0x5cd086(0x23b)]()[_0x5cd086(0x178)]()[_0x5cd086(0x133)](-0x6);lastOrders[_0x5cd086(0x230)]({'customId':_0x5a19f1,'symbol':_0x5e9ff4,'coin':_0x5bbf89[_0x5cd086(0xe5)],'side':_0x5b3720,'reverse':_0x5bbf89[_0x5cd086(0xc0)],'filled':0x0});if(_0x2bbef6==_0x5cd086(0x1fd))logHistory('order',''+_0x380e81+_0x59c39d+'\x20order:\x20'+_0x5e9ff4+'\x20'+_0x5b3720+'\x20#'+formatResult(_0xcd9cd7,0x8)+'\x20@'+formatResult(_0x36d4f5,0x8));else logHistory('order',''+_0x380e81+_0x59c39d+_0x5cd086(0x16a)+_0x5e9ff4+'\x20'+_0x5b3720+'\x20#'+formatResult(_0xcd9cd7,0x8)+'\x20@'+formatResult(_0x36d4f5,0x8));const _0x460441=await exchange[_0x5cd086(0x172)](_0x5e9ff4,_0x2bbef6,_0x5b3720,_0xcd9cd7,_0x36d4f5,{'clientOrderId':_0x5a19f1}),_0x142867=lastOrders[_0x5cd086(0x1bd)]-0x1;_0x142867>=0x0&&lastOrders[_0x142867][_0x5cd086(0x1f5)]==_0x5a19f1&&(lastOrders[_0x142867]={...lastOrders[_0x142867],'orderId':_0x460441['id'],'amount':_0x460441[_0x5cd086(0x211)],'price':_0x460441[_0x5cd086(0x222)],'fee':_0x460441['fee']});if(config['cooldown']!=0x0){let _0x51c068=null;if(cooldownTracker[_0x5cd086(0x1bd)]==config[_0x5cd086(0xbe)]-0x1)_0x51c068=cooldownTracker[_0x5cd086(0xcd)]();const _0x331f35=getTimeStamp();cooldownTracker[_0x5cd086(0x230)](_0x331f35);if(_0x51c068){const _0x36cd0e=fns[_0x5cd086(0x1fb)](new Date(_0x331f35),new Date(_0x51c068));if(_0x36cd0e<cooldownInterval){logHistory(_0x5cd086(0x1b5),_0x5cd086(0x16d)+config[_0x5cd086(0xbe)]+_0x5cd086(0x1f8)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x5cd086(0x15d)),coolingDown=!![];break;}}}}catch(_0x21c71c){if(_0x21c71c[_0x5cd086(0x178)]()['includes'](_0x5cd086(0xe1)))lastOrders=lastOrders[_0x5cd086(0x13d)](_0x13c990=>_0x13c990[_0x5cd086(0x128)]!=_0x5e9ff4),logHistory(_0x5cd086(0x1b5),_0x5cd086(0x17c)+_0x5e9ff4),_0x476351=!![];else _0x21c71c[_0x5cd086(0x178)]()[_0x5cd086(0x124)](_0x5cd086(0xfc))?(lastOrders=lastOrders[_0x5cd086(0x13d)](_0x1fb662=>_0x1fb662[_0x5cd086(0x128)]!=_0x5e9ff4),logHistory(_0x5cd086(0x1b5),_0x5cd086(0x1a3)+_0x5e9ff4),_0x476351=!![]):(lastOrders=lastOrders[_0x5cd086(0x13d)](_0x2e5b1a=>_0x2e5b1a[_0x5cd086(0x128)]!=_0x5e9ff4),await handleError(_0x21c71c,_0x5cd086(0x16e),_0x5e9ff4));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5cd086(0x1bd)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x280264=config[_0x5cd086(0x17e)]==_0x5cd086(0x1fd)?validateOrderTimeout*0x3c*0x3e8:config[_0x5cd086(0x166)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x74efb8=_0x5cd086;validateOrders(_0x74efb8(0x19a));},_0x280264);}else unlockOrders();_0x476351&&config[_0x5cd086(0x206)]&&await pauseBot(_0x5cd086(0x1ae)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5cd086(0x1cb),_0x5cd086(0x195)));}else{if(coolingDown)!config['headless']&&logHistory(_0x5cd086(0x1b5),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x5cd086(0x23c)]&&(!config[_0x5cd086(0x206)]&&(config['ordertype']==_0x5cd086(0x1fd)?logHistory('error',_0x5cd086(0x16c)):logHistory(_0x5cd086(0x1b5),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x568d25){const _0x49f662=_0x1d3102,_0x32b627={...config,'openOrders':_0x568d25};let _0x1f91b4=dbConfig[_0x49f662(0x168)](_0x49f662(0x130))[_0x49f662(0x1a2)]({'botID':botID})['value']();_0x1f91b4&&dbConfig['get']('bot')[_0x49f662(0x1a2)]({'botID':botID})[_0x49f662(0x1e6)](_0x32b627)[_0x49f662(0x10d)]();}function restoreOrders(){const _0xf2befb=_0x1d3102;let _0x2752ae;config[_0xf2befb(0x164)]&&allOpenOrders[_0xf2befb(0xd1)](_0x127172=>{const _0x5465d8=_0xf2befb,_0x1eae28=config[_0x5465d8(0x164)]['find'](_0x1048f3=>_0x1048f3[_0x5465d8(0x1e1)]==_0x127172['id']);_0x1eae28&&(lastOrders[_0x5465d8(0x230)](_0x1eae28),_0x2752ae=_0x127172[_0x5465d8(0x1ad)]);});if(lastOrders[_0xf2befb(0x1bd)]>0x0){lockOrders=ORDERS[_0xf2befb(0x1dd)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x29023d=new Date()[_0xf2befb(0xca)](),_0x5eaee3=config[_0xf2befb(0x17e)]==_0xf2befb(0x1fd)?validateOrderTimeout*0x3c*0x3e8:config[_0xf2befb(0x166)]*0x3c*0x3e8;if(_0x2752ae+_0x5eaee3>_0x29023d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x2752ae+_0x5eaee3-_0x29023d);}else validateOrders(_0xf2befb(0x19a));}}async function sendMetricsTelegram(){const _0x151fab=_0x1d3102;if(!coinsLoaded){process[_0x151fab(0x115)]({'telegrammsg':_0x151fab(0x21c)},_0x22f9f9=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x580b3b='';if(config[_0x151fab(0xea)])_0x580b3b='<b>'+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x580b3b=_0x151fab(0xdb)+botID+_0x151fab(0x108);const _0x35fee8=getKPIs(_0x151fab(0xd0)),_0x4219de=getKPIs(_0x151fab(0x12c),config[_0x151fab(0x12c)]),_0x4333b5=getKPIs(_0x151fab(0xd2)),_0x33c5a5=getKPIs(_0x151fab(0x182),config[_0x151fab(0x12c)]);_0x580b3b+=_0x151fab(0xf5),_0x580b3b+=_0x35fee8['leftTxt']+'\x20:\x20'+_0x35fee8[_0x151fab(0x157)]+'\x0a',_0x580b3b+=_0x35fee8[_0x151fab(0x13f)]+':\x20'+_0x35fee8[_0x151fab(0x1cd)]+'%\x0a',_0x580b3b+=_0x4219de[_0x151fab(0x12a)]+_0x151fab(0x156)+_0x4219de['value']+'\x0a',_0x580b3b+=_0x4219de['rightTxt']+':\x20'+_0x4219de[_0x151fab(0x1cd)]+'%\x0a',_0x580b3b+=_0x4333b5[_0x151fab(0x12a)]+':\x20'+_0x4333b5[_0x151fab(0x157)]+'\x20('+config[_0x151fab(0xd0)]+')\x0a',_0x580b3b+=_0x4333b5[_0x151fab(0x13f)]+':\x20'+_0x4333b5[_0x151fab(0x1cd)]+'%\x20('+config[_0x151fab(0xd0)]+')\x0a',_0x580b3b+=_0x33c5a5['leftTxt']+':\x20'+_0x33c5a5[_0x151fab(0x157)]+'\x20('+config['fiat']+')\x0a',_0x580b3b+=_0x33c5a5[_0x151fab(0x13f)]+':\x20'+_0x33c5a5[_0x151fab(0x1cd)]+_0x151fab(0x154)+config[_0x151fab(0x12c)]+')\x0a',_0x580b3b+=_0x151fab(0x1c2),process[_0x151fab(0x115)]({'telegrammsg':_0x580b3b},_0x177efe=>{});}async function sendPortfolioTelegram(){const _0x8480bf=_0x1d3102;if(!coinsLoaded){process['send']({'telegrammsg':_0x8480bf(0x21c)},_0x1d43cb=>{});return;}let _0x2960e7='';if(config[_0x8480bf(0xea)])_0x2960e7=_0x8480bf(0x189)+config[_0x8480bf(0x22e)]+_0x8480bf(0x1ab);else _0x2960e7=_0x8480bf(0xdb)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x2960e7+=_0x8480bf(0xf5),_0x2960e7+=_0x8480bf(0x198),_0x2960e7+=_0x8480bf(0x177),_0x2960e7+=_0x8480bf(0x198),currentCoins[_0x8480bf(0xd1)](_0x4b5a66=>{const _0x14ffe9=_0x8480bf;_0x2960e7+=_0x4b5a66['coin']['padEnd'](0x7)+'|\x20'+formatPad(_0x4b5a66[_0x14ffe9(0x18a)],0x2,0x6)+'|\x20'+formatPad(_0x4b5a66[_0x14ffe9(0x1be)],0x2,0x6)+'|\x20'+formatPad(_0x4b5a66['delta']*0x64,0x2,0x6)+'\x0a';}),_0x2960e7+=_0x8480bf(0x1c2),process[_0x8480bf(0x115)]({'telegrammsg':_0x2960e7},_0x1dfb92=>{});}function formatPad(_0x547f11,_0x56ba96,_0x1166f2){const _0x42e2b0=_0x1d3102,_0x52f0af=formatResultString(_0x547f11,_0x56ba96);return _0x52f0af?_0x52f0af[_0x42e2b0(0x125)](_0x1166f2):''[_0x42e2b0(0x125)](_0x1166f2);}function logHistory(_0x2172e9,_0x129352,_0x2cde2b=''){const _0x5aa3ef=_0x1d3102;let _0x181cee={'time':getTimeStamp(),'type':_0x2172e9,'event':_0x129352};dbLogs['get'](_0x5aa3ef(0x1a7))[_0x5aa3ef(0x230)](_0x181cee)[_0x5aa3ef(0x10d)]();if(_0x2cde2b=='')_0x2cde2b=_0x129352;proxyEmit(_0x5aa3ef(0x14d),{'log':_0x181cee,'summary':_0x2cde2b}),process[_0x5aa3ef(0x115)]({'telegram':{..._0x181cee,'botname':config[_0x5aa3ef(0x22e)],'showname':config[_0x5aa3ef(0xea)]}},_0x1085b2=>{}),logger['full'](''+_0x181cee[_0x5aa3ef(0x14d)]);}function emitHistory(_0x4f4fb2={}){const _0x5e087b=_0x1d3102;Object['keys'](_0x4f4fb2)['length']==0x0&&(_0x4f4fb2={'type':[_0x5e087b(0xf8),_0x5e087b(0x14d)],'event':'','page':0x1});if(_0x4f4fb2[_0x5e087b(0xeb)]['includes'](_0x5e087b(0x14d)))_0x4f4fb2[_0x5e087b(0xeb)][_0x5e087b(0x150)](_0x4f4fb2[_0x5e087b(0xeb)]['indexOf'](_0x5e087b(0x14d)),0x1,_0x5e087b(0x1b5),_0x5e087b(0x22c),_0x5e087b(0x1cb));if(dbLogs['has'](_0x5e087b(0x1a7))['value']()){let _0x3c0fac=dbLogs[_0x5e087b(0x168)](_0x5e087b(0x1a7))['filter'](_0x148ec6=>{const _0x585f1f=_0x5e087b;if(_0x4f4fb2[_0x585f1f(0xeb)][_0x585f1f(0x1bd)]==0x0)return![];else return _0x4f4fb2[_0x585f1f(0xeb)][_0x585f1f(0x124)](_0x148ec6[_0x585f1f(0xeb)]);})[_0x5e087b(0x13d)](_0xaab2b7=>{const _0x3a4225=_0x5e087b;if(_0x4f4fb2[_0x3a4225(0x14d)]=='')return!![];else return _0xaab2b7['event'][_0x3a4225(0xcf)]()[_0x3a4225(0x124)](_0x4f4fb2[_0x3a4225(0x14d)]['toLowerCase']());})[_0x5e087b(0x138)](_0x5e087b(0x1c6)),_0x138c7a=_0x3c0fac['value']()[_0x5e087b(0x1bd)];_0x3c0fac=_0x3c0fac[_0x5e087b(0xc0)]()[_0x5e087b(0x133)]((_0x4f4fb2[_0x5e087b(0xcc)]-0x1)*logPageSize,_0x4f4fb2[_0x5e087b(0xcc)]*logPageSize-0x1)[_0x5e087b(0xc0)]()[_0x5e087b(0x157)](),proxyEmit('event-history',{'logs':_0x3c0fac,'total':_0x138c7a});}else proxyEmit(_0x5e087b(0x238),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x12194b){const _0x2f16d0=_0x1d3102;if(dbLogs[_0x2f16d0(0x113)]('logs')[_0x2f16d0(0x157)]()){const _0x23f55a=dbLogs['get'](_0x2f16d0(0x1a7))[_0x2f16d0(0x138)](_0x2f16d0(0x1c6))[_0x2f16d0(0x13d)](_0x19af6d=>{const _0x3f1553=_0x2f16d0;return _0x19af6d[_0x3f1553(0xeb)]=='order';})['value']();dbLogs[_0x2f16d0(0x168)](_0x2f16d0(0x1a7))[_0x2f16d0(0x167)]()[_0x2f16d0(0x10d)](),dbLogs[_0x2f16d0(0x168)](_0x2f16d0(0x1a7))[_0x2f16d0(0x1e6)](_0x23f55a)[_0x2f16d0(0x10d)](),emitHistory(_0x12194b);}}async function pauseBot(_0x581be4=''){const _0x94100d=_0x1d3102,_0x378674=new Date()['getTime']();if(!lastErrorShown||_0x378674-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x378674;!lastBotPause?(lastBotPause=_0x378674,consecutivePauses=0x1):(_0x378674-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0x94100d(0x13e)},_0x38a06b=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x94100d(0xca)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x581be4)_0x581be4+='\x20|\x20';logHistory(_0x94100d(0x1b5),_0x581be4+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x94100d(0x16f)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x5837f6=_0x1d3102;process[_0x5837f6(0x115)]({'stop':_0x5837f6(0x17f)},_0x4de17e=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x48fd4f,_0x31ecea){const _0x334388=_0x1d3102;if(_0x48fd4f['toString']()[_0x334388(0x124)](_0x334388(0x18e)))return logHistory(_0x334388(0x1b5),config['exchange']+_0x334388(0x20a)),![];else{if(_0x48fd4f[_0x334388(0x178)]()[_0x334388(0x124)](_0x334388(0x18f)))return logHistory(_0x334388(0x1b5),config['exchange']+_0x334388(0xe0)),![];else{if(_0x48fd4f[_0x334388(0x178)]()[_0x334388(0x124)](_0x334388(0xc7)))return logHistory('error',config['exchange']+_0x334388(0x1c8)),logHistory('error',_0x334388(0x171)),![];else await handleError(_0x48fd4f,_0x31ecea);}}}async function handleError(_0x4cb099,_0x1ac00d,_0x1b3be3=''){const _0x4dc79e=_0x1d3102,_0x5c1841=config['exchange']||_0x4dc79e(0xfe);if(_0x4cb099[_0x4dc79e(0x178)]()[_0x4dc79e(0x124)](_0x4dc79e(0x15b)))await pauseBot(config[_0x4dc79e(0xd5)]+_0x4dc79e(0x15e));else{if(_0x4cb099['toString']()[_0x4dc79e(0x124)](_0x4dc79e(0xf2)))await pauseBot(config[_0x4dc79e(0xd5)]+_0x4dc79e(0x165));else{if(_0x4cb099[_0x4dc79e(0x178)]()[_0x4dc79e(0x124)](_0x4dc79e(0xdc)))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0x4cb099['toString']()[_0x4dc79e(0x124)](_0x4dc79e(0x1c4)))await pauseBot(config[_0x4dc79e(0xd5)]+_0x4dc79e(0x1b6));else{if(_0x4cb099[_0x4dc79e(0x178)]()[_0x4dc79e(0x124)](_0x4dc79e(0x190)))logHistory(_0x4dc79e(0x1b5),_0x1ac00d+_0x4dc79e(0x1ac)),logHistory(_0x4dc79e(0x1b5),_0x4dc79e(0x1bf)),await killBot();else{if(_0x4cb099[_0x4dc79e(0x178)]()[_0x4dc79e(0x124)](_0x4dc79e(0x1b0)))logHistory(_0x4dc79e(0x1b5),_0x1ac00d+_0x4dc79e(0x23d)),logHistory(_0x4dc79e(0x1b5),_0x4dc79e(0x1bf)),await killBot();else{if(_0x4cb099[_0x4dc79e(0x178)]()[_0x4dc79e(0x124)]('API-key\x20format\x20invalid'))logHistory(_0x4dc79e(0x1b5),_0x1ac00d+_0x4dc79e(0xd9)+config['exchange']+_0x4dc79e(0xe2)),logHistory(_0x4dc79e(0x1b5),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4cb099[_0x4dc79e(0x178)]()['includes'](_0x4dc79e(0x18f)))logHistory('error',_0x1ac00d+_0x4dc79e(0xd9)+config[_0x4dc79e(0xd5)]+_0x4dc79e(0x1f6)),logHistory(_0x4dc79e(0x1b5),_0x4dc79e(0x1bf)),await killBot();else{if(_0x4cb099[_0x4dc79e(0x178)]()[_0x4dc79e(0x124)](_0x4dc79e(0xc7)))logHistory(_0x4dc79e(0x1b5),_0x1ac00d+_0x4dc79e(0xd9)+config[_0x4dc79e(0xd5)]+_0x4dc79e(0x10c)),logHistory(_0x4dc79e(0x1b5),_0x4dc79e(0x1bf)),await killBot();else _0x4cb099[_0x4dc79e(0x178)]()[_0x4dc79e(0x124)](_0x4dc79e(0x204))?logHistory(_0x4dc79e(0x1b5),_0x1ac00d+_0x4dc79e(0x1d5)+_0x1b3be3):(logger['full'](_0x1ac00d+_0x4dc79e(0x1b3),_0x4cb099),await pauseBot(_0x4dc79e(0x142)));}}}}}}}}}function formatResult(_0x39a9bb,_0x17f885){return parseFloat(_0x39a9bb['toFixed'](_0x17f885));}function formatResultTruncate(_0x33f436,_0x3dd732){const _0x4224dd=_0x1d3102;let _0x4f8774=formatResultString(_0x33f436,0xa),_0x20e1fc=_0x4f8774[_0x4224dd(0x210)]('.');return _0x20e1fc!=-0x1&&(_0x4f8774=_0x4f8774[_0x4224dd(0x133)](0x0,_0x20e1fc+_0x3dd732+0x1)),Number(_0x4f8774);}function formatResultString(_0x37404d,_0x1ce5ca){const _0x247d57=_0x1d3102;let _0x30d63a;if(!(''+_0x37404d)[_0x247d57(0x124)]('e'))_0x30d63a=+(Math[_0x247d57(0xd3)](_0x37404d+'e+'+_0x1ce5ca)+'e-'+_0x1ce5ca);else{let _0x411765=(''+_0x37404d)[_0x247d57(0x13b)]('e'),_0x492c45='';+_0x411765[0x1]+_0x1ce5ca>0x0&&(_0x492c45='+'),_0x30d63a=+(Math[_0x247d57(0xd3)](+_0x411765[0x0]+'e'+_0x492c45+(+_0x411765[0x1]+_0x1ce5ca))+'e-'+_0x1ce5ca);}return Number(_0x30d63a)[_0x247d57(0x239)](_0x1ce5ca);}function getServerTime(){const _0x3c5b04=_0x1d3102,_0x1acd01=new Date();return _0x1acd01[_0x3c5b04(0x212)]()+'/'+(_0x1acd01[_0x3c5b04(0x153)]()+0x1)[_0x3c5b04(0x178)]()[_0x3c5b04(0x125)](0x2,'0')+'/'+_0x1acd01[_0x3c5b04(0xe7)]()[_0x3c5b04(0x178)]()[_0x3c5b04(0x125)](0x2,'0')+'\x20'+_0x1acd01[_0x3c5b04(0x181)]()[_0x3c5b04(0x178)]()[_0x3c5b04(0x125)](0x2,'0')+':'+_0x1acd01[_0x3c5b04(0x233)]()[_0x3c5b04(0x178)]()[_0x3c5b04(0x125)](0x2,'0')+':'+_0x1acd01[_0x3c5b04(0x226)]()['toString']()[_0x3c5b04(0x125)](0x2,'0');}function getTimeStamp(){const _0x5f3f36=_0x1d3102,_0x36b78c=shiftedTime();return _0x36b78c[_0x5f3f36(0x212)]()+'/'+(_0x36b78c[_0x5f3f36(0x153)]()+0x1)[_0x5f3f36(0x178)]()['padStart'](0x2,'0')+'/'+_0x36b78c[_0x5f3f36(0xe7)]()[_0x5f3f36(0x178)]()['padStart'](0x2,'0')+'\x20'+_0x36b78c[_0x5f3f36(0x181)]()[_0x5f3f36(0x178)]()['padStart'](0x2,'0')+':'+_0x36b78c['getMinutes']()[_0x5f3f36(0x178)]()[_0x5f3f36(0x125)](0x2,'0')+':'+_0x36b78c[_0x5f3f36(0x226)]()[_0x5f3f36(0x178)]()['padStart'](0x2,'0');}function getDate(){const _0x24a599=_0x1d3102,_0xfa3ee1=shiftedTime();return _0xfa3ee1[_0x24a599(0x212)]()+'/'+(_0xfa3ee1[_0x24a599(0x153)]()+0x1)[_0x24a599(0x178)]()[_0x24a599(0x125)](0x2,'0')+'/'+_0xfa3ee1['getDate']()['toString']()[_0x24a599(0x125)](0x2,'0');}function getHour(){const _0x3fa442=_0x1d3102,_0x5319af=shiftedTime();return _0x5319af[_0x3fa442(0x181)]()[_0x3fa442(0x178)]()['padStart'](0x2,'0');}function sleep(_0x2d20a6){return new Promise(_0x372c67=>setTimeout(_0x372c67,_0x2d20a6));}function shiftedTime(){const _0x328b3d=_0x1d3102,_0x44e067=new Date();let _0x276f3c=_0x44e067;if(config&&config[_0x328b3d(0x19d)]!==0x0)_0x276f3c=fns[_0x328b3d(0x112)](_0x44e067,{'hours':config[_0x328b3d(0x19d)]});return _0x276f3c;}function timer(_0x492fd1){const _0x5a184b=_0x1d3102,_0x2f5a6a=new Date();!lasttime?console[_0x5a184b(0x1e5)](_0x5a184b(0x155),_0x492fd1,_0x2f5a6a):console[_0x5a184b(0x1e5)](_0x5a184b(0x155),_0x492fd1,(_0x2f5a6a-lasttime)/0x3e8),lasttime=_0x2f5a6a;}