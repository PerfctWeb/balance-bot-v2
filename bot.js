const _0xac8990=_0x4ea4;(function(_0x30b3f5,_0x7de307){const _0x302574=_0x4ea4,_0x29bc45=_0x30b3f5();while(!![]){try{const _0x21595d=-parseInt(_0x302574(0x26d))/0x1+-parseInt(_0x302574(0x2b8))/0x2*(parseInt(_0x302574(0x28f))/0x3)+-parseInt(_0x302574(0x28d))/0x4+parseInt(_0x302574(0x2db))/0x5*(parseInt(_0x302574(0x2c1))/0x6)+-parseInt(_0x302574(0x1e1))/0x7*(parseInt(_0x302574(0x1fd))/0x8)+-parseInt(_0x302574(0x1e7))/0x9+-parseInt(_0x302574(0x274))/0xa*(-parseInt(_0x302574(0x22e))/0xb);if(_0x21595d===_0x7de307)break;else _0x29bc45['push'](_0x29bc45['shift']());}catch(_0x1004ee){_0x29bc45['push'](_0x29bc45['shift']());}}}(_0xd438,0xde14b));const _0x512863=function(){let _0x53a82e=!![];return function(_0x5de7dc,_0xd10bef){const _0x15cc1b=_0x53a82e?function(){const _0x345c52=_0x4ea4;if(_0xd10bef){const _0x21192a=_0xd10bef[_0x345c52(0x2fe)](_0x5de7dc,arguments);return _0xd10bef=null,_0x21192a;}}:function(){};return _0x53a82e=![],_0x15cc1b;};}(),_0x227b3c=_0x512863(this,function(){const _0x245684=_0x4ea4;return _0x227b3c['toString']()[_0x245684(0x1fe)](_0x245684(0x2ce))[_0x245684(0x2e2)]()[_0x245684(0x1d7)](_0x227b3c)[_0x245684(0x1fe)](_0x245684(0x2ce));});_0x227b3c();'use strict';const ccxt=require(_0xac8990(0x29e)),low=require(_0xac8990(0x20f)),FileSync=require(_0xac8990(0x2a0)),fs=require('fs'),fns=require(_0xac8990(0x260)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require(_0xac8990(0x2fd))[_0xac8990(0x1f8)];let exchange,wsClient;global[_0xac8990(0x273)]={},global[_0xac8990(0x298)]={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/',_0xac8990(0x2a1),_0xac8990(0x2e9),_0xac8990(0x2bd),_0xac8990(0x2b6),'YOYOW/'];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,allOpenOrders,lastOrders=[],cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,recreationNeeded=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0xac8990(0x270))['version'],botID=process[_0xac8990(0x2b5)][0x2]||_0xac8990(0x259),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0xac8990(0x1e9)](_0xac8990(0x1f7)+botID+_0xac8990(0x253)),process[_0xac8990(0x286)](0x1));const userID=process[_0xac8990(0x2b5)][0x3]||'',configpath=userID?_0xac8990(0x1d6)+userID+'/':_0xac8990(0x1d6);!fs['existsSync'](configpath)&&fs[_0xac8990(0x1c6)](configpath);const configfile=configpath+'bot-'+botID+_0xac8990(0x2f0),logfile=configpath+_0xac8990(0x301)+botID+_0xac8990(0x225),performancefile=configpath+_0xac8990(0x301)+botID+_0xac8990(0x1ca),coinresultsfile=configpath+_0xac8990(0x301)+botID+_0xac8990(0x2e4),settingsfile=configpath+_0xac8990(0x2d0),securefile=configpath+_0xac8990(0x216),configbackuppath=configpath+_0xac8990(0x1ec),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xac8990(0x24b)]({'logs':[]})[_0xac8990(0x21b)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xac8990(0x24b)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xac8990(0x24b)]({'coins':[]})[_0xac8990(0x21b)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x2d8554)=>{},'debug':(..._0x372786)=>{},'notice':(..._0x40883f)=>{},'info':(..._0x13d5ef)=>{},'warning':(..._0x964518)=>{},'error':async function(..._0xdc21dd){const _0x2dbc14=_0xac8990,_0x49614d=new Date()[_0x2dbc14(0x227)]();if(!lastErrorShown||_0x49614d-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x597006='';if(_0xdc21dd[0x0])_0x597006+=_0xdc21dd[0x0];if(_0xdc21dd[0x1]&&_0xdc21dd[0x1][_0x2dbc14(0x2ad)]&&_0xdc21dd[0x1][_0x2dbc14(0x2ad)]['message'])_0x597006+=_0x2dbc14(0x1ee)+_0xdc21dd[0x1][_0x2dbc14(0x2ad)]['message'];logging(_0x2dbc14(0x2d2)+consecutivePauses+_0x2dbc14(0x278),''+_0x597006),await pauseBot('Binance\x20not\x20available\x20(1)');}}},crypt=new Crypt({'md':_0xac8990(0x292),'rsaStandard':_0xac8990(0x20d)});function _0x4ea4(_0x1acde0,_0xfd158){const _0x3db473=_0xd438();return _0x4ea4=function(_0x227b3c,_0x512863){_0x227b3c=_0x227b3c-0x1c3;let _0xd438da=_0x3db473[_0x227b3c];return _0xd438da;},_0x4ea4(_0x1acde0,_0xfd158);}let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);function _0xd438(){const _0x11d9ae=['progress','basecoin','min','cancelLoading','fetchTickers','No\x20more\x20open\x20orders\x20-\x20','coin','Limit\x20(low-margin)','filter','order','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','subscribeSymbol24hrTicker','yyyy-MM-dd\x27T\x27HH:mm:ss','sortBy','startdate','padEnd','<pre>','eventTime','Binance\x20not\x20available\x20(2)','\x20orders\x20in\x20less\x20than\x20','defaults','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20order:\x20','Binance\x20not\x20responding','forEach','changes','filled','wsKey',',\x20must\x20be\x20a\x203\x20digit\x20number','enabled','event','wss://stream.binance.com:9443','\x20|\x20Binance\x20API\x20secret\x20invalid','buy','001','botname','remove','portfolio','accumulatedQuantity','version','timeout','date-fns','symbols','Binance\x20API\x20key\x20is\x20invalid','binance','Executed\x20','no\x20open\x20orders','timeshift','sendPortfolioTelegram','fee','close','toggleBotMode','eventType','fromCodePoint','1412381GrXmlt','balances','/USDT','./version.json','reconnected','milliseconds','ticker','8860XSncri','yyyy/MM/dd','includes','apiSecret',')\x20|\x20Error\x20details:\x20','Manual\x20balancing\x20required:\x20','\x20-\x20bot\x20not\x20started','timestamp','userData','Binance\x20API\x20blocked','wsMarket','API\x20or\x20clock\x20sync\x20issue','exec','running','string','\x20portfolio:\x20\x0a\x0a','distribution','buys','exit','threshold','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','writeFile','Unknown\x20error\x20occured','EUR','fees','6864920BkqDqT','isArray','51NLthun','delta','getDate','sha256','limit','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','outboundAccountPosition','push','trade','change','Binance\x20API\x20secret\x20is\x20invalid','cloneDeep','Invalid\x20quantity','type','getCoins()','ccxt','formattedMessage','lowdb/adapters/FileSync','HOT/BTC','limits','getSeconds','bot','get','join','API-key\x20format\x20invalid','change24h','showname','datetime','ExchangeNotAvailable','excluded','error','target','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','success','getPortfolio()','stringify','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','Market','argv','NANO/','BNB','4766sWTCJr','fetchClosedOrders','deleteHistoryAlerts','\x20|\x20Error\x20details:\x20','2.5.0','XEM/BUSD','getHours','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','sort','443862ecqDwi','orderStatus','remainingSymbols','emitHistory','abs','AuthenticationError','Cooldown\x20ended\x20-\x20balancing\x20resumed','emojibuy','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','initial','\x20minutes','USDT','Order\x20amount\x20is\x20invalid:\x20','(((.+)+)+)+$','breakeven','bb-settings.json','sell','WebSockets(','map','value','getFullYear','entries','binanceus','side','market','last','85yFxEuN','function','recreate','storeConfiguration','cancelOrder','.json','ETH','toString','keys','-results.json','limit-high','recreateCoinResults()','event-history','Bot\x20','HOT/EUR','sells','find','BUSD','configuration','coins','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','-config.json','createOrder','commissionAsset','currency','bid','assign','fetchOpenOrders','reverse','\x20minutes\x20-\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','headless','slice','startprice','hybrid-crypto-js','apply','realized','indexOf','bot-','Order(s)\x20filled\x20-\x20','concat','restart','mkdirSync','\x20|\x20','liquidity','************','-performance.json','initws()','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','RequestTimeout','loadMarkets','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','time','\x20hour','coin-loading-progress','kill','replace','cooldown','./config/','constructor','number','decrypt','exchange','\x20>\x20','max','settings','symbol','toFixed','length','8000167gPrbhx','toLowerCase','add',':\x20Bot\x20','secure','startnumber','8675055dqFJcW','commission','log','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','send','/backup/','balancing\x20resumed','\x20-\x20','getMinutes','cost','data','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','findIndex','getMonth','date','eur','Error:\x20Invalid\x20argument\x20','Crypt','parse','splice','message','logs','8MsTmNi','search','MIN_NOTIONAL','subscribeSpotKline','set','isEqual','privateKey','page','kline','BNB/','BTC','Unfilled\x20order(s)\x20canceled\x20after\x20','starting-balance-','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','args','wss://stream.binance.us:9443','RSA-OAEP','InvalidNonce','lowdb','round','botID','ask','amount','performance','offset','bb-secure.json','FILLED','configuration-stored','has','cumulativeQuoteAssetTransactedQty','write','precision','\x20has\x20a\x2024h\x20drop\x20of\x20','2.3.5','Pausing\x20for\x20','total','orderId','Limit\x20(high-margin)','differenceInSeconds','apiKey','-events.json','Order\x20filled:\x20','getTime','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','closeWs','padStart','shift','final','OrderNotFound','61182blvOHr','InsufficientFunds','ordertype','price','emojisell','spot','usd','getFiat()','valid'];_0xd438=function(){return _0x11d9ae;};return _0xd438();}settings[_0xac8990(0x266)]!=config[_0xac8990(0x266)]&&updateTimeshift(settings[_0xac8990(0x266)]);process[_0xac8990(0x1eb)]({'started':_0xac8990(0x281)},_0xb7e537=>{}),initializeProcessListeners();function proxyEmit(_0xaf7a01,_0x1ca062=null){process['send']({'function':_0xaf7a01,'args':_0x1ca062},_0x3119d7=>{});}function initializeProcessListeners(){const _0xf03151=_0xac8990;process['on'](_0xf03151(0x1fb),_0x5e0c3d=>{const _0x312018=_0xf03151;switch(Object[_0x312018(0x2e3)](_0x5e0c3d)[0x0]){case _0x312018(0x266):_0x5e0c3d['timeshift']!=undefined&&(settings[_0x312018(0x266)]=_0x5e0c3d[_0x312018(0x266)],updateTimeshift(settings[_0x312018(0x266)]));break;case _0x312018(0x2dc):switch(_0x5e0c3d[_0x312018(0x2dc)]){case'initclient':initclient();break;case _0x312018(0x26a):toggleBotMode();break;case _0x312018(0x2c4):emitHistory(_0x5e0c3d[_0x312018(0x20b)]);break;case _0x312018(0x2ba):deleteHistoryAlerts(_0x5e0c3d[_0x312018(0x20b)]);break;case'getPortfolio':getPortfolio(_0x5e0c3d[_0x312018(0x20b)]);break;case _0x312018(0x2de):storeConfiguration(_0x5e0c3d[_0x312018(0x20b)]);break;case'storeHeadless':storeHeadless(_0x5e0c3d['args']);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x5e0c3d['args']);break;case _0x312018(0x23a):cancelLoading();break;case _0x312018(0x267):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x3946a8=_0xac8990;if(pidBalances)clearTimeout(pidBalances);if(config[_0x3946a8(0x224)]!=''){await initExchange(config['apiKey'],config[_0x3946a8(0x277)]);let _0x3699b7=await loadSymbols();if(_0x3699b7){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x3946a8(0x1e0)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x4476ba,_0x18c62d){const _0x27800c=_0xac8990,_0x5bb4e1=ccxt[config['exchange']];let _0x297009;switch(config[_0x27800c(0x1da)]){case _0x27800c(0x263):_0x297009=_0x27800c(0x256);break;case'binanceus':_0x297009=_0x27800c(0x20c);break;default:_0x297009=_0x27800c(0x256);}exchange=new _0x5bb4e1({'apiKey':_0x4476ba,'secret':_0x18c62d,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x4476ba,'api_secret':_0x18c62d,'beautify':!![],'wsUrl':_0x297009},logger);let _0x3409d8=config[_0x27800c(0x1da)]==_0x27800c(0x2d7)?_0x27800c(0x2cc):_0x27800c(0x28b),_0x306659=config[_0x27800c(0x238)]==_0x27800c(0x2e1)?'ETH':_0x27800c(0x207);stablecoins={'eur':{'coin':''+_0x306659+_0x3409d8,'symbol':_0x306659+'/'+_0x3409d8},'usd':{'coin':_0x306659+_0x27800c(0x2cc),'symbol':_0x306659+_0x27800c(0x26f)}};}async function loadSymbols(){const _0x31af44=_0xac8990;let _0x21ac6a;try{markets=await exchange[_0x31af44(0x1ce)](),allSymbols=exchange[_0x31af44(0x261)][_0x31af44(0x23f)](_0x4c458e=>{const _0x17da07=_0x31af44;let _0x4c35ab=![];return exceptions[_0x17da07(0x24f)](_0x4f9b90=>{const _0x1a3bad=_0x17da07;if(_0x4c458e[_0x1a3bad(0x276)](_0x4f9b90))_0x4c35ab=!![];}),!_0x4c35ab;}),_0x21ac6a=!![];}catch(_0x5d2c71){await handleError(_0x5d2c71,'loadSymbols()'),_0x21ac6a=![];}return _0x21ac6a;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x43cfef=_0xac8990;proxyEmit(_0x43cfef(0x2ed),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x43cfef(0x26e),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x44ed51=getNormalizedPerformance();emitPerformance(_0x44ed51),await getStartingBalances(_0x44ed51);}async function toggleBotMode(){const _0x1b69f4=_0xac8990;let _0xab63f6=dbConfig[_0x1b69f4(0x2a5)]('bot')['find']({'botID':botID})[_0x1b69f4(0x2d4)]();if(_0xab63f6){const _0x4e2886=!_0xab63f6[_0x1b69f4(0x2fa)];dbConfig[_0x1b69f4(0x2a5)]('bot')['find']({'botID':botID})['assign']({'headless':_0x4e2886})[_0x1b69f4(0x21b)](),config[_0x1b69f4(0x2fa)]=_0x4e2886,proxyEmit(_0x1b69f4(0x2ed),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x458438=>{});}function cleanws(){const _0x2b1413=_0xac8990;wsinitialized=![];ws1&&(ws1[_0x2b1413(0x24f)](_0x3daf25=>{const _0x2e42d3=_0x2b1413;try{wsClient[_0x2e42d3(0x229)](_0x3daf25);}catch(_0x443403){}}),ws1=[]);if(ws2){try{wsClient[_0x2b1413(0x229)](ws2);}catch(_0x4f9790){}ws2=null;}ws3&&(ws3[_0x2b1413(0x24f)](_0x3e3a70=>{const _0x2b13ed=_0x2b1413;try{wsClient[_0x2b13ed(0x229)](_0x3e3a70);}catch(_0x3605f0){}}),ws3=[]);}async function initws(){const _0x3e6f2d=_0xac8990;cleanws();let _0x391736=[];currentCoins['forEach'](_0x42015e=>{const _0x5d7a0f=_0x4ea4;if(_0x42015e[_0x5d7a0f(0x23d)]!=config[_0x5d7a0f(0x238)])_0x391736[_0x5d7a0f(0x296)](_0x42015e[_0x5d7a0f(0x1de)]);});if(!_0x391736[_0x3e6f2d(0x276)](stablecoins[_0x3e6f2d(0x1f6)][_0x3e6f2d(0x1de)]))_0x391736[_0x3e6f2d(0x296)](stablecoins[_0x3e6f2d(0x1f6)][_0x3e6f2d(0x1de)]);if(!_0x391736[_0x3e6f2d(0x276)](stablecoins[_0x3e6f2d(0x234)][_0x3e6f2d(0x1de)]))_0x391736['push'](stablecoins[_0x3e6f2d(0x234)][_0x3e6f2d(0x1de)]);if(!_0x391736[_0x3e6f2d(0x276)](_0x3e6f2d(0x206)+config[_0x3e6f2d(0x238)]))_0x391736[_0x3e6f2d(0x296)](_0x3e6f2d(0x206)+config['basecoin']);try{_0x391736[_0x3e6f2d(0x24f)]((_0x57e190,_0x30bef7)=>{const _0xb59572=_0x3e6f2d;ws1[_0x30bef7]=wsClient[_0xb59572(0x200)](noslash(_0x57e190),'1m'),ws3[_0x30bef7]=wsClient[_0xb59572(0x242)](noslash(_0x57e190),_0xb59572(0x233));}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x3e6f2d(0x29f),_0x29a586=>{const _0x5414b5=_0x3e6f2d;if(isWsFormattedKline(_0x29a586)){global['ticker'][_0x29a586[_0x5414b5(0x205)]['symbol']]=_0x29a586[_0x5414b5(0x205)][_0x5414b5(0x269)];return;}else{if(isWsFormatted24hrTicker(_0x29a586)){global['change'][_0x29a586[_0x5414b5(0x1de)]]=_0x29a586['priceChangePercent'];return;}else{if(!Array[_0x5414b5(0x28e)](_0x29a586)&&_0x29a586[_0x5414b5(0x252)][_0x5414b5(0x276)](_0x5414b5(0x27c))){if(_0x29a586[_0x5414b5(0x27e)][_0x5414b5(0x276)]('spot')){updateNumberCoins(_0x29a586);return;}}}}}),wsClient['on'](_0x3e6f2d(0x271),async _0x40fdc9=>{if(!botPaused)currentCoins=await getCoins(!![]);});}catch(_0x14cd8d){await handleError(_0x14cd8d,_0x3e6f2d(0x1cb));}let _0x9a4898,_0x5d1e19=0x0;loading[_0x3e6f2d(0x2c3)]=[];let _0x576ecc=0x0;_0x391736[_0x3e6f2d(0x24f)](_0x5c3a01=>{const _0x1958a3=_0x3e6f2d;loading['remainingSymbols'][_0x1958a3(0x296)](_0x5c3a01);}),loadingCanceled=![];let _0x4b8178=![];while(_0x9a4898!=_0x391736['length']){_0x9a4898=0x0,_0x391736['forEach'](_0x1f99cf=>{const _0x37b34c=_0x3e6f2d;global[_0x37b34c(0x273)][noslash(_0x1f99cf)]&&(loading[_0x37b34c(0x2c3)]=loading[_0x37b34c(0x2c3)]['filter'](_0x4f1ceb=>_0x4f1ceb!=_0x1f99cf),_0x9a4898++);}),loading['progress']=Math[_0x3e6f2d(0x210)](_0x9a4898/_0x391736[_0x3e6f2d(0x1e0)]*0x64);loading[_0x3e6f2d(0x237)]!=0x64&&(_0x576ecc>0x1e*0x5&&(loading[_0x3e6f2d(0x25f)]=!![],emitLoadingProgress()),_0x576ecc>0x3c*0x5&&!_0x4b8178&&(_0x4b8178=!![],logHistory(_0x3e6f2d(0x2ad),_0x3e6f2d(0x24c)+loading['remainingSymbols']+_0x3e6f2d(0x27a))));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x9a4898!=_0x5d1e19&&(_0x5d1e19=_0x9a4898,emitLoadingProgress()),_0x576ecc++,await sleep(0xc8);}_0x4b8178&&logHistory(_0x3e6f2d(0x2b0),_0x3e6f2d(0x1cc));if(_0x9a4898==_0x391736[_0x3e6f2d(0x1e0)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x29a4be=_0xac8990;proxyEmit(_0x29a4be(0x1d2),loading);}async function getFiat(){const _0x5c9968=_0xac8990;let _0x4fd6d7=0x0,_0x6ea00=0x0;try{_0x4fd6d7=global['ticker'][stablecoins[_0x5c9968(0x1f6)]['coin']],_0x6ea00=global[_0x5c9968(0x273)][stablecoins[_0x5c9968(0x234)][_0x5c9968(0x23d)]];}catch(_0x4072df){await handleError(_0x4072df,_0x5c9968(0x235));}return{'eur':Number(_0x4fd6d7),'usd':Number(_0x6ea00)};}function setStartDatePerformance(){const _0x349cc7=_0xac8990;if(config&&config['liquidity'][0x0]['changes'][_0x349cc7(0x1e0)]!=0x0){const _0x5714d5=config[_0x349cc7(0x1c8)][0x0]['changes'];dbPerformance['get']('data')['find']({'date':config['startdate']})[_0x349cc7(0x2f5)]({'coins':_0x5714d5})['write']();}}async function recreateCoinResults(){const _0x27662e=_0xac8990;let _0x43a45f,_0x1196c7=[];try{const _0x5be2f3=fns['format'](fns['parseISO'](config['startdate'][_0x27662e(0x1d4)](/\//g,'-')),_0x27662e(0x243));for(const _0x8167a8 of currentCoins){if(_0x8167a8['coin']!=config[_0x27662e(0x238)]){let _0x328c98=0x0,_0x12163d,_0x4437d0;_0x43a45f=await getAllEventOrders(_0x8167a8[_0x27662e(0x1de)]);if(_0x43a45f[_0x27662e(0x1e0)]>0x0)_0x43a45f['forEach'](_0x52a93c=>{const _0x121184=_0x27662e,_0x45ed99=_0x8167a8[_0x121184(0x1de)][_0x121184(0x276)](config[_0x121184(0x238)]+'/');_0x1196c7[_0x121184(0x296)]({'datetime':_0x52a93c[_0x121184(0x2aa)],'coin':_0x8167a8['coin'],'symbol':_0x8167a8[_0x121184(0x1de)],'side':_0x52a93c[_0x121184(0x2d8)],'reverse':_0x45ed99,'amount':formatResult(_0x52a93c[_0x121184(0x251)],0x8),'filled':formatResult(_0x52a93c[_0x121184(0x251)],0x8),'price':formatResult(_0x52a93c['price'],0x8)}),_0x328c98=_0x52a93c[_0x121184(0x2d8)]==_0x121184(0x258)?_0x328c98+_0x52a93c[_0x121184(0x251)]:_0x328c98-_0x52a93c[_0x121184(0x251)];if(!_0x4437d0)_0x4437d0=_0x52a93c[_0x121184(0x231)];});_0x12163d=_0x8167a8['number']-_0x328c98;let _0x12dfbe;config[_0x27662e(0x1c8)]['forEach'](_0x1b9af1=>{const _0x52e5db=_0x27662e;!_0x12dfbe&&(_0x12dfbe=_0x1b9af1[_0x52e5db(0x250)][_0x52e5db(0x2eb)](_0x4ef86f=>_0x4ef86f[_0x52e5db(0x23d)]==_0x8167a8[_0x52e5db(0x23d)]),_0x12dfbe&&(_0x12163d=_0x12dfbe[_0x52e5db(0x1d8)],_0x4437d0=_0x12dfbe['price']));});let _0x1b7790=dbCoinResults['get'](_0x27662e(0x2ee))[_0x27662e(0x2eb)]({'coin':_0x8167a8[_0x27662e(0x23d)]})['value']();_0x1b7790={'coin':_0x8167a8[_0x27662e(0x23d)],'number':_0x12163d,'breakeven':_0x4437d0,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x27662e(0x2a5)]('coins')[_0x27662e(0x2eb)]({'coin':_0x8167a8[_0x27662e(0x23d)]})[_0x27662e(0x2f5)](_0x1b7790)[_0x27662e(0x21b)]();}}_0x1196c7[_0x27662e(0x2c0)]((_0x153635,_0x1d3b10)=>_0x153635[_0x27662e(0x2aa)]>_0x1d3b10[_0x27662e(0x2aa)]?0x1:_0x1d3b10[_0x27662e(0x2aa)]>_0x153635['datetime']?-0x1:0x0);let _0x3a3b49=0x0;for(let _0x5971d1 of _0x1196c7){await updateCoinResults(_0x5971d1,!![]);}}catch(_0x571f6f){await handleError(_0x571f6f,_0x27662e(0x2e6));}}async function getAllEventOrders(_0xd777da){const _0x4d7f58=_0xac8990;let _0x34a567=[],_0x130661=dbLogs[_0x4d7f58(0x2a5)]('logs')[_0x4d7f58(0x23f)](_0x24b4af=>{const _0x16cafa=_0x4d7f58,_0x2e6a3b=_0x24b4af[_0x16cafa(0x255)][_0x16cafa(0x1e2)]();return _0x2e6a3b[_0x16cafa(0x276)](_0xd777da['toLowerCase']())&&(_0x2e6a3b[_0x16cafa(0x276)](_0x16cafa(0x2d9))&&_0x2e6a3b['includes']('order')||_0x2e6a3b['includes'](_0x16cafa(0x251))&&_0x2e6a3b[_0x16cafa(0x276)](_0x16cafa(0x240)));})['sortBy'](_0x4d7f58(0x1d0))[_0x4d7f58(0x2d4)]();return _0x130661[_0x4d7f58(0x24f)](_0x313699=>{const _0x5a20d8=_0x4d7f58,_0x54f37a=_0x313699['event'][_0x5a20d8(0x276)](_0x5a20d8(0x2d1))?_0x5a20d8(0x2d1):'buy',_0x68774c=/#([0-9]|\.)+\s/i,_0x2e5211=Number(_0x68774c['exec'](_0x313699[_0x5a20d8(0x255)])[0x0][_0x5a20d8(0x2fb)](0x1)),_0x565c14=/@([0-9]|\.)+$/i,_0x2dda0a=Number(_0x565c14[_0x5a20d8(0x280)](_0x313699[_0x5a20d8(0x255)])[0x0][_0x5a20d8(0x2fb)](0x1));_0x34a567[_0x5a20d8(0x296)]({'datetime':_0x313699['time'],'coin':symbolToCoin(_0xd777da),'symbol':_0xd777da,'side':_0x54f37a,'amount':_0x2e5211,'filled':_0x2e5211,'price':_0x2dda0a});}),_0x34a567;}async function getAllOrders(_0x33f119,_0x575d07){const _0x2e8945=_0xac8990;let _0x5ccd2b=[];while(_0x575d07<exchange[_0x2e8945(0x272)]()){const _0x2f90f8=0x1f4,_0x45e7ab=await exchange[_0x2e8945(0x2b9)](_0x33f119,_0x575d07,_0x2f90f8);if(_0x45e7ab['length'])_0x575d07=_0x45e7ab[_0x45e7ab[_0x2e8945(0x1e0)]-0x1][_0x2e8945(0x27b)]+0x1,_0x5ccd2b=_0x5ccd2b[_0x2e8945(0x1c4)](_0x45e7ab);else break;}return _0x5ccd2b;}async function validate24hChanges(){const _0x2dcf26=_0xac8990;let _0x3e809d;for(const _0x3b0faf of currentCoins){if(_0x3b0faf[_0x2dcf26(0x23d)]!=config[_0x2dcf26(0x238)]){let _0x5f20ef;_0x3b0faf[_0x2dcf26(0x2f7)]?_0x5f20ef=formatResult((0x1/(global[_0x2dcf26(0x298)][noslash(_0x3b0faf['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x5f20ef=global[_0x2dcf26(0x298)][noslash(_0x3b0faf[_0x2dcf26(0x1de)])],_0x5f20ef<config[_0x2dcf26(0x2a8)]&&(logHistory(_0x2dcf26(0x2ad),_0x3b0faf['coin']+_0x2dcf26(0x21d)+_0x5f20ef+'%'),logHistory(_0x2dcf26(0x2ad),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x2dcf26(0x2ad),_0x2dcf26(0x2ef)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x2fce27=_0xac8990;let _0x596e8c=dbLogs[_0x2fce27(0x2a5)](_0x2fce27(0x25e))[_0x2fce27(0x2d4)]();if(_0x596e8c!='2.3.5'){dbLogs[_0x2fce27(0x201)]('version',_0x2fce27(0x21e))[_0x2fce27(0x21b)]();let _0x3732c7=[];const _0x2e15a1=dbLogs['get'](_0x2fce27(0x1fc))[_0x2fce27(0x2d4)]();_0x2e15a1['forEach'](_0x298467=>{const _0x1ed2dc=_0x2fce27;_0x3732c7[_0x1ed2dc(0x296)]({'time':_0x298467[_0x1ed2dc(0x1d0)],'type':_0x298467[_0x1ed2dc(0x29c)],'event':_0x298467['event']});}),dbLogs[_0x2fce27(0x2a5)](_0x2fce27(0x1fc))[_0x2fce27(0x2f5)](_0x3732c7)[_0x2fce27(0x21b)]();}let _0x2edaf1=dbConfig[_0x2fce27(0x2a5)]('version')[_0x2fce27(0x2d4)]();if(_0x2edaf1!=_0x2fce27(0x21e)){dbConfig[_0x2fce27(0x201)](_0x2fce27(0x25e),_0x2fce27(0x21e))[_0x2fce27(0x21b)]();let _0x32544d=dbConfig[_0x2fce27(0x2a5)](_0x2fce27(0x2a4))[_0x2fce27(0x2eb)]({'botID':botID})[_0x2fce27(0x2d4)]();if(_0x32544d){let _0x2c0fd7=[];_0x32544d[_0x2fce27(0x25c)][_0x2fce27(0x24f)](_0x50dd79=>{const _0x45118f=_0x2fce27;_0x2c0fd7[_0x45118f(0x296)]({'coin':_0x50dd79[_0x45118f(0x23d)],'number':_0x50dd79[_0x45118f(0x1e6)],'price':_0x50dd79['startprice']}),delete _0x50dd79[_0x45118f(0x1e6)],delete _0x50dd79[_0x45118f(0x2fc)];});if(_0x2c0fd7[_0x2fce27(0x1e0)]!==0x0)fs[_0x2fce27(0x289)](configbackuppath+(_0x2fce27(0x209)+botID+_0x2fce27(0x2e0)),JSON[_0x2fce27(0x2b2)](_0x2c0fd7,null,0x4),function(_0x1bc6d4){if(_0x1bc6d4){}});const _0x4a9241=(_0x1c5f45,_0x2ab6b9)=>{const _0x4c03d6=_0x2fce27;let _0x2e0f41=[];_0x2ab6b9[_0x4c03d6(0x24f)](_0x347ab3=>{const _0x12f9c0=_0x4c03d6,_0x3e215a=_0x1c5f45['find'](_0x42f155=>_0x42f155[_0x12f9c0(0x23d)]==_0x347ab3[_0x12f9c0(0x23d)]);if(!_0x3e215a)_0x2e0f41[_0x12f9c0(0x296)](_0x347ab3);});let _0x408e51=[];return _0x1c5f45[_0x4c03d6(0x24f)](_0x2171ba=>{const _0x1600ee=_0x4c03d6,_0x417804=_0x2ab6b9[_0x1600ee(0x2eb)](_0x1c7875=>_0x1c7875[_0x1600ee(0x23d)]==_0x2171ba[_0x1600ee(0x23d)]);if(!_0x417804||_0x417804[_0x1600ee(0x1d8)]==0x0&&_0x2171ba[_0x1600ee(0x1d8)]!=0x0)_0x408e51['push'](_0x2171ba);}),{'missingDay1':_0x2e0f41,'notInDay2':_0x408e51};},_0x5c785b=dbPerformance[_0x2fce27(0x2a5)](_0x2fce27(0x1f1))[_0x2fce27(0x29a)]()['value']();if(_0x5c785b[_0x2fce27(0x1e0)]>0x1){const {missingDay1:_0x562eda,notInDay2:_0x49aab8}=_0x4a9241(_0x2c0fd7,_0x5c785b[0x1][_0x2fce27(0x2ee)]);_0x2c0fd7=[..._0x2c0fd7,..._0x562eda],_0x49aab8[_0x2fce27(0x24f)](_0x31df36=>{const _0xb7eb1d=_0x2fce27;let _0x420dd1=_0x2c0fd7[_0xb7eb1d(0x1f3)](_0x45a8d2=>_0x45a8d2[_0xb7eb1d(0x23d)]==_0x31df36[_0xb7eb1d(0x23d)]);_0x420dd1!=-0x1&&_0x2c0fd7[_0xb7eb1d(0x1fa)](_0x420dd1,0x1);});}_0x2c0fd7[_0x2fce27(0x2c0)]((_0x4f3f7d,_0x5f586f)=>_0x4f3f7d[_0x2fce27(0x23d)]>_0x5f586f['coin']?0x1:_0x5f586f[_0x2fce27(0x23d)]>_0x4f3f7d[_0x2fce27(0x23d)]?-0x1:0x0);let _0x5103ad=[{'date':_0x32544d[_0x2fce27(0x245)],'changes':_0x2c0fd7}];_0x5c785b[_0x2fce27(0x1e0)]>0x2&&_0x5c785b['forEach']((_0x3eb7ba,_0x34b578)=>{const _0x4f83fc=_0x2fce27;if(_0x34b578>0x0&&_0x34b578<_0x5c785b[_0x4f83fc(0x1e0)]-0x1){const {missingDay1:_0x2eb24b,notInDay2:_0x44ed83}=_0x4a9241(_0x5c785b[_0x34b578][_0x4f83fc(0x2ee)],_0x5c785b[_0x34b578+0x1]['coins']);_0x2c0fd7=[],(_0x2eb24b[_0x4f83fc(0x1e0)]!=0x0||_0x44ed83['length']!=0x0)&&(_0x2eb24b[_0x4f83fc(0x1e0)]!=0x0&&_0x2c0fd7[_0x4f83fc(0x296)](..._0x2eb24b),_0x44ed83[_0x4f83fc(0x1e0)]!=0x0&&(_0x44ed83['forEach'](_0x481e24=>{const _0x512dd5=_0x4f83fc;_0x481e24[_0x512dd5(0x1d8)]=-_0x481e24[_0x512dd5(0x1d8)];}),_0x2c0fd7[_0x4f83fc(0x296)](..._0x44ed83)),_0x2c0fd7['sort']((_0x1ea598,_0x2f46e7)=>_0x1ea598['coin']>_0x2f46e7[_0x4f83fc(0x23d)]?0x1:_0x2f46e7[_0x4f83fc(0x23d)]>_0x1ea598[_0x4f83fc(0x23d)]?-0x1:0x0),_0x5103ad[_0x4f83fc(0x296)]({'date':_0x5c785b[_0x34b578+0x1][_0x4f83fc(0x1f5)],'changes':_0x2c0fd7}));}}),dbConfig[_0x2fce27(0x2a5)](_0x2fce27(0x2a4))[_0x2fce27(0x2eb)]({'botID':botID})[_0x2fce27(0x2f5)]({..._0x32544d,'liquidity':_0x5103ad})[_0x2fce27(0x21b)]();}}config=getConfiguration(botID);let _0x80239f=dbPerformance[_0x2fce27(0x2a5)]('version')[_0x2fce27(0x2d4)]();_0x80239f!=_0x2fce27(0x21e)&&(dbPerformance[_0x2fce27(0x201)](_0x2fce27(0x25e),_0x2fce27(0x21e))[_0x2fce27(0x21b)](),setStartDatePerformance());let _0x2adca2=dbCoinResults[_0x2fce27(0x2a5)](_0x2fce27(0x25e))[_0x2fce27(0x2d4)]();if(_0x2adca2!=_0x2fce27(0x2bc)){dbCoinResults['set'](_0x2fce27(0x25e),_0x2fce27(0x2bc))['write']();let _0x497b42=dbCoinResults[_0x2fce27(0x2a5)](_0x2fce27(0x2ee))[_0x2fce27(0x2d4)]();if(_0x497b42[_0x2fce27(0x1e0)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x468bee){const _0x24d66c=_0xac8990;let _0x25b529=dbConfig['get']('bot')[_0x24d66c(0x2eb)]({'botID':_0x468bee})[_0x24d66c(0x2d4)]();if(_0x25b529){let _0x1efc67=![];typeof _0x25b529['threshold']==_0x24d66c(0x282)&&(_0x25b529={..._0x25b529,'threshold':Number(_0x25b529['threshold'])},_0x1efc67=!![]),_0x25b529['change24h']==null&&(_0x25b529={..._0x25b529,'change24h':-0x14},_0x1efc67=!![]),_0x1efc67&&(_0x25b529={'botID':_0x25b529[_0x24d66c(0x211)],'exchange':_0x25b529[_0x24d66c(0x1da)],'apiKey':_0x25b529[_0x24d66c(0x224)],'apiSecret':_0x25b529[_0x24d66c(0x277)],'basecoin':_0x25b529[_0x24d66c(0x238)],'botname':_0x25b529[_0x24d66c(0x25a)],'showname':_0x25b529[_0x24d66c(0x2a9)],'threshold':_0x25b529[_0x24d66c(0x287)],'ordertype':_0x25b529[_0x24d66c(0x230)],'timeout':_0x25b529['timeout'],'startdate':_0x25b529['startdate'],'recreate':_0x25b529[_0x24d66c(0x2dd)],'timeshift':_0x25b529[_0x24d66c(0x266)],'headless':_0x25b529[_0x24d66c(0x2fa)],'cooldown':_0x25b529[_0x24d66c(0x1d5)],'change24h':_0x25b529['change24h'],'emojibuy':_0x25b529['emojibuy'],'emojisell':_0x25b529[_0x24d66c(0x232)],'portfolio':_0x25b529[_0x24d66c(0x25c)],'liquidity':_0x25b529[_0x24d66c(0x1c8)]},dbConfig[_0x24d66c(0x2a5)](_0x24d66c(0x2a4))['remove']()[_0x24d66c(0x21b)](),dbConfig['get'](_0x24d66c(0x2a4))[_0x24d66c(0x296)](_0x25b529)[_0x24d66c(0x21b)]());}else _0x25b529={'botID':_0x468bee,'exchange':_0x24d66c(0x263),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x24d66c(0x2e8)+_0x468bee,'showname':![],'threshold':0x3,'ordertype':_0x24d66c(0x2d9),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x25b529;}function emittedConfiguration(){const _0x10c3ff=_0xac8990;let _0x249980;return config[_0x10c3ff(0x224)]==''?_0x249980=config:_0x249980={...config,'apiKey':'************','apiSecret':_0x10c3ff(0x1c9)},_0x249980;}function getSettings(){const _0x48a4bc=_0xac8990;return dbSettings[_0x48a4bc(0x2a5)](_0x48a4bc(0x1dd))[_0x48a4bc(0x2d4)]();}function getSecure(){const _0x3743ab=_0xac8990;return dbSecure['get'](_0x3743ab(0x1e5))[_0x3743ab(0x2d4)]()||{};}function updateTimeshift(_0x388e70){const _0x5b1198=_0xac8990;let _0x51b8ea=dbConfig[_0x5b1198(0x2a5)](_0x5b1198(0x2a4))[_0x5b1198(0x2eb)]({'botID':botID})[_0x5b1198(0x2d4)]();_0x51b8ea&&dbConfig['get'](_0x5b1198(0x2a4))[_0x5b1198(0x2eb)]({'botID':botID})['assign']({'timeshift':_0x388e70})[_0x5b1198(0x21b)](),config['timeshift']=_0x388e70,proxyEmit(_0x5b1198(0x2ed),emittedConfiguration());}async function storeConfiguration(_0x49de8e){const _0x5777e3=_0xac8990;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x242415=dbConfig[_0x5777e3(0x2a5)](_0x5777e3(0x2a4))[_0x5777e3(0x2eb)]({'botID':botID})['value']();_0x49de8e={..._0x49de8e,'apiKey':crypt['decrypt'](secure[_0x5777e3(0x203)],_0x49de8e[_0x5777e3(0x224)])['message'],'apiSecret':crypt[_0x5777e3(0x1d9)](secure[_0x5777e3(0x203)],_0x49de8e[_0x5777e3(0x277)])[_0x5777e3(0x1fb)]};if(_0x242415){if(_0x49de8e[_0x5777e3(0x224)]=='************')_0x49de8e['apiKey']=config['apiKey'];if(_0x49de8e[_0x5777e3(0x277)]==_0x5777e3(0x1c9))_0x49de8e['apiSecret']=config[_0x5777e3(0x277)];dbConfig[_0x5777e3(0x2a5)](_0x5777e3(0x2a4))[_0x5777e3(0x2eb)]({'botID':botID})['assign'](_0x49de8e)['write']();}else dbConfig[_0x5777e3(0x2a5)](_0x5777e3(0x2a4))[_0x5777e3(0x296)](_0x49de8e)['write'](),process[_0x5777e3(0x1eb)]({'status':_0x5777e3(0x254),'live':_0x5777e3(0x281)},_0x240e57=>{});config={..._0x49de8e},setStartDatePerformance(),process['send']({'botname':_0x49de8e['botname']},_0x4ee6cf=>{}),updateBotManager();const _0x4c8f13=getNormalizedPerformance();getStartingBalances(_0x4c8f13),emitPerformance(_0x4c8f13),proxyEmit(_0x5777e3(0x218)),await initCoinResults(),reset();}async function storeHeadless(_0x28090d){const _0x1ba7cb=_0xac8990,_0x4e6ef0={...config,'headless':_0x28090d[_0x1ba7cb(0x2fa)]};let _0x114e3c=dbConfig[_0x1ba7cb(0x2a5)]('bot')['find']({'botID':botID})[_0x1ba7cb(0x2d4)]();_0x114e3c&&dbConfig[_0x1ba7cb(0x2a5)](_0x1ba7cb(0x2a4))['find']({'botID':botID})[_0x1ba7cb(0x2f5)](_0x4e6ef0)[_0x1ba7cb(0x21b)](),config={..._0x4e6ef0},updateBotManager(),proxyEmit(_0x1ba7cb(0x2ed),emittedConfiguration());}function noslash(_0x356d6f){const _0x4cff1e=_0xac8990;return _0x356d6f[_0x4cff1e(0x1d4)]('/','');}async function updateNumberCoins(_0x5d2109){const _0x1b43bb=_0xac8990;if(_0x5d2109[_0x1b43bb(0x26b)]&&_0x5d2109[_0x1b43bb(0x26b)]==_0x1b43bb(0x295)){if(_0x5d2109[_0x1b43bb(0x248)]!=lastOutboundEventTime){lastOutboundEventTime=_0x5d2109['eventTime'],currentCoins=await getCoins(!![]);if(lastBalances){let _0x2e9bef=JSON['parse'](lastBalances[_0x1b43bb(0x25c)]);_0x2e9bef[_0x1b43bb(0x24f)](_0x71650b=>{const _0x1d2ed5=_0x1b43bb,_0x3d2a9d=currentCoins[_0x1d2ed5(0x2eb)](_0x57f0b0=>_0x57f0b0[_0x1d2ed5(0x23d)]==_0x71650b['coin']);_0x71650b[_0x1d2ed5(0x240)]=_0x3d2a9d['order'];}),lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x2e9bef)},proxyEmit(_0x1b43bb(0x26e),{'serverversion':serverversion,'balances':lastBalances});}}}if(_0x5d2109[_0x1b43bb(0x26b)]&&_0x5d2109['eventType']=='executionReport'){if(_0x5d2109[_0x1b43bb(0x2c2)]==_0x1b43bb(0x217)){if(lastOrders)lastOrders[_0x1b43bb(0x24f)](async _0x317238=>{const _0x3a9bbf=_0x1b43bb;_0x317238[_0x3a9bbf(0x221)]==_0x5d2109['orderId']&&_0x317238['filled']==0x0&&(_0x317238['price']=_0x5d2109[_0x3a9bbf(0x21a)]/_0x5d2109[_0x3a9bbf(0x25d)],_0x317238[_0x3a9bbf(0x251)]=_0x5d2109[_0x3a9bbf(0x25d)],_0x317238[_0x3a9bbf(0x268)]={'cost':_0x5d2109[_0x3a9bbf(0x1e8)],'currency':_0x5d2109[_0x3a9bbf(0x2f2)]},await validateOrders(),await updateCoinResults(_0x317238));});}}}async function getCoins(_0x4c11f2=![],_0x2b4d9e=!![],_0x1d2b51=config[_0xac8990(0x238)]){const _0x3efc0b=_0xac8990;let _0x11677a,_0x5ae2aa=[],_0xd65b9f=[],_0x96168d=[];try{_0x11677a=await exchange['fetchBalance'](),mybalances=_0x11677a[_0x3efc0b(0x220)];if(!_0x2b4d9e)for(const [_0x50cefa,_0x7d8ccc]of Object[_0x3efc0b(0x2d6)](mybalances)){_0x96168d['push'](_0x50cefa);}else config['portfolio'][_0x3efc0b(0x24f)](_0x3f5313=>{const _0x192d48=_0x3efc0b;if(!_0x3f5313[_0x192d48(0x2ac)])_0x96168d[_0x192d48(0x296)](_0x3f5313['coin']);});if(_0x1d2b51=='')for(const [_0x490887,_0x4dadbb]of Object[_0x3efc0b(0x2d6)](mybalances)){_0x4dadbb[_0x3efc0b(0x2e2)]()!=0x0&&_0xd65b9f[_0x3efc0b(0x296)]({'coin':_0x490887});}else{let _0x207ae2=![],_0x1083c;allOpenOrders=[];for(const [_0x1f08a6,_0x2d911d]of Object[_0x3efc0b(0x2d6)](mybalances)){if(_0x96168d[_0x3efc0b(0x276)](_0x1f08a6)){const _0x4de0cf=config[_0x3efc0b(0x25c)]['find'](_0x3263d5=>_0x3263d5[_0x3efc0b(0x23d)]==_0x1f08a6),_0xb6b838=_0x1f08a6+'/'+_0x1d2b51,_0x407241=_0x1d2b51+'/'+_0x1f08a6;_0x207ae2=![];if((_0x2d911d[_0x3efc0b(0x2e2)]()!=0x0||_0x4de0cf)&&(allSymbols[_0x3efc0b(0x276)](_0xb6b838)||_0x1f08a6==_0x1d2b51))_0x1f08a6!=_0x1d2b51&&(_0x5ae2aa[_0x3efc0b(0x296)](_0xb6b838),_0x4c11f2&&(_0x1083c=await exchange['fetchOpenOrders'](_0xb6b838),_0x1083c[_0x3efc0b(0x1e0)]>0x0&&(_0x207ae2=!![]))),_0xd65b9f[_0x3efc0b(0x296)]({'coin':_0x1f08a6,'symbol':_0xb6b838,'reverse':![],'number':Math[_0x3efc0b(0x1dc)](_0x2d911d+(_0x4de0cf&&_0x4de0cf['offset']||0x0),0x0),'order':_0x207ae2});else(_0x2d911d[_0x3efc0b(0x2e2)]()!=0x0||_0x4de0cf)&&allSymbols['includes'](_0x407241)&&(_0x1f08a6!=_0x1d2b51&&(_0x5ae2aa['push'](_0x407241),_0x4c11f2&&(_0x1083c=await exchange[_0x3efc0b(0x2f6)](_0x407241),_0x1083c[_0x3efc0b(0x1e0)]>0x0&&(_0x207ae2=!![]))),_0xd65b9f[_0x3efc0b(0x296)]({'coin':_0x1f08a6,'symbol':_0x407241,'reverse':!![],'number':Math[_0x3efc0b(0x1dc)](_0x2d911d+(_0x4de0cf&&_0x4de0cf[_0x3efc0b(0x215)]||0x0),0x0),'order':_0x207ae2}));}_0x207ae2&&allOpenOrders[_0x3efc0b(0x296)](_0x1083c[0x0]);}_0x4c11f2&&allOpenOrders[_0x3efc0b(0x1e0)]==0x0&&(lockOrders&&validateOrders(_0x3efc0b(0x265)));}}catch(_0xd1f4e8){if(!_0x2b4d9e){if(_0xd1f4e8[_0x3efc0b(0x2e2)]()[_0x3efc0b(0x276)]('API-key\x20format\x20invalid'))return logHistory(_0x3efc0b(0x2ad),_0x3efc0b(0x262)),![];else{if(_0xd1f4e8['toString']()['includes'](_0x3efc0b(0x2c6)))return logHistory(_0x3efc0b(0x2ad),_0x3efc0b(0x294)),![];else{if(_0xd1f4e8[_0x3efc0b(0x2e2)]()[_0x3efc0b(0x276)](_0x3efc0b(0x20a)))return logHistory('error',_0x3efc0b(0x299)),![];else await handleError(_0xd1f4e8,_0x3efc0b(0x29d));}}}else await handleError(_0xd1f4e8,_0x3efc0b(0x29d));}return _0xd65b9f;}async function getPortfolio(_0x2ccf0d){const _0x3bbc28=_0xac8990;let _0x200842=[],_0xbd417b=[],_0x5a69dd,_0x4c5984=[],_0x38837a,_0x4f7bb4;_0x2ccf0d[_0x3bbc28(0x224)]===_0x3bbc28(0x1c9)||_0x2ccf0d[_0x3bbc28(0x277)]===_0x3bbc28(0x1c9)?(_0x38837a=config[_0x3bbc28(0x224)],_0x4f7bb4=config[_0x3bbc28(0x277)]):(_0x38837a=_0x2ccf0d['apiKey'],_0x4f7bb4=_0x2ccf0d[_0x3bbc28(0x277)]);await initExchange(_0x38837a,_0x4f7bb4);let _0x10f488=await loadSymbols();if(_0x10f488){_0x4c5984=await getCoins(![],![],_0x2ccf0d[_0x3bbc28(0x238)]);if(_0x4c5984===![])proxyEmit(_0x3bbc28(0x25c),![]);else{if(_0x2ccf0d[_0x3bbc28(0x238)]=='')proxyEmit(_0x3bbc28(0x25c),_0x4c5984);else{_0x4c5984[_0x3bbc28(0x24f)](_0x2f5d4d=>{const _0x3f692d=_0x3bbc28;if(_0x2f5d4d['coin']!=_0x2ccf0d[_0x3f692d(0x238)])_0x200842[_0x3f692d(0x296)](_0x2f5d4d['symbol']);});try{_0xbd417b=await exchange[_0x3bbc28(0x23b)](_0x200842);}catch(_0x16ccc1){await handleError(_0x16ccc1,_0x3bbc28(0x2b1));}_0x4c5984[_0x3bbc28(0x24f)](_0x1d7334=>{const _0x45a3eb=_0x3bbc28;_0x1d7334[_0x45a3eb(0x23d)]!=_0x2ccf0d[_0x45a3eb(0x238)]?_0x5a69dd=_0x1d7334['reverse']?0x1/_0xbd417b[_0x1d7334[_0x45a3eb(0x1de)]][_0x45a3eb(0x2da)]:_0xbd417b[_0x1d7334[_0x45a3eb(0x1de)]]['last']:_0x5a69dd=0x1,_0x1d7334[_0x45a3eb(0x231)]=formatResult(_0x5a69dd,0x8);}),proxyEmit('portfolio',_0x4c5984);}}}else proxyEmit(_0x3bbc28(0x25c),![]);}function checkMinimums(_0x4db19e){const _0x8f2b4a=_0xac8990;let _0x2a2674=!![];const _0x48815a=!_0x4db19e[_0x8f2b4a(0x2f7)]?markets[_0x4db19e[_0x8f2b4a(0x1de)]][_0x8f2b4a(0x2a2)]['amount'][_0x8f2b4a(0x239)]:markets[_0x4db19e[_0x8f2b4a(0x1de)]][_0x8f2b4a(0x2a2)][_0x8f2b4a(0x1f0)][_0x8f2b4a(0x239)],_0x22cb2e=!_0x4db19e[_0x8f2b4a(0x2f7)]?markets[_0x4db19e['symbol']][_0x8f2b4a(0x2a2)][_0x8f2b4a(0x1f0)][_0x8f2b4a(0x239)]:markets[_0x4db19e['symbol']][_0x8f2b4a(0x2a2)]['amount'][_0x8f2b4a(0x239)],_0xbd4fcb=markets[_0x4db19e['symbol']][_0x8f2b4a(0x21c)][_0x8f2b4a(0x213)];_0x4db19e[_0x8f2b4a(0x297)]=formatResultTruncate(_0x4db19e[_0x8f2b4a(0x297)],_0xbd4fcb);if(Math[_0x8f2b4a(0x2c5)](_0x4db19e[_0x8f2b4a(0x297)])<_0x48815a)_0x2a2674=![];if(Math[_0x8f2b4a(0x2c5)](_0x4db19e[_0x8f2b4a(0x297)])*_0x4db19e[_0x8f2b4a(0x2da)]<_0x22cb2e)_0x2a2674=![];if(_0x4db19e[_0x8f2b4a(0x2d8)]=='sell'){let _0xc8f27f=config[_0x8f2b4a(0x25c)][_0x8f2b4a(0x2eb)](_0x13a50f=>_0x13a50f[_0x8f2b4a(0x23d)]==_0x4db19e['coin']);if(_0xc8f27f['offset']>0x0){if(Math[_0x8f2b4a(0x2c5)](_0x4db19e['trade'])>_0x4db19e[_0x8f2b4a(0x1d8)]-_0xc8f27f[_0x8f2b4a(0x215)])_0x2a2674=![];}else{if(Math[_0x8f2b4a(0x2c5)](_0x4db19e[_0x8f2b4a(0x297)])>_0x4db19e[_0x8f2b4a(0x1d8)])_0x2a2674=![];}}if(_0x4db19e[_0x8f2b4a(0x2d8)]==_0x8f2b4a(0x258)){let _0x29ac5c=config[_0x8f2b4a(0x25c)][_0x8f2b4a(0x2eb)](_0x3df4f7=>_0x3df4f7[_0x8f2b4a(0x23d)]==config[_0x8f2b4a(0x238)]),_0x58c8f0=currentCoins['find'](_0x11a059=>_0x11a059[_0x8f2b4a(0x23d)]==config[_0x8f2b4a(0x238)]);if(_0x29ac5c[_0x8f2b4a(0x215)]>0x0){if(Math[_0x8f2b4a(0x2c5)](_0x4db19e[_0x8f2b4a(0x297)])*_0x4db19e[_0x8f2b4a(0x2da)]>_0x58c8f0['number']-_0x29ac5c[_0x8f2b4a(0x215)])_0x2a2674=![];}else{if(Math[_0x8f2b4a(0x2c5)](_0x4db19e[_0x8f2b4a(0x297)])*_0x4db19e[_0x8f2b4a(0x2da)]>_0x58c8f0['number'])_0x2a2674=![];}}return _0x2a2674;}async function getBalances(){const _0x12c899=_0xac8990;let _0x18498b=0x0,_0x44aef3;const _0x327e03=config['threshold'];if(config['headless']&&config[_0x12c899(0x2a8)]<0x0)await validate24hChanges();currentCoins[_0x12c899(0x24f)](_0x5d6b2a=>{const _0x2183a4=_0x12c899;if(_0x5d6b2a[_0x2183a4(0x23d)]!=config[_0x2183a4(0x238)]){let _0x239a74=global[_0x2183a4(0x273)][noslash(_0x5d6b2a['symbol'])];_0x44aef3=_0x5d6b2a['reverse']?0x1/_0x239a74:_0x239a74;}else _0x44aef3=0x1;let _0x5e123d=_0x5d6b2a['number']*_0x44aef3;_0x18498b+=_0x5e123d,_0x5d6b2a['last']=formatResult(Number(_0x44aef3),0x8),_0x5d6b2a[_0x2183a4(0x2d4)]=_0x5e123d;}),currentCoins['forEach'](_0x557be8=>{const _0x31ea99=_0x12c899;let _0x446554=config[_0x31ea99(0x25c)][_0x31ea99(0x2eb)](_0x1361e0=>_0x1361e0[_0x31ea99(0x23d)]==_0x557be8[_0x31ea99(0x23d)]),_0x100ed7=Number(_0x446554[_0x31ea99(0x284)]),_0x4dcc5a=_0x557be8['value']/_0x18498b*0x64,_0x455eeb=_0x100ed7*_0x18498b/0x64/_0x557be8['last']-_0x557be8['number'];_0x557be8['distribution']=formatResult(_0x4dcc5a,0x3),_0x557be8[_0x31ea99(0x2ae)]=formatResult(_0x100ed7,0x3),_0x557be8[_0x31ea99(0x297)]=formatResult(_0x455eeb,0x8),_0x557be8[_0x31ea99(0x2d8)]='',_0x557be8[_0x31ea99(0x236)]=![];if(_0x557be8[_0x31ea99(0x23d)]!=config[_0x31ea99(0x238)]){if(_0x557be8[_0x31ea99(0x284)]>_0x100ed7)_0x557be8[_0x31ea99(0x2d8)]=_0x31ea99(0x2d1),_0x557be8[_0x31ea99(0x236)]=checkMinimums(_0x557be8);else _0x557be8[_0x31ea99(0x284)]<_0x100ed7&&(_0x557be8[_0x31ea99(0x2d8)]=_0x31ea99(0x258),_0x557be8[_0x31ea99(0x236)]=checkMinimums(_0x557be8));}_0x557be8[_0x31ea99(0x290)]=_0x557be8[_0x31ea99(0x284)]/_0x557be8[_0x31ea99(0x2ae)]-0x1;}),currentCoins[_0x12c899(0x2c0)]((_0x34bb5c,_0x498182)=>_0x34bb5c[_0x12c899(0x290)]<_0x498182[_0x12c899(0x290)]?0x1:_0x498182[_0x12c899(0x290)]<_0x34bb5c[_0x12c899(0x290)]?-0x1:0x0);const _0x13820e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x13820e[_0x12c899(0x1f6)],'usd':_0x13820e[_0x12c899(0x234)],'portfolio':JSON[_0x12c899(0x2b2)](currentCoins),'threshold':_0x327e03},proxyEmit(_0x12c899(0x26e),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x12c899(0x2fa)])headlessMode({'portfolio':currentCoins,'threshold':_0x327e03});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x327e03});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x213789=_0xac8990;if(!lastBalances)return;let _0x4287f9=[],_0x340ff6,_0x35e2a8=JSON['parse'](lastBalances[_0x213789(0x25c)]);_0x35e2a8['sort']((_0x51f703,_0x5260ae)=>_0x51f703[_0x213789(0x23d)]>_0x5260ae[_0x213789(0x23d)]?0x1:_0x5260ae[_0x213789(0x23d)]>_0x51f703[_0x213789(0x23d)]?-0x1:0x0),_0x35e2a8[_0x213789(0x24f)](_0x45c856=>{const _0x1d845b=_0x213789;let _0x394678={'coin':_0x45c856['coin'],'number':_0x45c856[_0x1d845b(0x1d8)],'price':_0x45c856['last']};_0x4287f9[_0x1d845b(0x296)](_0x394678);});const _0x4e3705=await getFiat();_0x340ff6={'date':lastBalances[_0x213789(0x1d0)]['split']('\x20')[0x0],'eur':_0x4e3705['eur'],'usd':_0x4e3705[_0x213789(0x234)],'coins':_0x4287f9};let _0x267eaa=dbPerformance['get'](_0x213789(0x1f1))[_0x213789(0x2eb)]({'date':_0x340ff6[_0x213789(0x1f5)]})['value']();_0x267eaa?_0x340ff6[_0x213789(0x1f5)]!=config[_0x213789(0x245)]&&dbPerformance[_0x213789(0x2a5)](_0x213789(0x1f1))[_0x213789(0x2eb)]({'date':_0x340ff6[_0x213789(0x1f5)]})[_0x213789(0x2f5)](_0x340ff6)[_0x213789(0x21b)]():dbPerformance[_0x213789(0x2a5)](_0x213789(0x1f1))['push'](_0x340ff6)[_0x213789(0x21b)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3fccdd=_0xac8990;let _0x51b84d=[];if(dbPerformance[_0x3fccdd(0x219)](_0x3fccdd(0x1f1))['value']()){let _0x16b00a=dbPerformance[_0x3fccdd(0x2a5)](_0x3fccdd(0x1f1))[_0x3fccdd(0x29a)]()[_0x3fccdd(0x244)](_0x3fccdd(0x1f5))['value'](),_0x5568f9=[...config[_0x3fccdd(0x1c8)]];_0x5568f9[_0x3fccdd(0x2c0)]((_0x2055e2,_0x2fc456)=>_0x2055e2[_0x3fccdd(0x1f5)]>_0x2fc456[_0x3fccdd(0x1f5)]?-0x1:_0x2fc456[_0x3fccdd(0x1f5)]>_0x2055e2[_0x3fccdd(0x1f5)]?0x1:0x0);let _0xe3739f=0x1,_0x140b60=[],_0x1e5d74=0x0;_0x16b00a[_0x3fccdd(0x2fb)]()['reverse']()[_0x3fccdd(0x24f)]((_0x3bdc1f,_0x4a504b)=>{const _0x27732b=_0x3fccdd;if(_0x5568f9[_0x1e5d74]){if(_0x16b00a[_0x16b00a[_0x27732b(0x1e0)]-_0x4a504b]&&_0x5568f9[_0x1e5d74][_0x27732b(0x1f5)]==_0x16b00a[_0x16b00a[_0x27732b(0x1e0)]-_0x4a504b][_0x27732b(0x1f5)]){if(_0x4a504b<_0x16b00a[_0x27732b(0x1e0)]){let _0x54ee3=0x0,_0x318124=0x0;_0x16b00a[_0x16b00a[_0x27732b(0x1e0)]-_0x4a504b]['coins'][_0x27732b(0x24f)](_0x544075=>{const _0x2fd0b7=_0x27732b;_0x318124+=_0x544075[_0x2fd0b7(0x1d8)]*_0x544075[_0x2fd0b7(0x231)];}),_0x5568f9[_0x1e5d74][_0x27732b(0x250)][_0x27732b(0x24f)](_0x478d78=>{const _0x3fc0ba=_0x27732b;_0x54ee3+=_0x478d78['number']*_0x478d78[_0x3fc0ba(0x231)];}),_0xe3739f*=_0x54ee3/(_0x318124-_0x54ee3)+0x1;}_0x1e5d74++;}}let _0x514615=0x0;_0x3bdc1f[_0x27732b(0x2ee)][_0x27732b(0x24f)](_0x4a8c20=>{const _0x55725c=_0x27732b;_0x514615+=_0x4a8c20[_0x55725c(0x1d8)]*_0x4a8c20['price'];}),_0x140b60[_0x16b00a[_0x27732b(0x1e0)]-_0x4a504b-0x1]=_0x514615*(_0xe3739f-0x1);});let _0x2e0aa1=[];_0x5568f9=[...config[_0x3fccdd(0x1c8)]]||[];let _0x404dd0=0x0;_0x1e5d74=0x0,_0x16b00a[_0x3fccdd(0x24f)]((_0x55970b,_0x2c8d84)=>{const _0x2d0e2e=_0x3fccdd;if(_0x5568f9[_0x1e5d74]){const _0x313413=fns[_0x2d0e2e(0x1f9)](_0x5568f9[_0x1e5d74][_0x2d0e2e(0x1f5)],_0x2d0e2e(0x275),new Date()),_0x167247=fns[_0x2d0e2e(0x1f9)](_0x55970b[_0x2d0e2e(0x1f5)],_0x2d0e2e(0x275),new Date());if(fns[_0x2d0e2e(0x202)](_0x313413,_0x167247)){let _0x1a5f88=0x0;_0x5568f9[_0x1e5d74][_0x2d0e2e(0x250)][_0x2d0e2e(0x24f)](_0x16446c=>{const _0x471258=_0x2d0e2e;!_0x2e0aa1[_0x16446c[_0x471258(0x23d)]]?_0x2e0aa1[_0x16446c[_0x471258(0x23d)]]=_0x16446c['number']:(_0x1a5f88=_0x2e0aa1[_0x16446c['coin']],_0x2e0aa1[_0x16446c[_0x471258(0x23d)]]+=_0x16446c[_0x471258(0x1d8)]);const _0x51d5e4=_0x55970b['coins'][_0x471258(0x2eb)](_0x10866a=>_0x10866a[_0x471258(0x23d)]==_0x16446c[_0x471258(0x23d)]);(!_0x51d5e4||_0x51d5e4[_0x471258(0x1d8)]==0x0)&&(_0x404dd0+=(-_0x16446c[_0x471258(0x1d8)]-_0x1a5f88)*_0x16446c[_0x471258(0x231)]);}),_0x1e5d74++;}}_0x55970b['coins'][_0x2d0e2e(0x24f)]((_0x344a8a,_0x6a36bb)=>{const _0x54b05a=_0x2d0e2e;_0x2e0aa1[_0x344a8a[_0x54b05a(0x23d)]]&&(_0x344a8a={..._0x344a8a,'initial':_0x2e0aa1[_0x344a8a['coin']]}),_0x55970b['coins'][_0x6a36bb]=_0x344a8a;}),_0x51b84d[_0x2d0e2e(0x296)]({'date':_0x55970b[_0x2d0e2e(0x1f5)],'eur':_0x55970b[_0x2d0e2e(0x1f6)],'usd':_0x55970b['usd'],'offset':_0x140b60[_0x2c8d84],'netoffset':_0x404dd0,'coins':_0x55970b[_0x2d0e2e(0x2ee)]});});}return _0x51b84d;}function emitPerformance(_0x5292b4){const _0x2266fd=_0xac8990;_0x5292b4[_0x2266fd(0x1e0)]!==0x0?(proxyEmit(_0x2266fd(0x214),_0x5292b4),lastPerformanceEmitted=getDate()):proxyEmit(_0x2266fd(0x214),[]);}function getPerf(_0x3a46c9,_0x18b6e1){const _0x287475=_0xac8990;let _0x216b9f=0x0,_0x2c9837=0x0,_0x27b0d8=0x0;_0x3a46c9['coins'][_0x287475(0x24f)](_0x778a31=>{const _0x3463cd=_0x287475;_0x216b9f+=_0x778a31[_0x3463cd(0x1d8)]*_0x778a31[_0x3463cd(0x231)];});_0x18b6e1&&(_0x216b9f+=_0x3a46c9[_0x287475(0x215)]);if(config[_0x287475(0x238)]===_0x287475(0x207)||config['basecoin']===_0x287475(0x2e1))_0x2c9837=_0x216b9f*_0x3a46c9[_0x287475(0x1f6)],_0x27b0d8=_0x216b9f*_0x3a46c9[_0x287475(0x234)];else{if(config[_0x287475(0x238)]===_0x287475(0x2ec)||config[_0x287475(0x238)]==='USDT')_0x2c9837=_0x216b9f*_0x3a46c9[_0x287475(0x1f6)]/_0x3a46c9[_0x287475(0x234)],_0x27b0d8=_0x216b9f;else config['basecoin']===_0x287475(0x28b)&&(_0x2c9837=_0x216b9f,_0x27b0d8=_0x216b9f*_0x3a46c9['usd']/_0x3a46c9[_0x287475(0x1f6)]);}return[_0x216b9f,_0x2c9837,_0x27b0d8];}async function getStartingBalances(_0x16cbf2,_0x4d4b56=!![]){const _0x338085=_0xac8990;if(_0x16cbf2[_0x338085(0x1e0)]!==0x0){const [_0x10f0c0,_0x4027a2,_0x1ebb3e]=getPerf(_0x16cbf2[0x0],!![]);let _0x4d6fe7=[];config[_0x338085(0x25c)][_0x338085(0x24f)](_0x283a14=>{const _0x3e76c4=_0x338085;let _0x2e2c14=0x0,_0x5c69f4;config[_0x3e76c4(0x1c8)]['forEach'](_0xf15bbd=>{const _0x5255e1=_0x3e76c4;let _0x5249bb=_0xf15bbd[_0x5255e1(0x250)]['find'](_0x54ecb5=>_0x54ecb5[_0x5255e1(0x23d)]==_0x283a14[_0x5255e1(0x23d)]);if(_0x5249bb){_0x2e2c14+=_0x5249bb[_0x5255e1(0x1d8)];if(!_0x5c69f4)_0x5c69f4=_0x5249bb[_0x5255e1(0x231)];}}),_0x4d6fe7[_0x3e76c4(0x296)]({'coin':_0x283a14[_0x3e76c4(0x23d)],'number':_0x2e2c14,'initialprice':_0x5c69f4});});const _0x1f512e={'basecoin':_0x10f0c0,'eur':_0x4027a2,'usd':_0x1ebb3e,'coins':_0x4d6fe7};if(_0x4d4b56)proxyEmit('starting-balances',_0x1f512e);return _0x1f512e;}}function headlessMode(_0x4acf60){const _0x308368=_0xac8990;let _0x3c6a4a=_0x4acf60[_0x308368(0x25c)],_0xe7d954=_0x4acf60[_0x308368(0x287)],_0x34040a=[];for(let _0x3473dd of _0x3c6a4a){if(_0x3473dd['coin']!=config['basecoin']){if(_0x3473dd[_0x308368(0x290)]>=_0xe7d954/0x64){if(_0x3473dd[_0x308368(0x236)])_0x34040a[_0x308368(0x296)](_0x3473dd);}else{if(_0x3473dd[_0x308368(0x290)]<=-_0xe7d954/0x64){if(_0x3473dd[_0x308368(0x236)])_0x34040a['push'](_0x3473dd);}}}}_0x34040a[_0x308368(0x1e0)]>0x0&&placeOrder(_0x34040a);}function notifyBalance(_0x4fadd8){const _0x4b35c9=_0xac8990;let _0x393c4c=_0x4fadd8[_0x4b35c9(0x25c)],_0x609b3=_0x4fadd8['threshold'],_0x31c3b7=[];for(let _0x31ad53 of _0x393c4c){if(_0x31ad53[_0x4b35c9(0x23d)]!=config[_0x4b35c9(0x238)]){if(_0x31ad53['delta']>=_0x609b3/0x64){if(_0x31ad53[_0x4b35c9(0x236)])_0x31c3b7[_0x4b35c9(0x296)](_0x31ad53);}else{if(_0x31ad53[_0x4b35c9(0x290)]<=-_0x609b3/0x64){if(_0x31ad53['valid'])_0x31c3b7[_0x4b35c9(0x296)](_0x31ad53);}}}}if(_0x31c3b7[_0x4b35c9(0x1e0)]>0x0){let _0x2f173b=_0x31c3b7[_0x4b35c9(0x2d3)](_0x598b1f=>_0x598b1f['coin']);_0x2f173b['sort']();let _0x50c0e2=_0x2f173b[_0x4b35c9(0x2a6)](',\x20');if(lastCoinsToBalance!==_0x50c0e2)logHistory(_0x4b35c9(0x2b0),_0x4b35c9(0x279)+_0x50c0e2);lastCoinsToBalance=_0x50c0e2;}}function symbolToCoin(_0x595081){const _0x458a1a=_0xac8990;let _0x52c11b;if(_0x595081[_0x458a1a(0x276)]('/'+config[_0x458a1a(0x238)]))_0x52c11b=_0x595081[_0x458a1a(0x1d4)]('/'+config['basecoin'],'');if(_0x595081[_0x458a1a(0x276)](config[_0x458a1a(0x238)]+'/'))_0x52c11b=_0x595081[_0x458a1a(0x1d4)](config[_0x458a1a(0x238)]+'/','');return _0x52c11b;}async function unlockOrders(){const _0x365a83=_0xac8990;currentCoins=await getCoins(),validateOrdersState=_0x365a83(0x2ca);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);lockOrders=![];}async function validateOrders(_0x46fb4f){const _0xd1561d=_0xac8990;if(_0x46fb4f)validateOrdersState=_0x46fb4f;let _0x2d54a5=[],_0x23c462=config[_0xd1561d(0x230)]==_0xd1561d(0x2d9)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0xd1561d(0x25f)]*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;logging(validateOrdersState+_0xd1561d(0x1ee)+_0x46fb4f),lastOrders[_0xd1561d(0x24f)](_0x1d04d4=>{const _0x305a83=_0xd1561d;let _0x5831b4=![];_0x1d04d4[_0x305a83(0x251)]>0x0&&(_0x5831b4=!![]),_0x2d54a5[_0x305a83(0x296)](_0x5831b4),_0x5831b4&&config[_0x305a83(0x230)]!=_0x305a83(0x2d9)&&logHistory('order',_0x305a83(0x226)+_0x1d04d4['symbol']+'\x20'+_0x1d04d4[_0x305a83(0x2d8)]+'\x20#'+formatResult(_0x1d04d4[_0x305a83(0x251)],0x8)+'\x20@'+formatResult(_0x1d04d4[_0x305a83(0x231)],0x8));}),_0x2d54a5[_0xd1561d(0x24f)]((_0x52e76f,_0x4fd1df)=>{const _0x5c52bd=_0xd1561d;if(_0x52e76f)lastOrders[_0x5c52bd(0x1fa)](_0x4fd1df,0x1);});const _0x20a79a=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0xd1561d(0x1ed);if(validateOrdersState==_0xd1561d(0x2ca))validateOrdersState='ongoing',_0x2d54a5[_0xd1561d(0x276)](![])?config[_0xd1561d(0x230)]==_0xd1561d(0x2d9)?logHistory(_0xd1561d(0x2ad),_0xd1561d(0x228)):logHistory(_0xd1561d(0x2ad),_0xd1561d(0x1f2)):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0x2d54a5['includes'](![])){}else config[_0xd1561d(0x230)]=='market'?logHistory('success','Order(s)\x20validated\x20-\x20'+_0x20a79a):logHistory('success',_0xd1561d(0x1c3)+_0x20a79a),await unlockOrders();}else{if(validateOrdersState==_0xd1561d(0x22c))_0x2d54a5['includes'](![])?config[_0xd1561d(0x230)]==_0xd1561d(0x2d9)?logHistory(_0xd1561d(0x2b0),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0xd1561d(0x210)](_0x23c462*validateOrderInterval/0xea60)+_0xd1561d(0x2f8)+_0x20a79a):(await cancelOrders(),logHistory('success',_0xd1561d(0x208)+Math[_0xd1561d(0x210)](_0x23c462*validateOrderInterval/0xea60)+_0xd1561d(0x2f8)+_0x20a79a)):logHistory(_0xd1561d(0x2b0),_0xd1561d(0x23c)+_0x20a79a),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!='market')logHistory(_0xd1561d(0x2b0),_0xd1561d(0x23c)+_0x20a79a);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x5a4fec=>{const _0x49c546=_0x4ea4;try{const _0x3b4dd3=await exchange[_0x49c546(0x2df)](_0x5a4fec[_0x49c546(0x221)],_0x5a4fec['symbol']);}catch(_0x4af1e2){if(_0x4af1e2[_0x49c546(0x2e2)]()['includes'](_0x49c546(0x22d))){}else await handleError(_0x4af1e2,'cancelOrders()');}});}async function initCoinResults(){const _0x38d494=_0xac8990;let _0xb0e2bc=[];config['portfolio'][_0x38d494(0x24f)](_0x2e09d8=>{const _0xc3cc1f=_0x38d494;if(!_0x2e09d8[_0xc3cc1f(0x2ac)]&&_0x2e09d8[_0xc3cc1f(0x23d)]!=config[_0xc3cc1f(0x238)]){let _0x5da4db=dbCoinResults[_0xc3cc1f(0x2a5)]('coins')[_0xc3cc1f(0x2eb)]({'coin':_0x2e09d8[_0xc3cc1f(0x23d)]})[_0xc3cc1f(0x2d4)]();if(!_0x5da4db){const _0x579a3f=currentCoins[_0xc3cc1f(0x2eb)](_0x1637f9=>_0x1637f9[_0xc3cc1f(0x23d)]==_0x2e09d8[_0xc3cc1f(0x23d)]),_0x31aead=global[_0xc3cc1f(0x273)][noslash(_0x2e09d8['symbol'])];let _0x5c5fe4=_0x579a3f?_0x579a3f[_0xc3cc1f(0x1d8)]:null,_0x2dd569=_0x2e09d8[_0xc3cc1f(0x2f7)]?0x1/_0x31aead:_0x31aead,_0x9fcbf9;config[_0xc3cc1f(0x1c8)][_0xc3cc1f(0x24f)](_0x38c8c0=>{const _0x1970b1=_0xc3cc1f;!_0x9fcbf9&&(_0x9fcbf9=_0x38c8c0['changes'][_0x1970b1(0x2eb)](_0x44544b=>_0x44544b['coin']==_0x2e09d8[_0x1970b1(0x23d)]),_0x9fcbf9&&(_0x5c5fe4=_0x9fcbf9['number'],_0x2dd569=_0x9fcbf9[_0x1970b1(0x231)]));}),_0xb0e2bc[_0xc3cc1f(0x296)]({'coin':_0x2e09d8[_0xc3cc1f(0x23d)],'number':_0x5c5fe4,'price':_0x2dd569});}}}),_0xb0e2bc[_0x38d494(0x24f)](_0x2bc7e3=>{const _0x412279=_0x38d494,_0x2677a6={'coin':_0x2bc7e3[_0x412279(0x23d)],'number':_0x2bc7e3[_0x412279(0x1d8)],'breakeven':_0x2bc7e3[_0x412279(0x231)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x412279(0x2a5)]('coins')[_0x412279(0x296)](_0x2677a6)[_0x412279(0x21b)]();});}async function updateCoinResults(_0x5c0aa7,_0x46fdc2=![]){const _0x46d122=_0xac8990;let _0x1e1879,_0x1ad069,_0x14d618,_0x1a6465,_0x524cc7,_0x24c60c,_0x1b566f=dbCoinResults['get'](_0x46d122(0x2ee))['find']({'coin':_0x5c0aa7['coin']})[_0x46d122(0x2d4)]();!_0x1b566f&&await initCoinResults();_0x5c0aa7[_0x46d122(0x2f7)]&&(_0x24c60c={'filled':_0x5c0aa7[_0x46d122(0x251)]*_0x5c0aa7[_0x46d122(0x231)],'amount':_0x5c0aa7[_0x46d122(0x251)]*_0x5c0aa7[_0x46d122(0x231)],'side':_0x5c0aa7['side']==_0x46d122(0x2d1)?_0x46d122(0x258):_0x46d122(0x2d1),'price':0x1/_0x5c0aa7[_0x46d122(0x231)]},_0x5c0aa7={..._0x5c0aa7,..._0x24c60c});if(_0x46fdc2)_0x1ad069=_0x5c0aa7[_0x46d122(0x2d8)]==_0x46d122(0x258)?_0x1b566f[_0x46d122(0x1d8)]+_0x5c0aa7[_0x46d122(0x251)]:_0x1b566f[_0x46d122(0x1d8)]-_0x5c0aa7[_0x46d122(0x251)];else{const _0x2c2b29=currentCoins['find'](_0x2f6068=>_0x2f6068[_0x46d122(0x23d)]==_0x5c0aa7['coin']);_0x1ad069=_0x2c2b29[_0x46d122(0x1d8)];}if(_0x5c0aa7[_0x46d122(0x268)]&&_0x5c0aa7[_0x46d122(0x268)][_0x46d122(0x2f3)]==config[_0x46d122(0x238)])_0x1e1879=_0x5c0aa7[_0x46d122(0x268)][_0x46d122(0x1f0)];else{if(_0x5c0aa7['fee']&&_0x5c0aa7['fee'][_0x46d122(0x2f3)]==_0x46d122(0x2b7)&&!_0x46fdc2)_0x1e1879=_0x5c0aa7[_0x46d122(0x268)]['cost']*global[_0x46d122(0x273)][_0x46d122(0x2b7)+config['basecoin']];else _0x1e1879=defaultFee*_0x5c0aa7['filled']*_0x5c0aa7[_0x46d122(0x231)];}_0x5c0aa7[_0x46d122(0x2d8)]==_0x46d122(0x258)?(_0x14d618=_0x1ad069!=0x0?(_0x1b566f['breakeven']*_0x1b566f[_0x46d122(0x1d8)]+_0x5c0aa7[_0x46d122(0x231)]*(_0x1ad069-_0x1b566f[_0x46d122(0x1d8)])+_0x1e1879)/_0x1ad069:0x0,_0x1a6465=_0x1b566f[_0x46d122(0x2ff)]):(_0x14d618=_0x1ad069!=0x0?(_0x1b566f[_0x46d122(0x2cf)]*_0x1b566f[_0x46d122(0x1d8)]-_0x5c0aa7[_0x46d122(0x231)]*(_0x1b566f[_0x46d122(0x1d8)]-_0x1ad069)+_0x1e1879)/_0x1ad069:0x0,_0x1a6465=_0x1b566f[_0x46d122(0x2ff)]+(_0x5c0aa7[_0x46d122(0x231)]-_0x1b566f[_0x46d122(0x2cf)])*_0x5c0aa7['filled']);_0x524cc7=(_0x5c0aa7[_0x46d122(0x231)]-_0x14d618-_0x1e1879/_0x5c0aa7['filled'])*_0x1ad069;let _0x509b50={'coin':_0x5c0aa7['coin'],'number':_0x1ad069,'breakeven':formatResult(_0x14d618,0x8),'realized':formatResult(_0x1a6465,0x8),'unrealized':formatResult(_0x524cc7,0x8),'fees':formatResult(_0x1b566f[_0x46d122(0x28c)]+_0x1e1879,0x8),'sells':_0x5c0aa7['side']==_0x46d122(0x2d1)?_0x1b566f[_0x46d122(0x2ea)]+0x1:_0x1b566f[_0x46d122(0x2ea)],'buys':_0x5c0aa7[_0x46d122(0x2d8)]==_0x46d122(0x258)?_0x1b566f[_0x46d122(0x285)]+0x1:_0x1b566f['buys']};dbCoinResults[_0x46d122(0x2a5)]('coins')[_0x46d122(0x2eb)]({'coin':_0x5c0aa7[_0x46d122(0x23d)]})[_0x46d122(0x2f5)](_0x509b50)['write']();if(!_0x46fdc2){if(_0x5c0aa7[_0x46d122(0x268)]&&_0x5c0aa7[_0x46d122(0x268)][_0x46d122(0x2f3)]=='BNB'){const _0x71a7fb=currentCoins[_0x46d122(0x2eb)](_0xa4fe7f=>_0xa4fe7f[_0x46d122(0x23d)]=='BNB');if(_0x71a7fb){let _0x44e8e1=dbCoinResults[_0x46d122(0x2a5)](_0x46d122(0x2ee))['find']({'coin':_0x46d122(0x2b7)})['value']();_0x509b50={..._0x44e8e1,'number':_0x71a7fb[_0x46d122(0x1d8)]},dbCoinResults[_0x46d122(0x2a5)](_0x46d122(0x2ee))[_0x46d122(0x2eb)]({'coin':_0x46d122(0x2b7)})[_0x46d122(0x2f5)](_0x509b50)[_0x46d122(0x21b)]();}}}}async function placeOrder(_0xd97ad4){const _0x2e08f7=_0xac8990,_0x1d35d7=config['ordertype']==_0x2e08f7(0x2d9)?_0x2e08f7(0x2d9):_0x2e08f7(0x293);if(!lockOrders&&!coolingDown){lastOrders=[];for(const _0xc4a796 of _0xd97ad4){let _0x5e4789,_0x54a4d7,_0x10b1e1,_0x5a9638,_0x39b029,_0x248baa=_0xc4a796[_0x2e08f7(0x1de)];try{const _0x4e0252=await exchange['fetchTickers']([_0x248baa]),_0x274b17=_0x4e0252[_0x248baa];_0x5e4789=_0xc4a796[_0x2e08f7(0x2f7)]?0x1/_0xc4a796[_0x2e08f7(0x2da)]:_0xc4a796['last'],_0x54a4d7=_0x274b17[_0x2e08f7(0x2f4)],_0x10b1e1=_0x274b17[_0x2e08f7(0x212)];_0xc4a796['reverse']?(_0x5a9638=_0xc4a796[_0x2e08f7(0x2d8)]==_0x2e08f7(0x258)?_0x2e08f7(0x2d1):'buy',_0x39b029=Math[_0x2e08f7(0x2c5)](_0xc4a796['trade'])/_0x5e4789):(_0x5a9638=_0xc4a796[_0x2e08f7(0x2d8)],_0x39b029=Math[_0x2e08f7(0x2c5)](_0xc4a796[_0x2e08f7(0x297)]));_0x1d35d7=='limit'&&(config[_0x2e08f7(0x230)]==_0x2e08f7(0x2e5)&&(_0x5e4789=_0x5a9638==_0x2e08f7(0x258)?_0x54a4d7:_0x10b1e1),config[_0x2e08f7(0x230)]=='limit-low'&&(_0x5e4789=_0x5a9638==_0x2e08f7(0x258)?_0x10b1e1:_0x54a4d7));_0x39b029=formatResult(_0x39b029,0x8),_0x5e4789=formatResult(_0x5e4789,0x8);const _0x30af45=await exchange[_0x2e08f7(0x2f1)](_0x248baa,_0x1d35d7,_0x5a9638,_0x39b029,_0x5e4789);lastOrders[_0x2e08f7(0x296)]({'orderId':_0x30af45['id'],'symbol':_0x248baa,'coin':_0xc4a796[_0x2e08f7(0x23d)],'side':_0x5a9638,'reverse':_0xc4a796[_0x2e08f7(0x2f7)],'amount':_0x30af45[_0x2e08f7(0x213)],'filled':0x0,'price':_0x30af45[_0x2e08f7(0x231)],'fee':_0x30af45[_0x2e08f7(0x268)]});const _0x1600f7=_0x5a9638==_0x2e08f7(0x2d1)?config[_0x2e08f7(0x232)]?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x2e08f7(0x2c8)]?String[_0x2e08f7(0x26c)]('0x'+config[_0x2e08f7(0x2c8)])+'\x20':'',_0x10577b=_0x1d35d7==_0x2e08f7(0x2d9)?_0x2e08f7(0x2b4):config[_0x2e08f7(0x230)]==_0x2e08f7(0x2e5)?_0x2e08f7(0x222):_0x2e08f7(0x23e);if(_0x1d35d7==_0x2e08f7(0x2d9))logHistory(_0x2e08f7(0x240),''+_0x1600f7+_0x10577b+_0x2e08f7(0x24d)+_0x248baa+'\x20'+_0x5a9638+'\x20#'+formatResult(_0x30af45[_0x2e08f7(0x251)],0x8)+'\x20@'+formatResult(_0x30af45[_0x2e08f7(0x231)],0x8));else logHistory('order',''+_0x1600f7+_0x10577b+_0x2e08f7(0x24d)+_0x248baa+'\x20'+_0x5a9638+'\x20#'+formatResult(_0x30af45[_0x2e08f7(0x213)],0x8)+'\x20@'+formatResult(_0x30af45[_0x2e08f7(0x231)],0x8));let _0x275faf=currentCoins[_0x2e08f7(0x2eb)](_0x5f3243=>_0x5f3243[_0x2e08f7(0x23d)]==_0xc4a796[_0x2e08f7(0x23d)]);_0x275faf[_0x2e08f7(0x240)]=!![];if(config['cooldown']!=0x0){let _0x3e6533=null;if(cooldownTracker[_0x2e08f7(0x1e0)]==config[_0x2e08f7(0x1d5)]-0x1)_0x3e6533=cooldownTracker[_0x2e08f7(0x22b)]();const _0x1b79ae=getTimeStamp();cooldownTracker['push'](_0x1b79ae);if(_0x3e6533){const _0x48b50a=fns[_0x2e08f7(0x223)](new Date(_0x1b79ae),new Date(_0x3e6533));if(_0x48b50a<cooldownInterval){logHistory(_0x2e08f7(0x2ad),_0x2e08f7(0x264)+config[_0x2e08f7(0x1d5)]+_0x2e08f7(0x24a)+cooldownInterval/0x3c+_0x2e08f7(0x2af)+cooldownPeriod/(0xe10*0x3e8)+_0x2e08f7(0x1d1)),coolingDown=!![];break;}}}}catch(_0x302f52){if(_0x302f52[_0x2e08f7(0x2e2)]()[_0x2e08f7(0x276)](_0x2e08f7(0x1ff)))logHistory('error',_0x2e08f7(0x1ea)+_0x248baa);else{if(_0x302f52['toString']()['includes'](_0x2e08f7(0x29b)))logHistory(_0x2e08f7(0x2ad),_0x2e08f7(0x2cd)+_0x248baa);else await handleError(_0x302f52,'placeOrder()',_0x248baa);}}}if(lastOrders[_0x2e08f7(0x1e0)]!=0x0){lockOrders=!![],validateOrdersState=_0x2e08f7(0x2ca),setTimeout(function(){validateOrders();},0x1388);const _0x204e41=config[_0x2e08f7(0x230)]==_0x2e08f7(0x2d9)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x32b8bb=_0x2e08f7;validateOrders(_0x32b8bb(0x22c));},_0x204e41);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x2e08f7(0x2b0),_0x2e08f7(0x2c7)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x2e08f7(0x241));else lockOrders&&(!config[_0x2e08f7(0x2fa)]&&(config[_0x2e08f7(0x230)]==_0x2e08f7(0x2d9)?logHistory(_0x2e08f7(0x2ad),_0x2e08f7(0x2f9)):logHistory('error',_0x2e08f7(0x2bf))));}}function restoreOrders(){const _0x212d60=_0xac8990;let _0x2aef1c;lockOrders=!![],validateOrdersState='ongoing',currentCoins['forEach'](_0xebbbfd=>{const _0x56368b=_0x4ea4,_0x270f81=allOpenOrders[_0x56368b(0x2eb)](_0x3ecfcc=>_0x3ecfcc[_0x56368b(0x1de)]==_0xebbbfd[_0x56368b(0x1de)]);_0x270f81&&(lastOrders[_0x56368b(0x296)]({'orderId':_0x270f81['id'],'symbol':_0xebbbfd['symbol'],'coin':_0xebbbfd[_0x56368b(0x23d)],'side':_0x270f81['side'],'reverse':_0xebbbfd[_0x56368b(0x2f7)],'amount':_0x270f81['amount'],'filled':0x0,'price':_0x270f81[_0x56368b(0x231)],'fee':_0x270f81[_0x56368b(0x268)]}),_0xebbbfd[_0x56368b(0x240)]=!![],_0x2aef1c=_0x270f81[_0x56368b(0x27b)]);});const _0x15669c=new Date()['getTime'](),_0xedde8e=config[_0x212d60(0x230)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x212d60(0x25f)]*0x3c*0x3e8;if(_0x2aef1c+_0xedde8e>_0x15669c){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3d2570=_0x212d60;validateOrders(_0x3d2570(0x22c));},_0x2aef1c+_0xedde8e-_0x15669c);}else validateOrders(_0x212d60(0x22c));}function sendPortfolioTelegram(){const _0x433a69=_0xac8990,_0x190d33=[_0x433a69(0x28b),_0x433a69(0x2ec),_0x433a69(0x2cc)],_0x251d91=_0x190d33[_0x433a69(0x276)](config[_0x433a69(0x238)])?0x2:0x8;let _0x277ecb='';if(config['showname'])_0x277ecb=config[_0x433a69(0x25a)]+_0x433a69(0x283);else _0x277ecb='Bot\x20'+botID+_0x433a69(0x283);_0x277ecb+=_0x433a69(0x247),_0x277ecb+=_0x433a69(0x2c9),_0x277ecb+='-------------------------------\x0a',currentCoins[_0x433a69(0x24f)](_0x3d30e6=>{const _0x50ef0b=_0x433a69;_0x277ecb+=_0x3d30e6[_0x50ef0b(0x23d)][_0x50ef0b(0x246)](0x7)+'|\x20'+formatPad(_0x3d30e6[_0x50ef0b(0x284)],0x2,0x6)+'|\x20'+formatPad(_0x3d30e6['target'],0x2,0x6)+'|\x20'+formatPad(_0x3d30e6[_0x50ef0b(0x290)]*0x64,0x2,0x6)+'\x0a';}),_0x277ecb+='</pre>',process[_0x433a69(0x1eb)]({'telegrammsg':_0x277ecb},_0x56b84b=>{});}function formatPad(_0x35a8c6,_0xfb326a,_0x13b64c){const _0x5d5c02=_0xac8990,_0x13463f=formatResultString(_0x35a8c6,_0xfb326a);return _0x13463f?_0x13463f[_0x5d5c02(0x22a)](_0x13b64c):''[_0x5d5c02(0x22a)](_0x13b64c);}function logHistory(_0x3fb37f,_0x225d2a,_0xff9ec5=''){const _0x546218=_0xac8990;let _0xf6a4dd={'time':getTimeStamp(),'type':_0x3fb37f,'event':_0x225d2a};dbLogs[_0x546218(0x2a5)](_0x546218(0x1fc))[_0x546218(0x296)](_0xf6a4dd)[_0x546218(0x21b)]();if(_0xff9ec5=='')_0xff9ec5=_0x225d2a;proxyEmit(_0x546218(0x255),{'log':_0xf6a4dd,'summary':_0xff9ec5}),process[_0x546218(0x1eb)]({'telegram':{..._0xf6a4dd,'botname':config[_0x546218(0x25a)],'showname':config[_0x546218(0x2a9)]}},_0x138651=>{}),logging(''+_0xf6a4dd[_0x546218(0x255)]);}function emitHistory(_0x276f9a={}){const _0x4ccf1e=_0xac8990;Object['keys'](_0x276f9a)['length']==0x0&&(_0x276f9a={'type':[_0x4ccf1e(0x240),_0x4ccf1e(0x255)],'event':'','page':0x1});if(_0x276f9a[_0x4ccf1e(0x29c)]['includes'](_0x4ccf1e(0x255)))_0x276f9a[_0x4ccf1e(0x29c)][_0x4ccf1e(0x1fa)](_0x276f9a['type'][_0x4ccf1e(0x300)](_0x4ccf1e(0x255)),0x1,'error',_0x4ccf1e(0x2b0));if(dbLogs[_0x4ccf1e(0x219)](_0x4ccf1e(0x1fc))['value']()){let _0x353774=dbLogs[_0x4ccf1e(0x2a5)](_0x4ccf1e(0x1fc))[_0x4ccf1e(0x23f)](_0x1c8a54=>{const _0x2fcf68=_0x4ccf1e;if(_0x276f9a['type']['length']==0x0)return![];else return _0x276f9a[_0x2fcf68(0x29c)][_0x2fcf68(0x276)](_0x1c8a54['type']);})[_0x4ccf1e(0x23f)](_0x55104c=>{const _0x28eabd=_0x4ccf1e;if(_0x276f9a['event']=='')return!![];else return _0x55104c[_0x28eabd(0x255)][_0x28eabd(0x1e2)]()[_0x28eabd(0x276)](_0x276f9a['event']['toLowerCase']());})[_0x4ccf1e(0x244)]('time'),_0xd6de28=_0x353774[_0x4ccf1e(0x2d4)]()[_0x4ccf1e(0x1e0)];_0x353774=_0x353774[_0x4ccf1e(0x2f7)]()[_0x4ccf1e(0x2fb)]((_0x276f9a[_0x4ccf1e(0x204)]-0x1)*logPageSize,_0x276f9a[_0x4ccf1e(0x204)]*logPageSize-0x1)[_0x4ccf1e(0x2f7)]()[_0x4ccf1e(0x2d4)](),proxyEmit(_0x4ccf1e(0x2e7),{'logs':_0x353774,'total':_0xd6de28});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x85d469){const _0x25f701=_0xac8990;if(dbLogs[_0x25f701(0x219)]('logs')['value']()){const _0x1b6566=dbLogs[_0x25f701(0x2a5)]('logs')[_0x25f701(0x244)]('time')[_0x25f701(0x23f)](_0x387f88=>{const _0x297813=_0x25f701;return _0x387f88[_0x297813(0x29c)]==_0x297813(0x240);})[_0x25f701(0x2d4)]();dbLogs['get'](_0x25f701(0x1fc))[_0x25f701(0x25b)]()[_0x25f701(0x21b)](),dbLogs[_0x25f701(0x2a5)](_0x25f701(0x1fc))[_0x25f701(0x2f5)](_0x1b6566)[_0x25f701(0x21b)](),emitHistory(_0x85d469);}}async function pauseBot(_0x270a9f=''){const _0x357bdb=_0xac8990,_0x42f43b=new Date()[_0x357bdb(0x227)]();if(!lastBotPause)lastBotPause=new Date()[_0x357bdb(0x227)](),consecutivePauses=0x1;else{if(_0x42f43b-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x357bdb(0x1eb)]({'stop':_0x357bdb(0x1c5)},_0x141dd7=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x270a9f)_0x270a9f+=_0x357bdb(0x1c7);logHistory(_0x357bdb(0x2ad),_0x270a9f+_0x357bdb(0x21f)+pauseBotInterval/0xea60+_0x357bdb(0x2cb)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x4bb886=_0xac8990;process['send']({'stop':_0x4bb886(0x1d3)},_0x1ec7a7=>{}),await sleep(0x7d0);}async function handleError(_0x567587,_0x545d5c,_0xde16a5=''){const _0x585d1d=_0xac8990;if(_0x567587[_0x585d1d(0x2e2)]()[_0x585d1d(0x276)]('DDoSProtection'))await pauseBot(_0x585d1d(0x27d));else{if(_0x567587[_0x585d1d(0x2e2)]()['includes'](_0x585d1d(0x2ab)))await pauseBot(_0x585d1d(0x249));else{if(_0x567587[_0x585d1d(0x2e2)]()['includes'](_0x585d1d(0x1cd)))await pauseBot(_0x585d1d(0x24e));else{if(_0x567587[_0x585d1d(0x2e2)]()[_0x585d1d(0x276)](_0x585d1d(0x2a7)))logHistory(_0x585d1d(0x2ad),_0x545d5c+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory('error',_0x585d1d(0x288)),await killBot();else{if(_0x567587[_0x585d1d(0x2e2)]()[_0x585d1d(0x276)](_0x585d1d(0x2c6)))logHistory(_0x585d1d(0x2ad),_0x545d5c+_0x585d1d(0x2b3)),logHistory('error',_0x585d1d(0x288)),await killBot();else{if(_0x567587[_0x585d1d(0x2e2)]()[_0x585d1d(0x276)](_0x585d1d(0x20a)))logHistory(_0x585d1d(0x2ad),_0x545d5c+_0x585d1d(0x257)),logHistory(_0x585d1d(0x2ad),_0x585d1d(0x288)),await killBot();else{if(_0x567587[_0x585d1d(0x2e2)]()[_0x585d1d(0x276)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x585d1d(0x2ad),_0x545d5c+_0x585d1d(0x1cf)),logHistory(_0x585d1d(0x2ad),_0x585d1d(0x288)),await killBot();else{if(_0x567587[_0x585d1d(0x2e2)]()[_0x585d1d(0x276)](_0x585d1d(0x20e)))await pauseBot(_0x585d1d(0x27f)),process[_0x585d1d(0x1eb)]({'stop':_0x585d1d(0x1c5)},_0x11ea03=>{});else _0x567587[_0x585d1d(0x2e2)]()['includes'](_0x585d1d(0x22f))?logHistory(_0x585d1d(0x2ad),_0x545d5c+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0xde16a5):(logging(_0x545d5c+_0x585d1d(0x2bb),_0x567587),await pauseBot(_0x585d1d(0x28a)));}}}}}}}}function formatResult(_0x36dead,_0x1cf2c7){const _0x5a52ac=_0xac8990;return parseFloat(_0x36dead[_0x5a52ac(0x1df)](_0x1cf2c7));}function formatResultTruncate(_0x488d7b,_0x270ebf){const _0x319f06=_0xac8990;let _0x59318f=formatResultString(_0x488d7b,0xa),_0x5c3c24=_0x59318f[_0x319f06(0x300)]('.');return _0x5c3c24!=-0x1&&(_0x59318f=_0x59318f[_0x319f06(0x2fb)](0x0,_0x5c3c24+_0x270ebf+0x1)),Number(_0x59318f);}function formatResultString(_0x3f4789,_0x21c1aa){const _0x598267=_0xac8990;let _0x3f8ea5;if(!(''+_0x3f4789)[_0x598267(0x276)]('e'))_0x3f8ea5=+(Math[_0x598267(0x210)](_0x3f4789+'e+'+_0x21c1aa)+'e-'+_0x21c1aa);else{let _0x1d6ea1=(''+_0x3f4789)['split']('e'),_0x3d23dc='';+_0x1d6ea1[0x1]+_0x21c1aa>0x0&&(_0x3d23dc='+'),_0x3f8ea5=+(Math[_0x598267(0x210)](+_0x1d6ea1[0x0]+'e'+_0x3d23dc+(+_0x1d6ea1[0x1]+_0x21c1aa))+'e-'+_0x21c1aa);}return Number(_0x3f8ea5)[_0x598267(0x1df)](_0x21c1aa);}function logging(_0x39b691,_0x1cbcad=''){const _0x441257=_0xac8990;if(config[_0x441257(0x2a9)])console[_0x441257(0x1e9)](getTimeStamp()+':\x20'+config[_0x441257(0x25a)]+_0x441257(0x1db)+_0x39b691,_0x1cbcad);else console[_0x441257(0x1e9)](getTimeStamp()+_0x441257(0x1e4)+botID+_0x441257(0x1db)+_0x39b691,_0x1cbcad);}function getServerTime(){const _0x4a47c4=_0xac8990,_0x4765c6=new Date();return _0x4765c6[_0x4a47c4(0x2d5)]()+'/'+(_0x4765c6[_0x4a47c4(0x1f4)]()+0x1)[_0x4a47c4(0x2e2)]()[_0x4a47c4(0x22a)](0x2,'0')+'/'+_0x4765c6[_0x4a47c4(0x291)]()[_0x4a47c4(0x2e2)]()[_0x4a47c4(0x22a)](0x2,'0')+'\x20'+_0x4765c6[_0x4a47c4(0x2be)]()[_0x4a47c4(0x2e2)]()[_0x4a47c4(0x22a)](0x2,'0')+':'+_0x4765c6[_0x4a47c4(0x1ef)]()[_0x4a47c4(0x2e2)]()['padStart'](0x2,'0')+':'+_0x4765c6[_0x4a47c4(0x2a3)]()[_0x4a47c4(0x2e2)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x5eb3d4=_0xac8990,_0x12f443=shiftedTime();return _0x12f443[_0x5eb3d4(0x2d5)]()+'/'+(_0x12f443['getMonth']()+0x1)[_0x5eb3d4(0x2e2)]()[_0x5eb3d4(0x22a)](0x2,'0')+'/'+_0x12f443[_0x5eb3d4(0x291)]()[_0x5eb3d4(0x2e2)]()[_0x5eb3d4(0x22a)](0x2,'0')+'\x20'+_0x12f443[_0x5eb3d4(0x2be)]()[_0x5eb3d4(0x2e2)]()['padStart'](0x2,'0')+':'+_0x12f443[_0x5eb3d4(0x1ef)]()[_0x5eb3d4(0x2e2)]()[_0x5eb3d4(0x22a)](0x2,'0')+':'+_0x12f443['getSeconds']()['toString']()[_0x5eb3d4(0x22a)](0x2,'0');}function getDate(){const _0x49d15e=_0xac8990,_0x3f50e6=shiftedTime();return _0x3f50e6[_0x49d15e(0x2d5)]()+'/'+(_0x3f50e6['getMonth']()+0x1)[_0x49d15e(0x2e2)]()[_0x49d15e(0x22a)](0x2,'0')+'/'+_0x3f50e6[_0x49d15e(0x291)]()[_0x49d15e(0x2e2)]()[_0x49d15e(0x22a)](0x2,'0');}function getHour(){const _0x5439e7=_0xac8990,_0x4f9040=shiftedTime();return _0x4f9040[_0x5439e7(0x2be)]()[_0x5439e7(0x2e2)]()['padStart'](0x2,'0');}function sleep(_0x1370bb){return new Promise(_0x2ee2af=>setTimeout(_0x2ee2af,_0x1370bb));}function shiftedTime(){const _0x4ada19=_0xac8990,_0x43ff15=new Date();let _0x5e18ba=_0x43ff15;if(config&&config[_0x4ada19(0x266)]!==0x0)_0x5e18ba=fns[_0x4ada19(0x1e3)](_0x43ff15,{'hours':config[_0x4ada19(0x266)]});return _0x5e18ba;}