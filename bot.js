const _0x54978a=_0x86c3;(function(_0x16ff5b,_0x1b654f){const _0x15cad3=_0x86c3,_0x5e38e4=_0x16ff5b();while(!![]){try{const _0x53702f=-parseInt(_0x15cad3(0x1be))/0x1+parseInt(_0x15cad3(0x23d))/0x2*(-parseInt(_0x15cad3(0x185))/0x3)+parseInt(_0x15cad3(0x27f))/0x4+-parseInt(_0x15cad3(0x1f6))/0x5*(parseInt(_0x15cad3(0x279))/0x6)+parseInt(_0x15cad3(0x189))/0x7*(parseInt(_0x15cad3(0x282))/0x8)+-parseInt(_0x15cad3(0x2a3))/0x9+parseInt(_0x15cad3(0x192))/0xa;if(_0x53702f===_0x1b654f)break;else _0x5e38e4['push'](_0x5e38e4['shift']());}catch(_0x32c5dd){_0x5e38e4['push'](_0x5e38e4['shift']());}}}(_0x258a,0x5b57c));const _0x4cd8f8=function(){let _0x28eb2a=!![];return function(_0x27047f,_0xac4c0d){const _0x5a069a=_0x28eb2a?function(){if(_0xac4c0d){const _0x4887fd=_0xac4c0d['apply'](_0x27047f,arguments);return _0xac4c0d=null,_0x4887fd;}}:function(){};return _0x28eb2a=![],_0x5a069a;};}(),_0x41ba05=_0x4cd8f8(this,function(){const _0x3bb592=_0x86c3;return _0x41ba05['toString']()['search']('(((.+)+)+)+$')[_0x3bb592(0x298)]()[_0x3bb592(0x1b3)](_0x41ba05)['search'](_0x3bb592(0x262));});_0x41ba05();'use strict';const ccxt=require(_0x54978a(0x19b)),low=require(_0x54978a(0x233)),FileSync=require(_0x54978a(0x1d2)),fs=require('fs'),fns=require(_0x54978a(0x223)),{WebsocketClient,DefaultLogger}=require(_0x54978a(0x201)),Crypt=require(_0x54978a(0x1c8))[_0x54978a(0x251)];let exchange,wsClient;global[_0x54978a(0x280)]={};let ws1=[],ws2=null;const exceptions=[_0x54978a(0x18f),_0x54978a(0x29e),_0x54978a(0x25e),'XEM/BUSD',_0x54978a(0x1f2),_0x54978a(0x24e)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};function _0x86c3(_0x266e6c,_0x4c575c){const _0x38c121=_0x258a();return _0x86c3=function(_0x41ba05,_0x4cd8f8){_0x41ba05=_0x41ba05-0x184;let _0x258aa5=_0x38c121[_0x41ba05];return _0x258aa5;},_0x86c3(_0x266e6c,_0x4c575c);}const serverversion=require('./version.json')[_0x54978a(0x241)],botID=process[_0x54978a(0x234)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x54978a(0x273)](botID))return console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x54978a(0x212)),process[_0x54978a(0x221)](0x1);const userID=process[_0x54978a(0x234)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x54978a(0x28f);!fs['existsSync'](configpath)&&fs['mkdirSync'](configpath);const configfile=configpath+_0x54978a(0x1cc)+botID+_0x54978a(0x28e),logfile=configpath+_0x54978a(0x1cc)+botID+_0x54978a(0x28c),performancefile=configpath+_0x54978a(0x1cc)+botID+_0x54978a(0x1a5),coinresultsfile=configpath+_0x54978a(0x1cc)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x54978a(0x208),configbackuppath=configpath+_0x54978a(0x187),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x54978a(0x1bf)]({'logs':[]})[_0x54978a(0x1c2)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0x54978a(0x1c2)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x54978a(0x1bf)]({'bot':[]})[_0x54978a(0x1c2)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x54978a(0x1bf)]({'coins':[]})[_0x54978a(0x1c2)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x54978a(0x290),'symbol':_0x54978a(0x28d)},'usd':{'coin':_0x54978a(0x235),'symbol':_0x54978a(0x29c)}},lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x1b1950)=>{},'debug':(..._0x250677)=>{},'notice':(..._0x202dc7)=>{},'info':(..._0x381858)=>{},'warning':(..._0x5a43dc)=>{},'error':async function(..._0x2ba3fe){const _0x2a2ee0=_0x54978a,_0x32b4c7=new Date()['getTime']();if(!lastErrorShown||_0x32b4c7-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x5ac7a3='';if(_0x2ba3fe[0x0])_0x5ac7a3+=_0x2ba3fe[0x0];if(_0x2ba3fe[0x1]&&_0x2ba3fe[0x1][_0x2a2ee0(0x202)]&&_0x2ba3fe[0x1]['error'][_0x2a2ee0(0x24d)])_0x5ac7a3+=_0x2a2ee0(0x216)+_0x2ba3fe[0x1][_0x2a2ee0(0x202)][_0x2a2ee0(0x24d)];logging(_0x2a2ee0(0x1db)+consecutivePauses+_0x2a2ee0(0x222),''+_0x5ac7a3),await pauseBot(_0x2a2ee0(0x1df));}}},crypt=new Crypt({'md':_0x54978a(0x28b),'rsaStandard':_0x54978a(0x193)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x54978a(0x1fa)]!=config[_0x54978a(0x1fa)]&&updateTimeshift(settings[_0x54978a(0x1fa)]);process[_0x54978a(0x26e)]({'started':'running'},_0x4aee32=>{}),initializeProcessListeners();function proxyEmit(_0x54a8c8,_0x50c7f0=null){process['send']({'function':_0x54a8c8,'args':_0x50c7f0},_0x5c17c7=>{});}function initializeProcessListeners(){const _0x111316=_0x54978a;process['on'](_0x111316(0x24d),_0x45faf7=>{const _0x4482b0=_0x111316;switch(Object[_0x4482b0(0x242)](_0x45faf7)[0x0]){case _0x4482b0(0x1fa):_0x45faf7[_0x4482b0(0x1fa)]!=undefined&&(settings[_0x4482b0(0x1fa)]=_0x45faf7[_0x4482b0(0x1fa)],updateTimeshift(settings[_0x4482b0(0x1fa)]));break;case _0x4482b0(0x20e):switch(_0x45faf7[_0x4482b0(0x20e)]){case _0x4482b0(0x203):initclient();break;case _0x4482b0(0x1f5):emitHistory(_0x45faf7[_0x4482b0(0x261)]);break;case _0x4482b0(0x214):deleteHistoryAlerts(_0x45faf7[_0x4482b0(0x261)]);break;case _0x4482b0(0x22a):getPortfolio(_0x45faf7[_0x4482b0(0x261)]);break;case _0x4482b0(0x1ff):storeConfiguration(_0x45faf7[_0x4482b0(0x261)]);break;case _0x4482b0(0x1de):storeHeadless(_0x45faf7['args']);break;case _0x4482b0(0x297):getStartingBalances(getNormalizedPerformance());break;case _0x4482b0(0x24b):placeOrder(_0x45faf7[_0x4482b0(0x261)]);break;case _0x4482b0(0x1fb):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x1e9c10=_0x54978a;if(pidBalances)clearTimeout(pidBalances);if(config[_0x1e9c10(0x270)]!=''){await initExchange(config['apiKey'],config[_0x1e9c10(0x244)]);let _0x554f0f=await loadSymbols();_0x554f0f&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x11b5e8,_0x10b538){const _0x13314f=_0x54978a,_0x5d0985=ccxt[config[_0x13314f(0x19d)]];let _0x14afa0;switch(config[_0x13314f(0x19d)]){case _0x13314f(0x201):_0x14afa0=_0x13314f(0x238);break;case _0x13314f(0x253):_0x14afa0=_0x13314f(0x1ce);break;default:_0x14afa0=_0x13314f(0x238);}exchange=new _0x5d0985({'apiKey':_0x11b5e8,'secret':_0x10b538,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x11b5e8,'api_secret':_0x10b538,'beautify':!![],'wsUrl':_0x14afa0},logger),config[_0x13314f(0x19d)]==_0x13314f(0x253)&&(stablecoins={'eur':{'coin':_0x13314f(0x29d),'symbol':_0x13314f(0x226)},'usd':{'coin':_0x13314f(0x235),'symbol':_0x13314f(0x29c)}});}async function loadSymbols(){const _0x2c1549=_0x54978a;let _0x2934c3;try{markets=await exchange[_0x2c1549(0x1d5)](),allSymbols=exchange[_0x2c1549(0x286)][_0x2c1549(0x29f)](_0xbdd51d=>{let _0x368825=![];return exceptions['forEach'](_0x338a78=>{const _0x5f31dd=_0x86c3;if(_0xbdd51d[_0x5f31dd(0x197)](_0x338a78))_0x368825=!![];}),!_0x368825;}),_0x2934c3=!![];}catch(_0x575900){await handleError(_0x575900,_0x2c1549(0x231)),_0x2934c3=![];}return _0x2934c3;}async function initbot(){const _0x199b50=_0x54978a;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x5d9efb=dbCoinResults[_0x199b50(0x1c7)](_0x199b50(0x1b1))[_0x199b50(0x19c)]();if(_0x5d9efb[_0x199b50(0x2a1)]==0x0)await resetCoinResults();}async function initclient(){const _0x100821=_0x54978a;proxyEmit(_0x100821(0x1b4),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x100821(0x260),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x29c374=getNormalizedPerformance();emitPerformance(_0x29c374),await getStartingBalances(_0x29c374);}function _0x258a(){const _0x30d728=['buy','loadSymbols()','type','lowdb','argv','BTCUSDT','close','startdate','wss://stream.binance.com:9443','Limit\x20(high-margin)','isEqual','createOrder','remove','14JTdyPt','buys','findIndex','fetchOHLCV','version','keys','API\x20or\x20clock\x20sync\x20issue','apiSecret','executionReport','round','fromCodePoint','usd','getMonth','Order(s)\x20not\x20validated\x20after\x20','placeOrder','sell','message','YOYOW/','\x20minutes\x20-\x20balancing\x20resumed','event','Crypt','ask','binanceus','set','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','\x20|\x20','secure','settings','limit-low','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','target','yyyy/MM/dd\x20HH:mm:ss','fetchOrders','HOT/EUR','abs','balances','args','(((.+)+)+)+$','splice','min','restart','stringify','toLowerCase','eventType','parseISO','cloneDeep','AuthenticationError','valid','\x20|\x20Error\x20details:\x20','send','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','apiKey','portfolio','cancelOrder','test','Invalid\x20quantity','number','BNB','API-key\x20format\x20invalid','InsufficientFunds','510PTGSdi','headless','starting-balance-','order','map','cancelOrder()','2826392NRQvpw','ticker','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','2488uVVDxf','last','USDC','getCoins()','symbols','Binance\x20API\x20key\x20is\x20invalid','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused',':\x20Bot\x20','\x20minutes','sha256','-events.json','BTC/EUR','-config.json','./config/','BTCEUR','currency','shift','timestamp','reverse','coin','basecoin','getStartingBalances','toString','\x20>\x20','cancel','fee','BTC/USDT','BTCBUSD','HOT/BTC','filter','limit-high','length','fetchBalance','2318076DdapPe','trade','286629mxYrBS','format','/backup/','MIN_NOTIONAL','11774CwWxKL','Order\x20filled:\x20','enabled','reconnected','eur','parse','DAI/','getSeconds','realized','8339260kxaUqD','RSA-OAEP','success','\x20order:\x20','limits','includes','excluded','BUSD','\x20|\x20Binance\x20API\x20secret\x20invalid','ccxt','value','exchange','wsMarket','Bot\x20','timeout','userData','push','writeFile','Manual\x20balancing\x20required:\x20','-performance.json','getHours','filled','closeWs','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','asset','accumulatedQuantity','indexOf','remainingSymbols','max','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','coins','entries','constructor','configuration','time','total','orderId','running','add','botname','wsKey','getDate','price','673276IzVHGA','defaults','join','log','write','market','differenceInSeconds','Order(s)\x20validated\x20-\x20balancing\x20resumed','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','get','hybrid-crypto-js','yyyy-MM-dd\x27T\x27HH:mm:ss','cooldown','coinamount','bot-','logs','wss://stream.binance.us:9443','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','toFixed','lowdb/adapters/FileSync','forEach','coin-loading-progress','loadMarkets','sort','placeOrder()','kline','Limit\x20(low-margin)','2.3.5','WebSockets(','isArray','assign','storeHeadless','Binance\x20not\x20available\x20(1)','Order:\x20','startnumber','bot','breakeven','initws()','milliseconds','getTime','event-history','changes','reduce','fetchTickers','orderStatus','threshold','getMinutes','has','getPortfolio()','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','progress','NANO/','Binance\x20not\x20available\x20(2)','find','emitHistory','5285pDozwN','configuration-stored','.json','symbol','timeshift','cancelLoading','spot','page','cost','storeConfiguration','showname','binance','error','initclient','Unfilled\x20order(s)\x20canceled\x20after\x20','distribution','slice','getFiat()','bb-secure.json','datetime','outboundAccountPosition','data','EUR','Pausing\x20for\x20','function','emojisell','offset','performance',',\x20must\x20be\x20a\x203\x20digit\x20number','startprice','deleteHistoryAlerts','availableBalance','\x20-\x20','differenceInCalendarDays','replace','Unknown\x20error\x20occured','liquidity','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','************','limit','kill','formattedMessage','ordertype','exit',')\x20|\x20Error\x20details:\x20','date-fns','getFullYear','padStart','BTC/BUSD','date','amount','eachDayOfInterval','getPortfolio','Binance\x20not\x20responding','InvalidNonce','getCloses()','side','delta'];_0x258a=function(){return _0x30d728;};return _0x258a();}function cleanws(){const _0x372e49=_0x54978a;wsinitialized=![];ws1&&(ws1[_0x372e49(0x1d3)](_0x1aa930=>{const _0x555f9b=_0x372e49;try{wsClient[_0x555f9b(0x1a8)](_0x1aa930);}catch(_0x35f9b7){}}),ws1=[]);if(ws2){try{wsClient[_0x372e49(0x1a8)](ws2);}catch(_0x8fdf85){}ws2=null;}}async function initws(){const _0x2318ac=_0x54978a;cleanws();let _0x3c3d98=[];currentCoins[_0x2318ac(0x1d3)](_0x5bd094=>{const _0xf4888=_0x2318ac;if(_0x5bd094[_0xf4888(0x295)]!=config['basecoin'])_0x3c3d98['push'](noslash(_0x5bd094[_0xf4888(0x1f9)]));});if(!_0x3c3d98['includes'](stablecoins[_0x2318ac(0x18d)][_0x2318ac(0x295)]))_0x3c3d98[_0x2318ac(0x1a2)](stablecoins[_0x2318ac(0x18d)]['coin']);if(!_0x3c3d98[_0x2318ac(0x197)](stablecoins[_0x2318ac(0x248)]['coin']))_0x3c3d98[_0x2318ac(0x1a2)](stablecoins[_0x2318ac(0x248)][_0x2318ac(0x295)]);if(!_0x3c3d98['includes']('BNB'+config['basecoin']))_0x3c3d98['push'](_0x2318ac(0x276)+config[_0x2318ac(0x296)]);try{_0x3c3d98['forEach']((_0xd14631,_0x87947b)=>{ws1[_0x87947b]=wsClient['subscribeSpotKline'](_0xd14631,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x2318ac(0x21f),_0x264710=>{const _0x4026d5=_0x2318ac;if(!Array[_0x4026d5(0x1dc)](_0x264710)&&!_0x264710[_0x4026d5(0x1bb)][_0x4026d5(0x197)](_0x4026d5(0x1a1))){if(_0x264710['eventType']===_0x4026d5(0x1d8)){global[_0x4026d5(0x280)][_0x264710[_0x4026d5(0x1d8)][_0x4026d5(0x1f9)]]=_0x264710[_0x4026d5(0x1d8)][_0x4026d5(0x236)];return;}}else{if(!Array[_0x4026d5(0x1dc)](_0x264710)&&_0x264710[_0x4026d5(0x1bb)]['includes'](_0x4026d5(0x1a1))){if(_0x264710[_0x4026d5(0x19e)][_0x4026d5(0x197)](_0x4026d5(0x1fc))){updateNumberCoins(_0x264710);return;}}}}),wsClient['on'](_0x2318ac(0x18c),async _0x25b3c0=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x5cd979){await handleError(_0x5cd979,_0x2318ac(0x1e4));}let _0x10dda5,_0x2bc4fd=0x0;loading[_0x2318ac(0x1ad)]=[];let _0x5056af=0x0;currentCoins[_0x2318ac(0x1d3)](_0x36df48=>{const _0x3125c0=_0x2318ac;if(_0x36df48[_0x3125c0(0x295)]!=config[_0x3125c0(0x296)])loading[_0x3125c0(0x1ad)][_0x3125c0(0x1a2)](_0x36df48[_0x3125c0(0x1f9)]);}),loadingCanceled=![];while(_0x10dda5!=currentCoins['length']-0x1){_0x10dda5=0x0,currentCoins['forEach'](_0x267b52=>{const _0x40e6ba=_0x2318ac;_0x267b52[_0x40e6ba(0x295)]!=config[_0x40e6ba(0x296)]&&global[_0x40e6ba(0x280)][noslash(_0x267b52['symbol'])]&&(loading[_0x40e6ba(0x1ad)]=loading[_0x40e6ba(0x1ad)]['filter'](_0x3d3447=>_0x3d3447!=_0x267b52[_0x40e6ba(0x1f9)]),_0x10dda5++);}),loading[_0x2318ac(0x1f1)]=Math[_0x2318ac(0x246)](_0x10dda5/(currentCoins[_0x2318ac(0x2a1)]-0x1)*0x64);_0x5056af>0x1e*0x5&&(loading[_0x2318ac(0x1a0)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x2318ac(0x29a)]=!![],emitLoadingProgress();break;}else _0x10dda5!=_0x2bc4fd&&(_0x2bc4fd=_0x10dda5,emitLoadingProgress()),_0x5056af++,await sleep(0xc8);}if(_0x10dda5==currentCoins[_0x2318ac(0x2a1)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x2f592d=_0x54978a;proxyEmit(_0x2f592d(0x1d4),loading);}async function getFiat(){const _0x20e715=_0x54978a;let _0x1664aa=0x0,_0x30ad0b=0x0;try{_0x1664aa=global[_0x20e715(0x280)][stablecoins[_0x20e715(0x18d)][_0x20e715(0x295)]],_0x30ad0b=global[_0x20e715(0x280)][stablecoins[_0x20e715(0x248)][_0x20e715(0x295)]];}catch(_0x463d8a){await handleError(_0x463d8a,_0x20e715(0x207));}return{'eur':Number(_0x1664aa),'usd':Number(_0x30ad0b)};}function setStartDatePerformance(){const _0x58c10e=_0x54978a;if(config&&config[_0x58c10e(0x21a)][0x0]['changes'][_0x58c10e(0x2a1)]!=0x0){const _0x4bda42=config[_0x58c10e(0x21a)][0x0][_0x58c10e(0x1e8)];dbPerformance[_0x58c10e(0x1c7)](_0x58c10e(0x20b))['find']({'date':config[_0x58c10e(0x237)]})[_0x58c10e(0x1dd)]({'coins':_0x4bda42})[_0x58c10e(0x1c2)]();}}async function recreateHistory(_0x32ec51){const _0x295b9e=_0x54978a;let _0x1b4288,_0xcd948a=[];logHistory('success',_0x295b9e(0x26f)),_0x32ec51[_0x295b9e(0x271)][_0x295b9e(0x1d3)](_0x534c26=>{const _0x264d3e=_0x295b9e;if(_0x534c26['coin']!=config[_0x264d3e(0x296)]&&!_0x534c26[_0x264d3e(0x198)])_0xcd948a['push']({'coin':_0x534c26[_0x264d3e(0x295)],'symbol':_0x534c26[_0x264d3e(0x1f9)]});});let _0x3a33b8=[];try{const _0x769f45=fns[_0x295b9e(0x186)](fns[_0x295b9e(0x269)](_0x32ec51[_0x295b9e(0x237)][_0x295b9e(0x218)](/\//g,'-')),_0x295b9e(0x1c9));for(const _0xbf54a4 of _0xcd948a){if(_0xbf54a4[_0x295b9e(0x295)]!=config[_0x295b9e(0x296)])_0x1b4288=await exchange[_0x295b9e(0x25d)](_0xbf54a4['symbol'],Date[_0x295b9e(0x18e)](_0x769f45));_0x1b4288[_0x295b9e(0x1d3)](_0x2be7ef=>{const _0x5b794d=_0x295b9e,_0x3c7f0f=_0xbf54a4[_0x5b794d(0x1f9)][_0x5b794d(0x197)](config[_0x5b794d(0x296)]+'/'),_0xa7c02=fns[_0x5b794d(0x186)](fns[_0x5b794d(0x269)](_0x2be7ef[_0x5b794d(0x209)]),_0x5b794d(0x25c)),_0x281325=fns[_0x5b794d(0x186)](fns[_0x5b794d(0x269)](_0x2be7ef['datetime']),'yyyy/MM/dd');let _0x588db8;if(_0x2be7ef['side']==_0x5b794d(0x230)&&_0x3c7f0f==![])_0x588db8=_0x2be7ef[_0x5b794d(0x228)];if(_0x2be7ef[_0x5b794d(0x22e)]==_0x5b794d(0x230)&&_0x3c7f0f==!![])_0x588db8=-_0x2be7ef[_0x5b794d(0x228)]*_0x2be7ef['price'];if(_0x2be7ef[_0x5b794d(0x22e)]==_0x5b794d(0x24c)&&_0x3c7f0f==![])_0x588db8=-_0x2be7ef[_0x5b794d(0x228)];if(_0x2be7ef[_0x5b794d(0x22e)]==_0x5b794d(0x24c)&&_0x3c7f0f==!![])_0x588db8=_0x2be7ef[_0x5b794d(0x228)]*_0x2be7ef['price'];_0x3a33b8['push']({'timestamp':_0xa7c02,'date':_0x281325,'coin':_0xbf54a4[_0x5b794d(0x295)],'symbol':_0xbf54a4[_0x5b794d(0x1f9)],'type':_0x2be7ef['type'],'side':_0x2be7ef[_0x5b794d(0x22e)],'reverse':_0x3c7f0f,'amount':formatResult(_0x2be7ef['filled'],0x8),'filled':formatResult(_0x2be7ef[_0x5b794d(0x1a7)],0x8),'coinamount':formatResult(_0x588db8,0x8),'price':formatResult(_0x2be7ef['price'],0x8)});let _0x5b3449;if(_0x2be7ef['side']==_0x5b794d(0x230)&&_0x3c7f0f==![])_0x5b3449=-_0x2be7ef[_0x5b794d(0x228)]*_0x2be7ef[_0x5b794d(0x1bd)];if(_0x2be7ef[_0x5b794d(0x22e)]==_0x5b794d(0x230)&&_0x3c7f0f==!![])_0x5b3449=_0x2be7ef[_0x5b794d(0x228)];if(_0x2be7ef[_0x5b794d(0x22e)]==_0x5b794d(0x24c)&&_0x3c7f0f==![])_0x5b3449=_0x2be7ef['amount']*_0x2be7ef['price'];if(_0x2be7ef['side']==_0x5b794d(0x24c)&&_0x3c7f0f==!![])_0x5b3449=-_0x2be7ef[_0x5b794d(0x228)];_0x3a33b8[_0x5b794d(0x1a2)]({'date':_0x281325,'coin':config[_0x5b794d(0x296)],'coinamount':formatResult(_0x5b3449,0x8)});});}_0x3a33b8['sort']((_0x2d3502,_0x1d8f09)=>_0x2d3502['timestamp']>_0x1d8f09['timestamp']?0x1:_0x1d8f09[_0x295b9e(0x293)]>_0x2d3502[_0x295b9e(0x293)]?-0x1:0x0),dbLogs[_0x295b9e(0x1c7)](_0x295b9e(0x1cd))[_0x295b9e(0x23c)]()[_0x295b9e(0x1c2)](),_0x3a33b8['forEach'](_0x43e08e=>{const _0x48e30b=_0x295b9e;let _0x267f6e;_0x43e08e[_0x48e30b(0x295)]!=config['basecoin']&&(_0x267f6e={'time':_0x43e08e[_0x48e30b(0x293)],'type':_0x48e30b(0x27c),'event':_0x48e30b(0x1e0)+_0x43e08e['symbol']+'\x20'+_0x43e08e[_0x48e30b(0x22e)]+'\x20#'+_0x43e08e[_0x48e30b(0x228)]+'\x20@'+_0x43e08e[_0x48e30b(0x1bd)]},dbLogs[_0x48e30b(0x1c7)](_0x48e30b(0x1cd))[_0x48e30b(0x1a2)](_0x267f6e)[_0x48e30b(0x1c2)]());});const _0x3fe070=fns[_0x295b9e(0x229)]({'start':new Date(_0x32ec51[_0x295b9e(0x237)]),'end':new Date()})[_0x295b9e(0x27d)](_0x3a1168=>fns[_0x295b9e(0x186)](_0x3a1168,'yyyy/MM/dd'));let _0x2a5550=[];_0x32ec51[_0x295b9e(0x271)][_0x295b9e(0x1d3)](_0x58c7e2=>{const _0x31374e=_0x295b9e;if(!_0x58c7e2[_0x31374e(0x198)]){_0x2a5550[_0x58c7e2[_0x31374e(0x295)]]=[];let _0x51078b=_0x58c7e2[_0x31374e(0x1e1)];_0x3fe070[_0x31374e(0x1d3)]((_0x13fd15,_0x7d8107)=>{const _0x2ea757=_0x31374e;let _0xb98035=_0x3a33b8[_0x2ea757(0x29f)](_0x44a625=>_0x44a625[_0x2ea757(0x295)]==_0x58c7e2[_0x2ea757(0x295)]&&_0x44a625['date']==_0x13fd15);if(_0xb98035[_0x2ea757(0x2a1)]!=0x0){let _0x494695=_0xb98035[_0x2ea757(0x1e9)]((_0x121c47,_0x2b982a)=>{const _0x2e6dc7=_0x2ea757;return _0x121c47+=_0x2b982a[_0x2e6dc7(0x1cb)],_0x121c47;},0x0);_0x51078b+=_0x494695;}_0x2a5550[_0x58c7e2[_0x2ea757(0x295)]][_0x13fd15]=_0x51078b;});}});const _0x2612a6=[..._0xcd948a];_0x2612a6[_0x295b9e(0x1a2)]({'coin':stablecoins[_0x295b9e(0x18d)][_0x295b9e(0x295)],'symbol':stablecoins['eur']['symbol']}),_0x2612a6[_0x295b9e(0x1a2)]({'coin':stablecoins[_0x295b9e(0x248)][_0x295b9e(0x295)],'symbol':stablecoins[_0x295b9e(0x248)][_0x295b9e(0x1f9)]});let _0x487b06=[];for(const _0x88da4b of _0x2612a6){_0x487b06[_0x88da4b[_0x295b9e(0x295)]]=await getCloses(_0x88da4b[_0x295b9e(0x1f9)],new Date(_0x32ec51['startdate']));}dbPerformance[_0x295b9e(0x1c7)](_0x295b9e(0x20b))[_0x295b9e(0x23c)]()['write'](),_0x3fe070[_0x295b9e(0x1d3)]((_0x3042d3,_0x2696e8)=>{const _0x48f345=_0x295b9e;let _0x2fb7b6,_0x31f89a=[];_0x2696e8==0x0?(_0x32ec51[_0x48f345(0x271)]['forEach'](_0x91cdf4=>{const _0x2ea658=_0x48f345;!_0x91cdf4[_0x2ea658(0x198)]&&_0x31f89a[_0x2ea658(0x1a2)]({'coin':_0x91cdf4[_0x2ea658(0x295)],'number':_0x91cdf4[_0x2ea658(0x1e1)],'price':_0x91cdf4[_0x2ea658(0x213)]});}),_0x2fb7b6={'date':_0x3042d3,'eur':_0x487b06[stablecoins['eur'][_0x48f345(0x295)]][_0x2696e8],'usd':_0x487b06[stablecoins[_0x48f345(0x248)][_0x48f345(0x295)]][_0x2696e8],'coins':_0x31f89a}):(_0x32ec51[_0x48f345(0x271)][_0x48f345(0x1d3)](_0x3bbfc5=>{const _0x2d5656=_0x48f345;!_0x3bbfc5[_0x2d5656(0x198)]&&_0x31f89a[_0x2d5656(0x1a2)]({'coin':_0x3bbfc5[_0x2d5656(0x295)],'number':_0x2a5550[_0x3bbfc5['coin']][_0x3042d3],'price':_0x3bbfc5[_0x2d5656(0x295)]==config['basecoin']?0x1:_0x487b06[_0x3bbfc5['coin']][_0x2696e8]});}),_0x2fb7b6={'date':_0x3042d3,'eur':_0x487b06[stablecoins['eur'][_0x48f345(0x295)]][_0x2696e8],'usd':_0x487b06[stablecoins['usd']['coin']][_0x2696e8],'coins':_0x31f89a}),dbPerformance[_0x48f345(0x1c7)]('data')['push'](_0x2fb7b6)[_0x48f345(0x1c2)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x8b1e0c of _0x3a33b8){_0x8b1e0c[_0x295b9e(0x295)]!=config[_0x295b9e(0x296)]&&await updateCoinResults(_0x8b1e0c);}logHistory(_0x295b9e(0x194),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x3b614b){await handleError(_0x3b614b,'recreateHistory()');}}async function getCloses(_0x2265ad,_0x2281ec,_0x49400b=undefined){const _0x430842=_0x54978a,_0x58e6d5='1d';let _0x3e48b8,_0x1bc793;const _0x9d719c=fns[_0x430842(0x217)](new Date(),_0x2281ec)+0x1;try{const _0x58e9bc=exchange[_0x430842(0x1e5)]()-_0x9d719c*0x18*0xe10*0x3e8;_0x3e48b8=await exchange[_0x430842(0x240)](_0x2265ad,_0x58e6d5,_0x58e9bc,_0x49400b),_0x1bc793=await exchange[_0x430842(0x1ea)](_0x2265ad);}catch(_0x26ddab){await handleError(_0x26ddab,_0x430842(0x22d));}let _0x1f414e=ohlcvToCloses(_0x3e48b8);return _0x1f414e['push'](_0x1bc793[_0x2265ad][_0x430842(0x283)]),_0x1f414e;}function ohlcvToCloses(_0x5f25da){const _0x46add0=_0x54978a;let _0x5f15af=[];return _0x5f25da[_0x46add0(0x1d3)](function(_0x348e8d){const _0x1f8068=_0x46add0;_0x5f15af[_0x1f8068(0x1a2)](_0x348e8d[0x4]);}),_0x5f15af;}function oneTimeMigration(){const _0x2f2b7b=_0x54978a;let _0x14a768=dbLogs[_0x2f2b7b(0x1c7)](_0x2f2b7b(0x241))[_0x2f2b7b(0x19c)]();if(_0x14a768!=_0x2f2b7b(0x1da)){dbLogs[_0x2f2b7b(0x254)]('version','2.3.5')[_0x2f2b7b(0x1c2)]();let _0x16721a=[];const _0x414288=dbLogs[_0x2f2b7b(0x1c7)](_0x2f2b7b(0x1cd))[_0x2f2b7b(0x19c)]();_0x414288[_0x2f2b7b(0x1d3)](_0x51c159=>{const _0x57fd3a=_0x2f2b7b;_0x16721a[_0x57fd3a(0x1a2)]({'time':_0x51c159[_0x57fd3a(0x1b5)],'type':_0x51c159['type'],'event':_0x51c159['event']});}),dbLogs['get'](_0x2f2b7b(0x1cd))[_0x2f2b7b(0x1dd)](_0x16721a)['write']();}let _0x4242c1=dbConfig['get']('version')[_0x2f2b7b(0x19c)]();if(_0x4242c1!='2.3.5'){dbConfig[_0x2f2b7b(0x254)](_0x2f2b7b(0x241),'2.3.5')[_0x2f2b7b(0x1c2)]();let _0x11a2ce=dbConfig[_0x2f2b7b(0x1c7)](_0x2f2b7b(0x1e2))[_0x2f2b7b(0x1f4)]({'botID':botID})[_0x2f2b7b(0x19c)]();if(_0x11a2ce){let _0x3e1d5e=[];_0x11a2ce[_0x2f2b7b(0x271)][_0x2f2b7b(0x1d3)](_0x429196=>{const _0x5a57fe=_0x2f2b7b;_0x3e1d5e[_0x5a57fe(0x1a2)]({'coin':_0x429196[_0x5a57fe(0x295)],'number':_0x429196['startnumber'],'price':_0x429196[_0x5a57fe(0x213)]}),delete _0x429196['startnumber'],delete _0x429196[_0x5a57fe(0x213)];});if(_0x3e1d5e['length']!==0x0)fs[_0x2f2b7b(0x1a3)](configbackuppath+(_0x2f2b7b(0x27b)+botID+_0x2f2b7b(0x1f8)),JSON[_0x2f2b7b(0x266)](_0x3e1d5e,null,0x4),function(_0x1d9f71){if(_0x1d9f71){}});const _0x592df3=(_0x58a342,_0x1be8e5)=>{const _0x524e8f=_0x2f2b7b;let _0x3b48bd=[];_0x1be8e5['forEach'](_0x33ac7d=>{const _0x135885=_0x86c3,_0x1b296b=_0x58a342[_0x135885(0x1f4)](_0x86ceac=>_0x86ceac['coin']==_0x33ac7d['coin']);if(!_0x1b296b)_0x3b48bd[_0x135885(0x1a2)](_0x33ac7d);});let _0x5dc219=[];return _0x58a342[_0x524e8f(0x1d3)](_0x79fa79=>{const _0x474d3e=_0x524e8f,_0x1a0874=_0x1be8e5[_0x474d3e(0x1f4)](_0x5746d4=>_0x5746d4[_0x474d3e(0x295)]==_0x79fa79[_0x474d3e(0x295)]);if(!_0x1a0874||_0x1a0874['number']==0x0&&_0x79fa79[_0x474d3e(0x275)]!=0x0)_0x5dc219['push'](_0x79fa79);}),{'missingDay1':_0x3b48bd,'notInDay2':_0x5dc219};},_0x4c6d7=dbPerformance['get'](_0x2f2b7b(0x20b))[_0x2f2b7b(0x26a)]()['value']();if(_0x4c6d7[_0x2f2b7b(0x2a1)]>0x1){const {missingDay1:_0x574bad,notInDay2:_0x2a7b5b}=_0x592df3(_0x3e1d5e,_0x4c6d7[0x1][_0x2f2b7b(0x1b1)]);_0x3e1d5e=[..._0x3e1d5e,..._0x574bad],_0x2a7b5b[_0x2f2b7b(0x1d3)](_0x54715a=>{const _0x487cf7=_0x2f2b7b;let _0x5af81a=_0x3e1d5e[_0x487cf7(0x23f)](_0x4caaa5=>_0x4caaa5[_0x487cf7(0x295)]==_0x54715a[_0x487cf7(0x295)]);_0x5af81a!=-0x1&&_0x3e1d5e['splice'](_0x5af81a,0x1);});}_0x3e1d5e['sort']((_0x27c2de,_0x5d9f6d)=>_0x27c2de[_0x2f2b7b(0x295)]>_0x5d9f6d[_0x2f2b7b(0x295)]?0x1:_0x5d9f6d['coin']>_0x27c2de['coin']?-0x1:0x0);let _0x15b887=[{'date':_0x11a2ce[_0x2f2b7b(0x237)],'changes':_0x3e1d5e}];_0x4c6d7['length']>0x2&&_0x4c6d7[_0x2f2b7b(0x1d3)]((_0x374871,_0x40fd90)=>{const _0x432a43=_0x2f2b7b;if(_0x40fd90>0x0&&_0x40fd90<_0x4c6d7['length']-0x1){const {missingDay1:_0x28bd36,notInDay2:_0x6f1be7}=_0x592df3(_0x4c6d7[_0x40fd90][_0x432a43(0x1b1)],_0x4c6d7[_0x40fd90+0x1][_0x432a43(0x1b1)]);_0x3e1d5e=[],(_0x28bd36[_0x432a43(0x2a1)]!=0x0||_0x6f1be7[_0x432a43(0x2a1)]!=0x0)&&(_0x28bd36[_0x432a43(0x2a1)]!=0x0&&_0x3e1d5e[_0x432a43(0x1a2)](..._0x28bd36),_0x6f1be7['length']!=0x0&&(_0x6f1be7['forEach'](_0x2de447=>{const _0x2dec50=_0x432a43;_0x2de447[_0x2dec50(0x275)]=-_0x2de447[_0x2dec50(0x275)];}),_0x3e1d5e['push'](..._0x6f1be7)),_0x3e1d5e[_0x432a43(0x1d6)]((_0x5604d6,_0x1f7325)=>_0x5604d6['coin']>_0x1f7325['coin']?0x1:_0x1f7325[_0x432a43(0x295)]>_0x5604d6[_0x432a43(0x295)]?-0x1:0x0),_0x15b887[_0x432a43(0x1a2)]({'date':_0x4c6d7[_0x40fd90+0x1][_0x432a43(0x227)],'changes':_0x3e1d5e}));}}),dbConfig['get'](_0x2f2b7b(0x1e2))[_0x2f2b7b(0x1f4)]({'botID':botID})[_0x2f2b7b(0x1dd)]({..._0x11a2ce,'liquidity':_0x15b887})[_0x2f2b7b(0x1c2)]();}}config=getConfiguration(botID);let _0x3f53d9=dbPerformance[_0x2f2b7b(0x1c7)]('version')[_0x2f2b7b(0x19c)]();_0x3f53d9!=_0x2f2b7b(0x1da)&&(dbPerformance[_0x2f2b7b(0x254)](_0x2f2b7b(0x241),'2.3.5')[_0x2f2b7b(0x1c2)](),setStartDatePerformance());let _0x243b97=dbCoinResults['get'](_0x2f2b7b(0x241))[_0x2f2b7b(0x19c)]();_0x243b97!=_0x2f2b7b(0x1da)&&dbCoinResults[_0x2f2b7b(0x254)](_0x2f2b7b(0x241),'2.3.5')[_0x2f2b7b(0x1c2)]();}function getConfiguration(_0x5d9077){const _0x3b1fb3=_0x54978a;let _0xc88d3=dbConfig['get'](_0x3b1fb3(0x1e2))[_0x3b1fb3(0x1f4)]({'botID':_0x5d9077})['value']();if(_0xc88d3){}else _0xc88d3={'botID':_0x5d9077,'exchange':_0x3b1fb3(0x201),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x3b1fb3(0x19f)+_0x5d9077,'showname':![],'threshold':'3','ordertype':_0x3b1fb3(0x1c3),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0xc88d3;}function emittedConfiguration(){const _0x34eded=_0x54978a;let _0x4ddf0f;return config['apiKey']==''?_0x4ddf0f=config:_0x4ddf0f={...config,'apiKey':_0x34eded(0x21c),'apiSecret':_0x34eded(0x21c)},_0x4ddf0f;}function getSettings(){const _0x4e060e=_0x54978a;return dbSettings[_0x4e060e(0x1c7)](_0x4e060e(0x258))[_0x4e060e(0x19c)]();}function getSecure(){const _0x3ca72b=_0x54978a;return dbSecure[_0x3ca72b(0x1c7)](_0x3ca72b(0x257))['value']()||{};}function updateTimeshift(_0x4f2b2a){const _0x5f281a=_0x54978a;let _0x4d3444=dbConfig[_0x5f281a(0x1c7)](_0x5f281a(0x1e2))[_0x5f281a(0x1f4)]({'botID':botID})[_0x5f281a(0x19c)]();_0x4d3444&&dbConfig[_0x5f281a(0x1c7)]('bot')[_0x5f281a(0x1f4)]({'botID':botID})[_0x5f281a(0x1dd)]({'timeshift':_0x4f2b2a})['write'](),config['timeshift']=_0x4f2b2a,proxyEmit(_0x5f281a(0x1b4),emittedConfiguration());}async function storeConfiguration(_0x52f1a1){const _0x4f9c36=_0x54978a;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x19d7de=dbConfig['get'](_0x4f9c36(0x1e2))[_0x4f9c36(0x1f4)]({'botID':botID})['value']();_0x52f1a1={..._0x52f1a1,'apiKey':crypt['decrypt'](secure['privateKey'],_0x52f1a1['apiKey'])[_0x4f9c36(0x24d)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x52f1a1[_0x4f9c36(0x244)])[_0x4f9c36(0x24d)]};if(_0x19d7de){if(_0x52f1a1['apiKey']==_0x4f9c36(0x21c))_0x52f1a1['apiKey']=config[_0x4f9c36(0x270)];if(_0x52f1a1[_0x4f9c36(0x244)]==_0x4f9c36(0x21c))_0x52f1a1[_0x4f9c36(0x244)]=config['apiSecret'];dbConfig['get'](_0x4f9c36(0x1e2))['find']({'botID':botID})[_0x4f9c36(0x1dd)](_0x52f1a1)[_0x4f9c36(0x1c2)]();}else dbConfig[_0x4f9c36(0x1c7)](_0x4f9c36(0x1e2))[_0x4f9c36(0x1a2)](_0x52f1a1)[_0x4f9c36(0x1c2)](),process[_0x4f9c36(0x26e)]({'status':_0x4f9c36(0x18b),'live':_0x4f9c36(0x1b8)},_0x18bfaf=>{});config={..._0x52f1a1},setStartDatePerformance(),process[_0x4f9c36(0x26e)]({'botname':_0x52f1a1[_0x4f9c36(0x1ba)]},_0x1e3685=>{});const _0x4cce95=getNormalizedPerformance();getStartingBalances(_0x4cce95),emitPerformance(_0x4cce95),proxyEmit(_0x4f9c36(0x1f7)),reset();}async function storeHeadless(_0x1efce3){const _0x140d64=_0x54978a,_0x5c06b1={...config,'headless':_0x1efce3['headless']};let _0x3420de=dbConfig[_0x140d64(0x1c7)](_0x140d64(0x1e2))[_0x140d64(0x1f4)]({'botID':botID})[_0x140d64(0x19c)]();_0x3420de&&dbConfig['get'](_0x140d64(0x1e2))[_0x140d64(0x1f4)]({'botID':botID})[_0x140d64(0x1dd)](_0x5c06b1)[_0x140d64(0x1c2)](),config={..._0x5c06b1},proxyEmit(_0x140d64(0x1b4),emittedConfiguration());}function noslash(_0xb4ee24){return _0xb4ee24['replace']('/','');}function updateNumberCoins(_0x1132d1){const _0x114478=_0x54978a;_0x1132d1[_0x114478(0x268)]&&_0x1132d1[_0x114478(0x268)]==_0x114478(0x20a)&&_0x1132d1[_0x114478(0x260)][_0x114478(0x1d3)](_0x2c2f0e=>{const _0x21be8c=_0x114478;let _0x4dea7a=currentCoins['find'](_0x28d10c=>_0x28d10c[_0x21be8c(0x295)]==_0x2c2f0e[_0x21be8c(0x1aa)]),_0x52bdab=config[_0x21be8c(0x271)]['find'](_0x4773ea=>_0x4773ea['coin']==_0x2c2f0e['asset']);if(_0x4dea7a&&_0x52bdab)_0x4dea7a[_0x21be8c(0x275)]=Math[_0x21be8c(0x1ae)](Number(_0x2c2f0e[_0x21be8c(0x215)])+(_0x52bdab['offset']||0x0),0x0);});if(_0x1132d1[_0x114478(0x268)]&&_0x1132d1[_0x114478(0x268)]==_0x114478(0x245)){if(_0x1132d1['orderType']=='LIMIT'&&_0x1132d1[_0x114478(0x1eb)]=='FILLED'){if(lastOrders)lastOrders[_0x114478(0x1d3)](_0x3dda20=>{const _0x1fae8a=_0x114478;if(_0x3dda20[_0x1fae8a(0x1b7)]==_0x1132d1[_0x1fae8a(0x1b7)]){if(_0x3dda20[_0x1fae8a(0x294)])_0x3dda20[_0x1fae8a(0x1a7)]=_0x1132d1['accumulatedQuantity']*_0x3dda20[_0x1fae8a(0x1bd)];else _0x3dda20[_0x1fae8a(0x1a7)]=_0x1132d1[_0x1fae8a(0x1ab)];}});}}}async function getCoins(_0x5ccd59=!![],_0x39efc6=config[_0x54978a(0x296)]){const _0x2fd448=_0x54978a;let _0x513f8d,_0x5d1e21=[],_0x456312=[],_0x3304c4=[];try{_0x513f8d=await exchange[_0x2fd448(0x2a2)](),mybalances=_0x513f8d[_0x2fd448(0x1b6)];if(!_0x5ccd59)for(const [_0x4347d7,_0x2791dc]of Object[_0x2fd448(0x1b2)](mybalances)){_0x3304c4[_0x2fd448(0x1a2)](_0x4347d7);}else config[_0x2fd448(0x271)][_0x2fd448(0x1d3)](_0x36faa2=>{const _0x31b4d7=_0x2fd448;if(!_0x36faa2[_0x31b4d7(0x198)])_0x3304c4[_0x31b4d7(0x1a2)](_0x36faa2['coin']);});if(_0x39efc6=='')for(const [_0x2d5940,_0x16b6ca]of Object[_0x2fd448(0x1b2)](mybalances)){_0x16b6ca['toString']()!=0x0&&_0x456312[_0x2fd448(0x1a2)]({'coin':_0x2d5940});}else for(const [_0xc11394,_0x165c5a]of Object[_0x2fd448(0x1b2)](mybalances)){if(_0x3304c4[_0x2fd448(0x197)](_0xc11394)){const _0x2c0042=config[_0x2fd448(0x271)]['find'](_0x169fd9=>_0x169fd9['coin']==_0xc11394);if((_0x165c5a[_0x2fd448(0x298)]()!=0x0||_0x2c0042)&&(allSymbols['includes'](_0xc11394+'/'+_0x39efc6)||_0xc11394==_0x39efc6))_0x456312[_0x2fd448(0x1a2)]({'coin':_0xc11394,'symbol':_0xc11394+'/'+_0x39efc6,'reverse':![],'number':Math['max'](_0x165c5a+(_0x2c0042&&_0x2c0042[_0x2fd448(0x210)]||0x0),0x0)}),_0xc11394!=_0x39efc6&&_0x5d1e21[_0x2fd448(0x1a2)](_0xc11394+'/'+_0x39efc6);else(_0x165c5a[_0x2fd448(0x298)]()!=0x0||_0x2c0042)&&allSymbols['includes'](_0x39efc6+'/'+_0xc11394)&&(_0x456312[_0x2fd448(0x1a2)]({'coin':_0xc11394,'symbol':_0x39efc6+'/'+_0xc11394,'reverse':!![],'number':Math[_0x2fd448(0x1ae)](_0x165c5a+(_0x2c0042&&_0x2c0042[_0x2fd448(0x210)]||0x0),0x0)}),_0xc11394!=_0x39efc6&&_0x5d1e21[_0x2fd448(0x1a2)](_0x39efc6+'/'+_0xc11394));}}}catch(_0xa37439){if(!_0x5ccd59){if(_0xa37439[_0x2fd448(0x298)]()['includes'](_0x2fd448(0x277)))return logHistory(_0x2fd448(0x202),_0x2fd448(0x287)),![];else{if(_0xa37439[_0x2fd448(0x298)]()[_0x2fd448(0x197)](_0x2fd448(0x26b)))return logHistory(_0x2fd448(0x202),_0x2fd448(0x1b0)),![];else{if(_0xa37439[_0x2fd448(0x298)]()[_0x2fd448(0x197)](_0x2fd448(0x1cf)))return logHistory(_0x2fd448(0x202),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0xa37439,_0x2fd448(0x285));}}}else await handleError(_0xa37439,_0x2fd448(0x285));}return _0x456312;}async function getPortfolio(_0x18b5c8){const _0x59c8f7=_0x54978a;let _0x159b0f=[],_0x5b2cc4=[],_0x466327,_0x539ff1=[],_0x50f6f9,_0x5e7315;_0x18b5c8[_0x59c8f7(0x270)]===_0x59c8f7(0x21c)||_0x18b5c8['apiSecret']===_0x59c8f7(0x21c)?(_0x50f6f9=config[_0x59c8f7(0x270)],_0x5e7315=config['apiSecret']):(_0x50f6f9=_0x18b5c8[_0x59c8f7(0x270)],_0x5e7315=_0x18b5c8['apiSecret']);await initExchange(_0x50f6f9,_0x5e7315);let _0x4400f7=await loadSymbols();if(_0x4400f7){_0x539ff1=await getCoins(![],_0x18b5c8[_0x59c8f7(0x296)]);if(_0x539ff1===![])proxyEmit(_0x59c8f7(0x271),![]);else{if(_0x18b5c8['basecoin']=='')proxyEmit(_0x59c8f7(0x271),_0x539ff1);else{_0x539ff1[_0x59c8f7(0x1d3)](_0x302a81=>{const _0x50f78f=_0x59c8f7;_0x159b0f[_0x50f78f(0x1a2)](_0x302a81[_0x50f78f(0x1f9)]);});try{_0x5b2cc4=await exchange[_0x59c8f7(0x1ea)](_0x159b0f);}catch(_0x447159){await handleError(_0x447159,_0x59c8f7(0x1ef));}_0x539ff1[_0x59c8f7(0x1d3)](_0x3acd36=>{const _0x5b360d=_0x59c8f7;_0x3acd36[_0x5b360d(0x295)]!=_0x18b5c8[_0x5b360d(0x296)]?_0x466327=_0x3acd36[_0x5b360d(0x294)]?0x1/_0x5b2cc4[_0x3acd36[_0x5b360d(0x1f9)]]['last']:_0x5b2cc4[_0x3acd36['symbol']][_0x5b360d(0x283)]:_0x466327=0x1,_0x3acd36[_0x5b360d(0x1bd)]=formatResult(_0x466327,0x8);}),proxyEmit('portfolio',_0x539ff1);}}}else proxyEmit(_0x59c8f7(0x271),![]);}function checkMinimums(_0x5f03ee){const _0x46341f=_0x54978a;let _0x3c9b4a=!![];const _0x478139=!_0x5f03ee['reverse']?markets[_0x5f03ee[_0x46341f(0x1f9)]][_0x46341f(0x196)][_0x46341f(0x228)][_0x46341f(0x264)]:markets[_0x5f03ee[_0x46341f(0x1f9)]]['limits'][_0x46341f(0x1fe)][_0x46341f(0x264)],_0x4f68d5=!_0x5f03ee[_0x46341f(0x294)]?markets[_0x5f03ee[_0x46341f(0x1f9)]][_0x46341f(0x196)][_0x46341f(0x1fe)]['min']:markets[_0x5f03ee[_0x46341f(0x1f9)]][_0x46341f(0x196)][_0x46341f(0x228)]['min'];if(Math[_0x46341f(0x25f)](_0x5f03ee['trade'])<_0x478139)_0x3c9b4a=![];if(Math[_0x46341f(0x25f)](_0x5f03ee[_0x46341f(0x184)])*_0x5f03ee[_0x46341f(0x283)]<_0x4f68d5)_0x3c9b4a=![];if(_0x5f03ee['side']==_0x46341f(0x24c)){let _0x599b36=config[_0x46341f(0x271)][_0x46341f(0x1f4)](_0x56e457=>_0x56e457['coin']==_0x5f03ee[_0x46341f(0x295)]);if(Math[_0x46341f(0x25f)](_0x5f03ee[_0x46341f(0x184)])>_0x5f03ee[_0x46341f(0x275)]-_0x599b36[_0x46341f(0x210)])_0x3c9b4a=![];}return _0x3c9b4a;}async function getBalances(){const _0x48db23=_0x54978a;let _0x4d353f=0x0,_0x345047;const _0x59d961=config[_0x48db23(0x1ec)];currentCoins[_0x48db23(0x1d3)](_0x1ee5c9=>{const _0x4e6728=_0x48db23;if(_0x1ee5c9[_0x4e6728(0x295)]!=config[_0x4e6728(0x296)]){let _0x8c2225=global[_0x4e6728(0x280)][noslash(_0x1ee5c9[_0x4e6728(0x1f9)])];_0x345047=_0x1ee5c9[_0x4e6728(0x294)]?0x1/_0x8c2225:_0x8c2225;}else _0x345047=0x1;let _0x118a1a=_0x1ee5c9['number']*_0x345047;_0x4d353f+=_0x118a1a,_0x1ee5c9[_0x4e6728(0x283)]=formatResult(Number(_0x345047),0x8),_0x1ee5c9[_0x4e6728(0x19c)]=_0x118a1a;}),currentCoins[_0x48db23(0x1d3)](_0x456f54=>{const _0x59471d=_0x48db23;let _0x25c53f=config[_0x59471d(0x271)]['find'](_0x39ab8b=>_0x39ab8b[_0x59471d(0x295)]==_0x456f54['coin']),_0x31bc9a=Number(_0x25c53f[_0x59471d(0x205)]),_0x4df025=_0x456f54[_0x59471d(0x19c)]/_0x4d353f*0x64,_0x4ae3ad=_0x31bc9a*_0x4d353f/0x64/_0x456f54['last']-_0x456f54['number'];_0x456f54[_0x59471d(0x205)]=formatResult(_0x4df025,0x3),_0x456f54[_0x59471d(0x25b)]=formatResult(_0x31bc9a,0x3),_0x456f54[_0x59471d(0x184)]=formatResult(_0x4ae3ad,0x8),_0x456f54[_0x59471d(0x22e)]='',_0x456f54[_0x59471d(0x26c)]='';if(_0x456f54['coin']!=config[_0x59471d(0x296)]){if(_0x456f54[_0x59471d(0x205)]>_0x31bc9a)_0x456f54[_0x59471d(0x22e)]=_0x59471d(0x24c),_0x456f54[_0x59471d(0x26c)]=checkMinimums(_0x456f54);else _0x456f54['distribution']<_0x31bc9a&&(_0x456f54[_0x59471d(0x22e)]=_0x59471d(0x230),_0x456f54[_0x59471d(0x26c)]=checkMinimums(_0x456f54));}_0x456f54[_0x59471d(0x22f)]=_0x456f54[_0x59471d(0x205)]/_0x456f54['target']-0x1;}),currentCoins[_0x48db23(0x1d6)]((_0x504f5c,_0x5cd317)=>_0x504f5c[_0x48db23(0x22f)]<_0x5cd317[_0x48db23(0x22f)]?0x1:_0x5cd317[_0x48db23(0x22f)]<_0x504f5c[_0x48db23(0x22f)]?-0x1:0x0);const _0x2be87d=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2be87d[_0x48db23(0x18d)],'usd':_0x2be87d['usd'],'portfolio':JSON[_0x48db23(0x266)](currentCoins),'threshold':_0x59d961},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x59d961});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x59d961});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2a547b=_0x54978a;if(!lastBalances)return;let _0x13662d=[],_0x4ffc16,_0x1a1811=JSON[_0x2a547b(0x18e)](lastBalances[_0x2a547b(0x271)]);_0x1a1811['sort']((_0x203088,_0x4ceda3)=>_0x203088[_0x2a547b(0x295)]>_0x4ceda3[_0x2a547b(0x295)]?0x1:_0x4ceda3['coin']>_0x203088['coin']?-0x1:0x0),_0x1a1811['forEach'](_0x5b1a6f=>{const _0x3459b3=_0x2a547b;let _0x654a62={'coin':_0x5b1a6f[_0x3459b3(0x295)],'number':_0x5b1a6f[_0x3459b3(0x275)],'price':_0x5b1a6f['last']};_0x13662d[_0x3459b3(0x1a2)](_0x654a62);});const _0x382155=await getFiat();_0x4ffc16={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x382155['eur'],'usd':_0x382155['usd'],'coins':_0x13662d};let _0x2e4963=dbPerformance[_0x2a547b(0x1c7)](_0x2a547b(0x20b))[_0x2a547b(0x1f4)]({'date':_0x4ffc16[_0x2a547b(0x227)]})[_0x2a547b(0x19c)]();_0x2e4963?_0x4ffc16['date']!=config[_0x2a547b(0x237)]&&dbPerformance['get'](_0x2a547b(0x20b))[_0x2a547b(0x1f4)]({'date':_0x4ffc16['date']})[_0x2a547b(0x1dd)](_0x4ffc16)['write']():dbPerformance[_0x2a547b(0x1c7)]('data')['push'](_0x4ffc16)[_0x2a547b(0x1c2)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3c7fa3=_0x54978a;let _0x1cf9fc=[];if(dbPerformance[_0x3c7fa3(0x1ee)](_0x3c7fa3(0x20b))[_0x3c7fa3(0x19c)]()){let _0x58e635=dbPerformance[_0x3c7fa3(0x1c7)](_0x3c7fa3(0x20b))[_0x3c7fa3(0x26a)]()['sortBy']('date')[_0x3c7fa3(0x19c)](),_0x53fc46=[...config[_0x3c7fa3(0x21a)]];_0x53fc46[_0x3c7fa3(0x1d6)]((_0x1e90e8,_0x1bc3b4)=>_0x1e90e8[_0x3c7fa3(0x227)]>_0x1bc3b4[_0x3c7fa3(0x227)]?-0x1:_0x1bc3b4[_0x3c7fa3(0x227)]>_0x1e90e8['date']?0x1:0x0);let _0x1f164a=0x1,_0x3721ed=[],_0x42bae3=0x0;_0x58e635[_0x3c7fa3(0x206)]()['reverse']()[_0x3c7fa3(0x1d3)]((_0x46a054,_0x2c12be)=>{const _0x2ce978=_0x3c7fa3;if(_0x53fc46[_0x42bae3]){if(_0x58e635[_0x58e635[_0x2ce978(0x2a1)]-_0x2c12be]&&_0x53fc46[_0x42bae3][_0x2ce978(0x227)]==_0x58e635[_0x58e635[_0x2ce978(0x2a1)]-_0x2c12be][_0x2ce978(0x227)]){if(_0x2c12be<_0x58e635[_0x2ce978(0x2a1)]){let _0x3e4627=0x0,_0x2acbe7=0x0;_0x58e635[_0x58e635[_0x2ce978(0x2a1)]-_0x2c12be]['coins'][_0x2ce978(0x1d3)](_0x1722fc=>{const _0x20f60e=_0x2ce978;_0x2acbe7+=_0x1722fc[_0x20f60e(0x275)]*_0x1722fc[_0x20f60e(0x1bd)];}),_0x53fc46[_0x42bae3]['changes']['forEach'](_0x536223=>{const _0x55d53b=_0x2ce978;_0x3e4627+=_0x536223[_0x55d53b(0x275)]*_0x536223[_0x55d53b(0x1bd)];}),_0x1f164a*=_0x3e4627/(_0x2acbe7-_0x3e4627)+0x1;}_0x42bae3++;}}let _0xc31a45=0x0;_0x46a054[_0x2ce978(0x1b1)][_0x2ce978(0x1d3)](_0x5d418a=>{const _0x3e05be=_0x2ce978;_0xc31a45+=_0x5d418a[_0x3e05be(0x275)]*_0x5d418a[_0x3e05be(0x1bd)];}),_0x3721ed[_0x58e635[_0x2ce978(0x2a1)]-_0x2c12be-0x1]=_0xc31a45*(_0x1f164a-0x1);});let _0x36ba06=[];_0x53fc46=[...config['liquidity']]||[];let _0x410b66=0x0;_0x42bae3=0x0,_0x58e635[_0x3c7fa3(0x1d3)]((_0x35cbfd,_0x598642)=>{const _0x582aaf=_0x3c7fa3;if(_0x53fc46[_0x42bae3]){const _0x41818e=fns[_0x582aaf(0x18e)](_0x53fc46[_0x42bae3][_0x582aaf(0x227)],'yyyy/MM/dd',new Date()),_0xeb6c1a=fns[_0x582aaf(0x18e)](_0x35cbfd[_0x582aaf(0x227)],'yyyy/MM/dd',new Date());if(fns[_0x582aaf(0x23a)](_0x41818e,_0xeb6c1a)){let _0x26865e=0x0;_0x53fc46[_0x42bae3][_0x582aaf(0x1e8)]['forEach'](_0x5ca2ca=>{const _0x376dfc=_0x582aaf;!_0x36ba06[_0x5ca2ca[_0x376dfc(0x295)]]?_0x36ba06[_0x5ca2ca[_0x376dfc(0x295)]]=_0x5ca2ca[_0x376dfc(0x275)]:(_0x26865e=_0x36ba06[_0x5ca2ca[_0x376dfc(0x295)]],_0x36ba06[_0x5ca2ca[_0x376dfc(0x295)]]+=_0x5ca2ca[_0x376dfc(0x275)]);const _0xfa02e4=_0x35cbfd[_0x376dfc(0x1b1)][_0x376dfc(0x1f4)](_0x448ecf=>_0x448ecf[_0x376dfc(0x295)]==_0x5ca2ca['coin']);(!_0xfa02e4||_0xfa02e4['number']==0x0)&&(_0x410b66+=(-_0x5ca2ca[_0x376dfc(0x275)]-_0x26865e)*_0x5ca2ca[_0x376dfc(0x1bd)]);}),_0x42bae3++;}}_0x35cbfd['coins']['forEach']((_0xc8249c,_0x16764c)=>{const _0x165bde=_0x582aaf;_0x36ba06[_0xc8249c[_0x165bde(0x295)]]&&(_0xc8249c={..._0xc8249c,'initial':_0x36ba06[_0xc8249c['coin']]}),_0x35cbfd[_0x165bde(0x1b1)][_0x16764c]=_0xc8249c;}),_0x1cf9fc[_0x582aaf(0x1a2)]({'date':_0x35cbfd[_0x582aaf(0x227)],'eur':_0x35cbfd[_0x582aaf(0x18d)],'usd':_0x35cbfd[_0x582aaf(0x248)],'offset':_0x3721ed[_0x598642],'netoffset':_0x410b66,'coins':_0x35cbfd[_0x582aaf(0x1b1)]});});}return _0x1cf9fc;}function emitPerformance(_0x23ed9b){const _0x1f43c6=_0x54978a;_0x23ed9b['length']!==0x0?(proxyEmit(_0x1f43c6(0x211),_0x23ed9b),lastPerformanceEmitted=getDate()):proxyEmit(_0x1f43c6(0x211),[]);}function getPerf(_0x4b4234,_0xd203fd){const _0x1b4f5a=_0x54978a;let _0x8f0d80=0x0,_0x349506=0x0,_0x2b83eb=0x0;_0x4b4234[_0x1b4f5a(0x1b1)][_0x1b4f5a(0x1d3)](_0x3337b0=>{const _0x900fa3=_0x1b4f5a;_0x8f0d80+=_0x3337b0[_0x900fa3(0x275)]*_0x3337b0[_0x900fa3(0x1bd)];});_0xd203fd&&(_0x8f0d80+=_0x4b4234[_0x1b4f5a(0x210)]);if(config['basecoin']==='BTC')_0x349506=_0x8f0d80*_0x4b4234[_0x1b4f5a(0x18d)],_0x2b83eb=_0x8f0d80*_0x4b4234[_0x1b4f5a(0x248)];else{if(config['basecoin']===_0x1b4f5a(0x199)||config['basecoin']==='USDT'||config[_0x1b4f5a(0x296)]===_0x1b4f5a(0x284))_0x349506=_0x8f0d80*_0x4b4234[_0x1b4f5a(0x18d)]/_0x4b4234[_0x1b4f5a(0x248)],_0x2b83eb=_0x8f0d80;else config[_0x1b4f5a(0x296)]===_0x1b4f5a(0x20c)&&(_0x349506=_0x8f0d80,_0x2b83eb=_0x8f0d80*_0x4b4234[_0x1b4f5a(0x248)]/_0x4b4234[_0x1b4f5a(0x18d)]);}return[_0x8f0d80,_0x349506,_0x2b83eb];}async function getStartingBalances(_0x1fdfb0,_0x53eb48=!![]){const _0x494593=_0x54978a;if(_0x1fdfb0[_0x494593(0x2a1)]!==0x0){const [_0x2fbf0b,_0x5beea0,_0x583ec1]=getPerf(_0x1fdfb0[0x0],!![]);let _0x1246ec=[];config[_0x494593(0x271)][_0x494593(0x1d3)](_0x482e37=>{const _0x4af8d7=_0x494593;let _0xc06c82=0x0;config[_0x4af8d7(0x21a)]['forEach'](_0xf0c0a8=>{const _0x50b66d=_0x4af8d7;let _0x4b6923=_0xf0c0a8[_0x50b66d(0x1e8)][_0x50b66d(0x1f4)](_0x564e76=>_0x564e76[_0x50b66d(0x295)]==_0x482e37[_0x50b66d(0x295)]);if(_0x4b6923)_0xc06c82+=_0x4b6923[_0x50b66d(0x275)];}),_0x1246ec[_0x4af8d7(0x1a2)]({'coin':_0x482e37[_0x4af8d7(0x295)],'number':_0xc06c82,'price':_0x482e37[_0x4af8d7(0x1bd)]});});const _0x1b5881={'basecoin':_0x2fbf0b,'eur':_0x5beea0,'usd':_0x583ec1,'coins':_0x1246ec};if(_0x53eb48)proxyEmit('starting-balances',_0x1b5881);return _0x1b5881;}}function headlessMode(_0x21c870){const _0x501631=_0x54978a;let _0x4ca63b=_0x21c870[_0x501631(0x271)],_0x5c549c=_0x21c870[_0x501631(0x1ec)],_0x3e3369=[];for(let _0x85f0c5 of _0x4ca63b){if(_0x85f0c5[_0x501631(0x295)]!=config[_0x501631(0x296)]){if(_0x85f0c5['distribution']/_0x85f0c5['target']-0x1>=_0x5c549c/0x64){if(_0x85f0c5[_0x501631(0x26c)])_0x3e3369[_0x501631(0x1a2)](_0x85f0c5);}else{if(_0x85f0c5[_0x501631(0x205)]/_0x85f0c5[_0x501631(0x25b)]-0x1<=-_0x5c549c/0x64){if(_0x85f0c5[_0x501631(0x26c)])_0x3e3369[_0x501631(0x1a2)](_0x85f0c5);}}}}_0x3e3369[_0x501631(0x2a1)]>0x0&&placeOrder(_0x3e3369);}function notifyBalance(_0x44a3ec){const _0x178687=_0x54978a;let _0x106675=_0x44a3ec[_0x178687(0x271)],_0x5d3e28=_0x44a3ec[_0x178687(0x1ec)],_0x3b51d8=[];for(let _0x52ad5b of _0x106675){if(_0x52ad5b[_0x178687(0x295)]!=config[_0x178687(0x296)]){if(_0x52ad5b['distribution']/_0x52ad5b[_0x178687(0x25b)]-0x1>=_0x5d3e28/0x64){if(_0x52ad5b[_0x178687(0x26c)])_0x3b51d8['push'](_0x52ad5b);}else{if(_0x52ad5b[_0x178687(0x205)]/_0x52ad5b['target']-0x1<=-_0x5d3e28/0x64){if(_0x52ad5b[_0x178687(0x26c)])_0x3b51d8['push'](_0x52ad5b);}}}}if(_0x3b51d8[_0x178687(0x2a1)]>0x0){let _0xf439c9=_0x3b51d8[_0x178687(0x27d)](_0x168223=>_0x168223[_0x178687(0x295)]);_0xf439c9[_0x178687(0x1d6)]();let _0x125931=_0xf439c9[_0x178687(0x1c0)](',\x20');if(lastCoinsToBalance!==_0x125931)logHistory(_0x178687(0x194),_0x178687(0x1a4)+_0x125931);lastCoinsToBalance=_0x125931;}}function symbolToCoin(_0x1d3edb){const _0x11d5e8=_0x54978a;let _0x401b9e;if(_0x1d3edb['includes']('/'+config[_0x11d5e8(0x296)]))_0x401b9e=_0x1d3edb[_0x11d5e8(0x218)]('/'+config[_0x11d5e8(0x296)],'');if(_0x1d3edb[_0x11d5e8(0x197)](config['basecoin']+'/'))_0x401b9e=_0x1d3edb[_0x11d5e8(0x218)](config[_0x11d5e8(0x296)]+'/','');return _0x401b9e;}async function validateOrders(_0x94ccd2=0x0){const _0xc439a8=_0x54978a;let _0x4a17f7=[],_0x2fb4ea=config[_0xc439a8(0x220)]==_0xc439a8(0x1c3)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0xc439a8(0x1a0)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0xc439a8(0x1d3)](_0x574858=>{const _0x5e308a=_0xc439a8;let _0x5a70b4=previousCoins[_0x5e308a(0x1f4)](_0x1ed9e6=>_0x1ed9e6['coin']==symbolToCoin(_0x574858[_0x5e308a(0x1f9)])),_0x1e1064=currentCoins[_0x5e308a(0x1f4)](_0x20831a=>_0x20831a[_0x5e308a(0x295)]==symbolToCoin(_0x574858['symbol'])),_0xdf0de3,_0x6136de;_0x574858[_0x5e308a(0x22e)]==_0x5e308a(0x230)&&!_0x574858['reverse']||_0x574858[_0x5e308a(0x22e)]==_0x5e308a(0x24c)&&_0x574858[_0x5e308a(0x294)]?(_0xdf0de3=_0x5a70b4['number']+0.9*_0x574858['filled'],_0x6136de=_0x5a70b4[_0x5e308a(0x275)]+1.1*_0x574858[_0x5e308a(0x1a7)]):(_0xdf0de3=_0x5a70b4[_0x5e308a(0x275)]-1.1*_0x574858[_0x5e308a(0x1a7)],_0x6136de=_0x5a70b4[_0x5e308a(0x275)]-0.9*_0x574858['filled']);const _0x140904=_0x574858['filled']!=0x0&&_0x1e1064['number']>=_0xdf0de3&&_0x1e1064['number']<=_0x6136de;_0x4a17f7[_0x5e308a(0x1a2)](_0x140904);if(_0x140904&&config['ordertype']!=_0x5e308a(0x1c3)){if(_0x574858['reverse'])logHistory(_0x5e308a(0x27c),_0x5e308a(0x18a)+_0x574858[_0x5e308a(0x1f9)]+'\x20'+_0x574858[_0x5e308a(0x22e)]+'\x20#'+formatResult(_0x574858[_0x5e308a(0x1a7)]/_0x574858[_0x5e308a(0x1bd)],0x8)+'\x20@'+formatResult(_0x574858['price'],0x8));else logHistory(_0x5e308a(0x27c),_0x5e308a(0x18a)+_0x574858[_0x5e308a(0x1f9)]+'\x20'+_0x574858[_0x5e308a(0x22e)]+'\x20#'+formatResult(_0x574858[_0x5e308a(0x1a7)],0x8)+'\x20@'+formatResult(_0x574858['price'],0x8));}}),_0x4a17f7[_0xc439a8(0x1d3)]((_0xb49262,_0x5d2f41)=>{if(_0xb49262)lastOrders['splice'](_0x5d2f41,0x1);});if(_0x94ccd2<_0x2fb4ea&&_0x4a17f7[_0xc439a8(0x197)](![])){if(_0x94ccd2==0x0){config[_0xc439a8(0x220)]==_0xc439a8(0x1c3)?logHistory(_0xc439a8(0x202),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0xc439a8(0x202),_0xc439a8(0x288));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x94ccd2);},0xa*0x3e8);}else{(_0x94ccd2==0x1||_0x94ccd2==Math[_0xc439a8(0x246)](_0x2fb4ea/0x2)||_0x94ccd2==_0x2fb4ea-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x94ccd2);},validateOrderInterval);}}else{lockOrders=![];if(_0x94ccd2>0x0&&!_0x4a17f7[_0xc439a8(0x197)](![]))config[_0xc439a8(0x220)]=='market'?logHistory(_0xc439a8(0x194),_0xc439a8(0x1c5)):logHistory(_0xc439a8(0x194),'Order(s)\x20filled\x20-\x20balancing\x20resumed');else _0x94ccd2>0x0&&_0x4a17f7[_0xc439a8(0x197)](![])&&(config[_0xc439a8(0x220)]=='market'?logHistory(_0xc439a8(0x194),_0xc439a8(0x24a)+Math[_0xc439a8(0x246)](_0x2fb4ea*validateOrderInterval/0xea60)+_0xc439a8(0x24f)):(lastOrders[_0xc439a8(0x1d3)](async _0x599873=>{const _0x4bf534=_0xc439a8;try{const _0x4848a9=await exchange[_0x4bf534(0x272)](_0x599873[_0x4bf534(0x1b7)],_0x599873[_0x4bf534(0x1f9)]);}catch(_0x2dd948){if(_0x2dd948[_0x4bf534(0x298)]()[_0x4bf534(0x197)]('OrderNotFound')){}else await handleError(_0x2dd948,_0x4bf534(0x27e));}}),logHistory(_0xc439a8(0x194),_0xc439a8(0x204)+Math['round'](_0x2fb4ea*validateOrderInterval/0xea60)+_0xc439a8(0x24f))));}}async function resetCoinResults(){const _0x41b805=_0x54978a;dbCoinResults[_0x41b805(0x1c7)](_0x41b805(0x1b1))[_0x41b805(0x23c)]()['write']();let _0x265dc2=await getStartingBalances(getNormalizedPerformance(),![]);_0x265dc2[_0x41b805(0x1b1)][_0x41b805(0x1d3)](_0x1d521d=>{const _0x44282d=_0x41b805;if(_0x1d521d[_0x44282d(0x295)]!=config[_0x44282d(0x296)]){let _0x2baaf7={'coin':_0x1d521d[_0x44282d(0x295)],'number':_0x1d521d[_0x44282d(0x275)],'breakeven':_0x1d521d[_0x44282d(0x1bd)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x44282d(0x1b1))[_0x44282d(0x1a2)](_0x2baaf7)[_0x44282d(0x1c2)]();}});}async function updateCoinResults(_0x493701){const _0x49ffee=_0x54978a;let _0x1c6616,_0x597913,_0x4070ec,_0x1bee33,_0x185bde,_0x3d5adb,_0x36ccec=dbCoinResults[_0x49ffee(0x1c7)](_0x49ffee(0x1b1))[_0x49ffee(0x1f4)]({'coin':_0x493701[_0x49ffee(0x295)]})[_0x49ffee(0x19c)]();if(!_0x36ccec)return;if(_0x493701['fee']&&_0x493701['fee'][_0x49ffee(0x291)]==config['basecoin'])_0x1c6616=_0x493701['fee'][_0x49ffee(0x1fe)];else{if(_0x493701[_0x49ffee(0x29b)]&&_0x493701[_0x49ffee(0x29b)][_0x49ffee(0x291)]=='BNB')_0x1c6616=_0x493701[_0x49ffee(0x29b)][_0x49ffee(0x1fe)]*global[_0x49ffee(0x280)][_0x49ffee(0x276)+config[_0x49ffee(0x296)]];else _0x1c6616=0.001*_0x493701[_0x49ffee(0x1a7)];}const _0x38bd79=_0x493701[_0x49ffee(0x1f9)][_0x49ffee(0x197)](config[_0x49ffee(0x296)]+'/');_0x38bd79&&(_0x3d5adb={'coin':_0x493701[_0x49ffee(0x295)],'symbol':_0x493701[_0x49ffee(0x1f9)],'filled':_0x493701[_0x49ffee(0x1a7)]*_0x493701[_0x49ffee(0x1bd)],'side':_0x493701[_0x49ffee(0x22e)]=='sell'?'buy':_0x49ffee(0x24c),'price':0x1/_0x493701['price']},_0x493701={..._0x3d5adb});_0x493701[_0x49ffee(0x22e)]=='buy'?_0x4070ec=(_0x36ccec['breakeven']*_0x36ccec['number']+_0x493701['price']*_0x493701[_0x49ffee(0x1a7)])/(_0x36ccec[_0x49ffee(0x275)]+_0x493701[_0x49ffee(0x1a7)]):_0x4070ec=(_0x36ccec[_0x49ffee(0x1e3)]*_0x36ccec['number']-_0x493701[_0x49ffee(0x1bd)]*_0x493701[_0x49ffee(0x1a7)])/(_0x36ccec[_0x49ffee(0x275)]-_0x493701[_0x49ffee(0x1a7)]);_0x493701[_0x49ffee(0x22e)]==_0x49ffee(0x230)?_0x1bee33=_0x36ccec[_0x49ffee(0x191)]:_0x1bee33=_0x36ccec['realized']+(_0x493701[_0x49ffee(0x1bd)]-_0x36ccec[_0x49ffee(0x1e3)])*_0x493701[_0x49ffee(0x1a7)];_0x597913=_0x493701[_0x49ffee(0x22e)]==_0x49ffee(0x24c)?_0x36ccec[_0x49ffee(0x275)]-_0x493701['filled']:_0x36ccec[_0x49ffee(0x275)]+_0x493701[_0x49ffee(0x1a7)],_0x185bde=(_0x493701[_0x49ffee(0x1bd)]-_0x4070ec)*_0x597913;let _0x5b1b88={'coin':_0x493701['coin'],'number':_0x597913,'breakeven':formatResult(_0x4070ec,0x8),'realized':formatResult(_0x1bee33,0x8),'unrealized':formatResult(_0x185bde,0x8),'fees':formatResult(_0x36ccec['fees']+_0x1c6616,0x8),'sells':_0x493701[_0x49ffee(0x22e)]=='sell'?_0x36ccec['sells']+0x1:_0x36ccec['sells'],'buys':_0x493701['side']=='buy'?_0x36ccec[_0x49ffee(0x23e)]+0x1:_0x36ccec[_0x49ffee(0x23e)]};dbCoinResults['get'](_0x49ffee(0x1b1))['find']({'coin':_0x493701[_0x49ffee(0x295)]})['assign'](_0x5b1b88)[_0x49ffee(0x1c2)]();}async function placeOrder(_0x4d39bd){const _0x23e686=_0x54978a,_0x36f007=config[_0x23e686(0x220)]==_0x23e686(0x1c3)?_0x23e686(0x1c3):_0x23e686(0x21d);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x23e686(0x18e)](JSON[_0x23e686(0x266)](currentCoins));for(const _0xa18da3 of _0x4d39bd){let _0x4a322e,_0x4f020a,_0x53bfa9,_0x5ed9c5,_0x11b988,_0xfb6d00=_0xa18da3[_0x23e686(0x1f9)];try{const _0x378a2b=await exchange[_0x23e686(0x1ea)](_0xfb6d00),_0xd6f254=_0x378a2b[_0xfb6d00];_0x4a322e=_0xd6f254[_0x23e686(0x283)],_0x4f020a=_0xd6f254['bid'],_0x53bfa9=_0xd6f254[_0x23e686(0x252)];_0xa18da3[_0x23e686(0x294)]?(_0x5ed9c5=_0xa18da3[_0x23e686(0x22e)]==_0x23e686(0x230)?_0x23e686(0x24c):'buy',_0x11b988=Math[_0x23e686(0x25f)](_0xa18da3['trade'])/_0x4a322e):(_0x5ed9c5=_0xa18da3[_0x23e686(0x22e)],_0x11b988=Math[_0x23e686(0x25f)](_0xa18da3['trade']));_0x36f007==_0x23e686(0x21d)&&(config[_0x23e686(0x220)]==_0x23e686(0x2a0)&&(_0x4a322e=_0x5ed9c5==_0x23e686(0x230)?_0x4f020a:_0x53bfa9),config[_0x23e686(0x220)]==_0x23e686(0x259)&&(_0x4a322e=_0x5ed9c5==_0x23e686(0x230)?_0x53bfa9:_0x4f020a));_0x11b988=formatResult(_0x11b988,0x8),_0x4a322e=formatResult(_0x4a322e,0x8);const _0xc33c21=await exchange[_0x23e686(0x23b)](_0xfb6d00,_0x36f007,_0x5ed9c5,_0x11b988,_0x4a322e);lastOrders['push']({'orderId':_0xc33c21['id'],'symbol':_0xfb6d00,'side':_0x5ed9c5,'reverse':_0xa18da3[_0x23e686(0x294)],'amount':_0xa18da3[_0x23e686(0x294)]?_0xc33c21[_0x23e686(0x228)]*_0xc33c21[_0x23e686(0x1bd)]:_0xc33c21['amount'],'filled':_0xa18da3[_0x23e686(0x294)]?_0xc33c21[_0x23e686(0x1a7)]*_0xc33c21[_0x23e686(0x1bd)]:_0xc33c21[_0x23e686(0x1a7)],'price':_0xc33c21['price']});const _0x2df6b3=_0x5ed9c5==_0x23e686(0x24c)?config[_0x23e686(0x20f)]?String[_0x23e686(0x247)]('0x'+config['emojisell'])+'\x20':'':config['emojibuy']?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x54a108=_0x36f007==_0x23e686(0x1c3)?'Market':config[_0x23e686(0x220)]==_0x23e686(0x2a0)?_0x23e686(0x239):_0x23e686(0x1d9);if(_0x36f007=='market')logHistory(_0x23e686(0x27c),''+_0x2df6b3+_0x54a108+'\x20order:\x20'+_0xfb6d00+'\x20'+_0x5ed9c5+'\x20#'+formatResult(_0xc33c21[_0x23e686(0x1a7)],0x8)+'\x20@'+formatResult(_0xc33c21['price'],0x8));else logHistory('order',''+_0x2df6b3+_0x54a108+_0x23e686(0x195)+_0xfb6d00+'\x20'+_0x5ed9c5+'\x20#'+formatResult(_0xc33c21[_0x23e686(0x228)],0x8)+'\x20@'+formatResult(_0xc33c21[_0x23e686(0x1bd)],0x8));_0xc33c21['coin']=_0xa18da3['coin'],await updateCoinResults(_0xc33c21);if(config[_0x23e686(0x1ca)]!=0x0){let _0x4458d6=null;if(cooldownTracker[_0x23e686(0x2a1)]==config[_0x23e686(0x1ca)]-0x1)_0x4458d6=cooldownTracker[_0x23e686(0x292)]();const _0x3f8b7e=getTimeStamp();cooldownTracker['push'](_0x3f8b7e);if(_0x4458d6){const _0x3fee37=fns[_0x23e686(0x1c4)](new Date(_0x3f8b7e),new Date(_0x4458d6));_0x3fee37<cooldownInterval&&(logHistory('error','Executed\x20'+config[_0x23e686(0x1ca)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x23e686(0x281)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x5de6ac){if(_0x5de6ac['toString']()[_0x23e686(0x197)](_0x23e686(0x188)))logHistory(_0x23e686(0x202),_0x23e686(0x25a)+_0xfb6d00);else{if(_0x5de6ac[_0x23e686(0x298)]()[_0x23e686(0x197)](_0x23e686(0x274)))logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0xfb6d00);else await handleError(_0x5de6ac,_0x23e686(0x1d7));}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config[_0x23e686(0x220)]=='market'?logHistory(_0x23e686(0x202),_0x23e686(0x1c6)):logHistory('error',_0x23e686(0x1a9)));else coolingDown&&(!config[_0x23e686(0x27a)]&&logHistory(_0x23e686(0x202),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'));}}function logHistory(_0x50a5d2,_0x5d68f9,_0x2eb149=''){const _0x524553=_0x54978a;let _0x58d46f={'time':getTimeStamp(),'type':_0x50a5d2,'event':_0x5d68f9};dbLogs[_0x524553(0x1c7)](_0x524553(0x1cd))['push'](_0x58d46f)[_0x524553(0x1c2)]();if(_0x2eb149=='')_0x2eb149=_0x5d68f9;proxyEmit(_0x524553(0x250),{'log':_0x58d46f,'summary':_0x2eb149}),process[_0x524553(0x26e)]({'telegram':{..._0x58d46f,'botname':config[_0x524553(0x1ba)],'showname':config[_0x524553(0x200)]}},_0x3c7f12=>{}),logging(''+_0x58d46f[_0x524553(0x250)]);}function emitHistory(_0x3c6e9a={}){const _0x194da0=_0x54978a;Object['keys'](_0x3c6e9a)[_0x194da0(0x2a1)]==0x0&&(_0x3c6e9a={'type':['order','event'],'event':'','page':0x1});if(_0x3c6e9a[_0x194da0(0x232)][_0x194da0(0x197)]('event'))_0x3c6e9a[_0x194da0(0x232)][_0x194da0(0x263)](_0x3c6e9a[_0x194da0(0x232)][_0x194da0(0x1ac)](_0x194da0(0x250)),0x1,_0x194da0(0x202),_0x194da0(0x194));if(dbLogs['has']('logs')[_0x194da0(0x19c)]()){let _0x1a763d=dbLogs['get']('logs')[_0x194da0(0x29f)](_0x1d1c26=>{const _0x4a50e0=_0x194da0;if(_0x3c6e9a[_0x4a50e0(0x232)]['length']==0x0)return![];else return _0x3c6e9a[_0x4a50e0(0x232)][_0x4a50e0(0x197)](_0x1d1c26[_0x4a50e0(0x232)]);})['filter'](_0x4e7aeb=>{const _0x158954=_0x194da0;if(_0x3c6e9a['event']=='')return!![];else return _0x4e7aeb['event'][_0x158954(0x267)]()[_0x158954(0x197)](_0x3c6e9a[_0x158954(0x250)][_0x158954(0x267)]());})['sortBy']('time'),_0x56e1cd=_0x1a763d['value']()[_0x194da0(0x2a1)];_0x1a763d=_0x1a763d['reverse']()['slice']((_0x3c6e9a[_0x194da0(0x1fd)]-0x1)*logPageSize,_0x3c6e9a[_0x194da0(0x1fd)]*logPageSize-0x1)[_0x194da0(0x294)]()['value'](),proxyEmit(_0x194da0(0x1e7),{'logs':_0x1a763d,'total':_0x56e1cd});}else proxyEmit(_0x194da0(0x1e7),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x51b35a){const _0x553471=_0x54978a;if(dbLogs[_0x553471(0x1ee)]('logs')[_0x553471(0x19c)]()){const _0x3cdda0=dbLogs[_0x553471(0x1c7)](_0x553471(0x1cd))['sortBy'](_0x553471(0x1b5))[_0x553471(0x29f)](_0x3c0a47=>{const _0x1abb7e=_0x553471;return _0x3c0a47[_0x1abb7e(0x232)]==_0x1abb7e(0x27c);})[_0x553471(0x19c)]();dbLogs[_0x553471(0x1c7)](_0x553471(0x1cd))[_0x553471(0x23c)]()[_0x553471(0x1c2)](),dbLogs[_0x553471(0x1c7)](_0x553471(0x1cd))[_0x553471(0x1dd)](_0x3cdda0)[_0x553471(0x1c2)](),emitHistory(_0x51b35a);}}async function pauseBot(_0x2c5342=''){const _0x251a46=_0x54978a,_0x1eef6c=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x251a46(0x1e6)](),consecutivePauses=0x1;else{if(_0x1eef6c-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x251a46(0x26e)]({'stop':_0x251a46(0x265)},_0x579d56=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x251a46(0x1e6)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x2c5342)_0x2c5342+=_0x251a46(0x256);logHistory(_0x251a46(0x202),_0x2c5342+_0x251a46(0x20d)+pauseBotInterval/0xea60+_0x251a46(0x28a)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function handleError(_0xd746ee,_0x22d174,_0x363f63=''){const _0x347a54=_0x54978a;if(_0xd746ee[_0x347a54(0x298)]()['includes']('DDoSProtection'))await pauseBot('Binance\x20API\x20blocked');else{if(_0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)]('ExchangeNotAvailable'))await pauseBot(_0x347a54(0x1f3));else{if(_0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)]('RequestTimeout'))await pauseBot(_0x347a54(0x22b));else{if(_0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)](_0x347a54(0x277)))logHistory('error',_0x22d174+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x347a54(0x202),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x347a54(0x26e)]({'stop':_0x347a54(0x21e)},_0x27e5e4=>{});else{if(_0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)](_0x347a54(0x26b)))logHistory(_0x347a54(0x202),_0x22d174+_0x347a54(0x21b)),logHistory(_0x347a54(0x202),_0x347a54(0x1f0)),process[_0x347a54(0x26e)]({'stop':_0x347a54(0x21e)},_0x49cb2b=>{});else{if(_0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x22d174+_0x347a54(0x19a)),logHistory(_0x347a54(0x202),_0x347a54(0x1f0)),process[_0x347a54(0x26e)]({'stop':_0x347a54(0x21e)},_0x5d3a33=>{});else{if(_0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)](_0x347a54(0x255)))logHistory(_0x347a54(0x202),_0x22d174+_0x347a54(0x1af)),logHistory(_0x347a54(0x202),_0x347a54(0x1f0)),process[_0x347a54(0x26e)]({'stop':_0x347a54(0x21e)},_0x424fb6=>{});else{if(_0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)](_0x347a54(0x22c)))await pauseBot(_0x347a54(0x243)),process[_0x347a54(0x26e)]({'stop':'restart'},_0x3853ef=>{});else _0xd746ee[_0x347a54(0x298)]()[_0x347a54(0x197)](_0x347a54(0x278))?logHistory(_0x347a54(0x202),_0x22d174+_0x347a54(0x1d0)):(logging(_0x22d174+_0x347a54(0x26d),_0xd746ee),await pauseBot(_0x347a54(0x219)));}}}}}}}}function formatResult(_0x6ba825,_0x129a5a){const _0x5eccb1=_0x54978a;return parseFloat(_0x6ba825[_0x5eccb1(0x1d1)](_0x129a5a));}function logging(_0x5d72df,_0x220361=''){const _0xdf04b1=_0x54978a;if(config['showname'])console['log'](getTimeStamp()+':\x20'+config[_0xdf04b1(0x1ba)]+'\x20>\x20'+_0x5d72df,_0x220361);else console[_0xdf04b1(0x1c1)](getTimeStamp()+_0xdf04b1(0x289)+botID+_0xdf04b1(0x299)+_0x5d72df,_0x220361);}function getServerTime(){const _0x305cf9=_0x54978a,_0xf5d895=new Date();return _0xf5d895[_0x305cf9(0x224)]()+'/'+(_0xf5d895[_0x305cf9(0x249)]()+0x1)['toString']()[_0x305cf9(0x225)](0x2,'0')+'/'+_0xf5d895['getDate']()['toString']()[_0x305cf9(0x225)](0x2,'0')+'\x20'+_0xf5d895[_0x305cf9(0x1a6)]()[_0x305cf9(0x298)]()[_0x305cf9(0x225)](0x2,'0')+':'+_0xf5d895['getMinutes']()[_0x305cf9(0x298)]()[_0x305cf9(0x225)](0x2,'0')+':'+_0xf5d895[_0x305cf9(0x190)]()[_0x305cf9(0x298)]()[_0x305cf9(0x225)](0x2,'0');}function getTimeStamp(){const _0x4b0658=_0x54978a,_0x1e96a3=shiftedTime();return _0x1e96a3[_0x4b0658(0x224)]()+'/'+(_0x1e96a3[_0x4b0658(0x249)]()+0x1)['toString']()[_0x4b0658(0x225)](0x2,'0')+'/'+_0x1e96a3[_0x4b0658(0x1bc)]()[_0x4b0658(0x298)]()[_0x4b0658(0x225)](0x2,'0')+'\x20'+_0x1e96a3['getHours']()[_0x4b0658(0x298)]()[_0x4b0658(0x225)](0x2,'0')+':'+_0x1e96a3[_0x4b0658(0x1ed)]()[_0x4b0658(0x298)]()[_0x4b0658(0x225)](0x2,'0')+':'+_0x1e96a3[_0x4b0658(0x190)]()['toString']()[_0x4b0658(0x225)](0x2,'0');}function getDate(){const _0x11fbb2=_0x54978a,_0x46ac69=shiftedTime();return _0x46ac69[_0x11fbb2(0x224)]()+'/'+(_0x46ac69[_0x11fbb2(0x249)]()+0x1)[_0x11fbb2(0x298)]()[_0x11fbb2(0x225)](0x2,'0')+'/'+_0x46ac69[_0x11fbb2(0x1bc)]()[_0x11fbb2(0x298)]()[_0x11fbb2(0x225)](0x2,'0');}function getHour(){const _0x573eee=_0x54978a,_0x576016=shiftedTime();return _0x576016[_0x573eee(0x1a6)]()[_0x573eee(0x298)]()['padStart'](0x2,'0');}function sleep(_0x4598ca){return new Promise(_0x61e8d8=>setTimeout(_0x61e8d8,_0x4598ca));}function shiftedTime(){const _0x55ad06=_0x54978a,_0xd1d145=new Date();let _0x36f5a6=_0xd1d145;if(config&&config[_0x55ad06(0x1fa)]!==0x0)_0x36f5a6=fns[_0x55ad06(0x1b9)](_0xd1d145,{'hours':config['timeshift']});return _0x36f5a6;}