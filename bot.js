const _0x20de75=_0x304f;(function(_0x31708c,_0x1023f3){const _0x2b9517=_0x304f,_0xbd6886=_0x31708c();while(!![]){try{const _0x3ea7ec=-parseInt(_0x2b9517(0x264))/0x1+-parseInt(_0x2b9517(0x1ad))/0x2+-parseInt(_0x2b9517(0x1bb))/0x3*(parseInt(_0x2b9517(0x270))/0x4)+-parseInt(_0x2b9517(0x280))/0x5*(parseInt(_0x2b9517(0x245))/0x6)+-parseInt(_0x2b9517(0x263))/0x7*(-parseInt(_0x2b9517(0x23e))/0x8)+parseInt(_0x2b9517(0x2d1))/0x9+parseInt(_0x2b9517(0x29a))/0xa;if(_0x3ea7ec===_0x1023f3)break;else _0xbd6886['push'](_0xbd6886['shift']());}catch(_0x5b97b6){_0xbd6886['push'](_0xbd6886['shift']());}}}(_0x175a,0x4a6e0));const _0x112eb0=function(){let _0x519d80=!![];return function(_0x10446b,_0x2bd731){const _0x43f64b=_0x519d80?function(){if(_0x2bd731){const _0x5793e7=_0x2bd731['apply'](_0x10446b,arguments);return _0x2bd731=null,_0x5793e7;}}:function(){};return _0x519d80=![],_0x43f64b;};}(),_0x19c738=_0x112eb0(this,function(){const _0x82af0d=_0x304f;return _0x19c738['toString']()[_0x82af0d(0x1c3)](_0x82af0d(0x1ae))['toString']()[_0x82af0d(0x2a5)](_0x19c738)[_0x82af0d(0x1c3)](_0x82af0d(0x1ae));});_0x19c738();'use strict';const ccxt=require(_0x20de75(0x230)),low=require('lowdb'),FileSync=require(_0x20de75(0x1bd)),fs=require('fs'),fns=require(_0x20de75(0x206)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require('hybrid-crypto-js')[_0x20de75(0x2de)],util=require(_0x20de75(0x265));let exchange,wsClient;global['ticker']={},global[_0x20de75(0x22c)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x20de75(0x208),'HOT/BTC','HOT/EUR','XEM/BUSD',_0x20de75(0x24c),_0x20de75(0x1b0)];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x20de75(0x1c5)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x20de75(0x1f8)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x20de75(0x260))[_0x20de75(0x222)],botID=process[_0x20de75(0x1f6)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x20de75(0x278)](botID)&&(console['log'](_0x20de75(0x212)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x20de75(0x1f5)](0x1));const userID=process[_0x20de75(0x1f6)][0x3]||'',configpath=userID?_0x20de75(0x2ee)+userID+'/':_0x20de75(0x2ee),logspath=userID?_0x20de75(0x21c)+userID+'/':_0x20de75(0x21c),loggerfile=fs[_0x20de75(0x18f)](logspath+_0x20de75(0x21d),{'flags':'a'});!fs[_0x20de75(0x194)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x20de75(0x194)](logspath)&&fs[_0x20de75(0x288)](logspath);const configfile=configpath+_0x20de75(0x287)+botID+_0x20de75(0x1b8),logfile=configpath+_0x20de75(0x287)+botID+_0x20de75(0x1c0),performancefile=configpath+_0x20de75(0x287)+botID+_0x20de75(0x2da),coinresultsfile=configpath+_0x20de75(0x287)+botID+'-results.json',settingsfile=configpath+_0x20de75(0x28e),securefile=configpath+_0x20de75(0x28c),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x20de75(0x1d8)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x20de75(0x2c4)]({'data':[]})[_0x20de75(0x1d8)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x20de75(0x2c4)]({'bot':[]})[_0x20de75(0x1d8)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x20de75(0x1d8)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x3e01c5)=>{},'debug':(..._0x56b951)=>{},'notice':(..._0x44cd47)=>{},'info':(..._0x548341)=>{},'warning':(..._0x31ef49)=>{},'error':async function(..._0x1e1268){const _0x3eecde=_0x20de75,_0x29389e=new Date()[_0x3eecde(0x290)]();if(!lastErrorShown||_0x29389e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x3eecde(0x290)]();let _0x1712a7='';if(_0x1e1268[0x0])_0x1712a7+=_0x1e1268[0x0];if(_0x1e1268[0x1]&&_0x1e1268[0x1][_0x3eecde(0x27a)]&&_0x1e1268[0x1][_0x3eecde(0x27a)][_0x3eecde(0x2ed)])_0x1712a7+='\x20-\x20'+_0x1e1268[0x1]['error'][_0x3eecde(0x2ed)];logger[_0x3eecde(0x2d9)](_0x3eecde(0x1d3)+consecutivePauses+_0x3eecde(0x235),''+_0x1712a7),await pauseBot(_0x3eecde(0x2ac));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':'sha256','rsaStandard':_0x20de75(0x1db)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x7c3c9a=>{const _0xe51a76=_0x20de75;console[_0xe51a76(0x295)](_0x7c3c9a);},'simple':_0x4ffff8=>{const _0xed87e9=_0x20de75;console[_0xed87e9(0x295)](_0x4ffff8),loggerfile[_0xed87e9(0x1d8)](util['format'](_0x4ffff8)+'\x0a');},'full':async(_0x19dbbb,_0x28e436='')=>{const _0x3d5b7c=_0x20de75;let _0x47e72c;if(config[_0x3d5b7c(0x242)])_0x47e72c=getTimeStamp()+':\x20'+config['botname']+_0x3d5b7c(0x21a)+_0x19dbbb;else _0x47e72c=getTimeStamp()+':\x20Bot\x20'+botID+_0x3d5b7c(0x21a)+_0x19dbbb;console[_0x3d5b7c(0x295)](_0x47e72c),loggerfile[_0x3d5b7c(0x1d8)](util[_0x3d5b7c(0x20d)](_0x47e72c)+'\x0a'),_0x28e436&&(console[_0x3d5b7c(0x295)](_0x28e436),loggerfile[_0x3d5b7c(0x1d8)](util[_0x3d5b7c(0x20d)](_0x28e436)+'\x0a'));},'debug':async(_0x3365ce,_0x2e4043='')=>{const _0x5a0d84=_0x20de75;let _0x5c5ff8;if(config[_0x5a0d84(0x242)])_0x5c5ff8=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0x3365ce;else _0x5c5ff8=getTimeStamp()+_0x5a0d84(0x20a)+botID+'\x20>\x20[DEBUG]\x20'+_0x3365ce;if(debugLoggingScreen)console[_0x5a0d84(0x295)](_0x5c5ff8);loggerfile[_0x5a0d84(0x1d8)](util['format'](_0x5c5ff8)+'\x0a');if(_0x2e4043){if(debugLoggingScreen)console[_0x5a0d84(0x295)](_0x2e4043);loggerfile['write'](util[_0x5a0d84(0x20d)](_0x2e4043)+'\x0a');}}};process['on'](_0x20de75(0x1e3),function(_0x3cea58){const _0x259ae6=_0x20de75;logger[_0x259ae6(0x2a6)](_0x3cea58);});settings[_0x20de75(0x1d7)]!=config['timeshift']&&updateTimeshift(settings[_0x20de75(0x1d7)]);process[_0x20de75(0x26b)]({'started':'running'},_0x3b5040=>{}),initializeProcessListeners();function proxyEmit(_0x5003c5,_0x21e0c3=null){const _0x440208=_0x20de75;process[_0x440208(0x26b)]({'function':_0x5003c5,'args':_0x21e0c3},_0x25f0c1=>{});}function initializeProcessListeners(){const _0x4d08f6=_0x20de75;process['on'](_0x4d08f6(0x2ed),_0x771889=>{const _0x5349e7=_0x4d08f6;switch(Object[_0x5349e7(0x1f9)](_0x771889)[0x0]){case'timeshift':_0x771889[_0x5349e7(0x1d7)]!=undefined&&(settings[_0x5349e7(0x1d7)]=_0x771889[_0x5349e7(0x1d7)],updateTimeshift(settings[_0x5349e7(0x1d7)]));break;case _0x5349e7(0x218):switch(_0x771889[_0x5349e7(0x218)]){case'initclient':initclient();break;case _0x5349e7(0x1b7):toggleBotMode();break;case _0x5349e7(0x1c1):emitHistory(_0x771889[_0x5349e7(0x1bc)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x771889[_0x5349e7(0x1bc)]);break;case _0x5349e7(0x2a3):getPortfolio(_0x771889['args']);break;case _0x5349e7(0x215):storeConfiguration(_0x771889[_0x5349e7(0x1bc)]);break;case _0x5349e7(0x2a2):storeHeadless(_0x771889[_0x5349e7(0x1bc)]);break;case _0x5349e7(0x1a3):getStartingBalances(getNormalizedPerformance());break;case _0x5349e7(0x1e4):placeOrder(_0x771889[_0x5349e7(0x1bc)]);break;case _0x5349e7(0x1b6):cancelLoading();break;case _0x5349e7(0x27b):showConfig();break;case _0x5349e7(0x1f1):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x2c11d6=_0x20de75;if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(config['apiKey']!=''&&config['apiKey']!=_0x2c11d6(0x24b)){await initExchange(config['apiKey'],config[_0x2c11d6(0x2eb)]),await initWsEvents();let _0x59661d=![];try{_0x59661d=await loadSymbols();}catch(_0xc0c4b7){handleError(_0xc0c4b7,'loadSymbols()');}if(_0x59661d){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x2c11d6(0x217)]==0x0&&allOpenOrders[_0x2c11d6(0x217)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x26e8f9,_0x133c73){const _0x39e07c=_0x20de75,_0x4c8157=ccxt[config[_0x39e07c(0x26c)]];let _0x23204f;switch(config[_0x39e07c(0x26c)]){case _0x39e07c(0x236):_0x23204f=_0x39e07c(0x2cc);break;case _0x39e07c(0x2b9):_0x23204f='wss://stream.binance.us:9443';break;default:_0x23204f=_0x39e07c(0x2cc);}exchange=new _0x4c8157({'apiKey':_0x26e8f9,'secret':_0x133c73,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x39e07c(0x271)][_0x39e07c(0x1b3)]=_0x26e8f9,wsClient[_0x39e07c(0x271)][_0x39e07c(0x2d6)]=_0x133c73,wsClient[_0x39e07c(0x271)][_0x39e07c(0x227)]=_0x23204f;let _0x2aad5a=config[_0x39e07c(0x26c)]=='binanceus'?_0x39e07c(0x21f):'EUR',_0x12e53d=config[_0x39e07c(0x231)]==_0x39e07c(0x1b1)?_0x39e07c(0x1b1):'BTC';stablecoins={'eur':{'coin':''+_0x12e53d+_0x2aad5a,'symbol':_0x12e53d+'/'+_0x2aad5a},'usd':{'coin':_0x12e53d+_0x39e07c(0x21f),'symbol':_0x12e53d+'/USDT'}};}async function initWsEvents(){const _0x239cea=_0x20de75;!wsClient[_0x239cea(0x2b4)][_0x239cea(0x2d8)]&&wsClient['on'](_0x239cea(0x2d8),_0x4baf1c=>{const _0x2fa1b1=_0x239cea;if(isWsFormattedKline(_0x4baf1c)){global[_0x2fa1b1(0x2a1)][_0x4baf1c[_0x2fa1b1(0x1f4)][_0x2fa1b1(0x21e)]]=_0x4baf1c[_0x2fa1b1(0x1f4)][_0x2fa1b1(0x18b)];return;}else{if(isWsFormatted24hrTicker(_0x4baf1c)){global[_0x2fa1b1(0x22c)][_0x4baf1c[_0x2fa1b1(0x21e)]]=_0x4baf1c[_0x2fa1b1(0x1a5)];return;}else{if(!Array['isArray'](_0x4baf1c)&&_0x4baf1c[_0x2fa1b1(0x289)][_0x2fa1b1(0x1ee)](_0x2fa1b1(0x2a4))){if(_0x4baf1c[_0x2fa1b1(0x2c2)][_0x2fa1b1(0x1ee)](_0x2fa1b1(0x2c1))){updateNumberCoins(_0x4baf1c);return;}}}}}),!wsClient[_0x239cea(0x2b4)]['reconnected']&&wsClient['on'](_0x239cea(0x273),async _0x17f190=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x28da3b=_0x20de75;let _0x24a443=![];try{markets=await exchange[_0x28da3b(0x2ce)](),allSymbols=exchange[_0x28da3b(0x224)][_0x28da3b(0x1ec)](_0x332f13=>{const _0x5af4de=_0x28da3b;let _0x5047ac=![];return exceptions[_0x5af4de(0x2aa)](_0xfd1190=>{const _0x170498=_0x5af4de;if(_0x332f13[_0x170498(0x1ee)](_0xfd1190))_0x5047ac=!![];}),!_0x5047ac;}),_0x24a443=!![];}catch(_0xef80bb){_0x24a443=![];throw _0xef80bb;}return _0x24a443;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x4a40f5=_0x20de75;proxyEmit(_0x4a40f5(0x262),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4a40f5(0x1a7),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x21402c=getNormalizedPerformance();emitPerformance(_0x21402c),await getStartingBalances(_0x21402c);}async function toggleBotMode(){const _0x8b0324=_0x20de75;let _0xe105b9=dbConfig[_0x8b0324(0x1de)](_0x8b0324(0x1cd))[_0x8b0324(0x282)]({'botID':botID})['value']();if(_0xe105b9){const _0x3bbca2=!_0xe105b9[_0x8b0324(0x2e9)];dbConfig[_0x8b0324(0x1de)](_0x8b0324(0x1cd))[_0x8b0324(0x282)]({'botID':botID})['assign']({'headless':_0x3bbca2})[_0x8b0324(0x1d8)](),config['headless']=_0x3bbca2,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x166905=_0x20de75;process[_0x166905(0x26b)]({'updatebotmanager':!![]},_0x577e03=>{});}function cleanws(){const _0x2dfe6a=_0x20de75;wsinitialized=![];ws1&&(ws1[_0x2dfe6a(0x2aa)](_0x18ce9b=>{const _0x27d129=_0x2dfe6a;try{wsClient[_0x27d129(0x18b)](_0x18ce9b);}catch(_0x1c3b86){}}),ws1=[]);if(ws2){try{wsClient[_0x2dfe6a(0x18b)](ws2);}catch(_0x25c547){}ws2=null;}ws3&&(ws3[_0x2dfe6a(0x2aa)](_0x387ac0=>{try{wsClient['close'](_0x387ac0);}catch(_0x386d73){}}),ws3=[]);}async function initws(){const _0x23fd9a=_0x20de75;cleanws();let _0x334a16=[];currentCoins['forEach'](_0x21ff5f=>{const _0x5097c3=_0x304f;if(_0x21ff5f[_0x5097c3(0x1b2)]!=config['basecoin'])_0x334a16[_0x5097c3(0x202)](_0x21ff5f[_0x5097c3(0x21e)]);});if(!_0x334a16[_0x23fd9a(0x1ee)](stablecoins[_0x23fd9a(0x2e1)]['symbol']))_0x334a16[_0x23fd9a(0x202)](stablecoins['eur'][_0x23fd9a(0x21e)]);if(!_0x334a16[_0x23fd9a(0x1ee)](stablecoins[_0x23fd9a(0x1cf)]['symbol']))_0x334a16[_0x23fd9a(0x202)](stablecoins['usd'][_0x23fd9a(0x21e)]);if(!_0x334a16[_0x23fd9a(0x1ee)]('BNB/'+config[_0x23fd9a(0x231)]))_0x334a16[_0x23fd9a(0x202)]('BNB/'+config[_0x23fd9a(0x231)]);try{_0x334a16['forEach']((_0x2921f9,_0x16fd93)=>{const _0x2021eb=_0x23fd9a;ws1[_0x16fd93]=wsClient[_0x2021eb(0x22f)](noslash(_0x2921f9),'1m'),ws3[_0x16fd93]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x2921f9),_0x2021eb(0x2c1));}),ws2=wsClient[_0x23fd9a(0x2df)]();}catch(_0x1b42fc){await handleError(_0x1b42fc,'initws()');}let _0x338fc2,_0xf1ccb=0x0;loading[_0x23fd9a(0x1a9)]=[];let _0x227d0e=0x0;_0x334a16[_0x23fd9a(0x2aa)](_0x231655=>{const _0x4939ef=_0x23fd9a;loading[_0x4939ef(0x1a9)]['push'](_0x231655);}),loadingCanceled=![];let _0x485b89=![];while(_0x338fc2!=_0x334a16[_0x23fd9a(0x217)]){_0x338fc2=0x0,_0x334a16[_0x23fd9a(0x2aa)](_0x2d3fd5=>{const _0x49cb32=_0x23fd9a;global[_0x49cb32(0x2a1)][noslash(_0x2d3fd5)]&&(loading[_0x49cb32(0x1a9)]=loading[_0x49cb32(0x1a9)]['filter'](_0x31e5b9=>_0x31e5b9!=_0x2d3fd5),_0x338fc2++);}),loading[_0x23fd9a(0x1dd)]=Math['round'](_0x338fc2/_0x334a16['length']*0x64);loading[_0x23fd9a(0x1dd)]!=0x64&&(_0x227d0e>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x227d0e>0x78*0x5&&!_0x485b89&&(loading[_0x23fd9a(0x216)]=!![],emitLoadingProgress(),_0x485b89=!![],logHistory(_0x23fd9a(0x27a),_0x23fd9a(0x23d)+loading['remainingSymbols'][_0x23fd9a(0x209)](',\x20')+_0x23fd9a(0x291)),logHistory(_0x23fd9a(0x27a),_0x23fd9a(0x193)+loadCoinsRetryInterval/0xea60+_0x23fd9a(0x210)),pidCoinReloading=setTimeout(()=>{const _0x5b70a5=_0x23fd9a;process['send']({'stop':_0x5b70a5(0x297)},_0x2ab5b9=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x23fd9a(0x216)]=!![],emitLoadingProgress();break;}else _0x338fc2!=_0xf1ccb&&(_0xf1ccb=_0x338fc2,emitLoadingProgress()),_0x227d0e++,await sleep(0xc8);}_0x338fc2==_0x334a16['length']&&(wsinitialized=!![],_0x485b89&&logHistory(_0x23fd9a(0x2cb),_0x23fd9a(0x252)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2b0fed=_0x20de75;proxyEmit(_0x2b0fed(0x262),{...emittedConfiguration(),'configstate':_0x2b0fed(0x1af)});}function emitLoadingProgress(){const _0x471701=_0x20de75;proxyEmit(_0x471701(0x2e2),loading);}async function getFiat(){const _0x5d675e=_0x20de75;let _0x46e427=0x0,_0xda51dc=0x0;try{_0x46e427=global[_0x5d675e(0x2a1)][stablecoins['eur'][_0x5d675e(0x1b2)]],_0xda51dc=global[_0x5d675e(0x2a1)][stablecoins[_0x5d675e(0x1cf)]['coin']];}catch(_0x23446e){await handleError(_0x23446e,_0x5d675e(0x2ba));}return{'eur':Number(_0x46e427),'usd':Number(_0xda51dc)};}function setStartDatePerformance(){const _0x499ceb=_0x20de75;if(config&&config[_0x499ceb(0x24d)][0x0][_0x499ceb(0x28b)]['length']!=0x0){const _0x29b5af=config[_0x499ceb(0x24d)][0x0]['changes'];dbPerformance['get']('data')['find']({'date':config[_0x499ceb(0x233)]})[_0x499ceb(0x223)]({'coins':_0x29b5af})[_0x499ceb(0x1d8)]();}}async function recreateCoinResults(){const _0x20c2dc=_0x20de75;let _0x326aa1,_0x580cf2=[];try{const _0x55df36=fns['format'](fns[_0x20c2dc(0x243)](config[_0x20c2dc(0x233)][_0x20c2dc(0x18c)](/\//g,'-')),_0x20c2dc(0x1d9));for(const _0x795b10 of currentCoins){if(_0x795b10[_0x20c2dc(0x1b2)]!=config[_0x20c2dc(0x231)]){let _0x3043e8=0x0,_0x2db6ff,_0x314133;_0x326aa1=await getAllEventOrders(_0x795b10[_0x20c2dc(0x21e)]);if(_0x326aa1['length']>0x0)_0x326aa1['forEach'](_0x360d22=>{const _0x1c8412=_0x20c2dc,_0x58b9b3=_0x795b10[_0x1c8412(0x21e)]['includes'](config['basecoin']+'/');_0x580cf2[_0x1c8412(0x202)]({'datetime':_0x360d22['datetime'],'coin':_0x795b10[_0x1c8412(0x1b2)],'symbol':_0x795b10[_0x1c8412(0x21e)],'side':_0x360d22['side'],'reverse':_0x58b9b3,'amount':formatResult(_0x360d22[_0x1c8412(0x23a)],0x8),'filled':formatResult(_0x360d22[_0x1c8412(0x23a)],0x8),'price':formatResult(_0x360d22[_0x1c8412(0x18d)],0x8)}),_0x3043e8=_0x360d22[_0x1c8412(0x29f)]==_0x1c8412(0x203)?_0x3043e8+_0x360d22[_0x1c8412(0x23a)]:_0x3043e8-_0x360d22[_0x1c8412(0x23a)];if(!_0x314133)_0x314133=_0x360d22[_0x1c8412(0x18d)];});_0x2db6ff=_0x795b10[_0x20c2dc(0x23b)]-_0x3043e8;let _0x4e3d3f;config[_0x20c2dc(0x24d)][_0x20c2dc(0x2aa)](_0x50616c=>{const _0x50ed38=_0x20c2dc;!_0x4e3d3f&&(_0x4e3d3f=_0x50616c[_0x50ed38(0x28b)]['find'](_0x285fa9=>_0x285fa9[_0x50ed38(0x1b2)]==_0x795b10[_0x50ed38(0x1b2)]),_0x4e3d3f&&(_0x2db6ff=_0x4e3d3f[_0x50ed38(0x23b)],_0x314133=_0x4e3d3f[_0x50ed38(0x18d)]));});let _0x1d6ad9=dbCoinResults[_0x20c2dc(0x1de)]('coins')[_0x20c2dc(0x282)]({'coin':_0x795b10[_0x20c2dc(0x1b2)]})[_0x20c2dc(0x19b)]();_0x1d6ad9={'coin':_0x795b10['coin'],'number':_0x2db6ff,'breakeven':_0x314133,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x20c2dc(0x1f7))[_0x20c2dc(0x282)]({'coin':_0x795b10[_0x20c2dc(0x1b2)]})['assign'](_0x1d6ad9)[_0x20c2dc(0x1d8)]();}}_0x580cf2[_0x20c2dc(0x2b8)]((_0x16fcda,_0x3444df)=>_0x16fcda['datetime']>_0x3444df[_0x20c2dc(0x1e6)]?0x1:_0x3444df['datetime']>_0x16fcda[_0x20c2dc(0x1e6)]?-0x1:0x0);let _0x14779c=0x0;for(let _0x1ee593 of _0x580cf2){await updateCoinResults(_0x1ee593,!![]);}}catch(_0x52688d){await handleError(_0x52688d,'recreateCoinResults()');}}async function getAllEventOrders(_0x56e3b7){const _0x589c18=_0x20de75;let _0xae4dd6=[],_0x37975f=dbLogs[_0x589c18(0x1de)](_0x589c18(0x251))[_0x589c18(0x1ec)](_0x35c8dc=>{const _0x4747f7=_0x589c18,_0x2a7f25=_0x35c8dc['event']['toLowerCase']();return _0x2a7f25['includes'](_0x56e3b7['toLowerCase']())&&(_0x2a7f25['includes']('market')&&_0x2a7f25[_0x4747f7(0x1ee)](_0x4747f7(0x293))||_0x2a7f25[_0x4747f7(0x1ee)](_0x4747f7(0x23a))&&_0x2a7f25[_0x4747f7(0x1ee)](_0x4747f7(0x293)));})[_0x589c18(0x192)](_0x589c18(0x1cb))[_0x589c18(0x19b)]();return _0x37975f[_0x589c18(0x2aa)](_0x551954=>{const _0x38e15e=_0x589c18,_0x17e52b=_0x551954['event'][_0x38e15e(0x1ee)](_0x38e15e(0x225))?_0x38e15e(0x225):'buy',_0x3b12be=/#([0-9]|\.)+\s/i,_0x4b43ff=Number(_0x3b12be[_0x38e15e(0x25b)](_0x551954[_0x38e15e(0x256)])[0x0][_0x38e15e(0x1ba)](0x1)),_0x10b462=/@([0-9]|\.)+$/i,_0x4a6c2e=Number(_0x10b462[_0x38e15e(0x25b)](_0x551954[_0x38e15e(0x256)])[0x0][_0x38e15e(0x1ba)](0x1));_0xae4dd6[_0x38e15e(0x202)]({'datetime':_0x551954['time'],'coin':symbolToCoin(_0x56e3b7),'symbol':_0x56e3b7,'side':_0x17e52b,'amount':_0x4b43ff,'filled':_0x4b43ff,'price':_0x4a6c2e});}),_0xae4dd6;}async function getAllOrders(_0x21908c,_0x91b042){const _0x5b7089=_0x20de75;let _0x5e587c=[];while(_0x91b042<exchange[_0x5b7089(0x2bf)]()){const _0x45e5df=0x1f4,_0x3c350a=await exchange['fetchClosedOrders'](_0x21908c,_0x91b042,_0x45e5df);if(_0x3c350a[_0x5b7089(0x217)])_0x91b042=_0x3c350a[_0x3c350a[_0x5b7089(0x217)]-0x1][_0x5b7089(0x27c)]+0x1,_0x5e587c=_0x5e587c[_0x5b7089(0x25c)](_0x3c350a);else break;}return _0x5e587c;}async function validate24hChanges(){const _0x2b74a1=_0x20de75;let _0x4280ee;for(const _0xc472dd of currentCoins){if(_0xc472dd['coin']!=config[_0x2b74a1(0x231)]){let _0x43b0f8;_0xc472dd[_0x2b74a1(0x20c)]?_0x43b0f8=formatResult((0x1/(global['change'][noslash(_0xc472dd[_0x2b74a1(0x21e)])]/0x64+0x1)-0x1)*0x64,0x3):_0x43b0f8=global[_0x2b74a1(0x22c)][noslash(_0xc472dd[_0x2b74a1(0x21e)])],_0x43b0f8<config[_0x2b74a1(0x2ab)]&&(logHistory('error',_0xc472dd[_0x2b74a1(0x1b2)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x43b0f8+'%'),logHistory(_0x2b74a1(0x27a),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x467cd6=_0x20de75;let _0x1e2dbb=dbLogs['get'](_0x467cd6(0x222))[_0x467cd6(0x19b)]();if(_0x1e2dbb!=_0x467cd6(0x1be)){dbLogs['set'](_0x467cd6(0x222),_0x467cd6(0x1be))[_0x467cd6(0x1d8)]();let _0x3443bd=[];const _0x5b57c6=dbLogs[_0x467cd6(0x1de)](_0x467cd6(0x251))['value']();_0x5b57c6['forEach'](_0x55e85b=>{const _0x3dd033=_0x467cd6;_0x3443bd['push']({'time':_0x55e85b['time'],'type':_0x55e85b[_0x3dd033(0x213)],'event':_0x55e85b['event']});}),dbLogs['get'](_0x467cd6(0x251))[_0x467cd6(0x223)](_0x3443bd)[_0x467cd6(0x1d8)]();}let _0x4bea64=dbConfig['get']('version')['value']();if(_0x4bea64!=_0x467cd6(0x1be)){dbConfig['set']('version',_0x467cd6(0x1be))[_0x467cd6(0x1d8)]();let _0x5e34e4=dbConfig['get'](_0x467cd6(0x1cd))['find']({'botID':botID})[_0x467cd6(0x19b)]();if(_0x5e34e4){let _0x352f76=[];_0x5e34e4['portfolio'][_0x467cd6(0x2aa)](_0x34193e=>{const _0x4792ba=_0x467cd6;_0x352f76[_0x4792ba(0x202)]({'coin':_0x34193e[_0x4792ba(0x1b2)],'number':_0x34193e[_0x4792ba(0x1a0)],'price':_0x34193e[_0x4792ba(0x241)]}),delete _0x34193e['startnumber'],delete _0x34193e[_0x4792ba(0x241)];});if(_0x352f76[_0x467cd6(0x217)]!==0x0)fs[_0x467cd6(0x2e3)](configbackuppath+(_0x467cd6(0x2e0)+botID+'.json'),JSON['stringify'](_0x352f76,null,0x4),function(_0x16cc55){if(_0x16cc55){}});const _0x41a7bc=(_0x3eb4b2,_0x48e42e)=>{const _0x30c6f5=_0x467cd6;let _0x72d7bd=[];_0x48e42e['forEach'](_0x2352d9=>{const _0x73bf2e=_0x304f,_0x481e00=_0x3eb4b2[_0x73bf2e(0x282)](_0x3e84d4=>_0x3e84d4['coin']==_0x2352d9['coin']);if(!_0x481e00)_0x72d7bd[_0x73bf2e(0x202)](_0x2352d9);});let _0x1bc40f=[];return _0x3eb4b2[_0x30c6f5(0x2aa)](_0xa65171=>{const _0x53717e=_0x30c6f5,_0x39d75a=_0x48e42e['find'](_0x13fb8e=>_0x13fb8e[_0x53717e(0x1b2)]==_0xa65171[_0x53717e(0x1b2)]);if(!_0x39d75a||_0x39d75a['number']==0x0&&_0xa65171[_0x53717e(0x23b)]!=0x0)_0x1bc40f['push'](_0xa65171);}),{'missingDay1':_0x72d7bd,'notInDay2':_0x1bc40f};},_0x35a5e6=dbPerformance['get'](_0x467cd6(0x1f3))[_0x467cd6(0x23f)]()[_0x467cd6(0x19b)]();if(_0x35a5e6[_0x467cd6(0x217)]>0x1){const {missingDay1:_0xbbce57,notInDay2:_0x296ef9}=_0x41a7bc(_0x352f76,_0x35a5e6[0x1]['coins']);_0x352f76=[..._0x352f76,..._0xbbce57],_0x296ef9['forEach'](_0x18999b=>{const _0x54fa1a=_0x467cd6;let _0x2c5a50=_0x352f76[_0x54fa1a(0x25d)](_0x44dd3b=>_0x44dd3b['coin']==_0x18999b[_0x54fa1a(0x1b2)]);_0x2c5a50!=-0x1&&_0x352f76[_0x54fa1a(0x2be)](_0x2c5a50,0x1);});}_0x352f76[_0x467cd6(0x2b8)]((_0x3bf697,_0x3b2dc1)=>_0x3bf697[_0x467cd6(0x1b2)]>_0x3b2dc1['coin']?0x1:_0x3b2dc1[_0x467cd6(0x1b2)]>_0x3bf697[_0x467cd6(0x1b2)]?-0x1:0x0);let _0x2099fb=[{'date':_0x5e34e4[_0x467cd6(0x233)],'changes':_0x352f76}];_0x35a5e6[_0x467cd6(0x217)]>0x2&&_0x35a5e6[_0x467cd6(0x2aa)]((_0x3f5763,_0x1a0a18)=>{const _0x24f799=_0x467cd6;if(_0x1a0a18>0x0&&_0x1a0a18<_0x35a5e6[_0x24f799(0x217)]-0x1){const {missingDay1:_0x4a23ea,notInDay2:_0xc0360c}=_0x41a7bc(_0x35a5e6[_0x1a0a18][_0x24f799(0x1f7)],_0x35a5e6[_0x1a0a18+0x1]['coins']);_0x352f76=[],(_0x4a23ea[_0x24f799(0x217)]!=0x0||_0xc0360c[_0x24f799(0x217)]!=0x0)&&(_0x4a23ea[_0x24f799(0x217)]!=0x0&&_0x352f76[_0x24f799(0x202)](..._0x4a23ea),_0xc0360c['length']!=0x0&&(_0xc0360c[_0x24f799(0x2aa)](_0x7cb917=>{const _0x38ac1b=_0x24f799;_0x7cb917[_0x38ac1b(0x23b)]=-_0x7cb917[_0x38ac1b(0x23b)];}),_0x352f76[_0x24f799(0x202)](..._0xc0360c)),_0x352f76[_0x24f799(0x2b8)]((_0xf4a875,_0x36159f)=>_0xf4a875[_0x24f799(0x1b2)]>_0x36159f[_0x24f799(0x1b2)]?0x1:_0x36159f[_0x24f799(0x1b2)]>_0xf4a875['coin']?-0x1:0x0),_0x2099fb[_0x24f799(0x202)]({'date':_0x35a5e6[_0x1a0a18+0x1][_0x24f799(0x275)],'changes':_0x352f76}));}}),dbConfig[_0x467cd6(0x1de)](_0x467cd6(0x1cd))[_0x467cd6(0x282)]({'botID':botID})[_0x467cd6(0x223)]({..._0x5e34e4,'liquidity':_0x2099fb})[_0x467cd6(0x1d8)]();}}config=getConfiguration(botID);let _0xd3e785=dbPerformance[_0x467cd6(0x1de)](_0x467cd6(0x222))[_0x467cd6(0x19b)]();_0xd3e785!=_0x467cd6(0x1be)&&(dbPerformance['set']('version',_0x467cd6(0x1be))[_0x467cd6(0x1d8)](),setStartDatePerformance());let _0x45d180=dbCoinResults[_0x467cd6(0x1de)](_0x467cd6(0x222))[_0x467cd6(0x19b)]();if(_0x45d180!=_0x467cd6(0x279)){dbCoinResults[_0x467cd6(0x1e5)]('version',_0x467cd6(0x279))[_0x467cd6(0x1d8)]();let _0x30e2be=dbCoinResults[_0x467cd6(0x1de)]('coins')[_0x467cd6(0x19b)]();if(_0x30e2be[_0x467cd6(0x217)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x3de508){const _0x52d292=_0x20de75;let _0x351ed5=dbConfig['get'](_0x52d292(0x1cd))[_0x52d292(0x282)]({'botID':_0x3de508})[_0x52d292(0x19b)]();if(_0x351ed5){let _0x378074=![];typeof _0x351ed5[_0x52d292(0x258)]=='string'&&(_0x351ed5={..._0x351ed5,'threshold':Number(_0x351ed5['threshold'])},_0x378074=!![]),_0x351ed5[_0x52d292(0x2ab)]==null&&(_0x351ed5={..._0x351ed5,'change24h':-0x14},_0x378074=!![]),_0x378074&&(_0x351ed5={'botID':_0x351ed5[_0x52d292(0x1d1)],'exchange':_0x351ed5[_0x52d292(0x26c)],'apiKey':_0x351ed5['apiKey'],'apiSecret':_0x351ed5[_0x52d292(0x2eb)],'basecoin':_0x351ed5[_0x52d292(0x231)],'botname':_0x351ed5[_0x52d292(0x1b9)],'showname':_0x351ed5['showname'],'threshold':_0x351ed5[_0x52d292(0x258)],'ordertype':_0x351ed5['ordertype'],'timeout':_0x351ed5[_0x52d292(0x2e8)],'startdate':_0x351ed5[_0x52d292(0x233)],'recreate':_0x351ed5[_0x52d292(0x2af)],'timeshift':_0x351ed5['timeshift'],'headless':_0x351ed5['headless'],'cooldown':_0x351ed5[_0x52d292(0x205)],'change24h':_0x351ed5[_0x52d292(0x2ab)],'emojibuy':_0x351ed5[_0x52d292(0x1a4)],'emojisell':_0x351ed5[_0x52d292(0x266)],'portfolio':_0x351ed5[_0x52d292(0x234)],'liquidity':_0x351ed5[_0x52d292(0x24d)]},dbConfig[_0x52d292(0x1de)]('bot')[_0x52d292(0x1e2)]()['write'](),dbConfig['get'](_0x52d292(0x1cd))['push'](_0x351ed5)[_0x52d292(0x1d8)]());}else _0x351ed5={'botID':_0x3de508,'exchange':_0x52d292(0x236),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x52d292(0x267)+_0x3de508,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x351ed5;}function emittedConfiguration(){const _0x109704=_0x20de75;let _0x1d73c;if(config['apiKey']=='')_0x1d73c={...config,'configstate':_0x109704(0x22b)};else config['apiKey']==_0x109704(0x24b)?_0x1d73c={...config,'configstate':_0x109704(0x296)}:_0x1d73c={...config,'apiKey':_0x109704(0x292),'apiSecret':'************'};return _0x1d73c;}function getSettings(){const _0x2ac769=_0x20de75;return dbSettings[_0x2ac769(0x1de)](_0x2ac769(0x1da))[_0x2ac769(0x19b)]();}function _0x304f(_0x3a5c0a,_0x3cd934){const _0x3aeeaf=_0x175a();return _0x304f=function(_0x19c738,_0x112eb0){_0x19c738=_0x19c738-0x18b;let _0x175a98=_0x3aeeaf[_0x19c738];return _0x175a98;},_0x304f(_0x3a5c0a,_0x3cd934);}function getSecure(){const _0x5f5aa8=_0x20de75;return dbSecure[_0x5f5aa8(0x1de)](_0x5f5aa8(0x285))[_0x5f5aa8(0x19b)]()||{};}function updateTimeshift(_0x5bb72c){const _0x5b28dd=_0x20de75;let _0x262e68=dbConfig['get']('bot')[_0x5b28dd(0x282)]({'botID':botID})[_0x5b28dd(0x19b)]();_0x262e68&&dbConfig['get'](_0x5b28dd(0x1cd))[_0x5b28dd(0x282)]({'botID':botID})[_0x5b28dd(0x223)]({'timeshift':_0x5bb72c})[_0x5b28dd(0x1d8)](),config[_0x5b28dd(0x1d7)]=_0x5bb72c,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x2b3b0e){const _0x40f79a=_0x20de75;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x507057=dbConfig['get'](_0x40f79a(0x1cd))['find']({'botID':botID})['value']();_0x2b3b0e={..._0x2b3b0e,'apiKey':crypt['decrypt'](secure[_0x40f79a(0x26e)],_0x2b3b0e[_0x40f79a(0x197)])[_0x40f79a(0x2ed)],'apiSecret':crypt[_0x40f79a(0x277)](secure[_0x40f79a(0x26e)],_0x2b3b0e[_0x40f79a(0x2eb)])[_0x40f79a(0x2ed)]};if(_0x507057){if(_0x2b3b0e[_0x40f79a(0x197)]==_0x40f79a(0x292))_0x2b3b0e['apiKey']=config['apiKey'];if(_0x2b3b0e[_0x40f79a(0x2eb)]==_0x40f79a(0x292))_0x2b3b0e[_0x40f79a(0x2eb)]=config['apiSecret'];dbConfig[_0x40f79a(0x1de)](_0x40f79a(0x1cd))[_0x40f79a(0x282)]({'botID':botID})[_0x40f79a(0x223)](_0x2b3b0e)[_0x40f79a(0x1d8)]();}else dbConfig[_0x40f79a(0x1de)](_0x40f79a(0x1cd))[_0x40f79a(0x202)](_0x2b3b0e)['write'](),process['send']({'status':_0x40f79a(0x2b0),'live':_0x40f79a(0x2d3)},_0x1f982e=>{});config={..._0x2b3b0e},setStartDatePerformance(),process[_0x40f79a(0x26b)]({'botname':_0x2b3b0e[_0x40f79a(0x1b9)]},_0x668cd4=>{}),updateBotManager();const _0x7c24b0=getNormalizedPerformance();getStartingBalances(_0x7c24b0),emitPerformance(_0x7c24b0),proxyEmit(_0x40f79a(0x1e0)),await initCoinResults(),reset();}async function storeHeadless(_0x2ef1f5){const _0x2348dc=_0x20de75,_0xb34eae={...config,'headless':_0x2ef1f5[_0x2348dc(0x2e9)]};let _0x484804=dbConfig[_0x2348dc(0x1de)]('bot')[_0x2348dc(0x282)]({'botID':botID})[_0x2348dc(0x19b)]();_0x484804&&dbConfig[_0x2348dc(0x1de)](_0x2348dc(0x1cd))[_0x2348dc(0x282)]({'botID':botID})[_0x2348dc(0x223)](_0xb34eae)[_0x2348dc(0x1d8)](),config={..._0xb34eae},updateBotManager(),proxyEmit(_0x2348dc(0x262),emittedConfiguration());}function noslash(_0x273deb){return _0x273deb['replace']('/','');}async function updateNumberCoins(_0x43f406){const _0x2ba212=_0x20de75;if(_0x43f406['eventType']&&_0x43f406[_0x2ba212(0x2dc)]==_0x2ba212(0x1e1)){logger[_0x2ba212(0x25a)]('0\x20-\x20EXECUTION:\x20'+_0x43f406['symbol']+_0x2ba212(0x21b)+_0x43f406['orderStatus']+'\x20|\x20'+_0x43f406[_0x2ba212(0x298)]+'\x20|\x20'+_0x43f406['newClientOrderId']);let _0x1083dc=_0x43f406[_0x2ba212(0x2c7)],_0x4ad207=![];currentCoins[_0x2ba212(0x2aa)](_0x52954e=>{const _0x437cbc=_0x2ba212;noslash(_0x52954e['symbol'])==_0x43f406[_0x437cbc(0x21e)]&&(_0x4ad207=!![]);});if(!_0x4ad207)return;const _0x52fc3f=currentCoins['find'](_0x5b195b=>noslash(_0x5b195b['symbol'])==_0x43f406['symbol']),_0x112591=_0x4253cb=>{const _0x5c4105=_0x2ba212;if(_0x52fc3f)_0x52fc3f[_0x5c4105(0x2a0)]=_0x4253cb;};if(_0x1083dc==_0x2ba212(0x19d))_0x112591(_0x2ba212(0x28f));else{if(_0x1083dc==_0x2ba212(0x239))_0x112591(_0x2ba212(0x249)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x1083dc==_0x2ba212(0x1c6)){logger[_0x2ba212(0x25a)](_0x2ba212(0x281)+_0x43f406['symbol']+_0x2ba212(0x21b)+_0x43f406[_0x2ba212(0x18e)]+_0x2ba212(0x21b)+_0x43f406[_0x2ba212(0x298)]+_0x2ba212(0x21b)+_0x43f406[_0x2ba212(0x1e9)]);let _0x459364=![];if(lastOrders)lastOrders[_0x2ba212(0x2aa)](async _0x343bee=>{const _0x4baa42=_0x2ba212;if(_0x343bee[_0x4baa42(0x1d0)]==_0x43f406[_0x4baa42(0x1e9)]){logger[_0x4baa42(0x25a)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x43f406['newClientOrderId']),_0x459364=!![];if(_0x343bee[_0x4baa42(0x23a)]==0x0){logger[_0x4baa42(0x25a)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x43f406[_0x4baa42(0x1e9)]),_0x343bee[_0x4baa42(0x18d)]=_0x43f406[_0x4baa42(0x1ab)]/_0x43f406[_0x4baa42(0x18e)],_0x343bee[_0x4baa42(0x23a)]=_0x43f406[_0x4baa42(0x18e)],_0x343bee[_0x4baa42(0x2c5)]={'cost':_0x43f406['commission'],'currency':_0x43f406[_0x4baa42(0x2e7)]},_0x112591(_0x4baa42(0x23a)),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x343bee);}}});!_0x459364&&(logger[_0x2ba212(0x25a)](_0x2ba212(0x2ec)+_0x43f406[_0x2ba212(0x298)]),_0x112591('filled'),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x5833cc=JSON[_0x2ba212(0x228)](lastBalances['portfolio']);const _0x490889=_0x5833cc[_0x2ba212(0x282)](_0x28a019=>noslash(_0x28a019[_0x2ba212(0x21e)])==_0x43f406['symbol']);if(_0x490889){if(_0x1083dc=='NEW')_0x490889[_0x2ba212(0x2a0)]=_0x490889[_0x2ba212(0x2a0)]==_0x2ba212(0x23a)?'filled':_0x2ba212(0x28f);else{if(_0x1083dc=='CANCELED')_0x490889[_0x2ba212(0x2a0)]=_0x490889[_0x2ba212(0x2a0)]==_0x2ba212(0x23a)?'filled':_0x2ba212(0x249);else _0x1083dc==_0x2ba212(0x1c6)&&(_0x490889[_0x2ba212(0x2a0)]=_0x2ba212(0x23a));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x5833cc)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x3298b6=![],_0x1f5eff=!![],_0x28bb23=config[_0x20de75(0x231)]){const _0x1ed1f2=_0x20de75;let _0x380745,_0x581282=[],_0x1d3590=[],_0x3f2a27=[];try{_0x380745=await exchange[_0x1ed1f2(0x294)](),mybalances=_0x380745[_0x1ed1f2(0x1c8)];if(!_0x1f5eff)for(const [_0x489c94,_0xce9b3f]of Object[_0x1ed1f2(0x27e)](mybalances)){_0x3f2a27[_0x1ed1f2(0x202)](_0x489c94);}else config[_0x1ed1f2(0x234)][_0x1ed1f2(0x2aa)](_0x1ea211=>{const _0x39f4f9=_0x1ed1f2;if(!_0x1ea211['excluded'])_0x3f2a27[_0x39f4f9(0x202)](_0x1ea211[_0x39f4f9(0x1b2)]);});if(_0x28bb23=='')for(const [_0x5cbd57,_0x11b131]of Object['entries'](mybalances)){_0x11b131['toString']()!=0x0&&_0x1d3590['push']({'coin':_0x5cbd57});}else{if(_0x3298b6)await getOpenOrders();let _0x2f15f5=![];for(const [_0x34b24b,_0x3200ca]of Object[_0x1ed1f2(0x27e)](mybalances)){if(_0x3f2a27[_0x1ed1f2(0x1ee)](_0x34b24b)){const _0x2759d7=config[_0x1ed1f2(0x234)][_0x1ed1f2(0x282)](_0x24d29d=>_0x24d29d['coin']==_0x34b24b),_0x204a77=_0x34b24b+'/'+_0x28bb23,_0x2aab6b=_0x28bb23+'/'+_0x34b24b,_0x1cfd96=currentCoins['find'](_0x2fe760=>_0x2fe760[_0x1ed1f2(0x1b2)]==_0x34b24b);_0x2f15f5=![];_0x3298b6&&(_0x2f15f5=allOpenOrders[_0x1ed1f2(0x282)](_0x1b6931=>_0x1b6931[_0x1ed1f2(0x21e)]==_0x2759d7[_0x1ed1f2(0x21e)]));if((_0x3200ca[_0x1ed1f2(0x2d4)]()!=0x0||_0x2759d7)&&(allSymbols['includes'](_0x204a77)||_0x34b24b==_0x28bb23))_0x34b24b!=_0x28bb23&&_0x581282[_0x1ed1f2(0x202)](_0x204a77),_0x1d3590[_0x1ed1f2(0x202)]({'coin':_0x34b24b,'symbol':_0x204a77,'reverse':![],'number':Math[_0x1ed1f2(0x237)](_0x3200ca+(_0x2759d7&&_0x2759d7['offset']||0x0),0x0),'orderstatus':_0x3298b6?_0x2f15f5?_0x1ed1f2(0x28f):_0x1ed1f2(0x272):_0x1cfd96?_0x1cfd96[_0x1ed1f2(0x2a0)]:_0x1ed1f2(0x272)});else(_0x3200ca[_0x1ed1f2(0x2d4)]()!=0x0||_0x2759d7)&&allSymbols[_0x1ed1f2(0x1ee)](_0x2aab6b)&&(_0x34b24b!=_0x28bb23&&_0x581282[_0x1ed1f2(0x202)](_0x2aab6b),_0x1d3590[_0x1ed1f2(0x202)]({'coin':_0x34b24b,'symbol':_0x2aab6b,'reverse':!![],'number':Math[_0x1ed1f2(0x237)](_0x3200ca+(_0x2759d7&&_0x2759d7['offset']||0x0),0x0),'orderstatus':_0x3298b6?_0x2f15f5?_0x1ed1f2(0x28f):_0x1ed1f2(0x272):_0x1cfd96?_0x1cfd96['orderstatus']:_0x1ed1f2(0x272)}));}}}}catch(_0x39e539){if(!_0x1f5eff)handleErrorNoStop(_0x39e539,_0x1ed1f2(0x2e6));else await handleError(_0x39e539,_0x1ed1f2(0x2e6));}return _0x1d3590;}async function getCoinNumber(_0x1e51a0){let _0x1ff6b5;try{const _0x3d0c4a=await exchange['fetchBalance']();_0x1ff6b5=_0x3d0c4a['total'][_0x1e51a0];}catch(_0x41184b){await handleError(_0x41184b,'getCoinNumber()');}return _0x1ff6b5;}async function getOpenOrders(){const _0x4be66b=_0x20de75;let _0xbfd01c;allOpenOrders=[];try{for(const _0x4843eb of config[_0x4be66b(0x234)]){!_0x4843eb[_0x4be66b(0x220)]&&_0x4843eb['coin']!=config[_0x4be66b(0x231)]&&(_0xbfd01c=await exchange[_0x4be66b(0x20b)](_0x4843eb[_0x4be66b(0x21e)]),_0xbfd01c[_0x4be66b(0x217)]>0x0&&allOpenOrders[_0x4be66b(0x202)](_0xbfd01c[0x0]));}}catch(_0x32d346){await handleError(_0x32d346,'getOpenOrders()');}}async function handleOpenOrders(_0x8003dd=0x0){const _0x4f2ed7=_0x20de75;allOpenOrders[_0x4f2ed7(0x217)]==0x0&&lockOrders==ORDERS[_0x4f2ed7(0x2e5)]&&allOrdersPlaced&&(_0x8003dd==0x0?(logger[_0x4f2ed7(0x25a)](_0x4f2ed7(0x1e8)),_0x8003dd++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x4f2ed7(0x25a)](_0x4f2ed7(0x20f)),validateOrders(_0x4f2ed7(0x2c9))));}async function getPortfolio(_0x339597){const _0x2c06de=_0x20de75;let _0x1b8476=[],_0x14441e=[],_0x55575f,_0x2cb23a=[],_0xb3b3f4,_0x275cfb;_0x339597['apiKey']===_0x2c06de(0x292)||_0x339597['apiSecret']===_0x2c06de(0x292)?(_0xb3b3f4=config[_0x2c06de(0x197)],_0x275cfb=config[_0x2c06de(0x2eb)]):(_0xb3b3f4=_0x339597[_0x2c06de(0x197)],_0x275cfb=_0x339597[_0x2c06de(0x2eb)]);await initExchange(_0xb3b3f4,_0x275cfb);let _0x58a416=![];try{_0x58a416=await loadSymbols();}catch(_0x4bedd5){_0x58a416=![],handleErrorNoStop(_0x4bedd5,_0x2c06de(0x1ce));}if(_0x58a416){_0x2cb23a=await getCoins(![],![],_0x339597[_0x2c06de(0x231)]);if(_0x2cb23a===![])proxyEmit(_0x2c06de(0x234),![]);else{if(_0x339597[_0x2c06de(0x231)]=='')proxyEmit('portfolio',_0x2cb23a);else{_0x2cb23a[_0x2c06de(0x2aa)](_0x3b1fc1=>{const _0x3f1c25=_0x2c06de;if(_0x3b1fc1[_0x3f1c25(0x1b2)]!=_0x339597[_0x3f1c25(0x231)])_0x1b8476[_0x3f1c25(0x202)](_0x3b1fc1[_0x3f1c25(0x21e)]);});try{_0x14441e=await exchange[_0x2c06de(0x1cc)](_0x1b8476);}catch(_0x9c19e2){await handleError(_0x9c19e2,'getPortfolio()');}_0x2cb23a['forEach'](_0x26623d=>{const _0xb451ba=_0x2c06de;_0x26623d[_0xb451ba(0x1b2)]!=_0x339597['basecoin']?_0x55575f=_0x26623d[_0xb451ba(0x20c)]?0x1/_0x14441e[_0x26623d[_0xb451ba(0x21e)]][_0xb451ba(0x204)]:_0x14441e[_0x26623d['symbol']][_0xb451ba(0x204)]:_0x55575f=0x1,_0x26623d['price']=formatResult(_0x55575f,0x8);}),proxyEmit(_0x2c06de(0x234),_0x2cb23a);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x26d792){const _0x1413d4=_0x20de75;let _0x1a8e4a=!![];const _0x5c153f=!_0x26d792[_0x1413d4(0x20c)]?markets[_0x26d792['symbol']][_0x1413d4(0x211)]['amount'][_0x1413d4(0x24a)]:markets[_0x26d792[_0x1413d4(0x21e)]][_0x1413d4(0x211)][_0x1413d4(0x269)][_0x1413d4(0x24a)],_0x2f569b=!_0x26d792['reverse']?markets[_0x26d792['symbol']]['limits'][_0x1413d4(0x269)]['min']:markets[_0x26d792[_0x1413d4(0x21e)]][_0x1413d4(0x211)][_0x1413d4(0x198)]['min'],_0x5231b9=markets[_0x26d792[_0x1413d4(0x21e)]][_0x1413d4(0x232)][_0x1413d4(0x198)];_0x26d792[_0x1413d4(0x2c8)]=formatResultTruncate(_0x26d792[_0x1413d4(0x2c8)],_0x5231b9);if(Math[_0x1413d4(0x2bd)](_0x26d792[_0x1413d4(0x2c8)])<_0x5c153f)_0x1a8e4a=![];if(Math[_0x1413d4(0x2bd)](_0x26d792[_0x1413d4(0x2c8)])*_0x26d792[_0x1413d4(0x204)]<_0x2f569b)_0x1a8e4a=![];if(_0x26d792[_0x1413d4(0x29f)]==_0x1413d4(0x225)){let _0x2e2170=config[_0x1413d4(0x234)]['find'](_0xc9ed72=>_0xc9ed72[_0x1413d4(0x1b2)]==_0x26d792[_0x1413d4(0x1b2)]);if(_0x2e2170[_0x1413d4(0x1a6)]>0x0){if(Math['abs'](_0x26d792[_0x1413d4(0x2c8)])>_0x26d792[_0x1413d4(0x23b)]-_0x2e2170[_0x1413d4(0x1a6)])_0x1a8e4a=![];}else{if(Math[_0x1413d4(0x2bd)](_0x26d792[_0x1413d4(0x2c8)])>_0x26d792[_0x1413d4(0x23b)])_0x1a8e4a=![];}}if(_0x26d792['side']==_0x1413d4(0x203)){let _0x4eac5e=config[_0x1413d4(0x234)][_0x1413d4(0x282)](_0x33b73e=>_0x33b73e['coin']==config['basecoin']),_0x53198e=currentCoins[_0x1413d4(0x282)](_0x477149=>_0x477149[_0x1413d4(0x1b2)]==config['basecoin']);if(_0x4eac5e[_0x1413d4(0x1a6)]>0x0){if(Math[_0x1413d4(0x2bd)](_0x26d792['trade'])*_0x26d792[_0x1413d4(0x204)]>_0x53198e[_0x1413d4(0x23b)]-_0x4eac5e['offset'])_0x1a8e4a=![];}else{if(Math[_0x1413d4(0x2bd)](_0x26d792[_0x1413d4(0x2c8)])*_0x26d792[_0x1413d4(0x204)]>_0x53198e['number'])_0x1a8e4a=![];}}return _0x1a8e4a;}function _0x175a(){const _0x183e57=['limit-high','recreate','enabled','InvalidNonce','net-basecoin','getSeconds','_events','rightTxt','buys','limit-low','sort','binanceus','getFiat()','Binance\x20API\x20secret\x20is\x20invalid','\x20hour','abs','splice','milliseconds','BNB','spot','wsMarket','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','defaults','fee','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','orderStatus','trade','no\x20open\x20orders','createOrder','success','wss://stream.binance.com:9443','warning','loadMarkets','<pre>','event-history','1547379KAyMzU','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','running','toString','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','api_secret','breakeven','formattedMessage','full','-performance.json','\x20portfolio:</b>\x20\x0a\x0a','eventType','\x20|\x20Binance\x20API\x20key\x20invalid','Crypt','subscribeSpotUserDataStream','starting-balance-','eur','coin-loading-progress','writeFile','<b>','LOCKED','getCoins()','commissionAsset','timeout','headless','1\x20-\x20Validate\x20orders:\x20','apiSecret','2\x20-\x20FILLED\x20unknown\x20order:\x20','message','./config/','close','replace','price','accumulatedQuantity','createWriteStream','bid','market','sortBy','Pausing\x20for\x20','existsSync','ask','balancing\x20resumes\x20when\x20cooldown\x20ends','apiKey','amount','toFixed','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','value','getMinutes','NEW','Binance\x20not\x20available\x20(2)','performance','startnumber','Order\x20amount\x20is\x20invalid:\x20','distribution','getStartingBalances','emojibuy','priceChangePercent','offset','balances','Order(s)\x20not\x20validated\x20after\x20','remainingSymbols','MIN_NOTIONAL','cumulativeQuoteAssetTransactedQty','OrderNotFound','459558OPEAjC','(((.+)+)+)+$','loading-canceled','YOYOW/','ETH','coin','api_key','BTC','Order(s)\x20validated\x20-\x20','cancelLoading','toggleBotMode','-config.json','botname','slice','219078PFRREX','args','lowdb/adapters/FileSync','2.3.5','map','-events.json','emitHistory','-------------------------------\x0a','search','split','freeze','FILLED','net-fiat','total','shift','netoffset','time','fetchTickers','bot','loadSymbols()','usd','customId','botID','leftTxt','WebSockets(','openOrders','valid','padEnd','timeshift','write','yyyy-MM-dd\x27T\x27HH:mm:ss','settings','RSA-OAEP','Order\x20filled:\x20','progress','get','yyyy/MM/dd','configuration-stored','executionReport','remove','uncaughtException','placeOrder','set','datetime','delta','1\x20-\x20Handle\x20open\x20orders','newClientOrderId','differenceInSeconds','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','filter','limit','includes','Limit\x20(high-margin)','DDoSProtection','sendPortfolioTelegram','RequestTimeout','data','kline','exit','argv','coins','UNLOCKED','keys','getHours','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','has','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','ORDERS.LOCKED','target','%\x20\x0a','round','push','buy','last','cooldown','date-fns','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','DAI/','join',':\x20Bot\x20','fetchOpenOrders','reverse','format','Order(s)\x20filled\x20-\x20','2\x20-\x20Handled\x20open\x20orders','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','limits','Error:\x20Invalid\x20argument\x20','type','UNLOCKING','storeConfiguration','cancel','length','function','AuthenticationError','\x20>\x20','\x20|\x20','./logs/','/output-000.log','symbol','USDT','excluded','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','version','assign','symbols','sell','Cooldown\x20ended\x20-\x20balancing\x20resumed','wsUrl','parse','1\x20-\x20Unlock\x20orders','getDate','initial','change','2\x20-\x20Validate\x20orders:\x20','Manual\x20balancing\x20required','subscribeSpotKline','ccxt','basecoin','precision','startdate','portfolio',')\x20|\x20Error\x20details:\x20','binance','max','Unfilled\x20order(s)\x20canceled\x20after\x20','CANCELED','filled','number','Binance\x20API\x20blocked','Failed\x20to\x20load\x20coin\x20data\x20for\x20','16nxTuOT','cloneDeep','fromCodePoint','startprice','showname','parseISO','\x20|\x20lock\x20orders:\x20','12uCfWCr','random','\x20:\x20','\x20|\x20Binance\x20API\x20secret\x20invalid','canceled','min','***','NANO/','liquidity','getFullYear','fees','API-key\x20format\x20invalid','logs','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','getMonth','sells','ordertype','event','realized','threshold','add','debug','exec','concat','findIndex','final','ORDERS.UNLOCKED','./version.json','isEqual','configuration','1331491FIAmAM','282292ADCchJ','util','emojisell','Bot\x20','Net\x20effect','cost','fiat','send','exchange','Invalid\x20quantity','privateKey','currency','8HnEXLi','options','none','reconnected','\x20minutes\x20-\x20','date','cancelOrders()','decrypt','test','2.5.0','error','showConfig','timestamp','EUR','entries','InsufficientFunds','494645oLFARS','1\x20-\x20FILLED:\x20','find','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','padStart','secure','\x20value','bot-','mkdirSync','wsKey','2\x20-\x20Orders\x20unlocked','changes','bb-secure.json','page','bb-settings.json','open','getTime','\x20-\x20bot\x20not\x20started','************','order','fetchBalance','log','recovery','restart','orderId','BUSD','6084880NHWnZq','ongoing','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','\x20minutes','ORDERS.UNLOCKING','side','orderstatus','ticker','storeHeadless','getPortfolio','userData','constructor','simple','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20order:\x20','indexOf','forEach','change24h','Binance\x20not\x20available\x20(1)','No\x20more\x20open\x20orders\x20-\x20'];_0x175a=function(){return _0x183e57;};return _0x175a();}async function getBalances(){const _0x193065=_0x20de75;let _0x6bd6c3=0x0,_0x48ed62;const _0x3cc20a=config[_0x193065(0x258)];if(config['headless']&&config[_0x193065(0x2ab)]<0x0)await validate24hChanges();currentCoins[_0x193065(0x2aa)](_0x6521d1=>{const _0x266242=_0x193065;if(_0x6521d1[_0x266242(0x1b2)]!=config['basecoin']){let _0x10925b=global[_0x266242(0x2a1)][noslash(_0x6521d1['symbol'])];_0x48ed62=_0x6521d1[_0x266242(0x20c)]?0x1/_0x10925b:_0x10925b;}else _0x48ed62=0x1;let _0x34f054=_0x6521d1[_0x266242(0x23b)]*_0x48ed62;_0x6bd6c3+=_0x34f054,_0x6521d1[_0x266242(0x204)]=formatResult(Number(_0x48ed62),0x8),_0x6521d1[_0x266242(0x19b)]=_0x34f054;}),currentCoins[_0x193065(0x2aa)](_0x408ae2=>{const _0x4f2112=_0x193065;let _0x229c89=config['portfolio'][_0x4f2112(0x282)](_0x123eba=>_0x123eba['coin']==_0x408ae2['coin']),_0x1d6ad8=Number(_0x229c89[_0x4f2112(0x1a2)]),_0x208ffb=_0x408ae2[_0x4f2112(0x19b)]/_0x6bd6c3*0x64,_0x20ef1e=_0x1d6ad8*_0x6bd6c3/0x64/_0x408ae2['last']-_0x408ae2['number'];_0x408ae2[_0x4f2112(0x1a2)]=formatResult(_0x208ffb,0x3),_0x408ae2[_0x4f2112(0x1ff)]=formatResult(_0x1d6ad8,0x3),_0x408ae2[_0x4f2112(0x2c8)]=formatResult(_0x20ef1e,0x8),_0x408ae2[_0x4f2112(0x29f)]='',_0x408ae2[_0x4f2112(0x1d5)]=![];if(_0x408ae2[_0x4f2112(0x1b2)]!=config[_0x4f2112(0x231)]){if(_0x408ae2[_0x4f2112(0x1a2)]>_0x1d6ad8)_0x408ae2[_0x4f2112(0x29f)]=_0x4f2112(0x225),_0x408ae2[_0x4f2112(0x1d5)]=checkMinimums(_0x408ae2);else _0x408ae2[_0x4f2112(0x1a2)]<_0x1d6ad8&&(_0x408ae2[_0x4f2112(0x29f)]='buy',_0x408ae2['valid']=checkMinimums(_0x408ae2));}_0x408ae2[_0x4f2112(0x1e7)]=_0x408ae2[_0x4f2112(0x1a2)]/_0x408ae2[_0x4f2112(0x1ff)]-0x1;if(_0x408ae2['orderstatus']==_0x4f2112(0x23a)||_0x408ae2[_0x4f2112(0x2a0)]==_0x4f2112(0x249))_0x408ae2[_0x4f2112(0x2a0)]=_0x4f2112(0x272);}),currentCoins['sort']((_0x34a00c,_0x5d4879)=>_0x34a00c[_0x193065(0x1e7)]<_0x5d4879['delta']?0x1:_0x5d4879[_0x193065(0x1e7)]<_0x34a00c[_0x193065(0x1e7)]?-0x1:0x0);const _0x190151=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x190151[_0x193065(0x2e1)],'usd':_0x190151[_0x193065(0x1cf)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x3cc20a},proxyEmit(_0x193065(0x1a7),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x193065(0x2e9)])headlessMode({'portfolio':currentCoins,'threshold':_0x3cc20a});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3cc20a});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x287805=_0x20de75;if(!lastBalances)return;let _0x3b6955=[],_0x15623b,_0x388f41=JSON[_0x287805(0x228)](lastBalances['portfolio']);_0x388f41[_0x287805(0x2b8)]((_0x189ebd,_0x3846c4)=>_0x189ebd[_0x287805(0x1b2)]>_0x3846c4[_0x287805(0x1b2)]?0x1:_0x3846c4['coin']>_0x189ebd[_0x287805(0x1b2)]?-0x1:0x0),_0x388f41[_0x287805(0x2aa)](_0x47ba9=>{const _0x1ead58=_0x287805;let _0x18f1c4={'coin':_0x47ba9[_0x1ead58(0x1b2)],'number':_0x47ba9[_0x1ead58(0x23b)],'price':_0x47ba9['last']};_0x3b6955[_0x1ead58(0x202)](_0x18f1c4);});const _0x5bdec2=await getFiat();_0x15623b={'date':lastBalances['time'][_0x287805(0x1c4)]('\x20')[0x0],'eur':_0x5bdec2[_0x287805(0x2e1)],'usd':_0x5bdec2[_0x287805(0x1cf)],'coins':_0x3b6955};let _0x2c35bf=dbPerformance['get'](_0x287805(0x1f3))[_0x287805(0x282)]({'date':_0x15623b[_0x287805(0x275)]})[_0x287805(0x19b)]();_0x2c35bf?_0x15623b[_0x287805(0x275)]!=config[_0x287805(0x233)]&&dbPerformance['get'](_0x287805(0x1f3))[_0x287805(0x282)]({'date':_0x15623b[_0x287805(0x275)]})[_0x287805(0x223)](_0x15623b)[_0x287805(0x1d8)]():dbPerformance[_0x287805(0x1de)](_0x287805(0x1f3))[_0x287805(0x202)](_0x15623b)[_0x287805(0x1d8)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3e84c8=_0x20de75;let _0x1e1dd1=[];if(dbPerformance['has'](_0x3e84c8(0x1f3))[_0x3e84c8(0x19b)]()){let _0x4e6d90=dbPerformance[_0x3e84c8(0x1de)]('data')[_0x3e84c8(0x23f)]()[_0x3e84c8(0x192)]('date')[_0x3e84c8(0x19b)](),_0x864c0c=[...config[_0x3e84c8(0x24d)]];_0x864c0c['sort']((_0x2aef11,_0x222926)=>_0x2aef11['date']>_0x222926[_0x3e84c8(0x275)]?-0x1:_0x222926['date']>_0x2aef11[_0x3e84c8(0x275)]?0x1:0x0);let _0x27d43c=0x1,_0x57ae1b=[],_0x1643cf=0x0;_0x4e6d90[_0x3e84c8(0x1ba)]()[_0x3e84c8(0x20c)]()[_0x3e84c8(0x2aa)]((_0xd8a4c3,_0x4a378d)=>{const _0x3182c6=_0x3e84c8;if(_0x864c0c[_0x1643cf]){if(_0x4e6d90[_0x4e6d90[_0x3182c6(0x217)]-_0x4a378d]&&_0x864c0c[_0x1643cf]['date']==_0x4e6d90[_0x4e6d90['length']-_0x4a378d][_0x3182c6(0x275)]){if(_0x4a378d<_0x4e6d90[_0x3182c6(0x217)]){let _0x507adc=0x0,_0x453cac=0x0;_0x4e6d90[_0x4e6d90[_0x3182c6(0x217)]-_0x4a378d][_0x3182c6(0x1f7)]['forEach'](_0x505698=>{const _0x5b12c1=_0x3182c6;_0x453cac+=_0x505698[_0x5b12c1(0x23b)]*_0x505698['price'];}),_0x864c0c[_0x1643cf][_0x3182c6(0x28b)]['forEach'](_0x550abd=>{const _0x33876c=_0x3182c6;_0x507adc+=_0x550abd[_0x33876c(0x23b)]*_0x550abd['price'];}),_0x27d43c*=_0x507adc/(_0x453cac-_0x507adc)+0x1;}_0x1643cf++;}}let _0x42210a=0x0;_0xd8a4c3[_0x3182c6(0x1f7)][_0x3182c6(0x2aa)](_0xeb79f1=>{const _0x46ad45=_0x3182c6;_0x42210a+=_0xeb79f1[_0x46ad45(0x23b)]*_0xeb79f1[_0x46ad45(0x18d)];}),_0x57ae1b[_0x4e6d90[_0x3182c6(0x217)]-_0x4a378d-0x1]=_0x42210a*(_0x27d43c-0x1);});let _0xca7397=[];_0x864c0c=[...config['liquidity']]||[];let _0x335bad=0x0;_0x1643cf=0x0,_0x4e6d90[_0x3e84c8(0x2aa)]((_0x282e7b,_0x42fb7b)=>{const _0x4bc6fe=_0x3e84c8;if(_0x864c0c[_0x1643cf]){const _0x1df158=fns[_0x4bc6fe(0x228)](_0x864c0c[_0x1643cf][_0x4bc6fe(0x275)],_0x4bc6fe(0x1df),new Date()),_0x48385f=fns[_0x4bc6fe(0x228)](_0x282e7b[_0x4bc6fe(0x275)],_0x4bc6fe(0x1df),new Date());if(fns[_0x4bc6fe(0x261)](_0x1df158,_0x48385f)){let _0x3c9bef=0x0;_0x864c0c[_0x1643cf]['changes'][_0x4bc6fe(0x2aa)](_0x925d0=>{const _0x153bac=_0x4bc6fe;!_0xca7397[_0x925d0[_0x153bac(0x1b2)]]?_0xca7397[_0x925d0[_0x153bac(0x1b2)]]=_0x925d0[_0x153bac(0x23b)]:(_0x3c9bef=_0xca7397[_0x925d0['coin']],_0xca7397[_0x925d0[_0x153bac(0x1b2)]]+=_0x925d0['number']);const _0x436f6c=_0x282e7b[_0x153bac(0x1f7)][_0x153bac(0x282)](_0x374f63=>_0x374f63['coin']==_0x925d0['coin']);(!_0x436f6c||_0x436f6c[_0x153bac(0x23b)]==0x0)&&(_0x335bad+=(-_0x925d0['number']-_0x3c9bef)*_0x925d0[_0x153bac(0x18d)]);}),_0x1643cf++;}}_0x282e7b[_0x4bc6fe(0x1f7)][_0x4bc6fe(0x2aa)]((_0x488e31,_0x2b2b50)=>{const _0x2c27c7=_0x4bc6fe;_0xca7397[_0x488e31[_0x2c27c7(0x1b2)]]&&(_0x488e31={..._0x488e31,'initial':_0xca7397[_0x488e31[_0x2c27c7(0x1b2)]]}),_0x282e7b[_0x2c27c7(0x1f7)][_0x2b2b50]=_0x488e31;}),_0x1e1dd1[_0x4bc6fe(0x202)]({'date':_0x282e7b[_0x4bc6fe(0x275)],'eur':_0x282e7b[_0x4bc6fe(0x2e1)],'usd':_0x282e7b[_0x4bc6fe(0x1cf)],'offset':_0x57ae1b[_0x42fb7b],'netoffset':_0x335bad,'coins':_0x282e7b[_0x4bc6fe(0x1f7)]});});}return _0x1e1dd1;}function emitPerformance(_0x48a504){const _0xd03b60=_0x20de75;_0x48a504[_0xd03b60(0x217)]!==0x0?(proxyEmit(_0xd03b60(0x19f),_0x48a504),lastPerformanceEmitted=getDate()):proxyEmit(_0xd03b60(0x19f),[]);}function getPerf(_0x3bfcea,_0x106346){const _0x59b89f=_0x20de75;let _0x2aeaf4=0x0,_0x57b375=0x0,_0xb41b79=0x0;_0x3bfcea[_0x59b89f(0x1f7)][_0x59b89f(0x2aa)](_0xf2570c=>{const _0x21112b=_0x59b89f;_0x2aeaf4+=_0xf2570c[_0x21112b(0x23b)]*_0xf2570c['price'];});_0x106346&&(_0x2aeaf4+=_0x3bfcea[_0x59b89f(0x1a6)]);if(config[_0x59b89f(0x231)]===_0x59b89f(0x1b4)||config[_0x59b89f(0x231)]===_0x59b89f(0x1b1))_0x57b375=_0x2aeaf4*_0x3bfcea[_0x59b89f(0x2e1)],_0xb41b79=_0x2aeaf4*_0x3bfcea['usd'];else{if(config[_0x59b89f(0x231)]===_0x59b89f(0x299)||config[_0x59b89f(0x231)]===_0x59b89f(0x21f))_0x57b375=_0x2aeaf4*_0x3bfcea['eur']/_0x3bfcea[_0x59b89f(0x1cf)],_0xb41b79=_0x2aeaf4;else config[_0x59b89f(0x231)]==='EUR'&&(_0x57b375=_0x2aeaf4,_0xb41b79=_0x2aeaf4*_0x3bfcea[_0x59b89f(0x1cf)]/_0x3bfcea[_0x59b89f(0x2e1)]);}return[_0x2aeaf4,_0x57b375,_0xb41b79];}function getKPIs(_0x53a3fe,_0x129a1f='EUR'){const _0x2d1223=_0x20de75,_0x5809a0=config['basecoin'],_0x49a999=config[_0x2d1223(0x1a7)],_0x18b815=currentCoins,_0x449da3=getNormalizedPerformance(),_0x1759ab=_0x53a3fe===_0x2d1223(0x231)?_0x5809a0:_0x53a3fe===_0x2d1223(0x26a)||_0x53a3fe==='net-fiat'?_0x129a1f:'Net\x20'+_0x5809a0,_0x5b279e=_0x53a3fe===_0x2d1223(0x2b2)?'Net\x20effect':_0x53a3fe===_0x2d1223(0x1c7)?'Net\x20effect\x20('+_0x1759ab+')':_0x1759ab+_0x2d1223(0x286),_0x2ba1b2=_0x53a3fe===_0x2d1223(0x2b2)||_0x53a3fe===_0x2d1223(0x1c7)?_0x2d1223(0x268):_0x1759ab+'\x20change';let _0x267ac9=0x0;_0x18b815[_0x2d1223(0x2aa)](_0x353534=>{const _0x6f78ed=_0x2d1223;_0x267ac9+=_0x353534[_0x6f78ed(0x23b)]*_0x353534[_0x6f78ed(0x204)];});if(_0x53a3fe===_0x2d1223(0x26a)||_0x53a3fe===_0x2d1223(0x1c7)){if(_0x5809a0===_0x2d1223(0x1b4)||_0x5809a0===_0x2d1223(0x1b1))_0x267ac9=_0x267ac9*(_0x129a1f===_0x2d1223(0x27d)?_0x49a999[_0x2d1223(0x2e1)]:_0x49a999[_0x2d1223(0x1cf)]);else{if(_0x5809a0===_0x2d1223(0x299)||_0x5809a0===_0x2d1223(0x21f))_0x267ac9=_0x267ac9*(_0x129a1f===_0x2d1223(0x27d)?_0x49a999['eur']/_0x49a999[_0x2d1223(0x1cf)]:0x1);else _0x5809a0===_0x2d1223(0x27d)&&(_0x267ac9=_0x267ac9*(_0x129a1f==='EUR'?0x1:_0x49a999['usd']/_0x49a999[_0x2d1223(0x2e1)]));}}let _0x3a59d5;if(_0x267ac9!==0x0){if(_0x53a3fe===_0x2d1223(0x231))_0x3a59d5=(_0x267ac9/startingBalances['basecoin']-0x1)*0x64;else{if(_0x129a1f===_0x2d1223(0x27d))_0x3a59d5=(_0x267ac9/startingBalances[_0x2d1223(0x2e1)]-0x1)*0x64;else _0x3a59d5=(_0x267ac9/startingBalances[_0x2d1223(0x1cf)]-0x1)*0x64;}let _0x24b493=0x0;if(startingBalances[_0x2d1223(0x1f7)])_0x18b815[_0x2d1223(0x2aa)](_0x1511d6=>{const _0x14a9f3=_0x2d1223;let _0x580091=startingBalances['coins'][_0x14a9f3(0x282)](_0x5d77f4=>_0x5d77f4['coin']===_0x1511d6[_0x14a9f3(0x1b2)]);if(_0x580091&&_0x580091[_0x14a9f3(0x1b2)]&&_0x1511d6['number']!==0x0)_0x24b493+=_0x580091[_0x14a9f3(0x23b)]*_0x1511d6[_0x14a9f3(0x204)];});let _0x37d6f1=0x0;if(_0x449da3[_0x2d1223(0x217)]!==0x0){let _0x273706=_0x449da3[_0x449da3[_0x2d1223(0x217)]-0x1];_0x37d6f1=_0x273706[_0x2d1223(0x1ca)];}_0x24b493-=_0x37d6f1;_0x53a3fe===_0x2d1223(0x2b2)&&(_0x3a59d5=(_0x267ac9-_0x24b493)/startingBalances['basecoin']*0x64,_0x267ac9=_0x267ac9-_0x24b493);if(_0x53a3fe===_0x2d1223(0x1c7)){let _0x1478ba=_0x129a1f===_0x2d1223(0x27d)?startingBalances[_0x2d1223(0x2e1)]:startingBalances[_0x2d1223(0x1cf)];if(_0x5809a0===_0x2d1223(0x1b4)||_0x5809a0==='ETH')_0x24b493=_0x129a1f===_0x2d1223(0x27d)?_0x24b493*_0x49a999['eur']:_0x24b493*_0x49a999[_0x2d1223(0x1cf)];else{if(_0x5809a0===_0x2d1223(0x299)||_0x5809a0===_0x2d1223(0x21f))_0x24b493=_0x129a1f===_0x2d1223(0x27d)?_0x24b493*_0x49a999[_0x2d1223(0x2e1)]/_0x49a999['usd']:_0x24b493;else _0x5809a0===_0x2d1223(0x27d)&&(_0x24b493=_0x129a1f===_0x2d1223(0x27d)?_0x24b493:_0x24b493*_0x49a999[_0x2d1223(0x1cf)]/_0x49a999[_0x2d1223(0x2e1)]);}_0x3a59d5=(_0x267ac9-_0x24b493)/_0x1478ba*0x64,_0x267ac9=_0x267ac9-_0x24b493;}if(_0x3a59d5){if(_0x3a59d5<0x64)_0x3a59d5=_0x3a59d5[_0x2d1223(0x199)](0x2);else{if(_0x3a59d5<0x3e8)_0x3a59d5=_0x3a59d5[_0x2d1223(0x199)](0x1);else _0x3a59d5=_0x3a59d5[_0x2d1223(0x199)](0x0);}}else _0x3a59d5=Number('0')[_0x2d1223(0x199)](0x2);if(_0x267ac9){if(Math[_0x2d1223(0x2bd)](_0x267ac9)<0.000001)_0x267ac9=_0x267ac9[_0x2d1223(0x199)](0x2);else{if(Math['abs'](_0x267ac9)<0.1)_0x267ac9=_0x267ac9['toFixed'](0x6);else{if(Math['abs'](_0x267ac9)<0x1)_0x267ac9=_0x267ac9['toFixed'](0x5);else{if(Math[_0x2d1223(0x2bd)](_0x267ac9)<0xa)_0x267ac9=_0x267ac9[_0x2d1223(0x199)](0x4);else{if(Math[_0x2d1223(0x2bd)](_0x267ac9)<0x64)_0x267ac9=_0x267ac9['toFixed'](0x3);else{if(Math['abs'](_0x267ac9)<0x3e8)_0x267ac9=_0x267ac9[_0x2d1223(0x199)](0x2);else _0x267ac9=_0x267ac9[_0x2d1223(0x199)](0x2);}}}}}}else _0x267ac9=Number('0')[_0x2d1223(0x199)](0x2);}else _0x3a59d5=Number('0')[_0x2d1223(0x199)](0x2);return{'value':_0x267ac9,'change':_0x3a59d5,'leftTxt':_0x5b279e,'rightTxt':_0x2ba1b2};}async function getStartingBalances(_0x5c87b8,_0x315abf=!![]){const _0x463502=_0x20de75;if(_0x5c87b8[_0x463502(0x217)]!==0x0){const [_0x2f7094,_0xa3f276,_0x407200]=getPerf(_0x5c87b8[0x0],!![]);let _0x2bbd03=[];config[_0x463502(0x234)][_0x463502(0x2aa)](_0x14e4d5=>{const _0x5a4a3b=_0x463502;let _0x55ef87=0x0,_0x7a4178;config['liquidity']['forEach'](_0x134e0d=>{const _0x58c1a1=_0x304f;let _0x22752f=_0x134e0d[_0x58c1a1(0x28b)][_0x58c1a1(0x282)](_0x50da19=>_0x50da19[_0x58c1a1(0x1b2)]==_0x14e4d5[_0x58c1a1(0x1b2)]);if(_0x22752f){_0x55ef87+=_0x22752f[_0x58c1a1(0x23b)];if(!_0x7a4178)_0x7a4178=_0x22752f[_0x58c1a1(0x18d)];}}),_0x2bbd03[_0x5a4a3b(0x202)]({'coin':_0x14e4d5['coin'],'number':_0x55ef87,'initialprice':_0x7a4178});});const _0x3f768d={'basecoin':_0x2f7094,'eur':_0xa3f276,'usd':_0x407200,'coins':_0x2bbd03};if(_0x315abf)proxyEmit('starting-balances',_0x3f768d);startingBalances=_0x3f768d;}}function headlessMode(_0xb5b4be){const _0xc97f58=_0x20de75;let _0x254379=_0xb5b4be[_0xc97f58(0x234)],_0x2b99bc=_0xb5b4be[_0xc97f58(0x258)],_0x58f648=[];for(let _0x50f7d9 of _0x254379){if(_0x50f7d9['coin']!=config[_0xc97f58(0x231)]){if(_0x50f7d9[_0xc97f58(0x1e7)]>=_0x2b99bc/0x64){if(_0x50f7d9[_0xc97f58(0x1d5)])_0x58f648[_0xc97f58(0x202)](_0x50f7d9);}else{if(_0x50f7d9[_0xc97f58(0x1e7)]<=-_0x2b99bc/0x64){if(_0x50f7d9[_0xc97f58(0x1d5)])_0x58f648[_0xc97f58(0x202)](_0x50f7d9);}}}}_0x58f648[_0xc97f58(0x217)]>0x0&&placeOrder(_0x58f648);}function notifyBalance(_0x45ea51){const _0x5a9c42=_0x20de75;let _0x50b6a6=_0x45ea51[_0x5a9c42(0x234)],_0x4f549d=_0x45ea51['threshold'],_0x153318=[];for(let _0x30428d of _0x50b6a6){if(_0x30428d['coin']!=config[_0x5a9c42(0x231)]){if(_0x30428d[_0x5a9c42(0x1e7)]>=_0x4f549d/0x64){if(_0x30428d[_0x5a9c42(0x1d5)])_0x153318[_0x5a9c42(0x202)](_0x30428d);}else{if(_0x30428d['delta']<=-_0x4f549d/0x64){if(_0x30428d[_0x5a9c42(0x1d5)])_0x153318[_0x5a9c42(0x202)](_0x30428d);}}}}if(_0x153318[_0x5a9c42(0x217)]>0x0){let _0x350aea=_0x153318[_0x5a9c42(0x1bf)](_0x57c31e=>_0x57c31e[_0x5a9c42(0x1b2)]);_0x350aea[_0x5a9c42(0x2b8)]();let _0x45e135=_0x350aea[_0x5a9c42(0x209)](',\x20');if(!lastCoinsToBalance)logHistory(_0x5a9c42(0x2cd),_0x5a9c42(0x22e));lastCoinsToBalance=_0x45e135;}}function symbolToCoin(_0xac7935){const _0x22f799=_0x20de75;let _0x5f090b;if(_0xac7935[_0x22f799(0x1ee)]('/'+config[_0x22f799(0x231)]))_0x5f090b=_0xac7935['replace']('/'+config['basecoin'],'');if(_0xac7935[_0x22f799(0x1ee)](config[_0x22f799(0x231)]+'/'))_0x5f090b=_0xac7935['replace'](config[_0x22f799(0x231)]+'/','');return _0x5f090b;}async function unlockOrders(){const _0x364869=_0x20de75;if(allOrdersPlaced&&lockOrders==ORDERS[_0x364869(0x2e5)]){logger['debug'](_0x364869(0x229)),lockOrders=ORDERS[_0x364869(0x214)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x364869(0x22b),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x364869(0x25a)](_0x364869(0x28a));}}async function validateOrders(_0x5861b6){const _0x1143d3=_0x20de75;if(_0x5861b6)validateOrdersState=_0x5861b6;logger[_0x1143d3(0x25a)](_0x1143d3(0x2ea)+validateOrdersState+_0x1143d3(0x244)+(lockOrders==0x1?_0x1143d3(0x1fe):lockOrders==0x2?_0x1143d3(0x29e):_0x1143d3(0x25f)));let _0x8e34aa=[],_0x340560=config[_0x1143d3(0x255)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1143d3(0x2e5)])return;logger['debug'](_0x1143d3(0x22d)+validateOrdersState),lastOrders[_0x1143d3(0x2aa)](_0x1a5585=>{const _0x3eb3fa=_0x1143d3;let _0x27e5f7=![];_0x1a5585[_0x3eb3fa(0x23a)]>0x0&&(_0x27e5f7=!![]),_0x8e34aa['push'](_0x27e5f7),_0x27e5f7&&config[_0x3eb3fa(0x255)]!=_0x3eb3fa(0x191)&&logHistory(_0x3eb3fa(0x293),_0x3eb3fa(0x1dc)+_0x1a5585['symbol']+'\x20'+_0x1a5585['side']+'\x20#'+formatResult(_0x1a5585[_0x3eb3fa(0x23a)],0x8)+'\x20@'+formatResult(_0x1a5585['price'],0x8));}),_0x8e34aa[_0x1143d3(0x2aa)]((_0x3ce6a4,_0x28bbd0)=>{const _0xd15c27=_0x1143d3;if(_0x3ce6a4)lastOrders[_0xd15c27(0x2be)](_0x28bbd0,0x1);}),persistOpenOrders(lastOrders);const _0x5ae336=coolingDown?_0x1143d3(0x196):'balancing\x20resumed';if(validateOrdersState==_0x1143d3(0x22b))validateOrdersState=_0x1143d3(0x29b),_0x8e34aa['includes'](![])?config[_0x1143d3(0x255)]==_0x1143d3(0x191)?logHistory(_0x1143d3(0x2cd),_0x1143d3(0x2d2)):logHistory(_0x1143d3(0x2cd),_0x1143d3(0x221)):await unlockOrders();else{if(validateOrdersState==_0x1143d3(0x29b)){if(_0x8e34aa['includes'](![])){}else allOrdersPlaced&&(config[_0x1143d3(0x255)]==_0x1143d3(0x191)?logHistory(_0x1143d3(0x2cb),_0x1143d3(0x1b5)+_0x5ae336):logHistory(_0x1143d3(0x2cb),_0x1143d3(0x20e)+_0x5ae336),await unlockOrders());}else{if(validateOrdersState=='final')_0x8e34aa[_0x1143d3(0x1ee)](![])&&(config[_0x1143d3(0x255)]=='market'?logHistory(_0x1143d3(0x2cb),_0x1143d3(0x1a8)+Math[_0x1143d3(0x201)](_0x340560*validateOrderInterval/0xea60)+_0x1143d3(0x274)+_0x5ae336):(await cancelOrders(),logHistory('success',_0x1143d3(0x238)+Math[_0x1143d3(0x201)](_0x340560*validateOrderInterval/0xea60)+_0x1143d3(0x274)+_0x5ae336))),await unlockOrders();else{if(validateOrdersState==_0x1143d3(0x2c9)){if(config[_0x1143d3(0x255)]!='market')logHistory('success',_0x1143d3(0x2ad)+_0x5ae336);await unlockOrders();}}}}}async function cancelOrders(){const _0x6cfb72=_0x20de75;lastOrders[_0x6cfb72(0x2aa)](async _0x27faf9=>{const _0x330022=_0x6cfb72;try{const _0x32a86c=await exchange['cancelOrder'](_0x27faf9[_0x330022(0x298)],_0x27faf9[_0x330022(0x21e)]);}catch(_0x1ae7ec){if(_0x1ae7ec['toString']()['includes'](_0x330022(0x1ac))){}else await handleError(_0x1ae7ec,_0x330022(0x276));}});}async function initCoinResults(){const _0x384a96=_0x20de75;let _0x55e388=[];config['portfolio'][_0x384a96(0x2aa)](_0x1959f7=>{const _0x39fedb=_0x384a96;if(!_0x1959f7['excluded']&&_0x1959f7[_0x39fedb(0x1b2)]!=config[_0x39fedb(0x231)]){let _0x114257=dbCoinResults[_0x39fedb(0x1de)](_0x39fedb(0x1f7))['find']({'coin':_0x1959f7[_0x39fedb(0x1b2)]})['value']();if(!_0x114257){const _0x2c7ba3=currentCoins[_0x39fedb(0x282)](_0x1f37ba=>_0x1f37ba['coin']==_0x1959f7[_0x39fedb(0x1b2)]),_0x410356=global[_0x39fedb(0x2a1)][noslash(_0x1959f7[_0x39fedb(0x21e)])];let _0x539165=_0x2c7ba3?_0x2c7ba3[_0x39fedb(0x23b)]:null,_0x299ffb=_0x1959f7[_0x39fedb(0x20c)]?0x1/_0x410356:_0x410356,_0x101395;config[_0x39fedb(0x24d)]['forEach'](_0x3f65a7=>{const _0x273664=_0x39fedb;!_0x101395&&(_0x101395=_0x3f65a7[_0x273664(0x28b)][_0x273664(0x282)](_0x47e642=>_0x47e642[_0x273664(0x1b2)]==_0x1959f7['coin']),_0x101395&&(_0x539165=_0x101395[_0x273664(0x23b)],_0x299ffb=_0x101395['price']));}),_0x55e388[_0x39fedb(0x202)]({'coin':_0x1959f7[_0x39fedb(0x1b2)],'number':_0x539165,'price':_0x299ffb});}}}),_0x55e388[_0x384a96(0x2aa)](_0x40286f=>{const _0x1a1dd0=_0x384a96,_0x25fc83={'coin':_0x40286f['coin'],'number':_0x40286f[_0x1a1dd0(0x23b)],'breakeven':_0x40286f[_0x1a1dd0(0x18d)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1a1dd0(0x1de)](_0x1a1dd0(0x1f7))[_0x1a1dd0(0x202)](_0x25fc83)['write']();});}async function updateCoinResults(_0x4c9479,_0x1f2f95=![]){const _0x117463=_0x20de75;let _0x4726bf,_0xa2093d,_0x2b009b,_0x1ca27a,_0x10981a,_0x3fa251,_0x2c8224=dbCoinResults[_0x117463(0x1de)](_0x117463(0x1f7))[_0x117463(0x282)]({'coin':_0x4c9479[_0x117463(0x1b2)]})[_0x117463(0x19b)]();!_0x2c8224&&await initCoinResults();_0x4c9479[_0x117463(0x20c)]&&(_0x3fa251={'filled':_0x4c9479[_0x117463(0x23a)]*_0x4c9479[_0x117463(0x18d)],'amount':_0x4c9479[_0x117463(0x23a)]*_0x4c9479['price'],'side':_0x4c9479['side']==_0x117463(0x225)?_0x117463(0x203):_0x117463(0x225),'price':0x1/_0x4c9479[_0x117463(0x18d)]},_0x4c9479={..._0x4c9479,..._0x3fa251});_0x1f2f95?_0xa2093d=_0x4c9479['side']==_0x117463(0x203)?_0x2c8224['number']+_0x4c9479['filled']:_0x2c8224[_0x117463(0x23b)]-_0x4c9479[_0x117463(0x23a)]:_0xa2093d=await getCoinNumber(_0x4c9479['coin']);if(_0x4c9479[_0x117463(0x2c5)]&&_0x4c9479['fee']['currency']==config[_0x117463(0x231)])_0x4726bf=_0x4c9479[_0x117463(0x2c5)][_0x117463(0x269)];else{if(_0x4c9479[_0x117463(0x2c5)]&&_0x4c9479[_0x117463(0x2c5)][_0x117463(0x26f)]==_0x117463(0x2c0)&&!_0x1f2f95)_0x4726bf=_0x4c9479[_0x117463(0x2c5)]['cost']*global[_0x117463(0x2a1)][_0x117463(0x2c0)+config['basecoin']];else _0x4726bf=defaultFee*_0x4c9479[_0x117463(0x23a)]*_0x4c9479['price'];}_0x4c9479[_0x117463(0x29f)]==_0x117463(0x203)?(_0x2b009b=_0xa2093d!=0x0?(_0x2c8224[_0x117463(0x2d7)]*_0x2c8224['number']+_0x4c9479[_0x117463(0x18d)]*(_0xa2093d-_0x2c8224[_0x117463(0x23b)])+_0x4726bf)/_0xa2093d:0x0,_0x1ca27a=_0x2c8224[_0x117463(0x257)]):(_0x2b009b=_0xa2093d!=0x0?(_0x2c8224[_0x117463(0x2d7)]*_0x2c8224[_0x117463(0x23b)]-_0x4c9479['price']*(_0x2c8224[_0x117463(0x23b)]-_0xa2093d)+_0x4726bf)/_0xa2093d:0x0,_0x1ca27a=_0x2c8224[_0x117463(0x257)]+(_0x4c9479[_0x117463(0x18d)]-_0x2c8224[_0x117463(0x2d7)])*_0x4c9479[_0x117463(0x23a)]);_0x10981a=(_0x4c9479[_0x117463(0x18d)]-_0x2b009b-_0x4726bf/_0x4c9479[_0x117463(0x23a)])*_0xa2093d;let _0x4acd94={'coin':_0x4c9479[_0x117463(0x1b2)],'number':_0xa2093d,'breakeven':formatResult(_0x2b009b,0x8),'realized':formatResult(_0x1ca27a,0x8),'unrealized':formatResult(_0x10981a,0x8),'fees':formatResult(_0x2c8224[_0x117463(0x24f)]+_0x4726bf,0x8),'sells':_0x4c9479[_0x117463(0x29f)]==_0x117463(0x225)?_0x2c8224[_0x117463(0x254)]+0x1:_0x2c8224[_0x117463(0x254)],'buys':_0x4c9479[_0x117463(0x29f)]==_0x117463(0x203)?_0x2c8224[_0x117463(0x2b6)]+0x1:_0x2c8224['buys']};dbCoinResults[_0x117463(0x1de)](_0x117463(0x1f7))[_0x117463(0x282)]({'coin':_0x4c9479[_0x117463(0x1b2)]})['assign'](_0x4acd94)[_0x117463(0x1d8)]();if(!_0x1f2f95){if(_0x4c9479[_0x117463(0x2c5)]&&_0x4c9479[_0x117463(0x2c5)][_0x117463(0x26f)]==_0x117463(0x2c0)){const _0x489647=currentCoins[_0x117463(0x282)](_0x452abe=>_0x452abe[_0x117463(0x1b2)]==_0x117463(0x2c0));if(_0x489647){let _0x2b20a6=dbCoinResults[_0x117463(0x1de)](_0x117463(0x1f7))[_0x117463(0x282)]({'coin':'BNB'})[_0x117463(0x19b)]();_0x4acd94={..._0x2b20a6,'number':_0x489647[_0x117463(0x23b)]},dbCoinResults[_0x117463(0x1de)]('coins')[_0x117463(0x282)]({'coin':_0x117463(0x2c0)})['assign'](_0x4acd94)[_0x117463(0x1d8)]();}}}}async function placeOrder(_0x16f37e){const _0x4138cb=_0x20de75,_0x33b971=config[_0x4138cb(0x255)]==_0x4138cb(0x191)?'market':'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x4138cb(0x2e5)],allOrdersPlaced=![],validateOrdersState=_0x4138cb(0x22b),lastOrders=[];for(const _0x172b0a of _0x16f37e){let _0xae3c58,_0x46987f,_0x246022,_0x388981,_0x1d8010,_0x48093e=_0x172b0a['symbol'];try{const _0x5c89a6=await exchange[_0x4138cb(0x1cc)]([_0x48093e]),_0x2a09f7=_0x5c89a6[_0x48093e];_0xae3c58=_0x172b0a[_0x4138cb(0x20c)]?0x1/_0x172b0a['last']:_0x172b0a['last'],_0x46987f=_0x2a09f7[_0x4138cb(0x190)],_0x246022=_0x2a09f7[_0x4138cb(0x195)];_0x172b0a[_0x4138cb(0x20c)]?(_0x388981=_0x172b0a[_0x4138cb(0x29f)]==_0x4138cb(0x203)?_0x4138cb(0x225):_0x4138cb(0x203),_0x1d8010=Math[_0x4138cb(0x2bd)](_0x172b0a['trade'])/_0xae3c58):(_0x388981=_0x172b0a[_0x4138cb(0x29f)],_0x1d8010=Math[_0x4138cb(0x2bd)](_0x172b0a[_0x4138cb(0x2c8)]));_0x33b971==_0x4138cb(0x1ed)&&(config[_0x4138cb(0x255)]==_0x4138cb(0x2ae)&&(_0xae3c58=_0x388981=='buy'?_0x46987f:_0x246022),config['ordertype']==_0x4138cb(0x2b7)&&(_0xae3c58=_0x388981=='buy'?_0x246022:_0x46987f));_0x1d8010=formatResult(_0x1d8010,0x8),_0xae3c58=formatResult(_0xae3c58,0x8);const _0xc1bb59=_0x388981=='sell'?config['emojisell']?String[_0x4138cb(0x240)]('0x'+config['emojisell'])+'\x20':'':config['emojibuy']?String[_0x4138cb(0x240)]('0x'+config[_0x4138cb(0x1a4)])+'\x20':'',_0x6c3e39=_0x33b971=='market'?'Market':config['ordertype']=='limit-high'?_0x4138cb(0x1ef):'Limit\x20(low-margin)',_0x3867ae=new Date()[_0x4138cb(0x290)]()['toString']()[_0x4138cb(0x1ba)](-0x6)+'-'+Math[_0x4138cb(0x246)]()[_0x4138cb(0x2d4)]()[_0x4138cb(0x1ba)](-0x6);lastOrders[_0x4138cb(0x202)]({'customId':_0x3867ae,'symbol':_0x48093e,'coin':_0x172b0a[_0x4138cb(0x1b2)],'side':_0x388981,'reverse':_0x172b0a[_0x4138cb(0x20c)],'filled':0x0});if(_0x33b971==_0x4138cb(0x191))logHistory('order',''+_0xc1bb59+_0x6c3e39+_0x4138cb(0x2a8)+_0x48093e+'\x20'+_0x388981+'\x20#'+formatResult(_0x1d8010,0x8)+'\x20@'+formatResult(_0xae3c58,0x8));else logHistory(_0x4138cb(0x293),''+_0xc1bb59+_0x6c3e39+'\x20order:\x20'+_0x48093e+'\x20'+_0x388981+'\x20#'+formatResult(_0x1d8010,0x8)+'\x20@'+formatResult(_0xae3c58,0x8));const _0xc59ac7=await exchange[_0x4138cb(0x2ca)](_0x48093e,_0x33b971,_0x388981,_0x1d8010,_0xae3c58,{'clientOrderId':_0x3867ae}),_0x3696e7=lastOrders[_0x4138cb(0x217)]-0x1;_0x3696e7>=0x0&&lastOrders[_0x3696e7]['customId']==_0x3867ae&&(lastOrders[_0x3696e7]={...lastOrders[_0x3696e7],'orderId':_0xc59ac7['id'],'amount':_0xc59ac7['amount'],'price':_0xc59ac7[_0x4138cb(0x18d)],'fee':_0xc59ac7[_0x4138cb(0x2c5)]});if(config['cooldown']!=0x0){let _0x33a7ee=null;if(cooldownTracker[_0x4138cb(0x217)]==config[_0x4138cb(0x205)]-0x1)_0x33a7ee=cooldownTracker[_0x4138cb(0x1c9)]();const _0x52275b=getTimeStamp();cooldownTracker[_0x4138cb(0x202)](_0x52275b);if(_0x33a7ee){const _0x2e1308=fns[_0x4138cb(0x1ea)](new Date(_0x52275b),new Date(_0x33a7ee));if(_0x2e1308<cooldownInterval){logHistory('error','Executed\x20'+config[_0x4138cb(0x205)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x4138cb(0x2bc)),coolingDown=!![];break;}}}}catch(_0xd077fe){if(_0xd077fe[_0x4138cb(0x2d4)]()['includes'](_0x4138cb(0x1aa)))lastOrders=lastOrders[_0x4138cb(0x1ec)](_0x43406e=>_0x43406e[_0x4138cb(0x21e)]!=_0x48093e),logHistory(_0x4138cb(0x27a),_0x4138cb(0x2d5)+_0x48093e);else _0xd077fe[_0x4138cb(0x2d4)]()[_0x4138cb(0x1ee)](_0x4138cb(0x26d))?(lastOrders=lastOrders['filter'](_0xacdc81=>_0xacdc81[_0x4138cb(0x21e)]!=_0x48093e),logHistory('error',_0x4138cb(0x1a1)+_0x48093e)):(lastOrders=lastOrders['filter'](_0x2df702=>_0x2df702[_0x4138cb(0x21e)]!=_0x48093e),await handleError(_0xd077fe,'placeOrder()',_0x48093e));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x4138cb(0x217)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4760f2=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4138cb(0x2e8)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x28b846=_0x4138cb;validateOrders(_0x28b846(0x25e));},_0x4760f2);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4138cb(0x2cb),_0x4138cb(0x226)));}else{if(coolingDown)!config[_0x4138cb(0x2e9)]&&logHistory(_0x4138cb(0x27a),_0x4138cb(0x19a));else lockOrders!=ORDERS[_0x4138cb(0x1f8)]&&(!config[_0x4138cb(0x2e9)]&&(config[_0x4138cb(0x255)]==_0x4138cb(0x191)?logHistory(_0x4138cb(0x27a),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x4138cb(0x27a),_0x4138cb(0x1eb))));}}function persistOpenOrders(_0x15e7d3){const _0x5760e6=_0x20de75,_0x1e258e={...config,'openOrders':_0x15e7d3};let _0xbdd716=dbConfig[_0x5760e6(0x1de)](_0x5760e6(0x1cd))['find']({'botID':botID})[_0x5760e6(0x19b)]();_0xbdd716&&dbConfig[_0x5760e6(0x1de)](_0x5760e6(0x1cd))[_0x5760e6(0x282)]({'botID':botID})[_0x5760e6(0x223)](_0x1e258e)[_0x5760e6(0x1d8)]();}function restoreOrders(){const _0x4e88df=_0x20de75;let _0x24ca9e;config[_0x4e88df(0x1d4)]&&allOpenOrders[_0x4e88df(0x2aa)](_0x2417ee=>{const _0x361001=_0x4e88df,_0x5cac4c=config['openOrders'][_0x361001(0x282)](_0x48d2e8=>_0x48d2e8[_0x361001(0x298)]==_0x2417ee['id']);_0x5cac4c&&(lastOrders[_0x361001(0x202)](_0x5cac4c),_0x24ca9e=_0x2417ee[_0x361001(0x27c)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x4e88df(0x29b),allOrdersPlaced=!![];const _0x83cd4c=new Date()[_0x4e88df(0x290)](),_0x4555e8=config[_0x4e88df(0x255)]==_0x4e88df(0x191)?validateOrderTimeout*0x3c*0x3e8:config[_0x4e88df(0x2e8)]*0x3c*0x3e8;if(_0x24ca9e+_0x4555e8>_0x83cd4c){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xc744eb=_0x4e88df;validateOrders(_0xc744eb(0x25e));},_0x24ca9e+_0x4555e8-_0x83cd4c);}else validateOrders('final');}}async function sendPortfolioTelegram(){const _0xeb08ed=_0x20de75;if(loading[_0xeb08ed(0x1dd)]!=0x64){process['send']({'telegrammsg':_0xeb08ed(0x1fb)},_0x5432c4=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x190a2a=[_0xeb08ed(0x27d),_0xeb08ed(0x299),'USDT'],_0x12e293=_0x190a2a['includes'](config[_0xeb08ed(0x231)])?0x2:0x8;let _0x24bfae='';if(config[_0xeb08ed(0x242)])_0x24bfae=_0xeb08ed(0x2e4)+config[_0xeb08ed(0x1b9)]+_0xeb08ed(0x2db);else _0x24bfae='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x118f72=getKPIs('basecoin'),_0x2bf65d=getKPIs(_0xeb08ed(0x2b2));_0x24bfae+=_0xeb08ed(0x2cf),_0x24bfae+=_0x118f72[_0xeb08ed(0x1d2)]+_0xeb08ed(0x247)+_0x118f72[_0xeb08ed(0x19b)]+'\x20\x0a',_0x24bfae+=_0x118f72[_0xeb08ed(0x2b5)]+':\x20'+_0x118f72[_0xeb08ed(0x22c)]+_0xeb08ed(0x200),_0x24bfae+=_0x2bf65d[_0xeb08ed(0x1d2)]+':\x20'+_0x2bf65d[_0xeb08ed(0x19b)]+'\x20'+config[_0xeb08ed(0x231)]+'\x0a',_0x24bfae+=_0x2bf65d[_0xeb08ed(0x2b5)]+':\x20'+_0x2bf65d[_0xeb08ed(0x22c)]+'%\x20\x0a',_0x24bfae+='\x0a',_0x24bfae+=_0xeb08ed(0x1c2),_0x24bfae+=_0xeb08ed(0x2c3),_0x24bfae+='-------------------------------\x0a',currentCoins[_0xeb08ed(0x2aa)](_0xf74384=>{const _0x271e3e=_0xeb08ed;_0x24bfae+=_0xf74384['coin'][_0x271e3e(0x1d6)](0x7)+'|\x20'+formatPad(_0xf74384[_0x271e3e(0x1a2)],0x2,0x6)+'|\x20'+formatPad(_0xf74384[_0x271e3e(0x1ff)],0x2,0x6)+'|\x20'+formatPad(_0xf74384[_0x271e3e(0x1e7)]*0x64,0x2,0x6)+'\x0a';}),_0x24bfae+='</pre>',process[_0xeb08ed(0x26b)]({'telegrammsg':_0x24bfae},_0x3b7083=>{});}function formatPad(_0x544871,_0x3eb131,_0x19ea58){const _0x20da9e=_0x20de75,_0x16b3e4=formatResultString(_0x544871,_0x3eb131);return _0x16b3e4?_0x16b3e4[_0x20da9e(0x284)](_0x19ea58):''[_0x20da9e(0x284)](_0x19ea58);}function logHistory(_0x348f74,_0x2a45e8,_0x585e41=''){const _0x4ec7a1=_0x20de75;let _0x231820={'time':getTimeStamp(),'type':_0x348f74,'event':_0x2a45e8};dbLogs[_0x4ec7a1(0x1de)]('logs')[_0x4ec7a1(0x202)](_0x231820)[_0x4ec7a1(0x1d8)]();if(_0x585e41=='')_0x585e41=_0x2a45e8;proxyEmit(_0x4ec7a1(0x256),{'log':_0x231820,'summary':_0x585e41}),process['send']({'telegram':{..._0x231820,'botname':config['botname'],'showname':config[_0x4ec7a1(0x242)]}},_0x385ef7=>{}),logger[_0x4ec7a1(0x2d9)](''+_0x231820['event']);}function emitHistory(_0x355793={}){const _0x1759bf=_0x20de75;Object[_0x1759bf(0x1f9)](_0x355793)[_0x1759bf(0x217)]==0x0&&(_0x355793={'type':[_0x1759bf(0x293),_0x1759bf(0x256)],'event':'','page':0x1});if(_0x355793[_0x1759bf(0x213)][_0x1759bf(0x1ee)]('event'))_0x355793[_0x1759bf(0x213)][_0x1759bf(0x2be)](_0x355793['type'][_0x1759bf(0x2a9)](_0x1759bf(0x256)),0x1,'error',_0x1759bf(0x2cb));if(dbLogs[_0x1759bf(0x1fc)](_0x1759bf(0x251))[_0x1759bf(0x19b)]()){let _0x1a502a=dbLogs[_0x1759bf(0x1de)](_0x1759bf(0x251))['filter'](_0x4f0c7e=>{const _0x2fdc6a=_0x1759bf;if(_0x355793[_0x2fdc6a(0x213)][_0x2fdc6a(0x217)]==0x0)return![];else return _0x355793[_0x2fdc6a(0x213)][_0x2fdc6a(0x1ee)](_0x4f0c7e[_0x2fdc6a(0x213)]);})[_0x1759bf(0x1ec)](_0xe8ca83=>{const _0x24421d=_0x1759bf;if(_0x355793[_0x24421d(0x256)]=='')return!![];else return _0xe8ca83[_0x24421d(0x256)]['toLowerCase']()[_0x24421d(0x1ee)](_0x355793[_0x24421d(0x256)]['toLowerCase']());})[_0x1759bf(0x192)](_0x1759bf(0x1cb)),_0x641c5f=_0x1a502a['value']()[_0x1759bf(0x217)];_0x1a502a=_0x1a502a[_0x1759bf(0x20c)]()['slice']((_0x355793[_0x1759bf(0x28d)]-0x1)*logPageSize,_0x355793[_0x1759bf(0x28d)]*logPageSize-0x1)[_0x1759bf(0x20c)]()[_0x1759bf(0x19b)](),proxyEmit(_0x1759bf(0x2d0),{'logs':_0x1a502a,'total':_0x641c5f});}else proxyEmit(_0x1759bf(0x2d0),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x36ce0a){const _0x35ddc3=_0x20de75;if(dbLogs[_0x35ddc3(0x1fc)](_0x35ddc3(0x251))[_0x35ddc3(0x19b)]()){const _0xb740eb=dbLogs[_0x35ddc3(0x1de)]('logs')['sortBy'](_0x35ddc3(0x1cb))[_0x35ddc3(0x1ec)](_0x1234ac=>{const _0x583566=_0x35ddc3;return _0x1234ac['type']==_0x583566(0x293);})[_0x35ddc3(0x19b)]();dbLogs['get'](_0x35ddc3(0x251))[_0x35ddc3(0x1e2)]()[_0x35ddc3(0x1d8)](),dbLogs[_0x35ddc3(0x1de)](_0x35ddc3(0x251))['assign'](_0xb740eb)[_0x35ddc3(0x1d8)](),emitHistory(_0x36ce0a);}}async function pauseBot(_0x5801c0=''){const _0x533a2e=_0x20de75,_0x53c351=new Date()[_0x533a2e(0x290)]();if(!lastBotPause)lastBotPause=new Date()[_0x533a2e(0x290)](),consecutivePauses=0x1;else{if(_0x53c351-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x533a2e(0x26b)]({'stop':_0x533a2e(0x297)},_0x947123=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x533a2e(0x290)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x5801c0)_0x5801c0+=_0x533a2e(0x21b);logHistory(_0x533a2e(0x27a),_0x5801c0+_0x533a2e(0x193)+pauseBotInterval/0xea60+_0x533a2e(0x29d)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){process['send']({'stop':'kill'},_0x35ae71=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x105d01,_0x250b3b){const _0x5103e3=_0x20de75;if(_0x105d01['toString']()[_0x5103e3(0x1ee)]('API-key\x20format\x20invalid'))return logHistory(_0x5103e3(0x27a),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x105d01[_0x5103e3(0x2d4)]()[_0x5103e3(0x1ee)](_0x5103e3(0x219)))return logHistory(_0x5103e3(0x27a),_0x5103e3(0x2c6)),![];else{if(_0x105d01[_0x5103e3(0x2d4)]()[_0x5103e3(0x1ee)](_0x5103e3(0x2a7)))return logHistory('error',_0x5103e3(0x2bb)),![];else await handleError(_0x105d01,_0x250b3b);}}}async function handleError(_0x5ce5f6,_0xd65f48,_0x4e8ead=''){const _0x27ef18=_0x20de75;if(_0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)](_0x27ef18(0x1f0)))await pauseBot(_0x27ef18(0x23c));else{if(_0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)]('ExchangeNotAvailable'))await pauseBot(_0x27ef18(0x19e));else{if(_0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)](_0x27ef18(0x1f2)))await pauseBot('Binance\x20not\x20responding');else{if(_0x5ce5f6[_0x27ef18(0x2d4)]()['includes'](_0x27ef18(0x250)))logHistory(_0x27ef18(0x27a),_0xd65f48+_0x27ef18(0x2dd)),logHistory('error',_0x27ef18(0x1fd)),await killBot();else{if(_0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)](_0x27ef18(0x219)))logHistory(_0x27ef18(0x27a),_0xd65f48+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x27ef18(0x27a),_0x27ef18(0x1fd)),await killBot();else{if(_0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x27ef18(0x27a),_0xd65f48+_0x27ef18(0x248)),logHistory('error',_0x27ef18(0x1fd)),await killBot();else{if(_0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)](_0x27ef18(0x283)))logHistory(_0x27ef18(0x27a),_0xd65f48+_0x27ef18(0x207)),logHistory('error',_0x27ef18(0x1fd)),await killBot();else{if(_0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)](_0x27ef18(0x2b1)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x27ef18(0x26b)]({'stop':_0x27ef18(0x297)},_0x52e97b=>{});else _0x5ce5f6[_0x27ef18(0x2d4)]()[_0x27ef18(0x1ee)](_0x27ef18(0x27f))?logHistory(_0x27ef18(0x27a),_0xd65f48+_0x27ef18(0x29c)+_0x4e8ead):(logger[_0x27ef18(0x2d9)](_0xd65f48+'\x20|\x20Error\x20details:\x20',_0x5ce5f6),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x21a48d,_0x3de48c){const _0x160d7f=_0x20de75;return parseFloat(_0x21a48d[_0x160d7f(0x199)](_0x3de48c));}function formatResultTruncate(_0x58b705,_0x52a330){const _0x1ca016=_0x20de75;let _0x3a1e78=formatResultString(_0x58b705,0xa),_0x357117=_0x3a1e78['indexOf']('.');return _0x357117!=-0x1&&(_0x3a1e78=_0x3a1e78[_0x1ca016(0x1ba)](0x0,_0x357117+_0x52a330+0x1)),Number(_0x3a1e78);}function formatResultString(_0x449fac,_0x2fa124){const _0x21ef0c=_0x20de75;let _0x221339;if(!(''+_0x449fac)[_0x21ef0c(0x1ee)]('e'))_0x221339=+(Math[_0x21ef0c(0x201)](_0x449fac+'e+'+_0x2fa124)+'e-'+_0x2fa124);else{let _0x35b45d=(''+_0x449fac)[_0x21ef0c(0x1c4)]('e'),_0x1793e8='';+_0x35b45d[0x1]+_0x2fa124>0x0&&(_0x1793e8='+'),_0x221339=+(Math['round'](+_0x35b45d[0x0]+'e'+_0x1793e8+(+_0x35b45d[0x1]+_0x2fa124))+'e-'+_0x2fa124);}return Number(_0x221339)['toFixed'](_0x2fa124);}function getServerTime(){const _0x54113b=_0x20de75,_0x46ff38=new Date();return _0x46ff38['getFullYear']()+'/'+(_0x46ff38[_0x54113b(0x253)]()+0x1)[_0x54113b(0x2d4)]()['padStart'](0x2,'0')+'/'+_0x46ff38[_0x54113b(0x22a)]()[_0x54113b(0x2d4)]()['padStart'](0x2,'0')+'\x20'+_0x46ff38[_0x54113b(0x1fa)]()[_0x54113b(0x2d4)]()[_0x54113b(0x284)](0x2,'0')+':'+_0x46ff38[_0x54113b(0x19c)]()[_0x54113b(0x2d4)]()[_0x54113b(0x284)](0x2,'0')+':'+_0x46ff38[_0x54113b(0x2b3)]()['toString']()[_0x54113b(0x284)](0x2,'0');}function getTimeStamp(){const _0x51b61b=_0x20de75,_0x415ba6=shiftedTime();return _0x415ba6[_0x51b61b(0x24e)]()+'/'+(_0x415ba6['getMonth']()+0x1)[_0x51b61b(0x2d4)]()[_0x51b61b(0x284)](0x2,'0')+'/'+_0x415ba6['getDate']()[_0x51b61b(0x2d4)]()[_0x51b61b(0x284)](0x2,'0')+'\x20'+_0x415ba6[_0x51b61b(0x1fa)]()['toString']()['padStart'](0x2,'0')+':'+_0x415ba6[_0x51b61b(0x19c)]()[_0x51b61b(0x2d4)]()[_0x51b61b(0x284)](0x2,'0')+':'+_0x415ba6[_0x51b61b(0x2b3)]()[_0x51b61b(0x2d4)]()['padStart'](0x2,'0');}function getDate(){const _0x272742=_0x20de75,_0x404250=shiftedTime();return _0x404250[_0x272742(0x24e)]()+'/'+(_0x404250['getMonth']()+0x1)[_0x272742(0x2d4)]()['padStart'](0x2,'0')+'/'+_0x404250['getDate']()[_0x272742(0x2d4)]()[_0x272742(0x284)](0x2,'0');}function getHour(){const _0x1fa141=_0x20de75,_0x4addb6=shiftedTime();return _0x4addb6[_0x1fa141(0x1fa)]()[_0x1fa141(0x2d4)]()['padStart'](0x2,'0');}function sleep(_0x201d5c){return new Promise(_0x4434e=>setTimeout(_0x4434e,_0x201d5c));}function shiftedTime(){const _0x575335=_0x20de75,_0x514df6=new Date();let _0x4e5e18=_0x514df6;if(config&&config[_0x575335(0x1d7)]!==0x0)_0x4e5e18=fns[_0x575335(0x259)](_0x514df6,{'hours':config[_0x575335(0x1d7)]});return _0x4e5e18;}