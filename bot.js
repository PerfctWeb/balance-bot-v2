const _0x5b2a54=_0x410a;(function(_0xb1089b,_0x52723a){const _0x1b935d=_0x410a,_0x132439=_0xb1089b();while(!![]){try{const _0x53f444=-parseInt(_0x1b935d(0x283))/0x1*(parseInt(_0x1b935d(0x2cf))/0x2)+parseInt(_0x1b935d(0x296))/0x3+-parseInt(_0x1b935d(0x249))/0x4+parseInt(_0x1b935d(0x270))/0x5+parseInt(_0x1b935d(0x22b))/0x6+-parseInt(_0x1b935d(0x2a8))/0x7*(-parseInt(_0x1b935d(0x379))/0x8)+parseInt(_0x1b935d(0x339))/0x9*(-parseInt(_0x1b935d(0x230))/0xa);if(_0x53f444===_0x52723a)break;else _0x132439['push'](_0x132439['shift']());}catch(_0x2a9729){_0x132439['push'](_0x132439['shift']());}}}(_0x3d5a,0x2ede1));const _0x409232=function(){let _0x2b2768=!![];return function(_0x2e79c9,_0x357122){const _0x3a4c0c=_0x2b2768?function(){const _0x5b84de=_0x410a;if(_0x357122){const _0x4d4fb3=_0x357122[_0x5b84de(0x26a)](_0x2e79c9,arguments);return _0x357122=null,_0x4d4fb3;}}:function(){};return _0x2b2768=![],_0x3a4c0c;};}(),_0x5336b1=_0x409232(this,function(){const _0x40bee9=_0x410a;return _0x5336b1[_0x40bee9(0x33d)]()['search'](_0x40bee9(0x27e))[_0x40bee9(0x33d)]()[_0x40bee9(0x336)](_0x5336b1)[_0x40bee9(0x29f)](_0x40bee9(0x27e));});_0x5336b1();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require(_0x5b2a54(0x258)),fs=require('fs'),fns=require(_0x5b2a54(0x369)),Crypt=require(_0x5b2a54(0x300))[_0x5b2a54(0x342)],util=require(_0x5b2a54(0x2b8)),argv=require('yargs/yargs')(process['argv']['slice'](0x2))[_0x5b2a54(0x29c)],path=require('path'),axios=require(_0x5b2a54(0x263));let exchange;global[_0x5b2a54(0x317)]={},global[_0x5b2a54(0x31e)]={};const usdBasecoins=[_0x5b2a54(0x355),'BUSD',_0x5b2a54(0x25b),'USDT','USDC',_0x5b2a54(0x298)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5b2a54(0x346)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x5b2a54(0x24d)+pauseBotInterval/0xea60+_0x5b2a54(0x212),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require('./version.json')['version'],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x5b2a54(0x2a5)](botID)&&(console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x5b2a54(0x2ff)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x5b2a54(0x2e2)+userID+'/':_0x5b2a54(0x2e2),logspath=userID?_0x5b2a54(0x2d4)+userID+'/':_0x5b2a54(0x2d4),loggerfile=fs[_0x5b2a54(0x1f9)](logspath+_0x5b2a54(0x383),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x5b2a54(0x28c)](configpath);!fs['existsSync'](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x5b2a54(0x2e6)+botID+'-config.json',logfile=configpath+_0x5b2a54(0x2e6)+botID+'-events.json',performancefile=configpath+_0x5b2a54(0x2e6)+botID+'-performance.json',coinresultsfile=configpath+_0x5b2a54(0x2e6)+botID+'-results.json',settingsfile=configpath+_0x5b2a54(0x2d9),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x5b2a54(0x297),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5b2a54(0x20d)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5b2a54(0x20d)]({'data':[],'version':serverversion})[_0x5b2a54(0x386)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5b2a54(0x20d)]({'bot':[],'version':serverversion})[_0x5b2a54(0x386)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x5b2a54(0x386)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5b2a54(0x384),'rsaStandard':_0x5b2a54(0x2ce)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x29d083=>{const _0x1787a7=_0x5b2a54;console[_0x1787a7(0x221)](_0x29d083);},'simple':_0x4eda16=>{const _0x869bd5=_0x5b2a54;console[_0x869bd5(0x221)](_0x4eda16),loggerfile['write'](util[_0x869bd5(0x244)](_0x4eda16)+'\x0a');},'full':async(_0x2bca37,_0x5f13c7='')=>{const _0x5b543c=_0x5b2a54;let _0x4894a9;if(config[_0x5b543c(0x224)])_0x4894a9=getTimeStamp()+':\x20'+config[_0x5b543c(0x239)]+_0x5b543c(0x33c)+_0x2bca37;else _0x4894a9=getTimeStamp()+_0x5b543c(0x26d)+botID+_0x5b543c(0x33c)+_0x2bca37;console[_0x5b543c(0x221)](_0x4894a9),loggerfile['write'](util[_0x5b543c(0x244)](_0x4894a9)+'\x0a'),_0x5f13c7&&(console[_0x5b543c(0x221)](_0x5f13c7),loggerfile[_0x5b543c(0x386)](util[_0x5b543c(0x244)](_0x5f13c7)+'\x0a'));},'debug':async(_0x55a59a,_0xb2b99d='')=>{const _0x2763a4=_0x5b2a54;let _0x53da98;if(config[_0x2763a4(0x224)])_0x53da98=getTimeStamp()+':\x20'+config['botname']+_0x2763a4(0x1f3)+_0x55a59a;else _0x53da98=getTimeStamp()+_0x2763a4(0x26d)+botID+_0x2763a4(0x1f3)+_0x55a59a;if(debugging)console['log'](_0x53da98);loggerfile['write'](util[_0x2763a4(0x244)](_0x53da98)+'\x0a');if(_0xb2b99d){if(debugging)console['log'](_0xb2b99d);loggerfile[_0x2763a4(0x386)](util[_0x2763a4(0x244)](_0xb2b99d)+'\x0a');}}};process['on'](_0x5b2a54(0x2d1),function(_0x419266){const _0x14cb0b=_0x5b2a54;handleError(_0x419266,_0x14cb0b(0x2d1));});settings[_0x5b2a54(0x2c5)]!=config[_0x5b2a54(0x2c5)]&&updateTimeshift(settings[_0x5b2a54(0x2c5)]);settings[_0x5b2a54(0x2e0)]!=config[_0x5b2a54(0x2e0)]&&updateOnepagemode(settings[_0x5b2a54(0x2e0)]);(settings[_0x5b2a54(0x223)]&&!config[_0x5b2a54(0x223)]||!settings[_0x5b2a54(0x223)]&&config['marketcapApi'])&&updateMarketcapApi(settings['marketcapApi']);process[_0x5b2a54(0x23d)]({'started':_0x5b2a54(0x202)},_0x240065=>{}),initializeProcessListeners();function proxyEmit(_0x4adeaa,_0x5336f2=null){const _0x50756c=_0x5b2a54;process[_0x50756c(0x23d)]({'function':_0x4adeaa,'args':_0x5336f2},_0xb691e7=>{});}function initializeProcessListeners(){const _0x36c4cc=_0x5b2a54;process['on'](_0x36c4cc(0x37a),_0x38c5fd=>{const _0x3b775d=_0x36c4cc;switch(Object['keys'](_0x38c5fd)[0x0]){case _0x3b775d(0x2c5):_0x38c5fd[_0x3b775d(0x2c5)]!=undefined&&(settings[_0x3b775d(0x2c5)]=_0x38c5fd[_0x3b775d(0x2c5)],updateTimeshift(settings[_0x3b775d(0x2c5)]));break;case _0x3b775d(0x2e0):_0x38c5fd[_0x3b775d(0x2e0)]!=undefined&&(settings['onepagemode']=_0x38c5fd[_0x3b775d(0x2e0)],updateOnepagemode(settings[_0x3b775d(0x2e0)]));break;case _0x3b775d(0x223):_0x38c5fd[_0x3b775d(0x223)]!=undefined&&(settings[_0x3b775d(0x223)]=_0x38c5fd[_0x3b775d(0x223)],updateMarketcapApi(settings['marketcapApi']));break;case _0x3b775d(0x280):_0x38c5fd[_0x3b775d(0x280)]!=undefined&&(bots=JSON[_0x3b775d(0x210)](_0x38c5fd['bots']),proxyEmit(_0x3b775d(0x280),bots));break;case _0x3b775d(0x2ed):switch(_0x38c5fd[_0x3b775d(0x2ed)]){case _0x3b775d(0x2f8):initclient();break;case _0x3b775d(0x343):toggleBotMode();break;case _0x3b775d(0x359):emitHistory(_0x38c5fd[_0x3b775d(0x20b)]);break;case _0x3b775d(0x374):deleteHistoryAlerts(_0x38c5fd[_0x3b775d(0x20b)]);break;case'getPortfolio':getPortfolio(_0x38c5fd[_0x3b775d(0x20b)]);break;case _0x3b775d(0x20a):storeConfiguration(_0x38c5fd[_0x3b775d(0x20b)]);break;case _0x3b775d(0x2a1):storeHeadless(_0x38c5fd['args']);break;case'storeFiat':storeFiat(_0x38c5fd['args']);break;case _0x3b775d(0x328):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x3b775d(0x246):placeOrder(_0x38c5fd[_0x3b775d(0x20b)]);break;case _0x3b775d(0x291):cancelLoading();break;case _0x3b775d(0x352):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x3abf1e=![]){const _0x21d590=_0x5b2a54;logger[_0x21d590(0x34b)](_0x21d590(0x2d2)+(_0x3abf1e?_0x21d590(0x2ad):_0x21d590(0x2b2))+_0x21d590(0x1f5)+config[_0x21d590(0x364)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x3abf1e)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x21d590(0x2b9)]!=''&&config['apiKey']!=_0x21d590(0x34a)){loadingProgress=0x0;if(_0x3abf1e){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x33df96){handleErrorNoStop(_0x33df96,_0x21d590(0x2de));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x562a7f=await getCoins();[currentCoins,currentCoinsAll]=_0x562a7f,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x21d590(0x34b)](_0x21d590(0x2fa)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x21d590(0x387)]==0x0&&allOpenOrders[_0x21d590(0x387)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0xc76ef8){const _0x36f920=_0x5b2a54;let _0x153daa=![];if(_0xc76ef8)_0x153daa=!![];let _0xccf91d;_0x153daa?_0xccf91d=_0xc76ef8[_0x36f920(0x24c)](_0x28efbb=>_0x28efbb[_0x36f920(0x2f9)]):_0xccf91d=currentCoinsAll[_0x36f920(0x24c)](_0x4113e8=>_0x4113e8[_0x36f920(0x2f9)]);if(!config[_0x36f920(0x223)]||!_0x153daa&&!config[_0x36f920(0x262)]||_0xccf91d[_0x36f920(0x387)]==0x0)return;let _0x5d3712=null;try{_0x5d3712=await axios[_0x36f920(0x323)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x36f920(0x223)]},'params':{'symbol':_0xccf91d[_0x36f920(0x33d)]()}});}catch(_0x5fc897){_0x5d3712=null,_0x5fc897[_0x36f920(0x33d)]()['includes']('status\x20code\x20401')?(config[_0x36f920(0x223)]=![],updateConfig(),proxyEmit(_0x36f920(0x229),emittedConfiguration()),logHistory('error',_0x36f920(0x241))):(logHistory(_0x36f920(0x2cd),_0x36f920(0x2f2)+marketCapInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x36f920(0x34b)](_0x36f920(0x32c),_0x5fc897[_0x36f920(0x33d)]()+_0x36f920(0x308)+_0x5fc897[_0x36f920(0x25a)]));}if(_0x5d3712){let _0x543c99=0x0;const _0x4ba7ef=_0x5d3712[_0x36f920(0x36f)];_0xccf91d['forEach'](_0x23ec4a=>{const _0x39fff1=_0x36f920;_0x543c99+=_0x4ba7ef[_0x39fff1(0x36f)][_0x23ec4a][0x0][_0x39fff1(0x27c)][_0x39fff1(0x355)][_0x39fff1(0x2e8)];}),_0xccf91d[_0x36f920(0x277)](_0x234e7b=>{const _0x30c20c=_0x36f920,_0x4376bc=_0x4ba7ef[_0x30c20c(0x36f)][_0x234e7b][0x0][_0x30c20c(0x27c)]['USD'][_0x30c20c(0x2e8)];if(_0x153daa){const _0xe37b9=_0xc76ef8[_0x30c20c(0x225)](_0x1877f4=>_0x1877f4[_0x30c20c(0x2f9)]==_0x234e7b);_0xe37b9&&(_0xe37b9[_0x30c20c(0x1e3)]=_0x4376bc);}else{const _0xd2ac95=currentCoins[_0x30c20c(0x225)](_0x392a81=>_0x392a81[_0x30c20c(0x2f9)]==_0x234e7b);_0xd2ac95&&(_0xd2ac95[_0x30c20c(0x1e3)]=_0x4376bc);const _0x244bc5=currentCoinsAll[_0x30c20c(0x225)](_0x17928b=>_0x17928b[_0x30c20c(0x2f9)]==_0x234e7b);_0x244bc5&&(_0x244bc5[_0x30c20c(0x1e3)]=_0x4376bc);}}),!_0x153daa&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1d7089=_0x5b2a54,_0x521d4a=0x2;let _0x1eaf69=0x0,_0x4b5a67=0x0,_0x1983f7=0x0,_0x2da0ca=0x0;config[_0x1d7089(0x232)][_0x1d7089(0x277)](_0x53466c=>{const _0x490e3a=_0x1d7089;if(!_0x53466c[_0x490e3a(0x37f)]){_0x1983f7++,_0x1eaf69+=_0x53466c[_0x490e3a(0x281)];if(_0x53466c[_0x490e3a(0x281)]===-0x1){_0x1eaf69++;const _0x1642aa=currentCoinsAll[_0x490e3a(0x225)](_0x5a61fc=>_0x5a61fc[_0x490e3a(0x2f9)]==_0x53466c[_0x490e3a(0x2f9)]);_0x1642aa&&(_0x2da0ca+=_0x1642aa[_0x490e3a(0x1e3)]);}if(_0x53466c['slider']!==-0x1)_0x4b5a67++;}});let _0x309f0e;const _0x260137=0x64-_0x1eaf69,_0x2a11de=_0x1983f7-_0x4b5a67;_0x309f0e=_0x2a11de===0x0?_0x1eaf69:Math['max'](0x64,_0x1eaf69),config[_0x1d7089(0x232)][_0x1d7089(0x277)](_0x285299=>{const _0x2a179a=_0x1d7089,_0x1d5627=currentCoinsAll['find'](_0x1e3dd6=>_0x1e3dd6[_0x2a179a(0x2f9)]==_0x285299[_0x2a179a(0x2f9)]);_0x1d5627&&(_0x285299['marketcap']=_0x1d5627[_0x2a179a(0x1e3)]),!_0x285299['excluded']&&(_0x309f0e<=0x64&&(_0x285299[_0x2a179a(0x281)]===-0x1&&(_0x2da0ca!==0x0&&config['marketcapEnabled']&&(_0x1d5627&&(_0x285299[_0x2a179a(0x21b)]=(_0x260137/(_0x2da0ca/_0x1d5627[_0x2a179a(0x1e3)]))[_0x2a179a(0x2c9)](_0x521d4a))))));}),updateConfig();}function updateConfig(){const _0x1380b6=_0x5b2a54;let _0x40526f=dbConfig[_0x1380b6(0x323)](_0x1380b6(0x28e))[_0x1380b6(0x225)]({'botID':botID})['value']();_0x40526f&&dbConfig['get'](_0x1380b6(0x28e))[_0x1380b6(0x225)]({'botID':botID})['assign'](config)[_0x1380b6(0x386)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x521f3a=_0x5b2a54;exchangeStopped=!![];try{await exchange[_0x521f3a(0x2a3)]();}catch(_0x2ddd3b){await handleError(_0x2ddd3b,'stopExchange()');}}async function reloadExchange(){const _0x360fc1=_0x5b2a54;while(lockOrders!=ORDERS[_0x360fc1(0x346)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x360fc1(0x34b)](_0x360fc1(0x2d5)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0xbb6301=config[_0x5b2a54(0x364)],_0x2f925c=config[_0x5b2a54(0x2b9)],_0x5f4a1f=config[_0x5b2a54(0x269)],_0xb4fbab=config[_0x5b2a54(0x304)]){const _0x5a805d=_0x5b2a54;exchange&&await stopExchange();!supportedExchanges()[_0x5a805d(0x320)](_0xbb6301)&&(logHistory(_0x5a805d(0x2cd),_0x5a805d(0x274)+_0xbb6301+_0x5a805d(0x25f)),killBot());const _0x2538b4=ccxt[_0x5a805d(0x24f)][_0xbb6301[_0x5a805d(0x2b4)]()];exchange=new _0x2538b4({'apiKey':_0x2f925c,'secret':_0x5f4a1f,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0xb4fbab)exchange[_0x5a805d(0x310)]=_0xb4fbab;}function setStableCoins(){const _0x55d559=_0x5b2a54;let _0x30923f=config[_0x55d559(0x209)]==_0x55d559(0x256)?'ETH':config['basecoin']=='PAXG'?_0x55d559(0x2dd):_0x55d559(0x2a4),_0xbd3f14=!allSymbols[_0x55d559(0x320)](_0x30923f+_0x55d559(0x2e4))?_0x55d559(0x200):_0x55d559(0x355),_0x5454d2=!allSymbols[_0x55d559(0x320)](_0x30923f+_0x55d559(0x322))?_0xbd3f14:_0x55d559(0x29b);stablecoins={'eur':{'coin':''+_0x30923f+_0x5454d2,'symbol':_0x30923f+'/'+_0x5454d2},'usd':{'coin':''+_0x30923f+_0xbd3f14,'symbol':_0x30923f+'/'+_0xbd3f14}};}async function initwsCcxt(){const _0x1014db=_0x5b2a54;initCycle++;const _0x1fadb6=initCycle;let _0x14704c=[];config[_0x1014db(0x232)][_0x1014db(0x277)](_0x2e4cec=>{const _0x15283f=_0x1014db;if(!_0x2e4cec['excluded']&&_0x2e4cec['coin']!=config[_0x15283f(0x209)])_0x14704c[_0x15283f(0x25d)](_0x2e4cec[_0x15283f(0x2fc)]);});if(!_0x14704c['includes'](stablecoins[_0x1014db(0x31b)][_0x1014db(0x2fc)]))_0x14704c[_0x1014db(0x25d)](stablecoins['eur'][_0x1014db(0x2fc)]);if(!_0x14704c[_0x1014db(0x320)](stablecoins[_0x1014db(0x2ca)][_0x1014db(0x2fc)]))_0x14704c[_0x1014db(0x25d)](stablecoins[_0x1014db(0x2ca)][_0x1014db(0x2fc)]);if(config[_0x1014db(0x364)][_0x1014db(0x22c)]('Binance')&&config['basecoin']!='PAXG'){if(!_0x14704c['includes'](_0x1014db(0x34d)+config[_0x1014db(0x209)]))_0x14704c[_0x1014db(0x25d)](_0x1014db(0x34d)+config[_0x1014db(0x209)]);}loadCoins(_0x14704c),_0x14704c=validateSymbols(_0x14704c);const _0xfd9705=async _0x24be5b=>{const _0x26f7d4=_0x1014db;let _0x3f669c;try{const _0x1787aa=await getTickers(_0x24be5b);Object[_0x26f7d4(0x219)](_0x1787aa)['forEach'](_0x17bc4f=>{const _0x45be75=_0x26f7d4;_0x3f669c=_0x17bc4f[0x1]['symbol'],global[_0x45be75(0x317)][noslash(_0x3f669c)]=_0x17bc4f[0x1][_0x45be75(0x21c)],global[_0x45be75(0x31e)][_0x3f669c]=_0x17bc4f[0x1][_0x45be75(0x295)];});}catch(_0x2600d9){await handleError(_0x2600d9,_0x26f7d4(0x26c),_0x3f669c);}},_0x3652df=async _0x8ec937=>{const _0x4b96eb=_0x1014db;while(initCycle==_0x1fadb6){if(!botPaused)try{const _0xe1f019=await exchange['watchTrades'](_0x8ec937);global['ticker'][noslash(_0xe1f019[0x0][_0x4b96eb(0x2fc)])]=_0xe1f019[0x0][_0x4b96eb(0x2cb)],await sleep(0x3e8);}catch(_0x4183d4){if(!exchangeStopped)await handleError(_0x4183d4,'watchTrades()',_0x8ec937);}else await sleep(0x64);}},_0x2867cf=async _0x4ef5d5=>{const _0x5476bc=_0x1014db;while(initCycle==_0x1fadb6){if(!botPaused){let _0x1a6306;try{await sleep(0x3c*0x3e8);const _0x281bed=await getTickers(_0x4ef5d5);Object[_0x5476bc(0x219)](_0x281bed)[_0x5476bc(0x277)](_0x503bf7=>{const _0x3516dd=_0x5476bc;_0x1a6306=_0x503bf7[0x1][_0x3516dd(0x2fc)],global[_0x3516dd(0x31e)][_0x1a6306]=_0x503bf7[0x1][_0x3516dd(0x295)];});}catch(_0x2f9504){if(!exchangeStopped)await handleError(_0x2f9504,_0x5476bc(0x347),_0x1a6306);}}else await sleep(0x64);}},_0x1d0d0f=async _0x1aff0d=>{const _0x32176c=_0x1014db;while(initCycle==_0x1fadb6){if(!botPaused)try{const _0x46f671=await exchange[_0x32176c(0x2f0)](_0x1aff0d);initCycle==_0x1fadb6&&_0x46f671[_0x32176c(0x277)](_0x2ac463=>{updateNumberCoinsCcxt(_0x2ac463);});}catch(_0x2f9115){if(!exchangeStopped)await handleError(_0x2f9115,_0x32176c(0x373));}else await sleep(0x64);}};_0xfd9705(_0x14704c),_0x2867cf(_0x14704c),_0x14704c[_0x1014db(0x277)](_0x1b6d9f=>{_0x3652df(_0x1b6d9f),_0x1d0d0f(_0x1b6d9f);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x5d9f15){const _0x57f3ed=_0x5b2a54;let _0x121ee4={};try{if(config[_0x57f3ed(0x364)]!=_0x57f3ed(0x23c))_0x121ee4=await exchange[_0x57f3ed(0x376)](_0x5d9f15);else for(const _0x51be7c of _0x5d9f15){const _0x35c117=await exchange[_0x57f3ed(0x203)](_0x51be7c);_0x121ee4[_0x51be7c]=_0x35c117;}return _0x121ee4;}catch(_0x3aebdf){throw _0x3aebdf;}}async function watchTransactions(){const _0x29fadf=_0x5b2a54;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x2db05f=await getCoins(),[_0x1ff480,_0x132fc4]=_0x2db05f;let _0x1968dc=[];currentCoins['forEach'](_0x224924=>{const _0x5223de=_0x410a,_0x4d1bd3=_0x1ff480[_0x5223de(0x225)](_0xe5a551=>_0xe5a551[_0x5223de(0x2f9)]==_0x224924[_0x5223de(0x2f9)]);if(_0x4d1bd3){if(_0x224924['number']!=_0x4d1bd3[_0x5223de(0x2d0)]){let _0x5194d9;if(_0x224924['coin']!=config['basecoin']){const _0x1a49e5=global[_0x5223de(0x317)][noslash(_0x224924['symbol'])];_0x5194d9=_0x224924['reverse']?0x1/_0x1a49e5:_0x1a49e5;}else _0x5194d9=0x1;_0x1968dc[_0x5223de(0x25d)]({'coin':_0x224924[_0x5223de(0x2f9)],'symbol':_0x224924[_0x5223de(0x2fc)],'price':_0x5194d9,'number':Number(formatResult(_0x4d1bd3[_0x5223de(0x2d0)]-_0x224924[_0x5223de(0x2d0)],0x8)),'basecoinvalue':_0x5194d9*(_0x4d1bd3[_0x5223de(0x2d0)]-_0x224924[_0x5223de(0x2d0)])});}}});if(_0x1968dc[_0x29fadf(0x387)]==0x1&&!blockTransactionDetection){if(config[_0x29fadf(0x278)]){logger[_0x29fadf(0x34b)](_0x29fadf(0x337)+_0x1968dc[0x0]['basecoinvalue']+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x29fadf(0x204)]);if(lastFees[_0x29fadf(0x204)]==0x0||Math['abs'](_0x1968dc[0x0][_0x29fadf(0x30c)])>lastFees['highest']){delete _0x1968dc[0x0][_0x29fadf(0x2fc)],delete _0x1968dc[0x0]['basecoinvalue'];let _0x1e5c90=[],_0x194faf=[...config['liquidity']]||[],_0x15a432=config[_0x29fadf(0x20e)];_0x194faf[_0x29fadf(0x29e)]((_0x118801,_0x38f1b6)=>_0x118801[_0x29fadf(0x28b)]>_0x38f1b6[_0x29fadf(0x28b)]?-0x1:_0x38f1b6[_0x29fadf(0x28b)]>_0x118801[_0x29fadf(0x28b)]?0x1:0x0);const _0xa1edbb=getDate();if(_0x194faf[0x0]){const _0x56dcff=fns[_0x29fadf(0x210)](_0x194faf[0x0][_0x29fadf(0x28b)],_0x29fadf(0x1e9),new Date()),_0x419046=fns[_0x29fadf(0x210)](_0xa1edbb,'yyyy/MM/dd',new Date());if(fns[_0x29fadf(0x2ab)](_0x56dcff,_0x419046)){_0x1e5c90=_0x194faf[0x0][_0x29fadf(0x32f)];const _0x19582e=_0x1e5c90[_0x29fadf(0x225)](_0x5e687d=>_0x5e687d['coin']==_0x1968dc[0x0][_0x29fadf(0x2f9)]);_0x19582e?(_0x19582e[_0x29fadf(0x2d0)]+=_0x1968dc[0x0][_0x29fadf(0x2d0)],_0x19582e[_0x29fadf(0x2d0)]==0x0&&(_0x1e5c90=_0x1e5c90['filter'](_0x55cf12=>{const _0x55cd5c=_0x29fadf;return _0x55cf12[_0x55cd5c(0x2f9)]!=_0x1968dc[0x0]['coin'];}))):_0x1e5c90['push'](_0x1968dc[0x0]);const _0x11bcd8=_0x15a432[_0x29fadf(0x225)](_0x5ed19d=>_0x5ed19d[_0x29fadf(0x28b)]==_0xa1edbb);_0x11bcd8[_0x29fadf(0x32f)]=_0x1e5c90;}else _0x15a432[_0x29fadf(0x25d)]({'date':_0xa1edbb,'changes':[_0x1968dc[0x0]]});}const _0x217ef7=_0x15a432[_0x29fadf(0x225)](_0xc728a6=>_0xc728a6[_0x29fadf(0x28b)]==_0xa1edbb);if(_0x217ef7){let _0x216f66=!![];_0x217ef7['changes']['forEach'](_0x2b0ea9=>{const _0x31c2e4=_0x29fadf;if(_0x2b0ea9[_0x31c2e4(0x2d0)]!=0x0)_0x216f66=![];}),_0x216f66&&(_0x15a432=_0x15a432[_0x29fadf(0x271)](_0x3c117e=>{const _0x55a3b4=_0x29fadf;return _0x3c117e[_0x55a3b4(0x28b)]!=_0xa1edbb;}));}let _0x9f605=dbConfig[_0x29fadf(0x323)](_0x29fadf(0x28e))['find']({'botID':botID})[_0x29fadf(0x36b)]();_0x9f605&&(dbConfig[_0x29fadf(0x323)](_0x29fadf(0x28e))[_0x29fadf(0x225)]({'botID':botID})['assign']({'liquidity':_0x15a432})['write'](),config[_0x29fadf(0x20e)]=_0x15a432),logHistory('success',_0x29fadf(0x201)+Math[_0x29fadf(0x2c0)](_0x1968dc[0x0][_0x29fadf(0x2d0)])+'\x20'+_0x1968dc[0x0][_0x29fadf(0x2f9)]+'\x20'+(_0x1968dc[0x0][_0x29fadf(0x2d0)]>0x0?_0x29fadf(0x2bb):_0x29fadf(0x234))+_0x29fadf(0x2ac)),proxyEmit(_0x29fadf(0x229),emittedConfiguration());}else logger[_0x29fadf(0x34b)](_0x29fadf(0x292)+Math[_0x29fadf(0x2c0)](_0x1968dc[0x0][_0x29fadf(0x2d0)])+'\x20'+_0x1968dc[0x0]['coin']+'\x20'+(_0x1968dc[0x0]['number']>0x0?_0x29fadf(0x2bb):_0x29fadf(0x234)));transactionDetected=!![];}else logger['debug'](_0x29fadf(0x201)+Math[_0x29fadf(0x2c0)](_0x1968dc[0x0][_0x29fadf(0x2d0)])+'\x20'+_0x1968dc[0x0]['coin']+'\x20'+(_0x1968dc[0x0][_0x29fadf(0x2d0)]>0x0?_0x29fadf(0x2bb):_0x29fadf(0x234))+_0x29fadf(0x28a));}currentCoins=_0x1ff480,currentCoinsAll=_0x132fc4,await sleep(watchTransactionsInterval);}catch(_0x38ab4d){if(!exchangeStopped)await handleError(_0x38ab4d,'watchTransactions()');}else await sleep(0x64);}}async function loadSymbols(){const _0x14b475=_0x5b2a54;try{markets=await exchange[_0x14b475(0x213)](),allSymbols=[],Object[_0x14b475(0x219)](markets)['forEach'](_0x301e57=>{const _0x44b014=_0x14b475;_0x301e57[0x1][_0x44b014(0x248)]&&_0x301e57[0x1][_0x44b014(0x33e)]&&allSymbols[_0x44b014(0x25d)](_0x301e57[0x0]);});}catch(_0xa9c583){throw _0xa9c583;}}function validateSymbols(_0x1c49b2){const _0x525db8=_0x5b2a54;let _0x10e5a7=[];return _0x1c49b2[_0x525db8(0x277)](_0x1345f4=>{const _0x13f1f5=_0x525db8;!allSymbols['includes'](_0x1345f4)?logHistory(_0x13f1f5(0x2cd),'Invalid\x20symbol:\x20'+_0x1345f4+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x10e5a7[_0x13f1f5(0x25d)](_0x1345f4);}),_0x10e5a7;}async function initclient(){const _0x1e7387=_0x5b2a54;proxyEmit(_0x1e7387(0x229),emittedConfiguration()),proxyEmit(_0x1e7387(0x327),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x43227b=getNormalizedPerformance();emitPerformance(_0x43227b),getStartingBalances(_0x43227b);}async function toggleBotMode(){const _0x1e5ef5=_0x5b2a54;let _0x47b42c=dbConfig[_0x1e5ef5(0x323)](_0x1e5ef5(0x28e))[_0x1e5ef5(0x225)]({'botID':botID})[_0x1e5ef5(0x36b)]();if(_0x47b42c){const _0x1d06a7=!_0x47b42c['headless'];dbConfig[_0x1e5ef5(0x323)](_0x1e5ef5(0x28e))[_0x1e5ef5(0x225)]({'botID':botID})[_0x1e5ef5(0x2c4)]({'headless':_0x1d06a7})['write'](),config[_0x1e5ef5(0x367)]=_0x1d06a7,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x581b08=_0x5b2a54;process[_0x581b08(0x23d)]({'updatebotmanager':!![]},_0x35676d=>{}),logger['debug'](_0x581b08(0x2e1)+config['headless']);}async function loadCoins(_0x103abd){const _0x37c946=_0x5b2a54;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x1e7e1e,_0x166868=0x0,_0x494d21=0x0;_0x103abd[_0x37c946(0x277)](_0x440b66=>{const _0x44a315=_0x37c946;loading[_0x44a315(0x242)]['push'](_0x440b66);}),loadingCanceled=![];let _0x118d16=![];while(_0x1e7e1e!=_0x103abd['length']+maxLoadingProgress){_0x1e7e1e=loadingProgress,_0x103abd[_0x37c946(0x277)](_0x55dbf9=>{const _0x32df5e=_0x37c946;if(global['ticker'][noslash(_0x55dbf9)]){loading[_0x32df5e(0x242)]=loading[_0x32df5e(0x242)][_0x32df5e(0x271)](_0x5287b5=>_0x5287b5!=_0x55dbf9);if(!watchedSymbols['includes'](_0x55dbf9))watchedSymbols['push'](_0x55dbf9);_0x1e7e1e++;}}),loading[_0x37c946(0x290)]=Math[_0x37c946(0x26b)](_0x1e7e1e/(_0x103abd[_0x37c946(0x387)]+maxLoadingProgress)*0x64);loading[_0x37c946(0x290)]!=0x64&&(_0x494d21>0x1e*0x5&&(loading[_0x37c946(0x2b0)]=!![],emitLoadingProgress()),_0x494d21>0x78*0x5&&!_0x118d16&&(_0x118d16=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x37c946(0x242)]['join'](',\x20')+_0x37c946(0x333)),logHistory(_0x37c946(0x2cd),_0x37c946(0x2a2)+loadCoinsRetryInterval/0xea60+_0x37c946(0x30b)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x5ef6c5=_0x37c946;process['send']({'stop':_0x5ef6c5(0x2eb)},_0x3a6214=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x37c946(0x233)]=!![],emitLoadingProgress();break;}else _0x166868!=loading['progress']&&(_0x166868=loading['progress'],emitLoadingProgress()),_0x494d21++,await sleep(0xc8);}_0x1e7e1e==_0x103abd[_0x37c946(0x387)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x37c946(0x26e),'live':_0x37c946(0x202)},_0xe67799=>{}),_0x118d16&&logHistory('success',_0x37c946(0x36a)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x19307f=_0x5b2a54;proxyEmit(_0x19307f(0x229),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x1fcd8a=_0x5b2a54;proxyEmit(_0x1fcd8a(0x1f0),loading);}async function getFiat(){const _0x1b9e6b=_0x5b2a54;let _0x226b8e=global[_0x1b9e6b(0x317)][stablecoins[_0x1b9e6b(0x31b)][_0x1b9e6b(0x2f9)]],_0x4bb170=global[_0x1b9e6b(0x317)][stablecoins[_0x1b9e6b(0x2ca)][_0x1b9e6b(0x2f9)]];return{'eur':Number(_0x226b8e),'usd':Number(_0x4bb170)};}function capitalize(_0x5dd4a0){const _0x12ae3d=_0x5b2a54;return _0x5dd4a0[_0x12ae3d(0x344)](0x0,0x1)[_0x12ae3d(0x25e)]()+_0x5dd4a0[_0x12ae3d(0x344)](0x1);}function supportedExchanges(){const _0x2731f8=_0x5b2a54,_0x55ef68=['ws',_0x2731f8(0x376),_0x2731f8(0x203),_0x2731f8(0x2e3),'watchOrders',_0x2731f8(0x31a),_0x2731f8(0x31c),_0x2731f8(0x2aa),'fetchClosedOrders',_0x2731f8(0x2f1)];let _0x43b01d=[],_0x3cc227=[],_0x58ee89=ccxt[_0x2731f8(0x24f)][_0x2731f8(0x327)];_0x58ee89[_0x2731f8(0x277)](_0x199f16=>{const _0x1297ca=_0x2731f8;try{const _0x3c7a17=new ccxt[(_0x1297ca(0x24f))][_0x199f16]();_0x3cc227['push'](_0x3c7a17);}catch(_0xd68d25){}}),_0x3cc227[_0x2731f8(0x277)](_0x46ebb6=>{const _0x485d5a=_0x2731f8;let _0x2c9d37=0x0;_0x55ef68[_0x485d5a(0x277)](_0x4b3828=>{const _0x3c4e56=_0x485d5a;_0x4b3828 in _0x46ebb6[_0x3c4e56(0x2c1)]&&_0x46ebb6[_0x3c4e56(0x2c1)][_0x4b3828]&&_0x2c9d37++;}),_0x2c9d37==_0x55ef68[_0x485d5a(0x387)]&&_0x43b01d['push'](capitalize(_0x46ebb6['id']));});let _0x86d4ff=[];return _0x58ee89[_0x2731f8(0x277)](_0x23a0f6=>{const _0x49d96d=_0x2731f8;_0x23a0f6=capitalize(_0x23a0f6);if(!_0x43b01d[_0x49d96d(0x320)](_0x23a0f6))_0x86d4ff[_0x49d96d(0x25d)](_0x23a0f6);}),_0x43b01d;}function setStartDatePerformance(){const _0x18e107=_0x5b2a54;if(config&&config['liquidity'][0x0][_0x18e107(0x32f)][_0x18e107(0x387)]!=0x0){const _0x3db3cd=config[_0x18e107(0x20e)][0x0][_0x18e107(0x32f)];dbPerformance['get']('data')[_0x18e107(0x225)]({'date':config[_0x18e107(0x305)]})[_0x18e107(0x2c4)]({'coins':_0x3db3cd})[_0x18e107(0x386)]();}}async function recreateCoinResults(){const _0x1d5402=_0x5b2a54;let _0x11a1ee,_0x21a980=[];try{const _0x170783=fns[_0x1d5402(0x244)](fns[_0x1d5402(0x22e)](config[_0x1d5402(0x305)][_0x1d5402(0x1ee)](/\//g,'-')),_0x1d5402(0x260));for(const _0x204e1b of currentCoins){if(_0x204e1b[_0x1d5402(0x2f9)]!=config['basecoin']){let _0x48faf3=0x0,_0x460100,_0x3f2dd7;_0x11a1ee=await getAllEventOrders(_0x204e1b['symbol']);if(_0x11a1ee[_0x1d5402(0x387)]>0x0)_0x11a1ee[_0x1d5402(0x277)](_0x286cd6=>{const _0x3b116a=_0x1d5402,_0x2aae32=_0x204e1b[_0x3b116a(0x2fc)]['includes'](config[_0x3b116a(0x209)]+'/');_0x21a980[_0x3b116a(0x25d)]({'datetime':_0x286cd6[_0x3b116a(0x253)],'coin':_0x204e1b[_0x3b116a(0x2f9)],'symbol':_0x204e1b[_0x3b116a(0x2fc)],'side':_0x286cd6[_0x3b116a(0x235)],'reverse':_0x2aae32,'amount':formatResult(_0x286cd6[_0x3b116a(0x267)],0x8),'filled':formatResult(_0x286cd6[_0x3b116a(0x267)],0x8),'price':formatResult(_0x286cd6[_0x3b116a(0x2cb)],0x8)}),_0x48faf3=_0x286cd6[_0x3b116a(0x235)]=='buy'?_0x48faf3+_0x286cd6[_0x3b116a(0x267)]:_0x48faf3-_0x286cd6[_0x3b116a(0x267)];if(!_0x3f2dd7)_0x3f2dd7=_0x286cd6[_0x3b116a(0x2cb)];});_0x460100=_0x204e1b[_0x1d5402(0x2d0)]-_0x48faf3;let _0x42d116;config['liquidity'][_0x1d5402(0x277)](_0x817e55=>{const _0x4b9419=_0x1d5402;!_0x42d116&&(_0x42d116=_0x817e55['changes']['find'](_0x37cb3b=>_0x37cb3b[_0x4b9419(0x2f9)]==_0x204e1b[_0x4b9419(0x2f9)]),_0x42d116&&(_0x460100=_0x42d116['number'],_0x3f2dd7=_0x42d116[_0x4b9419(0x2cb)]));});let _0x4c9b3c=dbCoinResults[_0x1d5402(0x323)](_0x1d5402(0x289))['find']({'coin':_0x204e1b['coin']})[_0x1d5402(0x36b)]();_0x4c9b3c={'coin':_0x204e1b[_0x1d5402(0x2f9)],'number':_0x460100,'breakeven':_0x3f2dd7,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1d5402(0x323)]('coins')['find']({'coin':_0x204e1b[_0x1d5402(0x2f9)]})['assign'](_0x4c9b3c)['write']();}}_0x21a980[_0x1d5402(0x29e)]((_0x5893fb,_0x458842)=>_0x5893fb[_0x1d5402(0x253)]>_0x458842[_0x1d5402(0x253)]?0x1:_0x458842['datetime']>_0x5893fb['datetime']?-0x1:0x0);let _0x3d0d0e=0x0;for(let _0x23a404 of _0x21a980){await updateCoinResults(_0x23a404,!![]);}}catch(_0x4b5499){await handleError(_0x4b5499,_0x1d5402(0x23b));}}async function getAllEventOrders(_0xe1c73b){const _0x4444d7=_0x5b2a54;let _0x12de9b=[],_0x4d7dbf=dbLogs[_0x4444d7(0x323)](_0x4444d7(0x1fb))[_0x4444d7(0x271)](_0x11b3a7=>{const _0x5e5a33=_0x4444d7,_0x41f974=_0x11b3a7[_0x5e5a33(0x37d)][_0x5e5a33(0x2b4)]();return _0x41f974[_0x5e5a33(0x320)](_0xe1c73b[_0x5e5a33(0x2b4)]())&&(_0x41f974['includes'](_0x5e5a33(0x34e))&&_0x41f974[_0x5e5a33(0x320)](_0x5e5a33(0x30e))||_0x41f974[_0x5e5a33(0x320)](_0x5e5a33(0x267))&&_0x41f974['includes']('order'));})[_0x4444d7(0x371)](_0x4444d7(0x385))['value']();return _0x4d7dbf[_0x4444d7(0x277)](_0x23b4b9=>{const _0x279600=_0x4444d7,_0x50e315=_0x23b4b9[_0x279600(0x37d)][_0x279600(0x320)](_0x279600(0x2bc))?'sell':_0x279600(0x362),_0x139c7e=/#([0-9]|\.)+\s/i,_0x542f4b=Number(_0x139c7e[_0x279600(0x2b5)](_0x23b4b9['event'])[0x0][_0x279600(0x1f7)](0x1)),_0x29aeac=/@([0-9]|\.)+$/i,_0x5513f2=Number(_0x29aeac[_0x279600(0x2b5)](_0x23b4b9[_0x279600(0x37d)])[0x0][_0x279600(0x1f7)](0x1));_0x12de9b[_0x279600(0x25d)]({'datetime':_0x23b4b9['time'],'coin':symbolToCoin(_0xe1c73b),'symbol':_0xe1c73b,'side':_0x50e315,'amount':_0x542f4b,'filled':_0x542f4b,'price':_0x5513f2});}),_0x12de9b;}async function getAllOrders(_0x3b003c,_0x148272){const _0x5cb90e=_0x5b2a54;let _0x305327=[];while(_0x148272<exchange['milliseconds']()){const _0xd70092=0x1f4;try{const _0x4aabc7=await exchange[_0x5cb90e(0x231)](_0x3b003c,_0x148272,_0xd70092);if(_0x4aabc7[_0x5cb90e(0x387)])_0x148272=_0x4aabc7[_0x4aabc7[_0x5cb90e(0x387)]-0x1][_0x5cb90e(0x2a7)]+0x1,_0x305327=_0x305327['concat'](_0x4aabc7);else break;}catch(_0x5d5b24){await handleError(_0x5d5b24,_0x5cb90e(0x21f),_0x3b003c);}}return _0x305327;}async function validate24hChanges(){const _0x399fe1=_0x5b2a54;for(const _0x43b85d of currentCoins){if(_0x43b85d[_0x399fe1(0x2f9)]!=config[_0x399fe1(0x209)]){let _0x20de8f;_0x43b85d[_0x399fe1(0x32a)]?_0x20de8f=formatResult((0x1/(global[_0x399fe1(0x31e)][_0x43b85d[_0x399fe1(0x2fc)]]/0x64+0x1)-0x1)*0x64,0x3):_0x20de8f=global['change'][_0x43b85d[_0x399fe1(0x2fc)]],_0x20de8f<config[_0x399fe1(0x315)]&&(logHistory(_0x399fe1(0x2cd),_0x43b85d[_0x399fe1(0x2f9)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x20de8f+'%'),logHistory(_0x399fe1(0x2cd),_0x399fe1(0x211)),logHistory(_0x399fe1(0x2cd),_0x399fe1(0x1e6)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x403584,_0x2afaaf){const _0x484dcc=_0x5b2a54;if(!_0x403584)return!![];const _0x1bf1ff=_0x2afaaf[_0x484dcc(0x217)]('.'),_0x4d2beb=_0x403584[_0x484dcc(0x217)]('.');for(var _0x285a76=0x0;_0x285a76<_0x4d2beb[_0x484dcc(0x387)];_0x285a76++){const _0x44f800=~~_0x4d2beb[_0x285a76],_0x3ac1b7=~~_0x1bf1ff[_0x285a76];if(_0x44f800<_0x3ac1b7)return!![];if(_0x44f800>_0x3ac1b7)return![];}return![];}async function oneTimeMigration(){const _0x42e972=_0x5b2a54;let _0x21d410=dbLogs[_0x42e972(0x323)](_0x42e972(0x311))[_0x42e972(0x36b)]();if(isOlderVersion(_0x21d410,_0x42e972(0x321))){let _0x2ccb64=[];const _0x145398=dbLogs[_0x42e972(0x323)](_0x42e972(0x1fb))['value']();_0x145398[_0x42e972(0x277)](_0x26e04a=>{const _0xc311c9=_0x42e972;_0x2ccb64[_0xc311c9(0x25d)]({'time':_0x26e04a[_0xc311c9(0x385)],'type':_0x26e04a[_0xc311c9(0x2f5)],'event':_0x26e04a[_0xc311c9(0x37d)]});}),dbLogs['get'](_0x42e972(0x1fb))['assign'](_0x2ccb64)[_0x42e972(0x386)]();}let _0x2ee0bf=dbConfig[_0x42e972(0x323)](_0x42e972(0x311))['value']();if(isOlderVersion(_0x2ee0bf,'2.3.5')){let _0xd87f3a=dbConfig[_0x42e972(0x323)](_0x42e972(0x28e))[_0x42e972(0x225)]({'botID':botID})['value']();if(_0xd87f3a){let _0x12393a=[];_0xd87f3a[_0x42e972(0x232)][_0x42e972(0x277)](_0x4929eb=>{const _0x5e236a=_0x42e972;_0x12393a[_0x5e236a(0x25d)]({'coin':_0x4929eb['coin'],'number':_0x4929eb['startnumber'],'price':_0x4929eb[_0x5e236a(0x326)]}),delete _0x4929eb['startnumber'],delete _0x4929eb[_0x5e236a(0x326)];});if(_0x12393a[_0x42e972(0x387)]!==0x0)fs[_0x42e972(0x20f)](configbackuppath+(_0x42e972(0x2ea)+botID+_0x42e972(0x381)),JSON[_0x42e972(0x324)](_0x12393a,null,0x4),function(_0x3f07b2){if(_0x3f07b2){}});const _0x5cb2fb=(_0x4d41e2,_0x5c6c1c)=>{const _0x337d84=_0x42e972;let _0x298108=[];_0x5c6c1c[_0x337d84(0x277)](_0x1ab13a=>{const _0x35d5a5=_0x337d84,_0x4ac298=_0x4d41e2['find'](_0x11ce6f=>_0x11ce6f[_0x35d5a5(0x2f9)]==_0x1ab13a[_0x35d5a5(0x2f9)]);if(!_0x4ac298)_0x298108[_0x35d5a5(0x25d)](_0x1ab13a);});let _0x345120=[];return _0x4d41e2[_0x337d84(0x277)](_0x4d5c14=>{const _0x97dbb1=_0x337d84,_0x4c9fec=_0x5c6c1c[_0x97dbb1(0x225)](_0x552aa1=>_0x552aa1[_0x97dbb1(0x2f9)]==_0x4d5c14[_0x97dbb1(0x2f9)]);if(!_0x4c9fec||_0x4c9fec['number']==0x0&&_0x4d5c14[_0x97dbb1(0x2d0)]!=0x0)_0x345120[_0x97dbb1(0x25d)](_0x4d5c14);}),{'missingDay1':_0x298108,'notInDay2':_0x345120};},_0x101de9=dbPerformance[_0x42e972(0x323)]('data')[_0x42e972(0x208)]()[_0x42e972(0x36b)]();if(_0x101de9['length']>0x1){const {missingDay1:_0x3f5fbb,notInDay2:_0x19d523}=_0x5cb2fb(_0x12393a,_0x101de9[0x1][_0x42e972(0x289)]);_0x12393a=[..._0x12393a,..._0x3f5fbb],_0x19d523[_0x42e972(0x277)](_0x17bfd2=>{const _0x580ae7=_0x42e972;let _0x4abe9a=_0x12393a['findIndex'](_0x2e211e=>_0x2e211e[_0x580ae7(0x2f9)]==_0x17bfd2['coin']);_0x4abe9a!=-0x1&&_0x12393a[_0x580ae7(0x332)](_0x4abe9a,0x1);});}_0x12393a[_0x42e972(0x29e)]((_0x4604b7,_0x14f53c)=>_0x4604b7['coin']>_0x14f53c[_0x42e972(0x2f9)]?0x1:_0x14f53c[_0x42e972(0x2f9)]>_0x4604b7['coin']?-0x1:0x0);let _0x1284f3=[{'date':_0xd87f3a['startdate'],'changes':_0x12393a}];_0x101de9['length']>0x2&&_0x101de9[_0x42e972(0x277)]((_0x24bb80,_0x44482d)=>{const _0xc1843d=_0x42e972;if(_0x44482d>0x0&&_0x44482d<_0x101de9[_0xc1843d(0x387)]-0x1){const {missingDay1:_0x3b7cd0,notInDay2:_0x382f5f}=_0x5cb2fb(_0x101de9[_0x44482d][_0xc1843d(0x289)],_0x101de9[_0x44482d+0x1][_0xc1843d(0x289)]);_0x12393a=[],(_0x3b7cd0[_0xc1843d(0x387)]!=0x0||_0x382f5f[_0xc1843d(0x387)]!=0x0)&&(_0x3b7cd0[_0xc1843d(0x387)]!=0x0&&_0x12393a[_0xc1843d(0x25d)](..._0x3b7cd0),_0x382f5f['length']!=0x0&&(_0x382f5f[_0xc1843d(0x277)](_0x17dd13=>{const _0xb2e08e=_0xc1843d;_0x17dd13['number']=-_0x17dd13[_0xb2e08e(0x2d0)];}),_0x12393a['push'](..._0x382f5f)),_0x12393a['sort']((_0x438be8,_0x53971f)=>_0x438be8[_0xc1843d(0x2f9)]>_0x53971f['coin']?0x1:_0x53971f[_0xc1843d(0x2f9)]>_0x438be8[_0xc1843d(0x2f9)]?-0x1:0x0),_0x1284f3[_0xc1843d(0x25d)]({'date':_0x101de9[_0x44482d+0x1][_0xc1843d(0x28b)],'changes':_0x12393a}));}}),dbConfig[_0x42e972(0x323)](_0x42e972(0x28e))['find']({'botID':botID})['assign']({..._0xd87f3a,'liquidity':_0x1284f3})[_0x42e972(0x386)]();}}if(isOlderVersion(_0x2ee0bf,_0x42e972(0x1f4))){let _0x2db6c8=dbConfig[_0x42e972(0x323)](_0x42e972(0x28e))[_0x42e972(0x225)]({'botID':botID})[_0x42e972(0x36b)]();if(_0x2db6c8){const _0x21e7cb=_0x2db6c8[_0x42e972(0x364)],_0xcde69d=_0x21e7cb?capitalize(_0x21e7cb):'Binance';dbConfig[_0x42e972(0x323)](_0x42e972(0x28e))['find']({'botID':botID})[_0x42e972(0x2c4)]({'exchange':_0xcde69d})[_0x42e972(0x386)]();}}let _0x418160=dbPerformance[_0x42e972(0x323)](_0x42e972(0x311))[_0x42e972(0x36b)]();isOlderVersion(_0x418160,_0x42e972(0x321))&&setStartDatePerformance();let _0x4b0dc2=dbCoinResults[_0x42e972(0x323)]('version')[_0x42e972(0x36b)]();if(isOlderVersion(_0x4b0dc2,_0x42e972(0x1e4))){let _0x4b6218=dbCoinResults[_0x42e972(0x323)](_0x42e972(0x289))[_0x42e972(0x36b)]();if(_0x4b6218[_0x42e972(0x387)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x45b01e=_0x5b2a54;dbConfig['set'](_0x45b01e(0x311),serverversion)[_0x45b01e(0x386)](),dbPerformance['set'](_0x45b01e(0x311),serverversion)[_0x45b01e(0x386)](),dbLogs[_0x45b01e(0x24a)](_0x45b01e(0x311),serverversion)['write'](),dbCoinResults[_0x45b01e(0x24a)]('version',serverversion)[_0x45b01e(0x386)]();}function getConfiguration(_0x219e45){const _0x52fc89=_0x5b2a54;let _0x132c53=dbConfig[_0x52fc89(0x323)](_0x52fc89(0x28e))['find']({'botID':_0x219e45})[_0x52fc89(0x36b)]();if(_0x132c53){let _0x37c3a7=![];typeof _0x132c53[_0x52fc89(0x205)]==_0x52fc89(0x319)&&(_0x132c53={..._0x132c53,'threshold':Number(_0x132c53[_0x52fc89(0x205)])},_0x37c3a7=!![]),_0x132c53[_0x52fc89(0x315)]==undefined&&(_0x132c53={..._0x132c53,'change24h':-0x14},_0x37c3a7=!![]),_0x132c53[_0x52fc89(0x1e8)]==undefined&&(_0x132c53={..._0x132c53,'fiat':_0x52fc89(0x355)},_0x37c3a7=!![]),_0x132c53[_0x52fc89(0x2e0)]==undefined&&(_0x132c53={..._0x132c53,'onepagemode':settings[_0x52fc89(0x2e0)]},_0x37c3a7=!![]),_0x132c53[_0x52fc89(0x2e5)]==undefined&&(_0x132c53={..._0x132c53,'colorscheme':'red_yellow_blue'},_0x37c3a7=!![]),_0x132c53['autoliquidity']==undefined&&(_0x132c53={..._0x132c53,'autoliquidity':!![]},_0x37c3a7=!![]),_0x132c53[_0x52fc89(0x223)]==undefined&&(_0x132c53={..._0x132c53,'marketcapApi':settings[_0x52fc89(0x223)]?!![]:![]},_0x37c3a7=!![]),_0x132c53[_0x52fc89(0x262)]==undefined&&(_0x132c53={..._0x132c53,'marketcapEnabled':![]},_0x37c3a7=!![]),_0x37c3a7&&(_0x132c53={'botID':_0x132c53[_0x52fc89(0x345)],'exchange':_0x132c53['exchange'],'apiKey':_0x132c53['apiKey'],'apiSecret':_0x132c53['apiSecret'],'apiPassword':_0x132c53[_0x52fc89(0x304)],'basecoin':_0x132c53[_0x52fc89(0x209)],'botname':_0x132c53[_0x52fc89(0x239)],'showname':_0x132c53[_0x52fc89(0x224)],'threshold':_0x132c53[_0x52fc89(0x205)],'ordertype':_0x132c53[_0x52fc89(0x272)],'timeout':_0x132c53[_0x52fc89(0x2b0)],'fiat':_0x132c53[_0x52fc89(0x1e8)],'startdate':_0x132c53[_0x52fc89(0x305)],'recreate':_0x132c53[_0x52fc89(0x314)],'timeshift':_0x132c53['timeshift'],'onepagemode':_0x132c53[_0x52fc89(0x2e0)],'headless':_0x132c53['headless'],'cooldown':_0x132c53[_0x52fc89(0x33b)],'change24h':_0x132c53[_0x52fc89(0x315)],'emojibuy':_0x132c53[_0x52fc89(0x353)],'emojisell':_0x132c53['emojisell'],'colorscheme':_0x132c53['colorscheme'],'marketcapApi':_0x132c53[_0x52fc89(0x223)],'marketcapEnabled':_0x132c53[_0x52fc89(0x262)],'portfolio':_0x132c53[_0x52fc89(0x232)],'autoliquidity':_0x132c53[_0x52fc89(0x278)],'liquidity':_0x132c53['liquidity'],'openOrders':_0x132c53[_0x52fc89(0x2da)]},dbConfig['get'](_0x52fc89(0x28e))[_0x52fc89(0x341)]()[_0x52fc89(0x386)](),dbConfig[_0x52fc89(0x323)]('bot')['push'](_0x132c53)['write']());}else _0x132c53={'botID':_0x219e45,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x52fc89(0x365)+_0x219e45,'showname':![],'threshold':0x3,'ordertype':_0x52fc89(0x34e),'timeout':0x14,'fiat':_0x52fc89(0x355),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x52fc89(0x2c5)],'onepagemode':settings[_0x52fc89(0x2e0)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x52fc89(0x2f3),'marketcapApi':settings[_0x52fc89(0x223)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x132c53;}function emittedConfiguration(){const _0x7b7bf6=_0x5b2a54;let _0x4ade01;if(config[_0x7b7bf6(0x2b9)]=='')_0x4ade01={...config,'configstate':_0x7b7bf6(0x2fb)};else config[_0x7b7bf6(0x2b9)]=='***'?_0x4ade01={...config,'configstate':_0x7b7bf6(0x1fc)}:(_0x4ade01={...config,'apiKey':_0x7b7bf6(0x215),'apiSecret':_0x7b7bf6(0x215)},config['apiPassword']&&(_0x4ade01[_0x7b7bf6(0x304)]='************'));return _0x4ade01;}function getSettings(){const _0x1f48b4=_0x5b2a54;return dbSettings[_0x1f48b4(0x323)](_0x1f48b4(0x380))[_0x1f48b4(0x36b)]();}function getSecure(){const _0x70c2c5=_0x5b2a54;return dbSecure[_0x70c2c5(0x323)](_0x70c2c5(0x222))[_0x70c2c5(0x36b)]()||{};}function updateTimeshift(_0x1005da){const _0x239c35=_0x5b2a54;let _0x1e131d=dbConfig[_0x239c35(0x323)](_0x239c35(0x28e))['find']({'botID':botID})[_0x239c35(0x36b)]();_0x1e131d&&dbConfig['get'](_0x239c35(0x28e))[_0x239c35(0x225)]({'botID':botID})['assign']({'timeshift':_0x1005da})['write'](),config[_0x239c35(0x2c5)]=_0x1005da,proxyEmit(_0x239c35(0x229),emittedConfiguration());}function updateOnepagemode(_0x13f769){const _0x10b42b=_0x5b2a54;let _0x639a61=dbConfig[_0x10b42b(0x323)]('bot')[_0x10b42b(0x225)]({'botID':botID})[_0x10b42b(0x36b)]();_0x639a61&&dbConfig[_0x10b42b(0x323)]('bot')['find']({'botID':botID})[_0x10b42b(0x2c4)]({'onepagemode':_0x13f769})[_0x10b42b(0x386)](),config[_0x10b42b(0x2e0)]=_0x13f769,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x2db9f0){const _0x3f444e=_0x5b2a54,_0x789e41=_0x2db9f0?!![]:![];let _0x3fed77=dbConfig[_0x3f444e(0x323)]('bot')['find']({'botID':botID})['value']();_0x3fed77&&dbConfig[_0x3f444e(0x323)](_0x3f444e(0x28e))[_0x3f444e(0x225)]({'botID':botID})[_0x3f444e(0x2c4)]({'marketcapApi':_0x789e41})[_0x3f444e(0x386)](),config[_0x3f444e(0x223)]=_0x789e41,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x222698){const _0x52c466=_0x5b2a54;logger[_0x52c466(0x34b)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x52c466(0x34b)]('Transaction\x20detection\x20blocked');let _0x37d707=![],_0xcd2792=![],_0xce8082=[];_0x222698[_0x52c466(0x232)][_0x52c466(0x277)](_0x55f738=>{const _0x43b596=_0x52c466;if(!_0x55f738[_0x43b596(0x37f)]&&_0x55f738[_0x43b596(0x2f9)]!=_0x222698['basecoin'])_0xce8082[_0x43b596(0x25d)](_0x55f738['symbol']);}),_0xce8082[_0x52c466(0x277)](_0x27d74d=>{const _0x2d76be=_0x52c466,_0x1f17f9=currentCoins[_0x2d76be(0x225)](_0x4bde02=>_0x4bde02[_0x2d76be(0x2fc)]==_0x27d74d);!_0x1f17f9&&(_0x37d707=!![]);}),currentCoins[_0x52c466(0x277)](_0x9e8d18=>{const _0x1efbf4=_0x52c466;if(_0x9e8d18[_0x1efbf4(0x2f9)]!=config['basecoin']){const _0x417941=_0xce8082[_0x1efbf4(0x225)](_0x455191=>_0x455191==_0x9e8d18['symbol']);!_0x417941&&(_0x37d707=!![]);}}),_0x222698[_0x52c466(0x232)]['forEach'](_0x595a73=>{const _0x59ba8e=_0x52c466,_0x16e6c1=config[_0x59ba8e(0x232)][_0x59ba8e(0x225)](_0x5c7c8f=>_0x5c7c8f[_0x59ba8e(0x2f9)]==_0x595a73[_0x59ba8e(0x2f9)]);if(_0x16e6c1&&_0x595a73[_0x59ba8e(0x2fd)]!=_0x16e6c1['offset'])_0xcd2792=!![];});let _0x559280=dbConfig[_0x52c466(0x323)](_0x52c466(0x28e))[_0x52c466(0x225)]({'botID':botID})[_0x52c466(0x36b)]();_0x222698={..._0x222698,'apiKey':crypt['decrypt'](secure[_0x52c466(0x1ed)],_0x222698[_0x52c466(0x2b9)])[_0x52c466(0x37a)],'apiSecret':crypt['decrypt'](secure[_0x52c466(0x1ed)],_0x222698['apiSecret'])[_0x52c466(0x37a)]};_0x222698[_0x52c466(0x304)]&&(_0x222698[_0x52c466(0x304)]=crypt[_0x52c466(0x35c)](secure['privateKey'],_0x222698['apiPassword'])[_0x52c466(0x37a)]);let _0x2310d3=![];if(_0x559280){_0x222698[_0x52c466(0x2b9)]=='************'?_0x222698['apiKey']=config[_0x52c466(0x2b9)]:_0x2310d3=!![];_0x222698[_0x52c466(0x269)]==_0x52c466(0x215)?_0x222698['apiSecret']=config['apiSecret']:_0x2310d3=!![];if(_0x222698[_0x52c466(0x304)]==_0x52c466(0x215))_0x222698[_0x52c466(0x304)]=config[_0x52c466(0x304)];else{if(_0x222698['apiPassword'])_0x2310d3=!![];}dbConfig['get'](_0x52c466(0x28e))[_0x52c466(0x225)]({'botID':botID})[_0x52c466(0x2c4)](_0x222698)[_0x52c466(0x386)]();}else dbConfig[_0x52c466(0x323)](_0x52c466(0x28e))[_0x52c466(0x25d)](_0x222698)[_0x52c466(0x386)](),_0x2310d3=!![],process[_0x52c466(0x23d)]({'status':_0x52c466(0x26e),'live':'running'},_0x182add=>{});process[_0x52c466(0x23d)]({'botname':_0x222698['botname']},_0x157de0=>{}),config={..._0x222698},updateBotManager(),proxyEmit(_0x52c466(0x318)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x2310d3)await reset(!![]);else _0x37d707||_0xcd2792?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x52c466(0x34b)](_0x52c466(0x349));}async function storeHeadless(_0x181cad){const _0x11133d=_0x5b2a54,_0x538c34={...config,'headless':_0x181cad[_0x11133d(0x367)]};let _0x208791=dbConfig['get']('bot')[_0x11133d(0x225)]({'botID':botID})[_0x11133d(0x36b)]();_0x208791&&dbConfig['get'](_0x11133d(0x28e))[_0x11133d(0x225)]({'botID':botID})['assign'](_0x538c34)[_0x11133d(0x386)](),config={..._0x538c34},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x5ceb31){const _0x4c5de0=_0x5b2a54,_0x2f47ac={...config,'fiat':_0x5ceb31};let _0x5512d0=dbConfig['get'](_0x4c5de0(0x28e))[_0x4c5de0(0x225)]({'botID':botID})['value']();_0x5512d0&&dbConfig[_0x4c5de0(0x323)](_0x4c5de0(0x28e))['find']({'botID':botID})[_0x4c5de0(0x2c4)](_0x2f47ac)[_0x4c5de0(0x386)](),config={..._0x2f47ac},proxyEmit(_0x4c5de0(0x229),emittedConfiguration());}function resetHistory(){const _0x4919d2=_0x5b2a54;logger[_0x4919d2(0x1fe)](_0x4919d2(0x2c6));try{if(fs[_0x4919d2(0x23e)](path['join'](configpath,'bot-'+botID+_0x4919d2(0x354))))fs[_0x4919d2(0x2be)](path[_0x4919d2(0x207)](configpath,_0x4919d2(0x2e6)+botID+_0x4919d2(0x354)));if(fs['existsSync'](path[_0x4919d2(0x207)](configpath,_0x4919d2(0x2e6)+botID+_0x4919d2(0x2af))))fs[_0x4919d2(0x2be)](path[_0x4919d2(0x207)](configpath,_0x4919d2(0x2e6)+botID+_0x4919d2(0x2af)));if(fs[_0x4919d2(0x23e)](path[_0x4919d2(0x207)](configpath,_0x4919d2(0x2e6)+botID+_0x4919d2(0x299))))fs[_0x4919d2(0x2be)](path[_0x4919d2(0x207)](configpath,'bot-'+botID+_0x4919d2(0x299)));}catch(_0x5b1f16){if(_0x5b1f16)logger[_0x4919d2(0x1fe)](_0x4919d2(0x1f2),_0x5b1f16);}const _0x4ea3c4=getDate();let _0x4ba759=[];currentCoins[_0x4919d2(0x277)](_0x24252e=>{const _0x42c89c=_0x4919d2;_0x4ba759['push']({'coin':_0x24252e['coin'],'number':_0x24252e[_0x42c89c(0x2d0)],'price':_0x24252e[_0x42c89c(0x21c)]});});let _0x2cf066=dbConfig[_0x4919d2(0x323)](_0x4919d2(0x28e))[_0x4919d2(0x225)]({'botID':botID})[_0x4919d2(0x36b)]();_0x2cf066&&(dbConfig[_0x4919d2(0x323)](_0x4919d2(0x28e))[_0x4919d2(0x225)]({'botID':botID})[_0x4919d2(0x2c4)]({'liquidity':[{'date':_0x4ea3c4,'changes':_0x4ba759}]})[_0x4919d2(0x386)](),config[_0x4919d2(0x20e)]=[]),process[_0x4919d2(0x23d)]({'stop':_0x4919d2(0x2eb)},_0xdb9bc4=>{});}function noslash(_0x6867e1){const _0x153346=_0x5b2a54;return _0x6867e1[_0x153346(0x1ee)]('/','');}function updateHighestFee(_0x92f99e){const _0x2948f0=_0x5b2a54;if(_0x92f99e[_0x2948f0(0x32a)]){let _0x3166cb={'filled':_0x92f99e[_0x2948f0(0x267)]*_0x92f99e[_0x2948f0(0x2cb)],'amount':_0x92f99e[_0x2948f0(0x267)]*_0x92f99e[_0x2948f0(0x2cb)],'side':_0x92f99e[_0x2948f0(0x235)]==_0x2948f0(0x2bc)?'buy':_0x2948f0(0x2bc),'price':0x1/_0x92f99e['price']};_0x92f99e={..._0x92f99e,..._0x3166cb};}const _0x265114=defaultFee*_0x92f99e[_0x2948f0(0x267)]*_0x92f99e[_0x2948f0(0x2cb)];lastFees[_0x2948f0(0x356)][_0x2948f0(0x387)]===0x14&&lastFees[_0x2948f0(0x356)][_0x2948f0(0x37c)](),lastFees[_0x2948f0(0x356)][_0x2948f0(0x25d)](_0x265114),lastFees[_0x2948f0(0x204)]=Math[_0x2948f0(0x35a)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x575ea8){const _0x2971ee=_0x5b2a54;logger[_0x2971ee(0x34b)]('0\x20-\x20EXECUTION:\x20'+_0x575ea8['symbol']+_0x2971ee(0x309)+_0x575ea8[_0x2971ee(0x34c)]+_0x2971ee(0x309)+_0x575ea8[_0x2971ee(0x267)]+'\x20/\x20'+_0x575ea8[_0x2971ee(0x250)]+_0x2971ee(0x309)+_0x575ea8['id']);let _0x352119=_0x575ea8['status'],_0x428f48=![];currentCoins[_0x2971ee(0x277)](_0x31bf00=>{const _0x206454=_0x2971ee;_0x31bf00['symbol']==_0x575ea8[_0x206454(0x2fc)]&&(_0x428f48=!![]);});if(!_0x428f48)return;const _0x1b3473=currentCoins['find'](_0x17ea41=>_0x17ea41['symbol']==_0x575ea8['symbol']),_0x5af625=_0x108ae4=>{if(_0x1b3473)_0x1b3473['orderstatus']=_0x108ae4;};if(_0x352119==_0x2971ee(0x27b))_0x5af625(_0x2971ee(0x27b));else{if(_0x352119==_0x2971ee(0x30f)){_0x5af625(_0x2971ee(0x30f));const _0x508212=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x508212,await getOpenOrders(),handleOpenOrders();}else{if(_0x352119==_0x2971ee(0x220)){let _0x335701=![];if(lastOrders)for(const _0x50ac5e of lastOrders){const _0x1f73dc=0xc8,_0x5a3f61=0x1388;let _0x55cb22=0x0;while(!_0x50ac5e[_0x2971ee(0x264)]&&_0x55cb22*_0x1f73dc<_0x5a3f61){_0x55cb22++,await sleep(_0x1f73dc);}if(_0x55cb22>0x0)logger[_0x2971ee(0x34b)](_0x2971ee(0x37e)+_0x55cb22*_0x1f73dc/0x3e8+_0x2971ee(0x2cc));if(_0x50ac5e[_0x2971ee(0x264)]==_0x575ea8['id']){logger['debug'](_0x2971ee(0x218)+_0x575ea8['id']),_0x335701=!![];if(_0x50ac5e['filled']==0x0){logger['debug']('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x575ea8['id']);if(_0x575ea8[_0x2971ee(0x388)])_0x50ac5e[_0x2971ee(0x2cb)]=_0x575ea8[_0x2971ee(0x388)];else{if(_0x575ea8['price'])_0x50ac5e[_0x2971ee(0x2cb)]=_0x575ea8[_0x2971ee(0x2cb)];else{}}_0x50ac5e['filled']=_0x575ea8[_0x2971ee(0x267)],updateHighestFee(_0x50ac5e),_0x5af625(_0x2971ee(0x267)),await validateOrders();if(lockOrders==ORDERS[_0x2971ee(0x1e2)]){const _0x21fd7e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x21fd7e;}_0x50ac5e[_0x2971ee(0x22a)]={'currency':_0x575ea8[_0x2971ee(0x22a)]?_0x575ea8['fee']['currency']:null,'cost':_0x575ea8[_0x2971ee(0x22a)]?_0x575ea8[_0x2971ee(0x22a)][_0x2971ee(0x273)]:0x0},await updateCoinResults(_0x50ac5e);}}}if(!_0x335701){logger[_0x2971ee(0x34b)](_0x2971ee(0x25c)+_0x575ea8['id']),_0x5af625(_0x2971ee(0x267));const _0x350f1d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x350f1d,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x39ba29=JSON['parse'](lastBalances[_0x2971ee(0x232)]);const _0x2f04dd=_0x39ba29[_0x2971ee(0x225)](_0x2936cc=>_0x2936cc[_0x2971ee(0x2fc)]==_0x575ea8[_0x2971ee(0x2fc)]);if(_0x2f04dd){if(_0x352119==_0x2971ee(0x27b))_0x2f04dd['orderstatus']=_0x2f04dd['orderstatus']==_0x2971ee(0x267)?_0x2971ee(0x267):'open';else{if(_0x352119==_0x2971ee(0x30f))_0x2f04dd[_0x2971ee(0x29d)]=_0x2f04dd[_0x2971ee(0x29d)]==_0x2971ee(0x267)?_0x2971ee(0x267):_0x2971ee(0x30f);else _0x352119==_0x2971ee(0x220)&&(_0x2f04dd['orderstatus']=_0x2971ee(0x267));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2971ee(0x324)](_0x39ba29)},proxyEmit(_0x2971ee(0x268),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x3753b5=![];currentCoins['forEach'](_0x364081=>{const _0x66adf7=_0x410a;_0x3753b5=allOpenOrders[_0x66adf7(0x225)](_0x7a3728=>_0x7a3728[_0x66adf7(0x2fc)]==_0x364081[_0x66adf7(0x2fc)]),_0x364081[_0x66adf7(0x29d)]=_0x3753b5?_0x66adf7(0x27b):_0x66adf7(0x240);});}async function getCoins(_0x3b7384=0x0,_0x4f048b=!![],_0xa3c558=config['basecoin']){const _0x2ed4bd=_0x5b2a54;let _0x3d87d5,_0x20262d=[],_0x91772a=[],_0x1d6aa7=[];if(_0x3b7384)await sleep(_0x3b7384);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x3d87d5=await exchange[_0x2ed4bd(0x2f1)](),mybalances=_0x3d87d5['total'];for(const [_0x33b8cf,_0x12c9f8]of Object[_0x2ed4bd(0x219)](mybalances)){_0x1d6aa7['push'](_0x33b8cf);}config[_0x2ed4bd(0x232)]['forEach'](_0x3c4c6b=>{const _0x1dc727=_0x2ed4bd;!_0x1d6aa7[_0x1dc727(0x320)](_0x3c4c6b[_0x1dc727(0x2f9)])&&(mybalances[_0x3c4c6b['coin']]=0x0);});if(_0xa3c558=='')for(const [_0xb4523f,_0x253145]of Object[_0x2ed4bd(0x219)](mybalances)){_0x253145!=0x0&&_0x20262d[_0x2ed4bd(0x25d)]({'coin':_0xb4523f});}else for(const [_0x181c67,_0x40084f]of Object[_0x2ed4bd(0x219)](mybalances)){const _0x3a4caf=config[_0x2ed4bd(0x232)][_0x2ed4bd(0x225)](_0xbebd28=>_0xbebd28['coin']==_0x181c67),_0x30b47f=_0x181c67+'/'+_0xa3c558,_0x3ef791=_0xa3c558+'/'+_0x181c67,_0x53b5eb=currentCoins[_0x2ed4bd(0x225)](_0x3e95de=>_0x3e95de[_0x2ed4bd(0x2f9)]==_0x181c67);if((_0x40084f!=0x0||_0x3a4caf)&&(allSymbols[_0x2ed4bd(0x320)](_0x30b47f)||_0x181c67==_0xa3c558))_0x53b5eb?_0x20262d[_0x2ed4bd(0x25d)]({..._0x53b5eb,'number':Math['max'](_0x40084f+(_0x3a4caf&&_0x3a4caf[_0x2ed4bd(0x2fd)]||0x0),0x0)}):_0x20262d[_0x2ed4bd(0x25d)]({'coin':_0x181c67,'symbol':_0x30b47f,'reverse':![],'number':Math['max'](_0x40084f+(_0x3a4caf&&_0x3a4caf[_0x2ed4bd(0x2fd)]||0x0),0x0),'orderstatus':'none'});else{if((_0x40084f!=0x0||_0x3a4caf)&&allSymbols[_0x2ed4bd(0x320)](_0x3ef791))_0x53b5eb?_0x20262d['push']({..._0x53b5eb,'number':Math[_0x2ed4bd(0x35a)](_0x40084f+(_0x3a4caf&&_0x3a4caf[_0x2ed4bd(0x2fd)]||0x0),0x0)}):_0x20262d['push']({'coin':_0x181c67,'symbol':_0x3ef791,'reverse':!![],'number':Math[_0x2ed4bd(0x35a)](_0x40084f+(_0x3a4caf&&_0x3a4caf[_0x2ed4bd(0x2fd)]||0x0),0x0),'orderstatus':_0x2ed4bd(0x240)});else _0x3a4caf&&_0x20262d[_0x2ed4bd(0x25d)]({'coin':_0x3a4caf['coin'],'symbol':_0x3a4caf[_0x2ed4bd(0x2fc)],'reverse':_0x3a4caf[_0x2ed4bd(0x32a)],'number':0x0,'orderstatus':_0x2ed4bd(0x240)});}}}catch(_0x3f1e30){if(!_0x4f048b)handleErrorNoStop(_0x3f1e30,_0x2ed4bd(0x1ea));else await handleError(_0x3f1e30,_0x2ed4bd(0x1ea));}return _0x20262d['sort']((_0x5e7e3b,_0x1f2ed5)=>_0x5e7e3b[_0x2ed4bd(0x251)]<_0x1f2ed5[_0x2ed4bd(0x251)]?0x1:_0x1f2ed5[_0x2ed4bd(0x251)]<_0x5e7e3b[_0x2ed4bd(0x251)]?-0x1:0x0),_0x91772a=cloneDeep(_0x20262d),_0x20262d=_0x20262d[_0x2ed4bd(0x271)](_0x16f831=>{const _0x2fec53=_0x2ed4bd,_0x1409fb=config[_0x2fec53(0x232)][_0x2fec53(0x225)](_0x53435b=>_0x53435b['coin']==_0x16f831[_0x2fec53(0x2f9)]);return _0x1409fb&&!_0x1409fb[_0x2fec53(0x37f)];}),[_0x20262d,_0x91772a];}async function getCoinNumber(_0x4a2bd7){const _0x21ffeb=_0x5b2a54;let _0xe5aee6;try{const _0x248ee4=await exchange[_0x21ffeb(0x2f1)]();_0xe5aee6=_0x248ee4['total'][_0x4a2bd7];}catch(_0x559147){await handleError(_0x559147,'getCoinNumber()');}return _0xe5aee6;}async function getOpenOrders(){const _0x33f20d=_0x5b2a54;let _0x1948de;allOpenOrders=[];try{for(const _0x155a21 of config[_0x33f20d(0x232)]){!_0x155a21[_0x33f20d(0x37f)]&&_0x155a21['coin']!=config[_0x33f20d(0x209)]&&(_0x1948de=await exchange[_0x33f20d(0x2aa)](_0x155a21[_0x33f20d(0x2fc)]),_0x1948de[_0x33f20d(0x387)]>0x0&&allOpenOrders[_0x33f20d(0x25d)](_0x1948de[0x0]));}}catch(_0x1e19ea){await handleError(_0x1e19ea,'getOpenOrders()');}}async function handleOpenOrders(_0x27bc98=0x0){const _0x5a661d=_0x5b2a54;allOpenOrders[_0x5a661d(0x387)]==0x0&&lockOrders==ORDERS[_0x5a661d(0x1e2)]&&allOrdersPlaced&&(_0x27bc98==0x0?(logger[_0x5a661d(0x34b)](_0x5a661d(0x33f)),_0x27bc98++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x5a661d(0x33a)),validateOrders(_0x5a661d(0x350))));}async function testAPI(_0x1e5a04){const _0x5aa8be=_0x5b2a54,_0x241871=ccxt[_0x5aa8be(0x24f)][_0x1e5a04[_0x5aa8be(0x364)]['toLowerCase']()],_0x401479=new _0x241871({'apiKey':_0x1e5a04['apiKey'],'secret':_0x1e5a04[_0x5aa8be(0x269)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5aa8be(0x33e)}});if(_0x1e5a04['apiPassword'])_0x401479[_0x5aa8be(0x310)]=_0x1e5a04['apiPassword'];try{await _0x401479['loadMarkets']();}catch(_0x370f07){throw _0x370f07;}}function cloneDeep(_0x42fabc){const _0x5cd07e=_0x5b2a54;return JSON['parse'](JSON[_0x5cd07e(0x324)](_0x42fabc));}async function getPortfolio(_0x4cab9d){const _0x18d471=_0x5b2a54;let _0x586900=[],_0x469395=[],_0x120edd=[],_0x4ba0eb;if(_0x4cab9d[_0x18d471(0x2b9)]!==_0x18d471(0x215)||_0x4cab9d['apiSecret']!==_0x18d471(0x215)||_0x4cab9d[_0x18d471(0x304)]&&_0x4cab9d['apiPassword']!==_0x18d471(0x215)){if(config[_0x18d471(0x364)]){if(_0x4cab9d['apiKey']==_0x18d471(0x215))_0x4cab9d[_0x18d471(0x2b9)]=config['apiKey'];if(_0x4cab9d[_0x18d471(0x269)]=='************')_0x4cab9d[_0x18d471(0x269)]=config[_0x18d471(0x269)];if(_0x4cab9d[_0x18d471(0x304)]==_0x18d471(0x215))_0x4cab9d[_0x18d471(0x304)]=config[_0x18d471(0x304)];try{await testAPI(_0x4cab9d);}catch(_0x351635){if(_0x351635[_0x18d471(0x33d)]()['includes']('AuthenticationError')){logger[_0x18d471(0x34b)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x18d471(0x232),![]);return;}else{handleError(_0x351635,_0x18d471(0x21e));return;}}}await initExchange(_0x4cab9d['exchange'],_0x4cab9d[_0x18d471(0x2b9)],_0x4cab9d[_0x18d471(0x269)],_0x4cab9d[_0x18d471(0x304)]);try{await loadSymbols();}catch(_0x59a000){if(_0x59a000[_0x18d471(0x33d)]()[_0x18d471(0x320)](_0x18d471(0x2dc))){proxyEmit(_0x18d471(0x232),![]);return;}else{handleError(_0x59a000,'getPortfolio(1)');return;}}const _0x3dd0f7=await getCoins(0x0,![],_0x4cab9d[_0x18d471(0x209)]);_0x120edd=cloneDeep(_0x3dd0f7[0x1]);}else{const _0x2a5e62=await getCoins();_0x120edd=cloneDeep(_0x2a5e62[0x1]);}if(_0x4cab9d[_0x18d471(0x209)]=='')proxyEmit(_0x18d471(0x232),_0x120edd);else{_0x120edd[_0x18d471(0x277)](_0x1b201e=>{const _0x51fde8=_0x18d471;if(_0x1b201e[_0x51fde8(0x2f9)]!=_0x4cab9d[_0x51fde8(0x209)]&&allSymbols[_0x51fde8(0x320)](_0x1b201e['symbol']))_0x586900[_0x51fde8(0x25d)](_0x1b201e[_0x51fde8(0x2fc)]);});if(_0x586900[_0x18d471(0x387)]==0x0)logHistory('error',_0x18d471(0x32d));else{try{_0x469395=await getTickers(_0x586900);}catch(_0x35f2b1){if(_0x35f2b1[_0x18d471(0x33d)]()[_0x18d471(0x320)]('AuthenticationError')){proxyEmit(_0x18d471(0x232),![]);return;}else handleError(_0x35f2b1,_0x18d471(0x348));}_0x120edd['forEach'](_0x51b97e=>{const _0x26b834=_0x18d471;_0x51b97e[_0x26b834(0x2f9)]!=_0x4cab9d[_0x26b834(0x209)]?_0x469395[_0x51b97e['symbol']]?_0x4ba0eb=_0x51b97e[_0x26b834(0x32a)]?0x1/_0x469395[_0x51b97e['symbol']][_0x26b834(0x21c)]:_0x469395[_0x51b97e[_0x26b834(0x2fc)]]['last']:_0x4ba0eb=0x0:_0x4ba0eb=0x1,_0x51b97e[_0x26b834(0x2cb)]=formatResult(_0x4ba0eb,0x8);}),await getMarketCap(_0x120edd),proxyEmit(_0x18d471(0x232),_0x120edd);}}}function truncateTradeAmount(_0x1876e0,_0x4687ce){const _0x45f3b0=_0x5b2a54;let _0x5a1789=0x0;try{_0x5a1789=exchange[_0x45f3b0(0x2b6)](_0x1876e0,_0x4687ce);}catch(_0xfd46a3){}return _0x5a1789;}function checkMinimums(_0x37b639){const _0x1b18f4=_0x5b2a54;let _0x372ee6=!![];const _0x1462cc=!_0x37b639[_0x1b18f4(0x32a)]?markets[_0x37b639[_0x1b18f4(0x2fc)]][_0x1b18f4(0x276)][_0x1b18f4(0x250)][_0x1b18f4(0x32e)]:markets[_0x37b639[_0x1b18f4(0x2fc)]][_0x1b18f4(0x276)]['cost'][_0x1b18f4(0x32e)],_0x5a30da=!_0x37b639[_0x1b18f4(0x32a)]?markets[_0x37b639['symbol']][_0x1b18f4(0x276)][_0x1b18f4(0x273)]['min']:markets[_0x37b639[_0x1b18f4(0x2fc)]][_0x1b18f4(0x276)][_0x1b18f4(0x250)][_0x1b18f4(0x32e)],_0x6237f1=truncateTradeAmount(_0x37b639[_0x1b18f4(0x2fc)],_0x37b639[_0x1b18f4(0x307)]);_0x37b639['trade']=_0x6237f1;if(Math['abs'](_0x6237f1)<_0x1462cc)_0x372ee6=![];if(Math['abs'](_0x6237f1)*_0x37b639[_0x1b18f4(0x21c)]<_0x5a30da)_0x372ee6=![];if(_0x37b639[_0x1b18f4(0x235)]=='sell'){let _0xbefed=config[_0x1b18f4(0x232)][_0x1b18f4(0x225)](_0x1a6631=>_0x1a6631['coin']==_0x37b639[_0x1b18f4(0x2f9)]);if(_0xbefed[_0x1b18f4(0x2fd)]>0x0){if(Math['abs'](_0x6237f1)>_0x37b639[_0x1b18f4(0x2d0)]-_0xbefed['offset'])_0x372ee6=![];}else{if(Math[_0x1b18f4(0x2c0)](_0x6237f1)>_0x37b639[_0x1b18f4(0x2d0)])_0x372ee6=![];}}if(_0x37b639['side']==_0x1b18f4(0x362)){let _0x201886=config[_0x1b18f4(0x232)][_0x1b18f4(0x225)](_0x54b64a=>_0x54b64a[_0x1b18f4(0x2f9)]==config['basecoin']),_0xcebfb7=currentCoins[_0x1b18f4(0x225)](_0x31a648=>_0x31a648[_0x1b18f4(0x2f9)]==config[_0x1b18f4(0x209)]);if(_0x201886[_0x1b18f4(0x2fd)]>0x0){if(Math[_0x1b18f4(0x2c0)](_0x6237f1)*_0x37b639['last']>_0xcebfb7[_0x1b18f4(0x2d0)]-_0x201886[_0x1b18f4(0x2fd)])_0x372ee6=![];}else{if(Math[_0x1b18f4(0x2c0)](_0x6237f1)*_0x37b639[_0x1b18f4(0x21c)]>_0xcebfb7[_0x1b18f4(0x2d0)])_0x372ee6=![];}}return _0x372ee6;}async function getBalances(_0x2aa6a8=!![]){const _0x4ae1d3=_0x5b2a54;let _0x529cc0=0x0,_0x59e781;const _0x2b801b=config[_0x4ae1d3(0x205)];if(config[_0x4ae1d3(0x367)]&&config[_0x4ae1d3(0x315)]<0x0)await validate24hChanges();currentCoins[_0x4ae1d3(0x277)](_0x3e9192=>{const _0x9d58a9=_0x4ae1d3;if(_0x3e9192[_0x9d58a9(0x2f9)]!=config[_0x9d58a9(0x209)]){let _0x1521af=global['ticker'][noslash(_0x3e9192[_0x9d58a9(0x2fc)])];_0x59e781=_0x3e9192[_0x9d58a9(0x32a)]?0x1/_0x1521af:_0x1521af;}else _0x59e781=0x1;let _0x1418e0=_0x3e9192['number']*_0x59e781;_0x529cc0+=_0x1418e0,_0x3e9192[_0x9d58a9(0x21c)]=formatResult(Number(_0x59e781),0x8),_0x3e9192[_0x9d58a9(0x36b)]=_0x1418e0;}),currentCoins[_0x4ae1d3(0x277)](_0x251ee2=>{const _0x2f5bdb=_0x4ae1d3;let _0x46aba1=config['portfolio'][_0x2f5bdb(0x225)](_0x38281e=>_0x38281e[_0x2f5bdb(0x2f9)]==_0x251ee2[_0x2f5bdb(0x2f9)]),_0x1b3bd0=Number(_0x46aba1[_0x2f5bdb(0x21b)]),_0x59d1f0=_0x251ee2[_0x2f5bdb(0x36b)]/_0x529cc0*0x64,_0x1f690b=_0x1b3bd0*_0x529cc0/0x64/_0x251ee2[_0x2f5bdb(0x21c)]-_0x251ee2[_0x2f5bdb(0x2d0)];_0x251ee2[_0x2f5bdb(0x21b)]=formatResult(_0x59d1f0,0x3),_0x251ee2[_0x2f5bdb(0x312)]=formatResult(_0x1b3bd0,0x3),_0x251ee2[_0x2f5bdb(0x307)]=formatResult(_0x1f690b,0x8),_0x251ee2[_0x2f5bdb(0x235)]='',_0x251ee2[_0x2f5bdb(0x2c3)]=![];if(_0x251ee2[_0x2f5bdb(0x2f9)]!=config[_0x2f5bdb(0x209)]){if(_0x251ee2[_0x2f5bdb(0x21b)]>_0x1b3bd0)_0x251ee2[_0x2f5bdb(0x235)]=_0x2f5bdb(0x2bc),_0x251ee2['valid']=checkMinimums(_0x251ee2);else _0x251ee2[_0x2f5bdb(0x21b)]<_0x1b3bd0&&(_0x251ee2[_0x2f5bdb(0x235)]=_0x2f5bdb(0x362),_0x251ee2[_0x2f5bdb(0x2c3)]=checkMinimums(_0x251ee2));}_0x251ee2[_0x2f5bdb(0x251)]=_0x251ee2[_0x2f5bdb(0x21b)]/_0x251ee2[_0x2f5bdb(0x312)]-0x1;if(_0x251ee2[_0x2f5bdb(0x29d)]=='filled'||_0x251ee2[_0x2f5bdb(0x29d)]==_0x2f5bdb(0x30f))_0x251ee2['orderstatus']=_0x2f5bdb(0x240);}),currentCoins[_0x4ae1d3(0x29e)]((_0x33ff79,_0x30d301)=>_0x33ff79[_0x4ae1d3(0x251)]<_0x30d301[_0x4ae1d3(0x251)]?0x1:_0x30d301[_0x4ae1d3(0x251)]<_0x33ff79['delta']?-0x1:0x0);const _0x1b8f93=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1b8f93[_0x4ae1d3(0x31b)],'usd':_0x1b8f93[_0x4ae1d3(0x2ca)],'portfolio':JSON[_0x4ae1d3(0x324)](currentCoins),'threshold':_0x2b801b},proxyEmit(_0x4ae1d3(0x268),{'serverversion':serverversion,'balances':lastBalances});if(_0x2aa6a8){if(config[_0x4ae1d3(0x367)])headlessMode({'portfolio':currentCoins,'threshold':_0x2b801b});else{if(lockOrders==ORDERS[_0x4ae1d3(0x346)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2b801b});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x2ba2bc=getNormalizedPerformance();getStartingBalances(_0x2ba2bc),emitPerformance(_0x2ba2bc);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x567c85=getNormalizedPerformance();emitPerformance(_0x567c85),getStartingBalances(_0x567c85),logger[_0x4ae1d3(0x34b)](_0x4ae1d3(0x1e0));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x364146=_0x5b2a54;if(!lastBalances)return;let _0x3380a7=[],_0x11101e,_0x1b88e3=JSON[_0x364146(0x210)](lastBalances[_0x364146(0x232)]);_0x1b88e3['sort']((_0x2029ce,_0x5a5276)=>_0x2029ce[_0x364146(0x2f9)]>_0x5a5276['coin']?0x1:_0x5a5276[_0x364146(0x2f9)]>_0x2029ce[_0x364146(0x2f9)]?-0x1:0x0),_0x1b88e3[_0x364146(0x277)](_0x3dfec5=>{const _0xd0d81a=_0x364146;let _0x59136c={'coin':_0x3dfec5[_0xd0d81a(0x2f9)],'number':_0x3dfec5[_0xd0d81a(0x2d0)],'price':_0x3dfec5['last']};_0x3380a7[_0xd0d81a(0x25d)](_0x59136c);});const _0x4b63df=await getFiat();_0x11101e={'date':lastBalances[_0x364146(0x385)][_0x364146(0x217)]('\x20')[0x0],'eur':_0x4b63df[_0x364146(0x31b)],'usd':_0x4b63df['usd'],'coins':_0x3380a7};let _0x1482f4=dbPerformance[_0x364146(0x323)](_0x364146(0x36f))[_0x364146(0x225)]({'date':_0x11101e[_0x364146(0x28b)]})[_0x364146(0x36b)]();_0x1482f4?_0x11101e[_0x364146(0x28b)]!=config[_0x364146(0x305)]&&dbPerformance[_0x364146(0x323)](_0x364146(0x36f))['find']({'date':_0x11101e[_0x364146(0x28b)]})[_0x364146(0x2c4)](_0x11101e)[_0x364146(0x386)]():dbPerformance['get'](_0x364146(0x36f))[_0x364146(0x25d)](_0x11101e)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x58066c=_0x5b2a54;let _0x4bcf06=[];if(dbPerformance[_0x58066c(0x2c1)](_0x58066c(0x36f))['value']()){let _0x15d388=dbPerformance[_0x58066c(0x323)](_0x58066c(0x36f))[_0x58066c(0x208)]()[_0x58066c(0x271)](_0x2688db=>{const _0xe65c54=_0x58066c;if(_0x2688db[_0xe65c54(0x289)][_0xe65c54(0x387)]==0x0)return![];else return!![];})[_0x58066c(0x371)](_0x58066c(0x28b))['value'](),_0x169cd0=[...config['liquidity']];_0x169cd0[_0x58066c(0x29e)]((_0x3937d5,_0x47d129)=>_0x3937d5[_0x58066c(0x28b)]>_0x47d129[_0x58066c(0x28b)]?-0x1:_0x47d129[_0x58066c(0x28b)]>_0x3937d5[_0x58066c(0x28b)]?0x1:0x0);let _0x327808=0x1,_0x144c8b=[],_0x11ffd6=0x0;_0x15d388['slice']()[_0x58066c(0x32a)]()[_0x58066c(0x277)]((_0x16c1ee,_0x18658c)=>{const _0x12cd65=_0x58066c;if(_0x169cd0[_0x11ffd6]){if(_0x15d388[_0x15d388[_0x12cd65(0x387)]-_0x18658c]&&_0x169cd0[_0x11ffd6][_0x12cd65(0x28b)]==_0x15d388[_0x15d388['length']-_0x18658c]['date']){if(_0x18658c<_0x15d388[_0x12cd65(0x387)]){let _0x45ae77=0x0,_0xf322e0=0x0;_0x15d388[_0x15d388[_0x12cd65(0x387)]-_0x18658c][_0x12cd65(0x289)]['forEach'](_0x4ac8ad=>{const _0x323a38=_0x12cd65;_0xf322e0+=_0x4ac8ad[_0x323a38(0x2d0)]*_0x4ac8ad['price'];}),_0x169cd0[_0x11ffd6]['changes'][_0x12cd65(0x277)](_0x2459d2=>{const _0x1923d8=_0x12cd65;_0x45ae77+=_0x2459d2[_0x1923d8(0x2d0)]*_0x2459d2[_0x1923d8(0x2cb)];}),_0x327808*=_0x45ae77/(_0xf322e0-_0x45ae77)+0x1;}_0x11ffd6++;}}let _0x3b70b1=0x0;_0x16c1ee['coins'][_0x12cd65(0x277)](_0x47438a=>{const _0xc4e98a=_0x12cd65;_0x3b70b1+=_0x47438a[_0xc4e98a(0x2d0)]*_0x47438a[_0xc4e98a(0x2cb)];}),_0x144c8b[_0x15d388['length']-_0x18658c-0x1]=_0x3b70b1*(_0x327808-0x1);});let _0x578621=[];_0x169cd0=[...config[_0x58066c(0x20e)]]||[];let _0x587bb1=0x0;_0x11ffd6=0x0,_0x15d388[_0x58066c(0x277)]((_0x2ee416,_0x542aa0)=>{const _0x5cea61=_0x58066c;if(_0x169cd0[_0x11ffd6]){const _0x3b1fc8=fns[_0x5cea61(0x210)](_0x169cd0[_0x11ffd6][_0x5cea61(0x28b)],'yyyy/MM/dd',new Date()),_0x3a3dc4=fns['parse'](_0x2ee416[_0x5cea61(0x28b)],_0x5cea61(0x1e9),new Date());if(fns[_0x5cea61(0x2ab)](_0x3b1fc8,_0x3a3dc4)){let _0x260ced=0x0;_0x169cd0[_0x11ffd6][_0x5cea61(0x32f)][_0x5cea61(0x277)](_0x93f44a=>{const _0x5c7d21=_0x5cea61;!_0x578621[_0x93f44a[_0x5c7d21(0x2f9)]]?_0x578621[_0x93f44a[_0x5c7d21(0x2f9)]]=_0x93f44a[_0x5c7d21(0x2d0)]:(_0x260ced=_0x578621[_0x93f44a['coin']],_0x578621[_0x93f44a[_0x5c7d21(0x2f9)]]+=_0x93f44a[_0x5c7d21(0x2d0)]);const _0x38bbf5=_0x2ee416[_0x5c7d21(0x289)][_0x5c7d21(0x225)](_0x3f6764=>_0x3f6764[_0x5c7d21(0x2f9)]==_0x93f44a[_0x5c7d21(0x2f9)]);(!_0x38bbf5||_0x38bbf5[_0x5c7d21(0x2d0)]==0x0)&&(_0x587bb1+=(-_0x93f44a[_0x5c7d21(0x2d0)]-_0x260ced)*_0x93f44a[_0x5c7d21(0x2cb)]);}),_0x11ffd6++;}}_0x2ee416[_0x5cea61(0x289)][_0x5cea61(0x277)]((_0x131e3a,_0x100ab4)=>{const _0x1eea6d=_0x5cea61;_0x578621[_0x131e3a['coin']]&&(_0x131e3a[_0x1eea6d(0x2fb)]=_0x578621[_0x131e3a[_0x1eea6d(0x2f9)]]);}),_0x4bcf06[_0x5cea61(0x25d)]({'date':_0x2ee416[_0x5cea61(0x28b)],'eur':_0x2ee416[_0x5cea61(0x31b)],'usd':_0x2ee416[_0x5cea61(0x2ca)],'offset':_0x144c8b[_0x542aa0],'netoffset':_0x587bb1,'coins':_0x2ee416[_0x5cea61(0x289)]});});}return _0x4bcf06;}function emitPerformance(_0x2aaa30){const _0x357152=_0x5b2a54;_0x2aaa30[_0x357152(0x387)]!==0x0?(proxyEmit(_0x357152(0x36e),_0x2aaa30),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x2ff179,_0x433077){const _0x5b409b=_0x5b2a54;let _0x1227c8=0x0,_0x24366b=0x0,_0x3024b4=0x0;_0x2ff179[_0x5b409b(0x289)][_0x5b409b(0x277)](_0x259eb3=>{const _0x51c93c=_0x5b409b;_0x1227c8+=_0x259eb3[_0x51c93c(0x2d0)]*_0x259eb3[_0x51c93c(0x2cb)];});_0x433077&&(_0x1227c8+=_0x2ff179[_0x5b409b(0x2fd)]);if(config[_0x5b409b(0x209)]===_0x5b409b(0x2a4)||config['basecoin']===_0x5b409b(0x256)||config[_0x5b409b(0x209)]===_0x5b409b(0x2dd))_0x24366b=_0x1227c8*_0x2ff179[_0x5b409b(0x31b)],_0x3024b4=_0x1227c8*_0x2ff179[_0x5b409b(0x2ca)];else{if(usdBasecoins['includes'](config[_0x5b409b(0x209)]))_0x24366b=_0x1227c8*_0x2ff179[_0x5b409b(0x31b)]/_0x2ff179[_0x5b409b(0x2ca)],_0x3024b4=_0x1227c8;else config['basecoin']===_0x5b409b(0x29b)&&(_0x24366b=_0x1227c8,_0x3024b4=_0x1227c8*_0x2ff179[_0x5b409b(0x2ca)]/_0x2ff179[_0x5b409b(0x31b)]);}return[_0x1227c8,_0x24366b,_0x3024b4];}function _0x3d5a(){const _0x280bf3=['marketcapApi','showname','find','final','page','ORDERS.UNLOCKED','configuration','fee','886488mZCMjy','startsWith','\x20minutes\x20-\x20','parseISO','\x20attempts','89290ZLAxXs','fetchClosedOrders','portfolio','cancel','removed','side','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','random','botname','ExchangeError','recreateCoinResults()','Cryptocom','send','existsSync','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','none','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','remainingSymbols','ask','format','InsufficientFunds','placeOrder','MIN_NOTIONAL','active','456248jMflXG','set','getHours','map','\x20-\x20pausing\x20bot\x20for\x20','\x20exchange\x20error','pro','amount','delta','</pre>','datetime','sells','Cex','ETH','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','lowdb/adapters/FileSync','Bybit','code','TUSD','1\x20-\x20FILLED\x20unknown\x20order:\x20','push','toUpperCase','\x20exchange','yyyy-MM-dd\x27T\x27HH:mm:ss','differenceInSeconds','marketcapEnabled','axios','orderId','getMonth','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','filled','balances','apiSecret','apply','round','initTickers()',':\x20Bot\x20','enabled','\x20metrics:</b>\x20\x0a\x0a','1134980DLjFxW','filter','ordertype','cost','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','currency','limits','forEach','autoliquidity','request-time','Cooldown\x20ended\x20-\x20balancing\x20resumed','open','quote','add','(((.+)+)+)+$','Exception\x20thrown\x20in\x20','bots','slider','%\x20(','24975bHgnPd','<b>Bot\x20','RateLimitExceeded','Initializing\x20coin\x20results','success','placeOrder()','coins','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','date','mkdirSync','\x20network\x20error','bot','Exchange','progress','cancelLoading','Fee\x20discount\x20refund\x20detected:\x20','RETRY\x20-\x20Error\x20in\x20','Limit\x20(low-margin)','percentage','797451EpgAgC','/backup/','USDP','-results.json','fromCodePoint','EUR','argv','orderstatus','sort','search','DDoSProtection','storeHeadless','Pausing\x20for\x20','close','BTC','test','netoffset','timestamp','1176AvxDwZ',':\x20timer\x20>','fetchOpenOrders','isEqual','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','exchange\x20reloaded','RequestTimeout','-performance.json','timeout','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','exchange\x20not\x20reloaded','\x20orders\x20in\x20less\x20than\x20','toLowerCase','exec','amountToPrecision','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','util','apiKey','indexOf','added','sell','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','unlinkSync','1\x20-\x20Unlock\x20orders','abs','has','\x20hour','valid','assign','timeshift','Resetting\x20bot\x20history','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Avoiding\x20continuous\x20order\x20attempts','toFixed','usd','price','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','error','RSA-OAEP','30XxkKFH','number','uncaughtException','Reset\x20|\x20','\x20value','./logs/','Executing\x20exchange\x20reload','RETRY\x20-\x20Problem\x20resolved\x20after\x20','buys','Executed\x20','bb-settings.json','openOrders','getMinutes','AuthenticationError','PAXG','loadSymbols()','warning','onepagemode','Headless:\x20','./config/','watchTrades','/USD','colorscheme','bot-','InvalidNonce','market_cap','getSeconds','starting-balance-','restart','Huobipro','function','customId','emojisell','watchOrders','fetchBalance','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','red_yellow_blue','<pre>','type','bid','Order(s)\x20not\x20validated\x20after\x20','initclient','coin','Loading\x20completed','initial','symbol','offset','event-history',',\x20must\x20be\x20a\x203\x20digit\x20number','hybrid-crypto-js','BNB','breakeven','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','apiPassword','startdate','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','trade','\x20-\x20','\x20|\x20','getDate','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','basecoinvalue','limit-high','order','canceled','password','version','target','Limit\x20(high-margin)','recreate','change24h','-------------------------------\x0a','ticker','configuration-stored','string','cancelOrder','eur','createOrder','balancing\x20resumes\x20when\x20cooldown\x20ends','change','balancing\x20resumed','includes','2.3.5','/EUR','get','stringify','\x20:\x20','startprice','exchanges','resetHistory','rightTxt','reverse','Huobi','Error\x20details:','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','min','changes','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','2\x20-\x20Orders\x20unlocked','splice','\x20-\x20bot\x20not\x20started','net-basecoin','limit-low','constructor','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Insufficient\x20funds\x20to\x20execute\x20order:\x20','81hvGifz','2\x20-\x20Handled\x20open\x20orders','cooldown','\x20>\x20','toString','spot','1\x20-\x20Handle\x20open\x20orders','Resetting\x20coin\x20results:\x20','remove','Crypt','toggleBotMode','substring','botID','UNLOCKED','fetchTickers()','getPortfolio(2)','Transaction\x20detection\x20unblocked','***','debug','status','BNB/','market','floor','no\x20open\x20orders','realized','showConfig','emojibuy','-events.json','USD','recent20','Net\x20effect','OnMaintenance','emitHistory','max','ongoing','decrypt','<b>','Order\x20amount\x20is\x20invalid:\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','\x20not\x20available\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)','2\x20-\x20Validate\x20orders:\x20','buy','API-key\x20format\x20invalid','exchange','Bot\x20','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','headless','ID:\x20','date-fns','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','value','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','1\x20-\x20Validate\x20orders:\x20','performance','data','Order\x20is\x20invalid:\x20','sortBy','UNLOCKING','watchOrders()','deleteHistoryAlerts','Invalid\x20quantity','fetchTickers','\x20|\x20lock\x20orders:\x20','keys','5736lMXQeH','message','getTime','shift','event','Waited\x20','excluded','settings','.json','Market','/output-000.log','sha256','time','write','length','average','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','\x20order:\x20','LOCKED','marketcap','2.5.0','getFullYear','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','ORDERS.LOCKED','fiat','yyyy/MM/dd','getCoins()','\x20portfolio:</b>\x20\x0a\x0a','Trigger:\x20','privateKey','replace','No\x20more\x20open\x20orders\x20-\x20','coin-loading-progress','leftTxt','Error\x20while\x20deleting\x20files:\x20','\x20>\x20[DEBUG]\x20','2.6.0','\x20|\x20exchange:\x20','must\x20be\x20greater\x20than\x20minimum\x20amount','slice','\x20closed\x20the\x20connection\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)','createWriteStream','padStart','logs','recovery','Net\x20','full','NetworkError','USDT','Portfolio\x20change\x20detected:\x20','running','fetchTicker','highest','threshold','OrderNotFound','join','cloneDeep','basecoin','storeConfiguration','args','Manual\x20balancing\x20required','defaults','liquidity','writeFile','parse','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','\x20minutes','loadMarkets','ORDERS.UNLOCKING','************','kill','split','1\x20-\x20FILLED\x20known\x20order:\x20','entries','\x20change','distribution','last','net-fiat','getPortfolio(0)','getAllOrders()','closed','log','secure'];_0x3d5a=function(){return _0x280bf3;};return _0x3d5a();}function getKPIs(_0x41f49c,_0x50d389='EUR'){const _0x4bf49a=_0x5b2a54,_0x43dea0=config[_0x4bf49a(0x209)],_0x4c0487=lastBalances,_0x43bd70=currentCoins,_0x457f91=getNormalizedPerformance(),_0x2eb9d9=_0x41f49c===_0x4bf49a(0x209)?_0x43dea0:_0x41f49c==='fiat'||_0x41f49c===_0x4bf49a(0x21d)?_0x50d389:_0x4bf49a(0x1fd)+_0x43dea0,_0xcc552=_0x41f49c===_0x4bf49a(0x334)?'Net\x20effect':_0x41f49c===_0x4bf49a(0x21d)?_0x4bf49a(0x357):_0x2eb9d9+_0x4bf49a(0x2d3),_0x45d368=_0x41f49c===_0x4bf49a(0x334)||_0x41f49c===_0x4bf49a(0x21d)?_0x4bf49a(0x357):_0x2eb9d9+_0x4bf49a(0x21a);let _0x14ad9a=0x0;_0x43bd70[_0x4bf49a(0x277)](_0x4c990e=>{const _0x4f8e73=_0x4bf49a;_0x14ad9a+=_0x4c990e[_0x4f8e73(0x2d0)]*_0x4c990e[_0x4f8e73(0x21c)];});if(_0x41f49c===_0x4bf49a(0x1e8)||_0x41f49c===_0x4bf49a(0x21d)){if(_0x43dea0===_0x4bf49a(0x2a4)||_0x43dea0===_0x4bf49a(0x256)||_0x43dea0===_0x4bf49a(0x2dd))_0x14ad9a=_0x14ad9a*(_0x50d389===_0x4bf49a(0x29b)?_0x4c0487[_0x4bf49a(0x31b)]:_0x4c0487[_0x4bf49a(0x2ca)]);else{if(usdBasecoins[_0x4bf49a(0x320)](_0x43dea0))_0x14ad9a=_0x14ad9a*(_0x50d389===_0x4bf49a(0x29b)?_0x4c0487['eur']/_0x4c0487['usd']:0x1);else _0x43dea0===_0x4bf49a(0x29b)&&(_0x14ad9a=_0x14ad9a*(_0x50d389==='EUR'?0x1:_0x4c0487['usd']/_0x4c0487[_0x4bf49a(0x31b)]));}}let _0x242167;if(_0x14ad9a!==0x0){if(_0x41f49c===_0x4bf49a(0x209))_0x242167=(_0x14ad9a/startingBalances[_0x4bf49a(0x209)]-0x1)*0x64;else{if(_0x50d389==='EUR')_0x242167=(_0x14ad9a/startingBalances['eur']-0x1)*0x64;else _0x242167=(_0x14ad9a/startingBalances[_0x4bf49a(0x2ca)]-0x1)*0x64;}let _0x1bad63=0x0;if(startingBalances[_0x4bf49a(0x289)])_0x43bd70[_0x4bf49a(0x277)](_0x2026a7=>{const _0x35b7a5=_0x4bf49a;let _0x410f64=startingBalances[_0x35b7a5(0x289)][_0x35b7a5(0x225)](_0x166b30=>_0x166b30[_0x35b7a5(0x2f9)]===_0x2026a7['coin']);if(_0x410f64&&_0x410f64[_0x35b7a5(0x2f9)]&&_0x2026a7['number']!==0x0)_0x1bad63+=_0x410f64['number']*_0x2026a7['last'];});let _0x12e995=0x0;if(_0x457f91[_0x4bf49a(0x387)]!==0x0){let _0x311009=_0x457f91[_0x457f91['length']-0x1];_0x12e995=_0x311009[_0x4bf49a(0x2a6)];}_0x1bad63-=_0x12e995;_0x41f49c===_0x4bf49a(0x334)&&(_0x242167=(_0x14ad9a-_0x1bad63)/startingBalances[_0x4bf49a(0x209)]*0x64,_0x14ad9a=_0x14ad9a-_0x1bad63);if(_0x41f49c===_0x4bf49a(0x21d)){let _0x46f0f8=_0x50d389===_0x4bf49a(0x29b)?startingBalances['eur']:startingBalances[_0x4bf49a(0x2ca)];if(_0x43dea0==='BTC'||_0x43dea0===_0x4bf49a(0x256)||_0x43dea0===_0x4bf49a(0x2dd))_0x1bad63=_0x50d389===_0x4bf49a(0x29b)?_0x1bad63*_0x4c0487[_0x4bf49a(0x31b)]:_0x1bad63*_0x4c0487['usd'];else{if(usdBasecoins[_0x4bf49a(0x320)](_0x43dea0))_0x1bad63=_0x50d389===_0x4bf49a(0x29b)?_0x1bad63*_0x4c0487['eur']/_0x4c0487['usd']:_0x1bad63;else _0x43dea0===_0x4bf49a(0x29b)&&(_0x1bad63=_0x50d389===_0x4bf49a(0x29b)?_0x1bad63:_0x1bad63*_0x4c0487['usd']/_0x4c0487[_0x4bf49a(0x31b)]);}_0x242167=(_0x14ad9a-_0x1bad63)/_0x46f0f8*0x64,_0x14ad9a=_0x14ad9a-_0x1bad63;}if(_0x242167){if(_0x242167<0x64)_0x242167=_0x242167['toFixed'](0x2);else{if(_0x242167<0x3e8)_0x242167=_0x242167[_0x4bf49a(0x2c9)](0x1);else _0x242167=_0x242167[_0x4bf49a(0x2c9)](0x0);}}else _0x242167=Number('0')[_0x4bf49a(0x2c9)](0x2);if(_0x14ad9a){if(Math['abs'](_0x14ad9a)<0.000001)_0x14ad9a=_0x14ad9a['toFixed'](0x2);else{if(Math['abs'](_0x14ad9a)<0.1)_0x14ad9a=_0x14ad9a[_0x4bf49a(0x2c9)](0x6);else{if(Math[_0x4bf49a(0x2c0)](_0x14ad9a)<0x1)_0x14ad9a=_0x14ad9a[_0x4bf49a(0x2c9)](0x5);else{if(Math['abs'](_0x14ad9a)<0xa)_0x14ad9a=_0x14ad9a[_0x4bf49a(0x2c9)](0x4);else{if(Math[_0x4bf49a(0x2c0)](_0x14ad9a)<0x64)_0x14ad9a=_0x14ad9a[_0x4bf49a(0x2c9)](0x3);else{if(Math[_0x4bf49a(0x2c0)](_0x14ad9a)<0x3e8)_0x14ad9a=_0x14ad9a[_0x4bf49a(0x2c9)](0x2);else _0x14ad9a=_0x14ad9a[_0x4bf49a(0x2c9)](0x2);}}}}}}else _0x14ad9a=Number('0')[_0x4bf49a(0x2c9)](0x2);}else _0x242167=Number('0')[_0x4bf49a(0x2c9)](0x2);return{'value':_0x14ad9a,'change':_0x242167,'leftTxt':_0xcc552,'rightTxt':_0x45d368};}async function getStartingBalances(_0x71260e,_0x405c2e=!![]){const _0x2f9f02=_0x5b2a54;if(_0x71260e['length']!==0x0){const [_0x21a348,_0x2c0ade,_0x4af442]=getPerf(_0x71260e[0x0],!![]);let _0x2e3105=[];config[_0x2f9f02(0x232)][_0x2f9f02(0x277)](_0x52c330=>{const _0x3fa3d1=_0x2f9f02;let _0x8ea3e9=0x0,_0x25c933;config['liquidity']['forEach'](_0x2dc1e9=>{const _0x4652b7=_0x410a;let _0xd32f71=_0x2dc1e9['changes'][_0x4652b7(0x225)](_0x2d8b82=>_0x2d8b82[_0x4652b7(0x2f9)]==_0x52c330[_0x4652b7(0x2f9)]);if(_0xd32f71){_0x8ea3e9+=_0xd32f71[_0x4652b7(0x2d0)];if(!_0x25c933)_0x25c933=_0xd32f71[_0x4652b7(0x2cb)];}}),_0x2e3105[_0x3fa3d1(0x25d)]({'coin':_0x52c330[_0x3fa3d1(0x2f9)],'number':_0x8ea3e9,'initialprice':_0x25c933});});const _0x25e62c={'basecoin':_0x21a348,'eur':_0x2c0ade,'usd':_0x4af442,'coins':_0x2e3105};if(_0x405c2e)proxyEmit('starting-balances',_0x25e62c);startingBalances=_0x25e62c;}}function headlessMode(_0x25f9b6){const _0x2bbf9c=_0x5b2a54;let _0xaa6a40=_0x25f9b6[_0x2bbf9c(0x232)],_0x2524c3=_0x25f9b6[_0x2bbf9c(0x205)],_0x15f7e8=[];for(let _0x31c51b of _0xaa6a40){if(_0x31c51b[_0x2bbf9c(0x2f9)]!=config[_0x2bbf9c(0x209)]){if(_0x31c51b[_0x2bbf9c(0x251)]>=_0x2524c3/0x64){if(_0x31c51b[_0x2bbf9c(0x2c3)])_0x15f7e8['push'](_0x31c51b);}else{if(_0x31c51b[_0x2bbf9c(0x251)]<=-_0x2524c3/0x64){if(_0x31c51b[_0x2bbf9c(0x2c3)])_0x15f7e8[_0x2bbf9c(0x25d)](_0x31c51b);}}}}_0x15f7e8['length']>0x0&&(lockOrders==ORDERS[_0x2bbf9c(0x346)]&&!coolingDown&&_0x15f7e8[_0x2bbf9c(0x277)](_0x1fbfe3=>{const _0x220509=_0x2bbf9c;logger[_0x220509(0x34b)](_0x220509(0x1ec)+_0x1fbfe3[_0x220509(0x2f9)]+'\x20'+_0x1fbfe3['number']+'\x20'+_0x1fbfe3[_0x220509(0x21c)]+'\x20'+_0x1fbfe3[_0x220509(0x21b)]+'%\x20'+_0x1fbfe3['target']+'%\x20'+(0x64*_0x1fbfe3[_0x220509(0x251)])[_0x220509(0x2c9)](0x2)+_0x220509(0x282)+_0x2524c3[_0x220509(0x2c9)](0x2)+'%)');}),placeOrder(_0x15f7e8));}function notifyBalance(_0x1f868f){const _0x443271=_0x5b2a54;let _0x32c903=_0x1f868f[_0x443271(0x232)],_0x11b770=_0x1f868f[_0x443271(0x205)],_0x13a86a=[];for(let _0x17693d of _0x32c903){if(_0x17693d[_0x443271(0x2f9)]!=config[_0x443271(0x209)]){if(_0x17693d[_0x443271(0x251)]>=_0x11b770/0x64){if(_0x17693d['valid'])_0x13a86a[_0x443271(0x25d)](_0x17693d);}else{if(_0x17693d['delta']<=-_0x11b770/0x64){if(_0x17693d['valid'])_0x13a86a[_0x443271(0x25d)](_0x17693d);}}}}if(_0x13a86a[_0x443271(0x387)]>0x0){let _0xe39740=_0x13a86a[_0x443271(0x24c)](_0xd0a5d9=>_0xd0a5d9[_0x443271(0x2f9)]);_0xe39740[_0x443271(0x29e)]();let _0x345904=_0xe39740[_0x443271(0x207)](',\x20');if(!lastCoinsToBalance)logHistory(_0x443271(0x2df),_0x443271(0x20c));lastCoinsToBalance=_0x345904;}}function symbolToCoin(_0x50dd67){const _0x170d0b=_0x5b2a54;let _0x4ee068;if(_0x50dd67[_0x170d0b(0x320)]('/'+config['basecoin']))_0x4ee068=_0x50dd67[_0x170d0b(0x1ee)]('/'+config[_0x170d0b(0x209)],'');if(_0x50dd67['includes'](config[_0x170d0b(0x209)]+'/'))_0x4ee068=_0x50dd67[_0x170d0b(0x1ee)](config['basecoin']+'/','');return _0x4ee068;}async function unlockOrders(){const _0x573e5c=_0x5b2a54;if(allOrdersPlaced&&lockOrders==ORDERS[_0x573e5c(0x1e2)]){logger[_0x573e5c(0x34b)](_0x573e5c(0x2bf)),lockOrders=ORDERS[_0x573e5c(0x372)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x526310=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x526310,validateOrdersState=_0x573e5c(0x2fb),persistOpenOrders([]),lockOrders=ORDERS[_0x573e5c(0x346)],logger['debug'](_0x573e5c(0x331));}}async function validateOrders(_0x2c9fb9){const _0x571862=_0x5b2a54;if(_0x2c9fb9)validateOrdersState=_0x2c9fb9;logger[_0x571862(0x34b)](_0x571862(0x36d)+validateOrdersState+_0x571862(0x377)+(lockOrders==0x1?_0x571862(0x1e7):lockOrders==0x2?_0x571862(0x214):_0x571862(0x228)));let _0x5a442b=[],_0x48b3f6=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x571862(0x2b0)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x571862(0x1e2)])return;logger[_0x571862(0x34b)](_0x571862(0x361)+validateOrdersState),lastOrders[_0x571862(0x277)](_0x44e44b=>{const _0x33fb4b=_0x571862;let _0x31a375=![];_0x44e44b[_0x33fb4b(0x267)]>0x0&&(_0x31a375=!![]),_0x5a442b['push'](_0x31a375),_0x31a375&&config['ordertype']!=_0x33fb4b(0x34e)&&logHistory(_0x33fb4b(0x30e),'Order\x20filled:\x20'+_0x44e44b[_0x33fb4b(0x2fc)]+'\x20'+_0x44e44b[_0x33fb4b(0x235)]+'\x20#'+formatResult(_0x44e44b[_0x33fb4b(0x267)],0x8)+'\x20@'+formatResult(_0x44e44b[_0x33fb4b(0x2cb)],0x8));}),_0x5a442b['forEach']((_0x816c55,_0x4d2515)=>{const _0x266eba=_0x571862;if(_0x816c55)lastOrders[_0x266eba(0x332)](_0x4d2515,0x1);}),persistOpenOrders(lastOrders);const _0x469def=coolingDown?_0x571862(0x31d):_0x571862(0x31f);if(validateOrdersState==_0x571862(0x2fb)){validateOrdersState=_0x571862(0x35b);if(_0x5a442b[_0x571862(0x320)](![])){if(config[_0x571862(0x272)]==_0x571862(0x34e)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x5a442b[_0x571862(0x320)](![])){}else{if(allOrdersPlaced){if(config[_0x571862(0x272)]==_0x571862(0x34e)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x571862(0x226))_0x5a442b[_0x571862(0x320)](![])&&(config[_0x571862(0x272)]==_0x571862(0x34e)?logHistory(_0x571862(0x287),_0x571862(0x2f7)+Math[_0x571862(0x26b)](_0x48b3f6*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x469def):(await cancelOrders(),logHistory(_0x571862(0x287),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x571862(0x26b)](_0x48b3f6*validateOrderInterval/0xea60)+_0x571862(0x22d)+_0x469def))),await unlockOrders();else{if(validateOrdersState==_0x571862(0x350)){if(config[_0x571862(0x272)]!='market')logHistory(_0x571862(0x287),_0x571862(0x1ef)+_0x469def);await unlockOrders();}}}}}async function cancelOrders(){const _0x4bd798=_0x5b2a54;lastOrders[_0x4bd798(0x277)](async _0x4189f1=>{const _0x23fcb9=_0x4bd798;try{const _0x4f31e2=await exchange['cancelOrder'](_0x4189f1[_0x23fcb9(0x264)],_0x4189f1[_0x23fcb9(0x2fc)]);}catch(_0x2b14d8){if(_0x2b14d8[_0x23fcb9(0x33d)]()[_0x23fcb9(0x320)](_0x23fcb9(0x206))){}else await handleError(_0x2b14d8,'cancelOrders()');}});}async function initCoinResults(_0x4a60ba){const _0x24c459=_0x5b2a54;_0x4a60ba?logger['debug'](_0x24c459(0x340)+_0x4a60ba):logger['debug'](_0x24c459(0x286)),config[_0x24c459(0x232)][_0x24c459(0x277)](_0xcb8714=>{const _0xfc7b21=_0x24c459;if(!_0xcb8714[_0xfc7b21(0x37f)]&&_0xcb8714[_0xfc7b21(0x2f9)]!=config[_0xfc7b21(0x209)]){const _0x36ecbe=currentCoins[_0xfc7b21(0x225)](_0xbaf4a=>_0xbaf4a['coin']==_0xcb8714[_0xfc7b21(0x2f9)]),_0x4af2d3=global[_0xfc7b21(0x317)][noslash(_0xcb8714[_0xfc7b21(0x2fc)])];let _0x19a613=_0x36ecbe?_0x36ecbe['number']:null,_0x140179=_0xcb8714['reverse']?0x1/_0x4af2d3:_0x4af2d3,_0x3384a9;config[_0xfc7b21(0x20e)][_0xfc7b21(0x277)](_0x47392e=>{const _0x15b16b=_0xfc7b21;!_0x3384a9&&(_0x3384a9=_0x47392e[_0x15b16b(0x32f)][_0x15b16b(0x225)](_0x262020=>_0x262020[_0x15b16b(0x2f9)]==_0xcb8714[_0x15b16b(0x2f9)]),_0x3384a9&&(_0x19a613=_0x3384a9[_0x15b16b(0x2d0)],_0x140179=_0x3384a9[_0x15b16b(0x2cb)]));});let _0x1e1ffb=dbCoinResults[_0xfc7b21(0x323)](_0xfc7b21(0x289))[_0xfc7b21(0x225)]({'coin':_0xcb8714[_0xfc7b21(0x2f9)]})[_0xfc7b21(0x36b)]();if(!_0x1e1ffb){const _0x5dbf06={'coin':_0xcb8714['coin'],'number':_0x19a613,'breakeven':_0x140179,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0xfc7b21(0x25d)](_0x5dbf06)[_0xfc7b21(0x386)]();}else{if(_0x4a60ba&&_0xcb8714[_0xfc7b21(0x2f9)]==_0x4a60ba){const _0x2c4572={'coin':_0xcb8714[_0xfc7b21(0x2f9)],'number':_0x19a613,'breakeven':_0x140179,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xfc7b21(0x323)](_0xfc7b21(0x289))[_0xfc7b21(0x225)]({'coin':_0xcb8714[_0xfc7b21(0x2f9)]})[_0xfc7b21(0x2c4)](_0x2c4572)[_0xfc7b21(0x386)]();}}}});}async function updateCoinResults(_0xae886a,_0x33d607=![]){const _0x5dccbd=_0x5b2a54;let _0x2df629,_0x2ede40,_0xbeab0b,_0x30a1e5,_0xf3a66c,_0x445a20,_0x11463c=dbCoinResults[_0x5dccbd(0x323)]('coins')[_0x5dccbd(0x225)]({'coin':_0xae886a['coin']})[_0x5dccbd(0x36b)](),_0x3e378e=![];_0x11463c&&Object['entries'](_0x11463c)[_0x5dccbd(0x277)](([_0x1e2c98,_0x552460])=>{if(_0x552460==null)_0x3e378e=!![];});(!_0x11463c||_0x3e378e)&&(await initCoinResults(_0xae886a['coin']),_0x11463c=dbCoinResults[_0x5dccbd(0x323)](_0x5dccbd(0x289))['find']({'coin':_0xae886a[_0x5dccbd(0x2f9)]})[_0x5dccbd(0x36b)]());_0xae886a[_0x5dccbd(0x32a)]&&(_0x445a20={'filled':_0xae886a[_0x5dccbd(0x267)]*_0xae886a[_0x5dccbd(0x2cb)],'amount':_0xae886a[_0x5dccbd(0x267)]*_0xae886a[_0x5dccbd(0x2cb)],'side':_0xae886a['side']==_0x5dccbd(0x2bc)?_0x5dccbd(0x362):_0x5dccbd(0x2bc),'price':0x1/_0xae886a[_0x5dccbd(0x2cb)]},_0xae886a={..._0xae886a,..._0x445a20});_0x33d607?_0x2ede40=_0xae886a[_0x5dccbd(0x235)]==_0x5dccbd(0x362)?_0x11463c[_0x5dccbd(0x2d0)]+_0xae886a[_0x5dccbd(0x267)]:_0x11463c['number']-_0xae886a[_0x5dccbd(0x267)]:_0x2ede40=await getCoinNumber(_0xae886a[_0x5dccbd(0x2f9)]);if(_0xae886a[_0x5dccbd(0x22a)]&&_0xae886a[_0x5dccbd(0x22a)][_0x5dccbd(0x275)]==config[_0x5dccbd(0x209)])_0x2df629=Number(_0xae886a['fee'][_0x5dccbd(0x273)]);else{if(_0xae886a[_0x5dccbd(0x22a)]&&_0xae886a[_0x5dccbd(0x22a)][_0x5dccbd(0x275)]==_0x5dccbd(0x301)&&!_0x33d607&&config[_0x5dccbd(0x209)]!=_0x5dccbd(0x2dd))_0x2df629=Number(_0xae886a[_0x5dccbd(0x22a)][_0x5dccbd(0x273)])*global[_0x5dccbd(0x317)]['BNB'+config[_0x5dccbd(0x209)]];else _0x2df629=defaultFee*_0xae886a[_0x5dccbd(0x267)]*_0xae886a[_0x5dccbd(0x2cb)];}_0xae886a[_0x5dccbd(0x235)]==_0x5dccbd(0x362)?(_0xbeab0b=_0x2ede40!=0x0?(_0x11463c[_0x5dccbd(0x302)]*_0x11463c['number']+_0xae886a['price']*(_0x2ede40-_0x11463c[_0x5dccbd(0x2d0)])+_0x2df629)/_0x2ede40:0x0,_0x30a1e5=_0x11463c['realized']):(_0xbeab0b=_0x2ede40!=0x0?(_0x11463c['breakeven']*_0x11463c['number']-_0xae886a['price']*(_0x11463c[_0x5dccbd(0x2d0)]-_0x2ede40)+_0x2df629)/_0x2ede40:0x0,_0x30a1e5=_0x11463c[_0x5dccbd(0x351)]+(_0xae886a[_0x5dccbd(0x2cb)]-_0x11463c[_0x5dccbd(0x302)])*_0xae886a[_0x5dccbd(0x267)]);_0xf3a66c=(_0xae886a['price']-_0xbeab0b-_0x2df629/_0xae886a['filled'])*_0x2ede40;let _0x16267c={'coin':_0xae886a[_0x5dccbd(0x2f9)],'number':_0x2ede40,'breakeven':formatResult(_0xbeab0b,0x8),'realized':formatResult(_0x30a1e5,0x8),'unrealized':formatResult(_0xf3a66c,0x8),'fees':formatResult(_0x11463c['fees']+_0x2df629,0x8),'sells':_0xae886a[_0x5dccbd(0x235)]==_0x5dccbd(0x2bc)?_0x11463c['sells']+0x1:_0x11463c[_0x5dccbd(0x254)],'buys':_0xae886a['side']=='buy'?_0x11463c['buys']+0x1:_0x11463c[_0x5dccbd(0x2d7)]};dbCoinResults[_0x5dccbd(0x323)](_0x5dccbd(0x289))['find']({'coin':_0xae886a['coin']})[_0x5dccbd(0x2c4)](_0x16267c)[_0x5dccbd(0x386)]();if(!_0x33d607){if(_0xae886a[_0x5dccbd(0x22a)]&&_0xae886a[_0x5dccbd(0x22a)]['currency']=='BNB'){const _0x4f7286=currentCoins['find'](_0x142004=>_0x142004[_0x5dccbd(0x2f9)]==_0x5dccbd(0x301));if(_0x4f7286){let _0x333a31=dbCoinResults['get'](_0x5dccbd(0x289))['find']({'coin':_0x5dccbd(0x301)})[_0x5dccbd(0x36b)]();_0x16267c={..._0x333a31,'number':_0x4f7286[_0x5dccbd(0x2d0)]},dbCoinResults[_0x5dccbd(0x323)](_0x5dccbd(0x289))[_0x5dccbd(0x225)]({'coin':'BNB'})[_0x5dccbd(0x2c4)](_0x16267c)[_0x5dccbd(0x386)]();}}}}async function placeOrder(_0x216b40){const _0x5206b8=_0x5b2a54,_0xdc409b=config[_0x5206b8(0x272)]==_0x5206b8(0x34e)?'market':'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x5206b8(0x2fb);let _0x4b393e=![];lastOrders=[];for(const _0x1fe972 of _0x216b40){let _0x1dd6ba,_0x33dbb5,_0x48ea8c,_0x43fac8,_0xc035c,_0x15f344=_0x1fe972['symbol'];try{const _0x4577f2=await exchange['fetchTicker'](_0x15f344);_0x1dd6ba=_0x1fe972[_0x5206b8(0x32a)]?0x1/_0x1fe972[_0x5206b8(0x21c)]:_0x1fe972[_0x5206b8(0x21c)],_0x33dbb5=_0x4577f2[_0x5206b8(0x2f6)],_0x48ea8c=_0x4577f2[_0x5206b8(0x243)];_0x1fe972[_0x5206b8(0x32a)]?(_0x43fac8=_0x1fe972[_0x5206b8(0x235)]=='buy'?'sell':_0x5206b8(0x362),_0xc035c=Math[_0x5206b8(0x2c0)](_0x1fe972[_0x5206b8(0x307)])/_0x1dd6ba):(_0x43fac8=_0x1fe972[_0x5206b8(0x235)],_0xc035c=Math[_0x5206b8(0x2c0)](_0x1fe972[_0x5206b8(0x307)]));_0xdc409b=='limit'&&(config[_0x5206b8(0x272)]==_0x5206b8(0x30d)&&(_0x1dd6ba=_0x43fac8==_0x5206b8(0x362)?_0x33dbb5:_0x48ea8c),config[_0x5206b8(0x272)]==_0x5206b8(0x335)&&(_0x1dd6ba=_0x43fac8=='buy'?_0x48ea8c:_0x33dbb5));_0xc035c=formatResult(_0xc035c,0x8),_0x1dd6ba=formatResult(_0x1dd6ba,0x8);const _0x23c8e9=_0x43fac8==_0x5206b8(0x2bc)?config['emojisell']?String[_0x5206b8(0x29a)]('0x'+config[_0x5206b8(0x2ef)])+'\x20':'':config[_0x5206b8(0x353)]?String[_0x5206b8(0x29a)]('0x'+config[_0x5206b8(0x353)])+'\x20':'',_0x299fc7=_0xdc409b==_0x5206b8(0x34e)?_0x5206b8(0x382):config[_0x5206b8(0x272)]==_0x5206b8(0x30d)?_0x5206b8(0x313):_0x5206b8(0x294),_0x2a0835=(Math[_0x5206b8(0x34f)](Math[_0x5206b8(0x238)]()*0x35a4e900)+0x5f5e100)[_0x5206b8(0x33d)]();lastOrders[_0x5206b8(0x25d)]({'customId':_0x2a0835,'symbol':_0x15f344,'coin':_0x1fe972[_0x5206b8(0x2f9)],'amount':_0xc035c,'price':_0x1dd6ba,'side':_0x43fac8,'reverse':_0x1fe972['reverse'],'filled':0x0});if(_0xdc409b=='market')logHistory(_0x5206b8(0x30e),''+_0x23c8e9+_0x299fc7+_0x5206b8(0x1e1)+_0x15f344+'\x20'+_0x43fac8+'\x20#'+formatResult(_0xc035c,0x8)+'\x20@'+formatResult(_0x1dd6ba,0x8));else logHistory(_0x5206b8(0x30e),''+_0x23c8e9+_0x299fc7+_0x5206b8(0x1e1)+_0x15f344+'\x20'+_0x43fac8+'\x20#'+formatResult(_0xc035c,0x8)+'\x20@'+formatResult(_0x1dd6ba,0x8));let _0x3caee3;_0xdc409b==_0x5206b8(0x34e)?_0x43fac8=='buy'&&[_0x5206b8(0x259),'Bitget',_0x5206b8(0x255),_0x5206b8(0x32b),_0x5206b8(0x2ec)][_0x5206b8(0x320)](config[_0x5206b8(0x364)])?_0x3caee3=await exchange[_0x5206b8(0x31c)](_0x15f344,_0xdc409b,_0x43fac8,_0xc035c,_0x1dd6ba):_0x3caee3=await exchange['createOrder'](_0x15f344,_0xdc409b,_0x43fac8,_0xc035c,undefined):_0x3caee3=await exchange['createOrder'](_0x15f344,_0xdc409b,_0x43fac8,_0xc035c,_0x1dd6ba);logger['debug'](_0x5206b8(0x368)+_0x3caee3['id']+'\x20|\x20Custom\x20ID:\x20'+_0x2a0835);const _0x16bfa3=lastOrders[_0x5206b8(0x387)]-0x1;if(_0x16bfa3>=0x0&&lastOrders[_0x16bfa3][_0x5206b8(0x2ee)]==_0x2a0835){lastOrders[_0x16bfa3][_0x5206b8(0x264)]=_0x3caee3['id'];if(_0x3caee3[_0x5206b8(0x250)])lastOrders[_0x16bfa3][_0x5206b8(0x250)]=_0x3caee3[_0x5206b8(0x250)];if(_0x3caee3['price'])lastOrders[_0x16bfa3][_0x5206b8(0x2cb)]=_0x3caee3[_0x5206b8(0x2cb)];lastOrders[_0x16bfa3][_0x5206b8(0x22a)]=_0x3caee3[_0x5206b8(0x22a)];}if(config[_0x5206b8(0x33b)]!=0x0){let _0x155a11=null;if(cooldownTracker[_0x5206b8(0x387)]==config[_0x5206b8(0x33b)]-0x1)_0x155a11=cooldownTracker[_0x5206b8(0x37c)]();const _0x4ed5ca=getTimeStamp();cooldownTracker[_0x5206b8(0x25d)](_0x4ed5ca);if(_0x155a11){const _0x55c9fb=fns[_0x5206b8(0x261)](new Date(_0x4ed5ca),new Date(_0x155a11));if(_0x55c9fb<cooldownInterval){logHistory(_0x5206b8(0x2cd),_0x5206b8(0x2d8)+config[_0x5206b8(0x33b)]+_0x5206b8(0x2b3)+cooldownInterval/0x3c+_0x5206b8(0x2b7)+cooldownPeriod/(0xe10*0x3e8)+_0x5206b8(0x2c2)),coolingDown=!![];break;}}}}catch(_0x33d787){if(_0x33d787[_0x5206b8(0x33d)]()[_0x5206b8(0x320)](_0x5206b8(0x247)))lastOrders=lastOrders[_0x5206b8(0x271)](_0x410d25=>_0x410d25[_0x5206b8(0x2fc)]!=_0x15f344),logHistory(_0x5206b8(0x2cd),_0x5206b8(0x36c)+_0x15f344),_0x4b393e=!![];else{if(_0x33d787[_0x5206b8(0x33d)]()[_0x5206b8(0x320)](_0x5206b8(0x375)))lastOrders=lastOrders['filter'](_0x47efd1=>_0x47efd1['symbol']!=_0x15f344),logHistory('error',_0x5206b8(0x35e)+_0x15f344),_0x4b393e=!![];else{if(_0x33d787[_0x5206b8(0x33d)]()[_0x5206b8(0x320)]('InvalidOrder'))lastOrders=lastOrders[_0x5206b8(0x271)](_0x1d84d7=>_0x1d84d7['symbol']!=_0x15f344),logHistory(_0x5206b8(0x2cd),_0x5206b8(0x370)+_0x15f344),logger[_0x5206b8(0x34b)](_0x33d787),_0x4b393e=!![];else _0x33d787[_0x5206b8(0x33d)]()['includes'](_0x5206b8(0x1f6))?(lastOrders=lastOrders[_0x5206b8(0x271)](_0x1fee32=>_0x1fee32['symbol']!=_0x15f344),logHistory(_0x5206b8(0x2cd),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x15f344),_0x4b393e=!![]):(lastOrders=lastOrders[_0x5206b8(0x271)](_0x560804=>_0x560804[_0x5206b8(0x2fc)]!=_0x15f344),await handleError(_0x33d787,_0x5206b8(0x288),_0x15f344));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5206b8(0x387)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x1a3ae7=config[_0x5206b8(0x272)]==_0x5206b8(0x34e)?validateOrderTimeout*0x3c*0x3e8:config[_0x5206b8(0x2b0)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x56a499=_0x5206b8;validateOrders(_0x56a499(0x226));},_0x1a3ae7);}else unlockOrders();_0x4b393e&&config[_0x5206b8(0x367)]&&(logHistory('error',_0x5206b8(0x2c8)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x5206b8(0x27a)));}else{if(coolingDown)!config[_0x5206b8(0x367)]&&logHistory(_0x5206b8(0x2cd),_0x5206b8(0x330));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x5206b8(0x367)]&&(config[_0x5206b8(0x272)]==_0x5206b8(0x34e)?logHistory(_0x5206b8(0x2cd),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x5206b8(0x2cd),_0x5206b8(0x266))));}}function persistOpenOrders(_0x3f8069){const _0x404079=_0x5b2a54,_0xb5faaa={...config,'openOrders':_0x3f8069};let _0x4dafd5=dbConfig[_0x404079(0x323)](_0x404079(0x28e))[_0x404079(0x225)]({'botID':botID})['value']();_0x4dafd5&&dbConfig[_0x404079(0x323)](_0x404079(0x28e))[_0x404079(0x225)]({'botID':botID})[_0x404079(0x2c4)](_0xb5faaa)[_0x404079(0x386)]();}function restoreOrders(){const _0x3a2609=_0x5b2a54;let _0x477fa8;config[_0x3a2609(0x2da)]&&allOpenOrders['forEach'](_0x21add4=>{const _0x383451=_0x3a2609,_0x418b53=config['openOrders'][_0x383451(0x225)](_0x18ac93=>_0x18ac93[_0x383451(0x264)]==_0x21add4['id']);_0x418b53&&(lastOrders[_0x383451(0x25d)](_0x418b53),_0x477fa8=_0x21add4[_0x383451(0x2a7)]);});if(lastOrders[_0x3a2609(0x387)]>0x0){lockOrders=ORDERS[_0x3a2609(0x1e2)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x181920=new Date()['getTime'](),_0x11134d=config[_0x3a2609(0x272)]==_0x3a2609(0x34e)?validateOrderTimeout*0x3c*0x3e8:config[_0x3a2609(0x2b0)]*0x3c*0x3e8;if(_0x477fa8+_0x11134d>_0x181920){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5b9884=_0x3a2609;validateOrders(_0x5b9884(0x226));},_0x477fa8+_0x11134d-_0x181920);}else validateOrders(_0x3a2609(0x226));}}async function sendMetricsTelegram(){const _0x20a2e9=_0x5b2a54;if(!coinsLoaded){process[_0x20a2e9(0x23d)]({'telegrammsg':_0x20a2e9(0x23f)},_0x355026=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3fd78b='';if(config[_0x20a2e9(0x224)])_0x3fd78b=_0x20a2e9(0x35d)+config[_0x20a2e9(0x239)]+_0x20a2e9(0x26f);else _0x3fd78b=_0x20a2e9(0x284)+botID+_0x20a2e9(0x26f);const _0x85f78b=getKPIs('basecoin'),_0x9486bd=getKPIs(_0x20a2e9(0x1e8),config[_0x20a2e9(0x1e8)]),_0x4d6dbb=getKPIs(_0x20a2e9(0x334)),_0x2d9a82=getKPIs(_0x20a2e9(0x21d),config[_0x20a2e9(0x1e8)]);_0x3fd78b+=_0x20a2e9(0x2f4),_0x3fd78b+=_0x85f78b[_0x20a2e9(0x1f1)]+_0x20a2e9(0x325)+_0x85f78b[_0x20a2e9(0x36b)]+'\x0a',_0x3fd78b+=_0x85f78b[_0x20a2e9(0x329)]+':\x20'+_0x85f78b[_0x20a2e9(0x31e)]+'%\x0a',_0x3fd78b+=_0x9486bd['leftTxt']+'\x20:\x20'+_0x9486bd['value']+'\x0a',_0x3fd78b+=_0x9486bd[_0x20a2e9(0x329)]+':\x20'+_0x9486bd['change']+'%\x0a',_0x3fd78b+=_0x4d6dbb[_0x20a2e9(0x1f1)]+':\x20'+_0x4d6dbb[_0x20a2e9(0x36b)]+'\x20('+config[_0x20a2e9(0x209)]+')\x0a',_0x3fd78b+=_0x4d6dbb[_0x20a2e9(0x329)]+':\x20'+_0x4d6dbb[_0x20a2e9(0x31e)]+_0x20a2e9(0x282)+config[_0x20a2e9(0x209)]+')\x0a',_0x3fd78b+=_0x2d9a82[_0x20a2e9(0x1f1)]+':\x20'+_0x2d9a82[_0x20a2e9(0x36b)]+'\x20('+config['fiat']+')\x0a',_0x3fd78b+=_0x2d9a82[_0x20a2e9(0x329)]+':\x20'+_0x2d9a82[_0x20a2e9(0x31e)]+_0x20a2e9(0x282)+config[_0x20a2e9(0x1e8)]+')\x0a',_0x3fd78b+=_0x20a2e9(0x252),process['send']({'telegrammsg':_0x3fd78b},_0x40005d=>{});}async function sendPortfolioTelegram(){const _0x30d7a5=_0x5b2a54;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x30d7a5(0x23d)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x4a3c8a=>{});return;}let _0x32688e='';if(config[_0x30d7a5(0x224)])_0x32688e=_0x30d7a5(0x35d)+config[_0x30d7a5(0x239)]+_0x30d7a5(0x1eb);else _0x32688e=_0x30d7a5(0x284)+botID+_0x30d7a5(0x1eb);_0x32688e+=_0x30d7a5(0x2f4),_0x32688e+='-------------------------------\x0a',_0x32688e+=_0x30d7a5(0x303),_0x32688e+=_0x30d7a5(0x316),currentCoins[_0x30d7a5(0x277)](_0x1f6c3f=>{const _0x2676d6=_0x30d7a5;_0x32688e+=_0x1f6c3f[_0x2676d6(0x2f9)]['padEnd'](0x7)+'|\x20'+formatPad(_0x1f6c3f[_0x2676d6(0x21b)],0x2,0x6)+'|\x20'+formatPad(_0x1f6c3f['target'],0x2,0x6)+'|\x20'+formatPad(_0x1f6c3f['delta']*0x64,0x2,0x6)+'\x0a';}),_0x32688e+=_0x30d7a5(0x252),process['send']({'telegrammsg':_0x32688e},_0x4a8e50=>{});}function formatPad(_0x3b8e34,_0x569315,_0x256794){const _0x230698=_0x5b2a54,_0x1c91cd=formatResultString(_0x3b8e34,_0x569315);return _0x1c91cd?_0x1c91cd['padStart'](_0x256794):''[_0x230698(0x1fa)](_0x256794);}function logHistory(_0x3d65d9,_0x2f4852,_0x275d63=''){const _0x5e2139=_0x5b2a54;logger[_0x5e2139(0x1fe)](''+_0x2f4852);let _0x3d2b9e={'time':getTimeStamp(),'type':_0x3d65d9,'event':_0x2f4852};dbLogs['get']('logs')[_0x5e2139(0x25d)](_0x3d2b9e)[_0x5e2139(0x386)]();if(_0x275d63=='')_0x275d63=_0x2f4852;proxyEmit('event',{'log':_0x3d2b9e,'summary':_0x275d63}),process[_0x5e2139(0x23d)]({'telegram':{..._0x3d2b9e,'botname':config[_0x5e2139(0x239)],'showname':config[_0x5e2139(0x224)]}},_0x5807bf=>{});}function emitHistory(_0x49a69a={}){const _0x252556=_0x5b2a54;Object[_0x252556(0x378)](_0x49a69a)[_0x252556(0x387)]==0x0&&(_0x49a69a={'type':[_0x252556(0x30e),'event'],'event':'','page':0x1});if(_0x49a69a[_0x252556(0x2f5)]['includes']('event'))_0x49a69a[_0x252556(0x2f5)][_0x252556(0x332)](_0x49a69a[_0x252556(0x2f5)][_0x252556(0x2ba)](_0x252556(0x37d)),0x1,_0x252556(0x2cd),_0x252556(0x2df),_0x252556(0x287));if(dbLogs[_0x252556(0x2c1)](_0x252556(0x1fb))[_0x252556(0x36b)]()){let _0xbd8b19=dbLogs[_0x252556(0x323)]('logs')[_0x252556(0x271)](_0x257d02=>{const _0x18d1ae=_0x252556;if(_0x49a69a[_0x18d1ae(0x2f5)][_0x18d1ae(0x387)]==0x0)return![];else return _0x49a69a[_0x18d1ae(0x2f5)]['includes'](_0x257d02[_0x18d1ae(0x2f5)]);})[_0x252556(0x271)](_0x40b308=>{const _0x5870f4=_0x252556;if(_0x49a69a[_0x5870f4(0x37d)]=='')return!![];else return _0x40b308[_0x5870f4(0x37d)][_0x5870f4(0x2b4)]()[_0x5870f4(0x320)](_0x49a69a[_0x5870f4(0x37d)][_0x5870f4(0x2b4)]());})[_0x252556(0x371)]('time'),_0x58bae9=_0xbd8b19['value']()[_0x252556(0x387)];_0xbd8b19=_0xbd8b19[_0x252556(0x32a)]()[_0x252556(0x1f7)]((_0x49a69a[_0x252556(0x227)]-0x1)*logPageSize,_0x49a69a[_0x252556(0x227)]*logPageSize-0x1)[_0x252556(0x32a)]()[_0x252556(0x36b)](),proxyEmit(_0x252556(0x2fe),{'logs':_0xbd8b19,'total':_0x58bae9});}else proxyEmit(_0x252556(0x2fe),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x7babaf){const _0x454cab=_0x5b2a54;if(dbLogs[_0x454cab(0x2c1)]('logs')[_0x454cab(0x36b)]()){const _0x14e188=dbLogs[_0x454cab(0x323)]('logs')[_0x454cab(0x371)](_0x454cab(0x385))['filter'](_0x455bbd=>{const _0x9154ee=_0x454cab;return _0x455bbd[_0x9154ee(0x2f5)]==_0x9154ee(0x30e);})['value']();dbLogs[_0x454cab(0x323)](_0x454cab(0x1fb))[_0x454cab(0x341)]()[_0x454cab(0x386)](),dbLogs[_0x454cab(0x323)](_0x454cab(0x1fb))[_0x454cab(0x2c4)](_0x14e188)[_0x454cab(0x386)](),emitHistory(_0x7babaf);}}async function pauseBot(_0x5a54a8=pauseBotInterval){const _0x1cfce0=_0x5b2a54,_0x103768=new Date()[_0x1cfce0(0x37b)]();if(!lastErrorShown||_0x103768-lastErrorShown>=_0x5a54a8){lastErrorShown=_0x103768;!lastBotPause?(lastBotPause=_0x103768,consecutivePauses=0x1):(_0x103768-lastBotPause-_0x5a54a8<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x1cfce0(0x23d)]({'stop':_0x1cfce0(0x2eb)},_0x511e41=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x1cfce0(0x37b)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x5a54a8),botPaused=![],reset(!![]);}}}async function killBot(){const _0x2b8de6=_0x5b2a54;botPaused=!![],await sleep(0x3e8),process[_0x2b8de6(0x23d)]({'stop':_0x2b8de6(0x216)},_0x314cde=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5cb859,_0x436ff1){const _0x50f88b=_0x5b2a54;if(botPaused)return;const _0x1b5ffc=config[_0x50f88b(0x364)]||_0x50f88b(0x28f);if(_0x436ff1)logger[_0x50f88b(0x34b)](_0x50f88b(0x27f)+_0x436ff1);const _0x300183=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x5cb859[_0x50f88b(0x33d)]()[_0x50f88b(0x320)](_0x50f88b(0x363)))logHistory(_0x50f88b(0x2cd),_0x1b5ffc+_0x50f88b(0x35f)),_0x300183();else{if(_0x5cb859[_0x50f88b(0x33d)]()[_0x50f88b(0x320)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x50f88b(0x2cd),_0x1b5ffc+_0x50f88b(0x306)),_0x300183();else _0x5cb859['toString']()[_0x50f88b(0x320)](_0x50f88b(0x2dc))?(logHistory('error',_0x1b5ffc+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x50f88b(0x2cd),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(info:\x20hodlerhacks.com/fix/#api-invalid)'),_0x300183()):await handleError(_0x5cb859,null);}}async function handleError(_0x555756,_0x16ce05,_0x176c18=''){const _0x29f6a0=_0x5b2a54;if(botPaused)return;const _0x147c80=config['exchange']||_0x29f6a0(0x28f);if(_0x16ce05)logger[_0x29f6a0(0x34b)](_0x29f6a0(0x27f)+_0x16ce05);if(_0x555756[_0x29f6a0(0x33d)]()['includes'](_0x29f6a0(0x2a0)))logHistory('error',_0x147c80+_0x29f6a0(0x237)+pauseBotMsg),logger[_0x29f6a0(0x34b)](_0x29f6a0(0x32c),_0x555756),await pauseBot();else{if(_0x555756['toString']()[_0x29f6a0(0x320)](_0x29f6a0(0x285)))logHistory(_0x29f6a0(0x2cd),_0x147c80+_0x29f6a0(0x257)+pauseBotMsg),logger[_0x29f6a0(0x34b)](_0x29f6a0(0x32c),_0x555756),await pauseBot();else{if(_0x555756['toString']()['includes']('ExchangeNotAvailable')||_0x555756[_0x29f6a0(0x33d)]()['includes'](_0x29f6a0(0x358)))logHistory(_0x29f6a0(0x2cd),_0x147c80+_0x29f6a0(0x360)+pauseBotMsg),await pauseBot();else{if(_0x555756[_0x29f6a0(0x33d)]()[_0x29f6a0(0x320)](_0x29f6a0(0x2ae)))logHistory(_0x29f6a0(0x2cd),_0x147c80+'\x20not\x20responding\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)'+pauseBotMsg),await pauseBot();else{if(_0x555756[_0x29f6a0(0x33d)]()[_0x29f6a0(0x320)](_0x29f6a0(0x366)))logHistory(_0x29f6a0(0x2cd),_0x147c80+_0x29f6a0(0x1f8)+pauseBotMsg),await pauseBot();else{if(_0x555756[_0x29f6a0(0x33d)]()['toLowerCase']()[_0x29f6a0(0x320)](_0x29f6a0(0x2a7))||_0x555756[_0x29f6a0(0x33d)]()[_0x29f6a0(0x2b4)]()[_0x29f6a0(0x320)](_0x29f6a0(0x279)))logHistory(_0x29f6a0(0x2cd),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(info:\x20hodlerhacks.com/fix/#clock-sync)'+pauseBotMsg),logger[_0x29f6a0(0x34b)](_0x29f6a0(0x32c),_0x555756[_0x29f6a0(0x33d)]()),await pauseBot();else{if(_0x555756[_0x29f6a0(0x33d)]()['includes'](_0x29f6a0(0x2e7)))logHistory('error',_0x147c80+'\x20rejected\x20your\x20API\x20request\x20(info:\x20hodlerhacks.com/fix/#api-rejected)'+pauseBotMsg),logger[_0x29f6a0(0x34b)](_0x29f6a0(0x32c),_0x555756),await pauseBot();else{if(_0x555756 instanceof ccxt[_0x29f6a0(0x1ff)])logHistory(_0x29f6a0(0x2cd),_0x147c80+_0x29f6a0(0x28d)+pauseBotMsg),logger[_0x29f6a0(0x34b)](_0x29f6a0(0x32c),_0x555756),await pauseBot();else{if(_0x555756['toString']()[_0x29f6a0(0x320)](_0x29f6a0(0x363)))logHistory(_0x29f6a0(0x2cd),_0x147c80+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x29f6a0(0x2cd),_0x29f6a0(0x2b1)),await killBot();else{if(_0x555756[_0x29f6a0(0x33d)]()[_0x29f6a0(0x320)](_0x29f6a0(0x2c7)))logHistory(_0x29f6a0(0x2cd),_0x147c80+'\x20API\x20secret\x20is\x20invalid'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(info:\x20hodlerhacks.com/fix/#api-invalid)'),await killBot();else{if(_0x555756['toString']()['includes'](_0x29f6a0(0x2dc)))logHistory('error',_0x147c80+_0x29f6a0(0x236)),logHistory(_0x29f6a0(0x2cd),_0x29f6a0(0x2b1)),await killBot();else{if(_0x555756[_0x29f6a0(0x33d)]()[_0x29f6a0(0x320)]('PermissionDenied'))logHistory(_0x29f6a0(0x2cd),_0x147c80+_0x29f6a0(0x2bd)),logHistory(_0x29f6a0(0x2cd),_0x29f6a0(0x2b1)),await killBot();else{if(_0x555756[_0x29f6a0(0x33d)]()[_0x29f6a0(0x320)](_0x29f6a0(0x245)))logHistory(_0x29f6a0(0x2cd),_0x29f6a0(0x338)+_0x176c18);else _0x555756 instanceof ccxt[_0x29f6a0(0x23a)]?(logHistory(_0x29f6a0(0x2cd),_0x147c80+_0x29f6a0(0x24e)),logger[_0x29f6a0(0x34b)](_0x29f6a0(0x32c),_0x555756)):(logHistory(_0x29f6a0(0x2cd),'Unknown\x20error\x20occured'+pauseBotMsg),logger['debug']('Error\x20details:',_0x555756),await pauseBot());}}}}}}}}}}}}}async function withRetry(_0x4f4bdd,_0x53c6d6){const _0x7d8fe3=_0x5b2a54;let _0x39ce3a=![],_0x35031d=0x0,_0x19f673,_0xaf1db4;while(_0x35031d<maxRetries){try{_0x19f673=await _0x53c6d6();break;}catch(_0xb999f9){_0xaf1db4=_0xb999f9,!_0x39ce3a?(_0x39ce3a=!![],logger[_0x7d8fe3(0x34b)](_0x7d8fe3(0x293)+_0x4f4bdd+':',_0xb999f9['toString']())):await sleep(retryInterval);}_0x35031d++;}if(_0x35031d==0x0)return _0x19f673;if(_0x35031d>=maxRetries)throw _0xaf1db4;else return logger['debug'](_0x7d8fe3(0x2d6)+_0x35031d+_0x7d8fe3(0x22f)),_0x19f673;}function formatResult(_0x3b8963,_0x4b3d9b){const _0x4616fa=_0x5b2a54;return parseFloat(_0x3b8963[_0x4616fa(0x2c9)](_0x4b3d9b));}function formatResultTruncate(_0x5c79ab,_0x487564){let _0xff2ac9=formatResultString(_0x5c79ab,0xa),_0x3ce7ca=_0xff2ac9['indexOf']('.');return _0x3ce7ca!=-0x1&&(_0xff2ac9=_0xff2ac9['slice'](0x0,_0x3ce7ca+_0x487564+0x1)),Number(_0xff2ac9);}function formatResultString(_0x16bae7,_0x44822){const _0x1d4d7d=_0x5b2a54;let _0x366c33;if(!(''+_0x16bae7)[_0x1d4d7d(0x320)]('e'))_0x366c33=+(Math[_0x1d4d7d(0x26b)](_0x16bae7+'e+'+_0x44822)+'e-'+_0x44822);else{let _0x3dcb53=(''+_0x16bae7)[_0x1d4d7d(0x217)]('e'),_0x3cd4f1='';+_0x3dcb53[0x1]+_0x44822>0x0&&(_0x3cd4f1='+'),_0x366c33=+(Math[_0x1d4d7d(0x26b)](+_0x3dcb53[0x0]+'e'+_0x3cd4f1+(+_0x3dcb53[0x1]+_0x44822))+'e-'+_0x44822);}return Number(_0x366c33)['toFixed'](_0x44822);}function getServerTime(){const _0x42764b=_0x5b2a54,_0x167db6=new Date();return _0x167db6[_0x42764b(0x1e5)]()+'/'+(_0x167db6[_0x42764b(0x265)]()+0x1)['toString']()[_0x42764b(0x1fa)](0x2,'0')+'/'+_0x167db6[_0x42764b(0x30a)]()[_0x42764b(0x33d)]()[_0x42764b(0x1fa)](0x2,'0')+'\x20'+_0x167db6[_0x42764b(0x24b)]()[_0x42764b(0x33d)]()[_0x42764b(0x1fa)](0x2,'0')+':'+_0x167db6['getMinutes']()[_0x42764b(0x33d)]()[_0x42764b(0x1fa)](0x2,'0')+':'+_0x167db6[_0x42764b(0x2e9)]()[_0x42764b(0x33d)]()[_0x42764b(0x1fa)](0x2,'0');}function getTimeStamp(){const _0x23fe18=_0x5b2a54,_0x332273=shiftedTime();return _0x332273[_0x23fe18(0x1e5)]()+'/'+(_0x332273[_0x23fe18(0x265)]()+0x1)[_0x23fe18(0x33d)]()['padStart'](0x2,'0')+'/'+_0x332273['getDate']()[_0x23fe18(0x33d)]()['padStart'](0x2,'0')+'\x20'+_0x332273[_0x23fe18(0x24b)]()['toString']()[_0x23fe18(0x1fa)](0x2,'0')+':'+_0x332273[_0x23fe18(0x2db)]()['toString']()[_0x23fe18(0x1fa)](0x2,'0')+':'+_0x332273['getSeconds']()[_0x23fe18(0x33d)]()[_0x23fe18(0x1fa)](0x2,'0');}function getDate(){const _0x273e8a=_0x5b2a54,_0x4dc944=shiftedTime();return _0x4dc944[_0x273e8a(0x1e5)]()+'/'+(_0x4dc944['getMonth']()+0x1)['toString']()[_0x273e8a(0x1fa)](0x2,'0')+'/'+_0x4dc944[_0x273e8a(0x30a)]()['toString']()[_0x273e8a(0x1fa)](0x2,'0');}function getHour(){const _0x115c0d=_0x5b2a54,_0x319daa=shiftedTime();return _0x319daa[_0x115c0d(0x24b)]()[_0x115c0d(0x33d)]()[_0x115c0d(0x1fa)](0x2,'0');}function sleep(_0x3dcff1){return new Promise(_0x467038=>setTimeout(_0x467038,_0x3dcff1));}function shiftedTime(){const _0x1bfa62=_0x5b2a54,_0x51be49=new Date();let _0x1029cb=_0x51be49;if(config&&config[_0x1bfa62(0x2c5)]!==0x0)_0x1029cb=fns[_0x1bfa62(0x27d)](_0x51be49,{'hours':config[_0x1bfa62(0x2c5)]});return _0x1029cb;}function _0x410a(_0x3b992b,_0x326d19){const _0x229598=_0x3d5a();return _0x410a=function(_0x5336b1,_0x409232){_0x5336b1=_0x5336b1-0x1e0;let _0x3d5a14=_0x229598[_0x5336b1];return _0x3d5a14;},_0x410a(_0x3b992b,_0x326d19);}function timer(_0xfbe6e2){const _0x210f70=_0x5b2a54,_0x2bfa9b=new Date();!lasttime?console[_0x210f70(0x221)](getTimeStamp()+_0x210f70(0x2a9),_0xfbe6e2,_0x2bfa9b):console[_0x210f70(0x221)](getTimeStamp()+_0x210f70(0x2a9),_0xfbe6e2,(_0x2bfa9b-lasttime)/0x3e8),lasttime=_0x2bfa9b;}