const _0x5c884d=_0x5731;(function(_0x278b04,_0x2a5d88){const _0x364b6e=_0x5731,_0x3226af=_0x278b04();while(!![]){try{const _0x2e29ec=-parseInt(_0x364b6e(0x21c))/0x1*(-parseInt(_0x364b6e(0x26b))/0x2)+-parseInt(_0x364b6e(0x167))/0x3+parseInt(_0x364b6e(0x1bb))/0x4*(-parseInt(_0x364b6e(0x210))/0x5)+-parseInt(_0x364b6e(0x27c))/0x6+parseInt(_0x364b6e(0x2ab))/0x7+parseInt(_0x364b6e(0x229))/0x8*(parseInt(_0x364b6e(0x2ac))/0x9)+-parseInt(_0x364b6e(0x1ca))/0xa*(parseInt(_0x364b6e(0x20f))/0xb);if(_0x2e29ec===_0x2a5d88)break;else _0x3226af['push'](_0x3226af['shift']());}catch(_0x516d5c){_0x3226af['push'](_0x3226af['shift']());}}}(_0x3d6e,0xaa199));const _0x296b4b=function(){let _0x2ad2d4=!![];return function(_0x53bab4,_0x1e978c){const _0x2fba0c=_0x2ad2d4?function(){const _0x44221a=_0x5731;if(_0x1e978c){const _0x21d236=_0x1e978c[_0x44221a(0x184)](_0x53bab4,arguments);return _0x1e978c=null,_0x21d236;}}:function(){};return _0x2ad2d4=![],_0x2fba0c;};}(),_0x1dff90=_0x296b4b(this,function(){const _0x3ef906=_0x5731;return _0x1dff90[_0x3ef906(0x224)]()[_0x3ef906(0x17a)](_0x3ef906(0x246))[_0x3ef906(0x224)]()[_0x3ef906(0x292)](_0x1dff90)[_0x3ef906(0x17a)](_0x3ef906(0x246));});_0x1dff90();'use strict';const ccxt=require(_0x5c884d(0x1e3))[_0x5c884d(0x255)],low=require(_0x5c884d(0x1d6)),FileSync=require(_0x5c884d(0x162)),fs=require('fs'),fns=require(_0x5c884d(0x1b5)),Crypt=require(_0x5c884d(0x23b))[_0x5c884d(0x164)],util=require(_0x5c884d(0x233)),argv=require(_0x5c884d(0x2af))(process[_0x5c884d(0x289)][_0x5c884d(0x257)](0x2))['argv'],path=require(_0x5c884d(0x18b));let exchange;global[_0x5c884d(0x252)]={},global[_0x5c884d(0x176)]={};const exceptions={'binance':[_0x5c884d(0x288),_0x5c884d(0x1de),_0x5c884d(0x178),_0x5c884d(0x1c9),_0x5c884d(0x15a)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5c884d(0x1d8)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x5c884d(0x2c4))[_0x5c884d(0x191)],botID=process[_0x5c884d(0x289)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console['log'](_0x5c884d(0x159)+botID+_0x5c884d(0x185)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x5c884d(0x15c),logspath=userID?_0x5c884d(0x181)+userID+'/':_0x5c884d(0x181),loggerfile=fs[_0x5c884d(0x278)](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs['mkdirSync'](configpath);!fs[_0x5c884d(0x22b)](logspath)&&fs[_0x5c884d(0x27f)](logspath);const configfile=configpath+_0x5c884d(0x26a)+botID+_0x5c884d(0x29d),logfile=configpath+_0x5c884d(0x26a)+botID+_0x5c884d(0x169),performancefile=configpath+_0x5c884d(0x26a)+botID+_0x5c884d(0x172),coinresultsfile=configpath+_0x5c884d(0x26a)+botID+_0x5c884d(0x274),settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x5c884d(0x1e4),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5c884d(0x225)]({'logs':[],'version':serverversion})[_0x5c884d(0x281)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5c884d(0x225)]({'data':[],'version':serverversion})[_0x5c884d(0x281)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5c884d(0x225)]({'bot':[],'version':serverversion})[_0x5c884d(0x281)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5c884d(0x225)]({'coins':[],'version':serverversion})[_0x5c884d(0x281)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5c884d(0x29c),'rsaStandard':_0x5c884d(0x2ae)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x2154ac=>{const _0x5dd8c6=_0x5c884d;console[_0x5dd8c6(0x1a1)](_0x2154ac);},'simple':_0x3b2fdf=>{const _0x54f0e8=_0x5c884d;console[_0x54f0e8(0x1a1)](_0x3b2fdf),loggerfile['write'](util[_0x54f0e8(0x216)](_0x3b2fdf)+'\x0a');},'full':async(_0xcb556d,_0x505404='')=>{const _0x1b1349=_0x5c884d;let _0xdc7f7a;if(config[_0x1b1349(0x1ee)])_0xdc7f7a=getTimeStamp()+':\x20'+config[_0x1b1349(0x1c2)]+_0x1b1349(0x2a0)+_0xcb556d;else _0xdc7f7a=getTimeStamp()+_0x1b1349(0x15f)+botID+'\x20>\x20'+_0xcb556d;console['log'](_0xdc7f7a),loggerfile[_0x1b1349(0x281)](util[_0x1b1349(0x216)](_0xdc7f7a)+'\x0a'),_0x505404&&(console[_0x1b1349(0x1a1)](_0x505404),loggerfile['write'](util['format'](_0x505404)+'\x0a'));},'debug':async(_0x443eb8,_0x521928='')=>{const _0x298b40=_0x5c884d;let _0x1975c8;if(config[_0x298b40(0x1ee)])_0x1975c8=getTimeStamp()+':\x20'+config[_0x298b40(0x1c2)]+_0x298b40(0x226)+_0x443eb8;else _0x1975c8=getTimeStamp()+':\x20Bot\x20'+botID+_0x298b40(0x226)+_0x443eb8;if(debugging)console['log'](_0x1975c8);loggerfile[_0x298b40(0x281)](util[_0x298b40(0x216)](_0x1975c8)+'\x0a');if(_0x521928){if(debugging)console['log'](_0x521928);loggerfile[_0x298b40(0x281)](util[_0x298b40(0x216)](_0x521928)+'\x0a');}}};process['on'](_0x5c884d(0x2c2),function(_0x2e2f16){const _0x54edbb=_0x5c884d;logger[_0x54edbb(0x196)](_0x2e2f16);});settings[_0x5c884d(0x1c8)]!=config[_0x5c884d(0x1c8)]&&updateTimeshift(settings[_0x5c884d(0x1c8)]);settings['onepagemode']!=config['onepagemode']&&updateOnepagemode(settings[_0x5c884d(0x235)]);process[_0x5c884d(0x234)]({'started':'running'},_0x59d510=>{}),initializeProcessListeners();function proxyEmit(_0x1cb7f6,_0x50ac1d=null){const _0x1e6d50=_0x5c884d;process[_0x1e6d50(0x234)]({'function':_0x1cb7f6,'args':_0x50ac1d},_0x38dcb5=>{});}function initializeProcessListeners(){const _0x8fe989=_0x5c884d;process['on'](_0x8fe989(0x23c),_0x4881d9=>{const _0x3445b8=_0x8fe989;switch(Object[_0x3445b8(0x275)](_0x4881d9)[0x0]){case _0x3445b8(0x1c8):_0x4881d9['timeshift']!=undefined&&(settings[_0x3445b8(0x1c8)]=_0x4881d9[_0x3445b8(0x1c8)],updateTimeshift(settings['timeshift']));break;case _0x3445b8(0x235):_0x4881d9[_0x3445b8(0x235)]!=undefined&&(settings[_0x3445b8(0x235)]=_0x4881d9['onepagemode'],updateOnepagemode(settings[_0x3445b8(0x235)]));break;case'bots':_0x4881d9['bots']!=undefined&&(bots=JSON[_0x3445b8(0x21e)](_0x4881d9[_0x3445b8(0x1cf)]),proxyEmit(_0x3445b8(0x1cf),bots));break;case _0x3445b8(0x2b5):switch(_0x4881d9[_0x3445b8(0x2b5)]){case _0x3445b8(0x247):initclient();break;case _0x3445b8(0x2cc):toggleBotMode();break;case _0x3445b8(0x232):emitHistory(_0x4881d9[_0x3445b8(0x218)]);break;case _0x3445b8(0x1bf):deleteHistoryAlerts(_0x4881d9['args']);break;case _0x3445b8(0x194):getPortfolio(_0x4881d9[_0x3445b8(0x218)]);break;case _0x3445b8(0x261):storeConfiguration(_0x4881d9[_0x3445b8(0x218)]);break;case _0x3445b8(0x2b2):storeHeadless(_0x4881d9[_0x3445b8(0x218)]);break;case'storeFiat':storeFiat(_0x4881d9[_0x3445b8(0x218)]);break;case'resetHistory':resetHistory();break;case _0x3445b8(0x1b6):getStartingBalances(getNormalizedPerformance());break;case _0x3445b8(0x26d):placeOrder(_0x4881d9[_0x3445b8(0x218)]);break;case'cancelLoading':cancelLoading();break;case _0x3445b8(0x1fd):showConfig();break;case _0x3445b8(0x282):sendMetricsTelegram();break;case _0x3445b8(0x1a9):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x41bb4a=null,_0x445ab7=![]){const _0x3c3989=_0x5c884d;logger['debug'](_0x3c3989(0x245)+(_0x41bb4a&&_0x41bb4a['length']>0x0?_0x3c3989(0x2b8)+_0x41bb4a[_0x3c3989(0x270)](','):_0x3c3989(0x2ca))+_0x3c3989(0x271)+(_0x445ab7?_0x3c3989(0x1fa):_0x3c3989(0x279)));if(pidBalances)clearTimeout(pidBalances);if(!_0x445ab7)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config['apiKey']!='***'){if(_0x445ab7){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x372805){handleErrorNoStop(_0x372805,_0x3c3989(0x209));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x41bb4a);const _0x5d1819=await getCoins();[currentCoins,currentCoinsAll]=_0x5d1819,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x3c3989(0x258)]==0x0&&allOpenOrders[_0x3c3989(0x258)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0xe8465c=_0x5c884d;logger[_0xe8465c(0x161)](_0xe8465c(0x1ff));while(lockOrders!=ORDERS[_0xe8465c(0x2ce)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0xe8465c(0x161)](_0xe8465c(0x25c)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x945fea=config[_0x5c884d(0x18f)],_0x386d96=config[_0x5c884d(0x24e)],_0x458a7d=config[_0x5c884d(0x1f3)],_0x4997c4=config['apiPassword']){const _0x43c45e=_0x5c884d;exchange&&await stopExchange();!supportedExchanges()[_0x43c45e(0x155)](_0x945fea)&&(logHistory(_0x43c45e(0x18a),_0x43c45e(0x23d)+_0x945fea+_0x43c45e(0x248)),killBot());const _0xd709a0=ccxt[_0x945fea[_0x43c45e(0x25d)]()];exchange=new _0xd709a0({'apiKey':_0x386d96,'secret':_0x458a7d,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x4997c4)exchange['apiPassword']=_0x4997c4;}function setStableCoins(){const _0x55a65c=_0x5c884d;let _0x201320=config[_0x55a65c(0x22a)]==_0x55a65c(0x244)?'ETH':_0x55a65c(0x237),_0xd4a937=!allSymbols[_0x55a65c(0x155)](_0x201320+_0x55a65c(0x2b0))?_0x55a65c(0x298):_0x55a65c(0x21f),_0x338490=!allSymbols['includes'](_0x201320+'/EUR')?_0xd4a937:'EUR';stablecoins={'eur':{'coin':''+_0x201320+_0x338490,'symbol':_0x201320+'/'+_0x338490},'usd':{'coin':''+_0x201320+_0xd4a937,'symbol':_0x201320+'/'+_0xd4a937}};}async function initwsCcxt(_0x264beb){const _0x29f15d=_0x5c884d;_0x264beb==null&&(_0x264beb=[],config[_0x29f15d(0x2a5)]['forEach'](_0x8a8276=>{const _0x50044b=_0x29f15d;if(!_0x8a8276[_0x50044b(0x267)]&&_0x8a8276[_0x50044b(0x23a)]!=config[_0x50044b(0x22a)])_0x264beb[_0x50044b(0x1e1)](_0x8a8276[_0x50044b(0x1d9)]);}));if(!_0x264beb[_0x29f15d(0x155)](stablecoins['eur'][_0x29f15d(0x1d9)]))_0x264beb[_0x29f15d(0x1e1)](stablecoins[_0x29f15d(0x20b)][_0x29f15d(0x1d9)]);if(!_0x264beb['includes'](stablecoins[_0x29f15d(0x1c0)][_0x29f15d(0x1d9)]))_0x264beb[_0x29f15d(0x1e1)](stablecoins['usd']['symbol']);if(config[_0x29f15d(0x18f)][_0x29f15d(0x193)](_0x29f15d(0x2cb))){if(!_0x264beb['includes'](_0x29f15d(0x175)+config['basecoin']))_0x264beb[_0x29f15d(0x1e1)](_0x29f15d(0x175)+config['basecoin']);}loadCoins(_0x264beb);const _0x1e5d1f=async _0x5101f2=>{const _0x482511=_0x29f15d,_0x122853=await exchange[_0x482511(0x19c)](_0x5101f2);global[_0x482511(0x252)][noslash(_0x122853[_0x482511(0x1d9)])]=_0x122853[_0x482511(0x1d5)];while(!![]){if(!botPaused)try{const _0x1c947e=await exchange[_0x482511(0x1d1)](_0x5101f2);global['ticker'][noslash(_0x1c947e[0x0][_0x482511(0x1d9)])]=_0x1c947e[0x0]['price'],await sleep(0x3e8);}catch(_0x54ad64){if(!exchangeStopped)await handleError(_0x54ad64,'watchTrades',_0x5101f2);}else await sleep(0x3e8);}},_0x6047a1=async _0x504369=>{const _0x405187=_0x29f15d;while(!![]){if(!botPaused)try{const _0x57dba8=await exchange['fetchTicker'](_0x504369);global[_0x405187(0x176)][_0x57dba8[_0x405187(0x1d9)]]=_0x57dba8[_0x405187(0x1a2)],await sleep(0x3c*0x3e8);}catch(_0x28e127){if(!exchangeStopped)await handleError(_0x28e127,_0x405187(0x1d7),_0x504369);}else await sleep(0x3e8);}},_0x5b2aa2=async()=>{const _0x425da1=_0x29f15d;while(!![]){if(!botPaused)try{const _0x578675=await exchange[_0x425da1(0x294)]();_0x578675[_0x425da1(0x297)](_0x5b5d48=>{updateNumberCoinsCcxt(_0x5b5d48);});}catch(_0x34fa98){if(!exchangeStopped)await handleError(_0x34fa98,_0x425da1(0x294));}else await sleep(0x3e8);}};_0x264beb[_0x29f15d(0x297)](async _0x12f756=>{_0x1e5d1f(_0x12f756),_0x6047a1(_0x12f756);}),!wsEventsSet&&(wsEventsSet=!![],_0x5b2aa2(),watchTransactions());}async function watchTransactions(){const _0x11aac6=_0x5c884d;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x3fc5f2=await getCoins(),[_0x3c21ac,_0x4bacac]=_0x3fc5f2;let _0x31027a=[];currentCoins[_0x11aac6(0x297)](_0xf9fcb6=>{const _0xc04a57=_0x11aac6,_0x4ef250=_0x3c21ac['find'](_0x5eea24=>_0x5eea24[_0xc04a57(0x23a)]==_0xf9fcb6['coin']);_0x4ef250&&(_0xf9fcb6[_0xc04a57(0x2a7)]!=_0x4ef250[_0xc04a57(0x2a7)]&&_0x31027a[_0xc04a57(0x1e1)]({'coin':_0xf9fcb6[_0xc04a57(0x23a)],'symbol':_0xf9fcb6[_0xc04a57(0x1d9)],'number':Number(formatResult(_0x4ef250[_0xc04a57(0x2a7)]-_0xf9fcb6[_0xc04a57(0x2a7)],0x8))}));});if(_0x31027a[_0x11aac6(0x258)]==0x1&&!blockTransactionDetection){logger[_0x11aac6(0x161)](_0x11aac6(0x195)+lastFees[_0x11aac6(0x24f)]+'\x20|\x20highest:\x20'+lastFees[_0x11aac6(0x26f)]);if(!lastFees[_0x11aac6(0x24f)]||_0x31027a[0x0][_0x11aac6(0x23a)]!=lastFees[_0x11aac6(0x24f)]||_0x31027a[0x0][_0x11aac6(0x2a7)]>lastFees['highest']){let _0x167722;if(_0x31027a[0x0]['coin']!=config[_0x11aac6(0x22a)]){let _0x4a2b91=global[_0x11aac6(0x252)][noslash(_0x31027a[0x0][_0x11aac6(0x1d9)])];_0x167722=_0x31027a[0x0][_0x11aac6(0x1ac)]?0x1/_0x4a2b91:_0x4a2b91;}else _0x167722=0x1;_0x31027a[0x0][_0x11aac6(0x2b4)]=_0x167722,delete _0x31027a[0x0][_0x11aac6(0x1d9)];let _0xb3ab7d=[],_0xa1e51f=[...config['liquidity']]||[],_0x3e68b8=config[_0x11aac6(0x171)];_0xa1e51f[_0x11aac6(0x262)]((_0x3eb922,_0x35d5da)=>_0x3eb922[_0x11aac6(0x2c3)]>_0x35d5da['date']?-0x1:_0x35d5da['date']>_0x3eb922[_0x11aac6(0x2c3)]?0x1:0x0);const _0x2447c8=getDate();if(_0xa1e51f[0x0]){const _0x11bd77=fns[_0x11aac6(0x21e)](_0xa1e51f[0x0][_0x11aac6(0x2c3)],_0x11aac6(0x16a),new Date()),_0x1b00ca=fns[_0x11aac6(0x21e)](_0x2447c8,_0x11aac6(0x16a),new Date());if(fns[_0x11aac6(0x1cd)](_0x11bd77,_0x1b00ca)){_0xb3ab7d=_0xa1e51f[0x0][_0x11aac6(0x1d3)];const _0x2b5d1c=_0xb3ab7d[_0x11aac6(0x227)](_0x3b5dce=>_0x3b5dce[_0x11aac6(0x23a)]==_0x31027a[0x0][_0x11aac6(0x23a)]);_0x2b5d1c?(_0x2b5d1c['number']+=_0x31027a[0x0][_0x11aac6(0x2a7)],_0x2b5d1c[_0x11aac6(0x2a7)]==0x0&&(_0xb3ab7d=_0xb3ab7d[_0x11aac6(0x1ce)](_0x5813fd=>{const _0xbd1fd9=_0x11aac6;return _0x5813fd[_0xbd1fd9(0x23a)]!=_0x31027a[0x0][_0xbd1fd9(0x23a)];}))):_0xb3ab7d[_0x11aac6(0x1e1)](_0x31027a[0x0]);const _0x2acf21=_0x3e68b8['find'](_0x5dd530=>_0x5dd530[_0x11aac6(0x2c3)]==_0x2447c8);_0x2acf21['changes']=_0xb3ab7d;}else _0x3e68b8[_0x11aac6(0x1e1)]({'date':_0x2447c8,'changes':[_0x31027a[0x0]]});}const _0x596fe9=_0x3e68b8[_0x11aac6(0x227)](_0x4c3891=>_0x4c3891[_0x11aac6(0x2c3)]==_0x2447c8);if(_0x596fe9){let _0xb73a2c=!![];_0x596fe9[_0x11aac6(0x1d3)]['forEach'](_0x3906db=>{const _0x5b0f70=_0x11aac6;if(_0x3906db[_0x5b0f70(0x2a7)]!=0x0)_0xb73a2c=![];}),_0xb73a2c&&(_0x3e68b8=_0x3e68b8[_0x11aac6(0x1ce)](_0x5f1235=>{const _0x48c26b=_0x11aac6;return _0x5f1235[_0x48c26b(0x2c3)]!=_0x2447c8;}));}let _0x3c8871=dbConfig[_0x11aac6(0x256)](_0x11aac6(0x180))[_0x11aac6(0x227)]({'botID':botID})[_0x11aac6(0x2c8)]();_0x3c8871&&(dbConfig[_0x11aac6(0x256)](_0x11aac6(0x180))[_0x11aac6(0x227)]({'botID':botID})[_0x11aac6(0x21b)]({'liquidity':_0x3e68b8})[_0x11aac6(0x281)](),config['liquidity']=_0x3e68b8),logHistory(_0x11aac6(0x277),_0x11aac6(0x24b)+Math[_0x11aac6(0x179)](_0x31027a[0x0][_0x11aac6(0x2a7)])+'\x20'+_0x31027a[0x0][_0x11aac6(0x23a)]+'\x20'+(_0x31027a[0x0][_0x11aac6(0x2a7)]>0x0?'added':'removed')+_0x11aac6(0x285)),proxyEmit(_0x11aac6(0x27b),emittedConfiguration());}else logger['debug']('Fee\x20discount\x20refund\x20detected:\x20'+Math['abs'](_0x31027a[0x0][_0x11aac6(0x2a7)])+'\x20'+_0x31027a[0x0]['coin']+'\x20'+(_0x31027a[0x0][_0x11aac6(0x2a7)]>0x0?_0x11aac6(0x17d):'removed'));transactionDetected=!![],currentCoins=_0x3c21ac,currentCoinsAll=_0x4bacac;}await sleep(watchTransactionsInterval);}catch(_0x2dffc7){if(!exchangeStopped)await handleError(_0x2dffc7,'watchTransactions');}else await sleep(0x3e8);}}async function loadSymbols(_0x53856f=config[_0x5c884d(0x18f)],_0x3acca0=![]){const _0x28315f=_0x5c884d;if(allSymbols&&!_0x3acca0)return;try{markets=await exchange[_0x28315f(0x170)](),allSymbols=exchange['symbols'][_0x28315f(0x1ce)](_0x372314=>{const _0x2d3a7a=_0x28315f;let _0x21df96=![];const _0x5a4b5d=exceptions[_0x53856f[_0x2d3a7a(0x25d)]()]||[];return _0x5a4b5d['forEach'](_0x548609=>{const _0x40caeb=_0x2d3a7a;if(_0x372314[_0x40caeb(0x155)](_0x548609))_0x21df96=!![];}),!_0x21df96;});}catch(_0x49361c){throw _0x49361c;}}async function initclient(){const _0x1c4192=_0x5c884d;emitLoadingProgress(),proxyEmit(_0x1c4192(0x27b),emittedConfiguration()),proxyEmit(_0x1c4192(0x263),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1c4192(0x1e8),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2919d7=getNormalizedPerformance();emitPerformance(_0x2919d7),getStartingBalances(_0x2919d7);}async function toggleBotMode(){const _0x2f5383=_0x5c884d;let _0x41089b=dbConfig[_0x2f5383(0x256)](_0x2f5383(0x180))['find']({'botID':botID})[_0x2f5383(0x2c8)]();if(_0x41089b){const _0x2a9cb6=!_0x41089b[_0x2f5383(0x1c7)];dbConfig[_0x2f5383(0x256)]('bot')[_0x2f5383(0x227)]({'botID':botID})[_0x2f5383(0x21b)]({'headless':_0x2a9cb6})[_0x2f5383(0x281)](),config[_0x2f5383(0x1c7)]=_0x2a9cb6,proxyEmit(_0x2f5383(0x27b),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3ad541=_0x5c884d;process[_0x3ad541(0x234)]({'updatebotmanager':!![]},_0x56b9c8=>{});}async function loadCoins(_0x52bf07){const _0x14b330=_0x5c884d;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x32a7ab,_0x3a837d=0x0,_0x5e0e2f=0x0;_0x52bf07['forEach'](_0x47b412=>{const _0x57bbfe=_0x5731;loading[_0x57bbfe(0x1a6)][_0x57bbfe(0x1e1)](_0x47b412);}),loadingCanceled=![];let _0x1d39e8=![];while(_0x32a7ab!=_0x52bf07[_0x14b330(0x258)]){_0x32a7ab=0x0,_0x52bf07[_0x14b330(0x297)](_0x4879d5=>{const _0x1ee92a=_0x14b330;if(global['ticker'][noslash(_0x4879d5)]){loading[_0x1ee92a(0x1a6)]=loading[_0x1ee92a(0x1a6)]['filter'](_0x4a8218=>_0x4a8218!=_0x4879d5);if(!watchedSymbols[_0x1ee92a(0x155)](_0x4879d5))watchedSymbols[_0x1ee92a(0x1e1)](_0x4879d5);_0x32a7ab++;}}),loading[_0x14b330(0x249)]=Math[_0x14b330(0x2a2)](_0x32a7ab/_0x52bf07[_0x14b330(0x258)]*0x64);loading[_0x14b330(0x249)]!=0x64&&(_0x5e0e2f>0x1e*0x5&&(loading[_0x14b330(0x1db)]=!![],emitLoadingProgress()),_0x5e0e2f>0x78*0x5&&!_0x1d39e8&&(loading['cancel']=!![],emitLoadingProgress(),_0x1d39e8=!![],logHistory(_0x14b330(0x18a),_0x14b330(0x242)+loading[_0x14b330(0x1a6)][_0x14b330(0x270)](',\x20')+_0x14b330(0x192)),logHistory(_0x14b330(0x18a),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x14b330(0x21d)),pidCoinReloading=setTimeout(()=>{const _0x55e473=_0x14b330;process['send']({'stop':_0x55e473(0x1ad)},_0x1bc829=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x14b330(0x17c)]=!![],emitLoadingProgress();break;}else _0x32a7ab!=_0x3a837d&&(_0x3a837d=_0x32a7ab,emitLoadingProgress()),_0x5e0e2f++,await sleep(0xc8);}_0x32a7ab==_0x52bf07[_0x14b330(0x258)]&&(coinsLoaded=!![],process[_0x14b330(0x234)]({'status':_0x14b330(0x1b1),'live':'running'},_0x451d64=>{}),_0x1d39e8&&logHistory(_0x14b330(0x277),_0x14b330(0x1bd)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x5452af=_0x5c884d;proxyEmit(_0x5452af(0x27b),{...emittedConfiguration(),'configstate':_0x5452af(0x25f)});}function emitLoadingProgress(){const _0x4c353c=_0x5c884d;proxyEmit(_0x4c353c(0x16b),loading);}async function getFiat(){const _0x5e8820=_0x5c884d;let _0xf41701=global['ticker'][stablecoins[_0x5e8820(0x20b)][_0x5e8820(0x23a)]],_0x28d2a4=global[_0x5e8820(0x252)][stablecoins[_0x5e8820(0x1c0)][_0x5e8820(0x23a)]];return{'eur':Number(_0xf41701),'usd':Number(_0x28d2a4)};}function capitalize(_0x5b6bca){const _0x4ed926=_0x5c884d;return _0x5b6bca[_0x4ed926(0x19f)](0x0,0x1)['toUpperCase']()+_0x5b6bca[_0x4ed926(0x19f)](0x1);}function supportedExchanges(){const _0x88283c=_0x5c884d,_0x1cea85=['ws',_0x88283c(0x1d7),_0x88283c(0x19c),_0x88283c(0x1d1),'watchOrders','cancelOrder',_0x88283c(0x28c),'fetchOpenOrders',_0x88283c(0x186),'fetchBalance'];let _0x1e17b0=[],_0x5842fa=[],_0x1e9dee=ccxt[_0x88283c(0x263)];_0x1e9dee['forEach'](_0x16f713=>{const _0x403992=_0x88283c;try{const _0x29092b=new ccxt[_0x16f713]();if(_0x29092b[_0x403992(0x1da)]['ws'])_0x5842fa[_0x403992(0x1e1)](_0x29092b);}catch(_0x57af02){}}),_0x5842fa[_0x88283c(0x297)](_0x1bb90b=>{const _0x276e92=_0x88283c;let _0x3cb4ab=0x0;_0x1cea85[_0x276e92(0x297)](_0x10b9fc=>{const _0x5021c0=_0x276e92;_0x10b9fc in _0x1bb90b['has']&&_0x1bb90b[_0x5021c0(0x1da)][_0x10b9fc]&&_0x3cb4ab++;}),_0x3cb4ab==_0x1cea85[_0x276e92(0x258)]&&_0x1e17b0[_0x276e92(0x1e1)](capitalize(_0x1bb90b['id']));});let _0x23af10=[];return _0x1e9dee[_0x88283c(0x297)](_0x2ea7de=>{const _0x3686ec=_0x88283c;_0x2ea7de=capitalize(_0x2ea7de);if(!_0x1e17b0['includes'](_0x2ea7de))_0x23af10[_0x3686ec(0x1e1)](_0x2ea7de);}),_0x1e17b0;}function setStartDatePerformance(){const _0x12b18a=_0x5c884d;if(config&&config[_0x12b18a(0x171)][0x0][_0x12b18a(0x1d3)]['length']!=0x0){const _0x3e8a81=config['liquidity'][0x0][_0x12b18a(0x1d3)];dbPerformance['get']('data')[_0x12b18a(0x227)]({'date':config[_0x12b18a(0x213)]})[_0x12b18a(0x21b)]({'coins':_0x3e8a81})[_0x12b18a(0x281)]();}}async function recreateCoinResults(){const _0x16f76f=_0x5c884d;let _0x516592,_0x209468=[];try{const _0xa7d1cd=fns[_0x16f76f(0x216)](fns['parseISO'](config[_0x16f76f(0x213)][_0x16f76f(0x1eb)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x7d3593 of currentCoins){if(_0x7d3593[_0x16f76f(0x23a)]!=config[_0x16f76f(0x22a)]){let _0x779569=0x0,_0xbab9f8,_0x130fe3;_0x516592=await getAllEventOrders(_0x7d3593[_0x16f76f(0x1d9)]);if(_0x516592['length']>0x0)_0x516592[_0x16f76f(0x297)](_0x35cd27=>{const _0x57af1a=_0x16f76f,_0x2692c1=_0x7d3593['symbol'][_0x57af1a(0x155)](config['basecoin']+'/');_0x209468['push']({'datetime':_0x35cd27[_0x57af1a(0x214)],'coin':_0x7d3593[_0x57af1a(0x23a)],'symbol':_0x7d3593[_0x57af1a(0x1d9)],'side':_0x35cd27[_0x57af1a(0x1d4)],'reverse':_0x2692c1,'amount':formatResult(_0x35cd27[_0x57af1a(0x1a4)],0x8),'filled':formatResult(_0x35cd27[_0x57af1a(0x1a4)],0x8),'price':formatResult(_0x35cd27[_0x57af1a(0x2b4)],0x8)}),_0x779569=_0x35cd27[_0x57af1a(0x1d4)]==_0x57af1a(0x28f)?_0x779569+_0x35cd27[_0x57af1a(0x1a4)]:_0x779569-_0x35cd27[_0x57af1a(0x1a4)];if(!_0x130fe3)_0x130fe3=_0x35cd27[_0x57af1a(0x2b4)];});_0xbab9f8=_0x7d3593[_0x16f76f(0x2a7)]-_0x779569;let _0x848d52;config[_0x16f76f(0x171)][_0x16f76f(0x297)](_0x4e54ba=>{const _0x5d754d=_0x16f76f;!_0x848d52&&(_0x848d52=_0x4e54ba[_0x5d754d(0x1d3)][_0x5d754d(0x227)](_0x1c5f07=>_0x1c5f07[_0x5d754d(0x23a)]==_0x7d3593[_0x5d754d(0x23a)]),_0x848d52&&(_0xbab9f8=_0x848d52['number'],_0x130fe3=_0x848d52[_0x5d754d(0x2b4)]));});let _0x363614=dbCoinResults[_0x16f76f(0x256)]('coins')[_0x16f76f(0x227)]({'coin':_0x7d3593[_0x16f76f(0x23a)]})[_0x16f76f(0x2c8)]();_0x363614={'coin':_0x7d3593[_0x16f76f(0x23a)],'number':_0xbab9f8,'breakeven':_0x130fe3,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x16f76f(0x256)](_0x16f76f(0x19b))['find']({'coin':_0x7d3593[_0x16f76f(0x23a)]})[_0x16f76f(0x21b)](_0x363614)[_0x16f76f(0x281)]();}}_0x209468[_0x16f76f(0x262)]((_0x150cc0,_0x1215a6)=>_0x150cc0['datetime']>_0x1215a6[_0x16f76f(0x214)]?0x1:_0x1215a6[_0x16f76f(0x214)]>_0x150cc0[_0x16f76f(0x214)]?-0x1:0x0);let _0x3fc405=0x0;for(let _0x555bae of _0x209468){await updateCoinResults(_0x555bae,!![]);}}catch(_0x50e621){await handleError(_0x50e621,'recreateCoinResults()');}}function _0x5731(_0xe5162f,_0x33cd5c){const _0x413ba8=_0x3d6e();return _0x5731=function(_0x1dff90,_0x296b4b){_0x1dff90=_0x1dff90-0x153;let _0x3d6e4c=_0x413ba8[_0x1dff90];return _0x3d6e4c;},_0x5731(_0xe5162f,_0x33cd5c);}async function getAllEventOrders(_0x2fdcdd){const _0x745fce=_0x5c884d;let _0x572eed=[],_0x380815=dbLogs[_0x745fce(0x256)](_0x745fce(0x239))[_0x745fce(0x1ce)](_0x37e131=>{const _0x59fabd=_0x745fce,_0x271109=_0x37e131[_0x59fabd(0x1f0)]['toLowerCase']();return _0x271109[_0x59fabd(0x155)](_0x2fdcdd['toLowerCase']())&&(_0x271109[_0x59fabd(0x155)](_0x59fabd(0x1b8))&&_0x271109['includes'](_0x59fabd(0x264))||_0x271109[_0x59fabd(0x155)](_0x59fabd(0x1a4))&&_0x271109['includes'](_0x59fabd(0x264)));})[_0x745fce(0x200)](_0x745fce(0x17e))[_0x745fce(0x2c8)]();return _0x380815[_0x745fce(0x297)](_0x1c5f53=>{const _0x185c4d=_0x745fce,_0x230e2f=_0x1c5f53[_0x185c4d(0x1f0)][_0x185c4d(0x155)](_0x185c4d(0x240))?_0x185c4d(0x240):_0x185c4d(0x28f),_0x57f3af=/#([0-9]|\.)+\s/i,_0x5ddc48=Number(_0x57f3af[_0x185c4d(0x29a)](_0x1c5f53[_0x185c4d(0x1f0)])[0x0]['slice'](0x1)),_0x249d43=/@([0-9]|\.)+$/i,_0xcd11a9=Number(_0x249d43['exec'](_0x1c5f53[_0x185c4d(0x1f0)])[0x0][_0x185c4d(0x257)](0x1));_0x572eed[_0x185c4d(0x1e1)]({'datetime':_0x1c5f53[_0x185c4d(0x17e)],'coin':symbolToCoin(_0x2fdcdd),'symbol':_0x2fdcdd,'side':_0x230e2f,'amount':_0x5ddc48,'filled':_0x5ddc48,'price':_0xcd11a9});}),_0x572eed;}async function getAllOrders(_0x26e399,_0x4c6525){const _0x4bd8d4=_0x5c884d;let _0x1b37f7=[];while(_0x4c6525<exchange[_0x4bd8d4(0x1ec)]()){const _0x4382ec=0x1f4,_0xcdea2b=await exchange['fetchClosedOrders'](_0x26e399,_0x4c6525,_0x4382ec);if(_0xcdea2b['length'])_0x4c6525=_0xcdea2b[_0xcdea2b['length']-0x1]['timestamp']+0x1,_0x1b37f7=_0x1b37f7[_0x4bd8d4(0x2cf)](_0xcdea2b);else break;}return _0x1b37f7;}async function validate24hChanges(){const _0x30b66b=_0x5c884d;for(const _0x279726 of currentCoins){if(_0x279726['coin']!=config[_0x30b66b(0x22a)]){let _0x51e0ad;_0x279726[_0x30b66b(0x1ac)]?_0x51e0ad=formatResult((0x1/(global[_0x30b66b(0x176)][noslash(_0x279726[_0x30b66b(0x1d9)])]/0x64+0x1)-0x1)*0x64,0x3):_0x51e0ad=global['change'][noslash(_0x279726['symbol'])],_0x51e0ad<config[_0x30b66b(0x24c)]&&(logHistory(_0x30b66b(0x18a),_0x279726[_0x30b66b(0x23a)]+_0x30b66b(0x16d)+_0x51e0ad+'%'),logHistory(_0x30b66b(0x18a),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x30b66b(0x223)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x4ac93b,_0x5805e0){const _0x215d8a=_0x5c884d;if(!_0x4ac93b)return!![];const _0x599224=_0x5805e0[_0x215d8a(0x2a1)]('.'),_0x8e6c9a=_0x4ac93b[_0x215d8a(0x2a1)]('.');for(var _0x2dcb92=0x0;_0x2dcb92<_0x8e6c9a['length'];_0x2dcb92++){const _0x5070d4=~~_0x8e6c9a[_0x2dcb92],_0x1909ae=~~_0x599224[_0x2dcb92];if(_0x5070d4<_0x1909ae)return!![];if(_0x5070d4>_0x1909ae)return![];}return![];}async function oneTimeMigration(){const _0x1c4831=_0x5c884d;let _0x3045a3=dbLogs[_0x1c4831(0x256)](_0x1c4831(0x191))[_0x1c4831(0x2c8)]();if(isOlderVersion(_0x3045a3,_0x1c4831(0x219))){let _0x1c3caa=[];const _0x39ad33=dbLogs[_0x1c4831(0x256)](_0x1c4831(0x239))[_0x1c4831(0x2c8)]();_0x39ad33[_0x1c4831(0x297)](_0x121816=>{const _0x13043e=_0x1c4831;_0x1c3caa[_0x13043e(0x1e1)]({'time':_0x121816[_0x13043e(0x17e)],'type':_0x121816[_0x13043e(0x2ba)],'event':_0x121816[_0x13043e(0x1f0)]});}),dbLogs[_0x1c4831(0x256)](_0x1c4831(0x239))['assign'](_0x1c3caa)['write']();}let _0x2ac21f=dbConfig['get'](_0x1c4831(0x191))[_0x1c4831(0x2c8)]();if(isOlderVersion(_0x2ac21f,_0x1c4831(0x219))){let _0xa90f6a=dbConfig[_0x1c4831(0x256)](_0x1c4831(0x180))[_0x1c4831(0x227)]({'botID':botID})['value']();if(_0xa90f6a){let _0x2c3b18=[];_0xa90f6a[_0x1c4831(0x2a5)][_0x1c4831(0x297)](_0x51825b=>{const _0xa56dfa=_0x1c4831;_0x2c3b18['push']({'coin':_0x51825b[_0xa56dfa(0x23a)],'number':_0x51825b[_0xa56dfa(0x1ba)],'price':_0x51825b[_0xa56dfa(0x177)]}),delete _0x51825b[_0xa56dfa(0x1ba)],delete _0x51825b['startprice'];});if(_0x2c3b18[_0x1c4831(0x258)]!==0x0)fs['writeFile'](configbackuppath+(_0x1c4831(0x265)+botID+_0x1c4831(0x269)),JSON[_0x1c4831(0x1df)](_0x2c3b18,null,0x4),function(_0xe9556b){if(_0xe9556b){}});const _0x2292fe=(_0xea5c24,_0x195057)=>{const _0x1864b2=_0x1c4831;let _0x33204e=[];_0x195057['forEach'](_0x2cea64=>{const _0x49a725=_0x5731,_0x465ebf=_0xea5c24[_0x49a725(0x227)](_0x40d4b0=>_0x40d4b0[_0x49a725(0x23a)]==_0x2cea64[_0x49a725(0x23a)]);if(!_0x465ebf)_0x33204e['push'](_0x2cea64);});let _0x39764b=[];return _0xea5c24[_0x1864b2(0x297)](_0x330dfd=>{const _0x127979=_0x1864b2,_0x3bbc64=_0x195057['find'](_0x2ea2e1=>_0x2ea2e1[_0x127979(0x23a)]==_0x330dfd[_0x127979(0x23a)]);if(!_0x3bbc64||_0x3bbc64['number']==0x0&&_0x330dfd[_0x127979(0x2a7)]!=0x0)_0x39764b[_0x127979(0x1e1)](_0x330dfd);}),{'missingDay1':_0x33204e,'notInDay2':_0x39764b};},_0x32dca4=dbPerformance[_0x1c4831(0x256)]('data')['cloneDeep']()[_0x1c4831(0x2c8)]();if(_0x32dca4['length']>0x1){const {missingDay1:_0x531c26,notInDay2:_0x95a016}=_0x2292fe(_0x2c3b18,_0x32dca4[0x1][_0x1c4831(0x19b)]);_0x2c3b18=[..._0x2c3b18,..._0x531c26],_0x95a016[_0x1c4831(0x297)](_0x475b40=>{const _0x5bf27c=_0x1c4831;let _0x3e0dbf=_0x2c3b18[_0x5bf27c(0x228)](_0x1f42be=>_0x1f42be[_0x5bf27c(0x23a)]==_0x475b40['coin']);_0x3e0dbf!=-0x1&&_0x2c3b18[_0x5bf27c(0x1f9)](_0x3e0dbf,0x1);});}_0x2c3b18['sort']((_0x461370,_0x4dcdac)=>_0x461370[_0x1c4831(0x23a)]>_0x4dcdac[_0x1c4831(0x23a)]?0x1:_0x4dcdac[_0x1c4831(0x23a)]>_0x461370[_0x1c4831(0x23a)]?-0x1:0x0);let _0x34ae3a=[{'date':_0xa90f6a[_0x1c4831(0x213)],'changes':_0x2c3b18}];_0x32dca4[_0x1c4831(0x258)]>0x2&&_0x32dca4[_0x1c4831(0x297)]((_0xa36402,_0x56b7de)=>{const _0x31c8f3=_0x1c4831;if(_0x56b7de>0x0&&_0x56b7de<_0x32dca4[_0x31c8f3(0x258)]-0x1){const {missingDay1:_0x330475,notInDay2:_0x91ff22}=_0x2292fe(_0x32dca4[_0x56b7de]['coins'],_0x32dca4[_0x56b7de+0x1]['coins']);_0x2c3b18=[],(_0x330475[_0x31c8f3(0x258)]!=0x0||_0x91ff22[_0x31c8f3(0x258)]!=0x0)&&(_0x330475['length']!=0x0&&_0x2c3b18[_0x31c8f3(0x1e1)](..._0x330475),_0x91ff22[_0x31c8f3(0x258)]!=0x0&&(_0x91ff22[_0x31c8f3(0x297)](_0x2e31a0=>{const _0x115082=_0x31c8f3;_0x2e31a0[_0x115082(0x2a7)]=-_0x2e31a0['number'];}),_0x2c3b18['push'](..._0x91ff22)),_0x2c3b18[_0x31c8f3(0x262)]((_0x32280c,_0x513da0)=>_0x32280c[_0x31c8f3(0x23a)]>_0x513da0[_0x31c8f3(0x23a)]?0x1:_0x513da0[_0x31c8f3(0x23a)]>_0x32280c[_0x31c8f3(0x23a)]?-0x1:0x0),_0x34ae3a['push']({'date':_0x32dca4[_0x56b7de+0x1][_0x31c8f3(0x2c3)],'changes':_0x2c3b18}));}}),dbConfig[_0x1c4831(0x256)]('bot')[_0x1c4831(0x227)]({'botID':botID})['assign']({..._0xa90f6a,'liquidity':_0x34ae3a})[_0x1c4831(0x281)]();}}if(isOlderVersion(_0x2ac21f,'2.6.0')){let _0x30b1b6=dbConfig[_0x1c4831(0x256)]('bot')[_0x1c4831(0x227)]({'botID':botID})[_0x1c4831(0x2c8)]();if(_0x30b1b6){const _0x9da1e6=_0x30b1b6[_0x1c4831(0x18f)],_0xe702ff=_0x9da1e6?capitalize(_0x9da1e6):_0x1c4831(0x2cb);dbConfig[_0x1c4831(0x256)](_0x1c4831(0x180))[_0x1c4831(0x227)]({'botID':botID})[_0x1c4831(0x21b)]({'exchange':_0xe702ff})['write']();}}let _0x366eb9=dbPerformance[_0x1c4831(0x256)](_0x1c4831(0x191))[_0x1c4831(0x2c8)]();isOlderVersion(_0x366eb9,_0x1c4831(0x219))&&setStartDatePerformance();let _0x3d6f6c=dbCoinResults[_0x1c4831(0x256)](_0x1c4831(0x191))[_0x1c4831(0x2c8)]();if(isOlderVersion(_0x3d6f6c,_0x1c4831(0x17f))){let _0x3cf479=dbCoinResults[_0x1c4831(0x256)](_0x1c4831(0x19b))[_0x1c4831(0x2c8)]();if(_0x3cf479['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x219449=_0x5c884d;dbConfig[_0x219449(0x205)]('version',serverversion)[_0x219449(0x281)](),dbPerformance[_0x219449(0x205)](_0x219449(0x191),serverversion)[_0x219449(0x281)](),dbLogs['set']('version',serverversion)[_0x219449(0x281)](),dbCoinResults[_0x219449(0x205)](_0x219449(0x191),serverversion)[_0x219449(0x281)]();}function getConfiguration(_0x24916b){const _0x301727=_0x5c884d;let _0x4ca236=dbConfig['get']('bot')[_0x301727(0x227)]({'botID':_0x24916b})[_0x301727(0x2c8)]();if(_0x4ca236){let _0x156a95=![];typeof _0x4ca236[_0x301727(0x1d0)]==_0x301727(0x284)&&(_0x4ca236={..._0x4ca236,'threshold':Number(_0x4ca236['threshold'])},_0x156a95=!![]),_0x4ca236['change24h']==null&&(_0x4ca236={..._0x4ca236,'change24h':-0x14},_0x156a95=!![]),!_0x4ca236['fiat']&&(_0x4ca236={..._0x4ca236,'fiat':_0x301727(0x21f)},_0x156a95=!![]),!_0x4ca236[_0x301727(0x235)]&&(_0x4ca236={..._0x4ca236,'onepagemode':settings[_0x301727(0x235)]},_0x156a95=!![]),_0x156a95&&(_0x4ca236={'botID':_0x4ca236[_0x301727(0x222)],'exchange':_0x4ca236[_0x301727(0x18f)],'apiKey':_0x4ca236['apiKey'],'apiSecret':_0x4ca236['apiSecret'],'apiPassword':_0x4ca236[_0x301727(0x1e0)],'basecoin':_0x4ca236['basecoin'],'botname':_0x4ca236[_0x301727(0x1c2)],'showname':_0x4ca236[_0x301727(0x1ee)],'threshold':_0x4ca236[_0x301727(0x1d0)],'ordertype':_0x4ca236[_0x301727(0x291)],'timeout':_0x4ca236[_0x301727(0x1db)],'fiat':_0x4ca236[_0x301727(0x29e)],'startdate':_0x4ca236[_0x301727(0x213)],'recreate':_0x4ca236[_0x301727(0x280)],'timeshift':_0x4ca236[_0x301727(0x1c8)],'onepagemode':_0x4ca236[_0x301727(0x235)],'headless':_0x4ca236['headless'],'cooldown':_0x4ca236[_0x301727(0x165)],'change24h':_0x4ca236['change24h'],'emojibuy':_0x4ca236[_0x301727(0x2ad)],'emojisell':_0x4ca236[_0x301727(0x208)],'portfolio':_0x4ca236[_0x301727(0x2a5)],'liquidity':_0x4ca236[_0x301727(0x171)],'openOrders':_0x4ca236[_0x301727(0x2b9)]},dbConfig[_0x301727(0x256)](_0x301727(0x180))['remove']()[_0x301727(0x281)](),dbConfig[_0x301727(0x256)]('bot')[_0x301727(0x1e1)](_0x4ca236)[_0x301727(0x281)]());}else _0x4ca236={'botID':_0x24916b,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x24916b,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x301727(0x21f),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x301727(0x1c8)],'onepagemode':settings[_0x301727(0x235)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4ca236;}function emittedConfiguration(){const _0x5ced02=_0x5c884d;let _0x4e0e3c;if(config[_0x5ced02(0x24e)]=='')_0x4e0e3c={...config,'configstate':_0x5ced02(0x286)};else config[_0x5ced02(0x24e)]==_0x5ced02(0x251)?_0x4e0e3c={...config,'configstate':_0x5ced02(0x254)}:(_0x4e0e3c={...config,'apiKey':_0x5ced02(0x24a),'apiSecret':_0x5ced02(0x24a)},config[_0x5ced02(0x1e0)]&&(_0x4e0e3c[_0x5ced02(0x1e0)]='************'));return _0x4e0e3c;}function getSettings(){const _0x2feb80=_0x5c884d;return dbSettings[_0x2feb80(0x256)]('settings')['value']();}function getSecure(){const _0x53b368=_0x5c884d;return dbSecure[_0x53b368(0x256)](_0x53b368(0x189))['value']()||{};}function updateTimeshift(_0xec482d){const _0xc448ef=_0x5c884d;let _0x334842=dbConfig[_0xc448ef(0x256)]('bot')[_0xc448ef(0x227)]({'botID':botID})[_0xc448ef(0x2c8)]();_0x334842&&dbConfig[_0xc448ef(0x256)]('bot')['find']({'botID':botID})[_0xc448ef(0x21b)]({'timeshift':_0xec482d})[_0xc448ef(0x281)](),config[_0xc448ef(0x1c8)]=_0xec482d,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x35c558){const _0x4cb573=_0x5c884d;let _0x1c463f=dbConfig[_0x4cb573(0x256)](_0x4cb573(0x180))['find']({'botID':botID})[_0x4cb573(0x2c8)]();_0x1c463f&&dbConfig[_0x4cb573(0x256)](_0x4cb573(0x180))[_0x4cb573(0x227)]({'botID':botID})[_0x4cb573(0x21b)]({'onepagemode':_0x35c558})[_0x4cb573(0x281)](),config['onepagemode']=_0x35c558,proxyEmit(_0x4cb573(0x27b),emittedConfiguration());}async function storeConfiguration(_0x291383){const _0x1a56af=_0x5c884d;logger[_0x1a56af(0x161)](_0x1a56af(0x1e2)),blockTransactionDetection=!![],logger[_0x1a56af(0x161)](_0x1a56af(0x2b1));let _0x48503b=[],_0x2f11f6=![],_0x580ad8=[];_0x291383['portfolio'][_0x1a56af(0x297)](_0xf8e2c1=>{const _0x11c16e=_0x1a56af;if(!_0xf8e2c1[_0x11c16e(0x267)]&&_0xf8e2c1[_0x11c16e(0x23a)]!=_0x291383[_0x11c16e(0x22a)])_0x580ad8[_0x11c16e(0x1e1)](_0xf8e2c1[_0x11c16e(0x1d9)]);}),_0x580ad8[_0x1a56af(0x297)](_0x255ca8=>{const _0x310413=_0x1a56af,_0x10b8ef=watchedSymbols['includes'](_0x255ca8);!_0x10b8ef&&_0x48503b[_0x310413(0x1e1)](_0x255ca8);});_0x48503b[_0x1a56af(0x258)]>0x0?_0x2f11f6=!![]:currentCoins['forEach'](_0x12e247=>{const _0x51074e=_0x1a56af;if(_0x12e247['coin']!=config[_0x51074e(0x22a)]){const _0x58e1b4=_0x580ad8['find'](_0x6d0e6=>_0x6d0e6==_0x12e247[_0x51074e(0x1d9)]);!_0x58e1b4&&(_0x2f11f6=!![]);}});let _0x249dfb=dbConfig[_0x1a56af(0x256)](_0x1a56af(0x180))[_0x1a56af(0x227)]({'botID':botID})['value']();_0x291383={..._0x291383,'apiKey':crypt[_0x1a56af(0x28e)](secure['privateKey'],_0x291383[_0x1a56af(0x24e)])[_0x1a56af(0x23c)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x291383[_0x1a56af(0x1f3)])[_0x1a56af(0x23c)]};_0x291383[_0x1a56af(0x1e0)]&&(_0x291383[_0x1a56af(0x1e0)]=crypt['decrypt'](secure[_0x1a56af(0x19d)],_0x291383[_0x1a56af(0x1e0)])[_0x1a56af(0x23c)]);let _0x51419b=![];_0x249dfb?(_0x291383['apiKey']=='************'?_0x291383[_0x1a56af(0x24e)]=config[_0x1a56af(0x24e)]:_0x51419b=!![],_0x291383[_0x1a56af(0x1f3)]==_0x1a56af(0x24a)?_0x291383[_0x1a56af(0x1f3)]=config[_0x1a56af(0x1f3)]:_0x51419b=!![],_0x291383[_0x1a56af(0x1e0)]=='************'?_0x291383[_0x1a56af(0x1e0)]=config['apiPassword']:_0x51419b=!![],dbConfig['get'](_0x1a56af(0x180))[_0x1a56af(0x227)]({'botID':botID})['assign'](_0x291383)[_0x1a56af(0x281)]()):(dbConfig['get'](_0x1a56af(0x180))[_0x1a56af(0x1e1)](_0x291383)[_0x1a56af(0x281)](),_0x51419b=!![],process[_0x1a56af(0x234)]({'status':_0x1a56af(0x1b1),'live':_0x1a56af(0x1aa)},_0x5de700=>{}));config={..._0x291383},setStartDatePerformance(),process[_0x1a56af(0x234)]({'botname':_0x291383[_0x1a56af(0x1c2)]},_0x1c2bec=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x1a56af(0x1fb)),await initCoinResults();if(_0x51419b)await reset(_0x48503b,!![]);else{if(_0x2f11f6)await reset(_0x48503b,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x1a56af(0x161)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0xa3b03e){const _0x1933fc=_0x5c884d,_0x1854e1={...config,'headless':_0xa3b03e[_0x1933fc(0x1c7)]};let _0x526f67=dbConfig[_0x1933fc(0x256)](_0x1933fc(0x180))[_0x1933fc(0x227)]({'botID':botID})[_0x1933fc(0x2c8)]();_0x526f67&&dbConfig[_0x1933fc(0x256)](_0x1933fc(0x180))['find']({'botID':botID})[_0x1933fc(0x21b)](_0x1854e1)[_0x1933fc(0x281)](),config={..._0x1854e1},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x403201){const _0x1b0778=_0x5c884d,_0x2ff58e={...config,'fiat':_0x403201};let _0xdba013=dbConfig[_0x1b0778(0x256)](_0x1b0778(0x180))[_0x1b0778(0x227)]({'botID':botID})['value']();_0xdba013&&dbConfig['get']('bot')[_0x1b0778(0x227)]({'botID':botID})[_0x1b0778(0x21b)](_0x2ff58e)[_0x1b0778(0x281)](),config={..._0x2ff58e},proxyEmit(_0x1b0778(0x27b),emittedConfiguration());}function resetHistory(){const _0x306476=_0x5c884d;logger[_0x306476(0x283)](_0x306476(0x2be));try{if(fs[_0x306476(0x22b)](path['join'](configpath,'bot-'+botID+_0x306476(0x169))))fs[_0x306476(0x1ea)](path['join'](configpath,_0x306476(0x26a)+botID+'-events.json'));if(fs[_0x306476(0x22b)](path[_0x306476(0x270)](configpath,'bot-'+botID+_0x306476(0x172))))fs[_0x306476(0x1ea)](path['join'](configpath,'bot-'+botID+_0x306476(0x172)));if(fs[_0x306476(0x22b)](path[_0x306476(0x270)](configpath,_0x306476(0x26a)+botID+'-results.json')))fs[_0x306476(0x1ea)](path[_0x306476(0x270)](configpath,_0x306476(0x26a)+botID+'-results.json'));}catch(_0x3a0d1c){if(_0x3a0d1c)logger[_0x306476(0x283)]('Error\x20while\x20deleting\x20files:\x20',_0x3a0d1c);}const _0x2c2fb5=getDate();let _0xef82a1=[];currentCoins[_0x306476(0x297)](_0x193dc0=>{const _0x3f894f=_0x306476;_0xef82a1[_0x3f894f(0x1e1)]({'coin':_0x193dc0['coin'],'number':_0x193dc0[_0x3f894f(0x2a7)],'price':_0x193dc0['last']});});let _0x351cd7=dbConfig[_0x306476(0x256)](_0x306476(0x180))[_0x306476(0x227)]({'botID':botID})['value']();_0x351cd7&&(dbConfig[_0x306476(0x256)](_0x306476(0x180))[_0x306476(0x227)]({'botID':botID})[_0x306476(0x21b)]({'liquidity':[{'date':_0x2c2fb5,'changes':_0xef82a1}]})['write'](),config['liquidity']=[]),process['send']({'stop':_0x306476(0x1ad)},_0x427d30=>{});}function noslash(_0x1acb51){const _0x28a725=_0x5c884d;return _0x1acb51[_0x28a725(0x1eb)]('/','');}function updateHighestFee(_0x10fbb8,_0x2d39bc){const _0x91a604=_0x5c884d;lastFees[_0x91a604(0x24f)]=_0x10fbb8,lastFees[_0x91a604(0x253)]['length']===0x14&&lastFees['recent20'][_0x91a604(0x1c3)](),lastFees[_0x91a604(0x253)][_0x91a604(0x1e1)](_0x2d39bc),lastFees[_0x91a604(0x26f)]=Math[_0x91a604(0x1f8)](...lastFees[_0x91a604(0x253)]);}async function updateNumberCoinsCcxt(_0x4a41c6){const _0x1fb454=_0x5c884d;logger['debug'](_0x1fb454(0x25a)+_0x4a41c6[_0x1fb454(0x1d9)]+_0x1fb454(0x271)+_0x4a41c6[_0x1fb454(0x166)]+_0x1fb454(0x271)+_0x4a41c6['id']+'\x20|\x20'+_0x4a41c6[_0x1fb454(0x19a)]);let _0x258ea5=_0x4a41c6['status'],_0x35899c=![];currentCoins[_0x1fb454(0x297)](_0x373b4e=>{_0x373b4e['symbol']==_0x4a41c6['symbol']&&(_0x35899c=!![]);});if(!_0x35899c)return;const _0x154852=currentCoins[_0x1fb454(0x227)](_0x488e2b=>_0x488e2b['symbol']==_0x4a41c6['symbol']),_0x27cacc=_0x163cb4=>{const _0x594a97=_0x1fb454;if(_0x154852)_0x154852[_0x594a97(0x201)]=_0x163cb4;};if(_0x258ea5==_0x1fb454(0x296))_0x27cacc(_0x1fb454(0x296));else{if(_0x258ea5==_0x1fb454(0x1b7)){_0x27cacc(_0x1fb454(0x1b7));const _0x45f0d6=await getCoins();[currentCoins,currentCoinsAll]=_0x45f0d6,await getOpenOrders(),handleOpenOrders();}else{if(_0x258ea5==_0x1fb454(0x1be)){logger[_0x1fb454(0x161)]('1\x20-\x20FILLED:\x20'+_0x4a41c6[_0x1fb454(0x1d9)]+_0x1fb454(0x271)+_0x4a41c6[_0x1fb454(0x1a4)]+'\x20|\x20'+_0x4a41c6['id']+_0x1fb454(0x271)+_0x4a41c6['clientOrderId']);let _0x1db94a=![];if(lastOrders)lastOrders[_0x1fb454(0x297)](async _0x42e18b=>{const _0x1d8e75=_0x1fb454;if(_0x42e18b[_0x1d8e75(0x22d)]==_0x4a41c6[_0x1d8e75(0x19a)]){logger[_0x1d8e75(0x161)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x4a41c6[_0x1d8e75(0x19a)]),_0x1db94a=!![];if(_0x42e18b[_0x1d8e75(0x1a4)]==0x0){logger[_0x1d8e75(0x161)](_0x1d8e75(0x206)+_0x4a41c6['clientOrderId']),_0x42e18b[_0x1d8e75(0x2b4)]=_0x4a41c6[_0x1d8e75(0x1af)],_0x42e18b[_0x1d8e75(0x1a4)]=_0x4a41c6['filled'],_0x42e18b[_0x1d8e75(0x1e7)]={'currency':_0x4a41c6[_0x1d8e75(0x1e7)]?_0x4a41c6['fee']['currency']:null,'cost':_0x4a41c6['fee']?_0x4a41c6[_0x1d8e75(0x1e7)][_0x1d8e75(0x16e)]:0x0},updateHighestFee(_0x42e18b[_0x1d8e75(0x1e7)]['currency'],_0x42e18b[_0x1d8e75(0x1e7)][_0x1d8e75(0x16e)]),_0x27cacc('filled'),await validateOrders();if(lockOrders==ORDERS[_0x1d8e75(0x2c6)]){const _0x1b60c1=await getCoins();[currentCoins,currentCoinsAll]=_0x1b60c1;}await updateCoinResults(_0x42e18b);}}});if(!_0x1db94a){logger[_0x1fb454(0x161)](_0x1fb454(0x1f1)+_0x4a41c6['id']),_0x27cacc('filled');const _0x1c2d15=await getCoins();[currentCoins,currentCoinsAll]=_0x1c2d15,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x11c9bc=JSON['parse'](lastBalances['portfolio']);const _0xc53c07=_0x11c9bc[_0x1fb454(0x227)](_0x303e3a=>_0x303e3a[_0x1fb454(0x1d9)]==_0x4a41c6[_0x1fb454(0x1d9)]);if(_0xc53c07){if(_0x258ea5==_0x1fb454(0x296))_0xc53c07['orderstatus']=_0xc53c07['orderstatus']==_0x1fb454(0x1a4)?'filled':'open';else{if(_0x258ea5==_0x1fb454(0x1b7))_0xc53c07[_0x1fb454(0x201)]=_0xc53c07[_0x1fb454(0x201)]==_0x1fb454(0x1a4)?'filled':_0x1fb454(0x1b7);else _0x258ea5==_0x1fb454(0x1be)&&(_0xc53c07[_0x1fb454(0x201)]=_0x1fb454(0x1a4));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1fb454(0x1df)](_0x11c9bc)},proxyEmit(_0x1fb454(0x1e8),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x71f147=_0x5c884d;await getOpenOrders();let _0x488070=![];currentCoins[_0x71f147(0x297)](_0x49e2ab=>{const _0x7e8e7f=_0x71f147;_0x488070=allOpenOrders['find'](_0x1ab2a7=>_0x1ab2a7[_0x7e8e7f(0x1d9)]==_0x49e2ab[_0x7e8e7f(0x1d9)]),_0x49e2ab[_0x7e8e7f(0x201)]=_0x488070?'open':'none';});}async function getCoins(_0x71c51c=!![],_0x54e77a=config[_0x5c884d(0x22a)]){const _0x37ea20=_0x5c884d;let _0x41ccc0,_0x29e09e=[],_0x42fe0c=[],_0x30a2c1=[],_0x8fe271=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x41ccc0=await exchange[_0x37ea20(0x168)](),mybalances=_0x41ccc0[_0x37ea20(0x1a8)];for(const [_0x1abd7f,_0x185751]of Object[_0x37ea20(0x188)](mybalances)){_0x8fe271[_0x37ea20(0x1e1)](_0x1abd7f);}if(_0x54e77a=='')for(const [_0x583906,_0x59f78b]of Object[_0x37ea20(0x188)](mybalances)){_0x59f78b['toString']()!=0x0&&_0x42fe0c[_0x37ea20(0x1e1)]({'coin':_0x583906});}else{let _0x5daa0d=![];for(const [_0x32759d,_0x2663d8]of Object[_0x37ea20(0x188)](mybalances)){if(_0x8fe271[_0x37ea20(0x155)](_0x32759d)){const _0x1a6f2e=config[_0x37ea20(0x2a5)][_0x37ea20(0x227)](_0x6a9824=>_0x6a9824[_0x37ea20(0x23a)]==_0x32759d),_0x241782=_0x32759d+'/'+_0x54e77a,_0x550c69=_0x54e77a+'/'+_0x32759d,_0x1268e1=currentCoins[_0x37ea20(0x227)](_0x515894=>_0x515894[_0x37ea20(0x23a)]==_0x32759d);_0x5daa0d=![];if((_0x2663d8[_0x37ea20(0x224)]()!=0x0||_0x1a6f2e)&&(allSymbols['includes'](_0x241782)||_0x32759d==_0x54e77a))_0x32759d!=_0x54e77a&&_0x29e09e[_0x37ea20(0x1e1)](_0x241782),_0x42fe0c[_0x37ea20(0x1e1)]({'coin':_0x32759d,'symbol':_0x241782,'reverse':![],'number':Math['max'](_0x2663d8+(_0x1a6f2e&&_0x1a6f2e[_0x37ea20(0x272)]||0x0),0x0),'orderstatus':_0x1268e1?_0x1268e1[_0x37ea20(0x201)]:_0x37ea20(0x158)});else(_0x2663d8[_0x37ea20(0x224)]()!=0x0||_0x1a6f2e)&&allSymbols['includes'](_0x550c69)&&(_0x32759d!=_0x54e77a&&_0x29e09e[_0x37ea20(0x1e1)](_0x550c69),_0x42fe0c[_0x37ea20(0x1e1)]({'coin':_0x32759d,'symbol':_0x550c69,'reverse':!![],'number':Math[_0x37ea20(0x1f8)](_0x2663d8+(_0x1a6f2e&&_0x1a6f2e[_0x37ea20(0x272)]||0x0),0x0),'orderstatus':_0x1268e1?_0x1268e1[_0x37ea20(0x201)]:_0x37ea20(0x158)}));}}}}catch(_0x3e0ba7){if(!_0x71c51c)handleErrorNoStop(_0x3e0ba7,_0x37ea20(0x2bb));else await handleError(_0x3e0ba7,'getCoins()');}return _0x30a2c1=cloneDeep(_0x42fe0c),_0x42fe0c=_0x42fe0c['filter'](_0x2d4ec6=>{const _0x31df04=_0x37ea20,_0x1d8912=config['portfolio'][_0x31df04(0x227)](_0x55afa5=>_0x55afa5[_0x31df04(0x23a)]==_0x2d4ec6[_0x31df04(0x23a)]);return _0x1d8912&&!_0x1d8912[_0x31df04(0x267)];}),[_0x42fe0c,_0x30a2c1];}async function getCoinNumber(_0x6d5239){const _0x176d82=_0x5c884d;let _0x5d98ed;try{const _0x5376d8=await exchange[_0x176d82(0x168)]();_0x5d98ed=_0x5376d8[_0x176d82(0x1a8)][_0x6d5239];}catch(_0x167e63){await handleError(_0x167e63,_0x176d82(0x2c5));}return _0x5d98ed;}async function getOpenOrders(){const _0x5b9a8c=_0x5c884d;let _0x3c37e8;allOpenOrders=[];try{for(const _0x2fdd6f of config[_0x5b9a8c(0x2a5)]){!_0x2fdd6f[_0x5b9a8c(0x267)]&&_0x2fdd6f[_0x5b9a8c(0x23a)]!=config[_0x5b9a8c(0x22a)]&&(_0x3c37e8=await exchange[_0x5b9a8c(0x1e5)](_0x2fdd6f[_0x5b9a8c(0x1d9)]),_0x3c37e8[_0x5b9a8c(0x258)]>0x0&&allOpenOrders[_0x5b9a8c(0x1e1)](_0x3c37e8[0x0]));}}catch(_0x562af4){await handleError(_0x562af4,'getOpenOrders()');}}async function handleOpenOrders(_0x355c20=0x0){const _0x1cabd1=_0x5c884d;allOpenOrders[_0x1cabd1(0x258)]==0x0&&lockOrders==ORDERS[_0x1cabd1(0x2c6)]&&allOrdersPlaced&&(_0x355c20==0x0?(logger[_0x1cabd1(0x161)](_0x1cabd1(0x1d2)),_0x355c20++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x2f5483){const _0x1553b7=_0x5c884d,_0x21ce46=ccxt[_0x2f5483[_0x1553b7(0x18f)][_0x1553b7(0x25d)]()],_0x4c6919=new _0x21ce46({'apiKey':_0x2f5483[_0x1553b7(0x24e)],'secret':_0x2f5483['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x2f5483[_0x1553b7(0x1e0)])_0x4c6919['apiPassword']=_0x2f5483[_0x1553b7(0x1e0)];try{await _0x4c6919[_0x1553b7(0x170)]();}catch(_0x540cf6){throw _0x540cf6;}}function cloneDeep(_0x5d8759){const _0x321e8b=_0x5c884d;return JSON[_0x321e8b(0x21e)](JSON['stringify'](_0x5d8759));}async function getPortfolio(_0x1d7a40){const _0x380a98=_0x5c884d;let _0x62a34f=[],_0x5a8eb6=[],_0x26c076=[],_0x22fcca;if(_0x1d7a40[_0x380a98(0x24e)]!==_0x380a98(0x24a)||_0x1d7a40[_0x380a98(0x1f3)]!==_0x380a98(0x24a)||_0x1d7a40[_0x380a98(0x1e0)]&&_0x1d7a40[_0x380a98(0x1e0)]!==_0x380a98(0x24a)){if(config['exchange']){if(_0x1d7a40[_0x380a98(0x24e)]=='************')_0x1d7a40['apiKey']=config[_0x380a98(0x24e)];if(_0x1d7a40[_0x380a98(0x1f3)]==_0x380a98(0x24a))_0x1d7a40[_0x380a98(0x1f3)]=config[_0x380a98(0x1f3)];if(_0x1d7a40['apiPassword']==_0x380a98(0x24a))_0x1d7a40[_0x380a98(0x1e0)]=config[_0x380a98(0x1e0)];try{await testAPI(_0x1d7a40);}catch(_0xfd09d9){if(_0xfd09d9[_0x380a98(0x224)]()[_0x380a98(0x155)]('AuthenticationError')){logger['debug'](_0x380a98(0x1dc)),proxyEmit('portfolio',![]);return;}else{handleError(_0xfd09d9,_0x380a98(0x231));return;}}}await initExchange(_0x1d7a40[_0x380a98(0x18f)],_0x1d7a40['apiKey'],_0x1d7a40['apiSecret'],_0x1d7a40[_0x380a98(0x1e0)]);try{await loadSymbols(_0x1d7a40['exchange'],!![]);}catch(_0x339f78){if(_0x339f78['toString']()[_0x380a98(0x155)](_0x380a98(0x163))){proxyEmit(_0x380a98(0x2a5),![]);return;}else{handleError(_0x339f78,'getPortfolio(1)');return;}}const _0x599776=await getCoins(![],_0x1d7a40[_0x380a98(0x22a)]);_0x26c076=cloneDeep(_0x599776[0x1]);}else _0x26c076=cloneDeep(currentCoinsAll);if(_0x1d7a40[_0x380a98(0x22a)]=='')proxyEmit('portfolio',_0x26c076);else{_0x26c076[_0x380a98(0x297)](_0x33eb41=>{const _0x3c5af5=_0x380a98;if(_0x33eb41[_0x3c5af5(0x23a)]!=_0x1d7a40[_0x3c5af5(0x22a)])_0x62a34f[_0x3c5af5(0x1e1)](_0x33eb41['symbol']);});try{_0x5a8eb6=await exchange[_0x380a98(0x1d7)](_0x62a34f);}catch(_0x37cd4b){if(_0x37cd4b['toString']()[_0x380a98(0x155)](_0x380a98(0x163))){proxyEmit(_0x380a98(0x2a5),![]);return;}else{handleError(_0x37cd4b,_0x380a98(0x2c7));return;}}_0x26c076[_0x380a98(0x297)](_0x4635a8=>{const _0x136d81=_0x380a98;_0x4635a8[_0x136d81(0x23a)]!=_0x1d7a40[_0x136d81(0x22a)]?_0x22fcca=_0x4635a8[_0x136d81(0x1ac)]?0x1/_0x5a8eb6[_0x4635a8['symbol']][_0x136d81(0x1d5)]:_0x5a8eb6[_0x4635a8[_0x136d81(0x1d9)]]['last']:_0x22fcca=0x1,_0x4635a8[_0x136d81(0x2b4)]=formatResult(_0x22fcca,0x8);}),proxyEmit(_0x380a98(0x2a5),_0x26c076);}}function checkMinimums(_0x41fe59){const _0x5e8bc1=_0x5c884d;let _0x1320fe=!![];const _0x106cc9=!_0x41fe59[_0x5e8bc1(0x1ac)]?markets[_0x41fe59[_0x5e8bc1(0x1d9)]][_0x5e8bc1(0x20a)][_0x5e8bc1(0x182)][_0x5e8bc1(0x266)]:markets[_0x41fe59[_0x5e8bc1(0x1d9)]][_0x5e8bc1(0x20a)]['cost']['min'],_0x29e523=!_0x41fe59[_0x5e8bc1(0x1ac)]?markets[_0x41fe59[_0x5e8bc1(0x1d9)]]['limits'][_0x5e8bc1(0x16e)][_0x5e8bc1(0x266)]:markets[_0x41fe59[_0x5e8bc1(0x1d9)]]['limits']['amount']['min'],_0x2e2455=markets[_0x41fe59['symbol']]['precision']['amount'];_0x41fe59[_0x5e8bc1(0x2a8)]=formatResultTruncate(_0x41fe59[_0x5e8bc1(0x2a8)],_0x2e2455);if(Math[_0x5e8bc1(0x179)](_0x41fe59['trade'])<_0x106cc9)_0x1320fe=![];if(Math[_0x5e8bc1(0x179)](_0x41fe59['trade'])*_0x41fe59[_0x5e8bc1(0x1d5)]<_0x29e523)_0x1320fe=![];if(_0x41fe59[_0x5e8bc1(0x1d4)]==_0x5e8bc1(0x240)){let _0x711b5d=config[_0x5e8bc1(0x2a5)]['find'](_0x5d025e=>_0x5d025e[_0x5e8bc1(0x23a)]==_0x41fe59[_0x5e8bc1(0x23a)]);if(_0x711b5d[_0x5e8bc1(0x272)]>0x0){if(Math['abs'](_0x41fe59[_0x5e8bc1(0x2a8)])>_0x41fe59[_0x5e8bc1(0x2a7)]-_0x711b5d[_0x5e8bc1(0x272)])_0x1320fe=![];}else{if(Math[_0x5e8bc1(0x179)](_0x41fe59['trade'])>_0x41fe59['number'])_0x1320fe=![];}}if(_0x41fe59['side']==_0x5e8bc1(0x28f)){let _0x3dc708=config['portfolio'][_0x5e8bc1(0x227)](_0x3b59bc=>_0x3b59bc[_0x5e8bc1(0x23a)]==config[_0x5e8bc1(0x22a)]),_0x35fde0=currentCoins[_0x5e8bc1(0x227)](_0x582f19=>_0x582f19[_0x5e8bc1(0x23a)]==config['basecoin']);if(_0x3dc708[_0x5e8bc1(0x272)]>0x0){if(Math['abs'](_0x41fe59[_0x5e8bc1(0x2a8)])*_0x41fe59[_0x5e8bc1(0x1d5)]>_0x35fde0[_0x5e8bc1(0x2a7)]-_0x3dc708[_0x5e8bc1(0x272)])_0x1320fe=![];}else{if(Math[_0x5e8bc1(0x179)](_0x41fe59[_0x5e8bc1(0x2a8)])*_0x41fe59['last']>_0x35fde0[_0x5e8bc1(0x2a7)])_0x1320fe=![];}}return _0x1320fe;}async function getBalances(){const _0x1661fd=_0x5c884d;let _0x4dc62d=0x0,_0x2bd095;const _0x5efac7=config[_0x1661fd(0x1d0)];if(config[_0x1661fd(0x1c7)]&&config[_0x1661fd(0x24c)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x509a14=>{const _0x5abecd=_0x1661fd;if(_0x509a14[_0x5abecd(0x23a)]!=config[_0x5abecd(0x22a)]){let _0x1b90e5=global['ticker'][noslash(_0x509a14['symbol'])];_0x2bd095=_0x509a14['reverse']?0x1/_0x1b90e5:_0x1b90e5;}else _0x2bd095=0x1;let _0x48e2e9=_0x509a14[_0x5abecd(0x2a7)]*_0x2bd095;_0x4dc62d+=_0x48e2e9,_0x509a14[_0x5abecd(0x1d5)]=formatResult(Number(_0x2bd095),0x8),_0x509a14[_0x5abecd(0x2c8)]=_0x48e2e9;}),currentCoins[_0x1661fd(0x297)](_0x3d0fc8=>{const _0x2f2ecb=_0x1661fd;let _0x5bff4c=config['portfolio'][_0x2f2ecb(0x227)](_0x449c10=>_0x449c10[_0x2f2ecb(0x23a)]==_0x3d0fc8['coin']),_0x28876e=Number(_0x5bff4c[_0x2f2ecb(0x22e)]),_0x18ed3b=_0x3d0fc8['value']/_0x4dc62d*0x64,_0x5aaf13=_0x28876e*_0x4dc62d/0x64/_0x3d0fc8[_0x2f2ecb(0x1d5)]-_0x3d0fc8['number'];_0x3d0fc8[_0x2f2ecb(0x22e)]=formatResult(_0x18ed3b,0x3),_0x3d0fc8['target']=formatResult(_0x28876e,0x3),_0x3d0fc8[_0x2f2ecb(0x2a8)]=formatResult(_0x5aaf13,0x8),_0x3d0fc8['side']='',_0x3d0fc8[_0x2f2ecb(0x20e)]=![];if(_0x3d0fc8['coin']!=config['basecoin']){if(_0x3d0fc8['distribution']>_0x28876e)_0x3d0fc8[_0x2f2ecb(0x1d4)]=_0x2f2ecb(0x240),_0x3d0fc8['valid']=checkMinimums(_0x3d0fc8);else _0x3d0fc8[_0x2f2ecb(0x22e)]<_0x28876e&&(_0x3d0fc8['side']=_0x2f2ecb(0x28f),_0x3d0fc8[_0x2f2ecb(0x20e)]=checkMinimums(_0x3d0fc8));}_0x3d0fc8[_0x2f2ecb(0x1a5)]=_0x3d0fc8[_0x2f2ecb(0x22e)]/_0x3d0fc8[_0x2f2ecb(0x1bc)]-0x1;if(_0x3d0fc8[_0x2f2ecb(0x201)]==_0x2f2ecb(0x1a4)||_0x3d0fc8['orderstatus']==_0x2f2ecb(0x1b7))_0x3d0fc8[_0x2f2ecb(0x201)]=_0x2f2ecb(0x158);}),currentCoins[_0x1661fd(0x262)]((_0xec8268,_0x413337)=>_0xec8268[_0x1661fd(0x1a5)]<_0x413337[_0x1661fd(0x1a5)]?0x1:_0x413337[_0x1661fd(0x1a5)]<_0xec8268[_0x1661fd(0x1a5)]?-0x1:0x0);const _0xeda1e1=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xeda1e1['eur'],'usd':_0xeda1e1[_0x1661fd(0x1c0)],'portfolio':JSON[_0x1661fd(0x1df)](currentCoins),'threshold':_0x5efac7},proxyEmit(_0x1661fd(0x1e8),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x1661fd(0x1c7)])headlessMode({'portfolio':currentCoins,'threshold':_0x5efac7});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x5efac7});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x15645f=getNormalizedPerformance();getStartingBalances(_0x15645f),emitPerformance(_0x15645f);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x32fdc2=getNormalizedPerformance();emitPerformance(_0x32fdc2),getStartingBalances(_0x32fdc2),logger[_0x1661fd(0x161)](_0x1661fd(0x2bc));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x18b193=_0x5c884d;if(!lastBalances)return;let _0x5e7f0c=[],_0x1e9e38,_0x33551e=JSON[_0x18b193(0x21e)](lastBalances['portfolio']);_0x33551e[_0x18b193(0x262)]((_0x4dfa94,_0x3103db)=>_0x4dfa94[_0x18b193(0x23a)]>_0x3103db[_0x18b193(0x23a)]?0x1:_0x3103db[_0x18b193(0x23a)]>_0x4dfa94['coin']?-0x1:0x0),_0x33551e[_0x18b193(0x297)](_0x2eb747=>{const _0x259b47=_0x18b193;let _0x2dcb1b={'coin':_0x2eb747[_0x259b47(0x23a)],'number':_0x2eb747[_0x259b47(0x2a7)],'price':_0x2eb747['last']};_0x5e7f0c['push'](_0x2dcb1b);});const _0x233ad6=await getFiat();_0x1e9e38={'date':lastBalances['time'][_0x18b193(0x2a1)]('\x20')[0x0],'eur':_0x233ad6[_0x18b193(0x20b)],'usd':_0x233ad6[_0x18b193(0x1c0)],'coins':_0x5e7f0c};let _0x53408d=dbPerformance[_0x18b193(0x256)]('data')['find']({'date':_0x1e9e38[_0x18b193(0x2c3)]})[_0x18b193(0x2c8)]();_0x53408d?_0x1e9e38[_0x18b193(0x2c3)]!=config[_0x18b193(0x213)]&&dbPerformance['get']('data')[_0x18b193(0x227)]({'date':_0x1e9e38[_0x18b193(0x2c3)]})[_0x18b193(0x21b)](_0x1e9e38)[_0x18b193(0x281)]():dbPerformance[_0x18b193(0x256)]('data')[_0x18b193(0x1e1)](_0x1e9e38)[_0x18b193(0x281)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3d2ba8=_0x5c884d;let _0x4560d3=[];if(dbPerformance[_0x3d2ba8(0x1da)](_0x3d2ba8(0x20d))[_0x3d2ba8(0x2c8)]()){let _0x434efe=dbPerformance[_0x3d2ba8(0x256)](_0x3d2ba8(0x20d))[_0x3d2ba8(0x2c1)]()[_0x3d2ba8(0x200)](_0x3d2ba8(0x2c3))[_0x3d2ba8(0x2c8)](),_0x397f2c=[...config[_0x3d2ba8(0x171)]];_0x397f2c[_0x3d2ba8(0x262)]((_0x275502,_0x4cc425)=>_0x275502[_0x3d2ba8(0x2c3)]>_0x4cc425['date']?-0x1:_0x4cc425['date']>_0x275502['date']?0x1:0x0);let _0x3f3d6f=0x1,_0x178fcf=[],_0x2d31d8=0x0;_0x434efe['slice']()[_0x3d2ba8(0x1ac)]()[_0x3d2ba8(0x297)]((_0x126e62,_0x13b215)=>{const _0x1920d6=_0x3d2ba8;if(_0x397f2c[_0x2d31d8]){if(_0x434efe[_0x434efe['length']-_0x13b215]&&_0x397f2c[_0x2d31d8][_0x1920d6(0x2c3)]==_0x434efe[_0x434efe[_0x1920d6(0x258)]-_0x13b215]['date']){if(_0x13b215<_0x434efe[_0x1920d6(0x258)]){let _0x5ebda3=0x0,_0x1051df=0x0;_0x434efe[_0x434efe['length']-_0x13b215][_0x1920d6(0x19b)][_0x1920d6(0x297)](_0x43f1d1=>{const _0x306ca3=_0x1920d6;_0x1051df+=_0x43f1d1[_0x306ca3(0x2a7)]*_0x43f1d1[_0x306ca3(0x2b4)];}),_0x397f2c[_0x2d31d8]['changes']['forEach'](_0xfe3ac1=>{const _0x87ea4f=_0x1920d6;_0x5ebda3+=_0xfe3ac1[_0x87ea4f(0x2a7)]*_0xfe3ac1[_0x87ea4f(0x2b4)];}),_0x3f3d6f*=_0x5ebda3/(_0x1051df-_0x5ebda3)+0x1;}_0x2d31d8++;}}let _0x45741e=0x0;_0x126e62[_0x1920d6(0x19b)][_0x1920d6(0x297)](_0x4f135d=>{const _0xcc2236=_0x1920d6;_0x45741e+=_0x4f135d[_0xcc2236(0x2a7)]*_0x4f135d[_0xcc2236(0x2b4)];}),_0x178fcf[_0x434efe[_0x1920d6(0x258)]-_0x13b215-0x1]=_0x45741e*(_0x3f3d6f-0x1);});let _0x3e510d=[];_0x397f2c=[...config[_0x3d2ba8(0x171)]]||[];let _0x515a2f=0x0;_0x2d31d8=0x0,_0x434efe['forEach']((_0x1e0bf3,_0x7a498b)=>{const _0x306fbc=_0x3d2ba8;if(_0x397f2c[_0x2d31d8]){const _0x496f85=fns['parse'](_0x397f2c[_0x2d31d8][_0x306fbc(0x2c3)],_0x306fbc(0x16a),new Date()),_0x2a202c=fns[_0x306fbc(0x21e)](_0x1e0bf3[_0x306fbc(0x2c3)],_0x306fbc(0x16a),new Date());if(fns[_0x306fbc(0x1cd)](_0x496f85,_0x2a202c)){let _0x55ce9f=0x0;_0x397f2c[_0x2d31d8]['changes'][_0x306fbc(0x297)](_0x4aa638=>{const _0x282efe=_0x306fbc;!_0x3e510d[_0x4aa638[_0x282efe(0x23a)]]?_0x3e510d[_0x4aa638[_0x282efe(0x23a)]]=_0x4aa638[_0x282efe(0x2a7)]:(_0x55ce9f=_0x3e510d[_0x4aa638[_0x282efe(0x23a)]],_0x3e510d[_0x4aa638[_0x282efe(0x23a)]]+=_0x4aa638[_0x282efe(0x2a7)]);const _0x4b704e=_0x1e0bf3[_0x282efe(0x19b)][_0x282efe(0x227)](_0x225fe0=>_0x225fe0[_0x282efe(0x23a)]==_0x4aa638[_0x282efe(0x23a)]);(!_0x4b704e||_0x4b704e[_0x282efe(0x2a7)]==0x0)&&(_0x515a2f+=(-_0x4aa638[_0x282efe(0x2a7)]-_0x55ce9f)*_0x4aa638[_0x282efe(0x2b4)]);}),_0x2d31d8++;}}_0x1e0bf3['coins'][_0x306fbc(0x297)]((_0x59d619,_0x10e5be)=>{const _0x3c36c7=_0x306fbc;_0x3e510d[_0x59d619['coin']]&&(_0x59d619[_0x3c36c7(0x286)]=_0x3e510d[_0x59d619[_0x3c36c7(0x23a)]]);}),_0x4560d3[_0x306fbc(0x1e1)]({'date':_0x1e0bf3['date'],'eur':_0x1e0bf3[_0x306fbc(0x20b)],'usd':_0x1e0bf3[_0x306fbc(0x1c0)],'offset':_0x178fcf[_0x7a498b],'netoffset':_0x515a2f,'coins':_0x1e0bf3['coins']});});}return _0x4560d3;}function emitPerformance(_0x57c62f){const _0x23107a=_0x5c884d;_0x57c62f['length']!==0x0?(proxyEmit(_0x23107a(0x1cb),_0x57c62f),lastPerformanceEmitted=getDate()):proxyEmit(_0x23107a(0x1cb),[]);}function getPerf(_0x7f0c19,_0x4227e2){const _0x14cb1c=_0x5c884d;let _0x3deba0=0x0,_0x1fab60=0x0,_0x571bc5=0x0;_0x7f0c19[_0x14cb1c(0x19b)][_0x14cb1c(0x297)](_0x4030d3=>{const _0x32ab39=_0x14cb1c;_0x3deba0+=_0x4030d3[_0x32ab39(0x2a7)]*_0x4030d3[_0x32ab39(0x2b4)];});_0x4227e2&&(_0x3deba0+=_0x7f0c19[_0x14cb1c(0x272)]);if(config[_0x14cb1c(0x22a)]==='BTC'||config[_0x14cb1c(0x22a)]===_0x14cb1c(0x244))_0x1fab60=_0x3deba0*_0x7f0c19[_0x14cb1c(0x20b)],_0x571bc5=_0x3deba0*_0x7f0c19[_0x14cb1c(0x1c0)];else{if(config['basecoin']===_0x14cb1c(0x27a)||config[_0x14cb1c(0x22a)]==='USDT'||config[_0x14cb1c(0x22a)]===_0x14cb1c(0x21f))_0x1fab60=_0x3deba0*_0x7f0c19[_0x14cb1c(0x20b)]/_0x7f0c19[_0x14cb1c(0x1c0)],_0x571bc5=_0x3deba0;else config['basecoin']===_0x14cb1c(0x202)&&(_0x1fab60=_0x3deba0,_0x571bc5=_0x3deba0*_0x7f0c19[_0x14cb1c(0x1c0)]/_0x7f0c19[_0x14cb1c(0x20b)]);}return[_0x3deba0,_0x1fab60,_0x571bc5];}function getKPIs(_0xd8fc55,_0x3f8134=_0x5c884d(0x202)){const _0x54ff39=_0x5c884d,_0x288502=config[_0x54ff39(0x22a)],_0x559eec=lastBalances,_0x1e3464=currentCoins,_0x25776a=getNormalizedPerformance(),_0x5523c1=_0xd8fc55===_0x54ff39(0x22a)?_0x288502:_0xd8fc55===_0x54ff39(0x29e)||_0xd8fc55===_0x54ff39(0x174)?_0x3f8134:_0x54ff39(0x2d0)+_0x288502,_0x5a3bd5=_0xd8fc55===_0x54ff39(0x22c)?_0x54ff39(0x1c5):_0xd8fc55===_0x54ff39(0x174)?'Net\x20effect':_0x5523c1+_0x54ff39(0x1fc),_0x523f52=_0xd8fc55===_0x54ff39(0x22c)||_0xd8fc55===_0x54ff39(0x174)?'Net\x20effect':_0x5523c1+'\x20change';let _0x2d7ed2=0x0;_0x1e3464[_0x54ff39(0x297)](_0x17fa21=>{const _0x516ea7=_0x54ff39;_0x2d7ed2+=_0x17fa21[_0x516ea7(0x2a7)]*_0x17fa21[_0x516ea7(0x1d5)];});if(_0xd8fc55===_0x54ff39(0x29e)||_0xd8fc55==='net-fiat'){if(_0x288502===_0x54ff39(0x237)||_0x288502===_0x54ff39(0x244))_0x2d7ed2=_0x2d7ed2*(_0x3f8134===_0x54ff39(0x202)?_0x559eec[_0x54ff39(0x20b)]:_0x559eec[_0x54ff39(0x1c0)]);else{if(_0x288502===_0x54ff39(0x27a)||_0x288502==='USDT'||_0x288502===_0x54ff39(0x21f))_0x2d7ed2=_0x2d7ed2*(_0x3f8134==='EUR'?_0x559eec[_0x54ff39(0x20b)]/_0x559eec[_0x54ff39(0x1c0)]:0x1);else _0x288502===_0x54ff39(0x202)&&(_0x2d7ed2=_0x2d7ed2*(_0x3f8134===_0x54ff39(0x202)?0x1:_0x559eec['usd']/_0x559eec[_0x54ff39(0x20b)]));}}let _0x2e0cfe;if(_0x2d7ed2!==0x0){if(_0xd8fc55==='basecoin')_0x2e0cfe=(_0x2d7ed2/startingBalances['basecoin']-0x1)*0x64;else{if(_0x3f8134===_0x54ff39(0x202))_0x2e0cfe=(_0x2d7ed2/startingBalances[_0x54ff39(0x20b)]-0x1)*0x64;else _0x2e0cfe=(_0x2d7ed2/startingBalances['usd']-0x1)*0x64;}let _0x1114de=0x0;if(startingBalances['coins'])_0x1e3464['forEach'](_0x40b2ce=>{const _0x200019=_0x54ff39;let _0x25747d=startingBalances[_0x200019(0x19b)]['find'](_0x22d438=>_0x22d438['coin']===_0x40b2ce[_0x200019(0x23a)]);if(_0x25747d&&_0x25747d[_0x200019(0x23a)]&&_0x40b2ce['number']!==0x0)_0x1114de+=_0x25747d[_0x200019(0x2a7)]*_0x40b2ce[_0x200019(0x1d5)];});let _0x5bd9a6=0x0;if(_0x25776a[_0x54ff39(0x258)]!==0x0){let _0x3c34a4=_0x25776a[_0x25776a['length']-0x1];_0x5bd9a6=_0x3c34a4[_0x54ff39(0x20c)];}_0x1114de-=_0x5bd9a6;_0xd8fc55===_0x54ff39(0x22c)&&(_0x2e0cfe=(_0x2d7ed2-_0x1114de)/startingBalances[_0x54ff39(0x22a)]*0x64,_0x2d7ed2=_0x2d7ed2-_0x1114de);if(_0xd8fc55===_0x54ff39(0x174)){let _0x482827=_0x3f8134===_0x54ff39(0x202)?startingBalances[_0x54ff39(0x20b)]:startingBalances[_0x54ff39(0x1c0)];if(_0x288502===_0x54ff39(0x237)||_0x288502===_0x54ff39(0x244))_0x1114de=_0x3f8134===_0x54ff39(0x202)?_0x1114de*_0x559eec[_0x54ff39(0x20b)]:_0x1114de*_0x559eec[_0x54ff39(0x1c0)];else{if(_0x288502==='BUSD'||_0x288502==='USDT'||_0x288502===_0x54ff39(0x21f))_0x1114de=_0x3f8134==='EUR'?_0x1114de*_0x559eec[_0x54ff39(0x20b)]/_0x559eec[_0x54ff39(0x1c0)]:_0x1114de;else _0x288502===_0x54ff39(0x202)&&(_0x1114de=_0x3f8134===_0x54ff39(0x202)?_0x1114de:_0x1114de*_0x559eec[_0x54ff39(0x1c0)]/_0x559eec[_0x54ff39(0x20b)]);}_0x2e0cfe=(_0x2d7ed2-_0x1114de)/_0x482827*0x64,_0x2d7ed2=_0x2d7ed2-_0x1114de;}if(_0x2e0cfe){if(_0x2e0cfe<0x64)_0x2e0cfe=_0x2e0cfe['toFixed'](0x2);else{if(_0x2e0cfe<0x3e8)_0x2e0cfe=_0x2e0cfe[_0x54ff39(0x241)](0x1);else _0x2e0cfe=_0x2e0cfe['toFixed'](0x0);}}else _0x2e0cfe=Number('0')[_0x54ff39(0x241)](0x2);if(_0x2d7ed2){if(Math[_0x54ff39(0x179)](_0x2d7ed2)<0.000001)_0x2d7ed2=_0x2d7ed2[_0x54ff39(0x241)](0x2);else{if(Math[_0x54ff39(0x179)](_0x2d7ed2)<0.1)_0x2d7ed2=_0x2d7ed2[_0x54ff39(0x241)](0x6);else{if(Math[_0x54ff39(0x179)](_0x2d7ed2)<0x1)_0x2d7ed2=_0x2d7ed2[_0x54ff39(0x241)](0x5);else{if(Math['abs'](_0x2d7ed2)<0xa)_0x2d7ed2=_0x2d7ed2[_0x54ff39(0x241)](0x4);else{if(Math['abs'](_0x2d7ed2)<0x64)_0x2d7ed2=_0x2d7ed2[_0x54ff39(0x241)](0x3);else{if(Math[_0x54ff39(0x179)](_0x2d7ed2)<0x3e8)_0x2d7ed2=_0x2d7ed2[_0x54ff39(0x241)](0x2);else _0x2d7ed2=_0x2d7ed2['toFixed'](0x2);}}}}}}else _0x2d7ed2=Number('0')[_0x54ff39(0x241)](0x2);}else _0x2e0cfe=Number('0')[_0x54ff39(0x241)](0x2);return{'value':_0x2d7ed2,'change':_0x2e0cfe,'leftTxt':_0x5a3bd5,'rightTxt':_0x523f52};}async function getStartingBalances(_0x471f62,_0x12a5dd=!![]){const _0x3d1899=_0x5c884d;if(_0x471f62[_0x3d1899(0x258)]!==0x0){const [_0x56f634,_0x45edd7,_0x2a2fa7]=getPerf(_0x471f62[0x0],!![]);let _0x17acf7=[];config[_0x3d1899(0x2a5)][_0x3d1899(0x297)](_0x3da7ed=>{const _0x3ede82=_0x3d1899;let _0x4ebdde=0x0,_0x22ac76;config[_0x3ede82(0x171)][_0x3ede82(0x297)](_0x47fec7=>{const _0x3f16ea=_0x3ede82;let _0x2b3f64=_0x47fec7[_0x3f16ea(0x1d3)][_0x3f16ea(0x227)](_0x36fa73=>_0x36fa73[_0x3f16ea(0x23a)]==_0x3da7ed[_0x3f16ea(0x23a)]);if(_0x2b3f64){_0x4ebdde+=_0x2b3f64[_0x3f16ea(0x2a7)];if(!_0x22ac76)_0x22ac76=_0x2b3f64[_0x3f16ea(0x2b4)];}}),_0x17acf7['push']({'coin':_0x3da7ed[_0x3ede82(0x23a)],'number':_0x4ebdde,'initialprice':_0x22ac76});});const _0x27c458={'basecoin':_0x56f634,'eur':_0x45edd7,'usd':_0x2a2fa7,'coins':_0x17acf7};if(_0x12a5dd)proxyEmit(_0x3d1899(0x28d),_0x27c458);startingBalances=_0x27c458;}}function headlessMode(_0x3e5068){const _0xae21a0=_0x5c884d;let _0xa376a9=_0x3e5068['portfolio'],_0x572166=_0x3e5068[_0xae21a0(0x1d0)],_0x1dec9a=[];for(let _0x53b231 of _0xa376a9){if(_0x53b231[_0xae21a0(0x23a)]!=config[_0xae21a0(0x22a)]){if(_0x53b231[_0xae21a0(0x1a5)]>=_0x572166/0x64){if(_0x53b231['valid'])_0x1dec9a[_0xae21a0(0x1e1)](_0x53b231);}else{if(_0x53b231[_0xae21a0(0x1a5)]<=-_0x572166/0x64){if(_0x53b231[_0xae21a0(0x20e)])_0x1dec9a['push'](_0x53b231);}}}}_0x1dec9a[_0xae21a0(0x258)]>0x0&&placeOrder(_0x1dec9a);}function notifyBalance(_0x6dbc1f){const _0x260043=_0x5c884d;let _0x12e3f0=_0x6dbc1f[_0x260043(0x2a5)],_0x33c25f=_0x6dbc1f[_0x260043(0x1d0)],_0x484d36=[];for(let _0x52b92a of _0x12e3f0){if(_0x52b92a[_0x260043(0x23a)]!=config[_0x260043(0x22a)]){if(_0x52b92a[_0x260043(0x1a5)]>=_0x33c25f/0x64){if(_0x52b92a[_0x260043(0x20e)])_0x484d36[_0x260043(0x1e1)](_0x52b92a);}else{if(_0x52b92a[_0x260043(0x1a5)]<=-_0x33c25f/0x64){if(_0x52b92a[_0x260043(0x20e)])_0x484d36['push'](_0x52b92a);}}}}if(_0x484d36[_0x260043(0x258)]>0x0){let _0x53eaa0=_0x484d36[_0x260043(0x15d)](_0x51b4d4=>_0x51b4d4['coin']);_0x53eaa0[_0x260043(0x262)]();let _0x3f8c95=_0x53eaa0[_0x260043(0x270)](',\x20');if(!lastCoinsToBalance)logHistory(_0x260043(0x26c),_0x260043(0x1cc));lastCoinsToBalance=_0x3f8c95;}}function symbolToCoin(_0x45ab8b){const _0x320806=_0x5c884d;let _0x33b3fd;if(_0x45ab8b[_0x320806(0x155)]('/'+config[_0x320806(0x22a)]))_0x33b3fd=_0x45ab8b['replace']('/'+config[_0x320806(0x22a)],'');if(_0x45ab8b[_0x320806(0x155)](config[_0x320806(0x22a)]+'/'))_0x33b3fd=_0x45ab8b[_0x320806(0x1eb)](config[_0x320806(0x22a)]+'/','');return _0x33b3fd;}async function unlockOrders(){const _0x87051b=_0x5c884d;if(allOrdersPlaced&&lockOrders==ORDERS[_0x87051b(0x2c6)]){logger[_0x87051b(0x161)](_0x87051b(0x19e)),lockOrders=ORDERS[_0x87051b(0x1b0)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x11813f=await getCoins();[currentCoins,currentCoinsAll]=_0x11813f,validateOrdersState=_0x87051b(0x286),persistOpenOrders([]),lockOrders=ORDERS[_0x87051b(0x2ce)],logger[_0x87051b(0x161)](_0x87051b(0x190));}}async function validateOrders(_0x1b0269){const _0x350d7b=_0x5c884d;if(_0x1b0269)validateOrdersState=_0x1b0269;logger[_0x350d7b(0x161)](_0x350d7b(0x1dd)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x350d7b(0x198):lockOrders==0x2?_0x350d7b(0x2b7):'ORDERS.UNLOCKED'));let _0x582169=[],_0x4edaaf=config[_0x350d7b(0x291)]==_0x350d7b(0x1b8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x350d7b(0x1db)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x350d7b(0x2c6)])return;logger['debug'](_0x350d7b(0x1ab)+validateOrdersState),lastOrders['forEach'](_0x288295=>{const _0x4a2cff=_0x350d7b;let _0x210576=![];_0x288295[_0x4a2cff(0x1a4)]>0x0&&(_0x210576=!![]),_0x582169[_0x4a2cff(0x1e1)](_0x210576),_0x210576&&config[_0x4a2cff(0x291)]!=_0x4a2cff(0x1b8)&&logHistory('order',_0x4a2cff(0x154)+_0x288295['symbol']+'\x20'+_0x288295[_0x4a2cff(0x1d4)]+'\x20#'+formatResult(_0x288295['filled'],0x8)+'\x20@'+formatResult(_0x288295['price'],0x8));}),_0x582169[_0x350d7b(0x297)]((_0x7b2718,_0x295f79)=>{const _0x4859f0=_0x350d7b;if(_0x7b2718)lastOrders[_0x4859f0(0x1f9)](_0x295f79,0x1);}),persistOpenOrders(lastOrders);const _0x238b5a=coolingDown?_0x350d7b(0x2a9):'balancing\x20resumed';if(validateOrdersState==_0x350d7b(0x286)){validateOrdersState='ongoing';if(_0x582169[_0x350d7b(0x155)](![])){if(config[_0x350d7b(0x291)]==_0x350d7b(0x1b8)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x350d7b(0x1e6)){if(_0x582169[_0x350d7b(0x155)](![])){}else{if(allOrdersPlaced){if(config[_0x350d7b(0x291)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x582169[_0x350d7b(0x155)](![])&&(config[_0x350d7b(0x291)]=='market'?logHistory(_0x350d7b(0x277),_0x350d7b(0x199)+Math[_0x350d7b(0x2a2)](_0x4edaaf*validateOrderInterval/0xea60)+_0x350d7b(0x17b)+_0x238b5a):(await cancelOrders(),logHistory(_0x350d7b(0x277),_0x350d7b(0x16f)+Math[_0x350d7b(0x2a2)](_0x4edaaf*validateOrderInterval/0xea60)+_0x350d7b(0x17b)+_0x238b5a))),await unlockOrders();else{if(validateOrdersState==_0x350d7b(0x211)){if(config[_0x350d7b(0x291)]!=_0x350d7b(0x1b8))logHistory('success',_0x350d7b(0x1ed)+_0x238b5a);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x1a518b=>{const _0x2030fe=_0x5731;try{const _0x25de53=await exchange[_0x2030fe(0x1a3)](_0x1a518b[_0x2030fe(0x1b9)],_0x1a518b[_0x2030fe(0x1d9)]);}catch(_0xa7c9be){if(_0xa7c9be[_0x2030fe(0x224)]()['includes'](_0x2030fe(0x28a))){}else await handleError(_0xa7c9be,_0x2030fe(0x18c));}});}async function initCoinResults(){const _0x101df7=_0x5c884d;let _0x58dfd1=[];config[_0x101df7(0x2a5)][_0x101df7(0x297)](_0x2e8e29=>{const _0x2b1458=_0x101df7;if(!_0x2e8e29[_0x2b1458(0x267)]&&_0x2e8e29[_0x2b1458(0x23a)]!=config[_0x2b1458(0x22a)]){let _0x2dd7b1=dbCoinResults[_0x2b1458(0x256)](_0x2b1458(0x19b))[_0x2b1458(0x227)]({'coin':_0x2e8e29['coin']})[_0x2b1458(0x2c8)]();if(!_0x2dd7b1){const _0x124b45=currentCoins[_0x2b1458(0x227)](_0x1bc605=>_0x1bc605['coin']==_0x2e8e29[_0x2b1458(0x23a)]),_0x30ae63=global['ticker'][noslash(_0x2e8e29['symbol'])];let _0x1ad57b=_0x124b45?_0x124b45[_0x2b1458(0x2a7)]:null,_0x447a59=_0x2e8e29['reverse']?0x1/_0x30ae63:_0x30ae63,_0x2b6ab1;config[_0x2b1458(0x171)][_0x2b1458(0x297)](_0x134331=>{const _0x1aa51f=_0x2b1458;!_0x2b6ab1&&(_0x2b6ab1=_0x134331['changes'][_0x1aa51f(0x227)](_0x8277bc=>_0x8277bc['coin']==_0x2e8e29[_0x1aa51f(0x23a)]),_0x2b6ab1&&(_0x1ad57b=_0x2b6ab1[_0x1aa51f(0x2a7)],_0x447a59=_0x2b6ab1['price']));}),_0x58dfd1['push']({'coin':_0x2e8e29[_0x2b1458(0x23a)],'number':_0x1ad57b,'price':_0x447a59});}}}),_0x58dfd1[_0x101df7(0x297)](_0xc6f262=>{const _0x58231f=_0x101df7,_0x52c959={'coin':_0xc6f262[_0x58231f(0x23a)],'number':_0xc6f262[_0x58231f(0x2a7)],'breakeven':_0xc6f262[_0x58231f(0x2b4)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x58231f(0x256)]('coins')[_0x58231f(0x1e1)](_0x52c959)['write']();});}async function updateCoinResults(_0x6e1e91,_0x592b44=![]){const _0xbbd4de=_0x5c884d;let _0x41b6ce,_0x334523,_0x5a9c2d,_0x51dcc3,_0x129b1a,_0xf1a67,_0x2baf31=dbCoinResults[_0xbbd4de(0x256)](_0xbbd4de(0x19b))[_0xbbd4de(0x227)]({'coin':_0x6e1e91[_0xbbd4de(0x23a)]})[_0xbbd4de(0x2c8)]();!_0x2baf31&&await initCoinResults();_0x6e1e91[_0xbbd4de(0x1ac)]&&(_0xf1a67={'filled':_0x6e1e91[_0xbbd4de(0x1a4)]*_0x6e1e91[_0xbbd4de(0x2b4)],'amount':_0x6e1e91['filled']*_0x6e1e91[_0xbbd4de(0x2b4)],'side':_0x6e1e91[_0xbbd4de(0x1d4)]==_0xbbd4de(0x240)?_0xbbd4de(0x28f):_0xbbd4de(0x240),'price':0x1/_0x6e1e91['price']},_0x6e1e91={..._0x6e1e91,..._0xf1a67});_0x592b44?_0x334523=_0x6e1e91['side']==_0xbbd4de(0x28f)?_0x2baf31[_0xbbd4de(0x2a7)]+_0x6e1e91['filled']:_0x2baf31[_0xbbd4de(0x2a7)]-_0x6e1e91[_0xbbd4de(0x1a4)]:_0x334523=await getCoinNumber(_0x6e1e91[_0xbbd4de(0x23a)]);if(_0x6e1e91[_0xbbd4de(0x1e7)]&&_0x6e1e91['fee'][_0xbbd4de(0x24f)]==config[_0xbbd4de(0x22a)])_0x41b6ce=_0x6e1e91[_0xbbd4de(0x1e7)][_0xbbd4de(0x16e)];else{if(_0x6e1e91[_0xbbd4de(0x1e7)]&&_0x6e1e91[_0xbbd4de(0x1e7)][_0xbbd4de(0x24f)]==_0xbbd4de(0x2cd)&&!_0x592b44)_0x41b6ce=_0x6e1e91[_0xbbd4de(0x1e7)][_0xbbd4de(0x16e)]*global['ticker']['BNB'+config[_0xbbd4de(0x22a)]];else _0x41b6ce=defaultFee*_0x6e1e91[_0xbbd4de(0x1a4)]*_0x6e1e91[_0xbbd4de(0x2b4)];}_0x6e1e91[_0xbbd4de(0x1d4)]=='buy'?(_0x5a9c2d=_0x334523!=0x0?(_0x2baf31['breakeven']*_0x2baf31[_0xbbd4de(0x2a7)]+_0x6e1e91[_0xbbd4de(0x2b4)]*(_0x334523-_0x2baf31['number'])+_0x41b6ce)/_0x334523:0x0,_0x51dcc3=_0x2baf31[_0xbbd4de(0x287)]):(_0x5a9c2d=_0x334523!=0x0?(_0x2baf31[_0xbbd4de(0x217)]*_0x2baf31['number']-_0x6e1e91[_0xbbd4de(0x2b4)]*(_0x2baf31[_0xbbd4de(0x2a7)]-_0x334523)+_0x41b6ce)/_0x334523:0x0,_0x51dcc3=_0x2baf31[_0xbbd4de(0x287)]+(_0x6e1e91[_0xbbd4de(0x2b4)]-_0x2baf31[_0xbbd4de(0x217)])*_0x6e1e91[_0xbbd4de(0x1a4)]);_0x129b1a=(_0x6e1e91[_0xbbd4de(0x2b4)]-_0x5a9c2d-_0x41b6ce/_0x6e1e91[_0xbbd4de(0x1a4)])*_0x334523;let _0x5c089c={'coin':_0x6e1e91['coin'],'number':_0x334523,'breakeven':formatResult(_0x5a9c2d,0x8),'realized':formatResult(_0x51dcc3,0x8),'unrealized':formatResult(_0x129b1a,0x8),'fees':formatResult(_0x2baf31[_0xbbd4de(0x157)]+_0x41b6ce,0x8),'sells':_0x6e1e91[_0xbbd4de(0x1d4)]==_0xbbd4de(0x240)?_0x2baf31[_0xbbd4de(0x1fe)]+0x1:_0x2baf31[_0xbbd4de(0x1fe)],'buys':_0x6e1e91[_0xbbd4de(0x1d4)]==_0xbbd4de(0x28f)?_0x2baf31['buys']+0x1:_0x2baf31[_0xbbd4de(0x2b3)]};dbCoinResults[_0xbbd4de(0x256)](_0xbbd4de(0x19b))['find']({'coin':_0x6e1e91[_0xbbd4de(0x23a)]})[_0xbbd4de(0x21b)](_0x5c089c)[_0xbbd4de(0x281)]();if(!_0x592b44){if(_0x6e1e91[_0xbbd4de(0x1e7)]&&_0x6e1e91[_0xbbd4de(0x1e7)]['currency']==_0xbbd4de(0x2cd)){const _0x158938=currentCoins[_0xbbd4de(0x227)](_0x33f2ef=>_0x33f2ef[_0xbbd4de(0x23a)]==_0xbbd4de(0x2cd));if(_0x158938){let _0x39dd9d=dbCoinResults[_0xbbd4de(0x256)](_0xbbd4de(0x19b))['find']({'coin':_0xbbd4de(0x2cd)})[_0xbbd4de(0x2c8)]();_0x5c089c={..._0x39dd9d,'number':_0x158938[_0xbbd4de(0x2a7)]},dbCoinResults[_0xbbd4de(0x256)]('coins')[_0xbbd4de(0x227)]({'coin':'BNB'})[_0xbbd4de(0x21b)](_0x5c089c)[_0xbbd4de(0x281)]();}}}}async function placeOrder(_0x44d14d){const _0x40ffe1=_0x5c884d,_0xc27b9a=config[_0x40ffe1(0x291)]=='market'?_0x40ffe1(0x1b8):_0x40ffe1(0x1c1);if(lockOrders==ORDERS[_0x40ffe1(0x2ce)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x40ffe1(0x2c6)],allOrdersPlaced=![],validateOrdersState=_0x40ffe1(0x286);let _0x2d497d=![];lastOrders=[];for(const _0x1baace of _0x44d14d){let _0x142a59,_0x270847,_0x1bc87f,_0x393488,_0x326f22,_0x5dbaf5=_0x1baace['symbol'];try{const _0x325060=await exchange[_0x40ffe1(0x19c)](_0x5dbaf5);_0x142a59=_0x1baace[_0x40ffe1(0x1ac)]?0x1/_0x1baace[_0x40ffe1(0x1d5)]:_0x1baace[_0x40ffe1(0x1d5)],_0x270847=_0x325060[_0x40ffe1(0x273)],_0x1bc87f=_0x325060[_0x40ffe1(0x1f6)];_0x1baace['reverse']?(_0x393488=_0x1baace[_0x40ffe1(0x1d4)]==_0x40ffe1(0x28f)?'sell':'buy',_0x326f22=Math[_0x40ffe1(0x179)](_0x1baace[_0x40ffe1(0x2a8)])/_0x142a59):(_0x393488=_0x1baace[_0x40ffe1(0x1d4)],_0x326f22=Math['abs'](_0x1baace[_0x40ffe1(0x2a8)]));_0xc27b9a=='limit'&&(config[_0x40ffe1(0x291)]=='limit-high'&&(_0x142a59=_0x393488==_0x40ffe1(0x28f)?_0x270847:_0x1bc87f),config['ordertype']==_0x40ffe1(0x1ef)&&(_0x142a59=_0x393488==_0x40ffe1(0x28f)?_0x1bc87f:_0x270847));_0x326f22=formatResult(_0x326f22,0x8),_0x142a59=formatResult(_0x142a59,0x8);const _0x20e2a4=_0x393488==_0x40ffe1(0x240)?config['emojisell']?String[_0x40ffe1(0x238)]('0x'+config['emojisell'])+'\x20':'':config[_0x40ffe1(0x2ad)]?String[_0x40ffe1(0x238)]('0x'+config['emojibuy'])+'\x20':'',_0xeb40cf=_0xc27b9a==_0x40ffe1(0x1b8)?'Market':config[_0x40ffe1(0x291)]==_0x40ffe1(0x220)?_0x40ffe1(0x290):'Limit\x20(low-margin)',_0x5d947a=new Date()['getTime']()[_0x40ffe1(0x224)]()['slice'](-0x6)+'-'+Math[_0x40ffe1(0x299)]()['toString']()[_0x40ffe1(0x257)](-0x6);lastOrders['push']({'customId':_0x5d947a,'symbol':_0x5dbaf5,'coin':_0x1baace[_0x40ffe1(0x23a)],'side':_0x393488,'reverse':_0x1baace[_0x40ffe1(0x1ac)],'filled':0x0});if(_0xc27b9a==_0x40ffe1(0x1b8))logHistory(_0x40ffe1(0x264),''+_0x20e2a4+_0xeb40cf+_0x40ffe1(0x1f4)+_0x5dbaf5+'\x20'+_0x393488+'\x20#'+formatResult(_0x326f22,0x8)+'\x20@'+formatResult(_0x142a59,0x8));else logHistory('order',''+_0x20e2a4+_0xeb40cf+_0x40ffe1(0x1f4)+_0x5dbaf5+'\x20'+_0x393488+'\x20#'+formatResult(_0x326f22,0x8)+'\x20@'+formatResult(_0x142a59,0x8));const _0x44923b=await exchange[_0x40ffe1(0x28c)](_0x5dbaf5,_0xc27b9a,_0x393488,_0x326f22,_0x142a59,{'clientOrderId':_0x5d947a}),_0x4e666f=lastOrders['length']-0x1;_0x4e666f>=0x0&&lastOrders[_0x4e666f][_0x40ffe1(0x22d)]==_0x5d947a&&(lastOrders[_0x4e666f]={...lastOrders[_0x4e666f],'orderId':_0x44923b['id'],'amount':_0x44923b['amount'],'price':_0x44923b[_0x40ffe1(0x2b4)],'fee':_0x44923b[_0x40ffe1(0x1e7)]});if(config[_0x40ffe1(0x165)]!=0x0){let _0x3eabe6=null;if(cooldownTracker[_0x40ffe1(0x258)]==config[_0x40ffe1(0x165)]-0x1)_0x3eabe6=cooldownTracker[_0x40ffe1(0x1c3)]();const _0x74b0d8=getTimeStamp();cooldownTracker[_0x40ffe1(0x1e1)](_0x74b0d8);if(_0x3eabe6){const _0x1e978d=fns[_0x40ffe1(0x23f)](new Date(_0x74b0d8),new Date(_0x3eabe6));if(_0x1e978d<cooldownInterval){logHistory('error',_0x40ffe1(0x212)+config[_0x40ffe1(0x165)]+_0x40ffe1(0x1f2)+cooldownInterval/0x3c+_0x40ffe1(0x260)+cooldownPeriod/(0xe10*0x3e8)+_0x40ffe1(0x250)),coolingDown=!![];break;}}}}catch(_0x4252e2){if(_0x4252e2['toString']()[_0x40ffe1(0x155)](_0x40ffe1(0x207)))lastOrders=lastOrders[_0x40ffe1(0x1ce)](_0x7f8f0d=>_0x7f8f0d[_0x40ffe1(0x1d9)]!=_0x5dbaf5),logHistory(_0x40ffe1(0x18a),_0x40ffe1(0x1e9)+_0x5dbaf5),_0x2d497d=!![];else _0x4252e2[_0x40ffe1(0x224)]()[_0x40ffe1(0x155)](_0x40ffe1(0x215))?(lastOrders=lastOrders[_0x40ffe1(0x1ce)](_0x13cf28=>_0x13cf28[_0x40ffe1(0x1d9)]!=_0x5dbaf5),logHistory(_0x40ffe1(0x18a),'Order\x20amount\x20is\x20invalid:\x20'+_0x5dbaf5),_0x2d497d=!![]):(lastOrders=lastOrders[_0x40ffe1(0x1ce)](_0x549c3a=>_0x549c3a[_0x40ffe1(0x1d9)]!=_0x5dbaf5),await handleError(_0x4252e2,_0x40ffe1(0x2bd),_0x5dbaf5));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x40ffe1(0x258)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x30c2ac=config['ordertype']==_0x40ffe1(0x1b8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2bdb43=_0x40ffe1;validateOrders(_0x2bdb43(0x28b));},_0x30c2ac);}else unlockOrders();_0x2d497d&&config[_0x40ffe1(0x1c7)]&&await pauseBot(_0x40ffe1(0x183)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x40ffe1(0x277),_0x40ffe1(0x1c6)));}else{if(coolingDown)!config[_0x40ffe1(0x1c7)]&&logHistory(_0x40ffe1(0x18a),_0x40ffe1(0x2a6));else lockOrders!=ORDERS[_0x40ffe1(0x2ce)]&&(!config['headless']&&(config[_0x40ffe1(0x291)]==_0x40ffe1(0x1b8)?logHistory('error',_0x40ffe1(0x197)):logHistory(_0x40ffe1(0x18a),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0xc0b444){const _0x58f58a=_0x5c884d,_0x238183={...config,'openOrders':_0xc0b444};let _0x1d9d73=dbConfig[_0x58f58a(0x256)](_0x58f58a(0x180))[_0x58f58a(0x227)]({'botID':botID})[_0x58f58a(0x2c8)]();_0x1d9d73&&dbConfig[_0x58f58a(0x256)](_0x58f58a(0x180))[_0x58f58a(0x227)]({'botID':botID})[_0x58f58a(0x21b)](_0x238183)['write']();}function _0x3d6e(){const _0x2a2037=['startsWith','getPortfolio','Fees\x20|\x20currency:\x20','simple','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','ORDERS.LOCKED','Order(s)\x20not\x20validated\x20after\x20','clientOrderId','coins','fetchTicker','privateKey','1\x20-\x20Unlock\x20orders','substring','\x20minutes','log','percentage','cancelOrder','filled','delta','remainingSymbols','InsufficientFunds','total','sendPortfolioTelegram','running','2\x20-\x20Validate\x20orders:\x20','reverse','restart','\x20not\x20responding','average','UNLOCKING','enabled','Exchange','\x20|\x20Error\x20details:\x20','\x20closed\x20the\x20connection','date-fns','getStartingBalances','canceled','market','orderId','startnumber','4yDsguc','target','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','closed','deleteHistoryAlerts','usd','limit','botname','shift','getMinutes','Net\x20effect','Cooldown\x20ended\x20-\x20balancing\x20resumed','headless','timeshift','NANO/','2448360nnBCAA','performance','Manual\x20balancing\x20required','isEqual','filter','bots','threshold','watchTrades','1\x20-\x20Handle\x20open\x20orders','changes','side','last','lowdb','fetchTickers','freeze','symbol','has','timeout','Invalid\x20API\x20key\x20or\x20secret\x20entered','1\x20-\x20Validate\x20orders:\x20','HOT/BTC','stringify','apiPassword','push','Saving\x20configuration','ccxt','/backup/','fetchOpenOrders','ongoing','fee','balances','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','unlinkSync','replace','milliseconds','No\x20more\x20open\x20orders\x20-\x20','showname','limit-low','event','2\x20-\x20FILLED\x20unknown\x20order:\x20','\x20orders\x20in\x20less\x20than\x20','apiSecret','\x20order:\x20','<b>','ask','\x20API\x20key\x20is\x20invalid','max','splice','exchange\x20reloaded','configuration-stored','\x20value','showConfig','sells','Initiating\x20exchange\x20reload','sortBy','orderstatus','EUR','kill','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','set','3\x20-\x20handling\x20FILLED\x20order:\x20','MIN_NOTIONAL','emojisell','loadSymbols()','limits','eur','netoffset','data','valid','33akrEEv','2323495KeeIWd','no\x20open\x20orders','Executed\x20','startdate','datetime','Invalid\x20quantity','format','breakeven','args','2.3.5','timestamp','assign','139544JkzRTN','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','parse','USD','limit-high','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','botID','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','toString','defaults','\x20>\x20[DEBUG]\x20','find','findIndex','8jpARET','basecoin','existsSync','net-basecoin','customId','distribution','padStart','getMonth','getPortfolio(0)','emitHistory','util','send','onepagemode','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','BTC','fromCodePoint','logs','coin','hybrid-crypto-js','message','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','differenceInSeconds','sell','toFixed','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','ETH','Reset\x20|\x20','(((.+)+)+)+$','initclient','\x20exchange','progress','************','Portfolio\x20change\x20detected:\x20','change24h','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','apiKey','currency','\x20hour','***','ticker','recent20','recovery','pro','get','slice','length','<pre>','0\x20-\x20EXECUTION:\x20','getFullYear','Executing\x20exchange\x20reload','toLowerCase','<b>Bot\x20','loading-canceled','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','storeConfiguration','sort','exchanges','order','starting-balance-','min','excluded','</pre>','.json','bot-','10oYiJka','warning','placeOrder','\x20metrics:</b>\x20\x0a\x0a','highest','join','\x20|\x20','offset','bid','-results.json','keys','InvalidNonce','success','createWriteStream','exchange\x20not\x20reloaded','BUSD','configuration','1606110GcCvlb','page','Unknown\x20error\x20occured','mkdirSync','recreate','write','sendMetricsTelegram','full','string','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','initial','realized','DAI/','argv','OrderNotFound','final','createOrder','starting-balances','decrypt','buy','Limit\x20(high-margin)','ordertype','constructor','timer:','watchOrders','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','open','forEach','USDT','random','exec','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','sha256','-config.json','fiat','indexOf','\x20>\x20','split','round','\x20not\x20available','getDate','portfolio','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','number','trade','balancing\x20resumes\x20when\x20cooldown\x20ends','API-key\x20format\x20invalid','2202900jNOamr','12409191uqApnJ','emojibuy','RSA-OAEP','yargs/yargs','/USD','Transaction\x20detection\x20blocked','storeHeadless','buys','price','function','\x20portfolio:</b>\x20\x0a\x0a','ORDERS.UNLOCKING','additional\x20symbols\x20','openOrders','type','getCoins()','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','placeOrder()','Resetting\x20bot\x20history','getTime','remove','cloneDeep','uncaughtException','date','./version.json','getCoinNumber()','LOCKED','getPortfolio(2)','value','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','no\x20additional\x20symbols','Binance','toggleBotMode','BNB','UNLOCKED','concat','Net\x20','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','rightTxt','Order\x20filled:\x20','includes','DDoSProtection','fees','none','Error:\x20Invalid\x20argument\x20','YOYOW/','event-history','./config/','map','getSeconds',':\x20Bot\x20','getHours','debug','lowdb/adapters/FileSync','AuthenticationError','Crypt','cooldown','status','682794mSxuob','fetchBalance','-events.json','yyyy/MM/dd','coin-loading-progress','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20has\x20a\x2024h\x20drop\x20of\x20','cost','Unfilled\x20order(s)\x20canceled\x20after\x20','loadMarkets','liquidity','-performance.json','leftTxt','net-fiat','BNB/','change','startprice','XEM/BUSD','abs','search','\x20minutes\x20-\x20','cancel','added','time','2.5.0','bot','./logs/','amount','Avoiding\x20continuous\x20order\x20attempts','apply',',\x20must\x20be\x20a\x203\x20digit\x20number','fetchClosedOrders','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','entries','secure','error','path','cancelOrders()','Pausing\x20for\x20','%\x20(','exchange','2\x20-\x20Orders\x20unlocked','version','\x20-\x20bot\x20not\x20started'];_0x3d6e=function(){return _0x2a2037;};return _0x3d6e();}function restoreOrders(){const _0x558906=_0x5c884d;let _0x40602a;config['openOrders']&&allOpenOrders[_0x558906(0x297)](_0x3cc012=>{const _0x896188=_0x558906,_0x26cc6b=config[_0x896188(0x2b9)][_0x896188(0x227)](_0x3e393d=>_0x3e393d['orderId']==_0x3cc012['id']);_0x26cc6b&&(lastOrders['push'](_0x26cc6b),_0x40602a=_0x3cc012[_0x896188(0x21a)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x558906(0x2c6)],validateOrdersState=_0x558906(0x1e6),allOrdersPlaced=!![];const _0x4ad76c=new Date()[_0x558906(0x2bf)](),_0x44ce3a=config['ordertype']==_0x558906(0x1b8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x40602a+_0x44ce3a>_0x4ad76c){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x51d597=_0x558906;validateOrders(_0x51d597(0x28b));},_0x40602a+_0x44ce3a-_0x4ad76c);}else validateOrders(_0x558906(0x28b));}}async function sendMetricsTelegram(){const _0x2f7e62=_0x5c884d;if(!coinsLoaded){process[_0x2f7e62(0x234)]({'telegrammsg':_0x2f7e62(0x2d1)},_0x30a4a3=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x242b6f='';if(config[_0x2f7e62(0x1ee)])_0x242b6f=_0x2f7e62(0x1f5)+config[_0x2f7e62(0x1c2)]+_0x2f7e62(0x26e);else _0x242b6f=_0x2f7e62(0x25e)+botID+_0x2f7e62(0x26e);const _0x4f3e4b=getKPIs(_0x2f7e62(0x22a)),_0x4dd19e=getKPIs(_0x2f7e62(0x29e),config[_0x2f7e62(0x29e)]),_0x3a0d69=getKPIs(_0x2f7e62(0x22c)),_0x511dc5=getKPIs(_0x2f7e62(0x174),config[_0x2f7e62(0x29e)]);_0x242b6f+=_0x2f7e62(0x259),_0x242b6f+=_0x4f3e4b[_0x2f7e62(0x173)]+'\x20:\x20'+_0x4f3e4b['value']+'\x0a',_0x242b6f+=_0x4f3e4b[_0x2f7e62(0x153)]+':\x20'+_0x4f3e4b[_0x2f7e62(0x176)]+'%\x0a',_0x242b6f+=_0x4dd19e[_0x2f7e62(0x173)]+'\x20:\x20'+_0x4dd19e[_0x2f7e62(0x2c8)]+'\x0a',_0x242b6f+=_0x4dd19e[_0x2f7e62(0x153)]+':\x20'+_0x4dd19e['change']+'%\x0a',_0x242b6f+=_0x3a0d69[_0x2f7e62(0x173)]+':\x20'+_0x3a0d69[_0x2f7e62(0x2c8)]+'\x20('+config['basecoin']+')\x0a',_0x242b6f+=_0x3a0d69['rightTxt']+':\x20'+_0x3a0d69[_0x2f7e62(0x176)]+'%\x20('+config[_0x2f7e62(0x22a)]+')\x0a',_0x242b6f+=_0x511dc5['leftTxt']+':\x20'+_0x511dc5[_0x2f7e62(0x2c8)]+'\x20('+config[_0x2f7e62(0x29e)]+')\x0a',_0x242b6f+=_0x511dc5[_0x2f7e62(0x153)]+':\x20'+_0x511dc5['change']+_0x2f7e62(0x18e)+config[_0x2f7e62(0x29e)]+')\x0a',_0x242b6f+=_0x2f7e62(0x268),process[_0x2f7e62(0x234)]({'telegrammsg':_0x242b6f},_0x1701f5=>{});}async function sendPortfolioTelegram(){const _0x2e6291=_0x5c884d;if(!coinsLoaded){process['send']({'telegrammsg':_0x2e6291(0x2d1)},_0x4657d1=>{});return;}let _0x41662b='';if(config[_0x2e6291(0x1ee)])_0x41662b=_0x2e6291(0x1f5)+config['botname']+'\x20portfolio:</b>\x20\x0a\x0a';else _0x41662b=_0x2e6291(0x25e)+botID+_0x2e6291(0x2b6);_0x41662b+=_0x2e6291(0x259),_0x41662b+='-------------------------------\x0a',_0x41662b+=_0x2e6291(0x24d),_0x41662b+='-------------------------------\x0a',currentCoins[_0x2e6291(0x297)](_0x3748be=>{const _0x1cde37=_0x2e6291;_0x41662b+=_0x3748be[_0x1cde37(0x23a)]['padEnd'](0x7)+'|\x20'+formatPad(_0x3748be['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x3748be[_0x1cde37(0x1bc)],0x2,0x6)+'|\x20'+formatPad(_0x3748be[_0x1cde37(0x1a5)]*0x64,0x2,0x6)+'\x0a';}),_0x41662b+=_0x2e6291(0x268),process[_0x2e6291(0x234)]({'telegrammsg':_0x41662b},_0x460b4e=>{});}function formatPad(_0x21e9ea,_0x3700cb,_0x442695){const _0x4584fe=_0x5c884d,_0x1f78d1=formatResultString(_0x21e9ea,_0x3700cb);return _0x1f78d1?_0x1f78d1['padStart'](_0x442695):''[_0x4584fe(0x22f)](_0x442695);}function logHistory(_0x308dfa,_0x144775,_0x1e38e2=''){const _0x598a0a=_0x5c884d;let _0x11d7f5={'time':getTimeStamp(),'type':_0x308dfa,'event':_0x144775};dbLogs[_0x598a0a(0x256)](_0x598a0a(0x239))[_0x598a0a(0x1e1)](_0x11d7f5)[_0x598a0a(0x281)]();if(_0x1e38e2=='')_0x1e38e2=_0x144775;proxyEmit(_0x598a0a(0x1f0),{'log':_0x11d7f5,'summary':_0x1e38e2}),process[_0x598a0a(0x234)]({'telegram':{..._0x11d7f5,'botname':config['botname'],'showname':config[_0x598a0a(0x1ee)]}},_0x180203=>{}),logger[_0x598a0a(0x283)](''+_0x11d7f5[_0x598a0a(0x1f0)]);}function emitHistory(_0x442489={}){const _0x483661=_0x5c884d;Object['keys'](_0x442489)[_0x483661(0x258)]==0x0&&(_0x442489={'type':[_0x483661(0x264),_0x483661(0x1f0)],'event':'','page':0x1});if(_0x442489['type'][_0x483661(0x155)](_0x483661(0x1f0)))_0x442489['type'][_0x483661(0x1f9)](_0x442489[_0x483661(0x2ba)][_0x483661(0x29f)]('event'),0x1,'error',_0x483661(0x26c),_0x483661(0x277));if(dbLogs['has'](_0x483661(0x239))[_0x483661(0x2c8)]()){let _0x193133=dbLogs[_0x483661(0x256)](_0x483661(0x239))[_0x483661(0x1ce)](_0x371dda=>{const _0x4634fe=_0x483661;if(_0x442489[_0x4634fe(0x2ba)][_0x4634fe(0x258)]==0x0)return![];else return _0x442489[_0x4634fe(0x2ba)]['includes'](_0x371dda[_0x4634fe(0x2ba)]);})[_0x483661(0x1ce)](_0x59bee6=>{const _0xa4a87b=_0x483661;if(_0x442489[_0xa4a87b(0x1f0)]=='')return!![];else return _0x59bee6[_0xa4a87b(0x1f0)][_0xa4a87b(0x25d)]()['includes'](_0x442489[_0xa4a87b(0x1f0)][_0xa4a87b(0x25d)]());})[_0x483661(0x200)](_0x483661(0x17e)),_0x392199=_0x193133[_0x483661(0x2c8)]()[_0x483661(0x258)];_0x193133=_0x193133[_0x483661(0x1ac)]()[_0x483661(0x257)]((_0x442489['page']-0x1)*logPageSize,_0x442489[_0x483661(0x27d)]*logPageSize-0x1)[_0x483661(0x1ac)]()[_0x483661(0x2c8)](),proxyEmit(_0x483661(0x15b),{'logs':_0x193133,'total':_0x392199});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2f883d){const _0x5ae778=_0x5c884d;if(dbLogs['has'](_0x5ae778(0x239))[_0x5ae778(0x2c8)]()){const _0x446d49=dbLogs[_0x5ae778(0x256)](_0x5ae778(0x239))[_0x5ae778(0x200)](_0x5ae778(0x17e))['filter'](_0x197170=>{const _0xe97f5a=_0x5ae778;return _0x197170[_0xe97f5a(0x2ba)]=='order';})[_0x5ae778(0x2c8)]();dbLogs[_0x5ae778(0x256)](_0x5ae778(0x239))[_0x5ae778(0x2c0)]()[_0x5ae778(0x281)](),dbLogs['get'](_0x5ae778(0x239))[_0x5ae778(0x21b)](_0x446d49)[_0x5ae778(0x281)](),emitHistory(_0x2f883d);}}async function pauseBot(_0x293f73=''){const _0x20ec81=_0x5c884d,_0x28c011=new Date()[_0x20ec81(0x2bf)]();if(!lastErrorShown||_0x28c011-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x28c011;!lastBotPause?(lastBotPause=_0x28c011,consecutivePauses=0x1):(_0x28c011-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x20ec81(0x234)]({'stop':_0x20ec81(0x1ad)},_0x81594e=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x20ec81(0x2bf)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x293f73)_0x293f73+='\x20|\x20';logHistory(_0x20ec81(0x18a),_0x293f73+_0x20ec81(0x18d)+pauseBotInterval/0xea60+_0x20ec81(0x1a0)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x4d7f0f=_0x5c884d;process[_0x4d7f0f(0x234)]({'stop':_0x4d7f0f(0x203)},_0x2d8deb=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x548498,_0x3285a5){const _0x9da230=_0x5c884d;if(_0x548498[_0x9da230(0x224)]()[_0x9da230(0x155)](_0x9da230(0x2aa)))return logHistory('error',config[_0x9da230(0x18f)]+_0x9da230(0x23e)),![];else{if(_0x548498[_0x9da230(0x224)]()[_0x9da230(0x155)](_0x9da230(0x2c9)))return logHistory(_0x9da230(0x18a),config[_0x9da230(0x18f)]+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x548498[_0x9da230(0x224)]()[_0x9da230(0x155)](_0x9da230(0x163)))return logHistory('error',config[_0x9da230(0x18f)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory('error',_0x9da230(0x187)),![];else await handleError(_0x548498,_0x3285a5);}}}async function handleError(_0x2c8184,_0x3be134,_0x3e5f6e=''){const _0x13789c=_0x5c884d,_0x1f65ce=config[_0x13789c(0x18f)]||_0x13789c(0x1b2);if(_0x2c8184[_0x13789c(0x224)]()[_0x13789c(0x155)](_0x13789c(0x156)))await pauseBot(config[_0x13789c(0x18f)]+_0x13789c(0x29b));else{if(_0x2c8184[_0x13789c(0x224)]()[_0x13789c(0x155)]('ExchangeNotAvailable'))await pauseBot(config[_0x13789c(0x18f)]+_0x13789c(0x2a3));else{if(_0x2c8184[_0x13789c(0x224)]()[_0x13789c(0x155)]('RequestTimeout'))await pauseBot(config[_0x13789c(0x18f)]+_0x13789c(0x1ae));else{if(_0x2c8184['toString']()[_0x13789c(0x155)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006'))await pauseBot(config[_0x13789c(0x18f)]+_0x13789c(0x1b4));else{if(_0x2c8184[_0x13789c(0x224)]()[_0x13789c(0x155)](_0x13789c(0x221)))logHistory(_0x13789c(0x18a),_0x3be134+_0x13789c(0x236)),logHistory(_0x13789c(0x18a),_0x13789c(0x16c)),await killBot();else{if(_0x2c8184[_0x13789c(0x224)]()['includes'](_0x13789c(0x276)))logHistory(_0x13789c(0x18a),_0x3be134+_0x13789c(0x243)),logHistory(_0x13789c(0x18a),_0x13789c(0x16c)),await killBot();else{if(_0x2c8184[_0x13789c(0x224)]()['includes'](_0x13789c(0x2aa)))logHistory('error',_0x3be134+_0x13789c(0x271)+config[_0x13789c(0x18f)]+_0x13789c(0x1f7)),logHistory(_0x13789c(0x18a),_0x13789c(0x16c)),await killBot();else{if(_0x2c8184[_0x13789c(0x224)]()[_0x13789c(0x155)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x13789c(0x18a),_0x3be134+_0x13789c(0x271)+config[_0x13789c(0x18f)]+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x13789c(0x18a),_0x13789c(0x16c)),await killBot();else{if(_0x2c8184[_0x13789c(0x224)]()[_0x13789c(0x155)](_0x13789c(0x163)))logHistory(_0x13789c(0x18a),_0x3be134+_0x13789c(0x271)+config['exchange']+_0x13789c(0x295)),logHistory(_0x13789c(0x18a),_0x13789c(0x16c)),await killBot();else _0x2c8184[_0x13789c(0x224)]()[_0x13789c(0x155)](_0x13789c(0x1a7))?logHistory(_0x13789c(0x18a),_0x3be134+_0x13789c(0x204)+_0x3e5f6e):(logger[_0x13789c(0x283)](_0x3be134+_0x13789c(0x1b3),_0x2c8184),await pauseBot(_0x13789c(0x27e)));}}}}}}}}}function formatResult(_0x597769,_0x41e3af){const _0x2b6001=_0x5c884d;return parseFloat(_0x597769[_0x2b6001(0x241)](_0x41e3af));}function formatResultTruncate(_0x2b4a00,_0x51c5ad){const _0x4cbd77=_0x5c884d;let _0x409c0f=formatResultString(_0x2b4a00,0xa),_0x55f361=_0x409c0f[_0x4cbd77(0x29f)]('.');return _0x55f361!=-0x1&&(_0x409c0f=_0x409c0f[_0x4cbd77(0x257)](0x0,_0x55f361+_0x51c5ad+0x1)),Number(_0x409c0f);}function formatResultString(_0x4fa640,_0x3cb5b1){const _0x45d3b1=_0x5c884d;let _0xb249af;if(!(''+_0x4fa640)[_0x45d3b1(0x155)]('e'))_0xb249af=+(Math[_0x45d3b1(0x2a2)](_0x4fa640+'e+'+_0x3cb5b1)+'e-'+_0x3cb5b1);else{let _0x37b784=(''+_0x4fa640)[_0x45d3b1(0x2a1)]('e'),_0x257340='';+_0x37b784[0x1]+_0x3cb5b1>0x0&&(_0x257340='+'),_0xb249af=+(Math['round'](+_0x37b784[0x0]+'e'+_0x257340+(+_0x37b784[0x1]+_0x3cb5b1))+'e-'+_0x3cb5b1);}return Number(_0xb249af)[_0x45d3b1(0x241)](_0x3cb5b1);}function getServerTime(){const _0x8b8dbf=_0x5c884d,_0x206933=new Date();return _0x206933['getFullYear']()+'/'+(_0x206933['getMonth']()+0x1)[_0x8b8dbf(0x224)]()['padStart'](0x2,'0')+'/'+_0x206933[_0x8b8dbf(0x2a4)]()[_0x8b8dbf(0x224)]()[_0x8b8dbf(0x22f)](0x2,'0')+'\x20'+_0x206933[_0x8b8dbf(0x160)]()[_0x8b8dbf(0x224)]()['padStart'](0x2,'0')+':'+_0x206933[_0x8b8dbf(0x1c4)]()[_0x8b8dbf(0x224)]()['padStart'](0x2,'0')+':'+_0x206933[_0x8b8dbf(0x15e)]()[_0x8b8dbf(0x224)]()[_0x8b8dbf(0x22f)](0x2,'0');}function getTimeStamp(){const _0x1e7c1b=_0x5c884d,_0x5174f7=shiftedTime();return _0x5174f7[_0x1e7c1b(0x25b)]()+'/'+(_0x5174f7[_0x1e7c1b(0x230)]()+0x1)[_0x1e7c1b(0x224)]()[_0x1e7c1b(0x22f)](0x2,'0')+'/'+_0x5174f7['getDate']()[_0x1e7c1b(0x224)]()[_0x1e7c1b(0x22f)](0x2,'0')+'\x20'+_0x5174f7[_0x1e7c1b(0x160)]()[_0x1e7c1b(0x224)]()['padStart'](0x2,'0')+':'+_0x5174f7[_0x1e7c1b(0x1c4)]()[_0x1e7c1b(0x224)]()[_0x1e7c1b(0x22f)](0x2,'0')+':'+_0x5174f7['getSeconds']()['toString']()[_0x1e7c1b(0x22f)](0x2,'0');}function getDate(){const _0xa0997d=_0x5c884d,_0x287249=shiftedTime();return _0x287249['getFullYear']()+'/'+(_0x287249[_0xa0997d(0x230)]()+0x1)[_0xa0997d(0x224)]()['padStart'](0x2,'0')+'/'+_0x287249['getDate']()['toString']()[_0xa0997d(0x22f)](0x2,'0');}function getHour(){const _0x40ee69=_0x5c884d,_0x3a9a8d=shiftedTime();return _0x3a9a8d[_0x40ee69(0x160)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x48e695){return new Promise(_0x408ff1=>setTimeout(_0x408ff1,_0x48e695));}function shiftedTime(){const _0x193a3f=_0x5c884d,_0x475e59=new Date();let _0x4e5dda=_0x475e59;if(config&&config['timeshift']!==0x0)_0x4e5dda=fns['add'](_0x475e59,{'hours':config[_0x193a3f(0x1c8)]});return _0x4e5dda;}function timer(_0x175a0c){const _0x5a6cb6=_0x5c884d,_0x5045f0=new Date();!lasttime?console['log']('timer:',_0x175a0c,_0x5045f0):console['log'](_0x5a6cb6(0x293),_0x175a0c,(_0x5045f0-lasttime)/0x3e8),lasttime=_0x5045f0;}