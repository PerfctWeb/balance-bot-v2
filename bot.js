const _0x4cc25a=_0x4d10;(function(_0x4c7850,_0xce4911){const _0x47429e=_0x4d10,_0x391014=_0x4c7850();while(!![]){try{const _0xd14f89=-parseInt(_0x47429e(0x185))/0x1*(parseInt(_0x47429e(0x1fb))/0x2)+parseInt(_0x47429e(0x149))/0x3+-parseInt(_0x47429e(0xdd))/0x4+parseInt(_0x47429e(0x166))/0x5*(parseInt(_0x47429e(0xea))/0x6)+-parseInt(_0x47429e(0x1db))/0x7*(-parseInt(_0x47429e(0x10f))/0x8)+parseInt(_0x47429e(0x14c))/0x9*(-parseInt(_0x47429e(0x237))/0xa)+parseInt(_0x47429e(0x188))/0xb;if(_0xd14f89===_0xce4911)break;else _0x391014['push'](_0x391014['shift']());}catch(_0x1eaf00){_0x391014['push'](_0x391014['shift']());}}}(_0x2243,0x203e7));const _0x21d85=function(){let _0x2ccb8f=!![];return function(_0x2beab0,_0x34c84c){const _0x572056=_0x2ccb8f?function(){const _0x2c0714=_0x4d10;if(_0x34c84c){const _0x58b37f=_0x34c84c[_0x2c0714(0x14b)](_0x2beab0,arguments);return _0x34c84c=null,_0x58b37f;}}:function(){};return _0x2ccb8f=![],_0x572056;};}(),_0x5f20d2=_0x21d85(this,function(){const _0x2d5843=_0x4d10;return _0x5f20d2[_0x2d5843(0x182)]()[_0x2d5843(0x267)]('(((.+)+)+)+$')[_0x2d5843(0x182)]()['constructor'](_0x5f20d2)[_0x2d5843(0x267)](_0x2d5843(0x1ef));});_0x5f20d2();'use strict';const ccxt=require(_0x4cc25a(0x11f)),low=require(_0x4cc25a(0x1d6)),FileSync=require(_0x4cc25a(0x19d)),fs=require('fs'),fns=require(_0x4cc25a(0x22f)),Crypt=require(_0x4cc25a(0x25e))['Crypt'],util=require(_0x4cc25a(0x1b0)),argv=require(_0x4cc25a(0x1d3))(process[_0x4cc25a(0x232)][_0x4cc25a(0x15c)](0x2))[_0x4cc25a(0x232)],path=require(_0x4cc25a(0x162));let exchange;global[_0x4cc25a(0x1ec)]={},global['change']={};const usdBasecoins=[_0x4cc25a(0x1d0),_0x4cc25a(0x269),_0x4cc25a(0x1c9),'USDT',_0x4cc25a(0x10d),_0x4cc25a(0x17e)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x4cc25a(0x1e4)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x4cc25a(0x12c)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x4cc25a(0x151)+pauseBotInterval/0xea60+_0x4cc25a(0xe1),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[],initCycle=0x0;const serverversion=require('./version.json')[_0x4cc25a(0x262)],botID=process[_0x4cc25a(0x232)][0x2]||_0x4cc25a(0x22a),pattern=/^[0-9]{3}$/;!pattern[_0x4cc25a(0x142)](botID)&&(console[_0x4cc25a(0x1cf)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x4cc25a(0xd9)+userID+'/':_0x4cc25a(0xd9),logspath=userID?_0x4cc25a(0xde)+userID+'/':'./logs/',loggerfile=fs[_0x4cc25a(0x172)](logspath+_0x4cc25a(0x134),{'flags':'a'});!fs[_0x4cc25a(0x15a)](configpath)&&fs[_0x4cc25a(0x240)](configpath);!fs['existsSync'](logspath)&&fs[_0x4cc25a(0x240)](logspath);const configfile=configpath+_0x4cc25a(0x236)+botID+_0x4cc25a(0x25b),logfile=configpath+_0x4cc25a(0x236)+botID+_0x4cc25a(0x223),performancefile=configpath+'bot-'+botID+_0x4cc25a(0x211),coinresultsfile=configpath+_0x4cc25a(0x236)+botID+_0x4cc25a(0x1ff),settingsfile=configpath+_0x4cc25a(0x233),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x4cc25a(0x12e),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x4cc25a(0x120)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x4cc25a(0x120)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x4cc25a(0x195)]({'coins':[],'version':serverversion})[_0x4cc25a(0x120)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x4cc25a(0x266),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x5de631=>{console['log'](_0x5de631);},'simple':_0x337f87=>{const _0xf62ea9=_0x4cc25a;console[_0xf62ea9(0x1cf)](_0x337f87),loggerfile[_0xf62ea9(0x120)](util[_0xf62ea9(0x10c)](_0x337f87)+'\x0a');},'full':async(_0x91e0f5,_0x1684fb='')=>{const _0x370d74=_0x4cc25a;let _0x247657;if(config['showname'])_0x247657=getTimeStamp()+':\x20'+config[_0x370d74(0x1c5)]+_0x370d74(0x130)+_0x91e0f5;else _0x247657=getTimeStamp()+_0x370d74(0x10e)+botID+_0x370d74(0x130)+_0x91e0f5;console[_0x370d74(0x1cf)](_0x247657),loggerfile[_0x370d74(0x120)](util[_0x370d74(0x10c)](_0x247657)+'\x0a'),_0x1684fb&&(console[_0x370d74(0x1cf)](_0x1684fb),loggerfile[_0x370d74(0x120)](util[_0x370d74(0x10c)](_0x1684fb)+'\x0a'));},'debug':async(_0x5b512e,_0x5a52df='')=>{const _0x34a434=_0x4cc25a;let _0x4c15cd;if(config[_0x34a434(0x156)])_0x4c15cd=getTimeStamp()+':\x20'+config[_0x34a434(0x1c5)]+'\x20>\x20[DEBUG]\x20'+_0x5b512e;else _0x4c15cd=getTimeStamp()+':\x20Bot\x20'+botID+_0x34a434(0x21b)+_0x5b512e;if(debugging)console[_0x34a434(0x1cf)](_0x4c15cd);loggerfile[_0x34a434(0x120)](util[_0x34a434(0x10c)](_0x4c15cd)+'\x0a');if(_0x5a52df){if(debugging)console[_0x34a434(0x1cf)](_0x5a52df);loggerfile[_0x34a434(0x120)](util[_0x34a434(0x10c)](_0x5a52df)+'\x0a');}}};process['on'](_0x4cc25a(0x119),function(_0x518f86){const _0x7d813c=_0x4cc25a;logHistory('error','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details'),logger[_0x7d813c(0x208)]('Uncaught\x20Exception:',_0x518f86);});settings[_0x4cc25a(0xf0)]!=config[_0x4cc25a(0xf0)]&&updateTimeshift(settings[_0x4cc25a(0xf0)]);settings[_0x4cc25a(0x16c)]!=config[_0x4cc25a(0x16c)]&&updateOnepagemode(settings['onepagemode']);process['send']({'started':'running'},_0x5b9214=>{}),initializeProcessListeners();function proxyEmit(_0x39528e,_0x164006=null){const _0x14a767=_0x4cc25a;process[_0x14a767(0x214)]({'function':_0x39528e,'args':_0x164006},_0x1a4d16=>{});}function initializeProcessListeners(){const _0x368541=_0x4cc25a;process['on'](_0x368541(0x1be),_0x1076a4=>{const _0x4b9df0=_0x368541;switch(Object[_0x4b9df0(0x102)](_0x1076a4)[0x0]){case _0x4b9df0(0xf0):_0x1076a4[_0x4b9df0(0xf0)]!=undefined&&(settings[_0x4b9df0(0xf0)]=_0x1076a4[_0x4b9df0(0xf0)],updateTimeshift(settings[_0x4b9df0(0xf0)]));break;case'onepagemode':_0x1076a4[_0x4b9df0(0x16c)]!=undefined&&(settings[_0x4b9df0(0x16c)]=_0x1076a4[_0x4b9df0(0x16c)],updateOnepagemode(settings[_0x4b9df0(0x16c)]));break;case _0x4b9df0(0x1e8):_0x1076a4[_0x4b9df0(0x1e8)]!=undefined&&(bots=JSON[_0x4b9df0(0xef)](_0x1076a4[_0x4b9df0(0x1e8)]),proxyEmit(_0x4b9df0(0x1e8),bots));break;case _0x4b9df0(0x161):switch(_0x1076a4[_0x4b9df0(0x161)]){case _0x4b9df0(0x177):initclient();break;case _0x4b9df0(0x1bf):toggleBotMode();break;case _0x4b9df0(0x21c):emitHistory(_0x1076a4[_0x4b9df0(0x268)]);break;case _0x4b9df0(0xf9):deleteHistoryAlerts(_0x1076a4[_0x4b9df0(0x268)]);break;case _0x4b9df0(0x138):getPortfolio(_0x1076a4['args']);break;case _0x4b9df0(0x264):storeConfiguration(_0x1076a4['args']);break;case _0x4b9df0(0x230):storeHeadless(_0x1076a4['args']);break;case _0x4b9df0(0x1e3):storeFiat(_0x1076a4[_0x4b9df0(0x268)]);break;case _0x4b9df0(0x174):resetHistory();break;case _0x4b9df0(0xe8):getStartingBalances(getNormalizedPerformance());break;case _0x4b9df0(0x24e):placeOrder(_0x1076a4[_0x4b9df0(0x268)]);break;case _0x4b9df0(0x124):cancelLoading();break;case _0x4b9df0(0x11b):showConfig();break;case _0x4b9df0(0x21f):sendMetricsTelegram();break;case _0x4b9df0(0x150):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x12e268=![]){const _0x253b22=_0x4cc25a;logger[_0x253b22(0x208)](_0x253b22(0x221)+(_0x12e268?'exchange\x20reloaded':_0x253b22(0x20a))+_0x253b22(0x1a6)+config[_0x253b22(0x196)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x12e268)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x253b22(0x1a9)]!=''&&config['apiKey']!=_0x253b22(0x186)){loadingProgress=0x0;if(_0x12e268){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0xc0ca1e){handleErrorNoStop(_0xc0ca1e,_0x253b22(0x259));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x4896bf=await getCoins();[currentCoins,currentCoinsAll]=_0x4896bf,loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x253b22(0x208)](_0x253b22(0x1d8)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x253b22(0x147)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x126941=_0x4cc25a;exchangeStopped=!![];try{await exchange[_0x126941(0x189)]();}catch(_0x4a146e){await handleError(_0x4a146e,_0x126941(0x219));}}async function reloadExchange(){const _0x321fb5=_0x4cc25a;while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x321fb5(0x208)](_0x321fb5(0x18b)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x1b73c5=config[_0x4cc25a(0x196)],_0x1def3d=config[_0x4cc25a(0x1a9)],_0x5011ee=config[_0x4cc25a(0x1ba)],_0xc926f7=config[_0x4cc25a(0x106)]){const _0xb9390f=_0x4cc25a;exchange&&await stopExchange();!supportedExchanges()[_0xb9390f(0x1e9)](_0x1b73c5)&&(logHistory(_0xb9390f(0x103),_0xb9390f(0xd7)+_0x1b73c5+_0xb9390f(0x256)),killBot());const _0x3d3114=ccxt['pro'][_0x1b73c5[_0xb9390f(0x21e)]()];exchange=new _0x3d3114({'apiKey':_0x1def3d,'secret':_0x5011ee,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0xb9390f(0x109)}});if(_0xc926f7)exchange[_0xb9390f(0x222)]=_0xc926f7;}function setStableCoins(){const _0xf0fa14=_0x4cc25a;let _0x5e21d4=config[_0xf0fa14(0x239)]==_0xf0fa14(0x17f)?_0xf0fa14(0x17f):'BTC',_0x278356=!allSymbols['includes'](_0x5e21d4+_0xf0fa14(0x1bd))?_0xf0fa14(0xf4):_0xf0fa14(0x1d0),_0x40fcd3=!allSymbols[_0xf0fa14(0x1e9)](_0x5e21d4+'/EUR')?_0x278356:_0xf0fa14(0x23d);stablecoins={'eur':{'coin':''+_0x5e21d4+_0x40fcd3,'symbol':_0x5e21d4+'/'+_0x40fcd3},'usd':{'coin':''+_0x5e21d4+_0x278356,'symbol':_0x5e21d4+'/'+_0x278356}};}async function initwsCcxt(){const _0x1d4d25=_0x4cc25a;initCycle++;const _0xbe83b3=initCycle;let _0x2aab21=[];config[_0x1d4d25(0x1af)]['forEach'](_0x36176b=>{const _0x310f57=_0x1d4d25;if(!_0x36176b['excluded']&&_0x36176b[_0x310f57(0x19e)]!=config[_0x310f57(0x239)])_0x2aab21[_0x310f57(0x25c)](_0x36176b[_0x310f57(0x190)]);});if(!_0x2aab21[_0x1d4d25(0x1e9)](stablecoins[_0x1d4d25(0x108)][_0x1d4d25(0x190)]))_0x2aab21[_0x1d4d25(0x25c)](stablecoins[_0x1d4d25(0x108)][_0x1d4d25(0x190)]);if(!_0x2aab21[_0x1d4d25(0x1e9)](stablecoins[_0x1d4d25(0x17c)][_0x1d4d25(0x190)]))_0x2aab21[_0x1d4d25(0x25c)](stablecoins[_0x1d4d25(0x17c)][_0x1d4d25(0x190)]);if(config[_0x1d4d25(0x196)][_0x1d4d25(0x241)](_0x1d4d25(0x114))){if(!_0x2aab21[_0x1d4d25(0x1e9)](_0x1d4d25(0x24f)+config[_0x1d4d25(0x239)]))_0x2aab21[_0x1d4d25(0x25c)]('BNB/'+config[_0x1d4d25(0x239)]);}loadCoins(_0x2aab21),_0x2aab21=validateSymbols(_0x2aab21);const _0x1232cf=async _0x25aa2d=>{const _0x2941bf=_0x1d4d25;let _0x2568ee;try{const _0x5f1d77=await exchange[_0x2941bf(0x192)](_0x25aa2d);Object[_0x2941bf(0x205)](_0x5f1d77)[_0x2941bf(0x15b)](_0x25ba41=>{const _0x448193=_0x2941bf;_0x2568ee=_0x25ba41[0x1]['symbol'],global[_0x448193(0x1ec)][noslash(_0x2568ee)]=_0x25ba41[0x1]['last'],global[_0x448193(0xe9)][_0x2568ee]=_0x25ba41[0x1][_0x448193(0x1b7)];});}catch(_0x52b045){await handleError(_0x52b045,_0x2941bf(0x216),_0x2568ee);}},_0x2b2e98=async _0x197cd0=>{const _0x164338=_0x1d4d25;while(initCycle==_0xbe83b3){if(!botPaused)try{const _0xa8f545=await exchange[_0x164338(0x131)](_0x197cd0);global[_0x164338(0x1ec)][noslash(_0xa8f545[0x0]['symbol'])]=_0xa8f545[0x0][_0x164338(0x1dd)],await sleep(0x3e8);}catch(_0x3d730e){if(!exchangeStopped)await handleError(_0x3d730e,_0x164338(0x1c0),_0x197cd0);}else await sleep(0x64);}},_0x3646a5=async _0x18c152=>{const _0x470286=_0x1d4d25;await sleep(0x3c*0x3e8);while(initCycle==_0xbe83b3){if(!botPaused){let _0x193ab6;try{const _0x4210b6=await exchange[_0x470286(0x192)](_0x18c152);Object[_0x470286(0x205)](_0x4210b6)[_0x470286(0x15b)](_0x56c718=>{const _0x4e4bed=_0x470286;_0x193ab6=_0x56c718[0x1]['symbol'],global[_0x4e4bed(0xe9)][_0x193ab6]=_0x56c718[0x1][_0x4e4bed(0x1b7)];}),await sleep(0x3c*0x3e8);}catch(_0x39fd72){if(!exchangeStopped)await handleError(_0x39fd72,_0x470286(0x203),_0x193ab6);}}else await sleep(0x64);}},_0x2fee81=async _0xe8f5d0=>{const _0x1dcbe3=_0x1d4d25;while(initCycle==_0xbe83b3){if(!botPaused)try{const _0x2e6e93=await exchange[_0x1dcbe3(0x12f)](_0xe8f5d0);initCycle==_0xbe83b3&&_0x2e6e93['forEach'](_0x4d37e5=>{const _0x1911ca=_0x1dcbe3;updateNumberCoinsCcxt(_0x4d37e5),logger['debug'](_0x1911ca(0x1a4)+_0x4d37e5[_0x1911ca(0x190)]+'\x20'+_0x4d37e5[_0x1911ca(0x1b9)]+'\x20'+initCycle+'\x20'+_0xbe83b3);});}catch(_0x17bf83){if(!exchangeStopped)await handleError(_0x17bf83,_0x1dcbe3(0x229));}else await sleep(0x64);}};_0x1232cf(_0x2aab21),_0x3646a5(_0x2aab21),_0x2aab21[_0x1d4d25(0x15b)](_0x330053=>{_0x2b2e98(_0x330053),_0x2fee81(_0x330053);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function watchTransactions(){const _0x4ad4ac=_0x4cc25a;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x573020=await getCoins(),[_0x48d627,_0x2f1e96]=_0x573020;let _0x417f4f=[];currentCoins['forEach'](_0x25fc63=>{const _0x568bd6=_0x4d10,_0x5ed396=_0x48d627[_0x568bd6(0x1cc)](_0x179fb4=>_0x179fb4[_0x568bd6(0x19e)]==_0x25fc63[_0x568bd6(0x19e)]);if(_0x5ed396){if(_0x25fc63['number']!=_0x5ed396[_0x568bd6(0x1d5)]){let _0xc6a27d;if(_0x25fc63[_0x568bd6(0x19e)]!=config[_0x568bd6(0x239)]){const _0x2583c6=global[_0x568bd6(0x1ec)][noslash(_0x25fc63[_0x568bd6(0x190)])];_0xc6a27d=_0x25fc63[_0x568bd6(0x15d)]?0x1/_0x2583c6:_0x2583c6;}else _0xc6a27d=0x1;_0x417f4f[_0x568bd6(0x25c)]({'coin':_0x25fc63[_0x568bd6(0x19e)],'symbol':_0x25fc63[_0x568bd6(0x190)],'price':_0xc6a27d,'number':Number(formatResult(_0x5ed396[_0x568bd6(0x1d5)]-_0x25fc63[_0x568bd6(0x1d5)],0x8)),'basecoinvalue':_0xc6a27d*(_0x5ed396['number']-_0x25fc63['number'])});}}});if(_0x417f4f[_0x4ad4ac(0x147)]==0x1&&!blockTransactionDetection){if(config[_0x4ad4ac(0x105)]){logger['debug'](_0x4ad4ac(0x157)+_0x417f4f[0x0][_0x4ad4ac(0x206)]+_0x4ad4ac(0x245)+lastFees[_0x4ad4ac(0x1cd)]);if(lastFees[_0x4ad4ac(0x1cd)]==0x0||Math[_0x4ad4ac(0xdf)](_0x417f4f[0x0]['basecoinvalue'])>lastFees[_0x4ad4ac(0x1cd)]){delete _0x417f4f[0x0][_0x4ad4ac(0x190)],delete _0x417f4f[0x0][_0x4ad4ac(0x206)];let _0x439c83=[],_0x4f5210=[...config[_0x4ad4ac(0x1b3)]]||[],_0x24dd1d=config[_0x4ad4ac(0x1b3)];_0x4f5210[_0x4ad4ac(0x207)]((_0x25c3bc,_0x3d8d60)=>_0x25c3bc[_0x4ad4ac(0x23c)]>_0x3d8d60[_0x4ad4ac(0x23c)]?-0x1:_0x3d8d60[_0x4ad4ac(0x23c)]>_0x25c3bc[_0x4ad4ac(0x23c)]?0x1:0x0);const _0xf674aa=getDate();if(_0x4f5210[0x0]){const _0x55e627=fns[_0x4ad4ac(0xef)](_0x4f5210[0x0]['date'],_0x4ad4ac(0x16d),new Date()),_0x186824=fns['parse'](_0xf674aa,_0x4ad4ac(0x16d),new Date());if(fns[_0x4ad4ac(0x146)](_0x55e627,_0x186824)){_0x439c83=_0x4f5210[0x0][_0x4ad4ac(0x194)];const _0x56aa38=_0x439c83[_0x4ad4ac(0x1cc)](_0x38afa4=>_0x38afa4['coin']==_0x417f4f[0x0]['coin']);_0x56aa38?(_0x56aa38[_0x4ad4ac(0x1d5)]+=_0x417f4f[0x0]['number'],_0x56aa38[_0x4ad4ac(0x1d5)]==0x0&&(_0x439c83=_0x439c83[_0x4ad4ac(0x220)](_0xefb969=>{const _0x4c9aea=_0x4ad4ac;return _0xefb969[_0x4c9aea(0x19e)]!=_0x417f4f[0x0]['coin'];}))):_0x439c83['push'](_0x417f4f[0x0]);const _0x3285a9=_0x24dd1d[_0x4ad4ac(0x1cc)](_0x55adf5=>_0x55adf5[_0x4ad4ac(0x23c)]==_0xf674aa);_0x3285a9[_0x4ad4ac(0x194)]=_0x439c83;}else _0x24dd1d[_0x4ad4ac(0x25c)]({'date':_0xf674aa,'changes':[_0x417f4f[0x0]]});}const _0x4b352e=_0x24dd1d[_0x4ad4ac(0x1cc)](_0x169ab7=>_0x169ab7['date']==_0xf674aa);if(_0x4b352e){let _0xb0e0a4=!![];_0x4b352e[_0x4ad4ac(0x194)][_0x4ad4ac(0x15b)](_0x14cd98=>{const _0x43cda5=_0x4ad4ac;if(_0x14cd98[_0x43cda5(0x1d5)]!=0x0)_0xb0e0a4=![];}),_0xb0e0a4&&(_0x24dd1d=_0x24dd1d[_0x4ad4ac(0x220)](_0xf5c10b=>{return _0xf5c10b['date']!=_0xf674aa;}));}let _0x5b3298=dbConfig[_0x4ad4ac(0x225)]('bot')['find']({'botID':botID})[_0x4ad4ac(0xe2)]();_0x5b3298&&(dbConfig[_0x4ad4ac(0x225)](_0x4ad4ac(0x126))[_0x4ad4ac(0x1cc)]({'botID':botID})['assign']({'liquidity':_0x24dd1d})['write'](),config[_0x4ad4ac(0x1b3)]=_0x24dd1d),logHistory(_0x4ad4ac(0x19a),'Portfolio\x20change\x20detected:\x20'+Math[_0x4ad4ac(0xdf)](_0x417f4f[0x0][_0x4ad4ac(0x1d5)])+'\x20'+_0x417f4f[0x0]['coin']+'\x20'+(_0x417f4f[0x0]['number']>0x0?'added':_0x4ad4ac(0x1eb))+_0x4ad4ac(0x183)),proxyEmit(_0x4ad4ac(0x198),emittedConfiguration());}else logger[_0x4ad4ac(0x208)](_0x4ad4ac(0xf5)+Math[_0x4ad4ac(0xdf)](_0x417f4f[0x0][_0x4ad4ac(0x1d5)])+'\x20'+_0x417f4f[0x0]['coin']+'\x20'+(_0x417f4f[0x0][_0x4ad4ac(0x1d5)]>0x0?_0x4ad4ac(0x22e):_0x4ad4ac(0x1eb)));transactionDetected=!![],currentCoins=_0x48d627,currentCoinsAll=_0x2f1e96;}else logger[_0x4ad4ac(0x208)]('Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x417f4f[0x0][_0x4ad4ac(0x1d5)])+'\x20'+_0x417f4f[0x0]['coin']+'\x20'+(_0x417f4f[0x0]['number']>0x0?_0x4ad4ac(0x22e):_0x4ad4ac(0x1eb))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled'),currentCoins=_0x48d627,currentCoinsAll=_0x2f1e96;}await sleep(watchTransactionsInterval);}catch(_0x59b3ab){if(!exchangeStopped)await handleError(_0x59b3ab,_0x4ad4ac(0x158));}else await sleep(0x64);}}async function loadSymbols(){const _0x2d5acd=_0x4cc25a;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object[_0x2d5acd(0x205)](markets)[_0x2d5acd(0x15b)](_0x35226b=>{const _0x2ef1bc=_0x2d5acd;_0x35226b[0x1][_0x2ef1bc(0x24a)]&&_0x35226b[0x1][_0x2ef1bc(0x109)]&&allSymbols[_0x2ef1bc(0x25c)](_0x35226b[0x0]);});}catch(_0xd24623){throw _0xd24623;}}function validateSymbols(_0x5562fa){let _0x5b6210=[];return _0x5562fa['forEach'](_0x523ee0=>{const _0xed74cd=_0x4d10;!allSymbols[_0xed74cd(0x1e9)](_0x523ee0)?logHistory(_0xed74cd(0x103),_0xed74cd(0x13b)+_0x523ee0+_0xed74cd(0x1fd)):_0x5b6210['push'](_0x523ee0);}),_0x5b6210;}async function initclient(){const _0x5b0c34=_0x4cc25a;proxyEmit(_0x5b0c34(0x198),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1835c8=getNormalizedPerformance();emitPerformance(_0x1835c8),getStartingBalances(_0x1835c8);}async function toggleBotMode(){const _0x1ce3e3=_0x4cc25a;let _0x2b1a0d=dbConfig['get'](_0x1ce3e3(0x126))[_0x1ce3e3(0x1cc)]({'botID':botID})[_0x1ce3e3(0xe2)]();if(_0x2b1a0d){const _0x5b38d7=!_0x2b1a0d[_0x1ce3e3(0xf6)];dbConfig['get'](_0x1ce3e3(0x126))[_0x1ce3e3(0x1cc)]({'botID':botID})[_0x1ce3e3(0x14f)]({'headless':_0x5b38d7})[_0x1ce3e3(0x120)](),config['headless']=_0x5b38d7,proxyEmit(_0x1ce3e3(0x198),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x498b27=_0x4cc25a;process[_0x498b27(0x214)]({'updatebotmanager':!![]},_0x1a8175=>{});}async function loadCoins(_0xcf5c45){const _0x59ed9b=_0x4cc25a;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x4aad83,_0x295b23=0x0,_0x32b45b=0x0;_0xcf5c45[_0x59ed9b(0x15b)](_0x73b566=>{const _0x408043=_0x59ed9b;loading[_0x408043(0x20e)][_0x408043(0x25c)](_0x73b566);}),loadingCanceled=![];let _0x1f7e4b=![];while(_0x4aad83!=_0xcf5c45[_0x59ed9b(0x147)]+maxLoadingProgress){_0x4aad83=loadingProgress,_0xcf5c45[_0x59ed9b(0x15b)](_0x59e615=>{const _0x2cfd13=_0x59ed9b;if(global['ticker'][noslash(_0x59e615)]){loading[_0x2cfd13(0x20e)]=loading['remainingSymbols'][_0x2cfd13(0x220)](_0x3140c1=>_0x3140c1!=_0x59e615);if(!watchedSymbols[_0x2cfd13(0x1e9)](_0x59e615))watchedSymbols['push'](_0x59e615);_0x4aad83++;}}),loading['progress']=Math['round'](_0x4aad83/(_0xcf5c45[_0x59ed9b(0x147)]+maxLoadingProgress)*0x64);loading[_0x59ed9b(0x251)]!=0x64&&(_0x32b45b>0x1e*0x5&&(loading[_0x59ed9b(0x246)]=!![],emitLoadingProgress()),_0x32b45b>0x78*0x5&&!_0x1f7e4b&&(loading['cancel']=!![],emitLoadingProgress(),_0x1f7e4b=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x59ed9b(0x20e)][_0x59ed9b(0x1e1)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory('error',_0x59ed9b(0x1d7)+loadCoinsRetryInterval/0xea60+_0x59ed9b(0x145)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0xb71d12=_0x59ed9b;process['send']({'stop':_0xb71d12(0xd8)},_0x608e1=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x295b23!=loading[_0x59ed9b(0x251)]&&(_0x295b23=loading[_0x59ed9b(0x251)],emitLoadingProgress()),_0x32b45b++,await sleep(0xc8);}_0x4aad83==_0xcf5c45[_0x59ed9b(0x147)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':'enabled','live':'running'},_0x1f1755=>{}),_0x1f7e4b&&logHistory(_0x59ed9b(0x19a),_0x59ed9b(0x217)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4ab455=_0x4cc25a;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x4ab455(0x234)});}function emitLoadingProgress(){const _0x167aa=_0x4cc25a;proxyEmit(_0x167aa(0x19c),loading);}async function getFiat(){const _0x4460d3=_0x4cc25a;let _0x1852e5=global[_0x4460d3(0x1ec)][stablecoins['eur']['coin']],_0x2525f9=global['ticker'][stablecoins[_0x4460d3(0x17c)][_0x4460d3(0x19e)]];return{'eur':Number(_0x1852e5),'usd':Number(_0x2525f9)};}function capitalize(_0x4effc0){const _0x221810=_0x4cc25a;return _0x4effc0[_0x221810(0x117)](0x0,0x1)['toUpperCase']()+_0x4effc0[_0x221810(0x117)](0x1);}function supportedExchanges(){const _0x202219=_0x4cc25a,_0x3ba9fa=['ws','fetchTickers','fetchTicker',_0x202219(0x131),'watchOrders','cancelOrder',_0x202219(0x14d),'fetchOpenOrders',_0x202219(0x1a2),_0x202219(0x144)];let _0x5238e1=[],_0x303cd2=[],_0xc4b0e=ccxt[_0x202219(0x153)][_0x202219(0x1ab)];_0xc4b0e[_0x202219(0x15b)](_0x11b1f5=>{const _0x40f6a5=_0x202219;try{const _0x46934c=new ccxt[(_0x40f6a5(0x153))][_0x11b1f5]();_0x303cd2[_0x40f6a5(0x25c)](_0x46934c);}catch(_0x5216d6){}}),_0x303cd2[_0x202219(0x15b)](_0x4f0979=>{const _0x3a66d1=_0x202219;let _0x1c892d=0x0;_0x3ba9fa[_0x3a66d1(0x15b)](_0x298241=>{const _0x154218=_0x3a66d1;_0x298241 in _0x4f0979[_0x154218(0x1ac)]&&_0x4f0979['has'][_0x298241]&&_0x1c892d++;}),_0x1c892d==_0x3ba9fa['length']&&_0x5238e1['push'](capitalize(_0x4f0979['id']));});let _0x2bc1b2=[];return _0xc4b0e[_0x202219(0x15b)](_0x29a5e5=>{const _0x24520a=_0x202219;_0x29a5e5=capitalize(_0x29a5e5);if(!_0x5238e1[_0x24520a(0x1e9)](_0x29a5e5))_0x2bc1b2[_0x24520a(0x25c)](_0x29a5e5);}),_0x5238e1;}function setStartDatePerformance(){const _0x1a1bb6=_0x4cc25a;if(config&&config[_0x1a1bb6(0x1b3)][0x0][_0x1a1bb6(0x194)][_0x1a1bb6(0x147)]!=0x0){const _0x334d10=config['liquidity'][0x0][_0x1a1bb6(0x194)];dbPerformance[_0x1a1bb6(0x225)](_0x1a1bb6(0x13e))['find']({'date':config[_0x1a1bb6(0x1f2)]})[_0x1a1bb6(0x14f)]({'coins':_0x334d10})[_0x1a1bb6(0x120)]();}}async function recreateCoinResults(){const _0x4737a1=_0x4cc25a;let _0x4608b5,_0x2c6b6e=[];try{const _0x3c6cf5=fns[_0x4737a1(0x10c)](fns[_0x4737a1(0x1e2)](config[_0x4737a1(0x1f2)][_0x4737a1(0x140)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x56a794 of currentCoins){if(_0x56a794['coin']!=config[_0x4737a1(0x239)]){let _0x4bbf36=0x0,_0x266b09,_0x5383ac;_0x4608b5=await getAllEventOrders(_0x56a794[_0x4737a1(0x190)]);if(_0x4608b5['length']>0x0)_0x4608b5[_0x4737a1(0x15b)](_0x314933=>{const _0x4c64c1=_0x4737a1,_0x478908=_0x56a794[_0x4c64c1(0x190)]['includes'](config[_0x4c64c1(0x239)]+'/');_0x2c6b6e[_0x4c64c1(0x25c)]({'datetime':_0x314933[_0x4c64c1(0x1b5)],'coin':_0x56a794[_0x4c64c1(0x19e)],'symbol':_0x56a794['symbol'],'side':_0x314933['side'],'reverse':_0x478908,'amount':formatResult(_0x314933['filled'],0x8),'filled':formatResult(_0x314933[_0x4c64c1(0x23a)],0x8),'price':formatResult(_0x314933['price'],0x8)}),_0x4bbf36=_0x314933[_0x4c64c1(0x16f)]=='buy'?_0x4bbf36+_0x314933[_0x4c64c1(0x23a)]:_0x4bbf36-_0x314933[_0x4c64c1(0x23a)];if(!_0x5383ac)_0x5383ac=_0x314933[_0x4c64c1(0x1dd)];});_0x266b09=_0x56a794[_0x4737a1(0x1d5)]-_0x4bbf36;let _0x2bc38c;config['liquidity'][_0x4737a1(0x15b)](_0x3f57de=>{const _0x5be948=_0x4737a1;!_0x2bc38c&&(_0x2bc38c=_0x3f57de[_0x5be948(0x194)][_0x5be948(0x1cc)](_0xc7eaa8=>_0xc7eaa8[_0x5be948(0x19e)]==_0x56a794[_0x5be948(0x19e)]),_0x2bc38c&&(_0x266b09=_0x2bc38c['number'],_0x5383ac=_0x2bc38c['price']));});let _0x59ef14=dbCoinResults[_0x4737a1(0x225)](_0x4737a1(0x19f))[_0x4737a1(0x1cc)]({'coin':_0x56a794[_0x4737a1(0x19e)]})['value']();_0x59ef14={'coin':_0x56a794[_0x4737a1(0x19e)],'number':_0x266b09,'breakeven':_0x5383ac,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x4737a1(0x19f))['find']({'coin':_0x56a794[_0x4737a1(0x19e)]})[_0x4737a1(0x14f)](_0x59ef14)[_0x4737a1(0x120)]();}}_0x2c6b6e[_0x4737a1(0x207)]((_0x4fadcd,_0x415d88)=>_0x4fadcd[_0x4737a1(0x1b5)]>_0x415d88['datetime']?0x1:_0x415d88['datetime']>_0x4fadcd[_0x4737a1(0x1b5)]?-0x1:0x0);let _0x373d67=0x0;for(let _0x2c0752 of _0x2c6b6e){await updateCoinResults(_0x2c0752,!![]);}}catch(_0x4881dc){await handleError(_0x4881dc,_0x4737a1(0x15e));}}async function getAllEventOrders(_0x131ac4){const _0x5e4fc2=_0x4cc25a;let _0x52d50c=[],_0x388dd9=dbLogs[_0x5e4fc2(0x225)](_0x5e4fc2(0x1b1))[_0x5e4fc2(0x220)](_0x3ce8f3=>{const _0x185a38=_0x5e4fc2,_0xa22cee=_0x3ce8f3['event'][_0x185a38(0x21e)]();return _0xa22cee[_0x185a38(0x1e9)](_0x131ac4[_0x185a38(0x21e)]())&&(_0xa22cee[_0x185a38(0x1e9)]('market')&&_0xa22cee[_0x185a38(0x1e9)]('order')||_0xa22cee['includes'](_0x185a38(0x23a))&&_0xa22cee[_0x185a38(0x1e9)](_0x185a38(0x1cb)));})[_0x5e4fc2(0x1a7)](_0x5e4fc2(0x127))[_0x5e4fc2(0xe2)]();return _0x388dd9[_0x5e4fc2(0x15b)](_0x22572b=>{const _0x2b296c=_0x5e4fc2,_0x3b001a=_0x22572b[_0x2b296c(0x25a)][_0x2b296c(0x1e9)](_0x2b296c(0xe4))?_0x2b296c(0xe4):'buy',_0x3e6b99=/#([0-9]|\.)+\s/i,_0x107cfb=Number(_0x3e6b99[_0x2b296c(0x254)](_0x22572b[_0x2b296c(0x25a)])[0x0][_0x2b296c(0x15c)](0x1)),_0xce0be=/@([0-9]|\.)+$/i,_0x3e9997=Number(_0xce0be[_0x2b296c(0x254)](_0x22572b[_0x2b296c(0x25a)])[0x0][_0x2b296c(0x15c)](0x1));_0x52d50c['push']({'datetime':_0x22572b[_0x2b296c(0x127)],'coin':symbolToCoin(_0x131ac4),'symbol':_0x131ac4,'side':_0x3b001a,'amount':_0x107cfb,'filled':_0x107cfb,'price':_0x3e9997});}),_0x52d50c;}async function getAllOrders(_0x2f9251,_0x4d3485){const _0x4d8d9f=_0x4cc25a;let _0x788aea=[];while(_0x4d3485<exchange['milliseconds']()){const _0x30dc7f=0x1f4;try{const _0x59c989=await exchange['fetchClosedOrders'](_0x2f9251,_0x4d3485,_0x30dc7f);if(_0x59c989['length'])_0x4d3485=_0x59c989[_0x59c989['length']-0x1][_0x4d8d9f(0x238)]+0x1,_0x788aea=_0x788aea[_0x4d8d9f(0x23e)](_0x59c989);else break;}catch(_0x325263){await handleError(_0x325263,_0x4d8d9f(0x1d4),_0x2f9251);}}return _0x788aea;}async function validate24hChanges(){const _0x102412=_0x4cc25a;for(const _0x11c8b6 of currentCoins){if(_0x11c8b6[_0x102412(0x19e)]!=config[_0x102412(0x239)]){let _0x5c0bd1;_0x11c8b6[_0x102412(0x15d)]?_0x5c0bd1=formatResult((0x1/(global[_0x102412(0xe9)][noslash(_0x11c8b6[_0x102412(0x190)])]/0x64+0x1)-0x1)*0x64,0x3):_0x5c0bd1=global[_0x102412(0xe9)][noslash(_0x11c8b6[_0x102412(0x190)])],_0x5c0bd1<config[_0x102412(0x1fc)]&&(logHistory(_0x102412(0x103),_0x11c8b6[_0x102412(0x19e)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x5c0bd1+'%'),logHistory(_0x102412(0x103),_0x102412(0x10b)),logHistory(_0x102412(0x103),_0x102412(0x1c1)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x5d2ae0,_0x3b1488){const _0x150f17=_0x4cc25a;if(!_0x5d2ae0)return!![];const _0x54f43c=_0x3b1488[_0x150f17(0x181)]('.'),_0x4c7735=_0x5d2ae0[_0x150f17(0x181)]('.');for(var _0xaba35=0x0;_0xaba35<_0x4c7735[_0x150f17(0x147)];_0xaba35++){const _0x20ddc6=~~_0x4c7735[_0xaba35],_0x3eb0c8=~~_0x54f43c[_0xaba35];if(_0x20ddc6<_0x3eb0c8)return!![];if(_0x20ddc6>_0x3eb0c8)return![];}return![];}async function oneTimeMigration(){const _0x1e70af=_0x4cc25a;let _0x484406=dbLogs[_0x1e70af(0x225)]('version')['value']();if(isOlderVersion(_0x484406,_0x1e70af(0x218))){let _0x5454c6=[];const _0x534f10=dbLogs[_0x1e70af(0x225)]('logs')[_0x1e70af(0xe2)]();_0x534f10[_0x1e70af(0x15b)](_0x52c9c4=>{const _0x3001c9=_0x1e70af;_0x5454c6['push']({'time':_0x52c9c4[_0x3001c9(0x127)],'type':_0x52c9c4[_0x3001c9(0x191)],'event':_0x52c9c4[_0x3001c9(0x25a)]});}),dbLogs[_0x1e70af(0x225)]('logs')[_0x1e70af(0x14f)](_0x5454c6)['write']();}let _0x3f2bcc=dbConfig[_0x1e70af(0x225)](_0x1e70af(0x262))[_0x1e70af(0xe2)]();if(isOlderVersion(_0x3f2bcc,'2.3.5')){let _0x1eccc7=dbConfig[_0x1e70af(0x225)](_0x1e70af(0x126))[_0x1e70af(0x1cc)]({'botID':botID})[_0x1e70af(0xe2)]();if(_0x1eccc7){let _0x9afcbf=[];_0x1eccc7['portfolio']['forEach'](_0x2293b0=>{const _0x43debc=_0x1e70af;_0x9afcbf['push']({'coin':_0x2293b0[_0x43debc(0x19e)],'number':_0x2293b0['startnumber'],'price':_0x2293b0[_0x43debc(0xf8)]}),delete _0x2293b0[_0x43debc(0x143)],delete _0x2293b0[_0x43debc(0xf8)];});if(_0x9afcbf[_0x1e70af(0x147)]!==0x0)fs['writeFile'](configbackuppath+(_0x1e70af(0xe0)+botID+_0x1e70af(0x1ce)),JSON[_0x1e70af(0x243)](_0x9afcbf,null,0x4),function(_0x4b838b){if(_0x4b838b){}});const _0x30ba39=(_0x474561,_0x4ccf3f)=>{const _0x2dd6b5=_0x1e70af;let _0x5bf9ec=[];_0x4ccf3f['forEach'](_0x480b3d=>{const _0x4bbde0=_0x4d10,_0x20629f=_0x474561[_0x4bbde0(0x1cc)](_0x2c5e0f=>_0x2c5e0f[_0x4bbde0(0x19e)]==_0x480b3d['coin']);if(!_0x20629f)_0x5bf9ec['push'](_0x480b3d);});let _0x5c943a=[];return _0x474561[_0x2dd6b5(0x15b)](_0x136831=>{const _0x4f0ed8=_0x2dd6b5,_0x453489=_0x4ccf3f[_0x4f0ed8(0x1cc)](_0x5d659f=>_0x5d659f['coin']==_0x136831['coin']);if(!_0x453489||_0x453489[_0x4f0ed8(0x1d5)]==0x0&&_0x136831[_0x4f0ed8(0x1d5)]!=0x0)_0x5c943a[_0x4f0ed8(0x25c)](_0x136831);}),{'missingDay1':_0x5bf9ec,'notInDay2':_0x5c943a};},_0x3d665b=dbPerformance[_0x1e70af(0x225)](_0x1e70af(0x13e))['cloneDeep']()[_0x1e70af(0xe2)]();if(_0x3d665b[_0x1e70af(0x147)]>0x1){const {missingDay1:_0x2a5414,notInDay2:_0x105cbd}=_0x30ba39(_0x9afcbf,_0x3d665b[0x1][_0x1e70af(0x19f)]);_0x9afcbf=[..._0x9afcbf,..._0x2a5414],_0x105cbd[_0x1e70af(0x15b)](_0x5e4cad=>{const _0x5b6c11=_0x1e70af;let _0x2db318=_0x9afcbf['findIndex'](_0x3a2b48=>_0x3a2b48['coin']==_0x5e4cad[_0x5b6c11(0x19e)]);_0x2db318!=-0x1&&_0x9afcbf[_0x5b6c11(0x250)](_0x2db318,0x1);});}_0x9afcbf[_0x1e70af(0x207)]((_0x3ae242,_0x1c7998)=>_0x3ae242[_0x1e70af(0x19e)]>_0x1c7998['coin']?0x1:_0x1c7998[_0x1e70af(0x19e)]>_0x3ae242['coin']?-0x1:0x0);let _0x259c3e=[{'date':_0x1eccc7['startdate'],'changes':_0x9afcbf}];_0x3d665b[_0x1e70af(0x147)]>0x2&&_0x3d665b[_0x1e70af(0x15b)]((_0x2e5da1,_0x1c7703)=>{const _0x3a978c=_0x1e70af;if(_0x1c7703>0x0&&_0x1c7703<_0x3d665b[_0x3a978c(0x147)]-0x1){const {missingDay1:_0x8a7747,notInDay2:_0x4afaca}=_0x30ba39(_0x3d665b[_0x1c7703][_0x3a978c(0x19f)],_0x3d665b[_0x1c7703+0x1]['coins']);_0x9afcbf=[],(_0x8a7747[_0x3a978c(0x147)]!=0x0||_0x4afaca[_0x3a978c(0x147)]!=0x0)&&(_0x8a7747[_0x3a978c(0x147)]!=0x0&&_0x9afcbf[_0x3a978c(0x25c)](..._0x8a7747),_0x4afaca[_0x3a978c(0x147)]!=0x0&&(_0x4afaca['forEach'](_0x590674=>{const _0x56e5fd=_0x3a978c;_0x590674[_0x56e5fd(0x1d5)]=-_0x590674['number'];}),_0x9afcbf[_0x3a978c(0x25c)](..._0x4afaca)),_0x9afcbf[_0x3a978c(0x207)]((_0x223576,_0x26303e)=>_0x223576['coin']>_0x26303e[_0x3a978c(0x19e)]?0x1:_0x26303e[_0x3a978c(0x19e)]>_0x223576['coin']?-0x1:0x0),_0x259c3e[_0x3a978c(0x25c)]({'date':_0x3d665b[_0x1c7703+0x1]['date'],'changes':_0x9afcbf}));}}),dbConfig[_0x1e70af(0x225)]('bot')['find']({'botID':botID})[_0x1e70af(0x14f)]({..._0x1eccc7,'liquidity':_0x259c3e})[_0x1e70af(0x120)]();}}if(isOlderVersion(_0x3f2bcc,_0x1e70af(0x1e0))){let _0x228b26=dbConfig[_0x1e70af(0x225)](_0x1e70af(0x126))[_0x1e70af(0x1cc)]({'botID':botID})['value']();if(_0x228b26){const _0x22e5b2=_0x228b26[_0x1e70af(0x196)],_0x259b00=_0x22e5b2?capitalize(_0x22e5b2):_0x1e70af(0x114);dbConfig[_0x1e70af(0x225)](_0x1e70af(0x126))[_0x1e70af(0x1cc)]({'botID':botID})[_0x1e70af(0x14f)]({'exchange':_0x259b00})[_0x1e70af(0x120)]();}}let _0x16b780=dbPerformance[_0x1e70af(0x225)](_0x1e70af(0x262))[_0x1e70af(0xe2)]();isOlderVersion(_0x16b780,'2.3.5')&&setStartDatePerformance();let _0x3b1d32=dbCoinResults[_0x1e70af(0x225)](_0x1e70af(0x262))['value']();if(isOlderVersion(_0x3b1d32,'2.5.0')){let _0x137e35=dbCoinResults['get']('coins')[_0x1e70af(0xe2)]();if(_0x137e35[_0x1e70af(0x147)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x14ade3=_0x4cc25a;dbConfig['set'](_0x14ade3(0x262),serverversion)[_0x14ade3(0x120)](),dbPerformance[_0x14ade3(0x13d)](_0x14ade3(0x262),serverversion)['write'](),dbLogs['set'](_0x14ade3(0x262),serverversion)[_0x14ade3(0x120)](),dbCoinResults['set'](_0x14ade3(0x262),serverversion)[_0x14ade3(0x120)]();}function getConfiguration(_0xc5c296){const _0x4c52fa=_0x4cc25a;let _0x3c5694=dbConfig[_0x4c52fa(0x225)](_0x4c52fa(0x126))[_0x4c52fa(0x1cc)]({'botID':_0xc5c296})[_0x4c52fa(0xe2)]();if(_0x3c5694){let _0x3acc7a=![];typeof _0x3c5694[_0x4c52fa(0x1f8)]==_0x4c52fa(0x160)&&(_0x3c5694={..._0x3c5694,'threshold':Number(_0x3c5694[_0x4c52fa(0x1f8)])},_0x3acc7a=!![]),_0x3c5694[_0x4c52fa(0x1fc)]==undefined&&(_0x3c5694={..._0x3c5694,'change24h':-0x14},_0x3acc7a=!![]),_0x3c5694[_0x4c52fa(0x116)]==undefined&&(_0x3c5694={..._0x3c5694,'fiat':_0x4c52fa(0x1d0)},_0x3acc7a=!![]),_0x3c5694[_0x4c52fa(0x16c)]==undefined&&(_0x3c5694={..._0x3c5694,'onepagemode':settings[_0x4c52fa(0x16c)]},_0x3acc7a=!![]),_0x3c5694[_0x4c52fa(0x11e)]==undefined&&(_0x3c5694={..._0x3c5694,'colorscheme':_0x4c52fa(0x20c)},_0x3acc7a=!![]),_0x3c5694['autoliquidity']==undefined&&(_0x3c5694={..._0x3c5694,'autoliquidity':!![]},_0x3acc7a=!![]),_0x3acc7a&&(_0x3c5694={'botID':_0x3c5694['botID'],'exchange':_0x3c5694['exchange'],'apiKey':_0x3c5694[_0x4c52fa(0x1a9)],'apiSecret':_0x3c5694[_0x4c52fa(0x1ba)],'apiPassword':_0x3c5694[_0x4c52fa(0x106)],'basecoin':_0x3c5694['basecoin'],'botname':_0x3c5694[_0x4c52fa(0x1c5)],'showname':_0x3c5694[_0x4c52fa(0x156)],'threshold':_0x3c5694[_0x4c52fa(0x1f8)],'ordertype':_0x3c5694[_0x4c52fa(0xdb)],'timeout':_0x3c5694['timeout'],'fiat':_0x3c5694[_0x4c52fa(0x116)],'startdate':_0x3c5694[_0x4c52fa(0x1f2)],'recreate':_0x3c5694[_0x4c52fa(0x193)],'timeshift':_0x3c5694['timeshift'],'onepagemode':_0x3c5694['onepagemode'],'headless':_0x3c5694[_0x4c52fa(0xf6)],'cooldown':_0x3c5694[_0x4c52fa(0x24c)],'change24h':_0x3c5694[_0x4c52fa(0x1fc)],'emojibuy':_0x3c5694[_0x4c52fa(0x18f)],'emojisell':_0x3c5694[_0x4c52fa(0x179)],'colorscheme':_0x3c5694[_0x4c52fa(0x11e)],'portfolio':_0x3c5694[_0x4c52fa(0x1af)],'autoliquidity':_0x3c5694[_0x4c52fa(0x105)],'liquidity':_0x3c5694[_0x4c52fa(0x1b3)],'openOrders':_0x3c5694['openOrders']},dbConfig[_0x4c52fa(0x225)](_0x4c52fa(0x126))[_0x4c52fa(0x253)]()[_0x4c52fa(0x120)](),dbConfig[_0x4c52fa(0x225)](_0x4c52fa(0x126))['push'](_0x3c5694)[_0x4c52fa(0x120)]());}else _0x3c5694={'botID':_0xc5c296,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x4c52fa(0xf1)+_0xc5c296,'showname':![],'threshold':0x3,'ordertype':_0x4c52fa(0x24b),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x4c52fa(0xf0)],'onepagemode':settings[_0x4c52fa(0x16c)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x4c52fa(0x20c),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x3c5694;}function emittedConfiguration(){const _0x502588=_0x4cc25a;let _0xefd44e;if(config[_0x502588(0x1a9)]=='')_0xefd44e={...config,'configstate':'initial'};else config[_0x502588(0x1a9)]==_0x502588(0x186)?_0xefd44e={...config,'configstate':_0x502588(0x139)}:(_0xefd44e={...config,'apiKey':_0x502588(0x21a),'apiSecret':_0x502588(0x21a)},config[_0x502588(0x106)]&&(_0xefd44e[_0x502588(0x106)]=_0x502588(0x21a)));return _0xefd44e;}function getSettings(){const _0x4b1e30=_0x4cc25a;return dbSettings[_0x4b1e30(0x225)]('settings')[_0x4b1e30(0xe2)]();}function getSecure(){const _0x111b84=_0x4cc25a;return dbSecure[_0x111b84(0x225)](_0x111b84(0x215))['value']()||{};}function updateTimeshift(_0x3f2797){const _0x133091=_0x4cc25a;let _0x4be2d1=dbConfig['get'](_0x133091(0x126))[_0x133091(0x1cc)]({'botID':botID})['value']();_0x4be2d1&&dbConfig['get'](_0x133091(0x126))[_0x133091(0x1cc)]({'botID':botID})[_0x133091(0x14f)]({'timeshift':_0x3f2797})[_0x133091(0x120)](),config[_0x133091(0xf0)]=_0x3f2797,proxyEmit(_0x133091(0x198),emittedConfiguration());}function updateOnepagemode(_0x3d47ad){const _0xdcb6fd=_0x4cc25a;let _0x911df7=dbConfig[_0xdcb6fd(0x225)]('bot')['find']({'botID':botID})['value']();_0x911df7&&dbConfig[_0xdcb6fd(0x225)]('bot')[_0xdcb6fd(0x1cc)]({'botID':botID})[_0xdcb6fd(0x14f)]({'onepagemode':_0x3d47ad})[_0xdcb6fd(0x120)](),config[_0xdcb6fd(0x16c)]=_0x3d47ad,proxyEmit(_0xdcb6fd(0x198),emittedConfiguration());}async function storeConfiguration(_0x18b79c){const _0x1418be=_0x4cc25a;logger[_0x1418be(0x208)](_0x1418be(0x159));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x1418be(0x208)]('Transaction\x20detection\x20blocked');let _0x413c7c=![],_0x1221a5=![],_0x4a2657=[];_0x18b79c['portfolio'][_0x1418be(0x15b)](_0x1a9d18=>{const _0x416598=_0x1418be;if(!_0x1a9d18[_0x416598(0x197)]&&_0x1a9d18[_0x416598(0x19e)]!=_0x18b79c['basecoin'])_0x4a2657['push'](_0x1a9d18['symbol']);}),_0x4a2657[_0x1418be(0x15b)](_0x271811=>{const _0x2f462e=_0x1418be,_0x88b8fb=currentCoins[_0x2f462e(0x1cc)](_0x3cf34c=>_0x3cf34c[_0x2f462e(0x190)]==_0x271811);!_0x88b8fb&&(_0x413c7c=!![]);}),currentCoins[_0x1418be(0x15b)](_0x491603=>{const _0xf3fc0=_0x1418be;if(_0x491603[_0xf3fc0(0x19e)]!=config[_0xf3fc0(0x239)]){const _0x48967c=_0x4a2657[_0xf3fc0(0x1cc)](_0x579b33=>_0x579b33==_0x491603[_0xf3fc0(0x190)]);!_0x48967c&&(_0x413c7c=!![]);}}),_0x18b79c[_0x1418be(0x1af)][_0x1418be(0x15b)](_0x18e46a=>{const _0x7fec79=_0x1418be,_0x583681=config[_0x7fec79(0x1af)]['find'](_0x30623e=>_0x30623e['coin']==_0x18e46a[_0x7fec79(0x19e)]);if(_0x583681&&_0x18e46a[_0x7fec79(0x1da)]!=_0x583681[_0x7fec79(0x1da)])_0x1221a5=!![];});let _0x87328e=dbConfig['get']('bot')[_0x1418be(0x1cc)]({'botID':botID})[_0x1418be(0xe2)]();_0x18b79c={..._0x18b79c,'apiKey':crypt[_0x1418be(0x1e5)](secure[_0x1418be(0xe6)],_0x18b79c[_0x1418be(0x1a9)])['message'],'apiSecret':crypt['decrypt'](secure[_0x1418be(0xe6)],_0x18b79c[_0x1418be(0x1ba)])[_0x1418be(0x1be)]};_0x18b79c[_0x1418be(0x106)]&&(_0x18b79c[_0x1418be(0x106)]=crypt['decrypt'](secure[_0x1418be(0xe6)],_0x18b79c[_0x1418be(0x106)])[_0x1418be(0x1be)]);let _0x127cb7=![];if(_0x87328e){_0x18b79c[_0x1418be(0x1a9)]==_0x1418be(0x21a)?_0x18b79c[_0x1418be(0x1a9)]=config['apiKey']:_0x127cb7=!![];_0x18b79c[_0x1418be(0x1ba)]==_0x1418be(0x21a)?_0x18b79c[_0x1418be(0x1ba)]=config[_0x1418be(0x1ba)]:_0x127cb7=!![];if(_0x18b79c[_0x1418be(0x106)]==_0x1418be(0x21a))_0x18b79c[_0x1418be(0x106)]=config['apiPassword'];else{if(_0x18b79c[_0x1418be(0x106)])_0x127cb7=!![];}dbConfig[_0x1418be(0x225)]('bot')['find']({'botID':botID})[_0x1418be(0x14f)](_0x18b79c)[_0x1418be(0x120)]();}else dbConfig[_0x1418be(0x225)](_0x1418be(0x126))['push'](_0x18b79c)[_0x1418be(0x120)](),_0x127cb7=!![],process[_0x1418be(0x214)]({'status':'enabled','live':_0x1418be(0x21d)},_0x206634=>{});process[_0x1418be(0x214)]({'botname':_0x18b79c['botname']},_0x46d8c2=>{}),updateBotManager(),config={..._0x18b79c},proxyEmit(_0x1418be(0x1fe)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x127cb7)await reset(!![]);else _0x413c7c||_0x1221a5?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x1418be(0x208)](_0x1418be(0x1ae));}async function storeHeadless(_0x4034a7){const _0x4e341b=_0x4cc25a,_0x368441={...config,'headless':_0x4034a7['headless']};let _0x424eeb=dbConfig[_0x4e341b(0x225)](_0x4e341b(0x126))['find']({'botID':botID})['value']();_0x424eeb&&dbConfig[_0x4e341b(0x225)](_0x4e341b(0x126))[_0x4e341b(0x1cc)]({'botID':botID})[_0x4e341b(0x14f)](_0x368441)[_0x4e341b(0x120)](),config={..._0x368441},updateBotManager(),proxyEmit(_0x4e341b(0x198),emittedConfiguration());}async function storeFiat(_0x34c2d4){const _0x280dbb=_0x4cc25a,_0x2ea220={...config,'fiat':_0x34c2d4};let _0x2dd331=dbConfig[_0x280dbb(0x225)]('bot')[_0x280dbb(0x1cc)]({'botID':botID})[_0x280dbb(0xe2)]();_0x2dd331&&dbConfig[_0x280dbb(0x225)](_0x280dbb(0x126))[_0x280dbb(0x1cc)]({'botID':botID})[_0x280dbb(0x14f)](_0x2ea220)[_0x280dbb(0x120)](),config={..._0x2ea220},proxyEmit(_0x280dbb(0x198),emittedConfiguration());}function resetHistory(){const _0x20c987=_0x4cc25a;logger[_0x20c987(0x1ad)](_0x20c987(0x249));try{if(fs[_0x20c987(0x15a)](path['join'](configpath,_0x20c987(0x236)+botID+_0x20c987(0x223))))fs[_0x20c987(0x187)](path[_0x20c987(0x1e1)](configpath,_0x20c987(0x236)+botID+_0x20c987(0x223)));if(fs[_0x20c987(0x15a)](path[_0x20c987(0x1e1)](configpath,_0x20c987(0x236)+botID+'-performance.json')))fs[_0x20c987(0x187)](path[_0x20c987(0x1e1)](configpath,_0x20c987(0x236)+botID+_0x20c987(0x211)));if(fs[_0x20c987(0x15a)](path[_0x20c987(0x1e1)](configpath,_0x20c987(0x236)+botID+_0x20c987(0x1ff))))fs['unlinkSync'](path[_0x20c987(0x1e1)](configpath,_0x20c987(0x236)+botID+_0x20c987(0x1ff)));}catch(_0x371685){if(_0x371685)logger[_0x20c987(0x1ad)](_0x20c987(0x1dc),_0x371685);}const _0x2cce32=getDate();let _0x33e7f7=[];currentCoins[_0x20c987(0x15b)](_0x542f8b=>{const _0x54548e=_0x20c987;_0x33e7f7[_0x54548e(0x25c)]({'coin':_0x542f8b[_0x54548e(0x19e)],'number':_0x542f8b['number'],'price':_0x542f8b[_0x54548e(0xdc)]});});let _0x1edcc5=dbConfig[_0x20c987(0x225)](_0x20c987(0x126))[_0x20c987(0x1cc)]({'botID':botID})[_0x20c987(0xe2)]();_0x1edcc5&&(dbConfig[_0x20c987(0x225)](_0x20c987(0x126))[_0x20c987(0x1cc)]({'botID':botID})[_0x20c987(0x14f)]({'liquidity':[{'date':_0x2cce32,'changes':_0x33e7f7}]})[_0x20c987(0x120)](),config[_0x20c987(0x1b3)]=[]),process[_0x20c987(0x214)]({'stop':'restart'},_0x35134e=>{});}function noslash(_0x43d13c){const _0xf794b8=_0x4cc25a;return _0x43d13c[_0xf794b8(0x140)]('/','');}function updateHighestFee(_0x37b94e){const _0x45e12e=_0x4cc25a;if(_0x37b94e[_0x45e12e(0x15d)]){let _0x59ec69={'filled':_0x37b94e[_0x45e12e(0x23a)]*_0x37b94e[_0x45e12e(0x1dd)],'amount':_0x37b94e['filled']*_0x37b94e[_0x45e12e(0x1dd)],'side':_0x37b94e[_0x45e12e(0x16f)]=='sell'?_0x45e12e(0x133):_0x45e12e(0xe4),'price':0x1/_0x37b94e[_0x45e12e(0x1dd)]};_0x37b94e={..._0x37b94e,..._0x59ec69};}const _0x123e23=defaultFee*_0x37b94e[_0x45e12e(0x23a)]*_0x37b94e[_0x45e12e(0x1dd)];lastFees[_0x45e12e(0x20b)][_0x45e12e(0x147)]===0x14&&lastFees[_0x45e12e(0x20b)][_0x45e12e(0x1b2)](),lastFees[_0x45e12e(0x20b)][_0x45e12e(0x25c)](_0x123e23),lastFees['highest']=Math['max'](...lastFees[_0x45e12e(0x20b)]);}async function updateNumberCoinsCcxt(_0x391986){const _0x1ee2f3=_0x4cc25a;logger[_0x1ee2f3(0x208)](_0x1ee2f3(0x15f)+_0x391986['symbol']+_0x1ee2f3(0x1ea)+_0x391986['status']+_0x1ee2f3(0x1ea)+_0x391986['id']);let _0x28a39b=_0x391986['status'],_0x31b798=![];currentCoins[_0x1ee2f3(0x15b)](_0x50c457=>{const _0x82cc83=_0x1ee2f3;_0x50c457[_0x82cc83(0x190)]==_0x391986[_0x82cc83(0x190)]&&(_0x31b798=!![]);});if(!_0x31b798)return;const _0x29ea07=currentCoins[_0x1ee2f3(0x1cc)](_0x200307=>_0x200307[_0x1ee2f3(0x190)]==_0x391986['symbol']),_0x27b604=_0x753189=>{const _0x1d6829=_0x1ee2f3;if(_0x29ea07)_0x29ea07[_0x1d6829(0x1a3)]=_0x753189;};if(_0x28a39b==_0x1ee2f3(0x100))_0x27b604(_0x1ee2f3(0x100));else{if(_0x28a39b=='canceled'){_0x27b604(_0x1ee2f3(0x173));const _0x5038f7=await getCoins();[currentCoins,currentCoinsAll]=_0x5038f7,await getOpenOrders(),handleOpenOrders();}else{if(_0x28a39b==_0x1ee2f3(0x20d)){logger[_0x1ee2f3(0x208)](_0x1ee2f3(0x163)+_0x391986[_0x1ee2f3(0x190)]+_0x1ee2f3(0x1ea)+_0x391986[_0x1ee2f3(0x23a)]+'\x20|\x20'+_0x391986['id']);let _0x3e8bf4=![];if(lastOrders)for(const _0x97d0e0 of lastOrders){const _0x22d826=0xc8,_0x489a2=0x1388;let _0x238945=0x0;while(!_0x97d0e0[_0x1ee2f3(0x13f)]&&_0x238945*_0x22d826<_0x489a2){_0x238945++,await sleep(_0x22d826);}if(_0x238945>0x0)logger[_0x1ee2f3(0x208)](_0x1ee2f3(0x209)+_0x238945*_0x22d826/0x3e8+_0x1ee2f3(0x260));if(_0x97d0e0[_0x1ee2f3(0x13f)]==_0x391986['id']){logger[_0x1ee2f3(0x208)](_0x1ee2f3(0x22d)+_0x391986['id']),_0x3e8bf4=!![];if(_0x97d0e0[_0x1ee2f3(0x23a)]==0x0){logger[_0x1ee2f3(0x208)](_0x1ee2f3(0x18c)+_0x391986['id']);if(_0x391986['average'])_0x97d0e0['price']=_0x391986[_0x1ee2f3(0x242)];else{if(_0x391986[_0x1ee2f3(0x1dd)])_0x97d0e0[_0x1ee2f3(0x1dd)]=_0x391986[_0x1ee2f3(0x1dd)];else{}}_0x97d0e0[_0x1ee2f3(0x23a)]=_0x391986[_0x1ee2f3(0x23a)],updateHighestFee(_0x97d0e0),_0x27b604(_0x1ee2f3(0x23a)),await validateOrders();if(lockOrders==ORDERS[_0x1ee2f3(0x224)]){const _0x536e33=await getCoins();[currentCoins,currentCoinsAll]=_0x536e33;}_0x97d0e0[_0x1ee2f3(0x227)]={'currency':_0x391986[_0x1ee2f3(0x227)]?_0x391986[_0x1ee2f3(0x227)]['currency']:null,'cost':_0x391986[_0x1ee2f3(0x227)]?_0x391986[_0x1ee2f3(0x227)][_0x1ee2f3(0xe7)]:0x0},await updateCoinResults(_0x97d0e0);}}}if(!_0x3e8bf4){logger[_0x1ee2f3(0x208)](_0x1ee2f3(0x170)+_0x391986['id']),_0x27b604(_0x1ee2f3(0x23a));const _0x2691fc=await getCoins();[currentCoins,currentCoinsAll]=_0x2691fc,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x56732d=JSON[_0x1ee2f3(0xef)](lastBalances[_0x1ee2f3(0x1af)]);const _0x4d3ddb=_0x56732d[_0x1ee2f3(0x1cc)](_0x294bfd=>_0x294bfd[_0x1ee2f3(0x190)]==_0x391986[_0x1ee2f3(0x190)]);if(_0x4d3ddb){if(_0x28a39b==_0x1ee2f3(0x100))_0x4d3ddb[_0x1ee2f3(0x1a3)]=_0x4d3ddb['orderstatus']==_0x1ee2f3(0x23a)?_0x1ee2f3(0x23a):'open';else{if(_0x28a39b==_0x1ee2f3(0x173))_0x4d3ddb[_0x1ee2f3(0x1a3)]=_0x4d3ddb[_0x1ee2f3(0x1a3)]=='filled'?'filled':_0x1ee2f3(0x173);else _0x28a39b=='closed'&&(_0x4d3ddb[_0x1ee2f3(0x1a3)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x56732d)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x430cb1=_0x4cc25a;await getOpenOrders();let _0x4047aa=![];currentCoins[_0x430cb1(0x15b)](_0x25b21f=>{const _0x1b7f8a=_0x430cb1;_0x4047aa=allOpenOrders[_0x1b7f8a(0x1cc)](_0xb8fa30=>_0xb8fa30[_0x1b7f8a(0x190)]==_0x25b21f[_0x1b7f8a(0x190)]),_0x25b21f[_0x1b7f8a(0x1a3)]=_0x4047aa?'open':_0x1b7f8a(0x258);});}async function getCoins(_0xb3209b=!![],_0x1eb3bb=config['basecoin']){const _0x368715=_0x4cc25a;let _0x42b049,_0x484229=[],_0x199182=[],_0x17125c=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x42b049=await exchange[_0x368715(0x144)](),mybalances=_0x42b049[_0x368715(0x18a)];for(const [_0x353779,_0x115e2b]of Object['entries'](mybalances)){_0x17125c['push'](_0x353779);}config[_0x368715(0x1af)]['forEach'](_0x9a9faf=>{const _0x5f2d78=_0x368715;!_0x17125c[_0x5f2d78(0x1e9)](_0x9a9faf[_0x5f2d78(0x19e)])&&(mybalances[_0x9a9faf[_0x5f2d78(0x19e)]]=0x0);});if(_0x1eb3bb=='')for(const [_0x46ad57,_0x41f10e]of Object[_0x368715(0x205)](mybalances)){_0x41f10e!=0x0&&_0x484229[_0x368715(0x25c)]({'coin':_0x46ad57});}else{let _0x6689a7=![];for(const [_0x188d01,_0x55ca02]of Object[_0x368715(0x205)](mybalances)){const _0x31b46e=config[_0x368715(0x1af)][_0x368715(0x1cc)](_0x3a1b2d=>_0x3a1b2d[_0x368715(0x19e)]==_0x188d01),_0x542e08=_0x188d01+'/'+_0x1eb3bb,_0x1b70c4=_0x1eb3bb+'/'+_0x188d01,_0x117c2c=currentCoins[_0x368715(0x1cc)](_0xf04265=>_0xf04265[_0x368715(0x19e)]==_0x188d01);_0x6689a7=![];if((_0x55ca02!=0x0||_0x31b46e)&&(allSymbols[_0x368715(0x1e9)](_0x542e08)||_0x188d01==_0x1eb3bb))_0x484229[_0x368715(0x25c)]({'coin':_0x188d01,'symbol':_0x542e08,'reverse':![],'number':Math[_0x368715(0x213)](_0x55ca02+(_0x31b46e&&_0x31b46e[_0x368715(0x1da)]||0x0),0x0),'orderstatus':_0x117c2c?_0x117c2c['orderstatus']:_0x368715(0x258)});else{if((_0x55ca02!=0x0||_0x31b46e)&&allSymbols['includes'](_0x1b70c4))_0x484229[_0x368715(0x25c)]({'coin':_0x188d01,'symbol':_0x1b70c4,'reverse':!![],'number':Math[_0x368715(0x213)](_0x55ca02+(_0x31b46e&&_0x31b46e[_0x368715(0x1da)]||0x0),0x0),'orderstatus':_0x117c2c?_0x117c2c['orderstatus']:'none'});else _0x31b46e&&_0x484229[_0x368715(0x25c)]({'coin':_0x31b46e[_0x368715(0x19e)],'symbol':_0x31b46e[_0x368715(0x190)],'reverse':_0x31b46e['reverse'],'number':0x0,'orderstatus':_0x368715(0x258)});}}}}catch(_0x34f092){if(!_0xb3209b)handleErrorNoStop(_0x34f092,_0x368715(0x1f9));else await handleError(_0x34f092,_0x368715(0x1f9));}return _0x199182=cloneDeep(_0x484229),_0x484229=_0x484229[_0x368715(0x220)](_0x54547f=>{const _0x3600cc=_0x368715,_0x152821=config[_0x3600cc(0x1af)][_0x3600cc(0x1cc)](_0x52d3a8=>_0x52d3a8[_0x3600cc(0x19e)]==_0x54547f[_0x3600cc(0x19e)]);return _0x152821&&!_0x152821['excluded'];}),[_0x484229,_0x199182];}async function getCoinNumber(_0x36c10a){const _0x4c06d3=_0x4cc25a;let _0x3d0323;try{const _0x50b84f=await exchange[_0x4c06d3(0x144)]();_0x3d0323=_0x50b84f[_0x4c06d3(0x18a)][_0x36c10a];}catch(_0xa8a783){await handleError(_0xa8a783,_0x4c06d3(0x12d));}return _0x3d0323;}async function getOpenOrders(){const _0x5b7531=_0x4cc25a;let _0x1a9275;allOpenOrders=[];try{for(const _0x3cda57 of config['portfolio']){!_0x3cda57[_0x5b7531(0x197)]&&_0x3cda57[_0x5b7531(0x19e)]!=config[_0x5b7531(0x239)]&&(_0x1a9275=await exchange[_0x5b7531(0xfb)](_0x3cda57[_0x5b7531(0x190)]),_0x1a9275[_0x5b7531(0x147)]>0x0&&allOpenOrders[_0x5b7531(0x25c)](_0x1a9275[0x0]));}}catch(_0x4f8401){await handleError(_0x4f8401,_0x5b7531(0x255));}}async function handleOpenOrders(_0x21c514=0x0){const _0x178e87=_0x4cc25a;allOpenOrders[_0x178e87(0x147)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x21c514==0x0?(logger[_0x178e87(0x208)]('1\x20-\x20Handle\x20open\x20orders'),_0x21c514++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x178e87(0x208)](_0x178e87(0x24d)),validateOrders(_0x178e87(0x122))));}async function testAPI(_0xdfbb8){const _0x3ebb13=_0x4cc25a,_0x5e8166=ccxt[_0x3ebb13(0x153)][_0xdfbb8[_0x3ebb13(0x196)][_0x3ebb13(0x21e)]()],_0x2cc40e=new _0x5e8166({'apiKey':_0xdfbb8['apiKey'],'secret':_0xdfbb8[_0x3ebb13(0x1ba)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x3ebb13(0x109)}});if(_0xdfbb8[_0x3ebb13(0x106)])_0x2cc40e[_0x3ebb13(0x222)]=_0xdfbb8[_0x3ebb13(0x106)];try{await _0x2cc40e[_0x3ebb13(0x11a)]();}catch(_0x462cd5){throw _0x462cd5;}}function cloneDeep(_0x16fc1f){const _0x404a8d=_0x4cc25a;return JSON[_0x404a8d(0xef)](JSON[_0x404a8d(0x243)](_0x16fc1f));}async function getPortfolio(_0x627200){const _0x389d91=_0x4cc25a;let _0x457698=[],_0x3025b8=[],_0x2279b3=[],_0x588cb2;if(_0x627200[_0x389d91(0x1a9)]!=='************'||_0x627200[_0x389d91(0x1ba)]!==_0x389d91(0x21a)||_0x627200['apiPassword']&&_0x627200[_0x389d91(0x106)]!==_0x389d91(0x21a)){if(config[_0x389d91(0x196)]){if(_0x627200[_0x389d91(0x1a9)]=='************')_0x627200[_0x389d91(0x1a9)]=config[_0x389d91(0x1a9)];if(_0x627200['apiSecret']==_0x389d91(0x21a))_0x627200[_0x389d91(0x1ba)]=config['apiSecret'];if(_0x627200[_0x389d91(0x106)]=='************')_0x627200['apiPassword']=config['apiPassword'];try{await testAPI(_0x627200);}catch(_0x76d713){if(_0x76d713['toString']()[_0x389d91(0x1e9)]('AuthenticationError')){logger[_0x389d91(0x208)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x389d91(0x1af),![]);return;}else{handleError(_0x76d713,'getPortfolio(0)');return;}}}await initExchange(_0x627200[_0x389d91(0x196)],_0x627200[_0x389d91(0x1a9)],_0x627200[_0x389d91(0x1ba)],_0x627200[_0x389d91(0x106)]);try{await loadSymbols();}catch(_0x16775d){if(_0x16775d[_0x389d91(0x182)]()['includes'](_0x389d91(0x257))){proxyEmit(_0x389d91(0x1af),![]);return;}else{handleError(_0x16775d,_0x389d91(0x148));return;}}const _0x565d54=await getCoins(![],_0x627200[_0x389d91(0x239)]);_0x2279b3=cloneDeep(_0x565d54[0x1]);}else _0x2279b3=cloneDeep(currentCoinsAll);if(_0x627200[_0x389d91(0x239)]=='')proxyEmit(_0x389d91(0x1af),_0x2279b3);else{_0x2279b3[_0x389d91(0x15b)](_0x4673a9=>{const _0x10d100=_0x389d91;if(_0x4673a9[_0x10d100(0x19e)]!=_0x627200['basecoin']&&allSymbols[_0x10d100(0x1e9)](_0x4673a9[_0x10d100(0x190)]))_0x457698[_0x10d100(0x25c)](_0x4673a9['symbol']);});if(_0x457698[_0x389d91(0x147)]==0x0)logHistory('error',_0x389d91(0x1f7));else{try{_0x3025b8=await exchange['fetchTickers'](_0x457698);}catch(_0x1cc8fd){if(_0x1cc8fd[_0x389d91(0x182)]()[_0x389d91(0x1e9)](_0x389d91(0x257))){proxyEmit('portfolio',![]);return;}else handleError(_0x1cc8fd,_0x389d91(0x265));}_0x2279b3[_0x389d91(0x15b)](_0x18a096=>{const _0x24ce69=_0x389d91;_0x18a096[_0x24ce69(0x19e)]!=_0x627200['basecoin']?_0x3025b8[_0x18a096[_0x24ce69(0x190)]]?_0x588cb2=_0x18a096[_0x24ce69(0x15d)]?0x1/_0x3025b8[_0x18a096[_0x24ce69(0x190)]]['last']:_0x3025b8[_0x18a096[_0x24ce69(0x190)]][_0x24ce69(0xdc)]:_0x588cb2=0x0:_0x588cb2=0x1,_0x18a096[_0x24ce69(0x1dd)]=formatResult(_0x588cb2,0x8);}),proxyEmit(_0x389d91(0x1af),_0x2279b3);}}}function truncateTradeAmount(_0x17d8eb,_0x5ac530){const _0x5d5f0b=_0x4cc25a;let _0x2e1a2f=0x0;try{_0x2e1a2f=exchange[_0x5d5f0b(0x112)](_0x17d8eb,_0x5ac530);}catch(_0x2aad0f){}return _0x2e1a2f;}function checkMinimums(_0x18db84){const _0x5bb230=_0x4cc25a;let _0x578912=!![];const _0x340d18=!_0x18db84['reverse']?markets[_0x18db84[_0x5bb230(0x190)]][_0x5bb230(0x16b)]['amount'][_0x5bb230(0x20f)]:markets[_0x18db84[_0x5bb230(0x190)]][_0x5bb230(0x16b)][_0x5bb230(0xe7)][_0x5bb230(0x20f)],_0x4e6efd=!_0x18db84['reverse']?markets[_0x18db84[_0x5bb230(0x190)]][_0x5bb230(0x16b)][_0x5bb230(0xe7)][_0x5bb230(0x20f)]:markets[_0x18db84[_0x5bb230(0x190)]][_0x5bb230(0x16b)][_0x5bb230(0x1ed)][_0x5bb230(0x20f)],_0xbb0a57=truncateTradeAmount(_0x18db84['symbol'],_0x18db84[_0x5bb230(0x248)]);_0x18db84[_0x5bb230(0x248)]=_0xbb0a57;if(Math[_0x5bb230(0xdf)](_0xbb0a57)<_0x340d18)_0x578912=![];if(Math[_0x5bb230(0xdf)](_0xbb0a57)*_0x18db84[_0x5bb230(0xdc)]<_0x4e6efd)_0x578912=![];if(_0x18db84[_0x5bb230(0x16f)]=='sell'){let _0x15aeb5=config[_0x5bb230(0x1af)][_0x5bb230(0x1cc)](_0x372eaa=>_0x372eaa[_0x5bb230(0x19e)]==_0x18db84[_0x5bb230(0x19e)]);if(_0x15aeb5[_0x5bb230(0x1da)]>0x0){if(Math['abs'](_0xbb0a57)>_0x18db84[_0x5bb230(0x1d5)]-_0x15aeb5['offset'])_0x578912=![];}else{if(Math[_0x5bb230(0xdf)](_0xbb0a57)>_0x18db84[_0x5bb230(0x1d5)])_0x578912=![];}}if(_0x18db84[_0x5bb230(0x16f)]=='buy'){let _0x5b6ddf=config[_0x5bb230(0x1af)][_0x5bb230(0x1cc)](_0x544dd9=>_0x544dd9['coin']==config['basecoin']),_0x565ba8=currentCoins[_0x5bb230(0x1cc)](_0x527022=>_0x527022[_0x5bb230(0x19e)]==config['basecoin']);if(_0x5b6ddf[_0x5bb230(0x1da)]>0x0){if(Math[_0x5bb230(0xdf)](_0xbb0a57)*_0x18db84[_0x5bb230(0xdc)]>_0x565ba8[_0x5bb230(0x1d5)]-_0x5b6ddf['offset'])_0x578912=![];}else{if(Math['abs'](_0xbb0a57)*_0x18db84['last']>_0x565ba8['number'])_0x578912=![];}}return _0x578912;}async function getBalances(_0x62f8de=!![]){const _0x4d1f1b=_0x4cc25a;let _0x1104a4=0x0,_0x3ab057;const _0x2995da=config[_0x4d1f1b(0x1f8)];if(config[_0x4d1f1b(0xf6)]&&config[_0x4d1f1b(0x1fc)]<0x0)await validate24hChanges();currentCoins[_0x4d1f1b(0x15b)](_0x3ac0fc=>{const _0x5699eb=_0x4d1f1b;if(_0x3ac0fc['coin']!=config[_0x5699eb(0x239)]){let _0x4a356e=global['ticker'][noslash(_0x3ac0fc[_0x5699eb(0x190)])];_0x3ab057=_0x3ac0fc[_0x5699eb(0x15d)]?0x1/_0x4a356e:_0x4a356e;}else _0x3ab057=0x1;let _0x5e5635=_0x3ac0fc[_0x5699eb(0x1d5)]*_0x3ab057;_0x1104a4+=_0x5e5635,_0x3ac0fc['last']=formatResult(Number(_0x3ab057),0x8),_0x3ac0fc[_0x5699eb(0xe2)]=_0x5e5635;}),currentCoins[_0x4d1f1b(0x15b)](_0x6d53dc=>{const _0x22fd9a=_0x4d1f1b;let _0x1b97d9=config[_0x22fd9a(0x1af)][_0x22fd9a(0x1cc)](_0x32db0f=>_0x32db0f[_0x22fd9a(0x19e)]==_0x6d53dc[_0x22fd9a(0x19e)]),_0x5d491c=Number(_0x1b97d9[_0x22fd9a(0x128)]),_0x433633=_0x6d53dc[_0x22fd9a(0xe2)]/_0x1104a4*0x64,_0x64d19e=_0x5d491c*_0x1104a4/0x64/_0x6d53dc[_0x22fd9a(0xdc)]-_0x6d53dc[_0x22fd9a(0x1d5)];_0x6d53dc['distribution']=formatResult(_0x433633,0x3),_0x6d53dc['target']=formatResult(_0x5d491c,0x3),_0x6d53dc[_0x22fd9a(0x248)]=formatResult(_0x64d19e,0x8),_0x6d53dc[_0x22fd9a(0x16f)]='',_0x6d53dc['valid']=![];if(_0x6d53dc[_0x22fd9a(0x19e)]!=config[_0x22fd9a(0x239)]){if(_0x6d53dc[_0x22fd9a(0x128)]>_0x5d491c)_0x6d53dc[_0x22fd9a(0x16f)]=_0x22fd9a(0xe4),_0x6d53dc[_0x22fd9a(0x180)]=checkMinimums(_0x6d53dc);else _0x6d53dc[_0x22fd9a(0x128)]<_0x5d491c&&(_0x6d53dc['side']='buy',_0x6d53dc[_0x22fd9a(0x180)]=checkMinimums(_0x6d53dc));}_0x6d53dc['delta']=_0x6d53dc['distribution']/_0x6d53dc[_0x22fd9a(0x1bc)]-0x1;if(_0x6d53dc[_0x22fd9a(0x1a3)]=='filled'||_0x6d53dc[_0x22fd9a(0x1a3)]==_0x22fd9a(0x173))_0x6d53dc['orderstatus']=_0x22fd9a(0x258);}),currentCoins[_0x4d1f1b(0x207)]((_0x242716,_0x1d1845)=>_0x242716[_0x4d1f1b(0x1ee)]<_0x1d1845[_0x4d1f1b(0x1ee)]?0x1:_0x1d1845[_0x4d1f1b(0x1ee)]<_0x242716['delta']?-0x1:0x0);const _0x39b1e3=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x39b1e3[_0x4d1f1b(0x108)],'usd':_0x39b1e3[_0x4d1f1b(0x17c)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x2995da},proxyEmit(_0x4d1f1b(0x115),{'serverversion':serverversion,'balances':lastBalances});if(_0x62f8de){if(config[_0x4d1f1b(0xf6)])headlessMode({'portfolio':currentCoins,'threshold':_0x2995da});else{if(lockOrders==ORDERS[_0x4d1f1b(0x12c)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2995da});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0xf16395=getNormalizedPerformance();getStartingBalances(_0xf16395),emitPerformance(_0xf16395);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x35ce9d=getNormalizedPerformance();emitPerformance(_0x35ce9d),getStartingBalances(_0x35ce9d),logger[_0x4d1f1b(0x208)](_0x4d1f1b(0x16e));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xbeba70=_0x4cc25a;if(!lastBalances)return;let _0x269f4f=[],_0x3736c6,_0x10f0c2=JSON[_0xbeba70(0xef)](lastBalances['portfolio']);_0x10f0c2[_0xbeba70(0x207)]((_0xbc1f59,_0x6d6f9d)=>_0xbc1f59[_0xbeba70(0x19e)]>_0x6d6f9d[_0xbeba70(0x19e)]?0x1:_0x6d6f9d[_0xbeba70(0x19e)]>_0xbc1f59[_0xbeba70(0x19e)]?-0x1:0x0),_0x10f0c2[_0xbeba70(0x15b)](_0x35dbb0=>{const _0xc5e460=_0xbeba70;let _0x485568={'coin':_0x35dbb0[_0xc5e460(0x19e)],'number':_0x35dbb0[_0xc5e460(0x1d5)],'price':_0x35dbb0[_0xc5e460(0xdc)]};_0x269f4f['push'](_0x485568);});const _0x4cab73=await getFiat();_0x3736c6={'date':lastBalances[_0xbeba70(0x127)][_0xbeba70(0x181)]('\x20')[0x0],'eur':_0x4cab73[_0xbeba70(0x108)],'usd':_0x4cab73[_0xbeba70(0x17c)],'coins':_0x269f4f};let _0x128f1e=dbPerformance[_0xbeba70(0x225)](_0xbeba70(0x13e))[_0xbeba70(0x1cc)]({'date':_0x3736c6['date']})[_0xbeba70(0xe2)]();_0x128f1e?_0x3736c6[_0xbeba70(0x23c)]!=config['startdate']&&dbPerformance[_0xbeba70(0x225)]('data')[_0xbeba70(0x1cc)]({'date':_0x3736c6[_0xbeba70(0x23c)]})['assign'](_0x3736c6)[_0xbeba70(0x120)]():dbPerformance['get'](_0xbeba70(0x13e))[_0xbeba70(0x25c)](_0x3736c6)[_0xbeba70(0x120)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x58a766=_0x4cc25a;let _0x2eb55e=[];if(dbPerformance[_0x58a766(0x1ac)]('data')[_0x58a766(0xe2)]()){let _0x50a629=dbPerformance[_0x58a766(0x225)]('data')[_0x58a766(0x228)]()[_0x58a766(0x220)](_0x5eb708=>{const _0x3e3976=_0x58a766;if(_0x5eb708[_0x3e3976(0x19f)][_0x3e3976(0x147)]==0x0)return![];else return!![];})[_0x58a766(0x1a7)]('date')[_0x58a766(0xe2)](),_0x4f552a=[...config[_0x58a766(0x1b3)]];_0x4f552a['sort']((_0x1c95cb,_0x1bc9a9)=>_0x1c95cb['date']>_0x1bc9a9[_0x58a766(0x23c)]?-0x1:_0x1bc9a9[_0x58a766(0x23c)]>_0x1c95cb[_0x58a766(0x23c)]?0x1:0x0);let _0x4b892f=0x1,_0x5af9ca=[],_0x5ab1a8=0x0;_0x50a629['slice']()[_0x58a766(0x15d)]()[_0x58a766(0x15b)]((_0x4dc8fd,_0x57d647)=>{const _0x1585df=_0x58a766;if(_0x4f552a[_0x5ab1a8]){if(_0x50a629[_0x50a629['length']-_0x57d647]&&_0x4f552a[_0x5ab1a8][_0x1585df(0x23c)]==_0x50a629[_0x50a629[_0x1585df(0x147)]-_0x57d647][_0x1585df(0x23c)]){if(_0x57d647<_0x50a629[_0x1585df(0x147)]){let _0x2d8a41=0x0,_0x13aef0=0x0;_0x50a629[_0x50a629[_0x1585df(0x147)]-_0x57d647][_0x1585df(0x19f)][_0x1585df(0x15b)](_0x169dc5=>{const _0x431865=_0x1585df;_0x13aef0+=_0x169dc5[_0x431865(0x1d5)]*_0x169dc5['price'];}),_0x4f552a[_0x5ab1a8]['changes'][_0x1585df(0x15b)](_0x53178a=>{const _0x191b73=_0x1585df;_0x2d8a41+=_0x53178a[_0x191b73(0x1d5)]*_0x53178a[_0x191b73(0x1dd)];}),_0x4b892f*=_0x2d8a41/(_0x13aef0-_0x2d8a41)+0x1;}_0x5ab1a8++;}}let _0x3c5f8c=0x0;_0x4dc8fd[_0x1585df(0x19f)]['forEach'](_0x2ae64c=>{const _0x123d4e=_0x1585df;_0x3c5f8c+=_0x2ae64c[_0x123d4e(0x1d5)]*_0x2ae64c[_0x123d4e(0x1dd)];}),_0x5af9ca[_0x50a629[_0x1585df(0x147)]-_0x57d647-0x1]=_0x3c5f8c*(_0x4b892f-0x1);});let _0x2623fc=[];_0x4f552a=[...config[_0x58a766(0x1b3)]]||[];let _0x5a0b74=0x0;_0x5ab1a8=0x0,_0x50a629[_0x58a766(0x15b)]((_0x292765,_0x2fdab1)=>{const _0x2e0a46=_0x58a766;if(_0x4f552a[_0x5ab1a8]){const _0x2ed37a=fns[_0x2e0a46(0xef)](_0x4f552a[_0x5ab1a8][_0x2e0a46(0x23c)],_0x2e0a46(0x16d),new Date()),_0x341945=fns[_0x2e0a46(0xef)](_0x292765[_0x2e0a46(0x23c)],_0x2e0a46(0x16d),new Date());if(fns['isEqual'](_0x2ed37a,_0x341945)){let _0x287fdf=0x0;_0x4f552a[_0x5ab1a8][_0x2e0a46(0x194)][_0x2e0a46(0x15b)](_0x469888=>{const _0x2f7a57=_0x2e0a46;!_0x2623fc[_0x469888[_0x2f7a57(0x19e)]]?_0x2623fc[_0x469888[_0x2f7a57(0x19e)]]=_0x469888[_0x2f7a57(0x1d5)]:(_0x287fdf=_0x2623fc[_0x469888[_0x2f7a57(0x19e)]],_0x2623fc[_0x469888['coin']]+=_0x469888[_0x2f7a57(0x1d5)]);const _0x5b3f46=_0x292765[_0x2f7a57(0x19f)][_0x2f7a57(0x1cc)](_0x1b4540=>_0x1b4540[_0x2f7a57(0x19e)]==_0x469888['coin']);(!_0x5b3f46||_0x5b3f46[_0x2f7a57(0x1d5)]==0x0)&&(_0x5a0b74+=(-_0x469888[_0x2f7a57(0x1d5)]-_0x287fdf)*_0x469888[_0x2f7a57(0x1dd)]);}),_0x5ab1a8++;}}_0x292765[_0x2e0a46(0x19f)][_0x2e0a46(0x15b)]((_0x2b2ab8,_0x4fe9f7)=>{const _0x47ec30=_0x2e0a46;_0x2623fc[_0x2b2ab8[_0x47ec30(0x19e)]]&&(_0x2b2ab8['initial']=_0x2623fc[_0x2b2ab8['coin']]);}),_0x2eb55e['push']({'date':_0x292765[_0x2e0a46(0x23c)],'eur':_0x292765['eur'],'usd':_0x292765[_0x2e0a46(0x17c)],'offset':_0x5af9ca[_0x2fdab1],'netoffset':_0x5a0b74,'coins':_0x292765[_0x2e0a46(0x19f)]});});}return _0x2eb55e;}function emitPerformance(_0x2323a0){const _0x1c47d5=_0x4cc25a;_0x2323a0[_0x1c47d5(0x147)]!==0x0?(proxyEmit(_0x1c47d5(0x25f),_0x2323a0),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x45b1af,_0x113800){const _0x37f5d5=_0x4cc25a;let _0x462dea=0x0,_0x13c05f=0x0,_0x6572fe=0x0;_0x45b1af[_0x37f5d5(0x19f)]['forEach'](_0x12f7bc=>{const _0x10cd93=_0x37f5d5;_0x462dea+=_0x12f7bc[_0x10cd93(0x1d5)]*_0x12f7bc[_0x10cd93(0x1dd)];});_0x113800&&(_0x462dea+=_0x45b1af[_0x37f5d5(0x1da)]);if(config[_0x37f5d5(0x239)]===_0x37f5d5(0x1a0)||config['basecoin']==='ETH')_0x13c05f=_0x462dea*_0x45b1af[_0x37f5d5(0x108)],_0x6572fe=_0x462dea*_0x45b1af[_0x37f5d5(0x17c)];else{if(usdBasecoins['includes'](config[_0x37f5d5(0x239)]))_0x13c05f=_0x462dea*_0x45b1af['eur']/_0x45b1af[_0x37f5d5(0x17c)],_0x6572fe=_0x462dea;else config[_0x37f5d5(0x239)]===_0x37f5d5(0x23d)&&(_0x13c05f=_0x462dea,_0x6572fe=_0x462dea*_0x45b1af['usd']/_0x45b1af[_0x37f5d5(0x108)]);}return[_0x462dea,_0x13c05f,_0x6572fe];}function getKPIs(_0xb70b85,_0x30fb14=_0x4cc25a(0x23d)){const _0x40d5af=_0x4cc25a,_0x14ab27=config[_0x40d5af(0x239)],_0x557e8b=lastBalances,_0x1e8b8f=currentCoins,_0x3b6e09=getNormalizedPerformance(),_0x28c56e=_0xb70b85===_0x40d5af(0x239)?_0x14ab27:_0xb70b85===_0x40d5af(0x116)||_0xb70b85===_0x40d5af(0x252)?_0x30fb14:'Net\x20'+_0x14ab27,_0x2e43a0=_0xb70b85==='net-basecoin'?_0x40d5af(0x168):_0xb70b85==='net-fiat'?_0x40d5af(0x168):_0x28c56e+'\x20value',_0x496c75=_0xb70b85===_0x40d5af(0x1f6)||_0xb70b85===_0x40d5af(0x252)?'Net\x20effect':_0x28c56e+_0x40d5af(0x244);let _0x21e327=0x0;_0x1e8b8f[_0x40d5af(0x15b)](_0x11d007=>{const _0x5cfb28=_0x40d5af;_0x21e327+=_0x11d007[_0x5cfb28(0x1d5)]*_0x11d007[_0x5cfb28(0xdc)];});if(_0xb70b85===_0x40d5af(0x116)||_0xb70b85===_0x40d5af(0x252)){if(_0x14ab27==='BTC'||_0x14ab27==='ETH')_0x21e327=_0x21e327*(_0x30fb14==='EUR'?_0x557e8b[_0x40d5af(0x108)]:_0x557e8b[_0x40d5af(0x17c)]);else{if(usdBasecoins[_0x40d5af(0x1e9)](_0x14ab27))_0x21e327=_0x21e327*(_0x30fb14===_0x40d5af(0x23d)?_0x557e8b[_0x40d5af(0x108)]/_0x557e8b[_0x40d5af(0x17c)]:0x1);else _0x14ab27===_0x40d5af(0x23d)&&(_0x21e327=_0x21e327*(_0x30fb14===_0x40d5af(0x23d)?0x1:_0x557e8b[_0x40d5af(0x17c)]/_0x557e8b['eur']));}}let _0x51fda0;if(_0x21e327!==0x0){if(_0xb70b85===_0x40d5af(0x239))_0x51fda0=(_0x21e327/startingBalances[_0x40d5af(0x239)]-0x1)*0x64;else{if(_0x30fb14===_0x40d5af(0x23d))_0x51fda0=(_0x21e327/startingBalances[_0x40d5af(0x108)]-0x1)*0x64;else _0x51fda0=(_0x21e327/startingBalances[_0x40d5af(0x17c)]-0x1)*0x64;}let _0x5276bd=0x0;if(startingBalances[_0x40d5af(0x19f)])_0x1e8b8f[_0x40d5af(0x15b)](_0x1ae3d0=>{const _0x44b5bf=_0x40d5af;let _0x2e00af=startingBalances[_0x44b5bf(0x19f)][_0x44b5bf(0x1cc)](_0x54ef64=>_0x54ef64['coin']===_0x1ae3d0[_0x44b5bf(0x19e)]);if(_0x2e00af&&_0x2e00af[_0x44b5bf(0x19e)]&&_0x1ae3d0[_0x44b5bf(0x1d5)]!==0x0)_0x5276bd+=_0x2e00af[_0x44b5bf(0x1d5)]*_0x1ae3d0[_0x44b5bf(0xdc)];});let _0x1bd4c7=0x0;if(_0x3b6e09[_0x40d5af(0x147)]!==0x0){let _0x185760=_0x3b6e09[_0x3b6e09['length']-0x1];_0x1bd4c7=_0x185760['netoffset'];}_0x5276bd-=_0x1bd4c7;_0xb70b85===_0x40d5af(0x1f6)&&(_0x51fda0=(_0x21e327-_0x5276bd)/startingBalances[_0x40d5af(0x239)]*0x64,_0x21e327=_0x21e327-_0x5276bd);if(_0xb70b85===_0x40d5af(0x252)){let _0xd3b9ed=_0x30fb14===_0x40d5af(0x23d)?startingBalances[_0x40d5af(0x108)]:startingBalances[_0x40d5af(0x17c)];if(_0x14ab27===_0x40d5af(0x1a0)||_0x14ab27===_0x40d5af(0x17f))_0x5276bd=_0x30fb14===_0x40d5af(0x23d)?_0x5276bd*_0x557e8b['eur']:_0x5276bd*_0x557e8b[_0x40d5af(0x17c)];else{if(usdBasecoins[_0x40d5af(0x1e9)](_0x14ab27))_0x5276bd=_0x30fb14===_0x40d5af(0x23d)?_0x5276bd*_0x557e8b[_0x40d5af(0x108)]/_0x557e8b[_0x40d5af(0x17c)]:_0x5276bd;else _0x14ab27==='EUR'&&(_0x5276bd=_0x30fb14===_0x40d5af(0x23d)?_0x5276bd:_0x5276bd*_0x557e8b[_0x40d5af(0x17c)]/_0x557e8b['eur']);}_0x51fda0=(_0x21e327-_0x5276bd)/_0xd3b9ed*0x64,_0x21e327=_0x21e327-_0x5276bd;}if(_0x51fda0){if(_0x51fda0<0x64)_0x51fda0=_0x51fda0['toFixed'](0x2);else{if(_0x51fda0<0x3e8)_0x51fda0=_0x51fda0[_0x40d5af(0xda)](0x1);else _0x51fda0=_0x51fda0[_0x40d5af(0xda)](0x0);}}else _0x51fda0=Number('0')[_0x40d5af(0xda)](0x2);if(_0x21e327){if(Math[_0x40d5af(0xdf)](_0x21e327)<0.000001)_0x21e327=_0x21e327[_0x40d5af(0xda)](0x2);else{if(Math[_0x40d5af(0xdf)](_0x21e327)<0.1)_0x21e327=_0x21e327[_0x40d5af(0xda)](0x6);else{if(Math[_0x40d5af(0xdf)](_0x21e327)<0x1)_0x21e327=_0x21e327[_0x40d5af(0xda)](0x5);else{if(Math['abs'](_0x21e327)<0xa)_0x21e327=_0x21e327[_0x40d5af(0xda)](0x4);else{if(Math['abs'](_0x21e327)<0x64)_0x21e327=_0x21e327[_0x40d5af(0xda)](0x3);else{if(Math[_0x40d5af(0xdf)](_0x21e327)<0x3e8)_0x21e327=_0x21e327[_0x40d5af(0xda)](0x2);else _0x21e327=_0x21e327[_0x40d5af(0xda)](0x2);}}}}}}else _0x21e327=Number('0')[_0x40d5af(0xda)](0x2);}else _0x51fda0=Number('0')['toFixed'](0x2);return{'value':_0x21e327,'change':_0x51fda0,'leftTxt':_0x2e43a0,'rightTxt':_0x496c75};}async function getStartingBalances(_0x583b86,_0x2bd36d=!![]){const _0x1f6bf1=_0x4cc25a;if(_0x583b86[_0x1f6bf1(0x147)]!==0x0){const [_0x5cdd94,_0xbd240a,_0x5d7a68]=getPerf(_0x583b86[0x0],!![]);let _0x44ad84=[];config['portfolio']['forEach'](_0x4428f2=>{const _0xe2be5=_0x1f6bf1;let _0x22eea9=0x0,_0x3c5a3c;config['liquidity']['forEach'](_0x331c87=>{const _0x5b9400=_0x4d10;let _0x468eab=_0x331c87[_0x5b9400(0x194)]['find'](_0x4dbc85=>_0x4dbc85['coin']==_0x4428f2[_0x5b9400(0x19e)]);if(_0x468eab){_0x22eea9+=_0x468eab['number'];if(!_0x3c5a3c)_0x3c5a3c=_0x468eab[_0x5b9400(0x1dd)];}}),_0x44ad84[_0xe2be5(0x25c)]({'coin':_0x4428f2['coin'],'number':_0x22eea9,'initialprice':_0x3c5a3c});});const _0x2a6fd3={'basecoin':_0x5cdd94,'eur':_0xbd240a,'usd':_0x5d7a68,'coins':_0x44ad84};if(_0x2bd36d)proxyEmit('starting-balances',_0x2a6fd3);startingBalances=_0x2a6fd3;}}function headlessMode(_0x5d6aac){const _0x4fe251=_0x4cc25a;let _0x209ecc=_0x5d6aac[_0x4fe251(0x1af)],_0x3a095e=_0x5d6aac['threshold'],_0x14eb97=[];for(let _0x4bb45c of _0x209ecc){if(_0x4bb45c['coin']!=config[_0x4fe251(0x239)]){if(_0x4bb45c['delta']>=_0x3a095e/0x64){if(_0x4bb45c[_0x4fe251(0x180)])_0x14eb97[_0x4fe251(0x25c)](_0x4bb45c);}else{if(_0x4bb45c['delta']<=-_0x3a095e/0x64){if(_0x4bb45c[_0x4fe251(0x180)])_0x14eb97['push'](_0x4bb45c);}}}}_0x14eb97[_0x4fe251(0x147)]>0x0&&placeOrder(_0x14eb97);}function notifyBalance(_0x392ac6){const _0xb60745=_0x4cc25a;let _0x2577f0=_0x392ac6[_0xb60745(0x1af)],_0xdce6e8=_0x392ac6[_0xb60745(0x1f8)],_0x23a785=[];for(let _0x30025d of _0x2577f0){if(_0x30025d['coin']!=config[_0xb60745(0x239)]){if(_0x30025d[_0xb60745(0x1ee)]>=_0xdce6e8/0x64){if(_0x30025d[_0xb60745(0x180)])_0x23a785[_0xb60745(0x25c)](_0x30025d);}else{if(_0x30025d['delta']<=-_0xdce6e8/0x64){if(_0x30025d[_0xb60745(0x180)])_0x23a785[_0xb60745(0x25c)](_0x30025d);}}}}if(_0x23a785[_0xb60745(0x147)]>0x0){let _0x28e743=_0x23a785[_0xb60745(0x261)](_0x6d9ef8=>_0x6d9ef8[_0xb60745(0x19e)]);_0x28e743[_0xb60745(0x207)]();let _0x5a1292=_0x28e743[_0xb60745(0x1e1)](',\x20');if(!lastCoinsToBalance)logHistory(_0xb60745(0xff),_0xb60745(0x16a));lastCoinsToBalance=_0x5a1292;}}function symbolToCoin(_0x170a49){const _0x44f045=_0x4cc25a;let _0x1be6f8;if(_0x170a49[_0x44f045(0x1e9)]('/'+config[_0x44f045(0x239)]))_0x1be6f8=_0x170a49[_0x44f045(0x140)]('/'+config[_0x44f045(0x239)],'');if(_0x170a49[_0x44f045(0x1e9)](config[_0x44f045(0x239)]+'/'))_0x1be6f8=_0x170a49['replace'](config[_0x44f045(0x239)]+'/','');return _0x1be6f8;}async function unlockOrders(){const _0x4e8a72=_0x4cc25a;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4e8a72(0x224)]){logger[_0x4e8a72(0x208)](_0x4e8a72(0x1b4)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x21a155=await getCoins();[currentCoins,currentCoinsAll]=_0x21a155,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x4e8a72(0x12c)],logger['debug']('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x5a1899){const _0x352045=_0x4cc25a;if(_0x5a1899)validateOrdersState=_0x5a1899;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x352045(0x167)+(lockOrders==0x1?_0x352045(0x1f1):lockOrders==0x2?_0x352045(0x17d):_0x352045(0x1e7)));let _0x3f3271=[],_0x462fca=config[_0x352045(0xdb)]==_0x352045(0x24b)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x352045(0x246)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x352045(0x224)])return;logger[_0x352045(0x208)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x352045(0x15b)](_0x328183=>{const _0x268a97=_0x352045;let _0x5973e4=![];_0x328183[_0x268a97(0x23a)]>0x0&&(_0x5973e4=!![]),_0x3f3271['push'](_0x5973e4),_0x5973e4&&config['ordertype']!=_0x268a97(0x24b)&&logHistory('order',_0x268a97(0x11d)+_0x328183[_0x268a97(0x190)]+'\x20'+_0x328183['side']+'\x20#'+formatResult(_0x328183[_0x268a97(0x23a)],0x8)+'\x20@'+formatResult(_0x328183[_0x268a97(0x1dd)],0x8));}),_0x3f3271[_0x352045(0x15b)]((_0x58c642,_0x28f971)=>{if(_0x58c642)lastOrders['splice'](_0x28f971,0x1);}),persistOpenOrders(lastOrders);const _0x1cfdeb=coolingDown?_0x352045(0xfa):_0x352045(0x10a);if(validateOrdersState==_0x352045(0x111)){validateOrdersState=_0x352045(0x11c);if(_0x3f3271[_0x352045(0x1e9)](![])){if(config[_0x352045(0xdb)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x352045(0x11c)){if(_0x3f3271[_0x352045(0x1e9)](![])){}else{if(allOrdersPlaced){if(config[_0x352045(0xdb)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x352045(0x17b))_0x3f3271[_0x352045(0x1e9)](![])&&(config[_0x352045(0xdb)]==_0x352045(0x24b)?logHistory(_0x352045(0x19a),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x352045(0x1fa)](_0x462fca*validateOrderInterval/0xea60)+_0x352045(0x171)+_0x1cfdeb):(await cancelOrders(),logHistory(_0x352045(0x19a),_0x352045(0xe3)+Math[_0x352045(0x1fa)](_0x462fca*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1cfdeb))),await unlockOrders();else{if(validateOrdersState==_0x352045(0x122)){if(config[_0x352045(0xdb)]!=_0x352045(0x24b))logHistory('success',_0x352045(0x1b8)+_0x1cfdeb);await unlockOrders();}}}}}async function cancelOrders(){const _0x1bb817=_0x4cc25a;lastOrders[_0x1bb817(0x15b)](async _0x2efc7e=>{const _0x5d17d6=_0x1bb817;try{const _0x102dc4=await exchange[_0x5d17d6(0xf3)](_0x2efc7e[_0x5d17d6(0x13f)],_0x2efc7e[_0x5d17d6(0x190)]);}catch(_0x3a5349){if(_0x3a5349['toString']()[_0x5d17d6(0x1e9)](_0x5d17d6(0x176))){}else await handleError(_0x3a5349,_0x5d17d6(0xeb));}});}async function initCoinResults(_0x5cd070){const _0x1cf1ad=_0x4cc25a;_0x5cd070?logger[_0x1cf1ad(0x208)](_0x1cf1ad(0x154)+_0x5cd070):logger['debug']('Initializing\x20coin\x20results'),config[_0x1cf1ad(0x1af)][_0x1cf1ad(0x15b)](_0xfb8a9d=>{const _0x510790=_0x1cf1ad;if(!_0xfb8a9d[_0x510790(0x197)]&&_0xfb8a9d[_0x510790(0x19e)]!=config[_0x510790(0x239)]){const _0x1405d8=currentCoins['find'](_0x588766=>_0x588766[_0x510790(0x19e)]==_0xfb8a9d['coin']),_0x41c5e6=global[_0x510790(0x1ec)][noslash(_0xfb8a9d['symbol'])];let _0x233d94=_0x1405d8?_0x1405d8['number']:null,_0x578056=_0xfb8a9d['reverse']?0x1/_0x41c5e6:_0x41c5e6,_0x5cad54;config[_0x510790(0x1b3)][_0x510790(0x15b)](_0x509edd=>{const _0x98440f=_0x510790;!_0x5cad54&&(_0x5cad54=_0x509edd['changes']['find'](_0x5a18ac=>_0x5a18ac[_0x98440f(0x19e)]==_0xfb8a9d[_0x98440f(0x19e)]),_0x5cad54&&(_0x233d94=_0x5cad54[_0x98440f(0x1d5)],_0x578056=_0x5cad54[_0x98440f(0x1dd)]));});let _0x445644=dbCoinResults[_0x510790(0x225)](_0x510790(0x19f))[_0x510790(0x1cc)]({'coin':_0xfb8a9d[_0x510790(0x19e)]})[_0x510790(0xe2)]();if(!_0x445644){const _0x1b8cf8={'coin':_0xfb8a9d[_0x510790(0x19e)],'number':_0x233d94,'breakeven':_0x578056,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x510790(0x225)](_0x510790(0x19f))[_0x510790(0x25c)](_0x1b8cf8)[_0x510790(0x120)]();}else{if(_0x5cd070&&_0xfb8a9d[_0x510790(0x19e)]==_0x5cd070){const _0x22494e={'coin':_0xfb8a9d[_0x510790(0x19e)],'number':_0x233d94,'breakeven':_0x578056,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x510790(0x225)]('coins')[_0x510790(0x1cc)]({'coin':_0xfb8a9d['coin']})[_0x510790(0x14f)](_0x22494e)[_0x510790(0x120)]();}}}});}async function updateCoinResults(_0xf3d394,_0x1251f2=![]){const _0x48f5f2=_0x4cc25a;let _0x5c4459,_0x5076b3,_0x1401f4,_0x1f935c,_0x309414,_0x32dc30,_0x528749=dbCoinResults[_0x48f5f2(0x225)](_0x48f5f2(0x19f))[_0x48f5f2(0x1cc)]({'coin':_0xf3d394[_0x48f5f2(0x19e)]})[_0x48f5f2(0xe2)](),_0x5ada7e=![];_0x528749&&Object[_0x48f5f2(0x205)](_0x528749)[_0x48f5f2(0x15b)](([_0x31c776,_0x2dbf1b])=>{if(_0x2dbf1b==null)_0x5ada7e=!![];});(!_0x528749||_0x5ada7e)&&(await initCoinResults(_0xf3d394['coin']),_0x528749=dbCoinResults['get'](_0x48f5f2(0x19f))[_0x48f5f2(0x1cc)]({'coin':_0xf3d394['coin']})['value']());_0xf3d394['reverse']&&(_0x32dc30={'filled':_0xf3d394[_0x48f5f2(0x23a)]*_0xf3d394[_0x48f5f2(0x1dd)],'amount':_0xf3d394[_0x48f5f2(0x23a)]*_0xf3d394[_0x48f5f2(0x1dd)],'side':_0xf3d394[_0x48f5f2(0x16f)]==_0x48f5f2(0xe4)?'buy':_0x48f5f2(0xe4),'price':0x1/_0xf3d394[_0x48f5f2(0x1dd)]},_0xf3d394={..._0xf3d394,..._0x32dc30});_0x1251f2?_0x5076b3=_0xf3d394[_0x48f5f2(0x16f)]==_0x48f5f2(0x133)?_0x528749[_0x48f5f2(0x1d5)]+_0xf3d394['filled']:_0x528749[_0x48f5f2(0x1d5)]-_0xf3d394[_0x48f5f2(0x23a)]:_0x5076b3=await getCoinNumber(_0xf3d394[_0x48f5f2(0x19e)]);if(_0xf3d394[_0x48f5f2(0x227)]&&_0xf3d394[_0x48f5f2(0x227)][_0x48f5f2(0xf7)]==config['basecoin'])_0x5c4459=_0xf3d394['fee'][_0x48f5f2(0xe7)];else{if(_0xf3d394['fee']&&_0xf3d394[_0x48f5f2(0x227)][_0x48f5f2(0xf7)]=='BNB'&&!_0x1251f2)_0x5c4459=_0xf3d394[_0x48f5f2(0x227)][_0x48f5f2(0xe7)]*global[_0x48f5f2(0x1ec)]['BNB'+config[_0x48f5f2(0x239)]];else _0x5c4459=defaultFee*_0xf3d394[_0x48f5f2(0x23a)]*_0xf3d394['price'];}_0xf3d394[_0x48f5f2(0x16f)]==_0x48f5f2(0x133)?(_0x1401f4=_0x5076b3!=0x0?(_0x528749[_0x48f5f2(0x1aa)]*_0x528749[_0x48f5f2(0x1d5)]+_0xf3d394[_0x48f5f2(0x1dd)]*(_0x5076b3-_0x528749[_0x48f5f2(0x1d5)])+_0x5c4459)/_0x5076b3:0x0,_0x1f935c=_0x528749[_0x48f5f2(0x121)]):(_0x1401f4=_0x5076b3!=0x0?(_0x528749['breakeven']*_0x528749[_0x48f5f2(0x1d5)]-_0xf3d394[_0x48f5f2(0x1dd)]*(_0x528749[_0x48f5f2(0x1d5)]-_0x5076b3)+_0x5c4459)/_0x5076b3:0x0,_0x1f935c=_0x528749['realized']+(_0xf3d394[_0x48f5f2(0x1dd)]-_0x528749[_0x48f5f2(0x1aa)])*_0xf3d394[_0x48f5f2(0x23a)]);_0x309414=(_0xf3d394[_0x48f5f2(0x1dd)]-_0x1401f4-_0x5c4459/_0xf3d394[_0x48f5f2(0x23a)])*_0x5076b3;let _0x24cca8={'coin':_0xf3d394[_0x48f5f2(0x19e)],'number':_0x5076b3,'breakeven':formatResult(_0x1401f4,0x8),'realized':formatResult(_0x1f935c,0x8),'unrealized':formatResult(_0x309414,0x8),'fees':formatResult(_0x528749[_0x48f5f2(0x1de)]+_0x5c4459,0x8),'sells':_0xf3d394[_0x48f5f2(0x16f)]==_0x48f5f2(0xe4)?_0x528749[_0x48f5f2(0x1ca)]+0x1:_0x528749[_0x48f5f2(0x1ca)],'buys':_0xf3d394[_0x48f5f2(0x16f)]==_0x48f5f2(0x133)?_0x528749[_0x48f5f2(0x137)]+0x1:_0x528749[_0x48f5f2(0x137)]};dbCoinResults[_0x48f5f2(0x225)](_0x48f5f2(0x19f))['find']({'coin':_0xf3d394[_0x48f5f2(0x19e)]})[_0x48f5f2(0x14f)](_0x24cca8)[_0x48f5f2(0x120)]();if(!_0x1251f2){if(_0xf3d394[_0x48f5f2(0x227)]&&_0xf3d394[_0x48f5f2(0x227)]['currency']==_0x48f5f2(0x123)){const _0x54c82a=currentCoins[_0x48f5f2(0x1cc)](_0x51f22d=>_0x51f22d[_0x48f5f2(0x19e)]==_0x48f5f2(0x123));if(_0x54c82a){let _0x25d3e4=dbCoinResults[_0x48f5f2(0x225)]('coins')[_0x48f5f2(0x1cc)]({'coin':_0x48f5f2(0x123)})[_0x48f5f2(0xe2)]();_0x24cca8={..._0x25d3e4,'number':_0x54c82a['number']},dbCoinResults['get'](_0x48f5f2(0x19f))[_0x48f5f2(0x1cc)]({'coin':'BNB'})[_0x48f5f2(0x14f)](_0x24cca8)[_0x48f5f2(0x120)]();}}}}async function placeOrder(_0x1a7d5a){const _0x83203f=_0x4cc25a,_0x5a791a=config[_0x83203f(0xdb)]=='market'?_0x83203f(0x24b):'limit';if(lockOrders==ORDERS[_0x83203f(0x12c)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x83203f(0x224)],allOrdersPlaced=![],validateOrdersState=_0x83203f(0x111);let _0x9d6a67=![];lastOrders=[];for(const _0x582350 of _0x1a7d5a){let _0x26c4e5,_0x3a9687,_0x48885d,_0x2ebac8,_0x44e7f3,_0x3ec4a7=_0x582350[_0x83203f(0x190)];try{const _0x71c847=await exchange[_0x83203f(0x129)](_0x3ec4a7);_0x26c4e5=_0x582350[_0x83203f(0x15d)]?0x1/_0x582350[_0x83203f(0xdc)]:_0x582350[_0x83203f(0xdc)],_0x3a9687=_0x71c847[_0x83203f(0x152)],_0x48885d=_0x71c847['ask'];_0x582350[_0x83203f(0x15d)]?(_0x2ebac8=_0x582350[_0x83203f(0x16f)]==_0x83203f(0x133)?_0x83203f(0xe4):'buy',_0x44e7f3=Math[_0x83203f(0xdf)](_0x582350[_0x83203f(0x248)])/_0x26c4e5):(_0x2ebac8=_0x582350[_0x83203f(0x16f)],_0x44e7f3=Math[_0x83203f(0xdf)](_0x582350[_0x83203f(0x248)]));_0x5a791a==_0x83203f(0x1c2)&&(config[_0x83203f(0xdb)]==_0x83203f(0x23f)&&(_0x26c4e5=_0x2ebac8==_0x83203f(0x133)?_0x3a9687:_0x48885d),config[_0x83203f(0xdb)]==_0x83203f(0x18e)&&(_0x26c4e5=_0x2ebac8==_0x83203f(0x133)?_0x48885d:_0x3a9687));_0x44e7f3=formatResult(_0x44e7f3,0x8),_0x26c4e5=formatResult(_0x26c4e5,0x8);const _0x303f57=_0x2ebac8==_0x83203f(0xe4)?config[_0x83203f(0x179)]?String[_0x83203f(0x155)]('0x'+config[_0x83203f(0x179)])+'\x20':'':config[_0x83203f(0x18f)]?String[_0x83203f(0x155)]('0x'+config[_0x83203f(0x18f)])+'\x20':'',_0x5abcd6=_0x5a791a==_0x83203f(0x24b)?_0x83203f(0x204):config[_0x83203f(0xdb)]==_0x83203f(0x23f)?_0x83203f(0x1c6):_0x83203f(0x235),_0x544467=(Math[_0x83203f(0x104)](Math[_0x83203f(0x1d1)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x83203f(0x25c)]({'customId':_0x544467,'symbol':_0x3ec4a7,'coin':_0x582350[_0x83203f(0x19e)],'amount':_0x44e7f3,'price':_0x26c4e5,'side':_0x2ebac8,'reverse':_0x582350[_0x83203f(0x15d)],'filled':0x0});if(_0x5a791a==_0x83203f(0x24b))logHistory(_0x83203f(0x1cb),''+_0x303f57+_0x5abcd6+_0x83203f(0x1c8)+_0x3ec4a7+'\x20'+_0x2ebac8+'\x20#'+formatResult(_0x44e7f3,0x8)+'\x20@'+formatResult(_0x26c4e5,0x8));else logHistory(_0x83203f(0x1cb),''+_0x303f57+_0x5abcd6+_0x83203f(0x1c8)+_0x3ec4a7+'\x20'+_0x2ebac8+'\x20#'+formatResult(_0x44e7f3,0x8)+'\x20@'+formatResult(_0x26c4e5,0x8));let _0x5d66af;_0x5a791a=='market'?_0x2ebac8=='buy'&&[_0x83203f(0xe5),_0x83203f(0xfe),_0x83203f(0x136),'Huobi',_0x83203f(0x231)][_0x83203f(0x1e9)](config[_0x83203f(0x196)])?_0x5d66af=await exchange[_0x83203f(0x14d)](_0x3ec4a7,_0x5a791a,_0x2ebac8,_0x44e7f3,_0x26c4e5):_0x5d66af=await exchange[_0x83203f(0x14d)](_0x3ec4a7,_0x5a791a,_0x2ebac8,_0x44e7f3,undefined):_0x5d66af=await exchange[_0x83203f(0x14d)](_0x3ec4a7,_0x5a791a,_0x2ebac8,_0x44e7f3,_0x26c4e5);logger[_0x83203f(0x208)]('ID:\x20'+_0x5d66af['id']+_0x83203f(0x1a5)+_0x544467);const _0x127f54=lastOrders[_0x83203f(0x147)]-0x1;if(_0x127f54>=0x0&&lastOrders[_0x127f54]['customId']==_0x544467){lastOrders[_0x127f54][_0x83203f(0x13f)]=_0x5d66af['id'];if(_0x5d66af[_0x83203f(0x1ed)])lastOrders[_0x127f54][_0x83203f(0x1ed)]=_0x5d66af[_0x83203f(0x1ed)];if(_0x5d66af['price'])lastOrders[_0x127f54][_0x83203f(0x1dd)]=_0x5d66af[_0x83203f(0x1dd)];lastOrders[_0x127f54]['fee']=_0x5d66af[_0x83203f(0x227)];}if(config[_0x83203f(0x24c)]!=0x0){let _0x407f69=null;if(cooldownTracker[_0x83203f(0x147)]==config[_0x83203f(0x24c)]-0x1)_0x407f69=cooldownTracker['shift']();const _0x573816=getTimeStamp();cooldownTracker[_0x83203f(0x25c)](_0x573816);if(_0x407f69){const _0x49d4cf=fns[_0x83203f(0x1f5)](new Date(_0x573816),new Date(_0x407f69));if(_0x49d4cf<cooldownInterval){logHistory(_0x83203f(0x103),'Executed\x20'+config['cooldown']+_0x83203f(0x22c)+cooldownInterval/0x3c+_0x83203f(0x19b)+cooldownPeriod/(0xe10*0x3e8)+_0x83203f(0x107)),coolingDown=!![];break;}}}}catch(_0x449c2a){if(_0x449c2a['toString']()[_0x83203f(0x1e9)](_0x83203f(0x212)))lastOrders=lastOrders[_0x83203f(0x220)](_0x239a6e=>_0x239a6e[_0x83203f(0x190)]!=_0x3ec4a7),logHistory(_0x83203f(0x103),_0x83203f(0x101)+_0x3ec4a7),_0x9d6a67=!![];else{if(_0x449c2a[_0x83203f(0x182)]()[_0x83203f(0x1e9)](_0x83203f(0x247)))lastOrders=lastOrders['filter'](_0x1cacee=>_0x1cacee[_0x83203f(0x190)]!=_0x3ec4a7),logHistory(_0x83203f(0x103),_0x83203f(0x210)+_0x3ec4a7),_0x9d6a67=!![];else{if(_0x449c2a[_0x83203f(0x182)]()[_0x83203f(0x1e9)]('InvalidOrder'))lastOrders=lastOrders[_0x83203f(0x220)](_0x49fc57=>_0x49fc57[_0x83203f(0x190)]!=_0x3ec4a7),logHistory(_0x83203f(0x103),'Order\x20is\x20invalid:\x20'+_0x3ec4a7),logger[_0x83203f(0x208)](_0x449c2a),_0x9d6a67=!![];else _0x449c2a[_0x83203f(0x182)]()[_0x83203f(0x1e9)](_0x83203f(0x165))?(lastOrders=lastOrders[_0x83203f(0x220)](_0x9ccbd4=>_0x9ccbd4[_0x83203f(0x190)]!=_0x3ec4a7),logHistory(_0x83203f(0x103),_0x83203f(0x101)+_0x3ec4a7),_0x9d6a67=!![]):(lastOrders=lastOrders[_0x83203f(0x220)](_0x4cfacd=>_0x4cfacd[_0x83203f(0x190)]!=_0x3ec4a7),await handleError(_0x449c2a,_0x83203f(0x1d2),_0x3ec4a7));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x83203f(0x147)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3c619b=config[_0x83203f(0xdb)]==_0x83203f(0x24b)?validateOrderTimeout*0x3c*0x3e8:config[_0x83203f(0x246)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x3c619b);}else unlockOrders();_0x9d6a67&&config[_0x83203f(0xf6)]&&(logHistory(_0x83203f(0x103),_0x83203f(0x201)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x83203f(0x19a),_0x83203f(0x1f4)));}else{if(coolingDown)!config[_0x83203f(0xf6)]&&logHistory(_0x83203f(0x103),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x83203f(0x12c)]&&(!config[_0x83203f(0xf6)]&&(config[_0x83203f(0xdb)]==_0x83203f(0x24b)?logHistory('error',_0x83203f(0x14e)):logHistory(_0x83203f(0x103),_0x83203f(0x1b6))));}}function persistOpenOrders(_0x4eb675){const _0x1784b8=_0x4cc25a,_0x4ad7b7={...config,'openOrders':_0x4eb675};let _0x56eea9=dbConfig[_0x1784b8(0x225)](_0x1784b8(0x126))['find']({'botID':botID})[_0x1784b8(0xe2)]();_0x56eea9&&dbConfig[_0x1784b8(0x225)]('bot')[_0x1784b8(0x1cc)]({'botID':botID})['assign'](_0x4ad7b7)[_0x1784b8(0x120)]();}function restoreOrders(){const _0x542b3c=_0x4cc25a;let _0x5bec2e;config[_0x542b3c(0xec)]&&allOpenOrders[_0x542b3c(0x15b)](_0x57b92f=>{const _0x4b3995=_0x542b3c,_0x242d3a=config[_0x4b3995(0xec)][_0x4b3995(0x1cc)](_0x33452f=>_0x33452f[_0x4b3995(0x13f)]==_0x57b92f['id']);_0x242d3a&&(lastOrders[_0x4b3995(0x25c)](_0x242d3a),_0x5bec2e=_0x57b92f[_0x4b3995(0x238)]);});if(lastOrders[_0x542b3c(0x147)]>0x0){lockOrders=ORDERS[_0x542b3c(0x224)],validateOrdersState=_0x542b3c(0x11c),allOrdersPlaced=!![];const _0x4da3f0=new Date()[_0x542b3c(0x175)](),_0x11ca3c=config[_0x542b3c(0xdb)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x542b3c(0x246)]*0x3c*0x3e8;if(_0x5bec2e+_0x11ca3c>_0x4da3f0){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4c65f0=_0x542b3c;validateOrders(_0x4c65f0(0x17b));},_0x5bec2e+_0x11ca3c-_0x4da3f0);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x58eee0=_0x4cc25a;if(!coinsLoaded){process[_0x58eee0(0x214)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x329bad=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x34bf6e='';if(config[_0x58eee0(0x156)])_0x34bf6e='<b>'+config[_0x58eee0(0x1c5)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x34bf6e=_0x58eee0(0x1f3)+botID+_0x58eee0(0x178);const _0x5828b3=getKPIs(_0x58eee0(0x239)),_0x32ee6d=getKPIs(_0x58eee0(0x116),config[_0x58eee0(0x116)]),_0x34305c=getKPIs(_0x58eee0(0x1f6)),_0x1eb95f=getKPIs('net-fiat',config['fiat']);_0x34bf6e+=_0x58eee0(0x1d9),_0x34bf6e+=_0x5828b3[_0x58eee0(0x1df)]+_0x58eee0(0x17a)+_0x5828b3[_0x58eee0(0xe2)]+'\x0a',_0x34bf6e+=_0x5828b3[_0x58eee0(0x113)]+':\x20'+_0x5828b3['change']+'%\x0a',_0x34bf6e+=_0x32ee6d[_0x58eee0(0x1df)]+_0x58eee0(0x17a)+_0x32ee6d[_0x58eee0(0xe2)]+'\x0a',_0x34bf6e+=_0x32ee6d['rightTxt']+':\x20'+_0x32ee6d['change']+'%\x0a',_0x34bf6e+=_0x34305c[_0x58eee0(0x1df)]+':\x20'+_0x34305c[_0x58eee0(0xe2)]+'\x20('+config[_0x58eee0(0x239)]+')\x0a',_0x34bf6e+=_0x34305c[_0x58eee0(0x113)]+':\x20'+_0x34305c['change']+'%\x20('+config['basecoin']+')\x0a',_0x34bf6e+=_0x1eb95f[_0x58eee0(0x1df)]+':\x20'+_0x1eb95f[_0x58eee0(0xe2)]+'\x20('+config['fiat']+')\x0a',_0x34bf6e+=_0x1eb95f[_0x58eee0(0x113)]+':\x20'+_0x1eb95f[_0x58eee0(0xe9)]+_0x58eee0(0x23b)+config[_0x58eee0(0x116)]+')\x0a',_0x34bf6e+=_0x58eee0(0x110),process[_0x58eee0(0x214)]({'telegrammsg':_0x34bf6e},_0x2a35ed=>{});}async function sendPortfolioTelegram(){const _0x2d9a1b=_0x4cc25a;if(!coinsLoaded){process[_0x2d9a1b(0x214)]({'telegrammsg':_0x2d9a1b(0x1c3)},_0x1e9b39=>{});return;}let _0x57c699='';if(config['showname'])_0x57c699=_0x2d9a1b(0xfc)+config[_0x2d9a1b(0x1c5)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x57c699='<b>Bot\x20'+botID+_0x2d9a1b(0x18d);_0x57c699+=_0x2d9a1b(0x1d9),_0x57c699+='-------------------------------\x0a',_0x57c699+=_0x2d9a1b(0x202),_0x57c699+=_0x2d9a1b(0x169),currentCoins[_0x2d9a1b(0x15b)](_0x455b0a=>{const _0x2f2558=_0x2d9a1b;_0x57c699+=_0x455b0a['coin'][_0x2f2558(0x132)](0x7)+'|\x20'+formatPad(_0x455b0a[_0x2f2558(0x128)],0x2,0x6)+'|\x20'+formatPad(_0x455b0a[_0x2f2558(0x1bc)],0x2,0x6)+'|\x20'+formatPad(_0x455b0a['delta']*0x64,0x2,0x6)+'\x0a';}),_0x57c699+='</pre>',process[_0x2d9a1b(0x214)]({'telegrammsg':_0x57c699},_0x5b4a7b=>{});}function formatPad(_0x3f6e29,_0x200f36,_0x52a2fc){const _0x5350ad=_0x4cc25a,_0xe7466a=formatResultString(_0x3f6e29,_0x200f36);return _0xe7466a?_0xe7466a[_0x5350ad(0x1c7)](_0x52a2fc):''[_0x5350ad(0x1c7)](_0x52a2fc);}function logHistory(_0x408a2b,_0x2a6ddb,_0x314ce7=''){const _0x280e8c=_0x4cc25a;logger['full'](''+_0x2a6ddb);let _0x6a698b={'time':getTimeStamp(),'type':_0x408a2b,'event':_0x2a6ddb};dbLogs[_0x280e8c(0x225)](_0x280e8c(0x1b1))['push'](_0x6a698b)[_0x280e8c(0x120)]();if(_0x314ce7=='')_0x314ce7=_0x2a6ddb;proxyEmit(_0x280e8c(0x25a),{'log':_0x6a698b,'summary':_0x314ce7}),process[_0x280e8c(0x214)]({'telegram':{..._0x6a698b,'botname':config[_0x280e8c(0x1c5)],'showname':config[_0x280e8c(0x156)]}},_0x33708c=>{});}function _0x2243(){const _0x5cc2f6=['order','find','highest','.json','log','USD','random','placeOrder()','yargs/yargs','getAllOrders()','number','lowdb','Pausing\x20for\x20','Loading\x20completed','<pre>','offset','6307xztiUN','Error\x20while\x20deleting\x20files:\x20','price','fees','leftTxt','2.6.0','join','parseISO','storeFiat','freeze','decrypt','page','ORDERS.UNLOCKED','bots','includes','\x20|\x20','removed','ticker','amount','delta','(((.+)+)+)+$','ExchangeNotAvailable','ORDERS.LOCKED','startdate','<b>Bot\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','differenceInSeconds','net-basecoin','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','threshold','getCoins()','round','2DrDqhI','change24h','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','configuration-stored','-results.json','Error\x20details:','Avoiding\x20continuous\x20order\x20attempts','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','fetchTickers()','Market','entries','basecoinvalue','sort','debug','Waited\x20','exchange\x20not\x20reloaded','recent20','red_yellow_blue','closed','remainingSymbols','min','Order\x20amount\x20is\x20invalid:\x20','-performance.json','MIN_NOTIONAL','max','send','secure','initTickers()','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','2.3.5','stopExchange()','************','\x20>\x20[DEBUG]\x20','emitHistory','running','toLowerCase','sendMetricsTelegram','filter','Reset\x20|\x20','password','-events.json','LOCKED','get','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','fee','cloneDeep','watchOrders()','001','InvalidNonce','\x20orders\x20in\x20less\x20than\x20','2\x20-\x20FILLED\x20known\x20order:\x20','added','date-fns','storeHeadless','Huobipro','argv','bb-settings.json','loading-canceled','Limit\x20(low-margin)','bot-','1030uwxlFA','timestamp','basecoin','filled','%\x20(','date','EUR','concat','limit-high','mkdirSync','startsWith','average','stringify','\x20change','\x20|\x20highest\x20fee:\x20','timeout','Invalid\x20quantity','trade','Resetting\x20bot\x20history','active','market','cooldown','2\x20-\x20Handled\x20open\x20orders','placeOrder','BNB/','splice','progress','net-fiat','remove','exec','getOpenOrders()','\x20exchange','AuthenticationError','none','loadSymbols()','event','-config.json','push','getMonth','hybrid-crypto-js','performance','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','map','version','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','storeConfiguration','getPortfolio(2)','sha256','search','args','BUSD','\x20network\x20error','getHours','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','restart','./config/','toFixed','ordertype','last','840744vVLINJ','./logs/','abs','starting-balance-','\x20minutes','value','Unfilled\x20order(s)\x20canceled\x20after\x20','sell','Bybit','privateKey','cost','getStartingBalances','change','231546arTFJS','cancelOrders()','openOrders','getFullYear','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','parse','timeshift','Bot\x20','getMinutes','cancelOrder','USDT','Fee\x20discount\x20refund\x20detected:\x20','headless','currency','startprice','deleteHistoryAlerts','balancing\x20resumes\x20when\x20cooldown\x20ends','fetchOpenOrders','<b>','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Bitget','warning','open','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','keys','error','floor','autoliquidity','apiPassword','\x20hour','eur','spot','balancing\x20resumed','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','format','USDC',':\x20Bot\x20','1752JEzOgv','</pre>','initial','amountToPrecision','rightTxt','Binance','balances','fiat','substring','\x20not\x20responding','uncaughtException','loadMarkets','showConfig','ongoing','Order\x20filled:\x20','colorscheme','ccxt','write','realized','no\x20open\x20orders','BNB','cancelLoading','RateLimitExceeded','bot','time','distribution','fetchTicker','RequestTimeout','API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','UNLOCKED','getCoinNumber()','/backup/','watchOrders','\x20>\x20','watchTrades','padEnd','buy','/output-000.log','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','Cex','buys','getPortfolio','recovery','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Invalid\x20symbol:\x20','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','set','data','orderId','replace','event-history','test','startnumber','fetchBalance','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','isEqual','length','getPortfolio(1)','777954AbAqDZ','\x20closed\x20the\x20connection','apply','14643RUYtFN','createOrder','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','assign','sendPortfolioTelegram','\x20-\x20pausing\x20bot\x20for\x20','bid','pro','Resetting\x20coin\x20results:\x20','fromCodePoint','showname','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','watchTransactions()','Saving\x20configuration','existsSync','forEach','slice','reverse','recreateCoinResults()','0\x20-\x20EXECUTION:\x20','string','function','path','1\x20-\x20FILLED:\x20','InsufficientFunds','must\x20be\x20greater\x20than\x20minimum\x20amount','5KZbnIv','\x20|\x20lock\x20orders:\x20','Net\x20effect','-------------------------------\x0a','Manual\x20balancing\x20required','limits','onepagemode','yyyy/MM/dd','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','side','2\x20-\x20FILLED\x20unknown\x20order:\x20','\x20minutes\x20-\x20','createWriteStream','canceled','resetHistory','getTime','OrderNotFound','initclient','\x20metrics:</b>\x20\x0a\x0a','emojisell','\x20:\x20','final','usd','ORDERS.UNLOCKING','USDP','ETH','valid','split','toString','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','150967wDcEIH','***','unlinkSync','1821347ugEZBo','close','total','Executing\x20exchange\x20reload','3\x20-\x20handling\x20FILLED\x20order:\x20','\x20portfolio:</b>\x20\x0a\x0a','limit-low','emojibuy','symbol','type','fetchTickers','recreate','changes','defaults','exchange','excluded','configuration','\x20API\x20key\x20is\x20invalid','success','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','coin-loading-progress','lowdb/adapters/FileSync','coin','coins','BTC','getDate','fetchClosedOrders','orderstatus','Order:\x20','\x20|\x20Custom\x20ID:\x20','\x20|\x20exchange:\x20','sortBy','API-key\x20format\x20invalid','apiKey','breakeven','exchanges','has','full','Transaction\x20detection\x20unblocked','portfolio','util','logs','shift','liquidity','1\x20-\x20Unlock\x20orders','datetime','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','percentage','No\x20more\x20open\x20orders\x20-\x20','status','apiSecret','indexOf','target','/USD','message','toggleBotMode','watchTrades()','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','limit','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','\x20exchange\x20error','botname','Limit\x20(high-margin)','padStart','\x20order:\x20','TUSD','sells'];_0x2243=function(){return _0x5cc2f6;};return _0x2243();}function emitHistory(_0x30f884={}){const _0x5e61e5=_0x4cc25a;Object[_0x5e61e5(0x102)](_0x30f884)[_0x5e61e5(0x147)]==0x0&&(_0x30f884={'type':[_0x5e61e5(0x1cb),'event'],'event':'','page':0x1});if(_0x30f884[_0x5e61e5(0x191)][_0x5e61e5(0x1e9)](_0x5e61e5(0x25a)))_0x30f884[_0x5e61e5(0x191)][_0x5e61e5(0x250)](_0x30f884[_0x5e61e5(0x191)][_0x5e61e5(0x1bb)]('event'),0x1,_0x5e61e5(0x103),_0x5e61e5(0xff),'success');if(dbLogs[_0x5e61e5(0x1ac)]('logs')[_0x5e61e5(0xe2)]()){let _0x5bb1c6=dbLogs[_0x5e61e5(0x225)](_0x5e61e5(0x1b1))['filter'](_0x1b3cb6=>{const _0x3f304c=_0x5e61e5;if(_0x30f884[_0x3f304c(0x191)][_0x3f304c(0x147)]==0x0)return![];else return _0x30f884[_0x3f304c(0x191)]['includes'](_0x1b3cb6[_0x3f304c(0x191)]);})['filter'](_0x35f65b=>{const _0x1fba8d=_0x5e61e5;if(_0x30f884[_0x1fba8d(0x25a)]=='')return!![];else return _0x35f65b['event'][_0x1fba8d(0x21e)]()[_0x1fba8d(0x1e9)](_0x30f884[_0x1fba8d(0x25a)][_0x1fba8d(0x21e)]());})['sortBy']('time'),_0x1765eb=_0x5bb1c6[_0x5e61e5(0xe2)]()[_0x5e61e5(0x147)];_0x5bb1c6=_0x5bb1c6[_0x5e61e5(0x15d)]()['slice']((_0x30f884[_0x5e61e5(0x1e6)]-0x1)*logPageSize,_0x30f884[_0x5e61e5(0x1e6)]*logPageSize-0x1)[_0x5e61e5(0x15d)]()['value'](),proxyEmit(_0x5e61e5(0x141),{'logs':_0x5bb1c6,'total':_0x1765eb});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0xb86074){const _0x236eb7=_0x4cc25a;if(dbLogs[_0x236eb7(0x1ac)](_0x236eb7(0x1b1))[_0x236eb7(0xe2)]()){const _0x4b555b=dbLogs[_0x236eb7(0x225)]('logs')['sortBy'](_0x236eb7(0x127))[_0x236eb7(0x220)](_0x43b812=>{const _0x4343f0=_0x236eb7;return _0x43b812['type']==_0x4343f0(0x1cb);})[_0x236eb7(0xe2)]();dbLogs[_0x236eb7(0x225)](_0x236eb7(0x1b1))[_0x236eb7(0x253)]()['write'](),dbLogs['get'](_0x236eb7(0x1b1))[_0x236eb7(0x14f)](_0x4b555b)['write'](),emitHistory(_0xb86074);}}async function pauseBot(){const _0x288dae=_0x4cc25a,_0x11b550=new Date()[_0x288dae(0x175)]();if(!lastErrorShown||_0x11b550-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x11b550;!lastBotPause?(lastBotPause=_0x11b550,consecutivePauses=0x1):(_0x11b550-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0x288dae(0xd8)},_0x4f1a53=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x288dae(0x175)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(pauseBotInterval),botPaused=![],reset(!![]);}}}async function killBot(){const _0x3366f9=_0x4cc25a;botPaused=!![],await sleep(0x3e8),process[_0x3366f9(0x214)]({'stop':'kill'},_0x3dc203=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1687da,_0x5d7a89){const _0x42d4b5=_0x4cc25a;if(botPaused)return;const _0x32dec0=config['exchange']||'Exchange';if(_0x5d7a89)logger['debug']('Exception\x20thrown\x20in\x20'+_0x5d7a89);if(_0x1687da['toString']()[_0x42d4b5(0x1e9)](_0x42d4b5(0x1a8)))logHistory('error',_0x32dec0+_0x42d4b5(0x135));else{if(_0x1687da['toString']()['includes'](_0x42d4b5(0xfd)))logHistory(_0x42d4b5(0x103),_0x32dec0+_0x42d4b5(0x184));else _0x1687da[_0x42d4b5(0x182)]()[_0x42d4b5(0x1e9)](_0x42d4b5(0x257))?(logHistory('error',_0x32dec0+_0x42d4b5(0x263)),logHistory(_0x42d4b5(0x103),_0x42d4b5(0x13a))):await handleError(_0x1687da,null);}}async function handleError(_0x40e232,_0x1533ba,_0x349e4c=''){const _0x52e90a=_0x4cc25a;if(botPaused)return;const _0xcb5fbe=config[_0x52e90a(0x196)]||'Exchange';if(_0x1533ba)logger[_0x52e90a(0x208)]('Exception\x20thrown\x20in\x20'+_0x1533ba);if(_0x40e232[_0x52e90a(0x182)]()[_0x52e90a(0x1e9)]('DDoSProtection')||_0x40e232[_0x52e90a(0x182)]()[_0x52e90a(0x1e9)](_0x52e90a(0x125)))logHistory(_0x52e90a(0x103),_0xcb5fbe+_0x52e90a(0x13c)+pauseBotMsg),await pauseBot();else{if(_0x40e232['toString']()[_0x52e90a(0x1e9)](_0x52e90a(0x1f0))||_0x40e232[_0x52e90a(0x182)]()[_0x52e90a(0x1e9)]('OnMaintenance'))logHistory('error',_0xcb5fbe+'\x20not\x20available'+pauseBotMsg),await pauseBot();else{if(_0x40e232[_0x52e90a(0x182)]()[_0x52e90a(0x1e9)](_0x52e90a(0x12a)))logHistory(_0x52e90a(0x103),_0xcb5fbe+_0x52e90a(0x118)+pauseBotMsg),await pauseBot();else{if(_0x40e232[_0x52e90a(0x182)]()['includes']('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory(_0x52e90a(0x103),_0xcb5fbe+_0x52e90a(0x14a)+pauseBotMsg),await pauseBot();else{if(_0x40e232[_0x52e90a(0x182)]()['includes'](_0x52e90a(0x226)))logHistory(_0x52e90a(0x103),'Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x52e90a(0x103),_0x52e90a(0xee)),await killBot();else{if(_0x40e232[_0x52e90a(0x182)]()[_0x52e90a(0x1e9)](_0x52e90a(0x22b)))logHistory(_0x52e90a(0x103),_0x52e90a(0x12b)),logHistory(_0x52e90a(0x103),_0x52e90a(0xee)),await killBot();else{if(_0x40e232 instanceof ccxt['NetworkError'])logHistory(_0x52e90a(0x103),_0xcb5fbe+_0x52e90a(0x26a)+pauseBotMsg),logger[_0x52e90a(0x208)](_0x52e90a(0x200),_0x40e232),await pauseBot();else{if(_0x40e232[_0x52e90a(0x182)]()[_0x52e90a(0x1e9)]('API-key\x20format\x20invalid'))logHistory(_0x52e90a(0x103),_0xcb5fbe+_0x52e90a(0x199)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x40e232[_0x52e90a(0x182)]()[_0x52e90a(0x1e9)](_0x52e90a(0xfd)))logHistory(_0x52e90a(0x103),_0xcb5fbe+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x52e90a(0x103),_0x52e90a(0xee)),await killBot();else{if(_0x40e232['toString']()[_0x52e90a(0x1e9)]('AuthenticationError'))logHistory('error',_0xcb5fbe+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error',_0x52e90a(0xee)),await killBot();else{if(_0x40e232['toString']()['includes'](_0x52e90a(0x164)))logHistory('error','Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x349e4c);else _0x40e232 instanceof ccxt['ExchangeError']?(logHistory('error',_0xcb5fbe+_0x52e90a(0x1c4)),logger[_0x52e90a(0x208)](_0x52e90a(0x200),_0x40e232)):(logHistory(_0x52e90a(0x103),'Unknown\x20error\x20occured'+pauseBotMsg),logger[_0x52e90a(0x208)](_0x52e90a(0x200),_0x40e232),await pauseBot());}}}}}}}}}}}function _0x4d10(_0x1fc881,_0x59510b){const _0x2f9f1a=_0x2243();return _0x4d10=function(_0x5f20d2,_0x21d85){_0x5f20d2=_0x5f20d2-0xd7;let _0x2243d7=_0x2f9f1a[_0x5f20d2];return _0x2243d7;},_0x4d10(_0x1fc881,_0x59510b);}function formatResult(_0x55a162,_0x47c039){const _0x5d50f7=_0x4cc25a;return parseFloat(_0x55a162[_0x5d50f7(0xda)](_0x47c039));}function formatResultTruncate(_0x4c8919,_0x573b9d){const _0x51ada9=_0x4cc25a;let _0x2497a5=formatResultString(_0x4c8919,0xa),_0x5c8e3c=_0x2497a5[_0x51ada9(0x1bb)]('.');return _0x5c8e3c!=-0x1&&(_0x2497a5=_0x2497a5[_0x51ada9(0x15c)](0x0,_0x5c8e3c+_0x573b9d+0x1)),Number(_0x2497a5);}function formatResultString(_0x289e95,_0x17fbad){const _0x47dc85=_0x4cc25a;let _0x226f11;if(!(''+_0x289e95)[_0x47dc85(0x1e9)]('e'))_0x226f11=+(Math[_0x47dc85(0x1fa)](_0x289e95+'e+'+_0x17fbad)+'e-'+_0x17fbad);else{let _0x53f5cf=(''+_0x289e95)[_0x47dc85(0x181)]('e'),_0x585137='';+_0x53f5cf[0x1]+_0x17fbad>0x0&&(_0x585137='+'),_0x226f11=+(Math[_0x47dc85(0x1fa)](+_0x53f5cf[0x0]+'e'+_0x585137+(+_0x53f5cf[0x1]+_0x17fbad))+'e-'+_0x17fbad);}return Number(_0x226f11)[_0x47dc85(0xda)](_0x17fbad);}function getServerTime(){const _0x5a1310=_0x4cc25a,_0x13492f=new Date();return _0x13492f['getFullYear']()+'/'+(_0x13492f[_0x5a1310(0x25d)]()+0x1)[_0x5a1310(0x182)]()['padStart'](0x2,'0')+'/'+_0x13492f[_0x5a1310(0x1a1)]()[_0x5a1310(0x182)]()[_0x5a1310(0x1c7)](0x2,'0')+'\x20'+_0x13492f[_0x5a1310(0x26b)]()['toString']()[_0x5a1310(0x1c7)](0x2,'0')+':'+_0x13492f[_0x5a1310(0xf2)]()[_0x5a1310(0x182)]()['padStart'](0x2,'0')+':'+_0x13492f['getSeconds']()[_0x5a1310(0x182)]()[_0x5a1310(0x1c7)](0x2,'0');}function getTimeStamp(){const _0x37d350=_0x4cc25a,_0x31531a=shiftedTime();return _0x31531a[_0x37d350(0xed)]()+'/'+(_0x31531a[_0x37d350(0x25d)]()+0x1)[_0x37d350(0x182)]()[_0x37d350(0x1c7)](0x2,'0')+'/'+_0x31531a[_0x37d350(0x1a1)]()[_0x37d350(0x182)]()['padStart'](0x2,'0')+'\x20'+_0x31531a['getHours']()['toString']()['padStart'](0x2,'0')+':'+_0x31531a[_0x37d350(0xf2)]()[_0x37d350(0x182)]()['padStart'](0x2,'0')+':'+_0x31531a['getSeconds']()[_0x37d350(0x182)]()[_0x37d350(0x1c7)](0x2,'0');}function getDate(){const _0x534935=_0x4cc25a,_0x43e606=shiftedTime();return _0x43e606[_0x534935(0xed)]()+'/'+(_0x43e606[_0x534935(0x25d)]()+0x1)[_0x534935(0x182)]()['padStart'](0x2,'0')+'/'+_0x43e606[_0x534935(0x1a1)]()[_0x534935(0x182)]()[_0x534935(0x1c7)](0x2,'0');}function getHour(){const _0x392f51=_0x4cc25a,_0x14a192=shiftedTime();return _0x14a192[_0x392f51(0x26b)]()[_0x392f51(0x182)]()[_0x392f51(0x1c7)](0x2,'0');}function sleep(_0x3440f8){return new Promise(_0x20c528=>setTimeout(_0x20c528,_0x3440f8));}function shiftedTime(){const _0x17f80d=_0x4cc25a,_0x475aed=new Date();let _0xc48428=_0x475aed;if(config&&config['timeshift']!==0x0)_0xc48428=fns['add'](_0x475aed,{'hours':config[_0x17f80d(0xf0)]});return _0xc48428;}function timer(_0x4a431f){const _0x48bfdd=_0x4cc25a,_0xd2b084=new Date();!lasttime?console[_0x48bfdd(0x1cf)](getTimeStamp()+':\x20timer\x20>',_0x4a431f,_0xd2b084):console[_0x48bfdd(0x1cf)](getTimeStamp()+':\x20timer\x20>',_0x4a431f,(_0xd2b084-lasttime)/0x3e8),lasttime=_0xd2b084;}