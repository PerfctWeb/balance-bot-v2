const _0x326e1c=_0x1847;(function(_0x491597,_0x156766){const _0xe225ec=_0x1847,_0x3484c1=_0x491597();while(!![]){try{const _0x2f2c8f=-parseInt(_0xe225ec(0x116))/0x1*(parseInt(_0xe225ec(0x170))/0x2)+-parseInt(_0xe225ec(0xc9))/0x3+-parseInt(_0xe225ec(0x15d))/0x4*(-parseInt(_0xe225ec(0x141))/0x5)+-parseInt(_0xe225ec(0x1d2))/0x6+parseInt(_0xe225ec(0xd2))/0x7+parseInt(_0xe225ec(0x133))/0x8*(parseInt(_0xe225ec(0x1bc))/0x9)+-parseInt(_0xe225ec(0x153))/0xa*(-parseInt(_0xe225ec(0x103))/0xb);if(_0x2f2c8f===_0x156766)break;else _0x3484c1['push'](_0x3484c1['shift']());}catch(_0x93c730){_0x3484c1['push'](_0x3484c1['shift']());}}}(_0x5747,0xa396b));const _0x432f36=function(){let _0x5907bf=!![];return function(_0x49300c,_0x4821fb){const _0x5d0610=_0x5907bf?function(){const _0x578aaf=_0x1847;if(_0x4821fb){const _0x4622e7=_0x4821fb[_0x578aaf(0xd0)](_0x49300c,arguments);return _0x4821fb=null,_0x4622e7;}}:function(){};return _0x5907bf=![],_0x5d0610;};}(),_0xabccb8=_0x432f36(this,function(){const _0xa7490f=_0x1847;return _0xabccb8[_0xa7490f(0x13d)]()['search'](_0xa7490f(0x97))[_0xa7490f(0x13d)]()[_0xa7490f(0x218)](_0xabccb8)['search'](_0xa7490f(0x97));});_0xabccb8();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require(_0x326e1c(0x19b)),fs=require('fs'),fns=require(_0x326e1c(0x130)),Crypt=require('hybrid-crypto-js')[_0x326e1c(0x9a)],util=require(_0x326e1c(0x1d5)),argv=require(_0x326e1c(0x100))(process[_0x326e1c(0x1a3)][_0x326e1c(0xe9)](0x2))[_0x326e1c(0x1a3)],path=require(_0x326e1c(0xe4));let exchange;global['ticker']={},global[_0x326e1c(0x175)]={};const usdBasecoins=[_0x326e1c(0x10d),_0x326e1c(0x17c),_0x326e1c(0x108),'USDT','USDC','USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x326e1c(0x104)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x326e1c(0x15f))[_0x326e1c(0x1e4)],botID=process[_0x326e1c(0x1a3)][0x2]||_0x326e1c(0x11a),pattern=/^[0-9]{3}$/;!pattern[_0x326e1c(0x124)](botID)&&(console[_0x326e1c(0x186)](_0x326e1c(0x1d0)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x326e1c(0x1a3)][0x3]||'',configpath=userID?_0x326e1c(0x19e)+userID+'/':_0x326e1c(0x19e),logspath=userID?_0x326e1c(0xd8)+userID+'/':_0x326e1c(0xd8),loggerfile=fs[_0x326e1c(0x1ac)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x326e1c(0x13e)](configpath)&&fs[_0x326e1c(0xeb)](configpath);!fs[_0x326e1c(0x13e)](logspath)&&fs[_0x326e1c(0xeb)](logspath);const configfile=configpath+'bot-'+botID+_0x326e1c(0x10b),logfile=configpath+_0x326e1c(0x134)+botID+'-events.json',performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+_0x326e1c(0x134)+botID+_0x326e1c(0xbd),settingsfile=configpath+_0x326e1c(0xf7),securefile=configpath+_0x326e1c(0xb5),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x326e1c(0x17a)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x326e1c(0x188)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x326e1c(0x188)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x326e1c(0x17a)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x326e1c(0xb0),'rsaStandard':_0x326e1c(0xdd)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x188d02=>{const _0x19ff19=_0x326e1c;console[_0x19ff19(0x186)](_0x188d02);},'simple':_0x43e1be=>{const _0x302162=_0x326e1c;console[_0x302162(0x186)](_0x43e1be),loggerfile[_0x302162(0x17a)](util[_0x302162(0x187)](_0x43e1be)+'\x0a');},'full':async(_0x16b94a,_0x14da45='')=>{const _0x2d9a69=_0x326e1c;let _0x285f7b;if(config[_0x2d9a69(0xd5)])_0x285f7b=getTimeStamp()+':\x20'+config[_0x2d9a69(0xa8)]+_0x2d9a69(0xb9)+_0x16b94a;else _0x285f7b=getTimeStamp()+':\x20Bot\x20'+botID+_0x2d9a69(0xb9)+_0x16b94a;console[_0x2d9a69(0x186)](_0x285f7b),loggerfile['write'](util[_0x2d9a69(0x187)](_0x285f7b)+'\x0a'),_0x14da45&&(console[_0x2d9a69(0x186)](_0x14da45),loggerfile[_0x2d9a69(0x17a)](util[_0x2d9a69(0x187)](_0x14da45)+'\x0a'));},'debug':async(_0xf30f0f,_0x86efad='')=>{const _0x39bb2c=_0x326e1c;let _0x5e7e88;if(config['showname'])_0x5e7e88=getTimeStamp()+':\x20'+config['botname']+_0x39bb2c(0x12a)+_0xf30f0f;else _0x5e7e88=getTimeStamp()+_0x39bb2c(0xc7)+botID+'\x20>\x20[DEBUG]\x20'+_0xf30f0f;if(debugging)console['log'](_0x5e7e88);loggerfile[_0x39bb2c(0x17a)](util[_0x39bb2c(0x187)](_0x5e7e88)+'\x0a');if(_0x86efad){if(debugging)console[_0x39bb2c(0x186)](_0x86efad);loggerfile[_0x39bb2c(0x17a)](util['format'](_0x86efad)+'\x0a');}}};process['on'](_0x326e1c(0xc0),function(_0x33121f){const _0x423516=_0x326e1c;logHistory('error',_0x423516(0xff)),logger['debug'](_0x423516(0x1b3),_0x33121f);});settings[_0x326e1c(0x204)]!=config['timeshift']&&updateTimeshift(settings[_0x326e1c(0x204)]);settings[_0x326e1c(0xf3)]!=config[_0x326e1c(0xf3)]&&updateOnepagemode(settings[_0x326e1c(0xf3)]);process[_0x326e1c(0xb1)]({'started':_0x326e1c(0x1a1)},_0x563ad4=>{}),initializeProcessListeners();function proxyEmit(_0x3451f7,_0x2db983=null){const _0x478862=_0x326e1c;process[_0x478862(0xb1)]({'function':_0x3451f7,'args':_0x2db983},_0x947668=>{});}function initializeProcessListeners(){const _0x4dfef4=_0x326e1c;process['on'](_0x4dfef4(0x1ca),_0x59f374=>{const _0x371424=_0x4dfef4;switch(Object[_0x371424(0x102)](_0x59f374)[0x0]){case _0x371424(0x204):_0x59f374[_0x371424(0x204)]!=undefined&&(settings[_0x371424(0x204)]=_0x59f374['timeshift'],updateTimeshift(settings['timeshift']));break;case _0x371424(0xf3):_0x59f374['onepagemode']!=undefined&&(settings[_0x371424(0xf3)]=_0x59f374[_0x371424(0xf3)],updateOnepagemode(settings[_0x371424(0xf3)]));break;case'bots':_0x59f374[_0x371424(0x1b5)]!=undefined&&(bots=JSON[_0x371424(0x191)](_0x59f374[_0x371424(0x1b5)]),proxyEmit('bots',bots));break;case _0x371424(0x1c3):switch(_0x59f374[_0x371424(0x1c3)]){case _0x371424(0xf8):initclient();break;case _0x371424(0x1b2):toggleBotMode();break;case _0x371424(0xb6):emitHistory(_0x59f374['args']);break;case _0x371424(0x172):deleteHistoryAlerts(_0x59f374['args']);break;case'getPortfolio':getPortfolio(_0x59f374[_0x371424(0xe8)]);break;case _0x371424(0x1f1):storeConfiguration(_0x59f374[_0x371424(0xe8)]);break;case _0x371424(0x1c4):storeHeadless(_0x59f374[_0x371424(0xe8)]);break;case'storeFiat':storeFiat(_0x59f374[_0x371424(0xe8)]);break;case _0x371424(0x126):resetHistory();break;case _0x371424(0x15a):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x59f374[_0x371424(0xe8)]);break;case _0x371424(0x1f7):cancelLoading();break;case _0x371424(0x14c):showConfig();break;case _0x371424(0x138):sendMetricsTelegram();break;case _0x371424(0xbc):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x161ca3=null,_0x594d7b=![]){const _0x5a2bee=_0x326e1c;logger[_0x5a2bee(0x1b9)](_0x5a2bee(0x14f)+(_0x161ca3&&_0x161ca3[_0x5a2bee(0x18e)]>0x0?_0x5a2bee(0x1d3)+_0x161ca3[_0x5a2bee(0xb7)](','):'no\x20additional\x20symbols')+'\x20|\x20'+(_0x594d7b?'exchange\x20reloaded':'exchange\x20not\x20reloaded')+_0x5a2bee(0x161)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x594d7b)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5a2bee(0xa6)]!=''&&config[_0x5a2bee(0xa6)]!=_0x5a2bee(0xf5)){if(_0x594d7b){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x4e67ce){handleErrorNoStop(_0x4e67ce,_0x5a2bee(0x217));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x161ca3);const _0x3ebd22=await getCoins();[currentCoins,currentCoinsAll]=_0x3ebd22,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x5a2bee(0x18e)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x3e8c53=_0x326e1c;exchangeStopped=!![],await exchange[_0x3e8c53(0x19a)]();}async function reloadExchange(){const _0x2fd436=_0x326e1c;logger[_0x2fd436(0x1b9)](_0x2fd436(0x113));while(lockOrders!=ORDERS[_0x2fd436(0x104)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x2fd436(0x1b9)](_0x2fd436(0xb4)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x5e0641=config[_0x326e1c(0xe0)],_0x38aeeb=config[_0x326e1c(0xa6)],_0x76c647=config['apiSecret'],_0x208658=config[_0x326e1c(0x1a7)]){const _0x4df9ca=_0x326e1c;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x5e0641)&&(logHistory(_0x4df9ca(0xfa),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x5e0641+_0x4df9ca(0x150)),killBot());const _0x15a013=ccxt[_0x4df9ca(0xec)][_0x5e0641[_0x4df9ca(0xf1)]()];exchange=new _0x15a013({'apiKey':_0x38aeeb,'secret':_0x76c647,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x208658)exchange[_0x4df9ca(0xd9)]=_0x208658;}function setStableCoins(){const _0x5d0c4b=_0x326e1c;let _0x2588d4=config[_0x5d0c4b(0x212)]==_0x5d0c4b(0x112)?_0x5d0c4b(0x112):_0x5d0c4b(0x109),_0x54d1ea=!allSymbols[_0x5d0c4b(0x1ed)](_0x2588d4+'/USD')?_0x5d0c4b(0x154):'USD',_0x683f01=!allSymbols[_0x5d0c4b(0x1ed)](_0x2588d4+_0x5d0c4b(0x1d8))?_0x54d1ea:_0x5d0c4b(0x168);stablecoins={'eur':{'coin':''+_0x2588d4+_0x683f01,'symbol':_0x2588d4+'/'+_0x683f01},'usd':{'coin':''+_0x2588d4+_0x54d1ea,'symbol':_0x2588d4+'/'+_0x54d1ea}};}async function initwsCcxt(_0x500f6b){const _0x545bc2=_0x326e1c;_0x500f6b==null&&(_0x500f6b=[],config[_0x545bc2(0xc3)][_0x545bc2(0x173)](_0x382eb2=>{const _0x2bfc6f=_0x545bc2;if(!_0x382eb2[_0x2bfc6f(0xe6)]&&_0x382eb2['coin']!=config[_0x2bfc6f(0x212)])_0x500f6b['push'](_0x382eb2['symbol']);}));if(!_0x500f6b['includes'](stablecoins[_0x545bc2(0xca)][_0x545bc2(0x98)]))_0x500f6b['push'](stablecoins[_0x545bc2(0xca)][_0x545bc2(0x98)]);if(!_0x500f6b[_0x545bc2(0x1ed)](stablecoins[_0x545bc2(0x16f)][_0x545bc2(0x98)]))_0x500f6b[_0x545bc2(0x16d)](stablecoins['usd'][_0x545bc2(0x98)]);if(config[_0x545bc2(0xe0)][_0x545bc2(0x176)](_0x545bc2(0x1a5))){if(!_0x500f6b[_0x545bc2(0x1ed)](_0x545bc2(0x20c)+config['basecoin']))_0x500f6b[_0x545bc2(0x16d)]('BNB/'+config[_0x545bc2(0x212)]);}loadCoins(_0x500f6b);const _0x262da6=async _0x5e2a8e=>{const _0x1f4fa7=_0x545bc2,_0x579dc9=await exchange[_0x1f4fa7(0x1c1)](_0x5e2a8e);global['ticker'][noslash(_0x579dc9['symbol'])]=_0x579dc9[_0x1f4fa7(0x20a)];while(!![]){if(!botPaused)try{const _0xbcab61=await exchange[_0x1f4fa7(0x1f8)](_0x5e2a8e);global[_0x1f4fa7(0x17e)][noslash(_0xbcab61[0x0][_0x1f4fa7(0x98)])]=_0xbcab61[0x0][_0x1f4fa7(0x110)],await sleep(0x3e8);}catch(_0x2e1c51){if(!exchangeStopped)await handleError(_0x2e1c51,_0x1f4fa7(0x1f8),_0x5e2a8e);}else await sleep(0x64);}},_0x38f2ba=async _0x2252c0=>{const _0x167ddc=_0x545bc2;while(!![]){if(!botPaused)try{const _0x164793=await exchange[_0x167ddc(0x1c1)](_0x2252c0);global[_0x167ddc(0x175)][_0x164793['symbol']]=_0x164793['percentage'],await sleep(0x3c*0x3e8);}catch(_0x4e36f2){if(!exchangeStopped)await handleError(_0x4e36f2,'fetchTickers',_0x2252c0);}else await sleep(0x64);}},_0x37a02a=async()=>{const _0x228c6e=_0x545bc2;while(!![]){if(!botPaused)try{const _0x419d40=await exchange[_0x228c6e(0x163)]();_0x419d40['forEach'](_0xa891fb=>{updateNumberCoinsCcxt(_0xa891fb);});}catch(_0x54bda1){if(!exchangeStopped)await handleError(_0x54bda1,_0x228c6e(0x163));}else await sleep(0x64);}};_0x500f6b[_0x545bc2(0x173)](_0x497779=>{_0x262da6(_0x497779),_0x38f2ba(_0x497779);}),!wsEventsSet&&(wsEventsSet=!![],_0x37a02a(),watchTransactions());}async function watchTransactions(){const _0x130981=_0x326e1c;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x482007=await getCoins(),[_0x3255d0,_0x40c36f]=_0x482007;let _0x11276f=[];currentCoins[_0x130981(0x173)](_0x33f2de=>{const _0x3ef751=_0x130981,_0x26e7e2=_0x3255d0[_0x3ef751(0xee)](_0x526089=>_0x526089[_0x3ef751(0x190)]==_0x33f2de[_0x3ef751(0x190)]);if(_0x26e7e2){if(_0x33f2de[_0x3ef751(0x9f)]!=_0x26e7e2[_0x3ef751(0x9f)]){let _0x24bb47;if(_0x33f2de[_0x3ef751(0x190)]!=config[_0x3ef751(0x212)]){const _0x2c1031=global[_0x3ef751(0x17e)][noslash(_0x33f2de[_0x3ef751(0x98)])];_0x24bb47=_0x33f2de[_0x3ef751(0x1e5)]?0x1/_0x2c1031:_0x2c1031;}else _0x24bb47=0x1;_0x11276f['push']({'coin':_0x33f2de[_0x3ef751(0x190)],'symbol':_0x33f2de[_0x3ef751(0x98)],'price':_0x24bb47,'number':Number(formatResult(_0x26e7e2[_0x3ef751(0x9f)]-_0x33f2de[_0x3ef751(0x9f)],0x8)),'basecoinvalue':_0x24bb47*(_0x26e7e2['number']-_0x33f2de[_0x3ef751(0x9f)])});}}});if(_0x11276f[_0x130981(0x18e)]==0x1&&!blockTransactionDetection){if(config['autoliquidity']){logger[_0x130981(0x1b9)](_0x130981(0xc5)+_0x11276f[0x0]['basecoinvalue']+_0x130981(0x19c)+lastFees[_0x130981(0x1d7)]);if(lastFees[_0x130981(0x1d7)]==0x0||Math['abs'](_0x11276f[0x0]['basecoinvalue'])>lastFees['highest']){delete _0x11276f[0x0][_0x130981(0x98)],delete _0x11276f[0x0]['basecoinvalue'];let _0x4ec419=[],_0x5b1470=[...config['liquidity']]||[],_0x734684=config['liquidity'];_0x5b1470[_0x130981(0x202)]((_0x1cdf4d,_0xdd4034)=>_0x1cdf4d[_0x130981(0x147)]>_0xdd4034['date']?-0x1:_0xdd4034[_0x130981(0x147)]>_0x1cdf4d[_0x130981(0x147)]?0x1:0x0);const _0x4ac7b2=getDate();if(_0x5b1470[0x0]){const _0x2d127e=fns[_0x130981(0x191)](_0x5b1470[0x0][_0x130981(0x147)],_0x130981(0x156),new Date()),_0x34dce0=fns[_0x130981(0x191)](_0x4ac7b2,_0x130981(0x156),new Date());if(fns[_0x130981(0xe5)](_0x2d127e,_0x34dce0)){_0x4ec419=_0x5b1470[0x0][_0x130981(0xe2)];const _0x40575d=_0x4ec419[_0x130981(0xee)](_0x1c954f=>_0x1c954f[_0x130981(0x190)]==_0x11276f[0x0][_0x130981(0x190)]);_0x40575d?(_0x40575d[_0x130981(0x9f)]+=_0x11276f[0x0][_0x130981(0x9f)],_0x40575d[_0x130981(0x9f)]==0x0&&(_0x4ec419=_0x4ec419['filter'](_0xf9e791=>{const _0x22f59c=_0x130981;return _0xf9e791[_0x22f59c(0x190)]!=_0x11276f[0x0][_0x22f59c(0x190)];}))):_0x4ec419[_0x130981(0x16d)](_0x11276f[0x0]);const _0x422649=_0x734684[_0x130981(0xee)](_0x38c2c6=>_0x38c2c6[_0x130981(0x147)]==_0x4ac7b2);_0x422649['changes']=_0x4ec419;}else _0x734684[_0x130981(0x16d)]({'date':_0x4ac7b2,'changes':[_0x11276f[0x0]]});}const _0x21e4d0=_0x734684[_0x130981(0xee)](_0x5ce1cc=>_0x5ce1cc[_0x130981(0x147)]==_0x4ac7b2);if(_0x21e4d0){let _0x247486=!![];_0x21e4d0['changes'][_0x130981(0x173)](_0x4726b3=>{const _0xb13975=_0x130981;if(_0x4726b3[_0xb13975(0x9f)]!=0x0)_0x247486=![];}),_0x247486&&(_0x734684=_0x734684[_0x130981(0x129)](_0x371304=>{const _0x166182=_0x130981;return _0x371304[_0x166182(0x147)]!=_0x4ac7b2;}));}let _0xca2910=dbConfig[_0x130981(0x1e8)](_0x130981(0x1f6))[_0x130981(0xee)]({'botID':botID})[_0x130981(0x106)]();_0xca2910&&(dbConfig['get'](_0x130981(0x1f6))[_0x130981(0xee)]({'botID':botID})[_0x130981(0x180)]({'liquidity':_0x734684})[_0x130981(0x17a)](),config[_0x130981(0x16e)]=_0x734684),logHistory('success','Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x11276f[0x0][_0x130981(0x9f)])+'\x20'+_0x11276f[0x0][_0x130981(0x190)]+'\x20'+(_0x11276f[0x0][_0x130981(0x9f)]>0x0?_0x130981(0xa2):'removed')+_0x130981(0x189)),proxyEmit('configuration',emittedConfiguration());}else logger[_0x130981(0x1b9)](_0x130981(0x107)+Math[_0x130981(0x121)](_0x11276f[0x0][_0x130981(0x9f)])+'\x20'+_0x11276f[0x0][_0x130981(0x190)]+'\x20'+(_0x11276f[0x0][_0x130981(0x9f)]>0x0?_0x130981(0xa2):_0x130981(0xfe)));transactionDetected=!![],currentCoins=_0x3255d0,currentCoinsAll=_0x40c36f;}else logger['debug'](_0x130981(0x12e)+Math[_0x130981(0x121)](_0x11276f[0x0][_0x130981(0x9f)])+'\x20'+_0x11276f[0x0]['coin']+'\x20'+(_0x11276f[0x0]['number']>0x0?_0x130981(0xa2):_0x130981(0xfe))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled'),currentCoins=_0x3255d0,currentCoinsAll=_0x40c36f;}await sleep(watchTransactionsInterval);}catch(_0x4b34ce){if(!exchangeStopped)await handleError(_0x4b34ce,'watchTransactions');}else await sleep(0x64);}}async function loadSymbols(_0x3543a8=config[_0x326e1c(0xe0)],_0x8a59fe=![]){const _0x59eff9=_0x326e1c;if(allSymbols&&!_0x8a59fe)return;try{markets=await exchange[_0x59eff9(0x12c)](),allSymbols=[],Object['entries'](markets)[_0x59eff9(0x173)](_0x2cf2df=>{const _0x4928ba=_0x59eff9;_0x2cf2df[0x1][_0x4928ba(0x142)]&&_0x2cf2df[0x1][_0x4928ba(0xaa)]&&allSymbols[_0x4928ba(0x16d)](_0x2cf2df[0x0]);});}catch(_0x5ab954){throw _0x5ab954;}}async function initclient(){const _0x3eddc3=_0x326e1c;emitLoadingProgress(),proxyEmit(_0x3eddc3(0xb8),emittedConfiguration()),proxyEmit(_0x3eddc3(0xf9),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2a835c=getNormalizedPerformance();emitPerformance(_0x2a835c),getStartingBalances(_0x2a835c);}async function toggleBotMode(){const _0x2049fd=_0x326e1c;let _0x29066d=dbConfig[_0x2049fd(0x1e8)]('bot')['find']({'botID':botID})[_0x2049fd(0x106)]();if(_0x29066d){const _0x4c00e0=!_0x29066d[_0x2049fd(0x10c)];dbConfig[_0x2049fd(0x1e8)](_0x2049fd(0x1f6))[_0x2049fd(0xee)]({'botID':botID})['assign']({'headless':_0x4c00e0})[_0x2049fd(0x17a)](),config[_0x2049fd(0x10c)]=_0x4c00e0,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x231061=_0x326e1c;process[_0x231061(0xb1)]({'updatebotmanager':!![]},_0x4983d5=>{});}async function loadCoins(_0x323187){const _0x2711d2=_0x326e1c;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x52d65e,_0xf07b43=0x0,_0x2df3d4=0x0;_0x323187[_0x2711d2(0x173)](_0x149567=>{const _0x45cd98=_0x2711d2;loading[_0x45cd98(0x19f)][_0x45cd98(0x16d)](_0x149567);}),loadingCanceled=![];let _0x3d3263=![];while(_0x52d65e!=_0x323187['length']){_0x52d65e=0x0,_0x323187['forEach'](_0x8513f3=>{const _0x16a79f=_0x2711d2;if(global[_0x16a79f(0x17e)][noslash(_0x8513f3)]){loading[_0x16a79f(0x19f)]=loading[_0x16a79f(0x19f)][_0x16a79f(0x129)](_0x480135=>_0x480135!=_0x8513f3);if(!watchedSymbols[_0x16a79f(0x1ed)](_0x8513f3))watchedSymbols[_0x16a79f(0x16d)](_0x8513f3);_0x52d65e++;}}),loading['progress']=Math[_0x2711d2(0x137)](_0x52d65e/_0x323187[_0x2711d2(0x18e)]*0x64);loading['progress']!=0x64&&(_0x2df3d4>0x1e*0x5&&(loading[_0x2711d2(0x12b)]=!![],emitLoadingProgress()),_0x2df3d4>0x78*0x5&&!_0x3d3263&&(loading[_0x2711d2(0x1fc)]=!![],emitLoadingProgress(),_0x3d3263=!![],logHistory('error',_0x2711d2(0xde)+loading[_0x2711d2(0x19f)][_0x2711d2(0xb7)](',\x20')+_0x2711d2(0x144)),logHistory('error',_0x2711d2(0x1a8)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{const _0x4ca9ae=_0x2711d2;process[_0x4ca9ae(0xb1)]({'stop':_0x4ca9ae(0x185)},_0x1d6589=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x2711d2(0x1fc)]=!![],emitLoadingProgress();break;}else _0x52d65e!=_0xf07b43&&(_0xf07b43=_0x52d65e,emitLoadingProgress()),_0x2df3d4++,await sleep(0xc8);}_0x52d65e==_0x323187['length']&&(coinsLoaded=!![],process[_0x2711d2(0xb1)]({'status':_0x2711d2(0x1db),'live':'running'},_0x40f313=>{}),_0x3d3263&&logHistory(_0x2711d2(0x9b),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){proxyEmit('configuration',{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x304a6d=_0x326e1c;proxyEmit(_0x304a6d(0xd1),loading);}async function getFiat(){const _0x18a5b2=_0x326e1c;let _0x36f665=global[_0x18a5b2(0x17e)][stablecoins[_0x18a5b2(0xca)][_0x18a5b2(0x190)]],_0x27defc=global['ticker'][stablecoins[_0x18a5b2(0x16f)][_0x18a5b2(0x190)]];return{'eur':Number(_0x36f665),'usd':Number(_0x27defc)};}function capitalize(_0x1e288f){const _0x4313f9=_0x326e1c;return _0x1e288f['substring'](0x0,0x1)['toUpperCase']()+_0x1e288f[_0x4313f9(0x200)](0x1);}function supportedExchanges(){const _0x5b044e=_0x326e1c,_0x4003bf=['ws',_0x5b044e(0xdc),_0x5b044e(0x1c1),_0x5b044e(0x1f8),_0x5b044e(0x163),_0x5b044e(0x1be),_0x5b044e(0x11b),'fetchOpenOrders',_0x5b044e(0x199),_0x5b044e(0x20b)];let _0x5709a6=[],_0x2e21cc=[],_0x1dc3b6=ccxt['pro']['exchanges'];_0x1dc3b6[_0x5b044e(0x173)](_0x52b46b=>{const _0x59238a=_0x5b044e;try{const _0x472980=new ccxt[(_0x59238a(0xec))][_0x52b46b]();_0x2e21cc['push'](_0x472980);}catch(_0x3e3efd){}}),_0x2e21cc[_0x5b044e(0x173)](_0x784a7=>{const _0x74288b=_0x5b044e;let _0x3193ae=0x0;_0x4003bf[_0x74288b(0x173)](_0x2c4b67=>{const _0x5a303d=_0x74288b;_0x2c4b67 in _0x784a7[_0x5a303d(0x1ae)]&&_0x784a7[_0x5a303d(0x1ae)][_0x2c4b67]&&_0x3193ae++;}),_0x3193ae==_0x4003bf[_0x74288b(0x18e)]&&_0x5709a6[_0x74288b(0x16d)](capitalize(_0x784a7['id']));});let _0x5d6faf=[];return _0x1dc3b6['forEach'](_0xae8c74=>{const _0x2f9ffb=_0x5b044e;_0xae8c74=capitalize(_0xae8c74);if(!_0x5709a6[_0x2f9ffb(0x1ed)](_0xae8c74))_0x5d6faf[_0x2f9ffb(0x16d)](_0xae8c74);}),_0x5709a6;}function setStartDatePerformance(){const _0x15b4ec=_0x326e1c;if(config&&config[_0x15b4ec(0x16e)][0x0][_0x15b4ec(0xe2)][_0x15b4ec(0x18e)]!=0x0){const _0x50f565=config[_0x15b4ec(0x16e)][0x0][_0x15b4ec(0xe2)];dbPerformance['get'](_0x15b4ec(0x9c))['find']({'date':config[_0x15b4ec(0x11e)]})['assign']({'coins':_0x50f565})[_0x15b4ec(0x17a)]();}}async function recreateCoinResults(){const _0x504da=_0x326e1c;let _0x6b1beb,_0x3c8d1e=[];try{const _0x45ecf7=fns['format'](fns['parseISO'](config[_0x504da(0x11e)][_0x504da(0xcc)](/\//g,'-')),_0x504da(0x1c5));for(const _0x53064d of currentCoins){if(_0x53064d[_0x504da(0x190)]!=config[_0x504da(0x212)]){let _0x1c68ab=0x0,_0x169405,_0x3650db;_0x6b1beb=await getAllEventOrders(_0x53064d[_0x504da(0x98)]);if(_0x6b1beb[_0x504da(0x18e)]>0x0)_0x6b1beb['forEach'](_0x4bd74d=>{const _0x219d0c=_0x504da,_0x2e885f=_0x53064d[_0x219d0c(0x98)]['includes'](config[_0x219d0c(0x212)]+'/');_0x3c8d1e['push']({'datetime':_0x4bd74d['datetime'],'coin':_0x53064d['coin'],'symbol':_0x53064d[_0x219d0c(0x98)],'side':_0x4bd74d[_0x219d0c(0x145)],'reverse':_0x2e885f,'amount':formatResult(_0x4bd74d['filled'],0x8),'filled':formatResult(_0x4bd74d['filled'],0x8),'price':formatResult(_0x4bd74d[_0x219d0c(0x110)],0x8)}),_0x1c68ab=_0x4bd74d[_0x219d0c(0x145)]==_0x219d0c(0x1c0)?_0x1c68ab+_0x4bd74d[_0x219d0c(0x1b0)]:_0x1c68ab-_0x4bd74d[_0x219d0c(0x1b0)];if(!_0x3650db)_0x3650db=_0x4bd74d[_0x219d0c(0x110)];});_0x169405=_0x53064d['number']-_0x1c68ab;let _0x1598fd;config[_0x504da(0x16e)][_0x504da(0x173)](_0x27ebff=>{const _0x50661c=_0x504da;!_0x1598fd&&(_0x1598fd=_0x27ebff[_0x50661c(0xe2)][_0x50661c(0xee)](_0x5862e0=>_0x5862e0[_0x50661c(0x190)]==_0x53064d[_0x50661c(0x190)]),_0x1598fd&&(_0x169405=_0x1598fd['number'],_0x3650db=_0x1598fd[_0x50661c(0x110)]));});let _0x688a28=dbCoinResults[_0x504da(0x1e8)](_0x504da(0x164))[_0x504da(0xee)]({'coin':_0x53064d[_0x504da(0x190)]})[_0x504da(0x106)]();_0x688a28={'coin':_0x53064d[_0x504da(0x190)],'number':_0x169405,'breakeven':_0x3650db,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x504da(0x1e8)](_0x504da(0x164))[_0x504da(0xee)]({'coin':_0x53064d['coin']})['assign'](_0x688a28)[_0x504da(0x17a)]();}}_0x3c8d1e[_0x504da(0x202)]((_0x100ec0,_0x105ffe)=>_0x100ec0[_0x504da(0x214)]>_0x105ffe[_0x504da(0x214)]?0x1:_0x105ffe['datetime']>_0x100ec0['datetime']?-0x1:0x0);let _0x1088ef=0x0;for(let _0x1c775f of _0x3c8d1e){await updateCoinResults(_0x1c775f,!![]);}}catch(_0x5cccf2){await handleError(_0x5cccf2,_0x504da(0x1d6));}}async function getAllEventOrders(_0x5940b7){const _0x1d8fe5=_0x326e1c;let _0x1f327e=[],_0x44375f=dbLogs['get'](_0x1d8fe5(0x1ee))['filter'](_0x4f579e=>{const _0x2a13b9=_0x1d8fe5,_0xe58245=_0x4f579e[_0x2a13b9(0x1ad)][_0x2a13b9(0xf1)]();return _0xe58245[_0x2a13b9(0x1ed)](_0x5940b7[_0x2a13b9(0xf1)]())&&(_0xe58245[_0x2a13b9(0x1ed)]('market')&&_0xe58245[_0x2a13b9(0x1ed)](_0x2a13b9(0x117))||_0xe58245[_0x2a13b9(0x1ed)]('filled')&&_0xe58245[_0x2a13b9(0x1ed)](_0x2a13b9(0x117)));})['sortBy']('time')[_0x1d8fe5(0x106)]();return _0x44375f[_0x1d8fe5(0x173)](_0x775510=>{const _0x1e40fc=_0x1d8fe5,_0x193c93=_0x775510[_0x1e40fc(0x1ad)][_0x1e40fc(0x1ed)](_0x1e40fc(0xa3))?_0x1e40fc(0xa3):_0x1e40fc(0x1c0),_0x3090fc=/#([0-9]|\.)+\s/i,_0x11613=Number(_0x3090fc[_0x1e40fc(0xd4)](_0x775510[_0x1e40fc(0x1ad)])[0x0][_0x1e40fc(0xe9)](0x1)),_0x419c07=/@([0-9]|\.)+$/i,_0x263997=Number(_0x419c07[_0x1e40fc(0xd4)](_0x775510[_0x1e40fc(0x1ad)])[0x0]['slice'](0x1));_0x1f327e[_0x1e40fc(0x16d)]({'datetime':_0x775510[_0x1e40fc(0x195)],'coin':symbolToCoin(_0x5940b7),'symbol':_0x5940b7,'side':_0x193c93,'amount':_0x11613,'filled':_0x11613,'price':_0x263997});}),_0x1f327e;}async function getAllOrders(_0x43e41b,_0x148bf5){const _0x101f57=_0x326e1c;let _0x4f8999=[];while(_0x148bf5<exchange[_0x101f57(0x17f)]()){const _0x32c98e=0x1f4,_0x90a358=await exchange[_0x101f57(0x199)](_0x43e41b,_0x148bf5,_0x32c98e);if(_0x90a358['length'])_0x148bf5=_0x90a358[_0x90a358['length']-0x1][_0x101f57(0x105)]+0x1,_0x4f8999=_0x4f8999[_0x101f57(0x1ec)](_0x90a358);else break;}return _0x4f8999;}async function validate24hChanges(){const _0x489927=_0x326e1c;for(const _0x544c49 of currentCoins){if(_0x544c49[_0x489927(0x190)]!=config['basecoin']){let _0x1bd38c;_0x544c49[_0x489927(0x1e5)]?_0x1bd38c=formatResult((0x1/(global[_0x489927(0x175)][noslash(_0x544c49[_0x489927(0x98)])]/0x64+0x1)-0x1)*0x64,0x3):_0x1bd38c=global['change'][noslash(_0x544c49[_0x489927(0x98)])],_0x1bd38c<config[_0x489927(0xcf)]&&(logHistory(_0x489927(0xfa),_0x544c49[_0x489927(0x190)]+_0x489927(0x132)+_0x1bd38c+'%'),logHistory(_0x489927(0xfa),_0x489927(0x127)),logHistory(_0x489927(0xfa),_0x489927(0xda)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x17868d,_0x31ef9c){const _0x8c0acb=_0x326e1c;if(!_0x17868d)return!![];const _0x4aa5db=_0x31ef9c[_0x8c0acb(0xc6)]('.'),_0x56f1be=_0x17868d[_0x8c0acb(0xc6)]('.');for(var _0x279fd5=0x0;_0x279fd5<_0x56f1be[_0x8c0acb(0x18e)];_0x279fd5++){const _0x8236a1=~~_0x56f1be[_0x279fd5],_0x3f8e48=~~_0x4aa5db[_0x279fd5];if(_0x8236a1<_0x3f8e48)return!![];if(_0x8236a1>_0x3f8e48)return![];}return![];}async function oneTimeMigration(){const _0x139044=_0x326e1c;let _0x1830d6=dbLogs[_0x139044(0x1e8)]('version')[_0x139044(0x106)]();if(isOlderVersion(_0x1830d6,'2.3.5')){let _0x2e4e5a=[];const _0x53867f=dbLogs[_0x139044(0x1e8)](_0x139044(0x1ee))[_0x139044(0x106)]();_0x53867f[_0x139044(0x173)](_0x195567=>{const _0x289279=_0x139044;_0x2e4e5a[_0x289279(0x16d)]({'time':_0x195567[_0x289279(0x195)],'type':_0x195567[_0x289279(0xce)],'event':_0x195567[_0x289279(0x1ad)]});}),dbLogs[_0x139044(0x1e8)](_0x139044(0x1ee))[_0x139044(0x180)](_0x2e4e5a)[_0x139044(0x17a)]();}let _0x25d6c1=dbConfig[_0x139044(0x1e8)](_0x139044(0x1e4))[_0x139044(0x106)]();if(isOlderVersion(_0x25d6c1,_0x139044(0x1e9))){let _0x108592=dbConfig[_0x139044(0x1e8)](_0x139044(0x1f6))['find']({'botID':botID})[_0x139044(0x106)]();if(_0x108592){let _0x51832b=[];_0x108592[_0x139044(0xc3)][_0x139044(0x173)](_0xc77440=>{const _0x32445c=_0x139044;_0x51832b['push']({'coin':_0xc77440[_0x32445c(0x190)],'number':_0xc77440[_0x32445c(0x1e0)],'price':_0xc77440[_0x32445c(0xaf)]}),delete _0xc77440[_0x32445c(0x1e0)],delete _0xc77440[_0x32445c(0xaf)];});if(_0x51832b[_0x139044(0x18e)]!==0x0)fs[_0x139044(0x1ab)](configbackuppath+('starting-balance-'+botID+_0x139044(0x1cc)),JSON[_0x139044(0x1bd)](_0x51832b,null,0x4),function(_0x2be36c){if(_0x2be36c){}});const _0x6391b0=(_0x3766a7,_0x2bf991)=>{const _0x4397a9=_0x139044;let _0x13cb9b=[];_0x2bf991['forEach'](_0x81d239=>{const _0x22da75=_0x1847,_0x44bf78=_0x3766a7[_0x22da75(0xee)](_0x1fa5c4=>_0x1fa5c4['coin']==_0x81d239[_0x22da75(0x190)]);if(!_0x44bf78)_0x13cb9b[_0x22da75(0x16d)](_0x81d239);});let _0x4c94fa=[];return _0x3766a7[_0x4397a9(0x173)](_0x1a7e5d=>{const _0x248535=_0x4397a9,_0x5ae967=_0x2bf991['find'](_0x3d87af=>_0x3d87af[_0x248535(0x190)]==_0x1a7e5d['coin']);if(!_0x5ae967||_0x5ae967[_0x248535(0x9f)]==0x0&&_0x1a7e5d[_0x248535(0x9f)]!=0x0)_0x4c94fa[_0x248535(0x16d)](_0x1a7e5d);}),{'missingDay1':_0x13cb9b,'notInDay2':_0x4c94fa};},_0x2ad47f=dbPerformance[_0x139044(0x1e8)](_0x139044(0x9c))[_0x139044(0x1d9)]()[_0x139044(0x106)]();if(_0x2ad47f['length']>0x1){const {missingDay1:_0x2b8a22,notInDay2:_0x7aeba}=_0x6391b0(_0x51832b,_0x2ad47f[0x1][_0x139044(0x164)]);_0x51832b=[..._0x51832b,..._0x2b8a22],_0x7aeba[_0x139044(0x173)](_0x292a1b=>{const _0x223a3c=_0x139044;let _0x4decd=_0x51832b[_0x223a3c(0x136)](_0x3bbd8=>_0x3bbd8['coin']==_0x292a1b[_0x223a3c(0x190)]);_0x4decd!=-0x1&&_0x51832b[_0x223a3c(0xc4)](_0x4decd,0x1);});}_0x51832b[_0x139044(0x202)]((_0x28bf56,_0x48bd39)=>_0x28bf56[_0x139044(0x190)]>_0x48bd39[_0x139044(0x190)]?0x1:_0x48bd39[_0x139044(0x190)]>_0x28bf56[_0x139044(0x190)]?-0x1:0x0);let _0x2425b3=[{'date':_0x108592[_0x139044(0x11e)],'changes':_0x51832b}];_0x2ad47f[_0x139044(0x18e)]>0x2&&_0x2ad47f['forEach']((_0x1ee4a4,_0xfc6150)=>{const _0x3e9593=_0x139044;if(_0xfc6150>0x0&&_0xfc6150<_0x2ad47f['length']-0x1){const {missingDay1:_0x3658db,notInDay2:_0x424523}=_0x6391b0(_0x2ad47f[_0xfc6150][_0x3e9593(0x164)],_0x2ad47f[_0xfc6150+0x1][_0x3e9593(0x164)]);_0x51832b=[],(_0x3658db[_0x3e9593(0x18e)]!=0x0||_0x424523['length']!=0x0)&&(_0x3658db['length']!=0x0&&_0x51832b[_0x3e9593(0x16d)](..._0x3658db),_0x424523[_0x3e9593(0x18e)]!=0x0&&(_0x424523[_0x3e9593(0x173)](_0x425206=>{const _0xb11ee5=_0x3e9593;_0x425206['number']=-_0x425206[_0xb11ee5(0x9f)];}),_0x51832b['push'](..._0x424523)),_0x51832b[_0x3e9593(0x202)]((_0x201010,_0x174c33)=>_0x201010['coin']>_0x174c33[_0x3e9593(0x190)]?0x1:_0x174c33['coin']>_0x201010[_0x3e9593(0x190)]?-0x1:0x0),_0x2425b3['push']({'date':_0x2ad47f[_0xfc6150+0x1][_0x3e9593(0x147)],'changes':_0x51832b}));}}),dbConfig[_0x139044(0x1e8)](_0x139044(0x1f6))[_0x139044(0xee)]({'botID':botID})[_0x139044(0x180)]({..._0x108592,'liquidity':_0x2425b3})['write']();}}if(isOlderVersion(_0x25d6c1,_0x139044(0xbb))){let _0x2dcd50=dbConfig[_0x139044(0x1e8)]('bot')[_0x139044(0xee)]({'botID':botID})['value']();if(_0x2dcd50){const _0x53d090=_0x2dcd50[_0x139044(0xe0)],_0x407682=_0x53d090?capitalize(_0x53d090):_0x139044(0x1a5);dbConfig[_0x139044(0x1e8)](_0x139044(0x1f6))['find']({'botID':botID})['assign']({'exchange':_0x407682})[_0x139044(0x17a)]();}}let _0x455a9d=dbPerformance[_0x139044(0x1e8)](_0x139044(0x1e4))['value']();isOlderVersion(_0x455a9d,_0x139044(0x1e9))&&setStartDatePerformance();let _0x4da3a3=dbCoinResults['get'](_0x139044(0x1e4))['value']();if(isOlderVersion(_0x4da3a3,_0x139044(0x16c))){let _0x66f2cf=dbCoinResults[_0x139044(0x1e8)](_0x139044(0x164))[_0x139044(0x106)]();if(_0x66f2cf['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x340737=_0x326e1c;dbConfig['set'](_0x340737(0x1e4),serverversion)[_0x340737(0x17a)](),dbPerformance['set']('version',serverversion)[_0x340737(0x17a)](),dbLogs[_0x340737(0x1e1)](_0x340737(0x1e4),serverversion)[_0x340737(0x17a)](),dbCoinResults[_0x340737(0x1e1)]('version',serverversion)[_0x340737(0x17a)]();}function getConfiguration(_0x21fc0e){const _0x2d06ce=_0x326e1c;let _0x3c9b74=dbConfig[_0x2d06ce(0x1e8)](_0x2d06ce(0x1f6))['find']({'botID':_0x21fc0e})['value']();if(_0x3c9b74){let _0x340300=![];typeof _0x3c9b74[_0x2d06ce(0xf4)]=='string'&&(_0x3c9b74={..._0x3c9b74,'threshold':Number(_0x3c9b74[_0x2d06ce(0xf4)])},_0x340300=!![]),_0x3c9b74[_0x2d06ce(0xcf)]==null&&(_0x3c9b74={..._0x3c9b74,'change24h':-0x14},_0x340300=!![]),!_0x3c9b74[_0x2d06ce(0x1de)]&&(_0x3c9b74={..._0x3c9b74,'fiat':_0x2d06ce(0x10d)},_0x340300=!![]),!_0x3c9b74[_0x2d06ce(0xf3)]&&(_0x3c9b74={..._0x3c9b74,'onepagemode':settings[_0x2d06ce(0xf3)]},_0x340300=!![]),!_0x3c9b74[_0x2d06ce(0x1ef)]&&(_0x3c9b74={..._0x3c9b74,'colorscheme':_0x2d06ce(0x215)},_0x340300=!![]),!_0x3c9b74[_0x2d06ce(0x9d)]&&(_0x3c9b74={..._0x3c9b74,'autoliquidity':!![]},_0x340300=!![]),_0x340300&&(_0x3c9b74={'botID':_0x3c9b74[_0x2d06ce(0x1cf)],'exchange':_0x3c9b74[_0x2d06ce(0xe0)],'apiKey':_0x3c9b74[_0x2d06ce(0xa6)],'apiSecret':_0x3c9b74['apiSecret'],'apiPassword':_0x3c9b74['apiPassword'],'basecoin':_0x3c9b74[_0x2d06ce(0x212)],'botname':_0x3c9b74[_0x2d06ce(0xa8)],'showname':_0x3c9b74[_0x2d06ce(0xd5)],'threshold':_0x3c9b74[_0x2d06ce(0xf4)],'ordertype':_0x3c9b74[_0x2d06ce(0x1c9)],'timeout':_0x3c9b74[_0x2d06ce(0x12b)],'fiat':_0x3c9b74[_0x2d06ce(0x1de)],'startdate':_0x3c9b74['startdate'],'recreate':_0x3c9b74['recreate'],'timeshift':_0x3c9b74['timeshift'],'onepagemode':_0x3c9b74['onepagemode'],'headless':_0x3c9b74['headless'],'cooldown':_0x3c9b74[_0x2d06ce(0x196)],'change24h':_0x3c9b74['change24h'],'emojibuy':_0x3c9b74['emojibuy'],'emojisell':_0x3c9b74['emojisell'],'colorscheme':_0x3c9b74['colorscheme'],'portfolio':_0x3c9b74[_0x2d06ce(0xc3)],'autoliquidity':_0x3c9b74[_0x2d06ce(0x9d)],'liquidity':_0x3c9b74[_0x2d06ce(0x16e)],'openOrders':_0x3c9b74[_0x2d06ce(0xa7)]},dbConfig[_0x2d06ce(0x1e8)](_0x2d06ce(0x1f6))['remove']()[_0x2d06ce(0x17a)](),dbConfig[_0x2d06ce(0x1e8)](_0x2d06ce(0x1f6))['push'](_0x3c9b74)['write']());}else _0x3c9b74={'botID':_0x21fc0e,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x2d06ce(0x210)+_0x21fc0e,'showname':![],'threshold':0x3,'ordertype':_0x2d06ce(0x20e),'timeout':0x14,'fiat':_0x2d06ce(0x10d),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x2d06ce(0xf3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x3c9b74;}function emittedConfiguration(){const _0x5ea228=_0x326e1c;let _0x3de607;if(config[_0x5ea228(0xa6)]=='')_0x3de607={...config,'configstate':_0x5ea228(0x207)};else config[_0x5ea228(0xa6)]==_0x5ea228(0xf5)?_0x3de607={...config,'configstate':_0x5ea228(0xc1)}:(_0x3de607={...config,'apiKey':_0x5ea228(0x1a2),'apiSecret':_0x5ea228(0x1a2)},config[_0x5ea228(0x1a7)]&&(_0x3de607[_0x5ea228(0x1a7)]=_0x5ea228(0x1a2)));return _0x3de607;}function getSettings(){const _0x343245=_0x326e1c;return dbSettings[_0x343245(0x1e8)](_0x343245(0x1dd))[_0x343245(0x106)]();}function getSecure(){const _0x28f72b=_0x326e1c;return dbSecure[_0x28f72b(0x1e8)](_0x28f72b(0xfc))[_0x28f72b(0x106)]()||{};}function updateTimeshift(_0x3fa0a9){const _0x32e49b=_0x326e1c;let _0x3839de=dbConfig['get']('bot')['find']({'botID':botID})[_0x32e49b(0x106)]();_0x3839de&&dbConfig[_0x32e49b(0x1e8)]('bot')['find']({'botID':botID})[_0x32e49b(0x180)]({'timeshift':_0x3fa0a9})['write'](),config[_0x32e49b(0x204)]=_0x3fa0a9,proxyEmit(_0x32e49b(0xb8),emittedConfiguration());}function updateOnepagemode(_0x3ce782){const _0x32dff5=_0x326e1c;let _0x303e6f=dbConfig['get'](_0x32dff5(0x1f6))[_0x32dff5(0xee)]({'botID':botID})['value']();_0x303e6f&&dbConfig[_0x32dff5(0x1e8)]('bot')[_0x32dff5(0xee)]({'botID':botID})[_0x32dff5(0x180)]({'onepagemode':_0x3ce782})[_0x32dff5(0x17a)](),config[_0x32dff5(0xf3)]=_0x3ce782,proxyEmit(_0x32dff5(0xb8),emittedConfiguration());}async function storeConfiguration(_0x21c225){const _0x210185=_0x326e1c;logger[_0x210185(0x1b9)](_0x210185(0x13b));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x210185(0x1b9)]('Transaction\x20detection\x20blocked');let _0x2ff29f=[],_0x40edb2=![],_0x1811a8=![],_0x1753f7=[];_0x21c225[_0x210185(0xc3)][_0x210185(0x173)](_0x373abd=>{const _0x49b73f=_0x210185;if(!_0x373abd['excluded']&&_0x373abd[_0x49b73f(0x190)]!=_0x21c225[_0x49b73f(0x212)])_0x1753f7[_0x49b73f(0x16d)](_0x373abd[_0x49b73f(0x98)]);}),_0x1753f7[_0x210185(0x173)](_0x1973c5=>{const _0x28a6a7=_0x210185,_0x1004de=watchedSymbols[_0x28a6a7(0x1ed)](_0x1973c5);!_0x1004de&&_0x2ff29f[_0x28a6a7(0x16d)](_0x1973c5);}),_0x1753f7[_0x210185(0x173)](_0x4657a5=>{const _0x123814=_0x210185,_0x423bed=currentCoins['find'](_0x50fa0a=>_0x50fa0a[_0x123814(0x98)]==_0x4657a5);!_0x423bed&&(_0x40edb2=!![]);}),currentCoins['forEach'](_0x1c8842=>{const _0x564d19=_0x210185;if(_0x1c8842['coin']!=config['basecoin']){const _0x508e19=_0x1753f7['find'](_0x57b0d5=>_0x57b0d5==_0x1c8842[_0x564d19(0x98)]);!_0x508e19&&(_0x40edb2=!![]);}}),_0x21c225[_0x210185(0xc3)][_0x210185(0x173)](_0x33c210=>{const _0x1df1df=_0x210185,_0x2dc1f5=config[_0x1df1df(0xc3)]['find'](_0x2dd391=>_0x2dd391[_0x1df1df(0x190)]==_0x33c210['coin']);if(_0x2dc1f5&&_0x33c210[_0x1df1df(0x1f0)]!=_0x2dc1f5[_0x1df1df(0x1f0)])_0x1811a8=!![];});let _0x690c18=dbConfig[_0x210185(0x1e8)]('bot')[_0x210185(0xee)]({'botID':botID})[_0x210185(0x106)]();_0x21c225={..._0x21c225,'apiKey':crypt[_0x210185(0xa9)](secure[_0x210185(0x159)],_0x21c225[_0x210185(0xa6)])[_0x210185(0x1ca)],'apiSecret':crypt[_0x210185(0xa9)](secure[_0x210185(0x159)],_0x21c225[_0x210185(0x160)])['message']};_0x21c225[_0x210185(0x1a7)]&&(_0x21c225['apiPassword']=crypt[_0x210185(0xa9)](secure['privateKey'],_0x21c225[_0x210185(0x1a7)])['message']);let _0x4b5781=![];if(_0x690c18){_0x21c225['apiKey']==_0x210185(0x1a2)?_0x21c225['apiKey']=config[_0x210185(0xa6)]:_0x4b5781=!![];_0x21c225['apiSecret']=='************'?_0x21c225[_0x210185(0x160)]=config[_0x210185(0x160)]:_0x4b5781=!![];if(_0x21c225[_0x210185(0x1a7)]==_0x210185(0x1a2))_0x21c225['apiPassword']=config['apiPassword'];else{if(_0x21c225[_0x210185(0x1a7)])_0x4b5781=!![];}dbConfig[_0x210185(0x1e8)](_0x210185(0x1f6))[_0x210185(0xee)]({'botID':botID})[_0x210185(0x180)](_0x21c225)[_0x210185(0x17a)]();}else dbConfig[_0x210185(0x1e8)](_0x210185(0x1f6))[_0x210185(0x16d)](_0x21c225)[_0x210185(0x17a)](),_0x4b5781=!![],process[_0x210185(0xb1)]({'status':'enabled','live':_0x210185(0x1a1)},_0x1cf3bb=>{});process[_0x210185(0xb1)]({'botname':_0x21c225[_0x210185(0xa8)]},_0x32b78a=>{}),updateBotManager(),config={..._0x21c225},proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x4b5781)await reset(_0x2ff29f,!![]);else _0x40edb2||_0x1811a8?await reset(_0x2ff29f,![]):getBalances();blockTransactionDetection=![],logger['debug'](_0x210185(0x165));}async function storeHeadless(_0xe803e2){const _0x5628ce=_0x326e1c,_0x308d87={...config,'headless':_0xe803e2[_0x5628ce(0x10c)]};let _0x3d75e9=dbConfig[_0x5628ce(0x1e8)](_0x5628ce(0x1f6))[_0x5628ce(0xee)]({'botID':botID})[_0x5628ce(0x106)]();_0x3d75e9&&dbConfig[_0x5628ce(0x1e8)](_0x5628ce(0x1f6))[_0x5628ce(0xee)]({'botID':botID})[_0x5628ce(0x180)](_0x308d87)[_0x5628ce(0x17a)](),config={..._0x308d87},updateBotManager(),proxyEmit(_0x5628ce(0xb8),emittedConfiguration());}function _0x1847(_0x4b6acf,_0x29d9ad){const _0x26962f=_0x5747();return _0x1847=function(_0xabccb8,_0x432f36){_0xabccb8=_0xabccb8-0x95;let _0x5747c7=_0x26962f[_0xabccb8];return _0x5747c7;},_0x1847(_0x4b6acf,_0x29d9ad);}async function storeFiat(_0x2fd5d3){const _0xbaab0=_0x326e1c,_0x51d736={...config,'fiat':_0x2fd5d3};let _0x16a198=dbConfig['get'](_0xbaab0(0x1f6))['find']({'botID':botID})[_0xbaab0(0x106)]();_0x16a198&&dbConfig[_0xbaab0(0x1e8)](_0xbaab0(0x1f6))[_0xbaab0(0xee)]({'botID':botID})['assign'](_0x51d736)[_0xbaab0(0x17a)](),config={..._0x51d736},proxyEmit(_0xbaab0(0xb8),emittedConfiguration());}function resetHistory(){const _0x554cc3=_0x326e1c;logger[_0x554cc3(0x211)]('Resetting\x20bot\x20history');try{if(fs[_0x554cc3(0x13e)](path['join'](configpath,_0x554cc3(0x134)+botID+_0x554cc3(0x208))))fs[_0x554cc3(0xa4)](path[_0x554cc3(0xb7)](configpath,_0x554cc3(0x134)+botID+_0x554cc3(0x208)));if(fs[_0x554cc3(0x13e)](path['join'](configpath,_0x554cc3(0x134)+botID+_0x554cc3(0x1e3))))fs[_0x554cc3(0xa4)](path[_0x554cc3(0xb7)](configpath,_0x554cc3(0x134)+botID+_0x554cc3(0x1e3)));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+_0x554cc3(0xbd))))fs[_0x554cc3(0xa4)](path[_0x554cc3(0xb7)](configpath,_0x554cc3(0x134)+botID+'-results.json'));}catch(_0x4a769f){if(_0x4a769f)logger[_0x554cc3(0x211)](_0x554cc3(0x16a),_0x4a769f);}const _0x43a8a6=getDate();let _0x33c473=[];currentCoins[_0x554cc3(0x173)](_0x27c004=>{const _0x3be20d=_0x554cc3;_0x33c473[_0x3be20d(0x16d)]({'coin':_0x27c004[_0x3be20d(0x190)],'number':_0x27c004[_0x3be20d(0x9f)],'price':_0x27c004[_0x3be20d(0x20a)]});});let _0x1a3954=dbConfig['get'](_0x554cc3(0x1f6))[_0x554cc3(0xee)]({'botID':botID})['value']();_0x1a3954&&(dbConfig['get'](_0x554cc3(0x1f6))[_0x554cc3(0xee)]({'botID':botID})[_0x554cc3(0x180)]({'liquidity':[{'date':_0x43a8a6,'changes':_0x33c473}]})['write'](),config[_0x554cc3(0x16e)]=[]),process[_0x554cc3(0xb1)]({'stop':_0x554cc3(0x185)},_0x1d9d68=>{});}function noslash(_0x3002bf){const _0x1e7478=_0x326e1c;return _0x3002bf[_0x1e7478(0xcc)]('/','');}function updateHighestFee(_0xf0c089){const _0x49e40a=_0x326e1c;if(_0xf0c089[_0x49e40a(0x1e5)]){let _0x52874f={'filled':_0xf0c089[_0x49e40a(0x1b0)]*_0xf0c089['price'],'amount':_0xf0c089[_0x49e40a(0x1b0)]*_0xf0c089[_0x49e40a(0x110)],'side':_0xf0c089['side']==_0x49e40a(0xa3)?'buy':'sell','price':0x1/_0xf0c089[_0x49e40a(0x110)]};_0xf0c089={..._0xf0c089,..._0x52874f};}const _0x5ea86f=defaultFee*_0xf0c089[_0x49e40a(0x1b0)]*_0xf0c089[_0x49e40a(0x110)];lastFees[_0x49e40a(0xd6)][_0x49e40a(0x18e)]===0x14&&lastFees[_0x49e40a(0xd6)][_0x49e40a(0xdf)](),lastFees[_0x49e40a(0xd6)][_0x49e40a(0x16d)](_0x5ea86f),lastFees[_0x49e40a(0x1d7)]=Math[_0x49e40a(0xad)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x26e70e){const _0x136d57=_0x326e1c;logger[_0x136d57(0x1b9)](_0x136d57(0x1ff)+_0x26e70e[_0x136d57(0x98)]+'\x20|\x20'+_0x26e70e[_0x136d57(0x1c6)]+_0x136d57(0x1da)+_0x26e70e['id']);let _0x568f42=_0x26e70e[_0x136d57(0x1c6)],_0x50dddb=![];currentCoins['forEach'](_0x1e63a3=>{const _0x34e3bc=_0x136d57;_0x1e63a3[_0x34e3bc(0x98)]==_0x26e70e[_0x34e3bc(0x98)]&&(_0x50dddb=!![]);});if(!_0x50dddb)return;const _0x1e9144=currentCoins[_0x136d57(0xee)](_0x171e5e=>_0x171e5e[_0x136d57(0x98)]==_0x26e70e[_0x136d57(0x98)]),_0x447790=_0xb754e=>{const _0x517843=_0x136d57;if(_0x1e9144)_0x1e9144[_0x517843(0x95)]=_0xb754e;};if(_0x568f42==_0x136d57(0x177))_0x447790(_0x136d57(0x177));else{if(_0x568f42==_0x136d57(0x118)){_0x447790('canceled');const _0x41a28a=await getCoins();[currentCoins,currentCoinsAll]=_0x41a28a,await getOpenOrders(),handleOpenOrders();}else{if(_0x568f42==_0x136d57(0x19d)){logger[_0x136d57(0x1b9)](_0x136d57(0x174)+_0x26e70e[_0x136d57(0x98)]+_0x136d57(0x1da)+_0x26e70e['filled']+'\x20|\x20'+_0x26e70e['id']);let _0x3feb14=![];if(lastOrders)for(const _0x3c9a30 of lastOrders){const _0x5a4341=0xc8,_0xc203af=0x1388;let _0x2d8694=0x0;while(!_0x3c9a30[_0x136d57(0x182)]&&_0x2d8694*_0x5a4341<_0xc203af){_0x2d8694++,await sleep(_0x5a4341);}if(_0x2d8694>0x0)logger['debug']('Waited\x20'+_0x2d8694*_0x5a4341/0x3e8+_0x136d57(0x10f));if(_0x3c9a30[_0x136d57(0x182)]==_0x26e70e['id']){logger['debug'](_0x136d57(0x1a0)+_0x26e70e['id']),_0x3feb14=!![];if(_0x3c9a30[_0x136d57(0x1b0)]==0x0){logger['debug']('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x26e70e['id']);if(_0x26e70e[_0x136d57(0x184)])_0x3c9a30[_0x136d57(0x110)]=_0x26e70e[_0x136d57(0x184)];else{if(_0x26e70e['price'])_0x3c9a30[_0x136d57(0x110)]=_0x26e70e[_0x136d57(0x110)];else{}}_0x3c9a30['filled']=_0x26e70e[_0x136d57(0x1b0)],updateHighestFee(_0x3c9a30),_0x447790(_0x136d57(0x1b0)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x19e82f=await getCoins();[currentCoins,currentCoinsAll]=_0x19e82f;}_0x3c9a30[_0x136d57(0x17b)]={'currency':_0x26e70e[_0x136d57(0x17b)]?_0x26e70e[_0x136d57(0x17b)][_0x136d57(0x155)]:null,'cost':_0x26e70e[_0x136d57(0x17b)]?_0x26e70e[_0x136d57(0x17b)][_0x136d57(0x18a)]:0x0},await updateCoinResults(_0x3c9a30);}}}if(!_0x3feb14){logger[_0x136d57(0x1b9)](_0x136d57(0x157)+_0x26e70e['id']),_0x447790(_0x136d57(0x1b0));const _0xe22553=await getCoins();[currentCoins,currentCoinsAll]=_0xe22553,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x4edacb=JSON[_0x136d57(0x191)](lastBalances['portfolio']);const _0x3e4c7a=_0x4edacb['find'](_0x34c986=>_0x34c986[_0x136d57(0x98)]==_0x26e70e['symbol']);if(_0x3e4c7a){if(_0x568f42==_0x136d57(0x177))_0x3e4c7a[_0x136d57(0x95)]=_0x3e4c7a[_0x136d57(0x95)]==_0x136d57(0x1b0)?_0x136d57(0x1b0):_0x136d57(0x177);else{if(_0x568f42==_0x136d57(0x118))_0x3e4c7a[_0x136d57(0x95)]=_0x3e4c7a[_0x136d57(0x95)]==_0x136d57(0x1b0)?_0x136d57(0x1b0):'canceled';else _0x568f42==_0x136d57(0x19d)&&(_0x3e4c7a[_0x136d57(0x95)]=_0x136d57(0x1b0));}}lastBalances={...lastBalances,'portfolio':JSON[_0x136d57(0x1bd)](_0x4edacb)},proxyEmit(_0x136d57(0x140),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x945361=_0x326e1c;await getOpenOrders();let _0xb62446=![];currentCoins[_0x945361(0x173)](_0x3fe025=>{const _0x22a09b=_0x945361;_0xb62446=allOpenOrders['find'](_0x350feb=>_0x350feb[_0x22a09b(0x98)]==_0x3fe025[_0x22a09b(0x98)]),_0x3fe025[_0x22a09b(0x95)]=_0xb62446?_0x22a09b(0x177):_0x22a09b(0x151);});}async function getCoins(_0x513c4b=!![],_0x3233c3=config['basecoin']){const _0x4eba17=_0x326e1c;let _0x378aec,_0x12c89f=[],_0x3dfdaa=[],_0x469f54=[],_0x392d30=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x378aec=await exchange[_0x4eba17(0x20b)](),mybalances=_0x378aec['total'];for(const [_0x63032,_0x4d6a44]of Object['entries'](mybalances)){_0x392d30[_0x4eba17(0x16d)](_0x63032);}if(_0x3233c3=='')for(const [_0x2e1948,_0x99cfdf]of Object['entries'](mybalances)){_0x99cfdf!=0x0&&_0x3dfdaa[_0x4eba17(0x16d)]({'coin':_0x2e1948});}else{let _0x32d2d5=![];for(const [_0x180e65,_0x45ee9c]of Object['entries'](mybalances)){if(_0x392d30[_0x4eba17(0x1ed)](_0x180e65)){const _0x2aee3c=config[_0x4eba17(0xc3)][_0x4eba17(0xee)](_0x4f2abb=>_0x4f2abb['coin']==_0x180e65),_0x35f08b=_0x180e65+'/'+_0x3233c3,_0x4a67ae=_0x3233c3+'/'+_0x180e65,_0x41eb10=currentCoins[_0x4eba17(0xee)](_0x5ea6c9=>_0x5ea6c9[_0x4eba17(0x190)]==_0x180e65);_0x32d2d5=![];if((_0x45ee9c!=0x0||_0x2aee3c)&&(allSymbols['includes'](_0x35f08b)||_0x180e65==_0x3233c3))_0x180e65!=_0x3233c3&&_0x12c89f['push'](_0x35f08b),_0x3dfdaa['push']({'coin':_0x180e65,'symbol':_0x35f08b,'reverse':![],'number':Math[_0x4eba17(0xad)](_0x45ee9c+(_0x2aee3c&&_0x2aee3c['offset']||0x0),0x0),'orderstatus':_0x41eb10?_0x41eb10[_0x4eba17(0x95)]:_0x4eba17(0x151)});else(_0x45ee9c!=0x0||_0x2aee3c)&&allSymbols[_0x4eba17(0x1ed)](_0x4a67ae)&&(_0x180e65!=_0x3233c3&&_0x12c89f['push'](_0x4a67ae),_0x3dfdaa[_0x4eba17(0x16d)]({'coin':_0x180e65,'symbol':_0x4a67ae,'reverse':!![],'number':Math['max'](_0x45ee9c+(_0x2aee3c&&_0x2aee3c[_0x4eba17(0x1f0)]||0x0),0x0),'orderstatus':_0x41eb10?_0x41eb10[_0x4eba17(0x95)]:_0x4eba17(0x151)}));}}}}catch(_0x35c1cd){if(!_0x513c4b)handleErrorNoStop(_0x35c1cd,'getCoins()');else await handleError(_0x35c1cd,_0x4eba17(0x21b));}return _0x469f54=cloneDeep(_0x3dfdaa),_0x3dfdaa=_0x3dfdaa['filter'](_0x1b3d3c=>{const _0x478863=_0x4eba17,_0x37bdf6=config[_0x478863(0xc3)][_0x478863(0xee)](_0x246ed5=>_0x246ed5[_0x478863(0x190)]==_0x1b3d3c[_0x478863(0x190)]);return _0x37bdf6&&!_0x37bdf6[_0x478863(0xe6)];}),[_0x3dfdaa,_0x469f54];}async function getCoinNumber(_0x2f0067){const _0x454d09=_0x326e1c;let _0x44eb79;try{const _0x26053b=await exchange[_0x454d09(0x20b)]();_0x44eb79=_0x26053b[_0x454d09(0x166)][_0x2f0067];}catch(_0x1d1edc){await handleError(_0x1d1edc,_0x454d09(0x1fd));}return _0x44eb79;}async function getOpenOrders(){const _0x49cc86=_0x326e1c;let _0x32a6bc;allOpenOrders=[];try{for(const _0xf27a4 of config[_0x49cc86(0xc3)]){!_0xf27a4[_0x49cc86(0xe6)]&&_0xf27a4[_0x49cc86(0x190)]!=config[_0x49cc86(0x212)]&&(_0x32a6bc=await exchange['fetchOpenOrders'](_0xf27a4[_0x49cc86(0x98)]),_0x32a6bc[_0x49cc86(0x18e)]>0x0&&allOpenOrders[_0x49cc86(0x16d)](_0x32a6bc[0x0]));}}catch(_0x2c4107){await handleError(_0x2c4107,_0x49cc86(0x1dc));}}async function handleOpenOrders(_0x41e143=0x0){const _0x93f152=_0x326e1c;allOpenOrders[_0x93f152(0x18e)]==0x0&&lockOrders==ORDERS[_0x93f152(0xea)]&&allOrdersPlaced&&(_0x41e143==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x41e143++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x93f152(0x1b9)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x93f152(0x131))));}async function testAPI(_0x413292){const _0xab7f3f=_0x326e1c,_0x5dceda=ccxt[_0xab7f3f(0xec)][_0x413292[_0xab7f3f(0xe0)][_0xab7f3f(0xf1)]()],_0x3dbe1f=new _0x5dceda({'apiKey':_0x413292[_0xab7f3f(0xa6)],'secret':_0x413292[_0xab7f3f(0x160)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0xab7f3f(0xaa)}});if(_0x413292[_0xab7f3f(0x1a7)])_0x3dbe1f['password']=_0x413292[_0xab7f3f(0x1a7)];try{await _0x3dbe1f['loadMarkets']();}catch(_0x188200){throw _0x188200;}}function cloneDeep(_0x4484ef){const _0xe6cdb7=_0x326e1c;return JSON[_0xe6cdb7(0x191)](JSON[_0xe6cdb7(0x1bd)](_0x4484ef));}async function getPortfolio(_0x6cf3c7){const _0x4e8ee1=_0x326e1c;let _0x354713=[],_0x246908=[],_0x3aee62=[],_0x583bf0;if(_0x6cf3c7[_0x4e8ee1(0xa6)]!==_0x4e8ee1(0x1a2)||_0x6cf3c7[_0x4e8ee1(0x160)]!==_0x4e8ee1(0x1a2)||_0x6cf3c7[_0x4e8ee1(0x1a7)]&&_0x6cf3c7[_0x4e8ee1(0x1a7)]!==_0x4e8ee1(0x1a2)){if(config[_0x4e8ee1(0xe0)]){if(_0x6cf3c7[_0x4e8ee1(0xa6)]==_0x4e8ee1(0x1a2))_0x6cf3c7[_0x4e8ee1(0xa6)]=config[_0x4e8ee1(0xa6)];if(_0x6cf3c7['apiSecret']=='************')_0x6cf3c7[_0x4e8ee1(0x160)]=config['apiSecret'];if(_0x6cf3c7[_0x4e8ee1(0x1a7)]==_0x4e8ee1(0x1a2))_0x6cf3c7[_0x4e8ee1(0x1a7)]=config[_0x4e8ee1(0x1a7)];try{await testAPI(_0x6cf3c7);}catch(_0x4205bd){if(_0x4205bd[_0x4e8ee1(0x13d)]()[_0x4e8ee1(0x1ed)]('AuthenticationError')){logger[_0x4e8ee1(0x1b9)](_0x4e8ee1(0x1b4)),proxyEmit('portfolio',![]);return;}else{handleError(_0x4205bd,'getPortfolio(0)');return;}}}await initExchange(_0x6cf3c7[_0x4e8ee1(0xe0)],_0x6cf3c7[_0x4e8ee1(0xa6)],_0x6cf3c7[_0x4e8ee1(0x160)],_0x6cf3c7[_0x4e8ee1(0x1a7)]);try{await loadSymbols(_0x6cf3c7[_0x4e8ee1(0xe0)],!![]);}catch(_0x3f4e66){if(_0x3f4e66['toString']()['includes'](_0x4e8ee1(0x11f))){proxyEmit(_0x4e8ee1(0xc3),![]);return;}else{handleError(_0x3f4e66,_0x4e8ee1(0xbe));return;}}const _0x5a1373=await getCoins(![],_0x6cf3c7[_0x4e8ee1(0x212)]);_0x3aee62=cloneDeep(_0x5a1373[0x1]);}else _0x3aee62=cloneDeep(currentCoinsAll);if(_0x6cf3c7['basecoin']=='')proxyEmit('portfolio',_0x3aee62);else{_0x3aee62['forEach'](_0x3b896a=>{const _0x42f54a=_0x4e8ee1;if(_0x3b896a[_0x42f54a(0x190)]!=_0x6cf3c7[_0x42f54a(0x212)])_0x354713[_0x42f54a(0x16d)](_0x3b896a[_0x42f54a(0x98)]);});try{_0x246908=await exchange['fetchTickers'](_0x354713);}catch(_0x445ccc){if(_0x445ccc[_0x4e8ee1(0x13d)]()['includes'](_0x4e8ee1(0x11f))){proxyEmit('portfolio',![]);return;}else{handleError(_0x445ccc,_0x4e8ee1(0x181));return;}}_0x3aee62['forEach'](_0x221707=>{const _0x1b26e9=_0x4e8ee1;_0x221707[_0x1b26e9(0x190)]!=_0x6cf3c7[_0x1b26e9(0x212)]?_0x583bf0=_0x221707[_0x1b26e9(0x1e5)]?0x1/_0x246908[_0x221707[_0x1b26e9(0x98)]]['last']:_0x246908[_0x221707[_0x1b26e9(0x98)]][_0x1b26e9(0x20a)]:_0x583bf0=0x1,_0x221707['price']=formatResult(_0x583bf0,0x8);}),proxyEmit(_0x4e8ee1(0xc3),_0x3aee62);}}function truncateTradeAmount(_0x7178c,_0x31e731){const _0xb03e83=_0x326e1c;let _0x3eb02a=0x0;try{_0x3eb02a=exchange[_0xb03e83(0x18d)](_0x7178c,_0x31e731);}catch(_0x27fa1c){}return _0x3eb02a;}function checkMinimums(_0xd18dc8){const _0xff8c13=_0x326e1c;let _0x466873=!![];const _0x28b709=!_0xd18dc8['reverse']?markets[_0xd18dc8[_0xff8c13(0x98)]]['limits']['amount'][_0xff8c13(0x169)]:markets[_0xd18dc8[_0xff8c13(0x98)]][_0xff8c13(0x205)][_0xff8c13(0x18a)][_0xff8c13(0x169)],_0x285c3e=!_0xd18dc8[_0xff8c13(0x1e5)]?markets[_0xd18dc8[_0xff8c13(0x98)]][_0xff8c13(0x205)][_0xff8c13(0x18a)]['min']:markets[_0xd18dc8[_0xff8c13(0x98)]][_0xff8c13(0x205)]['amount'][_0xff8c13(0x169)],_0x42f154=truncateTradeAmount(_0xd18dc8[_0xff8c13(0x98)],_0xd18dc8[_0xff8c13(0x1e6)]);_0xd18dc8['trade']=_0x42f154;if(Math[_0xff8c13(0x121)](_0x42f154)<_0x28b709)_0x466873=![];if(Math[_0xff8c13(0x121)](_0x42f154)*_0xd18dc8[_0xff8c13(0x20a)]<_0x285c3e)_0x466873=![];if(_0xd18dc8[_0xff8c13(0x145)]==_0xff8c13(0xa3)){let _0x40ddf1=config['portfolio'][_0xff8c13(0xee)](_0x34601b=>_0x34601b[_0xff8c13(0x190)]==_0xd18dc8[_0xff8c13(0x190)]);if(_0x40ddf1[_0xff8c13(0x1f0)]>0x0){if(Math[_0xff8c13(0x121)](_0x42f154)>_0xd18dc8[_0xff8c13(0x9f)]-_0x40ddf1[_0xff8c13(0x1f0)])_0x466873=![];}else{if(Math[_0xff8c13(0x121)](_0x42f154)>_0xd18dc8[_0xff8c13(0x9f)])_0x466873=![];}}if(_0xd18dc8[_0xff8c13(0x145)]==_0xff8c13(0x1c0)){let _0x41a612=config[_0xff8c13(0xc3)][_0xff8c13(0xee)](_0x43b8ab=>_0x43b8ab['coin']==config[_0xff8c13(0x212)]),_0x39b856=currentCoins[_0xff8c13(0xee)](_0xe22722=>_0xe22722[_0xff8c13(0x190)]==config[_0xff8c13(0x212)]);if(_0x41a612[_0xff8c13(0x1f0)]>0x0){if(Math['abs'](_0x42f154)*_0xd18dc8['last']>_0x39b856['number']-_0x41a612[_0xff8c13(0x1f0)])_0x466873=![];}else{if(Math[_0xff8c13(0x121)](_0x42f154)*_0xd18dc8['last']>_0x39b856[_0xff8c13(0x9f)])_0x466873=![];}}return _0x466873;}async function getBalances(_0x216643=!![]){const _0x5a0f42=_0x326e1c;let _0x556fa2=0x0,_0x24df56;const _0x2a28ff=config[_0x5a0f42(0xf4)];if(config[_0x5a0f42(0x10c)]&&config[_0x5a0f42(0xcf)]<0x0)await validate24hChanges();currentCoins[_0x5a0f42(0x173)](_0x5d176a=>{const _0x35a005=_0x5a0f42;if(_0x5d176a['coin']!=config['basecoin']){let _0x1d1b6a=global['ticker'][noslash(_0x5d176a['symbol'])];_0x24df56=_0x5d176a[_0x35a005(0x1e5)]?0x1/_0x1d1b6a:_0x1d1b6a;}else _0x24df56=0x1;let _0x5378b=_0x5d176a[_0x35a005(0x9f)]*_0x24df56;_0x556fa2+=_0x5378b,_0x5d176a[_0x35a005(0x20a)]=formatResult(Number(_0x24df56),0x8),_0x5d176a[_0x35a005(0x106)]=_0x5378b;}),currentCoins['forEach'](_0x34f1ab=>{const _0x3bef75=_0x5a0f42;let _0x290a2a=config[_0x3bef75(0xc3)]['find'](_0x5d1f30=>_0x5d1f30[_0x3bef75(0x190)]==_0x34f1ab[_0x3bef75(0x190)]),_0x2f9225=Number(_0x290a2a[_0x3bef75(0x206)]),_0x5d2118=_0x34f1ab[_0x3bef75(0x106)]/_0x556fa2*0x64,_0x4fdbac=_0x2f9225*_0x556fa2/0x64/_0x34f1ab['last']-_0x34f1ab[_0x3bef75(0x9f)];_0x34f1ab[_0x3bef75(0x206)]=formatResult(_0x5d2118,0x3),_0x34f1ab[_0x3bef75(0x123)]=formatResult(_0x2f9225,0x3),_0x34f1ab['trade']=formatResult(_0x4fdbac,0x8),_0x34f1ab[_0x3bef75(0x145)]='',_0x34f1ab[_0x3bef75(0x201)]=![];if(_0x34f1ab[_0x3bef75(0x190)]!=config['basecoin']){if(_0x34f1ab[_0x3bef75(0x206)]>_0x2f9225)_0x34f1ab[_0x3bef75(0x145)]=_0x3bef75(0xa3),_0x34f1ab[_0x3bef75(0x201)]=checkMinimums(_0x34f1ab);else _0x34f1ab[_0x3bef75(0x206)]<_0x2f9225&&(_0x34f1ab[_0x3bef75(0x145)]=_0x3bef75(0x1c0),_0x34f1ab[_0x3bef75(0x201)]=checkMinimums(_0x34f1ab));}_0x34f1ab[_0x3bef75(0x1a9)]=_0x34f1ab['distribution']/_0x34f1ab['target']-0x1;if(_0x34f1ab[_0x3bef75(0x95)]==_0x3bef75(0x1b0)||_0x34f1ab['orderstatus']==_0x3bef75(0x118))_0x34f1ab[_0x3bef75(0x95)]=_0x3bef75(0x151);}),currentCoins[_0x5a0f42(0x202)]((_0x502265,_0x5cca90)=>_0x502265[_0x5a0f42(0x1a9)]<_0x5cca90[_0x5a0f42(0x1a9)]?0x1:_0x5cca90[_0x5a0f42(0x1a9)]<_0x502265[_0x5a0f42(0x1a9)]?-0x1:0x0);const _0x12cddf=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x12cddf[_0x5a0f42(0xca)],'usd':_0x12cddf[_0x5a0f42(0x16f)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x2a28ff},proxyEmit(_0x5a0f42(0x140),{'serverversion':serverversion,'balances':lastBalances});if(_0x216643){if(config[_0x5a0f42(0x10c)])headlessMode({'portfolio':currentCoins,'threshold':_0x2a28ff});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2a28ff});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x2c1271=getNormalizedPerformance();getStartingBalances(_0x2c1271),emitPerformance(_0x2c1271);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x7fcedf=getNormalizedPerformance();emitPerformance(_0x7fcedf),getStartingBalances(_0x7fcedf),logger[_0x5a0f42(0x1b9)](_0x5a0f42(0x125));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4022f1=_0x326e1c;if(!lastBalances)return;let _0x22aa87=[],_0x32418b,_0x477dfe=JSON[_0x4022f1(0x191)](lastBalances['portfolio']);_0x477dfe[_0x4022f1(0x202)]((_0x4816c0,_0x5e1ccc)=>_0x4816c0[_0x4022f1(0x190)]>_0x5e1ccc['coin']?0x1:_0x5e1ccc[_0x4022f1(0x190)]>_0x4816c0[_0x4022f1(0x190)]?-0x1:0x0),_0x477dfe[_0x4022f1(0x173)](_0x312fc9=>{const _0x2e8cfd=_0x4022f1;let _0x2ed6b6={'coin':_0x312fc9[_0x2e8cfd(0x190)],'number':_0x312fc9[_0x2e8cfd(0x9f)],'price':_0x312fc9[_0x2e8cfd(0x20a)]};_0x22aa87[_0x2e8cfd(0x16d)](_0x2ed6b6);});const _0x1def68=await getFiat();_0x32418b={'date':lastBalances[_0x4022f1(0x195)][_0x4022f1(0xc6)]('\x20')[0x0],'eur':_0x1def68[_0x4022f1(0xca)],'usd':_0x1def68[_0x4022f1(0x16f)],'coins':_0x22aa87};let _0x2a8994=dbPerformance[_0x4022f1(0x1e8)](_0x4022f1(0x9c))[_0x4022f1(0xee)]({'date':_0x32418b[_0x4022f1(0x147)]})['value']();_0x2a8994?_0x32418b[_0x4022f1(0x147)]!=config[_0x4022f1(0x11e)]&&dbPerformance[_0x4022f1(0x1e8)](_0x4022f1(0x9c))['find']({'date':_0x32418b[_0x4022f1(0x147)]})[_0x4022f1(0x180)](_0x32418b)['write']():dbPerformance['get'](_0x4022f1(0x9c))[_0x4022f1(0x16d)](_0x32418b)[_0x4022f1(0x17a)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3768ad=_0x326e1c;let _0x44eaf3=[];if(dbPerformance['has']('data')['value']()){let _0x1960b8=dbPerformance[_0x3768ad(0x1e8)](_0x3768ad(0x9c))[_0x3768ad(0x1d9)]()[_0x3768ad(0x129)](_0x2bc7ab=>{const _0x522e90=_0x3768ad;if(_0x2bc7ab['coins'][_0x522e90(0x18e)]==0x0)return![];else return!![];})[_0x3768ad(0x1c8)]('date')['value'](),_0xd1f74a=[...config[_0x3768ad(0x16e)]];_0xd1f74a[_0x3768ad(0x202)]((_0x3f0757,_0x3ca92d)=>_0x3f0757[_0x3768ad(0x147)]>_0x3ca92d[_0x3768ad(0x147)]?-0x1:_0x3ca92d[_0x3768ad(0x147)]>_0x3f0757[_0x3768ad(0x147)]?0x1:0x0);let _0x4eb279=0x1,_0x5b8fa9=[],_0x16c5c4=0x0;_0x1960b8[_0x3768ad(0xe9)]()[_0x3768ad(0x1e5)]()[_0x3768ad(0x173)]((_0x29662c,_0x824486)=>{const _0x4c458d=_0x3768ad;if(_0xd1f74a[_0x16c5c4]){if(_0x1960b8[_0x1960b8[_0x4c458d(0x18e)]-_0x824486]&&_0xd1f74a[_0x16c5c4]['date']==_0x1960b8[_0x1960b8[_0x4c458d(0x18e)]-_0x824486][_0x4c458d(0x147)]){if(_0x824486<_0x1960b8[_0x4c458d(0x18e)]){let _0x28857f=0x0,_0x7ab50d=0x0;_0x1960b8[_0x1960b8[_0x4c458d(0x18e)]-_0x824486][_0x4c458d(0x164)][_0x4c458d(0x173)](_0x5f0012=>{const _0x5986d5=_0x4c458d;_0x7ab50d+=_0x5f0012[_0x5986d5(0x9f)]*_0x5f0012[_0x5986d5(0x110)];}),_0xd1f74a[_0x16c5c4][_0x4c458d(0xe2)]['forEach'](_0x41d8da=>{const _0x1e9299=_0x4c458d;_0x28857f+=_0x41d8da['number']*_0x41d8da[_0x1e9299(0x110)];}),_0x4eb279*=_0x28857f/(_0x7ab50d-_0x28857f)+0x1;}_0x16c5c4++;}}let _0x50f4db=0x0;_0x29662c['coins']['forEach'](_0x1fdeae=>{const _0x5df2b1=_0x4c458d;_0x50f4db+=_0x1fdeae['number']*_0x1fdeae[_0x5df2b1(0x110)];}),_0x5b8fa9[_0x1960b8[_0x4c458d(0x18e)]-_0x824486-0x1]=_0x50f4db*(_0x4eb279-0x1);});let _0x34b973=[];_0xd1f74a=[...config[_0x3768ad(0x16e)]]||[];let _0x5280f1=0x0;_0x16c5c4=0x0,_0x1960b8['forEach']((_0x4ced90,_0x3e871a)=>{const _0xb2abb1=_0x3768ad;if(_0xd1f74a[_0x16c5c4]){const _0x279574=fns['parse'](_0xd1f74a[_0x16c5c4][_0xb2abb1(0x147)],_0xb2abb1(0x156),new Date()),_0x196785=fns['parse'](_0x4ced90[_0xb2abb1(0x147)],'yyyy/MM/dd',new Date());if(fns[_0xb2abb1(0xe5)](_0x279574,_0x196785)){let _0x31f29e=0x0;_0xd1f74a[_0x16c5c4][_0xb2abb1(0xe2)][_0xb2abb1(0x173)](_0x2e6dc9=>{const _0x14f95d=_0xb2abb1;!_0x34b973[_0x2e6dc9[_0x14f95d(0x190)]]?_0x34b973[_0x2e6dc9['coin']]=_0x2e6dc9[_0x14f95d(0x9f)]:(_0x31f29e=_0x34b973[_0x2e6dc9[_0x14f95d(0x190)]],_0x34b973[_0x2e6dc9[_0x14f95d(0x190)]]+=_0x2e6dc9['number']);const _0x28a9e8=_0x4ced90[_0x14f95d(0x164)]['find'](_0x10b3b0=>_0x10b3b0[_0x14f95d(0x190)]==_0x2e6dc9[_0x14f95d(0x190)]);(!_0x28a9e8||_0x28a9e8[_0x14f95d(0x9f)]==0x0)&&(_0x5280f1+=(-_0x2e6dc9[_0x14f95d(0x9f)]-_0x31f29e)*_0x2e6dc9[_0x14f95d(0x110)]);}),_0x16c5c4++;}}_0x4ced90[_0xb2abb1(0x164)][_0xb2abb1(0x173)]((_0x48c8cb,_0x1ca73f)=>{const _0x14d5fd=_0xb2abb1;_0x34b973[_0x48c8cb['coin']]&&(_0x48c8cb[_0x14d5fd(0x207)]=_0x34b973[_0x48c8cb[_0x14d5fd(0x190)]]);}),_0x44eaf3[_0xb2abb1(0x16d)]({'date':_0x4ced90['date'],'eur':_0x4ced90['eur'],'usd':_0x4ced90[_0xb2abb1(0x16f)],'offset':_0x5b8fa9[_0x3e871a],'netoffset':_0x5280f1,'coins':_0x4ced90['coins']});});}return _0x44eaf3;}function emitPerformance(_0x2425cc){const _0x4e7a5c=_0x326e1c;_0x2425cc['length']!==0x0?(proxyEmit(_0x4e7a5c(0x1aa),_0x2425cc),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x52835f,_0xde96d0){const _0xc8949f=_0x326e1c;let _0x24c43c=0x0,_0x3e640d=0x0,_0xd7a106=0x0;_0x52835f[_0xc8949f(0x164)][_0xc8949f(0x173)](_0x3840cd=>{const _0xbe154b=_0xc8949f;_0x24c43c+=_0x3840cd[_0xbe154b(0x9f)]*_0x3840cd[_0xbe154b(0x110)];});_0xde96d0&&(_0x24c43c+=_0x52835f[_0xc8949f(0x1f0)]);if(config[_0xc8949f(0x212)]===_0xc8949f(0x109)||config['basecoin']==='ETH')_0x3e640d=_0x24c43c*_0x52835f[_0xc8949f(0xca)],_0xd7a106=_0x24c43c*_0x52835f[_0xc8949f(0x16f)];else{if(usdBasecoins[_0xc8949f(0x1ed)](config[_0xc8949f(0x212)]))_0x3e640d=_0x24c43c*_0x52835f['eur']/_0x52835f[_0xc8949f(0x16f)],_0xd7a106=_0x24c43c;else config[_0xc8949f(0x212)]==='EUR'&&(_0x3e640d=_0x24c43c,_0xd7a106=_0x24c43c*_0x52835f['usd']/_0x52835f['eur']);}return[_0x24c43c,_0x3e640d,_0xd7a106];}function getKPIs(_0x4487f6,_0x1c2f09=_0x326e1c(0x168)){const _0x4ce4d6=_0x326e1c,_0x24ba51=config[_0x4ce4d6(0x212)],_0x13cb4b=lastBalances,_0x5586f6=currentCoins,_0xf07c5e=getNormalizedPerformance(),_0x500963=_0x4487f6===_0x4ce4d6(0x212)?_0x24ba51:_0x4487f6==='fiat'||_0x4487f6===_0x4ce4d6(0x20f)?_0x1c2f09:_0x4ce4d6(0x1a6)+_0x24ba51,_0x4c4b4f=_0x4487f6==='net-basecoin'?_0x4ce4d6(0xa5):_0x4487f6==='net-fiat'?_0x4ce4d6(0xa5):_0x500963+_0x4ce4d6(0x1e7),_0x22768d=_0x4487f6===_0x4ce4d6(0x1b7)||_0x4487f6===_0x4ce4d6(0x20f)?_0x4ce4d6(0xa5):_0x500963+_0x4ce4d6(0x1bf);let _0x4319e2=0x0;_0x5586f6[_0x4ce4d6(0x173)](_0xb62fca=>{const _0x16a450=_0x4ce4d6;_0x4319e2+=_0xb62fca['number']*_0xb62fca[_0x16a450(0x20a)];});if(_0x4487f6===_0x4ce4d6(0x1de)||_0x4487f6==='net-fiat'){if(_0x24ba51==='BTC'||_0x24ba51===_0x4ce4d6(0x112))_0x4319e2=_0x4319e2*(_0x1c2f09===_0x4ce4d6(0x168)?_0x13cb4b[_0x4ce4d6(0xca)]:_0x13cb4b[_0x4ce4d6(0x16f)]);else{if(usdBasecoins[_0x4ce4d6(0x1ed)](_0x24ba51))_0x4319e2=_0x4319e2*(_0x1c2f09===_0x4ce4d6(0x168)?_0x13cb4b[_0x4ce4d6(0xca)]/_0x13cb4b['usd']:0x1);else _0x24ba51==='EUR'&&(_0x4319e2=_0x4319e2*(_0x1c2f09===_0x4ce4d6(0x168)?0x1:_0x13cb4b[_0x4ce4d6(0x16f)]/_0x13cb4b[_0x4ce4d6(0xca)]));}}let _0x4d10cf;if(_0x4319e2!==0x0){if(_0x4487f6===_0x4ce4d6(0x212))_0x4d10cf=(_0x4319e2/startingBalances['basecoin']-0x1)*0x64;else{if(_0x1c2f09==='EUR')_0x4d10cf=(_0x4319e2/startingBalances[_0x4ce4d6(0xca)]-0x1)*0x64;else _0x4d10cf=(_0x4319e2/startingBalances['usd']-0x1)*0x64;}let _0x1384d2=0x0;if(startingBalances[_0x4ce4d6(0x164)])_0x5586f6[_0x4ce4d6(0x173)](_0x1ed21d=>{const _0x1cb9aa=_0x4ce4d6;let _0x569fc1=startingBalances[_0x1cb9aa(0x164)][_0x1cb9aa(0xee)](_0x1c84c6=>_0x1c84c6['coin']===_0x1ed21d[_0x1cb9aa(0x190)]);if(_0x569fc1&&_0x569fc1[_0x1cb9aa(0x190)]&&_0x1ed21d[_0x1cb9aa(0x9f)]!==0x0)_0x1384d2+=_0x569fc1[_0x1cb9aa(0x9f)]*_0x1ed21d['last'];});let _0x1c7a95=0x0;if(_0xf07c5e[_0x4ce4d6(0x18e)]!==0x0){let _0x40c602=_0xf07c5e[_0xf07c5e['length']-0x1];_0x1c7a95=_0x40c602[_0x4ce4d6(0x14a)];}_0x1384d2-=_0x1c7a95;_0x4487f6==='net-basecoin'&&(_0x4d10cf=(_0x4319e2-_0x1384d2)/startingBalances['basecoin']*0x64,_0x4319e2=_0x4319e2-_0x1384d2);if(_0x4487f6==='net-fiat'){let _0x381f70=_0x1c2f09===_0x4ce4d6(0x168)?startingBalances[_0x4ce4d6(0xca)]:startingBalances[_0x4ce4d6(0x16f)];if(_0x24ba51===_0x4ce4d6(0x109)||_0x24ba51===_0x4ce4d6(0x112))_0x1384d2=_0x1c2f09==='EUR'?_0x1384d2*_0x13cb4b[_0x4ce4d6(0xca)]:_0x1384d2*_0x13cb4b['usd'];else{if(usdBasecoins[_0x4ce4d6(0x1ed)](_0x24ba51))_0x1384d2=_0x1c2f09==='EUR'?_0x1384d2*_0x13cb4b[_0x4ce4d6(0xca)]/_0x13cb4b[_0x4ce4d6(0x16f)]:_0x1384d2;else _0x24ba51===_0x4ce4d6(0x168)&&(_0x1384d2=_0x1c2f09===_0x4ce4d6(0x168)?_0x1384d2:_0x1384d2*_0x13cb4b[_0x4ce4d6(0x16f)]/_0x13cb4b[_0x4ce4d6(0xca)]);}_0x4d10cf=(_0x4319e2-_0x1384d2)/_0x381f70*0x64,_0x4319e2=_0x4319e2-_0x1384d2;}if(_0x4d10cf){if(_0x4d10cf<0x64)_0x4d10cf=_0x4d10cf[_0x4ce4d6(0x18b)](0x2);else{if(_0x4d10cf<0x3e8)_0x4d10cf=_0x4d10cf[_0x4ce4d6(0x18b)](0x1);else _0x4d10cf=_0x4d10cf[_0x4ce4d6(0x18b)](0x0);}}else _0x4d10cf=Number('0')[_0x4ce4d6(0x18b)](0x2);if(_0x4319e2){if(Math['abs'](_0x4319e2)<0.000001)_0x4319e2=_0x4319e2['toFixed'](0x2);else{if(Math[_0x4ce4d6(0x121)](_0x4319e2)<0.1)_0x4319e2=_0x4319e2[_0x4ce4d6(0x18b)](0x6);else{if(Math['abs'](_0x4319e2)<0x1)_0x4319e2=_0x4319e2[_0x4ce4d6(0x18b)](0x5);else{if(Math['abs'](_0x4319e2)<0xa)_0x4319e2=_0x4319e2[_0x4ce4d6(0x18b)](0x4);else{if(Math[_0x4ce4d6(0x121)](_0x4319e2)<0x64)_0x4319e2=_0x4319e2[_0x4ce4d6(0x18b)](0x3);else{if(Math[_0x4ce4d6(0x121)](_0x4319e2)<0x3e8)_0x4319e2=_0x4319e2['toFixed'](0x2);else _0x4319e2=_0x4319e2['toFixed'](0x2);}}}}}}else _0x4319e2=Number('0')[_0x4ce4d6(0x18b)](0x2);}else _0x4d10cf=Number('0')[_0x4ce4d6(0x18b)](0x2);return{'value':_0x4319e2,'change':_0x4d10cf,'leftTxt':_0x4c4b4f,'rightTxt':_0x22768d};}async function getStartingBalances(_0x4d7d24,_0x426242=!![]){const _0x1ba486=_0x326e1c;if(_0x4d7d24[_0x1ba486(0x18e)]!==0x0){const [_0x53aa41,_0x5d49f7,_0x201861]=getPerf(_0x4d7d24[0x0],!![]);let _0x5ca23c=[];config['portfolio'][_0x1ba486(0x173)](_0xf8355c=>{const _0x5c2711=_0x1ba486;let _0x3cb1d3=0x0,_0x2cd70e;config[_0x5c2711(0x16e)][_0x5c2711(0x173)](_0x1fca37=>{const _0xc0c0b3=_0x5c2711;let _0x283e32=_0x1fca37[_0xc0c0b3(0xe2)][_0xc0c0b3(0xee)](_0x5c7df0=>_0x5c7df0[_0xc0c0b3(0x190)]==_0xf8355c[_0xc0c0b3(0x190)]);if(_0x283e32){_0x3cb1d3+=_0x283e32[_0xc0c0b3(0x9f)];if(!_0x2cd70e)_0x2cd70e=_0x283e32[_0xc0c0b3(0x110)];}}),_0x5ca23c['push']({'coin':_0xf8355c['coin'],'number':_0x3cb1d3,'initialprice':_0x2cd70e});});const _0x4ebb9c={'basecoin':_0x53aa41,'eur':_0x5d49f7,'usd':_0x201861,'coins':_0x5ca23c};if(_0x426242)proxyEmit(_0x1ba486(0xa1),_0x4ebb9c);startingBalances=_0x4ebb9c;}}function headlessMode(_0x4125e0){const _0x1cb35b=_0x326e1c;let _0x12918b=_0x4125e0[_0x1cb35b(0xc3)],_0x39a221=_0x4125e0[_0x1cb35b(0xf4)],_0x123874=[];for(let _0x37b75f of _0x12918b){if(_0x37b75f[_0x1cb35b(0x190)]!=config[_0x1cb35b(0x212)]){if(_0x37b75f[_0x1cb35b(0x1a9)]>=_0x39a221/0x64){if(_0x37b75f[_0x1cb35b(0x201)])_0x123874[_0x1cb35b(0x16d)](_0x37b75f);}else{if(_0x37b75f[_0x1cb35b(0x1a9)]<=-_0x39a221/0x64){if(_0x37b75f[_0x1cb35b(0x201)])_0x123874[_0x1cb35b(0x16d)](_0x37b75f);}}}}_0x123874['length']>0x0&&placeOrder(_0x123874);}function notifyBalance(_0x5a5570){const _0x2c9061=_0x326e1c;let _0x54f4ab=_0x5a5570[_0x2c9061(0xc3)],_0xb046e4=_0x5a5570[_0x2c9061(0xf4)],_0x22ec13=[];for(let _0x42b815 of _0x54f4ab){if(_0x42b815[_0x2c9061(0x190)]!=config[_0x2c9061(0x212)]){if(_0x42b815[_0x2c9061(0x1a9)]>=_0xb046e4/0x64){if(_0x42b815[_0x2c9061(0x201)])_0x22ec13['push'](_0x42b815);}else{if(_0x42b815[_0x2c9061(0x1a9)]<=-_0xb046e4/0x64){if(_0x42b815[_0x2c9061(0x201)])_0x22ec13['push'](_0x42b815);}}}}if(_0x22ec13['length']>0x0){let _0x1644d8=_0x22ec13[_0x2c9061(0x1c2)](_0x89cfbb=>_0x89cfbb[_0x2c9061(0x190)]);_0x1644d8[_0x2c9061(0x202)]();let _0x39094b=_0x1644d8[_0x2c9061(0xb7)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2c9061(0xc8),_0x2c9061(0x149));lastCoinsToBalance=_0x39094b;}}function symbolToCoin(_0x5d7e00){const _0x575f0e=_0x326e1c;let _0x2198d1;if(_0x5d7e00[_0x575f0e(0x1ed)]('/'+config[_0x575f0e(0x212)]))_0x2198d1=_0x5d7e00[_0x575f0e(0xcc)]('/'+config[_0x575f0e(0x212)],'');if(_0x5d7e00[_0x575f0e(0x1ed)](config[_0x575f0e(0x212)]+'/'))_0x2198d1=_0x5d7e00[_0x575f0e(0xcc)](config[_0x575f0e(0x212)]+'/','');return _0x2198d1;}async function unlockOrders(){const _0x218bac=_0x326e1c;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x218bac(0x1b9)](_0x218bac(0x1b1)),lockOrders=ORDERS[_0x218bac(0x179)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x188add=await getCoins();[currentCoins,currentCoinsAll]=_0x188add,validateOrdersState=_0x218bac(0x207),persistOpenOrders([]),lockOrders=ORDERS[_0x218bac(0x104)],logger['debug'](_0x218bac(0x10a));}}async function validateOrders(_0x540ec5){const _0x3c7fc4=_0x326e1c;if(_0x540ec5)validateOrdersState=_0x540ec5;logger['debug'](_0x3c7fc4(0xed)+validateOrdersState+_0x3c7fc4(0x17d)+(lockOrders==0x1?_0x3c7fc4(0x1b8):lockOrders==0x2?'ORDERS.UNLOCKING':'ORDERS.UNLOCKED'));let _0x3a7325=[],_0xf6d8fb=config[_0x3c7fc4(0x1c9)]==_0x3c7fc4(0x20e)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3c7fc4(0xea)])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x3c7fc4(0x173)](_0x57a148=>{const _0x52a4e3=_0x3c7fc4;let _0x2a2da8=![];_0x57a148[_0x52a4e3(0x1b0)]>0x0&&(_0x2a2da8=!![]),_0x3a7325[_0x52a4e3(0x16d)](_0x2a2da8),_0x2a2da8&&config[_0x52a4e3(0x1c9)]!=_0x52a4e3(0x20e)&&logHistory(_0x52a4e3(0x117),_0x52a4e3(0x14b)+_0x57a148[_0x52a4e3(0x98)]+'\x20'+_0x57a148['side']+'\x20#'+formatResult(_0x57a148[_0x52a4e3(0x1b0)],0x8)+'\x20@'+formatResult(_0x57a148[_0x52a4e3(0x110)],0x8));}),_0x3a7325[_0x3c7fc4(0x173)]((_0x32ed79,_0x35697b)=>{if(_0x32ed79)lastOrders['splice'](_0x35697b,0x1);}),persistOpenOrders(lastOrders);const _0x29d4a5=coolingDown?_0x3c7fc4(0x152):_0x3c7fc4(0x9e);if(validateOrdersState=='initial'){validateOrdersState=_0x3c7fc4(0x119);if(_0x3a7325[_0x3c7fc4(0x1ed)](![])){if(config[_0x3c7fc4(0x1c9)]==_0x3c7fc4(0x20e)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x3c7fc4(0x119)){if(_0x3a7325[_0x3c7fc4(0x1ed)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x3c7fc4(0x20e)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x3c7fc4(0xcd))_0x3a7325[_0x3c7fc4(0x1ed)](![])&&(config[_0x3c7fc4(0x1c9)]=='market'?logHistory(_0x3c7fc4(0x9b),_0x3c7fc4(0xbf)+Math[_0x3c7fc4(0x137)](_0xf6d8fb*validateOrderInterval/0xea60)+_0x3c7fc4(0x162)+_0x29d4a5):(await cancelOrders(),logHistory(_0x3c7fc4(0x9b),_0x3c7fc4(0x18c)+Math[_0x3c7fc4(0x137)](_0xf6d8fb*validateOrderInterval/0xea60)+_0x3c7fc4(0x162)+_0x29d4a5))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x3c7fc4(0x1c9)]!=_0x3c7fc4(0x20e))logHistory('success',_0x3c7fc4(0x1a4)+_0x29d4a5);await unlockOrders();}}}}}async function cancelOrders(){const _0x337264=_0x326e1c;lastOrders[_0x337264(0x173)](async _0x57d10e=>{const _0x2849dc=_0x337264;try{const _0x300e40=await exchange[_0x2849dc(0x1be)](_0x57d10e[_0x2849dc(0x182)],_0x57d10e[_0x2849dc(0x98)]);}catch(_0x400d0c){if(_0x400d0c['toString']()[_0x2849dc(0x1ed)](_0x2849dc(0x18f))){}else await handleError(_0x400d0c,_0x2849dc(0xcb));}});}async function initCoinResults(_0x3aa9b6){const _0x1decb0=_0x326e1c;_0x3aa9b6?logger['debug'](_0x1decb0(0xa0)+_0x3aa9b6):logger[_0x1decb0(0x1b9)](_0x1decb0(0x15c)),config[_0x1decb0(0xc3)][_0x1decb0(0x173)](_0x59ab71=>{const _0x5251d9=_0x1decb0;if(!_0x59ab71[_0x5251d9(0xe6)]&&_0x59ab71['coin']!=config[_0x5251d9(0x212)]){const _0x5a4f49=currentCoins[_0x5251d9(0xee)](_0x4501d0=>_0x4501d0[_0x5251d9(0x190)]==_0x59ab71['coin']),_0x2d0979=global[_0x5251d9(0x17e)][noslash(_0x59ab71[_0x5251d9(0x98)])];let _0x334f5d=_0x5a4f49?_0x5a4f49[_0x5251d9(0x9f)]:null,_0x46ad7f=_0x59ab71[_0x5251d9(0x1e5)]?0x1/_0x2d0979:_0x2d0979,_0x17bb10;config[_0x5251d9(0x16e)][_0x5251d9(0x173)](_0x5b31b9=>{const _0x5bd2c3=_0x5251d9;!_0x17bb10&&(_0x17bb10=_0x5b31b9[_0x5bd2c3(0xe2)][_0x5bd2c3(0xee)](_0x5d3227=>_0x5d3227[_0x5bd2c3(0x190)]==_0x59ab71[_0x5bd2c3(0x190)]),_0x17bb10&&(_0x334f5d=_0x17bb10['number'],_0x46ad7f=_0x17bb10[_0x5bd2c3(0x110)]));});let _0x1626c0=dbCoinResults[_0x5251d9(0x1e8)](_0x5251d9(0x164))['find']({'coin':_0x59ab71[_0x5251d9(0x190)]})[_0x5251d9(0x106)]();if(!_0x1626c0){const _0x317187={'coin':_0x59ab71['coin'],'number':_0x334f5d,'breakeven':_0x46ad7f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x5251d9(0x164))[_0x5251d9(0x16d)](_0x317187)[_0x5251d9(0x17a)]();}else{if(_0x3aa9b6&&_0x59ab71[_0x5251d9(0x190)]==_0x3aa9b6){const _0xc34a01={'coin':_0x59ab71['coin'],'number':_0x334f5d,'breakeven':_0x46ad7f,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x5251d9(0x164))[_0x5251d9(0xee)]({'coin':_0x59ab71[_0x5251d9(0x190)]})[_0x5251d9(0x180)](_0xc34a01)[_0x5251d9(0x17a)]();}}}});}async function updateCoinResults(_0x58ca04,_0x48606c=![]){const _0x1e8f22=_0x326e1c;let _0x4a8184,_0x590ced,_0x5ac19a,_0x491be9,_0x54f0b6,_0x4cb103,_0x2e50fd=dbCoinResults['get'](_0x1e8f22(0x164))[_0x1e8f22(0xee)]({'coin':_0x58ca04[_0x1e8f22(0x190)]})[_0x1e8f22(0x106)](),_0x47efd6=![];Object[_0x1e8f22(0xae)](_0x2e50fd)[_0x1e8f22(0x173)](([_0x1f4446,_0x2d6d68])=>{if(_0x2d6d68==null)_0x47efd6=!![];});(!_0x2e50fd||_0x47efd6)&&(await initCoinResults(_0x58ca04[_0x1e8f22(0x190)]),_0x2e50fd=dbCoinResults[_0x1e8f22(0x1e8)](_0x1e8f22(0x164))['find']({'coin':_0x58ca04[_0x1e8f22(0x190)]})[_0x1e8f22(0x106)]());_0x58ca04[_0x1e8f22(0x1e5)]&&(_0x4cb103={'filled':_0x58ca04['filled']*_0x58ca04['price'],'amount':_0x58ca04[_0x1e8f22(0x1b0)]*_0x58ca04['price'],'side':_0x58ca04[_0x1e8f22(0x145)]=='sell'?'buy':_0x1e8f22(0xa3),'price':0x1/_0x58ca04[_0x1e8f22(0x110)]},_0x58ca04={..._0x58ca04,..._0x4cb103});_0x48606c?_0x590ced=_0x58ca04[_0x1e8f22(0x145)]=='buy'?_0x2e50fd[_0x1e8f22(0x9f)]+_0x58ca04['filled']:_0x2e50fd['number']-_0x58ca04['filled']:_0x590ced=await getCoinNumber(_0x58ca04['coin']);if(_0x58ca04[_0x1e8f22(0x17b)]&&_0x58ca04['fee']['currency']==config[_0x1e8f22(0x212)])_0x4a8184=_0x58ca04[_0x1e8f22(0x17b)][_0x1e8f22(0x18a)];else{if(_0x58ca04[_0x1e8f22(0x17b)]&&_0x58ca04[_0x1e8f22(0x17b)]['currency']==_0x1e8f22(0x14e)&&!_0x48606c)_0x4a8184=_0x58ca04[_0x1e8f22(0x17b)][_0x1e8f22(0x18a)]*global[_0x1e8f22(0x17e)][_0x1e8f22(0x14e)+config[_0x1e8f22(0x212)]];else _0x4a8184=defaultFee*_0x58ca04['filled']*_0x58ca04[_0x1e8f22(0x110)];}_0x58ca04[_0x1e8f22(0x145)]==_0x1e8f22(0x1c0)?(_0x5ac19a=_0x590ced!=0x0?(_0x2e50fd[_0x1e8f22(0x193)]*_0x2e50fd[_0x1e8f22(0x9f)]+_0x58ca04[_0x1e8f22(0x110)]*(_0x590ced-_0x2e50fd[_0x1e8f22(0x9f)])+_0x4a8184)/_0x590ced:0x0,_0x491be9=_0x2e50fd[_0x1e8f22(0xba)]):(_0x5ac19a=_0x590ced!=0x0?(_0x2e50fd[_0x1e8f22(0x193)]*_0x2e50fd[_0x1e8f22(0x9f)]-_0x58ca04[_0x1e8f22(0x110)]*(_0x2e50fd[_0x1e8f22(0x9f)]-_0x590ced)+_0x4a8184)/_0x590ced:0x0,_0x491be9=_0x2e50fd[_0x1e8f22(0xba)]+(_0x58ca04[_0x1e8f22(0x110)]-_0x2e50fd[_0x1e8f22(0x193)])*_0x58ca04[_0x1e8f22(0x1b0)]);_0x54f0b6=(_0x58ca04['price']-_0x5ac19a-_0x4a8184/_0x58ca04[_0x1e8f22(0x1b0)])*_0x590ced;let _0x5c9262={'coin':_0x58ca04[_0x1e8f22(0x190)],'number':_0x590ced,'breakeven':formatResult(_0x5ac19a,0x8),'realized':formatResult(_0x491be9,0x8),'unrealized':formatResult(_0x54f0b6,0x8),'fees':formatResult(_0x2e50fd[_0x1e8f22(0x1df)]+_0x4a8184,0x8),'sells':_0x58ca04[_0x1e8f22(0x145)]==_0x1e8f22(0xa3)?_0x2e50fd['sells']+0x1:_0x2e50fd['sells'],'buys':_0x58ca04[_0x1e8f22(0x145)]==_0x1e8f22(0x1c0)?_0x2e50fd[_0x1e8f22(0x128)]+0x1:_0x2e50fd['buys']};dbCoinResults[_0x1e8f22(0x1e8)](_0x1e8f22(0x164))[_0x1e8f22(0xee)]({'coin':_0x58ca04[_0x1e8f22(0x190)]})[_0x1e8f22(0x180)](_0x5c9262)['write']();if(!_0x48606c){if(_0x58ca04[_0x1e8f22(0x17b)]&&_0x58ca04[_0x1e8f22(0x17b)][_0x1e8f22(0x155)]==_0x1e8f22(0x14e)){const _0xc0d1b5=currentCoins['find'](_0x1ec96f=>_0x1ec96f['coin']==_0x1e8f22(0x14e));if(_0xc0d1b5){let _0x1444fc=dbCoinResults['get'](_0x1e8f22(0x164))[_0x1e8f22(0xee)]({'coin':'BNB'})['value']();_0x5c9262={..._0x1444fc,'number':_0xc0d1b5[_0x1e8f22(0x9f)]},dbCoinResults[_0x1e8f22(0x1e8)](_0x1e8f22(0x164))[_0x1e8f22(0xee)]({'coin':_0x1e8f22(0x14e)})['assign'](_0x5c9262)['write']();}}}}async function placeOrder(_0x5dc2e9){const _0xe6bb=_0x326e1c,_0x3b9cef=config[_0xe6bb(0x1c9)]=='market'?_0xe6bb(0x20e):_0xe6bb(0x194);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0xe6bb(0xea)],allOrdersPlaced=![],validateOrdersState=_0xe6bb(0x207);let _0xfb19d4=![];lastOrders=[];for(const _0x51ab53 of _0x5dc2e9){let _0x4c8893,_0x517315,_0x3bf2eb,_0x1c7a3f,_0x565820,_0x1da177=_0x51ab53[_0xe6bb(0x98)];try{const _0x2b2f81=await exchange[_0xe6bb(0x1c1)](_0x1da177);_0x4c8893=_0x51ab53[_0xe6bb(0x1e5)]?0x1/_0x51ab53[_0xe6bb(0x20a)]:_0x51ab53['last'],_0x517315=_0x2b2f81[_0xe6bb(0x178)],_0x3bf2eb=_0x2b2f81[_0xe6bb(0xf6)];_0x51ab53[_0xe6bb(0x1e5)]?(_0x1c7a3f=_0x51ab53[_0xe6bb(0x145)]==_0xe6bb(0x1c0)?_0xe6bb(0xa3):_0xe6bb(0x1c0),_0x565820=Math[_0xe6bb(0x121)](_0x51ab53[_0xe6bb(0x1e6)])/_0x4c8893):(_0x1c7a3f=_0x51ab53[_0xe6bb(0x145)],_0x565820=Math[_0xe6bb(0x121)](_0x51ab53[_0xe6bb(0x1e6)]));_0x3b9cef==_0xe6bb(0x194)&&(config[_0xe6bb(0x1c9)]==_0xe6bb(0xac)&&(_0x4c8893=_0x1c7a3f=='buy'?_0x517315:_0x3bf2eb),config[_0xe6bb(0x1c9)]==_0xe6bb(0x148)&&(_0x4c8893=_0x1c7a3f==_0xe6bb(0x1c0)?_0x3bf2eb:_0x517315));_0x565820=formatResult(_0x565820,0x8),_0x4c8893=formatResult(_0x4c8893,0x8);const _0x59d3e8=_0x1c7a3f==_0xe6bb(0xa3)?config['emojisell']?String['fromCodePoint']('0x'+config[_0xe6bb(0xb3)])+'\x20':'':config[_0xe6bb(0x203)]?String[_0xe6bb(0x1bb)]('0x'+config[_0xe6bb(0x203)])+'\x20':'',_0x1607ca=_0x3b9cef==_0xe6bb(0x20e)?_0xe6bb(0x158):config[_0xe6bb(0x1c9)]==_0xe6bb(0xac)?_0xe6bb(0x15b):'Limit\x20(low-margin)',_0x5b0e29=(Math['floor'](Math[_0xe6bb(0x167)]()*0x35a4e900)+0x5f5e100)[_0xe6bb(0x13d)]();lastOrders['push']({'customId':_0x5b0e29,'symbol':_0x1da177,'coin':_0x51ab53[_0xe6bb(0x190)],'amount':_0x565820,'price':_0x4c8893,'side':_0x1c7a3f,'reverse':_0x51ab53[_0xe6bb(0x1e5)],'filled':0x0});if(_0x3b9cef==_0xe6bb(0x20e))logHistory(_0xe6bb(0x117),''+_0x59d3e8+_0x1607ca+'\x20order:\x20'+_0x1da177+'\x20'+_0x1c7a3f+'\x20#'+formatResult(_0x565820,0x8)+'\x20@'+formatResult(_0x4c8893,0x8));else logHistory(_0xe6bb(0x117),''+_0x59d3e8+_0x1607ca+_0xe6bb(0x13a)+_0x1da177+'\x20'+_0x1c7a3f+'\x20#'+formatResult(_0x565820,0x8)+'\x20@'+formatResult(_0x4c8893,0x8));const _0x4524b8=await exchange[_0xe6bb(0x11b)](_0x1da177,_0x3b9cef,_0x1c7a3f,_0x565820,_0x4c8893);logger[_0xe6bb(0x1b9)](_0xe6bb(0xd7)+_0x4524b8['id']+_0xe6bb(0xdb)+_0x5b0e29);const _0x4e99bf=lastOrders[_0xe6bb(0x18e)]-0x1;if(_0x4e99bf>=0x0&&lastOrders[_0x4e99bf][_0xe6bb(0x11d)]==_0x5b0e29){lastOrders[_0x4e99bf][_0xe6bb(0x182)]=_0x4524b8['id'];if(_0x4524b8['amount'])lastOrders[_0x4e99bf]['amount']=_0x4524b8[_0xe6bb(0xef)];if(_0x4524b8[_0xe6bb(0x110)])lastOrders[_0x4e99bf]['price']=_0x4524b8[_0xe6bb(0x110)];lastOrders[_0x4e99bf][_0xe6bb(0x17b)]=_0x4524b8[_0xe6bb(0x17b)];}if(config[_0xe6bb(0x196)]!=0x0){let _0x3e252d=null;if(cooldownTracker[_0xe6bb(0x18e)]==config['cooldown']-0x1)_0x3e252d=cooldownTracker[_0xe6bb(0xdf)]();const _0x2ce00c=getTimeStamp();cooldownTracker[_0xe6bb(0x16d)](_0x2ce00c);if(_0x3e252d){const _0x381622=fns['differenceInSeconds'](new Date(_0x2ce00c),new Date(_0x3e252d));if(_0x381622<cooldownInterval){logHistory(_0xe6bb(0xfa),_0xe6bb(0x15e)+config['cooldown']+_0xe6bb(0x1c7)+cooldownInterval/0x3c+_0xe6bb(0x213)+cooldownPeriod/(0xe10*0x3e8)+_0xe6bb(0x13c)),coolingDown=!![];break;}}}}catch(_0x240178){if(_0x240178[_0xe6bb(0x13d)]()[_0xe6bb(0x1ed)](_0xe6bb(0x1ba)))lastOrders=lastOrders[_0xe6bb(0x129)](_0x44ae31=>_0x44ae31['symbol']!=_0x1da177),logHistory('error',_0xe6bb(0x21a)+_0x1da177),_0xfb19d4=!![];else{if(_0x240178[_0xe6bb(0x13d)]()['includes'](_0xe6bb(0x10e)))lastOrders=lastOrders['filter'](_0x25c85b=>_0x25c85b[_0xe6bb(0x98)]!=_0x1da177),logHistory(_0xe6bb(0xfa),_0xe6bb(0x1e2)+_0x1da177),_0xfb19d4=!![];else{if(_0x240178[_0xe6bb(0x13d)]()[_0xe6bb(0x1ed)]('InvalidOrder'))lastOrders=lastOrders['filter'](_0x5d4d90=>_0x5d4d90['symbol']!=_0x1da177),logHistory(_0xe6bb(0xfa),'Order\x20is\x20invalid:\x20'+_0x1da177),_0xfb19d4=!![];else _0x240178[_0xe6bb(0x13d)]()[_0xe6bb(0x1ed)](_0xe6bb(0x1f4))?(lastOrders=lastOrders[_0xe6bb(0x129)](_0x42c2b1=>_0x42c2b1[_0xe6bb(0x98)]!=_0x1da177),logHistory(_0xe6bb(0xfa),_0xe6bb(0x21a)+_0x1da177),_0xfb19d4=!![]):(lastOrders=lastOrders[_0xe6bb(0x129)](_0x2e6ec8=>_0x2e6ec8['symbol']!=_0x1da177),await handleError(_0x240178,_0xe6bb(0x135),_0x1da177));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x9d19ce=config['ordertype']==_0xe6bb(0x20e)?validateOrderTimeout*0x3c*0x3e8:config[_0xe6bb(0x12b)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5ea08a=_0xe6bb;validateOrders(_0x5ea08a(0xcd));},_0x9d19ce);}else unlockOrders();_0xfb19d4&&config[_0xe6bb(0x10c)]&&await pauseBot(_0xe6bb(0x1f9)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0xe6bb(0x9b),_0xe6bb(0x183)));}else{if(coolingDown)!config[_0xe6bb(0x10c)]&&logHistory(_0xe6bb(0xfa),_0xe6bb(0x12d));else lockOrders!=ORDERS[_0xe6bb(0x104)]&&(!config[_0xe6bb(0x10c)]&&(config[_0xe6bb(0x1c9)]==_0xe6bb(0x20e)?logHistory(_0xe6bb(0xfa),_0xe6bb(0x11c)):logHistory(_0xe6bb(0xfa),_0xe6bb(0x197))));}}function persistOpenOrders(_0x3a6f6c){const _0x29f7ea=_0x326e1c,_0x2b6c96={...config,'openOrders':_0x3a6f6c};let _0x3b0710=dbConfig[_0x29f7ea(0x1e8)](_0x29f7ea(0x1f6))[_0x29f7ea(0xee)]({'botID':botID})[_0x29f7ea(0x106)]();_0x3b0710&&dbConfig['get'](_0x29f7ea(0x1f6))['find']({'botID':botID})[_0x29f7ea(0x180)](_0x2b6c96)[_0x29f7ea(0x17a)]();}function restoreOrders(){const _0x2793b0=_0x326e1c;let _0x3d3b0c;config['openOrders']&&allOpenOrders[_0x2793b0(0x173)](_0x18f411=>{const _0x1e1440=_0x2793b0,_0x153602=config[_0x1e1440(0xa7)][_0x1e1440(0xee)](_0x101205=>_0x101205[_0x1e1440(0x182)]==_0x18f411['id']);_0x153602&&(lastOrders[_0x1e1440(0x16d)](_0x153602),_0x3d3b0c=_0x18f411['timestamp']);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x2793b0(0xea)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x4deb93=new Date()[_0x2793b0(0x1f2)](),_0x375181=config[_0x2793b0(0x1c9)]==_0x2793b0(0x20e)?validateOrderTimeout*0x3c*0x3e8:config[_0x2793b0(0x12b)]*0x3c*0x3e8;if(_0x3d3b0c+_0x375181>_0x4deb93){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x3d3b0c+_0x375181-_0x4deb93);}else validateOrders(_0x2793b0(0xcd));}}async function sendMetricsTelegram(){const _0x5cd0c7=_0x326e1c;if(!coinsLoaded){process[_0x5cd0c7(0xb1)]({'telegrammsg':_0x5cd0c7(0x219)},_0x685a16=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x447cca='';if(config[_0x5cd0c7(0xd5)])_0x447cca='<b>'+config['botname']+_0x5cd0c7(0x120);else _0x447cca=_0x5cd0c7(0x122)+botID+_0x5cd0c7(0x120);const _0xce65a9=getKPIs('basecoin'),_0x44eb49=getKPIs(_0x5cd0c7(0x1de),config[_0x5cd0c7(0x1de)]),_0x5b9821=getKPIs(_0x5cd0c7(0x1b7)),_0x8d67aa=getKPIs(_0x5cd0c7(0x20f),config[_0x5cd0c7(0x1de)]);_0x447cca+=_0x5cd0c7(0x13f),_0x447cca+=_0xce65a9['leftTxt']+'\x20:\x20'+_0xce65a9[_0x5cd0c7(0x106)]+'\x0a',_0x447cca+=_0xce65a9[_0x5cd0c7(0x1ea)]+':\x20'+_0xce65a9[_0x5cd0c7(0x175)]+'%\x0a',_0x447cca+=_0x44eb49['leftTxt']+_0x5cd0c7(0x1eb)+_0x44eb49['value']+'\x0a',_0x447cca+=_0x44eb49[_0x5cd0c7(0x1ea)]+':\x20'+_0x44eb49[_0x5cd0c7(0x175)]+'%\x0a',_0x447cca+=_0x5b9821[_0x5cd0c7(0x114)]+':\x20'+_0x5b9821[_0x5cd0c7(0x106)]+'\x20('+config[_0x5cd0c7(0x212)]+')\x0a',_0x447cca+=_0x5b9821['rightTxt']+':\x20'+_0x5b9821[_0x5cd0c7(0x175)]+_0x5cd0c7(0x1d4)+config[_0x5cd0c7(0x212)]+')\x0a',_0x447cca+=_0x8d67aa[_0x5cd0c7(0x114)]+':\x20'+_0x8d67aa['value']+'\x20('+config['fiat']+')\x0a',_0x447cca+=_0x8d67aa[_0x5cd0c7(0x1ea)]+':\x20'+_0x8d67aa[_0x5cd0c7(0x175)]+_0x5cd0c7(0x1d4)+config[_0x5cd0c7(0x1de)]+')\x0a',_0x447cca+='</pre>',process['send']({'telegrammsg':_0x447cca},_0x43af04=>{});}async function sendPortfolioTelegram(){const _0x4d7ef0=_0x326e1c;if(!coinsLoaded){process[_0x4d7ef0(0xb1)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x50321e=>{});return;}let _0x571468='';if(config['showname'])_0x571468='<b>'+config[_0x4d7ef0(0xa8)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x571468=_0x4d7ef0(0x122)+botID+_0x4d7ef0(0xab);_0x571468+='<pre>',_0x571468+=_0x4d7ef0(0x1cb),_0x571468+=_0x4d7ef0(0x1f3),_0x571468+=_0x4d7ef0(0x1cb),currentCoins[_0x4d7ef0(0x173)](_0x5838e6=>{const _0x102108=_0x4d7ef0;_0x571468+=_0x5838e6[_0x102108(0x190)]['padEnd'](0x7)+'|\x20'+formatPad(_0x5838e6[_0x102108(0x206)],0x2,0x6)+'|\x20'+formatPad(_0x5838e6[_0x102108(0x123)],0x2,0x6)+'|\x20'+formatPad(_0x5838e6[_0x102108(0x1a9)]*0x64,0x2,0x6)+'\x0a';}),_0x571468+=_0x4d7ef0(0x171),process[_0x4d7ef0(0xb1)]({'telegrammsg':_0x571468},_0x50ea9b=>{});}function formatPad(_0x39470f,_0x7a9478,_0x7f6ad7){const _0x53cd91=_0x326e1c,_0x487c57=formatResultString(_0x39470f,_0x7a9478);return _0x487c57?_0x487c57[_0x53cd91(0x1fb)](_0x7f6ad7):''[_0x53cd91(0x1fb)](_0x7f6ad7);}function logHistory(_0x4e2d07,_0x4f7ef3,_0x28b8bc=''){const _0x144deb=_0x326e1c;let _0x5c7cf3={'time':getTimeStamp(),'type':_0x4e2d07,'event':_0x4f7ef3};dbLogs['get'](_0x144deb(0x1ee))[_0x144deb(0x16d)](_0x5c7cf3)[_0x144deb(0x17a)]();if(_0x28b8bc=='')_0x28b8bc=_0x4f7ef3;proxyEmit(_0x144deb(0x1ad),{'log':_0x5c7cf3,'summary':_0x28b8bc}),process[_0x144deb(0xb1)]({'telegram':{..._0x5c7cf3,'botname':config[_0x144deb(0xa8)],'showname':config[_0x144deb(0xd5)]}},_0x22f657=>{}),logger[_0x144deb(0x211)](''+_0x5c7cf3[_0x144deb(0x1ad)]);}function emitHistory(_0x1d9503={}){const _0x187453=_0x326e1c;Object[_0x187453(0x102)](_0x1d9503)[_0x187453(0x18e)]==0x0&&(_0x1d9503={'type':[_0x187453(0x117),_0x187453(0x1ad)],'event':'','page':0x1});if(_0x1d9503[_0x187453(0xce)][_0x187453(0x1ed)](_0x187453(0x1ad)))_0x1d9503[_0x187453(0xce)][_0x187453(0xc4)](_0x1d9503['type']['indexOf'](_0x187453(0x1ad)),0x1,'error',_0x187453(0xc8),_0x187453(0x9b));if(dbLogs[_0x187453(0x1ae)]('logs')['value']()){let _0x3b1bf4=dbLogs[_0x187453(0x1e8)](_0x187453(0x1ee))[_0x187453(0x129)](_0x42290a=>{const _0x13cbf8=_0x187453;if(_0x1d9503[_0x13cbf8(0xce)]['length']==0x0)return![];else return _0x1d9503[_0x13cbf8(0xce)][_0x13cbf8(0x1ed)](_0x42290a[_0x13cbf8(0xce)]);})[_0x187453(0x129)](_0x55caea=>{const _0x23b072=_0x187453;if(_0x1d9503[_0x23b072(0x1ad)]=='')return!![];else return _0x55caea[_0x23b072(0x1ad)]['toLowerCase']()['includes'](_0x1d9503[_0x23b072(0x1ad)][_0x23b072(0xf1)]());})[_0x187453(0x1c8)](_0x187453(0x195)),_0x214b07=_0x3b1bf4['value']()[_0x187453(0x18e)];_0x3b1bf4=_0x3b1bf4[_0x187453(0x1e5)]()[_0x187453(0xe9)]((_0x1d9503[_0x187453(0x1ce)]-0x1)*logPageSize,_0x1d9503[_0x187453(0x1ce)]*logPageSize-0x1)[_0x187453(0x1e5)]()['value'](),proxyEmit('event-history',{'logs':_0x3b1bf4,'total':_0x214b07});}else proxyEmit(_0x187453(0x143),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x8fe2ab){const _0x7832f7=_0x326e1c;if(dbLogs[_0x7832f7(0x1ae)](_0x7832f7(0x1ee))['value']()){const _0x59120a=dbLogs[_0x7832f7(0x1e8)]('logs')[_0x7832f7(0x1c8)](_0x7832f7(0x195))[_0x7832f7(0x129)](_0x1408e8=>{const _0x7e2ee2=_0x7832f7;return _0x1408e8[_0x7e2ee2(0xce)]==_0x7e2ee2(0x117);})[_0x7832f7(0x106)]();dbLogs[_0x7832f7(0x1e8)](_0x7832f7(0x1ee))[_0x7832f7(0xe3)]()['write'](),dbLogs['get'](_0x7832f7(0x1ee))[_0x7832f7(0x180)](_0x59120a)[_0x7832f7(0x17a)](),emitHistory(_0x8fe2ab);}}async function pauseBot(_0x154e07=''){const _0x413e3b=_0x326e1c,_0x2f50ab=new Date()[_0x413e3b(0x1f2)]();if(!lastErrorShown||_0x2f50ab-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x2f50ab;!lastBotPause?(lastBotPause=_0x2f50ab,consecutivePauses=0x1):(_0x2f50ab-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x413e3b(0xb1)]({'stop':'restart'},_0x13e30c=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x413e3b(0x1f2)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x154e07)_0x154e07+=_0x413e3b(0x1da);logHistory(_0x413e3b(0xfa),_0x154e07+_0x413e3b(0x1a8)+pauseBotInterval/0xea60+_0x413e3b(0x16b)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x3746cd=_0x326e1c;process[_0x3746cd(0xb1)]({'stop':_0x3746cd(0x1fa)},_0x621bb4=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x9eefcb,_0x549306){const _0x517b93=_0x326e1c;if(_0x9eefcb[_0x517b93(0x13d)]()[_0x517b93(0x1ed)]('API-key\x20format\x20invalid'))return logHistory('error',config[_0x517b93(0xe0)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x9eefcb[_0x517b93(0x13d)]()[_0x517b93(0x1ed)](_0x517b93(0xf2)))return logHistory('error',config[_0x517b93(0xe0)]+_0x517b93(0x12f)),![];else{if(_0x9eefcb[_0x517b93(0x13d)]()[_0x517b93(0x1ed)](_0x517b93(0x11f)))return logHistory(_0x517b93(0xfa),config[_0x517b93(0xe0)]+_0x517b93(0x99)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x9eefcb,_0x549306);}}}function _0x5747(){const _0x152edc=['orderId','Cooldown\x20ended\x20-\x20balancing\x20resumed','average','restart','log','format','defaults','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','cost','toFixed','Unfilled\x20order(s)\x20canceled\x20after\x20','amountToPrecision','length','OrderNotFound','coin','parse','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','breakeven','limit','time','cooldown','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','getHours','fetchClosedOrders','close','lowdb/adapters/FileSync','\x20|\x20highest\x20fee:\x20','closed','./config/','remainingSymbols','2\x20-\x20FILLED\x20known\x20order:\x20','running','************','argv','No\x20more\x20open\x20orders\x20-\x20','Binance','Net\x20','apiPassword','Pausing\x20for\x20','delta','performance','writeFile','createWriteStream','event','has',':\x20timer\x20>','filled','1\x20-\x20Unlock\x20orders','toggleBotMode','Uncaught\x20Exception:','Invalid\x20API\x20key\x20or\x20secret\x20entered','bots','\x20API\x20key\x20is\x20invalid','net-basecoin','ORDERS.LOCKED','debug','MIN_NOTIONAL','fromCodePoint','9qWHBcC','stringify','cancelOrder','\x20change','buy','fetchTicker','map','function','storeHeadless','yyyy-MM-dd\x27T\x27HH:mm:ss','status','\x20orders\x20in\x20less\x20than\x20','sortBy','ordertype','message','-------------------------------\x0a','.json','getFullYear','page','botID','Error:\x20Invalid\x20argument\x20','DDoSProtection','6433974CnSjpc','additional\x20symbols\x20','%\x20(','util','recreateCoinResults()','highest','/EUR','cloneDeep','\x20|\x20','enabled','getOpenOrders()','settings','fiat','fees','startnumber','set','Order\x20amount\x20is\x20invalid:\x20','-performance.json','version','reverse','trade','\x20value','get','2.3.5','rightTxt','\x20:\x20','concat','includes','logs','colorscheme','offset','storeConfiguration','getTime','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','must\x20be\x20greater\x20than\x20minimum\x20amount','Uncaught\x20ExchangeError:','bot','cancelLoading','watchTrades','Avoiding\x20continuous\x20order\x20attempts','kill','padStart','cancel','getCoinNumber()','InsufficientFunds','0\x20-\x20EXECUTION:\x20','substring','valid','sort','emojibuy','timeshift','limits','distribution','initial','-events.json','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','last','fetchBalance','BNB/','\x20not\x20responding','market','net-fiat','Bot\x20','full','basecoin','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','datetime','red_yellow_blue','add','loadSymbols()','constructor','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','getCoins()','orderstatus','getMinutes','(((.+)+)+)+$','symbol','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','Crypt','success','data','autoliquidity','balancing\x20resumed','number','Resetting\x20coin\x20results:\x20','starting-balances','added','sell','unlinkSync','Net\x20effect','apiKey','openOrders','botname','decrypt','spot','\x20portfolio:</b>\x20\x0a\x0a','limit-high','max','entries','startprice','sha256','send','ExchangeError','emojisell','Executing\x20exchange\x20reload','bb-secure.json','emitHistory','join','configuration','\x20>\x20','realized','2.6.0','sendPortfolioTelegram','-results.json','getPortfolio(1)','Order(s)\x20not\x20validated\x20after\x20','uncaughtException','recovery','getSeconds','portfolio','splice','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','split',':\x20Bot\x20','warning','1239405bwcctF','eur','cancelOrders()','replace','final','type','change24h','apply','coin-loading-progress','953813DTUmWH','getDate','exec','showname','recent20','ID:\x20','./logs/','password','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20|\x20Custom\x20ID:\x20','fetchTickers','RSA-OAEP','Failed\x20to\x20load\x20coin\x20data\x20for\x20','shift','exchange','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','changes','remove','path','isEqual','excluded','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','args','slice','LOCKED','mkdirSync','pro','1\x20-\x20Validate\x20orders:\x20','find','amount','indexOf','toLowerCase','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','onepagemode','threshold','***','ask','bb-settings.json','initclient','exchanges','error','\x20API\x20secret\x20is\x20invalid','secure','RequestTimeout','removed','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','yargs/yargs','\x20not\x20available','keys','121ERImos','UNLOCKED','timestamp','value','Fee\x20discount\x20refund\x20detected:\x20','TUSD','BTC','2\x20-\x20Orders\x20unlocked','-config.json','headless','USD','Invalid\x20quantity','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','price','\x20network\x20error','ETH','Initiating\x20exchange\x20reload','leftTxt','RateLimitExceeded','231481ITPPpi','order','canceled','ongoing','001','createOrder','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','customId','startdate','AuthenticationError','\x20metrics:</b>\x20\x0a\x0a','abs','<b>Bot\x20','target','test','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','resetHistory','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','buys','filter','\x20>\x20[DEBUG]\x20','timeout','loadMarkets','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Portfolio\x20change\x20detected:\x20','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','date-fns','no\x20open\x20orders','\x20has\x20a\x2024h\x20drop\x20of\x20','6775312ElqJKj','bot-','placeOrder()','findIndex','round','sendMetricsTelegram','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20order:\x20','Saving\x20configuration','\x20hour','toString','existsSync','<pre>','balances','662135oEqXKM','active','event-history','\x20-\x20bot\x20not\x20started','side','getMonth','date','limit-low','Manual\x20balancing\x20required','netoffset','Order\x20filled:\x20','showConfig','InvalidNonce','BNB','Reset\x20|\x20','\x20exchange','none','balancing\x20resumes\x20when\x20cooldown\x20ends','643930pzBEmI','USDT','currency','yyyy/MM/dd','2\x20-\x20FILLED\x20unknown\x20order:\x20','Market','privateKey','getStartingBalances','Limit\x20(high-margin)','Initializing\x20coin\x20results','28hEaotz','Executed\x20','./version.json','apiSecret','\x20|\x20exchange:\x20','\x20minutes\x20-\x20','watchOrders','coins','Transaction\x20detection\x20unblocked','total','random','EUR','min','Error\x20while\x20deleting\x20files:\x20','\x20minutes','2.5.0','push','liquidity','usd','4ZeARMv','</pre>','deleteHistoryAlerts','forEach','1\x20-\x20FILLED:\x20','change','startsWith','open','bid','UNLOCKING','write','fee','BUSD','\x20|\x20lock\x20orders:\x20','ticker','milliseconds','assign','getPortfolio(2)'];_0x5747=function(){return _0x152edc;};return _0x5747();}async function handleError(_0x27b4ee,_0x33e703,_0x1e8ffe=''){const _0x1bf4e5=_0x326e1c,_0x26a190=config[_0x1bf4e5(0xe0)]||'Exchange';if(_0x27b4ee[_0x1bf4e5(0x13d)]()[_0x1bf4e5(0x1ed)](_0x1bf4e5(0x1d1))||_0x27b4ee['toString']()[_0x1bf4e5(0x1ed)](_0x1bf4e5(0x115)))await pauseBot(config[_0x1bf4e5(0xe0)]+_0x1bf4e5(0xe7));else{if(_0x27b4ee[_0x1bf4e5(0x13d)]()[_0x1bf4e5(0x1ed)]('ExchangeNotAvailable')||_0x27b4ee[_0x1bf4e5(0x13d)]()['includes']('OnMaintenance'))await pauseBot(config[_0x1bf4e5(0xe0)]+_0x1bf4e5(0x101));else{if(_0x27b4ee['toString']()[_0x1bf4e5(0x1ed)](_0x1bf4e5(0xfd)))await pauseBot(config[_0x1bf4e5(0xe0)]+_0x1bf4e5(0x20d));else{if(_0x27b4ee[_0x1bf4e5(0x13d)]()[_0x1bf4e5(0x1ed)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))await pauseBot(config['exchange']+'\x20closed\x20the\x20connection');else{if(_0x27b4ee[_0x1bf4e5(0x13d)]()[_0x1bf4e5(0x1ed)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory('error',_0x33e703+_0x1bf4e5(0xe1)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x27b4ee['toString']()['includes'](_0x1bf4e5(0x14d)))logHistory(_0x1bf4e5(0xfa),_0x33e703+_0x1bf4e5(0x192)),logHistory('error',_0x1bf4e5(0x209)),await killBot();else{if(_0x27b4ee instanceof ccxt['NetworkError'])logger[_0x1bf4e5(0x1b9)]('Uncaught\x20NetworkError:',_0x27b4ee),await pauseBot(config[_0x1bf4e5(0xe0)]+_0x1bf4e5(0x111));else{if(_0x27b4ee['toString']()[_0x1bf4e5(0x1ed)]('API-key\x20format\x20invalid'))logHistory(_0x1bf4e5(0xfa),_0x33e703+_0x1bf4e5(0x1da)+config[_0x1bf4e5(0xe0)]+_0x1bf4e5(0x1b6)),logHistory(_0x1bf4e5(0xfa),_0x1bf4e5(0x209)),await killBot();else{if(_0x27b4ee[_0x1bf4e5(0x13d)]()['includes'](_0x1bf4e5(0xf2)))logHistory('error',_0x33e703+_0x1bf4e5(0x1da)+config[_0x1bf4e5(0xe0)]+_0x1bf4e5(0xfb)),logHistory(_0x1bf4e5(0xfa),_0x1bf4e5(0x209)),await killBot();else{if(_0x27b4ee[_0x1bf4e5(0x13d)]()[_0x1bf4e5(0x1ed)](_0x1bf4e5(0x11f)))logHistory(_0x1bf4e5(0xfa),_0x33e703+_0x1bf4e5(0x1da)+config['exchange']+_0x1bf4e5(0x139)),logHistory(_0x1bf4e5(0xfa),_0x1bf4e5(0x209)),await killBot();else{if(_0x27b4ee[_0x1bf4e5(0x13d)]()['includes'](_0x1bf4e5(0x1fe)))logHistory(_0x1bf4e5(0xfa),_0x33e703+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x1e8ffe);else _0x27b4ee instanceof ccxt[_0x1bf4e5(0xb2)]?(logger[_0x1bf4e5(0x1b9)](_0x1bf4e5(0x1f5),_0x27b4ee),logHistory('error',_0x33e703+_0x1bf4e5(0x1da)+config['exchange']+'\x20exchange\x20error')):(logger[_0x1bf4e5(0x211)](_0x33e703+'\x20|\x20Error\x20details:\x20',_0x27b4ee),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}}}}function formatResult(_0x28abdd,_0x3b37df){return parseFloat(_0x28abdd['toFixed'](_0x3b37df));}function formatResultTruncate(_0x54285b,_0x976e82){const _0x29aa0f=_0x326e1c;let _0xbabab9=formatResultString(_0x54285b,0xa),_0x533f6d=_0xbabab9[_0x29aa0f(0xf0)]('.');return _0x533f6d!=-0x1&&(_0xbabab9=_0xbabab9['slice'](0x0,_0x533f6d+_0x976e82+0x1)),Number(_0xbabab9);}function formatResultString(_0x55ed33,_0x400ddd){const _0x18ffb7=_0x326e1c;let _0x53e6a3;if(!(''+_0x55ed33)[_0x18ffb7(0x1ed)]('e'))_0x53e6a3=+(Math[_0x18ffb7(0x137)](_0x55ed33+'e+'+_0x400ddd)+'e-'+_0x400ddd);else{let _0x4718eb=(''+_0x55ed33)['split']('e'),_0x4a2957='';+_0x4718eb[0x1]+_0x400ddd>0x0&&(_0x4a2957='+'),_0x53e6a3=+(Math['round'](+_0x4718eb[0x0]+'e'+_0x4a2957+(+_0x4718eb[0x1]+_0x400ddd))+'e-'+_0x400ddd);}return Number(_0x53e6a3)[_0x18ffb7(0x18b)](_0x400ddd);}function getServerTime(){const _0x1dbac7=_0x326e1c,_0x2224de=new Date();return _0x2224de['getFullYear']()+'/'+(_0x2224de[_0x1dbac7(0x146)]()+0x1)[_0x1dbac7(0x13d)]()[_0x1dbac7(0x1fb)](0x2,'0')+'/'+_0x2224de[_0x1dbac7(0xd3)]()[_0x1dbac7(0x13d)]()[_0x1dbac7(0x1fb)](0x2,'0')+'\x20'+_0x2224de[_0x1dbac7(0x198)]()[_0x1dbac7(0x13d)]()[_0x1dbac7(0x1fb)](0x2,'0')+':'+_0x2224de[_0x1dbac7(0x96)]()['toString']()[_0x1dbac7(0x1fb)](0x2,'0')+':'+_0x2224de['getSeconds']()[_0x1dbac7(0x13d)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4af082=_0x326e1c,_0x46fa26=shiftedTime();return _0x46fa26[_0x4af082(0x1cd)]()+'/'+(_0x46fa26[_0x4af082(0x146)]()+0x1)['toString']()[_0x4af082(0x1fb)](0x2,'0')+'/'+_0x46fa26[_0x4af082(0xd3)]()[_0x4af082(0x13d)]()['padStart'](0x2,'0')+'\x20'+_0x46fa26[_0x4af082(0x198)]()['toString']()[_0x4af082(0x1fb)](0x2,'0')+':'+_0x46fa26[_0x4af082(0x96)]()[_0x4af082(0x13d)]()[_0x4af082(0x1fb)](0x2,'0')+':'+_0x46fa26[_0x4af082(0xc2)]()[_0x4af082(0x13d)]()[_0x4af082(0x1fb)](0x2,'0');}function getDate(){const _0x2868d0=_0x326e1c,_0x2ad874=shiftedTime();return _0x2ad874[_0x2868d0(0x1cd)]()+'/'+(_0x2ad874['getMonth']()+0x1)[_0x2868d0(0x13d)]()['padStart'](0x2,'0')+'/'+_0x2ad874['getDate']()['toString']()[_0x2868d0(0x1fb)](0x2,'0');}function getHour(){const _0x480712=_0x326e1c,_0x5d3b80=shiftedTime();return _0x5d3b80['getHours']()[_0x480712(0x13d)]()['padStart'](0x2,'0');}function sleep(_0xa8dd5c){return new Promise(_0x13bbe8=>setTimeout(_0x13bbe8,_0xa8dd5c));}function shiftedTime(){const _0x435c3e=_0x326e1c,_0x3a2d07=new Date();let _0x4c8edc=_0x3a2d07;if(config&&config[_0x435c3e(0x204)]!==0x0)_0x4c8edc=fns[_0x435c3e(0x216)](_0x3a2d07,{'hours':config['timeshift']});return _0x4c8edc;}function timer(_0x1e7506){const _0x5e3e0c=_0x326e1c,_0x3e8969=new Date();!lasttime?console[_0x5e3e0c(0x186)](getTimeStamp()+':\x20timer\x20>',_0x1e7506,_0x3e8969):console[_0x5e3e0c(0x186)](getTimeStamp()+_0x5e3e0c(0x1af),_0x1e7506,(_0x3e8969-lasttime)/0x3e8),lasttime=_0x3e8969;}