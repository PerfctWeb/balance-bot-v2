const _0x962735=_0x2860;(function(_0x5103e6,_0xd17d68){const _0x3c8e5b=_0x2860,_0x504d47=_0x5103e6();while(!![]){try{const _0x5d019d=parseInt(_0x3c8e5b(0x234))/0x1*(parseInt(_0x3c8e5b(0x2e2))/0x2)+parseInt(_0x3c8e5b(0x263))/0x3*(parseInt(_0x3c8e5b(0x295))/0x4)+parseInt(_0x3c8e5b(0x2f2))/0x5*(-parseInt(_0x3c8e5b(0x2ea))/0x6)+parseInt(_0x3c8e5b(0x1e8))/0x7*(-parseInt(_0x3c8e5b(0x2d1))/0x8)+parseInt(_0x3c8e5b(0x21a))/0x9+-parseInt(_0x3c8e5b(0x1b5))/0xa+-parseInt(_0x3c8e5b(0x2e1))/0xb*(-parseInt(_0x3c8e5b(0x26e))/0xc);if(_0x5d019d===_0xd17d68)break;else _0x504d47['push'](_0x504d47['shift']());}catch(_0x2812e5){_0x504d47['push'](_0x504d47['shift']());}}}(_0x28f4,0x4567c));const _0x5e7578=function(){let _0x5e2372=!![];return function(_0x3df237,_0x5822b3){const _0x5a9f1b=_0x5e2372?function(){const _0x43cbea=_0x2860;if(_0x5822b3){const _0x5074e4=_0x5822b3[_0x43cbea(0x2fc)](_0x3df237,arguments);return _0x5822b3=null,_0x5074e4;}}:function(){};return _0x5e2372=![],_0x5a9f1b;};}(),_0x27c6f7=_0x5e7578(this,function(){const _0xe41ac6=_0x2860;return _0x27c6f7[_0xe41ac6(0x332)]()['search'](_0xe41ac6(0x249))[_0xe41ac6(0x332)]()[_0xe41ac6(0x252)](_0x27c6f7)[_0xe41ac6(0x2c7)](_0xe41ac6(0x249));});_0x27c6f7();'use strict';const ccxt=require(_0x962735(0x2d2))[_0x962735(0x1f1)],low=require(_0x962735(0x2a2)),FileSync=require(_0x962735(0x2f9)),fs=require('fs'),fns=require(_0x962735(0x260)),Crypt=require(_0x962735(0x1bc))[_0x962735(0x293)],util=require(_0x962735(0x258)),argv=require(_0x962735(0x241))(process['argv'][_0x962735(0x1cb)](0x2))[_0x962735(0x2d3)],path=require(_0x962735(0x1f5));let exchange;global['ticker']={},global['change']={};const usdBasecoins=[_0x962735(0x32b),_0x962735(0x334),_0x962735(0x2d4),'USDT',_0x962735(0x266),_0x962735(0x1ba)],exceptions={'binance':['DAI/','HOT/BTC',_0x962735(0x30c),_0x962735(0x22a),_0x962735(0x306)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x962735(0x2a1)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x962735(0x2b8))[_0x962735(0x2dc)],botID=process['argv'][0x2]||_0x962735(0x200),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x962735(0x1d0)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x962735(0x2d3)][0x3]||'',configpath=userID?_0x962735(0x326)+userID+'/':_0x962735(0x326),logspath=userID?_0x962735(0x1f7)+userID+'/':_0x962735(0x1f7),loggerfile=fs['createWriteStream'](logspath+_0x962735(0x257),{'flags':'a'});!fs[_0x962735(0x2e3)](configpath)&&fs[_0x962735(0x1c8)](configpath);!fs[_0x962735(0x2e3)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+_0x962735(0x323)+botID+_0x962735(0x32e),coinresultsfile=configpath+_0x962735(0x323)+botID+_0x962735(0x2b1),settingsfile=configpath+_0x962735(0x28b),securefile=configpath+_0x962735(0x1e0),configbackuppath=configpath+_0x962735(0x290),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x962735(0x312)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x962735(0x312)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x962735(0x331)]({'coins':[],'version':serverversion})[_0x962735(0x312)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x962735(0x27a),'rsaStandard':_0x962735(0x2bc)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x527497=>{const _0xbecec6=_0x962735;console[_0xbecec6(0x1d0)](_0x527497);},'simple':_0x18d2f8=>{const _0x1b05aa=_0x962735;console[_0x1b05aa(0x1d0)](_0x18d2f8),loggerfile[_0x1b05aa(0x312)](util[_0x1b05aa(0x259)](_0x18d2f8)+'\x0a');},'full':async(_0x1eb468,_0x4708f0='')=>{const _0x38de06=_0x962735;let _0xdf4a86;if(config[_0x38de06(0x2bb)])_0xdf4a86=getTimeStamp()+':\x20'+config[_0x38de06(0x2eb)]+_0x38de06(0x294)+_0x1eb468;else _0xdf4a86=getTimeStamp()+_0x38de06(0x2af)+botID+_0x38de06(0x294)+_0x1eb468;console[_0x38de06(0x1d0)](_0xdf4a86),loggerfile[_0x38de06(0x312)](util['format'](_0xdf4a86)+'\x0a'),_0x4708f0&&(console[_0x38de06(0x1d0)](_0x4708f0),loggerfile[_0x38de06(0x312)](util[_0x38de06(0x259)](_0x4708f0)+'\x0a'));},'debug':async(_0x104448,_0x130479='')=>{const _0x129fdb=_0x962735;let _0x2417b2;if(config[_0x129fdb(0x2bb)])_0x2417b2=getTimeStamp()+':\x20'+config[_0x129fdb(0x2eb)]+_0x129fdb(0x2a8)+_0x104448;else _0x2417b2=getTimeStamp()+_0x129fdb(0x2af)+botID+'\x20>\x20[DEBUG]\x20'+_0x104448;if(debugging)console[_0x129fdb(0x1d0)](_0x2417b2);loggerfile['write'](util[_0x129fdb(0x259)](_0x2417b2)+'\x0a');if(_0x130479){if(debugging)console[_0x129fdb(0x1d0)](_0x130479);loggerfile['write'](util[_0x129fdb(0x259)](_0x130479)+'\x0a');}}};process['on']('uncaughtException',function(_0x3d0d32){const _0xfc94ae=_0x962735;logger[_0xfc94ae(0x2e8)](_0xfc94ae(0x278),_0x3d0d32);});function _0x2860(_0x294834,_0x103685){const _0x503b90=_0x28f4();return _0x2860=function(_0x27c6f7,_0x5e7578){_0x27c6f7=_0x27c6f7-0x1ac;let _0x28f457=_0x503b90[_0x27c6f7];return _0x28f457;},_0x2860(_0x294834,_0x103685);}settings[_0x962735(0x335)]!=config[_0x962735(0x335)]&&updateTimeshift(settings[_0x962735(0x335)]);settings[_0x962735(0x22b)]!=config[_0x962735(0x22b)]&&updateOnepagemode(settings[_0x962735(0x22b)]);process['send']({'started':_0x962735(0x1d4)},_0x5e479e=>{}),initializeProcessListeners();function proxyEmit(_0x4b0571,_0x1d7e69=null){const _0xfbc82e=_0x962735;process[_0xfbc82e(0x2dd)]({'function':_0x4b0571,'args':_0x1d7e69},_0x11aef6=>{});}function initializeProcessListeners(){const _0x47c3aa=_0x962735;process['on'](_0x47c3aa(0x1c9),_0x192956=>{const _0xa680ab=_0x47c3aa;switch(Object['keys'](_0x192956)[0x0]){case _0xa680ab(0x335):_0x192956[_0xa680ab(0x335)]!=undefined&&(settings[_0xa680ab(0x335)]=_0x192956['timeshift'],updateTimeshift(settings[_0xa680ab(0x335)]));break;case _0xa680ab(0x22b):_0x192956[_0xa680ab(0x22b)]!=undefined&&(settings['onepagemode']=_0x192956[_0xa680ab(0x22b)],updateOnepagemode(settings[_0xa680ab(0x22b)]));break;case _0xa680ab(0x1e6):_0x192956['bots']!=undefined&&(bots=JSON[_0xa680ab(0x285)](_0x192956[_0xa680ab(0x1e6)]),proxyEmit(_0xa680ab(0x1e6),bots));break;case _0xa680ab(0x203):switch(_0x192956['function']){case'initclient':initclient();break;case _0xa680ab(0x2d6):toggleBotMode();break;case _0xa680ab(0x20a):emitHistory(_0x192956[_0xa680ab(0x21d)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x192956['args']);break;case _0xa680ab(0x1c2):getPortfolio(_0x192956[_0xa680ab(0x21d)]);break;case _0xa680ab(0x1e2):storeConfiguration(_0x192956[_0xa680ab(0x21d)]);break;case _0xa680ab(0x2f0):storeHeadless(_0x192956[_0xa680ab(0x21d)]);break;case'storeFiat':storeFiat(_0x192956[_0xa680ab(0x21d)]);break;case'resetHistory':resetHistory();break;case _0xa680ab(0x1db):getStartingBalances(getNormalizedPerformance());break;case _0xa680ab(0x28f):placeOrder(_0x192956['args']);break;case _0xa680ab(0x2de):cancelLoading();break;case _0xa680ab(0x204):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x3da8b9=null,_0x11a031=![]){const _0x786e1=_0x962735;logger[_0x786e1(0x2e8)](_0x786e1(0x282)+(_0x3da8b9&&_0x3da8b9['length']>0x0?_0x786e1(0x2cd)+_0x3da8b9[_0x786e1(0x2a7)](','):'no\x20additional\x20symbols')+'\x20|\x20'+(_0x11a031?_0x786e1(0x23e):_0x786e1(0x26f))+'\x20|\x20Exchange:\x20'+config[_0x786e1(0x2f3)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x11a031)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config['apiKey']!=_0x786e1(0x23c)){if(_0x11a031){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x12b90c){handleErrorNoStop(_0x12b90c,_0x786e1(0x2e9));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x3da8b9);const _0x1e6141=await getCoins();[currentCoins,currentCoinsAll]=_0x1e6141,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x786e1(0x2a6)]==0x0&&allOpenOrders[_0x786e1(0x2a6)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x69e2d8=_0x962735;exchangeStopped=!![],await exchange[_0x69e2d8(0x324)]();}async function reloadExchange(){const _0x2205fa=_0x962735;logger['debug'](_0x2205fa(0x305));while(lockOrders!=ORDERS[_0x2205fa(0x2a1)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x2205fa(0x2e8)](_0x2205fa(0x319)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x3ef6f1=config[_0x962735(0x2f3)],_0x26da2c=config[_0x962735(0x288)],_0x3d1de6=config['apiSecret'],_0x19b4e3=config[_0x962735(0x1dc)]){const _0x7c2e20=_0x962735;exchange&&await stopExchange();!supportedExchanges()[_0x7c2e20(0x28e)](_0x3ef6f1)&&(logHistory(_0x7c2e20(0x235),_0x7c2e20(0x333)+_0x3ef6f1+_0x7c2e20(0x304)),killBot());const _0x18b609=ccxt[_0x3ef6f1['toLowerCase']()];exchange=new _0x18b609({'apiKey':_0x26da2c,'secret':_0x3d1de6,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});_0x3ef6f1==_0x7c2e20(0x23d)&&(exchange['options']={'defaultType':'spot'});if(_0x19b4e3)exchange[_0x7c2e20(0x2ce)]=_0x19b4e3;}function setStableCoins(){const _0x5d664a=_0x962735;let _0x2d076d=config[_0x5d664a(0x2e0)]==_0x5d664a(0x214)?'ETH':_0x5d664a(0x2cf),_0x37f777=!allSymbols[_0x5d664a(0x28e)](_0x2d076d+_0x5d664a(0x1e1))?_0x5d664a(0x202):_0x5d664a(0x32b),_0x1fafed=!allSymbols[_0x5d664a(0x28e)](_0x2d076d+'/EUR')?_0x37f777:_0x5d664a(0x218);stablecoins={'eur':{'coin':''+_0x2d076d+_0x1fafed,'symbol':_0x2d076d+'/'+_0x1fafed},'usd':{'coin':''+_0x2d076d+_0x37f777,'symbol':_0x2d076d+'/'+_0x37f777}};}async function initwsCcxt(_0x1973e4){const _0x29cd25=_0x962735;_0x1973e4==null&&(_0x1973e4=[],config['portfolio'][_0x29cd25(0x23a)](_0x420ab5=>{const _0x421db0=_0x29cd25;if(!_0x420ab5[_0x421db0(0x271)]&&_0x420ab5[_0x421db0(0x24b)]!=config[_0x421db0(0x2e0)])_0x1973e4['push'](_0x420ab5[_0x421db0(0x1ef)]);}));if(!_0x1973e4[_0x29cd25(0x28e)](stablecoins['eur'][_0x29cd25(0x1ef)]))_0x1973e4['push'](stablecoins['eur'][_0x29cd25(0x1ef)]);if(!_0x1973e4['includes'](stablecoins[_0x29cd25(0x27e)][_0x29cd25(0x1ef)]))_0x1973e4['push'](stablecoins[_0x29cd25(0x27e)][_0x29cd25(0x1ef)]);if(config['exchange'][_0x29cd25(0x30a)](_0x29cd25(0x238))){if(!_0x1973e4[_0x29cd25(0x28e)](_0x29cd25(0x251)+config[_0x29cd25(0x2e0)]))_0x1973e4['push']('BNB/'+config['basecoin']);}loadCoins(_0x1973e4);const _0x4d103e=async _0x15206c=>{const _0x43bd9f=_0x29cd25,_0x3361c8=await exchange[_0x43bd9f(0x207)](_0x15206c);global[_0x43bd9f(0x1b8)][noslash(_0x3361c8[_0x43bd9f(0x1ef)])]=_0x3361c8[_0x43bd9f(0x244)];while(!![]){if(!botPaused)try{const _0x3f5aa1=await exchange[_0x43bd9f(0x31b)](_0x15206c);global[_0x43bd9f(0x1b8)][noslash(_0x3f5aa1[0x0]['symbol'])]=_0x3f5aa1[0x0][_0x43bd9f(0x2b9)],await sleep(0x3e8);}catch(_0x562d2c){if(!exchangeStopped)await handleError(_0x562d2c,_0x43bd9f(0x31b),_0x15206c);}else await sleep(0x64);}},_0x1e83f1=async _0x560d29=>{const _0x3205ef=_0x29cd25;while(!![]){if(!botPaused)try{const _0x5a68f8=await exchange[_0x3205ef(0x207)](_0x560d29);global[_0x3205ef(0x20c)][_0x5a68f8['symbol']]=_0x5a68f8[_0x3205ef(0x27d)],await sleep(0x3c*0x3e8);}catch(_0x166f75){if(!exchangeStopped)await handleError(_0x166f75,_0x3205ef(0x1c1),_0x560d29);}else await sleep(0x64);}},_0x3d59e3=async()=>{const _0x1391c1=_0x29cd25;while(!![]){if(!botPaused)try{const _0x4b58da=await exchange[_0x1391c1(0x1b2)]();_0x4b58da[_0x1391c1(0x23a)](_0x4b72be=>{updateNumberCoinsCcxt(_0x4b72be);});}catch(_0x51a3dd){if(!exchangeStopped)await handleError(_0x51a3dd,_0x1391c1(0x1b2));}else await sleep(0x64);}};_0x1973e4[_0x29cd25(0x23a)](_0x40111c=>{_0x4d103e(_0x40111c),_0x1e83f1(_0x40111c);}),!wsEventsSet&&(wsEventsSet=!![],_0x3d59e3(),watchTransactions());}async function watchTransactions(){const _0x3b54e9=_0x962735;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x42c528=await getCoins(),[_0x1403ba,_0x15d627]=_0x42c528;let _0x5e626e=[];currentCoins['forEach'](_0x1a83b3=>{const _0x123bb2=_0x2860,_0x284514=_0x1403ba[_0x123bb2(0x277)](_0xeb7def=>_0xeb7def[_0x123bb2(0x24b)]==_0x1a83b3[_0x123bb2(0x24b)]);_0x284514&&(_0x1a83b3[_0x123bb2(0x2a0)]!=_0x284514[_0x123bb2(0x2a0)]&&_0x5e626e[_0x123bb2(0x308)]({'coin':_0x1a83b3['coin'],'symbol':_0x1a83b3['symbol'],'number':Number(formatResult(_0x284514[_0x123bb2(0x2a0)]-_0x1a83b3['number'],0x8))}));});if(_0x5e626e['length']==0x1&&!blockTransactionDetection){if(config[_0x3b54e9(0x2f7)]){logger[_0x3b54e9(0x2e8)](_0x3b54e9(0x232)+lastFees[_0x3b54e9(0x2ef)]+_0x3b54e9(0x296)+lastFees[_0x3b54e9(0x2f5)]);if(!lastFees[_0x3b54e9(0x2ef)]||_0x5e626e[0x0][_0x3b54e9(0x24b)]!=lastFees[_0x3b54e9(0x2ef)]||_0x5e626e[0x0][_0x3b54e9(0x2a0)]>lastFees[_0x3b54e9(0x2f5)]){let _0x4cfb3e;if(_0x5e626e[0x0][_0x3b54e9(0x24b)]!=config[_0x3b54e9(0x2e0)]){let _0xe994bb=global[_0x3b54e9(0x1b8)][noslash(_0x5e626e[0x0]['symbol'])];_0x4cfb3e=_0x5e626e[0x0][_0x3b54e9(0x310)]?0x1/_0xe994bb:_0xe994bb;}else _0x4cfb3e=0x1;_0x5e626e[0x0]['price']=_0x4cfb3e,delete _0x5e626e[0x0]['symbol'];let _0x52574e=[],_0x428d74=[...config['liquidity']]||[],_0x32c2fd=config['liquidity'];_0x428d74[_0x3b54e9(0x219)]((_0x354573,_0x332fac)=>_0x354573['date']>_0x332fac[_0x3b54e9(0x24f)]?-0x1:_0x332fac[_0x3b54e9(0x24f)]>_0x354573[_0x3b54e9(0x24f)]?0x1:0x0);const _0x24cc00=getDate();if(_0x428d74[0x0]){const _0x3c852c=fns[_0x3b54e9(0x285)](_0x428d74[0x0][_0x3b54e9(0x24f)],_0x3b54e9(0x24d),new Date()),_0x14f036=fns[_0x3b54e9(0x285)](_0x24cc00,_0x3b54e9(0x24d),new Date());if(fns[_0x3b54e9(0x267)](_0x3c852c,_0x14f036)){_0x52574e=_0x428d74[0x0]['changes'];const _0x1e06c6=_0x52574e[_0x3b54e9(0x277)](_0x5739bc=>_0x5739bc[_0x3b54e9(0x24b)]==_0x5e626e[0x0][_0x3b54e9(0x24b)]);_0x1e06c6?(_0x1e06c6[_0x3b54e9(0x2a0)]+=_0x5e626e[0x0][_0x3b54e9(0x2a0)],_0x1e06c6[_0x3b54e9(0x2a0)]==0x0&&(_0x52574e=_0x52574e[_0x3b54e9(0x2b3)](_0x27dfc8=>{const _0x2c3089=_0x3b54e9;return _0x27dfc8[_0x2c3089(0x24b)]!=_0x5e626e[0x0][_0x2c3089(0x24b)];}))):_0x52574e[_0x3b54e9(0x308)](_0x5e626e[0x0]);const _0x562589=_0x32c2fd[_0x3b54e9(0x277)](_0x10e2e0=>_0x10e2e0[_0x3b54e9(0x24f)]==_0x24cc00);_0x562589['changes']=_0x52574e;}else _0x32c2fd[_0x3b54e9(0x308)]({'date':_0x24cc00,'changes':[_0x5e626e[0x0]]});}const _0x8bdaad=_0x32c2fd[_0x3b54e9(0x277)](_0x4e1259=>_0x4e1259[_0x3b54e9(0x24f)]==_0x24cc00);if(_0x8bdaad){let _0x200008=!![];_0x8bdaad[_0x3b54e9(0x1b1)][_0x3b54e9(0x23a)](_0xc3cf89=>{const _0x21109d=_0x3b54e9;if(_0xc3cf89[_0x21109d(0x2a0)]!=0x0)_0x200008=![];}),_0x200008&&(_0x32c2fd=_0x32c2fd[_0x3b54e9(0x2b3)](_0x2655fe=>{return _0x2655fe['date']!=_0x24cc00;}));}let _0x24a5a4=dbConfig['get'](_0x3b54e9(0x29a))[_0x3b54e9(0x277)]({'botID':botID})[_0x3b54e9(0x208)]();_0x24a5a4&&(dbConfig[_0x3b54e9(0x1c0)](_0x3b54e9(0x29a))[_0x3b54e9(0x277)]({'botID':botID})[_0x3b54e9(0x2b2)]({'liquidity':_0x32c2fd})[_0x3b54e9(0x312)](),config['liquidity']=_0x32c2fd),logHistory('success','Portfolio\x20change\x20detected:\x20'+Math[_0x3b54e9(0x2ed)](_0x5e626e[0x0][_0x3b54e9(0x2a0)])+'\x20'+_0x5e626e[0x0][_0x3b54e9(0x24b)]+'\x20'+(_0x5e626e[0x0][_0x3b54e9(0x2a0)]>0x0?_0x3b54e9(0x2cb):'removed')+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x3b54e9(0x1c5),emittedConfiguration());}else logger['debug']('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0x3b54e9(0x2ed)](_0x5e626e[0x0][_0x3b54e9(0x2a0)])+'\x20'+_0x5e626e[0x0][_0x3b54e9(0x24b)]+'\x20'+(_0x5e626e[0x0][_0x3b54e9(0x2a0)]>0x0?_0x3b54e9(0x2cb):_0x3b54e9(0x217)));transactionDetected=!![],currentCoins=_0x1403ba,currentCoinsAll=_0x15d627;}else logger['debug'](_0x3b54e9(0x221)+Math[_0x3b54e9(0x2ed)](_0x5e626e[0x0][_0x3b54e9(0x2a0)])+'\x20'+_0x5e626e[0x0]['coin']+'\x20'+(_0x5e626e[0x0][_0x3b54e9(0x2a0)]>0x0?'added':_0x3b54e9(0x217))+_0x3b54e9(0x1ff)),currentCoins=_0x1403ba,currentCoinsAll=_0x15d627;}await sleep(watchTransactionsInterval);}catch(_0x427903){if(!exchangeStopped)await handleError(_0x427903,'watchTransactions');}else await sleep(0x64);}}async function loadSymbols(_0x1a12a6=config[_0x962735(0x2f3)],_0x55395b=![]){const _0x57c400=_0x962735;if(allSymbols&&!_0x55395b)return;try{markets=await exchange[_0x57c400(0x2e4)](),allSymbols=exchange[_0x57c400(0x265)][_0x57c400(0x2b3)](_0xf3f14f=>{let _0x324488=![];const _0x568ff9=exceptions[_0x1a12a6['toLowerCase']()]||[];return _0x568ff9['forEach'](_0x5b8f34=>{const _0x45b7da=_0x2860;if(_0xf3f14f[_0x45b7da(0x28e)](_0x5b8f34))_0x324488=!![];}),!_0x324488;});}catch(_0x1a76e5){throw _0x1a76e5;}}async function initclient(){const _0x2b0c64=_0x962735;emitLoadingProgress(),proxyEmit(_0x2b0c64(0x1c5),emittedConfiguration()),proxyEmit(_0x2b0c64(0x254),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x27e185=getNormalizedPerformance();emitPerformance(_0x27e185),getStartingBalances(_0x27e185);}async function toggleBotMode(){const _0x1bbcd7=_0x962735;let _0x5cbe26=dbConfig[_0x1bbcd7(0x1c0)](_0x1bbcd7(0x29a))[_0x1bbcd7(0x277)]({'botID':botID})[_0x1bbcd7(0x208)]();if(_0x5cbe26){const _0xffb2e4=!_0x5cbe26[_0x1bbcd7(0x1ec)];dbConfig['get']('bot')[_0x1bbcd7(0x277)]({'botID':botID})[_0x1bbcd7(0x2b2)]({'headless':_0xffb2e4})['write'](),config['headless']=_0xffb2e4,proxyEmit(_0x1bbcd7(0x1c5),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4e61ec=_0x962735;process[_0x4e61ec(0x2dd)]({'updatebotmanager':!![]},_0x3fb861=>{});}async function loadCoins(_0x4e4ef8){const _0x344794=_0x962735;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x4fdd85,_0x1f8b34=0x0,_0x1c492a=0x0;_0x4e4ef8['forEach'](_0x51dd9f=>{const _0x4a9bf4=_0x2860;loading[_0x4a9bf4(0x1af)][_0x4a9bf4(0x308)](_0x51dd9f);}),loadingCanceled=![];let _0x193e31=![];while(_0x4fdd85!=_0x4e4ef8['length']){_0x4fdd85=0x0,_0x4e4ef8[_0x344794(0x23a)](_0x1d137a=>{const _0x4a18e2=_0x344794;if(global[_0x4a18e2(0x1b8)][noslash(_0x1d137a)]){loading[_0x4a18e2(0x1af)]=loading[_0x4a18e2(0x1af)][_0x4a18e2(0x2b3)](_0x5ba1dd=>_0x5ba1dd!=_0x1d137a);if(!watchedSymbols['includes'](_0x1d137a))watchedSymbols['push'](_0x1d137a);_0x4fdd85++;}}),loading[_0x344794(0x2b5)]=Math[_0x344794(0x212)](_0x4fdd85/_0x4e4ef8[_0x344794(0x2a6)]*0x64);loading['progress']!=0x64&&(_0x1c492a>0x1e*0x5&&(loading[_0x344794(0x262)]=!![],emitLoadingProgress()),_0x1c492a>0x78*0x5&&!_0x193e31&&(loading[_0x344794(0x1f3)]=!![],emitLoadingProgress(),_0x193e31=!![],logHistory(_0x344794(0x235),_0x344794(0x273)+loading[_0x344794(0x1af)][_0x344794(0x2a7)](',\x20')+_0x344794(0x1d5)),logHistory(_0x344794(0x235),_0x344794(0x1ea)+loadCoinsRetryInterval/0xea60+_0x344794(0x1ee)),pidCoinReloading=setTimeout(()=>{const _0xc20d5d=_0x344794;process['send']({'stop':_0xc20d5d(0x2fa)},_0x41d1f9=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x344794(0x1f3)]=!![],emitLoadingProgress();break;}else _0x4fdd85!=_0x1f8b34&&(_0x1f8b34=_0x4fdd85,emitLoadingProgress()),_0x1c492a++,await sleep(0xc8);}_0x4fdd85==_0x4e4ef8['length']&&(coinsLoaded=!![],process[_0x344794(0x2dd)]({'status':'enabled','live':_0x344794(0x1d4)},_0x289ab3=>{}),_0x193e31&&logHistory(_0x344794(0x2f8),_0x344794(0x27b)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x8dd873=_0x962735;proxyEmit(_0x8dd873(0x1c5),{...emittedConfiguration(),'configstate':_0x8dd873(0x2f1)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0xd885dc=_0x962735;let _0x3f7f9c=global[_0xd885dc(0x1b8)][stablecoins['eur'][_0xd885dc(0x24b)]],_0x34e352=global[_0xd885dc(0x1b8)][stablecoins[_0xd885dc(0x27e)][_0xd885dc(0x24b)]];return{'eur':Number(_0x3f7f9c),'usd':Number(_0x34e352)};}function capitalize(_0x37cfca){const _0xf91f2f=_0x962735;return _0x37cfca['substring'](0x0,0x1)[_0xf91f2f(0x222)]()+_0x37cfca[_0xf91f2f(0x1b6)](0x1);}function supportedExchanges(){const _0x5c33e6=_0x962735,_0x45cc4e=['ws',_0x5c33e6(0x1c1),_0x5c33e6(0x207),_0x5c33e6(0x31b),_0x5c33e6(0x1b2),_0x5c33e6(0x236),_0x5c33e6(0x32c),_0x5c33e6(0x1bb),_0x5c33e6(0x231),'fetchBalance'];let _0x5bc383=[],_0x1039d4=[],_0x12e031=ccxt[_0x5c33e6(0x254)];_0x12e031[_0x5c33e6(0x23a)](_0x15af85=>{const _0x5ed523=_0x5c33e6;try{const _0xaa573a=new ccxt[_0x15af85]();if(_0xaa573a[_0x5ed523(0x1b9)]['ws'])_0x1039d4['push'](_0xaa573a);}catch(_0x20c86d){}}),_0x1039d4[_0x5c33e6(0x23a)](_0x403728=>{const _0x2d2b87=_0x5c33e6;let _0x1c0613=0x0;_0x45cc4e[_0x2d2b87(0x23a)](_0x14e1a1=>{const _0x24c1c6=_0x2d2b87;_0x14e1a1 in _0x403728[_0x24c1c6(0x1b9)]&&_0x403728['has'][_0x14e1a1]&&_0x1c0613++;}),_0x1c0613==_0x45cc4e[_0x2d2b87(0x2a6)]&&_0x5bc383['push'](capitalize(_0x403728['id']));});let _0x201ead=[];return _0x12e031['forEach'](_0x35aee7=>{const _0x141440=_0x5c33e6;_0x35aee7=capitalize(_0x35aee7);if(!_0x5bc383[_0x141440(0x28e)](_0x35aee7))_0x201ead['push'](_0x35aee7);}),_0x5bc383;}function setStartDatePerformance(){const _0x527adb=_0x962735;if(config&&config[_0x527adb(0x2a5)][0x0][_0x527adb(0x1b1)][_0x527adb(0x2a6)]!=0x0){const _0x937605=config[_0x527adb(0x2a5)][0x0]['changes'];dbPerformance[_0x527adb(0x1c0)](_0x527adb(0x1ce))[_0x527adb(0x277)]({'date':config['startdate']})['assign']({'coins':_0x937605})[_0x527adb(0x312)]();}}async function recreateCoinResults(){const _0x3d1ad8=_0x962735;let _0x68fc3e,_0x1c1903=[];try{const _0x1acc9d=fns['format'](fns[_0x3d1ad8(0x316)](config['startdate'][_0x3d1ad8(0x28c)](/\//g,'-')),_0x3d1ad8(0x313));for(const _0x4768bb of currentCoins){if(_0x4768bb[_0x3d1ad8(0x24b)]!=config['basecoin']){let _0x444695=0x0,_0xf5f45f,_0x30cdaf;_0x68fc3e=await getAllEventOrders(_0x4768bb[_0x3d1ad8(0x1ef)]);if(_0x68fc3e[_0x3d1ad8(0x2a6)]>0x0)_0x68fc3e[_0x3d1ad8(0x23a)](_0x27c829=>{const _0x364e04=_0x3d1ad8,_0x37685e=_0x4768bb[_0x364e04(0x1ef)][_0x364e04(0x28e)](config['basecoin']+'/');_0x1c1903[_0x364e04(0x308)]({'datetime':_0x27c829['datetime'],'coin':_0x4768bb[_0x364e04(0x24b)],'symbol':_0x4768bb['symbol'],'side':_0x27c829[_0x364e04(0x237)],'reverse':_0x37685e,'amount':formatResult(_0x27c829[_0x364e04(0x2fb)],0x8),'filled':formatResult(_0x27c829['filled'],0x8),'price':formatResult(_0x27c829['price'],0x8)}),_0x444695=_0x27c829[_0x364e04(0x237)]=='buy'?_0x444695+_0x27c829[_0x364e04(0x2fb)]:_0x444695-_0x27c829[_0x364e04(0x2fb)];if(!_0x30cdaf)_0x30cdaf=_0x27c829['price'];});_0xf5f45f=_0x4768bb[_0x3d1ad8(0x2a0)]-_0x444695;let _0x31bbe1;config['liquidity'][_0x3d1ad8(0x23a)](_0x39e24c=>{const _0x61fbd6=_0x3d1ad8;!_0x31bbe1&&(_0x31bbe1=_0x39e24c[_0x61fbd6(0x1b1)][_0x61fbd6(0x277)](_0x1335c5=>_0x1335c5[_0x61fbd6(0x24b)]==_0x4768bb[_0x61fbd6(0x24b)]),_0x31bbe1&&(_0xf5f45f=_0x31bbe1[_0x61fbd6(0x2a0)],_0x30cdaf=_0x31bbe1[_0x61fbd6(0x2b9)]));});let _0x3baad7=dbCoinResults['get'](_0x3d1ad8(0x1e7))[_0x3d1ad8(0x277)]({'coin':_0x4768bb['coin']})[_0x3d1ad8(0x208)]();_0x3baad7={'coin':_0x4768bb[_0x3d1ad8(0x24b)],'number':_0xf5f45f,'breakeven':_0x30cdaf,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3d1ad8(0x1c0)](_0x3d1ad8(0x1e7))['find']({'coin':_0x4768bb[_0x3d1ad8(0x24b)]})['assign'](_0x3baad7)[_0x3d1ad8(0x312)]();}}_0x1c1903['sort']((_0x42aaeb,_0x5d21e4)=>_0x42aaeb[_0x3d1ad8(0x1ca)]>_0x5d21e4[_0x3d1ad8(0x1ca)]?0x1:_0x5d21e4['datetime']>_0x42aaeb[_0x3d1ad8(0x1ca)]?-0x1:0x0);let _0x84bf66=0x0;for(let _0x56afc7 of _0x1c1903){await updateCoinResults(_0x56afc7,!![]);}}catch(_0x2d3d12){await handleError(_0x2d3d12,_0x3d1ad8(0x2ca));}}async function getAllEventOrders(_0x2197e0){const _0x4b9d79=_0x962735;let _0x44e078=[],_0x291398=dbLogs[_0x4b9d79(0x1c0)](_0x4b9d79(0x215))['filter'](_0x2c7a2c=>{const _0x5d4ac4=_0x4b9d79,_0x3f6f85=_0x2c7a2c[_0x5d4ac4(0x268)][_0x5d4ac4(0x1cd)]();return _0x3f6f85[_0x5d4ac4(0x28e)](_0x2197e0[_0x5d4ac4(0x1cd)]())&&(_0x3f6f85[_0x5d4ac4(0x28e)]('market')&&_0x3f6f85['includes']('order')||_0x3f6f85['includes'](_0x5d4ac4(0x2fb))&&_0x3f6f85[_0x5d4ac4(0x28e)](_0x5d4ac4(0x216)));})[_0x4b9d79(0x276)](_0x4b9d79(0x2e7))[_0x4b9d79(0x208)]();return _0x291398[_0x4b9d79(0x23a)](_0xa482c8=>{const _0x43d8c5=_0x4b9d79,_0x1f7c57=_0xa482c8[_0x43d8c5(0x268)]['includes'](_0x43d8c5(0x275))?'sell':_0x43d8c5(0x2db),_0x404c07=/#([0-9]|\.)+\s/i,_0x48f5d7=Number(_0x404c07['exec'](_0xa482c8['event'])[0x0][_0x43d8c5(0x1cb)](0x1)),_0xb4a20c=/@([0-9]|\.)+$/i,_0x37f28c=Number(_0xb4a20c[_0x43d8c5(0x26b)](_0xa482c8[_0x43d8c5(0x268)])[0x0]['slice'](0x1));_0x44e078['push']({'datetime':_0xa482c8[_0x43d8c5(0x2e7)],'coin':symbolToCoin(_0x2197e0),'symbol':_0x2197e0,'side':_0x1f7c57,'amount':_0x48f5d7,'filled':_0x48f5d7,'price':_0x37f28c});}),_0x44e078;}async function getAllOrders(_0x208e11,_0x4d9e7d){const _0x178cb3=_0x962735;let _0x3e51d8=[];while(_0x4d9e7d<exchange[_0x178cb3(0x31f)]()){const _0x410a1a=0x1f4,_0x26fdbf=await exchange[_0x178cb3(0x231)](_0x208e11,_0x4d9e7d,_0x410a1a);if(_0x26fdbf[_0x178cb3(0x2a6)])_0x4d9e7d=_0x26fdbf[_0x26fdbf[_0x178cb3(0x2a6)]-0x1][_0x178cb3(0x211)]+0x1,_0x3e51d8=_0x3e51d8['concat'](_0x26fdbf);else break;}return _0x3e51d8;}async function validate24hChanges(){const _0x5890e7=_0x962735;for(const _0x5b36e6 of currentCoins){if(_0x5b36e6[_0x5890e7(0x24b)]!=config['basecoin']){let _0x235c5f;_0x5b36e6[_0x5890e7(0x310)]?_0x235c5f=formatResult((0x1/(global['change'][noslash(_0x5b36e6[_0x5890e7(0x1ef)])]/0x64+0x1)-0x1)*0x64,0x3):_0x235c5f=global[_0x5890e7(0x20c)][noslash(_0x5b36e6['symbol'])],_0x235c5f<config[_0x5890e7(0x330)]&&(logHistory(_0x5890e7(0x235),_0x5b36e6[_0x5890e7(0x24b)]+_0x5890e7(0x1dd)+_0x235c5f+'%'),logHistory(_0x5890e7(0x235),_0x5890e7(0x300)),logHistory(_0x5890e7(0x235),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x45ae5e,_0x593d1e){const _0x480ed7=_0x962735;if(!_0x45ae5e)return!![];const _0x107aa3=_0x593d1e[_0x480ed7(0x2ec)]('.'),_0x5a613a=_0x45ae5e['split']('.');for(var _0x11252b=0x0;_0x11252b<_0x5a613a[_0x480ed7(0x2a6)];_0x11252b++){const _0x224c14=~~_0x5a613a[_0x11252b],_0x268879=~~_0x107aa3[_0x11252b];if(_0x224c14<_0x268879)return!![];if(_0x224c14>_0x268879)return![];}return![];}async function oneTimeMigration(){const _0x5d1fc3=_0x962735;let _0x2f9bd3=dbLogs[_0x5d1fc3(0x1c0)]('version')[_0x5d1fc3(0x208)]();if(isOlderVersion(_0x2f9bd3,_0x5d1fc3(0x27f))){let _0x4f3a22=[];const _0x4e2823=dbLogs[_0x5d1fc3(0x1c0)](_0x5d1fc3(0x215))['value']();_0x4e2823[_0x5d1fc3(0x23a)](_0x3ce546=>{const _0x398db1=_0x5d1fc3;_0x4f3a22[_0x398db1(0x308)]({'time':_0x3ce546[_0x398db1(0x2e7)],'type':_0x3ce546['type'],'event':_0x3ce546['event']});}),dbLogs['get'](_0x5d1fc3(0x215))[_0x5d1fc3(0x2b2)](_0x4f3a22)['write']();}let _0x59f4=dbConfig[_0x5d1fc3(0x1c0)](_0x5d1fc3(0x2dc))[_0x5d1fc3(0x208)]();if(isOlderVersion(_0x59f4,_0x5d1fc3(0x27f))){let _0x13f8fd=dbConfig[_0x5d1fc3(0x1c0)](_0x5d1fc3(0x29a))['find']({'botID':botID})['value']();if(_0x13f8fd){let _0x311d92=[];_0x13f8fd[_0x5d1fc3(0x2c0)][_0x5d1fc3(0x23a)](_0x56eb0a=>{const _0x4daa39=_0x5d1fc3;_0x311d92['push']({'coin':_0x56eb0a['coin'],'number':_0x56eb0a[_0x4daa39(0x2ab)],'price':_0x56eb0a['startprice']}),delete _0x56eb0a['startnumber'],delete _0x56eb0a[_0x4daa39(0x225)];});if(_0x311d92[_0x5d1fc3(0x2a6)]!==0x0)fs[_0x5d1fc3(0x1eb)](configbackuppath+(_0x5d1fc3(0x1be)+botID+_0x5d1fc3(0x29c)),JSON['stringify'](_0x311d92,null,0x4),function(_0x38b0d1){if(_0x38b0d1){}});const _0x53fba2=(_0x453cf9,_0x1c8e56)=>{const _0xd1bf92=_0x5d1fc3;let _0x4b77dd=[];_0x1c8e56[_0xd1bf92(0x23a)](_0x1b024d=>{const _0x452a34=_0xd1bf92,_0x3a75c2=_0x453cf9[_0x452a34(0x277)](_0x3c4ac3=>_0x3c4ac3['coin']==_0x1b024d[_0x452a34(0x24b)]);if(!_0x3a75c2)_0x4b77dd[_0x452a34(0x308)](_0x1b024d);});let _0x31c628=[];return _0x453cf9['forEach'](_0x59997e=>{const _0x276065=_0xd1bf92,_0x268312=_0x1c8e56[_0x276065(0x277)](_0x144f09=>_0x144f09[_0x276065(0x24b)]==_0x59997e[_0x276065(0x24b)]);if(!_0x268312||_0x268312['number']==0x0&&_0x59997e[_0x276065(0x2a0)]!=0x0)_0x31c628[_0x276065(0x308)](_0x59997e);}),{'missingDay1':_0x4b77dd,'notInDay2':_0x31c628};},_0x16f14b=dbPerformance[_0x5d1fc3(0x1c0)](_0x5d1fc3(0x1ce))['cloneDeep']()[_0x5d1fc3(0x208)]();if(_0x16f14b[_0x5d1fc3(0x2a6)]>0x1){const {missingDay1:_0x536620,notInDay2:_0x42d2d4}=_0x53fba2(_0x311d92,_0x16f14b[0x1][_0x5d1fc3(0x1e7)]);_0x311d92=[..._0x311d92,..._0x536620],_0x42d2d4['forEach'](_0xb403fc=>{const _0x144230=_0x5d1fc3;let _0x5a15a2=_0x311d92['findIndex'](_0x393a13=>_0x393a13[_0x144230(0x24b)]==_0xb403fc[_0x144230(0x24b)]);_0x5a15a2!=-0x1&&_0x311d92['splice'](_0x5a15a2,0x1);});}_0x311d92[_0x5d1fc3(0x219)]((_0x1cd6ad,_0xc979f5)=>_0x1cd6ad[_0x5d1fc3(0x24b)]>_0xc979f5['coin']?0x1:_0xc979f5['coin']>_0x1cd6ad[_0x5d1fc3(0x24b)]?-0x1:0x0);let _0x1bf0de=[{'date':_0x13f8fd[_0x5d1fc3(0x289)],'changes':_0x311d92}];_0x16f14b['length']>0x2&&_0x16f14b[_0x5d1fc3(0x23a)]((_0x6ae8f3,_0x52908e)=>{const _0x547800=_0x5d1fc3;if(_0x52908e>0x0&&_0x52908e<_0x16f14b['length']-0x1){const {missingDay1:_0x2b760c,notInDay2:_0x175bc}=_0x53fba2(_0x16f14b[_0x52908e][_0x547800(0x1e7)],_0x16f14b[_0x52908e+0x1][_0x547800(0x1e7)]);_0x311d92=[],(_0x2b760c[_0x547800(0x2a6)]!=0x0||_0x175bc['length']!=0x0)&&(_0x2b760c['length']!=0x0&&_0x311d92[_0x547800(0x308)](..._0x2b760c),_0x175bc[_0x547800(0x2a6)]!=0x0&&(_0x175bc[_0x547800(0x23a)](_0x419009=>{const _0x1ffa10=_0x547800;_0x419009[_0x1ffa10(0x2a0)]=-_0x419009[_0x1ffa10(0x2a0)];}),_0x311d92[_0x547800(0x308)](..._0x175bc)),_0x311d92[_0x547800(0x219)]((_0x5d55aa,_0x3a6782)=>_0x5d55aa[_0x547800(0x24b)]>_0x3a6782[_0x547800(0x24b)]?0x1:_0x3a6782[_0x547800(0x24b)]>_0x5d55aa[_0x547800(0x24b)]?-0x1:0x0),_0x1bf0de[_0x547800(0x308)]({'date':_0x16f14b[_0x52908e+0x1]['date'],'changes':_0x311d92}));}}),dbConfig['get']('bot')[_0x5d1fc3(0x277)]({'botID':botID})['assign']({..._0x13f8fd,'liquidity':_0x1bf0de})[_0x5d1fc3(0x312)]();}}if(isOlderVersion(_0x59f4,_0x5d1fc3(0x21c))){let _0x52087d=dbConfig[_0x5d1fc3(0x1c0)](_0x5d1fc3(0x29a))[_0x5d1fc3(0x277)]({'botID':botID})[_0x5d1fc3(0x208)]();if(_0x52087d){const _0x1e7811=_0x52087d[_0x5d1fc3(0x2f3)],_0x1e1971=_0x1e7811?capitalize(_0x1e7811):_0x5d1fc3(0x238);dbConfig[_0x5d1fc3(0x1c0)](_0x5d1fc3(0x29a))[_0x5d1fc3(0x277)]({'botID':botID})[_0x5d1fc3(0x2b2)]({'exchange':_0x1e1971})[_0x5d1fc3(0x312)]();}}let _0xdef91f=dbPerformance[_0x5d1fc3(0x1c0)]('version')[_0x5d1fc3(0x208)]();isOlderVersion(_0xdef91f,_0x5d1fc3(0x27f))&&setStartDatePerformance();let _0x4cc38c=dbCoinResults[_0x5d1fc3(0x1c0)](_0x5d1fc3(0x2dc))[_0x5d1fc3(0x208)]();if(isOlderVersion(_0x4cc38c,_0x5d1fc3(0x2aa))){let _0x594871=dbCoinResults['get'](_0x5d1fc3(0x1e7))['value']();if(_0x594871[_0x5d1fc3(0x2a6)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x450c65=_0x962735;dbConfig['set'](_0x450c65(0x2dc),serverversion)[_0x450c65(0x312)](),dbPerformance['set'](_0x450c65(0x2dc),serverversion)[_0x450c65(0x312)](),dbLogs[_0x450c65(0x20e)](_0x450c65(0x2dc),serverversion)[_0x450c65(0x312)](),dbCoinResults[_0x450c65(0x20e)](_0x450c65(0x2dc),serverversion)['write']();}function getConfiguration(_0x3faf2f){const _0x1ceddc=_0x962735;let _0x2e6072=dbConfig[_0x1ceddc(0x1c0)](_0x1ceddc(0x29a))[_0x1ceddc(0x277)]({'botID':_0x3faf2f})[_0x1ceddc(0x208)]();if(_0x2e6072){let _0x2ccf53=![];typeof _0x2e6072[_0x1ceddc(0x25a)]==_0x1ceddc(0x253)&&(_0x2e6072={..._0x2e6072,'threshold':Number(_0x2e6072[_0x1ceddc(0x25a)])},_0x2ccf53=!![]),_0x2e6072[_0x1ceddc(0x330)]==null&&(_0x2e6072={..._0x2e6072,'change24h':-0x14},_0x2ccf53=!![]),!_0x2e6072['fiat']&&(_0x2e6072={..._0x2e6072,'fiat':_0x1ceddc(0x32b)},_0x2ccf53=!![]),!_0x2e6072['onepagemode']&&(_0x2e6072={..._0x2e6072,'onepagemode':settings[_0x1ceddc(0x22b)]},_0x2ccf53=!![]),!_0x2e6072['colorscheme']&&(_0x2e6072={..._0x2e6072,'colorscheme':'red_yellow_blue'},_0x2ccf53=!![]),!_0x2e6072[_0x1ceddc(0x2f7)]&&(_0x2e6072={..._0x2e6072,'autoliquidity':!![]},_0x2ccf53=!![]),_0x2ccf53&&(_0x2e6072={'botID':_0x2e6072[_0x1ceddc(0x2a3)],'exchange':_0x2e6072['exchange'],'apiKey':_0x2e6072[_0x1ceddc(0x288)],'apiSecret':_0x2e6072[_0x1ceddc(0x270)],'apiPassword':_0x2e6072['apiPassword'],'basecoin':_0x2e6072[_0x1ceddc(0x2e0)],'botname':_0x2e6072[_0x1ceddc(0x2eb)],'showname':_0x2e6072[_0x1ceddc(0x2bb)],'threshold':_0x2e6072['threshold'],'ordertype':_0x2e6072[_0x1ceddc(0x224)],'timeout':_0x2e6072['timeout'],'fiat':_0x2e6072[_0x1ceddc(0x336)],'startdate':_0x2e6072[_0x1ceddc(0x289)],'recreate':_0x2e6072[_0x1ceddc(0x2c5)],'timeshift':_0x2e6072[_0x1ceddc(0x335)],'onepagemode':_0x2e6072[_0x1ceddc(0x22b)],'headless':_0x2e6072['headless'],'cooldown':_0x2e6072[_0x1ceddc(0x21b)],'change24h':_0x2e6072['change24h'],'emojibuy':_0x2e6072[_0x1ceddc(0x301)],'emojisell':_0x2e6072[_0x1ceddc(0x32a)],'colorscheme':_0x2e6072['colorscheme'],'portfolio':_0x2e6072[_0x1ceddc(0x2c0)],'autoliquidity':_0x2e6072['autoliquidity'],'liquidity':_0x2e6072[_0x1ceddc(0x2a5)],'openOrders':_0x2e6072[_0x1ceddc(0x27c)]},dbConfig['get']('bot')[_0x1ceddc(0x28d)]()['write'](),dbConfig[_0x1ceddc(0x1c0)](_0x1ceddc(0x29a))[_0x1ceddc(0x308)](_0x2e6072)[_0x1ceddc(0x312)]());}else _0x2e6072={'botID':_0x3faf2f,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x1ceddc(0x25c)+_0x3faf2f,'showname':![],'threshold':0x3,'ordertype':_0x1ceddc(0x318),'timeout':0x14,'fiat':_0x1ceddc(0x32b),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1ceddc(0x335)],'onepagemode':settings[_0x1ceddc(0x22b)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x1ceddc(0x2ac),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2e6072;}function emittedConfiguration(){const _0x3eafa2=_0x962735;let _0x11d2eb;if(config['apiKey']=='')_0x11d2eb={...config,'configstate':'initial'};else config['apiKey']==_0x3eafa2(0x23c)?_0x11d2eb={...config,'configstate':'recovery'}:(_0x11d2eb={...config,'apiKey':'************','apiSecret':'************'},config['apiPassword']&&(_0x11d2eb[_0x3eafa2(0x1dc)]=_0x3eafa2(0x1d9)));return _0x11d2eb;}function getSettings(){const _0x4b89e3=_0x962735;return dbSettings[_0x4b89e3(0x1c0)](_0x4b89e3(0x279))[_0x4b89e3(0x208)]();}function getSecure(){const _0x48c25a=_0x962735;return dbSecure[_0x48c25a(0x1c0)]('secure')[_0x48c25a(0x208)]()||{};}function updateTimeshift(_0x37136e){const _0x524e24=_0x962735;let _0x57a5b0=dbConfig['get'](_0x524e24(0x29a))[_0x524e24(0x277)]({'botID':botID})[_0x524e24(0x208)]();_0x57a5b0&&dbConfig[_0x524e24(0x1c0)](_0x524e24(0x29a))[_0x524e24(0x277)]({'botID':botID})[_0x524e24(0x2b2)]({'timeshift':_0x37136e})[_0x524e24(0x312)](),config['timeshift']=_0x37136e,proxyEmit(_0x524e24(0x1c5),emittedConfiguration());}function updateOnepagemode(_0x22b536){const _0x5a97a0=_0x962735;let _0x4ef7f8=dbConfig[_0x5a97a0(0x1c0)]('bot')[_0x5a97a0(0x277)]({'botID':botID})[_0x5a97a0(0x208)]();_0x4ef7f8&&dbConfig[_0x5a97a0(0x1c0)](_0x5a97a0(0x29a))[_0x5a97a0(0x277)]({'botID':botID})[_0x5a97a0(0x2b2)]({'onepagemode':_0x22b536})[_0x5a97a0(0x312)](),config[_0x5a97a0(0x22b)]=_0x22b536,proxyEmit(_0x5a97a0(0x1c5),emittedConfiguration());}async function storeConfiguration(_0x5492c4){const _0xc87b97=_0x962735;logger[_0xc87b97(0x2e8)](_0xc87b97(0x299));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0xc87b97(0x2e8)](_0xc87b97(0x2d8));let _0x3182a=[],_0x3f9262=![],_0x4c0079=![],_0x3f126e=[];_0x5492c4[_0xc87b97(0x2c0)]['forEach'](_0xfcb23d=>{const _0x5c386f=_0xc87b97;if(!_0xfcb23d[_0x5c386f(0x271)]&&_0xfcb23d[_0x5c386f(0x24b)]!=_0x5492c4['basecoin'])_0x3f126e['push'](_0xfcb23d['symbol']);}),_0x3f126e[_0xc87b97(0x23a)](_0x22c88e=>{const _0x4f392c=watchedSymbols['includes'](_0x22c88e);!_0x4f392c&&_0x3182a['push'](_0x22c88e);}),_0x3f126e[_0xc87b97(0x23a)](_0x523161=>{const _0x2af343=_0xc87b97,_0xb36c7b=currentCoins[_0x2af343(0x277)](_0x5ae063=>_0x5ae063[_0x2af343(0x1ef)]==_0x523161);!_0xb36c7b&&(_0x3f9262=!![]);}),currentCoins['forEach'](_0x13a57c=>{const _0x500646=_0xc87b97;if(_0x13a57c['coin']!=config['basecoin']){const _0x1cf91f=_0x3f126e[_0x500646(0x277)](_0x5c72ab=>_0x5c72ab==_0x13a57c['symbol']);!_0x1cf91f&&(_0x3f9262=!![]);}}),_0x5492c4[_0xc87b97(0x2c0)][_0xc87b97(0x23a)](_0x5bcca4=>{const _0x3b22cf=_0xc87b97,_0x1fe2f9=config[_0x3b22cf(0x2c0)][_0x3b22cf(0x277)](_0x2ac4af=>_0x2ac4af[_0x3b22cf(0x24b)]==_0x5bcca4[_0x3b22cf(0x24b)]);if(_0x1fe2f9&&_0x5bcca4[_0x3b22cf(0x209)]!=_0x1fe2f9['offset'])_0x4c0079=!![];});let _0x4379fd=dbConfig[_0xc87b97(0x1c0)](_0xc87b97(0x29a))[_0xc87b97(0x277)]({'botID':botID})['value']();_0x5492c4={..._0x5492c4,'apiKey':crypt[_0xc87b97(0x25e)](secure['privateKey'],_0x5492c4['apiKey'])[_0xc87b97(0x1c9)],'apiSecret':crypt[_0xc87b97(0x25e)](secure[_0xc87b97(0x220)],_0x5492c4[_0xc87b97(0x270)])[_0xc87b97(0x1c9)]};_0x5492c4[_0xc87b97(0x1dc)]&&(_0x5492c4[_0xc87b97(0x1dc)]=crypt[_0xc87b97(0x25e)](secure[_0xc87b97(0x220)],_0x5492c4[_0xc87b97(0x1dc)])[_0xc87b97(0x1c9)]);let _0x3201ec=![];if(_0x4379fd){_0x5492c4[_0xc87b97(0x288)]==_0xc87b97(0x1d9)?_0x5492c4[_0xc87b97(0x288)]=config[_0xc87b97(0x288)]:_0x3201ec=!![];_0x5492c4[_0xc87b97(0x270)]==_0xc87b97(0x1d9)?_0x5492c4['apiSecret']=config[_0xc87b97(0x270)]:_0x3201ec=!![];if(_0x5492c4[_0xc87b97(0x1dc)]==_0xc87b97(0x1d9))_0x5492c4['apiPassword']=config['apiPassword'];else{if(_0x5492c4[_0xc87b97(0x1dc)])_0x3201ec=!![];}dbConfig['get'](_0xc87b97(0x29a))[_0xc87b97(0x277)]({'botID':botID})[_0xc87b97(0x2b2)](_0x5492c4)[_0xc87b97(0x312)]();}else dbConfig[_0xc87b97(0x1c0)](_0xc87b97(0x29a))[_0xc87b97(0x308)](_0x5492c4)['write'](),_0x3201ec=!![],process[_0xc87b97(0x2dd)]({'status':_0xc87b97(0x328),'live':_0xc87b97(0x1d4)},_0x154764=>{});process[_0xc87b97(0x2dd)]({'botname':_0x5492c4[_0xc87b97(0x2eb)]},_0x469ed0=>{}),updateBotManager(),config={..._0x5492c4},proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3201ec)await reset(_0x3182a,!![]);else _0x3f9262||_0x4c0079?await reset(_0x3182a,![]):getBalances();blockTransactionDetection=![],logger[_0xc87b97(0x2e8)](_0xc87b97(0x307));}async function storeHeadless(_0x3ab8b6){const _0x43d943=_0x962735,_0x5b1b6e={...config,'headless':_0x3ab8b6[_0x43d943(0x1ec)]};let _0x215e15=dbConfig[_0x43d943(0x1c0)](_0x43d943(0x29a))[_0x43d943(0x277)]({'botID':botID})['value']();_0x215e15&&dbConfig[_0x43d943(0x1c0)](_0x43d943(0x29a))[_0x43d943(0x277)]({'botID':botID})[_0x43d943(0x2b2)](_0x5b1b6e)[_0x43d943(0x312)](),config={..._0x5b1b6e},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x1b9308){const _0x12d057=_0x962735,_0x1d2120={...config,'fiat':_0x1b9308};let _0x401d28=dbConfig[_0x12d057(0x1c0)](_0x12d057(0x29a))[_0x12d057(0x277)]({'botID':botID})['value']();_0x401d28&&dbConfig[_0x12d057(0x1c0)](_0x12d057(0x29a))[_0x12d057(0x277)]({'botID':botID})[_0x12d057(0x2b2)](_0x1d2120)[_0x12d057(0x312)](),config={..._0x1d2120},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x45b6d6=_0x962735;logger[_0x45b6d6(0x303)](_0x45b6d6(0x242));try{if(fs[_0x45b6d6(0x2e3)](path[_0x45b6d6(0x2a7)](configpath,_0x45b6d6(0x323)+botID+_0x45b6d6(0x1c7))))fs[_0x45b6d6(0x2c6)](path[_0x45b6d6(0x2a7)](configpath,_0x45b6d6(0x323)+botID+_0x45b6d6(0x1c7)));if(fs[_0x45b6d6(0x2e3)](path[_0x45b6d6(0x2a7)](configpath,'bot-'+botID+_0x45b6d6(0x32e))))fs[_0x45b6d6(0x2c6)](path[_0x45b6d6(0x2a7)](configpath,_0x45b6d6(0x323)+botID+'-performance.json'));if(fs[_0x45b6d6(0x2e3)](path[_0x45b6d6(0x2a7)](configpath,_0x45b6d6(0x323)+botID+_0x45b6d6(0x2b1))))fs[_0x45b6d6(0x2c6)](path['join'](configpath,_0x45b6d6(0x323)+botID+_0x45b6d6(0x2b1)));}catch(_0x655d8f){if(_0x655d8f)logger[_0x45b6d6(0x303)](_0x45b6d6(0x23b),_0x655d8f);}const _0x4f8797=getDate();let _0x49772e=[];currentCoins['forEach'](_0xae1cc4=>{const _0x5a2770=_0x45b6d6;_0x49772e[_0x5a2770(0x308)]({'coin':_0xae1cc4[_0x5a2770(0x24b)],'number':_0xae1cc4[_0x5a2770(0x2a0)],'price':_0xae1cc4[_0x5a2770(0x244)]});});let _0x412962=dbConfig[_0x45b6d6(0x1c0)](_0x45b6d6(0x29a))[_0x45b6d6(0x277)]({'botID':botID})[_0x45b6d6(0x208)]();_0x412962&&(dbConfig[_0x45b6d6(0x1c0)](_0x45b6d6(0x29a))[_0x45b6d6(0x277)]({'botID':botID})[_0x45b6d6(0x2b2)]({'liquidity':[{'date':_0x4f8797,'changes':_0x49772e}]})[_0x45b6d6(0x312)](),config[_0x45b6d6(0x2a5)]=[]),process[_0x45b6d6(0x2dd)]({'stop':'restart'},_0x449aa6=>{});}function noslash(_0x3fdf2f){const _0x2b6bbd=_0x962735;return _0x3fdf2f[_0x2b6bbd(0x28c)]('/','');}function updateHighestFee(_0x2d123e,_0x8721b){const _0xff17d6=_0x962735;lastFees[_0xff17d6(0x2ef)]=_0x2d123e,lastFees[_0xff17d6(0x1b4)][_0xff17d6(0x2a6)]===0x14&&lastFees['recent20']['shift'](),lastFees[_0xff17d6(0x1b4)][_0xff17d6(0x308)](_0x8721b),lastFees[_0xff17d6(0x2f5)]=Math[_0xff17d6(0x2fe)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x282979){const _0x710566=_0x962735;logger[_0x710566(0x2e8)](_0x710566(0x2ba)+_0x282979[_0x710566(0x1ef)]+'\x20|\x20'+_0x282979[_0x710566(0x24a)]+'\x20|\x20'+_0x282979['id']);let _0x8d50e4=_0x282979[_0x710566(0x24a)],_0x6fdc44=![];currentCoins[_0x710566(0x23a)](_0x3127d4=>{const _0x585ff3=_0x710566;_0x3127d4[_0x585ff3(0x1ef)]==_0x282979[_0x585ff3(0x1ef)]&&(_0x6fdc44=!![]);});if(!_0x6fdc44)return;const _0x4ebc8b=currentCoins[_0x710566(0x277)](_0x36bb3e=>_0x36bb3e[_0x710566(0x1ef)]==_0x282979['symbol']),_0x5b0ee2=_0x2da1a7=>{const _0xd75771=_0x710566;if(_0x4ebc8b)_0x4ebc8b[_0xd75771(0x261)]=_0x2da1a7;};if(_0x8d50e4==_0x710566(0x223))_0x5b0ee2(_0x710566(0x223));else{if(_0x8d50e4=='canceled'){_0x5b0ee2('canceled');const _0x207f1b=await getCoins();[currentCoins,currentCoinsAll]=_0x207f1b,await getOpenOrders(),handleOpenOrders();}else{if(_0x8d50e4==_0x710566(0x1f4)){logger[_0x710566(0x2e8)](_0x710566(0x1fa)+_0x282979[_0x710566(0x1ef)]+_0x710566(0x309)+_0x282979[_0x710566(0x2fb)]+'\x20|\x20'+_0x282979['id']);let _0x487098=![];if(lastOrders)for(const _0x2f9a24 of lastOrders){const _0x2694be=0xc8,_0x42a3cb=0x1388;let _0x4f50fb=0x0;while(!_0x2f9a24[_0x710566(0x233)]&&_0x4f50fb*_0x2694be<_0x42a3cb){_0x4f50fb++,await sleep(_0x2694be);}if(_0x4f50fb>0x0)logger[_0x710566(0x2e8)](_0x710566(0x2f4)+_0x4f50fb*_0x2694be/0x3e8+_0x710566(0x1f9));if(_0x2f9a24[_0x710566(0x233)]==_0x282979['id']){logger['debug']('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x282979['id']),_0x487098=!![];if(_0x2f9a24[_0x710566(0x2fb)]==0x0){logger[_0x710566(0x2e8)](_0x710566(0x1d1)+_0x282979['id']);if(_0x282979[_0x710566(0x205)])_0x2f9a24[_0x710566(0x2b9)]=_0x282979[_0x710566(0x205)];else{if(_0x282979[_0x710566(0x2b9)])_0x2f9a24['price']=_0x282979[_0x710566(0x2b9)];else{}}_0x2f9a24['filled']=_0x282979[_0x710566(0x2fb)],_0x2f9a24[_0x710566(0x32f)]={'currency':_0x282979[_0x710566(0x32f)]?_0x282979['fee'][_0x710566(0x2ef)]:null,'cost':_0x282979[_0x710566(0x32f)]?_0x282979['fee'][_0x710566(0x1de)]:0x0},updateHighestFee(_0x2f9a24[_0x710566(0x32f)]['currency'],_0x2f9a24[_0x710566(0x32f)][_0x710566(0x1de)]),_0x5b0ee2(_0x710566(0x2fb)),await validateOrders();if(lockOrders==ORDERS[_0x710566(0x30f)]){const _0xa4b90e=await getCoins();[currentCoins,currentCoinsAll]=_0xa4b90e;}await updateCoinResults(_0x2f9a24);}}}if(!_0x487098){logger[_0x710566(0x2e8)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x282979['id']),_0x5b0ee2(_0x710566(0x2fb));const _0x4eccd7=await getCoins();[currentCoins,currentCoinsAll]=_0x4eccd7,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x46cb41=JSON[_0x710566(0x285)](lastBalances['portfolio']);const _0x431211=_0x46cb41[_0x710566(0x277)](_0x29f17e=>_0x29f17e['symbol']==_0x282979['symbol']);if(_0x431211){if(_0x8d50e4==_0x710566(0x223))_0x431211[_0x710566(0x261)]=_0x431211['orderstatus']==_0x710566(0x2fb)?_0x710566(0x2fb):_0x710566(0x223);else{if(_0x8d50e4==_0x710566(0x21f))_0x431211['orderstatus']=_0x431211[_0x710566(0x261)]==_0x710566(0x2fb)?_0x710566(0x2fb):_0x710566(0x21f);else _0x8d50e4==_0x710566(0x1f4)&&(_0x431211['orderstatus']=_0x710566(0x2fb));}}lastBalances={...lastBalances,'portfolio':JSON[_0x710566(0x250)](_0x46cb41)},proxyEmit(_0x710566(0x255),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x53cab9=_0x962735;await getOpenOrders();let _0x7532e4=![];currentCoins[_0x53cab9(0x23a)](_0x4e9f02=>{const _0x1356f8=_0x53cab9;_0x7532e4=allOpenOrders[_0x1356f8(0x277)](_0x51d065=>_0x51d065[_0x1356f8(0x1ef)]==_0x4e9f02[_0x1356f8(0x1ef)]),_0x4e9f02['orderstatus']=_0x7532e4?_0x1356f8(0x223):_0x1356f8(0x31c);});}function _0x28f4(){const _0x31fb54=['RSA-OAEP','target','\x20|\x20Error\x20details:\x20','Resetting\x20coin\x20results:\x20','portfolio','-------------------------------\x0a','leftTxt','AuthenticationError','Unfilled\x20order(s)\x20canceled\x20after\x20','recreate','unlinkSync','search','no\x20open\x20orders','<b>Bot\x20','recreateCoinResults()','added','random','additional\x20symbols\x20','password','BTC','final','201472RPMUNn','ccxt','argv','TUSD','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','toggleBotMode','balancing\x20resumed','Transaction\x20detection\x20blocked','trade','keys','buy','version','send','cancelLoading','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','basecoin','53273KPWphX','441326SSQpgY','existsSync','loadMarkets','getHours','rightTxt','time','debug','loadSymbols()','21594RjHUJD','botname','split','abs','getFullYear','currency','storeHeadless','loading-canceled','145PSOnlc','exchange','Waited\x20','highest','event-history','autoliquidity','success','lowdb/adapters/FileSync','restart','filled','apply','<b>','max','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','emojibuy','fetchBalance','full','\x20exchange','Initiating\x20exchange\x20reload','YOYOW/','Transaction\x20detection\x20unblocked','push','\x20|\x20','startsWith','API-key\x20format\x20invalid','XEM/BUSD','1\x20-\x20Handle\x20open\x20orders','\x20metrics:</b>\x20\x0a\x0a','LOCKED','reverse','differenceInSeconds','write','yyyy-MM-dd\x27T\x27HH:mm:ss','getCoins()','</pre>','parseISO','2\x20-\x20Handled\x20open\x20orders','market','Executing\x20exchange\x20reload','\x20orders\x20in\x20less\x20than\x20','watchTrades','none','1\x20-\x20Unlock\x20orders','breakeven','milliseconds','distribution','getPortfolio(2)','BNB','bot-','close','Invalid\x20API\x20key\x20or\x20secret\x20entered','./config/','Limit\x20(high-margin)','enabled','type','emojisell','USD','createOrder','\x20hour','-performance.json','fee','change24h','defaults','toString','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','BUSD','timeshift','fiat','entries','getPortfolio(1)','ORDERS.UNLOCKED','remainingSymbols','getMinutes','changes','watchOrders','getCoinNumber()','recent20','4944150qzVcSU','substring','warning','ticker','has','USDP','fetchOpenOrders','hybrid-crypto-js','min','starting-balance-','ORDERS.LOCKED','get','fetchTickers','getPortfolio','limit','placeOrder()','configuration','ORDERS.UNLOCKING','-events.json','mkdirSync','message','datetime','slice','padStart','toLowerCase','data','sells','log','3\x20-\x20handling\x20FILLED\x20order:\x20','shift','DDoSProtection','running','\x20-\x20bot\x20not\x20started','Net\x20effect','\x20change','eur','************','getDate','getStartingBalances','apiPassword','\x20has\x20a\x2024h\x20drop\x20of\x20','cost','InvalidOrder','bb-secure.json','/USD','storeConfiguration','cancelOrders()','starting-balances','balancing\x20resumes\x20when\x20cooldown\x20ends','bots','coins','105OlBBOY','Manual\x20balancing\x20required','Pausing\x20for\x20','writeFile','headless','buys','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','symbol','net-basecoin','pro','netoffset','cancel','closed','path','RequestTimeout','./logs/','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','1\x20-\x20FILLED:\x20','initial','2\x20-\x20Orders\x20unlocked','Avoiding\x20continuous\x20order\x20attempts','1\x20-\x20Validate\x20orders:\x20','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','001','Order\x20filled:\x20','USDT','function','showConfig','average','MIN_NOTIONAL','fetchTicker','value','offset','emitHistory','map','change','bid','set','indexOf','valid','timestamp','round','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','ETH','logs','order','removed','EUR','sort','2034981sTaDHR','cooldown','2.6.0','args','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','canceled','privateKey','Portfolio\x20change\x20detected:\x20','toUpperCase','open','ordertype','startprice','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','fromCodePoint','getPortfolio(0)','net-fiat','NANO/','onepagemode','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','realized','\x20portfolio:</b>\x20\x0a\x0a','Order\x20amount\x20is\x20invalid:\x20','getMonth','fetchClosedOrders','Fees\x20|\x20currency:\x20','orderId','1SNGCJa','error','cancelOrder','side','Binance','cloneDeep','forEach','Error\x20while\x20deleting\x20files:\x20','***','Bybit','exchange\x20reloaded','add','\x20minutes','yargs/yargs','Resetting\x20bot\x20history','limits','last','padEnd','2\x20-\x20Validate\x20orders:\x20','total','limit-high','(((.+)+)+)+$','status','coin','toFixed','yyyy/MM/dd','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','date','stringify','BNB/','constructor','string','exchanges','balances','amount','/output-000.log','util','format','threshold','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Bot\x20','getOpenOrders()','decrypt','UNLOCKING','date-fns','orderstatus','timeout','3iPaBFj','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','symbols','USDC','isEqual','event','spot','options','exec','Cooldown\x20ended\x20-\x20balancing\x20resumed','No\x20more\x20open\x20orders\x20-\x20','696PHniDg','exchange\x20not\x20reloaded','apiSecret','excluded','Exchange','Failed\x20to\x20load\x20coin\x20data\x20for\x20','splice','sell','sortBy','find','Uncaught\x20Exception:','settings','sha256','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','openOrders','percentage','usd','2.3.5','Invalid\x20quantity','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','Reset\x20|\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','getTime','parse','\x20not\x20available','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','apiKey','startdate','\x20value','bb-settings.json','replace','remove','includes','placeOrder','/backup/','fees','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Crypt','\x20>\x20','2132656nyXoLP','\x20|\x20highest:\x20','%\x20(','\x20closed\x20the\x20connection','Saving\x20configuration','bot','getSeconds','.json','\x20order:\x20','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','\x20API\x20secret\x20is\x20invalid','number','UNLOCKED','lowdb','botID',':\x20timer\x20>','liquidity','length','join','\x20>\x20[DEBUG]\x20','\x20:\x20','2.5.0','startnumber','red_yellow_blue','<pre>','Unknown\x20error\x20occured',':\x20Bot\x20','page','-results.json','assign','filter','floor','progress','delta','\x20minutes\x20-\x20','./version.json','price','0\x20-\x20EXECUTION:\x20','showname'];_0x28f4=function(){return _0x31fb54;};return _0x28f4();}async function getCoins(_0x1fc2e9=!![],_0x4b17db=config['basecoin']){const _0x592842=_0x962735;let _0x41f43c,_0x54a8dd=[],_0x22edaa=[],_0x196262=[],_0x2961be=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x41f43c=await exchange[_0x592842(0x302)](),mybalances=_0x41f43c[_0x592842(0x247)];for(const [_0x41dc2b,_0xd3de88]of Object[_0x592842(0x1ac)](mybalances)){_0x2961be[_0x592842(0x308)](_0x41dc2b);}if(_0x4b17db=='')for(const [_0x382507,_0x2a2ef7]of Object[_0x592842(0x1ac)](mybalances)){_0x2a2ef7!=0x0&&_0x22edaa[_0x592842(0x308)]({'coin':_0x382507});}else{let _0x5f0e5f=![];for(const [_0x1caa71,_0x3c14f0]of Object[_0x592842(0x1ac)](mybalances)){if(_0x2961be[_0x592842(0x28e)](_0x1caa71)){const _0x2c0ab8=config[_0x592842(0x2c0)]['find'](_0x5e5504=>_0x5e5504[_0x592842(0x24b)]==_0x1caa71),_0x30de06=_0x1caa71+'/'+_0x4b17db,_0x1d300b=_0x4b17db+'/'+_0x1caa71,_0x1411a4=currentCoins['find'](_0x53153e=>_0x53153e[_0x592842(0x24b)]==_0x1caa71);_0x5f0e5f=![];if((_0x3c14f0!=0x0||_0x2c0ab8)&&(allSymbols[_0x592842(0x28e)](_0x30de06)||_0x1caa71==_0x4b17db))_0x1caa71!=_0x4b17db&&_0x54a8dd['push'](_0x30de06),_0x22edaa['push']({'coin':_0x1caa71,'symbol':_0x30de06,'reverse':![],'number':Math[_0x592842(0x2fe)](_0x3c14f0+(_0x2c0ab8&&_0x2c0ab8[_0x592842(0x209)]||0x0),0x0),'orderstatus':_0x1411a4?_0x1411a4[_0x592842(0x261)]:_0x592842(0x31c)});else(_0x3c14f0!=0x0||_0x2c0ab8)&&allSymbols[_0x592842(0x28e)](_0x1d300b)&&(_0x1caa71!=_0x4b17db&&_0x54a8dd[_0x592842(0x308)](_0x1d300b),_0x22edaa[_0x592842(0x308)]({'coin':_0x1caa71,'symbol':_0x1d300b,'reverse':!![],'number':Math['max'](_0x3c14f0+(_0x2c0ab8&&_0x2c0ab8[_0x592842(0x209)]||0x0),0x0),'orderstatus':_0x1411a4?_0x1411a4[_0x592842(0x261)]:_0x592842(0x31c)}));}}}}catch(_0x268448){if(!_0x1fc2e9)handleErrorNoStop(_0x268448,_0x592842(0x314));else await handleError(_0x268448,_0x592842(0x314));}return _0x196262=cloneDeep(_0x22edaa),_0x22edaa=_0x22edaa[_0x592842(0x2b3)](_0x3e0e15=>{const _0x1ade0a=_0x592842,_0x1a1a8f=config[_0x1ade0a(0x2c0)][_0x1ade0a(0x277)](_0x1a776d=>_0x1a776d[_0x1ade0a(0x24b)]==_0x3e0e15[_0x1ade0a(0x24b)]);return _0x1a1a8f&&!_0x1a1a8f[_0x1ade0a(0x271)];}),[_0x22edaa,_0x196262];}async function getCoinNumber(_0x3ccb25){const _0x57625e=_0x962735;let _0x431d3b;try{const _0x3e37fe=await exchange['fetchBalance']();_0x431d3b=_0x3e37fe[_0x57625e(0x247)][_0x3ccb25];}catch(_0x17d136){await handleError(_0x17d136,_0x57625e(0x1b3));}return _0x431d3b;}async function getOpenOrders(){const _0x1046a7=_0x962735;let _0x35a024;allOpenOrders=[];try{for(const _0xa87f5f of config[_0x1046a7(0x2c0)]){!_0xa87f5f[_0x1046a7(0x271)]&&_0xa87f5f['coin']!=config[_0x1046a7(0x2e0)]&&(_0x35a024=await exchange[_0x1046a7(0x1bb)](_0xa87f5f[_0x1046a7(0x1ef)]),_0x35a024[_0x1046a7(0x2a6)]>0x0&&allOpenOrders[_0x1046a7(0x308)](_0x35a024[0x0]));}}catch(_0x5ed023){await handleError(_0x5ed023,_0x1046a7(0x25d));}}async function handleOpenOrders(_0x564ad0=0x0){const _0x3668bb=_0x962735;allOpenOrders[_0x3668bb(0x2a6)]==0x0&&lockOrders==ORDERS[_0x3668bb(0x30f)]&&allOrdersPlaced&&(_0x564ad0==0x0?(logger[_0x3668bb(0x2e8)](_0x3668bb(0x30d)),_0x564ad0++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3668bb(0x2e8)](_0x3668bb(0x317)),validateOrders(_0x3668bb(0x2c8))));}async function testAPI(_0x3bd7f6){const _0x4e0565=_0x962735,_0x2346e1=ccxt[_0x3bd7f6[_0x4e0565(0x2f3)][_0x4e0565(0x1cd)]()],_0x5929e5=new _0x2346e1({'apiKey':_0x3bd7f6[_0x4e0565(0x288)],'secret':_0x3bd7f6[_0x4e0565(0x270)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});_0x3bd7f6[_0x4e0565(0x2f3)]==_0x4e0565(0x23d)&&(_0x5929e5[_0x4e0565(0x26a)]={'defaultType':_0x4e0565(0x269)});if(_0x3bd7f6['apiPassword'])_0x5929e5[_0x4e0565(0x2ce)]=_0x3bd7f6[_0x4e0565(0x1dc)];try{await _0x5929e5['loadMarkets']();}catch(_0x4420d7){throw _0x4420d7;}}function cloneDeep(_0x128f13){const _0x11715f=_0x962735;return JSON['parse'](JSON[_0x11715f(0x250)](_0x128f13));}async function getPortfolio(_0x42538b){const _0x2e0845=_0x962735;let _0x4692d4=[],_0xf5cd25=[],_0x36a2eb=[],_0x23f174;if(_0x42538b[_0x2e0845(0x288)]!==_0x2e0845(0x1d9)||_0x42538b[_0x2e0845(0x270)]!==_0x2e0845(0x1d9)||_0x42538b['apiPassword']&&_0x42538b[_0x2e0845(0x1dc)]!==_0x2e0845(0x1d9)){if(config[_0x2e0845(0x2f3)]){if(_0x42538b[_0x2e0845(0x288)]=='************')_0x42538b['apiKey']=config[_0x2e0845(0x288)];if(_0x42538b[_0x2e0845(0x270)]==_0x2e0845(0x1d9))_0x42538b['apiSecret']=config[_0x2e0845(0x270)];if(_0x42538b[_0x2e0845(0x1dc)]==_0x2e0845(0x1d9))_0x42538b[_0x2e0845(0x1dc)]=config[_0x2e0845(0x1dc)];try{await testAPI(_0x42538b);}catch(_0x33072f){if(_0x33072f['toString']()['includes'](_0x2e0845(0x2c3))){logger[_0x2e0845(0x2e8)](_0x2e0845(0x325)),proxyEmit(_0x2e0845(0x2c0),![]);return;}else{handleError(_0x33072f,_0x2e0845(0x228));return;}}}await initExchange(_0x42538b['exchange'],_0x42538b[_0x2e0845(0x288)],_0x42538b[_0x2e0845(0x270)],_0x42538b[_0x2e0845(0x1dc)]);try{await loadSymbols(_0x42538b[_0x2e0845(0x2f3)],!![]);}catch(_0x473c9d){if(_0x473c9d[_0x2e0845(0x332)]()['includes']('AuthenticationError')){proxyEmit(_0x2e0845(0x2c0),![]);return;}else{handleError(_0x473c9d,_0x2e0845(0x1ad));return;}}const _0x4f3696=await getCoins(![],_0x42538b[_0x2e0845(0x2e0)]);_0x36a2eb=cloneDeep(_0x4f3696[0x1]);}else _0x36a2eb=cloneDeep(currentCoinsAll);if(_0x42538b['basecoin']=='')proxyEmit('portfolio',_0x36a2eb);else{_0x36a2eb[_0x2e0845(0x23a)](_0x27f616=>{const _0x3dbae2=_0x2e0845;if(_0x27f616[_0x3dbae2(0x24b)]!=_0x42538b['basecoin'])_0x4692d4['push'](_0x27f616[_0x3dbae2(0x1ef)]);});try{_0xf5cd25=await exchange[_0x2e0845(0x1c1)](_0x4692d4);}catch(_0x126c72){if(_0x126c72[_0x2e0845(0x332)]()[_0x2e0845(0x28e)](_0x2e0845(0x2c3))){proxyEmit('portfolio',![]);return;}else{handleError(_0x126c72,_0x2e0845(0x321));return;}}_0x36a2eb[_0x2e0845(0x23a)](_0x5150f8=>{const _0x1a8224=_0x2e0845;_0x5150f8['coin']!=_0x42538b[_0x1a8224(0x2e0)]?_0x23f174=_0x5150f8[_0x1a8224(0x310)]?0x1/_0xf5cd25[_0x5150f8['symbol']][_0x1a8224(0x244)]:_0xf5cd25[_0x5150f8[_0x1a8224(0x1ef)]][_0x1a8224(0x244)]:_0x23f174=0x1,_0x5150f8[_0x1a8224(0x2b9)]=formatResult(_0x23f174,0x8);}),proxyEmit('portfolio',_0x36a2eb);}}function truncateTradeAmount(_0x386fc8,_0x3fa6f5){let _0x2f4f76=0x0;try{_0x2f4f76=exchange['amountToPrecision'](_0x386fc8,_0x3fa6f5);}catch(_0x352d50){}return _0x2f4f76;}function checkMinimums(_0x1fb517){const _0x3513f9=_0x962735;let _0x4410d1=!![];const _0x266e99=!_0x1fb517[_0x3513f9(0x310)]?markets[_0x1fb517[_0x3513f9(0x1ef)]][_0x3513f9(0x243)][_0x3513f9(0x256)]['min']:markets[_0x1fb517[_0x3513f9(0x1ef)]]['limits'][_0x3513f9(0x1de)]['min'],_0x419fb0=!_0x1fb517[_0x3513f9(0x310)]?markets[_0x1fb517[_0x3513f9(0x1ef)]]['limits'][_0x3513f9(0x1de)][_0x3513f9(0x1bd)]:markets[_0x1fb517[_0x3513f9(0x1ef)]][_0x3513f9(0x243)][_0x3513f9(0x256)][_0x3513f9(0x1bd)],_0x314248=truncateTradeAmount(_0x1fb517[_0x3513f9(0x1ef)],_0x1fb517[_0x3513f9(0x2d9)]);_0x1fb517['trade']=_0x314248;if(Math[_0x3513f9(0x2ed)](_0x314248)<_0x266e99)_0x4410d1=![];if(Math[_0x3513f9(0x2ed)](_0x314248)*_0x1fb517[_0x3513f9(0x244)]<_0x419fb0)_0x4410d1=![];if(_0x1fb517[_0x3513f9(0x237)]=='sell'){let _0x2900b1=config[_0x3513f9(0x2c0)][_0x3513f9(0x277)](_0x372079=>_0x372079[_0x3513f9(0x24b)]==_0x1fb517[_0x3513f9(0x24b)]);if(_0x2900b1[_0x3513f9(0x209)]>0x0){if(Math[_0x3513f9(0x2ed)](_0x314248)>_0x1fb517['number']-_0x2900b1[_0x3513f9(0x209)])_0x4410d1=![];}else{if(Math[_0x3513f9(0x2ed)](_0x314248)>_0x1fb517[_0x3513f9(0x2a0)])_0x4410d1=![];}}if(_0x1fb517[_0x3513f9(0x237)]==_0x3513f9(0x2db)){let _0x5d7aee=config['portfolio'][_0x3513f9(0x277)](_0x277953=>_0x277953['coin']==config[_0x3513f9(0x2e0)]),_0x29ac48=currentCoins[_0x3513f9(0x277)](_0x3d327a=>_0x3d327a[_0x3513f9(0x24b)]==config[_0x3513f9(0x2e0)]);if(_0x5d7aee[_0x3513f9(0x209)]>0x0){if(Math[_0x3513f9(0x2ed)](_0x314248)*_0x1fb517['last']>_0x29ac48[_0x3513f9(0x2a0)]-_0x5d7aee[_0x3513f9(0x209)])_0x4410d1=![];}else{if(Math[_0x3513f9(0x2ed)](_0x314248)*_0x1fb517[_0x3513f9(0x244)]>_0x29ac48[_0x3513f9(0x2a0)])_0x4410d1=![];}}return _0x4410d1;}async function getBalances(_0x1e4987=!![]){const _0x443fae=_0x962735;let _0x59b0d7=0x0,_0x487a42;const _0x51301d=config['threshold'];if(config[_0x443fae(0x1ec)]&&config[_0x443fae(0x330)]<0x0)await validate24hChanges();currentCoins[_0x443fae(0x23a)](_0x28f580=>{const _0x122806=_0x443fae;if(_0x28f580[_0x122806(0x24b)]!=config[_0x122806(0x2e0)]){let _0xafbf96=global['ticker'][noslash(_0x28f580[_0x122806(0x1ef)])];_0x487a42=_0x28f580[_0x122806(0x310)]?0x1/_0xafbf96:_0xafbf96;}else _0x487a42=0x1;let _0x4c6f2a=_0x28f580[_0x122806(0x2a0)]*_0x487a42;_0x59b0d7+=_0x4c6f2a,_0x28f580['last']=formatResult(Number(_0x487a42),0x8),_0x28f580[_0x122806(0x208)]=_0x4c6f2a;}),currentCoins[_0x443fae(0x23a)](_0xa212f6=>{const _0x306ca7=_0x443fae;let _0x5b5dc4=config['portfolio']['find'](_0x275879=>_0x275879[_0x306ca7(0x24b)]==_0xa212f6[_0x306ca7(0x24b)]),_0x320efc=Number(_0x5b5dc4['distribution']),_0x30beda=_0xa212f6['value']/_0x59b0d7*0x64,_0x5cde2b=_0x320efc*_0x59b0d7/0x64/_0xa212f6['last']-_0xa212f6['number'];_0xa212f6['distribution']=formatResult(_0x30beda,0x3),_0xa212f6[_0x306ca7(0x2bd)]=formatResult(_0x320efc,0x3),_0xa212f6[_0x306ca7(0x2d9)]=formatResult(_0x5cde2b,0x8),_0xa212f6['side']='',_0xa212f6[_0x306ca7(0x210)]=![];if(_0xa212f6[_0x306ca7(0x24b)]!=config[_0x306ca7(0x2e0)]){if(_0xa212f6['distribution']>_0x320efc)_0xa212f6[_0x306ca7(0x237)]=_0x306ca7(0x275),_0xa212f6[_0x306ca7(0x210)]=checkMinimums(_0xa212f6);else _0xa212f6[_0x306ca7(0x320)]<_0x320efc&&(_0xa212f6['side']=_0x306ca7(0x2db),_0xa212f6[_0x306ca7(0x210)]=checkMinimums(_0xa212f6));}_0xa212f6[_0x306ca7(0x2b6)]=_0xa212f6[_0x306ca7(0x320)]/_0xa212f6[_0x306ca7(0x2bd)]-0x1;if(_0xa212f6[_0x306ca7(0x261)]==_0x306ca7(0x2fb)||_0xa212f6[_0x306ca7(0x261)]==_0x306ca7(0x21f))_0xa212f6[_0x306ca7(0x261)]=_0x306ca7(0x31c);}),currentCoins[_0x443fae(0x219)]((_0x5f240f,_0x27ebac)=>_0x5f240f[_0x443fae(0x2b6)]<_0x27ebac['delta']?0x1:_0x27ebac[_0x443fae(0x2b6)]<_0x5f240f['delta']?-0x1:0x0);const _0x22d835=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x22d835['eur'],'usd':_0x22d835[_0x443fae(0x27e)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x51301d},proxyEmit(_0x443fae(0x255),{'serverversion':serverversion,'balances':lastBalances});if(_0x1e4987){if(config[_0x443fae(0x1ec)])headlessMode({'portfolio':currentCoins,'threshold':_0x51301d});else{if(lockOrders==ORDERS[_0x443fae(0x2a1)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x51301d});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0xc95a00=getNormalizedPerformance();getStartingBalances(_0xc95a00),emitPerformance(_0xc95a00);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x25e4ad=getNormalizedPerformance();emitPerformance(_0x25e4ad),getStartingBalances(_0x25e4ad),logger[_0x443fae(0x2e8)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x40db3d=_0x962735;if(!lastBalances)return;let _0x5c54f8=[],_0x50e30c,_0x4ad20e=JSON['parse'](lastBalances[_0x40db3d(0x2c0)]);_0x4ad20e[_0x40db3d(0x219)]((_0x52e9c3,_0x24c9b3)=>_0x52e9c3[_0x40db3d(0x24b)]>_0x24c9b3[_0x40db3d(0x24b)]?0x1:_0x24c9b3[_0x40db3d(0x24b)]>_0x52e9c3[_0x40db3d(0x24b)]?-0x1:0x0),_0x4ad20e[_0x40db3d(0x23a)](_0x4ff84e=>{const _0x7f82e=_0x40db3d;let _0x4ea7af={'coin':_0x4ff84e['coin'],'number':_0x4ff84e['number'],'price':_0x4ff84e[_0x7f82e(0x244)]};_0x5c54f8['push'](_0x4ea7af);});const _0x571acd=await getFiat();_0x50e30c={'date':lastBalances[_0x40db3d(0x2e7)][_0x40db3d(0x2ec)]('\x20')[0x0],'eur':_0x571acd[_0x40db3d(0x1d8)],'usd':_0x571acd[_0x40db3d(0x27e)],'coins':_0x5c54f8};let _0x307689=dbPerformance[_0x40db3d(0x1c0)](_0x40db3d(0x1ce))[_0x40db3d(0x277)]({'date':_0x50e30c[_0x40db3d(0x24f)]})[_0x40db3d(0x208)]();_0x307689?_0x50e30c['date']!=config[_0x40db3d(0x289)]&&dbPerformance[_0x40db3d(0x1c0)](_0x40db3d(0x1ce))['find']({'date':_0x50e30c[_0x40db3d(0x24f)]})[_0x40db3d(0x2b2)](_0x50e30c)[_0x40db3d(0x312)]():dbPerformance[_0x40db3d(0x1c0)](_0x40db3d(0x1ce))[_0x40db3d(0x308)](_0x50e30c)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x495b05=_0x962735;let _0x150b86=[];if(dbPerformance[_0x495b05(0x1b9)](_0x495b05(0x1ce))[_0x495b05(0x208)]()){let _0x1b35dc=dbPerformance['get'](_0x495b05(0x1ce))[_0x495b05(0x239)]()[_0x495b05(0x2b3)](_0x34b7a1=>{const _0x11b5c9=_0x495b05;if(_0x34b7a1[_0x11b5c9(0x1e7)][_0x11b5c9(0x2a6)]==0x0)return![];else return!![];})[_0x495b05(0x276)](_0x495b05(0x24f))['value'](),_0x5b59ad=[...config[_0x495b05(0x2a5)]];_0x5b59ad['sort']((_0x363ba1,_0x4a3f4a)=>_0x363ba1['date']>_0x4a3f4a[_0x495b05(0x24f)]?-0x1:_0x4a3f4a['date']>_0x363ba1[_0x495b05(0x24f)]?0x1:0x0);let _0x30d6a0=0x1,_0xa3d242=[],_0x1d91b1=0x0;_0x1b35dc[_0x495b05(0x1cb)]()[_0x495b05(0x310)]()[_0x495b05(0x23a)]((_0x202892,_0x20cc51)=>{const _0x28ec9b=_0x495b05;if(_0x5b59ad[_0x1d91b1]){if(_0x1b35dc[_0x1b35dc[_0x28ec9b(0x2a6)]-_0x20cc51]&&_0x5b59ad[_0x1d91b1]['date']==_0x1b35dc[_0x1b35dc[_0x28ec9b(0x2a6)]-_0x20cc51]['date']){if(_0x20cc51<_0x1b35dc[_0x28ec9b(0x2a6)]){let _0x76be56=0x0,_0x54475c=0x0;_0x1b35dc[_0x1b35dc[_0x28ec9b(0x2a6)]-_0x20cc51][_0x28ec9b(0x1e7)][_0x28ec9b(0x23a)](_0xfaaff4=>{const _0x4fd5cd=_0x28ec9b;_0x54475c+=_0xfaaff4[_0x4fd5cd(0x2a0)]*_0xfaaff4[_0x4fd5cd(0x2b9)];}),_0x5b59ad[_0x1d91b1][_0x28ec9b(0x1b1)][_0x28ec9b(0x23a)](_0x45d8bb=>{const _0x212eb1=_0x28ec9b;_0x76be56+=_0x45d8bb[_0x212eb1(0x2a0)]*_0x45d8bb[_0x212eb1(0x2b9)];}),_0x30d6a0*=_0x76be56/(_0x54475c-_0x76be56)+0x1;}_0x1d91b1++;}}let _0x489221=0x0;_0x202892[_0x28ec9b(0x1e7)][_0x28ec9b(0x23a)](_0x5193bd=>{const _0xf0db8=_0x28ec9b;_0x489221+=_0x5193bd[_0xf0db8(0x2a0)]*_0x5193bd[_0xf0db8(0x2b9)];}),_0xa3d242[_0x1b35dc['length']-_0x20cc51-0x1]=_0x489221*(_0x30d6a0-0x1);});let _0x40d5ac=[];_0x5b59ad=[...config['liquidity']]||[];let _0x409e84=0x0;_0x1d91b1=0x0,_0x1b35dc[_0x495b05(0x23a)]((_0x99c135,_0x5235c0)=>{const _0x572ba7=_0x495b05;if(_0x5b59ad[_0x1d91b1]){const _0x27fd33=fns['parse'](_0x5b59ad[_0x1d91b1][_0x572ba7(0x24f)],'yyyy/MM/dd',new Date()),_0x53efb9=fns['parse'](_0x99c135[_0x572ba7(0x24f)],_0x572ba7(0x24d),new Date());if(fns[_0x572ba7(0x267)](_0x27fd33,_0x53efb9)){let _0x2c4caa=0x0;_0x5b59ad[_0x1d91b1][_0x572ba7(0x1b1)][_0x572ba7(0x23a)](_0x392bcf=>{const _0x595eb9=_0x572ba7;!_0x40d5ac[_0x392bcf[_0x595eb9(0x24b)]]?_0x40d5ac[_0x392bcf['coin']]=_0x392bcf[_0x595eb9(0x2a0)]:(_0x2c4caa=_0x40d5ac[_0x392bcf[_0x595eb9(0x24b)]],_0x40d5ac[_0x392bcf[_0x595eb9(0x24b)]]+=_0x392bcf['number']);const _0x399cf8=_0x99c135['coins'][_0x595eb9(0x277)](_0xd191cc=>_0xd191cc[_0x595eb9(0x24b)]==_0x392bcf[_0x595eb9(0x24b)]);(!_0x399cf8||_0x399cf8['number']==0x0)&&(_0x409e84+=(-_0x392bcf[_0x595eb9(0x2a0)]-_0x2c4caa)*_0x392bcf[_0x595eb9(0x2b9)]);}),_0x1d91b1++;}}_0x99c135[_0x572ba7(0x1e7)][_0x572ba7(0x23a)]((_0x11c652,_0x46e490)=>{const _0x5e994b=_0x572ba7;_0x40d5ac[_0x11c652[_0x5e994b(0x24b)]]&&(_0x11c652['initial']=_0x40d5ac[_0x11c652[_0x5e994b(0x24b)]]);}),_0x150b86[_0x572ba7(0x308)]({'date':_0x99c135[_0x572ba7(0x24f)],'eur':_0x99c135[_0x572ba7(0x1d8)],'usd':_0x99c135['usd'],'offset':_0xa3d242[_0x5235c0],'netoffset':_0x409e84,'coins':_0x99c135[_0x572ba7(0x1e7)]});});}return _0x150b86;}function emitPerformance(_0x3131c5){const _0xc685d7=_0x962735;_0x3131c5[_0xc685d7(0x2a6)]!==0x0?(proxyEmit('performance',_0x3131c5),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0xdd3d79,_0x5ea9fd){const _0x3a07b1=_0x962735;let _0x2bf1ed=0x0,_0x67c42c=0x0,_0x2ac4e6=0x0;_0xdd3d79[_0x3a07b1(0x1e7)][_0x3a07b1(0x23a)](_0x1db454=>{const _0x85c23a=_0x3a07b1;_0x2bf1ed+=_0x1db454[_0x85c23a(0x2a0)]*_0x1db454[_0x85c23a(0x2b9)];});_0x5ea9fd&&(_0x2bf1ed+=_0xdd3d79[_0x3a07b1(0x209)]);if(config[_0x3a07b1(0x2e0)]===_0x3a07b1(0x2cf)||config[_0x3a07b1(0x2e0)]===_0x3a07b1(0x214))_0x67c42c=_0x2bf1ed*_0xdd3d79[_0x3a07b1(0x1d8)],_0x2ac4e6=_0x2bf1ed*_0xdd3d79[_0x3a07b1(0x27e)];else{if(usdBasecoins[_0x3a07b1(0x28e)](config[_0x3a07b1(0x2e0)]))_0x67c42c=_0x2bf1ed*_0xdd3d79['eur']/_0xdd3d79[_0x3a07b1(0x27e)],_0x2ac4e6=_0x2bf1ed;else config[_0x3a07b1(0x2e0)]===_0x3a07b1(0x218)&&(_0x67c42c=_0x2bf1ed,_0x2ac4e6=_0x2bf1ed*_0xdd3d79[_0x3a07b1(0x27e)]/_0xdd3d79['eur']);}return[_0x2bf1ed,_0x67c42c,_0x2ac4e6];}function getKPIs(_0x3d0120,_0x4f5352='EUR'){const _0x456d81=_0x962735,_0x52117d=config[_0x456d81(0x2e0)],_0xab5338=lastBalances,_0x155c80=currentCoins,_0x34bb7e=getNormalizedPerformance(),_0x27d535=_0x3d0120===_0x456d81(0x2e0)?_0x52117d:_0x3d0120==='fiat'||_0x3d0120===_0x456d81(0x229)?_0x4f5352:'Net\x20'+_0x52117d,_0x11ab34=_0x3d0120===_0x456d81(0x1f0)?'Net\x20effect':_0x3d0120===_0x456d81(0x229)?_0x456d81(0x1d6):_0x27d535+_0x456d81(0x28a),_0x59cd85=_0x3d0120==='net-basecoin'||_0x3d0120==='net-fiat'?_0x456d81(0x1d6):_0x27d535+_0x456d81(0x1d7);let _0x133093=0x0;_0x155c80[_0x456d81(0x23a)](_0x25969e=>{const _0x74545f=_0x456d81;_0x133093+=_0x25969e[_0x74545f(0x2a0)]*_0x25969e[_0x74545f(0x244)];});if(_0x3d0120===_0x456d81(0x336)||_0x3d0120==='net-fiat'){if(_0x52117d===_0x456d81(0x2cf)||_0x52117d===_0x456d81(0x214))_0x133093=_0x133093*(_0x4f5352===_0x456d81(0x218)?_0xab5338['eur']:_0xab5338[_0x456d81(0x27e)]);else{if(usdBasecoins['includes'](_0x52117d))_0x133093=_0x133093*(_0x4f5352===_0x456d81(0x218)?_0xab5338['eur']/_0xab5338[_0x456d81(0x27e)]:0x1);else _0x52117d===_0x456d81(0x218)&&(_0x133093=_0x133093*(_0x4f5352==='EUR'?0x1:_0xab5338[_0x456d81(0x27e)]/_0xab5338[_0x456d81(0x1d8)]));}}let _0x57599d;if(_0x133093!==0x0){if(_0x3d0120==='basecoin')_0x57599d=(_0x133093/startingBalances[_0x456d81(0x2e0)]-0x1)*0x64;else{if(_0x4f5352===_0x456d81(0x218))_0x57599d=(_0x133093/startingBalances[_0x456d81(0x1d8)]-0x1)*0x64;else _0x57599d=(_0x133093/startingBalances[_0x456d81(0x27e)]-0x1)*0x64;}let _0x53f22d=0x0;if(startingBalances[_0x456d81(0x1e7)])_0x155c80['forEach'](_0x25155d=>{const _0x17d5ae=_0x456d81;let _0x1a944f=startingBalances['coins']['find'](_0x25c9c5=>_0x25c9c5['coin']===_0x25155d[_0x17d5ae(0x24b)]);if(_0x1a944f&&_0x1a944f[_0x17d5ae(0x24b)]&&_0x25155d[_0x17d5ae(0x2a0)]!==0x0)_0x53f22d+=_0x1a944f[_0x17d5ae(0x2a0)]*_0x25155d[_0x17d5ae(0x244)];});let _0x150858=0x0;if(_0x34bb7e[_0x456d81(0x2a6)]!==0x0){let _0x5d4a2f=_0x34bb7e[_0x34bb7e[_0x456d81(0x2a6)]-0x1];_0x150858=_0x5d4a2f[_0x456d81(0x1f2)];}_0x53f22d-=_0x150858;_0x3d0120===_0x456d81(0x1f0)&&(_0x57599d=(_0x133093-_0x53f22d)/startingBalances['basecoin']*0x64,_0x133093=_0x133093-_0x53f22d);if(_0x3d0120===_0x456d81(0x229)){let _0x3b190d=_0x4f5352===_0x456d81(0x218)?startingBalances[_0x456d81(0x1d8)]:startingBalances[_0x456d81(0x27e)];if(_0x52117d===_0x456d81(0x2cf)||_0x52117d===_0x456d81(0x214))_0x53f22d=_0x4f5352===_0x456d81(0x218)?_0x53f22d*_0xab5338[_0x456d81(0x1d8)]:_0x53f22d*_0xab5338[_0x456d81(0x27e)];else{if(usdBasecoins['includes'](_0x52117d))_0x53f22d=_0x4f5352===_0x456d81(0x218)?_0x53f22d*_0xab5338[_0x456d81(0x1d8)]/_0xab5338[_0x456d81(0x27e)]:_0x53f22d;else _0x52117d==='EUR'&&(_0x53f22d=_0x4f5352===_0x456d81(0x218)?_0x53f22d:_0x53f22d*_0xab5338[_0x456d81(0x27e)]/_0xab5338[_0x456d81(0x1d8)]);}_0x57599d=(_0x133093-_0x53f22d)/_0x3b190d*0x64,_0x133093=_0x133093-_0x53f22d;}if(_0x57599d){if(_0x57599d<0x64)_0x57599d=_0x57599d[_0x456d81(0x24c)](0x2);else{if(_0x57599d<0x3e8)_0x57599d=_0x57599d['toFixed'](0x1);else _0x57599d=_0x57599d['toFixed'](0x0);}}else _0x57599d=Number('0')['toFixed'](0x2);if(_0x133093){if(Math['abs'](_0x133093)<0.000001)_0x133093=_0x133093[_0x456d81(0x24c)](0x2);else{if(Math[_0x456d81(0x2ed)](_0x133093)<0.1)_0x133093=_0x133093[_0x456d81(0x24c)](0x6);else{if(Math[_0x456d81(0x2ed)](_0x133093)<0x1)_0x133093=_0x133093[_0x456d81(0x24c)](0x5);else{if(Math['abs'](_0x133093)<0xa)_0x133093=_0x133093[_0x456d81(0x24c)](0x4);else{if(Math[_0x456d81(0x2ed)](_0x133093)<0x64)_0x133093=_0x133093['toFixed'](0x3);else{if(Math['abs'](_0x133093)<0x3e8)_0x133093=_0x133093[_0x456d81(0x24c)](0x2);else _0x133093=_0x133093[_0x456d81(0x24c)](0x2);}}}}}}else _0x133093=Number('0')[_0x456d81(0x24c)](0x2);}else _0x57599d=Number('0')['toFixed'](0x2);return{'value':_0x133093,'change':_0x57599d,'leftTxt':_0x11ab34,'rightTxt':_0x59cd85};}async function getStartingBalances(_0xae04f4,_0x310ed3=!![]){const _0x3ff3de=_0x962735;if(_0xae04f4[_0x3ff3de(0x2a6)]!==0x0){const [_0x52a688,_0x141f86,_0xd1cd38]=getPerf(_0xae04f4[0x0],!![]);let _0x18ee81=[];config[_0x3ff3de(0x2c0)]['forEach'](_0x58af61=>{const _0x373942=_0x3ff3de;let _0x256505=0x0,_0x1cd906;config[_0x373942(0x2a5)][_0x373942(0x23a)](_0xde3719=>{const _0x1be438=_0x373942;let _0x19688e=_0xde3719[_0x1be438(0x1b1)][_0x1be438(0x277)](_0x479b65=>_0x479b65[_0x1be438(0x24b)]==_0x58af61[_0x1be438(0x24b)]);if(_0x19688e){_0x256505+=_0x19688e[_0x1be438(0x2a0)];if(!_0x1cd906)_0x1cd906=_0x19688e[_0x1be438(0x2b9)];}}),_0x18ee81[_0x373942(0x308)]({'coin':_0x58af61[_0x373942(0x24b)],'number':_0x256505,'initialprice':_0x1cd906});});const _0x2c8de3={'basecoin':_0x52a688,'eur':_0x141f86,'usd':_0xd1cd38,'coins':_0x18ee81};if(_0x310ed3)proxyEmit(_0x3ff3de(0x1e4),_0x2c8de3);startingBalances=_0x2c8de3;}}function headlessMode(_0x59d5b7){const _0x33cc86=_0x962735;let _0x35c694=_0x59d5b7[_0x33cc86(0x2c0)],_0x417344=_0x59d5b7['threshold'],_0x52f2b6=[];for(let _0x2a4f93 of _0x35c694){if(_0x2a4f93[_0x33cc86(0x24b)]!=config['basecoin']){if(_0x2a4f93[_0x33cc86(0x2b6)]>=_0x417344/0x64){if(_0x2a4f93[_0x33cc86(0x210)])_0x52f2b6[_0x33cc86(0x308)](_0x2a4f93);}else{if(_0x2a4f93[_0x33cc86(0x2b6)]<=-_0x417344/0x64){if(_0x2a4f93[_0x33cc86(0x210)])_0x52f2b6[_0x33cc86(0x308)](_0x2a4f93);}}}}_0x52f2b6[_0x33cc86(0x2a6)]>0x0&&placeOrder(_0x52f2b6);}function notifyBalance(_0x3a26de){const _0x5e5c87=_0x962735;let _0x2924ab=_0x3a26de[_0x5e5c87(0x2c0)],_0x3b5952=_0x3a26de[_0x5e5c87(0x25a)],_0xc87708=[];for(let _0x149803 of _0x2924ab){if(_0x149803[_0x5e5c87(0x24b)]!=config[_0x5e5c87(0x2e0)]){if(_0x149803[_0x5e5c87(0x2b6)]>=_0x3b5952/0x64){if(_0x149803[_0x5e5c87(0x210)])_0xc87708[_0x5e5c87(0x308)](_0x149803);}else{if(_0x149803[_0x5e5c87(0x2b6)]<=-_0x3b5952/0x64){if(_0x149803['valid'])_0xc87708['push'](_0x149803);}}}}if(_0xc87708['length']>0x0){let _0x5658db=_0xc87708[_0x5e5c87(0x20b)](_0x5aa9b3=>_0x5aa9b3['coin']);_0x5658db[_0x5e5c87(0x219)]();let _0x760dc4=_0x5658db['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x5e5c87(0x1b7),_0x5e5c87(0x1e9));lastCoinsToBalance=_0x760dc4;}}function symbolToCoin(_0x391d29){const _0x5ee28a=_0x962735;let _0x4eeb16;if(_0x391d29[_0x5ee28a(0x28e)]('/'+config['basecoin']))_0x4eeb16=_0x391d29['replace']('/'+config['basecoin'],'');if(_0x391d29[_0x5ee28a(0x28e)](config['basecoin']+'/'))_0x4eeb16=_0x391d29['replace'](config[_0x5ee28a(0x2e0)]+'/','');return _0x4eeb16;}async function unlockOrders(){const _0x261def=_0x962735;if(allOrdersPlaced&&lockOrders==ORDERS[_0x261def(0x30f)]){logger[_0x261def(0x2e8)](_0x261def(0x31d)),lockOrders=ORDERS[_0x261def(0x25f)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x4b7601=await getCoins();[currentCoins,currentCoinsAll]=_0x4b7601,validateOrdersState=_0x261def(0x1fb),persistOpenOrders([]),lockOrders=ORDERS[_0x261def(0x2a1)],logger[_0x261def(0x2e8)](_0x261def(0x1fc));}}async function validateOrders(_0x189a05){const _0x1e0448=_0x962735;if(_0x189a05)validateOrdersState=_0x189a05;logger[_0x1e0448(0x2e8)](_0x1e0448(0x1fe)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x1e0448(0x1bf):lockOrders==0x2?_0x1e0448(0x1c6):_0x1e0448(0x1ae)));let _0x1f387a=[],_0x527415=config[_0x1e0448(0x224)]==_0x1e0448(0x318)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1e0448(0x30f)])return;logger[_0x1e0448(0x2e8)](_0x1e0448(0x246)+validateOrdersState),lastOrders[_0x1e0448(0x23a)](_0x503556=>{const _0x5c67ea=_0x1e0448;let _0x479934=![];_0x503556[_0x5c67ea(0x2fb)]>0x0&&(_0x479934=!![]),_0x1f387a[_0x5c67ea(0x308)](_0x479934),_0x479934&&config[_0x5c67ea(0x224)]!=_0x5c67ea(0x318)&&logHistory(_0x5c67ea(0x216),_0x5c67ea(0x201)+_0x503556[_0x5c67ea(0x1ef)]+'\x20'+_0x503556[_0x5c67ea(0x237)]+'\x20#'+formatResult(_0x503556[_0x5c67ea(0x2fb)],0x8)+'\x20@'+formatResult(_0x503556['price'],0x8));}),_0x1f387a[_0x1e0448(0x23a)]((_0x15507a,_0x3b6972)=>{const _0x15fde3=_0x1e0448;if(_0x15507a)lastOrders[_0x15fde3(0x274)](_0x3b6972,0x1);}),persistOpenOrders(lastOrders);const _0x46b43a=coolingDown?_0x1e0448(0x1e5):_0x1e0448(0x2d7);if(validateOrdersState==_0x1e0448(0x1fb)){validateOrdersState='ongoing';if(_0x1f387a['includes'](![])){if(config['ordertype']==_0x1e0448(0x318)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x1f387a['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x1e0448(0x224)]==_0x1e0448(0x318)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x1e0448(0x2d0))_0x1f387a[_0x1e0448(0x28e)](![])&&(config[_0x1e0448(0x224)]==_0x1e0448(0x318)?logHistory(_0x1e0448(0x2f8),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x1e0448(0x212)](_0x527415*validateOrderInterval/0xea60)+_0x1e0448(0x2b7)+_0x46b43a):(await cancelOrders(),logHistory(_0x1e0448(0x2f8),_0x1e0448(0x2c4)+Math[_0x1e0448(0x212)](_0x527415*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x46b43a))),await unlockOrders();else{if(validateOrdersState==_0x1e0448(0x2c8)){if(config[_0x1e0448(0x224)]!=_0x1e0448(0x318))logHistory(_0x1e0448(0x2f8),_0x1e0448(0x26d)+_0x46b43a);await unlockOrders();}}}}}async function cancelOrders(){const _0x54b782=_0x962735;lastOrders[_0x54b782(0x23a)](async _0x4a6099=>{const _0xe13616=_0x54b782;try{const _0x30e65e=await exchange[_0xe13616(0x236)](_0x4a6099[_0xe13616(0x233)],_0x4a6099[_0xe13616(0x1ef)]);}catch(_0x228161){if(_0x228161['toString']()[_0xe13616(0x28e)]('OrderNotFound')){}else await handleError(_0x228161,_0xe13616(0x1e3));}});}async function initCoinResults(_0x2319aa){const _0x2b8cb0=_0x962735;_0x2319aa?logger['debug'](_0x2b8cb0(0x2bf)+_0x2319aa):logger[_0x2b8cb0(0x2e8)]('Initializing\x20coin\x20results'),config[_0x2b8cb0(0x2c0)][_0x2b8cb0(0x23a)](_0xf2027a=>{const _0x1e3f1f=_0x2b8cb0;if(!_0xf2027a[_0x1e3f1f(0x271)]&&_0xf2027a[_0x1e3f1f(0x24b)]!=config[_0x1e3f1f(0x2e0)]){const _0x35a952=currentCoins[_0x1e3f1f(0x277)](_0x21b312=>_0x21b312[_0x1e3f1f(0x24b)]==_0xf2027a[_0x1e3f1f(0x24b)]),_0x5b2f80=global[_0x1e3f1f(0x1b8)][noslash(_0xf2027a[_0x1e3f1f(0x1ef)])];let _0x1bd267=_0x35a952?_0x35a952[_0x1e3f1f(0x2a0)]:null,_0x4d4363=_0xf2027a[_0x1e3f1f(0x310)]?0x1/_0x5b2f80:_0x5b2f80,_0x5350ba;config[_0x1e3f1f(0x2a5)][_0x1e3f1f(0x23a)](_0x1ef61f=>{const _0x4560ec=_0x1e3f1f;!_0x5350ba&&(_0x5350ba=_0x1ef61f[_0x4560ec(0x1b1)]['find'](_0x31557c=>_0x31557c[_0x4560ec(0x24b)]==_0xf2027a['coin']),_0x5350ba&&(_0x1bd267=_0x5350ba[_0x4560ec(0x2a0)],_0x4d4363=_0x5350ba[_0x4560ec(0x2b9)]));});let _0x851ebc=dbCoinResults[_0x1e3f1f(0x1c0)]('coins')[_0x1e3f1f(0x277)]({'coin':_0xf2027a[_0x1e3f1f(0x24b)]})[_0x1e3f1f(0x208)]();if(!_0x851ebc){const _0x456386={'coin':_0xf2027a['coin'],'number':_0x1bd267,'breakeven':_0x4d4363,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x1e3f1f(0x1e7))[_0x1e3f1f(0x308)](_0x456386)[_0x1e3f1f(0x312)]();}else{if(_0x2319aa&&_0xf2027a[_0x1e3f1f(0x24b)]==_0x2319aa){const _0x1aefec={'coin':_0xf2027a[_0x1e3f1f(0x24b)],'number':_0x1bd267,'breakeven':_0x4d4363,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1e3f1f(0x1c0)]('coins')[_0x1e3f1f(0x277)]({'coin':_0xf2027a['coin']})[_0x1e3f1f(0x2b2)](_0x1aefec)[_0x1e3f1f(0x312)]();}}}});}async function updateCoinResults(_0x265aa3,_0x2845df=![]){const _0x473752=_0x962735;let _0xf1afb1,_0x3f4b48,_0x24b636,_0x3b4033,_0x4c8def,_0x56d861,_0x4cf3f0=dbCoinResults[_0x473752(0x1c0)](_0x473752(0x1e7))[_0x473752(0x277)]({'coin':_0x265aa3[_0x473752(0x24b)]})[_0x473752(0x208)](),_0x2b3f89=![];Object['entries'](_0x4cf3f0)['forEach'](([_0x2a260b,_0x92ae5f])=>{if(_0x92ae5f==null)_0x2b3f89=!![];});(!_0x4cf3f0||_0x2b3f89)&&(await initCoinResults(_0x265aa3[_0x473752(0x24b)]),_0x4cf3f0=dbCoinResults['get']('coins')[_0x473752(0x277)]({'coin':_0x265aa3['coin']})[_0x473752(0x208)]());_0x265aa3[_0x473752(0x310)]&&(_0x56d861={'filled':_0x265aa3[_0x473752(0x2fb)]*_0x265aa3[_0x473752(0x2b9)],'amount':_0x265aa3['filled']*_0x265aa3[_0x473752(0x2b9)],'side':_0x265aa3[_0x473752(0x237)]=='sell'?_0x473752(0x2db):'sell','price':0x1/_0x265aa3[_0x473752(0x2b9)]},_0x265aa3={..._0x265aa3,..._0x56d861});_0x2845df?_0x3f4b48=_0x265aa3[_0x473752(0x237)]==_0x473752(0x2db)?_0x4cf3f0[_0x473752(0x2a0)]+_0x265aa3['filled']:_0x4cf3f0[_0x473752(0x2a0)]-_0x265aa3[_0x473752(0x2fb)]:_0x3f4b48=await getCoinNumber(_0x265aa3['coin']);if(_0x265aa3[_0x473752(0x32f)]&&_0x265aa3[_0x473752(0x32f)][_0x473752(0x2ef)]==config[_0x473752(0x2e0)])_0xf1afb1=_0x265aa3[_0x473752(0x32f)]['cost'];else{if(_0x265aa3[_0x473752(0x32f)]&&_0x265aa3[_0x473752(0x32f)]['currency']==_0x473752(0x322)&&!_0x2845df)_0xf1afb1=_0x265aa3['fee'][_0x473752(0x1de)]*global['ticker'][_0x473752(0x322)+config[_0x473752(0x2e0)]];else _0xf1afb1=defaultFee*_0x265aa3[_0x473752(0x2fb)]*_0x265aa3[_0x473752(0x2b9)];}_0x265aa3[_0x473752(0x237)]==_0x473752(0x2db)?(_0x24b636=_0x3f4b48!=0x0?(_0x4cf3f0[_0x473752(0x31e)]*_0x4cf3f0['number']+_0x265aa3[_0x473752(0x2b9)]*(_0x3f4b48-_0x4cf3f0[_0x473752(0x2a0)])+_0xf1afb1)/_0x3f4b48:0x0,_0x3b4033=_0x4cf3f0[_0x473752(0x22d)]):(_0x24b636=_0x3f4b48!=0x0?(_0x4cf3f0[_0x473752(0x31e)]*_0x4cf3f0[_0x473752(0x2a0)]-_0x265aa3[_0x473752(0x2b9)]*(_0x4cf3f0['number']-_0x3f4b48)+_0xf1afb1)/_0x3f4b48:0x0,_0x3b4033=_0x4cf3f0[_0x473752(0x22d)]+(_0x265aa3[_0x473752(0x2b9)]-_0x4cf3f0[_0x473752(0x31e)])*_0x265aa3['filled']);_0x4c8def=(_0x265aa3[_0x473752(0x2b9)]-_0x24b636-_0xf1afb1/_0x265aa3['filled'])*_0x3f4b48;let _0xcaa379={'coin':_0x265aa3[_0x473752(0x24b)],'number':_0x3f4b48,'breakeven':formatResult(_0x24b636,0x8),'realized':formatResult(_0x3b4033,0x8),'unrealized':formatResult(_0x4c8def,0x8),'fees':formatResult(_0x4cf3f0[_0x473752(0x291)]+_0xf1afb1,0x8),'sells':_0x265aa3[_0x473752(0x237)]=='sell'?_0x4cf3f0[_0x473752(0x1cf)]+0x1:_0x4cf3f0[_0x473752(0x1cf)],'buys':_0x265aa3[_0x473752(0x237)]==_0x473752(0x2db)?_0x4cf3f0[_0x473752(0x1ed)]+0x1:_0x4cf3f0[_0x473752(0x1ed)]};dbCoinResults[_0x473752(0x1c0)]('coins')[_0x473752(0x277)]({'coin':_0x265aa3[_0x473752(0x24b)]})[_0x473752(0x2b2)](_0xcaa379)[_0x473752(0x312)]();if(!_0x2845df){if(_0x265aa3[_0x473752(0x32f)]&&_0x265aa3[_0x473752(0x32f)]['currency']==_0x473752(0x322)){const _0x47462b=currentCoins['find'](_0x5a47f5=>_0x5a47f5[_0x473752(0x24b)]==_0x473752(0x322));if(_0x47462b){let _0x1e410c=dbCoinResults['get']('coins')[_0x473752(0x277)]({'coin':_0x473752(0x322)})[_0x473752(0x208)]();_0xcaa379={..._0x1e410c,'number':_0x47462b[_0x473752(0x2a0)]},dbCoinResults[_0x473752(0x1c0)]('coins')[_0x473752(0x277)]({'coin':_0x473752(0x322)})[_0x473752(0x2b2)](_0xcaa379)['write']();}}}}async function placeOrder(_0x349725){const _0x257958=_0x962735,_0x1e89eb=config[_0x257958(0x224)]=='market'?_0x257958(0x318):'limit';if(lockOrders==ORDERS[_0x257958(0x2a1)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x257958(0x30f)],allOrdersPlaced=![],validateOrdersState=_0x257958(0x1fb);let _0x4e3ded=![];lastOrders=[];for(const _0x19d1c9 of _0x349725){let _0xfe28c2,_0x2558bf,_0x50a43b,_0x4409df,_0x1727c0,_0x3fcb33=_0x19d1c9[_0x257958(0x1ef)];try{const _0x2bdbd4=await exchange['fetchTicker'](_0x3fcb33);_0xfe28c2=_0x19d1c9['reverse']?0x1/_0x19d1c9[_0x257958(0x244)]:_0x19d1c9['last'],_0x2558bf=_0x2bdbd4[_0x257958(0x20d)],_0x50a43b=_0x2bdbd4['ask'];_0x19d1c9['reverse']?(_0x4409df=_0x19d1c9[_0x257958(0x237)]==_0x257958(0x2db)?_0x257958(0x275):_0x257958(0x2db),_0x1727c0=Math[_0x257958(0x2ed)](_0x19d1c9[_0x257958(0x2d9)])/_0xfe28c2):(_0x4409df=_0x19d1c9[_0x257958(0x237)],_0x1727c0=Math['abs'](_0x19d1c9[_0x257958(0x2d9)]));_0x1e89eb==_0x257958(0x1c3)&&(config[_0x257958(0x224)]==_0x257958(0x248)&&(_0xfe28c2=_0x4409df=='buy'?_0x2558bf:_0x50a43b),config[_0x257958(0x224)]=='limit-low'&&(_0xfe28c2=_0x4409df==_0x257958(0x2db)?_0x50a43b:_0x2558bf));_0x1727c0=formatResult(_0x1727c0,0x8),_0xfe28c2=formatResult(_0xfe28c2,0x8);const _0x1d72f4=_0x4409df==_0x257958(0x275)?config[_0x257958(0x32a)]?String[_0x257958(0x227)]('0x'+config[_0x257958(0x32a)])+'\x20':'':config['emojibuy']?String[_0x257958(0x227)]('0x'+config[_0x257958(0x301)])+'\x20':'',_0x4a37bb=_0x1e89eb==_0x257958(0x318)?'Market':config[_0x257958(0x224)]==_0x257958(0x248)?_0x257958(0x327):'Limit\x20(low-margin)',_0x4cdbcf=(Math[_0x257958(0x2b4)](Math[_0x257958(0x2cc)]()*0x35a4e900)+0x5f5e100)[_0x257958(0x332)]();lastOrders[_0x257958(0x308)]({'customId':_0x4cdbcf,'symbol':_0x3fcb33,'coin':_0x19d1c9[_0x257958(0x24b)],'amount':_0x1727c0,'price':_0xfe28c2,'side':_0x4409df,'reverse':_0x19d1c9[_0x257958(0x310)],'filled':0x0});if(_0x1e89eb==_0x257958(0x318))logHistory(_0x257958(0x216),''+_0x1d72f4+_0x4a37bb+_0x257958(0x29d)+_0x3fcb33+'\x20'+_0x4409df+'\x20#'+formatResult(_0x1727c0,0x8)+'\x20@'+formatResult(_0xfe28c2,0x8));else logHistory('order',''+_0x1d72f4+_0x4a37bb+_0x257958(0x29d)+_0x3fcb33+'\x20'+_0x4409df+'\x20#'+formatResult(_0x1727c0,0x8)+'\x20@'+formatResult(_0xfe28c2,0x8));const _0x532427=await exchange[_0x257958(0x32c)](_0x3fcb33,_0x1e89eb,_0x4409df,_0x1727c0,_0xfe28c2);logger['debug']('ID:\x20'+_0x532427['id']+'\x20|\x20Custom\x20ID:\x20'+_0x4cdbcf);const _0x46f0d7=lastOrders[_0x257958(0x2a6)]-0x1;if(_0x46f0d7>=0x0&&lastOrders[_0x46f0d7]['customId']==_0x4cdbcf){lastOrders[_0x46f0d7][_0x257958(0x233)]=_0x532427['id'];if(_0x532427[_0x257958(0x256)])lastOrders[_0x46f0d7][_0x257958(0x256)]=_0x532427[_0x257958(0x256)];if(_0x532427['price'])lastOrders[_0x46f0d7][_0x257958(0x2b9)]=_0x532427[_0x257958(0x2b9)];lastOrders[_0x46f0d7][_0x257958(0x32f)]=_0x532427[_0x257958(0x32f)];}if(config[_0x257958(0x21b)]!=0x0){let _0x2682ff=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x2682ff=cooldownTracker[_0x257958(0x1d2)]();const _0x3cf844=getTimeStamp();cooldownTracker[_0x257958(0x308)](_0x3cf844);if(_0x2682ff){const _0x1c0f8d=fns[_0x257958(0x311)](new Date(_0x3cf844),new Date(_0x2682ff));if(_0x1c0f8d<cooldownInterval){logHistory(_0x257958(0x235),'Executed\x20'+config[_0x257958(0x21b)]+_0x257958(0x31a)+cooldownInterval/0x3c+_0x257958(0x2df)+cooldownPeriod/(0xe10*0x3e8)+_0x257958(0x32d)),coolingDown=!![];break;}}}}catch(_0x9d53d6){if(_0x9d53d6['toString']()[_0x257958(0x28e)](_0x257958(0x206)))lastOrders=lastOrders[_0x257958(0x2b3)](_0x3f9110=>_0x3f9110[_0x257958(0x1ef)]!=_0x3fcb33),logHistory(_0x257958(0x235),_0x257958(0x292)+_0x3fcb33),_0x4e3ded=!![];else{if(_0x9d53d6['toString']()['includes'](_0x257958(0x280)))lastOrders=lastOrders[_0x257958(0x2b3)](_0x573d56=>_0x573d56[_0x257958(0x1ef)]!=_0x3fcb33),logHistory(_0x257958(0x235),_0x257958(0x22f)+_0x3fcb33),_0x4e3ded=!![];else{if(_0x9d53d6[_0x257958(0x332)]()['includes'](_0x257958(0x1df)))lastOrders=lastOrders[_0x257958(0x2b3)](_0x2ecdfd=>_0x2ecdfd[_0x257958(0x1ef)]!=_0x3fcb33),logHistory(_0x257958(0x235),'Order\x20is\x20invalid:\x20'+_0x3fcb33),_0x4e3ded=!![];else _0x9d53d6[_0x257958(0x332)]()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0x45e60c=>_0x45e60c[_0x257958(0x1ef)]!=_0x3fcb33),logHistory('error',_0x257958(0x292)+_0x3fcb33),_0x4e3ded=!![]):(lastOrders=lastOrders[_0x257958(0x2b3)](_0x5829b6=>_0x5829b6[_0x257958(0x1ef)]!=_0x3fcb33),await handleError(_0x9d53d6,_0x257958(0x1c4),_0x3fcb33));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x257958(0x2a6)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3a0ce2=config[_0x257958(0x224)]==_0x257958(0x318)?validateOrderTimeout*0x3c*0x3e8:config[_0x257958(0x262)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x41f85e=_0x257958;validateOrders(_0x41f85e(0x2d0));},_0x3a0ce2);}else unlockOrders();_0x4e3ded&&config[_0x257958(0x1ec)]&&await pauseBot(_0x257958(0x1fd)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x257958(0x2f8),_0x257958(0x26c)));}else{if(coolingDown)!config[_0x257958(0x1ec)]&&logHistory(_0x257958(0x235),_0x257958(0x24e));else lockOrders!=ORDERS[_0x257958(0x2a1)]&&(!config['headless']&&(config[_0x257958(0x224)]==_0x257958(0x318)?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x257958(0x235),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x243480){const _0x175493=_0x962735,_0x162bfc={...config,'openOrders':_0x243480};let _0x3043e5=dbConfig['get'](_0x175493(0x29a))['find']({'botID':botID})[_0x175493(0x208)]();_0x3043e5&&dbConfig[_0x175493(0x1c0)](_0x175493(0x29a))[_0x175493(0x277)]({'botID':botID})['assign'](_0x162bfc)[_0x175493(0x312)]();}function restoreOrders(){const _0x4ba587=_0x962735;let _0x1f11bf;config[_0x4ba587(0x27c)]&&allOpenOrders[_0x4ba587(0x23a)](_0x25cc71=>{const _0x31c2d1=_0x4ba587,_0x5d9f65=config[_0x31c2d1(0x27c)][_0x31c2d1(0x277)](_0x352dcd=>_0x352dcd['orderId']==_0x25cc71['id']);_0x5d9f65&&(lastOrders[_0x31c2d1(0x308)](_0x5d9f65),_0x1f11bf=_0x25cc71[_0x31c2d1(0x211)]);});if(lastOrders[_0x4ba587(0x2a6)]>0x0){lockOrders=ORDERS[_0x4ba587(0x30f)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x5b9f89=new Date()[_0x4ba587(0x284)](),_0x514903=config[_0x4ba587(0x224)]==_0x4ba587(0x318)?validateOrderTimeout*0x3c*0x3e8:config[_0x4ba587(0x262)]*0x3c*0x3e8;if(_0x1f11bf+_0x514903>_0x5b9f89){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x1f11bf+_0x514903-_0x5b9f89);}else validateOrders(_0x4ba587(0x2d0));}}async function sendMetricsTelegram(){const _0xb177c3=_0x962735;if(!coinsLoaded){process[_0xb177c3(0x2dd)]({'telegrammsg':_0xb177c3(0x1f8)},_0xf82d72=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x290b73='';if(config[_0xb177c3(0x2bb)])_0x290b73='<b>'+config[_0xb177c3(0x2eb)]+_0xb177c3(0x30e);else _0x290b73=_0xb177c3(0x2c9)+botID+_0xb177c3(0x30e);const _0x7666ae=getKPIs(_0xb177c3(0x2e0)),_0x3f5be1=getKPIs(_0xb177c3(0x336),config[_0xb177c3(0x336)]),_0x3e7fa2=getKPIs('net-basecoin'),_0x2b1853=getKPIs(_0xb177c3(0x229),config[_0xb177c3(0x336)]);_0x290b73+=_0xb177c3(0x2ad),_0x290b73+=_0x7666ae[_0xb177c3(0x2c2)]+_0xb177c3(0x2a9)+_0x7666ae[_0xb177c3(0x208)]+'\x0a',_0x290b73+=_0x7666ae['rightTxt']+':\x20'+_0x7666ae[_0xb177c3(0x20c)]+'%\x0a',_0x290b73+=_0x3f5be1[_0xb177c3(0x2c2)]+_0xb177c3(0x2a9)+_0x3f5be1['value']+'\x0a',_0x290b73+=_0x3f5be1[_0xb177c3(0x2e6)]+':\x20'+_0x3f5be1[_0xb177c3(0x20c)]+'%\x0a',_0x290b73+=_0x3e7fa2[_0xb177c3(0x2c2)]+':\x20'+_0x3e7fa2[_0xb177c3(0x208)]+'\x20('+config[_0xb177c3(0x2e0)]+')\x0a',_0x290b73+=_0x3e7fa2[_0xb177c3(0x2e6)]+':\x20'+_0x3e7fa2[_0xb177c3(0x20c)]+_0xb177c3(0x297)+config[_0xb177c3(0x2e0)]+')\x0a',_0x290b73+=_0x2b1853[_0xb177c3(0x2c2)]+':\x20'+_0x2b1853[_0xb177c3(0x208)]+'\x20('+config[_0xb177c3(0x336)]+')\x0a',_0x290b73+=_0x2b1853[_0xb177c3(0x2e6)]+':\x20'+_0x2b1853[_0xb177c3(0x20c)]+_0xb177c3(0x297)+config[_0xb177c3(0x336)]+')\x0a',_0x290b73+=_0xb177c3(0x315),process[_0xb177c3(0x2dd)]({'telegrammsg':_0x290b73},_0x351cf3=>{});}async function sendPortfolioTelegram(){const _0x375f15=_0x962735;if(!coinsLoaded){process['send']({'telegrammsg':_0x375f15(0x1f8)},_0x5937b4=>{});return;}let _0x3ff97c='';if(config['showname'])_0x3ff97c=_0x375f15(0x2fd)+config['botname']+_0x375f15(0x22e);else _0x3ff97c='<b>Bot\x20'+botID+_0x375f15(0x22e);_0x3ff97c+=_0x375f15(0x2ad),_0x3ff97c+=_0x375f15(0x2c1),_0x3ff97c+=_0x375f15(0x287),_0x3ff97c+=_0x375f15(0x2c1),currentCoins[_0x375f15(0x23a)](_0x5a75aa=>{const _0x2eca4f=_0x375f15;_0x3ff97c+=_0x5a75aa['coin'][_0x2eca4f(0x245)](0x7)+'|\x20'+formatPad(_0x5a75aa[_0x2eca4f(0x320)],0x2,0x6)+'|\x20'+formatPad(_0x5a75aa['target'],0x2,0x6)+'|\x20'+formatPad(_0x5a75aa[_0x2eca4f(0x2b6)]*0x64,0x2,0x6)+'\x0a';}),_0x3ff97c+='</pre>',process[_0x375f15(0x2dd)]({'telegrammsg':_0x3ff97c},_0x163a34=>{});}function formatPad(_0x146d66,_0x878097,_0x4f3611){const _0x244843=_0x962735,_0x48b30f=formatResultString(_0x146d66,_0x878097);return _0x48b30f?_0x48b30f[_0x244843(0x1cc)](_0x4f3611):''[_0x244843(0x1cc)](_0x4f3611);}function logHistory(_0x447f52,_0x327d60,_0x35fde7=''){const _0x2dba32=_0x962735;let _0x4384ab={'time':getTimeStamp(),'type':_0x447f52,'event':_0x327d60};dbLogs[_0x2dba32(0x1c0)](_0x2dba32(0x215))[_0x2dba32(0x308)](_0x4384ab)['write']();if(_0x35fde7=='')_0x35fde7=_0x327d60;proxyEmit(_0x2dba32(0x268),{'log':_0x4384ab,'summary':_0x35fde7}),process[_0x2dba32(0x2dd)]({'telegram':{..._0x4384ab,'botname':config[_0x2dba32(0x2eb)],'showname':config[_0x2dba32(0x2bb)]}},_0x3cba52=>{}),logger[_0x2dba32(0x303)](''+_0x4384ab[_0x2dba32(0x268)]);}function emitHistory(_0x190814={}){const _0x3d65db=_0x962735;Object[_0x3d65db(0x2da)](_0x190814)[_0x3d65db(0x2a6)]==0x0&&(_0x190814={'type':[_0x3d65db(0x216),_0x3d65db(0x268)],'event':'','page':0x1});if(_0x190814[_0x3d65db(0x329)][_0x3d65db(0x28e)]('event'))_0x190814[_0x3d65db(0x329)][_0x3d65db(0x274)](_0x190814[_0x3d65db(0x329)]['indexOf']('event'),0x1,'error','warning',_0x3d65db(0x2f8));if(dbLogs[_0x3d65db(0x1b9)](_0x3d65db(0x215))['value']()){let _0x315aea=dbLogs[_0x3d65db(0x1c0)]('logs')[_0x3d65db(0x2b3)](_0x53d0dc=>{const _0x2004d8=_0x3d65db;if(_0x190814['type'][_0x2004d8(0x2a6)]==0x0)return![];else return _0x190814[_0x2004d8(0x329)][_0x2004d8(0x28e)](_0x53d0dc[_0x2004d8(0x329)]);})[_0x3d65db(0x2b3)](_0x4cfe17=>{const _0x3ef347=_0x3d65db;if(_0x190814['event']=='')return!![];else return _0x4cfe17['event'][_0x3ef347(0x1cd)]()[_0x3ef347(0x28e)](_0x190814[_0x3ef347(0x268)][_0x3ef347(0x1cd)]());})[_0x3d65db(0x276)](_0x3d65db(0x2e7)),_0x5868ed=_0x315aea[_0x3d65db(0x208)]()[_0x3d65db(0x2a6)];_0x315aea=_0x315aea[_0x3d65db(0x310)]()['slice']((_0x190814[_0x3d65db(0x2b0)]-0x1)*logPageSize,_0x190814[_0x3d65db(0x2b0)]*logPageSize-0x1)[_0x3d65db(0x310)]()[_0x3d65db(0x208)](),proxyEmit(_0x3d65db(0x2f6),{'logs':_0x315aea,'total':_0x5868ed});}else proxyEmit(_0x3d65db(0x2f6),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x545b2d){const _0x599c5c=_0x962735;if(dbLogs['has']('logs')[_0x599c5c(0x208)]()){const _0x20df25=dbLogs[_0x599c5c(0x1c0)]('logs')[_0x599c5c(0x276)](_0x599c5c(0x2e7))[_0x599c5c(0x2b3)](_0x4911b6=>{const _0x51c7a5=_0x599c5c;return _0x4911b6['type']==_0x51c7a5(0x216);})['value']();dbLogs['get'](_0x599c5c(0x215))[_0x599c5c(0x28d)]()['write'](),dbLogs[_0x599c5c(0x1c0)](_0x599c5c(0x215))[_0x599c5c(0x2b2)](_0x20df25)[_0x599c5c(0x312)](),emitHistory(_0x545b2d);}}async function pauseBot(_0x557f59=''){const _0x369637=_0x962735,_0x1a5791=new Date()['getTime']();if(!lastErrorShown||_0x1a5791-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x1a5791;!lastBotPause?(lastBotPause=_0x1a5791,consecutivePauses=0x1):(_0x1a5791-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x369637(0x2dd)]({'stop':'restart'},_0x2838d0=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x369637(0x284)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x557f59)_0x557f59+='\x20|\x20';logHistory(_0x369637(0x235),_0x557f59+_0x369637(0x1ea)+pauseBotInterval/0xea60+_0x369637(0x240)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){process['send']({'stop':'kill'},_0x31e1dd=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x39c14c,_0x3f3dc5){const _0x222afc=_0x962735;if(_0x39c14c[_0x222afc(0x332)]()['includes'](_0x222afc(0x30b)))return logHistory(_0x222afc(0x235),config[_0x222afc(0x2f3)]+_0x222afc(0x281)),![];else{if(_0x39c14c[_0x222afc(0x332)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x222afc(0x235),config[_0x222afc(0x2f3)]+_0x222afc(0x21e)),![];else{if(_0x39c14c[_0x222afc(0x332)]()[_0x222afc(0x28e)](_0x222afc(0x2c3)))return logHistory(_0x222afc(0x235),config[_0x222afc(0x2f3)]+_0x222afc(0x226)),logHistory(_0x222afc(0x235),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x39c14c,_0x3f3dc5);}}}async function handleError(_0x380a3f,_0x11139a,_0x9da509=''){const _0x62d568=_0x962735,_0x36e9eb=config[_0x62d568(0x2f3)]||_0x62d568(0x272);if(_0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)](_0x62d568(0x1d3)))await pauseBot(config[_0x62d568(0x2f3)]+_0x62d568(0x213));else{if(_0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)]('ExchangeNotAvailable'))await pauseBot(config[_0x62d568(0x2f3)]+_0x62d568(0x286));else{if(_0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)](_0x62d568(0x1f6)))await pauseBot(config[_0x62d568(0x2f3)]+'\x20not\x20responding');else{if(_0x380a3f[_0x62d568(0x332)]()['includes'](_0x62d568(0x22c)))await pauseBot(config['exchange']+_0x62d568(0x298));else{if(_0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x62d568(0x235),_0x11139a+_0x62d568(0x264)),logHistory(_0x62d568(0x235),_0x62d568(0x2ff)),await killBot();else{if(_0x380a3f[_0x62d568(0x332)]()['includes']('InvalidNonce'))logHistory(_0x62d568(0x235),_0x11139a+_0x62d568(0x29e)),logHistory(_0x62d568(0x235),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)](_0x62d568(0x30b)))logHistory('error',_0x11139a+'\x20|\x20'+config[_0x62d568(0x2f3)]+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x62d568(0x235),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)](_0x62d568(0x2d5)))logHistory('error',_0x11139a+_0x62d568(0x309)+config[_0x62d568(0x2f3)]+_0x62d568(0x29f)),logHistory(_0x62d568(0x235),_0x62d568(0x2ff)),await killBot();else{if(_0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)]('AuthenticationError'))logHistory(_0x62d568(0x235),_0x11139a+_0x62d568(0x309)+config[_0x62d568(0x2f3)]+_0x62d568(0x283)),logHistory(_0x62d568(0x235),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0x380a3f[_0x62d568(0x332)]()[_0x62d568(0x28e)]('InsufficientFunds')?logHistory(_0x62d568(0x235),_0x11139a+_0x62d568(0x25b)+_0x9da509):(logger[_0x62d568(0x303)](_0x11139a+_0x62d568(0x2be),_0x380a3f),await pauseBot(_0x62d568(0x2ae)));}}}}}}}}}function formatResult(_0x29600a,_0x168cc5){const _0x57708a=_0x962735;return parseFloat(_0x29600a[_0x57708a(0x24c)](_0x168cc5));}function formatResultTruncate(_0x1797a6,_0x4a7583){const _0x55471b=_0x962735;let _0x28d201=formatResultString(_0x1797a6,0xa),_0x4a6d64=_0x28d201[_0x55471b(0x20f)]('.');return _0x4a6d64!=-0x1&&(_0x28d201=_0x28d201[_0x55471b(0x1cb)](0x0,_0x4a6d64+_0x4a7583+0x1)),Number(_0x28d201);}function formatResultString(_0x4aeaa3,_0x27314d){const _0x25d02d=_0x962735;let _0x2ed216;if(!(''+_0x4aeaa3)[_0x25d02d(0x28e)]('e'))_0x2ed216=+(Math[_0x25d02d(0x212)](_0x4aeaa3+'e+'+_0x27314d)+'e-'+_0x27314d);else{let _0x23eaba=(''+_0x4aeaa3)[_0x25d02d(0x2ec)]('e'),_0x901cea='';+_0x23eaba[0x1]+_0x27314d>0x0&&(_0x901cea='+'),_0x2ed216=+(Math[_0x25d02d(0x212)](+_0x23eaba[0x0]+'e'+_0x901cea+(+_0x23eaba[0x1]+_0x27314d))+'e-'+_0x27314d);}return Number(_0x2ed216)[_0x25d02d(0x24c)](_0x27314d);}function getServerTime(){const _0x5e3a89=_0x962735,_0x833cdb=new Date();return _0x833cdb[_0x5e3a89(0x2ee)]()+'/'+(_0x833cdb[_0x5e3a89(0x230)]()+0x1)['toString']()[_0x5e3a89(0x1cc)](0x2,'0')+'/'+_0x833cdb['getDate']()[_0x5e3a89(0x332)]()[_0x5e3a89(0x1cc)](0x2,'0')+'\x20'+_0x833cdb['getHours']()['toString']()['padStart'](0x2,'0')+':'+_0x833cdb['getMinutes']()['toString']()[_0x5e3a89(0x1cc)](0x2,'0')+':'+_0x833cdb[_0x5e3a89(0x29b)]()[_0x5e3a89(0x332)]()[_0x5e3a89(0x1cc)](0x2,'0');}function getTimeStamp(){const _0x47e595=_0x962735,_0x166f7e=shiftedTime();return _0x166f7e['getFullYear']()+'/'+(_0x166f7e['getMonth']()+0x1)[_0x47e595(0x332)]()[_0x47e595(0x1cc)](0x2,'0')+'/'+_0x166f7e[_0x47e595(0x1da)]()[_0x47e595(0x332)]()[_0x47e595(0x1cc)](0x2,'0')+'\x20'+_0x166f7e['getHours']()[_0x47e595(0x332)]()[_0x47e595(0x1cc)](0x2,'0')+':'+_0x166f7e[_0x47e595(0x1b0)]()[_0x47e595(0x332)]()['padStart'](0x2,'0')+':'+_0x166f7e[_0x47e595(0x29b)]()[_0x47e595(0x332)]()[_0x47e595(0x1cc)](0x2,'0');}function getDate(){const _0x1828e1=_0x962735,_0x2a3a4a=shiftedTime();return _0x2a3a4a[_0x1828e1(0x2ee)]()+'/'+(_0x2a3a4a[_0x1828e1(0x230)]()+0x1)[_0x1828e1(0x332)]()[_0x1828e1(0x1cc)](0x2,'0')+'/'+_0x2a3a4a[_0x1828e1(0x1da)]()[_0x1828e1(0x332)]()[_0x1828e1(0x1cc)](0x2,'0');}function getHour(){const _0x5abb07=_0x962735,_0x29d8c3=shiftedTime();return _0x29d8c3[_0x5abb07(0x2e5)]()[_0x5abb07(0x332)]()[_0x5abb07(0x1cc)](0x2,'0');}function sleep(_0x359ecc){return new Promise(_0x466341=>setTimeout(_0x466341,_0x359ecc));}function shiftedTime(){const _0x3ab124=_0x962735,_0x5a2421=new Date();let _0x2eea77=_0x5a2421;if(config&&config['timeshift']!==0x0)_0x2eea77=fns[_0x3ab124(0x23f)](_0x5a2421,{'hours':config[_0x3ab124(0x335)]});return _0x2eea77;}function timer(_0x497c30){const _0xf880f8=_0x962735,_0x16548c=new Date();!lasttime?console[_0xf880f8(0x1d0)](getTimeStamp()+_0xf880f8(0x2a4),_0x497c30,_0x16548c):console['log'](getTimeStamp()+_0xf880f8(0x2a4),_0x497c30,(_0x16548c-lasttime)/0x3e8),lasttime=_0x16548c;}