const _0x1db9d9=_0x3e54;(function(_0xbb310b,_0x16bf6d){const _0x577656=_0x3e54,_0x13e787=_0xbb310b();while(!![]){try{const _0x24d1b7=parseInt(_0x577656(0x1cc))/0x1*(parseInt(_0x577656(0x293))/0x2)+parseInt(_0x577656(0x208))/0x3*(-parseInt(_0x577656(0x212))/0x4)+parseInt(_0x577656(0x29e))/0x5*(parseInt(_0x577656(0x1e5))/0x6)+parseInt(_0x577656(0x225))/0x7*(-parseInt(_0x577656(0x29c))/0x8)+parseInt(_0x577656(0x1f1))/0x9+-parseInt(_0x577656(0x1d1))/0xa+parseInt(_0x577656(0x2c6))/0xb*(parseInt(_0x577656(0x2b4))/0xc);if(_0x24d1b7===_0x16bf6d)break;else _0x13e787['push'](_0x13e787['shift']());}catch(_0x3de0a9){_0x13e787['push'](_0x13e787['shift']());}}}(_0x209b,0x96e2e));const _0x39a1e1=function(){let _0x1bdc65=!![];return function(_0x37fecb,_0x468b8b){const _0xbbda2e=_0x1bdc65?function(){const _0x300230=_0x3e54;if(_0x468b8b){const _0x3ed4d9=_0x468b8b[_0x300230(0x21d)](_0x37fecb,arguments);return _0x468b8b=null,_0x3ed4d9;}}:function(){};return _0x1bdc65=![],_0xbbda2e;};}(),_0x1edcdb=_0x39a1e1(this,function(){const _0x5e4b27=_0x3e54;return _0x1edcdb['toString']()[_0x5e4b27(0x200)](_0x5e4b27(0x216))[_0x5e4b27(0x2a8)]()[_0x5e4b27(0x2e4)](_0x1edcdb)['search']('(((.+)+)+)+$');});_0x1edcdb();'use strict';const ccxt=require(_0x1db9d9(0x2a7)),low=require(_0x1db9d9(0x27e)),FileSync=require(_0x1db9d9(0x290)),fs=require('fs'),fns=require(_0x1db9d9(0x231)),{WebsocketClient,DefaultLogger}=require(_0x1db9d9(0x2c0)),Crypt=require(_0x1db9d9(0x285))[_0x1db9d9(0x2c2)];let exchange,wsClient;global[_0x1db9d9(0x2c4)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x1db9d9(0x29a))[_0x1db9d9(0x1ca)],botID=process['argv'][0x2]||_0x1db9d9(0x1fc),pattern=/^[0-9]{3}$/;if(!pattern['test'](botID))return console['log'](_0x1db9d9(0x1e1)+botID+_0x1db9d9(0x1f2)),process['exit'](0x1);const userID=process[_0x1db9d9(0x2c5)][0x3]||'',configpath=userID?_0x1db9d9(0x2ba)+userID+'/':_0x1db9d9(0x2ba);!fs[_0x1db9d9(0x24d)](configpath)&&fs[_0x1db9d9(0x2d6)](configpath);const configfile=configpath+_0x1db9d9(0x2d7)+botID+'-config.json',logfile=configpath+_0x1db9d9(0x2d7)+botID+_0x1db9d9(0x29d),performancefile=configpath+_0x1db9d9(0x2d7)+botID+_0x1db9d9(0x2c7),coinresultsfile=configpath+'bot-'+botID+_0x1db9d9(0x296),settingsfile=configpath+_0x1db9d9(0x1fd),securefile=configpath+_0x1db9d9(0x28a),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x1db9d9(0x2dd)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1db9d9(0x2dd)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x1db9d9(0x2dd)]({'bot':[]})[_0x1db9d9(0x1db)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1db9d9(0x2dd)]({'coins':[]})[_0x1db9d9(0x1db)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x1db9d9(0x233),'symbol':_0x1db9d9(0x249)},'usd':{'coin':_0x1db9d9(0x1f6),'symbol':_0x1db9d9(0x2a3)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x3b1e9d)=>{},'debug':(..._0x42612d)=>{},'notice':(..._0x8d4ebc)=>{},'info':(..._0x373c6c)=>{},'warning':(..._0x3b460d)=>{},'error':async function(..._0x212d21){const _0x40d8ac=_0x1db9d9,_0x2d2ad9=new Date()[_0x40d8ac(0x20b)]();if(!lastErrorShown||_0x2d2ad9-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x40d8ac(0x20b)](),logHistory(_0x40d8ac(0x287),'WebSockets('+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available');let _0x2ea80e='';if(_0x212d21[0x0])_0x2ea80e+=_0x212d21[0x0];if(_0x212d21[0x1]&&_0x212d21[0x1]['error']&&_0x212d21[0x1][_0x40d8ac(0x287)][_0x40d8ac(0x259)])_0x2ea80e+=_0x40d8ac(0x217)+_0x212d21[0x1][_0x40d8ac(0x287)][_0x40d8ac(0x259)];logging(_0x40d8ac(0x235)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x2ea80e),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x1db9d9(0x29b)});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings[_0x1db9d9(0x254)]!=config[_0x1db9d9(0x254)]&&updateTimeshift(settings[_0x1db9d9(0x254)]);process[_0x1db9d9(0x20e)]({'started':_0x1db9d9(0x1cb)}),initializeProcessListeners();function _0x209b(){const _0x3bafa4=['Binance\x20API\x20key\x20is\x20invalid','delta','wss://stream.binance.com:9443','fetchTickers','format','kline','cancelOrder()','closeWs','cooldown','botID','mkdirSync','bot-','sell','Order(s)\x20not\x20validated\x20after\x20','asset','emojibuy','yyyy-MM-dd\x27T\x27HH:mm:ss','defaults','min','USDT','DDoSProtection','bot','function','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','constructor','version','running','2896JYaIrM','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','isArray','BTC/BUSD','progress','7737940euZPgL','wsMarket','LIMIT','padStart','map','apiSecret','getStartingBalances','getDate','balances','bid','write','symbol','Bot\x20','getHours','botname','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','Error:\x20Invalid\x20argument\x20','limit','Order\x20filled:\x20','replace','3684aaqjjr',':\x20Bot\x20','getFullYear','value','loadSymbols()','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','restart','InsufficientFunds','toLowerCase','splice','close','2902104OtnVRO',',\x20must\x20be\x20a\x203\x20digit\x20number','order','getPortfolio()','filled','BTCUSDT','fee','startdate','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','Order\x20amount\x20is\x20invalid:\x20','add','001','bb-settings.json','headless','fetchOHLCV','search','apiKey','date','BTCBUSD','remove','side','ExchangeNotAvailable','cancel','1548BZmmwG','differenceInCalendarDays','sells','getTime','fees','performance','send','currency','sort','symbols','8352ZNeawR','\x20orders\x20in\x20less\x20than\x20','event','orderId','(((.+)+)+)+$','\x20-\x20','log','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','settings','eachDayOfInterval','\x20>\x20','apply','getSeconds','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','availableBalance','excluded','cost','Executed\x20','buy','7ZRZWII','cancelLoading','breakeven','coin','coin-loading-progress','parse','reduce','\x20hour','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','remainingSymbols','EUR','limit-high','date-fns','assign','BTCEUR','Order:\x20','WebSockets(','portfolio','Order(s)\x20validated\x20-\x20balancing\x20resumed','toFixed','************','accumulatedQuantity','MIN_NOTIONAL','valid','data','reverse','indexOf','reconnected','fetchBalance','placeOrder','distribution','recreate','market','type','success','getMinutes','BTC/EUR','Market','fromCodePoint','spot','existsSync','kill','startnumber','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','API-key\x20format\x20invalid','DAI/','getMonth','timeshift','initws()','executionReport','datetime','getPortfolio','message','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','AuthenticationError','emojisell','wss://stream.binance.us:9443','eur','length','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','Limit\x20(high-margin)','Binance\x20API\x20secret\x20is\x20invalid','coinamount','\x20order:\x20','FILLED','last','getCoins()','\x20|\x20Error\x20details:\x20','yyyy/MM/dd\x20HH:mm:ss','USDC','abs','yyyy/MM/dd','binanceus','wsKey','Pausing\x20bot\x20for\x205\x20minutes\x20(','storeConfiguration','slice','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','total','secure','outboundAccountPosition','basecoin','privateKey','keys','page','args','subscribeSpotKline','userData','buys','lowdb','time','ordertype','showname','number','recreateHistory()','fetchOrders','hybrid-crypto-js','createOrder','error','exchange','logs','bb-secure.json','HOT/BTC','push','get','subscribeSpotUserDataStream','InvalidNonce','lowdb/adapters/FileSync','trade','HOT/EUR','698LcThjs','find','round','-results.json','includes','stringify','limits','./version.json','RSA-OAEP','3382424vZwxUP','-events.json','7435ZtIFmf','sortBy','event-history','amount','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','BTC/USDT','startprice','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','has','ccxt','toString','forEach','eventType','parseISO','price','configuration','entries','threshold','timestamp','timeout','target','coins','12zhVDpD','getFiat()','\x20minutes\x20-\x20balancing\x20resumed','decrypt','Limit\x20(low-margin)','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','./config/','BTC','filter','starting-balances','BNB','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','binance','cancelOrder','Crypt','usd','ticker','argv','7104427XIHRrX','-performance.json','formattedMessage','orderStatus','offset','initclient'];_0x209b=function(){return _0x3bafa4;};return _0x209b();}function proxyEmit(_0x438b5d,_0x418e25=null){const _0x2e2060=_0x1db9d9;process[_0x2e2060(0x20e)]({'function':_0x438b5d,'args':_0x418e25});}function initializeProcessListeners(){const _0x54891a=_0x1db9d9;process['on'](_0x54891a(0x259),_0x541e54=>{const _0x548d34=_0x54891a;switch(Object['keys'](_0x541e54)[0x0]){case _0x548d34(0x254):_0x541e54[_0x548d34(0x254)]!=undefined&&(settings[_0x548d34(0x254)]=_0x541e54['timeshift'],updateTimeshift(settings[_0x548d34(0x254)]));break;case _0x548d34(0x2e2):switch(_0x541e54[_0x548d34(0x2e2)]){case _0x548d34(0x2cb):initclient();break;case'emitHistory':emitHistory(_0x541e54['args']);break;case _0x548d34(0x258):getPortfolio(_0x541e54[_0x548d34(0x27a)]);break;case _0x548d34(0x270):storeConfiguration(_0x541e54[_0x548d34(0x27a)]);break;case'storeHeadless':storeHeadless(_0x541e54['args']);break;case _0x548d34(0x1d7):getStartingBalances();break;case _0x548d34(0x242):placeOrder(_0x541e54[_0x548d34(0x27a)]);break;case _0x548d34(0x226):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0xff513d=_0x1db9d9;if(pidBalances)clearTimeout(pidBalances);if(config[_0xff513d(0x201)]!=''){await initExchange(config[_0xff513d(0x201)],config[_0xff513d(0x1d6)]);let _0x12ac4c=await loadSymbols();_0x12ac4c&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0xfb79a9,_0x521ab4){const _0x10215f=_0x1db9d9,_0x97ee09=ccxt[config[_0x10215f(0x288)]];let _0x404599;switch(config[_0x10215f(0x288)]){case _0x10215f(0x2c0):_0x404599='wss://stream.binance.com:9443';break;case _0x10215f(0x26d):_0x404599=_0x10215f(0x25d);break;default:_0x404599=_0x10215f(0x2ce);}exchange=new _0x97ee09({'apiKey':_0xfb79a9,'secret':_0x521ab4,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0xfb79a9,'api_secret':_0x521ab4,'beautify':!![],'wsUrl':_0x404599},logger),config[_0x10215f(0x288)]==_0x10215f(0x26d)&&(stablecoins={'eur':{'coin':_0x10215f(0x203),'symbol':_0x10215f(0x1cf)},'usd':{'coin':'BTCUSDT','symbol':_0x10215f(0x2a3)}});}async function loadSymbols(){const _0xdaf4=_0x1db9d9;let _0x3e7efe;try{markets=await exchange['loadMarkets']();const _0x7760c4=[_0xdaf4(0x252),_0xdaf4(0x28b),_0xdaf4(0x292)];allSymbols=exchange[_0xdaf4(0x211)]['filter'](_0x1b56fc=>{let _0xdaafe7=![];return _0x7760c4['forEach'](_0x82597e=>{const _0x2fedff=_0x3e54;if(_0x1b56fc[_0x2fedff(0x297)](_0x82597e))_0xdaafe7=!![];}),!_0xdaafe7;}),_0x3e7efe=!![];}catch(_0x644524){await handleError(_0x644524,_0xdaf4(0x1e9)),_0x3e7efe=![];}return _0x3e7efe;}async function initbot(){const _0x55f543=_0x1db9d9;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x1152e3=dbCoinResults[_0x55f543(0x28d)]('coins')[_0x55f543(0x1e8)]();if(_0x1152e3[_0x55f543(0x25f)]==0x0)await resetCoinResults();}async function initclient(){const _0x11ff83=_0x1db9d9;proxyEmit(_0x11ff83(0x2ad),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x527ed2=_0x1db9d9;wsinitialized=![];ws1&&(ws1[_0x527ed2(0x2a9)](_0x103a79=>{const _0x3c3e11=_0x527ed2;try{wsClient[_0x3c3e11(0x2d3)](_0x103a79);}catch(_0x3c2963){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x116136){}ws2=null;}}async function initws(){const _0x44a962=_0x1db9d9;cleanws();let _0x1546d7=[];currentCoins[_0x44a962(0x2a9)](_0x4be90e=>{const _0x38364a=_0x44a962;if(_0x4be90e[_0x38364a(0x228)]!=config[_0x38364a(0x276)])_0x1546d7[_0x38364a(0x28c)](noslash(_0x4be90e[_0x38364a(0x1dc)]));});if(!_0x1546d7[_0x44a962(0x297)](stablecoins[_0x44a962(0x25e)][_0x44a962(0x228)]))_0x1546d7[_0x44a962(0x28c)](stablecoins[_0x44a962(0x25e)][_0x44a962(0x228)]);if(!_0x1546d7[_0x44a962(0x297)](stablecoins[_0x44a962(0x2c3)][_0x44a962(0x228)]))_0x1546d7[_0x44a962(0x28c)](stablecoins[_0x44a962(0x2c3)][_0x44a962(0x228)]);if(!_0x1546d7[_0x44a962(0x297)](_0x44a962(0x2be)+config[_0x44a962(0x276)]))_0x1546d7['push'](_0x44a962(0x2be)+config[_0x44a962(0x276)]);try{_0x1546d7['forEach']((_0x41d79e,_0x2e36c0)=>{const _0x4f99d4=_0x44a962;ws1[_0x2e36c0]=wsClient[_0x4f99d4(0x27b)](_0x41d79e,'1m');}),ws2=wsClient[_0x44a962(0x28e)](),wsClient['on'](_0x44a962(0x2c8),_0x4bcd8d=>{const _0x3bd5fd=_0x44a962;if(!Array['isArray'](_0x4bcd8d)&&!_0x4bcd8d[_0x3bd5fd(0x26e)][_0x3bd5fd(0x297)](_0x3bd5fd(0x27c))){if(_0x4bcd8d[_0x3bd5fd(0x2aa)]===_0x3bd5fd(0x2d1)){global['ticker'][_0x4bcd8d[_0x3bd5fd(0x2d1)][_0x3bd5fd(0x1dc)]]=_0x4bcd8d[_0x3bd5fd(0x2d1)][_0x3bd5fd(0x1f0)];return;}}else{if(!Array[_0x3bd5fd(0x1ce)](_0x4bcd8d)&&_0x4bcd8d[_0x3bd5fd(0x26e)]['includes'](_0x3bd5fd(0x27c))){if(_0x4bcd8d[_0x3bd5fd(0x1d2)][_0x3bd5fd(0x297)](_0x3bd5fd(0x24c))){updateNumberCoins(_0x4bcd8d);return;}}}}),wsClient['on'](_0x44a962(0x240),async _0x2d5794=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x308e71){await handleError(_0x308e71,_0x44a962(0x255));}let _0x131b27,_0x56d3d3=0x0;loading[_0x44a962(0x22e)]=[];let _0x1f647e=0x0;currentCoins[_0x44a962(0x2a9)](_0xdaaeff=>{const _0x299fe6=_0x44a962;if(_0xdaaeff[_0x299fe6(0x228)]!=config['basecoin'])loading[_0x299fe6(0x22e)][_0x299fe6(0x28c)](_0xdaaeff[_0x299fe6(0x1dc)]);}),loadingCanceled=![];while(_0x131b27!=currentCoins[_0x44a962(0x25f)]-0x1){_0x131b27=0x0,currentCoins[_0x44a962(0x2a9)](_0x355e8a=>{const _0x55b173=_0x44a962;_0x355e8a['coin']!=config['basecoin']&&global['ticker'][noslash(_0x355e8a[_0x55b173(0x1dc)])]&&(loading[_0x55b173(0x22e)]=loading[_0x55b173(0x22e)][_0x55b173(0x2bc)](_0x49f1f1=>_0x49f1f1!=_0x355e8a['symbol']),_0x131b27++);}),loading[_0x44a962(0x1d0)]=Math[_0x44a962(0x295)](_0x131b27/(currentCoins[_0x44a962(0x25f)]-0x1)*0x64);_0x1f647e>0x1e*0x5&&(loading[_0x44a962(0x2b1)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x44a962(0x207)]=!![],emitLoadingProgress();break;}else _0x131b27!=_0x56d3d3&&(_0x56d3d3=_0x131b27,emitLoadingProgress()),_0x1f647e++,await sleep(0xc8);}if(_0x131b27==currentCoins[_0x44a962(0x25f)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x506c41=_0x1db9d9;proxyEmit(_0x506c41(0x229),loading);}async function getFiat(){const _0x1dbff3=_0x1db9d9;let _0x5ed6bd=0x0,_0x5c6749=0x0;try{_0x5ed6bd=global[_0x1dbff3(0x2c4)][stablecoins['eur'][_0x1dbff3(0x228)]],_0x5c6749=global[_0x1dbff3(0x2c4)][stablecoins[_0x1dbff3(0x2c3)][_0x1dbff3(0x228)]];}catch(_0x95e30c){await handleError(_0x95e30c,_0x1dbff3(0x2b5));}return{'eur':Number(_0x5ed6bd),'usd':Number(_0x5c6749)};}async function setStartDatePerformance(_0x3373b9){const _0x247d7b=_0x1db9d9,_0x4616cb=fns[_0x247d7b(0x2d0)](new Date(_0x3373b9[_0x247d7b(0x1f8)]),_0x247d7b(0x26c));let _0x210754=[];_0x210754[stablecoins[_0x247d7b(0x25e)]['coin']]=await getCloses(stablecoins['eur'][_0x247d7b(0x1dc)],new Date(_0x3373b9[_0x247d7b(0x1f8)]),0x1),_0x210754[stablecoins['usd'][_0x247d7b(0x228)]]=await getCloses(stablecoins[_0x247d7b(0x2c3)][_0x247d7b(0x1dc)],new Date(_0x3373b9[_0x247d7b(0x1f8)]),0x1);let _0x514f84,_0x3cd8cf=[];_0x3373b9[_0x247d7b(0x236)][_0x247d7b(0x2a9)](_0x459496=>{const _0x6c9156=_0x247d7b;!_0x459496[_0x6c9156(0x221)]&&_0x3cd8cf[_0x6c9156(0x28c)]({'coin':_0x459496['coin'],'number':_0x459496[_0x6c9156(0x24f)],'price':_0x459496[_0x6c9156(0x2a4)]});}),_0x514f84={'date':_0x4616cb,'eur':_0x210754[stablecoins[_0x247d7b(0x25e)][_0x247d7b(0x228)]][0x0],'usd':_0x210754[stablecoins[_0x247d7b(0x2c3)][_0x247d7b(0x228)]][0x0],'coins':_0x3cd8cf};let _0x3a9ca5=dbPerformance[_0x247d7b(0x28d)](_0x247d7b(0x23d))[_0x247d7b(0x294)]({'date':_0x4616cb})['value']();_0x3a9ca5?dbPerformance[_0x247d7b(0x28d)](_0x247d7b(0x23d))[_0x247d7b(0x294)]({'date':_0x4616cb})[_0x247d7b(0x232)](_0x514f84)[_0x247d7b(0x1db)]():dbPerformance[_0x247d7b(0x28d)]('data')[_0x247d7b(0x28c)](_0x514f84)[_0x247d7b(0x1db)](),_0x3a9ca5=dbPerformance[_0x247d7b(0x28d)]('data')[_0x247d7b(0x29f)](_0x247d7b(0x202))[_0x247d7b(0x1e8)](),_0x3a9ca5[_0x247d7b(0x2a9)](_0x170e37=>{const _0xdada5e=_0x247d7b;_0x170e37['date']<_0x4616cb&&dbPerformance[_0xdada5e(0x28d)]('data')['remove']({'date':_0x170e37[_0xdada5e(0x202)]})['write']();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x1d5f4b){const _0x42f0ed=_0x1db9d9;let _0x79f437,_0x15b1fc=[];logHistory(_0x42f0ed(0x247),'Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0x1d5f4b[_0x42f0ed(0x236)][_0x42f0ed(0x2a9)](_0x18b549=>{const _0x3101e7=_0x42f0ed;if(_0x18b549[_0x3101e7(0x228)]!=config[_0x3101e7(0x276)]&&!_0x18b549[_0x3101e7(0x221)])_0x15b1fc[_0x3101e7(0x28c)]({'coin':_0x18b549[_0x3101e7(0x228)],'symbol':_0x18b549[_0x3101e7(0x1dc)]});});let _0x4fbb93=[];try{const _0x2d9869=fns[_0x42f0ed(0x2d0)](fns[_0x42f0ed(0x2ab)](_0x1d5f4b['startdate']['replace'](/\//g,'-')),_0x42f0ed(0x2dc));for(const _0x2864a6 of _0x15b1fc){if(_0x2864a6[_0x42f0ed(0x228)]!=config[_0x42f0ed(0x276)])_0x79f437=await exchange[_0x42f0ed(0x284)](_0x2864a6[_0x42f0ed(0x1dc)],Date['parse'](_0x2d9869));_0x79f437['forEach'](_0x333dd5=>{const _0x548004=_0x42f0ed,_0xb6df91=_0x2864a6['symbol'][_0x548004(0x297)](config[_0x548004(0x276)]+'/'),_0xdc2d07=fns[_0x548004(0x2d0)](fns[_0x548004(0x2ab)](_0x333dd5[_0x548004(0x257)]),_0x548004(0x269)),_0x2e5c8f=fns['format'](fns['parseISO'](_0x333dd5[_0x548004(0x257)]),_0x548004(0x26c));let _0x1bbfb7;if(_0x333dd5[_0x548004(0x205)]==_0x548004(0x224)&&_0xb6df91==![])_0x1bbfb7=_0x333dd5[_0x548004(0x2a1)];if(_0x333dd5[_0x548004(0x205)]==_0x548004(0x224)&&_0xb6df91==!![])_0x1bbfb7=-_0x333dd5[_0x548004(0x2a1)]*_0x333dd5[_0x548004(0x2ac)];if(_0x333dd5['side']==_0x548004(0x2d8)&&_0xb6df91==![])_0x1bbfb7=-_0x333dd5['amount'];if(_0x333dd5[_0x548004(0x205)]==_0x548004(0x2d8)&&_0xb6df91==!![])_0x1bbfb7=_0x333dd5[_0x548004(0x2a1)]*_0x333dd5[_0x548004(0x2ac)];_0x4fbb93[_0x548004(0x28c)]({'timestamp':_0xdc2d07,'date':_0x2e5c8f,'coin':_0x2864a6[_0x548004(0x228)],'symbol':_0x2864a6['symbol'],'type':_0x333dd5[_0x548004(0x246)],'side':_0x333dd5['side'],'reverse':_0xb6df91,'amount':formatResult(_0x333dd5[_0x548004(0x1f5)],0x8),'filled':formatResult(_0x333dd5[_0x548004(0x1f5)],0x8),'coinamount':formatResult(_0x1bbfb7,0x8),'price':formatResult(_0x333dd5[_0x548004(0x2ac)],0x8)});let _0x13cf4f;if(_0x333dd5['side']==_0x548004(0x224)&&_0xb6df91==![])_0x13cf4f=-_0x333dd5[_0x548004(0x2a1)]*_0x333dd5['price'];if(_0x333dd5[_0x548004(0x205)]==_0x548004(0x224)&&_0xb6df91==!![])_0x13cf4f=_0x333dd5[_0x548004(0x2a1)];if(_0x333dd5[_0x548004(0x205)]=='sell'&&_0xb6df91==![])_0x13cf4f=_0x333dd5[_0x548004(0x2a1)]*_0x333dd5['price'];if(_0x333dd5['side']==_0x548004(0x2d8)&&_0xb6df91==!![])_0x13cf4f=-_0x333dd5[_0x548004(0x2a1)];_0x4fbb93[_0x548004(0x28c)]({'date':_0x2e5c8f,'coin':config[_0x548004(0x276)],'coinamount':formatResult(_0x13cf4f,0x8)});});}_0x4fbb93[_0x42f0ed(0x210)]((_0x2d3323,_0x37ee70)=>_0x2d3323['timestamp']>_0x37ee70[_0x42f0ed(0x2b0)]?0x1:_0x37ee70['timestamp']>_0x2d3323[_0x42f0ed(0x2b0)]?-0x1:0x0),dbLogs[_0x42f0ed(0x28d)]('logs')[_0x42f0ed(0x204)]()[_0x42f0ed(0x1db)](),_0x4fbb93[_0x42f0ed(0x2a9)](_0x280ea7=>{const _0x5ad835=_0x42f0ed;let _0x53d903;_0x280ea7['coin']!=config['basecoin']&&(_0x53d903={'time':_0x280ea7['timestamp'],'type':_0x5ad835(0x1f3),'event':_0x5ad835(0x234)+_0x280ea7['symbol']+'\x20'+_0x280ea7[_0x5ad835(0x205)]+'\x20#'+_0x280ea7[_0x5ad835(0x2a1)]+'\x20@'+_0x280ea7['price']},dbLogs[_0x5ad835(0x28d)](_0x5ad835(0x289))[_0x5ad835(0x28c)](_0x53d903)[_0x5ad835(0x1db)]());});const _0x3957eb=fns[_0x42f0ed(0x21b)]({'start':new Date(_0x1d5f4b[_0x42f0ed(0x1f8)]),'end':new Date()})[_0x42f0ed(0x1d5)](_0x3691be=>fns['format'](_0x3691be,'yyyy/MM/dd'));let _0x5c4aa8=[];_0x1d5f4b[_0x42f0ed(0x236)][_0x42f0ed(0x2a9)](_0x39d012=>{const _0xa13fda=_0x42f0ed;if(!_0x39d012['excluded']){_0x5c4aa8[_0x39d012[_0xa13fda(0x228)]]=[];let _0x2bd9f9=_0x39d012['startnumber'];_0x3957eb[_0xa13fda(0x2a9)]((_0x2d14c4,_0x12ce20)=>{const _0x19152b=_0xa13fda;let _0x365316=_0x4fbb93[_0x19152b(0x2bc)](_0x2690d8=>_0x2690d8[_0x19152b(0x228)]==_0x39d012[_0x19152b(0x228)]&&_0x2690d8['date']==_0x2d14c4);if(_0x365316['length']!=0x0){let _0x1371b7=_0x365316[_0x19152b(0x22b)]((_0xb87ae0,_0x160c51)=>{const _0x5686be=_0x19152b;return _0xb87ae0+=_0x160c51[_0x5686be(0x263)],_0xb87ae0;},0x0);_0x2bd9f9+=_0x1371b7;}_0x5c4aa8[_0x39d012[_0x19152b(0x228)]][_0x2d14c4]=_0x2bd9f9;});}});const _0x1764c5=[..._0x15b1fc];_0x1764c5[_0x42f0ed(0x28c)]({'coin':stablecoins[_0x42f0ed(0x25e)]['coin'],'symbol':stablecoins[_0x42f0ed(0x25e)][_0x42f0ed(0x1dc)]}),_0x1764c5[_0x42f0ed(0x28c)]({'coin':stablecoins[_0x42f0ed(0x2c3)][_0x42f0ed(0x228)],'symbol':stablecoins['usd']['symbol']});let _0x4331c8=[];for(const _0x578d28 of _0x1764c5){_0x4331c8[_0x578d28['coin']]=await getCloses(_0x578d28[_0x42f0ed(0x1dc)],new Date(_0x1d5f4b['startdate']));}dbPerformance[_0x42f0ed(0x28d)]('data')['remove']()['write'](),_0x3957eb[_0x42f0ed(0x2a9)]((_0x3b50c1,_0x268830)=>{const _0x186dfe=_0x42f0ed;let _0x4610e3,_0xd4f9bc=[];_0x268830==0x0?(_0x1d5f4b['portfolio']['forEach'](_0x5d5877=>{const _0x5a2d5f=_0x3e54;!_0x5d5877[_0x5a2d5f(0x221)]&&_0xd4f9bc[_0x5a2d5f(0x28c)]({'coin':_0x5d5877['coin'],'number':_0x5d5877[_0x5a2d5f(0x24f)],'price':_0x5d5877[_0x5a2d5f(0x2a4)]});}),_0x4610e3={'date':_0x3b50c1,'eur':_0x4331c8[stablecoins[_0x186dfe(0x25e)][_0x186dfe(0x228)]][_0x268830],'usd':_0x4331c8[stablecoins[_0x186dfe(0x2c3)][_0x186dfe(0x228)]][_0x268830],'coins':_0xd4f9bc}):(_0x1d5f4b[_0x186dfe(0x236)][_0x186dfe(0x2a9)](_0x2eea76=>{const _0x263128=_0x186dfe;!_0x2eea76[_0x263128(0x221)]&&_0xd4f9bc[_0x263128(0x28c)]({'coin':_0x2eea76[_0x263128(0x228)],'number':_0x5c4aa8[_0x2eea76[_0x263128(0x228)]][_0x3b50c1],'price':_0x2eea76[_0x263128(0x228)]==config['basecoin']?0x1:_0x4331c8[_0x2eea76[_0x263128(0x228)]][_0x268830]});}),_0x4610e3={'date':_0x3b50c1,'eur':_0x4331c8[stablecoins[_0x186dfe(0x25e)][_0x186dfe(0x228)]][_0x268830],'usd':_0x4331c8[stablecoins[_0x186dfe(0x2c3)][_0x186dfe(0x228)]][_0x268830],'coins':_0xd4f9bc}),dbPerformance[_0x186dfe(0x28d)](_0x186dfe(0x23d))[_0x186dfe(0x28c)](_0x4610e3)[_0x186dfe(0x1db)]();}),emitPerformance(),await resetCoinResults();for(let _0x5cfdd9 of _0x4fbb93){_0x5cfdd9['coin']!=config[_0x42f0ed(0x276)]&&await updateCoinResults(_0x5cfdd9);}logHistory('success','Performance\x20recreation\x20completed\x20successfully');}catch(_0x27849f){await handleError(_0x27849f,_0x42f0ed(0x283));}}async function getCloses(_0x1c8453,_0x58d68b,_0x489112=undefined){const _0x115ce5=_0x1db9d9,_0x12f5ed='1d';let _0x3e8aed,_0x5a879f;const _0x564a33=fns[_0x115ce5(0x209)](new Date(),_0x58d68b)+0x1;try{const _0x207ed5=exchange['milliseconds']()-_0x564a33*0x18*0xe10*0x3e8;_0x3e8aed=await exchange[_0x115ce5(0x1ff)](_0x1c8453,_0x12f5ed,_0x207ed5,_0x489112),_0x5a879f=await exchange[_0x115ce5(0x2cf)](_0x1c8453);}catch(_0x1650f1){await handleError(_0x1650f1,'getCloses()');}let _0x1cdb40=ohlcvToCloses(_0x3e8aed);return _0x1cdb40[_0x115ce5(0x28c)](_0x5a879f[_0x1c8453]['last']),_0x1cdb40;}function ohlcvToCloses(_0x2e4082){const _0x618152=_0x1db9d9;let _0x430d45=[];return _0x2e4082[_0x618152(0x2a9)](function(_0x27f4f5){const _0x5c87a1=_0x618152;_0x430d45[_0x5c87a1(0x28c)](_0x27f4f5[0x4]);}),_0x430d45;}function _0x3e54(_0x2e9ff1,_0x19db0d){const _0x2ce273=_0x209b();return _0x3e54=function(_0x1edcdb,_0x39a1e1){_0x1edcdb=_0x1edcdb-0x1ca;let _0x209bf2=_0x2ce273[_0x1edcdb];return _0x209bf2;},_0x3e54(_0x2e9ff1,_0x19db0d);}function getConfiguration(_0x4fdbee){const _0x1f6fed=_0x1db9d9;let _0x4469e8=dbConfig['get']('bot')['find']({'botID':_0x4fdbee})[_0x1f6fed(0x1e8)]();if(_0x4469e8){let _0x10a3e5=![];!_0x4469e8[_0x1f6fed(0x288)]&&(_0x4469e8={..._0x4469e8,'exchange':'binance'},_0x10a3e5=!![]),!_0x4469e8[_0x1f6fed(0x276)]&&(_0x4469e8={..._0x4469e8,'basecoin':_0x1f6fed(0x2bb)},_0x10a3e5=!![]),!_0x4469e8[_0x1f6fed(0x280)]&&(_0x4469e8={..._0x4469e8,'ordertype':_0x1f6fed(0x245)},_0x10a3e5=!![]),!_0x4469e8[_0x1f6fed(0x2b1)]&&(_0x4469e8={..._0x4469e8,'timeout':0x14},_0x10a3e5=!![]),!_0x4469e8[_0x1f6fed(0x2db)]&&(_0x4469e8={..._0x4469e8,'emojibuy':''},_0x10a3e5=!![]),!_0x4469e8[_0x1f6fed(0x25c)]&&(_0x4469e8={..._0x4469e8,'emojisell':''},_0x10a3e5=!![]),!_0x4469e8[_0x1f6fed(0x281)]&&(_0x4469e8={..._0x4469e8,'showname':![]},_0x10a3e5=!![]),_0x10a3e5&&(_0x4469e8={'botID':_0x4469e8[_0x1f6fed(0x2d5)],'exchange':_0x4469e8[_0x1f6fed(0x288)],'apiKey':_0x4469e8[_0x1f6fed(0x201)],'apiSecret':_0x4469e8[_0x1f6fed(0x1d6)],'basecoin':_0x4469e8[_0x1f6fed(0x276)],'botname':_0x4469e8[_0x1f6fed(0x1df)],'showname':_0x4469e8[_0x1f6fed(0x281)],'threshold':_0x4469e8[_0x1f6fed(0x2af)],'ordertype':_0x4469e8['ordertype'],'timeout':_0x4469e8[_0x1f6fed(0x2b1)],'startdate':_0x4469e8[_0x1f6fed(0x1f8)],'recreate':_0x4469e8[_0x1f6fed(0x244)],'timeshift':_0x4469e8[_0x1f6fed(0x254)],'headless':_0x4469e8[_0x1f6fed(0x1fe)],'cooldown':_0x4469e8[_0x1f6fed(0x2d4)],'emojibuy':_0x4469e8['emojibuy'],'emojisell':_0x4469e8[_0x1f6fed(0x25c)],'portfolio':_0x4469e8[_0x1f6fed(0x236)]},dbConfig[_0x1f6fed(0x28d)](_0x1f6fed(0x2e1))[_0x1f6fed(0x204)]()[_0x1f6fed(0x1db)](),dbConfig[_0x1f6fed(0x28d)](_0x1f6fed(0x2e1))[_0x1f6fed(0x28c)](_0x4469e8)[_0x1f6fed(0x1db)]());}else _0x4469e8={'botID':_0x4fdbee,'exchange':_0x1f6fed(0x2c0),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x1f6fed(0x1dd)+_0x4fdbee,'showname':![],'threshold':'3','ordertype':_0x1f6fed(0x245),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1f6fed(0x254)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x4469e8;}function emittedConfiguration(){const _0x27c97a=_0x1db9d9;let _0xbc825c;return config[_0x27c97a(0x201)]==''?_0xbc825c=config:_0xbc825c={...config,'apiKey':_0x27c97a(0x239),'apiSecret':_0x27c97a(0x239)},_0xbc825c;}function getSettings(){const _0xfb0d57=_0x1db9d9;return dbSettings[_0xfb0d57(0x28d)](_0xfb0d57(0x21a))['value']();}function getSecure(){const _0x1a306c=_0x1db9d9;return dbSecure[_0x1a306c(0x28d)](_0x1a306c(0x274))[_0x1a306c(0x1e8)]()||{};}function updateTimeshift(_0x2a459c){const _0x29a4b0=_0x1db9d9;let _0x21d1ae=dbConfig[_0x29a4b0(0x28d)](_0x29a4b0(0x2e1))['find']({'botID':botID})[_0x29a4b0(0x1e8)]();_0x21d1ae&&dbConfig[_0x29a4b0(0x28d)](_0x29a4b0(0x2e1))[_0x29a4b0(0x294)]({'botID':botID})[_0x29a4b0(0x232)]({'timeshift':_0x2a459c})[_0x29a4b0(0x1db)](),config[_0x29a4b0(0x254)]=_0x2a459c,proxyEmit(_0x29a4b0(0x2ad),emittedConfiguration());}async function storeConfiguration(_0x642ba7){const _0xd79f3e=_0x1db9d9;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0xa4a9f7=dbConfig[_0xd79f3e(0x28d)](_0xd79f3e(0x2e1))[_0xd79f3e(0x294)]({'botID':botID})[_0xd79f3e(0x1e8)]();_0x642ba7={..._0x642ba7,'apiKey':crypt[_0xd79f3e(0x2b7)](secure['privateKey'],_0x642ba7['apiKey'])['message'],'apiSecret':crypt[_0xd79f3e(0x2b7)](secure[_0xd79f3e(0x277)],_0x642ba7[_0xd79f3e(0x1d6)])[_0xd79f3e(0x259)]};if(_0xa4a9f7){if(_0x642ba7[_0xd79f3e(0x201)]==_0xd79f3e(0x239))_0x642ba7[_0xd79f3e(0x201)]=config[_0xd79f3e(0x201)];if(_0x642ba7['apiSecret']==_0xd79f3e(0x239))_0x642ba7[_0xd79f3e(0x1d6)]=config[_0xd79f3e(0x1d6)];dbConfig[_0xd79f3e(0x28d)](_0xd79f3e(0x2e1))[_0xd79f3e(0x294)]({'botID':botID})[_0xd79f3e(0x232)](_0x642ba7)[_0xd79f3e(0x1db)]();}else dbConfig[_0xd79f3e(0x28d)](_0xd79f3e(0x2e1))[_0xd79f3e(0x28c)](_0x642ba7)[_0xd79f3e(0x1db)](),process[_0xd79f3e(0x20e)]({'status':'enabled','live':_0xd79f3e(0x1cb)});config={..._0x642ba7};if(config[_0xd79f3e(0x244)])await recreateHistory(config);else await setStartDatePerformance(config);process['send']({'botname':_0x642ba7[_0xd79f3e(0x1df)]}),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x37e0a3){const _0x24eb2d=_0x1db9d9,_0x40048b={...config,'headless':_0x37e0a3[_0x24eb2d(0x1fe)]};let _0x259ff6=dbConfig[_0x24eb2d(0x28d)]('bot')[_0x24eb2d(0x294)]({'botID':botID})[_0x24eb2d(0x1e8)]();_0x259ff6&&dbConfig[_0x24eb2d(0x28d)](_0x24eb2d(0x2e1))[_0x24eb2d(0x294)]({'botID':botID})[_0x24eb2d(0x232)](_0x40048b)['write'](),config={..._0x40048b},proxyEmit('configuration',emittedConfiguration());}function noslash(_0x5b0e87){const _0x4d5c05=_0x1db9d9;return _0x5b0e87[_0x4d5c05(0x1e4)]('/','');}function updateNumberCoins(_0x3398b0){const _0x7b140d=_0x1db9d9;_0x3398b0[_0x7b140d(0x2aa)]&&_0x3398b0[_0x7b140d(0x2aa)]==_0x7b140d(0x275)&&_0x3398b0[_0x7b140d(0x1d9)][_0x7b140d(0x2a9)](_0x203b45=>{const _0x4fe7b3=_0x7b140d;let _0x3d1dae=currentCoins[_0x4fe7b3(0x294)](_0x341076=>_0x341076[_0x4fe7b3(0x228)]==_0x203b45[_0x4fe7b3(0x2da)]),_0x2ce61c=config['portfolio'][_0x4fe7b3(0x294)](_0x54de74=>_0x54de74[_0x4fe7b3(0x228)]==_0x203b45[_0x4fe7b3(0x2da)]);if(_0x3d1dae&&_0x2ce61c)_0x3d1dae['number']=Number(_0x203b45[_0x4fe7b3(0x220)])+(_0x2ce61c['offset']||0x0);});if(_0x3398b0['eventType']&&_0x3398b0[_0x7b140d(0x2aa)]==_0x7b140d(0x256)){if(_0x3398b0['orderType']==_0x7b140d(0x1d3)&&_0x3398b0[_0x7b140d(0x2c9)]==_0x7b140d(0x265)){if(lastOrders)lastOrders[_0x7b140d(0x2a9)](_0x68a648=>{const _0x30f828=_0x7b140d;if(_0x68a648[_0x30f828(0x215)]==_0x3398b0[_0x30f828(0x215)]){if(_0x68a648[_0x30f828(0x23e)])_0x68a648[_0x30f828(0x1f5)]=_0x3398b0[_0x30f828(0x23a)]*_0x68a648[_0x30f828(0x2ac)];else _0x68a648[_0x30f828(0x1f5)]=_0x3398b0[_0x30f828(0x23a)];}});}}}async function getCoins(_0x11d06c=!![],_0x423329=config[_0x1db9d9(0x276)]){const _0x5c3e22=_0x1db9d9;let _0x402a25,_0x3eaf58=[],_0x50122e=[],_0xd31c85=[];try{_0x402a25=await exchange[_0x5c3e22(0x241)](),mybalances=_0x402a25[_0x5c3e22(0x273)];if(!_0x11d06c)for(const [_0x42ed3f,_0x10e639]of Object['entries'](mybalances)){_0xd31c85[_0x5c3e22(0x28c)](_0x42ed3f);}else config['portfolio']['forEach'](_0x5b4eaf=>{const _0x3584a0=_0x5c3e22;if(!_0x5b4eaf[_0x3584a0(0x221)])_0xd31c85[_0x3584a0(0x28c)](_0x5b4eaf['coin']);});if(_0x423329=='')for(const [_0x452d9d,_0x21cfc9]of Object[_0x5c3e22(0x2ae)](mybalances)){_0x21cfc9[_0x5c3e22(0x2a8)]()!=0x0&&_0x50122e['push']({'coin':_0x452d9d});}else for(const [_0x42340e,_0x47acda]of Object['entries'](mybalances)){if(_0xd31c85[_0x5c3e22(0x297)](_0x42340e)){const _0x2b9590=config[_0x5c3e22(0x236)][_0x5c3e22(0x294)](_0x58a641=>_0x58a641[_0x5c3e22(0x228)]==_0x42340e);if((_0x47acda['toString']()!=0x0||_0x2b9590)&&(allSymbols[_0x5c3e22(0x297)](_0x42340e+'/'+_0x423329)||_0x42340e==_0x423329))_0x50122e[_0x5c3e22(0x28c)]({'coin':_0x42340e,'symbol':_0x42340e+'/'+_0x423329,'reverse':![],'number':_0x47acda+(_0x2b9590&&_0x2b9590[_0x5c3e22(0x2ca)]||0x0)}),_0x42340e!=_0x423329&&_0x3eaf58[_0x5c3e22(0x28c)](_0x42340e+'/'+_0x423329);else(_0x47acda['toString']()!=0x0||_0x2b9590)&&allSymbols[_0x5c3e22(0x297)](_0x423329+'/'+_0x42340e)&&(_0x50122e[_0x5c3e22(0x28c)]({'coin':_0x42340e,'symbol':_0x423329+'/'+_0x42340e,'reverse':!![],'number':_0x47acda+(_0x2b9590&&_0x2b9590[_0x5c3e22(0x2ca)]||0x0)}),_0x42340e!=_0x423329&&_0x3eaf58[_0x5c3e22(0x28c)](_0x423329+'/'+_0x42340e));}}}catch(_0x47a7db){if(!_0x11d06c){if(_0x47a7db['toString']()[_0x5c3e22(0x297)](_0x5c3e22(0x251)))return logHistory(_0x5c3e22(0x287),_0x5c3e22(0x2cc)),![];else{if(_0x47a7db[_0x5c3e22(0x2a8)]()['includes'](_0x5c3e22(0x25b)))return logHistory('error',_0x5c3e22(0x1cd)),![];else{if(_0x47a7db['toString']()[_0x5c3e22(0x297)](_0x5c3e22(0x2e3)))return logHistory('error',_0x5c3e22(0x262)),![];else await handleError(_0x47a7db,'getCoins()');}}}else await handleError(_0x47a7db,_0x5c3e22(0x267));}return _0x50122e;}async function getPortfolio(_0x428939){const _0xfe191=_0x1db9d9;let _0x23798e=[],_0x5a2f3d=[],_0x29fdec,_0x76e0bd=[],_0x467f12,_0x4b5b3a;_0x428939[_0xfe191(0x201)]===_0xfe191(0x239)||_0x428939[_0xfe191(0x1d6)]==='************'?(_0x467f12=config[_0xfe191(0x201)],_0x4b5b3a=config['apiSecret']):(_0x467f12=_0x428939[_0xfe191(0x201)],_0x4b5b3a=_0x428939['apiSecret']);await initExchange(_0x467f12,_0x4b5b3a);let _0x326b32=await loadSymbols();if(_0x326b32){_0x76e0bd=await getCoins(![],_0x428939['basecoin']);if(_0x76e0bd===![])proxyEmit(_0xfe191(0x236),![]);else{if(_0x428939[_0xfe191(0x276)]=='')proxyEmit(_0xfe191(0x236),_0x76e0bd);else{_0x76e0bd[_0xfe191(0x2a9)](_0x1c96f3=>{const _0x41e09a=_0xfe191;_0x23798e[_0x41e09a(0x28c)](_0x1c96f3[_0x41e09a(0x1dc)]);});try{_0x5a2f3d=await exchange['fetchTickers'](_0x23798e);}catch(_0x39bd78){await handleError(_0x39bd78,_0xfe191(0x1f4));}_0x76e0bd['forEach'](_0x2cbec9=>{const _0x2cc6a8=_0xfe191;_0x2cbec9[_0x2cc6a8(0x228)]!=_0x428939[_0x2cc6a8(0x276)]?_0x29fdec=_0x2cbec9[_0x2cc6a8(0x23e)]?0x1/_0x5a2f3d[_0x2cbec9[_0x2cc6a8(0x1dc)]]['last']:_0x5a2f3d[_0x2cbec9[_0x2cc6a8(0x1dc)]][_0x2cc6a8(0x266)]:_0x29fdec=0x1,_0x2cbec9[_0x2cc6a8(0x2ac)]=formatResult(_0x29fdec,0x8);}),proxyEmit(_0xfe191(0x236),_0x76e0bd);}}}else proxyEmit(_0xfe191(0x236),![]);}function checkMinimums(_0x34da84){const _0x497e84=_0x1db9d9;let _0x4a1afe=!![];const _0x5dedfc=!_0x34da84[_0x497e84(0x23e)]?markets[_0x34da84[_0x497e84(0x1dc)]][_0x497e84(0x299)][_0x497e84(0x2a1)][_0x497e84(0x2de)]:markets[_0x34da84['symbol']]['limits']['cost'][_0x497e84(0x2de)],_0x20db96=!_0x34da84['reverse']?markets[_0x34da84[_0x497e84(0x1dc)]][_0x497e84(0x299)][_0x497e84(0x222)][_0x497e84(0x2de)]:markets[_0x34da84[_0x497e84(0x1dc)]]['limits']['amount'][_0x497e84(0x2de)];if(Math[_0x497e84(0x26b)](_0x34da84[_0x497e84(0x291)])<_0x5dedfc)_0x4a1afe=![];if(Math[_0x497e84(0x26b)](_0x34da84[_0x497e84(0x291)])*_0x34da84[_0x497e84(0x266)]<_0x20db96)_0x4a1afe=![];return _0x4a1afe;}async function getBalances(){const _0x1c08ca=_0x1db9d9;let _0x569d05=0x0,_0x2281b7;const _0xc30ae2=config[_0x1c08ca(0x2af)];currentCoins[_0x1c08ca(0x2a9)](_0x5278f1=>{const _0x268d69=_0x1c08ca;if(_0x5278f1[_0x268d69(0x228)]!=config['basecoin']){let _0x31e37d=global['ticker'][noslash(_0x5278f1[_0x268d69(0x1dc)])];_0x2281b7=_0x5278f1[_0x268d69(0x23e)]?0x1/_0x31e37d:_0x31e37d;}else _0x2281b7=0x1;let _0x1c07a5=_0x5278f1['number']*_0x2281b7;_0x569d05+=_0x1c07a5,_0x5278f1[_0x268d69(0x266)]=formatResult(Number(_0x2281b7),0x8),_0x5278f1[_0x268d69(0x1e8)]=_0x1c07a5;}),currentCoins[_0x1c08ca(0x2a9)](_0x34dd68=>{const _0x4a76d6=_0x1c08ca;let _0x22bd01=config[_0x4a76d6(0x236)]['find'](_0x2949d5=>_0x2949d5[_0x4a76d6(0x228)]==_0x34dd68[_0x4a76d6(0x228)]),_0x47b0a1=Number(_0x22bd01[_0x4a76d6(0x243)]),_0x107261=_0x34dd68[_0x4a76d6(0x1e8)]/_0x569d05*0x64,_0x43925e=_0x47b0a1*_0x569d05/0x64/_0x34dd68[_0x4a76d6(0x266)]-_0x34dd68[_0x4a76d6(0x282)];_0x34dd68[_0x4a76d6(0x243)]=formatResult(_0x107261,0x3),_0x34dd68[_0x4a76d6(0x2b2)]=formatResult(_0x47b0a1,0x3),_0x34dd68[_0x4a76d6(0x291)]=formatResult(_0x43925e,0x8),_0x34dd68[_0x4a76d6(0x205)]='',_0x34dd68[_0x4a76d6(0x23c)]='';if(_0x34dd68[_0x4a76d6(0x228)]!=config[_0x4a76d6(0x276)]){if(_0x34dd68[_0x4a76d6(0x243)]>_0x47b0a1)_0x34dd68[_0x4a76d6(0x205)]=_0x4a76d6(0x2d8),_0x34dd68[_0x4a76d6(0x23c)]=checkMinimums(_0x34dd68);else _0x34dd68[_0x4a76d6(0x243)]<_0x47b0a1&&(_0x34dd68[_0x4a76d6(0x205)]=_0x4a76d6(0x224),_0x34dd68[_0x4a76d6(0x23c)]=checkMinimums(_0x34dd68));}_0x34dd68[_0x4a76d6(0x2cd)]=_0x34dd68[_0x4a76d6(0x243)]/_0x34dd68[_0x4a76d6(0x2b2)]-0x1;}),currentCoins['sort']((_0x4b9cef,_0x47f1a8)=>_0x4b9cef['delta']<_0x47f1a8[_0x1c08ca(0x2cd)]?0x1:_0x47f1a8[_0x1c08ca(0x2cd)]<_0x4b9cef[_0x1c08ca(0x2cd)]?-0x1:0x0);const _0x74063c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x74063c[_0x1c08ca(0x25e)],'usd':_0x74063c['usd'],'portfolio':JSON[_0x1c08ca(0x298)](currentCoins),'threshold':_0xc30ae2},proxyEmit(_0x1c08ca(0x1d9),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0xc30ae2});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1f4f0d=_0x1db9d9;if(!lastBalances)return;let _0x32ef7a=await getStartingBalances(![]),_0x513c46=[],_0x54883c;JSON[_0x1f4f0d(0x22a)](lastBalances[_0x1f4f0d(0x236)])[_0x1f4f0d(0x2a9)](_0x2a1b1c=>{const _0x3e069f=_0x1f4f0d;let _0x283227={'coin':_0x2a1b1c[_0x3e069f(0x228)],'number':_0x2a1b1c[_0x3e069f(0x282)],'price':_0x2a1b1c[_0x3e069f(0x266)]};_0x513c46['push'](_0x283227);});const _0x28e145=await getFiat();_0x54883c={'date':lastBalances[_0x1f4f0d(0x27f)]['split']('\x20')[0x0],'eur':_0x28e145[_0x1f4f0d(0x25e)],'usd':_0x28e145[_0x1f4f0d(0x2c3)],'coins':_0x513c46};let _0x1eadbc=dbPerformance['get']('data')[_0x1f4f0d(0x294)]({'date':_0x54883c[_0x1f4f0d(0x202)]})['value']();_0x1eadbc?dbPerformance[_0x1f4f0d(0x28d)](_0x1f4f0d(0x23d))[_0x1f4f0d(0x294)]({'date':_0x54883c[_0x1f4f0d(0x202)]})['assign'](_0x54883c)[_0x1f4f0d(0x1db)]():dbPerformance[_0x1f4f0d(0x28d)]('data')[_0x1f4f0d(0x28c)](_0x54883c)[_0x1f4f0d(0x1db)](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x2fb715=_0x1db9d9;if(dbPerformance['has'](_0x2fb715(0x23d))['value']()){let _0x5bc7f1=dbPerformance['get'](_0x2fb715(0x23d))['sortBy']('date')[_0x2fb715(0x1e8)]();proxyEmit(_0x2fb715(0x20d),_0x5bc7f1),lastPerformanceEmitted=getDate();}else proxyEmit('performance',[]);}async function getStartingBalances(_0x18f535=!![]){const _0x526e04=_0x1db9d9;let _0x1ef514=dbPerformance[_0x526e04(0x28d)](_0x526e04(0x23d))[_0x526e04(0x294)]({'date':config[_0x526e04(0x1f8)]})['value']();config[_0x526e04(0x201)]!=''&&!_0x1ef514&&(await setStartDatePerformance(config),_0x1ef514=dbPerformance[_0x526e04(0x28d)]('data')[_0x526e04(0x294)]({'date':config[_0x526e04(0x1f8)]})['value']());if(config[_0x526e04(0x201)]==''||!_0x1ef514)return{};let _0x20219d=0x0,_0x35aaf8=0x0,_0x3b5b67=0x0,_0x5f20e4=[],_0x377393=0x0;config['portfolio'][_0x526e04(0x2a9)](_0x4872db=>{const _0x56d250=_0x526e04;if(!_0x4872db[_0x56d250(0x221)]){_0x5f20e4[_0x377393]={'coin':_0x4872db['coin'],'symbol':_0x4872db[_0x56d250(0x1dc)],'number':_0x4872db[_0x56d250(0x24f)],'price':_0x4872db[_0x56d250(0x2a4)]},_0x20219d+=_0x4872db[_0x56d250(0x2a4)]*_0x4872db[_0x56d250(0x24f)];if(config[_0x56d250(0x276)]==_0x56d250(0x2bb))_0x35aaf8+=_0x4872db['startprice']*_0x4872db[_0x56d250(0x24f)]*_0x1ef514['eur'],_0x3b5b67+=_0x4872db['startprice']*_0x4872db[_0x56d250(0x24f)]*_0x1ef514['usd'];else{if(config[_0x56d250(0x276)]=='BUSD'||config[_0x56d250(0x276)]==_0x56d250(0x2df)||config[_0x56d250(0x276)]==_0x56d250(0x26a))_0x35aaf8+=_0x4872db[_0x56d250(0x2a4)]*_0x4872db['startnumber']*_0x1ef514[_0x56d250(0x25e)]/_0x1ef514[_0x56d250(0x2c3)],_0x3b5b67+=_0x4872db[_0x56d250(0x2a4)]*_0x4872db[_0x56d250(0x24f)];else config[_0x56d250(0x276)]==_0x56d250(0x22f)&&(_0x35aaf8+=_0x4872db[_0x56d250(0x2a4)]*_0x4872db[_0x56d250(0x24f)],_0x3b5b67+=_0x4872db[_0x56d250(0x2a4)]*_0x4872db[_0x56d250(0x24f)]*_0x1ef514['usd']/_0x1ef514[_0x56d250(0x25e)]);}_0x377393++;}});let _0x38426f={'basecoin':_0x20219d,'eur':_0x35aaf8,'usd':_0x3b5b67,'coins':_0x5f20e4};if(_0x18f535)proxyEmit(_0x526e04(0x2bd),_0x38426f);return _0x38426f;}function headlessMode(_0x29019c){const _0x5ea6d9=_0x1db9d9;let _0x244fdd=_0x29019c[_0x5ea6d9(0x236)],_0x39fd7f=_0x29019c['threshold'],_0x919003=[];for(let _0x418c1b of _0x244fdd){if(_0x418c1b[_0x5ea6d9(0x228)]!=config[_0x5ea6d9(0x276)]){if(_0x418c1b[_0x5ea6d9(0x243)]/_0x418c1b[_0x5ea6d9(0x2b2)]-0x1>=_0x39fd7f/0x64){if(_0x418c1b[_0x5ea6d9(0x23c)])_0x919003['push'](_0x418c1b);}else{if(_0x418c1b['distribution']/_0x418c1b[_0x5ea6d9(0x2b2)]-0x1<=-_0x39fd7f/0x64){if(_0x418c1b[_0x5ea6d9(0x23c)])_0x919003[_0x5ea6d9(0x28c)](_0x418c1b);}}}}_0x919003['length']>0x0&&placeOrder(_0x919003);}function symbolToCoin(_0x151e05){const _0x1c5bff=_0x1db9d9;let _0x57e321;if(_0x151e05[_0x1c5bff(0x297)]('/'+config[_0x1c5bff(0x276)]))_0x57e321=_0x151e05[_0x1c5bff(0x1e4)]('/'+config[_0x1c5bff(0x276)],'');if(_0x151e05[_0x1c5bff(0x297)](config[_0x1c5bff(0x276)]+'/'))_0x57e321=_0x151e05[_0x1c5bff(0x1e4)](config[_0x1c5bff(0x276)]+'/','');return _0x57e321;}async function validateOrders(_0x8a0909=0x0){const _0x550061=_0x1db9d9;let _0x2f48e7=[],_0x2036e0=config[_0x550061(0x280)]==_0x550061(0x245)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x550061(0x2b1)]*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x40753f=>{const _0x2cc410=_0x550061;let _0x19e7f1=previousCoins[_0x2cc410(0x294)](_0x1fd153=>_0x1fd153['coin']==symbolToCoin(_0x40753f[_0x2cc410(0x1dc)])),_0x309bbd=currentCoins[_0x2cc410(0x294)](_0x269638=>_0x269638[_0x2cc410(0x228)]==symbolToCoin(_0x40753f[_0x2cc410(0x1dc)])),_0x333295,_0x363f59;_0x40753f[_0x2cc410(0x205)]==_0x2cc410(0x224)&&!_0x40753f[_0x2cc410(0x23e)]||_0x40753f[_0x2cc410(0x205)]==_0x2cc410(0x2d8)&&_0x40753f[_0x2cc410(0x23e)]?(_0x333295=_0x19e7f1[_0x2cc410(0x282)]+0.9*_0x40753f[_0x2cc410(0x1f5)],_0x363f59=_0x19e7f1['number']+1.1*_0x40753f['filled']):(_0x333295=_0x19e7f1[_0x2cc410(0x282)]-1.1*_0x40753f[_0x2cc410(0x1f5)],_0x363f59=_0x19e7f1[_0x2cc410(0x282)]-0.9*_0x40753f['filled']);const _0x41e6e1=_0x40753f[_0x2cc410(0x1f5)]!=0x0&&_0x309bbd['number']>=_0x333295&&_0x309bbd[_0x2cc410(0x282)]<=_0x363f59;_0x2f48e7[_0x2cc410(0x28c)](_0x41e6e1);if(_0x41e6e1&&config[_0x2cc410(0x280)]!=_0x2cc410(0x245)){if(_0x40753f[_0x2cc410(0x23e)])logHistory(_0x2cc410(0x1f3),_0x2cc410(0x1e3)+_0x40753f[_0x2cc410(0x1dc)]+'\x20'+_0x40753f['side']+'\x20#'+formatResult(_0x40753f['filled']/_0x40753f[_0x2cc410(0x2ac)],0x8)+'\x20@'+formatResult(_0x40753f[_0x2cc410(0x2ac)],0x8));else logHistory(_0x2cc410(0x1f3),'Order\x20filled:\x20'+_0x40753f[_0x2cc410(0x1dc)]+'\x20'+_0x40753f['side']+'\x20#'+formatResult(_0x40753f[_0x2cc410(0x1f5)],0x8)+'\x20@'+formatResult(_0x40753f[_0x2cc410(0x2ac)],0x8));}}),_0x2f48e7[_0x550061(0x2a9)]((_0x15e792,_0x45ad04)=>{const _0x5412e5=_0x550061;if(_0x15e792)lastOrders[_0x5412e5(0x1ef)](_0x45ad04,0x1);});if(_0x8a0909<_0x2036e0&&_0x2f48e7[_0x550061(0x297)](![])){if(_0x8a0909==0x0){config[_0x550061(0x280)]==_0x550061(0x245)?logHistory(_0x550061(0x287),_0x550061(0x219)):logHistory(_0x550061(0x287),_0x550061(0x2a2));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x8a0909);},0xa*0x3e8);}else{(_0x8a0909==0x1||_0x8a0909==Math[_0x550061(0x295)](_0x2036e0/0x2)||_0x8a0909==_0x2036e0-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x8a0909);},validateOrderInterval);}}else{lockOrders=![];if(_0x8a0909>0x0&&!_0x2f48e7[_0x550061(0x297)](![]))config[_0x550061(0x280)]==_0x550061(0x245)?logHistory(_0x550061(0x247),_0x550061(0x237)):logHistory(_0x550061(0x247),'Order(s)\x20filled\x20-\x20balancing\x20resumed');else _0x8a0909>0x0&&_0x2f48e7[_0x550061(0x297)](![])&&(config['ordertype']==_0x550061(0x245)?logHistory(_0x550061(0x247),_0x550061(0x2d9)+Math[_0x550061(0x295)](_0x2036e0*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders['forEach'](async _0x15c7a1=>{const _0x21c3c7=_0x550061;try{const _0x2217fe=await exchange[_0x21c3c7(0x2c1)](_0x15c7a1[_0x21c3c7(0x215)],_0x15c7a1[_0x21c3c7(0x1dc)]);}catch(_0x9a7139){if(_0x9a7139[_0x21c3c7(0x2a8)]()['includes']('OrderNotFound')){}else await handleError(_0x9a7139,_0x21c3c7(0x2d2));}}),logHistory(_0x550061(0x247),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x550061(0x295)](_0x2036e0*validateOrderInterval/0xea60)+_0x550061(0x2b6))));}}async function resetCoinResults(){const _0x693cc5=_0x1db9d9;dbCoinResults[_0x693cc5(0x28d)](_0x693cc5(0x2b3))[_0x693cc5(0x204)]()[_0x693cc5(0x1db)]();let _0x49a8b3=await getStartingBalances(![]);_0x49a8b3[_0x693cc5(0x2b3)][_0x693cc5(0x2a9)](_0x1e5565=>{const _0x57e1ea=_0x693cc5,_0x2c5da8=_0x1e5565['symbol']['includes'](config[_0x57e1ea(0x276)]+'/');if(_0x1e5565['coin']!=config[_0x57e1ea(0x276)]){let _0x598fae={'coin':_0x1e5565['coin'],'number':_0x1e5565[_0x57e1ea(0x282)],'breakeven':_0x1e5565[_0x57e1ea(0x2ac)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x57e1ea(0x2b3))[_0x57e1ea(0x28c)](_0x598fae)[_0x57e1ea(0x1db)]();}});}async function updateCoinResults(_0x5d5365){const _0x533c75=_0x1db9d9;let _0x19eba1,_0x392106,_0x4d7532,_0x204339,_0x4556d5,_0x1eeed8,_0x5480f9=dbCoinResults[_0x533c75(0x28d)](_0x533c75(0x2b3))[_0x533c75(0x294)]({'coin':_0x5d5365[_0x533c75(0x228)]})[_0x533c75(0x1e8)]();if(!_0x5480f9)return;if(_0x5d5365['fee']&&_0x5d5365[_0x533c75(0x1f7)][_0x533c75(0x20f)]==config[_0x533c75(0x276)])_0x19eba1=_0x5d5365[_0x533c75(0x1f7)][_0x533c75(0x222)];else{if(_0x5d5365[_0x533c75(0x1f7)]&&_0x5d5365[_0x533c75(0x1f7)][_0x533c75(0x20f)]=='BNB')_0x19eba1=_0x5d5365['fee'][_0x533c75(0x222)]*global['ticker']['BNB'+config['basecoin']];else _0x19eba1=0.001*_0x5d5365[_0x533c75(0x1f5)];}const _0x48ff8d=_0x5d5365[_0x533c75(0x1dc)]['includes'](config[_0x533c75(0x276)]+'/');_0x48ff8d&&(_0x1eeed8={'coin':_0x5d5365[_0x533c75(0x228)],'symbol':_0x5d5365['symbol'],'filled':_0x5d5365[_0x533c75(0x1f5)]*_0x5d5365[_0x533c75(0x2ac)],'side':_0x5d5365[_0x533c75(0x205)]==_0x533c75(0x2d8)?'buy':_0x533c75(0x2d8),'price':0x1/_0x5d5365[_0x533c75(0x2ac)]},_0x5d5365={..._0x1eeed8});_0x5d5365['side']==_0x533c75(0x224)?_0x4d7532=(_0x5480f9['breakeven']*_0x5480f9[_0x533c75(0x282)]+_0x5d5365['price']*_0x5d5365[_0x533c75(0x1f5)])/(_0x5480f9['number']+_0x5d5365[_0x533c75(0x1f5)]):_0x4d7532=(_0x5480f9[_0x533c75(0x227)]*_0x5480f9[_0x533c75(0x282)]-_0x5d5365[_0x533c75(0x2ac)]*_0x5d5365[_0x533c75(0x1f5)])/(_0x5480f9[_0x533c75(0x282)]-_0x5d5365[_0x533c75(0x1f5)]);_0x5d5365['side']==_0x533c75(0x224)?_0x204339=_0x5480f9['realized']:_0x204339=_0x5480f9['realized']+(_0x5d5365['price']-_0x5480f9[_0x533c75(0x227)])*_0x5d5365[_0x533c75(0x1f5)];_0x392106=_0x5d5365[_0x533c75(0x205)]==_0x533c75(0x2d8)?_0x5480f9[_0x533c75(0x282)]-_0x5d5365[_0x533c75(0x1f5)]:_0x5480f9[_0x533c75(0x282)]+_0x5d5365[_0x533c75(0x1f5)],_0x4556d5=(_0x5d5365[_0x533c75(0x2ac)]-_0x4d7532)*_0x392106;let _0x5e6f70={'coin':_0x5d5365[_0x533c75(0x228)],'number':_0x392106,'breakeven':formatResult(_0x4d7532,0x8),'realized':formatResult(_0x204339,0x8),'unrealized':formatResult(_0x4556d5,0x8),'fees':formatResult(_0x5480f9[_0x533c75(0x20c)]+_0x19eba1,0x8),'sells':_0x5d5365[_0x533c75(0x205)]==_0x533c75(0x2d8)?_0x5480f9['sells']+0x1:_0x5480f9[_0x533c75(0x20a)],'buys':_0x5d5365[_0x533c75(0x205)]==_0x533c75(0x224)?_0x5480f9[_0x533c75(0x27d)]+0x1:_0x5480f9['buys']};dbCoinResults[_0x533c75(0x28d)](_0x533c75(0x2b3))[_0x533c75(0x294)]({'coin':_0x5d5365[_0x533c75(0x228)]})['assign'](_0x5e6f70)[_0x533c75(0x1db)]();}async function placeOrder(_0x47d036){const _0x163418=_0x1db9d9,_0x29ce60=config['ordertype']==_0x163418(0x245)?_0x163418(0x245):_0x163418(0x1e2);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x163418(0x22a)](JSON[_0x163418(0x298)](currentCoins));for(const _0x335bd2 of _0x47d036){let _0x570f14,_0x586c73,_0xd05431,_0xa3b7c4,_0xd7c85c,_0x31088e=_0x335bd2[_0x163418(0x1dc)];try{const _0x36edf8=await exchange[_0x163418(0x2cf)](_0x31088e),_0x2cb9c6=_0x36edf8[_0x31088e];_0x570f14=_0x2cb9c6[_0x163418(0x266)],_0x586c73=_0x2cb9c6[_0x163418(0x1da)],_0xd05431=_0x2cb9c6['ask'];_0x335bd2[_0x163418(0x23e)]?(_0xa3b7c4=_0x335bd2[_0x163418(0x205)]==_0x163418(0x224)?_0x163418(0x2d8):_0x163418(0x224),_0xd7c85c=Math[_0x163418(0x26b)](_0x335bd2['trade'])/_0x570f14):(_0xa3b7c4=_0x335bd2[_0x163418(0x205)],_0xd7c85c=Math[_0x163418(0x26b)](_0x335bd2['trade']));_0x29ce60==_0x163418(0x1e2)&&(config[_0x163418(0x280)]==_0x163418(0x230)&&(_0x570f14=_0xa3b7c4==_0x163418(0x224)?_0x586c73:_0xd05431),config[_0x163418(0x280)]=='limit-low'&&(_0x570f14=_0xa3b7c4==_0x163418(0x224)?_0xd05431:_0x586c73));_0xd7c85c=formatResult(_0xd7c85c,0x8),_0x570f14=formatResult(_0x570f14,0x8);const _0x56af72=await exchange[_0x163418(0x286)](_0x31088e,_0x29ce60,_0xa3b7c4,_0xd7c85c,_0x570f14);lastOrders[_0x163418(0x28c)]({'orderId':_0x56af72['id'],'symbol':_0x31088e,'side':_0xa3b7c4,'reverse':_0x335bd2[_0x163418(0x23e)],'amount':_0x335bd2[_0x163418(0x23e)]?_0x56af72[_0x163418(0x2a1)]*_0x56af72[_0x163418(0x2ac)]:_0x56af72[_0x163418(0x2a1)],'filled':_0x335bd2[_0x163418(0x23e)]?_0x56af72[_0x163418(0x1f5)]*_0x56af72[_0x163418(0x2ac)]:_0x56af72['filled'],'price':_0x56af72[_0x163418(0x2ac)]});const _0x174a98=_0xa3b7c4=='sell'?config['emojisell']?String[_0x163418(0x24b)]('0x'+config['emojisell'])+'\x20':'':config[_0x163418(0x2db)]?String[_0x163418(0x24b)]('0x'+config[_0x163418(0x2db)])+'\x20':'',_0x5d77f3=_0x29ce60==_0x163418(0x245)?_0x163418(0x24a):config[_0x163418(0x280)]=='limit-high'?_0x163418(0x261):_0x163418(0x2b8);if(_0x29ce60==_0x163418(0x245))logHistory('order',''+_0x174a98+_0x5d77f3+_0x163418(0x264)+_0x31088e+'\x20'+_0xa3b7c4+'\x20#'+formatResult(_0x56af72[_0x163418(0x1f5)],0x8)+'\x20@'+formatResult(_0x56af72[_0x163418(0x2ac)],0x8));else logHistory(_0x163418(0x1f3),''+_0x174a98+_0x5d77f3+_0x163418(0x264)+_0x31088e+'\x20'+_0xa3b7c4+'\x20#'+formatResult(_0x56af72[_0x163418(0x2a1)],0x8)+'\x20@'+formatResult(_0x56af72[_0x163418(0x2ac)],0x8));_0x56af72[_0x163418(0x228)]=_0x335bd2[_0x163418(0x228)],await updateCoinResults(_0x56af72);if(config['cooldown']!=0x0){let _0xdd3197=null;if(cooldownTracker[_0x163418(0x25f)]==config[_0x163418(0x2d4)]-0x1)_0xdd3197=cooldownTracker['shift']();const _0x34b632=getTimeStamp();cooldownTracker[_0x163418(0x28c)](_0x34b632);if(_0xdd3197){const _0x1a57de=fns['differenceInSeconds'](new Date(_0x34b632),new Date(_0xdd3197));_0x1a57de<cooldownInterval&&(logHistory('error',_0x163418(0x223)+config[_0x163418(0x2d4)]+_0x163418(0x213)+cooldownInterval/0x3c+_0x163418(0x250)+cooldownPeriod/(0xe10*0x3e8)+_0x163418(0x22c)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x507bd5){if(_0x507bd5[_0x163418(0x2a8)]()[_0x163418(0x297)](_0x163418(0x23b)))logHistory(_0x163418(0x287),_0x163418(0x2a5)+_0x31088e);else{if(_0x507bd5[_0x163418(0x2a8)]()['includes']('Invalid\x20quantity'))logHistory(_0x163418(0x287),_0x163418(0x1fa)+_0x31088e);else await handleError(_0x507bd5,'placeOrder()');}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x163418(0x1fe)]&&(config['ordertype']==_0x163418(0x245)?logHistory('error',_0x163418(0x25a)):logHistory('error',_0x163418(0x2b9)));else coolingDown&&(!config[_0x163418(0x1fe)]&&logHistory(_0x163418(0x287),_0x163418(0x272)));}}function logHistory(_0x293343,_0x4cfcc1,_0x585cd4=''){const _0x589153=_0x1db9d9;let _0x2d8659={'time':getTimeStamp(),'type':_0x293343,'event':_0x4cfcc1,'botname':config[_0x589153(0x1df)],'showname':config['showname']};dbLogs['get']('logs')[_0x589153(0x28c)](_0x2d8659)[_0x589153(0x1db)]();if(_0x585cd4=='')_0x585cd4=_0x4cfcc1;proxyEmit(_0x589153(0x214),{'log':_0x2d8659,'summary':_0x585cd4}),process[_0x589153(0x20e)]({'telegram':_0x2d8659}),logging(''+_0x2d8659[_0x589153(0x214)]);}function emitHistory(_0x274f14={}){const _0x1ea071=_0x1db9d9;Object[_0x1ea071(0x278)](_0x274f14)['length']==0x0&&(_0x274f14={'type':[_0x1ea071(0x1f3),_0x1ea071(0x214)],'event':'','page':0x1});if(_0x274f14[_0x1ea071(0x246)][_0x1ea071(0x297)](_0x1ea071(0x214)))_0x274f14['type'][_0x1ea071(0x1ef)](_0x274f14[_0x1ea071(0x246)][_0x1ea071(0x23f)](_0x1ea071(0x214)),0x1,'error',_0x1ea071(0x247));if(dbLogs[_0x1ea071(0x2a6)](_0x1ea071(0x289))['value']()){let _0x4f8389=dbLogs[_0x1ea071(0x28d)](_0x1ea071(0x289))[_0x1ea071(0x2bc)](_0x4bf25f=>{const _0x3209eb=_0x1ea071;if(_0x274f14[_0x3209eb(0x246)]['length']==0x0)return![];else return _0x274f14[_0x3209eb(0x246)][_0x3209eb(0x297)](_0x4bf25f[_0x3209eb(0x246)]);})['filter'](_0x253861=>{const _0x2bfc25=_0x1ea071;if(_0x274f14[_0x2bfc25(0x214)]=='')return!![];else return _0x253861[_0x2bfc25(0x214)][_0x2bfc25(0x1ee)]()[_0x2bfc25(0x297)](_0x274f14[_0x2bfc25(0x214)][_0x2bfc25(0x1ee)]());})['sortBy'](_0x1ea071(0x27f)),_0x2a037c=_0x4f8389[_0x1ea071(0x1e8)]()['length'];_0x4f8389=_0x4f8389[_0x1ea071(0x23e)]()[_0x1ea071(0x271)]((_0x274f14[_0x1ea071(0x279)]-0x1)*logPageSize,_0x274f14['page']*logPageSize-0x1)[_0x1ea071(0x23e)]()[_0x1ea071(0x1e8)](),proxyEmit('event-history',{'logs':_0x4f8389,'total':_0x2a037c});}else proxyEmit(_0x1ea071(0x2a0),{'logs':[],'total':0x0});}async function pauseBot(_0xab8504){const _0x53061e=_0x1db9d9,_0x531e99=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x53061e(0x20b)](),consecutivePauses=0x1;else{if(_0x531e99-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['send']({'stop':_0x53061e(0x1ec)});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x53061e(0x287),_0x53061e(0x26f)+consecutivePauses+')'),await sleep(_0xab8504),botPaused=![],reset();}}async function handleError(_0x4982b6,_0x45969d,_0x2a7d41=''){const _0x19e6e0=_0x1db9d9;if(_0x4982b6['toString']()['includes'](_0x19e6e0(0x2e0)))logHistory(_0x19e6e0(0x287),_0x45969d+_0x19e6e0(0x260)),await pauseBot(pauseBotInterval);else{if(_0x4982b6[_0x19e6e0(0x2a8)]()[_0x19e6e0(0x297)](_0x19e6e0(0x206)))logHistory(_0x19e6e0(0x287),_0x45969d+'\x20|\x20Binance\x20exchange\x20is\x20not\x20available'),await pauseBot(pauseBotInterval);else{if(_0x4982b6['toString']()['includes']('RequestTimeout'))logHistory(_0x19e6e0(0x287),_0x45969d+_0x19e6e0(0x1e0)),await pauseBot(pauseBotInterval);else{if(_0x4982b6[_0x19e6e0(0x2a8)]()[_0x19e6e0(0x297)](_0x19e6e0(0x251)))logHistory('error',_0x45969d+_0x19e6e0(0x21f)),logHistory(_0x19e6e0(0x287),_0x19e6e0(0x1eb)),process[_0x19e6e0(0x20e)]({'stop':_0x19e6e0(0x24e)});else{if(_0x4982b6[_0x19e6e0(0x2a8)]()['includes'](_0x19e6e0(0x25b)))logHistory('error',_0x45969d+_0x19e6e0(0x2bf)),logHistory(_0x19e6e0(0x287),_0x19e6e0(0x1eb)),process['send']({'stop':_0x19e6e0(0x24e)});else{if(_0x4982b6['toString']()[_0x19e6e0(0x297)](_0x19e6e0(0x2e3)))logHistory('error',_0x45969d+_0x19e6e0(0x1ea)),logHistory('error',_0x19e6e0(0x1eb)),process[_0x19e6e0(0x20e)]({'stop':_0x19e6e0(0x24e)});else{if(_0x4982b6['toString']()[_0x19e6e0(0x297)](_0x19e6e0(0x22d)))logHistory(_0x19e6e0(0x287),_0x45969d+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x19e6e0(0x287),_0x19e6e0(0x1eb)),process['send']({'stop':_0x19e6e0(0x24e)});else{if(_0x4982b6[_0x19e6e0(0x2a8)]()[_0x19e6e0(0x297)](_0x19e6e0(0x28f)))logHistory('error',_0x45969d+_0x19e6e0(0x1f9)),await pauseBot(pauseBotInterval),process[_0x19e6e0(0x20e)]({'stop':_0x19e6e0(0x1ec)});else _0x4982b6[_0x19e6e0(0x2a8)]()[_0x19e6e0(0x297)](_0x19e6e0(0x1ed))?logHistory(_0x19e6e0(0x287),_0x45969d+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory('error',_0x45969d+'\x20|\x20Unknown\x20error\x20occured'),logging(_0x45969d+_0x19e6e0(0x268),_0x4982b6),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x4b4a9d,_0x5438b8){const _0x53c91a=_0x1db9d9;return parseFloat(_0x4b4a9d[_0x53c91a(0x238)](_0x5438b8));}function logging(_0x32d839,_0xf7fbf5=''){const _0x52b91c=_0x1db9d9;if(config[_0x52b91c(0x281)])console['log'](getTimeStamp()+':\x20'+config[_0x52b91c(0x1df)]+_0x52b91c(0x21c)+_0x32d839,_0xf7fbf5);else console[_0x52b91c(0x218)](getTimeStamp()+_0x52b91c(0x1e6)+botID+_0x52b91c(0x21c)+_0x32d839,_0xf7fbf5);}function getServerTime(){const _0x5ca960=_0x1db9d9,_0x2a346a=new Date();return _0x2a346a[_0x5ca960(0x1e7)]()+'/'+(_0x2a346a[_0x5ca960(0x253)]()+0x1)[_0x5ca960(0x2a8)]()['padStart'](0x2,'0')+'/'+_0x2a346a['getDate']()[_0x5ca960(0x2a8)]()[_0x5ca960(0x1d4)](0x2,'0')+'\x20'+_0x2a346a[_0x5ca960(0x1de)]()['toString']()[_0x5ca960(0x1d4)](0x2,'0')+':'+_0x2a346a[_0x5ca960(0x248)]()[_0x5ca960(0x2a8)]()['padStart'](0x2,'0')+':'+_0x2a346a[_0x5ca960(0x21e)]()[_0x5ca960(0x2a8)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0xfb104=_0x1db9d9,_0x417978=shiftedTime();return _0x417978['getFullYear']()+'/'+(_0x417978[_0xfb104(0x253)]()+0x1)[_0xfb104(0x2a8)]()['padStart'](0x2,'0')+'/'+_0x417978[_0xfb104(0x1d8)]()[_0xfb104(0x2a8)]()[_0xfb104(0x1d4)](0x2,'0')+'\x20'+_0x417978[_0xfb104(0x1de)]()['toString']()['padStart'](0x2,'0')+':'+_0x417978[_0xfb104(0x248)]()[_0xfb104(0x2a8)]()[_0xfb104(0x1d4)](0x2,'0')+':'+_0x417978[_0xfb104(0x21e)]()['toString']()[_0xfb104(0x1d4)](0x2,'0');}function getDate(){const _0x8a8d4c=_0x1db9d9,_0xf4f02e=shiftedTime();return _0xf4f02e[_0x8a8d4c(0x1e7)]()+'/'+(_0xf4f02e['getMonth']()+0x1)[_0x8a8d4c(0x2a8)]()[_0x8a8d4c(0x1d4)](0x2,'0')+'/'+_0xf4f02e[_0x8a8d4c(0x1d8)]()['toString']()[_0x8a8d4c(0x1d4)](0x2,'0');}function getHour(){const _0x1ab997=_0x1db9d9,_0x47760f=shiftedTime();return _0x47760f[_0x1ab997(0x1de)]()[_0x1ab997(0x2a8)]()[_0x1ab997(0x1d4)](0x2,'0');}function sleep(_0x44d265){return new Promise(_0x32af47=>setTimeout(_0x32af47,_0x44d265));}function shiftedTime(){const _0x1d821c=_0x1db9d9,_0x48fb54=new Date();let _0x37b963=_0x48fb54;if(config&&config[_0x1d821c(0x254)]!==0x0)_0x37b963=fns[_0x1d821c(0x1fb)](_0x48fb54,{'hours':config['timeshift']});return _0x37b963;}