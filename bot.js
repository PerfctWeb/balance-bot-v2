const _0x25b63e=_0x48bb;(function(_0x572011,_0x2a5e49){const _0x2728f6=_0x48bb,_0x226b85=_0x572011();while(!![]){try{const _0x4802ee=-parseInt(_0x2728f6(0x2ae))/0x1+-parseInt(_0x2728f6(0x2d7))/0x2*(-parseInt(_0x2728f6(0x2d8))/0x3)+-parseInt(_0x2728f6(0x22f))/0x4+-parseInt(_0x2728f6(0x2f6))/0x5*(parseInt(_0x2728f6(0x2e0))/0x6)+parseInt(_0x2728f6(0x216))/0x7*(-parseInt(_0x2728f6(0x19b))/0x8)+parseInt(_0x2728f6(0x225))/0x9+-parseInt(_0x2728f6(0x20d))/0xa*(-parseInt(_0x2728f6(0x270))/0xb);if(_0x4802ee===_0x2a5e49)break;else _0x226b85['push'](_0x226b85['shift']());}catch(_0x4d2677){_0x226b85['push'](_0x226b85['shift']());}}}(_0x1fdb,0xdd860));const _0x12c20e=function(){let _0x5c04aa=!![];return function(_0xc95aa9,_0x440f72){const _0x21ead8=_0x5c04aa?function(){if(_0x440f72){const _0x42c56a=_0x440f72['apply'](_0xc95aa9,arguments);return _0x440f72=null,_0x42c56a;}}:function(){};return _0x5c04aa=![],_0x21ead8;};}(),_0x3580c6=_0x12c20e(this,function(){const _0x1592ca=_0x48bb;return _0x3580c6['toString']()[_0x1592ca(0x263)](_0x1592ca(0x31f))[_0x1592ca(0x280)]()['constructor'](_0x3580c6)['search'](_0x1592ca(0x31f));});_0x3580c6();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require(_0x25b63e(0x200)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x25b63e(0x2d2))[_0x25b63e(0x226)],util=require(_0x25b63e(0x1bd)),argv=require(_0x25b63e(0x302))(process[_0x25b63e(0x1cb)][_0x25b63e(0x22b)](0x2))[_0x25b63e(0x1cb)],path=require(_0x25b63e(0x242)),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x25b63e(0x1bf),_0x25b63e(0x29c),_0x25b63e(0x2dc),'USDT',_0x25b63e(0x2c0),_0x25b63e(0x297)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x25b63e(0x210)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x25b63e(0x315)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes',maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x25b63e(0x2b1))[_0x25b63e(0x1b0)],botID=process[_0x25b63e(0x1cb)][0x2]||_0x25b63e(0x1e7),pattern=/^[0-9]{3}$/;!pattern[_0x25b63e(0x2f5)](botID)&&(console[_0x25b63e(0x309)](_0x25b63e(0x269)+botID+_0x25b63e(0x212)),killBot());const userID=process[_0x25b63e(0x1cb)][0x3]||'',configpath=userID?_0x25b63e(0x2cf)+userID+'/':_0x25b63e(0x2cf),logspath=userID?_0x25b63e(0x268)+userID+'/':_0x25b63e(0x268),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs[_0x25b63e(0x1c9)](configpath)&&fs[_0x25b63e(0x2d0)](configpath);!fs[_0x25b63e(0x1c9)](logspath)&&fs[_0x25b63e(0x2d0)](logspath);const configfile=configpath+_0x25b63e(0x20e)+botID+_0x25b63e(0x2ba),logfile=configpath+_0x25b63e(0x20e)+botID+_0x25b63e(0x238),performancefile=configpath+_0x25b63e(0x20e)+botID+_0x25b63e(0x1ca),coinresultsfile=configpath+_0x25b63e(0x20e)+botID+'-results.json',settingsfile=configpath+_0x25b63e(0x349),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x25b63e(0x2c1),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x25b63e(0x301)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x25b63e(0x301)]({'bot':[],'version':serverversion})[_0x25b63e(0x32d)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x25b63e(0x301)]({'coins':[],'version':serverversion})[_0x25b63e(0x32d)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x25b63e(0x1b5),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x45dfaa=>{const _0x50cea6=_0x25b63e;console[_0x50cea6(0x309)](_0x45dfaa);},'simple':_0x4449c1=>{const _0x4ec45c=_0x25b63e;console[_0x4ec45c(0x309)](_0x4449c1),loggerfile[_0x4ec45c(0x32d)](util[_0x4ec45c(0x2d1)](_0x4449c1)+'\x0a');},'full':async(_0x3c4b79,_0x3c9a7f='')=>{const _0x5e2b4f=_0x25b63e;let _0x86540e;if(config['showname'])_0x86540e=getTimeStamp()+':\x20'+config[_0x5e2b4f(0x21b)]+'\x20>\x20'+_0x3c4b79;else _0x86540e=getTimeStamp()+_0x5e2b4f(0x254)+botID+_0x5e2b4f(0x2cd)+_0x3c4b79;console[_0x5e2b4f(0x309)](_0x86540e),loggerfile['write'](util[_0x5e2b4f(0x2d1)](_0x86540e)+'\x0a'),_0x3c9a7f&&(console[_0x5e2b4f(0x309)](_0x3c9a7f),loggerfile[_0x5e2b4f(0x32d)](util[_0x5e2b4f(0x2d1)](_0x3c9a7f)+'\x0a'));},'debug':async(_0x1213a2,_0x2eac0e='')=>{const _0x3f62b3=_0x25b63e;let _0x730d26;if(config[_0x3f62b3(0x1f6)])_0x730d26=getTimeStamp()+':\x20'+config[_0x3f62b3(0x21b)]+_0x3f62b3(0x332)+_0x1213a2;else _0x730d26=getTimeStamp()+_0x3f62b3(0x254)+botID+_0x3f62b3(0x332)+_0x1213a2;if(debugging)console['log'](_0x730d26);loggerfile['write'](util[_0x3f62b3(0x2d1)](_0x730d26)+'\x0a');if(_0x2eac0e){if(debugging)console[_0x3f62b3(0x309)](_0x2eac0e);loggerfile[_0x3f62b3(0x32d)](util[_0x3f62b3(0x2d1)](_0x2eac0e)+'\x0a');}}};process['on'](_0x25b63e(0x317),function(_0x4a8c56){const _0x4d38ed=_0x25b63e;handleError(_0x4a8c56,_0x4d38ed(0x317));});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x25b63e(0x202)]);settings[_0x25b63e(0x19e)]!=config[_0x25b63e(0x19e)]&&updateOnepagemode(settings[_0x25b63e(0x19e)]);(settings[_0x25b63e(0x1d7)]&&!config[_0x25b63e(0x1d7)]||!settings[_0x25b63e(0x1d7)]&&config[_0x25b63e(0x1d7)])&&updateMarketcapApi(settings[_0x25b63e(0x1d7)]);process[_0x25b63e(0x230)]({'started':'running'},_0x33f543=>{}),initializeProcessListeners();function proxyEmit(_0x218bb7,_0xb889c3=null){const _0x5802b9=_0x25b63e;process[_0x5802b9(0x230)]({'function':_0x218bb7,'args':_0xb889c3},_0x316e86=>{});}function initializeProcessListeners(){const _0x51560d=_0x25b63e;process['on'](_0x51560d(0x199),_0x557346=>{const _0x5a2853=_0x51560d;switch(Object[_0x5a2853(0x2ca)](_0x557346)[0x0]){case'timeshift':_0x557346[_0x5a2853(0x202)]!=undefined&&(settings[_0x5a2853(0x202)]=_0x557346['timeshift'],updateTimeshift(settings[_0x5a2853(0x202)]));break;case _0x5a2853(0x19e):_0x557346[_0x5a2853(0x19e)]!=undefined&&(settings[_0x5a2853(0x19e)]=_0x557346['onepagemode'],updateOnepagemode(settings[_0x5a2853(0x19e)]));break;case _0x5a2853(0x1d7):_0x557346[_0x5a2853(0x1d7)]!=undefined&&(settings['marketcapApi']=_0x557346[_0x5a2853(0x1d7)],updateMarketcapApi(settings[_0x5a2853(0x1d7)]));break;case _0x5a2853(0x299):_0x557346[_0x5a2853(0x299)]!=undefined&&(bots=JSON[_0x5a2853(0x2ac)](_0x557346[_0x5a2853(0x299)]),proxyEmit(_0x5a2853(0x299),bots));break;case _0x5a2853(0x2ce):switch(_0x557346[_0x5a2853(0x2ce)]){case'initclient':initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x5a2853(0x260):emitHistory(_0x557346[_0x5a2853(0x292)]);break;case _0x5a2853(0x2e1):deleteHistoryAlerts(_0x557346[_0x5a2853(0x292)]);break;case _0x5a2853(0x21e):getPortfolio(_0x557346['args']);break;case _0x5a2853(0x339):storeConfiguration(_0x557346[_0x5a2853(0x292)]);break;case'storeHeadless':storeHeadless(_0x557346['args']);break;case _0x5a2853(0x328):storeFiat(_0x557346['args']);break;case'resetHistory':resetHistory();break;case _0x5a2853(0x1ac):getStartingBalances(getNormalizedPerformance());break;case _0x5a2853(0x237):placeOrder(_0x557346[_0x5a2853(0x292)]);break;case _0x5a2853(0x336):cancelLoading();break;case _0x5a2853(0x23c):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x5a2853(0x1df):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x2d2014=![]){const _0x4d3d6a=_0x25b63e;logger[_0x4d3d6a(0x2ef)](_0x4d3d6a(0x233)+(_0x2d2014?_0x4d3d6a(0x19c):_0x4d3d6a(0x2b2))+_0x4d3d6a(0x2a8)+config[_0x4d3d6a(0x1c7)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x2d2014)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x4d3d6a(0x258)]!=''&&config['apiKey']!=_0x4d3d6a(0x1fb)){loadingProgress=0x0;if(_0x2d2014){if(pidCoinReloading)clearTimeout(pidCoinReloading);await initExchange();try{await loadSymbols();}catch(_0xae578c){handleErrorNoStop(_0xae578c,'loadSymbols()');return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x3e0347=await getCoins();[currentCoins,currentCoinsAll]=_0x3e0347,setBlockTransactionDetection(![]),getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x4d3d6a(0x2ef)](_0x4d3d6a(0x1f1)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x4d3d6a(0x2d6)]==0x0&&allOpenOrders[_0x4d3d6a(0x2d6)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x151b23=![]){const _0x2c7b43=_0x25b63e;logger[_0x2c7b43(0x2ef)](_0x2c7b43(0x1cc)+(_0x151b23?_0x2c7b43(0x1af):_0x2c7b43(0x283))+_0x2c7b43(0x224)+config[_0x2c7b43(0x1c7)]);if(pidBalances)clearTimeout(pidBalances);if(_0x151b23){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x2c7b43(0x258)]!='***'){loadingProgress=0x1;const _0x30a7c8=await getCoins();[currentCoins,currentCoinsAll]=_0x30a7c8,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug']('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2c7b43(0x2d6)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x572aa8){const _0x41fa1b=_0x25b63e;let _0x45e30b=![];if(_0x572aa8)_0x45e30b=!![];let _0x3f267d;_0x45e30b?_0x3f267d=_0x572aa8[_0x41fa1b(0x320)](_0x36b03e=>_0x36b03e[_0x41fa1b(0x1b1)]):_0x3f267d=currentCoinsAll[_0x41fa1b(0x320)](_0x3954ae=>_0x3954ae['coin']);if(!config['marketcapApi']||!_0x45e30b&&!config[_0x41fa1b(0x1b4)]||_0x3f267d['length']==0x0)return;let _0x14dfe8=null;try{_0x14dfe8=await axios['get'](_0x41fa1b(0x29b),{'headers':{'X-CMC_PRO_API_KEY':settings['marketcapApi']},'params':{'symbol':_0x3f267d[_0x41fa1b(0x280)]()}});}catch(_0x3a1f8e){_0x14dfe8=null,_0x3a1f8e[_0x41fa1b(0x280)]()[_0x41fa1b(0x1d3)]('status\x20code\x20401')?(config[_0x41fa1b(0x1d7)]=![],updateConfig(),proxyEmit(_0x41fa1b(0x20a),emittedConfiguration()),logHistory('error',_0x41fa1b(0x265))):(logHistory(_0x41fa1b(0x2c5),_0x41fa1b(0x267)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger[_0x41fa1b(0x2ef)](_0x41fa1b(0x25b),_0x3a1f8e['toString']()+_0x41fa1b(0x1a4)+_0x3a1f8e[_0x41fa1b(0x27f)]));}if(_0x14dfe8){let _0x48a590=0x0;const _0x4b26db=_0x14dfe8[_0x41fa1b(0x232)];_0x3f267d[_0x41fa1b(0x1bc)](_0x4d4d2c=>{const _0x2d05c2=_0x41fa1b;if(_0x4b26db['data'][_0x4d4d2c][0x0])_0x48a590+=_0x4b26db[_0x2d05c2(0x232)][_0x4d4d2c][0x0][_0x2d05c2(0x217)][_0x2d05c2(0x1bf)]['market_cap'];}),_0x3f267d[_0x41fa1b(0x1bc)](_0x32d99f=>{const _0x910c12=_0x41fa1b,_0x217561=_0x4b26db['data'][_0x32d99f][0x0]?_0x4b26db[_0x910c12(0x232)][_0x32d99f][0x0][_0x910c12(0x217)][_0x910c12(0x1bf)]['market_cap']:0x0;if(_0x45e30b){const _0x5a3b24=_0x572aa8[_0x910c12(0x30f)](_0x23ed8c=>_0x23ed8c[_0x910c12(0x1b1)]==_0x32d99f);_0x5a3b24&&(_0x5a3b24[_0x910c12(0x27d)]=_0x217561);}else{const _0xe0041d=currentCoins[_0x910c12(0x30f)](_0x4b5344=>_0x4b5344[_0x910c12(0x1b1)]==_0x32d99f);_0xe0041d&&(_0xe0041d[_0x910c12(0x27d)]=_0x217561);const _0x417fc8=currentCoinsAll['find'](_0x2a2085=>_0x2a2085[_0x910c12(0x1b1)]==_0x32d99f);_0x417fc8&&(_0x417fc8['marketcap']=_0x217561);}}),!_0x45e30b&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1ed158=_0x25b63e,_0x2c8215=0x2;let _0x44b719=0x0,_0x73c98c=0x0,_0x47a7e3=0x0,_0x3d5328=0x0,_0xaaf4d8=0x0;config[_0x1ed158(0x228)]['forEach'](_0x57a4ed=>{const _0x21a17d=_0x1ed158;if(!_0x57a4ed[_0x21a17d(0x223)]){_0x47a7e3++,_0x44b719+=_0x57a4ed[_0x21a17d(0x1a0)];if(_0x57a4ed[_0x21a17d(0x1a0)]===-0x1){_0x44b719++;const _0x952e87=currentCoinsAll[_0x21a17d(0x30f)](_0x209728=>_0x209728[_0x21a17d(0x1b1)]==_0x57a4ed[_0x21a17d(0x1b1)]);_0x952e87&&(_0x3d5328+=_0x952e87[_0x21a17d(0x27d)],_0xaaf4d8+=Math[_0x21a17d(0x2aa)](_0x952e87[_0x21a17d(0x27d)]));}if(_0x57a4ed['slider']!==-0x1)_0x73c98c++;}});let _0x3500e4;const _0x5c67d0=0x64-_0x44b719,_0x361984=_0x47a7e3-_0x73c98c;_0x3500e4=_0x361984===0x0?_0x44b719:Math[_0x1ed158(0x204)](0x64,_0x44b719),config[_0x1ed158(0x228)][_0x1ed158(0x1bc)](_0x486951=>{const _0x1a3b9c=_0x1ed158,_0x2d4c28=currentCoinsAll['find'](_0x4e2fbc=>_0x4e2fbc['coin']==_0x486951[_0x1a3b9c(0x1b1)]);_0x2d4c28&&(_0x486951[_0x1a3b9c(0x27d)]=_0x2d4c28[_0x1a3b9c(0x27d)]);if(!_0x486951[_0x1a3b9c(0x223)]){if(_0x3500e4<=0x64){if(_0x486951[_0x1a3b9c(0x1a0)]===-0x1){if(_0x3d5328!==0x0&&config[_0x1a3b9c(0x1b4)]){if(_0x2d4c28){if(config['marketcapEnabled']=='marketcap')_0x486951['distribution']=(_0x5c67d0/(_0x3d5328/_0x2d4c28[_0x1a3b9c(0x27d)]))[_0x1a3b9c(0x2cc)](_0x2c8215);else config[_0x1a3b9c(0x1b4)]=='marketcapsqrt'&&(_0x486951['distribution']=(_0x5c67d0/(_0xaaf4d8/Math[_0x1a3b9c(0x2aa)](_0x2d4c28[_0x1a3b9c(0x27d)])))[_0x1a3b9c(0x2cc)](_0x2c8215));}}}}}}),updateConfig();}function updateConfig(){const _0x3c17ce=_0x25b63e;let _0xc7cbe6=dbConfig['get'](_0x3c17ce(0x1f0))[_0x3c17ce(0x30f)]({'botID':botID})['value']();_0xc7cbe6&&dbConfig[_0x3c17ce(0x193)](_0x3c17ce(0x1f0))[_0x3c17ce(0x30f)]({'botID':botID})['assign'](config)[_0x3c17ce(0x32d)]();}async function startScheduler(){const _0x222409=_0x25b63e,_0x539fd1=process[_0x222409(0x1f9)]()[_0x222409(0x220)]/0x400/0x400;logger[_0x222409(0x2ef)](_0x222409(0x25a)+process[_0x222409(0x345)]+_0x222409(0x272)+_0x539fd1+_0x222409(0x2c6)),getMarketCap(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0xab0e15=![]){const _0x3e55a4=_0x25b63e;logger[_0x3e55a4(0x2ef)](_0x3e55a4(0x32e));if(!_0xab0e15)while(lockOrders!=ORDERS[_0x3e55a4(0x315)]||coolingDown){await sleep(0xa*0x3e8);}process['send']({'stop':_0x3e55a4(0x2e5)},_0x129cd9=>{});}async function initExchange(_0x702d99=config['exchange'],_0x18285b=config[_0x25b63e(0x258)],_0x2393a9=config[_0x25b63e(0x247)],_0x38dfa9=config['apiPassword']){const _0x3714e7=_0x25b63e;!supportedExchanges()[_0x3714e7(0x1d3)](_0x702d99)&&(logHistory(_0x3714e7(0x2c5),_0x3714e7(0x329)+_0x702d99+_0x3714e7(0x1de)),killBot());const _0x52048a=ccxt['pro'][_0x702d99['toLowerCase']()];exchange=new _0x52048a({'apiKey':_0x18285b,'secret':_0x2393a9,'options':{'defaultType':_0x3714e7(0x2f3)}});if(_0x38dfa9)exchange[_0x3714e7(0x240)]=_0x38dfa9;}function updateExchange(_0x3391ad,_0x5dd8ff,_0x52efac=null){const _0x503256=_0x25b63e;exchange[_0x503256(0x258)]=_0x3391ad,exchange[_0x503256(0x247)]=_0x5dd8ff,exchange[_0x503256(0x1f5)]=_0x52efac,logger['debug'](_0x503256(0x281));}function setStableCoins(){const _0x91420=_0x25b63e;let _0x4d58dd=config[_0x91420(0x303)]==_0x91420(0x2a0)?'ETH':config[_0x91420(0x303)]=='PAXG'?'PAXG':_0x91420(0x325),_0x3a0b55=!allSymbols['includes'](_0x4d58dd+_0x91420(0x1ce))?_0x91420(0x31e):_0x91420(0x1bf),_0x5abefe=!allSymbols[_0x91420(0x1d3)](_0x4d58dd+_0x91420(0x1f2))?_0x3a0b55:'EUR';stablecoins={'eur':{'coin':''+_0x4d58dd+_0x5abefe,'symbol':_0x4d58dd+'/'+_0x5abefe},'usd':{'coin':''+_0x4d58dd+_0x3a0b55,'symbol':_0x4d58dd+'/'+_0x3a0b55}};}async function initwsCcxt(){const _0x89657f=_0x25b63e;initCycle++;const _0x17ccd5=initCycle;let _0x405448=[];config[_0x89657f(0x228)][_0x89657f(0x1bc)](_0xfacc02=>{const _0x2116b1=_0x89657f;if(!_0xfacc02[_0x2116b1(0x223)]&&_0xfacc02['coin']!=config[_0x2116b1(0x303)])_0x405448[_0x2116b1(0x1c0)](_0xfacc02[_0x2116b1(0x2c9)]);});if(!_0x405448[_0x89657f(0x1d3)](stablecoins[_0x89657f(0x342)][_0x89657f(0x2c9)]))_0x405448[_0x89657f(0x1c0)](stablecoins[_0x89657f(0x342)][_0x89657f(0x2c9)]);if(!_0x405448[_0x89657f(0x1d3)](stablecoins['usd'][_0x89657f(0x2c9)]))_0x405448[_0x89657f(0x1c0)](stablecoins[_0x89657f(0x27c)][_0x89657f(0x2c9)]);if(config[_0x89657f(0x1c7)][_0x89657f(0x2bd)]('Binance')&&config['basecoin']!=_0x89657f(0x1d4)){if(!_0x405448[_0x89657f(0x1d3)]('BNB/'+config['basecoin']))_0x405448[_0x89657f(0x1c0)]('BNB/'+config[_0x89657f(0x303)]);}loadCoins(_0x405448),_0x405448=validateSymbols(_0x405448);const _0xd2b35c=async _0x43bc2d=>{const _0x3c8dce=_0x89657f;let _0x18236e;try{const _0x58f7bd=await getTickers(_0x43bc2d);Object[_0x3c8dce(0x21c)](_0x58f7bd)['forEach'](_0x16d288=>{const _0x5521c6=_0x3c8dce;_0x18236e=_0x16d288[0x1][_0x5521c6(0x2c9)],gTicker[noslash(_0x18236e)]=_0x16d288[0x1][_0x5521c6(0x338)],gChange[_0x18236e]=_0x16d288[0x1]['percentage'];});}catch(_0x54946d){await handleError(_0x54946d,_0x3c8dce(0x2e6),_0x18236e);}},_0x328cc8=async _0x574666=>{const _0x2d30e7=_0x89657f;while(initCycle==_0x17ccd5){if(!botPaused)try{const _0xadc6f1=await exchange[_0x2d30e7(0x1a3)](_0x574666);gTicker[noslash(_0xadc6f1[0x0][_0x2d30e7(0x2c9)])]=_0xadc6f1[0x0][_0x2d30e7(0x2ad)];}catch(_0x47131f){if(!exchangeStopped)await handleError(_0x47131f,_0x2d30e7(0x198),_0x574666);}else await sleep(0x64);}},_0x177897=async _0x9566e8=>{const _0x465297=_0x89657f;while(initCycle==_0x17ccd5){if(!botPaused)try{const _0x5bfd9d=await exchange['watchTradesForSymbols'](_0x9566e8),_0x15bf13=_0x5bfd9d[_0x465297(0x279)]();gTicker[noslash(_0x15bf13[_0x465297(0x2c9)])]=_0x15bf13[_0x465297(0x2ad)];}catch(_0x1b8af8){if(!exchangeStopped)await handleError(_0x1b8af8,'watchTradesForSymbols()',_0x9566e8[_0x465297(0x280)]());}else await sleep(0x64);}},_0x2a5d58=async _0x5c7fa1=>{const _0x19af45=_0x89657f;while(initCycle==_0x17ccd5){if(!botPaused){let _0x20c3f0;try{await sleep(0x3c*0x3e8);const _0x2f771a=await getTickers(_0x5c7fa1);Object[_0x19af45(0x21c)](_0x2f771a)[_0x19af45(0x1bc)](_0x9ce6e7=>{const _0x4f3682=_0x19af45;_0x20c3f0=_0x9ce6e7[0x1][_0x4f3682(0x2c9)],gChange[_0x20c3f0]=_0x9ce6e7[0x1][_0x4f3682(0x2fb)];});}catch(_0x550bda){if(!exchangeStopped)await handleError(_0x550bda,_0x19af45(0x22d),_0x20c3f0);}}else await sleep(0x64);}},_0x34fee2=async _0x1c3d61=>{const _0x27eb67=_0x89657f;while(initCycle==_0x17ccd5){if(!botPaused)try{const _0x5cc5ac=await exchange[_0x27eb67(0x1c4)](_0x1c3d61);initCycle==_0x17ccd5&&_0x5cc5ac[_0x27eb67(0x1bc)](_0xa1a14e=>{updateNumberCoinsCcxt(_0xa1a14e);});}catch(_0x5ebf3f){if(!exchangeStopped)await handleError(_0x5ebf3f,_0x27eb67(0x2c2));}else await sleep(0x64);}};_0xd2b35c(_0x405448),_0x2a5d58(_0x405448),exchange['has'][_0x89657f(0x343)]&&!(config[_0x89657f(0x1c7)]==_0x89657f(0x275)&&_0x405448[_0x89657f(0x2d6)]>0xa)?_0x177897(_0x405448):_0x405448[_0x89657f(0x1bc)](_0x223309=>{_0x328cc8(_0x223309);}),_0x405448['forEach'](_0x14a870=>{_0x34fee2(_0x14a870);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x5e589a){const _0x39411b=_0x25b63e;let _0x2a4784={};try{if(config[_0x39411b(0x1c7)]!='Cryptocom')_0x2a4784=await exchange['fetchTickers'](_0x5e589a);else for(const _0x487a24 of _0x5e589a){const _0x57d0cb=await exchange['fetchTicker'](_0x487a24);_0x2a4784[_0x487a24]=_0x57d0cb;}return _0x2a4784;}catch(_0x157be7){throw _0x157be7;}}function setBlockTransactionDetection(_0x3b78fb){const _0x41cdd1=_0x25b63e;blockTransactionDetection=_0x3b78fb,logger[_0x41cdd1(0x2ef)](_0x41cdd1(0x2c3)+blockTransactionDetection);}async function detectLiquidityChange(_0x521d45=0x0){const _0x590f34=_0x25b63e;transactionDetectionOngoing=!![];try{const _0x4613c4=await getCoins(_0x521d45),[_0x54e3b8,_0x5583c4]=_0x4613c4;let _0x45d546=[];currentCoins['forEach'](_0xee624f=>{const _0xb5cc45=_0x48bb,_0x3ffeee=_0x54e3b8[_0xb5cc45(0x30f)](_0x13f55b=>_0x13f55b[_0xb5cc45(0x1b1)]==_0xee624f[_0xb5cc45(0x1b1)]);if(_0x3ffeee){if(_0xee624f[_0xb5cc45(0x307)]!=_0x3ffeee[_0xb5cc45(0x307)]){let _0x21acf7;if(_0xee624f['coin']!=config[_0xb5cc45(0x303)]){const _0x3e3c07=gTicker[noslash(_0xee624f['symbol'])];_0x21acf7=_0xee624f[_0xb5cc45(0x25e)]?0x1/_0x3e3c07:_0x3e3c07;}else _0x21acf7=0x1;_0x45d546[_0xb5cc45(0x1c0)]({'coin':_0xee624f[_0xb5cc45(0x1b1)],'symbol':_0xee624f[_0xb5cc45(0x2c9)],'price':_0x21acf7,'number':Number(formatResult(_0x3ffeee[_0xb5cc45(0x307)]-_0xee624f[_0xb5cc45(0x307)],0x8)),'basecoinvalue':_0x21acf7*(_0x3ffeee['number']-_0xee624f[_0xb5cc45(0x307)])});}}});if(_0x45d546[_0x590f34(0x2d6)]>0x0&&!blockTransactionDetection)for(const _0x1d5fbb of _0x45d546){if(config[_0x590f34(0x1be)]){logger[_0x590f34(0x2ef)](_0x590f34(0x23e)+_0x1d5fbb[_0x590f34(0x246)]+_0x590f34(0x341)+lastFees[_0x590f34(0x314)]);if(lastFees[_0x590f34(0x314)]==0x0||Math[_0x590f34(0x1e4)](_0x1d5fbb[_0x590f34(0x246)])>lastFees[_0x590f34(0x314)]*1.2){if(config[_0x590f34(0x1be)]=='update-liquidity'){delete _0x1d5fbb[_0x590f34(0x2c9)],delete _0x1d5fbb[_0x590f34(0x246)];let _0x2ba2cb=[],_0x51f442=[...config[_0x590f34(0x235)]]||[],_0x124d70=config[_0x590f34(0x235)];_0x51f442[_0x590f34(0x287)]((_0x3f66b9,_0x31f840)=>_0x3f66b9[_0x590f34(0x24e)]>_0x31f840[_0x590f34(0x24e)]?-0x1:_0x31f840[_0x590f34(0x24e)]>_0x3f66b9['date']?0x1:0x0);const _0x54db40=getDate();if(_0x51f442[0x0]){const _0xe96b4d=fns[_0x590f34(0x2ac)](_0x51f442[0x0][_0x590f34(0x24e)],_0x590f34(0x2e7),new Date()),_0x31f8b8=fns['parse'](_0x54db40,_0x590f34(0x2e7),new Date());if(fns[_0x590f34(0x23a)](_0xe96b4d,_0x31f8b8)){_0x2ba2cb=_0x51f442[0x0][_0x590f34(0x346)];const _0x1e8ca2=_0x2ba2cb[_0x590f34(0x30f)](_0x4ca694=>_0x4ca694[_0x590f34(0x1b1)]==_0x1d5fbb['coin']);_0x1e8ca2?(_0x1e8ca2['number']+=_0x1d5fbb[_0x590f34(0x307)],_0x1e8ca2[_0x590f34(0x307)]==0x0&&(_0x2ba2cb=_0x2ba2cb[_0x590f34(0x24a)](_0x40464b=>{return _0x40464b['coin']!=_0x1d5fbb['coin'];}))):_0x2ba2cb['push'](_0x1d5fbb);const _0x55f68e=_0x124d70['find'](_0x52788a=>_0x52788a[_0x590f34(0x24e)]==_0x54db40);_0x55f68e[_0x590f34(0x346)]=_0x2ba2cb;}else _0x124d70[_0x590f34(0x1c0)]({'date':_0x54db40,'changes':[_0x1d5fbb]});}const _0xb591f8=_0x124d70[_0x590f34(0x30f)](_0x1b52b3=>_0x1b52b3[_0x590f34(0x24e)]==_0x54db40);if(_0xb591f8){let _0xfa843=!![];_0xb591f8[_0x590f34(0x346)][_0x590f34(0x1bc)](_0x3c4d02=>{const _0x276d1c=_0x590f34;if(_0x3c4d02[_0x276d1c(0x307)]!=0x0)_0xfa843=![];}),_0xfa843&&(_0x124d70=_0x124d70[_0x590f34(0x24a)](_0x442218=>{const _0x581f75=_0x590f34;return _0x442218[_0x581f75(0x24e)]!=_0x54db40;}));}let _0x10014e=dbConfig[_0x590f34(0x193)](_0x590f34(0x1f0))[_0x590f34(0x30f)]({'botID':botID})[_0x590f34(0x245)]();_0x10014e&&(dbConfig['get'](_0x590f34(0x1f0))[_0x590f34(0x30f)]({'botID':botID})['assign']({'liquidity':_0x124d70})[_0x590f34(0x32d)](),config[_0x590f34(0x235)]=_0x124d70);logHistory(_0x590f34(0x1b6),_0x590f34(0x32a)+Math[_0x590f34(0x1e4)](_0x1d5fbb[_0x590f34(0x307)])+'\x20'+_0x1d5fbb['coin']+'\x20'+(_0x1d5fbb['number']>0x0?_0x590f34(0x300):_0x590f34(0x2f1))+_0x590f34(0x1e2)),proxyEmit(_0x590f34(0x20a),emittedConfiguration());const _0x594f18=getNormalizedPerformance();emitPerformance(_0x594f18),getStartingBalances(_0x594f18),logger['debug'](_0x590f34(0x23f));}else config[_0x590f34(0x1be)]==_0x590f34(0x19a)&&(config[_0x590f34(0x1fc)]?(await storeHeadless({'headless':![]}),logHistory(_0x590f34(0x1b6),'Portfolio\x20change\x20detected:\x20'+Math[_0x590f34(0x1e4)](_0x1d5fbb[_0x590f34(0x307)])+'\x20'+_0x1d5fbb['coin']+'\x20'+(_0x1d5fbb['number']>0x0?_0x590f34(0x300):_0x590f34(0x2f1))+_0x590f34(0x21f))):logger[_0x590f34(0x2ef)](_0x590f34(0x32a)+Math[_0x590f34(0x1e4)](_0x1d5fbb[_0x590f34(0x307)])+'\x20'+_0x1d5fbb[_0x590f34(0x1b1)]+'\x20'+(_0x1d5fbb['number']>0x0?_0x590f34(0x300):_0x590f34(0x2f1))+_0x590f34(0x201)));}else logger[_0x590f34(0x2ef)](_0x590f34(0x1eb)+Math['abs'](_0x1d5fbb[_0x590f34(0x307)])+'\x20'+_0x1d5fbb[_0x590f34(0x1b1)]+'\x20'+(_0x1d5fbb[_0x590f34(0x307)]>0x0?_0x590f34(0x300):_0x590f34(0x2f1)));}else logger[_0x590f34(0x2ef)]('Portfolio\x20change\x20detected:\x20'+Math[_0x590f34(0x1e4)](_0x1d5fbb[_0x590f34(0x307)])+'\x20'+_0x1d5fbb[_0x590f34(0x1b1)]+'\x20'+(_0x1d5fbb[_0x590f34(0x307)]>0x0?_0x590f34(0x300):_0x590f34(0x2f1))+_0x590f34(0x1ab));}currentCoins=_0x54e3b8,currentCoinsAll=_0x5583c4;}catch(_0x19758a){if(!exchangeStopped)await handleError(_0x19758a,_0x590f34(0x1f8));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x23db42=_0x25b63e;try{markets=await exchange[_0x23db42(0x2af)](),allSymbols=[],Object[_0x23db42(0x21c)](markets)[_0x23db42(0x1bc)](_0xb248c7=>{const _0x4b3337=_0x23db42;_0xb248c7[0x1][_0x4b3337(0x1b2)]&&_0xb248c7[0x1][_0x4b3337(0x2f3)]&&allSymbols['push'](_0xb248c7[0x0]);});}catch(_0x30038b){throw _0x30038b;}}function validateSymbols(_0x248c8f){const _0x287352=_0x25b63e;let _0x28741e=[];return _0x248c8f[_0x287352(0x1bc)](_0x40c7fb=>{const _0x3762ff=_0x287352;!allSymbols['includes'](_0x40c7fb)?logHistory('error',_0x3762ff(0x2cb)+_0x40c7fb+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x28741e[_0x3762ff(0x1c0)](_0x40c7fb);}),_0x28741e;}async function initclient(){const _0x683e09=_0x25b63e;proxyEmit(_0x683e09(0x20a),emittedConfiguration()),proxyEmit(_0x683e09(0x2ee),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x19d919=getNormalizedPerformance();emitPerformance(_0x19d919),getStartingBalances(_0x19d919);}async function toggleBotMode(){const _0x35632d=_0x25b63e;let _0x472b03=dbConfig[_0x35632d(0x193)](_0x35632d(0x1f0))[_0x35632d(0x30f)]({'botID':botID})['value']();if(_0x472b03){const _0x5db52c=!_0x472b03[_0x35632d(0x1fc)];dbConfig[_0x35632d(0x193)]('bot')[_0x35632d(0x30f)]({'botID':botID})[_0x35632d(0x27a)]({'headless':_0x5db52c})[_0x35632d(0x32d)](),config[_0x35632d(0x1fc)]=_0x5db52c,proxyEmit(_0x35632d(0x20a),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5c504d=_0x25b63e;process[_0x5c504d(0x230)]({'updatebotmanager':!![]},_0x39d4a1=>{}),logger[_0x5c504d(0x2ef)](_0x5c504d(0x264)+config[_0x5c504d(0x1fc)]);}async function loadCoins(_0x548e52){const _0x52b9e7=_0x25b63e;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0xb61403,_0x22a6d5=0x0,_0x3632f2=0x0;_0x548e52[_0x52b9e7(0x1bc)](_0x43c710=>{const _0x198b03=_0x52b9e7;loading[_0x198b03(0x286)][_0x198b03(0x1c0)](_0x43c710);}),loadingCanceled=![];let _0x193cdc=![];while(_0xb61403!=_0x548e52[_0x52b9e7(0x2d6)]+maxLoadingProgress){_0xb61403=loadingProgress,_0x548e52[_0x52b9e7(0x1bc)](_0x1258ef=>{const _0x5adfb5=_0x52b9e7;if(gTicker[noslash(_0x1258ef)]){loading[_0x5adfb5(0x286)]=loading[_0x5adfb5(0x286)][_0x5adfb5(0x24a)](_0x33f19a=>_0x33f19a!=_0x1258ef);if(!watchedSymbols[_0x5adfb5(0x1d3)](_0x1258ef))watchedSymbols[_0x5adfb5(0x1c0)](_0x1258ef);_0xb61403++;}}),loading[_0x52b9e7(0x2de)]=Math[_0x52b9e7(0x1a1)](_0xb61403/(_0x548e52[_0x52b9e7(0x2d6)]+maxLoadingProgress)*0x64);loading[_0x52b9e7(0x2de)]!=0x64&&(_0x3632f2>0x1e*0x5&&(loading[_0x52b9e7(0x304)]=!![],emitLoadingProgress()),_0x3632f2>0x78*0x5&&!_0x193cdc&&(_0x193cdc=!![],logHistory(_0x52b9e7(0x2c5),_0x52b9e7(0x312)+loading[_0x52b9e7(0x286)]['join'](',\x20')+_0x52b9e7(0x249)),logHistory(_0x52b9e7(0x2c5),_0x52b9e7(0x1ee)+loadCoinsRetryInterval/0xea60+_0x52b9e7(0x222)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{restartBot();},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x52b9e7(0x1c1)]=!![],emitLoadingProgress();break;}else _0x22a6d5!=loading['progress']&&(_0x22a6d5=loading['progress'],emitLoadingProgress()),_0x3632f2++,await sleep(0xc8);}_0xb61403==_0x548e52[_0x52b9e7(0x2d6)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x52b9e7(0x1e0),'live':_0x52b9e7(0x2fd)},_0x2f1bdf=>{}),_0x193cdc&&logHistory(_0x52b9e7(0x1b6),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4edd40=_0x25b63e;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x4edd40(0x1ba)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0xf180b8=_0x25b63e;let _0x30bdb0=gTicker[stablecoins[_0xf180b8(0x342)][_0xf180b8(0x1b1)]],_0x412f37=gTicker[stablecoins[_0xf180b8(0x27c)][_0xf180b8(0x1b1)]];return{'eur':Number(_0x30bdb0),'usd':Number(_0x412f37)};}function capitalize(_0x1d84eb){const _0x4a1bc7=_0x25b63e;return _0x1d84eb[_0x4a1bc7(0x288)](0x0,0x1)[_0x4a1bc7(0x1da)]()+_0x1d84eb[_0x4a1bc7(0x288)](0x1);}function supportedExchanges(){const _0x10cbad=_0x25b63e,_0x23b75e=['ws',_0x10cbad(0x29e),'fetchTicker',_0x10cbad(0x1a3),_0x10cbad(0x1c4),_0x10cbad(0x2f2),'createOrder','fetchOpenOrders','fetchClosedOrders',_0x10cbad(0x218)];let _0x5a0ced=[],_0x34219a=[],_0x17b8dd=ccxt[_0x10cbad(0x2b3)]['exchanges'];_0x17b8dd[_0x10cbad(0x1bc)](_0x498630=>{const _0x59fe7e=_0x10cbad;try{const _0x46e4e6=new ccxt['pro'][_0x498630]();_0x34219a[_0x59fe7e(0x1c0)](_0x46e4e6);}catch(_0x1228ea){}}),_0x34219a[_0x10cbad(0x1bc)](_0x52f0a4=>{const _0x153b3f=_0x10cbad;let _0x5576ef=0x0;_0x23b75e['forEach'](_0x37628e=>{const _0x3f6f4d=_0x48bb;_0x37628e in _0x52f0a4[_0x3f6f4d(0x1a9)]&&_0x52f0a4[_0x3f6f4d(0x1a9)][_0x37628e]&&_0x5576ef++;}),_0x5576ef==_0x23b75e[_0x153b3f(0x2d6)]&&_0x5a0ced[_0x153b3f(0x1c0)](capitalize(_0x52f0a4['id']));});let _0xbafb93=[];return _0x17b8dd[_0x10cbad(0x1bc)](_0x69001c=>{const _0x482381=_0x10cbad;_0x69001c=capitalize(_0x69001c);if(!_0x5a0ced[_0x482381(0x1d3)](_0x69001c))_0xbafb93['push'](_0x69001c);}),_0x5a0ced;}function setStartDatePerformance(){const _0x27d7d9=_0x25b63e;if(config&&config[_0x27d7d9(0x235)][0x0]['changes'][_0x27d7d9(0x2d6)]!=0x0){const _0x5bdc40=config[_0x27d7d9(0x235)][0x0][_0x27d7d9(0x346)];dbPerformance['get'](_0x27d7d9(0x232))[_0x27d7d9(0x30f)]({'date':config[_0x27d7d9(0x2b9)]})['assign']({'coins':_0x5bdc40})[_0x27d7d9(0x32d)]();}}async function recreateCoinResults(){const _0x4fb88d=_0x25b63e;recreationNeeded=![];let _0x228545,_0x546c13=[];try{for(const _0x537c60 of currentCoins){if(_0x537c60[_0x4fb88d(0x1b1)]!=config['basecoin']){let _0x167223=0x0,_0x14bac1,_0x1342d1;_0x228545=await getAllEventOrders(_0x537c60[_0x4fb88d(0x2c9)]);if(_0x228545[_0x4fb88d(0x2d6)]>0x0)_0x228545[_0x4fb88d(0x1bc)](_0x23c8fe=>{const _0x2b7e8f=_0x4fb88d,_0x5a3e5d=_0x537c60[_0x2b7e8f(0x2c9)]['includes'](config['basecoin']+'/');_0x546c13[_0x2b7e8f(0x1c0)]({'datetime':_0x23c8fe[_0x2b7e8f(0x25f)],'coin':_0x537c60[_0x2b7e8f(0x1b1)],'symbol':_0x537c60[_0x2b7e8f(0x2c9)],'side':_0x23c8fe['side'],'reverse':_0x5a3e5d,'amount':formatResult(_0x23c8fe[_0x2b7e8f(0x33f)],0x8),'filled':formatResult(_0x23c8fe[_0x2b7e8f(0x33f)],0x8),'price':formatResult(_0x23c8fe[_0x2b7e8f(0x2ad)],0x8)}),_0x167223=_0x23c8fe[_0x2b7e8f(0x2ec)]==_0x2b7e8f(0x2df)?_0x167223+_0x23c8fe[_0x2b7e8f(0x33f)]:_0x167223-_0x23c8fe[_0x2b7e8f(0x33f)];if(!_0x1342d1)_0x1342d1=_0x23c8fe[_0x2b7e8f(0x2ad)];});_0x14bac1=_0x537c60['number']-_0x167223;let _0x501656;config[_0x4fb88d(0x235)][_0x4fb88d(0x1bc)](_0x171a87=>{const _0x258040=_0x4fb88d;!_0x501656&&(_0x501656=_0x171a87[_0x258040(0x346)]['find'](_0x5823cb=>_0x5823cb['coin']==_0x537c60[_0x258040(0x1b1)]),_0x501656&&(_0x14bac1=_0x501656[_0x258040(0x307)],_0x1342d1=_0x501656[_0x258040(0x2ad)]));});let _0x55d7a8=dbCoinResults[_0x4fb88d(0x193)](_0x4fb88d(0x311))[_0x4fb88d(0x30f)]({'coin':_0x537c60[_0x4fb88d(0x1b1)]})[_0x4fb88d(0x245)]();_0x55d7a8={'coin':_0x537c60[_0x4fb88d(0x1b1)],'number':_0x14bac1,'breakeven':_0x1342d1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4fb88d(0x193)](_0x4fb88d(0x311))[_0x4fb88d(0x30f)]({'coin':_0x537c60[_0x4fb88d(0x1b1)]})[_0x4fb88d(0x27a)](_0x55d7a8)['write']();}}_0x546c13[_0x4fb88d(0x287)]((_0x1986b5,_0x2f5f19)=>_0x1986b5[_0x4fb88d(0x25f)]>_0x2f5f19['datetime']?0x1:_0x2f5f19[_0x4fb88d(0x25f)]>_0x1986b5[_0x4fb88d(0x25f)]?-0x1:0x0);let _0x56ce32=0x0;for(let _0x293ea5 of _0x546c13){await updateCoinResults(_0x293ea5,!![]);}}catch(_0x207803){await handleError(_0x207803,'recreateCoinResults()');}}async function getAllEventOrders(_0x1b5556){const _0x1a2e16=_0x25b63e;let _0x37e025=[],_0x279dce=dbLogs['get']('logs')[_0x1a2e16(0x24a)](_0x52f9a1=>{const _0x5cf337=_0x1a2e16,_0x33c156=_0x52f9a1['event'][_0x5cf337(0x1cf)]();return _0x33c156['includes'](_0x1b5556[_0x5cf337(0x1cf)]())&&(_0x33c156[_0x5cf337(0x1d3)]('market')&&_0x33c156[_0x5cf337(0x1d3)](_0x5cf337(0x2dd))||_0x33c156[_0x5cf337(0x1d3)]('filled')&&_0x33c156[_0x5cf337(0x1d3)](_0x5cf337(0x2dd)));})[_0x1a2e16(0x2bf)]('time')[_0x1a2e16(0x245)]();return _0x279dce['forEach'](_0x46ddff=>{const _0x2bb330=_0x1a2e16,_0x43d81e=_0x46ddff['event'][_0x2bb330(0x1d3)](_0x2bb330(0x30b))?'sell':_0x2bb330(0x2df),_0x4396a8=/#([0-9]|\.)+\s/i,_0x3777d6=Number(_0x4396a8[_0x2bb330(0x285)](_0x46ddff[_0x2bb330(0x1ed)])[0x0][_0x2bb330(0x22b)](0x1)),_0x37feb4=/@([0-9]|\.)+$/i,_0x5a94e3=Number(_0x37feb4[_0x2bb330(0x285)](_0x46ddff[_0x2bb330(0x1ed)])[0x0][_0x2bb330(0x22b)](0x1));_0x37e025['push']({'datetime':_0x46ddff[_0x2bb330(0x1b9)],'coin':symbolToCoin(_0x1b5556),'symbol':_0x1b5556,'side':_0x43d81e,'amount':_0x3777d6,'filled':_0x3777d6,'price':_0x5a94e3});}),_0x37e025;}async function getAllOrders(_0x4fc664,_0x252790){const _0x390362=_0x25b63e;let _0x522691=[];while(_0x252790<exchange['milliseconds']()){const _0x411a2e=0x1f4;try{const _0x6387ca=await exchange[_0x390362(0x2f9)](_0x4fc664,_0x252790,_0x411a2e);if(_0x6387ca[_0x390362(0x2d6)])_0x252790=_0x6387ca[_0x6387ca[_0x390362(0x2d6)]-0x1]['timestamp']+0x1,_0x522691=_0x522691[_0x390362(0x214)](_0x6387ca);else break;}catch(_0x36b1b6){await handleError(_0x36b1b6,_0x390362(0x191),_0x4fc664);}}return _0x522691;}async function validate24hChanges(){const _0x438557=_0x25b63e;for(const _0x31fc1b of currentCoins){if(_0x31fc1b['coin']!=config['basecoin']){let _0x4dc94f;_0x31fc1b[_0x438557(0x25e)]?_0x4dc94f=formatResult((0x1/(gChange[_0x31fc1b[_0x438557(0x2c9)]]/0x64+0x1)-0x1)*0x64,0x3):_0x4dc94f=gChange[_0x31fc1b[_0x438557(0x2c9)]],_0x4dc94f<config[_0x438557(0x1dc)]&&(logHistory('error',_0x31fc1b[_0x438557(0x1b1)]+_0x438557(0x2e4)+_0x4dc94f+'%'),logHistory(_0x438557(0x2c5),_0x438557(0x20f)),logHistory(_0x438557(0x2c5),_0x438557(0x28a)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x24ba28,_0x2aa04b){const _0x4c8d1a=_0x25b63e;if(!_0x24ba28)return!![];const _0x37cdcc=_0x2aa04b['split']('.'),_0x4e9364=_0x24ba28[_0x4c8d1a(0x305)]('.');for(var _0xc79e75=0x0;_0xc79e75<_0x4e9364[_0x4c8d1a(0x2d6)];_0xc79e75++){const _0x1973ab=~~_0x4e9364[_0xc79e75],_0x13c720=~~_0x37cdcc[_0xc79e75];if(_0x1973ab<_0x13c720)return!![];if(_0x1973ab>_0x13c720)return![];}return![];}async function oneTimeMigration(){const _0x1e2d2e=_0x25b63e;let _0x16245f=dbLogs[_0x1e2d2e(0x193)]('version')[_0x1e2d2e(0x245)]();if(isOlderVersion(_0x16245f,_0x1e2d2e(0x308))){let _0x5b4a38=[];const _0x3d17a3=dbLogs[_0x1e2d2e(0x193)]('logs')[_0x1e2d2e(0x245)]();_0x3d17a3[_0x1e2d2e(0x1bc)](_0x591485=>{const _0x51549b=_0x1e2d2e;_0x5b4a38[_0x51549b(0x1c0)]({'time':_0x591485[_0x51549b(0x1b9)],'type':_0x591485[_0x51549b(0x252)],'event':_0x591485[_0x51549b(0x1ed)]});}),dbLogs[_0x1e2d2e(0x193)]('logs')[_0x1e2d2e(0x27a)](_0x5b4a38)['write']();}let _0x2ba89c=dbConfig['get'](_0x1e2d2e(0x1b0))[_0x1e2d2e(0x245)]();if(isOlderVersion(_0x2ba89c,_0x1e2d2e(0x308))){let _0x2ddce6=dbConfig[_0x1e2d2e(0x193)](_0x1e2d2e(0x1f0))['find']({'botID':botID})[_0x1e2d2e(0x245)]();if(_0x2ddce6){let _0x307f2=[];_0x2ddce6[_0x1e2d2e(0x228)][_0x1e2d2e(0x1bc)](_0x532110=>{const _0x284c56=_0x1e2d2e;_0x307f2[_0x284c56(0x1c0)]({'coin':_0x532110['coin'],'number':_0x532110['startnumber'],'price':_0x532110[_0x284c56(0x1b7)]}),delete _0x532110['startnumber'],delete _0x532110['startprice'];});if(_0x307f2['length']!==0x0)fs[_0x1e2d2e(0x33e)](configbackuppath+(_0x1e2d2e(0x1bb)+botID+_0x1e2d2e(0x229)),JSON[_0x1e2d2e(0x2a1)](_0x307f2,null,0x4),function(_0x270fd8){if(_0x270fd8){}});const _0x4c188f=(_0x533bc5,_0xf4b15b)=>{const _0x23f076=_0x1e2d2e;let _0x54a519=[];_0xf4b15b[_0x23f076(0x1bc)](_0x563168=>{const _0x1bafe8=_0x23f076,_0x46d3d3=_0x533bc5[_0x1bafe8(0x30f)](_0x5a6983=>_0x5a6983[_0x1bafe8(0x1b1)]==_0x563168[_0x1bafe8(0x1b1)]);if(!_0x46d3d3)_0x54a519[_0x1bafe8(0x1c0)](_0x563168);});let _0x25cfcd=[];return _0x533bc5[_0x23f076(0x1bc)](_0x3ca0e1=>{const _0x5613f9=_0x23f076,_0x42b2f1=_0xf4b15b[_0x5613f9(0x30f)](_0xa20a57=>_0xa20a57[_0x5613f9(0x1b1)]==_0x3ca0e1[_0x5613f9(0x1b1)]);if(!_0x42b2f1||_0x42b2f1['number']==0x0&&_0x3ca0e1[_0x5613f9(0x307)]!=0x0)_0x25cfcd[_0x5613f9(0x1c0)](_0x3ca0e1);}),{'missingDay1':_0x54a519,'notInDay2':_0x25cfcd};},_0x3eab7f=dbPerformance[_0x1e2d2e(0x193)]('data')[_0x1e2d2e(0x25c)]()[_0x1e2d2e(0x245)]();if(_0x3eab7f[_0x1e2d2e(0x2d6)]>0x1){const {missingDay1:_0x8324a3,notInDay2:_0x44ac99}=_0x4c188f(_0x307f2,_0x3eab7f[0x1][_0x1e2d2e(0x311)]);_0x307f2=[..._0x307f2,..._0x8324a3],_0x44ac99[_0x1e2d2e(0x1bc)](_0x53146c=>{const _0x3027e8=_0x1e2d2e;let _0x1f7122=_0x307f2[_0x3027e8(0x1c6)](_0x678114=>_0x678114[_0x3027e8(0x1b1)]==_0x53146c['coin']);_0x1f7122!=-0x1&&_0x307f2['splice'](_0x1f7122,0x1);});}_0x307f2[_0x1e2d2e(0x287)]((_0x1cd624,_0x8ae437)=>_0x1cd624['coin']>_0x8ae437[_0x1e2d2e(0x1b1)]?0x1:_0x8ae437[_0x1e2d2e(0x1b1)]>_0x1cd624[_0x1e2d2e(0x1b1)]?-0x1:0x0);let _0x258740=[{'date':_0x2ddce6[_0x1e2d2e(0x2b9)],'changes':_0x307f2}];_0x3eab7f[_0x1e2d2e(0x2d6)]>0x2&&_0x3eab7f[_0x1e2d2e(0x1bc)]((_0x402c5b,_0x23670d)=>{const _0x5c8591=_0x1e2d2e;if(_0x23670d>0x0&&_0x23670d<_0x3eab7f['length']-0x1){const {missingDay1:_0x5b1b70,notInDay2:_0x5e05a1}=_0x4c188f(_0x3eab7f[_0x23670d][_0x5c8591(0x311)],_0x3eab7f[_0x23670d+0x1][_0x5c8591(0x311)]);_0x307f2=[],(_0x5b1b70['length']!=0x0||_0x5e05a1[_0x5c8591(0x2d6)]!=0x0)&&(_0x5b1b70[_0x5c8591(0x2d6)]!=0x0&&_0x307f2[_0x5c8591(0x1c0)](..._0x5b1b70),_0x5e05a1[_0x5c8591(0x2d6)]!=0x0&&(_0x5e05a1[_0x5c8591(0x1bc)](_0x386b6a=>{const _0x3ad96f=_0x5c8591;_0x386b6a[_0x3ad96f(0x307)]=-_0x386b6a[_0x3ad96f(0x307)];}),_0x307f2[_0x5c8591(0x1c0)](..._0x5e05a1)),_0x307f2['sort']((_0x1d71bf,_0x353916)=>_0x1d71bf['coin']>_0x353916[_0x5c8591(0x1b1)]?0x1:_0x353916[_0x5c8591(0x1b1)]>_0x1d71bf[_0x5c8591(0x1b1)]?-0x1:0x0),_0x258740[_0x5c8591(0x1c0)]({'date':_0x3eab7f[_0x23670d+0x1]['date'],'changes':_0x307f2}));}}),dbConfig[_0x1e2d2e(0x193)](_0x1e2d2e(0x1f0))[_0x1e2d2e(0x30f)]({'botID':botID})[_0x1e2d2e(0x27a)]({..._0x2ddce6,'liquidity':_0x258740})['write']();}}if(isOlderVersion(_0x2ba89c,'2.6.0')){let _0x21858e=dbConfig[_0x1e2d2e(0x193)]('bot')[_0x1e2d2e(0x30f)]({'botID':botID})[_0x1e2d2e(0x245)]();if(_0x21858e){const _0x48971d=_0x21858e['exchange'],_0x370e15=_0x48971d?capitalize(_0x48971d):_0x1e2d2e(0x205);dbConfig['get'](_0x1e2d2e(0x1f0))['find']({'botID':botID})[_0x1e2d2e(0x27a)]({'exchange':_0x370e15})['write']();}}if(isOlderVersion(_0x2ba89c,_0x1e2d2e(0x251))){let _0xeb16f6=dbConfig['get'](_0x1e2d2e(0x1f0))['find']({'botID':botID})[_0x1e2d2e(0x245)]();if(_0xeb16f6){const _0x44c72d=_0xeb16f6[_0x1e2d2e(0x1b4)],_0x3302e2=_0x44c72d?_0x1e2d2e(0x27d):![];dbConfig['get']('bot')[_0x1e2d2e(0x30f)]({'botID':botID})[_0x1e2d2e(0x27a)]({'marketcapEnabled':_0x3302e2})[_0x1e2d2e(0x32d)]();}}if(isOlderVersion(_0x2ba89c,_0x1e2d2e(0x208))){let _0x311068=dbConfig['get'](_0x1e2d2e(0x1f0))[_0x1e2d2e(0x30f)]({'botID':botID})['value']();if(_0x311068){const _0x43473a=_0x311068['autoliquidity'],_0x3566ed=_0x43473a?_0x1e2d2e(0x319):![];dbConfig[_0x1e2d2e(0x193)](_0x1e2d2e(0x1f0))[_0x1e2d2e(0x30f)]({'botID':botID})['assign']({'autoliquidity':_0x3566ed})['write']();}}let _0x47570c=dbPerformance[_0x1e2d2e(0x193)](_0x1e2d2e(0x1b0))[_0x1e2d2e(0x245)]();isOlderVersion(_0x47570c,'2.3.5')&&setStartDatePerformance();let _0x584514=dbCoinResults[_0x1e2d2e(0x193)](_0x1e2d2e(0x1b0))[_0x1e2d2e(0x245)]();if(isOlderVersion(_0x584514,_0x1e2d2e(0x1d5))){let _0x342c3f=dbCoinResults[_0x1e2d2e(0x193)](_0x1e2d2e(0x311))['value']();if(_0x342c3f['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x5e136b=_0x25b63e;dbConfig[_0x5e136b(0x2b5)](_0x5e136b(0x1b0),serverversion)['write'](),dbPerformance[_0x5e136b(0x2b5)](_0x5e136b(0x1b0),serverversion)['write'](),dbLogs[_0x5e136b(0x2b5)](_0x5e136b(0x1b0),serverversion)[_0x5e136b(0x32d)](),dbCoinResults[_0x5e136b(0x2b5)](_0x5e136b(0x1b0),serverversion)[_0x5e136b(0x32d)]();}function getConfiguration(_0x2d98da){const _0x5c7536=_0x25b63e;let _0x10191f=dbConfig['get'](_0x5c7536(0x1f0))['find']({'botID':_0x2d98da})['value']();if(_0x10191f){let _0x145752=![];typeof _0x10191f[_0x5c7536(0x26e)]==_0x5c7536(0x28e)&&(_0x10191f={..._0x10191f,'threshold':Number(_0x10191f[_0x5c7536(0x26e)])},_0x145752=!![]),_0x10191f[_0x5c7536(0x1dc)]==undefined&&(_0x10191f={..._0x10191f,'change24h':-0x14},_0x145752=!![]),_0x10191f[_0x5c7536(0x24b)]==undefined&&(_0x10191f={..._0x10191f,'fiat':_0x5c7536(0x1bf)},_0x145752=!![]),_0x10191f[_0x5c7536(0x19e)]==undefined&&(_0x10191f={..._0x10191f,'onepagemode':settings[_0x5c7536(0x19e)]},_0x145752=!![]),_0x10191f[_0x5c7536(0x2a4)]==undefined&&(_0x10191f={..._0x10191f,'colorscheme':'red_yellow_blue'},_0x145752=!![]),_0x10191f[_0x5c7536(0x1be)]==undefined&&(_0x10191f={..._0x10191f,'autoliquidity':_0x5c7536(0x319)},_0x145752=!![]),_0x10191f[_0x5c7536(0x1d7)]==undefined&&(_0x10191f={..._0x10191f,'marketcapApi':settings[_0x5c7536(0x1d7)]?!![]:![]},_0x145752=!![]),_0x10191f[_0x5c7536(0x1b4)]==undefined&&(_0x10191f={..._0x10191f,'marketcapEnabled':![]},_0x145752=!![]),_0x145752&&(_0x10191f={'botID':_0x10191f[_0x5c7536(0x256)],'exchange':_0x10191f[_0x5c7536(0x1c7)],'apiKey':_0x10191f['apiKey'],'apiSecret':_0x10191f['apiSecret'],'apiPassword':_0x10191f['apiPassword'],'basecoin':_0x10191f[_0x5c7536(0x303)],'botname':_0x10191f[_0x5c7536(0x21b)],'showname':_0x10191f['showname'],'threshold':_0x10191f[_0x5c7536(0x26e)],'ordertype':_0x10191f[_0x5c7536(0x2da)],'timeout':_0x10191f[_0x5c7536(0x304)],'fiat':_0x10191f['fiat'],'startdate':_0x10191f[_0x5c7536(0x2b9)],'recreate':_0x10191f['recreate'],'timeshift':_0x10191f['timeshift'],'onepagemode':_0x10191f[_0x5c7536(0x19e)],'headless':_0x10191f[_0x5c7536(0x1fc)],'cooldown':_0x10191f[_0x5c7536(0x284)],'change24h':_0x10191f['change24h'],'emojibuy':_0x10191f[_0x5c7536(0x21d)],'emojisell':_0x10191f[_0x5c7536(0x19f)],'colorscheme':_0x10191f[_0x5c7536(0x2a4)],'marketcapApi':_0x10191f[_0x5c7536(0x1d7)],'marketcapEnabled':_0x10191f[_0x5c7536(0x1b4)],'portfolio':_0x10191f[_0x5c7536(0x228)],'autoliquidity':_0x10191f[_0x5c7536(0x1be)],'liquidity':_0x10191f[_0x5c7536(0x235)],'openOrders':_0x10191f[_0x5c7536(0x2a2)]},dbConfig[_0x5c7536(0x193)](_0x5c7536(0x1f0))[_0x5c7536(0x2d9)]()[_0x5c7536(0x32d)](),dbConfig['get'](_0x5c7536(0x1f0))[_0x5c7536(0x1c0)](_0x10191f)[_0x5c7536(0x32d)]());}else _0x10191f={'botID':_0x2d98da,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x5c7536(0x293)+_0x2d98da,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x5c7536(0x202)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x5c7536(0x337),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':'update-liquidity','liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x10191f;}function emittedConfiguration(){const _0x413967=_0x25b63e;let _0x11306a;if(config[_0x413967(0x258)]=='')_0x11306a={...config,'configstate':_0x413967(0x2b7)};else config[_0x413967(0x258)]==_0x413967(0x1fb)?_0x11306a={...config,'configstate':'recovery'}:(_0x11306a={...config,'apiKey':_0x413967(0x28b),'apiSecret':_0x413967(0x28b)},config[_0x413967(0x1f5)]&&(_0x11306a[_0x413967(0x1f5)]='************'));return _0x11306a;}function getSettings(){const _0x140c89=_0x25b63e;return dbSettings[_0x140c89(0x193)](_0x140c89(0x2eb))[_0x140c89(0x245)]();}function getSecure(){const _0x314eb0=_0x25b63e;return dbSecure['get']('secure')[_0x314eb0(0x245)]()||{};}function updateTimeshift(_0x198722){const _0x4f6bd7=_0x25b63e;let _0x317643=dbConfig['get'](_0x4f6bd7(0x1f0))[_0x4f6bd7(0x30f)]({'botID':botID})[_0x4f6bd7(0x245)]();_0x317643&&dbConfig[_0x4f6bd7(0x193)](_0x4f6bd7(0x1f0))['find']({'botID':botID})[_0x4f6bd7(0x27a)]({'timeshift':_0x198722})['write'](),config[_0x4f6bd7(0x202)]=_0x198722,proxyEmit(_0x4f6bd7(0x20a),emittedConfiguration());}function updateOnepagemode(_0x23cfc2){const _0x3ae67e=_0x25b63e;let _0x45860f=dbConfig[_0x3ae67e(0x193)](_0x3ae67e(0x1f0))[_0x3ae67e(0x30f)]({'botID':botID})['value']();_0x45860f&&dbConfig[_0x3ae67e(0x193)]('bot')[_0x3ae67e(0x30f)]({'botID':botID})['assign']({'onepagemode':_0x23cfc2})['write'](),config[_0x3ae67e(0x19e)]=_0x23cfc2,proxyEmit(_0x3ae67e(0x20a),emittedConfiguration());}function updateMarketcapApi(_0x2ad646){const _0x5bb7a5=_0x25b63e,_0x496246=_0x2ad646?!![]:![];let _0x112dfd=dbConfig['get'](_0x5bb7a5(0x1f0))['find']({'botID':botID})['value']();_0x112dfd&&dbConfig['get'](_0x5bb7a5(0x1f0))['find']({'botID':botID})[_0x5bb7a5(0x27a)]({'marketcapApi':_0x496246})['write'](),config[_0x5bb7a5(0x1d7)]=_0x496246,getMarketCap(),proxyEmit(_0x5bb7a5(0x20a),emittedConfiguration());}async function storeConfiguration(_0x369d4d){const _0x874961=_0x25b63e;logger['debug'](_0x874961(0x26b));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x21d1ed=![],_0x310f31=![],_0x32e31b=[];_0x369d4d[_0x874961(0x228)][_0x874961(0x1bc)](_0x44f9aa=>{const _0x48edd8=_0x874961;if(!_0x44f9aa[_0x48edd8(0x223)]&&_0x44f9aa[_0x48edd8(0x1b1)]!=_0x369d4d[_0x48edd8(0x303)])_0x32e31b[_0x48edd8(0x1c0)](_0x44f9aa[_0x48edd8(0x2c9)]);}),_0x32e31b[_0x874961(0x1bc)](_0x2edd34=>{const _0xcf2507=_0x874961,_0x48848c=currentCoins['find'](_0x55ad84=>_0x55ad84[_0xcf2507(0x2c9)]==_0x2edd34);!_0x48848c&&(_0x21d1ed=!![]);}),currentCoins[_0x874961(0x1bc)](_0x5b42f9=>{const _0x355e81=_0x874961;if(_0x5b42f9['coin']!=config[_0x355e81(0x303)]){const _0xf4a433=_0x32e31b[_0x355e81(0x30f)](_0x2ee512=>_0x2ee512==_0x5b42f9[_0x355e81(0x2c9)]);!_0xf4a433&&(_0x21d1ed=!![]);}}),_0x369d4d[_0x874961(0x228)][_0x874961(0x1bc)](_0x4b24d3=>{const _0x5b1f21=_0x874961,_0x42da98=config[_0x5b1f21(0x228)][_0x5b1f21(0x30f)](_0x3459b0=>_0x3459b0[_0x5b1f21(0x1b1)]==_0x4b24d3[_0x5b1f21(0x1b1)]);if(_0x42da98&&_0x4b24d3[_0x5b1f21(0x259)]!=_0x42da98[_0x5b1f21(0x259)])_0x310f31=!![];});let _0x28f130=dbConfig[_0x874961(0x193)](_0x874961(0x1f0))['find']({'botID':botID})[_0x874961(0x245)]();_0x369d4d={..._0x369d4d,'apiKey':crypt[_0x874961(0x1fd)](secure[_0x874961(0x1a5)],_0x369d4d[_0x874961(0x258)])[_0x874961(0x199)],'apiSecret':crypt[_0x874961(0x1fd)](secure[_0x874961(0x1a5)],_0x369d4d['apiSecret'])[_0x874961(0x199)]};_0x369d4d[_0x874961(0x1f5)]&&(_0x369d4d[_0x874961(0x1f5)]=crypt[_0x874961(0x1fd)](secure[_0x874961(0x1a5)],_0x369d4d[_0x874961(0x1f5)])[_0x874961(0x199)]);let _0x24e790=![];if(_0x28f130){_0x369d4d[_0x874961(0x258)]==_0x874961(0x28b)?_0x369d4d['apiKey']=config['apiKey']:_0x24e790=!![];_0x369d4d[_0x874961(0x247)]==_0x874961(0x28b)?_0x369d4d['apiSecret']=config[_0x874961(0x247)]:_0x24e790=!![];if(_0x369d4d[_0x874961(0x1f5)]=='************')_0x369d4d[_0x874961(0x1f5)]=config[_0x874961(0x1f5)];else{if(_0x369d4d[_0x874961(0x1f5)])_0x24e790=!![];}dbConfig['get'](_0x874961(0x1f0))['find']({'botID':botID})[_0x874961(0x27a)](_0x369d4d)[_0x874961(0x32d)]();}else dbConfig[_0x874961(0x193)](_0x874961(0x1f0))['push'](_0x369d4d)[_0x874961(0x32d)](),_0x24e790=!![],process[_0x874961(0x230)]({'status':'enabled','live':_0x874961(0x2fd)},_0x4f358e=>{});process[_0x874961(0x230)]({'botname':_0x369d4d[_0x874961(0x21b)]},_0x961bac=>{}),config={..._0x369d4d},updateBotManager(),proxyEmit(_0x874961(0x2e9)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x24e790)!_0x28f130?await reset(!![]):getBalances();else _0x21d1ed||_0x310f31?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x5e8fbb){const _0x42f5c7=_0x25b63e,_0x16103d={...config,'headless':_0x5e8fbb[_0x42f5c7(0x1fc)]};let _0x1fada5=dbConfig[_0x42f5c7(0x193)](_0x42f5c7(0x1f0))[_0x42f5c7(0x30f)]({'botID':botID})['value']();_0x1fada5&&dbConfig[_0x42f5c7(0x193)]('bot')['find']({'botID':botID})[_0x42f5c7(0x27a)](_0x16103d)['write'](),config={..._0x16103d},updateBotManager(),proxyEmit(_0x42f5c7(0x20a),emittedConfiguration());}async function storeFiat(_0x146ddf){const _0xb10e5f=_0x25b63e,_0xbc1f0b={...config,'fiat':_0x146ddf};let _0x57e850=dbConfig[_0xb10e5f(0x193)](_0xb10e5f(0x1f0))[_0xb10e5f(0x30f)]({'botID':botID})['value']();_0x57e850&&dbConfig[_0xb10e5f(0x193)](_0xb10e5f(0x1f0))[_0xb10e5f(0x30f)]({'botID':botID})[_0xb10e5f(0x27a)](_0xbc1f0b)['write'](),config={..._0xbc1f0b},proxyEmit(_0xb10e5f(0x20a),emittedConfiguration());}function resetHistory(){const _0x501c68=_0x25b63e;logger[_0x501c68(0x298)](_0x501c68(0x31c));try{if(fs[_0x501c68(0x1c9)](path[_0x501c68(0x313)](configpath,_0x501c68(0x20e)+botID+'-events.json')))fs[_0x501c68(0x22e)](path['join'](configpath,_0x501c68(0x20e)+botID+'-events.json'));if(fs[_0x501c68(0x1c9)](path[_0x501c68(0x313)](configpath,_0x501c68(0x20e)+botID+_0x501c68(0x1ca))))fs[_0x501c68(0x22e)](path[_0x501c68(0x313)](configpath,_0x501c68(0x20e)+botID+_0x501c68(0x1ca)));if(fs[_0x501c68(0x1c9)](path[_0x501c68(0x313)](configpath,'bot-'+botID+_0x501c68(0x1e1))))fs['unlinkSync'](path['join'](configpath,_0x501c68(0x20e)+botID+_0x501c68(0x1e1)));}catch(_0x1f061a){if(_0x1f061a)logger['full'](_0x501c68(0x344),_0x1f061a);}const _0x4ff3a5=getDate();let _0x3357ee=[];currentCoins[_0x501c68(0x1bc)](_0x2e759b=>{const _0x3c37c5=_0x501c68;_0x3357ee[_0x3c37c5(0x1c0)]({'coin':_0x2e759b[_0x3c37c5(0x1b1)],'number':_0x2e759b[_0x3c37c5(0x307)],'price':_0x2e759b['last']});});let _0x1a8000=dbConfig['get'](_0x501c68(0x1f0))[_0x501c68(0x30f)]({'botID':botID})[_0x501c68(0x245)]();_0x1a8000&&(dbConfig[_0x501c68(0x193)](_0x501c68(0x1f0))[_0x501c68(0x30f)]({'botID':botID})[_0x501c68(0x27a)]({'liquidity':[{'date':_0x4ff3a5,'changes':_0x3357ee}]})['write'](),config[_0x501c68(0x235)]=[]),restartBot(!![]);}function noslash(_0x334c57){const _0x16506d=_0x25b63e;return _0x334c57[_0x16506d(0x2a3)]('/','');}function updateHighestFee(_0x29e022){const _0x1ee0e8=_0x25b63e;if(_0x29e022[_0x1ee0e8(0x25e)]){let _0x512c17={'filled':_0x29e022[_0x1ee0e8(0x33f)]*_0x29e022[_0x1ee0e8(0x2ad)],'amount':_0x29e022['filled']*_0x29e022[_0x1ee0e8(0x2ad)],'side':_0x29e022['side']==_0x1ee0e8(0x30b)?_0x1ee0e8(0x2df):_0x1ee0e8(0x30b),'price':0x1/_0x29e022[_0x1ee0e8(0x2ad)]};_0x29e022={..._0x29e022,..._0x512c17};}const _0x281c46=defaultFee*_0x29e022[_0x1ee0e8(0x33f)]*_0x29e022[_0x1ee0e8(0x2ad)];lastFees[_0x1ee0e8(0x227)][_0x1ee0e8(0x2d6)]===0x14&&lastFees[_0x1ee0e8(0x227)][_0x1ee0e8(0x318)](),lastFees[_0x1ee0e8(0x227)]['push'](_0x281c46),lastFees[_0x1ee0e8(0x314)]=Math[_0x1ee0e8(0x204)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x39b377){const _0x4c95ea=_0x25b63e;logger[_0x4c95ea(0x2ef)](_0x4c95ea(0x30a)+_0x39b377['symbol']+_0x4c95ea(0x1ec)+_0x39b377['status']+_0x4c95ea(0x1ec)+_0x39b377[_0x4c95ea(0x33f)]+_0x4c95ea(0x2e8)+_0x39b377[_0x4c95ea(0x330)]+_0x4c95ea(0x1ec)+_0x39b377['id']);let _0x29b586=_0x39b377[_0x4c95ea(0x1d8)],_0x1d10f0=![];currentCoins[_0x4c95ea(0x1bc)](_0x1e3858=>{const _0x1aa85c=_0x4c95ea;_0x1e3858[_0x1aa85c(0x2c9)]==_0x39b377[_0x1aa85c(0x2c9)]&&(_0x1d10f0=!![]);});if(!_0x1d10f0)return;const _0x3dd3df=currentCoins[_0x4c95ea(0x30f)](_0x45301d=>_0x45301d[_0x4c95ea(0x2c9)]==_0x39b377[_0x4c95ea(0x2c9)]),_0x35343b=_0x2fed1e=>{const _0x24e81c=_0x4c95ea;if(_0x3dd3df)_0x3dd3df[_0x24e81c(0x2b0)]=_0x2fed1e;};let _0x5e8da4=![];for(const _0x3d0f7f of lastOrders){const _0x2c3372=0x64,_0x229c52=0x1388;let _0xbaac95=0x0;while(!_0x3d0f7f[_0x4c95ea(0x1e5)]&&_0xbaac95*_0x2c3372<_0x229c52){_0xbaac95++,await sleep(_0x2c3372);}if(_0xbaac95>0x0)logger[_0x4c95ea(0x2ef)](_0x4c95ea(0x1cd)+_0xbaac95*_0x2c3372/0x3e8+_0x4c95ea(0x26d));_0x3d0f7f[_0x4c95ea(0x1e5)]==_0x39b377['id']&&(_0x5e8da4=!![]);}if(_0x29b586==_0x4c95ea(0x2c4)){_0x35343b(_0x4c95ea(0x2c4));if(_0x39b377['filled']>0x0){if(_0x5e8da4){setBlockTransactionDetection(!![]),logger[_0x4c95ea(0x2ef)](_0x4c95ea(0x2a5)+_0x39b377['id']);const _0x2a5249=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2a5249,setBlockTransactionDetection(![]);}else logger[_0x4c95ea(0x2ef)](_0x4c95ea(0x32b)+_0x39b377['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x29b586==_0x4c95ea(0x306)){_0x35343b(_0x4c95ea(0x306));const _0x1aafae=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1aafae,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x29b586==_0x4c95ea(0x29f)){if(lastOrders)for(const _0x336282 of lastOrders){if(_0x336282[_0x4c95ea(0x1e5)]==_0x39b377['id']){logger[_0x4c95ea(0x2ef)](_0x4c95ea(0x2b8)+_0x39b377['id']),_0x5e8da4=!![];if(_0x336282[_0x4c95ea(0x33f)]==0x0){setBlockTransactionDetection(!![]),logger[_0x4c95ea(0x2ef)](_0x4c95ea(0x310)+_0x39b377['id']);if(_0x39b377[_0x4c95ea(0x327)])_0x336282[_0x4c95ea(0x2ad)]=_0x39b377['average'];else{if(_0x39b377[_0x4c95ea(0x2ad)])_0x336282[_0x4c95ea(0x2ad)]=_0x39b377[_0x4c95ea(0x2ad)];else{}}_0x336282[_0x4c95ea(0x33f)]=_0x39b377[_0x4c95ea(0x33f)],updateHighestFee(_0x336282),_0x35343b(_0x4c95ea(0x33f)),await validateOrders();if(lockOrders==ORDERS[_0x4c95ea(0x25d)]){const _0xbf1952=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xbf1952,setBlockTransactionDetection(![]);}_0x336282['fee']={'currency':_0x39b377['fee']?_0x39b377[_0x4c95ea(0x1db)][_0x4c95ea(0x1a7)]:null,'cost':_0x39b377[_0x4c95ea(0x1db)]?_0x39b377[_0x4c95ea(0x1db)][_0x4c95ea(0x23d)]:0x0},await updateCoinResults(_0x336282);}}}!_0x5e8da4&&(logger['debug'](_0x4c95ea(0x348)+_0x39b377['id']),_0x35343b(_0x4c95ea(0x33f)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x22e1e9=JSON['parse'](lastBalances[_0x4c95ea(0x228)]);const _0x78853b=_0x22e1e9['find'](_0x3d135f=>_0x3d135f[_0x4c95ea(0x2c9)]==_0x39b377[_0x4c95ea(0x2c9)]);if(_0x78853b){if(_0x29b586==_0x4c95ea(0x2c4))_0x78853b[_0x4c95ea(0x2b0)]=_0x78853b[_0x4c95ea(0x2b0)]==_0x4c95ea(0x33f)?'filled':_0x4c95ea(0x2c4);else{if(_0x29b586==_0x4c95ea(0x306))_0x78853b[_0x4c95ea(0x2b0)]=_0x78853b[_0x4c95ea(0x2b0)]==_0x4c95ea(0x33f)?_0x4c95ea(0x33f):_0x4c95ea(0x306);else _0x29b586=='closed'&&(_0x78853b[_0x4c95ea(0x2b0)]=_0x4c95ea(0x33f));}}lastBalances={...lastBalances,'portfolio':JSON[_0x4c95ea(0x2a1)](_0x22e1e9)},proxyEmit(_0x4c95ea(0x234),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x2e2c85=_0x25b63e;await getOpenOrders();let _0x1f42c5=![];currentCoins[_0x2e2c85(0x1bc)](_0x550fb3=>{const _0x385754=_0x2e2c85;_0x1f42c5=allOpenOrders[_0x385754(0x30f)](_0x1e6116=>_0x1e6116[_0x385754(0x2c9)]==_0x550fb3[_0x385754(0x2c9)]),_0x550fb3['orderstatus']=_0x1f42c5?_0x385754(0x2c4):_0x385754(0x219);});}async function getCoins(_0x10c6c0=0x0,_0x251b23=!![],_0x393d1a=config[_0x25b63e(0x303)]){const _0x2119a8=_0x25b63e;let _0x28433b,_0x5ef01c=[],_0x4372f8=[],_0x594957=[];if(_0x10c6c0)await sleep(_0x10c6c0);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x28433b=await exchange['fetchBalance'](),mybalances=_0x28433b[_0x2119a8(0x27e)];for(const [_0x5b458e,_0x317599]of Object[_0x2119a8(0x21c)](mybalances)){_0x594957[_0x2119a8(0x1c0)](_0x5b458e);}config[_0x2119a8(0x228)][_0x2119a8(0x1bc)](_0x29a138=>{const _0x1bb1ad=_0x2119a8;!_0x594957[_0x1bb1ad(0x1d3)](_0x29a138[_0x1bb1ad(0x1b1)])&&(mybalances[_0x29a138[_0x1bb1ad(0x1b1)]]=0x0);});if(_0x393d1a=='')for(const [_0x5a59f0,_0x341910]of Object[_0x2119a8(0x21c)](mybalances)){_0x341910!=0x0&&_0x5ef01c['push']({'coin':_0x5a59f0});}else for(const [_0x49a706,_0x46fbe4]of Object[_0x2119a8(0x21c)](mybalances)){const _0x32e096=config[_0x2119a8(0x228)][_0x2119a8(0x30f)](_0x54f220=>_0x54f220['coin']==_0x49a706),_0x16c508=_0x49a706+'/'+_0x393d1a,_0x379b3f=_0x393d1a+'/'+_0x49a706,_0x42b03c=currentCoins['find'](_0x5ef9dd=>_0x5ef9dd[_0x2119a8(0x1b1)]==_0x49a706);if((_0x46fbe4!=0x0||_0x32e096)&&(allSymbols[_0x2119a8(0x1d3)](_0x16c508)||_0x49a706==_0x393d1a))_0x42b03c?_0x5ef01c[_0x2119a8(0x1c0)]({..._0x42b03c,'number':Math['max'](_0x46fbe4+(_0x32e096&&_0x32e096['offset']||0x0),0x0)}):_0x5ef01c[_0x2119a8(0x1c0)]({'coin':_0x49a706,'symbol':_0x16c508,'reverse':![],'number':Math[_0x2119a8(0x204)](_0x46fbe4+(_0x32e096&&_0x32e096[_0x2119a8(0x259)]||0x0),0x0),'orderstatus':_0x2119a8(0x219)});else{if((_0x46fbe4!=0x0||_0x32e096)&&allSymbols['includes'](_0x379b3f))_0x42b03c?_0x5ef01c[_0x2119a8(0x1c0)]({..._0x42b03c,'number':Math['max'](_0x46fbe4+(_0x32e096&&_0x32e096[_0x2119a8(0x259)]||0x0),0x0)}):_0x5ef01c[_0x2119a8(0x1c0)]({'coin':_0x49a706,'symbol':_0x379b3f,'reverse':!![],'number':Math[_0x2119a8(0x204)](_0x46fbe4+(_0x32e096&&_0x32e096['offset']||0x0),0x0),'orderstatus':'none'});else _0x32e096&&_0x5ef01c[_0x2119a8(0x1c0)]({'coin':_0x32e096['coin'],'symbol':_0x32e096[_0x2119a8(0x2c9)],'reverse':_0x32e096[_0x2119a8(0x25e)],'number':0x0,'orderstatus':_0x2119a8(0x219)});}}}catch(_0xd7c006){if(!_0x251b23)handleErrorNoStop(_0xd7c006,_0x2119a8(0x334));else await handleError(_0xd7c006,_0x2119a8(0x334));}return _0x5ef01c['sort']((_0x1d8209,_0x226e69)=>_0x1d8209[_0x2119a8(0x194)]<_0x226e69[_0x2119a8(0x194)]?0x1:_0x226e69[_0x2119a8(0x194)]<_0x1d8209[_0x2119a8(0x194)]?-0x1:0x0),_0x4372f8=cloneDeep(_0x5ef01c),_0x5ef01c=_0x5ef01c[_0x2119a8(0x24a)](_0x6fdd51=>{const _0xa5bff=_0x2119a8,_0x3786d0=config[_0xa5bff(0x228)]['find'](_0x5600d5=>_0x5600d5[_0xa5bff(0x1b1)]==_0x6fdd51[_0xa5bff(0x1b1)]);return _0x3786d0&&!_0x3786d0[_0xa5bff(0x223)];}),[_0x5ef01c,_0x4372f8];}async function getCoinNumber(_0x4cfae1){const _0x359467=_0x25b63e;let _0x9500c2;try{const _0xeab99f=await exchange[_0x359467(0x218)]();_0x9500c2=_0xeab99f[_0x359467(0x27e)][_0x4cfae1];}catch(_0x30db5d){await handleError(_0x30db5d,'getCoinNumber()');}return _0x9500c2;}async function getOpenOrders(){const _0x155c16=_0x25b63e;let _0x5ec5dd;allOpenOrders=[];try{for(const _0x23237c of config[_0x155c16(0x228)]){!_0x23237c[_0x155c16(0x223)]&&_0x23237c[_0x155c16(0x1b1)]!=config[_0x155c16(0x303)]&&(_0x5ec5dd=await exchange[_0x155c16(0x290)](_0x23237c[_0x155c16(0x2c9)]),_0x5ec5dd[_0x155c16(0x2d6)]>0x0&&allOpenOrders[_0x155c16(0x1c0)](_0x5ec5dd[0x0]));}}catch(_0x12df0d){await handleError(_0x12df0d,_0x155c16(0x211));}}async function handleOpenOrders(_0x4adf14=0x0){const _0x2ec73=_0x25b63e;allOpenOrders[_0x2ec73(0x2d6)]==0x0&&lockOrders==ORDERS[_0x2ec73(0x25d)]&&allOrdersPlaced&&(_0x4adf14==0x0?(logger[_0x2ec73(0x2ef)](_0x2ec73(0x30c)),_0x4adf14++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x2ec73(0x2ef)](_0x2ec73(0x32f)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x33ec37){const _0x509e93=_0x25b63e,_0x28ce17=ccxt['pro'][_0x33ec37[_0x509e93(0x1c7)][_0x509e93(0x1cf)]()],_0x5c6f64=new _0x28ce17({'apiKey':_0x33ec37[_0x509e93(0x258)],'secret':_0x33ec37[_0x509e93(0x247)],'options':{'defaultType':'spot'}});if(_0x33ec37['apiPassword'])_0x5c6f64[_0x509e93(0x240)]=_0x33ec37[_0x509e93(0x1f5)];try{await _0x5c6f64[_0x509e93(0x218)]();}catch(_0x42fcfc){throw _0x42fcfc;}}function cloneDeep(_0x55b03b){const _0x20aa9d=_0x25b63e;return JSON['parse'](JSON[_0x20aa9d(0x2a1)](_0x55b03b));}async function getPortfolio(_0x2a6989){const _0x5e5645=_0x25b63e;let _0x197aea=[],_0x57b0e6=[],_0x1f8ee6=[],_0x172f26;if(_0x2a6989['apiKey']!=='************'||_0x2a6989[_0x5e5645(0x247)]!==_0x5e5645(0x28b)||_0x2a6989['apiPassword']&&_0x2a6989[_0x5e5645(0x1f5)]!=='************'){if(config[_0x5e5645(0x1c7)]){if(_0x2a6989[_0x5e5645(0x258)]==_0x5e5645(0x28b))_0x2a6989[_0x5e5645(0x258)]=config[_0x5e5645(0x258)];if(_0x2a6989[_0x5e5645(0x247)]=='************')_0x2a6989['apiSecret']=config[_0x5e5645(0x247)];if(_0x2a6989[_0x5e5645(0x1f5)]==_0x5e5645(0x28b))_0x2a6989[_0x5e5645(0x1f5)]=config[_0x5e5645(0x1f5)];try{await testAPI(_0x2a6989);}catch(_0x5c59ef){if(_0x5c59ef[_0x5e5645(0x280)]()[_0x5e5645(0x1d3)](_0x5e5645(0x24d))){logger['debug'](_0x5e5645(0x32c)),proxyEmit('portfolio',![]);return;}else{handleError(_0x5c59ef,_0x5e5645(0x2d4));return;}}}config[_0x5e5645(0x1c7)]?updateExchange(_0x2a6989[_0x5e5645(0x258)],_0x2a6989[_0x5e5645(0x247)],_0x2a6989[_0x5e5645(0x1f5)]):await initExchange(_0x2a6989[_0x5e5645(0x1c7)],_0x2a6989['apiKey'],_0x2a6989['apiSecret'],_0x2a6989[_0x5e5645(0x1f5)]);try{await loadSymbols();}catch(_0x18afbc){if(_0x18afbc[_0x5e5645(0x280)]()[_0x5e5645(0x1d3)](_0x5e5645(0x24d))){proxyEmit('portfolio',![]);return;}else{handleError(_0x18afbc,'getPortfolio(1)');return;}}const _0x43343a=await getCoins(0x0,![],_0x2a6989['basecoin']);_0x1f8ee6=cloneDeep(_0x43343a[0x1]);}else{const _0x2cee83=await getCoins();_0x1f8ee6=cloneDeep(_0x2cee83[0x1]);}if(_0x2a6989[_0x5e5645(0x303)]=='')proxyEmit(_0x5e5645(0x228),_0x1f8ee6);else{_0x1f8ee6[_0x5e5645(0x1bc)](_0x2ff1fb=>{const _0x4d0262=_0x5e5645;if(_0x2ff1fb[_0x4d0262(0x1b1)]!=_0x2a6989[_0x4d0262(0x303)]&&allSymbols['includes'](_0x2ff1fb['symbol']))_0x197aea['push'](_0x2ff1fb['symbol']);});if(_0x197aea[_0x5e5645(0x2d6)]==0x0)logHistory(_0x5e5645(0x2c5),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x57b0e6=await getTickers(_0x197aea);}catch(_0x31e4a3){if(_0x31e4a3[_0x5e5645(0x280)]()['includes'](_0x5e5645(0x24d))){proxyEmit('portfolio',![]);return;}else handleError(_0x31e4a3,_0x5e5645(0x2d3));}_0x1f8ee6['forEach'](_0x997be1=>{const _0x21f3d0=_0x5e5645;_0x997be1[_0x21f3d0(0x1b1)]!=_0x2a6989[_0x21f3d0(0x303)]?_0x57b0e6[_0x997be1[_0x21f3d0(0x2c9)]]?_0x172f26=_0x997be1[_0x21f3d0(0x25e)]?0x1/_0x57b0e6[_0x997be1['symbol']][_0x21f3d0(0x338)]:_0x57b0e6[_0x997be1[_0x21f3d0(0x2c9)]][_0x21f3d0(0x338)]:_0x172f26=0x0:_0x172f26=0x1,_0x997be1[_0x21f3d0(0x2ad)]=formatResult(_0x172f26,0x8);}),await getMarketCap(_0x1f8ee6),proxyEmit(_0x5e5645(0x228),_0x1f8ee6);}}}function truncateTradeAmount(_0x2f3d6d,_0x3be282){let _0x54b3d3=0x0;try{_0x54b3d3=exchange['amountToPrecision'](_0x2f3d6d,_0x3be282);}catch(_0x3e3f69){}return _0x54b3d3;}function checkMinimums(_0x256e12){const _0x237d95=_0x25b63e;let _0x4d6279=!![];const _0x555b3a=!_0x256e12['reverse']?markets[_0x256e12['symbol']]['limits'][_0x237d95(0x330)]['min']:markets[_0x256e12[_0x237d95(0x2c9)]][_0x237d95(0x192)][_0x237d95(0x23d)][_0x237d95(0x2ed)],_0x493e14=!_0x256e12[_0x237d95(0x25e)]?markets[_0x256e12[_0x237d95(0x2c9)]]['limits'][_0x237d95(0x23d)]['min']:markets[_0x256e12['symbol']]['limits'][_0x237d95(0x330)][_0x237d95(0x2ed)],_0x1bede8=truncateTradeAmount(_0x256e12[_0x237d95(0x2c9)],_0x256e12[_0x237d95(0x261)]);_0x256e12['trade']=_0x1bede8;if(Math[_0x237d95(0x1e4)](_0x1bede8)<_0x555b3a)_0x4d6279=![];if(Math['abs'](_0x1bede8)*_0x256e12[_0x237d95(0x338)]<_0x493e14)_0x4d6279=![];if(_0x256e12[_0x237d95(0x2ec)]==_0x237d95(0x30b)){let _0x79bdc8=config[_0x237d95(0x228)][_0x237d95(0x30f)](_0xb1c0dd=>_0xb1c0dd[_0x237d95(0x1b1)]==_0x256e12[_0x237d95(0x1b1)]);if(_0x79bdc8['offset']>0x0){if(Math[_0x237d95(0x1e4)](_0x1bede8)>_0x256e12[_0x237d95(0x307)]-_0x79bdc8[_0x237d95(0x259)])_0x4d6279=![];}else{if(Math[_0x237d95(0x1e4)](_0x1bede8)>_0x256e12[_0x237d95(0x307)])_0x4d6279=![];}}if(_0x256e12['side']=='buy'){let _0x177fbf=config[_0x237d95(0x228)]['find'](_0x5c9eb4=>_0x5c9eb4[_0x237d95(0x1b1)]==config[_0x237d95(0x303)]),_0x4e11d3=currentCoins['find'](_0x356695=>_0x356695[_0x237d95(0x1b1)]==config[_0x237d95(0x303)]);if(_0x177fbf['offset']>0x0){if(Math[_0x237d95(0x1e4)](_0x1bede8)*_0x256e12[_0x237d95(0x338)]>_0x4e11d3[_0x237d95(0x307)]-_0x177fbf[_0x237d95(0x259)])_0x4d6279=![];}else{if(Math['abs'](_0x1bede8)*_0x256e12['last']>_0x4e11d3[_0x237d95(0x307)])_0x4d6279=![];}}return _0x4d6279;}async function getBalances(_0x420d82=!![]){const _0x3ae159=_0x25b63e;let _0x5a1f17=0x0,_0x1d4a73;const _0x5ee008=config[_0x3ae159(0x26e)];if(config[_0x3ae159(0x1fc)]&&config[_0x3ae159(0x1dc)]<0x0)await validate24hChanges();currentCoins[_0x3ae159(0x1bc)](_0x48a1bb=>{const _0x2b1b9b=_0x3ae159;if(_0x48a1bb[_0x2b1b9b(0x1b1)]!=config[_0x2b1b9b(0x303)]){let _0x23a2b5=gTicker[noslash(_0x48a1bb[_0x2b1b9b(0x2c9)])];_0x1d4a73=_0x48a1bb['reverse']?0x1/_0x23a2b5:_0x23a2b5;}else _0x1d4a73=0x1;let _0x1dc947=_0x48a1bb[_0x2b1b9b(0x307)]*_0x1d4a73;_0x5a1f17+=_0x1dc947,_0x48a1bb[_0x2b1b9b(0x338)]=formatResult(Number(_0x1d4a73),0x8),_0x48a1bb['value']=_0x1dc947;}),currentCoins[_0x3ae159(0x1bc)](_0x491c64=>{const _0x4f930e=_0x3ae159;let _0x5d2ca9=config[_0x4f930e(0x228)]['find'](_0x3c4a4f=>_0x3c4a4f[_0x4f930e(0x1b1)]==_0x491c64['coin']),_0x7370e9=Number(_0x5d2ca9[_0x4f930e(0x316)]),_0x15a013=_0x491c64[_0x4f930e(0x245)]/_0x5a1f17*0x64,_0x2dc086=_0x7370e9*_0x5a1f17/0x64/_0x491c64['last']-_0x491c64[_0x4f930e(0x307)];_0x491c64['distribution']=formatResult(_0x15a013,0x3),_0x491c64[_0x4f930e(0x326)]=formatResult(_0x7370e9,0x3),_0x491c64[_0x4f930e(0x261)]=formatResult(_0x2dc086,0x8),_0x491c64['side']='',_0x491c64[_0x4f930e(0x331)]=![];if(_0x491c64[_0x4f930e(0x1b1)]!=config[_0x4f930e(0x303)]){if(_0x491c64[_0x4f930e(0x316)]>_0x7370e9)_0x491c64[_0x4f930e(0x2ec)]=_0x4f930e(0x30b),_0x491c64[_0x4f930e(0x331)]=checkMinimums(_0x491c64);else _0x491c64['distribution']<_0x7370e9&&(_0x491c64[_0x4f930e(0x2ec)]='buy',_0x491c64[_0x4f930e(0x331)]=checkMinimums(_0x491c64));}_0x491c64[_0x4f930e(0x194)]=_0x491c64[_0x4f930e(0x316)]/_0x491c64[_0x4f930e(0x326)]-0x1;if(_0x491c64[_0x4f930e(0x2b0)]=='filled'||_0x491c64['orderstatus']=='canceled')_0x491c64[_0x4f930e(0x2b0)]='none';}),currentCoins['sort']((_0x2ed38a,_0x39050c)=>_0x2ed38a[_0x3ae159(0x194)]<_0x39050c['delta']?0x1:_0x39050c[_0x3ae159(0x194)]<_0x2ed38a['delta']?-0x1:0x0);const _0x48b74c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x48b74c[_0x3ae159(0x342)],'usd':_0x48b74c[_0x3ae159(0x27c)],'portfolio':JSON[_0x3ae159(0x2a1)](currentCoins),'threshold':_0x5ee008},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x420d82){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x5ee008});else{if(lockOrders==ORDERS[_0x3ae159(0x315)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x5ee008});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x49c865=getNormalizedPerformance();getStartingBalances(_0x49c865),emitPerformance(_0x49c865);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function _0x48bb(_0x23f784,_0x4574b4){const _0x2ee9f9=_0x1fdb();return _0x48bb=function(_0x3580c6,_0x12c20e){_0x3580c6=_0x3580c6-0x191;let _0x1fdb2d=_0x2ee9f9[_0x3580c6];return _0x1fdb2d;},_0x48bb(_0x23f784,_0x4574b4);}async function storePerformance(){const _0x3a7e26=_0x25b63e;if(!lastBalances)return;let _0x12fb76=[],_0x4580a2,_0xb92448=JSON[_0x3a7e26(0x2ac)](lastBalances[_0x3a7e26(0x228)]);_0xb92448[_0x3a7e26(0x287)]((_0x4f99a3,_0x16789a)=>_0x4f99a3[_0x3a7e26(0x1b1)]>_0x16789a['coin']?0x1:_0x16789a[_0x3a7e26(0x1b1)]>_0x4f99a3['coin']?-0x1:0x0),_0xb92448[_0x3a7e26(0x1bc)](_0xd15e6f=>{const _0x4504a0=_0x3a7e26;let _0x786d12={'coin':_0xd15e6f[_0x4504a0(0x1b1)],'number':_0xd15e6f[_0x4504a0(0x307)],'price':_0xd15e6f[_0x4504a0(0x338)]};_0x12fb76[_0x4504a0(0x1c0)](_0x786d12);});const _0x3fd83a=await getFiat();_0x4580a2={'date':lastBalances[_0x3a7e26(0x1b9)][_0x3a7e26(0x305)]('\x20')[0x0],'eur':_0x3fd83a[_0x3a7e26(0x342)],'usd':_0x3fd83a[_0x3a7e26(0x27c)],'coins':_0x12fb76};let _0x55f1cb=dbPerformance[_0x3a7e26(0x193)](_0x3a7e26(0x232))[_0x3a7e26(0x30f)]({'date':_0x4580a2[_0x3a7e26(0x24e)]})['value']();_0x55f1cb?_0x4580a2['date']!=config['startdate']&&dbPerformance[_0x3a7e26(0x193)]('data')[_0x3a7e26(0x30f)]({'date':_0x4580a2[_0x3a7e26(0x24e)]})[_0x3a7e26(0x27a)](_0x4580a2)['write']():dbPerformance[_0x3a7e26(0x193)](_0x3a7e26(0x232))[_0x3a7e26(0x1c0)](_0x4580a2)[_0x3a7e26(0x32d)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x20564a=_0x25b63e;let _0x26fb7d=[];if(dbPerformance[_0x20564a(0x1a9)](_0x20564a(0x232))[_0x20564a(0x245)]()){let _0x5b183d=dbPerformance['get'](_0x20564a(0x232))['cloneDeep']()['filter'](_0x412a38=>{const _0x556c1c=_0x20564a;if(_0x412a38[_0x556c1c(0x311)]['length']==0x0)return![];else return!![];})[_0x20564a(0x2bf)](_0x20564a(0x24e))[_0x20564a(0x245)](),_0x1a0772=[...config['liquidity']];_0x1a0772['sort']((_0xfd9f80,_0x33991e)=>_0xfd9f80['date']>_0x33991e[_0x20564a(0x24e)]?-0x1:_0x33991e['date']>_0xfd9f80[_0x20564a(0x24e)]?0x1:0x0);let _0x34fcd9=0x1,_0x2eaff0=[],_0x516f5f=0x0;_0x5b183d['slice']()[_0x20564a(0x25e)]()[_0x20564a(0x1bc)]((_0x29ee81,_0x33045a)=>{const _0x1e86db=_0x20564a;if(_0x1a0772[_0x516f5f]){if(_0x5b183d[_0x5b183d['length']-_0x33045a]&&_0x1a0772[_0x516f5f]['date']==_0x5b183d[_0x5b183d['length']-_0x33045a][_0x1e86db(0x24e)]){if(_0x33045a<_0x5b183d[_0x1e86db(0x2d6)]){let _0x1df667=0x0,_0x49f53b=0x0;_0x5b183d[_0x5b183d[_0x1e86db(0x2d6)]-_0x33045a]['coins'][_0x1e86db(0x1bc)](_0x3ff904=>{const _0x280697=_0x1e86db;_0x49f53b+=_0x3ff904['number']*_0x3ff904[_0x280697(0x2ad)];}),_0x1a0772[_0x516f5f]['changes'][_0x1e86db(0x1bc)](_0x13b08b=>{const _0x340096=_0x1e86db;_0x1df667+=_0x13b08b[_0x340096(0x307)]*_0x13b08b[_0x340096(0x2ad)];}),_0x34fcd9*=_0x1df667/(_0x49f53b-_0x1df667)+0x1;}_0x516f5f++;}}let _0x16381f=0x0;_0x29ee81[_0x1e86db(0x311)][_0x1e86db(0x1bc)](_0xb1cd82=>{const _0xb16869=_0x1e86db;_0x16381f+=_0xb1cd82['number']*_0xb1cd82[_0xb16869(0x2ad)];}),_0x2eaff0[_0x5b183d[_0x1e86db(0x2d6)]-_0x33045a-0x1]=_0x16381f*(_0x34fcd9-0x1);});let _0x27e80d=[];_0x1a0772=[...config[_0x20564a(0x235)]]||[];let _0x27f292=0x0;_0x516f5f=0x0,_0x5b183d[_0x20564a(0x1bc)]((_0x525dd8,_0x40f1cd)=>{const _0x431bd4=_0x20564a;if(_0x1a0772[_0x516f5f]){const _0x593bee=fns[_0x431bd4(0x2ac)](_0x1a0772[_0x516f5f][_0x431bd4(0x24e)],_0x431bd4(0x2e7),new Date()),_0x4b5548=fns[_0x431bd4(0x2ac)](_0x525dd8[_0x431bd4(0x24e)],_0x431bd4(0x2e7),new Date());if(fns[_0x431bd4(0x23a)](_0x593bee,_0x4b5548)){let _0x522307=0x0;_0x1a0772[_0x516f5f][_0x431bd4(0x346)]['forEach'](_0x1a01e0=>{const _0x4b3be7=_0x431bd4;!_0x27e80d[_0x1a01e0[_0x4b3be7(0x1b1)]]?_0x27e80d[_0x1a01e0[_0x4b3be7(0x1b1)]]=_0x1a01e0[_0x4b3be7(0x307)]:(_0x522307=_0x27e80d[_0x1a01e0['coin']],_0x27e80d[_0x1a01e0['coin']]+=_0x1a01e0[_0x4b3be7(0x307)]);const _0x32f50d=_0x525dd8[_0x4b3be7(0x311)][_0x4b3be7(0x30f)](_0x188637=>_0x188637['coin']==_0x1a01e0['coin']);(!_0x32f50d||_0x32f50d[_0x4b3be7(0x307)]==0x0)&&(_0x27f292+=(-_0x1a01e0[_0x4b3be7(0x307)]-_0x522307)*_0x1a01e0[_0x4b3be7(0x2ad)]);}),_0x516f5f++;}}_0x525dd8['coins']['forEach']((_0x1b91fc,_0x21bc0)=>{const _0x2d4f6d=_0x431bd4;_0x27e80d[_0x1b91fc[_0x2d4f6d(0x1b1)]]&&(_0x1b91fc[_0x2d4f6d(0x2b7)]=_0x27e80d[_0x1b91fc[_0x2d4f6d(0x1b1)]]);}),_0x26fb7d[_0x431bd4(0x1c0)]({'date':_0x525dd8[_0x431bd4(0x24e)],'eur':_0x525dd8[_0x431bd4(0x342)],'usd':_0x525dd8['usd'],'offset':_0x2eaff0[_0x40f1cd],'netoffset':_0x27f292,'coins':_0x525dd8[_0x431bd4(0x311)]});});}return _0x26fb7d;}function emitPerformance(_0x198d31){const _0x4ee075=_0x25b63e;_0x198d31['length']!==0x0?(proxyEmit(_0x4ee075(0x20c),_0x198d31),lastPerformanceEmitted=getDate()):proxyEmit(_0x4ee075(0x20c),[]);}function getPerf(_0xe4b3a4,_0x1ff83a){const _0x3bda7e=_0x25b63e;let _0x3fe838=0x0,_0x134f09=0x0,_0x4c610b=0x0;_0xe4b3a4[_0x3bda7e(0x311)]['forEach'](_0x3c94b7=>{const _0x70d3be=_0x3bda7e;_0x3fe838+=_0x3c94b7[_0x70d3be(0x307)]*_0x3c94b7[_0x70d3be(0x2ad)];});_0x1ff83a&&(_0x3fe838+=_0xe4b3a4['offset']);if(config[_0x3bda7e(0x303)]===_0x3bda7e(0x325)||config[_0x3bda7e(0x303)]===_0x3bda7e(0x2a0)||config[_0x3bda7e(0x303)]===_0x3bda7e(0x1d4))_0x134f09=_0x3fe838*_0xe4b3a4[_0x3bda7e(0x342)],_0x4c610b=_0x3fe838*_0xe4b3a4['usd'];else{if(usdBasecoins[_0x3bda7e(0x1d3)](config['basecoin']))_0x134f09=_0x3fe838*_0xe4b3a4[_0x3bda7e(0x342)]/_0xe4b3a4['usd'],_0x4c610b=_0x3fe838;else config[_0x3bda7e(0x303)]==='EUR'&&(_0x134f09=_0x3fe838,_0x4c610b=_0x3fe838*_0xe4b3a4[_0x3bda7e(0x27c)]/_0xe4b3a4[_0x3bda7e(0x342)]);}return[_0x3fe838,_0x134f09,_0x4c610b];}function _0x1fdb(){const _0x1a4da8=['\x20|\x20lock\x20orders:\x20','sqrt','indexOf','parse','price','1793417sqsVYQ','loadMarkets','orderstatus','./version.json','exchange\x20not\x20reloaded','pro','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','set','ExchangeNotAvailable','initial','1\x20-\x20FILLED\x20known\x20order:\x20','startdate','-config.json','Invalid\x20quantity','Manual\x20balancing\x20required','startsWith','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','sortBy','USDC','/backup/','watchOrders()','Block\x20transaction\x20detection:\x20','open','error','\x20MB','cancelOrders()','EUR','symbol','keys','Invalid\x20symbol:\x20','toFixed','\x20>\x20','function','./config/','mkdirSync','format','hybrid-crypto-js','getPortfolio(2)','getPortfolio(0)','ID:\x20','length','82aYSiLf','13197NztgGC','remove','ordertype','breakeven','TUSD','order','progress','buy','42IWXLds','deleteHistoryAlerts','\x20|\x20Custom\x20ID:\x20','getHours','\x20has\x20a\x2024h\x20drop\x20of\x20','restart','initTickers()','yyyy/MM/dd','\x20/\x20','configuration-stored','Market','settings','side','min','exchanges','debug','\x20change','removed','cancelOrder','spot','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','test','627735xSeWkE','customId','final','fetchClosedOrders','BNB','percentage','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','running','API-key\x20format\x20invalid','OrderNotFound','added','defaults','yargs/yargs','basecoin','timeout','split','canceled','number','2.3.5','log','0\x20-\x20EXECUTION:\x20','sell','1\x20-\x20Handle\x20open\x20orders','page','Limit\x20(high-margin)','find','2\x20-\x20handling\x20FILLED\x20order:\x20','coins','Failed\x20to\x20load\x20coin\x20data\x20for\x20','join','highest','UNLOCKED','distribution','uncaughtException','shift','update-liquidity','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','RETRY\x20-\x20Error\x20in\x20','Resetting\x20bot\x20history','Order\x20amount\x20is\x20invalid:\x20','USDT','(((.+)+)+)+$','map','<pre>','\x20minutes\x20-\x20','fees','Cooldown\x20ended\x20-\x20balancing\x20resumed','BTC','target','average','storeFiat','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','Portfolio\x20change\x20detected:\x20','1\x20-\x20partially\x20FILLED\x20unknown\x20order:\x20','Invalid\x20API\x20key,\x20secret\x20or\x20password\x20entered','write','Initiating\x20bot\x20restart','2\x20-\x20Handled\x20open\x20orders','amount','valid','\x20>\x20[DEBUG]\x20','getMinutes','getCoins()','getMonth','cancelLoading','red_yellow_blue','last','storeConfiguration','Net\x20effect','InvalidNonce','1\x20-\x20Validate\x20orders:\x20','Huobi','writeFile','filled','ask','\x20|\x20highest\x20fee:\x20','eur','watchTradesForSymbols','Error\x20while\x20deleting\x20files:\x20','pid','changes','getDate','1\x20-\x20FILLED\x20unknown\x20order:\x20','bb-settings.json','getAllOrders()','limits','get','delta','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','PermissionDenied','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','watchTrades()','message','switch-manual','10289072rTZUir','exchange\x20reloaded','1\x20-\x20Unlock\x20orders','onepagemode','emojisell','slider','round','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','watchTrades','\x20-\x20','privateKey','leftTxt','currency','market','has','Trigger:\x20','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','getStartingBalances','rightTxt','ORDERS.LOCKED','quick','version','coin','active','random','marketcapEnabled','sha256','success','startprice','Cex','time','loading-canceled','starting-balance-','forEach','util','autoliquidity','USD','push','cancel','getTime','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','watchOrders','Unfilled\x20order(s)\x20canceled\x20after\x20','findIndex','exchange','OnMaintenance','existsSync','-performance.json','argv','Resuming\x20(','Waited\x20','/USD','toLowerCase','RateLimitExceeded','ORDERS.UNLOCKED','placeOrder()','includes','PAXG','2.5.0','Limit\x20(low-margin)','marketcapApi','status','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','toUpperCase','fee','change24h','InvalidOrder','\x20exchange','sendPortfolioTelegram','enabled','-results.json','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','ORDERS.UNLOCKING','abs','orderId','net-fiat','001','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','balancing\x20resumes\x20when\x20cooldown\x20ends','timestamp','Fee\x20discount\x20refund\x20detected:\x20','\x20|\x20','event','Pausing\x20for\x20','\x20>\x20details:','bot','Loading\x20completed','/EUR','splice','\x20network\x20error','apiPassword','showname','Avoiding\x20continuous\x20order\x20attempts','detectLiquidityChange()','memoryUsage','padStart','***','headless','decrypt','createOrder','limit','lowdb/adapters/FileSync','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','timeshift','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','max','Binance','%\x20(','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','2.6.23','Order\x20filled:\x20','configuration','Order(s)\x20not\x20validated\x20after\x20','performance','20ITuGLw','bot-','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','freeze','getOpenOrders()',',\x20must\x20be\x20a\x203\x20digit\x20number','Net\x20','concat','\x20exchange\x20error','7dSOiVz','quote','fetchBalance','none','differenceInSeconds','botname','entries','emojibuy','getPortfolio','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','heapUsed','-------------------------------\x0a','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','excluded',')\x20|\x20exchange:\x20','11882772FLeQWX','Crypt','recent20','portfolio','.json','padEnd','slice','no\x20open\x20orders','fetchTickers()','unlinkSync','1694356rXrhLB','send','buys','data','Reset\x20|\x20','balances','liquidity','Exception\x20thrown\x20in\x20','placeOrder','-events.json','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','isEqual','floor','showConfig','cost','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','password','Exchange','path','2\x20-\x20Validate\x20orders:\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','value','basecoinvalue','apiSecret','\x20hour','\x20-\x20bot\x20not\x20started','filter','fiat','\x20order:\x20','AuthenticationError','date','<b>Bot\x20','\x20API\x20secret\x20is\x20invalid','2.6.22','type','warning',':\x20Bot\x20','Symbol(s):\x20','botID','Order\x20is\x20invalid:\x20','apiKey','offset','process\x20','Error\x20details:','cloneDeep','LOCKED','reverse','datetime','emitHistory','trade','starting-balances','search','Headless:\x20','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','getFullYear','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','./logs/','Error:\x20Invalid\x20argument\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Saving\x20configuration','Huobipro','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','threshold','UNLOCKING','20837641raGhkc','request-time','\x20uses\x20','add','bid','Bybit','logs','ongoing','MIN_NOTIONAL','pop','assign','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','usd','marketcap','total','code','toString','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','\x20:\x20','complete','cooldown','exec','remainingSymbols','sort','substring','Bitget','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','************','getSeconds','Resetting\x20coin\x20results:\x20','string','net-basecoin','fetchOpenOrders','change','args','Bot\x20','limit-high','fromCodePoint',':\x20timer\x20>','USDP','full','bots','\x20portfolio:</b>\x20\x0a\x0a','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','BUSD','event-history','fetchTickers','closed','ETH','stringify','openOrders','replace','colorscheme','1\x20-\x20partially\x20FILLED\x20known\x20order:\x20','<b>','sells','\x20|\x20exchange:\x20'];_0x1fdb=function(){return _0x1a4da8;};return _0x1fdb();}function getKPIs(_0x2577b3,_0x364c09=_0x25b63e(0x2c8)){const _0x35815b=_0x25b63e,_0x4ab81d=config[_0x35815b(0x303)],_0x1f490a=lastBalances,_0x3142dd=currentCoins,_0x30bf80=getNormalizedPerformance(),_0x343dd9=_0x2577b3===_0x35815b(0x303)?_0x4ab81d:_0x2577b3===_0x35815b(0x24b)||_0x2577b3===_0x35815b(0x1e6)?_0x364c09:_0x35815b(0x213)+_0x4ab81d,_0xb4bfa1=_0x2577b3===_0x35815b(0x28f)?_0x35815b(0x33a):_0x2577b3===_0x35815b(0x1e6)?'Net\x20effect':_0x343dd9+'\x20value',_0x19dda5=_0x2577b3===_0x35815b(0x28f)||_0x2577b3===_0x35815b(0x1e6)?'Net\x20effect':_0x343dd9+_0x35815b(0x2f0);let _0x5a47ff=0x0;_0x3142dd['forEach'](_0x52a4d4=>{const _0x46e672=_0x35815b;_0x5a47ff+=_0x52a4d4[_0x46e672(0x307)]*_0x52a4d4[_0x46e672(0x338)];});if(_0x2577b3===_0x35815b(0x24b)||_0x2577b3===_0x35815b(0x1e6)){if(_0x4ab81d==='BTC'||_0x4ab81d==='ETH'||_0x4ab81d===_0x35815b(0x1d4))_0x5a47ff=_0x5a47ff*(_0x364c09===_0x35815b(0x2c8)?_0x1f490a[_0x35815b(0x342)]:_0x1f490a[_0x35815b(0x27c)]);else{if(usdBasecoins[_0x35815b(0x1d3)](_0x4ab81d))_0x5a47ff=_0x5a47ff*(_0x364c09===_0x35815b(0x2c8)?_0x1f490a[_0x35815b(0x342)]/_0x1f490a[_0x35815b(0x27c)]:0x1);else _0x4ab81d===_0x35815b(0x2c8)&&(_0x5a47ff=_0x5a47ff*(_0x364c09===_0x35815b(0x2c8)?0x1:_0x1f490a['usd']/_0x1f490a['eur']));}}let _0x382626;if(_0x5a47ff!==0x0){if(_0x2577b3===_0x35815b(0x303))_0x382626=(_0x5a47ff/startingBalances['basecoin']-0x1)*0x64;else{if(_0x364c09===_0x35815b(0x2c8))_0x382626=(_0x5a47ff/startingBalances[_0x35815b(0x342)]-0x1)*0x64;else _0x382626=(_0x5a47ff/startingBalances[_0x35815b(0x27c)]-0x1)*0x64;}let _0x522379=0x0;if(startingBalances[_0x35815b(0x311)])_0x3142dd['forEach'](_0x48b3ab=>{const _0x45d25c=_0x35815b;let _0xcfffde=startingBalances[_0x45d25c(0x311)]['find'](_0x310140=>_0x310140[_0x45d25c(0x1b1)]===_0x48b3ab[_0x45d25c(0x1b1)]);if(_0xcfffde&&_0xcfffde['coin']&&_0x48b3ab[_0x45d25c(0x307)]!==0x0)_0x522379+=_0xcfffde[_0x45d25c(0x307)]*_0x48b3ab[_0x45d25c(0x338)];});let _0x1566aa=0x0;if(_0x30bf80[_0x35815b(0x2d6)]!==0x0){let _0x15e72f=_0x30bf80[_0x30bf80[_0x35815b(0x2d6)]-0x1];_0x1566aa=_0x15e72f['netoffset'];}_0x522379-=_0x1566aa;_0x2577b3===_0x35815b(0x28f)&&(_0x382626=(_0x5a47ff-_0x522379)/startingBalances[_0x35815b(0x303)]*0x64,_0x5a47ff=_0x5a47ff-_0x522379);if(_0x2577b3===_0x35815b(0x1e6)){let _0x45f02d=_0x364c09==='EUR'?startingBalances['eur']:startingBalances[_0x35815b(0x27c)];if(_0x4ab81d===_0x35815b(0x325)||_0x4ab81d===_0x35815b(0x2a0)||_0x4ab81d==='PAXG')_0x522379=_0x364c09===_0x35815b(0x2c8)?_0x522379*_0x1f490a[_0x35815b(0x342)]:_0x522379*_0x1f490a[_0x35815b(0x27c)];else{if(usdBasecoins['includes'](_0x4ab81d))_0x522379=_0x364c09==='EUR'?_0x522379*_0x1f490a[_0x35815b(0x342)]/_0x1f490a[_0x35815b(0x27c)]:_0x522379;else _0x4ab81d===_0x35815b(0x2c8)&&(_0x522379=_0x364c09===_0x35815b(0x2c8)?_0x522379:_0x522379*_0x1f490a['usd']/_0x1f490a[_0x35815b(0x342)]);}_0x382626=(_0x5a47ff-_0x522379)/_0x45f02d*0x64,_0x5a47ff=_0x5a47ff-_0x522379;}if(_0x382626){if(_0x382626<0x64)_0x382626=_0x382626[_0x35815b(0x2cc)](0x2);else{if(_0x382626<0x3e8)_0x382626=_0x382626[_0x35815b(0x2cc)](0x1);else _0x382626=_0x382626['toFixed'](0x0);}}else _0x382626=Number('0')[_0x35815b(0x2cc)](0x2);if(_0x5a47ff){if(Math[_0x35815b(0x1e4)](_0x5a47ff)<0.000001)_0x5a47ff=_0x5a47ff[_0x35815b(0x2cc)](0x2);else{if(Math[_0x35815b(0x1e4)](_0x5a47ff)<0.1)_0x5a47ff=_0x5a47ff['toFixed'](0x6);else{if(Math[_0x35815b(0x1e4)](_0x5a47ff)<0x1)_0x5a47ff=_0x5a47ff[_0x35815b(0x2cc)](0x5);else{if(Math[_0x35815b(0x1e4)](_0x5a47ff)<0xa)_0x5a47ff=_0x5a47ff[_0x35815b(0x2cc)](0x4);else{if(Math[_0x35815b(0x1e4)](_0x5a47ff)<0x64)_0x5a47ff=_0x5a47ff[_0x35815b(0x2cc)](0x3);else{if(Math[_0x35815b(0x1e4)](_0x5a47ff)<0x3e8)_0x5a47ff=_0x5a47ff['toFixed'](0x2);else _0x5a47ff=_0x5a47ff[_0x35815b(0x2cc)](0x2);}}}}}}else _0x5a47ff=Number('0')[_0x35815b(0x2cc)](0x2);}else _0x382626=Number('0')['toFixed'](0x2);return{'value':_0x5a47ff,'change':_0x382626,'leftTxt':_0xb4bfa1,'rightTxt':_0x19dda5};}async function getStartingBalances(_0x58e5eb,_0x365c19=!![]){const _0x51a2e8=_0x25b63e;if(_0x58e5eb[_0x51a2e8(0x2d6)]!==0x0){const [_0x2df1b8,_0x589a04,_0x13d83a]=getPerf(_0x58e5eb[0x0],!![]);let _0x36f643=[];config[_0x51a2e8(0x228)][_0x51a2e8(0x1bc)](_0x2b295e=>{const _0x1722f5=_0x51a2e8;let _0x123a5c=0x0,_0x3d51cc;config[_0x1722f5(0x235)][_0x1722f5(0x1bc)](_0x19e0db=>{const _0x512d83=_0x1722f5;let _0x72c8b0=_0x19e0db[_0x512d83(0x346)][_0x512d83(0x30f)](_0x49c952=>_0x49c952[_0x512d83(0x1b1)]==_0x2b295e['coin']);if(_0x72c8b0){_0x123a5c+=_0x72c8b0[_0x512d83(0x307)];if(!_0x3d51cc)_0x3d51cc=_0x72c8b0[_0x512d83(0x2ad)];}}),_0x36f643['push']({'coin':_0x2b295e[_0x1722f5(0x1b1)],'number':_0x123a5c,'initialprice':_0x3d51cc});});const _0x27ac98={'basecoin':_0x2df1b8,'eur':_0x589a04,'usd':_0x13d83a,'coins':_0x36f643};if(_0x365c19)proxyEmit(_0x51a2e8(0x262),_0x27ac98);startingBalances=_0x27ac98;}}function headlessMode(_0x41a5d1){const _0x5d12d6=_0x25b63e;let _0x4a949f=_0x41a5d1[_0x5d12d6(0x228)],_0x22ab92=_0x41a5d1['threshold'],_0x580ed6=[];for(let _0x4b8fef of _0x4a949f){if(_0x4b8fef[_0x5d12d6(0x1b1)]!=config[_0x5d12d6(0x303)]){if(_0x4b8fef[_0x5d12d6(0x194)]>=_0x22ab92/0x64){if(_0x4b8fef[_0x5d12d6(0x331)])_0x580ed6[_0x5d12d6(0x1c0)](_0x4b8fef);}else{if(_0x4b8fef[_0x5d12d6(0x194)]<=-_0x22ab92/0x64){if(_0x4b8fef[_0x5d12d6(0x331)])_0x580ed6[_0x5d12d6(0x1c0)](_0x4b8fef);}}}}_0x580ed6[_0x5d12d6(0x2d6)]>0x0&&(lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&_0x580ed6[_0x5d12d6(0x1bc)](_0x280c35=>{const _0x5284a2=_0x5d12d6;logger[_0x5284a2(0x2ef)](_0x5284a2(0x1aa)+_0x280c35[_0x5284a2(0x1b1)]+'\x20'+_0x280c35[_0x5284a2(0x307)]+'\x20'+_0x280c35[_0x5284a2(0x338)]+'\x20'+_0x280c35[_0x5284a2(0x316)]+'%\x20'+_0x280c35['target']+'%\x20'+(0x64*_0x280c35['delta'])[_0x5284a2(0x2cc)](0x2)+_0x5284a2(0x206)+_0x22ab92[_0x5284a2(0x2cc)](0x2)+'%)');}),placeOrder(_0x580ed6));}function notifyBalance(_0x521bcc){const _0x2e1244=_0x25b63e;let _0x1968ae=_0x521bcc['portfolio'],_0x204273=_0x521bcc['threshold'],_0x3da00a=[];for(let _0x530b55 of _0x1968ae){if(_0x530b55[_0x2e1244(0x1b1)]!=config['basecoin']){if(_0x530b55[_0x2e1244(0x194)]>=_0x204273/0x64){if(_0x530b55['valid'])_0x3da00a[_0x2e1244(0x1c0)](_0x530b55);}else{if(_0x530b55[_0x2e1244(0x194)]<=-_0x204273/0x64){if(_0x530b55[_0x2e1244(0x331)])_0x3da00a[_0x2e1244(0x1c0)](_0x530b55);}}}}if(_0x3da00a[_0x2e1244(0x2d6)]>0x0){let _0x1a5176=_0x3da00a[_0x2e1244(0x320)](_0x51c406=>_0x51c406[_0x2e1244(0x1b1)]);_0x1a5176[_0x2e1244(0x287)]();let _0xcf78ea=_0x1a5176[_0x2e1244(0x313)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2e1244(0x253),_0x2e1244(0x2bc));lastCoinsToBalance=_0xcf78ea;}}function symbolToCoin(_0x2402ca){const _0xafdaa5=_0x25b63e;let _0x8726dc;if(_0x2402ca[_0xafdaa5(0x1d3)]('/'+config['basecoin']))_0x8726dc=_0x2402ca[_0xafdaa5(0x2a3)]('/'+config[_0xafdaa5(0x303)],'');if(_0x2402ca[_0xafdaa5(0x1d3)](config[_0xafdaa5(0x303)]+'/'))_0x8726dc=_0x2402ca[_0xafdaa5(0x2a3)](config[_0xafdaa5(0x303)]+'/','');return _0x8726dc;}async function unlockOrders(){const _0x348a97=_0x25b63e;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x348a97(0x2ef)](_0x348a97(0x19d)),lockOrders=ORDERS[_0x348a97(0x26f)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x47c30e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x47c30e,setBlockTransactionDetection(![]),validateOrdersState=_0x348a97(0x2b7),persistOpenOrders([]),lockOrders=ORDERS[_0x348a97(0x315)],logger['debug']('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0xe4f7af){const _0x2ecad6=_0x25b63e;if(_0xe4f7af)validateOrdersState=_0xe4f7af;logger[_0x2ecad6(0x2ef)](_0x2ecad6(0x33c)+validateOrdersState+_0x2ecad6(0x2a9)+(lockOrders==0x1?_0x2ecad6(0x1ae):lockOrders==0x2?_0x2ecad6(0x1e3):_0x2ecad6(0x1d1)));let _0x4c7f14=[],_0x510c60=config[_0x2ecad6(0x2da)]==_0x2ecad6(0x1a8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2ecad6(0x304)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x2ecad6(0x2ef)](_0x2ecad6(0x243)+validateOrdersState),lastOrders['forEach'](_0x46b584=>{const _0x4c1fd0=_0x2ecad6;let _0x50ad6c=![];_0x46b584[_0x4c1fd0(0x33f)]>0x0&&(_0x50ad6c=!![]),_0x4c7f14[_0x4c1fd0(0x1c0)](_0x50ad6c),_0x50ad6c&&config[_0x4c1fd0(0x2da)]!=_0x4c1fd0(0x1a8)&&logHistory('order',_0x4c1fd0(0x209)+_0x46b584['symbol']+'\x20'+_0x46b584[_0x4c1fd0(0x2ec)]+'\x20#'+formatResult(_0x46b584['filled'],0x8)+'\x20@'+formatResult(_0x46b584[_0x4c1fd0(0x2ad)],0x8));}),_0x4c7f14[_0x2ecad6(0x1bc)]((_0x581520,_0x1e31a6)=>{if(_0x581520)lastOrders['splice'](_0x1e31a6,0x1);}),persistOpenOrders(lastOrders);const _0x528f14=coolingDown?_0x2ecad6(0x1e9):'balancing\x20resumed';if(validateOrdersState==_0x2ecad6(0x2b7)){validateOrdersState=_0x2ecad6(0x277);if(_0x4c7f14['includes'](![])){if(config['ordertype']=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x4c7f14['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x2ecad6(0x2da)]==_0x2ecad6(0x1a8)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x2ecad6(0x2f8))_0x4c7f14[_0x2ecad6(0x1d3)](![])&&(config[_0x2ecad6(0x2da)]==_0x2ecad6(0x1a8)?logHistory(_0x2ecad6(0x1b6),_0x2ecad6(0x20b)+Math[_0x2ecad6(0x1a1)](_0x510c60*validateOrderInterval/0xea60)+_0x2ecad6(0x322)+_0x528f14):(await cancelOrders(),logHistory(_0x2ecad6(0x1b6),_0x2ecad6(0x1c5)+Math[_0x2ecad6(0x1a1)](_0x510c60*validateOrderInterval/0xea60)+_0x2ecad6(0x322)+_0x528f14))),await unlockOrders();else{if(validateOrdersState==_0x2ecad6(0x22c)){if(config[_0x2ecad6(0x2da)]!=_0x2ecad6(0x1a8))logHistory(_0x2ecad6(0x1b6),'No\x20more\x20open\x20orders\x20-\x20'+_0x528f14);await unlockOrders();}}}}}async function cancelOrders(){const _0x45ac03=_0x25b63e;lastOrders[_0x45ac03(0x1bc)](async _0x103871=>{const _0xd4f4e8=_0x45ac03;try{const _0x46e556=await exchange['cancelOrder'](_0x103871['orderId'],_0x103871[_0xd4f4e8(0x2c9)]);}catch(_0x275702){if(_0x275702[_0xd4f4e8(0x280)]()[_0xd4f4e8(0x1d3)](_0xd4f4e8(0x2ff))){}else await handleError(_0x275702,_0xd4f4e8(0x2c7));}});}async function initCoinResults(_0x2724fd){const _0x229ea0=_0x25b63e;_0x2724fd?logger['debug'](_0x229ea0(0x28d)+_0x2724fd):logger[_0x229ea0(0x2ef)]('Initializing\x20coin\x20results'),config[_0x229ea0(0x228)][_0x229ea0(0x1bc)](_0x39c7f2=>{const _0x4271d2=_0x229ea0;if(!_0x39c7f2[_0x4271d2(0x223)]&&_0x39c7f2['coin']!=config['basecoin']){const _0x44f00f=currentCoins[_0x4271d2(0x30f)](_0x12dd19=>_0x12dd19[_0x4271d2(0x1b1)]==_0x39c7f2[_0x4271d2(0x1b1)]),_0x1c2c1c=gTicker[noslash(_0x39c7f2[_0x4271d2(0x2c9)])];let _0x4cd139=_0x44f00f?_0x44f00f[_0x4271d2(0x307)]:null,_0xf769b1=_0x39c7f2[_0x4271d2(0x25e)]?0x1/_0x1c2c1c:_0x1c2c1c,_0x33d034;config[_0x4271d2(0x235)][_0x4271d2(0x1bc)](_0x1fcb63=>{const _0x15e0bb=_0x4271d2;!_0x33d034&&(_0x33d034=_0x1fcb63['changes']['find'](_0x4ba18b=>_0x4ba18b[_0x15e0bb(0x1b1)]==_0x39c7f2[_0x15e0bb(0x1b1)]),_0x33d034&&(_0x4cd139=_0x33d034[_0x15e0bb(0x307)],_0xf769b1=_0x33d034[_0x15e0bb(0x2ad)]));});let _0xd10676=dbCoinResults[_0x4271d2(0x193)](_0x4271d2(0x311))['find']({'coin':_0x39c7f2[_0x4271d2(0x1b1)]})[_0x4271d2(0x245)]();if(!_0xd10676){const _0x8cdffb={'coin':_0x39c7f2[_0x4271d2(0x1b1)],'number':_0x4cd139,'breakeven':_0xf769b1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4271d2(0x193)](_0x4271d2(0x311))[_0x4271d2(0x1c0)](_0x8cdffb)[_0x4271d2(0x32d)]();}else{if(_0x2724fd&&_0x39c7f2['coin']==_0x2724fd){const _0x4259fe={'coin':_0x39c7f2[_0x4271d2(0x1b1)],'number':_0x4cd139,'breakeven':_0xf769b1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4271d2(0x193)](_0x4271d2(0x311))[_0x4271d2(0x30f)]({'coin':_0x39c7f2[_0x4271d2(0x1b1)]})[_0x4271d2(0x27a)](_0x4259fe)[_0x4271d2(0x32d)]();}}}});}async function updateCoinResults(_0x182d25,_0x7093d7=![]){const _0x567347=_0x25b63e;let _0x1727df,_0x489673,_0xa1022,_0x1c6bcd,_0x5e7f7b,_0x855cc2,_0xc09232=dbCoinResults[_0x567347(0x193)](_0x567347(0x311))[_0x567347(0x30f)]({'coin':_0x182d25[_0x567347(0x1b1)]})[_0x567347(0x245)](),_0x21137f=![];_0xc09232&&Object[_0x567347(0x21c)](_0xc09232)[_0x567347(0x1bc)](([_0x17ed4d,_0x2768ff])=>{if(_0x2768ff==null)_0x21137f=!![];});(!_0xc09232||_0x21137f)&&(await initCoinResults(_0x182d25['coin']),_0xc09232=dbCoinResults[_0x567347(0x193)](_0x567347(0x311))[_0x567347(0x30f)]({'coin':_0x182d25[_0x567347(0x1b1)]})[_0x567347(0x245)]());_0x182d25['reverse']&&(_0x855cc2={'filled':_0x182d25[_0x567347(0x33f)]*_0x182d25[_0x567347(0x2ad)],'amount':_0x182d25[_0x567347(0x33f)]*_0x182d25[_0x567347(0x2ad)],'side':_0x182d25[_0x567347(0x2ec)]==_0x567347(0x30b)?_0x567347(0x2df):_0x567347(0x30b),'price':0x1/_0x182d25[_0x567347(0x2ad)]},_0x182d25={..._0x182d25,..._0x855cc2});_0x7093d7?_0x489673=_0x182d25['side']==_0x567347(0x2df)?_0xc09232[_0x567347(0x307)]+_0x182d25['filled']:_0xc09232[_0x567347(0x307)]-_0x182d25[_0x567347(0x33f)]:_0x489673=await getCoinNumber(_0x182d25[_0x567347(0x1b1)]);if(_0x182d25['fee']&&_0x182d25['fee']['currency']==config[_0x567347(0x303)])_0x1727df=Number(_0x182d25[_0x567347(0x1db)]['cost']);else{if(_0x182d25['fee']&&_0x182d25[_0x567347(0x1db)][_0x567347(0x1a7)]==_0x567347(0x2fa)&&!_0x7093d7&&config[_0x567347(0x303)]!=_0x567347(0x1d4))_0x1727df=Number(_0x182d25[_0x567347(0x1db)]['cost'])*gTicker[_0x567347(0x2fa)+config[_0x567347(0x303)]];else _0x1727df=defaultFee*_0x182d25['filled']*_0x182d25[_0x567347(0x2ad)];}_0x182d25[_0x567347(0x2ec)]==_0x567347(0x2df)?(_0xa1022=_0x489673!=0x0?(_0xc09232['breakeven']*_0xc09232[_0x567347(0x307)]+_0x182d25[_0x567347(0x2ad)]*(_0x489673-_0xc09232[_0x567347(0x307)])+_0x1727df)/_0x489673:0x0,_0x1c6bcd=_0xc09232['realized']):(_0xa1022=_0x489673!=0x0?(_0xc09232['breakeven']*_0xc09232[_0x567347(0x307)]-_0x182d25[_0x567347(0x2ad)]*(_0xc09232['number']-_0x489673)+_0x1727df)/_0x489673:0x0,_0x1c6bcd=_0xc09232['realized']+(_0x182d25['price']-_0xc09232[_0x567347(0x2db)])*_0x182d25[_0x567347(0x33f)]);_0x5e7f7b=(_0x182d25[_0x567347(0x2ad)]-_0xa1022-_0x1727df/_0x182d25[_0x567347(0x33f)])*_0x489673;let _0xf7d122={'coin':_0x182d25[_0x567347(0x1b1)],'number':_0x489673,'breakeven':formatResult(_0xa1022,0x8),'realized':formatResult(_0x1c6bcd,0x8),'unrealized':formatResult(_0x5e7f7b,0x8),'fees':formatResult(_0xc09232[_0x567347(0x323)]+_0x1727df,0x8),'sells':_0x182d25['side']=='sell'?_0xc09232[_0x567347(0x2a7)]+0x1:_0xc09232[_0x567347(0x2a7)],'buys':_0x182d25[_0x567347(0x2ec)]==_0x567347(0x2df)?_0xc09232[_0x567347(0x231)]+0x1:_0xc09232[_0x567347(0x231)]};dbCoinResults[_0x567347(0x193)](_0x567347(0x311))[_0x567347(0x30f)]({'coin':_0x182d25[_0x567347(0x1b1)]})['assign'](_0xf7d122)[_0x567347(0x32d)]();if(!_0x7093d7){if(_0x182d25['fee']&&_0x182d25[_0x567347(0x1db)]['currency']==_0x567347(0x2fa)){const _0x18dab9=currentCoins[_0x567347(0x30f)](_0x523d23=>_0x523d23[_0x567347(0x1b1)]==_0x567347(0x2fa));if(_0x18dab9){let _0x18293a=dbCoinResults['get'](_0x567347(0x311))[_0x567347(0x30f)]({'coin':_0x567347(0x2fa)})[_0x567347(0x245)]();_0xf7d122={..._0x18293a,'number':_0x18dab9[_0x567347(0x307)]},dbCoinResults[_0x567347(0x193)](_0x567347(0x311))['find']({'coin':_0x567347(0x2fa)})[_0x567347(0x27a)](_0xf7d122)[_0x567347(0x32d)]();}}}}async function placeOrder(_0x5bd6e1){const _0x1c3c04=_0x25b63e,_0x5a63b2=config[_0x1c3c04(0x2da)]==_0x1c3c04(0x1a8)?_0x1c3c04(0x1a8):_0x1c3c04(0x1ff);if(lockOrders==ORDERS[_0x1c3c04(0x315)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x1c3c04(0x25d)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x1c3c04(0x2b7);let _0x2a1a7c=![];lastOrders=[];for(const _0x584ad3 of _0x5bd6e1){let _0xbc98d6,_0xaba88a,_0x2b7935,_0x2a760d,_0x30a646,_0x426e4e=_0x584ad3[_0x1c3c04(0x2c9)];try{const _0x5a1ba3=await exchange['fetchTicker'](_0x426e4e);_0xbc98d6=_0x584ad3[_0x1c3c04(0x25e)]?0x1/_0x584ad3[_0x1c3c04(0x338)]:_0x584ad3['last'],_0xaba88a=_0x5a1ba3[_0x1c3c04(0x274)],_0x2b7935=_0x5a1ba3[_0x1c3c04(0x340)];_0x584ad3[_0x1c3c04(0x25e)]?(_0x2a760d=_0x584ad3[_0x1c3c04(0x2ec)]==_0x1c3c04(0x2df)?_0x1c3c04(0x30b):'buy',_0x30a646=Math[_0x1c3c04(0x1e4)](_0x584ad3[_0x1c3c04(0x261)])/_0xbc98d6):(_0x2a760d=_0x584ad3['side'],_0x30a646=Math[_0x1c3c04(0x1e4)](_0x584ad3[_0x1c3c04(0x261)]));_0x5a63b2==_0x1c3c04(0x1ff)&&(config[_0x1c3c04(0x2da)]=='limit-high'&&(_0xbc98d6=_0x2a760d==_0x1c3c04(0x2df)?_0xaba88a:_0x2b7935),config[_0x1c3c04(0x2da)]=='limit-low'&&(_0xbc98d6=_0x2a760d==_0x1c3c04(0x2df)?_0x2b7935:_0xaba88a));_0x30a646=formatResult(_0x30a646,0x8),_0xbc98d6=formatResult(_0xbc98d6,0x8);const _0x5a3ddc=_0x2a760d==_0x1c3c04(0x30b)?config[_0x1c3c04(0x19f)]?String['fromCodePoint']('0x'+config[_0x1c3c04(0x19f)])+'\x20':'':config['emojibuy']?String[_0x1c3c04(0x295)]('0x'+config['emojibuy'])+'\x20':'',_0x3e29da=_0x5a63b2==_0x1c3c04(0x1a8)?_0x1c3c04(0x2ea):config['ordertype']==_0x1c3c04(0x294)?_0x1c3c04(0x30e):_0x1c3c04(0x1d6),_0x3189f3=(Math[_0x1c3c04(0x23b)](Math[_0x1c3c04(0x1b3)]()*0x35a4e900)+0x5f5e100)[_0x1c3c04(0x280)]();lastOrders[_0x1c3c04(0x1c0)]({'customId':_0x3189f3,'symbol':_0x426e4e,'coin':_0x584ad3[_0x1c3c04(0x1b1)],'amount':_0x30a646,'price':_0xbc98d6,'side':_0x2a760d,'reverse':_0x584ad3[_0x1c3c04(0x25e)],'filled':0x0});if(_0x5a63b2==_0x1c3c04(0x1a8))logHistory(_0x1c3c04(0x2dd),''+_0x5a3ddc+_0x3e29da+_0x1c3c04(0x24c)+_0x426e4e+'\x20'+_0x2a760d+'\x20#'+formatResult(_0x30a646,0x8)+'\x20@'+formatResult(_0xbc98d6,0x8));else logHistory(_0x1c3c04(0x2dd),''+_0x5a3ddc+_0x3e29da+_0x1c3c04(0x24c)+_0x426e4e+'\x20'+_0x2a760d+'\x20#'+formatResult(_0x30a646,0x8)+'\x20@'+formatResult(_0xbc98d6,0x8));let _0xb997e4;_0x5a63b2==_0x1c3c04(0x1a8)?_0x2a760d==_0x1c3c04(0x2df)&&[_0x1c3c04(0x275),_0x1c3c04(0x289),_0x1c3c04(0x1b8),_0x1c3c04(0x33d),_0x1c3c04(0x26c)][_0x1c3c04(0x1d3)](config[_0x1c3c04(0x1c7)])?_0xb997e4=await exchange['createOrder'](_0x426e4e,_0x5a63b2,_0x2a760d,_0x30a646,_0xbc98d6):_0xb997e4=await exchange['createOrder'](_0x426e4e,_0x5a63b2,_0x2a760d,_0x30a646,undefined):_0xb997e4=await exchange[_0x1c3c04(0x1fe)](_0x426e4e,_0x5a63b2,_0x2a760d,_0x30a646,_0xbc98d6);logger[_0x1c3c04(0x2ef)](_0x1c3c04(0x2d5)+_0xb997e4['id']+_0x1c3c04(0x2e2)+_0x3189f3);const _0x72b5a7=lastOrders[_0x1c3c04(0x2d6)]-0x1;if(_0x72b5a7>=0x0&&lastOrders[_0x72b5a7][_0x1c3c04(0x2f7)]==_0x3189f3){lastOrders[_0x72b5a7][_0x1c3c04(0x1e5)]=_0xb997e4['id'];if(_0xb997e4[_0x1c3c04(0x330)])lastOrders[_0x72b5a7][_0x1c3c04(0x330)]=_0xb997e4[_0x1c3c04(0x330)];if(_0xb997e4[_0x1c3c04(0x2ad)])lastOrders[_0x72b5a7][_0x1c3c04(0x2ad)]=_0xb997e4['price'];lastOrders[_0x72b5a7]['fee']=_0xb997e4[_0x1c3c04(0x1db)];}if(config['cooldown']!=0x0){let _0x156284=null;if(cooldownTracker[_0x1c3c04(0x2d6)]==config[_0x1c3c04(0x284)]-0x1)_0x156284=cooldownTracker['shift']();const _0x1525b5=getTimeStamp();cooldownTracker['push'](_0x1525b5);if(_0x156284){const _0x3670c0=fns[_0x1c3c04(0x21a)](new Date(_0x1525b5),new Date(_0x156284));if(_0x3670c0<cooldownInterval){logHistory(_0x1c3c04(0x2c5),'Executed\x20'+config[_0x1c3c04(0x284)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x1c3c04(0x207)+cooldownPeriod/(0xe10*0x3e8)+_0x1c3c04(0x248)),coolingDown=!![];break;}}}}catch(_0x1e3eee){if(_0x1e3eee['toString']()[_0x1c3c04(0x1d3)](_0x1c3c04(0x278)))lastOrders=lastOrders['filter'](_0x122e00=>_0x122e00['symbol']!=_0x426e4e),logHistory(_0x1c3c04(0x2c5),_0x1c3c04(0x31a)+_0x426e4e),_0x2a1a7c=!![];else{if(_0x1e3eee[_0x1c3c04(0x280)]()['includes'](_0x1c3c04(0x2bb)))lastOrders=lastOrders[_0x1c3c04(0x24a)](_0x4510b9=>_0x4510b9[_0x1c3c04(0x2c9)]!=_0x426e4e),logHistory(_0x1c3c04(0x2c5),_0x1c3c04(0x31d)+_0x426e4e),_0x2a1a7c=!![];else{if(_0x1e3eee[_0x1c3c04(0x280)]()[_0x1c3c04(0x1d3)](_0x1c3c04(0x1dd)))lastOrders=lastOrders[_0x1c3c04(0x24a)](_0x1f48ad=>_0x1f48ad['symbol']!=_0x426e4e),logHistory(_0x1c3c04(0x2c5),_0x1c3c04(0x257)+_0x426e4e),logger[_0x1c3c04(0x2ef)](_0x1e3eee),_0x2a1a7c=!![];else _0x1e3eee[_0x1c3c04(0x280)]()[_0x1c3c04(0x1d3)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x1c3c04(0x24a)](_0x490720=>_0x490720['symbol']!=_0x426e4e),logHistory('error',_0x1c3c04(0x31a)+_0x426e4e),_0x2a1a7c=!![]):(lastOrders=lastOrders[_0x1c3c04(0x24a)](_0x59884a=>_0x59884a['symbol']!=_0x426e4e),await handleError(_0x1e3eee,_0x1c3c04(0x1d2),_0x426e4e));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x1c3c04(0x2d6)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5b4ddb=config[_0x1c3c04(0x2da)]==_0x1c3c04(0x1a8)?validateOrderTimeout*0x3c*0x3e8:config[_0x1c3c04(0x304)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5b4ddb);}else unlockOrders();_0x2a1a7c&&config[_0x1c3c04(0x1fc)]&&(logHistory(_0x1c3c04(0x2c5),_0x1c3c04(0x1f7)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1c3c04(0x1b6),_0x1c3c04(0x324)));}else{if(coolingDown)!config[_0x1c3c04(0x1fc)]&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x1c3c04(0x1fc)]&&(config['ordertype']==_0x1c3c04(0x1a8)?logHistory('error',_0x1c3c04(0x197)):logHistory(_0x1c3c04(0x2c5),_0x1c3c04(0x239))));}}function persistOpenOrders(_0x44061e){const _0x5072d1=_0x25b63e,_0x4fcd27={...config,'openOrders':_0x44061e};let _0x1ec80e=dbConfig[_0x5072d1(0x193)](_0x5072d1(0x1f0))[_0x5072d1(0x30f)]({'botID':botID})[_0x5072d1(0x245)]();_0x1ec80e&&dbConfig[_0x5072d1(0x193)]('bot')['find']({'botID':botID})[_0x5072d1(0x27a)](_0x4fcd27)[_0x5072d1(0x32d)]();}function restoreOrders(){const _0x1f7f1=_0x25b63e;let _0x488f4e;config['openOrders']&&allOpenOrders[_0x1f7f1(0x1bc)](_0x2125da=>{const _0x280871=_0x1f7f1,_0x290b30=config['openOrders'][_0x280871(0x30f)](_0x30e3d7=>_0x30e3d7['orderId']==_0x2125da['id']);_0x290b30&&(lastOrders[_0x280871(0x1c0)](_0x290b30),_0x488f4e=_0x2125da[_0x280871(0x1ea)]);});if(lastOrders[_0x1f7f1(0x2d6)]>0x0){lockOrders=ORDERS[_0x1f7f1(0x25d)],validateOrdersState=_0x1f7f1(0x277),allOrdersPlaced=!![];const _0x495547=new Date()[_0x1f7f1(0x1c2)](),_0x3c6a90=config[_0x1f7f1(0x2da)]==_0x1f7f1(0x1a8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x488f4e+_0x3c6a90>_0x495547){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2fb0ed=_0x1f7f1;validateOrders(_0x2fb0ed(0x2f8));},_0x488f4e+_0x3c6a90-_0x495547);}else validateOrders(_0x1f7f1(0x2f8));}}async function sendMetricsTelegram(){const _0x440305=_0x25b63e;if(!coinsLoaded){process[_0x440305(0x230)]({'telegrammsg':_0x440305(0x2b4)},_0xfd2b59=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x483717='';if(config[_0x440305(0x1f6)])_0x483717=_0x440305(0x2a6)+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x483717=_0x440305(0x24f)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x2711b9=getKPIs('basecoin'),_0x3b74f3=getKPIs(_0x440305(0x24b),config[_0x440305(0x24b)]),_0x3598a8=getKPIs(_0x440305(0x28f)),_0x180496=getKPIs(_0x440305(0x1e6),config[_0x440305(0x24b)]);_0x483717+=_0x440305(0x321),_0x483717+=_0x2711b9[_0x440305(0x1a6)]+'\x20:\x20'+_0x2711b9['value']+'\x0a',_0x483717+=_0x2711b9[_0x440305(0x1ad)]+':\x20'+_0x2711b9[_0x440305(0x291)]+'%\x0a',_0x483717+=_0x3b74f3[_0x440305(0x1a6)]+_0x440305(0x282)+_0x3b74f3['value']+'\x0a',_0x483717+=_0x3b74f3[_0x440305(0x1ad)]+':\x20'+_0x3b74f3[_0x440305(0x291)]+'%\x0a',_0x483717+=_0x3598a8[_0x440305(0x1a6)]+':\x20'+_0x3598a8[_0x440305(0x245)]+'\x20('+config['basecoin']+')\x0a',_0x483717+=_0x3598a8['rightTxt']+':\x20'+_0x3598a8['change']+_0x440305(0x206)+config[_0x440305(0x303)]+')\x0a',_0x483717+=_0x180496[_0x440305(0x1a6)]+':\x20'+_0x180496[_0x440305(0x245)]+'\x20('+config[_0x440305(0x24b)]+')\x0a',_0x483717+=_0x180496[_0x440305(0x1ad)]+':\x20'+_0x180496['change']+_0x440305(0x206)+config[_0x440305(0x24b)]+')\x0a',_0x483717+='</pre>',process[_0x440305(0x230)]({'telegrammsg':_0x483717},_0x33479e=>{});}async function sendPortfolioTelegram(){const _0x432173=_0x25b63e;if(!coinsLoaded||!currentCoins[0x0][_0x432173(0x316)]){process['send']({'telegrammsg':_0x432173(0x2b4)},_0x2040de=>{});return;}let _0x330cb0='';if(config[_0x432173(0x1f6)])_0x330cb0=_0x432173(0x2a6)+config[_0x432173(0x21b)]+_0x432173(0x29a);else _0x330cb0=_0x432173(0x24f)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x330cb0+=_0x432173(0x321),_0x330cb0+=_0x432173(0x221),_0x330cb0+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x330cb0+='-------------------------------\x0a',currentCoins[_0x432173(0x1bc)](_0x38ab48=>{const _0x13c2b7=_0x432173;_0x330cb0+=_0x38ab48[_0x13c2b7(0x1b1)][_0x13c2b7(0x22a)](0x7)+'|\x20'+formatPad(_0x38ab48['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x38ab48[_0x13c2b7(0x326)],0x2,0x6)+'|\x20'+formatPad(_0x38ab48[_0x13c2b7(0x194)]*0x64,0x2,0x6)+'\x0a';}),_0x330cb0+='</pre>',process[_0x432173(0x230)]({'telegrammsg':_0x330cb0},_0xff47d3=>{});}function formatPad(_0x382437,_0x92a0e,_0x1e2d7c){const _0x36c2bf=_0x25b63e,_0x7f6089=formatResultString(_0x382437,_0x92a0e);return _0x7f6089?_0x7f6089[_0x36c2bf(0x1fa)](_0x1e2d7c):''[_0x36c2bf(0x1fa)](_0x1e2d7c);}function logHistory(_0x4bd6b3,_0x293f5a,_0x269f1b=''){const _0x286e3b=_0x25b63e;logger[_0x286e3b(0x298)](''+_0x293f5a);let _0x56a0df={'time':getTimeStamp(),'type':_0x4bd6b3,'event':_0x293f5a};dbLogs[_0x286e3b(0x193)](_0x286e3b(0x276))['push'](_0x56a0df)[_0x286e3b(0x32d)]();if(_0x269f1b=='')_0x269f1b=_0x293f5a;proxyEmit('event',{'log':_0x56a0df,'summary':_0x269f1b}),process[_0x286e3b(0x230)]({'telegram':{..._0x56a0df,'botname':config[_0x286e3b(0x21b)],'showname':config['showname']}},_0x5b98ec=>{});}function emitHistory(_0x2e0235={}){const _0x55964e=_0x25b63e;Object[_0x55964e(0x2ca)](_0x2e0235)['length']==0x0&&(_0x2e0235={'type':[_0x55964e(0x2dd),_0x55964e(0x1ed)],'event':'','page':0x1});if(_0x2e0235[_0x55964e(0x252)][_0x55964e(0x1d3)](_0x55964e(0x1ed)))_0x2e0235[_0x55964e(0x252)][_0x55964e(0x1f3)](_0x2e0235[_0x55964e(0x252)]['indexOf'](_0x55964e(0x1ed)),0x1,_0x55964e(0x2c5),'warning',_0x55964e(0x1b6));if(dbLogs['has'](_0x55964e(0x276))[_0x55964e(0x245)]()){let _0xaab0ef=dbLogs[_0x55964e(0x193)](_0x55964e(0x276))['filter'](_0xd9b42=>{const _0x14914c=_0x55964e;if(_0x2e0235['type'][_0x14914c(0x2d6)]==0x0)return![];else return _0x2e0235[_0x14914c(0x252)][_0x14914c(0x1d3)](_0xd9b42['type']);})[_0x55964e(0x24a)](_0x44b97a=>{const _0x558295=_0x55964e;if(_0x2e0235['event']=='')return!![];else return _0x44b97a[_0x558295(0x1ed)][_0x558295(0x1cf)]()['includes'](_0x2e0235['event']['toLowerCase']());})[_0x55964e(0x2bf)](_0x55964e(0x1b9)),_0xe6a794=_0xaab0ef['value']()[_0x55964e(0x2d6)];_0xaab0ef=_0xaab0ef['reverse']()[_0x55964e(0x22b)]((_0x2e0235[_0x55964e(0x30d)]-0x1)*logPageSize,_0x2e0235[_0x55964e(0x30d)]*logPageSize-0x1)[_0x55964e(0x25e)]()[_0x55964e(0x245)](),proxyEmit('event-history',{'logs':_0xaab0ef,'total':_0xe6a794});}else proxyEmit(_0x55964e(0x29d),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x56740d){const _0x224f35=_0x25b63e;if(dbLogs['has'](_0x224f35(0x276))[_0x224f35(0x245)]()){const _0x1c7ba2=dbLogs['get'](_0x224f35(0x276))[_0x224f35(0x2bf)](_0x224f35(0x1b9))[_0x224f35(0x24a)](_0x369983=>{const _0x4227f9=_0x224f35;return _0x369983[_0x4227f9(0x252)]==_0x4227f9(0x2dd);})[_0x224f35(0x245)]();dbLogs['get'](_0x224f35(0x276))['remove']()['write'](),dbLogs['get']('logs')[_0x224f35(0x27a)](_0x1c7ba2)[_0x224f35(0x32d)](),emitHistory(_0x56740d);}}async function pauseBot(_0x5a7e64=pauseBotIntervalShort,_0x515323,_0x52006c){const _0x46b7cc=_0x25b63e,_0x18719c=new Date()[_0x46b7cc(0x1c2)]();if(!lastErrorShown||_0x18719c-lastErrorShown>=_0x5a7e64){lastErrorShown=_0x18719c;!lastBotPause?(lastBotPause=_0x18719c,consecutivePauses=0x1):(_0x18719c-lastBotPause-_0x5a7e64<0x5a*0x3e8?(consecutivePauses++,consecutivePauses>maxPauseRetries&&(logHistory('error',_0x515323+pauseBotMsg),_0x5a7e64=pauseBotInterval)):consecutivePauses=0x1,lastBotPause=_0x18719c);_0x52006c?logger[_0x46b7cc(0x2ef)]('('+consecutivePauses+')\x20'+_0x515323+'\x20>\x20details:',_0x52006c['toString']()):logger[_0x46b7cc(0x2ef)]('('+consecutivePauses+')\x20'+_0x515323);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x5a7e64),botPaused=![],_0x5a7e64==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){botPaused=!![],await sleep(0x3e8),process['send']({'stop':'kill'},_0x495ec8=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x95d5c9,_0x2258cb){const _0x37a874=_0x25b63e;if(botPaused)return;const _0x547fa3=config[_0x37a874(0x1c7)]||_0x37a874(0x241);if(_0x2258cb)logger[_0x37a874(0x2ef)]('Exception\x20thrown\x20in\x20'+_0x2258cb);const _0x3aa940=()=>{const _0xf7ba92=_0x37a874;loading[_0xf7ba92(0x2c5)]=!![],emitLoadingProgress();};if(_0x95d5c9[_0x37a874(0x280)]()['includes']('API-key\x20format\x20invalid'))logHistory(_0x37a874(0x2c5),_0x547fa3+_0x37a874(0x26a)),_0x3aa940();else{if(_0x95d5c9['toString']()['includes'](_0x37a874(0x27b)))logHistory('error',_0x547fa3+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x3aa940();else _0x95d5c9[_0x37a874(0x280)]()['includes'](_0x37a874(0x24d))?(logHistory(_0x37a874(0x2c5),_0x547fa3+_0x37a874(0x195)),logHistory(_0x37a874(0x2c5),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x3aa940()):await handleError(_0x95d5c9,null);}}async function handleError(_0x14b93f,_0xfce571,_0xabd266=''){const _0x6d438d=_0x25b63e;if(botPaused)return;let _0x12a844;const _0x967f09=config[_0x6d438d(0x1c7)]||'Exchange';if(_0xfce571)logger[_0x6d438d(0x2ef)](_0x6d438d(0x236)+_0xfce571);if(_0x14b93f[_0x6d438d(0x280)]()['includes']('DDoSProtection'))_0x12a844=_0x967f09+_0x6d438d(0x1e8),await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)](_0x6d438d(0x1d0)))_0x12a844=_0x967f09+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)](_0x6d438d(0x2b6))||_0x14b93f[_0x6d438d(0x280)]()['includes'](_0x6d438d(0x1c8)))_0x12a844=_0x967f09+_0x6d438d(0x2f4),await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)]('RequestTimeout'))_0x12a844=_0x967f09+_0x6d438d(0x2be),await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x12a844=_0x967f09+_0x6d438d(0x203),await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1cf)]()[_0x6d438d(0x1d3)](_0x6d438d(0x1ea))||_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1cf)]()[_0x6d438d(0x1d3)](_0x6d438d(0x271)))_0x12a844=_0x6d438d(0x1d9),await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)](_0x6d438d(0x33b)))_0x12a844=_0x967f09+_0x6d438d(0x1a2),await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f instanceof ccxt['NetworkError'])_0x12a844=_0x967f09+_0x6d438d(0x1f4),await pauseBot(undefined,_0x12a844,_0x14b93f);else{if(_0x14b93f[_0x6d438d(0x280)]()['includes'](_0x6d438d(0x2fe)))logHistory(_0x6d438d(0x2c5),_0x967f09+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x6d438d(0x2c5),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)](_0x6d438d(0x27b)))logHistory(_0x6d438d(0x2c5),_0x967f09+_0x6d438d(0x250)),logHistory(_0x6d438d(0x2c5),_0x6d438d(0x244)),await killBot();else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)](_0x6d438d(0x24d)))logHistory(_0x6d438d(0x2c5),_0x967f09+_0x6d438d(0x2fc)),logHistory(_0x6d438d(0x2c5),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)](_0x6d438d(0x196)))logHistory('error',_0x967f09+_0x6d438d(0x1c3)),logHistory(_0x6d438d(0x2c5),_0x6d438d(0x244)),await killBot();else{if(_0x14b93f[_0x6d438d(0x280)]()[_0x6d438d(0x1d3)]('InsufficientFunds'))logHistory(_0x6d438d(0x2c5),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0xabd266);else{if(_0x14b93f instanceof ccxt['ExchangeError']){logHistory(_0x6d438d(0x2c5),_0x967f09+_0x6d438d(0x215)),logger['debug'](_0x6d438d(0x25b),_0x14b93f);if(_0xabd266)logger[_0x6d438d(0x2ef)](_0x6d438d(0x255)+_0xabd266);}else{_0x12a844='Unknown\x20error\x20occured',logger[_0x6d438d(0x2ef)](_0x12a844+_0x6d438d(0x1ef),_0x14b93f);if(_0xabd266)logger[_0x6d438d(0x2ef)](_0x6d438d(0x255)+_0xabd266);await pauseBot(undefined,_0x12a844);}}}}}}}}}}}}}}}async function withRetry(_0x5675c6,_0x32ec77){const _0x1208a6=_0x25b63e;let _0x2d85a4=![],_0x324bed=0x0,_0x2a3837,_0x4fc578;while(_0x324bed<maxRetries){try{_0x2a3837=await _0x32ec77();break;}catch(_0x2ff027){_0x4fc578=_0x2ff027,!_0x2d85a4?(_0x2d85a4=!![],logger['debug'](_0x1208a6(0x31b)+_0x5675c6+':',_0x2ff027[_0x1208a6(0x280)]())):await sleep(retryInterval);}_0x324bed++;}if(_0x324bed==0x0)return _0x2a3837;if(_0x324bed>=maxRetries)throw _0x4fc578;else return logger['debug']('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x324bed+'\x20attempts'),_0x2a3837;}function formatResult(_0x510ccd,_0x3f91ef){return parseFloat(_0x510ccd['toFixed'](_0x3f91ef));}function formatResultTruncate(_0x3200ea,_0x5b806d){const _0x41343b=_0x25b63e;let _0x23e432=formatResultString(_0x3200ea,0xa),_0x527678=_0x23e432[_0x41343b(0x2ab)]('.');return _0x527678!=-0x1&&(_0x23e432=_0x23e432['slice'](0x0,_0x527678+_0x5b806d+0x1)),Number(_0x23e432);}function formatResultString(_0x201d89,_0x3e32c7){const _0x208e45=_0x25b63e;let _0x3cb440;if(!(''+_0x201d89)['includes']('e'))_0x3cb440=+(Math[_0x208e45(0x1a1)](_0x201d89+'e+'+_0x3e32c7)+'e-'+_0x3e32c7);else{let _0x2242a3=(''+_0x201d89)[_0x208e45(0x305)]('e'),_0x53f457='';+_0x2242a3[0x1]+_0x3e32c7>0x0&&(_0x53f457='+'),_0x3cb440=+(Math[_0x208e45(0x1a1)](+_0x2242a3[0x0]+'e'+_0x53f457+(+_0x2242a3[0x1]+_0x3e32c7))+'e-'+_0x3e32c7);}return Number(_0x3cb440)[_0x208e45(0x2cc)](_0x3e32c7);}function getServerTime(){const _0x14580f=_0x25b63e,_0x2809ec=new Date();return _0x2809ec[_0x14580f(0x266)]()+'/'+(_0x2809ec['getMonth']()+0x1)[_0x14580f(0x280)]()['padStart'](0x2,'0')+'/'+_0x2809ec[_0x14580f(0x347)]()[_0x14580f(0x280)]()[_0x14580f(0x1fa)](0x2,'0')+'\x20'+_0x2809ec[_0x14580f(0x2e3)]()[_0x14580f(0x280)]()['padStart'](0x2,'0')+':'+_0x2809ec[_0x14580f(0x333)]()['toString']()[_0x14580f(0x1fa)](0x2,'0')+':'+_0x2809ec[_0x14580f(0x28c)]()['toString']()[_0x14580f(0x1fa)](0x2,'0');}function getTimeStamp(){const _0x1b01b3=_0x25b63e,_0x19cd7b=shiftedTime();return _0x19cd7b[_0x1b01b3(0x266)]()+'/'+(_0x19cd7b[_0x1b01b3(0x335)]()+0x1)[_0x1b01b3(0x280)]()[_0x1b01b3(0x1fa)](0x2,'0')+'/'+_0x19cd7b[_0x1b01b3(0x347)]()[_0x1b01b3(0x280)]()[_0x1b01b3(0x1fa)](0x2,'0')+'\x20'+_0x19cd7b['getHours']()[_0x1b01b3(0x280)]()[_0x1b01b3(0x1fa)](0x2,'0')+':'+_0x19cd7b['getMinutes']()[_0x1b01b3(0x280)]()['padStart'](0x2,'0')+':'+_0x19cd7b[_0x1b01b3(0x28c)]()[_0x1b01b3(0x280)]()[_0x1b01b3(0x1fa)](0x2,'0');}function getDate(){const _0x50c79f=_0x25b63e,_0x31a166=shiftedTime();return _0x31a166[_0x50c79f(0x266)]()+'/'+(_0x31a166['getMonth']()+0x1)[_0x50c79f(0x280)]()[_0x50c79f(0x1fa)](0x2,'0')+'/'+_0x31a166[_0x50c79f(0x347)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x182705=_0x25b63e,_0x3518d2=shiftedTime();return _0x3518d2[_0x182705(0x2e3)]()[_0x182705(0x280)]()[_0x182705(0x1fa)](0x2,'0');}function sleep(_0x5e280b){return new Promise(_0x56eeb7=>setTimeout(_0x56eeb7,_0x5e280b));}function shiftedTime(){const _0x23d9a0=_0x25b63e,_0x432a4d=new Date();let _0x112801=_0x432a4d;if(config&&config[_0x23d9a0(0x202)]!==0x0)_0x112801=fns[_0x23d9a0(0x273)](_0x432a4d,{'hours':config['timeshift']});return _0x112801;}function timer(_0x253fb9){const _0x187a7a=_0x25b63e,_0x67dafa=new Date();!lasttime?console[_0x187a7a(0x309)](getTimeStamp()+_0x187a7a(0x296),_0x253fb9,_0x67dafa):console[_0x187a7a(0x309)](getTimeStamp()+_0x187a7a(0x296),_0x253fb9,(_0x67dafa-lasttime)/0x3e8),lasttime=_0x67dafa;}