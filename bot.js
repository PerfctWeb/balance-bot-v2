const _0x25995a=_0x50ad;(function(_0x3fb0fd,_0x2f5c78){const _0x1407d5=_0x50ad,_0x4fc245=_0x3fb0fd();while(!![]){try{const _0xc730fd=-parseInt(_0x1407d5(0x140))/0x1*(-parseInt(_0x1407d5(0x1c0))/0x2)+parseInt(_0x1407d5(0x2a1))/0x3+parseInt(_0x1407d5(0x1c7))/0x4+-parseInt(_0x1407d5(0x1be))/0x5+-parseInt(_0x1407d5(0x10a))/0x6+-parseInt(_0x1407d5(0x1de))/0x7*(parseInt(_0x1407d5(0x18d))/0x8)+parseInt(_0x1407d5(0x23a))/0x9*(parseInt(_0x1407d5(0x26a))/0xa);if(_0xc730fd===_0x2f5c78)break;else _0x4fc245['push'](_0x4fc245['shift']());}catch(_0xf66d35){_0x4fc245['push'](_0x4fc245['shift']());}}}(_0x377e,0xdcb5b));const _0x23f5d8=function(){let _0x4f5ca2=!![];return function(_0x20f80c,_0x206645){const _0x37fb49=_0x4f5ca2?function(){const _0x364bcb=_0x50ad;if(_0x206645){const _0x4a0995=_0x206645[_0x364bcb(0x15f)](_0x20f80c,arguments);return _0x206645=null,_0x4a0995;}}:function(){};return _0x4f5ca2=![],_0x37fb49;};}(),_0x4f4d3e=_0x23f5d8(this,function(){const _0x365b68=_0x50ad;return _0x4f4d3e[_0x365b68(0x18b)]()[_0x365b68(0x287)]('(((.+)+)+)+$')['toString']()[_0x365b68(0x168)](_0x4f4d3e)['search'](_0x365b68(0x291));});_0x4f4d3e();'use strict';const ccxt=require(_0x25995a(0x13d)),low=require(_0x25995a(0x29e)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x25995a(0x218)),Crypt=require(_0x25995a(0x1b0))[_0x25995a(0x157)],util=require(_0x25995a(0x201)),argv=require(_0x25995a(0x2b1))(process['argv'][_0x25995a(0x212)](0x2))[_0x25995a(0x277)],path=require('path'),axios=require(_0x25995a(0x20f));let exchange;global[_0x25995a(0x2ad)]={},global[_0x25995a(0x106)]={};const usdBasecoins=['USD',_0x25995a(0x23c),'TUSD',_0x25995a(0x1ef),_0x25995a(0x242),_0x25995a(0x13a)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x25995a(0x29f)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x25995a(0x183),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x25995a(0x1f9))[_0x25995a(0x1d7)],botID=process[_0x25995a(0x277)][0x2]||_0x25995a(0x1f8),pattern=/^[0-9]{3}$/;!pattern[_0x25995a(0x1aa)](botID)&&(console[_0x25995a(0x1b6)](_0x25995a(0x10b)+botID+_0x25995a(0x131)),killBot());const userID=process[_0x25995a(0x277)][0x3]||'',configpath=userID?_0x25995a(0x232)+userID+'/':_0x25995a(0x232),logspath=userID?_0x25995a(0x16e)+userID+'/':'./logs/',loggerfile=fs[_0x25995a(0x279)](logspath+_0x25995a(0x128),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x25995a(0x238)](configpath);!fs[_0x25995a(0x21c)](logspath)&&fs[_0x25995a(0x238)](logspath);const configfile=configpath+_0x25995a(0x1a6)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x25995a(0x151),performancefile=configpath+_0x25995a(0x1a6)+botID+_0x25995a(0x179),coinresultsfile=configpath+_0x25995a(0x1a6)+botID+'-results.json',settingsfile=configpath+_0x25995a(0x2b8),securefile=configpath+_0x25995a(0x28e),configbackuppath=configpath+_0x25995a(0x290),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x25995a(0x2b4)]({'logs':[],'version':serverversion})[_0x25995a(0x113)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x25995a(0x2b4)]({'data':[],'version':serverversion})[_0x25995a(0x113)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x25995a(0x2b4)]({'coins':[],'version':serverversion})[_0x25995a(0x113)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x25995a(0x13f),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x2757a8=>{const _0x4c7c5f=_0x25995a;console[_0x4c7c5f(0x1b6)](_0x2757a8);},'simple':_0x525697=>{const _0x315151=_0x25995a;console[_0x315151(0x1b6)](_0x525697),loggerfile[_0x315151(0x113)](util[_0x315151(0x1b2)](_0x525697)+'\x0a');},'full':async(_0x403687,_0x503bd8='')=>{const _0x546abc=_0x25995a;let _0x40ce19;if(config[_0x546abc(0x14c)])_0x40ce19=getTimeStamp()+':\x20'+config[_0x546abc(0x252)]+_0x546abc(0x16b)+_0x403687;else _0x40ce19=getTimeStamp()+_0x546abc(0x248)+botID+_0x546abc(0x16b)+_0x403687;console['log'](_0x40ce19),loggerfile[_0x546abc(0x113)](util[_0x546abc(0x1b2)](_0x40ce19)+'\x0a'),_0x503bd8&&(console['log'](_0x503bd8),loggerfile[_0x546abc(0x113)](util[_0x546abc(0x1b2)](_0x503bd8)+'\x0a'));},'debug':async(_0x12706e,_0x5c4fe2='')=>{const _0x244da9=_0x25995a;let _0x2a6709;if(config[_0x244da9(0x14c)])_0x2a6709=getTimeStamp()+':\x20'+config[_0x244da9(0x252)]+'\x20>\x20[DEBUG]\x20'+_0x12706e;else _0x2a6709=getTimeStamp()+':\x20Bot\x20'+botID+_0x244da9(0x10e)+_0x12706e;if(debugging)console[_0x244da9(0x1b6)](_0x2a6709);loggerfile[_0x244da9(0x113)](util[_0x244da9(0x1b2)](_0x2a6709)+'\x0a');if(_0x5c4fe2){if(debugging)console[_0x244da9(0x1b6)](_0x5c4fe2);loggerfile[_0x244da9(0x113)](util['format'](_0x5c4fe2)+'\x0a');}}};process['on'](_0x25995a(0x243),function(_0xeb1f92){const _0x15c2e4=_0x25995a;handleError(_0xeb1f92,_0x15c2e4(0x243));});settings[_0x25995a(0x15c)]!=config[_0x25995a(0x15c)]&&updateTimeshift(settings[_0x25995a(0x15c)]);settings[_0x25995a(0x249)]!=config[_0x25995a(0x249)]&&updateOnepagemode(settings['onepagemode']);(settings['marketcapApi']&&!config[_0x25995a(0x109)]||!settings[_0x25995a(0x109)]&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x25995a(0x109)]);process[_0x25995a(0x1e9)]({'started':_0x25995a(0x22a)},_0x42dacc=>{}),initializeProcessListeners();function proxyEmit(_0x5e42a1,_0x370896=null){const _0x19b88a=_0x25995a;process[_0x19b88a(0x1e9)]({'function':_0x5e42a1,'args':_0x370896},_0x16b73d=>{});}function initializeProcessListeners(){process['on']('message',_0x10c94e=>{const _0x266979=_0x50ad;switch(Object[_0x266979(0x1f2)](_0x10c94e)[0x0]){case'timeshift':_0x10c94e['timeshift']!=undefined&&(settings[_0x266979(0x15c)]=_0x10c94e[_0x266979(0x15c)],updateTimeshift(settings[_0x266979(0x15c)]));break;case _0x266979(0x249):_0x10c94e[_0x266979(0x249)]!=undefined&&(settings[_0x266979(0x249)]=_0x10c94e[_0x266979(0x249)],updateOnepagemode(settings[_0x266979(0x249)]));break;case'marketcapApi':_0x10c94e[_0x266979(0x109)]!=undefined&&(settings[_0x266979(0x109)]=_0x10c94e['marketcapApi'],updateMarketcapApi(settings[_0x266979(0x109)]));break;case _0x266979(0x2ab):_0x10c94e[_0x266979(0x2ab)]!=undefined&&(bots=JSON['parse'](_0x10c94e['bots']),proxyEmit(_0x266979(0x2ab),bots));break;case _0x266979(0x1ac):switch(_0x10c94e['function']){case _0x266979(0x23b):initclient();break;case _0x266979(0x1da):toggleBotMode();break;case _0x266979(0x147):emitHistory(_0x10c94e[_0x266979(0x146)]);break;case _0x266979(0x1cd):deleteHistoryAlerts(_0x10c94e[_0x266979(0x146)]);break;case _0x266979(0x1cc):getPortfolio(_0x10c94e[_0x266979(0x146)]);break;case _0x266979(0x144):storeConfiguration(_0x10c94e['args']);break;case _0x266979(0x268):storeHeadless(_0x10c94e[_0x266979(0x146)]);break;case _0x266979(0x1c8):storeFiat(_0x10c94e[_0x266979(0x146)]);break;case _0x266979(0x199):resetHistory();break;case _0x266979(0x228):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x10c94e['args']);break;case _0x266979(0x29a):cancelLoading();break;case'showConfig':showConfig();break;case _0x266979(0x176):sendMetricsTelegram();break;case _0x266979(0x126):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0xe5306f=![]){const _0x58b4c6=_0x25995a;logger['debug']('Reset\x20|\x20'+(_0xe5306f?_0x58b4c6(0x254):_0x58b4c6(0x24e))+_0x58b4c6(0x13c)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0xe5306f)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x58b4c6(0x191)]!=''&&config[_0x58b4c6(0x191)]!='***'){loadingProgress=0x0;if(_0xe5306f){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x5e5fb6){handleErrorNoStop(_0x5e5fb6,_0x58b4c6(0x1df));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x3f0124=await getCoins();[currentCoins,currentCoinsAll]=_0x3f0124,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x58b4c6(0x1b9)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x58b4c6(0x2a7)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x172b44){const _0xa70355=_0x25995a;let _0x155027=![];if(_0x172b44)_0x155027=!![];let _0x2c5c0b;_0x155027?_0x2c5c0b=_0x172b44[_0xa70355(0x25f)](_0x31cc4b=>_0x31cc4b['coin']):_0x2c5c0b=currentCoinsAll['map'](_0x24a843=>_0x24a843[_0xa70355(0x259)]);if(!config[_0xa70355(0x109)]||!_0x155027&&!config[_0xa70355(0x15d)]||_0x2c5c0b[_0xa70355(0x2a7)]==0x0)return;let _0x3d74e0=null;try{_0x3d74e0=await axios[_0xa70355(0x186)](_0xa70355(0x2b5),{'headers':{'X-CMC_PRO_API_KEY':settings[_0xa70355(0x109)]},'params':{'symbol':_0x2c5c0b[_0xa70355(0x18b)]()}});}catch(_0x13c8fc){_0x3d74e0=null,_0x13c8fc[_0xa70355(0x18b)]()[_0xa70355(0x12f)](_0xa70355(0x216))?(config[_0xa70355(0x109)]=![],updateConfig(),proxyEmit(_0xa70355(0x26c),emittedConfiguration()),logHistory(_0xa70355(0x1bd),_0xa70355(0x188))):(logHistory(_0xa70355(0x1bd),_0xa70355(0x1ad)+marketCapInterval/(0x3c*0x3e8)+_0xa70355(0x183)),logger[_0xa70355(0x1b9)]('Error\x20details:',_0x13c8fc[_0xa70355(0x18b)]()+'\x20-\x20'+_0x13c8fc['code']));}if(_0x3d74e0){let _0x4cb1f2=0x0;const _0x34d4db=_0x3d74e0['data'];_0x2c5c0b[_0xa70355(0x1c1)](_0xe175d9=>{const _0x4f4695=_0xa70355;if(_0x34d4db[_0x4f4695(0x296)][_0xe175d9][0x0])_0x4cb1f2+=_0x34d4db[_0x4f4695(0x296)][_0xe175d9][0x0][_0x4f4695(0x286)][_0x4f4695(0x21a)][_0x4f4695(0x1c6)];}),_0x2c5c0b[_0xa70355(0x1c1)](_0x5ead6d=>{const _0x1f19b0=_0xa70355,_0x3a950f=_0x34d4db[_0x1f19b0(0x296)][_0x5ead6d][0x0]?_0x34d4db[_0x1f19b0(0x296)][_0x5ead6d][0x0]['quote'][_0x1f19b0(0x21a)][_0x1f19b0(0x1c6)]:0x0;if(_0x155027){const _0x747906=_0x172b44[_0x1f19b0(0x205)](_0x267123=>_0x267123[_0x1f19b0(0x259)]==_0x5ead6d);_0x747906&&(_0x747906['marketcap']=_0x3a950f);}else{const _0x33fb71=currentCoins[_0x1f19b0(0x205)](_0x4f0167=>_0x4f0167[_0x1f19b0(0x259)]==_0x5ead6d);_0x33fb71&&(_0x33fb71[_0x1f19b0(0x141)]=_0x3a950f);const _0x7f1052=currentCoinsAll[_0x1f19b0(0x205)](_0x3501cf=>_0x3501cf[_0x1f19b0(0x259)]==_0x5ead6d);_0x7f1052&&(_0x7f1052[_0x1f19b0(0x141)]=_0x3a950f);}}),!_0x155027&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x4d7443=_0x25995a,_0x3f09f1=0x2;let _0x4d2f82=0x0,_0x11eac9=0x0,_0x53d741=0x0,_0x219a16=0x0;config[_0x4d7443(0x175)]['forEach'](_0x538655=>{const _0x490e16=_0x4d7443;if(!_0x538655[_0x490e16(0x211)]){_0x53d741++,_0x4d2f82+=_0x538655['slider'];if(_0x538655['slider']===-0x1){_0x4d2f82++;const _0x29b8aa=currentCoinsAll[_0x490e16(0x205)](_0xa7e094=>_0xa7e094[_0x490e16(0x259)]==_0x538655[_0x490e16(0x259)]);_0x29b8aa&&(_0x219a16+=_0x29b8aa[_0x490e16(0x141)]);}if(_0x538655[_0x490e16(0x193)]!==-0x1)_0x11eac9++;}});let _0x311d85;const _0x4e0550=0x64-_0x4d2f82,_0x12160c=_0x53d741-_0x11eac9;_0x311d85=_0x12160c===0x0?_0x4d2f82:Math[_0x4d7443(0x1f0)](0x64,_0x4d2f82),config[_0x4d7443(0x175)]['forEach'](_0x4de319=>{const _0x203f41=_0x4d7443,_0x48a7c6=currentCoinsAll[_0x203f41(0x205)](_0xa1ae7c=>_0xa1ae7c[_0x203f41(0x259)]==_0x4de319[_0x203f41(0x259)]);_0x48a7c6&&(_0x4de319[_0x203f41(0x141)]=_0x48a7c6[_0x203f41(0x141)]),!_0x4de319[_0x203f41(0x211)]&&(_0x311d85<=0x64&&(_0x4de319[_0x203f41(0x193)]===-0x1&&(_0x219a16!==0x0&&config[_0x203f41(0x15d)]&&(_0x48a7c6&&(_0x4de319['distribution']=(_0x4e0550/(_0x219a16/_0x48a7c6[_0x203f41(0x141)]))[_0x203f41(0x1f7)](_0x3f09f1))))));}),updateConfig();}function updateConfig(){const _0x8b6d5a=_0x25995a;let _0x1e9f9c=dbConfig[_0x8b6d5a(0x186)](_0x8b6d5a(0x227))[_0x8b6d5a(0x205)]({'botID':botID})[_0x8b6d5a(0x196)]();_0x1e9f9c&&dbConfig[_0x8b6d5a(0x186)](_0x8b6d5a(0x227))[_0x8b6d5a(0x205)]({'botID':botID})[_0x8b6d5a(0x143)](config)['write']();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x35d706=_0x25995a;exchangeStopped=!![];try{await exchange[_0x35d706(0x1ab)]();}catch(_0x22ef76){await handleError(_0x22ef76,_0x35d706(0x19b));}}async function reloadExchange(){const _0x46fc48=_0x25995a;while(lockOrders!=ORDERS[_0x46fc48(0x29f)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug']('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x414eec=config[_0x25995a(0x22d)],_0x492f10=config[_0x25995a(0x191)],_0x30a39d=config['apiSecret'],_0x382d80=config['apiPassword']){const _0x2bfc44=_0x25995a;exchange&&await stopExchange();!supportedExchanges()[_0x2bfc44(0x12f)](_0x414eec)&&(logHistory(_0x2bfc44(0x1bd),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x414eec+'\x20exchange'),killBot());const _0x5eec71=ccxt[_0x2bfc44(0x271)][_0x414eec[_0x2bfc44(0x2ae)]()];exchange=new _0x5eec71({'apiKey':_0x492f10,'secret':_0x30a39d,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x2bfc44(0x21b)}});if(_0x382d80)exchange[_0x2bfc44(0x261)]=_0x382d80;}function setStableCoins(){const _0x4ad8ec=_0x25995a;let _0x5aadd4=config[_0x4ad8ec(0x111)]=='ETH'?_0x4ad8ec(0x203):config['basecoin']==_0x4ad8ec(0x116)?_0x4ad8ec(0x116):_0x4ad8ec(0x27f),_0x1cc57e=!allSymbols[_0x4ad8ec(0x12f)](_0x5aadd4+_0x4ad8ec(0x1eb))?'USDT':_0x4ad8ec(0x21a),_0x5babcd=!allSymbols[_0x4ad8ec(0x12f)](_0x5aadd4+_0x4ad8ec(0x11e))?_0x1cc57e:_0x4ad8ec(0x215);stablecoins={'eur':{'coin':''+_0x5aadd4+_0x5babcd,'symbol':_0x5aadd4+'/'+_0x5babcd},'usd':{'coin':''+_0x5aadd4+_0x1cc57e,'symbol':_0x5aadd4+'/'+_0x1cc57e}};}async function initwsCcxt(){const _0x55c45a=_0x25995a;initCycle++;const _0x371e59=initCycle;let _0x5ae073=[];config['portfolio'][_0x55c45a(0x1c1)](_0x6fc112=>{const _0x92b318=_0x55c45a;if(!_0x6fc112['excluded']&&_0x6fc112[_0x92b318(0x259)]!=config[_0x92b318(0x111)])_0x5ae073[_0x92b318(0x22c)](_0x6fc112['symbol']);});if(!_0x5ae073['includes'](stablecoins[_0x55c45a(0x26b)][_0x55c45a(0x24d)]))_0x5ae073[_0x55c45a(0x22c)](stablecoins['eur'][_0x55c45a(0x24d)]);if(!_0x5ae073[_0x55c45a(0x12f)](stablecoins[_0x55c45a(0x136)]['symbol']))_0x5ae073[_0x55c45a(0x22c)](stablecoins[_0x55c45a(0x136)][_0x55c45a(0x24d)]);if(config['exchange'][_0x55c45a(0x10f)](_0x55c45a(0x1ed))&&config[_0x55c45a(0x111)]!=_0x55c45a(0x116)){if(!_0x5ae073[_0x55c45a(0x12f)](_0x55c45a(0x182)+config[_0x55c45a(0x111)]))_0x5ae073[_0x55c45a(0x22c)](_0x55c45a(0x182)+config[_0x55c45a(0x111)]);}loadCoins(_0x5ae073),_0x5ae073=validateSymbols(_0x5ae073);const _0x1a3e3c=async _0x3a7404=>{const _0x2167bb=_0x55c45a;let _0x42fb9c;try{const _0x2541ad=await getTickers(_0x3a7404);Object[_0x2167bb(0x22f)](_0x2541ad)[_0x2167bb(0x1c1)](_0x16957d=>{const _0x49e6ad=_0x2167bb;_0x42fb9c=_0x16957d[0x1][_0x49e6ad(0x24d)],global[_0x49e6ad(0x2ad)][noslash(_0x42fb9c)]=_0x16957d[0x1]['last'],global[_0x49e6ad(0x106)][_0x42fb9c]=_0x16957d[0x1][_0x49e6ad(0x1d4)];});}catch(_0x37d40b){await handleError(_0x37d40b,_0x2167bb(0x2a4),_0x42fb9c);}},_0x2552ed=async _0x1e4d6c=>{const _0x12b357=_0x55c45a;while(initCycle==_0x371e59){if(!botPaused)try{const _0x69640=await exchange[_0x12b357(0x17d)](_0x1e4d6c);global[_0x12b357(0x2ad)][noslash(_0x69640[0x0][_0x12b357(0x24d)])]=_0x69640[0x0][_0x12b357(0x20a)],await sleep(0x3e8);}catch(_0x3c32bf){if(!exchangeStopped)await handleError(_0x3c32bf,_0x12b357(0x209),_0x1e4d6c);}else await sleep(0x64);}},_0x1386ee=async _0x3d3b4f=>{const _0x5b5a6c=_0x55c45a;while(initCycle==_0x371e59){if(!botPaused){let _0x1495ed;try{await sleep(0x3c*0x3e8);const _0x393f00=await getTickers(_0x3d3b4f);Object[_0x5b5a6c(0x22f)](_0x393f00)[_0x5b5a6c(0x1c1)](_0x4dffb7=>{const _0x14388a=_0x5b5a6c;_0x1495ed=_0x4dffb7[0x1][_0x14388a(0x24d)],global[_0x14388a(0x106)][_0x1495ed]=_0x4dffb7[0x1][_0x14388a(0x1d4)];});}catch(_0x565ddf){if(!exchangeStopped)await handleError(_0x565ddf,_0x5b5a6c(0x1b7),_0x1495ed);}}else await sleep(0x64);}},_0x1c9f1d=async _0x27f75b=>{const _0xfff2c=_0x55c45a;while(initCycle==_0x371e59){if(!botPaused)try{const _0x51c1f2=await exchange[_0xfff2c(0x11d)](_0x27f75b);initCycle==_0x371e59&&_0x51c1f2[_0xfff2c(0x1c1)](_0x48acd6=>{updateNumberCoinsCcxt(_0x48acd6);});}catch(_0x18ee16){if(!exchangeStopped)await handleError(_0x18ee16,_0xfff2c(0x171));}else await sleep(0x64);}};_0x1a3e3c(_0x5ae073),_0x1386ee(_0x5ae073),_0x5ae073['forEach'](_0x431473=>{_0x2552ed(_0x431473),_0x1c9f1d(_0x431473);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x513b5f){const _0x4f97e9=_0x25995a;let _0x11f5b7={};try{if(config[_0x4f97e9(0x22d)]!=_0x4f97e9(0x1a5))_0x11f5b7=await exchange[_0x4f97e9(0x281)](_0x513b5f);else for(const _0x57f7b2 of _0x513b5f){const _0x5de03d=await exchange[_0x4f97e9(0x160)](_0x57f7b2);_0x11f5b7[_0x57f7b2]=_0x5de03d;}return _0x11f5b7;}catch(_0x39828c){throw _0x39828c;}}async function watchTransactions(){const _0x5964d9=_0x25995a;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x2bd662=await getCoins(),[_0x45b1f1,_0x243247]=_0x2bd662;let _0x476f91=[];currentCoins['forEach'](_0x36ef5f=>{const _0x2903f9=_0x50ad,_0x1bab27=_0x45b1f1[_0x2903f9(0x205)](_0x4bc0b7=>_0x4bc0b7[_0x2903f9(0x259)]==_0x36ef5f[_0x2903f9(0x259)]);if(_0x1bab27){if(_0x36ef5f[_0x2903f9(0x1b4)]!=_0x1bab27[_0x2903f9(0x1b4)]){let _0x3f9924;if(_0x36ef5f[_0x2903f9(0x259)]!=config[_0x2903f9(0x111)]){const _0x5de4e3=global['ticker'][noslash(_0x36ef5f[_0x2903f9(0x24d)])];_0x3f9924=_0x36ef5f['reverse']?0x1/_0x5de4e3:_0x5de4e3;}else _0x3f9924=0x1;_0x476f91['push']({'coin':_0x36ef5f['coin'],'symbol':_0x36ef5f[_0x2903f9(0x24d)],'price':_0x3f9924,'number':Number(formatResult(_0x1bab27[_0x2903f9(0x1b4)]-_0x36ef5f['number'],0x8)),'basecoinvalue':_0x3f9924*(_0x1bab27[_0x2903f9(0x1b4)]-_0x36ef5f[_0x2903f9(0x1b4)])});}}});if(_0x476f91[_0x5964d9(0x2a7)]==0x1&&!blockTransactionDetection){if(config[_0x5964d9(0x1a3)]){logger[_0x5964d9(0x1b9)](_0x5964d9(0x2a8)+_0x476f91[0x0]['basecoinvalue']+_0x5964d9(0x148)+lastFees['highest']);if(lastFees[_0x5964d9(0x1d3)]==0x0||Math[_0x5964d9(0x1bb)](_0x476f91[0x0][_0x5964d9(0x197)])>lastFees[_0x5964d9(0x1d3)]){delete _0x476f91[0x0]['symbol'],delete _0x476f91[0x0]['basecoinvalue'];let _0x5e8bb8=[],_0x4ef39e=[...config[_0x5964d9(0x10c)]]||[],_0x31742c=config['liquidity'];_0x4ef39e[_0x5964d9(0x178)]((_0x1cde3a,_0x1d57bb)=>_0x1cde3a[_0x5964d9(0x1b3)]>_0x1d57bb[_0x5964d9(0x1b3)]?-0x1:_0x1d57bb['date']>_0x1cde3a['date']?0x1:0x0);const _0x4dc958=getDate();if(_0x4ef39e[0x0]){const _0x31d436=fns[_0x5964d9(0x260)](_0x4ef39e[0x0]['date'],_0x5964d9(0x21d),new Date()),_0x597f67=fns[_0x5964d9(0x260)](_0x4dc958,_0x5964d9(0x21d),new Date());if(fns['isEqual'](_0x31d436,_0x597f67)){_0x5e8bb8=_0x4ef39e[0x0][_0x5964d9(0x2b2)];const _0x1ab94a=_0x5e8bb8['find'](_0x4583dc=>_0x4583dc[_0x5964d9(0x259)]==_0x476f91[0x0]['coin']);_0x1ab94a?(_0x1ab94a[_0x5964d9(0x1b4)]+=_0x476f91[0x0]['number'],_0x1ab94a[_0x5964d9(0x1b4)]==0x0&&(_0x5e8bb8=_0x5e8bb8[_0x5964d9(0x262)](_0x2958e3=>{const _0x4aa940=_0x5964d9;return _0x2958e3[_0x4aa940(0x259)]!=_0x476f91[0x0][_0x4aa940(0x259)];}))):_0x5e8bb8[_0x5964d9(0x22c)](_0x476f91[0x0]);const _0x3541e4=_0x31742c['find'](_0x1f88dd=>_0x1f88dd[_0x5964d9(0x1b3)]==_0x4dc958);_0x3541e4['changes']=_0x5e8bb8;}else _0x31742c[_0x5964d9(0x22c)]({'date':_0x4dc958,'changes':[_0x476f91[0x0]]});}const _0x2816cf=_0x31742c[_0x5964d9(0x205)](_0x46e2c7=>_0x46e2c7[_0x5964d9(0x1b3)]==_0x4dc958);if(_0x2816cf){let _0x18bc19=!![];_0x2816cf[_0x5964d9(0x2b2)][_0x5964d9(0x1c1)](_0x1e8ee8=>{const _0x44633b=_0x5964d9;if(_0x1e8ee8[_0x44633b(0x1b4)]!=0x0)_0x18bc19=![];}),_0x18bc19&&(_0x31742c=_0x31742c[_0x5964d9(0x262)](_0x284114=>{const _0x57d6e4=_0x5964d9;return _0x284114[_0x57d6e4(0x1b3)]!=_0x4dc958;}));}let _0x4ef160=dbConfig[_0x5964d9(0x186)](_0x5964d9(0x227))['find']({'botID':botID})[_0x5964d9(0x196)]();_0x4ef160&&(dbConfig[_0x5964d9(0x186)](_0x5964d9(0x227))[_0x5964d9(0x205)]({'botID':botID})['assign']({'liquidity':_0x31742c})[_0x5964d9(0x113)](),config[_0x5964d9(0x10c)]=_0x31742c),logHistory('success','Portfolio\x20change\x20detected:\x20'+Math[_0x5964d9(0x1bb)](_0x476f91[0x0][_0x5964d9(0x1b4)])+'\x20'+_0x476f91[0x0][_0x5964d9(0x259)]+'\x20'+(_0x476f91[0x0][_0x5964d9(0x1b4)]>0x0?_0x5964d9(0x20e):_0x5964d9(0x159))+_0x5964d9(0x185)),proxyEmit(_0x5964d9(0x26c),emittedConfiguration());}else logger['debug'](_0x5964d9(0x293)+Math[_0x5964d9(0x1bb)](_0x476f91[0x0][_0x5964d9(0x1b4)])+'\x20'+_0x476f91[0x0][_0x5964d9(0x259)]+'\x20'+(_0x476f91[0x0][_0x5964d9(0x1b4)]>0x0?_0x5964d9(0x20e):'removed'));transactionDetected=!![];}else logger[_0x5964d9(0x1b9)](_0x5964d9(0x18f)+Math[_0x5964d9(0x1bb)](_0x476f91[0x0][_0x5964d9(0x1b4)])+'\x20'+_0x476f91[0x0][_0x5964d9(0x259)]+'\x20'+(_0x476f91[0x0][_0x5964d9(0x1b4)]>0x0?_0x5964d9(0x20e):_0x5964d9(0x159))+_0x5964d9(0x177));}currentCoins=_0x45b1f1,currentCoinsAll=_0x243247,await sleep(watchTransactionsInterval);}catch(_0x258a24){if(!exchangeStopped)await handleError(_0x258a24,_0x5964d9(0x2a6));}else await sleep(0x64);}}async function loadSymbols(){const _0x303cd7=_0x25995a;try{markets=await exchange[_0x303cd7(0x1d6)](),allSymbols=[],Object[_0x303cd7(0x22f)](markets)[_0x303cd7(0x1c1)](_0x2eb7aa=>{const _0x26b4fe=_0x303cd7;_0x2eb7aa[0x1][_0x26b4fe(0x190)]&&_0x2eb7aa[0x1][_0x26b4fe(0x21b)]&&allSymbols['push'](_0x2eb7aa[0x0]);});}catch(_0x2a50e0){throw _0x2a50e0;}}function validateSymbols(_0x24c833){const _0x48a724=_0x25995a;let _0x9434ec=[];return _0x24c833[_0x48a724(0x1c1)](_0x535c00=>{const _0x5e0e62=_0x48a724;!allSymbols['includes'](_0x535c00)?logHistory(_0x5e0e62(0x1bd),'Invalid\x20symbol:\x20'+_0x535c00+_0x5e0e62(0x1a8)):_0x9434ec[_0x5e0e62(0x22c)](_0x535c00);}),_0x9434ec;}async function initclient(){const _0x55500e=_0x25995a;proxyEmit(_0x55500e(0x26c),emittedConfiguration()),proxyEmit(_0x55500e(0x184),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x55500e(0x1c5),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xbe9cf1=getNormalizedPerformance();emitPerformance(_0xbe9cf1),getStartingBalances(_0xbe9cf1);}async function toggleBotMode(){const _0x4be3ce=_0x25995a;let _0x56ccf0=dbConfig[_0x4be3ce(0x186)]('bot')['find']({'botID':botID})[_0x4be3ce(0x196)]();if(_0x56ccf0){const _0x103f27=!_0x56ccf0['headless'];dbConfig['get'](_0x4be3ce(0x227))[_0x4be3ce(0x205)]({'botID':botID})[_0x4be3ce(0x143)]({'headless':_0x103f27})[_0x4be3ce(0x113)](),config[_0x4be3ce(0x257)]=_0x103f27,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x247a1a=_0x25995a;process[_0x247a1a(0x1e9)]({'updatebotmanager':!![]},_0x281319=>{}),logger[_0x247a1a(0x1b9)](_0x247a1a(0x244)+config[_0x247a1a(0x257)]);}async function loadCoins(_0x35717e){const _0x25a71d=_0x25995a;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x29f6f5,_0x5557f0=0x0,_0x5c8439=0x0;_0x35717e['forEach'](_0x1899dc=>{const _0x1d5eb7=_0x50ad;loading[_0x1d5eb7(0x13b)][_0x1d5eb7(0x22c)](_0x1899dc);}),loadingCanceled=![];let _0x2ff9b3=![];while(_0x29f6f5!=_0x35717e[_0x25a71d(0x2a7)]+maxLoadingProgress){_0x29f6f5=loadingProgress,_0x35717e[_0x25a71d(0x1c1)](_0x57ab69=>{const _0x41b62d=_0x25a71d;if(global['ticker'][noslash(_0x57ab69)]){loading['remainingSymbols']=loading[_0x41b62d(0x13b)]['filter'](_0x49c5f1=>_0x49c5f1!=_0x57ab69);if(!watchedSymbols[_0x41b62d(0x12f)](_0x57ab69))watchedSymbols[_0x41b62d(0x22c)](_0x57ab69);_0x29f6f5++;}}),loading[_0x25a71d(0x1a1)]=Math[_0x25a71d(0x2a5)](_0x29f6f5/(_0x35717e[_0x25a71d(0x2a7)]+maxLoadingProgress)*0x64);loading[_0x25a71d(0x1a1)]!=0x64&&(_0x5c8439>0x1e*0x5&&(loading[_0x25a71d(0x255)]=!![],emitLoadingProgress()),_0x5c8439>0x78*0x5&&!_0x2ff9b3&&(_0x2ff9b3=!![],logHistory(_0x25a71d(0x1bd),_0x25a71d(0x17a)+loading['remainingSymbols']['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory('error','Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x25a71d(0x1c4)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{process['send']({'stop':'restart'},_0x544a9a=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x25a71d(0x29d)]=!![],emitLoadingProgress();break;}else _0x5557f0!=loading[_0x25a71d(0x1a1)]&&(_0x5557f0=loading[_0x25a71d(0x1a1)],emitLoadingProgress()),_0x5c8439++,await sleep(0xc8);}_0x29f6f5==_0x35717e[_0x25a71d(0x2a7)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x25a71d(0x1e9)]({'status':_0x25a71d(0x18e),'live':_0x25a71d(0x22a)},_0x151cd5=>{}),_0x2ff9b3&&logHistory(_0x25a71d(0x132),_0x25a71d(0x217)));}function _0x50ad(_0x200221,_0x6f3474){const _0x52bf42=_0x377e();return _0x50ad=function(_0x4f4d3e,_0x23f5d8){_0x4f4d3e=_0x4f4d3e-0x106;let _0x377e2a=_0x52bf42[_0x4f4d3e];return _0x377e2a;},_0x50ad(_0x200221,_0x6f3474);}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4894ee=_0x25995a;proxyEmit(_0x4894ee(0x26c),{...emittedConfiguration(),'configstate':_0x4894ee(0x12c)});}function emitLoadingProgress(){const _0x315200=_0x25995a;proxyEmit(_0x315200(0x28a),loading);}async function getFiat(){const _0x4c6252=_0x25995a;let _0x4f6d2f=global[_0x4c6252(0x2ad)][stablecoins[_0x4c6252(0x26b)][_0x4c6252(0x259)]],_0x3d710f=global[_0x4c6252(0x2ad)][stablecoins[_0x4c6252(0x136)]['coin']];return{'eur':Number(_0x4f6d2f),'usd':Number(_0x3d710f)};}function capitalize(_0x179403){const _0x5d6831=_0x25995a;return _0x179403[_0x5d6831(0x1d2)](0x0,0x1)['toUpperCase']()+_0x179403[_0x5d6831(0x1d2)](0x1);}function supportedExchanges(){const _0x148b27=_0x25995a,_0x4d1817=['ws','fetchTickers',_0x148b27(0x160),_0x148b27(0x17d),_0x148b27(0x11d),_0x148b27(0x123),_0x148b27(0x235),_0x148b27(0x219),_0x148b27(0x161),_0x148b27(0x1cf)];let _0x405901=[],_0x269357=[],_0x359462=ccxt['pro'][_0x148b27(0x184)];_0x359462[_0x148b27(0x1c1)](_0x52f10a=>{const _0x555da3=_0x148b27;try{const _0x5566c9=new ccxt[(_0x555da3(0x271))][_0x52f10a]();_0x269357[_0x555da3(0x22c)](_0x5566c9);}catch(_0x4fc6e4){}}),_0x269357[_0x148b27(0x1c1)](_0x3c4e38=>{const _0x56e2a6=_0x148b27;let _0x14fad3=0x0;_0x4d1817[_0x56e2a6(0x1c1)](_0x988ca=>{const _0x3d2393=_0x56e2a6;_0x988ca in _0x3c4e38['has']&&_0x3c4e38[_0x3d2393(0x1dc)][_0x988ca]&&_0x14fad3++;}),_0x14fad3==_0x4d1817[_0x56e2a6(0x2a7)]&&_0x405901['push'](capitalize(_0x3c4e38['id']));});let _0x852bea=[];return _0x359462[_0x148b27(0x1c1)](_0x527163=>{const _0x1d60e9=_0x148b27;_0x527163=capitalize(_0x527163);if(!_0x405901[_0x1d60e9(0x12f)](_0x527163))_0x852bea[_0x1d60e9(0x22c)](_0x527163);}),_0x405901;}function setStartDatePerformance(){const _0x5cfb23=_0x25995a;if(config&&config[_0x5cfb23(0x10c)][0x0][_0x5cfb23(0x2b2)][_0x5cfb23(0x2a7)]!=0x0){const _0x4cbd3e=config[_0x5cfb23(0x10c)][0x0][_0x5cfb23(0x2b2)];dbPerformance[_0x5cfb23(0x186)](_0x5cfb23(0x296))[_0x5cfb23(0x205)]({'date':config[_0x5cfb23(0x1ec)]})[_0x5cfb23(0x143)]({'coins':_0x4cbd3e})['write']();}}async function recreateCoinResults(){const _0x3d1a88=_0x25995a;let _0x11a33e,_0x26e55c=[];try{const _0x4ddee9=fns[_0x3d1a88(0x1b2)](fns[_0x3d1a88(0x25c)](config[_0x3d1a88(0x1ec)][_0x3d1a88(0x241)](/\//g,'-')),_0x3d1a88(0x139));for(const _0x57a987 of currentCoins){if(_0x57a987[_0x3d1a88(0x259)]!=config['basecoin']){let _0x2996c1=0x0,_0x59a505,_0x56324c;_0x11a33e=await getAllEventOrders(_0x57a987[_0x3d1a88(0x24d)]);if(_0x11a33e[_0x3d1a88(0x2a7)]>0x0)_0x11a33e[_0x3d1a88(0x1c1)](_0x48bdce=>{const _0x103a71=_0x3d1a88,_0x1e2382=_0x57a987[_0x103a71(0x24d)][_0x103a71(0x12f)](config[_0x103a71(0x111)]+'/');_0x26e55c[_0x103a71(0x22c)]({'datetime':_0x48bdce[_0x103a71(0x272)],'coin':_0x57a987[_0x103a71(0x259)],'symbol':_0x57a987[_0x103a71(0x24d)],'side':_0x48bdce[_0x103a71(0x155)],'reverse':_0x1e2382,'amount':formatResult(_0x48bdce['filled'],0x8),'filled':formatResult(_0x48bdce['filled'],0x8),'price':formatResult(_0x48bdce[_0x103a71(0x20a)],0x8)}),_0x2996c1=_0x48bdce[_0x103a71(0x155)]==_0x103a71(0x1f4)?_0x2996c1+_0x48bdce['filled']:_0x2996c1-_0x48bdce[_0x103a71(0x17b)];if(!_0x56324c)_0x56324c=_0x48bdce['price'];});_0x59a505=_0x57a987[_0x3d1a88(0x1b4)]-_0x2996c1;let _0x360e6a;config['liquidity'][_0x3d1a88(0x1c1)](_0x4d9b8a=>{const _0x5ded81=_0x3d1a88;!_0x360e6a&&(_0x360e6a=_0x4d9b8a[_0x5ded81(0x2b2)][_0x5ded81(0x205)](_0x4520ab=>_0x4520ab[_0x5ded81(0x259)]==_0x57a987[_0x5ded81(0x259)]),_0x360e6a&&(_0x59a505=_0x360e6a['number'],_0x56324c=_0x360e6a[_0x5ded81(0x20a)]));});let _0x392d3d=dbCoinResults[_0x3d1a88(0x186)](_0x3d1a88(0x18a))[_0x3d1a88(0x205)]({'coin':_0x57a987[_0x3d1a88(0x259)]})[_0x3d1a88(0x196)]();_0x392d3d={'coin':_0x57a987[_0x3d1a88(0x259)],'number':_0x59a505,'breakeven':_0x56324c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3d1a88(0x186)]('coins')['find']({'coin':_0x57a987[_0x3d1a88(0x259)]})[_0x3d1a88(0x143)](_0x392d3d)['write']();}}_0x26e55c[_0x3d1a88(0x178)]((_0x3ff5bf,_0x3cfebd)=>_0x3ff5bf['datetime']>_0x3cfebd[_0x3d1a88(0x272)]?0x1:_0x3cfebd[_0x3d1a88(0x272)]>_0x3ff5bf[_0x3d1a88(0x272)]?-0x1:0x0);let _0x19e3e7=0x0;for(let _0x2fddb4 of _0x26e55c){await updateCoinResults(_0x2fddb4,!![]);}}catch(_0x32818c){await handleError(_0x32818c,_0x3d1a88(0x200));}}async function getAllEventOrders(_0x10d5a7){const _0x443dd9=_0x25995a;let _0x4f476b=[],_0x3dc5a0=dbLogs[_0x443dd9(0x186)]('logs')[_0x443dd9(0x262)](_0x5dab57=>{const _0x1eb659=_0x443dd9,_0x316bce=_0x5dab57[_0x1eb659(0x223)][_0x1eb659(0x2ae)]();return _0x316bce['includes'](_0x10d5a7['toLowerCase']())&&(_0x316bce[_0x1eb659(0x12f)]('market')&&_0x316bce[_0x1eb659(0x12f)](_0x1eb659(0x28b))||_0x316bce['includes']('filled')&&_0x316bce[_0x1eb659(0x12f)](_0x1eb659(0x28b)));})[_0x443dd9(0x276)](_0x443dd9(0x299))[_0x443dd9(0x196)]();return _0x3dc5a0[_0x443dd9(0x1c1)](_0x37b320=>{const _0x3e580c=_0x443dd9,_0x290e99=_0x37b320[_0x3e580c(0x223)][_0x3e580c(0x12f)](_0x3e580c(0x26d))?'sell':_0x3e580c(0x1f4),_0x14e1fd=/#([0-9]|\.)+\s/i,_0x5ef65b=Number(_0x14e1fd[_0x3e580c(0x122)](_0x37b320['event'])[0x0][_0x3e580c(0x212)](0x1)),_0x5d0613=/@([0-9]|\.)+$/i,_0xac8f17=Number(_0x5d0613[_0x3e580c(0x122)](_0x37b320[_0x3e580c(0x223)])[0x0][_0x3e580c(0x212)](0x1));_0x4f476b[_0x3e580c(0x22c)]({'datetime':_0x37b320[_0x3e580c(0x299)],'coin':symbolToCoin(_0x10d5a7),'symbol':_0x10d5a7,'side':_0x290e99,'amount':_0x5ef65b,'filled':_0x5ef65b,'price':_0xac8f17});}),_0x4f476b;}async function getAllOrders(_0xdd1295,_0x46c160){const _0x3b7306=_0x25995a;let _0x2ba3d6=[];while(_0x46c160<exchange[_0x3b7306(0x1e0)]()){const _0xd6fcba=0x1f4;try{const _0x5718c5=await exchange[_0x3b7306(0x161)](_0xdd1295,_0x46c160,_0xd6fcba);if(_0x5718c5[_0x3b7306(0x2a7)])_0x46c160=_0x5718c5[_0x5718c5[_0x3b7306(0x2a7)]-0x1][_0x3b7306(0x267)]+0x1,_0x2ba3d6=_0x2ba3d6[_0x3b7306(0x1b8)](_0x5718c5);else break;}catch(_0x32b66e){await handleError(_0x32b66e,'getAllOrders()',_0xdd1295);}}return _0x2ba3d6;}async function validate24hChanges(){const _0x48655c=_0x25995a;for(const _0x584788 of currentCoins){if(_0x584788['coin']!=config['basecoin']){let _0x496a31;_0x584788[_0x48655c(0x2af)]?_0x496a31=formatResult((0x1/(global[_0x48655c(0x106)][_0x584788[_0x48655c(0x24d)]]/0x64+0x1)-0x1)*0x64,0x3):_0x496a31=global[_0x48655c(0x106)][_0x584788[_0x48655c(0x24d)]],_0x496a31<config[_0x48655c(0x292)]&&(logHistory(_0x48655c(0x1bd),_0x584788[_0x48655c(0x259)]+_0x48655c(0x16f)+_0x496a31+'%'),logHistory('error',_0x48655c(0x11a)),logHistory(_0x48655c(0x1bd),_0x48655c(0x1e6)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x18e881,_0x3dac42){const _0x451704=_0x25995a;if(!_0x18e881)return!![];const _0x5bb260=_0x3dac42[_0x451704(0x15e)]('.'),_0x59b625=_0x18e881[_0x451704(0x15e)]('.');for(var _0x2b35d9=0x0;_0x2b35d9<_0x59b625[_0x451704(0x2a7)];_0x2b35d9++){const _0x59692f=~~_0x59b625[_0x2b35d9],_0x3d6467=~~_0x5bb260[_0x2b35d9];if(_0x59692f<_0x3d6467)return!![];if(_0x59692f>_0x3d6467)return![];}return![];}async function oneTimeMigration(){const _0x58367f=_0x25995a;let _0x3698e0=dbLogs['get'](_0x58367f(0x1d7))[_0x58367f(0x196)]();if(isOlderVersion(_0x3698e0,_0x58367f(0x133))){let _0x138df8=[];const _0x54e621=dbLogs[_0x58367f(0x186)](_0x58367f(0x19e))[_0x58367f(0x196)]();_0x54e621[_0x58367f(0x1c1)](_0x3e0c53=>{const _0x904a5=_0x58367f;_0x138df8[_0x904a5(0x22c)]({'time':_0x3e0c53[_0x904a5(0x299)],'type':_0x3e0c53[_0x904a5(0x265)],'event':_0x3e0c53[_0x904a5(0x223)]});}),dbLogs[_0x58367f(0x186)](_0x58367f(0x19e))[_0x58367f(0x143)](_0x138df8)[_0x58367f(0x113)]();}let _0x449e0f=dbConfig['get']('version')[_0x58367f(0x196)]();if(isOlderVersion(_0x449e0f,'2.3.5')){let _0x50164c=dbConfig[_0x58367f(0x186)](_0x58367f(0x227))[_0x58367f(0x205)]({'botID':botID})['value']();if(_0x50164c){let _0x3888d0=[];_0x50164c[_0x58367f(0x175)][_0x58367f(0x1c1)](_0x5ea039=>{const _0x49671e=_0x58367f;_0x3888d0[_0x49671e(0x22c)]({'coin':_0x5ea039[_0x49671e(0x259)],'number':_0x5ea039[_0x49671e(0x1e3)],'price':_0x5ea039[_0x49671e(0x2a0)]}),delete _0x5ea039[_0x49671e(0x1e3)],delete _0x5ea039[_0x49671e(0x2a0)];});if(_0x3888d0[_0x58367f(0x2a7)]!==0x0)fs[_0x58367f(0x1a9)](configbackuppath+(_0x58367f(0x16c)+botID+_0x58367f(0x21e)),JSON[_0x58367f(0x2b9)](_0x3888d0,null,0x4),function(_0x2b75d9){if(_0x2b75d9){}});const _0x420ff4=(_0x1803fd,_0x182068)=>{const _0x34b390=_0x58367f;let _0x15ed7c=[];_0x182068[_0x34b390(0x1c1)](_0x15ec6c=>{const _0x31893d=_0x34b390,_0xcf5863=_0x1803fd[_0x31893d(0x205)](_0x3925e8=>_0x3925e8[_0x31893d(0x259)]==_0x15ec6c['coin']);if(!_0xcf5863)_0x15ed7c[_0x31893d(0x22c)](_0x15ec6c);});let _0xb3395=[];return _0x1803fd[_0x34b390(0x1c1)](_0x105ea5=>{const _0x17c36e=_0x34b390,_0x55aff7=_0x182068[_0x17c36e(0x205)](_0xe7d056=>_0xe7d056[_0x17c36e(0x259)]==_0x105ea5[_0x17c36e(0x259)]);if(!_0x55aff7||_0x55aff7[_0x17c36e(0x1b4)]==0x0&&_0x105ea5[_0x17c36e(0x1b4)]!=0x0)_0xb3395[_0x17c36e(0x22c)](_0x105ea5);}),{'missingDay1':_0x15ed7c,'notInDay2':_0xb3395};},_0x1fca88=dbPerformance['get'](_0x58367f(0x296))[_0x58367f(0x135)]()[_0x58367f(0x196)]();if(_0x1fca88[_0x58367f(0x2a7)]>0x1){const {missingDay1:_0x26f3b0,notInDay2:_0x5d73f7}=_0x420ff4(_0x3888d0,_0x1fca88[0x1]['coins']);_0x3888d0=[..._0x3888d0,..._0x26f3b0],_0x5d73f7['forEach'](_0x218d7f=>{const _0x14556b=_0x58367f;let _0x4c8918=_0x3888d0[_0x14556b(0x231)](_0xf3e2a4=>_0xf3e2a4['coin']==_0x218d7f[_0x14556b(0x259)]);_0x4c8918!=-0x1&&_0x3888d0[_0x14556b(0x120)](_0x4c8918,0x1);});}_0x3888d0['sort']((_0x4e6e9a,_0x182ec2)=>_0x4e6e9a[_0x58367f(0x259)]>_0x182ec2['coin']?0x1:_0x182ec2[_0x58367f(0x259)]>_0x4e6e9a['coin']?-0x1:0x0);let _0x271c3f=[{'date':_0x50164c[_0x58367f(0x1ec)],'changes':_0x3888d0}];_0x1fca88[_0x58367f(0x2a7)]>0x2&&_0x1fca88['forEach']((_0x378c98,_0x485edb)=>{const _0x43129f=_0x58367f;if(_0x485edb>0x0&&_0x485edb<_0x1fca88[_0x43129f(0x2a7)]-0x1){const {missingDay1:_0x3ec999,notInDay2:_0x2b901c}=_0x420ff4(_0x1fca88[_0x485edb][_0x43129f(0x18a)],_0x1fca88[_0x485edb+0x1][_0x43129f(0x18a)]);_0x3888d0=[],(_0x3ec999['length']!=0x0||_0x2b901c['length']!=0x0)&&(_0x3ec999['length']!=0x0&&_0x3888d0['push'](..._0x3ec999),_0x2b901c['length']!=0x0&&(_0x2b901c[_0x43129f(0x1c1)](_0xb7db78=>{const _0x2743ef=_0x43129f;_0xb7db78[_0x2743ef(0x1b4)]=-_0xb7db78['number'];}),_0x3888d0[_0x43129f(0x22c)](..._0x2b901c)),_0x3888d0['sort']((_0x34a7c6,_0x147f3d)=>_0x34a7c6[_0x43129f(0x259)]>_0x147f3d[_0x43129f(0x259)]?0x1:_0x147f3d['coin']>_0x34a7c6[_0x43129f(0x259)]?-0x1:0x0),_0x271c3f[_0x43129f(0x22c)]({'date':_0x1fca88[_0x485edb+0x1][_0x43129f(0x1b3)],'changes':_0x3888d0}));}}),dbConfig['get'](_0x58367f(0x227))[_0x58367f(0x205)]({'botID':botID})[_0x58367f(0x143)]({..._0x50164c,'liquidity':_0x271c3f})[_0x58367f(0x113)]();}}if(isOlderVersion(_0x449e0f,_0x58367f(0x1cb))){let _0x211e70=dbConfig[_0x58367f(0x186)](_0x58367f(0x227))[_0x58367f(0x205)]({'botID':botID})[_0x58367f(0x196)]();if(_0x211e70){const _0xc64442=_0x211e70[_0x58367f(0x22d)],_0x41ecd9=_0xc64442?capitalize(_0xc64442):_0x58367f(0x1ed);dbConfig[_0x58367f(0x186)](_0x58367f(0x227))['find']({'botID':botID})[_0x58367f(0x143)]({'exchange':_0x41ecd9})[_0x58367f(0x113)]();}}let _0x517da4=dbPerformance[_0x58367f(0x186)](_0x58367f(0x1d7))['value']();isOlderVersion(_0x517da4,'2.3.5')&&setStartDatePerformance();let _0x541676=dbCoinResults[_0x58367f(0x186)](_0x58367f(0x1d7))[_0x58367f(0x196)]();if(isOlderVersion(_0x541676,'2.5.0')){let _0x358165=dbCoinResults[_0x58367f(0x186)](_0x58367f(0x18a))[_0x58367f(0x196)]();if(_0x358165[_0x58367f(0x2a7)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x108cf6=_0x25995a;dbConfig['set'](_0x108cf6(0x1d7),serverversion)['write'](),dbPerformance[_0x108cf6(0x170)](_0x108cf6(0x1d7),serverversion)[_0x108cf6(0x113)](),dbLogs[_0x108cf6(0x170)](_0x108cf6(0x1d7),serverversion)[_0x108cf6(0x113)](),dbCoinResults[_0x108cf6(0x170)]('version',serverversion)[_0x108cf6(0x113)]();}function getConfiguration(_0x40e7eb){const _0xcb3329=_0x25995a;let _0x2080cf=dbConfig[_0xcb3329(0x186)](_0xcb3329(0x227))[_0xcb3329(0x205)]({'botID':_0x40e7eb})[_0xcb3329(0x196)]();if(_0x2080cf){let _0x347ffb=![];typeof _0x2080cf[_0xcb3329(0x250)]==_0xcb3329(0x1e2)&&(_0x2080cf={..._0x2080cf,'threshold':Number(_0x2080cf[_0xcb3329(0x250)])},_0x347ffb=!![]),_0x2080cf[_0xcb3329(0x292)]==undefined&&(_0x2080cf={..._0x2080cf,'change24h':-0x14},_0x347ffb=!![]),_0x2080cf['fiat']==undefined&&(_0x2080cf={..._0x2080cf,'fiat':_0xcb3329(0x21a)},_0x347ffb=!![]),_0x2080cf[_0xcb3329(0x249)]==undefined&&(_0x2080cf={..._0x2080cf,'onepagemode':settings[_0xcb3329(0x249)]},_0x347ffb=!![]),_0x2080cf[_0xcb3329(0x283)]==undefined&&(_0x2080cf={..._0x2080cf,'colorscheme':_0xcb3329(0x1a2)},_0x347ffb=!![]),_0x2080cf[_0xcb3329(0x1a3)]==undefined&&(_0x2080cf={..._0x2080cf,'autoliquidity':!![]},_0x347ffb=!![]),_0x2080cf[_0xcb3329(0x109)]==undefined&&(_0x2080cf={..._0x2080cf,'marketcapApi':settings[_0xcb3329(0x109)]?!![]:![]},_0x347ffb=!![]),_0x2080cf['marketcapEnabled']==undefined&&(_0x2080cf={..._0x2080cf,'marketcapEnabled':![]},_0x347ffb=!![]),_0x347ffb&&(_0x2080cf={'botID':_0x2080cf['botID'],'exchange':_0x2080cf[_0xcb3329(0x22d)],'apiKey':_0x2080cf[_0xcb3329(0x191)],'apiSecret':_0x2080cf[_0xcb3329(0x11f)],'apiPassword':_0x2080cf['apiPassword'],'basecoin':_0x2080cf['basecoin'],'botname':_0x2080cf[_0xcb3329(0x252)],'showname':_0x2080cf[_0xcb3329(0x14c)],'threshold':_0x2080cf[_0xcb3329(0x250)],'ordertype':_0x2080cf[_0xcb3329(0x221)],'timeout':_0x2080cf[_0xcb3329(0x255)],'fiat':_0x2080cf[_0xcb3329(0x115)],'startdate':_0x2080cf[_0xcb3329(0x1ec)],'recreate':_0x2080cf['recreate'],'timeshift':_0x2080cf['timeshift'],'onepagemode':_0x2080cf[_0xcb3329(0x249)],'headless':_0x2080cf[_0xcb3329(0x257)],'cooldown':_0x2080cf['cooldown'],'change24h':_0x2080cf['change24h'],'emojibuy':_0x2080cf[_0xcb3329(0x269)],'emojisell':_0x2080cf[_0xcb3329(0x1ff)],'colorscheme':_0x2080cf[_0xcb3329(0x283)],'marketcapApi':_0x2080cf['marketcapApi'],'marketcapEnabled':_0x2080cf[_0xcb3329(0x15d)],'portfolio':_0x2080cf[_0xcb3329(0x175)],'autoliquidity':_0x2080cf['autoliquidity'],'liquidity':_0x2080cf['liquidity'],'openOrders':_0x2080cf[_0xcb3329(0x15a)]},dbConfig[_0xcb3329(0x186)](_0xcb3329(0x227))[_0xcb3329(0x246)]()[_0xcb3329(0x113)](),dbConfig[_0xcb3329(0x186)](_0xcb3329(0x227))[_0xcb3329(0x22c)](_0x2080cf)[_0xcb3329(0x113)]());}else _0x2080cf={'botID':_0x40e7eb,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0xcb3329(0x195)+_0x40e7eb,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0xcb3329(0x21a),'startdate':getDate(),'recreate':![],'timeshift':settings[_0xcb3329(0x15c)],'onepagemode':settings[_0xcb3329(0x249)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0xcb3329(0x1a2),'marketcapApi':settings[_0xcb3329(0x109)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2080cf;}function emittedConfiguration(){const _0x5f3b42=_0x25995a;let _0x738d66;if(config[_0x5f3b42(0x191)]=='')_0x738d66={...config,'configstate':_0x5f3b42(0x110)};else config[_0x5f3b42(0x191)]=='***'?_0x738d66={...config,'configstate':_0x5f3b42(0x150)}:(_0x738d66={...config,'apiKey':_0x5f3b42(0x264),'apiSecret':'************'},config[_0x5f3b42(0x270)]&&(_0x738d66[_0x5f3b42(0x270)]=_0x5f3b42(0x264)));return _0x738d66;}function getSettings(){const _0xdc2f69=_0x25995a;return dbSettings[_0xdc2f69(0x186)](_0xdc2f69(0x119))[_0xdc2f69(0x196)]();}function getSecure(){const _0x1ea0e6=_0x25995a;return dbSecure[_0x1ea0e6(0x186)](_0x1ea0e6(0x23d))[_0x1ea0e6(0x196)]()||{};}function updateTimeshift(_0x10b64a){const _0x54f592=_0x25995a;let _0x227d13=dbConfig[_0x54f592(0x186)]('bot')['find']({'botID':botID})[_0x54f592(0x196)]();_0x227d13&&dbConfig[_0x54f592(0x186)](_0x54f592(0x227))[_0x54f592(0x205)]({'botID':botID})[_0x54f592(0x143)]({'timeshift':_0x10b64a})[_0x54f592(0x113)](),config[_0x54f592(0x15c)]=_0x10b64a,proxyEmit(_0x54f592(0x26c),emittedConfiguration());}function updateOnepagemode(_0x35b06c){const _0x6017d4=_0x25995a;let _0x354521=dbConfig[_0x6017d4(0x186)](_0x6017d4(0x227))['find']({'botID':botID})[_0x6017d4(0x196)]();_0x354521&&dbConfig[_0x6017d4(0x186)]('bot')[_0x6017d4(0x205)]({'botID':botID})['assign']({'onepagemode':_0x35b06c})[_0x6017d4(0x113)](),config['onepagemode']=_0x35b06c,proxyEmit(_0x6017d4(0x26c),emittedConfiguration());}function updateMarketcapApi(_0x4ca6da){const _0x587a02=_0x25995a,_0x3b5a3b=_0x4ca6da?!![]:![];let _0x53524d=dbConfig[_0x587a02(0x186)](_0x587a02(0x227))['find']({'botID':botID})['value']();_0x53524d&&dbConfig[_0x587a02(0x186)](_0x587a02(0x227))[_0x587a02(0x205)]({'botID':botID})[_0x587a02(0x143)]({'marketcapApi':_0x3b5a3b})[_0x587a02(0x113)](),config[_0x587a02(0x109)]=_0x3b5a3b,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x1acad6){const _0x4d80fb=_0x25995a;logger[_0x4d80fb(0x1b9)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x4d80fb(0x1b9)](_0x4d80fb(0x1fd));let _0x178e4c=![],_0x28a53e=![],_0x2b472c=[];_0x1acad6[_0x4d80fb(0x175)]['forEach'](_0x45dac9=>{const _0x52d552=_0x4d80fb;if(!_0x45dac9['excluded']&&_0x45dac9[_0x52d552(0x259)]!=_0x1acad6[_0x52d552(0x111)])_0x2b472c[_0x52d552(0x22c)](_0x45dac9[_0x52d552(0x24d)]);}),_0x2b472c[_0x4d80fb(0x1c1)](_0x1f888d=>{const _0x211a4e=currentCoins['find'](_0x38b50b=>_0x38b50b['symbol']==_0x1f888d);!_0x211a4e&&(_0x178e4c=!![]);}),currentCoins[_0x4d80fb(0x1c1)](_0x12f7f9=>{const _0x445330=_0x4d80fb;if(_0x12f7f9[_0x445330(0x259)]!=config[_0x445330(0x111)]){const _0x183ef1=_0x2b472c['find'](_0x10cf9d=>_0x10cf9d==_0x12f7f9[_0x445330(0x24d)]);!_0x183ef1&&(_0x178e4c=!![]);}}),_0x1acad6['portfolio'][_0x4d80fb(0x1c1)](_0xfe662a=>{const _0x438d05=_0x4d80fb,_0x4cca18=config['portfolio'][_0x438d05(0x205)](_0x44a1f4=>_0x44a1f4[_0x438d05(0x259)]==_0xfe662a[_0x438d05(0x259)]);if(_0x4cca18&&_0xfe662a[_0x438d05(0x108)]!=_0x4cca18[_0x438d05(0x108)])_0x28a53e=!![];});let _0xab3b17=dbConfig['get'](_0x4d80fb(0x227))[_0x4d80fb(0x205)]({'botID':botID})['value']();_0x1acad6={..._0x1acad6,'apiKey':crypt[_0x4d80fb(0x263)](secure[_0x4d80fb(0x284)],_0x1acad6[_0x4d80fb(0x191)])[_0x4d80fb(0x12a)],'apiSecret':crypt[_0x4d80fb(0x263)](secure[_0x4d80fb(0x284)],_0x1acad6[_0x4d80fb(0x11f)])['message']};_0x1acad6[_0x4d80fb(0x270)]&&(_0x1acad6[_0x4d80fb(0x270)]=crypt['decrypt'](secure[_0x4d80fb(0x284)],_0x1acad6[_0x4d80fb(0x270)])[_0x4d80fb(0x12a)]);let _0x48d1bd=![];if(_0xab3b17){_0x1acad6[_0x4d80fb(0x191)]==_0x4d80fb(0x264)?_0x1acad6['apiKey']=config[_0x4d80fb(0x191)]:_0x48d1bd=!![];_0x1acad6[_0x4d80fb(0x11f)]==_0x4d80fb(0x264)?_0x1acad6[_0x4d80fb(0x11f)]=config[_0x4d80fb(0x11f)]:_0x48d1bd=!![];if(_0x1acad6[_0x4d80fb(0x270)]=='************')_0x1acad6[_0x4d80fb(0x270)]=config[_0x4d80fb(0x270)];else{if(_0x1acad6[_0x4d80fb(0x270)])_0x48d1bd=!![];}dbConfig[_0x4d80fb(0x186)]('bot')[_0x4d80fb(0x205)]({'botID':botID})['assign'](_0x1acad6)[_0x4d80fb(0x113)]();}else dbConfig[_0x4d80fb(0x186)](_0x4d80fb(0x227))[_0x4d80fb(0x22c)](_0x1acad6)['write'](),_0x48d1bd=!![],process[_0x4d80fb(0x1e9)]({'status':'enabled','live':'running'},_0x869947=>{});process[_0x4d80fb(0x1e9)]({'botname':_0x1acad6['botname']},_0x97f70f=>{}),config={..._0x1acad6},updateBotManager(),proxyEmit(_0x4d80fb(0x22b)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x48d1bd)await reset(!![]);else _0x178e4c||_0x28a53e?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x4d80fb(0x1b9)](_0x4d80fb(0x210));}async function storeHeadless(_0x191858){const _0x5d5e99=_0x25995a,_0x38a468={...config,'headless':_0x191858[_0x5d5e99(0x257)]};let _0x399ad4=dbConfig[_0x5d5e99(0x186)]('bot')[_0x5d5e99(0x205)]({'botID':botID})[_0x5d5e99(0x196)]();_0x399ad4&&dbConfig[_0x5d5e99(0x186)](_0x5d5e99(0x227))[_0x5d5e99(0x205)]({'botID':botID})[_0x5d5e99(0x143)](_0x38a468)[_0x5d5e99(0x113)](),config={..._0x38a468},updateBotManager(),proxyEmit(_0x5d5e99(0x26c),emittedConfiguration());}async function storeFiat(_0x3c45b7){const _0x57ffe6=_0x25995a,_0x4c72e6={...config,'fiat':_0x3c45b7};let _0x3c5c31=dbConfig['get'](_0x57ffe6(0x227))[_0x57ffe6(0x205)]({'botID':botID})[_0x57ffe6(0x196)]();_0x3c5c31&&dbConfig[_0x57ffe6(0x186)](_0x57ffe6(0x227))['find']({'botID':botID})[_0x57ffe6(0x143)](_0x4c72e6)['write'](),config={..._0x4c72e6},proxyEmit(_0x57ffe6(0x26c),emittedConfiguration());}function resetHistory(){const _0x2c2fbf=_0x25995a;logger[_0x2c2fbf(0x13e)]('Resetting\x20bot\x20history');try{if(fs[_0x2c2fbf(0x21c)](path['join'](configpath,_0x2c2fbf(0x1a6)+botID+_0x2c2fbf(0x151))))fs[_0x2c2fbf(0x1d0)](path['join'](configpath,_0x2c2fbf(0x1a6)+botID+_0x2c2fbf(0x151)));if(fs['existsSync'](path['join'](configpath,_0x2c2fbf(0x1a6)+botID+_0x2c2fbf(0x179))))fs[_0x2c2fbf(0x1d0)](path[_0x2c2fbf(0x194)](configpath,'bot-'+botID+_0x2c2fbf(0x179)));if(fs[_0x2c2fbf(0x21c)](path['join'](configpath,'bot-'+botID+'-results.json')))fs['unlinkSync'](path[_0x2c2fbf(0x194)](configpath,_0x2c2fbf(0x1a6)+botID+'-results.json'));}catch(_0x417512){if(_0x417512)logger[_0x2c2fbf(0x13e)](_0x2c2fbf(0x29b),_0x417512);}const _0x66c4bc=getDate();let _0x261af8=[];currentCoins[_0x2c2fbf(0x1c1)](_0x395685=>{const _0x1b5581=_0x2c2fbf;_0x261af8['push']({'coin':_0x395685[_0x1b5581(0x259)],'number':_0x395685['number'],'price':_0x395685[_0x1b5581(0x152)]});});let _0x34215d=dbConfig[_0x2c2fbf(0x186)]('bot')[_0x2c2fbf(0x205)]({'botID':botID})['value']();_0x34215d&&(dbConfig[_0x2c2fbf(0x186)](_0x2c2fbf(0x227))[_0x2c2fbf(0x205)]({'botID':botID})['assign']({'liquidity':[{'date':_0x66c4bc,'changes':_0x261af8}]})[_0x2c2fbf(0x113)](),config[_0x2c2fbf(0x10c)]=[]),process[_0x2c2fbf(0x1e9)]({'stop':_0x2c2fbf(0x2b0)},_0x4b0ae4=>{});}function noslash(_0x1ae8c3){return _0x1ae8c3['replace']('/','');}function updateHighestFee(_0xf0a788){const _0x3bc27c=_0x25995a;if(_0xf0a788['reverse']){let _0x5ca4a9={'filled':_0xf0a788[_0x3bc27c(0x17b)]*_0xf0a788[_0x3bc27c(0x20a)],'amount':_0xf0a788[_0x3bc27c(0x17b)]*_0xf0a788[_0x3bc27c(0x20a)],'side':_0xf0a788[_0x3bc27c(0x155)]==_0x3bc27c(0x26d)?'buy':_0x3bc27c(0x26d),'price':0x1/_0xf0a788[_0x3bc27c(0x20a)]};_0xf0a788={..._0xf0a788,..._0x5ca4a9};}const _0x1671e7=defaultFee*_0xf0a788[_0x3bc27c(0x17b)]*_0xf0a788['price'];lastFees[_0x3bc27c(0x224)]['length']===0x14&&lastFees['recent20'][_0x3bc27c(0x169)](),lastFees[_0x3bc27c(0x224)][_0x3bc27c(0x22c)](_0x1671e7),lastFees[_0x3bc27c(0x1d3)]=Math[_0x3bc27c(0x1f0)](...lastFees[_0x3bc27c(0x224)]);}async function updateNumberCoinsCcxt(_0x4e0b00){const _0xc7300e=_0x25995a;logger[_0xc7300e(0x1b9)]('0\x20-\x20EXECUTION:\x20'+_0x4e0b00[_0xc7300e(0x24d)]+'\x20|\x20'+_0x4e0b00[_0xc7300e(0x204)]+_0xc7300e(0x214)+_0x4e0b00[_0xc7300e(0x17b)]+'\x20/\x20'+_0x4e0b00['amount']+_0xc7300e(0x214)+_0x4e0b00['id']);let _0x390bdf=_0x4e0b00['status'],_0x573b12=![];currentCoins[_0xc7300e(0x1c1)](_0x23584e=>{const _0x51d50e=_0xc7300e;_0x23584e[_0x51d50e(0x24d)]==_0x4e0b00['symbol']&&(_0x573b12=!![]);});if(!_0x573b12)return;const _0x5c43c7=currentCoins[_0xc7300e(0x205)](_0x4f462b=>_0x4f462b[_0xc7300e(0x24d)]==_0x4e0b00['symbol']),_0x130ade=_0x17922e=>{const _0xfe99f7=_0xc7300e;if(_0x5c43c7)_0x5c43c7[_0xfe99f7(0x233)]=_0x17922e;};if(_0x390bdf==_0xc7300e(0x294))_0x130ade('open');else{if(_0x390bdf=='canceled'){_0x130ade(_0xc7300e(0x256));const _0x117a78=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x117a78,await getOpenOrders(),handleOpenOrders();}else{if(_0x390bdf==_0xc7300e(0x124)){let _0x198bad=![];if(lastOrders)for(const _0x4af679 of lastOrders){const _0x17ff95=0xc8,_0x23a9e1=0x1388;let _0x3996a6=0x0;while(!_0x4af679[_0xc7300e(0x2a2)]&&_0x3996a6*_0x17ff95<_0x23a9e1){_0x3996a6++,await sleep(_0x17ff95);}if(_0x3996a6>0x0)logger[_0xc7300e(0x1b9)](_0xc7300e(0x225)+_0x3996a6*_0x17ff95/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x4af679[_0xc7300e(0x2a2)]==_0x4e0b00['id']){logger['debug'](_0xc7300e(0x172)+_0x4e0b00['id']),_0x198bad=!![];if(_0x4af679['filled']==0x0){logger[_0xc7300e(0x1b9)](_0xc7300e(0x1b1)+_0x4e0b00['id']);if(_0x4e0b00[_0xc7300e(0x266)])_0x4af679[_0xc7300e(0x20a)]=_0x4e0b00[_0xc7300e(0x266)];else{if(_0x4e0b00[_0xc7300e(0x20a)])_0x4af679[_0xc7300e(0x20a)]=_0x4e0b00[_0xc7300e(0x20a)];else{}}_0x4af679[_0xc7300e(0x17b)]=_0x4e0b00[_0xc7300e(0x17b)],updateHighestFee(_0x4af679),_0x130ade('filled'),await validateOrders();if(lockOrders==ORDERS[_0xc7300e(0x28f)]){const _0x226ad2=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x226ad2;}_0x4af679[_0xc7300e(0x12e)]={'currency':_0x4e0b00[_0xc7300e(0x12e)]?_0x4e0b00[_0xc7300e(0x12e)]['currency']:null,'cost':_0x4e0b00[_0xc7300e(0x12e)]?_0x4e0b00[_0xc7300e(0x12e)]['cost']:0x0},await updateCoinResults(_0x4af679);}}}if(!_0x198bad){logger[_0xc7300e(0x1b9)](_0xc7300e(0x285)+_0x4e0b00['id']),_0x130ade(_0xc7300e(0x17b));const _0x29e484=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x29e484,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x2f7680=JSON['parse'](lastBalances['portfolio']);const _0x16d791=_0x2f7680[_0xc7300e(0x205)](_0xb34cfd=>_0xb34cfd[_0xc7300e(0x24d)]==_0x4e0b00[_0xc7300e(0x24d)]);if(_0x16d791){if(_0x390bdf==_0xc7300e(0x294))_0x16d791['orderstatus']=_0x16d791['orderstatus']==_0xc7300e(0x17b)?'filled':'open';else{if(_0x390bdf==_0xc7300e(0x256))_0x16d791['orderstatus']=_0x16d791[_0xc7300e(0x233)]=='filled'?_0xc7300e(0x17b):_0xc7300e(0x256);else _0x390bdf==_0xc7300e(0x124)&&(_0x16d791['orderstatus']=_0xc7300e(0x17b));}}lastBalances={...lastBalances,'portfolio':JSON[_0xc7300e(0x2b9)](_0x2f7680)},proxyEmit(_0xc7300e(0x1c5),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x1a0a32=![];currentCoins['forEach'](_0x4bcb0c=>{const _0x2a15b1=_0x50ad;_0x1a0a32=allOpenOrders['find'](_0x28f747=>_0x28f747[_0x2a15b1(0x24d)]==_0x4bcb0c[_0x2a15b1(0x24d)]),_0x4bcb0c[_0x2a15b1(0x233)]=_0x1a0a32?_0x2a15b1(0x294):_0x2a15b1(0x137);});}async function getCoins(_0xd2e5e9=0x0,_0x1a9c6a=!![],_0x5dda52=config['basecoin']){const _0x42acdf=_0x25995a;let _0x530209,_0x30f05f=[],_0x1bdf67=[],_0x5de9d8=[];if(_0xd2e5e9)await sleep(_0xd2e5e9);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x530209=await exchange[_0x42acdf(0x1cf)](),mybalances=_0x530209[_0x42acdf(0x149)];for(const [_0x25db96,_0x3dc332]of Object[_0x42acdf(0x22f)](mybalances)){_0x5de9d8[_0x42acdf(0x22c)](_0x25db96);}config[_0x42acdf(0x175)]['forEach'](_0x135da5=>{const _0x434042=_0x42acdf;!_0x5de9d8[_0x434042(0x12f)](_0x135da5[_0x434042(0x259)])&&(mybalances[_0x135da5[_0x434042(0x259)]]=0x0);});if(_0x5dda52=='')for(const [_0xf6cf57,_0x18f4f7]of Object[_0x42acdf(0x22f)](mybalances)){_0x18f4f7!=0x0&&_0x30f05f[_0x42acdf(0x22c)]({'coin':_0xf6cf57});}else for(const [_0x47d2e1,_0x135f21]of Object[_0x42acdf(0x22f)](mybalances)){const _0x5c04d0=config[_0x42acdf(0x175)]['find'](_0xdbb792=>_0xdbb792['coin']==_0x47d2e1),_0xbfff51=_0x47d2e1+'/'+_0x5dda52,_0x32e47d=_0x5dda52+'/'+_0x47d2e1,_0x423cce=currentCoins[_0x42acdf(0x205)](_0x370860=>_0x370860['coin']==_0x47d2e1);if((_0x135f21!=0x0||_0x5c04d0)&&(allSymbols[_0x42acdf(0x12f)](_0xbfff51)||_0x47d2e1==_0x5dda52))_0x423cce?_0x30f05f[_0x42acdf(0x22c)]({..._0x423cce,'number':Math[_0x42acdf(0x1f0)](_0x135f21+(_0x5c04d0&&_0x5c04d0[_0x42acdf(0x108)]||0x0),0x0)}):_0x30f05f['push']({'coin':_0x47d2e1,'symbol':_0xbfff51,'reverse':![],'number':Math[_0x42acdf(0x1f0)](_0x135f21+(_0x5c04d0&&_0x5c04d0[_0x42acdf(0x108)]||0x0),0x0),'orderstatus':_0x42acdf(0x137)});else{if((_0x135f21!=0x0||_0x5c04d0)&&allSymbols[_0x42acdf(0x12f)](_0x32e47d))_0x423cce?_0x30f05f[_0x42acdf(0x22c)]({..._0x423cce,'number':Math[_0x42acdf(0x1f0)](_0x135f21+(_0x5c04d0&&_0x5c04d0[_0x42acdf(0x108)]||0x0),0x0)}):_0x30f05f['push']({'coin':_0x47d2e1,'symbol':_0x32e47d,'reverse':!![],'number':Math[_0x42acdf(0x1f0)](_0x135f21+(_0x5c04d0&&_0x5c04d0['offset']||0x0),0x0),'orderstatus':_0x42acdf(0x137)});else _0x5c04d0&&_0x30f05f['push']({'coin':_0x5c04d0[_0x42acdf(0x259)],'symbol':_0x5c04d0['symbol'],'reverse':_0x5c04d0[_0x42acdf(0x2af)],'number':0x0,'orderstatus':_0x42acdf(0x137)});}}}catch(_0x8af7cd){if(!_0x1a9c6a)handleErrorNoStop(_0x8af7cd,'getCoins()');else await handleError(_0x8af7cd,'getCoins()');}return _0x30f05f['sort']((_0x1f95cd,_0x3cc88e)=>_0x1f95cd['delta']<_0x3cc88e[_0x42acdf(0x1f3)]?0x1:_0x3cc88e['delta']<_0x1f95cd[_0x42acdf(0x1f3)]?-0x1:0x0),_0x1bdf67=cloneDeep(_0x30f05f),_0x30f05f=_0x30f05f[_0x42acdf(0x262)](_0x33ca79=>{const _0x192d50=_0x42acdf,_0x5a5721=config[_0x192d50(0x175)][_0x192d50(0x205)](_0xc4efe1=>_0xc4efe1[_0x192d50(0x259)]==_0x33ca79[_0x192d50(0x259)]);return _0x5a5721&&!_0x5a5721[_0x192d50(0x211)];}),[_0x30f05f,_0x1bdf67];}async function getCoinNumber(_0x1ba28a){const _0x374b0d=_0x25995a;let _0x3c6c5d;try{const _0xc1e039=await exchange[_0x374b0d(0x1cf)]();_0x3c6c5d=_0xc1e039[_0x374b0d(0x149)][_0x1ba28a];}catch(_0x2439b3){await handleError(_0x2439b3,_0x374b0d(0x181));}return _0x3c6c5d;}async function getOpenOrders(){const _0x2bdbc8=_0x25995a;let _0x592556;allOpenOrders=[];try{for(const _0x35b850 of config[_0x2bdbc8(0x175)]){!_0x35b850[_0x2bdbc8(0x211)]&&_0x35b850['coin']!=config[_0x2bdbc8(0x111)]&&(_0x592556=await exchange[_0x2bdbc8(0x219)](_0x35b850[_0x2bdbc8(0x24d)]),_0x592556['length']>0x0&&allOpenOrders[_0x2bdbc8(0x22c)](_0x592556[0x0]));}}catch(_0x5a5606){await handleError(_0x5a5606,_0x2bdbc8(0x14d));}}async function handleOpenOrders(_0x100007=0x0){const _0x5248e3=_0x25995a;allOpenOrders[_0x5248e3(0x2a7)]==0x0&&lockOrders==ORDERS[_0x5248e3(0x28f)]&&allOrdersPlaced&&(_0x100007==0x0?(logger[_0x5248e3(0x1b9)](_0x5248e3(0x1e1)),_0x100007++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x5248e3(0x1ea)),validateOrders(_0x5248e3(0x129))));}async function testAPI(_0x63629f){const _0x1b647b=_0x25995a,_0x16bfcf=ccxt['pro'][_0x63629f['exchange']['toLowerCase']()],_0x52fad5=new _0x16bfcf({'apiKey':_0x63629f[_0x1b647b(0x191)],'secret':_0x63629f['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x1b647b(0x21b)}});if(_0x63629f[_0x1b647b(0x270)])_0x52fad5[_0x1b647b(0x261)]=_0x63629f[_0x1b647b(0x270)];try{await _0x52fad5['loadMarkets']();}catch(_0x743c19){throw _0x743c19;}}function cloneDeep(_0x5cbcbc){const _0x11454f=_0x25995a;return JSON[_0x11454f(0x260)](JSON['stringify'](_0x5cbcbc));}async function getPortfolio(_0x539e26){const _0x290051=_0x25995a;let _0x3fc9f9=[],_0x1bdf73=[],_0x407052=[],_0x23a331;if(_0x539e26[_0x290051(0x191)]!==_0x290051(0x264)||_0x539e26[_0x290051(0x11f)]!==_0x290051(0x264)||_0x539e26[_0x290051(0x270)]&&_0x539e26[_0x290051(0x270)]!==_0x290051(0x264)){if(config[_0x290051(0x22d)]){if(_0x539e26['apiKey']=='************')_0x539e26[_0x290051(0x191)]=config[_0x290051(0x191)];if(_0x539e26[_0x290051(0x11f)]=='************')_0x539e26[_0x290051(0x11f)]=config[_0x290051(0x11f)];if(_0x539e26['apiPassword']==_0x290051(0x264))_0x539e26['apiPassword']=config[_0x290051(0x270)];try{await testAPI(_0x539e26);}catch(_0x1f5664){if(_0x1f5664[_0x290051(0x18b)]()['includes'](_0x290051(0x25a))){logger[_0x290051(0x1b9)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x290051(0x175),![]);return;}else{handleError(_0x1f5664,_0x290051(0x17c));return;}}}await initExchange(_0x539e26[_0x290051(0x22d)],_0x539e26[_0x290051(0x191)],_0x539e26[_0x290051(0x11f)],_0x539e26[_0x290051(0x270)]);try{await loadSymbols();}catch(_0x13bdf1){if(_0x13bdf1[_0x290051(0x18b)]()[_0x290051(0x12f)](_0x290051(0x25a))){proxyEmit(_0x290051(0x175),![]);return;}else{handleError(_0x13bdf1,_0x290051(0x14a));return;}}const _0x38e3b8=await getCoins(0x0,![],_0x539e26[_0x290051(0x111)]);_0x407052=cloneDeep(_0x38e3b8[0x1]);}else{const _0x1ae16a=await getCoins();_0x407052=cloneDeep(_0x1ae16a[0x1]);}if(_0x539e26[_0x290051(0x111)]=='')proxyEmit(_0x290051(0x175),_0x407052);else{_0x407052[_0x290051(0x1c1)](_0x4a0c11=>{const _0x10519b=_0x290051;if(_0x4a0c11[_0x10519b(0x259)]!=_0x539e26[_0x10519b(0x111)]&&allSymbols[_0x10519b(0x12f)](_0x4a0c11[_0x10519b(0x24d)]))_0x3fc9f9['push'](_0x4a0c11[_0x10519b(0x24d)]);});if(_0x3fc9f9[_0x290051(0x2a7)]==0x0)logHistory(_0x290051(0x1bd),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x1bdf73=await getTickers(_0x3fc9f9);}catch(_0x252723){if(_0x252723[_0x290051(0x18b)]()['includes'](_0x290051(0x25a))){proxyEmit('portfolio',![]);return;}else handleError(_0x252723,_0x290051(0x138));}_0x407052[_0x290051(0x1c1)](_0x4bec97=>{const _0xcae56b=_0x290051;_0x4bec97[_0xcae56b(0x259)]!=_0x539e26['basecoin']?_0x1bdf73[_0x4bec97[_0xcae56b(0x24d)]]?_0x23a331=_0x4bec97['reverse']?0x1/_0x1bdf73[_0x4bec97[_0xcae56b(0x24d)]][_0xcae56b(0x152)]:_0x1bdf73[_0x4bec97[_0xcae56b(0x24d)]][_0xcae56b(0x152)]:_0x23a331=0x0:_0x23a331=0x1,_0x4bec97[_0xcae56b(0x20a)]=formatResult(_0x23a331,0x8);}),await getMarketCap(_0x407052),proxyEmit(_0x290051(0x175),_0x407052);}}}function truncateTradeAmount(_0xbacc5f,_0x1913ed){let _0x4fa92e=0x0;try{_0x4fa92e=exchange['amountToPrecision'](_0xbacc5f,_0x1913ed);}catch(_0x5934f1){}return _0x4fa92e;}function checkMinimums(_0x55d5e3){const _0x1a0e0a=_0x25995a;let _0x650b63=!![];const _0x7c4e77=!_0x55d5e3[_0x1a0e0a(0x2af)]?markets[_0x55d5e3[_0x1a0e0a(0x24d)]]['limits'][_0x1a0e0a(0x2ac)]['min']:markets[_0x55d5e3[_0x1a0e0a(0x24d)]][_0x1a0e0a(0x288)]['cost'][_0x1a0e0a(0x1ca)],_0x555f68=!_0x55d5e3[_0x1a0e0a(0x2af)]?markets[_0x55d5e3[_0x1a0e0a(0x24d)]][_0x1a0e0a(0x288)][_0x1a0e0a(0x28c)][_0x1a0e0a(0x1ca)]:markets[_0x55d5e3['symbol']][_0x1a0e0a(0x288)][_0x1a0e0a(0x2ac)]['min'],_0x2d9f67=truncateTradeAmount(_0x55d5e3['symbol'],_0x55d5e3[_0x1a0e0a(0x192)]);_0x55d5e3[_0x1a0e0a(0x192)]=_0x2d9f67;if(Math[_0x1a0e0a(0x1bb)](_0x2d9f67)<_0x7c4e77)_0x650b63=![];if(Math[_0x1a0e0a(0x1bb)](_0x2d9f67)*_0x55d5e3['last']<_0x555f68)_0x650b63=![];if(_0x55d5e3['side']==_0x1a0e0a(0x26d)){let _0x57bf01=config[_0x1a0e0a(0x175)][_0x1a0e0a(0x205)](_0x1b9f50=>_0x1b9f50[_0x1a0e0a(0x259)]==_0x55d5e3[_0x1a0e0a(0x259)]);if(_0x57bf01['offset']>0x0){if(Math[_0x1a0e0a(0x1bb)](_0x2d9f67)>_0x55d5e3[_0x1a0e0a(0x1b4)]-_0x57bf01[_0x1a0e0a(0x108)])_0x650b63=![];}else{if(Math[_0x1a0e0a(0x1bb)](_0x2d9f67)>_0x55d5e3['number'])_0x650b63=![];}}if(_0x55d5e3[_0x1a0e0a(0x155)]==_0x1a0e0a(0x1f4)){let _0x1f6e36=config[_0x1a0e0a(0x175)][_0x1a0e0a(0x205)](_0x48d3b4=>_0x48d3b4['coin']==config[_0x1a0e0a(0x111)]),_0x343d1e=currentCoins['find'](_0x52c6bb=>_0x52c6bb['coin']==config[_0x1a0e0a(0x111)]);if(_0x1f6e36[_0x1a0e0a(0x108)]>0x0){if(Math[_0x1a0e0a(0x1bb)](_0x2d9f67)*_0x55d5e3[_0x1a0e0a(0x152)]>_0x343d1e[_0x1a0e0a(0x1b4)]-_0x1f6e36[_0x1a0e0a(0x108)])_0x650b63=![];}else{if(Math['abs'](_0x2d9f67)*_0x55d5e3['last']>_0x343d1e[_0x1a0e0a(0x1b4)])_0x650b63=![];}}return _0x650b63;}async function getBalances(_0x1f2de2=!![]){const _0x2a22ab=_0x25995a;let _0x11ffb9=0x0,_0x53014a;const _0x3f71f2=config[_0x2a22ab(0x250)];if(config[_0x2a22ab(0x257)]&&config[_0x2a22ab(0x292)]<0x0)await validate24hChanges();currentCoins[_0x2a22ab(0x1c1)](_0x3bca7c=>{const _0x30337b=_0x2a22ab;if(_0x3bca7c[_0x30337b(0x259)]!=config[_0x30337b(0x111)]){let _0x36006c=global[_0x30337b(0x2ad)][noslash(_0x3bca7c[_0x30337b(0x24d)])];_0x53014a=_0x3bca7c[_0x30337b(0x2af)]?0x1/_0x36006c:_0x36006c;}else _0x53014a=0x1;let _0x2021a3=_0x3bca7c[_0x30337b(0x1b4)]*_0x53014a;_0x11ffb9+=_0x2021a3,_0x3bca7c[_0x30337b(0x152)]=formatResult(Number(_0x53014a),0x8),_0x3bca7c['value']=_0x2021a3;}),currentCoins[_0x2a22ab(0x1c1)](_0x590ebe=>{const _0x5aa4c7=_0x2a22ab;let _0x44557c=config[_0x5aa4c7(0x175)]['find'](_0x130e8f=>_0x130e8f['coin']==_0x590ebe[_0x5aa4c7(0x259)]),_0x228f36=Number(_0x44557c['distribution']),_0x5d8a63=_0x590ebe[_0x5aa4c7(0x196)]/_0x11ffb9*0x64,_0x45f39d=_0x228f36*_0x11ffb9/0x64/_0x590ebe[_0x5aa4c7(0x152)]-_0x590ebe[_0x5aa4c7(0x1b4)];_0x590ebe[_0x5aa4c7(0x1fc)]=formatResult(_0x5d8a63,0x3),_0x590ebe['target']=formatResult(_0x228f36,0x3),_0x590ebe[_0x5aa4c7(0x192)]=formatResult(_0x45f39d,0x8),_0x590ebe['side']='',_0x590ebe[_0x5aa4c7(0x295)]=![];if(_0x590ebe['coin']!=config['basecoin']){if(_0x590ebe[_0x5aa4c7(0x1fc)]>_0x228f36)_0x590ebe['side']='sell',_0x590ebe[_0x5aa4c7(0x295)]=checkMinimums(_0x590ebe);else _0x590ebe[_0x5aa4c7(0x1fc)]<_0x228f36&&(_0x590ebe[_0x5aa4c7(0x155)]=_0x5aa4c7(0x1f4),_0x590ebe[_0x5aa4c7(0x295)]=checkMinimums(_0x590ebe));}_0x590ebe[_0x5aa4c7(0x1f3)]=_0x590ebe[_0x5aa4c7(0x1fc)]/_0x590ebe[_0x5aa4c7(0x213)]-0x1;if(_0x590ebe[_0x5aa4c7(0x233)]==_0x5aa4c7(0x17b)||_0x590ebe[_0x5aa4c7(0x233)]=='canceled')_0x590ebe[_0x5aa4c7(0x233)]=_0x5aa4c7(0x137);}),currentCoins[_0x2a22ab(0x178)]((_0x297542,_0x20f6bb)=>_0x297542[_0x2a22ab(0x1f3)]<_0x20f6bb['delta']?0x1:_0x20f6bb['delta']<_0x297542[_0x2a22ab(0x1f3)]?-0x1:0x0);const _0x645348=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x645348[_0x2a22ab(0x26b)],'usd':_0x645348['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x3f71f2},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x1f2de2){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x3f71f2});else{if(lockOrders==ORDERS[_0x2a22ab(0x29f)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3f71f2});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x266fff=getNormalizedPerformance();getStartingBalances(_0x266fff),emitPerformance(_0x266fff);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x1cce80=getNormalizedPerformance();emitPerformance(_0x1cce80),getStartingBalances(_0x1cce80),logger['debug'](_0x2a22ab(0x1ee));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3435b9=_0x25995a;if(!lastBalances)return;let _0x1d5429=[],_0x31f463,_0x34b5b=JSON[_0x3435b9(0x260)](lastBalances['portfolio']);_0x34b5b[_0x3435b9(0x178)]((_0x401874,_0x1ed93c)=>_0x401874['coin']>_0x1ed93c['coin']?0x1:_0x1ed93c['coin']>_0x401874[_0x3435b9(0x259)]?-0x1:0x0),_0x34b5b[_0x3435b9(0x1c1)](_0x42db5d=>{const _0x3b0162=_0x3435b9;let _0x37410b={'coin':_0x42db5d[_0x3b0162(0x259)],'number':_0x42db5d[_0x3b0162(0x1b4)],'price':_0x42db5d[_0x3b0162(0x152)]};_0x1d5429[_0x3b0162(0x22c)](_0x37410b);});const _0x30ebc3=await getFiat();_0x31f463={'date':lastBalances[_0x3435b9(0x299)][_0x3435b9(0x15e)]('\x20')[0x0],'eur':_0x30ebc3[_0x3435b9(0x26b)],'usd':_0x30ebc3['usd'],'coins':_0x1d5429};let _0x2fa872=dbPerformance[_0x3435b9(0x186)](_0x3435b9(0x296))[_0x3435b9(0x205)]({'date':_0x31f463['date']})[_0x3435b9(0x196)]();_0x2fa872?_0x31f463[_0x3435b9(0x1b3)]!=config[_0x3435b9(0x1ec)]&&dbPerformance[_0x3435b9(0x186)](_0x3435b9(0x296))[_0x3435b9(0x205)]({'date':_0x31f463[_0x3435b9(0x1b3)]})[_0x3435b9(0x143)](_0x31f463)[_0x3435b9(0x113)]():dbPerformance[_0x3435b9(0x186)]('data')[_0x3435b9(0x22c)](_0x31f463)[_0x3435b9(0x113)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4729c2=_0x25995a;let _0xa5b603=[];if(dbPerformance[_0x4729c2(0x1dc)](_0x4729c2(0x296))['value']()){let _0x32553c=dbPerformance[_0x4729c2(0x186)](_0x4729c2(0x296))[_0x4729c2(0x135)]()['filter'](_0x1f43a4=>{const _0x358fa3=_0x4729c2;if(_0x1f43a4[_0x358fa3(0x18a)][_0x358fa3(0x2a7)]==0x0)return![];else return!![];})[_0x4729c2(0x276)](_0x4729c2(0x1b3))[_0x4729c2(0x196)](),_0x42369f=[...config[_0x4729c2(0x10c)]];_0x42369f['sort']((_0x11fe2c,_0x22aa5a)=>_0x11fe2c[_0x4729c2(0x1b3)]>_0x22aa5a[_0x4729c2(0x1b3)]?-0x1:_0x22aa5a[_0x4729c2(0x1b3)]>_0x11fe2c[_0x4729c2(0x1b3)]?0x1:0x0);let _0x1eea62=0x1,_0x1b8846=[],_0x1885cc=0x0;_0x32553c[_0x4729c2(0x212)]()[_0x4729c2(0x2af)]()[_0x4729c2(0x1c1)]((_0x3b5ba7,_0x4660fd)=>{const _0x2f7a1f=_0x4729c2;if(_0x42369f[_0x1885cc]){if(_0x32553c[_0x32553c[_0x2f7a1f(0x2a7)]-_0x4660fd]&&_0x42369f[_0x1885cc]['date']==_0x32553c[_0x32553c[_0x2f7a1f(0x2a7)]-_0x4660fd][_0x2f7a1f(0x1b3)]){if(_0x4660fd<_0x32553c[_0x2f7a1f(0x2a7)]){let _0x136ff4=0x0,_0x26ae2c=0x0;_0x32553c[_0x32553c[_0x2f7a1f(0x2a7)]-_0x4660fd][_0x2f7a1f(0x18a)][_0x2f7a1f(0x1c1)](_0x55a8d3=>{const _0x1add01=_0x2f7a1f;_0x26ae2c+=_0x55a8d3[_0x1add01(0x1b4)]*_0x55a8d3['price'];}),_0x42369f[_0x1885cc][_0x2f7a1f(0x2b2)]['forEach'](_0x4b1b47=>{const _0x326a56=_0x2f7a1f;_0x136ff4+=_0x4b1b47['number']*_0x4b1b47[_0x326a56(0x20a)];}),_0x1eea62*=_0x136ff4/(_0x26ae2c-_0x136ff4)+0x1;}_0x1885cc++;}}let _0x119248=0x0;_0x3b5ba7[_0x2f7a1f(0x18a)][_0x2f7a1f(0x1c1)](_0x4610b9=>{const _0x1a88ad=_0x2f7a1f;_0x119248+=_0x4610b9[_0x1a88ad(0x1b4)]*_0x4610b9[_0x1a88ad(0x20a)];}),_0x1b8846[_0x32553c[_0x2f7a1f(0x2a7)]-_0x4660fd-0x1]=_0x119248*(_0x1eea62-0x1);});let _0x2a21f3=[];_0x42369f=[...config['liquidity']]||[];let _0xa77469=0x0;_0x1885cc=0x0,_0x32553c[_0x4729c2(0x1c1)]((_0x43d317,_0x352ec8)=>{const _0x12027c=_0x4729c2;if(_0x42369f[_0x1885cc]){const _0x205b56=fns[_0x12027c(0x260)](_0x42369f[_0x1885cc][_0x12027c(0x1b3)],_0x12027c(0x21d),new Date()),_0x59af33=fns[_0x12027c(0x260)](_0x43d317['date'],_0x12027c(0x21d),new Date());if(fns['isEqual'](_0x205b56,_0x59af33)){let _0x17bf47=0x0;_0x42369f[_0x1885cc][_0x12027c(0x2b2)][_0x12027c(0x1c1)](_0x368612=>{const _0x290524=_0x12027c;!_0x2a21f3[_0x368612[_0x290524(0x259)]]?_0x2a21f3[_0x368612['coin']]=_0x368612[_0x290524(0x1b4)]:(_0x17bf47=_0x2a21f3[_0x368612[_0x290524(0x259)]],_0x2a21f3[_0x368612['coin']]+=_0x368612[_0x290524(0x1b4)]);const _0x142fbd=_0x43d317[_0x290524(0x18a)][_0x290524(0x205)](_0x4e25eb=>_0x4e25eb[_0x290524(0x259)]==_0x368612['coin']);(!_0x142fbd||_0x142fbd[_0x290524(0x1b4)]==0x0)&&(_0xa77469+=(-_0x368612[_0x290524(0x1b4)]-_0x17bf47)*_0x368612[_0x290524(0x20a)]);}),_0x1885cc++;}}_0x43d317['coins'][_0x12027c(0x1c1)]((_0x2bf945,_0x24f143)=>{const _0xe7a549=_0x12027c;_0x2a21f3[_0x2bf945[_0xe7a549(0x259)]]&&(_0x2bf945[_0xe7a549(0x110)]=_0x2a21f3[_0x2bf945[_0xe7a549(0x259)]]);}),_0xa5b603[_0x12027c(0x22c)]({'date':_0x43d317[_0x12027c(0x1b3)],'eur':_0x43d317[_0x12027c(0x26b)],'usd':_0x43d317[_0x12027c(0x136)],'offset':_0x1b8846[_0x352ec8],'netoffset':_0xa77469,'coins':_0x43d317['coins']});});}return _0xa5b603;}function emitPerformance(_0x2ca7c5){const _0x45ce23=_0x25995a;_0x2ca7c5[_0x45ce23(0x2a7)]!==0x0?(proxyEmit(_0x45ce23(0x2aa),_0x2ca7c5),lastPerformanceEmitted=getDate()):proxyEmit(_0x45ce23(0x2aa),[]);}function getPerf(_0x4ed0db,_0x312575){const _0x28b32b=_0x25995a;let _0x3989f=0x0,_0xd02b1e=0x0,_0x23a0df=0x0;_0x4ed0db['coins']['forEach'](_0xe06491=>{const _0x4603d4=_0x50ad;_0x3989f+=_0xe06491[_0x4603d4(0x1b4)]*_0xe06491['price'];});_0x312575&&(_0x3989f+=_0x4ed0db[_0x28b32b(0x108)]);if(config['basecoin']===_0x28b32b(0x27f)||config[_0x28b32b(0x111)]===_0x28b32b(0x203)||config[_0x28b32b(0x111)]===_0x28b32b(0x116))_0xd02b1e=_0x3989f*_0x4ed0db['eur'],_0x23a0df=_0x3989f*_0x4ed0db[_0x28b32b(0x136)];else{if(usdBasecoins[_0x28b32b(0x12f)](config[_0x28b32b(0x111)]))_0xd02b1e=_0x3989f*_0x4ed0db['eur']/_0x4ed0db[_0x28b32b(0x136)],_0x23a0df=_0x3989f;else config[_0x28b32b(0x111)]===_0x28b32b(0x215)&&(_0xd02b1e=_0x3989f,_0x23a0df=_0x3989f*_0x4ed0db[_0x28b32b(0x136)]/_0x4ed0db[_0x28b32b(0x26b)]);}return[_0x3989f,_0xd02b1e,_0x23a0df];}function getKPIs(_0x4a34f9,_0x3de532='EUR'){const _0x2d991f=_0x25995a,_0x286d59=config[_0x2d991f(0x111)],_0x40f261=lastBalances,_0x33339a=currentCoins,_0x56c39b=getNormalizedPerformance(),_0x873f28=_0x4a34f9===_0x2d991f(0x111)?_0x286d59:_0x4a34f9==='fiat'||_0x4a34f9===_0x2d991f(0x1db)?_0x3de532:_0x2d991f(0x24f)+_0x286d59,_0x1725ba=_0x4a34f9===_0x2d991f(0x258)?'Net\x20effect':_0x4a34f9===_0x2d991f(0x1db)?'Net\x20effect':_0x873f28+_0x2d991f(0x118),_0x5414a7=_0x4a34f9===_0x2d991f(0x258)||_0x4a34f9==='net-fiat'?_0x2d991f(0x2a9):_0x873f28+_0x2d991f(0x239);let _0x384369=0x0;_0x33339a['forEach'](_0x424934=>{const _0x7406ae=_0x2d991f;_0x384369+=_0x424934[_0x7406ae(0x1b4)]*_0x424934['last'];});if(_0x4a34f9===_0x2d991f(0x115)||_0x4a34f9===_0x2d991f(0x1db)){if(_0x286d59===_0x2d991f(0x27f)||_0x286d59===_0x2d991f(0x203)||_0x286d59===_0x2d991f(0x116))_0x384369=_0x384369*(_0x3de532===_0x2d991f(0x215)?_0x40f261[_0x2d991f(0x26b)]:_0x40f261['usd']);else{if(usdBasecoins[_0x2d991f(0x12f)](_0x286d59))_0x384369=_0x384369*(_0x3de532===_0x2d991f(0x215)?_0x40f261[_0x2d991f(0x26b)]/_0x40f261[_0x2d991f(0x136)]:0x1);else _0x286d59===_0x2d991f(0x215)&&(_0x384369=_0x384369*(_0x3de532===_0x2d991f(0x215)?0x1:_0x40f261[_0x2d991f(0x136)]/_0x40f261[_0x2d991f(0x26b)]));}}let _0xe2e3e5;if(_0x384369!==0x0){if(_0x4a34f9===_0x2d991f(0x111))_0xe2e3e5=(_0x384369/startingBalances[_0x2d991f(0x111)]-0x1)*0x64;else{if(_0x3de532===_0x2d991f(0x215))_0xe2e3e5=(_0x384369/startingBalances[_0x2d991f(0x26b)]-0x1)*0x64;else _0xe2e3e5=(_0x384369/startingBalances['usd']-0x1)*0x64;}let _0x226075=0x0;if(startingBalances[_0x2d991f(0x18a)])_0x33339a[_0x2d991f(0x1c1)](_0x4fb932=>{const _0x41a965=_0x2d991f;let _0x3fefb4=startingBalances['coins'][_0x41a965(0x205)](_0x9a1158=>_0x9a1158[_0x41a965(0x259)]===_0x4fb932[_0x41a965(0x259)]);if(_0x3fefb4&&_0x3fefb4[_0x41a965(0x259)]&&_0x4fb932[_0x41a965(0x1b4)]!==0x0)_0x226075+=_0x3fefb4['number']*_0x4fb932[_0x41a965(0x152)];});let _0x280fe2=0x0;if(_0x56c39b[_0x2d991f(0x2a7)]!==0x0){let _0x29af4d=_0x56c39b[_0x56c39b[_0x2d991f(0x2a7)]-0x1];_0x280fe2=_0x29af4d[_0x2d991f(0x1ae)];}_0x226075-=_0x280fe2;_0x4a34f9===_0x2d991f(0x258)&&(_0xe2e3e5=(_0x384369-_0x226075)/startingBalances[_0x2d991f(0x111)]*0x64,_0x384369=_0x384369-_0x226075);if(_0x4a34f9===_0x2d991f(0x1db)){let _0x755d40=_0x3de532===_0x2d991f(0x215)?startingBalances[_0x2d991f(0x26b)]:startingBalances['usd'];if(_0x286d59===_0x2d991f(0x27f)||_0x286d59===_0x2d991f(0x203)||_0x286d59===_0x2d991f(0x116))_0x226075=_0x3de532===_0x2d991f(0x215)?_0x226075*_0x40f261['eur']:_0x226075*_0x40f261[_0x2d991f(0x136)];else{if(usdBasecoins[_0x2d991f(0x12f)](_0x286d59))_0x226075=_0x3de532===_0x2d991f(0x215)?_0x226075*_0x40f261[_0x2d991f(0x26b)]/_0x40f261[_0x2d991f(0x136)]:_0x226075;else _0x286d59===_0x2d991f(0x215)&&(_0x226075=_0x3de532===_0x2d991f(0x215)?_0x226075:_0x226075*_0x40f261['usd']/_0x40f261[_0x2d991f(0x26b)]);}_0xe2e3e5=(_0x384369-_0x226075)/_0x755d40*0x64,_0x384369=_0x384369-_0x226075;}if(_0xe2e3e5){if(_0xe2e3e5<0x64)_0xe2e3e5=_0xe2e3e5[_0x2d991f(0x1f7)](0x2);else{if(_0xe2e3e5<0x3e8)_0xe2e3e5=_0xe2e3e5[_0x2d991f(0x1f7)](0x1);else _0xe2e3e5=_0xe2e3e5[_0x2d991f(0x1f7)](0x0);}}else _0xe2e3e5=Number('0')['toFixed'](0x2);if(_0x384369){if(Math[_0x2d991f(0x1bb)](_0x384369)<0.000001)_0x384369=_0x384369['toFixed'](0x2);else{if(Math['abs'](_0x384369)<0.1)_0x384369=_0x384369['toFixed'](0x6);else{if(Math[_0x2d991f(0x1bb)](_0x384369)<0x1)_0x384369=_0x384369[_0x2d991f(0x1f7)](0x5);else{if(Math[_0x2d991f(0x1bb)](_0x384369)<0xa)_0x384369=_0x384369[_0x2d991f(0x1f7)](0x4);else{if(Math[_0x2d991f(0x1bb)](_0x384369)<0x64)_0x384369=_0x384369[_0x2d991f(0x1f7)](0x3);else{if(Math[_0x2d991f(0x1bb)](_0x384369)<0x3e8)_0x384369=_0x384369['toFixed'](0x2);else _0x384369=_0x384369[_0x2d991f(0x1f7)](0x2);}}}}}}else _0x384369=Number('0')[_0x2d991f(0x1f7)](0x2);}else _0xe2e3e5=Number('0')[_0x2d991f(0x1f7)](0x2);return{'value':_0x384369,'change':_0xe2e3e5,'leftTxt':_0x1725ba,'rightTxt':_0x5414a7};}async function getStartingBalances(_0x52b8b0,_0x15214a=!![]){const _0x139715=_0x25995a;if(_0x52b8b0[_0x139715(0x2a7)]!==0x0){const [_0x104940,_0x201e3a,_0x366b5b]=getPerf(_0x52b8b0[0x0],!![]);let _0x23a421=[];config[_0x139715(0x175)][_0x139715(0x1c1)](_0x47eaad=>{const _0x161e49=_0x139715;let _0x3b157f=0x0,_0x174187;config['liquidity'][_0x161e49(0x1c1)](_0x267673=>{const _0x33f41a=_0x161e49;let _0x1e4389=_0x267673[_0x33f41a(0x2b2)]['find'](_0x31242c=>_0x31242c[_0x33f41a(0x259)]==_0x47eaad[_0x33f41a(0x259)]);if(_0x1e4389){_0x3b157f+=_0x1e4389['number'];if(!_0x174187)_0x174187=_0x1e4389['price'];}}),_0x23a421[_0x161e49(0x22c)]({'coin':_0x47eaad['coin'],'number':_0x3b157f,'initialprice':_0x174187});});const _0x500a8d={'basecoin':_0x104940,'eur':_0x201e3a,'usd':_0x366b5b,'coins':_0x23a421};if(_0x15214a)proxyEmit(_0x139715(0x28d),_0x500a8d);startingBalances=_0x500a8d;}}function headlessMode(_0x1f765b){const _0x4317ec=_0x25995a;let _0x520216=_0x1f765b['portfolio'],_0x3dd9d6=_0x1f765b[_0x4317ec(0x250)],_0x1ee2c6=[];for(let _0xe949ad of _0x520216){if(_0xe949ad[_0x4317ec(0x259)]!=config[_0x4317ec(0x111)]){if(_0xe949ad[_0x4317ec(0x1f3)]>=_0x3dd9d6/0x64){if(_0xe949ad[_0x4317ec(0x295)])_0x1ee2c6[_0x4317ec(0x22c)](_0xe949ad);}else{if(_0xe949ad[_0x4317ec(0x1f3)]<=-_0x3dd9d6/0x64){if(_0xe949ad['valid'])_0x1ee2c6['push'](_0xe949ad);}}}}_0x1ee2c6['length']>0x0&&(lockOrders==ORDERS[_0x4317ec(0x29f)]&&!coolingDown&&_0x1ee2c6[_0x4317ec(0x1c1)](_0x573e43=>{const _0x1927dc=_0x4317ec;logger['debug'](_0x1927dc(0x1f5)+_0x573e43[_0x1927dc(0x259)]+'\x20'+_0x573e43[_0x1927dc(0x1b4)]+'\x20'+_0x573e43[_0x1927dc(0x152)]+'\x20'+_0x573e43[_0x1927dc(0x1fc)]+'%\x20'+_0x573e43['target']+'%\x20'+(0x64*_0x573e43[_0x1927dc(0x1f3)])[_0x1927dc(0x1f7)](0x2)+'%\x20('+_0x3dd9d6['toFixed'](0x2)+'%)');}),placeOrder(_0x1ee2c6));}function notifyBalance(_0x3e3b07){const _0x1f06f4=_0x25995a;let _0x2a26a3=_0x3e3b07[_0x1f06f4(0x175)],_0x11c00f=_0x3e3b07[_0x1f06f4(0x250)],_0x186a93=[];for(let _0x371fb of _0x2a26a3){if(_0x371fb[_0x1f06f4(0x259)]!=config[_0x1f06f4(0x111)]){if(_0x371fb[_0x1f06f4(0x1f3)]>=_0x11c00f/0x64){if(_0x371fb[_0x1f06f4(0x295)])_0x186a93[_0x1f06f4(0x22c)](_0x371fb);}else{if(_0x371fb[_0x1f06f4(0x1f3)]<=-_0x11c00f/0x64){if(_0x371fb[_0x1f06f4(0x295)])_0x186a93[_0x1f06f4(0x22c)](_0x371fb);}}}}if(_0x186a93['length']>0x0){let _0x3f0f13=_0x186a93[_0x1f06f4(0x25f)](_0x28ae83=>_0x28ae83['coin']);_0x3f0f13[_0x1f06f4(0x178)]();let _0xb3cc53=_0x3f0f13['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x1f06f4(0x156));lastCoinsToBalance=_0xb3cc53;}}function symbolToCoin(_0x54d804){const _0x58c15c=_0x25995a;let _0x37a653;if(_0x54d804[_0x58c15c(0x12f)]('/'+config['basecoin']))_0x37a653=_0x54d804[_0x58c15c(0x241)]('/'+config['basecoin'],'');if(_0x54d804[_0x58c15c(0x12f)](config['basecoin']+'/'))_0x37a653=_0x54d804[_0x58c15c(0x241)](config[_0x58c15c(0x111)]+'/','');return _0x37a653;}async function unlockOrders(){const _0x5e644d=_0x25995a;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x5e644d(0x1b9)](_0x5e644d(0x1dd)),lockOrders=ORDERS[_0x5e644d(0x25e)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x2795c4=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2795c4,validateOrdersState=_0x5e644d(0x110),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x5e644d(0x1b9)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x106bbb){const _0x42f2d8=_0x25995a;if(_0x106bbb)validateOrdersState=_0x106bbb;logger['debug'](_0x42f2d8(0x230)+validateOrdersState+_0x42f2d8(0x1fb)+(lockOrders==0x1?_0x42f2d8(0x222):lockOrders==0x2?'ORDERS.UNLOCKING':'ORDERS.UNLOCKED'));let _0x3aafeb=[],_0x28def4=config[_0x42f2d8(0x221)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x42f2d8(0x255)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x42f2d8(0x28f)])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x42f2d8(0x1c1)](_0x39d357=>{const _0x25afc0=_0x42f2d8;let _0x5c20a1=![];_0x39d357[_0x25afc0(0x17b)]>0x0&&(_0x5c20a1=!![]),_0x3aafeb['push'](_0x5c20a1),_0x5c20a1&&config[_0x25afc0(0x221)]!=_0x25afc0(0x1bc)&&logHistory(_0x25afc0(0x28b),'Order\x20filled:\x20'+_0x39d357[_0x25afc0(0x24d)]+'\x20'+_0x39d357[_0x25afc0(0x155)]+'\x20#'+formatResult(_0x39d357[_0x25afc0(0x17b)],0x8)+'\x20@'+formatResult(_0x39d357[_0x25afc0(0x20a)],0x8));}),_0x3aafeb[_0x42f2d8(0x1c1)]((_0x3857e9,_0x6457a6)=>{const _0x278897=_0x42f2d8;if(_0x3857e9)lastOrders[_0x278897(0x120)](_0x6457a6,0x1);}),persistOpenOrders(lastOrders);const _0x46e327=coolingDown?_0x42f2d8(0x240):_0x42f2d8(0x174);if(validateOrdersState==_0x42f2d8(0x110)){validateOrdersState=_0x42f2d8(0x282);if(_0x3aafeb[_0x42f2d8(0x12f)](![])){if(config[_0x42f2d8(0x221)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x42f2d8(0x282)){if(_0x3aafeb[_0x42f2d8(0x12f)](![])){}else{if(allOrdersPlaced){if(config[_0x42f2d8(0x221)]==_0x42f2d8(0x1bc)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x3aafeb[_0x42f2d8(0x12f)](![])&&(config[_0x42f2d8(0x221)]==_0x42f2d8(0x1bc)?logHistory(_0x42f2d8(0x132),_0x42f2d8(0x142)+Math[_0x42f2d8(0x2a5)](_0x28def4*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x46e327):(await cancelOrders(),logHistory(_0x42f2d8(0x132),_0x42f2d8(0x26f)+Math[_0x42f2d8(0x2a5)](_0x28def4*validateOrderInterval/0xea60)+_0x42f2d8(0x19f)+_0x46e327))),await unlockOrders();else{if(validateOrdersState==_0x42f2d8(0x129)){if(config['ordertype']!=_0x42f2d8(0x1bc))logHistory(_0x42f2d8(0x132),_0x42f2d8(0x226)+_0x46e327);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x34108d=>{const _0x13c871=_0x50ad;try{const _0x3cc655=await exchange['cancelOrder'](_0x34108d[_0x13c871(0x2a2)],_0x34108d[_0x13c871(0x24d)]);}catch(_0x5cd985){if(_0x5cd985[_0x13c871(0x18b)]()[_0x13c871(0x12f)](_0x13c871(0x206))){}else await handleError(_0x5cd985,_0x13c871(0x202));}});}async function initCoinResults(_0x57e95f){const _0x1fb6a8=_0x25995a;_0x57e95f?logger[_0x1fb6a8(0x1b9)](_0x1fb6a8(0x1e7)+_0x57e95f):logger['debug'](_0x1fb6a8(0x24b)),config['portfolio']['forEach'](_0x5af0ce=>{const _0x6e20a7=_0x1fb6a8;if(!_0x5af0ce[_0x6e20a7(0x211)]&&_0x5af0ce[_0x6e20a7(0x259)]!=config[_0x6e20a7(0x111)]){const _0x557c17=currentCoins['find'](_0x4eb54f=>_0x4eb54f[_0x6e20a7(0x259)]==_0x5af0ce[_0x6e20a7(0x259)]),_0x8751ee=global[_0x6e20a7(0x2ad)][noslash(_0x5af0ce[_0x6e20a7(0x24d)])];let _0x463b6c=_0x557c17?_0x557c17['number']:null,_0xfbb0ba=_0x5af0ce[_0x6e20a7(0x2af)]?0x1/_0x8751ee:_0x8751ee,_0x2a714a;config['liquidity'][_0x6e20a7(0x1c1)](_0x5beb19=>{const _0x51fef5=_0x6e20a7;!_0x2a714a&&(_0x2a714a=_0x5beb19[_0x51fef5(0x2b2)][_0x51fef5(0x205)](_0x3d399f=>_0x3d399f[_0x51fef5(0x259)]==_0x5af0ce[_0x51fef5(0x259)]),_0x2a714a&&(_0x463b6c=_0x2a714a[_0x51fef5(0x1b4)],_0xfbb0ba=_0x2a714a[_0x51fef5(0x20a)]));});let _0x28b6f8=dbCoinResults[_0x6e20a7(0x186)](_0x6e20a7(0x18a))[_0x6e20a7(0x205)]({'coin':_0x5af0ce[_0x6e20a7(0x259)]})[_0x6e20a7(0x196)]();if(!_0x28b6f8){const _0x9b7f7={'coin':_0x5af0ce['coin'],'number':_0x463b6c,'breakeven':_0xfbb0ba,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x6e20a7(0x186)]('coins')[_0x6e20a7(0x22c)](_0x9b7f7)[_0x6e20a7(0x113)]();}else{if(_0x57e95f&&_0x5af0ce[_0x6e20a7(0x259)]==_0x57e95f){const _0x1cec54={'coin':_0x5af0ce['coin'],'number':_0x463b6c,'breakeven':_0xfbb0ba,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x6e20a7(0x186)](_0x6e20a7(0x18a))[_0x6e20a7(0x205)]({'coin':_0x5af0ce[_0x6e20a7(0x259)]})[_0x6e20a7(0x143)](_0x1cec54)[_0x6e20a7(0x113)]();}}}});}async function updateCoinResults(_0x1e8ffd,_0x3757bd=![]){const _0x5bdd02=_0x25995a;let _0x4f63de,_0x4112ca,_0xd8bd2a,_0x1d357f,_0x9b3e21,_0x1c352b,_0x42a746=dbCoinResults[_0x5bdd02(0x186)]('coins')[_0x5bdd02(0x205)]({'coin':_0x1e8ffd[_0x5bdd02(0x259)]})[_0x5bdd02(0x196)](),_0x5ef904=![];_0x42a746&&Object[_0x5bdd02(0x22f)](_0x42a746)[_0x5bdd02(0x1c1)](([_0x20eb1b,_0x1bbaf8])=>{if(_0x1bbaf8==null)_0x5ef904=!![];});(!_0x42a746||_0x5ef904)&&(await initCoinResults(_0x1e8ffd[_0x5bdd02(0x259)]),_0x42a746=dbCoinResults[_0x5bdd02(0x186)](_0x5bdd02(0x18a))[_0x5bdd02(0x205)]({'coin':_0x1e8ffd[_0x5bdd02(0x259)]})[_0x5bdd02(0x196)]());_0x1e8ffd[_0x5bdd02(0x2af)]&&(_0x1c352b={'filled':_0x1e8ffd[_0x5bdd02(0x17b)]*_0x1e8ffd[_0x5bdd02(0x20a)],'amount':_0x1e8ffd[_0x5bdd02(0x17b)]*_0x1e8ffd[_0x5bdd02(0x20a)],'side':_0x1e8ffd[_0x5bdd02(0x155)]==_0x5bdd02(0x26d)?_0x5bdd02(0x1f4):_0x5bdd02(0x26d),'price':0x1/_0x1e8ffd[_0x5bdd02(0x20a)]},_0x1e8ffd={..._0x1e8ffd,..._0x1c352b});_0x3757bd?_0x4112ca=_0x1e8ffd[_0x5bdd02(0x155)]=='buy'?_0x42a746['number']+_0x1e8ffd[_0x5bdd02(0x17b)]:_0x42a746['number']-_0x1e8ffd['filled']:_0x4112ca=await getCoinNumber(_0x1e8ffd['coin']);if(_0x1e8ffd['fee']&&_0x1e8ffd[_0x5bdd02(0x12e)][_0x5bdd02(0x154)]==config[_0x5bdd02(0x111)])_0x4f63de=Number(_0x1e8ffd[_0x5bdd02(0x12e)]['cost']);else{if(_0x1e8ffd[_0x5bdd02(0x12e)]&&_0x1e8ffd[_0x5bdd02(0x12e)][_0x5bdd02(0x154)]==_0x5bdd02(0x275)&&!_0x3757bd&&config[_0x5bdd02(0x111)]!=_0x5bdd02(0x116))_0x4f63de=Number(_0x1e8ffd[_0x5bdd02(0x12e)]['cost'])*global[_0x5bdd02(0x2ad)][_0x5bdd02(0x275)+config[_0x5bdd02(0x111)]];else _0x4f63de=defaultFee*_0x1e8ffd[_0x5bdd02(0x17b)]*_0x1e8ffd[_0x5bdd02(0x20a)];}_0x1e8ffd[_0x5bdd02(0x155)]==_0x5bdd02(0x1f4)?(_0xd8bd2a=_0x4112ca!=0x0?(_0x42a746['breakeven']*_0x42a746[_0x5bdd02(0x1b4)]+_0x1e8ffd['price']*(_0x4112ca-_0x42a746[_0x5bdd02(0x1b4)])+_0x4f63de)/_0x4112ca:0x0,_0x1d357f=_0x42a746[_0x5bdd02(0x167)]):(_0xd8bd2a=_0x4112ca!=0x0?(_0x42a746[_0x5bdd02(0x274)]*_0x42a746[_0x5bdd02(0x1b4)]-_0x1e8ffd['price']*(_0x42a746[_0x5bdd02(0x1b4)]-_0x4112ca)+_0x4f63de)/_0x4112ca:0x0,_0x1d357f=_0x42a746['realized']+(_0x1e8ffd[_0x5bdd02(0x20a)]-_0x42a746[_0x5bdd02(0x274)])*_0x1e8ffd[_0x5bdd02(0x17b)]);_0x9b3e21=(_0x1e8ffd[_0x5bdd02(0x20a)]-_0xd8bd2a-_0x4f63de/_0x1e8ffd[_0x5bdd02(0x17b)])*_0x4112ca;let _0x28251e={'coin':_0x1e8ffd['coin'],'number':_0x4112ca,'breakeven':formatResult(_0xd8bd2a,0x8),'realized':formatResult(_0x1d357f,0x8),'unrealized':formatResult(_0x9b3e21,0x8),'fees':formatResult(_0x42a746[_0x5bdd02(0x1e5)]+_0x4f63de,0x8),'sells':_0x1e8ffd[_0x5bdd02(0x155)]==_0x5bdd02(0x26d)?_0x42a746[_0x5bdd02(0x1f6)]+0x1:_0x42a746['sells'],'buys':_0x1e8ffd[_0x5bdd02(0x155)]==_0x5bdd02(0x1f4)?_0x42a746[_0x5bdd02(0x1f1)]+0x1:_0x42a746[_0x5bdd02(0x1f1)]};dbCoinResults['get'](_0x5bdd02(0x18a))['find']({'coin':_0x1e8ffd[_0x5bdd02(0x259)]})[_0x5bdd02(0x143)](_0x28251e)['write']();if(!_0x3757bd){if(_0x1e8ffd[_0x5bdd02(0x12e)]&&_0x1e8ffd[_0x5bdd02(0x12e)]['currency']==_0x5bdd02(0x275)){const _0x4c5c2e=currentCoins[_0x5bdd02(0x205)](_0x49515e=>_0x49515e[_0x5bdd02(0x259)]==_0x5bdd02(0x275));if(_0x4c5c2e){let _0x5a7869=dbCoinResults['get'](_0x5bdd02(0x18a))['find']({'coin':'BNB'})['value']();_0x28251e={..._0x5a7869,'number':_0x4c5c2e[_0x5bdd02(0x1b4)]},dbCoinResults['get'](_0x5bdd02(0x18a))['find']({'coin':'BNB'})['assign'](_0x28251e)['write']();}}}}async function placeOrder(_0x3e5191){const _0x1b9fcb=_0x25995a,_0x32a024=config[_0x1b9fcb(0x221)]==_0x1b9fcb(0x1bc)?'market':_0x1b9fcb(0x127);if(lockOrders==ORDERS[_0x1b9fcb(0x29f)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState='initial';let _0x4804af=![];lastOrders=[];for(const _0x1a56e3 of _0x3e5191){let _0x1a5c97,_0x4baa63,_0x3566cc,_0xc29c10,_0x475aed,_0x558a14=_0x1a56e3[_0x1b9fcb(0x24d)];try{const _0x1a0db4=await exchange[_0x1b9fcb(0x160)](_0x558a14);_0x1a5c97=_0x1a56e3[_0x1b9fcb(0x2af)]?0x1/_0x1a56e3[_0x1b9fcb(0x152)]:_0x1a56e3[_0x1b9fcb(0x152)],_0x4baa63=_0x1a0db4[_0x1b9fcb(0x1e8)],_0x3566cc=_0x1a0db4[_0x1b9fcb(0x21f)];_0x1a56e3['reverse']?(_0xc29c10=_0x1a56e3[_0x1b9fcb(0x155)]==_0x1b9fcb(0x1f4)?'sell':_0x1b9fcb(0x1f4),_0x475aed=Math[_0x1b9fcb(0x1bb)](_0x1a56e3[_0x1b9fcb(0x192)])/_0x1a5c97):(_0xc29c10=_0x1a56e3[_0x1b9fcb(0x155)],_0x475aed=Math[_0x1b9fcb(0x1bb)](_0x1a56e3[_0x1b9fcb(0x192)]));_0x32a024==_0x1b9fcb(0x127)&&(config['ordertype']=='limit-high'&&(_0x1a5c97=_0xc29c10==_0x1b9fcb(0x1f4)?_0x4baa63:_0x3566cc),config[_0x1b9fcb(0x221)]==_0x1b9fcb(0x1e4)&&(_0x1a5c97=_0xc29c10==_0x1b9fcb(0x1f4)?_0x3566cc:_0x4baa63));_0x475aed=formatResult(_0x475aed,0x8),_0x1a5c97=formatResult(_0x1a5c97,0x8);const _0x3a37b9=_0xc29c10==_0x1b9fcb(0x26d)?config[_0x1b9fcb(0x1ff)]?String[_0x1b9fcb(0x245)]('0x'+config[_0x1b9fcb(0x1ff)])+'\x20':'':config[_0x1b9fcb(0x269)]?String[_0x1b9fcb(0x245)]('0x'+config[_0x1b9fcb(0x269)])+'\x20':'',_0x5874b8=_0x32a024=='market'?_0x1b9fcb(0x180):config[_0x1b9fcb(0x221)]==_0x1b9fcb(0x234)?_0x1b9fcb(0x163):'Limit\x20(low-margin)',_0x1cf325=(Math['floor'](Math['random']()*0x35a4e900)+0x5f5e100)[_0x1b9fcb(0x18b)]();lastOrders[_0x1b9fcb(0x22c)]({'customId':_0x1cf325,'symbol':_0x558a14,'coin':_0x1a56e3[_0x1b9fcb(0x259)],'amount':_0x475aed,'price':_0x1a5c97,'side':_0xc29c10,'reverse':_0x1a56e3[_0x1b9fcb(0x2af)],'filled':0x0});if(_0x32a024=='market')logHistory(_0x1b9fcb(0x28b),''+_0x3a37b9+_0x5874b8+_0x1b9fcb(0x1c2)+_0x558a14+'\x20'+_0xc29c10+'\x20#'+formatResult(_0x475aed,0x8)+'\x20@'+formatResult(_0x1a5c97,0x8));else logHistory('order',''+_0x3a37b9+_0x5874b8+'\x20order:\x20'+_0x558a14+'\x20'+_0xc29c10+'\x20#'+formatResult(_0x475aed,0x8)+'\x20@'+formatResult(_0x1a5c97,0x8));let _0x4344ab;_0x32a024==_0x1b9fcb(0x1bc)?_0xc29c10=='buy'&&[_0x1b9fcb(0x18c),_0x1b9fcb(0x158),_0x1b9fcb(0x27b),_0x1b9fcb(0x2b7),'Huobipro'][_0x1b9fcb(0x12f)](config[_0x1b9fcb(0x22d)])?_0x4344ab=await exchange[_0x1b9fcb(0x235)](_0x558a14,_0x32a024,_0xc29c10,_0x475aed,_0x1a5c97):_0x4344ab=await exchange[_0x1b9fcb(0x235)](_0x558a14,_0x32a024,_0xc29c10,_0x475aed,undefined):_0x4344ab=await exchange[_0x1b9fcb(0x235)](_0x558a14,_0x32a024,_0xc29c10,_0x475aed,_0x1a5c97);logger[_0x1b9fcb(0x1b9)](_0x1b9fcb(0x1a7)+_0x4344ab['id']+_0x1b9fcb(0x1bf)+_0x1cf325);const _0x2340cc=lastOrders[_0x1b9fcb(0x2a7)]-0x1;if(_0x2340cc>=0x0&&lastOrders[_0x2340cc][_0x1b9fcb(0x1d5)]==_0x1cf325){lastOrders[_0x2340cc]['orderId']=_0x4344ab['id'];if(_0x4344ab[_0x1b9fcb(0x2ac)])lastOrders[_0x2340cc][_0x1b9fcb(0x2ac)]=_0x4344ab[_0x1b9fcb(0x2ac)];if(_0x4344ab[_0x1b9fcb(0x20a)])lastOrders[_0x2340cc]['price']=_0x4344ab[_0x1b9fcb(0x20a)];lastOrders[_0x2340cc]['fee']=_0x4344ab['fee'];}if(config[_0x1b9fcb(0x1af)]!=0x0){let _0x17fff8=null;if(cooldownTracker['length']==config[_0x1b9fcb(0x1af)]-0x1)_0x17fff8=cooldownTracker[_0x1b9fcb(0x169)]();const _0x5ba95e=getTimeStamp();cooldownTracker['push'](_0x5ba95e);if(_0x17fff8){const _0x33f29e=fns[_0x1b9fcb(0x19a)](new Date(_0x5ba95e),new Date(_0x17fff8));if(_0x33f29e<cooldownInterval){logHistory(_0x1b9fcb(0x1bd),_0x1b9fcb(0x24a)+config[_0x1b9fcb(0x1af)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x1b9fcb(0x130)+cooldownPeriod/(0xe10*0x3e8)+_0x1b9fcb(0x20d)),coolingDown=!![];break;}}}}catch(_0x352aff){if(_0x352aff['toString']()[_0x1b9fcb(0x12f)](_0x1b9fcb(0x27e)))lastOrders=lastOrders[_0x1b9fcb(0x262)](_0x11823f=>_0x11823f['symbol']!=_0x558a14),logHistory(_0x1b9fcb(0x1bd),_0x1b9fcb(0x16d)+_0x558a14),_0x4804af=!![];else{if(_0x352aff[_0x1b9fcb(0x18b)]()['includes'](_0x1b9fcb(0x297)))lastOrders=lastOrders[_0x1b9fcb(0x262)](_0x24e384=>_0x24e384[_0x1b9fcb(0x24d)]!=_0x558a14),logHistory(_0x1b9fcb(0x1bd),_0x1b9fcb(0x125)+_0x558a14),_0x4804af=!![];else{if(_0x352aff[_0x1b9fcb(0x18b)]()[_0x1b9fcb(0x12f)](_0x1b9fcb(0x19d)))lastOrders=lastOrders[_0x1b9fcb(0x262)](_0x45f846=>_0x45f846[_0x1b9fcb(0x24d)]!=_0x558a14),logHistory('error','Order\x20is\x20invalid:\x20'+_0x558a14),logger[_0x1b9fcb(0x1b9)](_0x352aff),_0x4804af=!![];else _0x352aff['toString']()[_0x1b9fcb(0x12f)](_0x1b9fcb(0x1b5))?(lastOrders=lastOrders[_0x1b9fcb(0x262)](_0x343777=>_0x343777[_0x1b9fcb(0x24d)]!=_0x558a14),logHistory(_0x1b9fcb(0x1bd),_0x1b9fcb(0x16d)+_0x558a14),_0x4804af=!![]):(lastOrders=lastOrders[_0x1b9fcb(0x262)](_0x5a1f63=>_0x5a1f63['symbol']!=_0x558a14),await handleError(_0x352aff,_0x1b9fcb(0x220),_0x558a14));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x1b9fcb(0x2a7)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x22371d=config[_0x1b9fcb(0x221)]==_0x1b9fcb(0x1bc)?validateOrderTimeout*0x3c*0x3e8:config[_0x1b9fcb(0x255)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x22371d);}else unlockOrders();_0x4804af&&config['headless']&&(logHistory(_0x1b9fcb(0x1bd),_0x1b9fcb(0x164)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1b9fcb(0x132),_0x1b9fcb(0x189)));}else{if(coolingDown)!config['headless']&&logHistory(_0x1b9fcb(0x1bd),_0x1b9fcb(0x12b));else lockOrders!=ORDERS[_0x1b9fcb(0x29f)]&&(!config[_0x1b9fcb(0x257)]&&(config[_0x1b9fcb(0x221)]=='market'?logHistory('error',_0x1b9fcb(0x14b)):logHistory(_0x1b9fcb(0x1bd),_0x1b9fcb(0x166))));}}function persistOpenOrders(_0x5e36fb){const _0x12f756=_0x25995a,_0x1f7840={...config,'openOrders':_0x5e36fb};let _0x2c38e9=dbConfig[_0x12f756(0x186)](_0x12f756(0x227))[_0x12f756(0x205)]({'botID':botID})['value']();_0x2c38e9&&dbConfig['get'](_0x12f756(0x227))[_0x12f756(0x205)]({'botID':botID})[_0x12f756(0x143)](_0x1f7840)['write']();}function restoreOrders(){const _0x12a563=_0x25995a;let _0x2f813e;config[_0x12a563(0x15a)]&&allOpenOrders[_0x12a563(0x1c1)](_0xff733=>{const _0x39ca08=_0x12a563,_0x296f38=config['openOrders'][_0x39ca08(0x205)](_0x3cfb8c=>_0x3cfb8c['orderId']==_0xff733['id']);_0x296f38&&(lastOrders[_0x39ca08(0x22c)](_0x296f38),_0x2f813e=_0xff733[_0x39ca08(0x267)]);});if(lastOrders[_0x12a563(0x2a7)]>0x0){lockOrders=ORDERS[_0x12a563(0x28f)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x250123=new Date()['getTime'](),_0x1dd5e6=config[_0x12a563(0x221)]==_0x12a563(0x1bc)?validateOrderTimeout*0x3c*0x3e8:config[_0x12a563(0x255)]*0x3c*0x3e8;if(_0x2f813e+_0x1dd5e6>_0x250123){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x2f813e+_0x1dd5e6-_0x250123);}else validateOrders(_0x12a563(0x253));}}async function sendMetricsTelegram(){const _0x51d3ac=_0x25995a;if(!coinsLoaded){process['send']({'telegrammsg':_0x51d3ac(0x23e)},_0x488815=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x563add='';if(config[_0x51d3ac(0x14c)])_0x563add=_0x51d3ac(0x187)+config[_0x51d3ac(0x252)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x563add=_0x51d3ac(0x14f)+botID+_0x51d3ac(0x27d);const _0x3b3676=getKPIs(_0x51d3ac(0x111)),_0x27cb2d=getKPIs(_0x51d3ac(0x115),config['fiat']),_0x19f352=getKPIs('net-basecoin'),_0x5bcaa9=getKPIs(_0x51d3ac(0x1db),config[_0x51d3ac(0x115)]);_0x563add+='<pre>',_0x563add+=_0x3b3676['leftTxt']+'\x20:\x20'+_0x3b3676[_0x51d3ac(0x196)]+'\x0a',_0x563add+=_0x3b3676[_0x51d3ac(0x29c)]+':\x20'+_0x3b3676[_0x51d3ac(0x106)]+'%\x0a',_0x563add+=_0x27cb2d['leftTxt']+_0x51d3ac(0x27c)+_0x27cb2d['value']+'\x0a',_0x563add+=_0x27cb2d[_0x51d3ac(0x29c)]+':\x20'+_0x27cb2d[_0x51d3ac(0x106)]+'%\x0a',_0x563add+=_0x19f352[_0x51d3ac(0x237)]+':\x20'+_0x19f352['value']+'\x20('+config['basecoin']+')\x0a',_0x563add+=_0x19f352['rightTxt']+':\x20'+_0x19f352[_0x51d3ac(0x106)]+_0x51d3ac(0x236)+config[_0x51d3ac(0x111)]+')\x0a',_0x563add+=_0x5bcaa9[_0x51d3ac(0x237)]+':\x20'+_0x5bcaa9[_0x51d3ac(0x196)]+'\x20('+config[_0x51d3ac(0x115)]+')\x0a',_0x563add+=_0x5bcaa9['rightTxt']+':\x20'+_0x5bcaa9[_0x51d3ac(0x106)]+_0x51d3ac(0x236)+config[_0x51d3ac(0x115)]+')\x0a',_0x563add+=_0x51d3ac(0x1d8),process[_0x51d3ac(0x1e9)]({'telegrammsg':_0x563add},_0x4426be=>{});}async function sendPortfolioTelegram(){const _0x5a57f6=_0x25995a;if(!coinsLoaded||!currentCoins[0x0][_0x5a57f6(0x1fc)]){process['send']({'telegrammsg':_0x5a57f6(0x23e)},_0x2a6e=>{});return;}let _0xef67d5='';if(config[_0x5a57f6(0x14c)])_0xef67d5='<b>'+config[_0x5a57f6(0x252)]+_0x5a57f6(0x10d);else _0xef67d5=_0x5a57f6(0x14f)+botID+_0x5a57f6(0x10d);_0xef67d5+=_0x5a57f6(0x208),_0xef67d5+=_0x5a57f6(0x1a0),_0xef67d5+=_0x5a57f6(0x1d1),_0xef67d5+=_0x5a57f6(0x1a0),currentCoins['forEach'](_0x35d374=>{const _0xc5cde1=_0x5a57f6;_0xef67d5+=_0x35d374[_0xc5cde1(0x259)]['padEnd'](0x7)+'|\x20'+formatPad(_0x35d374[_0xc5cde1(0x1fc)],0x2,0x6)+'|\x20'+formatPad(_0x35d374['target'],0x2,0x6)+'|\x20'+formatPad(_0x35d374[_0xc5cde1(0x1f3)]*0x64,0x2,0x6)+'\x0a';}),_0xef67d5+=_0x5a57f6(0x1d8),process[_0x5a57f6(0x1e9)]({'telegrammsg':_0xef67d5},_0x5a0693=>{});}function formatPad(_0x5b76aa,_0x26f059,_0x301ff9){const _0x41e894=_0x25995a,_0x4014ef=formatResultString(_0x5b76aa,_0x26f059);return _0x4014ef?_0x4014ef[_0x41e894(0x289)](_0x301ff9):''[_0x41e894(0x289)](_0x301ff9);}function logHistory(_0x1f631a,_0x47b958,_0xc65882=''){const _0x54fc2d=_0x25995a;logger['full'](''+_0x47b958);let _0xeaeaba={'time':getTimeStamp(),'type':_0x1f631a,'event':_0x47b958};dbLogs['get'](_0x54fc2d(0x19e))['push'](_0xeaeaba)[_0x54fc2d(0x113)]();if(_0xc65882=='')_0xc65882=_0x47b958;proxyEmit(_0x54fc2d(0x223),{'log':_0xeaeaba,'summary':_0xc65882}),process['send']({'telegram':{..._0xeaeaba,'botname':config[_0x54fc2d(0x252)],'showname':config[_0x54fc2d(0x14c)]}},_0x2d22b2=>{});}function _0x377e(){const _0x1f49c1=['slice','target','\x20|\x20','EUR','status\x20code\x20401','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','date-fns','fetchOpenOrders','USD','spot','existsSync','yyyy/MM/dd','.json','ask','placeOrder()','ordertype','ORDERS.LOCKED','event','recent20','Waited\x20','No\x20more\x20open\x20orders\x20-\x20','bot','getStartingBalances','\x20API\x20key\x20is\x20invalid','running','configuration-stored','push','exchange','indexOf','entries','1\x20-\x20Validate\x20orders:\x20','findIndex','./config/','orderstatus','limit-high','createOrder','%\x20(','leftTxt','mkdirSync','\x20change','9fzjTZe','initclient','BUSD','secure','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','kill','balancing\x20resumes\x20when\x20cooldown\x20ends','replace','USDC','uncaughtException','Headless:\x20','fromCodePoint','remove','getMinutes',':\x20Bot\x20','onepagemode','Executed\x20','Initializing\x20coin\x20results','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','symbol','exchange\x20not\x20reloaded','Net\x20','threshold','Exchange','botname','final','exchange\x20reloaded','timeout','canceled','headless','net-basecoin','coin','AuthenticationError','PermissionDenied','parseISO','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','UNLOCKING','map','parse','password','filter','decrypt','************','type','average','timestamp','storeHeadless','emojibuy','20966870fzeIuh','eur','configuration','sell','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Unfilled\x20order(s)\x20canceled\x20after\x20','apiPassword','pro','datetime','Error\x20details:','breakeven','BNB','sortBy','argv','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','createWriteStream','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','Cex','\x20:\x20','\x20metrics:</b>\x20\x0a\x0a','MIN_NOTIONAL','BTC','\x20exchange\x20error','fetchTickers','ongoing','colorscheme','privateKey','1\x20-\x20FILLED\x20unknown\x20order:\x20','quote','search','limits','padStart','coin-loading-progress','order','cost','starting-balances','bb-secure.json','LOCKED','/backup/','(((.+)+)+)+$','change24h','Fee\x20discount\x20refund\x20detected:\x20','open','valid','data','Invalid\x20quantity','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','time','cancelLoading','Error\x20while\x20deleting\x20files:\x20','rightTxt','cancel','lowdb','UNLOCKED','startprice','560307kKmXNB','orderId','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','initTickers()','round','watchTransactions()','length','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Net\x20effect','performance','bots','amount','ticker','toLowerCase','reverse','restart','yargs/yargs','changes','getHours','defaults','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','Huobi','bb-settings.json','stringify','change','ExchangeError','offset','marketcapApi','2938056EdKwxe','Error:\x20Invalid\x20argument\x20','liquidity','\x20portfolio:</b>\x20\x0a\x0a','\x20>\x20[DEBUG]\x20','startsWith','initial','basecoin','API-key\x20format\x20invalid','write','OnMaintenance','fiat','PAXG','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','\x20value','settings','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','getFullYear','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','watchOrders','/EUR','apiSecret','splice','RequestTimeout','exec','cancelOrder','closed','Order\x20amount\x20is\x20invalid:\x20','sendPortfolioTelegram','limit','/output-000.log','no\x20open\x20orders','message','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','loading-canceled','warning','fee','includes','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','success','2.3.5','InvalidNonce','cloneDeep','usd','none','getPortfolio(2)','yyyy-MM-dd\x27T\x27HH:mm:ss','USDP','remainingSymbols','\x20|\x20exchange:\x20','ccxt','full','sha256','154124AdAHle','marketcap','Order(s)\x20not\x20validated\x20after\x20','assign','storeConfiguration','event-history','args','emitHistory','\x20|\x20highest\x20fee:\x20','total','getPortfolio(1)','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','showname','getOpenOrders()','page','<b>Bot\x20','recovery','-events.json','last','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','currency','side','Manual\x20balancing\x20required','Crypt','Bitget','removed','openOrders','request-time','timeshift','marketcapEnabled','split','apply','fetchTicker','fetchClosedOrders','\x20API\x20secret\x20is\x20invalid','Limit\x20(high-margin)','Avoiding\x20continuous\x20order\x20attempts','Insufficient\x20funds\x20to\x20execute\x20order:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','realized','constructor','shift','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','\x20>\x20','starting-balance-','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','./logs/','\x20has\x20a\x2024h\x20drop\x20of\x20','set','watchOrders()','1\x20-\x20FILLED\x20known\x20order:\x20','NetworkError','balancing\x20resumed','portfolio','sendMetricsTelegram','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','sort','-performance.json','Failed\x20to\x20load\x20coin\x20data\x20for\x20','filled','getPortfolio(0)','watchTrades','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',':\x20timer\x20>','Market','getCoinNumber()','BNB/','\x20minutes','exchanges','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','get','<b>','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','Cooldown\x20ended\x20-\x20balancing\x20resumed','coins','toString','Bybit','3656jMKCvt','enabled','Portfolio\x20change\x20detected:\x20','active','apiKey','trade','slider','join','Bot\x20','value','basecoinvalue','Exception\x20thrown\x20in\x20','resetHistory','differenceInSeconds','stopExchange()','add','InvalidOrder','logs','\x20minutes\x20-\x20','-------------------------------\x0a','progress','red_yellow_blue','autoliquidity','RETRY\x20-\x20Problem\x20resolved\x20after\x20','Cryptocom','bot-','ID:\x20','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','writeFile','test','close','function','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','netoffset','cooldown','hybrid-crypto-js','2\x20-\x20handling\x20FILLED\x20order:\x20','format','date','number','must\x20be\x20greater\x20than\x20minimum\x20amount','log','fetchTickers()','concat','debug','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','abs','market','error','346270YTzVCQ','\x20|\x20Custom\x20ID:\x20','2ZtjbEJ','forEach','\x20order:\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','balances','market_cap','1413676JHiikp','storeFiat','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','min','2.6.0','getPortfolio','deleteHistoryAlerts','RateLimitExceeded','fetchBalance','unlinkSync','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','substring','highest','percentage','customId','loadMarkets','version','</pre>','getTime','toggleBotMode','net-fiat','has','1\x20-\x20Unlock\x20orders','20342xMccMB','loadSymbols()','milliseconds','1\x20-\x20Handle\x20open\x20orders','string','startnumber','limit-low','fees','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','Resetting\x20coin\x20results:\x20','bid','send','2\x20-\x20Handled\x20open\x20orders','/USD','startdate','Binance','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','USDT','max','buys','keys','delta','buy','Trigger:\x20','sells','toFixed','001','./version.json','Unknown\x20error\x20occured','\x20|\x20lock\x20orders:\x20','distribution','Transaction\x20detection\x20blocked','getSeconds','emojisell','recreateCoinResults()','util','cancelOrders()','ETH','status','find','OrderNotFound','\x20attempts','<pre>','watchTrades()','price','getDate','getMonth','\x20hour','added','axios','Transaction\x20detection\x20unblocked','excluded'];_0x377e=function(){return _0x1f49c1;};return _0x377e();}function emitHistory(_0x399887={}){const _0x241b29=_0x25995a;Object['keys'](_0x399887)[_0x241b29(0x2a7)]==0x0&&(_0x399887={'type':['order',_0x241b29(0x223)],'event':'','page':0x1});if(_0x399887[_0x241b29(0x265)][_0x241b29(0x12f)](_0x241b29(0x223)))_0x399887['type']['splice'](_0x399887[_0x241b29(0x265)][_0x241b29(0x22e)](_0x241b29(0x223)),0x1,_0x241b29(0x1bd),_0x241b29(0x12d),_0x241b29(0x132));if(dbLogs[_0x241b29(0x1dc)]('logs')[_0x241b29(0x196)]()){let _0x4aabea=dbLogs[_0x241b29(0x186)](_0x241b29(0x19e))[_0x241b29(0x262)](_0x41c68c=>{const _0xe5dffc=_0x241b29;if(_0x399887['type']['length']==0x0)return![];else return _0x399887['type'][_0xe5dffc(0x12f)](_0x41c68c[_0xe5dffc(0x265)]);})['filter'](_0x54537b=>{const _0x2157a2=_0x241b29;if(_0x399887[_0x2157a2(0x223)]=='')return!![];else return _0x54537b['event'][_0x2157a2(0x2ae)]()['includes'](_0x399887[_0x2157a2(0x223)][_0x2157a2(0x2ae)]());})[_0x241b29(0x276)](_0x241b29(0x299)),_0x430b5f=_0x4aabea[_0x241b29(0x196)]()[_0x241b29(0x2a7)];_0x4aabea=_0x4aabea[_0x241b29(0x2af)]()[_0x241b29(0x212)]((_0x399887[_0x241b29(0x14e)]-0x1)*logPageSize,_0x399887['page']*logPageSize-0x1)['reverse']()[_0x241b29(0x196)](),proxyEmit(_0x241b29(0x145),{'logs':_0x4aabea,'total':_0x430b5f});}else proxyEmit(_0x241b29(0x145),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x81217e){const _0x4fb670=_0x25995a;if(dbLogs[_0x4fb670(0x1dc)]('logs')[_0x4fb670(0x196)]()){const _0x30872f=dbLogs['get'](_0x4fb670(0x19e))[_0x4fb670(0x276)](_0x4fb670(0x299))['filter'](_0x3d3b6d=>{const _0x294800=_0x4fb670;return _0x3d3b6d[_0x294800(0x265)]==_0x294800(0x28b);})[_0x4fb670(0x196)]();dbLogs['get'](_0x4fb670(0x19e))[_0x4fb670(0x246)]()[_0x4fb670(0x113)](),dbLogs['get'](_0x4fb670(0x19e))[_0x4fb670(0x143)](_0x30872f)['write'](),emitHistory(_0x81217e);}}async function pauseBot(_0x2b27ba=pauseBotInterval){const _0x22b0ad=_0x25995a,_0x5d2960=new Date()['getTime']();if(!lastErrorShown||_0x5d2960-lastErrorShown>=_0x2b27ba){lastErrorShown=_0x5d2960;!lastBotPause?(lastBotPause=_0x5d2960,consecutivePauses=0x1):(_0x5d2960-lastBotPause-_0x2b27ba<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x174cd0=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x22b0ad(0x1d9)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x2b27ba),botPaused=![],reset(!![]);}}}async function killBot(){const _0x5d3d0c=_0x25995a;botPaused=!![],await sleep(0x3e8),process['send']({'stop':_0x5d3d0c(0x23f)},_0x5dc213=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x56ec82,_0x26178b){const _0x4db702=_0x25995a;if(botPaused)return;const _0x2f21f0=config[_0x4db702(0x22d)]||_0x4db702(0x251);if(_0x26178b)logger[_0x4db702(0x1b9)]('Exception\x20thrown\x20in\x20'+_0x26178b);const _0x37156e=()=>{const _0x15dd1d=_0x4db702;loading[_0x15dd1d(0x1bd)]=!![],emitLoadingProgress();};if(_0x56ec82[_0x4db702(0x18b)]()['includes'](_0x4db702(0x112)))logHistory(_0x4db702(0x1bd),_0x2f21f0+_0x4db702(0x1c9)),_0x37156e();else{if(_0x56ec82[_0x4db702(0x18b)]()[_0x4db702(0x12f)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x4db702(0x1bd),_0x2f21f0+_0x4db702(0x26e)),_0x37156e();else _0x56ec82[_0x4db702(0x18b)]()[_0x4db702(0x12f)]('AuthenticationError')?(logHistory(_0x4db702(0x1bd),_0x2f21f0+_0x4db702(0x11c)),logHistory(_0x4db702(0x1bd),_0x4db702(0x1ba)),_0x37156e()):await handleError(_0x56ec82,null);}}async function handleError(_0x192ccd,_0x2598da,_0x226bd5=''){const _0x25b38b=_0x25995a;if(botPaused)return;const _0x7651aa=config[_0x25b38b(0x22d)]||'Exchange';if(_0x2598da)logger[_0x25b38b(0x1b9)](_0x25b38b(0x198)+_0x2598da);if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)]('DDoSProtection'))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x17e)+pauseBotMsg),logger[_0x25b38b(0x1b9)](_0x25b38b(0x273),_0x192ccd),await pauseBot();else{if(_0x192ccd['toString']()[_0x25b38b(0x12f)](_0x25b38b(0x1ce)))logHistory('error',_0x7651aa+_0x25b38b(0x153)+pauseBotMsg),logger[_0x25b38b(0x1b9)]('Error\x20details:',_0x192ccd),await pauseBot();else{if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)]('ExchangeNotAvailable')||_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)](_0x25b38b(0x114)))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x2b6)+pauseBotMsg),await pauseBot();else{if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)](_0x25b38b(0x121)))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x117)+pauseBotMsg),logger['debug'](_0x25b38b(0x273),_0x192ccd),await pauseBot();else{if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)](_0x25b38b(0x16a)))logHistory('error',_0x7651aa+_0x25b38b(0x278)+pauseBotMsg),logger[_0x25b38b(0x1b9)](_0x25b38b(0x273),_0x192ccd),await pauseBot();else{if(_0x192ccd['toString']()[_0x25b38b(0x2ae)]()[_0x25b38b(0x12f)]('timestamp')||_0x192ccd['toString']()[_0x25b38b(0x2ae)]()[_0x25b38b(0x12f)](_0x25b38b(0x15b)))logHistory(_0x25b38b(0x1bd),_0x25b38b(0x24c)+pauseBotMsg),logger[_0x25b38b(0x1b9)](_0x25b38b(0x273),_0x192ccd[_0x25b38b(0x18b)]()),await pauseBot();else{if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)](_0x25b38b(0x134)))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x25d)+pauseBotMsg),logger[_0x25b38b(0x1b9)]('Error\x20details:',_0x192ccd),await pauseBot();else{if(_0x192ccd instanceof ccxt[_0x25b38b(0x173)])logHistory(_0x25b38b(0x1bd),_0x7651aa+'\x20network\x20error'+pauseBotMsg),logger[_0x25b38b(0x1b9)](_0x25b38b(0x273),_0x192ccd),await pauseBot();else{if(_0x192ccd['toString']()[_0x25b38b(0x12f)](_0x25b38b(0x112)))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x229)),logHistory('error',_0x25b38b(0x298)),await killBot();else{if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)](_0x25b38b(0x2a3)))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x162)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)](_0x25b38b(0x25a)))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x1c3)),logHistory(_0x25b38b(0x1bd),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x192ccd[_0x25b38b(0x18b)]()[_0x25b38b(0x12f)](_0x25b38b(0x25b)))logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x27a)),logHistory(_0x25b38b(0x1bd),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x192ccd['toString']()[_0x25b38b(0x12f)]('InsufficientFunds'))logHistory(_0x25b38b(0x1bd),_0x25b38b(0x165)+_0x226bd5);else _0x192ccd instanceof ccxt[_0x25b38b(0x107)]?(logHistory(_0x25b38b(0x1bd),_0x7651aa+_0x25b38b(0x280)),logger[_0x25b38b(0x1b9)]('Error\x20details:',_0x192ccd)):(logHistory(_0x25b38b(0x1bd),_0x25b38b(0x1fa)+pauseBotMsg),logger[_0x25b38b(0x1b9)]('Error\x20details:',_0x192ccd),await pauseBot());}}}}}}}}}}}}}async function withRetry(_0x4ffc09,_0x4cac1a){const _0x1c15ad=_0x25995a;let _0x131e9a=![],_0x4548bd=0x0,_0x118cfc,_0x515f34;while(_0x4548bd<maxRetries){try{_0x118cfc=await _0x4cac1a();break;}catch(_0x19c72c){_0x515f34=_0x19c72c,!_0x131e9a?(_0x131e9a=!![],logger[_0x1c15ad(0x1b9)]('RETRY\x20-\x20Error\x20in\x20'+_0x4ffc09+':',_0x19c72c[_0x1c15ad(0x18b)]())):await sleep(retryInterval);}_0x4548bd++;}if(_0x4548bd==0x0)return _0x118cfc;if(_0x4548bd>=maxRetries)throw _0x515f34;else return logger[_0x1c15ad(0x1b9)](_0x1c15ad(0x1a4)+_0x4548bd+_0x1c15ad(0x207)),_0x118cfc;}function formatResult(_0xbdb05a,_0x56ce3b){return parseFloat(_0xbdb05a['toFixed'](_0x56ce3b));}function formatResultTruncate(_0x45e5f1,_0x10524a){const _0x51009f=_0x25995a;let _0x1dc25c=formatResultString(_0x45e5f1,0xa),_0x26a913=_0x1dc25c[_0x51009f(0x22e)]('.');return _0x26a913!=-0x1&&(_0x1dc25c=_0x1dc25c[_0x51009f(0x212)](0x0,_0x26a913+_0x10524a+0x1)),Number(_0x1dc25c);}function formatResultString(_0x31d9a4,_0x42909d){const _0x3de893=_0x25995a;let _0x37a658;if(!(''+_0x31d9a4)['includes']('e'))_0x37a658=+(Math[_0x3de893(0x2a5)](_0x31d9a4+'e+'+_0x42909d)+'e-'+_0x42909d);else{let _0x40c95e=(''+_0x31d9a4)['split']('e'),_0x5f1363='';+_0x40c95e[0x1]+_0x42909d>0x0&&(_0x5f1363='+'),_0x37a658=+(Math[_0x3de893(0x2a5)](+_0x40c95e[0x0]+'e'+_0x5f1363+(+_0x40c95e[0x1]+_0x42909d))+'e-'+_0x42909d);}return Number(_0x37a658)[_0x3de893(0x1f7)](_0x42909d);}function getServerTime(){const _0xbe089a=_0x25995a,_0x3eaaf0=new Date();return _0x3eaaf0[_0xbe089a(0x11b)]()+'/'+(_0x3eaaf0[_0xbe089a(0x20c)]()+0x1)[_0xbe089a(0x18b)]()[_0xbe089a(0x289)](0x2,'0')+'/'+_0x3eaaf0[_0xbe089a(0x20b)]()[_0xbe089a(0x18b)]()[_0xbe089a(0x289)](0x2,'0')+'\x20'+_0x3eaaf0[_0xbe089a(0x2b3)]()[_0xbe089a(0x18b)]()[_0xbe089a(0x289)](0x2,'0')+':'+_0x3eaaf0['getMinutes']()[_0xbe089a(0x18b)]()[_0xbe089a(0x289)](0x2,'0')+':'+_0x3eaaf0['getSeconds']()['toString']()[_0xbe089a(0x289)](0x2,'0');}function getTimeStamp(){const _0x7dd43d=_0x25995a,_0x140ccb=shiftedTime();return _0x140ccb[_0x7dd43d(0x11b)]()+'/'+(_0x140ccb[_0x7dd43d(0x20c)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x140ccb['getDate']()['toString']()[_0x7dd43d(0x289)](0x2,'0')+'\x20'+_0x140ccb[_0x7dd43d(0x2b3)]()[_0x7dd43d(0x18b)]()['padStart'](0x2,'0')+':'+_0x140ccb[_0x7dd43d(0x247)]()[_0x7dd43d(0x18b)]()['padStart'](0x2,'0')+':'+_0x140ccb[_0x7dd43d(0x1fe)]()['toString']()[_0x7dd43d(0x289)](0x2,'0');}function getDate(){const _0x4741fe=_0x25995a,_0x5c4dcf=shiftedTime();return _0x5c4dcf['getFullYear']()+'/'+(_0x5c4dcf[_0x4741fe(0x20c)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x5c4dcf['getDate']()[_0x4741fe(0x18b)]()[_0x4741fe(0x289)](0x2,'0');}function getHour(){const _0xd4a24b=_0x25995a,_0x1c454c=shiftedTime();return _0x1c454c[_0xd4a24b(0x2b3)]()['toString']()[_0xd4a24b(0x289)](0x2,'0');}function sleep(_0x23f560){return new Promise(_0x18cac4=>setTimeout(_0x18cac4,_0x23f560));}function shiftedTime(){const _0x46cf6b=_0x25995a,_0xd8483b=new Date();let _0xac1cb9=_0xd8483b;if(config&&config['timeshift']!==0x0)_0xac1cb9=fns[_0x46cf6b(0x19c)](_0xd8483b,{'hours':config[_0x46cf6b(0x15c)]});return _0xac1cb9;}function timer(_0x2ade6f){const _0x165229=_0x25995a,_0x28f801=new Date();!lasttime?console['log'](getTimeStamp()+_0x165229(0x17f),_0x2ade6f,_0x28f801):console[_0x165229(0x1b6)](getTimeStamp()+_0x165229(0x17f),_0x2ade6f,(_0x28f801-lasttime)/0x3e8),lasttime=_0x28f801;}