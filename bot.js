const _0xd786cd=_0x5eb4;(function(_0x3930c6,_0x14d5d1){const _0x1079f7=_0x5eb4,_0xc29046=_0x3930c6();while(!![]){try{const _0x2cf842=-parseInt(_0x1079f7(0x2ef))/0x1*(parseInt(_0x1079f7(0x286))/0x2)+parseInt(_0x1079f7(0x2ff))/0x3+parseInt(_0x1079f7(0x1ee))/0x4+-parseInt(_0x1079f7(0x21f))/0x5+parseInt(_0x1079f7(0x294))/0x6+parseInt(_0x1079f7(0x26f))/0x7+-parseInt(_0x1079f7(0x240))/0x8;if(_0x2cf842===_0x14d5d1)break;else _0xc29046['push'](_0xc29046['shift']());}catch(_0x11b606){_0xc29046['push'](_0xc29046['shift']());}}}(_0x38df,0xccc6c));const _0x122320=function(){let _0x4dc686=!![];return function(_0x1ae6bb,_0x37bfe7){const _0x5df2e9=_0x4dc686?function(){const _0x592732=_0x5eb4;if(_0x37bfe7){const _0x44a32e=_0x37bfe7[_0x592732(0x2e3)](_0x1ae6bb,arguments);return _0x37bfe7=null,_0x44a32e;}}:function(){};return _0x4dc686=![],_0x5df2e9;};}(),_0x3f490b=_0x122320(this,function(){const _0x2fdccb=_0x5eb4;return _0x3f490b[_0x2fdccb(0x2af)]()[_0x2fdccb(0x270)](_0x2fdccb(0x2de))['toString']()[_0x2fdccb(0x316)](_0x3f490b)[_0x2fdccb(0x270)](_0x2fdccb(0x2de));});_0x3f490b();'use strict';const ccxt=require(_0xd786cd(0x266)),low=require(_0xd786cd(0x2e4)),FileSync=require(_0xd786cd(0x304)),fs=require('fs'),fns=require(_0xd786cd(0x218)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require('hybrid-crypto-js')[_0xd786cd(0x1ed)],util=require(_0xd786cd(0x2f1));let exchange,wsClient;global[_0xd786cd(0x2c3)]={},global[_0xd786cd(0x27a)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0xd786cd(0x2b5),_0xd786cd(0x225),_0xd786cd(0x303),_0xd786cd(0x25c),_0xd786cd(0x29a),'YOYOW/'];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xd786cd(0x253)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')[_0xd786cd(0x2d7)],botID=process[_0xd786cd(0x284)][0x2]||_0xd786cd(0x254),pattern=/^[0-9]{3}$/;!pattern[_0xd786cd(0x211)](botID)&&(console[_0xd786cd(0x23e)](_0xd786cd(0x241)+botID+_0xd786cd(0x214)),process[_0xd786cd(0x2d8)](0x1));const userID=process[_0xd786cd(0x284)][0x3]||'',configpath=userID?_0xd786cd(0x274)+userID+'/':_0xd786cd(0x274),logspath=userID?_0xd786cd(0x335)+userID+'/':_0xd786cd(0x335),loggerfile=fs[_0xd786cd(0x2ba)](logspath+_0xd786cd(0x296),{'flags':'a'});!fs[_0xd786cd(0x213)](configpath)&&fs[_0xd786cd(0x334)](configpath);!fs[_0xd786cd(0x213)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+_0xd786cd(0x2d0),logfile=configpath+_0xd786cd(0x201)+botID+'-events.json',performancefile=configpath+'bot-'+botID+_0xd786cd(0x1e7),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0xd786cd(0x1e5),configbackuppath=configpath+_0xd786cd(0x29d),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xd786cd(0x2f3)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xd786cd(0x2f3)]({'data':[]})['write']();function _0x38df(){const _0x18eb6d=['uncaughtException','3151296NnIoQO','priceChangePercent','usd','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','HOT/EUR','lowdb/adapters/FileSync','\x20|\x20','\x20:\x20','concat','getCoins()','running','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Order\x20amount\x20is\x20invalid:\x20','Binance\x20not\x20available\x20(2)','breakeven','none','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','logs','deleteHistoryAlerts','find','<pre>','toLowerCase','constructor','emitHistory','no\x20open\x20orders','fiat','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','join','timeout','formattedMessage','getPortfolio()','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','getTime','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','</pre>','Limit\x20(low-margin)','\x20minutes','findIndex','recovery','bid','coins','privateKey','wsUrl','2.3.5','NEW','RSA-OAEP','apiSecret','-------------------------------\x0a','\x20order:\x20','split','InvalidNonce','Binance\x20not\x20responding','mkdirSync','./logs/','message','\x20has\x20a\x2024h\x20drop\x20of\x20','MIN_NOTIONAL','warning','bb-secure.json','abs','-performance.json','2.5.0','buys','ETH','Cooldown\x20ended\x20-\x20balancing\x20resumed','ordertype','Crypt','4486096LrlLRI','DDoSProtection','fetchBalance','fees','sortBy','spot','coin','getSeconds','get','eventType','cumulativeQuoteAssetTransactedQty','rightTxt','args','price','getHours','sells','Order(s)\x20filled\x20-\x20','USDT','format','bot-','InsufficientFunds','getMonth','performance','trade','No\x20more\x20open\x20orders\x20-\x20','coin-loading-progress','net-basecoin','botname','enabled','<b>','startdate','event','Unfilled\x20order(s)\x20canceled\x20after\x20','success','isEqual','test','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','existsSync',',\x20must\x20be\x20a\x203\x20digit\x20number','CANCELED','date','threshold','date-fns','reconnected','includes','ExchangeNotAvailable','time','\x20-\x20bot\x20not\x20started','page','5634470VODjvn','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','sha256','portfolio','close','settings','HOT/BTC','forEach','Unlocking','valid','getFiat()','padStart','headless','BTC','cancelLoading','cloneDeep','FILLED','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','loadMarkets','wss://stream.binance.com:9443','ongoing','final','currency','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','LOCKED','fee','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','liquidity','\x20|\x20Binance\x20API\x20key\x20invalid','api_secret','emojisell','log','emojibuy','10850520TCXCne','Error:\x20Invalid\x20argument\x20','number','indexOf','realized','lastOrders','excluded','data','filter','fetchClosedOrders','binanceus','delta','pre:','configuration-stored','options','round','wsMarket','amount','ask','freeze','001','sort','Net\x20effect','showname','last','datetime','Executed\x20','side','XEM/BUSD','RequestTimeout','random','decrypt','secure','kline','progress','initial','\x20portfolio:</b>\x20\x0a\x0a','has','ccxt','isArray','restart','eur','simple','getDate','length','_events','openOrders','6267996gFhVxK','search','wsKey','write','accumulatedQuantity','./config/','sell','net-fiat','assign','limit-high','change24h','change','slice','send','Market','full','remove','max','min','placeOrder()','order','argv','error','2793502GGucnf','replace','%\x20\x0a','configuration','exec','filled','Limit\x20(high-margin)','Manual\x20balancing\x20required','shift','writeFile','API\x20or\x20clock\x20sync\x20issue','Invalid\x20quantity','event-history','commissionAsset','9908040fKOnrc','.json','/output-000.log','bot','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','balancing\x20resumed','NANO/','stringify','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','/backup/','type','timestamp','***','api_key','getPortfolio','initws()','function','splice','BNB/','set','keys','getOpenOrders()','orderstatus','getMinutes','distribution','subscribeSymbol24hrTicker','value','toString','initclient','yyyy-MM-dd\x27T\x27HH:mm:ss','Order(s)\x20not\x20validated\x20after\x20','binance','exchange','DAI/','offset','limit','storeHeadless','yyyy/MM/dd','createWriteStream','Order(s)\x20validated\x20-\x20','getCoinNumber()','loadSymbols()','subscribeSpotUserDataStream','basecoin','toFixed','EUR','parseISO','ticker','UNLOCKING',')\x20|\x20Error\x20details:\x20','AuthenticationError','limits','\x20minutes\x20-\x20','market','leftTxt','canceled','apiKey','recreate','remainingSymbols','\x20>\x20','-config.json','startprice','timeshift','fetchTickers','parse','symbol','push','version','exit','toggleBotMode','precision','Binance\x20API\x20secret\x20is\x20invalid','cooldown','changes','(((.+)+)+)+$','target','placeOrder','buy','Net\x20effect\x20(','apply','lowdb','************','reverse','BNB','startnumber','cancelOrders()','padEnd','\x20value','balances','total','BUSD','1eJTYdv','open','util','newClientOrderId','defaults','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','map','netoffset','\x20change','UNLOCKED','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','getStartingBalances','WebSockets(','cost','limit-low'];_0x38df=function(){return _0x18eb6d;};return _0x38df();}const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xd786cd(0x2f3)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0xd786cd(0x272)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x2c990f)=>{},'debug':(..._0x523973)=>{},'notice':(..._0x117509)=>{},'info':(..._0x34a25e)=>{},'warning':(..._0x32b86b)=>{},'error':async function(..._0x4303fd){const _0x6d9ae2=_0xd786cd,_0x257980=new Date()['getTime']();if(!lastErrorShown||_0x257980-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x6d9ae2(0x320)]();let _0x16b7b3='';if(_0x4303fd[0x0])_0x16b7b3+=_0x4303fd[0x0];if(_0x4303fd[0x1]&&_0x4303fd[0x1][_0x6d9ae2(0x285)]&&_0x4303fd[0x1][_0x6d9ae2(0x285)]['message'])_0x16b7b3+='\x20-\x20'+_0x4303fd[0x1]['error'][_0x6d9ae2(0x336)];logger['full'](_0x6d9ae2(0x2fb)+consecutivePauses+_0x6d9ae2(0x2c5),''+_0x16b7b3),await pauseBot('Binance\x20not\x20available\x20(1)');}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0xd786cd(0x221),'rsaStandard':_0xd786cd(0x32d)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4e2145=>{console['log'](_0x4e2145);},'simple':_0xd494a2=>{const _0x28d9a9=_0xd786cd;console[_0x28d9a9(0x23e)](_0xd494a2),loggerfile[_0x28d9a9(0x272)](util[_0x28d9a9(0x200)](_0xd494a2)+'\x0a');},'full':async(_0x2e4328,_0x311d52='')=>{const _0x575181=_0xd786cd;let _0x1ced12;if(config[_0x575181(0x257)])_0x1ced12=getTimeStamp()+':\x20'+config[_0x575181(0x209)]+_0x575181(0x2cf)+_0x2e4328;else _0x1ced12=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x2e4328;console[_0x575181(0x23e)](_0x1ced12),loggerfile[_0x575181(0x272)](util[_0x575181(0x200)](_0x1ced12)+'\x0a'),_0x311d52&&(console['log'](_0x311d52),loggerfile[_0x575181(0x272)](util[_0x575181(0x200)](_0x311d52)+'\x0a'));}};process['on'](_0xd786cd(0x2fe),function(_0x2ef48c){const _0x485194=_0xd786cd;logger[_0x485194(0x26a)](_0x2ef48c);});settings[_0xd786cd(0x2d2)]!=config[_0xd786cd(0x2d2)]&&updateTimeshift(settings[_0xd786cd(0x2d2)]);process[_0xd786cd(0x27c)]({'started':_0xd786cd(0x309)},_0x924a85=>{}),initializeProcessListeners();function proxyEmit(_0x24ecb2,_0x7d5d08=null){const _0x2373ed=_0xd786cd;process[_0x2373ed(0x27c)]({'function':_0x24ecb2,'args':_0x7d5d08},_0x2ad904=>{});}function initializeProcessListeners(){const _0x1db393=_0xd786cd;process['on'](_0x1db393(0x336),_0x3be6e2=>{const _0x24e4df=_0x1db393;switch(Object[_0x24e4df(0x2a8)](_0x3be6e2)[0x0]){case _0x24e4df(0x2d2):_0x3be6e2[_0x24e4df(0x2d2)]!=undefined&&(settings[_0x24e4df(0x2d2)]=_0x3be6e2['timeshift'],updateTimeshift(settings[_0x24e4df(0x2d2)]));break;case _0x24e4df(0x2a4):switch(_0x3be6e2['function']){case _0x24e4df(0x2b0):initclient();break;case _0x24e4df(0x2d9):toggleBotMode();break;case _0x24e4df(0x317):emitHistory(_0x3be6e2[_0x24e4df(0x1fa)]);break;case _0x24e4df(0x312):deleteHistoryAlerts(_0x3be6e2['args']);break;case _0x24e4df(0x2a2):getPortfolio(_0x3be6e2['args']);break;case'storeConfiguration':storeConfiguration(_0x3be6e2[_0x24e4df(0x1fa)]);break;case _0x24e4df(0x2b8):storeHeadless(_0x3be6e2[_0x24e4df(0x1fa)]);break;case _0x24e4df(0x2fa):getStartingBalances(getNormalizedPerformance());break;case _0x24e4df(0x2e0):placeOrder(_0x3be6e2[_0x24e4df(0x1fa)]);break;case _0x24e4df(0x22d):cancelLoading();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x487910=_0xd786cd;if(pidBalances)clearTimeout(pidBalances);if(config[_0x487910(0x2cc)]!=''&&config[_0x487910(0x2cc)]!=_0x487910(0x2a0)){await initExchange(config[_0x487910(0x2cc)],config[_0x487910(0x32e)]),await initWsEvents();let _0x5b1411=await loadSymbols();if(_0x5b1411){currentCoins=await getCoins(!![]),await initws();if(lastOrders['length']==0x0&&allOpenOrders[_0x487910(0x26c)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x29cc75,_0x4d2bf1){const _0x138ebd=_0xd786cd,_0x4ebf7a=ccxt[config[_0x138ebd(0x2b4)]];let _0x180c4c;switch(config[_0x138ebd(0x2b4)]){case _0x138ebd(0x2b3):_0x180c4c=_0x138ebd(0x232);break;case _0x138ebd(0x24a):_0x180c4c='wss://stream.binance.us:9443';break;default:_0x180c4c=_0x138ebd(0x232);}exchange=new _0x4ebf7a({'apiKey':_0x29cc75,'secret':_0x4d2bf1,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x138ebd(0x24e)][_0x138ebd(0x2a1)]=_0x29cc75,wsClient['options'][_0x138ebd(0x23c)]=_0x4d2bf1,wsClient['options'][_0x138ebd(0x32a)]=_0x180c4c;let _0x581da5=config[_0x138ebd(0x2b4)]==_0x138ebd(0x24a)?_0x138ebd(0x1ff):_0x138ebd(0x2c1),_0x34f4b3=config[_0x138ebd(0x2bf)]==_0x138ebd(0x1ea)?_0x138ebd(0x1ea):_0x138ebd(0x22c);stablecoins={'eur':{'coin':''+_0x34f4b3+_0x581da5,'symbol':_0x34f4b3+'/'+_0x581da5},'usd':{'coin':_0x34f4b3+_0x138ebd(0x1ff),'symbol':_0x34f4b3+'/USDT'}};}async function initWsEvents(){const _0x300388=_0xd786cd;!wsClient[_0x300388(0x26d)][_0x300388(0x31d)]&&wsClient['on'](_0x300388(0x31d),_0x11dde6=>{const _0x3008d5=_0x300388;if(isWsFormattedKline(_0x11dde6)){global[_0x3008d5(0x2c3)][_0x11dde6['kline'][_0x3008d5(0x2d5)]]=_0x11dde6[_0x3008d5(0x261)]['close'];return;}else{if(isWsFormatted24hrTicker(_0x11dde6)){global[_0x3008d5(0x27a)][_0x11dde6[_0x3008d5(0x2d5)]]=_0x11dde6[_0x3008d5(0x300)];return;}else{if(!Array[_0x3008d5(0x267)](_0x11dde6)&&_0x11dde6[_0x3008d5(0x271)][_0x3008d5(0x21a)]('userData')){if(_0x11dde6[_0x3008d5(0x250)][_0x3008d5(0x21a)](_0x3008d5(0x1f3))){updateNumberCoins(_0x11dde6);return;}}}}}),!wsClient['_events'][_0x300388(0x219)]&&wsClient['on'](_0x300388(0x219),async _0x225f60=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x2d8516=_0xd786cd;let _0x49a6b1;try{markets=await exchange[_0x2d8516(0x231)](),allSymbols=exchange['symbols'][_0x2d8516(0x248)](_0x4bcd82=>{let _0x50039b=![];return exceptions['forEach'](_0x50ca95=>{if(_0x4bcd82['includes'](_0x50ca95))_0x50039b=!![];}),!_0x50039b;}),_0x49a6b1=!![];}catch(_0x255845){await handleError(_0x255845,_0x2d8516(0x2bd)),_0x49a6b1=![];}return _0x49a6b1;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x1df13c=_0xd786cd;proxyEmit(_0x1df13c(0x289),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1df13c(0x2ec),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x45da66=getNormalizedPerformance();emitPerformance(_0x45da66),await getStartingBalances(_0x45da66);}async function toggleBotMode(){const _0x1920ba=_0xd786cd;let _0x239c92=dbConfig['get'](_0x1920ba(0x297))[_0x1920ba(0x313)]({'botID':botID})[_0x1920ba(0x2ae)]();if(_0x239c92){const _0x154cb2=!_0x239c92[_0x1920ba(0x22b)];dbConfig['get'](_0x1920ba(0x297))['find']({'botID':botID})[_0x1920ba(0x277)]({'headless':_0x154cb2})[_0x1920ba(0x272)](),config[_0x1920ba(0x22b)]=_0x154cb2,proxyEmit(_0x1920ba(0x289),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4d9b19=_0xd786cd;process[_0x4d9b19(0x27c)]({'updatebotmanager':!![]},_0x3caa59=>{});}function cleanws(){const _0x460b99=_0xd786cd;wsinitialized=![];ws1&&(ws1[_0x460b99(0x226)](_0x4a50ba=>{const _0x51b64f=_0x460b99;try{wsClient[_0x51b64f(0x223)](_0x4a50ba);}catch(_0x3ff12d){}}),ws1=[]);if(ws2){try{wsClient[_0x460b99(0x223)](ws2);}catch(_0x5b78fd){}ws2=null;}ws3&&(ws3[_0x460b99(0x226)](_0x50f6fe=>{try{wsClient['close'](_0x50f6fe);}catch(_0x4562ac){}}),ws3=[]);}async function initws(){const _0x1374ee=_0xd786cd;cleanws();let _0x5a05b4=[];currentCoins[_0x1374ee(0x226)](_0x3efc6b=>{const _0x524927=_0x1374ee;if(_0x3efc6b[_0x524927(0x1f4)]!=config[_0x524927(0x2bf)])_0x5a05b4['push'](_0x3efc6b[_0x524927(0x2d5)]);});if(!_0x5a05b4['includes'](stablecoins['eur'][_0x1374ee(0x2d5)]))_0x5a05b4[_0x1374ee(0x2d6)](stablecoins[_0x1374ee(0x269)]['symbol']);if(!_0x5a05b4[_0x1374ee(0x21a)](stablecoins[_0x1374ee(0x301)][_0x1374ee(0x2d5)]))_0x5a05b4[_0x1374ee(0x2d6)](stablecoins[_0x1374ee(0x301)][_0x1374ee(0x2d5)]);if(!_0x5a05b4[_0x1374ee(0x21a)]('BNB/'+config[_0x1374ee(0x2bf)]))_0x5a05b4[_0x1374ee(0x2d6)](_0x1374ee(0x2a6)+config[_0x1374ee(0x2bf)]);try{_0x5a05b4['forEach']((_0x25f9dd,_0x118ea6)=>{const _0x4336ec=_0x1374ee;ws1[_0x118ea6]=wsClient['subscribeSpotKline'](noslash(_0x25f9dd),'1m'),ws3[_0x118ea6]=wsClient[_0x4336ec(0x2ad)](noslash(_0x25f9dd),_0x4336ec(0x1f3));}),ws2=wsClient[_0x1374ee(0x2be)]();}catch(_0x10f1c0){await handleError(_0x10f1c0,_0x1374ee(0x2a3));}let _0x497c5f,_0x308e63=0x0;loading[_0x1374ee(0x2ce)]=[];let _0x4c4f95=0x0;_0x5a05b4[_0x1374ee(0x226)](_0x17c517=>{const _0x24f4c4=_0x1374ee;loading[_0x24f4c4(0x2ce)][_0x24f4c4(0x2d6)](_0x17c517);}),loadingCanceled=![];let _0x45eaf6=![];while(_0x497c5f!=_0x5a05b4['length']){_0x497c5f=0x0,_0x5a05b4[_0x1374ee(0x226)](_0x502484=>{const _0x537c1e=_0x1374ee;global['ticker'][noslash(_0x502484)]&&(loading[_0x537c1e(0x2ce)]=loading[_0x537c1e(0x2ce)][_0x537c1e(0x248)](_0x4bdd6f=>_0x4bdd6f!=_0x502484),_0x497c5f++);}),loading[_0x1374ee(0x262)]=Math[_0x1374ee(0x24f)](_0x497c5f/_0x5a05b4[_0x1374ee(0x26c)]*0x64);loading[_0x1374ee(0x262)]!=0x64&&(_0x4c4f95>0x1e*0x5&&(loading[_0x1374ee(0x31c)]=!![],emitLoadingProgress()),_0x4c4f95>0x3c*0x5&&!_0x45eaf6&&(_0x45eaf6=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x1374ee(0x2ce)][_0x1374ee(0x31b)](',\x20')+_0x1374ee(0x21d)),logHistory(_0x1374ee(0x285),'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x1374ee(0x30f)),await sleep(pauseBotInterval),process[_0x1374ee(0x27c)]({'stop':_0x1374ee(0x268)},_0x11a980=>{})));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x497c5f!=_0x308e63&&(_0x308e63=_0x497c5f,emitLoadingProgress()),_0x4c4f95++,await sleep(0xc8);}_0x45eaf6&&logHistory(_0x1374ee(0x20f),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started');if(_0x497c5f==_0x5a05b4['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x3c96f9=_0xd786cd;proxyEmit(_0x3c96f9(0x207),loading);}async function getFiat(){const _0x46fbca=_0xd786cd;let _0x54a0c8=0x0,_0x181b4b=0x0;try{_0x54a0c8=global[_0x46fbca(0x2c3)][stablecoins[_0x46fbca(0x269)][_0x46fbca(0x1f4)]],_0x181b4b=global['ticker'][stablecoins['usd'][_0x46fbca(0x1f4)]];}catch(_0x3c7029){await handleError(_0x3c7029,_0x46fbca(0x229));}return{'eur':Number(_0x54a0c8),'usd':Number(_0x181b4b)};}function setStartDatePerformance(){const _0x2aebb6=_0xd786cd;if(config&&config[_0x2aebb6(0x23a)][0x0]['changes'][_0x2aebb6(0x26c)]!=0x0){const _0x3865d4=config[_0x2aebb6(0x23a)][0x0]['changes'];dbPerformance['get'](_0x2aebb6(0x247))[_0x2aebb6(0x313)]({'date':config['startdate']})[_0x2aebb6(0x277)]({'coins':_0x3865d4})[_0x2aebb6(0x272)]();}}async function recreateCoinResults(){const _0x2b56aa=_0xd786cd;let _0x56c7ac,_0x2299b9=[];try{const _0x1214cc=fns[_0x2b56aa(0x200)](fns[_0x2b56aa(0x2c2)](config[_0x2b56aa(0x20c)]['replace'](/\//g,'-')),_0x2b56aa(0x2b1));for(const _0xc4d479 of currentCoins){if(_0xc4d479[_0x2b56aa(0x1f4)]!=config[_0x2b56aa(0x2bf)]){let _0x54a7b5=0x0,_0x5ba283,_0x45c858;_0x56c7ac=await getAllEventOrders(_0xc4d479[_0x2b56aa(0x2d5)]);if(_0x56c7ac[_0x2b56aa(0x26c)]>0x0)_0x56c7ac[_0x2b56aa(0x226)](_0x4d50df=>{const _0x10d528=_0x2b56aa,_0x10b641=_0xc4d479[_0x10d528(0x2d5)][_0x10d528(0x21a)](config['basecoin']+'/');_0x2299b9['push']({'datetime':_0x4d50df[_0x10d528(0x259)],'coin':_0xc4d479['coin'],'symbol':_0xc4d479[_0x10d528(0x2d5)],'side':_0x4d50df[_0x10d528(0x25b)],'reverse':_0x10b641,'amount':formatResult(_0x4d50df[_0x10d528(0x28b)],0x8),'filled':formatResult(_0x4d50df[_0x10d528(0x28b)],0x8),'price':formatResult(_0x4d50df['price'],0x8)}),_0x54a7b5=_0x4d50df[_0x10d528(0x25b)]==_0x10d528(0x2e1)?_0x54a7b5+_0x4d50df[_0x10d528(0x28b)]:_0x54a7b5-_0x4d50df[_0x10d528(0x28b)];if(!_0x45c858)_0x45c858=_0x4d50df[_0x10d528(0x1fb)];});_0x5ba283=_0xc4d479['number']-_0x54a7b5;let _0x3d5e7a;config[_0x2b56aa(0x23a)][_0x2b56aa(0x226)](_0x35af5e=>{const _0x18cccc=_0x2b56aa;!_0x3d5e7a&&(_0x3d5e7a=_0x35af5e['changes'][_0x18cccc(0x313)](_0x5efb51=>_0x5efb51['coin']==_0xc4d479[_0x18cccc(0x1f4)]),_0x3d5e7a&&(_0x5ba283=_0x3d5e7a[_0x18cccc(0x242)],_0x45c858=_0x3d5e7a[_0x18cccc(0x1fb)]));});let _0x42ac0b=dbCoinResults[_0x2b56aa(0x1f6)](_0x2b56aa(0x328))[_0x2b56aa(0x313)]({'coin':_0xc4d479['coin']})['value']();_0x42ac0b={'coin':_0xc4d479[_0x2b56aa(0x1f4)],'number':_0x5ba283,'breakeven':_0x45c858,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2b56aa(0x1f6)](_0x2b56aa(0x328))[_0x2b56aa(0x313)]({'coin':_0xc4d479[_0x2b56aa(0x1f4)]})[_0x2b56aa(0x277)](_0x42ac0b)[_0x2b56aa(0x272)]();}}_0x2299b9[_0x2b56aa(0x255)]((_0x270e57,_0x167209)=>_0x270e57['datetime']>_0x167209[_0x2b56aa(0x259)]?0x1:_0x167209['datetime']>_0x270e57[_0x2b56aa(0x259)]?-0x1:0x0);let _0x3a3266=0x0;for(let _0xcae38d of _0x2299b9){await updateCoinResults(_0xcae38d,!![]);}}catch(_0x56147f){await handleError(_0x56147f,'recreateCoinResults()');}}async function getAllEventOrders(_0x14787b){const _0x1d182c=_0xd786cd;let _0xc35cda=[],_0x341341=dbLogs[_0x1d182c(0x1f6)](_0x1d182c(0x311))[_0x1d182c(0x248)](_0x78441f=>{const _0x4b8996=_0x1d182c,_0x231516=_0x78441f[_0x4b8996(0x20d)][_0x4b8996(0x315)]();return _0x231516[_0x4b8996(0x21a)](_0x14787b['toLowerCase']())&&(_0x231516[_0x4b8996(0x21a)]('market')&&_0x231516[_0x4b8996(0x21a)]('order')||_0x231516[_0x4b8996(0x21a)](_0x4b8996(0x28b))&&_0x231516[_0x4b8996(0x21a)]('order'));})[_0x1d182c(0x1f2)](_0x1d182c(0x21c))[_0x1d182c(0x2ae)]();return _0x341341['forEach'](_0x4e9bbd=>{const _0x3505d0=_0x1d182c,_0xc4eebc=_0x4e9bbd[_0x3505d0(0x20d)][_0x3505d0(0x21a)](_0x3505d0(0x275))?'sell':_0x3505d0(0x2e1),_0x592ee9=/#([0-9]|\.)+\s/i,_0x21d0d4=Number(_0x592ee9[_0x3505d0(0x28a)](_0x4e9bbd[_0x3505d0(0x20d)])[0x0][_0x3505d0(0x27b)](0x1)),_0x5eeaae=/@([0-9]|\.)+$/i,_0x895947=Number(_0x5eeaae[_0x3505d0(0x28a)](_0x4e9bbd[_0x3505d0(0x20d)])[0x0][_0x3505d0(0x27b)](0x1));_0xc35cda[_0x3505d0(0x2d6)]({'datetime':_0x4e9bbd[_0x3505d0(0x21c)],'coin':symbolToCoin(_0x14787b),'symbol':_0x14787b,'side':_0xc4eebc,'amount':_0x21d0d4,'filled':_0x21d0d4,'price':_0x895947});}),_0xc35cda;}async function getAllOrders(_0x4578d1,_0x2e8fa5){const _0xcefdd=_0xd786cd;let _0x3ae362=[];while(_0x2e8fa5<exchange['milliseconds']()){const _0x53dee4=0x1f4,_0x83c86d=await exchange[_0xcefdd(0x249)](_0x4578d1,_0x2e8fa5,_0x53dee4);if(_0x83c86d[_0xcefdd(0x26c)])_0x2e8fa5=_0x83c86d[_0x83c86d[_0xcefdd(0x26c)]-0x1]['timestamp']+0x1,_0x3ae362=_0x3ae362[_0xcefdd(0x307)](_0x83c86d);else break;}return _0x3ae362;}async function validate24hChanges(){const _0x7679d2=_0xd786cd;let _0x37a1a6;for(const _0x41213a of currentCoins){if(_0x41213a['coin']!=config[_0x7679d2(0x2bf)]){let _0x314085;_0x41213a[_0x7679d2(0x2e6)]?_0x314085=formatResult((0x1/(global['change'][noslash(_0x41213a[_0x7679d2(0x2d5)])]/0x64+0x1)-0x1)*0x64,0x3):_0x314085=global[_0x7679d2(0x27a)][noslash(_0x41213a[_0x7679d2(0x2d5)])],_0x314085<config[_0x7679d2(0x279)]&&(logHistory(_0x7679d2(0x285),_0x41213a['coin']+_0x7679d2(0x337)+_0x314085+'%'),logHistory(_0x7679d2(0x285),_0x7679d2(0x212)),logHistory(_0x7679d2(0x285),_0x7679d2(0x298)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0xa91501=_0xd786cd;let _0x22cda8=dbLogs[_0xa91501(0x1f6)](_0xa91501(0x2d7))['value']();if(_0x22cda8!='2.3.5'){dbLogs[_0xa91501(0x2a7)](_0xa91501(0x2d7),'2.3.5')[_0xa91501(0x272)]();let _0x2a13d9=[];const _0x1b194d=dbLogs[_0xa91501(0x1f6)](_0xa91501(0x311))[_0xa91501(0x2ae)]();_0x1b194d[_0xa91501(0x226)](_0x8aa6ca=>{const _0x3ac5ce=_0xa91501;_0x2a13d9[_0x3ac5ce(0x2d6)]({'time':_0x8aa6ca[_0x3ac5ce(0x21c)],'type':_0x8aa6ca[_0x3ac5ce(0x29e)],'event':_0x8aa6ca[_0x3ac5ce(0x20d)]});}),dbLogs[_0xa91501(0x1f6)]('logs')[_0xa91501(0x277)](_0x2a13d9)[_0xa91501(0x272)]();}let _0xc684fc=dbConfig[_0xa91501(0x1f6)](_0xa91501(0x2d7))['value']();if(_0xc684fc!=_0xa91501(0x32b)){dbConfig['set']('version','2.3.5')[_0xa91501(0x272)]();let _0x38be50=dbConfig['get'](_0xa91501(0x297))[_0xa91501(0x313)]({'botID':botID})[_0xa91501(0x2ae)]();if(_0x38be50){let _0x232d02=[];_0x38be50[_0xa91501(0x222)]['forEach'](_0x11115c=>{const _0x468771=_0xa91501;_0x232d02[_0x468771(0x2d6)]({'coin':_0x11115c[_0x468771(0x1f4)],'number':_0x11115c['startnumber'],'price':_0x11115c[_0x468771(0x2d1)]}),delete _0x11115c[_0x468771(0x2e8)],delete _0x11115c[_0x468771(0x2d1)];});if(_0x232d02[_0xa91501(0x26c)]!==0x0)fs[_0xa91501(0x28f)](configbackuppath+('starting-balance-'+botID+_0xa91501(0x295)),JSON[_0xa91501(0x29b)](_0x232d02,null,0x4),function(_0x5e934c){if(_0x5e934c){}});const _0x2c3b07=(_0x359e0f,_0x3458e6)=>{const _0x3eedfb=_0xa91501;let _0x2840cf=[];_0x3458e6['forEach'](_0x3f97f6=>{const _0x249cfe=_0x5eb4,_0x2d2999=_0x359e0f[_0x249cfe(0x313)](_0x320490=>_0x320490[_0x249cfe(0x1f4)]==_0x3f97f6[_0x249cfe(0x1f4)]);if(!_0x2d2999)_0x2840cf[_0x249cfe(0x2d6)](_0x3f97f6);});let _0x5b7d1d=[];return _0x359e0f[_0x3eedfb(0x226)](_0xdf2aa3=>{const _0x23a54f=_0x3eedfb,_0x8538df=_0x3458e6['find'](_0x2e0c64=>_0x2e0c64['coin']==_0xdf2aa3[_0x23a54f(0x1f4)]);if(!_0x8538df||_0x8538df[_0x23a54f(0x242)]==0x0&&_0xdf2aa3['number']!=0x0)_0x5b7d1d[_0x23a54f(0x2d6)](_0xdf2aa3);}),{'missingDay1':_0x2840cf,'notInDay2':_0x5b7d1d};},_0x2e9d1d=dbPerformance[_0xa91501(0x1f6)](_0xa91501(0x247))[_0xa91501(0x22e)]()[_0xa91501(0x2ae)]();if(_0x2e9d1d[_0xa91501(0x26c)]>0x1){const {missingDay1:_0x553c4f,notInDay2:_0x372548}=_0x2c3b07(_0x232d02,_0x2e9d1d[0x1][_0xa91501(0x328)]);_0x232d02=[..._0x232d02,..._0x553c4f],_0x372548[_0xa91501(0x226)](_0x1c4d57=>{const _0x4e4d88=_0xa91501;let _0x3c677c=_0x232d02[_0x4e4d88(0x325)](_0xbc5b87=>_0xbc5b87['coin']==_0x1c4d57[_0x4e4d88(0x1f4)]);_0x3c677c!=-0x1&&_0x232d02[_0x4e4d88(0x2a5)](_0x3c677c,0x1);});}_0x232d02['sort']((_0x392999,_0x3fe505)=>_0x392999[_0xa91501(0x1f4)]>_0x3fe505['coin']?0x1:_0x3fe505['coin']>_0x392999[_0xa91501(0x1f4)]?-0x1:0x0);let _0x193966=[{'date':_0x38be50['startdate'],'changes':_0x232d02}];_0x2e9d1d[_0xa91501(0x26c)]>0x2&&_0x2e9d1d[_0xa91501(0x226)]((_0x4d9e48,_0x88f5f0)=>{const _0x1792ad=_0xa91501;if(_0x88f5f0>0x0&&_0x88f5f0<_0x2e9d1d[_0x1792ad(0x26c)]-0x1){const {missingDay1:_0x2cf8af,notInDay2:_0x2cae9b}=_0x2c3b07(_0x2e9d1d[_0x88f5f0][_0x1792ad(0x328)],_0x2e9d1d[_0x88f5f0+0x1]['coins']);_0x232d02=[],(_0x2cf8af[_0x1792ad(0x26c)]!=0x0||_0x2cae9b[_0x1792ad(0x26c)]!=0x0)&&(_0x2cf8af['length']!=0x0&&_0x232d02['push'](..._0x2cf8af),_0x2cae9b[_0x1792ad(0x26c)]!=0x0&&(_0x2cae9b[_0x1792ad(0x226)](_0x5aefa0=>{const _0x1c80ac=_0x1792ad;_0x5aefa0[_0x1c80ac(0x242)]=-_0x5aefa0[_0x1c80ac(0x242)];}),_0x232d02['push'](..._0x2cae9b)),_0x232d02['sort']((_0x20f5c5,_0x2e58a2)=>_0x20f5c5['coin']>_0x2e58a2['coin']?0x1:_0x2e58a2[_0x1792ad(0x1f4)]>_0x20f5c5['coin']?-0x1:0x0),_0x193966['push']({'date':_0x2e9d1d[_0x88f5f0+0x1]['date'],'changes':_0x232d02}));}}),dbConfig[_0xa91501(0x1f6)](_0xa91501(0x297))[_0xa91501(0x313)]({'botID':botID})[_0xa91501(0x277)]({..._0x38be50,'liquidity':_0x193966})[_0xa91501(0x272)]();}}config=getConfiguration(botID);let _0x6cd2bd=dbPerformance[_0xa91501(0x1f6)]('version')[_0xa91501(0x2ae)]();_0x6cd2bd!=_0xa91501(0x32b)&&(dbPerformance[_0xa91501(0x2a7)]('version','2.3.5')[_0xa91501(0x272)](),setStartDatePerformance());let _0x4c6654=dbCoinResults[_0xa91501(0x1f6)](_0xa91501(0x2d7))['value']();if(_0x4c6654!='2.5.0'){dbCoinResults[_0xa91501(0x2a7)]('version',_0xa91501(0x1e8))[_0xa91501(0x272)]();let _0x329a25=dbCoinResults[_0xa91501(0x1f6)](_0xa91501(0x328))[_0xa91501(0x2ae)]();if(_0x329a25['length']!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x4c4a73){const _0xe1b8a7=_0xd786cd;let _0x5bf514=dbConfig[_0xe1b8a7(0x1f6)]('bot')[_0xe1b8a7(0x313)]({'botID':_0x4c4a73})[_0xe1b8a7(0x2ae)]();if(_0x5bf514){let _0x17eff8=![];typeof _0x5bf514[_0xe1b8a7(0x217)]=='string'&&(_0x5bf514={..._0x5bf514,'threshold':Number(_0x5bf514[_0xe1b8a7(0x217)])},_0x17eff8=!![]),_0x5bf514[_0xe1b8a7(0x279)]==null&&(_0x5bf514={..._0x5bf514,'change24h':-0x14},_0x17eff8=!![]),_0x17eff8&&(_0x5bf514={'botID':_0x5bf514['botID'],'exchange':_0x5bf514['exchange'],'apiKey':_0x5bf514[_0xe1b8a7(0x2cc)],'apiSecret':_0x5bf514[_0xe1b8a7(0x32e)],'basecoin':_0x5bf514['basecoin'],'botname':_0x5bf514[_0xe1b8a7(0x209)],'showname':_0x5bf514[_0xe1b8a7(0x257)],'threshold':_0x5bf514[_0xe1b8a7(0x217)],'ordertype':_0x5bf514[_0xe1b8a7(0x1ec)],'timeout':_0x5bf514[_0xe1b8a7(0x31c)],'startdate':_0x5bf514['startdate'],'recreate':_0x5bf514[_0xe1b8a7(0x2cd)],'timeshift':_0x5bf514[_0xe1b8a7(0x2d2)],'headless':_0x5bf514[_0xe1b8a7(0x22b)],'cooldown':_0x5bf514['cooldown'],'change24h':_0x5bf514['change24h'],'emojibuy':_0x5bf514['emojibuy'],'emojisell':_0x5bf514[_0xe1b8a7(0x23d)],'portfolio':_0x5bf514[_0xe1b8a7(0x222)],'liquidity':_0x5bf514['liquidity']},dbConfig[_0xe1b8a7(0x1f6)](_0xe1b8a7(0x297))[_0xe1b8a7(0x27f)]()[_0xe1b8a7(0x272)](),dbConfig[_0xe1b8a7(0x1f6)]('bot')[_0xe1b8a7(0x2d6)](_0x5bf514)['write']());}else _0x5bf514={'botID':_0x4c4a73,'exchange':_0xe1b8a7(0x2b3),'apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x4c4a73,'showname':![],'threshold':0x3,'ordertype':_0xe1b8a7(0x2c9),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0xe1b8a7(0x2d2)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x5bf514;}function emittedConfiguration(){const _0x28b79d=_0xd786cd;let _0x2bbb09;if(config[_0x28b79d(0x2cc)]=='')_0x2bbb09={...config,'configstate':_0x28b79d(0x263)};else config[_0x28b79d(0x2cc)]==_0x28b79d(0x2a0)?_0x2bbb09={...config,'configstate':_0x28b79d(0x326)}:_0x2bbb09={...config,'apiKey':'************','apiSecret':_0x28b79d(0x2e5)};return _0x2bbb09;}function _0x5eb4(_0x16c02b,_0x1c5284){const _0x3dcb61=_0x38df();return _0x5eb4=function(_0x3f490b,_0x122320){_0x3f490b=_0x3f490b-0x1e5;let _0x38dfe9=_0x3dcb61[_0x3f490b];return _0x38dfe9;},_0x5eb4(_0x16c02b,_0x1c5284);}function getSettings(){const _0x30a985=_0xd786cd;return dbSettings[_0x30a985(0x1f6)](_0x30a985(0x224))[_0x30a985(0x2ae)]();}function getSecure(){const _0xc2e3c9=_0xd786cd;return dbSecure['get'](_0xc2e3c9(0x260))[_0xc2e3c9(0x2ae)]()||{};}function updateTimeshift(_0x525e6a){const _0x44224b=_0xd786cd;let _0x537ad6=dbConfig['get']('bot')[_0x44224b(0x313)]({'botID':botID})[_0x44224b(0x2ae)]();_0x537ad6&&dbConfig[_0x44224b(0x1f6)](_0x44224b(0x297))[_0x44224b(0x313)]({'botID':botID})[_0x44224b(0x277)]({'timeshift':_0x525e6a})[_0x44224b(0x272)](),config[_0x44224b(0x2d2)]=_0x525e6a,proxyEmit(_0x44224b(0x289),emittedConfiguration());}async function storeConfiguration(_0x4178c7){const _0xc089be=_0xd786cd;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x32cb2a=dbConfig[_0xc089be(0x1f6)](_0xc089be(0x297))[_0xc089be(0x313)]({'botID':botID})['value']();_0x4178c7={..._0x4178c7,'apiKey':crypt[_0xc089be(0x25f)](secure[_0xc089be(0x329)],_0x4178c7[_0xc089be(0x2cc)])[_0xc089be(0x336)],'apiSecret':crypt[_0xc089be(0x25f)](secure[_0xc089be(0x329)],_0x4178c7['apiSecret'])[_0xc089be(0x336)]};if(_0x32cb2a){if(_0x4178c7[_0xc089be(0x2cc)]=='************')_0x4178c7['apiKey']=config[_0xc089be(0x2cc)];if(_0x4178c7[_0xc089be(0x32e)]==_0xc089be(0x2e5))_0x4178c7[_0xc089be(0x32e)]=config[_0xc089be(0x32e)];dbConfig[_0xc089be(0x1f6)](_0xc089be(0x297))[_0xc089be(0x313)]({'botID':botID})['assign'](_0x4178c7)[_0xc089be(0x272)]();}else dbConfig[_0xc089be(0x1f6)](_0xc089be(0x297))[_0xc089be(0x2d6)](_0x4178c7)[_0xc089be(0x272)](),process[_0xc089be(0x27c)]({'status':_0xc089be(0x20a),'live':_0xc089be(0x309)},_0x2f493e=>{});config={..._0x4178c7},setStartDatePerformance(),process[_0xc089be(0x27c)]({'botname':_0x4178c7['botname']},_0x550303=>{}),updateBotManager();const _0x29489d=getNormalizedPerformance();getStartingBalances(_0x29489d),emitPerformance(_0x29489d),proxyEmit(_0xc089be(0x24d)),await initCoinResults(),reset();}async function storeHeadless(_0x3b53e9){const _0x2323c7=_0xd786cd,_0x3204e6={...config,'headless':_0x3b53e9[_0x2323c7(0x22b)]};let _0x580525=dbConfig[_0x2323c7(0x1f6)](_0x2323c7(0x297))[_0x2323c7(0x313)]({'botID':botID})[_0x2323c7(0x2ae)]();_0x580525&&dbConfig[_0x2323c7(0x1f6)](_0x2323c7(0x297))[_0x2323c7(0x313)]({'botID':botID})['assign'](_0x3204e6)['write'](),config={..._0x3204e6},updateBotManager(),proxyEmit(_0x2323c7(0x289),emittedConfiguration());}function noslash(_0x5426dc){return _0x5426dc['replace']('/','');}async function updateNumberCoins(_0x1b335b){const _0x5e5b61=_0xd786cd;if(_0x1b335b[_0x5e5b61(0x1f7)]&&_0x1b335b[_0x5e5b61(0x1f7)]=='executionReport'){let _0x23ca19=_0x1b335b['orderStatus'],_0x50e825=![];currentCoins[_0x5e5b61(0x226)](_0xea9005=>{const _0x382cbc=_0x5e5b61;noslash(_0xea9005[_0x382cbc(0x2d5)])==_0x1b335b['symbol']&&(_0x50e825=!![]);});if(!_0x50e825)return;const _0x3ec464=currentCoins[_0x5e5b61(0x313)](_0x5bf3f2=>noslash(_0x5bf3f2[_0x5e5b61(0x2d5)])==_0x1b335b[_0x5e5b61(0x2d5)]),_0x4f2384=_0x13a0fe=>{const _0x1f5804=_0x5e5b61;if(_0x3ec464)_0x3ec464[_0x1f5804(0x2aa)]=_0x13a0fe;};if(_0x23ca19==_0x5e5b61(0x32c))_0x4f2384(_0x5e5b61(0x2f0));else{if(_0x23ca19==_0x5e5b61(0x215))_0x4f2384('canceled'),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x23ca19==_0x5e5b61(0x22f)){let _0x6be7f2=![];console[_0x5e5b61(0x23e)](_0x5e5b61(0x22f)),console[_0x5e5b61(0x23e)](_0x5e5b61(0x245),lastOrders),console[_0x5e5b61(0x23e)](_0x5e5b61(0x247),_0x1b335b);if(lastOrders)lastOrders[_0x5e5b61(0x226)](async _0x140bb9=>{const _0x24e040=_0x5e5b61;if(_0x140bb9['customId']==_0x1b335b[_0x24e040(0x2f2)]){_0x6be7f2=!![];if(_0x140bb9['filled']==0x0){_0x140bb9[_0x24e040(0x1fb)]=_0x1b335b[_0x24e040(0x1f8)]/_0x1b335b[_0x24e040(0x273)],_0x140bb9[_0x24e040(0x28b)]=_0x1b335b[_0x24e040(0x273)],_0x140bb9[_0x24e040(0x238)]={'cost':_0x1b335b['commission'],'currency':_0x1b335b[_0x24e040(0x293)]},_0x4f2384('filled'),await validateOrders();if(lockOrders==ORDERS[_0x24e040(0x237)])currentCoins=await getCoins();await updateCoinResults(_0x140bb9);}}});!_0x6be7f2&&(_0x4f2384(_0x5e5b61(0x28b)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x32bc0a=JSON[_0x5e5b61(0x2d4)](lastBalances[_0x5e5b61(0x222)]);const _0x586304=_0x32bc0a[_0x5e5b61(0x313)](_0x1c7349=>noslash(_0x1c7349['symbol'])==_0x1b335b['symbol']);if(_0x586304){if(_0x23ca19==_0x5e5b61(0x32c))_0x586304[_0x5e5b61(0x2aa)]=_0x586304['orderstatus']=='filled'?'filled':_0x5e5b61(0x2f0);else{if(_0x23ca19==_0x5e5b61(0x215))_0x586304[_0x5e5b61(0x2aa)]=_0x586304['orderstatus']==_0x5e5b61(0x28b)?_0x5e5b61(0x28b):_0x5e5b61(0x2cb);else _0x23ca19==_0x5e5b61(0x22f)&&(_0x586304[_0x5e5b61(0x2aa)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x32bc0a)},proxyEmit(_0x5e5b61(0x2ec),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0xd2c4f=![],_0x554f62=!![],_0x2e36ed=config['basecoin']){const _0xbd06ab=_0xd786cd;let _0x335e95,_0x3e94f0=[],_0x610621=[],_0x5a1d01=[];try{_0x335e95=await exchange[_0xbd06ab(0x1f0)](),mybalances=_0x335e95[_0xbd06ab(0x2ed)];if(!_0x554f62)for(const [_0x5f57ad,_0x53a5fb]of Object['entries'](mybalances)){_0x5a1d01['push'](_0x5f57ad);}else config['portfolio'][_0xbd06ab(0x226)](_0x15ef53=>{const _0x480d88=_0xbd06ab;if(!_0x15ef53[_0x480d88(0x246)])_0x5a1d01[_0x480d88(0x2d6)](_0x15ef53['coin']);});if(_0x2e36ed=='')for(const [_0x204303,_0x1e40e5]of Object['entries'](mybalances)){_0x1e40e5['toString']()!=0x0&&_0x610621[_0xbd06ab(0x2d6)]({'coin':_0x204303});}else{if(_0xd2c4f)await getOpenOrders();let _0x5024d8=![];for(const [_0x591b10,_0x52b4d0]of Object['entries'](mybalances)){if(_0x5a1d01[_0xbd06ab(0x21a)](_0x591b10)){const _0xc76ff2=config[_0xbd06ab(0x222)][_0xbd06ab(0x313)](_0x36f9df=>_0x36f9df[_0xbd06ab(0x1f4)]==_0x591b10),_0x552961=_0x591b10+'/'+_0x2e36ed,_0x149062=_0x2e36ed+'/'+_0x591b10,_0x3ec190=currentCoins[_0xbd06ab(0x313)](_0x42468e=>_0x42468e['coin']==_0x591b10);_0x5024d8=![];_0xd2c4f&&(_0x5024d8=allOpenOrders[_0xbd06ab(0x313)](_0x207da2=>_0x207da2[_0xbd06ab(0x2d5)]==_0xc76ff2[_0xbd06ab(0x2d5)]));if((_0x52b4d0[_0xbd06ab(0x2af)]()!=0x0||_0xc76ff2)&&(allSymbols[_0xbd06ab(0x21a)](_0x552961)||_0x591b10==_0x2e36ed))_0x591b10!=_0x2e36ed&&_0x3e94f0[_0xbd06ab(0x2d6)](_0x552961),_0x610621[_0xbd06ab(0x2d6)]({'coin':_0x591b10,'symbol':_0x552961,'reverse':![],'number':Math[_0xbd06ab(0x280)](_0x52b4d0+(_0xc76ff2&&_0xc76ff2['offset']||0x0),0x0),'orderstatus':_0xd2c4f?_0x5024d8?_0xbd06ab(0x2f0):_0xbd06ab(0x30e):_0x3ec190?_0x3ec190['orderstatus']:_0xbd06ab(0x30e)});else(_0x52b4d0[_0xbd06ab(0x2af)]()!=0x0||_0xc76ff2)&&allSymbols[_0xbd06ab(0x21a)](_0x149062)&&(_0x591b10!=_0x2e36ed&&_0x3e94f0[_0xbd06ab(0x2d6)](_0x149062),_0x610621[_0xbd06ab(0x2d6)]({'coin':_0x591b10,'symbol':_0x149062,'reverse':!![],'number':Math[_0xbd06ab(0x280)](_0x52b4d0+(_0xc76ff2&&_0xc76ff2[_0xbd06ab(0x2b6)]||0x0),0x0),'orderstatus':_0xd2c4f?_0x5024d8?_0xbd06ab(0x2f0):_0xbd06ab(0x30e):_0x3ec190?_0x3ec190[_0xbd06ab(0x2aa)]:_0xbd06ab(0x30e)}));}}}}catch(_0x4e1f5f){if(!_0x554f62){if(_0x4e1f5f[_0xbd06ab(0x2af)]()['includes']('API-key\x20format\x20invalid'))return logHistory(_0xbd06ab(0x285),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x4e1f5f[_0xbd06ab(0x2af)]()['includes'](_0xbd06ab(0x2c6)))return logHistory(_0xbd06ab(0x285),_0xbd06ab(0x236)),![];else{if(_0x4e1f5f[_0xbd06ab(0x2af)]()[_0xbd06ab(0x21a)](_0xbd06ab(0x302)))return logHistory(_0xbd06ab(0x285),_0xbd06ab(0x2db)),![];else await handleError(_0x4e1f5f,_0xbd06ab(0x308));}}}else await handleError(_0x4e1f5f,_0xbd06ab(0x308));}return _0x610621;}async function getCoinNumber(_0x29eb44){const _0x101f6e=_0xd786cd;let _0x414612;try{const _0x1b30c7=await exchange['fetchBalance']();_0x414612=_0x1b30c7[_0x101f6e(0x2ed)][_0x29eb44];}catch(_0x1a8257){await handleError(_0x1a8257,_0x101f6e(0x2bc));}return _0x414612;}async function getOpenOrders(){const _0x565d63=_0xd786cd;let _0x373ba4;allOpenOrders=[];try{for(const _0x6113e6 of config[_0x565d63(0x222)]){!_0x6113e6[_0x565d63(0x246)]&&_0x6113e6[_0x565d63(0x1f4)]!=config['basecoin']&&(_0x373ba4=await exchange['fetchOpenOrders'](_0x6113e6[_0x565d63(0x2d5)]),_0x373ba4['length']>0x0&&allOpenOrders[_0x565d63(0x2d6)](_0x373ba4[0x0]));}}catch(_0x3f92e2){await handleError(_0x3f92e2,_0x565d63(0x2a9));}}async function handleOpenOrders(_0x457708=0x0){const _0x5d0360=_0xd786cd;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x5d0360(0x237)]&&allOrdersPlaced&&(_0x457708==0x0?(_0x457708++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x5d0360(0x318)));}async function getPortfolio(_0x369518){const _0x105322=_0xd786cd;let _0x76267b=[],_0x387ef7=[],_0x5b1bd2,_0x400fbf=[],_0x318819,_0x56ff87;_0x369518[_0x105322(0x2cc)]===_0x105322(0x2e5)||_0x369518[_0x105322(0x32e)]===_0x105322(0x2e5)?(_0x318819=config[_0x105322(0x2cc)],_0x56ff87=config[_0x105322(0x32e)]):(_0x318819=_0x369518[_0x105322(0x2cc)],_0x56ff87=_0x369518[_0x105322(0x32e)]);await initExchange(_0x318819,_0x56ff87);let _0x7c3d0a=await loadSymbols();if(_0x7c3d0a){_0x400fbf=await getCoins(![],![],_0x369518[_0x105322(0x2bf)]);if(_0x400fbf===![])proxyEmit(_0x105322(0x222),![]);else{if(_0x369518['basecoin']=='')proxyEmit(_0x105322(0x222),_0x400fbf);else{_0x400fbf[_0x105322(0x226)](_0x2c58ad=>{const _0x29f854=_0x105322;if(_0x2c58ad['coin']!=_0x369518[_0x29f854(0x2bf)])_0x76267b[_0x29f854(0x2d6)](_0x2c58ad['symbol']);});try{_0x387ef7=await exchange['fetchTickers'](_0x76267b);}catch(_0xf4fc0d){await handleError(_0xf4fc0d,_0x105322(0x31e));}_0x400fbf['forEach'](_0x4ddbbe=>{const _0x4b76ba=_0x105322;_0x4ddbbe[_0x4b76ba(0x1f4)]!=_0x369518[_0x4b76ba(0x2bf)]?_0x5b1bd2=_0x4ddbbe[_0x4b76ba(0x2e6)]?0x1/_0x387ef7[_0x4ddbbe[_0x4b76ba(0x2d5)]][_0x4b76ba(0x258)]:_0x387ef7[_0x4ddbbe[_0x4b76ba(0x2d5)]][_0x4b76ba(0x258)]:_0x5b1bd2=0x1,_0x4ddbbe[_0x4b76ba(0x1fb)]=formatResult(_0x5b1bd2,0x8);}),proxyEmit(_0x105322(0x222),_0x400fbf);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x46ca45){const _0xd28452=_0xd786cd;let _0x50807a=!![];const _0x25d48f=!_0x46ca45[_0xd28452(0x2e6)]?markets[_0x46ca45['symbol']]['limits'][_0xd28452(0x251)][_0xd28452(0x281)]:markets[_0x46ca45[_0xd28452(0x2d5)]]['limits']['cost'][_0xd28452(0x281)],_0x38f104=!_0x46ca45['reverse']?markets[_0x46ca45[_0xd28452(0x2d5)]][_0xd28452(0x2c7)]['cost'][_0xd28452(0x281)]:markets[_0x46ca45[_0xd28452(0x2d5)]][_0xd28452(0x2c7)][_0xd28452(0x251)]['min'],_0x414795=markets[_0x46ca45[_0xd28452(0x2d5)]][_0xd28452(0x2da)][_0xd28452(0x251)];_0x46ca45['trade']=formatResultTruncate(_0x46ca45[_0xd28452(0x205)],_0x414795);if(Math[_0xd28452(0x1e6)](_0x46ca45[_0xd28452(0x205)])<_0x25d48f)_0x50807a=![];if(Math[_0xd28452(0x1e6)](_0x46ca45[_0xd28452(0x205)])*_0x46ca45['last']<_0x38f104)_0x50807a=![];if(_0x46ca45[_0xd28452(0x25b)]==_0xd28452(0x275)){let _0x3f4f36=config[_0xd28452(0x222)][_0xd28452(0x313)](_0x272343=>_0x272343[_0xd28452(0x1f4)]==_0x46ca45['coin']);if(_0x3f4f36[_0xd28452(0x2b6)]>0x0){if(Math[_0xd28452(0x1e6)](_0x46ca45['trade'])>_0x46ca45[_0xd28452(0x242)]-_0x3f4f36[_0xd28452(0x2b6)])_0x50807a=![];}else{if(Math['abs'](_0x46ca45[_0xd28452(0x205)])>_0x46ca45[_0xd28452(0x242)])_0x50807a=![];}}if(_0x46ca45[_0xd28452(0x25b)]==_0xd28452(0x2e1)){let _0x4c96b2=config[_0xd28452(0x222)]['find'](_0x5113a5=>_0x5113a5['coin']==config[_0xd28452(0x2bf)]),_0x4f892a=currentCoins[_0xd28452(0x313)](_0x98a00a=>_0x98a00a[_0xd28452(0x1f4)]==config['basecoin']);if(_0x4c96b2[_0xd28452(0x2b6)]>0x0){if(Math[_0xd28452(0x1e6)](_0x46ca45[_0xd28452(0x205)])*_0x46ca45[_0xd28452(0x258)]>_0x4f892a[_0xd28452(0x242)]-_0x4c96b2[_0xd28452(0x2b6)])_0x50807a=![];}else{if(Math[_0xd28452(0x1e6)](_0x46ca45[_0xd28452(0x205)])*_0x46ca45[_0xd28452(0x258)]>_0x4f892a[_0xd28452(0x242)])_0x50807a=![];}}return _0x50807a;}async function getBalances(){const _0x496cc8=_0xd786cd;let _0x4d739f=0x0,_0x2908cb;const _0x365067=config[_0x496cc8(0x217)];if(config[_0x496cc8(0x22b)]&&config[_0x496cc8(0x279)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x1637fc=>{const _0x4312f2=_0x496cc8;if(_0x1637fc[_0x4312f2(0x1f4)]!=config['basecoin']){let _0x4ce791=global[_0x4312f2(0x2c3)][noslash(_0x1637fc[_0x4312f2(0x2d5)])];_0x2908cb=_0x1637fc[_0x4312f2(0x2e6)]?0x1/_0x4ce791:_0x4ce791;}else _0x2908cb=0x1;let _0x5f112b=_0x1637fc[_0x4312f2(0x242)]*_0x2908cb;_0x4d739f+=_0x5f112b,_0x1637fc[_0x4312f2(0x258)]=formatResult(Number(_0x2908cb),0x8),_0x1637fc[_0x4312f2(0x2ae)]=_0x5f112b;}),currentCoins[_0x496cc8(0x226)](_0x3a020a=>{const _0x10eea2=_0x496cc8;let _0x480adf=config[_0x10eea2(0x222)][_0x10eea2(0x313)](_0x57d1f2=>_0x57d1f2[_0x10eea2(0x1f4)]==_0x3a020a[_0x10eea2(0x1f4)]),_0xdc7dce=Number(_0x480adf[_0x10eea2(0x2ac)]),_0xea3b7c=_0x3a020a[_0x10eea2(0x2ae)]/_0x4d739f*0x64,_0x2cc8f5=_0xdc7dce*_0x4d739f/0x64/_0x3a020a[_0x10eea2(0x258)]-_0x3a020a[_0x10eea2(0x242)];_0x3a020a[_0x10eea2(0x2ac)]=formatResult(_0xea3b7c,0x3),_0x3a020a[_0x10eea2(0x2df)]=formatResult(_0xdc7dce,0x3),_0x3a020a[_0x10eea2(0x205)]=formatResult(_0x2cc8f5,0x8),_0x3a020a[_0x10eea2(0x25b)]='',_0x3a020a['valid']=![];if(_0x3a020a['coin']!=config['basecoin']){if(_0x3a020a[_0x10eea2(0x2ac)]>_0xdc7dce)_0x3a020a['side']=_0x10eea2(0x275),_0x3a020a['valid']=checkMinimums(_0x3a020a);else _0x3a020a[_0x10eea2(0x2ac)]<_0xdc7dce&&(_0x3a020a['side']=_0x10eea2(0x2e1),_0x3a020a[_0x10eea2(0x228)]=checkMinimums(_0x3a020a));}_0x3a020a[_0x10eea2(0x24b)]=_0x3a020a[_0x10eea2(0x2ac)]/_0x3a020a[_0x10eea2(0x2df)]-0x1;if(_0x3a020a[_0x10eea2(0x2aa)]==_0x10eea2(0x28b)||_0x3a020a[_0x10eea2(0x2aa)]==_0x10eea2(0x2cb))_0x3a020a['orderstatus']=_0x10eea2(0x30e);}),currentCoins['sort']((_0x37496d,_0x46bb7d)=>_0x37496d[_0x496cc8(0x24b)]<_0x46bb7d[_0x496cc8(0x24b)]?0x1:_0x46bb7d[_0x496cc8(0x24b)]<_0x37496d['delta']?-0x1:0x0);const _0x4d5210=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4d5210[_0x496cc8(0x269)],'usd':_0x4d5210[_0x496cc8(0x301)],'portfolio':JSON[_0x496cc8(0x29b)](currentCoins),'threshold':_0x365067},proxyEmit(_0x496cc8(0x2ec),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x496cc8(0x22b)])headlessMode({'portfolio':currentCoins,'threshold':_0x365067});else{if(lockOrders==ORDERS[_0x496cc8(0x2f8)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x365067});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x56d9a0=_0xd786cd;if(!lastBalances)return;let _0x424c63=[],_0x4069f0,_0x275d77=JSON[_0x56d9a0(0x2d4)](lastBalances[_0x56d9a0(0x222)]);_0x275d77[_0x56d9a0(0x255)]((_0x11d107,_0x4b1e52)=>_0x11d107[_0x56d9a0(0x1f4)]>_0x4b1e52[_0x56d9a0(0x1f4)]?0x1:_0x4b1e52[_0x56d9a0(0x1f4)]>_0x11d107['coin']?-0x1:0x0),_0x275d77[_0x56d9a0(0x226)](_0x3b26fe=>{const _0x3ea1e5=_0x56d9a0;let _0x1cc876={'coin':_0x3b26fe[_0x3ea1e5(0x1f4)],'number':_0x3b26fe['number'],'price':_0x3b26fe['last']};_0x424c63[_0x3ea1e5(0x2d6)](_0x1cc876);});const _0x54378b=await getFiat();_0x4069f0={'date':lastBalances[_0x56d9a0(0x21c)][_0x56d9a0(0x331)]('\x20')[0x0],'eur':_0x54378b['eur'],'usd':_0x54378b[_0x56d9a0(0x301)],'coins':_0x424c63};let _0x4f784a=dbPerformance[_0x56d9a0(0x1f6)]('data')[_0x56d9a0(0x313)]({'date':_0x4069f0[_0x56d9a0(0x216)]})[_0x56d9a0(0x2ae)]();_0x4f784a?_0x4069f0[_0x56d9a0(0x216)]!=config[_0x56d9a0(0x20c)]&&dbPerformance['get'](_0x56d9a0(0x247))['find']({'date':_0x4069f0['date']})[_0x56d9a0(0x277)](_0x4069f0)[_0x56d9a0(0x272)]():dbPerformance[_0x56d9a0(0x1f6)](_0x56d9a0(0x247))[_0x56d9a0(0x2d6)](_0x4069f0)[_0x56d9a0(0x272)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x36628a=_0xd786cd;let _0x4c5a13=[];if(dbPerformance[_0x36628a(0x265)](_0x36628a(0x247))[_0x36628a(0x2ae)]()){let _0x292583=dbPerformance[_0x36628a(0x1f6)]('data')[_0x36628a(0x22e)]()[_0x36628a(0x1f2)](_0x36628a(0x216))[_0x36628a(0x2ae)](),_0x4e77d6=[...config['liquidity']];_0x4e77d6[_0x36628a(0x255)]((_0x4aaa1e,_0x135660)=>_0x4aaa1e[_0x36628a(0x216)]>_0x135660[_0x36628a(0x216)]?-0x1:_0x135660['date']>_0x4aaa1e[_0x36628a(0x216)]?0x1:0x0);let _0x16e3e0=0x1,_0x117d6a=[],_0x3667b5=0x0;_0x292583['slice']()[_0x36628a(0x2e6)]()['forEach']((_0x3aef05,_0x174c33)=>{const _0x41427d=_0x36628a;if(_0x4e77d6[_0x3667b5]){if(_0x292583[_0x292583[_0x41427d(0x26c)]-_0x174c33]&&_0x4e77d6[_0x3667b5][_0x41427d(0x216)]==_0x292583[_0x292583[_0x41427d(0x26c)]-_0x174c33][_0x41427d(0x216)]){if(_0x174c33<_0x292583[_0x41427d(0x26c)]){let _0x1058c6=0x0,_0x48ad99=0x0;_0x292583[_0x292583[_0x41427d(0x26c)]-_0x174c33][_0x41427d(0x328)][_0x41427d(0x226)](_0x1700f7=>{const _0x1259dd=_0x41427d;_0x48ad99+=_0x1700f7['number']*_0x1700f7[_0x1259dd(0x1fb)];}),_0x4e77d6[_0x3667b5][_0x41427d(0x2dd)][_0x41427d(0x226)](_0x3d1b20=>{const _0x2fa0cb=_0x41427d;_0x1058c6+=_0x3d1b20[_0x2fa0cb(0x242)]*_0x3d1b20['price'];}),_0x16e3e0*=_0x1058c6/(_0x48ad99-_0x1058c6)+0x1;}_0x3667b5++;}}let _0x146e32=0x0;_0x3aef05[_0x41427d(0x328)][_0x41427d(0x226)](_0x4b6fb2=>{const _0x3447b5=_0x41427d;_0x146e32+=_0x4b6fb2['number']*_0x4b6fb2[_0x3447b5(0x1fb)];}),_0x117d6a[_0x292583[_0x41427d(0x26c)]-_0x174c33-0x1]=_0x146e32*(_0x16e3e0-0x1);});let _0x5cf324=[];_0x4e77d6=[...config[_0x36628a(0x23a)]]||[];let _0x847d2a=0x0;_0x3667b5=0x0,_0x292583[_0x36628a(0x226)]((_0x27692d,_0x3bd2b6)=>{const _0x1abcb4=_0x36628a;if(_0x4e77d6[_0x3667b5]){const _0x354628=fns[_0x1abcb4(0x2d4)](_0x4e77d6[_0x3667b5][_0x1abcb4(0x216)],_0x1abcb4(0x2b9),new Date()),_0x246ea4=fns[_0x1abcb4(0x2d4)](_0x27692d[_0x1abcb4(0x216)],'yyyy/MM/dd',new Date());if(fns[_0x1abcb4(0x210)](_0x354628,_0x246ea4)){let _0x39f562=0x0;_0x4e77d6[_0x3667b5][_0x1abcb4(0x2dd)][_0x1abcb4(0x226)](_0x4a9135=>{const _0x3b7bd7=_0x1abcb4;!_0x5cf324[_0x4a9135['coin']]?_0x5cf324[_0x4a9135[_0x3b7bd7(0x1f4)]]=_0x4a9135[_0x3b7bd7(0x242)]:(_0x39f562=_0x5cf324[_0x4a9135[_0x3b7bd7(0x1f4)]],_0x5cf324[_0x4a9135[_0x3b7bd7(0x1f4)]]+=_0x4a9135['number']);const _0x529fb9=_0x27692d[_0x3b7bd7(0x328)][_0x3b7bd7(0x313)](_0x7f140e=>_0x7f140e['coin']==_0x4a9135['coin']);(!_0x529fb9||_0x529fb9[_0x3b7bd7(0x242)]==0x0)&&(_0x847d2a+=(-_0x4a9135[_0x3b7bd7(0x242)]-_0x39f562)*_0x4a9135[_0x3b7bd7(0x1fb)]);}),_0x3667b5++;}}_0x27692d[_0x1abcb4(0x328)][_0x1abcb4(0x226)]((_0x4e01a0,_0x584b1e)=>{const _0x5e05d6=_0x1abcb4;_0x5cf324[_0x4e01a0['coin']]&&(_0x4e01a0={..._0x4e01a0,'initial':_0x5cf324[_0x4e01a0[_0x5e05d6(0x1f4)]]}),_0x27692d['coins'][_0x584b1e]=_0x4e01a0;}),_0x4c5a13[_0x1abcb4(0x2d6)]({'date':_0x27692d[_0x1abcb4(0x216)],'eur':_0x27692d[_0x1abcb4(0x269)],'usd':_0x27692d[_0x1abcb4(0x301)],'offset':_0x117d6a[_0x3bd2b6],'netoffset':_0x847d2a,'coins':_0x27692d[_0x1abcb4(0x328)]});});}return _0x4c5a13;}function emitPerformance(_0xc85810){const _0x5773d2=_0xd786cd;_0xc85810[_0x5773d2(0x26c)]!==0x0?(proxyEmit(_0x5773d2(0x204),_0xc85810),lastPerformanceEmitted=getDate()):proxyEmit(_0x5773d2(0x204),[]);}function getPerf(_0x33bba8,_0x47a074){const _0x2195cc=_0xd786cd;let _0x4b87fd=0x0,_0x419e5e=0x0,_0x849da0=0x0;_0x33bba8[_0x2195cc(0x328)]['forEach'](_0x54ac73=>{const _0x277a0e=_0x2195cc;_0x4b87fd+=_0x54ac73[_0x277a0e(0x242)]*_0x54ac73[_0x277a0e(0x1fb)];});_0x47a074&&(_0x4b87fd+=_0x33bba8[_0x2195cc(0x2b6)]);if(config[_0x2195cc(0x2bf)]===_0x2195cc(0x22c)||config[_0x2195cc(0x2bf)]===_0x2195cc(0x1ea))_0x419e5e=_0x4b87fd*_0x33bba8[_0x2195cc(0x269)],_0x849da0=_0x4b87fd*_0x33bba8[_0x2195cc(0x301)];else{if(config['basecoin']===_0x2195cc(0x2ee)||config[_0x2195cc(0x2bf)]===_0x2195cc(0x1ff))_0x419e5e=_0x4b87fd*_0x33bba8[_0x2195cc(0x269)]/_0x33bba8[_0x2195cc(0x301)],_0x849da0=_0x4b87fd;else config[_0x2195cc(0x2bf)]===_0x2195cc(0x2c1)&&(_0x419e5e=_0x4b87fd,_0x849da0=_0x4b87fd*_0x33bba8[_0x2195cc(0x301)]/_0x33bba8[_0x2195cc(0x269)]);}return[_0x4b87fd,_0x419e5e,_0x849da0];}function getKPIs(_0x1769f5,_0x11af86=_0xd786cd(0x2c1)){const _0x2c3f70=_0xd786cd,_0x6d700=config[_0x2c3f70(0x2bf)],_0x2728e3=config['balances'],_0x5a0f7f=currentCoins,_0x3c6d34=getNormalizedPerformance(),_0x386830=_0x1769f5===_0x2c3f70(0x2bf)?_0x6d700:_0x1769f5===_0x2c3f70(0x319)||_0x1769f5==='net-fiat'?_0x11af86:'Net\x20'+_0x6d700,_0x3f2af2=_0x1769f5===_0x2c3f70(0x208)?_0x2c3f70(0x256):_0x1769f5==='net-fiat'?_0x2c3f70(0x2e2)+_0x386830+')':_0x386830+_0x2c3f70(0x2eb),_0x52ec53=_0x1769f5===_0x2c3f70(0x208)||_0x1769f5===_0x2c3f70(0x276)?_0x2c3f70(0x256):_0x386830+_0x2c3f70(0x2f7);let _0x1a0cb1=0x0;_0x5a0f7f[_0x2c3f70(0x226)](_0x5ae73d=>{const _0x3dfddd=_0x2c3f70;_0x1a0cb1+=_0x5ae73d[_0x3dfddd(0x242)]*_0x5ae73d['last'];});if(_0x1769f5===_0x2c3f70(0x319)||_0x1769f5===_0x2c3f70(0x276)){if(_0x6d700===_0x2c3f70(0x22c)||_0x6d700===_0x2c3f70(0x1ea))_0x1a0cb1=_0x1a0cb1*(_0x11af86===_0x2c3f70(0x2c1)?_0x2728e3[_0x2c3f70(0x269)]:_0x2728e3[_0x2c3f70(0x301)]);else{if(_0x6d700===_0x2c3f70(0x2ee)||_0x6d700===_0x2c3f70(0x1ff))_0x1a0cb1=_0x1a0cb1*(_0x11af86===_0x2c3f70(0x2c1)?_0x2728e3['eur']/_0x2728e3[_0x2c3f70(0x301)]:0x1);else _0x6d700===_0x2c3f70(0x2c1)&&(_0x1a0cb1=_0x1a0cb1*(_0x11af86===_0x2c3f70(0x2c1)?0x1:_0x2728e3[_0x2c3f70(0x301)]/_0x2728e3['eur']));}}let _0x3427e3;if(_0x1a0cb1!==0x0){if(_0x1769f5==='basecoin')_0x3427e3=(_0x1a0cb1/startingBalances[_0x2c3f70(0x2bf)]-0x1)*0x64;else{if(_0x11af86===_0x2c3f70(0x2c1))_0x3427e3=(_0x1a0cb1/startingBalances[_0x2c3f70(0x269)]-0x1)*0x64;else _0x3427e3=(_0x1a0cb1/startingBalances[_0x2c3f70(0x301)]-0x1)*0x64;}let _0x3e0d50=0x0;if(startingBalances[_0x2c3f70(0x328)])_0x5a0f7f[_0x2c3f70(0x226)](_0x16d4b4=>{const _0x20e7c8=_0x2c3f70;let _0x4b01a0=startingBalances[_0x20e7c8(0x328)]['find'](_0x3ad544=>_0x3ad544['coin']===_0x16d4b4[_0x20e7c8(0x1f4)]);if(_0x4b01a0&&_0x4b01a0['coin']&&_0x16d4b4['number']!==0x0)_0x3e0d50+=_0x4b01a0[_0x20e7c8(0x242)]*_0x16d4b4[_0x20e7c8(0x258)];});let _0x3f0291=0x0;if(_0x3c6d34[_0x2c3f70(0x26c)]!==0x0){let _0x4ef779=_0x3c6d34[_0x3c6d34[_0x2c3f70(0x26c)]-0x1];_0x3f0291=_0x4ef779[_0x2c3f70(0x2f6)];}_0x3e0d50-=_0x3f0291;_0x1769f5===_0x2c3f70(0x208)&&(_0x3427e3=(_0x1a0cb1-_0x3e0d50)/startingBalances[_0x2c3f70(0x2bf)]*0x64,_0x1a0cb1=_0x1a0cb1-_0x3e0d50);if(_0x1769f5===_0x2c3f70(0x276)){let _0x3159b7=_0x11af86===_0x2c3f70(0x2c1)?startingBalances[_0x2c3f70(0x269)]:startingBalances[_0x2c3f70(0x301)];if(_0x6d700===_0x2c3f70(0x22c)||_0x6d700===_0x2c3f70(0x1ea))_0x3e0d50=_0x11af86===_0x2c3f70(0x2c1)?_0x3e0d50*_0x2728e3[_0x2c3f70(0x269)]:_0x3e0d50*_0x2728e3[_0x2c3f70(0x301)];else{if(_0x6d700===_0x2c3f70(0x2ee)||_0x6d700===_0x2c3f70(0x1ff))_0x3e0d50=_0x11af86===_0x2c3f70(0x2c1)?_0x3e0d50*_0x2728e3[_0x2c3f70(0x269)]/_0x2728e3[_0x2c3f70(0x301)]:_0x3e0d50;else _0x6d700===_0x2c3f70(0x2c1)&&(_0x3e0d50=_0x11af86===_0x2c3f70(0x2c1)?_0x3e0d50:_0x3e0d50*_0x2728e3[_0x2c3f70(0x301)]/_0x2728e3[_0x2c3f70(0x269)]);}_0x3427e3=(_0x1a0cb1-_0x3e0d50)/_0x3159b7*0x64,_0x1a0cb1=_0x1a0cb1-_0x3e0d50;}if(_0x3427e3){if(_0x3427e3<0x64)_0x3427e3=_0x3427e3[_0x2c3f70(0x2c0)](0x2);else{if(_0x3427e3<0x3e8)_0x3427e3=_0x3427e3[_0x2c3f70(0x2c0)](0x1);else _0x3427e3=_0x3427e3['toFixed'](0x0);}}else _0x3427e3=Number('0')[_0x2c3f70(0x2c0)](0x2);if(_0x1a0cb1){if(Math[_0x2c3f70(0x1e6)](_0x1a0cb1)<0.000001)_0x1a0cb1=_0x1a0cb1[_0x2c3f70(0x2c0)](0x2);else{if(Math['abs'](_0x1a0cb1)<0.1)_0x1a0cb1=_0x1a0cb1['toFixed'](0x6);else{if(Math[_0x2c3f70(0x1e6)](_0x1a0cb1)<0x1)_0x1a0cb1=_0x1a0cb1[_0x2c3f70(0x2c0)](0x5);else{if(Math[_0x2c3f70(0x1e6)](_0x1a0cb1)<0xa)_0x1a0cb1=_0x1a0cb1[_0x2c3f70(0x2c0)](0x4);else{if(Math[_0x2c3f70(0x1e6)](_0x1a0cb1)<0x64)_0x1a0cb1=_0x1a0cb1[_0x2c3f70(0x2c0)](0x3);else{if(Math[_0x2c3f70(0x1e6)](_0x1a0cb1)<0x3e8)_0x1a0cb1=_0x1a0cb1['toFixed'](0x2);else _0x1a0cb1=_0x1a0cb1[_0x2c3f70(0x2c0)](0x2);}}}}}}else _0x1a0cb1=Number('0')['toFixed'](0x2);}else _0x3427e3=Number('0')[_0x2c3f70(0x2c0)](0x2);return{'value':_0x1a0cb1,'change':_0x3427e3,'leftTxt':_0x3f2af2,'rightTxt':_0x52ec53};}async function getStartingBalances(_0x408a58,_0x485bcb=!![]){const _0x1ba546=_0xd786cd;if(_0x408a58[_0x1ba546(0x26c)]!==0x0){const [_0x45e6f1,_0xea08df,_0x58fa0c]=getPerf(_0x408a58[0x0],!![]);let _0x16cadc=[];config['portfolio']['forEach'](_0x4be080=>{const _0x4fc0f5=_0x1ba546;let _0x5a454c=0x0,_0x5127fd;config['liquidity'][_0x4fc0f5(0x226)](_0x3c5ada=>{const _0x1a80b5=_0x4fc0f5;let _0x439bfc=_0x3c5ada[_0x1a80b5(0x2dd)][_0x1a80b5(0x313)](_0x3830d9=>_0x3830d9['coin']==_0x4be080['coin']);if(_0x439bfc){_0x5a454c+=_0x439bfc['number'];if(!_0x5127fd)_0x5127fd=_0x439bfc[_0x1a80b5(0x1fb)];}}),_0x16cadc[_0x4fc0f5(0x2d6)]({'coin':_0x4be080[_0x4fc0f5(0x1f4)],'number':_0x5a454c,'initialprice':_0x5127fd});});const _0x5c4e52={'basecoin':_0x45e6f1,'eur':_0xea08df,'usd':_0x58fa0c,'coins':_0x16cadc};if(_0x485bcb)proxyEmit('starting-balances',_0x5c4e52);startingBalances=_0x5c4e52;}}function headlessMode(_0x1c8ca7){const _0x12d3cd=_0xd786cd;let _0x13a86b=_0x1c8ca7[_0x12d3cd(0x222)],_0x398699=_0x1c8ca7[_0x12d3cd(0x217)],_0x478bbf=[];for(let _0x1678db of _0x13a86b){if(_0x1678db[_0x12d3cd(0x1f4)]!=config[_0x12d3cd(0x2bf)]){if(_0x1678db[_0x12d3cd(0x24b)]>=_0x398699/0x64){if(_0x1678db[_0x12d3cd(0x228)])_0x478bbf[_0x12d3cd(0x2d6)](_0x1678db);}else{if(_0x1678db[_0x12d3cd(0x24b)]<=-_0x398699/0x64){if(_0x1678db[_0x12d3cd(0x228)])_0x478bbf[_0x12d3cd(0x2d6)](_0x1678db);}}}}_0x478bbf[_0x12d3cd(0x26c)]>0x0&&placeOrder(_0x478bbf);}function notifyBalance(_0x6b1454){const _0x288898=_0xd786cd;let _0x450487=_0x6b1454[_0x288898(0x222)],_0x1b6b6a=_0x6b1454[_0x288898(0x217)],_0x1d64a3=[];for(let _0x1349b8 of _0x450487){if(_0x1349b8[_0x288898(0x1f4)]!=config['basecoin']){if(_0x1349b8[_0x288898(0x24b)]>=_0x1b6b6a/0x64){if(_0x1349b8['valid'])_0x1d64a3[_0x288898(0x2d6)](_0x1349b8);}else{if(_0x1349b8[_0x288898(0x24b)]<=-_0x1b6b6a/0x64){if(_0x1349b8['valid'])_0x1d64a3[_0x288898(0x2d6)](_0x1349b8);}}}}if(_0x1d64a3[_0x288898(0x26c)]>0x0){let _0x110625=_0x1d64a3[_0x288898(0x2f5)](_0x18b745=>_0x18b745[_0x288898(0x1f4)]);_0x110625[_0x288898(0x255)]();let _0x56143e=_0x110625[_0x288898(0x31b)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x288898(0x28d));lastCoinsToBalance=_0x56143e;}}function symbolToCoin(_0x2ba652){const _0x1035f8=_0xd786cd;let _0x202b3d;if(_0x2ba652[_0x1035f8(0x21a)]('/'+config[_0x1035f8(0x2bf)]))_0x202b3d=_0x2ba652[_0x1035f8(0x287)]('/'+config[_0x1035f8(0x2bf)],'');if(_0x2ba652[_0x1035f8(0x21a)](config['basecoin']+'/'))_0x202b3d=_0x2ba652[_0x1035f8(0x287)](config[_0x1035f8(0x2bf)]+'/','');return _0x202b3d;}async function unlockOrders(){const _0xccb8bf=_0xd786cd;if(allOrdersPlaced&&lockOrders==ORDERS[_0xccb8bf(0x237)]){console[_0xccb8bf(0x23e)](_0xccb8bf(0x227)),lockOrders=ORDERS[_0xccb8bf(0x2c4)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0xccb8bf(0x2f8)];}}async function validateOrders(_0x308968){const _0x5ed73b=_0xd786cd;if(_0x308968)validateOrdersState=_0x308968;let _0x479dc9=[],_0x4aaf59=config['ordertype']==_0x5ed73b(0x2c9)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x5ed73b(0x31c)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x5ed73b(0x237)])return;lastOrders[_0x5ed73b(0x226)](_0x2ffe3d=>{const _0x5c7df4=_0x5ed73b;let _0x4aa9c6=![];_0x2ffe3d[_0x5c7df4(0x28b)]>0x0&&(_0x4aa9c6=!![]),_0x479dc9[_0x5c7df4(0x2d6)](_0x4aa9c6),_0x4aa9c6&&config[_0x5c7df4(0x1ec)]!=_0x5c7df4(0x2c9)&&logHistory('order','Order\x20filled:\x20'+_0x2ffe3d['symbol']+'\x20'+_0x2ffe3d[_0x5c7df4(0x25b)]+'\x20#'+formatResult(_0x2ffe3d[_0x5c7df4(0x28b)],0x8)+'\x20@'+formatResult(_0x2ffe3d[_0x5c7df4(0x1fb)],0x8));}),_0x479dc9[_0x5ed73b(0x226)]((_0x243311,_0x404bc9)=>{const _0x224558=_0x5ed73b;if(_0x243311)lastOrders[_0x224558(0x2a5)](_0x404bc9,0x1);}),persistOpenOrders(lastOrders);const _0xb7b089=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x5ed73b(0x299);console[_0x5ed73b(0x23e)](validateOrdersState);if(validateOrdersState==_0x5ed73b(0x263))validateOrdersState=_0x5ed73b(0x233),_0x479dc9[_0x5ed73b(0x21a)](![])?config['ordertype']==_0x5ed73b(0x2c9)?logHistory(_0x5ed73b(0x339),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x5ed73b(0x339),_0x5ed73b(0x310)):await unlockOrders();else{if(validateOrdersState==_0x5ed73b(0x233)){if(_0x479dc9[_0x5ed73b(0x21a)](![])){}else allOrdersPlaced&&(config[_0x5ed73b(0x1ec)]==_0x5ed73b(0x2c9)?logHistory('success',_0x5ed73b(0x2bb)+_0xb7b089):logHistory('success',_0x5ed73b(0x1fe)+_0xb7b089),await unlockOrders());}else{if(validateOrdersState=='final')_0x479dc9[_0x5ed73b(0x21a)](![])&&(config['ordertype']==_0x5ed73b(0x2c9)?logHistory(_0x5ed73b(0x20f),_0x5ed73b(0x2b2)+Math[_0x5ed73b(0x24f)](_0x4aaf59*validateOrderInterval/0xea60)+_0x5ed73b(0x2c8)+_0xb7b089):(await cancelOrders(),logHistory(_0x5ed73b(0x20f),_0x5ed73b(0x20e)+Math[_0x5ed73b(0x24f)](_0x4aaf59*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0xb7b089))),await unlockOrders();else{if(validateOrdersState==_0x5ed73b(0x318)){if(config['ordertype']!=_0x5ed73b(0x2c9))logHistory(_0x5ed73b(0x20f),_0x5ed73b(0x206)+_0xb7b089);await unlockOrders();}}}}}async function cancelOrders(){const _0x26053d=_0xd786cd;lastOrders[_0x26053d(0x226)](async _0x53ddbb=>{const _0x1356be=_0x26053d;try{const _0x23b865=await exchange['cancelOrder'](_0x53ddbb['orderId'],_0x53ddbb[_0x1356be(0x2d5)]);}catch(_0x4711c0){if(_0x4711c0[_0x1356be(0x2af)]()['includes']('OrderNotFound')){}else await handleError(_0x4711c0,_0x1356be(0x2e9));}});}async function initCoinResults(){const _0x423bdd=_0xd786cd;let _0x963be6=[];config[_0x423bdd(0x222)][_0x423bdd(0x226)](_0xefff0=>{const _0x2a8b26=_0x423bdd;if(!_0xefff0[_0x2a8b26(0x246)]&&_0xefff0['coin']!=config[_0x2a8b26(0x2bf)]){let _0x1c03cf=dbCoinResults[_0x2a8b26(0x1f6)](_0x2a8b26(0x328))[_0x2a8b26(0x313)]({'coin':_0xefff0[_0x2a8b26(0x1f4)]})['value']();if(!_0x1c03cf){const _0x272962=currentCoins[_0x2a8b26(0x313)](_0x344c05=>_0x344c05['coin']==_0xefff0['coin']),_0x2d72e9=global[_0x2a8b26(0x2c3)][noslash(_0xefff0[_0x2a8b26(0x2d5)])];let _0x4a4686=_0x272962?_0x272962['number']:null,_0x52c81c=_0xefff0['reverse']?0x1/_0x2d72e9:_0x2d72e9,_0x2e1211;config['liquidity'][_0x2a8b26(0x226)](_0x23508c=>{const _0x30e072=_0x2a8b26;!_0x2e1211&&(_0x2e1211=_0x23508c[_0x30e072(0x2dd)][_0x30e072(0x313)](_0x780440=>_0x780440['coin']==_0xefff0[_0x30e072(0x1f4)]),_0x2e1211&&(_0x4a4686=_0x2e1211['number'],_0x52c81c=_0x2e1211['price']));}),_0x963be6[_0x2a8b26(0x2d6)]({'coin':_0xefff0[_0x2a8b26(0x1f4)],'number':_0x4a4686,'price':_0x52c81c});}}}),_0x963be6[_0x423bdd(0x226)](_0x42ee94=>{const _0xc20783=_0x423bdd,_0x5280ff={'coin':_0x42ee94['coin'],'number':_0x42ee94[_0xc20783(0x242)],'breakeven':_0x42ee94['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0xc20783(0x328))[_0xc20783(0x2d6)](_0x5280ff)[_0xc20783(0x272)]();});}async function updateCoinResults(_0x4f9acb,_0x56d48d=![]){const _0x2e38f8=_0xd786cd;let _0x4c9a62,_0x1d9815,_0x3a4739,_0x15db35,_0x2acb9a,_0x4f9871,_0x257dc6=dbCoinResults[_0x2e38f8(0x1f6)](_0x2e38f8(0x328))[_0x2e38f8(0x313)]({'coin':_0x4f9acb[_0x2e38f8(0x1f4)]})[_0x2e38f8(0x2ae)]();!_0x257dc6&&await initCoinResults();_0x4f9acb[_0x2e38f8(0x2e6)]&&(_0x4f9871={'filled':_0x4f9acb[_0x2e38f8(0x28b)]*_0x4f9acb['price'],'amount':_0x4f9acb[_0x2e38f8(0x28b)]*_0x4f9acb[_0x2e38f8(0x1fb)],'side':_0x4f9acb[_0x2e38f8(0x25b)]==_0x2e38f8(0x275)?'buy':'sell','price':0x1/_0x4f9acb[_0x2e38f8(0x1fb)]},_0x4f9acb={..._0x4f9acb,..._0x4f9871});_0x56d48d?_0x1d9815=_0x4f9acb[_0x2e38f8(0x25b)]==_0x2e38f8(0x2e1)?_0x257dc6['number']+_0x4f9acb['filled']:_0x257dc6[_0x2e38f8(0x242)]-_0x4f9acb[_0x2e38f8(0x28b)]:_0x1d9815=await getCoinNumber(_0x4f9acb[_0x2e38f8(0x1f4)]);if(_0x4f9acb['fee']&&_0x4f9acb[_0x2e38f8(0x238)][_0x2e38f8(0x235)]==config[_0x2e38f8(0x2bf)])_0x4c9a62=_0x4f9acb['fee'][_0x2e38f8(0x2fc)];else{if(_0x4f9acb['fee']&&_0x4f9acb['fee'][_0x2e38f8(0x235)]==_0x2e38f8(0x2e7)&&!_0x56d48d)_0x4c9a62=_0x4f9acb[_0x2e38f8(0x238)]['cost']*global[_0x2e38f8(0x2c3)][_0x2e38f8(0x2e7)+config[_0x2e38f8(0x2bf)]];else _0x4c9a62=defaultFee*_0x4f9acb[_0x2e38f8(0x28b)]*_0x4f9acb[_0x2e38f8(0x1fb)];}_0x4f9acb[_0x2e38f8(0x25b)]==_0x2e38f8(0x2e1)?(_0x3a4739=_0x1d9815!=0x0?(_0x257dc6[_0x2e38f8(0x30d)]*_0x257dc6[_0x2e38f8(0x242)]+_0x4f9acb[_0x2e38f8(0x1fb)]*(_0x1d9815-_0x257dc6[_0x2e38f8(0x242)])+_0x4c9a62)/_0x1d9815:0x0,_0x15db35=_0x257dc6[_0x2e38f8(0x244)]):(_0x3a4739=_0x1d9815!=0x0?(_0x257dc6[_0x2e38f8(0x30d)]*_0x257dc6[_0x2e38f8(0x242)]-_0x4f9acb['price']*(_0x257dc6[_0x2e38f8(0x242)]-_0x1d9815)+_0x4c9a62)/_0x1d9815:0x0,_0x15db35=_0x257dc6[_0x2e38f8(0x244)]+(_0x4f9acb['price']-_0x257dc6[_0x2e38f8(0x30d)])*_0x4f9acb[_0x2e38f8(0x28b)]);_0x2acb9a=(_0x4f9acb[_0x2e38f8(0x1fb)]-_0x3a4739-_0x4c9a62/_0x4f9acb[_0x2e38f8(0x28b)])*_0x1d9815;let _0x4a6e83={'coin':_0x4f9acb[_0x2e38f8(0x1f4)],'number':_0x1d9815,'breakeven':formatResult(_0x3a4739,0x8),'realized':formatResult(_0x15db35,0x8),'unrealized':formatResult(_0x2acb9a,0x8),'fees':formatResult(_0x257dc6[_0x2e38f8(0x1f1)]+_0x4c9a62,0x8),'sells':_0x4f9acb[_0x2e38f8(0x25b)]==_0x2e38f8(0x275)?_0x257dc6[_0x2e38f8(0x1fd)]+0x1:_0x257dc6['sells'],'buys':_0x4f9acb[_0x2e38f8(0x25b)]=='buy'?_0x257dc6[_0x2e38f8(0x1e9)]+0x1:_0x257dc6[_0x2e38f8(0x1e9)]};dbCoinResults[_0x2e38f8(0x1f6)](_0x2e38f8(0x328))['find']({'coin':_0x4f9acb[_0x2e38f8(0x1f4)]})[_0x2e38f8(0x277)](_0x4a6e83)[_0x2e38f8(0x272)]();if(!_0x56d48d){if(_0x4f9acb[_0x2e38f8(0x238)]&&_0x4f9acb[_0x2e38f8(0x238)]['currency']==_0x2e38f8(0x2e7)){const _0x3509c0=currentCoins['find'](_0x307467=>_0x307467[_0x2e38f8(0x1f4)]==_0x2e38f8(0x2e7));if(_0x3509c0){let _0x27e6a3=dbCoinResults[_0x2e38f8(0x1f6)]('coins')['find']({'coin':'BNB'})[_0x2e38f8(0x2ae)]();_0x4a6e83={..._0x27e6a3,'number':_0x3509c0[_0x2e38f8(0x242)]},dbCoinResults[_0x2e38f8(0x1f6)]('coins')[_0x2e38f8(0x313)]({'coin':_0x2e38f8(0x2e7)})['assign'](_0x4a6e83)['write']();}}}}async function placeOrder(_0x1c5dff){const _0x36368d=_0xd786cd,_0x52ee75=config['ordertype']==_0x36368d(0x2c9)?_0x36368d(0x2c9):_0x36368d(0x2b7);if(lockOrders==ORDERS[_0x36368d(0x2f8)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x36368d(0x237)],allOrdersPlaced=![],validateOrdersState=_0x36368d(0x263),lastOrders=[];for(const _0x309e02 of _0x1c5dff){let _0x1e4375,_0x56299b,_0x5c31ba,_0x1bbfc2,_0x116251,_0x4d07e3=_0x309e02['symbol'];try{const _0x3b6d10=await exchange[_0x36368d(0x2d3)]([_0x4d07e3]),_0x4e1d8c=_0x3b6d10[_0x4d07e3];_0x1e4375=_0x309e02['reverse']?0x1/_0x309e02[_0x36368d(0x258)]:_0x309e02['last'],_0x56299b=_0x4e1d8c[_0x36368d(0x327)],_0x5c31ba=_0x4e1d8c[_0x36368d(0x252)];_0x309e02[_0x36368d(0x2e6)]?(_0x1bbfc2=_0x309e02[_0x36368d(0x25b)]==_0x36368d(0x2e1)?'sell':'buy',_0x116251=Math[_0x36368d(0x1e6)](_0x309e02['trade'])/_0x1e4375):(_0x1bbfc2=_0x309e02['side'],_0x116251=Math['abs'](_0x309e02['trade']));_0x52ee75==_0x36368d(0x2b7)&&(config['ordertype']=='limit-high'&&(_0x1e4375=_0x1bbfc2==_0x36368d(0x2e1)?_0x56299b:_0x5c31ba),config[_0x36368d(0x1ec)]==_0x36368d(0x2fd)&&(_0x1e4375=_0x1bbfc2=='buy'?_0x5c31ba:_0x56299b));_0x116251=formatResult(_0x116251,0x8),_0x1e4375=formatResult(_0x1e4375,0x8);const _0x90986=_0x1bbfc2==_0x36368d(0x275)?config[_0x36368d(0x23d)]?String['fromCodePoint']('0x'+config[_0x36368d(0x23d)])+'\x20':'':config[_0x36368d(0x23f)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x5eecac=_0x52ee75==_0x36368d(0x2c9)?_0x36368d(0x27d):config[_0x36368d(0x1ec)]==_0x36368d(0x278)?_0x36368d(0x28c):_0x36368d(0x323),_0x4c5f3c=new Date()[_0x36368d(0x320)]()[_0x36368d(0x2af)]()['slice'](-0x6)+'-'+Math[_0x36368d(0x25e)]()[_0x36368d(0x2af)]()['slice'](-0x6);lastOrders['push']({'customId':_0x4c5f3c,'symbol':_0x4d07e3,'coin':_0x309e02[_0x36368d(0x1f4)],'side':_0x1bbfc2,'reverse':_0x309e02[_0x36368d(0x2e6)],'filled':0x0}),console[_0x36368d(0x23e)](_0x36368d(0x24c),lastOrders);if(_0x52ee75==_0x36368d(0x2c9))logHistory('order',''+_0x90986+_0x5eecac+'\x20order:\x20'+_0x4d07e3+'\x20'+_0x1bbfc2+'\x20#'+formatResult(_0x116251,0x8)+'\x20@'+formatResult(_0x1e4375,0x8));else logHistory(_0x36368d(0x283),''+_0x90986+_0x5eecac+_0x36368d(0x330)+_0x4d07e3+'\x20'+_0x1bbfc2+'\x20#'+formatResult(_0x116251,0x8)+'\x20@'+formatResult(_0x1e4375,0x8));const _0x276b7e=await exchange['createOrder'](_0x4d07e3,_0x52ee75,_0x1bbfc2,_0x116251,_0x1e4375,{'clientOrderId':_0x4c5f3c}),_0x450e4e=lastOrders[_0x36368d(0x26c)]-0x1;_0x450e4e>=0x0&&lastOrders[_0x450e4e]['customId']==_0x4c5f3c&&(lastOrders[_0x450e4e]={...lastOrders[_0x450e4e],'orderId':_0x276b7e['id'],'amount':_0x276b7e[_0x36368d(0x251)],'price':_0x276b7e['price'],'fee':_0x276b7e[_0x36368d(0x238)]});console['log']('post:',lastOrders);let _0x5ae1c9=currentCoins[_0x36368d(0x313)](_0x375e76=>_0x375e76[_0x36368d(0x1f4)]==_0x309e02['coin']);_0x5ae1c9[_0x36368d(0x2aa)]='open';if(config[_0x36368d(0x2dc)]!=0x0){let _0x55a07c=null;if(cooldownTracker[_0x36368d(0x26c)]==config[_0x36368d(0x2dc)]-0x1)_0x55a07c=cooldownTracker[_0x36368d(0x28e)]();const _0x4ae04a=getTimeStamp();cooldownTracker[_0x36368d(0x2d6)](_0x4ae04a);if(_0x55a07c){const _0xefee61=fns['differenceInSeconds'](new Date(_0x4ae04a),new Date(_0x55a07c));if(_0xefee61<cooldownInterval){logHistory(_0x36368d(0x285),_0x36368d(0x25a)+config[_0x36368d(0x2dc)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x36368d(0x239)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x598cb5){if(_0x598cb5[_0x36368d(0x2af)]()[_0x36368d(0x21a)](_0x36368d(0x338)))lastOrders=lastOrders['filter'](_0x4f6920=>_0x4f6920[_0x36368d(0x2d5)]!=_0x4d07e3),logHistory('error',_0x36368d(0x220)+_0x4d07e3);else _0x598cb5[_0x36368d(0x2af)]()['includes'](_0x36368d(0x291))?(lastOrders=lastOrders[_0x36368d(0x248)](_0x5d2de0=>_0x5d2de0[_0x36368d(0x2d5)]!=_0x4d07e3),logHistory(_0x36368d(0x285),_0x36368d(0x30b)+_0x4d07e3)):(lastOrders=lastOrders[_0x36368d(0x248)](_0x470b28=>_0x470b28[_0x36368d(0x2d5)]!=_0x4d07e3),await handleError(_0x598cb5,_0x36368d(0x282),_0x4d07e3));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x36368d(0x26c)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5b7534=config[_0x36368d(0x1ec)]==_0x36368d(0x2c9)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4aa94b=_0x36368d;validateOrders(_0x4aa94b(0x234));},_0x5b7534);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x36368d(0x1eb)));}else{if(coolingDown)!config['headless']&&logHistory(_0x36368d(0x285),_0x36368d(0x31a));else lockOrders!=ORDERS[_0x36368d(0x2f8)]&&(!config[_0x36368d(0x22b)]&&(config[_0x36368d(0x1ec)]==_0x36368d(0x2c9)?logHistory(_0x36368d(0x285),_0x36368d(0x321)):logHistory(_0x36368d(0x285),_0x36368d(0x230))));}}function persistOpenOrders(_0x5e462b){const _0xa6fb8d=_0xd786cd,_0x366367={...config,'openOrders':_0x5e462b};let _0x471374=dbConfig[_0xa6fb8d(0x1f6)]('bot')['find']({'botID':botID})['value']();_0x471374&&dbConfig['get'](_0xa6fb8d(0x297))[_0xa6fb8d(0x313)]({'botID':botID})[_0xa6fb8d(0x277)](_0x366367)['write']();}function restoreOrders(){const _0x51e3ec=_0xd786cd;let _0x1dc60b;allOpenOrders[_0x51e3ec(0x226)](_0x458450=>{const _0x567017=_0x51e3ec,_0x82b0df=config[_0x567017(0x26e)][_0x567017(0x313)](_0x55d567=>_0x55d567['orderId']==_0x458450['id']);_0x82b0df&&(lastOrders[_0x567017(0x2d6)](_0x82b0df),_0x1dc60b=_0x458450[_0x567017(0x29f)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x51e3ec(0x237)],validateOrdersState=_0x51e3ec(0x233),allOrdersPlaced=!![];const _0x3363cc=new Date()[_0x51e3ec(0x320)](),_0x143bfd=config[_0x51e3ec(0x1ec)]==_0x51e3ec(0x2c9)?validateOrderTimeout*0x3c*0x3e8:config[_0x51e3ec(0x31c)]*0x3c*0x3e8;if(_0x1dc60b+_0x143bfd>_0x3363cc){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x391852=_0x51e3ec;validateOrders(_0x391852(0x234));},_0x1dc60b+_0x143bfd-_0x3363cc);}else validateOrders('final');}}async function sendPortfolioTelegram(){const _0x232d04=_0xd786cd;if(loading[_0x232d04(0x262)]!=0x64){process[_0x232d04(0x27c)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x3e51a0=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x4c220b=[_0x232d04(0x2c1),'BUSD',_0x232d04(0x1ff)],_0x26ab22=_0x4c220b[_0x232d04(0x21a)](config['basecoin'])?0x2:0x8;let _0x3e9e41='';if(config[_0x232d04(0x257)])_0x3e9e41=_0x232d04(0x20b)+config[_0x232d04(0x209)]+_0x232d04(0x264);else _0x3e9e41='<b>Bot\x20'+botID+_0x232d04(0x264);const _0x53c61b=getKPIs(_0x232d04(0x2bf)),_0x3603f9=getKPIs(_0x232d04(0x208));_0x3e9e41+=_0x232d04(0x314),_0x3e9e41+=_0x53c61b[_0x232d04(0x2ca)]+_0x232d04(0x306)+_0x53c61b['value']+'\x20\x0a',_0x3e9e41+=_0x53c61b[_0x232d04(0x1f9)]+':\x20'+_0x53c61b['change']+_0x232d04(0x288),_0x3e9e41+=_0x3603f9['leftTxt']+':\x20'+_0x3603f9[_0x232d04(0x2ae)]+'\x20'+config[_0x232d04(0x2bf)]+'\x0a',_0x3e9e41+=_0x3603f9[_0x232d04(0x1f9)]+':\x20'+_0x3603f9['change']+_0x232d04(0x288),_0x3e9e41+='\x0a',_0x3e9e41+=_0x232d04(0x32f),_0x3e9e41+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x3e9e41+=_0x232d04(0x32f),currentCoins[_0x232d04(0x226)](_0x1d8cfe=>{const _0x123826=_0x232d04;_0x3e9e41+=_0x1d8cfe[_0x123826(0x1f4)][_0x123826(0x2ea)](0x7)+'|\x20'+formatPad(_0x1d8cfe['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x1d8cfe['target'],0x2,0x6)+'|\x20'+formatPad(_0x1d8cfe[_0x123826(0x24b)]*0x64,0x2,0x6)+'\x0a';}),_0x3e9e41+=_0x232d04(0x322),process['send']({'telegrammsg':_0x3e9e41},_0x6d5db1=>{});}function formatPad(_0x27af5e,_0x36a30f,_0x16f9ac){const _0x4dde57=_0xd786cd,_0x17ef14=formatResultString(_0x27af5e,_0x36a30f);return _0x17ef14?_0x17ef14[_0x4dde57(0x22a)](_0x16f9ac):''[_0x4dde57(0x22a)](_0x16f9ac);}function logHistory(_0x328da6,_0x1afe09,_0x2c226c=''){const _0x9d4c12=_0xd786cd;let _0x1627a6={'time':getTimeStamp(),'type':_0x328da6,'event':_0x1afe09};dbLogs[_0x9d4c12(0x1f6)](_0x9d4c12(0x311))[_0x9d4c12(0x2d6)](_0x1627a6)[_0x9d4c12(0x272)]();if(_0x2c226c=='')_0x2c226c=_0x1afe09;proxyEmit(_0x9d4c12(0x20d),{'log':_0x1627a6,'summary':_0x2c226c}),process[_0x9d4c12(0x27c)]({'telegram':{..._0x1627a6,'botname':config[_0x9d4c12(0x209)],'showname':config[_0x9d4c12(0x257)]}},_0x84f396=>{}),logger[_0x9d4c12(0x27e)](''+_0x1627a6['event']);}function emitHistory(_0x4be594={}){const _0x46554b=_0xd786cd;Object[_0x46554b(0x2a8)](_0x4be594)[_0x46554b(0x26c)]==0x0&&(_0x4be594={'type':[_0x46554b(0x283),_0x46554b(0x20d)],'event':'','page':0x1});if(_0x4be594[_0x46554b(0x29e)]['includes'](_0x46554b(0x20d)))_0x4be594['type']['splice'](_0x4be594['type'][_0x46554b(0x243)](_0x46554b(0x20d)),0x1,'error','success');if(dbLogs[_0x46554b(0x265)](_0x46554b(0x311))[_0x46554b(0x2ae)]()){let _0x1aac9e=dbLogs['get'](_0x46554b(0x311))[_0x46554b(0x248)](_0x4d3b53=>{const _0x2fc6e9=_0x46554b;if(_0x4be594['type'][_0x2fc6e9(0x26c)]==0x0)return![];else return _0x4be594[_0x2fc6e9(0x29e)][_0x2fc6e9(0x21a)](_0x4d3b53['type']);})['filter'](_0x33ee1e=>{const _0x550f9c=_0x46554b;if(_0x4be594[_0x550f9c(0x20d)]=='')return!![];else return _0x33ee1e[_0x550f9c(0x20d)][_0x550f9c(0x315)]()['includes'](_0x4be594[_0x550f9c(0x20d)]['toLowerCase']());})[_0x46554b(0x1f2)](_0x46554b(0x21c)),_0x5f0940=_0x1aac9e[_0x46554b(0x2ae)]()['length'];_0x1aac9e=_0x1aac9e['reverse']()[_0x46554b(0x27b)]((_0x4be594[_0x46554b(0x21e)]-0x1)*logPageSize,_0x4be594[_0x46554b(0x21e)]*logPageSize-0x1)[_0x46554b(0x2e6)]()[_0x46554b(0x2ae)](),proxyEmit(_0x46554b(0x292),{'logs':_0x1aac9e,'total':_0x5f0940});}else proxyEmit(_0x46554b(0x292),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4cce85){const _0x10e470=_0xd786cd;if(dbLogs[_0x10e470(0x265)](_0x10e470(0x311))[_0x10e470(0x2ae)]()){const _0x22c8bc=dbLogs[_0x10e470(0x1f6)](_0x10e470(0x311))[_0x10e470(0x1f2)]('time')[_0x10e470(0x248)](_0x8a6d5c=>{const _0x237d94=_0x10e470;return _0x8a6d5c[_0x237d94(0x29e)]=='order';})['value']();dbLogs['get'](_0x10e470(0x311))['remove']()[_0x10e470(0x272)](),dbLogs[_0x10e470(0x1f6)](_0x10e470(0x311))[_0x10e470(0x277)](_0x22c8bc)[_0x10e470(0x272)](),emitHistory(_0x4cce85);}}async function pauseBot(_0x43f2d0=''){const _0x142238=_0xd786cd,_0xd821f=new Date()[_0x142238(0x320)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0xd821f-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x142238(0x27c)]({'stop':'restart'},_0x358bc8=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x43f2d0)_0x43f2d0+=_0x142238(0x305);logHistory('error',_0x43f2d0+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x142238(0x324)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x531675=_0xd786cd;process[_0x531675(0x27c)]({'stop':'kill'},_0x2dfcc4=>{}),await sleep(0x7d0);}async function handleError(_0x388c2a,_0x4b3641,_0x2ca896=''){const _0x152aad=_0xd786cd;if(_0x388c2a[_0x152aad(0x2af)]()[_0x152aad(0x21a)](_0x152aad(0x1ef)))await pauseBot('Binance\x20API\x20blocked');else{if(_0x388c2a[_0x152aad(0x2af)]()['includes'](_0x152aad(0x21b)))await pauseBot(_0x152aad(0x30c));else{if(_0x388c2a[_0x152aad(0x2af)]()['includes'](_0x152aad(0x25d)))await pauseBot(_0x152aad(0x333));else{if(_0x388c2a[_0x152aad(0x2af)]()[_0x152aad(0x21a)]('API-key\x20format\x20invalid'))logHistory(_0x152aad(0x285),_0x4b3641+_0x152aad(0x23b)),logHistory(_0x152aad(0x285),_0x152aad(0x2f4)),await killBot();else{if(_0x388c2a['toString']()[_0x152aad(0x21a)](_0x152aad(0x2c6)))logHistory(_0x152aad(0x285),_0x4b3641+_0x152aad(0x31f)),logHistory('error',_0x152aad(0x2f4)),await killBot();else{if(_0x388c2a[_0x152aad(0x2af)]()['includes'](_0x152aad(0x302)))logHistory(_0x152aad(0x285),_0x4b3641+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory(_0x152aad(0x285),_0x152aad(0x2f4)),await killBot();else{if(_0x388c2a[_0x152aad(0x2af)]()[_0x152aad(0x21a)](_0x152aad(0x29c)))logHistory(_0x152aad(0x285),_0x4b3641+_0x152aad(0x2f9)),logHistory(_0x152aad(0x285),_0x152aad(0x2f4)),await killBot();else{if(_0x388c2a[_0x152aad(0x2af)]()[_0x152aad(0x21a)](_0x152aad(0x332)))await pauseBot(_0x152aad(0x290)),process['send']({'stop':_0x152aad(0x268)},_0x136c7d=>{});else _0x388c2a['toString']()[_0x152aad(0x21a)](_0x152aad(0x202))?logHistory(_0x152aad(0x285),_0x4b3641+_0x152aad(0x30a)+_0x2ca896):(logger[_0x152aad(0x27e)](_0x4b3641+'\x20|\x20Error\x20details:\x20',_0x388c2a),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x358189,_0x559189){const _0x2b0ad3=_0xd786cd;return parseFloat(_0x358189[_0x2b0ad3(0x2c0)](_0x559189));}function formatResultTruncate(_0x2c58d5,_0x26e473){const _0x5e7ffe=_0xd786cd;let _0x3994fc=formatResultString(_0x2c58d5,0xa),_0x39f726=_0x3994fc[_0x5e7ffe(0x243)]('.');return _0x39f726!=-0x1&&(_0x3994fc=_0x3994fc['slice'](0x0,_0x39f726+_0x26e473+0x1)),Number(_0x3994fc);}function formatResultString(_0x282ec8,_0xa36a4e){const _0x7785c4=_0xd786cd;let _0x35f3c3;if(!(''+_0x282ec8)['includes']('e'))_0x35f3c3=+(Math[_0x7785c4(0x24f)](_0x282ec8+'e+'+_0xa36a4e)+'e-'+_0xa36a4e);else{let _0x2b9497=(''+_0x282ec8)[_0x7785c4(0x331)]('e'),_0x5836b8='';+_0x2b9497[0x1]+_0xa36a4e>0x0&&(_0x5836b8='+'),_0x35f3c3=+(Math[_0x7785c4(0x24f)](+_0x2b9497[0x0]+'e'+_0x5836b8+(+_0x2b9497[0x1]+_0xa36a4e))+'e-'+_0xa36a4e);}return Number(_0x35f3c3)[_0x7785c4(0x2c0)](_0xa36a4e);}function getServerTime(){const _0x5de667=_0xd786cd,_0x8c2945=new Date();return _0x8c2945['getFullYear']()+'/'+(_0x8c2945['getMonth']()+0x1)[_0x5de667(0x2af)]()[_0x5de667(0x22a)](0x2,'0')+'/'+_0x8c2945[_0x5de667(0x26b)]()[_0x5de667(0x2af)]()[_0x5de667(0x22a)](0x2,'0')+'\x20'+_0x8c2945[_0x5de667(0x1fc)]()[_0x5de667(0x2af)]()[_0x5de667(0x22a)](0x2,'0')+':'+_0x8c2945[_0x5de667(0x2ab)]()[_0x5de667(0x2af)]()[_0x5de667(0x22a)](0x2,'0')+':'+_0x8c2945[_0x5de667(0x1f5)]()[_0x5de667(0x2af)]()[_0x5de667(0x22a)](0x2,'0');}function getTimeStamp(){const _0x3013dd=_0xd786cd,_0x2cc409=shiftedTime();return _0x2cc409['getFullYear']()+'/'+(_0x2cc409[_0x3013dd(0x203)]()+0x1)[_0x3013dd(0x2af)]()[_0x3013dd(0x22a)](0x2,'0')+'/'+_0x2cc409[_0x3013dd(0x26b)]()[_0x3013dd(0x2af)]()['padStart'](0x2,'0')+'\x20'+_0x2cc409[_0x3013dd(0x1fc)]()[_0x3013dd(0x2af)]()[_0x3013dd(0x22a)](0x2,'0')+':'+_0x2cc409[_0x3013dd(0x2ab)]()['toString']()[_0x3013dd(0x22a)](0x2,'0')+':'+_0x2cc409[_0x3013dd(0x1f5)]()[_0x3013dd(0x2af)]()['padStart'](0x2,'0');}function getDate(){const _0x58597b=_0xd786cd,_0x1b814f=shiftedTime();return _0x1b814f['getFullYear']()+'/'+(_0x1b814f['getMonth']()+0x1)[_0x58597b(0x2af)]()[_0x58597b(0x22a)](0x2,'0')+'/'+_0x1b814f[_0x58597b(0x26b)]()[_0x58597b(0x2af)]()['padStart'](0x2,'0');}function getHour(){const _0x204880=_0xd786cd,_0x101094=shiftedTime();return _0x101094[_0x204880(0x1fc)]()[_0x204880(0x2af)]()[_0x204880(0x22a)](0x2,'0');}function sleep(_0x3145e5){return new Promise(_0x6f68eb=>setTimeout(_0x6f68eb,_0x3145e5));}function shiftedTime(){const _0x589ec3=_0xd786cd,_0x419327=new Date();let _0x5dfa8b=_0x419327;if(config&&config['timeshift']!==0x0)_0x5dfa8b=fns['add'](_0x419327,{'hours':config[_0x589ec3(0x2d2)]});return _0x5dfa8b;}