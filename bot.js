const _0x4482b8=_0x38fc;(function(_0x42b4de,_0xf9c2f1){const _0xfa1412=_0x38fc,_0x2cc142=_0x42b4de();while(!![]){try{const _0x552bbd=parseInt(_0xfa1412(0x191))/0x1*(parseInt(_0xfa1412(0x174))/0x2)+parseInt(_0xfa1412(0x1ea))/0x3+-parseInt(_0xfa1412(0x127))/0x4+-parseInt(_0xfa1412(0x14d))/0x5*(parseInt(_0xfa1412(0x1c2))/0x6)+-parseInt(_0xfa1412(0x125))/0x7*(parseInt(_0xfa1412(0x22f))/0x8)+parseInt(_0xfa1412(0x199))/0x9*(-parseInt(_0xfa1412(0x153))/0xa)+parseInt(_0xfa1412(0x22d))/0xb;if(_0x552bbd===_0xf9c2f1)break;else _0x2cc142['push'](_0x2cc142['shift']());}catch(_0x471bb8){_0x2cc142['push'](_0x2cc142['shift']());}}}(_0x1c2f,0x81d5e));const _0x286ed2=function(){let _0x51a3b9=!![];return function(_0x1150a7,_0x1a2f19){const _0x3f8ca9=_0x51a3b9?function(){if(_0x1a2f19){const _0x19ea1d=_0x1a2f19['apply'](_0x1150a7,arguments);return _0x1a2f19=null,_0x19ea1d;}}:function(){};return _0x51a3b9=![],_0x3f8ca9;};}(),_0x38396d=_0x286ed2(this,function(){const _0x7eb001=_0x38fc;return _0x38396d[_0x7eb001(0x213)]()[_0x7eb001(0x1d0)](_0x7eb001(0x11c))[_0x7eb001(0x213)]()[_0x7eb001(0x176)](_0x38396d)[_0x7eb001(0x1d0)](_0x7eb001(0x11c));});_0x38396d();'use strict';const ccxt=require(_0x4482b8(0x238)),low=require(_0x4482b8(0x14f)),FileSync=require(_0x4482b8(0x1b6)),fs=require('fs'),fns=require(_0x4482b8(0x14c)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x4482b8(0x1c5)),Crypt=require('hybrid-crypto-js')[_0x4482b8(0x1d5)];let exchange,wsClient;global[_0x4482b8(0x1a4)]={},global[_0x4482b8(0x15a)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x4482b8(0x1e6),_0x4482b8(0x1d9),_0x4482b8(0x15c),_0x4482b8(0x168),'NANO/',_0x4482b8(0x19b)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x4482b8(0x1b9))[_0x4482b8(0x1b0)],botID=process[_0x4482b8(0x1fc)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x4482b8(0x1c3)](botID)&&(console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x4482b8(0x158)),process['exit'](0x1));const userID=process[_0x4482b8(0x1fc)][0x3]||'',configpath=userID?_0x4482b8(0x19e)+userID+'/':_0x4482b8(0x19e);!fs['existsSync'](configpath)&&fs[_0x4482b8(0x233)](configpath);const configfile=configpath+_0x4482b8(0x148)+botID+_0x4482b8(0x231),logfile=configpath+'bot-'+botID+_0x4482b8(0x1f7),performancefile=configpath+_0x4482b8(0x148)+botID+_0x4482b8(0x207),coinresultsfile=configpath+_0x4482b8(0x148)+botID+_0x4482b8(0x224),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x4482b8(0x131),configbackuppath=configpath+_0x4482b8(0x216),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x4482b8(0x1e8)]({'logs':[]})[_0x4482b8(0x1c9)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x4482b8(0x1e8)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x4482b8(0x1c9)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x4482b8(0x1e8)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x41172e)=>{},'debug':(..._0x304fd1)=>{},'notice':(..._0x11a57f)=>{},'info':(..._0x2bd3f7)=>{},'warning':(..._0x2baf35)=>{},'error':async function(..._0x44cd0b){const _0x1245bf=_0x4482b8,_0x39ca26=new Date()[_0x1245bf(0x163)]();if(!lastErrorShown||_0x39ca26-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x1245bf(0x163)]();let _0x32fbc5='';if(_0x44cd0b[0x0])_0x32fbc5+=_0x44cd0b[0x0];if(_0x44cd0b[0x1]&&_0x44cd0b[0x1][_0x1245bf(0x1e5)]&&_0x44cd0b[0x1][_0x1245bf(0x1e5)]['message'])_0x32fbc5+=_0x1245bf(0x1a5)+_0x44cd0b[0x1][_0x1245bf(0x1e5)][_0x1245bf(0x1f4)];logging('WebSockets('+consecutivePauses+_0x1245bf(0x162),''+_0x32fbc5),await pauseBot(_0x1245bf(0x1f3));}}},crypt=new Crypt({'md':_0x4482b8(0x140),'rsaStandard':_0x4482b8(0x16e)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x4482b8(0x223)]!=config[_0x4482b8(0x223)]&&updateTimeshift(settings['timeshift']);process['send']({'started':_0x4482b8(0x1f9)},_0x28c9fd=>{}),initializeProcessListeners();function proxyEmit(_0x35c533,_0x206259=null){const _0x862891=_0x4482b8;process[_0x862891(0x20f)]({'function':_0x35c533,'args':_0x206259},_0x254a56=>{});}function initializeProcessListeners(){process['on']('message',_0x115f99=>{const _0xfa6935=_0x38fc;switch(Object[_0xfa6935(0x144)](_0x115f99)[0x0]){case _0xfa6935(0x223):_0x115f99[_0xfa6935(0x223)]!=undefined&&(settings[_0xfa6935(0x223)]=_0x115f99[_0xfa6935(0x223)],updateTimeshift(settings[_0xfa6935(0x223)]));break;case _0xfa6935(0x1dc):switch(_0x115f99['function']){case'initclient':initclient();break;case _0xfa6935(0x18a):toggleBotMode();break;case _0xfa6935(0x242):emitHistory(_0x115f99[_0xfa6935(0x171)]);break;case _0xfa6935(0x1aa):deleteHistoryAlerts(_0x115f99['args']);break;case _0xfa6935(0x13c):getPortfolio(_0x115f99[_0xfa6935(0x171)]);break;case _0xfa6935(0x20d):storeConfiguration(_0x115f99[_0xfa6935(0x171)]);break;case _0xfa6935(0x15e):storeHeadless(_0x115f99[_0xfa6935(0x171)]);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0xfa6935(0x167):placeOrder(_0x115f99[_0xfa6935(0x171)]);break;case _0xfa6935(0x1f1):cancelLoading();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x39e77e=_0x4482b8;if(pidBalances)clearTimeout(pidBalances);if(config[_0x39e77e(0x12d)]!=''){await initExchange(config[_0x39e77e(0x12d)],config[_0x39e77e(0x1c7)]);let _0x2ef6b5=await loadSymbols();_0x2ef6b5&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x2edffc,_0xd04bc0){const _0x4d5ce8=_0x4482b8,_0x55bd7b=ccxt[config['exchange']];let _0x424a66;switch(config[_0x4d5ce8(0x1d4)]){case _0x4d5ce8(0x1c5):_0x424a66=_0x4d5ce8(0x22a);break;case _0x4d5ce8(0x15f):_0x424a66=_0x4d5ce8(0x19d);break;default:_0x424a66=_0x4d5ce8(0x22a);}exchange=new _0x55bd7b({'apiKey':_0x2edffc,'secret':_0xd04bc0,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x2edffc,'api_secret':_0xd04bc0,'beautify':!![],'wsUrl':_0x424a66},logger);let _0x54deb3=config[_0x4d5ce8(0x1d4)]==_0x4d5ce8(0x15f)?_0x4d5ce8(0x1e3):_0x4d5ce8(0x1ce),_0x259bf8=config[_0x4d5ce8(0x139)]==_0x4d5ce8(0x1ae)?_0x4d5ce8(0x1ae):_0x4d5ce8(0x232);stablecoins={'eur':{'coin':''+_0x259bf8+_0x54deb3,'symbol':_0x259bf8+'/'+_0x54deb3},'usd':{'coin':_0x259bf8+'USDT','symbol':_0x259bf8+_0x4d5ce8(0x178)}};}async function loadSymbols(){const _0x127307=_0x4482b8;let _0x568122;try{markets=await exchange[_0x127307(0x179)](),allSymbols=exchange['symbols']['filter'](_0x1cb287=>{const _0x3ec7c1=_0x127307;let _0x2dad69=![];return exceptions[_0x3ec7c1(0x122)](_0x4b4fcf=>{const _0xe3c650=_0x3ec7c1;if(_0x1cb287[_0xe3c650(0x1b8)](_0x4b4fcf))_0x2dad69=!![];}),!_0x2dad69;}),_0x568122=!![];}catch(_0x71c61d){await handleError(_0x71c61d,_0x127307(0x1ee)),_0x568122=![];}return _0x568122;}async function initbot(){const _0x1387d7=_0x4482b8;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x227df2=dbCoinResults[_0x1387d7(0x180)](_0x1387d7(0x1e2))[_0x1387d7(0x1af)]();if(_0x227df2[_0x1387d7(0x134)]==0x0)await resetCoinResults();}async function initclient(){const _0x26f4f1=_0x4482b8;proxyEmit(_0x26f4f1(0x130),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x26f4f1(0x23f),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x54066b=getNormalizedPerformance();emitPerformance(_0x54066b),await getStartingBalances(_0x54066b);}async function toggleBotMode(){const _0x115d76=_0x4482b8;let _0x2bda1c=dbConfig['get'](_0x115d76(0x19c))[_0x115d76(0x13b)]({'botID':botID})[_0x115d76(0x1af)]();if(_0x2bda1c){const _0x907c4e=!_0x2bda1c[_0x115d76(0x165)];dbConfig['get']('bot')[_0x115d76(0x13b)]({'botID':botID})[_0x115d76(0x17c)]({'headless':_0x907c4e})[_0x115d76(0x1c9)](),config[_0x115d76(0x165)]=_0x907c4e,proxyEmit(_0x115d76(0x130),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x303768=_0x4482b8;process[_0x303768(0x20f)]({'updatebotmanager':!![]},_0x1ffb97=>{});}function cleanws(){const _0x4eeaf4=_0x4482b8;wsinitialized=![];ws1&&(ws1[_0x4eeaf4(0x122)](_0x114eb1=>{const _0x1d901e=_0x4eeaf4;try{wsClient[_0x1d901e(0x1d3)](_0x114eb1);}catch(_0x46b093){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x402673){}ws2=null;}ws3&&(ws3[_0x4eeaf4(0x122)](_0x398f2c=>{const _0x42cdc0=_0x4eeaf4;try{wsClient[_0x42cdc0(0x1d3)](_0x398f2c);}catch(_0x6cf759){}}),ws3=[]);}async function initws(){const _0x42a97d=_0x4482b8;cleanws();let _0x5f24ee=[];currentCoins['forEach'](_0x4298a3=>{const _0x2b48ff=_0x38fc;if(_0x4298a3['coin']!=config[_0x2b48ff(0x139)])_0x5f24ee[_0x2b48ff(0x20a)](_0x4298a3[_0x2b48ff(0x1c6)]);});if(!_0x5f24ee[_0x42a97d(0x1b8)](stablecoins[_0x42a97d(0x11e)][_0x42a97d(0x1c6)]))_0x5f24ee[_0x42a97d(0x20a)](stablecoins[_0x42a97d(0x11e)][_0x42a97d(0x1c6)]);if(!_0x5f24ee[_0x42a97d(0x1b8)](stablecoins['usd'][_0x42a97d(0x1c6)]))_0x5f24ee[_0x42a97d(0x20a)](stablecoins['usd'][_0x42a97d(0x1c6)]);if(!_0x5f24ee[_0x42a97d(0x1b8)](_0x42a97d(0x209)+config[_0x42a97d(0x139)]))_0x5f24ee[_0x42a97d(0x20a)]('BNB/'+config[_0x42a97d(0x139)]);try{_0x5f24ee[_0x42a97d(0x122)]((_0x11a0a6,_0x59a5b3)=>{const _0xaa7c06=_0x42a97d;ws1[_0x59a5b3]=wsClient[_0xaa7c06(0x1de)](noslash(_0x11a0a6),'1m'),ws3[_0x59a5b3]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x11a0a6),'spot');}),ws2=wsClient[_0x42a97d(0x18f)](),wsClient['on'](_0x42a97d(0x13d),_0x22cb0e=>{const _0x3cca30=_0x42a97d;if(isWsFormattedKline(_0x22cb0e)){global[_0x3cca30(0x1a4)][_0x22cb0e[_0x3cca30(0x236)]['symbol']]=_0x22cb0e[_0x3cca30(0x236)][_0x3cca30(0x1a9)];return;}else{if(isWsFormatted24hrTicker(_0x22cb0e)){global[_0x3cca30(0x15a)][_0x22cb0e['symbol']]=_0x22cb0e['priceChangePercent'];return;}else{if(!Array['isArray'](_0x22cb0e)&&_0x22cb0e['wsKey']['includes'](_0x3cca30(0x124))){if(_0x22cb0e['wsMarket'][_0x3cca30(0x1b8)](_0x3cca30(0x200))){updateNumberCoins(_0x22cb0e);return;}}}}}),wsClient['on'](_0x42a97d(0x187),async _0x4c148f=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x5c9302){await handleError(_0x5c9302,_0x42a97d(0x1d6));}let _0x195c06,_0x4c93b9=0x0;loading[_0x42a97d(0x121)]=[];let _0x563bf2=0x0;_0x5f24ee[_0x42a97d(0x122)](_0x9b6922=>{const _0x173e7f=_0x42a97d;loading[_0x173e7f(0x121)][_0x173e7f(0x20a)](_0x9b6922);}),loadingCanceled=![];while(_0x195c06!=_0x5f24ee[_0x42a97d(0x134)]){_0x195c06=0x0,_0x5f24ee[_0x42a97d(0x122)](_0x48117e=>{const _0x10a652=_0x42a97d;global[_0x10a652(0x1a4)][noslash(_0x48117e)]&&(loading['remainingSymbols']=loading[_0x10a652(0x121)][_0x10a652(0x1c8)](_0xd19b5=>_0xd19b5!=_0x48117e),_0x195c06++);}),loading[_0x42a97d(0x197)]=Math[_0x42a97d(0x204)](_0x195c06/_0x5f24ee[_0x42a97d(0x134)]*0x64);_0x563bf2>0x1e*0x5&&(loading[_0x42a97d(0x1a6)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x42a97d(0x211)]=!![],emitLoadingProgress();break;}else _0x195c06!=_0x4c93b9&&(_0x4c93b9=_0x195c06,emitLoadingProgress()),_0x563bf2++,await sleep(0xc8);}if(_0x195c06==_0x5f24ee['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x448b6c=_0x4482b8;proxyEmit(_0x448b6c(0x219),loading);}async function getFiat(){const _0x20e711=_0x4482b8;let _0x15d5b6=0x0,_0x1410e5=0x0;try{_0x15d5b6=global['ticker'][stablecoins[_0x20e711(0x11e)][_0x20e711(0x1fa)]],_0x1410e5=global['ticker'][stablecoins[_0x20e711(0x1fe)][_0x20e711(0x1fa)]];}catch(_0x3e3ad2){await handleError(_0x3e3ad2,'getFiat()');}return{'eur':Number(_0x15d5b6),'usd':Number(_0x1410e5)};}function setStartDatePerformance(){const _0x273abf=_0x4482b8;if(config&&config['liquidity'][0x0][_0x273abf(0x210)]['length']!=0x0){const _0x294a53=config['liquidity'][0x0][_0x273abf(0x210)];dbPerformance[_0x273abf(0x180)](_0x273abf(0x1ef))[_0x273abf(0x13b)]({'date':config[_0x273abf(0x13f)]})[_0x273abf(0x17c)]({'coins':_0x294a53})[_0x273abf(0x1c9)]();}}async function recreateHistory(_0x1c4531){const _0x251d78=_0x4482b8;let _0xd5a709,_0x2b7e5e=[];logHistory('success',_0x251d78(0x1bf)),_0x1c4531['portfolio'][_0x251d78(0x122)](_0x39d36c=>{const _0x4fa7cd=_0x251d78;if(_0x39d36c[_0x4fa7cd(0x1fa)]!=config[_0x4fa7cd(0x139)]&&!_0x39d36c[_0x4fa7cd(0x17b)])_0x2b7e5e[_0x4fa7cd(0x20a)]({'coin':_0x39d36c[_0x4fa7cd(0x1fa)],'symbol':_0x39d36c[_0x4fa7cd(0x1c6)]});});let _0x4a598a=[];try{const _0x4d53fa=fns[_0x251d78(0x1eb)](fns[_0x251d78(0x141)](_0x1c4531['startdate'][_0x251d78(0x203)](/\//g,'-')),_0x251d78(0x18d));for(const _0x3d40cf of _0x2b7e5e){if(_0x3d40cf[_0x251d78(0x1fa)]!=config[_0x251d78(0x139)])_0xd5a709=await exchange['fetchOrders'](_0x3d40cf['symbol'],Date['parse'](_0x4d53fa));_0xd5a709[_0x251d78(0x122)](_0xb08ede=>{const _0x5f224a=_0x251d78,_0x43bd3f=_0x3d40cf[_0x5f224a(0x1c6)][_0x5f224a(0x1b8)](config[_0x5f224a(0x139)]+'/'),_0x5bc43c=fns['format'](fns[_0x5f224a(0x141)](_0xb08ede[_0x5f224a(0x152)]),_0x5f224a(0x23c)),_0x177a78=fns[_0x5f224a(0x1eb)](fns[_0x5f224a(0x141)](_0xb08ede['datetime']),'yyyy/MM/dd');let _0x1fe206;if(_0xb08ede[_0x5f224a(0x1cf)]==_0x5f224a(0x1f2)&&_0x43bd3f==![])_0x1fe206=_0xb08ede[_0x5f224a(0x217)];if(_0xb08ede[_0x5f224a(0x1cf)]==_0x5f224a(0x1f2)&&_0x43bd3f==!![])_0x1fe206=-_0xb08ede[_0x5f224a(0x217)]*_0xb08ede[_0x5f224a(0x133)];if(_0xb08ede[_0x5f224a(0x1cf)]=='sell'&&_0x43bd3f==![])_0x1fe206=-_0xb08ede['amount'];if(_0xb08ede[_0x5f224a(0x1cf)]=='sell'&&_0x43bd3f==!![])_0x1fe206=_0xb08ede[_0x5f224a(0x217)]*_0xb08ede[_0x5f224a(0x133)];_0x4a598a[_0x5f224a(0x20a)]({'timestamp':_0x5bc43c,'date':_0x177a78,'coin':_0x3d40cf[_0x5f224a(0x1fa)],'symbol':_0x3d40cf['symbol'],'type':_0xb08ede[_0x5f224a(0x157)],'side':_0xb08ede[_0x5f224a(0x1cf)],'reverse':_0x43bd3f,'amount':formatResult(_0xb08ede[_0x5f224a(0x150)],0x8),'filled':formatResult(_0xb08ede[_0x5f224a(0x150)],0x8),'coinamount':formatResult(_0x1fe206,0x8),'price':formatResult(_0xb08ede[_0x5f224a(0x133)],0x8)});let _0x3d8771;if(_0xb08ede[_0x5f224a(0x1cf)]==_0x5f224a(0x1f2)&&_0x43bd3f==![])_0x3d8771=-_0xb08ede[_0x5f224a(0x217)]*_0xb08ede[_0x5f224a(0x133)];if(_0xb08ede[_0x5f224a(0x1cf)]==_0x5f224a(0x1f2)&&_0x43bd3f==!![])_0x3d8771=_0xb08ede[_0x5f224a(0x217)];if(_0xb08ede[_0x5f224a(0x1cf)]==_0x5f224a(0x116)&&_0x43bd3f==![])_0x3d8771=_0xb08ede['amount']*_0xb08ede[_0x5f224a(0x133)];if(_0xb08ede[_0x5f224a(0x1cf)]==_0x5f224a(0x116)&&_0x43bd3f==!![])_0x3d8771=-_0xb08ede[_0x5f224a(0x217)];_0x4a598a[_0x5f224a(0x20a)]({'date':_0x177a78,'coin':config[_0x5f224a(0x139)],'coinamount':formatResult(_0x3d8771,0x8)});});}_0x4a598a[_0x251d78(0x161)]((_0x53a08e,_0x43a126)=>_0x53a08e['timestamp']>_0x43a126[_0x251d78(0x1fb)]?0x1:_0x43a126['timestamp']>_0x53a08e[_0x251d78(0x1fb)]?-0x1:0x0),dbLogs[_0x251d78(0x180)]('logs')[_0x251d78(0x1e0)]()[_0x251d78(0x1c9)](),_0x4a598a[_0x251d78(0x122)](_0x427230=>{const _0x44f0a5=_0x251d78;let _0x26748c;_0x427230[_0x44f0a5(0x1fa)]!=config[_0x44f0a5(0x139)]&&(_0x26748c={'time':_0x427230['timestamp'],'type':_0x44f0a5(0x249),'event':_0x44f0a5(0x240)+_0x427230['symbol']+'\x20'+_0x427230[_0x44f0a5(0x1cf)]+'\x20#'+_0x427230[_0x44f0a5(0x217)]+'\x20@'+_0x427230[_0x44f0a5(0x133)]},dbLogs[_0x44f0a5(0x180)](_0x44f0a5(0x193))[_0x44f0a5(0x20a)](_0x26748c)[_0x44f0a5(0x1c9)]());});const _0x3a325d=fns[_0x251d78(0x1bd)]({'start':new Date(_0x1c4531[_0x251d78(0x13f)]),'end':new Date()})[_0x251d78(0x1b5)](_0x342d92=>fns[_0x251d78(0x1eb)](_0x342d92,_0x251d78(0x194)));let _0x31a12d=[];_0x1c4531[_0x251d78(0x149)]['forEach'](_0x306e14=>{const _0x248838=_0x251d78;if(!_0x306e14[_0x248838(0x17b)]){_0x31a12d[_0x306e14[_0x248838(0x1fa)]]=[];let _0x2c5fd0=_0x306e14['startnumber'];_0x3a325d[_0x248838(0x122)]((_0x17e4e7,_0x5f3241)=>{const _0x168082=_0x248838;let _0x2a0d1e=_0x4a598a[_0x168082(0x1c8)](_0x17d4e8=>_0x17d4e8[_0x168082(0x1fa)]==_0x306e14['coin']&&_0x17d4e8['date']==_0x17e4e7);if(_0x2a0d1e['length']!=0x0){let _0x48327b=_0x2a0d1e['reduce']((_0x2163d3,_0x50333f)=>{return _0x2163d3+=_0x50333f['coinamount'],_0x2163d3;},0x0);_0x2c5fd0+=_0x48327b;}_0x31a12d[_0x306e14['coin']][_0x17e4e7]=_0x2c5fd0;});}});const _0x30a788=[..._0x2b7e5e];_0x30a788['push']({'coin':stablecoins['eur'][_0x251d78(0x1fa)],'symbol':stablecoins[_0x251d78(0x11e)][_0x251d78(0x1c6)]}),_0x30a788[_0x251d78(0x20a)]({'coin':stablecoins[_0x251d78(0x1fe)][_0x251d78(0x1fa)],'symbol':stablecoins[_0x251d78(0x1fe)][_0x251d78(0x1c6)]});let _0x18e2a7=[];for(const _0x3b9c5b of _0x30a788){_0x18e2a7[_0x3b9c5b[_0x251d78(0x1fa)]]=await getCloses(_0x3b9c5b[_0x251d78(0x1c6)],new Date(_0x1c4531[_0x251d78(0x13f)]));}dbPerformance['get'](_0x251d78(0x1ef))[_0x251d78(0x1e0)]()['write'](),_0x3a325d[_0x251d78(0x122)]((_0x2b1fc9,_0x1dda30)=>{const _0x5964bd=_0x251d78;let _0x113d08,_0x28369f=[];_0x1dda30==0x0?(_0x1c4531[_0x5964bd(0x149)][_0x5964bd(0x122)](_0x4ba7cb=>{const _0x3c564b=_0x5964bd;!_0x4ba7cb[_0x3c564b(0x17b)]&&_0x28369f['push']({'coin':_0x4ba7cb[_0x3c564b(0x1fa)],'number':_0x4ba7cb[_0x3c564b(0x12b)],'price':_0x4ba7cb['startprice']});}),_0x113d08={'date':_0x2b1fc9,'eur':_0x18e2a7[stablecoins[_0x5964bd(0x11e)]['coin']][_0x1dda30],'usd':_0x18e2a7[stablecoins[_0x5964bd(0x1fe)][_0x5964bd(0x1fa)]][_0x1dda30],'coins':_0x28369f}):(_0x1c4531[_0x5964bd(0x149)][_0x5964bd(0x122)](_0x404234=>{const _0x370724=_0x5964bd;!_0x404234[_0x370724(0x17b)]&&_0x28369f[_0x370724(0x20a)]({'coin':_0x404234[_0x370724(0x1fa)],'number':_0x31a12d[_0x404234['coin']][_0x2b1fc9],'price':_0x404234[_0x370724(0x1fa)]==config[_0x370724(0x139)]?0x1:_0x18e2a7[_0x404234[_0x370724(0x1fa)]][_0x1dda30]});}),_0x113d08={'date':_0x2b1fc9,'eur':_0x18e2a7[stablecoins[_0x5964bd(0x11e)][_0x5964bd(0x1fa)]][_0x1dda30],'usd':_0x18e2a7[stablecoins['usd'][_0x5964bd(0x1fa)]][_0x1dda30],'coins':_0x28369f}),dbPerformance[_0x5964bd(0x180)](_0x5964bd(0x1ef))[_0x5964bd(0x20a)](_0x113d08)[_0x5964bd(0x1c9)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x1ad6fa of _0x4a598a){_0x1ad6fa[_0x251d78(0x1fa)]!=config[_0x251d78(0x139)]&&await updateCoinResults(_0x1ad6fa);}logHistory('success',_0x251d78(0x12a));}catch(_0x5b2460){await handleError(_0x5b2460,_0x251d78(0x1f8));}}async function validate24hChanges(){const _0x1306ce=_0x4482b8;let _0x317ff1;for(const _0x576528 of currentCoins){if(_0x576528['coin']!=config[_0x1306ce(0x139)]){let _0xbb1d08;_0x576528['reverse']?_0xbb1d08=formatResult((0x1/(global[_0x1306ce(0x15a)][noslash(_0x576528[_0x1306ce(0x1c6)])]/0x64+0x1)-0x1)*0x64,0x3):_0xbb1d08=global[_0x1306ce(0x15a)][noslash(_0x576528[_0x1306ce(0x1c6)])],_0xbb1d08<config[_0x1306ce(0x16d)]&&(logHistory('error',_0x576528[_0x1306ce(0x1fa)]+_0x1306ce(0x17e)+_0xbb1d08+'%'),logHistory('error',_0x1306ce(0x1b4)),logHistory(_0x1306ce(0x1e5),_0x1306ce(0x202)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x4cbd1d,_0x52e477,_0x351757=undefined){const _0x14d547=_0x4482b8,_0x1af1d3='1d';let _0x41051f,_0x4d2ffd;const _0xe3dd61=fns[_0x14d547(0x16b)](new Date(),_0x52e477)+0x1;try{const _0x4be9d6=exchange[_0x14d547(0x1bc)]()-_0xe3dd61*0x18*0xe10*0x3e8;_0x41051f=await exchange['fetchOHLCV'](_0x4cbd1d,_0x1af1d3,_0x4be9d6,_0x351757),_0x4d2ffd=await exchange[_0x14d547(0x205)](_0x4cbd1d);}catch(_0x26b62d){await handleError(_0x26b62d,_0x14d547(0x196));}let _0x660aee=ohlcvToCloses(_0x41051f);return _0x660aee[_0x14d547(0x20a)](_0x4d2ffd[_0x4cbd1d]['last']),_0x660aee;}function ohlcvToCloses(_0x5e0c17){const _0x2070c5=_0x4482b8;let _0x13d977=[];return _0x5e0c17[_0x2070c5(0x122)](function(_0x2e4046){const _0x57af0a=_0x2070c5;_0x13d977[_0x57af0a(0x20a)](_0x2e4046[0x4]);}),_0x13d977;}function oneTimeMigration(){const _0x47492f=_0x4482b8;let _0x2b2f33=dbLogs[_0x47492f(0x180)](_0x47492f(0x1b0))[_0x47492f(0x1af)]();if(_0x2b2f33!=_0x47492f(0x222)){dbLogs['set'](_0x47492f(0x1b0),_0x47492f(0x222))[_0x47492f(0x1c9)]();let _0x2c3ba8=[];const _0x338d68=dbLogs[_0x47492f(0x180)]('logs')[_0x47492f(0x1af)]();_0x338d68[_0x47492f(0x122)](_0x3f7560=>{const _0x2475af=_0x47492f;_0x2c3ba8['push']({'time':_0x3f7560['time'],'type':_0x3f7560[_0x2475af(0x157)],'event':_0x3f7560['event']});}),dbLogs[_0x47492f(0x180)](_0x47492f(0x193))[_0x47492f(0x17c)](_0x2c3ba8)[_0x47492f(0x1c9)]();}let _0x38c604=dbConfig['get'](_0x47492f(0x1b0))[_0x47492f(0x1af)]();if(_0x38c604!=_0x47492f(0x222)){dbConfig[_0x47492f(0x145)]('version','2.3.5')['write']();let _0xaf12fc=dbConfig[_0x47492f(0x180)](_0x47492f(0x19c))[_0x47492f(0x13b)]({'botID':botID})[_0x47492f(0x1af)]();if(_0xaf12fc){let _0x185b9f=[];_0xaf12fc[_0x47492f(0x149)][_0x47492f(0x122)](_0x21f047=>{const _0x40fbdb=_0x47492f;_0x185b9f[_0x40fbdb(0x20a)]({'coin':_0x21f047['coin'],'number':_0x21f047[_0x40fbdb(0x12b)],'price':_0x21f047[_0x40fbdb(0x19f)]}),delete _0x21f047['startnumber'],delete _0x21f047[_0x40fbdb(0x19f)];});if(_0x185b9f[_0x47492f(0x134)]!==0x0)fs[_0x47492f(0x229)](configbackuppath+(_0x47492f(0x227)+botID+_0x47492f(0x1ab)),JSON[_0x47492f(0x23d)](_0x185b9f,null,0x4),function(_0x1533d1){if(_0x1533d1){}});const _0x3592f0=(_0x589838,_0x50180d)=>{const _0x58f7cf=_0x47492f;let _0x29427d=[];_0x50180d[_0x58f7cf(0x122)](_0xd4cfff=>{const _0x3de4a4=_0x58f7cf,_0x1f37fe=_0x589838[_0x3de4a4(0x13b)](_0x17b589=>_0x17b589[_0x3de4a4(0x1fa)]==_0xd4cfff[_0x3de4a4(0x1fa)]);if(!_0x1f37fe)_0x29427d[_0x3de4a4(0x20a)](_0xd4cfff);});let _0x37cf52=[];return _0x589838[_0x58f7cf(0x122)](_0x123e5f=>{const _0x3585fc=_0x58f7cf,_0x2aeeea=_0x50180d['find'](_0x50aa3a=>_0x50aa3a[_0x3585fc(0x1fa)]==_0x123e5f['coin']);if(!_0x2aeeea||_0x2aeeea[_0x3585fc(0x234)]==0x0&&_0x123e5f[_0x3585fc(0x234)]!=0x0)_0x37cf52[_0x3585fc(0x20a)](_0x123e5f);}),{'missingDay1':_0x29427d,'notInDay2':_0x37cf52};},_0x432085=dbPerformance[_0x47492f(0x180)](_0x47492f(0x1ef))['cloneDeep']()['value']();if(_0x432085[_0x47492f(0x134)]>0x1){const {missingDay1:_0x23ad9d,notInDay2:_0x4c6585}=_0x3592f0(_0x185b9f,_0x432085[0x1][_0x47492f(0x1e2)]);_0x185b9f=[..._0x185b9f,..._0x23ad9d],_0x4c6585[_0x47492f(0x122)](_0x121ccd=>{const _0x7f9687=_0x47492f;let _0x1e5eb7=_0x185b9f['findIndex'](_0x35a86e=>_0x35a86e[_0x7f9687(0x1fa)]==_0x121ccd[_0x7f9687(0x1fa)]);_0x1e5eb7!=-0x1&&_0x185b9f[_0x7f9687(0x22c)](_0x1e5eb7,0x1);});}_0x185b9f[_0x47492f(0x161)]((_0x15ca19,_0x59a4dc)=>_0x15ca19[_0x47492f(0x1fa)]>_0x59a4dc[_0x47492f(0x1fa)]?0x1:_0x59a4dc['coin']>_0x15ca19[_0x47492f(0x1fa)]?-0x1:0x0);let _0x4e9b71=[{'date':_0xaf12fc[_0x47492f(0x13f)],'changes':_0x185b9f}];_0x432085[_0x47492f(0x134)]>0x2&&_0x432085[_0x47492f(0x122)]((_0xf2dda7,_0x4b7d0e)=>{const _0x451dfa=_0x47492f;if(_0x4b7d0e>0x0&&_0x4b7d0e<_0x432085[_0x451dfa(0x134)]-0x1){const {missingDay1:_0x49389e,notInDay2:_0xba2594}=_0x3592f0(_0x432085[_0x4b7d0e][_0x451dfa(0x1e2)],_0x432085[_0x4b7d0e+0x1][_0x451dfa(0x1e2)]);_0x185b9f=[],(_0x49389e[_0x451dfa(0x134)]!=0x0||_0xba2594['length']!=0x0)&&(_0x49389e[_0x451dfa(0x134)]!=0x0&&_0x185b9f[_0x451dfa(0x20a)](..._0x49389e),_0xba2594[_0x451dfa(0x134)]!=0x0&&(_0xba2594[_0x451dfa(0x122)](_0x1e8390=>{const _0x16ab27=_0x451dfa;_0x1e8390['number']=-_0x1e8390[_0x16ab27(0x234)];}),_0x185b9f[_0x451dfa(0x20a)](..._0xba2594)),_0x185b9f[_0x451dfa(0x161)]((_0x206d3f,_0x5276d2)=>_0x206d3f[_0x451dfa(0x1fa)]>_0x5276d2[_0x451dfa(0x1fa)]?0x1:_0x5276d2[_0x451dfa(0x1fa)]>_0x206d3f[_0x451dfa(0x1fa)]?-0x1:0x0),_0x4e9b71['push']({'date':_0x432085[_0x4b7d0e+0x1]['date'],'changes':_0x185b9f}));}}),dbConfig[_0x47492f(0x180)](_0x47492f(0x19c))[_0x47492f(0x13b)]({'botID':botID})[_0x47492f(0x17c)]({..._0xaf12fc,'liquidity':_0x4e9b71})[_0x47492f(0x1c9)]();}}config=getConfiguration(botID);let _0x4a28da=dbPerformance['get'](_0x47492f(0x1b0))[_0x47492f(0x1af)]();_0x4a28da!=_0x47492f(0x222)&&(dbPerformance['set']('version',_0x47492f(0x222))[_0x47492f(0x1c9)](),setStartDatePerformance());let _0x412dbe=dbCoinResults[_0x47492f(0x180)](_0x47492f(0x1b0))[_0x47492f(0x1af)]();_0x412dbe!=_0x47492f(0x21d)&&(dbCoinResults['get'](_0x47492f(0x1e2))[_0x47492f(0x1e0)]()[_0x47492f(0x1c9)](),dbCoinResults[_0x47492f(0x145)](_0x47492f(0x1b0),_0x47492f(0x21d))[_0x47492f(0x1c9)](),dbCoinResults['set'](_0x47492f(0x123),getTimeStamp())[_0x47492f(0x1c9)]());}function getConfiguration(_0x593823){const _0xf1c042=_0x4482b8;let _0x41da13=dbConfig[_0xf1c042(0x180)](_0xf1c042(0x19c))[_0xf1c042(0x13b)]({'botID':_0x593823})[_0xf1c042(0x1af)]();if(_0x41da13){let _0x368784=![];typeof _0x41da13['threshold']==_0xf1c042(0x1be)&&(_0x41da13={..._0x41da13,'threshold':Number(_0x41da13[_0xf1c042(0x13a)])},_0x368784=!![]),_0x41da13[_0xf1c042(0x16d)]==null&&(_0x41da13={..._0x41da13,'change24h':-0x14},_0x368784=!![]),_0x368784&&(_0x41da13={'botID':_0x41da13[_0xf1c042(0x21c)],'exchange':_0x41da13[_0xf1c042(0x1d4)],'apiKey':_0x41da13[_0xf1c042(0x12d)],'apiSecret':_0x41da13[_0xf1c042(0x1c7)],'basecoin':_0x41da13[_0xf1c042(0x139)],'botname':_0x41da13[_0xf1c042(0x1a7)],'showname':_0x41da13[_0xf1c042(0x247)],'threshold':_0x41da13[_0xf1c042(0x13a)],'ordertype':_0x41da13[_0xf1c042(0x120)],'timeout':_0x41da13[_0xf1c042(0x1a6)],'startdate':_0x41da13[_0xf1c042(0x13f)],'recreate':_0x41da13['recreate'],'timeshift':_0x41da13[_0xf1c042(0x223)],'headless':_0x41da13[_0xf1c042(0x165)],'cooldown':_0x41da13[_0xf1c042(0x20e)],'change24h':_0x41da13[_0xf1c042(0x16d)],'emojibuy':_0x41da13[_0xf1c042(0x1c1)],'emojisell':_0x41da13[_0xf1c042(0x1f6)],'portfolio':_0x41da13['portfolio'],'liquidity':_0x41da13['liquidity']},dbConfig[_0xf1c042(0x180)]('bot')[_0xf1c042(0x1e0)]()[_0xf1c042(0x1c9)](),dbConfig['get'](_0xf1c042(0x19c))[_0xf1c042(0x20a)](_0x41da13)[_0xf1c042(0x1c9)]());}else _0x41da13={'botID':_0x593823,'exchange':_0xf1c042(0x1c5),'apiKey':'','apiSecret':'','basecoin':'','botname':_0xf1c042(0x14a)+_0x593823,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0xf1c042(0x223)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x41da13;}function emittedConfiguration(){const _0x4b6ad8=_0x4482b8;let _0xe5bf7;return config[_0x4b6ad8(0x12d)]==''?_0xe5bf7=config:_0xe5bf7={...config,'apiKey':_0x4b6ad8(0x12f),'apiSecret':_0x4b6ad8(0x12f)},_0xe5bf7;}function getSettings(){const _0x578b7e=_0x4482b8;return dbSettings[_0x578b7e(0x180)](_0x578b7e(0x1ad))[_0x578b7e(0x1af)]();}function getSecure(){const _0x1c86e5=_0x4482b8;return dbSecure[_0x1c86e5(0x180)](_0x1c86e5(0x23e))['value']()||{};}function updateTimeshift(_0x544843){const _0x557f6b=_0x4482b8;let _0x4f4a8e=dbConfig['get']('bot')[_0x557f6b(0x13b)]({'botID':botID})[_0x557f6b(0x1af)]();_0x4f4a8e&&dbConfig[_0x557f6b(0x180)](_0x557f6b(0x19c))['find']({'botID':botID})['assign']({'timeshift':_0x544843})[_0x557f6b(0x1c9)](),config[_0x557f6b(0x223)]=_0x544843,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x464c52){const _0x955e3e=_0x4482b8;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x1d9042=dbConfig[_0x955e3e(0x180)]('bot')['find']({'botID':botID})[_0x955e3e(0x1af)]();_0x464c52={..._0x464c52,'apiKey':crypt[_0x955e3e(0x172)](secure['privateKey'],_0x464c52[_0x955e3e(0x12d)])['message'],'apiSecret':crypt[_0x955e3e(0x172)](secure[_0x955e3e(0x226)],_0x464c52['apiSecret'])[_0x955e3e(0x1f4)]};if(_0x1d9042){if(_0x464c52[_0x955e3e(0x12d)]==_0x955e3e(0x12f))_0x464c52[_0x955e3e(0x12d)]=config[_0x955e3e(0x12d)];if(_0x464c52[_0x955e3e(0x1c7)]==_0x955e3e(0x12f))_0x464c52[_0x955e3e(0x1c7)]=config[_0x955e3e(0x1c7)];dbConfig[_0x955e3e(0x180)](_0x955e3e(0x19c))[_0x955e3e(0x13b)]({'botID':botID})[_0x955e3e(0x17c)](_0x464c52)[_0x955e3e(0x1c9)]();}else dbConfig[_0x955e3e(0x180)](_0x955e3e(0x19c))[_0x955e3e(0x20a)](_0x464c52)[_0x955e3e(0x1c9)](),process['send']({'status':'enabled','live':'running'},_0xd118bc=>{});config={..._0x464c52},setStartDatePerformance(),process['send']({'botname':_0x464c52[_0x955e3e(0x1a7)]},_0x62f075=>{}),updateBotManager();const _0x5a46bb=getNormalizedPerformance();getStartingBalances(_0x5a46bb),emitPerformance(_0x5a46bb),proxyEmit(_0x955e3e(0x175)),reset();}async function storeHeadless(_0x5d032a){const _0x11be8d=_0x4482b8,_0x16b7e7={...config,'headless':_0x5d032a[_0x11be8d(0x165)]};let _0x36d71e=dbConfig[_0x11be8d(0x180)](_0x11be8d(0x19c))[_0x11be8d(0x13b)]({'botID':botID})[_0x11be8d(0x1af)]();_0x36d71e&&dbConfig[_0x11be8d(0x180)](_0x11be8d(0x19c))[_0x11be8d(0x13b)]({'botID':botID})[_0x11be8d(0x17c)](_0x16b7e7)[_0x11be8d(0x1c9)](),config={..._0x16b7e7},updateBotManager(),proxyEmit(_0x11be8d(0x130),emittedConfiguration());}function noslash(_0x19a6a5){const _0x1412b7=_0x4482b8;return _0x19a6a5[_0x1412b7(0x203)]('/','');}async function updateNumberCoins(_0x44a10a){const _0xb3f8ac=_0x4482b8;_0x44a10a[_0xb3f8ac(0x21f)]&&_0x44a10a[_0xb3f8ac(0x21f)]==_0xb3f8ac(0x188)&&(_0x44a10a[_0xb3f8ac(0x137)]!=lastOutboundEventTime&&(lastOutboundEventTime=_0x44a10a[_0xb3f8ac(0x137)],currentCoins=await getCoins(),validateOrders()));if(_0x44a10a[_0xb3f8ac(0x21f)]&&_0x44a10a['eventType']==_0xb3f8ac(0x208)){if(_0x44a10a[_0xb3f8ac(0x1bb)]==_0xb3f8ac(0x115)){if(lastOrders)lastOrders['forEach'](async _0x21dd16=>{const _0x13a03a=_0xb3f8ac;if(_0x21dd16[_0x13a03a(0x135)]==_0x44a10a[_0x13a03a(0x135)]&&_0x21dd16['filled']==0x0){_0x21dd16[_0x13a03a(0x133)]=_0x44a10a[_0x13a03a(0x143)]/_0x44a10a[_0x13a03a(0x1b2)];if(_0x21dd16[_0x13a03a(0x159)])_0x21dd16[_0x13a03a(0x150)]=_0x44a10a[_0x13a03a(0x1b2)]*_0x21dd16[_0x13a03a(0x133)];else _0x21dd16[_0x13a03a(0x150)]=_0x44a10a[_0x13a03a(0x1b2)];_0x21dd16[_0x13a03a(0x16c)]={'cost':_0x44a10a[_0x13a03a(0x1cb)],'currency':_0x44a10a[_0x13a03a(0x181)]},validateOrders(),currentCoins=await getCoins(),await updateCoinResults(_0x21dd16);}});}}}async function getCoins(_0x5b0971=!![],_0x3aff44=config['basecoin']){const _0x42b883=_0x4482b8;let _0x293a04,_0x39542f=[],_0x8946ac=[],_0x2995be=[];try{_0x293a04=await exchange[_0x42b883(0x228)](),mybalances=_0x293a04[_0x42b883(0x20b)];if(!_0x5b0971)for(const [_0x23047e,_0x1121c7]of Object[_0x42b883(0x243)](mybalances)){_0x2995be[_0x42b883(0x20a)](_0x23047e);}else config['portfolio']['forEach'](_0x5b5237=>{const _0xe103aa=_0x42b883;if(!_0x5b5237['excluded'])_0x2995be[_0xe103aa(0x20a)](_0x5b5237[_0xe103aa(0x1fa)]);});if(_0x3aff44=='')for(const [_0x285b4d,_0x545849]of Object[_0x42b883(0x243)](mybalances)){_0x545849[_0x42b883(0x213)]()!=0x0&&_0x8946ac[_0x42b883(0x20a)]({'coin':_0x285b4d});}else{let _0x513945=0x0,_0xc2eb71=![];for(const [_0x4736b2,_0x292fad]of Object[_0x42b883(0x243)](mybalances)){if(_0x2995be[_0x42b883(0x1b8)](_0x4736b2)){const _0x12b695=config['portfolio']['find'](_0x5b6ba4=>_0x5b6ba4[_0x42b883(0x1fa)]==_0x4736b2),_0x39d3c1=_0x4736b2+'/'+_0x3aff44,_0x46ac89=_0x3aff44+'/'+_0x4736b2;_0xc2eb71=![];if((_0x292fad[_0x42b883(0x213)]()!=0x0||_0x12b695)&&(allSymbols[_0x42b883(0x1b8)](_0x39d3c1)||_0x4736b2==_0x3aff44)){if(_0x4736b2!=_0x3aff44){_0x39542f[_0x42b883(0x20a)](_0x39d3c1);const _0x155a66=await exchange['fetchOpenOrders'](_0x39d3c1);_0x155a66[_0x42b883(0x134)]>0x0&&(_0xc2eb71=!![]);}_0x8946ac['push']({'coin':_0x4736b2,'symbol':_0x39d3c1,'reverse':![],'number':Math[_0x42b883(0x1b1)](_0x292fad+(_0x12b695&&_0x12b695[_0x42b883(0x1cd)]||0x0),0x0),'order':_0xc2eb71});}else{if((_0x292fad[_0x42b883(0x213)]()!=0x0||_0x12b695)&&allSymbols[_0x42b883(0x1b8)](_0x46ac89)){if(_0x4736b2!=_0x3aff44){_0x39542f['push'](_0x46ac89);const _0x554096=await exchange[_0x42b883(0x15d)](_0x46ac89);_0x554096[_0x42b883(0x134)]>0x0&&(_0xc2eb71=!![]);}_0x8946ac[_0x42b883(0x20a)]({'coin':_0x4736b2,'symbol':_0x46ac89,'reverse':!![],'number':Math['max'](_0x292fad+(_0x12b695&&_0x12b695[_0x42b883(0x1cd)]||0x0),0x0),'order':_0xc2eb71});}}}if(_0xc2eb71)_0x513945++;}_0x513945==0x0&&(lockOrders&&validateOrders(_0x42b883(0x18e)));}}catch(_0x47a206){if(!_0x5b0971){if(_0x47a206[_0x42b883(0x213)]()[_0x42b883(0x1b8)](_0x42b883(0x170)))return logHistory(_0x42b883(0x1e5),_0x42b883(0x221)),![];else{if(_0x47a206['toString']()[_0x42b883(0x1b8)]('AuthenticationError'))return logHistory('error',_0x42b883(0x212)),![];else{if(_0x47a206[_0x42b883(0x213)]()[_0x42b883(0x1b8)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error','Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x47a206,_0x42b883(0x16f));}}}else await handleError(_0x47a206,_0x42b883(0x16f));}return _0x8946ac;}async function getPortfolio(_0xf45363){const _0x4c69f5=_0x4482b8;let _0x3ba7b4=[],_0x2c7d0d=[],_0x781870,_0x932ddb=[],_0x285c11,_0x246070;_0xf45363[_0x4c69f5(0x12d)]==='************'||_0xf45363[_0x4c69f5(0x1c7)]==='************'?(_0x285c11=config['apiKey'],_0x246070=config[_0x4c69f5(0x1c7)]):(_0x285c11=_0xf45363[_0x4c69f5(0x12d)],_0x246070=_0xf45363[_0x4c69f5(0x1c7)]);await initExchange(_0x285c11,_0x246070);let _0x461521=await loadSymbols();if(_0x461521){_0x932ddb=await getCoins(![],_0xf45363['basecoin']);if(_0x932ddb===![])proxyEmit(_0x4c69f5(0x149),![]);else{if(_0xf45363[_0x4c69f5(0x139)]=='')proxyEmit(_0x4c69f5(0x149),_0x932ddb);else{_0x932ddb[_0x4c69f5(0x122)](_0x57b4cb=>{const _0x2d375c=_0x4c69f5;if(_0x57b4cb[_0x2d375c(0x1fa)]!=_0xf45363[_0x2d375c(0x139)])_0x3ba7b4[_0x2d375c(0x20a)](_0x57b4cb[_0x2d375c(0x1c6)]);});try{_0x2c7d0d=await exchange[_0x4c69f5(0x205)](_0x3ba7b4);}catch(_0x1f0ede){await handleError(_0x1f0ede,_0x4c69f5(0x186));}_0x932ddb[_0x4c69f5(0x122)](_0x514b55=>{const _0x290f78=_0x4c69f5;_0x514b55[_0x290f78(0x1fa)]!=_0xf45363[_0x290f78(0x139)]?_0x781870=_0x514b55[_0x290f78(0x159)]?0x1/_0x2c7d0d[_0x514b55[_0x290f78(0x1c6)]][_0x290f78(0x12c)]:_0x2c7d0d[_0x514b55[_0x290f78(0x1c6)]]['last']:_0x781870=0x1,_0x514b55[_0x290f78(0x133)]=formatResult(_0x781870,0x8);}),proxyEmit('portfolio',_0x932ddb);}}}else proxyEmit(_0x4c69f5(0x149),![]);}function checkMinimums(_0x4cce03){const _0xcaadb7=_0x4482b8;let _0x5759ef=!![];const _0x37b358=!_0x4cce03[_0xcaadb7(0x159)]?markets[_0x4cce03[_0xcaadb7(0x1c6)]][_0xcaadb7(0x154)][_0xcaadb7(0x217)][_0xcaadb7(0x244)]:markets[_0x4cce03[_0xcaadb7(0x1c6)]][_0xcaadb7(0x154)]['cost'][_0xcaadb7(0x244)],_0x2270f5=!_0x4cce03[_0xcaadb7(0x159)]?markets[_0x4cce03[_0xcaadb7(0x1c6)]]['limits'][_0xcaadb7(0x1a0)]['min']:markets[_0x4cce03['symbol']][_0xcaadb7(0x154)][_0xcaadb7(0x217)][_0xcaadb7(0x244)];if(Math[_0xcaadb7(0x235)](_0x4cce03['trade'])<_0x37b358)_0x5759ef=![];if(Math[_0xcaadb7(0x235)](_0x4cce03[_0xcaadb7(0x11b)])*_0x4cce03[_0xcaadb7(0x12c)]<_0x2270f5)_0x5759ef=![];if(_0x4cce03[_0xcaadb7(0x1cf)]==_0xcaadb7(0x116)){let _0x259f01=config[_0xcaadb7(0x149)][_0xcaadb7(0x13b)](_0x159675=>_0x159675[_0xcaadb7(0x1fa)]==_0x4cce03[_0xcaadb7(0x1fa)]);if(_0x259f01[_0xcaadb7(0x1cd)]>0x0){if(Math[_0xcaadb7(0x235)](_0x4cce03[_0xcaadb7(0x11b)])>_0x4cce03['number']-_0x259f01[_0xcaadb7(0x1cd)])_0x5759ef=![];}else{if(Math[_0xcaadb7(0x235)](_0x4cce03[_0xcaadb7(0x11b)])>_0x4cce03[_0xcaadb7(0x234)])_0x5759ef=![];}}if(_0x4cce03[_0xcaadb7(0x1cf)]==_0xcaadb7(0x1f2)){let _0x21aa95=config[_0xcaadb7(0x149)]['find'](_0x3023ba=>_0x3023ba[_0xcaadb7(0x1fa)]==config[_0xcaadb7(0x139)]),_0x232af9=currentCoins[_0xcaadb7(0x13b)](_0x1f4049=>_0x1f4049[_0xcaadb7(0x1fa)]==config[_0xcaadb7(0x139)]);if(_0x21aa95['offset']>0x0){if(Math[_0xcaadb7(0x235)](_0x4cce03[_0xcaadb7(0x11b)])*_0x4cce03[_0xcaadb7(0x12c)]>_0x232af9['number']-_0x21aa95[_0xcaadb7(0x1cd)])_0x5759ef=![];}else{if(Math[_0xcaadb7(0x235)](_0x4cce03[_0xcaadb7(0x11b)])*_0x4cce03[_0xcaadb7(0x12c)]>_0x232af9[_0xcaadb7(0x234)])_0x5759ef=![];}}return _0x5759ef;}async function getBalances(){const _0x4d0024=_0x4482b8;let _0x3d1e90=0x0,_0x3f8e70;const _0x1fc886=config[_0x4d0024(0x13a)];if(config[_0x4d0024(0x165)]&&config[_0x4d0024(0x16d)]<0x0)await validate24hChanges();currentCoins[_0x4d0024(0x122)](_0x522036=>{const _0x43659f=_0x4d0024;if(_0x522036[_0x43659f(0x1fa)]!=config[_0x43659f(0x139)]){let _0x5d24d0=global['ticker'][noslash(_0x522036['symbol'])];_0x3f8e70=_0x522036[_0x43659f(0x159)]?0x1/_0x5d24d0:_0x5d24d0;}else _0x3f8e70=0x1;let _0x18f73c=_0x522036[_0x43659f(0x234)]*_0x3f8e70;_0x3d1e90+=_0x18f73c,_0x522036[_0x43659f(0x12c)]=formatResult(Number(_0x3f8e70),0x8),_0x522036[_0x43659f(0x1af)]=_0x18f73c;}),currentCoins['forEach'](_0x40697a=>{const _0x3a4225=_0x4d0024;let _0x577837=config[_0x3a4225(0x149)][_0x3a4225(0x13b)](_0x5b8e60=>_0x5b8e60[_0x3a4225(0x1fa)]==_0x40697a[_0x3a4225(0x1fa)]),_0x124883=Number(_0x577837[_0x3a4225(0x14b)]),_0x42b738=_0x40697a['value']/_0x3d1e90*0x64,_0x19bdcb=_0x124883*_0x3d1e90/0x64/_0x40697a[_0x3a4225(0x12c)]-_0x40697a[_0x3a4225(0x234)];_0x40697a['distribution']=formatResult(_0x42b738,0x3),_0x40697a['target']=formatResult(_0x124883,0x3),_0x40697a[_0x3a4225(0x11b)]=formatResult(_0x19bdcb,0x8),_0x40697a[_0x3a4225(0x1cf)]='',_0x40697a[_0x3a4225(0x1d8)]=![];if(_0x40697a[_0x3a4225(0x1fa)]!=config[_0x3a4225(0x139)]){if(_0x40697a['distribution']>_0x124883)_0x40697a[_0x3a4225(0x1cf)]=_0x3a4225(0x116),_0x40697a[_0x3a4225(0x1d8)]=checkMinimums(_0x40697a);else _0x40697a['distribution']<_0x124883&&(_0x40697a[_0x3a4225(0x1cf)]=_0x3a4225(0x1f2),_0x40697a[_0x3a4225(0x1d8)]=checkMinimums(_0x40697a));}_0x40697a['delta']=_0x40697a[_0x3a4225(0x14b)]/_0x40697a[_0x3a4225(0x13e)]-0x1;}),currentCoins['sort']((_0x2711b2,_0x4f70da)=>_0x2711b2[_0x4d0024(0x17f)]<_0x4f70da[_0x4d0024(0x17f)]?0x1:_0x4f70da[_0x4d0024(0x17f)]<_0x2711b2[_0x4d0024(0x17f)]?-0x1:0x0);const _0xada4e5=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xada4e5[_0x4d0024(0x11e)],'usd':_0xada4e5['usd'],'portfolio':JSON[_0x4d0024(0x23d)](currentCoins),'threshold':_0x1fc886},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x1fc886});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x1fc886});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x27e0c6=_0x4482b8;if(!lastBalances)return;let _0x3a4bc1=[],_0x2985fc,_0x9e1bd9=JSON['parse'](lastBalances['portfolio']);_0x9e1bd9['sort']((_0x435823,_0x45fbac)=>_0x435823['coin']>_0x45fbac[_0x27e0c6(0x1fa)]?0x1:_0x45fbac[_0x27e0c6(0x1fa)]>_0x435823[_0x27e0c6(0x1fa)]?-0x1:0x0),_0x9e1bd9[_0x27e0c6(0x122)](_0x38e334=>{const _0xc8f320=_0x27e0c6;let _0x4e043d={'coin':_0x38e334['coin'],'number':_0x38e334['number'],'price':_0x38e334[_0xc8f320(0x12c)]};_0x3a4bc1[_0xc8f320(0x20a)](_0x4e043d);});const _0x326871=await getFiat();_0x2985fc={'date':lastBalances['time'][_0x27e0c6(0x23a)]('\x20')[0x0],'eur':_0x326871[_0x27e0c6(0x11e)],'usd':_0x326871[_0x27e0c6(0x1fe)],'coins':_0x3a4bc1};let _0x35bf24=dbPerformance[_0x27e0c6(0x180)]('data')[_0x27e0c6(0x13b)]({'date':_0x2985fc[_0x27e0c6(0x1c0)]})[_0x27e0c6(0x1af)]();_0x35bf24?_0x2985fc[_0x27e0c6(0x1c0)]!=config['startdate']&&dbPerformance['get']('data')[_0x27e0c6(0x13b)]({'date':_0x2985fc[_0x27e0c6(0x1c0)]})[_0x27e0c6(0x17c)](_0x2985fc)[_0x27e0c6(0x1c9)]():dbPerformance['get'](_0x27e0c6(0x1ef))[_0x27e0c6(0x20a)](_0x2985fc)[_0x27e0c6(0x1c9)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x12e883=_0x4482b8;let _0x2cc4a1=[];if(dbPerformance['has'](_0x12e883(0x1ef))[_0x12e883(0x1af)]()){let _0x3fa985=dbPerformance[_0x12e883(0x180)](_0x12e883(0x1ef))['cloneDeep']()[_0x12e883(0x19a)](_0x12e883(0x1c0))['value'](),_0x56252b=[...config[_0x12e883(0x185)]];_0x56252b[_0x12e883(0x161)]((_0x67c1fd,_0x3308cc)=>_0x67c1fd['date']>_0x3308cc['date']?-0x1:_0x3308cc[_0x12e883(0x1c0)]>_0x67c1fd[_0x12e883(0x1c0)]?0x1:0x0);let _0xd1821a=0x1,_0x2cf184=[],_0x15a727=0x0;_0x3fa985[_0x12e883(0x1e7)]()[_0x12e883(0x159)]()[_0x12e883(0x122)]((_0x2b52f0,_0x3985e5)=>{const _0x4dae0d=_0x12e883;if(_0x56252b[_0x15a727]){if(_0x3fa985[_0x3fa985['length']-_0x3985e5]&&_0x56252b[_0x15a727][_0x4dae0d(0x1c0)]==_0x3fa985[_0x3fa985[_0x4dae0d(0x134)]-_0x3985e5][_0x4dae0d(0x1c0)]){if(_0x3985e5<_0x3fa985[_0x4dae0d(0x134)]){let _0x3e1534=0x0,_0x22ca17=0x0;_0x3fa985[_0x3fa985[_0x4dae0d(0x134)]-_0x3985e5]['coins'][_0x4dae0d(0x122)](_0x15954c=>{_0x22ca17+=_0x15954c['number']*_0x15954c['price'];}),_0x56252b[_0x15a727][_0x4dae0d(0x210)][_0x4dae0d(0x122)](_0x5e292c=>{const _0x38503b=_0x4dae0d;_0x3e1534+=_0x5e292c['number']*_0x5e292c[_0x38503b(0x133)];}),_0xd1821a*=_0x3e1534/(_0x22ca17-_0x3e1534)+0x1;}_0x15a727++;}}let _0x973f2d=0x0;_0x2b52f0[_0x4dae0d(0x1e2)][_0x4dae0d(0x122)](_0x111747=>{const _0x47d146=_0x4dae0d;_0x973f2d+=_0x111747[_0x47d146(0x234)]*_0x111747[_0x47d146(0x133)];}),_0x2cf184[_0x3fa985[_0x4dae0d(0x134)]-_0x3985e5-0x1]=_0x973f2d*(_0xd1821a-0x1);});let _0x214681=[];_0x56252b=[...config['liquidity']]||[];let _0x293ba6=0x0;_0x15a727=0x0,_0x3fa985[_0x12e883(0x122)]((_0x525d03,_0x1806e4)=>{const _0x3f6b45=_0x12e883;if(_0x56252b[_0x15a727]){const _0x2a597a=fns[_0x3f6b45(0x1b3)](_0x56252b[_0x15a727][_0x3f6b45(0x1c0)],_0x3f6b45(0x194),new Date()),_0xaeea9d=fns[_0x3f6b45(0x1b3)](_0x525d03[_0x3f6b45(0x1c0)],_0x3f6b45(0x194),new Date());if(fns['isEqual'](_0x2a597a,_0xaeea9d)){let _0x19d83e=0x0;_0x56252b[_0x15a727][_0x3f6b45(0x210)][_0x3f6b45(0x122)](_0x3e4139=>{const _0x511093=_0x3f6b45;!_0x214681[_0x3e4139[_0x511093(0x1fa)]]?_0x214681[_0x3e4139['coin']]=_0x3e4139['number']:(_0x19d83e=_0x214681[_0x3e4139[_0x511093(0x1fa)]],_0x214681[_0x3e4139['coin']]+=_0x3e4139['number']);const _0x41eeb3=_0x525d03[_0x511093(0x1e2)][_0x511093(0x13b)](_0x1e0ce2=>_0x1e0ce2[_0x511093(0x1fa)]==_0x3e4139[_0x511093(0x1fa)]);(!_0x41eeb3||_0x41eeb3['number']==0x0)&&(_0x293ba6+=(-_0x3e4139[_0x511093(0x234)]-_0x19d83e)*_0x3e4139[_0x511093(0x133)]);}),_0x15a727++;}}_0x525d03['coins']['forEach']((_0x23078f,_0x1dc65f)=>{const _0x1b2b6a=_0x3f6b45;_0x214681[_0x23078f['coin']]&&(_0x23078f={..._0x23078f,'initial':_0x214681[_0x23078f[_0x1b2b6a(0x1fa)]]}),_0x525d03['coins'][_0x1dc65f]=_0x23078f;}),_0x2cc4a1['push']({'date':_0x525d03[_0x3f6b45(0x1c0)],'eur':_0x525d03['eur'],'usd':_0x525d03[_0x3f6b45(0x1fe)],'offset':_0x2cf184[_0x1806e4],'netoffset':_0x293ba6,'coins':_0x525d03['coins']});});}return _0x2cc4a1;}function emitPerformance(_0x513018){const _0x9184dc=_0x4482b8;_0x513018[_0x9184dc(0x134)]!==0x0?(proxyEmit(_0x9184dc(0x1b7),_0x513018),lastPerformanceEmitted=getDate()):proxyEmit(_0x9184dc(0x1b7),[]);}function getPerf(_0x4fe301,_0x365230){const _0x572c7a=_0x4482b8;let _0x5f5770=0x0,_0x3db19e=0x0,_0x56280a=0x0;_0x4fe301['coins']['forEach'](_0x49f8e1=>{const _0x5150b0=_0x38fc;_0x5f5770+=_0x49f8e1[_0x5150b0(0x234)]*_0x49f8e1[_0x5150b0(0x133)];});_0x365230&&(_0x5f5770+=_0x4fe301[_0x572c7a(0x1cd)]);if(config[_0x572c7a(0x139)]===_0x572c7a(0x232)||config[_0x572c7a(0x139)]==='ETH')_0x3db19e=_0x5f5770*_0x4fe301['eur'],_0x56280a=_0x5f5770*_0x4fe301[_0x572c7a(0x1fe)];else{if(config[_0x572c7a(0x139)]===_0x572c7a(0x24a)||config['basecoin']==='USDT'||config[_0x572c7a(0x139)]===_0x572c7a(0x21a))_0x3db19e=_0x5f5770*_0x4fe301['eur']/_0x4fe301[_0x572c7a(0x1fe)],_0x56280a=_0x5f5770;else config['basecoin']===_0x572c7a(0x1ce)&&(_0x3db19e=_0x5f5770,_0x56280a=_0x5f5770*_0x4fe301[_0x572c7a(0x1fe)]/_0x4fe301[_0x572c7a(0x11e)]);}return[_0x5f5770,_0x3db19e,_0x56280a];}async function getStartingBalances(_0x39de47,_0x18cd5f=!![]){const _0x1c21bf=_0x4482b8;if(_0x39de47[_0x1c21bf(0x134)]!==0x0){const [_0x26ae13,_0x509b8b,_0x306c4a]=getPerf(_0x39de47[0x0],!![]);let _0x50e177=[];config[_0x1c21bf(0x149)]['forEach'](_0x2a3816=>{const _0x248ed4=_0x1c21bf;let _0x5a2c56=0x0,_0x51407f;config[_0x248ed4(0x185)][_0x248ed4(0x122)](_0x42d4d0=>{const _0x5e0d9d=_0x248ed4;let _0x216c8b=_0x42d4d0[_0x5e0d9d(0x210)]['find'](_0x29c932=>_0x29c932[_0x5e0d9d(0x1fa)]==_0x2a3816[_0x5e0d9d(0x1fa)]);if(_0x216c8b){_0x5a2c56+=_0x216c8b[_0x5e0d9d(0x234)];if(!_0x51407f)_0x51407f=_0x216c8b[_0x5e0d9d(0x133)];}}),_0x50e177['push']({'coin':_0x2a3816[_0x248ed4(0x1fa)],'number':_0x5a2c56,'initialprice':_0x51407f});});const _0x55d95d={'basecoin':_0x26ae13,'eur':_0x509b8b,'usd':_0x306c4a,'coins':_0x50e177};if(_0x18cd5f)proxyEmit(_0x1c21bf(0x12e),_0x55d95d);return _0x55d95d;}}function headlessMode(_0x35bc18){const _0x4c8bd9=_0x4482b8;let _0x3c5935=_0x35bc18[_0x4c8bd9(0x149)],_0x4e478f=_0x35bc18[_0x4c8bd9(0x13a)],_0x5e78e8=[];for(let _0x11d03f of _0x3c5935){if(_0x11d03f['coin']!=config[_0x4c8bd9(0x139)]){if(_0x11d03f['delta']>=_0x4e478f/0x64){if(_0x11d03f[_0x4c8bd9(0x1d8)])_0x5e78e8[_0x4c8bd9(0x20a)](_0x11d03f);}else{if(_0x11d03f['delta']<=-_0x4e478f/0x64){if(_0x11d03f['valid'])_0x5e78e8[_0x4c8bd9(0x20a)](_0x11d03f);}}}}_0x5e78e8[_0x4c8bd9(0x134)]>0x0&&placeOrder(_0x5e78e8);}function notifyBalance(_0x12cdfc){const _0x4ea390=_0x4482b8;let _0x3ec5e8=_0x12cdfc['portfolio'],_0x21c2b6=_0x12cdfc[_0x4ea390(0x13a)],_0x59a90b=[];for(let _0x51d92f of _0x3ec5e8){if(_0x51d92f[_0x4ea390(0x1fa)]!=config[_0x4ea390(0x139)]){if(_0x51d92f[_0x4ea390(0x17f)]>=_0x21c2b6/0x64){if(_0x51d92f[_0x4ea390(0x1d8)])_0x59a90b[_0x4ea390(0x20a)](_0x51d92f);}else{if(_0x51d92f[_0x4ea390(0x17f)]<=-_0x21c2b6/0x64){if(_0x51d92f[_0x4ea390(0x1d8)])_0x59a90b[_0x4ea390(0x20a)](_0x51d92f);}}}}if(_0x59a90b['length']>0x0){let _0x4f016c=_0x59a90b['map'](_0x316208=>_0x316208[_0x4ea390(0x1fa)]);_0x4f016c[_0x4ea390(0x161)]();let _0x191867=_0x4f016c[_0x4ea390(0x225)](',\x20');if(lastCoinsToBalance!==_0x191867)logHistory(_0x4ea390(0x160),_0x4ea390(0x1db)+_0x191867);lastCoinsToBalance=_0x191867;}}function symbolToCoin(_0x4f7b8b){const _0x293264=_0x4482b8;let _0x3ac457;if(_0x4f7b8b[_0x293264(0x1b8)]('/'+config[_0x293264(0x139)]))_0x3ac457=_0x4f7b8b[_0x293264(0x203)]('/'+config[_0x293264(0x139)],'');if(_0x4f7b8b[_0x293264(0x1b8)](config[_0x293264(0x139)]+'/'))_0x3ac457=_0x4f7b8b[_0x293264(0x203)](config[_0x293264(0x139)]+'/','');return _0x3ac457;}async function validateOrders(_0x58b741){const _0x8e8199=_0x4482b8;if(_0x58b741)validateOrdersState=_0x58b741;let _0x589370=[],_0x168e18=config[_0x8e8199(0x120)]==_0x8e8199(0x1d7)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x8e8199(0x1a6)]*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders[_0x8e8199(0x122)](_0x5baa8e=>{const _0x45ca82=_0x8e8199;let _0x49a8aa=![];if(_0x5baa8e[_0x45ca82(0x150)]>0x0)_0x49a8aa=!![];else{let _0x504396=previousCoins[_0x45ca82(0x13b)](_0x1d1984=>_0x1d1984['coin']==symbolToCoin(_0x5baa8e[_0x45ca82(0x1c6)])),_0x45c82a=currentCoins[_0x45ca82(0x13b)](_0x39ec88=>_0x39ec88['coin']==symbolToCoin(_0x5baa8e['symbol'])),_0x321493,_0x51a994;_0x5baa8e[_0x45ca82(0x1cf)]=='buy'&&!_0x5baa8e[_0x45ca82(0x159)]||_0x5baa8e[_0x45ca82(0x1cf)]==_0x45ca82(0x116)&&_0x5baa8e['reverse']?(_0x321493=_0x504396[_0x45ca82(0x234)]+0.9*_0x5baa8e[_0x45ca82(0x150)],_0x51a994=_0x504396[_0x45ca82(0x234)]+1.1*_0x5baa8e['filled']):(_0x321493=_0x504396[_0x45ca82(0x234)]-1.1*_0x5baa8e[_0x45ca82(0x150)],_0x51a994=_0x504396[_0x45ca82(0x234)]-0.9*_0x5baa8e[_0x45ca82(0x150)]),_0x49a8aa=_0x5baa8e[_0x45ca82(0x150)]!=0x0&&_0x45c82a[_0x45ca82(0x234)]>=_0x321493&&_0x45c82a[_0x45ca82(0x234)]<=_0x51a994,_0x49a8aa&&(_0x45c82a['order']=![]);}_0x589370['push'](_0x49a8aa);if(_0x49a8aa&&config[_0x45ca82(0x120)]!=_0x45ca82(0x1d7)){if(_0x5baa8e['reverse'])logHistory(_0x45ca82(0x249),_0x45ca82(0x1a3)+_0x5baa8e[_0x45ca82(0x1c6)]+'\x20'+_0x5baa8e[_0x45ca82(0x1cf)]+'\x20#'+formatResult(_0x5baa8e[_0x45ca82(0x150)]/_0x5baa8e[_0x45ca82(0x133)],0x8)+'\x20@'+formatResult(_0x5baa8e[_0x45ca82(0x133)],0x8));else logHistory('order',_0x45ca82(0x1a3)+_0x5baa8e[_0x45ca82(0x1c6)]+'\x20'+_0x5baa8e[_0x45ca82(0x1cf)]+'\x20#'+formatResult(_0x5baa8e[_0x45ca82(0x150)],0x8)+'\x20@'+formatResult(_0x5baa8e[_0x45ca82(0x133)],0x8));}}),_0x589370[_0x8e8199(0x122)]((_0x5efe99,_0x125852)=>{const _0x5d65c1=_0x8e8199;if(_0x5efe99)lastOrders[_0x5d65c1(0x22c)](_0x125852,0x1);});const _0x239959=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x8e8199(0x132);if(validateOrdersState==_0x8e8199(0x118))validateOrdersState=_0x8e8199(0x18b),_0x589370[_0x8e8199(0x1b8)](![])?config[_0x8e8199(0x120)]==_0x8e8199(0x1d7)?logHistory(_0x8e8199(0x1e5),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory('error',_0x8e8199(0x11f)):lockOrders=![];else{if(validateOrdersState==_0x8e8199(0x18b)){if(_0x589370['includes'](![])){}else lockOrders=![],config['ordertype']==_0x8e8199(0x1d7)?logHistory(_0x8e8199(0x160),_0x8e8199(0x215)+_0x239959):logHistory(_0x8e8199(0x160),_0x8e8199(0x117)+_0x239959);}else{if(validateOrdersState==_0x8e8199(0x201))lockOrders=![],_0x589370['includes'](![])?config[_0x8e8199(0x120)]==_0x8e8199(0x1d7)?logHistory('success',_0x8e8199(0x1cc)+Math[_0x8e8199(0x204)](_0x168e18*validateOrderInterval/0xea60)+_0x8e8199(0x1c4)+_0x239959):(await cancelOrders(),logHistory('success',_0x8e8199(0x177)+Math[_0x8e8199(0x204)](_0x168e18*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x239959)):logHistory(_0x8e8199(0x160),_0x8e8199(0x184)+_0x239959),currentCoins=await getCoins();else{if(validateOrdersState==_0x8e8199(0x18e)){lockOrders=![];if(config[_0x8e8199(0x120)]!=_0x8e8199(0x1d7))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x239959);}}}}}async function cancelOrders(){const _0x41aff1=_0x4482b8;lastOrders[_0x41aff1(0x122)](async _0x37c383=>{const _0xd5720a=_0x41aff1;try{const _0x41abc5=await exchange[_0xd5720a(0x126)](_0x37c383[_0xd5720a(0x135)],_0x37c383[_0xd5720a(0x1c6)]);}catch(_0x404edf){if(_0x404edf[_0xd5720a(0x213)]()['includes'](_0xd5720a(0x239))){}else await handleError(_0x404edf,_0xd5720a(0x23b));}});}async function resetCoinResults(){const _0x259b34=_0x4482b8;dbCoinResults[_0x259b34(0x180)]('coins')[_0x259b34(0x1e0)]()['write']();let _0x4f41e8=await getStartingBalances(getNormalizedPerformance(),![]);_0x4f41e8[_0x259b34(0x1e2)]['forEach'](_0x47a0e6=>{const _0x228f6c=_0x259b34;if(_0x47a0e6[_0x228f6c(0x1fa)]!=config['basecoin']){let _0x3e64d1={'coin':_0x47a0e6[_0x228f6c(0x1fa)],'number':_0x47a0e6[_0x228f6c(0x234)],'breakeven':formatResult(_0x47a0e6['initialprice'],0x8),'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x228f6c(0x180)](_0x228f6c(0x1e2))[_0x228f6c(0x20a)](_0x3e64d1)[_0x228f6c(0x1c9)]();}});}async function updateCoinResults(_0x51ec1b){const _0x41e058=_0x4482b8;let _0x4e8301,_0x29b830,_0x5c55e6,_0x300bda,_0x35ce13,_0x1e1e56,_0x338bc5=dbCoinResults[_0x41e058(0x180)](_0x41e058(0x1e2))['find']({'coin':_0x51ec1b[_0x41e058(0x1fa)]})['value']();if(!_0x338bc5)return;if(_0x51ec1b['fee']&&_0x51ec1b[_0x41e058(0x16c)][_0x41e058(0x16a)]==config[_0x41e058(0x139)])_0x4e8301=_0x51ec1b[_0x41e058(0x16c)][_0x41e058(0x1a0)];else{if(_0x51ec1b['fee']&&_0x51ec1b[_0x41e058(0x16c)][_0x41e058(0x16a)]=='BNB')_0x4e8301=_0x51ec1b[_0x41e058(0x16c)][_0x41e058(0x1a0)]*global['ticker'][_0x41e058(0x21e)+config['basecoin']];else _0x4e8301=0.001*_0x51ec1b[_0x41e058(0x150)];}_0x51ec1b[_0x41e058(0x159)]&&(_0x1e1e56={'coin':_0x51ec1b[_0x41e058(0x1fa)],'symbol':_0x51ec1b[_0x41e058(0x1c6)],'filled':_0x51ec1b[_0x41e058(0x150)]*_0x51ec1b[_0x41e058(0x133)],'side':_0x51ec1b[_0x41e058(0x1cf)]==_0x41e058(0x116)?'buy':_0x41e058(0x116),'price':0x1/_0x51ec1b[_0x41e058(0x133)]},_0x51ec1b={..._0x1e1e56});_0x51ec1b['side']==_0x41e058(0x1f2)?_0x5c55e6=(_0x338bc5['breakeven']*_0x338bc5['number']+_0x51ec1b[_0x41e058(0x133)]*_0x51ec1b[_0x41e058(0x150)])/(_0x338bc5['number']+_0x51ec1b['filled']):_0x5c55e6=(_0x338bc5[_0x41e058(0x11a)]*_0x338bc5[_0x41e058(0x234)]-_0x51ec1b[_0x41e058(0x133)]*_0x51ec1b[_0x41e058(0x150)])/(_0x338bc5['number']-_0x51ec1b[_0x41e058(0x150)]);_0x51ec1b['side']==_0x41e058(0x1f2)?_0x300bda=_0x338bc5['realized']:_0x300bda=_0x338bc5[_0x41e058(0x21b)]+(_0x51ec1b[_0x41e058(0x133)]-_0x338bc5[_0x41e058(0x11a)])*_0x51ec1b[_0x41e058(0x150)];const _0x3cfe5c=currentCoins['find'](_0x57d50f=>_0x57d50f['coin']==_0x51ec1b[_0x41e058(0x1fa)]);_0x29b830=_0x3cfe5c[_0x41e058(0x234)],_0x35ce13=(_0x51ec1b[_0x41e058(0x133)]-_0x5c55e6)*_0x29b830;let _0x17c3da={'coin':_0x51ec1b[_0x41e058(0x1fa)],'number':_0x29b830,'breakeven':formatResult(_0x5c55e6,0x8),'realized':formatResult(_0x300bda,0x8),'unrealized':formatResult(_0x35ce13,0x8),'fees':formatResult(_0x338bc5[_0x41e058(0x1ac)]+_0x4e8301,0x8),'sells':_0x51ec1b[_0x41e058(0x1cf)]=='sell'?_0x338bc5[_0x41e058(0x1ed)]+0x1:_0x338bc5[_0x41e058(0x1ed)],'buys':_0x51ec1b[_0x41e058(0x1cf)]=='buy'?_0x338bc5[_0x41e058(0x11d)]+0x1:_0x338bc5['buys']};dbCoinResults[_0x41e058(0x180)](_0x41e058(0x1e2))[_0x41e058(0x13b)]({'coin':_0x51ec1b[_0x41e058(0x1fa)]})[_0x41e058(0x17c)](_0x17c3da)[_0x41e058(0x1c9)]();if(_0x51ec1b[_0x41e058(0x16c)]&&_0x51ec1b[_0x41e058(0x16c)][_0x41e058(0x16a)]==_0x41e058(0x21e)){const _0x2348ae=currentCoins[_0x41e058(0x13b)](_0x15d173=>_0x15d173[_0x41e058(0x1fa)]==_0x41e058(0x21e));_0x29b830=_0x2348ae[_0x41e058(0x234)];let _0x2a7d02=dbCoinResults[_0x41e058(0x180)]('coins')[_0x41e058(0x13b)]({'coin':'BNB'})[_0x41e058(0x1af)]();_0x17c3da={..._0x2a7d02,'number':_0x29b830},dbCoinResults[_0x41e058(0x180)](_0x41e058(0x1e2))[_0x41e058(0x13b)]({'coin':_0x41e058(0x21e)})['assign'](_0x17c3da)[_0x41e058(0x1c9)]();}}async function placeOrder(_0x1fe908){const _0x35d42c=_0x4482b8,_0x121f75=config[_0x35d42c(0x120)]==_0x35d42c(0x1d7)?'market':_0x35d42c(0x146);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x35d42c(0x1b3)](JSON[_0x35d42c(0x23d)](currentCoins));for(const _0x4302ba of _0x1fe908){let _0x58638f,_0xc46b6c,_0x40c722,_0x33ce61,_0x43c092,_0x19a203=_0x4302ba[_0x35d42c(0x1c6)];try{const _0x79efb7=await exchange[_0x35d42c(0x205)]([_0x19a203]),_0x1c07dd=_0x79efb7[_0x19a203];_0x58638f=_0x4302ba[_0x35d42c(0x159)]?0x1/_0x4302ba[_0x35d42c(0x12c)]:_0x4302ba['last'],_0xc46b6c=_0x1c07dd[_0x35d42c(0x1dd)],_0x40c722=_0x1c07dd[_0x35d42c(0x214)];_0x4302ba[_0x35d42c(0x159)]?(_0x33ce61=_0x4302ba['side']==_0x35d42c(0x1f2)?_0x35d42c(0x116):'buy',_0x43c092=Math[_0x35d42c(0x235)](_0x4302ba[_0x35d42c(0x11b)])/_0x58638f):(_0x33ce61=_0x4302ba[_0x35d42c(0x1cf)],_0x43c092=Math['abs'](_0x4302ba['trade']));_0x121f75==_0x35d42c(0x146)&&(config[_0x35d42c(0x120)]=='limit-high'&&(_0x58638f=_0x33ce61==_0x35d42c(0x1f2)?_0xc46b6c:_0x40c722),config[_0x35d42c(0x120)]==_0x35d42c(0x17d)&&(_0x58638f=_0x33ce61==_0x35d42c(0x1f2)?_0x40c722:_0xc46b6c));_0x43c092=formatResult(_0x43c092,0x8),_0x58638f=formatResult(_0x58638f,0x8);const _0x377b35=await exchange[_0x35d42c(0x230)](_0x19a203,_0x121f75,_0x33ce61,_0x43c092,_0x58638f);lastOrders[_0x35d42c(0x20a)]({'orderId':_0x377b35['id'],'symbol':_0x19a203,'coin':_0x4302ba[_0x35d42c(0x1fa)],'side':_0x33ce61,'reverse':_0x4302ba[_0x35d42c(0x159)],'amount':_0x4302ba['reverse']?_0x377b35['amount']*_0x377b35['price']:_0x377b35[_0x35d42c(0x217)],'filled':0x0,'price':_0x377b35['price'],'fee':_0x377b35[_0x35d42c(0x16c)]});const _0x1cafe0=_0x33ce61==_0x35d42c(0x116)?config['emojisell']?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x35d42c(0x1c1)]?String[_0x35d42c(0x1ff)]('0x'+config['emojibuy'])+'\x20':'',_0x94e765=_0x121f75==_0x35d42c(0x1d7)?'Market':config[_0x35d42c(0x120)]=='limit-high'?'Limit\x20(high-margin)':_0x35d42c(0x1f5);if(_0x121f75==_0x35d42c(0x1d7))logHistory('order',''+_0x1cafe0+_0x94e765+'\x20order:\x20'+_0x19a203+'\x20'+_0x33ce61+'\x20#'+formatResult(_0x377b35[_0x35d42c(0x150)],0x8)+'\x20@'+formatResult(_0x377b35[_0x35d42c(0x133)],0x8));else logHistory(_0x35d42c(0x249),''+_0x1cafe0+_0x94e765+_0x35d42c(0x18c)+_0x19a203+'\x20'+_0x33ce61+'\x20#'+formatResult(_0x377b35[_0x35d42c(0x217)],0x8)+'\x20@'+formatResult(_0x377b35[_0x35d42c(0x133)],0x8));let _0xb7dd4c=currentCoins[_0x35d42c(0x13b)](_0x459ce9=>_0x459ce9['coin']==_0x4302ba[_0x35d42c(0x1fa)]);_0xb7dd4c[_0x35d42c(0x249)]=!![];if(config[_0x35d42c(0x20e)]!=0x0){let _0x40141d=null;if(cooldownTracker[_0x35d42c(0x134)]==config['cooldown']-0x1)_0x40141d=cooldownTracker[_0x35d42c(0x206)]();const _0x40b4b0=getTimeStamp();cooldownTracker[_0x35d42c(0x20a)](_0x40b4b0);if(_0x40141d){const _0x56da90=fns[_0x35d42c(0x129)](new Date(_0x40b4b0),new Date(_0x40141d));if(_0x56da90<cooldownInterval){logHistory('error',_0x35d42c(0x1e1)+config[_0x35d42c(0x20e)]+_0x35d42c(0x192)+cooldownInterval/0x3c+_0x35d42c(0x1da)+cooldownPeriod/(0xe10*0x3e8)+_0x35d42c(0x1ba)),coolingDown=!![];break;}}}}catch(_0x2556b3){if(_0x2556b3[_0x35d42c(0x213)]()[_0x35d42c(0x1b8)](_0x35d42c(0x17a)))logHistory(_0x35d42c(0x1e5),_0x35d42c(0x22b)+_0x19a203);else{if(_0x2556b3['toString']()['includes']('Invalid\x20quantity'))logHistory(_0x35d42c(0x1e5),_0x35d42c(0x190)+_0x19a203);else await handleError(_0x2556b3,_0x35d42c(0x136),_0x19a203);}}}if(lastOrders[_0x35d42c(0x134)]!=0x0){lockOrders=!![],validateOrdersState=_0x35d42c(0x118);const _0x130442=config[_0x35d42c(0x120)]==_0x35d42c(0x1d7)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1546a2=_0x35d42c;validateOrders(_0x1546a2(0x201));},_0x130442);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x35d42c(0x160),_0x35d42c(0x128)));}else{if(coolingDown)!config[_0x35d42c(0x165)]&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders&&(!config[_0x35d42c(0x165)]&&(config[_0x35d42c(0x120)]==_0x35d42c(0x1d7)?logHistory(_0x35d42c(0x1e5),_0x35d42c(0x1df)):logHistory(_0x35d42c(0x1e5),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function sendPortfolioTelegram(){const _0x245901=_0x4482b8,_0x38c9e7=[_0x245901(0x1ce),_0x245901(0x24a),_0x245901(0x1e3),_0x245901(0x21a)],_0x16503e=_0x38c9e7[_0x245901(0x1b8)](config['basecoin'])?0x2:0x8;let _0x49d5e3=_0x245901(0x1a1);_0x49d5e3+='--------------------------------------------------\x0a',currentCoins[_0x245901(0x122)](_0x649585=>{const _0x27d0d5=_0x245901;_0x49d5e3+=_0x649585[_0x27d0d5(0x1fa)]+_0x27d0d5(0x220)+formatResultString(_0x649585[_0x27d0d5(0x14b)],0x2)+'\x20|\x20'+formatResultString(_0x649585[_0x27d0d5(0x13e)],0x2)+_0x27d0d5(0x220)+formatResultString(_0x649585[_0x27d0d5(0x17f)]*0x64,0x2)+'\x0a';}),process[_0x245901(0x20f)]({'telegrammsg':_0x49d5e3},_0x12aa29=>{});}function _0x1c2f(){const _0x2c3821=['message','Limit\x20(low-margin)','emojisell','-events.json','recreateHistory()','running','coin','timestamp','argv','DDoSProtection','usd','fromCodePoint','spot','final','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','replace','round','fetchTickers','shift','-performance.json','executionReport','BNB/','push','total','getHours','storeConfiguration','cooldown','send','changes','cancel','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','toString','ask','Order(s)\x20validated\x20-\x20','/backup/','amount','getFullYear','coin-loading-progress','USDC','realized','botID','2.4.4','BNB','eventType','\x20|\x20','Binance\x20API\x20key\x20is\x20invalid','2.3.5','timeshift','-results.json','join','privateKey','starting-balance-','fetchBalance','writeFile','wss://stream.binance.com:9443','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','splice','16247825fgabfV','getMinutes','308656YbmNQs','createOrder','-config.json','BTC','mkdirSync','number','abs','kline','event-history','ccxt','OrderNotFound','split','cancelOrders()','yyyy/MM/dd\x20HH:mm:ss','stringify','secure','balances','Order:\x20','ExchangeNotAvailable','emitHistory','entries','min','getMonth','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','showname','\x20>\x20','order','BUSD','FILLED','sell','Order(s)\x20filled\x20-\x20','initial','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','breakeven','trade','(((.+)+)+)+$','buys','eur','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','ordertype','remainingSymbols','forEach','starttime','userData','21zFNIZy','cancelOrder','74324ZcWKry','Cooldown\x20ended\x20-\x20balancing\x20resumed','differenceInSeconds','Performance\x20recreation\x20completed\x20successfully','startnumber','last','apiKey','starting-balances','************','configuration','bb-secure.json','balancing\x20resumed','price','length','orderId','placeOrder()','eventTime','Binance\x20API\x20blocked','basecoin','threshold','find','getPortfolio','formattedMessage','target','startdate','sha256','parseISO','kill','cumulativeQuoteAssetTransactedQty','keys','set','limit','\x20|\x20Error\x20details:\x20','bot-','portfolio','Bot\x20','distribution','date-fns','65245kjoapP','toLowerCase','lowdb','filled','getSeconds','datetime','843260JwOsky','limits','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Pausing\x20for\x20','type',',\x20must\x20be\x20a\x203\x20digit\x20number','reverse','change','toFixed','HOT/EUR','fetchOpenOrders','storeHeadless','binanceus','success','sort',')\x20|\x20Error\x20details:\x20','getTime','restart','headless','API\x20or\x20clock\x20sync\x20issue','placeOrder','XEM/BUSD','indexOf','currency','differenceInCalendarDays','fee','change24h','RSA-OAEP','getCoins()','API-key\x20format\x20invalid','args','decrypt','Binance\x20not\x20responding','18iZGHOd','configuration-stored','constructor','Unfilled\x20order(s)\x20canceled\x20after\x20','/USDT','loadMarkets','MIN_NOTIONAL','excluded','assign','limit-low','\x20has\x20a\x2024h\x20drop\x20of\x20','delta','get','commissionAsset','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','time','No\x20more\x20open\x20orders\x20-\x20','liquidity','getPortfolio()','reconnected','outboundAccountPosition',':\x20Bot\x20','toggleBotMode','ongoing','\x20order:\x20','yyyy-MM-dd\x27T\x27HH:mm:ss','no\x20open\x20orders','subscribeSpotUserDataStream','Order\x20amount\x20is\x20invalid:\x20','19590OfIjXt','\x20orders\x20in\x20less\x20than\x20','logs','yyyy/MM/dd','padStart','getCloses()','progress','page','99VDEmhN','sortBy','YOYOW/','bot','wss://stream.binance.us:9443','./config/','startprice','cost','Coin\x20|\x20Distr%\x20|\x20Target%\x20|\x20Delta%\x0a','add','Order\x20filled:\x20','ticker','\x20-\x20','timeout','botname','has','close','deleteHistoryAlerts','.json','fees','settings','ETH','value','version','max','accumulatedQuantity','parse','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','map','lowdb/adapters/FileSync','performance','includes','./version.json','\x20hour','orderStatus','milliseconds','eachDayOfInterval','string','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','date','emojibuy','186zzReRx','test','\x20minutes\x20-\x20','binance','symbol','apiSecret','filter','write','AuthenticationError','commission','Order(s)\x20not\x20validated\x20after\x20','offset','EUR','side','search','log','getDate','closeWs','exchange','Crypt','initws()','market','valid','HOT/BTC','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Manual\x20balancing\x20required:\x20','function','bid','subscribeSpotKline','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','remove','Executed\x20','coins','USDT','\x20|\x20Binance\x20API\x20key\x20invalid','error','DAI/','slice','defaults','RequestTimeout','1034559CaKNwu','format','event','sells','loadSymbols()','data','InsufficientFunds','cancelLoading','buy','Binance\x20not\x20available\x20(1)'];_0x1c2f=function(){return _0x2c3821;};return _0x1c2f();}function logHistory(_0xdb2ede,_0x4f96c9,_0x2131b2=''){const _0x321561=_0x4482b8;let _0x20747c={'time':getTimeStamp(),'type':_0xdb2ede,'event':_0x4f96c9};dbLogs['get'](_0x321561(0x193))['push'](_0x20747c)[_0x321561(0x1c9)]();if(_0x2131b2=='')_0x2131b2=_0x4f96c9;proxyEmit('event',{'log':_0x20747c,'summary':_0x2131b2}),process[_0x321561(0x20f)]({'telegram':{..._0x20747c,'botname':config['botname'],'showname':config['showname']}},_0x3bb74a=>{}),logging(''+_0x20747c[_0x321561(0x1ec)]);}function emitHistory(_0x52b3cc={}){const _0x3c0e15=_0x4482b8;Object[_0x3c0e15(0x144)](_0x52b3cc)[_0x3c0e15(0x134)]==0x0&&(_0x52b3cc={'type':[_0x3c0e15(0x249),_0x3c0e15(0x1ec)],'event':'','page':0x1});if(_0x52b3cc[_0x3c0e15(0x157)][_0x3c0e15(0x1b8)](_0x3c0e15(0x1ec)))_0x52b3cc['type']['splice'](_0x52b3cc[_0x3c0e15(0x157)][_0x3c0e15(0x169)](_0x3c0e15(0x1ec)),0x1,_0x3c0e15(0x1e5),_0x3c0e15(0x160));if(dbLogs[_0x3c0e15(0x1a8)](_0x3c0e15(0x193))[_0x3c0e15(0x1af)]()){let _0x2c088f=dbLogs[_0x3c0e15(0x180)](_0x3c0e15(0x193))[_0x3c0e15(0x1c8)](_0x4b52df=>{const _0x17eec4=_0x3c0e15;if(_0x52b3cc[_0x17eec4(0x157)]['length']==0x0)return![];else return _0x52b3cc['type']['includes'](_0x4b52df[_0x17eec4(0x157)]);})[_0x3c0e15(0x1c8)](_0x430524=>{const _0x506e1a=_0x3c0e15;if(_0x52b3cc[_0x506e1a(0x1ec)]=='')return!![];else return _0x430524['event']['toLowerCase']()[_0x506e1a(0x1b8)](_0x52b3cc[_0x506e1a(0x1ec)][_0x506e1a(0x14e)]());})[_0x3c0e15(0x19a)](_0x3c0e15(0x183)),_0x542803=_0x2c088f[_0x3c0e15(0x1af)]()[_0x3c0e15(0x134)];_0x2c088f=_0x2c088f[_0x3c0e15(0x159)]()[_0x3c0e15(0x1e7)]((_0x52b3cc[_0x3c0e15(0x198)]-0x1)*logPageSize,_0x52b3cc['page']*logPageSize-0x1)[_0x3c0e15(0x159)]()[_0x3c0e15(0x1af)](),proxyEmit(_0x3c0e15(0x237),{'logs':_0x2c088f,'total':_0x542803});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0xe9753c){const _0x1a91c4=_0x4482b8;if(dbLogs[_0x1a91c4(0x1a8)]('logs')[_0x1a91c4(0x1af)]()){const _0xfc01eb=dbLogs['get'](_0x1a91c4(0x193))[_0x1a91c4(0x19a)]('time')[_0x1a91c4(0x1c8)](_0x27628c=>{const _0x315dcb=_0x1a91c4;return _0x27628c[_0x315dcb(0x157)]==_0x315dcb(0x249);})['value']();dbLogs[_0x1a91c4(0x180)](_0x1a91c4(0x193))[_0x1a91c4(0x1e0)]()['write'](),dbLogs['get'](_0x1a91c4(0x193))[_0x1a91c4(0x17c)](_0xfc01eb)[_0x1a91c4(0x1c9)](),emitHistory(_0xe9753c);}}async function pauseBot(_0x2b8803=''){const _0x4dbdf3=_0x4482b8,_0x35c11d=new Date()[_0x4dbdf3(0x163)]();if(!lastBotPause)lastBotPause=new Date()[_0x4dbdf3(0x163)](),consecutivePauses=0x1;else{if(_0x35c11d-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x4dbdf3(0x164)},_0x508775=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x2b8803)_0x2b8803+=_0x4dbdf3(0x220);logHistory(_0x4dbdf3(0x1e5),_0x2b8803+_0x4dbdf3(0x156)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x199c7e=_0x4482b8;process[_0x199c7e(0x20f)]({'stop':_0x199c7e(0x142)},_0xa5b286=>{}),await sleep(0x7d0);}async function handleError(_0x3a11e6,_0x1f436c,_0x26e4f0=''){const _0x22a4d1=_0x4482b8;if(_0x3a11e6[_0x22a4d1(0x213)]()[_0x22a4d1(0x1b8)](_0x22a4d1(0x1fd)))await pauseBot(_0x22a4d1(0x138));else{if(_0x3a11e6[_0x22a4d1(0x213)]()[_0x22a4d1(0x1b8)](_0x22a4d1(0x241)))await pauseBot('Binance\x20not\x20available\x20(2)');else{if(_0x3a11e6[_0x22a4d1(0x213)]()[_0x22a4d1(0x1b8)](_0x22a4d1(0x1e9)))await pauseBot(_0x22a4d1(0x173));else{if(_0x3a11e6[_0x22a4d1(0x213)]()['includes'](_0x22a4d1(0x170)))logHistory(_0x22a4d1(0x1e5),_0x1f436c+_0x22a4d1(0x1e4)),logHistory(_0x22a4d1(0x1e5),_0x22a4d1(0x182)),await killBot();else{if(_0x3a11e6[_0x22a4d1(0x213)]()[_0x22a4d1(0x1b8)](_0x22a4d1(0x1ca)))logHistory(_0x22a4d1(0x1e5),_0x1f436c+_0x22a4d1(0x246)),logHistory('error',_0x22a4d1(0x182)),await killBot();else{if(_0x3a11e6[_0x22a4d1(0x213)]()[_0x22a4d1(0x1b8)](_0x22a4d1(0x119)))logHistory(_0x22a4d1(0x1e5),_0x1f436c+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory(_0x22a4d1(0x1e5),_0x22a4d1(0x182)),await killBot();else{if(_0x3a11e6['toString']()[_0x22a4d1(0x1b8)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x22a4d1(0x1e5),_0x1f436c+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x22a4d1(0x182)),await killBot();else{if(_0x3a11e6['toString']()[_0x22a4d1(0x1b8)]('InvalidNonce'))await pauseBot(_0x22a4d1(0x166)),process['send']({'stop':_0x22a4d1(0x164)},_0x18391e=>{});else _0x3a11e6[_0x22a4d1(0x213)]()[_0x22a4d1(0x1b8)](_0x22a4d1(0x1f0))?logHistory(_0x22a4d1(0x1e5),_0x1f436c+_0x22a4d1(0x155)+_0x26e4f0):(logging(_0x1f436c+_0x22a4d1(0x147),_0x3a11e6),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x3804f6,_0x1a444f){const _0x1935dd=_0x4482b8;return _0x3804f6?parseFloat(_0x3804f6[_0x1935dd(0x15b)](_0x1a444f)):null;}function _0x38fc(_0x4d85b4,_0x2f8687){const _0x1da7ca=_0x1c2f();return _0x38fc=function(_0x38396d,_0x286ed2){_0x38396d=_0x38396d-0x115;let _0x1c2fca=_0x1da7ca[_0x38396d];return _0x1c2fca;},_0x38fc(_0x4d85b4,_0x2f8687);}function formatResultString(_0x5a5738,_0x3948be){const _0x58af43=_0x4482b8;if(!_0x5a5738)return null;let _0x3e8f2;if(!(''+_0x5a5738)[_0x58af43(0x1b8)]('e'))_0x3e8f2=+(Math['round'](_0x5a5738+'e+'+_0x3948be)+'e-'+_0x3948be);else{let _0x123d2d=(''+_0x5a5738)[_0x58af43(0x23a)]('e'),_0x5a118c='';+_0x123d2d[0x1]+_0x3948be>0x0&&(_0x5a118c='+'),_0x3e8f2=+(Math['round'](+_0x123d2d[0x0]+'e'+_0x5a118c+(+_0x123d2d[0x1]+_0x3948be))+'e-'+_0x3948be);}return Number(_0x3e8f2)[_0x58af43(0x15b)](_0x3948be);}function logging(_0x27e5f1,_0x22d655=''){const _0x48a785=_0x4482b8;if(config[_0x48a785(0x247)])console[_0x48a785(0x1d1)](getTimeStamp()+':\x20'+config[_0x48a785(0x1a7)]+'\x20>\x20'+_0x27e5f1,_0x22d655);else console[_0x48a785(0x1d1)](getTimeStamp()+_0x48a785(0x189)+botID+_0x48a785(0x248)+_0x27e5f1,_0x22d655);}function getServerTime(){const _0x549eb2=_0x4482b8,_0x48f7e8=new Date();return _0x48f7e8[_0x549eb2(0x218)]()+'/'+(_0x48f7e8[_0x549eb2(0x245)]()+0x1)[_0x549eb2(0x213)]()[_0x549eb2(0x195)](0x2,'0')+'/'+_0x48f7e8[_0x549eb2(0x1d2)]()[_0x549eb2(0x213)]()[_0x549eb2(0x195)](0x2,'0')+'\x20'+_0x48f7e8[_0x549eb2(0x20c)]()[_0x549eb2(0x213)]()[_0x549eb2(0x195)](0x2,'0')+':'+_0x48f7e8[_0x549eb2(0x22e)]()[_0x549eb2(0x213)]()[_0x549eb2(0x195)](0x2,'0')+':'+_0x48f7e8[_0x549eb2(0x151)]()[_0x549eb2(0x213)]()[_0x549eb2(0x195)](0x2,'0');}function getTimeStamp(){const _0xf3c167=_0x4482b8,_0x217467=shiftedTime();return _0x217467[_0xf3c167(0x218)]()+'/'+(_0x217467[_0xf3c167(0x245)]()+0x1)[_0xf3c167(0x213)]()[_0xf3c167(0x195)](0x2,'0')+'/'+_0x217467[_0xf3c167(0x1d2)]()['toString']()[_0xf3c167(0x195)](0x2,'0')+'\x20'+_0x217467['getHours']()[_0xf3c167(0x213)]()[_0xf3c167(0x195)](0x2,'0')+':'+_0x217467[_0xf3c167(0x22e)]()[_0xf3c167(0x213)]()[_0xf3c167(0x195)](0x2,'0')+':'+_0x217467['getSeconds']()['toString']()[_0xf3c167(0x195)](0x2,'0');}function getDate(){const _0x5838e2=_0x4482b8,_0x4f82eb=shiftedTime();return _0x4f82eb[_0x5838e2(0x218)]()+'/'+(_0x4f82eb[_0x5838e2(0x245)]()+0x1)['toString']()[_0x5838e2(0x195)](0x2,'0')+'/'+_0x4f82eb[_0x5838e2(0x1d2)]()[_0x5838e2(0x213)]()['padStart'](0x2,'0');}function getHour(){const _0xe57f6=_0x4482b8,_0xb26ef1=shiftedTime();return _0xb26ef1['getHours']()['toString']()[_0xe57f6(0x195)](0x2,'0');}function sleep(_0x50dbf1){return new Promise(_0x532275=>setTimeout(_0x532275,_0x50dbf1));}function shiftedTime(){const _0x3c10a3=_0x4482b8,_0x57a520=new Date();let _0x47ddbc=_0x57a520;if(config&&config['timeshift']!==0x0)_0x47ddbc=fns[_0x3c10a3(0x1a2)](_0x57a520,{'hours':config[_0x3c10a3(0x223)]});return _0x47ddbc;}