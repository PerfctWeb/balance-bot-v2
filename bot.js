const _0x2c1339=_0xe9ce;(function(_0x249aee,_0x4f8ecf){const _0x46b3fa=_0xe9ce,_0x20bdff=_0x249aee();while(!![]){try{const _0x149954=-parseInt(_0x46b3fa(0x1fc))/0x1+-parseInt(_0x46b3fa(0x2cb))/0x2+-parseInt(_0x46b3fa(0x1be))/0x3*(-parseInt(_0x46b3fa(0x1ef))/0x4)+parseInt(_0x46b3fa(0x214))/0x5+parseInt(_0x46b3fa(0x1fb))/0x6*(-parseInt(_0x46b3fa(0x1a2))/0x7)+-parseInt(_0x46b3fa(0x249))/0x8+parseInt(_0x46b3fa(0x2c9))/0x9*(parseInt(_0x46b3fa(0x195))/0xa);if(_0x149954===_0x4f8ecf)break;else _0x20bdff['push'](_0x20bdff['shift']());}catch(_0x362f85){_0x20bdff['push'](_0x20bdff['shift']());}}}(_0x264a,0x9a663));const _0x3a0173=function(){let _0x2fb82f=!![];return function(_0x317dd3,_0x12b6fe){const _0x11184a=_0x2fb82f?function(){if(_0x12b6fe){const _0x266b8f=_0x12b6fe['apply'](_0x317dd3,arguments);return _0x12b6fe=null,_0x266b8f;}}:function(){};return _0x2fb82f=![],_0x11184a;};}(),_0x2f54e5=_0x3a0173(this,function(){const _0x5ebaa5=_0xe9ce;return _0x2f54e5[_0x5ebaa5(0x266)]()[_0x5ebaa5(0x202)](_0x5ebaa5(0x1d3))[_0x5ebaa5(0x266)]()[_0x5ebaa5(0x21d)](_0x2f54e5)[_0x5ebaa5(0x202)](_0x5ebaa5(0x1d3));});_0x2f54e5();'use strict';const ccxt=require(_0x2c1339(0x215))['pro'],low=require(_0x2c1339(0x23f)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x2c1339(0x1eb)),Crypt=require(_0x2c1339(0x2d7))[_0x2c1339(0x205)],util=require(_0x2c1339(0x221));let exchange;global[_0x2c1339(0x278)]={},global[_0x2c1339(0x28a)]={};const exceptions={'binance':[_0x2c1339(0x246),_0x2c1339(0x2b0),_0x2c1339(0x19a),_0x2c1339(0x293),'YOYOW/']};let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2c1339(0x1f2)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x2c1339(0x18d)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require(_0x2c1339(0x2e1))[_0x2c1339(0x2ea)],botID=process[_0x2c1339(0x1cd)][0x2]||_0x2c1339(0x253),pattern=/^[0-9]{3}$/;!pattern[_0x2c1339(0x1b8)](botID)&&(console['log'](_0x2c1339(0x216)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x2c1339(0x1cd)][0x3]||'',configpath=userID?_0x2c1339(0x1d2)+userID+'/':_0x2c1339(0x1d2),logspath=userID?_0x2c1339(0x270)+userID+'/':_0x2c1339(0x270),loggerfile=fs['createWriteStream'](logspath+_0x2c1339(0x2b6),{'flags':'a'});!fs[_0x2c1339(0x1df)](configpath)&&fs[_0x2c1339(0x18e)](configpath);!fs[_0x2c1339(0x1df)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x2c1339(0x1a7)+botID+_0x2c1339(0x27a),logfile=configpath+_0x2c1339(0x1a7)+botID+_0x2c1339(0x2ab),performancefile=configpath+_0x2c1339(0x1a7)+botID+'-performance.json',coinresultsfile=configpath+_0x2c1339(0x1a7)+botID+'-results.json',settingsfile=configpath+_0x2c1339(0x2d2),securefile=configpath+_0x2c1339(0x1d9),configbackuppath=configpath+_0x2c1339(0x241),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2c1339(0x227)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2c1339(0x227)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2c1339(0x227)]({'coins':[],'version':serverversion})[_0x2c1339(0x192)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x2c1339(0x1e6),'rsaStandard':_0x2c1339(0x1f5)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x34d571=>{console['log'](_0x34d571);},'simple':_0x2b115b=>{const _0xe4d8cf=_0x2c1339;console['log'](_0x2b115b),loggerfile[_0xe4d8cf(0x192)](util[_0xe4d8cf(0x197)](_0x2b115b)+'\x0a');},'full':async(_0x337601,_0x34c4d6='')=>{const _0x16ede6=_0x2c1339;let _0x539cad;if(config[_0x16ede6(0x224)])_0x539cad=getTimeStamp()+':\x20'+config[_0x16ede6(0x23e)]+_0x16ede6(0x1d7)+_0x337601;else _0x539cad=getTimeStamp()+_0x16ede6(0x2bb)+botID+_0x16ede6(0x1d7)+_0x337601;console['log'](_0x539cad),loggerfile[_0x16ede6(0x192)](util['format'](_0x539cad)+'\x0a'),_0x34c4d6&&(console[_0x16ede6(0x1d5)](_0x34c4d6),loggerfile[_0x16ede6(0x192)](util[_0x16ede6(0x197)](_0x34c4d6)+'\x0a'));},'debug':async(_0x594a84,_0x56c83f='')=>{const _0x1f0b96=_0x2c1339;let _0x2ce64a;if(config[_0x1f0b96(0x224)])_0x2ce64a=getTimeStamp()+':\x20'+config[_0x1f0b96(0x23e)]+_0x1f0b96(0x22e)+_0x594a84;else _0x2ce64a=getTimeStamp()+_0x1f0b96(0x2bb)+botID+_0x1f0b96(0x22e)+_0x594a84;if(debugLoggingScreen)console[_0x1f0b96(0x1d5)](_0x2ce64a);loggerfile[_0x1f0b96(0x192)](util['format'](_0x2ce64a)+'\x0a');if(_0x56c83f){if(debugLoggingScreen)console[_0x1f0b96(0x1d5)](_0x56c83f);loggerfile['write'](util[_0x1f0b96(0x197)](_0x56c83f)+'\x0a');}}};process['on']('uncaughtException',function(_0x53c2fa){const _0x2c596f=_0x2c1339;logger[_0x2c596f(0x2e9)](_0x53c2fa);});settings[_0x2c1339(0x29e)]!=config[_0x2c1339(0x29e)]&&updateTimeshift(settings[_0x2c1339(0x29e)]);process[_0x2c1339(0x2e7)]({'started':_0x2c1339(0x240)},_0x4cb33a=>{}),initializeProcessListeners();function proxyEmit(_0x35449f,_0xeb9ac3=null){const _0x512490=_0x2c1339;process[_0x512490(0x2e7)]({'function':_0x35449f,'args':_0xeb9ac3},_0x5f01b9=>{});}function initializeProcessListeners(){const _0x7bcd6=_0x2c1339;process['on'](_0x7bcd6(0x1db),_0x25ba7a=>{const _0x7e7408=_0x7bcd6;switch(Object['keys'](_0x25ba7a)[0x0]){case _0x7e7408(0x29e):_0x25ba7a[_0x7e7408(0x29e)]!=undefined&&(settings[_0x7e7408(0x29e)]=_0x25ba7a['timeshift'],updateTimeshift(settings[_0x7e7408(0x29e)]));break;case _0x7e7408(0x22a):switch(_0x25ba7a[_0x7e7408(0x22a)]){case'initclient':initclient();break;case _0x7e7408(0x1b3):toggleBotMode();break;case _0x7e7408(0x1f3):emitHistory(_0x25ba7a[_0x7e7408(0x277)]);break;case _0x7e7408(0x190):deleteHistoryAlerts(_0x25ba7a[_0x7e7408(0x277)]);break;case _0x7e7408(0x21a):getPortfolio(_0x25ba7a[_0x7e7408(0x277)]);break;case _0x7e7408(0x26c):storeConfiguration(_0x25ba7a[_0x7e7408(0x277)]);break;case _0x7e7408(0x2b8):storeHeadless(_0x25ba7a[_0x7e7408(0x277)]);break;case _0x7e7408(0x255):getStartingBalances(getNormalizedPerformance());break;case _0x7e7408(0x28e):placeOrder(_0x25ba7a[_0x7e7408(0x277)]);break;case'cancelLoading':cancelLoading();break;case _0x7e7408(0x235):showConfig();break;case _0x7e7408(0x1bc):sendPortfolioTelegram();break;}}});}reset();async function reset(_0x57c5b8=null,_0x48833c=![]){const _0x59d1a6=_0x2c1339;logger[_0x59d1a6(0x193)](_0x59d1a6(0x1f6)+(_0x57c5b8!=null)+'\x20|\x20'+_0x48833c);if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x48833c)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config[_0x59d1a6(0x2c3)]!=''&&config[_0x59d1a6(0x2c3)]!=_0x59d1a6(0x2e2)){await initExchange();let _0x1ddfb4=![];_0x1ddfb4=await loadSymbols();if(_0x1ddfb4){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x57c5b8),exchangeStopped=![];if(lastOrders[_0x59d1a6(0x2e4)]==0x0&&allOpenOrders[_0x59d1a6(0x2e4)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x1cbce6=_0x2c1339;logger['debug']('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x1cbce6(0x191)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x2188c2=config['exchange'],_0x144823=config[_0x2c1339(0x2c3)],_0x3ca5a6=config['apiSecret']){const _0xb49d9c=_0x2c1339;exchange&&await stopExchange();!supportedExchanges()[_0xb49d9c(0x28c)](_0x2188c2)&&(logger[_0xb49d9c(0x28f)]('Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x2188c2+_0xb49d9c(0x220)),killBot());const _0x50a17f=ccxt[_0x2188c2[_0xb49d9c(0x1a5)]()];exchange=new _0x50a17f({'apiKey':_0x144823,'secret':_0x3ca5a6,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x4e220d=_0x2c1339;let _0x5b5109=config[_0x4e220d(0x1cc)]=='ETH'?'ETH':_0x4e220d(0x2a8),_0x1da067=!allSymbols['includes'](_0x5b5109+'/USD')?_0x4e220d(0x2e5):_0x4e220d(0x268),_0x4fc813=!allSymbols[_0x4e220d(0x28c)](_0x5b5109+_0x4e220d(0x231))?_0x1da067:'EUR';stablecoins={'eur':{'coin':''+_0x5b5109+_0x4fc813,'symbol':_0x5b5109+'/'+_0x4fc813},'usd':{'coin':''+_0x5b5109+_0x1da067,'symbol':_0x5b5109+'/'+_0x1da067}};}async function initwsCcxt(_0x5b23a1){const _0xada2e=_0x2c1339;_0x5b23a1==null&&(_0x5b23a1=[],currentCoins[_0xada2e(0x1c1)](_0x46afbe=>{const _0x5a0c32=_0xada2e;if(_0x46afbe[_0x5a0c32(0x263)]!=config[_0x5a0c32(0x1cc)])_0x5b23a1[_0x5a0c32(0x288)](_0x46afbe[_0x5a0c32(0x1bf)]);}));if(!_0x5b23a1[_0xada2e(0x28c)](stablecoins[_0xada2e(0x24e)]['symbol']))_0x5b23a1[_0xada2e(0x288)](stablecoins[_0xada2e(0x24e)][_0xada2e(0x1bf)]);if(!_0x5b23a1[_0xada2e(0x28c)](stablecoins['usd']['symbol']))_0x5b23a1[_0xada2e(0x288)](stablecoins['usd'][_0xada2e(0x1bf)]);if(!_0x5b23a1[_0xada2e(0x28c)](_0xada2e(0x1fe)+config['basecoin']))_0x5b23a1[_0xada2e(0x288)]('BNB/'+config[_0xada2e(0x1cc)]);loadCoins(_0x5b23a1);const _0x1a0d16=async _0x2bc1e0=>{const _0x34b158=_0xada2e,_0x408e63=await exchange[_0x34b158(0x2a1)](_0x2bc1e0);global[_0x34b158(0x278)][noslash(_0x408e63[_0x34b158(0x1bf)])]=_0x408e63['last'];while(!![]){if(!botPaused)try{const _0x1dac73=await exchange[_0x34b158(0x247)](_0x2bc1e0);global[_0x34b158(0x278)][noslash(_0x1dac73[0x0][_0x34b158(0x1bf)])]=_0x1dac73[0x0][_0x34b158(0x252)],await sleep(0x3e8);}catch(_0x27cb07){if(!exchangeStopped)await handleError(_0x27cb07,_0x34b158(0x247),_0x2bc1e0);}else await sleep(0x3e8);}},_0x1efe8f=async _0x4ddbe0=>{const _0x2d69d6=_0xada2e;while(!![]){if(!botPaused)try{const _0x4ffe84=await exchange[_0x2d69d6(0x2a1)](_0x4ddbe0);global[_0x2d69d6(0x28a)][_0x4ffe84[_0x2d69d6(0x1bf)]]=_0x4ffe84['percentage'],await sleep(0x2710);}catch(_0x3b4ed9){if(!exchangeStopped)await handleError(_0x3b4ed9,_0x2d69d6(0x2e0),_0x4ddbe0);}else await sleep(0x3e8);}},_0x41660a=async()=>{const _0x2f096c=_0xada2e;while(!![]){if(!botPaused)try{const _0xe0c6f7=await exchange[_0x2f096c(0x1a0)]();_0xe0c6f7['forEach'](_0x292658=>{updateNumberCoinsCcxt(_0x292658);});}catch(_0xf07da4){if(!exchangeStopped)await handleError(_0xf07da4,_0x2f096c(0x1a0));}else await sleep(0x3e8);}};_0x5b23a1['forEach'](async _0xc7fcd2=>{_0x1a0d16(_0xc7fcd2),_0x1efe8f(_0xc7fcd2);}),!wsEventsSet&&(wsEventsSet=!![],_0x41660a());}async function loadSymbols(){const _0x3fa767=_0x2c1339;if(allSymbols)return!![];let _0x4bddc4=![];try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x3fa767(0x2d9)]['filter'](_0x53fe0e=>{const _0x5cddca=_0x3fa767;let _0x569bb9=![];return exceptions[config['exchange'][_0x5cddca(0x1a5)]()][_0x5cddca(0x1c1)](_0x2fa904=>{if(_0x53fe0e['includes'](_0x2fa904))_0x569bb9=!![];}),!_0x569bb9;}),_0x4bddc4=!![];}catch(_0x2dd10d){_0x4bddc4=![],handleError(_0x2dd10d,_0x3fa767(0x23a));}return _0x4bddc4;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x1a4436=_0x2c1339;proxyEmit(_0x1a4436(0x243),emittedConfiguration()),proxyEmit(_0x1a4436(0x2d1),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1a4436(0x2bd),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5c5e81=getNormalizedPerformance();emitPerformance(_0x5c5e81),await getStartingBalances(_0x5c5e81);}async function toggleBotMode(){const _0x5bec24=_0x2c1339;let _0x3b454d=dbConfig[_0x5bec24(0x23b)]('bot')[_0x5bec24(0x280)]({'botID':botID})[_0x5bec24(0x20e)]();if(_0x3b454d){const _0x2cfbab=!_0x3b454d[_0x5bec24(0x2b3)];dbConfig[_0x5bec24(0x23b)]('bot')[_0x5bec24(0x280)]({'botID':botID})[_0x5bec24(0x1ec)]({'headless':_0x2cfbab})[_0x5bec24(0x192)](),config[_0x5bec24(0x2b3)]=_0x2cfbab,proxyEmit(_0x5bec24(0x243),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x37f916=>{});}async function loadCoins(_0xec12e3){const _0x55ceb2=_0x2c1339;let _0xb0fa2c,_0x40f938=0x0;loading[_0x55ceb2(0x233)]=[];let _0x219bb5=0x0;_0xec12e3[_0x55ceb2(0x1c1)](_0x59a59d=>{const _0x3ade18=_0x55ceb2;loading[_0x3ade18(0x233)][_0x3ade18(0x288)](_0x59a59d);}),loadingCanceled=![];let _0x1ec2a0=![];while(_0xb0fa2c!=_0xec12e3[_0x55ceb2(0x2e4)]){_0xb0fa2c=0x0,_0xec12e3[_0x55ceb2(0x1c1)](_0x2b5074=>{const _0x459f44=_0x55ceb2;global[_0x459f44(0x278)][noslash(_0x2b5074)]&&(loading[_0x459f44(0x233)]=loading[_0x459f44(0x233)][_0x459f44(0x22d)](_0x5c3d34=>_0x5c3d34!=_0x2b5074),_0xb0fa2c++);}),loading[_0x55ceb2(0x1a8)]=Math['round'](_0xb0fa2c/_0xec12e3['length']*0x64);loading[_0x55ceb2(0x1a8)]!=0x64&&(_0x219bb5>0x1e*0x5&&(loading[_0x55ceb2(0x250)]=!![],emitLoadingProgress()),_0x219bb5>0x78*0x5&&!_0x1ec2a0&&(loading['cancel']=!![],emitLoadingProgress(),_0x1ec2a0=!![],logHistory(_0x55ceb2(0x234),_0x55ceb2(0x229)+loading[_0x55ceb2(0x233)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x55ceb2(0x234),_0x55ceb2(0x1aa)+loadCoinsRetryInterval/0xea60+_0x55ceb2(0x28d)),pidCoinReloading=setTimeout(()=>{const _0x151bf2=_0x55ceb2;process[_0x151bf2(0x2e7)]({'stop':_0x151bf2(0x2b4)},_0xb97fe7=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x55ceb2(0x232)]=!![],emitLoadingProgress();break;}else _0xb0fa2c!=_0x40f938&&(_0x40f938=_0xb0fa2c,emitLoadingProgress()),_0x219bb5++,await sleep(0xc8);}_0xb0fa2c==_0xec12e3['length']&&(coinsLoaded=!![],_0x1ec2a0&&logHistory(_0x55ceb2(0x210),_0x55ceb2(0x201)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x42690a=_0x2c1339;proxyEmit(_0x42690a(0x243),{...emittedConfiguration(),'configstate':_0x42690a(0x1a1)});}function emitLoadingProgress(){const _0x1440e9=_0x2c1339;proxyEmit(_0x1440e9(0x194),loading);}async function getFiat(){const _0x250159=_0x2c1339;let _0x5d8070=global[_0x250159(0x278)][stablecoins[_0x250159(0x24e)][_0x250159(0x263)]],_0x36e3ae=global['ticker'][stablecoins[_0x250159(0x242)][_0x250159(0x263)]];return{'eur':Number(_0x5d8070),'usd':Number(_0x36e3ae)};}function capitalize(_0x2fd9a3){const _0x32f648=_0x2c1339;return _0x2fd9a3[_0x32f648(0x1ee)](0x0,0x1)[_0x32f648(0x259)]()+_0x2fd9a3[_0x32f648(0x1ee)](0x1);}function supportedExchanges(){const _0x5af53d=_0x2c1339,_0x59bd00=['ws','fetchTickers','fetchTicker',_0x5af53d(0x247),'watchOrders',_0x5af53d(0x273),_0x5af53d(0x24a),_0x5af53d(0x272),'fetchClosedOrders',_0x5af53d(0x2db)];let _0x13f9ea=[];const _0x45498a=ccxt[_0x5af53d(0x2d1)][_0x5af53d(0x295)](_0x57aac2=>new ccxt[_0x57aac2]())[_0x5af53d(0x22d)](_0x1fdb6d=>_0x1fdb6d[_0x5af53d(0x2b2)]['ws']);return _0x45498a[_0x5af53d(0x1c1)](_0x329cbe=>{const _0x3147f5=_0x5af53d;let _0x57e92f=0x0;_0x59bd00[_0x3147f5(0x1c1)](_0x499453=>{const _0x2bfff0=_0x3147f5;_0x499453 in _0x329cbe[_0x2bfff0(0x2b2)]&&_0x329cbe[_0x2bfff0(0x2b2)][_0x499453]&&_0x57e92f++;}),_0x57e92f==_0x59bd00['length']&&_0x13f9ea[_0x3147f5(0x288)](capitalize(_0x329cbe['id']));}),_0x13f9ea;}function setStartDatePerformance(){const _0x522860=_0x2c1339;if(config&&config['liquidity'][0x0][_0x522860(0x248)][_0x522860(0x2e4)]!=0x0){const _0x52a608=config[_0x522860(0x2da)][0x0][_0x522860(0x248)];dbPerformance['get'](_0x522860(0x1dc))[_0x522860(0x280)]({'date':config['startdate']})[_0x522860(0x1ec)]({'coins':_0x52a608})[_0x522860(0x192)]();}}async function recreateCoinResults(){const _0x39d224=_0x2c1339;let _0x185fd7,_0x3d59c6=[];try{const _0x44541b=fns[_0x39d224(0x197)](fns[_0x39d224(0x2ae)](config['startdate']['replace'](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x112812 of currentCoins){if(_0x112812[_0x39d224(0x263)]!=config['basecoin']){let _0x53d2a4=0x0,_0x4fd41f,_0x5c2671;_0x185fd7=await getAllEventOrders(_0x112812['symbol']);if(_0x185fd7[_0x39d224(0x2e4)]>0x0)_0x185fd7['forEach'](_0x10645c=>{const _0xeb6be=_0x39d224,_0x89de00=_0x112812[_0xeb6be(0x1bf)][_0xeb6be(0x28c)](config[_0xeb6be(0x1cc)]+'/');_0x3d59c6['push']({'datetime':_0x10645c[_0xeb6be(0x2dc)],'coin':_0x112812['coin'],'symbol':_0x112812[_0xeb6be(0x1bf)],'side':_0x10645c[_0xeb6be(0x203)],'reverse':_0x89de00,'amount':formatResult(_0x10645c[_0xeb6be(0x1fd)],0x8),'filled':formatResult(_0x10645c['filled'],0x8),'price':formatResult(_0x10645c[_0xeb6be(0x252)],0x8)}),_0x53d2a4=_0x10645c['side']==_0xeb6be(0x1ea)?_0x53d2a4+_0x10645c[_0xeb6be(0x1fd)]:_0x53d2a4-_0x10645c['filled'];if(!_0x5c2671)_0x5c2671=_0x10645c['price'];});_0x4fd41f=_0x112812['number']-_0x53d2a4;let _0x1116ce;config[_0x39d224(0x2da)]['forEach'](_0x8469a0=>{const _0x2cf013=_0x39d224;!_0x1116ce&&(_0x1116ce=_0x8469a0[_0x2cf013(0x248)]['find'](_0x46c356=>_0x46c356['coin']==_0x112812[_0x2cf013(0x263)]),_0x1116ce&&(_0x4fd41f=_0x1116ce[_0x2cf013(0x2ca)],_0x5c2671=_0x1116ce[_0x2cf013(0x252)]));});let _0x453376=dbCoinResults[_0x39d224(0x23b)](_0x39d224(0x21f))[_0x39d224(0x280)]({'coin':_0x112812[_0x39d224(0x263)]})[_0x39d224(0x20e)]();_0x453376={'coin':_0x112812[_0x39d224(0x263)],'number':_0x4fd41f,'breakeven':_0x5c2671,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x39d224(0x23b)](_0x39d224(0x21f))[_0x39d224(0x280)]({'coin':_0x112812['coin']})['assign'](_0x453376)[_0x39d224(0x192)]();}}_0x3d59c6[_0x39d224(0x1fa)]((_0x2bf8ff,_0x33bebd)=>_0x2bf8ff[_0x39d224(0x2dc)]>_0x33bebd[_0x39d224(0x2dc)]?0x1:_0x33bebd[_0x39d224(0x2dc)]>_0x2bf8ff[_0x39d224(0x2dc)]?-0x1:0x0);let _0x3dc1f3=0x0;for(let _0x3cf616 of _0x3d59c6){await updateCoinResults(_0x3cf616,!![]);}}catch(_0x454e18){await handleError(_0x454e18,_0x39d224(0x1da));}}async function getAllEventOrders(_0x1503e6){const _0x44a86d=_0x2c1339;let _0x3ba090=[],_0x10c172=dbLogs['get'](_0x44a86d(0x26b))[_0x44a86d(0x22d)](_0x42e6ca=>{const _0x35e6d1=_0x44a86d,_0xa5fe8=_0x42e6ca[_0x35e6d1(0x29a)]['toLowerCase']();return _0xa5fe8[_0x35e6d1(0x28c)](_0x1503e6[_0x35e6d1(0x1a5)]())&&(_0xa5fe8[_0x35e6d1(0x28c)]('market')&&_0xa5fe8['includes'](_0x35e6d1(0x2d3))||_0xa5fe8[_0x35e6d1(0x28c)]('filled')&&_0xa5fe8[_0x35e6d1(0x28c)](_0x35e6d1(0x2d3)));})[_0x44a86d(0x198)](_0x44a86d(0x22b))[_0x44a86d(0x20e)]();return _0x10c172['forEach'](_0x4cf9d6=>{const _0x9cc08c=_0x44a86d,_0x303cd7=_0x4cf9d6[_0x9cc08c(0x29a)][_0x9cc08c(0x28c)](_0x9cc08c(0x223))?_0x9cc08c(0x223):_0x9cc08c(0x1ea),_0x4acd90=/#([0-9]|\.)+\s/i,_0x48f5fb=Number(_0x4acd90[_0x9cc08c(0x1f7)](_0x4cf9d6[_0x9cc08c(0x29a)])[0x0][_0x9cc08c(0x1b9)](0x1)),_0x143890=/@([0-9]|\.)+$/i,_0x44edbf=Number(_0x143890['exec'](_0x4cf9d6['event'])[0x0]['slice'](0x1));_0x3ba090[_0x9cc08c(0x288)]({'datetime':_0x4cf9d6[_0x9cc08c(0x22b)],'coin':symbolToCoin(_0x1503e6),'symbol':_0x1503e6,'side':_0x303cd7,'amount':_0x48f5fb,'filled':_0x48f5fb,'price':_0x44edbf});}),_0x3ba090;}async function getAllOrders(_0x58dcdb,_0x33613f){const _0x426ac7=_0x2c1339;let _0x25fc01=[];while(_0x33613f<exchange[_0x426ac7(0x298)]()){const _0x56ba9c=0x1f4,_0x12e59d=await exchange[_0x426ac7(0x2df)](_0x58dcdb,_0x33613f,_0x56ba9c);if(_0x12e59d[_0x426ac7(0x2e4)])_0x33613f=_0x12e59d[_0x12e59d[_0x426ac7(0x2e4)]-0x1][_0x426ac7(0x1b4)]+0x1,_0x25fc01=_0x25fc01[_0x426ac7(0x275)](_0x12e59d);else break;}return _0x25fc01;}async function validate24hChanges(){const _0x3f1a98=_0x2c1339;for(const _0x16ef80 of currentCoins){if(_0x16ef80[_0x3f1a98(0x263)]!=config[_0x3f1a98(0x1cc)]){let _0x5e91a1;_0x16ef80[_0x3f1a98(0x2bc)]?_0x5e91a1=formatResult((0x1/(global[_0x3f1a98(0x28a)][noslash(_0x16ef80[_0x3f1a98(0x1bf)])]/0x64+0x1)-0x1)*0x64,0x3):_0x5e91a1=global[_0x3f1a98(0x28a)][noslash(_0x16ef80[_0x3f1a98(0x1bf)])],_0x5e91a1<config[_0x3f1a98(0x1f1)]&&(logHistory('error',_0x16ef80[_0x3f1a98(0x263)]+_0x3f1a98(0x2af)+_0x5e91a1+'%'),logHistory(_0x3f1a98(0x234),_0x3f1a98(0x213)),logHistory(_0x3f1a98(0x234),_0x3f1a98(0x1f4)),await storeHeadless({'headless':![]}));}}}function isNewerVersion(_0x133e8f,_0x4edd85){const _0x1fc7d6=_0x2c1339,_0x31b49b=_0x4edd85[_0x1fc7d6(0x1c2)]('.'),_0x51ba78=_0x133e8f[_0x1fc7d6(0x1c2)]('.');for(var _0x213635=0x0;_0x213635<_0x51ba78[_0x1fc7d6(0x2e4)];_0x213635++){const _0x9c6a7e=~~_0x51ba78[_0x213635],_0x44164d=~~_0x31b49b[_0x213635];if(_0x9c6a7e>_0x44164d)return!![];if(_0x9c6a7e<_0x44164d)return![];}return![];}function _0xe9ce(_0x5007bc,_0x208950){const _0x1b50e0=_0x264a();return _0xe9ce=function(_0x2f54e5,_0x3a0173){_0x2f54e5=_0x2f54e5-0x18c;let _0x264a9c=_0x1b50e0[_0x2f54e5];return _0x264a9c;},_0xe9ce(_0x5007bc,_0x208950);}async function oneTimeMigration(){const _0x1c2712=_0x2c1339;let _0x1c4a5a=dbLogs[_0x1c2712(0x23b)](_0x1c2712(0x2ea))[_0x1c2712(0x20e)]();if(!isNewerVersion(_0x1c4a5a,_0x1c2712(0x257))){dbLogs[_0x1c2712(0x256)](_0x1c2712(0x2ea),_0x1c2712(0x257))['write']();let _0x5249c1=[];const _0x146cfd=dbLogs[_0x1c2712(0x23b)]('logs')['value']();_0x146cfd[_0x1c2712(0x1c1)](_0x31dcdf=>{const _0x417b83=_0x1c2712;_0x5249c1[_0x417b83(0x288)]({'time':_0x31dcdf[_0x417b83(0x22b)],'type':_0x31dcdf['type'],'event':_0x31dcdf['event']});}),dbLogs[_0x1c2712(0x23b)](_0x1c2712(0x26b))[_0x1c2712(0x1ec)](_0x5249c1)[_0x1c2712(0x192)]();}let _0x170240=dbConfig[_0x1c2712(0x23b)](_0x1c2712(0x2ea))[_0x1c2712(0x20e)]();if(!isNewerVersion(_0x170240,_0x1c2712(0x257))){dbConfig[_0x1c2712(0x256)](_0x1c2712(0x2ea),'2.3.5')[_0x1c2712(0x192)]();let _0x20b0c5=dbConfig[_0x1c2712(0x23b)]('bot')['find']({'botID':botID})[_0x1c2712(0x20e)]();if(_0x20b0c5){let _0x29fb7d=[];_0x20b0c5[_0x1c2712(0x244)]['forEach'](_0x17320d=>{const _0xc53dab=_0x1c2712;_0x29fb7d[_0xc53dab(0x288)]({'coin':_0x17320d[_0xc53dab(0x263)],'number':_0x17320d[_0xc53dab(0x25b)],'price':_0x17320d[_0xc53dab(0x279)]}),delete _0x17320d[_0xc53dab(0x25b)],delete _0x17320d[_0xc53dab(0x279)];});if(_0x29fb7d[_0x1c2712(0x2e4)]!==0x0)fs[_0x1c2712(0x281)](configbackuppath+(_0x1c2712(0x1c9)+botID+_0x1c2712(0x1ac)),JSON[_0x1c2712(0x22f)](_0x29fb7d,null,0x4),function(_0x3ff49b){if(_0x3ff49b){}});const _0x439a51=(_0x2c1197,_0x3cef5c)=>{const _0x204e7d=_0x1c2712;let _0x48b5c4=[];_0x3cef5c[_0x204e7d(0x1c1)](_0x35654f=>{const _0x5ccfbb=_0x204e7d,_0x45537e=_0x2c1197[_0x5ccfbb(0x280)](_0x2312b3=>_0x2312b3[_0x5ccfbb(0x263)]==_0x35654f[_0x5ccfbb(0x263)]);if(!_0x45537e)_0x48b5c4[_0x5ccfbb(0x288)](_0x35654f);});let _0x247c5d=[];return _0x2c1197[_0x204e7d(0x1c1)](_0x304e85=>{const _0x3dd44b=_0x204e7d,_0x51ff59=_0x3cef5c[_0x3dd44b(0x280)](_0x4e3390=>_0x4e3390[_0x3dd44b(0x263)]==_0x304e85[_0x3dd44b(0x263)]);if(!_0x51ff59||_0x51ff59[_0x3dd44b(0x2ca)]==0x0&&_0x304e85[_0x3dd44b(0x2ca)]!=0x0)_0x247c5d['push'](_0x304e85);}),{'missingDay1':_0x48b5c4,'notInDay2':_0x247c5d};},_0xc27b36=dbPerformance['get']('data')[_0x1c2712(0x228)]()['value']();if(_0xc27b36[_0x1c2712(0x2e4)]>0x1){const {missingDay1:_0x2dbb12,notInDay2:_0x49b1f2}=_0x439a51(_0x29fb7d,_0xc27b36[0x1]['coins']);_0x29fb7d=[..._0x29fb7d,..._0x2dbb12],_0x49b1f2[_0x1c2712(0x1c1)](_0x260fa4=>{const _0x285796=_0x1c2712;let _0x3fd85b=_0x29fb7d['findIndex'](_0x29baaf=>_0x29baaf[_0x285796(0x263)]==_0x260fa4[_0x285796(0x263)]);_0x3fd85b!=-0x1&&_0x29fb7d[_0x285796(0x2a2)](_0x3fd85b,0x1);});}_0x29fb7d[_0x1c2712(0x1fa)]((_0xd77b63,_0x39baf9)=>_0xd77b63[_0x1c2712(0x263)]>_0x39baf9['coin']?0x1:_0x39baf9[_0x1c2712(0x263)]>_0xd77b63['coin']?-0x1:0x0);let _0x4d0cbc=[{'date':_0x20b0c5[_0x1c2712(0x25e)],'changes':_0x29fb7d}];_0xc27b36[_0x1c2712(0x2e4)]>0x2&&_0xc27b36[_0x1c2712(0x1c1)]((_0x519bef,_0x3f6fc4)=>{const _0x10f33f=_0x1c2712;if(_0x3f6fc4>0x0&&_0x3f6fc4<_0xc27b36[_0x10f33f(0x2e4)]-0x1){const {missingDay1:_0x1f9992,notInDay2:_0x156cf4}=_0x439a51(_0xc27b36[_0x3f6fc4][_0x10f33f(0x21f)],_0xc27b36[_0x3f6fc4+0x1][_0x10f33f(0x21f)]);_0x29fb7d=[],(_0x1f9992[_0x10f33f(0x2e4)]!=0x0||_0x156cf4[_0x10f33f(0x2e4)]!=0x0)&&(_0x1f9992['length']!=0x0&&_0x29fb7d[_0x10f33f(0x288)](..._0x1f9992),_0x156cf4[_0x10f33f(0x2e4)]!=0x0&&(_0x156cf4[_0x10f33f(0x1c1)](_0x446c0a=>{const _0x240719=_0x10f33f;_0x446c0a['number']=-_0x446c0a[_0x240719(0x2ca)];}),_0x29fb7d['push'](..._0x156cf4)),_0x29fb7d['sort']((_0x4bd870,_0x1d1f2e)=>_0x4bd870['coin']>_0x1d1f2e['coin']?0x1:_0x1d1f2e[_0x10f33f(0x263)]>_0x4bd870['coin']?-0x1:0x0),_0x4d0cbc[_0x10f33f(0x288)]({'date':_0xc27b36[_0x3f6fc4+0x1][_0x10f33f(0x245)],'changes':_0x29fb7d}));}}),dbConfig[_0x1c2712(0x23b)](_0x1c2712(0x27b))[_0x1c2712(0x280)]({'botID':botID})['assign']({..._0x20b0c5,'liquidity':_0x4d0cbc})['write']();}}_0x170240=dbConfig[_0x1c2712(0x23b)](_0x1c2712(0x2ea))[_0x1c2712(0x20e)]();if(!isNewerVersion(_0x170240,_0x1c2712(0x19f))){dbConfig[_0x1c2712(0x256)](_0x1c2712(0x2ea),'2.6.0')[_0x1c2712(0x192)]();let _0x14f4d1=dbConfig[_0x1c2712(0x23b)](_0x1c2712(0x27b))[_0x1c2712(0x280)]({'botID':botID})['value']();if(_0x14f4d1){const _0x4791d9=_0x14f4d1[_0x1c2712(0x21b)],_0x5c1431=_0x4791d9?capitalize(_0x4791d9):_0x1c2712(0x1d8);dbConfig[_0x1c2712(0x23b)](_0x1c2712(0x27b))[_0x1c2712(0x280)]({'botID':botID})[_0x1c2712(0x1ec)]({'exchange':_0x5c1431})['write']();}}config=getConfiguration(botID);let _0x3b39f=dbPerformance[_0x1c2712(0x23b)](_0x1c2712(0x2ea))[_0x1c2712(0x20e)]();!isNewerVersion(_0x3b39f,'2.3.5')&&(dbPerformance[_0x1c2712(0x256)](_0x1c2712(0x2ea),_0x1c2712(0x257))[_0x1c2712(0x192)](),setStartDatePerformance());let _0x32d78f=dbCoinResults[_0x1c2712(0x23b)](_0x1c2712(0x2ea))['value']();if(!isNewerVersion(_0x32d78f,_0x1c2712(0x2c0))){dbCoinResults[_0x1c2712(0x256)]('version',_0x1c2712(0x2c0))['write']();let _0x21810a=dbCoinResults[_0x1c2712(0x23b)]('coins')['value']();if(_0x21810a[_0x1c2712(0x2e4)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x19313f){const _0x4e0bb9=_0x2c1339;let _0x5133d5=dbConfig['get'](_0x4e0bb9(0x27b))[_0x4e0bb9(0x280)]({'botID':_0x19313f})[_0x4e0bb9(0x20e)]();if(_0x5133d5){let _0x43aa22=![];typeof _0x5133d5[_0x4e0bb9(0x199)]==_0x4e0bb9(0x1b7)&&(_0x5133d5={..._0x5133d5,'threshold':Number(_0x5133d5['threshold'])},_0x43aa22=!![]),_0x5133d5[_0x4e0bb9(0x1f1)]==null&&(_0x5133d5={..._0x5133d5,'change24h':-0x14},_0x43aa22=!![]),_0x43aa22&&(_0x5133d5={'botID':_0x5133d5[_0x4e0bb9(0x1c8)],'exchange':_0x5133d5[_0x4e0bb9(0x21b)],'apiKey':_0x5133d5[_0x4e0bb9(0x2c3)],'apiSecret':_0x5133d5[_0x4e0bb9(0x1ca)],'basecoin':_0x5133d5['basecoin'],'botname':_0x5133d5[_0x4e0bb9(0x23e)],'showname':_0x5133d5[_0x4e0bb9(0x224)],'threshold':_0x5133d5[_0x4e0bb9(0x199)],'ordertype':_0x5133d5[_0x4e0bb9(0x24f)],'timeout':_0x5133d5['timeout'],'startdate':_0x5133d5[_0x4e0bb9(0x25e)],'recreate':_0x5133d5['recreate'],'timeshift':_0x5133d5[_0x4e0bb9(0x29e)],'headless':_0x5133d5[_0x4e0bb9(0x2b3)],'cooldown':_0x5133d5[_0x4e0bb9(0x212)],'change24h':_0x5133d5[_0x4e0bb9(0x1f1)],'emojibuy':_0x5133d5[_0x4e0bb9(0x1ae)],'emojisell':_0x5133d5['emojisell'],'portfolio':_0x5133d5[_0x4e0bb9(0x244)],'liquidity':_0x5133d5[_0x4e0bb9(0x2da)]},dbConfig[_0x4e0bb9(0x23b)](_0x4e0bb9(0x27b))[_0x4e0bb9(0x2aa)]()[_0x4e0bb9(0x192)](),dbConfig['get'](_0x4e0bb9(0x27b))[_0x4e0bb9(0x288)](_0x5133d5)['write']());}else _0x5133d5={'botID':_0x19313f,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x4e0bb9(0x1c5)+_0x19313f,'showname':![],'threshold':0x3,'ordertype':_0x4e0bb9(0x25c),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x5133d5;}function emittedConfiguration(){const _0x156e21=_0x2c1339;let _0x2a07a8;if(config[_0x156e21(0x2c3)]=='')_0x2a07a8={...config,'configstate':_0x156e21(0x239)};else config[_0x156e21(0x2c3)]==_0x156e21(0x2e2)?_0x2a07a8={...config,'configstate':_0x156e21(0x208)}:_0x2a07a8={...config,'apiKey':'************','apiSecret':_0x156e21(0x283)};return _0x2a07a8;}function getSettings(){const _0x4c1cd8=_0x2c1339;return dbSettings[_0x4c1cd8(0x23b)](_0x4c1cd8(0x1e4))['value']();}function getSecure(){const _0x17526c=_0x2c1339;return dbSecure[_0x17526c(0x23b)](_0x17526c(0x251))[_0x17526c(0x20e)]()||{};}function updateTimeshift(_0x50215c){const _0xee84b2=_0x2c1339;let _0x36ceb3=dbConfig[_0xee84b2(0x23b)](_0xee84b2(0x27b))[_0xee84b2(0x280)]({'botID':botID})[_0xee84b2(0x20e)]();_0x36ceb3&&dbConfig[_0xee84b2(0x23b)](_0xee84b2(0x27b))[_0xee84b2(0x280)]({'botID':botID})[_0xee84b2(0x1ec)]({'timeshift':_0x50215c})[_0xee84b2(0x192)](),config[_0xee84b2(0x29e)]=_0x50215c,proxyEmit(_0xee84b2(0x243),emittedConfiguration());}async function storeConfiguration(_0x2c590e){const _0x43faa7=_0x2c1339;let _0x3eb4c4=[],_0x59f59b=[];_0x2c590e[_0x43faa7(0x244)]['forEach'](_0x4e1372=>{const _0x45893d=_0x43faa7;if(!_0x4e1372[_0x45893d(0x26e)]&&_0x4e1372[_0x45893d(0x263)]!=_0x2c590e[_0x45893d(0x1cc)])_0x59f59b[_0x45893d(0x288)](_0x4e1372[_0x45893d(0x1bf)]);});currentCoins[_0x43faa7(0x2e4)]==0x0?_0x3eb4c4=_0x59f59b:_0x59f59b[_0x43faa7(0x1c1)](_0x1f66c0=>{const _0x748b56=_0x43faa7,_0x23f036=currentCoins[_0x748b56(0x280)](_0x3e7586=>_0x3e7586[_0x748b56(0x1bf)]==_0x1f66c0);!_0x23f036&&_0x3eb4c4['push'](_0x1f66c0);});let _0x3d3bbd=dbConfig[_0x43faa7(0x23b)](_0x43faa7(0x27b))[_0x43faa7(0x280)]({'botID':botID})['value']();_0x2c590e={..._0x2c590e,'apiKey':crypt['decrypt'](secure[_0x43faa7(0x1e3)],_0x2c590e[_0x43faa7(0x2c3)])[_0x43faa7(0x1db)],'apiSecret':crypt[_0x43faa7(0x1b6)](secure[_0x43faa7(0x1e3)],_0x2c590e[_0x43faa7(0x1ca)])[_0x43faa7(0x1db)]};if(_0x3d3bbd){if(_0x2c590e[_0x43faa7(0x2c3)]==_0x43faa7(0x283))_0x2c590e['apiKey']=config['apiKey'];if(_0x2c590e[_0x43faa7(0x1ca)]==_0x43faa7(0x283))_0x2c590e['apiSecret']=config[_0x43faa7(0x1ca)];dbConfig[_0x43faa7(0x23b)]('bot')[_0x43faa7(0x280)]({'botID':botID})[_0x43faa7(0x1ec)](_0x2c590e)[_0x43faa7(0x192)]();}else dbConfig[_0x43faa7(0x23b)]('bot')[_0x43faa7(0x288)](_0x2c590e)['write'](),process['send']({'status':_0x43faa7(0x1e1),'live':_0x43faa7(0x240)},_0x437384=>{});config={..._0x2c590e},setStartDatePerformance(),process[_0x43faa7(0x2e7)]({'botname':_0x2c590e[_0x43faa7(0x23e)]},_0x9b2549=>{}),updateBotManager();const _0x5228b4=getNormalizedPerformance();getStartingBalances(_0x5228b4),emitPerformance(_0x5228b4),proxyEmit('configuration-stored'),await initCoinResults(),reset(_0x3eb4c4);}async function storeHeadless(_0x18feff){const _0x432ac0=_0x2c1339,_0x47ba52={...config,'headless':_0x18feff[_0x432ac0(0x2b3)]};let _0x250c91=dbConfig[_0x432ac0(0x23b)]('bot')['find']({'botID':botID})[_0x432ac0(0x20e)]();_0x250c91&&dbConfig['get']('bot')['find']({'botID':botID})[_0x432ac0(0x1ec)](_0x47ba52)[_0x432ac0(0x192)](),config={..._0x47ba52},updateBotManager(),proxyEmit(_0x432ac0(0x243),emittedConfiguration());}function noslash(_0x1671a1){const _0x571f68=_0x2c1339;return _0x1671a1[_0x571f68(0x2e3)]('/','');}async function updateNumberCoinsCcxt(_0x110dc3){const _0x2eefb6=_0x2c1339;logger['debug'](_0x2eefb6(0x282)+_0x110dc3[_0x2eefb6(0x1bf)]+_0x2eefb6(0x29f)+_0x110dc3[_0x2eefb6(0x2a5)]+'\x20|\x20'+_0x110dc3['id']+_0x2eefb6(0x29f)+_0x110dc3[_0x2eefb6(0x18f)]);let _0x39aa16=_0x110dc3[_0x2eefb6(0x2a5)],_0x3373ef=![];currentCoins[_0x2eefb6(0x1c1)](_0x5104c1=>{const _0x317810=_0x2eefb6;_0x5104c1[_0x317810(0x1bf)]==_0x110dc3[_0x317810(0x1bf)]&&(_0x3373ef=!![]);});if(!_0x3373ef)return;const _0x38c718=currentCoins['find'](_0xcd3fcd=>_0xcd3fcd[_0x2eefb6(0x1bf)]==_0x110dc3[_0x2eefb6(0x1bf)]),_0x1b2d9d=_0x5f2d22=>{const _0x8b338b=_0x2eefb6;if(_0x38c718)_0x38c718[_0x8b338b(0x2ba)]=_0x5f2d22;};if(_0x39aa16==_0x2eefb6(0x1c7))_0x1b2d9d('open');else{if(_0x39aa16==_0x2eefb6(0x25d))_0x1b2d9d(_0x2eefb6(0x25d)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x39aa16==_0x2eefb6(0x1ce)){logger[_0x2eefb6(0x193)](_0x2eefb6(0x2a6)+_0x110dc3[_0x2eefb6(0x1bf)]+'\x20|\x20'+_0x110dc3[_0x2eefb6(0x1fd)]+'\x20|\x20'+_0x110dc3['id']+_0x2eefb6(0x29f)+_0x110dc3[_0x2eefb6(0x18f)]);let _0xce57f7=![];if(lastOrders)lastOrders[_0x2eefb6(0x1c1)](async _0x50b778=>{const _0x7852ef=_0x2eefb6;if(_0x50b778[_0x7852ef(0x1a4)]==_0x110dc3[_0x7852ef(0x18f)]){logger['debug']('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x110dc3[_0x7852ef(0x18f)]),_0xce57f7=!![];if(_0x50b778[_0x7852ef(0x1fd)]==0x0){logger['debug'](_0x7852ef(0x1e0)+_0x110dc3[_0x7852ef(0x18f)]),_0x50b778['price']=_0x110dc3[_0x7852ef(0x25a)],_0x50b778['filled']=_0x110dc3['filled'],_0x50b778[_0x7852ef(0x299)]={'cost':_0x110dc3[_0x7852ef(0x299)]['cost'],'currency':_0x110dc3[_0x7852ef(0x299)][_0x7852ef(0x22c)]},_0x1b2d9d(_0x7852ef(0x1fd)),await validateOrders();if(lockOrders==ORDERS[_0x7852ef(0x24d)])currentCoins=await getCoins();await updateCoinResults(_0x50b778);}}});!_0xce57f7&&(logger[_0x2eefb6(0x193)](_0x2eefb6(0x290)+_0x110dc3['id']),_0x1b2d9d(_0x2eefb6(0x1fd)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x1b24ea=JSON[_0x2eefb6(0x20a)](lastBalances[_0x2eefb6(0x244)]);const _0x51df47=_0x1b24ea[_0x2eefb6(0x280)](_0x122bd3=>_0x122bd3[_0x2eefb6(0x1bf)]==_0x110dc3['symbol']);if(_0x51df47){if(_0x39aa16=='open')_0x51df47['orderstatus']=_0x51df47[_0x2eefb6(0x2ba)]==_0x2eefb6(0x1fd)?_0x2eefb6(0x1fd):_0x2eefb6(0x1c7);else{if(_0x39aa16==_0x2eefb6(0x25d))_0x51df47[_0x2eefb6(0x2ba)]=_0x51df47['orderstatus']=='filled'?_0x2eefb6(0x1fd):_0x2eefb6(0x25d);else _0x39aa16==_0x2eefb6(0x1ce)&&(_0x51df47[_0x2eefb6(0x2ba)]=_0x2eefb6(0x1fd));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x1b24ea)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0x357269=![],_0x51c926=!![],_0x5ca0fd=config[_0x2c1339(0x1cc)]){const _0x2e0dee=_0x2c1339;let _0xadac89,_0x4b8f86=[],_0x17d951=[],_0x33d09d=[];try{_0xadac89=await exchange[_0x2e0dee(0x2db)](),mybalances=_0xadac89[_0x2e0dee(0x2e8)];if(!_0x51c926)for(const [_0x3d5999,_0x23d2ca]of Object[_0x2e0dee(0x262)](mybalances)){_0x33d09d['push'](_0x3d5999);}else config['portfolio']['forEach'](_0x51c0db=>{const _0x1f37c2=_0x2e0dee;if(!_0x51c0db[_0x1f37c2(0x26e)])_0x33d09d[_0x1f37c2(0x288)](_0x51c0db[_0x1f37c2(0x263)]);});if(_0x5ca0fd=='')for(const [_0x5d880d,_0x43ab2e]of Object[_0x2e0dee(0x262)](mybalances)){_0x43ab2e[_0x2e0dee(0x266)]()!=0x0&&_0x17d951[_0x2e0dee(0x288)]({'coin':_0x5d880d});}else{if(_0x357269)await getOpenOrders();let _0x43eb01=![];for(const [_0xcb9aae,_0x5979b6]of Object[_0x2e0dee(0x262)](mybalances)){if(_0x33d09d['includes'](_0xcb9aae)){const _0x4edbb3=config[_0x2e0dee(0x244)][_0x2e0dee(0x280)](_0x25937d=>_0x25937d[_0x2e0dee(0x263)]==_0xcb9aae),_0x29b65b=_0xcb9aae+'/'+_0x5ca0fd,_0x35eded=_0x5ca0fd+'/'+_0xcb9aae,_0x2b792e=currentCoins['find'](_0xe4f869=>_0xe4f869['coin']==_0xcb9aae);_0x43eb01=![];_0x357269&&(_0x43eb01=allOpenOrders[_0x2e0dee(0x280)](_0xa16a71=>_0xa16a71[_0x2e0dee(0x1bf)]==_0x4edbb3[_0x2e0dee(0x1bf)]));if((_0x5979b6[_0x2e0dee(0x266)]()!=0x0||_0x4edbb3)&&(allSymbols[_0x2e0dee(0x28c)](_0x29b65b)||_0xcb9aae==_0x5ca0fd))_0xcb9aae!=_0x5ca0fd&&_0x4b8f86['push'](_0x29b65b),_0x17d951[_0x2e0dee(0x288)]({'coin':_0xcb9aae,'symbol':_0x29b65b,'reverse':![],'number':Math['max'](_0x5979b6+(_0x4edbb3&&_0x4edbb3[_0x2e0dee(0x1ba)]||0x0),0x0),'orderstatus':_0x357269?_0x43eb01?_0x2e0dee(0x1c7):_0x2e0dee(0x254):_0x2b792e?_0x2b792e[_0x2e0dee(0x2ba)]:_0x2e0dee(0x254)});else(_0x5979b6[_0x2e0dee(0x266)]()!=0x0||_0x4edbb3)&&allSymbols[_0x2e0dee(0x28c)](_0x35eded)&&(_0xcb9aae!=_0x5ca0fd&&_0x4b8f86[_0x2e0dee(0x288)](_0x35eded),_0x17d951[_0x2e0dee(0x288)]({'coin':_0xcb9aae,'symbol':_0x35eded,'reverse':!![],'number':Math['max'](_0x5979b6+(_0x4edbb3&&_0x4edbb3[_0x2e0dee(0x1ba)]||0x0),0x0),'orderstatus':_0x357269?_0x43eb01?'open':'none':_0x2b792e?_0x2b792e[_0x2e0dee(0x2ba)]:_0x2e0dee(0x254)}));}}}}catch(_0x329f2f){if(!_0x51c926)handleErrorNoStop(_0x329f2f,_0x2e0dee(0x222));else await handleError(_0x329f2f,_0x2e0dee(0x222));}return _0x17d951;}async function getCoinNumber(_0x25ac0d){const _0x6e866f=_0x2c1339;let _0xb2f408;try{const _0x86ac8a=await exchange[_0x6e866f(0x2db)]();_0xb2f408=_0x86ac8a[_0x6e866f(0x2e8)][_0x25ac0d];}catch(_0x3c38bf){await handleError(_0x3c38bf,_0x6e866f(0x27e));}return _0xb2f408;}async function getOpenOrders(){const _0x631b81=_0x2c1339;let _0x39e682;allOpenOrders=[];try{for(const _0x3ec0c5 of config[_0x631b81(0x244)]){!_0x3ec0c5[_0x631b81(0x26e)]&&_0x3ec0c5['coin']!=config[_0x631b81(0x1cc)]&&(_0x39e682=await exchange[_0x631b81(0x272)](_0x3ec0c5[_0x631b81(0x1bf)]),_0x39e682[_0x631b81(0x2e4)]>0x0&&allOpenOrders['push'](_0x39e682[0x0]));}}catch(_0x58dd2b){await handleError(_0x58dd2b,'getOpenOrders()');}}async function handleOpenOrders(_0x3247f7=0x0){const _0x3e3873=_0x2c1339;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x3247f7==0x0?(logger[_0x3e3873(0x193)](_0x3e3873(0x24c)),_0x3247f7++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function getPortfolio(_0x404053){const _0x2c9dd0=_0x2c1339;let _0x3e2598=[],_0x526bbb=[],_0x511039,_0x4298b9=[],_0x42265f=![];if(_0x404053[_0x2c9dd0(0x2c3)]===_0x2c9dd0(0x283)||_0x404053[_0x2c9dd0(0x1ca)]===_0x2c9dd0(0x283))_0x42265f=!![];else{await initExchange(_0x404053[_0x2c9dd0(0x21b)],_0x404053[_0x2c9dd0(0x2c3)],_0x404053[_0x2c9dd0(0x1ca)]);try{_0x42265f=await loadSymbols();}catch(_0x1210e8){_0x42265f=![],handleErrorNoStop(_0x1210e8,'loadSymbols()');}}if(_0x42265f){_0x4298b9=await getCoins(![],![],_0x404053['basecoin']);if(_0x4298b9===![])proxyEmit(_0x2c9dd0(0x244),![]);else{if(_0x404053[_0x2c9dd0(0x1cc)]=='')proxyEmit('portfolio',_0x4298b9);else{_0x4298b9['forEach'](_0x2595b3=>{const _0x82366f=_0x2c9dd0;if(_0x2595b3[_0x82366f(0x263)]!=_0x404053[_0x82366f(0x1cc)])_0x3e2598[_0x82366f(0x288)](_0x2595b3[_0x82366f(0x1bf)]);});try{_0x526bbb=await exchange[_0x2c9dd0(0x2e0)](_0x3e2598);}catch(_0x1cfacb){await handleError(_0x1cfacb,'getPortfolio()');}_0x4298b9['forEach'](_0x10748c=>{const _0x2b8bf3=_0x2c9dd0;_0x10748c[_0x2b8bf3(0x263)]!=_0x404053[_0x2b8bf3(0x1cc)]?_0x511039=_0x10748c[_0x2b8bf3(0x2bc)]?0x1/_0x526bbb[_0x10748c[_0x2b8bf3(0x1bf)]][_0x2b8bf3(0x1af)]:_0x526bbb[_0x10748c[_0x2b8bf3(0x1bf)]]['last']:_0x511039=0x1,_0x10748c[_0x2b8bf3(0x252)]=formatResult(_0x511039,0x8);}),proxyEmit(_0x2c9dd0(0x244),_0x4298b9);}}}else proxyEmit(_0x2c9dd0(0x244),![]);}function checkMinimums(_0x1e037e){const _0x46fcae=_0x2c1339;let _0x21af70=!![];const _0x2dcf9b=!_0x1e037e[_0x46fcae(0x2bc)]?markets[_0x1e037e[_0x46fcae(0x1bf)]][_0x46fcae(0x2c6)]['amount'][_0x46fcae(0x2d0)]:markets[_0x1e037e[_0x46fcae(0x1bf)]][_0x46fcae(0x2c6)][_0x46fcae(0x219)][_0x46fcae(0x2d0)],_0x8420d8=!_0x1e037e[_0x46fcae(0x2bc)]?markets[_0x1e037e[_0x46fcae(0x1bf)]]['limits'][_0x46fcae(0x219)][_0x46fcae(0x2d0)]:markets[_0x1e037e[_0x46fcae(0x1bf)]][_0x46fcae(0x2c6)][_0x46fcae(0x28b)][_0x46fcae(0x2d0)],_0x5d3b06=markets[_0x1e037e['symbol']][_0x46fcae(0x2d6)][_0x46fcae(0x28b)];_0x1e037e[_0x46fcae(0x297)]=formatResultTruncate(_0x1e037e[_0x46fcae(0x297)],_0x5d3b06);if(Math[_0x46fcae(0x27f)](_0x1e037e[_0x46fcae(0x297)])<_0x2dcf9b)_0x21af70=![];if(Math['abs'](_0x1e037e['trade'])*_0x1e037e['last']<_0x8420d8)_0x21af70=![];if(_0x1e037e[_0x46fcae(0x203)]==_0x46fcae(0x223)){let _0x3abba0=config[_0x46fcae(0x244)]['find'](_0x30bd62=>_0x30bd62[_0x46fcae(0x263)]==_0x1e037e[_0x46fcae(0x263)]);if(_0x3abba0[_0x46fcae(0x1ba)]>0x0){if(Math[_0x46fcae(0x27f)](_0x1e037e[_0x46fcae(0x297)])>_0x1e037e[_0x46fcae(0x2ca)]-_0x3abba0['offset'])_0x21af70=![];}else{if(Math['abs'](_0x1e037e[_0x46fcae(0x297)])>_0x1e037e[_0x46fcae(0x2ca)])_0x21af70=![];}}if(_0x1e037e[_0x46fcae(0x203)]==_0x46fcae(0x1ea)){let _0x4d03a7=config[_0x46fcae(0x244)]['find'](_0x3c43ab=>_0x3c43ab[_0x46fcae(0x263)]==config[_0x46fcae(0x1cc)]),_0x33df7a=currentCoins[_0x46fcae(0x280)](_0x2f8369=>_0x2f8369[_0x46fcae(0x263)]==config[_0x46fcae(0x1cc)]);if(_0x4d03a7[_0x46fcae(0x1ba)]>0x0){if(Math[_0x46fcae(0x27f)](_0x1e037e[_0x46fcae(0x297)])*_0x1e037e[_0x46fcae(0x1af)]>_0x33df7a['number']-_0x4d03a7[_0x46fcae(0x1ba)])_0x21af70=![];}else{if(Math[_0x46fcae(0x27f)](_0x1e037e['trade'])*_0x1e037e[_0x46fcae(0x1af)]>_0x33df7a['number'])_0x21af70=![];}}return _0x21af70;}async function getBalances(){const _0x7b131f=_0x2c1339;let _0x332c58=0x0,_0x3a2934;const _0x5eb7c8=config[_0x7b131f(0x199)];if(config[_0x7b131f(0x2b3)]&&config[_0x7b131f(0x1f1)]<0x0)await validate24hChanges();currentCoins[_0x7b131f(0x1c1)](_0xf1e342=>{const _0x4808d7=_0x7b131f;if(_0xf1e342['coin']!=config[_0x4808d7(0x1cc)]){let _0x4cc1bb=global[_0x4808d7(0x278)][noslash(_0xf1e342[_0x4808d7(0x1bf)])];_0x3a2934=_0xf1e342[_0x4808d7(0x2bc)]?0x1/_0x4cc1bb:_0x4cc1bb;}else _0x3a2934=0x1;let _0xb34d58=_0xf1e342[_0x4808d7(0x2ca)]*_0x3a2934;_0x332c58+=_0xb34d58,_0xf1e342[_0x4808d7(0x1af)]=formatResult(Number(_0x3a2934),0x8),_0xf1e342[_0x4808d7(0x20e)]=_0xb34d58;}),currentCoins[_0x7b131f(0x1c1)](_0x2e5707=>{const _0x5de4a3=_0x7b131f;let _0x542132=config['portfolio'][_0x5de4a3(0x280)](_0xa8083d=>_0xa8083d[_0x5de4a3(0x263)]==_0x2e5707['coin']),_0x5baf87=Number(_0x542132[_0x5de4a3(0x1ad)]),_0x589e1b=_0x2e5707[_0x5de4a3(0x20e)]/_0x332c58*0x64,_0x3b316a=_0x5baf87*_0x332c58/0x64/_0x2e5707['last']-_0x2e5707['number'];_0x2e5707[_0x5de4a3(0x1ad)]=formatResult(_0x589e1b,0x3),_0x2e5707['target']=formatResult(_0x5baf87,0x3),_0x2e5707[_0x5de4a3(0x297)]=formatResult(_0x3b316a,0x8),_0x2e5707[_0x5de4a3(0x203)]='',_0x2e5707['valid']=![];if(_0x2e5707['coin']!=config[_0x5de4a3(0x1cc)]){if(_0x2e5707['distribution']>_0x5baf87)_0x2e5707[_0x5de4a3(0x203)]=_0x5de4a3(0x223),_0x2e5707[_0x5de4a3(0x29c)]=checkMinimums(_0x2e5707);else _0x2e5707[_0x5de4a3(0x1ad)]<_0x5baf87&&(_0x2e5707['side']='buy',_0x2e5707['valid']=checkMinimums(_0x2e5707));}_0x2e5707[_0x5de4a3(0x2b5)]=_0x2e5707[_0x5de4a3(0x1ad)]/_0x2e5707[_0x5de4a3(0x19d)]-0x1;if(_0x2e5707[_0x5de4a3(0x2ba)]==_0x5de4a3(0x1fd)||_0x2e5707['orderstatus']=='canceled')_0x2e5707[_0x5de4a3(0x2ba)]='none';}),currentCoins[_0x7b131f(0x1fa)]((_0x43286e,_0x346ead)=>_0x43286e[_0x7b131f(0x2b5)]<_0x346ead['delta']?0x1:_0x346ead[_0x7b131f(0x2b5)]<_0x43286e[_0x7b131f(0x2b5)]?-0x1:0x0);const _0x2ce89a=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2ce89a['eur'],'usd':_0x2ce89a[_0x7b131f(0x242)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x5eb7c8},proxyEmit(_0x7b131f(0x2bd),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x7b131f(0x2b3)])headlessMode({'portfolio':currentCoins,'threshold':_0x5eb7c8});else{if(lockOrders==ORDERS[_0x7b131f(0x18d)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x5eb7c8});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x57ddac=_0x2c1339;if(!lastBalances)return;let _0x482f12=[],_0x40e651,_0x5e58a4=JSON[_0x57ddac(0x20a)](lastBalances[_0x57ddac(0x244)]);_0x5e58a4['sort']((_0xe13e91,_0x5d10ac)=>_0xe13e91[_0x57ddac(0x263)]>_0x5d10ac[_0x57ddac(0x263)]?0x1:_0x5d10ac[_0x57ddac(0x263)]>_0xe13e91['coin']?-0x1:0x0),_0x5e58a4[_0x57ddac(0x1c1)](_0x2bb4e1=>{const _0x3662b4=_0x57ddac;let _0x511910={'coin':_0x2bb4e1[_0x3662b4(0x263)],'number':_0x2bb4e1[_0x3662b4(0x2ca)],'price':_0x2bb4e1['last']};_0x482f12[_0x3662b4(0x288)](_0x511910);});const _0x13c151=await getFiat();_0x40e651={'date':lastBalances[_0x57ddac(0x22b)][_0x57ddac(0x1c2)]('\x20')[0x0],'eur':_0x13c151[_0x57ddac(0x24e)],'usd':_0x13c151[_0x57ddac(0x242)],'coins':_0x482f12};let _0x22df7d=dbPerformance[_0x57ddac(0x23b)](_0x57ddac(0x1dc))[_0x57ddac(0x280)]({'date':_0x40e651[_0x57ddac(0x245)]})[_0x57ddac(0x20e)]();_0x22df7d?_0x40e651[_0x57ddac(0x245)]!=config[_0x57ddac(0x25e)]&&dbPerformance[_0x57ddac(0x23b)](_0x57ddac(0x1dc))['find']({'date':_0x40e651['date']})[_0x57ddac(0x1ec)](_0x40e651)[_0x57ddac(0x192)]():dbPerformance[_0x57ddac(0x23b)](_0x57ddac(0x1dc))[_0x57ddac(0x288)](_0x40e651)[_0x57ddac(0x192)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x378082=_0x2c1339;let _0x448536=[];if(dbPerformance[_0x378082(0x2b2)]('data')[_0x378082(0x20e)]()){let _0x9f0212=dbPerformance[_0x378082(0x23b)](_0x378082(0x1dc))['cloneDeep']()[_0x378082(0x198)](_0x378082(0x245))['value'](),_0x2b750e=[...config[_0x378082(0x2da)]];_0x2b750e[_0x378082(0x1fa)]((_0x2f84c8,_0x1c217f)=>_0x2f84c8['date']>_0x1c217f[_0x378082(0x245)]?-0x1:_0x1c217f[_0x378082(0x245)]>_0x2f84c8['date']?0x1:0x0);let _0x18d209=0x1,_0x2dfc3e=[],_0x3da45d=0x0;_0x9f0212['slice']()[_0x378082(0x2bc)]()[_0x378082(0x1c1)]((_0x57597c,_0x1272c7)=>{const _0x228f1e=_0x378082;if(_0x2b750e[_0x3da45d]){if(_0x9f0212[_0x9f0212[_0x228f1e(0x2e4)]-_0x1272c7]&&_0x2b750e[_0x3da45d][_0x228f1e(0x245)]==_0x9f0212[_0x9f0212[_0x228f1e(0x2e4)]-_0x1272c7]['date']){if(_0x1272c7<_0x9f0212[_0x228f1e(0x2e4)]){let _0x4d9bf4=0x0,_0x23bf66=0x0;_0x9f0212[_0x9f0212['length']-_0x1272c7][_0x228f1e(0x21f)][_0x228f1e(0x1c1)](_0x3dc6d2=>{const _0x32cc44=_0x228f1e;_0x23bf66+=_0x3dc6d2[_0x32cc44(0x2ca)]*_0x3dc6d2[_0x32cc44(0x252)];}),_0x2b750e[_0x3da45d][_0x228f1e(0x248)][_0x228f1e(0x1c1)](_0x25fd62=>{const _0x5e1369=_0x228f1e;_0x4d9bf4+=_0x25fd62[_0x5e1369(0x2ca)]*_0x25fd62[_0x5e1369(0x252)];}),_0x18d209*=_0x4d9bf4/(_0x23bf66-_0x4d9bf4)+0x1;}_0x3da45d++;}}let _0x52d716=0x0;_0x57597c[_0x228f1e(0x21f)][_0x228f1e(0x1c1)](_0x2a3ee3=>{const _0x2be97b=_0x228f1e;_0x52d716+=_0x2a3ee3[_0x2be97b(0x2ca)]*_0x2a3ee3[_0x2be97b(0x252)];}),_0x2dfc3e[_0x9f0212['length']-_0x1272c7-0x1]=_0x52d716*(_0x18d209-0x1);});let _0x1ce1e9=[];_0x2b750e=[...config[_0x378082(0x2da)]]||[];let _0x520513=0x0;_0x3da45d=0x0,_0x9f0212[_0x378082(0x1c1)]((_0x147cd2,_0x3f43d6)=>{const _0x573c56=_0x378082;if(_0x2b750e[_0x3da45d]){const _0x485ff1=fns[_0x573c56(0x20a)](_0x2b750e[_0x3da45d]['date'],'yyyy/MM/dd',new Date()),_0x2a8a5c=fns['parse'](_0x147cd2[_0x573c56(0x245)],_0x573c56(0x27c),new Date());if(fns[_0x573c56(0x1b0)](_0x485ff1,_0x2a8a5c)){let _0x42e224=0x0;_0x2b750e[_0x3da45d][_0x573c56(0x248)]['forEach'](_0x1b045d=>{const _0x4563f6=_0x573c56;!_0x1ce1e9[_0x1b045d[_0x4563f6(0x263)]]?_0x1ce1e9[_0x1b045d[_0x4563f6(0x263)]]=_0x1b045d[_0x4563f6(0x2ca)]:(_0x42e224=_0x1ce1e9[_0x1b045d[_0x4563f6(0x263)]],_0x1ce1e9[_0x1b045d['coin']]+=_0x1b045d['number']);const _0x1f4e68=_0x147cd2['coins'][_0x4563f6(0x280)](_0x31feb1=>_0x31feb1[_0x4563f6(0x263)]==_0x1b045d[_0x4563f6(0x263)]);(!_0x1f4e68||_0x1f4e68[_0x4563f6(0x2ca)]==0x0)&&(_0x520513+=(-_0x1b045d['number']-_0x42e224)*_0x1b045d['price']);}),_0x3da45d++;}}_0x147cd2['coins'][_0x573c56(0x1c1)]((_0x948662,_0x5a4ead)=>{const _0x3b002e=_0x573c56;_0x1ce1e9[_0x948662[_0x3b002e(0x263)]]&&(_0x948662={..._0x948662,'initial':_0x1ce1e9[_0x948662[_0x3b002e(0x263)]]}),_0x147cd2[_0x3b002e(0x21f)][_0x5a4ead]=_0x948662;}),_0x448536[_0x573c56(0x288)]({'date':_0x147cd2[_0x573c56(0x245)],'eur':_0x147cd2[_0x573c56(0x24e)],'usd':_0x147cd2[_0x573c56(0x242)],'offset':_0x2dfc3e[_0x3f43d6],'netoffset':_0x520513,'coins':_0x147cd2[_0x573c56(0x21f)]});});}return _0x448536;}function emitPerformance(_0x57106d){const _0x3fb99d=_0x2c1339;_0x57106d[_0x3fb99d(0x2e4)]!==0x0?(proxyEmit('performance',_0x57106d),lastPerformanceEmitted=getDate()):proxyEmit(_0x3fb99d(0x238),[]);}function getPerf(_0xfc4836,_0x3e02b3){const _0x166c95=_0x2c1339;let _0x2218fb=0x0,_0x49ce2b=0x0,_0xa59876=0x0;_0xfc4836[_0x166c95(0x21f)]['forEach'](_0x544edc=>{const _0x5d64d1=_0x166c95;_0x2218fb+=_0x544edc[_0x5d64d1(0x2ca)]*_0x544edc[_0x5d64d1(0x252)];});_0x3e02b3&&(_0x2218fb+=_0xfc4836['offset']);if(config['basecoin']===_0x166c95(0x2a8)||config['basecoin']===_0x166c95(0x1d6))_0x49ce2b=_0x2218fb*_0xfc4836['eur'],_0xa59876=_0x2218fb*_0xfc4836[_0x166c95(0x242)];else{if(config[_0x166c95(0x1cc)]===_0x166c95(0x1cf)||config[_0x166c95(0x1cc)]==='USDT'||config[_0x166c95(0x1cc)]===_0x166c95(0x268))_0x49ce2b=_0x2218fb*_0xfc4836[_0x166c95(0x24e)]/_0xfc4836[_0x166c95(0x242)],_0xa59876=_0x2218fb;else config[_0x166c95(0x1cc)]===_0x166c95(0x2ad)&&(_0x49ce2b=_0x2218fb,_0xa59876=_0x2218fb*_0xfc4836[_0x166c95(0x242)]/_0xfc4836[_0x166c95(0x24e)]);}return[_0x2218fb,_0x49ce2b,_0xa59876];}function getKPIs(_0x457414,_0x5cfc8d='EUR'){const _0x35c33d=_0x2c1339,_0x41acc7=config[_0x35c33d(0x1cc)],_0x23fa7b=config['balances'],_0x431f69=currentCoins,_0x955d75=getNormalizedPerformance(),_0x4cf12b=_0x457414==='basecoin'?_0x41acc7:_0x457414===_0x35c33d(0x1b1)||_0x457414==='net-fiat'?_0x5cfc8d:_0x35c33d(0x29d)+_0x41acc7,_0x55ad35=_0x457414===_0x35c33d(0x258)?'Net\x20effect':_0x457414===_0x35c33d(0x1bb)?_0x35c33d(0x2d8)+_0x4cf12b+')':_0x4cf12b+'\x20value',_0x11ab87=_0x457414===_0x35c33d(0x258)||_0x457414===_0x35c33d(0x1bb)?_0x35c33d(0x1a9):_0x4cf12b+_0x35c33d(0x2c7);let _0x4ae921=0x0;_0x431f69[_0x35c33d(0x1c1)](_0x5ad7a6=>{const _0x5889fc=_0x35c33d;_0x4ae921+=_0x5ad7a6['number']*_0x5ad7a6[_0x5889fc(0x1af)];});if(_0x457414==='fiat'||_0x457414===_0x35c33d(0x1bb)){if(_0x41acc7===_0x35c33d(0x2a8)||_0x41acc7===_0x35c33d(0x1d6))_0x4ae921=_0x4ae921*(_0x5cfc8d==='EUR'?_0x23fa7b[_0x35c33d(0x24e)]:_0x23fa7b[_0x35c33d(0x242)]);else{if(_0x41acc7===_0x35c33d(0x1cf)||_0x41acc7===_0x35c33d(0x2e5)||_0x41acc7==='USD')_0x4ae921=_0x4ae921*(_0x5cfc8d===_0x35c33d(0x2ad)?_0x23fa7b[_0x35c33d(0x24e)]/_0x23fa7b[_0x35c33d(0x242)]:0x1);else _0x41acc7===_0x35c33d(0x2ad)&&(_0x4ae921=_0x4ae921*(_0x5cfc8d===_0x35c33d(0x2ad)?0x1:_0x23fa7b['usd']/_0x23fa7b[_0x35c33d(0x24e)]));}}let _0x286a18;if(_0x4ae921!==0x0){if(_0x457414==='basecoin')_0x286a18=(_0x4ae921/startingBalances[_0x35c33d(0x1cc)]-0x1)*0x64;else{if(_0x5cfc8d==='EUR')_0x286a18=(_0x4ae921/startingBalances['eur']-0x1)*0x64;else _0x286a18=(_0x4ae921/startingBalances['usd']-0x1)*0x64;}let _0x3e2c9d=0x0;if(startingBalances[_0x35c33d(0x21f)])_0x431f69[_0x35c33d(0x1c1)](_0x9b9d26=>{const _0x4e7080=_0x35c33d;let _0x7c81ac=startingBalances[_0x4e7080(0x21f)][_0x4e7080(0x280)](_0x282e8e=>_0x282e8e[_0x4e7080(0x263)]===_0x9b9d26['coin']);if(_0x7c81ac&&_0x7c81ac['coin']&&_0x9b9d26[_0x4e7080(0x2ca)]!==0x0)_0x3e2c9d+=_0x7c81ac[_0x4e7080(0x2ca)]*_0x9b9d26[_0x4e7080(0x1af)];});let _0x3a8072=0x0;if(_0x955d75['length']!==0x0){let _0x12ff81=_0x955d75[_0x955d75[_0x35c33d(0x2e4)]-0x1];_0x3a8072=_0x12ff81[_0x35c33d(0x1b2)];}_0x3e2c9d-=_0x3a8072;_0x457414===_0x35c33d(0x258)&&(_0x286a18=(_0x4ae921-_0x3e2c9d)/startingBalances[_0x35c33d(0x1cc)]*0x64,_0x4ae921=_0x4ae921-_0x3e2c9d);if(_0x457414===_0x35c33d(0x1bb)){let _0x2ea85f=_0x5cfc8d===_0x35c33d(0x2ad)?startingBalances[_0x35c33d(0x24e)]:startingBalances['usd'];if(_0x41acc7===_0x35c33d(0x2a8)||_0x41acc7==='ETH')_0x3e2c9d=_0x5cfc8d===_0x35c33d(0x2ad)?_0x3e2c9d*_0x23fa7b[_0x35c33d(0x24e)]:_0x3e2c9d*_0x23fa7b[_0x35c33d(0x242)];else{if(_0x41acc7===_0x35c33d(0x1cf)||_0x41acc7===_0x35c33d(0x2e5)||_0x41acc7===_0x35c33d(0x268))_0x3e2c9d=_0x5cfc8d===_0x35c33d(0x2ad)?_0x3e2c9d*_0x23fa7b[_0x35c33d(0x24e)]/_0x23fa7b['usd']:_0x3e2c9d;else _0x41acc7===_0x35c33d(0x2ad)&&(_0x3e2c9d=_0x5cfc8d===_0x35c33d(0x2ad)?_0x3e2c9d:_0x3e2c9d*_0x23fa7b[_0x35c33d(0x242)]/_0x23fa7b[_0x35c33d(0x24e)]);}_0x286a18=(_0x4ae921-_0x3e2c9d)/_0x2ea85f*0x64,_0x4ae921=_0x4ae921-_0x3e2c9d;}if(_0x286a18){if(_0x286a18<0x64)_0x286a18=_0x286a18[_0x35c33d(0x19c)](0x2);else{if(_0x286a18<0x3e8)_0x286a18=_0x286a18['toFixed'](0x1);else _0x286a18=_0x286a18[_0x35c33d(0x19c)](0x0);}}else _0x286a18=Number('0')['toFixed'](0x2);if(_0x4ae921){if(Math['abs'](_0x4ae921)<0.000001)_0x4ae921=_0x4ae921[_0x35c33d(0x19c)](0x2);else{if(Math['abs'](_0x4ae921)<0.1)_0x4ae921=_0x4ae921[_0x35c33d(0x19c)](0x6);else{if(Math[_0x35c33d(0x27f)](_0x4ae921)<0x1)_0x4ae921=_0x4ae921[_0x35c33d(0x19c)](0x5);else{if(Math[_0x35c33d(0x27f)](_0x4ae921)<0xa)_0x4ae921=_0x4ae921[_0x35c33d(0x19c)](0x4);else{if(Math['abs'](_0x4ae921)<0x64)_0x4ae921=_0x4ae921[_0x35c33d(0x19c)](0x3);else{if(Math[_0x35c33d(0x27f)](_0x4ae921)<0x3e8)_0x4ae921=_0x4ae921['toFixed'](0x2);else _0x4ae921=_0x4ae921[_0x35c33d(0x19c)](0x2);}}}}}}else _0x4ae921=Number('0')[_0x35c33d(0x19c)](0x2);}else _0x286a18=Number('0')['toFixed'](0x2);return{'value':_0x4ae921,'change':_0x286a18,'leftTxt':_0x55ad35,'rightTxt':_0x11ab87};}async function getStartingBalances(_0x40f159,_0x1340a6=!![]){const _0x153cde=_0x2c1339;if(_0x40f159[_0x153cde(0x2e4)]!==0x0){const [_0x5e498e,_0x1dfd8a,_0x3102bc]=getPerf(_0x40f159[0x0],!![]);let _0x4db0e8=[];config[_0x153cde(0x244)][_0x153cde(0x1c1)](_0x1f67ee=>{const _0x4c16da=_0x153cde;let _0xa5c484=0x0,_0x2cb0a4;config[_0x4c16da(0x2da)][_0x4c16da(0x1c1)](_0xdd2889=>{const _0x5c2731=_0x4c16da;let _0x3db51a=_0xdd2889['changes'][_0x5c2731(0x280)](_0x4aeed9=>_0x4aeed9['coin']==_0x1f67ee[_0x5c2731(0x263)]);if(_0x3db51a){_0xa5c484+=_0x3db51a['number'];if(!_0x2cb0a4)_0x2cb0a4=_0x3db51a[_0x5c2731(0x252)];}}),_0x4db0e8[_0x4c16da(0x288)]({'coin':_0x1f67ee[_0x4c16da(0x263)],'number':_0xa5c484,'initialprice':_0x2cb0a4});});const _0x2daea6={'basecoin':_0x5e498e,'eur':_0x1dfd8a,'usd':_0x3102bc,'coins':_0x4db0e8};if(_0x1340a6)proxyEmit(_0x153cde(0x2bf),_0x2daea6);startingBalances=_0x2daea6;}}function _0x264a(){const _0x57638a=['log','ETH','\x20>\x20','Binance','bb-secure.json','recreateCoinResults()','message','data','<b>','event-history','existsSync','3\x20-\x20handling\x20FILLED\x20order:\x20','enabled','Invalid\x20quantity','privateKey','settings','AuthenticationError','sha256','-------------------------------\x0a','bid','getDate','buy','date-fns','assign','ORDERS.UNLOCKED','substring','3555532SHHxSP','breakeven','change24h','freeze','emitHistory','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','RSA-OAEP','Reset\x20|\x20','exec','differenceInSeconds','InsufficientFunds','sort','310794CphtsP','1103230yoHYvI','filled','BNB/','Order(s)\x20filled\x20-\x20','\x20API\x20key\x20is\x20invalid','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','search','side','warning','Crypt','Unfilled\x20order(s)\x20canceled\x20after\x20','leftTxt','recovery','Manual\x20balancing\x20required','parse','\x20orders\x20in\x20less\x20than\x20','shift','RequestTimeout','value','limit-high','success','getHours','cooldown','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','5261025sTtGmx','ccxt','Error:\x20Invalid\x20argument\x20','\x20hour','BNB','cost','getPortfolio','exchange','<b>Bot\x20','constructor','Limit\x20(low-margin)','coins','\x20exchange','util','getCoins()','sell','showname','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20API\x20secret\x20is\x20invalid','defaults','cloneDeep','Failed\x20to\x20load\x20coin\x20data\x20for\x20','function','time','currency','filter','\x20>\x20[DEBUG]\x20','stringify','ORDERS.LOCKED','/EUR','cancel','remainingSymbols','error','showConfig','fromCodePoint','Order(s)\x20not\x20validated\x20after\x20','performance','initial','loadSymbols()','get','InvalidNonce','balancing\x20resumed','botname','lowdb','running','/backup/','usd','configuration','portfolio','date','DAI/','watchTrades','changes','2021152vSykkX','createOrder','timer:','1\x20-\x20Handle\x20open\x20orders','LOCKED','eur','ordertype','timeout','secure','price','001','none','getStartingBalances','set','2.3.5','net-basecoin','toUpperCase','average','startnumber','market','canceled','startdate','DDoSProtection','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','final','entries','coin','kill','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','toString','buys','USD','no\x20open\x20orders','ORDERS.UNLOCKING','logs','storeConfiguration','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','excluded','\x20portfolio:</b>\x20\x0a\x0a','./logs/','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','fetchOpenOrders','cancelOrder','realized','concat','openOrders','args','ticker','startprice','-config.json','bot','yyyy/MM/dd','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','getCoinNumber()','abs','find','writeFile','0\x20-\x20EXECUTION:\x20','************','\x20minutes\x20-\x20','ExchangeNotAvailable','getMonth','Market','push','round','change','amount','includes','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','placeOrder','full','2\x20-\x20FILLED\x20unknown\x20order:\x20','keys','ongoing','NANO/','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','map','\x20|\x20Error\x20details:\x20','trade','milliseconds','fee','event','getFullYear','valid','Net\x20','timeshift','\x20|\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','fetchTicker','splice','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','rightTxt','status','1\x20-\x20FILLED:\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','BTC','emojisell','remove','-events.json','\x20API\x20blocked\x20(DDoS\x20protection)','EUR','parseISO','\x20has\x20a\x2024h\x20drop\x20of\x20','HOT/BTC','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','has','headless','restart','delta','/output-000.log','page','storeHeadless','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','orderstatus',':\x20Bot\x20','reverse','balances','sells','starting-balances','2.5.0','getMinutes','join','apiKey','balancing\x20resumes\x20when\x20cooldown\x20ends','<pre>','limits','\x20change','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','199431xvmIyL','number','983616mRkAFN','limit','No\x20more\x20open\x20orders\x20-\x20','padStart','add','min','exchanges','bb-settings.json','order','UNLOCKING','Cooldown\x20ended\x20-\x20balancing\x20resumed','precision','hybrid-crypto-js','Net\x20effect\x20(','symbols','liquidity','fetchBalance','datetime','random','fees','fetchClosedOrders','fetchTickers','./version.json','***','replace','length','USDT','placeOrder()','send','total','simple','version','1\x20-\x20Unlock\x20orders','UNLOCKED','mkdirSync','clientOrderId','deleteHistoryAlerts','Executing\x20exchange\x20reload','write','debug','coin-loading-progress','290oERkdV','1\x20-\x20Validate\x20orders:\x20','format','sortBy','threshold','XEM/BUSD','Unknown\x20error\x20occured','toFixed','target','\x20order:\x20','2.6.0','watchOrders','loading-canceled','14lIyHzd','getTime','customId','toLowerCase','OrderNotFound','bot-','progress','Net\x20effect','Pausing\x20for\x20','padEnd','.json','distribution','emojibuy','last','isEqual','fiat','netoffset','toggleBotMode','timestamp','type','decrypt','string','test','slice','offset','net-fiat','sendPortfolioTelegram','\x20not\x20available','3IBDLae','symbol','orderId','forEach','split','getSeconds','%\x20\x0a','Bot\x20','Limit\x20(high-margin)','open','botID','starting-balance-','apiSecret','Executed\x20','basecoin','argv','closed','BUSD','\x20|\x20lock\x20orders:\x20','Order\x20filled:\x20','./config/','(((.+)+)+)+$','\x20not\x20responding'];_0x264a=function(){return _0x57638a;};return _0x264a();}function headlessMode(_0x573700){const _0x4fce88=_0x2c1339;let _0x30a8ef=_0x573700[_0x4fce88(0x244)],_0x4554d8=_0x573700[_0x4fce88(0x199)],_0x1aedec=[];for(let _0x65c54e of _0x30a8ef){if(_0x65c54e[_0x4fce88(0x263)]!=config[_0x4fce88(0x1cc)]){if(_0x65c54e[_0x4fce88(0x2b5)]>=_0x4554d8/0x64){if(_0x65c54e[_0x4fce88(0x29c)])_0x1aedec[_0x4fce88(0x288)](_0x65c54e);}else{if(_0x65c54e[_0x4fce88(0x2b5)]<=-_0x4554d8/0x64){if(_0x65c54e[_0x4fce88(0x29c)])_0x1aedec[_0x4fce88(0x288)](_0x65c54e);}}}}_0x1aedec[_0x4fce88(0x2e4)]>0x0&&placeOrder(_0x1aedec);}function notifyBalance(_0x52b04d){const _0x5c082c=_0x2c1339;let _0x1008ce=_0x52b04d[_0x5c082c(0x244)],_0x1d7342=_0x52b04d[_0x5c082c(0x199)],_0x46dee9=[];for(let _0x149ed1 of _0x1008ce){if(_0x149ed1['coin']!=config[_0x5c082c(0x1cc)]){if(_0x149ed1[_0x5c082c(0x2b5)]>=_0x1d7342/0x64){if(_0x149ed1[_0x5c082c(0x29c)])_0x46dee9[_0x5c082c(0x288)](_0x149ed1);}else{if(_0x149ed1[_0x5c082c(0x2b5)]<=-_0x1d7342/0x64){if(_0x149ed1[_0x5c082c(0x29c)])_0x46dee9[_0x5c082c(0x288)](_0x149ed1);}}}}if(_0x46dee9[_0x5c082c(0x2e4)]>0x0){let _0x420bab=_0x46dee9[_0x5c082c(0x295)](_0x282c4c=>_0x282c4c[_0x5c082c(0x263)]);_0x420bab[_0x5c082c(0x1fa)]();let _0x1c7f4e=_0x420bab[_0x5c082c(0x2c2)](',\x20');if(!lastCoinsToBalance)logHistory(_0x5c082c(0x204),_0x5c082c(0x209));lastCoinsToBalance=_0x1c7f4e;}}function symbolToCoin(_0x1437ab){const _0x5c5a69=_0x2c1339;let _0xe0996d;if(_0x1437ab['includes']('/'+config[_0x5c5a69(0x1cc)]))_0xe0996d=_0x1437ab[_0x5c5a69(0x2e3)]('/'+config[_0x5c5a69(0x1cc)],'');if(_0x1437ab[_0x5c5a69(0x28c)](config[_0x5c5a69(0x1cc)]+'/'))_0xe0996d=_0x1437ab[_0x5c5a69(0x2e3)](config[_0x5c5a69(0x1cc)]+'/','');return _0xe0996d;}async function unlockOrders(){const _0x6c8419=_0x2c1339;if(allOrdersPlaced&&lockOrders==ORDERS[_0x6c8419(0x24d)]){logger[_0x6c8419(0x193)](_0x6c8419(0x18c)),lockOrders=ORDERS[_0x6c8419(0x2d4)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x6c8419(0x239),persistOpenOrders([]),lockOrders=ORDERS[_0x6c8419(0x18d)],logger[_0x6c8419(0x193)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x1febf9){const _0x244d11=_0x2c1339;if(_0x1febf9)validateOrdersState=_0x1febf9;logger[_0x244d11(0x193)](_0x244d11(0x196)+validateOrdersState+_0x244d11(0x1d0)+(lockOrders==0x1?_0x244d11(0x230):lockOrders==0x2?_0x244d11(0x26a):_0x244d11(0x1ed)));let _0x3f6b6=[],_0x4a49f9=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x244d11(0x250)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x244d11(0x1c1)](_0x27325a=>{const _0x486f69=_0x244d11;let _0x12a5ce=![];_0x27325a[_0x486f69(0x1fd)]>0x0&&(_0x12a5ce=!![]),_0x3f6b6['push'](_0x12a5ce),_0x12a5ce&&config[_0x486f69(0x24f)]!=_0x486f69(0x25c)&&logHistory(_0x486f69(0x2d3),_0x486f69(0x1d1)+_0x27325a[_0x486f69(0x1bf)]+'\x20'+_0x27325a[_0x486f69(0x203)]+'\x20#'+formatResult(_0x27325a[_0x486f69(0x1fd)],0x8)+'\x20@'+formatResult(_0x27325a[_0x486f69(0x252)],0x8));}),_0x3f6b6[_0x244d11(0x1c1)]((_0x27e4ce,_0x244ff1)=>{const _0x102759=_0x244d11;if(_0x27e4ce)lastOrders[_0x102759(0x2a2)](_0x244ff1,0x1);}),persistOpenOrders(lastOrders);const _0x5c5e5c=coolingDown?_0x244d11(0x2c4):_0x244d11(0x23d);if(validateOrdersState==_0x244d11(0x239))validateOrdersState='ongoing',_0x3f6b6['includes'](![])?config[_0x244d11(0x24f)]==_0x244d11(0x25c)?logHistory('warning',_0x244d11(0x265)):logHistory(_0x244d11(0x204),_0x244d11(0x260)):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0x3f6b6[_0x244d11(0x28c)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x244d11(0x25c)?logHistory(_0x244d11(0x210),'Order(s)\x20validated\x20-\x20'+_0x5c5e5c):logHistory('success',_0x244d11(0x1ff)+_0x5c5e5c),await unlockOrders());}else{if(validateOrdersState=='final')_0x3f6b6['includes'](![])&&(config[_0x244d11(0x24f)]==_0x244d11(0x25c)?logHistory(_0x244d11(0x210),_0x244d11(0x237)+Math['round'](_0x4a49f9*validateOrderInterval/0xea60)+_0x244d11(0x284)+_0x5c5e5c):(await cancelOrders(),logHistory(_0x244d11(0x210),_0x244d11(0x206)+Math[_0x244d11(0x289)](_0x4a49f9*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x5c5e5c))),await unlockOrders();else{if(validateOrdersState==_0x244d11(0x269)){if(config[_0x244d11(0x24f)]!=_0x244d11(0x25c))logHistory(_0x244d11(0x210),_0x244d11(0x2cd)+_0x5c5e5c);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x215d69=>{const _0x5ac24b=_0xe9ce;try{const _0x3dea4c=await exchange[_0x5ac24b(0x273)](_0x215d69[_0x5ac24b(0x1c0)],_0x215d69['symbol']);}catch(_0x1eb8fc){if(_0x1eb8fc[_0x5ac24b(0x266)]()[_0x5ac24b(0x28c)](_0x5ac24b(0x1a6))){}else await handleError(_0x1eb8fc,'cancelOrders()');}});}async function initCoinResults(){const _0x2506c2=_0x2c1339;let _0x107fb8=[];config[_0x2506c2(0x244)][_0x2506c2(0x1c1)](_0x19add2=>{const _0x2ea985=_0x2506c2;if(!_0x19add2['excluded']&&_0x19add2[_0x2ea985(0x263)]!=config[_0x2ea985(0x1cc)]){let _0x162f8e=dbCoinResults[_0x2ea985(0x23b)](_0x2ea985(0x21f))['find']({'coin':_0x19add2[_0x2ea985(0x263)]})[_0x2ea985(0x20e)]();if(!_0x162f8e){const _0x49147f=currentCoins[_0x2ea985(0x280)](_0x25932a=>_0x25932a['coin']==_0x19add2[_0x2ea985(0x263)]),_0x43b97b=global[_0x2ea985(0x278)][noslash(_0x19add2[_0x2ea985(0x1bf)])];let _0x22583b=_0x49147f?_0x49147f[_0x2ea985(0x2ca)]:null,_0x55c036=_0x19add2[_0x2ea985(0x2bc)]?0x1/_0x43b97b:_0x43b97b,_0x15d801;config[_0x2ea985(0x2da)][_0x2ea985(0x1c1)](_0x1e01d2=>{const _0x9f89e7=_0x2ea985;!_0x15d801&&(_0x15d801=_0x1e01d2[_0x9f89e7(0x248)][_0x9f89e7(0x280)](_0x3db27d=>_0x3db27d[_0x9f89e7(0x263)]==_0x19add2[_0x9f89e7(0x263)]),_0x15d801&&(_0x22583b=_0x15d801[_0x9f89e7(0x2ca)],_0x55c036=_0x15d801[_0x9f89e7(0x252)]));}),_0x107fb8[_0x2ea985(0x288)]({'coin':_0x19add2[_0x2ea985(0x263)],'number':_0x22583b,'price':_0x55c036});}}}),_0x107fb8[_0x2506c2(0x1c1)](_0x544c04=>{const _0x4a8f74=_0x2506c2,_0x2fb90d={'coin':_0x544c04[_0x4a8f74(0x263)],'number':_0x544c04['number'],'breakeven':_0x544c04[_0x4a8f74(0x252)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0x4a8f74(0x288)](_0x2fb90d)[_0x4a8f74(0x192)]();});}async function updateCoinResults(_0xde74f7,_0x407917=![]){const _0x35860f=_0x2c1339;let _0x17c395,_0x4f34d0,_0x1cae94,_0xf1c5f,_0x17a2a6,_0x4c7af9,_0x5ccd26=dbCoinResults[_0x35860f(0x23b)](_0x35860f(0x21f))[_0x35860f(0x280)]({'coin':_0xde74f7[_0x35860f(0x263)]})['value']();!_0x5ccd26&&await initCoinResults();_0xde74f7[_0x35860f(0x2bc)]&&(_0x4c7af9={'filled':_0xde74f7['filled']*_0xde74f7[_0x35860f(0x252)],'amount':_0xde74f7[_0x35860f(0x1fd)]*_0xde74f7[_0x35860f(0x252)],'side':_0xde74f7['side']=='sell'?'buy':_0x35860f(0x223),'price':0x1/_0xde74f7[_0x35860f(0x252)]},_0xde74f7={..._0xde74f7,..._0x4c7af9});_0x407917?_0x4f34d0=_0xde74f7[_0x35860f(0x203)]==_0x35860f(0x1ea)?_0x5ccd26[_0x35860f(0x2ca)]+_0xde74f7[_0x35860f(0x1fd)]:_0x5ccd26[_0x35860f(0x2ca)]-_0xde74f7[_0x35860f(0x1fd)]:_0x4f34d0=await getCoinNumber(_0xde74f7['coin']);if(_0xde74f7[_0x35860f(0x299)]&&_0xde74f7[_0x35860f(0x299)][_0x35860f(0x22c)]==config[_0x35860f(0x1cc)])_0x17c395=_0xde74f7[_0x35860f(0x299)][_0x35860f(0x219)];else{if(_0xde74f7['fee']&&_0xde74f7[_0x35860f(0x299)]['currency']=='BNB'&&!_0x407917)_0x17c395=_0xde74f7[_0x35860f(0x299)]['cost']*global[_0x35860f(0x278)][_0x35860f(0x218)+config['basecoin']];else _0x17c395=defaultFee*_0xde74f7[_0x35860f(0x1fd)]*_0xde74f7['price'];}_0xde74f7[_0x35860f(0x203)]=='buy'?(_0x1cae94=_0x4f34d0!=0x0?(_0x5ccd26['breakeven']*_0x5ccd26[_0x35860f(0x2ca)]+_0xde74f7['price']*(_0x4f34d0-_0x5ccd26[_0x35860f(0x2ca)])+_0x17c395)/_0x4f34d0:0x0,_0xf1c5f=_0x5ccd26[_0x35860f(0x274)]):(_0x1cae94=_0x4f34d0!=0x0?(_0x5ccd26[_0x35860f(0x1f0)]*_0x5ccd26[_0x35860f(0x2ca)]-_0xde74f7[_0x35860f(0x252)]*(_0x5ccd26['number']-_0x4f34d0)+_0x17c395)/_0x4f34d0:0x0,_0xf1c5f=_0x5ccd26[_0x35860f(0x274)]+(_0xde74f7[_0x35860f(0x252)]-_0x5ccd26['breakeven'])*_0xde74f7['filled']);_0x17a2a6=(_0xde74f7['price']-_0x1cae94-_0x17c395/_0xde74f7[_0x35860f(0x1fd)])*_0x4f34d0;let _0x2cbe67={'coin':_0xde74f7[_0x35860f(0x263)],'number':_0x4f34d0,'breakeven':formatResult(_0x1cae94,0x8),'realized':formatResult(_0xf1c5f,0x8),'unrealized':formatResult(_0x17a2a6,0x8),'fees':formatResult(_0x5ccd26[_0x35860f(0x2de)]+_0x17c395,0x8),'sells':_0xde74f7[_0x35860f(0x203)]==_0x35860f(0x223)?_0x5ccd26['sells']+0x1:_0x5ccd26[_0x35860f(0x2be)],'buys':_0xde74f7[_0x35860f(0x203)]=='buy'?_0x5ccd26[_0x35860f(0x267)]+0x1:_0x5ccd26[_0x35860f(0x267)]};dbCoinResults[_0x35860f(0x23b)](_0x35860f(0x21f))['find']({'coin':_0xde74f7[_0x35860f(0x263)]})[_0x35860f(0x1ec)](_0x2cbe67)[_0x35860f(0x192)]();if(!_0x407917){if(_0xde74f7[_0x35860f(0x299)]&&_0xde74f7[_0x35860f(0x299)]['currency']==_0x35860f(0x218)){const _0x4414cb=currentCoins[_0x35860f(0x280)](_0x19351a=>_0x19351a[_0x35860f(0x263)]==_0x35860f(0x218));if(_0x4414cb){let _0x351c76=dbCoinResults[_0x35860f(0x23b)](_0x35860f(0x21f))[_0x35860f(0x280)]({'coin':_0x35860f(0x218)})[_0x35860f(0x20e)]();_0x2cbe67={..._0x351c76,'number':_0x4414cb[_0x35860f(0x2ca)]},dbCoinResults[_0x35860f(0x23b)](_0x35860f(0x21f))[_0x35860f(0x280)]({'coin':_0x35860f(0x218)})['assign'](_0x2cbe67)[_0x35860f(0x192)]();}}}}async function placeOrder(_0x36e056){const _0x416243=_0x2c1339,_0x365625=config[_0x416243(0x24f)]==_0x416243(0x25c)?'market':_0x416243(0x2cc);if(lockOrders==ORDERS[_0x416243(0x18d)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x4fa3cd of _0x36e056){let _0x456908,_0x5c8fd6,_0x308f90,_0x19d5ad,_0x5a3ffe,_0x3002ec=_0x4fa3cd['symbol'];try{const _0x29eb2d=await exchange[_0x416243(0x2a1)](_0x3002ec);_0x456908=_0x4fa3cd[_0x416243(0x2bc)]?0x1/_0x4fa3cd['last']:_0x4fa3cd[_0x416243(0x1af)],_0x5c8fd6=_0x29eb2d[_0x416243(0x1e8)],_0x308f90=_0x29eb2d['ask'];_0x4fa3cd['reverse']?(_0x19d5ad=_0x4fa3cd[_0x416243(0x203)]==_0x416243(0x1ea)?_0x416243(0x223):_0x416243(0x1ea),_0x5a3ffe=Math[_0x416243(0x27f)](_0x4fa3cd[_0x416243(0x297)])/_0x456908):(_0x19d5ad=_0x4fa3cd[_0x416243(0x203)],_0x5a3ffe=Math[_0x416243(0x27f)](_0x4fa3cd[_0x416243(0x297)]));_0x365625==_0x416243(0x2cc)&&(config[_0x416243(0x24f)]==_0x416243(0x20f)&&(_0x456908=_0x19d5ad=='buy'?_0x5c8fd6:_0x308f90),config[_0x416243(0x24f)]=='limit-low'&&(_0x456908=_0x19d5ad=='buy'?_0x308f90:_0x5c8fd6));_0x5a3ffe=formatResult(_0x5a3ffe,0x8),_0x456908=formatResult(_0x456908,0x8);const _0x294f3e=_0x19d5ad==_0x416243(0x223)?config[_0x416243(0x2a9)]?String[_0x416243(0x236)]('0x'+config[_0x416243(0x2a9)])+'\x20':'':config[_0x416243(0x1ae)]?String[_0x416243(0x236)]('0x'+config['emojibuy'])+'\x20':'',_0x4d4bb1=_0x365625==_0x416243(0x25c)?_0x416243(0x287):config[_0x416243(0x24f)]==_0x416243(0x20f)?_0x416243(0x1c6):_0x416243(0x21e),_0x2296c3=new Date()[_0x416243(0x1a3)]()['toString']()['slice'](-0x6)+'-'+Math[_0x416243(0x2dd)]()[_0x416243(0x266)]()[_0x416243(0x1b9)](-0x6);lastOrders[_0x416243(0x288)]({'customId':_0x2296c3,'symbol':_0x3002ec,'coin':_0x4fa3cd[_0x416243(0x263)],'side':_0x19d5ad,'reverse':_0x4fa3cd[_0x416243(0x2bc)],'filled':0x0});if(_0x365625=='market')logHistory(_0x416243(0x2d3),''+_0x294f3e+_0x4d4bb1+'\x20order:\x20'+_0x3002ec+'\x20'+_0x19d5ad+'\x20#'+formatResult(_0x5a3ffe,0x8)+'\x20@'+formatResult(_0x456908,0x8));else logHistory(_0x416243(0x2d3),''+_0x294f3e+_0x4d4bb1+_0x416243(0x19e)+_0x3002ec+'\x20'+_0x19d5ad+'\x20#'+formatResult(_0x5a3ffe,0x8)+'\x20@'+formatResult(_0x456908,0x8));const _0x26f729=await exchange['createOrder'](_0x3002ec,_0x365625,_0x19d5ad,_0x5a3ffe,_0x456908,{'clientOrderId':_0x2296c3}),_0x16cde4=lastOrders[_0x416243(0x2e4)]-0x1;_0x16cde4>=0x0&&lastOrders[_0x16cde4][_0x416243(0x1a4)]==_0x2296c3&&(lastOrders[_0x16cde4]={...lastOrders[_0x16cde4],'orderId':_0x26f729['id'],'amount':_0x26f729['amount'],'price':_0x26f729[_0x416243(0x252)],'fee':_0x26f729[_0x416243(0x299)]});if(config[_0x416243(0x212)]!=0x0){let _0x2e2023=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x2e2023=cooldownTracker[_0x416243(0x20c)]();const _0x8d552=getTimeStamp();cooldownTracker['push'](_0x8d552);if(_0x2e2023){const _0x3d4534=fns[_0x416243(0x1f8)](new Date(_0x8d552),new Date(_0x2e2023));if(_0x3d4534<cooldownInterval){logHistory(_0x416243(0x234),_0x416243(0x1cb)+config[_0x416243(0x212)]+_0x416243(0x20b)+cooldownInterval/0x3c+_0x416243(0x27d)+cooldownPeriod/(0xe10*0x3e8)+_0x416243(0x217)),coolingDown=!![];break;}}}}catch(_0x5bfebe){if(_0x5bfebe['toString']()[_0x416243(0x28c)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x416243(0x22d)](_0x1aba51=>_0x1aba51[_0x416243(0x1bf)]!=_0x3002ec),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x3002ec);else _0x5bfebe[_0x416243(0x266)]()[_0x416243(0x28c)](_0x416243(0x1e2))?(lastOrders=lastOrders['filter'](_0x229c9f=>_0x229c9f[_0x416243(0x1bf)]!=_0x3002ec),logHistory(_0x416243(0x234),'Order\x20amount\x20is\x20invalid:\x20'+_0x3002ec)):(lastOrders=lastOrders[_0x416243(0x22d)](_0x24b736=>_0x24b736[_0x416243(0x1bf)]!=_0x3002ec),await handleError(_0x5bfebe,_0x416243(0x2e6),_0x3002ec));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x1c907c=config[_0x416243(0x24f)]==_0x416243(0x25c)?validateOrderTimeout*0x3c*0x3e8:config[_0x416243(0x250)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x280144=_0x416243;validateOrders(_0x280144(0x261));},_0x1c907c);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x416243(0x210),_0x416243(0x2d5)));}else{if(coolingDown)!config[_0x416243(0x2b3)]&&logHistory(_0x416243(0x234),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x416243(0x2b3)]&&(config[_0x416243(0x24f)]==_0x416243(0x25c)?logHistory(_0x416243(0x234),_0x416243(0x2a3)):logHistory(_0x416243(0x234),_0x416243(0x2b1))));}}function persistOpenOrders(_0x12f5dc){const _0x121d4b=_0x2c1339,_0xed5e4e={...config,'openOrders':_0x12f5dc};let _0x5de019=dbConfig['get']('bot')[_0x121d4b(0x280)]({'botID':botID})[_0x121d4b(0x20e)]();_0x5de019&&dbConfig['get'](_0x121d4b(0x27b))[_0x121d4b(0x280)]({'botID':botID})['assign'](_0xed5e4e)[_0x121d4b(0x192)]();}function restoreOrders(){const _0x16161a=_0x2c1339;let _0x12d5e8;config['openOrders']&&allOpenOrders[_0x16161a(0x1c1)](_0x52bd9b=>{const _0x1e1e2f=_0x16161a,_0x2c3cc3=config[_0x1e1e2f(0x276)][_0x1e1e2f(0x280)](_0x380be2=>_0x380be2[_0x1e1e2f(0x1c0)]==_0x52bd9b['id']);_0x2c3cc3&&(lastOrders[_0x1e1e2f(0x288)](_0x2c3cc3),_0x12d5e8=_0x52bd9b[_0x1e1e2f(0x1b4)]);});if(lastOrders[_0x16161a(0x2e4)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x16161a(0x292),allOrdersPlaced=!![];const _0x11c20f=new Date()[_0x16161a(0x1a3)](),_0x192ce9=config['ordertype']==_0x16161a(0x25c)?validateOrderTimeout*0x3c*0x3e8:config[_0x16161a(0x250)]*0x3c*0x3e8;if(_0x12d5e8+_0x192ce9>_0x11c20f){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4955f9=_0x16161a;validateOrders(_0x4955f9(0x261));},_0x12d5e8+_0x192ce9-_0x11c20f);}else validateOrders(_0x16161a(0x261));}}async function sendPortfolioTelegram(){const _0x3a1c4b=_0x2c1339;if(!coinsLoaded){process[_0x3a1c4b(0x2e7)]({'telegrammsg':_0x3a1c4b(0x26d)},_0x29bf1c=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x5af8d6=['EUR',_0x3a1c4b(0x268),'BUSD','USDT'],_0x30437f=_0x5af8d6['includes'](config[_0x3a1c4b(0x1cc)])?0x2:0x8;let _0x335c11='';if(config['showname'])_0x335c11=_0x3a1c4b(0x1dd)+config[_0x3a1c4b(0x23e)]+_0x3a1c4b(0x26f);else _0x335c11=_0x3a1c4b(0x21c)+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x376dc0=getKPIs('basecoin'),_0x41ff1e=getKPIs(_0x3a1c4b(0x258));_0x335c11+=_0x3a1c4b(0x2c5),_0x335c11+=_0x376dc0[_0x3a1c4b(0x207)]+'\x20:\x20'+_0x376dc0[_0x3a1c4b(0x20e)]+'\x20\x0a',_0x335c11+=_0x376dc0[_0x3a1c4b(0x2a4)]+':\x20'+_0x376dc0[_0x3a1c4b(0x28a)]+_0x3a1c4b(0x1c4),_0x335c11+=_0x41ff1e[_0x3a1c4b(0x207)]+':\x20'+_0x41ff1e['value']+'\x20'+config['basecoin']+'\x0a',_0x335c11+=_0x41ff1e[_0x3a1c4b(0x2a4)]+':\x20'+_0x41ff1e[_0x3a1c4b(0x28a)]+_0x3a1c4b(0x1c4),_0x335c11+='\x0a',_0x335c11+=_0x3a1c4b(0x1e7),_0x335c11+=_0x3a1c4b(0x225),_0x335c11+=_0x3a1c4b(0x1e7),currentCoins[_0x3a1c4b(0x1c1)](_0x462db4=>{const _0x234bac=_0x3a1c4b;_0x335c11+=_0x462db4[_0x234bac(0x263)][_0x234bac(0x1ab)](0x7)+'|\x20'+formatPad(_0x462db4[_0x234bac(0x1ad)],0x2,0x6)+'|\x20'+formatPad(_0x462db4[_0x234bac(0x19d)],0x2,0x6)+'|\x20'+formatPad(_0x462db4[_0x234bac(0x2b5)]*0x64,0x2,0x6)+'\x0a';}),_0x335c11+='</pre>',process['send']({'telegrammsg':_0x335c11},_0x4dcd68=>{});}function formatPad(_0x2e106b,_0x401c12,_0x289421){const _0x48b1aa=_0x2c1339,_0x2a006d=formatResultString(_0x2e106b,_0x401c12);return _0x2a006d?_0x2a006d['padStart'](_0x289421):''[_0x48b1aa(0x2ce)](_0x289421);}function logHistory(_0x3a1c1a,_0xd677c4,_0x507cfc=''){const _0x4242b9=_0x2c1339;let _0x3a3515={'time':getTimeStamp(),'type':_0x3a1c1a,'event':_0xd677c4};dbLogs[_0x4242b9(0x23b)]('logs')[_0x4242b9(0x288)](_0x3a3515)[_0x4242b9(0x192)]();if(_0x507cfc=='')_0x507cfc=_0xd677c4;proxyEmit('event',{'log':_0x3a3515,'summary':_0x507cfc}),process[_0x4242b9(0x2e7)]({'telegram':{..._0x3a3515,'botname':config['botname'],'showname':config['showname']}},_0x1d5722=>{}),logger['full'](''+_0x3a3515[_0x4242b9(0x29a)]);}function emitHistory(_0x3cf0e6={}){const _0x68e718=_0x2c1339;Object[_0x68e718(0x291)](_0x3cf0e6)[_0x68e718(0x2e4)]==0x0&&(_0x3cf0e6={'type':['order',_0x68e718(0x29a)],'event':'','page':0x1});if(_0x3cf0e6[_0x68e718(0x1b5)][_0x68e718(0x28c)]('event'))_0x3cf0e6['type'][_0x68e718(0x2a2)](_0x3cf0e6[_0x68e718(0x1b5)]['indexOf']('event'),0x1,_0x68e718(0x234),'success');if(dbLogs[_0x68e718(0x2b2)]('logs')[_0x68e718(0x20e)]()){let _0x4cd2db=dbLogs['get'](_0x68e718(0x26b))[_0x68e718(0x22d)](_0x29c402=>{const _0x37b061=_0x68e718;if(_0x3cf0e6[_0x37b061(0x1b5)][_0x37b061(0x2e4)]==0x0)return![];else return _0x3cf0e6[_0x37b061(0x1b5)][_0x37b061(0x28c)](_0x29c402[_0x37b061(0x1b5)]);})[_0x68e718(0x22d)](_0x21fda5=>{const _0x5e43b8=_0x68e718;if(_0x3cf0e6[_0x5e43b8(0x29a)]=='')return!![];else return _0x21fda5[_0x5e43b8(0x29a)][_0x5e43b8(0x1a5)]()[_0x5e43b8(0x28c)](_0x3cf0e6[_0x5e43b8(0x29a)]['toLowerCase']());})[_0x68e718(0x198)](_0x68e718(0x22b)),_0x325a54=_0x4cd2db[_0x68e718(0x20e)]()[_0x68e718(0x2e4)];_0x4cd2db=_0x4cd2db[_0x68e718(0x2bc)]()[_0x68e718(0x1b9)]((_0x3cf0e6[_0x68e718(0x2b7)]-0x1)*logPageSize,_0x3cf0e6[_0x68e718(0x2b7)]*logPageSize-0x1)[_0x68e718(0x2bc)]()['value'](),proxyEmit(_0x68e718(0x1de),{'logs':_0x4cd2db,'total':_0x325a54});}else proxyEmit(_0x68e718(0x1de),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x211415){const _0x1d88c4=_0x2c1339;if(dbLogs[_0x1d88c4(0x2b2)]('logs')[_0x1d88c4(0x20e)]()){const _0x505bc2=dbLogs[_0x1d88c4(0x23b)](_0x1d88c4(0x26b))[_0x1d88c4(0x198)]('time')[_0x1d88c4(0x22d)](_0x37c3ed=>{return _0x37c3ed['type']=='order';})['value']();dbLogs[_0x1d88c4(0x23b)](_0x1d88c4(0x26b))['remove']()[_0x1d88c4(0x192)](),dbLogs[_0x1d88c4(0x23b)]('logs')[_0x1d88c4(0x1ec)](_0x505bc2)['write'](),emitHistory(_0x211415);}}async function pauseBot(_0x295103=''){const _0x26d149=_0x2c1339,_0x475fc3=new Date()[_0x26d149(0x1a3)]();if(!lastErrorShown||_0x475fc3-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x475fc3;!lastBotPause?(lastBotPause=_0x475fc3,consecutivePauses=0x1):(_0x475fc3-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x26d149(0x2e7)]({'stop':_0x26d149(0x2b4)},_0x317716=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x26d149(0x1a3)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x295103)_0x295103+='\x20|\x20';logHistory('error',_0x295103+_0x26d149(0x1aa)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){const _0x36b0b7=_0x2c1339;process[_0x36b0b7(0x2e7)]({'stop':_0x36b0b7(0x264)},_0x5627a0=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1df41b,_0x56a146){const _0x28f88e=_0x2c1339;if(_0x1df41b[_0x28f88e(0x266)]()[_0x28f88e(0x28c)]('API-key\x20format\x20invalid'))return logHistory('error',config['exchange']+'\x20API\x20key\x20is\x20invalid'),![];else{if(_0x1df41b[_0x28f88e(0x266)]()[_0x28f88e(0x28c)](_0x28f88e(0x2a7)))return logHistory(_0x28f88e(0x234),config['exchange']+'\x20API\x20secret\x20is\x20invalid'),![];else{if(_0x1df41b[_0x28f88e(0x266)]()[_0x28f88e(0x28c)](_0x28f88e(0x1e5)))return logHistory(_0x28f88e(0x234),config[_0x28f88e(0x21b)]+_0x28f88e(0x271)+config['exchange']),![];else await handleError(_0x1df41b,_0x56a146);}}}async function handleError(_0x1f91a2,_0x500833,_0x5376a7=''){const _0x593805=_0x2c1339;if(_0x1f91a2[_0x593805(0x266)]()[_0x593805(0x28c)](_0x593805(0x25f)))await pauseBot(config[_0x593805(0x21b)]+_0x593805(0x2ac));else{if(_0x1f91a2[_0x593805(0x266)]()[_0x593805(0x28c)](_0x593805(0x285)))await pauseBot(config[_0x593805(0x21b)]+_0x593805(0x1bd));else{if(_0x1f91a2[_0x593805(0x266)]()[_0x593805(0x28c)](_0x593805(0x20d)))await pauseBot(config['exchange']+_0x593805(0x1d4));else{if(_0x1f91a2['toString']()[_0x593805(0x28c)](_0x593805(0x2c8)))logHistory(_0x593805(0x234),_0x500833+'\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x593805(0x234),_0x593805(0x2a0)),await killBot();else{if(_0x1f91a2[_0x593805(0x266)]()['includes'](_0x593805(0x23c)))logHistory(_0x593805(0x234),_0x500833+_0x593805(0x2b9)),logHistory(_0x593805(0x234),_0x593805(0x2a0)),await killBot();else{if(_0x1f91a2[_0x593805(0x266)]()[_0x593805(0x28c)]('API-key\x20format\x20invalid'))logHistory('error',_0x500833+_0x593805(0x29f)+config[_0x593805(0x21b)]+_0x593805(0x200)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1f91a2[_0x593805(0x266)]()[_0x593805(0x28c)](_0x593805(0x2a7)))logHistory(_0x593805(0x234),_0x500833+_0x593805(0x29f)+config[_0x593805(0x21b)]+_0x593805(0x226)),logHistory(_0x593805(0x234),_0x593805(0x2a0)),await killBot();else{if(_0x1f91a2[_0x593805(0x266)]()['includes']('AuthenticationError'))logHistory(_0x593805(0x234),_0x500833+_0x593805(0x29f)+config['exchange']+_0x593805(0x294)+config[_0x593805(0x21b)]),logHistory('error',_0x593805(0x2a0)),await killBot();else _0x1f91a2['toString']()[_0x593805(0x28c)](_0x593805(0x1f9))?logHistory('error',_0x500833+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x5376a7):(logger[_0x593805(0x28f)](_0x500833+_0x593805(0x296),_0x1f91a2),await pauseBot(_0x593805(0x19b)));}}}}}}}}function formatResult(_0x133ef0,_0x39966a){const _0x9e28b1=_0x2c1339;return parseFloat(_0x133ef0[_0x9e28b1(0x19c)](_0x39966a));}function formatResultTruncate(_0x936a29,_0x4b6530){const _0x2f3d96=_0x2c1339;let _0x193e3d=formatResultString(_0x936a29,0xa),_0xe526b2=_0x193e3d['indexOf']('.');return _0xe526b2!=-0x1&&(_0x193e3d=_0x193e3d[_0x2f3d96(0x1b9)](0x0,_0xe526b2+_0x4b6530+0x1)),Number(_0x193e3d);}function formatResultString(_0x5ad038,_0x484dcb){const _0x114cc6=_0x2c1339;let _0x3164a7;if(!(''+_0x5ad038)['includes']('e'))_0x3164a7=+(Math[_0x114cc6(0x289)](_0x5ad038+'e+'+_0x484dcb)+'e-'+_0x484dcb);else{let _0x2b7765=(''+_0x5ad038)['split']('e'),_0x597820='';+_0x2b7765[0x1]+_0x484dcb>0x0&&(_0x597820='+'),_0x3164a7=+(Math['round'](+_0x2b7765[0x0]+'e'+_0x597820+(+_0x2b7765[0x1]+_0x484dcb))+'e-'+_0x484dcb);}return Number(_0x3164a7)[_0x114cc6(0x19c)](_0x484dcb);}function getServerTime(){const _0x2510a4=_0x2c1339,_0x5098e8=new Date();return _0x5098e8['getFullYear']()+'/'+(_0x5098e8[_0x2510a4(0x286)]()+0x1)[_0x2510a4(0x266)]()['padStart'](0x2,'0')+'/'+_0x5098e8[_0x2510a4(0x1e9)]()[_0x2510a4(0x266)]()[_0x2510a4(0x2ce)](0x2,'0')+'\x20'+_0x5098e8['getHours']()['toString']()[_0x2510a4(0x2ce)](0x2,'0')+':'+_0x5098e8[_0x2510a4(0x2c1)]()[_0x2510a4(0x266)]()[_0x2510a4(0x2ce)](0x2,'0')+':'+_0x5098e8[_0x2510a4(0x1c3)]()[_0x2510a4(0x266)]()[_0x2510a4(0x2ce)](0x2,'0');}function getTimeStamp(){const _0x32cdb1=_0x2c1339,_0x20e9cc=shiftedTime();return _0x20e9cc['getFullYear']()+'/'+(_0x20e9cc[_0x32cdb1(0x286)]()+0x1)[_0x32cdb1(0x266)]()['padStart'](0x2,'0')+'/'+_0x20e9cc[_0x32cdb1(0x1e9)]()[_0x32cdb1(0x266)]()['padStart'](0x2,'0')+'\x20'+_0x20e9cc[_0x32cdb1(0x211)]()[_0x32cdb1(0x266)]()['padStart'](0x2,'0')+':'+_0x20e9cc[_0x32cdb1(0x2c1)]()[_0x32cdb1(0x266)]()['padStart'](0x2,'0')+':'+_0x20e9cc[_0x32cdb1(0x1c3)]()[_0x32cdb1(0x266)]()[_0x32cdb1(0x2ce)](0x2,'0');}function getDate(){const _0x29821e=_0x2c1339,_0x3707bb=shiftedTime();return _0x3707bb[_0x29821e(0x29b)]()+'/'+(_0x3707bb['getMonth']()+0x1)[_0x29821e(0x266)]()[_0x29821e(0x2ce)](0x2,'0')+'/'+_0x3707bb[_0x29821e(0x1e9)]()[_0x29821e(0x266)]()[_0x29821e(0x2ce)](0x2,'0');}function getHour(){const _0x2e2aee=_0x2c1339,_0x1dfa40=shiftedTime();return _0x1dfa40['getHours']()[_0x2e2aee(0x266)]()['padStart'](0x2,'0');}function sleep(_0x1e7a58){return new Promise(_0x27eb61=>setTimeout(_0x27eb61,_0x1e7a58));}function shiftedTime(){const _0x29b99c=_0x2c1339,_0x18232e=new Date();let _0x102832=_0x18232e;if(config&&config[_0x29b99c(0x29e)]!==0x0)_0x102832=fns[_0x29b99c(0x2cf)](_0x18232e,{'hours':config[_0x29b99c(0x29e)]});return _0x102832;}function timer(_0x14434d){const _0x2198e5=_0x2c1339,_0x4ca786=new Date();!lasttime?console[_0x2198e5(0x1d5)](_0x2198e5(0x24b),_0x14434d,_0x4ca786):console['log'](_0x2198e5(0x24b),_0x14434d,(_0x4ca786-lasttime)/0x3e8),lasttime=_0x4ca786;}