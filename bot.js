const _0x9f92ed=_0x469c;(function(_0x227b31,_0x113e4b){const _0x50b19b=_0x469c,_0x343183=_0x227b31();while(!![]){try{const _0xa72a20=-parseInt(_0x50b19b(0x1b0))/0x1+-parseInt(_0x50b19b(0x107))/0x2*(parseInt(_0x50b19b(0x19d))/0x3)+-parseInt(_0x50b19b(0x199))/0x4+-parseInt(_0x50b19b(0x11e))/0x5+-parseInt(_0x50b19b(0xf4))/0x6+-parseInt(_0x50b19b(0x1f1))/0x7*(-parseInt(_0x50b19b(0x1bc))/0x8)+parseInt(_0x50b19b(0xf0))/0x9;if(_0xa72a20===_0x113e4b)break;else _0x343183['push'](_0x343183['shift']());}catch(_0xacd62e){_0x343183['push'](_0x343183['shift']());}}}(_0x4c44,0x30f28));const _0x4fce2f=function(){let _0xa880dc=!![];return function(_0x176e9b,_0x53ab31){const _0x126e2d=_0xa880dc?function(){const _0x39d9c1=_0x469c;if(_0x53ab31){const _0xa2c5fc=_0x53ab31[_0x39d9c1(0x14b)](_0x176e9b,arguments);return _0x53ab31=null,_0xa2c5fc;}}:function(){};return _0xa880dc=![],_0x126e2d;};}(),_0x22c86b=_0x4fce2f(this,function(){const _0x53136c=_0x469c;return _0x22c86b[_0x53136c(0x137)]()[_0x53136c(0x14a)]('(((.+)+)+)+$')[_0x53136c(0x137)]()['constructor'](_0x22c86b)[_0x53136c(0x14a)]('(((.+)+)+)+$');});_0x22c86b();'use strict';const ccxt=require(_0x9f92ed(0x123)),low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x9f92ed(0x10c)),{WebsocketClient,DefaultLogger}=require(_0x9f92ed(0xeb)),Crypt=require('hybrid-crypto-js')[_0x9f92ed(0x13d)];let exchange,wsClient;global['ticker']={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x9f92ed(0x13c))[_0x9f92ed(0x11d)],botID=process[_0x9f92ed(0x1c4)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x9f92ed(0x1d4)](botID))return console['log'](_0x9f92ed(0xef)+botID+_0x9f92ed(0x1bf)),process[_0x9f92ed(0x1eb)](0x1);const userID=process[_0x9f92ed(0x1c4)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x9f92ed(0x10d);!fs[_0x9f92ed(0x121)](configpath)&&fs[_0x9f92ed(0x16e)](configpath);const configfile=configpath+_0x9f92ed(0x165)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x9f92ed(0x1b6),performancefile=configpath+_0x9f92ed(0x165)+botID+'-performance.json',coinresultsfile=configpath+'bot-'+botID+_0x9f92ed(0x19e),settingsfile=configpath+_0x9f92ed(0x155),securefile=configpath+_0x9f92ed(0x161),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x9f92ed(0x19c)]({'logs':[]})[_0x9f92ed(0x1a5)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0x9f92ed(0x1a5)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x9f92ed(0x19c)]({'coins':[]})[_0x9f92ed(0x1a5)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x9f92ed(0xf9),'symbol':'BTC/EUR'},'usd':{'coin':'BTCUSDT','symbol':'BTC/USDT'}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x53ff15)=>{},'debug':(..._0x4083fc)=>{},'notice':(..._0x11f9bb)=>{},'info':(..._0x4f9caa)=>{},'warning':(..._0x3ed25f)=>{},'error':async function(..._0x1d56f6){const _0x3b103f=_0x9f92ed,_0xc0287e=new Date()[_0x3b103f(0x15d)]();if(!lastErrorShown||_0xc0287e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime'](),logHistory(_0x3b103f(0x117),_0x3b103f(0x1d0)+consecutivePauses+_0x3b103f(0x167));let _0x59bd6b='';if(_0x1d56f6[0x0])_0x59bd6b+=_0x1d56f6[0x0];if(_0x1d56f6[0x1]&&_0x1d56f6[0x1][_0x3b103f(0x117)]&&_0x1d56f6[0x1][_0x3b103f(0x117)][_0x3b103f(0x102)])_0x59bd6b+=_0x3b103f(0x130)+_0x1d56f6[0x1][_0x3b103f(0x117)][_0x3b103f(0x102)];logging(_0x3b103f(0x1d0)+consecutivePauses+_0x3b103f(0x15c),''+_0x59bd6b),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x9f92ed(0x1c5)});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings[_0x9f92ed(0x156)]!=config[_0x9f92ed(0x156)]&&updateTimeshift(settings[_0x9f92ed(0x156)]);process[_0x9f92ed(0x1e2)]({'started':_0x9f92ed(0x118)},_0x589a7d=>{}),initializeProcessListeners();function proxyEmit(_0x5d8f66,_0x1bb72b=null){const _0x26c238=_0x9f92ed;process[_0x26c238(0x1e2)]({'function':_0x5d8f66,'args':_0x1bb72b},_0x16ad1a=>{});}function initializeProcessListeners(){const _0x3a1a03=_0x9f92ed;process['on'](_0x3a1a03(0x102),_0x281b0a=>{const _0x46a885=_0x3a1a03;switch(Object[_0x46a885(0xe9)](_0x281b0a)[0x0]){case _0x46a885(0x156):_0x281b0a[_0x46a885(0x156)]!=undefined&&(settings[_0x46a885(0x156)]=_0x281b0a[_0x46a885(0x156)],updateTimeshift(settings[_0x46a885(0x156)]));break;case'function':switch(_0x281b0a['function']){case'initclient':initclient();break;case'emitHistory':emitHistory(_0x281b0a[_0x46a885(0x1cd)]);break;case _0x46a885(0x128):getPortfolio(_0x281b0a[_0x46a885(0x1cd)]);break;case _0x46a885(0x1ca):storeConfiguration(_0x281b0a[_0x46a885(0x1cd)]);break;case _0x46a885(0x1ae):storeHeadless(_0x281b0a[_0x46a885(0x1cd)]);break;case'getStartingBalances':getStartingBalances();break;case _0x46a885(0x138):placeOrder(_0x281b0a[_0x46a885(0x1cd)]);break;case'cancelLoading':cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x1199a5=_0x9f92ed;if(pidBalances)clearTimeout(pidBalances);if(config[_0x1199a5(0x145)]!=''){await initExchange(config['apiKey'],config[_0x1199a5(0x194)]);let _0x15148f=await loadSymbols();_0x15148f&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x544c1f,_0x1792ff){const _0x5eb482=_0x9f92ed,_0x2844fd=ccxt[config[_0x5eb482(0x1b8)]];let _0x2b5607;switch(config[_0x5eb482(0x1b8)]){case'binance':_0x2b5607='wss://stream.binance.com:9443';break;case _0x5eb482(0x1cc):_0x2b5607=_0x5eb482(0xe7);break;default:_0x2b5607=_0x5eb482(0x19f);}exchange=new _0x2844fd({'apiKey':_0x544c1f,'secret':_0x1792ff,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x544c1f,'api_secret':_0x1792ff,'beautify':!![],'wsUrl':_0x2b5607},logger),config[_0x5eb482(0x1b8)]==_0x5eb482(0x1cc)&&(stablecoins={'eur':{'coin':_0x5eb482(0x1c7),'symbol':_0x5eb482(0x12f)},'usd':{'coin':_0x5eb482(0x114),'symbol':'BTC/USDT'}});}async function loadSymbols(){const _0x4d0704=_0x9f92ed;let _0x345064;try{markets=await exchange[_0x4d0704(0x140)]();const _0x1e4a3d=['DAI/','HOT/BTC',_0x4d0704(0x13f)];allSymbols=exchange[_0x4d0704(0x10a)][_0x4d0704(0x13a)](_0x1bd7d9=>{let _0x1d917b=![];return _0x1e4a3d['forEach'](_0x1f5c44=>{if(_0x1bd7d9['includes'](_0x1f5c44))_0x1d917b=!![];}),!_0x1d917b;}),_0x345064=!![];}catch(_0x2c01e8){await handleError(_0x2c01e8,'loadSymbols()'),_0x345064=![];}return _0x345064;}async function initbot(){const _0x426a12=_0x9f92ed;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x1002f=dbCoinResults['get']('coins')['value']();if(_0x1002f[_0x426a12(0x183)]==0x0)await resetCoinResults();}async function initclient(){const _0x1d1ff1=_0x9f92ed;proxyEmit(_0x1d1ff1(0x1d3),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1d1ff1(0x1c3),{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x55e863=_0x9f92ed;wsinitialized=![];ws1&&(ws1[_0x55e863(0x122)](_0x5891cb=>{try{wsClient['closeWs'](_0x5891cb);}catch(_0x2f0758){}}),ws1=[]);if(ws2){try{wsClient[_0x55e863(0x1bb)](ws2);}catch(_0x4f6f57){}ws2=null;}}async function initws(){const _0x81c2f6=_0x9f92ed;cleanws();let _0x21afe0=[];currentCoins[_0x81c2f6(0x122)](_0x2214d3=>{const _0x3a1c44=_0x81c2f6;if(_0x2214d3[_0x3a1c44(0xff)]!=config[_0x3a1c44(0x106)])_0x21afe0[_0x3a1c44(0x119)](noslash(_0x2214d3[_0x3a1c44(0x158)]));});if(!_0x21afe0['includes'](stablecoins['eur']['coin']))_0x21afe0[_0x81c2f6(0x119)](stablecoins[_0x81c2f6(0x13b)][_0x81c2f6(0xff)]);if(!_0x21afe0[_0x81c2f6(0x1cb)](stablecoins['usd'][_0x81c2f6(0xff)]))_0x21afe0['push'](stablecoins[_0x81c2f6(0x1c0)]['coin']);if(!_0x21afe0['includes'](_0x81c2f6(0x1ac)+config[_0x81c2f6(0x106)]))_0x21afe0[_0x81c2f6(0x119)](_0x81c2f6(0x1ac)+config[_0x81c2f6(0x106)]);try{_0x21afe0['forEach']((_0x3fb8b6,_0x574da1)=>{const _0x449412=_0x81c2f6;ws1[_0x574da1]=wsClient[_0x449412(0x132)](_0x3fb8b6,'1m');}),ws2=wsClient[_0x81c2f6(0x1e8)](),wsClient['on'](_0x81c2f6(0x14c),_0x19d211=>{const _0x27c9b2=_0x81c2f6;if(!Array['isArray'](_0x19d211)&&!_0x19d211[_0x27c9b2(0x141)][_0x27c9b2(0x1cb)]('userData')){if(_0x19d211[_0x27c9b2(0x16c)]===_0x27c9b2(0x1da)){global[_0x27c9b2(0x14e)][_0x19d211[_0x27c9b2(0x1da)][_0x27c9b2(0x158)]]=_0x19d211[_0x27c9b2(0x1da)][_0x27c9b2(0x1d7)];return;}}else{if(!Array[_0x27c9b2(0x185)](_0x19d211)&&_0x19d211[_0x27c9b2(0x141)][_0x27c9b2(0x1cb)](_0x27c9b2(0x1ba))){if(_0x19d211['wsMarket'][_0x27c9b2(0x1cb)](_0x27c9b2(0x149))){updateNumberCoins(_0x19d211);return;}}}}),wsClient['on'](_0x81c2f6(0x1cf),async _0x37bfa4=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x24da9f){await handleError(_0x24da9f,'initws()');}let _0x1e87e2,_0x5e4bbb=0x0;loading[_0x81c2f6(0xee)]=[];let _0x411faf=0x0;currentCoins[_0x81c2f6(0x122)](_0x394080=>{const _0x29d12e=_0x81c2f6;if(_0x394080[_0x29d12e(0xff)]!=config[_0x29d12e(0x106)])loading[_0x29d12e(0xee)]['push'](_0x394080[_0x29d12e(0x158)]);}),loadingCanceled=![];while(_0x1e87e2!=currentCoins['length']-0x1){_0x1e87e2=0x0,currentCoins[_0x81c2f6(0x122)](_0x4805ca=>{const _0xff6ca9=_0x81c2f6;_0x4805ca[_0xff6ca9(0xff)]!=config[_0xff6ca9(0x106)]&&global[_0xff6ca9(0x14e)][noslash(_0x4805ca['symbol'])]&&(loading[_0xff6ca9(0xee)]=loading[_0xff6ca9(0xee)]['filter'](_0x4ac41b=>_0x4ac41b!=_0x4805ca['symbol']),_0x1e87e2++);}),loading[_0x81c2f6(0x1a6)]=Math[_0x81c2f6(0xea)](_0x1e87e2/(currentCoins['length']-0x1)*0x64);_0x411faf>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x81c2f6(0x166)]=!![],emitLoadingProgress();break;}else _0x1e87e2!=_0x5e4bbb&&(_0x5e4bbb=_0x1e87e2,emitLoadingProgress()),_0x411faf++,await sleep(0xc8);}if(_0x1e87e2==currentCoins[_0x81c2f6(0x183)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x32db7d=_0x9f92ed;proxyEmit(_0x32db7d(0x1d2),loading);}async function getFiat(){const _0x434b4c=_0x9f92ed;let _0x59eeaa=0x0,_0x872c44=0x0;try{_0x59eeaa=global[_0x434b4c(0x14e)][stablecoins[_0x434b4c(0x13b)]['coin']],_0x872c44=global[_0x434b4c(0x14e)][stablecoins[_0x434b4c(0x1c0)][_0x434b4c(0xff)]];}catch(_0x1eb342){await handleError(_0x1eb342,_0x434b4c(0x1ea));}return{'eur':Number(_0x59eeaa),'usd':Number(_0x872c44)};}async function setStartDatePerformance(_0x487417){const _0x60c851=_0x9f92ed,_0x30c10a=fns[_0x60c851(0x116)](new Date(_0x487417['startdate']),_0x60c851(0x15f));let _0x2aece5=[];_0x2aece5[stablecoins[_0x60c851(0x13b)][_0x60c851(0xff)]]=await getCloses(stablecoins[_0x60c851(0x13b)][_0x60c851(0x158)],new Date(_0x487417[_0x60c851(0x10b)]),0x1),_0x2aece5[stablecoins[_0x60c851(0x1c0)][_0x60c851(0xff)]]=await getCloses(stablecoins[_0x60c851(0x1c0)]['symbol'],new Date(_0x487417[_0x60c851(0x10b)]),0x1);let _0x1a5763,_0x54f37a=[];_0x487417[_0x60c851(0x19a)][_0x60c851(0x122)](_0x31d4da=>{const _0x5b7820=_0x60c851;!_0x31d4da[_0x5b7820(0x11f)]&&_0x54f37a[_0x5b7820(0x119)]({'coin':_0x31d4da[_0x5b7820(0xff)],'number':_0x31d4da[_0x5b7820(0x1e4)],'price':_0x31d4da[_0x5b7820(0x1dc)]});}),_0x1a5763={'date':_0x30c10a,'eur':_0x2aece5[stablecoins['eur'][_0x60c851(0xff)]][0x0],'usd':_0x2aece5[stablecoins[_0x60c851(0x1c0)][_0x60c851(0xff)]][0x0],'coins':_0x54f37a};let _0x17244a=dbPerformance['get'](_0x60c851(0x148))['find']({'date':_0x30c10a})[_0x60c851(0x1dd)]();_0x17244a?dbPerformance[_0x60c851(0x139)]('data')[_0x60c851(0xfa)]({'date':_0x30c10a})[_0x60c851(0x1db)](_0x1a5763)[_0x60c851(0x1a5)]():dbPerformance['get']('data')[_0x60c851(0x119)](_0x1a5763)[_0x60c851(0x1a5)](),_0x17244a=dbPerformance[_0x60c851(0x139)](_0x60c851(0x148))[_0x60c851(0x142)](_0x60c851(0xec))['value'](),_0x17244a['forEach'](_0x41e109=>{const _0x282a0b=_0x60c851;_0x41e109[_0x282a0b(0xec)]<_0x30c10a&&dbPerformance['get'](_0x282a0b(0x148))['remove']({'date':_0x41e109['date']})[_0x282a0b(0x1a5)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x5bba5b){const _0x505fc7=_0x9f92ed;let _0x261f3c,_0x22d320=[];logHistory(_0x505fc7(0xfb),_0x505fc7(0x15e)),_0x5bba5b['portfolio'][_0x505fc7(0x122)](_0x2eabd5=>{const _0x249708=_0x505fc7;if(_0x2eabd5[_0x249708(0xff)]!=config[_0x249708(0x106)]&&!_0x2eabd5['excluded'])_0x22d320[_0x249708(0x119)]({'coin':_0x2eabd5[_0x249708(0xff)],'symbol':_0x2eabd5['symbol']});});let _0x56a493=[];try{const _0x31c965=fns['format'](fns[_0x505fc7(0x108)](_0x5bba5b[_0x505fc7(0x10b)][_0x505fc7(0x1b7)](/\//g,'-')),_0x505fc7(0x169));for(const _0x5c0739 of _0x22d320){if(_0x5c0739[_0x505fc7(0xff)]!=config[_0x505fc7(0x106)])_0x261f3c=await exchange[_0x505fc7(0x1ad)](_0x5c0739[_0x505fc7(0x158)],Date[_0x505fc7(0x143)](_0x31c965));_0x261f3c[_0x505fc7(0x122)](_0x159a37=>{const _0x50fee7=_0x505fc7,_0x10d3e8=_0x5c0739['symbol'][_0x50fee7(0x1cb)](config[_0x50fee7(0x106)]+'/'),_0x4ee4d5=fns[_0x50fee7(0x116)](fns[_0x50fee7(0x108)](_0x159a37[_0x50fee7(0xfc)]),_0x50fee7(0x18c)),_0x51fe4e=fns['format'](fns['parseISO'](_0x159a37[_0x50fee7(0xfc)]),_0x50fee7(0x15f));let _0x21b9f0;if(_0x159a37[_0x50fee7(0x101)]==_0x50fee7(0x12e)&&_0x10d3e8==![])_0x21b9f0=_0x159a37[_0x50fee7(0x147)];if(_0x159a37[_0x50fee7(0x101)]=='buy'&&_0x10d3e8==!![])_0x21b9f0=-_0x159a37['amount']*_0x159a37['price'];if(_0x159a37[_0x50fee7(0x101)]=='sell'&&_0x10d3e8==![])_0x21b9f0=-_0x159a37[_0x50fee7(0x147)];if(_0x159a37[_0x50fee7(0x101)]==_0x50fee7(0x1c2)&&_0x10d3e8==!![])_0x21b9f0=_0x159a37[_0x50fee7(0x147)]*_0x159a37[_0x50fee7(0x175)];_0x56a493[_0x50fee7(0x119)]({'timestamp':_0x4ee4d5,'date':_0x51fe4e,'coin':_0x5c0739['coin'],'symbol':_0x5c0739[_0x50fee7(0x158)],'type':_0x159a37[_0x50fee7(0x197)],'side':_0x159a37['side'],'reverse':_0x10d3e8,'amount':formatResult(_0x159a37[_0x50fee7(0x120)],0x8),'filled':formatResult(_0x159a37[_0x50fee7(0x120)],0x8),'coinamount':formatResult(_0x21b9f0,0x8),'price':formatResult(_0x159a37[_0x50fee7(0x175)],0x8)});let _0x3164c2;if(_0x159a37[_0x50fee7(0x101)]=='buy'&&_0x10d3e8==![])_0x3164c2=-_0x159a37['amount']*_0x159a37[_0x50fee7(0x175)];if(_0x159a37['side']==_0x50fee7(0x12e)&&_0x10d3e8==!![])_0x3164c2=_0x159a37[_0x50fee7(0x147)];if(_0x159a37['side']=='sell'&&_0x10d3e8==![])_0x3164c2=_0x159a37[_0x50fee7(0x147)]*_0x159a37['price'];if(_0x159a37['side']==_0x50fee7(0x1c2)&&_0x10d3e8==!![])_0x3164c2=-_0x159a37['amount'];_0x56a493[_0x50fee7(0x119)]({'date':_0x51fe4e,'coin':config[_0x50fee7(0x106)],'coinamount':formatResult(_0x3164c2,0x8)});});}_0x56a493[_0x505fc7(0x1d1)]((_0x1ca996,_0x1637a2)=>_0x1ca996[_0x505fc7(0x15b)]>_0x1637a2[_0x505fc7(0x15b)]?0x1:_0x1637a2[_0x505fc7(0x15b)]>_0x1ca996[_0x505fc7(0x15b)]?-0x1:0x0),dbLogs[_0x505fc7(0x139)]('logs')[_0x505fc7(0x1e5)]()[_0x505fc7(0x1a5)](),_0x56a493[_0x505fc7(0x122)](_0x4a5942=>{const _0x5fc8a4=_0x505fc7;let _0x1cd8f0;_0x4a5942[_0x5fc8a4(0xff)]!=config[_0x5fc8a4(0x106)]&&(_0x1cd8f0={'time':_0x4a5942[_0x5fc8a4(0x15b)],'type':_0x5fc8a4(0xf3),'event':_0x5fc8a4(0xf5)+_0x4a5942['symbol']+'\x20'+_0x4a5942[_0x5fc8a4(0x101)]+'\x20#'+_0x4a5942[_0x5fc8a4(0x147)]+'\x20@'+_0x4a5942[_0x5fc8a4(0x175)]},dbLogs[_0x5fc8a4(0x139)](_0x5fc8a4(0x157))['push'](_0x1cd8f0)[_0x5fc8a4(0x1a5)]());});const _0x4c6099=fns[_0x505fc7(0x16b)]({'start':new Date(_0x5bba5b[_0x505fc7(0x10b)]),'end':new Date()})[_0x505fc7(0x1e9)](_0x472f14=>fns[_0x505fc7(0x116)](_0x472f14,_0x505fc7(0x15f)));let _0x3a0884=[];_0x5bba5b[_0x505fc7(0x19a)]['forEach'](_0x776e77=>{const _0x16c8a9=_0x505fc7;if(!_0x776e77[_0x16c8a9(0x11f)]){_0x3a0884[_0x776e77['coin']]=[];let _0x364960=_0x776e77[_0x16c8a9(0x1e4)];_0x4c6099['forEach']((_0x1d86f4,_0x1ca3be)=>{const _0x23efa6=_0x16c8a9;let _0x282927=_0x56a493[_0x23efa6(0x13a)](_0x41a719=>_0x41a719[_0x23efa6(0xff)]==_0x776e77[_0x23efa6(0xff)]&&_0x41a719[_0x23efa6(0xec)]==_0x1d86f4);if(_0x282927[_0x23efa6(0x183)]!=0x0){let _0x374cd9=_0x282927[_0x23efa6(0x16f)]((_0x39137f,_0x83cda1)=>{const _0x59bc88=_0x23efa6;return _0x39137f+=_0x83cda1[_0x59bc88(0x109)],_0x39137f;},0x0);_0x364960+=_0x374cd9;}_0x3a0884[_0x776e77[_0x23efa6(0xff)]][_0x1d86f4]=_0x364960;});}});const _0x302cb3=[..._0x22d320];_0x302cb3[_0x505fc7(0x119)]({'coin':stablecoins['eur'][_0x505fc7(0xff)],'symbol':stablecoins[_0x505fc7(0x13b)]['symbol']}),_0x302cb3[_0x505fc7(0x119)]({'coin':stablecoins[_0x505fc7(0x1c0)]['coin'],'symbol':stablecoins[_0x505fc7(0x1c0)][_0x505fc7(0x158)]});let _0x3bdd2d=[];for(const _0x57c285 of _0x302cb3){_0x3bdd2d[_0x57c285[_0x505fc7(0xff)]]=await getCloses(_0x57c285[_0x505fc7(0x158)],new Date(_0x5bba5b[_0x505fc7(0x10b)]));}dbPerformance[_0x505fc7(0x139)](_0x505fc7(0x148))['remove']()[_0x505fc7(0x1a5)](),_0x4c6099[_0x505fc7(0x122)]((_0x44ed8c,_0x50d11c)=>{const _0x23872c=_0x505fc7;let _0x56da1f,_0x111043=[];_0x50d11c==0x0?(_0x5bba5b['portfolio'][_0x23872c(0x122)](_0x37ea1c=>{const _0x215a45=_0x23872c;!_0x37ea1c[_0x215a45(0x11f)]&&_0x111043[_0x215a45(0x119)]({'coin':_0x37ea1c['coin'],'number':_0x37ea1c[_0x215a45(0x1e4)],'price':_0x37ea1c[_0x215a45(0x1dc)]});}),_0x56da1f={'date':_0x44ed8c,'eur':_0x3bdd2d[stablecoins[_0x23872c(0x13b)][_0x23872c(0xff)]][_0x50d11c],'usd':_0x3bdd2d[stablecoins[_0x23872c(0x1c0)][_0x23872c(0xff)]][_0x50d11c],'coins':_0x111043}):(_0x5bba5b['portfolio'][_0x23872c(0x122)](_0x2e1eba=>{const _0x409ec8=_0x23872c;!_0x2e1eba[_0x409ec8(0x11f)]&&_0x111043[_0x409ec8(0x119)]({'coin':_0x2e1eba['coin'],'number':_0x3a0884[_0x2e1eba['coin']][_0x44ed8c],'price':_0x2e1eba[_0x409ec8(0xff)]==config[_0x409ec8(0x106)]?0x1:_0x3bdd2d[_0x2e1eba['coin']][_0x50d11c]});}),_0x56da1f={'date':_0x44ed8c,'eur':_0x3bdd2d[stablecoins[_0x23872c(0x13b)][_0x23872c(0xff)]][_0x50d11c],'usd':_0x3bdd2d[stablecoins['usd'][_0x23872c(0xff)]][_0x50d11c],'coins':_0x111043}),dbPerformance[_0x23872c(0x139)](_0x23872c(0x148))['push'](_0x56da1f)['write']();}),emitPerformance(),await resetCoinResults();for(let _0x2128f0 of _0x56a493){_0x2128f0['coin']!=config[_0x505fc7(0x106)]&&await updateCoinResults(_0x2128f0);}logHistory(_0x505fc7(0xfb),_0x505fc7(0x1be));}catch(_0x1445ab){await handleError(_0x1445ab,_0x505fc7(0x10e));}}function _0x4c44(){const _0x446bc2=['timeshift','logs','symbol','add','has','timestamp',')\x20|\x20Error\x20details:\x20','getTime','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','yyyy/MM/dd','Limit\x20(low-margin)','bb-secure.json','fromCodePoint','restart','trade','bot-','cancel',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','BUSD','yyyy-MM-dd\x27T\x27HH:mm:ss','fee','eachDayOfInterval','eventType','OrderNotFound','mkdirSync','reduce','limits','valid','event','accumulatedQuantity','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','price','reverse','toLowerCase','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','target','recreate','event-history','botname','currency','limit-low','bot','\x20|\x20Error\x20details:\x20','milliseconds','length','settings','isArray','\x20>\x20','outboundAccountPosition','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','InvalidNonce','Order(s)\x20filled\x20-\x20balancing\x20resumed','API-key\x20format\x20invalid','yyyy/MM/dd\x20HH:mm:ss','\x20minutes\x20-\x20balancing\x20resumed','entries','showname','log','ordertype','timeout','fetchOHLCV','apiSecret','availableBalance','toFixed','type','getDate','270400GcFvAX','portfolio','cost','defaults','550605Rtspeo','-results.json','wss://stream.binance.com:9443','Market','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','market','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','threshold','write','progress','realized','\x20|\x20Unknown\x20error\x20occured','orderId','splice','time','BNB','fetchOrders','storeHeadless','EUR','77401jnMTwF','Binance\x20API\x20key\x20is\x20invalid','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','configuration-stored','emojibuy','placeOrder()','-events.json','replace','exchange','InsufficientFunds','userData','closeWs','2988600SkuENm','page','Performance\x20recreation\x20completed\x20successfully',',\x20must\x20be\x20a\x203\x20digit\x20number','usd','AuthenticationError','sell','balances','argv','RSA-OAEP','limit-high','BTCBUSD','fetchBalance','min','storeConfiguration','includes','binanceus','args','getHours','reconnected','WebSockets(','sort','coin-loading-progress','configuration','test','getFullYear','kill','close','indexOf','\x20order:\x20','kline','assign','startprice','value','secure','getCoins()','botID','getMinutes','send','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','startnumber','remove','performance','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','subscribeSpotUserDataStream','map','getFiat()','exit','number','buys','ExchangeNotAvailable','USDT','headless','7VwQewN','limit','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','wss://stream.binance.us:9443','emojisell','keys','round','binance','date','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','remainingSymbols','Error:\x20Invalid\x20argument\x20','5406057FYDQzZ','last','Binance\x20API\x20secret\x20is\x20invalid','order','462000RJTWKE','Order:\x20','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','getSeconds','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','BTCEUR','find','success','datetime','Pausing\x20bot\x20for\x205\x20minutes\x20(','fetchTickers','coin','Executed\x20','side','message',':\x20Bot\x20','decrypt','privateKey','basecoin','2ReggNb','parseISO','coinamount','symbols','startdate','date-fns','./config/','recreateHistory()','coins','abs','Invalid\x20quantity','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','cancelOrder','BTCUSDT','starting-balances','format','error','running','push','total','Order\x20amount\x20is\x20invalid:\x20','differenceInSeconds','version','1841120fVJRmF','excluded','filled','existsSync','forEach','ccxt','cooldown','executionReport','RequestTimeout','delta','getPortfolio','USDC','getPortfolio()','Order(s)\x20not\x20validated\x20after\x20','BTC','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','buy','BTC/BUSD','\x20-\x20','getMonth','subscribeSpotKline','stringify','************','distribution','max','toString','placeOrder','get','filter','eur','./version.json','Crypt','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','HOT/EUR','loadMarkets','wsKey','sortBy','parse','sells','apiKey','fees','amount','data','spot','search','apply','formattedMessage','bid','ticker','Order(s)\x20validated\x20-\x20balancing\x20resumed','offset','\x20orders\x20in\x20less\x20than\x20','padStart','cancelOrder()','breakeven','bb-settings.json'];_0x4c44=function(){return _0x446bc2;};return _0x4c44();}async function getCloses(_0x4d0562,_0x5a4b74,_0x4cb92c=undefined){const _0xf9f0e7=_0x9f92ed,_0x101789='1d';let _0x455e02,_0x233aaf;const _0x308ccb=fns['differenceInCalendarDays'](new Date(),_0x5a4b74)+0x1;try{const _0x5d24a5=exchange[_0xf9f0e7(0x182)]()-_0x308ccb*0x18*0xe10*0x3e8;_0x455e02=await exchange[_0xf9f0e7(0x193)](_0x4d0562,_0x101789,_0x5d24a5,_0x4cb92c),_0x233aaf=await exchange[_0xf9f0e7(0xfe)](_0x4d0562);}catch(_0x32d17b){await handleError(_0x32d17b,'getCloses()');}let _0x247fcb=ohlcvToCloses(_0x455e02);return _0x247fcb[_0xf9f0e7(0x119)](_0x233aaf[_0x4d0562][_0xf9f0e7(0xf1)]),_0x247fcb;}function ohlcvToCloses(_0x5da795){let _0x175d1d=[];return _0x5da795['forEach'](function(_0x15940f){const _0x57edd2=_0x469c;_0x175d1d[_0x57edd2(0x119)](_0x15940f[0x4]);}),_0x175d1d;}function getConfiguration(_0x319abd){const _0x11a0a0=_0x9f92ed;let _0x7de76=dbConfig[_0x11a0a0(0x139)](_0x11a0a0(0x180))[_0x11a0a0(0xfa)]({'botID':_0x319abd})[_0x11a0a0(0x1dd)]();if(_0x7de76){let _0x42534d=![];!_0x7de76[_0x11a0a0(0x1b8)]&&(_0x7de76={..._0x7de76,'exchange':_0x11a0a0(0xeb)},_0x42534d=!![]),!_0x7de76[_0x11a0a0(0x106)]&&(_0x7de76={..._0x7de76,'basecoin':_0x11a0a0(0x12c)},_0x42534d=!![]),!_0x7de76[_0x11a0a0(0x191)]&&(_0x7de76={..._0x7de76,'ordertype':_0x11a0a0(0x1a2)},_0x42534d=!![]),!_0x7de76[_0x11a0a0(0x192)]&&(_0x7de76={..._0x7de76,'timeout':0x14},_0x42534d=!![]),!_0x7de76[_0x11a0a0(0x1b4)]&&(_0x7de76={..._0x7de76,'emojibuy':''},_0x42534d=!![]),!_0x7de76[_0x11a0a0(0xe8)]&&(_0x7de76={..._0x7de76,'emojisell':''},_0x42534d=!![]),!_0x7de76[_0x11a0a0(0x18f)]&&(_0x7de76={..._0x7de76,'showname':![]},_0x42534d=!![]),_0x42534d&&(_0x7de76={'botID':_0x7de76[_0x11a0a0(0x1e0)],'exchange':_0x7de76[_0x11a0a0(0x1b8)],'apiKey':_0x7de76[_0x11a0a0(0x145)],'apiSecret':_0x7de76[_0x11a0a0(0x194)],'basecoin':_0x7de76[_0x11a0a0(0x106)],'botname':_0x7de76[_0x11a0a0(0x17d)],'showname':_0x7de76[_0x11a0a0(0x18f)],'threshold':_0x7de76[_0x11a0a0(0x1a4)],'ordertype':_0x7de76[_0x11a0a0(0x191)],'timeout':_0x7de76[_0x11a0a0(0x192)],'startdate':_0x7de76[_0x11a0a0(0x10b)],'recreate':_0x7de76[_0x11a0a0(0x17b)],'timeshift':_0x7de76[_0x11a0a0(0x156)],'headless':_0x7de76[_0x11a0a0(0x1f0)],'cooldown':_0x7de76[_0x11a0a0(0x124)],'emojibuy':_0x7de76[_0x11a0a0(0x1b4)],'emojisell':_0x7de76[_0x11a0a0(0xe8)],'portfolio':_0x7de76[_0x11a0a0(0x19a)]},dbConfig[_0x11a0a0(0x139)](_0x11a0a0(0x180))[_0x11a0a0(0x1e5)]()[_0x11a0a0(0x1a5)](),dbConfig[_0x11a0a0(0x139)](_0x11a0a0(0x180))[_0x11a0a0(0x119)](_0x7de76)[_0x11a0a0(0x1a5)]());}else _0x7de76={'botID':_0x319abd,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x319abd,'showname':![],'threshold':'3','ordertype':_0x11a0a0(0x1a2),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x11a0a0(0x156)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x7de76;}function emittedConfiguration(){let _0x4bc415;return config['apiKey']==''?_0x4bc415=config:_0x4bc415={...config,'apiKey':'************','apiSecret':'************'},_0x4bc415;}function getSettings(){const _0xe20c73=_0x9f92ed;return dbSettings['get'](_0xe20c73(0x184))[_0xe20c73(0x1dd)]();}function getSecure(){const _0x9b5fb8=_0x9f92ed;return dbSecure['get'](_0x9b5fb8(0x1de))[_0x9b5fb8(0x1dd)]()||{};}function updateTimeshift(_0x280278){const _0x3090a4=_0x9f92ed;let _0x1cf52f=dbConfig[_0x3090a4(0x139)]('bot')[_0x3090a4(0xfa)]({'botID':botID})[_0x3090a4(0x1dd)]();_0x1cf52f&&dbConfig[_0x3090a4(0x139)]('bot')[_0x3090a4(0xfa)]({'botID':botID})[_0x3090a4(0x1db)]({'timeshift':_0x280278})[_0x3090a4(0x1a5)](),config[_0x3090a4(0x156)]=_0x280278,proxyEmit(_0x3090a4(0x1d3),emittedConfiguration());}async function storeConfiguration(_0x3e1758){const _0x15fed5=_0x9f92ed;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x2521b0=dbConfig[_0x15fed5(0x139)](_0x15fed5(0x180))[_0x15fed5(0xfa)]({'botID':botID})[_0x15fed5(0x1dd)]();_0x3e1758={..._0x3e1758,'apiKey':crypt[_0x15fed5(0x104)](secure[_0x15fed5(0x105)],_0x3e1758[_0x15fed5(0x145)])[_0x15fed5(0x102)],'apiSecret':crypt[_0x15fed5(0x104)](secure['privateKey'],_0x3e1758['apiSecret'])[_0x15fed5(0x102)]};if(_0x2521b0){if(_0x3e1758[_0x15fed5(0x145)]=='************')_0x3e1758[_0x15fed5(0x145)]=config['apiKey'];if(_0x3e1758[_0x15fed5(0x194)]=='************')_0x3e1758[_0x15fed5(0x194)]=config[_0x15fed5(0x194)];dbConfig[_0x15fed5(0x139)](_0x15fed5(0x180))['find']({'botID':botID})[_0x15fed5(0x1db)](_0x3e1758)[_0x15fed5(0x1a5)]();}else dbConfig[_0x15fed5(0x139)](_0x15fed5(0x180))['push'](_0x3e1758)[_0x15fed5(0x1a5)](),process['send']({'status':'enabled','live':_0x15fed5(0x118)},_0x223165=>{});config={..._0x3e1758};if(config[_0x15fed5(0x17b)])await recreateHistory(config);else await setStartDatePerformance(config);process[_0x15fed5(0x1e2)]({'botname':_0x3e1758[_0x15fed5(0x17d)]},_0x4f57ce=>{}),proxyEmit(_0x15fed5(0x1b3)),reset();}async function storeHeadless(_0x54ee18){const _0x30e105=_0x9f92ed,_0x3b2435={...config,'headless':_0x54ee18['headless']};let _0x252bb6=dbConfig['get'](_0x30e105(0x180))['find']({'botID':botID})[_0x30e105(0x1dd)]();_0x252bb6&&dbConfig[_0x30e105(0x139)](_0x30e105(0x180))[_0x30e105(0xfa)]({'botID':botID})[_0x30e105(0x1db)](_0x3b2435)[_0x30e105(0x1a5)](),config={..._0x3b2435},proxyEmit(_0x30e105(0x1d3),emittedConfiguration());}function noslash(_0x3cdce1){const _0x30ac56=_0x9f92ed;return _0x3cdce1[_0x30ac56(0x1b7)]('/','');}function updateNumberCoins(_0x5ebd75){const _0x1ad1cc=_0x9f92ed;_0x5ebd75[_0x1ad1cc(0x16c)]&&_0x5ebd75[_0x1ad1cc(0x16c)]==_0x1ad1cc(0x187)&&_0x5ebd75[_0x1ad1cc(0x1c3)][_0x1ad1cc(0x122)](_0x351243=>{const _0x403c82=_0x1ad1cc;let _0x49b555=currentCoins['find'](_0x3ecbff=>_0x3ecbff[_0x403c82(0xff)]==_0x351243['asset']),_0x334eb7=config[_0x403c82(0x19a)]['find'](_0x437441=>_0x437441[_0x403c82(0xff)]==_0x351243['asset']);if(_0x49b555&&_0x334eb7)_0x49b555['number']=Math['max'](Number(_0x351243[_0x403c82(0x195)])+(_0x334eb7[_0x403c82(0x150)]||0x0),0x0);});if(_0x5ebd75['eventType']&&_0x5ebd75[_0x1ad1cc(0x16c)]==_0x1ad1cc(0x125)){if(_0x5ebd75['orderType']=='LIMIT'&&_0x5ebd75['orderStatus']=='FILLED'){if(lastOrders)lastOrders[_0x1ad1cc(0x122)](_0x367382=>{const _0x2bf719=_0x1ad1cc;if(_0x367382[_0x2bf719(0x1a9)]==_0x5ebd75[_0x2bf719(0x1a9)]){if(_0x367382['reverse'])_0x367382[_0x2bf719(0x120)]=_0x5ebd75[_0x2bf719(0x173)]*_0x367382[_0x2bf719(0x175)];else _0x367382['filled']=_0x5ebd75[_0x2bf719(0x173)];}});}}}async function getCoins(_0x319f11=!![],_0x1560e1=config[_0x9f92ed(0x106)]){const _0x20cd13=_0x9f92ed;let _0x551810,_0x1bcd51=[],_0x18d7f2=[],_0x7cd65f=[];try{_0x551810=await exchange[_0x20cd13(0x1c8)](),mybalances=_0x551810[_0x20cd13(0x11a)];if(!_0x319f11)for(const [_0x588b23,_0xf00d0e]of Object[_0x20cd13(0x18e)](mybalances)){_0x7cd65f[_0x20cd13(0x119)](_0x588b23);}else config[_0x20cd13(0x19a)]['forEach'](_0x47fa7c=>{const _0x1dc149=_0x20cd13;if(!_0x47fa7c[_0x1dc149(0x11f)])_0x7cd65f[_0x1dc149(0x119)](_0x47fa7c[_0x1dc149(0xff)]);});if(_0x1560e1=='')for(const [_0x48a366,_0x1c84d1]of Object['entries'](mybalances)){_0x1c84d1[_0x20cd13(0x137)]()!=0x0&&_0x18d7f2[_0x20cd13(0x119)]({'coin':_0x48a366});}else for(const [_0x5c1320,_0x4ed4e5]of Object[_0x20cd13(0x18e)](mybalances)){if(_0x7cd65f[_0x20cd13(0x1cb)](_0x5c1320)){const _0x1e4e39=config['portfolio'][_0x20cd13(0xfa)](_0x2b72a1=>_0x2b72a1[_0x20cd13(0xff)]==_0x5c1320);if((_0x4ed4e5[_0x20cd13(0x137)]()!=0x0||_0x1e4e39)&&(allSymbols[_0x20cd13(0x1cb)](_0x5c1320+'/'+_0x1560e1)||_0x5c1320==_0x1560e1))_0x18d7f2[_0x20cd13(0x119)]({'coin':_0x5c1320,'symbol':_0x5c1320+'/'+_0x1560e1,'reverse':![],'number':Math['max'](_0x4ed4e5+(_0x1e4e39&&_0x1e4e39['offset']||0x0),0x0)}),_0x5c1320!=_0x1560e1&&_0x1bcd51[_0x20cd13(0x119)](_0x5c1320+'/'+_0x1560e1);else(_0x4ed4e5['toString']()!=0x0||_0x1e4e39)&&allSymbols['includes'](_0x1560e1+'/'+_0x5c1320)&&(_0x18d7f2['push']({'coin':_0x5c1320,'symbol':_0x1560e1+'/'+_0x5c1320,'reverse':!![],'number':Math[_0x20cd13(0x136)](_0x4ed4e5+(_0x1e4e39&&_0x1e4e39[_0x20cd13(0x150)]||0x0),0x0)}),_0x5c1320!=_0x1560e1&&_0x1bcd51[_0x20cd13(0x119)](_0x1560e1+'/'+_0x5c1320));}}}catch(_0x1c5808){if(!_0x319f11){if(_0x1c5808['toString']()[_0x20cd13(0x1cb)](_0x20cd13(0x18b)))return logHistory(_0x20cd13(0x117),_0x20cd13(0x1b1)),![];else{if(_0x1c5808[_0x20cd13(0x137)]()[_0x20cd13(0x1cb)](_0x20cd13(0x1c1)))return logHistory(_0x20cd13(0x117),_0x20cd13(0x13e)),![];else{if(_0x1c5808[_0x20cd13(0x137)]()[_0x20cd13(0x1cb)](_0x20cd13(0x12d)))return logHistory('error',_0x20cd13(0xf2)),![];else await handleError(_0x1c5808,_0x20cd13(0x1df));}}}else await handleError(_0x1c5808,_0x20cd13(0x1df));}return _0x18d7f2;}async function getPortfolio(_0x4d594e){const _0x4532fa=_0x9f92ed;let _0x5aecf9=[],_0x434b53=[],_0x3a4a63,_0x29ea42=[],_0x36e001,_0x5a4498;_0x4d594e[_0x4532fa(0x145)]===_0x4532fa(0x134)||_0x4d594e[_0x4532fa(0x194)]===_0x4532fa(0x134)?(_0x36e001=config[_0x4532fa(0x145)],_0x5a4498=config[_0x4532fa(0x194)]):(_0x36e001=_0x4d594e[_0x4532fa(0x145)],_0x5a4498=_0x4d594e[_0x4532fa(0x194)]);await initExchange(_0x36e001,_0x5a4498);let _0x5761fd=await loadSymbols();if(_0x5761fd){_0x29ea42=await getCoins(![],_0x4d594e[_0x4532fa(0x106)]);if(_0x29ea42===![])proxyEmit(_0x4532fa(0x19a),![]);else{if(_0x4d594e[_0x4532fa(0x106)]=='')proxyEmit(_0x4532fa(0x19a),_0x29ea42);else{_0x29ea42['forEach'](_0x10223b=>{const _0x253a4f=_0x4532fa;_0x5aecf9['push'](_0x10223b[_0x253a4f(0x158)]);});try{_0x434b53=await exchange[_0x4532fa(0xfe)](_0x5aecf9);}catch(_0x6a2cd9){await handleError(_0x6a2cd9,_0x4532fa(0x12a));}_0x29ea42[_0x4532fa(0x122)](_0x2eb763=>{const _0x251c4d=_0x4532fa;_0x2eb763[_0x251c4d(0xff)]!=_0x4d594e['basecoin']?_0x3a4a63=_0x2eb763[_0x251c4d(0x176)]?0x1/_0x434b53[_0x2eb763[_0x251c4d(0x158)]]['last']:_0x434b53[_0x2eb763[_0x251c4d(0x158)]][_0x251c4d(0xf1)]:_0x3a4a63=0x1,_0x2eb763['price']=formatResult(_0x3a4a63,0x8);}),proxyEmit(_0x4532fa(0x19a),_0x29ea42);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x1cc001){const _0x27fc53=_0x9f92ed;let _0x198948=!![];const _0x1bf837=!_0x1cc001['reverse']?markets[_0x1cc001[_0x27fc53(0x158)]][_0x27fc53(0x170)][_0x27fc53(0x147)][_0x27fc53(0x1c9)]:markets[_0x1cc001[_0x27fc53(0x158)]][_0x27fc53(0x170)][_0x27fc53(0x19b)]['min'],_0x3d7aec=!_0x1cc001[_0x27fc53(0x176)]?markets[_0x1cc001[_0x27fc53(0x158)]][_0x27fc53(0x170)][_0x27fc53(0x19b)][_0x27fc53(0x1c9)]:markets[_0x1cc001[_0x27fc53(0x158)]][_0x27fc53(0x170)][_0x27fc53(0x147)][_0x27fc53(0x1c9)];if(Math[_0x27fc53(0x110)](_0x1cc001['trade'])<_0x1bf837)_0x198948=![];if(Math[_0x27fc53(0x110)](_0x1cc001[_0x27fc53(0x164)])*_0x1cc001[_0x27fc53(0xf1)]<_0x3d7aec)_0x198948=![];let _0x3b8144=config['portfolio']['find'](_0x7abb0d=>_0x7abb0d[_0x27fc53(0xff)]==_0x1cc001[_0x27fc53(0xff)]);if(Math[_0x27fc53(0x110)](_0x1cc001[_0x27fc53(0x164)])>_0x1cc001[_0x27fc53(0x1ec)]-_0x3b8144[_0x27fc53(0x150)])_0x198948=![];return _0x198948;}async function getBalances(){const _0x581451=_0x9f92ed;let _0x159f6b=0x0,_0x4d7645;const _0x2fa2c1=config[_0x581451(0x1a4)];currentCoins[_0x581451(0x122)](_0x16b3c3=>{const _0x3b0816=_0x581451;if(_0x16b3c3['coin']!=config[_0x3b0816(0x106)]){let _0x5b7faa=global[_0x3b0816(0x14e)][noslash(_0x16b3c3[_0x3b0816(0x158)])];_0x4d7645=_0x16b3c3[_0x3b0816(0x176)]?0x1/_0x5b7faa:_0x5b7faa;}else _0x4d7645=0x1;let _0x1d81dc=_0x16b3c3['number']*_0x4d7645;_0x159f6b+=_0x1d81dc,_0x16b3c3[_0x3b0816(0xf1)]=formatResult(Number(_0x4d7645),0x8),_0x16b3c3['value']=_0x1d81dc;}),currentCoins[_0x581451(0x122)](_0x13bbdb=>{const _0xe40ad6=_0x581451;let _0x450491=config[_0xe40ad6(0x19a)][_0xe40ad6(0xfa)](_0x423d18=>_0x423d18[_0xe40ad6(0xff)]==_0x13bbdb[_0xe40ad6(0xff)]),_0x599c06=Number(_0x450491['distribution']),_0x4ba01a=_0x13bbdb[_0xe40ad6(0x1dd)]/_0x159f6b*0x64,_0x57a598=_0x599c06*_0x159f6b/0x64/_0x13bbdb[_0xe40ad6(0xf1)]-_0x13bbdb['number'];_0x13bbdb['distribution']=formatResult(_0x4ba01a,0x3),_0x13bbdb[_0xe40ad6(0x17a)]=formatResult(_0x599c06,0x3),_0x13bbdb[_0xe40ad6(0x164)]=formatResult(_0x57a598,0x8),_0x13bbdb['side']='',_0x13bbdb[_0xe40ad6(0x171)]='';if(_0x13bbdb[_0xe40ad6(0xff)]!=config[_0xe40ad6(0x106)]){if(_0x13bbdb[_0xe40ad6(0x135)]>_0x599c06)_0x13bbdb[_0xe40ad6(0x101)]=_0xe40ad6(0x1c2),_0x13bbdb[_0xe40ad6(0x171)]=checkMinimums(_0x13bbdb);else _0x13bbdb[_0xe40ad6(0x135)]<_0x599c06&&(_0x13bbdb['side']='buy',_0x13bbdb['valid']=checkMinimums(_0x13bbdb));}_0x13bbdb['delta']=_0x13bbdb[_0xe40ad6(0x135)]/_0x13bbdb[_0xe40ad6(0x17a)]-0x1;}),currentCoins['sort']((_0x3f3fb5,_0x4223dd)=>_0x3f3fb5[_0x581451(0x127)]<_0x4223dd[_0x581451(0x127)]?0x1:_0x4223dd[_0x581451(0x127)]<_0x3f3fb5[_0x581451(0x127)]?-0x1:0x0);const _0xf70459=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xf70459[_0x581451(0x13b)],'usd':_0xf70459[_0x581451(0x1c0)],'portfolio':JSON[_0x581451(0x133)](currentCoins),'threshold':_0x2fa2c1},proxyEmit(_0x581451(0x1c3),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x581451(0x1f0)])headlessMode({'portfolio':currentCoins,'threshold':_0x2fa2c1});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1a87da=_0x9f92ed;if(!lastBalances)return;let _0x2e8678=await getStartingBalances(![]),_0x5ea751=[],_0x1dd956;JSON['parse'](lastBalances[_0x1a87da(0x19a)])[_0x1a87da(0x122)](_0xa77cf8=>{const _0x15a90e=_0x1a87da;let _0x159951={'coin':_0xa77cf8['coin'],'number':_0xa77cf8['number'],'price':_0xa77cf8[_0x15a90e(0xf1)]};_0x5ea751[_0x15a90e(0x119)](_0x159951);});const _0xa7e344=await getFiat();_0x1dd956={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0xa7e344[_0x1a87da(0x13b)],'usd':_0xa7e344[_0x1a87da(0x1c0)],'coins':_0x5ea751};let _0x396d2e=dbPerformance[_0x1a87da(0x139)]('data')[_0x1a87da(0xfa)]({'date':_0x1dd956[_0x1a87da(0xec)]})['value']();_0x396d2e?dbPerformance[_0x1a87da(0x139)]('data')[_0x1a87da(0xfa)]({'date':_0x1dd956['date']})[_0x1a87da(0x1db)](_0x1dd956)['write']():dbPerformance[_0x1a87da(0x139)](_0x1a87da(0x148))[_0x1a87da(0x119)](_0x1dd956)[_0x1a87da(0x1a5)](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x12f001=_0x9f92ed;if(dbPerformance[_0x12f001(0x15a)](_0x12f001(0x148))['value']()){let _0x53aae2=dbPerformance[_0x12f001(0x139)]('data')[_0x12f001(0x142)](_0x12f001(0xec))['value']();proxyEmit(_0x12f001(0x1e6),_0x53aae2),lastPerformanceEmitted=getDate();}else proxyEmit(_0x12f001(0x1e6),[]);}async function getStartingBalances(_0x551b30=!![]){const _0x52b2cc=_0x9f92ed;let _0xbd53b3=dbPerformance[_0x52b2cc(0x139)](_0x52b2cc(0x148))[_0x52b2cc(0xfa)]({'date':config[_0x52b2cc(0x10b)]})['value']();config[_0x52b2cc(0x145)]!=''&&!_0xbd53b3&&(await setStartDatePerformance(config),_0xbd53b3=dbPerformance[_0x52b2cc(0x139)](_0x52b2cc(0x148))[_0x52b2cc(0xfa)]({'date':config['startdate']})['value']());if(config['apiKey']==''||!_0xbd53b3)return{};let _0x4ddb32=0x0,_0x5043ef=0x0,_0x3a4fca=0x0,_0x6b80be=[],_0xba9fbc=0x0;config['portfolio'][_0x52b2cc(0x122)](_0x7d30f5=>{const _0x1a2b9f=_0x52b2cc;if(!_0x7d30f5[_0x1a2b9f(0x11f)]){_0x6b80be[_0xba9fbc]={'coin':_0x7d30f5[_0x1a2b9f(0xff)],'symbol':_0x7d30f5[_0x1a2b9f(0x158)],'number':_0x7d30f5[_0x1a2b9f(0x1e4)],'price':_0x7d30f5[_0x1a2b9f(0x1dc)]},_0x4ddb32+=_0x7d30f5['startprice']*_0x7d30f5[_0x1a2b9f(0x1e4)];if(config[_0x1a2b9f(0x106)]==_0x1a2b9f(0x12c))_0x5043ef+=_0x7d30f5[_0x1a2b9f(0x1dc)]*_0x7d30f5['startnumber']*_0xbd53b3[_0x1a2b9f(0x13b)],_0x3a4fca+=_0x7d30f5[_0x1a2b9f(0x1dc)]*_0x7d30f5['startnumber']*_0xbd53b3[_0x1a2b9f(0x1c0)];else{if(config[_0x1a2b9f(0x106)]==_0x1a2b9f(0x168)||config['basecoin']==_0x1a2b9f(0x1ef)||config[_0x1a2b9f(0x106)]==_0x1a2b9f(0x129))_0x5043ef+=_0x7d30f5[_0x1a2b9f(0x1dc)]*_0x7d30f5[_0x1a2b9f(0x1e4)]*_0xbd53b3['eur']/_0xbd53b3[_0x1a2b9f(0x1c0)],_0x3a4fca+=_0x7d30f5['startprice']*_0x7d30f5[_0x1a2b9f(0x1e4)];else config['basecoin']==_0x1a2b9f(0x1af)&&(_0x5043ef+=_0x7d30f5[_0x1a2b9f(0x1dc)]*_0x7d30f5[_0x1a2b9f(0x1e4)],_0x3a4fca+=_0x7d30f5[_0x1a2b9f(0x1dc)]*_0x7d30f5[_0x1a2b9f(0x1e4)]*_0xbd53b3['usd']/_0xbd53b3[_0x1a2b9f(0x13b)]);}_0xba9fbc++;}});let _0x57eef2={'basecoin':_0x4ddb32,'eur':_0x5043ef,'usd':_0x3a4fca,'coins':_0x6b80be};if(_0x551b30)proxyEmit(_0x52b2cc(0x115),_0x57eef2);return _0x57eef2;}function headlessMode(_0x233c2c){const _0x2ba16e=_0x9f92ed;let _0x3194c3=_0x233c2c[_0x2ba16e(0x19a)],_0x32b326=_0x233c2c[_0x2ba16e(0x1a4)],_0x1e3efb=[];for(let _0x5ee619 of _0x3194c3){if(_0x5ee619[_0x2ba16e(0xff)]!=config['basecoin']){if(_0x5ee619[_0x2ba16e(0x135)]/_0x5ee619['target']-0x1>=_0x32b326/0x64){if(_0x5ee619[_0x2ba16e(0x171)])_0x1e3efb[_0x2ba16e(0x119)](_0x5ee619);}else{if(_0x5ee619[_0x2ba16e(0x135)]/_0x5ee619['target']-0x1<=-_0x32b326/0x64){if(_0x5ee619['valid'])_0x1e3efb[_0x2ba16e(0x119)](_0x5ee619);}}}}_0x1e3efb[_0x2ba16e(0x183)]>0x0&&placeOrder(_0x1e3efb);}function symbolToCoin(_0x5a4e26){const _0x2a82ea=_0x9f92ed;let _0x3bccb2;if(_0x5a4e26[_0x2a82ea(0x1cb)]('/'+config[_0x2a82ea(0x106)]))_0x3bccb2=_0x5a4e26[_0x2a82ea(0x1b7)]('/'+config[_0x2a82ea(0x106)],'');if(_0x5a4e26[_0x2a82ea(0x1cb)](config[_0x2a82ea(0x106)]+'/'))_0x3bccb2=_0x5a4e26[_0x2a82ea(0x1b7)](config[_0x2a82ea(0x106)]+'/','');return _0x3bccb2;}async function validateOrders(_0x8dfafa=0x0){const _0x7e4ad4=_0x9f92ed;let _0x16b03d=[],_0x316374=config[_0x7e4ad4(0x191)]==_0x7e4ad4(0x1a2)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x7e4ad4(0x192)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x7e4ad4(0x122)](_0x45802b=>{const _0xb520e7=_0x7e4ad4;let _0x5d6596=previousCoins['find'](_0x1a3dcc=>_0x1a3dcc[_0xb520e7(0xff)]==symbolToCoin(_0x45802b[_0xb520e7(0x158)])),_0x124b0b=currentCoins['find'](_0x571dc5=>_0x571dc5[_0xb520e7(0xff)]==symbolToCoin(_0x45802b[_0xb520e7(0x158)])),_0x4527b7,_0x4557fb;_0x45802b['side']==_0xb520e7(0x12e)&&!_0x45802b['reverse']||_0x45802b[_0xb520e7(0x101)]==_0xb520e7(0x1c2)&&_0x45802b[_0xb520e7(0x176)]?(_0x4527b7=_0x5d6596[_0xb520e7(0x1ec)]+0.9*_0x45802b[_0xb520e7(0x120)],_0x4557fb=_0x5d6596[_0xb520e7(0x1ec)]+1.1*_0x45802b[_0xb520e7(0x120)]):(_0x4527b7=_0x5d6596['number']-1.1*_0x45802b[_0xb520e7(0x120)],_0x4557fb=_0x5d6596['number']-0.9*_0x45802b[_0xb520e7(0x120)]);const _0x55de2c=_0x45802b[_0xb520e7(0x120)]!=0x0&&_0x124b0b[_0xb520e7(0x1ec)]>=_0x4527b7&&_0x124b0b[_0xb520e7(0x1ec)]<=_0x4557fb;_0x16b03d[_0xb520e7(0x119)](_0x55de2c);if(_0x55de2c&&config[_0xb520e7(0x191)]!=_0xb520e7(0x1a2)){if(_0x45802b[_0xb520e7(0x176)])logHistory('order','Order\x20filled:\x20'+_0x45802b[_0xb520e7(0x158)]+'\x20'+_0x45802b[_0xb520e7(0x101)]+'\x20#'+formatResult(_0x45802b['filled']/_0x45802b[_0xb520e7(0x175)],0x8)+'\x20@'+formatResult(_0x45802b[_0xb520e7(0x175)],0x8));else logHistory(_0xb520e7(0xf3),'Order\x20filled:\x20'+_0x45802b[_0xb520e7(0x158)]+'\x20'+_0x45802b[_0xb520e7(0x101)]+'\x20#'+formatResult(_0x45802b['filled'],0x8)+'\x20@'+formatResult(_0x45802b[_0xb520e7(0x175)],0x8));}}),_0x16b03d[_0x7e4ad4(0x122)]((_0x5e059a,_0x24f6d6)=>{const _0x1923c7=_0x7e4ad4;if(_0x5e059a)lastOrders[_0x1923c7(0x1aa)](_0x24f6d6,0x1);});if(_0x8dfafa<_0x316374&&_0x16b03d[_0x7e4ad4(0x1cb)](![])){if(_0x8dfafa==0x0){config['ordertype']==_0x7e4ad4(0x1a2)?logHistory(_0x7e4ad4(0x117),_0x7e4ad4(0x1f4)):logHistory(_0x7e4ad4(0x117),_0x7e4ad4(0xed));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x8dfafa);},0xa*0x3e8);}else{(_0x8dfafa==0x1||_0x8dfafa==Math['round'](_0x316374/0x2)||_0x8dfafa==_0x316374-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x8dfafa);},validateOrderInterval);}}else{lockOrders=![];if(_0x8dfafa>0x0&&!_0x16b03d[_0x7e4ad4(0x1cb)](![]))config[_0x7e4ad4(0x191)]==_0x7e4ad4(0x1a2)?logHistory(_0x7e4ad4(0xfb),_0x7e4ad4(0x14f)):logHistory(_0x7e4ad4(0xfb),_0x7e4ad4(0x18a));else _0x8dfafa>0x0&&_0x16b03d[_0x7e4ad4(0x1cb)](![])&&(config[_0x7e4ad4(0x191)]=='market'?logHistory(_0x7e4ad4(0xfb),_0x7e4ad4(0x12b)+Math['round'](_0x316374*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders['forEach'](async _0x30e6db=>{const _0x5543d3=_0x7e4ad4;try{const _0x47cd8b=await exchange[_0x5543d3(0x113)](_0x30e6db['orderId'],_0x30e6db['symbol']);}catch(_0x54e578){if(_0x54e578[_0x5543d3(0x137)]()['includes'](_0x5543d3(0x16d))){}else await handleError(_0x54e578,_0x5543d3(0x153));}}),logHistory(_0x7e4ad4(0xfb),_0x7e4ad4(0x178)+Math['round'](_0x316374*validateOrderInterval/0xea60)+_0x7e4ad4(0x18d))));}}async function resetCoinResults(){const _0x5d8930=_0x9f92ed;dbCoinResults[_0x5d8930(0x139)](_0x5d8930(0x10f))[_0x5d8930(0x1e5)]()[_0x5d8930(0x1a5)]();let _0x47afeb=await getStartingBalances(![]);_0x47afeb[_0x5d8930(0x10f)][_0x5d8930(0x122)](_0x15b5a8=>{const _0x3a5762=_0x5d8930,_0x3b6f19=_0x15b5a8[_0x3a5762(0x158)][_0x3a5762(0x1cb)](config[_0x3a5762(0x106)]+'/');if(_0x15b5a8[_0x3a5762(0xff)]!=config['basecoin']){let _0x252882={'coin':_0x15b5a8[_0x3a5762(0xff)],'number':_0x15b5a8['number'],'breakeven':_0x15b5a8[_0x3a5762(0x175)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x3a5762(0x10f))[_0x3a5762(0x119)](_0x252882)[_0x3a5762(0x1a5)]();}});}async function updateCoinResults(_0x3be05a){const _0x32d977=_0x9f92ed;let _0x146dc2,_0x58d52c,_0x34b48a,_0x3c2853,_0x3c0941,_0x2bb158,_0x293b0d=dbCoinResults[_0x32d977(0x139)]('coins')[_0x32d977(0xfa)]({'coin':_0x3be05a[_0x32d977(0xff)]})[_0x32d977(0x1dd)]();if(!_0x293b0d)return;if(_0x3be05a[_0x32d977(0x16a)]&&_0x3be05a[_0x32d977(0x16a)][_0x32d977(0x17e)]==config[_0x32d977(0x106)])_0x146dc2=_0x3be05a[_0x32d977(0x16a)]['cost'];else{if(_0x3be05a[_0x32d977(0x16a)]&&_0x3be05a[_0x32d977(0x16a)][_0x32d977(0x17e)]==_0x32d977(0x1ac))_0x146dc2=_0x3be05a[_0x32d977(0x16a)][_0x32d977(0x19b)]*global[_0x32d977(0x14e)][_0x32d977(0x1ac)+config['basecoin']];else _0x146dc2=0.001*_0x3be05a[_0x32d977(0x120)];}const _0x59ab6a=_0x3be05a[_0x32d977(0x158)][_0x32d977(0x1cb)](config[_0x32d977(0x106)]+'/');_0x59ab6a&&(_0x2bb158={'coin':_0x3be05a[_0x32d977(0xff)],'symbol':_0x3be05a[_0x32d977(0x158)],'filled':_0x3be05a[_0x32d977(0x120)]*_0x3be05a[_0x32d977(0x175)],'side':_0x3be05a[_0x32d977(0x101)]==_0x32d977(0x1c2)?_0x32d977(0x12e):_0x32d977(0x1c2),'price':0x1/_0x3be05a[_0x32d977(0x175)]},_0x3be05a={..._0x2bb158});_0x3be05a[_0x32d977(0x101)]==_0x32d977(0x12e)?_0x34b48a=(_0x293b0d[_0x32d977(0x154)]*_0x293b0d[_0x32d977(0x1ec)]+_0x3be05a[_0x32d977(0x175)]*_0x3be05a[_0x32d977(0x120)])/(_0x293b0d['number']+_0x3be05a['filled']):_0x34b48a=(_0x293b0d[_0x32d977(0x154)]*_0x293b0d['number']-_0x3be05a[_0x32d977(0x175)]*_0x3be05a[_0x32d977(0x120)])/(_0x293b0d['number']-_0x3be05a[_0x32d977(0x120)]);_0x3be05a[_0x32d977(0x101)]==_0x32d977(0x12e)?_0x3c2853=_0x293b0d[_0x32d977(0x1a7)]:_0x3c2853=_0x293b0d[_0x32d977(0x1a7)]+(_0x3be05a[_0x32d977(0x175)]-_0x293b0d[_0x32d977(0x154)])*_0x3be05a[_0x32d977(0x120)];_0x58d52c=_0x3be05a[_0x32d977(0x101)]=='sell'?_0x293b0d['number']-_0x3be05a[_0x32d977(0x120)]:_0x293b0d[_0x32d977(0x1ec)]+_0x3be05a[_0x32d977(0x120)],_0x3c0941=(_0x3be05a[_0x32d977(0x175)]-_0x34b48a)*_0x58d52c;let _0x2df8bf={'coin':_0x3be05a[_0x32d977(0xff)],'number':_0x58d52c,'breakeven':formatResult(_0x34b48a,0x8),'realized':formatResult(_0x3c2853,0x8),'unrealized':formatResult(_0x3c0941,0x8),'fees':formatResult(_0x293b0d[_0x32d977(0x146)]+_0x146dc2,0x8),'sells':_0x3be05a[_0x32d977(0x101)]==_0x32d977(0x1c2)?_0x293b0d[_0x32d977(0x144)]+0x1:_0x293b0d[_0x32d977(0x144)],'buys':_0x3be05a[_0x32d977(0x101)]=='buy'?_0x293b0d[_0x32d977(0x1ed)]+0x1:_0x293b0d[_0x32d977(0x1ed)]};dbCoinResults[_0x32d977(0x139)]('coins')[_0x32d977(0xfa)]({'coin':_0x3be05a[_0x32d977(0xff)]})[_0x32d977(0x1db)](_0x2df8bf)[_0x32d977(0x1a5)]();}async function placeOrder(_0x586d0e){const _0x55c15d=_0x9f92ed,_0x47dad7=config[_0x55c15d(0x191)]==_0x55c15d(0x1a2)?_0x55c15d(0x1a2):'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x55c15d(0x143)](JSON[_0x55c15d(0x133)](currentCoins));for(const _0x3ee450 of _0x586d0e){let _0x30eb59,_0x53c552,_0x14214c,_0x22a9de,_0x513732,_0x4553ac=_0x3ee450['symbol'];try{const _0x4ae59e=await exchange['fetchTickers'](_0x4553ac),_0x10f9e9=_0x4ae59e[_0x4553ac];_0x30eb59=_0x10f9e9[_0x55c15d(0xf1)],_0x53c552=_0x10f9e9[_0x55c15d(0x14d)],_0x14214c=_0x10f9e9['ask'];_0x3ee450[_0x55c15d(0x176)]?(_0x22a9de=_0x3ee450[_0x55c15d(0x101)]==_0x55c15d(0x12e)?_0x55c15d(0x1c2):_0x55c15d(0x12e),_0x513732=Math['abs'](_0x3ee450['trade'])/_0x30eb59):(_0x22a9de=_0x3ee450[_0x55c15d(0x101)],_0x513732=Math[_0x55c15d(0x110)](_0x3ee450[_0x55c15d(0x164)]));_0x47dad7==_0x55c15d(0x1f2)&&(config[_0x55c15d(0x191)]==_0x55c15d(0x1c6)&&(_0x30eb59=_0x22a9de==_0x55c15d(0x12e)?_0x53c552:_0x14214c),config[_0x55c15d(0x191)]==_0x55c15d(0x17f)&&(_0x30eb59=_0x22a9de==_0x55c15d(0x12e)?_0x14214c:_0x53c552));_0x513732=formatResult(_0x513732,0x8),_0x30eb59=formatResult(_0x30eb59,0x8);const _0x4079ec=await exchange['createOrder'](_0x4553ac,_0x47dad7,_0x22a9de,_0x513732,_0x30eb59);lastOrders[_0x55c15d(0x119)]({'orderId':_0x4079ec['id'],'symbol':_0x4553ac,'side':_0x22a9de,'reverse':_0x3ee450['reverse'],'amount':_0x3ee450[_0x55c15d(0x176)]?_0x4079ec[_0x55c15d(0x147)]*_0x4079ec[_0x55c15d(0x175)]:_0x4079ec[_0x55c15d(0x147)],'filled':_0x3ee450[_0x55c15d(0x176)]?_0x4079ec[_0x55c15d(0x120)]*_0x4079ec[_0x55c15d(0x175)]:_0x4079ec[_0x55c15d(0x120)],'price':_0x4079ec[_0x55c15d(0x175)]});const _0x1fed1b=_0x22a9de=='sell'?config[_0x55c15d(0xe8)]?String['fromCodePoint']('0x'+config[_0x55c15d(0xe8)])+'\x20':'':config['emojibuy']?String[_0x55c15d(0x162)]('0x'+config[_0x55c15d(0x1b4)])+'\x20':'',_0x2bfbf6=_0x47dad7==_0x55c15d(0x1a2)?_0x55c15d(0x1a0):config[_0x55c15d(0x191)]==_0x55c15d(0x1c6)?'Limit\x20(high-margin)':_0x55c15d(0x160);if(_0x47dad7==_0x55c15d(0x1a2))logHistory(_0x55c15d(0xf3),''+_0x1fed1b+_0x2bfbf6+'\x20order:\x20'+_0x4553ac+'\x20'+_0x22a9de+'\x20#'+formatResult(_0x4079ec['filled'],0x8)+'\x20@'+formatResult(_0x4079ec['price'],0x8));else logHistory(_0x55c15d(0xf3),''+_0x1fed1b+_0x2bfbf6+_0x55c15d(0x1d9)+_0x4553ac+'\x20'+_0x22a9de+'\x20#'+formatResult(_0x4079ec[_0x55c15d(0x147)],0x8)+'\x20@'+formatResult(_0x4079ec['price'],0x8));_0x4079ec[_0x55c15d(0xff)]=_0x3ee450[_0x55c15d(0xff)],await updateCoinResults(_0x4079ec);if(config[_0x55c15d(0x124)]!=0x0){let _0xdaa659=null;if(cooldownTracker[_0x55c15d(0x183)]==config[_0x55c15d(0x124)]-0x1)_0xdaa659=cooldownTracker['shift']();const _0x45a3bd=getTimeStamp();cooldownTracker[_0x55c15d(0x119)](_0x45a3bd);if(_0xdaa659){const _0x1f389a=fns[_0x55c15d(0x11c)](new Date(_0x45a3bd),new Date(_0xdaa659));_0x1f389a<cooldownInterval&&(logHistory(_0x55c15d(0x117),_0x55c15d(0x100)+config['cooldown']+_0x55c15d(0x151)+cooldownInterval/0x3c+_0x55c15d(0x1e3)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x35ef20){if(_0x35ef20[_0x55c15d(0x137)]()[_0x55c15d(0x1cb)]('MIN_NOTIONAL'))logHistory(_0x55c15d(0x117),_0x55c15d(0xf8)+_0x4553ac);else{if(_0x35ef20[_0x55c15d(0x137)]()[_0x55c15d(0x1cb)](_0x55c15d(0x111)))logHistory(_0x55c15d(0x117),_0x55c15d(0x11b)+_0x4553ac);else await handleError(_0x35ef20,_0x55c15d(0x1b5));}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x55c15d(0x1f0)]&&(config[_0x55c15d(0x191)]=='market'?logHistory(_0x55c15d(0x117),_0x55c15d(0x1b2)):logHistory(_0x55c15d(0x117),_0x55c15d(0x1a1)));else coolingDown&&(!config['headless']&&logHistory('error',_0x55c15d(0x1f3)));}}function logHistory(_0x44e363,_0x52768d,_0x2b49ed=''){const _0x39ff66=_0x9f92ed;let _0x3b9d35={'time':getTimeStamp(),'type':_0x44e363,'event':_0x52768d,'botname':config[_0x39ff66(0x17d)],'showname':config[_0x39ff66(0x18f)]};dbLogs[_0x39ff66(0x139)]('logs')[_0x39ff66(0x119)](_0x3b9d35)[_0x39ff66(0x1a5)]();if(_0x2b49ed=='')_0x2b49ed=_0x52768d;proxyEmit(_0x39ff66(0x172),{'log':_0x3b9d35,'summary':_0x2b49ed}),process[_0x39ff66(0x1e2)]({'telegram':_0x3b9d35},_0x1e1644=>{}),logging(''+_0x3b9d35[_0x39ff66(0x172)]);}function emitHistory(_0x31cf09={}){const _0x3a4fcc=_0x9f92ed;Object[_0x3a4fcc(0xe9)](_0x31cf09)[_0x3a4fcc(0x183)]==0x0&&(_0x31cf09={'type':['order',_0x3a4fcc(0x172)],'event':'','page':0x1});if(_0x31cf09[_0x3a4fcc(0x197)]['includes'](_0x3a4fcc(0x172)))_0x31cf09[_0x3a4fcc(0x197)][_0x3a4fcc(0x1aa)](_0x31cf09[_0x3a4fcc(0x197)][_0x3a4fcc(0x1d8)]('event'),0x1,_0x3a4fcc(0x117),_0x3a4fcc(0xfb));if(dbLogs[_0x3a4fcc(0x15a)](_0x3a4fcc(0x157))[_0x3a4fcc(0x1dd)]()){let _0x392545=dbLogs[_0x3a4fcc(0x139)](_0x3a4fcc(0x157))['filter'](_0x2353ba=>{const _0x2d467c=_0x3a4fcc;if(_0x31cf09[_0x2d467c(0x197)]['length']==0x0)return![];else return _0x31cf09[_0x2d467c(0x197)]['includes'](_0x2353ba['type']);})[_0x3a4fcc(0x13a)](_0x5a1689=>{const _0x42bdef=_0x3a4fcc;if(_0x31cf09[_0x42bdef(0x172)]=='')return!![];else return _0x5a1689['event'][_0x42bdef(0x177)]()[_0x42bdef(0x1cb)](_0x31cf09['event'][_0x42bdef(0x177)]());})[_0x3a4fcc(0x142)](_0x3a4fcc(0x1ab)),_0x452425=_0x392545[_0x3a4fcc(0x1dd)]()[_0x3a4fcc(0x183)];_0x392545=_0x392545[_0x3a4fcc(0x176)]()['slice']((_0x31cf09['page']-0x1)*logPageSize,_0x31cf09[_0x3a4fcc(0x1bd)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x3a4fcc(0x17c),{'logs':_0x392545,'total':_0x452425});}else proxyEmit('event-history',{'logs':[],'total':0x0});}async function pauseBot(_0x71abe8){const _0x262b8b=_0x9f92ed,_0x1dcc21=new Date()[_0x262b8b(0x15d)]();if(!lastBotPause)lastBotPause=new Date()[_0x262b8b(0x15d)](),consecutivePauses=0x1;else{if(_0x1dcc21-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x262b8b(0x1e2)]({'stop':_0x262b8b(0x163)},_0x33d864=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error',_0x262b8b(0xfd)+consecutivePauses+')'),await sleep(_0x71abe8),botPaused=![],reset();}}async function handleError(_0xe8d63b,_0x40b65c,_0x12c89c=''){const _0x314312=_0x9f92ed;if(_0xe8d63b['toString']()[_0x314312(0x1cb)]('DDoSProtection'))logHistory(_0x314312(0x117),_0x40b65c+_0x314312(0x179)),await pauseBot(pauseBotInterval);else{if(_0xe8d63b[_0x314312(0x137)]()[_0x314312(0x1cb)](_0x314312(0x1ee)))logHistory(_0x314312(0x117),_0x40b65c+_0x314312(0x188)),await pauseBot(pauseBotInterval);else{if(_0xe8d63b[_0x314312(0x137)]()['includes'](_0x314312(0x126)))logHistory(_0x314312(0x117),_0x40b65c+_0x314312(0x1a3)),await pauseBot(pauseBotInterval);else{if(_0xe8d63b[_0x314312(0x137)]()[_0x314312(0x1cb)](_0x314312(0x18b)))logHistory(_0x314312(0x117),_0x40b65c+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x314312(0x174)),process[_0x314312(0x1e2)]({'stop':_0x314312(0x1d6)},_0x5ea420=>{});else{if(_0xe8d63b[_0x314312(0x137)]()[_0x314312(0x1cb)](_0x314312(0x1c1)))logHistory(_0x314312(0x117),_0x40b65c+_0x314312(0x112)),logHistory('error',_0x314312(0x174)),process[_0x314312(0x1e2)]({'stop':_0x314312(0x1d6)},_0x8856a=>{});else{if(_0xe8d63b[_0x314312(0x137)]()[_0x314312(0x1cb)](_0x314312(0x12d)))logHistory('error',_0x40b65c+_0x314312(0x1e7)),logHistory('error',_0x314312(0x174)),process[_0x314312(0x1e2)]({'stop':_0x314312(0x1d6)},_0x262fb0=>{});else{if(_0xe8d63b[_0x314312(0x137)]()[_0x314312(0x1cb)](_0x314312(0xf6)))logHistory('error',_0x40b65c+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x314312(0x117),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x314312(0x1e2)]({'stop':_0x314312(0x1d6)},_0x5dbd44=>{});else{if(_0xe8d63b[_0x314312(0x137)]()[_0x314312(0x1cb)](_0x314312(0x189)))logHistory(_0x314312(0x117),_0x40b65c+'\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured'),await pauseBot(pauseBotInterval),process[_0x314312(0x1e2)]({'stop':'restart'},_0x539756=>{});else _0xe8d63b['toString']()['includes'](_0x314312(0x1b9))?logHistory(_0x314312(0x117),_0x40b65c+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory(_0x314312(0x117),_0x40b65c+_0x314312(0x1a8)),logging(_0x40b65c+_0x314312(0x181),_0xe8d63b),await pauseBot(pauseBotInterval));}}}}}}}}function _0x469c(_0x284124,_0x49778f){const _0x450957=_0x4c44();return _0x469c=function(_0x22c86b,_0x4fce2f){_0x22c86b=_0x22c86b-0xe7;let _0x4c443c=_0x450957[_0x22c86b];return _0x4c443c;},_0x469c(_0x284124,_0x49778f);}function formatResult(_0x4f3fca,_0x574a0d){const _0x85d054=_0x9f92ed;return parseFloat(_0x4f3fca[_0x85d054(0x196)](_0x574a0d));}function logging(_0x162b68,_0x33e153=''){const _0x3cf7a3=_0x9f92ed;if(config['showname'])console[_0x3cf7a3(0x190)](getTimeStamp()+':\x20'+config[_0x3cf7a3(0x17d)]+_0x3cf7a3(0x186)+_0x162b68,_0x33e153);else console[_0x3cf7a3(0x190)](getTimeStamp()+_0x3cf7a3(0x103)+botID+_0x3cf7a3(0x186)+_0x162b68,_0x33e153);}function getServerTime(){const _0x2b266e=_0x9f92ed,_0x1b8252=new Date();return _0x1b8252[_0x2b266e(0x1d5)]()+'/'+(_0x1b8252[_0x2b266e(0x131)]()+0x1)['toString']()[_0x2b266e(0x152)](0x2,'0')+'/'+_0x1b8252[_0x2b266e(0x198)]()['toString']()[_0x2b266e(0x152)](0x2,'0')+'\x20'+_0x1b8252[_0x2b266e(0x1ce)]()['toString']()[_0x2b266e(0x152)](0x2,'0')+':'+_0x1b8252[_0x2b266e(0x1e1)]()[_0x2b266e(0x137)]()['padStart'](0x2,'0')+':'+_0x1b8252[_0x2b266e(0xf7)]()[_0x2b266e(0x137)]()[_0x2b266e(0x152)](0x2,'0');}function getTimeStamp(){const _0x11cc27=_0x9f92ed,_0xe959da=shiftedTime();return _0xe959da[_0x11cc27(0x1d5)]()+'/'+(_0xe959da[_0x11cc27(0x131)]()+0x1)[_0x11cc27(0x137)]()[_0x11cc27(0x152)](0x2,'0')+'/'+_0xe959da[_0x11cc27(0x198)]()[_0x11cc27(0x137)]()[_0x11cc27(0x152)](0x2,'0')+'\x20'+_0xe959da['getHours']()[_0x11cc27(0x137)]()[_0x11cc27(0x152)](0x2,'0')+':'+_0xe959da[_0x11cc27(0x1e1)]()[_0x11cc27(0x137)]()[_0x11cc27(0x152)](0x2,'0')+':'+_0xe959da[_0x11cc27(0xf7)]()['toString']()[_0x11cc27(0x152)](0x2,'0');}function getDate(){const _0x26f05d=_0x9f92ed,_0x16ed56=shiftedTime();return _0x16ed56[_0x26f05d(0x1d5)]()+'/'+(_0x16ed56[_0x26f05d(0x131)]()+0x1)[_0x26f05d(0x137)]()['padStart'](0x2,'0')+'/'+_0x16ed56[_0x26f05d(0x198)]()[_0x26f05d(0x137)]()[_0x26f05d(0x152)](0x2,'0');}function getHour(){const _0x4fb48e=_0x9f92ed,_0x52e6e4=shiftedTime();return _0x52e6e4[_0x4fb48e(0x1ce)]()[_0x4fb48e(0x137)]()[_0x4fb48e(0x152)](0x2,'0');}function sleep(_0x5b66f9){return new Promise(_0x52a185=>setTimeout(_0x52a185,_0x5b66f9));}function shiftedTime(){const _0x1cbb29=_0x9f92ed,_0xe7da=new Date();let _0x41e935=_0xe7da;if(config&&config[_0x1cbb29(0x156)]!==0x0)_0x41e935=fns[_0x1cbb29(0x159)](_0xe7da,{'hours':config['timeshift']});return _0x41e935;}