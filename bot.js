const _0x2606cb=_0x2185;(function(_0x17adb9,_0x3fa31c){const _0x3d631b=_0x2185,_0x29e35b=_0x17adb9();while(!![]){try{const _0x500ff9=-parseInt(_0x3d631b(0x24c))/0x1+parseInt(_0x3d631b(0x1fa))/0x2*(parseInt(_0x3d631b(0x2a6))/0x3)+-parseInt(_0x3d631b(0x236))/0x4*(parseInt(_0x3d631b(0x1ea))/0x5)+parseInt(_0x3d631b(0x1dd))/0x6*(parseInt(_0x3d631b(0x2a2))/0x7)+parseInt(_0x3d631b(0x1db))/0x8*(-parseInt(_0x3d631b(0x243))/0x9)+parseInt(_0x3d631b(0x2d8))/0xa*(-parseInt(_0x3d631b(0x1dc))/0xb)+-parseInt(_0x3d631b(0x36a))/0xc*(-parseInt(_0x3d631b(0x2e3))/0xd);if(_0x500ff9===_0x3fa31c)break;else _0x29e35b['push'](_0x29e35b['shift']());}catch(_0x3660e8){_0x29e35b['push'](_0x29e35b['shift']());}}}(_0x512b,0xbc9f4));const _0x28f409=function(){let _0x228f14=!![];return function(_0x117f11,_0x804dc2){const _0x784469=_0x228f14?function(){const _0x28fa90=_0x2185;if(_0x804dc2){const _0xd05389=_0x804dc2[_0x28fa90(0x2de)](_0x117f11,arguments);return _0x804dc2=null,_0xd05389;}}:function(){};return _0x228f14=![],_0x784469;};}(),_0x3bcef9=_0x28f409(this,function(){const _0x25d4d1=_0x2185;return _0x3bcef9[_0x25d4d1(0x368)]()[_0x25d4d1(0x239)](_0x25d4d1(0x1d8))['toString']()['constructor'](_0x3bcef9)[_0x25d4d1(0x239)](_0x25d4d1(0x1d8));});_0x3bcef9();'use strict';const ccxt=require('ccxt'),low=require(_0x2606cb(0x33b)),FileSync=require(_0x2606cb(0x1e8)),fs=require('fs'),fns=require(_0x2606cb(0x2c1)),Crypt=require(_0x2606cb(0x227))['Crypt'],util=require(_0x2606cb(0x250)),argv=require(_0x2606cb(0x315))(process[_0x2606cb(0x207)][_0x2606cb(0x312)](0x2))[_0x2606cb(0x207)],path=require('path'),axios=require(_0x2606cb(0x2f1));let exchange;global['ticker']={},global[_0x2606cb(0x2e1)]={};const usdBasecoins=['USD',_0x2606cb(0x1ee),_0x2606cb(0x2b3),_0x2606cb(0x258),_0x2606cb(0x1d2),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2606cb(0x2f7)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x2606cb(0x218)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x2606cb(0x317)+pauseBotInterval/0xea60+'\x20minutes',loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x2606cb(0x31c))[_0x2606cb(0x32f)],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x2606cb(0x257)](botID)&&(console[_0x2606cb(0x22a)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x2606cb(0x207)][0x3]||'',configpath=userID?_0x2606cb(0x27d)+userID+'/':'./config/',logspath=userID?_0x2606cb(0x290)+userID+'/':_0x2606cb(0x290),loggerfile=fs[_0x2606cb(0x306)](logspath+_0x2606cb(0x2c6),{'flags':'a'});!fs[_0x2606cb(0x2d2)](configpath)&&fs[_0x2606cb(0x1d9)](configpath);!fs[_0x2606cb(0x2d2)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x2606cb(0x232)+botID+_0x2606cb(0x336),logfile=configpath+'bot-'+botID+_0x2606cb(0x241),performancefile=configpath+_0x2606cb(0x232)+botID+_0x2606cb(0x22f),coinresultsfile=configpath+'bot-'+botID+_0x2606cb(0x25b),settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x2606cb(0x316)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2606cb(0x330)]({'data':[],'version':serverversion})[_0x2606cb(0x316)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x2606cb(0x316)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2606cb(0x330)]({'coins':[],'version':serverversion})[_0x2606cb(0x316)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x2606cb(0x334),'rsaStandard':_0x2606cb(0x331)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0xb5428e=>{const _0x36eb89=_0x2606cb;console[_0x36eb89(0x22a)](_0xb5428e);},'simple':_0x170d2b=>{const _0x4d8cc8=_0x2606cb;console['log'](_0x170d2b),loggerfile['write'](util[_0x4d8cc8(0x2bf)](_0x170d2b)+'\x0a');},'full':async(_0x2b0d30,_0x5f1182='')=>{const _0x2b029c=_0x2606cb;let _0x40f3e7;if(config[_0x2b029c(0x2da)])_0x40f3e7=getTimeStamp()+':\x20'+config[_0x2b029c(0x242)]+'\x20>\x20'+_0x2b0d30;else _0x40f3e7=getTimeStamp()+_0x2b029c(0x2fa)+botID+'\x20>\x20'+_0x2b0d30;console[_0x2b029c(0x22a)](_0x40f3e7),loggerfile[_0x2b029c(0x316)](util['format'](_0x40f3e7)+'\x0a'),_0x5f1182&&(console[_0x2b029c(0x22a)](_0x5f1182),loggerfile['write'](util[_0x2b029c(0x2bf)](_0x5f1182)+'\x0a'));},'debug':async(_0xc1897f,_0x133f1e='')=>{const _0x4e738c=_0x2606cb;let _0x4e22ad;if(config[_0x4e738c(0x2da)])_0x4e22ad=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0xc1897f;else _0x4e22ad=getTimeStamp()+_0x4e738c(0x2fa)+botID+_0x4e738c(0x206)+_0xc1897f;if(debugging)console[_0x4e738c(0x22a)](_0x4e22ad);loggerfile['write'](util['format'](_0x4e22ad)+'\x0a');if(_0x133f1e){if(debugging)console[_0x4e738c(0x22a)](_0x133f1e);loggerfile[_0x4e738c(0x316)](util[_0x4e738c(0x2bf)](_0x133f1e)+'\x0a');}}};process['on'](_0x2606cb(0x200),function(_0x541864){const _0x2cea97=_0x2606cb;handleError(_0x541864,_0x2cea97(0x200));});settings[_0x2606cb(0x352)]!=config[_0x2606cb(0x352)]&&updateTimeshift(settings[_0x2606cb(0x352)]);settings[_0x2606cb(0x252)]!=config[_0x2606cb(0x252)]&&updateOnepagemode(settings[_0x2606cb(0x252)]);(settings[_0x2606cb(0x2c9)]&&!config[_0x2606cb(0x2c9)]||!settings[_0x2606cb(0x2c9)]&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x2606cb(0x2c9)]);process[_0x2606cb(0x364)]({'started':'running'},_0x3b2ad6=>{}),initializeProcessListeners();function proxyEmit(_0x5d487e,_0x321c29=null){const _0x594f2f=_0x2606cb;process[_0x594f2f(0x364)]({'function':_0x5d487e,'args':_0x321c29},_0x42e814=>{});}function initializeProcessListeners(){const _0x396d47=_0x2606cb;process['on'](_0x396d47(0x2ad),_0x45e9c8=>{const _0x354f11=_0x396d47;switch(Object[_0x354f11(0x1d1)](_0x45e9c8)[0x0]){case'timeshift':_0x45e9c8[_0x354f11(0x352)]!=undefined&&(settings[_0x354f11(0x352)]=_0x45e9c8[_0x354f11(0x352)],updateTimeshift(settings[_0x354f11(0x352)]));break;case _0x354f11(0x252):_0x45e9c8[_0x354f11(0x252)]!=undefined&&(settings[_0x354f11(0x252)]=_0x45e9c8[_0x354f11(0x252)],updateOnepagemode(settings[_0x354f11(0x252)]));break;case _0x354f11(0x2c9):_0x45e9c8[_0x354f11(0x2c9)]!=undefined&&(settings['marketcapApi']=_0x45e9c8[_0x354f11(0x2c9)],updateMarketcapApi(settings[_0x354f11(0x2c9)]));break;case'bots':_0x45e9c8[_0x354f11(0x269)]!=undefined&&(bots=JSON[_0x354f11(0x26b)](_0x45e9c8['bots']),proxyEmit('bots',bots));break;case _0x354f11(0x35e):switch(_0x45e9c8[_0x354f11(0x35e)]){case _0x354f11(0x294):initclient();break;case _0x354f11(0x33e):toggleBotMode();break;case'emitHistory':emitHistory(_0x45e9c8[_0x354f11(0x292)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x45e9c8[_0x354f11(0x292)]);break;case _0x354f11(0x2d9):getPortfolio(_0x45e9c8[_0x354f11(0x292)]);break;case'storeConfiguration':storeConfiguration(_0x45e9c8[_0x354f11(0x292)]);break;case _0x354f11(0x213):storeHeadless(_0x45e9c8['args']);break;case _0x354f11(0x35a):storeFiat(_0x45e9c8[_0x354f11(0x292)]);break;case _0x354f11(0x1ec):resetHistory();break;case _0x354f11(0x270):getStartingBalances(getNormalizedPerformance());break;case _0x354f11(0x23d):placeOrder(_0x45e9c8[_0x354f11(0x292)]);break;case _0x354f11(0x286):cancelLoading();break;case _0x354f11(0x30e):showConfig();break;case _0x354f11(0x22d):sendMetricsTelegram();break;case _0x354f11(0x363):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x1a4139=![]){const _0x4eb0c5=_0x2606cb;logger[_0x4eb0c5(0x203)](_0x4eb0c5(0x1f3)+(_0x1a4139?'exchange\x20reloaded':_0x4eb0c5(0x223))+'\x20|\x20exchange:\x20'+config[_0x4eb0c5(0x1f5)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x1a4139)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x4eb0c5(0x2ff)]!=''&&config[_0x4eb0c5(0x2ff)]!=_0x4eb0c5(0x267)){loadingProgress=0x0;if(_0x1a4139){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x48fb44){handleErrorNoStop(_0x48fb44,_0x4eb0c5(0x320));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x3bc7c3=await getCoins();[currentCoins,currentCoinsAll]=_0x3bc7c3,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x4eb0c5(0x203)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x4eb0c5(0x298)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x1a9ca9){const _0x39f04e=_0x2606cb;let _0x577683=![];if(_0x1a9ca9)_0x577683=!![];let _0x3a5401;_0x577683?_0x3a5401=_0x1a9ca9[_0x39f04e(0x29e)](_0x2f0d5d=>_0x2f0d5d[_0x39f04e(0x2a4)]):_0x3a5401=currentCoinsAll[_0x39f04e(0x29e)](_0x35e55d=>_0x35e55d[_0x39f04e(0x2a4)]);if(!config[_0x39f04e(0x2c9)]||!_0x577683&&!config[_0x39f04e(0x1d5)]||_0x3a5401[_0x39f04e(0x298)]==0x0)return;let _0x1ed855=null;try{_0x1ed855=await axios[_0x39f04e(0x1f8)](_0x39f04e(0x22e),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x39f04e(0x2c9)]},'params':{'symbol':_0x3a5401[_0x39f04e(0x368)]()}});}catch(_0x14cd07){_0x1ed855=null,_0x14cd07['toString']()['includes'](_0x39f04e(0x308))?(config[_0x39f04e(0x2c9)]=![],updateConfig(),proxyEmit(_0x39f04e(0x360),emittedConfiguration()),logHistory(_0x39f04e(0x2a5),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory('error',_0x39f04e(0x272)+marketCapInterval/(0x3c*0x3e8)+_0x39f04e(0x2cd)),logger['debug'](_0x39f04e(0x31d),_0x14cd07[_0x39f04e(0x368)]()+'\x20-\x20'+_0x14cd07[_0x39f04e(0x25d)]));}if(_0x1ed855){let _0x425cf1=0x0;const _0x42cf11=_0x1ed855[_0x39f04e(0x324)];_0x3a5401[_0x39f04e(0x2e9)](_0x434b99=>{const _0x57c0bb=_0x39f04e;_0x425cf1+=_0x42cf11[_0x57c0bb(0x324)][_0x434b99][0x0][_0x57c0bb(0x34d)]['USD'][_0x57c0bb(0x300)];}),_0x3a5401['forEach'](_0x331180=>{const _0x5a8b5e=_0x39f04e,_0x175d89=_0x42cf11[_0x5a8b5e(0x324)][_0x331180][0x0][_0x5a8b5e(0x34d)][_0x5a8b5e(0x274)][_0x5a8b5e(0x300)];if(_0x577683){const _0xcb60b9=_0x1a9ca9[_0x5a8b5e(0x339)](_0x1d391f=>_0x1d391f[_0x5a8b5e(0x2a4)]==_0x331180);_0xcb60b9&&(_0xcb60b9[_0x5a8b5e(0x293)]=_0x175d89);}else{const _0x74eb06=currentCoins['find'](_0x145b3b=>_0x145b3b[_0x5a8b5e(0x2a4)]==_0x331180);_0x74eb06&&(_0x74eb06[_0x5a8b5e(0x293)]=_0x175d89);const _0x4a703a=currentCoinsAll[_0x5a8b5e(0x339)](_0x38c074=>_0x38c074[_0x5a8b5e(0x2a4)]==_0x331180);_0x4a703a&&(_0x4a703a[_0x5a8b5e(0x293)]=_0x175d89);}}),!_0x577683&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x191199=_0x2606cb,_0x3453e3=0x2;let _0x36bb7d=0x0,_0x306517=0x0,_0x536548=0x0,_0x2b9a46=0x0;config[_0x191199(0x33d)][_0x191199(0x2e9)](_0x538b76=>{const _0x3f873c=_0x191199;if(!_0x538b76[_0x3f873c(0x354)]){_0x536548++,_0x36bb7d+=_0x538b76['slider'];if(_0x538b76[_0x3f873c(0x276)]===-0x1){_0x36bb7d++;const _0x183b76=currentCoinsAll[_0x3f873c(0x339)](_0x21b88d=>_0x21b88d[_0x3f873c(0x2a4)]==_0x538b76[_0x3f873c(0x2a4)]);_0x183b76&&(_0x2b9a46+=_0x183b76[_0x3f873c(0x293)]);}if(_0x538b76['slider']!==-0x1)_0x306517++;}});let _0x32e05e;const _0xf5c0eb=0x64-_0x36bb7d,_0x361380=_0x536548-_0x306517;_0x32e05e=_0x361380===0x0?_0x36bb7d:Math[_0x191199(0x1f7)](0x64,_0x36bb7d),config[_0x191199(0x33d)][_0x191199(0x2e9)](_0x5c1a72=>{const _0x430ecf=_0x191199,_0x22900d=currentCoinsAll[_0x430ecf(0x339)](_0x4dafdc=>_0x4dafdc[_0x430ecf(0x2a4)]==_0x5c1a72[_0x430ecf(0x2a4)]);_0x22900d&&(_0x5c1a72[_0x430ecf(0x293)]=_0x22900d[_0x430ecf(0x293)]),!_0x5c1a72[_0x430ecf(0x354)]&&(_0x32e05e<=0x64&&(_0x5c1a72['slider']===-0x1&&(_0x2b9a46!==0x0&&config[_0x430ecf(0x1d5)]&&(_0x22900d&&(_0x5c1a72[_0x430ecf(0x1e3)]=(_0xf5c0eb/(_0x2b9a46/_0x22900d[_0x430ecf(0x293)]))[_0x430ecf(0x2bb)](_0x3453e3))))));}),updateConfig();}function updateConfig(){const _0x1bf3f7=_0x2606cb;let _0x3f515f=dbConfig[_0x1bf3f7(0x1f8)](_0x1bf3f7(0x2fd))[_0x1bf3f7(0x339)]({'botID':botID})[_0x1bf3f7(0x209)]();_0x3f515f&&dbConfig[_0x1bf3f7(0x1f8)](_0x1bf3f7(0x2fd))[_0x1bf3f7(0x339)]({'botID':botID})[_0x1bf3f7(0x34c)](config)[_0x1bf3f7(0x316)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x356fad=_0x2606cb;exchangeStopped=!![];try{await exchange['close']();}catch(_0x27d995){await handleError(_0x27d995,_0x356fad(0x32c));}}async function reloadExchange(){const _0x49fa52=_0x2606cb;while(lockOrders!=ORDERS[_0x49fa52(0x218)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x49fa52(0x203)](_0x49fa52(0x369)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0xb88e81=config['exchange'],_0x9923ae=config[_0x2606cb(0x2ff)],_0x3c8a93=config['apiSecret'],_0xd78f69=config['apiPassword']){const _0xea3681=_0x2606cb;exchange&&await stopExchange();!supportedExchanges()[_0xea3681(0x1e9)](_0xb88e81)&&(logHistory(_0xea3681(0x2a5),_0xea3681(0x27e)+_0xb88e81+_0xea3681(0x345)),killBot());const _0x162e20=ccxt['pro'][_0xb88e81['toLowerCase']()];exchange=new _0x162e20({'apiKey':_0x9923ae,'secret':_0x3c8a93,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0xea3681(0x1eb)}});if(_0xd78f69)exchange[_0xea3681(0x321)]=_0xd78f69;}function setStableCoins(){const _0x5af441=_0x2606cb;let _0x3727af=config[_0x5af441(0x2eb)]==_0x5af441(0x1f0)?_0x5af441(0x1f0):config['basecoin']==_0x5af441(0x265)?_0x5af441(0x265):_0x5af441(0x314),_0x2666ed=!allSymbols[_0x5af441(0x1e9)](_0x3727af+_0x5af441(0x32e))?'USDT':_0x5af441(0x274),_0x2285e8=!allSymbols[_0x5af441(0x1e9)](_0x3727af+_0x5af441(0x271))?_0x2666ed:'EUR';stablecoins={'eur':{'coin':''+_0x3727af+_0x2285e8,'symbol':_0x3727af+'/'+_0x2285e8},'usd':{'coin':''+_0x3727af+_0x2666ed,'symbol':_0x3727af+'/'+_0x2666ed}};}async function initwsCcxt(){const _0x347a38=_0x2606cb;initCycle++;const _0x393a9c=initCycle;let _0xb3fb9b=[];config[_0x347a38(0x33d)][_0x347a38(0x2e9)](_0x4c5ec0=>{const _0x1ef5f8=_0x347a38;if(!_0x4c5ec0['excluded']&&_0x4c5ec0[_0x1ef5f8(0x2a4)]!=config[_0x1ef5f8(0x2eb)])_0xb3fb9b[_0x1ef5f8(0x2ed)](_0x4c5ec0[_0x1ef5f8(0x2ef)]);});if(!_0xb3fb9b['includes'](stablecoins[_0x347a38(0x34b)][_0x347a38(0x2ef)]))_0xb3fb9b['push'](stablecoins[_0x347a38(0x34b)]['symbol']);if(!_0xb3fb9b[_0x347a38(0x1e9)](stablecoins['usd'][_0x347a38(0x2ef)]))_0xb3fb9b['push'](stablecoins[_0x347a38(0x21c)][_0x347a38(0x2ef)]);if(config[_0x347a38(0x1f5)][_0x347a38(0x2f0)]('Binance')&&config[_0x347a38(0x2eb)]!=_0x347a38(0x265)){if(!_0xb3fb9b['includes'](_0x347a38(0x256)+config[_0x347a38(0x2eb)]))_0xb3fb9b[_0x347a38(0x2ed)](_0x347a38(0x256)+config[_0x347a38(0x2eb)]);}loadCoins(_0xb3fb9b),_0xb3fb9b=validateSymbols(_0xb3fb9b);const _0x1a2a7a=async _0x473a7c=>{const _0x2b92b6=_0x347a38;let _0x561364;try{const _0x47292e=await getTickers(_0x473a7c);Object['entries'](_0x47292e)[_0x2b92b6(0x2e9)](_0x3e59b7=>{const _0x4c3d1c=_0x2b92b6;_0x561364=_0x3e59b7[0x1][_0x4c3d1c(0x2ef)],global[_0x4c3d1c(0x30c)][noslash(_0x561364)]=_0x3e59b7[0x1][_0x4c3d1c(0x31e)],global[_0x4c3d1c(0x2e1)][_0x561364]=_0x3e59b7[0x1][_0x4c3d1c(0x1ff)];});}catch(_0x409665){await handleError(_0x409665,'initTickers()',_0x561364);}},_0x2adf39=async _0x5548a6=>{const _0x592bea=_0x347a38;while(initCycle==_0x393a9c){if(!botPaused)try{const _0x4daddc=await exchange['watchTrades'](_0x5548a6);global[_0x592bea(0x30c)][noslash(_0x4daddc[0x0][_0x592bea(0x2ef)])]=_0x4daddc[0x0][_0x592bea(0x273)],await sleep(0x3e8);}catch(_0x1860d4){if(!exchangeStopped)await handleError(_0x1860d4,_0x592bea(0x219),_0x5548a6);}else await sleep(0x64);}},_0x29a14e=async _0x186e66=>{const _0x2bc321=_0x347a38;while(initCycle==_0x393a9c){if(!botPaused){let _0x8b4e88;try{await sleep(0x3c*0x3e8);const _0x1ca6fe=await getTickers(_0x186e66);Object['entries'](_0x1ca6fe)[_0x2bc321(0x2e9)](_0x428edc=>{const _0x1e025c=_0x2bc321;_0x8b4e88=_0x428edc[0x1][_0x1e025c(0x2ef)],global[_0x1e025c(0x2e1)][_0x8b4e88]=_0x428edc[0x1]['percentage'];});}catch(_0x5a6841){if(!exchangeStopped)await handleError(_0x5a6841,'fetchTickers()',_0x8b4e88);}}else await sleep(0x64);}},_0x2b9d7f=async _0x2de982=>{const _0x356915=_0x347a38;while(initCycle==_0x393a9c){if(!botPaused)try{const _0x3d18aa=await exchange['watchOrders'](_0x2de982);initCycle==_0x393a9c&&_0x3d18aa[_0x356915(0x2e9)](_0x270f53=>{updateNumberCoinsCcxt(_0x270f53);});}catch(_0x134262){if(!exchangeStopped)await handleError(_0x134262,_0x356915(0x254));}else await sleep(0x64);}};_0x1a2a7a(_0xb3fb9b),_0x29a14e(_0xb3fb9b),_0xb3fb9b['forEach'](_0x4bef3f=>{_0x2adf39(_0x4bef3f),_0x2b9d7f(_0x4bef3f);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}function _0x2185(_0x3206bc,_0x655964){const _0x94fbcb=_0x512b();return _0x2185=function(_0x3bcef9,_0x28f409){_0x3bcef9=_0x3bcef9-0x1d1;let _0x512b96=_0x94fbcb[_0x3bcef9];return _0x512b96;},_0x2185(_0x3206bc,_0x655964);}async function getTickers(_0x3ec7de){const _0x3e745a=_0x2606cb;let _0x43e95c={};try{if(config[_0x3e745a(0x1f5)]!=_0x3e745a(0x2db))_0x43e95c=await exchange[_0x3e745a(0x2e7)](_0x3ec7de);else for(const _0x166876 of _0x3ec7de){const _0x5edca7=await exchange[_0x3e745a(0x262)](_0x166876);_0x43e95c[_0x166876]=_0x5edca7;}return _0x43e95c;}catch(_0x3a8ab5){throw _0x3a8ab5;}}async function watchTransactions(){const _0x405219=_0x2606cb;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x4e47c=await getCoins(),[_0x3f620d,_0x881050]=_0x4e47c;let _0x3668a2=[];currentCoins[_0x405219(0x2e9)](_0x4d56bd=>{const _0x3cd2ef=_0x405219,_0xcf945f=_0x3f620d[_0x3cd2ef(0x339)](_0x2e7aa2=>_0x2e7aa2[_0x3cd2ef(0x2a4)]==_0x4d56bd[_0x3cd2ef(0x2a4)]);if(_0xcf945f){if(_0x4d56bd[_0x3cd2ef(0x2ee)]!=_0xcf945f[_0x3cd2ef(0x2ee)]){let _0x1b04c9;if(_0x4d56bd['coin']!=config['basecoin']){const _0x351c10=global['ticker'][noslash(_0x4d56bd[_0x3cd2ef(0x2ef)])];_0x1b04c9=_0x4d56bd['reverse']?0x1/_0x351c10:_0x351c10;}else _0x1b04c9=0x1;_0x3668a2['push']({'coin':_0x4d56bd[_0x3cd2ef(0x2a4)],'symbol':_0x4d56bd[_0x3cd2ef(0x2ef)],'price':_0x1b04c9,'number':Number(formatResult(_0xcf945f[_0x3cd2ef(0x2ee)]-_0x4d56bd[_0x3cd2ef(0x2ee)],0x8)),'basecoinvalue':_0x1b04c9*(_0xcf945f[_0x3cd2ef(0x2ee)]-_0x4d56bd[_0x3cd2ef(0x2ee)])});}}});if(_0x3668a2[_0x405219(0x298)]==0x1&&!blockTransactionDetection){if(config['autoliquidity']){logger[_0x405219(0x203)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x3668a2[0x0][_0x405219(0x1d3)]+_0x405219(0x29b)+lastFees[_0x405219(0x2b5)]);if(lastFees[_0x405219(0x2b5)]==0x0||Math['abs'](_0x3668a2[0x0][_0x405219(0x1d3)])>lastFees[_0x405219(0x2b5)]){delete _0x3668a2[0x0][_0x405219(0x2ef)],delete _0x3668a2[0x0][_0x405219(0x1d3)];let _0x3feb5b=[],_0x46b081=[...config[_0x405219(0x302)]]||[],_0x256c4e=config[_0x405219(0x302)];_0x46b081[_0x405219(0x247)]((_0x2cf51f,_0x36f4d9)=>_0x2cf51f[_0x405219(0x287)]>_0x36f4d9[_0x405219(0x287)]?-0x1:_0x36f4d9[_0x405219(0x287)]>_0x2cf51f[_0x405219(0x287)]?0x1:0x0);const _0x1085ca=getDate();if(_0x46b081[0x0]){const _0xbbada6=fns[_0x405219(0x26b)](_0x46b081[0x0]['date'],_0x405219(0x322),new Date()),_0x3ca1a=fns[_0x405219(0x26b)](_0x1085ca,_0x405219(0x322),new Date());if(fns[_0x405219(0x27a)](_0xbbada6,_0x3ca1a)){_0x3feb5b=_0x46b081[0x0][_0x405219(0x23a)];const _0x213efa=_0x3feb5b['find'](_0x492740=>_0x492740[_0x405219(0x2a4)]==_0x3668a2[0x0][_0x405219(0x2a4)]);_0x213efa?(_0x213efa[_0x405219(0x2ee)]+=_0x3668a2[0x0][_0x405219(0x2ee)],_0x213efa['number']==0x0&&(_0x3feb5b=_0x3feb5b[_0x405219(0x30b)](_0x114b93=>{const _0x4d59ff=_0x405219;return _0x114b93[_0x4d59ff(0x2a4)]!=_0x3668a2[0x0][_0x4d59ff(0x2a4)];}))):_0x3feb5b[_0x405219(0x2ed)](_0x3668a2[0x0]);const _0x5b7343=_0x256c4e[_0x405219(0x339)](_0x1a6f54=>_0x1a6f54[_0x405219(0x287)]==_0x1085ca);_0x5b7343['changes']=_0x3feb5b;}else _0x256c4e['push']({'date':_0x1085ca,'changes':[_0x3668a2[0x0]]});}const _0x1f1261=_0x256c4e[_0x405219(0x339)](_0x438d39=>_0x438d39[_0x405219(0x287)]==_0x1085ca);if(_0x1f1261){let _0x59306b=!![];_0x1f1261[_0x405219(0x23a)][_0x405219(0x2e9)](_0x57f959=>{const _0x199faf=_0x405219;if(_0x57f959[_0x199faf(0x2ee)]!=0x0)_0x59306b=![];}),_0x59306b&&(_0x256c4e=_0x256c4e['filter'](_0x18bcf4=>{const _0x52c757=_0x405219;return _0x18bcf4[_0x52c757(0x287)]!=_0x1085ca;}));}let _0xa61979=dbConfig[_0x405219(0x1f8)](_0x405219(0x2fd))[_0x405219(0x339)]({'botID':botID})[_0x405219(0x209)]();_0xa61979&&(dbConfig[_0x405219(0x1f8)]('bot')['find']({'botID':botID})[_0x405219(0x34c)]({'liquidity':_0x256c4e})[_0x405219(0x316)](),config[_0x405219(0x302)]=_0x256c4e),logHistory(_0x405219(0x1f1),_0x405219(0x2e4)+Math[_0x405219(0x335)](_0x3668a2[0x0][_0x405219(0x2ee)])+'\x20'+_0x3668a2[0x0][_0x405219(0x2a4)]+'\x20'+(_0x3668a2[0x0][_0x405219(0x2ee)]>0x0?_0x405219(0x327):_0x405219(0x32d))+_0x405219(0x2b6)),proxyEmit(_0x405219(0x360),emittedConfiguration());}else logger[_0x405219(0x203)](_0x405219(0x303)+Math['abs'](_0x3668a2[0x0][_0x405219(0x2ee)])+'\x20'+_0x3668a2[0x0]['coin']+'\x20'+(_0x3668a2[0x0][_0x405219(0x2ee)]>0x0?_0x405219(0x327):_0x405219(0x32d)));transactionDetected=!![];}else logger[_0x405219(0x203)](_0x405219(0x2e4)+Math[_0x405219(0x335)](_0x3668a2[0x0][_0x405219(0x2ee)])+'\x20'+_0x3668a2[0x0]['coin']+'\x20'+(_0x3668a2[0x0][_0x405219(0x2ee)]>0x0?'added':'removed')+_0x405219(0x26f));}currentCoins=_0x3f620d,currentCoinsAll=_0x881050,await sleep(watchTransactionsInterval);}catch(_0x5e9f71){if(!exchangeStopped)await handleError(_0x5e9f71,_0x405219(0x295));}else await sleep(0x64);}}async function loadSymbols(){const _0x3e83a4=_0x2606cb;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object['entries'](markets)[_0x3e83a4(0x2e9)](_0x6eed22=>{const _0x2e94ec=_0x3e83a4;_0x6eed22[0x1][_0x2e94ec(0x2fc)]&&_0x6eed22[0x1]['spot']&&allSymbols['push'](_0x6eed22[0x0]);});}catch(_0x4f3535){throw _0x4f3535;}}function validateSymbols(_0x1a09bc){const _0x2498ed=_0x2606cb;let _0x574a32=[];return _0x1a09bc[_0x2498ed(0x2e9)](_0x2d5af0=>{const _0x4c733c=_0x2498ed;!allSymbols['includes'](_0x2d5af0)?logHistory('error',_0x4c733c(0x253)+_0x2d5af0+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x574a32[_0x4c733c(0x2ed)](_0x2d5af0);}),_0x574a32;}async function initclient(){const _0xe25669=_0x2606cb;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0xe25669(0x288),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xe25669(0x28c),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x28c4ac=getNormalizedPerformance();emitPerformance(_0x28c4ac),getStartingBalances(_0x28c4ac);}async function toggleBotMode(){const _0x481b2f=_0x2606cb;let _0x2a8b61=dbConfig[_0x481b2f(0x1f8)](_0x481b2f(0x2fd))[_0x481b2f(0x339)]({'botID':botID})[_0x481b2f(0x209)]();if(_0x2a8b61){const _0x56b7b0=!_0x2a8b61[_0x481b2f(0x21d)];dbConfig['get']('bot')['find']({'botID':botID})[_0x481b2f(0x34c)]({'headless':_0x56b7b0})[_0x481b2f(0x316)](),config[_0x481b2f(0x21d)]=_0x56b7b0,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5c38e4=_0x2606cb;process[_0x5c38e4(0x364)]({'updatebotmanager':!![]},_0x16bca1=>{}),logger[_0x5c38e4(0x203)](_0x5c38e4(0x2fe)+config[_0x5c38e4(0x21d)]);}async function loadCoins(_0x5c6e0e){const _0x488d22=_0x2606cb;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x12261a,_0x1b4468=0x0,_0x441650=0x0;_0x5c6e0e[_0x488d22(0x2e9)](_0x352956=>{const _0x4b169d=_0x488d22;loading['remainingSymbols'][_0x4b169d(0x2ed)](_0x352956);}),loadingCanceled=![];let _0x252811=![];while(_0x12261a!=_0x5c6e0e[_0x488d22(0x298)]+maxLoadingProgress){_0x12261a=loadingProgress,_0x5c6e0e['forEach'](_0xd2c2b5=>{const _0x32c91e=_0x488d22;if(global[_0x32c91e(0x30c)][noslash(_0xd2c2b5)]){loading[_0x32c91e(0x211)]=loading['remainingSymbols'][_0x32c91e(0x30b)](_0x5ad9b5=>_0x5ad9b5!=_0xd2c2b5);if(!watchedSymbols[_0x32c91e(0x1e9)](_0xd2c2b5))watchedSymbols['push'](_0xd2c2b5);_0x12261a++;}}),loading[_0x488d22(0x230)]=Math['round'](_0x12261a/(_0x5c6e0e['length']+maxLoadingProgress)*0x64);loading[_0x488d22(0x230)]!=0x64&&(_0x441650>0x1e*0x5&&(loading[_0x488d22(0x278)]=!![],emitLoadingProgress()),_0x441650>0x78*0x5&&!_0x252811&&(_0x252811=!![],logHistory(_0x488d22(0x2a5),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading['remainingSymbols'][_0x488d22(0x217)](',\x20')+_0x488d22(0x26c)),logHistory('error',_0x488d22(0x29c)+loadCoinsRetryInterval/0xea60+_0x488d22(0x233)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x2d4794=_0x488d22;process[_0x2d4794(0x364)]({'stop':_0x2d4794(0x1d6)},_0xa2677b=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x1b4468!=loading[_0x488d22(0x230)]&&(_0x1b4468=loading[_0x488d22(0x230)],emitLoadingProgress()),_0x441650++,await sleep(0xc8);}_0x12261a==_0x5c6e0e[_0x488d22(0x298)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x488d22(0x364)]({'status':_0x488d22(0x279),'live':_0x488d22(0x2dc)},_0x5a1b75=>{}),_0x252811&&logHistory('success',_0x488d22(0x365)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4fdaed=_0x2606cb;proxyEmit(_0x4fdaed(0x360),{...emittedConfiguration(),'configstate':_0x4fdaed(0x255)});}function emitLoadingProgress(){const _0xdf3055=_0x2606cb;proxyEmit(_0xdf3055(0x2e0),loading);}async function getFiat(){const _0x3a275b=_0x2606cb;let _0x546f7c=global[_0x3a275b(0x30c)][stablecoins[_0x3a275b(0x34b)][_0x3a275b(0x2a4)]],_0x30fb88=global[_0x3a275b(0x30c)][stablecoins[_0x3a275b(0x21c)][_0x3a275b(0x2a4)]];return{'eur':Number(_0x546f7c),'usd':Number(_0x30fb88)};}function capitalize(_0x5a9caf){const _0x10ddc1=_0x2606cb;return _0x5a9caf[_0x10ddc1(0x25c)](0x0,0x1)[_0x10ddc1(0x2d6)]()+_0x5a9caf['substring'](0x1);}function supportedExchanges(){const _0x196657=_0x2606cb,_0x2d807c=['ws','fetchTickers','fetchTicker',_0x196657(0x1d7),_0x196657(0x2e2),'cancelOrder',_0x196657(0x29f),'fetchOpenOrders','fetchClosedOrders',_0x196657(0x35f)];let _0x5d00f8=[],_0x303bc9=[],_0x328561=ccxt['pro'][_0x196657(0x288)];_0x328561[_0x196657(0x2e9)](_0x11b73e=>{const _0x2bc160=_0x196657;try{const _0x43443e=new ccxt[(_0x2bc160(0x347))][_0x11b73e]();_0x303bc9['push'](_0x43443e);}catch(_0x29e38b){}}),_0x303bc9[_0x196657(0x2e9)](_0x3b5395=>{const _0x35590c=_0x196657;let _0x58efa4=0x0;_0x2d807c[_0x35590c(0x2e9)](_0x445f47=>{const _0x3c8126=_0x35590c;_0x445f47 in _0x3b5395[_0x3c8126(0x20e)]&&_0x3b5395[_0x3c8126(0x20e)][_0x445f47]&&_0x58efa4++;}),_0x58efa4==_0x2d807c[_0x35590c(0x298)]&&_0x5d00f8[_0x35590c(0x2ed)](capitalize(_0x3b5395['id']));});let _0x52a245=[];return _0x328561['forEach'](_0x20b90d=>{const _0xc2c89=_0x196657;_0x20b90d=capitalize(_0x20b90d);if(!_0x5d00f8[_0xc2c89(0x1e9)](_0x20b90d))_0x52a245[_0xc2c89(0x2ed)](_0x20b90d);}),_0x5d00f8;}function setStartDatePerformance(){const _0x4754e2=_0x2606cb;if(config&&config[_0x4754e2(0x302)][0x0]['changes'][_0x4754e2(0x298)]!=0x0){const _0x20c316=config[_0x4754e2(0x302)][0x0][_0x4754e2(0x23a)];dbPerformance['get']('data')[_0x4754e2(0x339)]({'date':config[_0x4754e2(0x268)]})['assign']({'coins':_0x20c316})['write']();}}async function recreateCoinResults(){const _0x18a6cd=_0x2606cb;let _0x39793e,_0x9b744a=[];try{const _0x3a20f1=fns[_0x18a6cd(0x2bf)](fns[_0x18a6cd(0x24b)](config['startdate'][_0x18a6cd(0x325)](/\//g,'-')),_0x18a6cd(0x21e));for(const _0x5ecc9b of currentCoins){if(_0x5ecc9b['coin']!=config[_0x18a6cd(0x2eb)]){let _0x2fd2dd=0x0,_0x23766f,_0x1422bf;_0x39793e=await getAllEventOrders(_0x5ecc9b[_0x18a6cd(0x2ef)]);if(_0x39793e[_0x18a6cd(0x298)]>0x0)_0x39793e['forEach'](_0x299e63=>{const _0x30dc24=_0x18a6cd,_0x152bbc=_0x5ecc9b[_0x30dc24(0x2ef)][_0x30dc24(0x1e9)](config[_0x30dc24(0x2eb)]+'/');_0x9b744a[_0x30dc24(0x2ed)]({'datetime':_0x299e63[_0x30dc24(0x289)],'coin':_0x5ecc9b['coin'],'symbol':_0x5ecc9b[_0x30dc24(0x2ef)],'side':_0x299e63['side'],'reverse':_0x152bbc,'amount':formatResult(_0x299e63[_0x30dc24(0x305)],0x8),'filled':formatResult(_0x299e63['filled'],0x8),'price':formatResult(_0x299e63[_0x30dc24(0x273)],0x8)}),_0x2fd2dd=_0x299e63['side']==_0x30dc24(0x34f)?_0x2fd2dd+_0x299e63[_0x30dc24(0x305)]:_0x2fd2dd-_0x299e63[_0x30dc24(0x305)];if(!_0x1422bf)_0x1422bf=_0x299e63[_0x30dc24(0x273)];});_0x23766f=_0x5ecc9b[_0x18a6cd(0x2ee)]-_0x2fd2dd;let _0x387a7a;config[_0x18a6cd(0x302)][_0x18a6cd(0x2e9)](_0x4332f1=>{const _0x5ca4f1=_0x18a6cd;!_0x387a7a&&(_0x387a7a=_0x4332f1[_0x5ca4f1(0x23a)]['find'](_0x4869fc=>_0x4869fc[_0x5ca4f1(0x2a4)]==_0x5ecc9b[_0x5ca4f1(0x2a4)]),_0x387a7a&&(_0x23766f=_0x387a7a[_0x5ca4f1(0x2ee)],_0x1422bf=_0x387a7a['price']));});let _0x58a7f6=dbCoinResults['get']('coins')[_0x18a6cd(0x339)]({'coin':_0x5ecc9b[_0x18a6cd(0x2a4)]})[_0x18a6cd(0x209)]();_0x58a7f6={'coin':_0x5ecc9b[_0x18a6cd(0x2a4)],'number':_0x23766f,'breakeven':_0x1422bf,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x18a6cd(0x1f8)](_0x18a6cd(0x319))[_0x18a6cd(0x339)]({'coin':_0x5ecc9b['coin']})[_0x18a6cd(0x34c)](_0x58a7f6)[_0x18a6cd(0x316)]();}}_0x9b744a['sort']((_0x31e0bc,_0x6dbdd4)=>_0x31e0bc[_0x18a6cd(0x289)]>_0x6dbdd4[_0x18a6cd(0x289)]?0x1:_0x6dbdd4[_0x18a6cd(0x289)]>_0x31e0bc[_0x18a6cd(0x289)]?-0x1:0x0);let _0x5b37ee=0x0;for(let _0x4ff614 of _0x9b744a){await updateCoinResults(_0x4ff614,!![]);}}catch(_0x1057bb){await handleError(_0x1057bb,_0x18a6cd(0x2c3));}}async function getAllEventOrders(_0x2abbc5){const _0x13b9d9=_0x2606cb;let _0x4c682d=[],_0x3d1532=dbLogs[_0x13b9d9(0x1f8)](_0x13b9d9(0x355))['filter'](_0x4483b5=>{const _0x58e0e3=_0x13b9d9,_0x313fe3=_0x4483b5[_0x58e0e3(0x301)][_0x58e0e3(0x30f)]();return _0x313fe3['includes'](_0x2abbc5[_0x58e0e3(0x30f)]())&&(_0x313fe3[_0x58e0e3(0x1e9)](_0x58e0e3(0x2b1))&&_0x313fe3['includes']('order')||_0x313fe3[_0x58e0e3(0x1e9)](_0x58e0e3(0x305))&&_0x313fe3[_0x58e0e3(0x1e9)](_0x58e0e3(0x20c)));})['sortBy'](_0x13b9d9(0x328))[_0x13b9d9(0x209)]();return _0x3d1532[_0x13b9d9(0x2e9)](_0x1466f4=>{const _0x4cd370=_0x13b9d9,_0x38172b=_0x1466f4[_0x4cd370(0x301)]['includes'](_0x4cd370(0x337))?'sell':_0x4cd370(0x34f),_0x3d3592=/#([0-9]|\.)+\s/i,_0x2b00be=Number(_0x3d3592[_0x4cd370(0x291)](_0x1466f4[_0x4cd370(0x301)])[0x0][_0x4cd370(0x312)](0x1)),_0x18e6c8=/@([0-9]|\.)+$/i,_0x4f2864=Number(_0x18e6c8[_0x4cd370(0x291)](_0x1466f4['event'])[0x0][_0x4cd370(0x312)](0x1));_0x4c682d[_0x4cd370(0x2ed)]({'datetime':_0x1466f4[_0x4cd370(0x328)],'coin':symbolToCoin(_0x2abbc5),'symbol':_0x2abbc5,'side':_0x38172b,'amount':_0x2b00be,'filled':_0x2b00be,'price':_0x4f2864});}),_0x4c682d;}async function getAllOrders(_0x117ba3,_0x69d778){const _0x3f54b2=_0x2606cb;let _0x386b77=[];while(_0x69d778<exchange[_0x3f54b2(0x1fe)]()){const _0x16bd28=0x1f4;try{const _0x4584ff=await exchange[_0x3f54b2(0x2fb)](_0x117ba3,_0x69d778,_0x16bd28);if(_0x4584ff[_0x3f54b2(0x298)])_0x69d778=_0x4584ff[_0x4584ff[_0x3f54b2(0x298)]-0x1][_0x3f54b2(0x2f6)]+0x1,_0x386b77=_0x386b77[_0x3f54b2(0x348)](_0x4584ff);else break;}catch(_0x193649){await handleError(_0x193649,_0x3f54b2(0x2ae),_0x117ba3);}}return _0x386b77;}function _0x512b(){const _0x358aba=['Pausing\x20for\x20','reverse','map','createOrder','leftTxt',':\x20timer\x20>','8281vGqcGm','balancing\x20resumes\x20when\x20cooldown\x20ends','coin','error','6kIZjqT','getFullYear','loadMarkets','Net\x20effect','ORDERS.UNLOCKED','cancelOrder','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','message','getAllOrders()','realized','\x20change','market','valid','TUSD','sells','highest','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','2.6.0','getCoins()','change24h','net-basecoin','toFixed','Transaction\x20detection\x20blocked','InvalidNonce','final','format','must\x20be\x20greater\x20than\x20minimum\x20amount','date-fns','ID:\x20','recreateCoinResults()','getOpenOrders()','RETRY\x20-\x20Error\x20in\x20','/output-000.log','cooldown','2.3.5','marketcapApi','Order(s)\x20not\x20validated\x20after\x20','set','Waited\x20','\x20minutes','2\x20-\x20Validate\x20orders:\x20','cloneDeep','side','placeOrder()','existsSync','2\x20-\x20handling\x20FILLED\x20order:\x20','Order\x20filled:\x20','padEnd','toUpperCase','fee','41950DlJwQb','getPortfolio','showname','Cryptocom','running','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','apply','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','coin-loading-progress','change','watchOrders','13156ekaPlV','Portfolio\x20change\x20detected:\x20','limit-low','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','fetchTickers','padStart','forEach','getMinutes','basecoin','average','push','number','symbol','startsWith','axios','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','\x20orders\x20in\x20less\x20than\x20','\x20minutes\x20-\x20','privateKey','timestamp','freeze','warning','orderId',':\x20Bot\x20','fetchClosedOrders','active','bot','Headless:\x20','apiKey','market_cap','event','liquidity','Fee\x20discount\x20refund\x20detected:\x20','-------------------------------\x0a','filled','createWriteStream','API-key\x20format\x20invalid','status\x20code\x20401','colorscheme','EUR','filter','ticker','no\x20open\x20orders','showConfig','toLowerCase','recovery','Exchange','slice','limit','BTC','yargs/yargs','write','\x20-\x20pausing\x20bot\x20for\x20','\x20attempts','coins','amountToPrecision','floor','./version.json','Error\x20details:','last','************','loadSymbols()','password','yyyy/MM/dd','Limit\x20(low-margin)','data','replace','Resetting\x20bot\x20history','added','time','<b>','writeFile','trade','stopExchange()','removed','/USD','version','defaults','RSA-OAEP','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','openOrders','sha256','abs','-config.json','sell','ask','find','findIndex','lowdb','splice','portfolio','toggleBotMode','emojisell','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','remove','getDate','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20network\x20error','\x20exchange','\x20not\x20responding\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)','pro','concat','balancing\x20resumed','netoffset','eur','assign','quote','Trigger:\x20','buy','sortBy','ExchangeError','timeshift','decrypt','excluded','logs','getMonth','\x20hour','0\x20-\x20EXECUTION:\x20','startprice','storeFiat','\x20metrics:</b>\x20\x0a\x0a','net-fiat','bid','function','fetchBalance','configuration','cancelOrders()','</pre>','sendPortfolioTelegram','send','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','offset','indexOf','toString','Executing\x20exchange\x20reload','25524jAptur','keys','USDC','basecoinvalue','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','marketcapEnabled','restart','watchTrades','(((.+)+)+)+$','mkdirSync','1\x20-\x20Unlock\x20orders','16QRdPGt','1540udRuWy','5886jhNWmR','\x20closed\x20the\x20connection\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)','cost','Market','closed','UNLOCKING','distribution','RETRY\x20-\x20Problem\x20resolved\x20after\x20','full','none','recreate','lowdb/adapters/FileSync','includes','4635745ijiosM','spot','resetHistory','Resetting\x20coin\x20results:\x20','BUSD','Initializing\x20coin\x20results','ETH','success','\x20value','Reset\x20|\x20','ongoing','exchange','Insufficient\x20funds\x20to\x20execute\x20order:\x20','max','get','differenceInSeconds','1006534mpbdkq','Exception\x20thrown\x20in\x20','\x20|\x20','limits','milliseconds','percentage','uncaughtException','string','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','debug','unlinkSync','breakeven','\x20>\x20[DEBUG]\x20','argv','shift','value','random','InvalidOrder','order','threshold','has','1\x20-\x20FILLED\x20known\x20order:\x20','status','remainingSymbols','canceled','storeHeadless','split','open','recent20','join','UNLOCKED','watchTrades()','performance','Cex','usd','headless','yyyy-MM-dd\x27T\x27HH:mm:ss','rightTxt','botID','settings','OrderNotFound','exchange\x20not\x20reloaded','%\x20(','getHours','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','hybrid-crypto-js','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','type','log','ordertype','apiSecret','sendMetricsTelegram','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','-performance.json','progress','Invalid\x20API\x20key\x20or\x20secret\x20entered','bot-','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','autoliquidity','emojibuy','4buBKPn','fiat','Executed\x20','search','changes','min','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','placeOrder','Bot\x20','Binance','getPortfolio(0)','-events.json','botname','2265507kJscgP','Net\x20','Invalid\x20quantity','orderstatus','sort','currency','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(info:\x20hodlerhacks.com/fix/#clock-sync)','delta','parseISO','1529090wWYRTQ','getPortfolio(2)','AuthenticationError','apiPassword','util','red_yellow_blue','onepagemode','Invalid\x20symbol:\x20','watchOrders()','loading-canceled','BNB/','test','USDT','DDoSProtection','Order\x20amount\x20is\x20invalid:\x20','-results.json','substring','code','amount','getCoinNumber()','startnumber','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','fetchTicker','PermissionDenied','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','PAXG','ORDERS.LOCKED','***','startdate','bots','LOCKED','parse','\x20-\x20bot\x20not\x20started','\x20|\x20Custom\x20ID:\x20','stringify','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','getStartingBalances','/EUR','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','price','USD','1\x20-\x20Validate\x20orders:\x20','slider','2\x20-\x20Handled\x20open\x20orders','timeout','enabled','isEqual','customId','BNB','./config/','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','\x20exchange\x20error','page','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Bitget','InsufficientFunds','round','\x20has\x20a\x2024h\x20drop\x20of\x20','cancelLoading','date','exchanges','datetime','initial','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','balances','getTime','.json','Bybit','./logs/','exec','args','marketcap','initclient','watchTransactions()','\x20:\x20','fetchOpenOrders','length','fromCodePoint','target','\x20|\x20highest\x20fee:\x20'];_0x512b=function(){return _0x358aba;};return _0x512b();}async function validate24hChanges(){const _0x1ab43e=_0x2606cb;for(const _0x39cdec of currentCoins){if(_0x39cdec[_0x1ab43e(0x2a4)]!=config[_0x1ab43e(0x2eb)]){let _0x485559;_0x39cdec[_0x1ab43e(0x29d)]?_0x485559=formatResult((0x1/(global[_0x1ab43e(0x2e1)][noslash(_0x39cdec[_0x1ab43e(0x2ef)])]/0x64+0x1)-0x1)*0x64,0x3):_0x485559=global[_0x1ab43e(0x2e1)][noslash(_0x39cdec[_0x1ab43e(0x2ef)])],_0x485559<config[_0x1ab43e(0x2b9)]&&(logHistory(_0x1ab43e(0x2a5),_0x39cdec['coin']+_0x1ab43e(0x285)+_0x485559+'%'),logHistory(_0x1ab43e(0x2a5),_0x1ab43e(0x340)),logHistory(_0x1ab43e(0x2a5),_0x1ab43e(0x28b)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x3a902d,_0x354701){const _0x52a54e=_0x2606cb;if(!_0x3a902d)return!![];const _0x225091=_0x354701[_0x52a54e(0x214)]('.'),_0x42e02d=_0x3a902d[_0x52a54e(0x214)]('.');for(var _0x367d73=0x0;_0x367d73<_0x42e02d[_0x52a54e(0x298)];_0x367d73++){const _0x3894ea=~~_0x42e02d[_0x367d73],_0x20a1f1=~~_0x225091[_0x367d73];if(_0x3894ea<_0x20a1f1)return!![];if(_0x3894ea>_0x20a1f1)return![];}return![];}async function oneTimeMigration(){const _0x4e7067=_0x2606cb;let _0x5d9a29=dbLogs[_0x4e7067(0x1f8)]('version')['value']();if(isOlderVersion(_0x5d9a29,_0x4e7067(0x2c8))){let _0x210fa1=[];const _0x54a5fb=dbLogs[_0x4e7067(0x1f8)]('logs')['value']();_0x54a5fb[_0x4e7067(0x2e9)](_0x525066=>{const _0x87348c=_0x4e7067;_0x210fa1['push']({'time':_0x525066[_0x87348c(0x328)],'type':_0x525066[_0x87348c(0x229)],'event':_0x525066['event']});}),dbLogs['get'](_0x4e7067(0x355))[_0x4e7067(0x34c)](_0x210fa1)[_0x4e7067(0x316)]();}let _0x284814=dbConfig[_0x4e7067(0x1f8)](_0x4e7067(0x32f))[_0x4e7067(0x209)]();if(isOlderVersion(_0x284814,_0x4e7067(0x2c8))){let _0x5aabd6=dbConfig[_0x4e7067(0x1f8)]('bot')[_0x4e7067(0x339)]({'botID':botID})[_0x4e7067(0x209)]();if(_0x5aabd6){let _0x57d315=[];_0x5aabd6[_0x4e7067(0x33d)][_0x4e7067(0x2e9)](_0x2d1767=>{const _0x250bd2=_0x4e7067;_0x57d315['push']({'coin':_0x2d1767[_0x250bd2(0x2a4)],'number':_0x2d1767[_0x250bd2(0x260)],'price':_0x2d1767['startprice']}),delete _0x2d1767[_0x250bd2(0x260)],delete _0x2d1767[_0x250bd2(0x359)];});if(_0x57d315[_0x4e7067(0x298)]!==0x0)fs[_0x4e7067(0x32a)](configbackuppath+('starting-balance-'+botID+_0x4e7067(0x28e)),JSON['stringify'](_0x57d315,null,0x4),function(_0x3b793f){if(_0x3b793f){}});const _0x39f7fa=(_0x5f1a61,_0x2a46fe)=>{const _0x329699=_0x4e7067;let _0x57fe14=[];_0x2a46fe[_0x329699(0x2e9)](_0x5c0d7b=>{const _0x3f220a=_0x329699,_0x3724a4=_0x5f1a61[_0x3f220a(0x339)](_0xe126d3=>_0xe126d3['coin']==_0x5c0d7b[_0x3f220a(0x2a4)]);if(!_0x3724a4)_0x57fe14[_0x3f220a(0x2ed)](_0x5c0d7b);});let _0x2ea02f=[];return _0x5f1a61['forEach'](_0x4e0374=>{const _0x51295d=_0x329699,_0x375007=_0x2a46fe[_0x51295d(0x339)](_0x1a5bec=>_0x1a5bec[_0x51295d(0x2a4)]==_0x4e0374[_0x51295d(0x2a4)]);if(!_0x375007||_0x375007[_0x51295d(0x2ee)]==0x0&&_0x4e0374[_0x51295d(0x2ee)]!=0x0)_0x2ea02f[_0x51295d(0x2ed)](_0x4e0374);}),{'missingDay1':_0x57fe14,'notInDay2':_0x2ea02f};},_0x26ed4d=dbPerformance[_0x4e7067(0x1f8)](_0x4e7067(0x324))[_0x4e7067(0x2cf)]()[_0x4e7067(0x209)]();if(_0x26ed4d[_0x4e7067(0x298)]>0x1){const {missingDay1:_0x3bac73,notInDay2:_0x48cfac}=_0x39f7fa(_0x57d315,_0x26ed4d[0x1][_0x4e7067(0x319)]);_0x57d315=[..._0x57d315,..._0x3bac73],_0x48cfac[_0x4e7067(0x2e9)](_0xa4294e=>{const _0x48212e=_0x4e7067;let _0x45d98d=_0x57d315[_0x48212e(0x33a)](_0x498587=>_0x498587[_0x48212e(0x2a4)]==_0xa4294e['coin']);_0x45d98d!=-0x1&&_0x57d315[_0x48212e(0x33c)](_0x45d98d,0x1);});}_0x57d315[_0x4e7067(0x247)]((_0x76abed,_0x40bcc5)=>_0x76abed[_0x4e7067(0x2a4)]>_0x40bcc5[_0x4e7067(0x2a4)]?0x1:_0x40bcc5['coin']>_0x76abed['coin']?-0x1:0x0);let _0x21d7d7=[{'date':_0x5aabd6[_0x4e7067(0x268)],'changes':_0x57d315}];_0x26ed4d[_0x4e7067(0x298)]>0x2&&_0x26ed4d['forEach']((_0x568692,_0x57218b)=>{const _0x3f3147=_0x4e7067;if(_0x57218b>0x0&&_0x57218b<_0x26ed4d[_0x3f3147(0x298)]-0x1){const {missingDay1:_0x566eeb,notInDay2:_0x32cd6b}=_0x39f7fa(_0x26ed4d[_0x57218b][_0x3f3147(0x319)],_0x26ed4d[_0x57218b+0x1][_0x3f3147(0x319)]);_0x57d315=[],(_0x566eeb[_0x3f3147(0x298)]!=0x0||_0x32cd6b[_0x3f3147(0x298)]!=0x0)&&(_0x566eeb[_0x3f3147(0x298)]!=0x0&&_0x57d315[_0x3f3147(0x2ed)](..._0x566eeb),_0x32cd6b[_0x3f3147(0x298)]!=0x0&&(_0x32cd6b[_0x3f3147(0x2e9)](_0x29b3c6=>{const _0x460ca8=_0x3f3147;_0x29b3c6['number']=-_0x29b3c6[_0x460ca8(0x2ee)];}),_0x57d315[_0x3f3147(0x2ed)](..._0x32cd6b)),_0x57d315[_0x3f3147(0x247)]((_0x51e0df,_0x58c60b)=>_0x51e0df['coin']>_0x58c60b[_0x3f3147(0x2a4)]?0x1:_0x58c60b[_0x3f3147(0x2a4)]>_0x51e0df['coin']?-0x1:0x0),_0x21d7d7[_0x3f3147(0x2ed)]({'date':_0x26ed4d[_0x57218b+0x1][_0x3f3147(0x287)],'changes':_0x57d315}));}}),dbConfig[_0x4e7067(0x1f8)](_0x4e7067(0x2fd))['find']({'botID':botID})[_0x4e7067(0x34c)]({..._0x5aabd6,'liquidity':_0x21d7d7})[_0x4e7067(0x316)]();}}if(isOlderVersion(_0x284814,_0x4e7067(0x2b7))){let _0x56af13=dbConfig[_0x4e7067(0x1f8)](_0x4e7067(0x2fd))['find']({'botID':botID})[_0x4e7067(0x209)]();if(_0x56af13){const _0x579d98=_0x56af13[_0x4e7067(0x1f5)],_0xb61d36=_0x579d98?capitalize(_0x579d98):_0x4e7067(0x23f);dbConfig[_0x4e7067(0x1f8)](_0x4e7067(0x2fd))['find']({'botID':botID})[_0x4e7067(0x34c)]({'exchange':_0xb61d36})['write']();}}let _0x27d7f1=dbPerformance[_0x4e7067(0x1f8)]('version')[_0x4e7067(0x209)]();isOlderVersion(_0x27d7f1,_0x4e7067(0x2c8))&&setStartDatePerformance();let _0x7cea7=dbCoinResults[_0x4e7067(0x1f8)](_0x4e7067(0x32f))[_0x4e7067(0x209)]();if(isOlderVersion(_0x7cea7,'2.5.0')){let _0x3a9543=dbCoinResults['get'](_0x4e7067(0x319))[_0x4e7067(0x209)]();if(_0x3a9543[_0x4e7067(0x298)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x284ded=_0x2606cb;dbConfig[_0x284ded(0x2cb)](_0x284ded(0x32f),serverversion)['write'](),dbPerformance['set']('version',serverversion)['write'](),dbLogs[_0x284ded(0x2cb)](_0x284ded(0x32f),serverversion)[_0x284ded(0x316)](),dbCoinResults[_0x284ded(0x2cb)](_0x284ded(0x32f),serverversion)[_0x284ded(0x316)]();}function getConfiguration(_0xf27c0b){const _0x7484f9=_0x2606cb;let _0x5815a9=dbConfig[_0x7484f9(0x1f8)](_0x7484f9(0x2fd))[_0x7484f9(0x339)]({'botID':_0xf27c0b})['value']();if(_0x5815a9){let _0x385a09=![];typeof _0x5815a9[_0x7484f9(0x20d)]==_0x7484f9(0x201)&&(_0x5815a9={..._0x5815a9,'threshold':Number(_0x5815a9[_0x7484f9(0x20d)])},_0x385a09=!![]),_0x5815a9[_0x7484f9(0x2b9)]==undefined&&(_0x5815a9={..._0x5815a9,'change24h':-0x14},_0x385a09=!![]),_0x5815a9['fiat']==undefined&&(_0x5815a9={..._0x5815a9,'fiat':_0x7484f9(0x274)},_0x385a09=!![]),_0x5815a9[_0x7484f9(0x252)]==undefined&&(_0x5815a9={..._0x5815a9,'onepagemode':settings[_0x7484f9(0x252)]},_0x385a09=!![]),_0x5815a9['colorscheme']==undefined&&(_0x5815a9={..._0x5815a9,'colorscheme':_0x7484f9(0x251)},_0x385a09=!![]),_0x5815a9[_0x7484f9(0x234)]==undefined&&(_0x5815a9={..._0x5815a9,'autoliquidity':!![]},_0x385a09=!![]),_0x5815a9[_0x7484f9(0x2c9)]==undefined&&(_0x5815a9={..._0x5815a9,'marketcapApi':settings[_0x7484f9(0x2c9)]?!![]:![]},_0x385a09=!![]),_0x5815a9['marketcapEnabled']==undefined&&(_0x5815a9={..._0x5815a9,'marketcapEnabled':![]},_0x385a09=!![]),_0x385a09&&(_0x5815a9={'botID':_0x5815a9[_0x7484f9(0x220)],'exchange':_0x5815a9[_0x7484f9(0x1f5)],'apiKey':_0x5815a9[_0x7484f9(0x2ff)],'apiSecret':_0x5815a9[_0x7484f9(0x22c)],'apiPassword':_0x5815a9[_0x7484f9(0x24f)],'basecoin':_0x5815a9[_0x7484f9(0x2eb)],'botname':_0x5815a9[_0x7484f9(0x242)],'showname':_0x5815a9[_0x7484f9(0x2da)],'threshold':_0x5815a9[_0x7484f9(0x20d)],'ordertype':_0x5815a9[_0x7484f9(0x22b)],'timeout':_0x5815a9['timeout'],'fiat':_0x5815a9[_0x7484f9(0x237)],'startdate':_0x5815a9['startdate'],'recreate':_0x5815a9[_0x7484f9(0x1e7)],'timeshift':_0x5815a9[_0x7484f9(0x352)],'onepagemode':_0x5815a9[_0x7484f9(0x252)],'headless':_0x5815a9['headless'],'cooldown':_0x5815a9[_0x7484f9(0x2c7)],'change24h':_0x5815a9[_0x7484f9(0x2b9)],'emojibuy':_0x5815a9[_0x7484f9(0x235)],'emojisell':_0x5815a9[_0x7484f9(0x33f)],'colorscheme':_0x5815a9[_0x7484f9(0x309)],'marketcapApi':_0x5815a9[_0x7484f9(0x2c9)],'marketcapEnabled':_0x5815a9[_0x7484f9(0x1d5)],'portfolio':_0x5815a9[_0x7484f9(0x33d)],'autoliquidity':_0x5815a9[_0x7484f9(0x234)],'liquidity':_0x5815a9[_0x7484f9(0x302)],'openOrders':_0x5815a9[_0x7484f9(0x333)]},dbConfig[_0x7484f9(0x1f8)](_0x7484f9(0x2fd))[_0x7484f9(0x341)]()[_0x7484f9(0x316)](),dbConfig[_0x7484f9(0x1f8)]('bot')[_0x7484f9(0x2ed)](_0x5815a9)[_0x7484f9(0x316)]());}else _0x5815a9={'botID':_0xf27c0b,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x7484f9(0x23e)+_0xf27c0b,'showname':![],'threshold':0x3,'ordertype':_0x7484f9(0x2b1),'timeout':0x14,'fiat':_0x7484f9(0x274),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x7484f9(0x252)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x7484f9(0x251),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5815a9;}function emittedConfiguration(){const _0x319163=_0x2606cb;let _0x6c0f00;if(config[_0x319163(0x2ff)]=='')_0x6c0f00={...config,'configstate':'initial'};else config['apiKey']=='***'?_0x6c0f00={...config,'configstate':_0x319163(0x310)}:(_0x6c0f00={...config,'apiKey':'************','apiSecret':_0x319163(0x31f)},config[_0x319163(0x24f)]&&(_0x6c0f00[_0x319163(0x24f)]=_0x319163(0x31f)));return _0x6c0f00;}function getSettings(){const _0x328ae1=_0x2606cb;return dbSettings[_0x328ae1(0x1f8)](_0x328ae1(0x221))[_0x328ae1(0x209)]();}function getSecure(){const _0x1a14bf=_0x2606cb;return dbSecure[_0x1a14bf(0x1f8)]('secure')['value']()||{};}function updateTimeshift(_0x416d2d){const _0x436b86=_0x2606cb;let _0x2b19f1=dbConfig['get'](_0x436b86(0x2fd))[_0x436b86(0x339)]({'botID':botID})[_0x436b86(0x209)]();_0x2b19f1&&dbConfig[_0x436b86(0x1f8)](_0x436b86(0x2fd))[_0x436b86(0x339)]({'botID':botID})[_0x436b86(0x34c)]({'timeshift':_0x416d2d})[_0x436b86(0x316)](),config['timeshift']=_0x416d2d,proxyEmit(_0x436b86(0x360),emittedConfiguration());}function updateOnepagemode(_0x15107e){const _0x9004a=_0x2606cb;let _0x4919ff=dbConfig[_0x9004a(0x1f8)](_0x9004a(0x2fd))[_0x9004a(0x339)]({'botID':botID})['value']();_0x4919ff&&dbConfig[_0x9004a(0x1f8)](_0x9004a(0x2fd))[_0x9004a(0x339)]({'botID':botID})[_0x9004a(0x34c)]({'onepagemode':_0x15107e})['write'](),config[_0x9004a(0x252)]=_0x15107e,proxyEmit(_0x9004a(0x360),emittedConfiguration());}function updateMarketcapApi(_0x2e78f){const _0x5b2191=_0x2606cb,_0x729666=_0x2e78f?!![]:![];let _0xd86689=dbConfig[_0x5b2191(0x1f8)]('bot')['find']({'botID':botID})['value']();_0xd86689&&dbConfig[_0x5b2191(0x1f8)]('bot')[_0x5b2191(0x339)]({'botID':botID})['assign']({'marketcapApi':_0x729666})[_0x5b2191(0x316)](),config['marketcapApi']=_0x729666,getMarketCap(),proxyEmit(_0x5b2191(0x360),emittedConfiguration());}async function storeConfiguration(_0x36ea34){const _0x12d0c9=_0x2606cb;logger[_0x12d0c9(0x203)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x12d0c9(0x203)](_0x12d0c9(0x2bc));let _0x5dc10f=![],_0x517759=![],_0x5bac2d=[];_0x36ea34[_0x12d0c9(0x33d)][_0x12d0c9(0x2e9)](_0x5caa87=>{const _0x2a24c1=_0x12d0c9;if(!_0x5caa87[_0x2a24c1(0x354)]&&_0x5caa87[_0x2a24c1(0x2a4)]!=_0x36ea34[_0x2a24c1(0x2eb)])_0x5bac2d[_0x2a24c1(0x2ed)](_0x5caa87[_0x2a24c1(0x2ef)]);}),_0x5bac2d[_0x12d0c9(0x2e9)](_0x1bfa41=>{const _0x4dc860=_0x12d0c9,_0x4b4f00=currentCoins[_0x4dc860(0x339)](_0x115927=>_0x115927['symbol']==_0x1bfa41);!_0x4b4f00&&(_0x5dc10f=!![]);}),currentCoins['forEach'](_0x3550a3=>{const _0x51d17b=_0x12d0c9;if(_0x3550a3[_0x51d17b(0x2a4)]!=config[_0x51d17b(0x2eb)]){const _0x57da58=_0x5bac2d[_0x51d17b(0x339)](_0x50d40b=>_0x50d40b==_0x3550a3[_0x51d17b(0x2ef)]);!_0x57da58&&(_0x5dc10f=!![]);}}),_0x36ea34[_0x12d0c9(0x33d)][_0x12d0c9(0x2e9)](_0x4650dd=>{const _0x16e7d2=_0x12d0c9,_0x579115=config[_0x16e7d2(0x33d)][_0x16e7d2(0x339)](_0x319571=>_0x319571['coin']==_0x4650dd[_0x16e7d2(0x2a4)]);if(_0x579115&&_0x4650dd[_0x16e7d2(0x366)]!=_0x579115[_0x16e7d2(0x366)])_0x517759=!![];});let _0xdfd001=dbConfig[_0x12d0c9(0x1f8)](_0x12d0c9(0x2fd))[_0x12d0c9(0x339)]({'botID':botID})[_0x12d0c9(0x209)]();_0x36ea34={..._0x36ea34,'apiKey':crypt[_0x12d0c9(0x353)](secure[_0x12d0c9(0x2f5)],_0x36ea34['apiKey'])[_0x12d0c9(0x2ad)],'apiSecret':crypt[_0x12d0c9(0x353)](secure[_0x12d0c9(0x2f5)],_0x36ea34[_0x12d0c9(0x22c)])[_0x12d0c9(0x2ad)]};_0x36ea34[_0x12d0c9(0x24f)]&&(_0x36ea34[_0x12d0c9(0x24f)]=crypt[_0x12d0c9(0x353)](secure[_0x12d0c9(0x2f5)],_0x36ea34[_0x12d0c9(0x24f)])[_0x12d0c9(0x2ad)]);let _0x325b7f=![];if(_0xdfd001){_0x36ea34[_0x12d0c9(0x2ff)]==_0x12d0c9(0x31f)?_0x36ea34['apiKey']=config[_0x12d0c9(0x2ff)]:_0x325b7f=!![];_0x36ea34['apiSecret']==_0x12d0c9(0x31f)?_0x36ea34[_0x12d0c9(0x22c)]=config[_0x12d0c9(0x22c)]:_0x325b7f=!![];if(_0x36ea34[_0x12d0c9(0x24f)]==_0x12d0c9(0x31f))_0x36ea34[_0x12d0c9(0x24f)]=config[_0x12d0c9(0x24f)];else{if(_0x36ea34[_0x12d0c9(0x24f)])_0x325b7f=!![];}dbConfig[_0x12d0c9(0x1f8)](_0x12d0c9(0x2fd))[_0x12d0c9(0x339)]({'botID':botID})[_0x12d0c9(0x34c)](_0x36ea34)[_0x12d0c9(0x316)]();}else dbConfig[_0x12d0c9(0x1f8)]('bot')[_0x12d0c9(0x2ed)](_0x36ea34)[_0x12d0c9(0x316)](),_0x325b7f=!![],process[_0x12d0c9(0x364)]({'status':_0x12d0c9(0x279),'live':_0x12d0c9(0x2dc)},_0x23d21b=>{});process[_0x12d0c9(0x364)]({'botname':_0x36ea34['botname']},_0x55dd21=>{}),config={..._0x36ea34},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x325b7f)await reset(!![]);else _0x5dc10f||_0x517759?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x12d0c9(0x203)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x52470d){const _0x12d100=_0x2606cb,_0x220413={...config,'headless':_0x52470d[_0x12d100(0x21d)]};let _0x12c33b=dbConfig['get'](_0x12d100(0x2fd))['find']({'botID':botID})[_0x12d100(0x209)]();_0x12c33b&&dbConfig[_0x12d100(0x1f8)](_0x12d100(0x2fd))[_0x12d100(0x339)]({'botID':botID})[_0x12d100(0x34c)](_0x220413)[_0x12d100(0x316)](),config={..._0x220413},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x2cfbd4){const _0x15a2c5=_0x2606cb,_0x219547={...config,'fiat':_0x2cfbd4};let _0x303465=dbConfig['get']('bot')['find']({'botID':botID})[_0x15a2c5(0x209)]();_0x303465&&dbConfig[_0x15a2c5(0x1f8)](_0x15a2c5(0x2fd))[_0x15a2c5(0x339)]({'botID':botID})[_0x15a2c5(0x34c)](_0x219547)[_0x15a2c5(0x316)](),config={..._0x219547},proxyEmit(_0x15a2c5(0x360),emittedConfiguration());}function resetHistory(){const _0x388a55=_0x2606cb;logger[_0x388a55(0x1e5)](_0x388a55(0x326));try{if(fs[_0x388a55(0x2d2)](path[_0x388a55(0x217)](configpath,_0x388a55(0x232)+botID+'-events.json')))fs[_0x388a55(0x204)](path[_0x388a55(0x217)](configpath,_0x388a55(0x232)+botID+_0x388a55(0x241)));if(fs[_0x388a55(0x2d2)](path[_0x388a55(0x217)](configpath,_0x388a55(0x232)+botID+'-performance.json')))fs[_0x388a55(0x204)](path[_0x388a55(0x217)](configpath,'bot-'+botID+'-performance.json'));if(fs[_0x388a55(0x2d2)](path[_0x388a55(0x217)](configpath,_0x388a55(0x232)+botID+_0x388a55(0x25b))))fs[_0x388a55(0x204)](path[_0x388a55(0x217)](configpath,_0x388a55(0x232)+botID+_0x388a55(0x25b)));}catch(_0x2bdcce){if(_0x2bdcce)logger[_0x388a55(0x1e5)]('Error\x20while\x20deleting\x20files:\x20',_0x2bdcce);}const _0x500a2a=getDate();let _0x4dba81=[];currentCoins[_0x388a55(0x2e9)](_0x219063=>{const _0x3c5e59=_0x388a55;_0x4dba81[_0x3c5e59(0x2ed)]({'coin':_0x219063['coin'],'number':_0x219063[_0x3c5e59(0x2ee)],'price':_0x219063[_0x3c5e59(0x31e)]});});let _0x2c2df1=dbConfig[_0x388a55(0x1f8)](_0x388a55(0x2fd))[_0x388a55(0x339)]({'botID':botID})[_0x388a55(0x209)]();_0x2c2df1&&(dbConfig[_0x388a55(0x1f8)](_0x388a55(0x2fd))[_0x388a55(0x339)]({'botID':botID})[_0x388a55(0x34c)]({'liquidity':[{'date':_0x500a2a,'changes':_0x4dba81}]})[_0x388a55(0x316)](),config['liquidity']=[]),process['send']({'stop':'restart'},_0x424ff9=>{});}function noslash(_0x138e82){const _0x5017ac=_0x2606cb;return _0x138e82[_0x5017ac(0x325)]('/','');}function updateHighestFee(_0x330e39){const _0x1b6e17=_0x2606cb;if(_0x330e39[_0x1b6e17(0x29d)]){let _0x36bb74={'filled':_0x330e39[_0x1b6e17(0x305)]*_0x330e39[_0x1b6e17(0x273)],'amount':_0x330e39['filled']*_0x330e39[_0x1b6e17(0x273)],'side':_0x330e39['side']==_0x1b6e17(0x337)?_0x1b6e17(0x34f):_0x1b6e17(0x337),'price':0x1/_0x330e39[_0x1b6e17(0x273)]};_0x330e39={..._0x330e39,..._0x36bb74};}const _0x1fe420=defaultFee*_0x330e39['filled']*_0x330e39[_0x1b6e17(0x273)];lastFees[_0x1b6e17(0x216)][_0x1b6e17(0x298)]===0x14&&lastFees[_0x1b6e17(0x216)][_0x1b6e17(0x208)](),lastFees['recent20']['push'](_0x1fe420),lastFees[_0x1b6e17(0x2b5)]=Math[_0x1b6e17(0x1f7)](...lastFees[_0x1b6e17(0x216)]);}async function updateNumberCoinsCcxt(_0x3f2e55){const _0x482530=_0x2606cb;logger[_0x482530(0x203)](_0x482530(0x358)+_0x3f2e55['symbol']+_0x482530(0x1fc)+_0x3f2e55[_0x482530(0x210)]+_0x482530(0x1fc)+_0x3f2e55['filled']+'\x20/\x20'+_0x3f2e55[_0x482530(0x25e)]+'\x20|\x20'+_0x3f2e55['id']);let _0x3002ba=_0x3f2e55['status'],_0x3bcd6b=![];currentCoins['forEach'](_0x4f957d=>{_0x4f957d['symbol']==_0x3f2e55['symbol']&&(_0x3bcd6b=!![]);});if(!_0x3bcd6b)return;const _0x5e92db=currentCoins[_0x482530(0x339)](_0x598e9b=>_0x598e9b['symbol']==_0x3f2e55[_0x482530(0x2ef)]),_0x2b865f=_0x20c51c=>{if(_0x5e92db)_0x5e92db['orderstatus']=_0x20c51c;};if(_0x3002ba=='open')_0x2b865f('open');else{if(_0x3002ba==_0x482530(0x212)){_0x2b865f(_0x482530(0x212));const _0x195786=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x195786,await getOpenOrders(),handleOpenOrders();}else{if(_0x3002ba==_0x482530(0x1e1)){let _0x5c78cd=![];if(lastOrders)for(const _0xa88c98 of lastOrders){const _0x2e5103=0xc8,_0x540585=0x1388;let _0x5ca969=0x0;while(!_0xa88c98[_0x482530(0x2f9)]&&_0x5ca969*_0x2e5103<_0x540585){_0x5ca969++,await sleep(_0x2e5103);}if(_0x5ca969>0x0)logger['debug'](_0x482530(0x2cc)+_0x5ca969*_0x2e5103/0x3e8+_0x482530(0x2df));if(_0xa88c98[_0x482530(0x2f9)]==_0x3f2e55['id']){logger[_0x482530(0x203)](_0x482530(0x20f)+_0x3f2e55['id']),_0x5c78cd=!![];if(_0xa88c98[_0x482530(0x305)]==0x0){logger[_0x482530(0x203)](_0x482530(0x2d3)+_0x3f2e55['id']);if(_0x3f2e55['average'])_0xa88c98['price']=_0x3f2e55[_0x482530(0x2ec)];else{if(_0x3f2e55['price'])_0xa88c98[_0x482530(0x273)]=_0x3f2e55[_0x482530(0x273)];else{}}_0xa88c98['filled']=_0x3f2e55[_0x482530(0x305)],updateHighestFee(_0xa88c98),_0x2b865f(_0x482530(0x305)),await validateOrders();if(lockOrders==ORDERS[_0x482530(0x26a)]){const _0x7cc6d6=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x7cc6d6;}_0xa88c98[_0x482530(0x2d7)]={'currency':_0x3f2e55['fee']?_0x3f2e55[_0x482530(0x2d7)][_0x482530(0x248)]:null,'cost':_0x3f2e55['fee']?_0x3f2e55[_0x482530(0x2d7)][_0x482530(0x1df)]:0x0},await updateCoinResults(_0xa88c98);}}}if(!_0x5c78cd){logger[_0x482530(0x203)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x3f2e55['id']),_0x2b865f(_0x482530(0x305));const _0x411881=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x411881,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x3de68b=JSON[_0x482530(0x26b)](lastBalances['portfolio']);const _0x52d2ac=_0x3de68b['find'](_0x381b3c=>_0x381b3c[_0x482530(0x2ef)]==_0x3f2e55[_0x482530(0x2ef)]);if(_0x52d2ac){if(_0x3002ba=='open')_0x52d2ac[_0x482530(0x246)]=_0x52d2ac[_0x482530(0x246)]=='filled'?'filled':_0x482530(0x215);else{if(_0x3002ba==_0x482530(0x212))_0x52d2ac[_0x482530(0x246)]=_0x52d2ac[_0x482530(0x246)]==_0x482530(0x305)?'filled':'canceled';else _0x3002ba==_0x482530(0x1e1)&&(_0x52d2ac[_0x482530(0x246)]=_0x482530(0x305));}}lastBalances={...lastBalances,'portfolio':JSON[_0x482530(0x26e)](_0x3de68b)},proxyEmit(_0x482530(0x28c),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x3e9fd7=_0x2606cb;await getOpenOrders();let _0x3da72e=![];currentCoins[_0x3e9fd7(0x2e9)](_0x3b3f2b=>{const _0x29a5b0=_0x3e9fd7;_0x3da72e=allOpenOrders['find'](_0x16aea5=>_0x16aea5[_0x29a5b0(0x2ef)]==_0x3b3f2b['symbol']),_0x3b3f2b[_0x29a5b0(0x246)]=_0x3da72e?_0x29a5b0(0x215):_0x29a5b0(0x1e6);});}async function getCoins(_0x206fb6=0x0,_0x205e1d=!![],_0x367a1c=config['basecoin']){const _0x5de89b=_0x2606cb;let _0x1165f,_0x288246=[],_0x422659=[],_0x2cc8d1=[];if(_0x206fb6)await sleep(_0x206fb6);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x1165f=await exchange[_0x5de89b(0x35f)](),mybalances=_0x1165f['total'];for(const [_0x1603a9,_0x451fcb]of Object['entries'](mybalances)){_0x2cc8d1[_0x5de89b(0x2ed)](_0x1603a9);}config[_0x5de89b(0x33d)]['forEach'](_0x1a55b0=>{const _0x1cc242=_0x5de89b;!_0x2cc8d1[_0x1cc242(0x1e9)](_0x1a55b0[_0x1cc242(0x2a4)])&&(mybalances[_0x1a55b0[_0x1cc242(0x2a4)]]=0x0);});if(_0x367a1c=='')for(const [_0x2203b5,_0x21520d]of Object['entries'](mybalances)){_0x21520d!=0x0&&_0x288246[_0x5de89b(0x2ed)]({'coin':_0x2203b5});}else for(const [_0x39fff0,_0x34f138]of Object['entries'](mybalances)){const _0x21b09d=config[_0x5de89b(0x33d)][_0x5de89b(0x339)](_0x5071ed=>_0x5071ed[_0x5de89b(0x2a4)]==_0x39fff0),_0x24bcc7=_0x39fff0+'/'+_0x367a1c,_0x1e6c2e=_0x367a1c+'/'+_0x39fff0,_0x1580a0=currentCoins['find'](_0x304176=>_0x304176['coin']==_0x39fff0);if((_0x34f138!=0x0||_0x21b09d)&&(allSymbols[_0x5de89b(0x1e9)](_0x24bcc7)||_0x39fff0==_0x367a1c))_0x1580a0?_0x288246[_0x5de89b(0x2ed)]({..._0x1580a0,'number':Math[_0x5de89b(0x1f7)](_0x34f138+(_0x21b09d&&_0x21b09d[_0x5de89b(0x366)]||0x0),0x0)}):_0x288246[_0x5de89b(0x2ed)]({'coin':_0x39fff0,'symbol':_0x24bcc7,'reverse':![],'number':Math[_0x5de89b(0x1f7)](_0x34f138+(_0x21b09d&&_0x21b09d['offset']||0x0),0x0),'orderstatus':_0x5de89b(0x1e6)});else{if((_0x34f138!=0x0||_0x21b09d)&&allSymbols['includes'](_0x1e6c2e))_0x1580a0?_0x288246[_0x5de89b(0x2ed)]({..._0x1580a0,'number':Math[_0x5de89b(0x1f7)](_0x34f138+(_0x21b09d&&_0x21b09d['offset']||0x0),0x0)}):_0x288246[_0x5de89b(0x2ed)]({'coin':_0x39fff0,'symbol':_0x1e6c2e,'reverse':!![],'number':Math[_0x5de89b(0x1f7)](_0x34f138+(_0x21b09d&&_0x21b09d[_0x5de89b(0x366)]||0x0),0x0),'orderstatus':_0x5de89b(0x1e6)});else _0x21b09d&&_0x288246[_0x5de89b(0x2ed)]({'coin':_0x21b09d['coin'],'symbol':_0x21b09d['symbol'],'reverse':_0x21b09d[_0x5de89b(0x29d)],'number':0x0,'orderstatus':'none'});}}}catch(_0x37affc){if(!_0x205e1d)handleErrorNoStop(_0x37affc,_0x5de89b(0x2b8));else await handleError(_0x37affc,_0x5de89b(0x2b8));}return _0x288246[_0x5de89b(0x247)]((_0x33aa82,_0x3bebe9)=>_0x33aa82[_0x5de89b(0x24a)]<_0x3bebe9[_0x5de89b(0x24a)]?0x1:_0x3bebe9['delta']<_0x33aa82['delta']?-0x1:0x0),_0x422659=cloneDeep(_0x288246),_0x288246=_0x288246[_0x5de89b(0x30b)](_0x1d242c=>{const _0x18e475=_0x5de89b,_0x585476=config[_0x18e475(0x33d)][_0x18e475(0x339)](_0x8b91f8=>_0x8b91f8[_0x18e475(0x2a4)]==_0x1d242c[_0x18e475(0x2a4)]);return _0x585476&&!_0x585476['excluded'];}),[_0x288246,_0x422659];}async function getCoinNumber(_0x403c9c){const _0x58591d=_0x2606cb;let _0x1c9e8c;try{const _0x5f3677=await exchange[_0x58591d(0x35f)]();_0x1c9e8c=_0x5f3677['total'][_0x403c9c];}catch(_0xf987c6){await handleError(_0xf987c6,_0x58591d(0x25f));}return _0x1c9e8c;}async function getOpenOrders(){const _0x5c02c1=_0x2606cb;let _0x161490;allOpenOrders=[];try{for(const _0xbf480c of config[_0x5c02c1(0x33d)]){!_0xbf480c[_0x5c02c1(0x354)]&&_0xbf480c[_0x5c02c1(0x2a4)]!=config['basecoin']&&(_0x161490=await exchange[_0x5c02c1(0x297)](_0xbf480c[_0x5c02c1(0x2ef)]),_0x161490[_0x5c02c1(0x298)]>0x0&&allOpenOrders[_0x5c02c1(0x2ed)](_0x161490[0x0]));}}catch(_0x528c9c){await handleError(_0x528c9c,_0x5c02c1(0x2c4));}}async function handleOpenOrders(_0x5aa14a=0x0){const _0x2c47fe=_0x2606cb;allOpenOrders[_0x2c47fe(0x298)]==0x0&&lockOrders==ORDERS[_0x2c47fe(0x26a)]&&allOrdersPlaced&&(_0x5aa14a==0x0?(logger[_0x2c47fe(0x203)]('1\x20-\x20Handle\x20open\x20orders'),_0x5aa14a++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x2c47fe(0x203)](_0x2c47fe(0x277)),validateOrders(_0x2c47fe(0x30d))));}async function testAPI(_0x2f574c){const _0x1363bb=_0x2606cb,_0x24f9bd=ccxt['pro'][_0x2f574c[_0x1363bb(0x1f5)][_0x1363bb(0x30f)]()],_0x28a0f3=new _0x24f9bd({'apiKey':_0x2f574c['apiKey'],'secret':_0x2f574c[_0x1363bb(0x22c)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x2f574c['apiPassword'])_0x28a0f3[_0x1363bb(0x321)]=_0x2f574c[_0x1363bb(0x24f)];try{await _0x28a0f3[_0x1363bb(0x2a8)]();}catch(_0x4b0e1c){throw _0x4b0e1c;}}function cloneDeep(_0x19786b){const _0x4bbb90=_0x2606cb;return JSON[_0x4bbb90(0x26b)](JSON[_0x4bbb90(0x26e)](_0x19786b));}async function getPortfolio(_0x48054a){const _0x286ae7=_0x2606cb;let _0x23509f=[],_0x104c88=[],_0x1939d6=[],_0x1d0f67;if(_0x48054a[_0x286ae7(0x2ff)]!==_0x286ae7(0x31f)||_0x48054a[_0x286ae7(0x22c)]!==_0x286ae7(0x31f)||_0x48054a['apiPassword']&&_0x48054a[_0x286ae7(0x24f)]!==_0x286ae7(0x31f)){if(config[_0x286ae7(0x1f5)]){if(_0x48054a[_0x286ae7(0x2ff)]==_0x286ae7(0x31f))_0x48054a[_0x286ae7(0x2ff)]=config[_0x286ae7(0x2ff)];if(_0x48054a[_0x286ae7(0x22c)]=='************')_0x48054a[_0x286ae7(0x22c)]=config['apiSecret'];if(_0x48054a[_0x286ae7(0x24f)]=='************')_0x48054a['apiPassword']=config[_0x286ae7(0x24f)];try{await testAPI(_0x48054a);}catch(_0x2a72f7){if(_0x2a72f7[_0x286ae7(0x368)]()['includes'](_0x286ae7(0x24e))){logger[_0x286ae7(0x203)](_0x286ae7(0x231)),proxyEmit('portfolio',![]);return;}else{handleError(_0x2a72f7,_0x286ae7(0x240));return;}}}await initExchange(_0x48054a[_0x286ae7(0x1f5)],_0x48054a[_0x286ae7(0x2ff)],_0x48054a[_0x286ae7(0x22c)],_0x48054a[_0x286ae7(0x24f)]);try{await loadSymbols();}catch(_0x4c5d52){if(_0x4c5d52[_0x286ae7(0x368)]()['includes'](_0x286ae7(0x24e))){proxyEmit(_0x286ae7(0x33d),![]);return;}else{handleError(_0x4c5d52,'getPortfolio(1)');return;}}const _0x2c8957=await getCoins(0x0,![],_0x48054a['basecoin']);_0x1939d6=cloneDeep(_0x2c8957[0x1]);}else{const _0x4ce7a6=await getCoins();_0x1939d6=cloneDeep(_0x4ce7a6[0x1]);}if(_0x48054a[_0x286ae7(0x2eb)]=='')proxyEmit('portfolio',_0x1939d6);else{_0x1939d6['forEach'](_0x50497f=>{const _0x558d75=_0x286ae7;if(_0x50497f['coin']!=_0x48054a[_0x558d75(0x2eb)]&&allSymbols['includes'](_0x50497f[_0x558d75(0x2ef)]))_0x23509f['push'](_0x50497f[_0x558d75(0x2ef)]);});if(_0x23509f['length']==0x0)logHistory('error','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x104c88=await getTickers(_0x23509f);}catch(_0x4187b1){if(_0x4187b1[_0x286ae7(0x368)]()[_0x286ae7(0x1e9)]('AuthenticationError')){proxyEmit(_0x286ae7(0x33d),![]);return;}else handleError(_0x4187b1,_0x286ae7(0x24d));}_0x1939d6[_0x286ae7(0x2e9)](_0x62d7f5=>{const _0x4ebac4=_0x286ae7;_0x62d7f5[_0x4ebac4(0x2a4)]!=_0x48054a[_0x4ebac4(0x2eb)]?_0x104c88[_0x62d7f5['symbol']]?_0x1d0f67=_0x62d7f5['reverse']?0x1/_0x104c88[_0x62d7f5['symbol']][_0x4ebac4(0x31e)]:_0x104c88[_0x62d7f5[_0x4ebac4(0x2ef)]]['last']:_0x1d0f67=0x0:_0x1d0f67=0x1,_0x62d7f5[_0x4ebac4(0x273)]=formatResult(_0x1d0f67,0x8);}),await getMarketCap(_0x1939d6),proxyEmit(_0x286ae7(0x33d),_0x1939d6);}}}function truncateTradeAmount(_0x15963d,_0x46210e){const _0x47c727=_0x2606cb;let _0x4e3b96=0x0;try{_0x4e3b96=exchange[_0x47c727(0x31a)](_0x15963d,_0x46210e);}catch(_0x3bb279){}return _0x4e3b96;}function checkMinimums(_0x280153){const _0x7dbb9a=_0x2606cb;let _0x9658a4=!![];const _0x590864=!_0x280153[_0x7dbb9a(0x29d)]?markets[_0x280153['symbol']][_0x7dbb9a(0x1fd)][_0x7dbb9a(0x25e)][_0x7dbb9a(0x23b)]:markets[_0x280153[_0x7dbb9a(0x2ef)]][_0x7dbb9a(0x1fd)][_0x7dbb9a(0x1df)][_0x7dbb9a(0x23b)],_0x93b2d0=!_0x280153['reverse']?markets[_0x280153[_0x7dbb9a(0x2ef)]][_0x7dbb9a(0x1fd)][_0x7dbb9a(0x1df)][_0x7dbb9a(0x23b)]:markets[_0x280153[_0x7dbb9a(0x2ef)]][_0x7dbb9a(0x1fd)][_0x7dbb9a(0x25e)][_0x7dbb9a(0x23b)],_0x4576b0=truncateTradeAmount(_0x280153[_0x7dbb9a(0x2ef)],_0x280153[_0x7dbb9a(0x32b)]);_0x280153[_0x7dbb9a(0x32b)]=_0x4576b0;if(Math['abs'](_0x4576b0)<_0x590864)_0x9658a4=![];if(Math[_0x7dbb9a(0x335)](_0x4576b0)*_0x280153[_0x7dbb9a(0x31e)]<_0x93b2d0)_0x9658a4=![];if(_0x280153['side']==_0x7dbb9a(0x337)){let _0x3314c7=config[_0x7dbb9a(0x33d)][_0x7dbb9a(0x339)](_0x9bcf07=>_0x9bcf07[_0x7dbb9a(0x2a4)]==_0x280153[_0x7dbb9a(0x2a4)]);if(_0x3314c7[_0x7dbb9a(0x366)]>0x0){if(Math['abs'](_0x4576b0)>_0x280153[_0x7dbb9a(0x2ee)]-_0x3314c7[_0x7dbb9a(0x366)])_0x9658a4=![];}else{if(Math['abs'](_0x4576b0)>_0x280153[_0x7dbb9a(0x2ee)])_0x9658a4=![];}}if(_0x280153[_0x7dbb9a(0x2d0)]==_0x7dbb9a(0x34f)){let _0xa1a13e=config[_0x7dbb9a(0x33d)]['find'](_0x2858b8=>_0x2858b8[_0x7dbb9a(0x2a4)]==config[_0x7dbb9a(0x2eb)]),_0x14fd1b=currentCoins[_0x7dbb9a(0x339)](_0x4f2c7c=>_0x4f2c7c[_0x7dbb9a(0x2a4)]==config[_0x7dbb9a(0x2eb)]);if(_0xa1a13e[_0x7dbb9a(0x366)]>0x0){if(Math[_0x7dbb9a(0x335)](_0x4576b0)*_0x280153['last']>_0x14fd1b[_0x7dbb9a(0x2ee)]-_0xa1a13e[_0x7dbb9a(0x366)])_0x9658a4=![];}else{if(Math['abs'](_0x4576b0)*_0x280153[_0x7dbb9a(0x31e)]>_0x14fd1b[_0x7dbb9a(0x2ee)])_0x9658a4=![];}}return _0x9658a4;}async function getBalances(_0x1551c3=!![]){const _0x48b128=_0x2606cb;let _0x6cb26a=0x0,_0x3ae2e4;const _0x30bdab=config[_0x48b128(0x20d)];if(config[_0x48b128(0x21d)]&&config[_0x48b128(0x2b9)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x1fddba=>{const _0x301603=_0x48b128;if(_0x1fddba['coin']!=config[_0x301603(0x2eb)]){let _0x136f6e=global['ticker'][noslash(_0x1fddba['symbol'])];_0x3ae2e4=_0x1fddba[_0x301603(0x29d)]?0x1/_0x136f6e:_0x136f6e;}else _0x3ae2e4=0x1;let _0x578c22=_0x1fddba[_0x301603(0x2ee)]*_0x3ae2e4;_0x6cb26a+=_0x578c22,_0x1fddba[_0x301603(0x31e)]=formatResult(Number(_0x3ae2e4),0x8),_0x1fddba[_0x301603(0x209)]=_0x578c22;}),currentCoins[_0x48b128(0x2e9)](_0x58504d=>{const _0x21b18f=_0x48b128;let _0x298443=config['portfolio'][_0x21b18f(0x339)](_0x1c7bff=>_0x1c7bff[_0x21b18f(0x2a4)]==_0x58504d[_0x21b18f(0x2a4)]),_0x3938eb=Number(_0x298443[_0x21b18f(0x1e3)]),_0x5c2c85=_0x58504d[_0x21b18f(0x209)]/_0x6cb26a*0x64,_0x1b2e00=_0x3938eb*_0x6cb26a/0x64/_0x58504d[_0x21b18f(0x31e)]-_0x58504d[_0x21b18f(0x2ee)];_0x58504d['distribution']=formatResult(_0x5c2c85,0x3),_0x58504d[_0x21b18f(0x29a)]=formatResult(_0x3938eb,0x3),_0x58504d[_0x21b18f(0x32b)]=formatResult(_0x1b2e00,0x8),_0x58504d[_0x21b18f(0x2d0)]='',_0x58504d[_0x21b18f(0x2b2)]=![];if(_0x58504d['coin']!=config[_0x21b18f(0x2eb)]){if(_0x58504d[_0x21b18f(0x1e3)]>_0x3938eb)_0x58504d['side']=_0x21b18f(0x337),_0x58504d[_0x21b18f(0x2b2)]=checkMinimums(_0x58504d);else _0x58504d[_0x21b18f(0x1e3)]<_0x3938eb&&(_0x58504d[_0x21b18f(0x2d0)]=_0x21b18f(0x34f),_0x58504d[_0x21b18f(0x2b2)]=checkMinimums(_0x58504d));}_0x58504d[_0x21b18f(0x24a)]=_0x58504d[_0x21b18f(0x1e3)]/_0x58504d[_0x21b18f(0x29a)]-0x1;if(_0x58504d['orderstatus']==_0x21b18f(0x305)||_0x58504d[_0x21b18f(0x246)]=='canceled')_0x58504d[_0x21b18f(0x246)]=_0x21b18f(0x1e6);}),currentCoins[_0x48b128(0x247)]((_0x21eee6,_0x1bcf5e)=>_0x21eee6[_0x48b128(0x24a)]<_0x1bcf5e[_0x48b128(0x24a)]?0x1:_0x1bcf5e[_0x48b128(0x24a)]<_0x21eee6[_0x48b128(0x24a)]?-0x1:0x0);const _0x5ae68c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5ae68c['eur'],'usd':_0x5ae68c[_0x48b128(0x21c)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x30bdab},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x1551c3){if(config[_0x48b128(0x21d)])headlessMode({'portfolio':currentCoins,'threshold':_0x30bdab});else{if(lockOrders==ORDERS[_0x48b128(0x218)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x30bdab});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x110f1e=getNormalizedPerformance();getStartingBalances(_0x110f1e),emitPerformance(_0x110f1e);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x254aab=getNormalizedPerformance();emitPerformance(_0x254aab),getStartingBalances(_0x254aab),logger[_0x48b128(0x203)](_0x48b128(0x2dd));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3da7f1=_0x2606cb;if(!lastBalances)return;let _0x23476a=[],_0x4dfd51,_0x468762=JSON[_0x3da7f1(0x26b)](lastBalances['portfolio']);_0x468762['sort']((_0x2ada38,_0x2b9660)=>_0x2ada38[_0x3da7f1(0x2a4)]>_0x2b9660[_0x3da7f1(0x2a4)]?0x1:_0x2b9660[_0x3da7f1(0x2a4)]>_0x2ada38[_0x3da7f1(0x2a4)]?-0x1:0x0),_0x468762[_0x3da7f1(0x2e9)](_0x18d0a6=>{const _0x10ae20=_0x3da7f1;let _0x2691db={'coin':_0x18d0a6[_0x10ae20(0x2a4)],'number':_0x18d0a6[_0x10ae20(0x2ee)],'price':_0x18d0a6['last']};_0x23476a[_0x10ae20(0x2ed)](_0x2691db);});const _0x48704d=await getFiat();_0x4dfd51={'date':lastBalances[_0x3da7f1(0x328)][_0x3da7f1(0x214)]('\x20')[0x0],'eur':_0x48704d[_0x3da7f1(0x34b)],'usd':_0x48704d['usd'],'coins':_0x23476a};let _0x31bf6c=dbPerformance[_0x3da7f1(0x1f8)](_0x3da7f1(0x324))[_0x3da7f1(0x339)]({'date':_0x4dfd51[_0x3da7f1(0x287)]})[_0x3da7f1(0x209)]();_0x31bf6c?_0x4dfd51[_0x3da7f1(0x287)]!=config['startdate']&&dbPerformance['get'](_0x3da7f1(0x324))[_0x3da7f1(0x339)]({'date':_0x4dfd51['date']})[_0x3da7f1(0x34c)](_0x4dfd51)[_0x3da7f1(0x316)]():dbPerformance['get']('data')['push'](_0x4dfd51)[_0x3da7f1(0x316)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x45a8cb=_0x2606cb;let _0x64dd0c=[];if(dbPerformance[_0x45a8cb(0x20e)](_0x45a8cb(0x324))[_0x45a8cb(0x209)]()){let _0x50e4ee=dbPerformance[_0x45a8cb(0x1f8)](_0x45a8cb(0x324))[_0x45a8cb(0x2cf)]()[_0x45a8cb(0x30b)](_0x255d0e=>{const _0x1e121e=_0x45a8cb;if(_0x255d0e['coins'][_0x1e121e(0x298)]==0x0)return![];else return!![];})[_0x45a8cb(0x350)](_0x45a8cb(0x287))['value'](),_0x14bd82=[...config['liquidity']];_0x14bd82['sort']((_0x20a9cd,_0x151420)=>_0x20a9cd['date']>_0x151420['date']?-0x1:_0x151420[_0x45a8cb(0x287)]>_0x20a9cd[_0x45a8cb(0x287)]?0x1:0x0);let _0x367c30=0x1,_0x119b0f=[],_0x26ad82=0x0;_0x50e4ee['slice']()['reverse']()[_0x45a8cb(0x2e9)]((_0x3dad66,_0x4eb4ac)=>{const _0x379d24=_0x45a8cb;if(_0x14bd82[_0x26ad82]){if(_0x50e4ee[_0x50e4ee[_0x379d24(0x298)]-_0x4eb4ac]&&_0x14bd82[_0x26ad82][_0x379d24(0x287)]==_0x50e4ee[_0x50e4ee[_0x379d24(0x298)]-_0x4eb4ac][_0x379d24(0x287)]){if(_0x4eb4ac<_0x50e4ee[_0x379d24(0x298)]){let _0x395724=0x0,_0x2bfd59=0x0;_0x50e4ee[_0x50e4ee[_0x379d24(0x298)]-_0x4eb4ac][_0x379d24(0x319)][_0x379d24(0x2e9)](_0x3584ff=>{const _0x2791c1=_0x379d24;_0x2bfd59+=_0x3584ff[_0x2791c1(0x2ee)]*_0x3584ff[_0x2791c1(0x273)];}),_0x14bd82[_0x26ad82][_0x379d24(0x23a)][_0x379d24(0x2e9)](_0x339e1a=>{const _0x336989=_0x379d24;_0x395724+=_0x339e1a['number']*_0x339e1a[_0x336989(0x273)];}),_0x367c30*=_0x395724/(_0x2bfd59-_0x395724)+0x1;}_0x26ad82++;}}let _0x20a970=0x0;_0x3dad66[_0x379d24(0x319)][_0x379d24(0x2e9)](_0x4d1680=>{const _0x54365f=_0x379d24;_0x20a970+=_0x4d1680[_0x54365f(0x2ee)]*_0x4d1680['price'];}),_0x119b0f[_0x50e4ee['length']-_0x4eb4ac-0x1]=_0x20a970*(_0x367c30-0x1);});let _0x34c042=[];_0x14bd82=[...config[_0x45a8cb(0x302)]]||[];let _0x22040d=0x0;_0x26ad82=0x0,_0x50e4ee[_0x45a8cb(0x2e9)]((_0x390ab5,_0x11e198)=>{const _0x3a7020=_0x45a8cb;if(_0x14bd82[_0x26ad82]){const _0x37fab5=fns[_0x3a7020(0x26b)](_0x14bd82[_0x26ad82]['date'],_0x3a7020(0x322),new Date()),_0x2e7bc6=fns['parse'](_0x390ab5[_0x3a7020(0x287)],_0x3a7020(0x322),new Date());if(fns['isEqual'](_0x37fab5,_0x2e7bc6)){let _0x379662=0x0;_0x14bd82[_0x26ad82][_0x3a7020(0x23a)][_0x3a7020(0x2e9)](_0x5db598=>{const _0x1e5b96=_0x3a7020;!_0x34c042[_0x5db598[_0x1e5b96(0x2a4)]]?_0x34c042[_0x5db598['coin']]=_0x5db598['number']:(_0x379662=_0x34c042[_0x5db598[_0x1e5b96(0x2a4)]],_0x34c042[_0x5db598[_0x1e5b96(0x2a4)]]+=_0x5db598[_0x1e5b96(0x2ee)]);const _0x146913=_0x390ab5[_0x1e5b96(0x319)]['find'](_0x36f8ca=>_0x36f8ca[_0x1e5b96(0x2a4)]==_0x5db598[_0x1e5b96(0x2a4)]);(!_0x146913||_0x146913[_0x1e5b96(0x2ee)]==0x0)&&(_0x22040d+=(-_0x5db598['number']-_0x379662)*_0x5db598['price']);}),_0x26ad82++;}}_0x390ab5['coins'][_0x3a7020(0x2e9)]((_0x360165,_0x65c562)=>{const _0x53ef61=_0x3a7020;_0x34c042[_0x360165[_0x53ef61(0x2a4)]]&&(_0x360165[_0x53ef61(0x28a)]=_0x34c042[_0x360165['coin']]);}),_0x64dd0c[_0x3a7020(0x2ed)]({'date':_0x390ab5[_0x3a7020(0x287)],'eur':_0x390ab5[_0x3a7020(0x34b)],'usd':_0x390ab5['usd'],'offset':_0x119b0f[_0x11e198],'netoffset':_0x22040d,'coins':_0x390ab5[_0x3a7020(0x319)]});});}return _0x64dd0c;}function emitPerformance(_0x2d9c96){const _0x2f3f9e=_0x2606cb;_0x2d9c96[_0x2f3f9e(0x298)]!==0x0?(proxyEmit(_0x2f3f9e(0x21a),_0x2d9c96),lastPerformanceEmitted=getDate()):proxyEmit(_0x2f3f9e(0x21a),[]);}function getPerf(_0x582060,_0x1d0822){const _0x383e67=_0x2606cb;let _0x30c8da=0x0,_0x14f5dd=0x0,_0x40b300=0x0;_0x582060[_0x383e67(0x319)][_0x383e67(0x2e9)](_0x46e17a=>{const _0x3ed9be=_0x383e67;_0x30c8da+=_0x46e17a[_0x3ed9be(0x2ee)]*_0x46e17a[_0x3ed9be(0x273)];});_0x1d0822&&(_0x30c8da+=_0x582060[_0x383e67(0x366)]);if(config[_0x383e67(0x2eb)]===_0x383e67(0x314)||config[_0x383e67(0x2eb)]===_0x383e67(0x1f0)||config[_0x383e67(0x2eb)]===_0x383e67(0x265))_0x14f5dd=_0x30c8da*_0x582060[_0x383e67(0x34b)],_0x40b300=_0x30c8da*_0x582060['usd'];else{if(usdBasecoins['includes'](config['basecoin']))_0x14f5dd=_0x30c8da*_0x582060[_0x383e67(0x34b)]/_0x582060[_0x383e67(0x21c)],_0x40b300=_0x30c8da;else config[_0x383e67(0x2eb)]===_0x383e67(0x30a)&&(_0x14f5dd=_0x30c8da,_0x40b300=_0x30c8da*_0x582060[_0x383e67(0x21c)]/_0x582060['eur']);}return[_0x30c8da,_0x14f5dd,_0x40b300];}function getKPIs(_0x17f3fa,_0x34b561='EUR'){const _0x58ae99=_0x2606cb,_0x353dcf=config['basecoin'],_0x18bafb=lastBalances,_0x4c7abd=currentCoins,_0x10863c=getNormalizedPerformance(),_0x3a0dba=_0x17f3fa===_0x58ae99(0x2eb)?_0x353dcf:_0x17f3fa===_0x58ae99(0x237)||_0x17f3fa===_0x58ae99(0x35c)?_0x34b561:_0x58ae99(0x244)+_0x353dcf,_0x3778f9=_0x17f3fa===_0x58ae99(0x2ba)?'Net\x20effect':_0x17f3fa==='net-fiat'?_0x58ae99(0x2a9):_0x3a0dba+_0x58ae99(0x1f2),_0x5438d=_0x17f3fa===_0x58ae99(0x2ba)||_0x17f3fa===_0x58ae99(0x35c)?_0x58ae99(0x2a9):_0x3a0dba+_0x58ae99(0x2b0);let _0x127591=0x0;_0x4c7abd[_0x58ae99(0x2e9)](_0x4e5930=>{const _0x106b45=_0x58ae99;_0x127591+=_0x4e5930[_0x106b45(0x2ee)]*_0x4e5930[_0x106b45(0x31e)];});if(_0x17f3fa===_0x58ae99(0x237)||_0x17f3fa===_0x58ae99(0x35c)){if(_0x353dcf===_0x58ae99(0x314)||_0x353dcf===_0x58ae99(0x1f0)||_0x353dcf===_0x58ae99(0x265))_0x127591=_0x127591*(_0x34b561===_0x58ae99(0x30a)?_0x18bafb[_0x58ae99(0x34b)]:_0x18bafb[_0x58ae99(0x21c)]);else{if(usdBasecoins[_0x58ae99(0x1e9)](_0x353dcf))_0x127591=_0x127591*(_0x34b561===_0x58ae99(0x30a)?_0x18bafb['eur']/_0x18bafb[_0x58ae99(0x21c)]:0x1);else _0x353dcf===_0x58ae99(0x30a)&&(_0x127591=_0x127591*(_0x34b561===_0x58ae99(0x30a)?0x1:_0x18bafb[_0x58ae99(0x21c)]/_0x18bafb[_0x58ae99(0x34b)]));}}let _0x49d613;if(_0x127591!==0x0){if(_0x17f3fa===_0x58ae99(0x2eb))_0x49d613=(_0x127591/startingBalances[_0x58ae99(0x2eb)]-0x1)*0x64;else{if(_0x34b561===_0x58ae99(0x30a))_0x49d613=(_0x127591/startingBalances[_0x58ae99(0x34b)]-0x1)*0x64;else _0x49d613=(_0x127591/startingBalances[_0x58ae99(0x21c)]-0x1)*0x64;}let _0x27cb31=0x0;if(startingBalances['coins'])_0x4c7abd[_0x58ae99(0x2e9)](_0x5e134c=>{const _0x4551ea=_0x58ae99;let _0x3f35f5=startingBalances[_0x4551ea(0x319)][_0x4551ea(0x339)](_0x548553=>_0x548553[_0x4551ea(0x2a4)]===_0x5e134c[_0x4551ea(0x2a4)]);if(_0x3f35f5&&_0x3f35f5[_0x4551ea(0x2a4)]&&_0x5e134c[_0x4551ea(0x2ee)]!==0x0)_0x27cb31+=_0x3f35f5[_0x4551ea(0x2ee)]*_0x5e134c['last'];});let _0x5d0f6a=0x0;if(_0x10863c['length']!==0x0){let _0x2eb1a4=_0x10863c[_0x10863c[_0x58ae99(0x298)]-0x1];_0x5d0f6a=_0x2eb1a4[_0x58ae99(0x34a)];}_0x27cb31-=_0x5d0f6a;_0x17f3fa===_0x58ae99(0x2ba)&&(_0x49d613=(_0x127591-_0x27cb31)/startingBalances[_0x58ae99(0x2eb)]*0x64,_0x127591=_0x127591-_0x27cb31);if(_0x17f3fa===_0x58ae99(0x35c)){let _0x1869c2=_0x34b561===_0x58ae99(0x30a)?startingBalances[_0x58ae99(0x34b)]:startingBalances[_0x58ae99(0x21c)];if(_0x353dcf==='BTC'||_0x353dcf===_0x58ae99(0x1f0)||_0x353dcf==='PAXG')_0x27cb31=_0x34b561===_0x58ae99(0x30a)?_0x27cb31*_0x18bafb['eur']:_0x27cb31*_0x18bafb[_0x58ae99(0x21c)];else{if(usdBasecoins[_0x58ae99(0x1e9)](_0x353dcf))_0x27cb31=_0x34b561===_0x58ae99(0x30a)?_0x27cb31*_0x18bafb['eur']/_0x18bafb['usd']:_0x27cb31;else _0x353dcf===_0x58ae99(0x30a)&&(_0x27cb31=_0x34b561==='EUR'?_0x27cb31:_0x27cb31*_0x18bafb[_0x58ae99(0x21c)]/_0x18bafb[_0x58ae99(0x34b)]);}_0x49d613=(_0x127591-_0x27cb31)/_0x1869c2*0x64,_0x127591=_0x127591-_0x27cb31;}if(_0x49d613){if(_0x49d613<0x64)_0x49d613=_0x49d613[_0x58ae99(0x2bb)](0x2);else{if(_0x49d613<0x3e8)_0x49d613=_0x49d613[_0x58ae99(0x2bb)](0x1);else _0x49d613=_0x49d613[_0x58ae99(0x2bb)](0x0);}}else _0x49d613=Number('0')[_0x58ae99(0x2bb)](0x2);if(_0x127591){if(Math[_0x58ae99(0x335)](_0x127591)<0.000001)_0x127591=_0x127591[_0x58ae99(0x2bb)](0x2);else{if(Math[_0x58ae99(0x335)](_0x127591)<0.1)_0x127591=_0x127591[_0x58ae99(0x2bb)](0x6);else{if(Math[_0x58ae99(0x335)](_0x127591)<0x1)_0x127591=_0x127591[_0x58ae99(0x2bb)](0x5);else{if(Math[_0x58ae99(0x335)](_0x127591)<0xa)_0x127591=_0x127591[_0x58ae99(0x2bb)](0x4);else{if(Math['abs'](_0x127591)<0x64)_0x127591=_0x127591['toFixed'](0x3);else{if(Math[_0x58ae99(0x335)](_0x127591)<0x3e8)_0x127591=_0x127591[_0x58ae99(0x2bb)](0x2);else _0x127591=_0x127591[_0x58ae99(0x2bb)](0x2);}}}}}}else _0x127591=Number('0')['toFixed'](0x2);}else _0x49d613=Number('0')['toFixed'](0x2);return{'value':_0x127591,'change':_0x49d613,'leftTxt':_0x3778f9,'rightTxt':_0x5438d};}async function getStartingBalances(_0x52015c,_0x8cbefe=!![]){const _0x1bb242=_0x2606cb;if(_0x52015c['length']!==0x0){const [_0x31a30a,_0x2f829c,_0x598cda]=getPerf(_0x52015c[0x0],!![]);let _0x45ee94=[];config['portfolio'][_0x1bb242(0x2e9)](_0x49e6b9=>{const _0x198631=_0x1bb242;let _0x324045=0x0,_0x52a151;config[_0x198631(0x302)][_0x198631(0x2e9)](_0x315b69=>{const _0x472f30=_0x198631;let _0x2f16f6=_0x315b69[_0x472f30(0x23a)]['find'](_0x342ac9=>_0x342ac9[_0x472f30(0x2a4)]==_0x49e6b9[_0x472f30(0x2a4)]);if(_0x2f16f6){_0x324045+=_0x2f16f6[_0x472f30(0x2ee)];if(!_0x52a151)_0x52a151=_0x2f16f6[_0x472f30(0x273)];}}),_0x45ee94[_0x198631(0x2ed)]({'coin':_0x49e6b9[_0x198631(0x2a4)],'number':_0x324045,'initialprice':_0x52a151});});const _0x1271d3={'basecoin':_0x31a30a,'eur':_0x2f829c,'usd':_0x598cda,'coins':_0x45ee94};if(_0x8cbefe)proxyEmit('starting-balances',_0x1271d3);startingBalances=_0x1271d3;}}function headlessMode(_0x1ce96f){const _0x16a26e=_0x2606cb;let _0x2db4d4=_0x1ce96f['portfolio'],_0x261e7a=_0x1ce96f['threshold'],_0x369311=[];for(let _0x1db652 of _0x2db4d4){if(_0x1db652[_0x16a26e(0x2a4)]!=config['basecoin']){if(_0x1db652[_0x16a26e(0x24a)]>=_0x261e7a/0x64){if(_0x1db652[_0x16a26e(0x2b2)])_0x369311['push'](_0x1db652);}else{if(_0x1db652['delta']<=-_0x261e7a/0x64){if(_0x1db652['valid'])_0x369311[_0x16a26e(0x2ed)](_0x1db652);}}}}_0x369311[_0x16a26e(0x298)]>0x0&&(lockOrders==ORDERS[_0x16a26e(0x218)]&&!coolingDown&&_0x369311['forEach'](_0x1991c3=>{const _0x501fb1=_0x16a26e;logger[_0x501fb1(0x203)](_0x501fb1(0x34e)+_0x1991c3[_0x501fb1(0x2a4)]+'\x20'+_0x1991c3[_0x501fb1(0x2ee)]+'\x20'+_0x1991c3[_0x501fb1(0x31e)]+'\x20'+_0x1991c3[_0x501fb1(0x1e3)]+'%\x20'+_0x1991c3[_0x501fb1(0x29a)]+'%\x20'+(0x64*_0x1991c3['delta'])[_0x501fb1(0x2bb)](0x2)+_0x501fb1(0x224)+_0x261e7a[_0x501fb1(0x2bb)](0x2)+'%)');}),placeOrder(_0x369311));}function notifyBalance(_0xf37749){const _0x4d6bf4=_0x2606cb;let _0x537507=_0xf37749[_0x4d6bf4(0x33d)],_0x496a0c=_0xf37749[_0x4d6bf4(0x20d)],_0x47d3a8=[];for(let _0x174c06 of _0x537507){if(_0x174c06[_0x4d6bf4(0x2a4)]!=config['basecoin']){if(_0x174c06[_0x4d6bf4(0x24a)]>=_0x496a0c/0x64){if(_0x174c06['valid'])_0x47d3a8[_0x4d6bf4(0x2ed)](_0x174c06);}else{if(_0x174c06['delta']<=-_0x496a0c/0x64){if(_0x174c06[_0x4d6bf4(0x2b2)])_0x47d3a8['push'](_0x174c06);}}}}if(_0x47d3a8['length']>0x0){let _0x337bf0=_0x47d3a8[_0x4d6bf4(0x29e)](_0x113b07=>_0x113b07['coin']);_0x337bf0[_0x4d6bf4(0x247)]();let _0x48862b=_0x337bf0[_0x4d6bf4(0x217)](',\x20');if(!lastCoinsToBalance)logHistory(_0x4d6bf4(0x2f8),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x48862b;}}function symbolToCoin(_0x46564e){const _0x55919a=_0x2606cb;let _0x2741d2;if(_0x46564e[_0x55919a(0x1e9)]('/'+config['basecoin']))_0x2741d2=_0x46564e['replace']('/'+config[_0x55919a(0x2eb)],'');if(_0x46564e[_0x55919a(0x1e9)](config[_0x55919a(0x2eb)]+'/'))_0x2741d2=_0x46564e['replace'](config[_0x55919a(0x2eb)]+'/','');return _0x2741d2;}async function unlockOrders(){const _0x223fa3=_0x2606cb;if(allOrdersPlaced&&lockOrders==ORDERS[_0x223fa3(0x26a)]){logger['debug'](_0x223fa3(0x1da)),lockOrders=ORDERS[_0x223fa3(0x1e2)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x524524=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x524524,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x223fa3(0x218)],logger[_0x223fa3(0x203)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x5457b2){const _0x4c5ad3=_0x2606cb;if(_0x5457b2)validateOrdersState=_0x5457b2;logger[_0x4c5ad3(0x203)](_0x4c5ad3(0x275)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x4c5ad3(0x266):lockOrders==0x2?'ORDERS.UNLOCKING':_0x4c5ad3(0x2aa)));let _0x5e5c5c=[],_0x45495a=config['ordertype']==_0x4c5ad3(0x2b1)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4c5ad3(0x278)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4c5ad3(0x26a)])return;logger[_0x4c5ad3(0x203)](_0x4c5ad3(0x2ce)+validateOrdersState),lastOrders['forEach'](_0x4dbdeb=>{const _0x2b9cda=_0x4c5ad3;let _0xd49d94=![];_0x4dbdeb[_0x2b9cda(0x305)]>0x0&&(_0xd49d94=!![]),_0x5e5c5c[_0x2b9cda(0x2ed)](_0xd49d94),_0xd49d94&&config[_0x2b9cda(0x22b)]!=_0x2b9cda(0x2b1)&&logHistory(_0x2b9cda(0x20c),_0x2b9cda(0x2d4)+_0x4dbdeb[_0x2b9cda(0x2ef)]+'\x20'+_0x4dbdeb[_0x2b9cda(0x2d0)]+'\x20#'+formatResult(_0x4dbdeb[_0x2b9cda(0x305)],0x8)+'\x20@'+formatResult(_0x4dbdeb['price'],0x8));}),_0x5e5c5c[_0x4c5ad3(0x2e9)]((_0x3db188,_0xc09308)=>{const _0x5de9f1=_0x4c5ad3;if(_0x3db188)lastOrders[_0x5de9f1(0x33c)](_0xc09308,0x1);}),persistOpenOrders(lastOrders);const _0x12d28c=coolingDown?_0x4c5ad3(0x2a3):_0x4c5ad3(0x349);if(validateOrdersState==_0x4c5ad3(0x28a)){validateOrdersState=_0x4c5ad3(0x1f4);if(_0x5e5c5c[_0x4c5ad3(0x1e9)](![])){if(config[_0x4c5ad3(0x22b)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x5e5c5c[_0x4c5ad3(0x1e9)](![])){}else{if(allOrdersPlaced){if(config[_0x4c5ad3(0x22b)]==_0x4c5ad3(0x2b1)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x4c5ad3(0x2be))_0x5e5c5c[_0x4c5ad3(0x1e9)](![])&&(config['ordertype']==_0x4c5ad3(0x2b1)?logHistory('success',_0x4c5ad3(0x2ca)+Math['round'](_0x45495a*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x12d28c):(await cancelOrders(),logHistory('success',_0x4c5ad3(0x343)+Math['round'](_0x45495a*validateOrderInterval/0xea60)+_0x4c5ad3(0x2f4)+_0x12d28c))),await unlockOrders();else{if(validateOrdersState==_0x4c5ad3(0x30d)){if(config[_0x4c5ad3(0x22b)]!=_0x4c5ad3(0x2b1))logHistory(_0x4c5ad3(0x1f1),'No\x20more\x20open\x20orders\x20-\x20'+_0x12d28c);await unlockOrders();}}}}}async function cancelOrders(){const _0x5b10da=_0x2606cb;lastOrders[_0x5b10da(0x2e9)](async _0x25222e=>{const _0x382786=_0x5b10da;try{const _0x2ad68b=await exchange[_0x382786(0x2ab)](_0x25222e[_0x382786(0x2f9)],_0x25222e[_0x382786(0x2ef)]);}catch(_0x410f74){if(_0x410f74[_0x382786(0x368)]()[_0x382786(0x1e9)](_0x382786(0x222))){}else await handleError(_0x410f74,_0x382786(0x361));}});}async function initCoinResults(_0x2b04db){const _0x47446b=_0x2606cb;_0x2b04db?logger['debug'](_0x47446b(0x1ed)+_0x2b04db):logger['debug'](_0x47446b(0x1ef)),config[_0x47446b(0x33d)][_0x47446b(0x2e9)](_0x2a528c=>{const _0x3ce74e=_0x47446b;if(!_0x2a528c[_0x3ce74e(0x354)]&&_0x2a528c[_0x3ce74e(0x2a4)]!=config['basecoin']){const _0xe0f182=currentCoins['find'](_0x382053=>_0x382053[_0x3ce74e(0x2a4)]==_0x2a528c[_0x3ce74e(0x2a4)]),_0x28a78a=global[_0x3ce74e(0x30c)][noslash(_0x2a528c[_0x3ce74e(0x2ef)])];let _0x118911=_0xe0f182?_0xe0f182['number']:null,_0xfa4b17=_0x2a528c[_0x3ce74e(0x29d)]?0x1/_0x28a78a:_0x28a78a,_0x3a9b31;config[_0x3ce74e(0x302)][_0x3ce74e(0x2e9)](_0xa9ac00=>{const _0x113279=_0x3ce74e;!_0x3a9b31&&(_0x3a9b31=_0xa9ac00['changes'][_0x113279(0x339)](_0x2aec42=>_0x2aec42[_0x113279(0x2a4)]==_0x2a528c[_0x113279(0x2a4)]),_0x3a9b31&&(_0x118911=_0x3a9b31[_0x113279(0x2ee)],_0xfa4b17=_0x3a9b31[_0x113279(0x273)]));});let _0xa6db6e=dbCoinResults[_0x3ce74e(0x1f8)]('coins')[_0x3ce74e(0x339)]({'coin':_0x2a528c[_0x3ce74e(0x2a4)]})[_0x3ce74e(0x209)]();if(!_0xa6db6e){const _0x5726f9={'coin':_0x2a528c[_0x3ce74e(0x2a4)],'number':_0x118911,'breakeven':_0xfa4b17,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3ce74e(0x1f8)](_0x3ce74e(0x319))[_0x3ce74e(0x2ed)](_0x5726f9)[_0x3ce74e(0x316)]();}else{if(_0x2b04db&&_0x2a528c['coin']==_0x2b04db){const _0x84e3ab={'coin':_0x2a528c['coin'],'number':_0x118911,'breakeven':_0xfa4b17,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3ce74e(0x1f8)](_0x3ce74e(0x319))[_0x3ce74e(0x339)]({'coin':_0x2a528c[_0x3ce74e(0x2a4)]})[_0x3ce74e(0x34c)](_0x84e3ab)[_0x3ce74e(0x316)]();}}}});}async function updateCoinResults(_0x433865,_0x11efa6=![]){const _0x289018=_0x2606cb;let _0x1703d2,_0x391974,_0x17618d,_0x90dc6e,_0xead75a,_0x1ce541,_0x2c1fdf=dbCoinResults[_0x289018(0x1f8)]('coins')[_0x289018(0x339)]({'coin':_0x433865[_0x289018(0x2a4)]})['value'](),_0x31adff=![];_0x2c1fdf&&Object['entries'](_0x2c1fdf)[_0x289018(0x2e9)](([_0x300be2,_0x422e1a])=>{if(_0x422e1a==null)_0x31adff=!![];});(!_0x2c1fdf||_0x31adff)&&(await initCoinResults(_0x433865[_0x289018(0x2a4)]),_0x2c1fdf=dbCoinResults[_0x289018(0x1f8)](_0x289018(0x319))[_0x289018(0x339)]({'coin':_0x433865[_0x289018(0x2a4)]})[_0x289018(0x209)]());_0x433865[_0x289018(0x29d)]&&(_0x1ce541={'filled':_0x433865[_0x289018(0x305)]*_0x433865[_0x289018(0x273)],'amount':_0x433865[_0x289018(0x305)]*_0x433865['price'],'side':_0x433865['side']=='sell'?_0x289018(0x34f):'sell','price':0x1/_0x433865[_0x289018(0x273)]},_0x433865={..._0x433865,..._0x1ce541});_0x11efa6?_0x391974=_0x433865[_0x289018(0x2d0)]==_0x289018(0x34f)?_0x2c1fdf[_0x289018(0x2ee)]+_0x433865[_0x289018(0x305)]:_0x2c1fdf[_0x289018(0x2ee)]-_0x433865[_0x289018(0x305)]:_0x391974=await getCoinNumber(_0x433865[_0x289018(0x2a4)]);if(_0x433865[_0x289018(0x2d7)]&&_0x433865[_0x289018(0x2d7)]['currency']==config[_0x289018(0x2eb)])_0x1703d2=Number(_0x433865[_0x289018(0x2d7)]['cost']);else{if(_0x433865[_0x289018(0x2d7)]&&_0x433865[_0x289018(0x2d7)][_0x289018(0x248)]=='BNB'&&!_0x11efa6&&config[_0x289018(0x2eb)]!=_0x289018(0x265))_0x1703d2=Number(_0x433865[_0x289018(0x2d7)]['cost'])*global['ticker'][_0x289018(0x27c)+config[_0x289018(0x2eb)]];else _0x1703d2=defaultFee*_0x433865['filled']*_0x433865[_0x289018(0x273)];}_0x433865[_0x289018(0x2d0)]==_0x289018(0x34f)?(_0x17618d=_0x391974!=0x0?(_0x2c1fdf[_0x289018(0x205)]*_0x2c1fdf[_0x289018(0x2ee)]+_0x433865[_0x289018(0x273)]*(_0x391974-_0x2c1fdf[_0x289018(0x2ee)])+_0x1703d2)/_0x391974:0x0,_0x90dc6e=_0x2c1fdf['realized']):(_0x17618d=_0x391974!=0x0?(_0x2c1fdf[_0x289018(0x205)]*_0x2c1fdf[_0x289018(0x2ee)]-_0x433865[_0x289018(0x273)]*(_0x2c1fdf[_0x289018(0x2ee)]-_0x391974)+_0x1703d2)/_0x391974:0x0,_0x90dc6e=_0x2c1fdf[_0x289018(0x2af)]+(_0x433865[_0x289018(0x273)]-_0x2c1fdf[_0x289018(0x205)])*_0x433865[_0x289018(0x305)]);_0xead75a=(_0x433865['price']-_0x17618d-_0x1703d2/_0x433865[_0x289018(0x305)])*_0x391974;let _0x4e8ff8={'coin':_0x433865['coin'],'number':_0x391974,'breakeven':formatResult(_0x17618d,0x8),'realized':formatResult(_0x90dc6e,0x8),'unrealized':formatResult(_0xead75a,0x8),'fees':formatResult(_0x2c1fdf['fees']+_0x1703d2,0x8),'sells':_0x433865[_0x289018(0x2d0)]==_0x289018(0x337)?_0x2c1fdf[_0x289018(0x2b4)]+0x1:_0x2c1fdf['sells'],'buys':_0x433865[_0x289018(0x2d0)]==_0x289018(0x34f)?_0x2c1fdf['buys']+0x1:_0x2c1fdf['buys']};dbCoinResults[_0x289018(0x1f8)]('coins')[_0x289018(0x339)]({'coin':_0x433865[_0x289018(0x2a4)]})[_0x289018(0x34c)](_0x4e8ff8)[_0x289018(0x316)]();if(!_0x11efa6){if(_0x433865['fee']&&_0x433865[_0x289018(0x2d7)][_0x289018(0x248)]=='BNB'){const _0x1b3fb6=currentCoins[_0x289018(0x339)](_0x4a839f=>_0x4a839f[_0x289018(0x2a4)]==_0x289018(0x27c));if(_0x1b3fb6){let _0x49fc55=dbCoinResults[_0x289018(0x1f8)](_0x289018(0x319))[_0x289018(0x339)]({'coin':_0x289018(0x27c)})[_0x289018(0x209)]();_0x4e8ff8={..._0x49fc55,'number':_0x1b3fb6['number']},dbCoinResults['get'](_0x289018(0x319))['find']({'coin':_0x289018(0x27c)})['assign'](_0x4e8ff8)[_0x289018(0x316)]();}}}}async function placeOrder(_0x12e635){const _0x51323c=_0x2606cb,_0x4f0b05=config[_0x51323c(0x22b)]=='market'?'market':_0x51323c(0x313);if(lockOrders==ORDERS[_0x51323c(0x218)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x51323c(0x26a)],allOrdersPlaced=![],validateOrdersState='initial';let _0x309721=![];lastOrders=[];for(const _0x2bdd3a of _0x12e635){let _0x16c1ed,_0x5018c5,_0x205ff3,_0x207f91,_0x417dee,_0x1dad0a=_0x2bdd3a['symbol'];try{const _0x1f7069=await exchange[_0x51323c(0x262)](_0x1dad0a);_0x16c1ed=_0x2bdd3a[_0x51323c(0x29d)]?0x1/_0x2bdd3a['last']:_0x2bdd3a[_0x51323c(0x31e)],_0x5018c5=_0x1f7069[_0x51323c(0x35d)],_0x205ff3=_0x1f7069[_0x51323c(0x338)];_0x2bdd3a[_0x51323c(0x29d)]?(_0x207f91=_0x2bdd3a[_0x51323c(0x2d0)]==_0x51323c(0x34f)?_0x51323c(0x337):_0x51323c(0x34f),_0x417dee=Math['abs'](_0x2bdd3a[_0x51323c(0x32b)])/_0x16c1ed):(_0x207f91=_0x2bdd3a[_0x51323c(0x2d0)],_0x417dee=Math[_0x51323c(0x335)](_0x2bdd3a['trade']));_0x4f0b05==_0x51323c(0x313)&&(config[_0x51323c(0x22b)]=='limit-high'&&(_0x16c1ed=_0x207f91==_0x51323c(0x34f)?_0x5018c5:_0x205ff3),config['ordertype']==_0x51323c(0x2e5)&&(_0x16c1ed=_0x207f91==_0x51323c(0x34f)?_0x205ff3:_0x5018c5));_0x417dee=formatResult(_0x417dee,0x8),_0x16c1ed=formatResult(_0x16c1ed,0x8);const _0x4ec4e8=_0x207f91==_0x51323c(0x337)?config[_0x51323c(0x33f)]?String[_0x51323c(0x299)]('0x'+config[_0x51323c(0x33f)])+'\x20':'':config[_0x51323c(0x235)]?String[_0x51323c(0x299)]('0x'+config['emojibuy'])+'\x20':'',_0x2ce3c5=_0x4f0b05==_0x51323c(0x2b1)?_0x51323c(0x1e0):config['ordertype']=='limit-high'?'Limit\x20(high-margin)':_0x51323c(0x323),_0x526aac=(Math[_0x51323c(0x31b)](Math[_0x51323c(0x20a)]()*0x35a4e900)+0x5f5e100)[_0x51323c(0x368)]();lastOrders['push']({'customId':_0x526aac,'symbol':_0x1dad0a,'coin':_0x2bdd3a['coin'],'amount':_0x417dee,'price':_0x16c1ed,'side':_0x207f91,'reverse':_0x2bdd3a[_0x51323c(0x29d)],'filled':0x0});if(_0x4f0b05==_0x51323c(0x2b1))logHistory(_0x51323c(0x20c),''+_0x4ec4e8+_0x2ce3c5+'\x20order:\x20'+_0x1dad0a+'\x20'+_0x207f91+'\x20#'+formatResult(_0x417dee,0x8)+'\x20@'+formatResult(_0x16c1ed,0x8));else logHistory(_0x51323c(0x20c),''+_0x4ec4e8+_0x2ce3c5+'\x20order:\x20'+_0x1dad0a+'\x20'+_0x207f91+'\x20#'+formatResult(_0x417dee,0x8)+'\x20@'+formatResult(_0x16c1ed,0x8));let _0x512f66;_0x4f0b05==_0x51323c(0x2b1)?_0x207f91==_0x51323c(0x34f)&&[_0x51323c(0x28f),_0x51323c(0x282),_0x51323c(0x21b),'Huobi','Huobipro'][_0x51323c(0x1e9)](config[_0x51323c(0x1f5)])?_0x512f66=await exchange[_0x51323c(0x29f)](_0x1dad0a,_0x4f0b05,_0x207f91,_0x417dee,_0x16c1ed):_0x512f66=await exchange[_0x51323c(0x29f)](_0x1dad0a,_0x4f0b05,_0x207f91,_0x417dee,undefined):_0x512f66=await exchange[_0x51323c(0x29f)](_0x1dad0a,_0x4f0b05,_0x207f91,_0x417dee,_0x16c1ed);logger['debug'](_0x51323c(0x2c2)+_0x512f66['id']+_0x51323c(0x26d)+_0x526aac);const _0x429836=lastOrders['length']-0x1;if(_0x429836>=0x0&&lastOrders[_0x429836][_0x51323c(0x27b)]==_0x526aac){lastOrders[_0x429836][_0x51323c(0x2f9)]=_0x512f66['id'];if(_0x512f66[_0x51323c(0x25e)])lastOrders[_0x429836][_0x51323c(0x25e)]=_0x512f66[_0x51323c(0x25e)];if(_0x512f66[_0x51323c(0x273)])lastOrders[_0x429836][_0x51323c(0x273)]=_0x512f66[_0x51323c(0x273)];lastOrders[_0x429836][_0x51323c(0x2d7)]=_0x512f66[_0x51323c(0x2d7)];}if(config['cooldown']!=0x0){let _0x15e0c9=null;if(cooldownTracker[_0x51323c(0x298)]==config[_0x51323c(0x2c7)]-0x1)_0x15e0c9=cooldownTracker[_0x51323c(0x208)]();const _0x5f4c13=getTimeStamp();cooldownTracker['push'](_0x5f4c13);if(_0x15e0c9){const _0x46cb20=fns[_0x51323c(0x1f9)](new Date(_0x5f4c13),new Date(_0x15e0c9));if(_0x46cb20<cooldownInterval){logHistory(_0x51323c(0x2a5),_0x51323c(0x238)+config[_0x51323c(0x2c7)]+_0x51323c(0x2f3)+cooldownInterval/0x3c+_0x51323c(0x202)+cooldownPeriod/(0xe10*0x3e8)+_0x51323c(0x357)),coolingDown=!![];break;}}}}catch(_0x41a2ad){if(_0x41a2ad['toString']()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders[_0x51323c(0x30b)](_0x2e19a4=>_0x2e19a4[_0x51323c(0x2ef)]!=_0x1dad0a),logHistory(_0x51323c(0x2a5),_0x51323c(0x332)+_0x1dad0a),_0x309721=!![];else{if(_0x41a2ad['toString']()['includes'](_0x51323c(0x245)))lastOrders=lastOrders['filter'](_0x1c5666=>_0x1c5666['symbol']!=_0x1dad0a),logHistory(_0x51323c(0x2a5),_0x51323c(0x25a)+_0x1dad0a),_0x309721=!![];else{if(_0x41a2ad[_0x51323c(0x368)]()[_0x51323c(0x1e9)](_0x51323c(0x20b)))lastOrders=lastOrders[_0x51323c(0x30b)](_0x399559=>_0x399559[_0x51323c(0x2ef)]!=_0x1dad0a),logHistory('error','Order\x20is\x20invalid:\x20'+_0x1dad0a),logger['debug'](_0x41a2ad),_0x309721=!![];else _0x41a2ad[_0x51323c(0x368)]()[_0x51323c(0x1e9)](_0x51323c(0x2c0))?(lastOrders=lastOrders[_0x51323c(0x30b)](_0x1d02ba=>_0x1d02ba[_0x51323c(0x2ef)]!=_0x1dad0a),logHistory(_0x51323c(0x2a5),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x1dad0a),_0x309721=!![]):(lastOrders=lastOrders[_0x51323c(0x30b)](_0x2b53ee=>_0x2b53ee[_0x51323c(0x2ef)]!=_0x1dad0a),await handleError(_0x41a2ad,_0x51323c(0x2d1),_0x1dad0a));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x51323c(0x298)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x35caf6=config[_0x51323c(0x22b)]==_0x51323c(0x2b1)?validateOrderTimeout*0x3c*0x3e8:config[_0x51323c(0x278)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2f57bf=_0x51323c;validateOrders(_0x2f57bf(0x2be));},_0x35caf6);}else unlockOrders();_0x309721&&config['headless']&&(logHistory(_0x51323c(0x2a5),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x51323c(0x1f1),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x51323c(0x21d)]&&logHistory(_0x51323c(0x2a5),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x51323c(0x218)]&&(!config[_0x51323c(0x21d)]&&(config['ordertype']=='market'?logHistory(_0x51323c(0x2a5),_0x51323c(0x281)):logHistory(_0x51323c(0x2a5),_0x51323c(0x2f2))));}}function persistOpenOrders(_0x2209e8){const _0x10b264=_0x2606cb,_0x450ec6={...config,'openOrders':_0x2209e8};let _0x9a3d1b=dbConfig[_0x10b264(0x1f8)]('bot')[_0x10b264(0x339)]({'botID':botID})[_0x10b264(0x209)]();_0x9a3d1b&&dbConfig['get'](_0x10b264(0x2fd))[_0x10b264(0x339)]({'botID':botID})[_0x10b264(0x34c)](_0x450ec6)[_0x10b264(0x316)]();}function restoreOrders(){const _0x3f2aaf=_0x2606cb;let _0x234437;config[_0x3f2aaf(0x333)]&&allOpenOrders[_0x3f2aaf(0x2e9)](_0xec3832=>{const _0x30f0f7=_0x3f2aaf,_0x11db8f=config[_0x30f0f7(0x333)][_0x30f0f7(0x339)](_0x527aad=>_0x527aad[_0x30f0f7(0x2f9)]==_0xec3832['id']);_0x11db8f&&(lastOrders[_0x30f0f7(0x2ed)](_0x11db8f),_0x234437=_0xec3832[_0x30f0f7(0x2f6)]);});if(lastOrders[_0x3f2aaf(0x298)]>0x0){lockOrders=ORDERS[_0x3f2aaf(0x26a)],validateOrdersState=_0x3f2aaf(0x1f4),allOrdersPlaced=!![];const _0x5ee05a=new Date()['getTime'](),_0x17b181=config[_0x3f2aaf(0x22b)]==_0x3f2aaf(0x2b1)?validateOrderTimeout*0x3c*0x3e8:config[_0x3f2aaf(0x278)]*0x3c*0x3e8;if(_0x234437+_0x17b181>_0x5ee05a){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x234437+_0x17b181-_0x5ee05a);}else validateOrders(_0x3f2aaf(0x2be));}}async function sendMetricsTelegram(){const _0x5d0002=_0x2606cb;if(!coinsLoaded){process[_0x5d0002(0x364)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x501041=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x5bf2b3='';if(config[_0x5d0002(0x2da)])_0x5bf2b3='<b>'+config['botname']+_0x5d0002(0x35b);else _0x5bf2b3='<b>Bot\x20'+botID+_0x5d0002(0x35b);const _0x43fed6=getKPIs(_0x5d0002(0x2eb)),_0x1c0fc7=getKPIs(_0x5d0002(0x237),config[_0x5d0002(0x237)]),_0x13ee65=getKPIs(_0x5d0002(0x2ba)),_0x419331=getKPIs('net-fiat',config[_0x5d0002(0x237)]);_0x5bf2b3+='<pre>',_0x5bf2b3+=_0x43fed6[_0x5d0002(0x2a0)]+_0x5d0002(0x296)+_0x43fed6['value']+'\x0a',_0x5bf2b3+=_0x43fed6[_0x5d0002(0x21f)]+':\x20'+_0x43fed6['change']+'%\x0a',_0x5bf2b3+=_0x1c0fc7[_0x5d0002(0x2a0)]+'\x20:\x20'+_0x1c0fc7[_0x5d0002(0x209)]+'\x0a',_0x5bf2b3+=_0x1c0fc7[_0x5d0002(0x21f)]+':\x20'+_0x1c0fc7['change']+'%\x0a',_0x5bf2b3+=_0x13ee65['leftTxt']+':\x20'+_0x13ee65['value']+'\x20('+config[_0x5d0002(0x2eb)]+')\x0a',_0x5bf2b3+=_0x13ee65[_0x5d0002(0x21f)]+':\x20'+_0x13ee65[_0x5d0002(0x2e1)]+'%\x20('+config[_0x5d0002(0x2eb)]+')\x0a',_0x5bf2b3+=_0x419331[_0x5d0002(0x2a0)]+':\x20'+_0x419331[_0x5d0002(0x209)]+'\x20('+config[_0x5d0002(0x237)]+')\x0a',_0x5bf2b3+=_0x419331['rightTxt']+':\x20'+_0x419331[_0x5d0002(0x2e1)]+_0x5d0002(0x224)+config['fiat']+')\x0a',_0x5bf2b3+=_0x5d0002(0x362),process[_0x5d0002(0x364)]({'telegrammsg':_0x5bf2b3},_0x4c617a=>{});}async function sendPortfolioTelegram(){const _0x17e0fb=_0x2606cb;if(!coinsLoaded||!currentCoins[0x0][_0x17e0fb(0x1e3)]){process[_0x17e0fb(0x364)]({'telegrammsg':_0x17e0fb(0x2e6)},_0x4c3c8d=>{});return;}let _0x2dc36f='';if(config[_0x17e0fb(0x2da)])_0x2dc36f=_0x17e0fb(0x329)+config[_0x17e0fb(0x242)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x2dc36f='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x2dc36f+='<pre>',_0x2dc36f+=_0x17e0fb(0x304),_0x2dc36f+=_0x17e0fb(0x2ac),_0x2dc36f+=_0x17e0fb(0x304),currentCoins['forEach'](_0x43f679=>{const _0x609ef6=_0x17e0fb;_0x2dc36f+=_0x43f679[_0x609ef6(0x2a4)][_0x609ef6(0x2d5)](0x7)+'|\x20'+formatPad(_0x43f679['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x43f679[_0x609ef6(0x29a)],0x2,0x6)+'|\x20'+formatPad(_0x43f679['delta']*0x64,0x2,0x6)+'\x0a';}),_0x2dc36f+='</pre>',process[_0x17e0fb(0x364)]({'telegrammsg':_0x2dc36f},_0x3da8fc=>{});}function formatPad(_0x102b1d,_0x2da0ed,_0x20dfcb){const _0xef1611=_0x2606cb,_0x10e02d=formatResultString(_0x102b1d,_0x2da0ed);return _0x10e02d?_0x10e02d['padStart'](_0x20dfcb):''[_0xef1611(0x2e8)](_0x20dfcb);}function logHistory(_0x178b10,_0x4babf1,_0x2e8826=''){const _0x47761c=_0x2606cb;logger[_0x47761c(0x1e5)](''+_0x4babf1);let _0x75f868={'time':getTimeStamp(),'type':_0x178b10,'event':_0x4babf1};dbLogs[_0x47761c(0x1f8)](_0x47761c(0x355))[_0x47761c(0x2ed)](_0x75f868)['write']();if(_0x2e8826=='')_0x2e8826=_0x4babf1;proxyEmit('event',{'log':_0x75f868,'summary':_0x2e8826}),process[_0x47761c(0x364)]({'telegram':{..._0x75f868,'botname':config[_0x47761c(0x242)],'showname':config[_0x47761c(0x2da)]}},_0x2a6c2a=>{});}function emitHistory(_0x5e974f={}){const _0x360249=_0x2606cb;Object[_0x360249(0x1d1)](_0x5e974f)[_0x360249(0x298)]==0x0&&(_0x5e974f={'type':[_0x360249(0x20c),_0x360249(0x301)],'event':'','page':0x1});if(_0x5e974f[_0x360249(0x229)][_0x360249(0x1e9)]('event'))_0x5e974f['type'][_0x360249(0x33c)](_0x5e974f[_0x360249(0x229)]['indexOf'](_0x360249(0x301)),0x1,_0x360249(0x2a5),_0x360249(0x2f8),_0x360249(0x1f1));if(dbLogs[_0x360249(0x20e)]('logs')['value']()){let _0x15d8a0=dbLogs[_0x360249(0x1f8)]('logs')[_0x360249(0x30b)](_0x24be03=>{const _0x585b6e=_0x360249;if(_0x5e974f[_0x585b6e(0x229)]['length']==0x0)return![];else return _0x5e974f[_0x585b6e(0x229)]['includes'](_0x24be03['type']);})[_0x360249(0x30b)](_0x3e6d2=>{const _0x1a3aa6=_0x360249;if(_0x5e974f['event']=='')return!![];else return _0x3e6d2['event']['toLowerCase']()[_0x1a3aa6(0x1e9)](_0x5e974f[_0x1a3aa6(0x301)][_0x1a3aa6(0x30f)]());})[_0x360249(0x350)](_0x360249(0x328)),_0x58b86c=_0x15d8a0['value']()[_0x360249(0x298)];_0x15d8a0=_0x15d8a0['reverse']()['slice']((_0x5e974f['page']-0x1)*logPageSize,_0x5e974f[_0x360249(0x280)]*logPageSize-0x1)[_0x360249(0x29d)]()[_0x360249(0x209)](),proxyEmit('event-history',{'logs':_0x15d8a0,'total':_0x58b86c});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4f5526){const _0x592b2a=_0x2606cb;if(dbLogs[_0x592b2a(0x20e)](_0x592b2a(0x355))[_0x592b2a(0x209)]()){const _0x5c01e4=dbLogs[_0x592b2a(0x1f8)](_0x592b2a(0x355))['sortBy'](_0x592b2a(0x328))['filter'](_0x2f8b28=>{const _0x24b28a=_0x592b2a;return _0x2f8b28[_0x24b28a(0x229)]==_0x24b28a(0x20c);})['value']();dbLogs['get'](_0x592b2a(0x355))[_0x592b2a(0x341)]()[_0x592b2a(0x316)](),dbLogs[_0x592b2a(0x1f8)](_0x592b2a(0x355))[_0x592b2a(0x34c)](_0x5c01e4)['write'](),emitHistory(_0x4f5526);}}async function pauseBot(_0x2df608=pauseBotInterval){const _0x3d22bb=_0x2606cb,_0x182c2d=new Date()[_0x3d22bb(0x28d)]();if(!lastErrorShown||_0x182c2d-lastErrorShown>=_0x2df608){lastErrorShown=_0x182c2d;!lastBotPause?(lastBotPause=_0x182c2d,consecutivePauses=0x1):(_0x182c2d-lastBotPause-_0x2df608<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x3d22bb(0x364)]({'stop':_0x3d22bb(0x1d6)},_0x145e73=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x3d22bb(0x28d)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x2df608),botPaused=![],reset(!![]);}}}async function killBot(){const _0x2938e4=_0x2606cb;botPaused=!![],await sleep(0x3e8),process[_0x2938e4(0x364)]({'stop':'kill'},_0x322619=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1a2c1f,_0x591828){const _0x20ab07=_0x2606cb;if(botPaused)return;const _0x47d2d5=config[_0x20ab07(0x1f5)]||_0x20ab07(0x311);if(_0x591828)logger[_0x20ab07(0x203)]('Exception\x20thrown\x20in\x20'+_0x591828);const _0x1c71ad=()=>{const _0x515ec0=_0x20ab07;loading[_0x515ec0(0x2a5)]=!![],emitLoadingProgress();};if(_0x1a2c1f[_0x20ab07(0x368)]()[_0x20ab07(0x1e9)](_0x20ab07(0x307)))logHistory(_0x20ab07(0x2a5),_0x47d2d5+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(info:\x20hodlerhacks.com/fix/#api-invalid)'),_0x1c71ad();else{if(_0x1a2c1f[_0x20ab07(0x368)]()[_0x20ab07(0x1e9)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x20ab07(0x2a5),_0x47d2d5+_0x20ab07(0x228)),_0x1c71ad();else _0x1a2c1f[_0x20ab07(0x368)]()[_0x20ab07(0x1e9)]('AuthenticationError')?(logHistory(_0x20ab07(0x2a5),_0x47d2d5+_0x20ab07(0x226)),logHistory(_0x20ab07(0x2a5),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(info:\x20hodlerhacks.com/fix/#api-invalid)'),_0x1c71ad()):await handleError(_0x1a2c1f,null);}}async function handleError(_0x1abb84,_0x14e5bb,_0x40f240=''){const _0x2ef4d5=_0x2606cb;if(botPaused)return;const _0x141c55=config['exchange']||_0x2ef4d5(0x311);if(_0x14e5bb)logger[_0x2ef4d5(0x203)](_0x2ef4d5(0x1fb)+_0x14e5bb);if(_0x1abb84[_0x2ef4d5(0x368)]()['includes'](_0x2ef4d5(0x259)))logHistory('error',_0x141c55+_0x2ef4d5(0x264)+pauseBotMsg),logger['debug'](_0x2ef4d5(0x31d),_0x1abb84),await pauseBot();else{if(_0x1abb84['toString']()['includes']('RateLimitExceeded'))logHistory('error',_0x141c55+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading'+pauseBotMsg),logger[_0x2ef4d5(0x203)](_0x2ef4d5(0x31d),_0x1abb84),await pauseBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()[_0x2ef4d5(0x1e9)]('ExchangeNotAvailable')||_0x1abb84[_0x2ef4d5(0x368)]()[_0x2ef4d5(0x1e9)]('OnMaintenance'))logHistory(_0x2ef4d5(0x2a5),_0x141c55+'\x20not\x20available\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)'+pauseBotMsg),await pauseBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()[_0x2ef4d5(0x1e9)]('RequestTimeout'))logHistory(_0x2ef4d5(0x2a5),_0x141c55+_0x2ef4d5(0x346)+pauseBotMsg),await pauseBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()[_0x2ef4d5(0x1e9)](_0x2ef4d5(0x23c)))logHistory('error',_0x141c55+_0x2ef4d5(0x1de)+pauseBotMsg),await pauseBot();else{if(_0x1abb84['toString']()['toLowerCase']()[_0x2ef4d5(0x1e9)]('timestamp')||_0x1abb84[_0x2ef4d5(0x368)]()[_0x2ef4d5(0x30f)]()[_0x2ef4d5(0x1e9)]('request-time'))logHistory(_0x2ef4d5(0x2a5),_0x2ef4d5(0x249)+pauseBotMsg),logger[_0x2ef4d5(0x203)](_0x2ef4d5(0x31d),_0x1abb84[_0x2ef4d5(0x368)]()),await pauseBot();else{if(_0x1abb84['toString']()[_0x2ef4d5(0x1e9)](_0x2ef4d5(0x2bd)))logHistory(_0x2ef4d5(0x2a5),_0x141c55+'\x20rejected\x20your\x20API\x20request\x20(info:\x20hodlerhacks.com/fix/#api-rejected)'+pauseBotMsg),logger[_0x2ef4d5(0x203)](_0x2ef4d5(0x31d),_0x1abb84),await pauseBot();else{if(_0x1abb84 instanceof ccxt['NetworkError'])logHistory(_0x2ef4d5(0x2a5),_0x141c55+_0x2ef4d5(0x344)+pauseBotMsg),logger[_0x2ef4d5(0x203)]('Error\x20details:',_0x1abb84),await pauseBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()[_0x2ef4d5(0x1e9)](_0x2ef4d5(0x307)))logHistory(_0x2ef4d5(0x2a5),_0x141c55+'\x20API\x20key\x20is\x20invalid'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(info:\x20hodlerhacks.com/fix/#api-invalid)'),await killBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x2ef4d5(0x2a5),_0x141c55+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x2ef4d5(0x2a5),_0x2ef4d5(0x1d4)),await killBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()['includes']('AuthenticationError'))logHistory(_0x2ef4d5(0x2a5),_0x141c55+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error',_0x2ef4d5(0x1d4)),await killBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()['includes'](_0x2ef4d5(0x263)))logHistory(_0x2ef4d5(0x2a5),_0x141c55+_0x2ef4d5(0x261)),logHistory('error',_0x2ef4d5(0x1d4)),await killBot();else{if(_0x1abb84[_0x2ef4d5(0x368)]()['includes'](_0x2ef4d5(0x283)))logHistory('error',_0x2ef4d5(0x1f6)+_0x40f240);else _0x1abb84 instanceof ccxt[_0x2ef4d5(0x351)]?(logHistory(_0x2ef4d5(0x2a5),_0x141c55+_0x2ef4d5(0x27f)),logger[_0x2ef4d5(0x203)](_0x2ef4d5(0x31d),_0x1abb84)):(logHistory('error','Unknown\x20error\x20occured'+pauseBotMsg),logger[_0x2ef4d5(0x203)]('Error\x20details:',_0x1abb84),await pauseBot());}}}}}}}}}}}}}async function withRetry(_0xfdcb5,_0x2ff1bd){const _0x87630=_0x2606cb;let _0x571a37=![],_0x325096=0x0,_0x408e55,_0x4470fd;while(_0x325096<maxRetries){try{_0x408e55=await _0x2ff1bd();break;}catch(_0x4c46db){_0x4470fd=_0x4c46db,!_0x571a37?(_0x571a37=!![],logger[_0x87630(0x203)](_0x87630(0x2c5)+_0xfdcb5+':',_0x4c46db[_0x87630(0x368)]())):await sleep(retryInterval);}_0x325096++;}if(_0x325096==0x0)return _0x408e55;if(_0x325096>=maxRetries)throw _0x4470fd;else return logger[_0x87630(0x203)](_0x87630(0x1e4)+_0x325096+_0x87630(0x318)),_0x408e55;}function formatResult(_0x1305e8,_0x24c4b0){const _0x3bba8b=_0x2606cb;return parseFloat(_0x1305e8[_0x3bba8b(0x2bb)](_0x24c4b0));}function formatResultTruncate(_0x468a0d,_0x488863){const _0x395fea=_0x2606cb;let _0x2b019f=formatResultString(_0x468a0d,0xa),_0x47a836=_0x2b019f[_0x395fea(0x367)]('.');return _0x47a836!=-0x1&&(_0x2b019f=_0x2b019f[_0x395fea(0x312)](0x0,_0x47a836+_0x488863+0x1)),Number(_0x2b019f);}function formatResultString(_0x3bbe88,_0x5ddfe9){const _0x42b6c0=_0x2606cb;let _0x2e1a77;if(!(''+_0x3bbe88)[_0x42b6c0(0x1e9)]('e'))_0x2e1a77=+(Math[_0x42b6c0(0x284)](_0x3bbe88+'e+'+_0x5ddfe9)+'e-'+_0x5ddfe9);else{let _0x14119c=(''+_0x3bbe88)[_0x42b6c0(0x214)]('e'),_0x48f9dd='';+_0x14119c[0x1]+_0x5ddfe9>0x0&&(_0x48f9dd='+'),_0x2e1a77=+(Math[_0x42b6c0(0x284)](+_0x14119c[0x0]+'e'+_0x48f9dd+(+_0x14119c[0x1]+_0x5ddfe9))+'e-'+_0x5ddfe9);}return Number(_0x2e1a77)[_0x42b6c0(0x2bb)](_0x5ddfe9);}function getServerTime(){const _0x4b3353=_0x2606cb,_0x3faa53=new Date();return _0x3faa53[_0x4b3353(0x2a7)]()+'/'+(_0x3faa53[_0x4b3353(0x356)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x3faa53[_0x4b3353(0x342)]()[_0x4b3353(0x368)]()[_0x4b3353(0x2e8)](0x2,'0')+'\x20'+_0x3faa53[_0x4b3353(0x225)]()[_0x4b3353(0x368)]()[_0x4b3353(0x2e8)](0x2,'0')+':'+_0x3faa53['getMinutes']()[_0x4b3353(0x368)]()[_0x4b3353(0x2e8)](0x2,'0')+':'+_0x3faa53['getSeconds']()[_0x4b3353(0x368)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x32741a=_0x2606cb,_0x2b25c9=shiftedTime();return _0x2b25c9[_0x32741a(0x2a7)]()+'/'+(_0x2b25c9[_0x32741a(0x356)]()+0x1)[_0x32741a(0x368)]()['padStart'](0x2,'0')+'/'+_0x2b25c9[_0x32741a(0x342)]()[_0x32741a(0x368)]()[_0x32741a(0x2e8)](0x2,'0')+'\x20'+_0x2b25c9['getHours']()[_0x32741a(0x368)]()[_0x32741a(0x2e8)](0x2,'0')+':'+_0x2b25c9[_0x32741a(0x2ea)]()[_0x32741a(0x368)]()[_0x32741a(0x2e8)](0x2,'0')+':'+_0x2b25c9['getSeconds']()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x586fb9=_0x2606cb,_0xfba77a=shiftedTime();return _0xfba77a[_0x586fb9(0x2a7)]()+'/'+(_0xfba77a[_0x586fb9(0x356)]()+0x1)[_0x586fb9(0x368)]()[_0x586fb9(0x2e8)](0x2,'0')+'/'+_0xfba77a[_0x586fb9(0x342)]()[_0x586fb9(0x368)]()[_0x586fb9(0x2e8)](0x2,'0');}function getHour(){const _0x10cb04=_0x2606cb,_0x222972=shiftedTime();return _0x222972[_0x10cb04(0x225)]()[_0x10cb04(0x368)]()['padStart'](0x2,'0');}function sleep(_0x22e33b){return new Promise(_0x373418=>setTimeout(_0x373418,_0x22e33b));}function shiftedTime(){const _0x302a83=_0x2606cb,_0x2a5bf7=new Date();let _0xa82eee=_0x2a5bf7;if(config&&config[_0x302a83(0x352)]!==0x0)_0xa82eee=fns['add'](_0x2a5bf7,{'hours':config[_0x302a83(0x352)]});return _0xa82eee;}function timer(_0x3978ca){const _0x2234c1=_0x2606cb,_0x436f75=new Date();!lasttime?console['log'](getTimeStamp()+_0x2234c1(0x2a1),_0x3978ca,_0x436f75):console[_0x2234c1(0x22a)](getTimeStamp()+_0x2234c1(0x2a1),_0x3978ca,(_0x436f75-lasttime)/0x3e8),lasttime=_0x436f75;}