const _0x241e91=_0x4b77;(function(_0x4f00bb,_0x30862f){const _0x1353d4=_0x4b77,_0x341834=_0x4f00bb();while(!![]){try{const _0x484ab7=parseInt(_0x1353d4(0x196))/0x1*(-parseInt(_0x1353d4(0x190))/0x2)+parseInt(_0x1353d4(0xa2))/0x3*(parseInt(_0x1353d4(0xc7))/0x4)+-parseInt(_0x1353d4(0x14e))/0x5+-parseInt(_0x1353d4(0x162))/0x6*(-parseInt(_0x1353d4(0x1de))/0x7)+parseInt(_0x1353d4(0x10f))/0x8+parseInt(_0x1353d4(0x174))/0x9+parseInt(_0x1353d4(0x80))/0xa*(parseInt(_0x1353d4(0x90))/0xb);if(_0x484ab7===_0x30862f)break;else _0x341834['push'](_0x341834['shift']());}catch(_0x3d38cd){_0x341834['push'](_0x341834['shift']());}}}(_0x20ac,0xf2c39));const _0x1de8a1=function(){let _0x3ac216=!![];return function(_0x2545ea,_0x2ad81a){const _0x812c20=_0x3ac216?function(){const _0x42a4ca=_0x4b77;if(_0x2ad81a){const _0x22e86a=_0x2ad81a[_0x42a4ca(0x107)](_0x2545ea,arguments);return _0x2ad81a=null,_0x22e86a;}}:function(){};return _0x3ac216=![],_0x812c20;};}(),_0x41ad4c=_0x1de8a1(this,function(){const _0x2eb2c5=_0x4b77;return _0x41ad4c[_0x2eb2c5(0x12b)]()['search'](_0x2eb2c5(0xeb))['toString']()[_0x2eb2c5(0x8b)](_0x41ad4c)[_0x2eb2c5(0x12e)](_0x2eb2c5(0xeb));});_0x41ad4c();'use strict';const ccxt=require(_0x241e91(0x1a2)),low=require(_0x241e91(0x18f)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require(_0x241e91(0x167))[_0x241e91(0x146)],util=require(_0x241e91(0x100));let exchange,wsClient;global[_0x241e91(0x129)]={},global[_0x241e91(0xdf)]={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/','HOT/BTC',_0x241e91(0x1dc),_0x241e91(0x15e),_0x241e91(0xde),_0x241e91(0x1a7)];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x241e91(0xe7)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x241e91(0x17e)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x241e91(0xf0))['version'],botID=process[_0x241e91(0x14c)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x241e91(0x16e)](botID)&&(console[_0x241e91(0x88)](_0x241e91(0x182)+botID+_0x241e91(0x157)),process[_0x241e91(0x1ea)](0x1));const userID=process[_0x241e91(0x14c)][0x3]||'',configpath=userID?_0x241e91(0x149)+userID+'/':_0x241e91(0x149),logspath=userID?_0x241e91(0x93)+userID+'/':'./logs/',loggerfile=fs[_0x241e91(0x159)](logspath+_0x241e91(0x14f),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x241e91(0xc3)](configpath);!fs[_0x241e91(0x1d5)](logspath)&&fs[_0x241e91(0xc3)](logspath);const configfile=configpath+_0x241e91(0x13e)+botID+_0x241e91(0x1e9),logfile=configpath+_0x241e91(0x13e)+botID+_0x241e91(0xa1),performancefile=configpath+'bot-'+botID+_0x241e91(0x17a),coinresultsfile=configpath+_0x241e91(0x13e)+botID+_0x241e91(0x165),settingsfile=configpath+_0x241e91(0xd9),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x241e91(0x155),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x241e91(0x1c8)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x241e91(0x1aa)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x241e91(0x1aa)]({'bot':[]})[_0x241e91(0x1c8)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x45f39a)=>{},'debug':(..._0xb68e3b)=>{},'notice':(..._0x466a7c)=>{},'info':(..._0x2fae56)=>{},'warning':(..._0x308118)=>{},'error':async function(..._0x394780){const _0x3cf43d=_0x241e91,_0x350ced=new Date()[_0x3cf43d(0xa8)]();if(!lastErrorShown||_0x350ced-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x3cf43d(0xa8)]();let _0x2a1f09='';if(_0x394780[0x0])_0x2a1f09+=_0x394780[0x0];if(_0x394780[0x1]&&_0x394780[0x1][_0x3cf43d(0xaa)]&&_0x394780[0x1][_0x3cf43d(0xaa)][_0x3cf43d(0x8d)])_0x2a1f09+=_0x3cf43d(0x158)+_0x394780[0x1][_0x3cf43d(0xaa)][_0x3cf43d(0x8d)];logger[_0x3cf43d(0x19a)](_0x3cf43d(0xc6)+consecutivePauses+_0x3cf43d(0x141),''+_0x2a1f09),await pauseBot(_0x3cf43d(0xb1));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x241e91(0x1d8),'rsaStandard':_0x241e91(0x1e0)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0xa1d5d8=>{console['log'](_0xa1d5d8);},'simple':_0x11dba0=>{const _0x2368ae=_0x241e91;console[_0x2368ae(0x88)](_0x11dba0),loggerfile[_0x2368ae(0x1c8)](util[_0x2368ae(0x135)](_0x11dba0)+'\x0a');},'full':async(_0x1e5a2b,_0x5a5bfd='')=>{const _0x6d9d90=_0x241e91;let _0x5f2458;if(config[_0x6d9d90(0x139)])_0x5f2458=getTimeStamp()+':\x20'+config[_0x6d9d90(0x180)]+_0x6d9d90(0xfa)+_0x1e5a2b;else _0x5f2458=getTimeStamp()+_0x6d9d90(0x8f)+botID+_0x6d9d90(0xfa)+_0x1e5a2b;console[_0x6d9d90(0x88)](_0x5f2458),loggerfile[_0x6d9d90(0x1c8)](util[_0x6d9d90(0x135)](_0x5f2458)+'\x0a'),_0x5a5bfd&&(console['log'](_0x5a5bfd),loggerfile['write'](util[_0x6d9d90(0x135)](_0x5a5bfd)+'\x0a'));},'debug':async(_0x148532,_0x3775a7='')=>{const _0x357ba2=_0x241e91;let _0x4e5848;if(config['showname'])_0x4e5848=getTimeStamp()+':\x20'+config[_0x357ba2(0x180)]+_0x357ba2(0x1af)+_0x148532;else _0x4e5848=getTimeStamp()+_0x357ba2(0x8f)+botID+_0x357ba2(0x1af)+_0x148532;if(debugLoggingScreen)console[_0x357ba2(0x88)](_0x4e5848);loggerfile[_0x357ba2(0x1c8)](util[_0x357ba2(0x135)](_0x4e5848)+'\x0a');if(_0x3775a7){if(debugLoggingScreen)console[_0x357ba2(0x88)](_0x3775a7);loggerfile['write'](util[_0x357ba2(0x135)](_0x3775a7)+'\x0a');}}};process['on']('uncaughtException',function(_0x353637){const _0x45087a=_0x241e91;logger[_0x45087a(0xfb)](_0x353637);});settings[_0x241e91(0xd4)]!=config[_0x241e91(0xd4)]&&updateTimeshift(settings[_0x241e91(0xd4)]);process[_0x241e91(0x1e4)]({'started':_0x241e91(0xcd)},_0x29ec88=>{}),initializeProcessListeners();function proxyEmit(_0x6a1b7a,_0x427e59=null){const _0x7f53b6=_0x241e91;process[_0x7f53b6(0x1e4)]({'function':_0x6a1b7a,'args':_0x427e59},_0x3ef803=>{});}function initializeProcessListeners(){process['on']('message',_0x1f90ed=>{const _0x70100d=_0x4b77;switch(Object['keys'](_0x1f90ed)[0x0]){case'timeshift':_0x1f90ed['timeshift']!=undefined&&(settings[_0x70100d(0xd4)]=_0x1f90ed[_0x70100d(0xd4)],updateTimeshift(settings[_0x70100d(0xd4)]));break;case _0x70100d(0x1d9):switch(_0x1f90ed[_0x70100d(0x1d9)]){case _0x70100d(0x193):initclient();break;case _0x70100d(0x1d7):toggleBotMode();break;case'emitHistory':emitHistory(_0x1f90ed[_0x70100d(0x177)]);break;case _0x70100d(0xe1):deleteHistoryAlerts(_0x1f90ed[_0x70100d(0x177)]);break;case'getPortfolio':getPortfolio(_0x1f90ed[_0x70100d(0x177)]);break;case _0x70100d(0x104):storeConfiguration(_0x1f90ed[_0x70100d(0x177)]);break;case _0x70100d(0x1e2):storeHeadless(_0x1f90ed['args']);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x1f90ed['args']);break;case'cancelLoading':cancelLoading();break;case _0x70100d(0xbc):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x2526e2=_0x241e91;if(pidBalances)clearTimeout(pidBalances);if(config[_0x2526e2(0x92)]!=''&&config['apiKey']!='***'){await initExchange(config[_0x2526e2(0x92)],config['apiSecret']),await initWsEvents();let _0x6facc1=![];try{_0x6facc1=await loadSymbols();}catch(_0x11c7db){handleError(_0x11c7db,_0x2526e2(0xad));}if(_0x6facc1){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x2526e2(0xea)]==0x0&&allOpenOrders[_0x2526e2(0xea)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x51ace9,_0x172487){const _0xf414f3=_0x241e91,_0x12ae41=ccxt[config['exchange']];let _0x5952d4;switch(config[_0xf414f3(0xc5)]){case _0xf414f3(0x18c):_0x5952d4=_0xf414f3(0x18d);break;case'binanceus':_0x5952d4='wss://stream.binance.us:9443';break;default:_0x5952d4=_0xf414f3(0x18d);}exchange=new _0x12ae41({'apiKey':_0x51ace9,'secret':_0x172487,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0xf414f3(0x101)][_0xf414f3(0x115)]=_0x51ace9,wsClient[_0xf414f3(0x101)][_0xf414f3(0xd5)]=_0x172487,wsClient[_0xf414f3(0x101)][_0xf414f3(0x94)]=_0x5952d4;let _0x194fef=config[_0xf414f3(0xc5)]=='binanceus'?'USDT':_0xf414f3(0x7d),_0x12ef46=config[_0xf414f3(0x19f)]==_0xf414f3(0x98)?_0xf414f3(0x98):_0xf414f3(0x126);stablecoins={'eur':{'coin':''+_0x12ef46+_0x194fef,'symbol':_0x12ef46+'/'+_0x194fef},'usd':{'coin':_0x12ef46+'USDT','symbol':_0x12ef46+_0xf414f3(0x99)}};}async function initWsEvents(){const _0x208f92=_0x241e91;!wsClient[_0x208f92(0x9c)][_0x208f92(0x12f)]&&wsClient['on']('formattedMessage',_0x49c7fe=>{const _0x11cf01=_0x208f92;if(isWsFormattedKline(_0x49c7fe)){global[_0x11cf01(0x129)][_0x49c7fe['kline'][_0x11cf01(0xe5)]]=_0x49c7fe['kline'][_0x11cf01(0x1a0)];return;}else{if(isWsFormatted24hrTicker(_0x49c7fe)){global[_0x11cf01(0xdf)][_0x49c7fe[_0x11cf01(0xe5)]]=_0x49c7fe[_0x11cf01(0x1ad)];return;}else{if(!Array[_0x11cf01(0x17d)](_0x49c7fe)&&_0x49c7fe['wsKey']['includes'](_0x11cf01(0x130))){if(_0x49c7fe['wsMarket'][_0x11cf01(0x191)](_0x11cf01(0x194))){updateNumberCoins(_0x49c7fe);return;}}}}}),!wsClient['_events'][_0x208f92(0x1cf)]&&wsClient['on']('reconnected',async _0x1fe279=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x32295e=_0x241e91;let _0x594f01=![];try{markets=await exchange[_0x32295e(0xda)](),allSymbols=exchange[_0x32295e(0x17f)][_0x32295e(0x197)](_0xd377f7=>{const _0x161247=_0x32295e;let _0x13a02f=![];return exceptions[_0x161247(0x127)](_0xd37dea=>{const _0x1ed931=_0x161247;if(_0xd377f7[_0x1ed931(0x191)](_0xd37dea))_0x13a02f=!![];}),!_0x13a02f;}),_0x594f01=!![];}catch(_0x2f1dae){_0x594f01=![];throw _0x2f1dae;}return _0x594f01;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x2cd0c5=_0x241e91;proxyEmit(_0x2cd0c5(0xb4),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2cd0c5(0x179),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2e2670=getNormalizedPerformance();emitPerformance(_0x2e2670),await getStartingBalances(_0x2e2670);}async function toggleBotMode(){const _0x3e1006=_0x241e91;let _0x5c5d3f=dbConfig['get']('bot')[_0x3e1006(0xf4)]({'botID':botID})[_0x3e1006(0x187)]();if(_0x5c5d3f){const _0x2b1203=!_0x5c5d3f[_0x3e1006(0x161)];dbConfig[_0x3e1006(0x1c0)](_0x3e1006(0x138))[_0x3e1006(0xf4)]({'botID':botID})[_0x3e1006(0x1e6)]({'headless':_0x2b1203})['write'](),config['headless']=_0x2b1203,proxyEmit(_0x3e1006(0xb4),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5702cd=_0x241e91;process[_0x5702cd(0x1e4)]({'updatebotmanager':!![]},_0x314398=>{});}function cleanws(){const _0xb4bbf5=_0x241e91;wsinitialized=![];ws1&&(ws1[_0xb4bbf5(0x127)](_0x27ebe6=>{const _0xd32388=_0xb4bbf5;try{wsClient[_0xd32388(0x1a0)](_0x27ebe6);}catch(_0x11ce02){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x2371bb){}ws2=null;}ws3&&(ws3['forEach'](_0x46a0de=>{const _0x32ffb2=_0xb4bbf5;try{wsClient[_0x32ffb2(0x1a0)](_0x46a0de);}catch(_0x270025){}}),ws3=[]);}async function initws(){const _0x3988af=_0x241e91;cleanws();let _0x550313=[];currentCoins[_0x3988af(0x127)](_0x1dfa9c=>{const _0x5204df=_0x3988af;if(_0x1dfa9c[_0x5204df(0x1d2)]!=config['basecoin'])_0x550313['push'](_0x1dfa9c[_0x5204df(0xe5)]);});if(!_0x550313[_0x3988af(0x191)](stablecoins['eur'][_0x3988af(0xe5)]))_0x550313[_0x3988af(0x10a)](stablecoins[_0x3988af(0xf9)][_0x3988af(0xe5)]);if(!_0x550313['includes'](stablecoins['usd']['symbol']))_0x550313[_0x3988af(0x10a)](stablecoins[_0x3988af(0x164)][_0x3988af(0xe5)]);if(!_0x550313[_0x3988af(0x191)](_0x3988af(0x185)+config[_0x3988af(0x19f)]))_0x550313[_0x3988af(0x10a)]('BNB/'+config['basecoin']);try{_0x550313[_0x3988af(0x127)]((_0x255d97,_0x2e68fe)=>{const _0x187ef8=_0x3988af;ws1[_0x2e68fe]=wsClient['subscribeSpotKline'](noslash(_0x255d97),'1m'),ws3[_0x2e68fe]=wsClient[_0x187ef8(0x1db)](noslash(_0x255d97),_0x187ef8(0x194));}),ws2=wsClient[_0x3988af(0xcb)]();}catch(_0x127d2e){await handleError(_0x127d2e,_0x3988af(0x145));}let _0x1dd7a7,_0x36d6ee=0x0;loading[_0x3988af(0x9b)]=[];let _0x44487c=0x0;_0x550313[_0x3988af(0x127)](_0x104ba2=>{const _0x536a14=_0x3988af;loading[_0x536a14(0x9b)][_0x536a14(0x10a)](_0x104ba2);}),loadingCanceled=![];let _0x4ee188=![];while(_0x1dd7a7!=_0x550313[_0x3988af(0xea)]){_0x1dd7a7=0x0,_0x550313['forEach'](_0x5eecc1=>{const _0x310dcc=_0x3988af;global[_0x310dcc(0x129)][noslash(_0x5eecc1)]&&(loading[_0x310dcc(0x9b)]=loading[_0x310dcc(0x9b)][_0x310dcc(0x197)](_0x905769=>_0x905769!=_0x5eecc1),_0x1dd7a7++);}),loading[_0x3988af(0x82)]=Math[_0x3988af(0x14b)](_0x1dd7a7/_0x550313['length']*0x64);loading[_0x3988af(0x82)]!=0x64&&(_0x44487c>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x44487c>0x3c*0x5&&!_0x4ee188&&(_0x4ee188=!![],logHistory(_0x3988af(0xaa),_0x3988af(0x163)+loading[_0x3988af(0x9b)][_0x3988af(0x136)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x3988af(0xaa),_0x3988af(0x122)+loadCoinsRetryInterval/0xea60+_0x3988af(0x9a)),await sleep(loadCoinsRetryInterval),process['send']({'stop':_0x3988af(0x1d1)},_0x39511f=>{})));if(loadingCanceled){loading[_0x3988af(0x121)]=!![],emitLoadingProgress();break;}else _0x1dd7a7!=_0x36d6ee&&(_0x36d6ee=_0x1dd7a7,emitLoadingProgress()),_0x44487c++,await sleep(0xc8);}_0x4ee188&&logHistory(_0x3988af(0x18a),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started');if(_0x1dd7a7==_0x550313['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x55aa3e=_0x241e91;proxyEmit(_0x55aa3e(0x91),loading);}async function getFiat(){const _0x3b3fac=_0x241e91;let _0x2e64ab=0x0,_0x583c90=0x0;try{_0x2e64ab=global[_0x3b3fac(0x129)][stablecoins[_0x3b3fac(0xf9)][_0x3b3fac(0x1d2)]],_0x583c90=global['ticker'][stablecoins[_0x3b3fac(0x164)][_0x3b3fac(0x1d2)]];}catch(_0x31e71c){await handleError(_0x31e71c,_0x3b3fac(0xff));}return{'eur':Number(_0x2e64ab),'usd':Number(_0x583c90)};}function setStartDatePerformance(){const _0x2ab672=_0x241e91;if(config&&config['liquidity'][0x0][_0x2ab672(0x147)][_0x2ab672(0xea)]!=0x0){const _0x4313d9=config[_0x2ab672(0x110)][0x0]['changes'];dbPerformance[_0x2ab672(0x1c0)](_0x2ab672(0xce))[_0x2ab672(0xf4)]({'date':config[_0x2ab672(0x19e)]})['assign']({'coins':_0x4313d9})[_0x2ab672(0x1c8)]();}}async function recreateCoinResults(){const _0x2076ae=_0x241e91;let _0x32d49c,_0x50b3e3=[];try{const _0x61253b=fns['format'](fns[_0x2076ae(0x151)](config[_0x2076ae(0x19e)][_0x2076ae(0xe4)](/\//g,'-')),_0x2076ae(0x1a4));for(const _0x55e59b of currentCoins){if(_0x55e59b[_0x2076ae(0x1d2)]!=config[_0x2076ae(0x19f)]){let _0xba7cf9=0x0,_0x470a08,_0x47cd4c;_0x32d49c=await getAllEventOrders(_0x55e59b['symbol']);if(_0x32d49c[_0x2076ae(0xea)]>0x0)_0x32d49c[_0x2076ae(0x127)](_0x4ab149=>{const _0xb36719=_0x2076ae,_0xa92bec=_0x55e59b[_0xb36719(0xe5)][_0xb36719(0x191)](config[_0xb36719(0x19f)]+'/');_0x50b3e3[_0xb36719(0x10a)]({'datetime':_0x4ab149[_0xb36719(0xb3)],'coin':_0x55e59b[_0xb36719(0x1d2)],'symbol':_0x55e59b[_0xb36719(0xe5)],'side':_0x4ab149['side'],'reverse':_0xa92bec,'amount':formatResult(_0x4ab149['filled'],0x8),'filled':formatResult(_0x4ab149[_0xb36719(0x1d6)],0x8),'price':formatResult(_0x4ab149[_0xb36719(0x117)],0x8)}),_0xba7cf9=_0x4ab149['side']==_0xb36719(0x13f)?_0xba7cf9+_0x4ab149[_0xb36719(0x1d6)]:_0xba7cf9-_0x4ab149[_0xb36719(0x1d6)];if(!_0x47cd4c)_0x47cd4c=_0x4ab149['price'];});_0x470a08=_0x55e59b[_0x2076ae(0x1e5)]-_0xba7cf9;let _0x132e22;config[_0x2076ae(0x110)]['forEach'](_0x44454b=>{const _0x427cf4=_0x2076ae;!_0x132e22&&(_0x132e22=_0x44454b[_0x427cf4(0x147)][_0x427cf4(0xf4)](_0x38edab=>_0x38edab[_0x427cf4(0x1d2)]==_0x55e59b['coin']),_0x132e22&&(_0x470a08=_0x132e22[_0x427cf4(0x1e5)],_0x47cd4c=_0x132e22[_0x427cf4(0x117)]));});let _0x4f7393=dbCoinResults[_0x2076ae(0x1c0)](_0x2076ae(0x131))[_0x2076ae(0xf4)]({'coin':_0x55e59b[_0x2076ae(0x1d2)]})['value']();_0x4f7393={'coin':_0x55e59b['coin'],'number':_0x470a08,'breakeven':_0x47cd4c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2076ae(0x1c0)](_0x2076ae(0x131))[_0x2076ae(0xf4)]({'coin':_0x55e59b[_0x2076ae(0x1d2)]})[_0x2076ae(0x1e6)](_0x4f7393)[_0x2076ae(0x1c8)]();}}_0x50b3e3[_0x2076ae(0x176)]((_0x427913,_0x154d1a)=>_0x427913[_0x2076ae(0xb3)]>_0x154d1a[_0x2076ae(0xb3)]?0x1:_0x154d1a[_0x2076ae(0xb3)]>_0x427913[_0x2076ae(0xb3)]?-0x1:0x0);let _0x1bd0dc=0x0;for(let _0xfb2457 of _0x50b3e3){await updateCoinResults(_0xfb2457,!![]);}}catch(_0x5eed78){await handleError(_0x5eed78,'recreateCoinResults()');}}async function getAllEventOrders(_0x32460d){const _0xf215b4=_0x241e91;let _0x536768=[],_0x38dbae=dbLogs[_0xf215b4(0x1c0)](_0xf215b4(0x118))[_0xf215b4(0x197)](_0xe8836f=>{const _0x33d870=_0xf215b4,_0x1cc2d2=_0xe8836f['event']['toLowerCase']();return _0x1cc2d2[_0x33d870(0x191)](_0x32460d['toLowerCase']())&&(_0x1cc2d2[_0x33d870(0x191)](_0x33d870(0xae))&&_0x1cc2d2[_0x33d870(0x191)](_0x33d870(0x183))||_0x1cc2d2[_0x33d870(0x191)](_0x33d870(0x1d6))&&_0x1cc2d2[_0x33d870(0x191)](_0x33d870(0x183)));})['sortBy'](_0xf215b4(0xca))[_0xf215b4(0x187)]();return _0x38dbae[_0xf215b4(0x127)](_0x584685=>{const _0x4901f0=_0xf215b4,_0x48678e=_0x584685['event'][_0x4901f0(0x191)](_0x4901f0(0x15a))?_0x4901f0(0x15a):_0x4901f0(0x13f),_0x2fd2cb=/#([0-9]|\.)+\s/i,_0x32e540=Number(_0x2fd2cb[_0x4901f0(0x19c)](_0x584685[_0x4901f0(0x1bf)])[0x0][_0x4901f0(0x109)](0x1)),_0x14e6b3=/@([0-9]|\.)+$/i,_0x58a3ac=Number(_0x14e6b3['exec'](_0x584685[_0x4901f0(0x1bf)])[0x0][_0x4901f0(0x109)](0x1));_0x536768['push']({'datetime':_0x584685[_0x4901f0(0xca)],'coin':symbolToCoin(_0x32460d),'symbol':_0x32460d,'side':_0x48678e,'amount':_0x32e540,'filled':_0x32e540,'price':_0x58a3ac});}),_0x536768;}async function getAllOrders(_0x4515a1,_0x578b7c){const _0x436dea=_0x241e91;let _0x3e7697=[];while(_0x578b7c<exchange[_0x436dea(0x1c9)]()){const _0x36895a=0x1f4,_0x29398b=await exchange[_0x436dea(0x9f)](_0x4515a1,_0x578b7c,_0x36895a);if(_0x29398b[_0x436dea(0xea)])_0x578b7c=_0x29398b[_0x29398b[_0x436dea(0xea)]-0x1][_0x436dea(0x1ab)]+0x1,_0x3e7697=_0x3e7697[_0x436dea(0x198)](_0x29398b);else break;}return _0x3e7697;}function _0x4b77(_0x46455c,_0x1e12f8){const _0xb71e7a=_0x20ac();return _0x4b77=function(_0x41ad4c,_0x1de8a1){_0x41ad4c=_0x41ad4c-0x7d;let _0x20ac4d=_0xb71e7a[_0x41ad4c];return _0x20ac4d;},_0x4b77(_0x46455c,_0x1e12f8);}async function validate24hChanges(){const _0x43f91d=_0x241e91;let _0x25d8dd;for(const _0x20c31f of currentCoins){if(_0x20c31f[_0x43f91d(0x1d2)]!=config['basecoin']){let _0x49ec48;_0x20c31f['reverse']?_0x49ec48=formatResult((0x1/(global[_0x43f91d(0xdf)][noslash(_0x20c31f[_0x43f91d(0xe5)])]/0x64+0x1)-0x1)*0x64,0x3):_0x49ec48=global[_0x43f91d(0xdf)][noslash(_0x20c31f[_0x43f91d(0xe5)])],_0x49ec48<config[_0x43f91d(0xbd)]&&(logHistory(_0x43f91d(0xaa),_0x20c31f['coin']+_0x43f91d(0x1b5)+_0x49ec48+'%'),logHistory(_0x43f91d(0xaa),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x43f91d(0x85)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x279e1b=_0x241e91;let _0x5dbcc4=dbLogs['get'](_0x279e1b(0x125))[_0x279e1b(0x187)]();if(_0x5dbcc4!=_0x279e1b(0x1d0)){dbLogs[_0x279e1b(0x13b)]('version','2.3.5')[_0x279e1b(0x1c8)]();let _0x64cee3=[];const _0x3dcf0b=dbLogs[_0x279e1b(0x1c0)](_0x279e1b(0x118))[_0x279e1b(0x187)]();_0x3dcf0b[_0x279e1b(0x127)](_0x46dabe=>{const _0x5a85bf=_0x279e1b;_0x64cee3[_0x5a85bf(0x10a)]({'time':_0x46dabe[_0x5a85bf(0xca)],'type':_0x46dabe[_0x5a85bf(0x1c7)],'event':_0x46dabe[_0x5a85bf(0x1bf)]});}),dbLogs[_0x279e1b(0x1c0)](_0x279e1b(0x118))[_0x279e1b(0x1e6)](_0x64cee3)[_0x279e1b(0x1c8)]();}let _0x2672f9=dbConfig['get'](_0x279e1b(0x125))[_0x279e1b(0x187)]();if(_0x2672f9!='2.3.5'){dbConfig[_0x279e1b(0x13b)](_0x279e1b(0x125),_0x279e1b(0x1d0))[_0x279e1b(0x1c8)]();let _0x769f06=dbConfig[_0x279e1b(0x1c0)](_0x279e1b(0x138))['find']({'botID':botID})[_0x279e1b(0x187)]();if(_0x769f06){let _0x4ada45=[];_0x769f06[_0x279e1b(0x175)][_0x279e1b(0x127)](_0x2ff10e=>{const _0x1ef1ed=_0x279e1b;_0x4ada45[_0x1ef1ed(0x10a)]({'coin':_0x2ff10e[_0x1ef1ed(0x1d2)],'number':_0x2ff10e[_0x1ef1ed(0x12d)],'price':_0x2ff10e[_0x1ef1ed(0x132)]}),delete _0x2ff10e[_0x1ef1ed(0x12d)],delete _0x2ff10e[_0x1ef1ed(0x132)];});if(_0x4ada45[_0x279e1b(0xea)]!==0x0)fs['writeFile'](configbackuppath+('starting-balance-'+botID+_0x279e1b(0xfe)),JSON[_0x279e1b(0x120)](_0x4ada45,null,0x4),function(_0x4b0f23){if(_0x4b0f23){}});const _0x30d5ab=(_0x4b002f,_0x38c176)=>{const _0x1716ca=_0x279e1b;let _0x928a53=[];_0x38c176[_0x1716ca(0x127)](_0x30dedb=>{const _0x13a197=_0x1716ca,_0x4d002b=_0x4b002f['find'](_0x486da7=>_0x486da7[_0x13a197(0x1d2)]==_0x30dedb[_0x13a197(0x1d2)]);if(!_0x4d002b)_0x928a53['push'](_0x30dedb);});let _0x22e928=[];return _0x4b002f[_0x1716ca(0x127)](_0x43c3b7=>{const _0x885cbd=_0x1716ca,_0x4d5467=_0x38c176[_0x885cbd(0xf4)](_0x393f09=>_0x393f09[_0x885cbd(0x1d2)]==_0x43c3b7[_0x885cbd(0x1d2)]);if(!_0x4d5467||_0x4d5467[_0x885cbd(0x1e5)]==0x0&&_0x43c3b7['number']!=0x0)_0x22e928[_0x885cbd(0x10a)](_0x43c3b7);}),{'missingDay1':_0x928a53,'notInDay2':_0x22e928};},_0x3ba2d2=dbPerformance['get']('data')[_0x279e1b(0x15c)]()['value']();if(_0x3ba2d2['length']>0x1){const {missingDay1:_0x58ee69,notInDay2:_0x4fd6f8}=_0x30d5ab(_0x4ada45,_0x3ba2d2[0x1][_0x279e1b(0x131)]);_0x4ada45=[..._0x4ada45,..._0x58ee69],_0x4fd6f8[_0x279e1b(0x127)](_0x51439d=>{const _0x10f71e=_0x279e1b;let _0x3c1b01=_0x4ada45[_0x10f71e(0x1c1)](_0x41e873=>_0x41e873[_0x10f71e(0x1d2)]==_0x51439d[_0x10f71e(0x1d2)]);_0x3c1b01!=-0x1&&_0x4ada45['splice'](_0x3c1b01,0x1);});}_0x4ada45[_0x279e1b(0x176)]((_0x1da8d7,_0x4ad482)=>_0x1da8d7[_0x279e1b(0x1d2)]>_0x4ad482[_0x279e1b(0x1d2)]?0x1:_0x4ad482[_0x279e1b(0x1d2)]>_0x1da8d7['coin']?-0x1:0x0);let _0x33e3bb=[{'date':_0x769f06['startdate'],'changes':_0x4ada45}];_0x3ba2d2[_0x279e1b(0xea)]>0x2&&_0x3ba2d2[_0x279e1b(0x127)]((_0x818f7a,_0x373211)=>{const _0x45b1b7=_0x279e1b;if(_0x373211>0x0&&_0x373211<_0x3ba2d2['length']-0x1){const {missingDay1:_0x2bbf93,notInDay2:_0x4379ba}=_0x30d5ab(_0x3ba2d2[_0x373211]['coins'],_0x3ba2d2[_0x373211+0x1][_0x45b1b7(0x131)]);_0x4ada45=[],(_0x2bbf93[_0x45b1b7(0xea)]!=0x0||_0x4379ba[_0x45b1b7(0xea)]!=0x0)&&(_0x2bbf93['length']!=0x0&&_0x4ada45['push'](..._0x2bbf93),_0x4379ba['length']!=0x0&&(_0x4379ba[_0x45b1b7(0x127)](_0x42f9a7=>{const _0x2044b3=_0x45b1b7;_0x42f9a7[_0x2044b3(0x1e5)]=-_0x42f9a7[_0x2044b3(0x1e5)];}),_0x4ada45['push'](..._0x4379ba)),_0x4ada45[_0x45b1b7(0x176)]((_0x59a4a0,_0x602f2c)=>_0x59a4a0[_0x45b1b7(0x1d2)]>_0x602f2c[_0x45b1b7(0x1d2)]?0x1:_0x602f2c[_0x45b1b7(0x1d2)]>_0x59a4a0[_0x45b1b7(0x1d2)]?-0x1:0x0),_0x33e3bb[_0x45b1b7(0x10a)]({'date':_0x3ba2d2[_0x373211+0x1][_0x45b1b7(0x1b4)],'changes':_0x4ada45}));}}),dbConfig[_0x279e1b(0x1c0)](_0x279e1b(0x138))['find']({'botID':botID})['assign']({..._0x769f06,'liquidity':_0x33e3bb})[_0x279e1b(0x1c8)]();}}config=getConfiguration(botID);let _0x2308bc=dbPerformance[_0x279e1b(0x1c0)](_0x279e1b(0x125))[_0x279e1b(0x187)]();_0x2308bc!=_0x279e1b(0x1d0)&&(dbPerformance[_0x279e1b(0x13b)](_0x279e1b(0x125),'2.3.5')[_0x279e1b(0x1c8)](),setStartDatePerformance());let _0x32db6d=dbCoinResults[_0x279e1b(0x1c0)](_0x279e1b(0x125))[_0x279e1b(0x187)]();if(_0x32db6d!=_0x279e1b(0x140)){dbCoinResults[_0x279e1b(0x13b)](_0x279e1b(0x125),'2.5.0')[_0x279e1b(0x1c8)]();let _0x19e742=dbCoinResults[_0x279e1b(0x1c0)](_0x279e1b(0x131))[_0x279e1b(0x187)]();if(_0x19e742[_0x279e1b(0xea)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x186083){const _0x42b4d4=_0x241e91;let _0x549dcb=dbConfig[_0x42b4d4(0x1c0)](_0x42b4d4(0x138))[_0x42b4d4(0xf4)]({'botID':_0x186083})[_0x42b4d4(0x187)]();if(_0x549dcb){let _0x24542f=![];typeof _0x549dcb[_0x42b4d4(0x199)]==_0x42b4d4(0x150)&&(_0x549dcb={..._0x549dcb,'threshold':Number(_0x549dcb[_0x42b4d4(0x199)])},_0x24542f=!![]),_0x549dcb[_0x42b4d4(0xbd)]==null&&(_0x549dcb={..._0x549dcb,'change24h':-0x14},_0x24542f=!![]),_0x24542f&&(_0x549dcb={'botID':_0x549dcb[_0x42b4d4(0x1cb)],'exchange':_0x549dcb['exchange'],'apiKey':_0x549dcb[_0x42b4d4(0x92)],'apiSecret':_0x549dcb[_0x42b4d4(0x96)],'basecoin':_0x549dcb[_0x42b4d4(0x19f)],'botname':_0x549dcb[_0x42b4d4(0x180)],'showname':_0x549dcb[_0x42b4d4(0x139)],'threshold':_0x549dcb[_0x42b4d4(0x199)],'ordertype':_0x549dcb[_0x42b4d4(0x87)],'timeout':_0x549dcb[_0x42b4d4(0x86)],'startdate':_0x549dcb[_0x42b4d4(0x19e)],'recreate':_0x549dcb[_0x42b4d4(0xc0)],'timeshift':_0x549dcb[_0x42b4d4(0xd4)],'headless':_0x549dcb['headless'],'cooldown':_0x549dcb[_0x42b4d4(0x1ae)],'change24h':_0x549dcb['change24h'],'emojibuy':_0x549dcb[_0x42b4d4(0x184)],'emojisell':_0x549dcb[_0x42b4d4(0x181)],'portfolio':_0x549dcb['portfolio'],'liquidity':_0x549dcb['liquidity']},dbConfig[_0x42b4d4(0x1c0)](_0x42b4d4(0x138))[_0x42b4d4(0x171)]()[_0x42b4d4(0x1c8)](),dbConfig[_0x42b4d4(0x1c0)]('bot')[_0x42b4d4(0x10a)](_0x549dcb)[_0x42b4d4(0x1c8)]());}else _0x549dcb={'botID':_0x186083,'exchange':_0x42b4d4(0x18c),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x42b4d4(0xfd)+_0x186083,'showname':![],'threshold':0x3,'ordertype':_0x42b4d4(0xae),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x549dcb;}function emittedConfiguration(){const _0xa13d30=_0x241e91;let _0x5ad98b;if(config[_0xa13d30(0x92)]=='')_0x5ad98b={...config,'configstate':_0xa13d30(0x1dd)};else config['apiKey']==_0xa13d30(0x1b9)?_0x5ad98b={...config,'configstate':_0xa13d30(0x95)}:_0x5ad98b={...config,'apiKey':'************','apiSecret':_0xa13d30(0x114)};return _0x5ad98b;}function getSettings(){const _0x887140=_0x241e91;return dbSettings['get']('settings')[_0x887140(0x187)]();}function getSecure(){const _0x493203=_0x241e91;return dbSecure[_0x493203(0x1c0)](_0x493203(0xd8))[_0x493203(0x187)]()||{};}function updateTimeshift(_0x1f2728){const _0x212e43=_0x241e91;let _0x36c3e1=dbConfig[_0x212e43(0x1c0)](_0x212e43(0x138))[_0x212e43(0xf4)]({'botID':botID})[_0x212e43(0x187)]();_0x36c3e1&&dbConfig['get'](_0x212e43(0x138))['find']({'botID':botID})[_0x212e43(0x1e6)]({'timeshift':_0x1f2728})['write'](),config['timeshift']=_0x1f2728,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0xb34806){const _0x2ca48d=_0x241e91;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x1891a8=dbConfig[_0x2ca48d(0x1c0)](_0x2ca48d(0x138))[_0x2ca48d(0xf4)]({'botID':botID})[_0x2ca48d(0x187)]();_0xb34806={..._0xb34806,'apiKey':crypt[_0x2ca48d(0x1b3)](secure[_0x2ca48d(0x14a)],_0xb34806[_0x2ca48d(0x92)])[_0x2ca48d(0x8d)],'apiSecret':crypt['decrypt'](secure[_0x2ca48d(0x14a)],_0xb34806[_0x2ca48d(0x96)])['message']};if(_0x1891a8){if(_0xb34806[_0x2ca48d(0x92)]=='************')_0xb34806['apiKey']=config[_0x2ca48d(0x92)];if(_0xb34806[_0x2ca48d(0x96)]==_0x2ca48d(0x114))_0xb34806[_0x2ca48d(0x96)]=config[_0x2ca48d(0x96)];dbConfig[_0x2ca48d(0x1c0)](_0x2ca48d(0x138))[_0x2ca48d(0xf4)]({'botID':botID})[_0x2ca48d(0x1e6)](_0xb34806)[_0x2ca48d(0x1c8)]();}else dbConfig[_0x2ca48d(0x1c0)](_0x2ca48d(0x138))['push'](_0xb34806)[_0x2ca48d(0x1c8)](),process['send']({'status':_0x2ca48d(0xbf),'live':'running'},_0x2cfaf5=>{});config={..._0xb34806},setStartDatePerformance(),process[_0x2ca48d(0x1e4)]({'botname':_0xb34806[_0x2ca48d(0x180)]},_0x109166=>{}),updateBotManager();const _0x23d052=getNormalizedPerformance();getStartingBalances(_0x23d052),emitPerformance(_0x23d052),proxyEmit(_0x2ca48d(0x103)),await initCoinResults(),reset();}async function storeHeadless(_0xf293d6){const _0x2c605e=_0x241e91,_0x2b59b1={...config,'headless':_0xf293d6[_0x2c605e(0x161)]};let _0x406b11=dbConfig[_0x2c605e(0x1c0)](_0x2c605e(0x138))['find']({'botID':botID})[_0x2c605e(0x187)]();_0x406b11&&dbConfig[_0x2c605e(0x1c0)](_0x2c605e(0x138))['find']({'botID':botID})['assign'](_0x2b59b1)[_0x2c605e(0x1c8)](),config={..._0x2b59b1},updateBotManager(),proxyEmit(_0x2c605e(0xb4),emittedConfiguration());}function noslash(_0x454750){return _0x454750['replace']('/','');}async function updateNumberCoins(_0x3d9398){const _0x253579=_0x241e91;if(_0x3d9398['eventType']&&_0x3d9398[_0x253579(0x7f)]==_0x253579(0x13c)){logger['debug']('0\x20-\x20EXECUTION:\x20'+_0x3d9398['symbol']+_0x253579(0x18b)+_0x3d9398[_0x253579(0x170)]+_0x253579(0x18b)+_0x3d9398[_0x253579(0x119)]+_0x253579(0x18b)+_0x3d9398[_0x253579(0x16d)]);let _0x4ef079=_0x3d9398[_0x253579(0x170)],_0x358a01=![];currentCoins[_0x253579(0x127)](_0x2c12f3=>{const _0x4ee536=_0x253579;noslash(_0x2c12f3[_0x4ee536(0xe5)])==_0x3d9398[_0x4ee536(0xe5)]&&(_0x358a01=!![]);});if(!_0x358a01)return;const _0x8ab21a=currentCoins['find'](_0x4578f6=>noslash(_0x4578f6['symbol'])==_0x3d9398[_0x253579(0xe5)]),_0x15b56f=_0x3e02cf=>{if(_0x8ab21a)_0x8ab21a['orderstatus']=_0x3e02cf;};if(_0x4ef079=='NEW')_0x15b56f(_0x253579(0x1e3));else{if(_0x4ef079=='CANCELED')_0x15b56f(_0x253579(0x1bd)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x4ef079==_0x253579(0xa7)){logger[_0x253579(0xe3)](_0x253579(0x111)+_0x3d9398['symbol']+_0x253579(0x18b)+_0x3d9398[_0x253579(0xd1)]+_0x253579(0x18b)+_0x3d9398[_0x253579(0x119)]+_0x253579(0x18b)+_0x3d9398[_0x253579(0x16d)]);let _0x25b19f=![];if(lastOrders)lastOrders['forEach'](async _0x3adedd=>{const _0x553147=_0x253579;if(_0x3adedd[_0x553147(0xa0)]==_0x3d9398[_0x553147(0x16d)]){logger[_0x553147(0xe3)](_0x553147(0x108)+_0x3d9398[_0x553147(0x16d)]),_0x25b19f=!![];if(_0x3adedd[_0x553147(0x1d6)]==0x0){logger[_0x553147(0xe3)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x3d9398[_0x553147(0x16d)]),_0x3adedd[_0x553147(0x117)]=_0x3d9398['cumulativeQuoteAssetTransactedQty']/_0x3d9398[_0x553147(0xd1)],_0x3adedd[_0x553147(0x1d6)]=_0x3d9398['accumulatedQuantity'],_0x3adedd[_0x553147(0x11d)]={'cost':_0x3d9398[_0x553147(0xf1)],'currency':_0x3d9398[_0x553147(0x97)]},_0x15b56f('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x3adedd);}}});!_0x25b19f&&(logger[_0x253579(0xe3)](_0x253579(0xdd)+_0x3d9398[_0x253579(0x119)]),_0x15b56f(_0x253579(0x1d6)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x3463c8=JSON[_0x253579(0xab)](lastBalances[_0x253579(0x175)]);const _0x44f67d=_0x3463c8[_0x253579(0xf4)](_0x34d95f=>noslash(_0x34d95f[_0x253579(0xe5)])==_0x3d9398['symbol']);if(_0x44f67d){if(_0x4ef079==_0x253579(0x18e))_0x44f67d[_0x253579(0x1b0)]=_0x44f67d[_0x253579(0x1b0)]==_0x253579(0x1d6)?_0x253579(0x1d6):_0x253579(0x1e3);else{if(_0x4ef079==_0x253579(0x1a3))_0x44f67d[_0x253579(0x1b0)]=_0x44f67d[_0x253579(0x1b0)]==_0x253579(0x1d6)?'filled':'canceled';else _0x4ef079==_0x253579(0xa7)&&(_0x44f67d[_0x253579(0x1b0)]=_0x253579(0x1d6));}}lastBalances={...lastBalances,'portfolio':JSON[_0x253579(0x120)](_0x3463c8)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x491f5a=![],_0x5e681e=!![],_0x19b70b=config[_0x241e91(0x19f)]){const _0x549b8b=_0x241e91;let _0x1760a1,_0x159169=[],_0xdc8655=[],_0x37f220=[];try{_0x1760a1=await exchange[_0x549b8b(0x112)](),mybalances=_0x1760a1['total'];if(!_0x5e681e)for(const [_0x11c88e,_0x333036]of Object['entries'](mybalances)){_0x37f220[_0x549b8b(0x10a)](_0x11c88e);}else config[_0x549b8b(0x175)][_0x549b8b(0x127)](_0x4189e3=>{const _0x37197e=_0x549b8b;if(!_0x4189e3[_0x37197e(0xc2)])_0x37f220[_0x37197e(0x10a)](_0x4189e3[_0x37197e(0x1d2)]);});if(_0x19b70b=='')for(const [_0x25ece0,_0x7c5e75]of Object[_0x549b8b(0x189)](mybalances)){_0x7c5e75[_0x549b8b(0x12b)]()!=0x0&&_0xdc8655[_0x549b8b(0x10a)]({'coin':_0x25ece0});}else{if(_0x491f5a)await getOpenOrders();let _0x30cea3=![];for(const [_0x1b14db,_0x1c73a0]of Object[_0x549b8b(0x189)](mybalances)){if(_0x37f220[_0x549b8b(0x191)](_0x1b14db)){const _0x22b36c=config['portfolio']['find'](_0x15c7f4=>_0x15c7f4['coin']==_0x1b14db),_0x165404=_0x1b14db+'/'+_0x19b70b,_0x14e8b9=_0x19b70b+'/'+_0x1b14db,_0x32cba4=currentCoins['find'](_0x3e028d=>_0x3e028d[_0x549b8b(0x1d2)]==_0x1b14db);_0x30cea3=![];_0x491f5a&&(_0x30cea3=allOpenOrders['find'](_0x1fbc92=>_0x1fbc92[_0x549b8b(0xe5)]==_0x22b36c[_0x549b8b(0xe5)]));if((_0x1c73a0['toString']()!=0x0||_0x22b36c)&&(allSymbols['includes'](_0x165404)||_0x1b14db==_0x19b70b))_0x1b14db!=_0x19b70b&&_0x159169[_0x549b8b(0x10a)](_0x165404),_0xdc8655['push']({'coin':_0x1b14db,'symbol':_0x165404,'reverse':![],'number':Math[_0x549b8b(0x154)](_0x1c73a0+(_0x22b36c&&_0x22b36c[_0x549b8b(0x186)]||0x0),0x0),'orderstatus':_0x491f5a?_0x30cea3?'open':'none':_0x32cba4?_0x32cba4[_0x549b8b(0x1b0)]:_0x549b8b(0x19b)});else(_0x1c73a0[_0x549b8b(0x12b)]()!=0x0||_0x22b36c)&&allSymbols[_0x549b8b(0x191)](_0x14e8b9)&&(_0x1b14db!=_0x19b70b&&_0x159169[_0x549b8b(0x10a)](_0x14e8b9),_0xdc8655['push']({'coin':_0x1b14db,'symbol':_0x14e8b9,'reverse':!![],'number':Math[_0x549b8b(0x154)](_0x1c73a0+(_0x22b36c&&_0x22b36c['offset']||0x0),0x0),'orderstatus':_0x491f5a?_0x30cea3?'open':_0x549b8b(0x19b):_0x32cba4?_0x32cba4[_0x549b8b(0x1b0)]:'none'}));}}}}catch(_0x16e310){if(!_0x5e681e)handleErrorNoStop(_0x16e310,_0x549b8b(0x11a));else await handleError(_0x16e310,_0x549b8b(0x11a));}return _0xdc8655;}async function getCoinNumber(_0xa50c11){const _0x322d58=_0x241e91;let _0x3e004c;try{const _0x78125e=await exchange[_0x322d58(0x112)]();_0x3e004c=_0x78125e['total'][_0xa50c11];}catch(_0x365f15){await handleError(_0x365f15,_0x322d58(0xb6));}return _0x3e004c;}async function getOpenOrders(){const _0x15ba7d=_0x241e91;let _0x2838be;allOpenOrders=[];try{for(const _0x2ad6cd of config[_0x15ba7d(0x175)]){!_0x2ad6cd[_0x15ba7d(0xc2)]&&_0x2ad6cd[_0x15ba7d(0x1d2)]!=config[_0x15ba7d(0x19f)]&&(_0x2838be=await exchange[_0x15ba7d(0xd0)](_0x2ad6cd[_0x15ba7d(0xe5)]),_0x2838be[_0x15ba7d(0xea)]>0x0&&allOpenOrders[_0x15ba7d(0x10a)](_0x2838be[0x0]));}}catch(_0x33dcfc){await handleError(_0x33dcfc,'getOpenOrders()');}}async function handleOpenOrders(_0x36425a=0x0){const _0x44367e=_0x241e91;logger['debug'](_0x44367e(0xa9)),allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x36425a==0x0?(logger[_0x44367e(0xe3)](_0x44367e(0x1ac)),_0x36425a++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x44367e(0xe3)](_0x44367e(0xcf)),validateOrders(_0x44367e(0xc8))));}async function getPortfolio(_0x19dbba){const _0x19d47c=_0x241e91;let _0x35ede3=[],_0x5ad7ec=[],_0x523098,_0x2568f0=[],_0x288f4d,_0x1930f5;_0x19dbba[_0x19d47c(0x92)]===_0x19d47c(0x114)||_0x19dbba[_0x19d47c(0x96)]==='************'?(_0x288f4d=config['apiKey'],_0x1930f5=config['apiSecret']):(_0x288f4d=_0x19dbba[_0x19d47c(0x92)],_0x1930f5=_0x19dbba[_0x19d47c(0x96)]);await initExchange(_0x288f4d,_0x1930f5);let _0xf06ee9=![];try{_0xf06ee9=await loadSymbols();}catch(_0x1ca074){_0xf06ee9=![],handleErrorNoStop(_0x1ca074,_0x19d47c(0xad));}if(_0xf06ee9){_0x2568f0=await getCoins(![],![],_0x19dbba['basecoin']);if(_0x2568f0===![])proxyEmit(_0x19d47c(0x175),![]);else{if(_0x19dbba['basecoin']=='')proxyEmit('portfolio',_0x2568f0);else{_0x2568f0[_0x19d47c(0x127)](_0x4afa73=>{const _0x4630b7=_0x19d47c;if(_0x4afa73['coin']!=_0x19dbba['basecoin'])_0x35ede3[_0x4630b7(0x10a)](_0x4afa73['symbol']);});try{_0x5ad7ec=await exchange[_0x19d47c(0x89)](_0x35ede3);}catch(_0x5ea33e){await handleError(_0x5ea33e,_0x19d47c(0xdb));}_0x2568f0[_0x19d47c(0x127)](_0x55554a=>{const _0x501cfd=_0x19d47c;_0x55554a[_0x501cfd(0x1d2)]!=_0x19dbba['basecoin']?_0x523098=_0x55554a['reverse']?0x1/_0x5ad7ec[_0x55554a[_0x501cfd(0xe5)]]['last']:_0x5ad7ec[_0x55554a[_0x501cfd(0xe5)]][_0x501cfd(0xb0)]:_0x523098=0x1,_0x55554a[_0x501cfd(0x117)]=formatResult(_0x523098,0x8);}),proxyEmit('portfolio',_0x2568f0);}}}else proxyEmit(_0x19d47c(0x175),![]);}function checkMinimums(_0x1801d1){const _0x1b31d6=_0x241e91;let _0x1a80ee=!![];const _0x125b0e=!_0x1801d1[_0x1b31d6(0x1cc)]?markets[_0x1801d1[_0x1b31d6(0xe5)]][_0x1b31d6(0x166)][_0x1b31d6(0x15f)][_0x1b31d6(0xb7)]:markets[_0x1801d1[_0x1b31d6(0xe5)]]['limits'][_0x1b31d6(0x106)][_0x1b31d6(0xb7)],_0x776051=!_0x1801d1[_0x1b31d6(0x1cc)]?markets[_0x1801d1['symbol']][_0x1b31d6(0x166)][_0x1b31d6(0x106)]['min']:markets[_0x1801d1['symbol']][_0x1b31d6(0x166)][_0x1b31d6(0x15f)][_0x1b31d6(0xb7)],_0x769b40=markets[_0x1801d1[_0x1b31d6(0xe5)]][_0x1b31d6(0x178)][_0x1b31d6(0x15f)];_0x1801d1['trade']=formatResultTruncate(_0x1801d1[_0x1b31d6(0x1cd)],_0x769b40);if(Math[_0x1b31d6(0x11f)](_0x1801d1['trade'])<_0x125b0e)_0x1a80ee=![];if(Math[_0x1b31d6(0x11f)](_0x1801d1[_0x1b31d6(0x1cd)])*_0x1801d1[_0x1b31d6(0xb0)]<_0x776051)_0x1a80ee=![];if(_0x1801d1['side']==_0x1b31d6(0x15a)){let _0x1e1cc5=config[_0x1b31d6(0x175)][_0x1b31d6(0xf4)](_0x5007f5=>_0x5007f5[_0x1b31d6(0x1d2)]==_0x1801d1['coin']);if(_0x1e1cc5[_0x1b31d6(0x186)]>0x0){if(Math[_0x1b31d6(0x11f)](_0x1801d1[_0x1b31d6(0x1cd)])>_0x1801d1['number']-_0x1e1cc5[_0x1b31d6(0x186)])_0x1a80ee=![];}else{if(Math[_0x1b31d6(0x11f)](_0x1801d1['trade'])>_0x1801d1[_0x1b31d6(0x1e5)])_0x1a80ee=![];}}if(_0x1801d1['side']==_0x1b31d6(0x13f)){let _0x156fa0=config[_0x1b31d6(0x175)][_0x1b31d6(0xf4)](_0x23459d=>_0x23459d[_0x1b31d6(0x1d2)]==config['basecoin']),_0x453357=currentCoins['find'](_0x308bb5=>_0x308bb5[_0x1b31d6(0x1d2)]==config[_0x1b31d6(0x19f)]);if(_0x156fa0[_0x1b31d6(0x186)]>0x0){if(Math[_0x1b31d6(0x11f)](_0x1801d1[_0x1b31d6(0x1cd)])*_0x1801d1[_0x1b31d6(0xb0)]>_0x453357[_0x1b31d6(0x1e5)]-_0x156fa0[_0x1b31d6(0x186)])_0x1a80ee=![];}else{if(Math[_0x1b31d6(0x11f)](_0x1801d1['trade'])*_0x1801d1[_0x1b31d6(0xb0)]>_0x453357[_0x1b31d6(0x1e5)])_0x1a80ee=![];}}return _0x1a80ee;}async function getBalances(){const _0x20a20d=_0x241e91;let _0xc8490f=0x0,_0x3d0cd9;const _0x2d6dba=config['threshold'];if(config[_0x20a20d(0x161)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x20a20d(0x127)](_0x5031a8=>{const _0x1d212e=_0x20a20d;if(_0x5031a8[_0x1d212e(0x1d2)]!=config[_0x1d212e(0x19f)]){let _0x1d05b2=global[_0x1d212e(0x129)][noslash(_0x5031a8['symbol'])];_0x3d0cd9=_0x5031a8[_0x1d212e(0x1cc)]?0x1/_0x1d05b2:_0x1d05b2;}else _0x3d0cd9=0x1;let _0x5b9cc9=_0x5031a8[_0x1d212e(0x1e5)]*_0x3d0cd9;_0xc8490f+=_0x5b9cc9,_0x5031a8[_0x1d212e(0xb0)]=formatResult(Number(_0x3d0cd9),0x8),_0x5031a8['value']=_0x5b9cc9;}),currentCoins[_0x20a20d(0x127)](_0x146150=>{const _0x5a19fc=_0x20a20d;let _0x4dec7f=config[_0x5a19fc(0x175)][_0x5a19fc(0xf4)](_0x45c562=>_0x45c562[_0x5a19fc(0x1d2)]==_0x146150[_0x5a19fc(0x1d2)]),_0xa781b5=Number(_0x4dec7f[_0x5a19fc(0x1df)]),_0x230033=_0x146150[_0x5a19fc(0x187)]/_0xc8490f*0x64,_0x2788d6=_0xa781b5*_0xc8490f/0x64/_0x146150[_0x5a19fc(0xb0)]-_0x146150[_0x5a19fc(0x1e5)];_0x146150[_0x5a19fc(0x1df)]=formatResult(_0x230033,0x3),_0x146150[_0x5a19fc(0xc1)]=formatResult(_0xa781b5,0x3),_0x146150[_0x5a19fc(0x1cd)]=formatResult(_0x2788d6,0x8),_0x146150[_0x5a19fc(0xee)]='',_0x146150[_0x5a19fc(0x1a8)]=![];if(_0x146150[_0x5a19fc(0x1d2)]!=config[_0x5a19fc(0x19f)]){if(_0x146150['distribution']>_0xa781b5)_0x146150['side']=_0x5a19fc(0x15a),_0x146150[_0x5a19fc(0x1a8)]=checkMinimums(_0x146150);else _0x146150[_0x5a19fc(0x1df)]<_0xa781b5&&(_0x146150[_0x5a19fc(0xee)]=_0x5a19fc(0x13f),_0x146150[_0x5a19fc(0x1a8)]=checkMinimums(_0x146150));}_0x146150[_0x5a19fc(0x1e8)]=_0x146150[_0x5a19fc(0x1df)]/_0x146150[_0x5a19fc(0xc1)]-0x1;if(_0x146150[_0x5a19fc(0x1b0)]==_0x5a19fc(0x1d6)||_0x146150['orderstatus']==_0x5a19fc(0x1bd))_0x146150['orderstatus']=_0x5a19fc(0x19b);}),currentCoins[_0x20a20d(0x176)]((_0x8b1cf2,_0x21c506)=>_0x8b1cf2['delta']<_0x21c506[_0x20a20d(0x1e8)]?0x1:_0x21c506[_0x20a20d(0x1e8)]<_0x8b1cf2[_0x20a20d(0x1e8)]?-0x1:0x0);const _0x1f8224=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1f8224['eur'],'usd':_0x1f8224[_0x20a20d(0x164)],'portfolio':JSON[_0x20a20d(0x120)](currentCoins),'threshold':_0x2d6dba},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x20a20d(0x161)])headlessMode({'portfolio':currentCoins,'threshold':_0x2d6dba});else{if(lockOrders==ORDERS[_0x20a20d(0x17e)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2d6dba});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x410e79=_0x241e91;if(!lastBalances)return;let _0x31a08f=[],_0x4fa248,_0x1431b3=JSON[_0x410e79(0xab)](lastBalances[_0x410e79(0x175)]);_0x1431b3['sort']((_0x34477a,_0x28332f)=>_0x34477a['coin']>_0x28332f[_0x410e79(0x1d2)]?0x1:_0x28332f[_0x410e79(0x1d2)]>_0x34477a[_0x410e79(0x1d2)]?-0x1:0x0),_0x1431b3[_0x410e79(0x127)](_0x2e4a48=>{const _0x36cca0=_0x410e79;let _0x1f579e={'coin':_0x2e4a48[_0x36cca0(0x1d2)],'number':_0x2e4a48[_0x36cca0(0x1e5)],'price':_0x2e4a48[_0x36cca0(0xb0)]};_0x31a08f[_0x36cca0(0x10a)](_0x1f579e);});const _0x12fb6b=await getFiat();_0x4fa248={'date':lastBalances['time'][_0x410e79(0x15d)]('\x20')[0x0],'eur':_0x12fb6b[_0x410e79(0xf9)],'usd':_0x12fb6b[_0x410e79(0x164)],'coins':_0x31a08f};let _0x422289=dbPerformance['get'](_0x410e79(0xce))[_0x410e79(0xf4)]({'date':_0x4fa248[_0x410e79(0x1b4)]})[_0x410e79(0x187)]();_0x422289?_0x4fa248['date']!=config[_0x410e79(0x19e)]&&dbPerformance[_0x410e79(0x1c0)](_0x410e79(0xce))[_0x410e79(0xf4)]({'date':_0x4fa248['date']})[_0x410e79(0x1e6)](_0x4fa248)[_0x410e79(0x1c8)]():dbPerformance[_0x410e79(0x1c0)]('data')[_0x410e79(0x10a)](_0x4fa248)[_0x410e79(0x1c8)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x21b060=_0x241e91;let _0x3c2217=[];if(dbPerformance[_0x21b060(0x1c3)](_0x21b060(0xce))[_0x21b060(0x187)]()){let _0x45ffb4=dbPerformance['get'](_0x21b060(0xce))[_0x21b060(0x15c)]()['sortBy'](_0x21b060(0x1b4))['value'](),_0x4b5eb8=[...config[_0x21b060(0x110)]];_0x4b5eb8[_0x21b060(0x176)]((_0x1c7ded,_0x188952)=>_0x1c7ded[_0x21b060(0x1b4)]>_0x188952[_0x21b060(0x1b4)]?-0x1:_0x188952[_0x21b060(0x1b4)]>_0x1c7ded['date']?0x1:0x0);let _0x22782d=0x1,_0x3af66f=[],_0x22ca90=0x0;_0x45ffb4[_0x21b060(0x109)]()[_0x21b060(0x1cc)]()[_0x21b060(0x127)]((_0x1a9b17,_0x4a9b52)=>{const _0x190d3f=_0x21b060;if(_0x4b5eb8[_0x22ca90]){if(_0x45ffb4[_0x45ffb4[_0x190d3f(0xea)]-_0x4a9b52]&&_0x4b5eb8[_0x22ca90]['date']==_0x45ffb4[_0x45ffb4[_0x190d3f(0xea)]-_0x4a9b52][_0x190d3f(0x1b4)]){if(_0x4a9b52<_0x45ffb4[_0x190d3f(0xea)]){let _0x737199=0x0,_0x4c4450=0x0;_0x45ffb4[_0x45ffb4[_0x190d3f(0xea)]-_0x4a9b52][_0x190d3f(0x131)][_0x190d3f(0x127)](_0x3cf0e6=>{_0x4c4450+=_0x3cf0e6['number']*_0x3cf0e6['price'];}),_0x4b5eb8[_0x22ca90][_0x190d3f(0x147)][_0x190d3f(0x127)](_0x21cc21=>{const _0x584857=_0x190d3f;_0x737199+=_0x21cc21[_0x584857(0x1e5)]*_0x21cc21[_0x584857(0x117)];}),_0x22782d*=_0x737199/(_0x4c4450-_0x737199)+0x1;}_0x22ca90++;}}let _0x4ea82b=0x0;_0x1a9b17[_0x190d3f(0x131)][_0x190d3f(0x127)](_0x5f1bab=>{const _0x49a1bf=_0x190d3f;_0x4ea82b+=_0x5f1bab[_0x49a1bf(0x1e5)]*_0x5f1bab[_0x49a1bf(0x117)];}),_0x3af66f[_0x45ffb4[_0x190d3f(0xea)]-_0x4a9b52-0x1]=_0x4ea82b*(_0x22782d-0x1);});let _0x5c78a6=[];_0x4b5eb8=[...config[_0x21b060(0x110)]]||[];let _0x3a5765=0x0;_0x22ca90=0x0,_0x45ffb4[_0x21b060(0x127)]((_0x17f1fb,_0x101a63)=>{const _0x5d3c0f=_0x21b060;if(_0x4b5eb8[_0x22ca90]){const _0x16017a=fns['parse'](_0x4b5eb8[_0x22ca90][_0x5d3c0f(0x1b4)],_0x5d3c0f(0xbb),new Date()),_0x4439f7=fns[_0x5d3c0f(0xab)](_0x17f1fb[_0x5d3c0f(0x1b4)],_0x5d3c0f(0xbb),new Date());if(fns[_0x5d3c0f(0x128)](_0x16017a,_0x4439f7)){let _0x48e6d3=0x0;_0x4b5eb8[_0x22ca90]['changes'][_0x5d3c0f(0x127)](_0x479aa6=>{const _0x408e52=_0x5d3c0f;!_0x5c78a6[_0x479aa6[_0x408e52(0x1d2)]]?_0x5c78a6[_0x479aa6[_0x408e52(0x1d2)]]=_0x479aa6[_0x408e52(0x1e5)]:(_0x48e6d3=_0x5c78a6[_0x479aa6['coin']],_0x5c78a6[_0x479aa6['coin']]+=_0x479aa6['number']);const _0xec6dc4=_0x17f1fb[_0x408e52(0x131)][_0x408e52(0xf4)](_0x5eb936=>_0x5eb936[_0x408e52(0x1d2)]==_0x479aa6[_0x408e52(0x1d2)]);(!_0xec6dc4||_0xec6dc4[_0x408e52(0x1e5)]==0x0)&&(_0x3a5765+=(-_0x479aa6[_0x408e52(0x1e5)]-_0x48e6d3)*_0x479aa6[_0x408e52(0x117)]);}),_0x22ca90++;}}_0x17f1fb['coins'][_0x5d3c0f(0x127)]((_0x188656,_0x426efd)=>{const _0x34a913=_0x5d3c0f;_0x5c78a6[_0x188656[_0x34a913(0x1d2)]]&&(_0x188656={..._0x188656,'initial':_0x5c78a6[_0x188656[_0x34a913(0x1d2)]]}),_0x17f1fb['coins'][_0x426efd]=_0x188656;}),_0x3c2217[_0x5d3c0f(0x10a)]({'date':_0x17f1fb['date'],'eur':_0x17f1fb[_0x5d3c0f(0xf9)],'usd':_0x17f1fb[_0x5d3c0f(0x164)],'offset':_0x3af66f[_0x101a63],'netoffset':_0x3a5765,'coins':_0x17f1fb[_0x5d3c0f(0x131)]});});}return _0x3c2217;}function emitPerformance(_0x140976){const _0x30637d=_0x241e91;_0x140976['length']!==0x0?(proxyEmit('performance',_0x140976),lastPerformanceEmitted=getDate()):proxyEmit(_0x30637d(0xdc),[]);}function getPerf(_0x1603cb,_0x24b7c1){const _0x51318a=_0x241e91;let _0x21bfc4=0x0,_0x5f1e09=0x0,_0x226528=0x0;_0x1603cb['coins']['forEach'](_0x438475=>{const _0x5e505d=_0x4b77;_0x21bfc4+=_0x438475[_0x5e505d(0x1e5)]*_0x438475[_0x5e505d(0x117)];});_0x24b7c1&&(_0x21bfc4+=_0x1603cb[_0x51318a(0x186)]);if(config[_0x51318a(0x19f)]==='BTC'||config[_0x51318a(0x19f)]===_0x51318a(0x98))_0x5f1e09=_0x21bfc4*_0x1603cb['eur'],_0x226528=_0x21bfc4*_0x1603cb[_0x51318a(0x164)];else{if(config['basecoin']==='BUSD'||config[_0x51318a(0x19f)]===_0x51318a(0x144))_0x5f1e09=_0x21bfc4*_0x1603cb[_0x51318a(0xf9)]/_0x1603cb[_0x51318a(0x164)],_0x226528=_0x21bfc4;else config['basecoin']===_0x51318a(0x7d)&&(_0x5f1e09=_0x21bfc4,_0x226528=_0x21bfc4*_0x1603cb[_0x51318a(0x164)]/_0x1603cb[_0x51318a(0xf9)]);}return[_0x21bfc4,_0x5f1e09,_0x226528];}function getKPIs(_0x3045eb,_0x3ab82b='EUR'){const _0x3edbf2=_0x241e91,_0x4c3987=config[_0x3edbf2(0x19f)],_0x2a554f=config[_0x3edbf2(0x179)],_0x3f811e=currentCoins,_0x37d2b0=getNormalizedPerformance(),_0x3c6a11=_0x3045eb===_0x3edbf2(0x19f)?_0x4c3987:_0x3045eb===_0x3edbf2(0x11e)||_0x3045eb==='net-fiat'?_0x3ab82b:'Net\x20'+_0x4c3987,_0x303191=_0x3045eb===_0x3edbf2(0x8a)?'Net\x20effect':_0x3045eb==='net-fiat'?'Net\x20effect\x20('+_0x3c6a11+')':_0x3c6a11+_0x3edbf2(0x15b),_0x2f586d=_0x3045eb===_0x3edbf2(0x8a)||_0x3045eb===_0x3edbf2(0x1bc)?_0x3edbf2(0xb8):_0x3c6a11+_0x3edbf2(0x11c);let _0x5da6a7=0x0;_0x3f811e[_0x3edbf2(0x127)](_0x7a8e28=>{const _0x1489eb=_0x3edbf2;_0x5da6a7+=_0x7a8e28['number']*_0x7a8e28[_0x1489eb(0xb0)];});if(_0x3045eb===_0x3edbf2(0x11e)||_0x3045eb===_0x3edbf2(0x1bc)){if(_0x4c3987===_0x3edbf2(0x126)||_0x4c3987===_0x3edbf2(0x98))_0x5da6a7=_0x5da6a7*(_0x3ab82b===_0x3edbf2(0x7d)?_0x2a554f[_0x3edbf2(0xf9)]:_0x2a554f[_0x3edbf2(0x164)]);else{if(_0x4c3987===_0x3edbf2(0x1e7)||_0x4c3987===_0x3edbf2(0x144))_0x5da6a7=_0x5da6a7*(_0x3ab82b===_0x3edbf2(0x7d)?_0x2a554f[_0x3edbf2(0xf9)]/_0x2a554f['usd']:0x1);else _0x4c3987===_0x3edbf2(0x7d)&&(_0x5da6a7=_0x5da6a7*(_0x3ab82b==='EUR'?0x1:_0x2a554f[_0x3edbf2(0x164)]/_0x2a554f[_0x3edbf2(0xf9)]));}}let _0x36077e;if(_0x5da6a7!==0x0){if(_0x3045eb===_0x3edbf2(0x19f))_0x36077e=(_0x5da6a7/startingBalances[_0x3edbf2(0x19f)]-0x1)*0x64;else{if(_0x3ab82b===_0x3edbf2(0x7d))_0x36077e=(_0x5da6a7/startingBalances[_0x3edbf2(0xf9)]-0x1)*0x64;else _0x36077e=(_0x5da6a7/startingBalances[_0x3edbf2(0x164)]-0x1)*0x64;}let _0x395cbb=0x0;if(startingBalances[_0x3edbf2(0x131)])_0x3f811e[_0x3edbf2(0x127)](_0x7ee88e=>{const _0x2ece2a=_0x3edbf2;let _0x53907b=startingBalances[_0x2ece2a(0x131)][_0x2ece2a(0xf4)](_0x2e208e=>_0x2e208e[_0x2ece2a(0x1d2)]===_0x7ee88e[_0x2ece2a(0x1d2)]);if(_0x53907b&&_0x53907b[_0x2ece2a(0x1d2)]&&_0x7ee88e['number']!==0x0)_0x395cbb+=_0x53907b[_0x2ece2a(0x1e5)]*_0x7ee88e[_0x2ece2a(0xb0)];});let _0x5e3693=0x0;if(_0x37d2b0['length']!==0x0){let _0x23f7f3=_0x37d2b0[_0x37d2b0[_0x3edbf2(0xea)]-0x1];_0x5e3693=_0x23f7f3['netoffset'];}_0x395cbb-=_0x5e3693;_0x3045eb===_0x3edbf2(0x8a)&&(_0x36077e=(_0x5da6a7-_0x395cbb)/startingBalances[_0x3edbf2(0x19f)]*0x64,_0x5da6a7=_0x5da6a7-_0x395cbb);if(_0x3045eb==='net-fiat'){let _0x330d6b=_0x3ab82b===_0x3edbf2(0x7d)?startingBalances[_0x3edbf2(0xf9)]:startingBalances[_0x3edbf2(0x164)];if(_0x4c3987===_0x3edbf2(0x126)||_0x4c3987===_0x3edbf2(0x98))_0x395cbb=_0x3ab82b==='EUR'?_0x395cbb*_0x2a554f[_0x3edbf2(0xf9)]:_0x395cbb*_0x2a554f['usd'];else{if(_0x4c3987===_0x3edbf2(0x1e7)||_0x4c3987==='USDT')_0x395cbb=_0x3ab82b===_0x3edbf2(0x7d)?_0x395cbb*_0x2a554f['eur']/_0x2a554f[_0x3edbf2(0x164)]:_0x395cbb;else _0x4c3987==='EUR'&&(_0x395cbb=_0x3ab82b===_0x3edbf2(0x7d)?_0x395cbb:_0x395cbb*_0x2a554f[_0x3edbf2(0x164)]/_0x2a554f[_0x3edbf2(0xf9)]);}_0x36077e=(_0x5da6a7-_0x395cbb)/_0x330d6b*0x64,_0x5da6a7=_0x5da6a7-_0x395cbb;}if(_0x36077e){if(_0x36077e<0x64)_0x36077e=_0x36077e[_0x3edbf2(0x102)](0x2);else{if(_0x36077e<0x3e8)_0x36077e=_0x36077e[_0x3edbf2(0x102)](0x1);else _0x36077e=_0x36077e[_0x3edbf2(0x102)](0x0);}}else _0x36077e=Number('0')[_0x3edbf2(0x102)](0x2);if(_0x5da6a7){if(Math[_0x3edbf2(0x11f)](_0x5da6a7)<0.000001)_0x5da6a7=_0x5da6a7[_0x3edbf2(0x102)](0x2);else{if(Math[_0x3edbf2(0x11f)](_0x5da6a7)<0.1)_0x5da6a7=_0x5da6a7[_0x3edbf2(0x102)](0x6);else{if(Math[_0x3edbf2(0x11f)](_0x5da6a7)<0x1)_0x5da6a7=_0x5da6a7[_0x3edbf2(0x102)](0x5);else{if(Math[_0x3edbf2(0x11f)](_0x5da6a7)<0xa)_0x5da6a7=_0x5da6a7[_0x3edbf2(0x102)](0x4);else{if(Math['abs'](_0x5da6a7)<0x64)_0x5da6a7=_0x5da6a7[_0x3edbf2(0x102)](0x3);else{if(Math['abs'](_0x5da6a7)<0x3e8)_0x5da6a7=_0x5da6a7[_0x3edbf2(0x102)](0x2);else _0x5da6a7=_0x5da6a7[_0x3edbf2(0x102)](0x2);}}}}}}else _0x5da6a7=Number('0')[_0x3edbf2(0x102)](0x2);}else _0x36077e=Number('0')['toFixed'](0x2);return{'value':_0x5da6a7,'change':_0x36077e,'leftTxt':_0x303191,'rightTxt':_0x2f586d};}async function getStartingBalances(_0x240746,_0x3f7929=!![]){const _0xce6ab1=_0x241e91;if(_0x240746[_0xce6ab1(0xea)]!==0x0){const [_0xe8a17d,_0x3086c4,_0x492a1c]=getPerf(_0x240746[0x0],!![]);let _0x30ed0f=[];config[_0xce6ab1(0x175)][_0xce6ab1(0x127)](_0x3c3b7d=>{const _0x120fd4=_0xce6ab1;let _0x49009d=0x0,_0x5bdb0a;config[_0x120fd4(0x110)][_0x120fd4(0x127)](_0x5ce462=>{const _0x33b876=_0x120fd4;let _0x5e707b=_0x5ce462[_0x33b876(0x147)]['find'](_0x5a1ebb=>_0x5a1ebb[_0x33b876(0x1d2)]==_0x3c3b7d[_0x33b876(0x1d2)]);if(_0x5e707b){_0x49009d+=_0x5e707b[_0x33b876(0x1e5)];if(!_0x5bdb0a)_0x5bdb0a=_0x5e707b[_0x33b876(0x117)];}}),_0x30ed0f['push']({'coin':_0x3c3b7d[_0x120fd4(0x1d2)],'number':_0x49009d,'initialprice':_0x5bdb0a});});const _0x491cab={'basecoin':_0xe8a17d,'eur':_0x3086c4,'usd':_0x492a1c,'coins':_0x30ed0f};if(_0x3f7929)proxyEmit('starting-balances',_0x491cab);startingBalances=_0x491cab;}}function headlessMode(_0x3bc816){const _0x38a1b4=_0x241e91;let _0x409133=_0x3bc816[_0x38a1b4(0x175)],_0x3ac1f2=_0x3bc816['threshold'],_0x4919d1=[];for(let _0x5bda67 of _0x409133){if(_0x5bda67[_0x38a1b4(0x1d2)]!=config[_0x38a1b4(0x19f)]){if(_0x5bda67['delta']>=_0x3ac1f2/0x64){if(_0x5bda67[_0x38a1b4(0x1a8)])_0x4919d1[_0x38a1b4(0x10a)](_0x5bda67);}else{if(_0x5bda67['delta']<=-_0x3ac1f2/0x64){if(_0x5bda67['valid'])_0x4919d1['push'](_0x5bda67);}}}}_0x4919d1['length']>0x0&&placeOrder(_0x4919d1);}function notifyBalance(_0x18f6d3){const _0x5bdf60=_0x241e91;let _0x34f085=_0x18f6d3[_0x5bdf60(0x175)],_0x5a519e=_0x18f6d3[_0x5bdf60(0x199)],_0x23da74=[];for(let _0x55d28d of _0x34f085){if(_0x55d28d[_0x5bdf60(0x1d2)]!=config[_0x5bdf60(0x19f)]){if(_0x55d28d[_0x5bdf60(0x1e8)]>=_0x5a519e/0x64){if(_0x55d28d[_0x5bdf60(0x1a8)])_0x23da74[_0x5bdf60(0x10a)](_0x55d28d);}else{if(_0x55d28d[_0x5bdf60(0x1e8)]<=-_0x5a519e/0x64){if(_0x55d28d['valid'])_0x23da74[_0x5bdf60(0x10a)](_0x55d28d);}}}}if(_0x23da74['length']>0x0){let _0x5ddf60=_0x23da74['map'](_0x32295a=>_0x32295a[_0x5bdf60(0x1d2)]);_0x5ddf60[_0x5bdf60(0x176)]();let _0x4916ba=_0x5ddf60['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x4916ba;}}function symbolToCoin(_0x3d1e43){const _0x4c5bcd=_0x241e91;let _0x4eb94a;if(_0x3d1e43[_0x4c5bcd(0x191)]('/'+config[_0x4c5bcd(0x19f)]))_0x4eb94a=_0x3d1e43['replace']('/'+config['basecoin'],'');if(_0x3d1e43[_0x4c5bcd(0x191)](config[_0x4c5bcd(0x19f)]+'/'))_0x4eb94a=_0x3d1e43['replace'](config['basecoin']+'/','');return _0x4eb94a;}async function unlockOrders(){const _0x96fe5c=_0x241e91;logger[_0x96fe5c(0xe3)](_0x96fe5c(0x10b));if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x96fe5c(0xe3)](_0x96fe5c(0x152)),lockOrders=ORDERS[_0x96fe5c(0x1c5)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x96fe5c(0x17e)],logger[_0x96fe5c(0xe3)](_0x96fe5c(0xa3));}}async function validateOrders(_0x34aef4){const _0x19a880=_0x241e91;if(_0x34aef4)validateOrdersState=_0x34aef4;logger[_0x19a880(0xe3)](_0x19a880(0x16c)+validateOrdersState+_0x19a880(0x113)+(lockOrders==0x1?_0x19a880(0x123):lockOrders==0x2?_0x19a880(0x16f):'ORDERS.UNLOCKED'));let _0x39e2e7=[],_0x3fee49=config[_0x19a880(0x87)]==_0x19a880(0xae)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x19a880(0x86)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x19a880(0x116)])return;logger[_0x19a880(0xe3)](_0x19a880(0x105)+validateOrdersState),lastOrders['forEach'](_0x163595=>{const _0x3057dc=_0x19a880;let _0x1d4969=![];_0x163595[_0x3057dc(0x1d6)]>0x0&&(_0x1d4969=!![]),_0x39e2e7['push'](_0x1d4969),_0x1d4969&&config['ordertype']!=_0x3057dc(0xae)&&logHistory(_0x3057dc(0x183),_0x3057dc(0x1c2)+_0x163595[_0x3057dc(0xe5)]+'\x20'+_0x163595[_0x3057dc(0xee)]+'\x20#'+formatResult(_0x163595[_0x3057dc(0x1d6)],0x8)+'\x20@'+formatResult(_0x163595[_0x3057dc(0x117)],0x8));}),_0x39e2e7[_0x19a880(0x127)]((_0x503d88,_0x714ec2)=>{if(_0x503d88)lastOrders['splice'](_0x714ec2,0x1);}),persistOpenOrders(lastOrders);const _0x526082=coolingDown?_0x19a880(0x1a5):_0x19a880(0x195);if(validateOrdersState==_0x19a880(0x1dd))validateOrdersState=_0x19a880(0x1bb),_0x39e2e7[_0x19a880(0x191)](![])?config[_0x19a880(0x87)]==_0x19a880(0xae)?logHistory(_0x19a880(0x1a6),_0x19a880(0x1b6)):logHistory(_0x19a880(0x1a6),_0x19a880(0x137)):await unlockOrders();else{if(validateOrdersState==_0x19a880(0x1bb)){if(_0x39e2e7['includes'](![])){}else allOrdersPlaced&&(config['ordertype']==_0x19a880(0xae)?logHistory(_0x19a880(0x18a),_0x19a880(0xf5)+_0x526082):logHistory(_0x19a880(0x18a),'Order(s)\x20filled\x20-\x20'+_0x526082),await unlockOrders());}else{if(validateOrdersState=='final')_0x39e2e7[_0x19a880(0x191)](![])&&(config[_0x19a880(0x87)]==_0x19a880(0xae)?logHistory(_0x19a880(0x18a),_0x19a880(0x1ce)+Math[_0x19a880(0x14b)](_0x3fee49*validateOrderInterval/0xea60)+_0x19a880(0xba)+_0x526082):(await cancelOrders(),logHistory('success',_0x19a880(0xc9)+Math[_0x19a880(0x14b)](_0x3fee49*validateOrderInterval/0xea60)+_0x19a880(0xba)+_0x526082))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!=_0x19a880(0xae))logHistory(_0x19a880(0x18a),'No\x20more\x20open\x20orders\x20-\x20'+_0x526082);await unlockOrders();}}}}}async function cancelOrders(){const _0x2e3d82=_0x241e91;lastOrders[_0x2e3d82(0x127)](async _0x2db184=>{const _0x2f70ed=_0x2e3d82;try{const _0x13b29f=await exchange[_0x2f70ed(0x10d)](_0x2db184[_0x2f70ed(0x119)],_0x2db184['symbol']);}catch(_0x2bc429){if(_0x2bc429['toString']()[_0x2f70ed(0x191)](_0x2f70ed(0xaf))){}else await handleError(_0x2bc429,_0x2f70ed(0x1d3));}});}async function initCoinResults(){const _0x324b48=_0x241e91;let _0x29ec16=[];config['portfolio'][_0x324b48(0x127)](_0x4e6964=>{const _0xd65a7a=_0x324b48;if(!_0x4e6964['excluded']&&_0x4e6964[_0xd65a7a(0x1d2)]!=config[_0xd65a7a(0x19f)]){let _0x38a2b6=dbCoinResults['get'](_0xd65a7a(0x131))[_0xd65a7a(0xf4)]({'coin':_0x4e6964[_0xd65a7a(0x1d2)]})['value']();if(!_0x38a2b6){const _0x17dba6=currentCoins[_0xd65a7a(0xf4)](_0x1fd748=>_0x1fd748['coin']==_0x4e6964['coin']),_0x40611f=global[_0xd65a7a(0x129)][noslash(_0x4e6964['symbol'])];let _0x20c0e2=_0x17dba6?_0x17dba6['number']:null,_0x5c379e=_0x4e6964[_0xd65a7a(0x1cc)]?0x1/_0x40611f:_0x40611f,_0x595814;config[_0xd65a7a(0x110)][_0xd65a7a(0x127)](_0x582c1e=>{const _0x15d4b2=_0xd65a7a;!_0x595814&&(_0x595814=_0x582c1e[_0x15d4b2(0x147)]['find'](_0x3cf670=>_0x3cf670[_0x15d4b2(0x1d2)]==_0x4e6964['coin']),_0x595814&&(_0x20c0e2=_0x595814[_0x15d4b2(0x1e5)],_0x5c379e=_0x595814[_0x15d4b2(0x117)]));}),_0x29ec16[_0xd65a7a(0x10a)]({'coin':_0x4e6964['coin'],'number':_0x20c0e2,'price':_0x5c379e});}}}),_0x29ec16[_0x324b48(0x127)](_0x4d39c3=>{const _0x441172=_0x324b48,_0xc31621={'coin':_0x4d39c3[_0x441172(0x1d2)],'number':_0x4d39c3[_0x441172(0x1e5)],'breakeven':_0x4d39c3[_0x441172(0x117)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x441172(0x1c0)](_0x441172(0x131))[_0x441172(0x10a)](_0xc31621)[_0x441172(0x1c8)]();});}async function updateCoinResults(_0x3c84e1,_0xe32de0=![]){const _0x40e9ee=_0x241e91;let _0x449d4c,_0x300128,_0x2e8a0d,_0xa37e7a,_0x363582,_0x230af6,_0x3122b6=dbCoinResults[_0x40e9ee(0x1c0)](_0x40e9ee(0x131))['find']({'coin':_0x3c84e1[_0x40e9ee(0x1d2)]})[_0x40e9ee(0x187)]();!_0x3122b6&&await initCoinResults();_0x3c84e1[_0x40e9ee(0x1cc)]&&(_0x230af6={'filled':_0x3c84e1['filled']*_0x3c84e1[_0x40e9ee(0x117)],'amount':_0x3c84e1[_0x40e9ee(0x1d6)]*_0x3c84e1[_0x40e9ee(0x117)],'side':_0x3c84e1[_0x40e9ee(0xee)]=='sell'?_0x40e9ee(0x13f):_0x40e9ee(0x15a),'price':0x1/_0x3c84e1[_0x40e9ee(0x117)]},_0x3c84e1={..._0x3c84e1,..._0x230af6});_0xe32de0?_0x300128=_0x3c84e1[_0x40e9ee(0xee)]==_0x40e9ee(0x13f)?_0x3122b6[_0x40e9ee(0x1e5)]+_0x3c84e1['filled']:_0x3122b6[_0x40e9ee(0x1e5)]-_0x3c84e1[_0x40e9ee(0x1d6)]:_0x300128=await getCoinNumber(_0x3c84e1['coin']);if(_0x3c84e1[_0x40e9ee(0x11d)]&&_0x3c84e1[_0x40e9ee(0x11d)][_0x40e9ee(0x10c)]==config[_0x40e9ee(0x19f)])_0x449d4c=_0x3c84e1[_0x40e9ee(0x11d)][_0x40e9ee(0x106)];else{if(_0x3c84e1[_0x40e9ee(0x11d)]&&_0x3c84e1['fee'][_0x40e9ee(0x10c)]==_0x40e9ee(0x156)&&!_0xe32de0)_0x449d4c=_0x3c84e1[_0x40e9ee(0x11d)][_0x40e9ee(0x106)]*global[_0x40e9ee(0x129)]['BNB'+config[_0x40e9ee(0x19f)]];else _0x449d4c=defaultFee*_0x3c84e1['filled']*_0x3c84e1[_0x40e9ee(0x117)];}_0x3c84e1[_0x40e9ee(0xee)]==_0x40e9ee(0x13f)?(_0x2e8a0d=_0x300128!=0x0?(_0x3122b6[_0x40e9ee(0x8e)]*_0x3122b6['number']+_0x3c84e1[_0x40e9ee(0x117)]*(_0x300128-_0x3122b6[_0x40e9ee(0x1e5)])+_0x449d4c)/_0x300128:0x0,_0xa37e7a=_0x3122b6[_0x40e9ee(0xe6)]):(_0x2e8a0d=_0x300128!=0x0?(_0x3122b6[_0x40e9ee(0x8e)]*_0x3122b6[_0x40e9ee(0x1e5)]-_0x3c84e1['price']*(_0x3122b6['number']-_0x300128)+_0x449d4c)/_0x300128:0x0,_0xa37e7a=_0x3122b6[_0x40e9ee(0xe6)]+(_0x3c84e1['price']-_0x3122b6['breakeven'])*_0x3c84e1[_0x40e9ee(0x1d6)]);_0x363582=(_0x3c84e1[_0x40e9ee(0x117)]-_0x2e8a0d-_0x449d4c/_0x3c84e1[_0x40e9ee(0x1d6)])*_0x300128;let _0xd619e2={'coin':_0x3c84e1[_0x40e9ee(0x1d2)],'number':_0x300128,'breakeven':formatResult(_0x2e8a0d,0x8),'realized':formatResult(_0xa37e7a,0x8),'unrealized':formatResult(_0x363582,0x8),'fees':formatResult(_0x3122b6[_0x40e9ee(0x9d)]+_0x449d4c,0x8),'sells':_0x3c84e1['side']==_0x40e9ee(0x15a)?_0x3122b6['sells']+0x1:_0x3122b6[_0x40e9ee(0x1ba)],'buys':_0x3c84e1[_0x40e9ee(0xee)]==_0x40e9ee(0x13f)?_0x3122b6[_0x40e9ee(0x142)]+0x1:_0x3122b6['buys']};dbCoinResults['get'](_0x40e9ee(0x131))[_0x40e9ee(0xf4)]({'coin':_0x3c84e1['coin']})[_0x40e9ee(0x1e6)](_0xd619e2)[_0x40e9ee(0x1c8)]();if(!_0xe32de0){if(_0x3c84e1[_0x40e9ee(0x11d)]&&_0x3c84e1['fee'][_0x40e9ee(0x10c)]==_0x40e9ee(0x156)){const _0xdd6b68=currentCoins[_0x40e9ee(0xf4)](_0x4fe330=>_0x4fe330[_0x40e9ee(0x1d2)]==_0x40e9ee(0x156));if(_0xdd6b68){let _0x5b3c11=dbCoinResults[_0x40e9ee(0x1c0)](_0x40e9ee(0x131))['find']({'coin':_0x40e9ee(0x156)})[_0x40e9ee(0x187)]();_0xd619e2={..._0x5b3c11,'number':_0xdd6b68[_0x40e9ee(0x1e5)]},dbCoinResults[_0x40e9ee(0x1c0)](_0x40e9ee(0x131))['find']({'coin':_0x40e9ee(0x156)})[_0x40e9ee(0x1e6)](_0xd619e2)['write']();}}}}async function placeOrder(_0xe922c1){const _0x5dc6ed=_0x241e91,_0x430d26=config[_0x5dc6ed(0x87)]=='market'?_0x5dc6ed(0xae):_0x5dc6ed(0x1be);if(lockOrders==ORDERS[_0x5dc6ed(0x17e)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5dc6ed(0x116)],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x18400e of _0xe922c1){let _0x536263,_0x1606aa,_0x3bddeb,_0x6fd778,_0x118e7c,_0x116243=_0x18400e[_0x5dc6ed(0xe5)];try{const _0x9c8759=await exchange[_0x5dc6ed(0x89)]([_0x116243]),_0x2efbb5=_0x9c8759[_0x116243];_0x536263=_0x18400e[_0x5dc6ed(0x1cc)]?0x1/_0x18400e[_0x5dc6ed(0xb0)]:_0x18400e['last'],_0x1606aa=_0x2efbb5[_0x5dc6ed(0x83)],_0x3bddeb=_0x2efbb5[_0x5dc6ed(0x192)];_0x18400e[_0x5dc6ed(0x1cc)]?(_0x6fd778=_0x18400e[_0x5dc6ed(0xee)]==_0x5dc6ed(0x13f)?_0x5dc6ed(0x15a):_0x5dc6ed(0x13f),_0x118e7c=Math['abs'](_0x18400e[_0x5dc6ed(0x1cd)])/_0x536263):(_0x6fd778=_0x18400e[_0x5dc6ed(0xee)],_0x118e7c=Math[_0x5dc6ed(0x11f)](_0x18400e[_0x5dc6ed(0x1cd)]));_0x430d26==_0x5dc6ed(0x1be)&&(config[_0x5dc6ed(0x87)]=='limit-high'&&(_0x536263=_0x6fd778==_0x5dc6ed(0x13f)?_0x1606aa:_0x3bddeb),config[_0x5dc6ed(0x87)]==_0x5dc6ed(0x1a1)&&(_0x536263=_0x6fd778==_0x5dc6ed(0x13f)?_0x3bddeb:_0x1606aa));_0x118e7c=formatResult(_0x118e7c,0x8),_0x536263=formatResult(_0x536263,0x8);const _0x4f2aba=_0x6fd778==_0x5dc6ed(0x15a)?config[_0x5dc6ed(0x181)]?String[_0x5dc6ed(0x1b8)]('0x'+config[_0x5dc6ed(0x181)])+'\x20':'':config[_0x5dc6ed(0x184)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x25c05c=_0x430d26=='market'?_0x5dc6ed(0x1d4):config[_0x5dc6ed(0x87)]==_0x5dc6ed(0xed)?_0x5dc6ed(0xec):_0x5dc6ed(0x7e),_0x30cb88=new Date()['getTime']()[_0x5dc6ed(0x12b)]()[_0x5dc6ed(0x109)](-0x6)+'-'+Math['random']()[_0x5dc6ed(0x12b)]()['slice'](-0x6);lastOrders['push']({'customId':_0x30cb88,'symbol':_0x116243,'coin':_0x18400e[_0x5dc6ed(0x1d2)],'side':_0x6fd778,'reverse':_0x18400e[_0x5dc6ed(0x1cc)],'filled':0x0});if(_0x430d26==_0x5dc6ed(0xae))logHistory(_0x5dc6ed(0x183),''+_0x4f2aba+_0x25c05c+_0x5dc6ed(0xbe)+_0x116243+'\x20'+_0x6fd778+'\x20#'+formatResult(_0x118e7c,0x8)+'\x20@'+formatResult(_0x536263,0x8));else logHistory('order',''+_0x4f2aba+_0x25c05c+'\x20order:\x20'+_0x116243+'\x20'+_0x6fd778+'\x20#'+formatResult(_0x118e7c,0x8)+'\x20@'+formatResult(_0x536263,0x8));const _0x14a6db=await exchange['createOrder'](_0x116243,_0x430d26,_0x6fd778,_0x118e7c,_0x536263,{'clientOrderId':_0x30cb88}),_0x8a0d5=lastOrders[_0x5dc6ed(0xea)]-0x1;_0x8a0d5>=0x0&&lastOrders[_0x8a0d5][_0x5dc6ed(0xa0)]==_0x30cb88&&(lastOrders[_0x8a0d5]={...lastOrders[_0x8a0d5],'orderId':_0x14a6db['id'],'amount':_0x14a6db[_0x5dc6ed(0x15f)],'price':_0x14a6db[_0x5dc6ed(0x117)],'fee':_0x14a6db[_0x5dc6ed(0x11d)]});let _0x570466=currentCoins[_0x5dc6ed(0xf4)](_0x2dbab5=>_0x2dbab5['coin']==_0x18400e[_0x5dc6ed(0x1d2)]);_0x570466[_0x5dc6ed(0x1b0)]=_0x5dc6ed(0x1e3);if(config[_0x5dc6ed(0x1ae)]!=0x0){let _0x9a2571=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x9a2571=cooldownTracker[_0x5dc6ed(0x11b)]();const _0xa94e1a=getTimeStamp();cooldownTracker[_0x5dc6ed(0x10a)](_0xa94e1a);if(_0x9a2571){const _0x4955ab=fns['differenceInSeconds'](new Date(_0xa94e1a),new Date(_0x9a2571));if(_0x4955ab<cooldownInterval){logHistory(_0x5dc6ed(0xaa),_0x5dc6ed(0xf3)+config[_0x5dc6ed(0x1ae)]+_0x5dc6ed(0x172)+cooldownInterval/0x3c+_0x5dc6ed(0x168)+cooldownPeriod/(0xe10*0x3e8)+_0x5dc6ed(0xef)),coolingDown=!![];break;}}}}catch(_0x168cea){if(_0x168cea[_0x5dc6ed(0x12b)]()[_0x5dc6ed(0x191)](_0x5dc6ed(0x81)))lastOrders=lastOrders[_0x5dc6ed(0x197)](_0x5c6daf=>_0x5c6daf[_0x5dc6ed(0xe5)]!=_0x116243),logHistory(_0x5dc6ed(0xaa),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x116243);else _0x168cea[_0x5dc6ed(0x12b)]()[_0x5dc6ed(0x191)](_0x5dc6ed(0xf7))?(lastOrders=lastOrders[_0x5dc6ed(0x197)](_0x5b826c=>_0x5b826c[_0x5dc6ed(0xe5)]!=_0x116243),logHistory(_0x5dc6ed(0xaa),_0x5dc6ed(0x13a)+_0x116243)):(lastOrders=lastOrders[_0x5dc6ed(0x197)](_0x3ba275=>_0x3ba275[_0x5dc6ed(0xe5)]!=_0x116243),await handleError(_0x168cea,_0x5dc6ed(0x143),_0x116243));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5dc6ed(0xea)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x315768=config[_0x5dc6ed(0x87)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x5dc6ed(0x86)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x315768);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5dc6ed(0x18a),_0x5dc6ed(0xb5)));}else{if(coolingDown)!config[_0x5dc6ed(0x161)]&&logHistory(_0x5dc6ed(0xaa),_0x5dc6ed(0x1b1));else lockOrders!=ORDERS[_0x5dc6ed(0x17e)]&&(!config[_0x5dc6ed(0x161)]&&(config[_0x5dc6ed(0x87)]==_0x5dc6ed(0xae)?logHistory(_0x5dc6ed(0xaa),_0x5dc6ed(0x153)):logHistory('error',_0x5dc6ed(0x1a9))));}}function persistOpenOrders(_0x451426){const _0x3d7c75=_0x241e91,_0x4c89a9={...config,'openOrders':_0x451426};let _0x50a462=dbConfig[_0x3d7c75(0x1c0)](_0x3d7c75(0x138))[_0x3d7c75(0xf4)]({'botID':botID})['value']();_0x50a462&&dbConfig['get']('bot')[_0x3d7c75(0xf4)]({'botID':botID})[_0x3d7c75(0x1e6)](_0x4c89a9)['write']();}function restoreOrders(){const _0x28ecc6=_0x241e91;let _0x4be655;allOpenOrders[_0x28ecc6(0x127)](_0x567421=>{const _0xe02cc0=_0x28ecc6,_0x332102=config[_0xe02cc0(0x19d)]['find'](_0x14653e=>_0x14653e[_0xe02cc0(0x119)]==_0x567421['id']);_0x332102&&(lastOrders[_0xe02cc0(0x10a)](_0x332102),_0x4be655=_0x567421[_0xe02cc0(0x1ab)]);});if(lastOrders[_0x28ecc6(0xea)]>0x0){lockOrders=ORDERS[_0x28ecc6(0x116)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x353b58=new Date()[_0x28ecc6(0xa8)](),_0x57e0ce=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x28ecc6(0x86)]*0x3c*0x3e8;if(_0x4be655+_0x57e0ce>_0x353b58){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3a7f33=_0x28ecc6;validateOrders(_0x3a7f33(0xfc));},_0x4be655+_0x57e0ce-_0x353b58);}else validateOrders('final');}}async function sendPortfolioTelegram(){const _0x5bad35=_0x241e91;if(loading[_0x5bad35(0x82)]!=0x64){process[_0x5bad35(0x1e4)]({'telegrammsg':_0x5bad35(0x134)},_0x435d5c=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x35de37=[_0x5bad35(0x7d),'BUSD',_0x5bad35(0x144)],_0x5d9192=_0x35de37[_0x5bad35(0x191)](config[_0x5bad35(0x19f)])?0x2:0x8;let _0x3b8a4c='';if(config['showname'])_0x3b8a4c='<b>'+config[_0x5bad35(0x180)]+_0x5bad35(0x14d);else _0x3b8a4c='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x36404d=getKPIs('basecoin'),_0x2f092d=getKPIs('net-basecoin');_0x3b8a4c+=_0x5bad35(0x1b7),_0x3b8a4c+=_0x36404d[_0x5bad35(0x16a)]+_0x5bad35(0xe8)+_0x36404d[_0x5bad35(0x187)]+'\x20\x0a',_0x3b8a4c+=_0x36404d[_0x5bad35(0x1da)]+':\x20'+_0x36404d[_0x5bad35(0xdf)]+'%\x20\x0a',_0x3b8a4c+=_0x2f092d[_0x5bad35(0x16a)]+':\x20'+_0x2f092d[_0x5bad35(0x187)]+'\x20'+config[_0x5bad35(0x19f)]+'\x0a',_0x3b8a4c+=_0x2f092d['rightTxt']+':\x20'+_0x2f092d[_0x5bad35(0xdf)]+_0x5bad35(0x173),_0x3b8a4c+='\x0a',_0x3b8a4c+=_0x5bad35(0x16b),_0x3b8a4c+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x3b8a4c+=_0x5bad35(0x16b),currentCoins['forEach'](_0x362a22=>{const _0x9a61f6=_0x5bad35;_0x3b8a4c+=_0x362a22[_0x9a61f6(0x1d2)]['padEnd'](0x7)+'|\x20'+formatPad(_0x362a22[_0x9a61f6(0x1df)],0x2,0x6)+'|\x20'+formatPad(_0x362a22['target'],0x2,0x6)+'|\x20'+formatPad(_0x362a22[_0x9a61f6(0x1e8)]*0x64,0x2,0x6)+'\x0a';}),_0x3b8a4c+=_0x5bad35(0x10e),process[_0x5bad35(0x1e4)]({'telegrammsg':_0x3b8a4c},_0xbc9318=>{});}function formatPad(_0x2aa0cf,_0x24d67a,_0x1edf81){const _0x5ca1cc=_0x241e91,_0x499c41=formatResultString(_0x2aa0cf,_0x24d67a);return _0x499c41?_0x499c41[_0x5ca1cc(0xd2)](_0x1edf81):''[_0x5ca1cc(0xd2)](_0x1edf81);}function logHistory(_0x26e3d5,_0x230492,_0x2e8640=''){const _0x4cd015=_0x241e91;let _0x32a273={'time':getTimeStamp(),'type':_0x26e3d5,'event':_0x230492};dbLogs[_0x4cd015(0x1c0)](_0x4cd015(0x118))[_0x4cd015(0x10a)](_0x32a273)[_0x4cd015(0x1c8)]();if(_0x2e8640=='')_0x2e8640=_0x230492;proxyEmit('event',{'log':_0x32a273,'summary':_0x2e8640}),process['send']({'telegram':{..._0x32a273,'botname':config[_0x4cd015(0x180)],'showname':config['showname']}},_0x433729=>{}),logger[_0x4cd015(0x19a)](''+_0x32a273[_0x4cd015(0x1bf)]);}function emitHistory(_0xddea4e={}){const _0x334a60=_0x241e91;Object[_0x334a60(0xf8)](_0xddea4e)[_0x334a60(0xea)]==0x0&&(_0xddea4e={'type':['order',_0x334a60(0x1bf)],'event':'','page':0x1});if(_0xddea4e[_0x334a60(0x1c7)][_0x334a60(0x191)](_0x334a60(0x1bf)))_0xddea4e[_0x334a60(0x1c7)][_0x334a60(0x169)](_0xddea4e[_0x334a60(0x1c7)][_0x334a60(0x84)]('event'),0x1,_0x334a60(0xaa),_0x334a60(0x18a));if(dbLogs[_0x334a60(0x1c3)](_0x334a60(0x118))[_0x334a60(0x187)]()){let _0x1608ab=dbLogs[_0x334a60(0x1c0)]('logs')[_0x334a60(0x197)](_0x4ff31f=>{const _0x3faa82=_0x334a60;if(_0xddea4e[_0x3faa82(0x1c7)][_0x3faa82(0xea)]==0x0)return![];else return _0xddea4e[_0x3faa82(0x1c7)][_0x3faa82(0x191)](_0x4ff31f[_0x3faa82(0x1c7)]);})['filter'](_0xad440e=>{const _0x352b53=_0x334a60;if(_0xddea4e[_0x352b53(0x1bf)]=='')return!![];else return _0xad440e[_0x352b53(0x1bf)]['toLowerCase']()[_0x352b53(0x191)](_0xddea4e['event'][_0x352b53(0x8c)]());})[_0x334a60(0xe2)](_0x334a60(0xca)),_0x43803d=_0x1608ab[_0x334a60(0x187)]()['length'];_0x1608ab=_0x1608ab[_0x334a60(0x1cc)]()[_0x334a60(0x109)]((_0xddea4e['page']-0x1)*logPageSize,_0xddea4e['page']*logPageSize-0x1)['reverse']()['value'](),proxyEmit('event-history',{'logs':_0x1608ab,'total':_0x43803d});}else proxyEmit(_0x334a60(0x12c),{'logs':[],'total':0x0});}function _0x20ac(){const _0xd60972=['emojibuy','BNB/','offset','value','InsufficientFunds','entries','success','\x20|\x20','binance','wss://stream.binance.com:9443','NEW','lowdb','13466BHpbut','includes','ask','initclient','spot','balancing\x20resumed','295mjvaGW','filter','concat','threshold','full','none','exec','openOrders','startdate','basecoin','close','limit-low','ccxt','CANCELED','yyyy-MM-dd\x27T\x27HH:mm:ss','balancing\x20resumes\x20when\x20cooldown\x20ends','warning','YOYOW/','valid','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','defaults','timestamp','2\x20-\x20Handle\x20open\x20orders','priceChangePercent','cooldown','\x20>\x20[DEBUG]\x20','orderstatus','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','getFullYear','decrypt','date','\x20has\x20a\x2024h\x20drop\x20of\x20','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','<pre>','fromCodePoint','***','sells','ongoing','net-fiat','canceled','limit','event','get','findIndex','Order\x20filled:\x20','has','\x20|\x20Binance\x20API\x20secret\x20invalid','UNLOCKING','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','type','write','milliseconds','getMinutes','botID','reverse','trade','Order(s)\x20not\x20validated\x20after\x20','reconnected','2.3.5','restart','coin','cancelOrders()','Market','existsSync','filled','toggleBotMode','sha256','function','rightTxt','subscribeSymbol24hrTicker','HOT/EUR','initial','7suJPDF','distribution','RSA-OAEP','Binance\x20not\x20available\x20(2)','storeHeadless','open','send','number','assign','BUSD','delta','-config.json','exit','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','EUR','Limit\x20(low-margin)','eventType','16090qyUzVL','MIN_NOTIONAL','progress','bid','indexOf','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','timeout','ordertype','log','fetchTickers','net-basecoin','constructor','toLowerCase','message','breakeven',':\x20Bot\x20','11561MuWrrz','coin-loading-progress','apiKey','./logs/','wsUrl','recovery','apiSecret','commissionAsset','ETH','/USDT','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','remainingSymbols','_events','fees','InvalidNonce','fetchClosedOrders','customId','-events.json','188907jSrPEa','3\x20-\x20Orders\x20unlocked','API-key\x20format\x20invalid','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','FILLED','getTime','1\x20-\x20Handle\x20open\x20orders?','error','parse','\x20|\x20Binance\x20API\x20key\x20invalid','loadSymbols()','market','OrderNotFound','last','Binance\x20not\x20available\x20(1)','DDoSProtection','datetime','configuration','Cooldown\x20ended\x20-\x20balancing\x20resumed','getCoinNumber()','min','Net\x20effect','Binance\x20API\x20key\x20is\x20invalid','\x20minutes\x20-\x20','yyyy/MM/dd','sendPortfolioTelegram','change24h','\x20order:\x20','enabled','recreate','target','excluded','mkdirSync','RequestTimeout','exchange','WebSockets(','68LbqrGM','no\x20open\x20orders','Unfilled\x20order(s)\x20canceled\x20after\x20','time','subscribeSpotUserDataStream','ExchangeNotAvailable','running','data','3\x20-\x20Handled\x20open\x20orders','fetchOpenOrders','accumulatedQuantity','padStart','\x20|\x20Error\x20details:\x20','timeshift','api_secret','API\x20or\x20clock\x20sync\x20issue','getMonth','secure','bb-settings.json','loadMarkets','getPortfolio()','performance','2\x20-\x20FILLED\x20unknown\x20order:\x20','NANO/','change','getHours','deleteHistoryAlerts','sortBy','debug','replace','symbol','realized','freeze','\x20:\x20','getSeconds','length','(((.+)+)+)+$','Limit\x20(high-margin)','limit-high','side','\x20hour','./version.json','commission','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Executed\x20','find','Order(s)\x20validated\x20-\x20','Binance\x20API\x20blocked','Invalid\x20quantity','keys','eur','\x20>\x20','simple','final','Bot\x20','.json','getFiat()','util','options','toFixed','configuration-stored','storeConfiguration','2\x20-\x20Validate\x20orders:\x20','cost','apply','2\x20-\x20FILLED\x20known\x20order:\x20','slice','push','1\x20-\x20Unlock\x20orders?','currency','cancelOrder','</pre>','1337568vPcfEg','liquidity','1\x20-\x20FILLED:\x20','fetchBalance','\x20|\x20lock\x20orders:\x20','************','api_key','LOCKED','price','logs','orderId','getCoins()','shift','\x20change','fee','fiat','abs','stringify','cancel','Pausing\x20for\x20','ORDERS.LOCKED','AuthenticationError','version','BTC','forEach','isEqual','ticker','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','toString','event-history','startnumber','search','formattedMessage','userData','coins','startprice','Unknown\x20error\x20occured','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','format','join','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','bot','showname','Order\x20amount\x20is\x20invalid:\x20','set','executionReport','\x20minutes','bot-','buy','2.5.0',')\x20|\x20Error\x20details:\x20','buys','placeOrder()','USDT','initws()','Crypt','changes','kill','./config/','privateKey','round','argv','\x20portfolio:</b>\x20\x0a\x0a','7606515rinjIW','/output-000.log','string','parseISO','2\x20-\x20Unlock\x20orders','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','max','/backup/','BNB',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20-\x20','createWriteStream','sell','\x20value','cloneDeep','split','XEM/BUSD','amount','getDate','headless','5257650LTOSSX','Failed\x20to\x20load\x20coin\x20data\x20for\x20','usd','-results.json','limits','hybrid-crypto-js','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','splice','leftTxt','-------------------------------\x0a','1\x20-\x20Validate\x20orders:\x20','newClientOrderId','test','ORDERS.UNLOCKING','orderStatus','remove','\x20orders\x20in\x20less\x20than\x20','%\x20\x0a','6272064MauQdh','portfolio','sort','args','precision','balances','-performance.json','add','Binance\x20not\x20responding','isArray','UNLOCKED','symbols','botname','emojisell','Error:\x20Invalid\x20argument\x20','order'];_0x20ac=function(){return _0xd60972;};return _0x20ac();}function deleteHistoryAlerts(_0x217e8f){const _0xde6c87=_0x241e91;if(dbLogs[_0xde6c87(0x1c3)](_0xde6c87(0x118))[_0xde6c87(0x187)]()){const _0x3183df=dbLogs[_0xde6c87(0x1c0)]('logs')[_0xde6c87(0xe2)](_0xde6c87(0xca))[_0xde6c87(0x197)](_0x47f3e5=>{const _0x48f427=_0xde6c87;return _0x47f3e5[_0x48f427(0x1c7)]==_0x48f427(0x183);})['value']();dbLogs[_0xde6c87(0x1c0)]('logs')[_0xde6c87(0x171)]()[_0xde6c87(0x1c8)](),dbLogs['get'](_0xde6c87(0x118))[_0xde6c87(0x1e6)](_0x3183df)[_0xde6c87(0x1c8)](),emitHistory(_0x217e8f);}}async function pauseBot(_0x2e50a5=''){const _0x2859ae=_0x241e91,_0xafacf4=new Date()[_0x2859ae(0xa8)]();if(!lastBotPause)lastBotPause=new Date()[_0x2859ae(0xa8)](),consecutivePauses=0x1;else{if(_0xafacf4-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x2859ae(0x1d1)},_0x5c6db8=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x2859ae(0xa8)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x2e50a5)_0x2e50a5+='\x20|\x20';logHistory(_0x2859ae(0xaa),_0x2e50a5+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x2859ae(0x13d)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x51265b=_0x241e91;process['send']({'stop':_0x51265b(0x148)},_0x16229a=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x18551a,_0x23631d){const _0x3b7cc0=_0x241e91;if(_0x18551a[_0x3b7cc0(0x12b)]()[_0x3b7cc0(0x191)]('API-key\x20format\x20invalid'))return logHistory(_0x3b7cc0(0xaa),_0x3b7cc0(0xb9)),![];else{if(_0x18551a[_0x3b7cc0(0x12b)]()[_0x3b7cc0(0x191)](_0x3b7cc0(0x124)))return logHistory(_0x3b7cc0(0xaa),_0x3b7cc0(0xa5)),![];else{if(_0x18551a[_0x3b7cc0(0x12b)]()[_0x3b7cc0(0x191)](_0x3b7cc0(0x1c6)))return logHistory('error','Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x18551a,_0x23631d);}}}async function handleError(_0x48ef5c,_0x55cfd9,_0x288e89=''){const _0x1ce840=_0x241e91;if(_0x48ef5c[_0x1ce840(0x12b)]()[_0x1ce840(0x191)](_0x1ce840(0xb2)))await pauseBot(_0x1ce840(0xf6));else{if(_0x48ef5c[_0x1ce840(0x12b)]()['includes'](_0x1ce840(0xcc)))await pauseBot(_0x1ce840(0x1e1));else{if(_0x48ef5c[_0x1ce840(0x12b)]()[_0x1ce840(0x191)](_0x1ce840(0xc4)))await pauseBot(_0x1ce840(0x17c));else{if(_0x48ef5c[_0x1ce840(0x12b)]()['includes'](_0x1ce840(0xa4)))logHistory(_0x1ce840(0xaa),_0x55cfd9+_0x1ce840(0xac)),logHistory('error',_0x1ce840(0xf2)),await killBot();else{if(_0x48ef5c[_0x1ce840(0x12b)]()[_0x1ce840(0x191)]('AuthenticationError'))logHistory(_0x1ce840(0xaa),_0x55cfd9+_0x1ce840(0xa6)),logHistory('error',_0x1ce840(0xf2)),await killBot();else{if(_0x48ef5c[_0x1ce840(0x12b)]()['includes'](_0x1ce840(0x1c6)))logHistory(_0x1ce840(0xaa),_0x55cfd9+_0x1ce840(0x1c4)),logHistory('error',_0x1ce840(0xf2)),await killBot();else{if(_0x48ef5c[_0x1ce840(0x12b)]()[_0x1ce840(0x191)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x1ce840(0xaa),_0x55cfd9+_0x1ce840(0x12a)),logHistory(_0x1ce840(0xaa),_0x1ce840(0xf2)),await killBot();else{if(_0x48ef5c['toString']()[_0x1ce840(0x191)](_0x1ce840(0x9e)))await pauseBot(_0x1ce840(0xd6)),process['send']({'stop':'restart'},_0x4b4209=>{});else _0x48ef5c[_0x1ce840(0x12b)]()[_0x1ce840(0x191)](_0x1ce840(0x188))?logHistory('error',_0x55cfd9+_0x1ce840(0x1eb)+_0x288e89):(logger[_0x1ce840(0x19a)](_0x55cfd9+_0x1ce840(0xd3),_0x48ef5c),await pauseBot(_0x1ce840(0x133)));}}}}}}}}function formatResult(_0x186295,_0x317a58){const _0x50ec35=_0x241e91;return parseFloat(_0x186295[_0x50ec35(0x102)](_0x317a58));}function formatResultTruncate(_0x2ef37c,_0x47fa18){const _0x296d30=_0x241e91;let _0x10e1bd=formatResultString(_0x2ef37c,0xa),_0x591513=_0x10e1bd[_0x296d30(0x84)]('.');return _0x591513!=-0x1&&(_0x10e1bd=_0x10e1bd[_0x296d30(0x109)](0x0,_0x591513+_0x47fa18+0x1)),Number(_0x10e1bd);}function formatResultString(_0x3e6882,_0x2b7f89){const _0x33b8ac=_0x241e91;let _0xcd180b;if(!(''+_0x3e6882)['includes']('e'))_0xcd180b=+(Math[_0x33b8ac(0x14b)](_0x3e6882+'e+'+_0x2b7f89)+'e-'+_0x2b7f89);else{let _0x3a7208=(''+_0x3e6882)[_0x33b8ac(0x15d)]('e'),_0x8446af='';+_0x3a7208[0x1]+_0x2b7f89>0x0&&(_0x8446af='+'),_0xcd180b=+(Math[_0x33b8ac(0x14b)](+_0x3a7208[0x0]+'e'+_0x8446af+(+_0x3a7208[0x1]+_0x2b7f89))+'e-'+_0x2b7f89);}return Number(_0xcd180b)[_0x33b8ac(0x102)](_0x2b7f89);}function getServerTime(){const _0x3a575a=_0x241e91,_0x27fb7d=new Date();return _0x27fb7d[_0x3a575a(0x1b2)]()+'/'+(_0x27fb7d['getMonth']()+0x1)[_0x3a575a(0x12b)]()[_0x3a575a(0xd2)](0x2,'0')+'/'+_0x27fb7d[_0x3a575a(0x160)]()[_0x3a575a(0x12b)]()['padStart'](0x2,'0')+'\x20'+_0x27fb7d[_0x3a575a(0xe0)]()['toString']()[_0x3a575a(0xd2)](0x2,'0')+':'+_0x27fb7d[_0x3a575a(0x1ca)]()['toString']()[_0x3a575a(0xd2)](0x2,'0')+':'+_0x27fb7d[_0x3a575a(0xe9)]()[_0x3a575a(0x12b)]()[_0x3a575a(0xd2)](0x2,'0');}function getTimeStamp(){const _0x41b026=_0x241e91,_0x951e32=shiftedTime();return _0x951e32[_0x41b026(0x1b2)]()+'/'+(_0x951e32[_0x41b026(0xd7)]()+0x1)['toString']()[_0x41b026(0xd2)](0x2,'0')+'/'+_0x951e32[_0x41b026(0x160)]()['toString']()[_0x41b026(0xd2)](0x2,'0')+'\x20'+_0x951e32[_0x41b026(0xe0)]()[_0x41b026(0x12b)]()[_0x41b026(0xd2)](0x2,'0')+':'+_0x951e32[_0x41b026(0x1ca)]()['toString']()[_0x41b026(0xd2)](0x2,'0')+':'+_0x951e32[_0x41b026(0xe9)]()[_0x41b026(0x12b)]()[_0x41b026(0xd2)](0x2,'0');}function getDate(){const _0x567f5a=_0x241e91,_0x320dc2=shiftedTime();return _0x320dc2[_0x567f5a(0x1b2)]()+'/'+(_0x320dc2[_0x567f5a(0xd7)]()+0x1)['toString']()[_0x567f5a(0xd2)](0x2,'0')+'/'+_0x320dc2[_0x567f5a(0x160)]()['toString']()[_0x567f5a(0xd2)](0x2,'0');}function getHour(){const _0x5bc6b6=_0x241e91,_0x9dcd3a=shiftedTime();return _0x9dcd3a[_0x5bc6b6(0xe0)]()[_0x5bc6b6(0x12b)]()[_0x5bc6b6(0xd2)](0x2,'0');}function sleep(_0x5442aa){return new Promise(_0x2c84c6=>setTimeout(_0x2c84c6,_0x5442aa));}function shiftedTime(){const _0x5bcca9=_0x241e91,_0x481610=new Date();let _0x377d7b=_0x481610;if(config&&config[_0x5bcca9(0xd4)]!==0x0)_0x377d7b=fns[_0x5bcca9(0x17b)](_0x481610,{'hours':config[_0x5bcca9(0xd4)]});return _0x377d7b;}