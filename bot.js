const _0x4e8ebb=_0x45a6;(function(_0x169e1f,_0x20f2a4){const _0x366632=_0x45a6,_0x29fc81=_0x169e1f();while(!![]){try{const _0x1b4190=parseInt(_0x366632(0x318))/0x1+parseInt(_0x366632(0x316))/0x2+-parseInt(_0x366632(0x1d7))/0x3*(-parseInt(_0x366632(0x1de))/0x4)+parseInt(_0x366632(0x335))/0x5*(-parseInt(_0x366632(0x35a))/0x6)+-parseInt(_0x366632(0x277))/0x7*(-parseInt(_0x366632(0x219))/0x8)+parseInt(_0x366632(0x1e3))/0x9+parseInt(_0x366632(0x20b))/0xa*(-parseInt(_0x366632(0x22c))/0xb);if(_0x1b4190===_0x20f2a4)break;else _0x29fc81['push'](_0x29fc81['shift']());}catch(_0x7d4520){_0x29fc81['push'](_0x29fc81['shift']());}}}(_0x106b,0xbccdf));const _0x1155ad=function(){let _0x5dc80a=!![];return function(_0x3081c7,_0x2caba0){const _0x133b12=_0x5dc80a?function(){const _0xabbcb2=_0x45a6;if(_0x2caba0){const _0x310664=_0x2caba0[_0xabbcb2(0x210)](_0x3081c7,arguments);return _0x2caba0=null,_0x310664;}}:function(){};return _0x5dc80a=![],_0x133b12;};}(),_0x2942fd=_0x1155ad(this,function(){const _0x3d1a01=_0x45a6;return _0x2942fd[_0x3d1a01(0x2c0)]()[_0x3d1a01(0x243)]('(((.+)+)+)+$')['toString']()[_0x3d1a01(0x33b)](_0x2942fd)[_0x3d1a01(0x243)]('(((.+)+)+)+$');});_0x2942fd();'use strict';const ccxt=require(_0x4e8ebb(0x24f)),low=require('lowdb'),FileSync=require(_0x4e8ebb(0x27d)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x4e8ebb(0x265))[_0x4e8ebb(0x2b4)],util=require(_0x4e8ebb(0x2b2)),argv=require('yargs/yargs')(process['argv'][_0x4e8ebb(0x224)](0x2))[_0x4e8ebb(0x2c1)],path=require(_0x4e8ebb(0x283)),axios=require(_0x4e8ebb(0x326));let exchange,gTicker={},gChange={};const usdBasecoins=['USD',_0x4e8ebb(0x2ba),_0x4e8ebb(0x233),_0x4e8ebb(0x235),_0x4e8ebb(0x214),_0x4e8ebb(0x31f)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x4e8ebb(0x38c)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x4e8ebb(0x2c7)+pauseBotInterval/0xea60+_0x4e8ebb(0x264),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x4e8ebb(0x1e8))['version'],botID=process['argv'][0x2]||_0x4e8ebb(0x2a0),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x4e8ebb(0x2b5)](_0x4e8ebb(0x276)+botID+_0x4e8ebb(0x1f6)),killBot());const userID=process[_0x4e8ebb(0x2c1)][0x3]||'',configpath=userID?_0x4e8ebb(0x350)+userID+'/':_0x4e8ebb(0x350),logspath=userID?_0x4e8ebb(0x29d)+userID+'/':_0x4e8ebb(0x29d),loggerfile=fs[_0x4e8ebb(0x266)](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x4e8ebb(0x381)](configpath);!fs[_0x4e8ebb(0x34b)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x4e8ebb(0x2dc)+botID+_0x4e8ebb(0x2de),logfile=configpath+_0x4e8ebb(0x2dc)+botID+_0x4e8ebb(0x369),performancefile=configpath+_0x4e8ebb(0x2dc)+botID+_0x4e8ebb(0x25e),coinresultsfile=configpath+_0x4e8ebb(0x2dc)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x4e8ebb(0x38e),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x4e8ebb(0x33d)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x4e8ebb(0x279)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x4e8ebb(0x33d)]({'bot':[],'version':serverversion})[_0x4e8ebb(0x279)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x4e8ebb(0x33d)]({'coins':[],'version':serverversion})[_0x4e8ebb(0x279)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x4e8ebb(0x23c),'rsaStandard':_0x4e8ebb(0x21a)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4ec152=>{const _0x3e4f07=_0x4e8ebb;console[_0x3e4f07(0x2b5)](_0x4ec152);},'simple':_0x1e96fd=>{const _0x2e231d=_0x4e8ebb;console[_0x2e231d(0x2b5)](_0x1e96fd),loggerfile['write'](util[_0x2e231d(0x2fc)](_0x1e96fd)+'\x0a');},'full':async(_0x386a4a,_0x44704d='')=>{const _0x4fe002=_0x4e8ebb;let _0x4ba97c;if(config[_0x4fe002(0x27b)])_0x4ba97c=getTimeStamp()+':\x20'+config['botname']+_0x4fe002(0x26c)+_0x386a4a;else _0x4ba97c=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x386a4a;console['log'](_0x4ba97c),loggerfile['write'](util[_0x4fe002(0x2fc)](_0x4ba97c)+'\x0a'),_0x44704d&&(console[_0x4fe002(0x2b5)](_0x44704d),loggerfile[_0x4fe002(0x279)](util['format'](_0x44704d)+'\x0a'));},'debug':async(_0x267288,_0x368090='')=>{const _0x44ff68=_0x4e8ebb;let _0x7710ca;if(config[_0x44ff68(0x27b)])_0x7710ca=getTimeStamp()+':\x20'+config['botname']+_0x44ff68(0x375)+_0x267288;else _0x7710ca=getTimeStamp()+_0x44ff68(0x33e)+botID+_0x44ff68(0x375)+_0x267288;if(debugging)console[_0x44ff68(0x2b5)](_0x7710ca);loggerfile[_0x44ff68(0x279)](util['format'](_0x7710ca)+'\x0a');if(_0x368090){if(debugging)console[_0x44ff68(0x2b5)](_0x368090);loggerfile[_0x44ff68(0x279)](util[_0x44ff68(0x2fc)](_0x368090)+'\x0a');}}};process['on']('uncaughtException',function(_0x55798a){const _0x5ac18f=_0x4e8ebb;handleError(_0x55798a,_0x5ac18f(0x292));});settings[_0x4e8ebb(0x2e4)]!=config['timeshift']&&updateTimeshift(settings[_0x4e8ebb(0x2e4)]);settings['onepagemode']!=config[_0x4e8ebb(0x2c6)]&&updateOnepagemode(settings['onepagemode']);(settings[_0x4e8ebb(0x24a)]&&!config[_0x4e8ebb(0x24a)]||!settings['marketcapApi']&&config[_0x4e8ebb(0x24a)])&&updateMarketcapApi(settings[_0x4e8ebb(0x24a)]);process['send']({'started':_0x4e8ebb(0x1e4)},_0x212182=>{}),initializeProcessListeners();function proxyEmit(_0x96135f,_0x2e5ecd=null){const _0x4dceba=_0x4e8ebb;process[_0x4dceba(0x378)]({'function':_0x96135f,'args':_0x2e5ecd},_0x278c26=>{});}function initializeProcessListeners(){const _0xa04e9b=_0x4e8ebb;process['on'](_0xa04e9b(0x270),_0x176bdf=>{const _0x2593ac=_0xa04e9b;switch(Object['keys'](_0x176bdf)[0x0]){case'timeshift':_0x176bdf[_0x2593ac(0x2e4)]!=undefined&&(settings['timeshift']=_0x176bdf['timeshift'],updateTimeshift(settings['timeshift']));break;case _0x2593ac(0x2c6):_0x176bdf[_0x2593ac(0x2c6)]!=undefined&&(settings[_0x2593ac(0x2c6)]=_0x176bdf[_0x2593ac(0x2c6)],updateOnepagemode(settings[_0x2593ac(0x2c6)]));break;case _0x2593ac(0x24a):_0x176bdf['marketcapApi']!=undefined&&(settings['marketcapApi']=_0x176bdf[_0x2593ac(0x24a)],updateMarketcapApi(settings['marketcapApi']));break;case'bots':_0x176bdf[_0x2593ac(0x1f7)]!=undefined&&(bots=JSON[_0x2593ac(0x256)](_0x176bdf[_0x2593ac(0x1f7)]),proxyEmit(_0x2593ac(0x1f7),bots));break;case _0x2593ac(0x2b0):switch(_0x176bdf[_0x2593ac(0x2b0)]){case _0x2593ac(0x332):initclient();break;case _0x2593ac(0x2ea):toggleBotMode();break;case _0x2593ac(0x21d):silentRestart();break;case _0x2593ac(0x2e6):emitHistory(_0x176bdf[_0x2593ac(0x338)]);break;case _0x2593ac(0x346):deleteHistoryAlerts(_0x176bdf[_0x2593ac(0x338)]);break;case'getPortfolio':getPortfolio(_0x176bdf[_0x2593ac(0x338)]);break;case _0x2593ac(0x35e):storeConfiguration(_0x176bdf['args']);break;case _0x2593ac(0x20f):storeHeadless(_0x176bdf[_0x2593ac(0x338)]);break;case'storeFiat':storeFiat(_0x176bdf['args']);break;case'resetHistory':resetHistory();break;case _0x2593ac(0x31d):getStartingBalances(getNormalizedPerformance());break;case _0x2593ac(0x1df):placeOrder(_0x176bdf[_0x2593ac(0x338)]);break;case _0x2593ac(0x32d):cancelLoading();break;case _0x2593ac(0x341):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x2edcd5=![]){const _0x49b45b=_0x4e8ebb;logger[_0x49b45b(0x1d3)](_0x49b45b(0x36d)+(_0x2edcd5?_0x49b45b(0x30f):_0x49b45b(0x2a2))+'\x20|\x20exchange:\x20'+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x2edcd5)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x49b45b(0x2cd)]!=_0x49b45b(0x35c)){loadingProgress=0x0;if(_0x2edcd5){if(pidCoinReloading)clearTimeout(pidCoinReloading);await initExchange();try{await loadSymbols();}catch(_0x475d15){handleErrorNoStop(_0x475d15,_0x49b45b(0x246));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x51af43=await getCoins();[currentCoins,currentCoinsAll]=_0x51af43,blockTransactionDetection=![],getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x49b45b(0x1d3)](_0x49b45b(0x209)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x49b45b(0x357)]==0x0&&allOpenOrders[_0x49b45b(0x357)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x7cf4a7){const _0x10a4b7=_0x4e8ebb;let _0x581dde=![];if(_0x7cf4a7)_0x581dde=!![];let _0x300b12;_0x581dde?_0x300b12=_0x7cf4a7[_0x10a4b7(0x2cf)](_0x586b01=>_0x586b01[_0x10a4b7(0x253)]):_0x300b12=currentCoinsAll[_0x10a4b7(0x2cf)](_0x5d7337=>_0x5d7337[_0x10a4b7(0x253)]);if(!config[_0x10a4b7(0x24a)]||!_0x581dde&&!config[_0x10a4b7(0x278)]||_0x300b12[_0x10a4b7(0x357)]==0x0)return;let _0x3002bd=null;try{_0x3002bd=await axios[_0x10a4b7(0x32f)](_0x10a4b7(0x25a),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x10a4b7(0x24a)]},'params':{'symbol':_0x300b12[_0x10a4b7(0x2c0)]()}});}catch(_0xc204ae){_0x3002bd=null,_0xc204ae['toString']()[_0x10a4b7(0x353)](_0x10a4b7(0x237))?(config[_0x10a4b7(0x24a)]=![],updateConfig(),proxyEmit(_0x10a4b7(0x360),emittedConfiguration()),logHistory(_0x10a4b7(0x22a),_0x10a4b7(0x23d))):(logHistory('error',_0x10a4b7(0x23f)+schedulerInterval/(0x3c*0x3e8)+_0x10a4b7(0x264)),logger[_0x10a4b7(0x1d3)](_0x10a4b7(0x242),_0xc204ae[_0x10a4b7(0x2c0)]()+'\x20-\x20'+_0xc204ae[_0x10a4b7(0x31a)]));}if(_0x3002bd){let _0x111ccf=0x0;const _0x80977b=_0x3002bd[_0x10a4b7(0x329)];_0x300b12[_0x10a4b7(0x1ff)](_0x1628b1=>{const _0x473942=_0x10a4b7;if(_0x80977b[_0x473942(0x329)][_0x1628b1][0x0])_0x111ccf+=_0x80977b['data'][_0x1628b1][0x0][_0x473942(0x37b)][_0x473942(0x330)][_0x473942(0x38a)];}),_0x300b12[_0x10a4b7(0x1ff)](_0x321b61=>{const _0x14563a=_0x10a4b7,_0x4033f7=_0x80977b[_0x14563a(0x329)][_0x321b61][0x0]?_0x80977b['data'][_0x321b61][0x0][_0x14563a(0x37b)][_0x14563a(0x330)][_0x14563a(0x38a)]:0x0;if(_0x581dde){const _0x445cce=_0x7cf4a7[_0x14563a(0x2f3)](_0x44d219=>_0x44d219['coin']==_0x321b61);_0x445cce&&(_0x445cce[_0x14563a(0x299)]=_0x4033f7);}else{const _0x5d3435=currentCoins[_0x14563a(0x2f3)](_0x577f5e=>_0x577f5e[_0x14563a(0x253)]==_0x321b61);_0x5d3435&&(_0x5d3435[_0x14563a(0x299)]=_0x4033f7);const _0x4cd4a6=currentCoinsAll['find'](_0x55f5f1=>_0x55f5f1[_0x14563a(0x253)]==_0x321b61);_0x4cd4a6&&(_0x4cd4a6[_0x14563a(0x299)]=_0x4033f7);}}),!_0x581dde&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x259874=_0x4e8ebb,_0x4dc4ce=0x2;let _0x2a721f=0x0,_0x5241b0=0x0,_0x796064=0x0,_0x2f06f2=0x0,_0x5e6f8d=0x0;config[_0x259874(0x362)][_0x259874(0x1ff)](_0x11191e=>{const _0x5d0e12=_0x259874;if(!_0x11191e['excluded']){_0x796064++,_0x2a721f+=_0x11191e[_0x5d0e12(0x34f)];if(_0x11191e[_0x5d0e12(0x34f)]===-0x1){_0x2a721f++;const _0x16893c=currentCoinsAll[_0x5d0e12(0x2f3)](_0x238e3a=>_0x238e3a['coin']==_0x11191e[_0x5d0e12(0x253)]);_0x16893c&&(_0x2f06f2+=_0x16893c['marketcap'],_0x5e6f8d+=Math[_0x5d0e12(0x2e8)](_0x16893c[_0x5d0e12(0x299)]));}if(_0x11191e[_0x5d0e12(0x34f)]!==-0x1)_0x5241b0++;}});let _0x4b0c5d;const _0x25ffcf=0x64-_0x2a721f,_0x345dd4=_0x796064-_0x5241b0;_0x4b0c5d=_0x345dd4===0x0?_0x2a721f:Math[_0x259874(0x293)](0x64,_0x2a721f),config[_0x259874(0x362)][_0x259874(0x1ff)](_0x232d98=>{const _0x53bc03=_0x259874,_0x7ba6a0=currentCoinsAll[_0x53bc03(0x2f3)](_0x204574=>_0x204574[_0x53bc03(0x253)]==_0x232d98[_0x53bc03(0x253)]);_0x7ba6a0&&(_0x232d98[_0x53bc03(0x299)]=_0x7ba6a0[_0x53bc03(0x299)]);if(!_0x232d98[_0x53bc03(0x20d)]){if(_0x4b0c5d<=0x64){if(_0x232d98['slider']===-0x1){if(_0x2f06f2!==0x0&&config['marketcapEnabled']){if(_0x7ba6a0){if(config['marketcapEnabled']==_0x53bc03(0x299))_0x232d98[_0x53bc03(0x1fd)]=(_0x25ffcf/(_0x2f06f2/_0x7ba6a0[_0x53bc03(0x299)]))[_0x53bc03(0x1d2)](_0x4dc4ce);else config[_0x53bc03(0x278)]==_0x53bc03(0x388)&&(_0x232d98[_0x53bc03(0x1fd)]=(_0x25ffcf/(_0x5e6f8d/Math[_0x53bc03(0x2e8)](_0x7ba6a0[_0x53bc03(0x299)])))[_0x53bc03(0x1d2)](_0x4dc4ce));}}}}}}),updateConfig();}function updateConfig(){const _0x584695=_0x4e8ebb;let _0x4e306e=dbConfig[_0x584695(0x32f)](_0x584695(0x32c))[_0x584695(0x2f3)]({'botID':botID})[_0x584695(0x356)]();_0x4e306e&&dbConfig[_0x584695(0x32f)](_0x584695(0x32c))[_0x584695(0x2f3)]({'botID':botID})['assign'](config)[_0x584695(0x279)]();}async function startScheduler(){const _0x1043ea=_0x4e8ebb,_0x2e2f1a=shiftedTime()['getHours'](),_0x1608f6=process['memoryUsage']()[_0x1043ea(0x2ec)]/0x400/0x400;logger[_0x1043ea(0x1d3)](_0x1043ea(0x37e)+process['pid']+_0x1043ea(0x2a7)+_0x1608f6+_0x1043ea(0x2a4)),getMarketCap(),await sleep(schedulerInterval),startScheduler();}async function silentRestart(){const _0x4b6347=_0x4e8ebb;while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0xa*0x3e8);}process[_0x4b6347(0x324)](0x4d);}async function restartBot(_0x49efa4=![]){const _0x4a10a8=_0x4e8ebb;logger[_0x4a10a8(0x1d3)](_0x4a10a8(0x284));if(!_0x49efa4)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0xa*0x3e8);}process[_0x4a10a8(0x378)]({'stop':_0x4a10a8(0x26e)},_0x51402e=>{});}async function stopExchange(){const _0x26c1e=_0x4e8ebb;if(!exchange)return;exchangeStopped=!![];try{await exchange[_0x26c1e(0x334)]();}catch(_0x276a0b){await handleError(_0x276a0b,_0x26c1e(0x2bf));}}async function reloadExchange(){const _0x3deeed=_0x4e8ebb;logger[_0x3deeed(0x1d3)](_0x3deeed(0x207));while(lockOrders!=ORDERS[_0x3deeed(0x1f8)]||coolingDown){await sleep(0x3c*0x3e8);}await stopExchange(),reset(!![]);}async function initExchange(_0x44b965=config[_0x4e8ebb(0x267)],_0x14a54f=config[_0x4e8ebb(0x2cd)],_0x418219=config[_0x4e8ebb(0x354)],_0x1f5678=config[_0x4e8ebb(0x2b9)]){const _0x2f1f95=_0x4e8ebb;!supportedExchanges()[_0x2f1f95(0x353)](_0x44b965)&&(logHistory(_0x2f1f95(0x22a),_0x2f1f95(0x367)+_0x44b965+_0x2f1f95(0x383)),killBot());const _0x5be29a=ccxt[_0x2f1f95(0x273)][_0x44b965[_0x2f1f95(0x2bc)]()];exchange=new _0x5be29a({'apiKey':_0x14a54f,'secret':_0x418219,'options':{'defaultType':'spot'}});if(_0x1f5678)exchange[_0x2f1f95(0x1db)]=_0x1f5678;}function setStableCoins(){const _0x1b4d20=_0x4e8ebb;let _0x21ac96=config[_0x1b4d20(0x319)]==_0x1b4d20(0x25b)?_0x1b4d20(0x25b):config['basecoin']==_0x1b4d20(0x355)?_0x1b4d20(0x355):_0x1b4d20(0x24e),_0x36ad16=!allSymbols[_0x1b4d20(0x353)](_0x21ac96+_0x1b4d20(0x269))?'USDT':_0x1b4d20(0x330),_0x23754a=!allSymbols[_0x1b4d20(0x353)](_0x21ac96+_0x1b4d20(0x2a6))?_0x36ad16:_0x1b4d20(0x25f);stablecoins={'eur':{'coin':''+_0x21ac96+_0x23754a,'symbol':_0x21ac96+'/'+_0x23754a},'usd':{'coin':''+_0x21ac96+_0x36ad16,'symbol':_0x21ac96+'/'+_0x36ad16}};}async function initwsCcxt(){const _0x47339d=_0x4e8ebb;initCycle++;const _0x10cebc=initCycle;let _0x1d0c88=[];config[_0x47339d(0x362)][_0x47339d(0x1ff)](_0x50f3a5=>{const _0x4ca638=_0x47339d;if(!_0x50f3a5[_0x4ca638(0x20d)]&&_0x50f3a5['coin']!=config[_0x4ca638(0x319)])_0x1d0c88[_0x4ca638(0x27a)](_0x50f3a5[_0x4ca638(0x244)]);});if(!_0x1d0c88[_0x47339d(0x353)](stablecoins[_0x47339d(0x365)][_0x47339d(0x244)]))_0x1d0c88[_0x47339d(0x27a)](stablecoins[_0x47339d(0x365)][_0x47339d(0x244)]);if(!_0x1d0c88['includes'](stablecoins[_0x47339d(0x389)]['symbol']))_0x1d0c88[_0x47339d(0x27a)](stablecoins[_0x47339d(0x389)][_0x47339d(0x244)]);if(config[_0x47339d(0x267)][_0x47339d(0x296)](_0x47339d(0x2a1))&&config[_0x47339d(0x319)]!=_0x47339d(0x355)){if(!_0x1d0c88[_0x47339d(0x353)]('BNB/'+config['basecoin']))_0x1d0c88[_0x47339d(0x27a)](_0x47339d(0x314)+config[_0x47339d(0x319)]);}loadCoins(_0x1d0c88),_0x1d0c88=validateSymbols(_0x1d0c88);const _0x17ebc0=async _0x2a46b1=>{const _0x39afdc=_0x47339d;let _0x1d2b16;try{const _0x2c4870=await getTickers(_0x2a46b1);Object[_0x39afdc(0x1e9)](_0x2c4870)['forEach'](_0x3e1496=>{const _0x2ead88=_0x39afdc;_0x1d2b16=_0x3e1496[0x1]['symbol'],gTicker[noslash(_0x1d2b16)]=_0x3e1496[0x1][_0x2ead88(0x1e6)],gChange[_0x1d2b16]=_0x3e1496[0x1][_0x2ead88(0x25c)];});}catch(_0x302bea){await handleError(_0x302bea,'initTickers()',_0x1d2b16);}},_0x2cec17=async _0xffbbea=>{const _0x50a9b1=_0x47339d;while(initCycle==_0x10cebc){if(!botPaused)try{const _0x466d37=await exchange[_0x50a9b1(0x309)](_0xffbbea);gTicker[noslash(_0x466d37[0x0]['symbol'])]=_0x466d37[0x0][_0x50a9b1(0x26a)];}catch(_0x46d45f){if(!exchangeStopped)await handleError(_0x46d45f,_0x50a9b1(0x223),_0xffbbea);}else await sleep(0x64);}},_0x1e873b=async _0x2c3146=>{const _0x4e7fe2=_0x47339d;while(initCycle==_0x10cebc){if(!botPaused)try{const _0x4cb00c=await exchange[_0x4e7fe2(0x376)](_0x2c3146),_0x241e0a=_0x4cb00c[_0x4e7fe2(0x1ef)]();gTicker[noslash(_0x241e0a[_0x4e7fe2(0x244)])]=_0x241e0a[_0x4e7fe2(0x26a)];}catch(_0xd5bd99){if(!exchangeStopped)await handleError(_0xd5bd99,_0x4e7fe2(0x380),_0x2c3146[_0x4e7fe2(0x2c0)]());}else await sleep(0x64);}},_0x3d89a0=async _0x354f28=>{const _0x416bf7=_0x47339d;while(initCycle==_0x10cebc){if(!botPaused){let _0x2f7b04;try{await sleep(0x3c*0x3e8);const _0x358f23=await getTickers(_0x354f28);Object[_0x416bf7(0x1e9)](_0x358f23)['forEach'](_0x560fd3=>{const _0x5afd68=_0x416bf7;_0x2f7b04=_0x560fd3[0x1][_0x5afd68(0x244)],gChange[_0x2f7b04]=_0x560fd3[0x1][_0x5afd68(0x25c)];});}catch(_0x569093){if(!exchangeStopped)await handleError(_0x569093,_0x416bf7(0x25d),_0x2f7b04);}}else await sleep(0x64);}},_0x4904d6=async _0x42ee22=>{const _0x238fd6=_0x47339d;while(initCycle==_0x10cebc){if(!botPaused)try{const _0x3d7f68=await exchange[_0x238fd6(0x2b1)](_0x42ee22);initCycle==_0x10cebc&&_0x3d7f68[_0x238fd6(0x1ff)](_0x5443f5=>{updateNumberCoinsCcxt(_0x5443f5);});}catch(_0x4546fd){if(!exchangeStopped)await handleError(_0x4546fd,_0x238fd6(0x311));}else await sleep(0x64);}};_0x17ebc0(_0x1d0c88),_0x3d89a0(_0x1d0c88),exchange[_0x47339d(0x366)][_0x47339d(0x376)]?_0x1e873b(_0x1d0c88):_0x1d0c88['forEach'](_0x2fa953=>{_0x2cec17(_0x2fa953);}),_0x1d0c88['forEach'](_0x49ee32=>{_0x4904d6(_0x49ee32);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x3a6018){const _0x42a30b=_0x4e8ebb;let _0xe12b53={};try{if(config[_0x42a30b(0x267)]!=_0x42a30b(0x28c))_0xe12b53=await exchange['fetchTickers'](_0x3a6018);else for(const _0x5f3883 of _0x3a6018){const _0x5e5d88=await exchange['fetchTicker'](_0x5f3883);_0xe12b53[_0x5f3883]=_0x5e5d88;}return _0xe12b53;}catch(_0x52fc0c){throw _0x52fc0c;}}async function detectLiquidityChange(_0x42f634=0x0){const _0x2ff944=_0x4e8ebb;transactionDetectionOngoing=!![];try{const _0x42bb2b=await getCoins(_0x42f634),[_0x3a548d,_0x1ab022]=_0x42bb2b;let _0x37b50c=[];currentCoins[_0x2ff944(0x1ff)](_0x130f56=>{const _0x511269=_0x2ff944,_0x1f394c=_0x3a548d[_0x511269(0x2f3)](_0x444507=>_0x444507[_0x511269(0x253)]==_0x130f56[_0x511269(0x253)]);if(_0x1f394c){if(_0x130f56[_0x511269(0x20a)]!=_0x1f394c['number']){let _0xed4d4e;if(_0x130f56[_0x511269(0x253)]!=config[_0x511269(0x319)]){const _0x8f3fa8=gTicker[noslash(_0x130f56['symbol'])];_0xed4d4e=_0x130f56[_0x511269(0x203)]?0x1/_0x8f3fa8:_0x8f3fa8;}else _0xed4d4e=0x1;_0x37b50c[_0x511269(0x27a)]({'coin':_0x130f56[_0x511269(0x253)],'symbol':_0x130f56['symbol'],'price':_0xed4d4e,'number':Number(formatResult(_0x1f394c[_0x511269(0x20a)]-_0x130f56[_0x511269(0x20a)],0x8)),'basecoinvalue':_0xed4d4e*(_0x1f394c[_0x511269(0x20a)]-_0x130f56[_0x511269(0x20a)])});}}});if(_0x37b50c['length']>0x0&&!blockTransactionDetection)for(const _0x5d9b90 of _0x37b50c){if(config[_0x2ff944(0x21f)]){logger[_0x2ff944(0x1d3)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x5d9b90[_0x2ff944(0x1fa)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x2ff944(0x2ff)]);if(lastFees[_0x2ff944(0x2ff)]==0x0||Math[_0x2ff944(0x32e)](_0x5d9b90[_0x2ff944(0x1fa)])>lastFees[_0x2ff944(0x2ff)]*1.2){if(config[_0x2ff944(0x21f)]==_0x2ff944(0x1d6)){delete _0x5d9b90['symbol'],delete _0x5d9b90[_0x2ff944(0x1fa)];let _0x3be626=[],_0x4128bb=[...config[_0x2ff944(0x28d)]]||[],_0x423ddd=config[_0x2ff944(0x28d)];_0x4128bb[_0x2ff944(0x313)]((_0xdc4328,_0x18ea5c)=>_0xdc4328[_0x2ff944(0x225)]>_0x18ea5c[_0x2ff944(0x225)]?-0x1:_0x18ea5c[_0x2ff944(0x225)]>_0xdc4328[_0x2ff944(0x225)]?0x1:0x0);const _0x15eaff=getDate();if(_0x4128bb[0x0]){const _0x521b02=fns[_0x2ff944(0x256)](_0x4128bb[0x0]['date'],_0x2ff944(0x239),new Date()),_0x171ca9=fns[_0x2ff944(0x256)](_0x15eaff,_0x2ff944(0x239),new Date());if(fns[_0x2ff944(0x2a5)](_0x521b02,_0x171ca9)){_0x3be626=_0x4128bb[0x0][_0x2ff944(0x260)];const _0x2a81b4=_0x3be626[_0x2ff944(0x2f3)](_0x5798b7=>_0x5798b7[_0x2ff944(0x253)]==_0x5d9b90[_0x2ff944(0x253)]);_0x2a81b4?(_0x2a81b4[_0x2ff944(0x20a)]+=_0x5d9b90[_0x2ff944(0x20a)],_0x2a81b4[_0x2ff944(0x20a)]==0x0&&(_0x3be626=_0x3be626[_0x2ff944(0x222)](_0x2f400b=>{const _0x49a54c=_0x2ff944;return _0x2f400b['coin']!=_0x5d9b90[_0x49a54c(0x253)];}))):_0x3be626[_0x2ff944(0x27a)](_0x5d9b90);const _0x216732=_0x423ddd[_0x2ff944(0x2f3)](_0x2833c4=>_0x2833c4['date']==_0x15eaff);_0x216732[_0x2ff944(0x260)]=_0x3be626;}else _0x423ddd['push']({'date':_0x15eaff,'changes':[_0x5d9b90]});}const _0x302f9e=_0x423ddd[_0x2ff944(0x2f3)](_0x9a7edd=>_0x9a7edd[_0x2ff944(0x225)]==_0x15eaff);if(_0x302f9e){let _0x326750=!![];_0x302f9e[_0x2ff944(0x260)][_0x2ff944(0x1ff)](_0x3de909=>{const _0x330a2e=_0x2ff944;if(_0x3de909[_0x330a2e(0x20a)]!=0x0)_0x326750=![];}),_0x326750&&(_0x423ddd=_0x423ddd[_0x2ff944(0x222)](_0x1dc9eb=>{const _0x569f98=_0x2ff944;return _0x1dc9eb[_0x569f98(0x225)]!=_0x15eaff;}));}let _0x2ba43c=dbConfig[_0x2ff944(0x32f)](_0x2ff944(0x32c))[_0x2ff944(0x2f3)]({'botID':botID})['value']();_0x2ba43c&&(dbConfig[_0x2ff944(0x32f)](_0x2ff944(0x32c))[_0x2ff944(0x2f3)]({'botID':botID})[_0x2ff944(0x21e)]({'liquidity':_0x423ddd})[_0x2ff944(0x279)](),config['liquidity']=_0x423ddd);logHistory(_0x2ff944(0x34a),'Portfolio\x20change\x20detected:\x20'+Math[_0x2ff944(0x32e)](_0x5d9b90[_0x2ff944(0x20a)])+'\x20'+_0x5d9b90['coin']+'\x20'+(_0x5d9b90[_0x2ff944(0x20a)]>0x0?'added':_0x2ff944(0x2d4))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x2ff944(0x360),emittedConfiguration());const _0x229434=getNormalizedPerformance();emitPerformance(_0x229434),getStartingBalances(_0x229434),logger[_0x2ff944(0x1d3)](_0x2ff944(0x1dc));}else config[_0x2ff944(0x21f)]==_0x2ff944(0x230)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x2ff944(0x34a),_0x2ff944(0x38d)),logger[_0x2ff944(0x1d3)](_0x2ff944(0x2d1)+Math['abs'](_0x5d9b90[_0x2ff944(0x20a)])+'\x20'+_0x5d9b90[_0x2ff944(0x253)]+'\x20'+(_0x5d9b90['number']>0x0?_0x2ff944(0x2d5):_0x2ff944(0x2d4))+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0x2ff944(0x1d3)]('Portfolio\x20change\x20detected:\x20'+Math['abs'](_0x5d9b90['number'])+'\x20'+_0x5d9b90[_0x2ff944(0x253)]+'\x20'+(_0x5d9b90[_0x2ff944(0x20a)]>0x0?'added':_0x2ff944(0x2d4))+_0x2ff944(0x247)));}else logger[_0x2ff944(0x1d3)]('Fee\x20discount\x20refund\x20detected:\x20'+Math['abs'](_0x5d9b90[_0x2ff944(0x20a)])+'\x20'+_0x5d9b90['coin']+'\x20'+(_0x5d9b90[_0x2ff944(0x20a)]>0x0?_0x2ff944(0x2d5):_0x2ff944(0x2d4)));}else logger[_0x2ff944(0x1d3)](_0x2ff944(0x2d1)+Math['abs'](_0x5d9b90[_0x2ff944(0x20a)])+'\x20'+_0x5d9b90[_0x2ff944(0x253)]+'\x20'+(_0x5d9b90[_0x2ff944(0x20a)]>0x0?_0x2ff944(0x2d5):_0x2ff944(0x2d4))+_0x2ff944(0x254));}currentCoins=_0x3a548d,currentCoinsAll=_0x1ab022;}catch(_0xbe8d34){if(!exchangeStopped)await handleError(_0xbe8d34,_0x2ff944(0x2f4));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x17d62b=_0x4e8ebb;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object[_0x17d62b(0x1e9)](markets)[_0x17d62b(0x1ff)](_0x4d89aa=>{const _0x2fbf8f=_0x17d62b;_0x4d89aa[0x1]['active']&&_0x4d89aa[0x1][_0x2fbf8f(0x301)]&&allSymbols[_0x2fbf8f(0x27a)](_0x4d89aa[0x0]);});}catch(_0x25d1f4){throw _0x25d1f4;}}function validateSymbols(_0x1c525c){let _0x47b85d=[];return _0x1c525c['forEach'](_0x38df45=>{const _0x447702=_0x45a6;!allSymbols[_0x447702(0x353)](_0x38df45)?logHistory(_0x447702(0x22a),_0x447702(0x248)+_0x38df45+_0x447702(0x35d)):_0x47b85d[_0x447702(0x27a)](_0x38df45);}),_0x47b85d;}async function initclient(){const _0x3521eb=_0x4e8ebb;proxyEmit(_0x3521eb(0x360),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3521eb(0x359),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x46671c=getNormalizedPerformance();emitPerformance(_0x46671c),getStartingBalances(_0x46671c);}async function toggleBotMode(){const _0x2d45a5=_0x4e8ebb;let _0x521c7e=dbConfig['get'](_0x2d45a5(0x32c))[_0x2d45a5(0x2f3)]({'botID':botID})[_0x2d45a5(0x356)]();if(_0x521c7e){const _0x3bdf10=!_0x521c7e['headless'];dbConfig[_0x2d45a5(0x32f)](_0x2d45a5(0x32c))[_0x2d45a5(0x2f3)]({'botID':botID})['assign']({'headless':_0x3bdf10})[_0x2d45a5(0x279)](),config[_0x2d45a5(0x28f)]=_0x3bdf10,proxyEmit(_0x2d45a5(0x360),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2dc0ef=_0x4e8ebb;process[_0x2dc0ef(0x378)]({'updatebotmanager':!![]},_0x3822d4=>{}),logger[_0x2dc0ef(0x1d3)]('Headless:\x20'+config[_0x2dc0ef(0x28f)]);}async function loadCoins(_0x4801af){const _0xe0ad25=_0x4e8ebb;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x27d215,_0x5dee21=0x0,_0x30d6c1=0x0;_0x4801af[_0xe0ad25(0x1ff)](_0x1cdaa8=>{const _0x30f163=_0xe0ad25;loading[_0x30f163(0x31c)][_0x30f163(0x27a)](_0x1cdaa8);}),loadingCanceled=![];let _0x417816=![];while(_0x27d215!=_0x4801af[_0xe0ad25(0x357)]+maxLoadingProgress){_0x27d215=loadingProgress,_0x4801af[_0xe0ad25(0x1ff)](_0x565690=>{const _0x162a03=_0xe0ad25;if(gTicker[noslash(_0x565690)]){loading[_0x162a03(0x31c)]=loading['remainingSymbols'][_0x162a03(0x222)](_0x555d3a=>_0x555d3a!=_0x565690);if(!watchedSymbols[_0x162a03(0x353)](_0x565690))watchedSymbols['push'](_0x565690);_0x27d215++;}}),loading[_0xe0ad25(0x371)]=Math['round'](_0x27d215/(_0x4801af[_0xe0ad25(0x357)]+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x30d6c1>0x1e*0x5&&(loading[_0xe0ad25(0x2f8)]=!![],emitLoadingProgress()),_0x30d6c1>0x78*0x5&&!_0x417816&&(_0x417816=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0xe0ad25(0x31c)][_0xe0ad25(0x2e3)](',\x20')+_0xe0ad25(0x2a9)),logHistory(_0xe0ad25(0x22a),_0xe0ad25(0x2ca)+loadCoinsRetryInterval/0xea60+_0xe0ad25(0x351)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{restartBot();},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x5dee21!=loading['progress']&&(_0x5dee21=loading['progress'],emitLoadingProgress()),_0x30d6c1++,await sleep(0xc8);}_0x27d215==_0x4801af[_0xe0ad25(0x357)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0xe0ad25(0x307),'live':_0xe0ad25(0x1e4)},_0x484dac=>{}),_0x417816&&logHistory(_0xe0ad25(0x34a),_0xe0ad25(0x286)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x354292=_0x4e8ebb;proxyEmit(_0x354292(0x360),{...emittedConfiguration(),'configstate':_0x354292(0x321)});}function emitLoadingProgress(){const _0x55cf9f=_0x4e8ebb;proxyEmit(_0x55cf9f(0x337),loading);}async function getFiat(){const _0x35ef2d=_0x4e8ebb;let _0x5750ed=gTicker[stablecoins[_0x35ef2d(0x365)][_0x35ef2d(0x253)]],_0x2eb924=gTicker[stablecoins[_0x35ef2d(0x389)]['coin']];return{'eur':Number(_0x5750ed),'usd':Number(_0x2eb924)};}function capitalize(_0xc3d35b){const _0x1d5001=_0x4e8ebb;return _0xc3d35b[_0x1d5001(0x240)](0x0,0x1)['toUpperCase']()+_0xc3d35b['substring'](0x1);}function supportedExchanges(){const _0xc71b7e=_0x4e8ebb,_0x610c5f=['ws','fetchTickers',_0xc71b7e(0x30a),_0xc71b7e(0x309),_0xc71b7e(0x2b1),_0xc71b7e(0x27c),_0xc71b7e(0x1f3),_0xc71b7e(0x2d6),_0xc71b7e(0x1ea),_0xc71b7e(0x1d4)];let _0x4d8b42=[],_0x491f3d=[],_0x3d5448=ccxt[_0xc71b7e(0x273)][_0xc71b7e(0x33a)];_0x3d5448[_0xc71b7e(0x1ff)](_0x3eae3a=>{const _0x165530=_0xc71b7e;try{const _0x536b24=new ccxt[(_0x165530(0x273))][_0x3eae3a]();_0x491f3d[_0x165530(0x27a)](_0x536b24);}catch(_0x5af9e1){}}),_0x491f3d[_0xc71b7e(0x1ff)](_0x18c78c=>{const _0x18ba0e=_0xc71b7e;let _0x5ca915=0x0;_0x610c5f[_0x18ba0e(0x1ff)](_0x41334c=>{const _0x4fce00=_0x18ba0e;_0x41334c in _0x18c78c[_0x4fce00(0x366)]&&_0x18c78c['has'][_0x41334c]&&_0x5ca915++;}),_0x5ca915==_0x610c5f[_0x18ba0e(0x357)]&&_0x4d8b42[_0x18ba0e(0x27a)](capitalize(_0x18c78c['id']));});let _0x5bfec7=[];return _0x3d5448[_0xc71b7e(0x1ff)](_0x3f6c93=>{const _0x53684e=_0xc71b7e;_0x3f6c93=capitalize(_0x3f6c93);if(!_0x4d8b42[_0x53684e(0x353)](_0x3f6c93))_0x5bfec7[_0x53684e(0x27a)](_0x3f6c93);}),_0x4d8b42;}function setStartDatePerformance(){const _0x2a6e29=_0x4e8ebb;if(config&&config['liquidity'][0x0][_0x2a6e29(0x260)][_0x2a6e29(0x357)]!=0x0){const _0x1b9d05=config[_0x2a6e29(0x28d)][0x0][_0x2a6e29(0x260)];dbPerformance[_0x2a6e29(0x32f)](_0x2a6e29(0x329))[_0x2a6e29(0x2f3)]({'date':config[_0x2a6e29(0x238)]})[_0x2a6e29(0x21e)]({'coins':_0x1b9d05})['write']();}}async function recreateCoinResults(){const _0x1d2f91=_0x4e8ebb;let _0x1641e8,_0x3278ec=[];try{const _0x4e88c0=fns[_0x1d2f91(0x2fc)](fns['parseISO'](config[_0x1d2f91(0x238)][_0x1d2f91(0x2eb)](/\//g,'-')),_0x1d2f91(0x2fb));for(const _0x11df96 of currentCoins){if(_0x11df96[_0x1d2f91(0x253)]!=config[_0x1d2f91(0x319)]){let _0x40c1a4=0x0,_0x3ea32e,_0x4d7d62;_0x1641e8=await getAllEventOrders(_0x11df96[_0x1d2f91(0x244)]);if(_0x1641e8[_0x1d2f91(0x357)]>0x0)_0x1641e8[_0x1d2f91(0x1ff)](_0x55aaa0=>{const _0x52a911=_0x1d2f91,_0x3aca41=_0x11df96['symbol']['includes'](config['basecoin']+'/');_0x3278ec['push']({'datetime':_0x55aaa0['datetime'],'coin':_0x11df96[_0x52a911(0x253)],'symbol':_0x11df96[_0x52a911(0x244)],'side':_0x55aaa0[_0x52a911(0x245)],'reverse':_0x3aca41,'amount':formatResult(_0x55aaa0[_0x52a911(0x2ac)],0x8),'filled':formatResult(_0x55aaa0[_0x52a911(0x2ac)],0x8),'price':formatResult(_0x55aaa0[_0x52a911(0x26a)],0x8)}),_0x40c1a4=_0x55aaa0[_0x52a911(0x245)]==_0x52a911(0x255)?_0x40c1a4+_0x55aaa0['filled']:_0x40c1a4-_0x55aaa0[_0x52a911(0x2ac)];if(!_0x4d7d62)_0x4d7d62=_0x55aaa0['price'];});_0x3ea32e=_0x11df96[_0x1d2f91(0x20a)]-_0x40c1a4;let _0x3add11;config['liquidity'][_0x1d2f91(0x1ff)](_0xde1567=>{const _0x48d0a7=_0x1d2f91;!_0x3add11&&(_0x3add11=_0xde1567['changes'][_0x48d0a7(0x2f3)](_0x298137=>_0x298137[_0x48d0a7(0x253)]==_0x11df96[_0x48d0a7(0x253)]),_0x3add11&&(_0x3ea32e=_0x3add11[_0x48d0a7(0x20a)],_0x4d7d62=_0x3add11[_0x48d0a7(0x26a)]));});let _0x137653=dbCoinResults[_0x1d2f91(0x32f)]('coins')[_0x1d2f91(0x2f3)]({'coin':_0x11df96[_0x1d2f91(0x253)]})['value']();_0x137653={'coin':_0x11df96[_0x1d2f91(0x253)],'number':_0x3ea32e,'breakeven':_0x4d7d62,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1d2f91(0x32f)](_0x1d2f91(0x232))[_0x1d2f91(0x2f3)]({'coin':_0x11df96[_0x1d2f91(0x253)]})['assign'](_0x137653)['write']();}}_0x3278ec['sort']((_0x30031b,_0x1b30f3)=>_0x30031b[_0x1d2f91(0x342)]>_0x1b30f3[_0x1d2f91(0x342)]?0x1:_0x1b30f3[_0x1d2f91(0x342)]>_0x30031b[_0x1d2f91(0x342)]?-0x1:0x0);let _0x1cefab=0x0;for(let _0x217367 of _0x3278ec){await updateCoinResults(_0x217367,!![]);}}catch(_0x414dde){await handleError(_0x414dde,'recreateCoinResults()');}}async function getAllEventOrders(_0x4342ed){const _0x21423d=_0x4e8ebb;let _0x2f5159=[],_0x1bd49c=dbLogs[_0x21423d(0x32f)](_0x21423d(0x29a))[_0x21423d(0x222)](_0x27cd03=>{const _0x1ebd78=_0x21423d,_0x3a1828=_0x27cd03['event'][_0x1ebd78(0x2bc)]();return _0x3a1828[_0x1ebd78(0x353)](_0x4342ed['toLowerCase']())&&(_0x3a1828[_0x1ebd78(0x353)](_0x1ebd78(0x37d))&&_0x3a1828['includes']('order')||_0x3a1828[_0x1ebd78(0x353)](_0x1ebd78(0x2ac))&&_0x3a1828[_0x1ebd78(0x353)](_0x1ebd78(0x2a8)));})[_0x21423d(0x2a3)](_0x21423d(0x36a))[_0x21423d(0x356)]();return _0x1bd49c[_0x21423d(0x1ff)](_0x5c8866=>{const _0x4ad954=_0x21423d,_0x5db7bf=_0x5c8866[_0x4ad954(0x281)]['includes']('sell')?_0x4ad954(0x2ae):_0x4ad954(0x255),_0x19563d=/#([0-9]|\.)+\s/i,_0x199452=Number(_0x19563d[_0x4ad954(0x229)](_0x5c8866[_0x4ad954(0x281)])[0x0]['slice'](0x1)),_0x294d7b=/@([0-9]|\.)+$/i,_0x321515=Number(_0x294d7b['exec'](_0x5c8866[_0x4ad954(0x281)])[0x0][_0x4ad954(0x224)](0x1));_0x2f5159[_0x4ad954(0x27a)]({'datetime':_0x5c8866['time'],'coin':symbolToCoin(_0x4342ed),'symbol':_0x4342ed,'side':_0x5db7bf,'amount':_0x199452,'filled':_0x199452,'price':_0x321515});}),_0x2f5159;}async function getAllOrders(_0x9d1087,_0xc86ced){const _0x1a217b=_0x4e8ebb;let _0x62b40d=[];while(_0xc86ced<exchange[_0x1a217b(0x26b)]()){const _0x47e3af=0x1f4;try{const _0x30dbd0=await exchange[_0x1a217b(0x1ea)](_0x9d1087,_0xc86ced,_0x47e3af);if(_0x30dbd0[_0x1a217b(0x357)])_0xc86ced=_0x30dbd0[_0x30dbd0[_0x1a217b(0x357)]-0x1]['timestamp']+0x1,_0x62b40d=_0x62b40d[_0x1a217b(0x379)](_0x30dbd0);else break;}catch(_0x2247b0){await handleError(_0x2247b0,_0x1a217b(0x35f),_0x9d1087);}}return _0x62b40d;}async function validate24hChanges(){const _0x315e85=_0x4e8ebb;for(const _0x256ea5 of currentCoins){if(_0x256ea5[_0x315e85(0x253)]!=config[_0x315e85(0x319)]){let _0x514d5f;_0x256ea5[_0x315e85(0x203)]?_0x514d5f=formatResult((0x1/(gChange[_0x256ea5[_0x315e85(0x244)]]/0x64+0x1)-0x1)*0x64,0x3):_0x514d5f=gChange[_0x256ea5[_0x315e85(0x244)]],_0x514d5f<config[_0x315e85(0x227)]&&(logHistory(_0x315e85(0x22a),_0x256ea5[_0x315e85(0x253)]+_0x315e85(0x2c4)+_0x514d5f+'%'),logHistory(_0x315e85(0x22a),_0x315e85(0x2d8)),logHistory(_0x315e85(0x22a),_0x315e85(0x261)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x21e296,_0x4124aa){const _0x1b4fbf=_0x4e8ebb;if(!_0x21e296)return!![];const _0x2cb54d=_0x4124aa[_0x1b4fbf(0x23b)]('.'),_0x6d79b2=_0x21e296['split']('.');for(var _0x5ed518=0x0;_0x5ed518<_0x6d79b2[_0x1b4fbf(0x357)];_0x5ed518++){const _0x3fac2c=~~_0x6d79b2[_0x5ed518],_0x1c0a18=~~_0x2cb54d[_0x5ed518];if(_0x3fac2c<_0x1c0a18)return!![];if(_0x3fac2c>_0x1c0a18)return![];}return![];}async function oneTimeMigration(){const _0x90eb2a=_0x4e8ebb;let _0x25f8b4=dbLogs[_0x90eb2a(0x32f)](_0x90eb2a(0x288))['value']();if(isOlderVersion(_0x25f8b4,'2.3.5')){let _0x1188c2=[];const _0x33b101=dbLogs[_0x90eb2a(0x32f)]('logs')[_0x90eb2a(0x356)]();_0x33b101[_0x90eb2a(0x1ff)](_0x313b6e=>{const _0x51cc0d=_0x90eb2a;_0x1188c2[_0x51cc0d(0x27a)]({'time':_0x313b6e[_0x51cc0d(0x36a)],'type':_0x313b6e[_0x51cc0d(0x2b6)],'event':_0x313b6e[_0x51cc0d(0x281)]});}),dbLogs[_0x90eb2a(0x32f)](_0x90eb2a(0x29a))[_0x90eb2a(0x21e)](_0x1188c2)[_0x90eb2a(0x279)]();}let _0x48ab29=dbConfig[_0x90eb2a(0x32f)]('version')[_0x90eb2a(0x356)]();if(isOlderVersion(_0x48ab29,_0x90eb2a(0x2c5))){let _0x1c6f20=dbConfig[_0x90eb2a(0x32f)]('bot')['find']({'botID':botID})[_0x90eb2a(0x356)]();if(_0x1c6f20){let _0x56a33c=[];_0x1c6f20[_0x90eb2a(0x362)]['forEach'](_0x217b94=>{const _0x1a33cc=_0x90eb2a;_0x56a33c[_0x1a33cc(0x27a)]({'coin':_0x217b94[_0x1a33cc(0x253)],'number':_0x217b94[_0x1a33cc(0x36c)],'price':_0x217b94[_0x1a33cc(0x368)]}),delete _0x217b94[_0x1a33cc(0x36c)],delete _0x217b94[_0x1a33cc(0x368)];});if(_0x56a33c[_0x90eb2a(0x357)]!==0x0)fs[_0x90eb2a(0x310)](configbackuppath+(_0x90eb2a(0x204)+botID+'.json'),JSON[_0x90eb2a(0x29f)](_0x56a33c,null,0x4),function(_0x4af2f0){if(_0x4af2f0){}});const _0x1442e8=(_0x3d397e,_0x528f88)=>{const _0x5d770a=_0x90eb2a;let _0x436804=[];_0x528f88[_0x5d770a(0x1ff)](_0x48babb=>{const _0x1fd483=_0x5d770a,_0x5741a8=_0x3d397e[_0x1fd483(0x2f3)](_0x43a218=>_0x43a218['coin']==_0x48babb[_0x1fd483(0x253)]);if(!_0x5741a8)_0x436804[_0x1fd483(0x27a)](_0x48babb);});let _0x875e2c=[];return _0x3d397e[_0x5d770a(0x1ff)](_0x2851b4=>{const _0x1d2496=_0x5d770a,_0x3aa41f=_0x528f88['find'](_0x5bc408=>_0x5bc408[_0x1d2496(0x253)]==_0x2851b4['coin']);if(!_0x3aa41f||_0x3aa41f[_0x1d2496(0x20a)]==0x0&&_0x2851b4[_0x1d2496(0x20a)]!=0x0)_0x875e2c[_0x1d2496(0x27a)](_0x2851b4);}),{'missingDay1':_0x436804,'notInDay2':_0x875e2c};},_0x4224b5=dbPerformance[_0x90eb2a(0x32f)](_0x90eb2a(0x329))['cloneDeep']()[_0x90eb2a(0x356)]();if(_0x4224b5[_0x90eb2a(0x357)]>0x1){const {missingDay1:_0x568a83,notInDay2:_0x52fdc8}=_0x1442e8(_0x56a33c,_0x4224b5[0x1]['coins']);_0x56a33c=[..._0x56a33c,..._0x568a83],_0x52fdc8[_0x90eb2a(0x1ff)](_0x44b8df=>{const _0x2bd402=_0x90eb2a;let _0x599f9d=_0x56a33c[_0x2bd402(0x33c)](_0xd2881e=>_0xd2881e[_0x2bd402(0x253)]==_0x44b8df[_0x2bd402(0x253)]);_0x599f9d!=-0x1&&_0x56a33c[_0x2bd402(0x2d9)](_0x599f9d,0x1);});}_0x56a33c[_0x90eb2a(0x313)]((_0x2490e2,_0x484067)=>_0x2490e2[_0x90eb2a(0x253)]>_0x484067[_0x90eb2a(0x253)]?0x1:_0x484067[_0x90eb2a(0x253)]>_0x2490e2[_0x90eb2a(0x253)]?-0x1:0x0);let _0x267fab=[{'date':_0x1c6f20['startdate'],'changes':_0x56a33c}];_0x4224b5[_0x90eb2a(0x357)]>0x2&&_0x4224b5[_0x90eb2a(0x1ff)]((_0x50b165,_0xcbe67d)=>{const _0x145663=_0x90eb2a;if(_0xcbe67d>0x0&&_0xcbe67d<_0x4224b5[_0x145663(0x357)]-0x1){const {missingDay1:_0x58ad75,notInDay2:_0x17c9d4}=_0x1442e8(_0x4224b5[_0xcbe67d][_0x145663(0x232)],_0x4224b5[_0xcbe67d+0x1][_0x145663(0x232)]);_0x56a33c=[],(_0x58ad75[_0x145663(0x357)]!=0x0||_0x17c9d4[_0x145663(0x357)]!=0x0)&&(_0x58ad75[_0x145663(0x357)]!=0x0&&_0x56a33c['push'](..._0x58ad75),_0x17c9d4[_0x145663(0x357)]!=0x0&&(_0x17c9d4[_0x145663(0x1ff)](_0x4f24f4=>{const _0x17e6d5=_0x145663;_0x4f24f4[_0x17e6d5(0x20a)]=-_0x4f24f4['number'];}),_0x56a33c[_0x145663(0x27a)](..._0x17c9d4)),_0x56a33c['sort']((_0x227fba,_0x4a30a4)=>_0x227fba[_0x145663(0x253)]>_0x4a30a4[_0x145663(0x253)]?0x1:_0x4a30a4['coin']>_0x227fba[_0x145663(0x253)]?-0x1:0x0),_0x267fab[_0x145663(0x27a)]({'date':_0x4224b5[_0xcbe67d+0x1][_0x145663(0x225)],'changes':_0x56a33c}));}}),dbConfig['get']('bot')[_0x90eb2a(0x2f3)]({'botID':botID})[_0x90eb2a(0x21e)]({..._0x1c6f20,'liquidity':_0x267fab})[_0x90eb2a(0x279)]();}}if(isOlderVersion(_0x48ab29,_0x90eb2a(0x2c9))){let _0xb730fc=dbConfig[_0x90eb2a(0x32f)](_0x90eb2a(0x32c))['find']({'botID':botID})['value']();if(_0xb730fc){const _0x5bc29d=_0xb730fc[_0x90eb2a(0x267)],_0x44ab4c=_0x5bc29d?capitalize(_0x5bc29d):_0x90eb2a(0x2a1);dbConfig['get']('bot')[_0x90eb2a(0x2f3)]({'botID':botID})[_0x90eb2a(0x21e)]({'exchange':_0x44ab4c})[_0x90eb2a(0x279)]();}}if(isOlderVersion(_0x48ab29,'2.6.22')){let _0x20a4b4=dbConfig[_0x90eb2a(0x32f)](_0x90eb2a(0x32c))[_0x90eb2a(0x2f3)]({'botID':botID})[_0x90eb2a(0x356)]();if(_0x20a4b4){const _0x33d11d=_0x20a4b4['marketcapEnabled'],_0x50a890=_0x33d11d?_0x90eb2a(0x299):![];dbConfig[_0x90eb2a(0x32f)](_0x90eb2a(0x32c))[_0x90eb2a(0x2f3)]({'botID':botID})[_0x90eb2a(0x21e)]({'marketcapEnabled':_0x50a890})[_0x90eb2a(0x279)]();}}if(isOlderVersion(_0x48ab29,'2.6.23')){let _0x2760d1=dbConfig['get']('bot')[_0x90eb2a(0x2f3)]({'botID':botID})[_0x90eb2a(0x356)]();if(_0x2760d1){const _0x455f29=_0x2760d1[_0x90eb2a(0x21f)],_0x53fdf7=_0x455f29?_0x90eb2a(0x1d6):![];dbConfig['get'](_0x90eb2a(0x32c))[_0x90eb2a(0x2f3)]({'botID':botID})[_0x90eb2a(0x21e)]({'autoliquidity':_0x53fdf7})['write']();}}let _0x18179e=dbPerformance[_0x90eb2a(0x32f)](_0x90eb2a(0x288))[_0x90eb2a(0x356)]();isOlderVersion(_0x18179e,_0x90eb2a(0x2c5))&&setStartDatePerformance();let _0x3c178f=dbCoinResults['get'](_0x90eb2a(0x288))[_0x90eb2a(0x356)]();if(isOlderVersion(_0x3c178f,_0x90eb2a(0x289))){let _0x5a2ede=dbCoinResults['get'](_0x90eb2a(0x232))[_0x90eb2a(0x356)]();if(_0x5a2ede[_0x90eb2a(0x357)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x43276f=_0x4e8ebb;dbConfig[_0x43276f(0x1fc)](_0x43276f(0x288),serverversion)[_0x43276f(0x279)](),dbPerformance[_0x43276f(0x1fc)](_0x43276f(0x288),serverversion)[_0x43276f(0x279)](),dbLogs[_0x43276f(0x1fc)]('version',serverversion)[_0x43276f(0x279)](),dbCoinResults[_0x43276f(0x1fc)](_0x43276f(0x288),serverversion)[_0x43276f(0x279)]();}function getConfiguration(_0x1c1ae3){const _0x46ebae=_0x4e8ebb;let _0x1127d1=dbConfig[_0x46ebae(0x32f)](_0x46ebae(0x32c))[_0x46ebae(0x2f3)]({'botID':_0x1c1ae3})[_0x46ebae(0x356)]();if(_0x1127d1){let _0x36f467=![];typeof _0x1127d1[_0x46ebae(0x2ed)]==_0x46ebae(0x382)&&(_0x1127d1={..._0x1127d1,'threshold':Number(_0x1127d1[_0x46ebae(0x2ed)])},_0x36f467=!![]),_0x1127d1[_0x46ebae(0x227)]==undefined&&(_0x1127d1={..._0x1127d1,'change24h':-0x14},_0x36f467=!![]),_0x1127d1[_0x46ebae(0x2f9)]==undefined&&(_0x1127d1={..._0x1127d1,'fiat':_0x46ebae(0x330)},_0x36f467=!![]),_0x1127d1[_0x46ebae(0x2c6)]==undefined&&(_0x1127d1={..._0x1127d1,'onepagemode':settings[_0x46ebae(0x2c6)]},_0x36f467=!![]),_0x1127d1[_0x46ebae(0x30b)]==undefined&&(_0x1127d1={..._0x1127d1,'colorscheme':_0x46ebae(0x22f)},_0x36f467=!![]),_0x1127d1['autoliquidity']==undefined&&(_0x1127d1={..._0x1127d1,'autoliquidity':_0x46ebae(0x1d6)},_0x36f467=!![]),_0x1127d1['marketcapApi']==undefined&&(_0x1127d1={..._0x1127d1,'marketcapApi':settings[_0x46ebae(0x24a)]?!![]:![]},_0x36f467=!![]),_0x1127d1[_0x46ebae(0x278)]==undefined&&(_0x1127d1={..._0x1127d1,'marketcapEnabled':![]},_0x36f467=!![]),_0x36f467&&(_0x1127d1={'botID':_0x1127d1[_0x46ebae(0x200)],'exchange':_0x1127d1['exchange'],'apiKey':_0x1127d1['apiKey'],'apiSecret':_0x1127d1[_0x46ebae(0x354)],'apiPassword':_0x1127d1[_0x46ebae(0x2b9)],'basecoin':_0x1127d1[_0x46ebae(0x319)],'botname':_0x1127d1[_0x46ebae(0x2e9)],'showname':_0x1127d1['showname'],'threshold':_0x1127d1[_0x46ebae(0x2ed)],'ordertype':_0x1127d1[_0x46ebae(0x347)],'timeout':_0x1127d1[_0x46ebae(0x2f8)],'fiat':_0x1127d1[_0x46ebae(0x2f9)],'startdate':_0x1127d1['startdate'],'recreate':_0x1127d1[_0x46ebae(0x291)],'timeshift':_0x1127d1[_0x46ebae(0x2e4)],'onepagemode':_0x1127d1['onepagemode'],'headless':_0x1127d1[_0x46ebae(0x28f)],'cooldown':_0x1127d1['cooldown'],'change24h':_0x1127d1[_0x46ebae(0x227)],'emojibuy':_0x1127d1[_0x46ebae(0x2ce)],'emojisell':_0x1127d1[_0x46ebae(0x226)],'colorscheme':_0x1127d1[_0x46ebae(0x30b)],'marketcapApi':_0x1127d1['marketcapApi'],'marketcapEnabled':_0x1127d1[_0x46ebae(0x278)],'portfolio':_0x1127d1[_0x46ebae(0x362)],'autoliquidity':_0x1127d1['autoliquidity'],'liquidity':_0x1127d1[_0x46ebae(0x28d)],'openOrders':_0x1127d1['openOrders']},dbConfig[_0x46ebae(0x32f)](_0x46ebae(0x32c))['remove']()[_0x46ebae(0x279)](),dbConfig[_0x46ebae(0x32f)](_0x46ebae(0x32c))['push'](_0x1127d1)['write']());}else _0x1127d1={'botID':_0x1c1ae3,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x1c1ae3,'showname':![],'threshold':0x3,'ordertype':_0x46ebae(0x37d),'timeout':0x14,'fiat':_0x46ebae(0x330),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x46ebae(0x2e4)],'onepagemode':settings[_0x46ebae(0x2c6)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x46ebae(0x22f),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':'update-liquidity','liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1127d1;}function emittedConfiguration(){const _0x365ac4=_0x4e8ebb;let _0x30cfaf;if(config[_0x365ac4(0x2cd)]=='')_0x30cfaf={...config,'configstate':_0x365ac4(0x2b8)};else config[_0x365ac4(0x2cd)]==_0x365ac4(0x35c)?_0x30cfaf={...config,'configstate':_0x365ac4(0x1dd)}:(_0x30cfaf={...config,'apiKey':'************','apiSecret':_0x365ac4(0x2f7)},config[_0x365ac4(0x2b9)]&&(_0x30cfaf[_0x365ac4(0x2b9)]=_0x365ac4(0x2f7)));return _0x30cfaf;}function getSettings(){const _0x45f228=_0x4e8ebb;return dbSettings['get'](_0x45f228(0x20e))[_0x45f228(0x356)]();}function getSecure(){const _0x36a7b8=_0x4e8ebb;return dbSecure['get'](_0x36a7b8(0x322))['value']()||{};}function updateTimeshift(_0x5d0efe){const _0x51b9a7=_0x4e8ebb;let _0x376b0d=dbConfig[_0x51b9a7(0x32f)](_0x51b9a7(0x32c))[_0x51b9a7(0x2f3)]({'botID':botID})[_0x51b9a7(0x356)]();_0x376b0d&&dbConfig[_0x51b9a7(0x32f)](_0x51b9a7(0x32c))['find']({'botID':botID})[_0x51b9a7(0x21e)]({'timeshift':_0x5d0efe})[_0x51b9a7(0x279)](),config[_0x51b9a7(0x2e4)]=_0x5d0efe,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x1c67a7){const _0x535230=_0x4e8ebb;let _0x4a50ea=dbConfig['get']('bot')[_0x535230(0x2f3)]({'botID':botID})[_0x535230(0x356)]();_0x4a50ea&&dbConfig[_0x535230(0x32f)](_0x535230(0x32c))[_0x535230(0x2f3)]({'botID':botID})[_0x535230(0x21e)]({'onepagemode':_0x1c67a7})[_0x535230(0x279)](),config[_0x535230(0x2c6)]=_0x1c67a7,proxyEmit(_0x535230(0x360),emittedConfiguration());}function updateMarketcapApi(_0x34fed0){const _0x181c73=_0x4e8ebb,_0x3c15ef=_0x34fed0?!![]:![];let _0x451195=dbConfig[_0x181c73(0x32f)](_0x181c73(0x32c))[_0x181c73(0x2f3)]({'botID':botID})['value']();_0x451195&&dbConfig[_0x181c73(0x32f)](_0x181c73(0x32c))[_0x181c73(0x2f3)]({'botID':botID})[_0x181c73(0x21e)]({'marketcapApi':_0x3c15ef})[_0x181c73(0x279)](),config[_0x181c73(0x24a)]=_0x3c15ef,getMarketCap(),proxyEmit(_0x181c73(0x360),emittedConfiguration());}async function storeConfiguration(_0x21f720){const _0x446dce=_0x4e8ebb;logger[_0x446dce(0x1d3)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x446dce(0x1d3)](_0x446dce(0x2e1));let _0x4b9a6c=![],_0x862022=![],_0x38420a=[];_0x21f720['portfolio'][_0x446dce(0x1ff)](_0x57b7a0=>{const _0x12adb9=_0x446dce;if(!_0x57b7a0[_0x12adb9(0x20d)]&&_0x57b7a0[_0x12adb9(0x253)]!=_0x21f720[_0x12adb9(0x319)])_0x38420a[_0x12adb9(0x27a)](_0x57b7a0[_0x12adb9(0x244)]);}),_0x38420a['forEach'](_0x225e1a=>{const _0x132584=_0x446dce,_0x42bf9c=currentCoins[_0x132584(0x2f3)](_0x248c7c=>_0x248c7c['symbol']==_0x225e1a);!_0x42bf9c&&(_0x4b9a6c=!![]);}),currentCoins[_0x446dce(0x1ff)](_0x291298=>{const _0x99e7c9=_0x446dce;if(_0x291298['coin']!=config[_0x99e7c9(0x319)]){const _0x4df5b5=_0x38420a[_0x99e7c9(0x2f3)](_0x19e727=>_0x19e727==_0x291298[_0x99e7c9(0x244)]);!_0x4df5b5&&(_0x4b9a6c=!![]);}}),_0x21f720['portfolio'][_0x446dce(0x1ff)](_0x470de4=>{const _0x550019=_0x446dce,_0x1d89b9=config['portfolio'][_0x550019(0x2f3)](_0x53ffa8=>_0x53ffa8[_0x550019(0x253)]==_0x470de4[_0x550019(0x253)]);if(_0x1d89b9&&_0x470de4[_0x550019(0x2e7)]!=_0x1d89b9[_0x550019(0x2e7)])_0x862022=!![];});let _0x5f36b3=dbConfig[_0x446dce(0x32f)](_0x446dce(0x32c))[_0x446dce(0x2f3)]({'botID':botID})['value']();_0x21f720={..._0x21f720,'apiKey':crypt['decrypt'](secure[_0x446dce(0x370)],_0x21f720[_0x446dce(0x2cd)])[_0x446dce(0x270)],'apiSecret':crypt['decrypt'](secure[_0x446dce(0x370)],_0x21f720[_0x446dce(0x354)])['message']};_0x21f720['apiPassword']&&(_0x21f720[_0x446dce(0x2b9)]=crypt[_0x446dce(0x2f2)](secure['privateKey'],_0x21f720[_0x446dce(0x2b9)])[_0x446dce(0x270)]);let _0x3ff1c2=![];if(_0x5f36b3){_0x21f720[_0x446dce(0x2cd)]==_0x446dce(0x2f7)?_0x21f720[_0x446dce(0x2cd)]=config[_0x446dce(0x2cd)]:_0x3ff1c2=!![];_0x21f720[_0x446dce(0x354)]==_0x446dce(0x2f7)?_0x21f720[_0x446dce(0x354)]=config[_0x446dce(0x354)]:_0x3ff1c2=!![];if(_0x21f720[_0x446dce(0x2b9)]==_0x446dce(0x2f7))_0x21f720[_0x446dce(0x2b9)]=config['apiPassword'];else{if(_0x21f720['apiPassword'])_0x3ff1c2=!![];}dbConfig['get'](_0x446dce(0x32c))[_0x446dce(0x2f3)]({'botID':botID})[_0x446dce(0x21e)](_0x21f720)['write']();}else dbConfig[_0x446dce(0x32f)](_0x446dce(0x32c))['push'](_0x21f720)[_0x446dce(0x279)](),_0x3ff1c2=!![],process['send']({'status':_0x446dce(0x307),'live':_0x446dce(0x1e4)},_0x41f6c9=>{});process[_0x446dce(0x378)]({'botname':_0x21f720[_0x446dce(0x2e9)]},_0x21aa14=>{}),config={..._0x21f720},updateBotManager(),proxyEmit(_0x446dce(0x290)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3ff1c2)await reset(!![]);else _0x4b9a6c||_0x862022?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x446dce(0x1d3)](_0x446dce(0x2c3));}async function storeHeadless(_0x3d411f){const _0x15bb18=_0x4e8ebb,_0x58421f={...config,'headless':_0x3d411f[_0x15bb18(0x28f)]};let _0x3a0485=dbConfig[_0x15bb18(0x32f)]('bot')[_0x15bb18(0x2f3)]({'botID':botID})[_0x15bb18(0x356)]();_0x3a0485&&dbConfig[_0x15bb18(0x32f)](_0x15bb18(0x32c))[_0x15bb18(0x2f3)]({'botID':botID})[_0x15bb18(0x21e)](_0x58421f)['write'](),config={..._0x58421f},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x9c55bd){const _0x24ffc1=_0x4e8ebb,_0x5574e5={...config,'fiat':_0x9c55bd};let _0x4342bb=dbConfig['get'](_0x24ffc1(0x32c))['find']({'botID':botID})[_0x24ffc1(0x356)]();_0x4342bb&&dbConfig[_0x24ffc1(0x32f)](_0x24ffc1(0x32c))['find']({'botID':botID})[_0x24ffc1(0x21e)](_0x5574e5)[_0x24ffc1(0x279)](),config={..._0x5574e5},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x52fcb5=_0x4e8ebb;logger[_0x52fcb5(0x2d0)](_0x52fcb5(0x1f1));try{if(fs[_0x52fcb5(0x34b)](path[_0x52fcb5(0x2e3)](configpath,_0x52fcb5(0x2dc)+botID+_0x52fcb5(0x369))))fs[_0x52fcb5(0x1d5)](path['join'](configpath,_0x52fcb5(0x2dc)+botID+_0x52fcb5(0x369)));if(fs[_0x52fcb5(0x34b)](path['join'](configpath,_0x52fcb5(0x2dc)+botID+_0x52fcb5(0x25e))))fs['unlinkSync'](path[_0x52fcb5(0x2e3)](configpath,'bot-'+botID+_0x52fcb5(0x25e)));if(fs[_0x52fcb5(0x34b)](path[_0x52fcb5(0x2e3)](configpath,_0x52fcb5(0x2dc)+botID+_0x52fcb5(0x312))))fs[_0x52fcb5(0x1d5)](path[_0x52fcb5(0x2e3)](configpath,_0x52fcb5(0x2dc)+botID+'-results.json'));}catch(_0x588de3){if(_0x588de3)logger['full'](_0x52fcb5(0x300),_0x588de3);}const _0x576a82=getDate();let _0x5901a2=[];currentCoins[_0x52fcb5(0x1ff)](_0x170601=>{const _0x3bd399=_0x52fcb5;_0x5901a2[_0x3bd399(0x27a)]({'coin':_0x170601[_0x3bd399(0x253)],'number':_0x170601[_0x3bd399(0x20a)],'price':_0x170601[_0x3bd399(0x1e6)]});});let _0x2c69b3=dbConfig[_0x52fcb5(0x32f)](_0x52fcb5(0x32c))[_0x52fcb5(0x2f3)]({'botID':botID})[_0x52fcb5(0x356)]();_0x2c69b3&&(dbConfig[_0x52fcb5(0x32f)]('bot')[_0x52fcb5(0x2f3)]({'botID':botID})['assign']({'liquidity':[{'date':_0x576a82,'changes':_0x5901a2}]})['write'](),config['liquidity']=[]),restartBot(!![]);}function noslash(_0x190ebb){const _0x28f1c9=_0x4e8ebb;return _0x190ebb[_0x28f1c9(0x2eb)]('/','');}function updateHighestFee(_0xa8daca){const _0x2271fd=_0x4e8ebb;if(_0xa8daca[_0x2271fd(0x203)]){let _0x2f3e94={'filled':_0xa8daca[_0x2271fd(0x2ac)]*_0xa8daca[_0x2271fd(0x26a)],'amount':_0xa8daca['filled']*_0xa8daca[_0x2271fd(0x26a)],'side':_0xa8daca['side']==_0x2271fd(0x2ae)?_0x2271fd(0x255):_0x2271fd(0x2ae),'price':0x1/_0xa8daca[_0x2271fd(0x26a)]};_0xa8daca={..._0xa8daca,..._0x2f3e94};}const _0xd6371a=defaultFee*_0xa8daca[_0x2271fd(0x2ac)]*_0xa8daca['price'];lastFees[_0x2271fd(0x372)]['length']===0x14&&lastFees[_0x2271fd(0x372)][_0x2271fd(0x30c)](),lastFees[_0x2271fd(0x372)][_0x2271fd(0x27a)](_0xd6371a),lastFees[_0x2271fd(0x2ff)]=Math['max'](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x45e70a){const _0x13141f=_0x4e8ebb;logger[_0x13141f(0x1d3)](_0x13141f(0x2c2)+_0x45e70a[_0x13141f(0x244)]+_0x13141f(0x31b)+_0x45e70a['status']+_0x13141f(0x31b)+_0x45e70a[_0x13141f(0x2ac)]+_0x13141f(0x213)+_0x45e70a[_0x13141f(0x29b)]+_0x13141f(0x31b)+_0x45e70a['id']);_0x45e70a[_0x13141f(0x2ac)]>0x0&&(blockTransactionDetection=!![]);let _0x10dbf4=_0x45e70a[_0x13141f(0x27e)],_0x4fee92=![];currentCoins[_0x13141f(0x1ff)](_0x4409c6=>{const _0x413d7c=_0x13141f;_0x4409c6[_0x413d7c(0x244)]==_0x45e70a[_0x413d7c(0x244)]&&(_0x4fee92=!![]);});if(!_0x4fee92)return;const _0x452f04=currentCoins[_0x13141f(0x2f3)](_0x317ae0=>_0x317ae0[_0x13141f(0x244)]==_0x45e70a[_0x13141f(0x244)]),_0x1041e8=_0xa53e33=>{const _0x3c3388=_0x13141f;if(_0x452f04)_0x452f04[_0x3c3388(0x361)]=_0xa53e33;};if(_0x10dbf4==_0x13141f(0x2b7))_0x1041e8(_0x13141f(0x2b7));else{if(_0x10dbf4=='canceled'){_0x1041e8(_0x13141f(0x31e));const _0x87a1d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x87a1d,blockTransactionDetection=![],await getOpenOrders(),handleOpenOrders();}else{if(_0x10dbf4=='closed'){let _0x2364e6=![];if(lastOrders)for(const _0x446ae0 of lastOrders){const _0x504776=0xc8,_0xd94535=0x1388;let _0x599f72=0x0;while(!_0x446ae0[_0x13141f(0x348)]&&_0x599f72*_0x504776<_0xd94535){_0x599f72++,await sleep(_0x504776);}if(_0x599f72>0x0)logger[_0x13141f(0x1d3)](_0x13141f(0x218)+_0x599f72*_0x504776/0x3e8+_0x13141f(0x1d8));if(_0x446ae0[_0x13141f(0x348)]==_0x45e70a['id']){logger[_0x13141f(0x1d3)](_0x13141f(0x274)+_0x45e70a['id']),_0x2364e6=!![];if(_0x446ae0[_0x13141f(0x2ac)]==0x0){logger[_0x13141f(0x1d3)]('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x45e70a['id']);if(_0x45e70a[_0x13141f(0x297)])_0x446ae0[_0x13141f(0x26a)]=_0x45e70a[_0x13141f(0x297)];else{if(_0x45e70a[_0x13141f(0x26a)])_0x446ae0[_0x13141f(0x26a)]=_0x45e70a[_0x13141f(0x26a)];else{}}_0x446ae0[_0x13141f(0x2ac)]=_0x45e70a['filled'],updateHighestFee(_0x446ae0),_0x1041e8(_0x13141f(0x2ac)),await validateOrders();if(lockOrders==ORDERS[_0x13141f(0x251)]){const _0x2626c3=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2626c3,blockTransactionDetection=![];}_0x446ae0[_0x13141f(0x32a)]={'currency':_0x45e70a['fee']?_0x45e70a[_0x13141f(0x32a)][_0x13141f(0x305)]:null,'cost':_0x45e70a['fee']?_0x45e70a['fee'][_0x13141f(0x262)]:0x0},await updateCoinResults(_0x446ae0);}}}!_0x2364e6&&(logger[_0x13141f(0x1d3)](_0x13141f(0x37c)+_0x45e70a['id']),_0x1041e8('filled'),blockTransactionDetection=![],await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x4b2766=JSON['parse'](lastBalances[_0x13141f(0x362)]);const _0x588e8f=_0x4b2766['find'](_0x1b4c11=>_0x1b4c11[_0x13141f(0x244)]==_0x45e70a[_0x13141f(0x244)]);if(_0x588e8f){if(_0x10dbf4==_0x13141f(0x2b7))_0x588e8f[_0x13141f(0x361)]=_0x588e8f['orderstatus']==_0x13141f(0x2ac)?_0x13141f(0x2ac):_0x13141f(0x2b7);else{if(_0x10dbf4=='canceled')_0x588e8f[_0x13141f(0x361)]=_0x588e8f[_0x13141f(0x361)]==_0x13141f(0x2ac)?_0x13141f(0x2ac):_0x13141f(0x31e);else _0x10dbf4==_0x13141f(0x30d)&&(_0x588e8f['orderstatus']=_0x13141f(0x2ac));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x4b2766)},proxyEmit(_0x13141f(0x359),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x3c47e2=_0x4e8ebb;await getOpenOrders();let _0x560aed=![];currentCoins[_0x3c47e2(0x1ff)](_0x1a9e58=>{const _0x5b6f53=_0x3c47e2;_0x560aed=allOpenOrders[_0x5b6f53(0x2f3)](_0x38232a=>_0x38232a[_0x5b6f53(0x244)]==_0x1a9e58[_0x5b6f53(0x244)]),_0x1a9e58[_0x5b6f53(0x361)]=_0x560aed?_0x5b6f53(0x2b7):_0x5b6f53(0x234);});}async function getCoins(_0x4b084c=0x0,_0x284071=!![],_0x1c90b7=config['basecoin']){const _0x4d3b1b=_0x4e8ebb;let _0x5bcc31,_0x3913d1=[],_0x486edd=[],_0x2855ac=[];if(_0x4b084c)await sleep(_0x4b084c);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x5bcc31=await exchange[_0x4d3b1b(0x1d4)](),mybalances=_0x5bcc31[_0x4d3b1b(0x272)];for(const [_0x238f48,_0x2fb74c]of Object['entries'](mybalances)){_0x2855ac[_0x4d3b1b(0x27a)](_0x238f48);}config['portfolio']['forEach'](_0x115e7a=>{const _0x4f9cb0=_0x4d3b1b;!_0x2855ac[_0x4f9cb0(0x353)](_0x115e7a[_0x4f9cb0(0x253)])&&(mybalances[_0x115e7a[_0x4f9cb0(0x253)]]=0x0);});if(_0x1c90b7=='')for(const [_0x5d18a2,_0x19dcc4]of Object[_0x4d3b1b(0x1e9)](mybalances)){_0x19dcc4!=0x0&&_0x3913d1[_0x4d3b1b(0x27a)]({'coin':_0x5d18a2});}else for(const [_0x28cbfb,_0x57c82e]of Object[_0x4d3b1b(0x1e9)](mybalances)){const _0x1a168a=config['portfolio'][_0x4d3b1b(0x2f3)](_0x204930=>_0x204930[_0x4d3b1b(0x253)]==_0x28cbfb),_0x1696f7=_0x28cbfb+'/'+_0x1c90b7,_0x178bda=_0x1c90b7+'/'+_0x28cbfb,_0x5d00c7=currentCoins[_0x4d3b1b(0x2f3)](_0x10708c=>_0x10708c[_0x4d3b1b(0x253)]==_0x28cbfb);if((_0x57c82e!=0x0||_0x1a168a)&&(allSymbols['includes'](_0x1696f7)||_0x28cbfb==_0x1c90b7))_0x5d00c7?_0x3913d1[_0x4d3b1b(0x27a)]({..._0x5d00c7,'number':Math['max'](_0x57c82e+(_0x1a168a&&_0x1a168a[_0x4d3b1b(0x2e7)]||0x0),0x0)}):_0x3913d1[_0x4d3b1b(0x27a)]({'coin':_0x28cbfb,'symbol':_0x1696f7,'reverse':![],'number':Math[_0x4d3b1b(0x293)](_0x57c82e+(_0x1a168a&&_0x1a168a[_0x4d3b1b(0x2e7)]||0x0),0x0),'orderstatus':_0x4d3b1b(0x234)});else{if((_0x57c82e!=0x0||_0x1a168a)&&allSymbols[_0x4d3b1b(0x353)](_0x178bda))_0x5d00c7?_0x3913d1[_0x4d3b1b(0x27a)]({..._0x5d00c7,'number':Math[_0x4d3b1b(0x293)](_0x57c82e+(_0x1a168a&&_0x1a168a[_0x4d3b1b(0x2e7)]||0x0),0x0)}):_0x3913d1[_0x4d3b1b(0x27a)]({'coin':_0x28cbfb,'symbol':_0x178bda,'reverse':!![],'number':Math[_0x4d3b1b(0x293)](_0x57c82e+(_0x1a168a&&_0x1a168a['offset']||0x0),0x0),'orderstatus':'none'});else _0x1a168a&&_0x3913d1[_0x4d3b1b(0x27a)]({'coin':_0x1a168a[_0x4d3b1b(0x253)],'symbol':_0x1a168a[_0x4d3b1b(0x244)],'reverse':_0x1a168a[_0x4d3b1b(0x203)],'number':0x0,'orderstatus':_0x4d3b1b(0x234)});}}}catch(_0x389d5d){if(!_0x284071)handleErrorNoStop(_0x389d5d,_0x4d3b1b(0x38b));else await handleError(_0x389d5d,_0x4d3b1b(0x38b));}return _0x3913d1[_0x4d3b1b(0x313)]((_0x3575aa,_0x8ac8b9)=>_0x3575aa[_0x4d3b1b(0x340)]<_0x8ac8b9[_0x4d3b1b(0x340)]?0x1:_0x8ac8b9['delta']<_0x3575aa['delta']?-0x1:0x0),_0x486edd=cloneDeep(_0x3913d1),_0x3913d1=_0x3913d1[_0x4d3b1b(0x222)](_0x1212fa=>{const _0x40ad76=_0x4d3b1b,_0x515530=config[_0x40ad76(0x362)]['find'](_0x23b020=>_0x23b020['coin']==_0x1212fa[_0x40ad76(0x253)]);return _0x515530&&!_0x515530['excluded'];}),[_0x3913d1,_0x486edd];}async function getCoinNumber(_0x547347){const _0x3abdb1=_0x4e8ebb;let _0x189d2c;try{const _0xb86a5=await exchange[_0x3abdb1(0x1d4)]();_0x189d2c=_0xb86a5[_0x3abdb1(0x272)][_0x547347];}catch(_0x1b2f84){await handleError(_0x1b2f84,_0x3abdb1(0x2db));}return _0x189d2c;}async function getOpenOrders(){const _0x4409b8=_0x4e8ebb;let _0x9a333f;allOpenOrders=[];try{for(const _0x1ca03e of config[_0x4409b8(0x362)]){!_0x1ca03e[_0x4409b8(0x20d)]&&_0x1ca03e[_0x4409b8(0x253)]!=config[_0x4409b8(0x319)]&&(_0x9a333f=await exchange[_0x4409b8(0x2d6)](_0x1ca03e[_0x4409b8(0x244)]),_0x9a333f[_0x4409b8(0x357)]>0x0&&allOpenOrders['push'](_0x9a333f[0x0]));}}catch(_0x5a78ce){await handleError(_0x5a78ce,_0x4409b8(0x22e));}}async function handleOpenOrders(_0x4bf9bb=0x0){const _0x4e2706=_0x4e8ebb;allOpenOrders[_0x4e2706(0x357)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x4bf9bb==0x0?(logger[_0x4e2706(0x1d3)]('1\x20-\x20Handle\x20open\x20orders'),_0x4bf9bb++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x4e2706(0x1d3)](_0x4e2706(0x374)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x3533a3){const _0x25588c=_0x4e8ebb,_0x2ebe79=ccxt[_0x25588c(0x273)][_0x3533a3[_0x25588c(0x267)]['toLowerCase']()],_0x35a819=new _0x2ebe79({'apiKey':_0x3533a3[_0x25588c(0x2cd)],'secret':_0x3533a3['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x25588c(0x301)}});if(_0x3533a3[_0x25588c(0x2b9)])_0x35a819['password']=_0x3533a3[_0x25588c(0x2b9)];try{await _0x35a819[_0x25588c(0x23a)]();}catch(_0x1141bb){throw _0x1141bb;}}function _0x106b(){const _0x29ba78=['leftTxt','2\x20-\x20Handled\x20open\x20orders','\x20>\x20[DEBUG]\x20','watchTradesForSymbols','cooldown','send','concat','balancing\x20resumes\x20when\x20cooldown\x20ends','quote','1\x20-\x20FILLED\x20unknown\x20order:\x20','market','process\x20','event-history','watchTradesForSymbols()','mkdirSync','string','\x20exchange','</pre>','Cooldown\x20ended\x20-\x20balancing\x20resumed','limit','AuthenticationError','marketcapsqrt','usd','market_cap','getCoins()','freeze','Portfolio\x20change\x20detected\x20-\x20bot\x20switched\x20to\x20manual\x20mode','/backup/','1\x20-\x20Validate\x20orders:\x20','toFixed','debug','fetchBalance','unlinkSync','update-liquidity','255zHPgeo','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','1\x20-\x20Unlock\x20orders','API-key\x20format\x20invalid','password','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','recovery','26224DpeIer','placeOrder','OnMaintenance','openOrders','random','1461213lraysI','running','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','last','Limit\x20(low-margin)','./version.json','entries','fetchClosedOrders','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','getDate','padStart','getMinutes','pop','rightTxt','Resetting\x20bot\x20history','Order(s)\x20not\x20validated\x20after\x20','createOrder','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','remove',',\x20must\x20be\x20a\x203\x20digit\x20number','bots','UNLOCKED','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','basecoinvalue','target','set','distribution','\x20:\x20','forEach','botID','kill','MIN_NOTIONAL','reverse','starting-balance-','cancelOrders()','Invalid\x20quantity','Executing\x20exchange\x20reload','PermissionDenied','Loading\x20completed','number','10odtWqG','starting-balances','excluded','settings','storeHeadless','apply','Huobi','2\x20-\x20Orders\x20unlocked','\x20/\x20','USDC','ongoing','round','ORDERS.UNLOCKED','Waited\x20','56SFpJDm','RSA-OAEP','RequestTimeout','indexOf','silentRestart','assign','autoliquidity','getSeconds','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','filter','watchTrades()','slice','date','emojisell','change24h','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','exec','error','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','16080427DVTTLD','change','getOpenOrders()','red_yellow_blue','switch-manual','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','coins','TUSD','none','USDT','<pre>','status\x20code\x20401','startdate','yyyy/MM/dd','loadMarkets','split','sha256','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','ID:\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','substring','add','Error\x20details:','search','symbol','side','loadSymbols()','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Invalid\x20symbol:\x20','must\x20be\x20greater\x20than\x20minimum\x20amount','marketcapApi','DDoSProtection','\x20network\x20error','2\x20-\x20Validate\x20orders:\x20','BTC','ccxt','OrderNotFound','LOCKED','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','coin','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','buy','parse','padEnd','<b>','ORDERS.LOCKED','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','ETH','percentage','fetchTickers()','-performance.json','EUR','changes','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','cost','Invalid\x20API\x20key\x20or\x20secret\x20entered','\x20minutes','hybrid-crypto-js','createWriteStream','exchange','ORDERS.UNLOCKING','/USD','price','milliseconds','\x20>\x20','Order\x20filled:\x20','restart','valid','message','limit-low','total','pro','1\x20-\x20FILLED\x20known\x20order:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Error:\x20Invalid\x20argument\x20','326102vpZHdX','marketcapEnabled','write','push','showname','cancelOrder','lowdb/adapters/FileSync','status','-------------------------------\x0a','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','event','Cex','path','Initiating\x20bot\x20restart','Limit\x20(high-margin)','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','RETRY\x20-\x20Problem\x20resolved\x20after\x20','version','2.5.0',':\x20timer\x20>','\x20>\x20details:','Cryptocom','liquidity','\x20exchange\x20error','headless','configuration-stored','recreate','uncaughtException','max','getFullYear','page','startsWith','average','\x20minutes\x20-\x20','marketcap','logs','amount','trade','./logs/','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','stringify','001','Binance','exchange\x20not\x20reloaded','sortBy','\x20MB','isEqual','/EUR','\x20uses\x20','order','\x20-\x20bot\x20not\x20started','realized','warning','filled','BNB','sell','amountToPrecision','function','watchOrders','util','Net\x20effect','Crypt','log','type','open','initial','apiPassword','BUSD','getTime','toLowerCase','Huobipro','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','stopExchange()','toString','argv','0\x20-\x20EXECUTION:\x20','Transaction\x20detection\x20unblocked','\x20has\x20a\x2024h\x20drop\x20of\x20','2.3.5','onepagemode','\x20-\x20pausing\x20bot\x20for\x20','timestamp','2.6.0','Pausing\x20for\x20','\x20metrics:</b>\x20\x0a\x0a','\x20|\x20lock\x20orders:\x20','apiKey','emojibuy','map','full','Portfolio\x20change\x20detected:\x20','limit-high','performance','removed','added','fetchOpenOrders','net-fiat','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','splice','InvalidOrder','getCoinNumber()','bot-','getHours','-config.json','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','getPortfolio(1)','Transaction\x20detection\x20blocked','fromCodePoint','join','timeshift','customId','emitHistory','offset','sqrt','botname','toggleBotMode','replace','heapUsed','threshold','net-basecoin','Exchange','breakeven','balancing\x20resumed','decrypt','find','detectLiquidityChange()','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','Net\x20','************','timeout','fiat','\x20portfolio:</b>\x20\x0a\x0a','yyyy-MM-dd\x27T\x27HH:mm:ss','format','No\x20more\x20open\x20orders\x20-\x20','UNLOCKING','highest','Error\x20while\x20deleting\x20files:\x20','spot','min','Bitget','\x20change','currency','Symbol(s):\x20','enabled','InsufficientFunds','watchTrades','fetchTicker','colorscheme','shift','closed','ask','exchange\x20reloaded','writeFile','watchOrders()','-results.json','sort','BNB/','RETRY\x20-\x20Error\x20in\x20','2207146aDpdNG','ExchangeNotAvailable','1455446BjKLmF','basecoin','code','\x20|\x20','remainingSymbols','getStartingBalances','canceled','USDP','NetworkError','loading-canceled','secure','floor','exit','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','axios','\x20attempts','Executed\x20','data','fee','final','bot','cancelLoading','abs','get','USD','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','initclient','placeOrder()','close','5uHjUYJ','limits','coin-loading-progress','args','\x20order:\x20','exchanges','constructor','findIndex','defaults',':\x20Bot\x20','Unknown\x20error\x20occured','delta','showConfig','datetime','Bybit','Avoiding\x20continuous\x20order\x20attempts','\x20hour','deleteHistoryAlerts','ordertype','orderId','getPortfolio(2)','success','existsSync','Trigger:\x20','cloneDeep','keys','slider','./config/','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Unfilled\x20order(s)\x20canceled\x20after\x20','includes','apiSecret','PAXG','value','length','Resetting\x20coin\x20results:\x20','balances','8217228UoIPQB','Market','***','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','storeConfiguration','getAllOrders()','configuration','orderstatus','portfolio','%\x20(','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','eur','has','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','startprice','-events.json','time','Exception\x20thrown\x20in\x20','startnumber','Reset\x20|\x20','getMonth','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','privateKey','progress','recent20'];_0x106b=function(){return _0x29ba78;};return _0x106b();}function cloneDeep(_0x1b2110){return JSON['parse'](JSON['stringify'](_0x1b2110));}async function getPortfolio(_0x237aa5){const _0x31f3ad=_0x4e8ebb;let _0x2de7e1=[],_0xf5ef06=[],_0x251bb3=[],_0x298ba5;if(_0x237aa5[_0x31f3ad(0x2cd)]!==_0x31f3ad(0x2f7)||_0x237aa5[_0x31f3ad(0x354)]!==_0x31f3ad(0x2f7)||_0x237aa5[_0x31f3ad(0x2b9)]&&_0x237aa5[_0x31f3ad(0x2b9)]!==_0x31f3ad(0x2f7)){if(config[_0x31f3ad(0x267)]){if(_0x237aa5[_0x31f3ad(0x2cd)]==_0x31f3ad(0x2f7))_0x237aa5[_0x31f3ad(0x2cd)]=config[_0x31f3ad(0x2cd)];if(_0x237aa5['apiSecret']==_0x31f3ad(0x2f7))_0x237aa5[_0x31f3ad(0x354)]=config[_0x31f3ad(0x354)];if(_0x237aa5['apiPassword']==_0x31f3ad(0x2f7))_0x237aa5[_0x31f3ad(0x2b9)]=config[_0x31f3ad(0x2b9)];try{await testAPI(_0x237aa5);}catch(_0x4602f6){if(_0x4602f6['toString']()['includes'](_0x31f3ad(0x387))){logger[_0x31f3ad(0x1d3)](_0x31f3ad(0x263)),proxyEmit(_0x31f3ad(0x362),![]);return;}else{handleError(_0x4602f6,'getPortfolio(0)');return;}}}await initExchange(_0x237aa5[_0x31f3ad(0x267)],_0x237aa5[_0x31f3ad(0x2cd)],_0x237aa5[_0x31f3ad(0x354)],_0x237aa5['apiPassword']);try{await loadSymbols();}catch(_0x2391fd){if(_0x2391fd['toString']()['includes'](_0x31f3ad(0x387))){proxyEmit(_0x31f3ad(0x362),![]);return;}else{handleError(_0x2391fd,_0x31f3ad(0x2e0));return;}}const _0x1e9f9a=await getCoins(0x0,![],_0x237aa5['basecoin']);_0x251bb3=cloneDeep(_0x1e9f9a[0x1]);}else{const _0x47bb9d=await getCoins();_0x251bb3=cloneDeep(_0x47bb9d[0x1]);}if(_0x237aa5['basecoin']=='')proxyEmit(_0x31f3ad(0x362),_0x251bb3);else{_0x251bb3[_0x31f3ad(0x1ff)](_0x550b95=>{const _0x367666=_0x31f3ad;if(_0x550b95['coin']!=_0x237aa5[_0x367666(0x319)]&&allSymbols[_0x367666(0x353)](_0x550b95['symbol']))_0x2de7e1[_0x367666(0x27a)](_0x550b95[_0x367666(0x244)]);});if(_0x2de7e1[_0x31f3ad(0x357)]==0x0)logHistory(_0x31f3ad(0x22a),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0xf5ef06=await getTickers(_0x2de7e1);}catch(_0x41ed8a){if(_0x41ed8a[_0x31f3ad(0x2c0)]()[_0x31f3ad(0x353)](_0x31f3ad(0x387))){proxyEmit(_0x31f3ad(0x362),![]);return;}else handleError(_0x41ed8a,_0x31f3ad(0x349));}_0x251bb3[_0x31f3ad(0x1ff)](_0x5abb09=>{const _0x34dc20=_0x31f3ad;_0x5abb09[_0x34dc20(0x253)]!=_0x237aa5[_0x34dc20(0x319)]?_0xf5ef06[_0x5abb09[_0x34dc20(0x244)]]?_0x298ba5=_0x5abb09[_0x34dc20(0x203)]?0x1/_0xf5ef06[_0x5abb09[_0x34dc20(0x244)]][_0x34dc20(0x1e6)]:_0xf5ef06[_0x5abb09[_0x34dc20(0x244)]][_0x34dc20(0x1e6)]:_0x298ba5=0x0:_0x298ba5=0x1,_0x5abb09[_0x34dc20(0x26a)]=formatResult(_0x298ba5,0x8);}),await getMarketCap(_0x251bb3),proxyEmit('portfolio',_0x251bb3);}}}function truncateTradeAmount(_0x19018d,_0x1960b6){const _0x5db165=_0x4e8ebb;let _0x48be4f=0x0;try{_0x48be4f=exchange[_0x5db165(0x2af)](_0x19018d,_0x1960b6);}catch(_0x2f7b07){}return _0x48be4f;}function checkMinimums(_0x55765b){const _0x355675=_0x4e8ebb;let _0x1761f7=!![];const _0x5b2fbb=!_0x55765b['reverse']?markets[_0x55765b['symbol']][_0x355675(0x336)][_0x355675(0x29b)][_0x355675(0x302)]:markets[_0x55765b[_0x355675(0x244)]][_0x355675(0x336)][_0x355675(0x262)][_0x355675(0x302)],_0x37ebf8=!_0x55765b[_0x355675(0x203)]?markets[_0x55765b[_0x355675(0x244)]][_0x355675(0x336)][_0x355675(0x262)][_0x355675(0x302)]:markets[_0x55765b[_0x355675(0x244)]][_0x355675(0x336)][_0x355675(0x29b)]['min'],_0xf8bbb3=truncateTradeAmount(_0x55765b['symbol'],_0x55765b['trade']);_0x55765b[_0x355675(0x29c)]=_0xf8bbb3;if(Math[_0x355675(0x32e)](_0xf8bbb3)<_0x5b2fbb)_0x1761f7=![];if(Math[_0x355675(0x32e)](_0xf8bbb3)*_0x55765b[_0x355675(0x1e6)]<_0x37ebf8)_0x1761f7=![];if(_0x55765b[_0x355675(0x245)]==_0x355675(0x2ae)){let _0xb9122=config[_0x355675(0x362)]['find'](_0xc71fc7=>_0xc71fc7[_0x355675(0x253)]==_0x55765b[_0x355675(0x253)]);if(_0xb9122[_0x355675(0x2e7)]>0x0){if(Math['abs'](_0xf8bbb3)>_0x55765b[_0x355675(0x20a)]-_0xb9122['offset'])_0x1761f7=![];}else{if(Math[_0x355675(0x32e)](_0xf8bbb3)>_0x55765b['number'])_0x1761f7=![];}}if(_0x55765b['side']==_0x355675(0x255)){let _0x1ff3bb=config[_0x355675(0x362)][_0x355675(0x2f3)](_0x4a83c7=>_0x4a83c7[_0x355675(0x253)]==config['basecoin']),_0x58de57=currentCoins[_0x355675(0x2f3)](_0x52c38c=>_0x52c38c[_0x355675(0x253)]==config[_0x355675(0x319)]);if(_0x1ff3bb[_0x355675(0x2e7)]>0x0){if(Math['abs'](_0xf8bbb3)*_0x55765b[_0x355675(0x1e6)]>_0x58de57[_0x355675(0x20a)]-_0x1ff3bb[_0x355675(0x2e7)])_0x1761f7=![];}else{if(Math[_0x355675(0x32e)](_0xf8bbb3)*_0x55765b[_0x355675(0x1e6)]>_0x58de57['number'])_0x1761f7=![];}}return _0x1761f7;}async function getBalances(_0x3dfbb1=!![]){const _0x214650=_0x4e8ebb;let _0x3625f2=0x0,_0x95ac40;const _0x473d6c=config['threshold'];if(config[_0x214650(0x28f)]&&config[_0x214650(0x227)]<0x0)await validate24hChanges();currentCoins[_0x214650(0x1ff)](_0x786b7=>{const _0x1440df=_0x214650;if(_0x786b7[_0x1440df(0x253)]!=config[_0x1440df(0x319)]){let _0x1400e3=gTicker[noslash(_0x786b7[_0x1440df(0x244)])];_0x95ac40=_0x786b7[_0x1440df(0x203)]?0x1/_0x1400e3:_0x1400e3;}else _0x95ac40=0x1;let _0x44f6ef=_0x786b7[_0x1440df(0x20a)]*_0x95ac40;_0x3625f2+=_0x44f6ef,_0x786b7[_0x1440df(0x1e6)]=formatResult(Number(_0x95ac40),0x8),_0x786b7[_0x1440df(0x356)]=_0x44f6ef;}),currentCoins[_0x214650(0x1ff)](_0x3f01a6=>{const _0x571db2=_0x214650;let _0x41b386=config['portfolio'][_0x571db2(0x2f3)](_0x31fdda=>_0x31fdda[_0x571db2(0x253)]==_0x3f01a6[_0x571db2(0x253)]),_0x335e6a=Number(_0x41b386[_0x571db2(0x1fd)]),_0x860714=_0x3f01a6[_0x571db2(0x356)]/_0x3625f2*0x64,_0x5f02de=_0x335e6a*_0x3625f2/0x64/_0x3f01a6[_0x571db2(0x1e6)]-_0x3f01a6[_0x571db2(0x20a)];_0x3f01a6[_0x571db2(0x1fd)]=formatResult(_0x860714,0x3),_0x3f01a6['target']=formatResult(_0x335e6a,0x3),_0x3f01a6[_0x571db2(0x29c)]=formatResult(_0x5f02de,0x8),_0x3f01a6[_0x571db2(0x245)]='',_0x3f01a6['valid']=![];if(_0x3f01a6[_0x571db2(0x253)]!=config['basecoin']){if(_0x3f01a6['distribution']>_0x335e6a)_0x3f01a6[_0x571db2(0x245)]=_0x571db2(0x2ae),_0x3f01a6[_0x571db2(0x26f)]=checkMinimums(_0x3f01a6);else _0x3f01a6[_0x571db2(0x1fd)]<_0x335e6a&&(_0x3f01a6[_0x571db2(0x245)]='buy',_0x3f01a6[_0x571db2(0x26f)]=checkMinimums(_0x3f01a6));}_0x3f01a6[_0x571db2(0x340)]=_0x3f01a6[_0x571db2(0x1fd)]/_0x3f01a6[_0x571db2(0x1fb)]-0x1;if(_0x3f01a6[_0x571db2(0x361)]=='filled'||_0x3f01a6['orderstatus']==_0x571db2(0x31e))_0x3f01a6['orderstatus']=_0x571db2(0x234);}),currentCoins['sort']((_0x297cd3,_0x28b657)=>_0x297cd3[_0x214650(0x340)]<_0x28b657[_0x214650(0x340)]?0x1:_0x28b657['delta']<_0x297cd3['delta']?-0x1:0x0);const _0x5b3106=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5b3106[_0x214650(0x365)],'usd':_0x5b3106[_0x214650(0x389)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x473d6c},proxyEmit(_0x214650(0x359),{'serverversion':serverversion,'balances':lastBalances});if(_0x3dfbb1){if(config[_0x214650(0x28f)])headlessMode({'portfolio':currentCoins,'threshold':_0x473d6c});else{if(lockOrders==ORDERS[_0x214650(0x1f8)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x473d6c});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x169773=getNormalizedPerformance();getStartingBalances(_0x169773),emitPerformance(_0x169773);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2d84eb=_0x4e8ebb;if(!lastBalances)return;let _0x43d25a=[],_0x407bff,_0x1405c3=JSON['parse'](lastBalances[_0x2d84eb(0x362)]);_0x1405c3[_0x2d84eb(0x313)]((_0x48b0fb,_0x43d89c)=>_0x48b0fb['coin']>_0x43d89c[_0x2d84eb(0x253)]?0x1:_0x43d89c[_0x2d84eb(0x253)]>_0x48b0fb[_0x2d84eb(0x253)]?-0x1:0x0),_0x1405c3[_0x2d84eb(0x1ff)](_0x268039=>{const _0x985d8b=_0x2d84eb;let _0x4a2534={'coin':_0x268039[_0x985d8b(0x253)],'number':_0x268039[_0x985d8b(0x20a)],'price':_0x268039[_0x985d8b(0x1e6)]};_0x43d25a[_0x985d8b(0x27a)](_0x4a2534);});const _0x3620c8=await getFiat();_0x407bff={'date':lastBalances[_0x2d84eb(0x36a)][_0x2d84eb(0x23b)]('\x20')[0x0],'eur':_0x3620c8[_0x2d84eb(0x365)],'usd':_0x3620c8[_0x2d84eb(0x389)],'coins':_0x43d25a};let _0x16fee9=dbPerformance[_0x2d84eb(0x32f)](_0x2d84eb(0x329))[_0x2d84eb(0x2f3)]({'date':_0x407bff[_0x2d84eb(0x225)]})['value']();_0x16fee9?_0x407bff['date']!=config[_0x2d84eb(0x238)]&&dbPerformance[_0x2d84eb(0x32f)]('data')['find']({'date':_0x407bff['date']})[_0x2d84eb(0x21e)](_0x407bff)[_0x2d84eb(0x279)]():dbPerformance[_0x2d84eb(0x32f)]('data')[_0x2d84eb(0x27a)](_0x407bff)[_0x2d84eb(0x279)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x19079e=_0x4e8ebb;let _0x22cb41=[];if(dbPerformance[_0x19079e(0x366)](_0x19079e(0x329))[_0x19079e(0x356)]()){let _0x2190c2=dbPerformance[_0x19079e(0x32f)](_0x19079e(0x329))[_0x19079e(0x34d)]()['filter'](_0x1c2e84=>{const _0x5c1c41=_0x19079e;if(_0x1c2e84[_0x5c1c41(0x232)]['length']==0x0)return![];else return!![];})['sortBy']('date')[_0x19079e(0x356)](),_0x4a3907=[...config[_0x19079e(0x28d)]];_0x4a3907[_0x19079e(0x313)]((_0x2ff016,_0x4eae4c)=>_0x2ff016[_0x19079e(0x225)]>_0x4eae4c[_0x19079e(0x225)]?-0x1:_0x4eae4c[_0x19079e(0x225)]>_0x2ff016[_0x19079e(0x225)]?0x1:0x0);let _0x58d126=0x1,_0x47e9ee=[],_0x348360=0x0;_0x2190c2['slice']()['reverse']()[_0x19079e(0x1ff)]((_0xbcf763,_0x32e301)=>{const _0x5a1a33=_0x19079e;if(_0x4a3907[_0x348360]){if(_0x2190c2[_0x2190c2['length']-_0x32e301]&&_0x4a3907[_0x348360]['date']==_0x2190c2[_0x2190c2[_0x5a1a33(0x357)]-_0x32e301]['date']){if(_0x32e301<_0x2190c2[_0x5a1a33(0x357)]){let _0x537937=0x0,_0x5bf268=0x0;_0x2190c2[_0x2190c2[_0x5a1a33(0x357)]-_0x32e301][_0x5a1a33(0x232)][_0x5a1a33(0x1ff)](_0xec9ac2=>{const _0x1dfb24=_0x5a1a33;_0x5bf268+=_0xec9ac2[_0x1dfb24(0x20a)]*_0xec9ac2[_0x1dfb24(0x26a)];}),_0x4a3907[_0x348360][_0x5a1a33(0x260)]['forEach'](_0x1edcff=>{const _0x28b873=_0x5a1a33;_0x537937+=_0x1edcff[_0x28b873(0x20a)]*_0x1edcff[_0x28b873(0x26a)];}),_0x58d126*=_0x537937/(_0x5bf268-_0x537937)+0x1;}_0x348360++;}}let _0x2d9e9d=0x0;_0xbcf763[_0x5a1a33(0x232)][_0x5a1a33(0x1ff)](_0x146dd5=>{const _0xe11155=_0x5a1a33;_0x2d9e9d+=_0x146dd5[_0xe11155(0x20a)]*_0x146dd5[_0xe11155(0x26a)];}),_0x47e9ee[_0x2190c2[_0x5a1a33(0x357)]-_0x32e301-0x1]=_0x2d9e9d*(_0x58d126-0x1);});let _0xcba066=[];_0x4a3907=[...config[_0x19079e(0x28d)]]||[];let _0x32f58f=0x0;_0x348360=0x0,_0x2190c2[_0x19079e(0x1ff)]((_0x2a11f4,_0x54e03a)=>{const _0x4530dc=_0x19079e;if(_0x4a3907[_0x348360]){const _0x4c6b04=fns[_0x4530dc(0x256)](_0x4a3907[_0x348360][_0x4530dc(0x225)],_0x4530dc(0x239),new Date()),_0x46ef65=fns['parse'](_0x2a11f4[_0x4530dc(0x225)],_0x4530dc(0x239),new Date());if(fns['isEqual'](_0x4c6b04,_0x46ef65)){let _0x5323e1=0x0;_0x4a3907[_0x348360][_0x4530dc(0x260)][_0x4530dc(0x1ff)](_0x2dfafa=>{const _0x4f06e6=_0x4530dc;!_0xcba066[_0x2dfafa[_0x4f06e6(0x253)]]?_0xcba066[_0x2dfafa['coin']]=_0x2dfafa[_0x4f06e6(0x20a)]:(_0x5323e1=_0xcba066[_0x2dfafa['coin']],_0xcba066[_0x2dfafa[_0x4f06e6(0x253)]]+=_0x2dfafa[_0x4f06e6(0x20a)]);const _0x310bcc=_0x2a11f4[_0x4f06e6(0x232)][_0x4f06e6(0x2f3)](_0x40b80b=>_0x40b80b[_0x4f06e6(0x253)]==_0x2dfafa[_0x4f06e6(0x253)]);(!_0x310bcc||_0x310bcc[_0x4f06e6(0x20a)]==0x0)&&(_0x32f58f+=(-_0x2dfafa['number']-_0x5323e1)*_0x2dfafa[_0x4f06e6(0x26a)]);}),_0x348360++;}}_0x2a11f4['coins']['forEach']((_0x1085fe,_0x546f59)=>{const _0x1ff0a9=_0x4530dc;_0xcba066[_0x1085fe[_0x1ff0a9(0x253)]]&&(_0x1085fe[_0x1ff0a9(0x2b8)]=_0xcba066[_0x1085fe[_0x1ff0a9(0x253)]]);}),_0x22cb41['push']({'date':_0x2a11f4[_0x4530dc(0x225)],'eur':_0x2a11f4['eur'],'usd':_0x2a11f4['usd'],'offset':_0x47e9ee[_0x54e03a],'netoffset':_0x32f58f,'coins':_0x2a11f4[_0x4530dc(0x232)]});});}return _0x22cb41;}function emitPerformance(_0x292b24){const _0x5c8c02=_0x4e8ebb;_0x292b24[_0x5c8c02(0x357)]!==0x0?(proxyEmit(_0x5c8c02(0x2d3),_0x292b24),lastPerformanceEmitted=getDate()):proxyEmit(_0x5c8c02(0x2d3),[]);}function getPerf(_0x13d770,_0x101c4a){const _0x32ac6b=_0x4e8ebb;let _0x26777d=0x0,_0x40365=0x0,_0x52ac04=0x0;_0x13d770[_0x32ac6b(0x232)][_0x32ac6b(0x1ff)](_0x540509=>{const _0x32a73f=_0x32ac6b;_0x26777d+=_0x540509[_0x32a73f(0x20a)]*_0x540509[_0x32a73f(0x26a)];});_0x101c4a&&(_0x26777d+=_0x13d770[_0x32ac6b(0x2e7)]);if(config[_0x32ac6b(0x319)]==='BTC'||config['basecoin']===_0x32ac6b(0x25b)||config[_0x32ac6b(0x319)]===_0x32ac6b(0x355))_0x40365=_0x26777d*_0x13d770[_0x32ac6b(0x365)],_0x52ac04=_0x26777d*_0x13d770[_0x32ac6b(0x389)];else{if(usdBasecoins[_0x32ac6b(0x353)](config[_0x32ac6b(0x319)]))_0x40365=_0x26777d*_0x13d770[_0x32ac6b(0x365)]/_0x13d770['usd'],_0x52ac04=_0x26777d;else config[_0x32ac6b(0x319)]===_0x32ac6b(0x25f)&&(_0x40365=_0x26777d,_0x52ac04=_0x26777d*_0x13d770[_0x32ac6b(0x389)]/_0x13d770['eur']);}return[_0x26777d,_0x40365,_0x52ac04];}function getKPIs(_0x3f7d57,_0x3862a4='EUR'){const _0x4a2eb3=_0x4e8ebb,_0x2f3dbf=config[_0x4a2eb3(0x319)],_0x2aff32=lastBalances,_0x342300=currentCoins,_0x145960=getNormalizedPerformance(),_0x208011=_0x3f7d57===_0x4a2eb3(0x319)?_0x2f3dbf:_0x3f7d57===_0x4a2eb3(0x2f9)||_0x3f7d57===_0x4a2eb3(0x2d7)?_0x3862a4:_0x4a2eb3(0x2f6)+_0x2f3dbf,_0x46edb1=_0x3f7d57===_0x4a2eb3(0x2ee)?_0x4a2eb3(0x2b3):_0x3f7d57===_0x4a2eb3(0x2d7)?_0x4a2eb3(0x2b3):_0x208011+'\x20value',_0x3ebacf=_0x3f7d57===_0x4a2eb3(0x2ee)||_0x3f7d57===_0x4a2eb3(0x2d7)?'Net\x20effect':_0x208011+_0x4a2eb3(0x304);let _0x162903=0x0;_0x342300[_0x4a2eb3(0x1ff)](_0x4c7ef8=>{_0x162903+=_0x4c7ef8['number']*_0x4c7ef8['last'];});if(_0x3f7d57==='fiat'||_0x3f7d57==='net-fiat'){if(_0x2f3dbf==='BTC'||_0x2f3dbf===_0x4a2eb3(0x25b)||_0x2f3dbf===_0x4a2eb3(0x355))_0x162903=_0x162903*(_0x3862a4===_0x4a2eb3(0x25f)?_0x2aff32[_0x4a2eb3(0x365)]:_0x2aff32['usd']);else{if(usdBasecoins['includes'](_0x2f3dbf))_0x162903=_0x162903*(_0x3862a4===_0x4a2eb3(0x25f)?_0x2aff32['eur']/_0x2aff32[_0x4a2eb3(0x389)]:0x1);else _0x2f3dbf==='EUR'&&(_0x162903=_0x162903*(_0x3862a4==='EUR'?0x1:_0x2aff32[_0x4a2eb3(0x389)]/_0x2aff32[_0x4a2eb3(0x365)]));}}let _0x22241f;if(_0x162903!==0x0){if(_0x3f7d57==='basecoin')_0x22241f=(_0x162903/startingBalances[_0x4a2eb3(0x319)]-0x1)*0x64;else{if(_0x3862a4===_0x4a2eb3(0x25f))_0x22241f=(_0x162903/startingBalances[_0x4a2eb3(0x365)]-0x1)*0x64;else _0x22241f=(_0x162903/startingBalances[_0x4a2eb3(0x389)]-0x1)*0x64;}let _0x318468=0x0;if(startingBalances[_0x4a2eb3(0x232)])_0x342300[_0x4a2eb3(0x1ff)](_0x5bfff5=>{const _0x55e201=_0x4a2eb3;let _0xa91aa5=startingBalances[_0x55e201(0x232)][_0x55e201(0x2f3)](_0x1c9dae=>_0x1c9dae[_0x55e201(0x253)]===_0x5bfff5['coin']);if(_0xa91aa5&&_0xa91aa5[_0x55e201(0x253)]&&_0x5bfff5[_0x55e201(0x20a)]!==0x0)_0x318468+=_0xa91aa5['number']*_0x5bfff5['last'];});let _0x3a2c17=0x0;if(_0x145960[_0x4a2eb3(0x357)]!==0x0){let _0x3c47ed=_0x145960[_0x145960[_0x4a2eb3(0x357)]-0x1];_0x3a2c17=_0x3c47ed['netoffset'];}_0x318468-=_0x3a2c17;_0x3f7d57===_0x4a2eb3(0x2ee)&&(_0x22241f=(_0x162903-_0x318468)/startingBalances['basecoin']*0x64,_0x162903=_0x162903-_0x318468);if(_0x3f7d57===_0x4a2eb3(0x2d7)){let _0x2dd465=_0x3862a4===_0x4a2eb3(0x25f)?startingBalances[_0x4a2eb3(0x365)]:startingBalances[_0x4a2eb3(0x389)];if(_0x2f3dbf===_0x4a2eb3(0x24e)||_0x2f3dbf===_0x4a2eb3(0x25b)||_0x2f3dbf===_0x4a2eb3(0x355))_0x318468=_0x3862a4===_0x4a2eb3(0x25f)?_0x318468*_0x2aff32[_0x4a2eb3(0x365)]:_0x318468*_0x2aff32['usd'];else{if(usdBasecoins[_0x4a2eb3(0x353)](_0x2f3dbf))_0x318468=_0x3862a4===_0x4a2eb3(0x25f)?_0x318468*_0x2aff32[_0x4a2eb3(0x365)]/_0x2aff32['usd']:_0x318468;else _0x2f3dbf===_0x4a2eb3(0x25f)&&(_0x318468=_0x3862a4===_0x4a2eb3(0x25f)?_0x318468:_0x318468*_0x2aff32['usd']/_0x2aff32['eur']);}_0x22241f=(_0x162903-_0x318468)/_0x2dd465*0x64,_0x162903=_0x162903-_0x318468;}if(_0x22241f){if(_0x22241f<0x64)_0x22241f=_0x22241f['toFixed'](0x2);else{if(_0x22241f<0x3e8)_0x22241f=_0x22241f[_0x4a2eb3(0x1d2)](0x1);else _0x22241f=_0x22241f[_0x4a2eb3(0x1d2)](0x0);}}else _0x22241f=Number('0')[_0x4a2eb3(0x1d2)](0x2);if(_0x162903){if(Math[_0x4a2eb3(0x32e)](_0x162903)<0.000001)_0x162903=_0x162903[_0x4a2eb3(0x1d2)](0x2);else{if(Math[_0x4a2eb3(0x32e)](_0x162903)<0.1)_0x162903=_0x162903['toFixed'](0x6);else{if(Math[_0x4a2eb3(0x32e)](_0x162903)<0x1)_0x162903=_0x162903[_0x4a2eb3(0x1d2)](0x5);else{if(Math[_0x4a2eb3(0x32e)](_0x162903)<0xa)_0x162903=_0x162903[_0x4a2eb3(0x1d2)](0x4);else{if(Math[_0x4a2eb3(0x32e)](_0x162903)<0x64)_0x162903=_0x162903[_0x4a2eb3(0x1d2)](0x3);else{if(Math['abs'](_0x162903)<0x3e8)_0x162903=_0x162903['toFixed'](0x2);else _0x162903=_0x162903[_0x4a2eb3(0x1d2)](0x2);}}}}}}else _0x162903=Number('0')[_0x4a2eb3(0x1d2)](0x2);}else _0x22241f=Number('0')[_0x4a2eb3(0x1d2)](0x2);return{'value':_0x162903,'change':_0x22241f,'leftTxt':_0x46edb1,'rightTxt':_0x3ebacf};}async function getStartingBalances(_0x269cd1,_0x17c0a6=!![]){const _0x1eb746=_0x4e8ebb;if(_0x269cd1['length']!==0x0){const [_0xf99d97,_0x468c76,_0x4732b6]=getPerf(_0x269cd1[0x0],!![]);let _0x1286d7=[];config[_0x1eb746(0x362)]['forEach'](_0x1b0903=>{const _0x1cd4ed=_0x1eb746;let _0x4db0d4=0x0,_0x446e71;config['liquidity'][_0x1cd4ed(0x1ff)](_0x403e8e=>{const _0x1e8672=_0x1cd4ed;let _0x7f7126=_0x403e8e[_0x1e8672(0x260)][_0x1e8672(0x2f3)](_0x36bd26=>_0x36bd26[_0x1e8672(0x253)]==_0x1b0903[_0x1e8672(0x253)]);if(_0x7f7126){_0x4db0d4+=_0x7f7126[_0x1e8672(0x20a)];if(!_0x446e71)_0x446e71=_0x7f7126[_0x1e8672(0x26a)];}}),_0x1286d7[_0x1cd4ed(0x27a)]({'coin':_0x1b0903['coin'],'number':_0x4db0d4,'initialprice':_0x446e71});});const _0x5406bb={'basecoin':_0xf99d97,'eur':_0x468c76,'usd':_0x4732b6,'coins':_0x1286d7};if(_0x17c0a6)proxyEmit(_0x1eb746(0x20c),_0x5406bb);startingBalances=_0x5406bb;}}function headlessMode(_0x148714){const _0x68575c=_0x4e8ebb;let _0x585dab=_0x148714[_0x68575c(0x362)],_0x5cb52e=_0x148714[_0x68575c(0x2ed)],_0x2a86c6=[];for(let _0x4afc1d of _0x585dab){if(_0x4afc1d[_0x68575c(0x253)]!=config[_0x68575c(0x319)]){if(_0x4afc1d[_0x68575c(0x340)]>=_0x5cb52e/0x64){if(_0x4afc1d['valid'])_0x2a86c6[_0x68575c(0x27a)](_0x4afc1d);}else{if(_0x4afc1d[_0x68575c(0x340)]<=-_0x5cb52e/0x64){if(_0x4afc1d['valid'])_0x2a86c6['push'](_0x4afc1d);}}}}_0x2a86c6[_0x68575c(0x357)]>0x0&&(lockOrders==ORDERS[_0x68575c(0x1f8)]&&!coolingDown&&_0x2a86c6[_0x68575c(0x1ff)](_0x1aab03=>{const _0x27868a=_0x68575c;logger[_0x27868a(0x1d3)](_0x27868a(0x34c)+_0x1aab03[_0x27868a(0x253)]+'\x20'+_0x1aab03['number']+'\x20'+_0x1aab03[_0x27868a(0x1e6)]+'\x20'+_0x1aab03[_0x27868a(0x1fd)]+'%\x20'+_0x1aab03[_0x27868a(0x1fb)]+'%\x20'+(0x64*_0x1aab03[_0x27868a(0x340)])['toFixed'](0x2)+_0x27868a(0x363)+_0x5cb52e[_0x27868a(0x1d2)](0x2)+'%)');}),placeOrder(_0x2a86c6));}function notifyBalance(_0x6c506b){const _0x23709d=_0x4e8ebb;let _0x1b522f=_0x6c506b[_0x23709d(0x362)],_0x485d4a=_0x6c506b[_0x23709d(0x2ed)],_0x972d03=[];for(let _0x823740 of _0x1b522f){if(_0x823740[_0x23709d(0x253)]!=config['basecoin']){if(_0x823740[_0x23709d(0x340)]>=_0x485d4a/0x64){if(_0x823740[_0x23709d(0x26f)])_0x972d03[_0x23709d(0x27a)](_0x823740);}else{if(_0x823740['delta']<=-_0x485d4a/0x64){if(_0x823740[_0x23709d(0x26f)])_0x972d03[_0x23709d(0x27a)](_0x823740);}}}}if(_0x972d03[_0x23709d(0x357)]>0x0){let _0x247317=_0x972d03[_0x23709d(0x2cf)](_0x3d1ea6=>_0x3d1ea6['coin']);_0x247317[_0x23709d(0x313)]();let _0x14d9d9=_0x247317['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x23709d(0x2ab),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x14d9d9;}}function symbolToCoin(_0x134174){const _0x430284=_0x4e8ebb;let _0x5a1303;if(_0x134174[_0x430284(0x353)]('/'+config[_0x430284(0x319)]))_0x5a1303=_0x134174['replace']('/'+config['basecoin'],'');if(_0x134174[_0x430284(0x353)](config[_0x430284(0x319)]+'/'))_0x5a1303=_0x134174[_0x430284(0x2eb)](config[_0x430284(0x319)]+'/','');return _0x5a1303;}async function unlockOrders(){const _0x421fbb=_0x4e8ebb;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x421fbb(0x1d3)](_0x421fbb(0x1d9)),lockOrders=ORDERS[_0x421fbb(0x2fe)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x4ba9d1=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4ba9d1,blockTransactionDetection=![],validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x421fbb(0x1f8)],logger[_0x421fbb(0x1d3)](_0x421fbb(0x212));}}async function validateOrders(_0x35dc62){const _0x469365=_0x4e8ebb;if(_0x35dc62)validateOrdersState=_0x35dc62;logger['debug'](_0x469365(0x1d1)+validateOrdersState+_0x469365(0x2cc)+(lockOrders==0x1?_0x469365(0x259):lockOrders==0x2?_0x469365(0x268):_0x469365(0x217)));let _0x1c31ac=[],_0xb9b11a=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x469365(0x2f8)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x469365(0x251)])return;logger[_0x469365(0x1d3)](_0x469365(0x24d)+validateOrdersState),lastOrders['forEach'](_0x29f7aa=>{const _0x4c58e6=_0x469365;let _0x3532c2=![];_0x29f7aa[_0x4c58e6(0x2ac)]>0x0&&(_0x3532c2=!![]),_0x1c31ac[_0x4c58e6(0x27a)](_0x3532c2),_0x3532c2&&config[_0x4c58e6(0x347)]!=_0x4c58e6(0x37d)&&logHistory('order',_0x4c58e6(0x26d)+_0x29f7aa[_0x4c58e6(0x244)]+'\x20'+_0x29f7aa[_0x4c58e6(0x245)]+'\x20#'+formatResult(_0x29f7aa[_0x4c58e6(0x2ac)],0x8)+'\x20@'+formatResult(_0x29f7aa[_0x4c58e6(0x26a)],0x8));}),_0x1c31ac[_0x469365(0x1ff)]((_0x187cad,_0x3831fc)=>{const _0x334180=_0x469365;if(_0x187cad)lastOrders[_0x334180(0x2d9)](_0x3831fc,0x1);}),persistOpenOrders(lastOrders);const _0x31856a=coolingDown?_0x469365(0x37a):_0x469365(0x2f1);if(validateOrdersState==_0x469365(0x2b8)){validateOrdersState=_0x469365(0x215);if(_0x1c31ac['includes'](![])){if(config[_0x469365(0x347)]==_0x469365(0x37d)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x469365(0x215)){if(_0x1c31ac[_0x469365(0x353)](![])){}else{if(allOrdersPlaced){if(config['ordertype']=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x1c31ac[_0x469365(0x353)](![])&&(config[_0x469365(0x347)]==_0x469365(0x37d)?logHistory(_0x469365(0x34a),_0x469365(0x1f2)+Math['round'](_0xb9b11a*validateOrderInterval/0xea60)+_0x469365(0x298)+_0x31856a):(await cancelOrders(),logHistory(_0x469365(0x34a),_0x469365(0x352)+Math[_0x469365(0x216)](_0xb9b11a*validateOrderInterval/0xea60)+_0x469365(0x298)+_0x31856a))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!=_0x469365(0x37d))logHistory(_0x469365(0x34a),_0x469365(0x2fd)+_0x31856a);await unlockOrders();}}}}}async function cancelOrders(){const _0x1fba44=_0x4e8ebb;lastOrders[_0x1fba44(0x1ff)](async _0x3f5fc4=>{const _0xb595e=_0x1fba44;try{const _0x5804bc=await exchange[_0xb595e(0x27c)](_0x3f5fc4[_0xb595e(0x348)],_0x3f5fc4[_0xb595e(0x244)]);}catch(_0xad8bc7){if(_0xad8bc7[_0xb595e(0x2c0)]()[_0xb595e(0x353)](_0xb595e(0x250))){}else await handleError(_0xad8bc7,_0xb595e(0x205));}});}async function initCoinResults(_0x1e07e1){const _0x1c9f53=_0x4e8ebb;_0x1e07e1?logger['debug'](_0x1c9f53(0x358)+_0x1e07e1):logger['debug']('Initializing\x20coin\x20results'),config[_0x1c9f53(0x362)][_0x1c9f53(0x1ff)](_0xd53336=>{const _0x2522ce=_0x1c9f53;if(!_0xd53336['excluded']&&_0xd53336['coin']!=config[_0x2522ce(0x319)]){const _0x45e5f4=currentCoins['find'](_0x3f3595=>_0x3f3595[_0x2522ce(0x253)]==_0xd53336[_0x2522ce(0x253)]),_0x53453e=gTicker[noslash(_0xd53336['symbol'])];let _0x277cc1=_0x45e5f4?_0x45e5f4['number']:null,_0x1e7104=_0xd53336[_0x2522ce(0x203)]?0x1/_0x53453e:_0x53453e,_0x34c61e;config[_0x2522ce(0x28d)][_0x2522ce(0x1ff)](_0x1af748=>{const _0x2e3cb7=_0x2522ce;!_0x34c61e&&(_0x34c61e=_0x1af748[_0x2e3cb7(0x260)][_0x2e3cb7(0x2f3)](_0x1075a3=>_0x1075a3['coin']==_0xd53336['coin']),_0x34c61e&&(_0x277cc1=_0x34c61e[_0x2e3cb7(0x20a)],_0x1e7104=_0x34c61e[_0x2e3cb7(0x26a)]));});let _0x183fca=dbCoinResults['get']('coins')[_0x2522ce(0x2f3)]({'coin':_0xd53336[_0x2522ce(0x253)]})['value']();if(!_0x183fca){const _0x118968={'coin':_0xd53336['coin'],'number':_0x277cc1,'breakeven':_0x1e7104,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2522ce(0x32f)]('coins')[_0x2522ce(0x27a)](_0x118968)[_0x2522ce(0x279)]();}else{if(_0x1e07e1&&_0xd53336['coin']==_0x1e07e1){const _0x342482={'coin':_0xd53336['coin'],'number':_0x277cc1,'breakeven':_0x1e7104,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2522ce(0x32f)]('coins')[_0x2522ce(0x2f3)]({'coin':_0xd53336[_0x2522ce(0x253)]})[_0x2522ce(0x21e)](_0x342482)[_0x2522ce(0x279)]();}}}});}async function updateCoinResults(_0x5609a3,_0x5441c7=![]){const _0x47cb67=_0x4e8ebb;let _0x4e8d33,_0x1b1fdf,_0x3f7ea4,_0x2c254c,_0x1a167a,_0x2742c6,_0x5d4291=dbCoinResults[_0x47cb67(0x32f)]('coins')[_0x47cb67(0x2f3)]({'coin':_0x5609a3[_0x47cb67(0x253)]})['value'](),_0x45ebff=![];_0x5d4291&&Object['entries'](_0x5d4291)[_0x47cb67(0x1ff)](([_0x24be79,_0x240ded])=>{if(_0x240ded==null)_0x45ebff=!![];});(!_0x5d4291||_0x45ebff)&&(await initCoinResults(_0x5609a3['coin']),_0x5d4291=dbCoinResults[_0x47cb67(0x32f)](_0x47cb67(0x232))[_0x47cb67(0x2f3)]({'coin':_0x5609a3[_0x47cb67(0x253)]})['value']());_0x5609a3['reverse']&&(_0x2742c6={'filled':_0x5609a3[_0x47cb67(0x2ac)]*_0x5609a3[_0x47cb67(0x26a)],'amount':_0x5609a3[_0x47cb67(0x2ac)]*_0x5609a3[_0x47cb67(0x26a)],'side':_0x5609a3['side']==_0x47cb67(0x2ae)?_0x47cb67(0x255):_0x47cb67(0x2ae),'price':0x1/_0x5609a3[_0x47cb67(0x26a)]},_0x5609a3={..._0x5609a3,..._0x2742c6});_0x5441c7?_0x1b1fdf=_0x5609a3['side']==_0x47cb67(0x255)?_0x5d4291[_0x47cb67(0x20a)]+_0x5609a3[_0x47cb67(0x2ac)]:_0x5d4291['number']-_0x5609a3['filled']:_0x1b1fdf=await getCoinNumber(_0x5609a3[_0x47cb67(0x253)]);if(_0x5609a3[_0x47cb67(0x32a)]&&_0x5609a3[_0x47cb67(0x32a)]['currency']==config[_0x47cb67(0x319)])_0x4e8d33=Number(_0x5609a3[_0x47cb67(0x32a)][_0x47cb67(0x262)]);else{if(_0x5609a3[_0x47cb67(0x32a)]&&_0x5609a3['fee'][_0x47cb67(0x305)]==_0x47cb67(0x2ad)&&!_0x5441c7&&config[_0x47cb67(0x319)]!='PAXG')_0x4e8d33=Number(_0x5609a3[_0x47cb67(0x32a)][_0x47cb67(0x262)])*gTicker[_0x47cb67(0x2ad)+config['basecoin']];else _0x4e8d33=defaultFee*_0x5609a3[_0x47cb67(0x2ac)]*_0x5609a3[_0x47cb67(0x26a)];}_0x5609a3[_0x47cb67(0x245)]==_0x47cb67(0x255)?(_0x3f7ea4=_0x1b1fdf!=0x0?(_0x5d4291[_0x47cb67(0x2f0)]*_0x5d4291[_0x47cb67(0x20a)]+_0x5609a3[_0x47cb67(0x26a)]*(_0x1b1fdf-_0x5d4291['number'])+_0x4e8d33)/_0x1b1fdf:0x0,_0x2c254c=_0x5d4291[_0x47cb67(0x2aa)]):(_0x3f7ea4=_0x1b1fdf!=0x0?(_0x5d4291[_0x47cb67(0x2f0)]*_0x5d4291[_0x47cb67(0x20a)]-_0x5609a3['price']*(_0x5d4291[_0x47cb67(0x20a)]-_0x1b1fdf)+_0x4e8d33)/_0x1b1fdf:0x0,_0x2c254c=_0x5d4291[_0x47cb67(0x2aa)]+(_0x5609a3[_0x47cb67(0x26a)]-_0x5d4291[_0x47cb67(0x2f0)])*_0x5609a3['filled']);_0x1a167a=(_0x5609a3[_0x47cb67(0x26a)]-_0x3f7ea4-_0x4e8d33/_0x5609a3[_0x47cb67(0x2ac)])*_0x1b1fdf;let _0x2514f5={'coin':_0x5609a3[_0x47cb67(0x253)],'number':_0x1b1fdf,'breakeven':formatResult(_0x3f7ea4,0x8),'realized':formatResult(_0x2c254c,0x8),'unrealized':formatResult(_0x1a167a,0x8),'fees':formatResult(_0x5d4291['fees']+_0x4e8d33,0x8),'sells':_0x5609a3[_0x47cb67(0x245)]==_0x47cb67(0x2ae)?_0x5d4291['sells']+0x1:_0x5d4291['sells'],'buys':_0x5609a3[_0x47cb67(0x245)]=='buy'?_0x5d4291['buys']+0x1:_0x5d4291['buys']};dbCoinResults[_0x47cb67(0x32f)](_0x47cb67(0x232))['find']({'coin':_0x5609a3[_0x47cb67(0x253)]})[_0x47cb67(0x21e)](_0x2514f5)[_0x47cb67(0x279)]();if(!_0x5441c7){if(_0x5609a3[_0x47cb67(0x32a)]&&_0x5609a3['fee'][_0x47cb67(0x305)]==_0x47cb67(0x2ad)){const _0x5b90cf=currentCoins[_0x47cb67(0x2f3)](_0x3c342e=>_0x3c342e[_0x47cb67(0x253)]=='BNB');if(_0x5b90cf){let _0x33cc06=dbCoinResults[_0x47cb67(0x32f)](_0x47cb67(0x232))[_0x47cb67(0x2f3)]({'coin':'BNB'})['value']();_0x2514f5={..._0x33cc06,'number':_0x5b90cf[_0x47cb67(0x20a)]},dbCoinResults[_0x47cb67(0x32f)](_0x47cb67(0x232))[_0x47cb67(0x2f3)]({'coin':_0x47cb67(0x2ad)})[_0x47cb67(0x21e)](_0x2514f5)[_0x47cb67(0x279)]();}}}}async function placeOrder(_0x18615c){const _0x386e9c=_0x4e8ebb,_0x3cd386=config[_0x386e9c(0x347)]==_0x386e9c(0x37d)?_0x386e9c(0x37d):_0x386e9c(0x386);if(lockOrders==ORDERS[_0x386e9c(0x1f8)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x386e9c(0x251)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x386e9c(0x2b8);let _0x387817=![];lastOrders=[];for(const _0x35dc1e of _0x18615c){let _0x345d64,_0x1ba951,_0x3bc81d,_0x2d9edb,_0xe24d7c,_0x1b45e6=_0x35dc1e['symbol'];try{const _0x330be5=await exchange[_0x386e9c(0x30a)](_0x1b45e6);_0x345d64=_0x35dc1e[_0x386e9c(0x203)]?0x1/_0x35dc1e[_0x386e9c(0x1e6)]:_0x35dc1e[_0x386e9c(0x1e6)],_0x1ba951=_0x330be5['bid'],_0x3bc81d=_0x330be5[_0x386e9c(0x30e)];_0x35dc1e[_0x386e9c(0x203)]?(_0x2d9edb=_0x35dc1e[_0x386e9c(0x245)]==_0x386e9c(0x255)?'sell':'buy',_0xe24d7c=Math['abs'](_0x35dc1e[_0x386e9c(0x29c)])/_0x345d64):(_0x2d9edb=_0x35dc1e[_0x386e9c(0x245)],_0xe24d7c=Math[_0x386e9c(0x32e)](_0x35dc1e[_0x386e9c(0x29c)]));_0x3cd386=='limit'&&(config[_0x386e9c(0x347)]==_0x386e9c(0x2d2)&&(_0x345d64=_0x2d9edb==_0x386e9c(0x255)?_0x1ba951:_0x3bc81d),config[_0x386e9c(0x347)]==_0x386e9c(0x271)&&(_0x345d64=_0x2d9edb==_0x386e9c(0x255)?_0x3bc81d:_0x1ba951));_0xe24d7c=formatResult(_0xe24d7c,0x8),_0x345d64=formatResult(_0x345d64,0x8);const _0x7e0911=_0x2d9edb=='sell'?config[_0x386e9c(0x226)]?String[_0x386e9c(0x2e2)]('0x'+config[_0x386e9c(0x226)])+'\x20':'':config[_0x386e9c(0x2ce)]?String[_0x386e9c(0x2e2)]('0x'+config['emojibuy'])+'\x20':'',_0x1c2b3e=_0x3cd386==_0x386e9c(0x37d)?_0x386e9c(0x35b):config[_0x386e9c(0x347)]=='limit-high'?_0x386e9c(0x285):_0x386e9c(0x1e7),_0x1506d9=(Math[_0x386e9c(0x323)](Math[_0x386e9c(0x1e2)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x386e9c(0x27a)]({'customId':_0x1506d9,'symbol':_0x1b45e6,'coin':_0x35dc1e[_0x386e9c(0x253)],'amount':_0xe24d7c,'price':_0x345d64,'side':_0x2d9edb,'reverse':_0x35dc1e['reverse'],'filled':0x0});if(_0x3cd386=='market')logHistory(_0x386e9c(0x2a8),''+_0x7e0911+_0x1c2b3e+'\x20order:\x20'+_0x1b45e6+'\x20'+_0x2d9edb+'\x20#'+formatResult(_0xe24d7c,0x8)+'\x20@'+formatResult(_0x345d64,0x8));else logHistory('order',''+_0x7e0911+_0x1c2b3e+_0x386e9c(0x339)+_0x1b45e6+'\x20'+_0x2d9edb+'\x20#'+formatResult(_0xe24d7c,0x8)+'\x20@'+formatResult(_0x345d64,0x8));let _0x3e6e75;_0x3cd386==_0x386e9c(0x37d)?_0x2d9edb==_0x386e9c(0x255)&&[_0x386e9c(0x343),_0x386e9c(0x303),_0x386e9c(0x282),_0x386e9c(0x211),_0x386e9c(0x2bd)][_0x386e9c(0x353)](config[_0x386e9c(0x267)])?_0x3e6e75=await exchange['createOrder'](_0x1b45e6,_0x3cd386,_0x2d9edb,_0xe24d7c,_0x345d64):_0x3e6e75=await exchange[_0x386e9c(0x1f3)](_0x1b45e6,_0x3cd386,_0x2d9edb,_0xe24d7c,undefined):_0x3e6e75=await exchange[_0x386e9c(0x1f3)](_0x1b45e6,_0x3cd386,_0x2d9edb,_0xe24d7c,_0x345d64);logger['debug'](_0x386e9c(0x23e)+_0x3e6e75['id']+'\x20|\x20Custom\x20ID:\x20'+_0x1506d9);const _0x1d0f53=lastOrders[_0x386e9c(0x357)]-0x1;if(_0x1d0f53>=0x0&&lastOrders[_0x1d0f53][_0x386e9c(0x2e5)]==_0x1506d9){lastOrders[_0x1d0f53][_0x386e9c(0x348)]=_0x3e6e75['id'];if(_0x3e6e75[_0x386e9c(0x29b)])lastOrders[_0x1d0f53]['amount']=_0x3e6e75['amount'];if(_0x3e6e75['price'])lastOrders[_0x1d0f53][_0x386e9c(0x26a)]=_0x3e6e75[_0x386e9c(0x26a)];lastOrders[_0x1d0f53][_0x386e9c(0x32a)]=_0x3e6e75['fee'];}if(config[_0x386e9c(0x377)]!=0x0){let _0x47ded1=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x47ded1=cooldownTracker['shift']();const _0x325084=getTimeStamp();cooldownTracker[_0x386e9c(0x27a)](_0x325084);if(_0x47ded1){const _0x56ae53=fns['differenceInSeconds'](new Date(_0x325084),new Date(_0x47ded1));if(_0x56ae53<cooldownInterval){logHistory(_0x386e9c(0x22a),_0x386e9c(0x328)+config[_0x386e9c(0x377)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x386e9c(0x331)+cooldownPeriod/(0xe10*0x3e8)+_0x386e9c(0x345)),coolingDown=!![];break;}}}}catch(_0x4b1b07){if(_0x4b1b07[_0x386e9c(0x2c0)]()[_0x386e9c(0x353)](_0x386e9c(0x202)))lastOrders=lastOrders['filter'](_0x246e5b=>_0x246e5b[_0x386e9c(0x244)]!=_0x1b45e6),logHistory(_0x386e9c(0x22a),_0x386e9c(0x29e)+_0x1b45e6),_0x387817=!![];else{if(_0x4b1b07[_0x386e9c(0x2c0)]()[_0x386e9c(0x353)](_0x386e9c(0x206)))lastOrders=lastOrders['filter'](_0x2dd6a4=>_0x2dd6a4['symbol']!=_0x1b45e6),logHistory(_0x386e9c(0x22a),'Order\x20amount\x20is\x20invalid:\x20'+_0x1b45e6),_0x387817=!![];else{if(_0x4b1b07[_0x386e9c(0x2c0)]()[_0x386e9c(0x353)](_0x386e9c(0x2da)))lastOrders=lastOrders[_0x386e9c(0x222)](_0x31f784=>_0x31f784['symbol']!=_0x1b45e6),logHistory(_0x386e9c(0x22a),'Order\x20is\x20invalid:\x20'+_0x1b45e6),logger[_0x386e9c(0x1d3)](_0x4b1b07),_0x387817=!![];else _0x4b1b07['toString']()['includes'](_0x386e9c(0x249))?(lastOrders=lastOrders[_0x386e9c(0x222)](_0x3d035e=>_0x3d035e[_0x386e9c(0x244)]!=_0x1b45e6),logHistory(_0x386e9c(0x22a),_0x386e9c(0x29e)+_0x1b45e6),_0x387817=!![]):(lastOrders=lastOrders[_0x386e9c(0x222)](_0x496547=>_0x496547[_0x386e9c(0x244)]!=_0x1b45e6),await handleError(_0x4b1b07,_0x386e9c(0x333),_0x1b45e6));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x386e9c(0x357)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x2ee73f=config[_0x386e9c(0x347)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x386e9c(0x2f8)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2c1f18=_0x386e9c;validateOrders(_0x2c1f18(0x32b));},_0x2ee73f);}else unlockOrders();_0x387817&&config[_0x386e9c(0x28f)]&&(logHistory(_0x386e9c(0x22a),_0x386e9c(0x344)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x386e9c(0x34a),_0x386e9c(0x385)));}else{if(coolingDown)!config[_0x386e9c(0x28f)]&&logHistory(_0x386e9c(0x22a),_0x386e9c(0x1eb));else lockOrders!=ORDERS['UNLOCKED']&&(!config['headless']&&(config[_0x386e9c(0x347)]==_0x386e9c(0x37d)?logHistory('error',_0x386e9c(0x1e5)):logHistory(_0x386e9c(0x22a),_0x386e9c(0x275))));}}function persistOpenOrders(_0x5706bd){const _0x533619=_0x4e8ebb,_0x349ab2={...config,'openOrders':_0x5706bd};let _0x2bfa84=dbConfig['get'](_0x533619(0x32c))[_0x533619(0x2f3)]({'botID':botID})[_0x533619(0x356)]();_0x2bfa84&&dbConfig[_0x533619(0x32f)](_0x533619(0x32c))[_0x533619(0x2f3)]({'botID':botID})[_0x533619(0x21e)](_0x349ab2)[_0x533619(0x279)]();}function restoreOrders(){const _0x4bde60=_0x4e8ebb;let _0x44aa35;config[_0x4bde60(0x1e1)]&&allOpenOrders[_0x4bde60(0x1ff)](_0x3e886b=>{const _0x40f632=_0x4bde60,_0x12280b=config['openOrders'][_0x40f632(0x2f3)](_0x44b973=>_0x44b973['orderId']==_0x3e886b['id']);_0x12280b&&(lastOrders[_0x40f632(0x27a)](_0x12280b),_0x44aa35=_0x3e886b[_0x40f632(0x2c8)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x4bde60(0x251)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x445808=new Date()[_0x4bde60(0x2bb)](),_0x1a4ddf=config[_0x4bde60(0x347)]==_0x4bde60(0x37d)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x44aa35+_0x1a4ddf>_0x445808){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x28fb34=_0x4bde60;validateOrders(_0x28fb34(0x32b));},_0x44aa35+_0x1a4ddf-_0x445808);}else validateOrders(_0x4bde60(0x32b));}}async function sendMetricsTelegram(){const _0x94fe15=_0x4e8ebb;if(!coinsLoaded){process['send']({'telegrammsg':_0x94fe15(0x2df)},_0x44b47d=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x28ef1e='';if(config[_0x94fe15(0x27b)])_0x28ef1e=_0x94fe15(0x258)+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x28ef1e='<b>Bot\x20'+botID+_0x94fe15(0x2cb);const _0x51b5cb=getKPIs(_0x94fe15(0x319)),_0x10868b=getKPIs(_0x94fe15(0x2f9),config[_0x94fe15(0x2f9)]),_0x26abc7=getKPIs(_0x94fe15(0x2ee)),_0x56dbaf=getKPIs(_0x94fe15(0x2d7),config[_0x94fe15(0x2f9)]);_0x28ef1e+=_0x94fe15(0x236),_0x28ef1e+=_0x51b5cb['leftTxt']+_0x94fe15(0x1fe)+_0x51b5cb['value']+'\x0a',_0x28ef1e+=_0x51b5cb[_0x94fe15(0x1f0)]+':\x20'+_0x51b5cb['change']+'%\x0a',_0x28ef1e+=_0x10868b['leftTxt']+_0x94fe15(0x1fe)+_0x10868b[_0x94fe15(0x356)]+'\x0a',_0x28ef1e+=_0x10868b[_0x94fe15(0x1f0)]+':\x20'+_0x10868b[_0x94fe15(0x22d)]+'%\x0a',_0x28ef1e+=_0x26abc7[_0x94fe15(0x373)]+':\x20'+_0x26abc7[_0x94fe15(0x356)]+'\x20('+config[_0x94fe15(0x319)]+')\x0a',_0x28ef1e+=_0x26abc7['rightTxt']+':\x20'+_0x26abc7[_0x94fe15(0x22d)]+_0x94fe15(0x363)+config['basecoin']+')\x0a',_0x28ef1e+=_0x56dbaf[_0x94fe15(0x373)]+':\x20'+_0x56dbaf['value']+'\x20('+config[_0x94fe15(0x2f9)]+')\x0a',_0x28ef1e+=_0x56dbaf['rightTxt']+':\x20'+_0x56dbaf['change']+_0x94fe15(0x363)+config['fiat']+')\x0a',_0x28ef1e+=_0x94fe15(0x384),process[_0x94fe15(0x378)]({'telegrammsg':_0x28ef1e},_0x52e606=>{});}async function sendPortfolioTelegram(){const _0x4561c2=_0x4e8ebb;if(!coinsLoaded||!currentCoins[0x0][_0x4561c2(0x1fd)]){process[_0x4561c2(0x378)]({'telegrammsg':_0x4561c2(0x2df)},_0x14ce0d=>{});return;}let _0x21d52a='';if(config[_0x4561c2(0x27b)])_0x21d52a=_0x4561c2(0x258)+config[_0x4561c2(0x2e9)]+_0x4561c2(0x2fa);else _0x21d52a='<b>Bot\x20'+botID+_0x4561c2(0x2fa);_0x21d52a+=_0x4561c2(0x236),_0x21d52a+=_0x4561c2(0x27f),_0x21d52a+=_0x4561c2(0x221),_0x21d52a+=_0x4561c2(0x27f),currentCoins[_0x4561c2(0x1ff)](_0x3028a5=>{const _0x890dd6=_0x4561c2;_0x21d52a+=_0x3028a5['coin'][_0x890dd6(0x257)](0x7)+'|\x20'+formatPad(_0x3028a5[_0x890dd6(0x1fd)],0x2,0x6)+'|\x20'+formatPad(_0x3028a5[_0x890dd6(0x1fb)],0x2,0x6)+'|\x20'+formatPad(_0x3028a5['delta']*0x64,0x2,0x6)+'\x0a';}),_0x21d52a+=_0x4561c2(0x384),process[_0x4561c2(0x378)]({'telegrammsg':_0x21d52a},_0x32ba12=>{});}function formatPad(_0x4ebcda,_0x444e16,_0x5c2687){const _0x177a19=formatResultString(_0x4ebcda,_0x444e16);return _0x177a19?_0x177a19['padStart'](_0x5c2687):''['padStart'](_0x5c2687);}function logHistory(_0x1561f8,_0x49b658,_0x308ce7=''){const _0x5dd6e5=_0x4e8ebb;logger['full'](''+_0x49b658);let _0x5c686c={'time':getTimeStamp(),'type':_0x1561f8,'event':_0x49b658};dbLogs[_0x5dd6e5(0x32f)](_0x5dd6e5(0x29a))[_0x5dd6e5(0x27a)](_0x5c686c)['write']();if(_0x308ce7=='')_0x308ce7=_0x49b658;proxyEmit('event',{'log':_0x5c686c,'summary':_0x308ce7}),process['send']({'telegram':{..._0x5c686c,'botname':config[_0x5dd6e5(0x2e9)],'showname':config[_0x5dd6e5(0x27b)]}},_0x2cb0e8=>{});}function emitHistory(_0x3b567f={}){const _0x3dfb77=_0x4e8ebb;Object[_0x3dfb77(0x34e)](_0x3b567f)['length']==0x0&&(_0x3b567f={'type':[_0x3dfb77(0x2a8),_0x3dfb77(0x281)],'event':'','page':0x1});if(_0x3b567f[_0x3dfb77(0x2b6)][_0x3dfb77(0x353)](_0x3dfb77(0x281)))_0x3b567f[_0x3dfb77(0x2b6)][_0x3dfb77(0x2d9)](_0x3b567f[_0x3dfb77(0x2b6)][_0x3dfb77(0x21c)]('event'),0x1,_0x3dfb77(0x22a),'warning','success');if(dbLogs[_0x3dfb77(0x366)]('logs')[_0x3dfb77(0x356)]()){let _0xa4f05=dbLogs['get'](_0x3dfb77(0x29a))[_0x3dfb77(0x222)](_0x431d67=>{const _0x26afe2=_0x3dfb77;if(_0x3b567f['type'][_0x26afe2(0x357)]==0x0)return![];else return _0x3b567f['type'][_0x26afe2(0x353)](_0x431d67[_0x26afe2(0x2b6)]);})[_0x3dfb77(0x222)](_0x13a8c9=>{const _0x511540=_0x3dfb77;if(_0x3b567f[_0x511540(0x281)]=='')return!![];else return _0x13a8c9[_0x511540(0x281)][_0x511540(0x2bc)]()[_0x511540(0x353)](_0x3b567f[_0x511540(0x281)][_0x511540(0x2bc)]());})['sortBy'](_0x3dfb77(0x36a)),_0x38372a=_0xa4f05[_0x3dfb77(0x356)]()[_0x3dfb77(0x357)];_0xa4f05=_0xa4f05[_0x3dfb77(0x203)]()[_0x3dfb77(0x224)]((_0x3b567f[_0x3dfb77(0x295)]-0x1)*logPageSize,_0x3b567f[_0x3dfb77(0x295)]*logPageSize-0x1)[_0x3dfb77(0x203)]()[_0x3dfb77(0x356)](),proxyEmit(_0x3dfb77(0x37f),{'logs':_0xa4f05,'total':_0x38372a});}else proxyEmit(_0x3dfb77(0x37f),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x38e01b){const _0xc29eeb=_0x4e8ebb;if(dbLogs[_0xc29eeb(0x366)](_0xc29eeb(0x29a))[_0xc29eeb(0x356)]()){const _0x20c304=dbLogs[_0xc29eeb(0x32f)](_0xc29eeb(0x29a))[_0xc29eeb(0x2a3)](_0xc29eeb(0x36a))['filter'](_0x4e2386=>{const _0xf418e6=_0xc29eeb;return _0x4e2386[_0xf418e6(0x2b6)]==_0xf418e6(0x2a8);})[_0xc29eeb(0x356)]();dbLogs['get'](_0xc29eeb(0x29a))[_0xc29eeb(0x1f5)]()[_0xc29eeb(0x279)](),dbLogs['get'](_0xc29eeb(0x29a))[_0xc29eeb(0x21e)](_0x20c304)[_0xc29eeb(0x279)](),emitHistory(_0x38e01b);}}async function pauseBot(_0x6273c9=pauseBotIntervalShort,_0x4261e0){const _0x5388d6=_0x4e8ebb,_0x3ee57d=new Date()[_0x5388d6(0x2bb)]();if(!lastErrorShown||_0x3ee57d-lastErrorShown>=_0x6273c9){lastErrorShown=_0x3ee57d;!lastBotPause?(lastBotPause=_0x3ee57d,consecutivePauses=0x1):(_0x3ee57d-lastBotPause-_0x6273c9<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>maxPauseRetries&&(logHistory('error',_0x4261e0+pauseBotMsg),_0x6273c9=pauseBotInterval)):consecutivePauses=0x1,lastBotPause=_0x3ee57d);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await sleep(_0x6273c9),botPaused=![],reset(![]);}}}async function killBot(){const _0x2805e6=_0x4e8ebb;botPaused=!![],await sleep(0x3e8),process[_0x2805e6(0x378)]({'stop':_0x2805e6(0x201)},_0x554aa8=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x8198eb,_0x2dd070){const _0xf06f97=_0x4e8ebb;if(botPaused)return;const _0x5dba65=config[_0xf06f97(0x267)]||_0xf06f97(0x2ef);if(_0x2dd070)logger[_0xf06f97(0x1d3)](_0xf06f97(0x36b)+_0x2dd070);const _0x524c41=()=>{const _0x4d8893=_0xf06f97;loading[_0x4d8893(0x22a)]=!![],emitLoadingProgress();};if(_0x8198eb['toString']()[_0xf06f97(0x353)](_0xf06f97(0x1da)))logHistory(_0xf06f97(0x22a),_0x5dba65+_0xf06f97(0x22b)),_0x524c41();else{if(_0x8198eb[_0xf06f97(0x2c0)]()[_0xf06f97(0x353)](_0xf06f97(0x2be)))logHistory(_0xf06f97(0x22a),_0x5dba65+_0xf06f97(0x1f4)),_0x524c41();else _0x8198eb['toString']()[_0xf06f97(0x353)](_0xf06f97(0x387))?(logHistory(_0xf06f97(0x22a),_0x5dba65+_0xf06f97(0x364)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x524c41()):await handleError(_0x8198eb,null);}}async function handleError(_0x18ee77,_0xcde1e4,_0x225b1d=''){const _0x4889dd=_0x4e8ebb;if(botPaused)return;let _0x52aa75;const _0x1793ef=config[_0x4889dd(0x267)]||_0x4889dd(0x2ef);if(_0xcde1e4)logger['debug']('Exception\x20thrown\x20in\x20'+_0xcde1e4);if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)](_0x4889dd(0x24b)))_0x52aa75=_0x1793ef+_0x4889dd(0x1f9),logger[_0x4889dd(0x1d3)](_0x52aa75+_0x4889dd(0x28b),_0x18ee77['toString']()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)]('RateLimitExceeded'))_0x52aa75=_0x1793ef+_0x4889dd(0x228),logger['debug'](_0x52aa75+_0x4889dd(0x28b),_0x18ee77['toString']()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77['toString']()['includes'](_0x4889dd(0x317))||_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)](_0x4889dd(0x1e0)))_0x52aa75=_0x1793ef+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',logger['debug'](_0x52aa75+_0x4889dd(0x28b),_0x18ee77[_0x4889dd(0x2c0)]()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77[_0x4889dd(0x2c0)]()['includes'](_0x4889dd(0x21b)))_0x52aa75=_0x1793ef+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',logger[_0x4889dd(0x1d3)](_0x52aa75+_0x4889dd(0x28b),_0x18ee77[_0x4889dd(0x2c0)]()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)](_0x4889dd(0x2f5)))_0x52aa75=_0x1793ef+_0x4889dd(0x325),logger[_0x4889dd(0x1d3)](_0x52aa75+_0x4889dd(0x28b),_0x18ee77[_0x4889dd(0x2c0)]()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77[_0x4889dd(0x2c0)]()['toLowerCase']()['includes']('timestamp')||_0x18ee77['toString']()[_0x4889dd(0x2bc)]()[_0x4889dd(0x353)]('request-time'))_0x52aa75=_0x4889dd(0x231),logger['debug'](_0x52aa75+_0x4889dd(0x28b),_0x18ee77[_0x4889dd(0x2c0)]()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77['toString']()['includes']('InvalidNonce'))_0x52aa75=_0x1793ef+_0x4889dd(0x252),logger[_0x4889dd(0x1d3)](_0x52aa75+'\x20>\x20details:',_0x18ee77[_0x4889dd(0x2c0)]()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77 instanceof ccxt[_0x4889dd(0x320)])_0x52aa75=_0x1793ef+_0x4889dd(0x24c),logger[_0x4889dd(0x1d3)](_0x52aa75+'\x20>\x20details:',_0x18ee77[_0x4889dd(0x2c0)]()),await pauseBot(undefined,_0x52aa75);else{if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)](_0x4889dd(0x1da)))logHistory(_0x4889dd(0x22a),_0x1793ef+'\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x4889dd(0x36f)),await killBot();else{if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)](_0x4889dd(0x2be)))logHistory(_0x4889dd(0x22a),_0x1793ef+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x4889dd(0x22a),_0x4889dd(0x36f)),await killBot();else{if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)]('AuthenticationError'))logHistory('error',_0x1793ef+_0x4889dd(0x280)),logHistory(_0x4889dd(0x22a),_0x4889dd(0x36f)),await killBot();else{if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)](_0x4889dd(0x208)))logHistory(_0x4889dd(0x22a),_0x1793ef+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions'),logHistory(_0x4889dd(0x22a),_0x4889dd(0x36f)),await killBot();else{if(_0x18ee77[_0x4889dd(0x2c0)]()[_0x4889dd(0x353)](_0x4889dd(0x308)))logHistory(_0x4889dd(0x22a),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x225b1d);else{if(_0x18ee77 instanceof ccxt['ExchangeError']){logHistory(_0x4889dd(0x22a),_0x1793ef+_0x4889dd(0x28e)),logger['debug'](_0x4889dd(0x242),_0x18ee77);if(_0x225b1d)logger[_0x4889dd(0x1d3)](_0x4889dd(0x306)+_0x225b1d);}else{_0x52aa75=_0x4889dd(0x33f),logger[_0x4889dd(0x1d3)](_0x52aa75+_0x4889dd(0x28b),_0x18ee77);if(_0x225b1d)logger['debug'](_0x4889dd(0x306)+_0x225b1d);await pauseBot(undefined,_0x52aa75);}}}}}}}}}}}}}}}async function withRetry(_0x4d951a,_0x454910){const _0x2e8bf0=_0x4e8ebb;let _0x1093b1=![],_0x19d127=0x0,_0x407b08,_0x70698d;while(_0x19d127<maxRetries){try{_0x407b08=await _0x454910();break;}catch(_0x1b3e8a){_0x70698d=_0x1b3e8a,!_0x1093b1?(_0x1093b1=!![],logger[_0x2e8bf0(0x1d3)](_0x2e8bf0(0x315)+_0x4d951a+':',_0x1b3e8a['toString']())):await sleep(retryInterval);}_0x19d127++;}if(_0x19d127==0x0)return _0x407b08;if(_0x19d127>=maxRetries)throw _0x70698d;else return logger[_0x2e8bf0(0x1d3)](_0x2e8bf0(0x287)+_0x19d127+_0x2e8bf0(0x327)),_0x407b08;}function formatResult(_0x4209fb,_0x5d0768){const _0x4bb3b4=_0x4e8ebb;return parseFloat(_0x4209fb[_0x4bb3b4(0x1d2)](_0x5d0768));}function formatResultTruncate(_0x1f29e9,_0x3c18a8){const _0x493718=_0x4e8ebb;let _0x198201=formatResultString(_0x1f29e9,0xa),_0xf11348=_0x198201[_0x493718(0x21c)]('.');return _0xf11348!=-0x1&&(_0x198201=_0x198201['slice'](0x0,_0xf11348+_0x3c18a8+0x1)),Number(_0x198201);}function formatResultString(_0x5ec63f,_0x3be168){const _0x3980c3=_0x4e8ebb;let _0x5b58cf;if(!(''+_0x5ec63f)[_0x3980c3(0x353)]('e'))_0x5b58cf=+(Math[_0x3980c3(0x216)](_0x5ec63f+'e+'+_0x3be168)+'e-'+_0x3be168);else{let _0x22e7e8=(''+_0x5ec63f)[_0x3980c3(0x23b)]('e'),_0x4bd8ae='';+_0x22e7e8[0x1]+_0x3be168>0x0&&(_0x4bd8ae='+'),_0x5b58cf=+(Math[_0x3980c3(0x216)](+_0x22e7e8[0x0]+'e'+_0x4bd8ae+(+_0x22e7e8[0x1]+_0x3be168))+'e-'+_0x3be168);}return Number(_0x5b58cf)[_0x3980c3(0x1d2)](_0x3be168);}function getServerTime(){const _0x5b7456=_0x4e8ebb,_0x293229=new Date();return _0x293229[_0x5b7456(0x294)]()+'/'+(_0x293229['getMonth']()+0x1)['toString']()[_0x5b7456(0x1ed)](0x2,'0')+'/'+_0x293229[_0x5b7456(0x1ec)]()[_0x5b7456(0x2c0)]()[_0x5b7456(0x1ed)](0x2,'0')+'\x20'+_0x293229[_0x5b7456(0x2dd)]()[_0x5b7456(0x2c0)]()[_0x5b7456(0x1ed)](0x2,'0')+':'+_0x293229['getMinutes']()[_0x5b7456(0x2c0)]()[_0x5b7456(0x1ed)](0x2,'0')+':'+_0x293229[_0x5b7456(0x220)]()[_0x5b7456(0x2c0)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x8bb320=_0x4e8ebb,_0x2c8417=shiftedTime();return _0x2c8417[_0x8bb320(0x294)]()+'/'+(_0x2c8417[_0x8bb320(0x36e)]()+0x1)[_0x8bb320(0x2c0)]()['padStart'](0x2,'0')+'/'+_0x2c8417['getDate']()[_0x8bb320(0x2c0)]()['padStart'](0x2,'0')+'\x20'+_0x2c8417[_0x8bb320(0x2dd)]()[_0x8bb320(0x2c0)]()[_0x8bb320(0x1ed)](0x2,'0')+':'+_0x2c8417[_0x8bb320(0x1ee)]()['toString']()[_0x8bb320(0x1ed)](0x2,'0')+':'+_0x2c8417[_0x8bb320(0x220)]()['toString']()[_0x8bb320(0x1ed)](0x2,'0');}function getDate(){const _0x440c95=_0x4e8ebb,_0x343d18=shiftedTime();return _0x343d18[_0x440c95(0x294)]()+'/'+(_0x343d18[_0x440c95(0x36e)]()+0x1)['toString']()[_0x440c95(0x1ed)](0x2,'0')+'/'+_0x343d18[_0x440c95(0x1ec)]()['toString']()[_0x440c95(0x1ed)](0x2,'0');}function _0x45a6(_0x3621e1,_0x27b4e1){const _0x3d2198=_0x106b();return _0x45a6=function(_0x2942fd,_0x1155ad){_0x2942fd=_0x2942fd-0x1d1;let _0x106b91=_0x3d2198[_0x2942fd];return _0x106b91;},_0x45a6(_0x3621e1,_0x27b4e1);}function getHour(){const _0xb94f2=_0x4e8ebb,_0x3a6c83=shiftedTime();return _0x3a6c83['getHours']()[_0xb94f2(0x2c0)]()[_0xb94f2(0x1ed)](0x2,'0');}function sleep(_0x6dfa46){return new Promise(_0x4458e4=>setTimeout(_0x4458e4,_0x6dfa46));}function shiftedTime(){const _0x425614=_0x4e8ebb,_0x16734a=new Date();let _0x50b5b9=_0x16734a;if(config&&config[_0x425614(0x2e4)]!==0x0)_0x50b5b9=fns[_0x425614(0x241)](_0x16734a,{'hours':config[_0x425614(0x2e4)]});return _0x50b5b9;}function timer(_0x3cf3c8){const _0x87a301=_0x4e8ebb,_0x2274ea=new Date();!lasttime?console[_0x87a301(0x2b5)](getTimeStamp()+_0x87a301(0x28a),_0x3cf3c8,_0x2274ea):console['log'](getTimeStamp()+':\x20timer\x20>',_0x3cf3c8,(_0x2274ea-lasttime)/0x3e8),lasttime=_0x2274ea;}