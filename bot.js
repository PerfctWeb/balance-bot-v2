const _0x595393=_0x217c;(function(_0x590db0,_0x21bccf){const _0x31b02c=_0x217c,_0x19fae1=_0x590db0();while(!![]){try{const _0x4d5b56=parseInt(_0x31b02c(0x1d1))/0x1*(-parseInt(_0x31b02c(0x373))/0x2)+-parseInt(_0x31b02c(0x23f))/0x3*(-parseInt(_0x31b02c(0x2ee))/0x4)+parseInt(_0x31b02c(0x233))/0x5*(parseInt(_0x31b02c(0x205))/0x6)+-parseInt(_0x31b02c(0x2bc))/0x7+parseInt(_0x31b02c(0x21f))/0x8+-parseInt(_0x31b02c(0x1dc))/0x9+parseInt(_0x31b02c(0x1e6))/0xa;if(_0x4d5b56===_0x21bccf)break;else _0x19fae1['push'](_0x19fae1['shift']());}catch(_0x2fa4cd){_0x19fae1['push'](_0x19fae1['shift']());}}}(_0xde1b,0x1fabd));const _0x322a6e=function(){let _0x311b77=!![];return function(_0x555866,_0x28aaa8){const _0x4a9b61=_0x311b77?function(){const _0xa7f12d=_0x217c;if(_0x28aaa8){const _0x19e977=_0x28aaa8[_0xa7f12d(0x270)](_0x555866,arguments);return _0x28aaa8=null,_0x19e977;}}:function(){};return _0x311b77=![],_0x4a9b61;};}(),_0x3d61b3=_0x322a6e(this,function(){const _0x5e0c6e=_0x217c;return _0x3d61b3[_0x5e0c6e(0x25c)]()[_0x5e0c6e(0x1f4)](_0x5e0c6e(0x2df))['toString']()[_0x5e0c6e(0x299)](_0x3d61b3)[_0x5e0c6e(0x1f4)](_0x5e0c6e(0x2df));});_0x3d61b3();'use strict';const ccxt=require(_0x595393(0x215)),low=require(_0x595393(0x29f)),FileSync=require(_0x595393(0x37a)),fs=require('fs'),fns=require(_0x595393(0x1dd)),Crypt=require(_0x595393(0x234))[_0x595393(0x37c)],util=require(_0x595393(0x2eb)),argv=require(_0x595393(0x22d))(process[_0x595393(0x26e)]['slice'](0x2))[_0x595393(0x26e)],path=require('path'),axios=require(_0x595393(0x2ed));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x595393(0x30c),_0x595393(0x2dd),_0x595393(0x236),_0x595393(0x339),'USDC',_0x595393(0x2c3)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x595393(0x235)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x595393(0x2c1)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x595393(0x2b5),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8;let enableFiatToggle;const serverversion=require(_0x595393(0x2d5))[_0x595393(0x31c)],environment=require(_0x595393(0x2d5))[_0x595393(0x276)]||'production',botID=process[_0x595393(0x26e)][0x2]||_0x595393(0x334),pattern=/^[0-9]{3}$/;!pattern[_0x595393(0x32e)](botID)&&(console[_0x595393(0x2cc)](_0x595393(0x264)+botID+_0x595393(0x2c2)),killBot());const userID=process[_0x595393(0x26e)][0x3]||'',configpath=userID?_0x595393(0x231)+userID+'/':_0x595393(0x231),logspath=userID?_0x595393(0x296)+userID+'/':_0x595393(0x296),loggerfile=fs[_0x595393(0x2f2)](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x595393(0x32c)](configpath);!fs['existsSync'](logspath)&&fs[_0x595393(0x32c)](logspath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+_0x595393(0x1df)+botID+_0x595393(0x1c6),performancefile=configpath+_0x595393(0x1df)+botID+_0x595393(0x32d),coinresultsfile=configpath+_0x595393(0x1df)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x595393(0x1da),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x595393(0x23d)]({'logs':[],'version':serverversion})[_0x595393(0x323)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x595393(0x323)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x595393(0x23d)]({'bot':[],'version':serverversion})[_0x595393(0x323)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x595393(0x323)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x595393(0x35f),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1416f1=>{const _0x595e32=_0x595393;console[_0x595e32(0x2cc)](_0x1416f1);},'simple':_0x5be39a=>{const _0x31ef4a=_0x595393;console[_0x31ef4a(0x2cc)](_0x5be39a),loggerfile[_0x31ef4a(0x323)](util[_0x31ef4a(0x31f)](_0x5be39a)+'\x0a');},'full':async(_0x4ec0da,_0x495712='')=>{const _0x4c5afc=_0x595393;let _0x12686d;if(config[_0x4c5afc(0x1fc)])_0x12686d=getTimeStamp()+':\x20'+config[_0x4c5afc(0x22e)]+'\x20>\x20'+_0x4ec0da;else _0x12686d=getTimeStamp()+_0x4c5afc(0x2e2)+botID+_0x4c5afc(0x342)+_0x4ec0da;console['log'](_0x12686d),loggerfile[_0x4c5afc(0x323)](util[_0x4c5afc(0x31f)](_0x12686d)+'\x0a'),_0x495712&&(console[_0x4c5afc(0x2cc)](_0x495712),loggerfile[_0x4c5afc(0x323)](util[_0x4c5afc(0x31f)](_0x495712)+'\x0a'));},'debug':async(_0x302a6d,_0x410ab9='')=>{const _0x26855e=_0x595393;let _0x66bf9b;if(config['showname'])_0x66bf9b=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0x302a6d;else _0x66bf9b=getTimeStamp()+':\x20Bot\x20'+botID+_0x26855e(0x36b)+_0x302a6d;if(debugging)console[_0x26855e(0x2cc)](_0x66bf9b);loggerfile[_0x26855e(0x323)](util[_0x26855e(0x31f)](_0x66bf9b)+'\x0a');if(_0x410ab9){if(debugging)console[_0x26855e(0x2cc)](_0x410ab9);loggerfile[_0x26855e(0x323)](util[_0x26855e(0x31f)](_0x410ab9)+'\x0a');}}};process['on']('uncaughtException',function(_0x529903){handleError(_0x529903,'uncaughtException');});settings['timeshift']!=config[_0x595393(0x303)]&&updateTimeshift(settings[_0x595393(0x303)]);settings[_0x595393(0x2a0)]!=config[_0x595393(0x2a0)]&&updateOnepagemode(settings[_0x595393(0x2a0)]);(settings[_0x595393(0x325)]&&!config['marketcapApi']||!settings['marketcapApi']&&config[_0x595393(0x325)])&&updateMarketcapApi(settings[_0x595393(0x325)]);process['send']({'started':_0x595393(0x22f)},_0x59fda0=>{}),initializeProcessListeners();function proxyEmit(_0x590d6b,_0x267686=null){const _0x3d3314=_0x595393;process[_0x3d3314(0x23c)]({'function':_0x590d6b,'args':_0x267686},_0x247de2=>{});}function initializeProcessListeners(){const _0x439776=_0x595393;process['on'](_0x439776(0x1f1),_0x514826=>{const _0x5c6944=_0x439776;switch(Object[_0x5c6944(0x33f)](_0x514826)[0x0]){case'timeshift':_0x514826['timeshift']!=undefined&&(settings[_0x5c6944(0x303)]=_0x514826[_0x5c6944(0x303)],updateTimeshift(settings[_0x5c6944(0x303)]));break;case'onepagemode':_0x514826['onepagemode']!=undefined&&(settings[_0x5c6944(0x2a0)]=_0x514826[_0x5c6944(0x2a0)],updateOnepagemode(settings[_0x5c6944(0x2a0)]));break;case _0x5c6944(0x325):_0x514826[_0x5c6944(0x325)]!=undefined&&(settings['marketcapApi']=_0x514826[_0x5c6944(0x325)],updateMarketcapApi(settings['marketcapApi']));break;case'bots':_0x514826['bots']!=undefined&&(bots=JSON[_0x5c6944(0x2a3)](_0x514826['bots']),proxyEmit(_0x5c6944(0x1f3),bots));break;case _0x5c6944(0x2fa):switch(_0x514826[_0x5c6944(0x2fa)]){case _0x5c6944(0x1fd):initclient();break;case _0x5c6944(0x25a):toggleBotMode();break;case _0x5c6944(0x1f6):emitHistory(_0x514826[_0x5c6944(0x31e)]);break;case _0x5c6944(0x277):deleteHistoryAlerts(_0x514826[_0x5c6944(0x31e)]);break;case'getPortfolio':getPortfolio(_0x514826[_0x5c6944(0x31e)]);break;case _0x5c6944(0x2b3):storeConfiguration(_0x514826[_0x5c6944(0x31e)]);break;case'storeHeadless':storeHeadless(_0x514826['args']);break;case'storeFiat':storeFiat(_0x514826['args']);break;case _0x5c6944(0x2b2):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x5c6944(0x2bf):placeOrder(_0x514826[_0x5c6944(0x31e)]);break;case _0x5c6944(0x2d9):cancelLoading();break;case _0x5c6944(0x34f):showConfig();break;case _0x5c6944(0x26a):sendMetricsTelegram();break;case _0x5c6944(0x20e):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x1d9cf6=![]){const _0x53219d=_0x595393;logger[_0x53219d(0x345)](_0x53219d(0x208)+(_0x1d9cf6?_0x53219d(0x362):_0x53219d(0x295))+'\x20|\x20exchange:\x20'+config[_0x53219d(0x28a)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x1d9cf6)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x53219d(0x24d)]!=''&&config['apiKey']!=_0x53219d(0x343)){loadingProgress=0x0;_0x1d9cf6&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x53219d(0x204),emittedConfiguration()),initialPerformanceStored=![]);const _0x3d178c=await getCoins();[currentCoins,currentCoinsAll]=_0x3d178c,setBlockTransactionDetection(![]),getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x53219d(0x247)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x53219d(0x244)]==0x0&&allOpenOrders[_0x53219d(0x244)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x3a3bf1=![]){const _0x2aee1f=_0x595393;logger[_0x2aee1f(0x345)]('Resuming\x20('+(_0x3a3bf1?'quick':'complete')+_0x2aee1f(0x2a8)+config[_0x2aee1f(0x28a)]);if(pidBalances)clearTimeout(pidBalances);if(_0x3a3bf1){getBalances();return;}coinsLoaded=![];if(config[_0x2aee1f(0x24d)]!=''&&config[_0x2aee1f(0x24d)]!=_0x2aee1f(0x343)){loadingProgress=0x1;const _0x47d9ac=await getCoins();[currentCoins,currentCoinsAll]=_0x47d9ac,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x2aee1f(0x345)](_0x2aee1f(0x247)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2aee1f(0x244)]==0x0&&allOpenOrders[_0x2aee1f(0x244)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x5e19df){const _0x1b9d8c=_0x595393;let _0x989c96=![];if(_0x5e19df)_0x989c96=!![];let _0x36feb6;_0x989c96?_0x36feb6=_0x5e19df[_0x1b9d8c(0x209)](_0x435234=>_0x435234[_0x1b9d8c(0x232)]):_0x36feb6=currentCoinsAll[_0x1b9d8c(0x209)](_0x3a78df=>_0x3a78df['coin']);if(!config[_0x1b9d8c(0x325)]||!_0x989c96&&!config[_0x1b9d8c(0x29a)]||_0x36feb6[_0x1b9d8c(0x244)]==0x0)return;let _0x4a3d9b=null;try{_0x4a3d9b=await axios[_0x1b9d8c(0x36d)](_0x1b9d8c(0x1ed),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x1b9d8c(0x325)]},'params':{'symbol':_0x36feb6[_0x1b9d8c(0x25c)]()}});}catch(_0x7ca7c9){_0x4a3d9b=null,_0x7ca7c9[_0x1b9d8c(0x25c)]()[_0x1b9d8c(0x22a)]('status\x20code\x20401')?(config[_0x1b9d8c(0x325)]=![],updateConfig(),proxyEmit(_0x1b9d8c(0x204),emittedConfiguration()),logHistory('error',_0x1b9d8c(0x2e8))):(logHistory('error',_0x1b9d8c(0x34b)+schedulerInterval/(0x3c*0x3e8)+_0x1b9d8c(0x2b5)),logger['debug'](_0x1b9d8c(0x2ac),_0x7ca7c9[_0x1b9d8c(0x25c)]()+_0x1b9d8c(0x1d6)+_0x7ca7c9[_0x1b9d8c(0x34e)]));}if(_0x4a3d9b){let _0x19fd39=0x0;const _0x4ea010=_0x4a3d9b[_0x1b9d8c(0x260)];_0x36feb6[_0x1b9d8c(0x1ec)](_0x1dd7f2=>{const _0x58ece7=_0x1b9d8c;if(_0x4ea010[_0x58ece7(0x260)][_0x1dd7f2][0x0])_0x19fd39+=_0x4ea010[_0x58ece7(0x260)][_0x1dd7f2][0x0][_0x58ece7(0x368)][_0x58ece7(0x30c)][_0x58ece7(0x1f5)];}),_0x36feb6[_0x1b9d8c(0x1ec)](_0x4e3dba=>{const _0xe7357b=_0x1b9d8c,_0x450e90=_0x4ea010[_0xe7357b(0x260)][_0x4e3dba][0x0]?_0x4ea010['data'][_0x4e3dba][0x0][_0xe7357b(0x368)][_0xe7357b(0x30c)][_0xe7357b(0x1f5)]:0x0;if(_0x989c96){const _0x1a1db0=_0x5e19df[_0xe7357b(0x27b)](_0x48c151=>_0x48c151[_0xe7357b(0x232)]==_0x4e3dba);_0x1a1db0&&(_0x1a1db0[_0xe7357b(0x1e2)]=_0x450e90);}else{const _0x552c53=currentCoins[_0xe7357b(0x27b)](_0x13331d=>_0x13331d[_0xe7357b(0x232)]==_0x4e3dba);_0x552c53&&(_0x552c53[_0xe7357b(0x1e2)]=_0x450e90);const _0x2ab7c2=currentCoinsAll[_0xe7357b(0x27b)](_0x549fa1=>_0x549fa1[_0xe7357b(0x232)]==_0x4e3dba);_0x2ab7c2&&(_0x2ab7c2['marketcap']=_0x450e90);}}),!_0x989c96&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x3a4e4a=_0x595393,_0x2e3ce4=0x2;let _0x1b9001=0x0,_0x313237=0x0,_0x355e7b=0x0,_0x5dd228=0x0,_0x19817e=0x0;config[_0x3a4e4a(0x1ea)][_0x3a4e4a(0x1ec)](_0x2fd1f2=>{const _0x2af25b=_0x3a4e4a;if(!_0x2fd1f2['excluded']){_0x355e7b++,_0x1b9001+=_0x2fd1f2[_0x2af25b(0x287)];if(_0x2fd1f2[_0x2af25b(0x287)]===-0x1){_0x1b9001++;const _0x253d2b=currentCoinsAll[_0x2af25b(0x27b)](_0x4afd1f=>_0x4afd1f[_0x2af25b(0x232)]==_0x2fd1f2[_0x2af25b(0x232)]);_0x253d2b&&(_0x5dd228+=_0x253d2b[_0x2af25b(0x1e2)],_0x19817e+=Math['sqrt'](_0x253d2b[_0x2af25b(0x1e2)]));}if(_0x2fd1f2[_0x2af25b(0x287)]!==-0x1)_0x313237++;}});let _0x559c6e;const _0x16b64c=0x64-_0x1b9001,_0x1d0758=_0x355e7b-_0x313237;_0x559c6e=_0x1d0758===0x0?_0x1b9001:Math[_0x3a4e4a(0x1e7)](0x64,_0x1b9001),config[_0x3a4e4a(0x1ea)][_0x3a4e4a(0x1ec)](_0x32c034=>{const _0x3d7a77=_0x3a4e4a,_0x41a1a0=currentCoinsAll[_0x3d7a77(0x27b)](_0x54831d=>_0x54831d[_0x3d7a77(0x232)]==_0x32c034[_0x3d7a77(0x232)]);_0x41a1a0&&(_0x32c034[_0x3d7a77(0x1e2)]=_0x41a1a0[_0x3d7a77(0x1e2)]);if(!_0x32c034['excluded']){if(_0x559c6e<=0x64){if(_0x32c034['slider']===-0x1){if(_0x5dd228!==0x0&&config['marketcapEnabled']){if(_0x41a1a0){if(config[_0x3d7a77(0x29a)]=='marketcap')_0x32c034['distribution']=(_0x16b64c/(_0x5dd228/_0x41a1a0[_0x3d7a77(0x1e2)]))[_0x3d7a77(0x22b)](_0x2e3ce4);else config[_0x3d7a77(0x29a)]==_0x3d7a77(0x309)&&(_0x32c034[_0x3d7a77(0x2e7)]=(_0x16b64c/(_0x19817e/Math['sqrt'](_0x41a1a0[_0x3d7a77(0x1e2)])))['toFixed'](_0x2e3ce4));}}}}}}),updateConfig();}function updateConfig(){const _0x2783e9=_0x595393;let _0x1c431b=dbConfig[_0x2783e9(0x36d)](_0x2783e9(0x27d))[_0x2783e9(0x27b)]({'botID':botID})[_0x2783e9(0x2b7)]();_0x1c431b&&dbConfig['get'](_0x2783e9(0x27d))[_0x2783e9(0x27b)]({'botID':botID})['assign'](config)[_0x2783e9(0x323)]();}function logMemory(){const _0x4e8cb8=_0x595393;if(environment!=_0x4e8cb8(0x2c0))return;const _0x3ba175=process[_0x4e8cb8(0x251)]()['heapUsed']/0x400/0x400;logger[_0x4e8cb8(0x345)](_0x4e8cb8(0x286)+process[_0x4e8cb8(0x1ef)]+_0x4e8cb8(0x332)+formatResult(_0x3ba175,0x1)+_0x4e8cb8(0x1ca));}async function startScheduler(){const _0x58aa33=_0x595393,_0x3756bd=shiftedTime()[_0x58aa33(0x311)]();getMarketCap(),_0x3756bd==0x1&&logMemory(),(_0x3756bd==0x2||_0x3756bd==0xe)&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x4d1d76=![]){const _0x4b5b51=_0x595393;logger[_0x4b5b51(0x345)]('Initiating\x20bot\x20restart');if(!_0x4d1d76)while(lockOrders!=ORDERS[_0x4b5b51(0x2c1)]||coolingDown){await sleep(0x3e8);}process[_0x4b5b51(0x23c)]({'stop':_0x4b5b51(0x242)},_0x10f8d6=>{});}async function initExchange(_0x173c6a=config[_0x595393(0x28a)],_0x313527=config[_0x595393(0x24d)],_0x255e19=config[_0x595393(0x300)],_0x200553=config['apiPassword']){const _0x26638a=_0x595393;if(exchange){logger[_0x26638a(0x345)]('Initializing\x20exchange:\x20already\x20done');return;}logger[_0x26638a(0x345)]('Initializing\x20exchange');!supportedExchanges()[_0x26638a(0x22a)](_0x173c6a)&&(logHistory(_0x26638a(0x350),_0x26638a(0x245)+_0x173c6a+_0x26638a(0x1e9)),killBot());const _0x1dced7=ccxt[_0x26638a(0x241)][_0x173c6a[_0x26638a(0x226)]()];exchange=new _0x1dced7({'apiKey':_0x313527,'secret':_0x255e19,'options':{'defaultType':_0x26638a(0x1f0)}});if(_0x200553)exchange['password']=_0x200553;}function updateExchange(_0x975ae3,_0x4bee30,_0xe58e18=null){const _0x453188=_0x595393;exchange[_0x453188(0x24d)]=_0x975ae3,exchange[_0x453188(0x300)]=_0x4bee30,exchange[_0x453188(0x1ff)]=_0xe58e18,logger[_0x453188(0x345)](_0x453188(0x28e));}function setStableCoins(){const _0x349990=_0x595393;let _0x45322a=config[_0x349990(0x2f4)]=='ETH'?_0x349990(0x1cd):config[_0x349990(0x2f4)]==_0x349990(0x237)?_0x349990(0x237):_0x349990(0x224),_0x4f1cda=allSymbols[_0x349990(0x22a)](_0x45322a+_0x349990(0x200))?_0x349990(0x30c):allSymbols[_0x349990(0x22a)](_0x45322a+_0x349990(0x293))?_0x349990(0x339):_0x349990(0x249),_0x47b22c=allSymbols[_0x349990(0x22a)](_0x45322a+'/EUR')?'EUR':_0x4f1cda;enableFiatToggle=!![],_0x4f1cda=='EUR'&&(enableFiatToggle=![],storeFiat('EUR')),_0x47b22c!=_0x349990(0x249)&&(enableFiatToggle=![],storeFiat(_0x349990(0x30c))),stablecoins={'eur':{'coin':''+_0x45322a+_0x47b22c,'symbol':_0x45322a+'/'+_0x47b22c},'usd':{'coin':''+_0x45322a+_0x4f1cda,'symbol':_0x45322a+'/'+_0x4f1cda}};}async function initwsCcxt(){const _0x45e553=_0x595393;initCycle++;const _0x1ed55b=initCycle;let _0xa1e5ec=[];config['portfolio']['forEach'](_0x1c3490=>{const _0x12900e=_0x217c;if(!_0x1c3490[_0x12900e(0x2ad)]&&_0x1c3490[_0x12900e(0x232)]!=config[_0x12900e(0x2f4)])_0xa1e5ec[_0x12900e(0x227)](_0x1c3490[_0x12900e(0x1f8)]);});if(!_0xa1e5ec[_0x45e553(0x22a)](stablecoins['eur'][_0x45e553(0x1f8)]))_0xa1e5ec[_0x45e553(0x227)](stablecoins[_0x45e553(0x327)][_0x45e553(0x1f8)]);if(!_0xa1e5ec[_0x45e553(0x22a)](stablecoins[_0x45e553(0x20a)][_0x45e553(0x1f8)]))_0xa1e5ec[_0x45e553(0x227)](stablecoins[_0x45e553(0x20a)][_0x45e553(0x1f8)]);if(config['exchange']['startsWith'](_0x45e553(0x31a))&&config[_0x45e553(0x2f4)]!=_0x45e553(0x237)){if(!_0xa1e5ec[_0x45e553(0x22a)]('BNB/'+config[_0x45e553(0x2f4)]))_0xa1e5ec[_0x45e553(0x227)](_0x45e553(0x36f)+config[_0x45e553(0x2f4)]);}loadCoins(_0xa1e5ec),_0xa1e5ec=validateSymbols(_0xa1e5ec);const _0x57eb16=async _0x519aa3=>{const _0x53b7b2=_0x45e553;let _0x38e0ee;try{const _0x45da94=await getTickers(_0x519aa3);Object['entries'](_0x45da94)[_0x53b7b2(0x1ec)](_0x53f619=>{const _0x1316d7=_0x53b7b2;_0x38e0ee=_0x53f619[0x1][_0x1316d7(0x1f8)],gTicker[noslash(_0x38e0ee)]=_0x53f619[0x1][_0x1316d7(0x308)],gChange[_0x38e0ee]=_0x53f619[0x1][_0x1316d7(0x202)];});}catch(_0x21de98){await handleError(_0x21de98,_0x53b7b2(0x2fe),_0x38e0ee);}},_0x38bf05=async _0x2c2471=>{const _0x4ae2dc=_0x45e553;while(initCycle==_0x1ed55b){if(!botPaused)try{const _0x49429b=await exchange[_0x4ae2dc(0x206)](_0x2c2471);gTicker[noslash(_0x49429b[0x0][_0x4ae2dc(0x1f8)])]=_0x49429b[0x0][_0x4ae2dc(0x317)];}catch(_0x26b127){if(!exchangeStopped)await handleError(_0x26b127,_0x4ae2dc(0x324),_0x2c2471);}else await sleep(0x64);}},_0x2ea3c4=async _0x1f31e0=>{const _0x39cc4d=_0x45e553;while(initCycle==_0x1ed55b){if(!botPaused)try{const _0x393cde=await exchange[_0x39cc4d(0x250)](_0x1f31e0),_0x431b3c=_0x393cde[_0x39cc4d(0x374)]();gTicker[noslash(_0x431b3c[_0x39cc4d(0x1f8)])]=_0x431b3c[_0x39cc4d(0x317)];}catch(_0x58bf43){if(!exchangeStopped)await handleError(_0x58bf43,_0x39cc4d(0x280),_0x1f31e0['toString']());}else await sleep(0x64);}},_0x4eb0d8=async _0x55a589=>{const _0x88009e=_0x45e553;while(initCycle==_0x1ed55b){if(!botPaused){let _0x5d0dad;try{await sleep(0x3c*0x3e8);const _0x3b4f1d=await getTickers(_0x55a589);Object[_0x88009e(0x333)](_0x3b4f1d)[_0x88009e(0x1ec)](_0x4e9297=>{const _0x57f74f=_0x88009e;_0x5d0dad=_0x4e9297[0x1]['symbol'],gChange[_0x5d0dad]=_0x4e9297[0x1][_0x57f74f(0x202)];});}catch(_0x2bfc9e){if(!exchangeStopped)await handleError(_0x2bfc9e,_0x88009e(0x24c),_0x5d0dad);}}else await sleep(0x64);}},_0x7de547=async _0x527830=>{const _0x9eb0a7=_0x45e553;while(initCycle==_0x1ed55b){if(!botPaused)try{const _0x2237f7=await exchange['watchOrders'](_0x527830);initCycle==_0x1ed55b&&_0x2237f7[_0x9eb0a7(0x1ec)](_0xcb0d4a=>{updateNumberCoinsCcxt(_0xcb0d4a);});}catch(_0x2c1c20){if(!exchangeStopped)await handleError(_0x2c1c20,_0x9eb0a7(0x24a));}else await sleep(0x64);}};_0x57eb16(_0xa1e5ec),_0x4eb0d8(_0xa1e5ec),exchange[_0x45e553(0x307)]['watchTradesForSymbols']&&!(config[_0x45e553(0x28a)]==_0x45e553(0x35a)&&_0xa1e5ec[_0x45e553(0x244)]>0xa)?_0x2ea3c4(_0xa1e5ec):_0xa1e5ec['forEach'](_0x1aec62=>{_0x38bf05(_0x1aec62);}),_0xa1e5ec['forEach'](_0x21e09f=>{_0x7de547(_0x21e09f);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x547c88){const _0x1dda77=_0x595393;let _0x591605={};try{if(config[_0x1dda77(0x28a)]!='Cryptocom')_0x591605=await exchange[_0x1dda77(0x2fb)](_0x547c88);else for(const _0x4d2fd9 of _0x547c88){const _0x56d70e=await exchange['fetchTicker'](_0x4d2fd9);_0x591605[_0x4d2fd9]=_0x56d70e;}return _0x591605;}catch(_0x4103df){throw _0x4103df;}}function setBlockTransactionDetection(_0x17a71b){const _0x321bc9=_0x595393;blockTransactionDetection=_0x17a71b,logger[_0x321bc9(0x345)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x1a9957=0x0){const _0x38b090=_0x595393;transactionDetectionOngoing=!![];try{const _0xd29da6=await getCoins(_0x1a9957),[_0x2874b8,_0x278227]=_0xd29da6;let _0x5260fe=[];currentCoins[_0x38b090(0x1ec)](_0x2a7e04=>{const _0x47c2f9=_0x38b090,_0x538e37=_0x2874b8['find'](_0x1fd975=>_0x1fd975['coin']==_0x2a7e04['coin']);if(_0x538e37){if(_0x2a7e04[_0x47c2f9(0x2ec)]!=_0x538e37[_0x47c2f9(0x2ec)]){let _0x8aac2b;if(_0x2a7e04[_0x47c2f9(0x232)]!=config[_0x47c2f9(0x2f4)]){const _0x2629bc=gTicker[noslash(_0x2a7e04['symbol'])];_0x8aac2b=_0x2a7e04[_0x47c2f9(0x33e)]?0x1/_0x2629bc:_0x2629bc;}else _0x8aac2b=0x1;_0x5260fe[_0x47c2f9(0x227)]({'coin':_0x2a7e04[_0x47c2f9(0x232)],'symbol':_0x2a7e04[_0x47c2f9(0x1f8)],'price':_0x8aac2b,'number':Number(formatResult(_0x538e37[_0x47c2f9(0x2ec)]-_0x2a7e04[_0x47c2f9(0x2ec)],0x8)),'basecoinvalue':_0x8aac2b*(_0x538e37[_0x47c2f9(0x2ec)]-_0x2a7e04[_0x47c2f9(0x2ec)])});}}});if(_0x5260fe[_0x38b090(0x244)]>0x0&&!blockTransactionDetection)for(const _0x1fecd9 of _0x5260fe){if(config[_0x38b090(0x21c)]){logger[_0x38b090(0x345)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x1fecd9[_0x38b090(0x2c4)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x38b090(0x1fe)]);if(lastFees[_0x38b090(0x1fe)]==0x0||Math['abs'](_0x1fecd9['basecoinvalue'])>lastFees[_0x38b090(0x1fe)]*1.2){if(config['autoliquidity']==_0x38b090(0x1e8)){delete _0x1fecd9[_0x38b090(0x1f8)],delete _0x1fecd9[_0x38b090(0x2c4)];let _0x4329c7=[],_0x39443b=[...config[_0x38b090(0x2ae)]]||[],_0x38c4b0=config[_0x38b090(0x2ae)];_0x39443b[_0x38b090(0x346)]((_0x54689b,_0x1c5957)=>_0x54689b[_0x38b090(0x225)]>_0x1c5957[_0x38b090(0x225)]?-0x1:_0x1c5957[_0x38b090(0x225)]>_0x54689b[_0x38b090(0x225)]?0x1:0x0);const _0x5b053b=getDate();if(_0x39443b[0x0]){const _0x1362fa=fns['parse'](_0x39443b[0x0][_0x38b090(0x225)],_0x38b090(0x29e),new Date()),_0x27d0eb=fns['parse'](_0x5b053b,_0x38b090(0x29e),new Date());if(fns[_0x38b090(0x2c7)](_0x1362fa,_0x27d0eb)){_0x4329c7=_0x39443b[0x0][_0x38b090(0x25d)];const _0x38f230=_0x4329c7[_0x38b090(0x27b)](_0x20db98=>_0x20db98[_0x38b090(0x232)]==_0x1fecd9[_0x38b090(0x232)]);_0x38f230?(_0x38f230[_0x38b090(0x2ec)]+=_0x1fecd9['number'],_0x38f230[_0x38b090(0x2ec)]==0x0&&(_0x4329c7=_0x4329c7[_0x38b090(0x349)](_0x36ff6c=>{const _0x4d4868=_0x38b090;return _0x36ff6c['coin']!=_0x1fecd9[_0x4d4868(0x232)];}))):_0x4329c7[_0x38b090(0x227)](_0x1fecd9);const _0x1a4cda=_0x38c4b0[_0x38b090(0x27b)](_0x5a04e7=>_0x5a04e7[_0x38b090(0x225)]==_0x5b053b);_0x1a4cda[_0x38b090(0x25d)]=_0x4329c7;}else _0x38c4b0[_0x38b090(0x227)]({'date':_0x5b053b,'changes':[_0x1fecd9]});}const _0x2dcaad=_0x38c4b0[_0x38b090(0x27b)](_0x435ab4=>_0x435ab4[_0x38b090(0x225)]==_0x5b053b);if(_0x2dcaad){let _0x1fcb3e=!![];_0x2dcaad[_0x38b090(0x25d)][_0x38b090(0x1ec)](_0x851d78=>{const _0x97bc70=_0x38b090;if(_0x851d78[_0x97bc70(0x2ec)]!=0x0)_0x1fcb3e=![];}),_0x1fcb3e&&(_0x38c4b0=_0x38c4b0[_0x38b090(0x349)](_0x2b4c7c=>{const _0x249adc=_0x38b090;return _0x2b4c7c[_0x249adc(0x225)]!=_0x5b053b;}));}let _0x3f426=dbConfig[_0x38b090(0x36d)](_0x38b090(0x27d))[_0x38b090(0x27b)]({'botID':botID})[_0x38b090(0x2b7)]();_0x3f426&&(dbConfig['get'](_0x38b090(0x27d))['find']({'botID':botID})['assign']({'liquidity':_0x38c4b0})[_0x38b090(0x323)](),config[_0x38b090(0x2ae)]=_0x38c4b0);logHistory(_0x38b090(0x1d5),_0x38b090(0x266)+Math['abs'](_0x1fecd9[_0x38b090(0x2ec)])+'\x20'+_0x1fecd9[_0x38b090(0x232)]+'\x20'+(_0x1fecd9[_0x38b090(0x2ec)]>0x0?_0x38b090(0x25f):_0x38b090(0x252))+_0x38b090(0x254)),proxyEmit(_0x38b090(0x204),emittedConfiguration());const _0x429875=getNormalizedPerformance();emitPerformance(_0x429875),getStartingBalances(_0x429875),logger[_0x38b090(0x345)](_0x38b090(0x2b6));}else config[_0x38b090(0x21c)]==_0x38b090(0x357)&&(config[_0x38b090(0x228)]?(await storeHeadless({'headless':![]}),logHistory('success','Portfolio\x20change\x20detected:\x20'+Math[_0x38b090(0x28f)](_0x1fecd9[_0x38b090(0x2ec)])+'\x20'+_0x1fecd9[_0x38b090(0x232)]+'\x20'+(_0x1fecd9[_0x38b090(0x2ec)]>0x0?_0x38b090(0x25f):_0x38b090(0x252))+_0x38b090(0x2ca))):logger['debug'](_0x38b090(0x266)+Math[_0x38b090(0x28f)](_0x1fecd9[_0x38b090(0x2ec)])+'\x20'+_0x1fecd9[_0x38b090(0x232)]+'\x20'+(_0x1fecd9[_0x38b090(0x2ec)]>0x0?_0x38b090(0x25f):_0x38b090(0x252))+_0x38b090(0x2c8)));}else logger[_0x38b090(0x345)](_0x38b090(0x255)+Math['abs'](_0x1fecd9[_0x38b090(0x2ec)])+'\x20'+_0x1fecd9['coin']+'\x20'+(_0x1fecd9['number']>0x0?'added':'removed'));}else logger[_0x38b090(0x345)]('Portfolio\x20change\x20detected:\x20'+Math[_0x38b090(0x28f)](_0x1fecd9['number'])+'\x20'+_0x1fecd9[_0x38b090(0x232)]+'\x20'+(_0x1fecd9[_0x38b090(0x2ec)]>0x0?_0x38b090(0x25f):_0x38b090(0x252))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x2874b8,currentCoinsAll=_0x278227;}catch(_0x2b8a61){if(!exchangeStopped)await handleError(_0x2b8a61,_0x38b090(0x265));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x57696a=_0x595393;logger[_0x57696a(0x345)]('Loading\x20symbols');try{markets=await exchange[_0x57696a(0x2e6)]();}catch(_0x230359){logger[_0x57696a(0x345)](_0x57696a(0x29d)+_0x230359[_0x57696a(0x25c)]());if(markets){}else logHistory(_0x57696a(0x350),_0x57696a(0x1de)),logHistory(_0x57696a(0x350),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x57696a(0x2e1)),logger[_0x57696a(0x345)](_0x57696a(0x2ac),_0x230359),loading[_0x57696a(0x26d)]=!![],emitLoadingProgress(),await sleep(loadCoinsRetryInterval),restartBot();}allSymbols=[],Object[_0x57696a(0x333)](markets)[_0x57696a(0x1ec)](_0x1c245d=>{const _0x1a3c35=_0x57696a;_0x1c245d[0x1]['active']&&_0x1c245d[0x1][_0x1a3c35(0x1f0)]&&allSymbols[_0x1a3c35(0x227)](_0x1c245d[0x0]);});}function validateSymbols(_0x437468){const _0x248f49=_0x595393;let _0x13119b=[];return _0x437468[_0x248f49(0x1ec)](_0x23a952=>{const _0x4b2de5=_0x248f49;!allSymbols[_0x4b2de5(0x22a)](_0x23a952)?logHistory(_0x4b2de5(0x350),'Invalid\x20symbol:\x20'+_0x23a952+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x13119b[_0x4b2de5(0x227)](_0x23a952);}),_0x13119b;}async function initclient(){const _0x3610dd=_0x595393;proxyEmit(_0x3610dd(0x204),emittedConfiguration()),proxyEmit(_0x3610dd(0x21b),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3610dd(0x2e3),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x32e6d5=getNormalizedPerformance();emitPerformance(_0x32e6d5),getStartingBalances(_0x32e6d5);}async function toggleBotMode(){const _0x3f1eba=_0x595393;let _0x53d084=dbConfig[_0x3f1eba(0x36d)]('bot')[_0x3f1eba(0x27b)]({'botID':botID})[_0x3f1eba(0x2b7)]();if(_0x53d084){const _0x3605e3=!_0x53d084[_0x3f1eba(0x228)];dbConfig[_0x3f1eba(0x36d)](_0x3f1eba(0x27d))['find']({'botID':botID})[_0x3f1eba(0x218)]({'headless':_0x3605e3})['write'](),config[_0x3f1eba(0x228)]=_0x3605e3,proxyEmit(_0x3f1eba(0x204),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2c12ea=_0x595393;process[_0x2c12ea(0x23c)]({'updatebotmanager':!![]},_0x111092=>{}),logger[_0x2c12ea(0x345)](_0x2c12ea(0x28c)+config[_0x2c12ea(0x228)]);}async function loadCoins(_0x135a81){const _0x1fcbfb=_0x595393;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0xbad601,_0x22cf5f=0x0,_0x1c30b3=0x0;_0x135a81['forEach'](_0x4eee5a=>{const _0x2f24e5=_0x217c;loading[_0x2f24e5(0x29b)][_0x2f24e5(0x227)](_0x4eee5a);}),loadingCanceled=![];let _0x248352=![];while(_0xbad601!=_0x135a81['length']+maxLoadingProgress){_0xbad601=loadingProgress,_0x135a81['forEach'](_0x15ae82=>{const _0x206beb=_0x217c;if(gTicker[noslash(_0x15ae82)]){loading[_0x206beb(0x29b)]=loading['remainingSymbols'][_0x206beb(0x349)](_0x45b5b8=>_0x45b5b8!=_0x15ae82);if(!watchedSymbols[_0x206beb(0x22a)](_0x15ae82))watchedSymbols['push'](_0x15ae82);_0xbad601++;}}),loading[_0x1fcbfb(0x1d4)]=Math['round'](_0xbad601/(_0x135a81[_0x1fcbfb(0x244)]+maxLoadingProgress)*0x64);loading[_0x1fcbfb(0x1d4)]!=0x64&&(_0x1c30b3>0x1e*0x5&&(loading[_0x1fcbfb(0x304)]=!![],emitLoadingProgress()),_0x1c30b3>0x78*0x5&&!_0x248352&&(_0x248352=!![],logHistory('error',_0x1fcbfb(0x256)+loading[_0x1fcbfb(0x29b)][_0x1fcbfb(0x341)](',\x20')+_0x1fcbfb(0x1e5)),logHistory(_0x1fcbfb(0x350),_0x1fcbfb(0x283)+loadCoinsRetryInterval/0xea60+_0x1fcbfb(0x2e1)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x1fcbfb(0x26d)]=!![],emitLoadingProgress();break;}else _0x22cf5f!=loading[_0x1fcbfb(0x1d4)]&&(_0x22cf5f=loading[_0x1fcbfb(0x1d4)],emitLoadingProgress()),_0x1c30b3++,await sleep(0xc8);}_0xbad601==_0x135a81[_0x1fcbfb(0x244)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x1fcbfb(0x23c)]({'status':_0x1fcbfb(0x217),'live':_0x1fcbfb(0x22f)},_0x3f84b6=>{}),_0x248352&&logHistory(_0x1fcbfb(0x1d5),_0x1fcbfb(0x289)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2beff8=_0x595393;proxyEmit(_0x2beff8(0x204),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x5dbca4=_0x595393;let _0x279151=gTicker[stablecoins[_0x5dbca4(0x327)]['coin']],_0x405883=gTicker[stablecoins[_0x5dbca4(0x20a)]['coin']];return{'eur':Number(_0x279151),'usd':Number(_0x405883)};}function capitalize(_0x13a0d5){const _0x43fd1c=_0x595393;return _0x13a0d5[_0x43fd1c(0x298)](0x0,0x1)[_0x43fd1c(0x248)]()+_0x13a0d5[_0x43fd1c(0x298)](0x1);}function supportedExchanges(){const _0x14c101=_0x595393,_0x29e632=['ws','fetchTickers',_0x14c101(0x211),_0x14c101(0x206),_0x14c101(0x30a),_0x14c101(0x30b),_0x14c101(0x2cf),_0x14c101(0x269),_0x14c101(0x220)];let _0x205596=[],_0x10f4a7=[],_0x39957e=ccxt['pro'][_0x14c101(0x21b)];_0x39957e[_0x14c101(0x1ec)](_0x32fa95=>{const _0xca5aa8=_0x14c101;try{const _0x41d52d=new ccxt[(_0xca5aa8(0x241))][_0x32fa95]();_0x10f4a7['push'](_0x41d52d);}catch(_0x244bc2){}}),_0x10f4a7[_0x14c101(0x1ec)](_0x4237ec=>{const _0x3b391b=_0x14c101;let _0x3a28d5=0x0;_0x29e632[_0x3b391b(0x1ec)](_0x31fcb4=>{const _0x3f290c=_0x3b391b;_0x31fcb4 in _0x4237ec[_0x3f290c(0x307)]&&_0x4237ec[_0x3f290c(0x307)][_0x31fcb4]&&_0x3a28d5++;}),_0x3a28d5==_0x29e632[_0x3b391b(0x244)]&&_0x205596['push'](capitalize(_0x4237ec['id']));});let _0x300088=[];return _0x39957e[_0x14c101(0x1ec)](_0x20daff=>{const _0x564b52=_0x14c101;_0x20daff=capitalize(_0x20daff);if(!_0x205596['includes'](_0x20daff))_0x300088[_0x564b52(0x227)](_0x20daff);}),_0x205596;}function setStartDatePerformance(){const _0x216af2=_0x595393;if(config&&config[_0x216af2(0x2ae)][0x0]['changes']['length']!=0x0){const _0x121407=config[_0x216af2(0x2ae)][0x0][_0x216af2(0x25d)];dbPerformance[_0x216af2(0x36d)](_0x216af2(0x260))[_0x216af2(0x27b)]({'date':config['startdate']})['assign']({'coins':_0x121407})['write']();}}async function recreateCoinResults(){const _0x358554=_0x595393;recreationNeeded=![];let _0x533ff4,_0x4f07b7=[];try{for(const _0x1fb2fd of currentCoins){if(_0x1fb2fd[_0x358554(0x232)]!=config[_0x358554(0x2f4)]){let _0x3e7e02=0x0,_0x16f386,_0x4c08a4;_0x533ff4=await getAllEventOrders(_0x1fb2fd[_0x358554(0x1f8)]);if(_0x533ff4[_0x358554(0x244)]>0x0)_0x533ff4['forEach'](_0x3433ab=>{const _0x37f297=_0x358554,_0x3fec41=_0x1fb2fd[_0x37f297(0x1f8)][_0x37f297(0x22a)](config[_0x37f297(0x2f4)]+'/');_0x4f07b7[_0x37f297(0x227)]({'datetime':_0x3433ab[_0x37f297(0x348)],'coin':_0x1fb2fd[_0x37f297(0x232)],'symbol':_0x1fb2fd['symbol'],'side':_0x3433ab[_0x37f297(0x285)],'reverse':_0x3fec41,'amount':formatResult(_0x3433ab[_0x37f297(0x369)],0x8),'filled':formatResult(_0x3433ab[_0x37f297(0x369)],0x8),'price':formatResult(_0x3433ab[_0x37f297(0x317)],0x8)}),_0x3e7e02=_0x3433ab[_0x37f297(0x285)]==_0x37f297(0x292)?_0x3e7e02+_0x3433ab[_0x37f297(0x369)]:_0x3e7e02-_0x3433ab[_0x37f297(0x369)];if(!_0x4c08a4)_0x4c08a4=_0x3433ab[_0x37f297(0x317)];});_0x16f386=_0x1fb2fd[_0x358554(0x2ec)]-_0x3e7e02;let _0x2676e9;config['liquidity'][_0x358554(0x1ec)](_0x2ae145=>{const _0x133d1c=_0x358554;!_0x2676e9&&(_0x2676e9=_0x2ae145[_0x133d1c(0x25d)][_0x133d1c(0x27b)](_0x2fd77e=>_0x2fd77e['coin']==_0x1fb2fd['coin']),_0x2676e9&&(_0x16f386=_0x2676e9['number'],_0x4c08a4=_0x2676e9[_0x133d1c(0x317)]));});let _0x1f3d1a=dbCoinResults[_0x358554(0x36d)](_0x358554(0x2cd))[_0x358554(0x27b)]({'coin':_0x1fb2fd['coin']})[_0x358554(0x2b7)]();_0x1f3d1a={'coin':_0x1fb2fd['coin'],'number':_0x16f386,'breakeven':_0x4c08a4,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x358554(0x2cd))['find']({'coin':_0x1fb2fd[_0x358554(0x232)]})['assign'](_0x1f3d1a)[_0x358554(0x323)]();}}_0x4f07b7['sort']((_0x21432c,_0x1833c5)=>_0x21432c[_0x358554(0x348)]>_0x1833c5['datetime']?0x1:_0x1833c5[_0x358554(0x348)]>_0x21432c['datetime']?-0x1:0x0);let _0x4b4eea=0x0;for(let _0x377e9e of _0x4f07b7){await updateCoinResults(_0x377e9e,!![]);}}catch(_0x41f25c){await handleError(_0x41f25c,'recreateCoinResults()');}}async function getAllEventOrders(_0x558585){const _0x3844b4=_0x595393;let _0x59943f=[],_0x24c26c=dbLogs[_0x3844b4(0x36d)](_0x3844b4(0x35d))[_0x3844b4(0x349)](_0x1835d5=>{const _0x2de95e=_0x3844b4,_0x1a71c1=_0x1835d5[_0x2de95e(0x213)][_0x2de95e(0x226)]();return _0x1a71c1[_0x2de95e(0x22a)](_0x558585['toLowerCase']())&&(_0x1a71c1['includes'](_0x2de95e(0x2a1))&&_0x1a71c1['includes'](_0x2de95e(0x1cf))||_0x1a71c1[_0x2de95e(0x22a)](_0x2de95e(0x369))&&_0x1a71c1[_0x2de95e(0x22a)](_0x2de95e(0x1cf)));})['sortBy'](_0x3844b4(0x370))[_0x3844b4(0x2b7)]();return _0x24c26c[_0x3844b4(0x1ec)](_0x2f9719=>{const _0x52d3ce=_0x3844b4,_0x1203a9=_0x2f9719[_0x52d3ce(0x213)]['includes'](_0x52d3ce(0x2b4))?_0x52d3ce(0x2b4):_0x52d3ce(0x292),_0x3c3688=/#([0-9]|\.)+\s/i,_0x2e78f6=Number(_0x3c3688[_0x52d3ce(0x318)](_0x2f9719[_0x52d3ce(0x213)])[0x0]['slice'](0x1)),_0x1e83f6=/@([0-9]|\.)+$/i,_0x25d955=Number(_0x1e83f6[_0x52d3ce(0x318)](_0x2f9719[_0x52d3ce(0x213)])[0x0][_0x52d3ce(0x2ea)](0x1));_0x59943f[_0x52d3ce(0x227)]({'datetime':_0x2f9719[_0x52d3ce(0x370)],'coin':symbolToCoin(_0x558585),'symbol':_0x558585,'side':_0x1203a9,'amount':_0x2e78f6,'filled':_0x2e78f6,'price':_0x25d955});}),_0x59943f;}async function validate24hChanges(){const _0x2c0bff=_0x595393;for(const _0x3c15f5 of currentCoins){if(_0x3c15f5[_0x2c0bff(0x232)]!=config[_0x2c0bff(0x2f4)]){let _0x1d2403;_0x3c15f5[_0x2c0bff(0x33e)]?_0x1d2403=formatResult((0x1/(gChange[_0x3c15f5[_0x2c0bff(0x1f8)]]/0x64+0x1)-0x1)*0x64,0x3):_0x1d2403=gChange[_0x3c15f5[_0x2c0bff(0x1f8)]],_0x1d2403<config[_0x2c0bff(0x275)]&&(logHistory(_0x2c0bff(0x350),_0x3c15f5['coin']+_0x2c0bff(0x223)+_0x1d2403+'%'),logHistory(_0x2c0bff(0x350),_0x2c0bff(0x26b)),logHistory('error',_0x2c0bff(0x359)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x5466cd,_0x3ce0fc){if(!_0x5466cd)return!![];const _0x3f81f7=_0x3ce0fc['split']('.'),_0x2c959e=_0x5466cd['split']('.');for(var _0x297ce6=0x0;_0x297ce6<_0x2c959e['length'];_0x297ce6++){const _0x59e25c=~~_0x2c959e[_0x297ce6],_0x21abf2=~~_0x3f81f7[_0x297ce6];if(_0x59e25c<_0x21abf2)return!![];if(_0x59e25c>_0x21abf2)return![];}return![];}async function oneTimeMigration(){const _0x49fffa=_0x595393;let _0x3e9b6c=dbLogs['get']('version')[_0x49fffa(0x2b7)]();if(isOlderVersion(_0x3e9b6c,_0x49fffa(0x344))){let _0x3cf057=[];const _0x3a622e=dbLogs['get']('logs')[_0x49fffa(0x2b7)]();_0x3a622e[_0x49fffa(0x1ec)](_0x5eda68=>{const _0x3589c4=_0x49fffa;_0x3cf057[_0x3589c4(0x227)]({'time':_0x5eda68[_0x3589c4(0x370)],'type':_0x5eda68[_0x3589c4(0x2ab)],'event':_0x5eda68['event']});}),dbLogs[_0x49fffa(0x36d)](_0x49fffa(0x35d))['assign'](_0x3cf057)[_0x49fffa(0x323)]();}let _0x282d4c=dbConfig[_0x49fffa(0x36d)]('version')[_0x49fffa(0x2b7)]();if(isOlderVersion(_0x282d4c,'2.3.5')){let _0x34a106=dbConfig[_0x49fffa(0x36d)](_0x49fffa(0x27d))[_0x49fffa(0x27b)]({'botID':botID})[_0x49fffa(0x2b7)]();if(_0x34a106){let _0x57735d=[];_0x34a106['portfolio'][_0x49fffa(0x1ec)](_0x2e0a1b=>{const _0x412701=_0x49fffa;_0x57735d[_0x412701(0x227)]({'coin':_0x2e0a1b[_0x412701(0x232)],'number':_0x2e0a1b[_0x412701(0x310)],'price':_0x2e0a1b[_0x412701(0x2bd)]}),delete _0x2e0a1b[_0x412701(0x310)],delete _0x2e0a1b[_0x412701(0x2bd)];});if(_0x57735d[_0x49fffa(0x244)]!==0x0)fs[_0x49fffa(0x2f5)](configbackuppath+('starting-balance-'+botID+_0x49fffa(0x2cb)),JSON['stringify'](_0x57735d,null,0x4),function(_0x59e7a0){if(_0x59e7a0){}});const _0x1c8d8b=(_0x4525ac,_0x4d13fc)=>{const _0x35e69b=_0x49fffa;let _0x206147=[];_0x4d13fc[_0x35e69b(0x1ec)](_0x400429=>{const _0x5386ff=_0x35e69b,_0x47b573=_0x4525ac[_0x5386ff(0x27b)](_0x2e908f=>_0x2e908f[_0x5386ff(0x232)]==_0x400429['coin']);if(!_0x47b573)_0x206147[_0x5386ff(0x227)](_0x400429);});let _0x18eb79=[];return _0x4525ac[_0x35e69b(0x1ec)](_0x2e36be=>{const _0x5cddcd=_0x35e69b,_0xbfc153=_0x4d13fc[_0x5cddcd(0x27b)](_0x492df2=>_0x492df2[_0x5cddcd(0x232)]==_0x2e36be[_0x5cddcd(0x232)]);if(!_0xbfc153||_0xbfc153['number']==0x0&&_0x2e36be[_0x5cddcd(0x2ec)]!=0x0)_0x18eb79['push'](_0x2e36be);}),{'missingDay1':_0x206147,'notInDay2':_0x18eb79};},_0x100b4a=dbPerformance[_0x49fffa(0x36d)](_0x49fffa(0x260))[_0x49fffa(0x312)]()[_0x49fffa(0x2b7)]();if(_0x100b4a[_0x49fffa(0x244)]>0x1){const {missingDay1:_0x283907,notInDay2:_0x346def}=_0x1c8d8b(_0x57735d,_0x100b4a[0x1][_0x49fffa(0x2cd)]);_0x57735d=[..._0x57735d,..._0x283907],_0x346def[_0x49fffa(0x1ec)](_0x162fbf=>{const _0x344eb4=_0x49fffa;let _0x38cd09=_0x57735d[_0x344eb4(0x1d0)](_0x5c080e=>_0x5c080e[_0x344eb4(0x232)]==_0x162fbf['coin']);_0x38cd09!=-0x1&&_0x57735d['splice'](_0x38cd09,0x1);});}_0x57735d[_0x49fffa(0x346)]((_0xfa33ff,_0xa08918)=>_0xfa33ff[_0x49fffa(0x232)]>_0xa08918['coin']?0x1:_0xa08918[_0x49fffa(0x232)]>_0xfa33ff[_0x49fffa(0x232)]?-0x1:0x0);let _0x554aed=[{'date':_0x34a106[_0x49fffa(0x21a)],'changes':_0x57735d}];_0x100b4a[_0x49fffa(0x244)]>0x2&&_0x100b4a[_0x49fffa(0x1ec)]((_0x575d0c,_0x3f0c4b)=>{const _0x493557=_0x49fffa;if(_0x3f0c4b>0x0&&_0x3f0c4b<_0x100b4a[_0x493557(0x244)]-0x1){const {missingDay1:_0x104b3a,notInDay2:_0x52d554}=_0x1c8d8b(_0x100b4a[_0x3f0c4b]['coins'],_0x100b4a[_0x3f0c4b+0x1][_0x493557(0x2cd)]);_0x57735d=[],(_0x104b3a['length']!=0x0||_0x52d554['length']!=0x0)&&(_0x104b3a[_0x493557(0x244)]!=0x0&&_0x57735d['push'](..._0x104b3a),_0x52d554['length']!=0x0&&(_0x52d554['forEach'](_0x53d262=>{const _0x5ee6e4=_0x493557;_0x53d262[_0x5ee6e4(0x2ec)]=-_0x53d262[_0x5ee6e4(0x2ec)];}),_0x57735d[_0x493557(0x227)](..._0x52d554)),_0x57735d['sort']((_0x451ad5,_0x3d1f13)=>_0x451ad5[_0x493557(0x232)]>_0x3d1f13[_0x493557(0x232)]?0x1:_0x3d1f13[_0x493557(0x232)]>_0x451ad5['coin']?-0x1:0x0),_0x554aed[_0x493557(0x227)]({'date':_0x100b4a[_0x3f0c4b+0x1][_0x493557(0x225)],'changes':_0x57735d}));}}),dbConfig[_0x49fffa(0x36d)](_0x49fffa(0x27d))[_0x49fffa(0x27b)]({'botID':botID})['assign']({..._0x34a106,'liquidity':_0x554aed})[_0x49fffa(0x323)]();}}if(isOlderVersion(_0x282d4c,_0x49fffa(0x263))){let _0x454c9d=dbConfig['get'](_0x49fffa(0x27d))[_0x49fffa(0x27b)]({'botID':botID})['value']();if(_0x454c9d){const _0x1a91b9=_0x454c9d[_0x49fffa(0x28a)],_0x1a8371=_0x1a91b9?capitalize(_0x1a91b9):_0x49fffa(0x31a);dbConfig[_0x49fffa(0x36d)](_0x49fffa(0x27d))[_0x49fffa(0x27b)]({'botID':botID})[_0x49fffa(0x218)]({'exchange':_0x1a8371})[_0x49fffa(0x323)]();}}if(isOlderVersion(_0x282d4c,'2.6.22')){let _0xd7644=dbConfig[_0x49fffa(0x36d)](_0x49fffa(0x27d))[_0x49fffa(0x27b)]({'botID':botID})[_0x49fffa(0x2b7)]();if(_0xd7644){const _0x3dbf50=_0xd7644[_0x49fffa(0x29a)],_0x20b7b7=_0x3dbf50?_0x49fffa(0x1e2):![];dbConfig['get'](_0x49fffa(0x27d))[_0x49fffa(0x27b)]({'botID':botID})[_0x49fffa(0x218)]({'marketcapEnabled':_0x20b7b7})[_0x49fffa(0x323)]();}}if(isOlderVersion(_0x282d4c,_0x49fffa(0x21e))){let _0x475c9a=dbConfig[_0x49fffa(0x36d)]('bot')[_0x49fffa(0x27b)]({'botID':botID})['value']();if(_0x475c9a){const _0x10de70=_0x475c9a[_0x49fffa(0x21c)],_0x2dc82b=_0x10de70?'update-liquidity':![];dbConfig[_0x49fffa(0x36d)](_0x49fffa(0x27d))[_0x49fffa(0x27b)]({'botID':botID})[_0x49fffa(0x218)]({'autoliquidity':_0x2dc82b})[_0x49fffa(0x323)]();}}let _0x428c17=dbPerformance[_0x49fffa(0x36d)](_0x49fffa(0x31c))[_0x49fffa(0x2b7)]();isOlderVersion(_0x428c17,'2.3.5')&&setStartDatePerformance();let _0x5326d8=dbCoinResults[_0x49fffa(0x36d)](_0x49fffa(0x31c))['value']();if(isOlderVersion(_0x5326d8,'2.5.0')){let _0x1a0006=dbCoinResults['get'](_0x49fffa(0x2cd))[_0x49fffa(0x2b7)]();if(_0x1a0006['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x24c254=_0x595393;dbConfig[_0x24c254(0x2a7)](_0x24c254(0x31c),serverversion)['write'](),dbPerformance[_0x24c254(0x2a7)]('version',serverversion)[_0x24c254(0x323)](),dbLogs[_0x24c254(0x2a7)]('version',serverversion)[_0x24c254(0x323)](),dbCoinResults[_0x24c254(0x2a7)](_0x24c254(0x31c),serverversion)[_0x24c254(0x323)]();}function getConfiguration(_0x53bd7e){const _0x6b03fb=_0x595393;let _0x1f39a3=dbConfig['get'](_0x6b03fb(0x27d))['find']({'botID':_0x53bd7e})[_0x6b03fb(0x2b7)]();if(_0x1f39a3){let _0x4e82df=![];typeof _0x1f39a3[_0x6b03fb(0x2ef)]=='string'&&(_0x1f39a3={..._0x1f39a3,'threshold':Number(_0x1f39a3[_0x6b03fb(0x2ef)])},_0x4e82df=!![]),_0x1f39a3['change24h']==undefined&&(_0x1f39a3={..._0x1f39a3,'change24h':-0x14},_0x4e82df=!![]),_0x1f39a3['fiat']==undefined&&(_0x1f39a3={..._0x1f39a3,'fiat':'USD'},_0x4e82df=!![]),_0x1f39a3['onepagemode']==undefined&&(_0x1f39a3={..._0x1f39a3,'onepagemode':settings[_0x6b03fb(0x2a0)]},_0x4e82df=!![]),_0x1f39a3[_0x6b03fb(0x372)]==undefined&&(_0x1f39a3={..._0x1f39a3,'colorscheme':'red_yellow_blue'},_0x4e82df=!![]),_0x1f39a3['autoliquidity']==undefined&&(_0x1f39a3={..._0x1f39a3,'autoliquidity':_0x6b03fb(0x1e8)},_0x4e82df=!![]),_0x1f39a3[_0x6b03fb(0x325)]==undefined&&(_0x1f39a3={..._0x1f39a3,'marketcapApi':settings[_0x6b03fb(0x325)]?!![]:![]},_0x4e82df=!![]),_0x1f39a3['marketcapEnabled']==undefined&&(_0x1f39a3={..._0x1f39a3,'marketcapEnabled':![]},_0x4e82df=!![]),_0x4e82df&&(_0x1f39a3={'botID':_0x1f39a3[_0x6b03fb(0x34d)],'exchange':_0x1f39a3[_0x6b03fb(0x28a)],'apiKey':_0x1f39a3[_0x6b03fb(0x24d)],'apiSecret':_0x1f39a3[_0x6b03fb(0x300)],'apiPassword':_0x1f39a3[_0x6b03fb(0x1ff)],'basecoin':_0x1f39a3['basecoin'],'botname':_0x1f39a3['botname'],'showname':_0x1f39a3[_0x6b03fb(0x1fc)],'threshold':_0x1f39a3[_0x6b03fb(0x2ef)],'ordertype':_0x1f39a3['ordertype'],'timeout':_0x1f39a3['timeout'],'fiat':_0x1f39a3[_0x6b03fb(0x336)],'startdate':_0x1f39a3['startdate'],'recreate':_0x1f39a3[_0x6b03fb(0x2d4)],'timeshift':_0x1f39a3[_0x6b03fb(0x303)],'onepagemode':_0x1f39a3['onepagemode'],'headless':_0x1f39a3[_0x6b03fb(0x228)],'cooldown':_0x1f39a3[_0x6b03fb(0x271)],'change24h':_0x1f39a3[_0x6b03fb(0x275)],'emojibuy':_0x1f39a3[_0x6b03fb(0x35c)],'emojisell':_0x1f39a3[_0x6b03fb(0x2db)],'colorscheme':_0x1f39a3[_0x6b03fb(0x372)],'marketcapApi':_0x1f39a3['marketcapApi'],'marketcapEnabled':_0x1f39a3[_0x6b03fb(0x29a)],'portfolio':_0x1f39a3[_0x6b03fb(0x1ea)],'autoliquidity':_0x1f39a3[_0x6b03fb(0x21c)],'liquidity':_0x1f39a3[_0x6b03fb(0x2ae)],'openOrders':_0x1f39a3[_0x6b03fb(0x21d)]},dbConfig[_0x6b03fb(0x36d)]('bot')[_0x6b03fb(0x1fa)]()[_0x6b03fb(0x323)](),dbConfig[_0x6b03fb(0x36d)]('bot')[_0x6b03fb(0x227)](_0x1f39a3)[_0x6b03fb(0x323)]());}else _0x1f39a3={'botID':_0x53bd7e,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x6b03fb(0x2f1)+_0x53bd7e,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x6b03fb(0x30c),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x6b03fb(0x303)],'onepagemode':settings[_0x6b03fb(0x2a0)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x6b03fb(0x30e),'marketcapApi':settings[_0x6b03fb(0x325)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x6b03fb(0x1e8),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1f39a3;}function emittedConfiguration(){const _0x1f7f2f=_0x595393;let _0x233279;if(config[_0x1f7f2f(0x24d)]=='')_0x233279={...config,'configstate':_0x1f7f2f(0x20c)};else config[_0x1f7f2f(0x24d)]==_0x1f7f2f(0x343)?_0x233279={...config,'configstate':'recovery'}:(_0x233279={...config,'apiKey':_0x1f7f2f(0x214),'apiSecret':_0x1f7f2f(0x214)},config[_0x1f7f2f(0x1ff)]&&(_0x233279[_0x1f7f2f(0x1ff)]='************'));return _0x233279[_0x1f7f2f(0x360)]=enableFiatToggle,_0x233279;}function getSettings(){const _0xbbed22=_0x595393;return dbSettings['get'](_0xbbed22(0x216))[_0xbbed22(0x2b7)]();}function getSecure(){const _0x3801f0=_0x595393;return dbSecure['get'](_0x3801f0(0x29c))[_0x3801f0(0x2b7)]()||{};}function updateTimeshift(_0x4e99b9){const _0x578ef5=_0x595393;let _0x7bb05c=dbConfig[_0x578ef5(0x36d)](_0x578ef5(0x27d))[_0x578ef5(0x27b)]({'botID':botID})['value']();_0x7bb05c&&dbConfig[_0x578ef5(0x36d)](_0x578ef5(0x27d))['find']({'botID':botID})[_0x578ef5(0x218)]({'timeshift':_0x4e99b9})[_0x578ef5(0x323)](),config[_0x578ef5(0x303)]=_0x4e99b9,proxyEmit(_0x578ef5(0x204),emittedConfiguration());}function updateOnepagemode(_0x16dbf0){const _0x2b98b8=_0x595393;let _0x35c7bd=dbConfig['get'](_0x2b98b8(0x27d))[_0x2b98b8(0x27b)]({'botID':botID})[_0x2b98b8(0x2b7)]();_0x35c7bd&&dbConfig['get'](_0x2b98b8(0x27d))['find']({'botID':botID})[_0x2b98b8(0x218)]({'onepagemode':_0x16dbf0})['write'](),config['onepagemode']=_0x16dbf0,proxyEmit(_0x2b98b8(0x204),emittedConfiguration());}function updateMarketcapApi(_0x3f9990){const _0x1157de=_0x595393,_0x4a74eb=_0x3f9990?!![]:![];let _0x329856=dbConfig['get'](_0x1157de(0x27d))[_0x1157de(0x27b)]({'botID':botID})[_0x1157de(0x2b7)]();_0x329856&&dbConfig[_0x1157de(0x36d)]('bot')[_0x1157de(0x27b)]({'botID':botID})[_0x1157de(0x218)]({'marketcapApi':_0x4a74eb})[_0x1157de(0x323)](),config[_0x1157de(0x325)]=_0x4a74eb,getMarketCap(),proxyEmit(_0x1157de(0x204),emittedConfiguration());}async function storeConfiguration(_0x1914d8){const _0x753ac2=_0x595393;logger['debug']('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x2920a2=![],_0x3d763b=![],_0x10aa41=[];_0x1914d8[_0x753ac2(0x1ea)]['forEach'](_0xf81b8e=>{const _0x4b7cdd=_0x753ac2;if(!_0xf81b8e[_0x4b7cdd(0x2ad)]&&_0xf81b8e[_0x4b7cdd(0x232)]!=_0x1914d8[_0x4b7cdd(0x2f4)])_0x10aa41['push'](_0xf81b8e[_0x4b7cdd(0x1f8)]);}),_0x10aa41['forEach'](_0x1f31d1=>{const _0x3dd63b=_0x753ac2,_0x439ab1=currentCoins[_0x3dd63b(0x27b)](_0x3d0680=>_0x3d0680['symbol']==_0x1f31d1);!_0x439ab1&&(_0x2920a2=!![]);}),currentCoins[_0x753ac2(0x1ec)](_0x493263=>{const _0x56f364=_0x753ac2;if(_0x493263[_0x56f364(0x232)]!=config[_0x56f364(0x2f4)]){const _0x55a49a=_0x10aa41[_0x56f364(0x27b)](_0x20e562=>_0x20e562==_0x493263[_0x56f364(0x1f8)]);!_0x55a49a&&(_0x2920a2=!![]);}}),_0x1914d8['portfolio']['forEach'](_0x35a466=>{const _0x3b545e=_0x753ac2,_0x5c71c0=config['portfolio'][_0x3b545e(0x27b)](_0x50a086=>_0x50a086[_0x3b545e(0x232)]==_0x35a466['coin']);if(_0x5c71c0&&_0x35a466['offset']!=_0x5c71c0[_0x3b545e(0x351)])_0x3d763b=!![];});let _0x4df2a8=dbConfig[_0x753ac2(0x36d)]('bot')['find']({'botID':botID})[_0x753ac2(0x2b7)]();_0x1914d8={..._0x1914d8,'apiKey':crypt[_0x753ac2(0x2a5)](secure[_0x753ac2(0x28b)],_0x1914d8[_0x753ac2(0x24d)])[_0x753ac2(0x1f1)],'apiSecret':crypt[_0x753ac2(0x2a5)](secure[_0x753ac2(0x28b)],_0x1914d8[_0x753ac2(0x300)])[_0x753ac2(0x1f1)]};_0x1914d8['apiPassword']&&(_0x1914d8[_0x753ac2(0x1ff)]=crypt[_0x753ac2(0x2a5)](secure[_0x753ac2(0x28b)],_0x1914d8['apiPassword'])['message']);let _0x25ebfc=![];if(_0x4df2a8){_0x1914d8[_0x753ac2(0x24d)]=='************'?_0x1914d8[_0x753ac2(0x24d)]=config[_0x753ac2(0x24d)]:_0x25ebfc=!![];_0x1914d8['apiSecret']==_0x753ac2(0x214)?_0x1914d8[_0x753ac2(0x300)]=config[_0x753ac2(0x300)]:_0x25ebfc=!![];if(_0x1914d8[_0x753ac2(0x1ff)]==_0x753ac2(0x214))_0x1914d8[_0x753ac2(0x1ff)]=config[_0x753ac2(0x1ff)];else{if(_0x1914d8[_0x753ac2(0x1ff)])_0x25ebfc=!![];}dbConfig['get'](_0x753ac2(0x27d))[_0x753ac2(0x27b)]({'botID':botID})[_0x753ac2(0x218)](_0x1914d8)[_0x753ac2(0x323)]();}else dbConfig[_0x753ac2(0x36d)](_0x753ac2(0x27d))['push'](_0x1914d8)[_0x753ac2(0x323)](),_0x25ebfc=!![],process['send']({'status':_0x753ac2(0x217),'live':'running'},_0x4f074b=>{});process['send']({'botname':_0x1914d8[_0x753ac2(0x22e)]},_0x48e8bc=>{}),config={..._0x1914d8},updateBotManager(),proxyEmit(_0x753ac2(0x35e)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x25ebfc)!_0x4df2a8?await reset(!![]):getBalances();else _0x2920a2||_0x3d763b?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x5927c0){const _0x4b1239=_0x595393,_0x59f592={...config,'headless':_0x5927c0[_0x4b1239(0x228)]};let _0x18e4f2=dbConfig[_0x4b1239(0x36d)](_0x4b1239(0x27d))['find']({'botID':botID})[_0x4b1239(0x2b7)]();_0x18e4f2&&dbConfig[_0x4b1239(0x36d)](_0x4b1239(0x27d))[_0x4b1239(0x27b)]({'botID':botID})[_0x4b1239(0x218)](_0x59f592)[_0x4b1239(0x323)](),config={..._0x59f592},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x35bf25){const _0x57399c=_0x595393,_0x58d533={...config,'fiat':_0x35bf25};let _0x124e21=dbConfig[_0x57399c(0x36d)](_0x57399c(0x27d))['find']({'botID':botID})['value']();_0x124e21&&dbConfig[_0x57399c(0x36d)](_0x57399c(0x27d))[_0x57399c(0x27b)]({'botID':botID})[_0x57399c(0x218)](_0x58d533)['write'](),config={..._0x58d533},proxyEmit(_0x57399c(0x204),emittedConfiguration());}function resetHistory(){const _0xe83a91=_0x595393;logger[_0xe83a91(0x1c9)](_0xe83a91(0x347));try{if(fs['existsSync'](path[_0xe83a91(0x341)](configpath,_0xe83a91(0x1df)+botID+_0xe83a91(0x1c6))))fs[_0xe83a91(0x340)](path[_0xe83a91(0x341)](configpath,_0xe83a91(0x1df)+botID+_0xe83a91(0x1c6)));if(fs[_0xe83a91(0x319)](path[_0xe83a91(0x341)](configpath,_0xe83a91(0x1df)+botID+_0xe83a91(0x32d))))fs[_0xe83a91(0x340)](path[_0xe83a91(0x341)](configpath,'bot-'+botID+_0xe83a91(0x32d)));if(fs[_0xe83a91(0x319)](path[_0xe83a91(0x341)](configpath,_0xe83a91(0x1df)+botID+_0xe83a91(0x210))))fs[_0xe83a91(0x340)](path[_0xe83a91(0x341)](configpath,_0xe83a91(0x1df)+botID+_0xe83a91(0x210)));}catch(_0x1ee09c){if(_0x1ee09c)logger[_0xe83a91(0x1c9)]('Error\x20while\x20deleting\x20files:\x20',_0x1ee09c);}const _0x4d60b1=getDate();let _0x33ac95=[];currentCoins[_0xe83a91(0x1ec)](_0x4f498a=>{const _0x254186=_0xe83a91;_0x33ac95['push']({'coin':_0x4f498a[_0x254186(0x232)],'number':_0x4f498a['number'],'price':_0x4f498a[_0x254186(0x308)]});});let _0x31a576=dbConfig[_0xe83a91(0x36d)]('bot')[_0xe83a91(0x27b)]({'botID':botID})['value']();_0x31a576&&(dbConfig[_0xe83a91(0x36d)](_0xe83a91(0x27d))[_0xe83a91(0x27b)]({'botID':botID})[_0xe83a91(0x218)]({'liquidity':[{'date':_0x4d60b1,'changes':_0x33ac95}]})[_0xe83a91(0x323)](),config[_0xe83a91(0x2ae)]=[]),restartBot(!![]);}function noslash(_0x107d94){const _0x5d5838=_0x595393;return _0x107d94[_0x5d5838(0x230)]('/','');}function updateHighestFee(_0x3f9dd5){const _0x1c5409=_0x595393;if(_0x3f9dd5[_0x1c5409(0x33e)]){let _0x5aa826={'filled':_0x3f9dd5[_0x1c5409(0x369)]*_0x3f9dd5[_0x1c5409(0x317)],'amount':_0x3f9dd5[_0x1c5409(0x369)]*_0x3f9dd5['price'],'side':_0x3f9dd5[_0x1c5409(0x285)]==_0x1c5409(0x2b4)?_0x1c5409(0x292):_0x1c5409(0x2b4),'price':0x1/_0x3f9dd5[_0x1c5409(0x317)]};_0x3f9dd5={..._0x3f9dd5,..._0x5aa826};}const _0x290c40=defaultFee*_0x3f9dd5[_0x1c5409(0x369)]*_0x3f9dd5[_0x1c5409(0x317)];lastFees[_0x1c5409(0x24b)]['length']===0x14&&lastFees['recent20'][_0x1c5409(0x1c7)](),lastFees['recent20'][_0x1c5409(0x227)](_0x290c40),lastFees[_0x1c5409(0x1fe)]=Math[_0x1c5409(0x1e7)](...lastFees[_0x1c5409(0x24b)]);}async function updateNumberCoinsCcxt(_0x48a6f6){const _0x50b220=_0x595393;logger[_0x50b220(0x345)](_0x50b220(0x2b8)+_0x48a6f6['symbol']+_0x50b220(0x1e4)+_0x48a6f6[_0x50b220(0x330)]+'\x20|\x20'+_0x48a6f6[_0x50b220(0x369)]+_0x50b220(0x26c)+_0x48a6f6[_0x50b220(0x259)]+_0x50b220(0x1e4)+_0x48a6f6['id']);let _0x4cba85=_0x48a6f6[_0x50b220(0x330)],_0x58242a=![];currentCoins[_0x50b220(0x1ec)](_0x1700cb=>{const _0x347cea=_0x50b220;_0x1700cb[_0x347cea(0x1f8)]==_0x48a6f6[_0x347cea(0x1f8)]&&(_0x58242a=!![]);});if(!_0x58242a)return;const _0xb1a1ad=currentCoins[_0x50b220(0x27b)](_0x5d6717=>_0x5d6717[_0x50b220(0x1f8)]==_0x48a6f6[_0x50b220(0x1f8)]),_0x2c5aab=_0x450a52=>{if(_0xb1a1ad)_0xb1a1ad['orderstatus']=_0x450a52;};let _0x1e3c48=![];for(const _0x29069b of lastOrders){const _0x16ed20=0x64,_0x3cb756=0x1388;let _0x2ef5be=0x0;while(!_0x29069b[_0x50b220(0x32b)]&&_0x2ef5be*_0x16ed20<_0x3cb756){_0x2ef5be++,await sleep(_0x16ed20);}if(_0x2ef5be>0x0)logger[_0x50b220(0x345)](_0x50b220(0x305)+_0x2ef5be*_0x16ed20/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x29069b['orderId']==_0x48a6f6['id']&&(_0x1e3c48=!![]);}if(_0x4cba85==_0x50b220(0x353)){_0x2c5aab(_0x50b220(0x353));if(_0x48a6f6[_0x50b220(0x369)]>0x0){if(_0x1e3c48){setBlockTransactionDetection(!![]),logger[_0x50b220(0x345)](_0x50b220(0x257)+_0x48a6f6['id']);const _0x99938f=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x99938f,setBlockTransactionDetection(![]);}else logger[_0x50b220(0x345)](_0x50b220(0x315)+_0x48a6f6['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x4cba85==_0x50b220(0x2ba)){_0x2c5aab(_0x50b220(0x2ba));const _0x2ccea2=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2ccea2,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x4cba85==_0x50b220(0x1cb)){if(lastOrders)for(const _0x17777b of lastOrders){if(_0x17777b[_0x50b220(0x32b)]==_0x48a6f6['id']){logger[_0x50b220(0x345)](_0x50b220(0x24f)+_0x48a6f6['id']),_0x1e3c48=!![];if(_0x17777b[_0x50b220(0x369)]==0x0){setBlockTransactionDetection(!![]),logger[_0x50b220(0x345)]('2\x20-\x20handling\x20FILLED\x20order:\x20'+_0x48a6f6['id']);if(_0x48a6f6['average'])_0x17777b['price']=_0x48a6f6[_0x50b220(0x313)];else{if(_0x48a6f6[_0x50b220(0x317)])_0x17777b[_0x50b220(0x317)]=_0x48a6f6[_0x50b220(0x317)];else{}}_0x17777b[_0x50b220(0x369)]=_0x48a6f6['filled'],updateHighestFee(_0x17777b),_0x2c5aab(_0x50b220(0x369)),await validateOrders();if(lockOrders==ORDERS[_0x50b220(0x33d)]){const _0x321282=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x321282,setBlockTransactionDetection(![]);}_0x17777b['fee']={'currency':_0x48a6f6[_0x50b220(0x2f6)]?_0x48a6f6[_0x50b220(0x2f6)][_0x50b220(0x2e9)]:null,'cost':_0x48a6f6[_0x50b220(0x2f6)]?_0x48a6f6['fee'][_0x50b220(0x2de)]:0x0},await updateCoinResults(_0x17777b);}}}!_0x1e3c48&&(logger[_0x50b220(0x345)](_0x50b220(0x279)+_0x48a6f6['id']),_0x2c5aab(_0x50b220(0x369)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x13e645=JSON[_0x50b220(0x2a3)](lastBalances[_0x50b220(0x1ea)]);const _0x387c05=_0x13e645['find'](_0x54046d=>_0x54046d[_0x50b220(0x1f8)]==_0x48a6f6[_0x50b220(0x1f8)]);if(_0x387c05){if(_0x4cba85==_0x50b220(0x353))_0x387c05[_0x50b220(0x229)]=_0x387c05['orderstatus']==_0x50b220(0x369)?_0x50b220(0x369):'open';else{if(_0x4cba85==_0x50b220(0x2ba))_0x387c05[_0x50b220(0x229)]=_0x387c05['orderstatus']=='filled'?'filled':_0x50b220(0x2ba);else _0x4cba85==_0x50b220(0x1cb)&&(_0x387c05['orderstatus']=_0x50b220(0x369));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x13e645)},proxyEmit(_0x50b220(0x2e3),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x9f637a=_0x595393;await getOpenOrders();let _0x2f0373=![];currentCoins[_0x9f637a(0x1ec)](_0x211314=>{const _0x3d0b3f=_0x9f637a;_0x2f0373=allOpenOrders[_0x3d0b3f(0x27b)](_0x57cf46=>_0x57cf46['symbol']==_0x211314[_0x3d0b3f(0x1f8)]),_0x211314['orderstatus']=_0x2f0373?_0x3d0b3f(0x353):_0x3d0b3f(0x322);});}async function getCoins(_0x19a8b8=0x0,_0x124d30=!![],_0x15fe7e=config[_0x595393(0x2f4)]){const _0x386525=_0x595393;let _0x155ba3,_0x59e7cc=[],_0x57c507=[],_0x444b6b=[];if(_0x19a8b8)await sleep(_0x19a8b8);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x155ba3=await exchange[_0x386525(0x220)](),mybalances=_0x155ba3[_0x386525(0x1e1)];for(const [_0x4ce7f6,_0x5d73f5]of Object[_0x386525(0x333)](mybalances)){_0x444b6b['push'](_0x4ce7f6);}config[_0x386525(0x1ea)][_0x386525(0x1ec)](_0x207797=>{const _0xde8215=_0x386525;!_0x444b6b[_0xde8215(0x22a)](_0x207797[_0xde8215(0x232)])&&(mybalances[_0x207797[_0xde8215(0x232)]]=0x0);});if(_0x15fe7e=='')for(const [_0x1d502a,_0x4c033f]of Object['entries'](mybalances)){_0x4c033f!=0x0&&_0x59e7cc[_0x386525(0x227)]({'coin':_0x1d502a});}else for(const [_0x14469b,_0x472e2b]of Object[_0x386525(0x333)](mybalances)){const _0x125e99=config['portfolio'][_0x386525(0x27b)](_0x4a3ee6=>_0x4a3ee6['coin']==_0x14469b),_0xd5a9ba=_0x14469b+'/'+_0x15fe7e,_0xb132d4=_0x15fe7e+'/'+_0x14469b,_0x2de9ad=currentCoins[_0x386525(0x27b)](_0x15df80=>_0x15df80['coin']==_0x14469b);if((_0x472e2b!=0x0||_0x125e99)&&(allSymbols[_0x386525(0x22a)](_0xd5a9ba)||_0x14469b==_0x15fe7e))_0x2de9ad?_0x59e7cc[_0x386525(0x227)]({..._0x2de9ad,'number':Math[_0x386525(0x1e7)](_0x472e2b+(_0x125e99&&_0x125e99[_0x386525(0x351)]||0x0),0x0)}):_0x59e7cc[_0x386525(0x227)]({'coin':_0x14469b,'symbol':_0xd5a9ba,'reverse':![],'number':Math['max'](_0x472e2b+(_0x125e99&&_0x125e99[_0x386525(0x351)]||0x0),0x0),'orderstatus':_0x386525(0x322)});else{if((_0x472e2b!=0x0||_0x125e99)&&allSymbols[_0x386525(0x22a)](_0xb132d4))_0x2de9ad?_0x59e7cc[_0x386525(0x227)]({..._0x2de9ad,'number':Math[_0x386525(0x1e7)](_0x472e2b+(_0x125e99&&_0x125e99[_0x386525(0x351)]||0x0),0x0)}):_0x59e7cc[_0x386525(0x227)]({'coin':_0x14469b,'symbol':_0xb132d4,'reverse':!![],'number':Math[_0x386525(0x1e7)](_0x472e2b+(_0x125e99&&_0x125e99[_0x386525(0x351)]||0x0),0x0),'orderstatus':'none'});else _0x125e99&&_0x59e7cc[_0x386525(0x227)]({'coin':_0x125e99['coin'],'symbol':_0x125e99[_0x386525(0x1f8)],'reverse':_0x125e99[_0x386525(0x33e)],'number':0x0,'orderstatus':_0x386525(0x322)});}}}catch(_0x2bc962){if(!_0x124d30)handleErrorNoStop(_0x2bc962,_0x386525(0x1e3));else await handleError(_0x2bc962,_0x386525(0x1e3));}return _0x59e7cc[_0x386525(0x346)]((_0x20a68b,_0x3cea11)=>_0x20a68b[_0x386525(0x1d8)]<_0x3cea11[_0x386525(0x1d8)]?0x1:_0x3cea11['delta']<_0x20a68b[_0x386525(0x1d8)]?-0x1:0x0),_0x57c507=cloneDeep(_0x59e7cc),_0x59e7cc=_0x59e7cc['filter'](_0x50c8c5=>{const _0x568d54=_0x386525,_0x5f3433=config[_0x568d54(0x1ea)][_0x568d54(0x27b)](_0x380acd=>_0x380acd[_0x568d54(0x232)]==_0x50c8c5[_0x568d54(0x232)]);return _0x5f3433&&!_0x5f3433[_0x568d54(0x2ad)];}),[_0x59e7cc,_0x57c507];}async function getCoinNumber(_0x362eec){const _0x1e2a4c=_0x595393;let _0xed66dd;try{const _0x517f11=await exchange[_0x1e2a4c(0x220)]();_0xed66dd=_0x517f11[_0x1e2a4c(0x1e1)][_0x362eec];}catch(_0x301f63){await handleError(_0x301f63,'getCoinNumber()');}return _0xed66dd;}async function getOpenOrders(){const _0x4f88e0=_0x595393;let _0x50cd64;allOpenOrders=[];try{for(const _0x2e9d9d of config[_0x4f88e0(0x1ea)]){!_0x2e9d9d['excluded']&&_0x2e9d9d[_0x4f88e0(0x232)]!=config['basecoin']&&(_0x50cd64=await exchange[_0x4f88e0(0x269)](_0x2e9d9d[_0x4f88e0(0x1f8)]),_0x50cd64['length']>0x0&&allOpenOrders[_0x4f88e0(0x227)](_0x50cd64[0x0]));}}catch(_0x4c8adc){await handleError(_0x4c8adc,_0x4f88e0(0x221));}}async function handleOpenOrders(_0x27412f=0x0){const _0x22412d=_0x595393;allOpenOrders[_0x22412d(0x244)]==0x0&&lockOrders==ORDERS[_0x22412d(0x33d)]&&allOrdersPlaced&&(_0x27412f==0x0?(logger[_0x22412d(0x345)](_0x22412d(0x2dc)),_0x27412f++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x22412d(0x345)](_0x22412d(0x37b)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x4647d0){const _0x2791de=_0x595393,_0x1fbc1f=ccxt['pro'][_0x4647d0[_0x2791de(0x28a)]['toLowerCase']()],_0xec0d91=new _0x1fbc1f({'apiKey':_0x4647d0[_0x2791de(0x24d)],'secret':_0x4647d0['apiSecret'],'options':{'defaultType':_0x2791de(0x1f0)}});if(_0x4647d0[_0x2791de(0x1ff)])_0xec0d91[_0x2791de(0x27c)]=_0x4647d0[_0x2791de(0x1ff)];try{await _0xec0d91['fetchBalance']();}catch(_0xe17abb){logger[_0x2791de(0x345)]('Error\x20in\x20testAPI():\x20'+_0xe17abb['toString']());throw _0xe17abb;}}function cloneDeep(_0x5b9a0a){const _0x1242c0=_0x595393;return JSON['parse'](JSON[_0x1242c0(0x25e)](_0x5b9a0a));}async function getPortfolio(_0x5d5fee){const _0x367458=_0x595393;let _0x17619b=[],_0x1dfb3a=[],_0x41b861=[],_0x12a476;_0x5d5fee[_0x367458(0x24d)]=crypt[_0x367458(0x2a5)](secure[_0x367458(0x28b)],_0x5d5fee['apiKey'])[_0x367458(0x1f1)],_0x5d5fee[_0x367458(0x300)]=crypt['decrypt'](secure['privateKey'],_0x5d5fee[_0x367458(0x300)])[_0x367458(0x1f1)],_0x5d5fee['apiPassword']=crypt[_0x367458(0x2a5)](secure['privateKey'],_0x5d5fee['apiPassword'])[_0x367458(0x1f1)];if(_0x5d5fee[_0x367458(0x24d)]!=='************'||_0x5d5fee[_0x367458(0x300)]!==_0x367458(0x214)||_0x5d5fee[_0x367458(0x1ff)]&&_0x5d5fee[_0x367458(0x1ff)]!==_0x367458(0x214)){if(config[_0x367458(0x28a)]){if(_0x5d5fee[_0x367458(0x24d)]=='************')_0x5d5fee[_0x367458(0x24d)]=config[_0x367458(0x24d)];if(_0x5d5fee[_0x367458(0x300)]==_0x367458(0x214))_0x5d5fee[_0x367458(0x300)]=config[_0x367458(0x300)];if(_0x5d5fee['apiPassword']=='************')_0x5d5fee[_0x367458(0x1ff)]=config[_0x367458(0x1ff)];}try{await testAPI(_0x5d5fee);}catch(_0x2cf3c5){if(_0x2cf3c5[_0x367458(0x25c)]()[_0x367458(0x22a)](_0x367458(0x36e))){logHistory(_0x367458(0x350),_0x367458(0x354)),proxyEmit(_0x367458(0x33c),![]);return;}else{logHistory(_0x367458(0x350),_0x367458(0x36c)),logger[_0x367458(0x345)](_0x367458(0x30f),_0x2cf3c5),proxyEmit(_0x367458(0x33c),![]);return;}}exchange?updateExchange(_0x5d5fee['apiKey'],_0x5d5fee['apiSecret'],_0x5d5fee['apiPassword']):await initExchange(_0x5d5fee[_0x367458(0x28a)],_0x5d5fee['apiKey'],_0x5d5fee[_0x367458(0x300)],_0x5d5fee[_0x367458(0x1ff)]);await loadSymbols();const _0x5a9d8b=await getCoins(0x0,![],_0x5d5fee[_0x367458(0x2f4)]);_0x41b861=cloneDeep(_0x5a9d8b[0x1]);}else{const _0x34e206=await getCoins();_0x41b861=cloneDeep(_0x34e206[0x1]);}if(_0x5d5fee[_0x367458(0x2f4)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x367458(0x262),_0x41b861);else{_0x41b861[_0x367458(0x1ec)](_0x11b03a=>{const _0x569392=_0x367458;if(_0x11b03a[_0x569392(0x232)]!=_0x5d5fee[_0x569392(0x2f4)]&&allSymbols[_0x569392(0x22a)](_0x11b03a[_0x569392(0x1f8)]))_0x17619b[_0x569392(0x227)](_0x11b03a[_0x569392(0x1f8)]);});if(_0x17619b[_0x367458(0x244)]==0x0)logHistory(_0x367458(0x350),_0x367458(0x335));else{try{_0x1dfb3a=await getTickers(_0x17619b);}catch(_0x40171c){logHistory('error',_0x367458(0x36c)),logger[_0x367458(0x345)]('Error\x20details\x20(1):',_0x40171c),proxyEmit('portfolio1',![]);return;}_0x41b861['forEach'](_0x2117ed=>{const _0x43fbee=_0x367458;_0x2117ed[_0x43fbee(0x232)]!=_0x5d5fee['basecoin']?_0x1dfb3a[_0x2117ed['symbol']]?_0x12a476=_0x2117ed['reverse']?0x1/_0x1dfb3a[_0x2117ed[_0x43fbee(0x1f8)]]['last']:_0x1dfb3a[_0x2117ed[_0x43fbee(0x1f8)]][_0x43fbee(0x308)]:_0x12a476=0x0:_0x12a476=0x1,_0x2117ed[_0x43fbee(0x317)]=formatResult(_0x12a476,0x8);}),await getMarketCap(_0x41b861),proxyEmit(_0x367458(0x33c),!![]),proxyEmit(_0x367458(0x262),_0x41b861);}}}function truncateTradeAmount(_0x5a0668,_0x76e42b){const _0x448553=_0x595393;let _0x25dcbd=0x0;try{_0x25dcbd=exchange[_0x448553(0x281)](_0x5a0668,_0x76e42b);}catch(_0x27dbb6){}return _0x25dcbd;}function checkMinimums(_0x45cda9){const _0x2dbcc7=_0x595393;let _0x40169c=!![];const _0x547c3a=!_0x45cda9['reverse']?markets[_0x45cda9[_0x2dbcc7(0x1f8)]]['limits'][_0x2dbcc7(0x259)][_0x2dbcc7(0x2b9)]:markets[_0x45cda9['symbol']][_0x2dbcc7(0x1ee)][_0x2dbcc7(0x2de)][_0x2dbcc7(0x2b9)],_0x22ed75=!_0x45cda9['reverse']?markets[_0x45cda9[_0x2dbcc7(0x1f8)]][_0x2dbcc7(0x1ee)][_0x2dbcc7(0x2de)][_0x2dbcc7(0x2b9)]:markets[_0x45cda9['symbol']][_0x2dbcc7(0x1ee)][_0x2dbcc7(0x259)][_0x2dbcc7(0x2b9)],_0xd8585f=truncateTradeAmount(_0x45cda9[_0x2dbcc7(0x1f8)],_0x45cda9['trade']);_0x45cda9[_0x2dbcc7(0x2d7)]=_0xd8585f;if(Math[_0x2dbcc7(0x28f)](_0xd8585f)<_0x547c3a)_0x40169c=![];if(Math[_0x2dbcc7(0x28f)](_0xd8585f)*_0x45cda9[_0x2dbcc7(0x308)]<_0x22ed75)_0x40169c=![];if(_0x45cda9['side']==_0x2dbcc7(0x2b4)){let _0x5084cf=config[_0x2dbcc7(0x1ea)][_0x2dbcc7(0x27b)](_0x5e8744=>_0x5e8744[_0x2dbcc7(0x232)]==_0x45cda9[_0x2dbcc7(0x232)]);if(_0x5084cf[_0x2dbcc7(0x351)]>0x0){if(Math['abs'](_0xd8585f)>_0x45cda9[_0x2dbcc7(0x2ec)]-_0x5084cf['offset'])_0x40169c=![];}else{if(Math[_0x2dbcc7(0x28f)](_0xd8585f)>_0x45cda9[_0x2dbcc7(0x2ec)])_0x40169c=![];}}if(_0x45cda9[_0x2dbcc7(0x285)]==_0x2dbcc7(0x292)){let _0x313d0f=config[_0x2dbcc7(0x1ea)]['find'](_0x5c2e0f=>_0x5c2e0f['coin']==config[_0x2dbcc7(0x2f4)]),_0x23ce39=currentCoins[_0x2dbcc7(0x27b)](_0x55a247=>_0x55a247[_0x2dbcc7(0x232)]==config[_0x2dbcc7(0x2f4)]);if(_0x313d0f['offset']>0x0){if(Math[_0x2dbcc7(0x28f)](_0xd8585f)*_0x45cda9[_0x2dbcc7(0x308)]>_0x23ce39['number']-_0x313d0f[_0x2dbcc7(0x351)])_0x40169c=![];}else{if(Math[_0x2dbcc7(0x28f)](_0xd8585f)*_0x45cda9[_0x2dbcc7(0x308)]>_0x23ce39[_0x2dbcc7(0x2ec)])_0x40169c=![];}}return _0x40169c;}async function getBalances(_0x15ae57=!![]){const _0xd78222=_0x595393;let _0x2755cd=0x0,_0x4f2b77;const _0x2bc513=config[_0xd78222(0x2ef)];if(config['headless']&&config[_0xd78222(0x275)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x201920=>{const _0x2ec63a=_0xd78222;if(_0x201920[_0x2ec63a(0x232)]!=config[_0x2ec63a(0x2f4)]){let _0xd8e361=gTicker[noslash(_0x201920['symbol'])];_0x4f2b77=_0x201920[_0x2ec63a(0x33e)]?0x1/_0xd8e361:_0xd8e361;}else _0x4f2b77=0x1;let _0x38e944=_0x201920['number']*_0x4f2b77;_0x2755cd+=_0x38e944,_0x201920['last']=formatResult(Number(_0x4f2b77),0x8),_0x201920['value']=_0x38e944;}),currentCoins[_0xd78222(0x1ec)](_0x19db25=>{const _0x5241af=_0xd78222;let _0xf6b04d=config[_0x5241af(0x1ea)]['find'](_0x5d842e=>_0x5d842e[_0x5241af(0x232)]==_0x19db25[_0x5241af(0x232)]),_0x5b789d=Number(_0xf6b04d[_0x5241af(0x2e7)]),_0x5bf1b3=_0x19db25[_0x5241af(0x2b7)]/_0x2755cd*0x64,_0x848cba=_0x5b789d*_0x2755cd/0x64/_0x19db25[_0x5241af(0x308)]-_0x19db25[_0x5241af(0x2ec)];_0x19db25[_0x5241af(0x2e7)]=formatResult(_0x5bf1b3,0x3),_0x19db25['target']=formatResult(_0x5b789d,0x3),_0x19db25[_0x5241af(0x2d7)]=formatResult(_0x848cba,0x8),_0x19db25[_0x5241af(0x285)]='',_0x19db25[_0x5241af(0x261)]=![];if(_0x19db25[_0x5241af(0x232)]!=config[_0x5241af(0x2f4)]){if(_0x19db25[_0x5241af(0x2e7)]>_0x5b789d)_0x19db25['side']=_0x5241af(0x2b4),_0x19db25[_0x5241af(0x261)]=checkMinimums(_0x19db25);else _0x19db25[_0x5241af(0x2e7)]<_0x5b789d&&(_0x19db25[_0x5241af(0x285)]=_0x5241af(0x292),_0x19db25[_0x5241af(0x261)]=checkMinimums(_0x19db25));}_0x19db25['delta']=_0x19db25['distribution']/_0x19db25[_0x5241af(0x274)]-0x1;if(_0x19db25[_0x5241af(0x229)]==_0x5241af(0x369)||_0x19db25[_0x5241af(0x229)]==_0x5241af(0x2ba))_0x19db25[_0x5241af(0x229)]=_0x5241af(0x322);}),currentCoins[_0xd78222(0x346)]((_0x9df713,_0x161400)=>_0x9df713['delta']<_0x161400['delta']?0x1:_0x161400[_0xd78222(0x1d8)]<_0x9df713[_0xd78222(0x1d8)]?-0x1:0x0);const _0x2f1410=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2f1410[_0xd78222(0x327)],'usd':_0x2f1410[_0xd78222(0x20a)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x2bc513},proxyEmit(_0xd78222(0x2e3),{'serverversion':serverversion,'balances':lastBalances});if(_0x15ae57){if(config[_0xd78222(0x228)])headlessMode({'portfolio':currentCoins,'threshold':_0x2bc513});else{if(lockOrders==ORDERS[_0xd78222(0x2c1)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2bc513});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x5e387b=getNormalizedPerformance();getStartingBalances(_0x5e387b),emitPerformance(_0x5e387b);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x46220b=_0x595393;if(!lastBalances)return;let _0x552c07=[],_0x184040,_0x1ec093=JSON[_0x46220b(0x2a3)](lastBalances[_0x46220b(0x1ea)]);_0x1ec093[_0x46220b(0x346)]((_0x53b165,_0x520127)=>_0x53b165[_0x46220b(0x232)]>_0x520127[_0x46220b(0x232)]?0x1:_0x520127[_0x46220b(0x232)]>_0x53b165[_0x46220b(0x232)]?-0x1:0x0),_0x1ec093[_0x46220b(0x1ec)](_0xff8c7=>{const _0x2e886d=_0x46220b;let _0x1f3690={'coin':_0xff8c7[_0x2e886d(0x232)],'number':_0xff8c7[_0x2e886d(0x2ec)],'price':_0xff8c7[_0x2e886d(0x308)]};_0x552c07[_0x2e886d(0x227)](_0x1f3690);});const _0x282a44=await getFiat();_0x184040={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x282a44[_0x46220b(0x327)],'usd':_0x282a44[_0x46220b(0x20a)],'coins':_0x552c07};let _0x343335=dbPerformance[_0x46220b(0x36d)]('data')['find']({'date':_0x184040[_0x46220b(0x225)]})[_0x46220b(0x2b7)]();_0x343335?_0x184040[_0x46220b(0x225)]!=config[_0x46220b(0x21a)]&&dbPerformance[_0x46220b(0x36d)](_0x46220b(0x260))['find']({'date':_0x184040[_0x46220b(0x225)]})[_0x46220b(0x218)](_0x184040)['write']():dbPerformance[_0x46220b(0x36d)]('data')[_0x46220b(0x227)](_0x184040)[_0x46220b(0x323)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x2491c6=_0x595393;let _0x50bb2e=[];if(dbPerformance[_0x2491c6(0x307)](_0x2491c6(0x260))[_0x2491c6(0x2b7)]()){let _0x36537a=dbPerformance['get'](_0x2491c6(0x260))[_0x2491c6(0x312)]()[_0x2491c6(0x349)](_0x402cf6=>{const _0x22fa49=_0x2491c6;if(_0x402cf6[_0x22fa49(0x2cd)]['length']==0x0)return![];else return!![];})[_0x2491c6(0x273)]('date')[_0x2491c6(0x2b7)](),_0x16c45d=[...config[_0x2491c6(0x2ae)]];_0x16c45d['sort']((_0x15b03a,_0xc1b440)=>_0x15b03a[_0x2491c6(0x225)]>_0xc1b440[_0x2491c6(0x225)]?-0x1:_0xc1b440['date']>_0x15b03a['date']?0x1:0x0);let _0x34886c=0x1,_0x4ebcf2=[],_0x31c4ff=0x0;_0x36537a['slice']()[_0x2491c6(0x33e)]()['forEach']((_0x5691a0,_0x3e9289)=>{const _0x451f18=_0x2491c6;if(_0x16c45d[_0x31c4ff]){if(_0x36537a[_0x36537a[_0x451f18(0x244)]-_0x3e9289]&&_0x16c45d[_0x31c4ff]['date']==_0x36537a[_0x36537a[_0x451f18(0x244)]-_0x3e9289]['date']){if(_0x3e9289<_0x36537a['length']){let _0xcbdf54=0x0,_0x35d0df=0x0;_0x36537a[_0x36537a[_0x451f18(0x244)]-_0x3e9289]['coins'][_0x451f18(0x1ec)](_0x4f1f50=>{const _0x51145c=_0x451f18;_0x35d0df+=_0x4f1f50[_0x51145c(0x2ec)]*_0x4f1f50[_0x51145c(0x317)];}),_0x16c45d[_0x31c4ff][_0x451f18(0x25d)][_0x451f18(0x1ec)](_0x5bb4ab=>{const _0x405728=_0x451f18;_0xcbdf54+=_0x5bb4ab[_0x405728(0x2ec)]*_0x5bb4ab[_0x405728(0x317)];}),_0x34886c*=_0xcbdf54/(_0x35d0df-_0xcbdf54)+0x1;}_0x31c4ff++;}}let _0x50add6=0x0;_0x5691a0['coins'][_0x451f18(0x1ec)](_0x58c35e=>{const _0x5d6d3f=_0x451f18;_0x50add6+=_0x58c35e['number']*_0x58c35e[_0x5d6d3f(0x317)];}),_0x4ebcf2[_0x36537a[_0x451f18(0x244)]-_0x3e9289-0x1]=_0x50add6*(_0x34886c-0x1);});let _0x39a3e3=[];_0x16c45d=[...config[_0x2491c6(0x2ae)]]||[];let _0x3b113c=0x0;_0x31c4ff=0x0,_0x36537a[_0x2491c6(0x1ec)]((_0x284978,_0x5f1fe2)=>{const _0x74343=_0x2491c6;if(_0x16c45d[_0x31c4ff]){const _0x1e5646=fns[_0x74343(0x2a3)](_0x16c45d[_0x31c4ff]['date'],_0x74343(0x29e),new Date()),_0x4baa38=fns[_0x74343(0x2a3)](_0x284978[_0x74343(0x225)],_0x74343(0x29e),new Date());if(fns['isEqual'](_0x1e5646,_0x4baa38)){let _0x357a48=0x0;_0x16c45d[_0x31c4ff][_0x74343(0x25d)][_0x74343(0x1ec)](_0x30586f=>{const _0xb1da23=_0x74343;!_0x39a3e3[_0x30586f['coin']]?_0x39a3e3[_0x30586f['coin']]=_0x30586f[_0xb1da23(0x2ec)]:(_0x357a48=_0x39a3e3[_0x30586f['coin']],_0x39a3e3[_0x30586f['coin']]+=_0x30586f[_0xb1da23(0x2ec)]);const _0x320fdd=_0x284978['coins']['find'](_0x293fd9=>_0x293fd9['coin']==_0x30586f['coin']);(!_0x320fdd||_0x320fdd['number']==0x0)&&(_0x3b113c+=(-_0x30586f[_0xb1da23(0x2ec)]-_0x357a48)*_0x30586f[_0xb1da23(0x317)]);}),_0x31c4ff++;}}_0x284978['coins']['forEach']((_0x40050a,_0x1add99)=>{const _0x421716=_0x74343;_0x39a3e3[_0x40050a[_0x421716(0x232)]]&&(_0x40050a[_0x421716(0x20c)]=_0x39a3e3[_0x40050a[_0x421716(0x232)]]);}),_0x50bb2e[_0x74343(0x227)]({'date':_0x284978[_0x74343(0x225)],'eur':_0x284978[_0x74343(0x327)],'usd':_0x284978[_0x74343(0x20a)],'offset':_0x4ebcf2[_0x5f1fe2],'netoffset':_0x3b113c,'coins':_0x284978[_0x74343(0x2cd)]});});}return _0x50bb2e;}function emitPerformance(_0x22c721){const _0x12e7a7=_0x595393;_0x22c721['length']!==0x0?(proxyEmit(_0x12e7a7(0x2d6),_0x22c721),lastPerformanceEmitted=getDate()):proxyEmit(_0x12e7a7(0x2d6),[]);}function getPerf(_0x15791e,_0x1f263c){const _0x6ddefe=_0x595393;let _0xa87f98=0x0,_0x5546d8=0x0,_0xd94115=0x0;_0x15791e[_0x6ddefe(0x2cd)][_0x6ddefe(0x1ec)](_0x259919=>{const _0x1bd070=_0x6ddefe;_0xa87f98+=_0x259919[_0x1bd070(0x2ec)]*_0x259919[_0x1bd070(0x317)];});_0x1f263c&&(_0xa87f98+=_0x15791e['offset']);if(config[_0x6ddefe(0x2f4)]===_0x6ddefe(0x224)||config['basecoin']===_0x6ddefe(0x1cd)||config[_0x6ddefe(0x2f4)]==='PAXG')_0x5546d8=_0xa87f98*_0x15791e[_0x6ddefe(0x327)],_0xd94115=_0xa87f98*_0x15791e[_0x6ddefe(0x20a)];else{if(usdBasecoins[_0x6ddefe(0x22a)](config['basecoin']))_0x5546d8=_0xa87f98*_0x15791e[_0x6ddefe(0x327)]/_0x15791e['usd'],_0xd94115=_0xa87f98;else config['basecoin']==='EUR'&&(_0x5546d8=_0xa87f98,_0xd94115=_0xa87f98*_0x15791e[_0x6ddefe(0x20a)]/_0x15791e['eur']);}return[_0xa87f98,_0x5546d8,_0xd94115];}function getKPIs(_0x32ffaa,_0x5dcc10=_0x595393(0x249)){const _0x6032bf=_0x595393,_0x2020a4=config[_0x6032bf(0x2f4)],_0x52eded=lastBalances,_0x8ff83c=currentCoins,_0x434608=getNormalizedPerformance(),_0x4f7ff7=_0x32ffaa===_0x6032bf(0x2f4)?_0x2020a4:_0x32ffaa===_0x6032bf(0x336)||_0x32ffaa===_0x6032bf(0x2a9)?_0x5dcc10:_0x6032bf(0x243)+_0x2020a4,_0xf1ec0b=_0x32ffaa===_0x6032bf(0x31b)?_0x6032bf(0x253):_0x32ffaa===_0x6032bf(0x2a9)?'Net\x20effect':_0x4f7ff7+_0x6032bf(0x25b),_0x5d4f56=_0x32ffaa===_0x6032bf(0x31b)||_0x32ffaa==='net-fiat'?_0x6032bf(0x253):_0x4f7ff7+_0x6032bf(0x36a);let _0x2cdce9=0x0;_0x8ff83c[_0x6032bf(0x1ec)](_0x5013a6=>{const _0x10885d=_0x6032bf;_0x2cdce9+=_0x5013a6[_0x10885d(0x2ec)]*_0x5013a6[_0x10885d(0x308)];});if(_0x32ffaa===_0x6032bf(0x336)||_0x32ffaa==='net-fiat'){if(_0x2020a4==='BTC'||_0x2020a4===_0x6032bf(0x1cd)||_0x2020a4==='PAXG')_0x2cdce9=_0x2cdce9*(_0x5dcc10===_0x6032bf(0x249)?_0x52eded[_0x6032bf(0x327)]:_0x52eded['usd']);else{if(usdBasecoins['includes'](_0x2020a4))_0x2cdce9=_0x2cdce9*(_0x5dcc10===_0x6032bf(0x249)?_0x52eded[_0x6032bf(0x327)]/_0x52eded[_0x6032bf(0x20a)]:0x1);else _0x2020a4===_0x6032bf(0x249)&&(_0x2cdce9=_0x2cdce9*(_0x5dcc10===_0x6032bf(0x249)?0x1:_0x52eded[_0x6032bf(0x20a)]/_0x52eded[_0x6032bf(0x327)]));}}let _0x4e86ec;if(_0x2cdce9!==0x0){if(_0x32ffaa===_0x6032bf(0x2f4))_0x4e86ec=(_0x2cdce9/startingBalances[_0x6032bf(0x2f4)]-0x1)*0x64;else{if(_0x5dcc10===_0x6032bf(0x249))_0x4e86ec=(_0x2cdce9/startingBalances[_0x6032bf(0x327)]-0x1)*0x64;else _0x4e86ec=(_0x2cdce9/startingBalances['usd']-0x1)*0x64;}let _0x1d6c74=0x0;if(startingBalances[_0x6032bf(0x2cd)])_0x8ff83c[_0x6032bf(0x1ec)](_0x14e6be=>{const _0x58c14e=_0x6032bf;let _0x3497ed=startingBalances[_0x58c14e(0x2cd)][_0x58c14e(0x27b)](_0x2295c0=>_0x2295c0[_0x58c14e(0x232)]===_0x14e6be[_0x58c14e(0x232)]);if(_0x3497ed&&_0x3497ed[_0x58c14e(0x232)]&&_0x14e6be[_0x58c14e(0x2ec)]!==0x0)_0x1d6c74+=_0x3497ed[_0x58c14e(0x2ec)]*_0x14e6be[_0x58c14e(0x308)];});let _0x224e92=0x0;if(_0x434608[_0x6032bf(0x244)]!==0x0){let _0x5034e1=_0x434608[_0x434608['length']-0x1];_0x224e92=_0x5034e1['netoffset'];}_0x1d6c74-=_0x224e92;_0x32ffaa==='net-basecoin'&&(_0x4e86ec=(_0x2cdce9-_0x1d6c74)/startingBalances[_0x6032bf(0x2f4)]*0x64,_0x2cdce9=_0x2cdce9-_0x1d6c74);if(_0x32ffaa===_0x6032bf(0x2a9)){let _0x4635fc=_0x5dcc10===_0x6032bf(0x249)?startingBalances[_0x6032bf(0x327)]:startingBalances[_0x6032bf(0x20a)];if(_0x2020a4===_0x6032bf(0x224)||_0x2020a4===_0x6032bf(0x1cd)||_0x2020a4===_0x6032bf(0x237))_0x1d6c74=_0x5dcc10===_0x6032bf(0x249)?_0x1d6c74*_0x52eded[_0x6032bf(0x327)]:_0x1d6c74*_0x52eded[_0x6032bf(0x20a)];else{if(usdBasecoins[_0x6032bf(0x22a)](_0x2020a4))_0x1d6c74=_0x5dcc10===_0x6032bf(0x249)?_0x1d6c74*_0x52eded[_0x6032bf(0x327)]/_0x52eded[_0x6032bf(0x20a)]:_0x1d6c74;else _0x2020a4===_0x6032bf(0x249)&&(_0x1d6c74=_0x5dcc10===_0x6032bf(0x249)?_0x1d6c74:_0x1d6c74*_0x52eded['usd']/_0x52eded[_0x6032bf(0x327)]);}_0x4e86ec=(_0x2cdce9-_0x1d6c74)/_0x4635fc*0x64,_0x2cdce9=_0x2cdce9-_0x1d6c74;}if(_0x4e86ec){if(_0x4e86ec<0x64)_0x4e86ec=_0x4e86ec[_0x6032bf(0x22b)](0x2);else{if(_0x4e86ec<0x3e8)_0x4e86ec=_0x4e86ec[_0x6032bf(0x22b)](0x1);else _0x4e86ec=_0x4e86ec[_0x6032bf(0x22b)](0x0);}}else _0x4e86ec=Number('0')[_0x6032bf(0x22b)](0x2);if(_0x2cdce9){if(Math['abs'](_0x2cdce9)<0.000001)_0x2cdce9=_0x2cdce9[_0x6032bf(0x22b)](0x2);else{if(Math['abs'](_0x2cdce9)<0.1)_0x2cdce9=_0x2cdce9[_0x6032bf(0x22b)](0x6);else{if(Math[_0x6032bf(0x28f)](_0x2cdce9)<0x1)_0x2cdce9=_0x2cdce9[_0x6032bf(0x22b)](0x5);else{if(Math[_0x6032bf(0x28f)](_0x2cdce9)<0xa)_0x2cdce9=_0x2cdce9[_0x6032bf(0x22b)](0x4);else{if(Math[_0x6032bf(0x28f)](_0x2cdce9)<0x64)_0x2cdce9=_0x2cdce9['toFixed'](0x3);else{if(Math['abs'](_0x2cdce9)<0x3e8)_0x2cdce9=_0x2cdce9[_0x6032bf(0x22b)](0x2);else _0x2cdce9=_0x2cdce9[_0x6032bf(0x22b)](0x2);}}}}}}else _0x2cdce9=Number('0')[_0x6032bf(0x22b)](0x2);}else _0x4e86ec=Number('0')[_0x6032bf(0x22b)](0x2);return{'value':_0x2cdce9,'change':_0x4e86ec,'leftTxt':_0xf1ec0b,'rightTxt':_0x5d4f56};}async function getStartingBalances(_0x257759,_0x591c3b=!![]){const _0x1cc8c4=_0x595393;if(_0x257759['length']!==0x0){const [_0x2dc1a9,_0x3f7952,_0x4e4aa1]=getPerf(_0x257759[0x0],!![]);let _0x3b3fbd=[];config[_0x1cc8c4(0x1ea)]['forEach'](_0x1ce58a=>{const _0x58adcf=_0x1cc8c4;let _0x33bbec=0x0,_0x181565;config[_0x58adcf(0x2ae)][_0x58adcf(0x1ec)](_0x3f4893=>{const _0x2efe2f=_0x58adcf;let _0x255d82=_0x3f4893['changes']['find'](_0x3d7d15=>_0x3d7d15[_0x2efe2f(0x232)]==_0x1ce58a['coin']);if(_0x255d82){_0x33bbec+=_0x255d82['number'];if(!_0x181565)_0x181565=_0x255d82[_0x2efe2f(0x317)];}}),_0x3b3fbd[_0x58adcf(0x227)]({'coin':_0x1ce58a[_0x58adcf(0x232)],'number':_0x33bbec,'initialprice':_0x181565});});const _0x53e035={'basecoin':_0x2dc1a9,'eur':_0x3f7952,'usd':_0x4e4aa1,'coins':_0x3b3fbd};if(_0x591c3b)proxyEmit('starting-balances',_0x53e035);startingBalances=_0x53e035;}}function headlessMode(_0x11f83e){const _0x32b417=_0x595393;let _0x2d2200=_0x11f83e[_0x32b417(0x1ea)],_0x2c29b8=_0x11f83e[_0x32b417(0x2ef)],_0x1a264c=[];for(let _0x17fb70 of _0x2d2200){if(_0x17fb70['coin']!=config[_0x32b417(0x2f4)]){if(_0x17fb70['delta']>=_0x2c29b8/0x64){if(_0x17fb70[_0x32b417(0x261)])_0x1a264c[_0x32b417(0x227)](_0x17fb70);}else{if(_0x17fb70[_0x32b417(0x1d8)]<=-_0x2c29b8/0x64){if(_0x17fb70[_0x32b417(0x261)])_0x1a264c[_0x32b417(0x227)](_0x17fb70);}}}}_0x1a264c['length']>0x0&&(lockOrders==ORDERS[_0x32b417(0x2c1)]&&!coolingDown&&_0x1a264c[_0x32b417(0x1ec)](_0x21a7ba=>{const _0x2ff9fd=_0x32b417;logger[_0x2ff9fd(0x345)](_0x2ff9fd(0x32a)+_0x21a7ba['coin']+'\x20'+_0x21a7ba[_0x2ff9fd(0x2ec)]+'\x20'+_0x21a7ba[_0x2ff9fd(0x308)]+'\x20'+_0x21a7ba['distribution']+'%\x20'+_0x21a7ba['target']+'%\x20'+(0x64*_0x21a7ba['delta'])[_0x2ff9fd(0x22b)](0x2)+_0x2ff9fd(0x352)+_0x2c29b8[_0x2ff9fd(0x22b)](0x2)+'%)');}),placeOrder(_0x1a264c));}function notifyBalance(_0x39f927){const _0x581caf=_0x595393;let _0x43778d=_0x39f927['portfolio'],_0x273325=_0x39f927[_0x581caf(0x2ef)],_0x32e098=[];for(let _0x2a226a of _0x43778d){if(_0x2a226a[_0x581caf(0x232)]!=config[_0x581caf(0x2f4)]){if(_0x2a226a[_0x581caf(0x1d8)]>=_0x273325/0x64){if(_0x2a226a[_0x581caf(0x261)])_0x32e098[_0x581caf(0x227)](_0x2a226a);}else{if(_0x2a226a[_0x581caf(0x1d8)]<=-_0x273325/0x64){if(_0x2a226a[_0x581caf(0x261)])_0x32e098[_0x581caf(0x227)](_0x2a226a);}}}}if(_0x32e098['length']>0x0){let _0x348f08=_0x32e098[_0x581caf(0x209)](_0x4687a8=>_0x4687a8['coin']);_0x348f08[_0x581caf(0x346)]();let _0x253407=_0x348f08[_0x581caf(0x341)](',\x20');if(!lastCoinsToBalance)logHistory(_0x581caf(0x2af),_0x581caf(0x320));lastCoinsToBalance=_0x253407;}}function symbolToCoin(_0x3cc91d){const _0x407677=_0x595393;let _0x1f2baf;if(_0x3cc91d[_0x407677(0x22a)]('/'+config[_0x407677(0x2f4)]))_0x1f2baf=_0x3cc91d[_0x407677(0x230)]('/'+config[_0x407677(0x2f4)],'');if(_0x3cc91d[_0x407677(0x22a)](config[_0x407677(0x2f4)]+'/'))_0x1f2baf=_0x3cc91d[_0x407677(0x230)](config[_0x407677(0x2f4)]+'/','');return _0x1f2baf;}async function unlockOrders(){const _0x122ac9=_0x595393;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x122ac9(0x345)](_0x122ac9(0x28d)),lockOrders=ORDERS[_0x122ac9(0x1fb)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x2fd011=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2fd011,setBlockTransactionDetection(![]),validateOrdersState=_0x122ac9(0x20c),persistOpenOrders([]),lockOrders=ORDERS[_0x122ac9(0x2c1)],logger[_0x122ac9(0x345)](_0x122ac9(0x290));}}async function validateOrders(_0x2fb16b){const _0x3a8269=_0x595393;if(_0x2fb16b)validateOrdersState=_0x2fb16b;logger[_0x3a8269(0x345)](_0x3a8269(0x363)+validateOrdersState+_0x3a8269(0x2e4)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?'ORDERS.UNLOCKING':_0x3a8269(0x288)));let _0x9d5be=[],_0x244345=config['ordertype']==_0x3a8269(0x2a1)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x3a8269(0x304)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3a8269(0x33d)])return;logger[_0x3a8269(0x345)](_0x3a8269(0x26f)+validateOrdersState),lastOrders[_0x3a8269(0x1ec)](_0x45392f=>{const _0x3945d0=_0x3a8269;let _0x5b44d6=![];_0x45392f['filled']>0x0&&(_0x5b44d6=!![]),_0x9d5be[_0x3945d0(0x227)](_0x5b44d6),_0x5b44d6&&config['ordertype']!=_0x3945d0(0x2a1)&&logHistory(_0x3945d0(0x1cf),'Order\x20filled:\x20'+_0x45392f[_0x3945d0(0x1f8)]+'\x20'+_0x45392f['side']+'\x20#'+formatResult(_0x45392f[_0x3945d0(0x369)],0x8)+'\x20@'+formatResult(_0x45392f[_0x3945d0(0x317)],0x8));}),_0x9d5be[_0x3a8269(0x1ec)]((_0x32a9b3,_0x89c724)=>{const _0x45f90d=_0x3a8269;if(_0x32a9b3)lastOrders[_0x45f90d(0x2d0)](_0x89c724,0x1);}),persistOpenOrders(lastOrders);const _0x48b6f4=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x3a8269(0x2d2);if(validateOrdersState=='initial'){validateOrdersState=_0x3a8269(0x1d3);if(_0x9d5be[_0x3a8269(0x22a)](![])){if(config[_0x3a8269(0x2fc)]==_0x3a8269(0x2a1)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x3a8269(0x1d3)){if(_0x9d5be[_0x3a8269(0x22a)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x3a8269(0x2a1)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x3a8269(0x1d2))_0x9d5be['includes'](![])&&(config['ordertype']==_0x3a8269(0x2a1)?logHistory(_0x3a8269(0x1d5),_0x3a8269(0x268)+Math[_0x3a8269(0x321)](_0x244345*validateOrderInterval/0xea60)+_0x3a8269(0x207)+_0x48b6f4):(await cancelOrders(),logHistory('success',_0x3a8269(0x364)+Math[_0x3a8269(0x321)](_0x244345*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x48b6f4))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x3a8269(0x2fc)]!=_0x3a8269(0x2a1))logHistory('success',_0x3a8269(0x1f2)+_0x48b6f4);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x53f69c=>{const _0x1507fd=_0x217c;try{const _0x1efac1=await exchange[_0x1507fd(0x30b)](_0x53f69c[_0x1507fd(0x32b)],_0x53f69c[_0x1507fd(0x1f8)]);}catch(_0x194e43){if(_0x194e43['toString']()['includes']('OrderNotFound')){}else await handleError(_0x194e43,_0x1507fd(0x2f7));}});}async function initCoinResults(_0x6e04af){const _0x539596=_0x595393;_0x6e04af?logger['debug']('Resetting\x20coin\x20results:\x20'+_0x6e04af):logger['debug'](_0x539596(0x212)),config[_0x539596(0x1ea)]['forEach'](_0x47020a=>{const _0x4c2325=_0x539596;if(!_0x47020a[_0x4c2325(0x2ad)]&&_0x47020a['coin']!=config[_0x4c2325(0x2f4)]){const _0x58fd1c=currentCoins[_0x4c2325(0x27b)](_0x5a9bdf=>_0x5a9bdf['coin']==_0x47020a['coin']),_0x45a47a=gTicker[noslash(_0x47020a[_0x4c2325(0x1f8)])];let _0x1a14f1=_0x58fd1c?_0x58fd1c['number']:null,_0x471886=_0x47020a[_0x4c2325(0x33e)]?0x1/_0x45a47a:_0x45a47a,_0x79d189;config[_0x4c2325(0x2ae)][_0x4c2325(0x1ec)](_0x5baf5e=>{const _0x356e2e=_0x4c2325;!_0x79d189&&(_0x79d189=_0x5baf5e[_0x356e2e(0x25d)]['find'](_0x5b6a94=>_0x5b6a94[_0x356e2e(0x232)]==_0x47020a['coin']),_0x79d189&&(_0x1a14f1=_0x79d189[_0x356e2e(0x2ec)],_0x471886=_0x79d189[_0x356e2e(0x317)]));});let _0x1bf7fd=dbCoinResults[_0x4c2325(0x36d)](_0x4c2325(0x2cd))[_0x4c2325(0x27b)]({'coin':_0x47020a['coin']})['value']();if(!_0x1bf7fd){const _0x3c894e={'coin':_0x47020a[_0x4c2325(0x232)],'number':_0x1a14f1,'breakeven':_0x471886,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4c2325(0x36d)](_0x4c2325(0x2cd))[_0x4c2325(0x227)](_0x3c894e)[_0x4c2325(0x323)]();}else{if(_0x6e04af&&_0x47020a['coin']==_0x6e04af){const _0x26e280={'coin':_0x47020a[_0x4c2325(0x232)],'number':_0x1a14f1,'breakeven':_0x471886,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4c2325(0x36d)](_0x4c2325(0x2cd))[_0x4c2325(0x27b)]({'coin':_0x47020a[_0x4c2325(0x232)]})[_0x4c2325(0x218)](_0x26e280)[_0x4c2325(0x323)]();}}}});}async function updateCoinResults(_0x48b2dd,_0x1cfe79=![]){const _0x1e646a=_0x595393;let _0x56714f,_0x29bc36,_0x3e3444,_0xad0c85,_0x3ddfbf,_0x5a8fab,_0x21a493=dbCoinResults[_0x1e646a(0x36d)](_0x1e646a(0x2cd))[_0x1e646a(0x27b)]({'coin':_0x48b2dd['coin']})['value'](),_0x58365b=![];_0x21a493&&Object['entries'](_0x21a493)[_0x1e646a(0x1ec)](([_0x15c9ee,_0x31faf0])=>{if(_0x31faf0==null)_0x58365b=!![];});(!_0x21a493||_0x58365b)&&(await initCoinResults(_0x48b2dd[_0x1e646a(0x232)]),_0x21a493=dbCoinResults[_0x1e646a(0x36d)](_0x1e646a(0x2cd))[_0x1e646a(0x27b)]({'coin':_0x48b2dd[_0x1e646a(0x232)]})[_0x1e646a(0x2b7)]());_0x48b2dd[_0x1e646a(0x33e)]&&(_0x5a8fab={'filled':_0x48b2dd['filled']*_0x48b2dd['price'],'amount':_0x48b2dd[_0x1e646a(0x369)]*_0x48b2dd['price'],'side':_0x48b2dd[_0x1e646a(0x285)]==_0x1e646a(0x2b4)?_0x1e646a(0x292):_0x1e646a(0x2b4),'price':0x1/_0x48b2dd[_0x1e646a(0x317)]},_0x48b2dd={..._0x48b2dd,..._0x5a8fab});_0x1cfe79?_0x29bc36=_0x48b2dd[_0x1e646a(0x285)]=='buy'?_0x21a493[_0x1e646a(0x2ec)]+_0x48b2dd[_0x1e646a(0x369)]:_0x21a493['number']-_0x48b2dd[_0x1e646a(0x369)]:_0x29bc36=await getCoinNumber(_0x48b2dd['coin']);if(_0x48b2dd[_0x1e646a(0x2f6)]&&_0x48b2dd['fee'][_0x1e646a(0x2e9)]==config[_0x1e646a(0x2f4)])_0x56714f=Number(_0x48b2dd[_0x1e646a(0x2f6)]['cost']);else{if(_0x48b2dd[_0x1e646a(0x2f6)]&&_0x48b2dd[_0x1e646a(0x2f6)][_0x1e646a(0x2e9)]==_0x1e646a(0x2f3)&&!_0x1cfe79&&config[_0x1e646a(0x2f4)]!=_0x1e646a(0x237))_0x56714f=Number(_0x48b2dd[_0x1e646a(0x2f6)]['cost'])*gTicker['BNB'+config[_0x1e646a(0x2f4)]];else _0x56714f=defaultFee*_0x48b2dd[_0x1e646a(0x369)]*_0x48b2dd[_0x1e646a(0x317)];}_0x48b2dd['side']=='buy'?(_0x3e3444=_0x29bc36!=0x0?(_0x21a493[_0x1e646a(0x1f7)]*_0x21a493[_0x1e646a(0x2ec)]+_0x48b2dd[_0x1e646a(0x317)]*(_0x29bc36-_0x21a493[_0x1e646a(0x2ec)])+_0x56714f)/_0x29bc36:0x0,_0xad0c85=_0x21a493[_0x1e646a(0x2fd)]):(_0x3e3444=_0x29bc36!=0x0?(_0x21a493['breakeven']*_0x21a493[_0x1e646a(0x2ec)]-_0x48b2dd[_0x1e646a(0x317)]*(_0x21a493[_0x1e646a(0x2ec)]-_0x29bc36)+_0x56714f)/_0x29bc36:0x0,_0xad0c85=_0x21a493['realized']+(_0x48b2dd[_0x1e646a(0x317)]-_0x21a493[_0x1e646a(0x1f7)])*_0x48b2dd['filled']);_0x3ddfbf=(_0x48b2dd[_0x1e646a(0x317)]-_0x3e3444-_0x56714f/_0x48b2dd['filled'])*_0x29bc36;let _0x21b2d3={'coin':_0x48b2dd[_0x1e646a(0x232)],'number':_0x29bc36,'breakeven':formatResult(_0x3e3444,0x8),'realized':formatResult(_0xad0c85,0x8),'unrealized':formatResult(_0x3ddfbf,0x8),'fees':formatResult(_0x21a493[_0x1e646a(0x2b1)]+_0x56714f,0x8),'sells':_0x48b2dd['side']==_0x1e646a(0x2b4)?_0x21a493[_0x1e646a(0x258)]+0x1:_0x21a493[_0x1e646a(0x258)],'buys':_0x48b2dd[_0x1e646a(0x285)]==_0x1e646a(0x292)?_0x21a493[_0x1e646a(0x20f)]+0x1:_0x21a493['buys']};dbCoinResults[_0x1e646a(0x36d)](_0x1e646a(0x2cd))[_0x1e646a(0x27b)]({'coin':_0x48b2dd[_0x1e646a(0x232)]})[_0x1e646a(0x218)](_0x21b2d3)[_0x1e646a(0x323)]();if(!_0x1cfe79){if(_0x48b2dd['fee']&&_0x48b2dd[_0x1e646a(0x2f6)][_0x1e646a(0x2e9)]==_0x1e646a(0x2f3)){const _0x4f48e0=currentCoins[_0x1e646a(0x27b)](_0x482141=>_0x482141[_0x1e646a(0x232)]==_0x1e646a(0x2f3));if(_0x4f48e0){let _0x153508=dbCoinResults['get']('coins')[_0x1e646a(0x27b)]({'coin':'BNB'})['value']();_0x21b2d3={..._0x153508,'number':_0x4f48e0[_0x1e646a(0x2ec)]},dbCoinResults[_0x1e646a(0x36d)](_0x1e646a(0x2cd))[_0x1e646a(0x27b)]({'coin':'BNB'})[_0x1e646a(0x218)](_0x21b2d3)[_0x1e646a(0x323)]();}}}}async function placeOrder(_0x2f7634){const _0x8ffbd7=_0x595393,_0x4e443c=config[_0x8ffbd7(0x2fc)]=='market'?_0x8ffbd7(0x2a1):_0x8ffbd7(0x2b0);if(lockOrders==ORDERS[_0x8ffbd7(0x2c1)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS['LOCKED'],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x8ffbd7(0x20c);let _0x15abcd=![];lastOrders=[];for(const _0x302e66 of _0x2f7634){let _0x5efe34,_0x2758d3,_0x200790,_0x58a25f,_0x5c16c0,_0x21cdbf=_0x302e66[_0x8ffbd7(0x1f8)];try{const _0xe0e31d=await exchange[_0x8ffbd7(0x211)](_0x21cdbf);_0x5efe34=_0x302e66[_0x8ffbd7(0x33e)]?0x1/_0x302e66[_0x8ffbd7(0x308)]:_0x302e66['last'],_0x2758d3=_0xe0e31d[_0x8ffbd7(0x365)],_0x200790=_0xe0e31d[_0x8ffbd7(0x238)];_0x302e66[_0x8ffbd7(0x33e)]?(_0x58a25f=_0x302e66[_0x8ffbd7(0x285)]=='buy'?_0x8ffbd7(0x2b4):_0x8ffbd7(0x292),_0x5c16c0=Math[_0x8ffbd7(0x28f)](_0x302e66[_0x8ffbd7(0x2d7)])/_0x5efe34):(_0x58a25f=_0x302e66[_0x8ffbd7(0x285)],_0x5c16c0=Math[_0x8ffbd7(0x28f)](_0x302e66[_0x8ffbd7(0x2d7)]));_0x4e443c==_0x8ffbd7(0x2b0)&&(config['ordertype']==_0x8ffbd7(0x2f9)&&(_0x5efe34=_0x58a25f==_0x8ffbd7(0x292)?_0x2758d3:_0x200790),config[_0x8ffbd7(0x2fc)]==_0x8ffbd7(0x246)&&(_0x5efe34=_0x58a25f==_0x8ffbd7(0x292)?_0x200790:_0x2758d3));_0x5c16c0=formatResult(_0x5c16c0,0x8),_0x5efe34=formatResult(_0x5efe34,0x8);const _0x211453=_0x58a25f==_0x8ffbd7(0x2b4)?config[_0x8ffbd7(0x2db)]?String[_0x8ffbd7(0x33a)]('0x'+config['emojisell'])+'\x20':'':config[_0x8ffbd7(0x35c)]?String['fromCodePoint']('0x'+config[_0x8ffbd7(0x35c)])+'\x20':'',_0x44b256=_0x4e443c==_0x8ffbd7(0x2a1)?_0x8ffbd7(0x328):config[_0x8ffbd7(0x2fc)]==_0x8ffbd7(0x2f9)?_0x8ffbd7(0x27a):_0x8ffbd7(0x2e5),_0x326835=(Math[_0x8ffbd7(0x2a4)](Math['random']()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x8ffbd7(0x227)]({'customId':_0x326835,'symbol':_0x21cdbf,'coin':_0x302e66[_0x8ffbd7(0x232)],'amount':_0x5c16c0,'price':_0x5efe34,'side':_0x58a25f,'reverse':_0x302e66['reverse'],'filled':0x0});if(_0x4e443c=='market')logHistory(_0x8ffbd7(0x1cf),''+_0x211453+_0x44b256+_0x8ffbd7(0x2aa)+_0x21cdbf+'\x20'+_0x58a25f+'\x20#'+formatResult(_0x5c16c0,0x8)+'\x20@'+formatResult(_0x5efe34,0x8));else logHistory(_0x8ffbd7(0x1cf),''+_0x211453+_0x44b256+_0x8ffbd7(0x2aa)+_0x21cdbf+'\x20'+_0x58a25f+'\x20#'+formatResult(_0x5c16c0,0x8)+'\x20@'+formatResult(_0x5efe34,0x8));let _0x50777d;_0x4e443c=='market'?_0x58a25f==_0x8ffbd7(0x292)&&[_0x8ffbd7(0x35a),'Bitget','Cex',_0x8ffbd7(0x329),'Huobipro'][_0x8ffbd7(0x22a)](config[_0x8ffbd7(0x28a)])?_0x50777d=await exchange[_0x8ffbd7(0x2cf)](_0x21cdbf,_0x4e443c,_0x58a25f,_0x5c16c0,_0x5efe34):_0x50777d=await exchange[_0x8ffbd7(0x2cf)](_0x21cdbf,_0x4e443c,_0x58a25f,_0x5c16c0,undefined):_0x50777d=await exchange[_0x8ffbd7(0x2cf)](_0x21cdbf,_0x4e443c,_0x58a25f,_0x5c16c0,_0x5efe34);logger[_0x8ffbd7(0x345)](_0x8ffbd7(0x240)+_0x50777d['id']+'\x20|\x20Custom\x20ID:\x20'+_0x326835);const _0x6ef81=lastOrders[_0x8ffbd7(0x244)]-0x1;if(_0x6ef81>=0x0&&lastOrders[_0x6ef81]['customId']==_0x326835){lastOrders[_0x6ef81][_0x8ffbd7(0x32b)]=_0x50777d['id'];if(_0x50777d[_0x8ffbd7(0x259)])lastOrders[_0x6ef81][_0x8ffbd7(0x259)]=_0x50777d[_0x8ffbd7(0x259)];if(_0x50777d[_0x8ffbd7(0x317)])lastOrders[_0x6ef81][_0x8ffbd7(0x317)]=_0x50777d[_0x8ffbd7(0x317)];lastOrders[_0x6ef81]['fee']=_0x50777d['fee'];}if(config['cooldown']!=0x0){let _0x5f08ed=null;if(cooldownTracker['length']==config[_0x8ffbd7(0x271)]-0x1)_0x5f08ed=cooldownTracker[_0x8ffbd7(0x1c7)]();const _0x5c38ab=getTimeStamp();cooldownTracker[_0x8ffbd7(0x227)](_0x5c38ab);if(_0x5f08ed){const _0x53a36=fns['differenceInSeconds'](new Date(_0x5c38ab),new Date(_0x5f08ed));if(_0x53a36<cooldownInterval){logHistory(_0x8ffbd7(0x350),'Executed\x20'+config[_0x8ffbd7(0x271)]+_0x8ffbd7(0x2a6)+cooldownInterval/0x3c+_0x8ffbd7(0x358)+cooldownPeriod/(0xe10*0x3e8)+_0x8ffbd7(0x2c5)),coolingDown=!![];break;}}}}catch(_0x278a46){if(_0x278a46[_0x8ffbd7(0x25c)]()[_0x8ffbd7(0x22a)](_0x8ffbd7(0x27e)))lastOrders=lastOrders['filter'](_0x2b21ca=>_0x2b21ca['symbol']!=_0x21cdbf),logHistory('error',_0x8ffbd7(0x284)+_0x21cdbf),_0x15abcd=!![];else{if(_0x278a46[_0x8ffbd7(0x25c)]()[_0x8ffbd7(0x22a)](_0x8ffbd7(0x2d8)))lastOrders=lastOrders[_0x8ffbd7(0x349)](_0x4983db=>_0x4983db[_0x8ffbd7(0x1f8)]!=_0x21cdbf),logHistory(_0x8ffbd7(0x350),_0x8ffbd7(0x376)+_0x21cdbf),_0x15abcd=!![];else{if(_0x278a46[_0x8ffbd7(0x25c)]()[_0x8ffbd7(0x22a)]('InvalidOrder'))lastOrders=lastOrders[_0x8ffbd7(0x349)](_0x1367f9=>_0x1367f9[_0x8ffbd7(0x1f8)]!=_0x21cdbf),logHistory('error','Order\x20is\x20invalid:\x20'+_0x21cdbf),logger[_0x8ffbd7(0x345)](_0x278a46),_0x15abcd=!![];else _0x278a46[_0x8ffbd7(0x25c)]()[_0x8ffbd7(0x22a)](_0x8ffbd7(0x2bb))?(lastOrders=lastOrders[_0x8ffbd7(0x349)](_0x5f3405=>_0x5f3405[_0x8ffbd7(0x1f8)]!=_0x21cdbf),logHistory(_0x8ffbd7(0x350),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x21cdbf),_0x15abcd=!![]):(lastOrders=lastOrders[_0x8ffbd7(0x349)](_0x5a58b9=>_0x5a58b9[_0x8ffbd7(0x1f8)]!=_0x21cdbf),await handleError(_0x278a46,_0x8ffbd7(0x1c8),_0x21cdbf));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x8ffbd7(0x244)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3b7c14=config['ordertype']==_0x8ffbd7(0x2a1)?validateOrderTimeout*0x3c*0x3e8:config[_0x8ffbd7(0x304)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x3b7c14);}else unlockOrders();_0x15abcd&&config[_0x8ffbd7(0x228)]&&(logHistory(_0x8ffbd7(0x350),_0x8ffbd7(0x1f9)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x8ffbd7(0x378)));}else{if(coolingDown)!config[_0x8ffbd7(0x228)]&&logHistory(_0x8ffbd7(0x350),_0x8ffbd7(0x294));else lockOrders!=ORDERS[_0x8ffbd7(0x2c1)]&&(!config[_0x8ffbd7(0x228)]&&(config[_0x8ffbd7(0x2fc)]==_0x8ffbd7(0x2a1)?logHistory('error',_0x8ffbd7(0x297)):logHistory('error',_0x8ffbd7(0x371))));}}function persistOpenOrders(_0x545f69){const _0x44c87e=_0x595393,_0x3884b4={...config,'openOrders':_0x545f69};let _0x473fd3=dbConfig['get'](_0x44c87e(0x27d))[_0x44c87e(0x27b)]({'botID':botID})[_0x44c87e(0x2b7)]();_0x473fd3&&dbConfig[_0x44c87e(0x36d)](_0x44c87e(0x27d))[_0x44c87e(0x27b)]({'botID':botID})[_0x44c87e(0x218)](_0x3884b4)[_0x44c87e(0x323)]();}function restoreOrders(){const _0x374021=_0x595393;let _0x26543c;config[_0x374021(0x21d)]&&allOpenOrders[_0x374021(0x1ec)](_0x5d1be3=>{const _0x10c71b=_0x374021,_0x112d3a=config[_0x10c71b(0x21d)][_0x10c71b(0x27b)](_0x230e49=>_0x230e49[_0x10c71b(0x32b)]==_0x5d1be3['id']);_0x112d3a&&(lastOrders[_0x10c71b(0x227)](_0x112d3a),_0x26543c=_0x5d1be3['timestamp']);});if(lastOrders[_0x374021(0x244)]>0x0){lockOrders=ORDERS[_0x374021(0x33d)],validateOrdersState=_0x374021(0x1d3),allOrdersPlaced=!![];const _0x26f8af=new Date()[_0x374021(0x23b)](),_0x35ec8f=config[_0x374021(0x2fc)]==_0x374021(0x2a1)?validateOrderTimeout*0x3c*0x3e8:config[_0x374021(0x304)]*0x3c*0x3e8;if(_0x26543c+_0x35ec8f>_0x26f8af){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4d9568=_0x374021;validateOrders(_0x4d9568(0x1d2));},_0x26543c+_0x35ec8f-_0x26f8af);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0xb6871e=_0x595393;if(!coinsLoaded){process['send']({'telegrammsg':_0xb6871e(0x31d)},_0x14d923=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3642b0='';if(config[_0xb6871e(0x1fc)])_0x3642b0='<b>'+config[_0xb6871e(0x22e)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x3642b0=_0xb6871e(0x2ff)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0xd979c4=getKPIs(_0xb6871e(0x2f4)),_0x53c3b2=getKPIs('fiat',config[_0xb6871e(0x336)]),_0x3479a0=getKPIs(_0xb6871e(0x31b)),_0x397d14=getKPIs(_0xb6871e(0x2a9),config[_0xb6871e(0x336)]);_0x3642b0+=_0xb6871e(0x331),_0x3642b0+=_0xd979c4[_0xb6871e(0x32f)]+_0xb6871e(0x2d3)+_0xd979c4[_0xb6871e(0x2b7)]+'\x0a',_0x3642b0+=_0xd979c4[_0xb6871e(0x2da)]+':\x20'+_0xd979c4[_0xb6871e(0x1db)]+'%\x0a',_0x3642b0+=_0x53c3b2[_0xb6871e(0x32f)]+_0xb6871e(0x2d3)+_0x53c3b2['value']+'\x0a',_0x3642b0+=_0x53c3b2[_0xb6871e(0x2da)]+':\x20'+_0x53c3b2[_0xb6871e(0x1db)]+'%\x0a',_0x3642b0+=_0x3479a0[_0xb6871e(0x32f)]+':\x20'+_0x3479a0[_0xb6871e(0x2b7)]+'\x20('+config[_0xb6871e(0x2f4)]+')\x0a',_0x3642b0+=_0x3479a0[_0xb6871e(0x2da)]+':\x20'+_0x3479a0[_0xb6871e(0x1db)]+'%\x20('+config[_0xb6871e(0x2f4)]+')\x0a',_0x3642b0+=_0x397d14[_0xb6871e(0x32f)]+':\x20'+_0x397d14[_0xb6871e(0x2b7)]+'\x20('+config['fiat']+')\x0a',_0x3642b0+=_0x397d14['rightTxt']+':\x20'+_0x397d14[_0xb6871e(0x1db)]+'%\x20('+config[_0xb6871e(0x336)]+')\x0a',_0x3642b0+=_0xb6871e(0x20b),process[_0xb6871e(0x23c)]({'telegrammsg':_0x3642b0},_0x2b7a0d=>{});}async function sendPortfolioTelegram(){const _0x24c662=_0x595393;if(!coinsLoaded||!currentCoins[0x0][_0x24c662(0x2e7)]){process[_0x24c662(0x23c)]({'telegrammsg':_0x24c662(0x31d)},_0x3f8f76=>{});return;}let _0x4d22ae='';if(config['showname'])_0x4d22ae=_0x24c662(0x2f8)+config[_0x24c662(0x22e)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x4d22ae='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x4d22ae+=_0x24c662(0x331),_0x4d22ae+=_0x24c662(0x23e),_0x4d22ae+=_0x24c662(0x282),_0x4d22ae+=_0x24c662(0x23e),currentCoins['forEach'](_0x187f72=>{const _0x17d839=_0x24c662;_0x4d22ae+=_0x187f72[_0x17d839(0x232)][_0x17d839(0x361)](0x7)+'|\x20'+formatPad(_0x187f72[_0x17d839(0x2e7)],0x2,0x6)+'|\x20'+formatPad(_0x187f72[_0x17d839(0x274)],0x2,0x6)+'|\x20'+formatPad(_0x187f72[_0x17d839(0x1d8)]*0x64,0x2,0x6)+'\x0a';}),_0x4d22ae+=_0x24c662(0x20b),process['send']({'telegrammsg':_0x4d22ae},_0x286be6=>{});}function formatPad(_0x3c0989,_0x323a3,_0x1e1dfc){const _0x1da5d3=_0x595393,_0x518958=formatResultString(_0x3c0989,_0x323a3);return _0x518958?_0x518958['padStart'](_0x1e1dfc):''[_0x1da5d3(0x219)](_0x1e1dfc);}function logHistory(_0x4ec9a6,_0x47d687,_0x5b5c04=''){const _0x31bac2=_0x595393;logger[_0x31bac2(0x1c9)](''+_0x47d687);let _0x234132={'time':getTimeStamp(),'type':_0x4ec9a6,'event':_0x47d687};dbLogs[_0x31bac2(0x36d)](_0x31bac2(0x35d))['push'](_0x234132)[_0x31bac2(0x323)]();if(_0x5b5c04=='')_0x5b5c04=_0x47d687;proxyEmit(_0x31bac2(0x213),{'log':_0x234132,'summary':_0x5b5c04}),process['send']({'telegram':{..._0x234132,'botname':config[_0x31bac2(0x22e)],'showname':config[_0x31bac2(0x1fc)]}},_0x1cac7d=>{});}function emitHistory(_0x2ebc17={}){const _0x2cc6bd=_0x595393;Object['keys'](_0x2ebc17)[_0x2cc6bd(0x244)]==0x0&&(_0x2ebc17={'type':[_0x2cc6bd(0x1cf),_0x2cc6bd(0x213)],'event':'','page':0x1});if(_0x2ebc17[_0x2cc6bd(0x2ab)][_0x2cc6bd(0x22a)](_0x2cc6bd(0x213)))_0x2ebc17[_0x2cc6bd(0x2ab)][_0x2cc6bd(0x2d0)](_0x2ebc17[_0x2cc6bd(0x2ab)]['indexOf'](_0x2cc6bd(0x213)),0x1,_0x2cc6bd(0x350),_0x2cc6bd(0x2af),_0x2cc6bd(0x1d5));if(dbLogs[_0x2cc6bd(0x307)]('logs')[_0x2cc6bd(0x2b7)]()){let _0x2a7391=dbLogs['get'](_0x2cc6bd(0x35d))[_0x2cc6bd(0x349)](_0x343e09=>{const _0x19aef4=_0x2cc6bd;if(_0x2ebc17['type'][_0x19aef4(0x244)]==0x0)return![];else return _0x2ebc17[_0x19aef4(0x2ab)][_0x19aef4(0x22a)](_0x343e09['type']);})[_0x2cc6bd(0x349)](_0x1d60b4=>{const _0x1630f8=_0x2cc6bd;if(_0x2ebc17[_0x1630f8(0x213)]=='')return!![];else return _0x1d60b4[_0x1630f8(0x213)][_0x1630f8(0x226)]()[_0x1630f8(0x22a)](_0x2ebc17[_0x1630f8(0x213)][_0x1630f8(0x226)]());})['sortBy']('time'),_0x394fb5=_0x2a7391[_0x2cc6bd(0x2b7)]()[_0x2cc6bd(0x244)];_0x2a7391=_0x2a7391['reverse']()[_0x2cc6bd(0x2ea)]((_0x2ebc17[_0x2cc6bd(0x326)]-0x1)*logPageSize,_0x2ebc17[_0x2cc6bd(0x326)]*logPageSize-0x1)['reverse']()[_0x2cc6bd(0x2b7)](),proxyEmit('event-history',{'logs':_0x2a7391,'total':_0x394fb5});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1c5a2e){const _0xdf96b1=_0x595393;if(dbLogs['has'](_0xdf96b1(0x35d))['value']()){const _0x59e037=dbLogs[_0xdf96b1(0x36d)](_0xdf96b1(0x35d))[_0xdf96b1(0x273)](_0xdf96b1(0x370))[_0xdf96b1(0x349)](_0x1673ce=>{const _0x248519=_0xdf96b1;return _0x1673ce[_0x248519(0x2ab)]=='order';})[_0xdf96b1(0x2b7)]();dbLogs['get'](_0xdf96b1(0x35d))['remove']()[_0xdf96b1(0x323)](),dbLogs[_0xdf96b1(0x36d)]('logs')[_0xdf96b1(0x218)](_0x59e037)[_0xdf96b1(0x323)](),emitHistory(_0x1c5a2e);}}async function pauseBot(_0xd9807a=pauseBotIntervalShort,_0x583a32,_0x59e769,_0x41e857=![]){const _0x655c64=_0x595393,_0x568a8b=new Date()['getTime']();if(!lastErrorShown||_0x568a8b-lastErrorShown>=_0xd9807a){lastErrorShown=_0x568a8b;if(!lastBotPause)lastBotPause=_0x568a8b,consecutivePauses=0x1;else{if(_0x568a8b-lastBotPause-_0xd9807a<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x41e857){logHistory(_0x655c64(0x350),_0x583a32+_0x655c64(0x355)),await killBot();return;}else logHistory(_0x655c64(0x350),_0x583a32+pauseBotMsg),_0xd9807a=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x568a8b;}_0x59e769?logger[_0x655c64(0x345)]('('+consecutivePauses+')\x20'+_0x583a32+_0x655c64(0x2c9),_0x59e769):logger[_0x655c64(0x345)]('('+consecutivePauses+')\x20'+_0x583a32);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0xd9807a),botPaused=![],_0xd9807a==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){botPaused=!![],await sleep(0x3e8),process['send']({'stop':'kill'},_0x4bf0c1=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x20e6c3,_0xd6215b){const _0x2b9c06=_0x595393;if(botPaused)return;const _0x10b390=config[_0x2b9c06(0x28a)]||_0x2b9c06(0x377);if(_0xd6215b)logger[_0x2b9c06(0x345)](_0x2b9c06(0x356)+_0xd6215b);const _0x550942=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x20e6c3[_0x2b9c06(0x25c)]()[_0x2b9c06(0x22a)](_0x2b9c06(0x2be)))logHistory('error',_0x10b390+_0x2b9c06(0x314)),_0x550942();else{if(_0x20e6c3['toString']()['includes'](_0x2b9c06(0x316)))logHistory(_0x2b9c06(0x350),_0x10b390+_0x2b9c06(0x201)),_0x550942();else _0x20e6c3[_0x2b9c06(0x25c)]()[_0x2b9c06(0x22a)](_0x2b9c06(0x36e))?(logHistory(_0x2b9c06(0x350),_0x10b390+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x550942()):await handleError(_0x20e6c3,null);}}async function handleError(_0x497fd2,_0x5aca07,_0x32442c=''){const _0x4eee62=_0x595393;if(botPaused)return;let _0x4fd069;const _0x20066d=config[_0x4eee62(0x28a)]||_0x4eee62(0x377);if(_0x5aca07)logger[_0x4eee62(0x345)](_0x4eee62(0x356)+_0x5aca07);if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)]('DDoSProtection'))_0x4fd069=_0x20066d+_0x4eee62(0x306),await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x27f)))_0x4fd069=_0x20066d+_0x4eee62(0x2a2),await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2['toString']()[_0x4eee62(0x22a)](_0x4eee62(0x1ce))||_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x222)))_0x4fd069=_0x20066d+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x203)))_0x4fd069=_0x20066d+_0x4eee62(0x272),await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x1cc)))_0x4fd069=_0x20066d+_0x4eee62(0x2e0),await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2['toString']()[_0x4eee62(0x226)]()[_0x4eee62(0x22a)](_0x4eee62(0x23a))||_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x226)]()['includes'](_0x4eee62(0x20d)))_0x4fd069=_0x4eee62(0x278),await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x2c6)))_0x4fd069=_0x20066d+_0x4eee62(0x267),await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2 instanceof ccxt['NetworkError'])_0x4fd069=_0x20066d+_0x4eee62(0x34c)+_0x497fd2[_0x4eee62(0x25c)](),logger[_0x4eee62(0x345)](_0x4eee62(0x2ce),_0x497fd2),await pauseBot(undefined,_0x4fd069,_0x497fd2);else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x2be)))logHistory('error',_0x20066d+_0x4eee62(0x338)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x4eee62(0x350),_0x20066d+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x4eee62(0x350),_0x4eee62(0x34a)),await killBot();else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x36e))&&_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x366)))_0x4fd069=_0x20066d+_0x4eee62(0x30d),await pauseBot(undefined,_0x4fd069,_0x497fd2,!![]);else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x36e)))config[_0x4eee62(0x1ff)]?_0x4fd069=_0x20066d+_0x4eee62(0x22c):_0x4fd069=_0x20066d+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x4eee62(0x350),_0x4fd069),logHistory(_0x4eee62(0x350),_0x4eee62(0x34a)),await killBot();else{if(_0x497fd2[_0x4eee62(0x25c)]()[_0x4eee62(0x22a)](_0x4eee62(0x2f0)))logHistory(_0x4eee62(0x350),_0x20066d+_0x4eee62(0x35b)),logHistory(_0x4eee62(0x350),_0x4eee62(0x34a)),await killBot();else{if(_0x497fd2['toString']()[_0x4eee62(0x22a)]('InsufficientFunds'))logHistory('error',_0x4eee62(0x375)+_0x32442c);else{if(_0x497fd2 instanceof ccxt['ExchangeError']){_0x4fd069=_0x20066d+_0x4eee62(0x24e)+_0x497fd2[_0x4eee62(0x25c)](),logHistory(_0x4eee62(0x350),_0x4fd069),logger[_0x4eee62(0x345)]('Exchange\x20error\x20details:',_0x497fd2);if(_0x32442c)logger[_0x4eee62(0x345)](_0x4eee62(0x301)+_0x32442c);await pauseBot(undefined,_0x4fd069,_0x497fd2);}else{_0x4fd069=_0x4eee62(0x1d7)+_0x497fd2['toString'](),logHistory('error',_0x4fd069),logger[_0x4eee62(0x345)](_0x4fd069+_0x4eee62(0x2c9),_0x497fd2);if(_0x32442c)logger[_0x4eee62(0x345)]('Symbol(s):\x20'+_0x32442c);await pauseBot(undefined,_0x4fd069);}}}}}}}}}}}}}}}}function _0x217c(_0x26aafd,_0x4cdd8b){const _0x14d1aa=_0xde1b();return _0x217c=function(_0x3d61b3,_0x322a6e){_0x3d61b3=_0x3d61b3-0x1c6;let _0xde1b65=_0x14d1aa[_0x3d61b3];return _0xde1b65;},_0x217c(_0x26aafd,_0x4cdd8b);}async function withRetry(_0x4bb0d5,_0x588a1e){const _0x551431=_0x595393;let _0x3905ef=![],_0x1d2c87=0x0,_0xe393bf,_0x1b4dd9;while(_0x1d2c87<maxRetries){try{_0xe393bf=await _0x588a1e();break;}catch(_0x29391b){_0x1b4dd9=_0x29391b,!_0x3905ef?(_0x3905ef=!![],logger[_0x551431(0x345)](_0x551431(0x2d1)+_0x4bb0d5+':',_0x29391b['toString']())):await sleep(retryInterval);}_0x1d2c87++;}if(_0x1d2c87==0x0)return _0xe393bf;if(_0x1d2c87>=maxRetries)throw _0x1b4dd9;else return logger[_0x551431(0x345)](_0x551431(0x1e0)+_0x1d2c87+_0x551431(0x367)),_0xe393bf;}function formatResult(_0x481979,_0x2178da){const _0x1f7460=_0x595393;return parseFloat(_0x481979[_0x1f7460(0x22b)](_0x2178da));}function formatResultTruncate(_0x5d11ab,_0x5e1c8d){const _0x3f4b70=_0x595393;let _0x4bf55f=formatResultString(_0x5d11ab,0xa),_0x2ba45d=_0x4bf55f[_0x3f4b70(0x302)]('.');return _0x2ba45d!=-0x1&&(_0x4bf55f=_0x4bf55f['slice'](0x0,_0x2ba45d+_0x5e1c8d+0x1)),Number(_0x4bf55f);}function formatResultString(_0x4140bd,_0x3e5290){const _0x3197bb=_0x595393;let _0x7ab316;if(!(''+_0x4140bd)[_0x3197bb(0x22a)]('e'))_0x7ab316=+(Math[_0x3197bb(0x321)](_0x4140bd+'e+'+_0x3e5290)+'e-'+_0x3e5290);else{let _0x416db4=(''+_0x4140bd)['split']('e'),_0x558a1c='';+_0x416db4[0x1]+_0x3e5290>0x0&&(_0x558a1c='+'),_0x7ab316=+(Math[_0x3197bb(0x321)](+_0x416db4[0x0]+'e'+_0x558a1c+(+_0x416db4[0x1]+_0x3e5290))+'e-'+_0x3e5290);}return Number(_0x7ab316)[_0x3197bb(0x22b)](_0x3e5290);}function _0xde1b(){const _0x36bc00=['BTC','date','toLowerCase','push','headless','orderstatus','includes','toFixed','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','yargs/yargs','botname','running','replace','./config/','coin','5qLFnyE','hybrid-crypto-js','freeze','TUSD','PAXG','ask','add','timestamp','getTime','send','defaults','-------------------------------\x0a','79293egUrob','ID:\x20','pro','restart','Net\x20','length','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','limit-low','Loading\x20completed','toUpperCase','EUR','watchOrders()','recent20','fetchTickers()','apiKey','\x20exchange\x20error:\x20','1\x20-\x20FILLED\x20known\x20order:\x20','watchTradesForSymbols','memoryUsage','removed','Net\x20effect','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','Fee\x20discount\x20refund\x20detected:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','1\x20-\x20partially\x20FILLED\x20known\x20order:\x20','sells','amount','toggleBotMode','\x20value','toString','changes','stringify','added','data','valid','portfolio2','2.6.0','Error:\x20Invalid\x20argument\x20','detectLiquidityChange()','Portfolio\x20change\x20detected:\x20','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Order(s)\x20not\x20validated\x20after\x20','fetchOpenOrders','sendMetricsTelegram','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','\x20/\x20','cancel','argv','2\x20-\x20Validate\x20orders:\x20','apply','cooldown','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','sortBy','target','change24h','environment','deleteHistoryAlerts','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','1\x20-\x20FILLED\x20unknown\x20order:\x20','Limit\x20(high-margin)','find','password','bot','MIN_NOTIONAL','RateLimitExceeded','watchTradesForSymbols()','amountToPrecision','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Pausing\x20for\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','side','process\x20','slider','ORDERS.UNLOCKED','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','exchange','privateKey','Headless:\x20','1\x20-\x20Unlock\x20orders','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','abs','2\x20-\x20Orders\x20unlocked',':\x20timer\x20>','buy','/USDT','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','no\x20exchange\x20reloaded','./logs/','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','substring','constructor','marketcapEnabled','remainingSymbols','secure','Error\x20in\x20loadSymbols():\x20','yyyy/MM/dd','lowdb','onepagemode','market','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','parse','floor','decrypt','\x20orders\x20in\x20less\x20than\x20','set',')\x20|\x20exchange:\x20','net-fiat','\x20order:\x20','type','Error\x20details:','excluded','liquidity','warning','limit','fees','resetHistory','storeConfiguration','sell','\x20minutes','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','value','0\x20-\x20EXECUTION:\x20','min','canceled','must\x20be\x20greater\x20than\x20minimum\x20amount','1412810kUJwsC','startprice','API-key\x20format\x20invalid','placeOrder','staging','UNLOCKED',',\x20must\x20be\x20a\x203\x20digit\x20number','USDP','basecoinvalue','\x20hour','InvalidNonce','isEqual','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','\x20>\x20details:','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','.json','log','coins','Network\x20error\x20details:','createOrder','splice','RETRY\x20-\x20Error\x20in\x20','balancing\x20resumed','\x20:\x20','recreate','./version.json','performance','trade','Invalid\x20quantity','cancelLoading','rightTxt','emojisell','1\x20-\x20Handle\x20open\x20orders','BUSD','cost','(((.+)+)+)+$','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again',':\x20Bot\x20','balances','\x20|\x20lock\x20orders:\x20','Limit\x20(low-margin)','loadMarkets','distribution','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','currency','slice','util','number','axios','16MuERAM','threshold','PermissionDenied','Bot\x20','createWriteStream','BNB','basecoin','writeFile','fee','cancelOrders()','<b>','limit-high','function','fetchTickers','ordertype','realized','initTickers()','<b>Bot\x20','apiSecret','Symbol(s):\x20','indexOf','timeshift','timeout','Waited\x20','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','has','last','marketcapsqrt','watchOrders','cancelOrder','USD','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','red_yellow_blue','Error\x20details\x20(0):','startnumber','getHours','cloneDeep','average','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','1\x20-\x20partially\x20FILLED\x20unknown\x20order:\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','price','exec','existsSync','Binance','net-basecoin','version','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','args','format','Manual\x20balancing\x20required','round','none','write','watchTrades()','marketcapApi','page','eur','Market','Huobi','Trigger:\x20','orderId','mkdirSync','-performance.json','test','leftTxt','status','<pre>','\x20uses\x20','entries','001','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','fiat','getMonth','\x20API\x20key\x20is\x20invalid','USDT','fromCodePoint','getSeconds','portfolio1','LOCKED','reverse','keys','unlinkSync','join','\x20>\x20','***','2.3.5','debug','sort','Resetting\x20bot\x20history','datetime','filter','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','\x20network\x20error:\x20','botID','code','showConfig','error','offset','%\x20(','open','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Exception\x20thrown\x20in\x20','switch-manual','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','Bybit','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','emojibuy','logs','configuration-stored','sha256','enableFiatToggle','padEnd','exchange\x20reload','1\x20-\x20Validate\x20orders:\x20','Unfilled\x20order(s)\x20canceled\x20after\x20','bid','token\x20is\x20expired','\x20attempts','quote','filled','\x20change','\x20>\x20[DEBUG]\x20','Unknown\x20error\x20-\x20check\x20logs','get','AuthenticationError','BNB/','time','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','colorscheme','134BdijVS','pop','Insufficient\x20funds\x20to\x20execute\x20order:\x20','Order\x20amount\x20is\x20invalid:\x20','Exchange','Cooldown\x20ended\x20-\x20balancing\x20resumed','getFullYear','lowdb/adapters/FileSync','2\x20-\x20Handled\x20open\x20orders','Crypt','-events.json','shift','placeOrder()','full','\x20MB','closed','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','ETH','ExchangeNotAvailable','order','findIndex','3601xTEBmC','final','ongoing','progress','success','\x20-\x20','Unknown\x20error:\x20','delta','getMinutes','/backup/','change','624087GtWLKT','date-fns','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','bot-','RETRY\x20-\x20Problem\x20resolved\x20after\x20','total','marketcap','getCoins()','\x20|\x20','\x20-\x20bot\x20not\x20started','2530250wcadKK','max','update-liquidity','\x20exchange','portfolio','getDate','forEach','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','limits','pid','spot','message','No\x20more\x20open\x20orders\x20-\x20','bots','search','market_cap','emitHistory','breakeven','symbol','Avoiding\x20continuous\x20order\x20attempts','remove','UNLOCKING','showname','initclient','highest','apiPassword','/USD','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','percentage','RequestTimeout','configuration','1541286zxAsZw','watchTrades','\x20minutes\x20-\x20','Reset\x20|\x20','map','usd','</pre>','initial','request-time','sendPortfolioTelegram','buys','-results.json','fetchTicker','Initializing\x20coin\x20results','event','************','ccxt','settings','enabled','assign','padStart','startdate','exchanges','autoliquidity','openOrders','2.6.23','212280rInntW','fetchBalance','getOpenOrders()','OnMaintenance','\x20has\x20a\x2024h\x20drop\x20of\x20'];_0xde1b=function(){return _0x36bc00;};return _0xde1b();}function getServerTime(){const _0xa025d4=_0x595393,_0x546213=new Date();return _0x546213[_0xa025d4(0x379)]()+'/'+(_0x546213[_0xa025d4(0x337)]()+0x1)[_0xa025d4(0x25c)]()['padStart'](0x2,'0')+'/'+_0x546213[_0xa025d4(0x1eb)]()[_0xa025d4(0x25c)]()[_0xa025d4(0x219)](0x2,'0')+'\x20'+_0x546213['getHours']()['toString']()['padStart'](0x2,'0')+':'+_0x546213[_0xa025d4(0x1d9)]()['toString']()[_0xa025d4(0x219)](0x2,'0')+':'+_0x546213[_0xa025d4(0x33b)]()['toString']()[_0xa025d4(0x219)](0x2,'0');}function getTimeStamp(){const _0x2e268a=_0x595393,_0x3f9adb=shiftedTime();return _0x3f9adb[_0x2e268a(0x379)]()+'/'+(_0x3f9adb[_0x2e268a(0x337)]()+0x1)[_0x2e268a(0x25c)]()[_0x2e268a(0x219)](0x2,'0')+'/'+_0x3f9adb[_0x2e268a(0x1eb)]()[_0x2e268a(0x25c)]()[_0x2e268a(0x219)](0x2,'0')+'\x20'+_0x3f9adb[_0x2e268a(0x311)]()['toString']()[_0x2e268a(0x219)](0x2,'0')+':'+_0x3f9adb[_0x2e268a(0x1d9)]()['toString']()[_0x2e268a(0x219)](0x2,'0')+':'+_0x3f9adb['getSeconds']()[_0x2e268a(0x25c)]()[_0x2e268a(0x219)](0x2,'0');}function getDate(){const _0x158071=_0x595393,_0x2b2b9d=shiftedTime();return _0x2b2b9d[_0x158071(0x379)]()+'/'+(_0x2b2b9d[_0x158071(0x337)]()+0x1)[_0x158071(0x25c)]()[_0x158071(0x219)](0x2,'0')+'/'+_0x2b2b9d[_0x158071(0x1eb)]()[_0x158071(0x25c)]()[_0x158071(0x219)](0x2,'0');}function getHour(){const _0x538f62=shiftedTime();return _0x538f62['getHours']()['toString']()['padStart'](0x2,'0');}function sleep(_0x3c98fa){return new Promise(_0x17a510=>setTimeout(_0x17a510,_0x3c98fa));}function shiftedTime(){const _0x4f019d=_0x595393,_0x25b9fb=new Date();let _0x66bf4a=_0x25b9fb;if(config&&config[_0x4f019d(0x303)]!==0x0)_0x66bf4a=fns[_0x4f019d(0x239)](_0x25b9fb,{'hours':config[_0x4f019d(0x303)]});return _0x66bf4a;}function timer(_0x114b87){const _0x3a9148=_0x595393,_0xcb0637=new Date();!lasttime?console['log'](getTimeStamp()+_0x3a9148(0x291),_0x114b87,_0xcb0637):console[_0x3a9148(0x2cc)](getTimeStamp()+_0x3a9148(0x291),_0x114b87,(_0xcb0637-lasttime)/0x3e8),lasttime=_0xcb0637;}