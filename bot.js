const _0x5c43db=_0x2966;(function(_0x4f2535,_0x5cc2e3){const _0x1f1cde=_0x2966,_0x465284=_0x4f2535();while(!![]){try{const _0x5b0595=parseInt(_0x1f1cde(0x13e))/0x1+-parseInt(_0x1f1cde(0x1ed))/0x2*(-parseInt(_0x1f1cde(0x1cb))/0x3)+parseInt(_0x1f1cde(0x132))/0x4+-parseInt(_0x1f1cde(0x15a))/0x5+parseInt(_0x1f1cde(0x17b))/0x6+parseInt(_0x1f1cde(0x158))/0x7*(-parseInt(_0x1f1cde(0x22e))/0x8)+-parseInt(_0x1f1cde(0x194))/0x9;if(_0x5b0595===_0x5cc2e3)break;else _0x465284['push'](_0x465284['shift']());}catch(_0x38517d){_0x465284['push'](_0x465284['shift']());}}}(_0x1aa4,0xa5c5e));const _0x223cd8=function(){let _0x1a01a4=!![];return function(_0x25a6b5,_0x2cbddb){const _0x1a6cee=_0x1a01a4?function(){const _0x408827=_0x2966;if(_0x2cbddb){const _0x1a997f=_0x2cbddb[_0x408827(0x12a)](_0x25a6b5,arguments);return _0x2cbddb=null,_0x1a997f;}}:function(){};return _0x1a01a4=![],_0x1a6cee;};}(),_0x29554f=_0x223cd8(this,function(){const _0x236a06=_0x2966;return _0x29554f[_0x236a06(0xf2)]()[_0x236a06(0x16b)](_0x236a06(0x21f))[_0x236a06(0xf2)]()['constructor'](_0x29554f)[_0x236a06(0x16b)]('(((.+)+)+)+$');});_0x29554f();'use strict';const ccxt=require(_0x5c43db(0x20a)),low=require(_0x5c43db(0x11d)),FileSync=require(_0x5c43db(0x1e6)),fs=require('fs'),fns=require(_0x5c43db(0x15c)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require('hybrid-crypto-js')[_0x5c43db(0x1a3)],util=require(_0x5c43db(0x1ff));let exchange,wsClient;global[_0x5c43db(0xf6)]={},global[_0x5c43db(0x1bc)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x5c43db(0x203),_0x5c43db(0x168),_0x5c43db(0x1cf),_0x5c43db(0x191),_0x5c43db(0x167),_0x5c43db(0x124)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5c43db(0x1d4)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x5c43db(0x154))[_0x5c43db(0x20c)],botID=process['argv'][0x2]||_0x5c43db(0x18a),pattern=/^[0-9]{3}$/;!pattern[_0x5c43db(0x1e1)](botID)&&(console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x5c43db(0x206)),process[_0x5c43db(0x1e3)](0x1));const userID=process['argv'][0x3]||'',configpath=userID?'./config/'+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0x5c43db(0x126),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs[_0x5c43db(0x12f)](configpath)&&fs[_0x5c43db(0xf5)](configpath);!fs['existsSync'](logspath)&&fs[_0x5c43db(0xf5)](logspath);const configfile=configpath+'bot-'+botID+_0x5c43db(0x231),logfile=configpath+'bot-'+botID+_0x5c43db(0x1d5),performancefile=configpath+_0x5c43db(0x1cd)+botID+_0x5c43db(0x1d0),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+_0x5c43db(0x230),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x5c43db(0x17d),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5c43db(0x176)]({'logs':[]})[_0x5c43db(0x103)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0x5c43db(0x103)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5c43db(0x176)]({'bot':[]})[_0x5c43db(0x103)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5c43db(0x176)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x340142)=>{},'debug':(..._0x3e40ed)=>{},'notice':(..._0x4864d3)=>{},'info':(..._0x1815fc)=>{},'warning':(..._0x221d9d)=>{},'error':async function(..._0x28178d){const _0x5a4391=_0x5c43db,_0x3dddfc=new Date()[_0x5a4391(0x16f)]();if(!lastErrorShown||_0x3dddfc-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x5a4391(0x16f)]();let _0x295c04='';if(_0x28178d[0x0])_0x295c04+=_0x28178d[0x0];if(_0x28178d[0x1]&&_0x28178d[0x1][_0x5a4391(0x21c)]&&_0x28178d[0x1]['error']['message'])_0x295c04+='\x20-\x20'+_0x28178d[0x1]['error'][_0x5a4391(0xe3)];logger['full'](_0x5a4391(0x22f)+consecutivePauses+_0x5a4391(0x148),''+_0x295c04),await pauseBot(_0x5a4391(0x149));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x5c43db(0xf4),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4d1d89=>{console['log'](_0x4d1d89);},'simple':_0x400d18=>{const _0x3552c6=_0x5c43db;console[_0x3552c6(0xf3)](_0x400d18),loggerfile[_0x3552c6(0x103)](util[_0x3552c6(0x19e)](_0x400d18)+'\x0a');},'full':async(_0x3a3b20,_0x14b960='')=>{const _0x50c830=_0x5c43db;let _0x1b4048;if(config['showname'])_0x1b4048=getTimeStamp()+':\x20'+config['botname']+_0x50c830(0x22d)+_0x3a3b20;else _0x1b4048=getTimeStamp()+_0x50c830(0x213)+botID+'\x20>\x20'+_0x3a3b20;console[_0x50c830(0xf3)](_0x1b4048),loggerfile[_0x50c830(0x103)](util[_0x50c830(0x19e)](_0x1b4048)+'\x0a'),_0x14b960&&(console['log'](_0x14b960),loggerfile[_0x50c830(0x103)](util['format'](_0x14b960)+'\x0a'));}};process['on'](_0x5c43db(0x120),function(_0x390e0e){const _0x32b888=_0x5c43db;logger[_0x32b888(0x1ac)](_0x390e0e);});settings['timeshift']!=config[_0x5c43db(0x1ee)]&&updateTimeshift(settings['timeshift']);process[_0x5c43db(0x192)]({'started':'running'},_0x3b1604=>{}),initializeProcessListeners();function proxyEmit(_0x4f3fe3,_0x4baace=null){const _0x5a07e5=_0x5c43db;process[_0x5a07e5(0x192)]({'function':_0x4f3fe3,'args':_0x4baace},_0x642651=>{});}function initializeProcessListeners(){process['on']('message',_0x3f19ed=>{const _0x3c67b2=_0x2966;switch(Object[_0x3c67b2(0x18c)](_0x3f19ed)[0x0]){case _0x3c67b2(0x1ee):_0x3f19ed[_0x3c67b2(0x1ee)]!=undefined&&(settings[_0x3c67b2(0x1ee)]=_0x3f19ed[_0x3c67b2(0x1ee)],updateTimeshift(settings['timeshift']));break;case _0x3c67b2(0x12e):switch(_0x3f19ed[_0x3c67b2(0x12e)]){case'initclient':initclient();break;case _0x3c67b2(0xe2):toggleBotMode();break;case _0x3c67b2(0x1d8):emitHistory(_0x3f19ed[_0x3c67b2(0x1b3)]);break;case _0x3c67b2(0x1c0):deleteHistoryAlerts(_0x3f19ed[_0x3c67b2(0x1b3)]);break;case _0x3c67b2(0x21d):getPortfolio(_0x3f19ed['args']);break;case _0x3c67b2(0x205):storeConfiguration(_0x3f19ed[_0x3c67b2(0x1b3)]);break;case _0x3c67b2(0x1be):storeHeadless(_0x3f19ed['args']);break;case _0x3c67b2(0x1a2):getStartingBalances(getNormalizedPerformance());break;case _0x3c67b2(0x1f2):placeOrder(_0x3f19ed[_0x3c67b2(0x1b3)]);break;case _0x3c67b2(0xf7):cancelLoading();break;case _0x3c67b2(0xe6):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x1bbae1=_0x5c43db;if(pidBalances)clearTimeout(pidBalances);if(config[_0x1bbae1(0x170)]!=''&&config[_0x1bbae1(0x170)]!=_0x1bbae1(0x1fe)){await initExchange(config['apiKey'],config[_0x1bbae1(0x1f5)]),await initWsEvents();let _0x5cac7a=![];try{_0x5cac7a=await loadSymbols();}catch(_0x50a3bc){handleError(_0x50a3bc,_0x1bbae1(0x19d));}if(_0x5cac7a){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x1bbae1(0x12d)]==0x0&&allOpenOrders[_0x1bbae1(0x12d)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x2cffc9,_0x4d10f7){const _0x1c87d7=_0x5c43db,_0x263028=ccxt[config[_0x1c87d7(0x1d3)]];let _0x52b474;switch(config['exchange']){case _0x1c87d7(0x139):_0x52b474=_0x1c87d7(0x22b);break;case'binanceus':_0x52b474=_0x1c87d7(0x114);break;default:_0x52b474=_0x1c87d7(0x22b);}exchange=new _0x263028({'apiKey':_0x2cffc9,'secret':_0x4d10f7,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x1c87d7(0x215)][_0x1c87d7(0x1ba)]=_0x2cffc9,wsClient[_0x1c87d7(0x215)][_0x1c87d7(0x138)]=_0x4d10f7,wsClient['options']['wsUrl']=_0x52b474;let _0x3f512c=config['exchange']==_0x1c87d7(0x223)?'USDT':_0x1c87d7(0x1f3),_0x3d5cd6=config['basecoin']==_0x1c87d7(0x11e)?'ETH':_0x1c87d7(0x164);stablecoins={'eur':{'coin':''+_0x3d5cd6+_0x3f512c,'symbol':_0x3d5cd6+'/'+_0x3f512c},'usd':{'coin':_0x3d5cd6+_0x1c87d7(0x1d7),'symbol':_0x3d5cd6+'/USDT'}};}async function initWsEvents(){const _0xcf29c4=_0x5c43db;!wsClient[_0xcf29c4(0x197)]['formattedMessage']&&wsClient['on'](_0xcf29c4(0x1c2),_0xdfb605=>{const _0x172a29=_0xcf29c4;if(isWsFormattedKline(_0xdfb605)){global[_0x172a29(0xf6)][_0xdfb605['kline'][_0x172a29(0x17a)]]=_0xdfb605[_0x172a29(0x228)][_0x172a29(0x133)];return;}else{if(isWsFormatted24hrTicker(_0xdfb605)){global[_0x172a29(0x1bc)][_0xdfb605[_0x172a29(0x17a)]]=_0xdfb605[_0x172a29(0x144)];return;}else{if(!Array[_0x172a29(0xe7)](_0xdfb605)&&_0xdfb605[_0x172a29(0x1bf)]['includes'](_0x172a29(0x151))){if(_0xdfb605[_0x172a29(0x208)][_0x172a29(0x153)]('spot')){updateNumberCoins(_0xdfb605);return;}}}}}),!wsClient[_0xcf29c4(0x197)][_0xcf29c4(0x16e)]&&wsClient['on'](_0xcf29c4(0x16e),async _0x342fc5=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x57bed8=_0x5c43db;let _0x2cfb81=![];try{markets=await exchange[_0x57bed8(0x173)](),allSymbols=exchange[_0x57bed8(0x174)][_0x57bed8(0xf9)](_0x3189e9=>{const _0x60c4b3=_0x57bed8;let _0x2843c1=![];return exceptions[_0x60c4b3(0x183)](_0x4e1ee3=>{const _0x51d024=_0x60c4b3;if(_0x3189e9[_0x51d024(0x153)](_0x4e1ee3))_0x2843c1=!![];}),!_0x2843c1;}),_0x2cfb81=!![];}catch(_0x59f44b){_0x2cfb81=![];throw _0x59f44b;}return _0x2cfb81;}function _0x1aa4(){const _0x4fefd5=['args','Order\x20filled:\x20','limit-low','getDate','stringify','Unknown\x20error\x20occured','side','api_key','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','change','BNB/','storeHeadless','wsKey','deleteHistoryAlerts','full','formattedMessage','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','open','ongoing','2.5.0','logs','starting-balance-','liquidity','time','3CrfjIc','event-history','bot-','-------------------------------\x0a','HOT/EUR','-performance.json','2.3.5','bot','exchange','freeze','-events.json','min','USDT','emitHistory','configuration','fetchTickers','Limit\x20(low-margin)','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','padEnd','\x20value','Binance\x20not\x20responding','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','test','</pre>','exit','settings','get','lowdb/adapters/FileSync','\x20-\x20bot\x20not\x20started','slice','\x20has\x20a\x2024h\x20drop\x20of\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','getCoinNumber()','coin-loading-progress','2004666atGxna','timeshift','AuthenticationError','performance','writeFile','placeOrder','EUR','value','apiSecret','breakeven','parseISO','push','\x20minutes','accumulatedQuantity','sells','newClientOrderId','getFullYear','***','util','customId','fees','fiat','DAI/','join','storeConfiguration',',\x20must\x20be\x20a\x203\x20digit\x20number','CANCELED','wsMarket','cloneDeep','ccxt','balancing\x20resumed','version','<b>Bot\x20','initial','\x20|\x20Binance\x20API\x20secret\x20invalid','ask','concat','Order(s)\x20filled\x20-\x20',':\x20Bot\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','options','currency','API\x20or\x20clock\x20sync\x20issue','fetchBalance','yyyy-MM-dd\x27T\x27HH:mm:ss','startnumber','toLowerCase','error','getPortfolio','starting-balances','(((.+)+)+)+$','yyyy/MM/dd','\x20|\x20','netoffset','binanceus','excluded','orderStatus','canceled','emojisell','kline','coin','kill','wss://stream.binance.com:9443','round','\x20>\x20','776ywFxgF','WebSockets(','bb-settings.json','-config.json','precision','Limit\x20(high-margin)','distribution','getCoins()','toggleBotMode','message','entries','bid','sendPortfolioTelegram','isArray','replace','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','coins','Bot\x20','target','market','MIN_NOTIONAL','indexOf','orderstatus','no\x20open\x20orders','toString','log','sha256','mkdirSync','ticker','cancelLoading','basecoin','filter','toFixed','trade','cooldown','filled','string','page','recreate','remainingSymbols','\x20portfolio:</b>\x20\x0a\x0a','write','buy','Unfilled\x20order(s)\x20canceled\x20after\x20','ordertype','getHours','threshold','BNB','order','parse','emojibuy','realized','fee','delta','\x20hour','getMonth','cost','exec','wss://stream.binance.us:9443','startprice','LOCKED','timeout','abs','orderId','Order(s)\x20validated\x20-\x20','spot','\x20change','lowdb','ETH','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','uncaughtException','limit','balancing\x20resumes\x20when\x20cooldown\x20ends','getSeconds','YOYOW/','sell','./logs/','\x20minutes\x20-\x20','split','fetchOpenOrders','apply','datetime','net-basecoin','length','function','existsSync','number','FILLED','4671920zzKeKI','close','changes','\x20|\x20Binance\x20API\x20key\x20invalid','startdate','data','api_secret','binance','warning','milliseconds','portfolio','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','1014805dueGHL','success','getMinutes','headless','assign','usd','priceChangePercent','findIndex','%\x20\x0a','UNLOCKING',')\x20|\x20Error\x20details:\x20','Binance\x20not\x20available\x20(1)','placeOrder()','recovery','cancelOrders()','decrypt','Net\x20effect','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','rightTxt','userData','price','includes','./version.json','\x20|\x20Error\x20details:\x20','initws()','max','92708IpEfPi','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','3446140uiYpZJ','find','date-fns','random','event','BUSD','Binance\x20not\x20available\x20(2)','Binance\x20API\x20secret\x20is\x20invalid','secure','padStart','BTC','type','showname','NANO/','HOT/BTC','Market','************','search','openOrders','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','reconnected','getTime','apiKey','net-fiat','.json','loadMarkets','symbols','getFiat()','defaults','last','subscribeSymbol24hrTicker','botname','symbol','6675648CchyIg','eur','/backup/','limits','\x20:\x20','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','cancelOrder','\x20order:\x20','forEach','<pre>','final','sortBy','amount','leftTxt','OrderNotFound','001','UNLOCKED','keys','has','set','Net\x20effect\x20(','Manual\x20balancing\x20required','XEM/BUSD','send','valid','14803416WBNHpt','sort','InsufficientFunds','_events','timestamp','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','none','getPortfolio()','Order(s)\x20not\x20validated\x20after\x20','loadSymbols()','format','restart','date','change24h','getStartingBalances','Crypt','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Pausing\x20for\x20','API-key\x20format\x20invalid','reverse','fromCodePoint','total','offset','splice','simple','eventType','Failed\x20to\x20load\x20coin\x20data\x20for\x20','InvalidNonce','balances','NEW','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a'];_0x1aa4=function(){return _0x4fefd5;};return _0x1aa4();}function _0x2966(_0xe92576,_0x40a699){const _0xcb2a58=_0x1aa4();return _0x2966=function(_0x29554f,_0x223cd8){_0x29554f=_0x29554f-0xdf;let _0x1aa427=_0xcb2a58[_0x29554f];return _0x1aa427;},_0x2966(_0xe92576,_0x40a699);}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x2359f3=_0x5c43db;proxyEmit(_0x2359f3(0x1d9),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2359f3(0x1b0),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1c34f8=getNormalizedPerformance();emitPerformance(_0x1c34f8),await getStartingBalances(_0x1c34f8);}async function toggleBotMode(){const _0xa3d917=_0x5c43db;let _0x202f0e=dbConfig[_0xa3d917(0x1e5)](_0xa3d917(0x1d2))[_0xa3d917(0x15b)]({'botID':botID})[_0xa3d917(0x1f4)]();if(_0x202f0e){const _0x65867a=!_0x202f0e[_0xa3d917(0x141)];dbConfig[_0xa3d917(0x1e5)]('bot')['find']({'botID':botID})['assign']({'headless':_0x65867a})[_0xa3d917(0x103)](),config[_0xa3d917(0x141)]=_0x65867a,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x50e7d6=_0x5c43db;process[_0x50e7d6(0x192)]({'updatebotmanager':!![]},_0x587865=>{});}function cleanws(){const _0x9d19a6=_0x5c43db;wsinitialized=![];ws1&&(ws1[_0x9d19a6(0x183)](_0x1378a5=>{try{wsClient['close'](_0x1378a5);}catch(_0x311787){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x53a846){}ws2=null;}ws3&&(ws3[_0x9d19a6(0x183)](_0x3dce1b=>{try{wsClient['close'](_0x3dce1b);}catch(_0x25a53c){}}),ws3=[]);}async function initws(){const _0x244b1c=_0x5c43db;cleanws();let _0x104aa7=[];currentCoins['forEach'](_0x1b0448=>{const _0x14e64f=_0x2966;if(_0x1b0448[_0x14e64f(0x229)]!=config[_0x14e64f(0xf8)])_0x104aa7[_0x14e64f(0x1f8)](_0x1b0448[_0x14e64f(0x17a)]);});if(!_0x104aa7['includes'](stablecoins[_0x244b1c(0x17c)][_0x244b1c(0x17a)]))_0x104aa7['push'](stablecoins[_0x244b1c(0x17c)]['symbol']);if(!_0x104aa7[_0x244b1c(0x153)](stablecoins['usd'][_0x244b1c(0x17a)]))_0x104aa7[_0x244b1c(0x1f8)](stablecoins[_0x244b1c(0x143)]['symbol']);if(!_0x104aa7[_0x244b1c(0x153)](_0x244b1c(0x1bd)+config[_0x244b1c(0xf8)]))_0x104aa7[_0x244b1c(0x1f8)]('BNB/'+config[_0x244b1c(0xf8)]);try{_0x104aa7['forEach']((_0x3e8386,_0x3fbd99)=>{const _0x5e9dd3=_0x244b1c;ws1[_0x3fbd99]=wsClient['subscribeSpotKline'](noslash(_0x3e8386),'1m'),ws3[_0x3fbd99]=wsClient[_0x5e9dd3(0x178)](noslash(_0x3e8386),_0x5e9dd3(0x11b));}),ws2=wsClient['subscribeSpotUserDataStream']();}catch(_0x15de79){await handleError(_0x15de79,_0x244b1c(0x156));}let _0x28e35b,_0x382283=0x0;loading['remainingSymbols']=[];let _0x24b57c=0x0;_0x104aa7[_0x244b1c(0x183)](_0x1db5a6=>{const _0x5ceb9a=_0x244b1c;loading[_0x5ceb9a(0x101)][_0x5ceb9a(0x1f8)](_0x1db5a6);}),loadingCanceled=![];let _0x42219d=![];while(_0x28e35b!=_0x104aa7[_0x244b1c(0x12d)]){_0x28e35b=0x0,_0x104aa7['forEach'](_0x2c8ec5=>{global['ticker'][noslash(_0x2c8ec5)]&&(loading['remainingSymbols']=loading['remainingSymbols']['filter'](_0x26d161=>_0x26d161!=_0x2c8ec5),_0x28e35b++);}),loading['progress']=Math[_0x244b1c(0x22c)](_0x28e35b/_0x104aa7[_0x244b1c(0x12d)]*0x64);loading['progress']!=0x64&&(_0x24b57c>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x24b57c>0x3c*0x5&&!_0x42219d&&(_0x42219d=!![],logHistory(_0x244b1c(0x21c),_0x244b1c(0x1ae)+loading[_0x244b1c(0x101)][_0x244b1c(0x204)](',\x20')+_0x244b1c(0x1e7)),logHistory('error',_0x244b1c(0x1a5)+pauseBotInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),await sleep(pauseBotInterval),process[_0x244b1c(0x192)]({'stop':_0x244b1c(0x19f)},_0x590297=>{})));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x28e35b!=_0x382283&&(_0x382283=_0x28e35b,emitLoadingProgress()),_0x24b57c++,await sleep(0xc8);}_0x42219d&&logHistory('success','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started');if(_0x28e35b==_0x104aa7[_0x244b1c(0x12d)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x39a8ff=_0x5c43db;proxyEmit(_0x39a8ff(0x1ec),loading);}async function getFiat(){const _0x21ab4a=_0x5c43db;let _0x45686f=0x0,_0x3aefc0=0x0;try{_0x45686f=global[_0x21ab4a(0xf6)][stablecoins['eur'][_0x21ab4a(0x229)]],_0x3aefc0=global[_0x21ab4a(0xf6)][stablecoins[_0x21ab4a(0x143)][_0x21ab4a(0x229)]];}catch(_0x3c66ad){await handleError(_0x3c66ad,_0x21ab4a(0x175));}return{'eur':Number(_0x45686f),'usd':Number(_0x3aefc0)};}function setStartDatePerformance(){const _0x4ef6ea=_0x5c43db;if(config&&config[_0x4ef6ea(0x1c9)][0x0][_0x4ef6ea(0x134)][_0x4ef6ea(0x12d)]!=0x0){const _0x346cd7=config['liquidity'][0x0][_0x4ef6ea(0x134)];dbPerformance[_0x4ef6ea(0x1e5)]('data')['find']({'date':config['startdate']})['assign']({'coins':_0x346cd7})[_0x4ef6ea(0x103)]();}}async function recreateCoinResults(){const _0x3431a9=_0x5c43db;let _0x235df1,_0x4bd884=[];try{const _0x262db5=fns['format'](fns[_0x3431a9(0x1f7)](config['startdate'][_0x3431a9(0xe8)](/\//g,'-')),_0x3431a9(0x219));for(const _0x2242d4 of currentCoins){if(_0x2242d4[_0x3431a9(0x229)]!=config[_0x3431a9(0xf8)]){let _0x46c049=0x0,_0x47aef5,_0x2f4d2d;_0x235df1=await getAllEventOrders(_0x2242d4['symbol']);if(_0x235df1[_0x3431a9(0x12d)]>0x0)_0x235df1['forEach'](_0xaf06d0=>{const _0x4902db=_0x3431a9,_0x265704=_0x2242d4[_0x4902db(0x17a)]['includes'](config[_0x4902db(0xf8)]+'/');_0x4bd884[_0x4902db(0x1f8)]({'datetime':_0xaf06d0[_0x4902db(0x12b)],'coin':_0x2242d4[_0x4902db(0x229)],'symbol':_0x2242d4[_0x4902db(0x17a)],'side':_0xaf06d0[_0x4902db(0x1b9)],'reverse':_0x265704,'amount':formatResult(_0xaf06d0['filled'],0x8),'filled':formatResult(_0xaf06d0['filled'],0x8),'price':formatResult(_0xaf06d0[_0x4902db(0x152)],0x8)}),_0x46c049=_0xaf06d0[_0x4902db(0x1b9)]=='buy'?_0x46c049+_0xaf06d0[_0x4902db(0xfd)]:_0x46c049-_0xaf06d0['filled'];if(!_0x2f4d2d)_0x2f4d2d=_0xaf06d0[_0x4902db(0x152)];});_0x47aef5=_0x2242d4[_0x3431a9(0x130)]-_0x46c049;let _0x5da229;config[_0x3431a9(0x1c9)][_0x3431a9(0x183)](_0x150ec6=>{const _0x46a6f2=_0x3431a9;!_0x5da229&&(_0x5da229=_0x150ec6[_0x46a6f2(0x134)][_0x46a6f2(0x15b)](_0x55cad7=>_0x55cad7[_0x46a6f2(0x229)]==_0x2242d4[_0x46a6f2(0x229)]),_0x5da229&&(_0x47aef5=_0x5da229['number'],_0x2f4d2d=_0x5da229[_0x46a6f2(0x152)]));});let _0xc9444b=dbCoinResults['get']('coins')[_0x3431a9(0x15b)]({'coin':_0x2242d4[_0x3431a9(0x229)]})[_0x3431a9(0x1f4)]();_0xc9444b={'coin':_0x2242d4[_0x3431a9(0x229)],'number':_0x47aef5,'breakeven':_0x2f4d2d,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3431a9(0x1e5)](_0x3431a9(0xea))[_0x3431a9(0x15b)]({'coin':_0x2242d4['coin']})['assign'](_0xc9444b)[_0x3431a9(0x103)]();}}_0x4bd884[_0x3431a9(0x195)]((_0x28d4be,_0x204c11)=>_0x28d4be['datetime']>_0x204c11[_0x3431a9(0x12b)]?0x1:_0x204c11[_0x3431a9(0x12b)]>_0x28d4be[_0x3431a9(0x12b)]?-0x1:0x0);let _0x3d3963=0x0;for(let _0xb83e64 of _0x4bd884){await updateCoinResults(_0xb83e64,!![]);}}catch(_0x10b7d4){await handleError(_0x10b7d4,'recreateCoinResults()');}}async function getAllEventOrders(_0x41938c){const _0x44145c=_0x5c43db;let _0x98bbb3=[],_0x26cdc9=dbLogs['get'](_0x44145c(0x1c7))[_0x44145c(0xf9)](_0x813c0=>{const _0x2b6700=_0x44145c,_0x47d5d7=_0x813c0[_0x2b6700(0x15e)][_0x2b6700(0x21b)]();return _0x47d5d7['includes'](_0x41938c[_0x2b6700(0x21b)]())&&(_0x47d5d7[_0x2b6700(0x153)](_0x2b6700(0xed))&&_0x47d5d7[_0x2b6700(0x153)](_0x2b6700(0x10a))||_0x47d5d7[_0x2b6700(0x153)](_0x2b6700(0xfd))&&_0x47d5d7['includes'](_0x2b6700(0x10a)));})[_0x44145c(0x186)]('time')[_0x44145c(0x1f4)]();return _0x26cdc9[_0x44145c(0x183)](_0xc1458b=>{const _0x144025=_0x44145c,_0x4ceefe=_0xc1458b[_0x144025(0x15e)][_0x144025(0x153)](_0x144025(0x125))?_0x144025(0x125):'buy',_0x481715=/#([0-9]|\.)+\s/i,_0x4cd022=Number(_0x481715[_0x144025(0x113)](_0xc1458b[_0x144025(0x15e)])[0x0][_0x144025(0x1e8)](0x1)),_0x1f681d=/@([0-9]|\.)+$/i,_0x451873=Number(_0x1f681d['exec'](_0xc1458b['event'])[0x0][_0x144025(0x1e8)](0x1));_0x98bbb3[_0x144025(0x1f8)]({'datetime':_0xc1458b[_0x144025(0x1ca)],'coin':symbolToCoin(_0x41938c),'symbol':_0x41938c,'side':_0x4ceefe,'amount':_0x4cd022,'filled':_0x4cd022,'price':_0x451873});}),_0x98bbb3;}async function getAllOrders(_0x35ea83,_0x1a310b){const _0x6d8c74=_0x5c43db;let _0x1ec8d7=[];while(_0x1a310b<exchange[_0x6d8c74(0x13b)]()){const _0x44520e=0x1f4,_0x394fba=await exchange['fetchClosedOrders'](_0x35ea83,_0x1a310b,_0x44520e);if(_0x394fba[_0x6d8c74(0x12d)])_0x1a310b=_0x394fba[_0x394fba[_0x6d8c74(0x12d)]-0x1][_0x6d8c74(0x198)]+0x1,_0x1ec8d7=_0x1ec8d7[_0x6d8c74(0x211)](_0x394fba);else break;}return _0x1ec8d7;}async function validate24hChanges(){const _0x6533e2=_0x5c43db;let _0x5367c9;for(const _0x4e0667 of currentCoins){if(_0x4e0667[_0x6533e2(0x229)]!=config[_0x6533e2(0xf8)]){let _0x8c2c24;_0x4e0667[_0x6533e2(0x1a7)]?_0x8c2c24=formatResult((0x1/(global[_0x6533e2(0x1bc)][noslash(_0x4e0667[_0x6533e2(0x17a)])]/0x64+0x1)-0x1)*0x64,0x3):_0x8c2c24=global[_0x6533e2(0x1bc)][noslash(_0x4e0667['symbol'])],_0x8c2c24<config[_0x6533e2(0x1a1)]&&(logHistory(_0x6533e2(0x21c),_0x4e0667[_0x6533e2(0x229)]+_0x6533e2(0x1e9)+_0x8c2c24+'%'),logHistory('error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x6533e2(0x1ea)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x2e3e7d=_0x5c43db;let _0x48a0e4=dbLogs[_0x2e3e7d(0x1e5)](_0x2e3e7d(0x20c))[_0x2e3e7d(0x1f4)]();if(_0x48a0e4!=_0x2e3e7d(0x1d1)){dbLogs[_0x2e3e7d(0x18e)](_0x2e3e7d(0x20c),_0x2e3e7d(0x1d1))[_0x2e3e7d(0x103)]();let _0xbbabc=[];const _0x19b4d3=dbLogs[_0x2e3e7d(0x1e5)](_0x2e3e7d(0x1c7))['value']();_0x19b4d3[_0x2e3e7d(0x183)](_0x2c35e8=>{const _0x2c8c4f=_0x2e3e7d;_0xbbabc[_0x2c8c4f(0x1f8)]({'time':_0x2c35e8[_0x2c8c4f(0x1ca)],'type':_0x2c35e8[_0x2c8c4f(0x165)],'event':_0x2c35e8[_0x2c8c4f(0x15e)]});}),dbLogs[_0x2e3e7d(0x1e5)]('logs')[_0x2e3e7d(0x142)](_0xbbabc)['write']();}let _0x3076b8=dbConfig['get'](_0x2e3e7d(0x20c))[_0x2e3e7d(0x1f4)]();if(_0x3076b8!=_0x2e3e7d(0x1d1)){dbConfig[_0x2e3e7d(0x18e)]('version',_0x2e3e7d(0x1d1))[_0x2e3e7d(0x103)]();let _0x42ba80=dbConfig['get'](_0x2e3e7d(0x1d2))[_0x2e3e7d(0x15b)]({'botID':botID})[_0x2e3e7d(0x1f4)]();if(_0x42ba80){let _0x369720=[];_0x42ba80[_0x2e3e7d(0x13c)][_0x2e3e7d(0x183)](_0x175454=>{const _0x5706c8=_0x2e3e7d;_0x369720[_0x5706c8(0x1f8)]({'coin':_0x175454[_0x5706c8(0x229)],'number':_0x175454[_0x5706c8(0x21a)],'price':_0x175454[_0x5706c8(0x115)]}),delete _0x175454['startnumber'],delete _0x175454[_0x5706c8(0x115)];});if(_0x369720[_0x2e3e7d(0x12d)]!==0x0)fs[_0x2e3e7d(0x1f1)](configbackuppath+(_0x2e3e7d(0x1c8)+botID+_0x2e3e7d(0x172)),JSON[_0x2e3e7d(0x1b7)](_0x369720,null,0x4),function(_0x5697e7){if(_0x5697e7){}});const _0x2b2a1d=(_0x43e461,_0x3c6c32)=>{const _0x48c628=_0x2e3e7d;let _0x57fa1d=[];_0x3c6c32[_0x48c628(0x183)](_0x3d475e=>{const _0x2cb3d4=_0x48c628,_0x136af1=_0x43e461[_0x2cb3d4(0x15b)](_0x4abff6=>_0x4abff6[_0x2cb3d4(0x229)]==_0x3d475e[_0x2cb3d4(0x229)]);if(!_0x136af1)_0x57fa1d[_0x2cb3d4(0x1f8)](_0x3d475e);});let _0x50825b=[];return _0x43e461[_0x48c628(0x183)](_0x35b2d=>{const _0x28f59b=_0x48c628,_0x4f7a4e=_0x3c6c32[_0x28f59b(0x15b)](_0xd4b18c=>_0xd4b18c['coin']==_0x35b2d[_0x28f59b(0x229)]);if(!_0x4f7a4e||_0x4f7a4e[_0x28f59b(0x130)]==0x0&&_0x35b2d[_0x28f59b(0x130)]!=0x0)_0x50825b[_0x28f59b(0x1f8)](_0x35b2d);}),{'missingDay1':_0x57fa1d,'notInDay2':_0x50825b};},_0x298dc3=dbPerformance[_0x2e3e7d(0x1e5)]('data')[_0x2e3e7d(0x209)]()[_0x2e3e7d(0x1f4)]();if(_0x298dc3[_0x2e3e7d(0x12d)]>0x1){const {missingDay1:_0xc0ff43,notInDay2:_0x283adc}=_0x2b2a1d(_0x369720,_0x298dc3[0x1]['coins']);_0x369720=[..._0x369720,..._0xc0ff43],_0x283adc[_0x2e3e7d(0x183)](_0x4181b1=>{const _0x1a1cf3=_0x2e3e7d;let _0x1ad416=_0x369720[_0x1a1cf3(0x145)](_0x5ba84a=>_0x5ba84a[_0x1a1cf3(0x229)]==_0x4181b1[_0x1a1cf3(0x229)]);_0x1ad416!=-0x1&&_0x369720[_0x1a1cf3(0x1ab)](_0x1ad416,0x1);});}_0x369720[_0x2e3e7d(0x195)]((_0x2a1d95,_0xe08dcb)=>_0x2a1d95[_0x2e3e7d(0x229)]>_0xe08dcb[_0x2e3e7d(0x229)]?0x1:_0xe08dcb[_0x2e3e7d(0x229)]>_0x2a1d95[_0x2e3e7d(0x229)]?-0x1:0x0);let _0x5eae0a=[{'date':_0x42ba80['startdate'],'changes':_0x369720}];_0x298dc3[_0x2e3e7d(0x12d)]>0x2&&_0x298dc3['forEach']((_0x330bc3,_0xad1c13)=>{const _0x294fff=_0x2e3e7d;if(_0xad1c13>0x0&&_0xad1c13<_0x298dc3[_0x294fff(0x12d)]-0x1){const {missingDay1:_0x169fd4,notInDay2:_0x1cbe35}=_0x2b2a1d(_0x298dc3[_0xad1c13][_0x294fff(0xea)],_0x298dc3[_0xad1c13+0x1][_0x294fff(0xea)]);_0x369720=[],(_0x169fd4[_0x294fff(0x12d)]!=0x0||_0x1cbe35[_0x294fff(0x12d)]!=0x0)&&(_0x169fd4[_0x294fff(0x12d)]!=0x0&&_0x369720[_0x294fff(0x1f8)](..._0x169fd4),_0x1cbe35['length']!=0x0&&(_0x1cbe35[_0x294fff(0x183)](_0x4c11cb=>{const _0x25afb1=_0x294fff;_0x4c11cb['number']=-_0x4c11cb[_0x25afb1(0x130)];}),_0x369720['push'](..._0x1cbe35)),_0x369720[_0x294fff(0x195)]((_0x357245,_0xef5371)=>_0x357245[_0x294fff(0x229)]>_0xef5371['coin']?0x1:_0xef5371[_0x294fff(0x229)]>_0x357245[_0x294fff(0x229)]?-0x1:0x0),_0x5eae0a[_0x294fff(0x1f8)]({'date':_0x298dc3[_0xad1c13+0x1]['date'],'changes':_0x369720}));}}),dbConfig[_0x2e3e7d(0x1e5)](_0x2e3e7d(0x1d2))[_0x2e3e7d(0x15b)]({'botID':botID})[_0x2e3e7d(0x142)]({..._0x42ba80,'liquidity':_0x5eae0a})['write']();}}config=getConfiguration(botID);let _0x2cb896=dbPerformance[_0x2e3e7d(0x1e5)](_0x2e3e7d(0x20c))[_0x2e3e7d(0x1f4)]();_0x2cb896!=_0x2e3e7d(0x1d1)&&(dbPerformance[_0x2e3e7d(0x18e)](_0x2e3e7d(0x20c),_0x2e3e7d(0x1d1))[_0x2e3e7d(0x103)](),setStartDatePerformance());let _0x4e516d=dbCoinResults[_0x2e3e7d(0x1e5)]('version')[_0x2e3e7d(0x1f4)]();if(_0x4e516d!=_0x2e3e7d(0x1c6)){dbCoinResults['set'](_0x2e3e7d(0x20c),_0x2e3e7d(0x1c6))[_0x2e3e7d(0x103)]();let _0x229ed5=dbCoinResults[_0x2e3e7d(0x1e5)](_0x2e3e7d(0xea))['value']();if(_0x229ed5[_0x2e3e7d(0x12d)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x5cdb4d){const _0x229135=_0x5c43db;let _0xdc4c94=dbConfig[_0x229135(0x1e5)](_0x229135(0x1d2))[_0x229135(0x15b)]({'botID':_0x5cdb4d})[_0x229135(0x1f4)]();if(_0xdc4c94){let _0x4cb562=![];typeof _0xdc4c94['threshold']==_0x229135(0xfe)&&(_0xdc4c94={..._0xdc4c94,'threshold':Number(_0xdc4c94['threshold'])},_0x4cb562=!![]),_0xdc4c94[_0x229135(0x1a1)]==null&&(_0xdc4c94={..._0xdc4c94,'change24h':-0x14},_0x4cb562=!![]),_0x4cb562&&(_0xdc4c94={'botID':_0xdc4c94['botID'],'exchange':_0xdc4c94['exchange'],'apiKey':_0xdc4c94['apiKey'],'apiSecret':_0xdc4c94[_0x229135(0x1f5)],'basecoin':_0xdc4c94[_0x229135(0xf8)],'botname':_0xdc4c94['botname'],'showname':_0xdc4c94[_0x229135(0x166)],'threshold':_0xdc4c94['threshold'],'ordertype':_0xdc4c94[_0x229135(0x106)],'timeout':_0xdc4c94['timeout'],'startdate':_0xdc4c94[_0x229135(0x136)],'recreate':_0xdc4c94[_0x229135(0x100)],'timeshift':_0xdc4c94['timeshift'],'headless':_0xdc4c94[_0x229135(0x141)],'cooldown':_0xdc4c94['cooldown'],'change24h':_0xdc4c94['change24h'],'emojibuy':_0xdc4c94['emojibuy'],'emojisell':_0xdc4c94[_0x229135(0x227)],'portfolio':_0xdc4c94[_0x229135(0x13c)],'liquidity':_0xdc4c94[_0x229135(0x1c9)]},dbConfig['get'](_0x229135(0x1d2))['remove']()[_0x229135(0x103)](),dbConfig['get'](_0x229135(0x1d2))['push'](_0xdc4c94)[_0x229135(0x103)]());}else _0xdc4c94={'botID':_0x5cdb4d,'exchange':_0x229135(0x139),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x229135(0xeb)+_0x5cdb4d,'showname':![],'threshold':0x3,'ordertype':_0x229135(0xed),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x229135(0x1ee)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0xdc4c94;}function emittedConfiguration(){const _0x300275=_0x5c43db;let _0x217b98;if(config[_0x300275(0x170)]=='')_0x217b98={...config,'configstate':'initial'};else config['apiKey']==_0x300275(0x1fe)?_0x217b98={...config,'configstate':_0x300275(0x14b)}:_0x217b98={...config,'apiKey':_0x300275(0x16a),'apiSecret':_0x300275(0x16a)};return _0x217b98;}function getSettings(){const _0x40ffe3=_0x5c43db;return dbSettings[_0x40ffe3(0x1e5)](_0x40ffe3(0x1e4))[_0x40ffe3(0x1f4)]();}function getSecure(){const _0x34363e=_0x5c43db;return dbSecure[_0x34363e(0x1e5)](_0x34363e(0x162))['value']()||{};}function updateTimeshift(_0x124ce6){const _0x1f6763=_0x5c43db;let _0x5e9533=dbConfig['get'](_0x1f6763(0x1d2))[_0x1f6763(0x15b)]({'botID':botID})[_0x1f6763(0x1f4)]();_0x5e9533&&dbConfig['get'](_0x1f6763(0x1d2))[_0x1f6763(0x15b)]({'botID':botID})['assign']({'timeshift':_0x124ce6})[_0x1f6763(0x103)](),config[_0x1f6763(0x1ee)]=_0x124ce6,proxyEmit(_0x1f6763(0x1d9),emittedConfiguration());}async function storeConfiguration(_0x58aac0){const _0x1d7358=_0x5c43db;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0xf0fdb9=dbConfig['get'](_0x1d7358(0x1d2))[_0x1d7358(0x15b)]({'botID':botID})[_0x1d7358(0x1f4)]();_0x58aac0={..._0x58aac0,'apiKey':crypt[_0x1d7358(0x14d)](secure['privateKey'],_0x58aac0[_0x1d7358(0x170)])[_0x1d7358(0xe3)],'apiSecret':crypt[_0x1d7358(0x14d)](secure['privateKey'],_0x58aac0['apiSecret'])[_0x1d7358(0xe3)]};if(_0xf0fdb9){if(_0x58aac0[_0x1d7358(0x170)]==_0x1d7358(0x16a))_0x58aac0[_0x1d7358(0x170)]=config[_0x1d7358(0x170)];if(_0x58aac0[_0x1d7358(0x1f5)]==_0x1d7358(0x16a))_0x58aac0['apiSecret']=config[_0x1d7358(0x1f5)];dbConfig[_0x1d7358(0x1e5)](_0x1d7358(0x1d2))[_0x1d7358(0x15b)]({'botID':botID})[_0x1d7358(0x142)](_0x58aac0)[_0x1d7358(0x103)]();}else dbConfig[_0x1d7358(0x1e5)](_0x1d7358(0x1d2))[_0x1d7358(0x1f8)](_0x58aac0)[_0x1d7358(0x103)](),process[_0x1d7358(0x192)]({'status':'enabled','live':'running'},_0x2166bd=>{});config={..._0x58aac0},setStartDatePerformance(),process[_0x1d7358(0x192)]({'botname':_0x58aac0['botname']},_0x2851cc=>{}),updateBotManager();const _0x3f862d=getNormalizedPerformance();getStartingBalances(_0x3f862d),emitPerformance(_0x3f862d),proxyEmit('configuration-stored'),await initCoinResults(),reset();}async function storeHeadless(_0x4e7741){const _0x51c445=_0x5c43db,_0x4fc83f={...config,'headless':_0x4e7741[_0x51c445(0x141)]};let _0x285466=dbConfig[_0x51c445(0x1e5)](_0x51c445(0x1d2))[_0x51c445(0x15b)]({'botID':botID})[_0x51c445(0x1f4)]();_0x285466&&dbConfig[_0x51c445(0x1e5)](_0x51c445(0x1d2))['find']({'botID':botID})[_0x51c445(0x142)](_0x4fc83f)[_0x51c445(0x103)](),config={..._0x4fc83f},updateBotManager(),proxyEmit(_0x51c445(0x1d9),emittedConfiguration());}function noslash(_0x545b74){const _0x5cf684=_0x5c43db;return _0x545b74[_0x5cf684(0xe8)]('/','');}async function updateNumberCoins(_0x445171){const _0x28930c=_0x5c43db;if(_0x445171[_0x28930c(0x1ad)]&&_0x445171['eventType']=='executionReport'){let _0xe3244f=_0x445171[_0x28930c(0x225)],_0x2c6da4=![];currentCoins[_0x28930c(0x183)](_0xd7040e=>{const _0x582497=_0x28930c;noslash(_0xd7040e[_0x582497(0x17a)])==_0x445171[_0x582497(0x17a)]&&(_0x2c6da4=!![]);});if(!_0x2c6da4)return;const _0x33efe7=currentCoins['find'](_0x530add=>noslash(_0x530add['symbol'])==_0x445171[_0x28930c(0x17a)]),_0x1919b7=_0x1276a3=>{const _0x25df78=_0x28930c;if(_0x33efe7)_0x33efe7[_0x25df78(0xf0)]=_0x1276a3;};if(_0xe3244f==_0x28930c(0x1b1))_0x1919b7(_0x28930c(0x1c4));else{if(_0xe3244f=='CANCELED')_0x1919b7(_0x28930c(0x226)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0xe3244f==_0x28930c(0x131)){let _0x1477a2=![];if(lastOrders)lastOrders[_0x28930c(0x183)](async _0x6d745=>{const _0x20c9b7=_0x28930c;if(_0x6d745[_0x20c9b7(0x200)]==_0x445171[_0x20c9b7(0x1fc)]){_0x1477a2=!![];if(_0x6d745[_0x20c9b7(0xfd)]==0x0){_0x6d745[_0x20c9b7(0x152)]=_0x445171['cumulativeQuoteAssetTransactedQty']/_0x445171[_0x20c9b7(0x1fa)],_0x6d745[_0x20c9b7(0xfd)]=_0x445171['accumulatedQuantity'],_0x6d745[_0x20c9b7(0x10e)]={'cost':_0x445171['commission'],'currency':_0x445171['commissionAsset']},_0x1919b7(_0x20c9b7(0xfd)),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x6d745);}}});!_0x1477a2&&(_0x1919b7('filled'),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x204786=JSON[_0x28930c(0x10b)](lastBalances['portfolio']);const _0x3943ee=_0x204786[_0x28930c(0x15b)](_0x11cf03=>noslash(_0x11cf03[_0x28930c(0x17a)])==_0x445171[_0x28930c(0x17a)]);if(_0x3943ee){if(_0xe3244f=='NEW')_0x3943ee[_0x28930c(0xf0)]=_0x3943ee[_0x28930c(0xf0)]==_0x28930c(0xfd)?'filled':'open';else{if(_0xe3244f==_0x28930c(0x207))_0x3943ee[_0x28930c(0xf0)]=_0x3943ee['orderstatus']==_0x28930c(0xfd)?_0x28930c(0xfd):_0x28930c(0x226);else _0xe3244f==_0x28930c(0x131)&&(_0x3943ee[_0x28930c(0xf0)]=_0x28930c(0xfd));}}lastBalances={...lastBalances,'portfolio':JSON[_0x28930c(0x1b7)](_0x204786)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x103dac=![],_0x1aaf42=!![],_0x28d1d8=config[_0x5c43db(0xf8)]){const _0x4a0796=_0x5c43db;let _0x15c834,_0x4b86b8=[],_0x39a759=[],_0x249ec2=[];try{_0x15c834=await exchange[_0x4a0796(0x218)](),mybalances=_0x15c834[_0x4a0796(0x1a9)];if(!_0x1aaf42)for(const [_0x37150c,_0x357e12]of Object[_0x4a0796(0xe4)](mybalances)){_0x249ec2[_0x4a0796(0x1f8)](_0x37150c);}else config[_0x4a0796(0x13c)][_0x4a0796(0x183)](_0x58fdb8=>{const _0x32072f=_0x4a0796;if(!_0x58fdb8[_0x32072f(0x224)])_0x249ec2['push'](_0x58fdb8[_0x32072f(0x229)]);});if(_0x28d1d8=='')for(const [_0x594351,_0xf14811]of Object[_0x4a0796(0xe4)](mybalances)){_0xf14811[_0x4a0796(0xf2)]()!=0x0&&_0x39a759['push']({'coin':_0x594351});}else{if(_0x103dac)await getOpenOrders();let _0x14fa83=![];for(const [_0x14e045,_0x570b16]of Object[_0x4a0796(0xe4)](mybalances)){if(_0x249ec2['includes'](_0x14e045)){const _0x2e2b9e=config[_0x4a0796(0x13c)][_0x4a0796(0x15b)](_0x5eac1e=>_0x5eac1e['coin']==_0x14e045),_0x28a13d=_0x14e045+'/'+_0x28d1d8,_0x101ff6=_0x28d1d8+'/'+_0x14e045,_0x49c5c3=currentCoins[_0x4a0796(0x15b)](_0x53bda3=>_0x53bda3[_0x4a0796(0x229)]==_0x14e045);_0x14fa83=![];_0x103dac&&(_0x14fa83=allOpenOrders['find'](_0x128209=>_0x128209[_0x4a0796(0x17a)]==_0x2e2b9e[_0x4a0796(0x17a)]));if((_0x570b16[_0x4a0796(0xf2)]()!=0x0||_0x2e2b9e)&&(allSymbols['includes'](_0x28a13d)||_0x14e045==_0x28d1d8))_0x14e045!=_0x28d1d8&&_0x4b86b8[_0x4a0796(0x1f8)](_0x28a13d),_0x39a759[_0x4a0796(0x1f8)]({'coin':_0x14e045,'symbol':_0x28a13d,'reverse':![],'number':Math[_0x4a0796(0x157)](_0x570b16+(_0x2e2b9e&&_0x2e2b9e['offset']||0x0),0x0),'orderstatus':_0x103dac?_0x14fa83?_0x4a0796(0x1c4):_0x4a0796(0x19a):_0x49c5c3?_0x49c5c3[_0x4a0796(0xf0)]:_0x4a0796(0x19a)});else(_0x570b16[_0x4a0796(0xf2)]()!=0x0||_0x2e2b9e)&&allSymbols['includes'](_0x101ff6)&&(_0x14e045!=_0x28d1d8&&_0x4b86b8['push'](_0x101ff6),_0x39a759[_0x4a0796(0x1f8)]({'coin':_0x14e045,'symbol':_0x101ff6,'reverse':!![],'number':Math[_0x4a0796(0x157)](_0x570b16+(_0x2e2b9e&&_0x2e2b9e[_0x4a0796(0x1aa)]||0x0),0x0),'orderstatus':_0x103dac?_0x14fa83?'open':_0x4a0796(0x19a):_0x49c5c3?_0x49c5c3['orderstatus']:_0x4a0796(0x19a)}));}}}}catch(_0x41d11b){if(!_0x1aaf42)handleErrorNoStop(_0x41d11b,'getCoins()');else await handleError(_0x41d11b,_0x4a0796(0xe1));}return _0x39a759;}async function getCoinNumber(_0x4e8feb){const _0xad48d8=_0x5c43db;let _0x1c36e1;try{const _0x59a5aa=await exchange[_0xad48d8(0x218)]();_0x1c36e1=_0x59a5aa[_0xad48d8(0x1a9)][_0x4e8feb];}catch(_0x27db2c){await handleError(_0x27db2c,_0xad48d8(0x1eb));}return _0x1c36e1;}async function getOpenOrders(){const _0x1c1293=_0x5c43db;let _0x37f9bb;allOpenOrders=[];try{for(const _0x41d3f9 of config[_0x1c1293(0x13c)]){!_0x41d3f9[_0x1c1293(0x224)]&&_0x41d3f9[_0x1c1293(0x229)]!=config[_0x1c1293(0xf8)]&&(_0x37f9bb=await exchange[_0x1c1293(0x129)](_0x41d3f9[_0x1c1293(0x17a)]),_0x37f9bb[_0x1c1293(0x12d)]>0x0&&allOpenOrders[_0x1c1293(0x1f8)](_0x37f9bb[0x0]));}}catch(_0x5e3b0d){await handleError(_0x5e3b0d,'getOpenOrders()');}}async function handleOpenOrders(_0x4ec802=0x0){const _0x14d2b5=_0x5c43db;allOpenOrders[_0x14d2b5(0x12d)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x4ec802==0x0?(_0x4ec802++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x14d2b5(0xf1)));}async function getPortfolio(_0x76067d){const _0x330b99=_0x5c43db;let _0x9a8a35=[],_0x9b86ea=[],_0x5ed186,_0x161c0d=[],_0x4b4111,_0x37a4d2;_0x76067d[_0x330b99(0x170)]===_0x330b99(0x16a)||_0x76067d[_0x330b99(0x1f5)]===_0x330b99(0x16a)?(_0x4b4111=config[_0x330b99(0x170)],_0x37a4d2=config['apiSecret']):(_0x4b4111=_0x76067d[_0x330b99(0x170)],_0x37a4d2=_0x76067d[_0x330b99(0x1f5)]);await initExchange(_0x4b4111,_0x37a4d2);let _0x39ae62=![];try{_0x39ae62=await loadSymbols();}catch(_0x5560be){_0x39ae62=![],handleErrorNoStop(_0x5560be,'loadSymbols()');}if(_0x39ae62){_0x161c0d=await getCoins(![],![],_0x76067d[_0x330b99(0xf8)]);if(_0x161c0d===![])proxyEmit(_0x330b99(0x13c),![]);else{if(_0x76067d['basecoin']=='')proxyEmit(_0x330b99(0x13c),_0x161c0d);else{_0x161c0d['forEach'](_0x36ad58=>{const _0x4664df=_0x330b99;if(_0x36ad58['coin']!=_0x76067d[_0x4664df(0xf8)])_0x9a8a35[_0x4664df(0x1f8)](_0x36ad58[_0x4664df(0x17a)]);});try{_0x9b86ea=await exchange['fetchTickers'](_0x9a8a35);}catch(_0x3fdfd9){await handleError(_0x3fdfd9,_0x330b99(0x19b));}_0x161c0d[_0x330b99(0x183)](_0x20ea8=>{const _0x29ce04=_0x330b99;_0x20ea8[_0x29ce04(0x229)]!=_0x76067d[_0x29ce04(0xf8)]?_0x5ed186=_0x20ea8[_0x29ce04(0x1a7)]?0x1/_0x9b86ea[_0x20ea8[_0x29ce04(0x17a)]][_0x29ce04(0x177)]:_0x9b86ea[_0x20ea8[_0x29ce04(0x17a)]]['last']:_0x5ed186=0x1,_0x20ea8[_0x29ce04(0x152)]=formatResult(_0x5ed186,0x8);}),proxyEmit(_0x330b99(0x13c),_0x161c0d);}}}else proxyEmit(_0x330b99(0x13c),![]);}function checkMinimums(_0xd3361b){const _0x5744f6=_0x5c43db;let _0x13acbb=!![];const _0xc25b1e=!_0xd3361b[_0x5744f6(0x1a7)]?markets[_0xd3361b[_0x5744f6(0x17a)]][_0x5744f6(0x17e)][_0x5744f6(0x187)][_0x5744f6(0x1d6)]:markets[_0xd3361b['symbol']][_0x5744f6(0x17e)][_0x5744f6(0x112)][_0x5744f6(0x1d6)],_0x10885a=!_0xd3361b['reverse']?markets[_0xd3361b[_0x5744f6(0x17a)]][_0x5744f6(0x17e)][_0x5744f6(0x112)][_0x5744f6(0x1d6)]:markets[_0xd3361b[_0x5744f6(0x17a)]][_0x5744f6(0x17e)][_0x5744f6(0x187)][_0x5744f6(0x1d6)],_0x57987c=markets[_0xd3361b[_0x5744f6(0x17a)]][_0x5744f6(0x232)][_0x5744f6(0x187)];_0xd3361b[_0x5744f6(0xfb)]=formatResultTruncate(_0xd3361b[_0x5744f6(0xfb)],_0x57987c);if(Math[_0x5744f6(0x118)](_0xd3361b[_0x5744f6(0xfb)])<_0xc25b1e)_0x13acbb=![];if(Math[_0x5744f6(0x118)](_0xd3361b[_0x5744f6(0xfb)])*_0xd3361b['last']<_0x10885a)_0x13acbb=![];if(_0xd3361b[_0x5744f6(0x1b9)]==_0x5744f6(0x125)){let _0x101673=config[_0x5744f6(0x13c)][_0x5744f6(0x15b)](_0x16138b=>_0x16138b[_0x5744f6(0x229)]==_0xd3361b[_0x5744f6(0x229)]);if(_0x101673[_0x5744f6(0x1aa)]>0x0){if(Math[_0x5744f6(0x118)](_0xd3361b[_0x5744f6(0xfb)])>_0xd3361b[_0x5744f6(0x130)]-_0x101673['offset'])_0x13acbb=![];}else{if(Math['abs'](_0xd3361b[_0x5744f6(0xfb)])>_0xd3361b[_0x5744f6(0x130)])_0x13acbb=![];}}if(_0xd3361b['side']==_0x5744f6(0x104)){let _0x15d245=config['portfolio'][_0x5744f6(0x15b)](_0xdf543d=>_0xdf543d['coin']==config[_0x5744f6(0xf8)]),_0x3fb812=currentCoins[_0x5744f6(0x15b)](_0x12c3fd=>_0x12c3fd[_0x5744f6(0x229)]==config[_0x5744f6(0xf8)]);if(_0x15d245['offset']>0x0){if(Math[_0x5744f6(0x118)](_0xd3361b[_0x5744f6(0xfb)])*_0xd3361b[_0x5744f6(0x177)]>_0x3fb812[_0x5744f6(0x130)]-_0x15d245['offset'])_0x13acbb=![];}else{if(Math[_0x5744f6(0x118)](_0xd3361b[_0x5744f6(0xfb)])*_0xd3361b['last']>_0x3fb812[_0x5744f6(0x130)])_0x13acbb=![];}}return _0x13acbb;}async function getBalances(){const _0x4597b1=_0x5c43db;let _0x19d59b=0x0,_0x57aa57;const _0x56b4e2=config[_0x4597b1(0x108)];if(config[_0x4597b1(0x141)]&&config[_0x4597b1(0x1a1)]<0x0)await validate24hChanges();currentCoins[_0x4597b1(0x183)](_0x3d5077=>{const _0x263ebf=_0x4597b1;if(_0x3d5077['coin']!=config[_0x263ebf(0xf8)]){let _0x46ff68=global[_0x263ebf(0xf6)][noslash(_0x3d5077[_0x263ebf(0x17a)])];_0x57aa57=_0x3d5077[_0x263ebf(0x1a7)]?0x1/_0x46ff68:_0x46ff68;}else _0x57aa57=0x1;let _0x48c5f2=_0x3d5077[_0x263ebf(0x130)]*_0x57aa57;_0x19d59b+=_0x48c5f2,_0x3d5077[_0x263ebf(0x177)]=formatResult(Number(_0x57aa57),0x8),_0x3d5077[_0x263ebf(0x1f4)]=_0x48c5f2;}),currentCoins[_0x4597b1(0x183)](_0x251414=>{const _0xcef13c=_0x4597b1;let _0xa2605c=config[_0xcef13c(0x13c)][_0xcef13c(0x15b)](_0x44a72f=>_0x44a72f['coin']==_0x251414[_0xcef13c(0x229)]),_0x5526bb=Number(_0xa2605c[_0xcef13c(0xe0)]),_0x176074=_0x251414[_0xcef13c(0x1f4)]/_0x19d59b*0x64,_0x51c75c=_0x5526bb*_0x19d59b/0x64/_0x251414['last']-_0x251414[_0xcef13c(0x130)];_0x251414[_0xcef13c(0xe0)]=formatResult(_0x176074,0x3),_0x251414['target']=formatResult(_0x5526bb,0x3),_0x251414[_0xcef13c(0xfb)]=formatResult(_0x51c75c,0x8),_0x251414[_0xcef13c(0x1b9)]='',_0x251414[_0xcef13c(0x193)]=![];if(_0x251414[_0xcef13c(0x229)]!=config['basecoin']){if(_0x251414[_0xcef13c(0xe0)]>_0x5526bb)_0x251414[_0xcef13c(0x1b9)]=_0xcef13c(0x125),_0x251414[_0xcef13c(0x193)]=checkMinimums(_0x251414);else _0x251414['distribution']<_0x5526bb&&(_0x251414[_0xcef13c(0x1b9)]=_0xcef13c(0x104),_0x251414[_0xcef13c(0x193)]=checkMinimums(_0x251414));}_0x251414[_0xcef13c(0x10f)]=_0x251414['distribution']/_0x251414[_0xcef13c(0xec)]-0x1;if(_0x251414['orderstatus']==_0xcef13c(0xfd)||_0x251414[_0xcef13c(0xf0)]==_0xcef13c(0x226))_0x251414[_0xcef13c(0xf0)]=_0xcef13c(0x19a);}),currentCoins[_0x4597b1(0x195)]((_0x58b781,_0xf73c73)=>_0x58b781[_0x4597b1(0x10f)]<_0xf73c73[_0x4597b1(0x10f)]?0x1:_0xf73c73['delta']<_0x58b781[_0x4597b1(0x10f)]?-0x1:0x0);const _0x40b46a=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x40b46a['eur'],'usd':_0x40b46a['usd'],'portfolio':JSON[_0x4597b1(0x1b7)](currentCoins),'threshold':_0x56b4e2},proxyEmit(_0x4597b1(0x1b0),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x4597b1(0x141)])headlessMode({'portfolio':currentCoins,'threshold':_0x56b4e2});else{if(lockOrders==ORDERS[_0x4597b1(0x18b)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x56b4e2});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x29c37a=_0x5c43db;if(!lastBalances)return;let _0x16738d=[],_0x2c90b3,_0x1a980c=JSON[_0x29c37a(0x10b)](lastBalances[_0x29c37a(0x13c)]);_0x1a980c[_0x29c37a(0x195)]((_0x30ec2f,_0x5720ea)=>_0x30ec2f[_0x29c37a(0x229)]>_0x5720ea['coin']?0x1:_0x5720ea[_0x29c37a(0x229)]>_0x30ec2f[_0x29c37a(0x229)]?-0x1:0x0),_0x1a980c[_0x29c37a(0x183)](_0x5e9368=>{const _0x3a882d=_0x29c37a;let _0x41a572={'coin':_0x5e9368['coin'],'number':_0x5e9368[_0x3a882d(0x130)],'price':_0x5e9368[_0x3a882d(0x177)]};_0x16738d[_0x3a882d(0x1f8)](_0x41a572);});const _0x503f20=await getFiat();_0x2c90b3={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x503f20['eur'],'usd':_0x503f20[_0x29c37a(0x143)],'coins':_0x16738d};let _0x55d0e3=dbPerformance['get']('data')['find']({'date':_0x2c90b3[_0x29c37a(0x1a0)]})[_0x29c37a(0x1f4)]();_0x55d0e3?_0x2c90b3[_0x29c37a(0x1a0)]!=config['startdate']&&dbPerformance[_0x29c37a(0x1e5)](_0x29c37a(0x137))[_0x29c37a(0x15b)]({'date':_0x2c90b3[_0x29c37a(0x1a0)]})[_0x29c37a(0x142)](_0x2c90b3)['write']():dbPerformance[_0x29c37a(0x1e5)](_0x29c37a(0x137))[_0x29c37a(0x1f8)](_0x2c90b3)[_0x29c37a(0x103)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x433b54=_0x5c43db;let _0x530775=[];if(dbPerformance['has']('data')[_0x433b54(0x1f4)]()){let _0x1c544f=dbPerformance[_0x433b54(0x1e5)](_0x433b54(0x137))['cloneDeep']()[_0x433b54(0x186)]('date')[_0x433b54(0x1f4)](),_0x1cd2ac=[...config['liquidity']];_0x1cd2ac['sort']((_0x5ccd1a,_0x5e49b0)=>_0x5ccd1a[_0x433b54(0x1a0)]>_0x5e49b0['date']?-0x1:_0x5e49b0[_0x433b54(0x1a0)]>_0x5ccd1a[_0x433b54(0x1a0)]?0x1:0x0);let _0x1a4aaf=0x1,_0x5961a9=[],_0x188d41=0x0;_0x1c544f[_0x433b54(0x1e8)]()[_0x433b54(0x1a7)]()[_0x433b54(0x183)]((_0x2afa24,_0x4532a8)=>{const _0x3bfd12=_0x433b54;if(_0x1cd2ac[_0x188d41]){if(_0x1c544f[_0x1c544f['length']-_0x4532a8]&&_0x1cd2ac[_0x188d41][_0x3bfd12(0x1a0)]==_0x1c544f[_0x1c544f[_0x3bfd12(0x12d)]-_0x4532a8][_0x3bfd12(0x1a0)]){if(_0x4532a8<_0x1c544f['length']){let _0x5898e0=0x0,_0x155050=0x0;_0x1c544f[_0x1c544f[_0x3bfd12(0x12d)]-_0x4532a8][_0x3bfd12(0xea)][_0x3bfd12(0x183)](_0x366ad8=>{const _0x17d65a=_0x3bfd12;_0x155050+=_0x366ad8[_0x17d65a(0x130)]*_0x366ad8['price'];}),_0x1cd2ac[_0x188d41][_0x3bfd12(0x134)][_0x3bfd12(0x183)](_0x2e50b2=>{const _0x12155a=_0x3bfd12;_0x5898e0+=_0x2e50b2[_0x12155a(0x130)]*_0x2e50b2[_0x12155a(0x152)];}),_0x1a4aaf*=_0x5898e0/(_0x155050-_0x5898e0)+0x1;}_0x188d41++;}}let _0x125678=0x0;_0x2afa24[_0x3bfd12(0xea)][_0x3bfd12(0x183)](_0x4d04ed=>{const _0x51c31d=_0x3bfd12;_0x125678+=_0x4d04ed[_0x51c31d(0x130)]*_0x4d04ed[_0x51c31d(0x152)];}),_0x5961a9[_0x1c544f['length']-_0x4532a8-0x1]=_0x125678*(_0x1a4aaf-0x1);});let _0x3235d8=[];_0x1cd2ac=[...config['liquidity']]||[];let _0x341369=0x0;_0x188d41=0x0,_0x1c544f[_0x433b54(0x183)]((_0x3aa8a3,_0x3e2c31)=>{const _0x167774=_0x433b54;if(_0x1cd2ac[_0x188d41]){const _0x2c2908=fns[_0x167774(0x10b)](_0x1cd2ac[_0x188d41][_0x167774(0x1a0)],_0x167774(0x220),new Date()),_0x21128f=fns[_0x167774(0x10b)](_0x3aa8a3[_0x167774(0x1a0)],_0x167774(0x220),new Date());if(fns['isEqual'](_0x2c2908,_0x21128f)){let _0x44d12d=0x0;_0x1cd2ac[_0x188d41]['changes'][_0x167774(0x183)](_0x1839e3=>{const _0x23cac5=_0x167774;!_0x3235d8[_0x1839e3[_0x23cac5(0x229)]]?_0x3235d8[_0x1839e3[_0x23cac5(0x229)]]=_0x1839e3[_0x23cac5(0x130)]:(_0x44d12d=_0x3235d8[_0x1839e3['coin']],_0x3235d8[_0x1839e3['coin']]+=_0x1839e3[_0x23cac5(0x130)]);const _0x4c866e=_0x3aa8a3[_0x23cac5(0xea)][_0x23cac5(0x15b)](_0x4e4f28=>_0x4e4f28[_0x23cac5(0x229)]==_0x1839e3[_0x23cac5(0x229)]);(!_0x4c866e||_0x4c866e['number']==0x0)&&(_0x341369+=(-_0x1839e3[_0x23cac5(0x130)]-_0x44d12d)*_0x1839e3[_0x23cac5(0x152)]);}),_0x188d41++;}}_0x3aa8a3[_0x167774(0xea)][_0x167774(0x183)]((_0x2a95af,_0x4dbf62)=>{const _0x4250bb=_0x167774;_0x3235d8[_0x2a95af[_0x4250bb(0x229)]]&&(_0x2a95af={..._0x2a95af,'initial':_0x3235d8[_0x2a95af['coin']]}),_0x3aa8a3[_0x4250bb(0xea)][_0x4dbf62]=_0x2a95af;}),_0x530775['push']({'date':_0x3aa8a3[_0x167774(0x1a0)],'eur':_0x3aa8a3[_0x167774(0x17c)],'usd':_0x3aa8a3[_0x167774(0x143)],'offset':_0x5961a9[_0x3e2c31],'netoffset':_0x341369,'coins':_0x3aa8a3[_0x167774(0xea)]});});}return _0x530775;}function emitPerformance(_0x2239de){const _0x47fd11=_0x5c43db;_0x2239de[_0x47fd11(0x12d)]!==0x0?(proxyEmit(_0x47fd11(0x1f0),_0x2239de),lastPerformanceEmitted=getDate()):proxyEmit(_0x47fd11(0x1f0),[]);}function getPerf(_0x3a3acf,_0x3dfa92){const _0x1d0be6=_0x5c43db;let _0x3a9393=0x0,_0x11ee61=0x0,_0x5b6694=0x0;_0x3a3acf[_0x1d0be6(0xea)][_0x1d0be6(0x183)](_0x25b306=>{const _0x3696f8=_0x1d0be6;_0x3a9393+=_0x25b306[_0x3696f8(0x130)]*_0x25b306[_0x3696f8(0x152)];});_0x3dfa92&&(_0x3a9393+=_0x3a3acf[_0x1d0be6(0x1aa)]);if(config[_0x1d0be6(0xf8)]===_0x1d0be6(0x164)||config[_0x1d0be6(0xf8)]===_0x1d0be6(0x11e))_0x11ee61=_0x3a9393*_0x3a3acf[_0x1d0be6(0x17c)],_0x5b6694=_0x3a9393*_0x3a3acf[_0x1d0be6(0x143)];else{if(config[_0x1d0be6(0xf8)]===_0x1d0be6(0x15f)||config['basecoin']===_0x1d0be6(0x1d7))_0x11ee61=_0x3a9393*_0x3a3acf[_0x1d0be6(0x17c)]/_0x3a3acf[_0x1d0be6(0x143)],_0x5b6694=_0x3a9393;else config['basecoin']===_0x1d0be6(0x1f3)&&(_0x11ee61=_0x3a9393,_0x5b6694=_0x3a9393*_0x3a3acf[_0x1d0be6(0x143)]/_0x3a3acf['eur']);}return[_0x3a9393,_0x11ee61,_0x5b6694];}function getKPIs(_0x399302,_0x1a1d90=_0x5c43db(0x1f3)){const _0x527ec6=_0x5c43db,_0xaef0d4=config[_0x527ec6(0xf8)],_0x1b93a6=config[_0x527ec6(0x1b0)],_0x2b263a=currentCoins,_0x492575=getNormalizedPerformance(),_0x51e39b=_0x399302==='basecoin'?_0xaef0d4:_0x399302===_0x527ec6(0x202)||_0x399302===_0x527ec6(0x171)?_0x1a1d90:'Net\x20'+_0xaef0d4,_0x19d4be=_0x399302===_0x527ec6(0x12c)?_0x527ec6(0x14e):_0x399302==='net-fiat'?_0x527ec6(0x18f)+_0x51e39b+')':_0x51e39b+_0x527ec6(0x1de),_0x3b6662=_0x399302==='net-basecoin'||_0x399302===_0x527ec6(0x171)?_0x527ec6(0x14e):_0x51e39b+_0x527ec6(0x11c);let _0x17da0=0x0;_0x2b263a['forEach'](_0x60af32=>{const _0x110ca3=_0x527ec6;_0x17da0+=_0x60af32[_0x110ca3(0x130)]*_0x60af32['last'];});if(_0x399302===_0x527ec6(0x202)||_0x399302==='net-fiat'){if(_0xaef0d4===_0x527ec6(0x164)||_0xaef0d4==='ETH')_0x17da0=_0x17da0*(_0x1a1d90===_0x527ec6(0x1f3)?_0x1b93a6['eur']:_0x1b93a6[_0x527ec6(0x143)]);else{if(_0xaef0d4==='BUSD'||_0xaef0d4==='USDT')_0x17da0=_0x17da0*(_0x1a1d90===_0x527ec6(0x1f3)?_0x1b93a6[_0x527ec6(0x17c)]/_0x1b93a6[_0x527ec6(0x143)]:0x1);else _0xaef0d4==='EUR'&&(_0x17da0=_0x17da0*(_0x1a1d90===_0x527ec6(0x1f3)?0x1:_0x1b93a6[_0x527ec6(0x143)]/_0x1b93a6['eur']));}}let _0x2de626;if(_0x17da0!==0x0){if(_0x399302===_0x527ec6(0xf8))_0x2de626=(_0x17da0/startingBalances[_0x527ec6(0xf8)]-0x1)*0x64;else{if(_0x1a1d90===_0x527ec6(0x1f3))_0x2de626=(_0x17da0/startingBalances['eur']-0x1)*0x64;else _0x2de626=(_0x17da0/startingBalances[_0x527ec6(0x143)]-0x1)*0x64;}let _0x1150f3=0x0;if(startingBalances['coins'])_0x2b263a[_0x527ec6(0x183)](_0x5791a2=>{const _0x1d9c4e=_0x527ec6;let _0x5e612c=startingBalances[_0x1d9c4e(0xea)][_0x1d9c4e(0x15b)](_0x3180c1=>_0x3180c1[_0x1d9c4e(0x229)]===_0x5791a2[_0x1d9c4e(0x229)]);if(_0x5e612c&&_0x5e612c[_0x1d9c4e(0x229)]&&_0x5791a2[_0x1d9c4e(0x130)]!==0x0)_0x1150f3+=_0x5e612c['number']*_0x5791a2[_0x1d9c4e(0x177)];});let _0xefceaa=0x0;if(_0x492575[_0x527ec6(0x12d)]!==0x0){let _0x1cb65c=_0x492575[_0x492575['length']-0x1];_0xefceaa=_0x1cb65c[_0x527ec6(0x222)];}_0x1150f3-=_0xefceaa;_0x399302===_0x527ec6(0x12c)&&(_0x2de626=(_0x17da0-_0x1150f3)/startingBalances[_0x527ec6(0xf8)]*0x64,_0x17da0=_0x17da0-_0x1150f3);if(_0x399302===_0x527ec6(0x171)){let _0x1c27fc=_0x1a1d90===_0x527ec6(0x1f3)?startingBalances[_0x527ec6(0x17c)]:startingBalances[_0x527ec6(0x143)];if(_0xaef0d4===_0x527ec6(0x164)||_0xaef0d4==='ETH')_0x1150f3=_0x1a1d90===_0x527ec6(0x1f3)?_0x1150f3*_0x1b93a6[_0x527ec6(0x17c)]:_0x1150f3*_0x1b93a6[_0x527ec6(0x143)];else{if(_0xaef0d4===_0x527ec6(0x15f)||_0xaef0d4===_0x527ec6(0x1d7))_0x1150f3=_0x1a1d90===_0x527ec6(0x1f3)?_0x1150f3*_0x1b93a6['eur']/_0x1b93a6['usd']:_0x1150f3;else _0xaef0d4===_0x527ec6(0x1f3)&&(_0x1150f3=_0x1a1d90===_0x527ec6(0x1f3)?_0x1150f3:_0x1150f3*_0x1b93a6[_0x527ec6(0x143)]/_0x1b93a6['eur']);}_0x2de626=(_0x17da0-_0x1150f3)/_0x1c27fc*0x64,_0x17da0=_0x17da0-_0x1150f3;}if(_0x2de626){if(_0x2de626<0x64)_0x2de626=_0x2de626[_0x527ec6(0xfa)](0x2);else{if(_0x2de626<0x3e8)_0x2de626=_0x2de626[_0x527ec6(0xfa)](0x1);else _0x2de626=_0x2de626[_0x527ec6(0xfa)](0x0);}}else _0x2de626=Number('0')['toFixed'](0x2);if(_0x17da0){if(Math[_0x527ec6(0x118)](_0x17da0)<0.000001)_0x17da0=_0x17da0['toFixed'](0x2);else{if(Math[_0x527ec6(0x118)](_0x17da0)<0.1)_0x17da0=_0x17da0[_0x527ec6(0xfa)](0x6);else{if(Math[_0x527ec6(0x118)](_0x17da0)<0x1)_0x17da0=_0x17da0['toFixed'](0x5);else{if(Math[_0x527ec6(0x118)](_0x17da0)<0xa)_0x17da0=_0x17da0[_0x527ec6(0xfa)](0x4);else{if(Math[_0x527ec6(0x118)](_0x17da0)<0x64)_0x17da0=_0x17da0[_0x527ec6(0xfa)](0x3);else{if(Math[_0x527ec6(0x118)](_0x17da0)<0x3e8)_0x17da0=_0x17da0['toFixed'](0x2);else _0x17da0=_0x17da0[_0x527ec6(0xfa)](0x2);}}}}}}else _0x17da0=Number('0')[_0x527ec6(0xfa)](0x2);}else _0x2de626=Number('0')[_0x527ec6(0xfa)](0x2);return{'value':_0x17da0,'change':_0x2de626,'leftTxt':_0x19d4be,'rightTxt':_0x3b6662};}async function getStartingBalances(_0x54d7a1,_0x4602c1=!![]){const _0x493133=_0x5c43db;if(_0x54d7a1[_0x493133(0x12d)]!==0x0){const [_0x542feb,_0x2eaa3d,_0x5f0ceb]=getPerf(_0x54d7a1[0x0],!![]);let _0x503275=[];config['portfolio'][_0x493133(0x183)](_0x2335a5=>{const _0x47622d=_0x493133;let _0x1b4938=0x0,_0x571744;config[_0x47622d(0x1c9)][_0x47622d(0x183)](_0x5e6315=>{const _0x591cde=_0x47622d;let _0x5e56cd=_0x5e6315[_0x591cde(0x134)]['find'](_0x17e795=>_0x17e795[_0x591cde(0x229)]==_0x2335a5[_0x591cde(0x229)]);if(_0x5e56cd){_0x1b4938+=_0x5e56cd['number'];if(!_0x571744)_0x571744=_0x5e56cd[_0x591cde(0x152)];}}),_0x503275[_0x47622d(0x1f8)]({'coin':_0x2335a5[_0x47622d(0x229)],'number':_0x1b4938,'initialprice':_0x571744});});const _0x28d07f={'basecoin':_0x542feb,'eur':_0x2eaa3d,'usd':_0x5f0ceb,'coins':_0x503275};if(_0x4602c1)proxyEmit(_0x493133(0x21e),_0x28d07f);startingBalances=_0x28d07f;}}function headlessMode(_0x52488d){const _0x3f98a4=_0x5c43db;let _0x5a2c55=_0x52488d[_0x3f98a4(0x13c)],_0x5e3f97=_0x52488d['threshold'],_0x552cb4=[];for(let _0x452a26 of _0x5a2c55){if(_0x452a26['coin']!=config['basecoin']){if(_0x452a26[_0x3f98a4(0x10f)]>=_0x5e3f97/0x64){if(_0x452a26[_0x3f98a4(0x193)])_0x552cb4['push'](_0x452a26);}else{if(_0x452a26['delta']<=-_0x5e3f97/0x64){if(_0x452a26[_0x3f98a4(0x193)])_0x552cb4[_0x3f98a4(0x1f8)](_0x452a26);}}}}_0x552cb4['length']>0x0&&placeOrder(_0x552cb4);}function notifyBalance(_0x219d1f){const _0x4e0eb9=_0x5c43db;let _0x447c15=_0x219d1f[_0x4e0eb9(0x13c)],_0x2664e4=_0x219d1f[_0x4e0eb9(0x108)],_0xd84dbf=[];for(let _0x5795bc of _0x447c15){if(_0x5795bc['coin']!=config['basecoin']){if(_0x5795bc[_0x4e0eb9(0x10f)]>=_0x2664e4/0x64){if(_0x5795bc[_0x4e0eb9(0x193)])_0xd84dbf[_0x4e0eb9(0x1f8)](_0x5795bc);}else{if(_0x5795bc[_0x4e0eb9(0x10f)]<=-_0x2664e4/0x64){if(_0x5795bc[_0x4e0eb9(0x193)])_0xd84dbf['push'](_0x5795bc);}}}}if(_0xd84dbf[_0x4e0eb9(0x12d)]>0x0){let _0x19be43=_0xd84dbf['map'](_0x4c1ba1=>_0x4c1ba1[_0x4e0eb9(0x229)]);_0x19be43[_0x4e0eb9(0x195)]();let _0x5299a1=_0x19be43['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x4e0eb9(0x190));lastCoinsToBalance=_0x5299a1;}}function symbolToCoin(_0x25b743){const _0x142b2c=_0x5c43db;let _0x18bf60;if(_0x25b743[_0x142b2c(0x153)]('/'+config[_0x142b2c(0xf8)]))_0x18bf60=_0x25b743[_0x142b2c(0xe8)]('/'+config[_0x142b2c(0xf8)],'');if(_0x25b743[_0x142b2c(0x153)](config[_0x142b2c(0xf8)]+'/'))_0x18bf60=_0x25b743[_0x142b2c(0xe8)](config['basecoin']+'/','');return _0x18bf60;}async function unlockOrders(){const _0xf07ca7=_0x5c43db;if(allOrdersPlaced&&lockOrders==ORDERS[_0xf07ca7(0x116)]){lockOrders=ORDERS[_0xf07ca7(0x147)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'];}}async function validateOrders(_0x190a4b){const _0x565fb1=_0x5c43db;if(_0x190a4b)validateOrdersState=_0x190a4b;let _0x1316aa=[],_0x3e7a87=config[_0x565fb1(0x106)]==_0x565fb1(0xed)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x565fb1(0x117)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x565fb1(0x116)])return;lastOrders[_0x565fb1(0x183)](_0x4ef8d0=>{const _0xcda414=_0x565fb1;let _0x50bd90=![];_0x4ef8d0[_0xcda414(0xfd)]>0x0&&(_0x50bd90=!![]),_0x1316aa['push'](_0x50bd90),_0x50bd90&&config['ordertype']!=_0xcda414(0xed)&&logHistory(_0xcda414(0x10a),_0xcda414(0x1b4)+_0x4ef8d0[_0xcda414(0x17a)]+'\x20'+_0x4ef8d0['side']+'\x20#'+formatResult(_0x4ef8d0['filled'],0x8)+'\x20@'+formatResult(_0x4ef8d0[_0xcda414(0x152)],0x8));}),_0x1316aa[_0x565fb1(0x183)]((_0x22f936,_0x8688bf)=>{const _0x351474=_0x565fb1;if(_0x22f936)lastOrders[_0x351474(0x1ab)](_0x8688bf,0x1);}),persistOpenOrders(lastOrders);const _0x12c85a=coolingDown?_0x565fb1(0x122):_0x565fb1(0x20b);if(validateOrdersState==_0x565fb1(0x20e))validateOrdersState=_0x565fb1(0x1c5),_0x1316aa[_0x565fb1(0x153)](![])?config[_0x565fb1(0x106)]==_0x565fb1(0xed)?logHistory(_0x565fb1(0x13a),_0x565fb1(0x1dc)):logHistory(_0x565fb1(0x13a),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState==_0x565fb1(0x1c5)){if(_0x1316aa[_0x565fb1(0x153)](![])){}else allOrdersPlaced&&(config[_0x565fb1(0x106)]==_0x565fb1(0xed)?logHistory(_0x565fb1(0x13f),_0x565fb1(0x11a)+_0x12c85a):logHistory('success',_0x565fb1(0x212)+_0x12c85a),await unlockOrders());}else{if(validateOrdersState==_0x565fb1(0x185))_0x1316aa[_0x565fb1(0x153)](![])&&(config[_0x565fb1(0x106)]==_0x565fb1(0xed)?logHistory(_0x565fb1(0x13f),_0x565fb1(0x19c)+Math['round'](_0x3e7a87*validateOrderInterval/0xea60)+_0x565fb1(0x127)+_0x12c85a):(await cancelOrders(),logHistory(_0x565fb1(0x13f),_0x565fb1(0x105)+Math[_0x565fb1(0x22c)](_0x3e7a87*validateOrderInterval/0xea60)+_0x565fb1(0x127)+_0x12c85a))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!=_0x565fb1(0xed))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x12c85a);await unlockOrders();}}}}}async function cancelOrders(){const _0xf12435=_0x5c43db;lastOrders[_0xf12435(0x183)](async _0x4adf36=>{const _0x579287=_0xf12435;try{const _0x97e8cb=await exchange[_0x579287(0x181)](_0x4adf36[_0x579287(0x119)],_0x4adf36[_0x579287(0x17a)]);}catch(_0x40a287){if(_0x40a287[_0x579287(0xf2)]()[_0x579287(0x153)](_0x579287(0x189))){}else await handleError(_0x40a287,_0x579287(0x14c));}});}async function initCoinResults(){const _0x2449cd=_0x5c43db;let _0x479894=[];config[_0x2449cd(0x13c)][_0x2449cd(0x183)](_0x3ec4e6=>{const _0x332ed9=_0x2449cd;if(!_0x3ec4e6['excluded']&&_0x3ec4e6[_0x332ed9(0x229)]!=config['basecoin']){let _0x568e86=dbCoinResults[_0x332ed9(0x1e5)](_0x332ed9(0xea))[_0x332ed9(0x15b)]({'coin':_0x3ec4e6['coin']})['value']();if(!_0x568e86){const _0x3e6086=currentCoins[_0x332ed9(0x15b)](_0x5c8561=>_0x5c8561[_0x332ed9(0x229)]==_0x3ec4e6['coin']),_0x8f71c1=global['ticker'][noslash(_0x3ec4e6['symbol'])];let _0x2c1497=_0x3e6086?_0x3e6086[_0x332ed9(0x130)]:null,_0x3e2e47=_0x3ec4e6[_0x332ed9(0x1a7)]?0x1/_0x8f71c1:_0x8f71c1,_0x247b5e;config[_0x332ed9(0x1c9)][_0x332ed9(0x183)](_0x5cf1e9=>{const _0x234d9d=_0x332ed9;!_0x247b5e&&(_0x247b5e=_0x5cf1e9[_0x234d9d(0x134)]['find'](_0x197ab6=>_0x197ab6[_0x234d9d(0x229)]==_0x3ec4e6[_0x234d9d(0x229)]),_0x247b5e&&(_0x2c1497=_0x247b5e[_0x234d9d(0x130)],_0x3e2e47=_0x247b5e['price']));}),_0x479894[_0x332ed9(0x1f8)]({'coin':_0x3ec4e6[_0x332ed9(0x229)],'number':_0x2c1497,'price':_0x3e2e47});}}}),_0x479894[_0x2449cd(0x183)](_0x8393f9=>{const _0x3d987d=_0x2449cd,_0x5c7768={'coin':_0x8393f9['coin'],'number':_0x8393f9[_0x3d987d(0x130)],'breakeven':_0x8393f9[_0x3d987d(0x152)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3d987d(0x1e5)](_0x3d987d(0xea))[_0x3d987d(0x1f8)](_0x5c7768)[_0x3d987d(0x103)]();});}async function updateCoinResults(_0x38d98f,_0x16d649=![]){const _0x5c3164=_0x5c43db;let _0x43782b,_0x39435f,_0x518d3d,_0x2c37fe,_0x13f62b,_0x380d85,_0x1d4926=dbCoinResults['get'](_0x5c3164(0xea))[_0x5c3164(0x15b)]({'coin':_0x38d98f[_0x5c3164(0x229)]})[_0x5c3164(0x1f4)]();!_0x1d4926&&await initCoinResults();_0x38d98f['reverse']&&(_0x380d85={'filled':_0x38d98f[_0x5c3164(0xfd)]*_0x38d98f[_0x5c3164(0x152)],'amount':_0x38d98f['filled']*_0x38d98f[_0x5c3164(0x152)],'side':_0x38d98f[_0x5c3164(0x1b9)]==_0x5c3164(0x125)?_0x5c3164(0x104):_0x5c3164(0x125),'price':0x1/_0x38d98f[_0x5c3164(0x152)]},_0x38d98f={..._0x38d98f,..._0x380d85});_0x16d649?_0x39435f=_0x38d98f[_0x5c3164(0x1b9)]==_0x5c3164(0x104)?_0x1d4926['number']+_0x38d98f['filled']:_0x1d4926['number']-_0x38d98f['filled']:_0x39435f=await getCoinNumber(_0x38d98f[_0x5c3164(0x229)]);if(_0x38d98f[_0x5c3164(0x10e)]&&_0x38d98f[_0x5c3164(0x10e)][_0x5c3164(0x216)]==config[_0x5c3164(0xf8)])_0x43782b=_0x38d98f['fee'][_0x5c3164(0x112)];else{if(_0x38d98f[_0x5c3164(0x10e)]&&_0x38d98f[_0x5c3164(0x10e)][_0x5c3164(0x216)]=='BNB'&&!_0x16d649)_0x43782b=_0x38d98f['fee']['cost']*global['ticker'][_0x5c3164(0x109)+config[_0x5c3164(0xf8)]];else _0x43782b=defaultFee*_0x38d98f[_0x5c3164(0xfd)]*_0x38d98f[_0x5c3164(0x152)];}_0x38d98f[_0x5c3164(0x1b9)]==_0x5c3164(0x104)?(_0x518d3d=_0x39435f!=0x0?(_0x1d4926[_0x5c3164(0x1f6)]*_0x1d4926[_0x5c3164(0x130)]+_0x38d98f[_0x5c3164(0x152)]*(_0x39435f-_0x1d4926['number'])+_0x43782b)/_0x39435f:0x0,_0x2c37fe=_0x1d4926[_0x5c3164(0x10d)]):(_0x518d3d=_0x39435f!=0x0?(_0x1d4926['breakeven']*_0x1d4926['number']-_0x38d98f['price']*(_0x1d4926[_0x5c3164(0x130)]-_0x39435f)+_0x43782b)/_0x39435f:0x0,_0x2c37fe=_0x1d4926['realized']+(_0x38d98f[_0x5c3164(0x152)]-_0x1d4926[_0x5c3164(0x1f6)])*_0x38d98f['filled']);_0x13f62b=(_0x38d98f[_0x5c3164(0x152)]-_0x518d3d-_0x43782b/_0x38d98f['filled'])*_0x39435f;let _0xcd3f07={'coin':_0x38d98f[_0x5c3164(0x229)],'number':_0x39435f,'breakeven':formatResult(_0x518d3d,0x8),'realized':formatResult(_0x2c37fe,0x8),'unrealized':formatResult(_0x13f62b,0x8),'fees':formatResult(_0x1d4926[_0x5c3164(0x201)]+_0x43782b,0x8),'sells':_0x38d98f[_0x5c3164(0x1b9)]==_0x5c3164(0x125)?_0x1d4926[_0x5c3164(0x1fb)]+0x1:_0x1d4926[_0x5c3164(0x1fb)],'buys':_0x38d98f[_0x5c3164(0x1b9)]==_0x5c3164(0x104)?_0x1d4926['buys']+0x1:_0x1d4926['buys']};dbCoinResults['get'](_0x5c3164(0xea))['find']({'coin':_0x38d98f[_0x5c3164(0x229)]})['assign'](_0xcd3f07)['write']();if(!_0x16d649){if(_0x38d98f['fee']&&_0x38d98f['fee']['currency']==_0x5c3164(0x109)){const _0x44e7db=currentCoins[_0x5c3164(0x15b)](_0x22b1bc=>_0x22b1bc[_0x5c3164(0x229)]==_0x5c3164(0x109));if(_0x44e7db){let _0x1242de=dbCoinResults[_0x5c3164(0x1e5)](_0x5c3164(0xea))[_0x5c3164(0x15b)]({'coin':_0x5c3164(0x109)})[_0x5c3164(0x1f4)]();_0xcd3f07={..._0x1242de,'number':_0x44e7db[_0x5c3164(0x130)]},dbCoinResults['get']('coins')[_0x5c3164(0x15b)]({'coin':'BNB'})[_0x5c3164(0x142)](_0xcd3f07)['write']();}}}}async function placeOrder(_0x2e9ccb){const _0x4ae4fd=_0x5c43db,_0x24e91d=config['ordertype']=='market'?_0x4ae4fd(0xed):_0x4ae4fd(0x121);if(lockOrders==ORDERS[_0x4ae4fd(0x18b)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x4ae4fd(0x116)],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x2da5a4 of _0x2e9ccb){let _0x407da8,_0x5f08c9,_0x1d5e1d,_0x26f641,_0x5cdd93,_0x552906=_0x2da5a4[_0x4ae4fd(0x17a)];try{const _0x3b8be6=await exchange[_0x4ae4fd(0x1da)]([_0x552906]),_0x188489=_0x3b8be6[_0x552906];_0x407da8=_0x2da5a4[_0x4ae4fd(0x1a7)]?0x1/_0x2da5a4[_0x4ae4fd(0x177)]:_0x2da5a4[_0x4ae4fd(0x177)],_0x5f08c9=_0x188489[_0x4ae4fd(0xe5)],_0x1d5e1d=_0x188489[_0x4ae4fd(0x210)];_0x2da5a4[_0x4ae4fd(0x1a7)]?(_0x26f641=_0x2da5a4[_0x4ae4fd(0x1b9)]==_0x4ae4fd(0x104)?'sell':'buy',_0x5cdd93=Math[_0x4ae4fd(0x118)](_0x2da5a4[_0x4ae4fd(0xfb)])/_0x407da8):(_0x26f641=_0x2da5a4[_0x4ae4fd(0x1b9)],_0x5cdd93=Math['abs'](_0x2da5a4[_0x4ae4fd(0xfb)]));_0x24e91d==_0x4ae4fd(0x121)&&(config[_0x4ae4fd(0x106)]=='limit-high'&&(_0x407da8=_0x26f641==_0x4ae4fd(0x104)?_0x5f08c9:_0x1d5e1d),config[_0x4ae4fd(0x106)]==_0x4ae4fd(0x1b5)&&(_0x407da8=_0x26f641==_0x4ae4fd(0x104)?_0x1d5e1d:_0x5f08c9));_0x5cdd93=formatResult(_0x5cdd93,0x8),_0x407da8=formatResult(_0x407da8,0x8);const _0x2bd990=_0x26f641==_0x4ae4fd(0x125)?config[_0x4ae4fd(0x227)]?String[_0x4ae4fd(0x1a8)]('0x'+config['emojisell'])+'\x20':'':config[_0x4ae4fd(0x10c)]?String['fromCodePoint']('0x'+config[_0x4ae4fd(0x10c)])+'\x20':'',_0x51f535=_0x24e91d==_0x4ae4fd(0xed)?_0x4ae4fd(0x169):config[_0x4ae4fd(0x106)]=='limit-high'?_0x4ae4fd(0xdf):_0x4ae4fd(0x1db),_0x2b635c=new Date()[_0x4ae4fd(0x16f)]()[_0x4ae4fd(0xf2)]()['slice'](-0x6)+'-'+Math[_0x4ae4fd(0x15d)]()[_0x4ae4fd(0xf2)]()[_0x4ae4fd(0x1e8)](-0x6);lastOrders[_0x4ae4fd(0x1f8)]({'customId':_0x2b635c,'symbol':_0x552906,'coin':_0x2da5a4[_0x4ae4fd(0x229)],'side':_0x26f641,'reverse':_0x2da5a4[_0x4ae4fd(0x1a7)],'filled':0x0});if(_0x24e91d==_0x4ae4fd(0xed))logHistory(_0x4ae4fd(0x10a),''+_0x2bd990+_0x51f535+_0x4ae4fd(0x182)+_0x552906+'\x20'+_0x26f641+'\x20#'+formatResult(_0x5cdd93,0x8)+'\x20@'+formatResult(_0x407da8,0x8));else logHistory(_0x4ae4fd(0x10a),''+_0x2bd990+_0x51f535+_0x4ae4fd(0x182)+_0x552906+'\x20'+_0x26f641+'\x20#'+formatResult(_0x5cdd93,0x8)+'\x20@'+formatResult(_0x407da8,0x8));const _0xc9a7ba=await exchange['createOrder'](_0x552906,_0x24e91d,_0x26f641,_0x5cdd93,_0x407da8,{'clientOrderId':_0x2b635c}),_0x1e96fd=lastOrders[_0x4ae4fd(0x12d)]-0x1;_0x1e96fd>=0x0&&lastOrders[_0x1e96fd]['customId']==_0x2b635c&&(lastOrders[_0x1e96fd]={...lastOrders[_0x1e96fd],'orderId':_0xc9a7ba['id'],'amount':_0xc9a7ba['amount'],'price':_0xc9a7ba[_0x4ae4fd(0x152)],'fee':_0xc9a7ba[_0x4ae4fd(0x10e)]});let _0x3fed92=currentCoins[_0x4ae4fd(0x15b)](_0xb911e1=>_0xb911e1['coin']==_0x2da5a4[_0x4ae4fd(0x229)]);_0x3fed92['orderstatus']=_0x4ae4fd(0x1c4);if(config[_0x4ae4fd(0xfc)]!=0x0){let _0xd1a8ad=null;if(cooldownTracker[_0x4ae4fd(0x12d)]==config[_0x4ae4fd(0xfc)]-0x1)_0xd1a8ad=cooldownTracker['shift']();const _0x2a6da9=getTimeStamp();cooldownTracker[_0x4ae4fd(0x1f8)](_0x2a6da9);if(_0xd1a8ad){const _0x5d6362=fns['differenceInSeconds'](new Date(_0x2a6da9),new Date(_0xd1a8ad));if(_0x5d6362<cooldownInterval){logHistory(_0x4ae4fd(0x21c),'Executed\x20'+config[_0x4ae4fd(0xfc)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x4ae4fd(0x1bb)+cooldownPeriod/(0xe10*0x3e8)+_0x4ae4fd(0x110)),coolingDown=!![];break;}}}}catch(_0x421c5f){if(_0x421c5f[_0x4ae4fd(0xf2)]()[_0x4ae4fd(0x153)](_0x4ae4fd(0xee)))lastOrders=lastOrders[_0x4ae4fd(0xf9)](_0x133dbc=>_0x133dbc[_0x4ae4fd(0x17a)]!=_0x552906),logHistory(_0x4ae4fd(0x21c),_0x4ae4fd(0x16d)+_0x552906);else _0x421c5f[_0x4ae4fd(0xf2)]()[_0x4ae4fd(0x153)]('Invalid\x20quantity')?(lastOrders=lastOrders[_0x4ae4fd(0xf9)](_0x4d424d=>_0x4d424d['symbol']!=_0x552906),logHistory(_0x4ae4fd(0x21c),'Order\x20amount\x20is\x20invalid:\x20'+_0x552906)):(lastOrders=lastOrders[_0x4ae4fd(0xf9)](_0x77ac63=>_0x77ac63['symbol']!=_0x552906),await handleError(_0x421c5f,_0x4ae4fd(0x14a),_0x552906));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x4ae4fd(0x12d)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x449295=config[_0x4ae4fd(0x106)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4ae4fd(0x117)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x449295);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4ae4fd(0x13f),_0x4ae4fd(0x214)));}else{if(coolingDown)!config[_0x4ae4fd(0x141)]&&logHistory(_0x4ae4fd(0x21c),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x4ae4fd(0x18b)]&&(!config[_0x4ae4fd(0x141)]&&(config[_0x4ae4fd(0x106)]==_0x4ae4fd(0xed)?logHistory(_0x4ae4fd(0x21c),_0x4ae4fd(0x1a4)):logHistory('error',_0x4ae4fd(0x11f))));}}function persistOpenOrders(_0x221e8f){const _0xaaa1a7=_0x5c43db,_0x2d8af1={...config,'openOrders':_0x221e8f};let _0x142535=dbConfig[_0xaaa1a7(0x1e5)]('bot')[_0xaaa1a7(0x15b)]({'botID':botID})[_0xaaa1a7(0x1f4)]();_0x142535&&dbConfig['get'](_0xaaa1a7(0x1d2))[_0xaaa1a7(0x15b)]({'botID':botID})[_0xaaa1a7(0x142)](_0x2d8af1)['write']();}function restoreOrders(){const _0x156234=_0x5c43db;let _0x55b7ba;allOpenOrders[_0x156234(0x183)](_0x85d7b8=>{const _0x3d360e=_0x156234,_0x51df3f=config[_0x3d360e(0x16c)][_0x3d360e(0x15b)](_0x28ccc2=>_0x28ccc2[_0x3d360e(0x119)]==_0x85d7b8['id']);_0x51df3f&&(lastOrders['push'](_0x51df3f),_0x55b7ba=_0x85d7b8[_0x3d360e(0x198)]);});if(lastOrders[_0x156234(0x12d)]>0x0){lockOrders=ORDERS[_0x156234(0x116)],validateOrdersState=_0x156234(0x1c5),allOrdersPlaced=!![];const _0x39791d=new Date()[_0x156234(0x16f)](),_0x2189f0=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x156234(0x117)]*0x3c*0x3e8;if(_0x55b7ba+_0x2189f0>_0x39791d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x55b7ba+_0x2189f0-_0x39791d);}else validateOrders(_0x156234(0x185));}}async function sendPortfolioTelegram(){const _0x6e585a=_0x5c43db;if(loading['progress']!=0x64){process['send']({'telegrammsg':_0x6e585a(0x1c3)},_0x106137=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x2f974d=[_0x6e585a(0x1f3),_0x6e585a(0x15f),_0x6e585a(0x1d7)],_0x44f181=_0x2f974d['includes'](config['basecoin'])?0x2:0x8;let _0x5a9b26='';if(config[_0x6e585a(0x166)])_0x5a9b26='<b>'+config[_0x6e585a(0x179)]+_0x6e585a(0x102);else _0x5a9b26=_0x6e585a(0x20d)+botID+_0x6e585a(0x102);const _0x24755d=getKPIs(_0x6e585a(0xf8)),_0x2f997a=getKPIs(_0x6e585a(0x12c));_0x5a9b26+=_0x6e585a(0x184),_0x5a9b26+=_0x24755d[_0x6e585a(0x188)]+_0x6e585a(0x17f)+_0x24755d[_0x6e585a(0x1f4)]+'\x20\x0a',_0x5a9b26+=_0x24755d[_0x6e585a(0x150)]+':\x20'+_0x24755d[_0x6e585a(0x1bc)]+_0x6e585a(0x146),_0x5a9b26+=_0x2f997a[_0x6e585a(0x188)]+':\x20'+_0x2f997a[_0x6e585a(0x1f4)]+'\x20'+config[_0x6e585a(0xf8)]+'\x0a',_0x5a9b26+=_0x2f997a[_0x6e585a(0x150)]+':\x20'+_0x2f997a[_0x6e585a(0x1bc)]+_0x6e585a(0x146),_0x5a9b26+='\x0a',_0x5a9b26+=_0x6e585a(0x1ce),_0x5a9b26+=_0x6e585a(0x1b2),_0x5a9b26+=_0x6e585a(0x1ce),currentCoins['forEach'](_0xbd6dd4=>{const _0x4c0c6f=_0x6e585a;_0x5a9b26+=_0xbd6dd4['coin'][_0x4c0c6f(0x1dd)](0x7)+'|\x20'+formatPad(_0xbd6dd4[_0x4c0c6f(0xe0)],0x2,0x6)+'|\x20'+formatPad(_0xbd6dd4[_0x4c0c6f(0xec)],0x2,0x6)+'|\x20'+formatPad(_0xbd6dd4[_0x4c0c6f(0x10f)]*0x64,0x2,0x6)+'\x0a';}),_0x5a9b26+=_0x6e585a(0x1e2),process[_0x6e585a(0x192)]({'telegrammsg':_0x5a9b26},_0x1495ff=>{});}function formatPad(_0x510994,_0x4cb7ca,_0x25f121){const _0x228ed5=_0x5c43db,_0x3bd339=formatResultString(_0x510994,_0x4cb7ca);return _0x3bd339?_0x3bd339[_0x228ed5(0x163)](_0x25f121):''[_0x228ed5(0x163)](_0x25f121);}function logHistory(_0x30f2f6,_0x2024a7,_0x1c6171=''){const _0x564f43=_0x5c43db;let _0x199410={'time':getTimeStamp(),'type':_0x30f2f6,'event':_0x2024a7};dbLogs[_0x564f43(0x1e5)](_0x564f43(0x1c7))[_0x564f43(0x1f8)](_0x199410)[_0x564f43(0x103)]();if(_0x1c6171=='')_0x1c6171=_0x2024a7;proxyEmit(_0x564f43(0x15e),{'log':_0x199410,'summary':_0x1c6171}),process['send']({'telegram':{..._0x199410,'botname':config[_0x564f43(0x179)],'showname':config['showname']}},_0x4d9839=>{}),logger[_0x564f43(0x1c1)](''+_0x199410['event']);}function emitHistory(_0x33df8a={}){const _0x59b8eb=_0x5c43db;Object[_0x59b8eb(0x18c)](_0x33df8a)['length']==0x0&&(_0x33df8a={'type':[_0x59b8eb(0x10a),_0x59b8eb(0x15e)],'event':'','page':0x1});if(_0x33df8a[_0x59b8eb(0x165)][_0x59b8eb(0x153)](_0x59b8eb(0x15e)))_0x33df8a[_0x59b8eb(0x165)]['splice'](_0x33df8a[_0x59b8eb(0x165)][_0x59b8eb(0xef)](_0x59b8eb(0x15e)),0x1,_0x59b8eb(0x21c),'success');if(dbLogs['has'](_0x59b8eb(0x1c7))['value']()){let _0x13305e=dbLogs[_0x59b8eb(0x1e5)](_0x59b8eb(0x1c7))[_0x59b8eb(0xf9)](_0x24f458=>{const _0x5b19ae=_0x59b8eb;if(_0x33df8a['type']['length']==0x0)return![];else return _0x33df8a[_0x5b19ae(0x165)][_0x5b19ae(0x153)](_0x24f458['type']);})[_0x59b8eb(0xf9)](_0x1aa666=>{const _0x4894ea=_0x59b8eb;if(_0x33df8a[_0x4894ea(0x15e)]=='')return!![];else return _0x1aa666[_0x4894ea(0x15e)][_0x4894ea(0x21b)]()['includes'](_0x33df8a[_0x4894ea(0x15e)][_0x4894ea(0x21b)]());})[_0x59b8eb(0x186)]('time'),_0x3e5b59=_0x13305e[_0x59b8eb(0x1f4)]()['length'];_0x13305e=_0x13305e[_0x59b8eb(0x1a7)]()[_0x59b8eb(0x1e8)]((_0x33df8a[_0x59b8eb(0xff)]-0x1)*logPageSize,_0x33df8a[_0x59b8eb(0xff)]*logPageSize-0x1)[_0x59b8eb(0x1a7)]()[_0x59b8eb(0x1f4)](),proxyEmit(_0x59b8eb(0x1cc),{'logs':_0x13305e,'total':_0x3e5b59});}else proxyEmit(_0x59b8eb(0x1cc),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x394f94){const _0x33a44a=_0x5c43db;if(dbLogs[_0x33a44a(0x18d)]('logs')['value']()){const _0x3adda6=dbLogs[_0x33a44a(0x1e5)]('logs')[_0x33a44a(0x186)](_0x33a44a(0x1ca))[_0x33a44a(0xf9)](_0x13ca7a=>{const _0x2443a5=_0x33a44a;return _0x13ca7a[_0x2443a5(0x165)]=='order';})[_0x33a44a(0x1f4)]();dbLogs[_0x33a44a(0x1e5)]('logs')['remove']()[_0x33a44a(0x103)](),dbLogs[_0x33a44a(0x1e5)]('logs')[_0x33a44a(0x142)](_0x3adda6)['write'](),emitHistory(_0x394f94);}}async function pauseBot(_0x168d9b=''){const _0x41d088=_0x5c43db,_0x30dccc=new Date()[_0x41d088(0x16f)]();if(!lastBotPause)lastBotPause=new Date()[_0x41d088(0x16f)](),consecutivePauses=0x1;else{if(_0x30dccc-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x41d088(0x192)]({'stop':_0x41d088(0x19f)},_0x2fceb2=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x168d9b)_0x168d9b+=_0x41d088(0x221);logHistory(_0x41d088(0x21c),_0x168d9b+_0x41d088(0x1a5)+pauseBotInterval/0xea60+_0x41d088(0x1f9)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x4be2f3=_0x5c43db;process['send']({'stop':_0x4be2f3(0x22a)},_0x1036bf=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xf1aa6,_0x3401d1){const _0x304263=_0x5c43db;if(_0xf1aa6[_0x304263(0xf2)]()[_0x304263(0x153)](_0x304263(0x1a6)))return logHistory(_0x304263(0x21c),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0xf1aa6[_0x304263(0xf2)]()['includes'](_0x304263(0x1ef)))return logHistory(_0x304263(0x21c),_0x304263(0x14f)),![];else{if(_0xf1aa6[_0x304263(0xf2)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x304263(0x21c),_0x304263(0x161)),![];else await handleError(_0xf1aa6,_0x3401d1);}}}async function handleError(_0x53dca7,_0xbecd3,_0x50418f=''){const _0x4c8781=_0x5c43db;if(_0x53dca7[_0x4c8781(0xf2)]()[_0x4c8781(0x153)]('DDoSProtection'))await pauseBot('Binance\x20API\x20blocked');else{if(_0x53dca7[_0x4c8781(0xf2)]()['includes']('ExchangeNotAvailable'))await pauseBot(_0x4c8781(0x160));else{if(_0x53dca7[_0x4c8781(0xf2)]()['includes']('RequestTimeout'))await pauseBot(_0x4c8781(0x1df));else{if(_0x53dca7[_0x4c8781(0xf2)]()[_0x4c8781(0x153)]('API-key\x20format\x20invalid'))logHistory('error',_0xbecd3+_0x4c8781(0x135)),logHistory(_0x4c8781(0x21c),_0x4c8781(0x199)),await killBot();else{if(_0x53dca7['toString']()['includes'](_0x4c8781(0x1ef)))logHistory('error',_0xbecd3+_0x4c8781(0xe9)),logHistory('error',_0x4c8781(0x199)),await killBot();else{if(_0x53dca7['toString']()[_0x4c8781(0x153)](_0x4c8781(0x159)))logHistory(_0x4c8781(0x21c),_0xbecd3+_0x4c8781(0x20f)),logHistory(_0x4c8781(0x21c),_0x4c8781(0x199)),await killBot();else{if(_0x53dca7[_0x4c8781(0xf2)]()['includes'](_0x4c8781(0x1e0)))logHistory(_0x4c8781(0x21c),_0xbecd3+_0x4c8781(0x13d)),logHistory(_0x4c8781(0x21c),_0x4c8781(0x199)),await killBot();else{if(_0x53dca7['toString']()['includes'](_0x4c8781(0x1af)))await pauseBot(_0x4c8781(0x217)),process['send']({'stop':_0x4c8781(0x19f)},_0x4e3d76=>{});else _0x53dca7['toString']()[_0x4c8781(0x153)](_0x4c8781(0x196))?logHistory(_0x4c8781(0x21c),_0xbecd3+_0x4c8781(0x180)+_0x50418f):(logger['full'](_0xbecd3+_0x4c8781(0x155),_0x53dca7),await pauseBot(_0x4c8781(0x1b8)));}}}}}}}}function formatResult(_0x3b7e81,_0x166d26){return parseFloat(_0x3b7e81['toFixed'](_0x166d26));}function formatResultTruncate(_0x4969b5,_0x552dea){const _0x805448=_0x5c43db;let _0x402855=formatResultString(_0x4969b5,0xa),_0x5d767d=_0x402855[_0x805448(0xef)]('.');return _0x5d767d!=-0x1&&(_0x402855=_0x402855[_0x805448(0x1e8)](0x0,_0x5d767d+_0x552dea+0x1)),Number(_0x402855);}function formatResultString(_0x2c65a6,_0x3a6f82){const _0x88ed4a=_0x5c43db;let _0x39864c;if(!(''+_0x2c65a6)[_0x88ed4a(0x153)]('e'))_0x39864c=+(Math[_0x88ed4a(0x22c)](_0x2c65a6+'e+'+_0x3a6f82)+'e-'+_0x3a6f82);else{let _0x3a8a61=(''+_0x2c65a6)[_0x88ed4a(0x128)]('e'),_0x128446='';+_0x3a8a61[0x1]+_0x3a6f82>0x0&&(_0x128446='+'),_0x39864c=+(Math['round'](+_0x3a8a61[0x0]+'e'+_0x128446+(+_0x3a8a61[0x1]+_0x3a6f82))+'e-'+_0x3a6f82);}return Number(_0x39864c)[_0x88ed4a(0xfa)](_0x3a6f82);}function getServerTime(){const _0x1e0a2a=_0x5c43db,_0x26d391=new Date();return _0x26d391[_0x1e0a2a(0x1fd)]()+'/'+(_0x26d391[_0x1e0a2a(0x111)]()+0x1)[_0x1e0a2a(0xf2)]()[_0x1e0a2a(0x163)](0x2,'0')+'/'+_0x26d391[_0x1e0a2a(0x1b6)]()['toString']()[_0x1e0a2a(0x163)](0x2,'0')+'\x20'+_0x26d391[_0x1e0a2a(0x107)]()[_0x1e0a2a(0xf2)]()[_0x1e0a2a(0x163)](0x2,'0')+':'+_0x26d391[_0x1e0a2a(0x140)]()['toString']()[_0x1e0a2a(0x163)](0x2,'0')+':'+_0x26d391[_0x1e0a2a(0x123)]()['toString']()[_0x1e0a2a(0x163)](0x2,'0');}function getTimeStamp(){const _0x4fbef9=_0x5c43db,_0x16b752=shiftedTime();return _0x16b752[_0x4fbef9(0x1fd)]()+'/'+(_0x16b752[_0x4fbef9(0x111)]()+0x1)[_0x4fbef9(0xf2)]()['padStart'](0x2,'0')+'/'+_0x16b752['getDate']()[_0x4fbef9(0xf2)]()[_0x4fbef9(0x163)](0x2,'0')+'\x20'+_0x16b752[_0x4fbef9(0x107)]()[_0x4fbef9(0xf2)]()[_0x4fbef9(0x163)](0x2,'0')+':'+_0x16b752[_0x4fbef9(0x140)]()[_0x4fbef9(0xf2)]()['padStart'](0x2,'0')+':'+_0x16b752[_0x4fbef9(0x123)]()[_0x4fbef9(0xf2)]()['padStart'](0x2,'0');}function getDate(){const _0x55d64e=_0x5c43db,_0x1ede7c=shiftedTime();return _0x1ede7c[_0x55d64e(0x1fd)]()+'/'+(_0x1ede7c[_0x55d64e(0x111)]()+0x1)[_0x55d64e(0xf2)]()[_0x55d64e(0x163)](0x2,'0')+'/'+_0x1ede7c[_0x55d64e(0x1b6)]()[_0x55d64e(0xf2)]()[_0x55d64e(0x163)](0x2,'0');}function getHour(){const _0x2a839c=_0x5c43db,_0xde2cc=shiftedTime();return _0xde2cc['getHours']()[_0x2a839c(0xf2)]()[_0x2a839c(0x163)](0x2,'0');}function sleep(_0x3ce6f9){return new Promise(_0x463809=>setTimeout(_0x463809,_0x3ce6f9));}function shiftedTime(){const _0x3ce566=_0x5c43db,_0x1d59c0=new Date();let _0x125db6=_0x1d59c0;if(config&&config['timeshift']!==0x0)_0x125db6=fns['add'](_0x1d59c0,{'hours':config[_0x3ce566(0x1ee)]});return _0x125db6;}