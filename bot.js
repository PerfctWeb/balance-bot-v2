const _0x412709=_0x3cbc;(function(_0x108826,_0x3ddcc6){const _0x4a32f0=_0x3cbc,_0x276d78=_0x108826();while(!![]){try{const _0x23c01f=-parseInt(_0x4a32f0(0x211))/0x1+-parseInt(_0x4a32f0(0x114))/0x2+parseInt(_0x4a32f0(0x22a))/0x3*(-parseInt(_0x4a32f0(0xf7))/0x4)+parseInt(_0x4a32f0(0x207))/0x5+-parseInt(_0x4a32f0(0x113))/0x6+parseInt(_0x4a32f0(0x16f))/0x7*(parseInt(_0x4a32f0(0x1ca))/0x8)+-parseInt(_0x4a32f0(0x18f))/0x9*(-parseInt(_0x4a32f0(0x13a))/0xa);if(_0x23c01f===_0x3ddcc6)break;else _0x276d78['push'](_0x276d78['shift']());}catch(_0x1c1ccc){_0x276d78['push'](_0x276d78['shift']());}}}(_0x1695,0x376ab));const _0x3e5b0f=function(){let _0x4ace3b=!![];return function(_0x298f65,_0x35bc20){const _0xf5809e=_0x4ace3b?function(){if(_0x35bc20){const _0x3d0db0=_0x35bc20['apply'](_0x298f65,arguments);return _0x35bc20=null,_0x3d0db0;}}:function(){};return _0x4ace3b=![],_0xf5809e;};}(),_0x140f13=_0x3e5b0f(this,function(){const _0x2817fb=_0x3cbc;return _0x140f13[_0x2817fb(0x1b7)]()[_0x2817fb(0x17c)](_0x2817fb(0xfb))[_0x2817fb(0x1b7)]()[_0x2817fb(0x167)](_0x140f13)['search'](_0x2817fb(0xfb));});_0x140f13();'use strict';const ccxt=require(_0x412709(0x1fd))[_0x412709(0x16e)],low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x412709(0x23d)),Crypt=require(_0x412709(0x1e4))[_0x412709(0x1c4)],util=require(_0x412709(0x236)),argv=require(_0x412709(0x1af))(process[_0x412709(0x20e)][_0x412709(0x15c)](0x2))[_0x412709(0x20e)],path=require(_0x412709(0x229));let exchange;global[_0x412709(0x210)]={},global[_0x412709(0x177)]={};const exceptions={'binance':['DAI/',_0x412709(0x136),'XEM/BUSD',_0x412709(0xdf),_0x412709(0xca)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x412709(0xc8)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x412709(0x10f)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')[_0x412709(0x17a)],botID=process[_0x412709(0x20e)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x412709(0x119)](botID)&&(console[_0x412709(0x1e1)](_0x412709(0x1d1)+botID+_0x412709(0x1a2)),killBot());const userID=process[_0x412709(0x20e)][0x3]||'',configpath=userID?_0x412709(0x111)+userID+'/':'./config/',logspath=userID?_0x412709(0x13c)+userID+'/':_0x412709(0x13c),loggerfile=fs[_0x412709(0x12a)](logspath+_0x412709(0x1ba),{'flags':'a'});!fs[_0x412709(0x166)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x412709(0x166)](logspath)&&fs[_0x412709(0x1ac)](logspath);const configfile=configpath+_0x412709(0x20f)+botID+_0x412709(0x104),logfile=configpath+_0x412709(0x20f)+botID+_0x412709(0x123),performancefile=configpath+_0x412709(0x20f)+botID+'-performance.json',coinresultsfile=configpath+_0x412709(0x20f)+botID+_0x412709(0x109),settingsfile=configpath+_0x412709(0x1f5),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x412709(0x1c3),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x412709(0x1df)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x412709(0x1df)]({'data':[],'version':serverversion})[_0x412709(0x122)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x412709(0x1df)]({'bot':[],'version':serverversion})[_0x412709(0x122)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x412709(0x1df)]({'coins':[],'version':serverversion})[_0x412709(0x122)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x412709(0x107),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x312c9f=>{console['log'](_0x312c9f);},'simple':_0x164da0=>{const _0x2d3c59=_0x412709;console[_0x2d3c59(0x1e1)](_0x164da0),loggerfile['write'](util['format'](_0x164da0)+'\x0a');},'full':async(_0x1d42eb,_0x14d321='')=>{const _0x3907fc=_0x412709;let _0x33354b;if(config[_0x3907fc(0x16b)])_0x33354b=getTimeStamp()+':\x20'+config[_0x3907fc(0x121)]+_0x3907fc(0x13d)+_0x1d42eb;else _0x33354b=getTimeStamp()+_0x3907fc(0x1be)+botID+_0x3907fc(0x13d)+_0x1d42eb;console[_0x3907fc(0x1e1)](_0x33354b),loggerfile[_0x3907fc(0x122)](util['format'](_0x33354b)+'\x0a'),_0x14d321&&(console[_0x3907fc(0x1e1)](_0x14d321),loggerfile[_0x3907fc(0x122)](util[_0x3907fc(0x127)](_0x14d321)+'\x0a'));},'debug':async(_0x57d83d,_0x36a7a0='')=>{const _0x3aaf96=_0x412709;let _0x465f31;if(config[_0x3aaf96(0x16b)])_0x465f31=getTimeStamp()+':\x20'+config[_0x3aaf96(0x121)]+_0x3aaf96(0x1a5)+_0x57d83d;else _0x465f31=getTimeStamp()+':\x20Bot\x20'+botID+_0x3aaf96(0x1a5)+_0x57d83d;if(debugging)console['log'](_0x465f31);loggerfile[_0x3aaf96(0x122)](util[_0x3aaf96(0x127)](_0x465f31)+'\x0a');if(_0x36a7a0){if(debugging)console[_0x3aaf96(0x1e1)](_0x36a7a0);loggerfile[_0x3aaf96(0x122)](util[_0x3aaf96(0x127)](_0x36a7a0)+'\x0a');}}};process['on'](_0x412709(0x11b),function(_0x1ff4cc){const _0x1f9708=_0x412709;logger[_0x1f9708(0x129)](_0x1ff4cc);});settings[_0x412709(0x1f9)]!=config[_0x412709(0x1f9)]&&updateTimeshift(settings[_0x412709(0x1f9)]);settings[_0x412709(0xee)]!=config[_0x412709(0xee)]&&updateOnepagemode(settings['onepagemode']);process['send']({'started':_0x412709(0x1c6)},_0x5e459a=>{}),initializeProcessListeners();function proxyEmit(_0x109a48,_0x3b5046=null){const _0x5c0854=_0x412709;process[_0x5c0854(0xeb)]({'function':_0x109a48,'args':_0x3b5046},_0x217b80=>{});}function initializeProcessListeners(){process['on']('message',_0x5a44b8=>{const _0x46fe20=_0x3cbc;switch(Object[_0x46fe20(0x11c)](_0x5a44b8)[0x0]){case _0x46fe20(0x1f9):_0x5a44b8[_0x46fe20(0x1f9)]!=undefined&&(settings[_0x46fe20(0x1f9)]=_0x5a44b8[_0x46fe20(0x1f9)],updateTimeshift(settings[_0x46fe20(0x1f9)]));break;case _0x46fe20(0xee):_0x5a44b8[_0x46fe20(0xee)]!=undefined&&(settings[_0x46fe20(0xee)]=_0x5a44b8[_0x46fe20(0xee)],updateOnepagemode(settings[_0x46fe20(0xee)]));break;case'bots':_0x5a44b8['bots']!=undefined&&(bots=JSON[_0x46fe20(0x199)](_0x5a44b8['bots']),proxyEmit(_0x46fe20(0x12b),bots));break;case _0x46fe20(0x1db):switch(_0x5a44b8[_0x46fe20(0x1db)]){case _0x46fe20(0xe1):initclient();break;case _0x46fe20(0x165):toggleBotMode();break;case _0x46fe20(0x185):emitHistory(_0x5a44b8[_0x46fe20(0xd0)]);break;case _0x46fe20(0x1c5):deleteHistoryAlerts(_0x5a44b8[_0x46fe20(0xd0)]);break;case _0x46fe20(0x138):getPortfolio(_0x5a44b8[_0x46fe20(0xd0)]);break;case _0x46fe20(0x238):storeConfiguration(_0x5a44b8[_0x46fe20(0xd0)]);break;case _0x46fe20(0x1de):storeHeadless(_0x5a44b8[_0x46fe20(0xd0)]);break;case _0x46fe20(0x174):storeFiat(_0x5a44b8[_0x46fe20(0xd0)]);break;case _0x46fe20(0x22e):resetHistory();break;case _0x46fe20(0x1b3):getStartingBalances(getNormalizedPerformance());break;case _0x46fe20(0x192):placeOrder(_0x5a44b8[_0x46fe20(0xd0)]);break;case _0x46fe20(0x156):cancelLoading();break;case'showConfig':showConfig();break;case _0x46fe20(0x1cf):sendMetricsTelegram();break;case _0x46fe20(0x120):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x3e2d0c=null,_0x1bf3e4=![]){const _0x3f749b=_0x412709;logger[_0x3f749b(0x14d)](_0x3f749b(0x1b9)+(_0x3e2d0c&&_0x3e2d0c[_0x3f749b(0xfd)]>0x0?'additional\x20symbols\x20'+_0x3e2d0c[_0x3f749b(0x139)](','):_0x3f749b(0x222))+_0x3f749b(0xf5)+(_0x1bf3e4?_0x3f749b(0x1b1):_0x3f749b(0xf9)));if(pidBalances)clearTimeout(pidBalances);if(!_0x1bf3e4)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x3f749b(0x218)]!=''&&config[_0x3f749b(0x218)]!=_0x3f749b(0x106)){if(_0x1bf3e4){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x2da626){handleErrorNoStop(_0x2da626,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x3e2d0c);const _0x109a25=await getCoins();[currentCoins,currentCoinsAll]=_0x109a25,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x3f749b(0xfd)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x2cb050=_0x412709;exchangeStopped=!![],await exchange[_0x2cb050(0xcd)]();}async function reloadExchange(){const _0x4eb8ef=_0x412709;logger[_0x4eb8ef(0x14d)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x4eb8ef(0x14d)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x8af461=config['exchange'],_0x2203a6=config[_0x412709(0x218)],_0x2f4cf1=config[_0x412709(0x212)],_0x25c17b=config[_0x412709(0x191)]){const _0x12e6ed=_0x412709;exchange&&await stopExchange();!supportedExchanges()[_0x12e6ed(0x186)](_0x8af461)&&(logHistory('error',_0x12e6ed(0xcc)+_0x8af461+_0x12e6ed(0x126)),killBot());const _0x2a1f71=ccxt[_0x8af461[_0x12e6ed(0x224)]()];exchange=new _0x2a1f71({'apiKey':_0x2203a6,'secret':_0x2f4cf1,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x25c17b)exchange[_0x12e6ed(0x14b)]=_0x25c17b;}function setStableCoins(){const _0x5f45ab=_0x412709;let _0x17de24=config[_0x5f45ab(0x160)]==_0x5f45ab(0x1ff)?'ETH':_0x5f45ab(0x206),_0x45abc1=!allSymbols[_0x5f45ab(0x186)](_0x17de24+_0x5f45ab(0xea))?_0x5f45ab(0x18b):_0x5f45ab(0xf6),_0x588a5b=!allSymbols[_0x5f45ab(0x186)](_0x17de24+_0x5f45ab(0x233))?_0x45abc1:'EUR';stablecoins={'eur':{'coin':''+_0x17de24+_0x588a5b,'symbol':_0x17de24+'/'+_0x588a5b},'usd':{'coin':''+_0x17de24+_0x45abc1,'symbol':_0x17de24+'/'+_0x45abc1}};}async function initwsCcxt(_0x8bcf6){const _0x3b8122=_0x412709;_0x8bcf6==null&&(_0x8bcf6=[],config['portfolio']['forEach'](_0x1f8b3f=>{const _0x3a11ef=_0x3cbc;if(!_0x1f8b3f[_0x3a11ef(0x178)]&&_0x1f8b3f['coin']!=config[_0x3a11ef(0x160)])_0x8bcf6[_0x3a11ef(0x124)](_0x1f8b3f[_0x3a11ef(0xdb)]);}));if(!_0x8bcf6['includes'](stablecoins[_0x3b8122(0x239)][_0x3b8122(0xdb)]))_0x8bcf6[_0x3b8122(0x124)](stablecoins[_0x3b8122(0x239)][_0x3b8122(0xdb)]);if(!_0x8bcf6['includes'](stablecoins[_0x3b8122(0x1d0)][_0x3b8122(0xdb)]))_0x8bcf6['push'](stablecoins[_0x3b8122(0x1d0)][_0x3b8122(0xdb)]);if(config[_0x3b8122(0x1bd)]['startsWith'](_0x3b8122(0x1b2))){if(!_0x8bcf6[_0x3b8122(0x186)]('BNB/'+config[_0x3b8122(0x160)]))_0x8bcf6['push'](_0x3b8122(0x237)+config[_0x3b8122(0x160)]);}loadCoins(_0x8bcf6);const _0x2363bb=async _0x510083=>{const _0x2538d6=_0x3b8122,_0x10cde8=await exchange[_0x2538d6(0x17f)](_0x510083);global[_0x2538d6(0x210)][noslash(_0x10cde8[_0x2538d6(0xdb)])]=_0x10cde8[_0x2538d6(0x1e0)];while(!![]){if(!botPaused)try{const _0x329616=await exchange[_0x2538d6(0x1c9)](_0x510083);global[_0x2538d6(0x210)][noslash(_0x329616[0x0][_0x2538d6(0xdb)])]=_0x329616[0x0][_0x2538d6(0x1a6)],await sleep(0x3e8);}catch(_0x143a27){if(!exchangeStopped)await handleError(_0x143a27,_0x2538d6(0x1c9),_0x510083);}else await sleep(0x3e8);}},_0x2bcbf2=async _0x3b59b0=>{const _0x1c1f01=_0x3b8122;while(!![]){if(!botPaused)try{const _0x36e732=await exchange[_0x1c1f01(0x17f)](_0x3b59b0);global[_0x1c1f01(0x177)][_0x36e732[_0x1c1f01(0xdb)]]=_0x36e732[_0x1c1f01(0x168)],await sleep(0x3c*0x3e8);}catch(_0x17d72c){if(!exchangeStopped)await handleError(_0x17d72c,'fetchTickers',_0x3b59b0);}else await sleep(0x3e8);}},_0x128ac5=async()=>{const _0x5cd809=_0x3b8122;while(!![]){if(!botPaused)try{const _0x5ac957=await exchange['watchOrders']();_0x5ac957[_0x5cd809(0x10d)](_0x391f58=>{updateNumberCoinsCcxt(_0x391f58);});}catch(_0x131f99){if(!exchangeStopped)await handleError(_0x131f99,_0x5cd809(0x21a));}else await sleep(0x3e8);}};_0x8bcf6[_0x3b8122(0x10d)](async _0x4fcd70=>{_0x2363bb(_0x4fcd70),_0x2bcbf2(_0x4fcd70);}),!wsEventsSet&&(wsEventsSet=!![],_0x128ac5(),watchTransactions());}async function watchTransactions(){const _0x5d3482=_0x412709;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x1b8972=await getCoins(),[_0x88c953,_0x7ae753]=_0x1b8972;let _0x5c4508=[];currentCoins[_0x5d3482(0x10d)](_0x1fab74=>{const _0x1e62cd=_0x5d3482,_0x4778e4=_0x88c953[_0x1e62cd(0x1c8)](_0x59dc9f=>_0x59dc9f[_0x1e62cd(0x1ed)]==_0x1fab74['coin']);_0x4778e4&&(_0x1fab74[_0x1e62cd(0x173)]!=_0x4778e4[_0x1e62cd(0x173)]&&_0x5c4508['push']({'coin':_0x1fab74[_0x1e62cd(0x1ed)],'symbol':_0x1fab74[_0x1e62cd(0xdb)],'number':Number(formatResult(_0x4778e4[_0x1e62cd(0x173)]-_0x1fab74['number'],0x8))}));});if(_0x5c4508[_0x5d3482(0xfd)]==0x1&&!blockTransactionDetection){logger[_0x5d3482(0x14d)](_0x5d3482(0x189)+lastFees[_0x5d3482(0xda)]+_0x5d3482(0x17d)+lastFees[_0x5d3482(0x18d)]);if(!lastFees[_0x5d3482(0xda)]||_0x5c4508[0x0][_0x5d3482(0x1ed)]!=lastFees[_0x5d3482(0xda)]||_0x5c4508[0x0]['number']>lastFees[_0x5d3482(0x18d)]){let _0x5115b7;if(_0x5c4508[0x0]['coin']!=config[_0x5d3482(0x160)]){let _0x12adf2=global[_0x5d3482(0x210)][noslash(_0x5c4508[0x0][_0x5d3482(0xdb)])];_0x5115b7=_0x5c4508[0x0][_0x5d3482(0x240)]?0x1/_0x12adf2:_0x12adf2;}else _0x5115b7=0x1;_0x5c4508[0x0]['price']=_0x5115b7,delete _0x5c4508[0x0][_0x5d3482(0xdb)];let _0x4e9f0f=[],_0x449137=[...config[_0x5d3482(0x151)]]||[],_0x55d9b5=config[_0x5d3482(0x151)];_0x449137[_0x5d3482(0x162)]((_0x3da4f8,_0x234eb6)=>_0x3da4f8[_0x5d3482(0xe0)]>_0x234eb6[_0x5d3482(0xe0)]?-0x1:_0x234eb6[_0x5d3482(0xe0)]>_0x3da4f8[_0x5d3482(0xe0)]?0x1:0x0);const _0x12dc3c=getDate();if(_0x449137[0x0]){const _0x24c28b=fns[_0x5d3482(0x199)](_0x449137[0x0][_0x5d3482(0xe0)],'yyyy/MM/dd',new Date()),_0x2eb998=fns[_0x5d3482(0x199)](_0x12dc3c,_0x5d3482(0x157),new Date());if(fns['isEqual'](_0x24c28b,_0x2eb998)){_0x4e9f0f=_0x449137[0x0][_0x5d3482(0xf1)];const _0x23b96a=_0x4e9f0f[_0x5d3482(0x1c8)](_0x1430ac=>_0x1430ac[_0x5d3482(0x1ed)]==_0x5c4508[0x0][_0x5d3482(0x1ed)]);_0x23b96a?(_0x23b96a[_0x5d3482(0x173)]+=_0x5c4508[0x0][_0x5d3482(0x173)],_0x23b96a[_0x5d3482(0x173)]==0x0&&(_0x4e9f0f=_0x4e9f0f['filter'](_0x4b6b26=>{const _0x4142dc=_0x5d3482;return _0x4b6b26['coin']!=_0x5c4508[0x0][_0x4142dc(0x1ed)];}))):_0x4e9f0f[_0x5d3482(0x124)](_0x5c4508[0x0]);const _0x3ee4aa=_0x55d9b5['find'](_0x2fd1cb=>_0x2fd1cb['date']==_0x12dc3c);_0x3ee4aa[_0x5d3482(0xf1)]=_0x4e9f0f;}else _0x55d9b5[_0x5d3482(0x124)]({'date':_0x12dc3c,'changes':[_0x5c4508[0x0]]});}const _0x4a3ddf=_0x55d9b5['find'](_0x148010=>_0x148010[_0x5d3482(0xe0)]==_0x12dc3c);if(_0x4a3ddf){let _0x57e4fb=!![];_0x4a3ddf[_0x5d3482(0xf1)]['forEach'](_0x55e36e=>{const _0x8d1db3=_0x5d3482;if(_0x55e36e[_0x8d1db3(0x173)]!=0x0)_0x57e4fb=![];}),_0x57e4fb&&(_0x55d9b5=_0x55d9b5[_0x5d3482(0x1a7)](_0x3e371b=>{const _0xfccd8d=_0x5d3482;return _0x3e371b[_0xfccd8d(0xe0)]!=_0x12dc3c;}));}let _0x4eb6ee=dbConfig[_0x5d3482(0x176)](_0x5d3482(0x1c7))['find']({'botID':botID})[_0x5d3482(0x158)]();_0x4eb6ee&&(dbConfig[_0x5d3482(0x176)](_0x5d3482(0x1c7))[_0x5d3482(0x1c8)]({'botID':botID})[_0x5d3482(0x21f)]({'liquidity':_0x55d9b5})[_0x5d3482(0x122)](),config[_0x5d3482(0x151)]=_0x55d9b5),logHistory(_0x5d3482(0x145),'Portfolio\x20change\x20detected:\x20'+Math[_0x5d3482(0x1aa)](_0x5c4508[0x0][_0x5d3482(0x173)])+'\x20'+_0x5c4508[0x0][_0x5d3482(0x1ed)]+'\x20'+(_0x5c4508[0x0][_0x5d3482(0x173)]>0x0?'added':_0x5d3482(0x225))+_0x5d3482(0xd9)),proxyEmit(_0x5d3482(0x23a),emittedConfiguration());}else logger[_0x5d3482(0x14d)](_0x5d3482(0x20a)+Math[_0x5d3482(0x1aa)](_0x5c4508[0x0]['number'])+'\x20'+_0x5c4508[0x0][_0x5d3482(0x1ed)]+'\x20'+(_0x5c4508[0x0]['number']>0x0?_0x5d3482(0x193):'removed'));transactionDetected=!![],currentCoins=_0x88c953,currentCoinsAll=_0x7ae753;}await sleep(watchTransactionsInterval);}catch(_0x354109){if(!exchangeStopped)await handleError(_0x354109,_0x5d3482(0x1e8));}else await sleep(0x3e8);}}async function loadSymbols(_0x2aa031=config[_0x412709(0x1bd)],_0x141a93=![]){const _0x5bcb51=_0x412709;if(allSymbols&&!_0x141a93)return;try{markets=await exchange[_0x5bcb51(0xc5)](),allSymbols=exchange[_0x5bcb51(0x1b5)][_0x5bcb51(0x1a7)](_0x2698e7=>{const _0x205aa7=_0x5bcb51;let _0x571aaf=![];const _0x116a84=exceptions[_0x2aa031[_0x205aa7(0x224)]()]||[];return _0x116a84['forEach'](_0x586b6a=>{if(_0x2698e7['includes'](_0x586b6a))_0x571aaf=!![];}),!_0x571aaf;});}catch(_0x5a365d){throw _0x5a365d;}}async function initclient(){const _0x4d8b9b=_0x412709;emitLoadingProgress(),proxyEmit(_0x4d8b9b(0x23a),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4d8b9b(0x15e),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1ed450=getNormalizedPerformance();emitPerformance(_0x1ed450),getStartingBalances(_0x1ed450);}async function toggleBotMode(){const _0x19a33a=_0x412709;let _0x389ee9=dbConfig['get'](_0x19a33a(0x1c7))[_0x19a33a(0x1c8)]({'botID':botID})['value']();if(_0x389ee9){const _0x552bd3=!_0x389ee9[_0x19a33a(0x152)];dbConfig[_0x19a33a(0x176)]('bot')[_0x19a33a(0x1c8)]({'botID':botID})[_0x19a33a(0x21f)]({'headless':_0x552bd3})[_0x19a33a(0x122)](),config[_0x19a33a(0x152)]=_0x552bd3,proxyEmit(_0x19a33a(0x23a),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x566ba2=_0x412709;process[_0x566ba2(0xeb)]({'updatebotmanager':!![]},_0x5a1633=>{});}async function loadCoins(_0x649a0c){const _0x29d548=_0x412709;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x4aae03,_0x573ae8=0x0,_0x33257c=0x0;_0x649a0c[_0x29d548(0x10d)](_0x50761e=>{const _0x48b8ef=_0x29d548;loading[_0x48b8ef(0x235)]['push'](_0x50761e);}),loadingCanceled=![];let _0xb8b4f4=![];while(_0x4aae03!=_0x649a0c[_0x29d548(0xfd)]){_0x4aae03=0x0,_0x649a0c[_0x29d548(0x10d)](_0x1edea9=>{const _0x2241cb=_0x29d548;if(global[_0x2241cb(0x210)][noslash(_0x1edea9)]){loading['remainingSymbols']=loading[_0x2241cb(0x235)][_0x2241cb(0x1a7)](_0x2b90c8=>_0x2b90c8!=_0x1edea9);if(!watchedSymbols['includes'](_0x1edea9))watchedSymbols[_0x2241cb(0x124)](_0x1edea9);_0x4aae03++;}}),loading[_0x29d548(0xd2)]=Math[_0x29d548(0x171)](_0x4aae03/_0x649a0c[_0x29d548(0xfd)]*0x64);loading['progress']!=0x64&&(_0x33257c>0x1e*0x5&&(loading[_0x29d548(0x115)]=!![],emitLoadingProgress()),_0x33257c>0x78*0x5&&!_0xb8b4f4&&(loading[_0x29d548(0x204)]=!![],emitLoadingProgress(),_0xb8b4f4=!![],logHistory(_0x29d548(0x1a3),_0x29d548(0x243)+loading['remainingSymbols']['join'](',\x20')+_0x29d548(0x214)),logHistory(_0x29d548(0x1a3),_0x29d548(0x16c)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{process['send']({'stop':'restart'},_0x5eca74=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x29d548(0x204)]=!![],emitLoadingProgress();break;}else _0x4aae03!=_0x573ae8&&(_0x573ae8=_0x4aae03,emitLoadingProgress()),_0x33257c++,await sleep(0xc8);}_0x4aae03==_0x649a0c[_0x29d548(0xfd)]&&(coinsLoaded=!![],process[_0x29d548(0xeb)]({'status':'enabled','live':_0x29d548(0x1c6)},_0x347fc8=>{}),_0xb8b4f4&&logHistory(_0x29d548(0x145),_0x29d548(0x23c)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x271a87=_0x412709;proxyEmit(_0x271a87(0x23a),{...emittedConfiguration(),'configstate':_0x271a87(0xc6)});}function emitLoadingProgress(){const _0x35d3b3=_0x412709;proxyEmit(_0x35d3b3(0x132),loading);}async function getFiat(){const _0x2bb889=_0x412709;let _0x39f70d=global[_0x2bb889(0x210)][stablecoins[_0x2bb889(0x239)]['coin']],_0x578703=global['ticker'][stablecoins[_0x2bb889(0x1d0)][_0x2bb889(0x1ed)]];return{'eur':Number(_0x39f70d),'usd':Number(_0x578703)};}function capitalize(_0x424968){const _0x57f954=_0x412709;return _0x424968['substring'](0x0,0x1)[_0x57f954(0x11f)]()+_0x424968['substring'](0x1);}function supportedExchanges(){const _0x1ca1bb=_0x412709,_0x774554=['ws','fetchTickers',_0x1ca1bb(0x17f),_0x1ca1bb(0x1c9),_0x1ca1bb(0x21a),_0x1ca1bb(0xd8),_0x1ca1bb(0x13f),'fetchOpenOrders',_0x1ca1bb(0x1a8),_0x1ca1bb(0x12d)];let _0x461e53=[],_0x2f2595=[],_0x52ce54=ccxt[_0x1ca1bb(0x182)];_0x52ce54[_0x1ca1bb(0x10d)](_0x2ec848=>{const _0x9e22a6=_0x1ca1bb;try{const _0x6d2a67=new ccxt[_0x2ec848]();if(_0x6d2a67[_0x9e22a6(0x1e9)]['ws'])_0x2f2595[_0x9e22a6(0x124)](_0x6d2a67);}catch(_0x51c455){}}),_0x2f2595[_0x1ca1bb(0x10d)](_0x402d92=>{const _0x5dc781=_0x1ca1bb;let _0x508a06=0x0;_0x774554[_0x5dc781(0x10d)](_0x51d6da=>{const _0x9d2916=_0x5dc781;_0x51d6da in _0x402d92['has']&&_0x402d92[_0x9d2916(0x1e9)][_0x51d6da]&&_0x508a06++;}),_0x508a06==_0x774554[_0x5dc781(0xfd)]&&_0x461e53[_0x5dc781(0x124)](capitalize(_0x402d92['id']));});let _0x4509bb=[];return _0x52ce54[_0x1ca1bb(0x10d)](_0x2f564c=>{const _0x305b62=_0x1ca1bb;_0x2f564c=capitalize(_0x2f564c);if(!_0x461e53[_0x305b62(0x186)](_0x2f564c))_0x4509bb[_0x305b62(0x124)](_0x2f564c);}),_0x461e53;}function setStartDatePerformance(){const _0xd0546b=_0x412709;if(config&&config[_0xd0546b(0x151)][0x0]['changes']['length']!=0x0){const _0x78da14=config[_0xd0546b(0x151)][0x0][_0xd0546b(0xf1)];dbPerformance['get'](_0xd0546b(0x105))['find']({'date':config[_0xd0546b(0x13e)]})[_0xd0546b(0x21f)]({'coins':_0x78da14})[_0xd0546b(0x122)]();}}async function recreateCoinResults(){const _0x65c5ec=_0x412709;let _0x3c44fb,_0x14d998=[];try{const _0x1689b9=fns[_0x65c5ec(0x127)](fns[_0x65c5ec(0x149)](config[_0x65c5ec(0x13e)]['replace'](/\//g,'-')),_0x65c5ec(0x209));for(const _0x2a998b of currentCoins){if(_0x2a998b[_0x65c5ec(0x1ed)]!=config[_0x65c5ec(0x160)]){let _0x51f4fb=0x0,_0x44a000,_0x27c6ba;_0x3c44fb=await getAllEventOrders(_0x2a998b[_0x65c5ec(0xdb)]);if(_0x3c44fb['length']>0x0)_0x3c44fb[_0x65c5ec(0x10d)](_0x4863fc=>{const _0x30508f=_0x65c5ec,_0x119ce2=_0x2a998b[_0x30508f(0xdb)]['includes'](config[_0x30508f(0x160)]+'/');_0x14d998[_0x30508f(0x124)]({'datetime':_0x4863fc['datetime'],'coin':_0x2a998b[_0x30508f(0x1ed)],'symbol':_0x2a998b[_0x30508f(0xdb)],'side':_0x4863fc[_0x30508f(0xfc)],'reverse':_0x119ce2,'amount':formatResult(_0x4863fc[_0x30508f(0x17b)],0x8),'filled':formatResult(_0x4863fc['filled'],0x8),'price':formatResult(_0x4863fc[_0x30508f(0x1a6)],0x8)}),_0x51f4fb=_0x4863fc[_0x30508f(0xfc)]==_0x30508f(0x1f2)?_0x51f4fb+_0x4863fc[_0x30508f(0x17b)]:_0x51f4fb-_0x4863fc['filled'];if(!_0x27c6ba)_0x27c6ba=_0x4863fc[_0x30508f(0x1a6)];});_0x44a000=_0x2a998b[_0x65c5ec(0x173)]-_0x51f4fb;let _0x4cd10c;config['liquidity'][_0x65c5ec(0x10d)](_0x460b30=>{const _0x5b55db=_0x65c5ec;!_0x4cd10c&&(_0x4cd10c=_0x460b30[_0x5b55db(0xf1)][_0x5b55db(0x1c8)](_0x18a3d9=>_0x18a3d9['coin']==_0x2a998b[_0x5b55db(0x1ed)]),_0x4cd10c&&(_0x44a000=_0x4cd10c['number'],_0x27c6ba=_0x4cd10c[_0x5b55db(0x1a6)]));});let _0x23b9a7=dbCoinResults[_0x65c5ec(0x176)](_0x65c5ec(0x232))[_0x65c5ec(0x1c8)]({'coin':_0x2a998b['coin']})[_0x65c5ec(0x158)]();_0x23b9a7={'coin':_0x2a998b[_0x65c5ec(0x1ed)],'number':_0x44a000,'breakeven':_0x27c6ba,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x65c5ec(0x176)](_0x65c5ec(0x232))[_0x65c5ec(0x1c8)]({'coin':_0x2a998b['coin']})[_0x65c5ec(0x21f)](_0x23b9a7)['write']();}}_0x14d998[_0x65c5ec(0x162)]((_0x548fe4,_0x3903cf)=>_0x548fe4[_0x65c5ec(0x1ab)]>_0x3903cf[_0x65c5ec(0x1ab)]?0x1:_0x3903cf[_0x65c5ec(0x1ab)]>_0x548fe4['datetime']?-0x1:0x0);let _0x528ca0=0x0;for(let _0x3652dd of _0x14d998){await updateCoinResults(_0x3652dd,!![]);}}catch(_0x1bbfa4){await handleError(_0x1bbfa4,'recreateCoinResults()');}}async function getAllEventOrders(_0x2a59b7){const _0x4b7c37=_0x412709;let _0x416701=[],_0xe853f4=dbLogs[_0x4b7c37(0x176)](_0x4b7c37(0xfa))[_0x4b7c37(0x1a7)](_0x409298=>{const _0x39bdf1=_0x4b7c37,_0x1076cc=_0x409298['event'][_0x39bdf1(0x224)]();return _0x1076cc[_0x39bdf1(0x186)](_0x2a59b7[_0x39bdf1(0x224)]())&&(_0x1076cc[_0x39bdf1(0x186)](_0x39bdf1(0xd3))&&_0x1076cc[_0x39bdf1(0x186)](_0x39bdf1(0xce))||_0x1076cc['includes'](_0x39bdf1(0x17b))&&_0x1076cc[_0x39bdf1(0x186)](_0x39bdf1(0xce)));})[_0x4b7c37(0x140)]('time')[_0x4b7c37(0x158)]();return _0xe853f4[_0x4b7c37(0x10d)](_0x9f6c5d=>{const _0x11a085=_0x4b7c37,_0x562d3a=_0x9f6c5d['event'][_0x11a085(0x186)]('sell')?_0x11a085(0x1b8):_0x11a085(0x1f2),_0x38a4d0=/#([0-9]|\.)+\s/i,_0x515c25=Number(_0x38a4d0['exec'](_0x9f6c5d[_0x11a085(0x194)])[0x0][_0x11a085(0x15c)](0x1)),_0x5cb559=/@([0-9]|\.)+$/i,_0x4f34ae=Number(_0x5cb559['exec'](_0x9f6c5d[_0x11a085(0x194)])[0x0][_0x11a085(0x15c)](0x1));_0x416701[_0x11a085(0x124)]({'datetime':_0x9f6c5d['time'],'coin':symbolToCoin(_0x2a59b7),'symbol':_0x2a59b7,'side':_0x562d3a,'amount':_0x515c25,'filled':_0x515c25,'price':_0x4f34ae});}),_0x416701;}async function getAllOrders(_0x183ebe,_0xaf29e2){const _0x3d895e=_0x412709;let _0x38fd67=[];while(_0xaf29e2<exchange['milliseconds']()){const _0x1fa7ff=0x1f4,_0x403cf2=await exchange[_0x3d895e(0x1a8)](_0x183ebe,_0xaf29e2,_0x1fa7ff);if(_0x403cf2[_0x3d895e(0xfd)])_0xaf29e2=_0x403cf2[_0x403cf2[_0x3d895e(0xfd)]-0x1][_0x3d895e(0x181)]+0x1,_0x38fd67=_0x38fd67[_0x3d895e(0x1f8)](_0x403cf2);else break;}return _0x38fd67;}async function validate24hChanges(){const _0xc9207f=_0x412709;for(const _0x19a788 of currentCoins){if(_0x19a788[_0xc9207f(0x1ed)]!=config['basecoin']){let _0x5df567;_0x19a788[_0xc9207f(0x240)]?_0x5df567=formatResult((0x1/(global[_0xc9207f(0x177)][noslash(_0x19a788[_0xc9207f(0xdb)])]/0x64+0x1)-0x1)*0x64,0x3):_0x5df567=global[_0xc9207f(0x177)][noslash(_0x19a788['symbol'])],_0x5df567<config[_0xc9207f(0x130)]&&(logHistory('error',_0x19a788['coin']+_0xc9207f(0x197)+_0x5df567+'%'),logHistory(_0xc9207f(0x1a3),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0xc9207f(0x1a3),_0xc9207f(0x135)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x54911c,_0x2dfbed){const _0x39291e=_0x412709;if(!_0x54911c)return!![];const _0x356166=_0x2dfbed[_0x39291e(0x102)]('.'),_0x1d08f9=_0x54911c[_0x39291e(0x102)]('.');for(var _0x580443=0x0;_0x580443<_0x1d08f9[_0x39291e(0xfd)];_0x580443++){const _0x285df8=~~_0x1d08f9[_0x580443],_0x542e9c=~~_0x356166[_0x580443];if(_0x285df8<_0x542e9c)return!![];if(_0x285df8>_0x542e9c)return![];}return![];}async function oneTimeMigration(){const _0x364db7=_0x412709;let _0x187194=dbLogs[_0x364db7(0x176)](_0x364db7(0x17a))['value']();if(isOlderVersion(_0x187194,_0x364db7(0x1bb))){let _0xd3c087=[];const _0x3eed0e=dbLogs['get'](_0x364db7(0xfa))['value']();_0x3eed0e[_0x364db7(0x10d)](_0x5c728f=>{const _0x473584=_0x364db7;_0xd3c087['push']({'time':_0x5c728f[_0x473584(0xd4)],'type':_0x5c728f[_0x473584(0xd1)],'event':_0x5c728f[_0x473584(0x194)]});}),dbLogs[_0x364db7(0x176)]('logs')['assign'](_0xd3c087)[_0x364db7(0x122)]();}let _0x55c701=dbConfig[_0x364db7(0x176)](_0x364db7(0x17a))[_0x364db7(0x158)]();if(isOlderVersion(_0x55c701,_0x364db7(0x1bb))){let _0x30eea5=dbConfig[_0x364db7(0x176)](_0x364db7(0x1c7))['find']({'botID':botID})[_0x364db7(0x158)]();if(_0x30eea5){let _0x312742=[];_0x30eea5[_0x364db7(0xdd)][_0x364db7(0x10d)](_0x346b7e=>{const _0x405df6=_0x364db7;_0x312742[_0x405df6(0x124)]({'coin':_0x346b7e[_0x405df6(0x1ed)],'number':_0x346b7e[_0x405df6(0x1d6)],'price':_0x346b7e[_0x405df6(0x146)]}),delete _0x346b7e[_0x405df6(0x1d6)],delete _0x346b7e[_0x405df6(0x146)];});if(_0x312742[_0x364db7(0xfd)]!==0x0)fs[_0x364db7(0x142)](configbackuppath+(_0x364db7(0x1ce)+botID+'.json'),JSON['stringify'](_0x312742,null,0x4),function(_0x11e7f6){if(_0x11e7f6){}});const _0x3bbc8b=(_0x2b6973,_0x343a00)=>{const _0x4cc8a0=_0x364db7;let _0x153bfd=[];_0x343a00[_0x4cc8a0(0x10d)](_0xca4820=>{const _0x25e2f9=_0x4cc8a0,_0x4f749e=_0x2b6973['find'](_0x58c8a3=>_0x58c8a3[_0x25e2f9(0x1ed)]==_0xca4820[_0x25e2f9(0x1ed)]);if(!_0x4f749e)_0x153bfd[_0x25e2f9(0x124)](_0xca4820);});let _0x17c624=[];return _0x2b6973['forEach'](_0x26858d=>{const _0x355742=_0x4cc8a0,_0x3cadf0=_0x343a00[_0x355742(0x1c8)](_0x2449a8=>_0x2449a8[_0x355742(0x1ed)]==_0x26858d[_0x355742(0x1ed)]);if(!_0x3cadf0||_0x3cadf0['number']==0x0&&_0x26858d['number']!=0x0)_0x17c624[_0x355742(0x124)](_0x26858d);}),{'missingDay1':_0x153bfd,'notInDay2':_0x17c624};},_0x340cc3=dbPerformance[_0x364db7(0x176)](_0x364db7(0x105))[_0x364db7(0xcf)]()['value']();if(_0x340cc3[_0x364db7(0xfd)]>0x1){const {missingDay1:_0x1a67b1,notInDay2:_0x486df3}=_0x3bbc8b(_0x312742,_0x340cc3[0x1][_0x364db7(0x232)]);_0x312742=[..._0x312742,..._0x1a67b1],_0x486df3[_0x364db7(0x10d)](_0x49f546=>{const _0x10a1a2=_0x364db7;let _0x48e084=_0x312742[_0x10a1a2(0xdc)](_0x4a7879=>_0x4a7879[_0x10a1a2(0x1ed)]==_0x49f546[_0x10a1a2(0x1ed)]);_0x48e084!=-0x1&&_0x312742['splice'](_0x48e084,0x1);});}_0x312742[_0x364db7(0x162)]((_0x2a394e,_0x9f60da)=>_0x2a394e[_0x364db7(0x1ed)]>_0x9f60da[_0x364db7(0x1ed)]?0x1:_0x9f60da[_0x364db7(0x1ed)]>_0x2a394e[_0x364db7(0x1ed)]?-0x1:0x0);let _0x68553d=[{'date':_0x30eea5['startdate'],'changes':_0x312742}];_0x340cc3[_0x364db7(0xfd)]>0x2&&_0x340cc3[_0x364db7(0x10d)]((_0x4953eb,_0x525d7a)=>{const _0x30e523=_0x364db7;if(_0x525d7a>0x0&&_0x525d7a<_0x340cc3['length']-0x1){const {missingDay1:_0x12bee8,notInDay2:_0xa9a3f9}=_0x3bbc8b(_0x340cc3[_0x525d7a][_0x30e523(0x232)],_0x340cc3[_0x525d7a+0x1][_0x30e523(0x232)]);_0x312742=[],(_0x12bee8[_0x30e523(0xfd)]!=0x0||_0xa9a3f9['length']!=0x0)&&(_0x12bee8['length']!=0x0&&_0x312742[_0x30e523(0x124)](..._0x12bee8),_0xa9a3f9['length']!=0x0&&(_0xa9a3f9['forEach'](_0x3b514b=>{const _0x1e9a68=_0x30e523;_0x3b514b[_0x1e9a68(0x173)]=-_0x3b514b['number'];}),_0x312742['push'](..._0xa9a3f9)),_0x312742[_0x30e523(0x162)]((_0x222ca4,_0x4ae951)=>_0x222ca4[_0x30e523(0x1ed)]>_0x4ae951[_0x30e523(0x1ed)]?0x1:_0x4ae951[_0x30e523(0x1ed)]>_0x222ca4[_0x30e523(0x1ed)]?-0x1:0x0),_0x68553d['push']({'date':_0x340cc3[_0x525d7a+0x1]['date'],'changes':_0x312742}));}}),dbConfig[_0x364db7(0x176)](_0x364db7(0x1c7))['find']({'botID':botID})['assign']({..._0x30eea5,'liquidity':_0x68553d})[_0x364db7(0x122)]();}}if(isOlderVersion(_0x55c701,_0x364db7(0x1cd))){let _0x1a79bf=dbConfig['get']('bot')['find']({'botID':botID})[_0x364db7(0x158)]();if(_0x1a79bf){const _0x3c3c87=_0x1a79bf[_0x364db7(0x1bd)],_0x4dd3ac=_0x3c3c87?capitalize(_0x3c3c87):_0x364db7(0x1b2);dbConfig[_0x364db7(0x176)]('bot')['find']({'botID':botID})[_0x364db7(0x21f)]({'exchange':_0x4dd3ac})[_0x364db7(0x122)]();}}let _0x25c8a4=dbPerformance[_0x364db7(0x176)](_0x364db7(0x17a))['value']();isOlderVersion(_0x25c8a4,_0x364db7(0x1bb))&&setStartDatePerformance();let _0x5f2bf6=dbCoinResults[_0x364db7(0x176)](_0x364db7(0x17a))['value']();if(isOlderVersion(_0x5f2bf6,_0x364db7(0x217))){let _0x48c3bb=dbCoinResults[_0x364db7(0x176)](_0x364db7(0x232))[_0x364db7(0x158)]();if(_0x48c3bb['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x317e46=_0x412709;dbConfig[_0x317e46(0x143)]('version',serverversion)[_0x317e46(0x122)](),dbPerformance['set'](_0x317e46(0x17a),serverversion)['write'](),dbLogs[_0x317e46(0x143)]('version',serverversion)[_0x317e46(0x122)](),dbCoinResults[_0x317e46(0x143)]('version',serverversion)[_0x317e46(0x122)]();}function getConfiguration(_0x27a0ff){const _0x76bde4=_0x412709;let _0x55e41a=dbConfig[_0x76bde4(0x176)]('bot')[_0x76bde4(0x1c8)]({'botID':_0x27a0ff})[_0x76bde4(0x158)]();if(_0x55e41a){let _0x2aefdb=![];typeof _0x55e41a['threshold']==_0x76bde4(0x1a1)&&(_0x55e41a={..._0x55e41a,'threshold':Number(_0x55e41a[_0x76bde4(0x195)])},_0x2aefdb=!![]),_0x55e41a[_0x76bde4(0x130)]==null&&(_0x55e41a={..._0x55e41a,'change24h':-0x14},_0x2aefdb=!![]),!_0x55e41a[_0x76bde4(0x20c)]&&(_0x55e41a={..._0x55e41a,'fiat':_0x76bde4(0xf6)},_0x2aefdb=!![]),!_0x55e41a[_0x76bde4(0xee)]&&(_0x55e41a={..._0x55e41a,'onepagemode':settings[_0x76bde4(0xee)]},_0x2aefdb=!![]),_0x2aefdb&&(_0x55e41a={'botID':_0x55e41a[_0x76bde4(0x18a)],'exchange':_0x55e41a[_0x76bde4(0x1bd)],'apiKey':_0x55e41a[_0x76bde4(0x218)],'apiSecret':_0x55e41a[_0x76bde4(0x212)],'apiPassword':_0x55e41a['apiPassword'],'basecoin':_0x55e41a[_0x76bde4(0x160)],'botname':_0x55e41a[_0x76bde4(0x121)],'showname':_0x55e41a[_0x76bde4(0x16b)],'threshold':_0x55e41a[_0x76bde4(0x195)],'ordertype':_0x55e41a[_0x76bde4(0x22c)],'timeout':_0x55e41a[_0x76bde4(0x115)],'fiat':_0x55e41a[_0x76bde4(0x20c)],'startdate':_0x55e41a[_0x76bde4(0x13e)],'recreate':_0x55e41a[_0x76bde4(0x223)],'timeshift':_0x55e41a[_0x76bde4(0x1f9)],'onepagemode':_0x55e41a[_0x76bde4(0xee)],'headless':_0x55e41a[_0x76bde4(0x152)],'cooldown':_0x55e41a[_0x76bde4(0x155)],'change24h':_0x55e41a[_0x76bde4(0x130)],'emojibuy':_0x55e41a['emojibuy'],'emojisell':_0x55e41a[_0x76bde4(0x17e)],'portfolio':_0x55e41a[_0x76bde4(0xdd)],'liquidity':_0x55e41a[_0x76bde4(0x151)],'openOrders':_0x55e41a[_0x76bde4(0x1cb)]},dbConfig[_0x76bde4(0x176)](_0x76bde4(0x1c7))[_0x76bde4(0xe5)]()[_0x76bde4(0x122)](),dbConfig['get']('bot')['push'](_0x55e41a)['write']());}else _0x55e41a={'botID':_0x27a0ff,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x76bde4(0x159)+_0x27a0ff,'showname':![],'threshold':0x3,'ordertype':_0x76bde4(0xd3),'timeout':0x14,'fiat':_0x76bde4(0xf6),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x76bde4(0x1f9)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x55e41a;}function _0x1695(){const _0xa328c0=['reverse','bid','rightTxt','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20not\x20available','loadMarkets','loading-canceled','getPortfolio(1)','freeze','<b>','YOYOW/','Limit\x20(low-margin)','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','close','order','cloneDeep','args','type','progress','market','time','Order\x20filled:\x20','<b>Bot\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','cancelOrder','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','currency','symbol','findIndex','portfolio','warning','NANO/','date','initclient','max','\x20value','fetchOpenOrders','remove','net-fiat','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','splice','fees','/USD','send','Avoiding\x20continuous\x20order\x20attempts','delta','onepagemode','ongoing','BUSD','changes','netoffset','getSeconds','add','\x20|\x20','USD','4wIJowa','orderstatus','exchange\x20not\x20reloaded','logs','(((.+)+)+)+$','side','length','decrypt','Exchange','</pre>','1\x20-\x20Validate\x20orders:\x20','split','limit-high','-config.json','data','***','sha256','padStart','-results.json','************','realized','getMinutes','forEach','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','UNLOCKED','getHours','./config/','Order(s)\x20not\x20validated\x20after\x20','1618314Feopwb','20480atEBMj','timeout','unlinkSync','balancing\x20resumed','Transaction\x20detection\x20unblocked','test','BNB','uncaughtException','keys','getPortfolio(2)','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','toUpperCase','sendPortfolioTelegram','botname','write','-events.json','push','-performance.json','\x20exchange','format','customId','simple','createWriteStream','bots','replace','fetchBalance','none','kill','change24h','message','coin-loading-progress','buys','Net\x20effect','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','HOT/BTC','ORDERS.UNLOCKED','getPortfolio','join','142430lsBljp','getMonth','./logs/','\x20>\x20','startdate','createOrder','sortBy','map','writeFile','set','<pre>','success','startprice','3\x20-\x20handling\x20FILLED\x20order:\x20','Order\x20amount\x20is\x20invalid:\x20','parseISO','cancelOrders()','password','orderId','debug','shift','recovery','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','liquidity','headless','getPortfolio(0)','canceled','cooldown','cancelLoading','yyyy/MM/dd','value','Bot\x20','\x20not\x20responding','1\x20-\x20Handle\x20open\x20orders','slice','open','balances','fee','basecoin','fromCodePoint','sort','initial','\x20minutes\x20-\x20','toggleBotMode','existsSync','constructor','percentage','getDate','LOCKED','showname','Pausing\x20for\x20','status','pro','15127OOHmZi','average','round','getTime','number','storeFiat','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','get','change','excluded','limit-low','version','filled','search','\x20|\x20highest:\x20','emojisell','fetchTicker','final','timestamp','exchanges','configuration-stored','Invalid\x20quantity','emitHistory','includes','limit','indexOf','Fees\x20|\x20currency:\x20','botID','USDT','1\x20-\x20FILLED:\x20','highest','cost','135aWCRPA','InvalidNonce','apiPassword','placeOrder','added','event','threshold','breakeven','\x20has\x20a\x2024h\x20drop\x20of\x20','closed','parse','valid','Resetting\x20bot\x20history','\x20API\x20secret\x20is\x20invalid','\x20order:\x20','\x20portfolio:</b>\x20\x0a\x0a','Error\x20while\x20deleting\x20files:\x20','leftTxt','string',',\x20must\x20be\x20a\x203\x20digit\x20number','error','getCoins()','\x20>\x20[DEBUG]\x20','price','filter','fetchClosedOrders','trade','abs','datetime','mkdirSync','\x20orders\x20in\x20less\x20than\x20','2\x20-\x20FILLED\x20known\x20order:\x20','yargs/yargs','page','exchange\x20reloaded','Binance','getStartingBalances','-------------------------------\x0a','symbols','ExchangeNotAvailable','toString','sell','Reset\x20|\x20','/output-000.log','2.3.5','timer:','exchange',':\x20Bot\x20','No\x20more\x20open\x20orders\x20-\x20','secure','distribution','offset','/backup/','Crypt','deleteHistoryAlerts','running','bot','find','watchTrades','1264TEVrMz','openOrders','sells','2.6.0','starting-balance-','sendMetricsTelegram','usd','Error:\x20Invalid\x20argument\x20','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','no\x20open\x20orders','\x20hour','stringify','startnumber','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Net\x20','settings','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','function','ORDERS.UNLOCKING','restart','storeHeadless','defaults','last','log','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','amount','hybrid-crypto-js','2\x20-\x20Handled\x20open\x20orders','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','MIN_NOTIONAL','watchTransactions','has','1\x20-\x20Unlock\x20orders','DDoSProtection','\x20change','coin','getCoinNumber()','AuthenticationError','performance','differenceInSeconds','buy','UNLOCKING','privateKey','bb-settings.json','target','Unknown\x20error\x20occured','concat','timeshift','starting-balances','\x20:\x20','RequestTimeout','ccxt','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','ETH','clientOrderId','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Manual\x20balancing\x20required','balancing\x20resumes\x20when\x20cooldown\x20ends','cancel','emojibuy','BTC','1246515Kdnhjy','min','yyyy-MM-dd\x27T\x27HH:mm:ss','Fee\x20discount\x20refund\x20detected:\x20','random','fiat','recent20','argv','bot-','ticker','17035QLmRal','apiSecret','limits','\x20-\x20bot\x20not\x20started','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','fetchTickers','2.5.0','apiKey','2\x20-\x20Orders\x20unlocked','watchOrders','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','toFixed','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','API-key\x20format\x20invalid','assign','getFullYear','Unfilled\x20order(s)\x20canceled\x20after\x20','no\x20additional\x20symbols','recreate','toLowerCase','removed','Invalid\x20API\x20key\x20or\x20secret\x20entered','OrderNotFound','total','path','841215zkVuay','InsufficientFunds','ordertype','net-basecoin','resetHistory','event-history','\x20|\x20Error\x20details:\x20','EUR','coins','/EUR','Transaction\x20detection\x20blocked','remainingSymbols','util','BNB/','storeConfiguration','eur','configuration','full','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','date-fns','ask','%\x20('];_0x1695=function(){return _0xa328c0;};return _0x1695();}function emittedConfiguration(){const _0x10c71b=_0x412709;let _0x31b7e9;if(config[_0x10c71b(0x218)]=='')_0x31b7e9={...config,'configstate':_0x10c71b(0x163)};else config[_0x10c71b(0x218)]==_0x10c71b(0x106)?_0x31b7e9={...config,'configstate':_0x10c71b(0x14f)}:(_0x31b7e9={...config,'apiKey':'************','apiSecret':_0x10c71b(0x10a)},config[_0x10c71b(0x191)]&&(_0x31b7e9[_0x10c71b(0x191)]=_0x10c71b(0x10a)));return _0x31b7e9;}function getSettings(){const _0x3abb27=_0x412709;return dbSettings[_0x3abb27(0x176)](_0x3abb27(0x1d9))[_0x3abb27(0x158)]();}function getSecure(){const _0x45aa89=_0x412709;return dbSecure[_0x45aa89(0x176)](_0x45aa89(0x1c0))['value']()||{};}function updateTimeshift(_0x22c934){const _0x248c58=_0x412709;let _0x40e94f=dbConfig[_0x248c58(0x176)](_0x248c58(0x1c7))[_0x248c58(0x1c8)]({'botID':botID})[_0x248c58(0x158)]();_0x40e94f&&dbConfig[_0x248c58(0x176)](_0x248c58(0x1c7))[_0x248c58(0x1c8)]({'botID':botID})['assign']({'timeshift':_0x22c934})['write'](),config['timeshift']=_0x22c934,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x35f15a){const _0x1c262a=_0x412709;let _0x51940c=dbConfig[_0x1c262a(0x176)](_0x1c262a(0x1c7))[_0x1c262a(0x1c8)]({'botID':botID})['value']();_0x51940c&&dbConfig['get'](_0x1c262a(0x1c7))['find']({'botID':botID})['assign']({'onepagemode':_0x35f15a})[_0x1c262a(0x122)](),config['onepagemode']=_0x35f15a,proxyEmit(_0x1c262a(0x23a),emittedConfiguration());}async function storeConfiguration(_0x4d13ad){const _0x930237=_0x412709;logger[_0x930237(0x14d)]('Saving\x20configuration'),blockTransactionDetection=!![],logger[_0x930237(0x14d)](_0x930237(0x234));let _0x5bb106=[],_0x2366bd=![],_0x69cd5d=[];_0x4d13ad[_0x930237(0xdd)]['forEach'](_0x441652=>{const _0x45856a=_0x930237;if(!_0x441652['excluded']&&_0x441652['coin']!=_0x4d13ad['basecoin'])_0x69cd5d[_0x45856a(0x124)](_0x441652['symbol']);}),_0x69cd5d['forEach'](_0x27f4e=>{const _0x2a6995=_0x930237,_0x1d5d48=watchedSymbols[_0x2a6995(0x186)](_0x27f4e);!_0x1d5d48&&_0x5bb106[_0x2a6995(0x124)](_0x27f4e);});_0x5bb106[_0x930237(0xfd)]>0x0?_0x2366bd=!![]:currentCoins['forEach'](_0x4699ce=>{const _0x4da7ab=_0x930237;if(_0x4699ce[_0x4da7ab(0x1ed)]!=config[_0x4da7ab(0x160)]){const _0x555520=_0x69cd5d[_0x4da7ab(0x1c8)](_0x3ecbb7=>_0x3ecbb7==_0x4699ce[_0x4da7ab(0xdb)]);!_0x555520&&(_0x2366bd=!![]);}});let _0x5471a7=dbConfig[_0x930237(0x176)](_0x930237(0x1c7))['find']({'botID':botID})[_0x930237(0x158)]();_0x4d13ad={..._0x4d13ad,'apiKey':crypt[_0x930237(0xfe)](secure[_0x930237(0x1f4)],_0x4d13ad[_0x930237(0x218)])[_0x930237(0x131)],'apiSecret':crypt[_0x930237(0xfe)](secure[_0x930237(0x1f4)],_0x4d13ad['apiSecret'])['message']};_0x4d13ad[_0x930237(0x191)]&&(_0x4d13ad[_0x930237(0x191)]=crypt[_0x930237(0xfe)](secure[_0x930237(0x1f4)],_0x4d13ad[_0x930237(0x191)])[_0x930237(0x131)]);let _0xacec15=![];_0x5471a7?(_0x4d13ad[_0x930237(0x218)]=='************'?_0x4d13ad[_0x930237(0x218)]=config[_0x930237(0x218)]:_0xacec15=!![],_0x4d13ad[_0x930237(0x212)]==_0x930237(0x10a)?_0x4d13ad[_0x930237(0x212)]=config['apiSecret']:_0xacec15=!![],_0x4d13ad['apiPassword']=='************'?_0x4d13ad[_0x930237(0x191)]=config[_0x930237(0x191)]:_0xacec15=!![],dbConfig['get'](_0x930237(0x1c7))[_0x930237(0x1c8)]({'botID':botID})[_0x930237(0x21f)](_0x4d13ad)[_0x930237(0x122)]()):(dbConfig['get']('bot')[_0x930237(0x124)](_0x4d13ad)[_0x930237(0x122)](),_0xacec15=!![],process[_0x930237(0xeb)]({'status':'enabled','live':_0x930237(0x1c6)},_0x3c0a0c=>{}));config={..._0x4d13ad},setStartDatePerformance(),process['send']({'botname':_0x4d13ad['botname']},_0x339c3d=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x930237(0x183)),await initCoinResults();if(_0xacec15)await reset(_0x5bb106,!![]);else{if(_0x2366bd)await reset(_0x5bb106,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x930237(0x14d)](_0x930237(0x118));}async function storeHeadless(_0x5aebc2){const _0x106621=_0x412709,_0x15a213={...config,'headless':_0x5aebc2[_0x106621(0x152)]};let _0x3cc442=dbConfig['get']('bot')[_0x106621(0x1c8)]({'botID':botID})[_0x106621(0x158)]();_0x3cc442&&dbConfig['get'](_0x106621(0x1c7))[_0x106621(0x1c8)]({'botID':botID})[_0x106621(0x21f)](_0x15a213)[_0x106621(0x122)](),config={..._0x15a213},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x3657cd){const _0x2d9a24=_0x412709,_0x53bddc={...config,'fiat':_0x3657cd};let _0x78368a=dbConfig[_0x2d9a24(0x176)]('bot')[_0x2d9a24(0x1c8)]({'botID':botID})[_0x2d9a24(0x158)]();_0x78368a&&dbConfig[_0x2d9a24(0x176)](_0x2d9a24(0x1c7))[_0x2d9a24(0x1c8)]({'botID':botID})['assign'](_0x53bddc)[_0x2d9a24(0x122)](),config={..._0x53bddc},proxyEmit(_0x2d9a24(0x23a),emittedConfiguration());}function resetHistory(){const _0x409afa=_0x412709;logger[_0x409afa(0x23b)](_0x409afa(0x19b));try{if(fs['existsSync'](path[_0x409afa(0x139)](configpath,'bot-'+botID+_0x409afa(0x123))))fs[_0x409afa(0x116)](path[_0x409afa(0x139)](configpath,'bot-'+botID+'-events.json'));if(fs['existsSync'](path[_0x409afa(0x139)](configpath,_0x409afa(0x20f)+botID+_0x409afa(0x125))))fs['unlinkSync'](path[_0x409afa(0x139)](configpath,_0x409afa(0x20f)+botID+_0x409afa(0x125)));if(fs['existsSync'](path[_0x409afa(0x139)](configpath,_0x409afa(0x20f)+botID+_0x409afa(0x109))))fs[_0x409afa(0x116)](path[_0x409afa(0x139)](configpath,'bot-'+botID+_0x409afa(0x109)));}catch(_0x1ca236){if(_0x1ca236)logger[_0x409afa(0x23b)](_0x409afa(0x19f),_0x1ca236);}const _0x55405b=getDate();let _0x4e029c=[];currentCoins[_0x409afa(0x10d)](_0x14963f=>{const _0x390870=_0x409afa;_0x4e029c['push']({'coin':_0x14963f['coin'],'number':_0x14963f[_0x390870(0x173)],'price':_0x14963f[_0x390870(0x1e0)]});});let _0x45e0bf=dbConfig['get'](_0x409afa(0x1c7))[_0x409afa(0x1c8)]({'botID':botID})[_0x409afa(0x158)]();_0x45e0bf&&(dbConfig[_0x409afa(0x176)]('bot')[_0x409afa(0x1c8)]({'botID':botID})['assign']({'liquidity':[{'date':_0x55405b,'changes':_0x4e029c}]})[_0x409afa(0x122)](),config['liquidity']=[]),process[_0x409afa(0xeb)]({'stop':'restart'},_0x4946de=>{});}function noslash(_0x197501){const _0x244748=_0x412709;return _0x197501[_0x244748(0x12c)]('/','');}function updateHighestFee(_0x464278,_0x1f348b){const _0x4484c6=_0x412709;lastFees[_0x4484c6(0xda)]=_0x464278,lastFees['recent20'][_0x4484c6(0xfd)]===0x14&&lastFees[_0x4484c6(0x20d)][_0x4484c6(0x14e)](),lastFees[_0x4484c6(0x20d)][_0x4484c6(0x124)](_0x1f348b),lastFees[_0x4484c6(0x18d)]=Math[_0x4484c6(0xe2)](...lastFees[_0x4484c6(0x20d)]);}async function updateNumberCoinsCcxt(_0x2b6e5d){const _0x36fb2a=_0x412709;logger['debug']('0\x20-\x20EXECUTION:\x20'+_0x2b6e5d[_0x36fb2a(0xdb)]+_0x36fb2a(0xf5)+_0x2b6e5d[_0x36fb2a(0x16d)]+_0x36fb2a(0xf5)+_0x2b6e5d['id']+'\x20|\x20'+_0x2b6e5d[_0x36fb2a(0x200)]);let _0x4425a7=_0x2b6e5d[_0x36fb2a(0x16d)],_0x369ced=![];currentCoins[_0x36fb2a(0x10d)](_0x974791=>{const _0x41ae87=_0x36fb2a;_0x974791[_0x41ae87(0xdb)]==_0x2b6e5d[_0x41ae87(0xdb)]&&(_0x369ced=!![]);});if(!_0x369ced)return;const _0x492cfa=currentCoins['find'](_0x334bed=>_0x334bed[_0x36fb2a(0xdb)]==_0x2b6e5d['symbol']),_0x1c2eee=_0x51558b=>{const _0x2b7d1f=_0x36fb2a;if(_0x492cfa)_0x492cfa[_0x2b7d1f(0xf8)]=_0x51558b;};if(_0x4425a7==_0x36fb2a(0x15d))_0x1c2eee(_0x36fb2a(0x15d));else{if(_0x4425a7=='canceled'){_0x1c2eee(_0x36fb2a(0x154));const _0x16fb1f=await getCoins();[currentCoins,currentCoinsAll]=_0x16fb1f,await getOpenOrders(),handleOpenOrders();}else{if(_0x4425a7==_0x36fb2a(0x198)){logger[_0x36fb2a(0x14d)](_0x36fb2a(0x18c)+_0x2b6e5d['symbol']+_0x36fb2a(0xf5)+_0x2b6e5d[_0x36fb2a(0x17b)]+'\x20|\x20'+_0x2b6e5d['id']+_0x36fb2a(0xf5)+_0x2b6e5d[_0x36fb2a(0x200)]);let _0x50c5d0=![];if(lastOrders)lastOrders[_0x36fb2a(0x10d)](async _0x580ed2=>{const _0x2f3cc8=_0x36fb2a;if(_0x580ed2[_0x2f3cc8(0x128)]==_0x2b6e5d['clientOrderId']){logger[_0x2f3cc8(0x14d)](_0x2f3cc8(0x1ae)+_0x2b6e5d[_0x2f3cc8(0x200)]),_0x50c5d0=!![];if(_0x580ed2[_0x2f3cc8(0x17b)]==0x0){logger['debug'](_0x2f3cc8(0x147)+_0x2b6e5d[_0x2f3cc8(0x200)]),_0x580ed2[_0x2f3cc8(0x1a6)]=_0x2b6e5d[_0x2f3cc8(0x170)],_0x580ed2['filled']=_0x2b6e5d[_0x2f3cc8(0x17b)],_0x580ed2['fee']={'currency':_0x2b6e5d['fee']?_0x2b6e5d[_0x2f3cc8(0x15f)]['currency']:null,'cost':_0x2b6e5d[_0x2f3cc8(0x15f)]?_0x2b6e5d[_0x2f3cc8(0x15f)][_0x2f3cc8(0x18e)]:0x0},updateHighestFee(_0x580ed2[_0x2f3cc8(0x15f)][_0x2f3cc8(0xda)],_0x580ed2[_0x2f3cc8(0x15f)][_0x2f3cc8(0x18e)]),_0x1c2eee(_0x2f3cc8(0x17b)),await validateOrders();if(lockOrders==ORDERS[_0x2f3cc8(0x16a)]){const _0x27ae57=await getCoins();[currentCoins,currentCoinsAll]=_0x27ae57;}await updateCoinResults(_0x580ed2);}}});if(!_0x50c5d0){logger[_0x36fb2a(0x14d)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x2b6e5d['id']),_0x1c2eee(_0x36fb2a(0x17b));const _0x4c8811=await getCoins();[currentCoins,currentCoinsAll]=_0x4c8811,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x548bc7=JSON[_0x36fb2a(0x199)](lastBalances[_0x36fb2a(0xdd)]);const _0x35d6e8=_0x548bc7[_0x36fb2a(0x1c8)](_0x41c613=>_0x41c613['symbol']==_0x2b6e5d[_0x36fb2a(0xdb)]);if(_0x35d6e8){if(_0x4425a7=='open')_0x35d6e8[_0x36fb2a(0xf8)]=_0x35d6e8[_0x36fb2a(0xf8)]=='filled'?'filled':'open';else{if(_0x4425a7=='canceled')_0x35d6e8[_0x36fb2a(0xf8)]=_0x35d6e8['orderstatus']==_0x36fb2a(0x17b)?_0x36fb2a(0x17b):_0x36fb2a(0x154);else _0x4425a7==_0x36fb2a(0x198)&&(_0x35d6e8['orderstatus']=_0x36fb2a(0x17b));}}lastBalances={...lastBalances,'portfolio':JSON[_0x36fb2a(0x1d5)](_0x548bc7)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x27da35=_0x412709;await getOpenOrders();let _0x51c31d=![];currentCoins[_0x27da35(0x10d)](_0x30c3cd=>{const _0x5250f9=_0x27da35;_0x51c31d=allOpenOrders[_0x5250f9(0x1c8)](_0x57b6f1=>_0x57b6f1[_0x5250f9(0xdb)]==_0x30c3cd[_0x5250f9(0xdb)]),_0x30c3cd[_0x5250f9(0xf8)]=_0x51c31d?_0x5250f9(0x15d):_0x5250f9(0x12e);});}async function getCoins(_0x3f663a=!![],_0x411ed2=config['basecoin']){const _0x3b6f65=_0x412709;let _0x28e340,_0x122feb=[],_0x234475=[],_0x43b0a3=[],_0x85186a=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x28e340=await exchange[_0x3b6f65(0x12d)](),mybalances=_0x28e340[_0x3b6f65(0x228)];for(const [_0x4d4b2a,_0x466ed8]of Object['entries'](mybalances)){_0x85186a[_0x3b6f65(0x124)](_0x4d4b2a);}if(_0x411ed2=='')for(const [_0x382d9f,_0x5a20bd]of Object['entries'](mybalances)){_0x5a20bd[_0x3b6f65(0x1b7)]()!=0x0&&_0x234475[_0x3b6f65(0x124)]({'coin':_0x382d9f});}else{let _0x55e04c=![];for(const [_0x3ab7fc,_0x1d650e]of Object['entries'](mybalances)){if(_0x85186a[_0x3b6f65(0x186)](_0x3ab7fc)){const _0x5a03fa=config[_0x3b6f65(0xdd)][_0x3b6f65(0x1c8)](_0x208d9b=>_0x208d9b[_0x3b6f65(0x1ed)]==_0x3ab7fc),_0x5c21dd=_0x3ab7fc+'/'+_0x411ed2,_0x21b67e=_0x411ed2+'/'+_0x3ab7fc,_0x8b7816=currentCoins[_0x3b6f65(0x1c8)](_0xa248d8=>_0xa248d8[_0x3b6f65(0x1ed)]==_0x3ab7fc);_0x55e04c=![];if((_0x1d650e[_0x3b6f65(0x1b7)]()!=0x0||_0x5a03fa)&&(allSymbols[_0x3b6f65(0x186)](_0x5c21dd)||_0x3ab7fc==_0x411ed2))_0x3ab7fc!=_0x411ed2&&_0x122feb['push'](_0x5c21dd),_0x234475[_0x3b6f65(0x124)]({'coin':_0x3ab7fc,'symbol':_0x5c21dd,'reverse':![],'number':Math['max'](_0x1d650e+(_0x5a03fa&&_0x5a03fa[_0x3b6f65(0x1c2)]||0x0),0x0),'orderstatus':_0x8b7816?_0x8b7816['orderstatus']:_0x3b6f65(0x12e)});else(_0x1d650e[_0x3b6f65(0x1b7)]()!=0x0||_0x5a03fa)&&allSymbols[_0x3b6f65(0x186)](_0x21b67e)&&(_0x3ab7fc!=_0x411ed2&&_0x122feb[_0x3b6f65(0x124)](_0x21b67e),_0x234475[_0x3b6f65(0x124)]({'coin':_0x3ab7fc,'symbol':_0x21b67e,'reverse':!![],'number':Math['max'](_0x1d650e+(_0x5a03fa&&_0x5a03fa['offset']||0x0),0x0),'orderstatus':_0x8b7816?_0x8b7816[_0x3b6f65(0xf8)]:_0x3b6f65(0x12e)}));}}}}catch(_0x2f968e){if(!_0x3f663a)handleErrorNoStop(_0x2f968e,_0x3b6f65(0x1a4));else await handleError(_0x2f968e,_0x3b6f65(0x1a4));}return _0x43b0a3=cloneDeep(_0x234475),_0x234475=_0x234475['filter'](_0x2891fe=>{const _0x41412d=_0x3b6f65,_0x19d592=config[_0x41412d(0xdd)][_0x41412d(0x1c8)](_0x4a1075=>_0x4a1075['coin']==_0x2891fe['coin']);return _0x19d592&&!_0x19d592[_0x41412d(0x178)];}),[_0x234475,_0x43b0a3];}async function getCoinNumber(_0x3a7466){const _0x3049ec=_0x412709;let _0x30cf83;try{const _0x1319db=await exchange['fetchBalance']();_0x30cf83=_0x1319db['total'][_0x3a7466];}catch(_0x19920b){await handleError(_0x19920b,_0x3049ec(0x1ee));}return _0x30cf83;}async function getOpenOrders(){const _0x4f27bb=_0x412709;let _0x420cd3;allOpenOrders=[];try{for(const _0x17aea6 of config[_0x4f27bb(0xdd)]){!_0x17aea6[_0x4f27bb(0x178)]&&_0x17aea6[_0x4f27bb(0x1ed)]!=config[_0x4f27bb(0x160)]&&(_0x420cd3=await exchange[_0x4f27bb(0xe4)](_0x17aea6['symbol']),_0x420cd3['length']>0x0&&allOpenOrders[_0x4f27bb(0x124)](_0x420cd3[0x0]));}}catch(_0x381285){await handleError(_0x381285,'getOpenOrders()');}}async function handleOpenOrders(_0xdfd3e3=0x0){const _0x32ee1c=_0x412709;allOpenOrders[_0x32ee1c(0xfd)]==0x0&&lockOrders==ORDERS[_0x32ee1c(0x16a)]&&allOrdersPlaced&&(_0xdfd3e3==0x0?(logger[_0x32ee1c(0x14d)](_0x32ee1c(0x15b)),_0xdfd3e3++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x32ee1c(0x1e5)),validateOrders(_0x32ee1c(0x1d3))));}async function testAPI(_0x3be6a){const _0x47e9fb=_0x412709,_0x13edaf=ccxt[_0x3be6a[_0x47e9fb(0x1bd)]['toLowerCase']()],_0x26d430=new _0x13edaf({'apiKey':_0x3be6a[_0x47e9fb(0x218)],'secret':_0x3be6a[_0x47e9fb(0x212)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x3be6a['apiPassword'])_0x26d430['password']=_0x3be6a['apiPassword'];try{await _0x26d430[_0x47e9fb(0xc5)]();}catch(_0x4b6c99){throw _0x4b6c99;}}function cloneDeep(_0x194657){return JSON['parse'](JSON['stringify'](_0x194657));}async function getPortfolio(_0x5f6690){const _0x6f0e04=_0x412709;let _0x536099=[],_0x1ca6d0=[],_0x17bc80=[],_0x2be1d7;if(_0x5f6690[_0x6f0e04(0x218)]!==_0x6f0e04(0x10a)||_0x5f6690['apiSecret']!==_0x6f0e04(0x10a)||_0x5f6690[_0x6f0e04(0x191)]&&_0x5f6690[_0x6f0e04(0x191)]!==_0x6f0e04(0x10a)){if(config[_0x6f0e04(0x1bd)]){if(_0x5f6690['apiKey']==_0x6f0e04(0x10a))_0x5f6690[_0x6f0e04(0x218)]=config[_0x6f0e04(0x218)];if(_0x5f6690[_0x6f0e04(0x212)]==_0x6f0e04(0x10a))_0x5f6690[_0x6f0e04(0x212)]=config[_0x6f0e04(0x212)];if(_0x5f6690[_0x6f0e04(0x191)]=='************')_0x5f6690[_0x6f0e04(0x191)]=config[_0x6f0e04(0x191)];try{await testAPI(_0x5f6690);}catch(_0x4c94b7){if(_0x4c94b7[_0x6f0e04(0x1b7)]()[_0x6f0e04(0x186)](_0x6f0e04(0x1ef))){logger[_0x6f0e04(0x14d)](_0x6f0e04(0x226)),proxyEmit(_0x6f0e04(0xdd),![]);return;}else{handleError(_0x4c94b7,_0x6f0e04(0x153));return;}}}await initExchange(_0x5f6690[_0x6f0e04(0x1bd)],_0x5f6690[_0x6f0e04(0x218)],_0x5f6690[_0x6f0e04(0x212)],_0x5f6690[_0x6f0e04(0x191)]);try{await loadSymbols(_0x5f6690['exchange'],!![]);}catch(_0x24e5d9){if(_0x24e5d9[_0x6f0e04(0x1b7)]()[_0x6f0e04(0x186)](_0x6f0e04(0x1ef))){proxyEmit(_0x6f0e04(0xdd),![]);return;}else{handleError(_0x24e5d9,_0x6f0e04(0xc7));return;}}const _0x27fa1c=await getCoins(![],_0x5f6690['basecoin']);_0x17bc80=cloneDeep(_0x27fa1c[0x1]);}else _0x17bc80=cloneDeep(currentCoinsAll);if(_0x5f6690[_0x6f0e04(0x160)]=='')proxyEmit(_0x6f0e04(0xdd),_0x17bc80);else{_0x17bc80[_0x6f0e04(0x10d)](_0x3fd6e2=>{const _0x2d6172=_0x6f0e04;if(_0x3fd6e2[_0x2d6172(0x1ed)]!=_0x5f6690[_0x2d6172(0x160)])_0x536099[_0x2d6172(0x124)](_0x3fd6e2[_0x2d6172(0xdb)]);});try{_0x1ca6d0=await exchange[_0x6f0e04(0x216)](_0x536099);}catch(_0x1ab601){if(_0x1ab601['toString']()['includes']('AuthenticationError')){proxyEmit(_0x6f0e04(0xdd),![]);return;}else{handleError(_0x1ab601,_0x6f0e04(0x11d));return;}}_0x17bc80[_0x6f0e04(0x10d)](_0x4889f4=>{const _0x4f580d=_0x6f0e04;_0x4889f4[_0x4f580d(0x1ed)]!=_0x5f6690[_0x4f580d(0x160)]?_0x2be1d7=_0x4889f4[_0x4f580d(0x240)]?0x1/_0x1ca6d0[_0x4889f4['symbol']]['last']:_0x1ca6d0[_0x4889f4[_0x4f580d(0xdb)]][_0x4f580d(0x1e0)]:_0x2be1d7=0x1,_0x4889f4[_0x4f580d(0x1a6)]=formatResult(_0x2be1d7,0x8);}),proxyEmit(_0x6f0e04(0xdd),_0x17bc80);}}function checkMinimums(_0x456659){const _0x227599=_0x412709;let _0x2c98d3=!![];const _0x1679d9=!_0x456659['reverse']?markets[_0x456659[_0x227599(0xdb)]][_0x227599(0x213)][_0x227599(0x1e3)][_0x227599(0x208)]:markets[_0x456659[_0x227599(0xdb)]]['limits'][_0x227599(0x18e)][_0x227599(0x208)],_0xfa12c4=!_0x456659[_0x227599(0x240)]?markets[_0x456659[_0x227599(0xdb)]]['limits'][_0x227599(0x18e)]['min']:markets[_0x456659['symbol']][_0x227599(0x213)][_0x227599(0x1e3)][_0x227599(0x208)],_0xcfae1f=markets[_0x456659[_0x227599(0xdb)]]['precision'][_0x227599(0x1e3)];_0x456659[_0x227599(0x1a9)]=formatResultTruncate(_0x456659[_0x227599(0x1a9)],_0xcfae1f);if(Math[_0x227599(0x1aa)](_0x456659[_0x227599(0x1a9)])<_0x1679d9)_0x2c98d3=![];if(Math[_0x227599(0x1aa)](_0x456659[_0x227599(0x1a9)])*_0x456659['last']<_0xfa12c4)_0x2c98d3=![];if(_0x456659['side']=='sell'){let _0x4d3a4b=config['portfolio'][_0x227599(0x1c8)](_0xab8bc=>_0xab8bc['coin']==_0x456659[_0x227599(0x1ed)]);if(_0x4d3a4b[_0x227599(0x1c2)]>0x0){if(Math['abs'](_0x456659[_0x227599(0x1a9)])>_0x456659[_0x227599(0x173)]-_0x4d3a4b[_0x227599(0x1c2)])_0x2c98d3=![];}else{if(Math[_0x227599(0x1aa)](_0x456659[_0x227599(0x1a9)])>_0x456659[_0x227599(0x173)])_0x2c98d3=![];}}if(_0x456659[_0x227599(0xfc)]==_0x227599(0x1f2)){let _0x360bba=config[_0x227599(0xdd)][_0x227599(0x1c8)](_0x43f6d3=>_0x43f6d3[_0x227599(0x1ed)]==config['basecoin']),_0x37ddd2=currentCoins[_0x227599(0x1c8)](_0x3712a8=>_0x3712a8[_0x227599(0x1ed)]==config[_0x227599(0x160)]);if(_0x360bba['offset']>0x0){if(Math['abs'](_0x456659['trade'])*_0x456659[_0x227599(0x1e0)]>_0x37ddd2[_0x227599(0x173)]-_0x360bba['offset'])_0x2c98d3=![];}else{if(Math[_0x227599(0x1aa)](_0x456659[_0x227599(0x1a9)])*_0x456659[_0x227599(0x1e0)]>_0x37ddd2[_0x227599(0x173)])_0x2c98d3=![];}}return _0x2c98d3;}async function getBalances(){const _0x1ef2c4=_0x412709;let _0x3a05d8=0x0,_0x14148a;const _0x2b5177=config[_0x1ef2c4(0x195)];if(config[_0x1ef2c4(0x152)]&&config[_0x1ef2c4(0x130)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x5f4a67=>{const _0x388c73=_0x1ef2c4;if(_0x5f4a67[_0x388c73(0x1ed)]!=config['basecoin']){let _0xc1aaa6=global[_0x388c73(0x210)][noslash(_0x5f4a67[_0x388c73(0xdb)])];_0x14148a=_0x5f4a67[_0x388c73(0x240)]?0x1/_0xc1aaa6:_0xc1aaa6;}else _0x14148a=0x1;let _0xc03b04=_0x5f4a67[_0x388c73(0x173)]*_0x14148a;_0x3a05d8+=_0xc03b04,_0x5f4a67['last']=formatResult(Number(_0x14148a),0x8),_0x5f4a67[_0x388c73(0x158)]=_0xc03b04;}),currentCoins['forEach'](_0x325e8f=>{const _0x2434c3=_0x1ef2c4;let _0x19e8a9=config[_0x2434c3(0xdd)][_0x2434c3(0x1c8)](_0x319b2a=>_0x319b2a[_0x2434c3(0x1ed)]==_0x325e8f[_0x2434c3(0x1ed)]),_0x2371df=Number(_0x19e8a9[_0x2434c3(0x1c1)]),_0x414c31=_0x325e8f[_0x2434c3(0x158)]/_0x3a05d8*0x64,_0x19ad4d=_0x2371df*_0x3a05d8/0x64/_0x325e8f[_0x2434c3(0x1e0)]-_0x325e8f['number'];_0x325e8f[_0x2434c3(0x1c1)]=formatResult(_0x414c31,0x3),_0x325e8f['target']=formatResult(_0x2371df,0x3),_0x325e8f['trade']=formatResult(_0x19ad4d,0x8),_0x325e8f[_0x2434c3(0xfc)]='',_0x325e8f['valid']=![];if(_0x325e8f[_0x2434c3(0x1ed)]!=config[_0x2434c3(0x160)]){if(_0x325e8f[_0x2434c3(0x1c1)]>_0x2371df)_0x325e8f[_0x2434c3(0xfc)]=_0x2434c3(0x1b8),_0x325e8f[_0x2434c3(0x19a)]=checkMinimums(_0x325e8f);else _0x325e8f['distribution']<_0x2371df&&(_0x325e8f['side']=_0x2434c3(0x1f2),_0x325e8f[_0x2434c3(0x19a)]=checkMinimums(_0x325e8f));}_0x325e8f[_0x2434c3(0xed)]=_0x325e8f[_0x2434c3(0x1c1)]/_0x325e8f[_0x2434c3(0x1f6)]-0x1;if(_0x325e8f[_0x2434c3(0xf8)]==_0x2434c3(0x17b)||_0x325e8f[_0x2434c3(0xf8)]==_0x2434c3(0x154))_0x325e8f['orderstatus']='none';}),currentCoins[_0x1ef2c4(0x162)]((_0x131eb2,_0x5377fd)=>_0x131eb2[_0x1ef2c4(0xed)]<_0x5377fd[_0x1ef2c4(0xed)]?0x1:_0x5377fd[_0x1ef2c4(0xed)]<_0x131eb2['delta']?-0x1:0x0);const _0x27c89f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x27c89f[_0x1ef2c4(0x239)],'usd':_0x27c89f[_0x1ef2c4(0x1d0)],'portfolio':JSON[_0x1ef2c4(0x1d5)](currentCoins),'threshold':_0x2b5177},proxyEmit(_0x1ef2c4(0x15e),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x2b5177});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2b5177});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x500aa9=getNormalizedPerformance();getStartingBalances(_0x500aa9),emitPerformance(_0x500aa9);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x45d32c=getNormalizedPerformance();emitPerformance(_0x45d32c),getStartingBalances(_0x45d32c),logger[_0x1ef2c4(0x14d)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x574ed1=_0x412709;if(!lastBalances)return;let _0x263f27=[],_0x32c5b4,_0x3bc204=JSON[_0x574ed1(0x199)](lastBalances[_0x574ed1(0xdd)]);_0x3bc204[_0x574ed1(0x162)]((_0x1bac3f,_0x4a6c39)=>_0x1bac3f[_0x574ed1(0x1ed)]>_0x4a6c39[_0x574ed1(0x1ed)]?0x1:_0x4a6c39[_0x574ed1(0x1ed)]>_0x1bac3f[_0x574ed1(0x1ed)]?-0x1:0x0),_0x3bc204[_0x574ed1(0x10d)](_0x313710=>{const _0x18fce5=_0x574ed1;let _0x272d9f={'coin':_0x313710[_0x18fce5(0x1ed)],'number':_0x313710[_0x18fce5(0x173)],'price':_0x313710[_0x18fce5(0x1e0)]};_0x263f27['push'](_0x272d9f);});const _0x5357fb=await getFiat();_0x32c5b4={'date':lastBalances['time'][_0x574ed1(0x102)]('\x20')[0x0],'eur':_0x5357fb[_0x574ed1(0x239)],'usd':_0x5357fb['usd'],'coins':_0x263f27};let _0x2ce55c=dbPerformance['get']('data')[_0x574ed1(0x1c8)]({'date':_0x32c5b4[_0x574ed1(0xe0)]})['value']();_0x2ce55c?_0x32c5b4[_0x574ed1(0xe0)]!=config[_0x574ed1(0x13e)]&&dbPerformance[_0x574ed1(0x176)](_0x574ed1(0x105))[_0x574ed1(0x1c8)]({'date':_0x32c5b4[_0x574ed1(0xe0)]})[_0x574ed1(0x21f)](_0x32c5b4)[_0x574ed1(0x122)]():dbPerformance[_0x574ed1(0x176)](_0x574ed1(0x105))[_0x574ed1(0x124)](_0x32c5b4)[_0x574ed1(0x122)](),lastPerformanceStored=getHour();}function _0x3cbc(_0x5f2530,_0x3042ca){const _0x3d8be9=_0x1695();return _0x3cbc=function(_0x140f13,_0x3e5b0f){_0x140f13=_0x140f13-0xc4;let _0x169568=_0x3d8be9[_0x140f13];return _0x169568;},_0x3cbc(_0x5f2530,_0x3042ca);}function getNormalizedPerformance(){const _0x3a42a8=_0x412709;let _0x3e2802=[];if(dbPerformance['has'](_0x3a42a8(0x105))[_0x3a42a8(0x158)]()){let _0x3c6c29=dbPerformance[_0x3a42a8(0x176)](_0x3a42a8(0x105))['cloneDeep']()['sortBy'](_0x3a42a8(0xe0))[_0x3a42a8(0x158)](),_0xf16742=[...config[_0x3a42a8(0x151)]];_0xf16742[_0x3a42a8(0x162)]((_0x6b4b98,_0x2474b0)=>_0x6b4b98['date']>_0x2474b0[_0x3a42a8(0xe0)]?-0x1:_0x2474b0['date']>_0x6b4b98[_0x3a42a8(0xe0)]?0x1:0x0);let _0x462429=0x1,_0x30a4fa=[],_0x28b7a2=0x0;_0x3c6c29[_0x3a42a8(0x15c)]()[_0x3a42a8(0x240)]()[_0x3a42a8(0x10d)]((_0x21cac2,_0xe3479c)=>{const _0xb42148=_0x3a42a8;if(_0xf16742[_0x28b7a2]){if(_0x3c6c29[_0x3c6c29['length']-_0xe3479c]&&_0xf16742[_0x28b7a2][_0xb42148(0xe0)]==_0x3c6c29[_0x3c6c29['length']-_0xe3479c][_0xb42148(0xe0)]){if(_0xe3479c<_0x3c6c29[_0xb42148(0xfd)]){let _0x4a6e58=0x0,_0x131c82=0x0;_0x3c6c29[_0x3c6c29[_0xb42148(0xfd)]-_0xe3479c][_0xb42148(0x232)]['forEach'](_0x500fd5=>{const _0x87cfd9=_0xb42148;_0x131c82+=_0x500fd5[_0x87cfd9(0x173)]*_0x500fd5[_0x87cfd9(0x1a6)];}),_0xf16742[_0x28b7a2]['changes'][_0xb42148(0x10d)](_0x27ea53=>{const _0x163d5f=_0xb42148;_0x4a6e58+=_0x27ea53[_0x163d5f(0x173)]*_0x27ea53[_0x163d5f(0x1a6)];}),_0x462429*=_0x4a6e58/(_0x131c82-_0x4a6e58)+0x1;}_0x28b7a2++;}}let _0x8fe082=0x0;_0x21cac2['coins'][_0xb42148(0x10d)](_0x3d50b5=>{const _0xe19ea0=_0xb42148;_0x8fe082+=_0x3d50b5[_0xe19ea0(0x173)]*_0x3d50b5[_0xe19ea0(0x1a6)];}),_0x30a4fa[_0x3c6c29[_0xb42148(0xfd)]-_0xe3479c-0x1]=_0x8fe082*(_0x462429-0x1);});let _0x3b7afd=[];_0xf16742=[...config[_0x3a42a8(0x151)]]||[];let _0x2097c3=0x0;_0x28b7a2=0x0,_0x3c6c29[_0x3a42a8(0x10d)]((_0x4d54aa,_0x187982)=>{const _0x2c00ac=_0x3a42a8;if(_0xf16742[_0x28b7a2]){const _0x708d8d=fns[_0x2c00ac(0x199)](_0xf16742[_0x28b7a2][_0x2c00ac(0xe0)],_0x2c00ac(0x157),new Date()),_0x44c5f3=fns[_0x2c00ac(0x199)](_0x4d54aa['date'],_0x2c00ac(0x157),new Date());if(fns['isEqual'](_0x708d8d,_0x44c5f3)){let _0xf0f8d=0x0;_0xf16742[_0x28b7a2]['changes']['forEach'](_0x4308fe=>{const _0x134fa1=_0x2c00ac;!_0x3b7afd[_0x4308fe[_0x134fa1(0x1ed)]]?_0x3b7afd[_0x4308fe[_0x134fa1(0x1ed)]]=_0x4308fe[_0x134fa1(0x173)]:(_0xf0f8d=_0x3b7afd[_0x4308fe['coin']],_0x3b7afd[_0x4308fe[_0x134fa1(0x1ed)]]+=_0x4308fe[_0x134fa1(0x173)]);const _0x472d97=_0x4d54aa['coins'][_0x134fa1(0x1c8)](_0x5b20af=>_0x5b20af['coin']==_0x4308fe[_0x134fa1(0x1ed)]);(!_0x472d97||_0x472d97[_0x134fa1(0x173)]==0x0)&&(_0x2097c3+=(-_0x4308fe['number']-_0xf0f8d)*_0x4308fe[_0x134fa1(0x1a6)]);}),_0x28b7a2++;}}_0x4d54aa[_0x2c00ac(0x232)][_0x2c00ac(0x10d)]((_0x42981f,_0x398e9f)=>{const _0x383aef=_0x2c00ac;_0x3b7afd[_0x42981f[_0x383aef(0x1ed)]]&&(_0x42981f[_0x383aef(0x163)]=_0x3b7afd[_0x42981f[_0x383aef(0x1ed)]]);}),_0x3e2802[_0x2c00ac(0x124)]({'date':_0x4d54aa[_0x2c00ac(0xe0)],'eur':_0x4d54aa[_0x2c00ac(0x239)],'usd':_0x4d54aa[_0x2c00ac(0x1d0)],'offset':_0x30a4fa[_0x187982],'netoffset':_0x2097c3,'coins':_0x4d54aa[_0x2c00ac(0x232)]});});}return _0x3e2802;}function emitPerformance(_0x1cd458){const _0x1d5126=_0x412709;_0x1cd458[_0x1d5126(0xfd)]!==0x0?(proxyEmit(_0x1d5126(0x1f0),_0x1cd458),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x296646,_0x42501d){const _0x41e0f1=_0x412709;let _0x4e2582=0x0,_0x14c237=0x0,_0x594486=0x0;_0x296646['coins']['forEach'](_0x5e4c20=>{const _0x5f492c=_0x3cbc;_0x4e2582+=_0x5e4c20[_0x5f492c(0x173)]*_0x5e4c20[_0x5f492c(0x1a6)];});_0x42501d&&(_0x4e2582+=_0x296646[_0x41e0f1(0x1c2)]);if(config['basecoin']===_0x41e0f1(0x206)||config[_0x41e0f1(0x160)]===_0x41e0f1(0x1ff))_0x14c237=_0x4e2582*_0x296646[_0x41e0f1(0x239)],_0x594486=_0x4e2582*_0x296646[_0x41e0f1(0x1d0)];else{if(config[_0x41e0f1(0x160)]===_0x41e0f1(0xf0)||config[_0x41e0f1(0x160)]===_0x41e0f1(0x18b)||config[_0x41e0f1(0x160)]===_0x41e0f1(0xf6))_0x14c237=_0x4e2582*_0x296646['eur']/_0x296646[_0x41e0f1(0x1d0)],_0x594486=_0x4e2582;else config[_0x41e0f1(0x160)]===_0x41e0f1(0x231)&&(_0x14c237=_0x4e2582,_0x594486=_0x4e2582*_0x296646[_0x41e0f1(0x1d0)]/_0x296646[_0x41e0f1(0x239)]);}return[_0x4e2582,_0x14c237,_0x594486];}function getKPIs(_0x456464,_0x11a847=_0x412709(0x231)){const _0x4814f7=_0x412709,_0x5d9e40=config['basecoin'],_0x2172a3=lastBalances,_0xd64057=currentCoins,_0x39ef75=getNormalizedPerformance(),_0x47e725=_0x456464==='basecoin'?_0x5d9e40:_0x456464===_0x4814f7(0x20c)||_0x456464===_0x4814f7(0xe6)?_0x11a847:_0x4814f7(0x1d8)+_0x5d9e40,_0x44007f=_0x456464===_0x4814f7(0x22d)?'Net\x20effect':_0x456464===_0x4814f7(0xe6)?_0x4814f7(0x134):_0x47e725+_0x4814f7(0xe3),_0x3ea35e=_0x456464===_0x4814f7(0x22d)||_0x456464===_0x4814f7(0xe6)?'Net\x20effect':_0x47e725+_0x4814f7(0x1ec);let _0x2270c2=0x0;_0xd64057[_0x4814f7(0x10d)](_0x511d60=>{_0x2270c2+=_0x511d60['number']*_0x511d60['last'];});if(_0x456464==='fiat'||_0x456464===_0x4814f7(0xe6)){if(_0x5d9e40===_0x4814f7(0x206)||_0x5d9e40===_0x4814f7(0x1ff))_0x2270c2=_0x2270c2*(_0x11a847===_0x4814f7(0x231)?_0x2172a3['eur']:_0x2172a3[_0x4814f7(0x1d0)]);else{if(_0x5d9e40==='BUSD'||_0x5d9e40==='USDT'||_0x5d9e40===_0x4814f7(0xf6))_0x2270c2=_0x2270c2*(_0x11a847==='EUR'?_0x2172a3[_0x4814f7(0x239)]/_0x2172a3[_0x4814f7(0x1d0)]:0x1);else _0x5d9e40==='EUR'&&(_0x2270c2=_0x2270c2*(_0x11a847===_0x4814f7(0x231)?0x1:_0x2172a3['usd']/_0x2172a3[_0x4814f7(0x239)]));}}let _0x50d297;if(_0x2270c2!==0x0){if(_0x456464===_0x4814f7(0x160))_0x50d297=(_0x2270c2/startingBalances[_0x4814f7(0x160)]-0x1)*0x64;else{if(_0x11a847===_0x4814f7(0x231))_0x50d297=(_0x2270c2/startingBalances[_0x4814f7(0x239)]-0x1)*0x64;else _0x50d297=(_0x2270c2/startingBalances[_0x4814f7(0x1d0)]-0x1)*0x64;}let _0x4d89f2=0x0;if(startingBalances[_0x4814f7(0x232)])_0xd64057[_0x4814f7(0x10d)](_0x56709e=>{const _0x402a8a=_0x4814f7;let _0x2758cc=startingBalances[_0x402a8a(0x232)][_0x402a8a(0x1c8)](_0x57a9b0=>_0x57a9b0[_0x402a8a(0x1ed)]===_0x56709e[_0x402a8a(0x1ed)]);if(_0x2758cc&&_0x2758cc[_0x402a8a(0x1ed)]&&_0x56709e[_0x402a8a(0x173)]!==0x0)_0x4d89f2+=_0x2758cc[_0x402a8a(0x173)]*_0x56709e[_0x402a8a(0x1e0)];});let _0x1c2f70=0x0;if(_0x39ef75[_0x4814f7(0xfd)]!==0x0){let _0x24e459=_0x39ef75[_0x39ef75['length']-0x1];_0x1c2f70=_0x24e459[_0x4814f7(0xf2)];}_0x4d89f2-=_0x1c2f70;_0x456464==='net-basecoin'&&(_0x50d297=(_0x2270c2-_0x4d89f2)/startingBalances[_0x4814f7(0x160)]*0x64,_0x2270c2=_0x2270c2-_0x4d89f2);if(_0x456464===_0x4814f7(0xe6)){let _0x592bf6=_0x11a847===_0x4814f7(0x231)?startingBalances['eur']:startingBalances['usd'];if(_0x5d9e40===_0x4814f7(0x206)||_0x5d9e40===_0x4814f7(0x1ff))_0x4d89f2=_0x11a847===_0x4814f7(0x231)?_0x4d89f2*_0x2172a3['eur']:_0x4d89f2*_0x2172a3[_0x4814f7(0x1d0)];else{if(_0x5d9e40===_0x4814f7(0xf0)||_0x5d9e40===_0x4814f7(0x18b)||_0x5d9e40==='USD')_0x4d89f2=_0x11a847===_0x4814f7(0x231)?_0x4d89f2*_0x2172a3[_0x4814f7(0x239)]/_0x2172a3[_0x4814f7(0x1d0)]:_0x4d89f2;else _0x5d9e40==='EUR'&&(_0x4d89f2=_0x11a847==='EUR'?_0x4d89f2:_0x4d89f2*_0x2172a3[_0x4814f7(0x1d0)]/_0x2172a3[_0x4814f7(0x239)]);}_0x50d297=(_0x2270c2-_0x4d89f2)/_0x592bf6*0x64,_0x2270c2=_0x2270c2-_0x4d89f2;}if(_0x50d297){if(_0x50d297<0x64)_0x50d297=_0x50d297['toFixed'](0x2);else{if(_0x50d297<0x3e8)_0x50d297=_0x50d297[_0x4814f7(0x21c)](0x1);else _0x50d297=_0x50d297[_0x4814f7(0x21c)](0x0);}}else _0x50d297=Number('0')[_0x4814f7(0x21c)](0x2);if(_0x2270c2){if(Math[_0x4814f7(0x1aa)](_0x2270c2)<0.000001)_0x2270c2=_0x2270c2[_0x4814f7(0x21c)](0x2);else{if(Math['abs'](_0x2270c2)<0.1)_0x2270c2=_0x2270c2[_0x4814f7(0x21c)](0x6);else{if(Math['abs'](_0x2270c2)<0x1)_0x2270c2=_0x2270c2[_0x4814f7(0x21c)](0x5);else{if(Math['abs'](_0x2270c2)<0xa)_0x2270c2=_0x2270c2[_0x4814f7(0x21c)](0x4);else{if(Math[_0x4814f7(0x1aa)](_0x2270c2)<0x64)_0x2270c2=_0x2270c2['toFixed'](0x3);else{if(Math[_0x4814f7(0x1aa)](_0x2270c2)<0x3e8)_0x2270c2=_0x2270c2['toFixed'](0x2);else _0x2270c2=_0x2270c2['toFixed'](0x2);}}}}}}else _0x2270c2=Number('0')[_0x4814f7(0x21c)](0x2);}else _0x50d297=Number('0')[_0x4814f7(0x21c)](0x2);return{'value':_0x2270c2,'change':_0x50d297,'leftTxt':_0x44007f,'rightTxt':_0x3ea35e};}async function getStartingBalances(_0x37dabe,_0x7baa8=!![]){const _0x51a3cb=_0x412709;if(_0x37dabe['length']!==0x0){const [_0x4bb8c3,_0xb98085,_0xf64205]=getPerf(_0x37dabe[0x0],!![]);let _0x16b5b1=[];config['portfolio'][_0x51a3cb(0x10d)](_0x4856ec=>{const _0x55d8e7=_0x51a3cb;let _0x26187a=0x0,_0xcd3e08;config['liquidity']['forEach'](_0xef873c=>{const _0x5a0e69=_0x3cbc;let _0x336a6d=_0xef873c[_0x5a0e69(0xf1)][_0x5a0e69(0x1c8)](_0x4000e3=>_0x4000e3['coin']==_0x4856ec[_0x5a0e69(0x1ed)]);if(_0x336a6d){_0x26187a+=_0x336a6d[_0x5a0e69(0x173)];if(!_0xcd3e08)_0xcd3e08=_0x336a6d[_0x5a0e69(0x1a6)];}}),_0x16b5b1[_0x55d8e7(0x124)]({'coin':_0x4856ec[_0x55d8e7(0x1ed)],'number':_0x26187a,'initialprice':_0xcd3e08});});const _0x33cea1={'basecoin':_0x4bb8c3,'eur':_0xb98085,'usd':_0xf64205,'coins':_0x16b5b1};if(_0x7baa8)proxyEmit(_0x51a3cb(0x1fa),_0x33cea1);startingBalances=_0x33cea1;}}function headlessMode(_0x28bb54){const _0x560c49=_0x412709;let _0x582ec8=_0x28bb54[_0x560c49(0xdd)],_0x35ffb1=_0x28bb54[_0x560c49(0x195)],_0x10f8d0=[];for(let _0x28d550 of _0x582ec8){if(_0x28d550[_0x560c49(0x1ed)]!=config[_0x560c49(0x160)]){if(_0x28d550[_0x560c49(0xed)]>=_0x35ffb1/0x64){if(_0x28d550[_0x560c49(0x19a)])_0x10f8d0[_0x560c49(0x124)](_0x28d550);}else{if(_0x28d550[_0x560c49(0xed)]<=-_0x35ffb1/0x64){if(_0x28d550['valid'])_0x10f8d0[_0x560c49(0x124)](_0x28d550);}}}}_0x10f8d0[_0x560c49(0xfd)]>0x0&&placeOrder(_0x10f8d0);}function notifyBalance(_0x1f7301){const _0x1b758e=_0x412709;let _0xd93ed4=_0x1f7301[_0x1b758e(0xdd)],_0x44a41e=_0x1f7301[_0x1b758e(0x195)],_0x26318b=[];for(let _0x368d66 of _0xd93ed4){if(_0x368d66[_0x1b758e(0x1ed)]!=config['basecoin']){if(_0x368d66[_0x1b758e(0xed)]>=_0x44a41e/0x64){if(_0x368d66['valid'])_0x26318b['push'](_0x368d66);}else{if(_0x368d66[_0x1b758e(0xed)]<=-_0x44a41e/0x64){if(_0x368d66[_0x1b758e(0x19a)])_0x26318b[_0x1b758e(0x124)](_0x368d66);}}}}if(_0x26318b[_0x1b758e(0xfd)]>0x0){let _0x4f7849=_0x26318b[_0x1b758e(0x141)](_0x573dd2=>_0x573dd2[_0x1b758e(0x1ed)]);_0x4f7849[_0x1b758e(0x162)]();let _0x2c12b8=_0x4f7849[_0x1b758e(0x139)](',\x20');if(!lastCoinsToBalance)logHistory(_0x1b758e(0xde),_0x1b758e(0x202));lastCoinsToBalance=_0x2c12b8;}}function symbolToCoin(_0x4bd9c0){const _0x2df2fd=_0x412709;let _0x295704;if(_0x4bd9c0['includes']('/'+config['basecoin']))_0x295704=_0x4bd9c0['replace']('/'+config[_0x2df2fd(0x160)],'');if(_0x4bd9c0[_0x2df2fd(0x186)](config[_0x2df2fd(0x160)]+'/'))_0x295704=_0x4bd9c0[_0x2df2fd(0x12c)](config[_0x2df2fd(0x160)]+'/','');return _0x295704;}async function unlockOrders(){const _0x1f8c41=_0x412709;if(allOrdersPlaced&&lockOrders==ORDERS[_0x1f8c41(0x16a)]){logger[_0x1f8c41(0x14d)](_0x1f8c41(0x1ea)),lockOrders=ORDERS[_0x1f8c41(0x1f3)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x1e005a=await getCoins();[currentCoins,currentCoinsAll]=_0x1e005a,validateOrdersState=_0x1f8c41(0x163),persistOpenOrders([]),lockOrders=ORDERS[_0x1f8c41(0x10f)],logger['debug'](_0x1f8c41(0x219));}}async function validateOrders(_0x3d2f45){const _0x57c200=_0x412709;if(_0x3d2f45)validateOrdersState=_0x3d2f45;logger[_0x57c200(0x14d)](_0x57c200(0x101)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x57c200(0x1dc):_0x57c200(0x137)));let _0x57e1d0=[],_0x5b8e1c=config[_0x57c200(0x22c)]==_0x57c200(0xd3)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x57c200(0x115)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x57c200(0x16a)])return;logger[_0x57c200(0x14d)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders['forEach'](_0x390b9f=>{const _0x163ec5=_0x57c200;let _0x331767=![];_0x390b9f['filled']>0x0&&(_0x331767=!![]),_0x57e1d0['push'](_0x331767),_0x331767&&config[_0x163ec5(0x22c)]!=_0x163ec5(0xd3)&&logHistory(_0x163ec5(0xce),_0x163ec5(0xd5)+_0x390b9f[_0x163ec5(0xdb)]+'\x20'+_0x390b9f[_0x163ec5(0xfc)]+'\x20#'+formatResult(_0x390b9f[_0x163ec5(0x17b)],0x8)+'\x20@'+formatResult(_0x390b9f[_0x163ec5(0x1a6)],0x8));}),_0x57e1d0[_0x57c200(0x10d)]((_0x1f3b74,_0xd16e78)=>{const _0x42204d=_0x57c200;if(_0x1f3b74)lastOrders[_0x42204d(0xe8)](_0xd16e78,0x1);}),persistOpenOrders(lastOrders);const _0x2dbbc5=coolingDown?_0x57c200(0x203):_0x57c200(0x117);if(validateOrdersState==_0x57c200(0x163)){validateOrdersState='ongoing';if(_0x57e1d0[_0x57c200(0x186)](![])){if(config['ordertype']==_0x57c200(0xd3)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x57c200(0xef)){if(_0x57e1d0[_0x57c200(0x186)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x57c200(0xd3)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x57e1d0[_0x57c200(0x186)](![])&&(config['ordertype']=='market'?logHistory(_0x57c200(0x145),_0x57c200(0x112)+Math[_0x57c200(0x171)](_0x5b8e1c*validateOrderInterval/0xea60)+_0x57c200(0x164)+_0x2dbbc5):(await cancelOrders(),logHistory(_0x57c200(0x145),_0x57c200(0x221)+Math[_0x57c200(0x171)](_0x5b8e1c*validateOrderInterval/0xea60)+_0x57c200(0x164)+_0x2dbbc5))),await unlockOrders();else{if(validateOrdersState==_0x57c200(0x1d3)){if(config[_0x57c200(0x22c)]!=_0x57c200(0xd3))logHistory(_0x57c200(0x145),_0x57c200(0x1bf)+_0x2dbbc5);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x213dbd=>{const _0x51de22=_0x3cbc;try{const _0x2e3ef5=await exchange[_0x51de22(0xd8)](_0x213dbd['orderId'],_0x213dbd[_0x51de22(0xdb)]);}catch(_0x18416d){if(_0x18416d[_0x51de22(0x1b7)]()['includes'](_0x51de22(0x227))){}else await handleError(_0x18416d,_0x51de22(0x14a));}});}async function initCoinResults(){const _0x3b2e20=_0x412709;let _0x2e0e9c=[];config[_0x3b2e20(0xdd)][_0x3b2e20(0x10d)](_0x17f0a9=>{const _0x4d03eb=_0x3b2e20;if(!_0x17f0a9['excluded']&&_0x17f0a9[_0x4d03eb(0x1ed)]!=config[_0x4d03eb(0x160)]){let _0x38633c=dbCoinResults['get'](_0x4d03eb(0x232))[_0x4d03eb(0x1c8)]({'coin':_0x17f0a9[_0x4d03eb(0x1ed)]})[_0x4d03eb(0x158)]();if(!_0x38633c){const _0x555202=currentCoins[_0x4d03eb(0x1c8)](_0x224b51=>_0x224b51['coin']==_0x17f0a9[_0x4d03eb(0x1ed)]),_0xb05cd2=global[_0x4d03eb(0x210)][noslash(_0x17f0a9[_0x4d03eb(0xdb)])];let _0x1178b7=_0x555202?_0x555202[_0x4d03eb(0x173)]:null,_0x3bd514=_0x17f0a9['reverse']?0x1/_0xb05cd2:_0xb05cd2,_0x276f66;config['liquidity'][_0x4d03eb(0x10d)](_0x287592=>{const _0x51933e=_0x4d03eb;!_0x276f66&&(_0x276f66=_0x287592['changes']['find'](_0x40b55e=>_0x40b55e[_0x51933e(0x1ed)]==_0x17f0a9[_0x51933e(0x1ed)]),_0x276f66&&(_0x1178b7=_0x276f66[_0x51933e(0x173)],_0x3bd514=_0x276f66[_0x51933e(0x1a6)]));}),_0x2e0e9c[_0x4d03eb(0x124)]({'coin':_0x17f0a9[_0x4d03eb(0x1ed)],'number':_0x1178b7,'price':_0x3bd514});}}}),_0x2e0e9c[_0x3b2e20(0x10d)](_0x3d957d=>{const _0x16d6c9=_0x3b2e20,_0x595c57={'coin':_0x3d957d[_0x16d6c9(0x1ed)],'number':_0x3d957d[_0x16d6c9(0x173)],'breakeven':_0x3d957d[_0x16d6c9(0x1a6)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x16d6c9(0x176)]('coins')[_0x16d6c9(0x124)](_0x595c57)[_0x16d6c9(0x122)]();});}async function updateCoinResults(_0x1eaf5f,_0x359154=![]){const _0x14156b=_0x412709;let _0x31d70a,_0x334645,_0x5b2c1a,_0x1714bc,_0x5cdb58,_0x179f8a,_0x3c78e5=dbCoinResults['get']('coins')[_0x14156b(0x1c8)]({'coin':_0x1eaf5f[_0x14156b(0x1ed)]})[_0x14156b(0x158)]();!_0x3c78e5&&await initCoinResults();_0x1eaf5f[_0x14156b(0x240)]&&(_0x179f8a={'filled':_0x1eaf5f[_0x14156b(0x17b)]*_0x1eaf5f[_0x14156b(0x1a6)],'amount':_0x1eaf5f['filled']*_0x1eaf5f[_0x14156b(0x1a6)],'side':_0x1eaf5f[_0x14156b(0xfc)]=='sell'?_0x14156b(0x1f2):'sell','price':0x1/_0x1eaf5f[_0x14156b(0x1a6)]},_0x1eaf5f={..._0x1eaf5f,..._0x179f8a});_0x359154?_0x334645=_0x1eaf5f['side']=='buy'?_0x3c78e5['number']+_0x1eaf5f[_0x14156b(0x17b)]:_0x3c78e5[_0x14156b(0x173)]-_0x1eaf5f[_0x14156b(0x17b)]:_0x334645=await getCoinNumber(_0x1eaf5f[_0x14156b(0x1ed)]);if(_0x1eaf5f[_0x14156b(0x15f)]&&_0x1eaf5f[_0x14156b(0x15f)][_0x14156b(0xda)]==config[_0x14156b(0x160)])_0x31d70a=_0x1eaf5f['fee'][_0x14156b(0x18e)];else{if(_0x1eaf5f[_0x14156b(0x15f)]&&_0x1eaf5f[_0x14156b(0x15f)][_0x14156b(0xda)]==_0x14156b(0x11a)&&!_0x359154)_0x31d70a=_0x1eaf5f['fee'][_0x14156b(0x18e)]*global[_0x14156b(0x210)][_0x14156b(0x11a)+config[_0x14156b(0x160)]];else _0x31d70a=defaultFee*_0x1eaf5f[_0x14156b(0x17b)]*_0x1eaf5f[_0x14156b(0x1a6)];}_0x1eaf5f[_0x14156b(0xfc)]==_0x14156b(0x1f2)?(_0x5b2c1a=_0x334645!=0x0?(_0x3c78e5[_0x14156b(0x196)]*_0x3c78e5[_0x14156b(0x173)]+_0x1eaf5f['price']*(_0x334645-_0x3c78e5[_0x14156b(0x173)])+_0x31d70a)/_0x334645:0x0,_0x1714bc=_0x3c78e5[_0x14156b(0x10b)]):(_0x5b2c1a=_0x334645!=0x0?(_0x3c78e5['breakeven']*_0x3c78e5[_0x14156b(0x173)]-_0x1eaf5f[_0x14156b(0x1a6)]*(_0x3c78e5['number']-_0x334645)+_0x31d70a)/_0x334645:0x0,_0x1714bc=_0x3c78e5[_0x14156b(0x10b)]+(_0x1eaf5f[_0x14156b(0x1a6)]-_0x3c78e5['breakeven'])*_0x1eaf5f['filled']);_0x5cdb58=(_0x1eaf5f[_0x14156b(0x1a6)]-_0x5b2c1a-_0x31d70a/_0x1eaf5f['filled'])*_0x334645;let _0x7bd663={'coin':_0x1eaf5f[_0x14156b(0x1ed)],'number':_0x334645,'breakeven':formatResult(_0x5b2c1a,0x8),'realized':formatResult(_0x1714bc,0x8),'unrealized':formatResult(_0x5cdb58,0x8),'fees':formatResult(_0x3c78e5[_0x14156b(0xe9)]+_0x31d70a,0x8),'sells':_0x1eaf5f[_0x14156b(0xfc)]==_0x14156b(0x1b8)?_0x3c78e5[_0x14156b(0x1cc)]+0x1:_0x3c78e5[_0x14156b(0x1cc)],'buys':_0x1eaf5f['side']==_0x14156b(0x1f2)?_0x3c78e5[_0x14156b(0x133)]+0x1:_0x3c78e5[_0x14156b(0x133)]};dbCoinResults[_0x14156b(0x176)](_0x14156b(0x232))[_0x14156b(0x1c8)]({'coin':_0x1eaf5f[_0x14156b(0x1ed)]})[_0x14156b(0x21f)](_0x7bd663)[_0x14156b(0x122)]();if(!_0x359154){if(_0x1eaf5f[_0x14156b(0x15f)]&&_0x1eaf5f['fee'][_0x14156b(0xda)]==_0x14156b(0x11a)){const _0x4627b6=currentCoins[_0x14156b(0x1c8)](_0x25f5df=>_0x25f5df[_0x14156b(0x1ed)]=='BNB');if(_0x4627b6){let _0x880b0=dbCoinResults[_0x14156b(0x176)]('coins')[_0x14156b(0x1c8)]({'coin':_0x14156b(0x11a)})[_0x14156b(0x158)]();_0x7bd663={..._0x880b0,'number':_0x4627b6[_0x14156b(0x173)]},dbCoinResults[_0x14156b(0x176)](_0x14156b(0x232))[_0x14156b(0x1c8)]({'coin':'BNB'})[_0x14156b(0x21f)](_0x7bd663)[_0x14156b(0x122)]();}}}}async function placeOrder(_0x5400a4){const _0x5c69a2=_0x412709,_0x359177=config[_0x5c69a2(0x22c)]==_0x5c69a2(0xd3)?_0x5c69a2(0xd3):'limit';if(lockOrders==ORDERS[_0x5c69a2(0x10f)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5c69a2(0x16a)],allOrdersPlaced=![],validateOrdersState='initial';let _0x5c0ee7=![];lastOrders=[];for(const _0x58c874 of _0x5400a4){let _0x2f6e0a,_0x5ef8d0,_0x36de3d,_0x52ea0c,_0x5c8096,_0x2c92ff=_0x58c874['symbol'];try{const _0x424dfe=await exchange['fetchTicker'](_0x2c92ff);_0x2f6e0a=_0x58c874['reverse']?0x1/_0x58c874['last']:_0x58c874[_0x5c69a2(0x1e0)],_0x5ef8d0=_0x424dfe[_0x5c69a2(0x241)],_0x36de3d=_0x424dfe[_0x5c69a2(0x23e)];_0x58c874[_0x5c69a2(0x240)]?(_0x52ea0c=_0x58c874['side']==_0x5c69a2(0x1f2)?_0x5c69a2(0x1b8):'buy',_0x5c8096=Math['abs'](_0x58c874[_0x5c69a2(0x1a9)])/_0x2f6e0a):(_0x52ea0c=_0x58c874[_0x5c69a2(0xfc)],_0x5c8096=Math[_0x5c69a2(0x1aa)](_0x58c874[_0x5c69a2(0x1a9)]));_0x359177==_0x5c69a2(0x187)&&(config[_0x5c69a2(0x22c)]==_0x5c69a2(0x103)&&(_0x2f6e0a=_0x52ea0c==_0x5c69a2(0x1f2)?_0x5ef8d0:_0x36de3d),config[_0x5c69a2(0x22c)]==_0x5c69a2(0x179)&&(_0x2f6e0a=_0x52ea0c=='buy'?_0x36de3d:_0x5ef8d0));_0x5c8096=formatResult(_0x5c8096,0x8),_0x2f6e0a=formatResult(_0x2f6e0a,0x8);const _0x1d8a82=_0x52ea0c==_0x5c69a2(0x1b8)?config['emojisell']?String[_0x5c69a2(0x161)]('0x'+config[_0x5c69a2(0x17e)])+'\x20':'':config[_0x5c69a2(0x205)]?String[_0x5c69a2(0x161)]('0x'+config[_0x5c69a2(0x205)])+'\x20':'',_0x46539c=_0x359177==_0x5c69a2(0xd3)?'Market':config['ordertype']==_0x5c69a2(0x103)?'Limit\x20(high-margin)':_0x5c69a2(0xcb),_0x20b4b8=new Date()[_0x5c69a2(0x172)]()[_0x5c69a2(0x1b7)]()[_0x5c69a2(0x15c)](-0x6)+'-'+Math[_0x5c69a2(0x20b)]()[_0x5c69a2(0x1b7)]()[_0x5c69a2(0x15c)](-0x6);lastOrders[_0x5c69a2(0x124)]({'customId':_0x20b4b8,'symbol':_0x2c92ff,'coin':_0x58c874[_0x5c69a2(0x1ed)],'side':_0x52ea0c,'reverse':_0x58c874[_0x5c69a2(0x240)],'filled':0x0});if(_0x359177==_0x5c69a2(0xd3))logHistory(_0x5c69a2(0xce),''+_0x1d8a82+_0x46539c+_0x5c69a2(0x19d)+_0x2c92ff+'\x20'+_0x52ea0c+'\x20#'+formatResult(_0x5c8096,0x8)+'\x20@'+formatResult(_0x2f6e0a,0x8));else logHistory('order',''+_0x1d8a82+_0x46539c+_0x5c69a2(0x19d)+_0x2c92ff+'\x20'+_0x52ea0c+'\x20#'+formatResult(_0x5c8096,0x8)+'\x20@'+formatResult(_0x2f6e0a,0x8));const _0x13b5b6=await exchange['createOrder'](_0x2c92ff,_0x359177,_0x52ea0c,_0x5c8096,_0x2f6e0a,{'clientOrderId':_0x20b4b8}),_0x38003d=lastOrders[_0x5c69a2(0xfd)]-0x1;_0x38003d>=0x0&&lastOrders[_0x38003d]['customId']==_0x20b4b8&&(lastOrders[_0x38003d]={...lastOrders[_0x38003d],'orderId':_0x13b5b6['id'],'amount':_0x13b5b6['amount'],'price':_0x13b5b6['price'],'fee':_0x13b5b6[_0x5c69a2(0x15f)]});if(config['cooldown']!=0x0){let _0x55aac1=null;if(cooldownTracker[_0x5c69a2(0xfd)]==config['cooldown']-0x1)_0x55aac1=cooldownTracker[_0x5c69a2(0x14e)]();const _0x552330=getTimeStamp();cooldownTracker[_0x5c69a2(0x124)](_0x552330);if(_0x55aac1){const _0x5f401b=fns[_0x5c69a2(0x1f1)](new Date(_0x552330),new Date(_0x55aac1));if(_0x5f401b<cooldownInterval){logHistory(_0x5c69a2(0x1a3),'Executed\x20'+config[_0x5c69a2(0x155)]+_0x5c69a2(0x1ad)+cooldownInterval/0x3c+_0x5c69a2(0x1fe)+cooldownPeriod/(0xe10*0x3e8)+_0x5c69a2(0x1d4)),coolingDown=!![];break;}}}}catch(_0xf871fd){if(_0xf871fd[_0x5c69a2(0x1b7)]()[_0x5c69a2(0x186)](_0x5c69a2(0x1e7)))lastOrders=lastOrders['filter'](_0x300cd0=>_0x300cd0['symbol']!=_0x2c92ff),logHistory('error',_0x5c69a2(0x10e)+_0x2c92ff),_0x5c0ee7=!![];else _0xf871fd[_0x5c69a2(0x1b7)]()[_0x5c69a2(0x186)](_0x5c69a2(0x184))?(lastOrders=lastOrders['filter'](_0x409e60=>_0x409e60[_0x5c69a2(0xdb)]!=_0x2c92ff),logHistory(_0x5c69a2(0x1a3),_0x5c69a2(0x148)+_0x2c92ff),_0x5c0ee7=!![]):(lastOrders=lastOrders[_0x5c69a2(0x1a7)](_0x1c4ab0=>_0x1c4ab0[_0x5c69a2(0xdb)]!=_0x2c92ff),await handleError(_0xf871fd,'placeOrder()',_0x2c92ff));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3cf093=config[_0x5c69a2(0x22c)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x33968c=_0x5c69a2;validateOrders(_0x33968c(0x180));},_0x3cf093);}else unlockOrders();_0x5c0ee7&&config[_0x5c69a2(0x152)]&&await pauseBot(_0x5c69a2(0xec)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5c69a2(0x145),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x5c69a2(0x152)]&&logHistory(_0x5c69a2(0x1a3),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x5c69a2(0x10f)]&&(!config[_0x5c69a2(0x152)]&&(config[_0x5c69a2(0x22c)]=='market'?logHistory(_0x5c69a2(0x1a3),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x5c69a2(0x1a3),_0x5c69a2(0x21b))));}}function persistOpenOrders(_0x71a715){const _0x42cb7e=_0x412709,_0x377804={...config,'openOrders':_0x71a715};let _0x132a3a=dbConfig[_0x42cb7e(0x176)](_0x42cb7e(0x1c7))[_0x42cb7e(0x1c8)]({'botID':botID})[_0x42cb7e(0x158)]();_0x132a3a&&dbConfig[_0x42cb7e(0x176)](_0x42cb7e(0x1c7))[_0x42cb7e(0x1c8)]({'botID':botID})[_0x42cb7e(0x21f)](_0x377804)['write']();}function restoreOrders(){const _0x4ac237=_0x412709;let _0x405eda;config[_0x4ac237(0x1cb)]&&allOpenOrders[_0x4ac237(0x10d)](_0x139147=>{const _0x3675f8=_0x4ac237,_0x26b2e7=config[_0x3675f8(0x1cb)][_0x3675f8(0x1c8)](_0x2234f2=>_0x2234f2[_0x3675f8(0x14c)]==_0x139147['id']);_0x26b2e7&&(lastOrders[_0x3675f8(0x124)](_0x26b2e7),_0x405eda=_0x139147[_0x3675f8(0x181)]);});if(lastOrders[_0x4ac237(0xfd)]>0x0){lockOrders=ORDERS[_0x4ac237(0x16a)],validateOrdersState=_0x4ac237(0xef),allOrdersPlaced=!![];const _0x18bfe7=new Date()[_0x4ac237(0x172)](),_0x4e008c=config[_0x4ac237(0x22c)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4ac237(0x115)]*0x3c*0x3e8;if(_0x405eda+_0x4e008c>_0x18bfe7){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xa77b34=_0x4ac237;validateOrders(_0xa77b34(0x180));},_0x405eda+_0x4e008c-_0x18bfe7);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x27c3ba=_0x412709;if(!coinsLoaded){process[_0x27c3ba(0xeb)]({'telegrammsg':_0x27c3ba(0x21d)},_0x7862a=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3c9adb='';if(config[_0x27c3ba(0x16b)])_0x3c9adb=_0x27c3ba(0xc9)+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x3c9adb=_0x27c3ba(0xd6)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x133aa6=getKPIs('basecoin'),_0x182550=getKPIs('fiat',config[_0x27c3ba(0x20c)]),_0x2de1da=getKPIs(_0x27c3ba(0x22d)),_0xed9775=getKPIs('net-fiat',config['fiat']);_0x3c9adb+=_0x27c3ba(0x144),_0x3c9adb+=_0x133aa6[_0x27c3ba(0x1a0)]+'\x20:\x20'+_0x133aa6['value']+'\x0a',_0x3c9adb+=_0x133aa6[_0x27c3ba(0x242)]+':\x20'+_0x133aa6[_0x27c3ba(0x177)]+'%\x0a',_0x3c9adb+=_0x182550[_0x27c3ba(0x1a0)]+_0x27c3ba(0x1fb)+_0x182550[_0x27c3ba(0x158)]+'\x0a',_0x3c9adb+=_0x182550['rightTxt']+':\x20'+_0x182550[_0x27c3ba(0x177)]+'%\x0a',_0x3c9adb+=_0x2de1da[_0x27c3ba(0x1a0)]+':\x20'+_0x2de1da[_0x27c3ba(0x158)]+'\x20('+config[_0x27c3ba(0x160)]+')\x0a',_0x3c9adb+=_0x2de1da[_0x27c3ba(0x242)]+':\x20'+_0x2de1da[_0x27c3ba(0x177)]+_0x27c3ba(0x23f)+config[_0x27c3ba(0x160)]+')\x0a',_0x3c9adb+=_0xed9775[_0x27c3ba(0x1a0)]+':\x20'+_0xed9775['value']+'\x20('+config[_0x27c3ba(0x20c)]+')\x0a',_0x3c9adb+=_0xed9775[_0x27c3ba(0x242)]+':\x20'+_0xed9775[_0x27c3ba(0x177)]+_0x27c3ba(0x23f)+config[_0x27c3ba(0x20c)]+')\x0a',_0x3c9adb+='</pre>',process[_0x27c3ba(0xeb)]({'telegrammsg':_0x3c9adb},_0x4cf687=>{});}async function sendPortfolioTelegram(){const _0x11c694=_0x412709;if(!coinsLoaded){process['send']({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x5de7a3=>{});return;}let _0x4b3da1='';if(config[_0x11c694(0x16b)])_0x4b3da1=_0x11c694(0xc9)+config[_0x11c694(0x121)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x4b3da1=_0x11c694(0xd6)+botID+_0x11c694(0x19e);_0x4b3da1+=_0x11c694(0x144),_0x4b3da1+=_0x11c694(0x1b4),_0x4b3da1+=_0x11c694(0x150),_0x4b3da1+='-------------------------------\x0a',currentCoins[_0x11c694(0x10d)](_0x3d9ccd=>{const _0xce9e1=_0x11c694;_0x4b3da1+=_0x3d9ccd[_0xce9e1(0x1ed)]['padEnd'](0x7)+'|\x20'+formatPad(_0x3d9ccd['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x3d9ccd[_0xce9e1(0x1f6)],0x2,0x6)+'|\x20'+formatPad(_0x3d9ccd[_0xce9e1(0xed)]*0x64,0x2,0x6)+'\x0a';}),_0x4b3da1+=_0x11c694(0x100),process[_0x11c694(0xeb)]({'telegrammsg':_0x4b3da1},_0x22ab6d=>{});}function formatPad(_0x184fbc,_0x324df3,_0x36482f){const _0x45cda9=_0x412709,_0x137217=formatResultString(_0x184fbc,_0x324df3);return _0x137217?_0x137217[_0x45cda9(0x108)](_0x36482f):''['padStart'](_0x36482f);}function logHistory(_0x16d068,_0x33cd2f,_0x11b47c=''){const _0x244c1f=_0x412709;let _0x3adf2a={'time':getTimeStamp(),'type':_0x16d068,'event':_0x33cd2f};dbLogs[_0x244c1f(0x176)](_0x244c1f(0xfa))[_0x244c1f(0x124)](_0x3adf2a)[_0x244c1f(0x122)]();if(_0x11b47c=='')_0x11b47c=_0x33cd2f;proxyEmit('event',{'log':_0x3adf2a,'summary':_0x11b47c}),process[_0x244c1f(0xeb)]({'telegram':{..._0x3adf2a,'botname':config[_0x244c1f(0x121)],'showname':config[_0x244c1f(0x16b)]}},_0x2bd067=>{}),logger['full'](''+_0x3adf2a[_0x244c1f(0x194)]);}function emitHistory(_0x49d579={}){const _0x24097e=_0x412709;Object[_0x24097e(0x11c)](_0x49d579)[_0x24097e(0xfd)]==0x0&&(_0x49d579={'type':[_0x24097e(0xce),_0x24097e(0x194)],'event':'','page':0x1});if(_0x49d579[_0x24097e(0xd1)][_0x24097e(0x186)](_0x24097e(0x194)))_0x49d579[_0x24097e(0xd1)][_0x24097e(0xe8)](_0x49d579['type']['indexOf']('event'),0x1,_0x24097e(0x1a3),_0x24097e(0xde),_0x24097e(0x145));if(dbLogs[_0x24097e(0x1e9)]('logs')[_0x24097e(0x158)]()){let _0x34d6f5=dbLogs[_0x24097e(0x176)](_0x24097e(0xfa))[_0x24097e(0x1a7)](_0x47f7c6=>{const _0x111a9d=_0x24097e;if(_0x49d579[_0x111a9d(0xd1)][_0x111a9d(0xfd)]==0x0)return![];else return _0x49d579[_0x111a9d(0xd1)]['includes'](_0x47f7c6['type']);})['filter'](_0xc8f76c=>{const _0x23dfc6=_0x24097e;if(_0x49d579[_0x23dfc6(0x194)]=='')return!![];else return _0xc8f76c['event'][_0x23dfc6(0x224)]()['includes'](_0x49d579['event'][_0x23dfc6(0x224)]());})[_0x24097e(0x140)]('time'),_0x29b5d2=_0x34d6f5['value']()[_0x24097e(0xfd)];_0x34d6f5=_0x34d6f5['reverse']()[_0x24097e(0x15c)]((_0x49d579[_0x24097e(0x1b0)]-0x1)*logPageSize,_0x49d579['page']*logPageSize-0x1)[_0x24097e(0x240)]()[_0x24097e(0x158)](),proxyEmit('event-history',{'logs':_0x34d6f5,'total':_0x29b5d2});}else proxyEmit(_0x24097e(0x22f),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x48c145){const _0x92f640=_0x412709;if(dbLogs[_0x92f640(0x1e9)](_0x92f640(0xfa))[_0x92f640(0x158)]()){const _0xacff1b=dbLogs[_0x92f640(0x176)](_0x92f640(0xfa))[_0x92f640(0x140)](_0x92f640(0xd4))[_0x92f640(0x1a7)](_0x56ce4d=>{const _0x2167e7=_0x92f640;return _0x56ce4d[_0x2167e7(0xd1)]==_0x2167e7(0xce);})['value']();dbLogs['get'](_0x92f640(0xfa))['remove']()['write'](),dbLogs[_0x92f640(0x176)](_0x92f640(0xfa))['assign'](_0xacff1b)[_0x92f640(0x122)](),emitHistory(_0x48c145);}}async function pauseBot(_0x9f9c21=''){const _0x19d17c=_0x412709,_0xa5f451=new Date()[_0x19d17c(0x172)]();if(!lastErrorShown||_0xa5f451-lastErrorShown>=pauseBotInterval){lastErrorShown=_0xa5f451;!lastBotPause?(lastBotPause=_0xa5f451,consecutivePauses=0x1):(_0xa5f451-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0x19d17c(0x1dd)},_0x10e496=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x19d17c(0x172)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x9f9c21)_0x9f9c21+=_0x19d17c(0xf5);logHistory(_0x19d17c(0x1a3),_0x9f9c21+_0x19d17c(0x16c)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x572ce2=_0x412709;process[_0x572ce2(0xeb)]({'stop':_0x572ce2(0x12f)},_0x403831=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1209d5,_0x5cf5e8){const _0x121d6b=_0x412709;if(_0x1209d5['toString']()[_0x121d6b(0x186)](_0x121d6b(0x21e)))return logHistory(_0x121d6b(0x1a3),config['exchange']+_0x121d6b(0x175)),![];else{if(_0x1209d5[_0x121d6b(0x1b7)]()[_0x121d6b(0x186)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error',config['exchange']+_0x121d6b(0x1e2)),![];else{if(_0x1209d5[_0x121d6b(0x1b7)]()[_0x121d6b(0x186)](_0x121d6b(0x1ef)))return logHistory(_0x121d6b(0x1a3),config[_0x121d6b(0x1bd)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x121d6b(0x1a3),_0x121d6b(0x215)),![];else await handleError(_0x1209d5,_0x5cf5e8);}}}async function handleError(_0x524418,_0x1f9794,_0x1a764d=''){const _0x4644e5=_0x412709,_0x29b43f=config[_0x4644e5(0x1bd)]||_0x4644e5(0xff);if(_0x524418[_0x4644e5(0x1b7)]()[_0x4644e5(0x186)](_0x4644e5(0x1eb)))await pauseBot(config[_0x4644e5(0x1bd)]+_0x4644e5(0xe7));else{if(_0x524418[_0x4644e5(0x1b7)]()['includes'](_0x4644e5(0x1b6)))await pauseBot(config[_0x4644e5(0x1bd)]+_0x4644e5(0xc4));else{if(_0x524418['toString']()[_0x4644e5(0x186)](_0x4644e5(0x1fc)))await pauseBot(config[_0x4644e5(0x1bd)]+_0x4644e5(0x15a));else{if(_0x524418[_0x4644e5(0x1b7)]()[_0x4644e5(0x186)](_0x4644e5(0x1d2)))await pauseBot(config['exchange']+'\x20closed\x20the\x20connection');else{if(_0x524418[_0x4644e5(0x1b7)]()['includes'](_0x4644e5(0x1da)))logHistory(_0x4644e5(0x1a3),_0x1f9794+_0x4644e5(0x11e)),logHistory('error',_0x4644e5(0x1d7)),await killBot();else{if(_0x524418[_0x4644e5(0x1b7)]()[_0x4644e5(0x186)](_0x4644e5(0x190)))logHistory('error',_0x1f9794+_0x4644e5(0x1e6)),logHistory('error',_0x4644e5(0x1d7)),await killBot();else{if(_0x524418['toString']()[_0x4644e5(0x186)](_0x4644e5(0x21e)))logHistory(_0x4644e5(0x1a3),_0x1f9794+'\x20|\x20'+config[_0x4644e5(0x1bd)]+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x4644e5(0x1a3),_0x4644e5(0x1d7)),await killBot();else{if(_0x524418[_0x4644e5(0x1b7)]()[_0x4644e5(0x186)](_0x4644e5(0xd7)))logHistory(_0x4644e5(0x1a3),_0x1f9794+_0x4644e5(0xf5)+config[_0x4644e5(0x1bd)]+_0x4644e5(0x19c)),logHistory(_0x4644e5(0x1a3),_0x4644e5(0x1d7)),await killBot();else{if(_0x524418['toString']()[_0x4644e5(0x186)](_0x4644e5(0x1ef)))logHistory(_0x4644e5(0x1a3),_0x1f9794+'\x20|\x20'+config[_0x4644e5(0x1bd)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x4644e5(0x1a3),_0x4644e5(0x1d7)),await killBot();else _0x524418['toString']()[_0x4644e5(0x186)](_0x4644e5(0x22b))?logHistory(_0x4644e5(0x1a3),_0x1f9794+_0x4644e5(0x201)+_0x1a764d):(logger['full'](_0x1f9794+_0x4644e5(0x230),_0x524418),await pauseBot(_0x4644e5(0x1f7)));}}}}}}}}}function formatResult(_0x5e2e27,_0x50f964){const _0x12ae6b=_0x412709;return parseFloat(_0x5e2e27[_0x12ae6b(0x21c)](_0x50f964));}function formatResultTruncate(_0x46f94d,_0xa91f0d){const _0x3ad850=_0x412709;let _0x40ee93=formatResultString(_0x46f94d,0xa),_0x38b8d3=_0x40ee93[_0x3ad850(0x188)]('.');return _0x38b8d3!=-0x1&&(_0x40ee93=_0x40ee93[_0x3ad850(0x15c)](0x0,_0x38b8d3+_0xa91f0d+0x1)),Number(_0x40ee93);}function formatResultString(_0x5e29fb,_0x3e5ac1){const _0x8a243c=_0x412709;let _0x34c855;if(!(''+_0x5e29fb)[_0x8a243c(0x186)]('e'))_0x34c855=+(Math[_0x8a243c(0x171)](_0x5e29fb+'e+'+_0x3e5ac1)+'e-'+_0x3e5ac1);else{let _0x27cae4=(''+_0x5e29fb)[_0x8a243c(0x102)]('e'),_0x3d4767='';+_0x27cae4[0x1]+_0x3e5ac1>0x0&&(_0x3d4767='+'),_0x34c855=+(Math[_0x8a243c(0x171)](+_0x27cae4[0x0]+'e'+_0x3d4767+(+_0x27cae4[0x1]+_0x3e5ac1))+'e-'+_0x3e5ac1);}return Number(_0x34c855)[_0x8a243c(0x21c)](_0x3e5ac1);}function getServerTime(){const _0x1b4f1e=_0x412709,_0x30d7df=new Date();return _0x30d7df[_0x1b4f1e(0x220)]()+'/'+(_0x30d7df[_0x1b4f1e(0x13b)]()+0x1)[_0x1b4f1e(0x1b7)]()[_0x1b4f1e(0x108)](0x2,'0')+'/'+_0x30d7df[_0x1b4f1e(0x169)]()[_0x1b4f1e(0x1b7)]()[_0x1b4f1e(0x108)](0x2,'0')+'\x20'+_0x30d7df[_0x1b4f1e(0x110)]()[_0x1b4f1e(0x1b7)]()[_0x1b4f1e(0x108)](0x2,'0')+':'+_0x30d7df[_0x1b4f1e(0x10c)]()[_0x1b4f1e(0x1b7)]()[_0x1b4f1e(0x108)](0x2,'0')+':'+_0x30d7df[_0x1b4f1e(0xf3)]()[_0x1b4f1e(0x1b7)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x272dec=_0x412709,_0x719892=shiftedTime();return _0x719892['getFullYear']()+'/'+(_0x719892[_0x272dec(0x13b)]()+0x1)['toString']()[_0x272dec(0x108)](0x2,'0')+'/'+_0x719892[_0x272dec(0x169)]()[_0x272dec(0x1b7)]()[_0x272dec(0x108)](0x2,'0')+'\x20'+_0x719892[_0x272dec(0x110)]()[_0x272dec(0x1b7)]()[_0x272dec(0x108)](0x2,'0')+':'+_0x719892[_0x272dec(0x10c)]()['toString']()[_0x272dec(0x108)](0x2,'0')+':'+_0x719892['getSeconds']()[_0x272dec(0x1b7)]()[_0x272dec(0x108)](0x2,'0');}function getDate(){const _0x211510=_0x412709,_0x4585ce=shiftedTime();return _0x4585ce[_0x211510(0x220)]()+'/'+(_0x4585ce[_0x211510(0x13b)]()+0x1)[_0x211510(0x1b7)]()[_0x211510(0x108)](0x2,'0')+'/'+_0x4585ce[_0x211510(0x169)]()[_0x211510(0x1b7)]()[_0x211510(0x108)](0x2,'0');}function getHour(){const _0x302b6c=_0x412709,_0x1c3a61=shiftedTime();return _0x1c3a61[_0x302b6c(0x110)]()[_0x302b6c(0x1b7)]()[_0x302b6c(0x108)](0x2,'0');}function sleep(_0x49557b){return new Promise(_0x544a19=>setTimeout(_0x544a19,_0x49557b));}function shiftedTime(){const _0x348256=_0x412709,_0x492552=new Date();let _0x50e98c=_0x492552;if(config&&config['timeshift']!==0x0)_0x50e98c=fns[_0x348256(0xf4)](_0x492552,{'hours':config['timeshift']});return _0x50e98c;}function timer(_0x3c0408){const _0x399ef5=_0x412709,_0x4fd9b9=new Date();!lasttime?console[_0x399ef5(0x1e1)](_0x399ef5(0x1bc),_0x3c0408,_0x4fd9b9):console[_0x399ef5(0x1e1)]('timer:',_0x3c0408,(_0x4fd9b9-lasttime)/0x3e8),lasttime=_0x4fd9b9;}