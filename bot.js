const _0x4f04cf=_0x3ce9;(function(_0xde2622,_0x1d18b1){const _0x555538=_0x3ce9,_0x361394=_0xde2622();while(!![]){try{const _0x473889=parseInt(_0x555538(0x2d2))/0x1*(parseInt(_0x555538(0x32f))/0x2)+parseInt(_0x555538(0x239))/0x3*(parseInt(_0x555538(0x307))/0x4)+-parseInt(_0x555538(0x31b))/0x5*(parseInt(_0x555538(0x235))/0x6)+-parseInt(_0x555538(0x212))/0x7+-parseInt(_0x555538(0x280))/0x8+-parseInt(_0x555538(0x306))/0x9*(-parseInt(_0x555538(0x22b))/0xa)+parseInt(_0x555538(0x316))/0xb;if(_0x473889===_0x1d18b1)break;else _0x361394['push'](_0x361394['shift']());}catch(_0x21c79e){_0x361394['push'](_0x361394['shift']());}}}(_0x3fb5,0xa4773));const _0x146ece=function(){let _0x1fd4ab=!![];return function(_0x210128,_0x35a3c5){const _0x346010=_0x1fd4ab?function(){const _0x4de71f=_0x3ce9;if(_0x35a3c5){const _0x7ae47=_0x35a3c5[_0x4de71f(0x1e6)](_0x210128,arguments);return _0x35a3c5=null,_0x7ae47;}}:function(){};return _0x1fd4ab=![],_0x346010;};}(),_0xfbb949=_0x146ece(this,function(){const _0x58ec13=_0x3ce9;return _0xfbb949[_0x58ec13(0x222)]()[_0x58ec13(0x2cc)]('(((.+)+)+)+$')[_0x58ec13(0x222)]()[_0x58ec13(0x250)](_0xfbb949)['search'](_0x58ec13(0x2b4));});_0xfbb949();'use strict';const ccxt=require(_0x4f04cf(0x24f)),low=require(_0x4f04cf(0x29d)),FileSync=require(_0x4f04cf(0x2f1)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x4f04cf(0x20e)),Crypt=require(_0x4f04cf(0x29c))[_0x4f04cf(0x2bb)],util=require(_0x4f04cf(0x232));let exchange,wsClient;global['ticker']={},global[_0x4f04cf(0x325)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x4f04cf(0x2c5),_0x4f04cf(0x2f4),_0x4f04cf(0x2c3),_0x4f04cf(0x2a3),'NANO/',_0x4f04cf(0x1e7)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x4f04cf(0x2a6)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x4f04cf(0x309)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x4f04cf(0x2c9))[_0x4f04cf(0x2b9)],botID=process[_0x4f04cf(0x270)][0x2]||_0x4f04cf(0x2d3),pattern=/^[0-9]{3}$/;!pattern[_0x4f04cf(0x2e7)](botID)&&(console['log'](_0x4f04cf(0x221)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x4f04cf(0x2c1)](0x1));const userID=process[_0x4f04cf(0x270)][0x3]||'',configpath=userID?_0x4f04cf(0x20a)+userID+'/':_0x4f04cf(0x20a),logspath=userID?'./logs/'+userID+'/':_0x4f04cf(0x1e5),loggerfile=fs['createWriteStream'](logspath+_0x4f04cf(0x2be),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x4f04cf(0x30f)](configpath);!fs[_0x4f04cf(0x23e)](logspath)&&fs[_0x4f04cf(0x30f)](logspath);const configfile=configpath+_0x4f04cf(0x201)+botID+_0x4f04cf(0x2ae),logfile=configpath+_0x4f04cf(0x201)+botID+_0x4f04cf(0x2f6),performancefile=configpath+_0x4f04cf(0x201)+botID+_0x4f04cf(0x23c),coinresultsfile=configpath+_0x4f04cf(0x201)+botID+_0x4f04cf(0x2f9),settingsfile=configpath+_0x4f04cf(0x236),securefile=configpath+_0x4f04cf(0x27a),configbackuppath=configpath+_0x4f04cf(0x263),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x4f04cf(0x1de)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x4f04cf(0x24b)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x4f04cf(0x24b)]({'bot':[]})[_0x4f04cf(0x1de)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x4f04cf(0x1de)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x4a0bb2)=>{},'debug':(..._0x57d5b4)=>{},'notice':(..._0x2b2b5e)=>{},'info':(..._0x3cc1d9)=>{},'warning':(..._0x1298a9)=>{},'error':async function(..._0xe5db27){const _0x29c114=_0x4f04cf,_0xce58f9=new Date()[_0x29c114(0x21b)]();if(!lastErrorShown||_0xce58f9-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x28df7b='';if(_0xe5db27[0x0])_0x28df7b+=_0xe5db27[0x0];if(_0xe5db27[0x1]&&_0xe5db27[0x1][_0x29c114(0x2f0)]&&_0xe5db27[0x1]['error'][_0x29c114(0x31f)])_0x28df7b+=_0x29c114(0x1ee)+_0xe5db27[0x1][_0x29c114(0x2f0)][_0x29c114(0x31f)];logger[_0x29c114(0x291)](_0x29c114(0x233)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x28df7b),await pauseBot(_0x29c114(0x321));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x4f04cf(0x2ce),'rsaStandard':_0x4f04cf(0x20d)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x9a32fe=>{const _0x5889d1=_0x4f04cf;console[_0x5889d1(0x1e2)](_0x9a32fe);},'simple':_0x304a05=>{const _0x4efe28=_0x4f04cf;console['log'](_0x304a05),loggerfile[_0x4efe28(0x1de)](util['format'](_0x304a05)+'\x0a');},'full':async(_0x3c57ea,_0x3942d0='')=>{const _0x223cfe=_0x4f04cf;let _0xcb9b44;if(config[_0x223cfe(0x242)])_0xcb9b44=getTimeStamp()+':\x20'+config[_0x223cfe(0x20b)]+'\x20>\x20'+_0x3c57ea;else _0xcb9b44=getTimeStamp()+_0x223cfe(0x2e2)+botID+_0x223cfe(0x254)+_0x3c57ea;console['log'](_0xcb9b44),loggerfile[_0x223cfe(0x1de)](util[_0x223cfe(0x256)](_0xcb9b44)+'\x0a'),_0x3942d0&&(console[_0x223cfe(0x1e2)](_0x3942d0),loggerfile[_0x223cfe(0x1de)](util[_0x223cfe(0x256)](_0x3942d0)+'\x0a'));}};process['on'](_0x4f04cf(0x1ef),function(_0x40c7bf){const _0x495618=_0x4f04cf;logger[_0x495618(0x2a9)](_0x40c7bf);});settings[_0x4f04cf(0x274)]!=config[_0x4f04cf(0x274)]&&updateTimeshift(settings[_0x4f04cf(0x274)]);process[_0x4f04cf(0x2fe)]({'started':_0x4f04cf(0x211)},_0x224388=>{}),initializeProcessListeners();function proxyEmit(_0x8ed584,_0xd02219=null){process['send']({'function':_0x8ed584,'args':_0xd02219},_0x9035e7=>{});}function initializeProcessListeners(){const _0x33323d=_0x4f04cf;process['on'](_0x33323d(0x31f),_0x59d1af=>{const _0x474784=_0x33323d;switch(Object[_0x474784(0x281)](_0x59d1af)[0x0]){case _0x474784(0x274):_0x59d1af[_0x474784(0x274)]!=undefined&&(settings[_0x474784(0x274)]=_0x59d1af[_0x474784(0x274)],updateTimeshift(settings[_0x474784(0x274)]));break;case _0x474784(0x313):switch(_0x59d1af[_0x474784(0x313)]){case _0x474784(0x302):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x474784(0x26a):emitHistory(_0x59d1af[_0x474784(0x227)]);break;case _0x474784(0x311):deleteHistoryAlerts(_0x59d1af[_0x474784(0x227)]);break;case'getPortfolio':getPortfolio(_0x59d1af[_0x474784(0x227)]);break;case _0x474784(0x1eb):storeConfiguration(_0x59d1af[_0x474784(0x227)]);break;case'storeHeadless':storeHeadless(_0x59d1af[_0x474784(0x227)]);break;case _0x474784(0x25e):getStartingBalances(getNormalizedPerformance());break;case _0x474784(0x23d):placeOrder(_0x59d1af['args']);break;case'cancelLoading':cancelLoading();break;case _0x474784(0x327):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x353603=_0x4f04cf;if(pidBalances)clearTimeout(pidBalances);if(config[_0x353603(0x2a7)]!=''&&config[_0x353603(0x2a7)]!=_0x353603(0x2b6)){await initExchange(config[_0x353603(0x2a7)],config['apiSecret']),await initWsEvents();let _0x2b1e55=await loadSymbols();if(_0x2b1e55){currentCoins=await getCoins(!![]),await initws();if(lastOrders['length']==0x0&&allOpenOrders[_0x353603(0x257)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x3ed74c,_0x529008){const _0x5d42b4=_0x4f04cf,_0x3f4a0f=ccxt[config['exchange']];let _0x30b9d1;switch(config[_0x5d42b4(0x2d6)]){case _0x5d42b4(0x20e):_0x30b9d1=_0x5d42b4(0x1e3);break;case _0x5d42b4(0x277):_0x30b9d1=_0x5d42b4(0x2c8);break;default:_0x30b9d1=_0x5d42b4(0x1e3);}exchange=new _0x3f4a0f({'apiKey':_0x3ed74c,'secret':_0x529008,'timeout':0x7530,'enableRateLimit':!![]}),wsClient['options'][_0x5d42b4(0x328)]=_0x3ed74c,wsClient[_0x5d42b4(0x296)][_0x5d42b4(0x28b)]=_0x529008,wsClient[_0x5d42b4(0x296)]['wsUrl']=_0x30b9d1;let _0x1e8e34=config[_0x5d42b4(0x2d6)]=='binanceus'?_0x5d42b4(0x237):_0x5d42b4(0x25d),_0x3f0611=config[_0x5d42b4(0x292)]==_0x5d42b4(0x21c)?_0x5d42b4(0x21c):_0x5d42b4(0x2eb);stablecoins={'eur':{'coin':''+_0x3f0611+_0x1e8e34,'symbol':_0x3f0611+'/'+_0x1e8e34},'usd':{'coin':_0x3f0611+_0x5d42b4(0x237),'symbol':_0x3f0611+_0x5d42b4(0x1f6)}};}function _0x3ce9(_0x53ca18,_0x1c8b57){const _0x2c644b=_0x3fb5();return _0x3ce9=function(_0xfbb949,_0x146ece){_0xfbb949=_0xfbb949-0x1dc;let _0x3fb5c5=_0x2c644b[_0xfbb949];return _0x3fb5c5;},_0x3ce9(_0x53ca18,_0x1c8b57);}async function initWsEvents(){const _0x5cd1af=_0x4f04cf;!wsClient[_0x5cd1af(0x301)]['formattedMessage']&&wsClient['on'](_0x5cd1af(0x1f8),_0x36dc82=>{const _0x513368=_0x5cd1af;if(isWsFormattedKline(_0x36dc82)){global[_0x513368(0x2e5)][_0x36dc82[_0x513368(0x203)][_0x513368(0x31e)]]=_0x36dc82[_0x513368(0x203)][_0x513368(0x329)];return;}else{if(isWsFormatted24hrTicker(_0x36dc82)){global[_0x513368(0x325)][_0x36dc82['symbol']]=_0x36dc82[_0x513368(0x273)];return;}else{if(!Array[_0x513368(0x324)](_0x36dc82)&&_0x36dc82['wsKey']['includes'](_0x513368(0x2d0))){if(_0x36dc82[_0x513368(0x2a2)][_0x513368(0x258)](_0x513368(0x29e))){updateNumberCoins(_0x36dc82);return;}}}}}),!wsClient[_0x5cd1af(0x301)][_0x5cd1af(0x1f7)]&&wsClient['on'](_0x5cd1af(0x1f7),async _0x33143f=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x5e88d9=_0x4f04cf;let _0x2c2202;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x5e88d9(0x2c0)][_0x5e88d9(0x1e8)](_0x5a43c8=>{const _0x234f0f=_0x5e88d9;let _0x23cf9b=![];return exceptions[_0x234f0f(0x204)](_0x117898=>{if(_0x5a43c8['includes'](_0x117898))_0x23cf9b=!![];}),!_0x23cf9b;}),_0x2c2202=!![];}catch(_0x3c7e17){await handleError(_0x3c7e17,_0x5e88d9(0x300)),_0x2c2202=![];}return _0x2c2202;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x2bfec0=_0x4f04cf;proxyEmit(_0x2bfec0(0x330),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2bfec0(0x2d7),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4888fa=getNormalizedPerformance();emitPerformance(_0x4888fa),await getStartingBalances(_0x4888fa);}async function toggleBotMode(){const _0x5138a1=_0x4f04cf;let _0x55a1a4=dbConfig[_0x5138a1(0x2b3)](_0x5138a1(0x298))[_0x5138a1(0x24c)]({'botID':botID})['value']();if(_0x55a1a4){const _0x387731=!_0x55a1a4[_0x5138a1(0x299)];dbConfig[_0x5138a1(0x2b3)](_0x5138a1(0x298))['find']({'botID':botID})[_0x5138a1(0x2c6)]({'headless':_0x387731})['write'](),config[_0x5138a1(0x299)]=_0x387731,proxyEmit(_0x5138a1(0x330),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x416378=_0x4f04cf;process[_0x416378(0x2fe)]({'updatebotmanager':!![]},_0x152256=>{});}function cleanws(){const _0x48253a=_0x4f04cf;wsinitialized=![];ws1&&(ws1['forEach'](_0x36f91d=>{try{wsClient['close'](_0x36f91d);}catch(_0x4fe984){}}),ws1=[]);if(ws2){try{wsClient[_0x48253a(0x329)](ws2);}catch(_0x431b3c){}ws2=null;}ws3&&(ws3[_0x48253a(0x204)](_0x418695=>{const _0xf3c371=_0x48253a;try{wsClient[_0xf3c371(0x329)](_0x418695);}catch(_0x3f5b77){}}),ws3=[]);}async function initws(){const _0x512c87=_0x4f04cf;cleanws();let _0x1089cc=[];currentCoins[_0x512c87(0x204)](_0x5c6e51=>{const _0x586eab=_0x512c87;if(_0x5c6e51['coin']!=config['basecoin'])_0x1089cc[_0x586eab(0x31c)](_0x5c6e51['symbol']);});if(!_0x1089cc[_0x512c87(0x258)](stablecoins[_0x512c87(0x286)][_0x512c87(0x31e)]))_0x1089cc[_0x512c87(0x31c)](stablecoins[_0x512c87(0x286)]['symbol']);if(!_0x1089cc['includes'](stablecoins[_0x512c87(0x272)][_0x512c87(0x31e)]))_0x1089cc[_0x512c87(0x31c)](stablecoins[_0x512c87(0x272)][_0x512c87(0x31e)]);if(!_0x1089cc[_0x512c87(0x258)](_0x512c87(0x245)+config['basecoin']))_0x1089cc[_0x512c87(0x31c)](_0x512c87(0x245)+config[_0x512c87(0x292)]);try{_0x1089cc['forEach']((_0x152bd8,_0x2bec26)=>{const _0x14eb15=_0x512c87;ws1[_0x2bec26]=wsClient[_0x14eb15(0x285)](noslash(_0x152bd8),'1m'),ws3[_0x2bec26]=wsClient[_0x14eb15(0x248)](noslash(_0x152bd8),_0x14eb15(0x29e));}),ws2=wsClient['subscribeSpotUserDataStream']();}catch(_0x525383){await handleError(_0x525383,_0x512c87(0x2f2));}let _0xdc7bf6,_0x53533b=0x0;loading['remainingSymbols']=[];let _0x14aa28=0x0;_0x1089cc[_0x512c87(0x204)](_0x419507=>{const _0x7f42aa=_0x512c87;loading[_0x7f42aa(0x218)][_0x7f42aa(0x31c)](_0x419507);}),loadingCanceled=![];let _0x33f780=![];while(_0xdc7bf6!=_0x1089cc['length']){_0xdc7bf6=0x0,_0x1089cc[_0x512c87(0x204)](_0x2d7c8c=>{const _0x378b23=_0x512c87;global['ticker'][noslash(_0x2d7c8c)]&&(loading[_0x378b23(0x218)]=loading['remainingSymbols'][_0x378b23(0x1e8)](_0x2d34f1=>_0x2d34f1!=_0x2d7c8c),_0xdc7bf6++);}),loading[_0x512c87(0x230)]=Math['round'](_0xdc7bf6/_0x1089cc[_0x512c87(0x257)]*0x64);loading[_0x512c87(0x230)]!=0x64&&(_0x14aa28>0x1e*0x5&&(loading[_0x512c87(0x2d4)]=!![],emitLoadingProgress()),_0x14aa28>0x3c*0x5&&!_0x33f780&&(_0x33f780=!![],logHistory(_0x512c87(0x2f0),_0x512c87(0x2a8)+loading[_0x512c87(0x218)]['join'](',\x20')+_0x512c87(0x2e3)),logHistory(_0x512c87(0x2f0),_0x512c87(0x2e6)+pauseBotInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),await sleep(pauseBotInterval),process[_0x512c87(0x2fe)]({'stop':_0x512c87(0x215)},_0x51b486=>{})));if(loadingCanceled){loading[_0x512c87(0x30c)]=!![],emitLoadingProgress();break;}else _0xdc7bf6!=_0x53533b&&(_0x53533b=_0xdc7bf6,emitLoadingProgress()),_0x14aa28++,await sleep(0xc8);}_0x33f780&&logHistory(_0x512c87(0x243),_0x512c87(0x317));if(_0xdc7bf6==_0x1089cc[_0x512c87(0x257)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x51f7d8=_0x4f04cf;let _0x5e2492=0x0,_0x436b48=0x0;try{_0x5e2492=global[_0x51f7d8(0x2e5)][stablecoins[_0x51f7d8(0x286)][_0x51f7d8(0x2da)]],_0x436b48=global['ticker'][stablecoins[_0x51f7d8(0x272)][_0x51f7d8(0x2da)]];}catch(_0x30245c){await handleError(_0x30245c,'getFiat()');}return{'eur':Number(_0x5e2492),'usd':Number(_0x436b48)};}function setStartDatePerformance(){const _0x378fa5=_0x4f04cf;if(config&&config[_0x378fa5(0x2fd)][0x0][_0x378fa5(0x304)][_0x378fa5(0x257)]!=0x0){const _0x44b342=config[_0x378fa5(0x2fd)][0x0]['changes'];dbPerformance[_0x378fa5(0x2b3)](_0x378fa5(0x23a))[_0x378fa5(0x24c)]({'date':config[_0x378fa5(0x22c)]})[_0x378fa5(0x2c6)]({'coins':_0x44b342})[_0x378fa5(0x1de)]();}}async function recreateCoinResults(){const _0x376d56=_0x4f04cf;let _0x5af10c,_0x157484=[];try{const _0x2df7a9=fns[_0x376d56(0x256)](fns[_0x376d56(0x244)](config[_0x376d56(0x22c)][_0x376d56(0x278)](/\//g,'-')),_0x376d56(0x2ba));for(const _0x2d2590 of currentCoins){if(_0x2d2590[_0x376d56(0x2da)]!=config[_0x376d56(0x292)]){let _0x1ae4a0=0x0,_0x3c0404,_0x1ca715;_0x5af10c=await getAllEventOrders(_0x2d2590[_0x376d56(0x31e)]);if(_0x5af10c[_0x376d56(0x257)]>0x0)_0x5af10c[_0x376d56(0x204)](_0x3ecd14=>{const _0xf97b7=_0x376d56,_0x178be4=_0x2d2590['symbol'][_0xf97b7(0x258)](config[_0xf97b7(0x292)]+'/');_0x157484[_0xf97b7(0x31c)]({'datetime':_0x3ecd14[_0xf97b7(0x20c)],'coin':_0x2d2590['coin'],'symbol':_0x2d2590[_0xf97b7(0x31e)],'side':_0x3ecd14[_0xf97b7(0x207)],'reverse':_0x178be4,'amount':formatResult(_0x3ecd14['filled'],0x8),'filled':formatResult(_0x3ecd14[_0xf97b7(0x1e4)],0x8),'price':formatResult(_0x3ecd14['price'],0x8)}),_0x1ae4a0=_0x3ecd14['side']==_0xf97b7(0x2d5)?_0x1ae4a0+_0x3ecd14['filled']:_0x1ae4a0-_0x3ecd14[_0xf97b7(0x1e4)];if(!_0x1ca715)_0x1ca715=_0x3ecd14[_0xf97b7(0x282)];});_0x3c0404=_0x2d2590[_0x376d56(0x1dd)]-_0x1ae4a0;let _0x9c0c70;config[_0x376d56(0x2fd)][_0x376d56(0x204)](_0x5047d1=>{const _0x556df2=_0x376d56;!_0x9c0c70&&(_0x9c0c70=_0x5047d1[_0x556df2(0x304)][_0x556df2(0x24c)](_0x302e06=>_0x302e06['coin']==_0x2d2590[_0x556df2(0x2da)]),_0x9c0c70&&(_0x3c0404=_0x9c0c70[_0x556df2(0x1dd)],_0x1ca715=_0x9c0c70['price']));});let _0x13a4bc=dbCoinResults[_0x376d56(0x2b3)](_0x376d56(0x30d))[_0x376d56(0x24c)]({'coin':_0x2d2590[_0x376d56(0x2da)]})[_0x376d56(0x231)]();_0x13a4bc={'coin':_0x2d2590[_0x376d56(0x2da)],'number':_0x3c0404,'breakeven':_0x1ca715,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')[_0x376d56(0x24c)]({'coin':_0x2d2590[_0x376d56(0x2da)]})['assign'](_0x13a4bc)[_0x376d56(0x1de)]();}}_0x157484[_0x376d56(0x2ca)]((_0x2ded8f,_0x121449)=>_0x2ded8f[_0x376d56(0x20c)]>_0x121449[_0x376d56(0x20c)]?0x1:_0x121449['datetime']>_0x2ded8f[_0x376d56(0x20c)]?-0x1:0x0);let _0x5bf677=0x0;for(let _0x544a82 of _0x157484){await updateCoinResults(_0x544a82,!![]);}}catch(_0x3ce5f5){await handleError(_0x3ce5f5,_0x376d56(0x2ee));}}async function getAllEventOrders(_0x430e7b){const _0x419927=_0x4f04cf;let _0x22c04b=[],_0xecc180=dbLogs['get']('logs')[_0x419927(0x1e8)](_0x182971=>{const _0x1699d6=_0x419927,_0x53d95f=_0x182971[_0x1699d6(0x209)][_0x1699d6(0x240)]();return _0x53d95f[_0x1699d6(0x258)](_0x430e7b['toLowerCase']())&&(_0x53d95f[_0x1699d6(0x258)](_0x1699d6(0x2e8))&&_0x53d95f[_0x1699d6(0x258)]('order')||_0x53d95f[_0x1699d6(0x258)]('filled')&&_0x53d95f[_0x1699d6(0x258)](_0x1699d6(0x25a)));})[_0x419927(0x23b)](_0x419927(0x219))['value']();return _0xecc180[_0x419927(0x204)](_0xd8c970=>{const _0x2a6a6e=_0x419927,_0x104e8c=_0xd8c970['event'][_0x2a6a6e(0x258)]('sell')?_0x2a6a6e(0x252):_0x2a6a6e(0x2d5),_0x24343f=/#([0-9]|\.)+\s/i,_0x4d0451=Number(_0x24343f[_0x2a6a6e(0x293)](_0xd8c970['event'])[0x0][_0x2a6a6e(0x2db)](0x1)),_0x1ff3af=/@([0-9]|\.)+$/i,_0x30b8b8=Number(_0x1ff3af[_0x2a6a6e(0x293)](_0xd8c970[_0x2a6a6e(0x209)])[0x0]['slice'](0x1));_0x22c04b['push']({'datetime':_0xd8c970['time'],'coin':symbolToCoin(_0x430e7b),'symbol':_0x430e7b,'side':_0x104e8c,'amount':_0x4d0451,'filled':_0x4d0451,'price':_0x30b8b8});}),_0x22c04b;}async function getAllOrders(_0x80fd0f,_0x44a2dd){const _0x21f2b6=_0x4f04cf;let _0x529ab0=[];while(_0x44a2dd<exchange[_0x21f2b6(0x1e9)]()){const _0x238447=0x1f4,_0x4f67b5=await exchange[_0x21f2b6(0x20f)](_0x80fd0f,_0x44a2dd,_0x238447);if(_0x4f67b5['length'])_0x44a2dd=_0x4f67b5[_0x4f67b5[_0x21f2b6(0x257)]-0x1][_0x21f2b6(0x314)]+0x1,_0x529ab0=_0x529ab0['concat'](_0x4f67b5);else break;}return _0x529ab0;}async function validate24hChanges(){const _0x507df9=_0x4f04cf;let _0x429b33;for(const _0x15c2e1 of currentCoins){if(_0x15c2e1[_0x507df9(0x2da)]!=config['basecoin']){let _0x32a5ce;_0x15c2e1[_0x507df9(0x2ea)]?_0x32a5ce=formatResult((0x1/(global[_0x507df9(0x325)][noslash(_0x15c2e1[_0x507df9(0x31e)])]/0x64+0x1)-0x1)*0x64,0x3):_0x32a5ce=global[_0x507df9(0x325)][noslash(_0x15c2e1[_0x507df9(0x31e)])],_0x32a5ce<config[_0x507df9(0x2bc)]&&(logHistory(_0x507df9(0x2f0),_0x15c2e1['coin']+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x32a5ce+'%'),logHistory('error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x507df9(0x2f0),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x332f74=_0x4f04cf;let _0x1496fb=dbLogs['get']('version')[_0x332f74(0x231)]();if(_0x1496fb!=_0x332f74(0x31a)){dbLogs[_0x332f74(0x319)]('version',_0x332f74(0x31a))['write']();let _0x514bd5=[];const _0x195059=dbLogs[_0x332f74(0x2b3)](_0x332f74(0x27b))[_0x332f74(0x231)]();_0x195059[_0x332f74(0x204)](_0x29aaa7=>{const _0x18c573=_0x332f74;_0x514bd5['push']({'time':_0x29aaa7['time'],'type':_0x29aaa7[_0x18c573(0x2e1)],'event':_0x29aaa7[_0x18c573(0x209)]});}),dbLogs['get'](_0x332f74(0x27b))[_0x332f74(0x2c6)](_0x514bd5)[_0x332f74(0x1de)]();}let _0x187fe7=dbConfig[_0x332f74(0x2b3)]('version')[_0x332f74(0x231)]();if(_0x187fe7!='2.3.5'){dbConfig[_0x332f74(0x319)](_0x332f74(0x2b9),_0x332f74(0x31a))[_0x332f74(0x1de)]();let _0x10ad51=dbConfig[_0x332f74(0x2b3)](_0x332f74(0x298))[_0x332f74(0x24c)]({'botID':botID})[_0x332f74(0x231)]();if(_0x10ad51){let _0x5479ea=[];_0x10ad51[_0x332f74(0x2bd)][_0x332f74(0x204)](_0x54bed9=>{const _0x2db6b2=_0x332f74;_0x5479ea[_0x2db6b2(0x31c)]({'coin':_0x54bed9[_0x2db6b2(0x2da)],'number':_0x54bed9[_0x2db6b2(0x2c2)],'price':_0x54bed9[_0x2db6b2(0x22d)]}),delete _0x54bed9[_0x2db6b2(0x2c2)],delete _0x54bed9[_0x2db6b2(0x22d)];});if(_0x5479ea['length']!==0x0)fs[_0x332f74(0x1e1)](configbackuppath+('starting-balance-'+botID+'.json'),JSON[_0x332f74(0x208)](_0x5479ea,null,0x4),function(_0x138792){if(_0x138792){}});const _0x4aff6f=(_0x10977a,_0x5ad448)=>{const _0x3e5201=_0x332f74;let _0x22e34d=[];_0x5ad448[_0x3e5201(0x204)](_0x55dcc5=>{const _0x4d0aae=_0x3e5201,_0x6351a6=_0x10977a['find'](_0x5b8c02=>_0x5b8c02[_0x4d0aae(0x2da)]==_0x55dcc5[_0x4d0aae(0x2da)]);if(!_0x6351a6)_0x22e34d[_0x4d0aae(0x31c)](_0x55dcc5);});let _0x5dc8c7=[];return _0x10977a[_0x3e5201(0x204)](_0x2ac8fd=>{const _0x44d1bd=_0x3e5201,_0x2a8ab8=_0x5ad448[_0x44d1bd(0x24c)](_0x37d88a=>_0x37d88a[_0x44d1bd(0x2da)]==_0x2ac8fd['coin']);if(!_0x2a8ab8||_0x2a8ab8[_0x44d1bd(0x1dd)]==0x0&&_0x2ac8fd['number']!=0x0)_0x5dc8c7['push'](_0x2ac8fd);}),{'missingDay1':_0x22e34d,'notInDay2':_0x5dc8c7};},_0x3654cb=dbPerformance[_0x332f74(0x2b3)](_0x332f74(0x23a))[_0x332f74(0x1df)]()[_0x332f74(0x231)]();if(_0x3654cb[_0x332f74(0x257)]>0x1){const {missingDay1:_0x33d787,notInDay2:_0x46b765}=_0x4aff6f(_0x5479ea,_0x3654cb[0x1]['coins']);_0x5479ea=[..._0x5479ea,..._0x33d787],_0x46b765['forEach'](_0x5df2e7=>{const _0x345d4e=_0x332f74;let _0x23093b=_0x5479ea[_0x345d4e(0x1f5)](_0x20a718=>_0x20a718[_0x345d4e(0x2da)]==_0x5df2e7['coin']);_0x23093b!=-0x1&&_0x5479ea[_0x345d4e(0x2fb)](_0x23093b,0x1);});}_0x5479ea['sort']((_0x38217a,_0x13d168)=>_0x38217a[_0x332f74(0x2da)]>_0x13d168['coin']?0x1:_0x13d168[_0x332f74(0x2da)]>_0x38217a[_0x332f74(0x2da)]?-0x1:0x0);let _0x7a53b7=[{'date':_0x10ad51[_0x332f74(0x22c)],'changes':_0x5479ea}];_0x3654cb[_0x332f74(0x257)]>0x2&&_0x3654cb[_0x332f74(0x204)]((_0x97b75,_0x583ce5)=>{const _0x57a5fe=_0x332f74;if(_0x583ce5>0x0&&_0x583ce5<_0x3654cb[_0x57a5fe(0x257)]-0x1){const {missingDay1:_0x2a77d5,notInDay2:_0x1b91da}=_0x4aff6f(_0x3654cb[_0x583ce5][_0x57a5fe(0x30d)],_0x3654cb[_0x583ce5+0x1][_0x57a5fe(0x30d)]);_0x5479ea=[],(_0x2a77d5[_0x57a5fe(0x257)]!=0x0||_0x1b91da[_0x57a5fe(0x257)]!=0x0)&&(_0x2a77d5[_0x57a5fe(0x257)]!=0x0&&_0x5479ea[_0x57a5fe(0x31c)](..._0x2a77d5),_0x1b91da['length']!=0x0&&(_0x1b91da[_0x57a5fe(0x204)](_0x32ff70=>{_0x32ff70['number']=-_0x32ff70['number'];}),_0x5479ea[_0x57a5fe(0x31c)](..._0x1b91da)),_0x5479ea[_0x57a5fe(0x2ca)]((_0x117b66,_0x5916)=>_0x117b66[_0x57a5fe(0x2da)]>_0x5916[_0x57a5fe(0x2da)]?0x1:_0x5916[_0x57a5fe(0x2da)]>_0x117b66[_0x57a5fe(0x2da)]?-0x1:0x0),_0x7a53b7[_0x57a5fe(0x31c)]({'date':_0x3654cb[_0x583ce5+0x1]['date'],'changes':_0x5479ea}));}}),dbConfig[_0x332f74(0x2b3)](_0x332f74(0x298))['find']({'botID':botID})[_0x332f74(0x2c6)]({..._0x10ad51,'liquidity':_0x7a53b7})[_0x332f74(0x1de)]();}}config=getConfiguration(botID);let _0x2ab06b=dbPerformance[_0x332f74(0x2b3)](_0x332f74(0x2b9))[_0x332f74(0x231)]();_0x2ab06b!=_0x332f74(0x31a)&&(dbPerformance[_0x332f74(0x319)]('version','2.3.5')['write'](),setStartDatePerformance());let _0x293f92=dbCoinResults[_0x332f74(0x2b3)](_0x332f74(0x2b9))[_0x332f74(0x231)]();if(_0x293f92!=_0x332f74(0x289)){dbCoinResults[_0x332f74(0x319)](_0x332f74(0x2b9),_0x332f74(0x289))[_0x332f74(0x1de)]();let _0xbea6d7=dbCoinResults[_0x332f74(0x2b3)](_0x332f74(0x30d))[_0x332f74(0x231)]();if(_0xbea6d7[_0x332f74(0x257)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x178e2a){const _0x5215d5=_0x4f04cf;let _0x2f70df=dbConfig[_0x5215d5(0x2b3)](_0x5215d5(0x298))[_0x5215d5(0x24c)]({'botID':_0x178e2a})[_0x5215d5(0x231)]();if(_0x2f70df){let _0x47aade=![];typeof _0x2f70df[_0x5215d5(0x2a5)]==_0x5215d5(0x226)&&(_0x2f70df={..._0x2f70df,'threshold':Number(_0x2f70df['threshold'])},_0x47aade=!![]),_0x2f70df[_0x5215d5(0x2bc)]==null&&(_0x2f70df={..._0x2f70df,'change24h':-0x14},_0x47aade=!![]),_0x47aade&&(_0x2f70df={'botID':_0x2f70df[_0x5215d5(0x2aa)],'exchange':_0x2f70df['exchange'],'apiKey':_0x2f70df[_0x5215d5(0x2a7)],'apiSecret':_0x2f70df[_0x5215d5(0x30e)],'basecoin':_0x2f70df[_0x5215d5(0x292)],'botname':_0x2f70df['botname'],'showname':_0x2f70df['showname'],'threshold':_0x2f70df[_0x5215d5(0x2a5)],'ordertype':_0x2f70df[_0x5215d5(0x259)],'timeout':_0x2f70df[_0x5215d5(0x2d4)],'startdate':_0x2f70df[_0x5215d5(0x22c)],'recreate':_0x2f70df[_0x5215d5(0x200)],'timeshift':_0x2f70df['timeshift'],'headless':_0x2f70df[_0x5215d5(0x299)],'cooldown':_0x2f70df[_0x5215d5(0x32a)],'change24h':_0x2f70df[_0x5215d5(0x2bc)],'emojibuy':_0x2f70df[_0x5215d5(0x1ea)],'emojisell':_0x2f70df[_0x5215d5(0x318)],'portfolio':_0x2f70df[_0x5215d5(0x2bd)],'liquidity':_0x2f70df[_0x5215d5(0x2fd)]},dbConfig[_0x5215d5(0x2b3)](_0x5215d5(0x298))['remove']()[_0x5215d5(0x1de)](),dbConfig[_0x5215d5(0x2b3)](_0x5215d5(0x298))[_0x5215d5(0x31c)](_0x2f70df)['write']());}else _0x2f70df={'botID':_0x178e2a,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x5215d5(0x28c)+_0x178e2a,'showname':![],'threshold':0x3,'ordertype':_0x5215d5(0x2e8),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x5215d5(0x274)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x2f70df;}function emittedConfiguration(){const _0x2da36a=_0x4f04cf;let _0x4a6468;if(config['apiKey']=='')_0x4a6468={...config,'configstate':_0x2da36a(0x217)};else config[_0x2da36a(0x2a7)]=='***'?_0x4a6468={...config,'configstate':'recovery'}:_0x4a6468={...config,'apiKey':_0x2da36a(0x206),'apiSecret':_0x2da36a(0x206)};return _0x4a6468;}function getSettings(){const _0x378a3c=_0x4f04cf;return dbSettings['get'](_0x378a3c(0x1dc))[_0x378a3c(0x231)]();}function getSecure(){const _0x11e33d=_0x4f04cf;return dbSecure[_0x11e33d(0x2b3)](_0x11e33d(0x31d))['value']()||{};}function updateTimeshift(_0x5bd571){const _0x8ae352=_0x4f04cf;let _0x5c4cdd=dbConfig[_0x8ae352(0x2b3)]('bot')[_0x8ae352(0x24c)]({'botID':botID})[_0x8ae352(0x231)]();_0x5c4cdd&&dbConfig['get']('bot')[_0x8ae352(0x24c)]({'botID':botID})[_0x8ae352(0x2c6)]({'timeshift':_0x5bd571})[_0x8ae352(0x1de)](),config[_0x8ae352(0x274)]=_0x5bd571,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x18db2d){const _0x1d2604=_0x4f04cf;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x5b7833=dbConfig[_0x1d2604(0x2b3)]('bot')['find']({'botID':botID})['value']();_0x18db2d={..._0x18db2d,'apiKey':crypt[_0x1d2604(0x26b)](secure[_0x1d2604(0x24e)],_0x18db2d['apiKey'])[_0x1d2604(0x31f)],'apiSecret':crypt[_0x1d2604(0x26b)](secure[_0x1d2604(0x24e)],_0x18db2d[_0x1d2604(0x30e)])[_0x1d2604(0x31f)]};if(_0x5b7833){if(_0x18db2d[_0x1d2604(0x2a7)]==_0x1d2604(0x206))_0x18db2d[_0x1d2604(0x2a7)]=config[_0x1d2604(0x2a7)];if(_0x18db2d[_0x1d2604(0x30e)]=='************')_0x18db2d[_0x1d2604(0x30e)]=config[_0x1d2604(0x30e)];dbConfig['get'](_0x1d2604(0x298))[_0x1d2604(0x24c)]({'botID':botID})['assign'](_0x18db2d)['write']();}else dbConfig[_0x1d2604(0x2b3)](_0x1d2604(0x298))[_0x1d2604(0x31c)](_0x18db2d)[_0x1d2604(0x1de)](),process[_0x1d2604(0x2fe)]({'status':_0x1d2604(0x262),'live':_0x1d2604(0x211)},_0x563a42=>{});config={..._0x18db2d},setStartDatePerformance(),process[_0x1d2604(0x2fe)]({'botname':_0x18db2d[_0x1d2604(0x20b)]},_0x296c59=>{}),updateBotManager();const _0x402b98=getNormalizedPerformance();getStartingBalances(_0x402b98),emitPerformance(_0x402b98),proxyEmit('configuration-stored'),await initCoinResults(),reset();}async function storeHeadless(_0x197715){const _0x13bc7d=_0x4f04cf,_0x29aa0b={...config,'headless':_0x197715[_0x13bc7d(0x299)]};let _0x298595=dbConfig['get'](_0x13bc7d(0x298))[_0x13bc7d(0x24c)]({'botID':botID})['value']();_0x298595&&dbConfig[_0x13bc7d(0x2b3)](_0x13bc7d(0x298))['find']({'botID':botID})[_0x13bc7d(0x2c6)](_0x29aa0b)[_0x13bc7d(0x1de)](),config={..._0x29aa0b},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x216e30){const _0x44a30d=_0x4f04cf;return _0x216e30[_0x44a30d(0x278)]('/','');}async function updateNumberCoins(_0x1074bb){const _0x14588b=_0x4f04cf;if(_0x1074bb['eventType']&&_0x1074bb[_0x14588b(0x1ed)]=='executionReport'){let _0x48a8a9=_0x1074bb[_0x14588b(0x2d1)],_0x563d4d=![];currentCoins['forEach'](_0x3f6ec1=>{const _0x572960=_0x14588b;noslash(_0x3f6ec1[_0x572960(0x31e)])==_0x1074bb[_0x572960(0x31e)]&&(_0x563d4d=!![]);});if(!_0x563d4d)return;const _0x4405cd=currentCoins['find'](_0x1c7a84=>noslash(_0x1c7a84[_0x14588b(0x31e)])==_0x1074bb[_0x14588b(0x31e)]),_0x51b800=_0x53a1c1=>{if(_0x4405cd)_0x4405cd['orderstatus']=_0x53a1c1;};if(_0x48a8a9==_0x14588b(0x275))_0x51b800(_0x14588b(0x2cd));else{if(_0x48a8a9==_0x14588b(0x288))_0x51b800(_0x14588b(0x32e)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x48a8a9=='FILLED'){let _0x44bef9=![];console[_0x14588b(0x1e2)]('FILLED'),console[_0x14588b(0x1e2)](_0x14588b(0x1fc),lastOrders),console[_0x14588b(0x1e2)]('data',_0x1074bb);if(lastOrders)lastOrders['forEach'](async _0x589c75=>{const _0x6a2771=_0x14588b;if(_0x589c75[_0x6a2771(0x28f)]==_0x1074bb[_0x6a2771(0x1fd)]){_0x44bef9=!![];if(_0x589c75[_0x6a2771(0x1e4)]==0x0){_0x589c75[_0x6a2771(0x282)]=_0x1074bb[_0x6a2771(0x253)]/_0x1074bb[_0x6a2771(0x220)],_0x589c75['filled']=_0x1074bb[_0x6a2771(0x220)],_0x589c75[_0x6a2771(0x2f5)]={'cost':_0x1074bb[_0x6a2771(0x21d)],'currency':_0x1074bb[_0x6a2771(0x2a4)]},_0x51b800(_0x6a2771(0x1e4)),await validateOrders();if(lockOrders==ORDERS[_0x6a2771(0x295)])currentCoins=await getCoins();await updateCoinResults(_0x589c75);}}});!_0x44bef9&&(_0x51b800('filled'),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x920895=JSON['parse'](lastBalances['portfolio']);const _0x35b6de=_0x920895[_0x14588b(0x24c)](_0x2e8611=>noslash(_0x2e8611[_0x14588b(0x31e)])==_0x1074bb[_0x14588b(0x31e)]);if(_0x35b6de){if(_0x48a8a9==_0x14588b(0x275))_0x35b6de['orderstatus']=_0x35b6de['orderstatus']==_0x14588b(0x1e4)?_0x14588b(0x1e4):_0x14588b(0x2cd);else{if(_0x48a8a9=='CANCELED')_0x35b6de[_0x14588b(0x326)]=_0x35b6de[_0x14588b(0x326)]=='filled'?_0x14588b(0x1e4):'canceled';else _0x48a8a9==_0x14588b(0x279)&&(_0x35b6de[_0x14588b(0x326)]=_0x14588b(0x1e4));}}lastBalances={...lastBalances,'portfolio':JSON[_0x14588b(0x208)](_0x920895)},proxyEmit(_0x14588b(0x2d7),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x3d6496=![],_0x3783b9=!![],_0x1a57ed=config[_0x4f04cf(0x292)]){const _0x42a017=_0x4f04cf;let _0x4aeca8,_0x56a6b9=[],_0x389dc0=[],_0x357e0c=[];try{_0x4aeca8=await exchange['fetchBalance'](),mybalances=_0x4aeca8[_0x42a017(0x249)];if(!_0x3783b9)for(const [_0x2fccc5,_0x506aca]of Object[_0x42a017(0x25f)](mybalances)){_0x357e0c[_0x42a017(0x31c)](_0x2fccc5);}else config[_0x42a017(0x2bd)][_0x42a017(0x204)](_0x137985=>{const _0xa120b6=_0x42a017;if(!_0x137985[_0xa120b6(0x251)])_0x357e0c['push'](_0x137985[_0xa120b6(0x2da)]);});if(_0x1a57ed=='')for(const [_0x46be0c,_0x2db5ea]of Object[_0x42a017(0x25f)](mybalances)){_0x2db5ea[_0x42a017(0x222)]()!=0x0&&_0x389dc0[_0x42a017(0x31c)]({'coin':_0x46be0c});}else{if(_0x3d6496)await getOpenOrders();let _0x5db73b=![];for(const [_0x5e9b55,_0x5646f7]of Object[_0x42a017(0x25f)](mybalances)){if(_0x357e0c[_0x42a017(0x258)](_0x5e9b55)){const _0x57cb6c=config[_0x42a017(0x2bd)][_0x42a017(0x24c)](_0x301751=>_0x301751[_0x42a017(0x2da)]==_0x5e9b55),_0x761033=_0x5e9b55+'/'+_0x1a57ed,_0x31452f=_0x1a57ed+'/'+_0x5e9b55,_0x261ca0=currentCoins[_0x42a017(0x24c)](_0x3fb9db=>_0x3fb9db[_0x42a017(0x2da)]==_0x5e9b55);_0x5db73b=![];_0x3d6496&&(_0x5db73b=allOpenOrders[_0x42a017(0x24c)](_0x2306d6=>_0x2306d6[_0x42a017(0x31e)]==_0x57cb6c['symbol']));if((_0x5646f7[_0x42a017(0x222)]()!=0x0||_0x57cb6c)&&(allSymbols[_0x42a017(0x258)](_0x761033)||_0x5e9b55==_0x1a57ed))_0x5e9b55!=_0x1a57ed&&_0x56a6b9[_0x42a017(0x31c)](_0x761033),_0x389dc0['push']({'coin':_0x5e9b55,'symbol':_0x761033,'reverse':![],'number':Math[_0x42a017(0x2fc)](_0x5646f7+(_0x57cb6c&&_0x57cb6c['offset']||0x0),0x0),'orderstatus':_0x3d6496?_0x5db73b?_0x42a017(0x2cd):_0x42a017(0x246):_0x261ca0?_0x261ca0[_0x42a017(0x326)]:_0x42a017(0x246)});else(_0x5646f7[_0x42a017(0x222)]()!=0x0||_0x57cb6c)&&allSymbols[_0x42a017(0x258)](_0x31452f)&&(_0x5e9b55!=_0x1a57ed&&_0x56a6b9[_0x42a017(0x31c)](_0x31452f),_0x389dc0[_0x42a017(0x31c)]({'coin':_0x5e9b55,'symbol':_0x31452f,'reverse':!![],'number':Math[_0x42a017(0x2fc)](_0x5646f7+(_0x57cb6c&&_0x57cb6c[_0x42a017(0x214)]||0x0),0x0),'orderstatus':_0x3d6496?_0x5db73b?_0x42a017(0x2cd):_0x42a017(0x246):_0x261ca0?_0x261ca0[_0x42a017(0x326)]:_0x42a017(0x246)}));}}}}catch(_0xcfa73a){if(!_0x3783b9){if(_0xcfa73a[_0x42a017(0x222)]()[_0x42a017(0x258)](_0x42a017(0x224)))return logHistory(_0x42a017(0x2f0),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0xcfa73a[_0x42a017(0x222)]()[_0x42a017(0x258)](_0x42a017(0x287)))return logHistory(_0x42a017(0x2f0),_0x42a017(0x28e)),![];else{if(_0xcfa73a[_0x42a017(0x222)]()[_0x42a017(0x258)](_0x42a017(0x228)))return logHistory(_0x42a017(0x2f0),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0xcfa73a,_0x42a017(0x28d));}}}else await handleError(_0xcfa73a,_0x42a017(0x28d));}return _0x389dc0;}async function getCoinNumber(_0x2d6333){const _0x1d7b9c=_0x4f04cf;let _0x2debe5;try{const _0x1495d5=await exchange['fetchBalance']();_0x2debe5=_0x1495d5[_0x1d7b9c(0x249)][_0x2d6333];}catch(_0x4f171c){await handleError(_0x4f171c,'getCoinNumber()');}return _0x2debe5;}async function getOpenOrders(){const _0xa64e38=_0x4f04cf;let _0x5eb6e9;allOpenOrders=[];try{for(const _0x202f69 of config['portfolio']){!_0x202f69[_0xa64e38(0x251)]&&_0x202f69[_0xa64e38(0x2da)]!=config[_0xa64e38(0x292)]&&(_0x5eb6e9=await exchange[_0xa64e38(0x268)](_0x202f69[_0xa64e38(0x31e)]),_0x5eb6e9[_0xa64e38(0x257)]>0x0&&allOpenOrders[_0xa64e38(0x31c)](_0x5eb6e9[0x0]));}}catch(_0x46e6bf){await handleError(_0x46e6bf,_0xa64e38(0x265));}}async function handleOpenOrders(_0x348476=0x0){const _0x4fbb0d=_0x4f04cf;allOpenOrders[_0x4fbb0d(0x257)]==0x0&&lockOrders==ORDERS[_0x4fbb0d(0x295)]&&allOrdersPlaced&&(_0x348476==0x0?(_0x348476++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x4fbb0d(0x238)));}async function getPortfolio(_0x525852){const _0x11ff56=_0x4f04cf;let _0x5725fb=[],_0xcbbdff=[],_0x42de21,_0x526884=[],_0x19e081,_0x275cdb;_0x525852[_0x11ff56(0x2a7)]===_0x11ff56(0x206)||_0x525852[_0x11ff56(0x30e)]===_0x11ff56(0x206)?(_0x19e081=config[_0x11ff56(0x2a7)],_0x275cdb=config[_0x11ff56(0x30e)]):(_0x19e081=_0x525852['apiKey'],_0x275cdb=_0x525852[_0x11ff56(0x30e)]);await initExchange(_0x19e081,_0x275cdb);let _0x593009=await loadSymbols();if(_0x593009){_0x526884=await getCoins(![],![],_0x525852[_0x11ff56(0x292)]);if(_0x526884===![])proxyEmit(_0x11ff56(0x2bd),![]);else{if(_0x525852[_0x11ff56(0x292)]=='')proxyEmit(_0x11ff56(0x2bd),_0x526884);else{_0x526884['forEach'](_0x2215e4=>{const _0x326a80=_0x11ff56;if(_0x2215e4[_0x326a80(0x2da)]!=_0x525852[_0x326a80(0x292)])_0x5725fb[_0x326a80(0x31c)](_0x2215e4[_0x326a80(0x31e)]);});try{_0xcbbdff=await exchange[_0x11ff56(0x1f0)](_0x5725fb);}catch(_0x1c766b){await handleError(_0x1c766b,'getPortfolio()');}_0x526884[_0x11ff56(0x204)](_0x1c4ed0=>{const _0x3a1783=_0x11ff56;_0x1c4ed0[_0x3a1783(0x2da)]!=_0x525852[_0x3a1783(0x292)]?_0x42de21=_0x1c4ed0[_0x3a1783(0x2ea)]?0x1/_0xcbbdff[_0x1c4ed0[_0x3a1783(0x31e)]]['last']:_0xcbbdff[_0x1c4ed0['symbol']][_0x3a1783(0x266)]:_0x42de21=0x1,_0x1c4ed0[_0x3a1783(0x282)]=formatResult(_0x42de21,0x8);}),proxyEmit('portfolio',_0x526884);}}}else proxyEmit(_0x11ff56(0x2bd),![]);}function _0x3fb5(){const _0x4b57e5=['BUSD','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','padEnd','get','(((.+)+)+)+$','-------------------------------\x0a','***','%\x20\x0a','\x20orders\x20in\x20less\x20than\x20','version','yyyy-MM-dd\x27T\x27HH:mm:ss','Crypt','change24h','portfolio','/output-000.log','RequestTimeout','symbols','exit','startnumber','HOT/EUR','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','DAI/','assign','OrderNotFound','wss://stream.binance.us:9443','./version.json','sort','target','search','open','sha256','getMonth','userData','orderStatus','558116RjTjlL','001','timeout','buy','exchange','balances','ongoing','cost','coin','slice','ExchangeNotAvailable','Manual\x20balancing\x20required:\x20','min','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','indexOf','type',':\x20Bot\x20','\x20-\x20bot\x20not\x20started','Order\x20filled:\x20','ticker','Pausing\x20for\x20','test','market','page','reverse','BTC','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','toFixed','recreateCoinResults()','<pre>','error','lowdb/adapters/FileSync','initws()','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','HOT/BTC','fee','-events.json','getFullYear','netoffset','-results.json','balancing\x20resumes\x20when\x20cooldown\x20ends','splice','max','liquidity','send','Binance\x20not\x20available\x20(2)','loadSymbols()','_events','initclient','\x20value','changes','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','1390149BvQWgP','4DgcYbA','limit','UNLOCKED','net-basecoin','DDoSProtection','cancel','coins','apiSecret','mkdirSync','</pre>','deleteHistoryAlerts','parse','function','timestamp','Market','11779724vwHyqK','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','emojisell','set','2.3.5','6425QGifCI','push','secure','symbol','message','Limit\x20(low-margin)','Binance\x20not\x20available\x20(1)','remove','fiat','isArray','change','orderstatus','sendPortfolioTelegram','api_key','close','cooldown','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','net-fiat','join','canceled','4mbLAXg','configuration','settings','number','write','cloneDeep','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','writeFile','log','wss://stream.binance.com:9443','filled','./logs/','apply','YOYOW/','filter','milliseconds','emojibuy','storeConfiguration','Order\x20amount\x20is\x20invalid:\x20','eventType','\x20-\x20','uncaughtException','fetchTickers','Executed\x20','fromCodePoint','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','rightTxt','findIndex','/USDT','reconnected','formattedMessage','\x20|\x20Binance\x20API\x20secret\x20invalid','differenceInSeconds','breakeven','lastOrders','newClientOrderId','limits','yyyy/MM/dd','recreate','bot-','\x20|\x20Error\x20details:\x20','kline','forEach','Binance\x20API\x20blocked','************','side','stringify','event','./config/','botname','datetime','RSA-OAEP','binance','fetchClosedOrders','valid','running','5433365bxifRP','balancing\x20resumed','offset','restart','Order(s)\x20filled\x20-\x20','initial','remainingSymbols','time','\x20:\x20','getTime','ETH','commission','final','cancelOrders()','accumulatedQuantity','Error:\x20Invalid\x20argument\x20','toString','API\x20or\x20clock\x20sync\x20issue','API-key\x20format\x20invalid','delta','string','args','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','InvalidNonce','getMinutes','20wGjyok','startdate','startprice','map','event-history','progress','value','util','WebSockets(','shift','4506bFPBJl','bb-settings.json','USDT','no\x20open\x20orders','2644740YqTqnv','data','sortBy','-performance.json','placeOrder','existsSync','Invalid\x20quantity','toLowerCase','\x20order:\x20','showname','success','parseISO','BNB/','none','Net\x20effect','subscribeSymbol24hrTicker','total','split','defaults','find','sells','privateKey','ccxt','constructor','excluded','sell','cumulativeQuoteAssetTransactedQty','\x20>\x20','No\x20more\x20open\x20orders\x20-\x20','format','length','includes','ordertype','order','Cooldown\x20ended\x20-\x20balancing\x20resumed','padStart','EUR','getStartingBalances','entries','buys','openOrders','enabled','/backup/','getDate','getOpenOrders()','last','fees','fetchOpenOrders','BNB','emitHistory','decrypt','\x20minutes','Unfilled\x20order(s)\x20canceled\x20after\x20','limit-high','abs','argv','amount','usd','priceChangePercent','timeshift','NEW','precision','binanceus','replace','FILLED','bb-secure.json','logs','trade','round','<b>','createOrder','7701896sWqgdl','keys','price','leftTxt','date','subscribeSpotKline','eur','AuthenticationError','CANCELED','2.5.0','orderId','api_secret','Bot\x20','getCoins()','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','customId','MIN_NOTIONAL','full','basecoin','exec','\x20minutes\x20-\x20','LOCKED','options','add','bot','headless','getSeconds','<b>Bot\x20','hybrid-crypto-js','lowdb','spot','currency','limit-low','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','wsMarket','XEM/BUSD','commissionAsset','threshold','freeze','apiKey','Failed\x20to\x20load\x20coin\x20data\x20for\x20','simple','botID','performance','Binance\x20not\x20responding','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','-config.json','distribution'];_0x3fb5=function(){return _0x4b57e5;};return _0x3fb5();}function checkMinimums(_0x60bae6){const _0x17725e=_0x4f04cf;let _0x3cfe27=!![];const _0x1a2129=!_0x60bae6[_0x17725e(0x2ea)]?markets[_0x60bae6[_0x17725e(0x31e)]][_0x17725e(0x1fe)]['amount'][_0x17725e(0x2de)]:markets[_0x60bae6[_0x17725e(0x31e)]]['limits'][_0x17725e(0x2d9)][_0x17725e(0x2de)],_0x550810=!_0x60bae6[_0x17725e(0x2ea)]?markets[_0x60bae6[_0x17725e(0x31e)]][_0x17725e(0x1fe)][_0x17725e(0x2d9)][_0x17725e(0x2de)]:markets[_0x60bae6[_0x17725e(0x31e)]]['limits'][_0x17725e(0x271)][_0x17725e(0x2de)],_0x4123ca=markets[_0x60bae6[_0x17725e(0x31e)]][_0x17725e(0x276)][_0x17725e(0x271)];_0x60bae6[_0x17725e(0x27c)]=formatResultTruncate(_0x60bae6[_0x17725e(0x27c)],_0x4123ca);if(Math[_0x17725e(0x26f)](_0x60bae6[_0x17725e(0x27c)])<_0x1a2129)_0x3cfe27=![];if(Math[_0x17725e(0x26f)](_0x60bae6[_0x17725e(0x27c)])*_0x60bae6['last']<_0x550810)_0x3cfe27=![];if(_0x60bae6['side']=='sell'){let _0x44017b=config[_0x17725e(0x2bd)][_0x17725e(0x24c)](_0x5b52a5=>_0x5b52a5[_0x17725e(0x2da)]==_0x60bae6[_0x17725e(0x2da)]);if(_0x44017b[_0x17725e(0x214)]>0x0){if(Math[_0x17725e(0x26f)](_0x60bae6[_0x17725e(0x27c)])>_0x60bae6[_0x17725e(0x1dd)]-_0x44017b['offset'])_0x3cfe27=![];}else{if(Math[_0x17725e(0x26f)](_0x60bae6['trade'])>_0x60bae6[_0x17725e(0x1dd)])_0x3cfe27=![];}}if(_0x60bae6[_0x17725e(0x207)]=='buy'){let _0x436295=config[_0x17725e(0x2bd)][_0x17725e(0x24c)](_0x2cb512=>_0x2cb512[_0x17725e(0x2da)]==config[_0x17725e(0x292)]),_0x40be58=currentCoins['find'](_0x3415fa=>_0x3415fa[_0x17725e(0x2da)]==config[_0x17725e(0x292)]);if(_0x436295[_0x17725e(0x214)]>0x0){if(Math[_0x17725e(0x26f)](_0x60bae6[_0x17725e(0x27c)])*_0x60bae6[_0x17725e(0x266)]>_0x40be58['number']-_0x436295[_0x17725e(0x214)])_0x3cfe27=![];}else{if(Math[_0x17725e(0x26f)](_0x60bae6['trade'])*_0x60bae6[_0x17725e(0x266)]>_0x40be58[_0x17725e(0x1dd)])_0x3cfe27=![];}}return _0x3cfe27;}async function getBalances(){const _0xdd5a8=_0x4f04cf;let _0x519cb9=0x0,_0x74dbf9;const _0x59c966=config[_0xdd5a8(0x2a5)];if(config[_0xdd5a8(0x299)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0xdd5a8(0x204)](_0x5eedce=>{const _0x1c08b0=_0xdd5a8;if(_0x5eedce[_0x1c08b0(0x2da)]!=config[_0x1c08b0(0x292)]){let _0x3ce181=global['ticker'][noslash(_0x5eedce[_0x1c08b0(0x31e)])];_0x74dbf9=_0x5eedce[_0x1c08b0(0x2ea)]?0x1/_0x3ce181:_0x3ce181;}else _0x74dbf9=0x1;let _0x1b4ee0=_0x5eedce[_0x1c08b0(0x1dd)]*_0x74dbf9;_0x519cb9+=_0x1b4ee0,_0x5eedce[_0x1c08b0(0x266)]=formatResult(Number(_0x74dbf9),0x8),_0x5eedce[_0x1c08b0(0x231)]=_0x1b4ee0;}),currentCoins[_0xdd5a8(0x204)](_0x11a599=>{const _0x5578c6=_0xdd5a8;let _0x4d67b2=config[_0x5578c6(0x2bd)][_0x5578c6(0x24c)](_0x55d910=>_0x55d910[_0x5578c6(0x2da)]==_0x11a599['coin']),_0x50e352=Number(_0x4d67b2[_0x5578c6(0x2af)]),_0x50a74b=_0x11a599[_0x5578c6(0x231)]/_0x519cb9*0x64,_0x2178f9=_0x50e352*_0x519cb9/0x64/_0x11a599['last']-_0x11a599['number'];_0x11a599['distribution']=formatResult(_0x50a74b,0x3),_0x11a599[_0x5578c6(0x2cb)]=formatResult(_0x50e352,0x3),_0x11a599[_0x5578c6(0x27c)]=formatResult(_0x2178f9,0x8),_0x11a599[_0x5578c6(0x207)]='',_0x11a599['valid']=![];if(_0x11a599[_0x5578c6(0x2da)]!=config[_0x5578c6(0x292)]){if(_0x11a599[_0x5578c6(0x2af)]>_0x50e352)_0x11a599[_0x5578c6(0x207)]=_0x5578c6(0x252),_0x11a599[_0x5578c6(0x210)]=checkMinimums(_0x11a599);else _0x11a599[_0x5578c6(0x2af)]<_0x50e352&&(_0x11a599['side']=_0x5578c6(0x2d5),_0x11a599[_0x5578c6(0x210)]=checkMinimums(_0x11a599));}_0x11a599[_0x5578c6(0x225)]=_0x11a599[_0x5578c6(0x2af)]/_0x11a599[_0x5578c6(0x2cb)]-0x1;if(_0x11a599[_0x5578c6(0x326)]==_0x5578c6(0x1e4)||_0x11a599[_0x5578c6(0x326)]==_0x5578c6(0x32e))_0x11a599[_0x5578c6(0x326)]='none';}),currentCoins['sort']((_0xa1be2b,_0x5ee750)=>_0xa1be2b[_0xdd5a8(0x225)]<_0x5ee750[_0xdd5a8(0x225)]?0x1:_0x5ee750[_0xdd5a8(0x225)]<_0xa1be2b[_0xdd5a8(0x225)]?-0x1:0x0);const _0x1c05c2=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1c05c2[_0xdd5a8(0x286)],'usd':_0x1c05c2['usd'],'portfolio':JSON[_0xdd5a8(0x208)](currentCoins),'threshold':_0x59c966},proxyEmit(_0xdd5a8(0x2d7),{'serverversion':serverversion,'balances':lastBalances});if(config[_0xdd5a8(0x299)])headlessMode({'portfolio':currentCoins,'threshold':_0x59c966});else{if(lockOrders==ORDERS[_0xdd5a8(0x309)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x59c966});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3c1fe6=_0x4f04cf;if(!lastBalances)return;let _0x540b30=[],_0x57abfd,_0xdcc6fe=JSON[_0x3c1fe6(0x312)](lastBalances[_0x3c1fe6(0x2bd)]);_0xdcc6fe[_0x3c1fe6(0x2ca)]((_0x3eaa47,_0x29c21b)=>_0x3eaa47[_0x3c1fe6(0x2da)]>_0x29c21b[_0x3c1fe6(0x2da)]?0x1:_0x29c21b[_0x3c1fe6(0x2da)]>_0x3eaa47[_0x3c1fe6(0x2da)]?-0x1:0x0),_0xdcc6fe[_0x3c1fe6(0x204)](_0x3b30a2=>{const _0x32a2fe=_0x3c1fe6;let _0x485346={'coin':_0x3b30a2[_0x32a2fe(0x2da)],'number':_0x3b30a2['number'],'price':_0x3b30a2[_0x32a2fe(0x266)]};_0x540b30[_0x32a2fe(0x31c)](_0x485346);});const _0x339525=await getFiat();_0x57abfd={'date':lastBalances[_0x3c1fe6(0x219)]['split']('\x20')[0x0],'eur':_0x339525[_0x3c1fe6(0x286)],'usd':_0x339525['usd'],'coins':_0x540b30};let _0x40b78b=dbPerformance[_0x3c1fe6(0x2b3)](_0x3c1fe6(0x23a))[_0x3c1fe6(0x24c)]({'date':_0x57abfd['date']})[_0x3c1fe6(0x231)]();_0x40b78b?_0x57abfd[_0x3c1fe6(0x284)]!=config[_0x3c1fe6(0x22c)]&&dbPerformance['get'](_0x3c1fe6(0x23a))[_0x3c1fe6(0x24c)]({'date':_0x57abfd[_0x3c1fe6(0x284)]})[_0x3c1fe6(0x2c6)](_0x57abfd)[_0x3c1fe6(0x1de)]():dbPerformance[_0x3c1fe6(0x2b3)](_0x3c1fe6(0x23a))[_0x3c1fe6(0x31c)](_0x57abfd)[_0x3c1fe6(0x1de)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x45a338=_0x4f04cf;let _0x12d2d8=[];if(dbPerformance['has'](_0x45a338(0x23a))[_0x45a338(0x231)]()){let _0x48e95d=dbPerformance[_0x45a338(0x2b3)](_0x45a338(0x23a))[_0x45a338(0x1df)]()[_0x45a338(0x23b)](_0x45a338(0x284))[_0x45a338(0x231)](),_0x22b13b=[...config[_0x45a338(0x2fd)]];_0x22b13b[_0x45a338(0x2ca)]((_0x4e1a47,_0x49add9)=>_0x4e1a47[_0x45a338(0x284)]>_0x49add9['date']?-0x1:_0x49add9[_0x45a338(0x284)]>_0x4e1a47['date']?0x1:0x0);let _0x18bdb2=0x1,_0x45bf7c=[],_0x52b7ee=0x0;_0x48e95d[_0x45a338(0x2db)]()[_0x45a338(0x2ea)]()[_0x45a338(0x204)]((_0xffca63,_0x251b2f)=>{const _0x43c774=_0x45a338;if(_0x22b13b[_0x52b7ee]){if(_0x48e95d[_0x48e95d['length']-_0x251b2f]&&_0x22b13b[_0x52b7ee][_0x43c774(0x284)]==_0x48e95d[_0x48e95d['length']-_0x251b2f][_0x43c774(0x284)]){if(_0x251b2f<_0x48e95d[_0x43c774(0x257)]){let _0x3b8025=0x0,_0x3f0473=0x0;_0x48e95d[_0x48e95d[_0x43c774(0x257)]-_0x251b2f][_0x43c774(0x30d)][_0x43c774(0x204)](_0xc4f80f=>{const _0x184ce7=_0x43c774;_0x3f0473+=_0xc4f80f[_0x184ce7(0x1dd)]*_0xc4f80f['price'];}),_0x22b13b[_0x52b7ee][_0x43c774(0x304)]['forEach'](_0x2b2485=>{const _0x37f7ff=_0x43c774;_0x3b8025+=_0x2b2485['number']*_0x2b2485[_0x37f7ff(0x282)];}),_0x18bdb2*=_0x3b8025/(_0x3f0473-_0x3b8025)+0x1;}_0x52b7ee++;}}let _0x2b45b7=0x0;_0xffca63['coins'][_0x43c774(0x204)](_0x478fe6=>{const _0x1ca9df=_0x43c774;_0x2b45b7+=_0x478fe6['number']*_0x478fe6[_0x1ca9df(0x282)];}),_0x45bf7c[_0x48e95d[_0x43c774(0x257)]-_0x251b2f-0x1]=_0x2b45b7*(_0x18bdb2-0x1);});let _0x1e3bc3=[];_0x22b13b=[...config[_0x45a338(0x2fd)]]||[];let _0x395c19=0x0;_0x52b7ee=0x0,_0x48e95d['forEach']((_0x1544db,_0x122ac5)=>{const _0x214c38=_0x45a338;if(_0x22b13b[_0x52b7ee]){const _0x2bca57=fns[_0x214c38(0x312)](_0x22b13b[_0x52b7ee][_0x214c38(0x284)],_0x214c38(0x1ff),new Date()),_0x1ec8a9=fns['parse'](_0x1544db['date'],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x2bca57,_0x1ec8a9)){let _0x284cf7=0x0;_0x22b13b[_0x52b7ee]['changes']['forEach'](_0x15365c=>{const _0x1e5f5d=_0x214c38;!_0x1e3bc3[_0x15365c[_0x1e5f5d(0x2da)]]?_0x1e3bc3[_0x15365c[_0x1e5f5d(0x2da)]]=_0x15365c[_0x1e5f5d(0x1dd)]:(_0x284cf7=_0x1e3bc3[_0x15365c['coin']],_0x1e3bc3[_0x15365c[_0x1e5f5d(0x2da)]]+=_0x15365c[_0x1e5f5d(0x1dd)]);const _0x4857df=_0x1544db[_0x1e5f5d(0x30d)][_0x1e5f5d(0x24c)](_0x361760=>_0x361760['coin']==_0x15365c[_0x1e5f5d(0x2da)]);(!_0x4857df||_0x4857df[_0x1e5f5d(0x1dd)]==0x0)&&(_0x395c19+=(-_0x15365c['number']-_0x284cf7)*_0x15365c[_0x1e5f5d(0x282)]);}),_0x52b7ee++;}}_0x1544db[_0x214c38(0x30d)]['forEach']((_0x4bf957,_0x1644fa)=>{const _0x5b3ddb=_0x214c38;_0x1e3bc3[_0x4bf957[_0x5b3ddb(0x2da)]]&&(_0x4bf957={..._0x4bf957,'initial':_0x1e3bc3[_0x4bf957[_0x5b3ddb(0x2da)]]}),_0x1544db[_0x5b3ddb(0x30d)][_0x1644fa]=_0x4bf957;}),_0x12d2d8[_0x214c38(0x31c)]({'date':_0x1544db[_0x214c38(0x284)],'eur':_0x1544db[_0x214c38(0x286)],'usd':_0x1544db[_0x214c38(0x272)],'offset':_0x45bf7c[_0x122ac5],'netoffset':_0x395c19,'coins':_0x1544db[_0x214c38(0x30d)]});});}return _0x12d2d8;}function emitPerformance(_0x5ea3b9){const _0x431670=_0x4f04cf;_0x5ea3b9['length']!==0x0?(proxyEmit(_0x431670(0x2ab),_0x5ea3b9),lastPerformanceEmitted=getDate()):proxyEmit(_0x431670(0x2ab),[]);}function getPerf(_0x3821ba,_0x5cd0dd){const _0x158e23=_0x4f04cf;let _0xbd7df5=0x0,_0x5c35ab=0x0,_0x19116a=0x0;_0x3821ba[_0x158e23(0x30d)][_0x158e23(0x204)](_0x492de6=>{const _0x42b74f=_0x158e23;_0xbd7df5+=_0x492de6['number']*_0x492de6[_0x42b74f(0x282)];});_0x5cd0dd&&(_0xbd7df5+=_0x3821ba[_0x158e23(0x214)]);if(config[_0x158e23(0x292)]===_0x158e23(0x2eb)||config[_0x158e23(0x292)]==='ETH')_0x5c35ab=_0xbd7df5*_0x3821ba[_0x158e23(0x286)],_0x19116a=_0xbd7df5*_0x3821ba[_0x158e23(0x272)];else{if(config[_0x158e23(0x292)]===_0x158e23(0x2b0)||config['basecoin']===_0x158e23(0x237))_0x5c35ab=_0xbd7df5*_0x3821ba[_0x158e23(0x286)]/_0x3821ba[_0x158e23(0x272)],_0x19116a=_0xbd7df5;else config['basecoin']===_0x158e23(0x25d)&&(_0x5c35ab=_0xbd7df5,_0x19116a=_0xbd7df5*_0x3821ba[_0x158e23(0x272)]/_0x3821ba[_0x158e23(0x286)]);}return[_0xbd7df5,_0x5c35ab,_0x19116a];}function getKPIs(_0x395b90,_0x5c1865=_0x4f04cf(0x25d)){const _0x3edb52=_0x4f04cf,_0x2e6bb2=config[_0x3edb52(0x292)],_0x495b4b=config[_0x3edb52(0x2d7)],_0x3b3373=currentCoins,_0x5812b9=getNormalizedPerformance(),_0x2f43c6=_0x395b90==='basecoin'?_0x2e6bb2:_0x395b90===_0x3edb52(0x323)||_0x395b90==='net-fiat'?_0x5c1865:'Net\x20'+_0x2e6bb2,_0x4c7785=_0x395b90===_0x3edb52(0x30a)?_0x3edb52(0x247):_0x395b90===_0x3edb52(0x32c)?'Net\x20effect\x20('+_0x2f43c6+')':_0x2f43c6+_0x3edb52(0x303),_0x470efe=_0x395b90===_0x3edb52(0x30a)||_0x395b90===_0x3edb52(0x32c)?_0x3edb52(0x247):_0x2f43c6+'\x20change';let _0x42db70=0x0;_0x3b3373[_0x3edb52(0x204)](_0x20a522=>{const _0x407358=_0x3edb52;_0x42db70+=_0x20a522[_0x407358(0x1dd)]*_0x20a522[_0x407358(0x266)];});if(_0x395b90===_0x3edb52(0x323)||_0x395b90==='net-fiat'){if(_0x2e6bb2==='BTC'||_0x2e6bb2===_0x3edb52(0x21c))_0x42db70=_0x42db70*(_0x5c1865===_0x3edb52(0x25d)?_0x495b4b[_0x3edb52(0x286)]:_0x495b4b[_0x3edb52(0x272)]);else{if(_0x2e6bb2===_0x3edb52(0x2b0)||_0x2e6bb2==='USDT')_0x42db70=_0x42db70*(_0x5c1865==='EUR'?_0x495b4b[_0x3edb52(0x286)]/_0x495b4b['usd']:0x1);else _0x2e6bb2===_0x3edb52(0x25d)&&(_0x42db70=_0x42db70*(_0x5c1865==='EUR'?0x1:_0x495b4b[_0x3edb52(0x272)]/_0x495b4b[_0x3edb52(0x286)]));}}let _0x528994;if(_0x42db70!==0x0){if(_0x395b90===_0x3edb52(0x292))_0x528994=(_0x42db70/startingBalances[_0x3edb52(0x292)]-0x1)*0x64;else{if(_0x5c1865===_0x3edb52(0x25d))_0x528994=(_0x42db70/startingBalances[_0x3edb52(0x286)]-0x1)*0x64;else _0x528994=(_0x42db70/startingBalances[_0x3edb52(0x272)]-0x1)*0x64;}let _0x350e6d=0x0;if(startingBalances[_0x3edb52(0x30d)])_0x3b3373[_0x3edb52(0x204)](_0x399d76=>{const _0x4a497a=_0x3edb52;let _0x5354d2=startingBalances[_0x4a497a(0x30d)][_0x4a497a(0x24c)](_0xd358e4=>_0xd358e4[_0x4a497a(0x2da)]===_0x399d76[_0x4a497a(0x2da)]);if(_0x5354d2&&_0x5354d2[_0x4a497a(0x2da)]&&_0x399d76[_0x4a497a(0x1dd)]!==0x0)_0x350e6d+=_0x5354d2[_0x4a497a(0x1dd)]*_0x399d76[_0x4a497a(0x266)];});let _0x4ce66a=0x0;if(_0x5812b9[_0x3edb52(0x257)]!==0x0){let _0x1d0661=_0x5812b9[_0x5812b9[_0x3edb52(0x257)]-0x1];_0x4ce66a=_0x1d0661[_0x3edb52(0x2f8)];}_0x350e6d-=_0x4ce66a;_0x395b90===_0x3edb52(0x30a)&&(_0x528994=(_0x42db70-_0x350e6d)/startingBalances['basecoin']*0x64,_0x42db70=_0x42db70-_0x350e6d);if(_0x395b90==='net-fiat'){let _0x4b8931=_0x5c1865==='EUR'?startingBalances[_0x3edb52(0x286)]:startingBalances[_0x3edb52(0x272)];if(_0x2e6bb2===_0x3edb52(0x2eb)||_0x2e6bb2===_0x3edb52(0x21c))_0x350e6d=_0x5c1865===_0x3edb52(0x25d)?_0x350e6d*_0x495b4b[_0x3edb52(0x286)]:_0x350e6d*_0x495b4b[_0x3edb52(0x272)];else{if(_0x2e6bb2==='BUSD'||_0x2e6bb2==='USDT')_0x350e6d=_0x5c1865==='EUR'?_0x350e6d*_0x495b4b[_0x3edb52(0x286)]/_0x495b4b[_0x3edb52(0x272)]:_0x350e6d;else _0x2e6bb2===_0x3edb52(0x25d)&&(_0x350e6d=_0x5c1865===_0x3edb52(0x25d)?_0x350e6d:_0x350e6d*_0x495b4b[_0x3edb52(0x272)]/_0x495b4b['eur']);}_0x528994=(_0x42db70-_0x350e6d)/_0x4b8931*0x64,_0x42db70=_0x42db70-_0x350e6d;}if(_0x528994){if(_0x528994<0x64)_0x528994=_0x528994[_0x3edb52(0x2ed)](0x2);else{if(_0x528994<0x3e8)_0x528994=_0x528994['toFixed'](0x1);else _0x528994=_0x528994[_0x3edb52(0x2ed)](0x0);}}else _0x528994=Number('0')['toFixed'](0x2);if(_0x42db70){if(Math[_0x3edb52(0x26f)](_0x42db70)<0.000001)_0x42db70=_0x42db70[_0x3edb52(0x2ed)](0x2);else{if(Math[_0x3edb52(0x26f)](_0x42db70)<0.1)_0x42db70=_0x42db70[_0x3edb52(0x2ed)](0x6);else{if(Math[_0x3edb52(0x26f)](_0x42db70)<0x1)_0x42db70=_0x42db70['toFixed'](0x5);else{if(Math[_0x3edb52(0x26f)](_0x42db70)<0xa)_0x42db70=_0x42db70[_0x3edb52(0x2ed)](0x4);else{if(Math[_0x3edb52(0x26f)](_0x42db70)<0x64)_0x42db70=_0x42db70[_0x3edb52(0x2ed)](0x3);else{if(Math[_0x3edb52(0x26f)](_0x42db70)<0x3e8)_0x42db70=_0x42db70[_0x3edb52(0x2ed)](0x2);else _0x42db70=_0x42db70[_0x3edb52(0x2ed)](0x2);}}}}}}else _0x42db70=Number('0')[_0x3edb52(0x2ed)](0x2);}else _0x528994=Number('0')[_0x3edb52(0x2ed)](0x2);return{'value':_0x42db70,'change':_0x528994,'leftTxt':_0x4c7785,'rightTxt':_0x470efe};}async function getStartingBalances(_0xe01c93,_0x9668fb=!![]){const _0x59f55c=_0x4f04cf;if(_0xe01c93[_0x59f55c(0x257)]!==0x0){const [_0x3551d2,_0x4751a7,_0x4e0802]=getPerf(_0xe01c93[0x0],!![]);let _0x569a78=[];config[_0x59f55c(0x2bd)][_0x59f55c(0x204)](_0x3ae5ca=>{const _0x35c745=_0x59f55c;let _0x5260c3=0x0,_0x2bbbd4;config[_0x35c745(0x2fd)][_0x35c745(0x204)](_0x3cbd9d=>{const _0xd33863=_0x35c745;let _0x2601fc=_0x3cbd9d[_0xd33863(0x304)][_0xd33863(0x24c)](_0x239d6d=>_0x239d6d[_0xd33863(0x2da)]==_0x3ae5ca['coin']);if(_0x2601fc){_0x5260c3+=_0x2601fc[_0xd33863(0x1dd)];if(!_0x2bbbd4)_0x2bbbd4=_0x2601fc[_0xd33863(0x282)];}}),_0x569a78[_0x35c745(0x31c)]({'coin':_0x3ae5ca[_0x35c745(0x2da)],'number':_0x5260c3,'initialprice':_0x2bbbd4});});const _0x32647a={'basecoin':_0x3551d2,'eur':_0x4751a7,'usd':_0x4e0802,'coins':_0x569a78};if(_0x9668fb)proxyEmit('starting-balances',_0x32647a);startingBalances=_0x32647a;}}function headlessMode(_0x2e822e){const _0x5aa0c3=_0x4f04cf;let _0x3b0586=_0x2e822e[_0x5aa0c3(0x2bd)],_0x407c24=_0x2e822e[_0x5aa0c3(0x2a5)],_0x33ddee=[];for(let _0x3f3f2f of _0x3b0586){if(_0x3f3f2f[_0x5aa0c3(0x2da)]!=config[_0x5aa0c3(0x292)]){if(_0x3f3f2f[_0x5aa0c3(0x225)]>=_0x407c24/0x64){if(_0x3f3f2f[_0x5aa0c3(0x210)])_0x33ddee['push'](_0x3f3f2f);}else{if(_0x3f3f2f[_0x5aa0c3(0x225)]<=-_0x407c24/0x64){if(_0x3f3f2f[_0x5aa0c3(0x210)])_0x33ddee[_0x5aa0c3(0x31c)](_0x3f3f2f);}}}}_0x33ddee['length']>0x0&&placeOrder(_0x33ddee);}function notifyBalance(_0xf5b125){const _0x456838=_0x4f04cf;let _0x59dbf4=_0xf5b125['portfolio'],_0x1a46fb=_0xf5b125[_0x456838(0x2a5)],_0x2acb9a=[];for(let _0x210008 of _0x59dbf4){if(_0x210008[_0x456838(0x2da)]!=config['basecoin']){if(_0x210008[_0x456838(0x225)]>=_0x1a46fb/0x64){if(_0x210008[_0x456838(0x210)])_0x2acb9a[_0x456838(0x31c)](_0x210008);}else{if(_0x210008[_0x456838(0x225)]<=-_0x1a46fb/0x64){if(_0x210008['valid'])_0x2acb9a['push'](_0x210008);}}}}if(_0x2acb9a[_0x456838(0x257)]>0x0){let _0x30a360=_0x2acb9a[_0x456838(0x22e)](_0x199860=>_0x199860['coin']);_0x30a360[_0x456838(0x2ca)]();let _0xdd6b0d=_0x30a360[_0x456838(0x32d)](',\x20');if(lastCoinsToBalance!==_0xdd6b0d)logHistory(_0x456838(0x243),_0x456838(0x2dd)+_0xdd6b0d);lastCoinsToBalance=_0xdd6b0d;}}function symbolToCoin(_0x578d2a){const _0x15763a=_0x4f04cf;let _0x4d40a0;if(_0x578d2a[_0x15763a(0x258)]('/'+config['basecoin']))_0x4d40a0=_0x578d2a[_0x15763a(0x278)]('/'+config[_0x15763a(0x292)],'');if(_0x578d2a[_0x15763a(0x258)](config['basecoin']+'/'))_0x4d40a0=_0x578d2a[_0x15763a(0x278)](config[_0x15763a(0x292)]+'/','');return _0x4d40a0;}async function unlockOrders(){if(allOrdersPlaced){lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'];}}async function validateOrders(_0xc4a482){const _0x4e51c9=_0x4f04cf;if(_0xc4a482)validateOrdersState=_0xc4a482;let _0x416b7e=[],_0x218370=config['ordertype']==_0x4e51c9(0x2e8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4e51c9(0x295)])return;lastOrders['forEach'](_0x2aceae=>{const _0x1e5b8d=_0x4e51c9;let _0x1ef18f=![];_0x2aceae['filled']>0x0&&(_0x1ef18f=!![]),_0x416b7e['push'](_0x1ef18f),_0x1ef18f&&config[_0x1e5b8d(0x259)]!='market'&&logHistory('order',_0x1e5b8d(0x2e4)+_0x2aceae[_0x1e5b8d(0x31e)]+'\x20'+_0x2aceae[_0x1e5b8d(0x207)]+'\x20#'+formatResult(_0x2aceae['filled'],0x8)+'\x20@'+formatResult(_0x2aceae['price'],0x8));}),_0x416b7e[_0x4e51c9(0x204)]((_0x4b4262,_0x31cf12)=>{const _0x3444ca=_0x4e51c9;if(_0x4b4262)lastOrders[_0x3444ca(0x2fb)](_0x31cf12,0x1);}),persistOpenOrders(lastOrders);const _0x73cdab=coolingDown?_0x4e51c9(0x2fa):_0x4e51c9(0x213);if(validateOrdersState==_0x4e51c9(0x217))validateOrdersState=_0x4e51c9(0x2d8),_0x416b7e[_0x4e51c9(0x258)](![])?config['ordertype']==_0x4e51c9(0x2e8)?logHistory('error',_0x4e51c9(0x2c4)):logHistory(_0x4e51c9(0x2f0),_0x4e51c9(0x2a1)):await unlockOrders();else{if(validateOrdersState==_0x4e51c9(0x2d8)){if(_0x416b7e[_0x4e51c9(0x258)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x4e51c9(0x2e8)?logHistory(_0x4e51c9(0x243),'Order(s)\x20validated\x20-\x20'+_0x73cdab):logHistory(_0x4e51c9(0x243),_0x4e51c9(0x216)+_0x73cdab),await unlockOrders());}else{if(validateOrdersState=='final')_0x416b7e[_0x4e51c9(0x258)](![])&&(config[_0x4e51c9(0x259)]==_0x4e51c9(0x2e8)?logHistory(_0x4e51c9(0x243),'Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x218370*validateOrderInterval/0xea60)+_0x4e51c9(0x294)+_0x73cdab):(await cancelOrders(),logHistory(_0x4e51c9(0x243),_0x4e51c9(0x26d)+Math[_0x4e51c9(0x27d)](_0x218370*validateOrderInterval/0xea60)+_0x4e51c9(0x294)+_0x73cdab))),await unlockOrders();else{if(validateOrdersState==_0x4e51c9(0x238)){if(config[_0x4e51c9(0x259)]!=_0x4e51c9(0x2e8))logHistory(_0x4e51c9(0x243),_0x4e51c9(0x255)+_0x73cdab);await unlockOrders();}}}}}async function cancelOrders(){const _0x36802a=_0x4f04cf;lastOrders[_0x36802a(0x204)](async _0x3cfad1=>{const _0x35d235=_0x36802a;try{const _0x2209c5=await exchange['cancelOrder'](_0x3cfad1[_0x35d235(0x28a)],_0x3cfad1[_0x35d235(0x31e)]);}catch(_0x4ea2e6){if(_0x4ea2e6[_0x35d235(0x222)]()[_0x35d235(0x258)](_0x35d235(0x2c7))){}else await handleError(_0x4ea2e6,_0x35d235(0x21f));}});}async function initCoinResults(){const _0x4067e0=_0x4f04cf;let _0x48523d=[];config[_0x4067e0(0x2bd)][_0x4067e0(0x204)](_0x40ca88=>{const _0x5ffebc=_0x4067e0;if(!_0x40ca88[_0x5ffebc(0x251)]&&_0x40ca88['coin']!=config[_0x5ffebc(0x292)]){let _0x62df37=dbCoinResults[_0x5ffebc(0x2b3)](_0x5ffebc(0x30d))[_0x5ffebc(0x24c)]({'coin':_0x40ca88[_0x5ffebc(0x2da)]})[_0x5ffebc(0x231)]();if(!_0x62df37){const _0x3c67d0=currentCoins[_0x5ffebc(0x24c)](_0x53fd59=>_0x53fd59['coin']==_0x40ca88[_0x5ffebc(0x2da)]),_0x40b881=global['ticker'][noslash(_0x40ca88[_0x5ffebc(0x31e)])];let _0x37e805=_0x3c67d0?_0x3c67d0[_0x5ffebc(0x1dd)]:null,_0x11e195=_0x40ca88[_0x5ffebc(0x2ea)]?0x1/_0x40b881:_0x40b881,_0x6b4076;config[_0x5ffebc(0x2fd)]['forEach'](_0x75bcbc=>{const _0x5a08b8=_0x5ffebc;!_0x6b4076&&(_0x6b4076=_0x75bcbc[_0x5a08b8(0x304)][_0x5a08b8(0x24c)](_0x20e760=>_0x20e760[_0x5a08b8(0x2da)]==_0x40ca88[_0x5a08b8(0x2da)]),_0x6b4076&&(_0x37e805=_0x6b4076[_0x5a08b8(0x1dd)],_0x11e195=_0x6b4076['price']));}),_0x48523d[_0x5ffebc(0x31c)]({'coin':_0x40ca88['coin'],'number':_0x37e805,'price':_0x11e195});}}}),_0x48523d['forEach'](_0x2ea945=>{const _0x4bbfd7=_0x4067e0,_0x147944={'coin':_0x2ea945[_0x4bbfd7(0x2da)],'number':_0x2ea945['number'],'breakeven':_0x2ea945[_0x4bbfd7(0x282)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4bbfd7(0x2b3)](_0x4bbfd7(0x30d))[_0x4bbfd7(0x31c)](_0x147944)[_0x4bbfd7(0x1de)]();});}async function updateCoinResults(_0x529564,_0x280786=![]){const _0x2f26c6=_0x4f04cf;let _0x2ab766,_0xb4d6a2,_0x58e2a2,_0x3c7b86,_0x2866ce,_0x1f6709,_0x363c70=dbCoinResults['get']('coins')[_0x2f26c6(0x24c)]({'coin':_0x529564[_0x2f26c6(0x2da)]})[_0x2f26c6(0x231)]();!_0x363c70&&await initCoinResults();_0x529564[_0x2f26c6(0x2ea)]&&(_0x1f6709={'filled':_0x529564[_0x2f26c6(0x1e4)]*_0x529564['price'],'amount':_0x529564['filled']*_0x529564['price'],'side':_0x529564['side']==_0x2f26c6(0x252)?'buy':_0x2f26c6(0x252),'price':0x1/_0x529564[_0x2f26c6(0x282)]},_0x529564={..._0x529564,..._0x1f6709});_0x280786?_0xb4d6a2=_0x529564['side']=='buy'?_0x363c70[_0x2f26c6(0x1dd)]+_0x529564['filled']:_0x363c70[_0x2f26c6(0x1dd)]-_0x529564['filled']:_0xb4d6a2=await getCoinNumber(_0x529564[_0x2f26c6(0x2da)]);if(_0x529564[_0x2f26c6(0x2f5)]&&_0x529564[_0x2f26c6(0x2f5)]['currency']==config[_0x2f26c6(0x292)])_0x2ab766=_0x529564[_0x2f26c6(0x2f5)][_0x2f26c6(0x2d9)];else{if(_0x529564[_0x2f26c6(0x2f5)]&&_0x529564['fee']['currency']==_0x2f26c6(0x269)&&!_0x280786)_0x2ab766=_0x529564['fee'][_0x2f26c6(0x2d9)]*global[_0x2f26c6(0x2e5)][_0x2f26c6(0x269)+config[_0x2f26c6(0x292)]];else _0x2ab766=defaultFee*_0x529564[_0x2f26c6(0x1e4)]*_0x529564[_0x2f26c6(0x282)];}_0x529564['side']=='buy'?(_0x58e2a2=_0xb4d6a2!=0x0?(_0x363c70['breakeven']*_0x363c70['number']+_0x529564[_0x2f26c6(0x282)]*(_0xb4d6a2-_0x363c70[_0x2f26c6(0x1dd)])+_0x2ab766)/_0xb4d6a2:0x0,_0x3c7b86=_0x363c70['realized']):(_0x58e2a2=_0xb4d6a2!=0x0?(_0x363c70[_0x2f26c6(0x1fb)]*_0x363c70[_0x2f26c6(0x1dd)]-_0x529564['price']*(_0x363c70[_0x2f26c6(0x1dd)]-_0xb4d6a2)+_0x2ab766)/_0xb4d6a2:0x0,_0x3c7b86=_0x363c70['realized']+(_0x529564['price']-_0x363c70[_0x2f26c6(0x1fb)])*_0x529564[_0x2f26c6(0x1e4)]);_0x2866ce=(_0x529564[_0x2f26c6(0x282)]-_0x58e2a2-_0x2ab766/_0x529564[_0x2f26c6(0x1e4)])*_0xb4d6a2;let _0x417548={'coin':_0x529564['coin'],'number':_0xb4d6a2,'breakeven':formatResult(_0x58e2a2,0x8),'realized':formatResult(_0x3c7b86,0x8),'unrealized':formatResult(_0x2866ce,0x8),'fees':formatResult(_0x363c70[_0x2f26c6(0x267)]+_0x2ab766,0x8),'sells':_0x529564[_0x2f26c6(0x207)]==_0x2f26c6(0x252)?_0x363c70[_0x2f26c6(0x24d)]+0x1:_0x363c70[_0x2f26c6(0x24d)],'buys':_0x529564['side']=='buy'?_0x363c70[_0x2f26c6(0x260)]+0x1:_0x363c70[_0x2f26c6(0x260)]};dbCoinResults[_0x2f26c6(0x2b3)](_0x2f26c6(0x30d))[_0x2f26c6(0x24c)]({'coin':_0x529564[_0x2f26c6(0x2da)]})[_0x2f26c6(0x2c6)](_0x417548)[_0x2f26c6(0x1de)]();if(!_0x280786){if(_0x529564[_0x2f26c6(0x2f5)]&&_0x529564['fee'][_0x2f26c6(0x29f)]=='BNB'){const _0x3b6b54=currentCoins[_0x2f26c6(0x24c)](_0x37e894=>_0x37e894['coin']=='BNB');if(_0x3b6b54){let _0x187024=dbCoinResults[_0x2f26c6(0x2b3)](_0x2f26c6(0x30d))[_0x2f26c6(0x24c)]({'coin':_0x2f26c6(0x269)})[_0x2f26c6(0x231)]();_0x417548={..._0x187024,'number':_0x3b6b54[_0x2f26c6(0x1dd)]},dbCoinResults[_0x2f26c6(0x2b3)](_0x2f26c6(0x30d))[_0x2f26c6(0x24c)]({'coin':_0x2f26c6(0x269)})[_0x2f26c6(0x2c6)](_0x417548)[_0x2f26c6(0x1de)]();}}}}async function placeOrder(_0x4fa4c0){const _0x4ffd86=_0x4f04cf,_0x1bf8aa=config['ordertype']==_0x4ffd86(0x2e8)?_0x4ffd86(0x2e8):_0x4ffd86(0x308);if(lockOrders==ORDERS[_0x4ffd86(0x309)]&&!coolingDown){lockOrders=ORDERS[_0x4ffd86(0x295)],allOrdersPlaced=![],validateOrdersState=_0x4ffd86(0x217),lastOrders=[];for(const _0x53d95a of _0x4fa4c0){let _0x477dcd,_0x2a8889,_0x4e3588,_0x1e4fc3,_0x4e6746,_0x2dd7e5=_0x53d95a['symbol'];try{const _0x258ab6=await exchange[_0x4ffd86(0x1f0)]([_0x2dd7e5]),_0x1a8763=_0x258ab6[_0x2dd7e5];_0x477dcd=_0x53d95a['reverse']?0x1/_0x53d95a['last']:_0x53d95a['last'],_0x2a8889=_0x1a8763['bid'],_0x4e3588=_0x1a8763['ask'];_0x53d95a[_0x4ffd86(0x2ea)]?(_0x1e4fc3=_0x53d95a[_0x4ffd86(0x207)]==_0x4ffd86(0x2d5)?_0x4ffd86(0x252):'buy',_0x4e6746=Math[_0x4ffd86(0x26f)](_0x53d95a[_0x4ffd86(0x27c)])/_0x477dcd):(_0x1e4fc3=_0x53d95a[_0x4ffd86(0x207)],_0x4e6746=Math[_0x4ffd86(0x26f)](_0x53d95a[_0x4ffd86(0x27c)]));_0x1bf8aa=='limit'&&(config[_0x4ffd86(0x259)]==_0x4ffd86(0x26e)&&(_0x477dcd=_0x1e4fc3=='buy'?_0x2a8889:_0x4e3588),config[_0x4ffd86(0x259)]==_0x4ffd86(0x2a0)&&(_0x477dcd=_0x1e4fc3==_0x4ffd86(0x2d5)?_0x4e3588:_0x2a8889));_0x4e6746=formatResult(_0x4e6746,0x8),_0x477dcd=formatResult(_0x477dcd,0x8);const _0x35eae5=new Date()[_0x4ffd86(0x21b)]()[_0x4ffd86(0x222)]()['slice'](-0x6)+'-'+Math['random']()[_0x4ffd86(0x222)]()[_0x4ffd86(0x2db)](-0x6);lastOrders[_0x4ffd86(0x31c)]({'customId':_0x35eae5,'symbol':_0x2dd7e5,'coin':_0x53d95a['coin'],'side':_0x1e4fc3,'reverse':_0x53d95a[_0x4ffd86(0x2ea)]});const _0x34779e=await exchange[_0x4ffd86(0x27f)](_0x2dd7e5,_0x1bf8aa,_0x1e4fc3,_0x4e6746,_0x477dcd,{'clientOrderId':_0x35eae5});lastOrders[lastOrders[_0x4ffd86(0x257)]-0x1]={'customId':_0x35eae5,'orderId':_0x34779e['id'],'symbol':_0x2dd7e5,'coin':_0x53d95a[_0x4ffd86(0x2da)],'side':_0x1e4fc3,'reverse':_0x53d95a[_0x4ffd86(0x2ea)],'amount':_0x34779e[_0x4ffd86(0x271)],'filled':0x0,'price':_0x34779e[_0x4ffd86(0x282)],'fee':_0x34779e[_0x4ffd86(0x2f5)]};const _0x4abf40=_0x1e4fc3=='sell'?config[_0x4ffd86(0x318)]?String[_0x4ffd86(0x1f2)]('0x'+config['emojisell'])+'\x20':'':config[_0x4ffd86(0x1ea)]?String[_0x4ffd86(0x1f2)]('0x'+config[_0x4ffd86(0x1ea)])+'\x20':'',_0x42474e=_0x1bf8aa==_0x4ffd86(0x2e8)?_0x4ffd86(0x315):config[_0x4ffd86(0x259)]==_0x4ffd86(0x26e)?'Limit\x20(high-margin)':_0x4ffd86(0x320);if(_0x1bf8aa==_0x4ffd86(0x2e8))logHistory(_0x4ffd86(0x25a),''+_0x4abf40+_0x42474e+_0x4ffd86(0x241)+_0x2dd7e5+'\x20'+_0x1e4fc3+'\x20#'+formatResult(_0x34779e[_0x4ffd86(0x1e4)],0x8)+'\x20@'+formatResult(_0x34779e[_0x4ffd86(0x282)],0x8));else logHistory(_0x4ffd86(0x25a),''+_0x4abf40+_0x42474e+_0x4ffd86(0x241)+_0x2dd7e5+'\x20'+_0x1e4fc3+'\x20#'+formatResult(_0x34779e['amount'],0x8)+'\x20@'+formatResult(_0x34779e[_0x4ffd86(0x282)],0x8));let _0x59ca90=currentCoins[_0x4ffd86(0x24c)](_0x269e00=>_0x269e00[_0x4ffd86(0x2da)]==_0x53d95a['coin']);_0x59ca90[_0x4ffd86(0x326)]=_0x4ffd86(0x2cd);if(config[_0x4ffd86(0x32a)]!=0x0){let _0x22b556=null;if(cooldownTracker[_0x4ffd86(0x257)]==config[_0x4ffd86(0x32a)]-0x1)_0x22b556=cooldownTracker[_0x4ffd86(0x234)]();const _0x262543=getTimeStamp();cooldownTracker[_0x4ffd86(0x31c)](_0x262543);if(_0x22b556){const _0x2b570a=fns[_0x4ffd86(0x1fa)](new Date(_0x262543),new Date(_0x22b556));if(_0x2b570a<cooldownInterval){logHistory('error',_0x4ffd86(0x1f1)+config[_0x4ffd86(0x32a)]+_0x4ffd86(0x2b8)+cooldownInterval/0x3c+_0x4ffd86(0x2ec)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x49003a){if(_0x49003a[_0x4ffd86(0x222)]()[_0x4ffd86(0x258)](_0x4ffd86(0x290)))logHistory(_0x4ffd86(0x2f0),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x2dd7e5);else{if(_0x49003a[_0x4ffd86(0x222)]()[_0x4ffd86(0x258)](_0x4ffd86(0x23f)))logHistory('error',_0x4ffd86(0x1ec)+_0x2dd7e5);else await handleError(_0x49003a,'placeOrder()',_0x2dd7e5);}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0xab3a4c=config['ordertype']==_0x4ffd86(0x2e8)?validateOrderTimeout*0x3c*0x3e8:config[_0x4ffd86(0x2d4)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x32061d=_0x4ffd86;validateOrders(_0x32061d(0x21e));},_0xab3a4c),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x4ffd86(0x25b)));}else{if(coolingDown)!config[_0x4ffd86(0x299)]&&logHistory(_0x4ffd86(0x2f0),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x4ffd86(0x299)]&&(config[_0x4ffd86(0x259)]==_0x4ffd86(0x2e8)?logHistory(_0x4ffd86(0x2f0),_0x4ffd86(0x305)):logHistory('error',_0x4ffd86(0x2b1))));}}function persistOpenOrders(_0x3079cb){const _0x36131b=_0x4f04cf,_0x3076b0={...config,'openOrders':_0x3079cb};let _0x1d577c=dbConfig[_0x36131b(0x2b3)](_0x36131b(0x298))[_0x36131b(0x24c)]({'botID':botID})[_0x36131b(0x231)]();_0x1d577c&&dbConfig['get'](_0x36131b(0x298))['find']({'botID':botID})[_0x36131b(0x2c6)](_0x3076b0)[_0x36131b(0x1de)]();}function restoreOrders(){const _0x37a874=_0x4f04cf;let _0x1ea092;allOpenOrders[_0x37a874(0x204)](_0x56429e=>{const _0x514f62=_0x37a874,_0x4d9068=config[_0x514f62(0x261)][_0x514f62(0x24c)](_0x23cc3a=>_0x23cc3a[_0x514f62(0x28a)]==_0x56429e['id']);_0x4d9068&&(lastOrders[_0x514f62(0x31c)](_0x4d9068),_0x1ea092=_0x56429e[_0x514f62(0x314)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x37a874(0x295)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x171bae=new Date()['getTime'](),_0x37cee9=config['ordertype']==_0x37a874(0x2e8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x1ea092+_0x37cee9>_0x171bae){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x92b0be=_0x37a874;validateOrders(_0x92b0be(0x21e));},_0x1ea092+_0x37cee9-_0x171bae);}else validateOrders('final');}}async function sendPortfolioTelegram(){const _0x4f554d=_0x4f04cf;if(loading[_0x4f554d(0x230)]!=0x64){process[_0x4f554d(0x2fe)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x1d3dd5=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x289fdd=[_0x4f554d(0x25d),_0x4f554d(0x2b0),_0x4f554d(0x237)],_0x2c23e3=_0x289fdd['includes'](config['basecoin'])?0x2:0x8;let _0x276962='';if(config['showname'])_0x276962=_0x4f554d(0x27e)+config['botname']+'\x20portfolio:</b>\x20\x0a\x0a';else _0x276962=_0x4f554d(0x29b)+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x5da905=getKPIs(_0x4f554d(0x292)),_0xb2e610=getKPIs(_0x4f554d(0x30a));_0x276962+=_0x4f554d(0x2ef),_0x276962+=_0x5da905[_0x4f554d(0x283)]+_0x4f554d(0x21a)+_0x5da905[_0x4f554d(0x231)]+'\x20\x0a',_0x276962+=_0x5da905[_0x4f554d(0x1f4)]+':\x20'+_0x5da905['change']+'%\x20\x0a',_0x276962+=_0xb2e610[_0x4f554d(0x283)]+':\x20'+_0xb2e610[_0x4f554d(0x231)]+'\x20'+config[_0x4f554d(0x292)]+'\x0a',_0x276962+=_0xb2e610[_0x4f554d(0x1f4)]+':\x20'+_0xb2e610['change']+_0x4f554d(0x2b7),_0x276962+='\x0a',_0x276962+=_0x4f554d(0x2b5),_0x276962+=_0x4f554d(0x2ad),_0x276962+=_0x4f554d(0x2b5),currentCoins[_0x4f554d(0x204)](_0x211990=>{const _0x20cdd6=_0x4f554d;_0x276962+=_0x211990[_0x20cdd6(0x2da)][_0x20cdd6(0x2b2)](0x7)+'|\x20'+formatPad(_0x211990['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x211990[_0x20cdd6(0x2cb)],0x2,0x6)+'|\x20'+formatPad(_0x211990[_0x20cdd6(0x225)]*0x64,0x2,0x6)+'\x0a';}),_0x276962+=_0x4f554d(0x310),process[_0x4f554d(0x2fe)]({'telegrammsg':_0x276962},_0xb778fd=>{});}function formatPad(_0x4dabe4,_0x1ca7a2,_0xc08add){const _0x5e5591=_0x4f04cf,_0x437089=formatResultString(_0x4dabe4,_0x1ca7a2);return _0x437089?_0x437089[_0x5e5591(0x25c)](_0xc08add):''[_0x5e5591(0x25c)](_0xc08add);}function logHistory(_0x4480a9,_0x515568,_0x4f3513=''){const _0x585edb=_0x4f04cf;let _0x5a77be={'time':getTimeStamp(),'type':_0x4480a9,'event':_0x515568};dbLogs['get']('logs')[_0x585edb(0x31c)](_0x5a77be)[_0x585edb(0x1de)]();if(_0x4f3513=='')_0x4f3513=_0x515568;proxyEmit('event',{'log':_0x5a77be,'summary':_0x4f3513}),process['send']({'telegram':{..._0x5a77be,'botname':config['botname'],'showname':config[_0x585edb(0x242)]}},_0x3b24a0=>{}),logger[_0x585edb(0x291)](''+_0x5a77be[_0x585edb(0x209)]);}function emitHistory(_0x59b256={}){const _0x28a29e=_0x4f04cf;Object[_0x28a29e(0x281)](_0x59b256)[_0x28a29e(0x257)]==0x0&&(_0x59b256={'type':['order',_0x28a29e(0x209)],'event':'','page':0x1});if(_0x59b256[_0x28a29e(0x2e1)][_0x28a29e(0x258)](_0x28a29e(0x209)))_0x59b256[_0x28a29e(0x2e1)][_0x28a29e(0x2fb)](_0x59b256[_0x28a29e(0x2e1)][_0x28a29e(0x2e0)](_0x28a29e(0x209)),0x1,_0x28a29e(0x2f0),_0x28a29e(0x243));if(dbLogs['has'](_0x28a29e(0x27b))[_0x28a29e(0x231)]()){let _0x58fede=dbLogs[_0x28a29e(0x2b3)](_0x28a29e(0x27b))[_0x28a29e(0x1e8)](_0x1a76b5=>{const _0x2823a4=_0x28a29e;if(_0x59b256[_0x2823a4(0x2e1)][_0x2823a4(0x257)]==0x0)return![];else return _0x59b256[_0x2823a4(0x2e1)][_0x2823a4(0x258)](_0x1a76b5['type']);})[_0x28a29e(0x1e8)](_0x551f6d=>{const _0x5a367b=_0x28a29e;if(_0x59b256[_0x5a367b(0x209)]=='')return!![];else return _0x551f6d[_0x5a367b(0x209)][_0x5a367b(0x240)]()['includes'](_0x59b256[_0x5a367b(0x209)][_0x5a367b(0x240)]());})[_0x28a29e(0x23b)]('time'),_0x43005d=_0x58fede['value']()['length'];_0x58fede=_0x58fede[_0x28a29e(0x2ea)]()['slice']((_0x59b256[_0x28a29e(0x2e9)]-0x1)*logPageSize,_0x59b256[_0x28a29e(0x2e9)]*logPageSize-0x1)[_0x28a29e(0x2ea)]()[_0x28a29e(0x231)](),proxyEmit(_0x28a29e(0x22f),{'logs':_0x58fede,'total':_0x43005d});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5d40e1){const _0x4cac4b=_0x4f04cf;if(dbLogs['has'](_0x4cac4b(0x27b))['value']()){const _0x22edef=dbLogs[_0x4cac4b(0x2b3)](_0x4cac4b(0x27b))[_0x4cac4b(0x23b)](_0x4cac4b(0x219))[_0x4cac4b(0x1e8)](_0x5dee88=>{const _0x381a50=_0x4cac4b;return _0x5dee88[_0x381a50(0x2e1)]==_0x381a50(0x25a);})['value']();dbLogs[_0x4cac4b(0x2b3)](_0x4cac4b(0x27b))[_0x4cac4b(0x322)]()[_0x4cac4b(0x1de)](),dbLogs[_0x4cac4b(0x2b3)](_0x4cac4b(0x27b))[_0x4cac4b(0x2c6)](_0x22edef)['write'](),emitHistory(_0x5d40e1);}}async function pauseBot(_0x35161c=''){const _0x1b25c7=_0x4f04cf,_0x4c3db0=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x1b25c7(0x21b)](),consecutivePauses=0x1;else{if(_0x4c3db0-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x1b25c7(0x2fe)]({'stop':_0x1b25c7(0x215)},_0x2e74e7=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x1b25c7(0x21b)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x35161c)_0x35161c+='\x20|\x20';logHistory(_0x1b25c7(0x2f0),_0x35161c+_0x1b25c7(0x2e6)+pauseBotInterval/0xea60+_0x1b25c7(0x26c)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x1237a1=_0x4f04cf;process[_0x1237a1(0x2fe)]({'stop':'kill'},_0x24b60b=>{}),await sleep(0x7d0);}async function handleError(_0x20ff63,_0x2b406b,_0xa1fc05=''){const _0x4a8ce0=_0x4f04cf;if(_0x20ff63['toString']()[_0x4a8ce0(0x258)](_0x4a8ce0(0x30b)))await pauseBot(_0x4a8ce0(0x205));else{if(_0x20ff63['toString']()[_0x4a8ce0(0x258)](_0x4a8ce0(0x2dc)))await pauseBot(_0x4a8ce0(0x2ff));else{if(_0x20ff63[_0x4a8ce0(0x222)]()['includes'](_0x4a8ce0(0x2bf)))await pauseBot(_0x4a8ce0(0x2ac));else{if(_0x20ff63['toString']()[_0x4a8ce0(0x258)]('API-key\x20format\x20invalid'))logHistory('error',_0x2b406b+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x4a8ce0(0x2f0),_0x4a8ce0(0x32b)),await killBot();else{if(_0x20ff63[_0x4a8ce0(0x222)]()['includes'](_0x4a8ce0(0x287)))logHistory('error',_0x2b406b+_0x4a8ce0(0x2df)),logHistory(_0x4a8ce0(0x2f0),_0x4a8ce0(0x32b)),await killBot();else{if(_0x20ff63[_0x4a8ce0(0x222)]()[_0x4a8ce0(0x258)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x4a8ce0(0x2f0),_0x2b406b+_0x4a8ce0(0x1f9)),logHistory(_0x4a8ce0(0x2f0),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x20ff63[_0x4a8ce0(0x222)]()[_0x4a8ce0(0x258)](_0x4a8ce0(0x2f3)))logHistory('error',_0x2b406b+_0x4a8ce0(0x1f3)),logHistory(_0x4a8ce0(0x2f0),_0x4a8ce0(0x32b)),await killBot();else{if(_0x20ff63[_0x4a8ce0(0x222)]()[_0x4a8ce0(0x258)](_0x4a8ce0(0x229)))await pauseBot(_0x4a8ce0(0x223)),process['send']({'stop':'restart'},_0x1b36ab=>{});else _0x20ff63['toString']()[_0x4a8ce0(0x258)]('InsufficientFunds')?logHistory(_0x4a8ce0(0x2f0),_0x2b406b+_0x4a8ce0(0x1e0)+_0xa1fc05):(logger[_0x4a8ce0(0x291)](_0x2b406b+_0x4a8ce0(0x202),_0x20ff63),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x56f31a,_0x256fbf){const _0x38eb0e=_0x4f04cf;return parseFloat(_0x56f31a[_0x38eb0e(0x2ed)](_0x256fbf));}function formatResultTruncate(_0x4d0d49,_0x321968){const _0x450129=_0x4f04cf;let _0x37edfe=formatResultString(_0x4d0d49,0xa),_0x5443aa=_0x37edfe[_0x450129(0x2e0)]('.');return _0x5443aa!=-0x1&&(_0x37edfe=_0x37edfe['slice'](0x0,_0x5443aa+_0x321968+0x1)),Number(_0x37edfe);}function formatResultString(_0x5b0674,_0x4786e7){const _0x5328a2=_0x4f04cf;let _0x4ab513;if(!(''+_0x5b0674)[_0x5328a2(0x258)]('e'))_0x4ab513=+(Math['round'](_0x5b0674+'e+'+_0x4786e7)+'e-'+_0x4786e7);else{let _0x28b513=(''+_0x5b0674)[_0x5328a2(0x24a)]('e'),_0x1fed60='';+_0x28b513[0x1]+_0x4786e7>0x0&&(_0x1fed60='+'),_0x4ab513=+(Math['round'](+_0x28b513[0x0]+'e'+_0x1fed60+(+_0x28b513[0x1]+_0x4786e7))+'e-'+_0x4786e7);}return Number(_0x4ab513)['toFixed'](_0x4786e7);}function getServerTime(){const _0x464258=_0x4f04cf,_0x29f112=new Date();return _0x29f112[_0x464258(0x2f7)]()+'/'+(_0x29f112[_0x464258(0x2cf)]()+0x1)[_0x464258(0x222)]()[_0x464258(0x25c)](0x2,'0')+'/'+_0x29f112[_0x464258(0x264)]()[_0x464258(0x222)]()[_0x464258(0x25c)](0x2,'0')+'\x20'+_0x29f112['getHours']()[_0x464258(0x222)]()[_0x464258(0x25c)](0x2,'0')+':'+_0x29f112[_0x464258(0x22a)]()[_0x464258(0x222)]()[_0x464258(0x25c)](0x2,'0')+':'+_0x29f112[_0x464258(0x29a)]()[_0x464258(0x222)]()[_0x464258(0x25c)](0x2,'0');}function getTimeStamp(){const _0x81a104=_0x4f04cf,_0x12affa=shiftedTime();return _0x12affa[_0x81a104(0x2f7)]()+'/'+(_0x12affa[_0x81a104(0x2cf)]()+0x1)[_0x81a104(0x222)]()[_0x81a104(0x25c)](0x2,'0')+'/'+_0x12affa[_0x81a104(0x264)]()[_0x81a104(0x222)]()[_0x81a104(0x25c)](0x2,'0')+'\x20'+_0x12affa['getHours']()['toString']()[_0x81a104(0x25c)](0x2,'0')+':'+_0x12affa[_0x81a104(0x22a)]()[_0x81a104(0x222)]()[_0x81a104(0x25c)](0x2,'0')+':'+_0x12affa[_0x81a104(0x29a)]()['toString']()[_0x81a104(0x25c)](0x2,'0');}function getDate(){const _0x33f09a=_0x4f04cf,_0x4dc705=shiftedTime();return _0x4dc705[_0x33f09a(0x2f7)]()+'/'+(_0x4dc705['getMonth']()+0x1)[_0x33f09a(0x222)]()[_0x33f09a(0x25c)](0x2,'0')+'/'+_0x4dc705[_0x33f09a(0x264)]()[_0x33f09a(0x222)]()[_0x33f09a(0x25c)](0x2,'0');}function getHour(){const _0x2dff5c=shiftedTime();return _0x2dff5c['getHours']()['toString']()['padStart'](0x2,'0');}function sleep(_0x4d75e8){return new Promise(_0x77883f=>setTimeout(_0x77883f,_0x4d75e8));}function shiftedTime(){const _0xf6089a=_0x4f04cf,_0x41b089=new Date();let _0x582f1f=_0x41b089;if(config&&config['timeshift']!==0x0)_0x582f1f=fns[_0xf6089a(0x297)](_0x41b089,{'hours':config[_0xf6089a(0x274)]});return _0x582f1f;}