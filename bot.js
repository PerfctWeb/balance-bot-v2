const _0x253b36=_0x83d1;(function(_0x2e887e,_0x452f06){const _0x24d92b=_0x83d1,_0x1f8f4c=_0x2e887e();while(!![]){try{const _0x4b1cae=parseInt(_0x24d92b(0x1b1))/0x1*(parseInt(_0x24d92b(0x25c))/0x2)+-parseInt(_0x24d92b(0x1ab))/0x3*(-parseInt(_0x24d92b(0x169))/0x4)+parseInt(_0x24d92b(0x22e))/0x5*(parseInt(_0x24d92b(0x197))/0x6)+parseInt(_0x24d92b(0x1d4))/0x7*(parseInt(_0x24d92b(0x144))/0x8)+-parseInt(_0x24d92b(0x1f4))/0x9*(-parseInt(_0x24d92b(0x164))/0xa)+parseInt(_0x24d92b(0x26c))/0xb*(-parseInt(_0x24d92b(0x24d))/0xc)+-parseInt(_0x24d92b(0x202))/0xd*(parseInt(_0x24d92b(0x19d))/0xe);if(_0x4b1cae===_0x452f06)break;else _0x1f8f4c['push'](_0x1f8f4c['shift']());}catch(_0x37014b){_0x1f8f4c['push'](_0x1f8f4c['shift']());}}}(_0x468b,0xcb7aa));const _0x1c7122=function(){let _0x14a990=!![];return function(_0x4330e3,_0x35120f){const _0x3ada8b=_0x14a990?function(){const _0x3bb6a2=_0x83d1;if(_0x35120f){const _0x19cea4=_0x35120f[_0x3bb6a2(0x1b2)](_0x4330e3,arguments);return _0x35120f=null,_0x19cea4;}}:function(){};return _0x14a990=![],_0x3ada8b;};}(),_0x4852cb=_0x1c7122(this,function(){const _0x100f27=_0x83d1;return _0x4852cb[_0x100f27(0x271)]()[_0x100f27(0x190)](_0x100f27(0x234))[_0x100f27(0x271)]()['constructor'](_0x4852cb)[_0x100f27(0x190)]('(((.+)+)+)+$');});_0x4852cb();'use strict';const ccxt=require('ccxt'),low=require(_0x253b36(0x24b)),FileSync=require(_0x253b36(0x257)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x253b36(0x1cf)),Crypt=require('hybrid-crypto-js')[_0x253b36(0x210)];let exchange,wsClient;global[_0x253b36(0x21e)]={},global['change']={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x253b36(0x1fa),_0x253b36(0x230),_0x253b36(0x1b3),'XEM/BUSD',_0x253b36(0x1ba),_0x253b36(0x219)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,allOpenOrders,lastOrders=[],cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')['version'],botID=process[_0x253b36(0x1b9)][0x2]||_0x253b36(0x188),pattern=/^[0-9]{3}$/;!pattern[_0x253b36(0x218)](botID)&&(console[_0x253b36(0x1d2)](_0x253b36(0x1f1)+botID+_0x253b36(0x204)),process['exit'](0x1));const userID=process[_0x253b36(0x1b9)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x253b36(0x226);!fs[_0x253b36(0x26e)](configpath)&&fs[_0x253b36(0x25a)](configpath);const configfile=configpath+_0x253b36(0x22c)+botID+'-config.json',logfile=configpath+_0x253b36(0x22c)+botID+_0x253b36(0x1f8),performancefile=configpath+_0x253b36(0x22c)+botID+_0x253b36(0x1a0),coinresultsfile=configpath+_0x253b36(0x22c)+botID+_0x253b36(0x1d7),settingsfile=configpath+_0x253b36(0x238),securefile=configpath+_0x253b36(0x1d1),configbackuppath=configpath+_0x253b36(0x18a),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x253b36(0x15c)]({'logs':[]})[_0x253b36(0x248)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x253b36(0x15c)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x253b36(0x15c)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x253b36(0x15c)]({'coins':[]})[_0x253b36(0x248)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x42c771)=>{},'debug':(..._0x3fc2fd)=>{},'notice':(..._0x26a661)=>{},'info':(..._0x5e71ef)=>{},'warning':(..._0x871f21)=>{},'error':async function(..._0x27b032){const _0x59b870=_0x253b36,_0x550844=new Date()[_0x59b870(0x16e)]();if(!lastErrorShown||_0x550844-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x1f5c57='';if(_0x27b032[0x0])_0x1f5c57+=_0x27b032[0x0];if(_0x27b032[0x1]&&_0x27b032[0x1][_0x59b870(0x163)]&&_0x27b032[0x1]['error'][_0x59b870(0x19e)])_0x1f5c57+=_0x59b870(0x264)+_0x27b032[0x1][_0x59b870(0x163)][_0x59b870(0x19e)];logging('WebSockets('+consecutivePauses+_0x59b870(0x1e6),''+_0x1f5c57),await pauseBot('Binance\x20not\x20available\x20(1)');}}},crypt=new Crypt({'md':_0x253b36(0x19a),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x253b36(0x170)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);process['send']({'started':'running'},_0x3fbae6=>{}),initializeProcessListeners();function proxyEmit(_0x56bfb3,_0x4e94e5=null){const _0x250274=_0x253b36;process[_0x250274(0x22f)]({'function':_0x56bfb3,'args':_0x4e94e5},_0x1dd117=>{});}function initializeProcessListeners(){const _0x4d4ce2=_0x253b36;process['on'](_0x4d4ce2(0x19e),_0x2d18a6=>{const _0xaf7471=_0x4d4ce2;switch(Object[_0xaf7471(0x141)](_0x2d18a6)[0x0]){case'timeshift':_0x2d18a6[_0xaf7471(0x170)]!=undefined&&(settings[_0xaf7471(0x170)]=_0x2d18a6[_0xaf7471(0x170)],updateTimeshift(settings[_0xaf7471(0x170)]));break;case _0xaf7471(0x154):switch(_0x2d18a6[_0xaf7471(0x154)]){case _0xaf7471(0x18e):initclient();break;case _0xaf7471(0x165):toggleBotMode();break;case'emitHistory':emitHistory(_0x2d18a6['args']);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x2d18a6['args']);break;case'getPortfolio':getPortfolio(_0x2d18a6[_0xaf7471(0x18d)]);break;case _0xaf7471(0x1a2):storeConfiguration(_0x2d18a6['args']);break;case _0xaf7471(0x255):storeHeadless(_0x2d18a6[_0xaf7471(0x18d)]);break;case _0xaf7471(0x205):getStartingBalances(getNormalizedPerformance());break;case _0xaf7471(0x268):placeOrder(_0x2d18a6[_0xaf7471(0x18d)]);break;case _0xaf7471(0x250):cancelLoading();break;case _0xaf7471(0x196):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x29f948=_0x253b36;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x29f948(0x245)],config[_0x29f948(0x272)]);let _0x1d6501=await loadSymbols();if(_0x1d6501){currentCoins=await getCoins(),await initws();if(allOpenOrders[_0x29f948(0x14e)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x5a1ed6,_0x1f9bc7){const _0x24af4f=_0x253b36,_0x3ce795=ccxt[config[_0x24af4f(0x26b)]];let _0x33d4e9;switch(config[_0x24af4f(0x26b)]){case'binance':_0x33d4e9=_0x24af4f(0x23f);break;case'binanceus':_0x33d4e9=_0x24af4f(0x149);break;default:_0x33d4e9=_0x24af4f(0x23f);}exchange=new _0x3ce795({'apiKey':_0x5a1ed6,'secret':_0x1f9bc7,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x5a1ed6,'api_secret':_0x1f9bc7,'beautify':!![],'wsUrl':_0x33d4e9},logger);let _0xbc1253=config['exchange']==_0x24af4f(0x1e8)?'USDT':'EUR',_0xaba6b=config[_0x24af4f(0x22d)]==_0x24af4f(0x221)?_0x24af4f(0x221):_0x24af4f(0x17e);stablecoins={'eur':{'coin':''+_0xaba6b+_0xbc1253,'symbol':_0xaba6b+'/'+_0xbc1253},'usd':{'coin':_0xaba6b+_0x24af4f(0x1e1),'symbol':_0xaba6b+_0x24af4f(0x153)}};}async function loadSymbols(){const _0x213b52=_0x253b36;let _0x3891a8;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x213b52(0x240)]['filter'](_0x22b175=>{const _0xe6c1b5=_0x213b52;let _0x1efa96=![];return exceptions[_0xe6c1b5(0x263)](_0x55f561=>{const _0x36617b=_0xe6c1b5;if(_0x22b175[_0x36617b(0x13e)](_0x55f561))_0x1efa96=!![];}),!_0x1efa96;}),_0x3891a8=!![];}catch(_0x36369c){await handleError(_0x36369c,'loadSymbols()'),_0x3891a8=![];}return _0x3891a8;}async function initbot(){const _0x19a71f=_0x253b36;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0xa2048e=dbCoinResults[_0x19a71f(0x241)](_0x19a71f(0x20f))['value']();if(_0xa2048e['length']==0x0)await resetCoinResults();}async function initclient(){const _0x34458c=_0x253b36;proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x34458c(0x1b6),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x19fa18=getNormalizedPerformance();emitPerformance(_0x19fa18),await getStartingBalances(_0x19fa18);}async function toggleBotMode(){const _0x5595d9=_0x253b36;let _0x35f2f1=dbConfig[_0x5595d9(0x241)](_0x5595d9(0x22b))[_0x5595d9(0x191)]({'botID':botID})[_0x5595d9(0x24a)]();if(_0x35f2f1){const _0x248e7e=!_0x35f2f1[_0x5595d9(0x1f2)];dbConfig[_0x5595d9(0x241)]('bot')[_0x5595d9(0x191)]({'botID':botID})[_0x5595d9(0x223)]({'headless':_0x248e7e})[_0x5595d9(0x248)](),config['headless']=_0x248e7e,proxyEmit(_0x5595d9(0x247),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4198e2=_0x253b36;process[_0x4198e2(0x22f)]({'updatebotmanager':!![]},_0x19cd0e=>{});}function cleanws(){const _0x419614=_0x253b36;wsinitialized=![];ws1&&(ws1['forEach'](_0x3ca29e=>{const _0x50bd51=_0x83d1;try{wsClient[_0x50bd51(0x20a)](_0x3ca29e);}catch(_0x58fd26){}}),ws1=[]);if(ws2){try{wsClient[_0x419614(0x20a)](ws2);}catch(_0x5adadb){}ws2=null;}ws3&&(ws3[_0x419614(0x263)](_0x129ac5=>{const _0x2f9501=_0x419614;try{wsClient[_0x2f9501(0x20a)](_0x129ac5);}catch(_0x1889f2){}}),ws3=[]);}function _0x83d1(_0x23198d,_0x43a12d){const _0x2c9b21=_0x468b();return _0x83d1=function(_0x4852cb,_0x1c7122){_0x4852cb=_0x4852cb-0x13a;let _0x468b67=_0x2c9b21[_0x4852cb];return _0x468b67;},_0x83d1(_0x23198d,_0x43a12d);}async function initws(){const _0x510216=_0x253b36;cleanws();let _0x23049c=[];currentCoins[_0x510216(0x263)](_0x1cb476=>{const _0x573b0f=_0x510216;if(_0x1cb476[_0x573b0f(0x14f)]!=config['basecoin'])_0x23049c[_0x573b0f(0x1ff)](_0x1cb476[_0x573b0f(0x184)]);});if(!_0x23049c[_0x510216(0x13e)](stablecoins[_0x510216(0x26f)][_0x510216(0x184)]))_0x23049c['push'](stablecoins[_0x510216(0x26f)][_0x510216(0x184)]);if(!_0x23049c[_0x510216(0x13e)](stablecoins[_0x510216(0x206)]['symbol']))_0x23049c[_0x510216(0x1ff)](stablecoins[_0x510216(0x206)][_0x510216(0x184)]);if(!_0x23049c[_0x510216(0x13e)]('BNB/'+config['basecoin']))_0x23049c[_0x510216(0x1ff)](_0x510216(0x225)+config['basecoin']);try{_0x23049c[_0x510216(0x263)]((_0x463f44,_0xa742fa)=>{const _0x144927=_0x510216;ws1[_0xa742fa]=wsClient[_0x144927(0x1c1)](noslash(_0x463f44),'1m'),ws3[_0xa742fa]=wsClient[_0x144927(0x1f3)](noslash(_0x463f44),'spot');}),ws2=wsClient[_0x510216(0x252)](),wsClient['on'](_0x510216(0x14d),_0x27ce2c=>{const _0x2256b2=_0x510216;if(isWsFormattedKline(_0x27ce2c)){global[_0x2256b2(0x21e)][_0x27ce2c[_0x2256b2(0x162)][_0x2256b2(0x184)]]=_0x27ce2c['kline'][_0x2256b2(0x22a)];return;}else{if(isWsFormatted24hrTicker(_0x27ce2c)){global[_0x2256b2(0x242)][_0x27ce2c[_0x2256b2(0x184)]]=_0x27ce2c['priceChangePercent'];return;}else{if(!Array[_0x2256b2(0x1a7)](_0x27ce2c)&&_0x27ce2c[_0x2256b2(0x1f5)][_0x2256b2(0x13e)]('userData')){if(_0x27ce2c['wsMarket']['includes'](_0x2256b2(0x17a))){updateNumberCoins(_0x27ce2c);return;}}}}}),wsClient['on'](_0x510216(0x1e2),async _0x252e73=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x56acf3){await handleError(_0x56acf3,_0x510216(0x1c0));}let _0x24c6b7,_0x4a83c2=0x0;loading[_0x510216(0x181)]=[];let _0x7e367d=0x0;_0x23049c[_0x510216(0x263)](_0x2ce8a1=>{const _0x440f8e=_0x510216;loading[_0x440f8e(0x181)]['push'](_0x2ce8a1);}),loadingCanceled=![];while(_0x24c6b7!=_0x23049c[_0x510216(0x14e)]){_0x24c6b7=0x0,_0x23049c[_0x510216(0x263)](_0x30c2fa=>{const _0x53e3ed=_0x510216;global[_0x53e3ed(0x21e)][noslash(_0x30c2fa)]&&(loading[_0x53e3ed(0x181)]=loading[_0x53e3ed(0x181)][_0x53e3ed(0x18b)](_0x20f9d9=>_0x20f9d9!=_0x30c2fa),_0x24c6b7++);}),loading['progress']=Math[_0x510216(0x207)](_0x24c6b7/_0x23049c['length']*0x64);_0x7e367d>0x1e*0x5&&(loading[_0x510216(0x145)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x510216(0x17c)]=!![],emitLoadingProgress();break;}else _0x24c6b7!=_0x4a83c2&&(_0x4a83c2=_0x24c6b7,emitLoadingProgress()),_0x7e367d++,await sleep(0xc8);}if(_0x24c6b7==_0x23049c[_0x510216(0x14e)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x6d3b93=_0x253b36;let _0x292105=0x0,_0x43bd5f=0x0;try{_0x292105=global[_0x6d3b93(0x21e)][stablecoins['eur'][_0x6d3b93(0x14f)]],_0x43bd5f=global[_0x6d3b93(0x21e)][stablecoins[_0x6d3b93(0x206)][_0x6d3b93(0x14f)]];}catch(_0x30dc57){await handleError(_0x30dc57,_0x6d3b93(0x1b7));}return{'eur':Number(_0x292105),'usd':Number(_0x43bd5f)};}function setStartDatePerformance(){const _0x1532ae=_0x253b36;if(config&&config[_0x1532ae(0x1be)][0x0][_0x1532ae(0x148)][_0x1532ae(0x14e)]!=0x0){const _0x184c44=config['liquidity'][0x0][_0x1532ae(0x148)];dbPerformance[_0x1532ae(0x241)](_0x1532ae(0x13f))[_0x1532ae(0x191)]({'date':config[_0x1532ae(0x1b4)]})['assign']({'coins':_0x184c44})['write']();}}async function recreateHistory(_0x4412dd){const _0x4f8715=_0x253b36;let _0x58f005,_0x1c8743=[];logHistory('success',_0x4f8715(0x23c)),_0x4412dd[_0x4f8715(0x209)]['forEach'](_0x4feb6d=>{const _0x8411f=_0x4f8715;if(_0x4feb6d[_0x8411f(0x14f)]!=config[_0x8411f(0x22d)]&&!_0x4feb6d['excluded'])_0x1c8743['push']({'coin':_0x4feb6d[_0x8411f(0x14f)],'symbol':_0x4feb6d[_0x8411f(0x184)]});});let _0x65cc6a=[];try{const _0x47978a=fns[_0x4f8715(0x253)](fns[_0x4f8715(0x14a)](_0x4412dd[_0x4f8715(0x1b4)][_0x4f8715(0x1c6)](/\//g,'-')),_0x4f8715(0x20c));for(const _0x331e6e of _0x1c8743){if(_0x331e6e['coin']!=config['basecoin'])_0x58f005=await exchange[_0x4f8715(0x1cc)](_0x331e6e[_0x4f8715(0x184)],Date[_0x4f8715(0x1aa)](_0x47978a));_0x58f005[_0x4f8715(0x263)](_0x34d4ed=>{const _0x3bf9cd=_0x4f8715,_0x130a1a=_0x331e6e[_0x3bf9cd(0x184)]['includes'](config[_0x3bf9cd(0x22d)]+'/'),_0x51c561=fns[_0x3bf9cd(0x253)](fns[_0x3bf9cd(0x14a)](_0x34d4ed[_0x3bf9cd(0x262)]),_0x3bf9cd(0x180)),_0x3b2764=fns[_0x3bf9cd(0x253)](fns['parseISO'](_0x34d4ed[_0x3bf9cd(0x262)]),_0x3bf9cd(0x251));let _0x1875e8;if(_0x34d4ed[_0x3bf9cd(0x1fd)]==_0x3bf9cd(0x17f)&&_0x130a1a==![])_0x1875e8=_0x34d4ed[_0x3bf9cd(0x15b)];if(_0x34d4ed[_0x3bf9cd(0x1fd)]==_0x3bf9cd(0x17f)&&_0x130a1a==!![])_0x1875e8=-_0x34d4ed['amount']*_0x34d4ed[_0x3bf9cd(0x178)];if(_0x34d4ed[_0x3bf9cd(0x1fd)]==_0x3bf9cd(0x147)&&_0x130a1a==![])_0x1875e8=-_0x34d4ed[_0x3bf9cd(0x15b)];if(_0x34d4ed[_0x3bf9cd(0x1fd)]==_0x3bf9cd(0x147)&&_0x130a1a==!![])_0x1875e8=_0x34d4ed[_0x3bf9cd(0x15b)]*_0x34d4ed[_0x3bf9cd(0x178)];_0x65cc6a['push']({'timestamp':_0x51c561,'date':_0x3b2764,'coin':_0x331e6e[_0x3bf9cd(0x14f)],'symbol':_0x331e6e[_0x3bf9cd(0x184)],'type':_0x34d4ed[_0x3bf9cd(0x227)],'side':_0x34d4ed['side'],'reverse':_0x130a1a,'amount':formatResult(_0x34d4ed['filled'],0x8),'filled':formatResult(_0x34d4ed[_0x3bf9cd(0x23e)],0x8),'coinamount':formatResult(_0x1875e8,0x8),'price':formatResult(_0x34d4ed['price'],0x8)});let _0x470445;if(_0x34d4ed['side']==_0x3bf9cd(0x17f)&&_0x130a1a==![])_0x470445=-_0x34d4ed[_0x3bf9cd(0x15b)]*_0x34d4ed[_0x3bf9cd(0x178)];if(_0x34d4ed[_0x3bf9cd(0x1fd)]==_0x3bf9cd(0x17f)&&_0x130a1a==!![])_0x470445=_0x34d4ed[_0x3bf9cd(0x15b)];if(_0x34d4ed[_0x3bf9cd(0x1fd)]==_0x3bf9cd(0x147)&&_0x130a1a==![])_0x470445=_0x34d4ed[_0x3bf9cd(0x15b)]*_0x34d4ed[_0x3bf9cd(0x178)];if(_0x34d4ed[_0x3bf9cd(0x1fd)]==_0x3bf9cd(0x147)&&_0x130a1a==!![])_0x470445=-_0x34d4ed[_0x3bf9cd(0x15b)];_0x65cc6a[_0x3bf9cd(0x1ff)]({'date':_0x3b2764,'coin':config[_0x3bf9cd(0x22d)],'coinamount':formatResult(_0x470445,0x8)});});}_0x65cc6a[_0x4f8715(0x21f)]((_0x50b3d1,_0x54e1b3)=>_0x50b3d1[_0x4f8715(0x16d)]>_0x54e1b3[_0x4f8715(0x16d)]?0x1:_0x54e1b3[_0x4f8715(0x16d)]>_0x50b3d1[_0x4f8715(0x16d)]?-0x1:0x0),dbLogs[_0x4f8715(0x241)](_0x4f8715(0x19c))['remove']()[_0x4f8715(0x248)](),_0x65cc6a[_0x4f8715(0x263)](_0x5eff38=>{const _0x4c30d1=_0x4f8715;let _0x398050;_0x5eff38[_0x4c30d1(0x14f)]!=config['basecoin']&&(_0x398050={'time':_0x5eff38[_0x4c30d1(0x16d)],'type':_0x4c30d1(0x233),'event':_0x4c30d1(0x1a9)+_0x5eff38[_0x4c30d1(0x184)]+'\x20'+_0x5eff38[_0x4c30d1(0x1fd)]+'\x20#'+_0x5eff38[_0x4c30d1(0x15b)]+'\x20@'+_0x5eff38[_0x4c30d1(0x178)]},dbLogs[_0x4c30d1(0x241)](_0x4c30d1(0x19c))[_0x4c30d1(0x1ff)](_0x398050)['write']());});const _0x3e22d6=fns[_0x4f8715(0x214)]({'start':new Date(_0x4412dd[_0x4f8715(0x1b4)]),'end':new Date()})[_0x4f8715(0x254)](_0x3aee36=>fns[_0x4f8715(0x253)](_0x3aee36,_0x4f8715(0x251)));let _0x417832=[];_0x4412dd['portfolio']['forEach'](_0x523e0c=>{const _0x88bb85=_0x4f8715;if(!_0x523e0c['excluded']){_0x417832[_0x523e0c[_0x88bb85(0x14f)]]=[];let _0x461dd6=_0x523e0c[_0x88bb85(0x1b8)];_0x3e22d6[_0x88bb85(0x263)]((_0x1b4181,_0x197207)=>{const _0x587620=_0x88bb85;let _0x315bdf=_0x65cc6a[_0x587620(0x18b)](_0x51b806=>_0x51b806[_0x587620(0x14f)]==_0x523e0c[_0x587620(0x14f)]&&_0x51b806[_0x587620(0x20b)]==_0x1b4181);if(_0x315bdf[_0x587620(0x14e)]!=0x0){let _0x2ba9db=_0x315bdf[_0x587620(0x1f6)]((_0x477a69,_0x3fddff)=>{const _0x3e16b4=_0x587620;return _0x477a69+=_0x3fddff[_0x3e16b4(0x1a4)],_0x477a69;},0x0);_0x461dd6+=_0x2ba9db;}_0x417832[_0x523e0c[_0x587620(0x14f)]][_0x1b4181]=_0x461dd6;});}});const _0x3ad50a=[..._0x1c8743];_0x3ad50a[_0x4f8715(0x1ff)]({'coin':stablecoins[_0x4f8715(0x26f)][_0x4f8715(0x14f)],'symbol':stablecoins[_0x4f8715(0x26f)][_0x4f8715(0x184)]}),_0x3ad50a[_0x4f8715(0x1ff)]({'coin':stablecoins[_0x4f8715(0x206)][_0x4f8715(0x14f)],'symbol':stablecoins[_0x4f8715(0x206)]['symbol']});let _0xf97cc3=[];for(const _0x5fe34e of _0x3ad50a){_0xf97cc3[_0x5fe34e[_0x4f8715(0x14f)]]=await getCloses(_0x5fe34e['symbol'],new Date(_0x4412dd[_0x4f8715(0x1b4)]));}dbPerformance[_0x4f8715(0x241)]('data')[_0x4f8715(0x1e4)]()[_0x4f8715(0x248)](),_0x3e22d6[_0x4f8715(0x263)]((_0x5e00a9,_0x5d1add)=>{const _0x90039c=_0x4f8715;let _0x3bc368,_0x435d7f=[];_0x5d1add==0x0?(_0x4412dd[_0x90039c(0x209)][_0x90039c(0x263)](_0xa821cc=>{const _0x56784d=_0x90039c;!_0xa821cc[_0x56784d(0x1dd)]&&_0x435d7f[_0x56784d(0x1ff)]({'coin':_0xa821cc[_0x56784d(0x14f)],'number':_0xa821cc[_0x56784d(0x1b8)],'price':_0xa821cc[_0x56784d(0x140)]});}),_0x3bc368={'date':_0x5e00a9,'eur':_0xf97cc3[stablecoins['eur'][_0x90039c(0x14f)]][_0x5d1add],'usd':_0xf97cc3[stablecoins[_0x90039c(0x206)][_0x90039c(0x14f)]][_0x5d1add],'coins':_0x435d7f}):(_0x4412dd[_0x90039c(0x209)][_0x90039c(0x263)](_0xf49b85=>{const _0x5e0e29=_0x90039c;!_0xf49b85['excluded']&&_0x435d7f['push']({'coin':_0xf49b85[_0x5e0e29(0x14f)],'number':_0x417832[_0xf49b85['coin']][_0x5e00a9],'price':_0xf49b85[_0x5e0e29(0x14f)]==config[_0x5e0e29(0x22d)]?0x1:_0xf97cc3[_0xf49b85[_0x5e0e29(0x14f)]][_0x5d1add]});}),_0x3bc368={'date':_0x5e00a9,'eur':_0xf97cc3[stablecoins[_0x90039c(0x26f)][_0x90039c(0x14f)]][_0x5d1add],'usd':_0xf97cc3[stablecoins['usd'][_0x90039c(0x14f)]][_0x5d1add],'coins':_0x435d7f}),dbPerformance[_0x90039c(0x241)]('data')['push'](_0x3bc368)[_0x90039c(0x248)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x341a78 of _0x65cc6a){_0x341a78['coin']!=config['basecoin']&&await updateCoinResults(_0x341a78);}logHistory('success','Performance\x20recreation\x20completed\x20successfully');}catch(_0x372c26){await handleError(_0x372c26,'recreateHistory()');}}async function validate24hChanges(){const _0x5be097=_0x253b36;let _0x4f9f77;for(const _0x518bfb of currentCoins){if(_0x518bfb[_0x5be097(0x14f)]!=config['basecoin']){let _0x48ddf7;_0x518bfb[_0x5be097(0x270)]?_0x48ddf7=formatResult((0x1/(global['change'][noslash(_0x518bfb[_0x5be097(0x184)])]/0x64+0x1)-0x1)*0x64,0x3):_0x48ddf7=global[_0x5be097(0x242)][noslash(_0x518bfb['symbol'])],_0x48ddf7<config[_0x5be097(0x15f)]&&(logHistory(_0x5be097(0x163),_0x518bfb['coin']+_0x5be097(0x1fb)+_0x48ddf7+'%'),logHistory(_0x5be097(0x163),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x5be097(0x163),_0x5be097(0x1a3)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x248d79,_0x86ee14,_0x359b6a=undefined){const _0x1c4d8d=_0x253b36,_0x2c22da='1d';let _0x325728,_0x53af90;const _0x5dcdfa=fns[_0x1c4d8d(0x19b)](new Date(),_0x86ee14)+0x1;try{const _0x5ec3ec=exchange[_0x1c4d8d(0x1e9)]()-_0x5dcdfa*0x18*0xe10*0x3e8;_0x325728=await exchange['fetchOHLCV'](_0x248d79,_0x2c22da,_0x5ec3ec,_0x359b6a),_0x53af90=await exchange[_0x1c4d8d(0x177)](_0x248d79);}catch(_0x1deb42){await handleError(_0x1deb42,_0x1c4d8d(0x260));}let _0x41db0a=ohlcvToCloses(_0x325728);return _0x41db0a['push'](_0x53af90[_0x248d79][_0x1c4d8d(0x1f9)]),_0x41db0a;}function ohlcvToCloses(_0x6df996){let _0x109f8d=[];return _0x6df996['forEach'](function(_0xc2672b){const _0x184d7e=_0x83d1;_0x109f8d[_0x184d7e(0x1ff)](_0xc2672b[0x4]);}),_0x109f8d;}function oneTimeMigration(){const _0x5be40e=_0x253b36;let _0x521f6c=dbLogs[_0x5be40e(0x241)](_0x5be40e(0x21d))[_0x5be40e(0x24a)]();if(_0x521f6c!=_0x5be40e(0x13c)){dbLogs[_0x5be40e(0x256)](_0x5be40e(0x21d),_0x5be40e(0x13c))[_0x5be40e(0x248)]();let _0x2dada9=[];const _0x53b8ef=dbLogs[_0x5be40e(0x241)](_0x5be40e(0x19c))[_0x5be40e(0x24a)]();_0x53b8ef[_0x5be40e(0x263)](_0x3e6dd2=>{const _0x5d0f17=_0x5be40e;_0x2dada9[_0x5d0f17(0x1ff)]({'time':_0x3e6dd2[_0x5d0f17(0x266)],'type':_0x3e6dd2[_0x5d0f17(0x227)],'event':_0x3e6dd2[_0x5d0f17(0x16f)]});}),dbLogs[_0x5be40e(0x241)](_0x5be40e(0x19c))['assign'](_0x2dada9)[_0x5be40e(0x248)]();}let _0x27f3d6=dbConfig['get'](_0x5be40e(0x21d))[_0x5be40e(0x24a)]();if(_0x27f3d6!=_0x5be40e(0x13c)){dbConfig[_0x5be40e(0x256)](_0x5be40e(0x21d),_0x5be40e(0x13c))[_0x5be40e(0x248)]();let _0x3b9ed4=dbConfig[_0x5be40e(0x241)](_0x5be40e(0x22b))['find']({'botID':botID})[_0x5be40e(0x24a)]();if(_0x3b9ed4){let _0x2bf582=[];_0x3b9ed4['portfolio'][_0x5be40e(0x263)](_0x3ff4ba=>{const _0xdb910c=_0x5be40e;_0x2bf582[_0xdb910c(0x1ff)]({'coin':_0x3ff4ba[_0xdb910c(0x14f)],'number':_0x3ff4ba[_0xdb910c(0x1b8)],'price':_0x3ff4ba[_0xdb910c(0x140)]}),delete _0x3ff4ba[_0xdb910c(0x1b8)],delete _0x3ff4ba['startprice'];});if(_0x2bf582[_0x5be40e(0x14e)]!==0x0)fs[_0x5be40e(0x17d)](configbackuppath+(_0x5be40e(0x265)+botID+_0x5be40e(0x1c2)),JSON[_0x5be40e(0x156)](_0x2bf582,null,0x4),function(_0x10cebc){if(_0x10cebc){}});const _0x3ab823=(_0x11bda2,_0x3bf8df)=>{const _0x57bc66=_0x5be40e;let _0x1584af=[];_0x3bf8df[_0x57bc66(0x263)](_0x5ef078=>{const _0x38d5db=_0x57bc66,_0xab5f53=_0x11bda2[_0x38d5db(0x191)](_0x3a1b8b=>_0x3a1b8b[_0x38d5db(0x14f)]==_0x5ef078[_0x38d5db(0x14f)]);if(!_0xab5f53)_0x1584af[_0x38d5db(0x1ff)](_0x5ef078);});let _0x444036=[];return _0x11bda2[_0x57bc66(0x263)](_0x2c6614=>{const _0x391878=_0x57bc66,_0x391ca6=_0x3bf8df[_0x391878(0x191)](_0x1a1504=>_0x1a1504[_0x391878(0x14f)]==_0x2c6614['coin']);if(!_0x391ca6||_0x391ca6['number']==0x0&&_0x2c6614[_0x391878(0x1b5)]!=0x0)_0x444036[_0x391878(0x1ff)](_0x2c6614);}),{'missingDay1':_0x1584af,'notInDay2':_0x444036};},_0x4f94f4=dbPerformance[_0x5be40e(0x241)](_0x5be40e(0x13f))[_0x5be40e(0x1df)]()[_0x5be40e(0x24a)]();if(_0x4f94f4['length']>0x1){const {missingDay1:_0x152181,notInDay2:_0x296dcd}=_0x3ab823(_0x2bf582,_0x4f94f4[0x1]['coins']);_0x2bf582=[..._0x2bf582,..._0x152181],_0x296dcd[_0x5be40e(0x263)](_0x30ba17=>{const _0x65f786=_0x5be40e;let _0x254f46=_0x2bf582[_0x65f786(0x26a)](_0x1ea89d=>_0x1ea89d['coin']==_0x30ba17[_0x65f786(0x14f)]);_0x254f46!=-0x1&&_0x2bf582[_0x65f786(0x13d)](_0x254f46,0x1);});}_0x2bf582[_0x5be40e(0x21f)]((_0x3eb20e,_0x18510e)=>_0x3eb20e[_0x5be40e(0x14f)]>_0x18510e[_0x5be40e(0x14f)]?0x1:_0x18510e[_0x5be40e(0x14f)]>_0x3eb20e[_0x5be40e(0x14f)]?-0x1:0x0);let _0x51e28a=[{'date':_0x3b9ed4['startdate'],'changes':_0x2bf582}];_0x4f94f4['length']>0x2&&_0x4f94f4[_0x5be40e(0x263)]((_0x9dfcdc,_0x3bf364)=>{const _0x3087ff=_0x5be40e;if(_0x3bf364>0x0&&_0x3bf364<_0x4f94f4[_0x3087ff(0x14e)]-0x1){const {missingDay1:_0x5584f5,notInDay2:_0x349851}=_0x3ab823(_0x4f94f4[_0x3bf364][_0x3087ff(0x20f)],_0x4f94f4[_0x3bf364+0x1][_0x3087ff(0x20f)]);_0x2bf582=[],(_0x5584f5['length']!=0x0||_0x349851[_0x3087ff(0x14e)]!=0x0)&&(_0x5584f5['length']!=0x0&&_0x2bf582[_0x3087ff(0x1ff)](..._0x5584f5),_0x349851['length']!=0x0&&(_0x349851[_0x3087ff(0x263)](_0x1bdac3=>{const _0x446bc6=_0x3087ff;_0x1bdac3['number']=-_0x1bdac3[_0x446bc6(0x1b5)];}),_0x2bf582['push'](..._0x349851)),_0x2bf582[_0x3087ff(0x21f)]((_0x467822,_0x2435e2)=>_0x467822['coin']>_0x2435e2[_0x3087ff(0x14f)]?0x1:_0x2435e2['coin']>_0x467822[_0x3087ff(0x14f)]?-0x1:0x0),_0x51e28a[_0x3087ff(0x1ff)]({'date':_0x4f94f4[_0x3bf364+0x1][_0x3087ff(0x20b)],'changes':_0x2bf582}));}}),dbConfig[_0x5be40e(0x241)](_0x5be40e(0x22b))[_0x5be40e(0x191)]({'botID':botID})['assign']({..._0x3b9ed4,'liquidity':_0x51e28a})[_0x5be40e(0x248)]();}}config=getConfiguration(botID);let _0x5ecfe0=dbPerformance['get'](_0x5be40e(0x21d))[_0x5be40e(0x24a)]();_0x5ecfe0!='2.3.5'&&(dbPerformance[_0x5be40e(0x256)](_0x5be40e(0x21d),'2.3.5')[_0x5be40e(0x248)](),setStartDatePerformance());let _0x297d33=dbCoinResults[_0x5be40e(0x241)](_0x5be40e(0x21d))['value']();_0x297d33!=_0x5be40e(0x13c)&&dbCoinResults['set'](_0x5be40e(0x21d),'2.3.5')[_0x5be40e(0x248)]();}function getConfiguration(_0x2a788c){const _0x26a25f=_0x253b36;let _0x7d1d3c=dbConfig['get'](_0x26a25f(0x22b))['find']({'botID':_0x2a788c})[_0x26a25f(0x24a)]();if(_0x7d1d3c){let _0x1f75df=![];typeof _0x7d1d3c[_0x26a25f(0x155)]==_0x26a25f(0x231)&&(_0x7d1d3c={..._0x7d1d3c,'threshold':Number(_0x7d1d3c['threshold'])},_0x1f75df=!![]),_0x7d1d3c[_0x26a25f(0x15f)]==null&&(_0x7d1d3c={..._0x7d1d3c,'change24h':-0x14},_0x1f75df=!![]),_0x1f75df&&(_0x7d1d3c={'botID':_0x7d1d3c[_0x26a25f(0x261)],'exchange':_0x7d1d3c['exchange'],'apiKey':_0x7d1d3c[_0x26a25f(0x245)],'apiSecret':_0x7d1d3c[_0x26a25f(0x272)],'basecoin':_0x7d1d3c['basecoin'],'botname':_0x7d1d3c['botname'],'showname':_0x7d1d3c[_0x26a25f(0x1e3)],'threshold':_0x7d1d3c[_0x26a25f(0x155)],'ordertype':_0x7d1d3c[_0x26a25f(0x1ae)],'timeout':_0x7d1d3c[_0x26a25f(0x145)],'startdate':_0x7d1d3c[_0x26a25f(0x1b4)],'recreate':_0x7d1d3c[_0x26a25f(0x232)],'timeshift':_0x7d1d3c[_0x26a25f(0x170)],'headless':_0x7d1d3c['headless'],'cooldown':_0x7d1d3c[_0x26a25f(0x18c)],'change24h':_0x7d1d3c['change24h'],'emojibuy':_0x7d1d3c[_0x26a25f(0x1de)],'emojisell':_0x7d1d3c[_0x26a25f(0x1b0)],'portfolio':_0x7d1d3c[_0x26a25f(0x209)],'liquidity':_0x7d1d3c[_0x26a25f(0x1be)]},dbConfig[_0x26a25f(0x241)](_0x26a25f(0x22b))['remove']()[_0x26a25f(0x248)](),dbConfig[_0x26a25f(0x241)]('bot')[_0x26a25f(0x1ff)](_0x7d1d3c)[_0x26a25f(0x248)]());}else _0x7d1d3c={'botID':_0x2a788c,'exchange':_0x26a25f(0x1cf),'apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x2a788c,'showname':![],'threshold':0x3,'ordertype':_0x26a25f(0x172),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x26a25f(0x170)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x7d1d3c;}function emittedConfiguration(){const _0x273049=_0x253b36;let _0x58f5e7;return config[_0x273049(0x245)]==''?_0x58f5e7=config:_0x58f5e7={...config,'apiKey':_0x273049(0x194),'apiSecret':_0x273049(0x194)},_0x58f5e7;}function _0x468b(){const _0xfeab65=['RequestTimeout','excluded','emojibuy','cloneDeep','kill','USDT','reconnected','showname','remove','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated',')\x20|\x20Error\x20details:\x20','ExchangeNotAvailable','binanceus','milliseconds','fees','MIN_NOTIONAL','offset','fromCodePoint','fetchBalance','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','cancelOrder','Error:\x20Invalid\x20argument\x20','headless','subscribeSymbol24hrTicker','36CgEoSL','wsKey','reduce','differenceInSeconds','-events.json','last','DAI/','\x20has\x20a\x2024h\x20drop\x20of\x20','InsufficientFunds','side','getSeconds','push','Limit\x20(high-margin)','breakeven','13vlWsvL','Order(s)\x20not\x20validated\x20after\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','getStartingBalances','usd','round','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','portfolio','closeWs','date','yyyy-MM-dd\x27T\x27HH:mm:ss','limit-high','ongoing','coins','Crypt','slice','Cooldown\x20ended\x20-\x20balancing\x20resumed','page','eachDayOfInterval','Binance\x20not\x20available\x20(2)','limit-low','buys','test','YOYOW/','currency','enabled','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','version','ticker','sort','running','ETH','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','assign','padStart','BNB/','./config/','type','botname','USDC','close','bot','bot-','basecoin','5LVqoBt','send','HOT/BTC','string','recreate','order','(((.+)+)+)+$','has','initialprice','starting-balances','bb-settings.json','</pre>','delta','Order(s)\x20validated\x20-\x20','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','total','filled','wss://stream.binance.com:9443','symbols','get','change','padEnd','DDoSProtection','apiKey','balancing\x20resumed','configuration','write','bid','value','lowdb','getHours','17436uoBFHe',':\x20Bot\x20','distribution','cancelLoading','yyyy/MM/dd','subscribeSpotUserDataStream','format','map','storeHeadless','set','lowdb/adapters/FileSync','\x20|\x20','isEqual','mkdirSync','\x20orders\x20in\x20less\x20than\x20','1768616EcpKVy','event-history','Binance\x20API\x20secret\x20is\x20invalid','getCoins()','getCloses()','botID','datetime','forEach','\x20-\x20','starting-balance-','time','target','placeOrder','-------------------------------\x0a','findIndex','exchange','11297QweXtQ','configuration-stored','existsSync','eur','reverse','toString','apiSecret','indexOf','Manual\x20balancing\x20required:\x20','No\x20more\x20open\x20orders\x20-\x20','sells','2.3.5','splice','includes','data','startprice','keys','\x20minutes\x20-\x20','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','8WUYFGE','timeout','secure','sell','changes','wss://stream.binance.us:9443','parseISO','getMonth','getDate','formattedMessage','length','coin','sortBy','BNB','eventTime','/USDT','function','threshold','stringify','Binance\x20API\x20blocked','settings','no\x20open\x20orders','<pre>','amount','defaults','Order\x20filled:\x20','orderStatus','change24h','API\x20or\x20clock\x20sync\x20issue','restart','kline','error','706830AGDDqW','toggleBotMode','AuthenticationError','limit','getFullYear','738676AkGkRu','cost','API-key\x20format\x20invalid','valid','timestamp','getTime','event','timeshift','OrderNotFound','market','min','final','\x20minutes','Market','fetchTickers','price','toLowerCase','spot','toFixed','cancel','writeFile','BTC','buy','yyyy/MM/dd\x20HH:mm:ss','remainingSymbols','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Invalid\x20quantity','symbol','abs','fee','FILLED','001','balancing\x20resumes\x20when\x20cooldown\x20ends','/backup/','filter','cooldown','args','initclient','\x20hour','search','find','max','cumulativeQuoteAssetTransactedQty','************','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','sendPortfolioTelegram','763494DVPaxQ','join','InvalidNonce','sha256','differenceInCalendarDays','logs','10060274WkEGlk','message','limits','-performance.json','accumulatedQuantity','storeConfiguration','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','coinamount','entries','fetchOpenOrders','isArray','split','Order:\x20','parse','24bGQRgS','Binance\x20not\x20responding','orderId','ordertype','executionReport','emojisell','1GsdmDl','apply','HOT/EUR','startdate','number','balances','getFiat()','startnumber','argv','NANO/','privateKey','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','getMinutes','liquidity','outboundAccountPosition','initws()','subscribeSpotKline','.json','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20order:\x20','trade','replace','\x20>\x20','\x20|\x20Binance\x20API\x20key\x20invalid','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','success','commission','fetchOrders','shift','placeOrder()','binance','Limit\x20(low-margin)','bb-secure.json','log','Unknown\x20error\x20occured','1908417xstsUG','\x20|\x20Binance\x20API\x20secret\x20invalid','BUSD','-results.json','EUR','eventType','decrypt','initial'];_0x468b=function(){return _0xfeab65;};return _0x468b();}function getSettings(){const _0x2a1e32=_0x253b36;return dbSettings['get'](_0x2a1e32(0x158))['value']();}function getSecure(){const _0x31c552=_0x253b36;return dbSecure[_0x31c552(0x241)](_0x31c552(0x146))[_0x31c552(0x24a)]()||{};}function updateTimeshift(_0x173c9c){const _0x3e46ac=_0x253b36;let _0x52d548=dbConfig['get'](_0x3e46ac(0x22b))[_0x3e46ac(0x191)]({'botID':botID})['value']();_0x52d548&&dbConfig[_0x3e46ac(0x241)](_0x3e46ac(0x22b))[_0x3e46ac(0x191)]({'botID':botID})['assign']({'timeshift':_0x173c9c})['write'](),config[_0x3e46ac(0x170)]=_0x173c9c,proxyEmit(_0x3e46ac(0x247),emittedConfiguration());}async function storeConfiguration(_0x2c9587){const _0x5963ab=_0x253b36;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0xf3f6c0=dbConfig['get'](_0x5963ab(0x22b))[_0x5963ab(0x191)]({'botID':botID})[_0x5963ab(0x24a)]();_0x2c9587={..._0x2c9587,'apiKey':crypt[_0x5963ab(0x1da)](secure['privateKey'],_0x2c9587[_0x5963ab(0x245)])[_0x5963ab(0x19e)],'apiSecret':crypt['decrypt'](secure[_0x5963ab(0x1bb)],_0x2c9587[_0x5963ab(0x272)])['message']};if(_0xf3f6c0){if(_0x2c9587[_0x5963ab(0x245)]=='************')_0x2c9587['apiKey']=config['apiKey'];if(_0x2c9587['apiSecret']=='************')_0x2c9587['apiSecret']=config[_0x5963ab(0x272)];dbConfig['get'](_0x5963ab(0x22b))['find']({'botID':botID})[_0x5963ab(0x223)](_0x2c9587)[_0x5963ab(0x248)]();}else dbConfig['get']('bot')[_0x5963ab(0x1ff)](_0x2c9587)['write'](),process['send']({'status':_0x5963ab(0x21b),'live':_0x5963ab(0x220)},_0x41e9ac=>{});config={..._0x2c9587},setStartDatePerformance(),process['send']({'botname':_0x2c9587[_0x5963ab(0x228)]},_0x1ab01e=>{}),updateBotManager();const _0x533cc2=getNormalizedPerformance();getStartingBalances(_0x533cc2),emitPerformance(_0x533cc2),proxyEmit(_0x5963ab(0x26d)),reset();}async function storeHeadless(_0x29e523){const _0xef4a98=_0x253b36,_0x51d884={...config,'headless':_0x29e523['headless']};let _0x30ccae=dbConfig[_0xef4a98(0x241)]('bot')[_0xef4a98(0x191)]({'botID':botID})['value']();_0x30ccae&&dbConfig[_0xef4a98(0x241)](_0xef4a98(0x22b))[_0xef4a98(0x191)]({'botID':botID})[_0xef4a98(0x223)](_0x51d884)[_0xef4a98(0x248)](),config={..._0x51d884},updateBotManager(),proxyEmit(_0xef4a98(0x247),emittedConfiguration());}function noslash(_0x5b3fe7){const _0x17abb9=_0x253b36;return _0x5b3fe7[_0x17abb9(0x1c6)]('/','');}async function updateNumberCoins(_0x5c3026){const _0xca5d9e=_0x253b36;_0x5c3026[_0xca5d9e(0x1d9)]&&_0x5c3026[_0xca5d9e(0x1d9)]==_0xca5d9e(0x1bf)&&(_0x5c3026[_0xca5d9e(0x152)]!=lastOutboundEventTime&&(lastOutboundEventTime=_0x5c3026[_0xca5d9e(0x152)],currentCoins=await getCoins(),validateOrders()));if(_0x5c3026[_0xca5d9e(0x1d9)]&&_0x5c3026[_0xca5d9e(0x1d9)]==_0xca5d9e(0x1af)){if(_0x5c3026[_0xca5d9e(0x15e)]==_0xca5d9e(0x187)){if(lastOrders)lastOrders[_0xca5d9e(0x263)](async _0xcba07e=>{const _0x518267=_0xca5d9e;_0xcba07e[_0x518267(0x1ad)]==_0x5c3026[_0x518267(0x1ad)]&&_0xcba07e['filled']==0x0&&(_0xcba07e[_0x518267(0x178)]=_0x5c3026[_0x518267(0x193)]/_0x5c3026['accumulatedQuantity'],_0xcba07e[_0x518267(0x23e)]=_0x5c3026[_0x518267(0x1a1)],_0xcba07e['fee']={'cost':_0x5c3026[_0x518267(0x1cb)],'currency':_0x5c3026['commissionAsset']},validateOrders(),currentCoins=await getCoins(),await updateCoinResults(_0xcba07e));});}}}async function getCoins(_0x4dfd7b=!![],_0x4b920e=config[_0x253b36(0x22d)]){const _0x393aa3=_0x253b36;let _0x56dba4,_0x477667=[],_0x537eb8=[],_0x2909dc=[];try{_0x56dba4=await exchange[_0x393aa3(0x1ee)](),mybalances=_0x56dba4[_0x393aa3(0x23d)];if(!_0x4dfd7b)for(const [_0x28bdb3,_0x41e772]of Object['entries'](mybalances)){_0x2909dc[_0x393aa3(0x1ff)](_0x28bdb3);}else config[_0x393aa3(0x209)][_0x393aa3(0x263)](_0x235568=>{const _0x21c7a2=_0x393aa3;if(!_0x235568[_0x21c7a2(0x1dd)])_0x2909dc[_0x21c7a2(0x1ff)](_0x235568[_0x21c7a2(0x14f)]);});if(_0x4b920e=='')for(const [_0x46eb7e,_0x52f359]of Object[_0x393aa3(0x1a5)](mybalances)){_0x52f359['toString']()!=0x0&&_0x537eb8[_0x393aa3(0x1ff)]({'coin':_0x46eb7e});}else{let _0x5decee=![],_0x3b561d;allOpenOrders=[];for(const [_0x5b5a79,_0x1b5c39]of Object['entries'](mybalances)){if(_0x2909dc[_0x393aa3(0x13e)](_0x5b5a79)){const _0x20b23f=config[_0x393aa3(0x209)][_0x393aa3(0x191)](_0x597f95=>_0x597f95['coin']==_0x5b5a79),_0x185b09=_0x5b5a79+'/'+_0x4b920e,_0x2dab2c=_0x4b920e+'/'+_0x5b5a79;_0x5decee=![];if((_0x1b5c39['toString']()!=0x0||_0x20b23f)&&(allSymbols['includes'](_0x185b09)||_0x5b5a79==_0x4b920e))_0x5b5a79!=_0x4b920e&&(_0x477667[_0x393aa3(0x1ff)](_0x185b09),_0x3b561d=await exchange[_0x393aa3(0x1a6)](_0x185b09),_0x3b561d['length']>0x0&&(_0x5decee=!![])),_0x537eb8[_0x393aa3(0x1ff)]({'coin':_0x5b5a79,'symbol':_0x185b09,'reverse':![],'number':Math[_0x393aa3(0x192)](_0x1b5c39+(_0x20b23f&&_0x20b23f[_0x393aa3(0x1ec)]||0x0),0x0),'order':_0x5decee});else(_0x1b5c39['toString']()!=0x0||_0x20b23f)&&allSymbols[_0x393aa3(0x13e)](_0x2dab2c)&&(_0x5b5a79!=_0x4b920e&&(_0x477667[_0x393aa3(0x1ff)](_0x2dab2c),_0x3b561d=await exchange[_0x393aa3(0x1a6)](_0x2dab2c),_0x3b561d[_0x393aa3(0x14e)]>0x0&&(_0x5decee=!![])),_0x537eb8['push']({'coin':_0x5b5a79,'symbol':_0x2dab2c,'reverse':!![],'number':Math[_0x393aa3(0x192)](_0x1b5c39+(_0x20b23f&&_0x20b23f['offset']||0x0),0x0),'order':_0x5decee}));}_0x5decee&&allOpenOrders[_0x393aa3(0x1ff)](_0x3b561d[0x0]);}allOpenOrders[_0x393aa3(0x14e)]==0x0&&(lockOrders&&validateOrders('no\x20open\x20orders'));}}catch(_0x3d4182){if(!_0x4dfd7b){if(_0x3d4182['toString']()[_0x393aa3(0x13e)](_0x393aa3(0x16b)))return logHistory(_0x393aa3(0x163),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x3d4182['toString']()[_0x393aa3(0x13e)](_0x393aa3(0x166)))return logHistory(_0x393aa3(0x163),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x3d4182[_0x393aa3(0x271)]()[_0x393aa3(0x13e)](_0x393aa3(0x1c3)))return logHistory(_0x393aa3(0x163),_0x393aa3(0x25e)),![];else await handleError(_0x3d4182,'getCoins()');}}}else await handleError(_0x3d4182,_0x393aa3(0x25f));}return _0x537eb8;}async function getPortfolio(_0x4bfbef){const _0x359129=_0x253b36;let _0xf601ac=[],_0x4de149=[],_0x4fbe84,_0x1eb293=[],_0x1bb33a,_0x934f21;_0x4bfbef[_0x359129(0x245)]==='************'||_0x4bfbef[_0x359129(0x272)]==='************'?(_0x1bb33a=config[_0x359129(0x245)],_0x934f21=config[_0x359129(0x272)]):(_0x1bb33a=_0x4bfbef[_0x359129(0x245)],_0x934f21=_0x4bfbef['apiSecret']);await initExchange(_0x1bb33a,_0x934f21);let _0x33dc1c=await loadSymbols();if(_0x33dc1c){_0x1eb293=await getCoins(![],_0x4bfbef[_0x359129(0x22d)]);if(_0x1eb293===![])proxyEmit('portfolio',![]);else{if(_0x4bfbef[_0x359129(0x22d)]=='')proxyEmit(_0x359129(0x209),_0x1eb293);else{_0x1eb293[_0x359129(0x263)](_0xadb742=>{const _0x4930d6=_0x359129;if(_0xadb742['coin']!=_0x4bfbef[_0x4930d6(0x22d)])_0xf601ac['push'](_0xadb742['symbol']);});try{_0x4de149=await exchange[_0x359129(0x177)](_0xf601ac);}catch(_0xad7c49){await handleError(_0xad7c49,'getPortfolio()');}_0x1eb293[_0x359129(0x263)](_0x6ad668=>{const _0x3506b5=_0x359129;_0x6ad668[_0x3506b5(0x14f)]!=_0x4bfbef[_0x3506b5(0x22d)]?_0x4fbe84=_0x6ad668[_0x3506b5(0x270)]?0x1/_0x4de149[_0x6ad668['symbol']][_0x3506b5(0x1f9)]:_0x4de149[_0x6ad668['symbol']][_0x3506b5(0x1f9)]:_0x4fbe84=0x1,_0x6ad668['price']=formatResult(_0x4fbe84,0x8);}),proxyEmit('portfolio',_0x1eb293);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x5b6d0d){const _0x5a02bf=_0x253b36;let _0x33dfb6=!![];const _0x29ca47=!_0x5b6d0d[_0x5a02bf(0x270)]?markets[_0x5b6d0d[_0x5a02bf(0x184)]]['limits'][_0x5a02bf(0x15b)][_0x5a02bf(0x173)]:markets[_0x5b6d0d['symbol']][_0x5a02bf(0x19f)][_0x5a02bf(0x16a)][_0x5a02bf(0x173)],_0x109ffe=!_0x5b6d0d[_0x5a02bf(0x270)]?markets[_0x5b6d0d[_0x5a02bf(0x184)]][_0x5a02bf(0x19f)][_0x5a02bf(0x16a)]['min']:markets[_0x5b6d0d[_0x5a02bf(0x184)]][_0x5a02bf(0x19f)][_0x5a02bf(0x15b)][_0x5a02bf(0x173)];if(Math[_0x5a02bf(0x185)](_0x5b6d0d['trade'])<_0x29ca47)_0x33dfb6=![];if(Math[_0x5a02bf(0x185)](_0x5b6d0d['trade'])*_0x5b6d0d['last']<_0x109ffe)_0x33dfb6=![];if(_0x5b6d0d[_0x5a02bf(0x1fd)]==_0x5a02bf(0x147)){let _0x6543ca=config[_0x5a02bf(0x209)][_0x5a02bf(0x191)](_0x582b99=>_0x582b99[_0x5a02bf(0x14f)]==_0x5b6d0d[_0x5a02bf(0x14f)]);if(_0x6543ca[_0x5a02bf(0x1ec)]>0x0){if(Math[_0x5a02bf(0x185)](_0x5b6d0d[_0x5a02bf(0x1c5)])>_0x5b6d0d[_0x5a02bf(0x1b5)]-_0x6543ca[_0x5a02bf(0x1ec)])_0x33dfb6=![];}else{if(Math[_0x5a02bf(0x185)](_0x5b6d0d[_0x5a02bf(0x1c5)])>_0x5b6d0d[_0x5a02bf(0x1b5)])_0x33dfb6=![];}}if(_0x5b6d0d['side']==_0x5a02bf(0x17f)){let _0x2069b2=config[_0x5a02bf(0x209)][_0x5a02bf(0x191)](_0x28e494=>_0x28e494[_0x5a02bf(0x14f)]==config[_0x5a02bf(0x22d)]),_0x1999cd=currentCoins['find'](_0x197343=>_0x197343[_0x5a02bf(0x14f)]==config[_0x5a02bf(0x22d)]);if(_0x2069b2['offset']>0x0){if(Math[_0x5a02bf(0x185)](_0x5b6d0d[_0x5a02bf(0x1c5)])*_0x5b6d0d[_0x5a02bf(0x1f9)]>_0x1999cd[_0x5a02bf(0x1b5)]-_0x2069b2[_0x5a02bf(0x1ec)])_0x33dfb6=![];}else{if(Math['abs'](_0x5b6d0d[_0x5a02bf(0x1c5)])*_0x5b6d0d[_0x5a02bf(0x1f9)]>_0x1999cd[_0x5a02bf(0x1b5)])_0x33dfb6=![];}}return _0x33dfb6;}async function getBalances(){const _0x1ec59c=_0x253b36;let _0x3d04cd=0x0,_0x3945ea;const _0x189357=config[_0x1ec59c(0x155)];if(config[_0x1ec59c(0x1f2)]&&config['change24h']<0x0)await validate24hChanges();currentCoins['forEach'](_0x86b46=>{const _0x50086e=_0x1ec59c;if(_0x86b46[_0x50086e(0x14f)]!=config['basecoin']){let _0x51f28c=global[_0x50086e(0x21e)][noslash(_0x86b46[_0x50086e(0x184)])];_0x3945ea=_0x86b46[_0x50086e(0x270)]?0x1/_0x51f28c:_0x51f28c;}else _0x3945ea=0x1;let _0x59fb5b=_0x86b46[_0x50086e(0x1b5)]*_0x3945ea;_0x3d04cd+=_0x59fb5b,_0x86b46[_0x50086e(0x1f9)]=formatResult(Number(_0x3945ea),0x8),_0x86b46['value']=_0x59fb5b;}),currentCoins[_0x1ec59c(0x263)](_0x218124=>{const _0x469314=_0x1ec59c;let _0x3829c0=config[_0x469314(0x209)][_0x469314(0x191)](_0xa7f502=>_0xa7f502[_0x469314(0x14f)]==_0x218124[_0x469314(0x14f)]),_0x14b2b6=Number(_0x3829c0[_0x469314(0x24f)]),_0x33017e=_0x218124['value']/_0x3d04cd*0x64,_0x265823=_0x14b2b6*_0x3d04cd/0x64/_0x218124['last']-_0x218124[_0x469314(0x1b5)];_0x218124[_0x469314(0x24f)]=formatResult(_0x33017e,0x3),_0x218124[_0x469314(0x267)]=formatResult(_0x14b2b6,0x3),_0x218124[_0x469314(0x1c5)]=formatResult(_0x265823,0x8),_0x218124['side']='',_0x218124[_0x469314(0x16c)]=![];if(_0x218124[_0x469314(0x14f)]!=config['basecoin']){if(_0x218124[_0x469314(0x24f)]>_0x14b2b6)_0x218124['side']=_0x469314(0x147),_0x218124['valid']=checkMinimums(_0x218124);else _0x218124['distribution']<_0x14b2b6&&(_0x218124[_0x469314(0x1fd)]=_0x469314(0x17f),_0x218124['valid']=checkMinimums(_0x218124));}_0x218124['delta']=_0x218124[_0x469314(0x24f)]/_0x218124[_0x469314(0x267)]-0x1;}),currentCoins[_0x1ec59c(0x21f)]((_0x5b48f6,_0x5ef5aa)=>_0x5b48f6[_0x1ec59c(0x23a)]<_0x5ef5aa[_0x1ec59c(0x23a)]?0x1:_0x5ef5aa[_0x1ec59c(0x23a)]<_0x5b48f6['delta']?-0x1:0x0);const _0x187883=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x187883[_0x1ec59c(0x26f)],'usd':_0x187883[_0x1ec59c(0x206)],'portfolio':JSON[_0x1ec59c(0x156)](currentCoins),'threshold':_0x189357},proxyEmit(_0x1ec59c(0x1b6),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x189357});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x189357});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x260ecb=_0x253b36;if(!lastBalances)return;let _0x491228=[],_0x5aaf5e,_0x3feee7=JSON[_0x260ecb(0x1aa)](lastBalances[_0x260ecb(0x209)]);_0x3feee7['sort']((_0xcd4335,_0x5d0f66)=>_0xcd4335[_0x260ecb(0x14f)]>_0x5d0f66[_0x260ecb(0x14f)]?0x1:_0x5d0f66[_0x260ecb(0x14f)]>_0xcd4335[_0x260ecb(0x14f)]?-0x1:0x0),_0x3feee7[_0x260ecb(0x263)](_0x2c656e=>{const _0x7c6096=_0x260ecb;let _0x18b6b6={'coin':_0x2c656e['coin'],'number':_0x2c656e[_0x7c6096(0x1b5)],'price':_0x2c656e[_0x7c6096(0x1f9)]};_0x491228[_0x7c6096(0x1ff)](_0x18b6b6);});const _0x5893cb=await getFiat();_0x5aaf5e={'date':lastBalances[_0x260ecb(0x266)][_0x260ecb(0x1a8)]('\x20')[0x0],'eur':_0x5893cb[_0x260ecb(0x26f)],'usd':_0x5893cb[_0x260ecb(0x206)],'coins':_0x491228};let _0x3c56fd=dbPerformance[_0x260ecb(0x241)]('data')['find']({'date':_0x5aaf5e[_0x260ecb(0x20b)]})[_0x260ecb(0x24a)]();_0x3c56fd?_0x5aaf5e[_0x260ecb(0x20b)]!=config[_0x260ecb(0x1b4)]&&dbPerformance[_0x260ecb(0x241)](_0x260ecb(0x13f))[_0x260ecb(0x191)]({'date':_0x5aaf5e['date']})[_0x260ecb(0x223)](_0x5aaf5e)[_0x260ecb(0x248)]():dbPerformance[_0x260ecb(0x241)](_0x260ecb(0x13f))[_0x260ecb(0x1ff)](_0x5aaf5e)[_0x260ecb(0x248)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x332b9d=_0x253b36;let _0x16f94f=[];if(dbPerformance[_0x332b9d(0x235)](_0x332b9d(0x13f))[_0x332b9d(0x24a)]()){let _0x3abb0e=dbPerformance['get'](_0x332b9d(0x13f))[_0x332b9d(0x1df)]()['sortBy'](_0x332b9d(0x20b))[_0x332b9d(0x24a)](),_0xc59a17=[...config[_0x332b9d(0x1be)]];_0xc59a17['sort']((_0x370c90,_0x56aa6d)=>_0x370c90[_0x332b9d(0x20b)]>_0x56aa6d['date']?-0x1:_0x56aa6d[_0x332b9d(0x20b)]>_0x370c90['date']?0x1:0x0);let _0x2b0cf9=0x1,_0x11a55b=[],_0x1b35ad=0x0;_0x3abb0e['slice']()['reverse']()[_0x332b9d(0x263)]((_0x25b608,_0x315114)=>{const _0x3186af=_0x332b9d;if(_0xc59a17[_0x1b35ad]){if(_0x3abb0e[_0x3abb0e[_0x3186af(0x14e)]-_0x315114]&&_0xc59a17[_0x1b35ad]['date']==_0x3abb0e[_0x3abb0e[_0x3186af(0x14e)]-_0x315114][_0x3186af(0x20b)]){if(_0x315114<_0x3abb0e[_0x3186af(0x14e)]){let _0xd2d2e4=0x0,_0x502879=0x0;_0x3abb0e[_0x3abb0e[_0x3186af(0x14e)]-_0x315114][_0x3186af(0x20f)][_0x3186af(0x263)](_0x3f838a=>{const _0x270f91=_0x3186af;_0x502879+=_0x3f838a[_0x270f91(0x1b5)]*_0x3f838a[_0x270f91(0x178)];}),_0xc59a17[_0x1b35ad][_0x3186af(0x148)][_0x3186af(0x263)](_0x7ce835=>{const _0x1e1bfa=_0x3186af;_0xd2d2e4+=_0x7ce835[_0x1e1bfa(0x1b5)]*_0x7ce835[_0x1e1bfa(0x178)];}),_0x2b0cf9*=_0xd2d2e4/(_0x502879-_0xd2d2e4)+0x1;}_0x1b35ad++;}}let _0x4cde90=0x0;_0x25b608['coins'][_0x3186af(0x263)](_0xac4fde=>{const _0x15d556=_0x3186af;_0x4cde90+=_0xac4fde[_0x15d556(0x1b5)]*_0xac4fde[_0x15d556(0x178)];}),_0x11a55b[_0x3abb0e[_0x3186af(0x14e)]-_0x315114-0x1]=_0x4cde90*(_0x2b0cf9-0x1);});let _0x242bd8=[];_0xc59a17=[...config['liquidity']]||[];let _0x515f74=0x0;_0x1b35ad=0x0,_0x3abb0e[_0x332b9d(0x263)]((_0x60b719,_0x52474f)=>{const _0x2cea5a=_0x332b9d;if(_0xc59a17[_0x1b35ad]){const _0x1180dc=fns[_0x2cea5a(0x1aa)](_0xc59a17[_0x1b35ad][_0x2cea5a(0x20b)],_0x2cea5a(0x251),new Date()),_0x15261b=fns[_0x2cea5a(0x1aa)](_0x60b719[_0x2cea5a(0x20b)],_0x2cea5a(0x251),new Date());if(fns[_0x2cea5a(0x259)](_0x1180dc,_0x15261b)){let _0xd489ea=0x0;_0xc59a17[_0x1b35ad]['changes']['forEach'](_0x51364d=>{const _0x4381f5=_0x2cea5a;!_0x242bd8[_0x51364d[_0x4381f5(0x14f)]]?_0x242bd8[_0x51364d[_0x4381f5(0x14f)]]=_0x51364d[_0x4381f5(0x1b5)]:(_0xd489ea=_0x242bd8[_0x51364d[_0x4381f5(0x14f)]],_0x242bd8[_0x51364d[_0x4381f5(0x14f)]]+=_0x51364d[_0x4381f5(0x1b5)]);const _0x4b2f93=_0x60b719[_0x4381f5(0x20f)][_0x4381f5(0x191)](_0x4c8972=>_0x4c8972[_0x4381f5(0x14f)]==_0x51364d[_0x4381f5(0x14f)]);(!_0x4b2f93||_0x4b2f93['number']==0x0)&&(_0x515f74+=(-_0x51364d[_0x4381f5(0x1b5)]-_0xd489ea)*_0x51364d[_0x4381f5(0x178)]);}),_0x1b35ad++;}}_0x60b719[_0x2cea5a(0x20f)]['forEach']((_0x5c6035,_0x5dfa67)=>{const _0x58ed2c=_0x2cea5a;_0x242bd8[_0x5c6035[_0x58ed2c(0x14f)]]&&(_0x5c6035={..._0x5c6035,'initial':_0x242bd8[_0x5c6035[_0x58ed2c(0x14f)]]}),_0x60b719[_0x58ed2c(0x20f)][_0x5dfa67]=_0x5c6035;}),_0x16f94f['push']({'date':_0x60b719[_0x2cea5a(0x20b)],'eur':_0x60b719[_0x2cea5a(0x26f)],'usd':_0x60b719[_0x2cea5a(0x206)],'offset':_0x11a55b[_0x52474f],'netoffset':_0x515f74,'coins':_0x60b719[_0x2cea5a(0x20f)]});});}return _0x16f94f;}function emitPerformance(_0x1923ca){const _0xa38fce=_0x253b36;_0x1923ca[_0xa38fce(0x14e)]!==0x0?(proxyEmit('performance',_0x1923ca),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x36b581,_0x3c4cb1){const _0x523b9d=_0x253b36;let _0xea0709=0x0,_0x10c1ba=0x0,_0x5ee736=0x0;_0x36b581[_0x523b9d(0x20f)][_0x523b9d(0x263)](_0x450dbb=>{const _0x3e21c0=_0x523b9d;_0xea0709+=_0x450dbb[_0x3e21c0(0x1b5)]*_0x450dbb['price'];});_0x3c4cb1&&(_0xea0709+=_0x36b581['offset']);if(config[_0x523b9d(0x22d)]===_0x523b9d(0x17e)||config['basecoin']===_0x523b9d(0x221))_0x10c1ba=_0xea0709*_0x36b581[_0x523b9d(0x26f)],_0x5ee736=_0xea0709*_0x36b581[_0x523b9d(0x206)];else{if(config[_0x523b9d(0x22d)]==='BUSD'||config[_0x523b9d(0x22d)]===_0x523b9d(0x1e1)||config[_0x523b9d(0x22d)]==='USDC')_0x10c1ba=_0xea0709*_0x36b581['eur']/_0x36b581[_0x523b9d(0x206)],_0x5ee736=_0xea0709;else config[_0x523b9d(0x22d)]===_0x523b9d(0x1d8)&&(_0x10c1ba=_0xea0709,_0x5ee736=_0xea0709*_0x36b581[_0x523b9d(0x206)]/_0x36b581[_0x523b9d(0x26f)]);}return[_0xea0709,_0x10c1ba,_0x5ee736];}async function getStartingBalances(_0x506164,_0x57aadd=!![]){const _0x148a55=_0x253b36;if(_0x506164['length']!==0x0){const [_0x12aeba,_0x6e8632,_0x16ee22]=getPerf(_0x506164[0x0],!![]);let _0x14a763=[];config[_0x148a55(0x209)][_0x148a55(0x263)](_0x3c0c2d=>{const _0x11e58c=_0x148a55;let _0x429b5a=0x0,_0x2935d1;config[_0x11e58c(0x1be)][_0x11e58c(0x263)](_0x424779=>{const _0x322cfd=_0x11e58c;let _0x3ffa22=_0x424779[_0x322cfd(0x148)][_0x322cfd(0x191)](_0x25c592=>_0x25c592[_0x322cfd(0x14f)]==_0x3c0c2d[_0x322cfd(0x14f)]);if(_0x3ffa22){_0x429b5a+=_0x3ffa22[_0x322cfd(0x1b5)];if(!_0x2935d1)_0x2935d1=_0x3ffa22[_0x322cfd(0x178)];}}),_0x14a763[_0x11e58c(0x1ff)]({'coin':_0x3c0c2d['coin'],'number':_0x429b5a,'initialprice':_0x2935d1});});const _0x5e1eb7={'basecoin':_0x12aeba,'eur':_0x6e8632,'usd':_0x16ee22,'coins':_0x14a763};if(_0x57aadd)proxyEmit(_0x148a55(0x237),_0x5e1eb7);return _0x5e1eb7;}}function headlessMode(_0x12688a){const _0x5529f1=_0x253b36;let _0xb352a=_0x12688a[_0x5529f1(0x209)],_0x54dc4a=_0x12688a[_0x5529f1(0x155)],_0x599397=[];for(let _0x134e41 of _0xb352a){if(_0x134e41[_0x5529f1(0x14f)]!=config[_0x5529f1(0x22d)]){if(_0x134e41[_0x5529f1(0x23a)]>=_0x54dc4a/0x64){if(_0x134e41[_0x5529f1(0x16c)])_0x599397[_0x5529f1(0x1ff)](_0x134e41);}else{if(_0x134e41[_0x5529f1(0x23a)]<=-_0x54dc4a/0x64){if(_0x134e41[_0x5529f1(0x16c)])_0x599397['push'](_0x134e41);}}}}_0x599397[_0x5529f1(0x14e)]>0x0&&placeOrder(_0x599397);}function notifyBalance(_0x268059){const _0x6a4320=_0x253b36;let _0x3dc75a=_0x268059[_0x6a4320(0x209)],_0x38e304=_0x268059[_0x6a4320(0x155)],_0x4bbb44=[];for(let _0x4d6209 of _0x3dc75a){if(_0x4d6209[_0x6a4320(0x14f)]!=config[_0x6a4320(0x22d)]){if(_0x4d6209[_0x6a4320(0x23a)]>=_0x38e304/0x64){if(_0x4d6209[_0x6a4320(0x16c)])_0x4bbb44[_0x6a4320(0x1ff)](_0x4d6209);}else{if(_0x4d6209['delta']<=-_0x38e304/0x64){if(_0x4d6209['valid'])_0x4bbb44[_0x6a4320(0x1ff)](_0x4d6209);}}}}if(_0x4bbb44[_0x6a4320(0x14e)]>0x0){let _0x2e2464=_0x4bbb44[_0x6a4320(0x254)](_0x2301d6=>_0x2301d6[_0x6a4320(0x14f)]);_0x2e2464['sort']();let _0x3ec261=_0x2e2464[_0x6a4320(0x198)](',\x20');if(lastCoinsToBalance!==_0x3ec261)logHistory(_0x6a4320(0x1ca),_0x6a4320(0x274)+_0x3ec261);lastCoinsToBalance=_0x3ec261;}}function symbolToCoin(_0x193c2d){const _0x4835d4=_0x253b36;let _0x4e89ea;if(_0x193c2d['includes']('/'+config[_0x4835d4(0x22d)]))_0x4e89ea=_0x193c2d[_0x4835d4(0x1c6)]('/'+config[_0x4835d4(0x22d)],'');if(_0x193c2d[_0x4835d4(0x13e)](config[_0x4835d4(0x22d)]+'/'))_0x4e89ea=_0x193c2d['replace'](config[_0x4835d4(0x22d)]+'/','');return _0x4e89ea;}async function validateOrders(_0x4b06ff){const _0x266162=_0x253b36;if(_0x4b06ff)validateOrdersState=_0x4b06ff;let _0x202369=[],_0x4b0d70=config[_0x266162(0x1ae)]==_0x266162(0x172)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x266162(0x145)]*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders[_0x266162(0x263)](_0x2eed9c=>{const _0x151314=_0x266162;let _0x685120=![];_0x2eed9c[_0x151314(0x23e)]>0x0&&(_0x685120=!![]),_0x202369[_0x151314(0x1ff)](_0x685120),_0x685120&&config[_0x151314(0x1ae)]!=_0x151314(0x172)&&logHistory(_0x151314(0x233),_0x151314(0x15d)+_0x2eed9c[_0x151314(0x184)]+'\x20'+_0x2eed9c[_0x151314(0x1fd)]+'\x20#'+formatResult(_0x2eed9c[_0x151314(0x23e)],0x8)+'\x20@'+formatResult(_0x2eed9c[_0x151314(0x178)],0x8));}),_0x202369[_0x266162(0x263)]((_0x4e51c2,_0x439dc8)=>{const _0x198ada=_0x266162;if(_0x4e51c2)lastOrders[_0x198ada(0x13d)](_0x439dc8,0x1);});const _0x2f1c76=coolingDown?_0x266162(0x189):_0x266162(0x246);if(validateOrdersState=='initial')validateOrdersState='ongoing',_0x202369['includes'](![])?config[_0x266162(0x1ae)]==_0x266162(0x172)?logHistory(_0x266162(0x163),_0x266162(0x143)):logHistory(_0x266162(0x163),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):lockOrders=![];else{if(validateOrdersState==_0x266162(0x20e)){if(_0x202369[_0x266162(0x13e)](![])){}else lockOrders=![],config[_0x266162(0x1ae)]==_0x266162(0x172)?logHistory(_0x266162(0x1ca),_0x266162(0x23b)+_0x2f1c76):logHistory(_0x266162(0x1ca),'Order(s)\x20filled\x20-\x20'+_0x2f1c76);}else{if(validateOrdersState=='final')lockOrders=![],_0x202369[_0x266162(0x13e)](![])?config[_0x266162(0x1ae)]==_0x266162(0x172)?logHistory(_0x266162(0x1ca),_0x266162(0x203)+Math[_0x266162(0x207)](_0x4b0d70*validateOrderInterval/0xea60)+_0x266162(0x142)+_0x2f1c76):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x4b0d70*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x2f1c76)):logHistory(_0x266162(0x1ca),_0x266162(0x13a)+_0x2f1c76),currentCoins=await getCoins();else{if(validateOrdersState==_0x266162(0x159)){lockOrders=![];if(config[_0x266162(0x1ae)]!='market')logHistory(_0x266162(0x1ca),_0x266162(0x13a)+_0x2f1c76);}}}}}async function cancelOrders(){const _0x44db2b=_0x253b36;lastOrders[_0x44db2b(0x263)](async _0x480902=>{const _0x83cca9=_0x44db2b;try{const _0x4ee7ad=await exchange[_0x83cca9(0x1f0)](_0x480902['orderId'],_0x480902[_0x83cca9(0x184)]);}catch(_0x3c57de){if(_0x3c57de[_0x83cca9(0x271)]()[_0x83cca9(0x13e)](_0x83cca9(0x171))){}else await handleError(_0x3c57de,'cancelOrders()');}});}async function resetCoinResults(){const _0x32456d=_0x253b36;dbCoinResults[_0x32456d(0x241)](_0x32456d(0x20f))['remove']()[_0x32456d(0x248)]();let _0xd038fb=await getStartingBalances(getNormalizedPerformance(),![]);_0xd038fb[_0x32456d(0x20f)][_0x32456d(0x263)](_0x39b444=>{const _0x248a96=_0x32456d;if(_0x39b444[_0x248a96(0x14f)]!=config[_0x248a96(0x22d)]){let _0x35cb80={'coin':_0x39b444[_0x248a96(0x14f)],'number':_0x39b444[_0x248a96(0x1b5)],'breakeven':formatResult(_0x39b444[_0x248a96(0x236)],0x8),'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x248a96(0x241)](_0x248a96(0x20f))[_0x248a96(0x1ff)](_0x35cb80)[_0x248a96(0x248)]();}});}async function updateCoinResults(_0x19c79a){const _0x44b152=_0x253b36;let _0x3ea68a,_0x23e111,_0x95f0af,_0x3f7f91,_0x716968,_0xd2fa57,_0xbf035=dbCoinResults[_0x44b152(0x241)](_0x44b152(0x20f))['find']({'coin':_0x19c79a[_0x44b152(0x14f)]})[_0x44b152(0x24a)]();if(!_0xbf035)return;if(_0x19c79a[_0x44b152(0x186)]&&_0x19c79a[_0x44b152(0x186)][_0x44b152(0x21a)]==config[_0x44b152(0x22d)])_0x3ea68a=_0x19c79a[_0x44b152(0x186)][_0x44b152(0x16a)];else{if(_0x19c79a[_0x44b152(0x186)]&&_0x19c79a['fee'][_0x44b152(0x21a)]==_0x44b152(0x151))_0x3ea68a=_0x19c79a[_0x44b152(0x186)][_0x44b152(0x16a)]*global[_0x44b152(0x21e)]['BNB'+config[_0x44b152(0x22d)]];else _0x3ea68a=defaultFee*_0x19c79a[_0x44b152(0x23e)];}_0x19c79a[_0x44b152(0x270)]&&(_0xd2fa57={'coin':_0x19c79a[_0x44b152(0x14f)],'symbol':_0x19c79a[_0x44b152(0x184)],'filled':_0x19c79a[_0x44b152(0x23e)]*_0x19c79a[_0x44b152(0x178)],'amount':_0x19c79a[_0x44b152(0x23e)]*_0x19c79a[_0x44b152(0x178)],'side':_0x19c79a[_0x44b152(0x1fd)]=='sell'?_0x44b152(0x17f):_0x44b152(0x147),'price':0x1/_0x19c79a[_0x44b152(0x178)]},_0x19c79a={..._0x19c79a,..._0xd2fa57});_0x19c79a[_0x44b152(0x1fd)]==_0x44b152(0x17f)?_0x95f0af=(_0xbf035[_0x44b152(0x201)]*_0xbf035[_0x44b152(0x1b5)]+_0x19c79a['price']*_0x19c79a[_0x44b152(0x23e)])/(_0xbf035[_0x44b152(0x1b5)]+_0x19c79a[_0x44b152(0x23e)]):_0x95f0af=(_0xbf035[_0x44b152(0x201)]*_0xbf035[_0x44b152(0x1b5)]-_0x19c79a[_0x44b152(0x178)]*_0x19c79a[_0x44b152(0x23e)])/(_0xbf035[_0x44b152(0x1b5)]-_0x19c79a[_0x44b152(0x23e)]);_0x19c79a[_0x44b152(0x1fd)]==_0x44b152(0x17f)?_0x3f7f91=_0xbf035['realized']:_0x3f7f91=_0xbf035['realized']+(_0x19c79a['price']-_0xbf035[_0x44b152(0x201)])*_0x19c79a['filled'];const _0x556984=currentCoins['find'](_0x492466=>_0x492466[_0x44b152(0x14f)]==_0x19c79a[_0x44b152(0x14f)]);_0x23e111=_0x556984[_0x44b152(0x1b5)],_0x716968=(_0x19c79a['price']-_0x95f0af)*_0x23e111;let _0x375235={'coin':_0x19c79a[_0x44b152(0x14f)],'number':_0x23e111,'breakeven':formatResult(_0x95f0af,0x8),'realized':formatResult(_0x3f7f91,0x8),'unrealized':formatResult(_0x716968,0x8),'fees':formatResult(_0xbf035[_0x44b152(0x1ea)]+_0x3ea68a,0x8),'sells':_0x19c79a[_0x44b152(0x1fd)]==_0x44b152(0x147)?_0xbf035[_0x44b152(0x13b)]+0x1:_0xbf035[_0x44b152(0x13b)],'buys':_0x19c79a[_0x44b152(0x1fd)]==_0x44b152(0x17f)?_0xbf035['buys']+0x1:_0xbf035[_0x44b152(0x217)]};dbCoinResults[_0x44b152(0x241)](_0x44b152(0x20f))[_0x44b152(0x191)]({'coin':_0x19c79a['coin']})[_0x44b152(0x223)](_0x375235)[_0x44b152(0x248)]();if(_0x19c79a[_0x44b152(0x186)]&&_0x19c79a[_0x44b152(0x186)][_0x44b152(0x21a)]==_0x44b152(0x151)){const _0x2ec2b9=currentCoins[_0x44b152(0x191)](_0xaabe67=>_0xaabe67[_0x44b152(0x14f)]==_0x44b152(0x151));_0x23e111=_0x2ec2b9[_0x44b152(0x1b5)];let _0x49d5e9=dbCoinResults[_0x44b152(0x241)](_0x44b152(0x20f))[_0x44b152(0x191)]({'coin':_0x44b152(0x151)})[_0x44b152(0x24a)]();_0x375235={..._0x49d5e9,'number':_0x23e111},dbCoinResults[_0x44b152(0x241)](_0x44b152(0x20f))['find']({'coin':_0x44b152(0x151)})[_0x44b152(0x223)](_0x375235)[_0x44b152(0x248)]();}}async function placeOrder(_0x176c80){const _0x1045d5=_0x253b36,_0x18a82f=config[_0x1045d5(0x1ae)]==_0x1045d5(0x172)?_0x1045d5(0x172):_0x1045d5(0x167);if(!lockOrders&&!coolingDown){lastOrders=[];for(const _0x571f37 of _0x176c80){let _0x2903fb,_0x10fe42,_0x25ab6f,_0x356ddc,_0x22f8c6,_0x492d3c=_0x571f37[_0x1045d5(0x184)];try{const _0x40c481=await exchange[_0x1045d5(0x177)]([_0x492d3c]),_0x4b64e0=_0x40c481[_0x492d3c];_0x2903fb=_0x571f37[_0x1045d5(0x270)]?0x1/_0x571f37['last']:_0x571f37['last'],_0x10fe42=_0x4b64e0[_0x1045d5(0x249)],_0x25ab6f=_0x4b64e0['ask'];_0x571f37[_0x1045d5(0x270)]?(_0x356ddc=_0x571f37['side']==_0x1045d5(0x17f)?_0x1045d5(0x147):_0x1045d5(0x17f),_0x22f8c6=Math['abs'](_0x571f37[_0x1045d5(0x1c5)])/_0x2903fb):(_0x356ddc=_0x571f37[_0x1045d5(0x1fd)],_0x22f8c6=Math[_0x1045d5(0x185)](_0x571f37[_0x1045d5(0x1c5)]));_0x18a82f==_0x1045d5(0x167)&&(config[_0x1045d5(0x1ae)]==_0x1045d5(0x20d)&&(_0x2903fb=_0x356ddc==_0x1045d5(0x17f)?_0x10fe42:_0x25ab6f),config[_0x1045d5(0x1ae)]==_0x1045d5(0x216)&&(_0x2903fb=_0x356ddc==_0x1045d5(0x17f)?_0x25ab6f:_0x10fe42));_0x22f8c6=formatResult(_0x22f8c6,0x8),_0x2903fb=formatResult(_0x2903fb,0x8);const _0x34d247=await exchange['createOrder'](_0x492d3c,_0x18a82f,_0x356ddc,_0x22f8c6,_0x2903fb);lastOrders[_0x1045d5(0x1ff)]({'orderId':_0x34d247['id'],'symbol':_0x492d3c,'coin':_0x571f37['coin'],'side':_0x356ddc,'reverse':_0x571f37[_0x1045d5(0x270)],'amount':_0x34d247[_0x1045d5(0x15b)],'filled':0x0,'price':_0x34d247[_0x1045d5(0x178)],'fee':_0x34d247[_0x1045d5(0x186)]});const _0x4759b4=_0x356ddc==_0x1045d5(0x147)?config[_0x1045d5(0x1b0)]?String[_0x1045d5(0x1ed)]('0x'+config[_0x1045d5(0x1b0)])+'\x20':'':config[_0x1045d5(0x1de)]?String[_0x1045d5(0x1ed)]('0x'+config[_0x1045d5(0x1de)])+'\x20':'',_0xbade47=_0x18a82f==_0x1045d5(0x172)?_0x1045d5(0x176):config[_0x1045d5(0x1ae)]==_0x1045d5(0x20d)?_0x1045d5(0x200):_0x1045d5(0x1d0);if(_0x18a82f=='market')logHistory(_0x1045d5(0x233),''+_0x4759b4+_0xbade47+_0x1045d5(0x1c4)+_0x492d3c+'\x20'+_0x356ddc+'\x20#'+formatResult(_0x34d247[_0x1045d5(0x23e)],0x8)+'\x20@'+formatResult(_0x34d247[_0x1045d5(0x178)],0x8));else logHistory('order',''+_0x4759b4+_0xbade47+_0x1045d5(0x1c4)+_0x492d3c+'\x20'+_0x356ddc+'\x20#'+formatResult(_0x34d247[_0x1045d5(0x15b)],0x8)+'\x20@'+formatResult(_0x34d247[_0x1045d5(0x178)],0x8));let _0x195c3c=currentCoins[_0x1045d5(0x191)](_0xb74a02=>_0xb74a02[_0x1045d5(0x14f)]==_0x571f37[_0x1045d5(0x14f)]);_0x195c3c[_0x1045d5(0x233)]=!![];if(config[_0x1045d5(0x18c)]!=0x0){let _0x2ca75e=null;if(cooldownTracker[_0x1045d5(0x14e)]==config[_0x1045d5(0x18c)]-0x1)_0x2ca75e=cooldownTracker[_0x1045d5(0x1cd)]();const _0x239fbc=getTimeStamp();cooldownTracker['push'](_0x239fbc);if(_0x2ca75e){const _0x29fb37=fns[_0x1045d5(0x1f7)](new Date(_0x239fbc),new Date(_0x2ca75e));if(_0x29fb37<cooldownInterval){logHistory(_0x1045d5(0x163),'Executed\x20'+config[_0x1045d5(0x18c)]+_0x1045d5(0x25b)+cooldownInterval/0x3c+_0x1045d5(0x1bc)+cooldownPeriod/(0xe10*0x3e8)+_0x1045d5(0x18f)),coolingDown=!![];break;}}}}catch(_0x44a625){if(_0x44a625[_0x1045d5(0x271)]()['includes'](_0x1045d5(0x1eb)))logHistory(_0x1045d5(0x163),_0x1045d5(0x1ef)+_0x492d3c);else{if(_0x44a625[_0x1045d5(0x271)]()[_0x1045d5(0x13e)](_0x1045d5(0x183)))logHistory(_0x1045d5(0x163),'Order\x20amount\x20is\x20invalid:\x20'+_0x492d3c);else await handleError(_0x44a625,_0x1045d5(0x1ce),_0x492d3c);}}}if(lastOrders['length']!=0x0){lockOrders=!![],validateOrdersState=_0x1045d5(0x1db);const _0x2ee7d7=config[_0x1045d5(0x1ae)]==_0x1045d5(0x172)?validateOrderTimeout*0x3c*0x3e8:config[_0x1045d5(0x145)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x30bf0d=_0x1045d5;validateOrders(_0x30bf0d(0x174));},_0x2ee7d7);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x1045d5(0x212)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x1045d5(0x208));else lockOrders&&(!config[_0x1045d5(0x1f2)]&&(config[_0x1045d5(0x1ae)]==_0x1045d5(0x172)?logHistory('error',_0x1045d5(0x1e5)):logHistory(_0x1045d5(0x163),_0x1045d5(0x1c9))));}}function restoreOrders(){const _0x349c4d=_0x253b36;let _0x23bae3;lockOrders=!![],validateOrdersState=_0x349c4d(0x20e),currentCoins['forEach'](_0x36c070=>{const _0x55e163=_0x349c4d,_0x189498=allOpenOrders[_0x55e163(0x191)](_0x493e63=>_0x493e63['symbol']==_0x36c070['symbol']);_0x189498&&(lastOrders['push']({'orderId':_0x189498['id'],'symbol':_0x36c070[_0x55e163(0x184)],'coin':_0x36c070[_0x55e163(0x14f)],'side':_0x189498[_0x55e163(0x1fd)],'reverse':_0x36c070[_0x55e163(0x270)],'amount':_0x189498[_0x55e163(0x15b)],'filled':0x0,'price':_0x189498[_0x55e163(0x178)],'fee':_0x189498[_0x55e163(0x186)]}),_0x36c070[_0x55e163(0x233)]=!![],_0x23bae3=_0x189498[_0x55e163(0x16d)]);});const _0x1d3d32=new Date()['getTime'](),_0x326d1b=config[_0x349c4d(0x1ae)]==_0x349c4d(0x172)?validateOrderTimeout*0x3c*0x3e8:config[_0x349c4d(0x145)]*0x3c*0x3e8;if(_0x23bae3+_0x326d1b>_0x1d3d32){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x26f475=_0x349c4d;validateOrders(_0x26f475(0x174));},_0x23bae3+_0x326d1b-_0x1d3d32);}else validateOrders(_0x349c4d(0x174));}function sendPortfolioTelegram(){const _0x4495bf=_0x253b36,_0x5bd9c3=[_0x4495bf(0x1d8),_0x4495bf(0x1d6),_0x4495bf(0x1e1),_0x4495bf(0x229)],_0x1f6eaa=_0x5bd9c3[_0x4495bf(0x13e)](config[_0x4495bf(0x22d)])?0x2:0x8;let _0x1a3432=_0x4495bf(0x15a);_0x1a3432+=_0x4495bf(0x182),_0x1a3432+=_0x4495bf(0x269),currentCoins['forEach'](_0xb0ea07=>{const _0x5d9b39=_0x4495bf;_0x1a3432+=_0xb0ea07['coin'][_0x5d9b39(0x243)](0x7)+'|\x20'+formatPad(_0xb0ea07['distribution'],0x2,0x6)+'|\x20'+formatPad(_0xb0ea07[_0x5d9b39(0x267)],0x2,0x6)+'|\x20'+formatPad(_0xb0ea07['delta']*0x64,0x2,0x6)+'\x0a';}),_0x1a3432+=_0x4495bf(0x239),process['send']({'telegrammsg':_0x1a3432},_0x4a6b3d=>{});}function formatPad(_0x50f19e,_0x5b05e6,_0x9bb444){const _0x373927=_0x253b36,_0x100061=formatResultString(_0x50f19e,_0x5b05e6);return _0x100061?_0x100061['padStart'](_0x9bb444):''[_0x373927(0x224)](_0x9bb444);}function logHistory(_0x12b550,_0x2cf1a9,_0x27ece6=''){const _0x3d311f=_0x253b36;let _0x276756={'time':getTimeStamp(),'type':_0x12b550,'event':_0x2cf1a9};dbLogs[_0x3d311f(0x241)]('logs')[_0x3d311f(0x1ff)](_0x276756)[_0x3d311f(0x248)]();if(_0x27ece6=='')_0x27ece6=_0x2cf1a9;proxyEmit('event',{'log':_0x276756,'summary':_0x27ece6}),process['send']({'telegram':{..._0x276756,'botname':config[_0x3d311f(0x228)],'showname':config[_0x3d311f(0x1e3)]}},_0x57931f=>{}),logging(''+_0x276756[_0x3d311f(0x16f)]);}function emitHistory(_0x4acce2={}){const _0x115bbb=_0x253b36;Object[_0x115bbb(0x141)](_0x4acce2)[_0x115bbb(0x14e)]==0x0&&(_0x4acce2={'type':['order','event'],'event':'','page':0x1});if(_0x4acce2[_0x115bbb(0x227)][_0x115bbb(0x13e)](_0x115bbb(0x16f)))_0x4acce2[_0x115bbb(0x227)][_0x115bbb(0x13d)](_0x4acce2[_0x115bbb(0x227)][_0x115bbb(0x273)](_0x115bbb(0x16f)),0x1,'error',_0x115bbb(0x1ca));if(dbLogs['has']('logs')[_0x115bbb(0x24a)]()){let _0x81e15b=dbLogs[_0x115bbb(0x241)](_0x115bbb(0x19c))['filter'](_0x22a4d1=>{const _0x44f9f8=_0x115bbb;if(_0x4acce2[_0x44f9f8(0x227)][_0x44f9f8(0x14e)]==0x0)return![];else return _0x4acce2[_0x44f9f8(0x227)][_0x44f9f8(0x13e)](_0x22a4d1[_0x44f9f8(0x227)]);})[_0x115bbb(0x18b)](_0xb6ec28=>{const _0x1bcc1a=_0x115bbb;if(_0x4acce2[_0x1bcc1a(0x16f)]=='')return!![];else return _0xb6ec28[_0x1bcc1a(0x16f)][_0x1bcc1a(0x179)]()['includes'](_0x4acce2[_0x1bcc1a(0x16f)][_0x1bcc1a(0x179)]());})[_0x115bbb(0x150)](_0x115bbb(0x266)),_0x13bb78=_0x81e15b[_0x115bbb(0x24a)]()['length'];_0x81e15b=_0x81e15b[_0x115bbb(0x270)]()[_0x115bbb(0x211)]((_0x4acce2[_0x115bbb(0x213)]-0x1)*logPageSize,_0x4acce2[_0x115bbb(0x213)]*logPageSize-0x1)['reverse']()[_0x115bbb(0x24a)](),proxyEmit(_0x115bbb(0x25d),{'logs':_0x81e15b,'total':_0x13bb78});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x34e94c){const _0x68f73a=_0x253b36;if(dbLogs[_0x68f73a(0x235)]('logs')['value']()){const _0x3aae38=dbLogs[_0x68f73a(0x241)]('logs')['sortBy'](_0x68f73a(0x266))[_0x68f73a(0x18b)](_0x1b6fd0=>{const _0xd4ee98=_0x68f73a;return _0x1b6fd0[_0xd4ee98(0x227)]==_0xd4ee98(0x233);})['value']();dbLogs[_0x68f73a(0x241)]('logs')['remove']()[_0x68f73a(0x248)](),dbLogs[_0x68f73a(0x241)](_0x68f73a(0x19c))[_0x68f73a(0x223)](_0x3aae38)['write'](),emitHistory(_0x34e94c);}}async function pauseBot(_0x880130=''){const _0x289c98=_0x253b36,_0x4f937a=new Date()[_0x289c98(0x16e)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x4f937a-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':'restart'},_0x18367b=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x880130)_0x880130+=_0x289c98(0x258);logHistory(_0x289c98(0x163),_0x880130+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x289c98(0x175)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x47ded8=_0x253b36;process[_0x47ded8(0x22f)]({'stop':_0x47ded8(0x1e0)},_0x1740d8=>{}),await sleep(0x7d0);}async function handleError(_0x3a0513,_0x5acf30,_0x378144=''){const _0x4a6329=_0x253b36;if(_0x3a0513[_0x4a6329(0x271)]()[_0x4a6329(0x13e)](_0x4a6329(0x244)))await pauseBot(_0x4a6329(0x157));else{if(_0x3a0513[_0x4a6329(0x271)]()[_0x4a6329(0x13e)](_0x4a6329(0x1e7)))await pauseBot(_0x4a6329(0x215));else{if(_0x3a0513['toString']()['includes'](_0x4a6329(0x1dc)))await pauseBot(_0x4a6329(0x1ac));else{if(_0x3a0513[_0x4a6329(0x271)]()['includes'](_0x4a6329(0x16b)))logHistory(_0x4a6329(0x163),_0x5acf30+_0x4a6329(0x1c8)),logHistory(_0x4a6329(0x163),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3a0513[_0x4a6329(0x271)]()['includes'](_0x4a6329(0x166)))logHistory(_0x4a6329(0x163),_0x5acf30+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x4a6329(0x163),_0x4a6329(0x21c)),await killBot();else{if(_0x3a0513[_0x4a6329(0x271)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x5acf30+_0x4a6329(0x1d5)),logHistory('error',_0x4a6329(0x21c)),await killBot();else{if(_0x3a0513[_0x4a6329(0x271)]()[_0x4a6329(0x13e)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory('error',_0x5acf30+_0x4a6329(0x222)),logHistory(_0x4a6329(0x163),_0x4a6329(0x21c)),await killBot();else{if(_0x3a0513['toString']()[_0x4a6329(0x13e)](_0x4a6329(0x199)))await pauseBot(_0x4a6329(0x160)),process['send']({'stop':_0x4a6329(0x161)},_0x1ff981=>{});else _0x3a0513[_0x4a6329(0x271)]()[_0x4a6329(0x13e)](_0x4a6329(0x1fc))?logHistory(_0x4a6329(0x163),_0x5acf30+_0x4a6329(0x195)+_0x378144):(logging(_0x5acf30+'\x20|\x20Error\x20details:\x20',_0x3a0513),await pauseBot(_0x4a6329(0x1d3)));}}}}}}}}function formatResult(_0x160c3a,_0x3df7cd){const _0x567ed3=_0x253b36;return _0x160c3a?parseFloat(_0x160c3a[_0x567ed3(0x17b)](_0x3df7cd)):null;}function formatResultString(_0x7bc064,_0x5b94d6){const _0x84c3bc=_0x253b36;if(!_0x7bc064)return null;let _0x3553dd;if(!(''+_0x7bc064)[_0x84c3bc(0x13e)]('e'))_0x3553dd=+(Math[_0x84c3bc(0x207)](_0x7bc064+'e+'+_0x5b94d6)+'e-'+_0x5b94d6);else{let _0x4f619e=(''+_0x7bc064)['split']('e'),_0x120c18='';+_0x4f619e[0x1]+_0x5b94d6>0x0&&(_0x120c18='+'),_0x3553dd=+(Math[_0x84c3bc(0x207)](+_0x4f619e[0x0]+'e'+_0x120c18+(+_0x4f619e[0x1]+_0x5b94d6))+'e-'+_0x5b94d6);}return Number(_0x3553dd)[_0x84c3bc(0x17b)](_0x5b94d6);}function logging(_0x153c60,_0x7cd06b=''){const _0x4bf8b6=_0x253b36;if(config['showname'])console[_0x4bf8b6(0x1d2)](getTimeStamp()+':\x20'+config[_0x4bf8b6(0x228)]+_0x4bf8b6(0x1c7)+_0x153c60,_0x7cd06b);else console['log'](getTimeStamp()+_0x4bf8b6(0x24e)+botID+_0x4bf8b6(0x1c7)+_0x153c60,_0x7cd06b);}function getServerTime(){const _0x4b80c5=_0x253b36,_0x8e82a9=new Date();return _0x8e82a9[_0x4b80c5(0x168)]()+'/'+(_0x8e82a9[_0x4b80c5(0x14b)]()+0x1)[_0x4b80c5(0x271)]()[_0x4b80c5(0x224)](0x2,'0')+'/'+_0x8e82a9[_0x4b80c5(0x14c)]()[_0x4b80c5(0x271)]()[_0x4b80c5(0x224)](0x2,'0')+'\x20'+_0x8e82a9[_0x4b80c5(0x24c)]()[_0x4b80c5(0x271)]()[_0x4b80c5(0x224)](0x2,'0')+':'+_0x8e82a9[_0x4b80c5(0x1bd)]()[_0x4b80c5(0x271)]()['padStart'](0x2,'0')+':'+_0x8e82a9[_0x4b80c5(0x1fe)]()['toString']()[_0x4b80c5(0x224)](0x2,'0');}function getTimeStamp(){const _0x185a78=_0x253b36,_0x1c9862=shiftedTime();return _0x1c9862[_0x185a78(0x168)]()+'/'+(_0x1c9862[_0x185a78(0x14b)]()+0x1)[_0x185a78(0x271)]()['padStart'](0x2,'0')+'/'+_0x1c9862[_0x185a78(0x14c)]()[_0x185a78(0x271)]()[_0x185a78(0x224)](0x2,'0')+'\x20'+_0x1c9862[_0x185a78(0x24c)]()['toString']()[_0x185a78(0x224)](0x2,'0')+':'+_0x1c9862[_0x185a78(0x1bd)]()[_0x185a78(0x271)]()[_0x185a78(0x224)](0x2,'0')+':'+_0x1c9862[_0x185a78(0x1fe)]()['toString']()[_0x185a78(0x224)](0x2,'0');}function getDate(){const _0xb4d8a9=_0x253b36,_0x3bd048=shiftedTime();return _0x3bd048[_0xb4d8a9(0x168)]()+'/'+(_0x3bd048[_0xb4d8a9(0x14b)]()+0x1)['toString']()[_0xb4d8a9(0x224)](0x2,'0')+'/'+_0x3bd048[_0xb4d8a9(0x14c)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x10831e=_0x253b36,_0x141daa=shiftedTime();return _0x141daa[_0x10831e(0x24c)]()['toString']()[_0x10831e(0x224)](0x2,'0');}function sleep(_0x55a7f7){return new Promise(_0x496638=>setTimeout(_0x496638,_0x55a7f7));}function shiftedTime(){const _0x5088eb=_0x253b36,_0x603570=new Date();let _0x54d7e9=_0x603570;if(config&&config[_0x5088eb(0x170)]!==0x0)_0x54d7e9=fns['add'](_0x603570,{'hours':config[_0x5088eb(0x170)]});return _0x54d7e9;}