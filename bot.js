const _0x2a4034=_0x385c;(function(_0x5cd097,_0x2cba52){const _0x29a2a1=_0x385c,_0x58a7bf=_0x5cd097();while(!![]){try{const _0x1970a0=parseInt(_0x29a2a1(0x215))/0x1+-parseInt(_0x29a2a1(0xae))/0x2+parseInt(_0x29a2a1(0x1e0))/0x3*(parseInt(_0x29a2a1(0x134))/0x4)+parseInt(_0x29a2a1(0x178))/0x5+parseInt(_0x29a2a1(0x207))/0x6*(-parseInt(_0x29a2a1(0x1b6))/0x7)+-parseInt(_0x29a2a1(0xe5))/0x8+parseInt(_0x29a2a1(0x20b))/0x9*(parseInt(_0x29a2a1(0x1b0))/0xa);if(_0x1970a0===_0x2cba52)break;else _0x58a7bf['push'](_0x58a7bf['shift']());}catch(_0x1a5af6){_0x58a7bf['push'](_0x58a7bf['shift']());}}}(_0xda06,0xbd65a));const _0x207dff=function(){let _0x491eb2=!![];return function(_0x32af4b,_0x58f174){const _0x4eef62=_0x491eb2?function(){const _0x38f872=_0x385c;if(_0x58f174){const _0xb8006c=_0x58f174[_0x38f872(0x218)](_0x32af4b,arguments);return _0x58f174=null,_0xb8006c;}}:function(){};return _0x491eb2=![],_0x4eef62;};}(),_0x2b142c=_0x207dff(this,function(){const _0x4e1044=_0x385c;return _0x2b142c[_0x4e1044(0x1c0)]()[_0x4e1044(0x213)]('(((.+)+)+)+$')[_0x4e1044(0x1c0)]()[_0x4e1044(0x132)](_0x2b142c)['search'](_0x4e1044(0x14b));});_0x2b142c();'use strict';const ccxt=require(_0x2a4034(0x1f1)),low=require('lowdb'),FileSync=require(_0x2a4034(0xd8)),fs=require('fs'),fns=require(_0x2a4034(0x119)),Crypt=require(_0x2a4034(0x164))[_0x2a4034(0x196)],util=require(_0x2a4034(0xb1)),argv=require(_0x2a4034(0x20e))(process[_0x2a4034(0x1e2)][_0x2a4034(0x142)](0x2))[_0x2a4034(0x1e2)],path=require(_0x2a4034(0xed));let exchange;global[_0x2a4034(0x9c)]={},global['change']={};const usdBasecoins=[_0x2a4034(0x159),_0x2a4034(0x190),'TUSD','USDT','USDC',_0x2a4034(0x1bb)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2a4034(0x99)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x2a4034(0x1d8)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x2a4034(0xc1),pauseBotIntervalLong=0x3c*0x3c*0x3e8,pauseBotMsgLong='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotIntervalLong/0xea60+_0x2a4034(0xc1),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require('./version.json')[_0x2a4034(0x1a3)],botID=process['argv'][0x2]||_0x2a4034(0x94),pattern=/^[0-9]{3}$/;!pattern[_0x2a4034(0x184)](botID)&&(console['log'](_0x2a4034(0x18c)+botID+_0x2a4034(0x112)),killBot());const userID=process[_0x2a4034(0x1e2)][0x3]||'',configpath=userID?'./config/'+userID+'/':'./config/',logspath=userID?_0x2a4034(0x20c)+userID+'/':_0x2a4034(0x20c),loggerfile=fs[_0x2a4034(0x1ad)](logspath+_0x2a4034(0x198),{'flags':'a'});!fs[_0x2a4034(0x11b)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x2a4034(0x11b)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x2a4034(0x1d7)+botID+_0x2a4034(0x9f),logfile=configpath+_0x2a4034(0x1d7)+botID+'-events.json',performancefile=configpath+_0x2a4034(0x1d7)+botID+_0x2a4034(0xd2),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+_0x2a4034(0x1f6),securefile=configpath+_0x2a4034(0x1c4),configbackuppath=configpath+_0x2a4034(0x113),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2a4034(0x168)]({'logs':[],'version':serverversion})[_0x2a4034(0x145)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2a4034(0x168)]({'data':[],'version':serverversion})[_0x2a4034(0x145)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2a4034(0x168)]({'bot':[],'version':serverversion})[_0x2a4034(0x145)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2a4034(0x168)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x2a4034(0xfe)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x5073a0=>{const _0x7aff4d=_0x2a4034;console[_0x7aff4d(0x21a)](_0x5073a0);},'simple':_0x5b9284=>{const _0x261357=_0x2a4034;console[_0x261357(0x21a)](_0x5b9284),loggerfile[_0x261357(0x145)](util[_0x261357(0x1ee)](_0x5b9284)+'\x0a');},'full':async(_0x1c1460,_0x1e3e32='')=>{const _0x3b7061=_0x2a4034;let _0x2fd417;if(config[_0x3b7061(0x92)])_0x2fd417=getTimeStamp()+':\x20'+config[_0x3b7061(0x1d5)]+_0x3b7061(0x1bf)+_0x1c1460;else _0x2fd417=getTimeStamp()+':\x20Bot\x20'+botID+_0x3b7061(0x1bf)+_0x1c1460;console[_0x3b7061(0x21a)](_0x2fd417),loggerfile[_0x3b7061(0x145)](util[_0x3b7061(0x1ee)](_0x2fd417)+'\x0a'),_0x1e3e32&&(console['log'](_0x1e3e32),loggerfile[_0x3b7061(0x145)](util[_0x3b7061(0x1ee)](_0x1e3e32)+'\x0a'));},'debug':async(_0x4ab8e3,_0x4b139c='')=>{const _0x4bfe13=_0x2a4034;let _0x6b0c8e;if(config['showname'])_0x6b0c8e=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0x4ab8e3;else _0x6b0c8e=getTimeStamp()+_0x4bfe13(0x141)+botID+_0x4bfe13(0x154)+_0x4ab8e3;if(debugging)console[_0x4bfe13(0x21a)](_0x6b0c8e);loggerfile[_0x4bfe13(0x145)](util['format'](_0x6b0c8e)+'\x0a');if(_0x4b139c){if(debugging)console[_0x4bfe13(0x21a)](_0x4b139c);loggerfile['write'](util[_0x4bfe13(0x1ee)](_0x4b139c)+'\x0a');}}};process['on'](_0x2a4034(0x174),function(_0x97d149){const _0x43d514=_0x2a4034;logHistory('error',_0x43d514(0x1c1)),logger[_0x43d514(0x115)]('Uncaught\x20Exception:',_0x97d149);});settings[_0x2a4034(0x111)]!=config[_0x2a4034(0x111)]&&updateTimeshift(settings[_0x2a4034(0x111)]);settings['onepagemode']!=config['onepagemode']&&updateOnepagemode(settings[_0x2a4034(0x10a)]);process[_0x2a4034(0x8e)]({'started':'running'},_0x4b8bd1=>{}),initializeProcessListeners();function proxyEmit(_0x2b759c,_0x508b08=null){const _0x2f33b3=_0x2a4034;process[_0x2f33b3(0x8e)]({'function':_0x2b759c,'args':_0x508b08},_0x1c7885=>{});}function initializeProcessListeners(){const _0x1d56d8=_0x2a4034;process['on'](_0x1d56d8(0xf8),_0x49a90d=>{const _0x3020cc=_0x1d56d8;switch(Object['keys'](_0x49a90d)[0x0]){case _0x3020cc(0x111):_0x49a90d[_0x3020cc(0x111)]!=undefined&&(settings[_0x3020cc(0x111)]=_0x49a90d[_0x3020cc(0x111)],updateTimeshift(settings['timeshift']));break;case'onepagemode':_0x49a90d[_0x3020cc(0x10a)]!=undefined&&(settings[_0x3020cc(0x10a)]=_0x49a90d[_0x3020cc(0x10a)],updateOnepagemode(settings[_0x3020cc(0x10a)]));break;case _0x3020cc(0x169):_0x49a90d[_0x3020cc(0x169)]!=undefined&&(bots=JSON[_0x3020cc(0x156)](_0x49a90d[_0x3020cc(0x169)]),proxyEmit(_0x3020cc(0x169),bots));break;case _0x3020cc(0xaf):switch(_0x49a90d[_0x3020cc(0xaf)]){case'initclient':initclient();break;case _0x3020cc(0x130):toggleBotMode();break;case'emitHistory':emitHistory(_0x49a90d[_0x3020cc(0x1ba)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x49a90d['args']);break;case _0x3020cc(0x1ef):getPortfolio(_0x49a90d['args']);break;case _0x3020cc(0x10d):storeConfiguration(_0x49a90d['args']);break;case _0x3020cc(0xb3):storeHeadless(_0x49a90d[_0x3020cc(0x1ba)]);break;case _0x3020cc(0x9d):storeFiat(_0x49a90d['args']);break;case _0x3020cc(0x15a):resetHistory();break;case _0x3020cc(0xa2):getStartingBalances(getNormalizedPerformance());break;case _0x3020cc(0x1b3):placeOrder(_0x49a90d[_0x3020cc(0x1ba)]);break;case _0x3020cc(0x1d4):cancelLoading();break;case _0x3020cc(0x19b):showConfig();break;case _0x3020cc(0x17f):sendMetricsTelegram();break;case _0x3020cc(0xe1):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x25b937=![]){const _0x19b7b4=_0x2a4034;logger['debug']('Reset\x20|\x20'+(_0x25b937?_0x19b7b4(0xa0):_0x19b7b4(0x17d))+_0x19b7b4(0x123)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x25b937)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x19b7b4(0x1ce)]!=''&&config[_0x19b7b4(0x1ce)]!=_0x19b7b4(0x211)){loadingProgress=0x0;if(_0x25b937){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x4dae42){handleErrorNoStop(_0x4dae42,_0x19b7b4(0x179));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x5e10b4=await getCoins();[currentCoins,currentCoinsAll]=_0x5e10b4,loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x19b7b4(0x115)](_0x19b7b4(0x95)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x19b7b4(0x183)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x57db54=_0x2a4034;exchangeStopped=!![];try{await exchange[_0x57db54(0x162)]();}catch(_0x583ef3){await handleError(_0x583ef3,_0x57db54(0x194));}}async function reloadExchange(){const _0x1a6396=_0x2a4034;while(lockOrders!=ORDERS[_0x1a6396(0x1d8)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x1a6396(0x115)](_0x1a6396(0x165)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x25a754=config[_0x2a4034(0x180)],_0x1793b5=config['apiKey'],_0x39ea46=config['apiSecret'],_0x5a769b=config[_0x2a4034(0xba)]){const _0x44fab0=_0x2a4034;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x25a754)&&(logHistory(_0x44fab0(0x18b),_0x44fab0(0x1a2)+_0x25a754+_0x44fab0(0x10c)),killBot());const _0x489168=ccxt[_0x44fab0(0x17a)][_0x25a754[_0x44fab0(0x1f2)]()];exchange=new _0x489168({'apiKey':_0x1793b5,'secret':_0x39ea46,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x5a769b)exchange[_0x44fab0(0x140)]=_0x5a769b;}function setStableCoins(){const _0x2f360f=_0x2a4034;let _0x3736ff=config[_0x2f360f(0x1c9)]==_0x2f360f(0x149)?_0x2f360f(0x149):_0x2f360f(0x9b),_0x2c04b5=!allSymbols['includes'](_0x3736ff+_0x2f360f(0x1de))?_0x2f360f(0x1df):_0x2f360f(0x159),_0x3138ae=!allSymbols['includes'](_0x3736ff+_0x2f360f(0xaa))?_0x2c04b5:_0x2f360f(0x188);stablecoins={'eur':{'coin':''+_0x3736ff+_0x3138ae,'symbol':_0x3736ff+'/'+_0x3138ae},'usd':{'coin':''+_0x3736ff+_0x2c04b5,'symbol':_0x3736ff+'/'+_0x2c04b5}};}async function initwsCcxt(){const _0x1c4bde=_0x2a4034;initCycle++;const _0x479278=initCycle;let _0x2bf285=[];config[_0x1c4bde(0x208)]['forEach'](_0xbd7df0=>{const _0x512f24=_0x1c4bde;if(!_0xbd7df0[_0x512f24(0x161)]&&_0xbd7df0['coin']!=config['basecoin'])_0x2bf285[_0x512f24(0x1ea)](_0xbd7df0[_0x512f24(0x203)]);});if(!_0x2bf285['includes'](stablecoins['eur'][_0x1c4bde(0x203)]))_0x2bf285[_0x1c4bde(0x1ea)](stablecoins[_0x1c4bde(0x9e)][_0x1c4bde(0x203)]);if(!_0x2bf285[_0x1c4bde(0xd6)](stablecoins[_0x1c4bde(0x125)][_0x1c4bde(0x203)]))_0x2bf285[_0x1c4bde(0x1ea)](stablecoins[_0x1c4bde(0x125)]['symbol']);if(config['exchange'][_0x1c4bde(0x1c5)](_0x1c4bde(0x1fc))){if(!_0x2bf285[_0x1c4bde(0xd6)](_0x1c4bde(0x1a0)+config[_0x1c4bde(0x1c9)]))_0x2bf285[_0x1c4bde(0x1ea)]('BNB/'+config['basecoin']);}loadCoins(_0x2bf285),_0x2bf285=validateSymbols(_0x2bf285);const _0x176468=async _0x5f1269=>{const _0x13938c=_0x1c4bde;let _0xa2751f;try{const _0x50f517=await getTickers(_0x5f1269);Object[_0x13938c(0xe6)](_0x50f517)[_0x13938c(0xf5)](_0x1e53d9=>{const _0x1883b5=_0x13938c;_0xa2751f=_0x1e53d9[0x1][_0x1883b5(0x203)],global[_0x1883b5(0x9c)][noslash(_0xa2751f)]=_0x1e53d9[0x1][_0x1883b5(0x1b4)],global[_0x1883b5(0x8b)][_0xa2751f]=_0x1e53d9[0x1]['percentage'];});}catch(_0x147864){await handleError(_0x147864,_0x13938c(0xcd),_0xa2751f);}},_0x19f84d=async _0x44667c=>{const _0x392f51=_0x1c4bde;while(initCycle==_0x479278){if(!botPaused)try{const _0x1afb57=await exchange[_0x392f51(0x19c)](_0x44667c);global[_0x392f51(0x9c)][noslash(_0x1afb57[0x0][_0x392f51(0x203)])]=_0x1afb57[0x0][_0x392f51(0xb5)],await sleep(0x3e8);}catch(_0x3c4520){if(!exchangeStopped)await handleError(_0x3c4520,_0x392f51(0x1dd),_0x44667c);}else await sleep(0x64);}},_0x26db59=async _0x84e311=>{const _0x5bd774=_0x1c4bde;while(initCycle==_0x479278){if(!botPaused){let _0x3c24f7;try{await sleep(0x3c*0x3e8);const _0xc449b0=await getTickers(_0x84e311);Object['entries'](_0xc449b0)[_0x5bd774(0xf5)](_0x321e22=>{const _0x1bd51c=_0x5bd774;_0x3c24f7=_0x321e22[0x1][_0x1bd51c(0x203)],global[_0x1bd51c(0x8b)][_0x3c24f7]=_0x321e22[0x1][_0x1bd51c(0x102)];});}catch(_0x361f70){if(!exchangeStopped)await handleError(_0x361f70,_0x5bd774(0xb4),_0x3c24f7);}}else await sleep(0x64);}},_0x3bf0ad=async _0x51f0be=>{const _0x53d9a2=_0x1c4bde;while(initCycle==_0x479278){if(!botPaused)try{const _0x22660d=await exchange[_0x53d9a2(0xf4)](_0x51f0be);initCycle==_0x479278&&_0x22660d[_0x53d9a2(0xf5)](_0x255666=>{updateNumberCoinsCcxt(_0x255666);});}catch(_0x4213f4){if(!exchangeStopped)await handleError(_0x4213f4,_0x53d9a2(0x13a));}else await sleep(0x64);}};_0x176468(_0x2bf285),_0x26db59(_0x2bf285),_0x2bf285[_0x1c4bde(0xf5)](_0x2f6114=>{_0x19f84d(_0x2f6114),_0x3bf0ad(_0x2f6114);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x58cab9){const _0x50fb57=_0x2a4034;let _0x57b9ac={};try{if(config[_0x50fb57(0x180)]!=_0x50fb57(0xb9))_0x57b9ac=await exchange['fetchTickers'](_0x58cab9);else for(const _0x5202aa of _0x58cab9){const _0xe8691b=await exchange[_0x50fb57(0x1cd)](_0x5202aa);_0x57b9ac[_0x5202aa]=_0xe8691b;}return _0x57b9ac;}catch(_0x392232){throw _0x392232;}}async function watchTransactions(){const _0x34fc3a=_0x2a4034;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x59c133=await getCoins(),[_0x4db767,_0x144ed1]=_0x59c133;let _0x5600cb=[];currentCoins[_0x34fc3a(0xf5)](_0x38294a=>{const _0x1f173e=_0x34fc3a,_0x169297=_0x4db767[_0x1f173e(0x173)](_0x11a304=>_0x11a304[_0x1f173e(0xfb)]==_0x38294a[_0x1f173e(0xfb)]);if(_0x169297){if(_0x38294a[_0x1f173e(0x9a)]!=_0x169297[_0x1f173e(0x9a)]){let _0x4824df;if(_0x38294a['coin']!=config[_0x1f173e(0x1c9)]){const _0x17cd68=global[_0x1f173e(0x9c)][noslash(_0x38294a['symbol'])];_0x4824df=_0x38294a[_0x1f173e(0xc4)]?0x1/_0x17cd68:_0x17cd68;}else _0x4824df=0x1;_0x5600cb[_0x1f173e(0x1ea)]({'coin':_0x38294a[_0x1f173e(0xfb)],'symbol':_0x38294a[_0x1f173e(0x203)],'price':_0x4824df,'number':Number(formatResult(_0x169297[_0x1f173e(0x9a)]-_0x38294a[_0x1f173e(0x9a)],0x8)),'basecoinvalue':_0x4824df*(_0x169297[_0x1f173e(0x9a)]-_0x38294a[_0x1f173e(0x9a)])});}}});if(_0x5600cb['length']==0x1&&!blockTransactionDetection){if(config[_0x34fc3a(0x128)]){logger[_0x34fc3a(0x115)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x5600cb[0x0]['basecoinvalue']+_0x34fc3a(0x18f)+lastFees['highest']);if(lastFees[_0x34fc3a(0x91)]==0x0||Math[_0x34fc3a(0xb2)](_0x5600cb[0x0][_0x34fc3a(0xad)])>lastFees['highest']){delete _0x5600cb[0x0]['symbol'],delete _0x5600cb[0x0][_0x34fc3a(0xad)];let _0x5cf587=[],_0x5b50fb=[...config[_0x34fc3a(0x16c)]]||[],_0x2964ef=config[_0x34fc3a(0x16c)];_0x5b50fb[_0x34fc3a(0xb7)]((_0x13ba2a,_0x51e868)=>_0x13ba2a[_0x34fc3a(0x1b8)]>_0x51e868[_0x34fc3a(0x1b8)]?-0x1:_0x51e868['date']>_0x13ba2a['date']?0x1:0x0);const _0x1e9338=getDate();if(_0x5b50fb[0x0]){const _0x54adf1=fns['parse'](_0x5b50fb[0x0]['date'],_0x34fc3a(0x8c),new Date()),_0x229fec=fns[_0x34fc3a(0x156)](_0x1e9338,_0x34fc3a(0x8c),new Date());if(fns[_0x34fc3a(0x1f8)](_0x54adf1,_0x229fec)){_0x5cf587=_0x5b50fb[0x0][_0x34fc3a(0x1c8)];const _0x5a54e1=_0x5cf587[_0x34fc3a(0x173)](_0x43a27e=>_0x43a27e[_0x34fc3a(0xfb)]==_0x5600cb[0x0]['coin']);_0x5a54e1?(_0x5a54e1[_0x34fc3a(0x9a)]+=_0x5600cb[0x0]['number'],_0x5a54e1['number']==0x0&&(_0x5cf587=_0x5cf587[_0x34fc3a(0x1a5)](_0x208bce=>{const _0x2f1071=_0x34fc3a;return _0x208bce[_0x2f1071(0xfb)]!=_0x5600cb[0x0][_0x2f1071(0xfb)];}))):_0x5cf587[_0x34fc3a(0x1ea)](_0x5600cb[0x0]);const _0x191899=_0x2964ef[_0x34fc3a(0x173)](_0x2a6ee2=>_0x2a6ee2['date']==_0x1e9338);_0x191899[_0x34fc3a(0x1c8)]=_0x5cf587;}else _0x2964ef[_0x34fc3a(0x1ea)]({'date':_0x1e9338,'changes':[_0x5600cb[0x0]]});}const _0x440059=_0x2964ef[_0x34fc3a(0x173)](_0x3b2da9=>_0x3b2da9[_0x34fc3a(0x1b8)]==_0x1e9338);if(_0x440059){let _0x418ee8=!![];_0x440059[_0x34fc3a(0x1c8)][_0x34fc3a(0xf5)](_0xe1994b=>{const _0xf4bd3d=_0x34fc3a;if(_0xe1994b[_0xf4bd3d(0x9a)]!=0x0)_0x418ee8=![];}),_0x418ee8&&(_0x2964ef=_0x2964ef['filter'](_0x61c785=>{return _0x61c785['date']!=_0x1e9338;}));}let _0xa5d1a3=dbConfig['get'](_0x34fc3a(0x1e9))[_0x34fc3a(0x173)]({'botID':botID})[_0x34fc3a(0x1fb)]();_0xa5d1a3&&(dbConfig[_0x34fc3a(0xa9)](_0x34fc3a(0x1e9))[_0x34fc3a(0x173)]({'botID':botID})[_0x34fc3a(0x1b9)]({'liquidity':_0x2964ef})[_0x34fc3a(0x145)](),config['liquidity']=_0x2964ef),logHistory(_0x34fc3a(0x15f),_0x34fc3a(0x10b)+Math['abs'](_0x5600cb[0x0][_0x34fc3a(0x9a)])+'\x20'+_0x5600cb[0x0]['coin']+'\x20'+(_0x5600cb[0x0][_0x34fc3a(0x9a)]>0x0?'added':_0x34fc3a(0xbd))+_0x34fc3a(0xab)),proxyEmit(_0x34fc3a(0xf0),emittedConfiguration());}else logger[_0x34fc3a(0x115)](_0x34fc3a(0x1a4)+Math['abs'](_0x5600cb[0x0][_0x34fc3a(0x9a)])+'\x20'+_0x5600cb[0x0][_0x34fc3a(0xfb)]+'\x20'+(_0x5600cb[0x0]['number']>0x0?_0x34fc3a(0x19e):_0x34fc3a(0xbd)));transactionDetected=!![];}else logger[_0x34fc3a(0x115)](_0x34fc3a(0x10b)+Math[_0x34fc3a(0xb2)](_0x5600cb[0x0]['number'])+'\x20'+_0x5600cb[0x0]['coin']+'\x20'+(_0x5600cb[0x0][_0x34fc3a(0x9a)]>0x0?_0x34fc3a(0x19e):_0x34fc3a(0xbd))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x4db767,currentCoinsAll=_0x144ed1,await sleep(watchTransactionsInterval);}catch(_0x4af51e){if(!exchangeStopped)await handleError(_0x4af51e,_0x34fc3a(0x219));}else await sleep(0x64);}}async function loadSymbols(){const _0x493114=_0x2a4034;try{markets=await exchange[_0x493114(0x114)](),allSymbols=[],Object[_0x493114(0xe6)](markets)[_0x493114(0xf5)](_0x3ac638=>{const _0x589014=_0x493114;_0x3ac638[0x1][_0x589014(0xef)]&&_0x3ac638[0x1][_0x589014(0x16a)]&&allSymbols[_0x589014(0x1ea)](_0x3ac638[0x0]);});}catch(_0x34ebb7){throw _0x34ebb7;}}function validateSymbols(_0x4a3a53){let _0xdb18f=[];return _0x4a3a53['forEach'](_0x56110b=>{const _0x2337d6=_0x385c;!allSymbols[_0x2337d6(0xd6)](_0x56110b)?logHistory(_0x2337d6(0x18b),_0x2337d6(0x192)+_0x56110b+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0xdb18f['push'](_0x56110b);}),_0xdb18f;}async function initclient(){const _0x2c9aa0=_0x2a4034;proxyEmit(_0x2c9aa0(0xf0),emittedConfiguration()),proxyEmit(_0x2c9aa0(0x1d2),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2c9aa0(0x202),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x170fef=getNormalizedPerformance();emitPerformance(_0x170fef),getStartingBalances(_0x170fef);}async function toggleBotMode(){const _0x29eecc=_0x2a4034;let _0xb853f6=dbConfig[_0x29eecc(0xa9)](_0x29eecc(0x1e9))[_0x29eecc(0x173)]({'botID':botID})[_0x29eecc(0x1fb)]();if(_0xb853f6){const _0x3fa83a=!_0xb853f6['headless'];dbConfig[_0x29eecc(0xa9)](_0x29eecc(0x1e9))['find']({'botID':botID})[_0x29eecc(0x1b9)]({'headless':_0x3fa83a})['write'](),config[_0x29eecc(0x172)]=_0x3fa83a,proxyEmit(_0x29eecc(0xf0),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x589985=_0x2a4034;process['send']({'updatebotmanager':!![]},_0x5456b7=>{}),logger[_0x589985(0x115)]('Headless:\x20'+config[_0x589985(0x172)]);}async function loadCoins(_0x47da23){const _0x33b0ff=_0x2a4034;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x1cd0e5,_0x1a6a7d=0x0,_0x47114f=0x0;_0x47da23[_0x33b0ff(0xf5)](_0xde0abc=>{const _0x152116=_0x33b0ff;loading[_0x152116(0xbe)][_0x152116(0x1ea)](_0xde0abc);}),loadingCanceled=![];let _0x8dac86=![];while(_0x1cd0e5!=_0x47da23['length']+maxLoadingProgress){_0x1cd0e5=loadingProgress,_0x47da23[_0x33b0ff(0xf5)](_0x5cbe04=>{const _0xd9e5db=_0x33b0ff;if(global[_0xd9e5db(0x9c)][noslash(_0x5cbe04)]){loading['remainingSymbols']=loading[_0xd9e5db(0xbe)][_0xd9e5db(0x1a5)](_0x4af720=>_0x4af720!=_0x5cbe04);if(!watchedSymbols[_0xd9e5db(0xd6)](_0x5cbe04))watchedSymbols[_0xd9e5db(0x1ea)](_0x5cbe04);_0x1cd0e5++;}}),loading['progress']=Math['round'](_0x1cd0e5/(_0x47da23['length']+maxLoadingProgress)*0x64);loading[_0x33b0ff(0xc3)]!=0x64&&(_0x47114f>0x1e*0x5&&(loading[_0x33b0ff(0x182)]=!![],emitLoadingProgress()),_0x47114f>0x78*0x5&&!_0x8dac86&&(_0x8dac86=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading['remainingSymbols']['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x33b0ff(0x18b),_0x33b0ff(0x1e8)+loadCoinsRetryInterval/0xea60+_0x33b0ff(0x1a9)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x19f212=_0x33b0ff;process[_0x19f212(0x8e)]({'stop':_0x19f212(0x20a)},_0xd0e7b0=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x1a6a7d!=loading['progress']&&(_0x1a6a7d=loading['progress'],emitLoadingProgress()),_0x47114f++,await sleep(0xc8);}_0x1cd0e5==_0x47da23[_0x33b0ff(0x183)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x33b0ff(0xeb),'live':_0x33b0ff(0x90)},_0x236d46=>{}),_0x8dac86&&logHistory(_0x33b0ff(0x15f),_0x33b0ff(0x1ff)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4f11a0=_0x2a4034;proxyEmit(_0x4f11a0(0xf0),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x385c6d=_0x2a4034;let _0x298b35=global[_0x385c6d(0x9c)][stablecoins[_0x385c6d(0x9e)][_0x385c6d(0xfb)]],_0xe18307=global[_0x385c6d(0x9c)][stablecoins[_0x385c6d(0x125)][_0x385c6d(0xfb)]];return{'eur':Number(_0x298b35),'usd':Number(_0xe18307)};}function capitalize(_0x1c4c1c){const _0x19111e=_0x2a4034;return _0x1c4c1c[_0x19111e(0x155)](0x0,0x1)['toUpperCase']()+_0x1c4c1c[_0x19111e(0x155)](0x1);}function supportedExchanges(){const _0x286f9f=_0x2a4034,_0x11d291=['ws',_0x286f9f(0xa8),_0x286f9f(0x1cd),_0x286f9f(0x19c),_0x286f9f(0xf4),_0x286f9f(0x1d0),_0x286f9f(0xf9),'fetchOpenOrders','fetchClosedOrders',_0x286f9f(0xd4)];let _0x543592=[],_0x484ef0=[],_0x32b872=ccxt['pro'][_0x286f9f(0x1d2)];_0x32b872[_0x286f9f(0xf5)](_0x36ff4c=>{const _0x107181=_0x286f9f;try{const _0x3d3c86=new ccxt[(_0x107181(0x17a))][_0x36ff4c]();_0x484ef0[_0x107181(0x1ea)](_0x3d3c86);}catch(_0x5017a9){}}),_0x484ef0['forEach'](_0x4bc527=>{const _0x439edc=_0x286f9f;let _0x424775=0x0;_0x11d291['forEach'](_0x1eb569=>{const _0x2953cd=_0x385c;_0x1eb569 in _0x4bc527[_0x2953cd(0xbc)]&&_0x4bc527[_0x2953cd(0xbc)][_0x1eb569]&&_0x424775++;}),_0x424775==_0x11d291['length']&&_0x543592[_0x439edc(0x1ea)](capitalize(_0x4bc527['id']));});let _0x1a7f46=[];return _0x32b872[_0x286f9f(0xf5)](_0x5420a6=>{const _0x2e1a7e=_0x286f9f;_0x5420a6=capitalize(_0x5420a6);if(!_0x543592[_0x2e1a7e(0xd6)](_0x5420a6))_0x1a7f46['push'](_0x5420a6);}),_0x543592;}function setStartDatePerformance(){const _0x48c03d=_0x2a4034;if(config&&config[_0x48c03d(0x16c)][0x0][_0x48c03d(0x1c8)][_0x48c03d(0x183)]!=0x0){const _0x571857=config[_0x48c03d(0x16c)][0x0][_0x48c03d(0x1c8)];dbPerformance['get']('data')[_0x48c03d(0x173)]({'date':config[_0x48c03d(0x108)]})[_0x48c03d(0x1b9)]({'coins':_0x571857})[_0x48c03d(0x145)]();}}async function recreateCoinResults(){const _0x4341c5=_0x2a4034;let _0x305048,_0xbd9fdb=[];try{const _0x17a869=fns[_0x4341c5(0x1ee)](fns[_0x4341c5(0xea)](config['startdate'][_0x4341c5(0x127)](/\//g,'-')),_0x4341c5(0x1be));for(const _0x8459a6 of currentCoins){if(_0x8459a6[_0x4341c5(0xfb)]!=config['basecoin']){let _0x16edc6=0x0,_0xff58ac,_0x279aa5;_0x305048=await getAllEventOrders(_0x8459a6[_0x4341c5(0x203)]);if(_0x305048[_0x4341c5(0x183)]>0x0)_0x305048[_0x4341c5(0xf5)](_0x59ca80=>{const _0x10cb2b=_0x4341c5,_0x5223ab=_0x8459a6[_0x10cb2b(0x203)][_0x10cb2b(0xd6)](config[_0x10cb2b(0x1c9)]+'/');_0xbd9fdb[_0x10cb2b(0x1ea)]({'datetime':_0x59ca80[_0x10cb2b(0x1da)],'coin':_0x8459a6[_0x10cb2b(0xfb)],'symbol':_0x8459a6[_0x10cb2b(0x203)],'side':_0x59ca80['side'],'reverse':_0x5223ab,'amount':formatResult(_0x59ca80[_0x10cb2b(0x10f)],0x8),'filled':formatResult(_0x59ca80['filled'],0x8),'price':formatResult(_0x59ca80[_0x10cb2b(0xb5)],0x8)}),_0x16edc6=_0x59ca80['side']==_0x10cb2b(0x1ca)?_0x16edc6+_0x59ca80[_0x10cb2b(0x10f)]:_0x16edc6-_0x59ca80[_0x10cb2b(0x10f)];if(!_0x279aa5)_0x279aa5=_0x59ca80[_0x10cb2b(0xb5)];});_0xff58ac=_0x8459a6[_0x4341c5(0x9a)]-_0x16edc6;let _0x572c06;config[_0x4341c5(0x16c)][_0x4341c5(0xf5)](_0x402210=>{const _0x5a11bd=_0x4341c5;!_0x572c06&&(_0x572c06=_0x402210[_0x5a11bd(0x1c8)][_0x5a11bd(0x173)](_0x572a71=>_0x572a71[_0x5a11bd(0xfb)]==_0x8459a6[_0x5a11bd(0xfb)]),_0x572c06&&(_0xff58ac=_0x572c06[_0x5a11bd(0x9a)],_0x279aa5=_0x572c06['price']));});let _0x21a8a4=dbCoinResults[_0x4341c5(0xa9)]('coins')[_0x4341c5(0x173)]({'coin':_0x8459a6[_0x4341c5(0xfb)]})[_0x4341c5(0x1fb)]();_0x21a8a4={'coin':_0x8459a6['coin'],'number':_0xff58ac,'breakeven':_0x279aa5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4341c5(0xa9)](_0x4341c5(0xfd))[_0x4341c5(0x173)]({'coin':_0x8459a6[_0x4341c5(0xfb)]})['assign'](_0x21a8a4)['write']();}}_0xbd9fdb[_0x4341c5(0xb7)]((_0xe6cf44,_0x842131)=>_0xe6cf44[_0x4341c5(0x1da)]>_0x842131[_0x4341c5(0x1da)]?0x1:_0x842131['datetime']>_0xe6cf44[_0x4341c5(0x1da)]?-0x1:0x0);let _0x51ca8f=0x0;for(let _0x239a47 of _0xbd9fdb){await updateCoinResults(_0x239a47,!![]);}}catch(_0x1db998){await handleError(_0x1db998,_0x4341c5(0x193));}}async function getAllEventOrders(_0x48df61){const _0x41aeb7=_0x2a4034;let _0xc10cca=[],_0x2965b0=dbLogs[_0x41aeb7(0xa9)](_0x41aeb7(0x12a))['filter'](_0x5d5b4c=>{const _0x3c5756=_0x41aeb7,_0x28f824=_0x5d5b4c[_0x3c5756(0x1e5)][_0x3c5756(0x1f2)]();return _0x28f824[_0x3c5756(0xd6)](_0x48df61[_0x3c5756(0x1f2)]())&&(_0x28f824[_0x3c5756(0xd6)](_0x3c5756(0x8d))&&_0x28f824['includes'](_0x3c5756(0xe9))||_0x28f824[_0x3c5756(0xd6)](_0x3c5756(0x10f))&&_0x28f824[_0x3c5756(0xd6)](_0x3c5756(0xe9)));})[_0x41aeb7(0x1e1)](_0x41aeb7(0xbb))['value']();return _0x2965b0[_0x41aeb7(0xf5)](_0x20ff7c=>{const _0xa7d377=_0x41aeb7,_0x1b6edc=_0x20ff7c[_0xa7d377(0x1e5)][_0xa7d377(0xd6)](_0xa7d377(0x1f3))?_0xa7d377(0x1f3):'buy',_0x461d35=/#([0-9]|\.)+\s/i,_0x2d1bf5=Number(_0x461d35[_0xa7d377(0xff)](_0x20ff7c[_0xa7d377(0x1e5)])[0x0][_0xa7d377(0x142)](0x1)),_0x2d58bf=/@([0-9]|\.)+$/i,_0x21f98a=Number(_0x2d58bf[_0xa7d377(0xff)](_0x20ff7c[_0xa7d377(0x1e5)])[0x0][_0xa7d377(0x142)](0x1));_0xc10cca[_0xa7d377(0x1ea)]({'datetime':_0x20ff7c[_0xa7d377(0xbb)],'coin':symbolToCoin(_0x48df61),'symbol':_0x48df61,'side':_0x1b6edc,'amount':_0x2d1bf5,'filled':_0x2d1bf5,'price':_0x21f98a});}),_0xc10cca;}async function getAllOrders(_0xe69a06,_0x45c27d){const _0x16ac59=_0x2a4034;let _0x368152=[];while(_0x45c27d<exchange[_0x16ac59(0x17c)]()){const _0x1bddb2=0x1f4;try{const _0x11af67=await exchange[_0x16ac59(0x13c)](_0xe69a06,_0x45c27d,_0x1bddb2);if(_0x11af67[_0x16ac59(0x183)])_0x45c27d=_0x11af67[_0x11af67[_0x16ac59(0x183)]-0x1]['timestamp']+0x1,_0x368152=_0x368152['concat'](_0x11af67);else break;}catch(_0x1b96db){await handleError(_0x1b96db,_0x16ac59(0xe8),_0xe69a06);}}return _0x368152;}async function validate24hChanges(){const _0x6e993b=_0x2a4034;for(const _0x4ad509 of currentCoins){if(_0x4ad509['coin']!=config[_0x6e993b(0x1c9)]){let _0x24a33e;_0x4ad509['reverse']?_0x24a33e=formatResult((0x1/(global[_0x6e993b(0x8b)][noslash(_0x4ad509[_0x6e993b(0x203)])]/0x64+0x1)-0x1)*0x64,0x3):_0x24a33e=global['change'][noslash(_0x4ad509[_0x6e993b(0x203)])],_0x24a33e<config['change24h']&&(logHistory(_0x6e993b(0x18b),_0x4ad509['coin']+_0x6e993b(0x139)+_0x24a33e+'%'),logHistory('error',_0x6e993b(0x15c)),logHistory('error',_0x6e993b(0x103)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x21746b,_0x1d1950){const _0x4c1388=_0x2a4034;if(!_0x21746b)return!![];const _0x32f162=_0x1d1950[_0x4c1388(0x89)]('.'),_0x3d1d17=_0x21746b[_0x4c1388(0x89)]('.');for(var _0x334ee8=0x0;_0x334ee8<_0x3d1d17[_0x4c1388(0x183)];_0x334ee8++){const _0x3311b5=~~_0x3d1d17[_0x334ee8],_0x4a2924=~~_0x32f162[_0x334ee8];if(_0x3311b5<_0x4a2924)return!![];if(_0x3311b5>_0x4a2924)return![];}return![];}async function oneTimeMigration(){const _0xbe349c=_0x2a4034;let _0x522f51=dbLogs[_0xbe349c(0xa9)]('version')[_0xbe349c(0x1fb)]();if(isOlderVersion(_0x522f51,_0xbe349c(0x1c2))){let _0x205173=[];const _0x1d515c=dbLogs[_0xbe349c(0xa9)](_0xbe349c(0x12a))[_0xbe349c(0x1fb)]();_0x1d515c[_0xbe349c(0xf5)](_0x23a2c3=>{const _0x1df66e=_0xbe349c;_0x205173[_0x1df66e(0x1ea)]({'time':_0x23a2c3[_0x1df66e(0xbb)],'type':_0x23a2c3[_0x1df66e(0xdc)],'event':_0x23a2c3['event']});}),dbLogs[_0xbe349c(0xa9)](_0xbe349c(0x12a))[_0xbe349c(0x1b9)](_0x205173)['write']();}let _0x568d0e=dbConfig[_0xbe349c(0xa9)](_0xbe349c(0x1a3))[_0xbe349c(0x1fb)]();if(isOlderVersion(_0x568d0e,_0xbe349c(0x1c2))){let _0x47edb1=dbConfig[_0xbe349c(0xa9)](_0xbe349c(0x1e9))[_0xbe349c(0x173)]({'botID':botID})['value']();if(_0x47edb1){let _0x17e86c=[];_0x47edb1[_0xbe349c(0x208)]['forEach'](_0x4314ad=>{const _0xc9ddb=_0xbe349c;_0x17e86c[_0xc9ddb(0x1ea)]({'coin':_0x4314ad[_0xc9ddb(0xfb)],'number':_0x4314ad[_0xc9ddb(0xc6)],'price':_0x4314ad['startprice']}),delete _0x4314ad[_0xc9ddb(0xc6)],delete _0x4314ad['startprice'];});if(_0x17e86c['length']!==0x0)fs['writeFile'](configbackuppath+('starting-balance-'+botID+_0xbe349c(0x152)),JSON['stringify'](_0x17e86c,null,0x4),function(_0x1ceaca){if(_0x1ceaca){}});const _0x5f54fe=(_0x51e875,_0x56b053)=>{const _0x162b38=_0xbe349c;let _0x3d506f=[];_0x56b053[_0x162b38(0xf5)](_0x5d2123=>{const _0x1c7c55=_0x162b38,_0x320175=_0x51e875[_0x1c7c55(0x173)](_0x2cacca=>_0x2cacca[_0x1c7c55(0xfb)]==_0x5d2123[_0x1c7c55(0xfb)]);if(!_0x320175)_0x3d506f[_0x1c7c55(0x1ea)](_0x5d2123);});let _0x520150=[];return _0x51e875[_0x162b38(0xf5)](_0x5ae086=>{const _0x5912b2=_0x162b38,_0x953768=_0x56b053[_0x5912b2(0x173)](_0x20f36d=>_0x20f36d[_0x5912b2(0xfb)]==_0x5ae086[_0x5912b2(0xfb)]);if(!_0x953768||_0x953768[_0x5912b2(0x9a)]==0x0&&_0x5ae086[_0x5912b2(0x9a)]!=0x0)_0x520150[_0x5912b2(0x1ea)](_0x5ae086);}),{'missingDay1':_0x3d506f,'notInDay2':_0x520150};},_0x4263ea=dbPerformance[_0xbe349c(0xa9)](_0xbe349c(0x100))[_0xbe349c(0x158)]()[_0xbe349c(0x1fb)]();if(_0x4263ea[_0xbe349c(0x183)]>0x1){const {missingDay1:_0x5313d2,notInDay2:_0x4ea02c}=_0x5f54fe(_0x17e86c,_0x4263ea[0x1]['coins']);_0x17e86c=[..._0x17e86c,..._0x5313d2],_0x4ea02c[_0xbe349c(0xf5)](_0x929fd2=>{const _0x38e295=_0xbe349c;let _0x31f448=_0x17e86c[_0x38e295(0xe2)](_0x27e75d=>_0x27e75d[_0x38e295(0xfb)]==_0x929fd2['coin']);_0x31f448!=-0x1&&_0x17e86c['splice'](_0x31f448,0x1);});}_0x17e86c[_0xbe349c(0xb7)]((_0x5b597f,_0x3e7618)=>_0x5b597f[_0xbe349c(0xfb)]>_0x3e7618[_0xbe349c(0xfb)]?0x1:_0x3e7618[_0xbe349c(0xfb)]>_0x5b597f['coin']?-0x1:0x0);let _0xe392b6=[{'date':_0x47edb1[_0xbe349c(0x108)],'changes':_0x17e86c}];_0x4263ea['length']>0x2&&_0x4263ea['forEach']((_0x45290e,_0x248533)=>{const _0x1da7d3=_0xbe349c;if(_0x248533>0x0&&_0x248533<_0x4263ea[_0x1da7d3(0x183)]-0x1){const {missingDay1:_0x5e11c6,notInDay2:_0x17a082}=_0x5f54fe(_0x4263ea[_0x248533][_0x1da7d3(0xfd)],_0x4263ea[_0x248533+0x1][_0x1da7d3(0xfd)]);_0x17e86c=[],(_0x5e11c6[_0x1da7d3(0x183)]!=0x0||_0x17a082[_0x1da7d3(0x183)]!=0x0)&&(_0x5e11c6[_0x1da7d3(0x183)]!=0x0&&_0x17e86c[_0x1da7d3(0x1ea)](..._0x5e11c6),_0x17a082[_0x1da7d3(0x183)]!=0x0&&(_0x17a082[_0x1da7d3(0xf5)](_0x3a1ee4=>{const _0x537475=_0x1da7d3;_0x3a1ee4[_0x537475(0x9a)]=-_0x3a1ee4[_0x537475(0x9a)];}),_0x17e86c['push'](..._0x17a082)),_0x17e86c['sort']((_0x5df9af,_0x2273b4)=>_0x5df9af[_0x1da7d3(0xfb)]>_0x2273b4[_0x1da7d3(0xfb)]?0x1:_0x2273b4['coin']>_0x5df9af[_0x1da7d3(0xfb)]?-0x1:0x0),_0xe392b6[_0x1da7d3(0x1ea)]({'date':_0x4263ea[_0x248533+0x1][_0x1da7d3(0x1b8)],'changes':_0x17e86c}));}}),dbConfig['get'](_0xbe349c(0x1e9))[_0xbe349c(0x173)]({'botID':botID})[_0xbe349c(0x1b9)]({..._0x47edb1,'liquidity':_0xe392b6})['write']();}}if(isOlderVersion(_0x568d0e,_0xbe349c(0xe7))){let _0x1798a2=dbConfig[_0xbe349c(0xa9)](_0xbe349c(0x1e9))[_0xbe349c(0x173)]({'botID':botID})['value']();if(_0x1798a2){const _0x2b677e=_0x1798a2[_0xbe349c(0x180)],_0x1fc67d=_0x2b677e?capitalize(_0x2b677e):_0xbe349c(0x1fc);dbConfig['get'](_0xbe349c(0x1e9))[_0xbe349c(0x173)]({'botID':botID})[_0xbe349c(0x1b9)]({'exchange':_0x1fc67d})['write']();}}let _0x576986=dbPerformance[_0xbe349c(0xa9)](_0xbe349c(0x1a3))[_0xbe349c(0x1fb)]();isOlderVersion(_0x576986,_0xbe349c(0x1c2))&&setStartDatePerformance();let _0xf061db=dbCoinResults['get'](_0xbe349c(0x1a3))[_0xbe349c(0x1fb)]();if(isOlderVersion(_0xf061db,_0xbe349c(0xb0))){let _0x8a9d68=dbCoinResults[_0xbe349c(0xa9)](_0xbe349c(0xfd))[_0xbe349c(0x1fb)]();if(_0x8a9d68[_0xbe349c(0x183)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xfee3b4=_0x2a4034;dbConfig['set'](_0xfee3b4(0x1a3),serverversion)[_0xfee3b4(0x145)](),dbPerformance['set'](_0xfee3b4(0x1a3),serverversion)[_0xfee3b4(0x145)](),dbLogs[_0xfee3b4(0x15d)]('version',serverversion)[_0xfee3b4(0x145)](),dbCoinResults['set']('version',serverversion)[_0xfee3b4(0x145)]();}function getConfiguration(_0x2408be){const _0x2c11f5=_0x2a4034;let _0x2dd168=dbConfig[_0x2c11f5(0xa9)](_0x2c11f5(0x1e9))[_0x2c11f5(0x173)]({'botID':_0x2408be})[_0x2c11f5(0x1fb)]();if(_0x2dd168){let _0x1398eb=![];typeof _0x2dd168['threshold']==_0x2c11f5(0x106)&&(_0x2dd168={..._0x2dd168,'threshold':Number(_0x2dd168[_0x2c11f5(0xa5)])},_0x1398eb=!![]),_0x2dd168[_0x2c11f5(0x1ed)]==undefined&&(_0x2dd168={..._0x2dd168,'change24h':-0x14},_0x1398eb=!![]),_0x2dd168[_0x2c11f5(0xf7)]==undefined&&(_0x2dd168={..._0x2dd168,'fiat':'USD'},_0x1398eb=!![]),_0x2dd168[_0x2c11f5(0x10a)]==undefined&&(_0x2dd168={..._0x2dd168,'onepagemode':settings[_0x2c11f5(0x10a)]},_0x1398eb=!![]),_0x2dd168[_0x2c11f5(0xa1)]==undefined&&(_0x2dd168={..._0x2dd168,'colorscheme':_0x2c11f5(0x1f7)},_0x1398eb=!![]),_0x2dd168['autoliquidity']==undefined&&(_0x2dd168={..._0x2dd168,'autoliquidity':!![]},_0x1398eb=!![]),_0x1398eb&&(_0x2dd168={'botID':_0x2dd168[_0x2c11f5(0x176)],'exchange':_0x2dd168[_0x2c11f5(0x180)],'apiKey':_0x2dd168[_0x2c11f5(0x1ce)],'apiSecret':_0x2dd168[_0x2c11f5(0x88)],'apiPassword':_0x2dd168[_0x2c11f5(0xba)],'basecoin':_0x2dd168[_0x2c11f5(0x1c9)],'botname':_0x2dd168['botname'],'showname':_0x2dd168['showname'],'threshold':_0x2dd168[_0x2c11f5(0xa5)],'ordertype':_0x2dd168[_0x2c11f5(0xf1)],'timeout':_0x2dd168[_0x2c11f5(0x182)],'fiat':_0x2dd168[_0x2c11f5(0xf7)],'startdate':_0x2dd168[_0x2c11f5(0x108)],'recreate':_0x2dd168['recreate'],'timeshift':_0x2dd168[_0x2c11f5(0x111)],'onepagemode':_0x2dd168[_0x2c11f5(0x10a)],'headless':_0x2dd168[_0x2c11f5(0x172)],'cooldown':_0x2dd168['cooldown'],'change24h':_0x2dd168[_0x2c11f5(0x1ed)],'emojibuy':_0x2dd168['emojibuy'],'emojisell':_0x2dd168['emojisell'],'colorscheme':_0x2dd168[_0x2c11f5(0xa1)],'portfolio':_0x2dd168[_0x2c11f5(0x208)],'autoliquidity':_0x2dd168[_0x2c11f5(0x128)],'liquidity':_0x2dd168[_0x2c11f5(0x16c)],'openOrders':_0x2dd168['openOrders']},dbConfig[_0x2c11f5(0xa9)](_0x2c11f5(0x1e9))[_0x2c11f5(0x120)]()[_0x2c11f5(0x145)](),dbConfig['get'](_0x2c11f5(0x1e9))[_0x2c11f5(0x1ea)](_0x2dd168)[_0x2c11f5(0x145)]());}else _0x2dd168={'botID':_0x2408be,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x2c11f5(0x12c)+_0x2408be,'showname':![],'threshold':0x3,'ordertype':_0x2c11f5(0x8d),'timeout':0x14,'fiat':_0x2c11f5(0x159),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2c11f5(0x111)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x2c11f5(0x1f7),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2dd168;}function emittedConfiguration(){const _0x318ef3=_0x2a4034;let _0x695815;if(config[_0x318ef3(0x1ce)]=='')_0x695815={...config,'configstate':_0x318ef3(0xfa)};else config[_0x318ef3(0x1ce)]==_0x318ef3(0x211)?_0x695815={...config,'configstate':'recovery'}:(_0x695815={...config,'apiKey':_0x318ef3(0x1d6),'apiSecret':_0x318ef3(0x1d6)},config[_0x318ef3(0xba)]&&(_0x695815['apiPassword']=_0x318ef3(0x1d6)));return _0x695815;}function getSettings(){const _0x49551e=_0x2a4034;return dbSettings['get']('settings')[_0x49551e(0x1fb)]();}function getSecure(){const _0x44249b=_0x2a4034;return dbSecure[_0x44249b(0xa9)]('secure')[_0x44249b(0x1fb)]()||{};}function updateTimeshift(_0x388002){const _0x259f56=_0x2a4034;let _0x100152=dbConfig[_0x259f56(0xa9)](_0x259f56(0x1e9))[_0x259f56(0x173)]({'botID':botID})[_0x259f56(0x1fb)]();_0x100152&&dbConfig[_0x259f56(0xa9)](_0x259f56(0x1e9))['find']({'botID':botID})[_0x259f56(0x1b9)]({'timeshift':_0x388002})[_0x259f56(0x145)](),config[_0x259f56(0x111)]=_0x388002,proxyEmit(_0x259f56(0xf0),emittedConfiguration());}function updateOnepagemode(_0x16b8ed){const _0x2765d9=_0x2a4034;let _0xeee9a2=dbConfig['get'](_0x2765d9(0x1e9))['find']({'botID':botID})['value']();_0xeee9a2&&dbConfig['get']('bot')['find']({'botID':botID})[_0x2765d9(0x1b9)]({'onepagemode':_0x16b8ed})[_0x2765d9(0x145)](),config['onepagemode']=_0x16b8ed,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x11a307){const _0x2c7b7e=_0x2a4034;logger[_0x2c7b7e(0x115)](_0x2c7b7e(0x15b));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug'](_0x2c7b7e(0x1db));let _0x813516=![],_0x218938=![],_0x23fe36=[];_0x11a307[_0x2c7b7e(0x208)][_0x2c7b7e(0xf5)](_0x29d10f=>{const _0x23768f=_0x2c7b7e;if(!_0x29d10f[_0x23768f(0x161)]&&_0x29d10f[_0x23768f(0xfb)]!=_0x11a307[_0x23768f(0x1c9)])_0x23fe36['push'](_0x29d10f[_0x23768f(0x203)]);}),_0x23fe36[_0x2c7b7e(0xf5)](_0x1c8a32=>{const _0x24452a=_0x2c7b7e,_0x4270cf=currentCoins['find'](_0x37e4ff=>_0x37e4ff[_0x24452a(0x203)]==_0x1c8a32);!_0x4270cf&&(_0x813516=!![]);}),currentCoins[_0x2c7b7e(0xf5)](_0x2b8ed0=>{const _0x2e3e6e=_0x2c7b7e;if(_0x2b8ed0[_0x2e3e6e(0xfb)]!=config[_0x2e3e6e(0x1c9)]){const _0x2738a4=_0x23fe36['find'](_0x1f0d46=>_0x1f0d46==_0x2b8ed0['symbol']);!_0x2738a4&&(_0x813516=!![]);}}),_0x11a307[_0x2c7b7e(0x208)][_0x2c7b7e(0xf5)](_0x20b6fe=>{const _0x1538fa=_0x2c7b7e,_0x3a2383=config[_0x1538fa(0x208)][_0x1538fa(0x173)](_0x17ac6d=>_0x17ac6d[_0x1538fa(0xfb)]==_0x20b6fe[_0x1538fa(0xfb)]);if(_0x3a2383&&_0x20b6fe[_0x1538fa(0x160)]!=_0x3a2383[_0x1538fa(0x160)])_0x218938=!![];});let _0x1b4777=dbConfig['get']('bot')[_0x2c7b7e(0x173)]({'botID':botID})['value']();_0x11a307={..._0x11a307,'apiKey':crypt['decrypt'](secure[_0x2c7b7e(0xca)],_0x11a307[_0x2c7b7e(0x1ce)])[_0x2c7b7e(0xf8)],'apiSecret':crypt[_0x2c7b7e(0xde)](secure[_0x2c7b7e(0xca)],_0x11a307[_0x2c7b7e(0x88)])[_0x2c7b7e(0xf8)]};_0x11a307['apiPassword']&&(_0x11a307['apiPassword']=crypt[_0x2c7b7e(0xde)](secure[_0x2c7b7e(0xca)],_0x11a307[_0x2c7b7e(0xba)])['message']);let _0x8fe4ff=![];if(_0x1b4777){_0x11a307[_0x2c7b7e(0x1ce)]==_0x2c7b7e(0x1d6)?_0x11a307[_0x2c7b7e(0x1ce)]=config['apiKey']:_0x8fe4ff=!![];_0x11a307['apiSecret']=='************'?_0x11a307[_0x2c7b7e(0x88)]=config[_0x2c7b7e(0x88)]:_0x8fe4ff=!![];if(_0x11a307[_0x2c7b7e(0xba)]==_0x2c7b7e(0x1d6))_0x11a307[_0x2c7b7e(0xba)]=config['apiPassword'];else{if(_0x11a307[_0x2c7b7e(0xba)])_0x8fe4ff=!![];}dbConfig[_0x2c7b7e(0xa9)](_0x2c7b7e(0x1e9))[_0x2c7b7e(0x173)]({'botID':botID})[_0x2c7b7e(0x1b9)](_0x11a307)[_0x2c7b7e(0x145)]();}else dbConfig[_0x2c7b7e(0xa9)](_0x2c7b7e(0x1e9))[_0x2c7b7e(0x1ea)](_0x11a307)['write'](),_0x8fe4ff=!![],process[_0x2c7b7e(0x8e)]({'status':_0x2c7b7e(0xeb),'live':'running'},_0x2e680c=>{});process['send']({'botname':_0x11a307[_0x2c7b7e(0x1d5)]},_0x51fd04=>{}),config={..._0x11a307},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x8fe4ff)await reset(!![]);else _0x813516||_0x218938?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x2c7b7e(0x115)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0xa8f773){const _0x27e995=_0x2a4034,_0x115e2e={...config,'headless':_0xa8f773[_0x27e995(0x172)]};let _0x51a593=dbConfig[_0x27e995(0xa9)](_0x27e995(0x1e9))[_0x27e995(0x173)]({'botID':botID})[_0x27e995(0x1fb)]();_0x51a593&&dbConfig[_0x27e995(0xa9)](_0x27e995(0x1e9))[_0x27e995(0x173)]({'botID':botID})[_0x27e995(0x1b9)](_0x115e2e)[_0x27e995(0x145)](),config={..._0x115e2e},updateBotManager(),proxyEmit(_0x27e995(0xf0),emittedConfiguration());}async function storeFiat(_0x186e12){const _0xf4d819=_0x2a4034,_0x3efeff={...config,'fiat':_0x186e12};let _0x1fce93=dbConfig[_0xf4d819(0xa9)](_0xf4d819(0x1e9))[_0xf4d819(0x173)]({'botID':botID})[_0xf4d819(0x1fb)]();_0x1fce93&&dbConfig[_0xf4d819(0xa9)](_0xf4d819(0x1e9))[_0xf4d819(0x173)]({'botID':botID})[_0xf4d819(0x1b9)](_0x3efeff)[_0xf4d819(0x145)](),config={..._0x3efeff},proxyEmit(_0xf4d819(0xf0),emittedConfiguration());}function resetHistory(){const _0x4b2bf4=_0x2a4034;logger[_0x4b2bf4(0x133)]('Resetting\x20bot\x20history');try{if(fs[_0x4b2bf4(0x11b)](path[_0x4b2bf4(0xa4)](configpath,_0x4b2bf4(0x1d7)+botID+'-events.json')))fs[_0x4b2bf4(0x137)](path['join'](configpath,_0x4b2bf4(0x1d7)+botID+_0x4b2bf4(0x1af)));if(fs[_0x4b2bf4(0x11b)](path[_0x4b2bf4(0xa4)](configpath,_0x4b2bf4(0x1d7)+botID+_0x4b2bf4(0xd2))))fs[_0x4b2bf4(0x137)](path[_0x4b2bf4(0xa4)](configpath,_0x4b2bf4(0x1d7)+botID+_0x4b2bf4(0xd2)));if(fs[_0x4b2bf4(0x11b)](path[_0x4b2bf4(0xa4)](configpath,'bot-'+botID+'-results.json')))fs[_0x4b2bf4(0x137)](path[_0x4b2bf4(0xa4)](configpath,_0x4b2bf4(0x1d7)+botID+_0x4b2bf4(0x118)));}catch(_0x949175){if(_0x949175)logger[_0x4b2bf4(0x133)](_0x4b2bf4(0x1f9),_0x949175);}const _0x5e6d6a=getDate();let _0x1c83d5=[];currentCoins[_0x4b2bf4(0xf5)](_0x13e38d=>{const _0x2733f8=_0x4b2bf4;_0x1c83d5[_0x2733f8(0x1ea)]({'coin':_0x13e38d['coin'],'number':_0x13e38d[_0x2733f8(0x9a)],'price':_0x13e38d[_0x2733f8(0x1b4)]});});let _0x5165f9=dbConfig[_0x4b2bf4(0xa9)](_0x4b2bf4(0x1e9))[_0x4b2bf4(0x173)]({'botID':botID})[_0x4b2bf4(0x1fb)]();_0x5165f9&&(dbConfig[_0x4b2bf4(0xa9)]('bot')[_0x4b2bf4(0x173)]({'botID':botID})[_0x4b2bf4(0x1b9)]({'liquidity':[{'date':_0x5e6d6a,'changes':_0x1c83d5}]})['write'](),config[_0x4b2bf4(0x16c)]=[]),process[_0x4b2bf4(0x8e)]({'stop':'restart'},_0x5e189c=>{});}function noslash(_0xa3512f){const _0x2a5efe=_0x2a4034;return _0xa3512f[_0x2a5efe(0x127)]('/','');}function updateHighestFee(_0x4b6dd0){const _0xd6c778=_0x2a4034;if(_0x4b6dd0[_0xd6c778(0xc4)]){let _0x34e55f={'filled':_0x4b6dd0[_0xd6c778(0x10f)]*_0x4b6dd0['price'],'amount':_0x4b6dd0[_0xd6c778(0x10f)]*_0x4b6dd0['price'],'side':_0x4b6dd0[_0xd6c778(0x217)]=='sell'?_0xd6c778(0x1ca):_0xd6c778(0x1f3),'price':0x1/_0x4b6dd0['price']};_0x4b6dd0={..._0x4b6dd0,..._0x34e55f};}const _0x12ff47=defaultFee*_0x4b6dd0['filled']*_0x4b6dd0[_0xd6c778(0xb5)];lastFees['recent20'][_0xd6c778(0x183)]===0x14&&lastFees[_0xd6c778(0x1e3)][_0xd6c778(0x146)](),lastFees[_0xd6c778(0x1e3)][_0xd6c778(0x1ea)](_0x12ff47),lastFees[_0xd6c778(0x91)]=Math['max'](...lastFees['recent20']);}function _0x385c(_0xb0b321,_0x55cbc3){const _0x304a58=_0xda06();return _0x385c=function(_0x2b142c,_0x207dff){_0x2b142c=_0x2b142c-0x87;let _0xda0621=_0x304a58[_0x2b142c];return _0xda0621;},_0x385c(_0xb0b321,_0x55cbc3);}async function updateNumberCoinsCcxt(_0xee634){const _0x4d8da3=_0x2a4034;logger[_0x4d8da3(0x115)](_0x4d8da3(0x171)+_0xee634[_0x4d8da3(0x203)]+_0x4d8da3(0x163)+_0xee634[_0x4d8da3(0x187)]+'\x20|\x20'+_0xee634[_0x4d8da3(0x10f)]+_0x4d8da3(0x135)+_0xee634['amount']+_0x4d8da3(0x163)+_0xee634['id']);let _0x18c340=_0xee634[_0x4d8da3(0x187)],_0x4f7cdb=![];currentCoins[_0x4d8da3(0xf5)](_0x1db4f9=>{const _0x1d7926=_0x4d8da3;_0x1db4f9[_0x1d7926(0x203)]==_0xee634['symbol']&&(_0x4f7cdb=!![]);});if(!_0x4f7cdb)return;const _0x28f936=currentCoins[_0x4d8da3(0x173)](_0x2913a0=>_0x2913a0[_0x4d8da3(0x203)]==_0xee634[_0x4d8da3(0x203)]),_0xd6e240=_0x269c68=>{if(_0x28f936)_0x28f936['orderstatus']=_0x269c68;};if(_0x18c340==_0x4d8da3(0x18d))_0xd6e240('open');else{if(_0x18c340==_0x4d8da3(0x13e)){_0xd6e240(_0x4d8da3(0x13e));const _0x480231=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x480231,await getOpenOrders(),handleOpenOrders();}else{if(_0x18c340==_0x4d8da3(0xfc)){let _0x1273ed=![];if(lastOrders)for(const _0x213079 of lastOrders){const _0x2964a8=0xc8,_0x46c4ef=0x1388;let _0x465783=0x0;while(!_0x213079[_0x4d8da3(0x1bd)]&&_0x465783*_0x2964a8<_0x46c4ef){_0x465783++,await sleep(_0x2964a8);}if(_0x465783>0x0)logger[_0x4d8da3(0x115)](_0x4d8da3(0x157)+_0x465783*_0x2964a8/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x213079['orderId']==_0xee634['id']){logger[_0x4d8da3(0x115)](_0x4d8da3(0x12e)+_0xee634['id']),_0x1273ed=!![];if(_0x213079['filled']==0x0){logger[_0x4d8da3(0x115)](_0x4d8da3(0x17b)+_0xee634['id']);if(_0xee634[_0x4d8da3(0x104)])_0x213079[_0x4d8da3(0xb5)]=_0xee634[_0x4d8da3(0x104)];else{if(_0xee634[_0x4d8da3(0xb5)])_0x213079[_0x4d8da3(0xb5)]=_0xee634['price'];else{}}_0x213079[_0x4d8da3(0x10f)]=_0xee634[_0x4d8da3(0x10f)],updateHighestFee(_0x213079),_0xd6e240(_0x4d8da3(0x10f)),await validateOrders();if(lockOrders==ORDERS[_0x4d8da3(0xce)]){const _0x30f761=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x30f761;}_0x213079[_0x4d8da3(0xc9)]={'currency':_0xee634[_0x4d8da3(0xc9)]?_0xee634[_0x4d8da3(0xc9)][_0x4d8da3(0xe0)]:null,'cost':_0xee634[_0x4d8da3(0xc9)]?_0xee634[_0x4d8da3(0xc9)][_0x4d8da3(0x1a7)]:0x0},await updateCoinResults(_0x213079);}}}if(!_0x1273ed){logger[_0x4d8da3(0x115)](_0x4d8da3(0xbf)+_0xee634['id']),_0xd6e240(_0x4d8da3(0x10f));const _0x3ec706=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3ec706,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x2a0bc1=JSON[_0x4d8da3(0x156)](lastBalances[_0x4d8da3(0x208)]);const _0x166d07=_0x2a0bc1[_0x4d8da3(0x173)](_0x137720=>_0x137720[_0x4d8da3(0x203)]==_0xee634[_0x4d8da3(0x203)]);if(_0x166d07){if(_0x18c340==_0x4d8da3(0x18d))_0x166d07[_0x4d8da3(0x136)]=_0x166d07[_0x4d8da3(0x136)]==_0x4d8da3(0x10f)?_0x4d8da3(0x10f):_0x4d8da3(0x18d);else{if(_0x18c340=='canceled')_0x166d07[_0x4d8da3(0x136)]=_0x166d07['orderstatus']==_0x4d8da3(0x10f)?_0x4d8da3(0x10f):_0x4d8da3(0x13e);else _0x18c340=='closed'&&(_0x166d07[_0x4d8da3(0x136)]=_0x4d8da3(0x10f));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x2a0bc1)},proxyEmit(_0x4d8da3(0x202),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x37baf8=_0x2a4034;await getOpenOrders();let _0x2983e3=![];currentCoins[_0x37baf8(0xf5)](_0x3e43cc=>{const _0x191118=_0x37baf8;_0x2983e3=allOpenOrders[_0x191118(0x173)](_0xdc7ae4=>_0xdc7ae4[_0x191118(0x203)]==_0x3e43cc['symbol']),_0x3e43cc[_0x191118(0x136)]=_0x2983e3?_0x191118(0x18d):'none';});}async function getCoins(_0x5e6717=0x0,_0x57936a=!![],_0x73660f=config[_0x2a4034(0x1c9)]){const _0x1a364f=_0x2a4034;let _0x14473f,_0x35a11d=[],_0x481d23=[],_0x121f46=[];if(_0x5e6717)await sleep(_0x5e6717);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x14473f=await exchange[_0x1a364f(0xd4)](),mybalances=_0x14473f[_0x1a364f(0x14c)];for(const [_0x3d5698,_0x2f258d]of Object[_0x1a364f(0xe6)](mybalances)){_0x121f46[_0x1a364f(0x1ea)](_0x3d5698);}config[_0x1a364f(0x208)][_0x1a364f(0xf5)](_0x45ae60=>{const _0x57abc1=_0x1a364f;!_0x121f46[_0x57abc1(0xd6)](_0x45ae60[_0x57abc1(0xfb)])&&(mybalances[_0x45ae60[_0x57abc1(0xfb)]]=0x0);});if(_0x73660f=='')for(const [_0x2a7b42,_0x34079a]of Object[_0x1a364f(0xe6)](mybalances)){_0x34079a!=0x0&&_0x35a11d['push']({'coin':_0x2a7b42});}else{let _0x36cf5b=![];for(const [_0x9b9208,_0x14f74d]of Object[_0x1a364f(0xe6)](mybalances)){const _0xe4f2d6=config[_0x1a364f(0x208)][_0x1a364f(0x173)](_0x11b067=>_0x11b067[_0x1a364f(0xfb)]==_0x9b9208),_0x58a5b4=_0x9b9208+'/'+_0x73660f,_0x6750f=_0x73660f+'/'+_0x9b9208,_0x9d0f07=currentCoins[_0x1a364f(0x173)](_0x2b8c88=>_0x2b8c88[_0x1a364f(0xfb)]==_0x9b9208);_0x36cf5b=![];if((_0x14f74d!=0x0||_0xe4f2d6)&&(allSymbols[_0x1a364f(0xd6)](_0x58a5b4)||_0x9b9208==_0x73660f))_0x35a11d['push']({'coin':_0x9b9208,'symbol':_0x58a5b4,'reverse':![],'number':Math[_0x1a364f(0xd3)](_0x14f74d+(_0xe4f2d6&&_0xe4f2d6[_0x1a364f(0x160)]||0x0),0x0),'orderstatus':_0x9d0f07?_0x9d0f07[_0x1a364f(0x136)]:_0x1a364f(0x19f)});else{if((_0x14f74d!=0x0||_0xe4f2d6)&&allSymbols['includes'](_0x6750f))_0x35a11d[_0x1a364f(0x1ea)]({'coin':_0x9b9208,'symbol':_0x6750f,'reverse':!![],'number':Math[_0x1a364f(0xd3)](_0x14f74d+(_0xe4f2d6&&_0xe4f2d6[_0x1a364f(0x160)]||0x0),0x0),'orderstatus':_0x9d0f07?_0x9d0f07[_0x1a364f(0x136)]:_0x1a364f(0x19f)});else _0xe4f2d6&&_0x35a11d[_0x1a364f(0x1ea)]({'coin':_0xe4f2d6[_0x1a364f(0xfb)],'symbol':_0xe4f2d6[_0x1a364f(0x203)],'reverse':_0xe4f2d6[_0x1a364f(0xc4)],'number':0x0,'orderstatus':_0x1a364f(0x19f)});}}}}catch(_0x572d53){if(!_0x57936a)handleErrorNoStop(_0x572d53,_0x1a364f(0x185));else await handleError(_0x572d53,_0x1a364f(0x185));}return _0x481d23=cloneDeep(_0x35a11d),_0x35a11d=_0x35a11d[_0x1a364f(0x1a5)](_0x3c363b=>{const _0x19733b=_0x1a364f,_0x2615ee=config[_0x19733b(0x208)]['find'](_0x1b7aa8=>_0x1b7aa8[_0x19733b(0xfb)]==_0x3c363b['coin']);return _0x2615ee&&!_0x2615ee['excluded'];}),[_0x35a11d,_0x481d23];}async function getCoinNumber(_0x4d6372){const _0x3e86b1=_0x2a4034;let _0x151542;try{const _0x243126=await exchange[_0x3e86b1(0xd4)]();_0x151542=_0x243126[_0x3e86b1(0x14c)][_0x4d6372];}catch(_0x1c2839){await handleError(_0x1c2839,_0x3e86b1(0x20f));}return _0x151542;}async function getOpenOrders(){const _0x1a780d=_0x2a4034;let _0x3241b3;allOpenOrders=[];try{for(const _0x504426 of config[_0x1a780d(0x208)]){!_0x504426[_0x1a780d(0x161)]&&_0x504426[_0x1a780d(0xfb)]!=config[_0x1a780d(0x1c9)]&&(_0x3241b3=await exchange[_0x1a780d(0x144)](_0x504426[_0x1a780d(0x203)]),_0x3241b3['length']>0x0&&allOpenOrders[_0x1a780d(0x1ea)](_0x3241b3[0x0]));}}catch(_0x3b46c3){await handleError(_0x3b46c3,_0x1a780d(0xd9));}}async function handleOpenOrders(_0x4ab7ce=0x0){const _0x109817=_0x2a4034;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x4ab7ce==0x0?(logger[_0x109817(0x115)](_0x109817(0x166)),_0x4ab7ce++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x109817(0x115)](_0x109817(0x11f)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x3e471b){const _0x668262=_0x2a4034,_0x43cf8d=ccxt[_0x668262(0x17a)][_0x3e471b['exchange'][_0x668262(0x1f2)]()],_0x3be5d0=new _0x43cf8d({'apiKey':_0x3e471b[_0x668262(0x1ce)],'secret':_0x3e471b[_0x668262(0x88)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x668262(0x16a)}});if(_0x3e471b[_0x668262(0xba)])_0x3be5d0[_0x668262(0x140)]=_0x3e471b['apiPassword'];try{await _0x3be5d0[_0x668262(0x114)]();}catch(_0x287585){throw _0x287585;}}function cloneDeep(_0x35815c){const _0x3ae237=_0x2a4034;return JSON[_0x3ae237(0x156)](JSON[_0x3ae237(0x19d)](_0x35815c));}async function getPortfolio(_0x3192b3){const _0x46b2bd=_0x2a4034;let _0xde8b0b=[],_0x5dac95=[],_0x5f32e9=[],_0x1553f0;if(_0x3192b3[_0x46b2bd(0x1ce)]!==_0x46b2bd(0x1d6)||_0x3192b3[_0x46b2bd(0x88)]!==_0x46b2bd(0x1d6)||_0x3192b3[_0x46b2bd(0xba)]&&_0x3192b3[_0x46b2bd(0xba)]!==_0x46b2bd(0x1d6)){if(config['exchange']){if(_0x3192b3[_0x46b2bd(0x1ce)]==_0x46b2bd(0x1d6))_0x3192b3[_0x46b2bd(0x1ce)]=config[_0x46b2bd(0x1ce)];if(_0x3192b3[_0x46b2bd(0x88)]=='************')_0x3192b3[_0x46b2bd(0x88)]=config[_0x46b2bd(0x88)];if(_0x3192b3['apiPassword']==_0x46b2bd(0x1d6))_0x3192b3[_0x46b2bd(0xba)]=config[_0x46b2bd(0xba)];try{await testAPI(_0x3192b3);}catch(_0x39aa9c){if(_0x39aa9c[_0x46b2bd(0x1c0)]()[_0x46b2bd(0xd6)]('AuthenticationError')){logger['debug'](_0x46b2bd(0x1dc)),proxyEmit(_0x46b2bd(0x208),![]);return;}else{handleError(_0x39aa9c,_0x46b2bd(0x17e));return;}}}await initExchange(_0x3192b3['exchange'],_0x3192b3['apiKey'],_0x3192b3[_0x46b2bd(0x88)],_0x3192b3[_0x46b2bd(0xba)]);try{await loadSymbols();}catch(_0x40d69f){if(_0x40d69f[_0x46b2bd(0x1c0)]()[_0x46b2bd(0xd6)]('AuthenticationError')){proxyEmit(_0x46b2bd(0x208),![]);return;}else{handleError(_0x40d69f,'getPortfolio(1)');return;}}const _0x7cffbf=await getCoins(0x0,![],_0x3192b3[_0x46b2bd(0x1c9)]);_0x5f32e9=cloneDeep(_0x7cffbf[0x1]);}else _0x5f32e9=cloneDeep(currentCoinsAll);if(_0x3192b3[_0x46b2bd(0x1c9)]=='')proxyEmit(_0x46b2bd(0x208),_0x5f32e9);else{_0x5f32e9['forEach'](_0x29db6a=>{const _0x53fa8d=_0x46b2bd;if(_0x29db6a[_0x53fa8d(0xfb)]!=_0x3192b3['basecoin']&&allSymbols[_0x53fa8d(0xd6)](_0x29db6a[_0x53fa8d(0x203)]))_0xde8b0b[_0x53fa8d(0x1ea)](_0x29db6a['symbol']);});if(_0xde8b0b[_0x46b2bd(0x183)]==0x0)logHistory(_0x46b2bd(0x18b),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x5dac95=await getTickers(_0xde8b0b);}catch(_0x4dd95c){if(_0x4dd95c[_0x46b2bd(0x1c0)]()['includes'](_0x46b2bd(0x1ae))){proxyEmit(_0x46b2bd(0x208),![]);return;}else handleError(_0x4dd95c,_0x46b2bd(0x138));}_0x5f32e9[_0x46b2bd(0xf5)](_0x25dfa0=>{const _0x1fd866=_0x46b2bd;_0x25dfa0['coin']!=_0x3192b3[_0x1fd866(0x1c9)]?_0x5dac95[_0x25dfa0[_0x1fd866(0x203)]]?_0x1553f0=_0x25dfa0[_0x1fd866(0xc4)]?0x1/_0x5dac95[_0x25dfa0[_0x1fd866(0x203)]][_0x1fd866(0x1b4)]:_0x5dac95[_0x25dfa0[_0x1fd866(0x203)]][_0x1fd866(0x1b4)]:_0x1553f0=0x0:_0x1553f0=0x1,_0x25dfa0[_0x1fd866(0xb5)]=formatResult(_0x1553f0,0x8);}),proxyEmit(_0x46b2bd(0x208),_0x5f32e9);}}}function truncateTradeAmount(_0x28b550,_0x58effb){let _0x1a713a=0x0;try{_0x1a713a=exchange['amountToPrecision'](_0x28b550,_0x58effb);}catch(_0x2fd414){}return _0x1a713a;}function checkMinimums(_0x535173){const _0x336a81=_0x2a4034;let _0x1f0f7a=!![];const _0x1f95e1=!_0x535173[_0x336a81(0xc4)]?markets[_0x535173['symbol']]['limits'][_0x336a81(0x8a)][_0x336a81(0x1b7)]:markets[_0x535173[_0x336a81(0x203)]][_0x336a81(0x212)]['cost'][_0x336a81(0x1b7)],_0x3e4a1b=!_0x535173[_0x336a81(0xc4)]?markets[_0x535173[_0x336a81(0x203)]][_0x336a81(0x212)][_0x336a81(0x1a7)][_0x336a81(0x1b7)]:markets[_0x535173['symbol']][_0x336a81(0x212)]['amount']['min'],_0x244431=truncateTradeAmount(_0x535173[_0x336a81(0x203)],_0x535173[_0x336a81(0xec)]);_0x535173['trade']=_0x244431;if(Math['abs'](_0x244431)<_0x1f95e1)_0x1f0f7a=![];if(Math[_0x336a81(0xb2)](_0x244431)*_0x535173[_0x336a81(0x1b4)]<_0x3e4a1b)_0x1f0f7a=![];if(_0x535173[_0x336a81(0x217)]==_0x336a81(0x1f3)){let _0x397335=config[_0x336a81(0x208)][_0x336a81(0x173)](_0x176c6d=>_0x176c6d[_0x336a81(0xfb)]==_0x535173['coin']);if(_0x397335[_0x336a81(0x160)]>0x0){if(Math[_0x336a81(0xb2)](_0x244431)>_0x535173[_0x336a81(0x9a)]-_0x397335[_0x336a81(0x160)])_0x1f0f7a=![];}else{if(Math[_0x336a81(0xb2)](_0x244431)>_0x535173[_0x336a81(0x9a)])_0x1f0f7a=![];}}if(_0x535173[_0x336a81(0x217)]==_0x336a81(0x1ca)){let _0x5ad204=config['portfolio']['find'](_0xe6b102=>_0xe6b102[_0x336a81(0xfb)]==config[_0x336a81(0x1c9)]),_0x4c40f5=currentCoins['find'](_0x56c853=>_0x56c853[_0x336a81(0xfb)]==config[_0x336a81(0x1c9)]);if(_0x5ad204['offset']>0x0){if(Math[_0x336a81(0xb2)](_0x244431)*_0x535173[_0x336a81(0x1b4)]>_0x4c40f5[_0x336a81(0x9a)]-_0x5ad204[_0x336a81(0x160)])_0x1f0f7a=![];}else{if(Math[_0x336a81(0xb2)](_0x244431)*_0x535173['last']>_0x4c40f5[_0x336a81(0x9a)])_0x1f0f7a=![];}}return _0x1f0f7a;}async function getBalances(_0x33dbb5=!![]){const _0xd5e8a2=_0x2a4034;let _0x572c8d=0x0,_0x4e2472;const _0x414045=config[_0xd5e8a2(0xa5)];if(config[_0xd5e8a2(0x172)]&&config[_0xd5e8a2(0x1ed)]<0x0)await validate24hChanges();currentCoins[_0xd5e8a2(0xf5)](_0x271112=>{const _0x435f1a=_0xd5e8a2;if(_0x271112['coin']!=config[_0x435f1a(0x1c9)]){let _0x27b60f=global[_0x435f1a(0x9c)][noslash(_0x271112[_0x435f1a(0x203)])];_0x4e2472=_0x271112[_0x435f1a(0xc4)]?0x1/_0x27b60f:_0x27b60f;}else _0x4e2472=0x1;let _0x590e85=_0x271112[_0x435f1a(0x9a)]*_0x4e2472;_0x572c8d+=_0x590e85,_0x271112['last']=formatResult(Number(_0x4e2472),0x8),_0x271112['value']=_0x590e85;}),currentCoins[_0xd5e8a2(0xf5)](_0x47d98d=>{const _0x42fc54=_0xd5e8a2;let _0x1710cd=config[_0x42fc54(0x208)][_0x42fc54(0x173)](_0xb5e0fc=>_0xb5e0fc[_0x42fc54(0xfb)]==_0x47d98d[_0x42fc54(0xfb)]),_0x4f87b0=Number(_0x1710cd[_0x42fc54(0x153)]),_0x4303dc=_0x47d98d[_0x42fc54(0x1fb)]/_0x572c8d*0x64,_0x11b648=_0x4f87b0*_0x572c8d/0x64/_0x47d98d[_0x42fc54(0x1b4)]-_0x47d98d[_0x42fc54(0x9a)];_0x47d98d['distribution']=formatResult(_0x4303dc,0x3),_0x47d98d['target']=formatResult(_0x4f87b0,0x3),_0x47d98d[_0x42fc54(0xec)]=formatResult(_0x11b648,0x8),_0x47d98d['side']='',_0x47d98d[_0x42fc54(0xc5)]=![];if(_0x47d98d['coin']!=config[_0x42fc54(0x1c9)]){if(_0x47d98d[_0x42fc54(0x153)]>_0x4f87b0)_0x47d98d[_0x42fc54(0x217)]=_0x42fc54(0x1f3),_0x47d98d[_0x42fc54(0xc5)]=checkMinimums(_0x47d98d);else _0x47d98d[_0x42fc54(0x153)]<_0x4f87b0&&(_0x47d98d[_0x42fc54(0x217)]=_0x42fc54(0x1ca),_0x47d98d['valid']=checkMinimums(_0x47d98d));}_0x47d98d['delta']=_0x47d98d[_0x42fc54(0x153)]/_0x47d98d[_0x42fc54(0x191)]-0x1;if(_0x47d98d[_0x42fc54(0x136)]=='filled'||_0x47d98d[_0x42fc54(0x136)]==_0x42fc54(0x13e))_0x47d98d[_0x42fc54(0x136)]=_0x42fc54(0x19f);}),currentCoins[_0xd5e8a2(0xb7)]((_0x1533f9,_0xe5c64b)=>_0x1533f9[_0xd5e8a2(0x1b5)]<_0xe5c64b[_0xd5e8a2(0x1b5)]?0x1:_0xe5c64b[_0xd5e8a2(0x1b5)]<_0x1533f9['delta']?-0x1:0x0);const _0x3f1149=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3f1149[_0xd5e8a2(0x9e)],'usd':_0x3f1149[_0xd5e8a2(0x125)],'portfolio':JSON[_0xd5e8a2(0x19d)](currentCoins),'threshold':_0x414045},proxyEmit(_0xd5e8a2(0x202),{'serverversion':serverversion,'balances':lastBalances});if(_0x33dbb5){if(config[_0xd5e8a2(0x172)])headlessMode({'portfolio':currentCoins,'threshold':_0x414045});else{if(lockOrders==ORDERS[_0xd5e8a2(0x1d8)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x414045});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x471d22=getNormalizedPerformance();getStartingBalances(_0x471d22),emitPerformance(_0x471d22);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2eeb2b=getNormalizedPerformance();emitPerformance(_0x2eeb2b),getStartingBalances(_0x2eeb2b),logger['debug'](_0xd5e8a2(0x16d));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x7672b0=_0x2a4034;if(!lastBalances)return;let _0x36a3ab=[],_0x11d10e,_0x3048b8=JSON[_0x7672b0(0x156)](lastBalances[_0x7672b0(0x208)]);_0x3048b8[_0x7672b0(0xb7)]((_0x39638c,_0x11c8e3)=>_0x39638c[_0x7672b0(0xfb)]>_0x11c8e3[_0x7672b0(0xfb)]?0x1:_0x11c8e3['coin']>_0x39638c[_0x7672b0(0xfb)]?-0x1:0x0),_0x3048b8[_0x7672b0(0xf5)](_0x2bfca2=>{const _0x41a0ec=_0x7672b0;let _0x4534c8={'coin':_0x2bfca2['coin'],'number':_0x2bfca2[_0x41a0ec(0x9a)],'price':_0x2bfca2[_0x41a0ec(0x1b4)]};_0x36a3ab[_0x41a0ec(0x1ea)](_0x4534c8);});const _0x526ca1=await getFiat();_0x11d10e={'date':lastBalances[_0x7672b0(0xbb)][_0x7672b0(0x89)]('\x20')[0x0],'eur':_0x526ca1[_0x7672b0(0x9e)],'usd':_0x526ca1[_0x7672b0(0x125)],'coins':_0x36a3ab};let _0x4a55c0=dbPerformance[_0x7672b0(0xa9)](_0x7672b0(0x100))[_0x7672b0(0x173)]({'date':_0x11d10e[_0x7672b0(0x1b8)]})[_0x7672b0(0x1fb)]();_0x4a55c0?_0x11d10e[_0x7672b0(0x1b8)]!=config[_0x7672b0(0x108)]&&dbPerformance[_0x7672b0(0xa9)](_0x7672b0(0x100))[_0x7672b0(0x173)]({'date':_0x11d10e['date']})['assign'](_0x11d10e)[_0x7672b0(0x145)]():dbPerformance[_0x7672b0(0xa9)](_0x7672b0(0x100))[_0x7672b0(0x1ea)](_0x11d10e)[_0x7672b0(0x145)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x20a2a2=_0x2a4034;let _0x123502=[];if(dbPerformance[_0x20a2a2(0xbc)](_0x20a2a2(0x100))[_0x20a2a2(0x1fb)]()){let _0x294254=dbPerformance[_0x20a2a2(0xa9)](_0x20a2a2(0x100))[_0x20a2a2(0x158)]()[_0x20a2a2(0x1a5)](_0x45fb20=>{const _0x449338=_0x20a2a2;if(_0x45fb20[_0x449338(0xfd)][_0x449338(0x183)]==0x0)return![];else return!![];})[_0x20a2a2(0x1e1)](_0x20a2a2(0x1b8))[_0x20a2a2(0x1fb)](),_0x3e643d=[...config['liquidity']];_0x3e643d[_0x20a2a2(0xb7)]((_0x507416,_0x140e8b)=>_0x507416[_0x20a2a2(0x1b8)]>_0x140e8b[_0x20a2a2(0x1b8)]?-0x1:_0x140e8b[_0x20a2a2(0x1b8)]>_0x507416[_0x20a2a2(0x1b8)]?0x1:0x0);let _0x463ce3=0x1,_0x424eb=[],_0x5c6da4=0x0;_0x294254[_0x20a2a2(0x142)]()[_0x20a2a2(0xc4)]()['forEach']((_0x5100eb,_0xe19e0c)=>{const _0x572ce7=_0x20a2a2;if(_0x3e643d[_0x5c6da4]){if(_0x294254[_0x294254[_0x572ce7(0x183)]-_0xe19e0c]&&_0x3e643d[_0x5c6da4][_0x572ce7(0x1b8)]==_0x294254[_0x294254[_0x572ce7(0x183)]-_0xe19e0c][_0x572ce7(0x1b8)]){if(_0xe19e0c<_0x294254[_0x572ce7(0x183)]){let _0x5387cb=0x0,_0xc06839=0x0;_0x294254[_0x294254[_0x572ce7(0x183)]-_0xe19e0c][_0x572ce7(0xfd)][_0x572ce7(0xf5)](_0xbf7bf9=>{const _0x57a6de=_0x572ce7;_0xc06839+=_0xbf7bf9[_0x57a6de(0x9a)]*_0xbf7bf9['price'];}),_0x3e643d[_0x5c6da4]['changes']['forEach'](_0x496cce=>{const _0x4b0c6b=_0x572ce7;_0x5387cb+=_0x496cce[_0x4b0c6b(0x9a)]*_0x496cce[_0x4b0c6b(0xb5)];}),_0x463ce3*=_0x5387cb/(_0xc06839-_0x5387cb)+0x1;}_0x5c6da4++;}}let _0xcd1154=0x0;_0x5100eb['coins'][_0x572ce7(0xf5)](_0x228b65=>{const _0x151e2c=_0x572ce7;_0xcd1154+=_0x228b65['number']*_0x228b65[_0x151e2c(0xb5)];}),_0x424eb[_0x294254['length']-_0xe19e0c-0x1]=_0xcd1154*(_0x463ce3-0x1);});let _0x2d8b34=[];_0x3e643d=[...config[_0x20a2a2(0x16c)]]||[];let _0xbd8c74=0x0;_0x5c6da4=0x0,_0x294254[_0x20a2a2(0xf5)]((_0x37a065,_0x13ab49)=>{const _0x1be3b6=_0x20a2a2;if(_0x3e643d[_0x5c6da4]){const _0x303529=fns['parse'](_0x3e643d[_0x5c6da4][_0x1be3b6(0x1b8)],'yyyy/MM/dd',new Date()),_0xc9a94d=fns[_0x1be3b6(0x156)](_0x37a065[_0x1be3b6(0x1b8)],_0x1be3b6(0x8c),new Date());if(fns[_0x1be3b6(0x1f8)](_0x303529,_0xc9a94d)){let _0x4d110b=0x0;_0x3e643d[_0x5c6da4]['changes'][_0x1be3b6(0xf5)](_0x14695e=>{const _0x3d6561=_0x1be3b6;!_0x2d8b34[_0x14695e['coin']]?_0x2d8b34[_0x14695e[_0x3d6561(0xfb)]]=_0x14695e['number']:(_0x4d110b=_0x2d8b34[_0x14695e[_0x3d6561(0xfb)]],_0x2d8b34[_0x14695e[_0x3d6561(0xfb)]]+=_0x14695e['number']);const _0x25c207=_0x37a065[_0x3d6561(0xfd)]['find'](_0x21be18=>_0x21be18[_0x3d6561(0xfb)]==_0x14695e[_0x3d6561(0xfb)]);(!_0x25c207||_0x25c207['number']==0x0)&&(_0xbd8c74+=(-_0x14695e[_0x3d6561(0x9a)]-_0x4d110b)*_0x14695e['price']);}),_0x5c6da4++;}}_0x37a065[_0x1be3b6(0xfd)]['forEach']((_0x12097a,_0x185556)=>{const _0xcc3c7b=_0x1be3b6;_0x2d8b34[_0x12097a[_0xcc3c7b(0xfb)]]&&(_0x12097a[_0xcc3c7b(0xfa)]=_0x2d8b34[_0x12097a[_0xcc3c7b(0xfb)]]);}),_0x123502[_0x1be3b6(0x1ea)]({'date':_0x37a065['date'],'eur':_0x37a065['eur'],'usd':_0x37a065[_0x1be3b6(0x125)],'offset':_0x424eb[_0x13ab49],'netoffset':_0xbd8c74,'coins':_0x37a065[_0x1be3b6(0xfd)]});});}return _0x123502;}function emitPerformance(_0x5d2a6a){const _0x2ddd74=_0x2a4034;_0x5d2a6a[_0x2ddd74(0x183)]!==0x0?(proxyEmit(_0x2ddd74(0x10e),_0x5d2a6a),lastPerformanceEmitted=getDate()):proxyEmit(_0x2ddd74(0x10e),[]);}function getPerf(_0x4a0044,_0x5f3c07){const _0x5c54ef=_0x2a4034;let _0x384cd1=0x0,_0xe1c126=0x0,_0x291b86=0x0;_0x4a0044['coins'][_0x5c54ef(0xf5)](_0x10a14f=>{const _0x17da86=_0x5c54ef;_0x384cd1+=_0x10a14f[_0x17da86(0x9a)]*_0x10a14f[_0x17da86(0xb5)];});_0x5f3c07&&(_0x384cd1+=_0x4a0044[_0x5c54ef(0x160)]);if(config[_0x5c54ef(0x1c9)]===_0x5c54ef(0x9b)||config[_0x5c54ef(0x1c9)]===_0x5c54ef(0x149))_0xe1c126=_0x384cd1*_0x4a0044['eur'],_0x291b86=_0x384cd1*_0x4a0044[_0x5c54ef(0x125)];else{if(usdBasecoins[_0x5c54ef(0xd6)](config[_0x5c54ef(0x1c9)]))_0xe1c126=_0x384cd1*_0x4a0044[_0x5c54ef(0x9e)]/_0x4a0044[_0x5c54ef(0x125)],_0x291b86=_0x384cd1;else config['basecoin']===_0x5c54ef(0x188)&&(_0xe1c126=_0x384cd1,_0x291b86=_0x384cd1*_0x4a0044[_0x5c54ef(0x125)]/_0x4a0044['eur']);}return[_0x384cd1,_0xe1c126,_0x291b86];}function getKPIs(_0x5ee713,_0x52d711=_0x2a4034(0x188)){const _0x29ad04=_0x2a4034,_0x18ca06=config['basecoin'],_0x55b191=lastBalances,_0x5ac9a9=currentCoins,_0x36f6f5=getNormalizedPerformance(),_0x7f654d=_0x5ee713===_0x29ad04(0x1c9)?_0x18ca06:_0x5ee713===_0x29ad04(0xf7)||_0x5ee713==='net-fiat'?_0x52d711:_0x29ad04(0x200)+_0x18ca06,_0x3e94a6=_0x5ee713===_0x29ad04(0xb8)?'Net\x20effect':_0x5ee713===_0x29ad04(0x8f)?_0x29ad04(0x12d):_0x7f654d+_0x29ad04(0x11a),_0x1def61=_0x5ee713===_0x29ad04(0xb8)||_0x5ee713==='net-fiat'?_0x29ad04(0x12d):_0x7f654d+'\x20change';let _0x570bef=0x0;_0x5ac9a9[_0x29ad04(0xf5)](_0xa512ee=>{const _0xd2b6e0=_0x29ad04;_0x570bef+=_0xa512ee['number']*_0xa512ee[_0xd2b6e0(0x1b4)];});if(_0x5ee713==='fiat'||_0x5ee713===_0x29ad04(0x8f)){if(_0x18ca06==='BTC'||_0x18ca06===_0x29ad04(0x149))_0x570bef=_0x570bef*(_0x52d711===_0x29ad04(0x188)?_0x55b191['eur']:_0x55b191[_0x29ad04(0x125)]);else{if(usdBasecoins[_0x29ad04(0xd6)](_0x18ca06))_0x570bef=_0x570bef*(_0x52d711==='EUR'?_0x55b191[_0x29ad04(0x9e)]/_0x55b191[_0x29ad04(0x125)]:0x1);else _0x18ca06===_0x29ad04(0x188)&&(_0x570bef=_0x570bef*(_0x52d711===_0x29ad04(0x188)?0x1:_0x55b191[_0x29ad04(0x125)]/_0x55b191[_0x29ad04(0x9e)]));}}let _0x29a895;if(_0x570bef!==0x0){if(_0x5ee713===_0x29ad04(0x1c9))_0x29a895=(_0x570bef/startingBalances[_0x29ad04(0x1c9)]-0x1)*0x64;else{if(_0x52d711==='EUR')_0x29a895=(_0x570bef/startingBalances[_0x29ad04(0x9e)]-0x1)*0x64;else _0x29a895=(_0x570bef/startingBalances[_0x29ad04(0x125)]-0x1)*0x64;}let _0x57fcc4=0x0;if(startingBalances[_0x29ad04(0xfd)])_0x5ac9a9[_0x29ad04(0xf5)](_0x167e29=>{const _0x31d9dc=_0x29ad04;let _0x27ceed=startingBalances[_0x31d9dc(0xfd)][_0x31d9dc(0x173)](_0x5a7dc7=>_0x5a7dc7[_0x31d9dc(0xfb)]===_0x167e29['coin']);if(_0x27ceed&&_0x27ceed[_0x31d9dc(0xfb)]&&_0x167e29[_0x31d9dc(0x9a)]!==0x0)_0x57fcc4+=_0x27ceed[_0x31d9dc(0x9a)]*_0x167e29[_0x31d9dc(0x1b4)];});let _0x4706b2=0x0;if(_0x36f6f5[_0x29ad04(0x183)]!==0x0){let _0x5ed3df=_0x36f6f5[_0x36f6f5['length']-0x1];_0x4706b2=_0x5ed3df[_0x29ad04(0x1d1)];}_0x57fcc4-=_0x4706b2;_0x5ee713===_0x29ad04(0xb8)&&(_0x29a895=(_0x570bef-_0x57fcc4)/startingBalances['basecoin']*0x64,_0x570bef=_0x570bef-_0x57fcc4);if(_0x5ee713===_0x29ad04(0x8f)){let _0x1017a0=_0x52d711==='EUR'?startingBalances[_0x29ad04(0x9e)]:startingBalances[_0x29ad04(0x125)];if(_0x18ca06===_0x29ad04(0x9b)||_0x18ca06===_0x29ad04(0x149))_0x57fcc4=_0x52d711===_0x29ad04(0x188)?_0x57fcc4*_0x55b191[_0x29ad04(0x9e)]:_0x57fcc4*_0x55b191[_0x29ad04(0x125)];else{if(usdBasecoins[_0x29ad04(0xd6)](_0x18ca06))_0x57fcc4=_0x52d711==='EUR'?_0x57fcc4*_0x55b191['eur']/_0x55b191['usd']:_0x57fcc4;else _0x18ca06==='EUR'&&(_0x57fcc4=_0x52d711==='EUR'?_0x57fcc4:_0x57fcc4*_0x55b191['usd']/_0x55b191[_0x29ad04(0x9e)]);}_0x29a895=(_0x570bef-_0x57fcc4)/_0x1017a0*0x64,_0x570bef=_0x570bef-_0x57fcc4;}if(_0x29a895){if(_0x29a895<0x64)_0x29a895=_0x29a895['toFixed'](0x2);else{if(_0x29a895<0x3e8)_0x29a895=_0x29a895[_0x29ad04(0x11e)](0x1);else _0x29a895=_0x29a895[_0x29ad04(0x11e)](0x0);}}else _0x29a895=Number('0')[_0x29ad04(0x11e)](0x2);if(_0x570bef){if(Math[_0x29ad04(0xb2)](_0x570bef)<0.000001)_0x570bef=_0x570bef[_0x29ad04(0x11e)](0x2);else{if(Math[_0x29ad04(0xb2)](_0x570bef)<0.1)_0x570bef=_0x570bef['toFixed'](0x6);else{if(Math['abs'](_0x570bef)<0x1)_0x570bef=_0x570bef[_0x29ad04(0x11e)](0x5);else{if(Math[_0x29ad04(0xb2)](_0x570bef)<0xa)_0x570bef=_0x570bef['toFixed'](0x4);else{if(Math[_0x29ad04(0xb2)](_0x570bef)<0x64)_0x570bef=_0x570bef[_0x29ad04(0x11e)](0x3);else{if(Math[_0x29ad04(0xb2)](_0x570bef)<0x3e8)_0x570bef=_0x570bef[_0x29ad04(0x11e)](0x2);else _0x570bef=_0x570bef[_0x29ad04(0x11e)](0x2);}}}}}}else _0x570bef=Number('0')[_0x29ad04(0x11e)](0x2);}else _0x29a895=Number('0')[_0x29ad04(0x11e)](0x2);return{'value':_0x570bef,'change':_0x29a895,'leftTxt':_0x3e94a6,'rightTxt':_0x1def61};}async function getStartingBalances(_0x42b562,_0x33f614=!![]){const _0x3ac06e=_0x2a4034;if(_0x42b562[_0x3ac06e(0x183)]!==0x0){const [_0x2e0f47,_0xb7745b,_0x26cf0a]=getPerf(_0x42b562[0x0],!![]);let _0x3e0d18=[];config[_0x3ac06e(0x208)][_0x3ac06e(0xf5)](_0x4f9d32=>{const _0x535971=_0x3ac06e;let _0x5deacd=0x0,_0x5d05ab;config[_0x535971(0x16c)][_0x535971(0xf5)](_0x3400bf=>{const _0x4c27d0=_0x535971;let _0x489d1c=_0x3400bf[_0x4c27d0(0x1c8)][_0x4c27d0(0x173)](_0x264c65=>_0x264c65[_0x4c27d0(0xfb)]==_0x4f9d32['coin']);if(_0x489d1c){_0x5deacd+=_0x489d1c['number'];if(!_0x5d05ab)_0x5d05ab=_0x489d1c[_0x4c27d0(0xb5)];}}),_0x3e0d18['push']({'coin':_0x4f9d32[_0x535971(0xfb)],'number':_0x5deacd,'initialprice':_0x5d05ab});});const _0x1b4c75={'basecoin':_0x2e0f47,'eur':_0xb7745b,'usd':_0x26cf0a,'coins':_0x3e0d18};if(_0x33f614)proxyEmit(_0x3ac06e(0x18a),_0x1b4c75);startingBalances=_0x1b4c75;}}function headlessMode(_0x1e2afa){const _0x11fff1=_0x2a4034;let _0x50b809=_0x1e2afa[_0x11fff1(0x208)],_0xc2c5fe=_0x1e2afa['threshold'],_0x47ca15=[];for(let _0x45ce25 of _0x50b809){if(_0x45ce25['coin']!=config[_0x11fff1(0x1c9)]){if(_0x45ce25[_0x11fff1(0x1b5)]>=_0xc2c5fe/0x64){if(_0x45ce25[_0x11fff1(0xc5)])_0x47ca15[_0x11fff1(0x1ea)](_0x45ce25);}else{if(_0x45ce25['delta']<=-_0xc2c5fe/0x64){if(_0x45ce25[_0x11fff1(0xc5)])_0x47ca15[_0x11fff1(0x1ea)](_0x45ce25);}}}}_0x47ca15['length']>0x0&&(lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&_0x47ca15[_0x11fff1(0xf5)](_0x1d8c0a=>{const _0x3fca2f=_0x11fff1;logger['debug']('Trigger:\x20'+_0x1d8c0a[_0x3fca2f(0xfb)]+'\x20'+_0x1d8c0a['number']+'\x20'+_0x1d8c0a[_0x3fca2f(0x1b4)]+'\x20'+_0x1d8c0a[_0x3fca2f(0x153)]+'%\x20'+_0x1d8c0a[_0x3fca2f(0x191)]+'%\x20'+(0x64*_0x1d8c0a[_0x3fca2f(0x1b5)])[_0x3fca2f(0x11e)](0x2)+'%\x20('+_0xc2c5fe[_0x3fca2f(0x11e)](0x2)+'%)');}),placeOrder(_0x47ca15));}function notifyBalance(_0x3ddf40){const _0x49c7c1=_0x2a4034;let _0x4021b9=_0x3ddf40[_0x49c7c1(0x208)],_0x28a73f=_0x3ddf40[_0x49c7c1(0xa5)],_0xe442fd=[];for(let _0x1f9d8a of _0x4021b9){if(_0x1f9d8a[_0x49c7c1(0xfb)]!=config[_0x49c7c1(0x1c9)]){if(_0x1f9d8a[_0x49c7c1(0x1b5)]>=_0x28a73f/0x64){if(_0x1f9d8a[_0x49c7c1(0xc5)])_0xe442fd[_0x49c7c1(0x1ea)](_0x1f9d8a);}else{if(_0x1f9d8a[_0x49c7c1(0x1b5)]<=-_0x28a73f/0x64){if(_0x1f9d8a[_0x49c7c1(0xc5)])_0xe442fd[_0x49c7c1(0x1ea)](_0x1f9d8a);}}}}if(_0xe442fd[_0x49c7c1(0x183)]>0x0){let _0xfebb2a=_0xe442fd[_0x49c7c1(0xc7)](_0x3d3e65=>_0x3d3e65[_0x49c7c1(0xfb)]);_0xfebb2a[_0x49c7c1(0xb7)]();let _0x13a509=_0xfebb2a[_0x49c7c1(0xa4)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x49c7c1(0x1ab));lastCoinsToBalance=_0x13a509;}}function symbolToCoin(_0x338ebd){const _0x1b2896=_0x2a4034;let _0xade91b;if(_0x338ebd[_0x1b2896(0xd6)]('/'+config[_0x1b2896(0x1c9)]))_0xade91b=_0x338ebd[_0x1b2896(0x127)]('/'+config[_0x1b2896(0x1c9)],'');if(_0x338ebd[_0x1b2896(0xd6)](config['basecoin']+'/'))_0xade91b=_0x338ebd[_0x1b2896(0x127)](config[_0x1b2896(0x1c9)]+'/','');return _0xade91b;}async function unlockOrders(){const _0x4c35ac=_0x2a4034;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4c35ac(0xce)]){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x4c35ac(0xee)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x1ccf1b=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1ccf1b,validateOrdersState=_0x4c35ac(0xfa),persistOpenOrders([]),lockOrders=ORDERS[_0x4c35ac(0x1d8)],logger[_0x4c35ac(0x115)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x24f104){const _0x13bedb=_0x2a4034;if(_0x24f104)validateOrdersState=_0x24f104;logger[_0x13bedb(0x115)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x13bedb(0x199):lockOrders==0x2?_0x13bedb(0x151):_0x13bedb(0x11c)));let _0x1d95f5=[],_0x4f96b5=config[_0x13bedb(0xf1)]==_0x13bedb(0x8d)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x13bedb(0x115)](_0x13bedb(0x1e7)+validateOrdersState),lastOrders[_0x13bedb(0xf5)](_0x2d7246=>{const _0x39e782=_0x13bedb;let _0xea1dbb=![];_0x2d7246[_0x39e782(0x10f)]>0x0&&(_0xea1dbb=!![]),_0x1d95f5[_0x39e782(0x1ea)](_0xea1dbb),_0xea1dbb&&config['ordertype']!='market'&&logHistory('order',_0x39e782(0xc2)+_0x2d7246[_0x39e782(0x203)]+'\x20'+_0x2d7246[_0x39e782(0x217)]+'\x20#'+formatResult(_0x2d7246['filled'],0x8)+'\x20@'+formatResult(_0x2d7246['price'],0x8));}),_0x1d95f5[_0x13bedb(0xf5)]((_0x4b38ec,_0x443777)=>{if(_0x4b38ec)lastOrders['splice'](_0x443777,0x1);}),persistOpenOrders(lastOrders);const _0x4ed701=coolingDown?_0x13bedb(0xcf):_0x13bedb(0x206);if(validateOrdersState=='initial'){validateOrdersState=_0x13bedb(0x181);if(_0x1d95f5['includes'](![])){if(config[_0x13bedb(0xf1)]==_0x13bedb(0x8d)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x13bedb(0x181)){if(_0x1d95f5[_0x13bedb(0xd6)](![])){}else{if(allOrdersPlaced){if(config[_0x13bedb(0xf1)]==_0x13bedb(0x8d)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x13bedb(0x96))_0x1d95f5[_0x13bedb(0xd6)](![])&&(config[_0x13bedb(0xf1)]==_0x13bedb(0x8d)?logHistory(_0x13bedb(0x15f),_0x13bedb(0xa7)+Math[_0x13bedb(0x1c7)](_0x4f96b5*validateOrderInterval/0xea60)+_0x13bedb(0x16e)+_0x4ed701):(await cancelOrders(),logHistory('success',_0x13bedb(0xf2)+Math['round'](_0x4f96b5*validateOrderInterval/0xea60)+_0x13bedb(0x16e)+_0x4ed701))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x13bedb(0xf1)]!=_0x13bedb(0x8d))logHistory(_0x13bedb(0x15f),_0x13bedb(0xa3)+_0x4ed701);await unlockOrders();}}}}}function _0xda06(){const _0x38c2d2=['timeshift',',\x20must\x20be\x20a\x203\x20digit\x20number','/backup/','loadMarkets','debug','getMonth','page','-results.json','date-fns','\x20value','existsSync','ORDERS.UNLOCKED','emojisell','toFixed','2\x20-\x20Handled\x20open\x20orders','remove','ID:\x20','<b>','\x20|\x20exchange:\x20','\x20orders\x20in\x20less\x20than\x20','usd','differenceInSeconds','replace','autoliquidity','InvalidOrder','logs','If\x20the\x20problem\x20remains,\x20your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync','Bot\x20','Net\x20effect','1\x20-\x20FILLED\x20known\x20order:\x20','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','toggleBotMode','getMinutes','constructor','full','284ZzDrmM','\x20/\x20','orderstatus','unlinkSync','getPortfolio(2)','\x20has\x20a\x2024h\x20drop\x20of\x20','watchOrders()','<b>Bot\x20','fetchClosedOrders','Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','canceled','indexOf','password',':\x20Bot\x20','slice','MIN_NOTIONAL','fetchOpenOrders','write','shift','\x20:\x20','padStart','ETH','breakeven','(((.+)+)+)+$','total','limit-low','\x20not\x20responding','openOrders','fees','ORDERS.UNLOCKING','.json','distribution','\x20>\x20[DEBUG]\x20','substring','parse','Waited\x20','cloneDeep','USD','resetHistory','Saving\x20configuration','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','set','Executed\x20','success','offset','excluded','close','\x20|\x20','hybrid-crypto-js','Executing\x20exchange\x20reload','1\x20-\x20Handle\x20open\x20orders','%\x20(','defaults','bots','spot','Resetting\x20coin\x20results:\x20','liquidity','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','\x20minutes\x20-\x20','\x20network\x20error','Order\x20amount\x20is\x20invalid:\x20','0\x20-\x20EXECUTION:\x20','headless','find','uncaughtException','API-key\x20format\x20invalid','botID','ask','2279970fyIWky','loadSymbols()','pro','2\x20-\x20handling\x20FILLED\x20order:\x20','milliseconds','exchange\x20not\x20reloaded','getPortfolio(0)','sendMetricsTelegram','exchange','ongoing','timeout','length','test','getCoins()','rightTxt','status','EUR','InsufficientFunds','starting-balances','error','Error:\x20Invalid\x20argument\x20','open','event-history','\x20|\x20highest\x20fee:\x20','BUSD','target','Invalid\x20symbol:\x20','recreateCoinResults()','stopExchange()','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Crypt','keys','/output-000.log','ORDERS.LOCKED','OnMaintenance','showConfig','watchTrades','stringify','added','none','BNB/','PermissionDenied','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','version','Fee\x20discount\x20refund\x20detected:\x20','filter','buys','cost','leftTxt','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','InvalidNonce','Manual\x20balancing\x20required','\x20metrics:</b>\x20\x0a\x0a','createWriteStream','AuthenticationError','-events.json','2072410mUpkyj','add','placeOrder()','placeOrder','last','delta','125503RfBDog','min','date','assign','args','USDP','Unknown\x20error\x20occured','orderId','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20>\x20','toString','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','2.3.5','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','bb-secure.json','startsWith','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','round','changes','basecoin','buy','RequestTimeout','random','fetchTicker','apiKey','Market','cancelOrder','netoffset','exchanges','\x20not\x20available','cancelLoading','botname','************','bot-','UNLOCKED','timestamp','datetime','Transaction\x20detection\x20blocked','Invalid\x20API\x20key\x20or\x20secret\x20entered','watchTrades()','/USD','USDT','54267XQoGzN','sortBy','argv','recent20','Cooldown\x20ended\x20-\x20balancing\x20resumed','event','bid','2\x20-\x20Validate\x20orders:\x20','Pausing\x20for\x20','bot','push','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','Invalid\x20quantity','change24h','format','getPortfolio','\x20blocked\x20your\x20API','ccxt','toLowerCase','sell','Cex','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','bb-settings.json','red_yellow_blue','isEqual','Error\x20while\x20deleting\x20files:\x20','</pre>','value','Binance','cooldown','customId','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Net\x20','\x20API\x20secret\x20is\x20invalid','balances','symbol','ExchangeError','OrderNotFound','balancing\x20resumed','258QSwpwG','portfolio','Huobipro','restart','63MSKsPF','./logs/','fromCodePoint','yargs/yargs','getCoinNumber()','Exchange','***','limits','search','Avoiding\x20continuous\x20order\x20attempts','86485zbraPd','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','side','apply','watchTransactions()','log','getDate','apiSecret','split','amount','change','yyyy/MM/dd','market','send','net-fiat','running','highest','showname','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','001','Loading\x20completed','final','\x20portfolio:</b>\x20\x0a\x0a','emojibuy','freeze','number','BTC','ticker','storeFiat','eur','-config.json','exchange\x20reloaded','colorscheme','getStartingBalances','No\x20more\x20open\x20orders\x20-\x20','join','threshold',':\x20timer\x20>','Order(s)\x20not\x20validated\x20after\x20','fetchTickers','get','/EUR','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','Bybit','basecoinvalue','2573878RhljjE','function','2.5.0','util','abs','storeHeadless','fetchTickers()','price','BNB','sort','net-basecoin','Cryptocom','apiPassword','time','has','removed','remainingSymbols','1\x20-\x20FILLED\x20unknown\x20order:\x20','ExchangeNotAvailable','\x20minutes','Order\x20filled:\x20','progress','reverse','valid','startnumber','map','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','fee','privateKey','Bitget','RateLimitExceeded','initTickers()','LOCKED','balancing\x20resumes\x20when\x20cooldown\x20ends','realized','getHours','-performance.json','max','fetchBalance','getFullYear','includes','\x20closed\x20the\x20connection','lowdb/adapters/FileSync','getOpenOrders()','sells','getTime','type','Order\x20is\x20invalid:\x20','decrypt','Huobi','currency','sendPortfolioTelegram','findIndex','NetworkError','warning','3550632hMpEsu','entries','2.6.0','getAllOrders()','order','parseISO','enabled','trade','path','UNLOCKING','active','configuration','ordertype','Unfilled\x20order(s)\x20canceled\x20after\x20','limit','watchOrders','forEach','\x20order:\x20','fiat','message','createOrder','initial','coin','closed','coins','RSA-OAEP','exec','data','Exception\x20thrown\x20in\x20','percentage','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','average','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','string','Error\x20details:','startdate','<pre>','onepagemode','Portfolio\x20change\x20detected:\x20','\x20exchange','storeConfiguration','performance','filled','-------------------------------\x0a'];_0xda06=function(){return _0x38c2d2;};return _0xda06();}async function cancelOrders(){const _0x33067c=_0x2a4034;lastOrders[_0x33067c(0xf5)](async _0x47d655=>{const _0x2219e8=_0x33067c;try{const _0x30fe88=await exchange['cancelOrder'](_0x47d655[_0x2219e8(0x1bd)],_0x47d655[_0x2219e8(0x203)]);}catch(_0x1a754e){if(_0x1a754e[_0x2219e8(0x1c0)]()[_0x2219e8(0xd6)](_0x2219e8(0x205))){}else await handleError(_0x1a754e,'cancelOrders()');}});}async function initCoinResults(_0x12dc49){const _0xa30ff9=_0x2a4034;_0x12dc49?logger[_0xa30ff9(0x115)](_0xa30ff9(0x16b)+_0x12dc49):logger['debug']('Initializing\x20coin\x20results'),config[_0xa30ff9(0x208)][_0xa30ff9(0xf5)](_0x33f582=>{const _0x2e68dd=_0xa30ff9;if(!_0x33f582['excluded']&&_0x33f582[_0x2e68dd(0xfb)]!=config[_0x2e68dd(0x1c9)]){const _0x4929fc=currentCoins[_0x2e68dd(0x173)](_0x1f94e8=>_0x1f94e8[_0x2e68dd(0xfb)]==_0x33f582[_0x2e68dd(0xfb)]),_0x240288=global[_0x2e68dd(0x9c)][noslash(_0x33f582[_0x2e68dd(0x203)])];let _0x3dedd8=_0x4929fc?_0x4929fc[_0x2e68dd(0x9a)]:null,_0x4f3246=_0x33f582[_0x2e68dd(0xc4)]?0x1/_0x240288:_0x240288,_0x1633f6;config['liquidity'][_0x2e68dd(0xf5)](_0x4a4efb=>{const _0x65133c=_0x2e68dd;!_0x1633f6&&(_0x1633f6=_0x4a4efb[_0x65133c(0x1c8)][_0x65133c(0x173)](_0x788b2b=>_0x788b2b[_0x65133c(0xfb)]==_0x33f582[_0x65133c(0xfb)]),_0x1633f6&&(_0x3dedd8=_0x1633f6[_0x65133c(0x9a)],_0x4f3246=_0x1633f6[_0x65133c(0xb5)]));});let _0x49c3a5=dbCoinResults['get'](_0x2e68dd(0xfd))['find']({'coin':_0x33f582[_0x2e68dd(0xfb)]})[_0x2e68dd(0x1fb)]();if(!_0x49c3a5){const _0x9cc182={'coin':_0x33f582['coin'],'number':_0x3dedd8,'breakeven':_0x4f3246,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2e68dd(0xa9)]('coins')[_0x2e68dd(0x1ea)](_0x9cc182)[_0x2e68dd(0x145)]();}else{if(_0x12dc49&&_0x33f582[_0x2e68dd(0xfb)]==_0x12dc49){const _0x14338d={'coin':_0x33f582[_0x2e68dd(0xfb)],'number':_0x3dedd8,'breakeven':_0x4f3246,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2e68dd(0xa9)](_0x2e68dd(0xfd))[_0x2e68dd(0x173)]({'coin':_0x33f582['coin']})[_0x2e68dd(0x1b9)](_0x14338d)[_0x2e68dd(0x145)]();}}}});}async function updateCoinResults(_0x4c66c5,_0x44e7a0=![]){const _0xc7d6e7=_0x2a4034;let _0x4e66d2,_0x55a6b0,_0xaa4771,_0x158d1b,_0x39f6c1,_0x592a49,_0x5492fd=dbCoinResults[_0xc7d6e7(0xa9)](_0xc7d6e7(0xfd))[_0xc7d6e7(0x173)]({'coin':_0x4c66c5[_0xc7d6e7(0xfb)]})['value'](),_0x1dc723=![];_0x5492fd&&Object[_0xc7d6e7(0xe6)](_0x5492fd)['forEach'](([_0x3454e0,_0x5bed2c])=>{if(_0x5bed2c==null)_0x1dc723=!![];});(!_0x5492fd||_0x1dc723)&&(await initCoinResults(_0x4c66c5[_0xc7d6e7(0xfb)]),_0x5492fd=dbCoinResults['get']('coins')['find']({'coin':_0x4c66c5[_0xc7d6e7(0xfb)]})[_0xc7d6e7(0x1fb)]());_0x4c66c5[_0xc7d6e7(0xc4)]&&(_0x592a49={'filled':_0x4c66c5[_0xc7d6e7(0x10f)]*_0x4c66c5['price'],'amount':_0x4c66c5[_0xc7d6e7(0x10f)]*_0x4c66c5[_0xc7d6e7(0xb5)],'side':_0x4c66c5[_0xc7d6e7(0x217)]==_0xc7d6e7(0x1f3)?_0xc7d6e7(0x1ca):_0xc7d6e7(0x1f3),'price':0x1/_0x4c66c5[_0xc7d6e7(0xb5)]},_0x4c66c5={..._0x4c66c5,..._0x592a49});_0x44e7a0?_0x55a6b0=_0x4c66c5['side']==_0xc7d6e7(0x1ca)?_0x5492fd['number']+_0x4c66c5[_0xc7d6e7(0x10f)]:_0x5492fd[_0xc7d6e7(0x9a)]-_0x4c66c5[_0xc7d6e7(0x10f)]:_0x55a6b0=await getCoinNumber(_0x4c66c5['coin']);if(_0x4c66c5['fee']&&_0x4c66c5['fee'][_0xc7d6e7(0xe0)]==config['basecoin'])_0x4e66d2=_0x4c66c5[_0xc7d6e7(0xc9)][_0xc7d6e7(0x1a7)];else{if(_0x4c66c5[_0xc7d6e7(0xc9)]&&_0x4c66c5[_0xc7d6e7(0xc9)][_0xc7d6e7(0xe0)]==_0xc7d6e7(0xb6)&&!_0x44e7a0)_0x4e66d2=_0x4c66c5[_0xc7d6e7(0xc9)][_0xc7d6e7(0x1a7)]*global[_0xc7d6e7(0x9c)][_0xc7d6e7(0xb6)+config[_0xc7d6e7(0x1c9)]];else _0x4e66d2=defaultFee*_0x4c66c5['filled']*_0x4c66c5['price'];}_0x4c66c5[_0xc7d6e7(0x217)]=='buy'?(_0xaa4771=_0x55a6b0!=0x0?(_0x5492fd['breakeven']*_0x5492fd['number']+_0x4c66c5[_0xc7d6e7(0xb5)]*(_0x55a6b0-_0x5492fd[_0xc7d6e7(0x9a)])+_0x4e66d2)/_0x55a6b0:0x0,_0x158d1b=_0x5492fd[_0xc7d6e7(0xd0)]):(_0xaa4771=_0x55a6b0!=0x0?(_0x5492fd[_0xc7d6e7(0x14a)]*_0x5492fd['number']-_0x4c66c5[_0xc7d6e7(0xb5)]*(_0x5492fd[_0xc7d6e7(0x9a)]-_0x55a6b0)+_0x4e66d2)/_0x55a6b0:0x0,_0x158d1b=_0x5492fd[_0xc7d6e7(0xd0)]+(_0x4c66c5[_0xc7d6e7(0xb5)]-_0x5492fd['breakeven'])*_0x4c66c5[_0xc7d6e7(0x10f)]);_0x39f6c1=(_0x4c66c5[_0xc7d6e7(0xb5)]-_0xaa4771-_0x4e66d2/_0x4c66c5[_0xc7d6e7(0x10f)])*_0x55a6b0;let _0x1fc448={'coin':_0x4c66c5[_0xc7d6e7(0xfb)],'number':_0x55a6b0,'breakeven':formatResult(_0xaa4771,0x8),'realized':formatResult(_0x158d1b,0x8),'unrealized':formatResult(_0x39f6c1,0x8),'fees':formatResult(_0x5492fd[_0xc7d6e7(0x150)]+_0x4e66d2,0x8),'sells':_0x4c66c5[_0xc7d6e7(0x217)]=='sell'?_0x5492fd[_0xc7d6e7(0xda)]+0x1:_0x5492fd[_0xc7d6e7(0xda)],'buys':_0x4c66c5['side']==_0xc7d6e7(0x1ca)?_0x5492fd[_0xc7d6e7(0x1a6)]+0x1:_0x5492fd['buys']};dbCoinResults['get'](_0xc7d6e7(0xfd))['find']({'coin':_0x4c66c5[_0xc7d6e7(0xfb)]})['assign'](_0x1fc448)[_0xc7d6e7(0x145)]();if(!_0x44e7a0){if(_0x4c66c5['fee']&&_0x4c66c5[_0xc7d6e7(0xc9)][_0xc7d6e7(0xe0)]=='BNB'){const _0xfa5ed=currentCoins['find'](_0x154c35=>_0x154c35[_0xc7d6e7(0xfb)]==_0xc7d6e7(0xb6));if(_0xfa5ed){let _0x248029=dbCoinResults[_0xc7d6e7(0xa9)](_0xc7d6e7(0xfd))[_0xc7d6e7(0x173)]({'coin':_0xc7d6e7(0xb6)})[_0xc7d6e7(0x1fb)]();_0x1fc448={..._0x248029,'number':_0xfa5ed[_0xc7d6e7(0x9a)]},dbCoinResults['get'](_0xc7d6e7(0xfd))[_0xc7d6e7(0x173)]({'coin':'BNB'})[_0xc7d6e7(0x1b9)](_0x1fc448)['write']();}}}}async function placeOrder(_0x13a447){const _0x2e9e57=_0x2a4034,_0x43bd21=config[_0x2e9e57(0xf1)]==_0x2e9e57(0x8d)?_0x2e9e57(0x8d):'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x2e9e57(0xce)],allOrdersPlaced=![],validateOrdersState=_0x2e9e57(0xfa);let _0x320c3c=![];lastOrders=[];for(const _0x39e714 of _0x13a447){let _0x51230b,_0x145004,_0x3a2590,_0x18e97c,_0x74943e,_0xbe4a39=_0x39e714[_0x2e9e57(0x203)];try{const _0x480091=await exchange[_0x2e9e57(0x1cd)](_0xbe4a39);_0x51230b=_0x39e714[_0x2e9e57(0xc4)]?0x1/_0x39e714[_0x2e9e57(0x1b4)]:_0x39e714['last'],_0x145004=_0x480091[_0x2e9e57(0x1e6)],_0x3a2590=_0x480091[_0x2e9e57(0x177)];_0x39e714[_0x2e9e57(0xc4)]?(_0x18e97c=_0x39e714[_0x2e9e57(0x217)]==_0x2e9e57(0x1ca)?_0x2e9e57(0x1f3):_0x2e9e57(0x1ca),_0x74943e=Math['abs'](_0x39e714[_0x2e9e57(0xec)])/_0x51230b):(_0x18e97c=_0x39e714[_0x2e9e57(0x217)],_0x74943e=Math['abs'](_0x39e714['trade']));_0x43bd21==_0x2e9e57(0xf3)&&(config[_0x2e9e57(0xf1)]=='limit-high'&&(_0x51230b=_0x18e97c=='buy'?_0x145004:_0x3a2590),config[_0x2e9e57(0xf1)]==_0x2e9e57(0x14d)&&(_0x51230b=_0x18e97c==_0x2e9e57(0x1ca)?_0x3a2590:_0x145004));_0x74943e=formatResult(_0x74943e,0x8),_0x51230b=formatResult(_0x51230b,0x8);const _0x457cbf=_0x18e97c==_0x2e9e57(0x1f3)?config[_0x2e9e57(0x11d)]?String[_0x2e9e57(0x20d)]('0x'+config['emojisell'])+'\x20':'':config[_0x2e9e57(0x98)]?String[_0x2e9e57(0x20d)]('0x'+config[_0x2e9e57(0x98)])+'\x20':'',_0x69aea2=_0x43bd21=='market'?_0x2e9e57(0x1cf):config['ordertype']=='limit-high'?'Limit\x20(high-margin)':'Limit\x20(low-margin)',_0x597c4b=(Math['floor'](Math[_0x2e9e57(0x1cc)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x2e9e57(0x1ea)]({'customId':_0x597c4b,'symbol':_0xbe4a39,'coin':_0x39e714[_0x2e9e57(0xfb)],'amount':_0x74943e,'price':_0x51230b,'side':_0x18e97c,'reverse':_0x39e714['reverse'],'filled':0x0});if(_0x43bd21==_0x2e9e57(0x8d))logHistory(_0x2e9e57(0xe9),''+_0x457cbf+_0x69aea2+_0x2e9e57(0xf6)+_0xbe4a39+'\x20'+_0x18e97c+'\x20#'+formatResult(_0x74943e,0x8)+'\x20@'+formatResult(_0x51230b,0x8));else logHistory(_0x2e9e57(0xe9),''+_0x457cbf+_0x69aea2+_0x2e9e57(0xf6)+_0xbe4a39+'\x20'+_0x18e97c+'\x20#'+formatResult(_0x74943e,0x8)+'\x20@'+formatResult(_0x51230b,0x8));let _0x597f22;_0x43bd21==_0x2e9e57(0x8d)?_0x18e97c==_0x2e9e57(0x1ca)&&[_0x2e9e57(0xac),_0x2e9e57(0xcb),_0x2e9e57(0x1f4),_0x2e9e57(0xdf),_0x2e9e57(0x209)][_0x2e9e57(0xd6)](config[_0x2e9e57(0x180)])?_0x597f22=await exchange['createOrder'](_0xbe4a39,_0x43bd21,_0x18e97c,_0x74943e,_0x51230b):_0x597f22=await exchange[_0x2e9e57(0xf9)](_0xbe4a39,_0x43bd21,_0x18e97c,_0x74943e,undefined):_0x597f22=await exchange[_0x2e9e57(0xf9)](_0xbe4a39,_0x43bd21,_0x18e97c,_0x74943e,_0x51230b);logger[_0x2e9e57(0x115)](_0x2e9e57(0x121)+_0x597f22['id']+'\x20|\x20Custom\x20ID:\x20'+_0x597c4b);const _0x3aac00=lastOrders[_0x2e9e57(0x183)]-0x1;if(_0x3aac00>=0x0&&lastOrders[_0x3aac00][_0x2e9e57(0x1fe)]==_0x597c4b){lastOrders[_0x3aac00][_0x2e9e57(0x1bd)]=_0x597f22['id'];if(_0x597f22[_0x2e9e57(0x8a)])lastOrders[_0x3aac00][_0x2e9e57(0x8a)]=_0x597f22[_0x2e9e57(0x8a)];if(_0x597f22['price'])lastOrders[_0x3aac00][_0x2e9e57(0xb5)]=_0x597f22[_0x2e9e57(0xb5)];lastOrders[_0x3aac00]['fee']=_0x597f22[_0x2e9e57(0xc9)];}if(config[_0x2e9e57(0x1fd)]!=0x0){let _0x4745b4=null;if(cooldownTracker[_0x2e9e57(0x183)]==config[_0x2e9e57(0x1fd)]-0x1)_0x4745b4=cooldownTracker[_0x2e9e57(0x146)]();const _0x5b5408=getTimeStamp();cooldownTracker['push'](_0x5b5408);if(_0x4745b4){const _0x3945a7=fns[_0x2e9e57(0x126)](new Date(_0x5b5408),new Date(_0x4745b4));if(_0x3945a7<cooldownInterval){logHistory(_0x2e9e57(0x18b),_0x2e9e57(0x15e)+config['cooldown']+_0x2e9e57(0x124)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x3d4713){if(_0x3d4713[_0x2e9e57(0x1c0)]()[_0x2e9e57(0xd6)](_0x2e9e57(0x143)))lastOrders=lastOrders['filter'](_0x3b1da6=>_0x3b1da6[_0x2e9e57(0x203)]!=_0xbe4a39),logHistory(_0x2e9e57(0x18b),_0x2e9e57(0x1f5)+_0xbe4a39),_0x320c3c=!![];else{if(_0x3d4713[_0x2e9e57(0x1c0)]()[_0x2e9e57(0xd6)](_0x2e9e57(0x1ec)))lastOrders=lastOrders[_0x2e9e57(0x1a5)](_0x348636=>_0x348636[_0x2e9e57(0x203)]!=_0xbe4a39),logHistory('error',_0x2e9e57(0x170)+_0xbe4a39),_0x320c3c=!![];else{if(_0x3d4713[_0x2e9e57(0x1c0)]()[_0x2e9e57(0xd6)](_0x2e9e57(0x129)))lastOrders=lastOrders[_0x2e9e57(0x1a5)](_0x5b540e=>_0x5b540e[_0x2e9e57(0x203)]!=_0xbe4a39),logHistory(_0x2e9e57(0x18b),_0x2e9e57(0xdd)+_0xbe4a39),logger[_0x2e9e57(0x115)](_0x3d4713),_0x320c3c=!![];else _0x3d4713[_0x2e9e57(0x1c0)]()[_0x2e9e57(0xd6)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x2e9e57(0x1a5)](_0x3ba127=>_0x3ba127[_0x2e9e57(0x203)]!=_0xbe4a39),logHistory(_0x2e9e57(0x18b),_0x2e9e57(0x1f5)+_0xbe4a39),_0x320c3c=!![]):(lastOrders=lastOrders[_0x2e9e57(0x1a5)](_0x3660f1=>_0x3660f1[_0x2e9e57(0x203)]!=_0xbe4a39),await handleError(_0x3d4713,_0x2e9e57(0x1b2),_0xbe4a39));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x38285b=config[_0x2e9e57(0xf1)]==_0x2e9e57(0x8d)?validateOrderTimeout*0x3c*0x3e8:config[_0x2e9e57(0x182)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xa5d2=_0x2e9e57;validateOrders(_0xa5d2(0x96));},_0x38285b);}else unlockOrders();_0x320c3c&&config[_0x2e9e57(0x172)]&&(logHistory('error',_0x2e9e57(0x214)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x2e9e57(0x15f),_0x2e9e57(0x1e4)));}else{if(coolingDown)!config[_0x2e9e57(0x172)]&&logHistory('error',_0x2e9e57(0xc8));else lockOrders!=ORDERS[_0x2e9e57(0x1d8)]&&(!config['headless']&&(config[_0x2e9e57(0xf1)]==_0x2e9e57(0x8d)?logHistory(_0x2e9e57(0x18b),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error',_0x2e9e57(0x1c6))));}}function persistOpenOrders(_0xfd35f2){const _0x51ba4c=_0x2a4034,_0x5dd25e={...config,'openOrders':_0xfd35f2};let _0x461c11=dbConfig[_0x51ba4c(0xa9)](_0x51ba4c(0x1e9))[_0x51ba4c(0x173)]({'botID':botID})['value']();_0x461c11&&dbConfig[_0x51ba4c(0xa9)](_0x51ba4c(0x1e9))[_0x51ba4c(0x173)]({'botID':botID})[_0x51ba4c(0x1b9)](_0x5dd25e)[_0x51ba4c(0x145)]();}function restoreOrders(){const _0x2379d0=_0x2a4034;let _0x325215;config[_0x2379d0(0x14f)]&&allOpenOrders[_0x2379d0(0xf5)](_0x36c937=>{const _0x4af000=_0x2379d0,_0x3f7c96=config[_0x4af000(0x14f)][_0x4af000(0x173)](_0x271c9a=>_0x271c9a['orderId']==_0x36c937['id']);_0x3f7c96&&(lastOrders[_0x4af000(0x1ea)](_0x3f7c96),_0x325215=_0x36c937[_0x4af000(0x1d9)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x2379d0(0xce)],validateOrdersState=_0x2379d0(0x181),allOrdersPlaced=!![];const _0x5de188=new Date()[_0x2379d0(0xdb)](),_0x5a925d=config['ordertype']==_0x2379d0(0x8d)?validateOrderTimeout*0x3c*0x3e8:config[_0x2379d0(0x182)]*0x3c*0x3e8;if(_0x325215+_0x5a925d>_0x5de188){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x176746=_0x2379d0;validateOrders(_0x176746(0x96));},_0x325215+_0x5a925d-_0x5de188);}else validateOrders(_0x2379d0(0x96));}}async function sendMetricsTelegram(){const _0x23f48f=_0x2a4034;if(!coinsLoaded){process[_0x23f48f(0x8e)]({'telegrammsg':_0x23f48f(0x1eb)},_0x28fed8=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x531090='';if(config[_0x23f48f(0x92)])_0x531090=_0x23f48f(0x122)+config[_0x23f48f(0x1d5)]+_0x23f48f(0x1ac);else _0x531090=_0x23f48f(0x13b)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x44f73a=getKPIs(_0x23f48f(0x1c9)),_0x12fbb9=getKPIs('fiat',config[_0x23f48f(0xf7)]),_0x49bb7f=getKPIs(_0x23f48f(0xb8)),_0x1d5d32=getKPIs(_0x23f48f(0x8f),config[_0x23f48f(0xf7)]);_0x531090+='<pre>',_0x531090+=_0x44f73a[_0x23f48f(0x1a8)]+_0x23f48f(0x147)+_0x44f73a[_0x23f48f(0x1fb)]+'\x0a',_0x531090+=_0x44f73a['rightTxt']+':\x20'+_0x44f73a['change']+'%\x0a',_0x531090+=_0x12fbb9[_0x23f48f(0x1a8)]+_0x23f48f(0x147)+_0x12fbb9[_0x23f48f(0x1fb)]+'\x0a',_0x531090+=_0x12fbb9['rightTxt']+':\x20'+_0x12fbb9['change']+'%\x0a',_0x531090+=_0x49bb7f[_0x23f48f(0x1a8)]+':\x20'+_0x49bb7f[_0x23f48f(0x1fb)]+'\x20('+config[_0x23f48f(0x1c9)]+')\x0a',_0x531090+=_0x49bb7f[_0x23f48f(0x186)]+':\x20'+_0x49bb7f[_0x23f48f(0x8b)]+_0x23f48f(0x167)+config[_0x23f48f(0x1c9)]+')\x0a',_0x531090+=_0x1d5d32[_0x23f48f(0x1a8)]+':\x20'+_0x1d5d32[_0x23f48f(0x1fb)]+'\x20('+config[_0x23f48f(0xf7)]+')\x0a',_0x531090+=_0x1d5d32[_0x23f48f(0x186)]+':\x20'+_0x1d5d32['change']+_0x23f48f(0x167)+config[_0x23f48f(0xf7)]+')\x0a',_0x531090+=_0x23f48f(0x1fa),process['send']({'telegrammsg':_0x531090},_0x17b059=>{});}async function sendPortfolioTelegram(){const _0x4360c0=_0x2a4034;if(!coinsLoaded){process[_0x4360c0(0x8e)]({'telegrammsg':_0x4360c0(0x1eb)},_0x3b4d42=>{});return;}let _0x8d28d8='';if(config[_0x4360c0(0x92)])_0x8d28d8=_0x4360c0(0x122)+config[_0x4360c0(0x1d5)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x8d28d8=_0x4360c0(0x13b)+botID+_0x4360c0(0x97);_0x8d28d8+=_0x4360c0(0x109),_0x8d28d8+=_0x4360c0(0x110),_0x8d28d8+=_0x4360c0(0x195),_0x8d28d8+=_0x4360c0(0x110),currentCoins['forEach'](_0xba7e8a=>{const _0x496099=_0x4360c0;_0x8d28d8+=_0xba7e8a[_0x496099(0xfb)]['padEnd'](0x7)+'|\x20'+formatPad(_0xba7e8a[_0x496099(0x153)],0x2,0x6)+'|\x20'+formatPad(_0xba7e8a['target'],0x2,0x6)+'|\x20'+formatPad(_0xba7e8a['delta']*0x64,0x2,0x6)+'\x0a';}),_0x8d28d8+='</pre>',process[_0x4360c0(0x8e)]({'telegrammsg':_0x8d28d8},_0x3e1a63=>{});}function formatPad(_0x390ae7,_0xc1d46c,_0x54efe7){const _0xbac270=_0x2a4034,_0xccb3cd=formatResultString(_0x390ae7,_0xc1d46c);return _0xccb3cd?_0xccb3cd[_0xbac270(0x148)](_0x54efe7):''[_0xbac270(0x148)](_0x54efe7);}function logHistory(_0x483474,_0xdd87e3,_0x43b29f=''){const _0x5186c4=_0x2a4034;logger[_0x5186c4(0x133)](''+_0xdd87e3);let _0x4734cb={'time':getTimeStamp(),'type':_0x483474,'event':_0xdd87e3};dbLogs[_0x5186c4(0xa9)](_0x5186c4(0x12a))[_0x5186c4(0x1ea)](_0x4734cb)[_0x5186c4(0x145)]();if(_0x43b29f=='')_0x43b29f=_0xdd87e3;proxyEmit(_0x5186c4(0x1e5),{'log':_0x4734cb,'summary':_0x43b29f}),process[_0x5186c4(0x8e)]({'telegram':{..._0x4734cb,'botname':config[_0x5186c4(0x1d5)],'showname':config['showname']}},_0x2925bf=>{});}function emitHistory(_0x52b627={}){const _0x47ee0f=_0x2a4034;Object[_0x47ee0f(0x197)](_0x52b627)[_0x47ee0f(0x183)]==0x0&&(_0x52b627={'type':[_0x47ee0f(0xe9),_0x47ee0f(0x1e5)],'event':'','page':0x1});if(_0x52b627[_0x47ee0f(0xdc)][_0x47ee0f(0xd6)]('event'))_0x52b627[_0x47ee0f(0xdc)]['splice'](_0x52b627[_0x47ee0f(0xdc)][_0x47ee0f(0x13f)]('event'),0x1,'error',_0x47ee0f(0xe4),'success');if(dbLogs[_0x47ee0f(0xbc)](_0x47ee0f(0x12a))[_0x47ee0f(0x1fb)]()){let _0x516022=dbLogs['get'](_0x47ee0f(0x12a))[_0x47ee0f(0x1a5)](_0x22b385=>{const _0x3e9315=_0x47ee0f;if(_0x52b627[_0x3e9315(0xdc)][_0x3e9315(0x183)]==0x0)return![];else return _0x52b627[_0x3e9315(0xdc)][_0x3e9315(0xd6)](_0x22b385[_0x3e9315(0xdc)]);})[_0x47ee0f(0x1a5)](_0x39e29b=>{const _0x35fa9f=_0x47ee0f;if(_0x52b627[_0x35fa9f(0x1e5)]=='')return!![];else return _0x39e29b['event'][_0x35fa9f(0x1f2)]()[_0x35fa9f(0xd6)](_0x52b627[_0x35fa9f(0x1e5)][_0x35fa9f(0x1f2)]());})[_0x47ee0f(0x1e1)](_0x47ee0f(0xbb)),_0x5a879f=_0x516022[_0x47ee0f(0x1fb)]()[_0x47ee0f(0x183)];_0x516022=_0x516022[_0x47ee0f(0xc4)]()[_0x47ee0f(0x142)]((_0x52b627['page']-0x1)*logPageSize,_0x52b627[_0x47ee0f(0x117)]*logPageSize-0x1)['reverse']()[_0x47ee0f(0x1fb)](),proxyEmit('event-history',{'logs':_0x516022,'total':_0x5a879f});}else proxyEmit(_0x47ee0f(0x18e),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x33e848){const _0x140fa9=_0x2a4034;if(dbLogs[_0x140fa9(0xbc)](_0x140fa9(0x12a))[_0x140fa9(0x1fb)]()){const _0x377f4c=dbLogs[_0x140fa9(0xa9)]('logs')[_0x140fa9(0x1e1)]('time')[_0x140fa9(0x1a5)](_0x11b309=>{const _0x12e603=_0x140fa9;return _0x11b309['type']==_0x12e603(0xe9);})[_0x140fa9(0x1fb)]();dbLogs[_0x140fa9(0xa9)](_0x140fa9(0x12a))[_0x140fa9(0x120)]()[_0x140fa9(0x145)](),dbLogs[_0x140fa9(0xa9)](_0x140fa9(0x12a))[_0x140fa9(0x1b9)](_0x377f4c)[_0x140fa9(0x145)](),emitHistory(_0x33e848);}}async function pauseBot(_0x1ca930=pauseBotInterval){const _0x145b93=_0x2a4034,_0x1af0d5=new Date()[_0x145b93(0xdb)]();if(!lastErrorShown||_0x1af0d5-lastErrorShown>=_0x1ca930){lastErrorShown=_0x1af0d5;!lastBotPause?(lastBotPause=_0x1af0d5,consecutivePauses=0x1):(_0x1af0d5-lastBotPause-_0x1ca930<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x145b93(0x8e)]({'stop':'restart'},_0x4754af=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x145b93(0xdb)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x1ca930),botPaused=![],reset(!![]);}}}async function killBot(){const _0x202e6c=_0x2a4034;botPaused=!![],await sleep(0x3e8),process[_0x202e6c(0x8e)]({'stop':'kill'},_0x7af8d4=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x253fd8,_0x4b75ae){const _0x5b9b46=_0x2a4034;if(botPaused)return;const _0x3abc62=config[_0x5b9b46(0x180)]||'Exchange';if(_0x4b75ae)logger[_0x5b9b46(0x115)](_0x5b9b46(0x101)+_0x4b75ae);const _0x1fe0fa=()=>{const _0x5c65fb=_0x5b9b46;loading[_0x5c65fb(0x18b)]=!![],emitLoadingProgress();};if(_0x253fd8[_0x5b9b46(0x1c0)]()[_0x5b9b46(0xd6)]('API-key\x20format\x20invalid'))logHistory(_0x5b9b46(0x18b),_0x3abc62+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),_0x1fe0fa();else{if(_0x253fd8[_0x5b9b46(0x1c0)]()[_0x5b9b46(0xd6)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5b9b46(0x18b),_0x3abc62+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),_0x1fe0fa();else _0x253fd8[_0x5b9b46(0x1c0)]()['includes'](_0x5b9b46(0x1ae))?(logHistory(_0x5b9b46(0x18b),_0x3abc62+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x5b9b46(0x18b),_0x5b9b46(0x1c3)),_0x1fe0fa()):await handleError(_0x253fd8,null);}}async function handleError(_0x1e4b3e,_0x18c31f,_0x3148c1=''){const _0x26efae=_0x2a4034;if(botPaused)return;const _0x3e435d=config[_0x26efae(0x180)]||_0x26efae(0x210);if(_0x18c31f)logger[_0x26efae(0x115)](_0x26efae(0x101)+_0x18c31f);if(_0x1e4b3e['toString']()[_0x26efae(0xd6)]('DDoSProtection')||_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0xcc)))logHistory('error',_0x3e435d+_0x26efae(0x105)+pauseBotMsg),await pauseBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0xc0))||_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0x19a)))logHistory(_0x26efae(0x18b),_0x3e435d+_0x26efae(0x1d3)+pauseBotMsg),await pauseBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0x1cb)))logHistory(_0x26efae(0x18b),_0x3e435d+_0x26efae(0x14e)+pauseBotMsg),await pauseBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory(_0x26efae(0x18b),_0x3e435d+_0x26efae(0xd7)+pauseBotMsg),await pauseBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()['includes'](_0x26efae(0x12f)))logHistory('error',_0x26efae(0x13d)),logHistory(_0x26efae(0x18b),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0x1aa)))logHistory(_0x26efae(0x18b),_0x3e435d+_0x26efae(0x1f0)+pauseBotMsgLong),logHistory(_0x26efae(0x18b),_0x26efae(0x12b)),await pauseBot(pauseBotIntervalLong);else{if(_0x1e4b3e instanceof ccxt[_0x26efae(0xe3)])logHistory(_0x26efae(0x18b),_0x3e435d+_0x26efae(0x16f)+pauseBotMsg),logger[_0x26efae(0x115)](_0x26efae(0x107),_0x1e4b3e),await pauseBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0x175)))logHistory(_0x26efae(0x18b),_0x3e435d+'\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x26efae(0x216)),await killBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x3e435d+_0x26efae(0x201)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0x1ae)))logHistory(_0x26efae(0x18b),_0x3e435d+_0x26efae(0x93)),logHistory(_0x26efae(0x18b),_0x26efae(0x216)),await killBot();else{if(_0x1e4b3e[_0x26efae(0x1c0)]()[_0x26efae(0xd6)](_0x26efae(0x1a1)))logHistory('error',_0x3e435d+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions'),logHistory(_0x26efae(0x18b),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1e4b3e['toString']()[_0x26efae(0xd6)](_0x26efae(0x189)))logHistory(_0x26efae(0x18b),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x3148c1);else _0x1e4b3e instanceof ccxt[_0x26efae(0x204)]?(logHistory(_0x26efae(0x18b),_0x3e435d+'\x20exchange\x20error'),logger[_0x26efae(0x115)](_0x26efae(0x107),_0x1e4b3e)):(logHistory(_0x26efae(0x18b),_0x26efae(0x1bc)+pauseBotMsg),logger[_0x26efae(0x115)](_0x26efae(0x107),_0x1e4b3e),await pauseBot());}}}}}}}}}}}}function formatResult(_0x3a229a,_0x4a5199){return parseFloat(_0x3a229a['toFixed'](_0x4a5199));}function formatResultTruncate(_0x54a9b5,_0x2913b4){let _0x2f9736=formatResultString(_0x54a9b5,0xa),_0x3fb07d=_0x2f9736['indexOf']('.');return _0x3fb07d!=-0x1&&(_0x2f9736=_0x2f9736['slice'](0x0,_0x3fb07d+_0x2913b4+0x1)),Number(_0x2f9736);}function formatResultString(_0x1a61b0,_0x1aa3ae){const _0x2a5e47=_0x2a4034;let _0x34d2fa;if(!(''+_0x1a61b0)[_0x2a5e47(0xd6)]('e'))_0x34d2fa=+(Math[_0x2a5e47(0x1c7)](_0x1a61b0+'e+'+_0x1aa3ae)+'e-'+_0x1aa3ae);else{let _0x25534d=(''+_0x1a61b0)[_0x2a5e47(0x89)]('e'),_0x28a4b3='';+_0x25534d[0x1]+_0x1aa3ae>0x0&&(_0x28a4b3='+'),_0x34d2fa=+(Math[_0x2a5e47(0x1c7)](+_0x25534d[0x0]+'e'+_0x28a4b3+(+_0x25534d[0x1]+_0x1aa3ae))+'e-'+_0x1aa3ae);}return Number(_0x34d2fa)[_0x2a5e47(0x11e)](_0x1aa3ae);}function getServerTime(){const _0x2632bf=_0x2a4034,_0x3f524e=new Date();return _0x3f524e[_0x2632bf(0xd5)]()+'/'+(_0x3f524e[_0x2632bf(0x116)]()+0x1)[_0x2632bf(0x1c0)]()[_0x2632bf(0x148)](0x2,'0')+'/'+_0x3f524e['getDate']()[_0x2632bf(0x1c0)]()[_0x2632bf(0x148)](0x2,'0')+'\x20'+_0x3f524e[_0x2632bf(0xd1)]()['toString']()[_0x2632bf(0x148)](0x2,'0')+':'+_0x3f524e[_0x2632bf(0x131)]()[_0x2632bf(0x1c0)]()[_0x2632bf(0x148)](0x2,'0')+':'+_0x3f524e['getSeconds']()[_0x2632bf(0x1c0)]()[_0x2632bf(0x148)](0x2,'0');}function getTimeStamp(){const _0x218081=_0x2a4034,_0x8347e3=shiftedTime();return _0x8347e3[_0x218081(0xd5)]()+'/'+(_0x8347e3[_0x218081(0x116)]()+0x1)[_0x218081(0x1c0)]()[_0x218081(0x148)](0x2,'0')+'/'+_0x8347e3[_0x218081(0x87)]()[_0x218081(0x1c0)]()[_0x218081(0x148)](0x2,'0')+'\x20'+_0x8347e3['getHours']()[_0x218081(0x1c0)]()['padStart'](0x2,'0')+':'+_0x8347e3[_0x218081(0x131)]()[_0x218081(0x1c0)]()[_0x218081(0x148)](0x2,'0')+':'+_0x8347e3['getSeconds']()['toString']()[_0x218081(0x148)](0x2,'0');}function getDate(){const _0x13ef85=_0x2a4034,_0x4ac909=shiftedTime();return _0x4ac909[_0x13ef85(0xd5)]()+'/'+(_0x4ac909['getMonth']()+0x1)[_0x13ef85(0x1c0)]()[_0x13ef85(0x148)](0x2,'0')+'/'+_0x4ac909['getDate']()[_0x13ef85(0x1c0)]()[_0x13ef85(0x148)](0x2,'0');}function getHour(){const _0x403e46=_0x2a4034,_0x186ee4=shiftedTime();return _0x186ee4[_0x403e46(0xd1)]()['toString']()[_0x403e46(0x148)](0x2,'0');}function sleep(_0x39e634){return new Promise(_0x1ed152=>setTimeout(_0x1ed152,_0x39e634));}function shiftedTime(){const _0x25368c=_0x2a4034,_0x37bd76=new Date();let _0x4797e5=_0x37bd76;if(config&&config[_0x25368c(0x111)]!==0x0)_0x4797e5=fns[_0x25368c(0x1b1)](_0x37bd76,{'hours':config[_0x25368c(0x111)]});return _0x4797e5;}function timer(_0x423676){const _0xc1910c=_0x2a4034,_0x36d69e=new Date();!lasttime?console[_0xc1910c(0x21a)](getTimeStamp()+_0xc1910c(0xa6),_0x423676,_0x36d69e):console[_0xc1910c(0x21a)](getTimeStamp()+':\x20timer\x20>',_0x423676,(_0x36d69e-lasttime)/0x3e8),lasttime=_0x36d69e;}