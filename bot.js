const _0x14b281=_0x34b4;(function(_0x2077f5,_0x545685){const _0x1f03c5=_0x34b4,_0x73457f=_0x2077f5();while(!![]){try{const _0x5d882b=-parseInt(_0x1f03c5(0x1e5))/0x1+parseInt(_0x1f03c5(0x298))/0x2+parseInt(_0x1f03c5(0x1eb))/0x3+-parseInt(_0x1f03c5(0x1a0))/0x4*(parseInt(_0x1f03c5(0x240))/0x5)+-parseInt(_0x1f03c5(0x230))/0x6*(-parseInt(_0x1f03c5(0x1aa))/0x7)+parseInt(_0x1f03c5(0x1b8))/0x8+-parseInt(_0x1f03c5(0x1f3))/0x9*(-parseInt(_0x1f03c5(0x221))/0xa);if(_0x5d882b===_0x545685)break;else _0x73457f['push'](_0x73457f['shift']());}catch(_0x38f806){_0x73457f['push'](_0x73457f['shift']());}}}(_0x3a97,0xd1fa6));const _0x1e8fac=function(){let _0x3ffb6a=!![];return function(_0x54ffed,_0x1c881d){const _0x39620a=_0x3ffb6a?function(){if(_0x1c881d){const _0x35fce7=_0x1c881d['apply'](_0x54ffed,arguments);return _0x1c881d=null,_0x35fce7;}}:function(){};return _0x3ffb6a=![],_0x39620a;};}(),_0x10a565=_0x1e8fac(this,function(){const _0x45746a=_0x34b4;return _0x10a565[_0x45746a(0x1dc)]()[_0x45746a(0x25c)]('(((.+)+)+)+$')[_0x45746a(0x1dc)]()[_0x45746a(0x1bc)](_0x10a565)['search'](_0x45746a(0x2d1));});_0x10a565();function _0x34b4(_0x2b5ce7,_0x1f8210){const _0xeb51d3=_0x3a97();return _0x34b4=function(_0x10a565,_0x1e8fac){_0x10a565=_0x10a565-0x189;let _0x3a97ad=_0xeb51d3[_0x10a565];return _0x3a97ad;},_0x34b4(_0x2b5ce7,_0x1f8210);}'use strict';const ccxt=require('ccxt')[_0x14b281(0x1ec)],low=require(_0x14b281(0x1a7)),FileSync=require(_0x14b281(0x205)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x14b281(0x294))['Crypt'],util=require(_0x14b281(0x1b3));let exchange;global['ticker']={},global[_0x14b281(0x1c4)]={};const exceptions={'binance':[_0x14b281(0x28a),_0x14b281(0x24d),_0x14b281(0x1b6),'NANO/',_0x14b281(0x1ef)]};let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x14b281(0x1e2)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x14b281(0x238)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require(_0x14b281(0x1d8))[_0x14b281(0x2d8)],botID=process[_0x14b281(0x1d6)][0x2]||_0x14b281(0x18c),pattern=/^[0-9]{3}$/;!pattern[_0x14b281(0x1db)](botID)&&(console['log'](_0x14b281(0x1de)+botID+_0x14b281(0x235)),killBot());const userID=process[_0x14b281(0x1d6)][0x3]||'',configpath=userID?_0x14b281(0x1b9)+userID+'/':'./config/',logspath=userID?_0x14b281(0x1d9)+userID+'/':'./logs/',loggerfile=fs['createWriteStream'](logspath+_0x14b281(0x22b),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x14b281(0x244)](configpath);!fs[_0x14b281(0x23a)](logspath)&&fs[_0x14b281(0x244)](logspath);const configfile=configpath+_0x14b281(0x1fb)+botID+_0x14b281(0x1da),logfile=configpath+'bot-'+botID+_0x14b281(0x2a9),performancefile=configpath+_0x14b281(0x1fb)+botID+'-performance.json',coinresultsfile=configpath+_0x14b281(0x1fb)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x14b281(0x1c1),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x14b281(0x2a3)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x14b281(0x2a3)]({'data':[],'version':serverversion})[_0x14b281(0x223)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x14b281(0x2a3)]({'coins':[],'version':serverversion})[_0x14b281(0x223)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x14b281(0x197)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x52dedb=>{const _0x36237c=_0x14b281;console[_0x36237c(0x23f)](_0x52dedb);},'simple':_0x37f53d=>{const _0x1e0d17=_0x14b281;console[_0x1e0d17(0x23f)](_0x37f53d),loggerfile[_0x1e0d17(0x223)](util[_0x1e0d17(0x1d7)](_0x37f53d)+'\x0a');},'full':async(_0x5afb10,_0x245619='')=>{const _0x56c660=_0x14b281;let _0x5b3805;if(config[_0x56c660(0x1cb)])_0x5b3805=getTimeStamp()+':\x20'+config[_0x56c660(0x252)]+_0x56c660(0x245)+_0x5afb10;else _0x5b3805=getTimeStamp()+_0x56c660(0x239)+botID+'\x20>\x20'+_0x5afb10;console[_0x56c660(0x23f)](_0x5b3805),loggerfile['write'](util[_0x56c660(0x1d7)](_0x5b3805)+'\x0a'),_0x245619&&(console[_0x56c660(0x23f)](_0x245619),loggerfile[_0x56c660(0x223)](util[_0x56c660(0x1d7)](_0x245619)+'\x0a'));},'debug':async(_0x35b241,_0x4d8590='')=>{const _0x2f95ce=_0x14b281;let _0x21c321;if(config[_0x2f95ce(0x1cb)])_0x21c321=getTimeStamp()+':\x20'+config[_0x2f95ce(0x252)]+_0x2f95ce(0x1f0)+_0x35b241;else _0x21c321=getTimeStamp()+_0x2f95ce(0x239)+botID+_0x2f95ce(0x1f0)+_0x35b241;if(debugLoggingScreen)console[_0x2f95ce(0x23f)](_0x21c321);loggerfile[_0x2f95ce(0x223)](util[_0x2f95ce(0x1d7)](_0x21c321)+'\x0a');if(_0x4d8590){if(debugLoggingScreen)console[_0x2f95ce(0x23f)](_0x4d8590);loggerfile[_0x2f95ce(0x223)](util[_0x2f95ce(0x1d7)](_0x4d8590)+'\x0a');}}};process['on']('uncaughtException',function(_0x4e1a9a){const _0xaf58fd=_0x14b281;logger[_0xaf58fd(0x1fc)](_0x4e1a9a);});settings[_0x14b281(0x29e)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);process['send']({'started':'running'},_0x45f1b5=>{}),initializeProcessListeners();function proxyEmit(_0x520829,_0x4b3b5c=null){const _0x1aa712=_0x14b281;process[_0x1aa712(0x18f)]({'function':_0x520829,'args':_0x4b3b5c},_0x5e4097=>{});}function initializeProcessListeners(){process['on']('message',_0x21bafb=>{const _0x3030df=_0x34b4;switch(Object[_0x3030df(0x1bd)](_0x21bafb)[0x0]){case _0x3030df(0x29e):_0x21bafb[_0x3030df(0x29e)]!=undefined&&(settings[_0x3030df(0x29e)]=_0x21bafb['timeshift'],updateTimeshift(settings['timeshift']));break;case _0x3030df(0x237):switch(_0x21bafb['function']){case'initclient':initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x3030df(0x25f):emitHistory(_0x21bafb[_0x3030df(0x254)]);break;case _0x3030df(0x1ab):deleteHistoryAlerts(_0x21bafb[_0x3030df(0x254)]);break;case'getPortfolio':getPortfolio(_0x21bafb[_0x3030df(0x254)]);break;case _0x3030df(0x1ae):storeConfiguration(_0x21bafb[_0x3030df(0x254)]);break;case _0x3030df(0x19f):storeHeadless(_0x21bafb['args']);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x3030df(0x227):placeOrder(_0x21bafb['args']);break;case _0x3030df(0x25b):cancelLoading();break;case _0x3030df(0x248):showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset();async function reset(_0x57919b=null,_0x53632c=![]){const _0x8d3cf0=_0x14b281;logger[_0x8d3cf0(0x2d2)](_0x8d3cf0(0x255)+(_0x57919b!=null)+'\x20|\x20'+_0x53632c);if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x53632c)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config[_0x8d3cf0(0x263)]!=''&&config[_0x8d3cf0(0x263)]!=_0x8d3cf0(0x22f)){await initExchange();let _0x1bcbd0=![];_0x1bcbd0=await loadSymbols();if(_0x1bcbd0){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x57919b),exchangeStopped=![];if(lastOrders[_0x8d3cf0(0x1d5)]==0x0&&allOpenOrders[_0x8d3cf0(0x1d5)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x49f277=_0x14b281;logger[_0x49f277(0x2d2)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x49f277(0x238)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x49f277(0x2d2)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x4f0692=config['exchange'],_0x353976=config[_0x14b281(0x263)],_0x380601=config[_0x14b281(0x18a)]){const _0x20d309=_0x14b281;exchange&&await stopExchange();!supportedExchanges()[_0x20d309(0x1c7)](_0x4f0692)&&(logger['full'](_0x20d309(0x216)+_0x4f0692+_0x20d309(0x195)),killBot());const _0x1f3e37=ccxt[_0x4f0692[_0x20d309(0x1f5)]()];exchange=new _0x1f3e37({'apiKey':_0x353976,'secret':_0x380601,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x2d2f78=_0x14b281;let _0xbdf92f=config['basecoin']==_0x2d2f78(0x206)?_0x2d2f78(0x206):_0x2d2f78(0x2ab),_0x1fd751=!allSymbols[_0x2d2f78(0x1c7)](_0xbdf92f+_0x2d2f78(0x191))?_0x2d2f78(0x246):_0x2d2f78(0x1ad),_0x40e017=!allSymbols[_0x2d2f78(0x1c7)](_0xbdf92f+_0x2d2f78(0x2c3))?_0x1fd751:_0x2d2f78(0x26e);stablecoins={'eur':{'coin':''+_0xbdf92f+_0x40e017,'symbol':_0xbdf92f+'/'+_0x40e017},'usd':{'coin':''+_0xbdf92f+_0x1fd751,'symbol':_0xbdf92f+'/'+_0x1fd751}};}async function initwsCcxt(_0x5c96f6){const _0x5d4430=_0x14b281;_0x5c96f6==null&&(_0x5c96f6=[],currentCoins[_0x5d4430(0x20f)](_0x183653=>{const _0x4dea6e=_0x5d4430;if(_0x183653[_0x4dea6e(0x2d9)]!=config[_0x4dea6e(0x22e)])_0x5c96f6[_0x4dea6e(0x1c2)](_0x183653[_0x4dea6e(0x266)]);}));if(!_0x5c96f6[_0x5d4430(0x1c7)](stablecoins[_0x5d4430(0x284)][_0x5d4430(0x266)]))_0x5c96f6[_0x5d4430(0x1c2)](stablecoins[_0x5d4430(0x284)][_0x5d4430(0x266)]);if(!_0x5c96f6[_0x5d4430(0x1c7)](stablecoins[_0x5d4430(0x19b)]['symbol']))_0x5c96f6['push'](stablecoins[_0x5d4430(0x19b)][_0x5d4430(0x266)]);if(!_0x5c96f6[_0x5d4430(0x1c7)]('BNB/'+config[_0x5d4430(0x22e)]))_0x5c96f6['push'](_0x5d4430(0x213)+config[_0x5d4430(0x22e)]);loadCoins(_0x5c96f6);const _0x303bb1=async _0x34ac7f=>{const _0x5a312a=_0x5d4430,_0x2a18df=await exchange[_0x5a312a(0x23e)](_0x34ac7f);global[_0x5a312a(0x204)][noslash(_0x2a18df[_0x5a312a(0x266)])]=_0x2a18df[_0x5a312a(0x217)];while(!![]){if(!botPaused)try{const _0x57ec75=await exchange[_0x5a312a(0x209)](_0x34ac7f);global[_0x5a312a(0x204)][noslash(_0x57ec75[0x0][_0x5a312a(0x266)])]=_0x57ec75[0x0][_0x5a312a(0x2cb)],await sleep(0x3e8);}catch(_0x3710d7){if(!exchangeStopped)await handleError(_0x3710d7,_0x5a312a(0x209),_0x34ac7f);}else await sleep(0x3e8);}},_0x36b36f=async _0x421d30=>{const _0xd009ed=_0x5d4430;while(!![]){if(!botPaused)try{const _0x50b0ff=await exchange[_0xd009ed(0x23e)](_0x421d30);global[_0xd009ed(0x1c4)][_0x50b0ff['symbol']]=_0x50b0ff[_0xd009ed(0x19c)],await sleep(0x2710);}catch(_0x108a73){if(!exchangeStopped)await handleError(_0x108a73,_0xd009ed(0x276),_0x421d30);}else await sleep(0x3e8);}},_0x24ade2=async()=>{const _0x3a1b84=_0x5d4430;while(!![]){if(!botPaused)try{const _0x1d0bcb=await exchange[_0x3a1b84(0x24e)]();_0x1d0bcb[_0x3a1b84(0x20f)](_0x2b29f2=>{updateNumberCoinsCcxt(_0x2b29f2);});}catch(_0x1bcbb0){if(!exchangeStopped)await handleError(_0x1bcbb0,_0x3a1b84(0x24e));}else await sleep(0x3e8);}};_0x5c96f6[_0x5d4430(0x20f)](async _0x34867d=>{_0x303bb1(_0x34867d),_0x36b36f(_0x34867d);}),!wsEventsSet&&(wsEventsSet=!![],_0x24ade2());}async function loadSymbols(){const _0x4d42a4=_0x14b281;if(allSymbols)return!![];let _0x3c8208=![];try{markets=await exchange[_0x4d42a4(0x288)](),allSymbols=exchange['symbols'][_0x4d42a4(0x243)](_0x5333ec=>{const _0x579f5e=_0x4d42a4;let _0x5027d5=![];return exceptions[config[_0x579f5e(0x2ca)][_0x579f5e(0x1f5)]()][_0x579f5e(0x20f)](_0x2e28a5=>{if(_0x5333ec['includes'](_0x2e28a5))_0x5027d5=!![];}),!_0x5027d5;}),_0x3c8208=!![];}catch(_0x29e8c4){_0x3c8208=![],handleError(_0x29e8c4,'loadSymbols()');}return _0x3c8208;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x4b89fc=_0x14b281;proxyEmit(_0x4b89fc(0x1a6),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4b89fc(0x295),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x422120=getNormalizedPerformance();emitPerformance(_0x422120),await getStartingBalances(_0x422120);}async function toggleBotMode(){const _0x3df0d8=_0x14b281;let _0x25fcd7=dbConfig['get'](_0x3df0d8(0x2c4))[_0x3df0d8(0x29f)]({'botID':botID})[_0x3df0d8(0x1cc)]();if(_0x25fcd7){const _0x4dddb7=!_0x25fcd7['headless'];dbConfig[_0x3df0d8(0x27b)](_0x3df0d8(0x2c4))[_0x3df0d8(0x29f)]({'botID':botID})['assign']({'headless':_0x4dddb7})['write'](),config[_0x3df0d8(0x2c2)]=_0x4dddb7,proxyEmit(_0x3df0d8(0x1a6),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x42cf06=>{});}async function loadCoins(_0x109b04){const _0x4c8f6a=_0x14b281;let _0x17cf36,_0x20382c=0x0;loading['remainingSymbols']=[];let _0x1a0bf3=0x0;_0x109b04[_0x4c8f6a(0x20f)](_0xf068e9=>{const _0x5ef97e=_0x4c8f6a;loading['remainingSymbols'][_0x5ef97e(0x1c2)](_0xf068e9);}),loadingCanceled=![];let _0x277d47=![];while(_0x17cf36!=_0x109b04['length']){_0x17cf36=0x0,_0x109b04[_0x4c8f6a(0x20f)](_0x28ea49=>{const _0x3bbcd4=_0x4c8f6a;global[_0x3bbcd4(0x204)][noslash(_0x28ea49)]&&(loading[_0x3bbcd4(0x256)]=loading[_0x3bbcd4(0x256)][_0x3bbcd4(0x243)](_0x31013c=>_0x31013c!=_0x28ea49),_0x17cf36++);}),loading['progress']=Math[_0x4c8f6a(0x1a8)](_0x17cf36/_0x109b04['length']*0x64);loading[_0x4c8f6a(0x1c3)]!=0x64&&(_0x1a0bf3>0x1e*0x5&&(loading[_0x4c8f6a(0x277)]=!![],emitLoadingProgress()),_0x1a0bf3>0x78*0x5&&!_0x277d47&&(loading['cancel']=!![],emitLoadingProgress(),_0x277d47=!![],logHistory(_0x4c8f6a(0x22a),_0x4c8f6a(0x2b0)+loading[_0x4c8f6a(0x256)][_0x4c8f6a(0x2b2)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory('error',_0x4c8f6a(0x1cd)+loadCoinsRetryInterval/0xea60+_0x4c8f6a(0x293)),pidCoinReloading=setTimeout(()=>{const _0x490173=_0x4c8f6a;process[_0x490173(0x18f)]({'stop':_0x490173(0x2bf)},_0x55a5e3=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x4c8f6a(0x1ce)]=!![],emitLoadingProgress();break;}else _0x17cf36!=_0x20382c&&(_0x20382c=_0x17cf36,emitLoadingProgress()),_0x1a0bf3++,await sleep(0xc8);}_0x17cf36==_0x109b04[_0x4c8f6a(0x1d5)]&&(coinsLoaded=!![],_0x277d47&&logHistory(_0x4c8f6a(0x1e9),_0x4c8f6a(0x29c)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1a86ee=_0x14b281;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x1a86ee(0x2a1)});}function emitLoadingProgress(){const _0x250351=_0x14b281;proxyEmit(_0x250351(0x2b9),loading);}async function getFiat(){const _0x4ce5d0=_0x14b281;let _0x1d7cbb=global[_0x4ce5d0(0x204)][stablecoins[_0x4ce5d0(0x284)][_0x4ce5d0(0x2d9)]],_0x14bbe5=global['ticker'][stablecoins[_0x4ce5d0(0x19b)][_0x4ce5d0(0x2d9)]];return{'eur':Number(_0x1d7cbb),'usd':Number(_0x14bbe5)};}function capitalize(_0x226028){const _0x2b5da4=_0x14b281;return _0x226028['substring'](0x0,0x1)[_0x2b5da4(0x2a4)]()+_0x226028[_0x2b5da4(0x28e)](0x1);}function supportedExchanges(){const _0x181311=_0x14b281,_0x2cc7ac=['ws',_0x181311(0x276),_0x181311(0x23e),_0x181311(0x209),'watchOrders',_0x181311(0x196),_0x181311(0x200),_0x181311(0x1a2),_0x181311(0x220),_0x181311(0x207)];let _0x44b80c=[];const _0x53e0da=ccxt[_0x181311(0x1e3)][_0x181311(0x1b2)](_0x25cb92=>new ccxt[_0x25cb92]())[_0x181311(0x243)](_0x2c84a8=>_0x2c84a8['has']['ws']);return _0x53e0da[_0x181311(0x20f)](_0x1d43bc=>{const _0x1a1bef=_0x181311;let _0x787336=0x0;_0x2cc7ac[_0x1a1bef(0x20f)](_0x2393cf=>{const _0x29c62c=_0x1a1bef;_0x2393cf in _0x1d43bc[_0x29c62c(0x241)]&&_0x1d43bc['has'][_0x2393cf]&&_0x787336++;}),_0x787336==_0x2cc7ac[_0x1a1bef(0x1d5)]&&_0x44b80c[_0x1a1bef(0x1c2)](capitalize(_0x1d43bc['id']));}),_0x44b80c;}function setStartDatePerformance(){const _0x276212=_0x14b281;if(config&&config[_0x276212(0x2b1)][0x0][_0x276212(0x27d)]['length']!=0x0){const _0x4482ba=config[_0x276212(0x2b1)][0x0]['changes'];dbPerformance['get'](_0x276212(0x1b1))[_0x276212(0x29f)]({'date':config['startdate']})[_0x276212(0x2bb)]({'coins':_0x4482ba})[_0x276212(0x223)]();}}async function recreateCoinResults(){const _0x242230=_0x14b281;let _0x28e35e,_0x27dac3=[];try{const _0x25984c=fns[_0x242230(0x1d7)](fns[_0x242230(0x2d0)](config[_0x242230(0x1dd)][_0x242230(0x2aa)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x1d4ca0 of currentCoins){if(_0x1d4ca0[_0x242230(0x2d9)]!=config['basecoin']){let _0x1151df=0x0,_0xae48d5,_0x3e4864;_0x28e35e=await getAllEventOrders(_0x1d4ca0['symbol']);if(_0x28e35e[_0x242230(0x1d5)]>0x0)_0x28e35e['forEach'](_0x299c98=>{const _0x21bda5=_0x242230,_0x1b2908=_0x1d4ca0[_0x21bda5(0x266)]['includes'](config[_0x21bda5(0x22e)]+'/');_0x27dac3[_0x21bda5(0x1c2)]({'datetime':_0x299c98[_0x21bda5(0x1f1)],'coin':_0x1d4ca0[_0x21bda5(0x2d9)],'symbol':_0x1d4ca0[_0x21bda5(0x266)],'side':_0x299c98[_0x21bda5(0x291)],'reverse':_0x1b2908,'amount':formatResult(_0x299c98['filled'],0x8),'filled':formatResult(_0x299c98['filled'],0x8),'price':formatResult(_0x299c98[_0x21bda5(0x2cb)],0x8)}),_0x1151df=_0x299c98['side']=='buy'?_0x1151df+_0x299c98[_0x21bda5(0x1ea)]:_0x1151df-_0x299c98[_0x21bda5(0x1ea)];if(!_0x3e4864)_0x3e4864=_0x299c98[_0x21bda5(0x2cb)];});_0xae48d5=_0x1d4ca0[_0x242230(0x267)]-_0x1151df;let _0x245481;config[_0x242230(0x2b1)][_0x242230(0x20f)](_0x927711=>{const _0x41d9e1=_0x242230;!_0x245481&&(_0x245481=_0x927711[_0x41d9e1(0x27d)]['find'](_0x1ac1f1=>_0x1ac1f1[_0x41d9e1(0x2d9)]==_0x1d4ca0[_0x41d9e1(0x2d9)]),_0x245481&&(_0xae48d5=_0x245481[_0x41d9e1(0x267)],_0x3e4864=_0x245481[_0x41d9e1(0x2cb)]));});let _0x1bd545=dbCoinResults['get'](_0x242230(0x234))[_0x242230(0x29f)]({'coin':_0x1d4ca0[_0x242230(0x2d9)]})[_0x242230(0x1cc)]();_0x1bd545={'coin':_0x1d4ca0[_0x242230(0x2d9)],'number':_0xae48d5,'breakeven':_0x3e4864,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x242230(0x234))['find']({'coin':_0x1d4ca0[_0x242230(0x2d9)]})[_0x242230(0x2bb)](_0x1bd545)[_0x242230(0x223)]();}}_0x27dac3[_0x242230(0x28b)]((_0x555984,_0x3c0a06)=>_0x555984['datetime']>_0x3c0a06[_0x242230(0x1f1)]?0x1:_0x3c0a06[_0x242230(0x1f1)]>_0x555984[_0x242230(0x1f1)]?-0x1:0x0);let _0x4d7a8d=0x0;for(let _0x5dd8fd of _0x27dac3){await updateCoinResults(_0x5dd8fd,!![]);}}catch(_0x4cbec0){await handleError(_0x4cbec0,'recreateCoinResults()');}}async function getAllEventOrders(_0x324577){const _0x26b36e=_0x14b281;let _0x20b7c7=[],_0x5a5a45=dbLogs[_0x26b36e(0x27b)](_0x26b36e(0x210))[_0x26b36e(0x243)](_0x433382=>{const _0xa341a7=_0x26b36e,_0x5198ac=_0x433382[_0xa341a7(0x1ca)][_0xa341a7(0x1f5)]();return _0x5198ac['includes'](_0x324577[_0xa341a7(0x1f5)]())&&(_0x5198ac[_0xa341a7(0x1c7)]('market')&&_0x5198ac['includes'](_0xa341a7(0x2ba))||_0x5198ac[_0xa341a7(0x1c7)](_0xa341a7(0x1ea))&&_0x5198ac[_0xa341a7(0x1c7)]('order'));})[_0x26b36e(0x27c)](_0x26b36e(0x1bb))['value']();return _0x5a5a45[_0x26b36e(0x20f)](_0x56eafe=>{const _0x4b9eb5=_0x26b36e,_0x40ffcd=_0x56eafe[_0x4b9eb5(0x1ca)][_0x4b9eb5(0x1c7)](_0x4b9eb5(0x1b4))?'sell':'buy',_0x5a9940=/#([0-9]|\.)+\s/i,_0x53899b=Number(_0x5a9940[_0x4b9eb5(0x25e)](_0x56eafe[_0x4b9eb5(0x1ca)])[0x0][_0x4b9eb5(0x214)](0x1)),_0x256b59=/@([0-9]|\.)+$/i,_0x4a600d=Number(_0x256b59[_0x4b9eb5(0x25e)](_0x56eafe[_0x4b9eb5(0x1ca)])[0x0]['slice'](0x1));_0x20b7c7['push']({'datetime':_0x56eafe['time'],'coin':symbolToCoin(_0x324577),'symbol':_0x324577,'side':_0x40ffcd,'amount':_0x53899b,'filled':_0x53899b,'price':_0x4a600d});}),_0x20b7c7;}async function getAllOrders(_0x3bebc4,_0x3f3c88){const _0x30ea39=_0x14b281;let _0x36097a=[];while(_0x3f3c88<exchange[_0x30ea39(0x1a5)]()){const _0x2abab4=0x1f4,_0x10f551=await exchange[_0x30ea39(0x220)](_0x3bebc4,_0x3f3c88,_0x2abab4);if(_0x10f551[_0x30ea39(0x1d5)])_0x3f3c88=_0x10f551[_0x10f551[_0x30ea39(0x1d5)]-0x1][_0x30ea39(0x1d3)]+0x1,_0x36097a=_0x36097a[_0x30ea39(0x1e0)](_0x10f551);else break;}return _0x36097a;}async function validate24hChanges(){const _0x31a4f0=_0x14b281;for(const _0x55a0b1 of currentCoins){if(_0x55a0b1[_0x31a4f0(0x2d9)]!=config[_0x31a4f0(0x22e)]){let _0x439ae5;_0x55a0b1[_0x31a4f0(0x1f2)]?_0x439ae5=formatResult((0x1/(global[_0x31a4f0(0x1c4)][noslash(_0x55a0b1[_0x31a4f0(0x266)])]/0x64+0x1)-0x1)*0x64,0x3):_0x439ae5=global[_0x31a4f0(0x1c4)][noslash(_0x55a0b1[_0x31a4f0(0x266)])],_0x439ae5<config[_0x31a4f0(0x229)]&&(logHistory(_0x31a4f0(0x22a),_0x55a0b1[_0x31a4f0(0x2d9)]+_0x31a4f0(0x24f)+_0x439ae5+'%'),logHistory(_0x31a4f0(0x22a),_0x31a4f0(0x2a6)),logHistory(_0x31a4f0(0x22a),_0x31a4f0(0x2a2)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x61a876,_0x29a40e){const _0x123cd0=_0x14b281,_0x49230f=_0x29a40e['split']('.'),_0x162e80=_0x61a876[_0x123cd0(0x1ed)]('.');for(var _0x5ab57d=0x0;_0x5ab57d<_0x162e80[_0x123cd0(0x1d5)];_0x5ab57d++){const _0x250f36=~~_0x162e80[_0x5ab57d],_0x35f8ce=~~_0x49230f[_0x5ab57d];if(_0x250f36<_0x35f8ce)return!![];if(_0x250f36>_0x35f8ce)return![];}return![];}async function oneTimeMigration(){const _0x496eea=_0x14b281;let _0x23ee15=dbLogs[_0x496eea(0x27b)](_0x496eea(0x2d8))[_0x496eea(0x1cc)]();if(isOlderVersion(_0x23ee15,_0x496eea(0x2d6))){dbLogs[_0x496eea(0x289)](_0x496eea(0x2d8),_0x496eea(0x2d6))['write']();let _0x4d3677=[];const _0x591475=dbLogs['get'](_0x496eea(0x210))[_0x496eea(0x1cc)]();_0x591475[_0x496eea(0x20f)](_0x342fcf=>{const _0x3346dc=_0x496eea;_0x4d3677['push']({'time':_0x342fcf[_0x3346dc(0x1bb)],'type':_0x342fcf[_0x3346dc(0x232)],'event':_0x342fcf[_0x3346dc(0x1ca)]});}),dbLogs['get'](_0x496eea(0x210))['assign'](_0x4d3677)['write']();}let _0x24591d=dbConfig['get'](_0x496eea(0x2d8))[_0x496eea(0x1cc)]();if(isOlderVersion(_0x24591d,_0x496eea(0x2d6))){dbConfig[_0x496eea(0x289)](_0x496eea(0x2d8),_0x496eea(0x2d6))[_0x496eea(0x223)]();let _0x1cd103=dbConfig[_0x496eea(0x27b)](_0x496eea(0x2c4))['find']({'botID':botID})[_0x496eea(0x1cc)]();if(_0x1cd103){let _0x166831=[];_0x1cd103[_0x496eea(0x270)][_0x496eea(0x20f)](_0xf8885f=>{const _0x1cf6f5=_0x496eea;_0x166831[_0x1cf6f5(0x1c2)]({'coin':_0xf8885f[_0x1cf6f5(0x2d9)],'number':_0xf8885f['startnumber'],'price':_0xf8885f['startprice']}),delete _0xf8885f[_0x1cf6f5(0x1fa)],delete _0xf8885f[_0x1cf6f5(0x19d)];});if(_0x166831[_0x496eea(0x1d5)]!==0x0)fs[_0x496eea(0x253)](configbackuppath+('starting-balance-'+botID+_0x496eea(0x2cd)),JSON['stringify'](_0x166831,null,0x4),function(_0x17e2e8){if(_0x17e2e8){}});const _0x102582=(_0x2168b1,_0x23b481)=>{const _0x4fcc5a=_0x496eea;let _0x3cfbbb=[];_0x23b481['forEach'](_0x5f1682=>{const _0x5e3284=_0x34b4,_0x39610b=_0x2168b1[_0x5e3284(0x29f)](_0x35887c=>_0x35887c[_0x5e3284(0x2d9)]==_0x5f1682[_0x5e3284(0x2d9)]);if(!_0x39610b)_0x3cfbbb[_0x5e3284(0x1c2)](_0x5f1682);});let _0x5a3c91=[];return _0x2168b1[_0x4fcc5a(0x20f)](_0x447a39=>{const _0x567b94=_0x4fcc5a,_0x22977a=_0x23b481[_0x567b94(0x29f)](_0x1d06f4=>_0x1d06f4[_0x567b94(0x2d9)]==_0x447a39[_0x567b94(0x2d9)]);if(!_0x22977a||_0x22977a[_0x567b94(0x267)]==0x0&&_0x447a39[_0x567b94(0x267)]!=0x0)_0x5a3c91[_0x567b94(0x1c2)](_0x447a39);}),{'missingDay1':_0x3cfbbb,'notInDay2':_0x5a3c91};},_0x19045c=dbPerformance[_0x496eea(0x27b)](_0x496eea(0x1b1))['cloneDeep']()[_0x496eea(0x1cc)]();if(_0x19045c[_0x496eea(0x1d5)]>0x1){const {missingDay1:_0x7c56f,notInDay2:_0x1a4fb6}=_0x102582(_0x166831,_0x19045c[0x1]['coins']);_0x166831=[..._0x166831,..._0x7c56f],_0x1a4fb6[_0x496eea(0x20f)](_0x2d8f6b=>{const _0x4a16fe=_0x496eea;let _0x423adb=_0x166831[_0x4a16fe(0x275)](_0x45ace9=>_0x45ace9[_0x4a16fe(0x2d9)]==_0x2d8f6b[_0x4a16fe(0x2d9)]);_0x423adb!=-0x1&&_0x166831[_0x4a16fe(0x1c5)](_0x423adb,0x1);});}_0x166831[_0x496eea(0x28b)]((_0x1fa420,_0x29f733)=>_0x1fa420[_0x496eea(0x2d9)]>_0x29f733[_0x496eea(0x2d9)]?0x1:_0x29f733[_0x496eea(0x2d9)]>_0x1fa420['coin']?-0x1:0x0);let _0x1eab31=[{'date':_0x1cd103['startdate'],'changes':_0x166831}];_0x19045c['length']>0x2&&_0x19045c[_0x496eea(0x20f)]((_0x1a8707,_0x4edd38)=>{const _0x336d95=_0x496eea;if(_0x4edd38>0x0&&_0x4edd38<_0x19045c['length']-0x1){const {missingDay1:_0x53cfb5,notInDay2:_0x185edf}=_0x102582(_0x19045c[_0x4edd38][_0x336d95(0x234)],_0x19045c[_0x4edd38+0x1][_0x336d95(0x234)]);_0x166831=[],(_0x53cfb5[_0x336d95(0x1d5)]!=0x0||_0x185edf['length']!=0x0)&&(_0x53cfb5[_0x336d95(0x1d5)]!=0x0&&_0x166831[_0x336d95(0x1c2)](..._0x53cfb5),_0x185edf[_0x336d95(0x1d5)]!=0x0&&(_0x185edf[_0x336d95(0x20f)](_0x58049a=>{const _0x3c1cab=_0x336d95;_0x58049a[_0x3c1cab(0x267)]=-_0x58049a['number'];}),_0x166831[_0x336d95(0x1c2)](..._0x185edf)),_0x166831[_0x336d95(0x28b)]((_0x4205d9,_0x370b25)=>_0x4205d9[_0x336d95(0x2d9)]>_0x370b25[_0x336d95(0x2d9)]?0x1:_0x370b25['coin']>_0x4205d9[_0x336d95(0x2d9)]?-0x1:0x0),_0x1eab31['push']({'date':_0x19045c[_0x4edd38+0x1]['date'],'changes':_0x166831}));}}),dbConfig[_0x496eea(0x27b)](_0x496eea(0x2c4))['find']({'botID':botID})['assign']({..._0x1cd103,'liquidity':_0x1eab31})['write']();}}_0x24591d=dbConfig[_0x496eea(0x27b)](_0x496eea(0x2d8))['value']();if(isOlderVersion(_0x24591d,_0x496eea(0x296))){dbConfig[_0x496eea(0x289)]('version',_0x496eea(0x296))[_0x496eea(0x223)]();let _0x543d0b=dbConfig['get']('bot')['find']({'botID':botID})[_0x496eea(0x1cc)]();if(_0x543d0b){const _0x19610a=_0x543d0b[_0x496eea(0x2ca)],_0x55ba24=_0x19610a?capitalize(_0x19610a):_0x496eea(0x2c9);dbConfig['get'](_0x496eea(0x2c4))[_0x496eea(0x29f)]({'botID':botID})[_0x496eea(0x2bb)]({'exchange':_0x55ba24})[_0x496eea(0x223)]();}}config=getConfiguration(botID);let _0x5834d6=dbPerformance[_0x496eea(0x27b)](_0x496eea(0x2d8))[_0x496eea(0x1cc)]();isOlderVersion(_0x5834d6,'2.3.5')&&(dbPerformance[_0x496eea(0x289)](_0x496eea(0x2d8),_0x496eea(0x2d6))[_0x496eea(0x223)](),setStartDatePerformance());let _0x1646c5=dbCoinResults[_0x496eea(0x27b)](_0x496eea(0x2d8))[_0x496eea(0x1cc)]();if(isOlderVersion(_0x1646c5,_0x496eea(0x2d5))){dbCoinResults['set'](_0x496eea(0x2d8),_0x496eea(0x2d5))[_0x496eea(0x223)]();let _0x483aa9=dbCoinResults[_0x496eea(0x27b)]('coins')[_0x496eea(0x1cc)]();if(_0x483aa9['length']!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x29dba9){const _0x58662b=_0x14b281;let _0xca322a=dbConfig[_0x58662b(0x27b)]('bot')['find']({'botID':_0x29dba9})['value']();if(_0xca322a){let _0x2e3884=![];typeof _0xca322a[_0x58662b(0x282)]==_0x58662b(0x2ac)&&(_0xca322a={..._0xca322a,'threshold':Number(_0xca322a['threshold'])},_0x2e3884=!![]),_0xca322a[_0x58662b(0x229)]==null&&(_0xca322a={..._0xca322a,'change24h':-0x14},_0x2e3884=!![]),_0x2e3884&&(_0xca322a={'botID':_0xca322a[_0x58662b(0x18d)],'exchange':_0xca322a['exchange'],'apiKey':_0xca322a['apiKey'],'apiSecret':_0xca322a[_0x58662b(0x18a)],'basecoin':_0xca322a[_0x58662b(0x22e)],'botname':_0xca322a['botname'],'showname':_0xca322a[_0x58662b(0x1cb)],'threshold':_0xca322a[_0x58662b(0x282)],'ordertype':_0xca322a[_0x58662b(0x1e1)],'timeout':_0xca322a[_0x58662b(0x277)],'startdate':_0xca322a['startdate'],'recreate':_0xca322a[_0x58662b(0x2a7)],'timeshift':_0xca322a[_0x58662b(0x29e)],'headless':_0xca322a[_0x58662b(0x2c2)],'cooldown':_0xca322a[_0x58662b(0x1c6)],'change24h':_0xca322a['change24h'],'emojibuy':_0xca322a[_0x58662b(0x26c)],'emojisell':_0xca322a['emojisell'],'portfolio':_0xca322a[_0x58662b(0x270)],'liquidity':_0xca322a[_0x58662b(0x2b1)]},dbConfig[_0x58662b(0x27b)](_0x58662b(0x2c4))[_0x58662b(0x1b0)]()[_0x58662b(0x223)](),dbConfig[_0x58662b(0x27b)]('bot')[_0x58662b(0x1c2)](_0xca322a)[_0x58662b(0x223)]());}else _0xca322a={'botID':_0x29dba9,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x58662b(0x1a4)+_0x29dba9,'showname':![],'threshold':0x3,'ordertype':_0x58662b(0x260),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0xca322a;}function emittedConfiguration(){const _0xf05e33=_0x14b281;let _0x39b7db;if(config[_0xf05e33(0x263)]=='')_0x39b7db={...config,'configstate':_0xf05e33(0x1e4)};else config[_0xf05e33(0x263)]==_0xf05e33(0x22f)?_0x39b7db={...config,'configstate':'recovery'}:_0x39b7db={...config,'apiKey':_0xf05e33(0x1d4),'apiSecret':_0xf05e33(0x1d4)};return _0x39b7db;}function getSettings(){const _0x3285bb=_0x14b281;return dbSettings['get'](_0x3285bb(0x292))[_0x3285bb(0x1cc)]();}function getSecure(){const _0x2e48af=_0x14b281;return dbSecure[_0x2e48af(0x27b)](_0x2e48af(0x271))[_0x2e48af(0x1cc)]()||{};}function updateTimeshift(_0x9e5ade){const _0x51cff9=_0x14b281;let _0x445504=dbConfig[_0x51cff9(0x27b)]('bot')[_0x51cff9(0x29f)]({'botID':botID})['value']();_0x445504&&dbConfig[_0x51cff9(0x27b)](_0x51cff9(0x2c4))[_0x51cff9(0x29f)]({'botID':botID})['assign']({'timeshift':_0x9e5ade})[_0x51cff9(0x223)](),config[_0x51cff9(0x29e)]=_0x9e5ade,proxyEmit(_0x51cff9(0x1a6),emittedConfiguration());}async function storeConfiguration(_0x1f2a4a){const _0x182134=_0x14b281;let _0x4e5394=[],_0x5ace2c=[];_0x1f2a4a[_0x182134(0x270)][_0x182134(0x20f)](_0x58a22e=>{const _0x311fa3=_0x182134;if(!_0x58a22e[_0x311fa3(0x21e)]&&_0x58a22e[_0x311fa3(0x2d9)]!=_0x1f2a4a[_0x311fa3(0x22e)])_0x5ace2c[_0x311fa3(0x1c2)](_0x58a22e[_0x311fa3(0x266)]);});currentCoins[_0x182134(0x1d5)]==0x0?_0x4e5394=_0x5ace2c:_0x5ace2c[_0x182134(0x20f)](_0x33c3fd=>{const _0xdde991=_0x182134,_0x48a2ce=currentCoins[_0xdde991(0x29f)](_0x58ea29=>_0x58ea29['symbol']==_0x33c3fd);!_0x48a2ce&&_0x4e5394[_0xdde991(0x1c2)](_0x33c3fd);});let _0x104842=dbConfig[_0x182134(0x27b)]('bot')['find']({'botID':botID})[_0x182134(0x1cc)]();_0x1f2a4a={..._0x1f2a4a,'apiKey':crypt[_0x182134(0x281)](secure[_0x182134(0x274)],_0x1f2a4a['apiKey'])[_0x182134(0x1bf)],'apiSecret':crypt[_0x182134(0x281)](secure[_0x182134(0x274)],_0x1f2a4a[_0x182134(0x18a)])[_0x182134(0x1bf)]};if(_0x104842){if(_0x1f2a4a[_0x182134(0x263)]==_0x182134(0x1d4))_0x1f2a4a[_0x182134(0x263)]=config[_0x182134(0x263)];if(_0x1f2a4a[_0x182134(0x18a)]==_0x182134(0x1d4))_0x1f2a4a[_0x182134(0x18a)]=config[_0x182134(0x18a)];dbConfig['get']('bot')[_0x182134(0x29f)]({'botID':botID})['assign'](_0x1f2a4a)[_0x182134(0x223)]();}else dbConfig['get']('bot')[_0x182134(0x1c2)](_0x1f2a4a)['write'](),process[_0x182134(0x18f)]({'status':_0x182134(0x2a8),'live':_0x182134(0x193)},_0x5416a7=>{});config={..._0x1f2a4a},setStartDatePerformance(),process[_0x182134(0x18f)]({'botname':_0x1f2a4a['botname']},_0x4a2bcf=>{}),updateBotManager();const _0x225368=getNormalizedPerformance();getStartingBalances(_0x225368),emitPerformance(_0x225368),proxyEmit(_0x182134(0x26d)),await initCoinResults(),reset(_0x4e5394);}async function storeHeadless(_0x19e3bb){const _0x52d90e=_0x14b281,_0x1fea9c={...config,'headless':_0x19e3bb[_0x52d90e(0x2c2)]};let _0x5ddea5=dbConfig[_0x52d90e(0x27b)]('bot')['find']({'botID':botID})[_0x52d90e(0x1cc)]();_0x5ddea5&&dbConfig['get']('bot')['find']({'botID':botID})[_0x52d90e(0x2bb)](_0x1fea9c)[_0x52d90e(0x223)](),config={..._0x1fea9c},updateBotManager(),proxyEmit(_0x52d90e(0x1a6),emittedConfiguration());}function noslash(_0x1ed39a){const _0x514c47=_0x14b281;return _0x1ed39a[_0x514c47(0x2aa)]('/','');}async function updateNumberCoinsCcxt(_0xd486d4){const _0x1f75c3=_0x14b281;logger[_0x1f75c3(0x2d2)]('0\x20-\x20EXECUTION:\x20'+_0xd486d4[_0x1f75c3(0x266)]+'\x20|\x20'+_0xd486d4['status']+_0x1f75c3(0x24a)+_0xd486d4['id']+_0x1f75c3(0x24a)+_0xd486d4['clientOrderId']);let _0x12a113=_0xd486d4['status'],_0x34f16c=![];currentCoins[_0x1f75c3(0x20f)](_0xfe8469=>{const _0x1f4a03=_0x1f75c3;_0xfe8469[_0x1f4a03(0x266)]==_0xd486d4[_0x1f4a03(0x266)]&&(_0x34f16c=!![]);});if(!_0x34f16c)return;const _0x3d25c4=currentCoins[_0x1f75c3(0x29f)](_0xb5d11c=>_0xb5d11c[_0x1f75c3(0x266)]==_0xd486d4[_0x1f75c3(0x266)]),_0x1cd365=_0x46ce04=>{const _0x128581=_0x1f75c3;if(_0x3d25c4)_0x3d25c4[_0x128581(0x2ce)]=_0x46ce04;};if(_0x12a113==_0x1f75c3(0x26b))_0x1cd365(_0x1f75c3(0x26b));else{if(_0x12a113==_0x1f75c3(0x224))_0x1cd365(_0x1f75c3(0x224)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x12a113=='closed'){logger[_0x1f75c3(0x2d2)](_0x1f75c3(0x2c6)+_0xd486d4['symbol']+_0x1f75c3(0x24a)+_0xd486d4['filled']+_0x1f75c3(0x24a)+_0xd486d4['id']+_0x1f75c3(0x24a)+_0xd486d4['clientOrderId']);let _0x509b0c=![];if(lastOrders)lastOrders['forEach'](async _0xc23a57=>{const _0x17ad24=_0x1f75c3;if(_0xc23a57[_0x17ad24(0x1b5)]==_0xd486d4[_0x17ad24(0x1ac)]){logger['debug'](_0x17ad24(0x1fd)+_0xd486d4[_0x17ad24(0x1ac)]),_0x509b0c=!![];if(_0xc23a57[_0x17ad24(0x1ea)]==0x0){logger[_0x17ad24(0x2d2)](_0x17ad24(0x2cf)+_0xd486d4['clientOrderId']),_0xc23a57[_0x17ad24(0x2cb)]=_0xd486d4[_0x17ad24(0x24b)],_0xc23a57[_0x17ad24(0x1ea)]=_0xd486d4[_0x17ad24(0x1ea)],_0xc23a57[_0x17ad24(0x2c5)]={'cost':_0xd486d4[_0x17ad24(0x2c5)][_0x17ad24(0x1c9)],'currency':_0xd486d4[_0x17ad24(0x2c5)][_0x17ad24(0x1d2)]},_0x1cd365(_0x17ad24(0x1ea)),await validateOrders();if(lockOrders==ORDERS[_0x17ad24(0x211)])currentCoins=await getCoins();await updateCoinResults(_0xc23a57);}}});!_0x509b0c&&(logger[_0x1f75c3(0x2d2)](_0x1f75c3(0x1b7)+_0xd486d4['id']),_0x1cd365(_0x1f75c3(0x1ea)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x208180=JSON[_0x1f75c3(0x1d1)](lastBalances['portfolio']);const _0x18717f=_0x208180[_0x1f75c3(0x29f)](_0x12d1a6=>_0x12d1a6[_0x1f75c3(0x266)]==_0xd486d4[_0x1f75c3(0x266)]);if(_0x18717f){if(_0x12a113==_0x1f75c3(0x26b))_0x18717f[_0x1f75c3(0x2ce)]=_0x18717f[_0x1f75c3(0x2ce)]=='filled'?'filled':_0x1f75c3(0x26b);else{if(_0x12a113==_0x1f75c3(0x224))_0x18717f[_0x1f75c3(0x2ce)]=_0x18717f['orderstatus']==_0x1f75c3(0x1ea)?_0x1f75c3(0x1ea):_0x1f75c3(0x224);else _0x12a113==_0x1f75c3(0x20c)&&(_0x18717f[_0x1f75c3(0x2ce)]=_0x1f75c3(0x1ea));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1f75c3(0x2d4)](_0x208180)},proxyEmit(_0x1f75c3(0x295),{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0x4976d6=![],_0x4f3144=!![],_0x405afb=config[_0x14b281(0x22e)]){const _0x2bc5f2=_0x14b281;let _0x36d974,_0x5b8a57=[],_0x4b2335=[],_0x5a3cf5=[];try{_0x36d974=await exchange['fetchBalance'](),mybalances=_0x36d974[_0x2bc5f2(0x2c7)];if(!_0x4f3144)for(const [_0x574661,_0x3413a3]of Object[_0x2bc5f2(0x2c0)](mybalances)){_0x5a3cf5['push'](_0x574661);}else config[_0x2bc5f2(0x270)]['forEach'](_0x279317=>{const _0x34adab=_0x2bc5f2;if(!_0x279317[_0x34adab(0x21e)])_0x5a3cf5['push'](_0x279317[_0x34adab(0x2d9)]);});if(_0x405afb=='')for(const [_0x3a9630,_0x3cd75b]of Object[_0x2bc5f2(0x2c0)](mybalances)){_0x3cd75b[_0x2bc5f2(0x1dc)]()!=0x0&&_0x4b2335['push']({'coin':_0x3a9630});}else{if(_0x4976d6)await getOpenOrders();let _0xb42d94=![];for(const [_0x8cc2c3,_0x25ee85]of Object['entries'](mybalances)){if(_0x5a3cf5[_0x2bc5f2(0x1c7)](_0x8cc2c3)){const _0x584c42=config['portfolio'][_0x2bc5f2(0x29f)](_0x446192=>_0x446192[_0x2bc5f2(0x2d9)]==_0x8cc2c3),_0xfd9193=_0x8cc2c3+'/'+_0x405afb,_0x3a8354=_0x405afb+'/'+_0x8cc2c3,_0xaefcdb=currentCoins[_0x2bc5f2(0x29f)](_0x4f54e5=>_0x4f54e5[_0x2bc5f2(0x2d9)]==_0x8cc2c3);_0xb42d94=![];_0x4976d6&&(_0xb42d94=allOpenOrders[_0x2bc5f2(0x29f)](_0x15915c=>_0x15915c[_0x2bc5f2(0x266)]==_0x584c42[_0x2bc5f2(0x266)]));if((_0x25ee85['toString']()!=0x0||_0x584c42)&&(allSymbols[_0x2bc5f2(0x1c7)](_0xfd9193)||_0x8cc2c3==_0x405afb))_0x8cc2c3!=_0x405afb&&_0x5b8a57[_0x2bc5f2(0x1c2)](_0xfd9193),_0x4b2335['push']({'coin':_0x8cc2c3,'symbol':_0xfd9193,'reverse':![],'number':Math[_0x2bc5f2(0x1f7)](_0x25ee85+(_0x584c42&&_0x584c42[_0x2bc5f2(0x29d)]||0x0),0x0),'orderstatus':_0x4976d6?_0xb42d94?_0x2bc5f2(0x26b):_0x2bc5f2(0x2a5):_0xaefcdb?_0xaefcdb[_0x2bc5f2(0x2ce)]:_0x2bc5f2(0x2a5)});else(_0x25ee85[_0x2bc5f2(0x1dc)]()!=0x0||_0x584c42)&&allSymbols[_0x2bc5f2(0x1c7)](_0x3a8354)&&(_0x8cc2c3!=_0x405afb&&_0x5b8a57[_0x2bc5f2(0x1c2)](_0x3a8354),_0x4b2335['push']({'coin':_0x8cc2c3,'symbol':_0x3a8354,'reverse':!![],'number':Math['max'](_0x25ee85+(_0x584c42&&_0x584c42[_0x2bc5f2(0x29d)]||0x0),0x0),'orderstatus':_0x4976d6?_0xb42d94?'open':_0x2bc5f2(0x2a5):_0xaefcdb?_0xaefcdb[_0x2bc5f2(0x2ce)]:_0x2bc5f2(0x2a5)}));}}}}catch(_0x914122){if(!_0x4f3144)handleErrorNoStop(_0x914122,_0x2bc5f2(0x212));else await handleError(_0x914122,_0x2bc5f2(0x212));}return _0x4b2335;}async function getCoinNumber(_0x2d6386){let _0x24e51b;try{const _0x1c0151=await exchange['fetchBalance']();_0x24e51b=_0x1c0151['total'][_0x2d6386];}catch(_0x9e7011){await handleError(_0x9e7011,'getCoinNumber()');}return _0x24e51b;}async function getOpenOrders(){const _0x2dec2f=_0x14b281;let _0x1f3573;allOpenOrders=[];try{for(const _0x296f32 of config[_0x2dec2f(0x270)]){!_0x296f32['excluded']&&_0x296f32[_0x2dec2f(0x2d9)]!=config[_0x2dec2f(0x22e)]&&(_0x1f3573=await exchange[_0x2dec2f(0x1a2)](_0x296f32[_0x2dec2f(0x266)]),_0x1f3573['length']>0x0&&allOpenOrders[_0x2dec2f(0x1c2)](_0x1f3573[0x0]));}}catch(_0x47dfd7){await handleError(_0x47dfd7,_0x2dec2f(0x25a));}}async function handleOpenOrders(_0x5b3121=0x0){const _0x3c3172=_0x14b281;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x3c3172(0x211)]&&allOrdersPlaced&&(_0x5b3121==0x0?(logger[_0x3c3172(0x2d2)](_0x3c3172(0x1ee)),_0x5b3121++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3c3172(0x2d2)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x3c3172(0x222))));}async function getPortfolio(_0x2c7e2a){const _0x39998f=_0x14b281;let _0x3e6001=[],_0x376571=[],_0x88aa80,_0x192082=[],_0x358dd7=![];if(_0x2c7e2a[_0x39998f(0x263)]===_0x39998f(0x1d4)||_0x2c7e2a['apiSecret']==='************')_0x358dd7=!![];else{await initExchange(_0x2c7e2a[_0x39998f(0x2ca)],_0x2c7e2a[_0x39998f(0x263)],_0x2c7e2a[_0x39998f(0x18a)]);try{_0x358dd7=await loadSymbols();}catch(_0xeb8224){_0x358dd7=![],handleErrorNoStop(_0xeb8224,_0x39998f(0x22d));}}if(_0x358dd7){_0x192082=await getCoins(![],![],_0x2c7e2a[_0x39998f(0x22e)]);if(_0x192082===![])proxyEmit('portfolio',![]);else{if(_0x2c7e2a[_0x39998f(0x22e)]=='')proxyEmit(_0x39998f(0x270),_0x192082);else{_0x192082[_0x39998f(0x20f)](_0x295217=>{const _0xc23a54=_0x39998f;if(_0x295217[_0xc23a54(0x2d9)]!=_0x2c7e2a[_0xc23a54(0x22e)])_0x3e6001['push'](_0x295217[_0xc23a54(0x266)]);});try{_0x376571=await exchange[_0x39998f(0x276)](_0x3e6001);}catch(_0xfd96a5){await handleError(_0xfd96a5,_0x39998f(0x290));}_0x192082[_0x39998f(0x20f)](_0x1400b8=>{const _0x219951=_0x39998f;_0x1400b8[_0x219951(0x2d9)]!=_0x2c7e2a[_0x219951(0x22e)]?_0x88aa80=_0x1400b8[_0x219951(0x1f2)]?0x1/_0x376571[_0x1400b8[_0x219951(0x266)]]['last']:_0x376571[_0x1400b8[_0x219951(0x266)]]['last']:_0x88aa80=0x1,_0x1400b8[_0x219951(0x2cb)]=formatResult(_0x88aa80,0x8);}),proxyEmit(_0x39998f(0x270),_0x192082);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x3e3db2){const _0x218d84=_0x14b281;let _0x3c30de=!![];const _0x413647=!_0x3e3db2[_0x218d84(0x1f2)]?markets[_0x3e3db2[_0x218d84(0x266)]][_0x218d84(0x29a)][_0x218d84(0x2c1)][_0x218d84(0x233)]:markets[_0x3e3db2[_0x218d84(0x266)]][_0x218d84(0x29a)][_0x218d84(0x1c9)][_0x218d84(0x233)],_0x43b2f6=!_0x3e3db2[_0x218d84(0x1f2)]?markets[_0x3e3db2[_0x218d84(0x266)]][_0x218d84(0x29a)][_0x218d84(0x1c9)][_0x218d84(0x233)]:markets[_0x3e3db2[_0x218d84(0x266)]][_0x218d84(0x29a)][_0x218d84(0x2c1)][_0x218d84(0x233)],_0x2a884b=markets[_0x3e3db2['symbol']][_0x218d84(0x287)][_0x218d84(0x2c1)];_0x3e3db2[_0x218d84(0x2cc)]=formatResultTruncate(_0x3e3db2[_0x218d84(0x2cc)],_0x2a884b);if(Math['abs'](_0x3e3db2[_0x218d84(0x2cc)])<_0x413647)_0x3c30de=![];if(Math[_0x218d84(0x2b3)](_0x3e3db2[_0x218d84(0x2cc)])*_0x3e3db2[_0x218d84(0x217)]<_0x43b2f6)_0x3c30de=![];if(_0x3e3db2[_0x218d84(0x291)]==_0x218d84(0x1b4)){let _0xc9f162=config[_0x218d84(0x270)][_0x218d84(0x29f)](_0x1fa481=>_0x1fa481[_0x218d84(0x2d9)]==_0x3e3db2[_0x218d84(0x2d9)]);if(_0xc9f162['offset']>0x0){if(Math[_0x218d84(0x2b3)](_0x3e3db2['trade'])>_0x3e3db2[_0x218d84(0x267)]-_0xc9f162[_0x218d84(0x29d)])_0x3c30de=![];}else{if(Math[_0x218d84(0x2b3)](_0x3e3db2['trade'])>_0x3e3db2[_0x218d84(0x267)])_0x3c30de=![];}}if(_0x3e3db2[_0x218d84(0x291)]==_0x218d84(0x27e)){let _0x526961=config['portfolio']['find'](_0x1fe298=>_0x1fe298[_0x218d84(0x2d9)]==config[_0x218d84(0x22e)]),_0x293ba8=currentCoins[_0x218d84(0x29f)](_0x35ca6a=>_0x35ca6a[_0x218d84(0x2d9)]==config[_0x218d84(0x22e)]);if(_0x526961[_0x218d84(0x29d)]>0x0){if(Math[_0x218d84(0x2b3)](_0x3e3db2[_0x218d84(0x2cc)])*_0x3e3db2[_0x218d84(0x217)]>_0x293ba8['number']-_0x526961[_0x218d84(0x29d)])_0x3c30de=![];}else{if(Math['abs'](_0x3e3db2['trade'])*_0x3e3db2[_0x218d84(0x217)]>_0x293ba8['number'])_0x3c30de=![];}}return _0x3c30de;}async function getBalances(){const _0xee012a=_0x14b281;let _0x3534ab=0x0,_0x115ead;const _0x23a14f=config['threshold'];if(config[_0xee012a(0x2c2)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0xee012a(0x20f)](_0x11ccbe=>{const _0x26b113=_0xee012a;if(_0x11ccbe['coin']!=config[_0x26b113(0x22e)]){let _0x23497b=global[_0x26b113(0x204)][noslash(_0x11ccbe[_0x26b113(0x266)])];_0x115ead=_0x11ccbe[_0x26b113(0x1f2)]?0x1/_0x23497b:_0x23497b;}else _0x115ead=0x1;let _0x2c2a17=_0x11ccbe[_0x26b113(0x267)]*_0x115ead;_0x3534ab+=_0x2c2a17,_0x11ccbe[_0x26b113(0x217)]=formatResult(Number(_0x115ead),0x8),_0x11ccbe[_0x26b113(0x1cc)]=_0x2c2a17;}),currentCoins[_0xee012a(0x20f)](_0xab6ae8=>{const _0x31bf34=_0xee012a;let _0x1663d2=config['portfolio']['find'](_0x39aac9=>_0x39aac9[_0x31bf34(0x2d9)]==_0xab6ae8[_0x31bf34(0x2d9)]),_0x3bc4f3=Number(_0x1663d2[_0x31bf34(0x21d)]),_0x118e3b=_0xab6ae8[_0x31bf34(0x1cc)]/_0x3534ab*0x64,_0x468496=_0x3bc4f3*_0x3534ab/0x64/_0xab6ae8[_0x31bf34(0x217)]-_0xab6ae8['number'];_0xab6ae8['distribution']=formatResult(_0x118e3b,0x3),_0xab6ae8[_0x31bf34(0x2bd)]=formatResult(_0x3bc4f3,0x3),_0xab6ae8['trade']=formatResult(_0x468496,0x8),_0xab6ae8[_0x31bf34(0x291)]='',_0xab6ae8['valid']=![];if(_0xab6ae8['coin']!=config[_0x31bf34(0x22e)]){if(_0xab6ae8['distribution']>_0x3bc4f3)_0xab6ae8[_0x31bf34(0x291)]=_0x31bf34(0x1b4),_0xab6ae8[_0x31bf34(0x269)]=checkMinimums(_0xab6ae8);else _0xab6ae8[_0x31bf34(0x21d)]<_0x3bc4f3&&(_0xab6ae8['side']='buy',_0xab6ae8[_0x31bf34(0x269)]=checkMinimums(_0xab6ae8));}_0xab6ae8[_0x31bf34(0x18b)]=_0xab6ae8['distribution']/_0xab6ae8[_0x31bf34(0x2bd)]-0x1;if(_0xab6ae8[_0x31bf34(0x2ce)]==_0x31bf34(0x1ea)||_0xab6ae8[_0x31bf34(0x2ce)]=='canceled')_0xab6ae8['orderstatus']=_0x31bf34(0x2a5);}),currentCoins[_0xee012a(0x28b)]((_0x4351db,_0x32b778)=>_0x4351db['delta']<_0x32b778[_0xee012a(0x18b)]?0x1:_0x32b778['delta']<_0x4351db[_0xee012a(0x18b)]?-0x1:0x0);const _0x5c9557=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5c9557[_0xee012a(0x284)],'usd':_0x5c9557[_0xee012a(0x19b)],'portfolio':JSON[_0xee012a(0x2d4)](currentCoins),'threshold':_0x23a14f},proxyEmit(_0xee012a(0x295),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x23a14f});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x23a14f});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5aafad=_0x14b281;if(!lastBalances)return;let _0x4a76dd=[],_0x4322e4,_0x4a9d49=JSON[_0x5aafad(0x1d1)](lastBalances['portfolio']);_0x4a9d49[_0x5aafad(0x28b)]((_0x204160,_0x136e25)=>_0x204160[_0x5aafad(0x2d9)]>_0x136e25['coin']?0x1:_0x136e25['coin']>_0x204160[_0x5aafad(0x2d9)]?-0x1:0x0),_0x4a9d49[_0x5aafad(0x20f)](_0x2d32b9=>{const _0x5497d1=_0x5aafad;let _0xf8c031={'coin':_0x2d32b9[_0x5497d1(0x2d9)],'number':_0x2d32b9[_0x5497d1(0x267)],'price':_0x2d32b9['last']};_0x4a76dd[_0x5497d1(0x1c2)](_0xf8c031);});const _0x5c40d1=await getFiat();_0x4322e4={'date':lastBalances[_0x5aafad(0x1bb)][_0x5aafad(0x1ed)]('\x20')[0x0],'eur':_0x5c40d1[_0x5aafad(0x284)],'usd':_0x5c40d1['usd'],'coins':_0x4a76dd};let _0xc41a41=dbPerformance[_0x5aafad(0x27b)](_0x5aafad(0x1b1))[_0x5aafad(0x29f)]({'date':_0x4322e4[_0x5aafad(0x194)]})[_0x5aafad(0x1cc)]();_0xc41a41?_0x4322e4['date']!=config[_0x5aafad(0x1dd)]&&dbPerformance[_0x5aafad(0x27b)]('data')['find']({'date':_0x4322e4[_0x5aafad(0x194)]})['assign'](_0x4322e4)[_0x5aafad(0x223)]():dbPerformance['get']('data')[_0x5aafad(0x1c2)](_0x4322e4)[_0x5aafad(0x223)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x50649b=_0x14b281;let _0x325f71=[];if(dbPerformance[_0x50649b(0x241)]('data')[_0x50649b(0x1cc)]()){let _0x13889d=dbPerformance[_0x50649b(0x27b)](_0x50649b(0x1b1))[_0x50649b(0x250)]()[_0x50649b(0x27c)]('date')[_0x50649b(0x1cc)](),_0x52d56f=[...config[_0x50649b(0x2b1)]];_0x52d56f['sort']((_0x27f8d4,_0x328d96)=>_0x27f8d4[_0x50649b(0x194)]>_0x328d96[_0x50649b(0x194)]?-0x1:_0x328d96[_0x50649b(0x194)]>_0x27f8d4[_0x50649b(0x194)]?0x1:0x0);let _0x58c901=0x1,_0x6f97c1=[],_0x5aacfa=0x0;_0x13889d[_0x50649b(0x214)]()[_0x50649b(0x1f2)]()[_0x50649b(0x20f)]((_0x3e8239,_0x4ed350)=>{const _0x1dfcf5=_0x50649b;if(_0x52d56f[_0x5aacfa]){if(_0x13889d[_0x13889d['length']-_0x4ed350]&&_0x52d56f[_0x5aacfa][_0x1dfcf5(0x194)]==_0x13889d[_0x13889d[_0x1dfcf5(0x1d5)]-_0x4ed350][_0x1dfcf5(0x194)]){if(_0x4ed350<_0x13889d[_0x1dfcf5(0x1d5)]){let _0x403911=0x0,_0x4a105c=0x0;_0x13889d[_0x13889d[_0x1dfcf5(0x1d5)]-_0x4ed350][_0x1dfcf5(0x234)]['forEach'](_0x3314ef=>{const _0x49a31a=_0x1dfcf5;_0x4a105c+=_0x3314ef[_0x49a31a(0x267)]*_0x3314ef[_0x49a31a(0x2cb)];}),_0x52d56f[_0x5aacfa][_0x1dfcf5(0x27d)][_0x1dfcf5(0x20f)](_0x50f00b=>{const _0x316fd1=_0x1dfcf5;_0x403911+=_0x50f00b[_0x316fd1(0x267)]*_0x50f00b[_0x316fd1(0x2cb)];}),_0x58c901*=_0x403911/(_0x4a105c-_0x403911)+0x1;}_0x5aacfa++;}}let _0x4d6f10=0x0;_0x3e8239[_0x1dfcf5(0x234)][_0x1dfcf5(0x20f)](_0x5b3f77=>{const _0x57ec1f=_0x1dfcf5;_0x4d6f10+=_0x5b3f77[_0x57ec1f(0x267)]*_0x5b3f77[_0x57ec1f(0x2cb)];}),_0x6f97c1[_0x13889d[_0x1dfcf5(0x1d5)]-_0x4ed350-0x1]=_0x4d6f10*(_0x58c901-0x1);});let _0x4c97e6=[];_0x52d56f=[...config[_0x50649b(0x2b1)]]||[];let _0x4ba009=0x0;_0x5aacfa=0x0,_0x13889d['forEach']((_0x1992a8,_0x256f86)=>{const _0x5ab0b9=_0x50649b;if(_0x52d56f[_0x5aacfa]){const _0x308cbb=fns[_0x5ab0b9(0x1d1)](_0x52d56f[_0x5aacfa]['date'],'yyyy/MM/dd',new Date()),_0x42afb3=fns['parse'](_0x1992a8[_0x5ab0b9(0x194)],'yyyy/MM/dd',new Date());if(fns[_0x5ab0b9(0x19e)](_0x308cbb,_0x42afb3)){let _0x5baec6=0x0;_0x52d56f[_0x5aacfa]['changes'][_0x5ab0b9(0x20f)](_0x47a87a=>{const _0x4ed1fe=_0x5ab0b9;!_0x4c97e6[_0x47a87a[_0x4ed1fe(0x2d9)]]?_0x4c97e6[_0x47a87a[_0x4ed1fe(0x2d9)]]=_0x47a87a[_0x4ed1fe(0x267)]:(_0x5baec6=_0x4c97e6[_0x47a87a['coin']],_0x4c97e6[_0x47a87a[_0x4ed1fe(0x2d9)]]+=_0x47a87a['number']);const _0x1df915=_0x1992a8['coins']['find'](_0x128095=>_0x128095['coin']==_0x47a87a[_0x4ed1fe(0x2d9)]);(!_0x1df915||_0x1df915[_0x4ed1fe(0x267)]==0x0)&&(_0x4ba009+=(-_0x47a87a['number']-_0x5baec6)*_0x47a87a[_0x4ed1fe(0x2cb)]);}),_0x5aacfa++;}}_0x1992a8['coins']['forEach']((_0x51e2da,_0x54993d)=>{const _0x2c218b=_0x5ab0b9;_0x4c97e6[_0x51e2da['coin']]&&(_0x51e2da={..._0x51e2da,'initial':_0x4c97e6[_0x51e2da[_0x2c218b(0x2d9)]]}),_0x1992a8['coins'][_0x54993d]=_0x51e2da;}),_0x325f71['push']({'date':_0x1992a8['date'],'eur':_0x1992a8[_0x5ab0b9(0x284)],'usd':_0x1992a8[_0x5ab0b9(0x19b)],'offset':_0x6f97c1[_0x256f86],'netoffset':_0x4ba009,'coins':_0x1992a8[_0x5ab0b9(0x234)]});});}return _0x325f71;}function emitPerformance(_0x4831b4){const _0x2af822=_0x14b281;_0x4831b4[_0x2af822(0x1d5)]!==0x0?(proxyEmit(_0x2af822(0x1fe),_0x4831b4),lastPerformanceEmitted=getDate()):proxyEmit(_0x2af822(0x1fe),[]);}function getPerf(_0x1456b3,_0x4e3ac2){const _0x2ed621=_0x14b281;let _0x2763d5=0x0,_0x4603bb=0x0,_0x545236=0x0;_0x1456b3[_0x2ed621(0x234)][_0x2ed621(0x20f)](_0x1a9327=>{const _0x190017=_0x2ed621;_0x2763d5+=_0x1a9327[_0x190017(0x267)]*_0x1a9327[_0x190017(0x2cb)];});_0x4e3ac2&&(_0x2763d5+=_0x1456b3[_0x2ed621(0x29d)]);if(config[_0x2ed621(0x22e)]===_0x2ed621(0x2ab)||config['basecoin']===_0x2ed621(0x206))_0x4603bb=_0x2763d5*_0x1456b3[_0x2ed621(0x284)],_0x545236=_0x2763d5*_0x1456b3[_0x2ed621(0x19b)];else{if(config['basecoin']==='BUSD'||config[_0x2ed621(0x22e)]==='USDT'||config[_0x2ed621(0x22e)]===_0x2ed621(0x1ad))_0x4603bb=_0x2763d5*_0x1456b3['eur']/_0x1456b3[_0x2ed621(0x19b)],_0x545236=_0x2763d5;else config[_0x2ed621(0x22e)]===_0x2ed621(0x26e)&&(_0x4603bb=_0x2763d5,_0x545236=_0x2763d5*_0x1456b3['usd']/_0x1456b3[_0x2ed621(0x284)]);}return[_0x2763d5,_0x4603bb,_0x545236];}function getKPIs(_0x358671,_0x39287d='EUR'){const _0x36f84b=_0x14b281,_0x4a6ebb=config[_0x36f84b(0x22e)],_0x752db5=config[_0x36f84b(0x295)],_0x4c88b8=currentCoins,_0x55d54c=getNormalizedPerformance(),_0xb5fdbd=_0x358671===_0x36f84b(0x22e)?_0x4a6ebb:_0x358671==='fiat'||_0x358671===_0x36f84b(0x23c)?_0x39287d:_0x36f84b(0x1f9)+_0x4a6ebb,_0x102400=_0x358671==='net-basecoin'?_0x36f84b(0x218):_0x358671===_0x36f84b(0x23c)?_0x36f84b(0x1e7)+_0xb5fdbd+')':_0xb5fdbd+_0x36f84b(0x29b),_0x3b16bd=_0x358671==='net-basecoin'||_0x358671===_0x36f84b(0x23c)?_0x36f84b(0x218):_0xb5fdbd+'\x20change';let _0x4b539a=0x0;_0x4c88b8[_0x36f84b(0x20f)](_0x59fd90=>{const _0x1174c6=_0x36f84b;_0x4b539a+=_0x59fd90[_0x1174c6(0x267)]*_0x59fd90['last'];});if(_0x358671===_0x36f84b(0x1be)||_0x358671===_0x36f84b(0x23c)){if(_0x4a6ebb===_0x36f84b(0x2ab)||_0x4a6ebb==='ETH')_0x4b539a=_0x4b539a*(_0x39287d===_0x36f84b(0x26e)?_0x752db5['eur']:_0x752db5[_0x36f84b(0x19b)]);else{if(_0x4a6ebb==='BUSD'||_0x4a6ebb==='USDT'||_0x4a6ebb===_0x36f84b(0x1ad))_0x4b539a=_0x4b539a*(_0x39287d===_0x36f84b(0x26e)?_0x752db5[_0x36f84b(0x284)]/_0x752db5[_0x36f84b(0x19b)]:0x1);else _0x4a6ebb==='EUR'&&(_0x4b539a=_0x4b539a*(_0x39287d==='EUR'?0x1:_0x752db5[_0x36f84b(0x19b)]/_0x752db5['eur']));}}let _0x1c2cc7;if(_0x4b539a!==0x0){if(_0x358671===_0x36f84b(0x22e))_0x1c2cc7=(_0x4b539a/startingBalances['basecoin']-0x1)*0x64;else{if(_0x39287d===_0x36f84b(0x26e))_0x1c2cc7=(_0x4b539a/startingBalances[_0x36f84b(0x284)]-0x1)*0x64;else _0x1c2cc7=(_0x4b539a/startingBalances['usd']-0x1)*0x64;}let _0x4d9b07=0x0;if(startingBalances[_0x36f84b(0x234)])_0x4c88b8[_0x36f84b(0x20f)](_0x222fbc=>{const _0x173b1f=_0x36f84b;let _0x24a2c8=startingBalances[_0x173b1f(0x234)][_0x173b1f(0x29f)](_0x2f18e4=>_0x2f18e4['coin']===_0x222fbc['coin']);if(_0x24a2c8&&_0x24a2c8[_0x173b1f(0x2d9)]&&_0x222fbc['number']!==0x0)_0x4d9b07+=_0x24a2c8[_0x173b1f(0x267)]*_0x222fbc['last'];});let _0xa0238b=0x0;if(_0x55d54c[_0x36f84b(0x1d5)]!==0x0){let _0x402ef3=_0x55d54c[_0x55d54c[_0x36f84b(0x1d5)]-0x1];_0xa0238b=_0x402ef3[_0x36f84b(0x1a3)];}_0x4d9b07-=_0xa0238b;_0x358671===_0x36f84b(0x272)&&(_0x1c2cc7=(_0x4b539a-_0x4d9b07)/startingBalances[_0x36f84b(0x22e)]*0x64,_0x4b539a=_0x4b539a-_0x4d9b07);if(_0x358671==='net-fiat'){let _0x4d306a=_0x39287d===_0x36f84b(0x26e)?startingBalances[_0x36f84b(0x284)]:startingBalances[_0x36f84b(0x19b)];if(_0x4a6ebb===_0x36f84b(0x2ab)||_0x4a6ebb==='ETH')_0x4d9b07=_0x39287d===_0x36f84b(0x26e)?_0x4d9b07*_0x752db5['eur']:_0x4d9b07*_0x752db5[_0x36f84b(0x19b)];else{if(_0x4a6ebb===_0x36f84b(0x2af)||_0x4a6ebb===_0x36f84b(0x246)||_0x4a6ebb==='USD')_0x4d9b07=_0x39287d===_0x36f84b(0x26e)?_0x4d9b07*_0x752db5[_0x36f84b(0x284)]/_0x752db5[_0x36f84b(0x19b)]:_0x4d9b07;else _0x4a6ebb==='EUR'&&(_0x4d9b07=_0x39287d===_0x36f84b(0x26e)?_0x4d9b07:_0x4d9b07*_0x752db5['usd']/_0x752db5[_0x36f84b(0x284)]);}_0x1c2cc7=(_0x4b539a-_0x4d9b07)/_0x4d306a*0x64,_0x4b539a=_0x4b539a-_0x4d9b07;}if(_0x1c2cc7){if(_0x1c2cc7<0x64)_0x1c2cc7=_0x1c2cc7[_0x36f84b(0x21f)](0x2);else{if(_0x1c2cc7<0x3e8)_0x1c2cc7=_0x1c2cc7[_0x36f84b(0x21f)](0x1);else _0x1c2cc7=_0x1c2cc7['toFixed'](0x0);}}else _0x1c2cc7=Number('0')['toFixed'](0x2);if(_0x4b539a){if(Math[_0x36f84b(0x2b3)](_0x4b539a)<0.000001)_0x4b539a=_0x4b539a[_0x36f84b(0x21f)](0x2);else{if(Math[_0x36f84b(0x2b3)](_0x4b539a)<0.1)_0x4b539a=_0x4b539a[_0x36f84b(0x21f)](0x6);else{if(Math[_0x36f84b(0x2b3)](_0x4b539a)<0x1)_0x4b539a=_0x4b539a['toFixed'](0x5);else{if(Math[_0x36f84b(0x2b3)](_0x4b539a)<0xa)_0x4b539a=_0x4b539a['toFixed'](0x4);else{if(Math[_0x36f84b(0x2b3)](_0x4b539a)<0x64)_0x4b539a=_0x4b539a[_0x36f84b(0x21f)](0x3);else{if(Math[_0x36f84b(0x2b3)](_0x4b539a)<0x3e8)_0x4b539a=_0x4b539a[_0x36f84b(0x21f)](0x2);else _0x4b539a=_0x4b539a[_0x36f84b(0x21f)](0x2);}}}}}}else _0x4b539a=Number('0')[_0x36f84b(0x21f)](0x2);}else _0x1c2cc7=Number('0')[_0x36f84b(0x21f)](0x2);return{'value':_0x4b539a,'change':_0x1c2cc7,'leftTxt':_0x102400,'rightTxt':_0x3b16bd};}async function getStartingBalances(_0x44ef4c,_0x4ea3d5=!![]){const _0x5c20f4=_0x14b281;if(_0x44ef4c[_0x5c20f4(0x1d5)]!==0x0){const [_0xcd1033,_0x1f5247,_0x3e87e2]=getPerf(_0x44ef4c[0x0],!![]);let _0x800baa=[];config[_0x5c20f4(0x270)][_0x5c20f4(0x20f)](_0x35ee3d=>{const _0xe85c59=_0x5c20f4;let _0x2c4e5c=0x0,_0x25e9d2;config[_0xe85c59(0x2b1)][_0xe85c59(0x20f)](_0xe9dab1=>{const _0x194873=_0xe85c59;let _0x5606e5=_0xe9dab1['changes'][_0x194873(0x29f)](_0x339d48=>_0x339d48[_0x194873(0x2d9)]==_0x35ee3d[_0x194873(0x2d9)]);if(_0x5606e5){_0x2c4e5c+=_0x5606e5['number'];if(!_0x25e9d2)_0x25e9d2=_0x5606e5[_0x194873(0x2cb)];}}),_0x800baa['push']({'coin':_0x35ee3d[_0xe85c59(0x2d9)],'number':_0x2c4e5c,'initialprice':_0x25e9d2});});const _0x3b2faf={'basecoin':_0xcd1033,'eur':_0x1f5247,'usd':_0x3e87e2,'coins':_0x800baa};if(_0x4ea3d5)proxyEmit(_0x5c20f4(0x261),_0x3b2faf);startingBalances=_0x3b2faf;}}function headlessMode(_0x21f4bb){const _0x316c43=_0x14b281;let _0x188aed=_0x21f4bb[_0x316c43(0x270)],_0x2fde34=_0x21f4bb[_0x316c43(0x282)],_0x3a9dc8=[];for(let _0x1c070a of _0x188aed){if(_0x1c070a[_0x316c43(0x2d9)]!=config[_0x316c43(0x22e)]){if(_0x1c070a['delta']>=_0x2fde34/0x64){if(_0x1c070a[_0x316c43(0x269)])_0x3a9dc8[_0x316c43(0x1c2)](_0x1c070a);}else{if(_0x1c070a[_0x316c43(0x18b)]<=-_0x2fde34/0x64){if(_0x1c070a[_0x316c43(0x269)])_0x3a9dc8['push'](_0x1c070a);}}}}_0x3a9dc8['length']>0x0&&placeOrder(_0x3a9dc8);}function notifyBalance(_0x55dfa3){const _0xcd98b8=_0x14b281;let _0x1fb89c=_0x55dfa3['portfolio'],_0x481d35=_0x55dfa3[_0xcd98b8(0x282)],_0x515f9e=[];for(let _0x3711f1 of _0x1fb89c){if(_0x3711f1[_0xcd98b8(0x2d9)]!=config[_0xcd98b8(0x22e)]){if(_0x3711f1[_0xcd98b8(0x18b)]>=_0x481d35/0x64){if(_0x3711f1[_0xcd98b8(0x269)])_0x515f9e[_0xcd98b8(0x1c2)](_0x3711f1);}else{if(_0x3711f1[_0xcd98b8(0x18b)]<=-_0x481d35/0x64){if(_0x3711f1['valid'])_0x515f9e[_0xcd98b8(0x1c2)](_0x3711f1);}}}}if(_0x515f9e[_0xcd98b8(0x1d5)]>0x0){let _0x4db393=_0x515f9e['map'](_0x5da768=>_0x5da768[_0xcd98b8(0x2d9)]);_0x4db393[_0xcd98b8(0x28b)]();let _0x5b1a1c=_0x4db393[_0xcd98b8(0x2b2)](',\x20');if(!lastCoinsToBalance)logHistory(_0xcd98b8(0x1a1),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x5b1a1c;}}function symbolToCoin(_0x52997c){const _0x2e82f5=_0x14b281;let _0x466696;if(_0x52997c[_0x2e82f5(0x1c7)]('/'+config[_0x2e82f5(0x22e)]))_0x466696=_0x52997c[_0x2e82f5(0x2aa)]('/'+config[_0x2e82f5(0x22e)],'');if(_0x52997c[_0x2e82f5(0x1c7)](config[_0x2e82f5(0x22e)]+'/'))_0x466696=_0x52997c[_0x2e82f5(0x2aa)](config['basecoin']+'/','');return _0x466696;}async function unlockOrders(){const _0x348b4d=_0x14b281;if(allOrdersPlaced&&lockOrders==ORDERS[_0x348b4d(0x211)]){logger[_0x348b4d(0x2d2)](_0x348b4d(0x2ae)),lockOrders=ORDERS[_0x348b4d(0x247)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x348b4d(0x1e4),persistOpenOrders([]),lockOrders=ORDERS[_0x348b4d(0x238)],logger[_0x348b4d(0x2d2)](_0x348b4d(0x278));}}async function validateOrders(_0x4f7f3a){const _0x8d1656=_0x14b281;if(_0x4f7f3a)validateOrdersState=_0x4f7f3a;logger[_0x8d1656(0x2d2)](_0x8d1656(0x24c)+validateOrdersState+_0x8d1656(0x251)+(lockOrders==0x1?_0x8d1656(0x259):lockOrders==0x2?_0x8d1656(0x2d3):'ORDERS.UNLOCKED'));let _0x21c43a=[],_0x55b004=config[_0x8d1656(0x1e1)]==_0x8d1656(0x260)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x8d1656(0x277)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger['debug'](_0x8d1656(0x203)+validateOrdersState),lastOrders[_0x8d1656(0x20f)](_0x911304=>{const _0x18946c=_0x8d1656;let _0x52785b=![];_0x911304[_0x18946c(0x1ea)]>0x0&&(_0x52785b=!![]),_0x21c43a[_0x18946c(0x1c2)](_0x52785b),_0x52785b&&config[_0x18946c(0x1e1)]!=_0x18946c(0x260)&&logHistory(_0x18946c(0x2ba),'Order\x20filled:\x20'+_0x911304[_0x18946c(0x266)]+'\x20'+_0x911304[_0x18946c(0x291)]+'\x20#'+formatResult(_0x911304[_0x18946c(0x1ea)],0x8)+'\x20@'+formatResult(_0x911304[_0x18946c(0x2cb)],0x8));}),_0x21c43a[_0x8d1656(0x20f)]((_0x49267c,_0x30cb8d)=>{const _0x409f18=_0x8d1656;if(_0x49267c)lastOrders[_0x409f18(0x1c5)](_0x30cb8d,0x1);}),persistOpenOrders(lastOrders);const _0x1319d5=coolingDown?_0x8d1656(0x26a):_0x8d1656(0x299);if(validateOrdersState==_0x8d1656(0x1e4))validateOrdersState=_0x8d1656(0x198),_0x21c43a[_0x8d1656(0x1c7)](![])?config['ordertype']==_0x8d1656(0x260)?logHistory('warning','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x8d1656(0x1a1),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState==_0x8d1656(0x198)){if(_0x21c43a[_0x8d1656(0x1c7)](![])){}else allOrdersPlaced&&(config[_0x8d1656(0x1e1)]==_0x8d1656(0x260)?logHistory('success',_0x8d1656(0x1e8)+_0x1319d5):logHistory('success',_0x8d1656(0x1f8)+_0x1319d5),await unlockOrders());}else{if(validateOrdersState==_0x8d1656(0x1ff))_0x21c43a[_0x8d1656(0x1c7)](![])&&(config['ordertype']==_0x8d1656(0x260)?logHistory(_0x8d1656(0x1e9),_0x8d1656(0x202)+Math['round'](_0x55b004*validateOrderInterval/0xea60)+_0x8d1656(0x262)+_0x1319d5):(await cancelOrders(),logHistory(_0x8d1656(0x1e9),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x55b004*validateOrderInterval/0xea60)+_0x8d1656(0x262)+_0x1319d5))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!=_0x8d1656(0x260))logHistory(_0x8d1656(0x1e9),_0x8d1656(0x25d)+_0x1319d5);await unlockOrders();}}}}}async function cancelOrders(){const _0x4da8da=_0x14b281;lastOrders[_0x4da8da(0x20f)](async _0x1baffa=>{const _0x19fd3e=_0x4da8da;try{const _0x5bd802=await exchange['cancelOrder'](_0x1baffa[_0x19fd3e(0x2b6)],_0x1baffa[_0x19fd3e(0x266)]);}catch(_0x592492){if(_0x592492[_0x19fd3e(0x1dc)]()['includes']('OrderNotFound')){}else await handleError(_0x592492,_0x19fd3e(0x20e));}});}async function initCoinResults(){const _0x4c10fc=_0x14b281;let _0x4df203=[];config[_0x4c10fc(0x270)]['forEach'](_0x2cd2a=>{const _0xc4e8fc=_0x4c10fc;if(!_0x2cd2a[_0xc4e8fc(0x21e)]&&_0x2cd2a['coin']!=config['basecoin']){let _0x27265f=dbCoinResults[_0xc4e8fc(0x27b)](_0xc4e8fc(0x234))[_0xc4e8fc(0x29f)]({'coin':_0x2cd2a[_0xc4e8fc(0x2d9)]})[_0xc4e8fc(0x1cc)]();if(!_0x27265f){const _0x19e122=currentCoins[_0xc4e8fc(0x29f)](_0x71a64b=>_0x71a64b['coin']==_0x2cd2a['coin']),_0x44c086=global[_0xc4e8fc(0x204)][noslash(_0x2cd2a[_0xc4e8fc(0x266)])];let _0x728b39=_0x19e122?_0x19e122['number']:null,_0x3052ba=_0x2cd2a[_0xc4e8fc(0x1f2)]?0x1/_0x44c086:_0x44c086,_0x1a4d99;config[_0xc4e8fc(0x2b1)][_0xc4e8fc(0x20f)](_0x1859bd=>{const _0x1ad02b=_0xc4e8fc;!_0x1a4d99&&(_0x1a4d99=_0x1859bd['changes']['find'](_0x112c82=>_0x112c82[_0x1ad02b(0x2d9)]==_0x2cd2a[_0x1ad02b(0x2d9)]),_0x1a4d99&&(_0x728b39=_0x1a4d99['number'],_0x3052ba=_0x1a4d99['price']));}),_0x4df203[_0xc4e8fc(0x1c2)]({'coin':_0x2cd2a[_0xc4e8fc(0x2d9)],'number':_0x728b39,'price':_0x3052ba});}}}),_0x4df203[_0x4c10fc(0x20f)](_0x2934b8=>{const _0x80ea27=_0x4c10fc,_0x4cde8a={'coin':_0x2934b8[_0x80ea27(0x2d9)],'number':_0x2934b8[_0x80ea27(0x267)],'breakeven':_0x2934b8[_0x80ea27(0x2cb)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x80ea27(0x234))['push'](_0x4cde8a)[_0x80ea27(0x223)]();});}async function updateCoinResults(_0x20c4dc,_0xae5e94=![]){const _0x128225=_0x14b281;let _0x5867ca,_0x5e79fd,_0x227255,_0x10ff9e,_0x1b461f,_0x329637,_0x12d6ad=dbCoinResults['get'](_0x128225(0x234))[_0x128225(0x29f)]({'coin':_0x20c4dc[_0x128225(0x2d9)]})[_0x128225(0x1cc)]();!_0x12d6ad&&await initCoinResults();_0x20c4dc[_0x128225(0x1f2)]&&(_0x329637={'filled':_0x20c4dc[_0x128225(0x1ea)]*_0x20c4dc[_0x128225(0x2cb)],'amount':_0x20c4dc[_0x128225(0x1ea)]*_0x20c4dc[_0x128225(0x2cb)],'side':_0x20c4dc[_0x128225(0x291)]=='sell'?'buy':'sell','price':0x1/_0x20c4dc[_0x128225(0x2cb)]},_0x20c4dc={..._0x20c4dc,..._0x329637});_0xae5e94?_0x5e79fd=_0x20c4dc[_0x128225(0x291)]==_0x128225(0x27e)?_0x12d6ad[_0x128225(0x267)]+_0x20c4dc['filled']:_0x12d6ad[_0x128225(0x267)]-_0x20c4dc[_0x128225(0x1ea)]:_0x5e79fd=await getCoinNumber(_0x20c4dc[_0x128225(0x2d9)]);if(_0x20c4dc['fee']&&_0x20c4dc[_0x128225(0x2c5)][_0x128225(0x1d2)]==config[_0x128225(0x22e)])_0x5867ca=_0x20c4dc[_0x128225(0x2c5)][_0x128225(0x1c9)];else{if(_0x20c4dc['fee']&&_0x20c4dc[_0x128225(0x2c5)][_0x128225(0x1d2)]==_0x128225(0x2da)&&!_0xae5e94)_0x5867ca=_0x20c4dc[_0x128225(0x2c5)][_0x128225(0x1c9)]*global[_0x128225(0x204)]['BNB'+config[_0x128225(0x22e)]];else _0x5867ca=defaultFee*_0x20c4dc[_0x128225(0x1ea)]*_0x20c4dc['price'];}_0x20c4dc[_0x128225(0x291)]==_0x128225(0x27e)?(_0x227255=_0x5e79fd!=0x0?(_0x12d6ad['breakeven']*_0x12d6ad[_0x128225(0x267)]+_0x20c4dc['price']*(_0x5e79fd-_0x12d6ad['number'])+_0x5867ca)/_0x5e79fd:0x0,_0x10ff9e=_0x12d6ad[_0x128225(0x1d0)]):(_0x227255=_0x5e79fd!=0x0?(_0x12d6ad[_0x128225(0x265)]*_0x12d6ad[_0x128225(0x267)]-_0x20c4dc[_0x128225(0x2cb)]*(_0x12d6ad['number']-_0x5e79fd)+_0x5867ca)/_0x5e79fd:0x0,_0x10ff9e=_0x12d6ad['realized']+(_0x20c4dc[_0x128225(0x2cb)]-_0x12d6ad[_0x128225(0x265)])*_0x20c4dc[_0x128225(0x1ea)]);_0x1b461f=(_0x20c4dc[_0x128225(0x2cb)]-_0x227255-_0x5867ca/_0x20c4dc[_0x128225(0x1ea)])*_0x5e79fd;let _0x300c28={'coin':_0x20c4dc[_0x128225(0x2d9)],'number':_0x5e79fd,'breakeven':formatResult(_0x227255,0x8),'realized':formatResult(_0x10ff9e,0x8),'unrealized':formatResult(_0x1b461f,0x8),'fees':formatResult(_0x12d6ad[_0x128225(0x21a)]+_0x5867ca,0x8),'sells':_0x20c4dc['side']=='sell'?_0x12d6ad[_0x128225(0x20b)]+0x1:_0x12d6ad[_0x128225(0x20b)],'buys':_0x20c4dc[_0x128225(0x291)]==_0x128225(0x27e)?_0x12d6ad[_0x128225(0x226)]+0x1:_0x12d6ad[_0x128225(0x226)]};dbCoinResults[_0x128225(0x27b)](_0x128225(0x234))[_0x128225(0x29f)]({'coin':_0x20c4dc[_0x128225(0x2d9)]})[_0x128225(0x2bb)](_0x300c28)[_0x128225(0x223)]();if(!_0xae5e94){if(_0x20c4dc['fee']&&_0x20c4dc['fee'][_0x128225(0x1d2)]==_0x128225(0x2da)){const _0x5b1fcd=currentCoins[_0x128225(0x29f)](_0x109427=>_0x109427[_0x128225(0x2d9)]==_0x128225(0x2da));if(_0x5b1fcd){let _0x32332b=dbCoinResults[_0x128225(0x27b)]('coins')[_0x128225(0x29f)]({'coin':_0x128225(0x2da)})[_0x128225(0x1cc)]();_0x300c28={..._0x32332b,'number':_0x5b1fcd['number']},dbCoinResults[_0x128225(0x27b)]('coins')[_0x128225(0x29f)]({'coin':_0x128225(0x2da)})['assign'](_0x300c28)[_0x128225(0x223)]();}}}}function _0x3a97(){const _0xca6bfc=['has','full','filter','mkdirSync','\x20>\x20','USDT','UNLOCKING','showConfig','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20|\x20','average','1\x20-\x20Validate\x20orders:\x20','HOT/BTC','watchOrders','\x20has\x20a\x2024h\x20drop\x20of\x20','cloneDeep','\x20|\x20lock\x20orders:\x20','botname','writeFile','args','Reset\x20|\x20','remainingSymbols','getFullYear','openOrders','ORDERS.LOCKED','getOpenOrders()','cancelLoading','search','No\x20more\x20open\x20orders\x20-\x20','exec','emitHistory','market','starting-balances','\x20minutes\x20-\x20','apiKey','shift','breakeven','symbol','number','ask','valid','balancing\x20resumes\x20when\x20cooldown\x20ends','open','emojibuy','configuration-stored','EUR','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','portfolio','secure','net-basecoin','add','privateKey','findIndex','fetchTickers','timeout','2\x20-\x20Orders\x20unlocked','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','getDate','get','sortBy','changes','buy','Invalid\x20quantity','Order\x20amount\x20is\x20invalid:\x20','decrypt','threshold','%\x20\x0a','eur','<pre>','InvalidNonce','precision','loadMarkets','set','DAI/','sort','emojisell','<b>','substring','<b>Bot\x20','getPortfolio()','side','settings','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','hybrid-crypto-js','balances','2.6.0','limit','1398760vBSBgO','balancing\x20resumed','limits','\x20value','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','offset','timeshift','find','RequestTimeout','loading-canceled','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','defaults','toUpperCase','none','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','recreate','enabled','-events.json','replace','BTC','string','fromCodePoint','1\x20-\x20Unlock\x20orders','BUSD','Failed\x20to\x20load\x20coin\x20data\x20for\x20','liquidity','join','abs','\x20API\x20secret\x20is\x20invalid','getTime','orderId','rightTxt','\x20API\x20blocked\x20(DDoS\x20protection)','coin-loading-progress','order','assign','timer:','target','Unknown\x20error\x20occured','restart','entries','amount','headless','/EUR','bot','fee','1\x20-\x20FILLED:\x20','total','differenceInSeconds','Binance','exchange','price','trade','.json','orderstatus','3\x20-\x20handling\x20FILLED\x20order:\x20','parseISO','(((.+)+)+)+$','debug','ORDERS.UNLOCKING','stringify','2.5.0','2.3.5','ExchangeNotAvailable','version','coin','BNB','getSeconds','apiSecret','delta','001','botID','indexOf','send','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','/USD','getHours','running','date','\x20exchange','cancelOrder','RSA-OAEP','ongoing','\x20hour','limit-low','usd','percentage','startprice','isEqual','storeHeadless','4jTqBUx','warning','fetchOpenOrders','netoffset','Bot\x20','milliseconds','configuration','lowdb','round','random','1381149bSXdnn','deleteHistoryAlerts','clientOrderId','USD','storeConfiguration','MIN_NOTIONAL','remove','data','map','util','sell','customId','XEM/BUSD','2\x20-\x20FILLED\x20unknown\x20order:\x20','3961576GALHjX','./config/','kill','time','constructor','keys','fiat','message','\x20API\x20key\x20is\x20invalid','bb-secure.json','push','progress','change','splice','cooldown','includes','\x20|\x20Error\x20details:\x20','cost','event','showname','value','Pausing\x20for\x20','cancel','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','realized','parse','currency','timestamp','************','length','argv','format','./version.json','./logs/','-config.json','test','toString','startdate','Error:\x20Invalid\x20argument\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','concat','ordertype','freeze','exchanges','initial','1214246PZAhQv','padStart','Net\x20effect\x20(','Order(s)\x20validated\x20-\x20','success','filled','3471888tQnZAP','pro','split','1\x20-\x20Handle\x20open\x20orders','YOYOW/','\x20>\x20[DEBUG]\x20','datetime','reverse','171pzCpmd','Executed\x20','toLowerCase','\x20not\x20available','max','Order(s)\x20filled\x20-\x20','Net\x20','startnumber','bot-','simple','2\x20-\x20FILLED\x20known\x20order:\x20','performance','final','createOrder','getMonth','Order(s)\x20not\x20validated\x20after\x20','2\x20-\x20Validate\x20orders:\x20','ticker','lowdb/adapters/FileSync','ETH','fetchBalance','\x20minutes','watchTrades','event-history','sells','closed','limit-high','cancelOrders()','forEach','logs','LOCKED','getCoins()','BNB/','slice','AuthenticationError','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','last','Net\x20effect','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','fees','\x20portfolio:</b>\x20\x0a\x0a','padEnd','distribution','excluded','toFixed','fetchClosedOrders','431510BXtPdT','no\x20open\x20orders','write','canceled','page','buys','placeOrder','API-key\x20format\x20invalid','change24h','error','/output-000.log','getMinutes','loadSymbols()','basecoin','***','6bIatdF','\x20order:\x20','type','min','coins',',\x20must\x20be\x20a\x203\x20digit\x20number','InsufficientFunds','function','UNLOCKED',':\x20Bot\x20','existsSync','DDoSProtection','net-fiat','leftTxt','fetchTicker','log','6473665boDawG'];_0x3a97=function(){return _0xca6bfc;};return _0x3a97();}async function placeOrder(_0x368909){const _0x5c11f1=_0x14b281,_0x431d46=config[_0x5c11f1(0x1e1)]==_0x5c11f1(0x260)?_0x5c11f1(0x260):_0x5c11f1(0x297);if(lockOrders==ORDERS[_0x5c11f1(0x238)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x5c11f1(0x1e4),lastOrders=[];for(const _0x3b6294 of _0x368909){let _0x585468,_0x4ed5e5,_0x5e0bd6,_0x5ae1e8,_0x415361,_0x2e87d0=_0x3b6294['symbol'];try{const _0x1f1adb=await exchange[_0x5c11f1(0x23e)](_0x2e87d0);_0x585468=_0x3b6294[_0x5c11f1(0x1f2)]?0x1/_0x3b6294[_0x5c11f1(0x217)]:_0x3b6294[_0x5c11f1(0x217)],_0x4ed5e5=_0x1f1adb['bid'],_0x5e0bd6=_0x1f1adb[_0x5c11f1(0x268)];_0x3b6294[_0x5c11f1(0x1f2)]?(_0x5ae1e8=_0x3b6294[_0x5c11f1(0x291)]==_0x5c11f1(0x27e)?'sell':'buy',_0x415361=Math['abs'](_0x3b6294[_0x5c11f1(0x2cc)])/_0x585468):(_0x5ae1e8=_0x3b6294[_0x5c11f1(0x291)],_0x415361=Math[_0x5c11f1(0x2b3)](_0x3b6294[_0x5c11f1(0x2cc)]));_0x431d46=='limit'&&(config[_0x5c11f1(0x1e1)]==_0x5c11f1(0x20d)&&(_0x585468=_0x5ae1e8==_0x5c11f1(0x27e)?_0x4ed5e5:_0x5e0bd6),config[_0x5c11f1(0x1e1)]==_0x5c11f1(0x19a)&&(_0x585468=_0x5ae1e8==_0x5c11f1(0x27e)?_0x5e0bd6:_0x4ed5e5));_0x415361=formatResult(_0x415361,0x8),_0x585468=formatResult(_0x585468,0x8);const _0x2cc2bc=_0x5ae1e8==_0x5c11f1(0x1b4)?config[_0x5c11f1(0x28c)]?String[_0x5c11f1(0x2ad)]('0x'+config[_0x5c11f1(0x28c)])+'\x20':'':config[_0x5c11f1(0x26c)]?String[_0x5c11f1(0x2ad)]('0x'+config['emojibuy'])+'\x20':'',_0x2fb55c=_0x431d46==_0x5c11f1(0x260)?'Market':config[_0x5c11f1(0x1e1)]==_0x5c11f1(0x20d)?'Limit\x20(high-margin)':'Limit\x20(low-margin)',_0x269f7a=new Date()[_0x5c11f1(0x2b5)]()[_0x5c11f1(0x1dc)]()[_0x5c11f1(0x214)](-0x6)+'-'+Math[_0x5c11f1(0x1a9)]()['toString']()[_0x5c11f1(0x214)](-0x6);lastOrders['push']({'customId':_0x269f7a,'symbol':_0x2e87d0,'coin':_0x3b6294[_0x5c11f1(0x2d9)],'side':_0x5ae1e8,'reverse':_0x3b6294[_0x5c11f1(0x1f2)],'filled':0x0});if(_0x431d46=='market')logHistory('order',''+_0x2cc2bc+_0x2fb55c+_0x5c11f1(0x231)+_0x2e87d0+'\x20'+_0x5ae1e8+'\x20#'+formatResult(_0x415361,0x8)+'\x20@'+formatResult(_0x585468,0x8));else logHistory('order',''+_0x2cc2bc+_0x2fb55c+'\x20order:\x20'+_0x2e87d0+'\x20'+_0x5ae1e8+'\x20#'+formatResult(_0x415361,0x8)+'\x20@'+formatResult(_0x585468,0x8));const _0x33ded7=await exchange[_0x5c11f1(0x200)](_0x2e87d0,_0x431d46,_0x5ae1e8,_0x415361,_0x585468,{'clientOrderId':_0x269f7a}),_0x1d2778=lastOrders[_0x5c11f1(0x1d5)]-0x1;_0x1d2778>=0x0&&lastOrders[_0x1d2778][_0x5c11f1(0x1b5)]==_0x269f7a&&(lastOrders[_0x1d2778]={...lastOrders[_0x1d2778],'orderId':_0x33ded7['id'],'amount':_0x33ded7['amount'],'price':_0x33ded7[_0x5c11f1(0x2cb)],'fee':_0x33ded7[_0x5c11f1(0x2c5)]});if(config[_0x5c11f1(0x1c6)]!=0x0){let _0x15fe3e=null;if(cooldownTracker['length']==config[_0x5c11f1(0x1c6)]-0x1)_0x15fe3e=cooldownTracker[_0x5c11f1(0x264)]();const _0x517130=getTimeStamp();cooldownTracker[_0x5c11f1(0x1c2)](_0x517130);if(_0x15fe3e){const _0xadf49b=fns[_0x5c11f1(0x2c8)](new Date(_0x517130),new Date(_0x15fe3e));if(_0xadf49b<cooldownInterval){logHistory(_0x5c11f1(0x22a),_0x5c11f1(0x1f4)+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x5c11f1(0x199)),coolingDown=!![];break;}}}}catch(_0xadad4e){if(_0xadad4e[_0x5c11f1(0x1dc)]()[_0x5c11f1(0x1c7)](_0x5c11f1(0x1af)))lastOrders=lastOrders[_0x5c11f1(0x243)](_0x590773=>_0x590773[_0x5c11f1(0x266)]!=_0x2e87d0),logHistory(_0x5c11f1(0x22a),_0x5c11f1(0x1cf)+_0x2e87d0);else _0xadad4e[_0x5c11f1(0x1dc)]()[_0x5c11f1(0x1c7)](_0x5c11f1(0x27f))?(lastOrders=lastOrders[_0x5c11f1(0x243)](_0x54295d=>_0x54295d['symbol']!=_0x2e87d0),logHistory('error',_0x5c11f1(0x280)+_0x2e87d0)):(lastOrders=lastOrders['filter'](_0x43f993=>_0x43f993[_0x5c11f1(0x266)]!=_0x2e87d0),await handleError(_0xadad4e,'placeOrder()',_0x2e87d0));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5c11f1(0x1d5)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x194c9d=config[_0x5c11f1(0x1e1)]==_0x5c11f1(0x260)?validateOrderTimeout*0x3c*0x3e8:config[_0x5c11f1(0x277)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x147207=_0x5c11f1;validateOrders(_0x147207(0x1ff));},_0x194c9d);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5c11f1(0x1e9),_0x5c11f1(0x1df)));}else{if(coolingDown)!config[_0x5c11f1(0x2c2)]&&logHistory(_0x5c11f1(0x22a),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x5c11f1(0x238)]&&(!config['headless']&&(config[_0x5c11f1(0x1e1)]==_0x5c11f1(0x260)?logHistory(_0x5c11f1(0x22a),_0x5c11f1(0x219)):logHistory('error',_0x5c11f1(0x190))));}}function persistOpenOrders(_0x45a244){const _0x53b623=_0x14b281,_0x4489ec={...config,'openOrders':_0x45a244};let _0x55449e=dbConfig[_0x53b623(0x27b)]('bot')['find']({'botID':botID})[_0x53b623(0x1cc)]();_0x55449e&&dbConfig[_0x53b623(0x27b)](_0x53b623(0x2c4))[_0x53b623(0x29f)]({'botID':botID})[_0x53b623(0x2bb)](_0x4489ec)['write']();}function restoreOrders(){const _0x3fcf88=_0x14b281;let _0x46f2c8;config['openOrders']&&allOpenOrders[_0x3fcf88(0x20f)](_0xeb1ea1=>{const _0x290479=_0x3fcf88,_0x506cb4=config[_0x290479(0x258)][_0x290479(0x29f)](_0x11ead1=>_0x11ead1['orderId']==_0xeb1ea1['id']);_0x506cb4&&(lastOrders['push'](_0x506cb4),_0x46f2c8=_0xeb1ea1[_0x290479(0x1d3)]);});if(lastOrders[_0x3fcf88(0x1d5)]>0x0){lockOrders=ORDERS[_0x3fcf88(0x211)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x234900=new Date()[_0x3fcf88(0x2b5)](),_0xc9be12=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x3fcf88(0x277)]*0x3c*0x3e8;if(_0x46f2c8+_0xc9be12>_0x234900){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x474b92=_0x3fcf88;validateOrders(_0x474b92(0x1ff));},_0x46f2c8+_0xc9be12-_0x234900);}else validateOrders(_0x3fcf88(0x1ff));}}async function sendPortfolioTelegram(){const _0x4c4126=_0x14b281;if(!coinsLoaded){process[_0x4c4126(0x18f)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x1fed4f=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x46b1a1=[_0x4c4126(0x26e),'USD','BUSD',_0x4c4126(0x246)],_0xb4df30=_0x46b1a1[_0x4c4126(0x1c7)](config[_0x4c4126(0x22e)])?0x2:0x8;let _0x9f29e='';if(config[_0x4c4126(0x1cb)])_0x9f29e=_0x4c4126(0x28d)+config[_0x4c4126(0x252)]+_0x4c4126(0x21b);else _0x9f29e=_0x4c4126(0x28f)+botID+_0x4c4126(0x21b);const _0x8dd17c=getKPIs(_0x4c4126(0x22e)),_0x2e1f6c=getKPIs('net-basecoin');_0x9f29e+=_0x4c4126(0x285),_0x9f29e+=_0x8dd17c[_0x4c4126(0x23d)]+'\x20:\x20'+_0x8dd17c[_0x4c4126(0x1cc)]+'\x20\x0a',_0x9f29e+=_0x8dd17c[_0x4c4126(0x2b7)]+':\x20'+_0x8dd17c[_0x4c4126(0x1c4)]+_0x4c4126(0x283),_0x9f29e+=_0x2e1f6c[_0x4c4126(0x23d)]+':\x20'+_0x2e1f6c[_0x4c4126(0x1cc)]+'\x20'+config[_0x4c4126(0x22e)]+'\x0a',_0x9f29e+=_0x2e1f6c[_0x4c4126(0x2b7)]+':\x20'+_0x2e1f6c[_0x4c4126(0x1c4)]+_0x4c4126(0x283),_0x9f29e+='\x0a',_0x9f29e+='-------------------------------\x0a',_0x9f29e+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x9f29e+='-------------------------------\x0a',currentCoins['forEach'](_0x29c72a=>{const _0x446a72=_0x4c4126;_0x9f29e+=_0x29c72a[_0x446a72(0x2d9)][_0x446a72(0x21c)](0x7)+'|\x20'+formatPad(_0x29c72a['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x29c72a[_0x446a72(0x2bd)],0x2,0x6)+'|\x20'+formatPad(_0x29c72a[_0x446a72(0x18b)]*0x64,0x2,0x6)+'\x0a';}),_0x9f29e+='</pre>',process['send']({'telegrammsg':_0x9f29e},_0x129255=>{});}function formatPad(_0x1cbc9d,_0x2a129f,_0x43bb26){const _0x5312c3=_0x14b281,_0x1262ba=formatResultString(_0x1cbc9d,_0x2a129f);return _0x1262ba?_0x1262ba['padStart'](_0x43bb26):''[_0x5312c3(0x1e6)](_0x43bb26);}function logHistory(_0x229706,_0x4bc31f,_0x2ff3f1=''){const _0x39893d=_0x14b281;let _0x364704={'time':getTimeStamp(),'type':_0x229706,'event':_0x4bc31f};dbLogs['get'](_0x39893d(0x210))[_0x39893d(0x1c2)](_0x364704)['write']();if(_0x2ff3f1=='')_0x2ff3f1=_0x4bc31f;proxyEmit(_0x39893d(0x1ca),{'log':_0x364704,'summary':_0x2ff3f1}),process[_0x39893d(0x18f)]({'telegram':{..._0x364704,'botname':config[_0x39893d(0x252)],'showname':config[_0x39893d(0x1cb)]}},_0x253044=>{}),logger['full'](''+_0x364704[_0x39893d(0x1ca)]);}function emitHistory(_0x28e7a1={}){const _0x2bc499=_0x14b281;Object[_0x2bc499(0x1bd)](_0x28e7a1)[_0x2bc499(0x1d5)]==0x0&&(_0x28e7a1={'type':[_0x2bc499(0x2ba),_0x2bc499(0x1ca)],'event':'','page':0x1});if(_0x28e7a1[_0x2bc499(0x232)][_0x2bc499(0x1c7)](_0x2bc499(0x1ca)))_0x28e7a1[_0x2bc499(0x232)][_0x2bc499(0x1c5)](_0x28e7a1[_0x2bc499(0x232)][_0x2bc499(0x18e)](_0x2bc499(0x1ca)),0x1,_0x2bc499(0x22a),_0x2bc499(0x1e9));if(dbLogs['has'](_0x2bc499(0x210))[_0x2bc499(0x1cc)]()){let _0x4a4c76=dbLogs[_0x2bc499(0x27b)](_0x2bc499(0x210))[_0x2bc499(0x243)](_0xddc85d=>{const _0x584347=_0x2bc499;if(_0x28e7a1[_0x584347(0x232)]['length']==0x0)return![];else return _0x28e7a1[_0x584347(0x232)][_0x584347(0x1c7)](_0xddc85d[_0x584347(0x232)]);})['filter'](_0x3d91de=>{const _0x21c62c=_0x2bc499;if(_0x28e7a1['event']=='')return!![];else return _0x3d91de[_0x21c62c(0x1ca)][_0x21c62c(0x1f5)]()[_0x21c62c(0x1c7)](_0x28e7a1[_0x21c62c(0x1ca)]['toLowerCase']());})[_0x2bc499(0x27c)](_0x2bc499(0x1bb)),_0xf3c88e=_0x4a4c76[_0x2bc499(0x1cc)]()[_0x2bc499(0x1d5)];_0x4a4c76=_0x4a4c76[_0x2bc499(0x1f2)]()[_0x2bc499(0x214)]((_0x28e7a1[_0x2bc499(0x225)]-0x1)*logPageSize,_0x28e7a1['page']*logPageSize-0x1)[_0x2bc499(0x1f2)]()[_0x2bc499(0x1cc)](),proxyEmit(_0x2bc499(0x20a),{'logs':_0x4a4c76,'total':_0xf3c88e});}else proxyEmit(_0x2bc499(0x20a),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x310bdb){const _0x53f070=_0x14b281;if(dbLogs[_0x53f070(0x241)](_0x53f070(0x210))[_0x53f070(0x1cc)]()){const _0x1a9bb5=dbLogs[_0x53f070(0x27b)](_0x53f070(0x210))[_0x53f070(0x27c)]('time')[_0x53f070(0x243)](_0x18551b=>{const _0x4caddc=_0x53f070;return _0x18551b[_0x4caddc(0x232)]==_0x4caddc(0x2ba);})[_0x53f070(0x1cc)]();dbLogs[_0x53f070(0x27b)](_0x53f070(0x210))[_0x53f070(0x1b0)]()['write'](),dbLogs[_0x53f070(0x27b)](_0x53f070(0x210))['assign'](_0x1a9bb5)['write'](),emitHistory(_0x310bdb);}}async function pauseBot(_0x3bdd5a=''){const _0x4346b2=_0x14b281,_0x14dff7=new Date()[_0x4346b2(0x2b5)]();if(!lastErrorShown||_0x14dff7-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x14dff7;!lastBotPause?(lastBotPause=_0x14dff7,consecutivePauses=0x1):(_0x14dff7-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x4346b2(0x18f)]({'stop':'restart'},_0x3674fc=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x4346b2(0x2b5)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x3bdd5a)_0x3bdd5a+=_0x4346b2(0x24a);logHistory(_0x4346b2(0x22a),_0x3bdd5a+_0x4346b2(0x1cd)+pauseBotInterval/0xea60+_0x4346b2(0x208)),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){const _0x4d2048=_0x14b281;process[_0x4d2048(0x18f)]({'stop':_0x4d2048(0x1ba)},_0x4934da=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2e6a94,_0x16d088){const _0x26e6a1=_0x14b281;if(_0x2e6a94[_0x26e6a1(0x1dc)]()['includes'](_0x26e6a1(0x228)))return logHistory('error',config[_0x26e6a1(0x2ca)]+_0x26e6a1(0x1c0)),![];else{if(_0x2e6a94['toString']()[_0x26e6a1(0x1c7)](_0x26e6a1(0x249)))return logHistory(_0x26e6a1(0x22a),config[_0x26e6a1(0x2ca)]+_0x26e6a1(0x2b4)),![];else{if(_0x2e6a94[_0x26e6a1(0x1dc)]()[_0x26e6a1(0x1c7)](_0x26e6a1(0x215)))return logHistory(_0x26e6a1(0x22a),config[_0x26e6a1(0x2ca)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20'+config[_0x26e6a1(0x2ca)]),![];else await handleError(_0x2e6a94,_0x16d088);}}}async function handleError(_0x235992,_0x1eb081,_0x32adcc=''){const _0x3433d2=_0x14b281;if(_0x235992[_0x3433d2(0x1dc)]()[_0x3433d2(0x1c7)](_0x3433d2(0x23b)))await pauseBot(config[_0x3433d2(0x2ca)]+_0x3433d2(0x2b8));else{if(_0x235992[_0x3433d2(0x1dc)]()['includes'](_0x3433d2(0x2d7)))await pauseBot(config[_0x3433d2(0x2ca)]+_0x3433d2(0x1f6));else{if(_0x235992[_0x3433d2(0x1dc)]()[_0x3433d2(0x1c7)](_0x3433d2(0x2a0)))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0x235992[_0x3433d2(0x1dc)]()[_0x3433d2(0x1c7)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x3433d2(0x22a),_0x1eb081+'\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x3433d2(0x22a),_0x3433d2(0x26f)),await killBot();else{if(_0x235992['toString']()[_0x3433d2(0x1c7)](_0x3433d2(0x286)))logHistory('error',_0x1eb081+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x3433d2(0x26f)),await killBot();else{if(_0x235992[_0x3433d2(0x1dc)]()['includes'](_0x3433d2(0x228)))logHistory(_0x3433d2(0x22a),_0x1eb081+_0x3433d2(0x24a)+config[_0x3433d2(0x2ca)]+_0x3433d2(0x1c0)),logHistory(_0x3433d2(0x22a),_0x3433d2(0x26f)),await killBot();else{if(_0x235992[_0x3433d2(0x1dc)]()[_0x3433d2(0x1c7)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x3433d2(0x22a),_0x1eb081+_0x3433d2(0x24a)+config['exchange']+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x3433d2(0x22a),_0x3433d2(0x26f)),await killBot();else{if(_0x235992[_0x3433d2(0x1dc)]()[_0x3433d2(0x1c7)](_0x3433d2(0x215)))logHistory('error',_0x1eb081+_0x3433d2(0x24a)+config[_0x3433d2(0x2ca)]+_0x3433d2(0x279)+config['exchange']),logHistory('error',_0x3433d2(0x26f)),await killBot();else _0x235992[_0x3433d2(0x1dc)]()[_0x3433d2(0x1c7)](_0x3433d2(0x236))?logHistory(_0x3433d2(0x22a),_0x1eb081+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x32adcc):(logger[_0x3433d2(0x242)](_0x1eb081+_0x3433d2(0x1c8),_0x235992),await pauseBot(_0x3433d2(0x2be)));}}}}}}}}function formatResult(_0x11c16f,_0xbdd614){const _0x3edd59=_0x14b281;return parseFloat(_0x11c16f[_0x3edd59(0x21f)](_0xbdd614));}function formatResultTruncate(_0x4571fb,_0x355d0d){let _0x1e9793=formatResultString(_0x4571fb,0xa),_0x47da4f=_0x1e9793['indexOf']('.');return _0x47da4f!=-0x1&&(_0x1e9793=_0x1e9793['slice'](0x0,_0x47da4f+_0x355d0d+0x1)),Number(_0x1e9793);}function formatResultString(_0x19b058,_0x490031){const _0x38340b=_0x14b281;let _0x1cee7d;if(!(''+_0x19b058)[_0x38340b(0x1c7)]('e'))_0x1cee7d=+(Math[_0x38340b(0x1a8)](_0x19b058+'e+'+_0x490031)+'e-'+_0x490031);else{let _0x25d040=(''+_0x19b058)[_0x38340b(0x1ed)]('e'),_0x2e52d9='';+_0x25d040[0x1]+_0x490031>0x0&&(_0x2e52d9='+'),_0x1cee7d=+(Math['round'](+_0x25d040[0x0]+'e'+_0x2e52d9+(+_0x25d040[0x1]+_0x490031))+'e-'+_0x490031);}return Number(_0x1cee7d)[_0x38340b(0x21f)](_0x490031);}function getServerTime(){const _0x32326b=_0x14b281,_0x47be7d=new Date();return _0x47be7d[_0x32326b(0x257)]()+'/'+(_0x47be7d[_0x32326b(0x201)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x47be7d[_0x32326b(0x27a)]()['toString']()[_0x32326b(0x1e6)](0x2,'0')+'\x20'+_0x47be7d[_0x32326b(0x192)]()['toString']()['padStart'](0x2,'0')+':'+_0x47be7d[_0x32326b(0x22c)]()[_0x32326b(0x1dc)]()[_0x32326b(0x1e6)](0x2,'0')+':'+_0x47be7d[_0x32326b(0x189)]()[_0x32326b(0x1dc)]()[_0x32326b(0x1e6)](0x2,'0');}function getTimeStamp(){const _0x52fe4e=_0x14b281,_0x17eb78=shiftedTime();return _0x17eb78[_0x52fe4e(0x257)]()+'/'+(_0x17eb78['getMonth']()+0x1)['toString']()[_0x52fe4e(0x1e6)](0x2,'0')+'/'+_0x17eb78['getDate']()[_0x52fe4e(0x1dc)]()[_0x52fe4e(0x1e6)](0x2,'0')+'\x20'+_0x17eb78[_0x52fe4e(0x192)]()[_0x52fe4e(0x1dc)]()['padStart'](0x2,'0')+':'+_0x17eb78[_0x52fe4e(0x22c)]()[_0x52fe4e(0x1dc)]()[_0x52fe4e(0x1e6)](0x2,'0')+':'+_0x17eb78['getSeconds']()[_0x52fe4e(0x1dc)]()[_0x52fe4e(0x1e6)](0x2,'0');}function getDate(){const _0x1fe63a=_0x14b281,_0x4fc0ba=shiftedTime();return _0x4fc0ba['getFullYear']()+'/'+(_0x4fc0ba[_0x1fe63a(0x201)]()+0x1)[_0x1fe63a(0x1dc)]()[_0x1fe63a(0x1e6)](0x2,'0')+'/'+_0x4fc0ba[_0x1fe63a(0x27a)]()[_0x1fe63a(0x1dc)]()[_0x1fe63a(0x1e6)](0x2,'0');}function getHour(){const _0x57e129=_0x14b281,_0x363775=shiftedTime();return _0x363775[_0x57e129(0x192)]()[_0x57e129(0x1dc)]()['padStart'](0x2,'0');}function sleep(_0x21dba8){return new Promise(_0x7472fa=>setTimeout(_0x7472fa,_0x21dba8));}function shiftedTime(){const _0x3ee0af=_0x14b281,_0x436b6e=new Date();let _0x5975ef=_0x436b6e;if(config&&config[_0x3ee0af(0x29e)]!==0x0)_0x5975ef=fns[_0x3ee0af(0x273)](_0x436b6e,{'hours':config[_0x3ee0af(0x29e)]});return _0x5975ef;}function timer(_0x2b529a){const _0x25f7bf=_0x14b281,_0x136caa=new Date();!lasttime?console[_0x25f7bf(0x23f)]('timer:',_0x2b529a,_0x136caa):console[_0x25f7bf(0x23f)](_0x25f7bf(0x2bc),_0x2b529a,(_0x136caa-lasttime)/0x3e8),lasttime=_0x136caa;}