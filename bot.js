const _0x46a69d=_0x4a6b;(function(_0xaf3a1c,_0x246b0d){const _0x186597=_0x4a6b,_0x191cfd=_0xaf3a1c();while(!![]){try{const _0xd513d8=-parseInt(_0x186597(0x1d3))/0x1+-parseInt(_0x186597(0x1d2))/0x2+parseInt(_0x186597(0x198))/0x3+parseInt(_0x186597(0x173))/0x4+-parseInt(_0x186597(0x163))/0x5*(-parseInt(_0x186597(0xb2))/0x6)+-parseInt(_0x186597(0x1df))/0x7*(parseInt(_0x186597(0x9d))/0x8)+parseInt(_0x186597(0x195))/0x9*(parseInt(_0x186597(0xa2))/0xa);if(_0xd513d8===_0x246b0d)break;else _0x191cfd['push'](_0x191cfd['shift']());}catch(_0x57209a){_0x191cfd['push'](_0x191cfd['shift']());}}}(_0x2dcd,0x4141c));const _0xedc2b9=function(){let _0x357d22=!![];return function(_0x3a0f36,_0x5e8f1d){const _0x21ee4d=_0x357d22?function(){const _0x4b01bb=_0x4a6b;if(_0x5e8f1d){const _0x311440=_0x5e8f1d[_0x4b01bb(0x1c5)](_0x3a0f36,arguments);return _0x5e8f1d=null,_0x311440;}}:function(){};return _0x357d22=![],_0x21ee4d;};}(),_0x4e4c6f=_0xedc2b9(this,function(){const _0x5e84c1=_0x4a6b;return _0x4e4c6f[_0x5e84c1(0x12d)]()[_0x5e84c1(0xde)](_0x5e84c1(0x11b))[_0x5e84c1(0x12d)]()[_0x5e84c1(0xe3)](_0x4e4c6f)[_0x5e84c1(0xde)](_0x5e84c1(0x11b));});_0x4e4c6f();'use strict';const ccxt=require('ccxt')[_0x46a69d(0x12e)],low=require(_0x46a69d(0xaa)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),Crypt=require('hybrid-crypto-js')[_0x46a69d(0x1db)],util=require('util'),argv=require(_0x46a69d(0x151))(process[_0x46a69d(0xea)][_0x46a69d(0xe9)](0x2))['argv'],path=require(_0x46a69d(0x155));let exchange;global['ticker']={},global[_0x46a69d(0x84)]={};const exceptions={'binance':[_0x46a69d(0x1a5),'HOT/BTC',_0x46a69d(0x1af),_0x46a69d(0x18d),'YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x46a69d(0xf3)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x46a69d(0xa8)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x46a69d(0xe2))['version'],botID=process['argv'][0x2]||_0x46a69d(0x13a),pattern=/^[0-9]{3}$/;!pattern[_0x46a69d(0x144)](botID)&&(console[_0x46a69d(0x87)](_0x46a69d(0x126)+botID+_0x46a69d(0xdb)),killBot());const userID=process[_0x46a69d(0xea)][0x3]||'',configpath=userID?_0x46a69d(0x13d)+userID+'/':'./config/',logspath=userID?_0x46a69d(0x1ab)+userID+'/':_0x46a69d(0x1ab),loggerfile=fs[_0x46a69d(0x16b)](logspath+_0x46a69d(0x1b5),{'flags':'a'});!fs[_0x46a69d(0xe4)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x46a69d(0xe4)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x46a69d(0x16c)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x46a69d(0x128),performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+_0x46a69d(0x16c)+botID+_0x46a69d(0x1cb),settingsfile=configpath+_0x46a69d(0xe8),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x46a69d(0x1ac),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x46a69d(0x1c3)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x46a69d(0x109)]({'data':[],'version':serverversion})[_0x46a69d(0x1c3)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x46a69d(0x1c3)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x46a69d(0x196)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1c68ab=>{const _0x1a06a0=_0x46a69d;console[_0x1a06a0(0x87)](_0x1c68ab);},'simple':_0x30a728=>{const _0x5a4505=_0x46a69d;console[_0x5a4505(0x87)](_0x30a728),loggerfile['write'](util[_0x5a4505(0x1b0)](_0x30a728)+'\x0a');},'full':async(_0x581af2,_0x29d3e6='')=>{const _0x458086=_0x46a69d;let _0x5b9028;if(config['showname'])_0x5b9028=getTimeStamp()+':\x20'+config[_0x458086(0xf0)]+_0x458086(0x16a)+_0x581af2;else _0x5b9028=getTimeStamp()+_0x458086(0x161)+botID+_0x458086(0x16a)+_0x581af2;console[_0x458086(0x87)](_0x5b9028),loggerfile[_0x458086(0x1c3)](util[_0x458086(0x1b0)](_0x5b9028)+'\x0a'),_0x29d3e6&&(console[_0x458086(0x87)](_0x29d3e6),loggerfile[_0x458086(0x1c3)](util[_0x458086(0x1b0)](_0x29d3e6)+'\x0a'));},'debug':async(_0xa4f0c5,_0x193f0c='')=>{const _0x2131d5=_0x46a69d;let _0x43c62d;if(config[_0x2131d5(0x1d1)])_0x43c62d=getTimeStamp()+':\x20'+config['botname']+_0x2131d5(0x1cc)+_0xa4f0c5;else _0x43c62d=getTimeStamp()+_0x2131d5(0x161)+botID+_0x2131d5(0x1cc)+_0xa4f0c5;if(debugging)console[_0x2131d5(0x87)](_0x43c62d);loggerfile[_0x2131d5(0x1c3)](util[_0x2131d5(0x1b0)](_0x43c62d)+'\x0a');if(_0x193f0c){if(debugging)console[_0x2131d5(0x87)](_0x193f0c);loggerfile[_0x2131d5(0x1c3)](util[_0x2131d5(0x1b0)](_0x193f0c)+'\x0a');}}};process['on']('uncaughtException',function(_0x731223){const _0x5cfd84=_0x46a69d;logger[_0x5cfd84(0xdc)](_0x731223);});function _0x4a6b(_0x5bb1c8,_0x1098cb){const _0x26414b=_0x2dcd();return _0x4a6b=function(_0x4e4c6f,_0xedc2b9){_0x4e4c6f=_0x4e4c6f-0x7f;let _0x2dcd49=_0x26414b[_0x4e4c6f];return _0x2dcd49;},_0x4a6b(_0x5bb1c8,_0x1098cb);}settings[_0x46a69d(0x1ec)]!=config['timeshift']&&updateTimeshift(settings[_0x46a69d(0x1ec)]);settings[_0x46a69d(0x1bd)]!=config[_0x46a69d(0x1bd)]&&updateOnepagemode(settings['onepagemode']);process['send']({'started':'running'},_0x125e5f=>{}),initializeProcessListeners();function proxyEmit(_0x26b5df,_0xd255f2=null){const _0x7f0da7=_0x46a69d;process[_0x7f0da7(0xb3)]({'function':_0x26b5df,'args':_0xd255f2},_0x20987f=>{});}function initializeProcessListeners(){const _0x52d0ac=_0x46a69d;process['on'](_0x52d0ac(0x1bc),_0x26fe7e=>{const _0x34704b=_0x52d0ac;switch(Object[_0x34704b(0x12c)](_0x26fe7e)[0x0]){case'timeshift':_0x26fe7e[_0x34704b(0x1ec)]!=undefined&&(settings[_0x34704b(0x1ec)]=_0x26fe7e[_0x34704b(0x1ec)],updateTimeshift(settings[_0x34704b(0x1ec)]));break;case _0x34704b(0x1bd):_0x26fe7e[_0x34704b(0x1bd)]!=undefined&&(settings[_0x34704b(0x1bd)]=_0x26fe7e[_0x34704b(0x1bd)],updateOnepagemode(settings[_0x34704b(0x1bd)]));break;case _0x34704b(0xa9):_0x26fe7e[_0x34704b(0xa9)]!=undefined&&(bots=JSON[_0x34704b(0xee)](_0x26fe7e[_0x34704b(0xa9)]),proxyEmit('bots',bots));break;case _0x34704b(0xa7):switch(_0x26fe7e['function']){case _0x34704b(0x129):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x34704b(0x17b):emitHistory(_0x26fe7e[_0x34704b(0x15f)]);break;case _0x34704b(0x1e8):deleteHistoryAlerts(_0x26fe7e[_0x34704b(0x15f)]);break;case _0x34704b(0x165):getPortfolio(_0x26fe7e['args']);break;case'storeConfiguration':storeConfiguration(_0x26fe7e[_0x34704b(0x15f)]);break;case'storeHeadless':storeHeadless(_0x26fe7e[_0x34704b(0x15f)]);break;case _0x34704b(0x134):storeFiat(_0x26fe7e[_0x34704b(0x15f)]);break;case _0x34704b(0x9a):resetHistory();break;case _0x34704b(0x1ce):getStartingBalances(getNormalizedPerformance());break;case _0x34704b(0x164):placeOrder(_0x26fe7e[_0x34704b(0x15f)]);break;case _0x34704b(0xd8):cancelLoading();break;case _0x34704b(0x1eb):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x34704b(0x1d5):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x1bc583=null,_0xa7e893=![]){const _0x1efbc3=_0x46a69d;logger['debug'](_0x1efbc3(0x90)+(_0x1bc583&&_0x1bc583[_0x1efbc3(0x1c0)]>0x0?_0x1efbc3(0x1da)+_0x1bc583['join'](','):'no\x20additional\x20symbols')+'\x20|\x20'+(_0xa7e893?_0x1efbc3(0x1bb):_0x1efbc3(0x1ba)));if(pidBalances)clearTimeout(pidBalances);if(!_0xa7e893)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x1efbc3(0x96)]!=''&&config[_0x1efbc3(0x96)]!=_0x1efbc3(0x176)){if(_0xa7e893){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x40de62){if(_0x40de62[_0x1efbc3(0x12d)]()[_0x1efbc3(0x1d7)](_0x1efbc3(0xbd))){handleErrorNoStop(_0x40de62,_0x1efbc3(0x1b1));return;}else{handleError(_0x40de62,_0x1efbc3(0x1b1));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x1bc583);const _0xc5e59=await getCoins();[currentCoins,currentCoinsAll]=_0xc5e59,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x1efbc3(0x1c0)]==0x0&&allOpenOrders[_0x1efbc3(0x1c0)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x537b00=_0x46a69d;exchangeStopped=!![],await exchange[_0x537b00(0x95)]();}async function reloadExchange(){const _0x111d5a=_0x46a69d;logger[_0x111d5a(0x1f5)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x111d5a(0xa8)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x111d5a(0x1f5)](_0x111d5a(0xfc)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x36a83d=config[_0x46a69d(0xd5)],_0x383156=config['apiKey'],_0x4b16e7=config['apiSecret']){const _0x5c47ea=_0x46a69d;exchange&&await stopExchange();!supportedExchanges()[_0x5c47ea(0x1d7)](_0x36a83d)&&(logHistory(_0x5c47ea(0xa4),_0x5c47ea(0x100)+_0x36a83d+_0x5c47ea(0x7f)),killBot());const _0x1924f1=ccxt[_0x36a83d['toLowerCase']()];exchange=new _0x1924f1({'apiKey':_0x383156,'secret':_0x4b16e7,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x2bac5b=_0x46a69d;let _0x956569=config[_0x2bac5b(0x16d)]=='ETH'?_0x2bac5b(0x140):_0x2bac5b(0x17e),_0x2bbcdc=!allSymbols[_0x2bac5b(0x1d7)](_0x956569+_0x2bac5b(0x18c))?'USDT':_0x2bac5b(0x1e5),_0x39a9d0=!allSymbols[_0x2bac5b(0x1d7)](_0x956569+'/EUR')?_0x2bbcdc:_0x2bac5b(0x81);stablecoins={'eur':{'coin':''+_0x956569+_0x39a9d0,'symbol':_0x956569+'/'+_0x39a9d0},'usd':{'coin':''+_0x956569+_0x2bbcdc,'symbol':_0x956569+'/'+_0x2bbcdc}};}async function initwsCcxt(_0x22d759){const _0x1d6a61=_0x46a69d;_0x22d759==null&&(_0x22d759=[],config[_0x1d6a61(0x120)][_0x1d6a61(0x1f2)](_0x26c95e=>{const _0x4a1645=_0x1d6a61;if(!_0x26c95e[_0x4a1645(0xf9)]&&_0x26c95e['coin']!=config['basecoin'])_0x22d759['push'](_0x26c95e['symbol']);}));if(!_0x22d759[_0x1d6a61(0x1d7)](stablecoins['eur'][_0x1d6a61(0x166)]))_0x22d759['push'](stablecoins[_0x1d6a61(0x12f)][_0x1d6a61(0x166)]);if(!_0x22d759['includes'](stablecoins['usd']['symbol']))_0x22d759[_0x1d6a61(0xb6)](stablecoins['usd'][_0x1d6a61(0x166)]);if(!_0x22d759[_0x1d6a61(0x1d7)]('BNB/'+config['basecoin']))_0x22d759[_0x1d6a61(0xb6)](_0x1d6a61(0x13e)+config[_0x1d6a61(0x16d)]);loadCoins(_0x22d759);const _0x13070e=async _0x49625b=>{const _0x17d9a9=_0x1d6a61,_0x1385d8=await exchange[_0x17d9a9(0x124)](_0x49625b);global[_0x17d9a9(0x13c)][noslash(_0x1385d8[_0x17d9a9(0x166)])]=_0x1385d8[_0x17d9a9(0x1bf)];while(!![]){if(!botPaused)try{const _0x54d019=await exchange['watchTrades'](_0x49625b);global[_0x17d9a9(0x13c)][noslash(_0x54d019[0x0][_0x17d9a9(0x166)])]=_0x54d019[0x0][_0x17d9a9(0x103)],await sleep(0x3e8);}catch(_0x380338){if(!exchangeStopped)await handleError(_0x380338,'watchTrades',_0x49625b);}else await sleep(0x3e8);}},_0x4acf62=async _0x4a0769=>{const _0xb22483=_0x1d6a61;while(!![]){if(!botPaused)try{const _0x1451f4=await exchange[_0xb22483(0x124)](_0x4a0769);global[_0xb22483(0x84)][_0x1451f4[_0xb22483(0x166)]]=_0x1451f4[_0xb22483(0x14a)],await sleep(0x3c*0x3e8);}catch(_0x148ef2){if(!exchangeStopped)await handleError(_0x148ef2,_0xb22483(0xcc),_0x4a0769);}else await sleep(0x3e8);}},_0x3df0d1=async()=>{const _0x3d8f9e=_0x1d6a61;while(!![]){if(!botPaused)try{const _0x6179bd=await exchange[_0x3d8f9e(0x168)]();_0x6179bd[_0x3d8f9e(0x1f2)](_0xdd0783=>{updateNumberCoinsCcxt(_0xdd0783);});}catch(_0x46c833){if(!exchangeStopped)await handleError(_0x46c833,_0x3d8f9e(0x168));}else await sleep(0x3e8);}};_0x22d759['forEach'](async _0x21cb97=>{_0x13070e(_0x21cb97),_0x4acf62(_0x21cb97);}),!wsEventsSet&&(wsEventsSet=!![],_0x3df0d1(),watchTransactions());}async function watchTransactions(){const _0x47a0f1=_0x46a69d;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x3e7ce9=await getCoins(),[_0x207a4e,_0xcb712c]=_0x3e7ce9;let _0x57cc4c=[];currentCoins[_0x47a0f1(0x1f2)](_0x42c65a=>{const _0x24710a=_0x47a0f1,_0x8db4d6=_0x207a4e[_0x24710a(0xaf)](_0x1d5421=>_0x1d5421[_0x24710a(0x101)]==_0x42c65a[_0x24710a(0x101)]);_0x8db4d6&&(_0x42c65a[_0x24710a(0x18f)]!=_0x8db4d6[_0x24710a(0x18f)]&&_0x57cc4c[_0x24710a(0xb6)]({'coin':_0x42c65a[_0x24710a(0x101)],'symbol':_0x42c65a[_0x24710a(0x166)],'number':Number(formatResult(_0x8db4d6[_0x24710a(0x18f)]-_0x42c65a[_0x24710a(0x18f)],0x8))}));});if(_0x57cc4c[_0x47a0f1(0x1c0)]==0x1&&!blockTransactionDetection){logger['debug'](_0x47a0f1(0x12a)+lastFees[_0x47a0f1(0x122)]+_0x47a0f1(0x175)+lastFees[_0x47a0f1(0xa5)]);if(!lastFees['currency']||_0x57cc4c[0x0][_0x47a0f1(0x101)]!=lastFees[_0x47a0f1(0x122)]||_0x57cc4c[0x0][_0x47a0f1(0x18f)]>lastFees[_0x47a0f1(0xa5)]){let _0x569d9f;if(_0x57cc4c[0x0][_0x47a0f1(0x101)]!=config[_0x47a0f1(0x16d)]){let _0x4ccd6e=global[_0x47a0f1(0x13c)][noslash(_0x57cc4c[0x0][_0x47a0f1(0x166)])];_0x569d9f=_0x57cc4c[0x0]['reverse']?0x1/_0x4ccd6e:_0x4ccd6e;}else _0x569d9f=0x1;_0x57cc4c[0x0][_0x47a0f1(0x103)]=_0x569d9f,delete _0x57cc4c[0x0][_0x47a0f1(0x166)];let _0x4c0394=[],_0x3cdb62=[...config[_0x47a0f1(0x130)]]||[],_0x5d7a18=config[_0x47a0f1(0x130)];_0x3cdb62['sort']((_0x553f19,_0x244972)=>_0x553f19[_0x47a0f1(0x15b)]>_0x244972['date']?-0x1:_0x244972[_0x47a0f1(0x15b)]>_0x553f19['date']?0x1:0x0);const _0x35ddc3=getDate();if(_0x3cdb62[0x0]){const _0x59cf73=fns['parse'](_0x3cdb62[0x0][_0x47a0f1(0x15b)],'yyyy/MM/dd',new Date()),_0x585911=fns[_0x47a0f1(0xee)](_0x35ddc3,_0x47a0f1(0x170),new Date());if(fns[_0x47a0f1(0xe0)](_0x59cf73,_0x585911)){_0x4c0394=_0x3cdb62[0x0]['changes'];const _0x231bd0=_0x4c0394[_0x47a0f1(0xaf)](_0x47d0d6=>_0x47d0d6['coin']==_0x57cc4c[0x0]['coin']);_0x231bd0?(_0x231bd0[_0x47a0f1(0x18f)]+=_0x57cc4c[0x0][_0x47a0f1(0x18f)],_0x231bd0[_0x47a0f1(0x18f)]==0x0&&(_0x4c0394=_0x4c0394['filter'](_0x517940=>{const _0x2fa572=_0x47a0f1;return _0x517940[_0x2fa572(0x101)]!=_0x57cc4c[0x0][_0x2fa572(0x101)];}))):_0x4c0394[_0x47a0f1(0xb6)](_0x57cc4c[0x0]);const _0x6ef81=_0x5d7a18[_0x47a0f1(0xaf)](_0x2b449c=>_0x2b449c[_0x47a0f1(0x15b)]==_0x35ddc3);_0x6ef81['changes']=_0x4c0394;}else _0x5d7a18['push']({'date':_0x35ddc3,'changes':[_0x57cc4c[0x0]]});}const _0x5a5534=_0x5d7a18[_0x47a0f1(0xaf)](_0x1fc385=>_0x1fc385[_0x47a0f1(0x15b)]==_0x35ddc3);if(_0x5a5534){let _0xaedd88=!![];_0x5a5534[_0x47a0f1(0xb4)]['forEach'](_0x1a109f=>{if(_0x1a109f['number']!=0x0)_0xaedd88=![];}),_0xaedd88&&(_0x5d7a18=_0x5d7a18[_0x47a0f1(0xb7)](_0x1584db=>{const _0x527bd2=_0x47a0f1;return _0x1584db[_0x527bd2(0x15b)]!=_0x35ddc3;}));}let _0x4dcb03=dbConfig['get'](_0x47a0f1(0x156))[_0x47a0f1(0xaf)]({'botID':botID})[_0x47a0f1(0x1e1)]();_0x4dcb03&&(dbConfig[_0x47a0f1(0xcd)](_0x47a0f1(0x156))[_0x47a0f1(0xaf)]({'botID':botID})[_0x47a0f1(0x1e0)]({'liquidity':_0x5d7a18})[_0x47a0f1(0x1c3)](),config['liquidity']=_0x5d7a18),logHistory('success','Portfolio\x20change\x20detected:\x20'+Math[_0x47a0f1(0x1b7)](_0x57cc4c[0x0][_0x47a0f1(0x18f)])+'\x20'+_0x57cc4c[0x0][_0x47a0f1(0x101)]+'\x20'+(_0x57cc4c[0x0][_0x47a0f1(0x18f)]>0x0?_0x47a0f1(0xc0):_0x47a0f1(0x174))+_0x47a0f1(0x115)),proxyEmit('configuration',emittedConfiguration());}else logger['debug'](_0x47a0f1(0x18a)+Math[_0x47a0f1(0x1b7)](_0x57cc4c[0x0][_0x47a0f1(0x18f)])+'\x20'+_0x57cc4c[0x0][_0x47a0f1(0x101)]+'\x20'+(_0x57cc4c[0x0][_0x47a0f1(0x18f)]>0x0?_0x47a0f1(0xc0):_0x47a0f1(0x174)));transactionDetected=!![],currentCoins=_0x207a4e,currentCoinsAll=_0xcb712c;}await sleep(watchTransactionsInterval);}catch(_0x4680fc){if(!exchangeStopped)await handleError(_0x4680fc,_0x47a0f1(0x1ca));}else await sleep(0x3e8);}}async function loadSymbols(_0x1b4b8f=config[_0x46a69d(0xd5)],_0x4b009b=![]){const _0x13e844=_0x46a69d;if(allSymbols&&!_0x4b009b)return;try{markets=await exchange[_0x13e844(0x178)](),allSymbols=exchange[_0x13e844(0xfb)][_0x13e844(0xb7)](_0x26d93b=>{const _0x14d2ab=_0x13e844;let _0x4a696a=![];const _0x33622c=exceptions[_0x1b4b8f[_0x14d2ab(0x1e3)]()]||[];return _0x33622c[_0x14d2ab(0x1f2)](_0x5e50d4=>{const _0xb25e1a=_0x14d2ab;if(_0x26d93b[_0xb25e1a(0x1d7)](_0x5e50d4))_0x4a696a=!![];}),!_0x4a696a;});}catch(_0x1df7ed){throw _0x1df7ed;}}async function initclient(){const _0x3419a1=_0x46a69d;emitLoadingProgress(),proxyEmit(_0x3419a1(0x133),emittedConfiguration()),proxyEmit(_0x3419a1(0x197),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x26ca6b=getNormalizedPerformance();emitPerformance(_0x26ca6b),getStartingBalances(_0x26ca6b);}async function toggleBotMode(){const _0x4bbe0d=_0x46a69d;let _0x25a238=dbConfig[_0x4bbe0d(0xcd)](_0x4bbe0d(0x156))[_0x4bbe0d(0xaf)]({'botID':botID})[_0x4bbe0d(0x1e1)]();if(_0x25a238){const _0x414f5d=!_0x25a238[_0x4bbe0d(0x1a6)];dbConfig[_0x4bbe0d(0xcd)](_0x4bbe0d(0x156))[_0x4bbe0d(0xaf)]({'botID':botID})['assign']({'headless':_0x414f5d})[_0x4bbe0d(0x1c3)](),config[_0x4bbe0d(0x1a6)]=_0x414f5d,proxyEmit(_0x4bbe0d(0x133),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x17036b=_0x46a69d;process[_0x17036b(0xb3)]({'updatebotmanager':!![]},_0x250f36=>{});}async function loadCoins(_0x12ab81){const _0xd604b8=_0x46a69d;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x5ee765,_0x4d5743=0x0,_0xcbdfb=0x0;_0x12ab81[_0xd604b8(0x1f2)](_0x1a6574=>{const _0x2d4705=_0xd604b8;loading[_0x2d4705(0x15a)]['push'](_0x1a6574);}),loadingCanceled=![];let _0x994e23=![];while(_0x5ee765!=_0x12ab81[_0xd604b8(0x1c0)]){_0x5ee765=0x0,_0x12ab81['forEach'](_0x1059a2=>{const _0x466232=_0xd604b8;if(global['ticker'][noslash(_0x1059a2)]){loading[_0x466232(0x15a)]=loading[_0x466232(0x15a)][_0x466232(0xb7)](_0x13769f=>_0x13769f!=_0x1059a2);if(!watchedSymbols[_0x466232(0x1d7)](_0x1059a2))watchedSymbols[_0x466232(0xb6)](_0x1059a2);_0x5ee765++;}}),loading[_0xd604b8(0xce)]=Math[_0xd604b8(0x11e)](_0x5ee765/_0x12ab81[_0xd604b8(0x1c0)]*0x64);loading['progress']!=0x64&&(_0xcbdfb>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0xcbdfb>0x78*0x5&&!_0x994e23&&(loading['cancel']=!![],emitLoadingProgress(),_0x994e23=!![],logHistory(_0xd604b8(0xa4),_0xd604b8(0x172)+loading[_0xd604b8(0x15a)][_0xd604b8(0xf2)](',\x20')+_0xd604b8(0xf6)),logHistory(_0xd604b8(0xa4),_0xd604b8(0x1f8)+loadCoinsRetryInterval/0xea60+_0xd604b8(0x8a)),pidCoinReloading=setTimeout(()=>{const _0xb9f982=_0xd604b8;process['send']({'stop':_0xb9f982(0x182)},_0x42b89f=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0xd604b8(0x8e)]=!![],emitLoadingProgress();break;}else _0x5ee765!=_0x4d5743&&(_0x4d5743=_0x5ee765,emitLoadingProgress()),_0xcbdfb++,await sleep(0xc8);}_0x5ee765==_0x12ab81[_0xd604b8(0x1c0)]&&(coinsLoaded=!![],process[_0xd604b8(0xb3)]({'status':_0xd604b8(0x1ae),'live':'running'},_0x530458=>{}),_0x994e23&&logHistory(_0xd604b8(0x1a3),_0xd604b8(0xb9)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x411e8f=_0x46a69d;proxyEmit(_0x411e8f(0x133),{...emittedConfiguration(),'configstate':_0x411e8f(0x1b8)});}function emitLoadingProgress(){const _0x8ebb=_0x46a69d;proxyEmit(_0x8ebb(0x9c),loading);}async function getFiat(){const _0x302b9e=_0x46a69d;let _0x5ea4dd=global[_0x302b9e(0x13c)][stablecoins[_0x302b9e(0x12f)][_0x302b9e(0x101)]],_0x40d1b3=global[_0x302b9e(0x13c)][stablecoins[_0x302b9e(0xdf)]['coin']];return{'eur':Number(_0x5ea4dd),'usd':Number(_0x40d1b3)};}function capitalize(_0x271a5f){const _0x2c9ca0=_0x46a69d;return _0x271a5f[_0x2c9ca0(0x191)](0x0,0x1)[_0x2c9ca0(0x12b)]()+_0x271a5f['substring'](0x1);}function supportedExchanges(){const _0x3a538d=_0x46a69d,_0x2fb10d=['ws','fetchTickers','fetchTicker',_0x3a538d(0xda),_0x3a538d(0x168),_0x3a538d(0xb0),_0x3a538d(0x127),_0x3a538d(0x1d6),'fetchClosedOrders',_0x3a538d(0x180)];let _0x2695fd=[],_0x58081d=[],_0x387bfa=ccxt[_0x3a538d(0x197)];_0x387bfa['forEach'](_0x59c5d2=>{const _0x5bffd1=_0x3a538d;try{const _0x2fed57=new ccxt[_0x59c5d2]();if(_0x2fed57[_0x5bffd1(0x177)]['ws'])_0x58081d['push'](_0x2fed57);}catch(_0x14647e){}}),_0x58081d['forEach'](_0x1462da=>{const _0x1569fb=_0x3a538d;let _0x2132e4=0x0;_0x2fb10d['forEach'](_0x4adccb=>{const _0x38b474=_0x4a6b;_0x4adccb in _0x1462da[_0x38b474(0x177)]&&_0x1462da[_0x38b474(0x177)][_0x4adccb]&&_0x2132e4++;}),_0x2132e4==_0x2fb10d[_0x1569fb(0x1c0)]&&_0x2695fd['push'](capitalize(_0x1462da['id']));});let _0x6022c3=[];return _0x387bfa[_0x3a538d(0x1f2)](_0x3131ea=>{const _0x25644c=_0x3a538d;_0x3131ea=capitalize(_0x3131ea);if(!_0x2695fd[_0x25644c(0x1d7)](_0x3131ea))_0x6022c3[_0x25644c(0xb6)](_0x3131ea);}),_0x2695fd;}function setStartDatePerformance(){const _0x414553=_0x46a69d;if(config&&config[_0x414553(0x130)][0x0][_0x414553(0xb4)][_0x414553(0x1c0)]!=0x0){const _0x1a3a1a=config[_0x414553(0x130)][0x0][_0x414553(0xb4)];dbPerformance[_0x414553(0xcd)]('data')[_0x414553(0xaf)]({'date':config[_0x414553(0xc2)]})[_0x414553(0x1e0)]({'coins':_0x1a3a1a})[_0x414553(0x1c3)]();}}async function recreateCoinResults(){const _0x5ae77b=_0x46a69d;let _0x3fd79a,_0x26d26c=[];try{const _0x3b1921=fns[_0x5ae77b(0x1b0)](fns['parseISO'](config[_0x5ae77b(0xc2)][_0x5ae77b(0xf5)](/\//g,'-')),_0x5ae77b(0x104));for(const _0x486fdd of currentCoins){if(_0x486fdd['coin']!=config[_0x5ae77b(0x16d)]){let _0x6ccd20=0x0,_0x524fa8,_0xb1f349;_0x3fd79a=await getAllEventOrders(_0x486fdd['symbol']);if(_0x3fd79a['length']>0x0)_0x3fd79a['forEach'](_0x19085a=>{const _0x455ad7=_0x5ae77b,_0x15ff08=_0x486fdd[_0x455ad7(0x166)][_0x455ad7(0x1d7)](config[_0x455ad7(0x16d)]+'/');_0x26d26c[_0x455ad7(0xb6)]({'datetime':_0x19085a['datetime'],'coin':_0x486fdd[_0x455ad7(0x101)],'symbol':_0x486fdd[_0x455ad7(0x166)],'side':_0x19085a[_0x455ad7(0xc3)],'reverse':_0x15ff08,'amount':formatResult(_0x19085a[_0x455ad7(0x1cf)],0x8),'filled':formatResult(_0x19085a[_0x455ad7(0x1cf)],0x8),'price':formatResult(_0x19085a[_0x455ad7(0x103)],0x8)}),_0x6ccd20=_0x19085a[_0x455ad7(0xc3)]=='buy'?_0x6ccd20+_0x19085a[_0x455ad7(0x1cf)]:_0x6ccd20-_0x19085a[_0x455ad7(0x1cf)];if(!_0xb1f349)_0xb1f349=_0x19085a[_0x455ad7(0x103)];});_0x524fa8=_0x486fdd['number']-_0x6ccd20;let _0x35cc72;config['liquidity'][_0x5ae77b(0x1f2)](_0x3502f6=>{const _0x56d452=_0x5ae77b;!_0x35cc72&&(_0x35cc72=_0x3502f6[_0x56d452(0xb4)][_0x56d452(0xaf)](_0x1504bc=>_0x1504bc[_0x56d452(0x101)]==_0x486fdd[_0x56d452(0x101)]),_0x35cc72&&(_0x524fa8=_0x35cc72['number'],_0xb1f349=_0x35cc72[_0x56d452(0x103)]));});let _0x39b549=dbCoinResults[_0x5ae77b(0xcd)](_0x5ae77b(0xfd))[_0x5ae77b(0xaf)]({'coin':_0x486fdd['coin']})[_0x5ae77b(0x1e1)]();_0x39b549={'coin':_0x486fdd[_0x5ae77b(0x101)],'number':_0x524fa8,'breakeven':_0xb1f349,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x5ae77b(0xcd)](_0x5ae77b(0xfd))[_0x5ae77b(0xaf)]({'coin':_0x486fdd[_0x5ae77b(0x101)]})[_0x5ae77b(0x1e0)](_0x39b549)[_0x5ae77b(0x1c3)]();}}_0x26d26c[_0x5ae77b(0x10c)]((_0x5e53e9,_0x26b9d1)=>_0x5e53e9['datetime']>_0x26b9d1[_0x5ae77b(0x86)]?0x1:_0x26b9d1[_0x5ae77b(0x86)]>_0x5e53e9['datetime']?-0x1:0x0);let _0x3abc32=0x0;for(let _0x46cdea of _0x26d26c){await updateCoinResults(_0x46cdea,!![]);}}catch(_0x3865b6){await handleError(_0x3865b6,_0x5ae77b(0x135));}}async function getAllEventOrders(_0x25a440){const _0x9b43a9=_0x46a69d;let _0x1afec9=[],_0x45b842=dbLogs['get'](_0x9b43a9(0x1ad))['filter'](_0x21d777=>{const _0x313469=_0x9b43a9,_0x44e9d3=_0x21d777[_0x313469(0x15e)]['toLowerCase']();return _0x44e9d3['includes'](_0x25a440[_0x313469(0x1e3)]())&&(_0x44e9d3[_0x313469(0x1d7)]('market')&&_0x44e9d3[_0x313469(0x1d7)](_0x313469(0xbe))||_0x44e9d3[_0x313469(0x1d7)](_0x313469(0x1cf))&&_0x44e9d3[_0x313469(0x1d7)](_0x313469(0xbe)));})['sortBy'](_0x9b43a9(0x107))[_0x9b43a9(0x1e1)]();return _0x45b842['forEach'](_0x51ef77=>{const _0x31e7c9=_0x9b43a9,_0x2a3bf6=_0x51ef77[_0x31e7c9(0x15e)][_0x31e7c9(0x1d7)](_0x31e7c9(0x89))?_0x31e7c9(0x89):'buy',_0x3ca054=/#([0-9]|\.)+\s/i,_0xa7db1b=Number(_0x3ca054['exec'](_0x51ef77[_0x31e7c9(0x15e)])[0x0][_0x31e7c9(0xe9)](0x1)),_0x2dea39=/@([0-9]|\.)+$/i,_0x18e8d5=Number(_0x2dea39[_0x31e7c9(0xa0)](_0x51ef77[_0x31e7c9(0x15e)])[0x0][_0x31e7c9(0xe9)](0x1));_0x1afec9[_0x31e7c9(0xb6)]({'datetime':_0x51ef77[_0x31e7c9(0x107)],'coin':symbolToCoin(_0x25a440),'symbol':_0x25a440,'side':_0x2a3bf6,'amount':_0xa7db1b,'filled':_0xa7db1b,'price':_0x18e8d5});}),_0x1afec9;}async function getAllOrders(_0x29b759,_0x4a2692){const _0x4d96a2=_0x46a69d;let _0x14aba9=[];while(_0x4a2692<exchange[_0x4d96a2(0x179)]()){const _0x2eb8bc=0x1f4,_0x738b35=await exchange['fetchClosedOrders'](_0x29b759,_0x4a2692,_0x2eb8bc);if(_0x738b35[_0x4d96a2(0x1c0)])_0x4a2692=_0x738b35[_0x738b35['length']-0x1][_0x4d96a2(0x157)]+0x1,_0x14aba9=_0x14aba9['concat'](_0x738b35);else break;}return _0x14aba9;}async function validate24hChanges(){const _0x207911=_0x46a69d;for(const _0x403cc6 of currentCoins){if(_0x403cc6[_0x207911(0x101)]!=config[_0x207911(0x16d)]){let _0xc552fc;_0x403cc6[_0x207911(0x1a4)]?_0xc552fc=formatResult((0x1/(global[_0x207911(0x84)][noslash(_0x403cc6['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0xc552fc=global[_0x207911(0x84)][noslash(_0x403cc6[_0x207911(0x166)])],_0xc552fc<config['change24h']&&(logHistory(_0x207911(0xa4),_0x403cc6[_0x207911(0x101)]+_0x207911(0x113)+_0xc552fc+'%'),logHistory(_0x207911(0xa4),_0x207911(0xd4)),logHistory('error',_0x207911(0x192)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x43f5d8,_0xdd274a){const _0x36320a=_0x46a69d;if(!_0x43f5d8)return!![];const _0x15c53f=_0xdd274a[_0x36320a(0xe1)]('.'),_0x2e48de=_0x43f5d8[_0x36320a(0xe1)]('.');for(var _0x3d2908=0x0;_0x3d2908<_0x2e48de['length'];_0x3d2908++){const _0x2f8c04=~~_0x2e48de[_0x3d2908],_0x1c5549=~~_0x15c53f[_0x3d2908];if(_0x2f8c04<_0x1c5549)return!![];if(_0x2f8c04>_0x1c5549)return![];}return![];}async function oneTimeMigration(){const _0x267e50=_0x46a69d;let _0x2fe48a=dbLogs['get'](_0x267e50(0x1e9))[_0x267e50(0x1e1)]();if(isOlderVersion(_0x2fe48a,_0x267e50(0x186))){let _0x483185=[];const _0x115bc4=dbLogs['get'](_0x267e50(0x1ad))['value']();_0x115bc4['forEach'](_0x11105c=>{const _0x42e9df=_0x267e50;_0x483185[_0x42e9df(0xb6)]({'time':_0x11105c[_0x42e9df(0x107)],'type':_0x11105c[_0x42e9df(0x17c)],'event':_0x11105c[_0x42e9df(0x15e)]});}),dbLogs[_0x267e50(0xcd)](_0x267e50(0x1ad))[_0x267e50(0x1e0)](_0x483185)[_0x267e50(0x1c3)]();}let _0x4fd9a3=dbConfig[_0x267e50(0xcd)](_0x267e50(0x1e9))[_0x267e50(0x1e1)]();if(isOlderVersion(_0x4fd9a3,_0x267e50(0x186))){let _0x7a3313=dbConfig[_0x267e50(0xcd)](_0x267e50(0x156))['find']({'botID':botID})[_0x267e50(0x1e1)]();if(_0x7a3313){let _0x2e4569=[];_0x7a3313[_0x267e50(0x120)][_0x267e50(0x1f2)](_0x1b0e55=>{const _0x17b3aa=_0x267e50;_0x2e4569['push']({'coin':_0x1b0e55[_0x17b3aa(0x101)],'number':_0x1b0e55['startnumber'],'price':_0x1b0e55[_0x17b3aa(0xc9)]}),delete _0x1b0e55['startnumber'],delete _0x1b0e55[_0x17b3aa(0xc9)];});if(_0x2e4569['length']!==0x0)fs[_0x267e50(0x19f)](configbackuppath+(_0x267e50(0x1ef)+botID+'.json'),JSON[_0x267e50(0x1f4)](_0x2e4569,null,0x4),function(_0x5b8bf9){if(_0x5b8bf9){}});const _0x28cbfc=(_0x567152,_0x564227)=>{const _0x130d0c=_0x267e50;let _0xc6968c=[];_0x564227[_0x130d0c(0x1f2)](_0x47cab6=>{const _0x2b6b87=_0x130d0c,_0x1c9bcc=_0x567152[_0x2b6b87(0xaf)](_0x36696b=>_0x36696b['coin']==_0x47cab6[_0x2b6b87(0x101)]);if(!_0x1c9bcc)_0xc6968c[_0x2b6b87(0xb6)](_0x47cab6);});let _0x254f19=[];return _0x567152[_0x130d0c(0x1f2)](_0x4f316e=>{const _0x9ee7bf=_0x130d0c,_0x1c0515=_0x564227[_0x9ee7bf(0xaf)](_0x18dd6e=>_0x18dd6e[_0x9ee7bf(0x101)]==_0x4f316e[_0x9ee7bf(0x101)]);if(!_0x1c0515||_0x1c0515[_0x9ee7bf(0x18f)]==0x0&&_0x4f316e['number']!=0x0)_0x254f19[_0x9ee7bf(0xb6)](_0x4f316e);}),{'missingDay1':_0xc6968c,'notInDay2':_0x254f19};},_0x171da0=dbPerformance[_0x267e50(0xcd)](_0x267e50(0x10e))[_0x267e50(0xca)]()['value']();if(_0x171da0[_0x267e50(0x1c0)]>0x1){const {missingDay1:_0xd58ee4,notInDay2:_0x28e7f7}=_0x28cbfc(_0x2e4569,_0x171da0[0x1][_0x267e50(0xfd)]);_0x2e4569=[..._0x2e4569,..._0xd58ee4],_0x28e7f7[_0x267e50(0x1f2)](_0xd386cb=>{const _0x354a96=_0x267e50;let _0x2b1e50=_0x2e4569[_0x354a96(0x146)](_0x1658e3=>_0x1658e3[_0x354a96(0x101)]==_0xd386cb[_0x354a96(0x101)]);_0x2b1e50!=-0x1&&_0x2e4569['splice'](_0x2b1e50,0x1);});}_0x2e4569[_0x267e50(0x10c)]((_0x2d6373,_0x3f505a)=>_0x2d6373['coin']>_0x3f505a[_0x267e50(0x101)]?0x1:_0x3f505a['coin']>_0x2d6373[_0x267e50(0x101)]?-0x1:0x0);let _0x57e36a=[{'date':_0x7a3313[_0x267e50(0xc2)],'changes':_0x2e4569}];_0x171da0['length']>0x2&&_0x171da0['forEach']((_0x4668df,_0x47f30d)=>{const _0x62a289=_0x267e50;if(_0x47f30d>0x0&&_0x47f30d<_0x171da0['length']-0x1){const {missingDay1:_0x59bcd8,notInDay2:_0x51032f}=_0x28cbfc(_0x171da0[_0x47f30d]['coins'],_0x171da0[_0x47f30d+0x1][_0x62a289(0xfd)]);_0x2e4569=[],(_0x59bcd8[_0x62a289(0x1c0)]!=0x0||_0x51032f[_0x62a289(0x1c0)]!=0x0)&&(_0x59bcd8[_0x62a289(0x1c0)]!=0x0&&_0x2e4569[_0x62a289(0xb6)](..._0x59bcd8),_0x51032f[_0x62a289(0x1c0)]!=0x0&&(_0x51032f[_0x62a289(0x1f2)](_0x26d6dc=>{const _0x1cdef5=_0x62a289;_0x26d6dc[_0x1cdef5(0x18f)]=-_0x26d6dc[_0x1cdef5(0x18f)];}),_0x2e4569[_0x62a289(0xb6)](..._0x51032f)),_0x2e4569[_0x62a289(0x10c)]((_0x5540e3,_0x73f03a)=>_0x5540e3[_0x62a289(0x101)]>_0x73f03a[_0x62a289(0x101)]?0x1:_0x73f03a[_0x62a289(0x101)]>_0x5540e3[_0x62a289(0x101)]?-0x1:0x0),_0x57e36a['push']({'date':_0x171da0[_0x47f30d+0x1][_0x62a289(0x15b)],'changes':_0x2e4569}));}}),dbConfig['get']('bot')[_0x267e50(0xaf)]({'botID':botID})['assign']({..._0x7a3313,'liquidity':_0x57e36a})[_0x267e50(0x1c3)]();}}if(isOlderVersion(_0x4fd9a3,_0x267e50(0x1a7))){let _0xf890d1=dbConfig[_0x267e50(0xcd)](_0x267e50(0x156))[_0x267e50(0xaf)]({'botID':botID})[_0x267e50(0x1e1)]();if(_0xf890d1){const _0x1e7f97=_0xf890d1[_0x267e50(0xd5)],_0x200607=_0x1e7f97?capitalize(_0x1e7f97):'Binance';dbConfig[_0x267e50(0xcd)](_0x267e50(0x156))[_0x267e50(0xaf)]({'botID':botID})[_0x267e50(0x1e0)]({'exchange':_0x200607})[_0x267e50(0x1c3)]();}}let _0x24968c=dbPerformance[_0x267e50(0xcd)](_0x267e50(0x1e9))[_0x267e50(0x1e1)]();isOlderVersion(_0x24968c,_0x267e50(0x186))&&setStartDatePerformance();let _0x2e7f61=dbCoinResults[_0x267e50(0xcd)](_0x267e50(0x1e9))[_0x267e50(0x1e1)]();if(isOlderVersion(_0x2e7f61,_0x267e50(0x13b))){let _0xdafd9e=dbCoinResults['get']('coins')[_0x267e50(0x1e1)]();if(_0xdafd9e[_0x267e50(0x1c0)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x4b24f1=_0x46a69d;dbConfig[_0x4b24f1(0x1aa)]('version',serverversion)[_0x4b24f1(0x1c3)](),dbPerformance['set'](_0x4b24f1(0x1e9),serverversion)[_0x4b24f1(0x1c3)](),dbLogs[_0x4b24f1(0x1aa)](_0x4b24f1(0x1e9),serverversion)[_0x4b24f1(0x1c3)](),dbCoinResults['set'](_0x4b24f1(0x1e9),serverversion)[_0x4b24f1(0x1c3)]();}function getConfiguration(_0x5e95f0){const _0x3da50c=_0x46a69d;let _0xc829cd=dbConfig['get'](_0x3da50c(0x156))[_0x3da50c(0xaf)]({'botID':_0x5e95f0})[_0x3da50c(0x1e1)]();if(_0xc829cd){let _0x114c37=![];typeof _0xc829cd['threshold']=='string'&&(_0xc829cd={..._0xc829cd,'threshold':Number(_0xc829cd[_0x3da50c(0x142)])},_0x114c37=!![]),_0xc829cd['change24h']==null&&(_0xc829cd={..._0xc829cd,'change24h':-0x14},_0x114c37=!![]),!_0xc829cd[_0x3da50c(0x167)]&&(_0xc829cd={..._0xc829cd,'fiat':_0x3da50c(0x1e5)},_0x114c37=!![]),!_0xc829cd[_0x3da50c(0x1bd)]&&(_0xc829cd={..._0xc829cd,'onepagemode':settings[_0x3da50c(0x1bd)]},_0x114c37=!![]),_0x114c37&&(_0xc829cd={'botID':_0xc829cd[_0x3da50c(0x112)],'exchange':_0xc829cd[_0x3da50c(0xd5)],'apiKey':_0xc829cd[_0x3da50c(0x96)],'apiSecret':_0xc829cd[_0x3da50c(0x15c)],'basecoin':_0xc829cd[_0x3da50c(0x16d)],'botname':_0xc829cd[_0x3da50c(0xf0)],'showname':_0xc829cd['showname'],'threshold':_0xc829cd[_0x3da50c(0x142)],'ordertype':_0xc829cd[_0x3da50c(0x8f)],'timeout':_0xc829cd['timeout'],'fiat':_0xc829cd[_0x3da50c(0x167)],'startdate':_0xc829cd[_0x3da50c(0xc2)],'recreate':_0xc829cd[_0x3da50c(0xeb)],'timeshift':_0xc829cd[_0x3da50c(0x1ec)],'onepagemode':_0xc829cd[_0x3da50c(0x1bd)],'headless':_0xc829cd['headless'],'cooldown':_0xc829cd[_0x3da50c(0x14d)],'change24h':_0xc829cd[_0x3da50c(0x1b3)],'emojibuy':_0xc829cd[_0x3da50c(0xd3)],'emojisell':_0xc829cd[_0x3da50c(0x148)],'portfolio':_0xc829cd['portfolio'],'liquidity':_0xc829cd[_0x3da50c(0x130)],'openOrders':_0xc829cd[_0x3da50c(0x17f)]},dbConfig[_0x3da50c(0xcd)](_0x3da50c(0x156))['remove']()[_0x3da50c(0x1c3)](),dbConfig[_0x3da50c(0xcd)](_0x3da50c(0x156))[_0x3da50c(0xb6)](_0xc829cd)[_0x3da50c(0x1c3)]());}else _0xc829cd={'botID':_0x5e95f0,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x3da50c(0x1b4)+_0x5e95f0,'showname':![],'threshold':0x3,'ordertype':_0x3da50c(0x160),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xc829cd;}function emittedConfiguration(){const _0x1c2e9f=_0x46a69d;let _0x422d98;if(config[_0x1c2e9f(0x96)]=='')_0x422d98={...config,'configstate':_0x1c2e9f(0x1d0)};else config[_0x1c2e9f(0x96)]==_0x1c2e9f(0x176)?_0x422d98={...config,'configstate':'recovery'}:_0x422d98={...config,'apiKey':_0x1c2e9f(0x13f),'apiSecret':_0x1c2e9f(0x13f)};return _0x422d98;}function getSettings(){const _0x5daa28=_0x46a69d;return dbSettings[_0x5daa28(0xcd)](_0x5daa28(0x18b))[_0x5daa28(0x1e1)]();}function getSecure(){const _0x218ca7=_0x46a69d;return dbSecure[_0x218ca7(0xcd)](_0x218ca7(0xed))[_0x218ca7(0x1e1)]()||{};}function updateTimeshift(_0x46d541){const _0x31adfb=_0x46a69d;let _0x5e32eb=dbConfig[_0x31adfb(0xcd)](_0x31adfb(0x156))[_0x31adfb(0xaf)]({'botID':botID})[_0x31adfb(0x1e1)]();_0x5e32eb&&dbConfig[_0x31adfb(0xcd)](_0x31adfb(0x156))['find']({'botID':botID})[_0x31adfb(0x1e0)]({'timeshift':_0x46d541})['write'](),config['timeshift']=_0x46d541,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x387265){const _0x391fc0=_0x46a69d;let _0x1983fc=dbConfig[_0x391fc0(0xcd)](_0x391fc0(0x156))[_0x391fc0(0xaf)]({'botID':botID})['value']();_0x1983fc&&dbConfig[_0x391fc0(0xcd)](_0x391fc0(0x156))['find']({'botID':botID})[_0x391fc0(0x1e0)]({'onepagemode':_0x387265})['write'](),config['onepagemode']=_0x387265,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x4dd102){const _0x145058=_0x46a69d;logger[_0x145058(0x1f5)](_0x145058(0x132)),blockTransactionDetection=!![],logger['debug'](_0x145058(0x1a1));let _0x1b0e64=[],_0x132233=![],_0x5c42e7=[];_0x4dd102[_0x145058(0x120)][_0x145058(0x1f2)](_0x3392cf=>{const _0x3e86b1=_0x145058;if(!_0x3392cf[_0x3e86b1(0xf9)]&&_0x3392cf['coin']!=_0x4dd102['basecoin'])_0x5c42e7['push'](_0x3392cf[_0x3e86b1(0x166)]);}),_0x5c42e7['forEach'](_0x1e057b=>{const _0x133771=_0x145058,_0x55d8b1=watchedSymbols['includes'](_0x1e057b);!_0x55d8b1&&_0x1b0e64[_0x133771(0xb6)](_0x1e057b);});_0x1b0e64[_0x145058(0x1c0)]>0x0?_0x132233=!![]:currentCoins[_0x145058(0x1f2)](_0x27a962=>{const _0x330068=_0x145058;if(_0x27a962[_0x330068(0x101)]!=config[_0x330068(0x16d)]){const _0x431d73=_0x5c42e7[_0x330068(0xaf)](_0x8c35a5=>_0x8c35a5==_0x27a962['symbol']);!_0x431d73&&(_0x132233=!![]);}});let _0x9b65f8=dbConfig[_0x145058(0xcd)]('bot')[_0x145058(0xaf)]({'botID':botID})[_0x145058(0x1e1)]();_0x4dd102={..._0x4dd102,'apiKey':crypt[_0x145058(0x189)](secure['privateKey'],_0x4dd102[_0x145058(0x96)])[_0x145058(0x1bc)],'apiSecret':crypt[_0x145058(0x189)](secure[_0x145058(0xc5)],_0x4dd102[_0x145058(0x15c)])[_0x145058(0x1bc)]};let _0x125e00=![];_0x9b65f8?(_0x4dd102[_0x145058(0x96)]==_0x145058(0x13f)?_0x4dd102[_0x145058(0x96)]=config[_0x145058(0x96)]:_0x125e00=!![],_0x4dd102['apiSecret']==_0x145058(0x13f)?_0x4dd102[_0x145058(0x15c)]=config['apiSecret']:_0x125e00=!![],dbConfig['get'](_0x145058(0x156))[_0x145058(0xaf)]({'botID':botID})['assign'](_0x4dd102)[_0x145058(0x1c3)]()):(dbConfig[_0x145058(0xcd)](_0x145058(0x156))[_0x145058(0xb6)](_0x4dd102)[_0x145058(0x1c3)](),_0x125e00=!![],process[_0x145058(0xb3)]({'status':_0x145058(0x1ae),'live':_0x145058(0x139)},_0x19760e=>{}));config={..._0x4dd102},setStartDatePerformance(),process[_0x145058(0xb3)]({'botname':_0x4dd102[_0x145058(0xf0)]},_0x12d66c=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x145058(0x1b6)),await initCoinResults();if(_0x125e00)await reset(_0x1b0e64,!![]);else{if(_0x132233)await reset(_0x1b0e64,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x145058(0x1f5)](_0x145058(0xf1));}async function storeHeadless(_0x466035){const _0x21cd02=_0x46a69d,_0x426bea={...config,'headless':_0x466035[_0x21cd02(0x1a6)]};let _0x390d92=dbConfig[_0x21cd02(0xcd)](_0x21cd02(0x156))['find']({'botID':botID})['value']();_0x390d92&&dbConfig[_0x21cd02(0xcd)](_0x21cd02(0x156))[_0x21cd02(0xaf)]({'botID':botID})[_0x21cd02(0x1e0)](_0x426bea)[_0x21cd02(0x1c3)](),config={..._0x426bea},updateBotManager(),proxyEmit(_0x21cd02(0x133),emittedConfiguration());}async function storeFiat(_0x1103d9){const _0x30ce7f=_0x46a69d,_0x205021={...config,'fiat':_0x1103d9};let _0xf86da2=dbConfig[_0x30ce7f(0xcd)](_0x30ce7f(0x156))[_0x30ce7f(0xaf)]({'botID':botID})[_0x30ce7f(0x1e1)]();_0xf86da2&&dbConfig[_0x30ce7f(0xcd)](_0x30ce7f(0x156))[_0x30ce7f(0xaf)]({'botID':botID})[_0x30ce7f(0x1e0)](_0x205021)['write'](),config={..._0x205021},proxyEmit(_0x30ce7f(0x133),emittedConfiguration());}function resetHistory(){const _0x2be42b=_0x46a69d;logger['full']('Resetting\x20bot\x20history');try{if(fs[_0x2be42b(0xe4)](path[_0x2be42b(0xf2)](configpath,_0x2be42b(0x16c)+botID+_0x2be42b(0x128))))fs[_0x2be42b(0x1e7)](path['join'](configpath,_0x2be42b(0x16c)+botID+_0x2be42b(0x128)));if(fs[_0x2be42b(0xe4)](path[_0x2be42b(0xf2)](configpath,'bot-'+botID+_0x2be42b(0xc8))))fs[_0x2be42b(0x1e7)](path['join'](configpath,_0x2be42b(0x16c)+botID+_0x2be42b(0xc8)));if(fs[_0x2be42b(0xe4)](path['join'](configpath,_0x2be42b(0x16c)+botID+'-results.json')))fs['unlinkSync'](path[_0x2be42b(0xf2)](configpath,'bot-'+botID+_0x2be42b(0x1cb)));}catch(_0x781050){if(_0x781050)logger[_0x2be42b(0xbf)]('Error\x20while\x20deleting\x20files:\x20',_0x781050);}const _0x1f3054=getDate();let _0x20c003=[];currentCoins[_0x2be42b(0x1f2)](_0x1c23c8=>{const _0x552c8a=_0x2be42b;_0x20c003[_0x552c8a(0xb6)]({'coin':_0x1c23c8[_0x552c8a(0x101)],'number':_0x1c23c8[_0x552c8a(0x18f)],'price':_0x1c23c8['last']});});let _0x14ba96=dbConfig[_0x2be42b(0xcd)]('bot')['find']({'botID':botID})[_0x2be42b(0x1e1)]();_0x14ba96&&(dbConfig[_0x2be42b(0xcd)](_0x2be42b(0x156))[_0x2be42b(0xaf)]({'botID':botID})[_0x2be42b(0x1e0)]({'liquidity':[{'date':_0x1f3054,'changes':_0x20c003}]})['write'](),config[_0x2be42b(0x130)]=[]),process[_0x2be42b(0xb3)]({'stop':_0x2be42b(0x182)},_0xb2d2dc=>{});}function noslash(_0x31f8c2){return _0x31f8c2['replace']('/','');}function updateHighestFee(_0x3262f4,_0x29df8c){const _0x6b27d9=_0x46a69d;lastFees[_0x6b27d9(0x122)]=_0x3262f4,lastFees[_0x6b27d9(0x19a)][_0x6b27d9(0x1c0)]===0x14&&lastFees[_0x6b27d9(0x19a)][_0x6b27d9(0xad)](),lastFees[_0x6b27d9(0x19a)][_0x6b27d9(0xb6)](_0x29df8c),lastFees[_0x6b27d9(0xa5)]=Math[_0x6b27d9(0x105)](...lastFees[_0x6b27d9(0x19a)]);}async function updateNumberCoinsCcxt(_0x358ef4){const _0x4368bb=_0x46a69d;logger[_0x4368bb(0x1f5)](_0x4368bb(0x193)+_0x358ef4[_0x4368bb(0x166)]+_0x4368bb(0x1be)+_0x358ef4['status']+_0x4368bb(0x1be)+_0x358ef4['id']+'\x20|\x20'+_0x358ef4[_0x4368bb(0xa6)]);let _0xe8d37=_0x358ef4['status'],_0x50e80f=![];currentCoins[_0x4368bb(0x1f2)](_0x1aef2c=>{const _0x65e7c8=_0x4368bb;_0x1aef2c[_0x65e7c8(0x166)]==_0x358ef4[_0x65e7c8(0x166)]&&(_0x50e80f=!![]);});if(!_0x50e80f)return;const _0x78ca6c=currentCoins[_0x4368bb(0xaf)](_0x36374e=>_0x36374e['symbol']==_0x358ef4[_0x4368bb(0x166)]),_0x3522cf=_0x4c235d=>{const _0x2f6ece=_0x4368bb;if(_0x78ca6c)_0x78ca6c[_0x2f6ece(0x149)]=_0x4c235d;};if(_0xe8d37=='open')_0x3522cf(_0x4368bb(0x108));else{if(_0xe8d37==_0x4368bb(0x184)){_0x3522cf(_0x4368bb(0x184));const _0x443a3b=await getCoins();[currentCoins,currentCoinsAll]=_0x443a3b,await getOpenOrders(),handleOpenOrders();}else{if(_0xe8d37==_0x4368bb(0x10d)){logger[_0x4368bb(0x1f5)](_0x4368bb(0xc6)+_0x358ef4[_0x4368bb(0x166)]+_0x4368bb(0x1be)+_0x358ef4[_0x4368bb(0x1cf)]+'\x20|\x20'+_0x358ef4['id']+_0x4368bb(0x1be)+_0x358ef4[_0x4368bb(0xa6)]);let _0x5d254d=![];if(lastOrders)lastOrders['forEach'](async _0x30641a=>{const _0x51d204=_0x4368bb;if(_0x30641a[_0x51d204(0x10b)]==_0x358ef4[_0x51d204(0xa6)]){logger[_0x51d204(0x1f5)](_0x51d204(0x153)+_0x358ef4[_0x51d204(0xa6)]),_0x5d254d=!![];if(_0x30641a[_0x51d204(0x1cf)]==0x0){logger['debug'](_0x51d204(0xd6)+_0x358ef4[_0x51d204(0xa6)]),_0x30641a[_0x51d204(0x103)]=_0x358ef4[_0x51d204(0x147)],_0x30641a['filled']=_0x358ef4[_0x51d204(0x1cf)],_0x30641a[_0x51d204(0x162)]={'currency':_0x358ef4[_0x51d204(0x162)]?_0x358ef4['fee'][_0x51d204(0x122)]:null,'cost':_0x358ef4[_0x51d204(0x162)]?_0x358ef4['fee'][_0x51d204(0x1c6)]:0x0},updateHighestFee(_0x30641a['fee'][_0x51d204(0x122)],_0x30641a[_0x51d204(0x162)][_0x51d204(0x1c6)]),_0x3522cf(_0x51d204(0x1cf)),await validateOrders();if(lockOrders==ORDERS[_0x51d204(0xd2)]){const _0xfc50dd=await getCoins();[currentCoins,currentCoinsAll]=_0xfc50dd;}await updateCoinResults(_0x30641a);}}});if(!_0x5d254d){logger[_0x4368bb(0x1f5)](_0x4368bb(0x15d)+_0x358ef4['id']),_0x3522cf(_0x4368bb(0x1cf));const _0x19f0d7=await getCoins();[currentCoins,currentCoinsAll]=_0x19f0d7,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x134bea=JSON[_0x4368bb(0xee)](lastBalances[_0x4368bb(0x120)]);const _0x4ee3df=_0x134bea[_0x4368bb(0xaf)](_0x3b0a6b=>_0x3b0a6b[_0x4368bb(0x166)]==_0x358ef4[_0x4368bb(0x166)]);if(_0x4ee3df){if(_0xe8d37=='open')_0x4ee3df[_0x4368bb(0x149)]=_0x4ee3df[_0x4368bb(0x149)]==_0x4368bb(0x1cf)?'filled':_0x4368bb(0x108);else{if(_0xe8d37==_0x4368bb(0x184))_0x4ee3df[_0x4368bb(0x149)]=_0x4ee3df[_0x4368bb(0x149)]==_0x4368bb(0x1cf)?'filled':_0x4368bb(0x184);else _0xe8d37==_0x4368bb(0x10d)&&(_0x4ee3df['orderstatus']='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x4368bb(0x1f4)](_0x134bea)},proxyEmit(_0x4368bb(0x1ea),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x206c84=![];currentCoins['forEach'](_0x310d19=>{const _0x176b19=_0x4a6b;_0x206c84=allOpenOrders[_0x176b19(0xaf)](_0x4dcb81=>_0x4dcb81['symbol']==_0x310d19['symbol']),_0x310d19['orderstatus']=_0x206c84?_0x176b19(0x108):_0x176b19(0x145);});}async function getCoins(_0x599d6b=!![],_0x461a7d=config[_0x46a69d(0x16d)]){const _0x104102=_0x46a69d;let _0x174844,_0xb08e3c=[],_0x3c555f=[],_0x37ecc7=[],_0x1e8add=[];try{_0x174844=await exchange[_0x104102(0x180)](),mybalances=_0x174844['total'];for(const [_0x5e145d,_0x57dc4e]of Object[_0x104102(0x1c4)](mybalances)){_0x1e8add[_0x104102(0xb6)](_0x5e145d);}if(_0x461a7d=='')for(const [_0x1b7ea4,_0x4d6a31]of Object[_0x104102(0x1c4)](mybalances)){_0x4d6a31['toString']()!=0x0&&_0x3c555f['push']({'coin':_0x1b7ea4});}else{let _0x49aa90=![];for(const [_0x53d821,_0x419d1f]of Object['entries'](mybalances)){if(_0x1e8add[_0x104102(0x1d7)](_0x53d821)){const _0x5072db=config[_0x104102(0x120)][_0x104102(0xaf)](_0x12fb3b=>_0x12fb3b[_0x104102(0x101)]==_0x53d821),_0x4ee976=_0x53d821+'/'+_0x461a7d,_0x41056d=_0x461a7d+'/'+_0x53d821,_0x24e2b6=currentCoins[_0x104102(0xaf)](_0x2dbeaa=>_0x2dbeaa[_0x104102(0x101)]==_0x53d821);_0x49aa90=![];if((_0x419d1f[_0x104102(0x12d)]()!=0x0||_0x5072db)&&(allSymbols[_0x104102(0x1d7)](_0x4ee976)||_0x53d821==_0x461a7d))_0x53d821!=_0x461a7d&&_0xb08e3c[_0x104102(0xb6)](_0x4ee976),_0x3c555f[_0x104102(0xb6)]({'coin':_0x53d821,'symbol':_0x4ee976,'reverse':![],'number':Math[_0x104102(0x105)](_0x419d1f+(_0x5072db&&_0x5072db[_0x104102(0x14e)]||0x0),0x0),'orderstatus':_0x24e2b6?_0x24e2b6[_0x104102(0x149)]:_0x104102(0x145)});else(_0x419d1f[_0x104102(0x12d)]()!=0x0||_0x5072db)&&allSymbols[_0x104102(0x1d7)](_0x41056d)&&(_0x53d821!=_0x461a7d&&_0xb08e3c[_0x104102(0xb6)](_0x41056d),_0x3c555f['push']({'coin':_0x53d821,'symbol':_0x41056d,'reverse':!![],'number':Math['max'](_0x419d1f+(_0x5072db&&_0x5072db[_0x104102(0x14e)]||0x0),0x0),'orderstatus':_0x24e2b6?_0x24e2b6[_0x104102(0x149)]:_0x104102(0x145)}));}}}}catch(_0x41f21d){if(!_0x599d6b)handleErrorNoStop(_0x41f21d,_0x104102(0x17a));else await handleError(_0x41f21d,_0x104102(0x17a));}return _0x37ecc7=cloneDeep(_0x3c555f),_0x3c555f=_0x3c555f[_0x104102(0xb7)](_0x28a2da=>{const _0x198d44=_0x104102,_0x55e647=config[_0x198d44(0x120)][_0x198d44(0xaf)](_0x38699d=>_0x38699d[_0x198d44(0x101)]==_0x28a2da[_0x198d44(0x101)]);return _0x55e647&&!_0x55e647[_0x198d44(0xf9)];}),[_0x3c555f,_0x37ecc7];}async function getCoinNumber(_0x3a58ef){const _0x5bba67=_0x46a69d;let _0x4ef744;try{const _0x3eef4e=await exchange['fetchBalance']();_0x4ef744=_0x3eef4e[_0x5bba67(0x8c)][_0x3a58ef];}catch(_0x101c05){await handleError(_0x101c05,_0x5bba67(0x19e));}return _0x4ef744;}async function getOpenOrders(){const _0x5079b9=_0x46a69d;let _0x41a648;allOpenOrders=[];try{for(const _0x404d88 of config[_0x5079b9(0x120)]){!_0x404d88[_0x5079b9(0xf9)]&&_0x404d88[_0x5079b9(0x101)]!=config[_0x5079b9(0x16d)]&&(_0x41a648=await exchange[_0x5079b9(0x1d6)](_0x404d88[_0x5079b9(0x166)]),_0x41a648['length']>0x0&&allOpenOrders[_0x5079b9(0xb6)](_0x41a648[0x0]));}}catch(_0x236078){await handleError(_0x236078,'getOpenOrders()');}}async function handleOpenOrders(_0x2982ae=0x0){const _0xed3693=_0x46a69d;allOpenOrders[_0xed3693(0x1c0)]==0x0&&lockOrders==ORDERS[_0xed3693(0xd2)]&&allOrdersPlaced&&(_0x2982ae==0x0?(logger[_0xed3693(0x1f5)](_0xed3693(0x82)),_0x2982ae++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0xed3693(0x1f5)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x5cd8d7){const _0x1d5792=_0x46a69d,_0x18671b=ccxt[_0x5cd8d7[_0x1d5792(0xd5)][_0x1d5792(0x1e3)]()],_0x458928=new _0x18671b({'apiKey':_0x5cd8d7[_0x1d5792(0x96)],'secret':_0x5cd8d7[_0x1d5792(0x15c)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x458928['loadMarkets']();}catch(_0x5b7f4f){throw _0x5b7f4f;}}function cloneDeep(_0x57a55c){const _0x53e465=_0x46a69d;return JSON['parse'](JSON[_0x53e465(0x1f4)](_0x57a55c));}async function getPortfolio(_0x5b9d6c){const _0x20c5b8=_0x46a69d;let _0x3f7e51=[],_0x34f3c7=[],_0x33a651=[],_0x941d2d;if(_0x5b9d6c[_0x20c5b8(0x96)]!=='************'||_0x5b9d6c['apiSecret']!=='************'){if(config['exchange']){if(_0x5b9d6c[_0x20c5b8(0x96)]=='************')_0x5b9d6c[_0x20c5b8(0x96)]=config[_0x20c5b8(0x96)];if(_0x5b9d6c[_0x20c5b8(0x15c)]==_0x20c5b8(0x13f))_0x5b9d6c[_0x20c5b8(0x15c)]=config['apiSecret'];try{await testAPI(_0x5b9d6c);}catch(_0x30e033){if(_0x30e033[_0x20c5b8(0x12d)]()['includes'](_0x20c5b8(0xbd))){logger[_0x20c5b8(0x1f5)](_0x20c5b8(0x114)),proxyEmit('portfolio',![]);return;}else{handleError(_0x30e033,_0x20c5b8(0x1ee));return;}}}await initExchange(_0x5b9d6c['exchange'],_0x5b9d6c['apiKey'],_0x5b9d6c['apiSecret']);try{await loadSymbols(_0x5b9d6c['exchange'],!![]);}catch(_0x338588){if(_0x338588[_0x20c5b8(0x12d)]()[_0x20c5b8(0x1d7)]('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x338588,_0x20c5b8(0x17d));return;}}const _0xe4cee5=await getCoins(![],_0x5b9d6c[_0x20c5b8(0x16d)]);_0x33a651=cloneDeep(_0xe4cee5[0x1]);}else _0x33a651=cloneDeep(currentCoinsAll);if(_0x5b9d6c[_0x20c5b8(0x16d)]=='')proxyEmit(_0x20c5b8(0x120),_0x33a651);else{_0x33a651[_0x20c5b8(0x1f2)](_0x50c4e8=>{const _0x1ee407=_0x20c5b8;if(_0x50c4e8[_0x1ee407(0x101)]!=_0x5b9d6c['basecoin'])_0x3f7e51['push'](_0x50c4e8['symbol']);});try{_0x34f3c7=await exchange['fetchTickers'](_0x3f7e51);}catch(_0x3ad6a){if(_0x3ad6a[_0x20c5b8(0x12d)]()[_0x20c5b8(0x1d7)](_0x20c5b8(0xbd))){proxyEmit(_0x20c5b8(0x120),![]);return;}else{handleError(_0x3ad6a,_0x20c5b8(0xff));return;}}_0x33a651[_0x20c5b8(0x1f2)](_0x4a94d9=>{const _0x6e09f5=_0x20c5b8;_0x4a94d9['coin']!=_0x5b9d6c[_0x6e09f5(0x16d)]?_0x941d2d=_0x4a94d9[_0x6e09f5(0x1a4)]?0x1/_0x34f3c7[_0x4a94d9['symbol']]['last']:_0x34f3c7[_0x4a94d9[_0x6e09f5(0x166)]][_0x6e09f5(0x1bf)]:_0x941d2d=0x1,_0x4a94d9['price']=formatResult(_0x941d2d,0x8);}),proxyEmit(_0x20c5b8(0x120),_0x33a651);}}function checkMinimums(_0x20a2a1){const _0x34496c=_0x46a69d;let _0xf91c6c=!![];const _0x8dac1d=!_0x20a2a1['reverse']?markets[_0x20a2a1[_0x34496c(0x166)]][_0x34496c(0x119)]['amount'][_0x34496c(0x187)]:markets[_0x20a2a1['symbol']][_0x34496c(0x119)][_0x34496c(0x1c6)][_0x34496c(0x187)],_0x1cbf50=!_0x20a2a1[_0x34496c(0x1a4)]?markets[_0x20a2a1[_0x34496c(0x166)]][_0x34496c(0x119)]['cost'][_0x34496c(0x187)]:markets[_0x20a2a1[_0x34496c(0x166)]][_0x34496c(0x119)][_0x34496c(0x11f)]['min'],_0x16b6fb=markets[_0x20a2a1[_0x34496c(0x166)]][_0x34496c(0x94)][_0x34496c(0x11f)];_0x20a2a1[_0x34496c(0x154)]=formatResultTruncate(_0x20a2a1[_0x34496c(0x154)],_0x16b6fb);if(Math[_0x34496c(0x1b7)](_0x20a2a1[_0x34496c(0x154)])<_0x8dac1d)_0xf91c6c=![];if(Math['abs'](_0x20a2a1[_0x34496c(0x154)])*_0x20a2a1[_0x34496c(0x1bf)]<_0x1cbf50)_0xf91c6c=![];if(_0x20a2a1[_0x34496c(0xc3)]==_0x34496c(0x89)){let _0xca85d4=config[_0x34496c(0x120)][_0x34496c(0xaf)](_0x3d7efa=>_0x3d7efa['coin']==_0x20a2a1[_0x34496c(0x101)]);if(_0xca85d4['offset']>0x0){if(Math['abs'](_0x20a2a1[_0x34496c(0x154)])>_0x20a2a1[_0x34496c(0x18f)]-_0xca85d4[_0x34496c(0x14e)])_0xf91c6c=![];}else{if(Math[_0x34496c(0x1b7)](_0x20a2a1[_0x34496c(0x154)])>_0x20a2a1[_0x34496c(0x18f)])_0xf91c6c=![];}}if(_0x20a2a1[_0x34496c(0xc3)]=='buy'){let _0x5c0958=config[_0x34496c(0x120)]['find'](_0x593366=>_0x593366[_0x34496c(0x101)]==config[_0x34496c(0x16d)]),_0x315890=currentCoins[_0x34496c(0xaf)](_0x1e6fa0=>_0x1e6fa0[_0x34496c(0x101)]==config['basecoin']);if(_0x5c0958['offset']>0x0){if(Math[_0x34496c(0x1b7)](_0x20a2a1[_0x34496c(0x154)])*_0x20a2a1['last']>_0x315890[_0x34496c(0x18f)]-_0x5c0958[_0x34496c(0x14e)])_0xf91c6c=![];}else{if(Math[_0x34496c(0x1b7)](_0x20a2a1[_0x34496c(0x154)])*_0x20a2a1[_0x34496c(0x1bf)]>_0x315890['number'])_0xf91c6c=![];}}return _0xf91c6c;}async function getBalances(){const _0x4755d7=_0x46a69d;let _0x51994c=0x0,_0x3c6950;const _0x16e50e=config['threshold'];if(config['headless']&&config[_0x4755d7(0x1b3)]<0x0)await validate24hChanges();currentCoins[_0x4755d7(0x1f2)](_0x457f4d=>{const _0x4826c6=_0x4755d7;if(_0x457f4d[_0x4826c6(0x101)]!=config[_0x4826c6(0x16d)]){let _0x4b43c7=global[_0x4826c6(0x13c)][noslash(_0x457f4d[_0x4826c6(0x166)])];_0x3c6950=_0x457f4d[_0x4826c6(0x1a4)]?0x1/_0x4b43c7:_0x4b43c7;}else _0x3c6950=0x1;let _0x3e36ae=_0x457f4d['number']*_0x3c6950;_0x51994c+=_0x3e36ae,_0x457f4d[_0x4826c6(0x1bf)]=formatResult(Number(_0x3c6950),0x8),_0x457f4d[_0x4826c6(0x1e1)]=_0x3e36ae;}),currentCoins[_0x4755d7(0x1f2)](_0x106b86=>{const _0x16544e=_0x4755d7;let _0x53d774=config[_0x16544e(0x120)][_0x16544e(0xaf)](_0x34fbb=>_0x34fbb['coin']==_0x106b86[_0x16544e(0x101)]),_0x586a09=Number(_0x53d774[_0x16544e(0x143)]),_0x30b3f7=_0x106b86[_0x16544e(0x1e1)]/_0x51994c*0x64,_0x149bda=_0x586a09*_0x51994c/0x64/_0x106b86['last']-_0x106b86['number'];_0x106b86[_0x16544e(0x143)]=formatResult(_0x30b3f7,0x3),_0x106b86['target']=formatResult(_0x586a09,0x3),_0x106b86[_0x16544e(0x154)]=formatResult(_0x149bda,0x8),_0x106b86['side']='',_0x106b86[_0x16544e(0xcf)]=![];if(_0x106b86[_0x16544e(0x101)]!=config[_0x16544e(0x16d)]){if(_0x106b86[_0x16544e(0x143)]>_0x586a09)_0x106b86[_0x16544e(0xc3)]=_0x16544e(0x89),_0x106b86['valid']=checkMinimums(_0x106b86);else _0x106b86[_0x16544e(0x143)]<_0x586a09&&(_0x106b86['side']=_0x16544e(0x16f),_0x106b86[_0x16544e(0xcf)]=checkMinimums(_0x106b86));}_0x106b86['delta']=_0x106b86['distribution']/_0x106b86['target']-0x1;if(_0x106b86[_0x16544e(0x149)]==_0x16544e(0x1cf)||_0x106b86[_0x16544e(0x149)]==_0x16544e(0x184))_0x106b86[_0x16544e(0x149)]='none';}),currentCoins[_0x4755d7(0x10c)]((_0x5d38ab,_0xd820fa)=>_0x5d38ab[_0x4755d7(0xbb)]<_0xd820fa[_0x4755d7(0xbb)]?0x1:_0xd820fa[_0x4755d7(0xbb)]<_0x5d38ab['delta']?-0x1:0x0);const _0x54f45b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x54f45b[_0x4755d7(0x12f)],'usd':_0x54f45b['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x16e50e},proxyEmit(_0x4755d7(0x1ea),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x4755d7(0x1a6)])headlessMode({'portfolio':currentCoins,'threshold':_0x16e50e});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x16e50e});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x253247=getNormalizedPerformance();getStartingBalances(_0x253247),emitPerformance(_0x253247);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x458197=getNormalizedPerformance();emitPerformance(_0x458197),getStartingBalances(_0x458197),logger[_0x4755d7(0x1f5)](_0x4755d7(0x8b));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x54797a=_0x46a69d;if(!lastBalances)return;let _0x4357fe=[],_0x4dea6f,_0x30b854=JSON[_0x54797a(0xee)](lastBalances[_0x54797a(0x120)]);_0x30b854[_0x54797a(0x10c)]((_0x4a7f5d,_0x3ccfbc)=>_0x4a7f5d[_0x54797a(0x101)]>_0x3ccfbc[_0x54797a(0x101)]?0x1:_0x3ccfbc['coin']>_0x4a7f5d[_0x54797a(0x101)]?-0x1:0x0),_0x30b854[_0x54797a(0x1f2)](_0x4a196d=>{const _0x486785=_0x54797a;let _0x3e166d={'coin':_0x4a196d[_0x486785(0x101)],'number':_0x4a196d[_0x486785(0x18f)],'price':_0x4a196d['last']};_0x4357fe[_0x486785(0xb6)](_0x3e166d);});const _0x33372b=await getFiat();_0x4dea6f={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x33372b[_0x54797a(0x12f)],'usd':_0x33372b[_0x54797a(0xdf)],'coins':_0x4357fe};let _0x276e95=dbPerformance[_0x54797a(0xcd)]('data')[_0x54797a(0xaf)]({'date':_0x4dea6f['date']})['value']();_0x276e95?_0x4dea6f[_0x54797a(0x15b)]!=config[_0x54797a(0xc2)]&&dbPerformance[_0x54797a(0xcd)](_0x54797a(0x10e))['find']({'date':_0x4dea6f['date']})['assign'](_0x4dea6f)[_0x54797a(0x1c3)]():dbPerformance[_0x54797a(0xcd)]('data')['push'](_0x4dea6f)[_0x54797a(0x1c3)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3dba74=_0x46a69d;let _0x36ce2c=[];if(dbPerformance[_0x3dba74(0x177)](_0x3dba74(0x10e))[_0x3dba74(0x1e1)]()){let _0x1e62fe=dbPerformance[_0x3dba74(0xcd)](_0x3dba74(0x10e))[_0x3dba74(0xca)]()[_0x3dba74(0xc1)](_0x3dba74(0x15b))[_0x3dba74(0x1e1)](),_0x3061f1=[...config[_0x3dba74(0x130)]];_0x3061f1['sort']((_0x4191cb,_0x2c6c47)=>_0x4191cb[_0x3dba74(0x15b)]>_0x2c6c47['date']?-0x1:_0x2c6c47[_0x3dba74(0x15b)]>_0x4191cb[_0x3dba74(0x15b)]?0x1:0x0);let _0x39a7e1=0x1,_0x3fa902=[],_0xc8b80c=0x0;_0x1e62fe['slice']()[_0x3dba74(0x1a4)]()[_0x3dba74(0x1f2)]((_0xdef496,_0x529993)=>{const _0x972c44=_0x3dba74;if(_0x3061f1[_0xc8b80c]){if(_0x1e62fe[_0x1e62fe[_0x972c44(0x1c0)]-_0x529993]&&_0x3061f1[_0xc8b80c][_0x972c44(0x15b)]==_0x1e62fe[_0x1e62fe[_0x972c44(0x1c0)]-_0x529993]['date']){if(_0x529993<_0x1e62fe[_0x972c44(0x1c0)]){let _0x2bf94d=0x0,_0x5b2d24=0x0;_0x1e62fe[_0x1e62fe['length']-_0x529993][_0x972c44(0xfd)][_0x972c44(0x1f2)](_0x1455b9=>{const _0x5b61ad=_0x972c44;_0x5b2d24+=_0x1455b9[_0x5b61ad(0x18f)]*_0x1455b9[_0x5b61ad(0x103)];}),_0x3061f1[_0xc8b80c][_0x972c44(0xb4)]['forEach'](_0x4c81d4=>{const _0x47165b=_0x972c44;_0x2bf94d+=_0x4c81d4[_0x47165b(0x18f)]*_0x4c81d4[_0x47165b(0x103)];}),_0x39a7e1*=_0x2bf94d/(_0x5b2d24-_0x2bf94d)+0x1;}_0xc8b80c++;}}let _0x266a68=0x0;_0xdef496['coins'][_0x972c44(0x1f2)](_0x2f3132=>{const _0x537677=_0x972c44;_0x266a68+=_0x2f3132[_0x537677(0x18f)]*_0x2f3132[_0x537677(0x103)];}),_0x3fa902[_0x1e62fe['length']-_0x529993-0x1]=_0x266a68*(_0x39a7e1-0x1);});let _0x2b3201=[];_0x3061f1=[...config[_0x3dba74(0x130)]]||[];let _0x5ec69c=0x0;_0xc8b80c=0x0,_0x1e62fe[_0x3dba74(0x1f2)]((_0x1c1941,_0x4b0e7c)=>{const _0x50c474=_0x3dba74;if(_0x3061f1[_0xc8b80c]){const _0x1f58a5=fns[_0x50c474(0xee)](_0x3061f1[_0xc8b80c][_0x50c474(0x15b)],_0x50c474(0x170),new Date()),_0x49121c=fns[_0x50c474(0xee)](_0x1c1941[_0x50c474(0x15b)],_0x50c474(0x170),new Date());if(fns[_0x50c474(0xe0)](_0x1f58a5,_0x49121c)){let _0x569b57=0x0;_0x3061f1[_0xc8b80c][_0x50c474(0xb4)][_0x50c474(0x1f2)](_0x27bfbd=>{const _0x22a47c=_0x50c474;!_0x2b3201[_0x27bfbd[_0x22a47c(0x101)]]?_0x2b3201[_0x27bfbd['coin']]=_0x27bfbd['number']:(_0x569b57=_0x2b3201[_0x27bfbd[_0x22a47c(0x101)]],_0x2b3201[_0x27bfbd[_0x22a47c(0x101)]]+=_0x27bfbd[_0x22a47c(0x18f)]);const _0x4f0c8f=_0x1c1941['coins'][_0x22a47c(0xaf)](_0x104d3d=>_0x104d3d[_0x22a47c(0x101)]==_0x27bfbd[_0x22a47c(0x101)]);(!_0x4f0c8f||_0x4f0c8f[_0x22a47c(0x18f)]==0x0)&&(_0x5ec69c+=(-_0x27bfbd[_0x22a47c(0x18f)]-_0x569b57)*_0x27bfbd[_0x22a47c(0x103)]);}),_0xc8b80c++;}}_0x1c1941[_0x50c474(0xfd)][_0x50c474(0x1f2)]((_0x993f78,_0xfdaf1c)=>{const _0x193e3c=_0x50c474;_0x2b3201[_0x993f78['coin']]&&(_0x993f78[_0x193e3c(0x1d0)]=_0x2b3201[_0x993f78[_0x193e3c(0x101)]]);}),_0x36ce2c[_0x50c474(0xb6)]({'date':_0x1c1941['date'],'eur':_0x1c1941['eur'],'usd':_0x1c1941[_0x50c474(0xdf)],'offset':_0x3fa902[_0x4b0e7c],'netoffset':_0x5ec69c,'coins':_0x1c1941['coins']});});}return _0x36ce2c;}function emitPerformance(_0xe4cfa6){const _0x251cec=_0x46a69d;_0xe4cfa6[_0x251cec(0x1c0)]!==0x0?(proxyEmit(_0x251cec(0xf4),_0xe4cfa6),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x232928,_0x14f4ef){const _0xdc3ea9=_0x46a69d;let _0x858a93=0x0,_0x3531d8=0x0,_0xcb22d4=0x0;_0x232928['coins'][_0xdc3ea9(0x1f2)](_0x5be962=>{const _0x236665=_0xdc3ea9;_0x858a93+=_0x5be962[_0x236665(0x18f)]*_0x5be962['price'];});_0x14f4ef&&(_0x858a93+=_0x232928[_0xdc3ea9(0x14e)]);if(config[_0xdc3ea9(0x16d)]===_0xdc3ea9(0x17e)||config['basecoin']==='ETH')_0x3531d8=_0x858a93*_0x232928[_0xdc3ea9(0x12f)],_0xcb22d4=_0x858a93*_0x232928[_0xdc3ea9(0xdf)];else{if(config[_0xdc3ea9(0x16d)]===_0xdc3ea9(0x14f)||config['basecoin']===_0xdc3ea9(0x14b)||config[_0xdc3ea9(0x16d)]===_0xdc3ea9(0x1e5))_0x3531d8=_0x858a93*_0x232928[_0xdc3ea9(0x12f)]/_0x232928[_0xdc3ea9(0xdf)],_0xcb22d4=_0x858a93;else config[_0xdc3ea9(0x16d)]==='EUR'&&(_0x3531d8=_0x858a93,_0xcb22d4=_0x858a93*_0x232928['usd']/_0x232928[_0xdc3ea9(0x12f)]);}return[_0x858a93,_0x3531d8,_0xcb22d4];}function getKPIs(_0x4ff476,_0x204645='EUR'){const _0x2ca8d0=_0x46a69d,_0x1429ea=config['basecoin'],_0x26e7d2=lastBalances,_0x193a72=currentCoins,_0x5621a7=getNormalizedPerformance(),_0x1725bc=_0x4ff476==='basecoin'?_0x1429ea:_0x4ff476==='fiat'||_0x4ff476===_0x2ca8d0(0x199)?_0x204645:_0x2ca8d0(0xe6)+_0x1429ea,_0x2fb903=_0x4ff476===_0x2ca8d0(0x190)?_0x2ca8d0(0x181):_0x4ff476===_0x2ca8d0(0x199)?_0x2ca8d0(0x181):_0x1725bc+_0x2ca8d0(0x9e),_0x1aaafc=_0x4ff476===_0x2ca8d0(0x190)||_0x4ff476==='net-fiat'?'Net\x20effect':_0x1725bc+_0x2ca8d0(0x14c);let _0x10c983=0x0;_0x193a72[_0x2ca8d0(0x1f2)](_0x540a7e=>{const _0x3ee5c1=_0x2ca8d0;_0x10c983+=_0x540a7e['number']*_0x540a7e[_0x3ee5c1(0x1bf)];});if(_0x4ff476===_0x2ca8d0(0x167)||_0x4ff476===_0x2ca8d0(0x199)){if(_0x1429ea===_0x2ca8d0(0x17e)||_0x1429ea===_0x2ca8d0(0x140))_0x10c983=_0x10c983*(_0x204645===_0x2ca8d0(0x81)?_0x26e7d2[_0x2ca8d0(0x12f)]:_0x26e7d2['usd']);else{if(_0x1429ea===_0x2ca8d0(0x14f)||_0x1429ea===_0x2ca8d0(0x14b)||_0x1429ea===_0x2ca8d0(0x1e5))_0x10c983=_0x10c983*(_0x204645==='EUR'?_0x26e7d2[_0x2ca8d0(0x12f)]/_0x26e7d2[_0x2ca8d0(0xdf)]:0x1);else _0x1429ea==='EUR'&&(_0x10c983=_0x10c983*(_0x204645==='EUR'?0x1:_0x26e7d2[_0x2ca8d0(0xdf)]/_0x26e7d2[_0x2ca8d0(0x12f)]));}}let _0x33c54c;if(_0x10c983!==0x0){if(_0x4ff476==='basecoin')_0x33c54c=(_0x10c983/startingBalances[_0x2ca8d0(0x16d)]-0x1)*0x64;else{if(_0x204645===_0x2ca8d0(0x81))_0x33c54c=(_0x10c983/startingBalances['eur']-0x1)*0x64;else _0x33c54c=(_0x10c983/startingBalances[_0x2ca8d0(0xdf)]-0x1)*0x64;}let _0x24c592=0x0;if(startingBalances[_0x2ca8d0(0xfd)])_0x193a72['forEach'](_0x3e8fd6=>{const _0x595a49=_0x2ca8d0;let _0x1e57f2=startingBalances[_0x595a49(0xfd)]['find'](_0x11b0de=>_0x11b0de[_0x595a49(0x101)]===_0x3e8fd6[_0x595a49(0x101)]);if(_0x1e57f2&&_0x1e57f2[_0x595a49(0x101)]&&_0x3e8fd6['number']!==0x0)_0x24c592+=_0x1e57f2['number']*_0x3e8fd6[_0x595a49(0x1bf)];});let _0x3729e6=0x0;if(_0x5621a7['length']!==0x0){let _0x7f6bb5=_0x5621a7[_0x5621a7[_0x2ca8d0(0x1c0)]-0x1];_0x3729e6=_0x7f6bb5[_0x2ca8d0(0xb1)];}_0x24c592-=_0x3729e6;_0x4ff476==='net-basecoin'&&(_0x33c54c=(_0x10c983-_0x24c592)/startingBalances[_0x2ca8d0(0x16d)]*0x64,_0x10c983=_0x10c983-_0x24c592);if(_0x4ff476===_0x2ca8d0(0x199)){let _0x5cd66a=_0x204645==='EUR'?startingBalances[_0x2ca8d0(0x12f)]:startingBalances[_0x2ca8d0(0xdf)];if(_0x1429ea==='BTC'||_0x1429ea==='ETH')_0x24c592=_0x204645===_0x2ca8d0(0x81)?_0x24c592*_0x26e7d2[_0x2ca8d0(0x12f)]:_0x24c592*_0x26e7d2[_0x2ca8d0(0xdf)];else{if(_0x1429ea==='BUSD'||_0x1429ea==='USDT'||_0x1429ea===_0x2ca8d0(0x1e5))_0x24c592=_0x204645===_0x2ca8d0(0x81)?_0x24c592*_0x26e7d2[_0x2ca8d0(0x12f)]/_0x26e7d2[_0x2ca8d0(0xdf)]:_0x24c592;else _0x1429ea===_0x2ca8d0(0x81)&&(_0x24c592=_0x204645===_0x2ca8d0(0x81)?_0x24c592:_0x24c592*_0x26e7d2[_0x2ca8d0(0xdf)]/_0x26e7d2[_0x2ca8d0(0x12f)]);}_0x33c54c=(_0x10c983-_0x24c592)/_0x5cd66a*0x64,_0x10c983=_0x10c983-_0x24c592;}if(_0x33c54c){if(_0x33c54c<0x64)_0x33c54c=_0x33c54c[_0x2ca8d0(0xd0)](0x2);else{if(_0x33c54c<0x3e8)_0x33c54c=_0x33c54c[_0x2ca8d0(0xd0)](0x1);else _0x33c54c=_0x33c54c[_0x2ca8d0(0xd0)](0x0);}}else _0x33c54c=Number('0')['toFixed'](0x2);if(_0x10c983){if(Math['abs'](_0x10c983)<0.000001)_0x10c983=_0x10c983[_0x2ca8d0(0xd0)](0x2);else{if(Math[_0x2ca8d0(0x1b7)](_0x10c983)<0.1)_0x10c983=_0x10c983['toFixed'](0x6);else{if(Math['abs'](_0x10c983)<0x1)_0x10c983=_0x10c983['toFixed'](0x5);else{if(Math['abs'](_0x10c983)<0xa)_0x10c983=_0x10c983[_0x2ca8d0(0xd0)](0x4);else{if(Math[_0x2ca8d0(0x1b7)](_0x10c983)<0x64)_0x10c983=_0x10c983[_0x2ca8d0(0xd0)](0x3);else{if(Math[_0x2ca8d0(0x1b7)](_0x10c983)<0x3e8)_0x10c983=_0x10c983['toFixed'](0x2);else _0x10c983=_0x10c983['toFixed'](0x2);}}}}}}else _0x10c983=Number('0')['toFixed'](0x2);}else _0x33c54c=Number('0')['toFixed'](0x2);return{'value':_0x10c983,'change':_0x33c54c,'leftTxt':_0x2fb903,'rightTxt':_0x1aaafc};}async function getStartingBalances(_0x19a8af,_0x9a0753=!![]){const _0x328713=_0x46a69d;if(_0x19a8af['length']!==0x0){const [_0x238337,_0x4a51f9,_0x50e5a7]=getPerf(_0x19a8af[0x0],!![]);let _0x1ad9e3=[];config[_0x328713(0x120)][_0x328713(0x1f2)](_0x288b0c=>{const _0x5e05f1=_0x328713;let _0x178298=0x0,_0x580634;config[_0x5e05f1(0x130)][_0x5e05f1(0x1f2)](_0x4a1685=>{const _0x42c34c=_0x5e05f1;let _0x59c20d=_0x4a1685['changes'][_0x42c34c(0xaf)](_0x581fe6=>_0x581fe6['coin']==_0x288b0c[_0x42c34c(0x101)]);if(_0x59c20d){_0x178298+=_0x59c20d[_0x42c34c(0x18f)];if(!_0x580634)_0x580634=_0x59c20d[_0x42c34c(0x103)];}}),_0x1ad9e3[_0x5e05f1(0xb6)]({'coin':_0x288b0c['coin'],'number':_0x178298,'initialprice':_0x580634});});const _0x31273f={'basecoin':_0x238337,'eur':_0x4a51f9,'usd':_0x50e5a7,'coins':_0x1ad9e3};if(_0x9a0753)proxyEmit(_0x328713(0x8d),_0x31273f);startingBalances=_0x31273f;}}function headlessMode(_0x21e88c){const _0x413ce4=_0x46a69d;let _0x23e7f9=_0x21e88c[_0x413ce4(0x120)],_0x3c2833=_0x21e88c[_0x413ce4(0x142)],_0x1643e0=[];for(let _0x3846e5 of _0x23e7f9){if(_0x3846e5[_0x413ce4(0x101)]!=config[_0x413ce4(0x16d)]){if(_0x3846e5['delta']>=_0x3c2833/0x64){if(_0x3846e5[_0x413ce4(0xcf)])_0x1643e0[_0x413ce4(0xb6)](_0x3846e5);}else{if(_0x3846e5[_0x413ce4(0xbb)]<=-_0x3c2833/0x64){if(_0x3846e5[_0x413ce4(0xcf)])_0x1643e0['push'](_0x3846e5);}}}}_0x1643e0['length']>0x0&&placeOrder(_0x1643e0);}function notifyBalance(_0x198b83){const _0x44c028=_0x46a69d;let _0x37bc45=_0x198b83[_0x44c028(0x120)],_0x37b447=_0x198b83['threshold'],_0x1abcf5=[];for(let _0x36834d of _0x37bc45){if(_0x36834d[_0x44c028(0x101)]!=config[_0x44c028(0x16d)]){if(_0x36834d[_0x44c028(0xbb)]>=_0x37b447/0x64){if(_0x36834d[_0x44c028(0xcf)])_0x1abcf5[_0x44c028(0xb6)](_0x36834d);}else{if(_0x36834d['delta']<=-_0x37b447/0x64){if(_0x36834d[_0x44c028(0xcf)])_0x1abcf5[_0x44c028(0xb6)](_0x36834d);}}}}if(_0x1abcf5[_0x44c028(0x1c0)]>0x0){let _0x32e002=_0x1abcf5[_0x44c028(0x1e2)](_0x2bf4e7=>_0x2bf4e7[_0x44c028(0x101)]);_0x32e002[_0x44c028(0x10c)]();let _0x4381cf=_0x32e002['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x44c028(0x102),_0x44c028(0x92));lastCoinsToBalance=_0x4381cf;}}function symbolToCoin(_0x592715){const _0x2a57f=_0x46a69d;let _0x114acb;if(_0x592715[_0x2a57f(0x1d7)]('/'+config[_0x2a57f(0x16d)]))_0x114acb=_0x592715[_0x2a57f(0xf5)]('/'+config['basecoin'],'');if(_0x592715[_0x2a57f(0x1d7)](config[_0x2a57f(0x16d)]+'/'))_0x114acb=_0x592715[_0x2a57f(0xf5)](config['basecoin']+'/','');return _0x114acb;}async function unlockOrders(){const _0x4a5b1a=_0x46a69d;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4a5b1a(0xd2)]){logger[_0x4a5b1a(0x1f5)](_0x4a5b1a(0x106)),lockOrders=ORDERS[_0x4a5b1a(0x188)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x511240=await getCoins();[currentCoins,currentCoinsAll]=_0x511240,validateOrdersState=_0x4a5b1a(0x1d0),persistOpenOrders([]),lockOrders=ORDERS[_0x4a5b1a(0xa8)],logger['debug'](_0x4a5b1a(0x88));}}async function validateOrders(_0xb01f80){const _0x2794a2=_0x46a69d;if(_0xb01f80)validateOrdersState=_0xb01f80;logger[_0x2794a2(0x1f5)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x2794a2(0x1dd)+(lockOrders==0x1?_0x2794a2(0x116):lockOrders==0x2?_0x2794a2(0x111):_0x2794a2(0xf7)));let _0x154c91=[],_0x51e663=config[_0x2794a2(0x8f)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2794a2(0x1f1)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2794a2(0xd2)])return;logger[_0x2794a2(0x1f5)](_0x2794a2(0x141)+validateOrdersState),lastOrders['forEach'](_0x55cba4=>{const _0x1bb23e=_0x2794a2;let _0x14c5b0=![];_0x55cba4[_0x1bb23e(0x1cf)]>0x0&&(_0x14c5b0=!![]),_0x154c91['push'](_0x14c5b0),_0x14c5b0&&config[_0x1bb23e(0x8f)]!='market'&&logHistory(_0x1bb23e(0xbe),_0x1bb23e(0x10a)+_0x55cba4[_0x1bb23e(0x166)]+'\x20'+_0x55cba4[_0x1bb23e(0xc3)]+'\x20#'+formatResult(_0x55cba4[_0x1bb23e(0x1cf)],0x8)+'\x20@'+formatResult(_0x55cba4[_0x1bb23e(0x103)],0x8));}),_0x154c91[_0x2794a2(0x1f2)]((_0x5ddeb0,_0xc63c4f)=>{if(_0x5ddeb0)lastOrders['splice'](_0xc63c4f,0x1);}),persistOpenOrders(lastOrders);const _0x52a308=coolingDown?_0x2794a2(0x121):'balancing\x20resumed';if(validateOrdersState=='initial'){validateOrdersState=_0x2794a2(0x1dc);if(_0x154c91[_0x2794a2(0x1d7)](![])){if(config[_0x2794a2(0x8f)]==_0x2794a2(0x160)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x2794a2(0x1dc)){if(_0x154c91['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x2794a2(0x8f)]==_0x2794a2(0x160)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x2794a2(0x1d4))_0x154c91[_0x2794a2(0x1d7)](![])&&(config[_0x2794a2(0x8f)]=='market'?logHistory(_0x2794a2(0x1a3),_0x2794a2(0x1e4)+Math[_0x2794a2(0x11e)](_0x51e663*validateOrderInterval/0xea60)+_0x2794a2(0x9f)+_0x52a308):(await cancelOrders(),logHistory(_0x2794a2(0x1a3),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x51e663*validateOrderInterval/0xea60)+_0x2794a2(0x9f)+_0x52a308))),await unlockOrders();else{if(validateOrdersState==_0x2794a2(0x1d8)){if(config['ordertype']!=_0x2794a2(0x160))logHistory(_0x2794a2(0x1a3),_0x2794a2(0x97)+_0x52a308);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x3611ce=>{const _0xcd7c8a=_0x4a6b;try{const _0x591597=await exchange[_0xcd7c8a(0xb0)](_0x3611ce[_0xcd7c8a(0xc7)],_0x3611ce[_0xcd7c8a(0x166)]);}catch(_0x3e3e69){if(_0x3e3e69[_0xcd7c8a(0x12d)]()['includes'](_0xcd7c8a(0x93))){}else await handleError(_0x3e3e69,_0xcd7c8a(0x1a0));}});}async function initCoinResults(){const _0x2bd4d5=_0x46a69d;let _0x395df7=[];config[_0x2bd4d5(0x120)]['forEach'](_0x5947b1=>{const _0xde5cff=_0x2bd4d5;if(!_0x5947b1['excluded']&&_0x5947b1[_0xde5cff(0x101)]!=config[_0xde5cff(0x16d)]){let _0x2f32f4=dbCoinResults[_0xde5cff(0xcd)](_0xde5cff(0xfd))[_0xde5cff(0xaf)]({'coin':_0x5947b1[_0xde5cff(0x101)]})[_0xde5cff(0x1e1)]();if(!_0x2f32f4){const _0x4a0f31=currentCoins[_0xde5cff(0xaf)](_0x27707f=>_0x27707f[_0xde5cff(0x101)]==_0x5947b1[_0xde5cff(0x101)]),_0x1d4ddb=global['ticker'][noslash(_0x5947b1['symbol'])];let _0x2b451d=_0x4a0f31?_0x4a0f31[_0xde5cff(0x18f)]:null,_0x1fbc29=_0x5947b1[_0xde5cff(0x1a4)]?0x1/_0x1d4ddb:_0x1d4ddb,_0x451673;config[_0xde5cff(0x130)]['forEach'](_0x510239=>{const _0x69d5be=_0xde5cff;!_0x451673&&(_0x451673=_0x510239[_0x69d5be(0xb4)][_0x69d5be(0xaf)](_0x39d747=>_0x39d747[_0x69d5be(0x101)]==_0x5947b1[_0x69d5be(0x101)]),_0x451673&&(_0x2b451d=_0x451673[_0x69d5be(0x18f)],_0x1fbc29=_0x451673['price']));}),_0x395df7[_0xde5cff(0xb6)]({'coin':_0x5947b1[_0xde5cff(0x101)],'number':_0x2b451d,'price':_0x1fbc29});}}}),_0x395df7[_0x2bd4d5(0x1f2)](_0x37e645=>{const _0x1eda32=_0x2bd4d5,_0x3a71dd={'coin':_0x37e645[_0x1eda32(0x101)],'number':_0x37e645[_0x1eda32(0x18f)],'breakeven':_0x37e645[_0x1eda32(0x103)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1eda32(0xcd)](_0x1eda32(0xfd))[_0x1eda32(0xb6)](_0x3a71dd)[_0x1eda32(0x1c3)]();});}async function updateCoinResults(_0x240eb1,_0xcf4d4b=![]){const _0x179d95=_0x46a69d;let _0x4b2e78,_0x3e7a5c,_0x521b11,_0x4ffc3e,_0x15d739,_0x413201,_0x10a212=dbCoinResults['get']('coins')[_0x179d95(0xaf)]({'coin':_0x240eb1[_0x179d95(0x101)]})[_0x179d95(0x1e1)]();!_0x10a212&&await initCoinResults();_0x240eb1[_0x179d95(0x1a4)]&&(_0x413201={'filled':_0x240eb1[_0x179d95(0x1cf)]*_0x240eb1[_0x179d95(0x103)],'amount':_0x240eb1[_0x179d95(0x1cf)]*_0x240eb1[_0x179d95(0x103)],'side':_0x240eb1[_0x179d95(0xc3)]=='sell'?_0x179d95(0x16f):_0x179d95(0x89),'price':0x1/_0x240eb1[_0x179d95(0x103)]},_0x240eb1={..._0x240eb1,..._0x413201});_0xcf4d4b?_0x3e7a5c=_0x240eb1[_0x179d95(0xc3)]==_0x179d95(0x16f)?_0x10a212[_0x179d95(0x18f)]+_0x240eb1[_0x179d95(0x1cf)]:_0x10a212[_0x179d95(0x18f)]-_0x240eb1[_0x179d95(0x1cf)]:_0x3e7a5c=await getCoinNumber(_0x240eb1[_0x179d95(0x101)]);if(_0x240eb1[_0x179d95(0x162)]&&_0x240eb1[_0x179d95(0x162)]['currency']==config[_0x179d95(0x16d)])_0x4b2e78=_0x240eb1[_0x179d95(0x162)][_0x179d95(0x1c6)];else{if(_0x240eb1['fee']&&_0x240eb1[_0x179d95(0x162)]['currency']=='BNB'&&!_0xcf4d4b)_0x4b2e78=_0x240eb1['fee'][_0x179d95(0x1c6)]*global[_0x179d95(0x13c)][_0x179d95(0xae)+config['basecoin']];else _0x4b2e78=defaultFee*_0x240eb1[_0x179d95(0x1cf)]*_0x240eb1[_0x179d95(0x103)];}_0x240eb1[_0x179d95(0xc3)]==_0x179d95(0x16f)?(_0x521b11=_0x3e7a5c!=0x0?(_0x10a212[_0x179d95(0xf8)]*_0x10a212[_0x179d95(0x18f)]+_0x240eb1[_0x179d95(0x103)]*(_0x3e7a5c-_0x10a212[_0x179d95(0x18f)])+_0x4b2e78)/_0x3e7a5c:0x0,_0x4ffc3e=_0x10a212[_0x179d95(0xbc)]):(_0x521b11=_0x3e7a5c!=0x0?(_0x10a212[_0x179d95(0xf8)]*_0x10a212[_0x179d95(0x18f)]-_0x240eb1['price']*(_0x10a212[_0x179d95(0x18f)]-_0x3e7a5c)+_0x4b2e78)/_0x3e7a5c:0x0,_0x4ffc3e=_0x10a212['realized']+(_0x240eb1[_0x179d95(0x103)]-_0x10a212[_0x179d95(0xf8)])*_0x240eb1[_0x179d95(0x1cf)]);_0x15d739=(_0x240eb1[_0x179d95(0x103)]-_0x521b11-_0x4b2e78/_0x240eb1['filled'])*_0x3e7a5c;let _0x467902={'coin':_0x240eb1['coin'],'number':_0x3e7a5c,'breakeven':formatResult(_0x521b11,0x8),'realized':formatResult(_0x4ffc3e,0x8),'unrealized':formatResult(_0x15d739,0x8),'fees':formatResult(_0x10a212['fees']+_0x4b2e78,0x8),'sells':_0x240eb1[_0x179d95(0xc3)]==_0x179d95(0x89)?_0x10a212[_0x179d95(0x159)]+0x1:_0x10a212[_0x179d95(0x159)],'buys':_0x240eb1[_0x179d95(0xc3)]==_0x179d95(0x16f)?_0x10a212[_0x179d95(0x136)]+0x1:_0x10a212['buys']};dbCoinResults['get'](_0x179d95(0xfd))[_0x179d95(0xaf)]({'coin':_0x240eb1[_0x179d95(0x101)]})[_0x179d95(0x1e0)](_0x467902)[_0x179d95(0x1c3)]();if(!_0xcf4d4b){if(_0x240eb1[_0x179d95(0x162)]&&_0x240eb1[_0x179d95(0x162)]['currency']=='BNB'){const _0x1a98d4=currentCoins['find'](_0x5ad5e6=>_0x5ad5e6[_0x179d95(0x101)]==_0x179d95(0xae));if(_0x1a98d4){let _0x4bde15=dbCoinResults[_0x179d95(0xcd)]('coins')['find']({'coin':_0x179d95(0xae)})[_0x179d95(0x1e1)]();_0x467902={..._0x4bde15,'number':_0x1a98d4[_0x179d95(0x18f)]},dbCoinResults['get']('coins')[_0x179d95(0xaf)]({'coin':_0x179d95(0xae)})['assign'](_0x467902)['write']();}}}}async function placeOrder(_0x37e6c0){const _0x5c8dfb=_0x46a69d,_0x3b4cef=config[_0x5c8dfb(0x8f)]==_0x5c8dfb(0x160)?'market':_0x5c8dfb(0x171);if(lockOrders==ORDERS[_0x5c8dfb(0xa8)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5c8dfb(0xd2)],allOrdersPlaced=![],validateOrdersState=_0x5c8dfb(0x1d0),lastOrders=[];for(const _0x5aa4f1 of _0x37e6c0){let _0x5a127d,_0x4b1e0c,_0x131365,_0x4052cb,_0x5a9fdb,_0x30b99e=_0x5aa4f1['symbol'];try{const _0x1796f5=await exchange['fetchTicker'](_0x30b99e);_0x5a127d=_0x5aa4f1[_0x5c8dfb(0x1a4)]?0x1/_0x5aa4f1['last']:_0x5aa4f1[_0x5c8dfb(0x1bf)],_0x4b1e0c=_0x1796f5[_0x5c8dfb(0x1c1)],_0x131365=_0x1796f5[_0x5c8dfb(0x1c9)];_0x5aa4f1[_0x5c8dfb(0x1a4)]?(_0x4052cb=_0x5aa4f1['side']==_0x5c8dfb(0x16f)?_0x5c8dfb(0x89):_0x5c8dfb(0x16f),_0x5a9fdb=Math['abs'](_0x5aa4f1['trade'])/_0x5a127d):(_0x4052cb=_0x5aa4f1['side'],_0x5a9fdb=Math[_0x5c8dfb(0x1b7)](_0x5aa4f1[_0x5c8dfb(0x154)]));_0x3b4cef==_0x5c8dfb(0x171)&&(config['ordertype']==_0x5c8dfb(0x123)&&(_0x5a127d=_0x4052cb==_0x5c8dfb(0x16f)?_0x4b1e0c:_0x131365),config['ordertype']==_0x5c8dfb(0x169)&&(_0x5a127d=_0x4052cb==_0x5c8dfb(0x16f)?_0x131365:_0x4b1e0c));_0x5a9fdb=formatResult(_0x5a9fdb,0x8),_0x5a127d=formatResult(_0x5a127d,0x8);const _0x49c242=_0x4052cb=='sell'?config[_0x5c8dfb(0x148)]?String[_0x5c8dfb(0x85)]('0x'+config[_0x5c8dfb(0x148)])+'\x20':'':config['emojibuy']?String[_0x5c8dfb(0x85)]('0x'+config['emojibuy'])+'\x20':'',_0x433796=_0x3b4cef=='market'?_0x5c8dfb(0x18e):config[_0x5c8dfb(0x8f)]=='limit-high'?_0x5c8dfb(0x1f7):_0x5c8dfb(0xcb),_0x13bbe2=new Date()[_0x5c8dfb(0x19b)]()[_0x5c8dfb(0x12d)]()[_0x5c8dfb(0xe9)](-0x6)+'-'+Math[_0x5c8dfb(0x1e6)]()['toString']()[_0x5c8dfb(0xe9)](-0x6);lastOrders[_0x5c8dfb(0xb6)]({'customId':_0x13bbe2,'symbol':_0x30b99e,'coin':_0x5aa4f1[_0x5c8dfb(0x101)],'side':_0x4052cb,'reverse':_0x5aa4f1['reverse'],'filled':0x0});if(_0x3b4cef==_0x5c8dfb(0x160))logHistory(_0x5c8dfb(0xbe),''+_0x49c242+_0x433796+'\x20order:\x20'+_0x30b99e+'\x20'+_0x4052cb+'\x20#'+formatResult(_0x5a9fdb,0x8)+'\x20@'+formatResult(_0x5a127d,0x8));else logHistory('order',''+_0x49c242+_0x433796+_0x5c8dfb(0xe7)+_0x30b99e+'\x20'+_0x4052cb+'\x20#'+formatResult(_0x5a9fdb,0x8)+'\x20@'+formatResult(_0x5a127d,0x8));const _0x324470=await exchange[_0x5c8dfb(0x127)](_0x30b99e,_0x3b4cef,_0x4052cb,_0x5a9fdb,_0x5a127d,{'clientOrderId':_0x13bbe2}),_0x3a9116=lastOrders[_0x5c8dfb(0x1c0)]-0x1;_0x3a9116>=0x0&&lastOrders[_0x3a9116]['customId']==_0x13bbe2&&(lastOrders[_0x3a9116]={...lastOrders[_0x3a9116],'orderId':_0x324470['id'],'amount':_0x324470[_0x5c8dfb(0x11f)],'price':_0x324470[_0x5c8dfb(0x103)],'fee':_0x324470[_0x5c8dfb(0x162)]});if(config['cooldown']!=0x0){let _0x3dcb2f=null;if(cooldownTracker[_0x5c8dfb(0x1c0)]==config[_0x5c8dfb(0x14d)]-0x1)_0x3dcb2f=cooldownTracker[_0x5c8dfb(0xad)]();const _0x4f86df=getTimeStamp();cooldownTracker[_0x5c8dfb(0xb6)](_0x4f86df);if(_0x3dcb2f){const _0x2001a8=fns[_0x5c8dfb(0x194)](new Date(_0x4f86df),new Date(_0x3dcb2f));if(_0x2001a8<cooldownInterval){logHistory(_0x5c8dfb(0xa4),_0x5c8dfb(0x11a)+config[_0x5c8dfb(0x14d)]+_0x5c8dfb(0x11c)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x5c8dfb(0xdd)),coolingDown=!![];break;}}}}catch(_0x32becd){if(_0x32becd[_0x5c8dfb(0x12d)]()[_0x5c8dfb(0x1d7)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x5c8dfb(0xb7)](_0xc60407=>_0xc60407['symbol']!=_0x30b99e),await pauseBot(_0x5c8dfb(0x91)+_0x30b99e);else _0x32becd[_0x5c8dfb(0x12d)]()[_0x5c8dfb(0x1d7)]('Invalid\x20quantity')?(lastOrders=lastOrders[_0x5c8dfb(0xb7)](_0x4c6e97=>_0x4c6e97[_0x5c8dfb(0x166)]!=_0x30b99e),await pauseBot('Order\x20amount\x20is\x20invalid:\x20'+_0x30b99e)):(lastOrders=lastOrders['filter'](_0x44925a=>_0x44925a[_0x5c8dfb(0x166)]!=_0x30b99e),await handleError(_0x32becd,'placeOrder()',_0x30b99e));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5c8dfb(0x1c0)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x498b64=config['ordertype']==_0x5c8dfb(0x160)?validateOrderTimeout*0x3c*0x3e8:config[_0x5c8dfb(0x1f1)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x40011a=_0x5c8dfb;validateOrders(_0x40011a(0x1d4));},_0x498b64);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5c8dfb(0x1a3),_0x5c8dfb(0x19d)));}else{if(coolingDown)!config[_0x5c8dfb(0x1a6)]&&logHistory(_0x5c8dfb(0xa4),_0x5c8dfb(0x1cd));else lockOrders!=ORDERS[_0x5c8dfb(0xa8)]&&(!config[_0x5c8dfb(0x1a6)]&&(config[_0x5c8dfb(0x8f)]==_0x5c8dfb(0x160)?logHistory('error',_0x5c8dfb(0xfe)):logHistory('error',_0x5c8dfb(0x1de))));}}function persistOpenOrders(_0x341028){const _0x2fa40e=_0x46a69d,_0x86567c={...config,'openOrders':_0x341028};let _0xb1906b=dbConfig['get']('bot')[_0x2fa40e(0xaf)]({'botID':botID})['value']();_0xb1906b&&dbConfig['get']('bot')[_0x2fa40e(0xaf)]({'botID':botID})[_0x2fa40e(0x1e0)](_0x86567c)[_0x2fa40e(0x1c3)]();}function restoreOrders(){const _0x2a42d3=_0x46a69d;let _0x19b30c;config[_0x2a42d3(0x17f)]&&allOpenOrders[_0x2a42d3(0x1f2)](_0x5c27a5=>{const _0x4ed0b8=_0x2a42d3,_0x458554=config[_0x4ed0b8(0x17f)][_0x4ed0b8(0xaf)](_0x1f4834=>_0x1f4834[_0x4ed0b8(0xc7)]==_0x5c27a5['id']);_0x458554&&(lastOrders['push'](_0x458554),_0x19b30c=_0x5c27a5[_0x4ed0b8(0x157)]);});if(lastOrders[_0x2a42d3(0x1c0)]>0x0){lockOrders=ORDERS[_0x2a42d3(0xd2)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x42f36b=new Date()[_0x2a42d3(0x19b)](),_0x446190=config['ordertype']==_0x2a42d3(0x160)?validateOrderTimeout*0x3c*0x3e8:config[_0x2a42d3(0x1f1)]*0x3c*0x3e8;if(_0x19b30c+_0x446190>_0x42f36b){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4fe094=_0x2a42d3;validateOrders(_0x4fe094(0x1d4));},_0x19b30c+_0x446190-_0x42f36b);}else validateOrders(_0x2a42d3(0x1d4));}}async function sendMetricsTelegram(){const _0x4ea20c=_0x46a69d;if(!coinsLoaded){process[_0x4ea20c(0xb3)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x27f0f2=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0xd9ea25='';if(config['showname'])_0xd9ea25=_0x4ea20c(0x19c)+config[_0x4ea20c(0xf0)]+'\x20metrics:</b>\x20\x0a\x0a';else _0xd9ea25='<b>Bot\x20'+botID+_0x4ea20c(0x1b9);const _0x3661eb=getKPIs(_0x4ea20c(0x16d)),_0x430a67=getKPIs('fiat',config[_0x4ea20c(0x167)]),_0x1d7ae1=getKPIs('net-basecoin'),_0x1cccc3=getKPIs(_0x4ea20c(0x199),config[_0x4ea20c(0x167)]);_0xd9ea25+=_0x4ea20c(0xec),_0xd9ea25+=_0x3661eb[_0x4ea20c(0x185)]+_0x4ea20c(0xb8)+_0x3661eb[_0x4ea20c(0x1e1)]+'\x0a',_0xd9ea25+=_0x3661eb[_0x4ea20c(0x1c2)]+':\x20'+_0x3661eb[_0x4ea20c(0x84)]+'%\x0a',_0xd9ea25+=_0x430a67[_0x4ea20c(0x185)]+_0x4ea20c(0xb8)+_0x430a67['value']+'\x0a',_0xd9ea25+=_0x430a67[_0x4ea20c(0x1c2)]+':\x20'+_0x430a67[_0x4ea20c(0x84)]+'%\x0a',_0xd9ea25+=_0x1d7ae1[_0x4ea20c(0x185)]+':\x20'+_0x1d7ae1[_0x4ea20c(0x1e1)]+'\x20('+config['basecoin']+')\x0a',_0xd9ea25+=_0x1d7ae1[_0x4ea20c(0x1c2)]+':\x20'+_0x1d7ae1['change']+'%\x20('+config[_0x4ea20c(0x16d)]+')\x0a',_0xd9ea25+=_0x1cccc3[_0x4ea20c(0x185)]+':\x20'+_0x1cccc3[_0x4ea20c(0x1e1)]+'\x20('+config[_0x4ea20c(0x167)]+')\x0a',_0xd9ea25+=_0x1cccc3[_0x4ea20c(0x1c2)]+':\x20'+_0x1cccc3[_0x4ea20c(0x84)]+_0x4ea20c(0x117)+config[_0x4ea20c(0x167)]+')\x0a',_0xd9ea25+='</pre>',process['send']({'telegrammsg':_0xd9ea25},_0xaed9a9=>{});}async function sendPortfolioTelegram(){const _0x139ab0=_0x46a69d;if(!coinsLoaded){process[_0x139ab0(0xb3)]({'telegrammsg':_0x139ab0(0x1ed)},_0x4d66a8=>{});return;}let _0x5bfaca='';if(config['showname'])_0x5bfaca=_0x139ab0(0x19c)+config['botname']+_0x139ab0(0x118);else _0x5bfaca=_0x139ab0(0xd7)+botID+_0x139ab0(0x118);_0x5bfaca+=_0x139ab0(0xec),_0x5bfaca+=_0x139ab0(0xfa),_0x5bfaca+=_0x139ab0(0x1f3),_0x5bfaca+=_0x139ab0(0xfa),currentCoins[_0x139ab0(0x1f2)](_0x4aecf6=>{const _0xaf089=_0x139ab0;_0x5bfaca+=_0x4aecf6[_0xaf089(0x101)]['padEnd'](0x7)+'|\x20'+formatPad(_0x4aecf6[_0xaf089(0x143)],0x2,0x6)+'|\x20'+formatPad(_0x4aecf6[_0xaf089(0xef)],0x2,0x6)+'|\x20'+formatPad(_0x4aecf6[_0xaf089(0xbb)]*0x64,0x2,0x6)+'\x0a';}),_0x5bfaca+=_0x139ab0(0xac),process[_0x139ab0(0xb3)]({'telegrammsg':_0x5bfaca},_0x3899e5=>{});}function formatPad(_0x295049,_0x28c89d,_0x147786){const _0x4640bc=_0x46a69d,_0x5306b4=formatResultString(_0x295049,_0x28c89d);return _0x5306b4?_0x5306b4[_0x4640bc(0x138)](_0x147786):''[_0x4640bc(0x138)](_0x147786);}function logHistory(_0x48ee76,_0x2487f0,_0x34a43=''){const _0x12ef8b=_0x46a69d;let _0x13289a={'time':getTimeStamp(),'type':_0x48ee76,'event':_0x2487f0};dbLogs[_0x12ef8b(0xcd)](_0x12ef8b(0x1ad))[_0x12ef8b(0xb6)](_0x13289a)['write']();if(_0x34a43=='')_0x34a43=_0x2487f0;proxyEmit(_0x12ef8b(0x15e),{'log':_0x13289a,'summary':_0x34a43}),process[_0x12ef8b(0xb3)]({'telegram':{..._0x13289a,'botname':config[_0x12ef8b(0xf0)],'showname':config['showname']}},_0x40ef5d=>{}),logger[_0x12ef8b(0xbf)](''+_0x13289a[_0x12ef8b(0x15e)]);}function emitHistory(_0x2258ee={}){const _0x2d8550=_0x46a69d;Object[_0x2d8550(0x12c)](_0x2258ee)[_0x2d8550(0x1c0)]==0x0&&(_0x2258ee={'type':[_0x2d8550(0xbe),_0x2d8550(0x15e)],'event':'','page':0x1});if(_0x2258ee[_0x2d8550(0x17c)][_0x2d8550(0x1d7)](_0x2d8550(0x15e)))_0x2258ee[_0x2d8550(0x17c)]['splice'](_0x2258ee[_0x2d8550(0x17c)][_0x2d8550(0x1b2)](_0x2d8550(0x15e)),0x1,'error',_0x2d8550(0x102),_0x2d8550(0x1a3));if(dbLogs[_0x2d8550(0x177)]('logs')['value']()){let _0x3b71d5=dbLogs[_0x2d8550(0xcd)]('logs')['filter'](_0x5e6a24=>{const _0x533db5=_0x2d8550;if(_0x2258ee['type']['length']==0x0)return![];else return _0x2258ee[_0x533db5(0x17c)][_0x533db5(0x1d7)](_0x5e6a24[_0x533db5(0x17c)]);})['filter'](_0x29d01b=>{const _0x481c7b=_0x2d8550;if(_0x2258ee[_0x481c7b(0x15e)]=='')return!![];else return _0x29d01b[_0x481c7b(0x15e)][_0x481c7b(0x1e3)]()[_0x481c7b(0x1d7)](_0x2258ee[_0x481c7b(0x15e)][_0x481c7b(0x1e3)]());})[_0x2d8550(0xc1)](_0x2d8550(0x107)),_0x23397a=_0x3b71d5[_0x2d8550(0x1e1)]()['length'];_0x3b71d5=_0x3b71d5[_0x2d8550(0x1a4)]()[_0x2d8550(0xe9)]((_0x2258ee[_0x2d8550(0x1c8)]-0x1)*logPageSize,_0x2258ee['page']*logPageSize-0x1)[_0x2d8550(0x1a4)]()['value'](),proxyEmit(_0x2d8550(0xab),{'logs':_0x3b71d5,'total':_0x23397a});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x553f0f){const _0x2eb366=_0x46a69d;if(dbLogs[_0x2eb366(0x177)](_0x2eb366(0x1ad))[_0x2eb366(0x1e1)]()){const _0x85fef=dbLogs['get'](_0x2eb366(0x1ad))[_0x2eb366(0xc1)](_0x2eb366(0x107))['filter'](_0x6a351=>{const _0x399d37=_0x2eb366;return _0x6a351[_0x399d37(0x17c)]==_0x399d37(0xbe);})['value']();dbLogs[_0x2eb366(0xcd)](_0x2eb366(0x1ad))[_0x2eb366(0x158)]()['write'](),dbLogs[_0x2eb366(0xcd)]('logs')['assign'](_0x85fef)[_0x2eb366(0x1c3)](),emitHistory(_0x553f0f);}}async function pauseBot(_0x4469d8=''){const _0x4303f8=_0x46a69d,_0x3d342b=new Date()[_0x4303f8(0x19b)]();if(!lastErrorShown||_0x3d342b-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x3d342b;!lastBotPause?(lastBotPause=_0x3d342b,consecutivePauses=0x1):(_0x3d342b-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x4103e7=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x4303f8(0x19b)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x4469d8)_0x4469d8+=_0x4303f8(0x1be);logHistory(_0x4303f8(0xa4),_0x4469d8+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x4303f8(0x9b)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x19902a=_0x46a69d;process['send']({'stop':_0x19902a(0x11d)},_0x2618b9=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x53f8f0,_0xf821a2){const _0x18ed90=_0x46a69d;if(_0x53f8f0[_0x18ed90(0x12d)]()[_0x18ed90(0x1d7)](_0x18ed90(0x152)))return logHistory('error',config[_0x18ed90(0xd5)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x53f8f0[_0x18ed90(0x12d)]()['includes'](_0x18ed90(0x150)))return logHistory(_0x18ed90(0xa4),config['exchange']+_0x18ed90(0x1f0)),![];else{if(_0x53f8f0[_0x18ed90(0x12d)]()['includes'](_0x18ed90(0xbd)))return logHistory(_0x18ed90(0xa4),config[_0x18ed90(0xd5)]+_0x18ed90(0x16e)),logHistory(_0x18ed90(0xa4),_0x18ed90(0xa1)),![];else await handleError(_0x53f8f0,_0xf821a2);}}}async function handleError(_0xa6e5f6,_0x1d8293,_0x51505c=''){const _0x5871b1=_0x46a69d,_0xcee8b3=config[_0x5871b1(0xd5)]||_0x5871b1(0xd9);if(_0xa6e5f6['toString']()[_0x5871b1(0x1d7)]('DDoSProtection'))await pauseBot(config[_0x5871b1(0xd5)]+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0xa6e5f6['toString']()[_0x5871b1(0x1d7)](_0x5871b1(0x1d9)))await pauseBot(config[_0x5871b1(0xd5)]+_0x5871b1(0x110));else{if(_0xa6e5f6[_0x5871b1(0x12d)]()['includes'](_0x5871b1(0x98)))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0xa6e5f6[_0x5871b1(0x12d)]()[_0x5871b1(0x1d7)](_0x5871b1(0x125)))await pauseBot(config['exchange']+_0x5871b1(0x1f6));else{if(_0xa6e5f6[_0x5871b1(0x12d)]()[_0x5871b1(0x1d7)](_0x5871b1(0x131)))logHistory('error',_0x1d8293+_0x5871b1(0x10f)),logHistory(_0x5871b1(0xa4),_0x5871b1(0x80)),await killBot();else{if(_0xa6e5f6[_0x5871b1(0x12d)]()['includes'](_0x5871b1(0xd1)))logHistory('error',_0x1d8293+_0x5871b1(0x183)),logHistory(_0x5871b1(0xa4),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xa6e5f6[_0x5871b1(0x12d)]()[_0x5871b1(0x1d7)](_0x5871b1(0x152)))logHistory(_0x5871b1(0xa4),_0x1d8293+_0x5871b1(0x1be)+config[_0x5871b1(0xd5)]+_0x5871b1(0xb5)),logHistory(_0x5871b1(0xa4),_0x5871b1(0x80)),await killBot();else{if(_0xa6e5f6['toString']()[_0x5871b1(0x1d7)](_0x5871b1(0x150)))logHistory('error',_0x1d8293+_0x5871b1(0x1be)+config[_0x5871b1(0xd5)]+_0x5871b1(0x83)),logHistory('error',_0x5871b1(0x80)),await killBot();else{if(_0xa6e5f6[_0x5871b1(0x12d)]()['includes'](_0x5871b1(0xbd)))logHistory(_0x5871b1(0xa4),_0x1d8293+'\x20|\x20'+config[_0x5871b1(0xd5)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x5871b1(0xa4),_0x5871b1(0x80)),await killBot();else _0xa6e5f6[_0x5871b1(0x12d)]()[_0x5871b1(0x1d7)](_0x5871b1(0x1c7))?logHistory(_0x5871b1(0xa4),_0x1d8293+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x51505c):(logger[_0x5871b1(0xbf)](_0x1d8293+_0x5871b1(0xc4),_0xa6e5f6),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}}function _0x2dcd(){const _0x20790c=['<b>Bot\x20','cancelLoading','Exchange','watchTrades',',\x20must\x20be\x20a\x203\x20digit\x20number','simple','\x20hour','search','usd','isEqual','split','./version.json','constructor','existsSync','getMinutes','Net\x20','\x20order:\x20','bb-settings.json','slice','argv','recreate','<pre>','secure','parse','target','botname','Transaction\x20detection\x20unblocked','join','freeze','performance','replace','\x20-\x20bot\x20not\x20started','ORDERS.UNLOCKED','breakeven','excluded','-------------------------------\x0a','symbols','Executing\x20exchange\x20reload','coins','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','getPortfolio(2)','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','coin','warning','price','yyyy-MM-dd\x27T\x27HH:mm:ss','max','1\x20-\x20Unlock\x20orders','time','open','defaults','Order\x20filled:\x20','customId','sort','closed','data','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','\x20not\x20available','ORDERS.UNLOCKING','botID','\x20has\x20a\x2024h\x20drop\x20of\x20','Invalid\x20API\x20key\x20or\x20secret\x20entered','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','ORDERS.LOCKED','%\x20(','\x20portfolio:</b>\x20\x0a\x0a','limits','Executed\x20','(((.+)+)+)+$','\x20orders\x20in\x20less\x20than\x20','kill','round','amount','portfolio','balancing\x20resumes\x20when\x20cooldown\x20ends','currency','limit-high','fetchTicker','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','Error:\x20Invalid\x20argument\x20','createOrder','-events.json','initclient','Fees\x20|\x20currency:\x20','toUpperCase','keys','toString','pro','eur','liquidity','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','Saving\x20configuration','configuration','storeFiat','recreateCoinResults()','buys','getDate','padStart','running','001','2.5.0','ticker','./config/','BNB/','************','ETH','2\x20-\x20Validate\x20orders:\x20','threshold','distribution','test','none','findIndex','average','emojisell','orderstatus','percentage','USDT','\x20change','cooldown','offset','BUSD','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','yargs/yargs','API-key\x20format\x20invalid','2\x20-\x20FILLED\x20known\x20order:\x20','trade','path','bot','timestamp','remove','sells','remainingSymbols','date','apiSecret','2\x20-\x20FILLED\x20unknown\x20order:\x20','event','args','market',':\x20Bot\x20','fee','525085pLehcV','placeOrder','getPortfolio','symbol','fiat','watchOrders','limit-low','\x20>\x20','createWriteStream','bot-','basecoin','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','buy','yyyy/MM/dd','limit','Failed\x20to\x20load\x20coin\x20data\x20for\x20','237328bJvEgR','removed','\x20|\x20highest:\x20','***','has','loadMarkets','milliseconds','getCoins()','emitHistory','type','getPortfolio(1)','BTC','openOrders','fetchBalance','Net\x20effect','restart','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','canceled','leftTxt','2.3.5','min','UNLOCKING','decrypt','Fee\x20discount\x20refund\x20detected:\x20','settings','/USD','NANO/','Market','number','net-basecoin','substring','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','0\x20-\x20EXECUTION:\x20','differenceInSeconds','9oADgON','RSA-OAEP','exchanges','207177OibUOn','net-fiat','recent20','getTime','<b>','Cooldown\x20ended\x20-\x20balancing\x20resumed','getCoinNumber()','writeFile','cancelOrders()','Transaction\x20detection\x20blocked','getHours','success','reverse','DAI/','headless','2.6.0','getMonth','getSeconds','set','./logs/','/backup/','logs','enabled','XEM/BUSD','format','loadSymbols()','indexOf','change24h','Bot\x20','/output-000.log','configuration-stored','abs','loading-canceled','\x20metrics:</b>\x20\x0a\x0a','exchange\x20not\x20reloaded','exchange\x20reloaded','message','onepagemode','\x20|\x20','last','length','bid','rightTxt','write','entries','apply','cost','InsufficientFunds','page','ask','watchTransactions','-results.json','\x20>\x20[DEBUG]\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','getStartingBalances','filled','initial','showname','935670wQBMon','347381rRhAdw','final','sendPortfolioTelegram','fetchOpenOrders','includes','no\x20open\x20orders','ExchangeNotAvailable','additional\x20symbols\x20','Crypt','ongoing','\x20|\x20lock\x20orders:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','96817HojDmH','assign','value','map','toLowerCase','Order(s)\x20not\x20validated\x20after\x20','USD','random','unlinkSync','deleteHistoryAlerts','version','balances','showConfig','timeshift','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','getPortfolio(0)','starting-balance-','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','timeout','forEach','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','stringify','debug','\x20closed\x20the\x20connection','Limit\x20(high-margin)','Pausing\x20for\x20','\x20exchange','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','EUR','1\x20-\x20Handle\x20open\x20orders','\x20API\x20secret\x20is\x20invalid','change','fromCodePoint','datetime','log','2\x20-\x20Orders\x20unlocked','sell','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','total','starting-balances','cancel','ordertype','Reset\x20|\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Manual\x20balancing\x20required','OrderNotFound','precision','close','apiKey','No\x20more\x20open\x20orders\x20-\x20','RequestTimeout','timer:','resetHistory','\x20minutes','coin-loading-progress','168hlGdaK','\x20value','\x20minutes\x20-\x20','exec','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','7194830zDOHkI','getFullYear','error','highest','clientOrderId','function','UNLOCKED','bots','lowdb','event-history','</pre>','shift','BNB','find','cancelOrder','netoffset','30cSvpst','send','changes','\x20API\x20key\x20is\x20invalid','push','filter','\x20:\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','add','delta','realized','AuthenticationError','order','full','added','sortBy','startdate','side','\x20|\x20Error\x20details:\x20','privateKey','1\x20-\x20FILLED:\x20','orderId','-performance.json','startprice','cloneDeep','Limit\x20(low-margin)','fetchTickers','get','progress','valid','toFixed','InvalidNonce','LOCKED','emojibuy','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','exchange','3\x20-\x20handling\x20FILLED\x20order:\x20'];_0x2dcd=function(){return _0x20790c;};return _0x2dcd();}function formatResult(_0x2d4049,_0x96e10b){const _0x32872a=_0x46a69d;return parseFloat(_0x2d4049[_0x32872a(0xd0)](_0x96e10b));}function formatResultTruncate(_0x23e789,_0x1c494f){const _0x318c2b=_0x46a69d;let _0x5e335b=formatResultString(_0x23e789,0xa),_0x582408=_0x5e335b[_0x318c2b(0x1b2)]('.');return _0x582408!=-0x1&&(_0x5e335b=_0x5e335b[_0x318c2b(0xe9)](0x0,_0x582408+_0x1c494f+0x1)),Number(_0x5e335b);}function formatResultString(_0x130c59,_0x22468b){const _0x332796=_0x46a69d;let _0x4e22e;if(!(''+_0x130c59)[_0x332796(0x1d7)]('e'))_0x4e22e=+(Math[_0x332796(0x11e)](_0x130c59+'e+'+_0x22468b)+'e-'+_0x22468b);else{let _0x4ac77e=(''+_0x130c59)[_0x332796(0xe1)]('e'),_0x29f2a9='';+_0x4ac77e[0x1]+_0x22468b>0x0&&(_0x29f2a9='+'),_0x4e22e=+(Math[_0x332796(0x11e)](+_0x4ac77e[0x0]+'e'+_0x29f2a9+(+_0x4ac77e[0x1]+_0x22468b))+'e-'+_0x22468b);}return Number(_0x4e22e)[_0x332796(0xd0)](_0x22468b);}function getServerTime(){const _0x1d26ef=_0x46a69d,_0xf373f1=new Date();return _0xf373f1[_0x1d26ef(0xa3)]()+'/'+(_0xf373f1['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0xf373f1[_0x1d26ef(0x137)]()[_0x1d26ef(0x12d)]()[_0x1d26ef(0x138)](0x2,'0')+'\x20'+_0xf373f1[_0x1d26ef(0x1a2)]()['toString']()['padStart'](0x2,'0')+':'+_0xf373f1[_0x1d26ef(0xe5)]()['toString']()[_0x1d26ef(0x138)](0x2,'0')+':'+_0xf373f1[_0x1d26ef(0x1a9)]()['toString']()[_0x1d26ef(0x138)](0x2,'0');}function getTimeStamp(){const _0x2a1d80=_0x46a69d,_0x1d0200=shiftedTime();return _0x1d0200[_0x2a1d80(0xa3)]()+'/'+(_0x1d0200[_0x2a1d80(0x1a8)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x1d0200[_0x2a1d80(0x137)]()[_0x2a1d80(0x12d)]()[_0x2a1d80(0x138)](0x2,'0')+'\x20'+_0x1d0200['getHours']()[_0x2a1d80(0x12d)]()[_0x2a1d80(0x138)](0x2,'0')+':'+_0x1d0200[_0x2a1d80(0xe5)]()[_0x2a1d80(0x12d)]()['padStart'](0x2,'0')+':'+_0x1d0200[_0x2a1d80(0x1a9)]()[_0x2a1d80(0x12d)]()[_0x2a1d80(0x138)](0x2,'0');}function getDate(){const _0x1da005=_0x46a69d,_0x54f8e1=shiftedTime();return _0x54f8e1[_0x1da005(0xa3)]()+'/'+(_0x54f8e1[_0x1da005(0x1a8)]()+0x1)[_0x1da005(0x12d)]()[_0x1da005(0x138)](0x2,'0')+'/'+_0x54f8e1[_0x1da005(0x137)]()[_0x1da005(0x12d)]()['padStart'](0x2,'0');}function getHour(){const _0x28c2c8=shiftedTime();return _0x28c2c8['getHours']()['toString']()['padStart'](0x2,'0');}function sleep(_0x257b54){return new Promise(_0x24fb7d=>setTimeout(_0x24fb7d,_0x257b54));}function shiftedTime(){const _0x380be5=_0x46a69d,_0x4e8d68=new Date();let _0x5548bd=_0x4e8d68;if(config&&config[_0x380be5(0x1ec)]!==0x0)_0x5548bd=fns[_0x380be5(0xba)](_0x4e8d68,{'hours':config[_0x380be5(0x1ec)]});return _0x5548bd;}function timer(_0xdd128c){const _0x2ca41b=_0x46a69d,_0x26716c=new Date();!lasttime?console[_0x2ca41b(0x87)](_0x2ca41b(0x99),_0xdd128c,_0x26716c):console[_0x2ca41b(0x87)](_0x2ca41b(0x99),_0xdd128c,(_0x26716c-lasttime)/0x3e8),lasttime=_0x26716c;}