const _0xb83bd3=_0x1862;(function(_0x12667f,_0x58ec9e){const _0xe6d34f=_0x1862,_0x3329bb=_0x12667f();while(!![]){try{const _0x38801d=-parseInt(_0xe6d34f(0x23e))/0x1*(-parseInt(_0xe6d34f(0x1ee))/0x2)+-parseInt(_0xe6d34f(0x1d5))/0x3+-parseInt(_0xe6d34f(0x1e0))/0x4+-parseInt(_0xe6d34f(0x202))/0x5+parseInt(_0xe6d34f(0x18f))/0x6*(parseInt(_0xe6d34f(0x1d7))/0x7)+parseInt(_0xe6d34f(0x244))/0x8+parseInt(_0xe6d34f(0x1c7))/0x9*(parseInt(_0xe6d34f(0x235))/0xa);if(_0x38801d===_0x58ec9e)break;else _0x3329bb['push'](_0x3329bb['shift']());}catch(_0x5afeb8){_0x3329bb['push'](_0x3329bb['shift']());}}}(_0x76bd,0x5ed3d));const _0x58186e=function(){let _0x4ab26a=!![];return function(_0x25cf9d,_0x57206a){const _0x3a21dd=_0x4ab26a?function(){const _0x38d2e1=_0x1862;if(_0x57206a){const _0x10556b=_0x57206a[_0x38d2e1(0x1b4)](_0x25cf9d,arguments);return _0x57206a=null,_0x10556b;}}:function(){};return _0x4ab26a=![],_0x3a21dd;};}(),_0x4e5e2e=_0x58186e(this,function(){const _0x913550=_0x1862;return _0x4e5e2e[_0x913550(0x19d)]()['search'](_0x913550(0x16d))[_0x913550(0x19d)]()['constructor'](_0x4e5e2e)[_0x913550(0x1fc)](_0x913550(0x16d));});_0x4e5e2e();'use strict';const ccxt=require('ccxt'),low=require(_0xb83bd3(0x1e5)),FileSync=require(_0xb83bd3(0x15a)),fs=require('fs'),fns=require(_0xb83bd3(0x193)),{WebsocketClient,DefaultLogger}=require('binance'),Crypt=require(_0xb83bd3(0x1ea))[_0xb83bd3(0x208)];let exchange,wsClient;global['ticker']={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0xb83bd3(0x221))[_0xb83bd3(0x1ac)],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern['test'](botID))return console[_0xb83bd3(0x19b)](_0xb83bd3(0x20d)+botID+_0xb83bd3(0x18b)),process[_0xb83bd3(0x227)](0x1);const userID=process[_0xb83bd3(0x13b)][0x3]||'',configpath=userID?_0xb83bd3(0x1bb)+userID+'/':_0xb83bd3(0x1bb);!fs[_0xb83bd3(0x1f2)](configpath)&&fs[_0xb83bd3(0x1f6)](configpath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+_0xb83bd3(0x186)+botID+_0xb83bd3(0x1b0),performancefile=configpath+_0xb83bd3(0x186)+botID+'-performance.json',coinresultsfile=configpath+_0xb83bd3(0x186)+botID+_0xb83bd3(0x17b),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0xb83bd3(0x243),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xb83bd3(0x222)]({'logs':[]})[_0xb83bd3(0x164)]();function _0x1862(_0x4aa786,_0x3ad2d7){const _0xd3dc15=_0x76bd();return _0x1862=function(_0x4e5e2e,_0x58186e){_0x4e5e2e=_0x4e5e2e-0x139;let _0x76bdc3=_0xd3dc15[_0x4e5e2e];return _0x76bdc3;},_0x1862(_0x4aa786,_0x3ad2d7);}const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0xb83bd3(0x164)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xb83bd3(0x222)]({'bot':[]})[_0xb83bd3(0x164)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0xb83bd3(0x1c2),'symbol':_0xb83bd3(0x230)},'usd':{'coin':_0xb83bd3(0x216),'symbol':_0xb83bd3(0x20f)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x4ae48f)=>{},'debug':(..._0x3b6db0)=>{},'notice':(..._0x3ee53)=>{},'info':(..._0x356fc5)=>{},'warning':(..._0x47ca8d)=>{},'error':async function(..._0x307804){const _0x80188b=_0xb83bd3,_0x7534a3=new Date()['getTime']();if(!lastErrorShown||_0x7534a3-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime'](),logHistory(_0x80188b(0x165),_0x80188b(0x1e6)+consecutivePauses+_0x80188b(0x170));let _0x4557aa='';if(_0x307804[0x0])_0x4557aa+=_0x307804[0x0];if(_0x307804[0x1]&&_0x307804[0x1][_0x80188b(0x165)]&&_0x307804[0x1][_0x80188b(0x165)][_0x80188b(0x1b7)])_0x4557aa+=_0x80188b(0x206)+_0x307804[0x1][_0x80188b(0x165)][_0x80188b(0x1b7)];logging('WebSockets('+consecutivePauses+_0x80188b(0x188),''+_0x4557aa),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0xb83bd3(0x17a),'rsaStandard':_0xb83bd3(0x1a8)});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings[_0xb83bd3(0x19a)]!=config[_0xb83bd3(0x19a)]&&updateTimeshift(settings[_0xb83bd3(0x19a)]);process[_0xb83bd3(0x183)]({'started':'running'}),initializeProcessListeners();function proxyEmit(_0x4ca655,_0x2cb670=null){const _0x5c19f8=_0xb83bd3;process[_0x5c19f8(0x183)]({'function':_0x4ca655,'args':_0x2cb670});}function initializeProcessListeners(){const _0x4101c8=_0xb83bd3;process['on'](_0x4101c8(0x1b7),_0x9df6ed=>{const _0x37a7b1=_0x4101c8;switch(Object[_0x37a7b1(0x180)](_0x9df6ed)[0x0]){case _0x37a7b1(0x19a):_0x9df6ed['timeshift']!=undefined&&(settings[_0x37a7b1(0x19a)]=_0x9df6ed['timeshift'],updateTimeshift(settings[_0x37a7b1(0x19a)]));break;case _0x37a7b1(0x1e7):switch(_0x9df6ed['function']){case _0x37a7b1(0x24f):initclient();break;case _0x37a7b1(0x159):emitHistory(_0x9df6ed[_0x37a7b1(0x21d)]);break;case _0x37a7b1(0x22a):getPortfolio(_0x9df6ed['args']);break;case _0x37a7b1(0x162):storeConfiguration(_0x9df6ed[_0x37a7b1(0x21d)]);break;case'storeHeadless':storeHeadless(_0x9df6ed[_0x37a7b1(0x21d)]);break;case _0x37a7b1(0x247):getStartingBalances();break;case _0x37a7b1(0x217):placeOrder(_0x9df6ed[_0x37a7b1(0x21d)]);break;case _0x37a7b1(0x1b9):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x50307f=_0xb83bd3;if(pidBalances)clearTimeout(pidBalances);if(config[_0x50307f(0x215)]!=''){await initExchange(config[_0x50307f(0x215)],config[_0x50307f(0x204)]);let _0x208047=await loadSymbols();_0x208047&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x2f4271,_0x197551){const _0x26f520=_0xb83bd3,_0x9b8acb=ccxt[config[_0x26f520(0x1e8)]];let _0x21689a;switch(config[_0x26f520(0x1e8)]){case _0x26f520(0x187):_0x21689a=_0x26f520(0x1cf);break;case _0x26f520(0x16a):_0x21689a=_0x26f520(0x1fa);break;default:_0x21689a=_0x26f520(0x1cf);}exchange=new _0x9b8acb({'apiKey':_0x2f4271,'secret':_0x197551,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x2f4271,'api_secret':_0x197551,'beautify':!![],'wsUrl':_0x21689a},logger),config[_0x26f520(0x1e8)]==_0x26f520(0x16a)&&(stablecoins={'eur':{'coin':_0x26f520(0x1f4),'symbol':_0x26f520(0x1b2)},'usd':{'coin':'BTCUSDT','symbol':_0x26f520(0x20f)}});}async function loadSymbols(){const _0x44742f=_0xb83bd3;let _0x4add8d;try{markets=await exchange[_0x44742f(0x226)]();const _0x17540a=[_0x44742f(0x1b8),'HOT/BTC',_0x44742f(0x14c)];allSymbols=exchange[_0x44742f(0x1fd)][_0x44742f(0x196)](_0x5f0932=>{const _0x1a29bd=_0x44742f;let _0xeb53a9=![];return _0x17540a[_0x1a29bd(0x18d)](_0x141480=>{const _0x2188db=_0x1a29bd;if(_0x5f0932[_0x2188db(0x231)](_0x141480))_0xeb53a9=!![];}),!_0xeb53a9;}),_0x4add8d=!![];}catch(_0x3aac81){await handleError(_0x3aac81,_0x44742f(0x1cd)),_0x4add8d=![];}return _0x4add8d;}async function initbot(){const _0x9d12b0=_0xb83bd3;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x4494c3=dbCoinResults[_0x9d12b0(0x153)](_0x9d12b0(0x24c))[_0x9d12b0(0x24b)]();if(_0x4494c3['length']==0x0)await resetCoinResults();}async function initclient(){const _0x408457=_0xb83bd3;proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x408457(0x184),{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x1c622e=_0xb83bd3;wsinitialized=![];ws1&&(ws1['forEach'](_0x59160b=>{try{wsClient['closeWs'](_0x59160b);}catch(_0x42f483){}}),ws1=[]);if(ws2){try{wsClient[_0x1c622e(0x17c)](ws2);}catch(_0x32d181){}ws2=null;}}async function initws(){const _0x3b5da2=_0xb83bd3;cleanws();let _0x3f01b2=[];currentCoins[_0x3b5da2(0x18d)](_0x341fa3=>{const _0x498bf9=_0x3b5da2;if(_0x341fa3['coin']!=config[_0x498bf9(0x213)])_0x3f01b2[_0x498bf9(0x251)](noslash(_0x341fa3[_0x498bf9(0x1c0)]));});if(!_0x3f01b2['includes'](stablecoins[_0x3b5da2(0x24e)][_0x3b5da2(0x1f0)]))_0x3f01b2['push'](stablecoins[_0x3b5da2(0x24e)][_0x3b5da2(0x1f0)]);if(!_0x3f01b2[_0x3b5da2(0x231)](stablecoins[_0x3b5da2(0x160)]['coin']))_0x3f01b2[_0x3b5da2(0x251)](stablecoins[_0x3b5da2(0x160)][_0x3b5da2(0x1f0)]);if(!_0x3f01b2[_0x3b5da2(0x231)](_0x3b5da2(0x237)+config['basecoin']))_0x3f01b2[_0x3b5da2(0x251)](_0x3b5da2(0x237)+config[_0x3b5da2(0x213)]);try{_0x3f01b2['forEach']((_0x16a987,_0x229b55)=>{ws1[_0x229b55]=wsClient['subscribeSpotKline'](_0x16a987,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on']('formattedMessage',_0x172cc6=>{const _0x4bfe5f=_0x3b5da2;if(!Array[_0x4bfe5f(0x1f8)](_0x172cc6)&&!_0x172cc6[_0x4bfe5f(0x185)][_0x4bfe5f(0x231)]('userData')){if(_0x172cc6['eventType']==='kline'){global['ticker'][_0x172cc6[_0x4bfe5f(0x1de)]['symbol']]=_0x172cc6[_0x4bfe5f(0x1de)][_0x4bfe5f(0x198)];return;}}else{if(!Array[_0x4bfe5f(0x1f8)](_0x172cc6)&&_0x172cc6[_0x4bfe5f(0x185)][_0x4bfe5f(0x231)](_0x4bfe5f(0x1e4))){if(_0x172cc6[_0x4bfe5f(0x15d)]['includes'](_0x4bfe5f(0x234))){updateNumberCoins(_0x172cc6);return;}}}}),wsClient['on'](_0x3b5da2(0x173),async _0x3b0cd4=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x468ea0){await handleError(_0x468ea0,_0x3b5da2(0x166));}let _0x208f47,_0x3a50cb=0x0;loading[_0x3b5da2(0x1e9)]=[];let _0xa6ded3=0x0;currentCoins[_0x3b5da2(0x18d)](_0xd5496a=>{const _0x3cb91b=_0x3b5da2;if(_0xd5496a[_0x3cb91b(0x1f0)]!=config['basecoin'])loading[_0x3cb91b(0x1e9)][_0x3cb91b(0x251)](_0xd5496a[_0x3cb91b(0x1c0)]);}),loadingCanceled=![];while(_0x208f47!=currentCoins['length']-0x1){_0x208f47=0x0,currentCoins[_0x3b5da2(0x18d)](_0x49c1f0=>{const _0x4cfc61=_0x3b5da2;_0x49c1f0[_0x4cfc61(0x1f0)]!=config[_0x4cfc61(0x213)]&&global['ticker'][noslash(_0x49c1f0[_0x4cfc61(0x1c0)])]&&(loading[_0x4cfc61(0x1e9)]=loading[_0x4cfc61(0x1e9)][_0x4cfc61(0x196)](_0x4af943=>_0x4af943!=_0x49c1f0['symbol']),_0x208f47++);}),loading[_0x3b5da2(0x24a)]=Math[_0x3b5da2(0x13c)](_0x208f47/(currentCoins[_0x3b5da2(0x14b)]-0x1)*0x64);_0xa6ded3>0x1e*0x5&&(loading[_0x3b5da2(0x178)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x3b5da2(0x167)]=!![],emitLoadingProgress();break;}else _0x208f47!=_0x3a50cb&&(_0x3a50cb=_0x208f47,emitLoadingProgress()),_0xa6ded3++,await sleep(0xc8);}if(_0x208f47==currentCoins[_0x3b5da2(0x14b)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x492a82=_0xb83bd3;proxyEmit(_0x492a82(0x22e),loading);}async function getFiat(){const _0x3f007d=_0xb83bd3;let _0x263b76=0x0,_0x9c7ed4=0x0;try{_0x263b76=global[_0x3f007d(0x190)][stablecoins[_0x3f007d(0x24e)][_0x3f007d(0x1f0)]],_0x9c7ed4=global['ticker'][stablecoins[_0x3f007d(0x160)][_0x3f007d(0x1f0)]];}catch(_0x112c8e){await handleError(_0x112c8e,'getFiat()');}return{'eur':Number(_0x263b76),'usd':Number(_0x9c7ed4)};}async function setStartDatePerformance(_0x58234d){const _0xd795a4=_0xb83bd3,_0x21bd2c=fns[_0xd795a4(0x14f)](new Date(_0x58234d[_0xd795a4(0x1da)]),'yyyy/MM/dd');let _0x190176=[];_0x190176[stablecoins[_0xd795a4(0x24e)][_0xd795a4(0x1f0)]]=await getCloses(stablecoins[_0xd795a4(0x24e)]['symbol'],new Date(_0x58234d['startdate']),0x1),_0x190176[stablecoins['usd']['coin']]=await getCloses(stablecoins['usd'][_0xd795a4(0x1c0)],new Date(_0x58234d[_0xd795a4(0x1da)]),0x1);let _0x2bf0a8,_0x5c0e65=[];_0x58234d[_0xd795a4(0x139)][_0xd795a4(0x18d)](_0xc0e531=>{const _0x1ae13c=_0xd795a4;!_0xc0e531['excluded']&&_0x5c0e65[_0x1ae13c(0x251)]({'coin':_0xc0e531['coin'],'number':_0xc0e531[_0x1ae13c(0x21b)],'price':_0xc0e531['startprice']});}),_0x2bf0a8={'date':_0x21bd2c,'eur':_0x190176[stablecoins[_0xd795a4(0x24e)][_0xd795a4(0x1f0)]][0x0],'usd':_0x190176[stablecoins[_0xd795a4(0x160)][_0xd795a4(0x1f0)]][0x0],'coins':_0x5c0e65};let _0x962f08=dbPerformance[_0xd795a4(0x153)](_0xd795a4(0x24d))[_0xd795a4(0x233)]({'date':_0x21bd2c})[_0xd795a4(0x24b)]();_0x962f08?dbPerformance['get'](_0xd795a4(0x24d))[_0xd795a4(0x233)]({'date':_0x21bd2c})[_0xd795a4(0x1ed)](_0x2bf0a8)[_0xd795a4(0x164)]():dbPerformance[_0xd795a4(0x153)](_0xd795a4(0x24d))[_0xd795a4(0x251)](_0x2bf0a8)[_0xd795a4(0x164)](),_0x962f08=dbPerformance[_0xd795a4(0x153)]('data')[_0xd795a4(0x207)](_0xd795a4(0x154))[_0xd795a4(0x24b)](),_0x962f08['forEach'](_0x519072=>{const _0x3f39d0=_0xd795a4;_0x519072[_0x3f39d0(0x154)]<_0x21bd2c&&dbPerformance[_0x3f39d0(0x153)](_0x3f39d0(0x24d))['remove']({'date':_0x519072[_0x3f39d0(0x154)]})[_0x3f39d0(0x164)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x3b0401){const _0x12906a=_0xb83bd3;let _0x588e14,_0x4e272b=[];logHistory('success',_0x12906a(0x21c)),_0x3b0401[_0x12906a(0x139)][_0x12906a(0x18d)](_0x2a6423=>{const _0x1e0ea9=_0x12906a;if(_0x2a6423[_0x1e0ea9(0x1f0)]!=config[_0x1e0ea9(0x213)]&&!_0x2a6423['excluded'])_0x4e272b[_0x1e0ea9(0x251)]({'coin':_0x2a6423['coin'],'symbol':_0x2a6423[_0x1e0ea9(0x1c0)]});});let _0x147776=[];try{const _0x9237be=fns[_0x12906a(0x14f)](fns[_0x12906a(0x1a6)](_0x3b0401[_0x12906a(0x1da)]['replace'](/\//g,'-')),_0x12906a(0x1d9));for(const _0x4ffd0c of _0x4e272b){if(_0x4ffd0c[_0x12906a(0x1f0)]!=config['basecoin'])_0x588e14=await exchange[_0x12906a(0x1c3)](_0x4ffd0c[_0x12906a(0x1c0)],Date['parse'](_0x9237be));_0x588e14['forEach'](_0x1fa121=>{const _0xf33cd2=_0x12906a,_0xb0af5f=_0x4ffd0c[_0xf33cd2(0x1c0)][_0xf33cd2(0x231)](config[_0xf33cd2(0x213)]+'/'),_0x4d4bd0=fns[_0xf33cd2(0x14f)](fns[_0xf33cd2(0x1a6)](_0x1fa121[_0xf33cd2(0x15f)]),'yyyy/MM/dd\x20HH:mm:ss'),_0x12942d=fns[_0xf33cd2(0x14f)](fns['parseISO'](_0x1fa121[_0xf33cd2(0x15f)]),_0xf33cd2(0x1dd));let _0x2bdce8;if(_0x1fa121['side']==_0xf33cd2(0x151)&&_0xb0af5f==![])_0x2bdce8=_0x1fa121[_0xf33cd2(0x23a)];if(_0x1fa121[_0xf33cd2(0x1a3)]==_0xf33cd2(0x151)&&_0xb0af5f==!![])_0x2bdce8=-_0x1fa121[_0xf33cd2(0x23a)]*_0x1fa121[_0xf33cd2(0x145)];if(_0x1fa121[_0xf33cd2(0x1a3)]==_0xf33cd2(0x15e)&&_0xb0af5f==![])_0x2bdce8=-_0x1fa121[_0xf33cd2(0x23a)];if(_0x1fa121[_0xf33cd2(0x1a3)]==_0xf33cd2(0x15e)&&_0xb0af5f==!![])_0x2bdce8=_0x1fa121['amount']*_0x1fa121[_0xf33cd2(0x145)];_0x147776[_0xf33cd2(0x251)]({'timestamp':_0x4d4bd0,'date':_0x12942d,'coin':_0x4ffd0c[_0xf33cd2(0x1f0)],'symbol':_0x4ffd0c[_0xf33cd2(0x1c0)],'type':_0x1fa121[_0xf33cd2(0x1df)],'side':_0x1fa121['side'],'reverse':_0xb0af5f,'amount':formatResult(_0x1fa121[_0xf33cd2(0x210)],0x8),'filled':formatResult(_0x1fa121[_0xf33cd2(0x210)],0x8),'coinamount':formatResult(_0x2bdce8,0x8),'price':formatResult(_0x1fa121[_0xf33cd2(0x145)],0x8)});let _0x3ab4d0;if(_0x1fa121[_0xf33cd2(0x1a3)]==_0xf33cd2(0x151)&&_0xb0af5f==![])_0x3ab4d0=-_0x1fa121[_0xf33cd2(0x23a)]*_0x1fa121[_0xf33cd2(0x145)];if(_0x1fa121[_0xf33cd2(0x1a3)]==_0xf33cd2(0x151)&&_0xb0af5f==!![])_0x3ab4d0=_0x1fa121[_0xf33cd2(0x23a)];if(_0x1fa121[_0xf33cd2(0x1a3)]=='sell'&&_0xb0af5f==![])_0x3ab4d0=_0x1fa121[_0xf33cd2(0x23a)]*_0x1fa121[_0xf33cd2(0x145)];if(_0x1fa121[_0xf33cd2(0x1a3)]==_0xf33cd2(0x15e)&&_0xb0af5f==!![])_0x3ab4d0=-_0x1fa121['amount'];_0x147776[_0xf33cd2(0x251)]({'date':_0x12942d,'coin':config[_0xf33cd2(0x213)],'coinamount':formatResult(_0x3ab4d0,0x8)});});}_0x147776[_0x12906a(0x18a)]((_0x2952a4,_0x515c1d)=>_0x2952a4['timestamp']>_0x515c1d[_0x12906a(0x18e)]?0x1:_0x515c1d['timestamp']>_0x2952a4['timestamp']?-0x1:0x0),dbLogs[_0x12906a(0x153)](_0x12906a(0x205))[_0x12906a(0x176)]()[_0x12906a(0x164)](),_0x147776[_0x12906a(0x18d)](_0x89a078=>{const _0x575f62=_0x12906a;let _0x1bc564;_0x89a078[_0x575f62(0x1f0)]!=config[_0x575f62(0x213)]&&(_0x1bc564={'time':_0x89a078[_0x575f62(0x18e)],'type':_0x575f62(0x228),'event':_0x575f62(0x148)+_0x89a078[_0x575f62(0x1c0)]+'\x20'+_0x89a078[_0x575f62(0x1a3)]+'\x20#'+_0x89a078[_0x575f62(0x23a)]+'\x20@'+_0x89a078[_0x575f62(0x145)]},dbLogs[_0x575f62(0x153)](_0x575f62(0x205))[_0x575f62(0x251)](_0x1bc564)['write']());});const _0xfa6fd1=fns['eachDayOfInterval']({'start':new Date(_0x3b0401[_0x12906a(0x1da)]),'end':new Date()})['map'](_0x8f66c2=>fns['format'](_0x8f66c2,_0x12906a(0x1dd)));let _0x1c773f=[];_0x3b0401['portfolio'][_0x12906a(0x18d)](_0x1bd739=>{const _0x59a6e2=_0x12906a;if(!_0x1bd739['excluded']){_0x1c773f[_0x1bd739[_0x59a6e2(0x1f0)]]=[];let _0x34c9bb=_0x1bd739[_0x59a6e2(0x21b)];_0xfa6fd1[_0x59a6e2(0x18d)]((_0x4037da,_0x538281)=>{const _0x14de8c=_0x59a6e2;let _0x27fbb1=_0x147776[_0x14de8c(0x196)](_0x217b6f=>_0x217b6f[_0x14de8c(0x1f0)]==_0x1bd739['coin']&&_0x217b6f[_0x14de8c(0x154)]==_0x4037da);if(_0x27fbb1[_0x14de8c(0x14b)]!=0x0){let _0x182f61=_0x27fbb1[_0x14de8c(0x19e)]((_0x22041d,_0x42acb9)=>{const _0x291573=_0x14de8c;return _0x22041d+=_0x42acb9[_0x291573(0x17e)],_0x22041d;},0x0);_0x34c9bb+=_0x182f61;}_0x1c773f[_0x1bd739[_0x14de8c(0x1f0)]][_0x4037da]=_0x34c9bb;});}});const _0x2134cb=[..._0x4e272b];_0x2134cb['push']({'coin':stablecoins['eur'][_0x12906a(0x1f0)],'symbol':stablecoins[_0x12906a(0x24e)]['symbol']}),_0x2134cb[_0x12906a(0x251)]({'coin':stablecoins[_0x12906a(0x160)][_0x12906a(0x1f0)],'symbol':stablecoins[_0x12906a(0x160)][_0x12906a(0x1c0)]});let _0x229ba3=[];for(const _0x1fa298 of _0x2134cb){_0x229ba3[_0x1fa298[_0x12906a(0x1f0)]]=await getCloses(_0x1fa298[_0x12906a(0x1c0)],new Date(_0x3b0401[_0x12906a(0x1da)]));}dbPerformance[_0x12906a(0x153)](_0x12906a(0x24d))['remove']()[_0x12906a(0x164)](),_0xfa6fd1[_0x12906a(0x18d)]((_0xff2b67,_0x1acf2f)=>{const _0x79733b=_0x12906a;let _0x56806c,_0x56cb92=[];_0x1acf2f==0x0?(_0x3b0401[_0x79733b(0x139)]['forEach'](_0x1eac9c=>{const _0xe9ca2=_0x79733b;!_0x1eac9c[_0xe9ca2(0x142)]&&_0x56cb92['push']({'coin':_0x1eac9c[_0xe9ca2(0x1f0)],'number':_0x1eac9c[_0xe9ca2(0x21b)],'price':_0x1eac9c[_0xe9ca2(0x1cc)]});}),_0x56806c={'date':_0xff2b67,'eur':_0x229ba3[stablecoins[_0x79733b(0x24e)]['coin']][_0x1acf2f],'usd':_0x229ba3[stablecoins[_0x79733b(0x160)]['coin']][_0x1acf2f],'coins':_0x56cb92}):(_0x3b0401[_0x79733b(0x139)][_0x79733b(0x18d)](_0x89c402=>{const _0x25c66a=_0x79733b;!_0x89c402[_0x25c66a(0x142)]&&_0x56cb92[_0x25c66a(0x251)]({'coin':_0x89c402[_0x25c66a(0x1f0)],'number':_0x1c773f[_0x89c402[_0x25c66a(0x1f0)]][_0xff2b67],'price':_0x89c402[_0x25c66a(0x1f0)]==config[_0x25c66a(0x213)]?0x1:_0x229ba3[_0x89c402['coin']][_0x1acf2f]});}),_0x56806c={'date':_0xff2b67,'eur':_0x229ba3[stablecoins[_0x79733b(0x24e)]['coin']][_0x1acf2f],'usd':_0x229ba3[stablecoins[_0x79733b(0x160)][_0x79733b(0x1f0)]][_0x1acf2f],'coins':_0x56cb92}),dbPerformance[_0x79733b(0x153)]('data')[_0x79733b(0x251)](_0x56806c)[_0x79733b(0x164)]();}),emitPerformance(),await resetCoinResults();for(let _0x595e2c of _0x147776){_0x595e2c[_0x12906a(0x1f0)]!=config['basecoin']&&await updateCoinResults(_0x595e2c);}logHistory(_0x12906a(0x1b6),_0x12906a(0x14d));}catch(_0x38d682){await handleError(_0x38d682,_0x12906a(0x214));}}async function getCloses(_0x472edb,_0x555722,_0x2fc53e=undefined){const _0x2e70f4=_0xb83bd3,_0x56d344='1d';let _0x2b054a,_0x5e4b02;const _0x460171=fns[_0x2e70f4(0x1bd)](new Date(),_0x555722)+0x1;try{const _0x247d6d=exchange[_0x2e70f4(0x168)]()-_0x460171*0x18*0xe10*0x3e8;_0x2b054a=await exchange[_0x2e70f4(0x23f)](_0x472edb,_0x56d344,_0x247d6d,_0x2fc53e),_0x5e4b02=await exchange[_0x2e70f4(0x1ae)](_0x472edb);}catch(_0x4010aa){await handleError(_0x4010aa,_0x2e70f4(0x211));}let _0x5a2cdf=ohlcvToCloses(_0x2b054a);return _0x5a2cdf[_0x2e70f4(0x251)](_0x5e4b02[_0x472edb][_0x2e70f4(0x23c)]),_0x5a2cdf;}function ohlcvToCloses(_0x314ebd){const _0x106bab=_0xb83bd3;let _0x33b11d=[];return _0x314ebd[_0x106bab(0x18d)](function(_0x1d16a9){const _0x247983=_0x106bab;_0x33b11d[_0x247983(0x251)](_0x1d16a9[0x4]);}),_0x33b11d;}function _0x76bd(){const _0x520428=['isArray','accumulatedQuantity','wss://stream.binance.us:9443','emojibuy','search','symbols','Executed\x20','ordertype','limits','\x20|\x20Error\x20details:\x20','154355GjPcTd','MIN_NOTIONAL','apiSecret','logs','\x20-\x20','sortBy','Crypt','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','decrypt','getSeconds','fromCodePoint','Error:\x20Invalid\x20argument\x20','fees','BTC/USDT','filled','getCloses()','valid','basecoin','recreateHistory()','apiKey','BTCUSDT','placeOrder','\x20orders\x20in\x20less\x20than\x20','distribution','getTime','startnumber','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','args','limit-low','Order(s)\x20validated\x20-\x20balancing\x20resumed','fee','./version.json','defaults','BTC','kill','Order(s)\x20not\x20validated\x20after\x20','loadMarkets','exit','order','market','getPortfolio','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','limit','cooldown','coin-loading-progress','getHours','BTC/EUR','includes','total','find','spot','104550uVgZkq','differenceInSeconds','BNB','fetchBalance','showname','amount','Limit\x20(high-margin)','last','configuration','7603xmWSyO','fetchOHLCV','\x20hour','getDate','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','bb-secure.json','3468144dPUgPW','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','abs','getStartingBalances',':\x20Bot\x20','limit-high','progress','value','coins','data','eur','initclient','realized','push','portfolio','************','argv','round','botname','toFixed','stringify','USDT','bot','excluded','event','replace','price','FILLED','ExchangeNotAvailable','Order:\x20','performance','orderId','length','HOT/EUR','Performance\x20recreation\x20completed\x20successfully','running','format','delta','buy','slice','get','date','enabled','restart','getMonth','eventType','emitHistory','lowdb/adapters/FileSync','Invalid\x20quantity','page','wsMarket','sell','datetime','usd','cancelOrder','storeConfiguration','event-history','write','error','initws()','cancel','milliseconds','Limit\x20(low-margin)','binanceus','Market','\x20|\x20Unknown\x20error\x20occured','(((.+)+)+)+$','Unfilled\x20order(s)\x20canceled\x20after\x20','getMinutes',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','recreate','API-key\x20format\x20invalid','reconnected','add','executionReport','remove','split','timeout','parse','sha256','-results.json','closeWs','cost','coinamount','headless','keys','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','send','balances','wsKey','bot-','binance',')\x20|\x20Error\x20details:\x20','ask','sort',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','forEach','timestamp','666Jwxglr','ticker','privateKey','Binance\x20API\x20secret\x20is\x20invalid','date-fns','has','\x20minutes\x20-\x20balancing\x20resumed','filter','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','close','time','timeshift','log','currency','toString','reduce','botID','RequestTimeout','number','secure','side','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','max','parseISO','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','RSA-OAEP','availableBalance','getFullYear','padStart','version','sells','fetchTickers','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','-events.json','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','BTC/BUSD','InsufficientFunds','apply','min','success','message','DAI/','cancelLoading','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','./config/','placeOrder()','differenceInCalendarDays','trade','getCoins()','symbol','reverse','BTCEUR','fetchOrders','threshold','shift','settings','819oOrGMd','target','\x20>\x20','breakeven','offset','startprice','loadSymbols()','getPortfolio()','wss://stream.binance.com:9443','toLowerCase','Order(s)\x20filled\x20-\x20balancing\x20resumed','createOrder','EUR','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','1705296hPdHzc','OrderNotFound','13727AqXxHa','LIMIT','yyyy-MM-dd\x27T\x27HH:mm:ss','startdate','entries','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','yyyy/MM/dd','kline','type','2794044wqQvAC','AuthenticationError','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Order\x20filled:\x20','userData','lowdb','WebSockets(','function','exchange','remainingSymbols','hybrid-crypto-js','configuration-stored','\x20order:\x20','assign','22ZFXwPk','outboundAccountPosition','coin','InvalidNonce','existsSync','emojisell','BTCBUSD','buys','mkdirSync','asset'];_0x76bd=function(){return _0x520428;};return _0x76bd();}function getConfiguration(_0x2393bb){const _0x116600=_0xb83bd3;let _0x1b29c4=dbConfig[_0x116600(0x153)](_0x116600(0x141))[_0x116600(0x233)]({'botID':_0x2393bb})[_0x116600(0x24b)]();if(_0x1b29c4){let _0x194ebd=![];!_0x1b29c4[_0x116600(0x1e8)]&&(_0x1b29c4={..._0x1b29c4,'exchange':_0x116600(0x187)},_0x194ebd=!![]),!_0x1b29c4[_0x116600(0x213)]&&(_0x1b29c4={..._0x1b29c4,'basecoin':_0x116600(0x223)},_0x194ebd=!![]),!_0x1b29c4['ordertype']&&(_0x1b29c4={..._0x1b29c4,'ordertype':_0x116600(0x229)},_0x194ebd=!![]),!_0x1b29c4[_0x116600(0x178)]&&(_0x1b29c4={..._0x1b29c4,'timeout':0x14},_0x194ebd=!![]),!_0x1b29c4[_0x116600(0x1fb)]&&(_0x1b29c4={..._0x1b29c4,'emojibuy':''},_0x194ebd=!![]),!_0x1b29c4['emojisell']&&(_0x1b29c4={..._0x1b29c4,'emojisell':''},_0x194ebd=!![]),!_0x1b29c4[_0x116600(0x239)]&&(_0x1b29c4={..._0x1b29c4,'showname':![]},_0x194ebd=!![]),_0x194ebd&&(_0x1b29c4={'botID':_0x1b29c4[_0x116600(0x19f)],'exchange':_0x1b29c4[_0x116600(0x1e8)],'apiKey':_0x1b29c4[_0x116600(0x215)],'apiSecret':_0x1b29c4[_0x116600(0x204)],'basecoin':_0x1b29c4[_0x116600(0x213)],'botname':_0x1b29c4[_0x116600(0x13d)],'showname':_0x1b29c4['showname'],'threshold':_0x1b29c4[_0x116600(0x1c4)],'ordertype':_0x1b29c4[_0x116600(0x1ff)],'timeout':_0x1b29c4[_0x116600(0x178)],'startdate':_0x1b29c4[_0x116600(0x1da)],'recreate':_0x1b29c4[_0x116600(0x171)],'timeshift':_0x1b29c4[_0x116600(0x19a)],'headless':_0x1b29c4[_0x116600(0x17f)],'cooldown':_0x1b29c4['cooldown'],'emojibuy':_0x1b29c4[_0x116600(0x1fb)],'emojisell':_0x1b29c4[_0x116600(0x1f3)],'portfolio':_0x1b29c4[_0x116600(0x139)]},dbConfig['get'](_0x116600(0x141))[_0x116600(0x176)]()['write'](),dbConfig[_0x116600(0x153)](_0x116600(0x141))[_0x116600(0x251)](_0x1b29c4)[_0x116600(0x164)]());}else _0x1b29c4={'botID':_0x2393bb,'exchange':_0x116600(0x187),'apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x2393bb,'showname':![],'threshold':'3','ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x116600(0x19a)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x1b29c4;}function emittedConfiguration(){let _0x3f5636;return config['apiKey']==''?_0x3f5636=config:_0x3f5636={...config,'apiKey':'************','apiSecret':'************'},_0x3f5636;}function getSettings(){const _0x12229c=_0xb83bd3;return dbSettings[_0x12229c(0x153)](_0x12229c(0x1c6))[_0x12229c(0x24b)]();}function getSecure(){const _0x5977e7=_0xb83bd3;return dbSecure[_0x5977e7(0x153)](_0x5977e7(0x1a2))['value']()||{};}function updateTimeshift(_0x44a9e1){const _0x129dd6=_0xb83bd3;let _0x252e57=dbConfig[_0x129dd6(0x153)](_0x129dd6(0x141))[_0x129dd6(0x233)]({'botID':botID})[_0x129dd6(0x24b)]();_0x252e57&&dbConfig[_0x129dd6(0x153)](_0x129dd6(0x141))['find']({'botID':botID})[_0x129dd6(0x1ed)]({'timeshift':_0x44a9e1})[_0x129dd6(0x164)](),config[_0x129dd6(0x19a)]=_0x44a9e1,proxyEmit(_0x129dd6(0x23d),emittedConfiguration());}async function storeConfiguration(_0x45a9ef){const _0x1669c6=_0xb83bd3;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x57ca96=dbConfig[_0x1669c6(0x153)](_0x1669c6(0x141))[_0x1669c6(0x233)]({'botID':botID})[_0x1669c6(0x24b)]();_0x45a9ef={..._0x45a9ef,'apiKey':crypt[_0x1669c6(0x20a)](secure[_0x1669c6(0x191)],_0x45a9ef[_0x1669c6(0x215)])[_0x1669c6(0x1b7)],'apiSecret':crypt[_0x1669c6(0x20a)](secure[_0x1669c6(0x191)],_0x45a9ef[_0x1669c6(0x204)])['message']};if(_0x57ca96){if(_0x45a9ef[_0x1669c6(0x215)]==_0x1669c6(0x13a))_0x45a9ef[_0x1669c6(0x215)]=config['apiKey'];if(_0x45a9ef[_0x1669c6(0x204)]==_0x1669c6(0x13a))_0x45a9ef[_0x1669c6(0x204)]=config[_0x1669c6(0x204)];dbConfig[_0x1669c6(0x153)]('bot')[_0x1669c6(0x233)]({'botID':botID})[_0x1669c6(0x1ed)](_0x45a9ef)[_0x1669c6(0x164)]();}else dbConfig[_0x1669c6(0x153)](_0x1669c6(0x141))['push'](_0x45a9ef)['write'](),process['send']({'status':_0x1669c6(0x155),'live':_0x1669c6(0x14e)});config={..._0x45a9ef};if(config[_0x1669c6(0x171)])await recreateHistory(config);else await setStartDatePerformance(config);process['send']({'botname':_0x45a9ef[_0x1669c6(0x13d)]}),proxyEmit(_0x1669c6(0x1eb)),reset();}async function storeHeadless(_0x46e752){const _0x1320ba=_0xb83bd3,_0x92c59e={...config,'headless':_0x46e752[_0x1320ba(0x17f)]};let _0x114f9a=dbConfig['get']('bot')[_0x1320ba(0x233)]({'botID':botID})[_0x1320ba(0x24b)]();_0x114f9a&&dbConfig[_0x1320ba(0x153)](_0x1320ba(0x141))['find']({'botID':botID})[_0x1320ba(0x1ed)](_0x92c59e)[_0x1320ba(0x164)](),config={..._0x92c59e},proxyEmit(_0x1320ba(0x23d),emittedConfiguration());}function noslash(_0x579565){const _0x562a12=_0xb83bd3;return _0x579565[_0x562a12(0x144)]('/','');}function updateNumberCoins(_0xd229dd){const _0x739e8c=_0xb83bd3;_0xd229dd[_0x739e8c(0x158)]&&_0xd229dd[_0x739e8c(0x158)]==_0x739e8c(0x1ef)&&_0xd229dd['balances'][_0x739e8c(0x18d)](_0x4cc84d=>{const _0x235214=_0x739e8c;let _0x36c2c2=currentCoins[_0x235214(0x233)](_0x44d16d=>_0x44d16d[_0x235214(0x1f0)]==_0x4cc84d[_0x235214(0x1f7)]),_0x5aecdf=config[_0x235214(0x139)]['find'](_0xb70a93=>_0xb70a93['coin']==_0x4cc84d[_0x235214(0x1f7)]);if(_0x36c2c2&&_0x5aecdf)_0x36c2c2[_0x235214(0x1a1)]=Math[_0x235214(0x1a5)](Number(_0x4cc84d[_0x235214(0x1a9)])+(_0x5aecdf[_0x235214(0x1cb)]||0x0),0x0);});if(_0xd229dd[_0x739e8c(0x158)]&&_0xd229dd[_0x739e8c(0x158)]==_0x739e8c(0x175)){if(_0xd229dd['orderType']==_0x739e8c(0x1d8)&&_0xd229dd['orderStatus']==_0x739e8c(0x146)){if(lastOrders)lastOrders[_0x739e8c(0x18d)](_0x244640=>{const _0x3d7146=_0x739e8c;if(_0x244640['orderId']==_0xd229dd[_0x3d7146(0x14a)]){if(_0x244640[_0x3d7146(0x1c1)])_0x244640[_0x3d7146(0x210)]=_0xd229dd[_0x3d7146(0x1f9)]*_0x244640['price'];else _0x244640[_0x3d7146(0x210)]=_0xd229dd['accumulatedQuantity'];}});}}}async function getCoins(_0x2542b2=!![],_0x1ed65a=config[_0xb83bd3(0x213)]){const _0x1fe3b0=_0xb83bd3;let _0x20bcda,_0x50258b=[],_0x4981aa=[],_0x124e0c=[];try{_0x20bcda=await exchange[_0x1fe3b0(0x238)](),mybalances=_0x20bcda[_0x1fe3b0(0x232)];if(!_0x2542b2)for(const [_0x2741ea,_0x2593fb]of Object['entries'](mybalances)){_0x124e0c[_0x1fe3b0(0x251)](_0x2741ea);}else config['portfolio'][_0x1fe3b0(0x18d)](_0x2ebd3b=>{const _0x5c3609=_0x1fe3b0;if(!_0x2ebd3b[_0x5c3609(0x142)])_0x124e0c['push'](_0x2ebd3b[_0x5c3609(0x1f0)]);});if(_0x1ed65a=='')for(const [_0x1bb691,_0x48b614]of Object[_0x1fe3b0(0x1db)](mybalances)){_0x48b614['toString']()!=0x0&&_0x4981aa[_0x1fe3b0(0x251)]({'coin':_0x1bb691});}else for(const [_0x59a5a4,_0x5191c3]of Object['entries'](mybalances)){if(_0x124e0c[_0x1fe3b0(0x231)](_0x59a5a4)){const _0x2c4c99=config[_0x1fe3b0(0x139)][_0x1fe3b0(0x233)](_0x32540c=>_0x32540c['coin']==_0x59a5a4);if((_0x5191c3['toString']()!=0x0||_0x2c4c99)&&(allSymbols[_0x1fe3b0(0x231)](_0x59a5a4+'/'+_0x1ed65a)||_0x59a5a4==_0x1ed65a))_0x4981aa[_0x1fe3b0(0x251)]({'coin':_0x59a5a4,'symbol':_0x59a5a4+'/'+_0x1ed65a,'reverse':![],'number':Math[_0x1fe3b0(0x1a5)](_0x5191c3+(_0x2c4c99&&_0x2c4c99[_0x1fe3b0(0x1cb)]||0x0),0x0)}),_0x59a5a4!=_0x1ed65a&&_0x50258b[_0x1fe3b0(0x251)](_0x59a5a4+'/'+_0x1ed65a);else(_0x5191c3['toString']()!=0x0||_0x2c4c99)&&allSymbols['includes'](_0x1ed65a+'/'+_0x59a5a4)&&(_0x4981aa[_0x1fe3b0(0x251)]({'coin':_0x59a5a4,'symbol':_0x1ed65a+'/'+_0x59a5a4,'reverse':!![],'number':Math[_0x1fe3b0(0x1a5)](_0x5191c3+(_0x2c4c99&&_0x2c4c99[_0x1fe3b0(0x1cb)]||0x0),0x0)}),_0x59a5a4!=_0x1ed65a&&_0x50258b[_0x1fe3b0(0x251)](_0x1ed65a+'/'+_0x59a5a4));}}}catch(_0x31919b){if(!_0x2542b2){if(_0x31919b[_0x1fe3b0(0x19d)]()['includes'](_0x1fe3b0(0x172)))return logHistory('error','Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x31919b[_0x1fe3b0(0x19d)]()['includes'](_0x1fe3b0(0x1e1)))return logHistory('error',_0x1fe3b0(0x1af)),![];else{if(_0x31919b['toString']()[_0x1fe3b0(0x231)](_0x1fe3b0(0x1ba)))return logHistory(_0x1fe3b0(0x165),_0x1fe3b0(0x192)),![];else await handleError(_0x31919b,_0x1fe3b0(0x1bf));}}}else await handleError(_0x31919b,'getCoins()');}return _0x4981aa;}async function getPortfolio(_0x1e321e){const _0x4dc417=_0xb83bd3;let _0xa40239=[],_0x359701=[],_0x592d06,_0x30eb30=[],_0x2569c8,_0x280f06;_0x1e321e[_0x4dc417(0x215)]===_0x4dc417(0x13a)||_0x1e321e[_0x4dc417(0x204)]===_0x4dc417(0x13a)?(_0x2569c8=config['apiKey'],_0x280f06=config[_0x4dc417(0x204)]):(_0x2569c8=_0x1e321e[_0x4dc417(0x215)],_0x280f06=_0x1e321e['apiSecret']);await initExchange(_0x2569c8,_0x280f06);let _0x4c554a=await loadSymbols();if(_0x4c554a){_0x30eb30=await getCoins(![],_0x1e321e[_0x4dc417(0x213)]);if(_0x30eb30===![])proxyEmit(_0x4dc417(0x139),![]);else{if(_0x1e321e[_0x4dc417(0x213)]=='')proxyEmit(_0x4dc417(0x139),_0x30eb30);else{_0x30eb30[_0x4dc417(0x18d)](_0x88453b=>{const _0x54bb78=_0x4dc417;_0xa40239[_0x54bb78(0x251)](_0x88453b[_0x54bb78(0x1c0)]);});try{_0x359701=await exchange[_0x4dc417(0x1ae)](_0xa40239);}catch(_0x55c3e1){await handleError(_0x55c3e1,_0x4dc417(0x1ce));}_0x30eb30[_0x4dc417(0x18d)](_0x5a40e5=>{const _0x3eac5d=_0x4dc417;_0x5a40e5[_0x3eac5d(0x1f0)]!=_0x1e321e[_0x3eac5d(0x213)]?_0x592d06=_0x5a40e5[_0x3eac5d(0x1c1)]?0x1/_0x359701[_0x5a40e5[_0x3eac5d(0x1c0)]][_0x3eac5d(0x23c)]:_0x359701[_0x5a40e5[_0x3eac5d(0x1c0)]][_0x3eac5d(0x23c)]:_0x592d06=0x1,_0x5a40e5[_0x3eac5d(0x145)]=formatResult(_0x592d06,0x8);}),proxyEmit(_0x4dc417(0x139),_0x30eb30);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x5196b7){const _0x506c63=_0xb83bd3;let _0x3dcbee=!![];const _0x10ba98=!_0x5196b7[_0x506c63(0x1c1)]?markets[_0x5196b7['symbol']][_0x506c63(0x200)][_0x506c63(0x23a)]['min']:markets[_0x5196b7[_0x506c63(0x1c0)]][_0x506c63(0x200)][_0x506c63(0x17d)][_0x506c63(0x1b5)],_0x556d02=!_0x5196b7[_0x506c63(0x1c1)]?markets[_0x5196b7[_0x506c63(0x1c0)]][_0x506c63(0x200)][_0x506c63(0x17d)][_0x506c63(0x1b5)]:markets[_0x5196b7[_0x506c63(0x1c0)]][_0x506c63(0x200)][_0x506c63(0x23a)][_0x506c63(0x1b5)];if(Math[_0x506c63(0x246)](_0x5196b7['trade'])<_0x10ba98)_0x3dcbee=![];if(Math[_0x506c63(0x246)](_0x5196b7[_0x506c63(0x1be)])*_0x5196b7['last']<_0x556d02)_0x3dcbee=![];return _0x3dcbee;}async function getBalances(){const _0x45ca7c=_0xb83bd3;let _0x1d8864=0x0,_0x7c03c8;const _0x52c4e6=config[_0x45ca7c(0x1c4)];currentCoins[_0x45ca7c(0x18d)](_0x5861c3=>{const _0x612009=_0x45ca7c;if(_0x5861c3[_0x612009(0x1f0)]!=config['basecoin']){let _0x4e42c3=global[_0x612009(0x190)][noslash(_0x5861c3[_0x612009(0x1c0)])];_0x7c03c8=_0x5861c3[_0x612009(0x1c1)]?0x1/_0x4e42c3:_0x4e42c3;}else _0x7c03c8=0x1;let _0xdb86bc=_0x5861c3[_0x612009(0x1a1)]*_0x7c03c8;_0x1d8864+=_0xdb86bc,_0x5861c3[_0x612009(0x23c)]=formatResult(Number(_0x7c03c8),0x8),_0x5861c3['value']=_0xdb86bc;}),currentCoins[_0x45ca7c(0x18d)](_0x3cdbe3=>{const _0x5890f5=_0x45ca7c;let _0x558419=config[_0x5890f5(0x139)][_0x5890f5(0x233)](_0x55c2ab=>_0x55c2ab[_0x5890f5(0x1f0)]==_0x3cdbe3[_0x5890f5(0x1f0)]),_0x5404ac=Number(_0x558419[_0x5890f5(0x219)]),_0x3e0e55=_0x3cdbe3['value']/_0x1d8864*0x64,_0x1f803b=_0x5404ac*_0x1d8864/0x64/_0x3cdbe3[_0x5890f5(0x23c)]-_0x3cdbe3[_0x5890f5(0x1a1)];_0x3cdbe3[_0x5890f5(0x219)]=formatResult(_0x3e0e55,0x3),_0x3cdbe3[_0x5890f5(0x1c8)]=formatResult(_0x5404ac,0x3),_0x3cdbe3[_0x5890f5(0x1be)]=formatResult(_0x1f803b,0x8),_0x3cdbe3['side']='',_0x3cdbe3[_0x5890f5(0x212)]='';if(_0x3cdbe3[_0x5890f5(0x1f0)]!=config['basecoin']){if(_0x3cdbe3[_0x5890f5(0x219)]>_0x5404ac)_0x3cdbe3[_0x5890f5(0x1a3)]=_0x5890f5(0x15e),_0x3cdbe3[_0x5890f5(0x212)]=checkMinimums(_0x3cdbe3);else _0x3cdbe3[_0x5890f5(0x219)]<_0x5404ac&&(_0x3cdbe3[_0x5890f5(0x1a3)]=_0x5890f5(0x151),_0x3cdbe3[_0x5890f5(0x212)]=checkMinimums(_0x3cdbe3));}_0x3cdbe3[_0x5890f5(0x150)]=_0x3cdbe3['distribution']/_0x3cdbe3['target']-0x1;}),currentCoins[_0x45ca7c(0x18a)]((_0x3c247e,_0x493259)=>_0x3c247e['delta']<_0x493259[_0x45ca7c(0x150)]?0x1:_0x493259[_0x45ca7c(0x150)]<_0x3c247e['delta']?-0x1:0x0);const _0x338ca6=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x338ca6[_0x45ca7c(0x24e)],'usd':_0x338ca6[_0x45ca7c(0x160)],'portfolio':JSON[_0x45ca7c(0x13f)](currentCoins),'threshold':_0x52c4e6},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x52c4e6});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1636ee=_0xb83bd3;if(!lastBalances)return;let _0x4804db=await getStartingBalances(![]),_0x534d9c=[],_0x513a55;JSON[_0x1636ee(0x179)](lastBalances[_0x1636ee(0x139)])[_0x1636ee(0x18d)](_0x522da3=>{const _0x17aa0f=_0x1636ee;let _0x35e5da={'coin':_0x522da3['coin'],'number':_0x522da3[_0x17aa0f(0x1a1)],'price':_0x522da3[_0x17aa0f(0x23c)]};_0x534d9c['push'](_0x35e5da);});const _0x451031=await getFiat();_0x513a55={'date':lastBalances[_0x1636ee(0x199)][_0x1636ee(0x177)]('\x20')[0x0],'eur':_0x451031[_0x1636ee(0x24e)],'usd':_0x451031[_0x1636ee(0x160)],'coins':_0x534d9c};let _0xf470af=dbPerformance[_0x1636ee(0x153)]('data')[_0x1636ee(0x233)]({'date':_0x513a55[_0x1636ee(0x154)]})[_0x1636ee(0x24b)]();_0xf470af?dbPerformance['get'](_0x1636ee(0x24d))[_0x1636ee(0x233)]({'date':_0x513a55[_0x1636ee(0x154)]})['assign'](_0x513a55)['write']():dbPerformance[_0x1636ee(0x153)]('data')['push'](_0x513a55)[_0x1636ee(0x164)](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x5ef5ab=_0xb83bd3;if(dbPerformance[_0x5ef5ab(0x194)]('data')[_0x5ef5ab(0x24b)]()){let _0x503439=dbPerformance['get'](_0x5ef5ab(0x24d))['sortBy']('date')[_0x5ef5ab(0x24b)]();proxyEmit(_0x5ef5ab(0x149),_0x503439),lastPerformanceEmitted=getDate();}else proxyEmit(_0x5ef5ab(0x149),[]);}async function getStartingBalances(_0x161845=!![]){const _0xab4480=_0xb83bd3;let _0x309fd2=dbPerformance['get'](_0xab4480(0x24d))[_0xab4480(0x233)]({'date':config[_0xab4480(0x1da)]})['value']();config['apiKey']!=''&&!_0x309fd2&&(await setStartDatePerformance(config),_0x309fd2=dbPerformance[_0xab4480(0x153)](_0xab4480(0x24d))['find']({'date':config[_0xab4480(0x1da)]})['value']());if(config[_0xab4480(0x215)]==''||!_0x309fd2)return{};let _0x540dae=0x0,_0x37eb1c=0x0,_0x4e1ee8=0x0,_0x1cbd14=[],_0x4bdd96=0x0;config['portfolio']['forEach'](_0x432654=>{const _0x3f9ec2=_0xab4480;if(!_0x432654[_0x3f9ec2(0x142)]){_0x1cbd14[_0x4bdd96]={'coin':_0x432654[_0x3f9ec2(0x1f0)],'symbol':_0x432654[_0x3f9ec2(0x1c0)],'number':_0x432654[_0x3f9ec2(0x21b)],'price':_0x432654['startprice']},_0x540dae+=_0x432654['startprice']*_0x432654[_0x3f9ec2(0x21b)];if(config['basecoin']==_0x3f9ec2(0x223))_0x37eb1c+=_0x432654[_0x3f9ec2(0x1cc)]*_0x432654[_0x3f9ec2(0x21b)]*_0x309fd2[_0x3f9ec2(0x24e)],_0x4e1ee8+=_0x432654['startprice']*_0x432654[_0x3f9ec2(0x21b)]*_0x309fd2[_0x3f9ec2(0x160)];else{if(config[_0x3f9ec2(0x213)]=='BUSD'||config['basecoin']==_0x3f9ec2(0x140)||config['basecoin']=='USDC')_0x37eb1c+=_0x432654['startprice']*_0x432654[_0x3f9ec2(0x21b)]*_0x309fd2[_0x3f9ec2(0x24e)]/_0x309fd2[_0x3f9ec2(0x160)],_0x4e1ee8+=_0x432654[_0x3f9ec2(0x1cc)]*_0x432654[_0x3f9ec2(0x21b)];else config[_0x3f9ec2(0x213)]==_0x3f9ec2(0x1d3)&&(_0x37eb1c+=_0x432654['startprice']*_0x432654[_0x3f9ec2(0x21b)],_0x4e1ee8+=_0x432654[_0x3f9ec2(0x1cc)]*_0x432654[_0x3f9ec2(0x21b)]*_0x309fd2['usd']/_0x309fd2['eur']);}_0x4bdd96++;}});let _0x1dcf68={'basecoin':_0x540dae,'eur':_0x37eb1c,'usd':_0x4e1ee8,'coins':_0x1cbd14};if(_0x161845)proxyEmit('starting-balances',_0x1dcf68);return _0x1dcf68;}function headlessMode(_0x10475c){const _0x12e26d=_0xb83bd3;let _0x5a189c=_0x10475c['portfolio'],_0xcf88fc=_0x10475c['threshold'],_0x30a8ef=[];for(let _0x5e6b94 of _0x5a189c){if(_0x5e6b94[_0x12e26d(0x1f0)]!=config[_0x12e26d(0x213)]){if(_0x5e6b94[_0x12e26d(0x219)]/_0x5e6b94[_0x12e26d(0x1c8)]-0x1>=_0xcf88fc/0x64){if(_0x5e6b94[_0x12e26d(0x212)])_0x30a8ef[_0x12e26d(0x251)](_0x5e6b94);}else{if(_0x5e6b94['distribution']/_0x5e6b94[_0x12e26d(0x1c8)]-0x1<=-_0xcf88fc/0x64){if(_0x5e6b94[_0x12e26d(0x212)])_0x30a8ef[_0x12e26d(0x251)](_0x5e6b94);}}}}_0x30a8ef[_0x12e26d(0x14b)]>0x0&&placeOrder(_0x30a8ef);}function symbolToCoin(_0xb794ea){const _0x409b34=_0xb83bd3;let _0x123da9;if(_0xb794ea[_0x409b34(0x231)]('/'+config[_0x409b34(0x213)]))_0x123da9=_0xb794ea['replace']('/'+config[_0x409b34(0x213)],'');if(_0xb794ea[_0x409b34(0x231)](config['basecoin']+'/'))_0x123da9=_0xb794ea['replace'](config['basecoin']+'/','');return _0x123da9;}async function validateOrders(_0x483c5a=0x0){const _0x12bd29=_0xb83bd3;let _0x2b81ec=[],_0x3d7100=config[_0x12bd29(0x1ff)]==_0x12bd29(0x229)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x12bd29(0x18d)](_0x1100d7=>{const _0x161089=_0x12bd29;let _0x1ad102=previousCoins['find'](_0x45265a=>_0x45265a[_0x161089(0x1f0)]==symbolToCoin(_0x1100d7[_0x161089(0x1c0)])),_0x3334cc=currentCoins['find'](_0x495f57=>_0x495f57[_0x161089(0x1f0)]==symbolToCoin(_0x1100d7[_0x161089(0x1c0)])),_0xe6efd3,_0x149888;_0x1100d7[_0x161089(0x1a3)]==_0x161089(0x151)&&!_0x1100d7[_0x161089(0x1c1)]||_0x1100d7[_0x161089(0x1a3)]=='sell'&&_0x1100d7[_0x161089(0x1c1)]?(_0xe6efd3=_0x1ad102[_0x161089(0x1a1)]+0.9*_0x1100d7['filled'],_0x149888=_0x1ad102[_0x161089(0x1a1)]+1.1*_0x1100d7[_0x161089(0x210)]):(_0xe6efd3=_0x1ad102[_0x161089(0x1a1)]-1.1*_0x1100d7['filled'],_0x149888=_0x1ad102[_0x161089(0x1a1)]-0.9*_0x1100d7[_0x161089(0x210)]);const _0x828647=_0x1100d7[_0x161089(0x210)]!=0x0&&_0x3334cc['number']>=_0xe6efd3&&_0x3334cc['number']<=_0x149888;_0x2b81ec[_0x161089(0x251)](_0x828647);if(_0x828647&&config['ordertype']!=_0x161089(0x229)){if(_0x1100d7['reverse'])logHistory(_0x161089(0x228),_0x161089(0x1e3)+_0x1100d7[_0x161089(0x1c0)]+'\x20'+_0x1100d7['side']+'\x20#'+formatResult(_0x1100d7[_0x161089(0x210)]/_0x1100d7[_0x161089(0x145)],0x8)+'\x20@'+formatResult(_0x1100d7[_0x161089(0x145)],0x8));else logHistory(_0x161089(0x228),_0x161089(0x1e3)+_0x1100d7['symbol']+'\x20'+_0x1100d7[_0x161089(0x1a3)]+'\x20#'+formatResult(_0x1100d7[_0x161089(0x210)],0x8)+'\x20@'+formatResult(_0x1100d7[_0x161089(0x145)],0x8));}}),_0x2b81ec[_0x12bd29(0x18d)]((_0x2c6500,_0x18ed43)=>{if(_0x2c6500)lastOrders['splice'](_0x18ed43,0x1);});if(_0x483c5a<_0x3d7100&&_0x2b81ec[_0x12bd29(0x231)](![])){if(_0x483c5a==0x0){config[_0x12bd29(0x1ff)]==_0x12bd29(0x229)?logHistory(_0x12bd29(0x165),_0x12bd29(0x181)):logHistory('error',_0x12bd29(0x1dc));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x483c5a);},0xa*0x3e8);}else{(_0x483c5a==0x1||_0x483c5a==Math[_0x12bd29(0x13c)](_0x3d7100/0x2)||_0x483c5a==_0x3d7100-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x483c5a);},validateOrderInterval);}}else{lockOrders=![];if(_0x483c5a>0x0&&!_0x2b81ec[_0x12bd29(0x231)](![]))config['ordertype']==_0x12bd29(0x229)?logHistory(_0x12bd29(0x1b6),_0x12bd29(0x21f)):logHistory(_0x12bd29(0x1b6),_0x12bd29(0x1d1));else _0x483c5a>0x0&&_0x2b81ec['includes'](![])&&(config[_0x12bd29(0x1ff)]=='market'?logHistory('success',_0x12bd29(0x225)+Math['round'](_0x3d7100*validateOrderInterval/0xea60)+_0x12bd29(0x195)):(lastOrders[_0x12bd29(0x18d)](async _0x1bdb33=>{const _0x255562=_0x12bd29;try{const _0x5f1832=await exchange[_0x255562(0x161)](_0x1bdb33[_0x255562(0x14a)],_0x1bdb33[_0x255562(0x1c0)]);}catch(_0xdb0cac){if(_0xdb0cac[_0x255562(0x19d)]()['includes'](_0x255562(0x1d6))){}else await handleError(_0xdb0cac,'cancelOrder()');}}),logHistory(_0x12bd29(0x1b6),_0x12bd29(0x16e)+Math[_0x12bd29(0x13c)](_0x3d7100*validateOrderInterval/0xea60)+_0x12bd29(0x195))));}}async function resetCoinResults(){const _0x4de9e1=_0xb83bd3;dbCoinResults[_0x4de9e1(0x153)](_0x4de9e1(0x24c))[_0x4de9e1(0x176)]()['write']();let _0x149f8a=await getStartingBalances(![]);_0x149f8a[_0x4de9e1(0x24c)][_0x4de9e1(0x18d)](_0x4b8d98=>{const _0xfee4d7=_0x4de9e1,_0x134fa8=_0x4b8d98[_0xfee4d7(0x1c0)]['includes'](config[_0xfee4d7(0x213)]+'/');if(_0x4b8d98['coin']!=config['basecoin']){let _0x4996d9={'coin':_0x4b8d98[_0xfee4d7(0x1f0)],'number':_0x4b8d98[_0xfee4d7(0x1a1)],'breakeven':_0x4b8d98[_0xfee4d7(0x145)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xfee4d7(0x153)]('coins')[_0xfee4d7(0x251)](_0x4996d9)[_0xfee4d7(0x164)]();}});}async function updateCoinResults(_0x2a1f9e){const _0xc4790f=_0xb83bd3;let _0x3307b8,_0x1a81d6,_0x285fd2,_0x1fea03,_0x5a2c46,_0x220b9a,_0x30fb0c=dbCoinResults['get']('coins')[_0xc4790f(0x233)]({'coin':_0x2a1f9e['coin']})[_0xc4790f(0x24b)]();if(!_0x30fb0c)return;if(_0x2a1f9e['fee']&&_0x2a1f9e[_0xc4790f(0x220)][_0xc4790f(0x19c)]==config[_0xc4790f(0x213)])_0x3307b8=_0x2a1f9e[_0xc4790f(0x220)][_0xc4790f(0x17d)];else{if(_0x2a1f9e[_0xc4790f(0x220)]&&_0x2a1f9e[_0xc4790f(0x220)][_0xc4790f(0x19c)]==_0xc4790f(0x237))_0x3307b8=_0x2a1f9e[_0xc4790f(0x220)][_0xc4790f(0x17d)]*global[_0xc4790f(0x190)][_0xc4790f(0x237)+config['basecoin']];else _0x3307b8=0.001*_0x2a1f9e[_0xc4790f(0x210)];}const _0x5f4f7c=_0x2a1f9e[_0xc4790f(0x1c0)][_0xc4790f(0x231)](config['basecoin']+'/');_0x5f4f7c&&(_0x220b9a={'coin':_0x2a1f9e['coin'],'symbol':_0x2a1f9e['symbol'],'filled':_0x2a1f9e[_0xc4790f(0x210)]*_0x2a1f9e[_0xc4790f(0x145)],'side':_0x2a1f9e[_0xc4790f(0x1a3)]=='sell'?_0xc4790f(0x151):_0xc4790f(0x15e),'price':0x1/_0x2a1f9e[_0xc4790f(0x145)]},_0x2a1f9e={..._0x220b9a});_0x2a1f9e[_0xc4790f(0x1a3)]=='buy'?_0x285fd2=(_0x30fb0c['breakeven']*_0x30fb0c['number']+_0x2a1f9e[_0xc4790f(0x145)]*_0x2a1f9e[_0xc4790f(0x210)])/(_0x30fb0c[_0xc4790f(0x1a1)]+_0x2a1f9e[_0xc4790f(0x210)]):_0x285fd2=(_0x30fb0c[_0xc4790f(0x1ca)]*_0x30fb0c[_0xc4790f(0x1a1)]-_0x2a1f9e[_0xc4790f(0x145)]*_0x2a1f9e[_0xc4790f(0x210)])/(_0x30fb0c['number']-_0x2a1f9e[_0xc4790f(0x210)]);_0x2a1f9e[_0xc4790f(0x1a3)]==_0xc4790f(0x151)?_0x1fea03=_0x30fb0c['realized']:_0x1fea03=_0x30fb0c[_0xc4790f(0x250)]+(_0x2a1f9e[_0xc4790f(0x145)]-_0x30fb0c[_0xc4790f(0x1ca)])*_0x2a1f9e['filled'];_0x1a81d6=_0x2a1f9e[_0xc4790f(0x1a3)]=='sell'?_0x30fb0c[_0xc4790f(0x1a1)]-_0x2a1f9e[_0xc4790f(0x210)]:_0x30fb0c[_0xc4790f(0x1a1)]+_0x2a1f9e[_0xc4790f(0x210)],_0x5a2c46=(_0x2a1f9e[_0xc4790f(0x145)]-_0x285fd2)*_0x1a81d6;let _0x364b71={'coin':_0x2a1f9e[_0xc4790f(0x1f0)],'number':_0x1a81d6,'breakeven':formatResult(_0x285fd2,0x8),'realized':formatResult(_0x1fea03,0x8),'unrealized':formatResult(_0x5a2c46,0x8),'fees':formatResult(_0x30fb0c[_0xc4790f(0x20e)]+_0x3307b8,0x8),'sells':_0x2a1f9e[_0xc4790f(0x1a3)]=='sell'?_0x30fb0c[_0xc4790f(0x1ad)]+0x1:_0x30fb0c[_0xc4790f(0x1ad)],'buys':_0x2a1f9e[_0xc4790f(0x1a3)]=='buy'?_0x30fb0c[_0xc4790f(0x1f5)]+0x1:_0x30fb0c[_0xc4790f(0x1f5)]};dbCoinResults[_0xc4790f(0x153)](_0xc4790f(0x24c))[_0xc4790f(0x233)]({'coin':_0x2a1f9e[_0xc4790f(0x1f0)]})[_0xc4790f(0x1ed)](_0x364b71)['write']();}async function placeOrder(_0x56e54f){const _0x13aadc=_0xb83bd3,_0x586cf5=config[_0x13aadc(0x1ff)]==_0x13aadc(0x229)?_0x13aadc(0x229):_0x13aadc(0x22c);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x13aadc(0x13f)](currentCoins));for(const _0x450e88 of _0x56e54f){let _0x52cd6c,_0x2d0b2f,_0x75edb7,_0x16129d,_0x223702,_0x4d94d8=_0x450e88['symbol'];try{const _0x510ce2=await exchange[_0x13aadc(0x1ae)](_0x4d94d8),_0x46e8f5=_0x510ce2[_0x4d94d8];_0x52cd6c=_0x46e8f5[_0x13aadc(0x23c)],_0x2d0b2f=_0x46e8f5['bid'],_0x75edb7=_0x46e8f5[_0x13aadc(0x189)];_0x450e88['reverse']?(_0x16129d=_0x450e88[_0x13aadc(0x1a3)]=='buy'?_0x13aadc(0x15e):_0x13aadc(0x151),_0x223702=Math[_0x13aadc(0x246)](_0x450e88[_0x13aadc(0x1be)])/_0x52cd6c):(_0x16129d=_0x450e88['side'],_0x223702=Math['abs'](_0x450e88[_0x13aadc(0x1be)]));_0x586cf5=='limit'&&(config['ordertype']==_0x13aadc(0x249)&&(_0x52cd6c=_0x16129d==_0x13aadc(0x151)?_0x2d0b2f:_0x75edb7),config[_0x13aadc(0x1ff)]==_0x13aadc(0x21e)&&(_0x52cd6c=_0x16129d=='buy'?_0x75edb7:_0x2d0b2f));_0x223702=formatResult(_0x223702,0x8),_0x52cd6c=formatResult(_0x52cd6c,0x8);const _0x370dbf=await exchange[_0x13aadc(0x1d2)](_0x4d94d8,_0x586cf5,_0x16129d,_0x223702,_0x52cd6c);lastOrders['push']({'orderId':_0x370dbf['id'],'symbol':_0x4d94d8,'side':_0x16129d,'reverse':_0x450e88[_0x13aadc(0x1c1)],'amount':_0x450e88[_0x13aadc(0x1c1)]?_0x370dbf[_0x13aadc(0x23a)]*_0x370dbf[_0x13aadc(0x145)]:_0x370dbf['amount'],'filled':_0x450e88[_0x13aadc(0x1c1)]?_0x370dbf[_0x13aadc(0x210)]*_0x370dbf['price']:_0x370dbf[_0x13aadc(0x210)],'price':_0x370dbf[_0x13aadc(0x145)]});const _0x48415d=_0x16129d=='sell'?config[_0x13aadc(0x1f3)]?String[_0x13aadc(0x20c)]('0x'+config['emojisell'])+'\x20':'':config[_0x13aadc(0x1fb)]?String[_0x13aadc(0x20c)]('0x'+config[_0x13aadc(0x1fb)])+'\x20':'',_0x24f7e1=_0x586cf5==_0x13aadc(0x229)?_0x13aadc(0x16b):config[_0x13aadc(0x1ff)]==_0x13aadc(0x249)?_0x13aadc(0x23b):_0x13aadc(0x169);if(_0x586cf5==_0x13aadc(0x229))logHistory('order',''+_0x48415d+_0x24f7e1+_0x13aadc(0x1ec)+_0x4d94d8+'\x20'+_0x16129d+'\x20#'+formatResult(_0x370dbf[_0x13aadc(0x210)],0x8)+'\x20@'+formatResult(_0x370dbf[_0x13aadc(0x145)],0x8));else logHistory(_0x13aadc(0x228),''+_0x48415d+_0x24f7e1+_0x13aadc(0x1ec)+_0x4d94d8+'\x20'+_0x16129d+'\x20#'+formatResult(_0x370dbf[_0x13aadc(0x23a)],0x8)+'\x20@'+formatResult(_0x370dbf[_0x13aadc(0x145)],0x8));_0x370dbf[_0x13aadc(0x1f0)]=_0x450e88['coin'],await updateCoinResults(_0x370dbf);if(config[_0x13aadc(0x22d)]!=0x0){let _0x233278=null;if(cooldownTracker[_0x13aadc(0x14b)]==config[_0x13aadc(0x22d)]-0x1)_0x233278=cooldownTracker[_0x13aadc(0x1c5)]();const _0x3f3e44=getTimeStamp();cooldownTracker[_0x13aadc(0x251)](_0x3f3e44);if(_0x233278){const _0x233ee7=fns[_0x13aadc(0x236)](new Date(_0x3f3e44),new Date(_0x233278));_0x233ee7<cooldownInterval&&(logHistory('error',_0x13aadc(0x1fe)+config[_0x13aadc(0x22d)]+_0x13aadc(0x218)+cooldownInterval/0x3c+_0x13aadc(0x209)+cooldownPeriod/(0xe10*0x3e8)+_0x13aadc(0x240)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x144f49){if(_0x144f49[_0x13aadc(0x19d)]()[_0x13aadc(0x231)](_0x13aadc(0x203)))logHistory(_0x13aadc(0x165),_0x13aadc(0x1a7)+_0x4d94d8);else{if(_0x144f49[_0x13aadc(0x19d)]()[_0x13aadc(0x231)](_0x13aadc(0x15b)))logHistory(_0x13aadc(0x165),'Order\x20amount\x20is\x20invalid:\x20'+_0x4d94d8);else await handleError(_0x144f49,_0x13aadc(0x1bc));}}}if(lastOrders[_0x13aadc(0x14b)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x13aadc(0x17f)]&&(config['ordertype']=='market'?logHistory(_0x13aadc(0x165),_0x13aadc(0x1d4)):logHistory(_0x13aadc(0x165),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config['headless']&&logHistory(_0x13aadc(0x165),_0x13aadc(0x245)));}}function logHistory(_0x4755e7,_0x214305,_0x1a23b5=''){const _0x42bd7d=_0xb83bd3;let _0x5482a0={'time':getTimeStamp(),'type':_0x4755e7,'event':_0x214305,'botname':config['botname'],'showname':config['showname']};dbLogs[_0x42bd7d(0x153)](_0x42bd7d(0x205))[_0x42bd7d(0x251)](_0x5482a0)['write']();if(_0x1a23b5=='')_0x1a23b5=_0x214305;proxyEmit(_0x42bd7d(0x143),{'log':_0x5482a0,'summary':_0x1a23b5}),process[_0x42bd7d(0x183)]({'telegram':_0x5482a0}),logging(''+_0x5482a0[_0x42bd7d(0x143)]);}function emitHistory(_0x1b1cdb={}){const _0x110c1e=_0xb83bd3;Object[_0x110c1e(0x180)](_0x1b1cdb)[_0x110c1e(0x14b)]==0x0&&(_0x1b1cdb={'type':[_0x110c1e(0x228),_0x110c1e(0x143)],'event':'','page':0x1});if(_0x1b1cdb[_0x110c1e(0x1df)]['includes'](_0x110c1e(0x143)))_0x1b1cdb[_0x110c1e(0x1df)]['splice'](_0x1b1cdb[_0x110c1e(0x1df)]['indexOf'](_0x110c1e(0x143)),0x1,_0x110c1e(0x165),_0x110c1e(0x1b6));if(dbLogs[_0x110c1e(0x194)](_0x110c1e(0x205))[_0x110c1e(0x24b)]()){let _0x33b54f=dbLogs[_0x110c1e(0x153)](_0x110c1e(0x205))[_0x110c1e(0x196)](_0xc159bb=>{const _0x44dd65=_0x110c1e;if(_0x1b1cdb[_0x44dd65(0x1df)]['length']==0x0)return![];else return _0x1b1cdb[_0x44dd65(0x1df)]['includes'](_0xc159bb['type']);})[_0x110c1e(0x196)](_0x5e922b=>{const _0x31b169=_0x110c1e;if(_0x1b1cdb[_0x31b169(0x143)]=='')return!![];else return _0x5e922b[_0x31b169(0x143)][_0x31b169(0x1d0)]()[_0x31b169(0x231)](_0x1b1cdb[_0x31b169(0x143)][_0x31b169(0x1d0)]());})[_0x110c1e(0x207)]('time'),_0x13c22c=_0x33b54f[_0x110c1e(0x24b)]()['length'];_0x33b54f=_0x33b54f['reverse']()[_0x110c1e(0x152)]((_0x1b1cdb['page']-0x1)*logPageSize,_0x1b1cdb[_0x110c1e(0x15c)]*logPageSize-0x1)[_0x110c1e(0x1c1)]()[_0x110c1e(0x24b)](),proxyEmit(_0x110c1e(0x163),{'logs':_0x33b54f,'total':_0x13c22c});}else proxyEmit('event-history',{'logs':[],'total':0x0});}async function pauseBot(_0x537300){const _0x5088d1=_0xb83bd3,_0x3554f3=new Date()[_0x5088d1(0x21a)]();if(!lastBotPause)lastBotPause=new Date()[_0x5088d1(0x21a)](),consecutivePauses=0x1;else{if(_0x3554f3-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x5088d1(0x183)]({'stop':_0x5088d1(0x156)});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error','Pausing\x20bot\x20for\x205\x20minutes\x20('+consecutivePauses+')'),await sleep(_0x537300),botPaused=![],reset();}}async function handleError(_0x34be6b,_0x918680,_0x34438c=''){const _0x2b15fb=_0xb83bd3;if(_0x34be6b['toString']()[_0x2b15fb(0x231)]('DDoSProtection'))logHistory('error',_0x918680+_0x2b15fb(0x1b1)),await pauseBot(pauseBotInterval);else{if(_0x34be6b[_0x2b15fb(0x19d)]()[_0x2b15fb(0x231)](_0x2b15fb(0x147)))logHistory('error',_0x918680+_0x2b15fb(0x182)),await pauseBot(pauseBotInterval);else{if(_0x34be6b[_0x2b15fb(0x19d)]()[_0x2b15fb(0x231)](_0x2b15fb(0x1a0)))logHistory(_0x2b15fb(0x165),_0x918680+'\x20|\x20Binance\x20exchange\x20is\x20not\x20responding'),await pauseBot(pauseBotInterval);else{if(_0x34be6b[_0x2b15fb(0x19d)]()[_0x2b15fb(0x231)](_0x2b15fb(0x172)))logHistory(_0x2b15fb(0x165),_0x918680+_0x2b15fb(0x22b)),logHistory(_0x2b15fb(0x165),_0x2b15fb(0x1e2)),process['send']({'stop':_0x2b15fb(0x224)});else{if(_0x34be6b[_0x2b15fb(0x19d)]()[_0x2b15fb(0x231)](_0x2b15fb(0x1e1)))logHistory(_0x2b15fb(0x165),_0x918680+_0x2b15fb(0x197)),logHistory(_0x2b15fb(0x165),_0x2b15fb(0x1e2)),process[_0x2b15fb(0x183)]({'stop':_0x2b15fb(0x224)});else{if(_0x34be6b[_0x2b15fb(0x19d)]()[_0x2b15fb(0x231)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x2b15fb(0x165),_0x918680+'\x20|\x20Binance\x20API\x20secret\x20is\x20invalid'),logHistory(_0x2b15fb(0x165),_0x2b15fb(0x1e2)),process[_0x2b15fb(0x183)]({'stop':_0x2b15fb(0x224)});else{if(_0x34be6b['toString']()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory('error',_0x918680+_0x2b15fb(0x1a4)),logHistory('error',_0x2b15fb(0x1e2)),process[_0x2b15fb(0x183)]({'stop':'kill'});else{if(_0x34be6b[_0x2b15fb(0x19d)]()['includes'](_0x2b15fb(0x1f1)))logHistory(_0x2b15fb(0x165),_0x918680+_0x2b15fb(0x242)),await pauseBot(pauseBotInterval),process[_0x2b15fb(0x183)]({'stop':_0x2b15fb(0x156)});else _0x34be6b['toString']()[_0x2b15fb(0x231)](_0x2b15fb(0x1b3))?logHistory(_0x2b15fb(0x165),_0x918680+_0x2b15fb(0x18c)):(logHistory(_0x2b15fb(0x165),_0x918680+_0x2b15fb(0x16c)),logging(_0x918680+_0x2b15fb(0x201),_0x34be6b),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x3c7cce,_0x269ea9){const _0x4f2a06=_0xb83bd3;return parseFloat(_0x3c7cce[_0x4f2a06(0x13e)](_0x269ea9));}function logging(_0x152d9b,_0x314dff=''){const _0x2b7e9b=_0xb83bd3;if(config[_0x2b7e9b(0x239)])console['log'](getTimeStamp()+':\x20'+config[_0x2b7e9b(0x13d)]+_0x2b7e9b(0x1c9)+_0x152d9b,_0x314dff);else console[_0x2b7e9b(0x19b)](getTimeStamp()+_0x2b7e9b(0x248)+botID+_0x2b7e9b(0x1c9)+_0x152d9b,_0x314dff);}function getServerTime(){const _0x4eb8bf=_0xb83bd3,_0x451c8f=new Date();return _0x451c8f['getFullYear']()+'/'+(_0x451c8f['getMonth']()+0x1)[_0x4eb8bf(0x19d)]()[_0x4eb8bf(0x1ab)](0x2,'0')+'/'+_0x451c8f[_0x4eb8bf(0x241)]()['toString']()[_0x4eb8bf(0x1ab)](0x2,'0')+'\x20'+_0x451c8f[_0x4eb8bf(0x22f)]()['toString']()['padStart'](0x2,'0')+':'+_0x451c8f[_0x4eb8bf(0x16f)]()[_0x4eb8bf(0x19d)]()[_0x4eb8bf(0x1ab)](0x2,'0')+':'+_0x451c8f['getSeconds']()['toString']()[_0x4eb8bf(0x1ab)](0x2,'0');}function getTimeStamp(){const _0x2dcfa1=_0xb83bd3,_0x1a7c77=shiftedTime();return _0x1a7c77[_0x2dcfa1(0x1aa)]()+'/'+(_0x1a7c77['getMonth']()+0x1)[_0x2dcfa1(0x19d)]()['padStart'](0x2,'0')+'/'+_0x1a7c77[_0x2dcfa1(0x241)]()[_0x2dcfa1(0x19d)]()['padStart'](0x2,'0')+'\x20'+_0x1a7c77['getHours']()[_0x2dcfa1(0x19d)]()[_0x2dcfa1(0x1ab)](0x2,'0')+':'+_0x1a7c77[_0x2dcfa1(0x16f)]()[_0x2dcfa1(0x19d)]()[_0x2dcfa1(0x1ab)](0x2,'0')+':'+_0x1a7c77[_0x2dcfa1(0x20b)]()[_0x2dcfa1(0x19d)]()[_0x2dcfa1(0x1ab)](0x2,'0');}function getDate(){const _0x36428f=_0xb83bd3,_0xfc567f=shiftedTime();return _0xfc567f[_0x36428f(0x1aa)]()+'/'+(_0xfc567f[_0x36428f(0x157)]()+0x1)[_0x36428f(0x19d)]()['padStart'](0x2,'0')+'/'+_0xfc567f[_0x36428f(0x241)]()[_0x36428f(0x19d)]()[_0x36428f(0x1ab)](0x2,'0');}function getHour(){const _0x5b1f72=_0xb83bd3,_0x4263d1=shiftedTime();return _0x4263d1['getHours']()[_0x5b1f72(0x19d)]()[_0x5b1f72(0x1ab)](0x2,'0');}function sleep(_0x3b7a78){return new Promise(_0x1924fd=>setTimeout(_0x1924fd,_0x3b7a78));}function shiftedTime(){const _0x4c0389=_0xb83bd3,_0x56e045=new Date();let _0x968037=_0x56e045;if(config&&config['timeshift']!==0x0)_0x968037=fns[_0x4c0389(0x174)](_0x56e045,{'hours':config[_0x4c0389(0x19a)]});return _0x968037;}