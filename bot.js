const _0x3a09f7=_0x2a80;(function(_0x4c5924,_0x4c73cb){const _0x310e4a=_0x2a80,_0x3023fe=_0x4c5924();while(!![]){try{const _0x3040d3=-parseInt(_0x310e4a(0x217))/0x1+-parseInt(_0x310e4a(0x16d))/0x2*(parseInt(_0x310e4a(0x1fb))/0x3)+parseInt(_0x310e4a(0x1a3))/0x4*(parseInt(_0x310e4a(0x1c6))/0x5)+parseInt(_0x310e4a(0x140))/0x6*(parseInt(_0x310e4a(0x1cd))/0x7)+-parseInt(_0x310e4a(0x248))/0x8+parseInt(_0x310e4a(0x222))/0x9*(parseInt(_0x310e4a(0x158))/0xa)+-parseInt(_0x310e4a(0x27c))/0xb*(parseInt(_0x310e4a(0x231))/0xc);if(_0x3040d3===_0x4c73cb)break;else _0x3023fe['push'](_0x3023fe['shift']());}catch(_0x35e6e2){_0x3023fe['push'](_0x3023fe['shift']());}}}(_0x190c,0x953a7));const _0x37fabd=function(){let _0xcbfedb=!![];return function(_0x349696,_0x3d0374){const _0x452abf=_0xcbfedb?function(){const _0x5b2d21=_0x2a80;if(_0x3d0374){const _0x5ef51f=_0x3d0374[_0x5b2d21(0x169)](_0x349696,arguments);return _0x3d0374=null,_0x5ef51f;}}:function(){};return _0xcbfedb=![],_0x452abf;};}(),_0x136fbe=_0x37fabd(this,function(){const _0x39d62b=_0x2a80;return _0x136fbe[_0x39d62b(0x237)]()[_0x39d62b(0x12e)](_0x39d62b(0x1d3))[_0x39d62b(0x237)]()[_0x39d62b(0x1e3)](_0x136fbe)[_0x39d62b(0x12e)](_0x39d62b(0x1d3));});_0x136fbe();'use strict';const ccxt=require(_0x3a09f7(0x244))['pro'],low=require(_0x3a09f7(0x211)),FileSync=require(_0x3a09f7(0x116)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x3a09f7(0x256))[_0x3a09f7(0x145)],util=require(_0x3a09f7(0x22e)),argv=require(_0x3a09f7(0x159))(process[_0x3a09f7(0x1dd)][_0x3a09f7(0x258)](0x2))[_0x3a09f7(0x1dd)],path=require(_0x3a09f7(0x1eb));let exchange;global[_0x3a09f7(0x214)]={},global['change']={};const exceptions={'binance':[_0x3a09f7(0x121),_0x3a09f7(0x1fa),'XEM/BUSD',_0x3a09f7(0x25e),'YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x3a09f7(0x179)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x3a09f7(0x242)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];function _0x2a80(_0x8d309c,_0x21cd24){const _0x454760=_0x190c();return _0x2a80=function(_0x136fbe,_0x37fabd){_0x136fbe=_0x136fbe-0x109;let _0x190c1e=_0x454760[_0x136fbe];return _0x190c1e;},_0x2a80(_0x8d309c,_0x21cd24);}const serverversion=require(_0x3a09f7(0x20c))[_0x3a09f7(0x10f)],botID=process[_0x3a09f7(0x1dd)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x3a09f7(0x233)](botID)&&(console[_0x3a09f7(0x17e)](_0x3a09f7(0x1ff)+botID+_0x3a09f7(0x276)),killBot());const userID=process[_0x3a09f7(0x1dd)][0x3]||'',configpath=userID?_0x3a09f7(0x27b)+userID+'/':_0x3a09f7(0x27b),logspath=userID?_0x3a09f7(0x23e)+userID+'/':_0x3a09f7(0x23e),loggerfile=fs[_0x3a09f7(0x1b7)](logspath+_0x3a09f7(0x170),{'flags':'a'});!fs[_0x3a09f7(0x1ac)](configpath)&&fs[_0x3a09f7(0x252)](configpath);!fs[_0x3a09f7(0x1ac)](logspath)&&fs[_0x3a09f7(0x252)](logspath);const configfile=configpath+'bot-'+botID+_0x3a09f7(0x285),logfile=configpath+_0x3a09f7(0x17b)+botID+_0x3a09f7(0x176),performancefile=configpath+_0x3a09f7(0x17b)+botID+_0x3a09f7(0x265),coinresultsfile=configpath+_0x3a09f7(0x17b)+botID+_0x3a09f7(0x225),settingsfile=configpath+_0x3a09f7(0x193),securefile=configpath+_0x3a09f7(0x25d),configbackuppath=configpath+_0x3a09f7(0x20a),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3a09f7(0x1be)]({'logs':[],'version':serverversion})[_0x3a09f7(0x19c)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x3a09f7(0x1be)]({'data':[],'version':serverversion})[_0x3a09f7(0x19c)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x3a09f7(0x19c)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3a09f7(0x1be)]({'coins':[],'version':serverversion})[_0x3a09f7(0x19c)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x3a09f7(0x26a),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x5ba686=>{console['log'](_0x5ba686);},'simple':_0x30e30e=>{const _0x5680ee=_0x3a09f7;console[_0x5680ee(0x17e)](_0x30e30e),loggerfile['write'](util[_0x5680ee(0x132)](_0x30e30e)+'\x0a');},'full':async(_0x38455e,_0x30d812='')=>{const _0x286f51=_0x3a09f7;let _0x4ec0cd;if(config['showname'])_0x4ec0cd=getTimeStamp()+':\x20'+config[_0x286f51(0x195)]+'\x20>\x20'+_0x38455e;else _0x4ec0cd=getTimeStamp()+_0x286f51(0x200)+botID+'\x20>\x20'+_0x38455e;console[_0x286f51(0x17e)](_0x4ec0cd),loggerfile['write'](util[_0x286f51(0x132)](_0x4ec0cd)+'\x0a'),_0x30d812&&(console[_0x286f51(0x17e)](_0x30d812),loggerfile[_0x286f51(0x19c)](util[_0x286f51(0x132)](_0x30d812)+'\x0a'));},'debug':async(_0x5243de,_0x585081='')=>{const _0x246a84=_0x3a09f7;let _0x582ccb;if(config['showname'])_0x582ccb=getTimeStamp()+':\x20'+config[_0x246a84(0x195)]+_0x246a84(0x205)+_0x5243de;else _0x582ccb=getTimeStamp()+_0x246a84(0x200)+botID+'\x20>\x20[DEBUG]\x20'+_0x5243de;if(debugging)console[_0x246a84(0x17e)](_0x582ccb);loggerfile['write'](util[_0x246a84(0x132)](_0x582ccb)+'\x0a');if(_0x585081){if(debugging)console['log'](_0x585081);loggerfile[_0x246a84(0x19c)](util['format'](_0x585081)+'\x0a');}}};process['on'](_0x3a09f7(0x204),function(_0x5f028e){const _0x3a2cb8=_0x3a09f7;logger[_0x3a2cb8(0x224)](_0x5f028e);});settings[_0x3a09f7(0x1cf)]!=config[_0x3a09f7(0x1cf)]&&updateTimeshift(settings['timeshift']);settings[_0x3a09f7(0x1d8)]!=config[_0x3a09f7(0x1d8)]&&updateOnepagemode(settings[_0x3a09f7(0x1d8)]);process[_0x3a09f7(0x15b)]({'started':_0x3a09f7(0x173)},_0x230bb3=>{}),initializeProcessListeners();function proxyEmit(_0x198896,_0x5ca834=null){const _0x5ac2f3=_0x3a09f7;process[_0x5ac2f3(0x15b)]({'function':_0x198896,'args':_0x5ca834},_0x1b644d=>{});}function initializeProcessListeners(){const _0x132440=_0x3a09f7;process['on'](_0x132440(0x17f),_0x3fdab8=>{const _0x35dcca=_0x132440;switch(Object[_0x35dcca(0x12a)](_0x3fdab8)[0x0]){case _0x35dcca(0x1cf):_0x3fdab8[_0x35dcca(0x1cf)]!=undefined&&(settings[_0x35dcca(0x1cf)]=_0x3fdab8[_0x35dcca(0x1cf)],updateTimeshift(settings[_0x35dcca(0x1cf)]));break;case _0x35dcca(0x1d8):_0x3fdab8[_0x35dcca(0x1d8)]!=undefined&&(settings[_0x35dcca(0x1d8)]=_0x3fdab8['onepagemode'],updateOnepagemode(settings[_0x35dcca(0x1d8)]));break;case _0x35dcca(0x123):_0x3fdab8['bots']!=undefined&&(bots=JSON['parse'](_0x3fdab8[_0x35dcca(0x123)]),proxyEmit(_0x35dcca(0x123),bots));break;case'function':switch(_0x3fdab8['function']){case _0x35dcca(0x196):initclient();break;case _0x35dcca(0x1a6):toggleBotMode();break;case _0x35dcca(0x1b2):emitHistory(_0x3fdab8[_0x35dcca(0x166)]);break;case _0x35dcca(0x16e):deleteHistoryAlerts(_0x3fdab8[_0x35dcca(0x166)]);break;case'getPortfolio':getPortfolio(_0x3fdab8[_0x35dcca(0x166)]);break;case _0x35dcca(0x241):storeConfiguration(_0x3fdab8[_0x35dcca(0x166)]);break;case _0x35dcca(0x15e):storeHeadless(_0x3fdab8[_0x35dcca(0x166)]);break;case _0x35dcca(0x16c):storeFiat(_0x3fdab8['args']);break;case _0x35dcca(0x13e):resetHistory();break;case _0x35dcca(0x119):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x3fdab8[_0x35dcca(0x166)]);break;case _0x35dcca(0x17d):cancelLoading();break;case _0x35dcca(0x133):showConfig();break;case _0x35dcca(0x11f):sendMetricsTelegram();break;case _0x35dcca(0x154):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x5401fd=null,_0x35a03e=![]){const _0x88de84=_0x3a09f7;logger[_0x88de84(0x259)](_0x88de84(0x1b8)+(_0x5401fd&&_0x5401fd[_0x88de84(0x254)]>0x0?_0x88de84(0x25a)+_0x5401fd[_0x88de84(0x1c9)](','):'no\x20additional\x20symbols')+_0x88de84(0x1a1)+(_0x35a03e?_0x88de84(0x181):'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0x35a03e)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x88de84(0x131)]!=''&&config[_0x88de84(0x131)]!='***'){if(_0x35a03e){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x4538e3){if(_0x4538e3[_0x88de84(0x237)]()[_0x88de84(0x15d)]('AuthenticationError')){handleErrorNoStop(_0x4538e3,'loadSymbols()');return;}else{handleError(_0x4538e3,'loadSymbols()');return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x5401fd);const _0x3c2d23=await getCoins();[currentCoins,currentCoinsAll]=_0x3c2d23,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x88de84(0x254)]==0x0&&allOpenOrders[_0x88de84(0x254)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x195e1d=_0x3a09f7;exchangeStopped=!![],await exchange[_0x195e1d(0x1c5)]();}async function reloadExchange(){const _0x27afac=_0x3a09f7;logger['debug'](_0x27afac(0x137));while(lockOrders!=ORDERS[_0x27afac(0x242)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x27afac(0x259)](_0x27afac(0x148)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x1ea9cc=config[_0x3a09f7(0x12c)],_0x499528=config[_0x3a09f7(0x131)],_0x4cf78d=config[_0x3a09f7(0x1c8)]){const _0x79f0fd=_0x3a09f7;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x1ea9cc)&&(logHistory(_0x79f0fd(0x171),_0x79f0fd(0x109)+_0x1ea9cc+_0x79f0fd(0x175)),killBot());const _0x224b1c=ccxt[_0x1ea9cc[_0x79f0fd(0x198)]()];exchange=new _0x224b1c({'apiKey':_0x499528,'secret':_0x4cf78d,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x1f14db=_0x3a09f7;let _0x240c1c=config[_0x1f14db(0x1c7)]==_0x1f14db(0x21b)?_0x1f14db(0x21b):_0x1f14db(0x26e),_0x75b644=!allSymbols['includes'](_0x240c1c+_0x1f14db(0x19e))?_0x1f14db(0x10a):'USD',_0x3bf35a=!allSymbols[_0x1f14db(0x15d)](_0x240c1c+_0x1f14db(0x1f7))?_0x75b644:_0x1f14db(0x239);stablecoins={'eur':{'coin':''+_0x240c1c+_0x3bf35a,'symbol':_0x240c1c+'/'+_0x3bf35a},'usd':{'coin':''+_0x240c1c+_0x75b644,'symbol':_0x240c1c+'/'+_0x75b644}};}async function initwsCcxt(_0x2266a6){const _0x5cf6e4=_0x3a09f7;_0x2266a6==null&&(_0x2266a6=[],config['portfolio'][_0x5cf6e4(0x23d)](_0x7a37cf=>{const _0x5301a9=_0x5cf6e4;if(!_0x7a37cf[_0x5301a9(0x177)]&&_0x7a37cf[_0x5301a9(0x1d7)]!=config[_0x5301a9(0x1c7)])_0x2266a6[_0x5301a9(0x281)](_0x7a37cf[_0x5301a9(0x174)]);}));if(!_0x2266a6['includes'](stablecoins[_0x5cf6e4(0x27a)][_0x5cf6e4(0x174)]))_0x2266a6[_0x5cf6e4(0x281)](stablecoins[_0x5cf6e4(0x27a)][_0x5cf6e4(0x174)]);if(!_0x2266a6['includes'](stablecoins[_0x5cf6e4(0x1bc)][_0x5cf6e4(0x174)]))_0x2266a6[_0x5cf6e4(0x281)](stablecoins[_0x5cf6e4(0x1bc)][_0x5cf6e4(0x174)]);if(!_0x2266a6[_0x5cf6e4(0x15d)](_0x5cf6e4(0x157)+config['basecoin']))_0x2266a6[_0x5cf6e4(0x281)]('BNB/'+config[_0x5cf6e4(0x1c7)]);loadCoins(_0x2266a6);const _0x401cb1=async _0x22d44c=>{const _0x1eaffb=_0x5cf6e4,_0xd4304e=await exchange['fetchTicker'](_0x22d44c);global[_0x1eaffb(0x214)][noslash(_0xd4304e[_0x1eaffb(0x174)])]=_0xd4304e[_0x1eaffb(0x16f)];while(!![]){if(!botPaused)try{const _0x461336=await exchange['watchTrades'](_0x22d44c);global[_0x1eaffb(0x214)][noslash(_0x461336[0x0][_0x1eaffb(0x174)])]=_0x461336[0x0][_0x1eaffb(0x26c)],await sleep(0x3e8);}catch(_0x1440ed){if(!exchangeStopped)await handleError(_0x1440ed,'watchTrades',_0x22d44c);}else await sleep(0x3e8);}},_0x295223=async _0x6f7f92=>{const _0x26054e=_0x5cf6e4;while(!![]){if(!botPaused)try{const _0x41cd28=await exchange['fetchTicker'](_0x6f7f92);global[_0x26054e(0x1fc)][_0x41cd28[_0x26054e(0x174)]]=_0x41cd28[_0x26054e(0x1b0)],await sleep(0x3c*0x3e8);}catch(_0x514b42){if(!exchangeStopped)await handleError(_0x514b42,'fetchTickers',_0x6f7f92);}else await sleep(0x3e8);}},_0x281d49=async()=>{const _0x5bc3dd=_0x5cf6e4;while(!![]){if(!botPaused)try{const _0x1db2d8=await exchange[_0x5bc3dd(0x13f)]();_0x1db2d8[_0x5bc3dd(0x23d)](_0x54cb84=>{updateNumberCoinsCcxt(_0x54cb84);});}catch(_0x2912fb){if(!exchangeStopped)await handleError(_0x2912fb,_0x5bc3dd(0x13f));}else await sleep(0x3e8);}};_0x2266a6[_0x5cf6e4(0x23d)](async _0x546f3c=>{_0x401cb1(_0x546f3c),_0x295223(_0x546f3c);}),!wsEventsSet&&(wsEventsSet=!![],_0x281d49(),watchTransactions());}async function watchTransactions(){const _0x208aac=_0x3a09f7;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xb9279c=await getCoins(),[_0x30dd11,_0x537b47]=_0xb9279c;let _0x305e9f=[];currentCoins[_0x208aac(0x23d)](_0x5eda98=>{const _0x3588ec=_0x208aac,_0x1f6b94=_0x30dd11['find'](_0x220e8c=>_0x220e8c[_0x3588ec(0x1d7)]==_0x5eda98['coin']);_0x1f6b94&&(_0x5eda98['number']!=_0x1f6b94[_0x3588ec(0x228)]&&_0x305e9f[_0x3588ec(0x281)]({'coin':_0x5eda98[_0x3588ec(0x1d7)],'symbol':_0x5eda98[_0x3588ec(0x174)],'number':Number(formatResult(_0x1f6b94[_0x3588ec(0x228)]-_0x5eda98[_0x3588ec(0x228)],0x8))}));});if(_0x305e9f[_0x208aac(0x254)]==0x1&&!blockTransactionDetection){logger[_0x208aac(0x259)](_0x208aac(0x1e8)+lastFees[_0x208aac(0x24a)]+_0x208aac(0x1f6)+lastFees[_0x208aac(0x117)]);if(!lastFees['currency']||_0x305e9f[0x0][_0x208aac(0x1d7)]!=lastFees[_0x208aac(0x24a)]||_0x305e9f[0x0][_0x208aac(0x228)]>lastFees[_0x208aac(0x117)]){let _0x3f6eff;if(_0x305e9f[0x0][_0x208aac(0x1d7)]!=config[_0x208aac(0x1c7)]){let _0xdfc753=global[_0x208aac(0x214)][noslash(_0x305e9f[0x0]['symbol'])];_0x3f6eff=_0x305e9f[0x0]['reverse']?0x1/_0xdfc753:_0xdfc753;}else _0x3f6eff=0x1;_0x305e9f[0x0][_0x208aac(0x26c)]=_0x3f6eff,delete _0x305e9f[0x0][_0x208aac(0x174)];let _0x80a8f8=[],_0x19a518=[...config['liquidity']]||[],_0x65be7b=config[_0x208aac(0x127)];_0x19a518[_0x208aac(0x182)]((_0x2a9f2,_0x252ee7)=>_0x2a9f2[_0x208aac(0x1b4)]>_0x252ee7[_0x208aac(0x1b4)]?-0x1:_0x252ee7[_0x208aac(0x1b4)]>_0x2a9f2[_0x208aac(0x1b4)]?0x1:0x0);const _0x20546b=getDate();if(_0x19a518[0x0]){const _0xd6beba=fns['parse'](_0x19a518[0x0][_0x208aac(0x1b4)],_0x208aac(0x1fe),new Date()),_0x4828a2=fns[_0x208aac(0x15c)](_0x20546b,'yyyy/MM/dd',new Date());if(fns[_0x208aac(0x1da)](_0xd6beba,_0x4828a2)){_0x80a8f8=_0x19a518[0x0][_0x208aac(0x272)];const _0x1015e0=_0x80a8f8['find'](_0x4dd5a5=>_0x4dd5a5[_0x208aac(0x1d7)]==_0x305e9f[0x0][_0x208aac(0x1d7)]);_0x1015e0?_0x1015e0[_0x208aac(0x228)]+=_0x305e9f[0x0][_0x208aac(0x228)]:_0x80a8f8[_0x208aac(0x281)](_0x305e9f[0x0]);const _0x4d58dd=_0x65be7b['find'](_0x3fb329=>_0x3fb329[_0x208aac(0x1b4)]==_0x20546b);_0x4d58dd[_0x208aac(0x272)]=_0x80a8f8;}else _0x65be7b[_0x208aac(0x281)]({'date':_0x20546b,'changes':[_0x305e9f[0x0]]});}const _0x1bffb6=_0x65be7b[_0x208aac(0x15f)](_0x326544=>_0x326544[_0x208aac(0x1b4)]==_0x20546b);if(_0x1bffb6){let _0x455abd=!![];_0x1bffb6['changes']['forEach'](_0x2ba6ee=>{const _0x19a766=_0x208aac;if(_0x2ba6ee[_0x19a766(0x228)]!=0x0)_0x455abd=![];}),_0x455abd&&(_0x65be7b=_0x65be7b[_0x208aac(0x190)](_0x50aeda=>{return _0x50aeda['date']!=_0x20546b;}));}let _0xdfbdd0=dbConfig[_0x208aac(0x10e)](_0x208aac(0x1d4))[_0x208aac(0x15f)]({'botID':botID})['value']();_0xdfbdd0&&(dbConfig['get'](_0x208aac(0x1d4))[_0x208aac(0x15f)]({'botID':botID})[_0x208aac(0x24f)]({'liquidity':_0x65be7b})[_0x208aac(0x19c)](),config[_0x208aac(0x127)]=_0x65be7b),logHistory(_0x208aac(0x1ec),'Portfolio\x20change\x20detected:\x20'+Math[_0x208aac(0x1ad)](_0x305e9f[0x0][_0x208aac(0x228)])+'\x20'+_0x305e9f[0x0]['coin']+'\x20'+(_0x305e9f[0x0][_0x208aac(0x228)]>0x0?_0x208aac(0x21d):'removed')+_0x208aac(0x27f)),proxyEmit(_0x208aac(0x219),emittedConfiguration());}else logger[_0x208aac(0x259)](_0x208aac(0x210)+Math['abs'](_0x305e9f[0x0][_0x208aac(0x228)])+'\x20'+_0x305e9f[0x0][_0x208aac(0x1d7)]+'\x20'+(_0x305e9f[0x0][_0x208aac(0x228)]>0x0?'added':'removed'));transactionDetected=!![],currentCoins=_0x30dd11,currentCoinsAll=_0x537b47;}await sleep(watchTransactionsInterval);}catch(_0x2b1323){if(!exchangeStopped)await handleError(_0x2b1323,_0x208aac(0x14c));}else await sleep(0x3e8);}}async function loadSymbols(_0xc89b9d=config['exchange'],_0x71beca=![]){const _0x2853b3=_0x3a09f7;if(allSymbols&&!_0x71beca)return;try{markets=await exchange[_0x2853b3(0x273)](),allSymbols=exchange[_0x2853b3(0x1b5)][_0x2853b3(0x190)](_0x303a46=>{const _0x453baf=_0x2853b3;let _0x439e62=![];const _0x4fb194=exceptions[_0xc89b9d['toLowerCase']()]||[];return _0x4fb194[_0x453baf(0x23d)](_0x318a61=>{const _0x5d38a3=_0x453baf;if(_0x303a46[_0x5d38a3(0x15d)](_0x318a61))_0x439e62=!![];}),!_0x439e62;});}catch(_0x26b8dc){throw _0x26b8dc;}}async function initclient(){const _0x4a80eb=_0x3a09f7;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4a80eb(0x1c1),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5bbab2=getNormalizedPerformance();emitPerformance(_0x5bbab2),await getStartingBalances(_0x5bbab2);}async function toggleBotMode(){const _0x140acc=_0x3a09f7;let _0x297866=dbConfig['get']('bot')[_0x140acc(0x15f)]({'botID':botID})[_0x140acc(0x260)]();if(_0x297866){const _0x3094f3=!_0x297866['headless'];dbConfig[_0x140acc(0x10e)]('bot')[_0x140acc(0x15f)]({'botID':botID})[_0x140acc(0x24f)]({'headless':_0x3094f3})[_0x140acc(0x19c)](),config[_0x140acc(0x199)]=_0x3094f3,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0xef5468=>{});}async function loadCoins(_0x460642){const _0x45a635=_0x3a09f7;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x5e7163,_0x12e33e=0x0,_0x427f45=0x0;_0x460642[_0x45a635(0x23d)](_0x2c1706=>{const _0x359e6d=_0x45a635;loading[_0x359e6d(0x183)][_0x359e6d(0x281)](_0x2c1706);}),loadingCanceled=![];let _0x1f34c6=![];while(_0x5e7163!=_0x460642[_0x45a635(0x254)]){_0x5e7163=0x0,_0x460642[_0x45a635(0x23d)](_0x1cb86c=>{const _0x264c5d=_0x45a635;global[_0x264c5d(0x214)][noslash(_0x1cb86c)]&&(loading['remainingSymbols']=loading[_0x264c5d(0x183)][_0x264c5d(0x190)](_0x11744c=>_0x11744c!=_0x1cb86c),_0x5e7163++);}),loading['progress']=Math[_0x45a635(0x201)](_0x5e7163/_0x460642[_0x45a635(0x254)]*0x64);loading[_0x45a635(0x1bf)]!=0x64&&(_0x427f45>0x1e*0x5&&(loading[_0x45a635(0x22a)]=!![],emitLoadingProgress()),_0x427f45>0x78*0x5&&!_0x1f34c6&&(loading['cancel']=!![],emitLoadingProgress(),_0x1f34c6=!![],logHistory(_0x45a635(0x171),_0x45a635(0x1e9)+loading[_0x45a635(0x183)]['join'](',\x20')+_0x45a635(0x275)),logHistory(_0x45a635(0x171),_0x45a635(0x191)+loadCoinsRetryInterval/0xea60+_0x45a635(0x185)),pidCoinReloading=setTimeout(()=>{process['send']({'stop':'restart'},_0x32885e=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x45a635(0x238)]=!![],emitLoadingProgress();break;}else _0x5e7163!=_0x12e33e&&(_0x12e33e=_0x5e7163,emitLoadingProgress()),_0x427f45++,await sleep(0xc8);}_0x5e7163==_0x460642[_0x45a635(0x254)]&&(coinsLoaded=!![],process[_0x45a635(0x15b)]({'status':_0x45a635(0x13d),'live':'running'},_0x2c4c16=>{}),_0x1f34c6&&logHistory(_0x45a635(0x1ec),_0x45a635(0x142)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x14c393=_0x3a09f7;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x14c393(0x1bd)});}function emitLoadingProgress(){const _0x317bf2=_0x3a09f7;proxyEmit(_0x317bf2(0x1b9),loading);}async function getFiat(){const _0xf745bb=_0x3a09f7;let _0x3306b1=global[_0xf745bb(0x214)][stablecoins[_0xf745bb(0x27a)]['coin']],_0x4623af=global['ticker'][stablecoins[_0xf745bb(0x1bc)][_0xf745bb(0x1d7)]];return{'eur':Number(_0x3306b1),'usd':Number(_0x4623af)};}function capitalize(_0x4c7c4b){const _0x483925=_0x3a09f7;return _0x4c7c4b[_0x483925(0x17c)](0x0,0x1)[_0x483925(0x25c)]()+_0x4c7c4b[_0x483925(0x17c)](0x1);}function supportedExchanges(){const _0x55c668=_0x3a09f7,_0x4b0092=['ws',_0x55c668(0x122),'fetchTicker','watchTrades',_0x55c668(0x13f),_0x55c668(0x249),_0x55c668(0x1af),_0x55c668(0x138),_0x55c668(0x278),_0x55c668(0x189)];let _0x59a65f=[],_0x265ac5=[],_0x1a4af5=ccxt[_0x55c668(0x223)];_0x1a4af5[_0x55c668(0x23d)](_0x5309a4=>{const _0x2e1f57=_0x55c668;try{const _0x55e811=new ccxt[_0x5309a4]();if(_0x55e811['has']['ws'])_0x265ac5[_0x2e1f57(0x281)](_0x55e811);}catch(_0x29af05){}}),_0x265ac5[_0x55c668(0x23d)](_0x306b44=>{const _0x2c442b=_0x55c668;let _0x174ddc=0x0;_0x4b0092[_0x2c442b(0x23d)](_0x16ceba=>{const _0x411034=_0x2c442b;_0x16ceba in _0x306b44[_0x411034(0x262)]&&_0x306b44['has'][_0x16ceba]&&_0x174ddc++;}),_0x174ddc==_0x4b0092['length']&&_0x59a65f[_0x2c442b(0x281)](capitalize(_0x306b44['id']));});let _0x256404=[];return _0x1a4af5[_0x55c668(0x23d)](_0x5d7415=>{const _0x19ad55=_0x55c668;_0x5d7415=capitalize(_0x5d7415);if(!_0x59a65f[_0x19ad55(0x15d)](_0x5d7415))_0x256404['push'](_0x5d7415);}),_0x59a65f;}function setStartDatePerformance(){const _0xe43d4=_0x3a09f7;if(config&&config[_0xe43d4(0x127)][0x0][_0xe43d4(0x272)][_0xe43d4(0x254)]!=0x0){const _0x434198=config[_0xe43d4(0x127)][0x0]['changes'];dbPerformance[_0xe43d4(0x10e)]('data')['find']({'date':config[_0xe43d4(0x14e)]})['assign']({'coins':_0x434198})['write']();}}async function recreateCoinResults(){const _0xcdd370=_0x3a09f7;let _0x94368b,_0x5d6fb0=[];try{const _0xe94a4b=fns[_0xcdd370(0x132)](fns['parseISO'](config['startdate'][_0xcdd370(0x1d2)](/\//g,'-')),_0xcdd370(0x165));for(const _0x4e6859 of currentCoins){if(_0x4e6859['coin']!=config[_0xcdd370(0x1c7)]){let _0x2ac5d0=0x0,_0x406a9f,_0x40a6f1;_0x94368b=await getAllEventOrders(_0x4e6859['symbol']);if(_0x94368b[_0xcdd370(0x254)]>0x0)_0x94368b[_0xcdd370(0x23d)](_0x289ca5=>{const _0x229038=_0xcdd370,_0x439a4a=_0x4e6859['symbol'][_0x229038(0x15d)](config['basecoin']+'/');_0x5d6fb0[_0x229038(0x281)]({'datetime':_0x289ca5[_0x229038(0x26f)],'coin':_0x4e6859[_0x229038(0x1d7)],'symbol':_0x4e6859[_0x229038(0x174)],'side':_0x289ca5[_0x229038(0x1a8)],'reverse':_0x439a4a,'amount':formatResult(_0x289ca5[_0x229038(0x141)],0x8),'filled':formatResult(_0x289ca5[_0x229038(0x141)],0x8),'price':formatResult(_0x289ca5[_0x229038(0x26c)],0x8)}),_0x2ac5d0=_0x289ca5[_0x229038(0x1a8)]==_0x229038(0x1aa)?_0x2ac5d0+_0x289ca5[_0x229038(0x141)]:_0x2ac5d0-_0x289ca5['filled'];if(!_0x40a6f1)_0x40a6f1=_0x289ca5[_0x229038(0x26c)];});_0x406a9f=_0x4e6859['number']-_0x2ac5d0;let _0xee350c;config[_0xcdd370(0x127)]['forEach'](_0x2a25dd=>{const _0x2387d0=_0xcdd370;!_0xee350c&&(_0xee350c=_0x2a25dd[_0x2387d0(0x272)][_0x2387d0(0x15f)](_0x571a6d=>_0x571a6d[_0x2387d0(0x1d7)]==_0x4e6859[_0x2387d0(0x1d7)]),_0xee350c&&(_0x406a9f=_0xee350c[_0x2387d0(0x228)],_0x40a6f1=_0xee350c[_0x2387d0(0x26c)]));});let _0x15eb13=dbCoinResults['get'](_0xcdd370(0x18e))['find']({'coin':_0x4e6859[_0xcdd370(0x1d7)]})[_0xcdd370(0x260)]();_0x15eb13={'coin':_0x4e6859[_0xcdd370(0x1d7)],'number':_0x406a9f,'breakeven':_0x40a6f1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0xcdd370(0x10e)](_0xcdd370(0x18e))[_0xcdd370(0x15f)]({'coin':_0x4e6859['coin']})[_0xcdd370(0x24f)](_0x15eb13)['write']();}}_0x5d6fb0['sort']((_0xe2a4cd,_0x1b72d9)=>_0xe2a4cd['datetime']>_0x1b72d9['datetime']?0x1:_0x1b72d9[_0xcdd370(0x26f)]>_0xe2a4cd['datetime']?-0x1:0x0);let _0xf1cc64=0x0;for(let _0x397d1f of _0x5d6fb0){await updateCoinResults(_0x397d1f,!![]);}}catch(_0x4d0e06){await handleError(_0x4d0e06,_0xcdd370(0x118));}}function _0x190c(){const _0x4065a0=['data','Cooldown\x20ended\x20-\x20balancing\x20resumed','\x20|\x20','\x20minutes\x20-\x20','12BbbBio','ordertype','min','toggleBotMode','\x20hour','side','concat','buy','getMinutes','existsSync','abs','2\x20-\x20FILLED\x20unknown\x20order:\x20','createOrder','percentage','net-fiat','emitHistory','exec','date','symbols','Exchange','createWriteStream','Reset\x20|\x20','coin-loading-progress','ORDERS.UNLOCKING','type','usd','loading-canceled','defaults','progress','2.3.5','balances','ORDERS.LOCKED','\x20order:\x20','rightTxt','close','1908470LCLxYb','basecoin','apiSecret','join','\x20not\x20responding','average','BUSD','5233627qOmRIx','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','timeshift','time','string','replace','(((.+)+)+)+$','bot','Net\x20','total','coin','onepagemode','ORDERS.UNLOCKED','isEqual','getDate','\x20|\x20lock\x20orders:\x20','argv','map','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','emojibuy','toFixed','padStart','constructor','cloneDeep','2\x20-\x20FILLED\x20known\x20order:\x20','\x20portfolio:</b>\x20\x0a\x0a','startnumber','Fees\x20|\x20currency:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','limit','path','success','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','secure','portfolio','openOrders','RequestTimeout','<b>','open','orderstatus','split','\x20|\x20highest:\x20','/EUR','Bot\x20','getPortfolio(0)','HOT/BTC','9VBZzrO','change','realized','yyyy/MM/dd','Error:\x20Invalid\x20argument\x20',':\x20Bot\x20','round','Unfilled\x20order(s)\x20canceled\x20after\x20','Order\x20filled:\x20','uncaughtException','\x20>\x20[DEBUG]\x20','Limit\x20(low-margin)','recent20','max','final','/backup/','DDoSProtection','./version.json','InsufficientFunds','emojisell','limit-high','Fee\x20discount\x20refund\x20detected:\x20','lowdb','************','sortBy','ticker','Binance','clientOrderId','1117001cRudND','net-basecoin','configuration','random','ETH','getMonth','added','none','recreate','2\x20-\x20Handled\x20open\x20orders','recovery','277821hYSHiz','exchanges','simple','-results.json','startprice','splice','number','Order\x20amount\x20is\x20invalid:\x20','timeout','Transaction\x20detection\x20unblocked','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','valid','util','ExchangeNotAvailable','Invalid\x20API\x20key\x20or\x20secret\x20entered','4836384bxHojV','decrypt','test','limit-low','-------------------------------\x0a','UNLOCKING','toString','cancel','EUR','botID','Invalid\x20quantity','getSeconds','forEach','./logs/','canceled','<b>Bot\x20','storeConfiguration','UNLOCKED','closed','ccxt','offset','fiat','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','535480vlyRnC','cancelOrder','currency','<pre>','threshold','full','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','assign','event','starting-balance-','mkdirSync','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','length','precision','hybrid-crypto-js','showname','slice','debug','additional\x20symbols\x20','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','toUpperCase','bb-secure.json','NANO/','</pre>','value','settings','has','writeFile','market','-performance.json','1\x20-\x20FILLED:\x20','BNB','shift','privateKey','sha256','Unknown\x20error\x20occured','price','fee','BTC','datetime','No\x20more\x20open\x20orders\x20-\x20','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','changes','loadMarkets','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20-\x20bot\x20not\x20started',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20change','fetchClosedOrders','remove','eur','./config/','11NADtXj','timer:','\x20has\x20a\x2024h\x20drop\x20of\x20','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','Manual\x20balancing\x20required','push','buys','getCoinNumber()','no\x20open\x20orders','-config.json','\x20API\x20key\x20is\x20invalid','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','USDT','change24h','orderId','configuration-stored','get','version','getHours','Net\x20effect','indexOf','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','fees','USD','lowdb/adapters/FileSync','highest','recreateCoinResults()','getStartingBalances','2.6.0','Saving\x20configuration','starting-balances','\x20:\x20','initial','sendMetricsTelegram','1\x20-\x20Handle\x20open\x20orders','DAI/','fetchTickers','bots','status','getTime','order','liquidity','getCoins()','restart','keys','LOCKED','exchange','differenceInSeconds','search','2.5.0','cost','apiKey','format','showConfig','add','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','%\x20(','Initiating\x20exchange\x20reload','fetchOpenOrders','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20API\x20secret\x20is\x20invalid','leftTxt','delta','enabled','resetHistory','watchOrders','6ZnlzFr','filled','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','getPortfolio(2)','cancelOrders()','Crypt','breakeven','\x20orders\x20in\x20less\x20than\x20','Executing\x20exchange\x20reload','1\x20-\x20Validate\x20orders:\x20','ongoing','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','watchTransactions','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','startdate','API-key\x20format\x20invalid','Order(s)\x20not\x20validated\x20after\x20','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20closed\x20the\x20connection','\x20minutes','sendPortfolioTelegram','Resetting\x20bot\x20history','stringify','BNB/','290dIcrNL','yargs/yargs','\x20metrics:</b>\x20\x0a\x0a','send','parse','includes','storeHeadless','find','timestamp','reverse','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','set','kill','yyyy-MM-dd\x27T\x27HH:mm:ss','args','sells','cooldown','apply','amount','logs','storeFiat','393158JdpTnN','deleteHistoryAlerts','last','/output-000.log','error','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','running','symbol','\x20exchange','-events.json','excluded','limits','freeze','fetchTicker','bot-','substring','cancelLoading','log','message','performance','exchange\x20reloaded','sort','remainingSymbols','entries','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','sell','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','customId','fetchBalance','page','event-history','target','AuthenticationError','coins','getFullYear','filter','Pausing\x20for\x20','error\x20while\x20deleting\x20files:\x20','bb-settings.json','3\x20-\x20handling\x20FILLED\x20order:\x20','botname','initclient','unlinkSync','toLowerCase','headless','padEnd','trade','write','distribution','/USD'];_0x190c=function(){return _0x4065a0;};return _0x190c();}async function getAllEventOrders(_0x26d86c){const _0xdd726c=_0x3a09f7;let _0x28115e=[],_0x4ae854=dbLogs['get']('logs')[_0xdd726c(0x190)](_0x1fcbc2=>{const _0x3eb41d=_0xdd726c,_0x2eb70c=_0x1fcbc2['event']['toLowerCase']();return _0x2eb70c['includes'](_0x26d86c[_0x3eb41d(0x198)]())&&(_0x2eb70c[_0x3eb41d(0x15d)](_0x3eb41d(0x264))&&_0x2eb70c[_0x3eb41d(0x15d)](_0x3eb41d(0x126))||_0x2eb70c['includes'](_0x3eb41d(0x141))&&_0x2eb70c[_0x3eb41d(0x15d)]('order'));})['sortBy'](_0xdd726c(0x1d0))[_0xdd726c(0x260)]();return _0x4ae854[_0xdd726c(0x23d)](_0x14eb89=>{const _0x293bbb=_0xdd726c,_0x78d5fc=_0x14eb89['event'][_0x293bbb(0x15d)]('sell')?_0x293bbb(0x186):_0x293bbb(0x1aa),_0x480201=/#([0-9]|\.)+\s/i,_0x53cb68=Number(_0x480201['exec'](_0x14eb89[_0x293bbb(0x250)])[0x0][_0x293bbb(0x258)](0x1)),_0x555a86=/@([0-9]|\.)+$/i,_0x1675f6=Number(_0x555a86[_0x293bbb(0x1b3)](_0x14eb89[_0x293bbb(0x250)])[0x0][_0x293bbb(0x258)](0x1));_0x28115e[_0x293bbb(0x281)]({'datetime':_0x14eb89[_0x293bbb(0x1d0)],'coin':symbolToCoin(_0x26d86c),'symbol':_0x26d86c,'side':_0x78d5fc,'amount':_0x53cb68,'filled':_0x53cb68,'price':_0x1675f6});}),_0x28115e;}async function getAllOrders(_0x388a4f,_0x907637){const _0x1e87ba=_0x3a09f7;let _0x3d6e5f=[];while(_0x907637<exchange['milliseconds']()){const _0x578761=0x1f4,_0x5a8e81=await exchange['fetchClosedOrders'](_0x388a4f,_0x907637,_0x578761);if(_0x5a8e81[_0x1e87ba(0x254)])_0x907637=_0x5a8e81[_0x5a8e81[_0x1e87ba(0x254)]-0x1][_0x1e87ba(0x160)]+0x1,_0x3d6e5f=_0x3d6e5f[_0x1e87ba(0x1a9)](_0x5a8e81);else break;}return _0x3d6e5f;}async function validate24hChanges(){const _0x40492e=_0x3a09f7;for(const _0x1dba18 of currentCoins){if(_0x1dba18[_0x40492e(0x1d7)]!=config[_0x40492e(0x1c7)]){let _0x23ae21;_0x1dba18[_0x40492e(0x161)]?_0x23ae21=formatResult((0x1/(global[_0x40492e(0x1fc)][noslash(_0x1dba18[_0x40492e(0x174)])]/0x64+0x1)-0x1)*0x64,0x3):_0x23ae21=global['change'][noslash(_0x1dba18['symbol'])],_0x23ae21<config[_0x40492e(0x10b)]&&(logHistory('error',_0x1dba18['coin']+_0x40492e(0x27e)+_0x23ae21+'%'),logHistory(_0x40492e(0x171),_0x40492e(0x25b)),logHistory(_0x40492e(0x171),_0x40492e(0x14d)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x22101d,_0x368c38){const _0x1a8e8a=_0x3a09f7;if(!_0x22101d)return!![];const _0x165e47=_0x368c38[_0x1a8e8a(0x1f5)]('.'),_0x6076c=_0x22101d[_0x1a8e8a(0x1f5)]('.');for(var _0x2dd661=0x0;_0x2dd661<_0x6076c['length'];_0x2dd661++){const _0x4f2577=~~_0x6076c[_0x2dd661],_0x22a473=~~_0x165e47[_0x2dd661];if(_0x4f2577<_0x22a473)return!![];if(_0x4f2577>_0x22a473)return![];}return![];}async function oneTimeMigration(){const _0x24a92c=_0x3a09f7;let _0x3a3b82=dbLogs[_0x24a92c(0x10e)](_0x24a92c(0x10f))[_0x24a92c(0x260)]();if(isOlderVersion(_0x3a3b82,_0x24a92c(0x1c0))){let _0x3c91b8=[];const _0x1cfbd3=dbLogs['get']('logs')[_0x24a92c(0x260)]();_0x1cfbd3[_0x24a92c(0x23d)](_0x47a28e=>{const _0x1e8bb8=_0x24a92c;_0x3c91b8[_0x1e8bb8(0x281)]({'time':_0x47a28e[_0x1e8bb8(0x1d0)],'type':_0x47a28e[_0x1e8bb8(0x1bb)],'event':_0x47a28e['event']});}),dbLogs[_0x24a92c(0x10e)]('logs')['assign'](_0x3c91b8)[_0x24a92c(0x19c)]();}let _0xc69371=dbConfig['get'](_0x24a92c(0x10f))['value']();if(isOlderVersion(_0xc69371,_0x24a92c(0x1c0))){let _0x5e7cea=dbConfig[_0x24a92c(0x10e)](_0x24a92c(0x1d4))[_0x24a92c(0x15f)]({'botID':botID})['value']();if(_0x5e7cea){let _0xe88b62=[];_0x5e7cea[_0x24a92c(0x1ef)][_0x24a92c(0x23d)](_0x570428=>{const _0x5d3b58=_0x24a92c;_0xe88b62[_0x5d3b58(0x281)]({'coin':_0x570428[_0x5d3b58(0x1d7)],'number':_0x570428[_0x5d3b58(0x1e7)],'price':_0x570428[_0x5d3b58(0x226)]}),delete _0x570428[_0x5d3b58(0x1e7)],delete _0x570428[_0x5d3b58(0x226)];});if(_0xe88b62[_0x24a92c(0x254)]!==0x0)fs[_0x24a92c(0x263)](configbackuppath+(_0x24a92c(0x251)+botID+'.json'),JSON[_0x24a92c(0x156)](_0xe88b62,null,0x4),function(_0x151879){if(_0x151879){}});const _0x4131c6=(_0x480f6d,_0x5a91b1)=>{const _0x1c1d82=_0x24a92c;let _0x171227=[];_0x5a91b1[_0x1c1d82(0x23d)](_0x21e6d0=>{const _0x33edd5=_0x1c1d82,_0x26b6de=_0x480f6d[_0x33edd5(0x15f)](_0x43ee27=>_0x43ee27['coin']==_0x21e6d0['coin']);if(!_0x26b6de)_0x171227[_0x33edd5(0x281)](_0x21e6d0);});let _0x4bda29=[];return _0x480f6d[_0x1c1d82(0x23d)](_0xc5456=>{const _0x34182d=_0x1c1d82,_0x5682df=_0x5a91b1['find'](_0x56dee0=>_0x56dee0[_0x34182d(0x1d7)]==_0xc5456[_0x34182d(0x1d7)]);if(!_0x5682df||_0x5682df[_0x34182d(0x228)]==0x0&&_0xc5456['number']!=0x0)_0x4bda29[_0x34182d(0x281)](_0xc5456);}),{'missingDay1':_0x171227,'notInDay2':_0x4bda29};},_0x126d38=dbPerformance['get']('data')[_0x24a92c(0x1e4)]()['value']();if(_0x126d38[_0x24a92c(0x254)]>0x1){const {missingDay1:_0x39b2ce,notInDay2:_0x26f669}=_0x4131c6(_0xe88b62,_0x126d38[0x1]['coins']);_0xe88b62=[..._0xe88b62,..._0x39b2ce],_0x26f669[_0x24a92c(0x23d)](_0x10d66e=>{const _0x13db97=_0x24a92c;let _0x35537f=_0xe88b62['findIndex'](_0x4658e8=>_0x4658e8['coin']==_0x10d66e[_0x13db97(0x1d7)]);_0x35537f!=-0x1&&_0xe88b62[_0x13db97(0x227)](_0x35537f,0x1);});}_0xe88b62[_0x24a92c(0x182)]((_0x31fdf7,_0x768d2d)=>_0x31fdf7[_0x24a92c(0x1d7)]>_0x768d2d[_0x24a92c(0x1d7)]?0x1:_0x768d2d['coin']>_0x31fdf7[_0x24a92c(0x1d7)]?-0x1:0x0);let _0x22c929=[{'date':_0x5e7cea[_0x24a92c(0x14e)],'changes':_0xe88b62}];_0x126d38[_0x24a92c(0x254)]>0x2&&_0x126d38[_0x24a92c(0x23d)]((_0x3aec33,_0x228355)=>{const _0x5d5378=_0x24a92c;if(_0x228355>0x0&&_0x228355<_0x126d38[_0x5d5378(0x254)]-0x1){const {missingDay1:_0x3d324d,notInDay2:_0x589ee2}=_0x4131c6(_0x126d38[_0x228355]['coins'],_0x126d38[_0x228355+0x1][_0x5d5378(0x18e)]);_0xe88b62=[],(_0x3d324d[_0x5d5378(0x254)]!=0x0||_0x589ee2[_0x5d5378(0x254)]!=0x0)&&(_0x3d324d[_0x5d5378(0x254)]!=0x0&&_0xe88b62[_0x5d5378(0x281)](..._0x3d324d),_0x589ee2[_0x5d5378(0x254)]!=0x0&&(_0x589ee2[_0x5d5378(0x23d)](_0x8fb334=>{const _0x220d30=_0x5d5378;_0x8fb334['number']=-_0x8fb334[_0x220d30(0x228)];}),_0xe88b62['push'](..._0x589ee2)),_0xe88b62[_0x5d5378(0x182)]((_0x32bdd9,_0x5eac5c)=>_0x32bdd9[_0x5d5378(0x1d7)]>_0x5eac5c['coin']?0x1:_0x5eac5c['coin']>_0x32bdd9[_0x5d5378(0x1d7)]?-0x1:0x0),_0x22c929[_0x5d5378(0x281)]({'date':_0x126d38[_0x228355+0x1][_0x5d5378(0x1b4)],'changes':_0xe88b62}));}}),dbConfig[_0x24a92c(0x10e)](_0x24a92c(0x1d4))['find']({'botID':botID})['assign']({..._0x5e7cea,'liquidity':_0x22c929})[_0x24a92c(0x19c)]();}}if(isOlderVersion(_0xc69371,_0x24a92c(0x11a))){let _0x15af62=dbConfig['get'](_0x24a92c(0x1d4))[_0x24a92c(0x15f)]({'botID':botID})['value']();if(_0x15af62){const _0x1a7842=_0x15af62[_0x24a92c(0x12c)],_0x2e7e59=_0x1a7842?capitalize(_0x1a7842):_0x24a92c(0x215);dbConfig[_0x24a92c(0x10e)](_0x24a92c(0x1d4))[_0x24a92c(0x15f)]({'botID':botID})[_0x24a92c(0x24f)]({'exchange':_0x2e7e59})['write']();}}let _0x27cfa6=dbPerformance[_0x24a92c(0x10e)](_0x24a92c(0x10f))[_0x24a92c(0x260)]();isOlderVersion(_0x27cfa6,_0x24a92c(0x1c0))&&setStartDatePerformance();let _0x52ef6c=dbCoinResults[_0x24a92c(0x10e)](_0x24a92c(0x10f))[_0x24a92c(0x260)]();if(isOlderVersion(_0x52ef6c,_0x24a92c(0x12f))){let _0x31ce72=dbCoinResults[_0x24a92c(0x10e)](_0x24a92c(0x18e))['value']();if(_0x31ce72['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xa2bdd8=_0x3a09f7;dbConfig[_0xa2bdd8(0x163)]('version',serverversion)[_0xa2bdd8(0x19c)](),dbPerformance[_0xa2bdd8(0x163)](_0xa2bdd8(0x10f),serverversion)[_0xa2bdd8(0x19c)](),dbLogs['set'](_0xa2bdd8(0x10f),serverversion)[_0xa2bdd8(0x19c)](),dbCoinResults[_0xa2bdd8(0x163)](_0xa2bdd8(0x10f),serverversion)['write']();}function getConfiguration(_0x297e1c){const _0x18367d=_0x3a09f7;let _0x41bbfd=dbConfig[_0x18367d(0x10e)](_0x18367d(0x1d4))[_0x18367d(0x15f)]({'botID':_0x297e1c})[_0x18367d(0x260)]();if(_0x41bbfd){let _0x17abc7=![];typeof _0x41bbfd['threshold']==_0x18367d(0x1d1)&&(_0x41bbfd={..._0x41bbfd,'threshold':Number(_0x41bbfd[_0x18367d(0x24c)])},_0x17abc7=!![]),_0x41bbfd[_0x18367d(0x10b)]==null&&(_0x41bbfd={..._0x41bbfd,'change24h':-0x14},_0x17abc7=!![]),!_0x41bbfd[_0x18367d(0x246)]&&(_0x41bbfd={..._0x41bbfd,'fiat':_0x18367d(0x115)},_0x17abc7=!![]),!_0x41bbfd[_0x18367d(0x1d8)]&&(_0x41bbfd={..._0x41bbfd,'onepagemode':settings[_0x18367d(0x1d8)]},_0x17abc7=!![]),_0x17abc7&&(_0x41bbfd={'botID':_0x41bbfd[_0x18367d(0x23a)],'exchange':_0x41bbfd['exchange'],'apiKey':_0x41bbfd[_0x18367d(0x131)],'apiSecret':_0x41bbfd[_0x18367d(0x1c8)],'basecoin':_0x41bbfd[_0x18367d(0x1c7)],'botname':_0x41bbfd[_0x18367d(0x195)],'showname':_0x41bbfd['showname'],'threshold':_0x41bbfd['threshold'],'ordertype':_0x41bbfd['ordertype'],'timeout':_0x41bbfd[_0x18367d(0x22a)],'fiat':_0x41bbfd['fiat'],'startdate':_0x41bbfd['startdate'],'recreate':_0x41bbfd[_0x18367d(0x21f)],'timeshift':_0x41bbfd[_0x18367d(0x1cf)],'onepagemode':_0x41bbfd[_0x18367d(0x1d8)],'headless':_0x41bbfd[_0x18367d(0x199)],'cooldown':_0x41bbfd['cooldown'],'change24h':_0x41bbfd[_0x18367d(0x10b)],'emojibuy':_0x41bbfd[_0x18367d(0x1e0)],'emojisell':_0x41bbfd[_0x18367d(0x20e)],'portfolio':_0x41bbfd[_0x18367d(0x1ef)],'liquidity':_0x41bbfd[_0x18367d(0x127)],'openOrders':_0x41bbfd[_0x18367d(0x1f0)]},dbConfig[_0x18367d(0x10e)](_0x18367d(0x1d4))[_0x18367d(0x279)]()[_0x18367d(0x19c)](),dbConfig[_0x18367d(0x10e)](_0x18367d(0x1d4))['push'](_0x41bbfd)[_0x18367d(0x19c)]());}else _0x41bbfd={'botID':_0x297e1c,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x18367d(0x1f8)+_0x297e1c,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x18367d(0x1cf)],'onepagemode':settings[_0x18367d(0x1d8)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x41bbfd;}function emittedConfiguration(){const _0x1bad77=_0x3a09f7;let _0x1ec379;if(config[_0x1bad77(0x131)]=='')_0x1ec379={...config,'configstate':_0x1bad77(0x11e)};else config[_0x1bad77(0x131)]=='***'?_0x1ec379={...config,'configstate':_0x1bad77(0x221)}:_0x1ec379={...config,'apiKey':_0x1bad77(0x212),'apiSecret':_0x1bad77(0x212)};return _0x1ec379;}function getSettings(){const _0x5e79d4=_0x3a09f7;return dbSettings[_0x5e79d4(0x10e)](_0x5e79d4(0x261))['value']();}function getSecure(){const _0x303025=_0x3a09f7;return dbSecure['get'](_0x303025(0x1ee))[_0x303025(0x260)]()||{};}function updateTimeshift(_0xe0e9e4){const _0x54fb38=_0x3a09f7;let _0x579d3d=dbConfig['get']('bot')['find']({'botID':botID})['value']();_0x579d3d&&dbConfig[_0x54fb38(0x10e)]('bot')[_0x54fb38(0x15f)]({'botID':botID})['assign']({'timeshift':_0xe0e9e4})[_0x54fb38(0x19c)](),config[_0x54fb38(0x1cf)]=_0xe0e9e4,proxyEmit(_0x54fb38(0x219),emittedConfiguration());}function updateOnepagemode(_0x3bac28){const _0x26397a=_0x3a09f7;let _0x52d0f1=dbConfig[_0x26397a(0x10e)](_0x26397a(0x1d4))[_0x26397a(0x15f)]({'botID':botID})[_0x26397a(0x260)]();_0x52d0f1&&dbConfig['get'](_0x26397a(0x1d4))[_0x26397a(0x15f)]({'botID':botID})['assign']({'onepagemode':_0x3bac28})[_0x26397a(0x19c)](),config[_0x26397a(0x1d8)]=_0x3bac28,proxyEmit(_0x26397a(0x219),emittedConfiguration());}async function storeConfiguration(_0x1aa4d8){const _0x53cf55=_0x3a09f7;logger[_0x53cf55(0x259)](_0x53cf55(0x11b)),blockTransactionDetection=!![],logger[_0x53cf55(0x259)]('Transaction\x20detection\x20blocked');let _0x2f28ad=[],_0x36454f=![],_0x389cb5=[];_0x1aa4d8[_0x53cf55(0x1ef)][_0x53cf55(0x23d)](_0x33d6b9=>{const _0x37df80=_0x53cf55;if(!_0x33d6b9[_0x37df80(0x177)]&&_0x33d6b9['coin']!=_0x1aa4d8[_0x37df80(0x1c7)])_0x389cb5[_0x37df80(0x281)](_0x33d6b9[_0x37df80(0x174)]);});currentCoins[_0x53cf55(0x254)]==0x0?_0x2f28ad=_0x389cb5:_0x389cb5[_0x53cf55(0x23d)](_0x252187=>{const _0x12a491=_0x53cf55,_0x2c2849=currentCoins[_0x12a491(0x15f)](_0x2e6873=>_0x2e6873[_0x12a491(0x174)]==_0x252187);!_0x2c2849&&_0x2f28ad[_0x12a491(0x281)](_0x252187);});_0x2f28ad[_0x53cf55(0x254)]>0x0?_0x36454f=!![]:currentCoins['forEach'](_0x5a945e=>{const _0x27cc0e=_0x53cf55;if(_0x5a945e[_0x27cc0e(0x1d7)]!=config[_0x27cc0e(0x1c7)]){const _0x561d5a=_0x389cb5[_0x27cc0e(0x15f)](_0x20bd49=>_0x20bd49==_0x5a945e[_0x27cc0e(0x174)]);!_0x561d5a&&(_0x36454f=!![]);}});let _0x52bcc0=dbConfig[_0x53cf55(0x10e)](_0x53cf55(0x1d4))['find']({'botID':botID})[_0x53cf55(0x260)]();_0x1aa4d8={..._0x1aa4d8,'apiKey':crypt['decrypt'](secure[_0x53cf55(0x269)],_0x1aa4d8[_0x53cf55(0x131)])[_0x53cf55(0x17f)],'apiSecret':crypt[_0x53cf55(0x232)](secure[_0x53cf55(0x269)],_0x1aa4d8[_0x53cf55(0x1c8)])['message']};let _0x10d260=![];_0x52bcc0?(_0x1aa4d8['apiKey']==_0x53cf55(0x212)?_0x1aa4d8[_0x53cf55(0x131)]=config[_0x53cf55(0x131)]:_0x10d260=!![],_0x1aa4d8[_0x53cf55(0x1c8)]==_0x53cf55(0x212)?_0x1aa4d8[_0x53cf55(0x1c8)]=config[_0x53cf55(0x1c8)]:_0x10d260=!![],dbConfig[_0x53cf55(0x10e)]('bot')[_0x53cf55(0x15f)]({'botID':botID})[_0x53cf55(0x24f)](_0x1aa4d8)['write']()):(dbConfig[_0x53cf55(0x10e)](_0x53cf55(0x1d4))[_0x53cf55(0x281)](_0x1aa4d8)['write'](),_0x10d260=!![],process['send']({'status':_0x53cf55(0x13d),'live':_0x53cf55(0x173)},_0xe12065=>{}));config={..._0x1aa4d8},setStartDatePerformance(),process[_0x53cf55(0x15b)]({'botname':_0x1aa4d8[_0x53cf55(0x195)]},_0x2f91be=>{}),updateBotManager();const _0x3aca7c=getNormalizedPerformance();getStartingBalances(_0x3aca7c),emitPerformance(_0x3aca7c),proxyEmit(_0x53cf55(0x10d)),await initCoinResults();if(_0x10d260)await reset(_0x2f28ad,!![]);else{if(_0x36454f)await reset(_0x2f28ad,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger['debug'](_0x53cf55(0x22b));}async function storeHeadless(_0x5f26e5){const _0xdb13ae=_0x3a09f7,_0x4f4cca={...config,'headless':_0x5f26e5[_0xdb13ae(0x199)]};let _0x1e8e0b=dbConfig['get'](_0xdb13ae(0x1d4))[_0xdb13ae(0x15f)]({'botID':botID})['value']();_0x1e8e0b&&dbConfig[_0xdb13ae(0x10e)](_0xdb13ae(0x1d4))[_0xdb13ae(0x15f)]({'botID':botID})[_0xdb13ae(0x24f)](_0x4f4cca)[_0xdb13ae(0x19c)](),config={..._0x4f4cca},updateBotManager(),proxyEmit(_0xdb13ae(0x219),emittedConfiguration());}async function storeFiat(_0x4332c9){const _0x367eaa=_0x3a09f7,_0xa2423d={...config,'fiat':_0x4332c9};let _0x104050=dbConfig[_0x367eaa(0x10e)](_0x367eaa(0x1d4))['find']({'botID':botID})[_0x367eaa(0x260)]();_0x104050&&dbConfig[_0x367eaa(0x10e)](_0x367eaa(0x1d4))['find']({'botID':botID})[_0x367eaa(0x24f)](_0xa2423d)[_0x367eaa(0x19c)](),config={..._0xa2423d},proxyEmit(_0x367eaa(0x219),emittedConfiguration());}function resetHistory(){const _0x921359=_0x3a09f7;logger[_0x921359(0x24d)](_0x921359(0x155));try{if(fs['existsSync'](path['join'](configpath,_0x921359(0x17b)+botID+_0x921359(0x176))))fs[_0x921359(0x197)](path[_0x921359(0x1c9)](configpath,_0x921359(0x17b)+botID+_0x921359(0x176)));if(fs[_0x921359(0x1ac)](path[_0x921359(0x1c9)](configpath,_0x921359(0x17b)+botID+'-performance.json')))fs[_0x921359(0x197)](path[_0x921359(0x1c9)](configpath,_0x921359(0x17b)+botID+'-performance.json'));if(fs['existsSync'](path[_0x921359(0x1c9)](configpath,_0x921359(0x17b)+botID+_0x921359(0x225))))fs['unlinkSync'](path[_0x921359(0x1c9)](configpath,_0x921359(0x17b)+botID+_0x921359(0x225)));}catch(_0x3804f2){if(_0x3804f2)logger[_0x921359(0x24d)](_0x921359(0x192),_0x3804f2);}const _0x8d01d5=getDate();let _0x22e76e=[];currentCoins['forEach'](_0x508c9d=>{const _0x27d0b9=_0x921359;_0x22e76e[_0x27d0b9(0x281)]({'coin':_0x508c9d[_0x27d0b9(0x1d7)],'number':_0x508c9d[_0x27d0b9(0x228)],'price':_0x508c9d[_0x27d0b9(0x16f)]});});let _0x5c56b5=dbConfig[_0x921359(0x10e)](_0x921359(0x1d4))[_0x921359(0x15f)]({'botID':botID})[_0x921359(0x260)]();_0x5c56b5&&(dbConfig[_0x921359(0x10e)](_0x921359(0x1d4))[_0x921359(0x15f)]({'botID':botID})[_0x921359(0x24f)]({'liquidity':[{'date':_0x8d01d5,'changes':_0x22e76e}]})[_0x921359(0x19c)](),config[_0x921359(0x127)]=[]),process[_0x921359(0x15b)]({'stop':_0x921359(0x129)},_0x4416a9=>{});}function noslash(_0x1d10c5){const _0x1bc216=_0x3a09f7;return _0x1d10c5[_0x1bc216(0x1d2)]('/','');}function updateHighestFee(_0x1ec88e,_0x1f9eca){const _0x208c8b=_0x3a09f7;lastFees[_0x208c8b(0x24a)]=_0x1ec88e,lastFees['recent20'][_0x208c8b(0x254)]===0x14&&lastFees['recent20'][_0x208c8b(0x268)](),lastFees[_0x208c8b(0x207)][_0x208c8b(0x281)](_0x1f9eca),lastFees[_0x208c8b(0x117)]=Math[_0x208c8b(0x208)](...lastFees[_0x208c8b(0x207)]),console[_0x208c8b(0x17e)](lastFees[_0x208c8b(0x117)]);}async function updateNumberCoinsCcxt(_0x1ceeb3){const _0x4ebd45=_0x3a09f7;logger['debug']('0\x20-\x20EXECUTION:\x20'+_0x1ceeb3['symbol']+'\x20|\x20'+_0x1ceeb3[_0x4ebd45(0x124)]+_0x4ebd45(0x1a1)+_0x1ceeb3['id']+_0x4ebd45(0x1a1)+_0x1ceeb3['clientOrderId']);let _0x377b65=_0x1ceeb3[_0x4ebd45(0x124)],_0x42c053=![];currentCoins[_0x4ebd45(0x23d)](_0x4b609e=>{const _0x15b8e1=_0x4ebd45;_0x4b609e[_0x15b8e1(0x174)]==_0x1ceeb3['symbol']&&(_0x42c053=!![]);});if(!_0x42c053)return;const _0x12fd79=currentCoins[_0x4ebd45(0x15f)](_0x2c0c5e=>_0x2c0c5e[_0x4ebd45(0x174)]==_0x1ceeb3[_0x4ebd45(0x174)]),_0x3ddf37=_0x43ba6b=>{const _0x257dbe=_0x4ebd45;if(_0x12fd79)_0x12fd79[_0x257dbe(0x1f4)]=_0x43ba6b;};if(_0x377b65==_0x4ebd45(0x1f3))_0x3ddf37(_0x4ebd45(0x1f3));else{if(_0x377b65=='canceled'){_0x3ddf37(_0x4ebd45(0x23f));const _0x39c343=await getCoins();[currentCoins,currentCoinsAll]=_0x39c343,await getOpenOrders(),handleOpenOrders();}else{if(_0x377b65=='closed'){logger[_0x4ebd45(0x259)](_0x4ebd45(0x266)+_0x1ceeb3[_0x4ebd45(0x174)]+_0x4ebd45(0x1a1)+_0x1ceeb3[_0x4ebd45(0x141)]+_0x4ebd45(0x1a1)+_0x1ceeb3['id']+'\x20|\x20'+_0x1ceeb3[_0x4ebd45(0x216)]);let _0x350a47=![];if(lastOrders)lastOrders[_0x4ebd45(0x23d)](async _0xa1f3ba=>{const _0x232a5a=_0x4ebd45;if(_0xa1f3ba[_0x232a5a(0x188)]==_0x1ceeb3[_0x232a5a(0x216)]){logger[_0x232a5a(0x259)](_0x232a5a(0x1e5)+_0x1ceeb3['clientOrderId']),_0x350a47=!![];if(_0xa1f3ba[_0x232a5a(0x141)]==0x0){logger[_0x232a5a(0x259)](_0x232a5a(0x194)+_0x1ceeb3[_0x232a5a(0x216)]),_0xa1f3ba[_0x232a5a(0x26c)]=_0x1ceeb3[_0x232a5a(0x1cb)],_0xa1f3ba[_0x232a5a(0x141)]=_0x1ceeb3['filled'],_0xa1f3ba[_0x232a5a(0x26d)]={'currency':_0x1ceeb3[_0x232a5a(0x26d)]?_0x1ceeb3[_0x232a5a(0x26d)][_0x232a5a(0x24a)]:null,'cost':_0x1ceeb3[_0x232a5a(0x26d)]?_0x1ceeb3[_0x232a5a(0x26d)][_0x232a5a(0x130)]:0x0},updateHighestFee(_0xa1f3ba['fee'][_0x232a5a(0x24a)],_0xa1f3ba[_0x232a5a(0x26d)]['cost']),_0x3ddf37(_0x232a5a(0x141)),await validateOrders();if(lockOrders==ORDERS[_0x232a5a(0x12b)]){const _0x4983d7=await getCoins();[currentCoins,currentCoinsAll]=_0x4983d7;}await updateCoinResults(_0xa1f3ba);}}});if(!_0x350a47){logger[_0x4ebd45(0x259)](_0x4ebd45(0x1ae)+_0x1ceeb3['id']),_0x3ddf37(_0x4ebd45(0x141));const _0x120dee=await getCoins();[currentCoins,currentCoinsAll]=_0x120dee,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x329b6c=JSON['parse'](lastBalances[_0x4ebd45(0x1ef)]);const _0x128fad=_0x329b6c[_0x4ebd45(0x15f)](_0x348f24=>_0x348f24['symbol']==_0x1ceeb3[_0x4ebd45(0x174)]);if(_0x128fad){if(_0x377b65=='open')_0x128fad[_0x4ebd45(0x1f4)]=_0x128fad[_0x4ebd45(0x1f4)]==_0x4ebd45(0x141)?'filled':_0x4ebd45(0x1f3);else{if(_0x377b65=='canceled')_0x128fad[_0x4ebd45(0x1f4)]=_0x128fad[_0x4ebd45(0x1f4)]=='filled'?'filled':'canceled';else _0x377b65==_0x4ebd45(0x243)&&(_0x128fad[_0x4ebd45(0x1f4)]=_0x4ebd45(0x141));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x329b6c)},proxyEmit(_0x4ebd45(0x1c1),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x45f330=_0x3a09f7;await getOpenOrders();let _0x2c43cd=![];currentCoins[_0x45f330(0x23d)](_0x345649=>{const _0x4df97e=_0x45f330;_0x2c43cd=allOpenOrders[_0x4df97e(0x15f)](_0x1ced0c=>_0x1ced0c[_0x4df97e(0x174)]==_0x345649[_0x4df97e(0x174)]),_0x345649[_0x4df97e(0x1f4)]=_0x2c43cd?_0x4df97e(0x1f3):_0x4df97e(0x21e);});}async function getCoins(_0x5336af=!![],_0x2cc78f=config[_0x3a09f7(0x1c7)]){const _0x1af873=_0x3a09f7;let _0x2b501c,_0x196aaa=[],_0x447b10=[],_0x32ead4=[],_0x50453c=[];try{_0x2b501c=await exchange[_0x1af873(0x189)](),mybalances=_0x2b501c[_0x1af873(0x1d6)];for(const [_0x24d7e3,_0x18449e]of Object[_0x1af873(0x184)](mybalances)){_0x50453c[_0x1af873(0x281)](_0x24d7e3);}if(_0x2cc78f=='')for(const [_0x505aa0,_0x3c4368]of Object[_0x1af873(0x184)](mybalances)){_0x3c4368[_0x1af873(0x237)]()!=0x0&&_0x447b10['push']({'coin':_0x505aa0});}else{let _0x32e294=![];for(const [_0x18a451,_0x1d8db8]of Object[_0x1af873(0x184)](mybalances)){if(_0x50453c[_0x1af873(0x15d)](_0x18a451)){const _0xf3f5a1=config[_0x1af873(0x1ef)][_0x1af873(0x15f)](_0xe8853=>_0xe8853[_0x1af873(0x1d7)]==_0x18a451),_0x1071d8=_0x18a451+'/'+_0x2cc78f,_0x5aa710=_0x2cc78f+'/'+_0x18a451,_0x30b8fa=currentCoins[_0x1af873(0x15f)](_0x4eb229=>_0x4eb229['coin']==_0x18a451);_0x32e294=![];if((_0x1d8db8[_0x1af873(0x237)]()!=0x0||_0xf3f5a1)&&(allSymbols['includes'](_0x1071d8)||_0x18a451==_0x2cc78f))_0x18a451!=_0x2cc78f&&_0x196aaa[_0x1af873(0x281)](_0x1071d8),_0x447b10[_0x1af873(0x281)]({'coin':_0x18a451,'symbol':_0x1071d8,'reverse':![],'number':Math[_0x1af873(0x208)](_0x1d8db8+(_0xf3f5a1&&_0xf3f5a1[_0x1af873(0x245)]||0x0),0x0),'orderstatus':_0x30b8fa?_0x30b8fa[_0x1af873(0x1f4)]:_0x1af873(0x21e)});else(_0x1d8db8[_0x1af873(0x237)]()!=0x0||_0xf3f5a1)&&allSymbols['includes'](_0x5aa710)&&(_0x18a451!=_0x2cc78f&&_0x196aaa['push'](_0x5aa710),_0x447b10[_0x1af873(0x281)]({'coin':_0x18a451,'symbol':_0x5aa710,'reverse':!![],'number':Math[_0x1af873(0x208)](_0x1d8db8+(_0xf3f5a1&&_0xf3f5a1[_0x1af873(0x245)]||0x0),0x0),'orderstatus':_0x30b8fa?_0x30b8fa[_0x1af873(0x1f4)]:'none'}));}}}}catch(_0x47fc42){if(!_0x5336af)handleErrorNoStop(_0x47fc42,_0x1af873(0x128));else await handleError(_0x47fc42,_0x1af873(0x128));}return _0x32ead4=cloneDeep(_0x447b10),_0x447b10=_0x447b10[_0x1af873(0x190)](_0x58f56b=>{const _0x3d954a=_0x1af873,_0x2d36c0=config[_0x3d954a(0x1ef)][_0x3d954a(0x15f)](_0x4cce86=>_0x4cce86[_0x3d954a(0x1d7)]==_0x58f56b['coin']);return _0x2d36c0&&!_0x2d36c0[_0x3d954a(0x177)];}),[_0x447b10,_0x32ead4];}async function getCoinNumber(_0x589a71){const _0x3d8d04=_0x3a09f7;let _0x11021b;try{const _0x52ab64=await exchange[_0x3d8d04(0x189)]();_0x11021b=_0x52ab64['total'][_0x589a71];}catch(_0x41a442){await handleError(_0x41a442,_0x3d8d04(0x283));}return _0x11021b;}async function getOpenOrders(){const _0x11286f=_0x3a09f7;let _0x22b465;allOpenOrders=[];try{for(const _0x4991af of config['portfolio']){!_0x4991af['excluded']&&_0x4991af[_0x11286f(0x1d7)]!=config['basecoin']&&(_0x22b465=await exchange[_0x11286f(0x138)](_0x4991af[_0x11286f(0x174)]),_0x22b465[_0x11286f(0x254)]>0x0&&allOpenOrders[_0x11286f(0x281)](_0x22b465[0x0]));}}catch(_0x3ec35e){await handleError(_0x3ec35e,'getOpenOrders()');}}async function handleOpenOrders(_0x1784d6=0x0){const _0x394aa4=_0x3a09f7;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x1784d6==0x0?(logger[_0x394aa4(0x259)](_0x394aa4(0x120)),_0x1784d6++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x394aa4(0x220)),validateOrders(_0x394aa4(0x284))));}async function testAPI(_0x440357){const _0x9feb49=_0x3a09f7,_0x3e8c1d=ccxt[_0x440357[_0x9feb49(0x12c)]['toLowerCase']()],_0x564f86=new _0x3e8c1d({'apiKey':_0x440357[_0x9feb49(0x131)],'secret':_0x440357[_0x9feb49(0x1c8)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x564f86['loadMarkets']();}catch(_0xdb07b7){throw _0xdb07b7;}}function cloneDeep(_0x154955){return JSON['parse'](JSON['stringify'](_0x154955));}async function getPortfolio(_0x2ac4b2){const _0x341200=_0x3a09f7;let _0x24d5ef=[],_0x3ee699=[],_0x4369bd=[],_0x5dd51f;if(_0x2ac4b2['apiKey']!==_0x341200(0x212)||_0x2ac4b2[_0x341200(0x1c8)]!=='************'){if(config[_0x341200(0x12c)]){if(_0x2ac4b2['apiKey']==_0x341200(0x212))_0x2ac4b2[_0x341200(0x131)]=config['apiKey'];if(_0x2ac4b2['apiSecret']==_0x341200(0x212))_0x2ac4b2[_0x341200(0x1c8)]=config[_0x341200(0x1c8)];try{await testAPI(_0x2ac4b2);}catch(_0x587a01){if(_0x587a01['toString']()[_0x341200(0x15d)]('AuthenticationError')){logger[_0x341200(0x259)](_0x341200(0x230)),proxyEmit(_0x341200(0x1ef),![]);return;}else{handleError(_0x587a01,_0x341200(0x1f9));return;}}}await initExchange(_0x2ac4b2[_0x341200(0x12c)],_0x2ac4b2['apiKey'],_0x2ac4b2[_0x341200(0x1c8)]);try{await loadSymbols(_0x2ac4b2['exchange'],!![]);}catch(_0x3ac084){if(_0x3ac084[_0x341200(0x237)]()['includes']('AuthenticationError')){proxyEmit(_0x341200(0x1ef),![]);return;}else{handleError(_0x3ac084,'getPortfolio(1)');return;}}const _0x463a2b=await getCoins(![],_0x2ac4b2[_0x341200(0x1c7)]);_0x4369bd=cloneDeep(_0x463a2b[0x1]);}else _0x4369bd=cloneDeep(currentCoinsAll);if(_0x2ac4b2[_0x341200(0x1c7)]=='')proxyEmit(_0x341200(0x1ef),_0x4369bd);else{_0x4369bd[_0x341200(0x23d)](_0x32a2c8=>{const _0x204dd0=_0x341200;if(_0x32a2c8[_0x204dd0(0x1d7)]!=_0x2ac4b2[_0x204dd0(0x1c7)])_0x24d5ef[_0x204dd0(0x281)](_0x32a2c8['symbol']);});try{_0x3ee699=await exchange[_0x341200(0x122)](_0x24d5ef);}catch(_0x46ee45){if(_0x46ee45['toString']()[_0x341200(0x15d)](_0x341200(0x18d))){proxyEmit(_0x341200(0x1ef),![]);return;}else{handleError(_0x46ee45,_0x341200(0x143));return;}}_0x4369bd[_0x341200(0x23d)](_0x44c685=>{const _0x52edc0=_0x341200;_0x44c685[_0x52edc0(0x1d7)]!=_0x2ac4b2[_0x52edc0(0x1c7)]?_0x5dd51f=_0x44c685[_0x52edc0(0x161)]?0x1/_0x3ee699[_0x44c685[_0x52edc0(0x174)]][_0x52edc0(0x16f)]:_0x3ee699[_0x44c685[_0x52edc0(0x174)]]['last']:_0x5dd51f=0x1,_0x44c685[_0x52edc0(0x26c)]=formatResult(_0x5dd51f,0x8);}),proxyEmit(_0x341200(0x1ef),_0x4369bd);}}function checkMinimums(_0x1a28e8){const _0x48c1f0=_0x3a09f7;let _0x1fee17=!![];const _0x5bf92b=!_0x1a28e8[_0x48c1f0(0x161)]?markets[_0x1a28e8[_0x48c1f0(0x174)]][_0x48c1f0(0x178)]['amount']['min']:markets[_0x1a28e8[_0x48c1f0(0x174)]][_0x48c1f0(0x178)][_0x48c1f0(0x130)]['min'],_0x3951a7=!_0x1a28e8[_0x48c1f0(0x161)]?markets[_0x1a28e8['symbol']][_0x48c1f0(0x178)]['cost'][_0x48c1f0(0x1a5)]:markets[_0x1a28e8[_0x48c1f0(0x174)]]['limits'][_0x48c1f0(0x16a)][_0x48c1f0(0x1a5)],_0x2410b4=markets[_0x1a28e8[_0x48c1f0(0x174)]][_0x48c1f0(0x255)]['amount'];_0x1a28e8[_0x48c1f0(0x19b)]=formatResultTruncate(_0x1a28e8[_0x48c1f0(0x19b)],_0x2410b4);if(Math[_0x48c1f0(0x1ad)](_0x1a28e8['trade'])<_0x5bf92b)_0x1fee17=![];if(Math[_0x48c1f0(0x1ad)](_0x1a28e8[_0x48c1f0(0x19b)])*_0x1a28e8['last']<_0x3951a7)_0x1fee17=![];if(_0x1a28e8[_0x48c1f0(0x1a8)]==_0x48c1f0(0x186)){let _0x3aded3=config[_0x48c1f0(0x1ef)][_0x48c1f0(0x15f)](_0x5b1f40=>_0x5b1f40[_0x48c1f0(0x1d7)]==_0x1a28e8[_0x48c1f0(0x1d7)]);if(_0x3aded3[_0x48c1f0(0x245)]>0x0){if(Math[_0x48c1f0(0x1ad)](_0x1a28e8[_0x48c1f0(0x19b)])>_0x1a28e8['number']-_0x3aded3[_0x48c1f0(0x245)])_0x1fee17=![];}else{if(Math[_0x48c1f0(0x1ad)](_0x1a28e8[_0x48c1f0(0x19b)])>_0x1a28e8[_0x48c1f0(0x228)])_0x1fee17=![];}}if(_0x1a28e8['side']==_0x48c1f0(0x1aa)){let _0x559729=config['portfolio'][_0x48c1f0(0x15f)](_0x530ce8=>_0x530ce8[_0x48c1f0(0x1d7)]==config['basecoin']),_0x9be3e4=currentCoins[_0x48c1f0(0x15f)](_0x51ec1c=>_0x51ec1c['coin']==config[_0x48c1f0(0x1c7)]);if(_0x559729[_0x48c1f0(0x245)]>0x0){if(Math[_0x48c1f0(0x1ad)](_0x1a28e8[_0x48c1f0(0x19b)])*_0x1a28e8[_0x48c1f0(0x16f)]>_0x9be3e4[_0x48c1f0(0x228)]-_0x559729['offset'])_0x1fee17=![];}else{if(Math[_0x48c1f0(0x1ad)](_0x1a28e8[_0x48c1f0(0x19b)])*_0x1a28e8['last']>_0x9be3e4[_0x48c1f0(0x228)])_0x1fee17=![];}}return _0x1fee17;}async function getBalances(){const _0x400c88=_0x3a09f7;let _0x1d33de=0x0,_0x24d551;const _0x29ae82=config[_0x400c88(0x24c)];if(config['headless']&&config[_0x400c88(0x10b)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x3b4167=>{const _0x40cf53=_0x400c88;if(_0x3b4167[_0x40cf53(0x1d7)]!=config[_0x40cf53(0x1c7)]){let _0x292f31=global[_0x40cf53(0x214)][noslash(_0x3b4167[_0x40cf53(0x174)])];_0x24d551=_0x3b4167[_0x40cf53(0x161)]?0x1/_0x292f31:_0x292f31;}else _0x24d551=0x1;let _0x4b9539=_0x3b4167['number']*_0x24d551;_0x1d33de+=_0x4b9539,_0x3b4167[_0x40cf53(0x16f)]=formatResult(Number(_0x24d551),0x8),_0x3b4167[_0x40cf53(0x260)]=_0x4b9539;}),currentCoins[_0x400c88(0x23d)](_0x4120bb=>{const _0x5bbea5=_0x400c88;let _0x120335=config[_0x5bbea5(0x1ef)][_0x5bbea5(0x15f)](_0x41d01e=>_0x41d01e['coin']==_0x4120bb[_0x5bbea5(0x1d7)]),_0x3494f0=Number(_0x120335[_0x5bbea5(0x19d)]),_0x1249b7=_0x4120bb[_0x5bbea5(0x260)]/_0x1d33de*0x64,_0x10a596=_0x3494f0*_0x1d33de/0x64/_0x4120bb[_0x5bbea5(0x16f)]-_0x4120bb[_0x5bbea5(0x228)];_0x4120bb[_0x5bbea5(0x19d)]=formatResult(_0x1249b7,0x3),_0x4120bb[_0x5bbea5(0x18c)]=formatResult(_0x3494f0,0x3),_0x4120bb[_0x5bbea5(0x19b)]=formatResult(_0x10a596,0x8),_0x4120bb[_0x5bbea5(0x1a8)]='',_0x4120bb[_0x5bbea5(0x22d)]=![];if(_0x4120bb[_0x5bbea5(0x1d7)]!=config[_0x5bbea5(0x1c7)]){if(_0x4120bb['distribution']>_0x3494f0)_0x4120bb['side']=_0x5bbea5(0x186),_0x4120bb[_0x5bbea5(0x22d)]=checkMinimums(_0x4120bb);else _0x4120bb[_0x5bbea5(0x19d)]<_0x3494f0&&(_0x4120bb[_0x5bbea5(0x1a8)]=_0x5bbea5(0x1aa),_0x4120bb[_0x5bbea5(0x22d)]=checkMinimums(_0x4120bb));}_0x4120bb[_0x5bbea5(0x13c)]=_0x4120bb[_0x5bbea5(0x19d)]/_0x4120bb['target']-0x1;if(_0x4120bb['orderstatus']==_0x5bbea5(0x141)||_0x4120bb['orderstatus']=='canceled')_0x4120bb['orderstatus']=_0x5bbea5(0x21e);}),currentCoins[_0x400c88(0x182)]((_0xa8df93,_0x4e4764)=>_0xa8df93[_0x400c88(0x13c)]<_0x4e4764[_0x400c88(0x13c)]?0x1:_0x4e4764['delta']<_0xa8df93[_0x400c88(0x13c)]?-0x1:0x0);const _0x234025=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x234025[_0x400c88(0x27a)],'usd':_0x234025[_0x400c88(0x1bc)],'portfolio':JSON[_0x400c88(0x156)](currentCoins),'threshold':_0x29ae82},proxyEmit(_0x400c88(0x1c1),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x29ae82});else{if(lockOrders==ORDERS[_0x400c88(0x242)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x29ae82});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x887b7c=getNormalizedPerformance();emitPerformance(_0x887b7c),getStartingBalances(_0x887b7c),logger[_0x400c88(0x259)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4d09cb=_0x3a09f7;if(!lastBalances)return;let _0x1a4057=[],_0x4cdbd2,_0x1b2452=JSON['parse'](lastBalances[_0x4d09cb(0x1ef)]);_0x1b2452[_0x4d09cb(0x182)]((_0xce889b,_0x42679a)=>_0xce889b[_0x4d09cb(0x1d7)]>_0x42679a['coin']?0x1:_0x42679a[_0x4d09cb(0x1d7)]>_0xce889b['coin']?-0x1:0x0),_0x1b2452[_0x4d09cb(0x23d)](_0x505264=>{const _0x165a3d=_0x4d09cb;let _0x5ee726={'coin':_0x505264[_0x165a3d(0x1d7)],'number':_0x505264[_0x165a3d(0x228)],'price':_0x505264[_0x165a3d(0x16f)]};_0x1a4057['push'](_0x5ee726);});const _0x1c4d05=await getFiat();_0x4cdbd2={'date':lastBalances[_0x4d09cb(0x1d0)]['split']('\x20')[0x0],'eur':_0x1c4d05[_0x4d09cb(0x27a)],'usd':_0x1c4d05[_0x4d09cb(0x1bc)],'coins':_0x1a4057};let _0x4e76e8=dbPerformance[_0x4d09cb(0x10e)](_0x4d09cb(0x19f))[_0x4d09cb(0x15f)]({'date':_0x4cdbd2[_0x4d09cb(0x1b4)]})['value']();_0x4e76e8?_0x4cdbd2['date']!=config[_0x4d09cb(0x14e)]&&dbPerformance[_0x4d09cb(0x10e)](_0x4d09cb(0x19f))[_0x4d09cb(0x15f)]({'date':_0x4cdbd2['date']})[_0x4d09cb(0x24f)](_0x4cdbd2)[_0x4d09cb(0x19c)]():dbPerformance[_0x4d09cb(0x10e)](_0x4d09cb(0x19f))[_0x4d09cb(0x281)](_0x4cdbd2)[_0x4d09cb(0x19c)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0xf83a45=_0x3a09f7;let _0x59c244=[];if(dbPerformance['has'](_0xf83a45(0x19f))[_0xf83a45(0x260)]()){let _0x3445d8=dbPerformance[_0xf83a45(0x10e)]('data')['cloneDeep']()['sortBy']('date')[_0xf83a45(0x260)](),_0x3a158d=[...config[_0xf83a45(0x127)]];_0x3a158d['sort']((_0x2c189d,_0xd2a791)=>_0x2c189d[_0xf83a45(0x1b4)]>_0xd2a791[_0xf83a45(0x1b4)]?-0x1:_0xd2a791[_0xf83a45(0x1b4)]>_0x2c189d[_0xf83a45(0x1b4)]?0x1:0x0);let _0x108afd=0x1,_0x337e86=[],_0x571b75=0x0;_0x3445d8[_0xf83a45(0x258)]()[_0xf83a45(0x161)]()[_0xf83a45(0x23d)]((_0x4679c6,_0x1d0233)=>{const _0x4e5bd7=_0xf83a45;if(_0x3a158d[_0x571b75]){if(_0x3445d8[_0x3445d8['length']-_0x1d0233]&&_0x3a158d[_0x571b75]['date']==_0x3445d8[_0x3445d8[_0x4e5bd7(0x254)]-_0x1d0233][_0x4e5bd7(0x1b4)]){if(_0x1d0233<_0x3445d8[_0x4e5bd7(0x254)]){let _0x414649=0x0,_0x5c58eb=0x0;_0x3445d8[_0x3445d8[_0x4e5bd7(0x254)]-_0x1d0233][_0x4e5bd7(0x18e)][_0x4e5bd7(0x23d)](_0x1a2c1f=>{const _0x25ecf6=_0x4e5bd7;_0x5c58eb+=_0x1a2c1f['number']*_0x1a2c1f[_0x25ecf6(0x26c)];}),_0x3a158d[_0x571b75][_0x4e5bd7(0x272)]['forEach'](_0x4db186=>{const _0x18dcae=_0x4e5bd7;_0x414649+=_0x4db186[_0x18dcae(0x228)]*_0x4db186['price'];}),_0x108afd*=_0x414649/(_0x5c58eb-_0x414649)+0x1;}_0x571b75++;}}let _0x76cace=0x0;_0x4679c6['coins'][_0x4e5bd7(0x23d)](_0x4948b6=>{const _0x38fe20=_0x4e5bd7;_0x76cace+=_0x4948b6[_0x38fe20(0x228)]*_0x4948b6[_0x38fe20(0x26c)];}),_0x337e86[_0x3445d8[_0x4e5bd7(0x254)]-_0x1d0233-0x1]=_0x76cace*(_0x108afd-0x1);});let _0x247303=[];_0x3a158d=[...config[_0xf83a45(0x127)]]||[];let _0x1f1616=0x0;_0x571b75=0x0,_0x3445d8['forEach']((_0xa51894,_0x17ec3b)=>{const _0x2e0258=_0xf83a45;if(_0x3a158d[_0x571b75]){const _0x56545b=fns[_0x2e0258(0x15c)](_0x3a158d[_0x571b75][_0x2e0258(0x1b4)],_0x2e0258(0x1fe),new Date()),_0x3a6890=fns[_0x2e0258(0x15c)](_0xa51894[_0x2e0258(0x1b4)],_0x2e0258(0x1fe),new Date());if(fns[_0x2e0258(0x1da)](_0x56545b,_0x3a6890)){let _0x12e7fa=0x0;_0x3a158d[_0x571b75]['changes'][_0x2e0258(0x23d)](_0x5ecc61=>{const _0x3f6272=_0x2e0258;!_0x247303[_0x5ecc61['coin']]?_0x247303[_0x5ecc61[_0x3f6272(0x1d7)]]=_0x5ecc61[_0x3f6272(0x228)]:(_0x12e7fa=_0x247303[_0x5ecc61[_0x3f6272(0x1d7)]],_0x247303[_0x5ecc61[_0x3f6272(0x1d7)]]+=_0x5ecc61[_0x3f6272(0x228)]);const _0x5b77a5=_0xa51894[_0x3f6272(0x18e)][_0x3f6272(0x15f)](_0x2c64bb=>_0x2c64bb[_0x3f6272(0x1d7)]==_0x5ecc61[_0x3f6272(0x1d7)]);(!_0x5b77a5||_0x5b77a5[_0x3f6272(0x228)]==0x0)&&(_0x1f1616+=(-_0x5ecc61[_0x3f6272(0x228)]-_0x12e7fa)*_0x5ecc61[_0x3f6272(0x26c)]);}),_0x571b75++;}}_0xa51894[_0x2e0258(0x18e)][_0x2e0258(0x23d)]((_0x4c0b41,_0x525172)=>{const _0x164584=_0x2e0258;_0x247303[_0x4c0b41[_0x164584(0x1d7)]]&&(_0x4c0b41['initial']=_0x247303[_0x4c0b41[_0x164584(0x1d7)]]);}),_0x59c244[_0x2e0258(0x281)]({'date':_0xa51894[_0x2e0258(0x1b4)],'eur':_0xa51894['eur'],'usd':_0xa51894['usd'],'offset':_0x337e86[_0x17ec3b],'netoffset':_0x1f1616,'coins':_0xa51894['coins']});});}return _0x59c244;}function emitPerformance(_0x3a2d70){const _0x4c0fbd=_0x3a09f7;_0x3a2d70[_0x4c0fbd(0x254)]!==0x0?(proxyEmit(_0x4c0fbd(0x180),_0x3a2d70),lastPerformanceEmitted=getDate()):proxyEmit(_0x4c0fbd(0x180),[]);}function getPerf(_0xf8813,_0x2db851){const _0xbc1789=_0x3a09f7;let _0x4d427e=0x0,_0x33529d=0x0,_0x9a0e09=0x0;_0xf8813[_0xbc1789(0x18e)][_0xbc1789(0x23d)](_0x2235dc=>{const _0x4f2221=_0xbc1789;_0x4d427e+=_0x2235dc[_0x4f2221(0x228)]*_0x2235dc[_0x4f2221(0x26c)];});_0x2db851&&(_0x4d427e+=_0xf8813[_0xbc1789(0x245)]);if(config[_0xbc1789(0x1c7)]===_0xbc1789(0x26e)||config[_0xbc1789(0x1c7)]===_0xbc1789(0x21b))_0x33529d=_0x4d427e*_0xf8813['eur'],_0x9a0e09=_0x4d427e*_0xf8813[_0xbc1789(0x1bc)];else{if(config[_0xbc1789(0x1c7)]===_0xbc1789(0x1cc)||config[_0xbc1789(0x1c7)]===_0xbc1789(0x10a)||config[_0xbc1789(0x1c7)]===_0xbc1789(0x115))_0x33529d=_0x4d427e*_0xf8813['eur']/_0xf8813[_0xbc1789(0x1bc)],_0x9a0e09=_0x4d427e;else config[_0xbc1789(0x1c7)]==='EUR'&&(_0x33529d=_0x4d427e,_0x9a0e09=_0x4d427e*_0xf8813['usd']/_0xf8813[_0xbc1789(0x27a)]);}return[_0x4d427e,_0x33529d,_0x9a0e09];}function getKPIs(_0x50a8b3,_0x4f28c9='EUR'){const _0x35394f=_0x3a09f7,_0x300cd6=config[_0x35394f(0x1c7)],_0x234797=lastBalances,_0x10948a=currentCoins,_0x244e3d=getNormalizedPerformance(),_0x486512=_0x50a8b3===_0x35394f(0x1c7)?_0x300cd6:_0x50a8b3===_0x35394f(0x246)||_0x50a8b3==='net-fiat'?_0x4f28c9:_0x35394f(0x1d5)+_0x300cd6,_0x341077=_0x50a8b3===_0x35394f(0x218)?_0x35394f(0x111):_0x50a8b3===_0x35394f(0x1b1)?_0x35394f(0x111):_0x486512+'\x20value',_0x5bc941=_0x50a8b3===_0x35394f(0x218)||_0x50a8b3===_0x35394f(0x1b1)?_0x35394f(0x111):_0x486512+_0x35394f(0x277);let _0x3f3d61=0x0;_0x10948a[_0x35394f(0x23d)](_0x566a5b=>{const _0x13e4f7=_0x35394f;_0x3f3d61+=_0x566a5b[_0x13e4f7(0x228)]*_0x566a5b[_0x13e4f7(0x16f)];});if(_0x50a8b3===_0x35394f(0x246)||_0x50a8b3===_0x35394f(0x1b1)){if(_0x300cd6===_0x35394f(0x26e)||_0x300cd6===_0x35394f(0x21b))_0x3f3d61=_0x3f3d61*(_0x4f28c9===_0x35394f(0x239)?_0x234797[_0x35394f(0x27a)]:_0x234797[_0x35394f(0x1bc)]);else{if(_0x300cd6===_0x35394f(0x1cc)||_0x300cd6==='USDT'||_0x300cd6===_0x35394f(0x115))_0x3f3d61=_0x3f3d61*(_0x4f28c9===_0x35394f(0x239)?_0x234797[_0x35394f(0x27a)]/_0x234797[_0x35394f(0x1bc)]:0x1);else _0x300cd6===_0x35394f(0x239)&&(_0x3f3d61=_0x3f3d61*(_0x4f28c9===_0x35394f(0x239)?0x1:_0x234797[_0x35394f(0x1bc)]/_0x234797[_0x35394f(0x27a)]));}}let _0x5b9819;if(_0x3f3d61!==0x0){if(_0x50a8b3===_0x35394f(0x1c7))_0x5b9819=(_0x3f3d61/startingBalances['basecoin']-0x1)*0x64;else{if(_0x4f28c9==='EUR')_0x5b9819=(_0x3f3d61/startingBalances[_0x35394f(0x27a)]-0x1)*0x64;else _0x5b9819=(_0x3f3d61/startingBalances['usd']-0x1)*0x64;}let _0x3edc2b=0x0;if(startingBalances[_0x35394f(0x18e)])_0x10948a[_0x35394f(0x23d)](_0x396cd9=>{const _0x5b17dc=_0x35394f;let _0x503966=startingBalances[_0x5b17dc(0x18e)][_0x5b17dc(0x15f)](_0x293955=>_0x293955[_0x5b17dc(0x1d7)]===_0x396cd9['coin']);if(_0x503966&&_0x503966[_0x5b17dc(0x1d7)]&&_0x396cd9['number']!==0x0)_0x3edc2b+=_0x503966[_0x5b17dc(0x228)]*_0x396cd9['last'];});let _0x19e778=0x0;if(_0x244e3d['length']!==0x0){let _0xa9355e=_0x244e3d[_0x244e3d[_0x35394f(0x254)]-0x1];_0x19e778=_0xa9355e['netoffset'];}_0x3edc2b-=_0x19e778;_0x50a8b3===_0x35394f(0x218)&&(_0x5b9819=(_0x3f3d61-_0x3edc2b)/startingBalances[_0x35394f(0x1c7)]*0x64,_0x3f3d61=_0x3f3d61-_0x3edc2b);if(_0x50a8b3==='net-fiat'){let _0x4c9b3f=_0x4f28c9===_0x35394f(0x239)?startingBalances[_0x35394f(0x27a)]:startingBalances[_0x35394f(0x1bc)];if(_0x300cd6===_0x35394f(0x26e)||_0x300cd6===_0x35394f(0x21b))_0x3edc2b=_0x4f28c9===_0x35394f(0x239)?_0x3edc2b*_0x234797['eur']:_0x3edc2b*_0x234797[_0x35394f(0x1bc)];else{if(_0x300cd6===_0x35394f(0x1cc)||_0x300cd6===_0x35394f(0x10a)||_0x300cd6===_0x35394f(0x115))_0x3edc2b=_0x4f28c9==='EUR'?_0x3edc2b*_0x234797[_0x35394f(0x27a)]/_0x234797[_0x35394f(0x1bc)]:_0x3edc2b;else _0x300cd6==='EUR'&&(_0x3edc2b=_0x4f28c9===_0x35394f(0x239)?_0x3edc2b:_0x3edc2b*_0x234797[_0x35394f(0x1bc)]/_0x234797[_0x35394f(0x27a)]);}_0x5b9819=(_0x3f3d61-_0x3edc2b)/_0x4c9b3f*0x64,_0x3f3d61=_0x3f3d61-_0x3edc2b;}if(_0x5b9819){if(_0x5b9819<0x64)_0x5b9819=_0x5b9819[_0x35394f(0x1e1)](0x2);else{if(_0x5b9819<0x3e8)_0x5b9819=_0x5b9819[_0x35394f(0x1e1)](0x1);else _0x5b9819=_0x5b9819['toFixed'](0x0);}}else _0x5b9819=Number('0')[_0x35394f(0x1e1)](0x2);if(_0x3f3d61){if(Math[_0x35394f(0x1ad)](_0x3f3d61)<0.000001)_0x3f3d61=_0x3f3d61[_0x35394f(0x1e1)](0x2);else{if(Math[_0x35394f(0x1ad)](_0x3f3d61)<0.1)_0x3f3d61=_0x3f3d61[_0x35394f(0x1e1)](0x6);else{if(Math[_0x35394f(0x1ad)](_0x3f3d61)<0x1)_0x3f3d61=_0x3f3d61[_0x35394f(0x1e1)](0x5);else{if(Math[_0x35394f(0x1ad)](_0x3f3d61)<0xa)_0x3f3d61=_0x3f3d61[_0x35394f(0x1e1)](0x4);else{if(Math[_0x35394f(0x1ad)](_0x3f3d61)<0x64)_0x3f3d61=_0x3f3d61[_0x35394f(0x1e1)](0x3);else{if(Math[_0x35394f(0x1ad)](_0x3f3d61)<0x3e8)_0x3f3d61=_0x3f3d61['toFixed'](0x2);else _0x3f3d61=_0x3f3d61[_0x35394f(0x1e1)](0x2);}}}}}}else _0x3f3d61=Number('0')[_0x35394f(0x1e1)](0x2);}else _0x5b9819=Number('0')[_0x35394f(0x1e1)](0x2);return{'value':_0x3f3d61,'change':_0x5b9819,'leftTxt':_0x341077,'rightTxt':_0x5bc941};}async function getStartingBalances(_0x4e7d74,_0x4d8525=!![]){const _0x387236=_0x3a09f7;if(_0x4e7d74['length']!==0x0){const [_0x1d2487,_0x476437,_0x66d831]=getPerf(_0x4e7d74[0x0],!![]);let _0x48c647=[];config[_0x387236(0x1ef)][_0x387236(0x23d)](_0x35a1e9=>{const _0x2563ec=_0x387236;let _0x5aecfe=0x0,_0xf14d85;config[_0x2563ec(0x127)][_0x2563ec(0x23d)](_0x33a7f0=>{const _0x14105e=_0x2563ec;let _0x5c75d2=_0x33a7f0[_0x14105e(0x272)][_0x14105e(0x15f)](_0x36520e=>_0x36520e[_0x14105e(0x1d7)]==_0x35a1e9['coin']);if(_0x5c75d2){_0x5aecfe+=_0x5c75d2[_0x14105e(0x228)];if(!_0xf14d85)_0xf14d85=_0x5c75d2[_0x14105e(0x26c)];}}),_0x48c647[_0x2563ec(0x281)]({'coin':_0x35a1e9[_0x2563ec(0x1d7)],'number':_0x5aecfe,'initialprice':_0xf14d85});});const _0x29ba65={'basecoin':_0x1d2487,'eur':_0x476437,'usd':_0x66d831,'coins':_0x48c647};if(_0x4d8525)proxyEmit(_0x387236(0x11c),_0x29ba65);startingBalances=_0x29ba65;}}function headlessMode(_0x30a5a4){const _0x485b7e=_0x3a09f7;let _0x1f440f=_0x30a5a4[_0x485b7e(0x1ef)],_0x4a6df2=_0x30a5a4[_0x485b7e(0x24c)],_0x217b85=[];for(let _0xfba73 of _0x1f440f){if(_0xfba73[_0x485b7e(0x1d7)]!=config['basecoin']){if(_0xfba73[_0x485b7e(0x13c)]>=_0x4a6df2/0x64){if(_0xfba73[_0x485b7e(0x22d)])_0x217b85[_0x485b7e(0x281)](_0xfba73);}else{if(_0xfba73[_0x485b7e(0x13c)]<=-_0x4a6df2/0x64){if(_0xfba73[_0x485b7e(0x22d)])_0x217b85['push'](_0xfba73);}}}}_0x217b85['length']>0x0&&placeOrder(_0x217b85);}function notifyBalance(_0xbd8a06){const _0x52f5d9=_0x3a09f7;let _0x9a0635=_0xbd8a06[_0x52f5d9(0x1ef)],_0x18e0bc=_0xbd8a06['threshold'],_0x25f6bf=[];for(let _0x5e0d09 of _0x9a0635){if(_0x5e0d09[_0x52f5d9(0x1d7)]!=config[_0x52f5d9(0x1c7)]){if(_0x5e0d09[_0x52f5d9(0x13c)]>=_0x18e0bc/0x64){if(_0x5e0d09[_0x52f5d9(0x22d)])_0x25f6bf['push'](_0x5e0d09);}else{if(_0x5e0d09[_0x52f5d9(0x13c)]<=-_0x18e0bc/0x64){if(_0x5e0d09['valid'])_0x25f6bf[_0x52f5d9(0x281)](_0x5e0d09);}}}}if(_0x25f6bf[_0x52f5d9(0x254)]>0x0){let _0x43d118=_0x25f6bf[_0x52f5d9(0x1de)](_0x190ee2=>_0x190ee2[_0x52f5d9(0x1d7)]);_0x43d118[_0x52f5d9(0x182)]();let _0x398021=_0x43d118[_0x52f5d9(0x1c9)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x52f5d9(0x280));lastCoinsToBalance=_0x398021;}}function symbolToCoin(_0xdf5d72){const _0x5df143=_0x3a09f7;let _0x50021a;if(_0xdf5d72[_0x5df143(0x15d)]('/'+config['basecoin']))_0x50021a=_0xdf5d72[_0x5df143(0x1d2)]('/'+config[_0x5df143(0x1c7)],'');if(_0xdf5d72['includes'](config[_0x5df143(0x1c7)]+'/'))_0x50021a=_0xdf5d72[_0x5df143(0x1d2)](config[_0x5df143(0x1c7)]+'/','');return _0x50021a;}async function unlockOrders(){const _0x138034=_0x3a09f7;if(allOrdersPlaced&&lockOrders==ORDERS[_0x138034(0x12b)]){logger[_0x138034(0x259)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x138034(0x236)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x5292a1=await getCoins();[currentCoins,currentCoinsAll]=_0x5292a1,validateOrdersState=_0x138034(0x11e),persistOpenOrders([]),lockOrders=ORDERS[_0x138034(0x242)],logger[_0x138034(0x259)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0xec3900){const _0x56f548=_0x3a09f7;if(_0xec3900)validateOrdersState=_0xec3900;logger[_0x56f548(0x259)](_0x56f548(0x149)+validateOrdersState+_0x56f548(0x1dc)+(lockOrders==0x1?_0x56f548(0x1c2):lockOrders==0x2?_0x56f548(0x1ba):_0x56f548(0x1d9)));let _0x43bbf6=[],_0x9ad840=config[_0x56f548(0x1a4)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x56f548(0x22a)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x56f548(0x12b)])return;logger[_0x56f548(0x259)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x56f548(0x23d)](_0x33ebe6=>{const _0x6aaf7b=_0x56f548;let _0x5bf9c3=![];_0x33ebe6[_0x6aaf7b(0x141)]>0x0&&(_0x5bf9c3=!![]),_0x43bbf6[_0x6aaf7b(0x281)](_0x5bf9c3),_0x5bf9c3&&config[_0x6aaf7b(0x1a4)]!=_0x6aaf7b(0x264)&&logHistory('order',_0x6aaf7b(0x203)+_0x33ebe6[_0x6aaf7b(0x174)]+'\x20'+_0x33ebe6['side']+'\x20#'+formatResult(_0x33ebe6[_0x6aaf7b(0x141)],0x8)+'\x20@'+formatResult(_0x33ebe6[_0x6aaf7b(0x26c)],0x8));}),_0x43bbf6[_0x56f548(0x23d)]((_0x4b1595,_0x318d3f)=>{const _0x384384=_0x56f548;if(_0x4b1595)lastOrders[_0x384384(0x227)](_0x318d3f,0x1);}),persistOpenOrders(lastOrders);const _0x3447b9=coolingDown?_0x56f548(0x151):'balancing\x20resumed';if(validateOrdersState=='initial'){validateOrdersState=_0x56f548(0x14a);if(_0x43bbf6[_0x56f548(0x15d)](![])){if(config['ordertype']==_0x56f548(0x264)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x56f548(0x14a)){if(_0x43bbf6[_0x56f548(0x15d)](![])){}else{if(allOrdersPlaced){if(config[_0x56f548(0x1a4)]==_0x56f548(0x264)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x56f548(0x209))_0x43bbf6[_0x56f548(0x15d)](![])&&(config['ordertype']=='market'?logHistory(_0x56f548(0x1ec),_0x56f548(0x150)+Math[_0x56f548(0x201)](_0x9ad840*validateOrderInterval/0xea60)+_0x56f548(0x1a2)+_0x3447b9):(await cancelOrders(),logHistory(_0x56f548(0x1ec),_0x56f548(0x202)+Math['round'](_0x9ad840*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x3447b9))),await unlockOrders();else{if(validateOrdersState==_0x56f548(0x284)){if(config['ordertype']!=_0x56f548(0x264))logHistory('success',_0x56f548(0x270)+_0x3447b9);await unlockOrders();}}}}}async function cancelOrders(){const _0x42f6df=_0x3a09f7;lastOrders[_0x42f6df(0x23d)](async _0x5857e3=>{const _0x217a6c=_0x42f6df;try{const _0x27c2c6=await exchange[_0x217a6c(0x249)](_0x5857e3[_0x217a6c(0x10c)],_0x5857e3[_0x217a6c(0x174)]);}catch(_0x2e7153){if(_0x2e7153[_0x217a6c(0x237)]()[_0x217a6c(0x15d)]('OrderNotFound')){}else await handleError(_0x2e7153,_0x217a6c(0x144));}});}async function initCoinResults(){const _0x3d8267=_0x3a09f7;let _0x52c3d0=[];config[_0x3d8267(0x1ef)][_0x3d8267(0x23d)](_0x452720=>{const _0x293e67=_0x3d8267;if(!_0x452720[_0x293e67(0x177)]&&_0x452720[_0x293e67(0x1d7)]!=config['basecoin']){let _0xf3d6dd=dbCoinResults['get']('coins')[_0x293e67(0x15f)]({'coin':_0x452720[_0x293e67(0x1d7)]})[_0x293e67(0x260)]();if(!_0xf3d6dd){const _0x196e14=currentCoins[_0x293e67(0x15f)](_0x226811=>_0x226811[_0x293e67(0x1d7)]==_0x452720['coin']),_0x56ab1f=global[_0x293e67(0x214)][noslash(_0x452720[_0x293e67(0x174)])];let _0x1b3956=_0x196e14?_0x196e14[_0x293e67(0x228)]:null,_0x28bd83=_0x452720[_0x293e67(0x161)]?0x1/_0x56ab1f:_0x56ab1f,_0x130e3a;config[_0x293e67(0x127)]['forEach'](_0x31003b=>{const _0xcae599=_0x293e67;!_0x130e3a&&(_0x130e3a=_0x31003b[_0xcae599(0x272)]['find'](_0x3f6b1d=>_0x3f6b1d[_0xcae599(0x1d7)]==_0x452720[_0xcae599(0x1d7)]),_0x130e3a&&(_0x1b3956=_0x130e3a['number'],_0x28bd83=_0x130e3a[_0xcae599(0x26c)]));}),_0x52c3d0[_0x293e67(0x281)]({'coin':_0x452720['coin'],'number':_0x1b3956,'price':_0x28bd83});}}}),_0x52c3d0[_0x3d8267(0x23d)](_0xaf30ac=>{const _0x7d3b73=_0x3d8267,_0x214f61={'coin':_0xaf30ac['coin'],'number':_0xaf30ac['number'],'breakeven':_0xaf30ac[_0x7d3b73(0x26c)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x7d3b73(0x18e))[_0x7d3b73(0x281)](_0x214f61)[_0x7d3b73(0x19c)]();});}async function updateCoinResults(_0x240c7d,_0x36ef24=![]){const _0x478ec4=_0x3a09f7;let _0x1e47b6,_0x22b426,_0x2caf4c,_0x325c23,_0x50764c,_0x5e6f65,_0x57f21c=dbCoinResults[_0x478ec4(0x10e)](_0x478ec4(0x18e))[_0x478ec4(0x15f)]({'coin':_0x240c7d[_0x478ec4(0x1d7)]})[_0x478ec4(0x260)]();!_0x57f21c&&await initCoinResults();_0x240c7d[_0x478ec4(0x161)]&&(_0x5e6f65={'filled':_0x240c7d['filled']*_0x240c7d[_0x478ec4(0x26c)],'amount':_0x240c7d[_0x478ec4(0x141)]*_0x240c7d[_0x478ec4(0x26c)],'side':_0x240c7d['side']==_0x478ec4(0x186)?_0x478ec4(0x1aa):'sell','price':0x1/_0x240c7d[_0x478ec4(0x26c)]},_0x240c7d={..._0x240c7d,..._0x5e6f65});_0x36ef24?_0x22b426=_0x240c7d[_0x478ec4(0x1a8)]==_0x478ec4(0x1aa)?_0x57f21c[_0x478ec4(0x228)]+_0x240c7d[_0x478ec4(0x141)]:_0x57f21c[_0x478ec4(0x228)]-_0x240c7d['filled']:_0x22b426=await getCoinNumber(_0x240c7d['coin']);if(_0x240c7d[_0x478ec4(0x26d)]&&_0x240c7d[_0x478ec4(0x26d)][_0x478ec4(0x24a)]==config['basecoin'])_0x1e47b6=_0x240c7d[_0x478ec4(0x26d)][_0x478ec4(0x130)];else{if(_0x240c7d[_0x478ec4(0x26d)]&&_0x240c7d[_0x478ec4(0x26d)][_0x478ec4(0x24a)]==_0x478ec4(0x267)&&!_0x36ef24)_0x1e47b6=_0x240c7d[_0x478ec4(0x26d)][_0x478ec4(0x130)]*global[_0x478ec4(0x214)]['BNB'+config[_0x478ec4(0x1c7)]];else _0x1e47b6=defaultFee*_0x240c7d['filled']*_0x240c7d[_0x478ec4(0x26c)];}_0x240c7d[_0x478ec4(0x1a8)]=='buy'?(_0x2caf4c=_0x22b426!=0x0?(_0x57f21c[_0x478ec4(0x146)]*_0x57f21c['number']+_0x240c7d[_0x478ec4(0x26c)]*(_0x22b426-_0x57f21c[_0x478ec4(0x228)])+_0x1e47b6)/_0x22b426:0x0,_0x325c23=_0x57f21c[_0x478ec4(0x1fd)]):(_0x2caf4c=_0x22b426!=0x0?(_0x57f21c[_0x478ec4(0x146)]*_0x57f21c[_0x478ec4(0x228)]-_0x240c7d[_0x478ec4(0x26c)]*(_0x57f21c[_0x478ec4(0x228)]-_0x22b426)+_0x1e47b6)/_0x22b426:0x0,_0x325c23=_0x57f21c[_0x478ec4(0x1fd)]+(_0x240c7d[_0x478ec4(0x26c)]-_0x57f21c[_0x478ec4(0x146)])*_0x240c7d[_0x478ec4(0x141)]);_0x50764c=(_0x240c7d[_0x478ec4(0x26c)]-_0x2caf4c-_0x1e47b6/_0x240c7d[_0x478ec4(0x141)])*_0x22b426;let _0x120d2f={'coin':_0x240c7d[_0x478ec4(0x1d7)],'number':_0x22b426,'breakeven':formatResult(_0x2caf4c,0x8),'realized':formatResult(_0x325c23,0x8),'unrealized':formatResult(_0x50764c,0x8),'fees':formatResult(_0x57f21c[_0x478ec4(0x114)]+_0x1e47b6,0x8),'sells':_0x240c7d['side']=='sell'?_0x57f21c['sells']+0x1:_0x57f21c[_0x478ec4(0x167)],'buys':_0x240c7d[_0x478ec4(0x1a8)]==_0x478ec4(0x1aa)?_0x57f21c['buys']+0x1:_0x57f21c[_0x478ec4(0x282)]};dbCoinResults[_0x478ec4(0x10e)]('coins')[_0x478ec4(0x15f)]({'coin':_0x240c7d[_0x478ec4(0x1d7)]})[_0x478ec4(0x24f)](_0x120d2f)[_0x478ec4(0x19c)]();if(!_0x36ef24){if(_0x240c7d[_0x478ec4(0x26d)]&&_0x240c7d[_0x478ec4(0x26d)][_0x478ec4(0x24a)]==_0x478ec4(0x267)){const _0x2dd479=currentCoins[_0x478ec4(0x15f)](_0x1e9677=>_0x1e9677[_0x478ec4(0x1d7)]==_0x478ec4(0x267));if(_0x2dd479){let _0x1a866c=dbCoinResults[_0x478ec4(0x10e)](_0x478ec4(0x18e))['find']({'coin':_0x478ec4(0x267)})['value']();_0x120d2f={..._0x1a866c,'number':_0x2dd479[_0x478ec4(0x228)]},dbCoinResults[_0x478ec4(0x10e)](_0x478ec4(0x18e))[_0x478ec4(0x15f)]({'coin':_0x478ec4(0x267)})[_0x478ec4(0x24f)](_0x120d2f)[_0x478ec4(0x19c)]();}}}}async function placeOrder(_0x4263f3){const _0x5fca0d=_0x3a09f7,_0x40545a=config[_0x5fca0d(0x1a4)]=='market'?_0x5fca0d(0x264):_0x5fca0d(0x1ea);if(lockOrders==ORDERS[_0x5fca0d(0x242)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5fca0d(0x12b)],allOrdersPlaced=![],validateOrdersState=_0x5fca0d(0x11e),lastOrders=[];for(const _0x154f4f of _0x4263f3){let _0x664591,_0x5f5be2,_0x69b222,_0x348a96,_0x1b156e,_0x450864=_0x154f4f['symbol'];try{const _0x575e5e=await exchange[_0x5fca0d(0x17a)](_0x450864);_0x664591=_0x154f4f['reverse']?0x1/_0x154f4f[_0x5fca0d(0x16f)]:_0x154f4f[_0x5fca0d(0x16f)],_0x5f5be2=_0x575e5e['bid'],_0x69b222=_0x575e5e['ask'];_0x154f4f['reverse']?(_0x348a96=_0x154f4f[_0x5fca0d(0x1a8)]==_0x5fca0d(0x1aa)?_0x5fca0d(0x186):_0x5fca0d(0x1aa),_0x1b156e=Math[_0x5fca0d(0x1ad)](_0x154f4f[_0x5fca0d(0x19b)])/_0x664591):(_0x348a96=_0x154f4f[_0x5fca0d(0x1a8)],_0x1b156e=Math['abs'](_0x154f4f[_0x5fca0d(0x19b)]));_0x40545a=='limit'&&(config[_0x5fca0d(0x1a4)]=='limit-high'&&(_0x664591=_0x348a96==_0x5fca0d(0x1aa)?_0x5f5be2:_0x69b222),config[_0x5fca0d(0x1a4)]==_0x5fca0d(0x234)&&(_0x664591=_0x348a96==_0x5fca0d(0x1aa)?_0x69b222:_0x5f5be2));_0x1b156e=formatResult(_0x1b156e,0x8),_0x664591=formatResult(_0x664591,0x8);const _0x20c1ef=_0x348a96==_0x5fca0d(0x186)?config[_0x5fca0d(0x20e)]?String['fromCodePoint']('0x'+config[_0x5fca0d(0x20e)])+'\x20':'':config[_0x5fca0d(0x1e0)]?String['fromCodePoint']('0x'+config[_0x5fca0d(0x1e0)])+'\x20':'',_0x216cfb=_0x40545a==_0x5fca0d(0x264)?'Market':config[_0x5fca0d(0x1a4)]==_0x5fca0d(0x20f)?'Limit\x20(high-margin)':_0x5fca0d(0x206),_0x94face=new Date()[_0x5fca0d(0x125)]()[_0x5fca0d(0x237)]()[_0x5fca0d(0x258)](-0x6)+'-'+Math[_0x5fca0d(0x21a)]()['toString']()[_0x5fca0d(0x258)](-0x6);lastOrders[_0x5fca0d(0x281)]({'customId':_0x94face,'symbol':_0x450864,'coin':_0x154f4f['coin'],'side':_0x348a96,'reverse':_0x154f4f['reverse'],'filled':0x0});if(_0x40545a==_0x5fca0d(0x264))logHistory('order',''+_0x20c1ef+_0x216cfb+_0x5fca0d(0x1c3)+_0x450864+'\x20'+_0x348a96+'\x20#'+formatResult(_0x1b156e,0x8)+'\x20@'+formatResult(_0x664591,0x8));else logHistory('order',''+_0x20c1ef+_0x216cfb+_0x5fca0d(0x1c3)+_0x450864+'\x20'+_0x348a96+'\x20#'+formatResult(_0x1b156e,0x8)+'\x20@'+formatResult(_0x664591,0x8));const _0xb61a1f=await exchange['createOrder'](_0x450864,_0x40545a,_0x348a96,_0x1b156e,_0x664591,{'clientOrderId':_0x94face}),_0x497b07=lastOrders[_0x5fca0d(0x254)]-0x1;_0x497b07>=0x0&&lastOrders[_0x497b07][_0x5fca0d(0x188)]==_0x94face&&(lastOrders[_0x497b07]={...lastOrders[_0x497b07],'orderId':_0xb61a1f['id'],'amount':_0xb61a1f[_0x5fca0d(0x16a)],'price':_0xb61a1f[_0x5fca0d(0x26c)],'fee':_0xb61a1f[_0x5fca0d(0x26d)]});if(config['cooldown']!=0x0){let _0x3dda57=null;if(cooldownTracker[_0x5fca0d(0x254)]==config[_0x5fca0d(0x168)]-0x1)_0x3dda57=cooldownTracker[_0x5fca0d(0x268)]();const _0x1cb55f=getTimeStamp();cooldownTracker['push'](_0x1cb55f);if(_0x3dda57){const _0x8154e=fns[_0x5fca0d(0x12d)](new Date(_0x1cb55f),new Date(_0x3dda57));if(_0x8154e<cooldownInterval){logHistory('error','Executed\x20'+config[_0x5fca0d(0x168)]+_0x5fca0d(0x147)+cooldownInterval/0x3c+_0x5fca0d(0x22c)+cooldownPeriod/(0xe10*0x3e8)+_0x5fca0d(0x1a7)),coolingDown=!![];break;}}}}catch(_0x43cd87){if(_0x43cd87[_0x5fca0d(0x237)]()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x28d119=>_0x28d119[_0x5fca0d(0x174)]!=_0x450864),await pauseBot(_0x5fca0d(0x14b)+_0x450864);else _0x43cd87[_0x5fca0d(0x237)]()[_0x5fca0d(0x15d)](_0x5fca0d(0x23b))?(lastOrders=lastOrders[_0x5fca0d(0x190)](_0x396e35=>_0x396e35[_0x5fca0d(0x174)]!=_0x450864),await pauseBot(_0x5fca0d(0x229)+_0x450864)):(lastOrders=lastOrders[_0x5fca0d(0x190)](_0x3d1443=>_0x3d1443[_0x5fca0d(0x174)]!=_0x450864),await handleError(_0x43cd87,'placeOrder()',_0x450864));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5fca0d(0x254)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x2584d7=config['ordertype']==_0x5fca0d(0x264)?validateOrderTimeout*0x3c*0x3e8:config[_0x5fca0d(0x22a)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x2584d7);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5fca0d(0x1ec),_0x5fca0d(0x1a0)));}else{if(coolingDown)!config['headless']&&logHistory(_0x5fca0d(0x171),_0x5fca0d(0x135));else lockOrders!=ORDERS[_0x5fca0d(0x242)]&&(!config[_0x5fca0d(0x199)]&&(config['ordertype']==_0x5fca0d(0x264)?logHistory(_0x5fca0d(0x171),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x5fca0d(0x171),_0x5fca0d(0x247))));}}function persistOpenOrders(_0xf53917){const _0x323c3e=_0x3a09f7,_0x4f5588={...config,'openOrders':_0xf53917};let _0x51fc91=dbConfig[_0x323c3e(0x10e)]('bot')[_0x323c3e(0x15f)]({'botID':botID})[_0x323c3e(0x260)]();_0x51fc91&&dbConfig[_0x323c3e(0x10e)](_0x323c3e(0x1d4))[_0x323c3e(0x15f)]({'botID':botID})[_0x323c3e(0x24f)](_0x4f5588)['write']();}function restoreOrders(){const _0x10fb7c=_0x3a09f7;let _0x1f2a98;config['openOrders']&&allOpenOrders[_0x10fb7c(0x23d)](_0x1770dd=>{const _0xe30d35=_0x10fb7c,_0x185f3c=config[_0xe30d35(0x1f0)]['find'](_0x4f6cfa=>_0x4f6cfa[_0xe30d35(0x10c)]==_0x1770dd['id']);_0x185f3c&&(lastOrders['push'](_0x185f3c),_0x1f2a98=_0x1770dd[_0xe30d35(0x160)]);});if(lastOrders[_0x10fb7c(0x254)]>0x0){lockOrders=ORDERS[_0x10fb7c(0x12b)],validateOrdersState=_0x10fb7c(0x14a),allOrdersPlaced=!![];const _0x4b318a=new Date()[_0x10fb7c(0x125)](),_0x1f8b39=config[_0x10fb7c(0x1a4)]==_0x10fb7c(0x264)?validateOrderTimeout*0x3c*0x3e8:config[_0x10fb7c(0x22a)]*0x3c*0x3e8;if(_0x1f2a98+_0x1f8b39>_0x4b318a){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xafa06c=_0x10fb7c;validateOrders(_0xafa06c(0x209));},_0x1f2a98+_0x1f8b39-_0x4b318a);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x41386a=_0x3a09f7;if(!coinsLoaded){process['send']({'telegrammsg':_0x41386a(0x271)},_0x231bac=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3586ce='';if(config[_0x41386a(0x257)])_0x3586ce=_0x41386a(0x1f2)+config[_0x41386a(0x195)]+_0x41386a(0x15a);else _0x3586ce=_0x41386a(0x240)+botID+_0x41386a(0x15a);const _0x2f4728=getKPIs(_0x41386a(0x1c7)),_0x12647c=getKPIs(_0x41386a(0x246),config[_0x41386a(0x246)]),_0x7afd4a=getKPIs(_0x41386a(0x218)),_0x3be229=getKPIs(_0x41386a(0x1b1),config['fiat']);_0x3586ce+=_0x41386a(0x24b),_0x3586ce+=_0x2f4728[_0x41386a(0x13b)]+_0x41386a(0x11d)+_0x2f4728[_0x41386a(0x260)]+'\x0a',_0x3586ce+=_0x2f4728[_0x41386a(0x1c4)]+':\x20'+_0x2f4728[_0x41386a(0x1fc)]+'%\x0a',_0x3586ce+=_0x12647c['leftTxt']+_0x41386a(0x11d)+_0x12647c['value']+'\x0a',_0x3586ce+=_0x12647c[_0x41386a(0x1c4)]+':\x20'+_0x12647c[_0x41386a(0x1fc)]+'%\x0a',_0x3586ce+=_0x7afd4a['leftTxt']+':\x20'+_0x7afd4a[_0x41386a(0x260)]+'\x20('+config[_0x41386a(0x1c7)]+')\x0a',_0x3586ce+=_0x7afd4a['rightTxt']+':\x20'+_0x7afd4a[_0x41386a(0x1fc)]+'%\x20('+config[_0x41386a(0x1c7)]+')\x0a',_0x3586ce+=_0x3be229[_0x41386a(0x13b)]+':\x20'+_0x3be229[_0x41386a(0x260)]+'\x20('+config[_0x41386a(0x246)]+')\x0a',_0x3586ce+=_0x3be229[_0x41386a(0x1c4)]+':\x20'+_0x3be229[_0x41386a(0x1fc)]+_0x41386a(0x136)+config['fiat']+')\x0a',_0x3586ce+=_0x41386a(0x25f),process[_0x41386a(0x15b)]({'telegrammsg':_0x3586ce},_0x3ab071=>{});}async function sendPortfolioTelegram(){const _0x1ac413=_0x3a09f7;if(!coinsLoaded){process[_0x1ac413(0x15b)]({'telegrammsg':_0x1ac413(0x271)},_0x5b2a60=>{});return;}let _0x22bcd6='';if(config[_0x1ac413(0x257)])_0x22bcd6='<b>'+config[_0x1ac413(0x195)]+_0x1ac413(0x1e6);else _0x22bcd6='<b>Bot\x20'+botID+_0x1ac413(0x1e6);_0x22bcd6+=_0x1ac413(0x24b),_0x22bcd6+='-------------------------------\x0a',_0x22bcd6+=_0x1ac413(0x139),_0x22bcd6+=_0x1ac413(0x235),currentCoins['forEach'](_0x36cb97=>{const _0x27cb9e=_0x1ac413;_0x22bcd6+=_0x36cb97['coin'][_0x27cb9e(0x19a)](0x7)+'|\x20'+formatPad(_0x36cb97[_0x27cb9e(0x19d)],0x2,0x6)+'|\x20'+formatPad(_0x36cb97[_0x27cb9e(0x18c)],0x2,0x6)+'|\x20'+formatPad(_0x36cb97[_0x27cb9e(0x13c)]*0x64,0x2,0x6)+'\x0a';}),_0x22bcd6+='</pre>',process[_0x1ac413(0x15b)]({'telegrammsg':_0x22bcd6},_0x50182e=>{});}function formatPad(_0x3f9c98,_0x5b1514,_0x33035a){const _0x1d48b8=_0x3a09f7,_0x2822f1=formatResultString(_0x3f9c98,_0x5b1514);return _0x2822f1?_0x2822f1[_0x1d48b8(0x1e2)](_0x33035a):''[_0x1d48b8(0x1e2)](_0x33035a);}function logHistory(_0x2ce654,_0x1b7f7d,_0x3b655f=''){const _0x556b5a=_0x3a09f7;let _0x1e2c49={'time':getTimeStamp(),'type':_0x2ce654,'event':_0x1b7f7d};dbLogs[_0x556b5a(0x10e)](_0x556b5a(0x16b))[_0x556b5a(0x281)](_0x1e2c49)[_0x556b5a(0x19c)]();if(_0x3b655f=='')_0x3b655f=_0x1b7f7d;proxyEmit('event',{'log':_0x1e2c49,'summary':_0x3b655f}),process[_0x556b5a(0x15b)]({'telegram':{..._0x1e2c49,'botname':config['botname'],'showname':config[_0x556b5a(0x257)]}},_0x5b7530=>{}),logger[_0x556b5a(0x24d)](''+_0x1e2c49[_0x556b5a(0x250)]);}function emitHistory(_0x13ae57={}){const _0x4d09c7=_0x3a09f7;Object['keys'](_0x13ae57)[_0x4d09c7(0x254)]==0x0&&(_0x13ae57={'type':['order',_0x4d09c7(0x250)],'event':'','page':0x1});if(_0x13ae57['type'][_0x4d09c7(0x15d)]('event'))_0x13ae57[_0x4d09c7(0x1bb)][_0x4d09c7(0x227)](_0x13ae57['type'][_0x4d09c7(0x112)](_0x4d09c7(0x250)),0x1,_0x4d09c7(0x171),'warning',_0x4d09c7(0x1ec));if(dbLogs[_0x4d09c7(0x262)](_0x4d09c7(0x16b))[_0x4d09c7(0x260)]()){let _0x28ca84=dbLogs[_0x4d09c7(0x10e)](_0x4d09c7(0x16b))[_0x4d09c7(0x190)](_0x25d90f=>{const _0x5c8c4f=_0x4d09c7;if(_0x13ae57[_0x5c8c4f(0x1bb)][_0x5c8c4f(0x254)]==0x0)return![];else return _0x13ae57[_0x5c8c4f(0x1bb)][_0x5c8c4f(0x15d)](_0x25d90f[_0x5c8c4f(0x1bb)]);})[_0x4d09c7(0x190)](_0x423409=>{const _0x36d2f1=_0x4d09c7;if(_0x13ae57[_0x36d2f1(0x250)]=='')return!![];else return _0x423409[_0x36d2f1(0x250)][_0x36d2f1(0x198)]()[_0x36d2f1(0x15d)](_0x13ae57[_0x36d2f1(0x250)][_0x36d2f1(0x198)]());})[_0x4d09c7(0x213)]('time'),_0x36215e=_0x28ca84[_0x4d09c7(0x260)]()[_0x4d09c7(0x254)];_0x28ca84=_0x28ca84[_0x4d09c7(0x161)]()[_0x4d09c7(0x258)]((_0x13ae57[_0x4d09c7(0x18a)]-0x1)*logPageSize,_0x13ae57[_0x4d09c7(0x18a)]*logPageSize-0x1)[_0x4d09c7(0x161)]()[_0x4d09c7(0x260)](),proxyEmit(_0x4d09c7(0x18b),{'logs':_0x28ca84,'total':_0x36215e});}else proxyEmit(_0x4d09c7(0x18b),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1e52b2){const _0x567ecd=_0x3a09f7;if(dbLogs['has'](_0x567ecd(0x16b))[_0x567ecd(0x260)]()){const _0xf37a24=dbLogs[_0x567ecd(0x10e)](_0x567ecd(0x16b))[_0x567ecd(0x213)](_0x567ecd(0x1d0))[_0x567ecd(0x190)](_0x494c80=>{const _0x5cb0be=_0x567ecd;return _0x494c80['type']==_0x5cb0be(0x126);})[_0x567ecd(0x260)]();dbLogs['get'](_0x567ecd(0x16b))[_0x567ecd(0x279)]()[_0x567ecd(0x19c)](),dbLogs['get']('logs')['assign'](_0xf37a24)['write'](),emitHistory(_0x1e52b2);}}async function pauseBot(_0x4d0040=''){const _0x551741=_0x3a09f7,_0x58463c=new Date()[_0x551741(0x125)]();if(!lastErrorShown||_0x58463c-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x58463c;!lastBotPause?(lastBotPause=_0x58463c,consecutivePauses=0x1):(_0x58463c-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x551741(0x15b)]({'stop':_0x551741(0x129)},_0x193662=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x551741(0x125)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x4d0040)_0x4d0040+=_0x551741(0x1a1);logHistory('error',_0x4d0040+_0x551741(0x191)+pauseBotInterval/0xea60+_0x551741(0x153)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x3c6e98=_0x3a09f7;process[_0x3c6e98(0x15b)]({'stop':_0x3c6e98(0x164)},_0x56114b=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x4caf2f,_0x1d71d6){const _0x2dc20f=_0x3a09f7;if(_0x4caf2f[_0x2dc20f(0x237)]()[_0x2dc20f(0x15d)](_0x2dc20f(0x14f)))return logHistory(_0x2dc20f(0x171),config[_0x2dc20f(0x12c)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x4caf2f['toString']()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error',config[_0x2dc20f(0x12c)]+_0x2dc20f(0x162)),![];else{if(_0x4caf2f[_0x2dc20f(0x237)]()[_0x2dc20f(0x15d)](_0x2dc20f(0x18d)))return logHistory(_0x2dc20f(0x171),config[_0x2dc20f(0x12c)]+_0x2dc20f(0x187)),logHistory(_0x2dc20f(0x171),_0x2dc20f(0x1ed)),![];else await handleError(_0x4caf2f,_0x1d71d6);}}}async function handleError(_0x5a10f5,_0x323366,_0x489f9c=''){const _0x29fed5=_0x3a09f7,_0x5606c3=config['exchange']||_0x29fed5(0x1b6);if(_0x5a10f5['toString']()['includes'](_0x29fed5(0x20b)))await pauseBot(config['exchange']+_0x29fed5(0x24e));else{if(_0x5a10f5[_0x29fed5(0x237)]()[_0x29fed5(0x15d)](_0x29fed5(0x22f)))await pauseBot(config[_0x29fed5(0x12c)]+'\x20not\x20available');else{if(_0x5a10f5[_0x29fed5(0x237)]()[_0x29fed5(0x15d)](_0x29fed5(0x1f1)))await pauseBot(config['exchange']+_0x29fed5(0x1ca));else{if(_0x5a10f5['toString']()['includes'](_0x29fed5(0x1df)))await pauseBot(config[_0x29fed5(0x12c)]+_0x29fed5(0x152));else{if(_0x5a10f5['toString']()[_0x29fed5(0x15d)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x29fed5(0x171),_0x323366+'\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x29fed5(0x171),_0x29fed5(0x274)),await killBot();else{if(_0x5a10f5['toString']()[_0x29fed5(0x15d)]('InvalidNonce'))logHistory(_0x29fed5(0x171),_0x323366+_0x29fed5(0x253)),logHistory(_0x29fed5(0x171),_0x29fed5(0x274)),await killBot();else{if(_0x5a10f5['toString']()[_0x29fed5(0x15d)](_0x29fed5(0x14f)))logHistory(_0x29fed5(0x171),_0x323366+_0x29fed5(0x1a1)+config[_0x29fed5(0x12c)]+_0x29fed5(0x286)),logHistory(_0x29fed5(0x171),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x5a10f5[_0x29fed5(0x237)]()[_0x29fed5(0x15d)](_0x29fed5(0x1ce)))logHistory(_0x29fed5(0x171),_0x323366+_0x29fed5(0x1a1)+config[_0x29fed5(0x12c)]+_0x29fed5(0x13a)),logHistory(_0x29fed5(0x171),_0x29fed5(0x274)),await killBot();else{if(_0x5a10f5['toString']()['includes'](_0x29fed5(0x18d)))logHistory(_0x29fed5(0x171),_0x323366+_0x29fed5(0x1a1)+config[_0x29fed5(0x12c)]+_0x29fed5(0x113)),logHistory(_0x29fed5(0x171),_0x29fed5(0x274)),await killBot();else _0x5a10f5['toString']()[_0x29fed5(0x15d)](_0x29fed5(0x20d))?logHistory(_0x29fed5(0x171),_0x323366+_0x29fed5(0x172)+_0x489f9c):(logger[_0x29fed5(0x24d)](_0x323366+'\x20|\x20Error\x20details:\x20',_0x5a10f5),await pauseBot(_0x29fed5(0x26b)));}}}}}}}}}function formatResult(_0x3d041f,_0x332eb6){const _0x2c96d6=_0x3a09f7;return parseFloat(_0x3d041f[_0x2c96d6(0x1e1)](_0x332eb6));}function formatResultTruncate(_0x56e384,_0x24d7fa){const _0x26d98b=_0x3a09f7;let _0x4aabd8=formatResultString(_0x56e384,0xa),_0x42666e=_0x4aabd8[_0x26d98b(0x112)]('.');return _0x42666e!=-0x1&&(_0x4aabd8=_0x4aabd8['slice'](0x0,_0x42666e+_0x24d7fa+0x1)),Number(_0x4aabd8);}function formatResultString(_0x2fb032,_0x8e5d6c){const _0x1c84e5=_0x3a09f7;let _0x5804e9;if(!(''+_0x2fb032)[_0x1c84e5(0x15d)]('e'))_0x5804e9=+(Math['round'](_0x2fb032+'e+'+_0x8e5d6c)+'e-'+_0x8e5d6c);else{let _0x323842=(''+_0x2fb032)[_0x1c84e5(0x1f5)]('e'),_0x1aa50f='';+_0x323842[0x1]+_0x8e5d6c>0x0&&(_0x1aa50f='+'),_0x5804e9=+(Math[_0x1c84e5(0x201)](+_0x323842[0x0]+'e'+_0x1aa50f+(+_0x323842[0x1]+_0x8e5d6c))+'e-'+_0x8e5d6c);}return Number(_0x5804e9)[_0x1c84e5(0x1e1)](_0x8e5d6c);}function getServerTime(){const _0x38a7ad=_0x3a09f7,_0xd957be=new Date();return _0xd957be[_0x38a7ad(0x18f)]()+'/'+(_0xd957be[_0x38a7ad(0x21c)]()+0x1)[_0x38a7ad(0x237)]()[_0x38a7ad(0x1e2)](0x2,'0')+'/'+_0xd957be['getDate']()[_0x38a7ad(0x237)]()[_0x38a7ad(0x1e2)](0x2,'0')+'\x20'+_0xd957be['getHours']()['toString']()['padStart'](0x2,'0')+':'+_0xd957be[_0x38a7ad(0x1ab)]()[_0x38a7ad(0x237)]()[_0x38a7ad(0x1e2)](0x2,'0')+':'+_0xd957be[_0x38a7ad(0x23c)]()[_0x38a7ad(0x237)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x259acf=_0x3a09f7,_0x261e65=shiftedTime();return _0x261e65['getFullYear']()+'/'+(_0x261e65[_0x259acf(0x21c)]()+0x1)[_0x259acf(0x237)]()[_0x259acf(0x1e2)](0x2,'0')+'/'+_0x261e65[_0x259acf(0x1db)]()[_0x259acf(0x237)]()[_0x259acf(0x1e2)](0x2,'0')+'\x20'+_0x261e65[_0x259acf(0x110)]()[_0x259acf(0x237)]()[_0x259acf(0x1e2)](0x2,'0')+':'+_0x261e65[_0x259acf(0x1ab)]()[_0x259acf(0x237)]()['padStart'](0x2,'0')+':'+_0x261e65[_0x259acf(0x23c)]()[_0x259acf(0x237)]()[_0x259acf(0x1e2)](0x2,'0');}function getDate(){const _0x33ba66=_0x3a09f7,_0x1a2609=shiftedTime();return _0x1a2609[_0x33ba66(0x18f)]()+'/'+(_0x1a2609[_0x33ba66(0x21c)]()+0x1)['toString']()[_0x33ba66(0x1e2)](0x2,'0')+'/'+_0x1a2609[_0x33ba66(0x1db)]()['toString']()[_0x33ba66(0x1e2)](0x2,'0');}function getHour(){const _0x53923b=_0x3a09f7,_0xc5010c=shiftedTime();return _0xc5010c[_0x53923b(0x110)]()[_0x53923b(0x237)]()[_0x53923b(0x1e2)](0x2,'0');}function sleep(_0x394b13){return new Promise(_0x58b265=>setTimeout(_0x58b265,_0x394b13));}function shiftedTime(){const _0x181e0c=_0x3a09f7,_0x50140b=new Date();let _0x3f3132=_0x50140b;if(config&&config[_0x181e0c(0x1cf)]!==0x0)_0x3f3132=fns[_0x181e0c(0x134)](_0x50140b,{'hours':config[_0x181e0c(0x1cf)]});return _0x3f3132;}function timer(_0x4caa68){const _0x25af45=_0x3a09f7,_0x8f217f=new Date();!lasttime?console[_0x25af45(0x17e)]('timer:',_0x4caa68,_0x8f217f):console['log'](_0x25af45(0x27d),_0x4caa68,(_0x8f217f-lasttime)/0x3e8),lasttime=_0x8f217f;}