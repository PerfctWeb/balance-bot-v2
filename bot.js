const _0x468ef0=_0x5501;(function(_0x3f0b8e,_0x436cfa){const _0x27b765=_0x5501,_0x2c509b=_0x3f0b8e();while(!![]){try{const _0x5cedd1=-parseInt(_0x27b765(0xd3))/0x1*(-parseInt(_0x27b765(0xbe))/0x2)+parseInt(_0x27b765(0x1af))/0x3+parseInt(_0x27b765(0x1d9))/0x4+parseInt(_0x27b765(0xdd))/0x5*(-parseInt(_0x27b765(0xa6))/0x6)+-parseInt(_0x27b765(0xe8))/0x7+parseInt(_0x27b765(0xd8))/0x8*(parseInt(_0x27b765(0x107))/0x9)+-parseInt(_0x27b765(0x131))/0xa*(parseInt(_0x27b765(0x128))/0xb);if(_0x5cedd1===_0x436cfa)break;else _0x2c509b['push'](_0x2c509b['shift']());}catch(_0x797635){_0x2c509b['push'](_0x2c509b['shift']());}}}(_0x228d,0x211ca));const _0x2ce554=function(){let _0x32d881=!![];return function(_0x4b9f4a,_0x312b97){const _0x2e0648=_0x32d881?function(){const _0x3a2365=_0x5501;if(_0x312b97){const _0x5dc7f8=_0x312b97[_0x3a2365(0x173)](_0x4b9f4a,arguments);return _0x312b97=null,_0x5dc7f8;}}:function(){};return _0x32d881=![],_0x2e0648;};}(),_0x45427c=_0x2ce554(this,function(){const _0x156aaa=_0x5501;return _0x45427c['toString']()[_0x156aaa(0xbb)](_0x156aaa(0x102))[_0x156aaa(0xdc)]()[_0x156aaa(0x1b6)](_0x45427c)[_0x156aaa(0xbb)]('(((.+)+)+)+$');});_0x45427c();'use strict';const ccxt=require(_0x468ef0(0x77))['pro'],low=require(_0x468ef0(0x7c)),FileSync=require(_0x468ef0(0x88)),fs=require('fs'),fns=require(_0x468ef0(0xa5)),Crypt=require(_0x468ef0(0xe3))['Crypt'],util=require('util'),argv=require('yargs/yargs')(process['argv'][_0x468ef0(0x142)](0x2))[_0x468ef0(0x199)];let exchange;global[_0x468ef0(0xab)]={},global[_0x468ef0(0xf6)]={};const exceptions={'binance':[_0x468ef0(0x1ad),'HOT/BTC',_0x468ef0(0xa3),'NANO/','YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x468ef0(0xc2)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require(_0x468ef0(0x172))[_0x468ef0(0x87)],botID=process[_0x468ef0(0x199)][0x2]||_0x468ef0(0x190),pattern=/^[0-9]{3}$/;!pattern[_0x468ef0(0xc6)](botID)&&(console[_0x468ef0(0x10d)](_0x468ef0(0x1b9)+botID+_0x468ef0(0x1d6)),killBot());const userID=process[_0x468ef0(0x199)][0x3]||'',configpath=userID?'./config/'+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0x468ef0(0x179),loggerfile=fs[_0x468ef0(0x1e1)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x468ef0(0xba)](configpath)&&fs[_0x468ef0(0x135)](configpath);!fs['existsSync'](logspath)&&fs[_0x468ef0(0x135)](logspath);const configfile=configpath+_0x468ef0(0x112)+botID+_0x468ef0(0x111),logfile=configpath+'bot-'+botID+_0x468ef0(0xa9),performancefile=configpath+_0x468ef0(0x112)+botID+_0x468ef0(0xac),coinresultsfile=configpath+'bot-'+botID+_0x468ef0(0x13b),settingsfile=configpath+_0x468ef0(0x95),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x468ef0(0x14a),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x468ef0(0xb6)]({'logs':[],'version':serverversion})[_0x468ef0(0x9c)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x468ef0(0xb6)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x468ef0(0xb6)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x468ef0(0x182),'rsaStandard':_0x468ef0(0x1bd)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4374f0=>{const _0xe1712c=_0x468ef0;console[_0xe1712c(0x10d)](_0x4374f0);},'simple':_0x4fce70=>{const _0x45c3b8=_0x468ef0;console[_0x45c3b8(0x10d)](_0x4fce70),loggerfile['write'](util['format'](_0x4fce70)+'\x0a');},'full':async(_0xd2b4f1,_0x48906b='')=>{const _0x3824b2=_0x468ef0;let _0x207b7c;if(config[_0x3824b2(0xc3)])_0x207b7c=getTimeStamp()+':\x20'+config['botname']+_0x3824b2(0xc4)+_0xd2b4f1;else _0x207b7c=getTimeStamp()+_0x3824b2(0xf9)+botID+'\x20>\x20'+_0xd2b4f1;console[_0x3824b2(0x10d)](_0x207b7c),loggerfile[_0x3824b2(0x9c)](util[_0x3824b2(0x12f)](_0x207b7c)+'\x0a'),_0x48906b&&(console[_0x3824b2(0x10d)](_0x48906b),loggerfile[_0x3824b2(0x9c)](util['format'](_0x48906b)+'\x0a'));},'debug':async(_0x561c6d,_0x182809='')=>{const _0x9329d5=_0x468ef0;let _0x48e758;if(config[_0x9329d5(0xc3)])_0x48e758=getTimeStamp()+':\x20'+config['botname']+_0x9329d5(0x1e3)+_0x561c6d;else _0x48e758=getTimeStamp()+_0x9329d5(0xf9)+botID+_0x9329d5(0x1e3)+_0x561c6d;if(debugging)console[_0x9329d5(0x10d)](_0x48e758);loggerfile[_0x9329d5(0x9c)](util[_0x9329d5(0x12f)](_0x48e758)+'\x0a');if(_0x182809){if(debugging)console[_0x9329d5(0x10d)](_0x182809);loggerfile[_0x9329d5(0x9c)](util[_0x9329d5(0x12f)](_0x182809)+'\x0a');}}};process['on'](_0x468ef0(0xfe),function(_0x19b3ee){logger['simple'](_0x19b3ee);});settings[_0x468ef0(0xdf)]!=config[_0x468ef0(0xdf)]&&updateTimeshift(settings[_0x468ef0(0xdf)]);process[_0x468ef0(0xe6)]({'started':'running'},_0x520006=>{}),initializeProcessListeners();function proxyEmit(_0x34d280,_0x83a0d7=null){const _0x5e9259=_0x468ef0;process[_0x5e9259(0xe6)]({'function':_0x34d280,'args':_0x83a0d7},_0x7174b3=>{});}function initializeProcessListeners(){process['on']('message',_0x13459a=>{const _0x16d683=_0x5501;switch(Object['keys'](_0x13459a)[0x0]){case _0x16d683(0xdf):_0x13459a[_0x16d683(0xdf)]!=undefined&&(settings[_0x16d683(0xdf)]=_0x13459a[_0x16d683(0xdf)],updateTimeshift(settings[_0x16d683(0xdf)]));break;case _0x16d683(0x118):switch(_0x13459a[_0x16d683(0x118)]){case _0x16d683(0xe2):initclient();break;case _0x16d683(0x1c9):toggleBotMode();break;case _0x16d683(0x17e):emitHistory(_0x13459a[_0x16d683(0x19e)]);break;case _0x16d683(0xec):deleteHistoryAlerts(_0x13459a['args']);break;case _0x16d683(0x117):getPortfolio(_0x13459a[_0x16d683(0x19e)]);break;case _0x16d683(0x1d4):storeConfiguration(_0x13459a[_0x16d683(0x19e)]);break;case'storeHeadless':storeHeadless(_0x13459a[_0x16d683(0x19e)]);break;case _0x16d683(0x10c):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x13459a[_0x16d683(0x19e)]);break;case _0x16d683(0x150):cancelLoading();break;case _0x16d683(0x1db):showConfig();break;case _0x16d683(0x149):sendPortfolioTelegram();break;}}});}reset();async function reset(_0x49aae3=null,_0x56c707=![]){const _0x4f61a1=_0x468ef0;logger[_0x4f61a1(0x1da)]('Reset\x20|\x20'+(_0x49aae3!=null)+_0x4f61a1(0x146)+_0x56c707);if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x56c707)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config['apiKey']!=''&&config['apiKey']!='***'){await initExchange();let _0x102ad9=![];_0x102ad9=await loadSymbols();if(_0x102ad9){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x49aae3),exchangeStopped=![];if(lastOrders['length']==0x0&&allOpenOrders[_0x4f61a1(0x17b)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){const _0x1c56b6=_0x468ef0;exchangeStopped=!![],await exchange[_0x1c56b6(0xd4)]();}async function reloadExchange(){const _0x191898=_0x468ef0;logger[_0x191898(0x1da)](_0x191898(0x13e));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x191898(0x1da)](_0x191898(0xee)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x26d5ab=config[_0x468ef0(0x11c)],_0xdcf486=config[_0x468ef0(0x1ac)],_0x5cf31b=config[_0x468ef0(0x7e)]){const _0x54a7ef=_0x468ef0;exchange&&await stopExchange();!supportedExchanges()[_0x54a7ef(0x15c)](_0x26d5ab)&&(logger[_0x54a7ef(0x14c)](_0x54a7ef(0x151)+_0x26d5ab+_0x54a7ef(0x1c5)),killBot());const _0x30ea36=ccxt[_0x26d5ab[_0x54a7ef(0x1dc)]()];exchange=new _0x30ea36({'apiKey':_0xdcf486,'secret':_0x5cf31b,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x256174=_0x468ef0;let _0x4c0561=config[_0x256174(0x8b)]==_0x256174(0x154)?_0x256174(0x154):_0x256174(0x8d),_0x314d42=!allSymbols[_0x256174(0x15c)](_0x4c0561+'/USD')?_0x256174(0x163):_0x256174(0x10e),_0x38f326=!allSymbols[_0x256174(0x15c)](_0x4c0561+_0x256174(0x159))?_0x314d42:_0x256174(0x106);stablecoins={'eur':{'coin':''+_0x4c0561+_0x38f326,'symbol':_0x4c0561+'/'+_0x38f326},'usd':{'coin':''+_0x4c0561+_0x314d42,'symbol':_0x4c0561+'/'+_0x314d42}};}async function initwsCcxt(_0x1cf0d3){const _0x22b64a=_0x468ef0;_0x1cf0d3==null&&(_0x1cf0d3=[],currentCoins[_0x22b64a(0x18c)](_0x657ccf=>{const _0x35f36f=_0x22b64a;if(_0x657ccf[_0x35f36f(0x17a)]!=config[_0x35f36f(0x8b)])_0x1cf0d3[_0x35f36f(0x16c)](_0x657ccf[_0x35f36f(0x82)]);}));if(!_0x1cf0d3[_0x22b64a(0x15c)](stablecoins['eur'][_0x22b64a(0x82)]))_0x1cf0d3[_0x22b64a(0x16c)](stablecoins[_0x22b64a(0x19c)][_0x22b64a(0x82)]);if(!_0x1cf0d3[_0x22b64a(0x15c)](stablecoins[_0x22b64a(0x8e)][_0x22b64a(0x82)]))_0x1cf0d3[_0x22b64a(0x16c)](stablecoins[_0x22b64a(0x8e)]['symbol']);if(!_0x1cf0d3[_0x22b64a(0x15c)](_0x22b64a(0x113)+config[_0x22b64a(0x8b)]))_0x1cf0d3[_0x22b64a(0x16c)]('BNB/'+config['basecoin']);loadCoins(_0x1cf0d3);const _0x54e95e=async _0x3999e7=>{const _0x1e22b2=_0x22b64a,_0x4f82db=await exchange[_0x1e22b2(0x1ce)](_0x3999e7);global[_0x1e22b2(0xab)][noslash(_0x4f82db[_0x1e22b2(0x82)])]=_0x4f82db[_0x1e22b2(0x120)];while(!![]){if(!botPaused)try{const _0x27a5f5=await exchange[_0x1e22b2(0x17c)](_0x3999e7);global[_0x1e22b2(0xab)][noslash(_0x27a5f5[0x0][_0x1e22b2(0x82)])]=_0x27a5f5[0x0][_0x1e22b2(0x198)],await sleep(0x3e8);}catch(_0x2b52eb){if(!exchangeStopped)await handleError(_0x2b52eb,_0x1e22b2(0x17c),_0x3999e7);}else await sleep(0x3e8);}},_0x1896bb=async _0x199ea3=>{const _0x4918d6=_0x22b64a;while(!![]){if(!botPaused)try{const _0x2092ba=await exchange['fetchTicker'](_0x199ea3);global[_0x4918d6(0xf6)][_0x2092ba[_0x4918d6(0x82)]]=_0x2092ba[_0x4918d6(0x105)],await sleep(0x2710);}catch(_0xbd6037){if(!exchangeStopped)await handleError(_0xbd6037,'fetchTickers',_0x199ea3);}else await sleep(0x3e8);}},_0x12e38f=async()=>{const _0x3d7eb7=_0x22b64a;while(!![]){if(!botPaused)try{const _0x63697=await exchange[_0x3d7eb7(0x15b)]();_0x63697['forEach'](_0x16e2e8=>{updateNumberCoinsCcxt(_0x16e2e8);});}catch(_0xa1e73e){if(!exchangeStopped)await handleError(_0xa1e73e,'watchOrders');}else await sleep(0x3e8);}};_0x1cf0d3[_0x22b64a(0x18c)](async _0xc0ece4=>{_0x54e95e(_0xc0ece4),_0x1896bb(_0xc0ece4);}),!wsEventsSet&&(wsEventsSet=!![],_0x12e38f());}async function loadSymbols(_0x377d47=config[_0x468ef0(0x11c)]){const _0x5c9ddf=_0x468ef0;if(allSymbols)return!![];let _0x5dc128=![];try{markets=await exchange[_0x5c9ddf(0x8a)](),allSymbols=exchange[_0x5c9ddf(0x157)][_0x5c9ddf(0xf3)](_0x3f179a=>{const _0x58f14e=_0x5c9ddf;let _0x5d4d9f=![];const _0x5a952c=exceptions[_0x377d47[_0x58f14e(0x1dc)]()]||[];return _0x5a952c['forEach'](_0x5a3a46=>{const _0x2659a0=_0x58f14e;if(_0x3f179a[_0x2659a0(0x15c)](_0x5a3a46))_0x5d4d9f=!![];}),!_0x5d4d9f;}),_0x5dc128=!![];}catch(_0x53f665){_0x5dc128=![],handleError(_0x53f665,_0x5c9ddf(0x127));}return _0x5dc128;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x2658c3=_0x468ef0;proxyEmit(_0x2658c3(0x170),emittedConfiguration()),proxyEmit(_0x2658c3(0x12b),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2658c3(0x147),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x57f7df=getNormalizedPerformance();emitPerformance(_0x57f7df),await getStartingBalances(_0x57f7df);}async function toggleBotMode(){const _0x24a840=_0x468ef0;let _0x493152=dbConfig[_0x24a840(0xc1)](_0x24a840(0x186))[_0x24a840(0x79)]({'botID':botID})[_0x24a840(0x174)]();if(_0x493152){const _0x54d8fe=!_0x493152[_0x24a840(0x1b4)];dbConfig[_0x24a840(0xc1)](_0x24a840(0x186))[_0x24a840(0x79)]({'botID':botID})[_0x24a840(0x1dd)]({'headless':_0x54d8fe})['write'](),config[_0x24a840(0x1b4)]=_0x54d8fe,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1f5def=_0x468ef0;process[_0x1f5def(0xe6)]({'updatebotmanager':!![]},_0x221438=>{});}async function loadCoins(_0x2580c6){const _0x441451=_0x468ef0;let _0x111109,_0x428944=0x0;loading[_0x441451(0xa2)]=[];let _0x588e57=0x0;_0x2580c6[_0x441451(0x18c)](_0x28aaad=>{const _0x46557b=_0x441451;loading[_0x46557b(0xa2)][_0x46557b(0x16c)](_0x28aaad);}),loadingCanceled=![];let _0x4d56b3=![];while(_0x111109!=_0x2580c6[_0x441451(0x17b)]){_0x111109=0x0,_0x2580c6['forEach'](_0x1e6a87=>{const _0x547c9a=_0x441451;global[_0x547c9a(0xab)][noslash(_0x1e6a87)]&&(loading[_0x547c9a(0xa2)]=loading[_0x547c9a(0xa2)][_0x547c9a(0xf3)](_0x407982=>_0x407982!=_0x1e6a87),_0x111109++);}),loading['progress']=Math[_0x441451(0xa1)](_0x111109/_0x2580c6[_0x441451(0x17b)]*0x64);loading[_0x441451(0x125)]!=0x64&&(_0x588e57>0x1e*0x5&&(loading[_0x441451(0x152)]=!![],emitLoadingProgress()),_0x588e57>0x78*0x5&&!_0x4d56b3&&(loading['cancel']=!![],emitLoadingProgress(),_0x4d56b3=!![],logHistory(_0x441451(0x98),_0x441451(0x1d8)+loading[_0x441451(0xa2)][_0x441451(0x1b1)](',\x20')+_0x441451(0x1a2)),logHistory('error','Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{const _0xbf5c76=_0x441451;process[_0xbf5c76(0xe6)]({'stop':_0xbf5c76(0x1c0)},_0x176d7d=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x441451(0x9f)]=!![],emitLoadingProgress();break;}else _0x111109!=_0x428944&&(_0x428944=_0x111109,emitLoadingProgress()),_0x588e57++,await sleep(0xc8);}_0x111109==_0x2580c6[_0x441451(0x17b)]&&(coinsLoaded=!![],_0x4d56b3&&logHistory(_0x441451(0x145),_0x441451(0xd7)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1448b9=_0x468ef0;proxyEmit(_0x1448b9(0x170),{...emittedConfiguration(),'configstate':_0x1448b9(0x165)});}function emitLoadingProgress(){const _0x2d41ee=_0x468ef0;proxyEmit(_0x2d41ee(0x177),loading);}async function getFiat(){const _0x916b4=_0x468ef0;let _0x27c313=global[_0x916b4(0xab)][stablecoins[_0x916b4(0x19c)][_0x916b4(0x17a)]],_0x38667c=global[_0x916b4(0xab)][stablecoins[_0x916b4(0x8e)][_0x916b4(0x17a)]];return{'eur':Number(_0x27c313),'usd':Number(_0x38667c)};}function capitalize(_0x1e8acf){const _0x5f20f5=_0x468ef0;return _0x1e8acf[_0x5f20f5(0x124)](0x0,0x1)[_0x5f20f5(0x13d)]()+_0x1e8acf['substring'](0x1);}function supportedExchanges(){const _0x4b836c=_0x468ef0,_0x167f9b=[_0x4b836c(0x1a4),_0x4b836c(0x1d0),_0x4b836c(0xc8),_0x4b836c(0xfa),_0x4b836c(0x132),_0x4b836c(0x16e),_0x4b836c(0x1c1),_0x4b836c(0x1e2),_0x4b836c(0x18a),_0x4b836c(0xff),_0x4b836c(0x1ab),_0x4b836c(0x1c3),_0x4b836c(0x121),_0x4b836c(0x133),_0x4b836c(0x123),_0x4b836c(0xf8),_0x4b836c(0x1cc),_0x4b836c(0x1bb),_0x4b836c(0x16b),'Hollaex',_0x4b836c(0x108),'Huobipro','Idex',_0x4b836c(0x1a6),_0x4b836c(0xf5),_0x4b836c(0x185),_0x4b836c(0x14b),'Okex',_0x4b836c(0x1de),_0x4b836c(0x1b3)];return _0x167f9b;}function setStartDatePerformance(){const _0x31c43f=_0x468ef0;if(config&&config[_0x31c43f(0x16d)][0x0][_0x31c43f(0x139)]['length']!=0x0){const _0x6c07cf=config['liquidity'][0x0][_0x31c43f(0x139)];dbPerformance['get'](_0x31c43f(0x1c7))[_0x31c43f(0x79)]({'date':config[_0x31c43f(0xb9)]})[_0x31c43f(0x1dd)]({'coins':_0x6c07cf})[_0x31c43f(0x9c)]();}}async function recreateCoinResults(){const _0x2fbc12=_0x468ef0;let _0x2e8a65,_0x3b4d5d=[];try{const _0x3632a2=fns[_0x2fbc12(0x12f)](fns[_0x2fbc12(0x18f)](config[_0x2fbc12(0xb9)]['replace'](/\//g,'-')),_0x2fbc12(0x155));for(const _0x514cb0 of currentCoins){if(_0x514cb0['coin']!=config[_0x2fbc12(0x8b)]){let _0x12014f=0x0,_0x229143,_0x5cbe94;_0x2e8a65=await getAllEventOrders(_0x514cb0[_0x2fbc12(0x82)]);if(_0x2e8a65[_0x2fbc12(0x17b)]>0x0)_0x2e8a65['forEach'](_0x353374=>{const _0x272a31=_0x2fbc12,_0x4d1977=_0x514cb0[_0x272a31(0x82)]['includes'](config[_0x272a31(0x8b)]+'/');_0x3b4d5d['push']({'datetime':_0x353374[_0x272a31(0x11f)],'coin':_0x514cb0['coin'],'symbol':_0x514cb0[_0x272a31(0x82)],'side':_0x353374[_0x272a31(0x148)],'reverse':_0x4d1977,'amount':formatResult(_0x353374[_0x272a31(0x1d3)],0x8),'filled':formatResult(_0x353374[_0x272a31(0x1d3)],0x8),'price':formatResult(_0x353374[_0x272a31(0x198)],0x8)}),_0x12014f=_0x353374[_0x272a31(0x148)]=='buy'?_0x12014f+_0x353374[_0x272a31(0x1d3)]:_0x12014f-_0x353374[_0x272a31(0x1d3)];if(!_0x5cbe94)_0x5cbe94=_0x353374[_0x272a31(0x198)];});_0x229143=_0x514cb0['number']-_0x12014f;let _0x5a9c26;config['liquidity'][_0x2fbc12(0x18c)](_0x297a60=>{const _0x3975f6=_0x2fbc12;!_0x5a9c26&&(_0x5a9c26=_0x297a60[_0x3975f6(0x139)][_0x3975f6(0x79)](_0xb9b20f=>_0xb9b20f[_0x3975f6(0x17a)]==_0x514cb0['coin']),_0x5a9c26&&(_0x229143=_0x5a9c26['number'],_0x5cbe94=_0x5a9c26[_0x3975f6(0x198)]));});let _0x37c19f=dbCoinResults[_0x2fbc12(0xc1)](_0x2fbc12(0x166))[_0x2fbc12(0x79)]({'coin':_0x514cb0[_0x2fbc12(0x17a)]})[_0x2fbc12(0x174)]();_0x37c19f={'coin':_0x514cb0[_0x2fbc12(0x17a)],'number':_0x229143,'breakeven':_0x5cbe94,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')[_0x2fbc12(0x79)]({'coin':_0x514cb0[_0x2fbc12(0x17a)]})[_0x2fbc12(0x1dd)](_0x37c19f)['write']();}}_0x3b4d5d[_0x2fbc12(0x94)]((_0x504dbb,_0x274cdb)=>_0x504dbb[_0x2fbc12(0x11f)]>_0x274cdb[_0x2fbc12(0x11f)]?0x1:_0x274cdb[_0x2fbc12(0x11f)]>_0x504dbb[_0x2fbc12(0x11f)]?-0x1:0x0);let _0x4c0e58=0x0;for(let _0x287c67 of _0x3b4d5d){await updateCoinResults(_0x287c67,!![]);}}catch(_0xdd3144){await handleError(_0xdd3144,_0x2fbc12(0xb3));}}async function getAllEventOrders(_0x5318a6){const _0x447c7b=_0x468ef0;let _0x1c2ec8=[],_0x428b12=dbLogs[_0x447c7b(0xc1)]('logs')['filter'](_0x2befd2=>{const _0x11ca10=_0x447c7b,_0x1e3625=_0x2befd2[_0x11ca10(0xaa)]['toLowerCase']();return _0x1e3625[_0x11ca10(0x15c)](_0x5318a6[_0x11ca10(0x1dc)]())&&(_0x1e3625[_0x11ca10(0x15c)](_0x11ca10(0x189))&&_0x1e3625[_0x11ca10(0x15c)](_0x11ca10(0xcb))||_0x1e3625[_0x11ca10(0x15c)](_0x11ca10(0x1d3))&&_0x1e3625[_0x11ca10(0x15c)](_0x11ca10(0xcb)));})[_0x447c7b(0xbf)](_0x447c7b(0x7f))[_0x447c7b(0x174)]();return _0x428b12[_0x447c7b(0x18c)](_0x1623f7=>{const _0x551c3a=_0x447c7b,_0x320ad3=_0x1623f7[_0x551c3a(0xaa)][_0x551c3a(0x15c)]('sell')?_0x551c3a(0x83):_0x551c3a(0x1d5),_0x1fc465=/#([0-9]|\.)+\s/i,_0x2aa19b=Number(_0x1fc465[_0x551c3a(0xad)](_0x1623f7['event'])[0x0]['slice'](0x1)),_0xd74a3e=/@([0-9]|\.)+$/i,_0xcb9029=Number(_0xd74a3e[_0x551c3a(0xad)](_0x1623f7['event'])[0x0][_0x551c3a(0x142)](0x1));_0x1c2ec8[_0x551c3a(0x16c)]({'datetime':_0x1623f7[_0x551c3a(0x7f)],'coin':symbolToCoin(_0x5318a6),'symbol':_0x5318a6,'side':_0x320ad3,'amount':_0x2aa19b,'filled':_0x2aa19b,'price':_0xcb9029});}),_0x1c2ec8;}async function getAllOrders(_0x1a69e2,_0x4431cb){const _0x70303=_0x468ef0;let _0x4a036d=[];while(_0x4431cb<exchange[_0x70303(0x15a)]()){const _0x342e10=0x1f4,_0xff1371=await exchange[_0x70303(0xa8)](_0x1a69e2,_0x4431cb,_0x342e10);if(_0xff1371[_0x70303(0x17b)])_0x4431cb=_0xff1371[_0xff1371[_0x70303(0x17b)]-0x1][_0x70303(0xaf)]+0x1,_0x4a036d=_0x4a036d[_0x70303(0x1e0)](_0xff1371);else break;}return _0x4a036d;}async function validate24hChanges(){const _0x5e09aa=_0x468ef0;for(const _0x136712 of currentCoins){if(_0x136712[_0x5e09aa(0x17a)]!=config[_0x5e09aa(0x8b)]){let _0x32c342;_0x136712[_0x5e09aa(0x178)]?_0x32c342=formatResult((0x1/(global[_0x5e09aa(0xf6)][noslash(_0x136712[_0x5e09aa(0x82)])]/0x64+0x1)-0x1)*0x64,0x3):_0x32c342=global[_0x5e09aa(0xf6)][noslash(_0x136712['symbol'])],_0x32c342<config[_0x5e09aa(0x168)]&&(logHistory(_0x5e09aa(0x98),_0x136712[_0x5e09aa(0x17a)]+_0x5e09aa(0x15f)+_0x32c342+'%'),logHistory(_0x5e09aa(0x98),_0x5e09aa(0x130)),logHistory(_0x5e09aa(0x98),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x420a68,_0x547ab4){const _0x3cd0f2=_0x468ef0;if(!_0x420a68)return!![];const _0x547fb9=_0x547ab4[_0x3cd0f2(0xc5)]('.'),_0xca2fdb=_0x420a68[_0x3cd0f2(0xc5)]('.');for(var _0x368350=0x0;_0x368350<_0xca2fdb[_0x3cd0f2(0x17b)];_0x368350++){const _0x2b0498=~~_0xca2fdb[_0x368350],_0x574a73=~~_0x547fb9[_0x368350];if(_0x2b0498<_0x574a73)return!![];if(_0x2b0498>_0x574a73)return![];}return![];}async function oneTimeMigration(){const _0x2ce4d2=_0x468ef0;let _0x48fb69=dbLogs[_0x2ce4d2(0xc1)]('version')[_0x2ce4d2(0x174)]();if(isOlderVersion(_0x48fb69,_0x2ce4d2(0xe4))){let _0x2cafe6=[];const _0x5c5e29=dbLogs[_0x2ce4d2(0xc1)]('logs')[_0x2ce4d2(0x174)]();_0x5c5e29[_0x2ce4d2(0x18c)](_0x4b2ea8=>{const _0x1c1cc4=_0x2ce4d2;_0x2cafe6[_0x1c1cc4(0x16c)]({'time':_0x4b2ea8['time'],'type':_0x4b2ea8[_0x1c1cc4(0x9a)],'event':_0x4b2ea8[_0x1c1cc4(0xaa)]});}),dbLogs[_0x2ce4d2(0xc1)](_0x2ce4d2(0xb5))[_0x2ce4d2(0x1dd)](_0x2cafe6)[_0x2ce4d2(0x9c)]();}let _0x524cd5=dbConfig[_0x2ce4d2(0xc1)](_0x2ce4d2(0x87))[_0x2ce4d2(0x174)]();if(isOlderVersion(_0x524cd5,_0x2ce4d2(0xe4))){let _0x27e1de=dbConfig[_0x2ce4d2(0xc1)]('bot')[_0x2ce4d2(0x79)]({'botID':botID})[_0x2ce4d2(0x174)]();if(_0x27e1de){let _0x4119aa=[];_0x27e1de[_0x2ce4d2(0x195)][_0x2ce4d2(0x18c)](_0x47853a=>{const _0x1d3077=_0x2ce4d2;_0x4119aa[_0x1d3077(0x16c)]({'coin':_0x47853a['coin'],'number':_0x47853a[_0x1d3077(0x169)],'price':_0x47853a[_0x1d3077(0x144)]}),delete _0x47853a[_0x1d3077(0x169)],delete _0x47853a['startprice'];});if(_0x4119aa[_0x2ce4d2(0x17b)]!==0x0)fs[_0x2ce4d2(0x126)](configbackuppath+(_0x2ce4d2(0x156)+botID+'.json'),JSON[_0x2ce4d2(0x191)](_0x4119aa,null,0x4),function(_0x31f7fc){if(_0x31f7fc){}});const _0x610a15=(_0x332ffc,_0x39bdaf)=>{const _0x514e1f=_0x2ce4d2;let _0xb872ce=[];_0x39bdaf[_0x514e1f(0x18c)](_0x1790f8=>{const _0x2ec923=_0x514e1f,_0x17933c=_0x332ffc[_0x2ec923(0x79)](_0x5c4a98=>_0x5c4a98[_0x2ec923(0x17a)]==_0x1790f8[_0x2ec923(0x17a)]);if(!_0x17933c)_0xb872ce[_0x2ec923(0x16c)](_0x1790f8);});let _0x4faf9d=[];return _0x332ffc[_0x514e1f(0x18c)](_0x31b9e3=>{const _0x53ce14=_0x514e1f,_0x5d8b3b=_0x39bdaf[_0x53ce14(0x79)](_0x2644e8=>_0x2644e8['coin']==_0x31b9e3[_0x53ce14(0x17a)]);if(!_0x5d8b3b||_0x5d8b3b[_0x53ce14(0x91)]==0x0&&_0x31b9e3[_0x53ce14(0x91)]!=0x0)_0x4faf9d[_0x53ce14(0x16c)](_0x31b9e3);}),{'missingDay1':_0xb872ce,'notInDay2':_0x4faf9d};},_0x38b0de=dbPerformance['get'](_0x2ce4d2(0x1c7))[_0x2ce4d2(0x134)]()[_0x2ce4d2(0x174)]();if(_0x38b0de['length']>0x1){const {missingDay1:_0x4d7b08,notInDay2:_0x414a1c}=_0x610a15(_0x4119aa,_0x38b0de[0x1]['coins']);_0x4119aa=[..._0x4119aa,..._0x4d7b08],_0x414a1c[_0x2ce4d2(0x18c)](_0x284082=>{const _0x3407ca=_0x2ce4d2;let _0x53c530=_0x4119aa['findIndex'](_0x33bdcb=>_0x33bdcb['coin']==_0x284082[_0x3407ca(0x17a)]);_0x53c530!=-0x1&&_0x4119aa[_0x3407ca(0x183)](_0x53c530,0x1);});}_0x4119aa[_0x2ce4d2(0x94)]((_0xed0ac6,_0x550ddc)=>_0xed0ac6[_0x2ce4d2(0x17a)]>_0x550ddc['coin']?0x1:_0x550ddc[_0x2ce4d2(0x17a)]>_0xed0ac6[_0x2ce4d2(0x17a)]?-0x1:0x0);let _0x5e836a=[{'date':_0x27e1de[_0x2ce4d2(0xb9)],'changes':_0x4119aa}];_0x38b0de[_0x2ce4d2(0x17b)]>0x2&&_0x38b0de[_0x2ce4d2(0x18c)]((_0x332972,_0x4f6802)=>{const _0x39688c=_0x2ce4d2;if(_0x4f6802>0x0&&_0x4f6802<_0x38b0de[_0x39688c(0x17b)]-0x1){const {missingDay1:_0x508851,notInDay2:_0x9ca867}=_0x610a15(_0x38b0de[_0x4f6802]['coins'],_0x38b0de[_0x4f6802+0x1][_0x39688c(0x166)]);_0x4119aa=[],(_0x508851['length']!=0x0||_0x9ca867[_0x39688c(0x17b)]!=0x0)&&(_0x508851[_0x39688c(0x17b)]!=0x0&&_0x4119aa[_0x39688c(0x16c)](..._0x508851),_0x9ca867[_0x39688c(0x17b)]!=0x0&&(_0x9ca867[_0x39688c(0x18c)](_0x241bce=>{const _0x3ce6a5=_0x39688c;_0x241bce[_0x3ce6a5(0x91)]=-_0x241bce[_0x3ce6a5(0x91)];}),_0x4119aa[_0x39688c(0x16c)](..._0x9ca867)),_0x4119aa['sort']((_0x4f5e2d,_0x4ad1c3)=>_0x4f5e2d[_0x39688c(0x17a)]>_0x4ad1c3['coin']?0x1:_0x4ad1c3[_0x39688c(0x17a)]>_0x4f5e2d[_0x39688c(0x17a)]?-0x1:0x0),_0x5e836a[_0x39688c(0x16c)]({'date':_0x38b0de[_0x4f6802+0x1]['date'],'changes':_0x4119aa}));}}),dbConfig[_0x2ce4d2(0xc1)]('bot')[_0x2ce4d2(0x79)]({'botID':botID})[_0x2ce4d2(0x1dd)]({..._0x27e1de,'liquidity':_0x5e836a})[_0x2ce4d2(0x9c)]();}}if(isOlderVersion(_0x524cd5,_0x2ce4d2(0x16f))){let _0x5f27e3=dbConfig[_0x2ce4d2(0xc1)]('bot')[_0x2ce4d2(0x79)]({'botID':botID})[_0x2ce4d2(0x174)]();if(_0x5f27e3){const _0x7c7f6b=_0x5f27e3['exchange'],_0x5007da=_0x7c7f6b?capitalize(_0x7c7f6b):_0x2ce4d2(0x1d0);dbConfig[_0x2ce4d2(0xc1)](_0x2ce4d2(0x186))[_0x2ce4d2(0x79)]({'botID':botID})[_0x2ce4d2(0x1dd)]({'exchange':_0x5007da})[_0x2ce4d2(0x9c)]();}}config=getConfiguration(botID);let _0x790569=dbPerformance[_0x2ce4d2(0xc1)](_0x2ce4d2(0x87))['value']();isOlderVersion(_0x790569,_0x2ce4d2(0xe4))&&setStartDatePerformance();let _0x3f3f86=dbCoinResults[_0x2ce4d2(0xc1)](_0x2ce4d2(0x87))[_0x2ce4d2(0x174)]();if(isOlderVersion(_0x3f3f86,_0x2ce4d2(0x1c8))){let _0x38ca1d=dbCoinResults[_0x2ce4d2(0xc1)](_0x2ce4d2(0x166))['value']();if(_0x38ca1d[_0x2ce4d2(0x17b)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x109725=_0x468ef0;dbConfig[_0x109725(0x18b)](_0x109725(0x87),serverversion)[_0x109725(0x9c)](),dbPerformance['set']('version',serverversion)[_0x109725(0x9c)](),dbLogs['set'](_0x109725(0x87),serverversion)[_0x109725(0x9c)](),dbCoinResults['set']('version',serverversion)[_0x109725(0x9c)]();}function getConfiguration(_0x190f57){const _0x10eed1=_0x468ef0;let _0x1ff31a=dbConfig[_0x10eed1(0xc1)](_0x10eed1(0x186))[_0x10eed1(0x79)]({'botID':_0x190f57})[_0x10eed1(0x174)]();if(_0x1ff31a){let _0x68c81a=![];typeof _0x1ff31a[_0x10eed1(0xb2)]==_0x10eed1(0xd9)&&(_0x1ff31a={..._0x1ff31a,'threshold':Number(_0x1ff31a[_0x10eed1(0xb2)])},_0x68c81a=!![]),_0x1ff31a[_0x10eed1(0x168)]==null&&(_0x1ff31a={..._0x1ff31a,'change24h':-0x14},_0x68c81a=!![]),_0x68c81a&&(_0x1ff31a={'botID':_0x1ff31a[_0x10eed1(0x1e5)],'exchange':_0x1ff31a[_0x10eed1(0x11c)],'apiKey':_0x1ff31a[_0x10eed1(0x1ac)],'apiSecret':_0x1ff31a[_0x10eed1(0x7e)],'basecoin':_0x1ff31a[_0x10eed1(0x8b)],'botname':_0x1ff31a[_0x10eed1(0x1d2)],'showname':_0x1ff31a[_0x10eed1(0xc3)],'threshold':_0x1ff31a['threshold'],'ordertype':_0x1ff31a[_0x10eed1(0x99)],'timeout':_0x1ff31a['timeout'],'startdate':_0x1ff31a['startdate'],'recreate':_0x1ff31a[_0x10eed1(0x13a)],'timeshift':_0x1ff31a[_0x10eed1(0xdf)],'headless':_0x1ff31a['headless'],'cooldown':_0x1ff31a[_0x10eed1(0x100)],'change24h':_0x1ff31a['change24h'],'emojibuy':_0x1ff31a[_0x10eed1(0xd5)],'emojisell':_0x1ff31a[_0x10eed1(0x12d)],'portfolio':_0x1ff31a[_0x10eed1(0x195)],'liquidity':_0x1ff31a['liquidity']},dbConfig['get'](_0x10eed1(0x186))[_0x10eed1(0x176)]()[_0x10eed1(0x9c)](),dbConfig[_0x10eed1(0xc1)](_0x10eed1(0x186))[_0x10eed1(0x16c)](_0x1ff31a)['write']());}else _0x1ff31a={'botID':_0x190f57,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x10eed1(0x180)+_0x190f57,'showname':![],'threshold':0x3,'ordertype':_0x10eed1(0x189),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x1ff31a;}function emittedConfiguration(){const _0xde0c2a=_0x468ef0;let _0x5c07f3;if(config[_0xde0c2a(0x1ac)]=='')_0x5c07f3={...config,'configstate':'initial'};else config[_0xde0c2a(0x1ac)]==_0xde0c2a(0x1b5)?_0x5c07f3={...config,'configstate':_0xde0c2a(0x153)}:_0x5c07f3={...config,'apiKey':_0xde0c2a(0x1be),'apiSecret':'************'};return _0x5c07f3;}function getSettings(){const _0x5df60f=_0x468ef0;return dbSettings[_0x5df60f(0xc1)]('settings')[_0x5df60f(0x174)]();}function getSecure(){const _0x2c1499=_0x468ef0;return dbSecure[_0x2c1499(0xc1)](_0x2c1499(0x18d))['value']()||{};}function updateTimeshift(_0x392a7e){const _0x21a52d=_0x468ef0;let _0x3fabd7=dbConfig['get'](_0x21a52d(0x186))['find']({'botID':botID})['value']();_0x3fabd7&&dbConfig[_0x21a52d(0xc1)](_0x21a52d(0x186))[_0x21a52d(0x79)]({'botID':botID})['assign']({'timeshift':_0x392a7e})[_0x21a52d(0x9c)](),config[_0x21a52d(0xdf)]=_0x392a7e,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x76ad4d){const _0x189b5a=_0x468ef0;let _0x40c997=[],_0x151736=[];_0x76ad4d[_0x189b5a(0x195)][_0x189b5a(0x18c)](_0x369eba=>{const _0x48768f=_0x189b5a;if(!_0x369eba[_0x48768f(0x9d)]&&_0x369eba[_0x48768f(0x17a)]!=_0x76ad4d[_0x48768f(0x8b)])_0x151736[_0x48768f(0x16c)](_0x369eba['symbol']);});currentCoins[_0x189b5a(0x17b)]==0x0?_0x40c997=_0x151736:_0x151736[_0x189b5a(0x18c)](_0x276047=>{const _0x4fc6d9=currentCoins['find'](_0x3ddd02=>_0x3ddd02['symbol']==_0x276047);!_0x4fc6d9&&_0x40c997['push'](_0x276047);});let _0x54a87d=dbConfig[_0x189b5a(0xc1)](_0x189b5a(0x186))[_0x189b5a(0x79)]({'botID':botID})[_0x189b5a(0x174)]();_0x76ad4d={..._0x76ad4d,'apiKey':crypt[_0x189b5a(0xfc)](secure[_0x189b5a(0xae)],_0x76ad4d['apiKey'])[_0x189b5a(0x11d)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x76ad4d['apiSecret'])[_0x189b5a(0x11d)]};if(_0x54a87d){if(_0x76ad4d[_0x189b5a(0x1ac)]=='************')_0x76ad4d[_0x189b5a(0x1ac)]=config['apiKey'];if(_0x76ad4d[_0x189b5a(0x7e)]=='************')_0x76ad4d[_0x189b5a(0x7e)]=config[_0x189b5a(0x7e)];dbConfig[_0x189b5a(0xc1)](_0x189b5a(0x186))[_0x189b5a(0x79)]({'botID':botID})['assign'](_0x76ad4d)[_0x189b5a(0x9c)]();}else dbConfig[_0x189b5a(0xc1)](_0x189b5a(0x186))[_0x189b5a(0x16c)](_0x76ad4d)['write'](),process[_0x189b5a(0xe6)]({'status':_0x189b5a(0x114),'live':_0x189b5a(0x7d)},_0x24b25d=>{});config={..._0x76ad4d},setStartDatePerformance(),process[_0x189b5a(0xe6)]({'botname':_0x76ad4d[_0x189b5a(0x1d2)]},_0x1fb6b6=>{}),updateBotManager();const _0x42f4b7=getNormalizedPerformance();getStartingBalances(_0x42f4b7),emitPerformance(_0x42f4b7),proxyEmit('configuration-stored'),await initCoinResults(),reset(_0x40c997);}async function storeHeadless(_0x154f94){const _0x44e431=_0x468ef0,_0x5af7d0={...config,'headless':_0x154f94[_0x44e431(0x1b4)]};let _0x4d6373=dbConfig[_0x44e431(0xc1)](_0x44e431(0x186))[_0x44e431(0x79)]({'botID':botID})[_0x44e431(0x174)]();_0x4d6373&&dbConfig['get'](_0x44e431(0x186))[_0x44e431(0x79)]({'botID':botID})['assign'](_0x5af7d0)[_0x44e431(0x9c)](),config={..._0x5af7d0},updateBotManager(),proxyEmit(_0x44e431(0x170),emittedConfiguration());}function noslash(_0x122235){const _0x56e96c=_0x468ef0;return _0x122235[_0x56e96c(0x122)]('/','');}async function updateNumberCoinsCcxt(_0x53194a){const _0x1d4106=_0x468ef0;logger[_0x1d4106(0x1da)]('0\x20-\x20EXECUTION:\x20'+_0x53194a[_0x1d4106(0x82)]+'\x20|\x20'+_0x53194a[_0x1d4106(0x103)]+'\x20|\x20'+_0x53194a['id']+_0x1d4106(0x146)+_0x53194a['clientOrderId']);let _0xca78c7=_0x53194a[_0x1d4106(0x103)],_0x1fda5d=![];currentCoins[_0x1d4106(0x18c)](_0x5202b3=>{const _0x1ed76b=_0x1d4106;_0x5202b3[_0x1ed76b(0x82)]==_0x53194a[_0x1ed76b(0x82)]&&(_0x1fda5d=!![]);});if(!_0x1fda5d)return;const _0x34a9a8=currentCoins[_0x1d4106(0x79)](_0x408f7e=>_0x408f7e[_0x1d4106(0x82)]==_0x53194a[_0x1d4106(0x82)]),_0x57aae6=_0x10c586=>{const _0x1b20c9=_0x1d4106;if(_0x34a9a8)_0x34a9a8[_0x1b20c9(0x137)]=_0x10c586;};if(_0xca78c7==_0x1d4106(0xa7))_0x57aae6(_0x1d4106(0xa7));else{if(_0xca78c7==_0x1d4106(0xcf))_0x57aae6(_0x1d4106(0xcf)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0xca78c7==_0x1d4106(0x17d)){logger[_0x1d4106(0x1da)](_0x1d4106(0xb0)+_0x53194a[_0x1d4106(0x82)]+_0x1d4106(0x146)+_0x53194a['filled']+_0x1d4106(0x146)+_0x53194a['id']+_0x1d4106(0x146)+_0x53194a['clientOrderId']);let _0x383376=![];if(lastOrders)lastOrders['forEach'](async _0x4295ba=>{const _0x48e6fe=_0x1d4106;if(_0x4295ba[_0x48e6fe(0xf2)]==_0x53194a['clientOrderId']){logger[_0x48e6fe(0x1da)](_0x48e6fe(0x140)+_0x53194a[_0x48e6fe(0x175)]),_0x383376=!![];if(_0x4295ba[_0x48e6fe(0x1d3)]==0x0){logger[_0x48e6fe(0x1da)](_0x48e6fe(0xf7)+_0x53194a['clientOrderId']),_0x4295ba[_0x48e6fe(0x198)]=_0x53194a[_0x48e6fe(0x1ca)],_0x4295ba[_0x48e6fe(0x1d3)]=_0x53194a[_0x48e6fe(0x1d3)],_0x4295ba[_0x48e6fe(0xed)]={'cost':_0x53194a['fee'][_0x48e6fe(0x12e)],'currency':_0x53194a[_0x48e6fe(0xed)][_0x48e6fe(0x167)]},_0x57aae6('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x4295ba);}}});!_0x383376&&(logger[_0x1d4106(0x1da)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x53194a['id']),_0x57aae6(_0x1d4106(0x1d3)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x2c6627=JSON[_0x1d4106(0xe9)](lastBalances[_0x1d4106(0x195)]);const _0x58ab48=_0x2c6627[_0x1d4106(0x79)](_0x22152a=>_0x22152a[_0x1d4106(0x82)]==_0x53194a[_0x1d4106(0x82)]);if(_0x58ab48){if(_0xca78c7==_0x1d4106(0xa7))_0x58ab48[_0x1d4106(0x137)]=_0x58ab48['orderstatus']==_0x1d4106(0x1d3)?_0x1d4106(0x1d3):_0x1d4106(0xa7);else{if(_0xca78c7==_0x1d4106(0xcf))_0x58ab48[_0x1d4106(0x137)]=_0x58ab48[_0x1d4106(0x137)]=='filled'?_0x1d4106(0x1d3):_0x1d4106(0xcf);else _0xca78c7==_0x1d4106(0x17d)&&(_0x58ab48[_0x1d4106(0x137)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x2c6627)},proxyEmit(_0x1d4106(0x147),{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0x1f4615=![],_0x206772=!![],_0x525ad9=config[_0x468ef0(0x8b)]){const _0x505998=_0x468ef0;let _0x53eeb5,_0x2e0c60=[],_0x4271bd=[],_0x2b5b92=[];try{_0x53eeb5=await exchange['fetchBalance'](),mybalances=_0x53eeb5[_0x505998(0xf1)];if(!_0x206772)for(const [_0x1fa0d6,_0x28db4d]of Object[_0x505998(0x136)](mybalances)){_0x2b5b92[_0x505998(0x16c)](_0x1fa0d6);}else config[_0x505998(0x195)]['forEach'](_0x3eeaad=>{const _0x45782e=_0x505998;if(!_0x3eeaad['excluded'])_0x2b5b92[_0x45782e(0x16c)](_0x3eeaad[_0x45782e(0x17a)]);});if(_0x525ad9=='')for(const [_0x34b5b7,_0x5587bc]of Object['entries'](mybalances)){_0x5587bc['toString']()!=0x0&&_0x4271bd[_0x505998(0x16c)]({'coin':_0x34b5b7});}else{if(_0x1f4615)await getOpenOrders();let _0x3b7fb2=![];for(const [_0x4f3756,_0x453021]of Object['entries'](mybalances)){if(_0x2b5b92[_0x505998(0x15c)](_0x4f3756)){const _0x5d18d3=config[_0x505998(0x195)][_0x505998(0x79)](_0x259270=>_0x259270[_0x505998(0x17a)]==_0x4f3756),_0x4834a4=_0x4f3756+'/'+_0x525ad9,_0x4d252e=_0x525ad9+'/'+_0x4f3756,_0x2fbb55=currentCoins[_0x505998(0x79)](_0x310916=>_0x310916[_0x505998(0x17a)]==_0x4f3756);_0x3b7fb2=![];_0x1f4615&&(_0x3b7fb2=allOpenOrders[_0x505998(0x79)](_0x2ba846=>_0x2ba846[_0x505998(0x82)]==_0x5d18d3['symbol']));if((_0x453021[_0x505998(0xdc)]()!=0x0||_0x5d18d3)&&(allSymbols['includes'](_0x4834a4)||_0x4f3756==_0x525ad9))_0x4f3756!=_0x525ad9&&_0x2e0c60['push'](_0x4834a4),_0x4271bd[_0x505998(0x16c)]({'coin':_0x4f3756,'symbol':_0x4834a4,'reverse':![],'number':Math[_0x505998(0x101)](_0x453021+(_0x5d18d3&&_0x5d18d3[_0x505998(0x1e4)]||0x0),0x0),'orderstatus':_0x1f4615?_0x3b7fb2?_0x505998(0xa7):_0x505998(0x90):_0x2fbb55?_0x2fbb55[_0x505998(0x137)]:'none'});else(_0x453021[_0x505998(0xdc)]()!=0x0||_0x5d18d3)&&allSymbols[_0x505998(0x15c)](_0x4d252e)&&(_0x4f3756!=_0x525ad9&&_0x2e0c60[_0x505998(0x16c)](_0x4d252e),_0x4271bd['push']({'coin':_0x4f3756,'symbol':_0x4d252e,'reverse':!![],'number':Math[_0x505998(0x101)](_0x453021+(_0x5d18d3&&_0x5d18d3[_0x505998(0x1e4)]||0x0),0x0),'orderstatus':_0x1f4615?_0x3b7fb2?'open':_0x505998(0x90):_0x2fbb55?_0x2fbb55[_0x505998(0x137)]:'none'}));}}}}catch(_0xec0816){if(!_0x206772)handleErrorNoStop(_0xec0816,_0x505998(0x14f));else await handleError(_0xec0816,'getCoins()');}return _0x4271bd;}async function getCoinNumber(_0x211fb2){const _0x2c5d62=_0x468ef0;let _0x44cb02;try{const _0x52bac2=await exchange[_0x2c5d62(0x196)]();_0x44cb02=_0x52bac2[_0x2c5d62(0xf1)][_0x211fb2];}catch(_0x10adf0){await handleError(_0x10adf0,'getCoinNumber()');}return _0x44cb02;}async function getOpenOrders(){const _0x44ef73=_0x468ef0;let _0x14674a;allOpenOrders=[];try{for(const _0x5efa47 of config[_0x44ef73(0x195)]){!_0x5efa47[_0x44ef73(0x9d)]&&_0x5efa47[_0x44ef73(0x17a)]!=config[_0x44ef73(0x8b)]&&(_0x14674a=await exchange['fetchOpenOrders'](_0x5efa47[_0x44ef73(0x82)]),_0x14674a[_0x44ef73(0x17b)]>0x0&&allOpenOrders['push'](_0x14674a[0x0]));}}catch(_0x2e1ab7){await handleError(_0x2e1ab7,_0x44ef73(0x14e));}}async function handleOpenOrders(_0x2d8c98=0x0){const _0x1ef948=_0x468ef0;allOpenOrders[_0x1ef948(0x17b)]==0x0&&lockOrders==ORDERS[_0x1ef948(0x1c2)]&&allOrdersPlaced&&(_0x2d8c98==0x0?(logger[_0x1ef948(0x1da)](_0x1ef948(0x9e)),_0x2d8c98++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x1ef948(0x1da)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x1ef948(0x15e))));}async function getPortfolio(_0x30a698){const _0x24dd09=_0x468ef0;let _0x4ee27f=[],_0x2c3743=[],_0xdba879,_0x481af1=[],_0x2e3683=![];if(_0x30a698[_0x24dd09(0x1ac)]===_0x24dd09(0x1be)||_0x30a698[_0x24dd09(0x7e)]===_0x24dd09(0x1be))_0x2e3683=!![];else{await initExchange(_0x30a698[_0x24dd09(0x11c)],_0x30a698['apiKey'],_0x30a698['apiSecret']);try{_0x2e3683=await loadSymbols(_0x30a698[_0x24dd09(0x11c)]);}catch(_0xbebca){_0x2e3683=![],handleErrorNoStop(_0xbebca,_0x24dd09(0x127));}}if(_0x2e3683){_0x481af1=await getCoins(![],![],_0x30a698[_0x24dd09(0x8b)]);if(_0x481af1===![])proxyEmit(_0x24dd09(0x195),![]);else{if(_0x30a698[_0x24dd09(0x8b)]=='')proxyEmit('portfolio',_0x481af1);else{_0x481af1['forEach'](_0x4d0dc6=>{const _0x17dfa0=_0x24dd09;if(_0x4d0dc6[_0x17dfa0(0x17a)]!=_0x30a698['basecoin'])_0x4ee27f[_0x17dfa0(0x16c)](_0x4d0dc6['symbol']);});try{_0x2c3743=await exchange[_0x24dd09(0x11e)](_0x4ee27f);}catch(_0x4defb8){await handleError(_0x4defb8,_0x24dd09(0x160));}_0x481af1[_0x24dd09(0x18c)](_0x301ff0=>{const _0x2e8b83=_0x24dd09;_0x301ff0[_0x2e8b83(0x17a)]!=_0x30a698['basecoin']?_0xdba879=_0x301ff0['reverse']?0x1/_0x2c3743[_0x301ff0[_0x2e8b83(0x82)]][_0x2e8b83(0x120)]:_0x2c3743[_0x301ff0[_0x2e8b83(0x82)]][_0x2e8b83(0x120)]:_0xdba879=0x1,_0x301ff0[_0x2e8b83(0x198)]=formatResult(_0xdba879,0x8);}),proxyEmit('portfolio',_0x481af1);}}}else proxyEmit(_0x24dd09(0x195),![]);}function checkMinimums(_0x11db8f){const _0x44f725=_0x468ef0;let _0x2e17ff=!![];const _0x556965=!_0x11db8f[_0x44f725(0x178)]?markets[_0x11db8f[_0x44f725(0x82)]]['limits']['amount'][_0x44f725(0x1d1)]:markets[_0x11db8f[_0x44f725(0x82)]]['limits'][_0x44f725(0x12e)][_0x44f725(0x1d1)],_0x4032dd=!_0x11db8f[_0x44f725(0x178)]?markets[_0x11db8f[_0x44f725(0x82)]][_0x44f725(0x193)][_0x44f725(0x12e)]['min']:markets[_0x11db8f['symbol']]['limits'][_0x44f725(0x19b)][_0x44f725(0x1d1)],_0x22c309=markets[_0x11db8f[_0x44f725(0x82)]]['precision']['amount'];_0x11db8f[_0x44f725(0x1b8)]=formatResultTruncate(_0x11db8f[_0x44f725(0x1b8)],_0x22c309);if(Math[_0x44f725(0x96)](_0x11db8f[_0x44f725(0x1b8)])<_0x556965)_0x2e17ff=![];if(Math[_0x44f725(0x96)](_0x11db8f[_0x44f725(0x1b8)])*_0x11db8f[_0x44f725(0x120)]<_0x4032dd)_0x2e17ff=![];if(_0x11db8f[_0x44f725(0x148)]==_0x44f725(0x83)){let _0x442305=config[_0x44f725(0x195)][_0x44f725(0x79)](_0x42a37c=>_0x42a37c['coin']==_0x11db8f[_0x44f725(0x17a)]);if(_0x442305[_0x44f725(0x1e4)]>0x0){if(Math[_0x44f725(0x96)](_0x11db8f[_0x44f725(0x1b8)])>_0x11db8f['number']-_0x442305[_0x44f725(0x1e4)])_0x2e17ff=![];}else{if(Math[_0x44f725(0x96)](_0x11db8f[_0x44f725(0x1b8)])>_0x11db8f[_0x44f725(0x91)])_0x2e17ff=![];}}if(_0x11db8f[_0x44f725(0x148)]==_0x44f725(0x1d5)){let _0x5c4c97=config['portfolio']['find'](_0x4a5f64=>_0x4a5f64[_0x44f725(0x17a)]==config[_0x44f725(0x8b)]),_0x1a7382=currentCoins[_0x44f725(0x79)](_0x2bd1f3=>_0x2bd1f3[_0x44f725(0x17a)]==config['basecoin']);if(_0x5c4c97[_0x44f725(0x1e4)]>0x0){if(Math[_0x44f725(0x96)](_0x11db8f[_0x44f725(0x1b8)])*_0x11db8f[_0x44f725(0x120)]>_0x1a7382[_0x44f725(0x91)]-_0x5c4c97[_0x44f725(0x1e4)])_0x2e17ff=![];}else{if(Math['abs'](_0x11db8f['trade'])*_0x11db8f[_0x44f725(0x120)]>_0x1a7382['number'])_0x2e17ff=![];}}return _0x2e17ff;}async function getBalances(){const _0x46f581=_0x468ef0;let _0x416bf8=0x0,_0x3c910b;const _0x47dc3c=config[_0x46f581(0xb2)];if(config[_0x46f581(0x1b4)]&&config[_0x46f581(0x168)]<0x0)await validate24hChanges();currentCoins[_0x46f581(0x18c)](_0x624737=>{const _0x3b33ca=_0x46f581;if(_0x624737[_0x3b33ca(0x17a)]!=config[_0x3b33ca(0x8b)]){let _0x3dd9e2=global['ticker'][noslash(_0x624737[_0x3b33ca(0x82)])];_0x3c910b=_0x624737[_0x3b33ca(0x178)]?0x1/_0x3dd9e2:_0x3dd9e2;}else _0x3c910b=0x1;let _0x16cebb=_0x624737[_0x3b33ca(0x91)]*_0x3c910b;_0x416bf8+=_0x16cebb,_0x624737[_0x3b33ca(0x120)]=formatResult(Number(_0x3c910b),0x8),_0x624737[_0x3b33ca(0x174)]=_0x16cebb;}),currentCoins[_0x46f581(0x18c)](_0x1f186f=>{const _0x2645fa=_0x46f581;let _0x5356a8=config[_0x2645fa(0x195)][_0x2645fa(0x79)](_0x55a7fe=>_0x55a7fe[_0x2645fa(0x17a)]==_0x1f186f['coin']),_0x349747=Number(_0x5356a8['distribution']),_0x3560db=_0x1f186f['value']/_0x416bf8*0x64,_0x50bdbc=_0x349747*_0x416bf8/0x64/_0x1f186f[_0x2645fa(0x120)]-_0x1f186f[_0x2645fa(0x91)];_0x1f186f[_0x2645fa(0x19a)]=formatResult(_0x3560db,0x3),_0x1f186f[_0x2645fa(0x162)]=formatResult(_0x349747,0x3),_0x1f186f[_0x2645fa(0x1b8)]=formatResult(_0x50bdbc,0x8),_0x1f186f[_0x2645fa(0x148)]='',_0x1f186f[_0x2645fa(0xc0)]=![];if(_0x1f186f['coin']!=config[_0x2645fa(0x8b)]){if(_0x1f186f[_0x2645fa(0x19a)]>_0x349747)_0x1f186f[_0x2645fa(0x148)]=_0x2645fa(0x83),_0x1f186f['valid']=checkMinimums(_0x1f186f);else _0x1f186f[_0x2645fa(0x19a)]<_0x349747&&(_0x1f186f[_0x2645fa(0x148)]='buy',_0x1f186f[_0x2645fa(0xc0)]=checkMinimums(_0x1f186f));}_0x1f186f[_0x2645fa(0x119)]=_0x1f186f[_0x2645fa(0x19a)]/_0x1f186f[_0x2645fa(0x162)]-0x1;if(_0x1f186f[_0x2645fa(0x137)]==_0x2645fa(0x1d3)||_0x1f186f[_0x2645fa(0x137)]==_0x2645fa(0xcf))_0x1f186f[_0x2645fa(0x137)]=_0x2645fa(0x90);}),currentCoins[_0x46f581(0x94)]((_0x5849e9,_0x4968fb)=>_0x5849e9[_0x46f581(0x119)]<_0x4968fb[_0x46f581(0x119)]?0x1:_0x4968fb[_0x46f581(0x119)]<_0x5849e9[_0x46f581(0x119)]?-0x1:0x0);const _0x15e5f6=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x15e5f6['eur'],'usd':_0x15e5f6['usd'],'portfolio':JSON[_0x46f581(0x191)](currentCoins),'threshold':_0x47dc3c},proxyEmit(_0x46f581(0x147),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x46f581(0x1b4)])headlessMode({'portfolio':currentCoins,'threshold':_0x47dc3c});else{if(lockOrders==ORDERS[_0x46f581(0xc2)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x47dc3c});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}function _0x5501(_0x2b2bf8,_0x5185c1){const _0x274eb7=_0x228d();return _0x5501=function(_0x45427c,_0x2ce554){_0x45427c=_0x45427c-0x74;let _0x228d3d=_0x274eb7[_0x45427c];return _0x228d3d;},_0x5501(_0x2b2bf8,_0x5185c1);}async function storePerformance(){const _0xcaf071=_0x468ef0;if(!lastBalances)return;let _0x159831=[],_0x4cf26b,_0x3a1c48=JSON[_0xcaf071(0xe9)](lastBalances[_0xcaf071(0x195)]);_0x3a1c48[_0xcaf071(0x94)]((_0x340e70,_0x2d49aa)=>_0x340e70[_0xcaf071(0x17a)]>_0x2d49aa[_0xcaf071(0x17a)]?0x1:_0x2d49aa[_0xcaf071(0x17a)]>_0x340e70[_0xcaf071(0x17a)]?-0x1:0x0),_0x3a1c48[_0xcaf071(0x18c)](_0x429270=>{const _0x11fbea=_0xcaf071;let _0x39801a={'coin':_0x429270[_0x11fbea(0x17a)],'number':_0x429270['number'],'price':_0x429270[_0x11fbea(0x120)]};_0x159831['push'](_0x39801a);});const _0x3e5106=await getFiat();_0x4cf26b={'date':lastBalances[_0xcaf071(0x7f)][_0xcaf071(0xc5)]('\x20')[0x0],'eur':_0x3e5106[_0xcaf071(0x19c)],'usd':_0x3e5106[_0xcaf071(0x8e)],'coins':_0x159831};let _0x454141=dbPerformance[_0xcaf071(0xc1)](_0xcaf071(0x1c7))[_0xcaf071(0x79)]({'date':_0x4cf26b[_0xcaf071(0x141)]})['value']();_0x454141?_0x4cf26b[_0xcaf071(0x141)]!=config[_0xcaf071(0xb9)]&&dbPerformance[_0xcaf071(0xc1)](_0xcaf071(0x1c7))['find']({'date':_0x4cf26b[_0xcaf071(0x141)]})['assign'](_0x4cf26b)['write']():dbPerformance[_0xcaf071(0xc1)](_0xcaf071(0x1c7))[_0xcaf071(0x16c)](_0x4cf26b)[_0xcaf071(0x9c)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4a5525=_0x468ef0;let _0x468d77=[];if(dbPerformance[_0x4a5525(0x18e)](_0x4a5525(0x1c7))[_0x4a5525(0x174)]()){let _0x490fd9=dbPerformance['get'](_0x4a5525(0x1c7))[_0x4a5525(0x134)]()['sortBy'](_0x4a5525(0x141))[_0x4a5525(0x174)](),_0x3160f5=[...config['liquidity']];_0x3160f5[_0x4a5525(0x94)]((_0x2b1664,_0x37d723)=>_0x2b1664[_0x4a5525(0x141)]>_0x37d723[_0x4a5525(0x141)]?-0x1:_0x37d723['date']>_0x2b1664[_0x4a5525(0x141)]?0x1:0x0);let _0x23eab3=0x1,_0x377491=[],_0x48974d=0x0;_0x490fd9[_0x4a5525(0x142)]()[_0x4a5525(0x178)]()[_0x4a5525(0x18c)]((_0x997013,_0x5931f3)=>{const _0x175a20=_0x4a5525;if(_0x3160f5[_0x48974d]){if(_0x490fd9[_0x490fd9[_0x175a20(0x17b)]-_0x5931f3]&&_0x3160f5[_0x48974d][_0x175a20(0x141)]==_0x490fd9[_0x490fd9[_0x175a20(0x17b)]-_0x5931f3][_0x175a20(0x141)]){if(_0x5931f3<_0x490fd9[_0x175a20(0x17b)]){let _0x5751ca=0x0,_0x3fd2f2=0x0;_0x490fd9[_0x490fd9['length']-_0x5931f3]['coins']['forEach'](_0x525a80=>{const _0x4d38a2=_0x175a20;_0x3fd2f2+=_0x525a80[_0x4d38a2(0x91)]*_0x525a80['price'];}),_0x3160f5[_0x48974d][_0x175a20(0x139)][_0x175a20(0x18c)](_0x2641d0=>{const _0x1f937f=_0x175a20;_0x5751ca+=_0x2641d0['number']*_0x2641d0[_0x1f937f(0x198)];}),_0x23eab3*=_0x5751ca/(_0x3fd2f2-_0x5751ca)+0x1;}_0x48974d++;}}let _0x1bcb73=0x0;_0x997013[_0x175a20(0x166)][_0x175a20(0x18c)](_0x3d4fca=>{const _0x593b1a=_0x175a20;_0x1bcb73+=_0x3d4fca[_0x593b1a(0x91)]*_0x3d4fca[_0x593b1a(0x198)];}),_0x377491[_0x490fd9[_0x175a20(0x17b)]-_0x5931f3-0x1]=_0x1bcb73*(_0x23eab3-0x1);});let _0x47908f=[];_0x3160f5=[...config['liquidity']]||[];let _0x1ae697=0x0;_0x48974d=0x0,_0x490fd9[_0x4a5525(0x18c)]((_0x3222b7,_0x1c8bfd)=>{const _0xd70299=_0x4a5525;if(_0x3160f5[_0x48974d]){const _0x27a0ce=fns[_0xd70299(0xe9)](_0x3160f5[_0x48974d][_0xd70299(0x141)],_0xd70299(0xc9),new Date()),_0x505dee=fns['parse'](_0x3222b7[_0xd70299(0x141)],_0xd70299(0xc9),new Date());if(fns[_0xd70299(0x1a7)](_0x27a0ce,_0x505dee)){let _0x1ca92e=0x0;_0x3160f5[_0x48974d][_0xd70299(0x139)][_0xd70299(0x18c)](_0x523a59=>{const _0xc4ed6c=_0xd70299;!_0x47908f[_0x523a59[_0xc4ed6c(0x17a)]]?_0x47908f[_0x523a59['coin']]=_0x523a59[_0xc4ed6c(0x91)]:(_0x1ca92e=_0x47908f[_0x523a59[_0xc4ed6c(0x17a)]],_0x47908f[_0x523a59['coin']]+=_0x523a59['number']);const _0x157a43=_0x3222b7['coins']['find'](_0x5e25a1=>_0x5e25a1[_0xc4ed6c(0x17a)]==_0x523a59['coin']);(!_0x157a43||_0x157a43[_0xc4ed6c(0x91)]==0x0)&&(_0x1ae697+=(-_0x523a59[_0xc4ed6c(0x91)]-_0x1ca92e)*_0x523a59[_0xc4ed6c(0x198)]);}),_0x48974d++;}}_0x3222b7[_0xd70299(0x166)][_0xd70299(0x18c)]((_0x4d70c9,_0xec9a4e)=>{const _0x297994=_0xd70299;_0x47908f[_0x4d70c9[_0x297994(0x17a)]]&&(_0x4d70c9={..._0x4d70c9,'initial':_0x47908f[_0x4d70c9['coin']]}),_0x3222b7['coins'][_0xec9a4e]=_0x4d70c9;}),_0x468d77['push']({'date':_0x3222b7[_0xd70299(0x141)],'eur':_0x3222b7[_0xd70299(0x19c)],'usd':_0x3222b7[_0xd70299(0x8e)],'offset':_0x377491[_0x1c8bfd],'netoffset':_0x1ae697,'coins':_0x3222b7[_0xd70299(0x166)]});});}return _0x468d77;}function emitPerformance(_0x1f2e86){const _0x2cbec1=_0x468ef0;_0x1f2e86[_0x2cbec1(0x17b)]!==0x0?(proxyEmit(_0x2cbec1(0x194),_0x1f2e86),lastPerformanceEmitted=getDate()):proxyEmit(_0x2cbec1(0x194),[]);}function getPerf(_0x648bf4,_0x51e0e9){const _0x42475e=_0x468ef0;let _0x135ec1=0x0,_0x49e431=0x0,_0x24fb90=0x0;_0x648bf4[_0x42475e(0x166)][_0x42475e(0x18c)](_0x2cf0db=>{const _0x14eee9=_0x42475e;_0x135ec1+=_0x2cf0db['number']*_0x2cf0db[_0x14eee9(0x198)];});_0x51e0e9&&(_0x135ec1+=_0x648bf4['offset']);if(config[_0x42475e(0x8b)]===_0x42475e(0x8d)||config[_0x42475e(0x8b)]===_0x42475e(0x154))_0x49e431=_0x135ec1*_0x648bf4['eur'],_0x24fb90=_0x135ec1*_0x648bf4[_0x42475e(0x8e)];else{if(config[_0x42475e(0x8b)]==='BUSD'||config[_0x42475e(0x8b)]===_0x42475e(0x163)||config[_0x42475e(0x8b)]===_0x42475e(0x10e))_0x49e431=_0x135ec1*_0x648bf4['eur']/_0x648bf4[_0x42475e(0x8e)],_0x24fb90=_0x135ec1;else config[_0x42475e(0x8b)]==='EUR'&&(_0x49e431=_0x135ec1,_0x24fb90=_0x135ec1*_0x648bf4[_0x42475e(0x8e)]/_0x648bf4[_0x42475e(0x19c)]);}return[_0x135ec1,_0x49e431,_0x24fb90];}function getKPIs(_0x59feba,_0x3205d9=_0x468ef0(0x106)){const _0x15b67a=_0x468ef0,_0x56bd9d=config['basecoin'],_0x225618=config[_0x15b67a(0x147)],_0x270e7f=currentCoins,_0x606446=getNormalizedPerformance(),_0xe387d4=_0x59feba===_0x15b67a(0x8b)?_0x56bd9d:_0x59feba===_0x15b67a(0x143)||_0x59feba===_0x15b67a(0x1ae)?_0x3205d9:_0x15b67a(0x75)+_0x56bd9d,_0x5187e7=_0x59feba==='net-basecoin'?_0x15b67a(0xd1):_0x59feba==='net-fiat'?_0x15b67a(0x8c)+_0xe387d4+')':_0xe387d4+_0x15b67a(0x1d7),_0x4c4b57=_0x59feba===_0x15b67a(0xf0)||_0x59feba==='net-fiat'?_0x15b67a(0xd1):_0xe387d4+_0x15b67a(0xda);let _0x4460c0=0x0;_0x270e7f[_0x15b67a(0x18c)](_0x3f7c20=>{const _0x178b73=_0x15b67a;_0x4460c0+=_0x3f7c20[_0x178b73(0x91)]*_0x3f7c20[_0x178b73(0x120)];});if(_0x59feba===_0x15b67a(0x143)||_0x59feba===_0x15b67a(0x1ae)){if(_0x56bd9d===_0x15b67a(0x8d)||_0x56bd9d===_0x15b67a(0x154))_0x4460c0=_0x4460c0*(_0x3205d9===_0x15b67a(0x106)?_0x225618[_0x15b67a(0x19c)]:_0x225618[_0x15b67a(0x8e)]);else{if(_0x56bd9d===_0x15b67a(0x15d)||_0x56bd9d===_0x15b67a(0x163)||_0x56bd9d===_0x15b67a(0x10e))_0x4460c0=_0x4460c0*(_0x3205d9===_0x15b67a(0x106)?_0x225618[_0x15b67a(0x19c)]/_0x225618[_0x15b67a(0x8e)]:0x1);else _0x56bd9d===_0x15b67a(0x106)&&(_0x4460c0=_0x4460c0*(_0x3205d9===_0x15b67a(0x106)?0x1:_0x225618['usd']/_0x225618[_0x15b67a(0x19c)]));}}let _0x10aa01;if(_0x4460c0!==0x0){if(_0x59feba===_0x15b67a(0x8b))_0x10aa01=(_0x4460c0/startingBalances[_0x15b67a(0x8b)]-0x1)*0x64;else{if(_0x3205d9===_0x15b67a(0x106))_0x10aa01=(_0x4460c0/startingBalances[_0x15b67a(0x19c)]-0x1)*0x64;else _0x10aa01=(_0x4460c0/startingBalances[_0x15b67a(0x8e)]-0x1)*0x64;}let _0x39908b=0x0;if(startingBalances[_0x15b67a(0x166)])_0x270e7f[_0x15b67a(0x18c)](_0x244ba0=>{const _0x439ca0=_0x15b67a;let _0x3a100a=startingBalances[_0x439ca0(0x166)][_0x439ca0(0x79)](_0x49d37f=>_0x49d37f[_0x439ca0(0x17a)]===_0x244ba0['coin']);if(_0x3a100a&&_0x3a100a[_0x439ca0(0x17a)]&&_0x244ba0[_0x439ca0(0x91)]!==0x0)_0x39908b+=_0x3a100a[_0x439ca0(0x91)]*_0x244ba0[_0x439ca0(0x120)];});let _0x1994f1=0x0;if(_0x606446['length']!==0x0){let _0x7e72e8=_0x606446[_0x606446[_0x15b67a(0x17b)]-0x1];_0x1994f1=_0x7e72e8[_0x15b67a(0xea)];}_0x39908b-=_0x1994f1;_0x59feba==='net-basecoin'&&(_0x10aa01=(_0x4460c0-_0x39908b)/startingBalances[_0x15b67a(0x8b)]*0x64,_0x4460c0=_0x4460c0-_0x39908b);if(_0x59feba===_0x15b67a(0x1ae)){let _0x402f28=_0x3205d9===_0x15b67a(0x106)?startingBalances[_0x15b67a(0x19c)]:startingBalances[_0x15b67a(0x8e)];if(_0x56bd9d===_0x15b67a(0x8d)||_0x56bd9d==='ETH')_0x39908b=_0x3205d9==='EUR'?_0x39908b*_0x225618[_0x15b67a(0x19c)]:_0x39908b*_0x225618[_0x15b67a(0x8e)];else{if(_0x56bd9d===_0x15b67a(0x15d)||_0x56bd9d===_0x15b67a(0x163)||_0x56bd9d==='USD')_0x39908b=_0x3205d9==='EUR'?_0x39908b*_0x225618['eur']/_0x225618[_0x15b67a(0x8e)]:_0x39908b;else _0x56bd9d===_0x15b67a(0x106)&&(_0x39908b=_0x3205d9==='EUR'?_0x39908b:_0x39908b*_0x225618['usd']/_0x225618[_0x15b67a(0x19c)]);}_0x10aa01=(_0x4460c0-_0x39908b)/_0x402f28*0x64,_0x4460c0=_0x4460c0-_0x39908b;}if(_0x10aa01){if(_0x10aa01<0x64)_0x10aa01=_0x10aa01[_0x15b67a(0xa0)](0x2);else{if(_0x10aa01<0x3e8)_0x10aa01=_0x10aa01[_0x15b67a(0xa0)](0x1);else _0x10aa01=_0x10aa01[_0x15b67a(0xa0)](0x0);}}else _0x10aa01=Number('0')['toFixed'](0x2);if(_0x4460c0){if(Math[_0x15b67a(0x96)](_0x4460c0)<0.000001)_0x4460c0=_0x4460c0[_0x15b67a(0xa0)](0x2);else{if(Math[_0x15b67a(0x96)](_0x4460c0)<0.1)_0x4460c0=_0x4460c0[_0x15b67a(0xa0)](0x6);else{if(Math[_0x15b67a(0x96)](_0x4460c0)<0x1)_0x4460c0=_0x4460c0[_0x15b67a(0xa0)](0x5);else{if(Math[_0x15b67a(0x96)](_0x4460c0)<0xa)_0x4460c0=_0x4460c0[_0x15b67a(0xa0)](0x4);else{if(Math[_0x15b67a(0x96)](_0x4460c0)<0x64)_0x4460c0=_0x4460c0['toFixed'](0x3);else{if(Math[_0x15b67a(0x96)](_0x4460c0)<0x3e8)_0x4460c0=_0x4460c0[_0x15b67a(0xa0)](0x2);else _0x4460c0=_0x4460c0[_0x15b67a(0xa0)](0x2);}}}}}}else _0x4460c0=Number('0')[_0x15b67a(0xa0)](0x2);}else _0x10aa01=Number('0')[_0x15b67a(0xa0)](0x2);return{'value':_0x4460c0,'change':_0x10aa01,'leftTxt':_0x5187e7,'rightTxt':_0x4c4b57};}async function getStartingBalances(_0x311d5e,_0x1607c4=!![]){const _0x1f801c=_0x468ef0;if(_0x311d5e[_0x1f801c(0x17b)]!==0x0){const [_0x1f00f6,_0x49d158,_0x275263]=getPerf(_0x311d5e[0x0],!![]);let _0x34f266=[];config['portfolio'][_0x1f801c(0x18c)](_0x5cd6ce=>{const _0x1d5e10=_0x1f801c;let _0xc2f165=0x0,_0x2fe82a;config[_0x1d5e10(0x16d)]['forEach'](_0x4907b0=>{const _0x4a3a54=_0x1d5e10;let _0x4fa02c=_0x4907b0['changes'][_0x4a3a54(0x79)](_0x283461=>_0x283461['coin']==_0x5cd6ce[_0x4a3a54(0x17a)]);if(_0x4fa02c){_0xc2f165+=_0x4fa02c[_0x4a3a54(0x91)];if(!_0x2fe82a)_0x2fe82a=_0x4fa02c[_0x4a3a54(0x198)];}}),_0x34f266[_0x1d5e10(0x16c)]({'coin':_0x5cd6ce['coin'],'number':_0xc2f165,'initialprice':_0x2fe82a});});const _0x2753ad={'basecoin':_0x1f00f6,'eur':_0x49d158,'usd':_0x275263,'coins':_0x34f266};if(_0x1607c4)proxyEmit(_0x1f801c(0xb8),_0x2753ad);startingBalances=_0x2753ad;}}function headlessMode(_0x3fd8e9){const _0x44eb9d=_0x468ef0;let _0xa8ec86=_0x3fd8e9[_0x44eb9d(0x195)],_0x1e795b=_0x3fd8e9[_0x44eb9d(0xb2)],_0x3a0397=[];for(let _0x10eb10 of _0xa8ec86){if(_0x10eb10[_0x44eb9d(0x17a)]!=config['basecoin']){if(_0x10eb10[_0x44eb9d(0x119)]>=_0x1e795b/0x64){if(_0x10eb10[_0x44eb9d(0xc0)])_0x3a0397[_0x44eb9d(0x16c)](_0x10eb10);}else{if(_0x10eb10[_0x44eb9d(0x119)]<=-_0x1e795b/0x64){if(_0x10eb10['valid'])_0x3a0397['push'](_0x10eb10);}}}}_0x3a0397[_0x44eb9d(0x17b)]>0x0&&placeOrder(_0x3a0397);}function notifyBalance(_0x3690d3){const _0x167124=_0x468ef0;let _0x1ebe0f=_0x3690d3['portfolio'],_0x16967c=_0x3690d3[_0x167124(0xb2)],_0x21ee33=[];for(let _0x3896ee of _0x1ebe0f){if(_0x3896ee[_0x167124(0x17a)]!=config[_0x167124(0x8b)]){if(_0x3896ee['delta']>=_0x16967c/0x64){if(_0x3896ee[_0x167124(0xc0)])_0x21ee33[_0x167124(0x16c)](_0x3896ee);}else{if(_0x3896ee[_0x167124(0x119)]<=-_0x16967c/0x64){if(_0x3896ee['valid'])_0x21ee33['push'](_0x3896ee);}}}}if(_0x21ee33[_0x167124(0x17b)]>0x0){let _0x376bac=_0x21ee33['map'](_0x1c0fd0=>_0x1c0fd0[_0x167124(0x17a)]);_0x376bac[_0x167124(0x94)]();let _0xaa3409=_0x376bac['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x167124(0x181),_0x167124(0x1a1));lastCoinsToBalance=_0xaa3409;}}function symbolToCoin(_0x410241){const _0x352bb9=_0x468ef0;let _0x49c580;if(_0x410241[_0x352bb9(0x15c)]('/'+config[_0x352bb9(0x8b)]))_0x49c580=_0x410241[_0x352bb9(0x122)]('/'+config[_0x352bb9(0x8b)],'');if(_0x410241[_0x352bb9(0x15c)](config[_0x352bb9(0x8b)]+'/'))_0x49c580=_0x410241['replace'](config[_0x352bb9(0x8b)]+'/','');return _0x49c580;}async function unlockOrders(){const _0x199ece=_0x468ef0;if(allOrdersPlaced&&lockOrders==ORDERS[_0x199ece(0x1c2)]){logger[_0x199ece(0x1da)](_0x199ece(0x197)),lockOrders=ORDERS[_0x199ece(0x1df)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x199ece(0x93),persistOpenOrders([]),lockOrders=ORDERS[_0x199ece(0xc2)],logger[_0x199ece(0x1da)](_0x199ece(0x1bf));}}async function validateOrders(_0x35b6b7){const _0x335fea=_0x468ef0;if(_0x35b6b7)validateOrdersState=_0x35b6b7;logger[_0x335fea(0x1da)](_0x335fea(0x1c4)+validateOrdersState+_0x335fea(0xbd)+(lockOrders==0x1?_0x335fea(0x1cd):lockOrders==0x2?'ORDERS.UNLOCKING':_0x335fea(0x7a)));let _0x2d8b60=[],_0x3967fd=config[_0x335fea(0x99)]==_0x335fea(0x189)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x335fea(0x1c2)])return;logger[_0x335fea(0x1da)](_0x335fea(0x116)+validateOrdersState),lastOrders['forEach'](_0x233974=>{const _0xb54746=_0x335fea;let _0x583aa8=![];_0x233974[_0xb54746(0x1d3)]>0x0&&(_0x583aa8=!![]),_0x2d8b60[_0xb54746(0x16c)](_0x583aa8),_0x583aa8&&config[_0xb54746(0x99)]!='market'&&logHistory(_0xb54746(0xcb),_0xb54746(0xcd)+_0x233974[_0xb54746(0x82)]+'\x20'+_0x233974[_0xb54746(0x148)]+'\x20#'+formatResult(_0x233974['filled'],0x8)+'\x20@'+formatResult(_0x233974[_0xb54746(0x198)],0x8));}),_0x2d8b60[_0x335fea(0x18c)]((_0x4ef52e,_0x2b899f)=>{const _0x4b5488=_0x335fea;if(_0x4ef52e)lastOrders[_0x4b5488(0x183)](_0x2b899f,0x1);}),persistOpenOrders(lastOrders);const _0x3f7e44=coolingDown?_0x335fea(0x97):_0x335fea(0x19f);if(validateOrdersState==_0x335fea(0x93))validateOrdersState='ongoing',_0x2d8b60[_0x335fea(0x15c)](![])?config[_0x335fea(0x99)]==_0x335fea(0x189)?logHistory(_0x335fea(0x181),_0x335fea(0x9b)):logHistory(_0x335fea(0x181),_0x335fea(0x192)):await unlockOrders();else{if(validateOrdersState==_0x335fea(0x1e6)){if(_0x2d8b60[_0x335fea(0x15c)](![])){}else allOrdersPlaced&&(config[_0x335fea(0x99)]==_0x335fea(0x189)?logHistory(_0x335fea(0x145),_0x335fea(0x184)+_0x3f7e44):logHistory(_0x335fea(0x145),_0x335fea(0xe5)+_0x3f7e44),await unlockOrders());}else{if(validateOrdersState==_0x335fea(0x1bc))_0x2d8b60[_0x335fea(0x15c)](![])&&(config[_0x335fea(0x99)]==_0x335fea(0x189)?logHistory(_0x335fea(0x145),_0x335fea(0x11a)+Math[_0x335fea(0xa1)](_0x3967fd*validateOrderInterval/0xea60)+_0x335fea(0x14d)+_0x3f7e44):(await cancelOrders(),logHistory(_0x335fea(0x145),_0x335fea(0xfb)+Math[_0x335fea(0xa1)](_0x3967fd*validateOrderInterval/0xea60)+_0x335fea(0x14d)+_0x3f7e44))),await unlockOrders();else{if(validateOrdersState==_0x335fea(0x15e)){if(config['ordertype']!=_0x335fea(0x189))logHistory(_0x335fea(0x145),'No\x20more\x20open\x20orders\x20-\x20'+_0x3f7e44);await unlockOrders();}}}}}async function cancelOrders(){const _0x220050=_0x468ef0;lastOrders[_0x220050(0x18c)](async _0x547492=>{const _0x458e0d=_0x220050;try{const _0x11723c=await exchange[_0x458e0d(0x1b2)](_0x547492[_0x458e0d(0xb4)],_0x547492[_0x458e0d(0x82)]);}catch(_0x309d76){if(_0x309d76['toString']()[_0x458e0d(0x15c)](_0x458e0d(0x19d))){}else await handleError(_0x309d76,'cancelOrders()');}});}async function initCoinResults(){const _0x2c6e51=_0x468ef0;let _0x3cb86b=[];config[_0x2c6e51(0x195)][_0x2c6e51(0x18c)](_0x404164=>{const _0x4dfc1d=_0x2c6e51;if(!_0x404164[_0x4dfc1d(0x9d)]&&_0x404164[_0x4dfc1d(0x17a)]!=config['basecoin']){let _0xf2c918=dbCoinResults[_0x4dfc1d(0xc1)](_0x4dfc1d(0x166))[_0x4dfc1d(0x79)]({'coin':_0x404164[_0x4dfc1d(0x17a)]})[_0x4dfc1d(0x174)]();if(!_0xf2c918){const _0x444b12=currentCoins[_0x4dfc1d(0x79)](_0x255497=>_0x255497[_0x4dfc1d(0x17a)]==_0x404164[_0x4dfc1d(0x17a)]),_0x261687=global[_0x4dfc1d(0xab)][noslash(_0x404164[_0x4dfc1d(0x82)])];let _0x41684e=_0x444b12?_0x444b12[_0x4dfc1d(0x91)]:null,_0x3d078c=_0x404164['reverse']?0x1/_0x261687:_0x261687,_0x156e76;config['liquidity'][_0x4dfc1d(0x18c)](_0x423824=>{const _0x313707=_0x4dfc1d;!_0x156e76&&(_0x156e76=_0x423824[_0x313707(0x139)]['find'](_0x139799=>_0x139799[_0x313707(0x17a)]==_0x404164[_0x313707(0x17a)]),_0x156e76&&(_0x41684e=_0x156e76[_0x313707(0x91)],_0x3d078c=_0x156e76[_0x313707(0x198)]));}),_0x3cb86b['push']({'coin':_0x404164[_0x4dfc1d(0x17a)],'number':_0x41684e,'price':_0x3d078c});}}}),_0x3cb86b['forEach'](_0x457763=>{const _0x41ff7f=_0x2c6e51,_0x1a387c={'coin':_0x457763[_0x41ff7f(0x17a)],'number':_0x457763[_0x41ff7f(0x91)],'breakeven':_0x457763[_0x41ff7f(0x198)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x41ff7f(0xc1)](_0x41ff7f(0x166))[_0x41ff7f(0x16c)](_0x1a387c)['write']();});}async function updateCoinResults(_0x17ad98,_0x37bd17=![]){const _0x15435e=_0x468ef0;let _0x34bf74,_0x587b10,_0x3c9731,_0x7800da,_0x39ce96,_0xcf4092,_0x278900=dbCoinResults['get'](_0x15435e(0x166))[_0x15435e(0x79)]({'coin':_0x17ad98['coin']})[_0x15435e(0x174)]();!_0x278900&&await initCoinResults();_0x17ad98[_0x15435e(0x178)]&&(_0xcf4092={'filled':_0x17ad98[_0x15435e(0x1d3)]*_0x17ad98['price'],'amount':_0x17ad98[_0x15435e(0x1d3)]*_0x17ad98[_0x15435e(0x198)],'side':_0x17ad98['side']==_0x15435e(0x83)?_0x15435e(0x1d5):'sell','price':0x1/_0x17ad98[_0x15435e(0x198)]},_0x17ad98={..._0x17ad98,..._0xcf4092});_0x37bd17?_0x587b10=_0x17ad98[_0x15435e(0x148)]=='buy'?_0x278900[_0x15435e(0x91)]+_0x17ad98[_0x15435e(0x1d3)]:_0x278900[_0x15435e(0x91)]-_0x17ad98[_0x15435e(0x1d3)]:_0x587b10=await getCoinNumber(_0x17ad98[_0x15435e(0x17a)]);if(_0x17ad98[_0x15435e(0xed)]&&_0x17ad98[_0x15435e(0xed)][_0x15435e(0x167)]==config['basecoin'])_0x34bf74=_0x17ad98[_0x15435e(0xed)][_0x15435e(0x12e)];else{if(_0x17ad98[_0x15435e(0xed)]&&_0x17ad98['fee'][_0x15435e(0x167)]==_0x15435e(0xce)&&!_0x37bd17)_0x34bf74=_0x17ad98[_0x15435e(0xed)][_0x15435e(0x12e)]*global[_0x15435e(0xab)][_0x15435e(0xce)+config[_0x15435e(0x8b)]];else _0x34bf74=defaultFee*_0x17ad98[_0x15435e(0x1d3)]*_0x17ad98[_0x15435e(0x198)];}_0x17ad98[_0x15435e(0x148)]==_0x15435e(0x1d5)?(_0x3c9731=_0x587b10!=0x0?(_0x278900[_0x15435e(0xd0)]*_0x278900[_0x15435e(0x91)]+_0x17ad98[_0x15435e(0x198)]*(_0x587b10-_0x278900[_0x15435e(0x91)])+_0x34bf74)/_0x587b10:0x0,_0x7800da=_0x278900[_0x15435e(0x1a5)]):(_0x3c9731=_0x587b10!=0x0?(_0x278900[_0x15435e(0xd0)]*_0x278900[_0x15435e(0x91)]-_0x17ad98[_0x15435e(0x198)]*(_0x278900[_0x15435e(0x91)]-_0x587b10)+_0x34bf74)/_0x587b10:0x0,_0x7800da=_0x278900[_0x15435e(0x1a5)]+(_0x17ad98[_0x15435e(0x198)]-_0x278900[_0x15435e(0xd0)])*_0x17ad98['filled']);_0x39ce96=(_0x17ad98[_0x15435e(0x198)]-_0x3c9731-_0x34bf74/_0x17ad98[_0x15435e(0x1d3)])*_0x587b10;let _0x29a633={'coin':_0x17ad98['coin'],'number':_0x587b10,'breakeven':formatResult(_0x3c9731,0x8),'realized':formatResult(_0x7800da,0x8),'unrealized':formatResult(_0x39ce96,0x8),'fees':formatResult(_0x278900['fees']+_0x34bf74,0x8),'sells':_0x17ad98['side']==_0x15435e(0x83)?_0x278900['sells']+0x1:_0x278900['sells'],'buys':_0x17ad98[_0x15435e(0x148)]==_0x15435e(0x1d5)?_0x278900[_0x15435e(0x1b7)]+0x1:_0x278900[_0x15435e(0x1b7)]};dbCoinResults[_0x15435e(0xc1)](_0x15435e(0x166))[_0x15435e(0x79)]({'coin':_0x17ad98[_0x15435e(0x17a)]})[_0x15435e(0x1dd)](_0x29a633)['write']();if(!_0x37bd17){if(_0x17ad98[_0x15435e(0xed)]&&_0x17ad98[_0x15435e(0xed)][_0x15435e(0x167)]==_0x15435e(0xce)){const _0x48d493=currentCoins[_0x15435e(0x79)](_0x54afdf=>_0x54afdf['coin']==_0x15435e(0xce));if(_0x48d493){let _0x5cc82b=dbCoinResults[_0x15435e(0xc1)](_0x15435e(0x166))[_0x15435e(0x79)]({'coin':'BNB'})['value']();_0x29a633={..._0x5cc82b,'number':_0x48d493[_0x15435e(0x91)]},dbCoinResults[_0x15435e(0xc1)](_0x15435e(0x166))['find']({'coin':'BNB'})['assign'](_0x29a633)[_0x15435e(0x9c)]();}}}}async function placeOrder(_0x52033f){const _0x55d545=_0x468ef0,_0x5aa30c=config[_0x55d545(0x99)]==_0x55d545(0x189)?_0x55d545(0x189):'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x55d545(0x93),lastOrders=[];for(const _0x1b4738 of _0x52033f){let _0x5d186a,_0x1ca4dc,_0x497f36,_0x161cf7,_0x47f18e,_0x10b743=_0x1b4738[_0x55d545(0x82)];try{const _0x40b900=await exchange[_0x55d545(0x1ce)](_0x10b743);_0x5d186a=_0x1b4738[_0x55d545(0x178)]?0x1/_0x1b4738[_0x55d545(0x120)]:_0x1b4738['last'],_0x1ca4dc=_0x40b900[_0x55d545(0x81)],_0x497f36=_0x40b900['ask'];_0x1b4738['reverse']?(_0x161cf7=_0x1b4738[_0x55d545(0x148)]==_0x55d545(0x1d5)?'sell':'buy',_0x47f18e=Math[_0x55d545(0x96)](_0x1b4738[_0x55d545(0x1b8)])/_0x5d186a):(_0x161cf7=_0x1b4738['side'],_0x47f18e=Math['abs'](_0x1b4738[_0x55d545(0x1b8)]));_0x5aa30c==_0x55d545(0x1a0)&&(config[_0x55d545(0x99)]==_0x55d545(0x78)&&(_0x5d186a=_0x161cf7==_0x55d545(0x1d5)?_0x1ca4dc:_0x497f36),config[_0x55d545(0x99)]==_0x55d545(0xef)&&(_0x5d186a=_0x161cf7=='buy'?_0x497f36:_0x1ca4dc));_0x47f18e=formatResult(_0x47f18e,0x8),_0x5d186a=formatResult(_0x5d186a,0x8);const _0x210d70=_0x161cf7==_0x55d545(0x83)?config[_0x55d545(0x12d)]?String[_0x55d545(0x12c)]('0x'+config['emojisell'])+'\x20':'':config['emojibuy']?String[_0x55d545(0x12c)]('0x'+config[_0x55d545(0xd5)])+'\x20':'',_0x25a903=_0x5aa30c==_0x55d545(0x189)?_0x55d545(0x86):config[_0x55d545(0x99)]=='limit-high'?_0x55d545(0x1aa):_0x55d545(0xa4),_0x39d09e=new Date()[_0x55d545(0x187)]()[_0x55d545(0xdc)]()[_0x55d545(0x142)](-0x6)+'-'+Math[_0x55d545(0x161)]()[_0x55d545(0xdc)]()[_0x55d545(0x142)](-0x6);lastOrders['push']({'customId':_0x39d09e,'symbol':_0x10b743,'coin':_0x1b4738[_0x55d545(0x17a)],'side':_0x161cf7,'reverse':_0x1b4738[_0x55d545(0x178)],'filled':0x0});if(_0x5aa30c==_0x55d545(0x189))logHistory(_0x55d545(0xcb),''+_0x210d70+_0x25a903+_0x55d545(0x10a)+_0x10b743+'\x20'+_0x161cf7+'\x20#'+formatResult(_0x47f18e,0x8)+'\x20@'+formatResult(_0x5d186a,0x8));else logHistory('order',''+_0x210d70+_0x25a903+_0x55d545(0x10a)+_0x10b743+'\x20'+_0x161cf7+'\x20#'+formatResult(_0x47f18e,0x8)+'\x20@'+formatResult(_0x5d186a,0x8));const _0x20e3a3=await exchange[_0x55d545(0x7b)](_0x10b743,_0x5aa30c,_0x161cf7,_0x47f18e,_0x5d186a,{'clientOrderId':_0x39d09e}),_0x208452=lastOrders[_0x55d545(0x17b)]-0x1;_0x208452>=0x0&&lastOrders[_0x208452][_0x55d545(0xf2)]==_0x39d09e&&(lastOrders[_0x208452]={...lastOrders[_0x208452],'orderId':_0x20e3a3['id'],'amount':_0x20e3a3[_0x55d545(0x19b)],'price':_0x20e3a3['price'],'fee':_0x20e3a3[_0x55d545(0xed)]});if(config[_0x55d545(0x100)]!=0x0){let _0x2eb202=null;if(cooldownTracker[_0x55d545(0x17b)]==config[_0x55d545(0x100)]-0x1)_0x2eb202=cooldownTracker[_0x55d545(0x89)]();const _0x3ae012=getTimeStamp();cooldownTracker['push'](_0x3ae012);if(_0x2eb202){const _0x25fc48=fns[_0x55d545(0x84)](new Date(_0x3ae012),new Date(_0x2eb202));if(_0x25fc48<cooldownInterval){logHistory(_0x55d545(0x98),_0x55d545(0xc7)+config[_0x55d545(0x100)]+_0x55d545(0x8f)+cooldownInterval/0x3c+_0x55d545(0x76)+cooldownPeriod/(0xe10*0x3e8)+_0x55d545(0xb1)),coolingDown=!![];break;}}}}catch(_0xbaf2ba){if(_0xbaf2ba['toString']()[_0x55d545(0x15c)](_0x55d545(0xd2)))lastOrders=lastOrders[_0x55d545(0xf3)](_0x5bb6fb=>_0x5bb6fb[_0x55d545(0x82)]!=_0x10b743),logHistory(_0x55d545(0x98),_0x55d545(0xdb)+_0x10b743);else _0xbaf2ba['toString']()[_0x55d545(0x15c)]('Invalid\x20quantity')?(lastOrders=lastOrders[_0x55d545(0xf3)](_0x503c7f=>_0x503c7f[_0x55d545(0x82)]!=_0x10b743),logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x10b743)):(lastOrders=lastOrders[_0x55d545(0xf3)](_0x769ee2=>_0x769ee2['symbol']!=_0x10b743),await handleError(_0xbaf2ba,'placeOrder()',_0x10b743));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x55d545(0x17b)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x115d5a=config[_0x55d545(0x99)]==_0x55d545(0x189)?validateOrderTimeout*0x3c*0x3e8:config[_0x55d545(0x152)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2b214e=_0x55d545;validateOrders(_0x2b214e(0x1bc));},_0x115d5a);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x55d545(0x145),_0x55d545(0x138)));}else{if(coolingDown)!config[_0x55d545(0x1b4)]&&logHistory(_0x55d545(0x98),_0x55d545(0x1ba));else lockOrders!=ORDERS[_0x55d545(0xc2)]&&(!config[_0x55d545(0x1b4)]&&(config[_0x55d545(0x99)]==_0x55d545(0x189)?logHistory(_0x55d545(0x98),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x55d545(0x98),_0x55d545(0xcc))));}}function persistOpenOrders(_0x364454){const _0x56e515=_0x468ef0,_0x3f6958={...config,'openOrders':_0x364454};let _0x2f9e1b=dbConfig[_0x56e515(0xc1)](_0x56e515(0x186))[_0x56e515(0x79)]({'botID':botID})[_0x56e515(0x174)]();_0x2f9e1b&&dbConfig[_0x56e515(0xc1)](_0x56e515(0x186))[_0x56e515(0x79)]({'botID':botID})[_0x56e515(0x1dd)](_0x3f6958)['write']();}function restoreOrders(){const _0x461bfa=_0x468ef0;let _0x2ee4cb;config[_0x461bfa(0x188)]&&allOpenOrders[_0x461bfa(0x18c)](_0x5b1252=>{const _0x543cb5=_0x461bfa,_0x2d7ce7=config[_0x543cb5(0x188)][_0x543cb5(0x79)](_0x446b29=>_0x446b29[_0x543cb5(0xb4)]==_0x5b1252['id']);_0x2d7ce7&&(lastOrders[_0x543cb5(0x16c)](_0x2d7ce7),_0x2ee4cb=_0x5b1252[_0x543cb5(0xaf)]);});if(lastOrders[_0x461bfa(0x17b)]>0x0){lockOrders=ORDERS[_0x461bfa(0x1c2)],validateOrdersState=_0x461bfa(0x1e6),allOrdersPlaced=!![];const _0x4767da=new Date()['getTime'](),_0x5212ee=config[_0x461bfa(0x99)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x461bfa(0x152)]*0x3c*0x3e8;if(_0x2ee4cb+_0x5212ee>_0x4767da){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x29b19b=_0x461bfa;validateOrders(_0x29b19b(0x1bc));},_0x2ee4cb+_0x5212ee-_0x4767da);}else validateOrders(_0x461bfa(0x1bc));}}async function sendPortfolioTelegram(){const _0x3620bf=_0x468ef0;if(!coinsLoaded){process[_0x3620bf(0xe6)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x38ddc3=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x2fd99f=['EUR',_0x3620bf(0x10e),_0x3620bf(0x15d),_0x3620bf(0x163)],_0x1fc4c2=_0x2fd99f['includes'](config[_0x3620bf(0x8b)])?0x2:0x8;let _0x54d916='';if(config[_0x3620bf(0xc3)])_0x54d916=_0x3620bf(0x10b)+config[_0x3620bf(0x1d2)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x54d916=_0x3620bf(0x1b0)+botID+_0x3620bf(0x92);const _0x58c1a1=getKPIs(_0x3620bf(0x8b)),_0x2f7be0=getKPIs(_0x3620bf(0xf0));_0x54d916+='<pre>',_0x54d916+=_0x58c1a1['leftTxt']+_0x3620bf(0xe0)+_0x58c1a1['value']+'\x20\x0a',_0x54d916+=_0x58c1a1[_0x3620bf(0x1c6)]+':\x20'+_0x58c1a1[_0x3620bf(0xf6)]+_0x3620bf(0x13c),_0x54d916+=_0x2f7be0['leftTxt']+':\x20'+_0x2f7be0['value']+'\x20'+config[_0x3620bf(0x8b)]+'\x0a',_0x54d916+=_0x2f7be0[_0x3620bf(0x1c6)]+':\x20'+_0x2f7be0['change']+_0x3620bf(0x13c),_0x54d916+='\x0a',_0x54d916+=_0x3620bf(0x1cf),_0x54d916+=_0x3620bf(0xd6),_0x54d916+=_0x3620bf(0x1cf),currentCoins[_0x3620bf(0x18c)](_0x36ed38=>{const _0x36fa79=_0x3620bf;_0x54d916+=_0x36ed38[_0x36fa79(0x17a)][_0x36fa79(0x74)](0x7)+'|\x20'+formatPad(_0x36ed38[_0x36fa79(0x19a)],0x2,0x6)+'|\x20'+formatPad(_0x36ed38[_0x36fa79(0x162)],0x2,0x6)+'|\x20'+formatPad(_0x36ed38[_0x36fa79(0x119)]*0x64,0x2,0x6)+'\x0a';}),_0x54d916+='</pre>',process['send']({'telegrammsg':_0x54d916},_0x7a8cad=>{});}function formatPad(_0x4f6189,_0x3dc5f2,_0x527b72){const _0x122de6=_0x468ef0,_0x560c2e=formatResultString(_0x4f6189,_0x3dc5f2);return _0x560c2e?_0x560c2e[_0x122de6(0x1cb)](_0x527b72):''[_0x122de6(0x1cb)](_0x527b72);}function logHistory(_0x363141,_0x16cdb3,_0x293886=''){const _0x2f3bf9=_0x468ef0;let _0x4ab42a={'time':getTimeStamp(),'type':_0x363141,'event':_0x16cdb3};dbLogs[_0x2f3bf9(0xc1)]('logs')[_0x2f3bf9(0x16c)](_0x4ab42a)[_0x2f3bf9(0x9c)]();if(_0x293886=='')_0x293886=_0x16cdb3;proxyEmit(_0x2f3bf9(0xaa),{'log':_0x4ab42a,'summary':_0x293886}),process['send']({'telegram':{..._0x4ab42a,'botname':config[_0x2f3bf9(0x1d2)],'showname':config[_0x2f3bf9(0xc3)]}},_0x4549ef=>{}),logger[_0x2f3bf9(0x14c)](''+_0x4ab42a[_0x2f3bf9(0xaa)]);}function emitHistory(_0x28429c={}){const _0x59a4d1=_0x468ef0;Object[_0x59a4d1(0x1a8)](_0x28429c)[_0x59a4d1(0x17b)]==0x0&&(_0x28429c={'type':['order',_0x59a4d1(0xaa)],'event':'','page':0x1});if(_0x28429c[_0x59a4d1(0x9a)][_0x59a4d1(0x15c)](_0x59a4d1(0xaa)))_0x28429c['type']['splice'](_0x28429c[_0x59a4d1(0x9a)][_0x59a4d1(0x1a9)]('event'),0x1,_0x59a4d1(0x98),_0x59a4d1(0x145));if(dbLogs[_0x59a4d1(0x18e)](_0x59a4d1(0xb5))[_0x59a4d1(0x174)]()){let _0x50e904=dbLogs[_0x59a4d1(0xc1)]('logs')[_0x59a4d1(0xf3)](_0x354b2c=>{const _0x27275b=_0x59a4d1;if(_0x28429c[_0x27275b(0x9a)][_0x27275b(0x17b)]==0x0)return![];else return _0x28429c['type']['includes'](_0x354b2c[_0x27275b(0x9a)]);})[_0x59a4d1(0xf3)](_0x7408ba=>{const _0x5c055c=_0x59a4d1;if(_0x28429c[_0x5c055c(0xaa)]=='')return!![];else return _0x7408ba[_0x5c055c(0xaa)][_0x5c055c(0x1dc)]()[_0x5c055c(0x15c)](_0x28429c[_0x5c055c(0xaa)][_0x5c055c(0x1dc)]());})[_0x59a4d1(0xbf)](_0x59a4d1(0x7f)),_0x50f9b5=_0x50e904[_0x59a4d1(0x174)]()[_0x59a4d1(0x17b)];_0x50e904=_0x50e904['reverse']()['slice']((_0x28429c['page']-0x1)*logPageSize,_0x28429c[_0x59a4d1(0x80)]*logPageSize-0x1)[_0x59a4d1(0x178)]()[_0x59a4d1(0x174)](),proxyEmit('event-history',{'logs':_0x50e904,'total':_0x50f9b5});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4d77e1){const _0x554529=_0x468ef0;if(dbLogs[_0x554529(0x18e)]('logs')['value']()){const _0x400a6b=dbLogs['get'](_0x554529(0xb5))[_0x554529(0xbf)](_0x554529(0x7f))[_0x554529(0xf3)](_0x310163=>{const _0x2c5aea=_0x554529;return _0x310163['type']==_0x2c5aea(0xcb);})['value']();dbLogs[_0x554529(0xc1)]('logs')['remove']()[_0x554529(0x9c)](),dbLogs[_0x554529(0xc1)]('logs')[_0x554529(0x1dd)](_0x400a6b)[_0x554529(0x9c)](),emitHistory(_0x4d77e1);}}async function pauseBot(_0x43d786=''){const _0x24a5b6=_0x468ef0,_0x373df4=new Date()['getTime']();if(!lastErrorShown||_0x373df4-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x373df4;!lastBotPause?(lastBotPause=_0x373df4,consecutivePauses=0x1):(_0x373df4-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x2af8a2=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x24a5b6(0x187)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x43d786)_0x43d786+='\x20|\x20';logHistory(_0x24a5b6(0x98),_0x43d786+_0x24a5b6(0x164)+pauseBotInterval/0xea60+_0x24a5b6(0xb7)),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){const _0x1d4438=_0x468ef0;process[_0x1d4438(0xe6)]({'stop':'kill'},_0x5b1702=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x261d13,_0x503cf8){const _0x171efe=_0x468ef0;if(_0x261d13[_0x171efe(0xdc)]()[_0x171efe(0x15c)](_0x171efe(0xe1)))return logHistory(_0x171efe(0x98),config[_0x171efe(0x11c)]+'\x20API\x20key\x20is\x20invalid'),![];else{if(_0x261d13[_0x171efe(0xdc)]()[_0x171efe(0x15c)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x171efe(0x98),config[_0x171efe(0x11c)]+_0x171efe(0x171)),![];else{if(_0x261d13[_0x171efe(0xdc)]()['includes'](_0x171efe(0x104)))return logHistory(_0x171efe(0x98),config[_0x171efe(0x11c)]+_0x171efe(0xfd)+config[_0x171efe(0x11c)]),![];else await handleError(_0x261d13,_0x503cf8);}}}function _0x228d(){const _0x2e0f59=['10ygCYrm','Binanceusdm','Coinbasepro','cloneDeep','mkdirSync','entries','orderstatus','Cooldown\x20ended\x20-\x20balancing\x20resumed','changes','recreate','-results.json','%\x20\x0a','toUpperCase','Initiating\x20exchange\x20reload','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','2\x20-\x20FILLED\x20known\x20order:\x20','date','slice','fiat','startprice','success','\x20|\x20','balances','side','sendPortfolioTelegram','/backup/','Okcoin','full','\x20minutes\x20-\x20','getOpenOrders()','getCoins()','cancelLoading','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','timeout','recovery','ETH','yyyy-MM-dd\x27T\x27HH:mm:ss','starting-balance-','symbols','InsufficientFunds','/EUR','milliseconds','watchOrders','includes','BUSD','no\x20open\x20orders','\x20has\x20a\x2024h\x20drop\x20of\x20','getPortfolio()','random','target','USDT','Pausing\x20for\x20','loading-canceled','coins','currency','change24h','startnumber','ExchangeNotAvailable','Gateio','push','liquidity','Bitfinex2','2.6.0','configuration','\x20API\x20secret\x20is\x20invalid','./version.json','apply','value','clientOrderId','remove','coin-loading-progress','reverse','./logs/','coin','length','watchTrades','closed','emitHistory','getHours','Bot\x20','warning','sha256','splice','Order(s)\x20validated\x20-\x20','Mexc','bot','getTime','openOrders','market','Bitmex','set','forEach','secure','has','parseISO','001','stringify','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','limits','performance','portfolio','fetchBalance','1\x20-\x20Unlock\x20orders','price','argv','distribution','amount','eur','OrderNotFound','args','balancing\x20resumed','limit','Manual\x20balancing\x20required','\x20-\x20bot\x20not\x20started','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','Ascendex','realized','Kraken','isEqual','keys','indexOf','Limit\x20(high-margin)','Bybit','apiKey','DAI/','net-fiat','391977Vpcwbi','<b>Bot\x20','join','cancelOrder','Whitebit','headless','***','constructor','buys','trade','Error:\x20Invalid\x20argument\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Gate','final','RSA-OAEP','************','2\x20-\x20Orders\x20unlocked','restart','Bitget','LOCKED','Cex','1\x20-\x20Validate\x20orders:\x20','\x20exchange','rightTxt','data','2.5.0','toggleBotMode','average','padStart','Deribit','ORDERS.LOCKED','fetchTicker','-------------------------------\x0a','Binance','min','botname','filled','storeConfiguration','buy',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20value','Failed\x20to\x20load\x20coin\x20data\x20for\x20','962716sjkhYz','debug','showConfig','toLowerCase','assign','Okx','UNLOCKING','concat','createWriteStream','Bitmart','\x20>\x20[DEBUG]\x20','offset','botID','ongoing','padEnd','Net\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','ccxt','limit-high','find','ORDERS.UNLOCKED','createOrder','lowdb','running','apiSecret','time','page','bid','symbol','sell','differenceInSeconds','InvalidNonce','Market','version','lowdb/adapters/FileSync','shift','loadMarkets','basecoin','Net\x20effect\x20(','BTC','usd','\x20orders\x20in\x20less\x20than\x20','none','number','\x20portfolio:</b>\x20\x0a\x0a','initial','sort','bb-settings.json','abs','balancing\x20resumes\x20when\x20cooldown\x20ends','error','ordertype','type','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','write','excluded','1\x20-\x20Handle\x20open\x20orders','cancel','toFixed','round','remainingSymbols','XEM/BUSD','Limit\x20(low-margin)','date-fns','834vYIaZe','open','fetchClosedOrders','-events.json','event','ticker','-performance.json','exec','privateKey','timestamp','1\x20-\x20FILLED:\x20','\x20hour','threshold','recreateCoinResults()','orderId','logs','defaults','\x20minutes','starting-balances','startdate','existsSync','search','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','\x20|\x20lock\x20orders:\x20','2nfDXBw','sortBy','valid','get','UNLOCKED','showname','\x20>\x20','split','test','Executed\x20','Binancecoinm','yyyy/MM/dd','\x20not\x20available','order','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Order\x20filled:\x20','BNB','canceled','breakeven','Net\x20effect','MIN_NOTIONAL','168433rrsdyn','close','emojibuy','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','32itZkkE','string','\x20change','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','toString','9265aBxiQH','Unknown\x20error\x20occured','timeshift','\x20:\x20','API-key\x20format\x20invalid','initclient','hybrid-crypto-js','2.3.5','Order(s)\x20filled\x20-\x20','send','\x20API\x20blocked\x20(DDoS\x20protection)','682738LEZfni','parse','netoffset','getSeconds','deleteHistoryAlerts','fee','Executing\x20exchange\x20reload','limit-low','net-basecoin','total','customId','filter','getMonth','Kucoin','change','3\x20-\x20handling\x20FILLED\x20order:\x20','Cryptocom',':\x20Bot\x20','Binanceus','Unfilled\x20order(s)\x20canceled\x20after\x20','decrypt','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','uncaughtException','Bittrex','cooldown','max','(((.+)+)+)+$','status','AuthenticationError','percentage','EUR','128421jhRwvT','Huobi','timer:','\x20order:\x20','<b>','getStartingBalances','log','USD','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','-config.json','bot-','BNB/','enabled','\x20API\x20key\x20is\x20invalid','2\x20-\x20Validate\x20orders:\x20','getPortfolio','function','delta','Order(s)\x20not\x20validated\x20after\x20','getDate','exchange','message','fetchTickers','datetime','last','Coinbaseprime','replace','Coinex','substring','progress','writeFile','loadSymbols()','1167320FfgGNc','getMinutes','getFullYear','exchanges','fromCodePoint','emojisell','cost','format','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'];_0x228d=function(){return _0x2e0f59;};return _0x228d();}async function handleError(_0x6e8f9f,_0x35f7ee,_0x45c3a0=''){const _0x345b49=_0x468ef0;if(_0x6e8f9f[_0x345b49(0xdc)]()[_0x345b49(0x15c)]('DDoSProtection'))await pauseBot(config[_0x345b49(0x11c)]+_0x345b49(0xe7));else{if(_0x6e8f9f[_0x345b49(0xdc)]()[_0x345b49(0x15c)](_0x345b49(0x16a)))await pauseBot(config[_0x345b49(0x11c)]+_0x345b49(0xca));else{if(_0x6e8f9f['toString']()['includes']('RequestTimeout'))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0x6e8f9f['toString']()[_0x345b49(0x15c)](_0x345b49(0xbc)))logHistory(_0x345b49(0x98),_0x35f7ee+_0x345b49(0x13f)),logHistory(_0x345b49(0x98),_0x345b49(0x10f)),await killBot();else{if(_0x6e8f9f[_0x345b49(0xdc)]()['includes'](_0x345b49(0x85)))logHistory(_0x345b49(0x98),_0x35f7ee+_0x345b49(0x1a3)),logHistory(_0x345b49(0x98),_0x345b49(0x10f)),await killBot();else{if(_0x6e8f9f['toString']()[_0x345b49(0x15c)]('API-key\x20format\x20invalid'))logHistory(_0x345b49(0x98),_0x35f7ee+_0x345b49(0x146)+config['exchange']+_0x345b49(0x115)),logHistory('error',_0x345b49(0x10f)),await killBot();else{if(_0x6e8f9f[_0x345b49(0xdc)]()[_0x345b49(0x15c)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x345b49(0x98),_0x35f7ee+_0x345b49(0x146)+config[_0x345b49(0x11c)]+_0x345b49(0x171)),logHistory(_0x345b49(0x98),_0x345b49(0x10f)),await killBot();else{if(_0x6e8f9f[_0x345b49(0xdc)]()['includes'](_0x345b49(0x104)))logHistory('error',_0x35f7ee+_0x345b49(0x146)+config[_0x345b49(0x11c)]+_0x345b49(0x110)+config[_0x345b49(0x11c)]),logHistory(_0x345b49(0x98),_0x345b49(0x10f)),await killBot();else _0x6e8f9f[_0x345b49(0xdc)]()[_0x345b49(0x15c)](_0x345b49(0x158))?logHistory(_0x345b49(0x98),_0x35f7ee+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x45c3a0):(logger['full'](_0x35f7ee+'\x20|\x20Error\x20details:\x20',_0x6e8f9f),await pauseBot(_0x345b49(0xde)));}}}}}}}}function formatResult(_0x4b6cdf,_0x51d3a5){const _0x4058d6=_0x468ef0;return parseFloat(_0x4b6cdf[_0x4058d6(0xa0)](_0x51d3a5));}function formatResultTruncate(_0x53fe84,_0x2b8777){const _0x2ff769=_0x468ef0;let _0x3495c0=formatResultString(_0x53fe84,0xa),_0x31946f=_0x3495c0[_0x2ff769(0x1a9)]('.');return _0x31946f!=-0x1&&(_0x3495c0=_0x3495c0[_0x2ff769(0x142)](0x0,_0x31946f+_0x2b8777+0x1)),Number(_0x3495c0);}function formatResultString(_0x12945a,_0x27e7ca){const _0x58a446=_0x468ef0;let _0x14b163;if(!(''+_0x12945a)['includes']('e'))_0x14b163=+(Math[_0x58a446(0xa1)](_0x12945a+'e+'+_0x27e7ca)+'e-'+_0x27e7ca);else{let _0x3a1eb9=(''+_0x12945a)[_0x58a446(0xc5)]('e'),_0x2c0fab='';+_0x3a1eb9[0x1]+_0x27e7ca>0x0&&(_0x2c0fab='+'),_0x14b163=+(Math[_0x58a446(0xa1)](+_0x3a1eb9[0x0]+'e'+_0x2c0fab+(+_0x3a1eb9[0x1]+_0x27e7ca))+'e-'+_0x27e7ca);}return Number(_0x14b163)[_0x58a446(0xa0)](_0x27e7ca);}function getServerTime(){const _0x2bf302=_0x468ef0,_0x145b22=new Date();return _0x145b22[_0x2bf302(0x12a)]()+'/'+(_0x145b22[_0x2bf302(0xf4)]()+0x1)[_0x2bf302(0xdc)]()[_0x2bf302(0x1cb)](0x2,'0')+'/'+_0x145b22[_0x2bf302(0x11b)]()[_0x2bf302(0xdc)]()['padStart'](0x2,'0')+'\x20'+_0x145b22[_0x2bf302(0x17f)]()['toString']()[_0x2bf302(0x1cb)](0x2,'0')+':'+_0x145b22['getMinutes']()[_0x2bf302(0xdc)]()[_0x2bf302(0x1cb)](0x2,'0')+':'+_0x145b22[_0x2bf302(0xeb)]()[_0x2bf302(0xdc)]()[_0x2bf302(0x1cb)](0x2,'0');}function getTimeStamp(){const _0x3d126a=_0x468ef0,_0x72cb14=shiftedTime();return _0x72cb14['getFullYear']()+'/'+(_0x72cb14[_0x3d126a(0xf4)]()+0x1)[_0x3d126a(0xdc)]()['padStart'](0x2,'0')+'/'+_0x72cb14['getDate']()[_0x3d126a(0xdc)]()[_0x3d126a(0x1cb)](0x2,'0')+'\x20'+_0x72cb14['getHours']()[_0x3d126a(0xdc)]()[_0x3d126a(0x1cb)](0x2,'0')+':'+_0x72cb14[_0x3d126a(0x129)]()['toString']()['padStart'](0x2,'0')+':'+_0x72cb14[_0x3d126a(0xeb)]()[_0x3d126a(0xdc)]()['padStart'](0x2,'0');}function getDate(){const _0xa30d9f=_0x468ef0,_0x2fed05=shiftedTime();return _0x2fed05[_0xa30d9f(0x12a)]()+'/'+(_0x2fed05['getMonth']()+0x1)[_0xa30d9f(0xdc)]()[_0xa30d9f(0x1cb)](0x2,'0')+'/'+_0x2fed05[_0xa30d9f(0x11b)]()[_0xa30d9f(0xdc)]()[_0xa30d9f(0x1cb)](0x2,'0');}function getHour(){const _0x5d6d7d=_0x468ef0,_0x2d6a68=shiftedTime();return _0x2d6a68['getHours']()[_0x5d6d7d(0xdc)]()['padStart'](0x2,'0');}function sleep(_0xc76b83){return new Promise(_0x17d567=>setTimeout(_0x17d567,_0xc76b83));}function shiftedTime(){const _0x2e98ff=_0x468ef0,_0x499fdb=new Date();let _0x3d91d4=_0x499fdb;if(config&&config[_0x2e98ff(0xdf)]!==0x0)_0x3d91d4=fns['add'](_0x499fdb,{'hours':config['timeshift']});return _0x3d91d4;}function timer(_0x13bd9b){const _0x1daeca=_0x468ef0,_0xdee006=new Date();!lasttime?console[_0x1daeca(0x10d)](_0x1daeca(0x109),_0x13bd9b,_0xdee006):console[_0x1daeca(0x10d)](_0x1daeca(0x109),_0x13bd9b,(_0xdee006-lasttime)/0x3e8),lasttime=_0xdee006;}