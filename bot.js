const _0x3736a1=_0x3ce6;(function(_0x18a47a,_0x523018){const _0x4be43f=_0x3ce6,_0x1e5894=_0x18a47a();while(!![]){try{const _0x3d7403=-parseInt(_0x4be43f(0x150))/0x1*(-parseInt(_0x4be43f(0x1f9))/0x2)+parseInt(_0x4be43f(0x1f2))/0x3*(parseInt(_0x4be43f(0x125))/0x4)+-parseInt(_0x4be43f(0x1fe))/0x5*(parseInt(_0x4be43f(0x1ea))/0x6)+parseInt(_0x4be43f(0x1a4))/0x7*(-parseInt(_0x4be43f(0x13c))/0x8)+parseInt(_0x4be43f(0x209))/0x9*(parseInt(_0x4be43f(0x140))/0xa)+-parseInt(_0x4be43f(0x158))/0xb+parseInt(_0x4be43f(0x21a))/0xc;if(_0x3d7403===_0x523018)break;else _0x1e5894['push'](_0x1e5894['shift']());}catch(_0x44d4ce){_0x1e5894['push'](_0x1e5894['shift']());}}}(_0x6c53,0xbad6b));const _0x3cba36=function(){let _0x1d7b75=!![];return function(_0x933127,_0x384f10){const _0x419f24=_0x1d7b75?function(){if(_0x384f10){const _0x5d1848=_0x384f10['apply'](_0x933127,arguments);return _0x384f10=null,_0x5d1848;}}:function(){};return _0x1d7b75=![],_0x419f24;};}(),_0x17118d=_0x3cba36(this,function(){const _0x3d2ba7=_0x3ce6;return _0x17118d[_0x3d2ba7(0x20a)]()['search'](_0x3d2ba7(0x19c))[_0x3d2ba7(0x20a)]()['constructor'](_0x17118d)['search'](_0x3d2ba7(0x19c));});_0x17118d();'use strict';const ccxt=require(_0x3736a1(0x149)),low=require(_0x3736a1(0x151)),FileSync=require(_0x3736a1(0xff)),fs=require('fs'),fns=require(_0x3736a1(0x10a)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x3736a1(0x1a6)),Crypt=require(_0x3736a1(0x216))[_0x3736a1(0x19d)];let exchange,wsClient;global[_0x3736a1(0x1d3)]={},global[_0x3736a1(0xfa)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x3736a1(0x1a5),_0x3736a1(0x1f6),'HOT/EUR',_0x3736a1(0x1f8),_0x3736a1(0x17c),_0x3736a1(0x13e)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x3736a1(0x191))[_0x3736a1(0x114)],botID=process[_0x3736a1(0x1ca)][0x2]||_0x3736a1(0x1da),pattern=/^[0-9]{3}$/;!pattern[_0x3736a1(0x1fa)](botID)&&(console[_0x3736a1(0x12f)](_0x3736a1(0x176)+botID+_0x3736a1(0x17f)),process[_0x3736a1(0x1df)](0x1));const userID=process[_0x3736a1(0x1ca)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x3736a1(0x21c);!fs[_0x3736a1(0x16b)](configpath)&&fs[_0x3736a1(0x206)](configpath);const configfile=configpath+'bot-'+botID+_0x3736a1(0x117),logfile=configpath+'bot-'+botID+_0x3736a1(0x12d),performancefile=configpath+_0x3736a1(0xf8)+botID+_0x3736a1(0x1ad),coinresultsfile=configpath+_0x3736a1(0xf8)+botID+'-results.json',settingsfile=configpath+_0x3736a1(0x1c0),securefile=configpath+_0x3736a1(0x1e6),configbackuppath=configpath+_0x3736a1(0x1d7),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3736a1(0x156)]({'logs':[]})[_0x3736a1(0x107)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x3736a1(0x156)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3736a1(0x156)]({'bot':[]})[_0x3736a1(0x107)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3736a1(0x156)]({'coins':[]})[_0x3736a1(0x107)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x3736a1(0x10f),'symbol':'BTC/EUR'},'usd':{'coin':'BTCUSDT','symbol':_0x3736a1(0x1ba)}},lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x413c47)=>{},'debug':(..._0xa188a3)=>{},'notice':(..._0x434556)=>{},'info':(..._0x442aa0)=>{},'warning':(..._0x34bbdf)=>{},'error':async function(..._0x3c2c4f){const _0x2604cb=_0x3736a1,_0x11ac7e=new Date()[_0x2604cb(0x14b)]();if(!lastErrorShown||_0x11ac7e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x2604cb(0x14b)]();let _0x5a3005='';if(_0x3c2c4f[0x0])_0x5a3005+=_0x3c2c4f[0x0];if(_0x3c2c4f[0x1]&&_0x3c2c4f[0x1]['error']&&_0x3c2c4f[0x1][_0x2604cb(0x189)][_0x2604cb(0x104)])_0x5a3005+=_0x2604cb(0x129)+_0x3c2c4f[0x1][_0x2604cb(0x189)]['message'];logging(_0x2604cb(0x126)+consecutivePauses+_0x2604cb(0x13f),''+_0x5a3005),await pauseBot('Binance\x20not\x20available\x20(1)');}}},crypt=new Crypt({'md':_0x3736a1(0x19e),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x3736a1(0x1a2)]);process[_0x3736a1(0x199)]({'started':'running'},_0x3101db=>{}),initializeProcessListeners();function proxyEmit(_0x290ecc,_0x476b81=null){process['send']({'function':_0x290ecc,'args':_0x476b81},_0x1a5fd0=>{});}function initializeProcessListeners(){const _0x285b62=_0x3736a1;process['on'](_0x285b62(0x104),_0x59f26b=>{const _0x316069=_0x285b62;switch(Object[_0x316069(0x111)](_0x59f26b)[0x0]){case'timeshift':_0x59f26b['timeshift']!=undefined&&(settings[_0x316069(0x1a2)]=_0x59f26b['timeshift'],updateTimeshift(settings[_0x316069(0x1a2)]));break;case _0x316069(0x17e):switch(_0x59f26b[_0x316069(0x17e)]){case'initclient':initclient();break;case _0x316069(0x144):toggleBotMode();break;case _0x316069(0x124):emitHistory(_0x59f26b['args']);break;case _0x316069(0x16a):deleteHistoryAlerts(_0x59f26b['args']);break;case'getPortfolio':getPortfolio(_0x59f26b['args']);break;case _0x316069(0x17d):storeConfiguration(_0x59f26b['args']);break;case _0x316069(0x165):storeHeadless(_0x59f26b['args']);break;case _0x316069(0x146):getStartingBalances(getNormalizedPerformance());break;case _0x316069(0x183):placeOrder(_0x59f26b[_0x316069(0x148)]);break;case _0x316069(0x102):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x112c0f=_0x3736a1;if(pidBalances)clearTimeout(pidBalances);if(config[_0x112c0f(0x1b5)]!=''){await initExchange(config['apiKey'],config[_0x112c0f(0x157)]);let _0x159796=await loadSymbols();_0x159796&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x1b9de5,_0x5c5182){const _0x415618=_0x3736a1,_0x470d89=ccxt[config[_0x415618(0x12e)]];let _0xf08b4e;switch(config['exchange']){case _0x415618(0x1a6):_0xf08b4e='wss://stream.binance.com:9443';break;case _0x415618(0x1de):_0xf08b4e=_0x415618(0x139);break;default:_0xf08b4e=_0x415618(0x152);}exchange=new _0x470d89({'apiKey':_0x1b9de5,'secret':_0x5c5182,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x1b9de5,'api_secret':_0x5c5182,'beautify':!![],'wsUrl':_0xf08b4e},logger),config[_0x415618(0x12e)]==_0x415618(0x1de)&&(stablecoins={'eur':{'coin':_0x415618(0x204),'symbol':_0x415618(0x1cd)},'usd':{'coin':_0x415618(0x188),'symbol':_0x415618(0x1ba)}});}async function loadSymbols(){const _0xb44071=_0x3736a1;let _0x3e9ceb;try{markets=await exchange[_0xb44071(0x1ed)](),allSymbols=exchange[_0xb44071(0x173)][_0xb44071(0x1e7)](_0xf24387=>{const _0xac16ca=_0xb44071;let _0x46f880=![];return exceptions[_0xac16ca(0x109)](_0x2d49bb=>{const _0x242a07=_0xac16ca;if(_0xf24387[_0x242a07(0x18a)](_0x2d49bb))_0x46f880=!![];}),!_0x46f880;}),_0x3e9ceb=!![];}catch(_0x58ccbf){await handleError(_0x58ccbf,_0xb44071(0x10c)),_0x3e9ceb=![];}return _0x3e9ceb;}async function initbot(){const _0xdc6ce3=_0x3736a1;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x1070da=dbCoinResults[_0xdc6ce3(0x11a)](_0xdc6ce3(0x1b1))[_0xdc6ce3(0x1dc)]();if(_0x1070da[_0xdc6ce3(0x112)]==0x0)await resetCoinResults();}async function initclient(){const _0x32f59d=_0x3736a1;proxyEmit(_0x32f59d(0x118),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x38e7aa=getNormalizedPerformance();emitPerformance(_0x38e7aa),await getStartingBalances(_0x38e7aa);}async function toggleBotMode(){const _0x3f45ac=_0x3736a1;let _0x56dc73=dbConfig[_0x3f45ac(0x11a)](_0x3f45ac(0x218))[_0x3f45ac(0xfd)]({'botID':botID})[_0x3f45ac(0x1dc)]();if(_0x56dc73){const _0x40d022=!_0x56dc73[_0x3f45ac(0x20d)];dbConfig['get']('bot')[_0x3f45ac(0xfd)]({'botID':botID})[_0x3f45ac(0x101)]({'headless':_0x40d022})['write'](),config[_0x3f45ac(0x20d)]=_0x40d022,proxyEmit(_0x3f45ac(0x118),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x416248=>{});}function cleanws(){const _0x4570b2=_0x3736a1;wsinitialized=![];ws1&&(ws1[_0x4570b2(0x109)](_0x4c26aa=>{try{wsClient['closeWs'](_0x4c26aa);}catch(_0x200966){}}),ws1=[]);if(ws2){try{wsClient[_0x4570b2(0x12a)](ws2);}catch(_0x4babb2){}ws2=null;}ws3&&(ws3[_0x4570b2(0x109)](_0x13aded=>{try{wsClient['closeWs'](_0x13aded);}catch(_0x5a40b5){}}),ws3=[]);}async function initws(){const _0x6e6f65=_0x3736a1;cleanws();let _0x450ba4=[];currentCoins[_0x6e6f65(0x109)](_0x37146c=>{const _0x28360a=_0x6e6f65;if(_0x37146c[_0x28360a(0x15d)]!=config['basecoin'])_0x450ba4[_0x28360a(0x210)](_0x37146c[_0x28360a(0x161)]);});if(!_0x450ba4[_0x6e6f65(0x18a)](stablecoins['eur'][_0x6e6f65(0x161)]))_0x450ba4['push'](stablecoins[_0x6e6f65(0x1ce)][_0x6e6f65(0x161)]);if(!_0x450ba4[_0x6e6f65(0x18a)](stablecoins['usd'][_0x6e6f65(0x161)]))_0x450ba4[_0x6e6f65(0x210)](stablecoins[_0x6e6f65(0x1f7)][_0x6e6f65(0x161)]);if(!_0x450ba4[_0x6e6f65(0x18a)](_0x6e6f65(0x1f4)+config[_0x6e6f65(0x197)]))_0x450ba4[_0x6e6f65(0x210)](_0x6e6f65(0x1f4)+config[_0x6e6f65(0x197)]);try{_0x450ba4[_0x6e6f65(0x109)]((_0xeaccfd,_0xcb950f)=>{const _0x23773d=_0x6e6f65;ws1[_0xcb950f]=wsClient[_0x23773d(0x1cb)](noslash(_0xeaccfd),'1m'),ws3[_0xcb950f]=wsClient[_0x23773d(0x1f1)](noslash(_0xeaccfd),_0x23773d(0x1d2));}),ws2=wsClient[_0x6e6f65(0x1d8)](),wsClient['on'](_0x6e6f65(0x190),_0x1bae37=>{const _0x2a6bed=_0x6e6f65;if(isWsFormattedKline(_0x1bae37)){global[_0x2a6bed(0x1d3)][_0x1bae37['kline'][_0x2a6bed(0x161)]]=_0x1bae37['kline']['close'];return;}else{if(isWsFormatted24hrTicker(_0x1bae37)){global['change'][_0x1bae37[_0x2a6bed(0x161)]]=_0x1bae37['priceChangePercent'];return;}else{if(!Array[_0x2a6bed(0x18e)](_0x1bae37)&&_0x1bae37[_0x2a6bed(0x1b6)][_0x2a6bed(0x18a)](_0x2a6bed(0x1db))){if(_0x1bae37['wsMarket'][_0x2a6bed(0x18a)](_0x2a6bed(0x1d2))){updateNumberCoins(_0x1bae37);return;}}}}}),wsClient['on']('reconnected',async _0x16955f=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0xecd42){await handleError(_0xecd42,_0x6e6f65(0x21f));}let _0x16ddc8,_0x18775c=0x0;loading['remainingSymbols']=[];let _0x284fec=0x0;_0x450ba4[_0x6e6f65(0x109)](_0x2535ad=>{loading['remainingSymbols']['push'](_0x2535ad);}),loadingCanceled=![];while(_0x16ddc8!=_0x450ba4[_0x6e6f65(0x112)]){_0x16ddc8=0x0,_0x450ba4[_0x6e6f65(0x109)](_0x21f7a7=>{const _0x11ef91=_0x6e6f65;global[_0x11ef91(0x1d3)][noslash(_0x21f7a7)]&&(loading['remainingSymbols']=loading[_0x11ef91(0x1fd)]['filter'](_0x5dcc70=>_0x5dcc70!=_0x21f7a7),_0x16ddc8++);}),loading[_0x6e6f65(0x10b)]=Math[_0x6e6f65(0x211)](_0x16ddc8/_0x450ba4[_0x6e6f65(0x112)]*0x64);_0x284fec>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x6e6f65(0x217)]=!![],emitLoadingProgress();break;}else _0x16ddc8!=_0x18775c&&(_0x18775c=_0x16ddc8,emitLoadingProgress()),_0x284fec++,await sleep(0xc8);}if(_0x16ddc8==_0x450ba4['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x2562b8=_0x3736a1;proxyEmit(_0x2562b8(0x122),loading);}async function getFiat(){const _0x1684fa=_0x3736a1;let _0x5ceec4=0x0,_0x3532c5=0x0;try{_0x5ceec4=global['ticker'][stablecoins[_0x1684fa(0x1ce)]['coin']],_0x3532c5=global[_0x1684fa(0x1d3)][stablecoins[_0x1684fa(0x1f7)][_0x1684fa(0x15d)]];}catch(_0x42180f){await handleError(_0x42180f,'getFiat()');}return{'eur':Number(_0x5ceec4),'usd':Number(_0x3532c5)};}function setStartDatePerformance(){const _0x1f87c1=_0x3736a1;if(config&&config[_0x1f87c1(0x12b)][0x0][_0x1f87c1(0x202)][_0x1f87c1(0x112)]!=0x0){const _0x3dd9bb=config['liquidity'][0x0][_0x1f87c1(0x202)];dbPerformance[_0x1f87c1(0x11a)](_0x1f87c1(0x1ab))[_0x1f87c1(0xfd)]({'date':config['startdate']})[_0x1f87c1(0x101)]({'coins':_0x3dd9bb})[_0x1f87c1(0x107)]();}}async function recreateHistory(_0x507f1f){const _0x4c5c12=_0x3736a1;let _0x544d58,_0xb58ddd=[];logHistory(_0x4c5c12(0x1f3),_0x4c5c12(0x178)),_0x507f1f['portfolio'][_0x4c5c12(0x109)](_0x513dd4=>{const _0xa95aec=_0x4c5c12;if(_0x513dd4[_0xa95aec(0x15d)]!=config['basecoin']&&!_0x513dd4['excluded'])_0xb58ddd[_0xa95aec(0x210)]({'coin':_0x513dd4[_0xa95aec(0x15d)],'symbol':_0x513dd4['symbol']});});let _0x5dc015=[];try{const _0xecef16=fns[_0x4c5c12(0xfc)](fns['parseISO'](_0x507f1f['startdate'][_0x4c5c12(0x1c6)](/\//g,'-')),_0x4c5c12(0x14c));for(const _0xf7863a of _0xb58ddd){if(_0xf7863a[_0x4c5c12(0x15d)]!=config[_0x4c5c12(0x197)])_0x544d58=await exchange[_0x4c5c12(0x121)](_0xf7863a['symbol'],Date[_0x4c5c12(0x162)](_0xecef16));_0x544d58['forEach'](_0x1fc930=>{const _0x404e6a=_0x4c5c12,_0x426c06=_0xf7863a['symbol'][_0x404e6a(0x18a)](config[_0x404e6a(0x197)]+'/'),_0x2aaabe=fns[_0x404e6a(0xfc)](fns[_0x404e6a(0x1b3)](_0x1fc930[_0x404e6a(0x186)]),_0x404e6a(0x1c9)),_0x5ab34d=fns[_0x404e6a(0xfc)](fns[_0x404e6a(0x1b3)](_0x1fc930['datetime']),'yyyy/MM/dd');let _0x5cedaa;if(_0x1fc930[_0x404e6a(0x11e)]==_0x404e6a(0x1ee)&&_0x426c06==![])_0x5cedaa=_0x1fc930['amount'];if(_0x1fc930['side']==_0x404e6a(0x1ee)&&_0x426c06==!![])_0x5cedaa=-_0x1fc930[_0x404e6a(0x10d)]*_0x1fc930[_0x404e6a(0x1bf)];if(_0x1fc930[_0x404e6a(0x11e)]==_0x404e6a(0x1c4)&&_0x426c06==![])_0x5cedaa=-_0x1fc930[_0x404e6a(0x10d)];if(_0x1fc930[_0x404e6a(0x11e)]=='sell'&&_0x426c06==!![])_0x5cedaa=_0x1fc930[_0x404e6a(0x10d)]*_0x1fc930[_0x404e6a(0x1bf)];_0x5dc015['push']({'timestamp':_0x2aaabe,'date':_0x5ab34d,'coin':_0xf7863a['coin'],'symbol':_0xf7863a[_0x404e6a(0x161)],'type':_0x1fc930['type'],'side':_0x1fc930[_0x404e6a(0x11e)],'reverse':_0x426c06,'amount':formatResult(_0x1fc930['filled'],0x8),'filled':formatResult(_0x1fc930[_0x404e6a(0x1fb)],0x8),'coinamount':formatResult(_0x5cedaa,0x8),'price':formatResult(_0x1fc930[_0x404e6a(0x1bf)],0x8)});let _0x4c3f98;if(_0x1fc930[_0x404e6a(0x11e)]==_0x404e6a(0x1ee)&&_0x426c06==![])_0x4c3f98=-_0x1fc930[_0x404e6a(0x10d)]*_0x1fc930['price'];if(_0x1fc930['side']==_0x404e6a(0x1ee)&&_0x426c06==!![])_0x4c3f98=_0x1fc930[_0x404e6a(0x10d)];if(_0x1fc930[_0x404e6a(0x11e)]==_0x404e6a(0x1c4)&&_0x426c06==![])_0x4c3f98=_0x1fc930[_0x404e6a(0x10d)]*_0x1fc930[_0x404e6a(0x1bf)];if(_0x1fc930[_0x404e6a(0x11e)]=='sell'&&_0x426c06==!![])_0x4c3f98=-_0x1fc930[_0x404e6a(0x10d)];_0x5dc015[_0x404e6a(0x210)]({'date':_0x5ab34d,'coin':config[_0x404e6a(0x197)],'coinamount':formatResult(_0x4c3f98,0x8)});});}_0x5dc015[_0x4c5c12(0x16d)]((_0xba5c74,_0x4b2fec)=>_0xba5c74[_0x4c5c12(0x106)]>_0x4b2fec[_0x4c5c12(0x106)]?0x1:_0x4b2fec['timestamp']>_0xba5c74[_0x4c5c12(0x106)]?-0x1:0x0),dbLogs['get'](_0x4c5c12(0xf9))[_0x4c5c12(0x108)]()[_0x4c5c12(0x107)](),_0x5dc015[_0x4c5c12(0x109)](_0x418fe6=>{const _0x1e69b8=_0x4c5c12;let _0x5027ac;_0x418fe6[_0x1e69b8(0x15d)]!=config[_0x1e69b8(0x197)]&&(_0x5027ac={'time':_0x418fe6['timestamp'],'type':_0x1e69b8(0x1e2),'event':'Order:\x20'+_0x418fe6[_0x1e69b8(0x161)]+'\x20'+_0x418fe6[_0x1e69b8(0x11e)]+'\x20#'+_0x418fe6[_0x1e69b8(0x10d)]+'\x20@'+_0x418fe6[_0x1e69b8(0x1bf)]},dbLogs[_0x1e69b8(0x11a)](_0x1e69b8(0xf9))[_0x1e69b8(0x210)](_0x5027ac)[_0x1e69b8(0x107)]());});const _0x428561=fns[_0x4c5c12(0x16c)]({'start':new Date(_0x507f1f[_0x4c5c12(0x19a)]),'end':new Date()})[_0x4c5c12(0x1a8)](_0x1ec8e9=>fns[_0x4c5c12(0xfc)](_0x1ec8e9,'yyyy/MM/dd'));let _0x163acb=[];_0x507f1f[_0x4c5c12(0x15f)][_0x4c5c12(0x109)](_0x95999=>{const _0x6e2188=_0x4c5c12;if(!_0x95999['excluded']){_0x163acb[_0x95999[_0x6e2188(0x15d)]]=[];let _0x1dd0ca=_0x95999[_0x6e2188(0xf7)];_0x428561[_0x6e2188(0x109)]((_0x4cd9ff,_0x1652cb)=>{const _0x26c3bc=_0x6e2188;let _0x43ad66=_0x5dc015['filter'](_0x25d1cb=>_0x25d1cb['coin']==_0x95999[_0x26c3bc(0x15d)]&&_0x25d1cb[_0x26c3bc(0x175)]==_0x4cd9ff);if(_0x43ad66[_0x26c3bc(0x112)]!=0x0){let _0x26b6a5=_0x43ad66[_0x26c3bc(0x1b8)]((_0x1805f8,_0x2b09bd)=>{const _0xe47c88=_0x26c3bc;return _0x1805f8+=_0x2b09bd[_0xe47c88(0x100)],_0x1805f8;},0x0);_0x1dd0ca+=_0x26b6a5;}_0x163acb[_0x95999[_0x26c3bc(0x15d)]][_0x4cd9ff]=_0x1dd0ca;});}});const _0x5bf2a1=[..._0xb58ddd];_0x5bf2a1[_0x4c5c12(0x210)]({'coin':stablecoins[_0x4c5c12(0x1ce)][_0x4c5c12(0x15d)],'symbol':stablecoins[_0x4c5c12(0x1ce)][_0x4c5c12(0x161)]}),_0x5bf2a1['push']({'coin':stablecoins[_0x4c5c12(0x1f7)][_0x4c5c12(0x15d)],'symbol':stablecoins['usd'][_0x4c5c12(0x161)]});let _0x2d7e97=[];for(const _0x46963a of _0x5bf2a1){_0x2d7e97[_0x46963a[_0x4c5c12(0x15d)]]=await getCloses(_0x46963a[_0x4c5c12(0x161)],new Date(_0x507f1f[_0x4c5c12(0x19a)]));}dbPerformance['get'](_0x4c5c12(0x1ab))[_0x4c5c12(0x108)]()[_0x4c5c12(0x107)](),_0x428561['forEach']((_0xe16f5d,_0x57cc34)=>{const _0x46cde1=_0x4c5c12;let _0x3664c2,_0x526125=[];_0x57cc34==0x0?(_0x507f1f[_0x46cde1(0x15f)]['forEach'](_0x3f7de9=>{const _0x2d7fdf=_0x46cde1;!_0x3f7de9[_0x2d7fdf(0x1e1)]&&_0x526125['push']({'coin':_0x3f7de9['coin'],'number':_0x3f7de9['startnumber'],'price':_0x3f7de9[_0x2d7fdf(0x138)]});}),_0x3664c2={'date':_0xe16f5d,'eur':_0x2d7e97[stablecoins[_0x46cde1(0x1ce)]['coin']][_0x57cc34],'usd':_0x2d7e97[stablecoins[_0x46cde1(0x1f7)]['coin']][_0x57cc34],'coins':_0x526125}):(_0x507f1f[_0x46cde1(0x15f)]['forEach'](_0x1e2d3d=>{const _0x1f0399=_0x46cde1;!_0x1e2d3d[_0x1f0399(0x1e1)]&&_0x526125['push']({'coin':_0x1e2d3d[_0x1f0399(0x15d)],'number':_0x163acb[_0x1e2d3d['coin']][_0xe16f5d],'price':_0x1e2d3d[_0x1f0399(0x15d)]==config[_0x1f0399(0x197)]?0x1:_0x2d7e97[_0x1e2d3d[_0x1f0399(0x15d)]][_0x57cc34]});}),_0x3664c2={'date':_0xe16f5d,'eur':_0x2d7e97[stablecoins[_0x46cde1(0x1ce)]['coin']][_0x57cc34],'usd':_0x2d7e97[stablecoins[_0x46cde1(0x1f7)][_0x46cde1(0x15d)]][_0x57cc34],'coins':_0x526125}),dbPerformance[_0x46cde1(0x11a)](_0x46cde1(0x1ab))[_0x46cde1(0x210)](_0x3664c2)[_0x46cde1(0x107)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x46363b of _0x5dc015){_0x46363b[_0x4c5c12(0x15d)]!=config[_0x4c5c12(0x197)]&&await updateCoinResults(_0x46363b);}logHistory(_0x4c5c12(0x1f3),_0x4c5c12(0x11c));}catch(_0x47a2cf){await handleError(_0x47a2cf,_0x4c5c12(0x18c));}}async function validate24hChanges(){const _0x1dac91=_0x3736a1;let _0x5d6d9d;for(const _0x52b192 of currentCoins){if(_0x52b192['coin']!=config['basecoin']){let _0x28d71a;_0x52b192['reverse']?_0x28d71a=formatResult((0x1/(global[_0x1dac91(0xfa)][noslash(_0x52b192[_0x1dac91(0x161)])]/0x64+0x1)-0x1)*0x64,0x3):_0x28d71a=global['change'][noslash(_0x52b192[_0x1dac91(0x161)])],_0x28d71a<config[_0x1dac91(0x14e)]&&(logHistory('error',_0x52b192[_0x1dac91(0x15d)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x28d71a+'%'),logHistory(_0x1dac91(0x189),_0x1dac91(0x182)),logHistory(_0x1dac91(0x189),_0x1dac91(0x16e)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x1f9d76,_0x27c9af,_0x518b12=undefined){const _0x5bef34=_0x3736a1,_0x497032='1d';let _0x18118d,_0x3ba25a;const _0x198aad=fns[_0x5bef34(0x13a)](new Date(),_0x27c9af)+0x1;try{const _0xaf0f2d=exchange[_0x5bef34(0x143)]()-_0x198aad*0x18*0xe10*0x3e8;_0x18118d=await exchange[_0x5bef34(0x219)](_0x1f9d76,_0x497032,_0xaf0f2d,_0x518b12),_0x3ba25a=await exchange[_0x5bef34(0x221)](_0x1f9d76);}catch(_0x4b66fd){await handleError(_0x4b66fd,_0x5bef34(0x159));}let _0x22cdf9=ohlcvToCloses(_0x18118d);return _0x22cdf9[_0x5bef34(0x210)](_0x3ba25a[_0x1f9d76]['last']),_0x22cdf9;}function ohlcvToCloses(_0x458f92){const _0x3bbd24=_0x3736a1;let _0x39c062=[];return _0x458f92[_0x3bbd24(0x109)](function(_0x2ed5bc){_0x39c062['push'](_0x2ed5bc[0x4]);}),_0x39c062;}function oneTimeMigration(){const _0x1dff13=_0x3736a1;let _0x3b0789=dbLogs[_0x1dff13(0x11a)](_0x1dff13(0x114))['value']();if(_0x3b0789!='2.3.5'){dbLogs[_0x1dff13(0x1b7)](_0x1dff13(0x114),_0x1dff13(0x170))[_0x1dff13(0x107)]();let _0x39aba6=[];const _0x30331e=dbLogs[_0x1dff13(0x11a)]('logs')[_0x1dff13(0x1dc)]();_0x30331e[_0x1dff13(0x109)](_0x539ef=>{const _0x474ca7=_0x1dff13;_0x39aba6[_0x474ca7(0x210)]({'time':_0x539ef[_0x474ca7(0xf6)],'type':_0x539ef[_0x474ca7(0x1c1)],'event':_0x539ef[_0x474ca7(0x132)]});}),dbLogs['get'](_0x1dff13(0xf9))['assign'](_0x39aba6)[_0x1dff13(0x107)]();}let _0x1fffe7=dbConfig['get'](_0x1dff13(0x114))[_0x1dff13(0x1dc)]();if(_0x1fffe7!=_0x1dff13(0x170)){dbConfig[_0x1dff13(0x1b7)]('version','2.3.5')[_0x1dff13(0x107)]();let _0x696824=dbConfig[_0x1dff13(0x11a)]('bot')[_0x1dff13(0xfd)]({'botID':botID})['value']();if(_0x696824){let _0x5bc8ac=[];_0x696824[_0x1dff13(0x15f)]['forEach'](_0x2d1ae8=>{const _0x2c2cd1=_0x1dff13;_0x5bc8ac[_0x2c2cd1(0x210)]({'coin':_0x2d1ae8[_0x2c2cd1(0x15d)],'number':_0x2d1ae8[_0x2c2cd1(0xf7)],'price':_0x2d1ae8[_0x2c2cd1(0x138)]}),delete _0x2d1ae8[_0x2c2cd1(0xf7)],delete _0x2d1ae8['startprice'];});if(_0x5bc8ac[_0x1dff13(0x112)]!==0x0)fs[_0x1dff13(0x1c7)](configbackuppath+(_0x1dff13(0x1dd)+botID+_0x1dff13(0x103)),JSON['stringify'](_0x5bc8ac,null,0x4),function(_0x57f81f){if(_0x57f81f){}});const _0x3e0a99=(_0x5af4eb,_0x4481f8)=>{const _0x1528a0=_0x1dff13;let _0x27ca2e=[];_0x4481f8[_0x1528a0(0x109)](_0x675b98=>{const _0x53a377=_0x1528a0,_0x3cae1f=_0x5af4eb[_0x53a377(0xfd)](_0xfd7e84=>_0xfd7e84[_0x53a377(0x15d)]==_0x675b98['coin']);if(!_0x3cae1f)_0x27ca2e[_0x53a377(0x210)](_0x675b98);});let _0x3007d7=[];return _0x5af4eb[_0x1528a0(0x109)](_0x3bc272=>{const _0x144acc=_0x1528a0,_0x59de6c=_0x4481f8[_0x144acc(0xfd)](_0x465df1=>_0x465df1[_0x144acc(0x15d)]==_0x3bc272[_0x144acc(0x15d)]);if(!_0x59de6c||_0x59de6c['number']==0x0&&_0x3bc272[_0x144acc(0x203)]!=0x0)_0x3007d7[_0x144acc(0x210)](_0x3bc272);}),{'missingDay1':_0x27ca2e,'notInDay2':_0x3007d7};},_0x4c605e=dbPerformance['get'](_0x1dff13(0x1ab))[_0x1dff13(0x214)]()[_0x1dff13(0x1dc)]();if(_0x4c605e[_0x1dff13(0x112)]>0x1){const {missingDay1:_0x4becbb,notInDay2:_0x316847}=_0x3e0a99(_0x5bc8ac,_0x4c605e[0x1][_0x1dff13(0x1b1)]);_0x5bc8ac=[..._0x5bc8ac,..._0x4becbb],_0x316847['forEach'](_0x41e120=>{const _0x5b3479=_0x1dff13;let _0x5d252f=_0x5bc8ac[_0x5b3479(0x1e0)](_0x1b3bdb=>_0x1b3bdb['coin']==_0x41e120['coin']);_0x5d252f!=-0x1&&_0x5bc8ac[_0x5b3479(0x113)](_0x5d252f,0x1);});}_0x5bc8ac[_0x1dff13(0x16d)]((_0x518dc0,_0x17bb74)=>_0x518dc0[_0x1dff13(0x15d)]>_0x17bb74[_0x1dff13(0x15d)]?0x1:_0x17bb74[_0x1dff13(0x15d)]>_0x518dc0[_0x1dff13(0x15d)]?-0x1:0x0);let _0x1918ee=[{'date':_0x696824['startdate'],'changes':_0x5bc8ac}];_0x4c605e['length']>0x2&&_0x4c605e[_0x1dff13(0x109)]((_0xc0a9fc,_0x39c0ee)=>{const _0x41225c=_0x1dff13;if(_0x39c0ee>0x0&&_0x39c0ee<_0x4c605e['length']-0x1){const {missingDay1:_0x31edf0,notInDay2:_0x592e12}=_0x3e0a99(_0x4c605e[_0x39c0ee]['coins'],_0x4c605e[_0x39c0ee+0x1][_0x41225c(0x1b1)]);_0x5bc8ac=[],(_0x31edf0['length']!=0x0||_0x592e12[_0x41225c(0x112)]!=0x0)&&(_0x31edf0[_0x41225c(0x112)]!=0x0&&_0x5bc8ac[_0x41225c(0x210)](..._0x31edf0),_0x592e12[_0x41225c(0x112)]!=0x0&&(_0x592e12['forEach'](_0x339e47=>{_0x339e47['number']=-_0x339e47['number'];}),_0x5bc8ac[_0x41225c(0x210)](..._0x592e12)),_0x5bc8ac[_0x41225c(0x16d)]((_0x1d0a78,_0x4f6573)=>_0x1d0a78[_0x41225c(0x15d)]>_0x4f6573[_0x41225c(0x15d)]?0x1:_0x4f6573[_0x41225c(0x15d)]>_0x1d0a78[_0x41225c(0x15d)]?-0x1:0x0),_0x1918ee[_0x41225c(0x210)]({'date':_0x4c605e[_0x39c0ee+0x1][_0x41225c(0x175)],'changes':_0x5bc8ac}));}}),dbConfig[_0x1dff13(0x11a)](_0x1dff13(0x218))[_0x1dff13(0xfd)]({'botID':botID})[_0x1dff13(0x101)]({..._0x696824,'liquidity':_0x1918ee})[_0x1dff13(0x107)]();}}config=getConfiguration(botID);let _0x4f15ac=dbPerformance[_0x1dff13(0x11a)](_0x1dff13(0x114))[_0x1dff13(0x1dc)]();_0x4f15ac!=_0x1dff13(0x170)&&(dbPerformance['set'](_0x1dff13(0x114),'2.3.5')[_0x1dff13(0x107)](),setStartDatePerformance());let _0x28e0f8=dbCoinResults[_0x1dff13(0x11a)]('version')[_0x1dff13(0x1dc)]();_0x28e0f8!=_0x1dff13(0x170)&&dbCoinResults[_0x1dff13(0x1b7)](_0x1dff13(0x114),_0x1dff13(0x170))[_0x1dff13(0x107)]();}function getConfiguration(_0x4db692){const _0x2f8ecf=_0x3736a1;let _0x5bde06=dbConfig['get']('bot')[_0x2f8ecf(0xfd)]({'botID':_0x4db692})[_0x2f8ecf(0x1dc)]();if(_0x5bde06){let _0x29d31c=![];typeof _0x5bde06[_0x2f8ecf(0x153)]=='string'&&(_0x5bde06={..._0x5bde06,'threshold':Number(_0x5bde06[_0x2f8ecf(0x153)])},_0x29d31c=!![]),_0x5bde06[_0x2f8ecf(0x14e)]==null&&(_0x5bde06={..._0x5bde06,'change24h':-0x14},_0x29d31c=!![]),_0x29d31c&&(_0x5bde06={'botID':_0x5bde06[_0x2f8ecf(0x1be)],'exchange':_0x5bde06[_0x2f8ecf(0x12e)],'apiKey':_0x5bde06[_0x2f8ecf(0x1b5)],'apiSecret':_0x5bde06[_0x2f8ecf(0x157)],'basecoin':_0x5bde06[_0x2f8ecf(0x197)],'botname':_0x5bde06[_0x2f8ecf(0x195)],'showname':_0x5bde06[_0x2f8ecf(0x19b)],'threshold':_0x5bde06[_0x2f8ecf(0x153)],'ordertype':_0x5bde06[_0x2f8ecf(0x1b4)],'timeout':_0x5bde06[_0x2f8ecf(0x160)],'startdate':_0x5bde06[_0x2f8ecf(0x19a)],'recreate':_0x5bde06['recreate'],'timeshift':_0x5bde06[_0x2f8ecf(0x1a2)],'headless':_0x5bde06[_0x2f8ecf(0x20d)],'cooldown':_0x5bde06[_0x2f8ecf(0x1a3)],'change24h':_0x5bde06[_0x2f8ecf(0x14e)],'emojibuy':_0x5bde06[_0x2f8ecf(0x15e)],'emojisell':_0x5bde06[_0x2f8ecf(0x1ec)],'portfolio':_0x5bde06[_0x2f8ecf(0x15f)],'liquidity':_0x5bde06[_0x2f8ecf(0x12b)]},dbConfig[_0x2f8ecf(0x11a)]('bot')[_0x2f8ecf(0x108)]()[_0x2f8ecf(0x107)](),dbConfig[_0x2f8ecf(0x11a)]('bot')[_0x2f8ecf(0x210)](_0x5bde06)[_0x2f8ecf(0x107)]());}else _0x5bde06={'botID':_0x4db692,'exchange':_0x2f8ecf(0x1a6),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x2f8ecf(0x1bc)+_0x4db692,'showname':![],'threshold':0x3,'ordertype':_0x2f8ecf(0x193),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2f8ecf(0x1a2)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x5bde06;}function emittedConfiguration(){const _0x48a214=_0x3736a1;let _0x43e3de;return config[_0x48a214(0x1b5)]==''?_0x43e3de=config:_0x43e3de={...config,'apiKey':_0x48a214(0x11b),'apiSecret':'************'},_0x43e3de;}function _0x6c53(){const _0x1d6f36=['hybrid-crypto-js','cancel','bot','fetchOHLCV','9888324FiHate','max','./config/','padStart','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','initws()','accumulatedQuantity','fetchTickers','Order(s)\x20filled\x20-\x20balancing\x20resumed','bid','has','RequestTimeout','time','startnumber','bot-','logs','change','fees','format','find','Binance\x20not\x20available\x20(2)','lowdb/adapters/FileSync','coinamount','assign','cancelLoading','.json','message','API\x20or\x20clock\x20sync\x20issue','timestamp','write','remove','forEach','date-fns','progress','loadSymbols()','amount','placeOrder()','BTCEUR','split','keys','length','splice','version','Limit\x20(low-margin)','orderId','-config.json','configuration','Binance\x20API\x20key\x20is\x20invalid','get','************','Performance\x20recreation\x20completed\x20successfully','AuthenticationError','side','USDC','eventType','fetchOrders','coin-loading-progress','balances','emitHistory','3959348goOyHi','WebSockets(','last','fromCodePoint','\x20-\x20','closeWs','liquidity','offset','-events.json','exchange','log','\x20hour','currency','event','starting-balances','abs','OrderNotFound','enabled','trade','startprice','wss://stream.binance.us:9443','differenceInCalendarDays','API-key\x20format\x20invalid','152rusvLV','reverse','YOYOW/',')\x20|\x20Error\x20details:\x20','750TkEjxY','FILLED','event-history','milliseconds','toggleBotMode','configuration-stored','getStartingBalances','\x20>\x20','args','ccxt','LIMIT','getTime','yyyy-MM-dd\x27T\x27HH:mm:ss','getHours','change24h','\x20orders\x20in\x20less\x20than\x20','292nodPRa','lowdb','wss://stream.binance.com:9443','threshold','Invalid\x20quantity','Binance\x20API\x20blocked','defaults','apiSecret','9396442QuvEsr','getCloses()','performance','EUR','target','coin','emojibuy','portfolio','timeout','symbol','parse','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','asset','storeHeadless','shift','buys','getCoins()','orderStatus','deleteHistoryAlerts','existsSync','eachDayOfInterval','sort','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','2.3.5','breakeven','getDate','symbols','Executed\x20','date','Error:\x20Invalid\x20argument\x20','min','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','outboundAccountPosition','indexOf','BTC','NANO/','storeConfiguration','function',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20|\x20Error\x20details:\x20','BNB','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','placeOrder','Order\x20amount\x20is\x20invalid:\x20','availableBalance','datetime','limit-low','BTCUSDT','error','includes','ask','recreateHistory()','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','isArray','getFullYear','formattedMessage','./version.json','toLowerCase','market','yyyy/MM/dd','botname','Limit\x20(high-margin)','basecoin','Unfilled\x20order(s)\x20canceled\x20after\x20','send','startdate','showname','(((.+)+)+)+$','Crypt','sha256','cost','getSeconds','join','timeshift','cooldown','300069OTsptn','DAI/','binance','sortBy','map','isEqual','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','data','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','-performance.json','createOrder','stringify','limits','coins','Order\x20filled:\x20','parseISO','ordertype','apiKey','wsKey','set','reduce','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','BTC/USDT','fee','Bot\x20','differenceInSeconds','botID','price','bb-settings.json','type','getMinutes','decrypt','sell','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','replace','writeFile','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','yyyy/MM/dd\x20HH:mm:ss','argv','subscribeSpotKline','Binance\x20API\x20secret\x20is\x20invalid','BTC/BUSD','eur','MIN_NOTIONAL','ExchangeNotAvailable','BUSD','spot','ticker','USDT','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','executionReport','/backup/','subscribeSpotUserDataStream','\x20order:\x20','001','userData','value','starting-balance-','binanceus','exit','findIndex','excluded','order','sells','\x20minutes\x20-\x20balancing\x20resumed','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','bb-secure.json','filter','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','entries','391758upgWLM','running','emojisell','loadMarkets','buy','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','realized','subscribeSymbol24hrTicker','3WsJuua','success','BNB/','Binance\x20not\x20responding','HOT/BTC','usd','XEM/BUSD','4872HvYNjj','test','filled','kill','remainingSymbols','25NUKHtu','total','InsufficientFunds','getMonth','changes','number','BTCBUSD','distribution','mkdirSync','restart','page','28233uUGlsm','toString','valid','limit','headless','privateKey','cancelOrder','push','round','delta','slice','cloneDeep','toFixed'];_0x6c53=function(){return _0x1d6f36;};return _0x6c53();}function getSettings(){const _0x4243b4=_0x3736a1;return dbSettings['get']('settings')[_0x4243b4(0x1dc)]();}function getSecure(){return dbSecure['get']('secure')['value']()||{};}function updateTimeshift(_0x3d79d6){const _0x50f8d9=_0x3736a1;let _0x4e4730=dbConfig[_0x50f8d9(0x11a)](_0x50f8d9(0x218))['find']({'botID':botID})[_0x50f8d9(0x1dc)]();_0x4e4730&&dbConfig[_0x50f8d9(0x11a)](_0x50f8d9(0x218))[_0x50f8d9(0xfd)]({'botID':botID})[_0x50f8d9(0x101)]({'timeshift':_0x3d79d6})[_0x50f8d9(0x107)](),config[_0x50f8d9(0x1a2)]=_0x3d79d6,proxyEmit(_0x50f8d9(0x118),emittedConfiguration());}async function storeConfiguration(_0x176f0c){const _0x4615d2=_0x3736a1;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x47feaf=dbConfig[_0x4615d2(0x11a)](_0x4615d2(0x218))[_0x4615d2(0xfd)]({'botID':botID})[_0x4615d2(0x1dc)]();_0x176f0c={..._0x176f0c,'apiKey':crypt[_0x4615d2(0x1c3)](secure[_0x4615d2(0x20e)],_0x176f0c[_0x4615d2(0x1b5)])[_0x4615d2(0x104)],'apiSecret':crypt[_0x4615d2(0x1c3)](secure[_0x4615d2(0x20e)],_0x176f0c[_0x4615d2(0x157)])[_0x4615d2(0x104)]};if(_0x47feaf){if(_0x176f0c[_0x4615d2(0x1b5)]==_0x4615d2(0x11b))_0x176f0c[_0x4615d2(0x1b5)]=config[_0x4615d2(0x1b5)];if(_0x176f0c[_0x4615d2(0x157)]=='************')_0x176f0c['apiSecret']=config[_0x4615d2(0x157)];dbConfig[_0x4615d2(0x11a)]('bot')[_0x4615d2(0xfd)]({'botID':botID})[_0x4615d2(0x101)](_0x176f0c)[_0x4615d2(0x107)]();}else dbConfig[_0x4615d2(0x11a)](_0x4615d2(0x218))[_0x4615d2(0x210)](_0x176f0c)[_0x4615d2(0x107)](),process[_0x4615d2(0x199)]({'status':_0x4615d2(0x136),'live':_0x4615d2(0x1eb)},_0xda6572=>{});config={..._0x176f0c},setStartDatePerformance(),process[_0x4615d2(0x199)]({'botname':_0x176f0c[_0x4615d2(0x195)]},_0x344b4e=>{}),updateBotManager();const _0x472f17=getNormalizedPerformance();getStartingBalances(_0x472f17),emitPerformance(_0x472f17),proxyEmit(_0x4615d2(0x145)),reset();}async function storeHeadless(_0x4a3c08){const _0x2567ef=_0x3736a1,_0xee24aa={...config,'headless':_0x4a3c08[_0x2567ef(0x20d)]};let _0x403466=dbConfig[_0x2567ef(0x11a)](_0x2567ef(0x218))[_0x2567ef(0xfd)]({'botID':botID})[_0x2567ef(0x1dc)]();_0x403466&&dbConfig[_0x2567ef(0x11a)](_0x2567ef(0x218))[_0x2567ef(0xfd)]({'botID':botID})['assign'](_0xee24aa)['write'](),config={..._0xee24aa},updateBotManager(),proxyEmit(_0x2567ef(0x118),emittedConfiguration());}function noslash(_0x2f33bb){const _0x284992=_0x3736a1;return _0x2f33bb[_0x284992(0x1c6)]('/','');}function updateNumberCoins(_0x54b31a){const _0x2a17c7=_0x3736a1;_0x54b31a[_0x2a17c7(0x120)]&&_0x54b31a[_0x2a17c7(0x120)]==_0x2a17c7(0x179)&&_0x54b31a[_0x2a17c7(0x123)]['forEach'](_0xc3f99b=>{const _0x3b39e9=_0x2a17c7;let _0x8d82cf=currentCoins[_0x3b39e9(0xfd)](_0x42edeb=>_0x42edeb['coin']==_0xc3f99b[_0x3b39e9(0x164)]),_0x5c3dcb=config['portfolio'][_0x3b39e9(0xfd)](_0x299d32=>_0x299d32['coin']==_0xc3f99b[_0x3b39e9(0x164)]);if(_0x8d82cf&&_0x5c3dcb)_0x8d82cf[_0x3b39e9(0x203)]=Math['max'](Number(_0xc3f99b[_0x3b39e9(0x185)])+(_0x5c3dcb[_0x3b39e9(0x12c)]||0x0),0x0);});if(_0x54b31a[_0x2a17c7(0x120)]&&_0x54b31a[_0x2a17c7(0x120)]==_0x2a17c7(0x1d6)){if(_0x54b31a['orderType']==_0x2a17c7(0x14a)&&_0x54b31a[_0x2a17c7(0x169)]==_0x2a17c7(0x141)){if(lastOrders)lastOrders['forEach'](_0xc46a80=>{const _0x5814bb=_0x2a17c7;if(_0xc46a80[_0x5814bb(0x116)]==_0x54b31a[_0x5814bb(0x116)]){if(_0xc46a80['reverse'])_0xc46a80['filled']=_0x54b31a['accumulatedQuantity']*_0xc46a80[_0x5814bb(0x1bf)];else _0xc46a80['filled']=_0x54b31a[_0x5814bb(0x220)];}});}}}async function getCoins(_0x19d097=!![],_0x367424=config[_0x3736a1(0x197)]){const _0x2aa78c=_0x3736a1;let _0x5659c1,_0xbbff0f=[],_0x22ce8e=[],_0x5bf922=[];try{_0x5659c1=await exchange['fetchBalance'](),mybalances=_0x5659c1[_0x2aa78c(0x1ff)];if(!_0x19d097)for(const [_0x46c232,_0x4d85d5]of Object[_0x2aa78c(0x1e9)](mybalances)){_0x5bf922[_0x2aa78c(0x210)](_0x46c232);}else config['portfolio']['forEach'](_0x208c6d=>{const _0x346e98=_0x2aa78c;if(!_0x208c6d[_0x346e98(0x1e1)])_0x5bf922['push'](_0x208c6d['coin']);});if(_0x367424=='')for(const [_0x292ef7,_0x5da2cf]of Object[_0x2aa78c(0x1e9)](mybalances)){_0x5da2cf['toString']()!=0x0&&_0x22ce8e[_0x2aa78c(0x210)]({'coin':_0x292ef7});}else for(const [_0x2a9c85,_0x49cf5a]of Object['entries'](mybalances)){if(_0x5bf922['includes'](_0x2a9c85)){const _0x1c706f=config[_0x2aa78c(0x15f)][_0x2aa78c(0xfd)](_0x4f5e9d=>_0x4f5e9d[_0x2aa78c(0x15d)]==_0x2a9c85);if((_0x49cf5a[_0x2aa78c(0x20a)]()!=0x0||_0x1c706f)&&(allSymbols[_0x2aa78c(0x18a)](_0x2a9c85+'/'+_0x367424)||_0x2a9c85==_0x367424))_0x22ce8e['push']({'coin':_0x2a9c85,'symbol':_0x2a9c85+'/'+_0x367424,'reverse':![],'number':Math[_0x2aa78c(0x21b)](_0x49cf5a+(_0x1c706f&&_0x1c706f[_0x2aa78c(0x12c)]||0x0),0x0)}),_0x2a9c85!=_0x367424&&_0xbbff0f[_0x2aa78c(0x210)](_0x2a9c85+'/'+_0x367424);else(_0x49cf5a[_0x2aa78c(0x20a)]()!=0x0||_0x1c706f)&&allSymbols[_0x2aa78c(0x18a)](_0x367424+'/'+_0x2a9c85)&&(_0x22ce8e[_0x2aa78c(0x210)]({'coin':_0x2a9c85,'symbol':_0x367424+'/'+_0x2a9c85,'reverse':!![],'number':Math[_0x2aa78c(0x21b)](_0x49cf5a+(_0x1c706f&&_0x1c706f[_0x2aa78c(0x12c)]||0x0),0x0)}),_0x2a9c85!=_0x367424&&_0xbbff0f[_0x2aa78c(0x210)](_0x367424+'/'+_0x2a9c85));}}}catch(_0x5246f6){if(!_0x19d097){if(_0x5246f6[_0x2aa78c(0x20a)]()[_0x2aa78c(0x18a)](_0x2aa78c(0x13b)))return logHistory(_0x2aa78c(0x189),_0x2aa78c(0x119)),![];else{if(_0x5246f6[_0x2aa78c(0x20a)]()[_0x2aa78c(0x18a)]('AuthenticationError'))return logHistory(_0x2aa78c(0x189),_0x2aa78c(0x18d)),![];else{if(_0x5246f6['toString']()[_0x2aa78c(0x18a)](_0x2aa78c(0x1aa)))return logHistory(_0x2aa78c(0x189),_0x2aa78c(0x1cc)),![];else await handleError(_0x5246f6,_0x2aa78c(0x168));}}}else await handleError(_0x5246f6,_0x2aa78c(0x168));}return _0x22ce8e;}async function getPortfolio(_0x4b4e64){const _0x39edb5=_0x3736a1;let _0x4c11e6=[],_0x36962a=[],_0x74e7dc,_0x1dc6dd=[],_0x2990ae,_0x591c4c;_0x4b4e64[_0x39edb5(0x1b5)]===_0x39edb5(0x11b)||_0x4b4e64[_0x39edb5(0x157)]===_0x39edb5(0x11b)?(_0x2990ae=config[_0x39edb5(0x1b5)],_0x591c4c=config[_0x39edb5(0x157)]):(_0x2990ae=_0x4b4e64['apiKey'],_0x591c4c=_0x4b4e64['apiSecret']);await initExchange(_0x2990ae,_0x591c4c);let _0x5130f3=await loadSymbols();if(_0x5130f3){_0x1dc6dd=await getCoins(![],_0x4b4e64[_0x39edb5(0x197)]);if(_0x1dc6dd===![])proxyEmit(_0x39edb5(0x15f),![]);else{if(_0x4b4e64[_0x39edb5(0x197)]=='')proxyEmit(_0x39edb5(0x15f),_0x1dc6dd);else{_0x1dc6dd[_0x39edb5(0x109)](_0x3f9e75=>{const _0x9b941e=_0x39edb5;_0x4c11e6[_0x9b941e(0x210)](_0x3f9e75[_0x9b941e(0x161)]);});try{_0x36962a=await exchange[_0x39edb5(0x221)](_0x4c11e6);}catch(_0x3f7619){await handleError(_0x3f7619,'getPortfolio()');}_0x1dc6dd[_0x39edb5(0x109)](_0x463ea2=>{const _0x528d06=_0x39edb5;_0x463ea2['coin']!=_0x4b4e64['basecoin']?_0x74e7dc=_0x463ea2[_0x528d06(0x13d)]?0x1/_0x36962a[_0x463ea2[_0x528d06(0x161)]][_0x528d06(0x127)]:_0x36962a[_0x463ea2['symbol']][_0x528d06(0x127)]:_0x74e7dc=0x1,_0x463ea2[_0x528d06(0x1bf)]=formatResult(_0x74e7dc,0x8);}),proxyEmit(_0x39edb5(0x15f),_0x1dc6dd);}}}else proxyEmit(_0x39edb5(0x15f),![]);}function checkMinimums(_0x54def7){const _0x1ca456=_0x3736a1;let _0x1a7d81=!![];const _0x5b76a5=!_0x54def7[_0x1ca456(0x13d)]?markets[_0x54def7[_0x1ca456(0x161)]]['limits'][_0x1ca456(0x10d)]['min']:markets[_0x54def7[_0x1ca456(0x161)]][_0x1ca456(0x1b0)]['cost'][_0x1ca456(0x177)],_0x4bb047=!_0x54def7[_0x1ca456(0x13d)]?markets[_0x54def7[_0x1ca456(0x161)]][_0x1ca456(0x1b0)][_0x1ca456(0x19f)][_0x1ca456(0x177)]:markets[_0x54def7[_0x1ca456(0x161)]][_0x1ca456(0x1b0)][_0x1ca456(0x10d)][_0x1ca456(0x177)];if(Math[_0x1ca456(0x134)](_0x54def7[_0x1ca456(0x137)])<_0x5b76a5)_0x1a7d81=![];if(Math[_0x1ca456(0x134)](_0x54def7[_0x1ca456(0x137)])*_0x54def7[_0x1ca456(0x127)]<_0x4bb047)_0x1a7d81=![];if(_0x54def7[_0x1ca456(0x11e)]==_0x1ca456(0x1c4)){let _0x14f224=config[_0x1ca456(0x15f)][_0x1ca456(0xfd)](_0x4802c0=>_0x4802c0[_0x1ca456(0x15d)]==_0x54def7[_0x1ca456(0x15d)]);if(Math[_0x1ca456(0x134)](_0x54def7[_0x1ca456(0x137)])>_0x54def7[_0x1ca456(0x203)]-_0x14f224[_0x1ca456(0x12c)])_0x1a7d81=![];}return _0x1a7d81;}async function getBalances(){const _0x786e88=_0x3736a1;let _0x287d34=0x0,_0x257448;const _0xdf07eb=config['threshold'];if(config[_0x786e88(0x20d)]&&config[_0x786e88(0x14e)]<0x0)await validate24hChanges();currentCoins[_0x786e88(0x109)](_0x65e458=>{const _0x54e838=_0x786e88;if(_0x65e458[_0x54e838(0x15d)]!=config[_0x54e838(0x197)]){let _0x2be0f9=global[_0x54e838(0x1d3)][noslash(_0x65e458[_0x54e838(0x161)])];_0x257448=_0x65e458['reverse']?0x1/_0x2be0f9:_0x2be0f9;}else _0x257448=0x1;let _0x3974f0=_0x65e458[_0x54e838(0x203)]*_0x257448;_0x287d34+=_0x3974f0,_0x65e458[_0x54e838(0x127)]=formatResult(Number(_0x257448),0x8),_0x65e458['value']=_0x3974f0;}),currentCoins[_0x786e88(0x109)](_0x13de8c=>{const _0x24026d=_0x786e88;let _0x55ea81=config[_0x24026d(0x15f)][_0x24026d(0xfd)](_0xcc4204=>_0xcc4204[_0x24026d(0x15d)]==_0x13de8c[_0x24026d(0x15d)]),_0x1b1f33=Number(_0x55ea81[_0x24026d(0x205)]),_0x3febc6=_0x13de8c['value']/_0x287d34*0x64,_0xfcd86e=_0x1b1f33*_0x287d34/0x64/_0x13de8c['last']-_0x13de8c['number'];_0x13de8c[_0x24026d(0x205)]=formatResult(_0x3febc6,0x3),_0x13de8c['target']=formatResult(_0x1b1f33,0x3),_0x13de8c[_0x24026d(0x137)]=formatResult(_0xfcd86e,0x8),_0x13de8c['side']='',_0x13de8c['valid']=![];if(_0x13de8c[_0x24026d(0x15d)]!=config[_0x24026d(0x197)]){if(_0x13de8c[_0x24026d(0x205)]>_0x1b1f33)_0x13de8c[_0x24026d(0x11e)]=_0x24026d(0x1c4),_0x13de8c[_0x24026d(0x20b)]=checkMinimums(_0x13de8c);else _0x13de8c[_0x24026d(0x205)]<_0x1b1f33&&(_0x13de8c[_0x24026d(0x11e)]=_0x24026d(0x1ee),_0x13de8c['valid']=checkMinimums(_0x13de8c));}_0x13de8c[_0x24026d(0x212)]=_0x13de8c['distribution']/_0x13de8c[_0x24026d(0x15c)]-0x1;}),currentCoins['sort']((_0x1a305b,_0x4cbbe1)=>_0x1a305b['delta']<_0x4cbbe1['delta']?0x1:_0x4cbbe1['delta']<_0x1a305b[_0x786e88(0x212)]?-0x1:0x0);const _0x29998e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x29998e[_0x786e88(0x1ce)],'usd':_0x29998e[_0x786e88(0x1f7)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0xdf07eb},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0xdf07eb});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0xdf07eb});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3cb8c4=_0x3736a1;if(!lastBalances)return;let _0x587b2c=[],_0x414469,_0x35b20e=JSON['parse'](lastBalances[_0x3cb8c4(0x15f)]);_0x35b20e[_0x3cb8c4(0x16d)]((_0x5b91e4,_0x4ffc80)=>_0x5b91e4[_0x3cb8c4(0x15d)]>_0x4ffc80[_0x3cb8c4(0x15d)]?0x1:_0x4ffc80[_0x3cb8c4(0x15d)]>_0x5b91e4['coin']?-0x1:0x0),_0x35b20e['forEach'](_0x4901f3=>{const _0x82e665=_0x3cb8c4;let _0xbc1518={'coin':_0x4901f3['coin'],'number':_0x4901f3['number'],'price':_0x4901f3[_0x82e665(0x127)]};_0x587b2c[_0x82e665(0x210)](_0xbc1518);});const _0x317787=await getFiat();_0x414469={'date':lastBalances['time'][_0x3cb8c4(0x110)]('\x20')[0x0],'eur':_0x317787[_0x3cb8c4(0x1ce)],'usd':_0x317787[_0x3cb8c4(0x1f7)],'coins':_0x587b2c};let _0x4d8be3=dbPerformance[_0x3cb8c4(0x11a)](_0x3cb8c4(0x1ab))['find']({'date':_0x414469[_0x3cb8c4(0x175)]})[_0x3cb8c4(0x1dc)]();_0x4d8be3?_0x414469[_0x3cb8c4(0x175)]!=config[_0x3cb8c4(0x19a)]&&dbPerformance['get'](_0x3cb8c4(0x1ab))[_0x3cb8c4(0xfd)]({'date':_0x414469['date']})[_0x3cb8c4(0x101)](_0x414469)[_0x3cb8c4(0x107)]():dbPerformance[_0x3cb8c4(0x11a)](_0x3cb8c4(0x1ab))[_0x3cb8c4(0x210)](_0x414469)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x2177a2=_0x3736a1;let _0x1c400e=[];if(dbPerformance['has'](_0x2177a2(0x1ab))[_0x2177a2(0x1dc)]()){let _0x26f70f=dbPerformance[_0x2177a2(0x11a)](_0x2177a2(0x1ab))[_0x2177a2(0x214)]()[_0x2177a2(0x1a7)](_0x2177a2(0x175))[_0x2177a2(0x1dc)](),_0x3e98e7=[...config['liquidity']];_0x3e98e7[_0x2177a2(0x16d)]((_0x2eea55,_0x23d33d)=>_0x2eea55['date']>_0x23d33d[_0x2177a2(0x175)]?-0x1:_0x23d33d[_0x2177a2(0x175)]>_0x2eea55[_0x2177a2(0x175)]?0x1:0x0);let _0x25702e=0x1,_0x27c054=[],_0x1e7083=0x0;_0x26f70f['slice']()[_0x2177a2(0x13d)]()['forEach']((_0x5e571b,_0x18e1f1)=>{const _0x7a22ea=_0x2177a2;if(_0x3e98e7[_0x1e7083]){if(_0x26f70f[_0x26f70f[_0x7a22ea(0x112)]-_0x18e1f1]&&_0x3e98e7[_0x1e7083][_0x7a22ea(0x175)]==_0x26f70f[_0x26f70f['length']-_0x18e1f1]['date']){if(_0x18e1f1<_0x26f70f['length']){let _0x34694f=0x0,_0x3fbb7a=0x0;_0x26f70f[_0x26f70f[_0x7a22ea(0x112)]-_0x18e1f1][_0x7a22ea(0x1b1)][_0x7a22ea(0x109)](_0xfe9b92=>{const _0x3def5c=_0x7a22ea;_0x3fbb7a+=_0xfe9b92['number']*_0xfe9b92[_0x3def5c(0x1bf)];}),_0x3e98e7[_0x1e7083]['changes'][_0x7a22ea(0x109)](_0x5d4b26=>{const _0x4d24e3=_0x7a22ea;_0x34694f+=_0x5d4b26[_0x4d24e3(0x203)]*_0x5d4b26[_0x4d24e3(0x1bf)];}),_0x25702e*=_0x34694f/(_0x3fbb7a-_0x34694f)+0x1;}_0x1e7083++;}}let _0x3a8b9d=0x0;_0x5e571b[_0x7a22ea(0x1b1)]['forEach'](_0x261201=>{const _0x2fed7e=_0x7a22ea;_0x3a8b9d+=_0x261201[_0x2fed7e(0x203)]*_0x261201[_0x2fed7e(0x1bf)];}),_0x27c054[_0x26f70f[_0x7a22ea(0x112)]-_0x18e1f1-0x1]=_0x3a8b9d*(_0x25702e-0x1);});let _0x46b6ba=[];_0x3e98e7=[...config[_0x2177a2(0x12b)]]||[];let _0x4f0e63=0x0;_0x1e7083=0x0,_0x26f70f[_0x2177a2(0x109)]((_0x2a7605,_0x1c99dc)=>{const _0x5d8e56=_0x2177a2;if(_0x3e98e7[_0x1e7083]){const _0x2763db=fns[_0x5d8e56(0x162)](_0x3e98e7[_0x1e7083][_0x5d8e56(0x175)],_0x5d8e56(0x194),new Date()),_0x4a35f3=fns[_0x5d8e56(0x162)](_0x2a7605[_0x5d8e56(0x175)],_0x5d8e56(0x194),new Date());if(fns[_0x5d8e56(0x1a9)](_0x2763db,_0x4a35f3)){let _0x48a33f=0x0;_0x3e98e7[_0x1e7083][_0x5d8e56(0x202)][_0x5d8e56(0x109)](_0x50aba7=>{const _0xe2f024=_0x5d8e56;!_0x46b6ba[_0x50aba7[_0xe2f024(0x15d)]]?_0x46b6ba[_0x50aba7[_0xe2f024(0x15d)]]=_0x50aba7['number']:(_0x48a33f=_0x46b6ba[_0x50aba7[_0xe2f024(0x15d)]],_0x46b6ba[_0x50aba7[_0xe2f024(0x15d)]]+=_0x50aba7[_0xe2f024(0x203)]);const _0xe2b57=_0x2a7605[_0xe2f024(0x1b1)][_0xe2f024(0xfd)](_0x3d20da=>_0x3d20da[_0xe2f024(0x15d)]==_0x50aba7[_0xe2f024(0x15d)]);(!_0xe2b57||_0xe2b57[_0xe2f024(0x203)]==0x0)&&(_0x4f0e63+=(-_0x50aba7[_0xe2f024(0x203)]-_0x48a33f)*_0x50aba7['price']);}),_0x1e7083++;}}_0x2a7605[_0x5d8e56(0x1b1)]['forEach']((_0x2c9a92,_0x2317bf)=>{const _0x4c2017=_0x5d8e56;_0x46b6ba[_0x2c9a92[_0x4c2017(0x15d)]]&&(_0x2c9a92={..._0x2c9a92,'initial':_0x46b6ba[_0x2c9a92[_0x4c2017(0x15d)]]}),_0x2a7605[_0x4c2017(0x1b1)][_0x2317bf]=_0x2c9a92;}),_0x1c400e[_0x5d8e56(0x210)]({'date':_0x2a7605['date'],'eur':_0x2a7605[_0x5d8e56(0x1ce)],'usd':_0x2a7605['usd'],'offset':_0x27c054[_0x1c99dc],'netoffset':_0x4f0e63,'coins':_0x2a7605['coins']});});}return _0x1c400e;}function emitPerformance(_0x132241){const _0x3c2753=_0x3736a1;_0x132241['length']!==0x0?(proxyEmit(_0x3c2753(0x15a),_0x132241),lastPerformanceEmitted=getDate()):proxyEmit(_0x3c2753(0x15a),[]);}function getPerf(_0xe5848d,_0x1591bc){const _0x466c9d=_0x3736a1;let _0x180e52=0x0,_0x295728=0x0,_0x3d0959=0x0;_0xe5848d[_0x466c9d(0x1b1)][_0x466c9d(0x109)](_0x1b1580=>{const _0x499a9b=_0x466c9d;_0x180e52+=_0x1b1580[_0x499a9b(0x203)]*_0x1b1580[_0x499a9b(0x1bf)];});_0x1591bc&&(_0x180e52+=_0xe5848d[_0x466c9d(0x12c)]);if(config[_0x466c9d(0x197)]===_0x466c9d(0x17b))_0x295728=_0x180e52*_0xe5848d[_0x466c9d(0x1ce)],_0x3d0959=_0x180e52*_0xe5848d[_0x466c9d(0x1f7)];else{if(config[_0x466c9d(0x197)]===_0x466c9d(0x1d1)||config[_0x466c9d(0x197)]===_0x466c9d(0x1d4)||config['basecoin']===_0x466c9d(0x11f))_0x295728=_0x180e52*_0xe5848d['eur']/_0xe5848d[_0x466c9d(0x1f7)],_0x3d0959=_0x180e52;else config[_0x466c9d(0x197)]===_0x466c9d(0x15b)&&(_0x295728=_0x180e52,_0x3d0959=_0x180e52*_0xe5848d[_0x466c9d(0x1f7)]/_0xe5848d['eur']);}return[_0x180e52,_0x295728,_0x3d0959];}async function getStartingBalances(_0x2ffa95,_0x5eddfc=!![]){const _0x465d91=_0x3736a1;if(_0x2ffa95['length']!==0x0){const [_0x111b98,_0x40c108,_0x39e445]=getPerf(_0x2ffa95[0x0],!![]);let _0x4897ff=[];config['portfolio']['forEach'](_0xcd611c=>{const _0x43332e=_0x3ce6;let _0x3e437f=0x0;config[_0x43332e(0x12b)][_0x43332e(0x109)](_0x34277d=>{const _0x13c0b3=_0x43332e;let _0x170eb6=_0x34277d[_0x13c0b3(0x202)][_0x13c0b3(0xfd)](_0xd20629=>_0xd20629[_0x13c0b3(0x15d)]==_0xcd611c[_0x13c0b3(0x15d)]);if(_0x170eb6)_0x3e437f+=_0x170eb6[_0x13c0b3(0x203)];}),_0x4897ff['push']({'coin':_0xcd611c[_0x43332e(0x15d)],'number':_0x3e437f,'price':_0xcd611c[_0x43332e(0x1bf)]});});const _0x44c405={'basecoin':_0x111b98,'eur':_0x40c108,'usd':_0x39e445,'coins':_0x4897ff};if(_0x5eddfc)proxyEmit(_0x465d91(0x133),_0x44c405);return _0x44c405;}}function headlessMode(_0x4d62bc){const _0x1bfdb0=_0x3736a1;let _0x296592=_0x4d62bc[_0x1bfdb0(0x15f)],_0x46d048=_0x4d62bc[_0x1bfdb0(0x153)],_0x304a29=[];for(let _0x5877f1 of _0x296592){if(_0x5877f1['coin']!=config['basecoin']){if(_0x5877f1[_0x1bfdb0(0x205)]/_0x5877f1[_0x1bfdb0(0x15c)]-0x1>=_0x46d048/0x64){if(_0x5877f1[_0x1bfdb0(0x20b)])_0x304a29[_0x1bfdb0(0x210)](_0x5877f1);}else{if(_0x5877f1[_0x1bfdb0(0x205)]/_0x5877f1[_0x1bfdb0(0x15c)]-0x1<=-_0x46d048/0x64){if(_0x5877f1[_0x1bfdb0(0x20b)])_0x304a29[_0x1bfdb0(0x210)](_0x5877f1);}}}}_0x304a29[_0x1bfdb0(0x112)]>0x0&&placeOrder(_0x304a29);}function notifyBalance(_0x322e36){const _0x36b560=_0x3736a1;let _0x282f77=_0x322e36[_0x36b560(0x15f)],_0xb1c5ff=_0x322e36['threshold'],_0x54629e=[];for(let _0x2f8b2d of _0x282f77){if(_0x2f8b2d[_0x36b560(0x15d)]!=config['basecoin']){if(_0x2f8b2d['distribution']/_0x2f8b2d[_0x36b560(0x15c)]-0x1>=_0xb1c5ff/0x64){if(_0x2f8b2d[_0x36b560(0x20b)])_0x54629e[_0x36b560(0x210)](_0x2f8b2d);}else{if(_0x2f8b2d[_0x36b560(0x205)]/_0x2f8b2d[_0x36b560(0x15c)]-0x1<=-_0xb1c5ff/0x64){if(_0x2f8b2d[_0x36b560(0x20b)])_0x54629e[_0x36b560(0x210)](_0x2f8b2d);}}}}if(_0x54629e[_0x36b560(0x112)]>0x0){let _0x45b869=_0x54629e['map'](_0x206fa4=>_0x206fa4[_0x36b560(0x15d)]);_0x45b869[_0x36b560(0x16d)]();let _0x281a7b=_0x45b869[_0x36b560(0x1a1)](',\x20');if(lastCoinsToBalance!==_0x281a7b)logHistory('success','Manual\x20balancing\x20required:\x20'+_0x281a7b);lastCoinsToBalance=_0x281a7b;}}function symbolToCoin(_0x28db17){const _0x20af72=_0x3736a1;let _0x206bf4;if(_0x28db17['includes']('/'+config[_0x20af72(0x197)]))_0x206bf4=_0x28db17[_0x20af72(0x1c6)]('/'+config['basecoin'],'');if(_0x28db17[_0x20af72(0x18a)](config[_0x20af72(0x197)]+'/'))_0x206bf4=_0x28db17[_0x20af72(0x1c6)](config['basecoin']+'/','');return _0x206bf4;}async function validateOrders(_0x53cce0=0x0){const _0x263c36=_0x3736a1;let _0x293a76=[],_0x5ad783=config[_0x263c36(0x1b4)]==_0x263c36(0x193)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x263c36(0x160)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x263c36(0x109)](_0x404e5f=>{const _0x1c4fd3=_0x263c36;let _0x2a21f9=previousCoins['find'](_0x116d47=>_0x116d47[_0x1c4fd3(0x15d)]==symbolToCoin(_0x404e5f[_0x1c4fd3(0x161)])),_0x1f7534=currentCoins['find'](_0x535528=>_0x535528['coin']==symbolToCoin(_0x404e5f['symbol'])),_0x1ca5ca,_0x14c2dd;_0x404e5f['side']==_0x1c4fd3(0x1ee)&&!_0x404e5f[_0x1c4fd3(0x13d)]||_0x404e5f[_0x1c4fd3(0x11e)]=='sell'&&_0x404e5f[_0x1c4fd3(0x13d)]?(_0x1ca5ca=_0x2a21f9[_0x1c4fd3(0x203)]+0.9*_0x404e5f[_0x1c4fd3(0x1fb)],_0x14c2dd=_0x2a21f9[_0x1c4fd3(0x203)]+1.1*_0x404e5f[_0x1c4fd3(0x1fb)]):(_0x1ca5ca=_0x2a21f9[_0x1c4fd3(0x203)]-1.1*_0x404e5f[_0x1c4fd3(0x1fb)],_0x14c2dd=_0x2a21f9[_0x1c4fd3(0x203)]-0.9*_0x404e5f[_0x1c4fd3(0x1fb)]);const _0xbd9b13=_0x404e5f[_0x1c4fd3(0x1fb)]!=0x0&&_0x1f7534[_0x1c4fd3(0x203)]>=_0x1ca5ca&&_0x1f7534[_0x1c4fd3(0x203)]<=_0x14c2dd;_0x293a76[_0x1c4fd3(0x210)](_0xbd9b13);if(_0xbd9b13&&config[_0x1c4fd3(0x1b4)]!=_0x1c4fd3(0x193)){if(_0x404e5f[_0x1c4fd3(0x13d)])logHistory(_0x1c4fd3(0x1e2),_0x1c4fd3(0x1b2)+_0x404e5f[_0x1c4fd3(0x161)]+'\x20'+_0x404e5f[_0x1c4fd3(0x11e)]+'\x20#'+formatResult(_0x404e5f[_0x1c4fd3(0x1fb)]/_0x404e5f['price'],0x8)+'\x20@'+formatResult(_0x404e5f[_0x1c4fd3(0x1bf)],0x8));else logHistory(_0x1c4fd3(0x1e2),_0x1c4fd3(0x1b2)+_0x404e5f[_0x1c4fd3(0x161)]+'\x20'+_0x404e5f[_0x1c4fd3(0x11e)]+'\x20#'+formatResult(_0x404e5f[_0x1c4fd3(0x1fb)],0x8)+'\x20@'+formatResult(_0x404e5f[_0x1c4fd3(0x1bf)],0x8));}}),_0x293a76[_0x263c36(0x109)]((_0xfc5e72,_0x265c17)=>{const _0xd9a9d7=_0x263c36;if(_0xfc5e72)lastOrders[_0xd9a9d7(0x113)](_0x265c17,0x1);});if(_0x53cce0<_0x5ad783&&_0x293a76['includes'](![])){if(_0x53cce0==0x0){config[_0x263c36(0x1b4)]==_0x263c36(0x193)?logHistory(_0x263c36(0x189),_0x263c36(0x21e)):logHistory(_0x263c36(0x189),_0x263c36(0x1e8));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x53cce0);},0xa*0x3e8);}else{(_0x53cce0==0x1||_0x53cce0==Math['round'](_0x5ad783/0x2)||_0x53cce0==_0x5ad783-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x53cce0);},validateOrderInterval);}}else{lockOrders=![];if(_0x53cce0>0x0&&!_0x293a76['includes'](![]))config[_0x263c36(0x1b4)]==_0x263c36(0x193)?logHistory(_0x263c36(0x1f3),'Order(s)\x20validated\x20-\x20balancing\x20resumed'):logHistory('success',_0x263c36(0x222));else _0x53cce0>0x0&&_0x293a76[_0x263c36(0x18a)](![])&&(config['ordertype']=='market'?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x5ad783*validateOrderInterval/0xea60)+_0x263c36(0x1e4)):(lastOrders[_0x263c36(0x109)](async _0x2bb8f2=>{const _0x3f0aee=_0x263c36;try{const _0x539e78=await exchange[_0x3f0aee(0x20f)](_0x2bb8f2[_0x3f0aee(0x116)],_0x2bb8f2[_0x3f0aee(0x161)]);}catch(_0x39df3d){if(_0x39df3d['toString']()['includes'](_0x3f0aee(0x135))){}else await handleError(_0x39df3d,'cancelOrder()');}}),logHistory('success',_0x263c36(0x198)+Math[_0x263c36(0x211)](_0x5ad783*validateOrderInterval/0xea60)+_0x263c36(0x1e4))));}}function _0x3ce6(_0x40e62b,_0x3cacb4){const _0x419c0a=_0x6c53();return _0x3ce6=function(_0x17118d,_0x3cba36){_0x17118d=_0x17118d-0xf6;let _0x6c5310=_0x419c0a[_0x17118d];return _0x6c5310;},_0x3ce6(_0x40e62b,_0x3cacb4);}async function resetCoinResults(){const _0xeeedf6=_0x3736a1;dbCoinResults[_0xeeedf6(0x11a)](_0xeeedf6(0x1b1))[_0xeeedf6(0x108)]()[_0xeeedf6(0x107)]();let _0x4ce52f=await getStartingBalances(getNormalizedPerformance(),![]);_0x4ce52f[_0xeeedf6(0x1b1)][_0xeeedf6(0x109)](_0x5e5f44=>{const _0x444072=_0xeeedf6;if(_0x5e5f44[_0x444072(0x15d)]!=config[_0x444072(0x197)]){let _0x4ffa82={'coin':_0x5e5f44['coin'],'number':_0x5e5f44[_0x444072(0x203)],'breakeven':_0x5e5f44[_0x444072(0x1bf)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x444072(0x11a)]('coins')[_0x444072(0x210)](_0x4ffa82)['write']();}});}async function updateCoinResults(_0x129cd9){const _0x4873fe=_0x3736a1;let _0x5b6377,_0x22bc2c,_0x28d589,_0x44bb06,_0x2368d0,_0x42b8c6,_0x21a054=dbCoinResults[_0x4873fe(0x11a)](_0x4873fe(0x1b1))[_0x4873fe(0xfd)]({'coin':_0x129cd9['coin']})[_0x4873fe(0x1dc)]();if(!_0x21a054)return;if(_0x129cd9[_0x4873fe(0x1bb)]&&_0x129cd9[_0x4873fe(0x1bb)][_0x4873fe(0x131)]==config[_0x4873fe(0x197)])_0x5b6377=_0x129cd9[_0x4873fe(0x1bb)][_0x4873fe(0x19f)];else{if(_0x129cd9['fee']&&_0x129cd9[_0x4873fe(0x1bb)][_0x4873fe(0x131)]==_0x4873fe(0x181))_0x5b6377=_0x129cd9['fee']['cost']*global[_0x4873fe(0x1d3)]['BNB'+config[_0x4873fe(0x197)]];else _0x5b6377=0.001*_0x129cd9['filled'];}const _0x4d3b8a=_0x129cd9[_0x4873fe(0x161)][_0x4873fe(0x18a)](config['basecoin']+'/');_0x4d3b8a&&(_0x42b8c6={'coin':_0x129cd9['coin'],'symbol':_0x129cd9[_0x4873fe(0x161)],'filled':_0x129cd9[_0x4873fe(0x1fb)]*_0x129cd9[_0x4873fe(0x1bf)],'side':_0x129cd9[_0x4873fe(0x11e)]==_0x4873fe(0x1c4)?_0x4873fe(0x1ee):_0x4873fe(0x1c4),'price':0x1/_0x129cd9[_0x4873fe(0x1bf)]},_0x129cd9={..._0x42b8c6});_0x129cd9['side']==_0x4873fe(0x1ee)?_0x28d589=(_0x21a054['breakeven']*_0x21a054[_0x4873fe(0x203)]+_0x129cd9[_0x4873fe(0x1bf)]*_0x129cd9[_0x4873fe(0x1fb)])/(_0x21a054[_0x4873fe(0x203)]+_0x129cd9['filled']):_0x28d589=(_0x21a054[_0x4873fe(0x171)]*_0x21a054['number']-_0x129cd9[_0x4873fe(0x1bf)]*_0x129cd9[_0x4873fe(0x1fb)])/(_0x21a054['number']-_0x129cd9['filled']);_0x129cd9[_0x4873fe(0x11e)]=='buy'?_0x44bb06=_0x21a054[_0x4873fe(0x1f0)]:_0x44bb06=_0x21a054[_0x4873fe(0x1f0)]+(_0x129cd9[_0x4873fe(0x1bf)]-_0x21a054[_0x4873fe(0x171)])*_0x129cd9[_0x4873fe(0x1fb)];_0x22bc2c=_0x129cd9[_0x4873fe(0x11e)]==_0x4873fe(0x1c4)?_0x21a054[_0x4873fe(0x203)]-_0x129cd9['filled']:_0x21a054[_0x4873fe(0x203)]+_0x129cd9[_0x4873fe(0x1fb)],_0x2368d0=(_0x129cd9[_0x4873fe(0x1bf)]-_0x28d589)*_0x22bc2c;let _0xd0c567={'coin':_0x129cd9['coin'],'number':_0x22bc2c,'breakeven':formatResult(_0x28d589,0x8),'realized':formatResult(_0x44bb06,0x8),'unrealized':formatResult(_0x2368d0,0x8),'fees':formatResult(_0x21a054[_0x4873fe(0xfb)]+_0x5b6377,0x8),'sells':_0x129cd9[_0x4873fe(0x11e)]==_0x4873fe(0x1c4)?_0x21a054['sells']+0x1:_0x21a054[_0x4873fe(0x1e3)],'buys':_0x129cd9[_0x4873fe(0x11e)]==_0x4873fe(0x1ee)?_0x21a054['buys']+0x1:_0x21a054[_0x4873fe(0x167)]};dbCoinResults[_0x4873fe(0x11a)](_0x4873fe(0x1b1))[_0x4873fe(0xfd)]({'coin':_0x129cd9['coin']})['assign'](_0xd0c567)[_0x4873fe(0x107)]();}async function placeOrder(_0x34cc16){const _0x6c0ea2=_0x3736a1,_0x5896c7=config['ordertype']==_0x6c0ea2(0x193)?_0x6c0ea2(0x193):'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x6c0ea2(0x1af)](currentCoins));for(const _0x548e03 of _0x34cc16){let _0x5d9adb,_0x9f66cf,_0x1a0338,_0x1b6e7a,_0x3b5586,_0x1fabb5=_0x548e03['symbol'];try{const _0x5b9d89=await exchange[_0x6c0ea2(0x221)](_0x1fabb5),_0x179e5d=_0x5b9d89[_0x1fabb5];_0x5d9adb=_0x548e03['reverse']?0x1/_0x548e03[_0x6c0ea2(0x127)]:_0x548e03[_0x6c0ea2(0x127)],_0x9f66cf=_0x179e5d[_0x6c0ea2(0x223)],_0x1a0338=_0x179e5d[_0x6c0ea2(0x18b)];_0x548e03[_0x6c0ea2(0x13d)]?(_0x1b6e7a=_0x548e03[_0x6c0ea2(0x11e)]=='buy'?_0x6c0ea2(0x1c4):'buy',_0x3b5586=Math[_0x6c0ea2(0x134)](_0x548e03['trade'])/_0x5d9adb):(_0x1b6e7a=_0x548e03['side'],_0x3b5586=Math['abs'](_0x548e03[_0x6c0ea2(0x137)]));_0x5896c7==_0x6c0ea2(0x20c)&&(config[_0x6c0ea2(0x1b4)]=='limit-high'&&(_0x5d9adb=_0x1b6e7a==_0x6c0ea2(0x1ee)?_0x9f66cf:_0x1a0338),config[_0x6c0ea2(0x1b4)]==_0x6c0ea2(0x187)&&(_0x5d9adb=_0x1b6e7a==_0x6c0ea2(0x1ee)?_0x1a0338:_0x9f66cf));_0x3b5586=formatResult(_0x3b5586,0x8),_0x5d9adb=formatResult(_0x5d9adb,0x8);const _0x3b7a1b=await exchange[_0x6c0ea2(0x1ae)](_0x1fabb5,_0x5896c7,_0x1b6e7a,_0x3b5586,_0x5d9adb);lastOrders['push']({'orderId':_0x3b7a1b['id'],'symbol':_0x1fabb5,'side':_0x1b6e7a,'reverse':_0x548e03['reverse'],'amount':_0x548e03[_0x6c0ea2(0x13d)]?_0x3b7a1b[_0x6c0ea2(0x10d)]*_0x3b7a1b[_0x6c0ea2(0x1bf)]:_0x3b7a1b[_0x6c0ea2(0x10d)],'filled':_0x548e03[_0x6c0ea2(0x13d)]?_0x3b7a1b[_0x6c0ea2(0x1fb)]*_0x3b7a1b[_0x6c0ea2(0x1bf)]:_0x3b7a1b[_0x6c0ea2(0x1fb)],'price':_0x3b7a1b[_0x6c0ea2(0x1bf)]});const _0x403978=_0x1b6e7a=='sell'?config[_0x6c0ea2(0x1ec)]?String['fromCodePoint']('0x'+config[_0x6c0ea2(0x1ec)])+'\x20':'':config[_0x6c0ea2(0x15e)]?String[_0x6c0ea2(0x128)]('0x'+config['emojibuy'])+'\x20':'',_0xa815ba=_0x5896c7=='market'?'Market':config[_0x6c0ea2(0x1b4)]=='limit-high'?_0x6c0ea2(0x196):_0x6c0ea2(0x115);if(_0x5896c7==_0x6c0ea2(0x193))logHistory('order',''+_0x403978+_0xa815ba+_0x6c0ea2(0x1d9)+_0x1fabb5+'\x20'+_0x1b6e7a+'\x20#'+formatResult(_0x3b7a1b[_0x6c0ea2(0x1fb)],0x8)+'\x20@'+formatResult(_0x3b7a1b['price'],0x8));else logHistory(_0x6c0ea2(0x1e2),''+_0x403978+_0xa815ba+_0x6c0ea2(0x1d9)+_0x1fabb5+'\x20'+_0x1b6e7a+'\x20#'+formatResult(_0x3b7a1b[_0x6c0ea2(0x10d)],0x8)+'\x20@'+formatResult(_0x3b7a1b[_0x6c0ea2(0x1bf)],0x8));_0x3b7a1b[_0x6c0ea2(0x15d)]=_0x548e03['coin'],await updateCoinResults(_0x3b7a1b);if(config[_0x6c0ea2(0x1a3)]!=0x0){let _0x2add78=null;if(cooldownTracker[_0x6c0ea2(0x112)]==config[_0x6c0ea2(0x1a3)]-0x1)_0x2add78=cooldownTracker[_0x6c0ea2(0x166)]();const _0x36520d=getTimeStamp();cooldownTracker[_0x6c0ea2(0x210)](_0x36520d);if(_0x2add78){const _0x51f90e=fns[_0x6c0ea2(0x1bd)](new Date(_0x36520d),new Date(_0x2add78));_0x51f90e<cooldownInterval&&(logHistory(_0x6c0ea2(0x189),_0x6c0ea2(0x174)+config[_0x6c0ea2(0x1a3)]+_0x6c0ea2(0x14f)+cooldownInterval/0x3c+_0x6c0ea2(0x1e5)+cooldownPeriod/(0xe10*0x3e8)+_0x6c0ea2(0x130)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x8d9db0){if(_0x8d9db0['toString']()[_0x6c0ea2(0x18a)](_0x6c0ea2(0x1cf)))logHistory('error',_0x6c0ea2(0x1c8)+_0x1fabb5);else{if(_0x8d9db0['toString']()[_0x6c0ea2(0x18a)](_0x6c0ea2(0x154)))logHistory(_0x6c0ea2(0x189),_0x6c0ea2(0x184)+_0x1fabb5);else await handleError(_0x8d9db0,_0x6c0ea2(0x10e));}}}if(lastOrders[_0x6c0ea2(0x112)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x6c0ea2(0x20d)]&&(config[_0x6c0ea2(0x1b4)]==_0x6c0ea2(0x193)?logHistory('error',_0x6c0ea2(0x1c5)):logHistory('error',_0x6c0ea2(0x1b9)));else coolingDown&&(!config[_0x6c0ea2(0x20d)]&&logHistory(_0x6c0ea2(0x189),_0x6c0ea2(0x1d5)));}}function logHistory(_0x266b3a,_0x2aba4d,_0x5ce510=''){const _0x2d0cf1=_0x3736a1;let _0x46781e={'time':getTimeStamp(),'type':_0x266b3a,'event':_0x2aba4d};dbLogs[_0x2d0cf1(0x11a)](_0x2d0cf1(0xf9))['push'](_0x46781e)[_0x2d0cf1(0x107)]();if(_0x5ce510=='')_0x5ce510=_0x2aba4d;proxyEmit(_0x2d0cf1(0x132),{'log':_0x46781e,'summary':_0x5ce510}),process[_0x2d0cf1(0x199)]({'telegram':{..._0x46781e,'botname':config[_0x2d0cf1(0x195)],'showname':config[_0x2d0cf1(0x19b)]}},_0xdf4fa6=>{}),logging(''+_0x46781e[_0x2d0cf1(0x132)]);}function emitHistory(_0x190e96={}){const _0x2d7a33=_0x3736a1;Object[_0x2d7a33(0x111)](_0x190e96)[_0x2d7a33(0x112)]==0x0&&(_0x190e96={'type':['order',_0x2d7a33(0x132)],'event':'','page':0x1});if(_0x190e96['type'][_0x2d7a33(0x18a)](_0x2d7a33(0x132)))_0x190e96[_0x2d7a33(0x1c1)]['splice'](_0x190e96[_0x2d7a33(0x1c1)][_0x2d7a33(0x17a)](_0x2d7a33(0x132)),0x1,_0x2d7a33(0x189),'success');if(dbLogs[_0x2d7a33(0x224)](_0x2d7a33(0xf9))['value']()){let _0x384d12=dbLogs[_0x2d7a33(0x11a)]('logs')[_0x2d7a33(0x1e7)](_0x113c86=>{const _0x130da6=_0x2d7a33;if(_0x190e96['type'][_0x130da6(0x112)]==0x0)return![];else return _0x190e96[_0x130da6(0x1c1)][_0x130da6(0x18a)](_0x113c86[_0x130da6(0x1c1)]);})[_0x2d7a33(0x1e7)](_0x4d6df8=>{const _0x237cae=_0x2d7a33;if(_0x190e96['event']=='')return!![];else return _0x4d6df8[_0x237cae(0x132)][_0x237cae(0x192)]()[_0x237cae(0x18a)](_0x190e96[_0x237cae(0x132)]['toLowerCase']());})[_0x2d7a33(0x1a7)]('time'),_0x56db8f=_0x384d12['value']()[_0x2d7a33(0x112)];_0x384d12=_0x384d12[_0x2d7a33(0x13d)]()[_0x2d7a33(0x213)]((_0x190e96[_0x2d7a33(0x208)]-0x1)*logPageSize,_0x190e96[_0x2d7a33(0x208)]*logPageSize-0x1)[_0x2d7a33(0x13d)]()['value'](),proxyEmit(_0x2d7a33(0x142),{'logs':_0x384d12,'total':_0x56db8f});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1d5e3d){const _0x4dfb2c=_0x3736a1;if(dbLogs[_0x4dfb2c(0x224)](_0x4dfb2c(0xf9))[_0x4dfb2c(0x1dc)]()){const _0x27ebf1=dbLogs[_0x4dfb2c(0x11a)]('logs')[_0x4dfb2c(0x1a7)](_0x4dfb2c(0xf6))[_0x4dfb2c(0x1e7)](_0x3b77f7=>{const _0x14ac4a=_0x4dfb2c;return _0x3b77f7[_0x14ac4a(0x1c1)]==_0x14ac4a(0x1e2);})['value']();dbLogs[_0x4dfb2c(0x11a)](_0x4dfb2c(0xf9))[_0x4dfb2c(0x108)]()['write'](),dbLogs['get'](_0x4dfb2c(0xf9))[_0x4dfb2c(0x101)](_0x27ebf1)[_0x4dfb2c(0x107)](),emitHistory(_0x1d5e3d);}}async function pauseBot(_0x16ce08=''){const _0x1171c3=_0x3736a1,_0x349f5c=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x1171c3(0x14b)](),consecutivePauses=0x1;else{if(_0x349f5c-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x1171c3(0x199)]({'stop':'restart'},_0x36b422=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x16ce08)_0x16ce08+='\x20|\x20';logHistory(_0x1171c3(0x189),_0x16ce08+'Pausing\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x28cb50=_0x3736a1;process['send']({'stop':_0x28cb50(0x1fc)},_0x4bc472=>{}),await sleep(0x7d0);}async function handleError(_0x40d759,_0x195210,_0x3ad9db=''){const _0x2d5b64=_0x3736a1;if(_0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)]('DDoSProtection'))await pauseBot(_0x2d5b64(0x155));else{if(_0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)](_0x2d5b64(0x1d0)))await pauseBot(_0x2d5b64(0xfe));else{if(_0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)](_0x2d5b64(0x225)))await pauseBot(_0x2d5b64(0x1f5));else{if(_0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)](_0x2d5b64(0x13b)))logHistory(_0x2d5b64(0x189),_0x195210+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x2d5b64(0x189),_0x2d5b64(0x1ef)),await killBot();else{if(_0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)](_0x2d5b64(0x11d)))logHistory('error',_0x195210+_0x2d5b64(0x16f)),logHistory(_0x2d5b64(0x189),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)](_0x2d5b64(0x1aa)))logHistory(_0x2d5b64(0x189),_0x195210+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory(_0x2d5b64(0x189),_0x2d5b64(0x1ef)),await killBot();else{if(_0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)](_0x2d5b64(0x1ac)))logHistory(_0x2d5b64(0x189),_0x195210+_0x2d5b64(0x163)),logHistory(_0x2d5b64(0x189),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x40d759[_0x2d5b64(0x20a)]()['includes']('InvalidNonce'))await pauseBot(_0x2d5b64(0x105)),process[_0x2d5b64(0x199)]({'stop':_0x2d5b64(0x207)},_0x1b5909=>{});else _0x40d759[_0x2d5b64(0x20a)]()[_0x2d5b64(0x18a)](_0x2d5b64(0x200))?logHistory(_0x2d5b64(0x189),_0x195210+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logging(_0x195210+_0x2d5b64(0x180),_0x40d759),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x321a94,_0x35a7ce){const _0x13496e=_0x3736a1;return parseFloat(_0x321a94[_0x13496e(0x215)](_0x35a7ce));}function logging(_0x32fc3c,_0x2aa598=''){const _0x30c51c=_0x3736a1;if(config[_0x30c51c(0x19b)])console[_0x30c51c(0x12f)](getTimeStamp()+':\x20'+config[_0x30c51c(0x195)]+_0x30c51c(0x147)+_0x32fc3c,_0x2aa598);else console[_0x30c51c(0x12f)](getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x32fc3c,_0x2aa598);}function getServerTime(){const _0xffc25c=_0x3736a1,_0x41f0e2=new Date();return _0x41f0e2[_0xffc25c(0x18f)]()+'/'+(_0x41f0e2[_0xffc25c(0x201)]()+0x1)[_0xffc25c(0x20a)]()[_0xffc25c(0x21d)](0x2,'0')+'/'+_0x41f0e2[_0xffc25c(0x172)]()[_0xffc25c(0x20a)]()[_0xffc25c(0x21d)](0x2,'0')+'\x20'+_0x41f0e2[_0xffc25c(0x14d)]()[_0xffc25c(0x20a)]()[_0xffc25c(0x21d)](0x2,'0')+':'+_0x41f0e2[_0xffc25c(0x1c2)]()[_0xffc25c(0x20a)]()[_0xffc25c(0x21d)](0x2,'0')+':'+_0x41f0e2[_0xffc25c(0x1a0)]()[_0xffc25c(0x20a)]()[_0xffc25c(0x21d)](0x2,'0');}function getTimeStamp(){const _0x42a554=_0x3736a1,_0x873dda=shiftedTime();return _0x873dda[_0x42a554(0x18f)]()+'/'+(_0x873dda['getMonth']()+0x1)[_0x42a554(0x20a)]()[_0x42a554(0x21d)](0x2,'0')+'/'+_0x873dda['getDate']()[_0x42a554(0x20a)]()['padStart'](0x2,'0')+'\x20'+_0x873dda[_0x42a554(0x14d)]()[_0x42a554(0x20a)]()['padStart'](0x2,'0')+':'+_0x873dda['getMinutes']()[_0x42a554(0x20a)]()['padStart'](0x2,'0')+':'+_0x873dda[_0x42a554(0x1a0)]()[_0x42a554(0x20a)]()[_0x42a554(0x21d)](0x2,'0');}function getDate(){const _0x3e3d68=_0x3736a1,_0x3dab92=shiftedTime();return _0x3dab92[_0x3e3d68(0x18f)]()+'/'+(_0x3dab92[_0x3e3d68(0x201)]()+0x1)['toString']()[_0x3e3d68(0x21d)](0x2,'0')+'/'+_0x3dab92['getDate']()[_0x3e3d68(0x20a)]()['padStart'](0x2,'0');}function getHour(){const _0x404cbc=_0x3736a1,_0x58d13b=shiftedTime();return _0x58d13b[_0x404cbc(0x14d)]()[_0x404cbc(0x20a)]()[_0x404cbc(0x21d)](0x2,'0');}function sleep(_0x21c777){return new Promise(_0x2ddcfe=>setTimeout(_0x2ddcfe,_0x21c777));}function shiftedTime(){const _0x5d296a=_0x3736a1,_0x468ce8=new Date();let _0x4f7d07=_0x468ce8;if(config&&config[_0x5d296a(0x1a2)]!==0x0)_0x4f7d07=fns['add'](_0x468ce8,{'hours':config[_0x5d296a(0x1a2)]});return _0x4f7d07;}