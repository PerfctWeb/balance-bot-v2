const _0x1c7efc=_0x4886;(function(_0x2fe4fc,_0x5ed751){const _0x33ed0c=_0x4886,_0x377f12=_0x2fe4fc();while(!![]){try{const _0x682d72=parseInt(_0x33ed0c(0x178))/0x1*(parseInt(_0x33ed0c(0xab))/0x2)+parseInt(_0x33ed0c(0x111))/0x3+parseInt(_0x33ed0c(0x19b))/0x4+parseInt(_0x33ed0c(0x129))/0x5*(parseInt(_0x33ed0c(0x19c))/0x6)+parseInt(_0x33ed0c(0x17a))/0x7*(parseInt(_0x33ed0c(0x110))/0x8)+-parseInt(_0x33ed0c(0x72))/0x9*(parseInt(_0x33ed0c(0x114))/0xa)+-parseInt(_0x33ed0c(0x12c))/0xb;if(_0x682d72===_0x5ed751)break;else _0x377f12['push'](_0x377f12['shift']());}catch(_0x52fcb8){_0x377f12['push'](_0x377f12['shift']());}}}(_0x2214,0x6ce2d));const _0x4dd596=function(){let _0x2234fb=!![];return function(_0x111522,_0x339529){const _0x465e4b=_0x2234fb?function(){const _0x3226a3=_0x4886;if(_0x339529){const _0x3eebc2=_0x339529[_0x3226a3(0x174)](_0x111522,arguments);return _0x339529=null,_0x3eebc2;}}:function(){};return _0x2234fb=![],_0x465e4b;};}(),_0x1e6cfa=_0x4dd596(this,function(){const _0x99e8ec=_0x4886;return _0x1e6cfa[_0x99e8ec(0x14d)]()[_0x99e8ec(0x1ad)](_0x99e8ec(0x9e))['toString']()['constructor'](_0x1e6cfa)['search'](_0x99e8ec(0x9e));});_0x1e6cfa();'use strict';const ccxt=require(_0x1c7efc(0x13f))[_0x1c7efc(0xac)],low=require('lowdb'),FileSync=require(_0x1c7efc(0xa3)),fs=require('fs'),fns=require(_0x1c7efc(0x126)),Crypt=require(_0x1c7efc(0x1a5))[_0x1c7efc(0x123)],util=require('util'),argv=require(_0x1c7efc(0x1b1))(process['argv'][_0x1c7efc(0x87)](0x2))['argv'];let exchange;global['ticker']={},global[_0x1c7efc(0xdc)]={};const exceptions={'binance':[_0x1c7efc(0x180),_0x1c7efc(0xef),'XEM/BUSD',_0x1c7efc(0x18e),'YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x1c7efc(0x134)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x1c7efc(0x11f)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require(_0x1c7efc(0x1ab))[_0x1c7efc(0x15e)],botID=process[_0x1c7efc(0x170)][0x2]||_0x1c7efc(0x1b9),pattern=/^[0-9]{3}$/;!pattern[_0x1c7efc(0xdb)](botID)&&(console[_0x1c7efc(0x17e)](_0x1c7efc(0x13c)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x1c7efc(0x170)][0x3]||'',configpath=userID?_0x1c7efc(0x18a)+userID+'/':_0x1c7efc(0x18a),logspath=userID?'./logs/'+userID+'/':_0x1c7efc(0xbb),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs[_0x1c7efc(0x1dc)](configpath)&&fs[_0x1c7efc(0x1bd)](configpath);!fs['existsSync'](logspath)&&fs[_0x1c7efc(0x1bd)](logspath);const configfile=configpath+_0x1c7efc(0x7b)+botID+_0x1c7efc(0x16c),logfile=configpath+_0x1c7efc(0x7b)+botID+_0x1c7efc(0x92),performancefile=configpath+'bot-'+botID+_0x1c7efc(0x161),coinresultsfile=configpath+'bot-'+botID+_0x1c7efc(0xd2),settingsfile=configpath+_0x1c7efc(0x150),securefile=configpath+_0x1c7efc(0x1bc),configbackuppath=configpath+_0x1c7efc(0xff),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1c7efc(0x15d)]({'data':[],'version':serverversion})[_0x1c7efc(0x1c5)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1c7efc(0x15d)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x1c7efc(0x192)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1b3938=>{const _0x79b2d5=_0x1c7efc;console[_0x79b2d5(0x17e)](_0x1b3938);},'simple':_0x4e44e5=>{const _0x1159c1=_0x1c7efc;console[_0x1159c1(0x17e)](_0x4e44e5),loggerfile['write'](util['format'](_0x4e44e5)+'\x0a');},'full':async(_0x4d40d6,_0x49496c='')=>{const _0x3fcd95=_0x1c7efc;let _0x130a3d;if(config[_0x3fcd95(0x12e)])_0x130a3d=getTimeStamp()+':\x20'+config[_0x3fcd95(0x14b)]+_0x3fcd95(0x116)+_0x4d40d6;else _0x130a3d=getTimeStamp()+_0x3fcd95(0x13d)+botID+_0x3fcd95(0x116)+_0x4d40d6;console['log'](_0x130a3d),loggerfile[_0x3fcd95(0x1c5)](util['format'](_0x130a3d)+'\x0a'),_0x49496c&&(console[_0x3fcd95(0x17e)](_0x49496c),loggerfile['write'](util['format'](_0x49496c)+'\x0a'));},'debug':async(_0x3e4255,_0x400b07='')=>{const _0x494ea2=_0x1c7efc;let _0x19bc1f;if(config[_0x494ea2(0x12e)])_0x19bc1f=getTimeStamp()+':\x20'+config[_0x494ea2(0x14b)]+_0x494ea2(0x119)+_0x3e4255;else _0x19bc1f=getTimeStamp()+_0x494ea2(0x13d)+botID+_0x494ea2(0x119)+_0x3e4255;if(debugging)console[_0x494ea2(0x17e)](_0x19bc1f);loggerfile[_0x494ea2(0x1c5)](util[_0x494ea2(0x7f)](_0x19bc1f)+'\x0a');if(_0x400b07){if(debugging)console[_0x494ea2(0x17e)](_0x400b07);loggerfile[_0x494ea2(0x1c5)](util['format'](_0x400b07)+'\x0a');}}};process['on']('uncaughtException',function(_0xe5664e){const _0x2688c1=_0x1c7efc;logger[_0x2688c1(0xb5)](_0xe5664e);});settings[_0x1c7efc(0x182)]!=config[_0x1c7efc(0x182)]&&updateTimeshift(settings[_0x1c7efc(0x182)]);process[_0x1c7efc(0x95)]({'started':_0x1c7efc(0x1b7)},_0xfb8415=>{}),initializeProcessListeners();function proxyEmit(_0x37209d,_0x47f526=null){const _0x3d0a92=_0x1c7efc;process[_0x3d0a92(0x95)]({'function':_0x37209d,'args':_0x47f526},_0x84b2c6=>{});}function initializeProcessListeners(){const _0x30bb7b=_0x1c7efc;process['on'](_0x30bb7b(0x12d),_0x13628a=>{const _0xfb4df7=_0x30bb7b;switch(Object['keys'](_0x13628a)[0x0]){case _0xfb4df7(0x182):_0x13628a[_0xfb4df7(0x182)]!=undefined&&(settings[_0xfb4df7(0x182)]=_0x13628a[_0xfb4df7(0x182)],updateTimeshift(settings[_0xfb4df7(0x182)]));break;case _0xfb4df7(0x1b0):switch(_0x13628a[_0xfb4df7(0x1b0)]){case _0xfb4df7(0x1d2):initclient();break;case _0xfb4df7(0x9d):toggleBotMode();break;case _0xfb4df7(0x1d9):emitHistory(_0x13628a[_0xfb4df7(0x11e)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x13628a[_0xfb4df7(0x11e)]);break;case _0xfb4df7(0x94):getPortfolio(_0x13628a['args']);break;case _0xfb4df7(0x142):storeConfiguration(_0x13628a[_0xfb4df7(0x11e)]);break;case'storeHeadless':storeHeadless(_0x13628a[_0xfb4df7(0x11e)]);break;case _0xfb4df7(0x18b):getStartingBalances(getNormalizedPerformance());break;case _0xfb4df7(0xf1):placeOrder(_0x13628a[_0xfb4df7(0x11e)]);break;case _0xfb4df7(0xf4):cancelLoading();break;case _0xfb4df7(0x1bf):showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset();async function reset(_0x43902e=null,_0x11c85d=![]){const _0x5585ee=_0x1c7efc;logger[_0x5585ee(0x104)](_0x5585ee(0x17d)+(_0x43902e!=null)+'\x20|\x20'+_0x11c85d);if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x11c85d)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config[_0x5585ee(0xeb)]!=''&&config['apiKey']!=_0x5585ee(0x1c2)){await initExchange();let _0x47b851=![];_0x47b851=await loadSymbols();if(_0x47b851){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x43902e),exchangeStopped=![];if(lastOrders['length']==0x0&&allOpenOrders[_0x5585ee(0x6b)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){const _0x1fae54=_0x1c7efc;exchangeStopped=!![],await exchange[_0x1fae54(0x125)]();}async function reloadExchange(){const _0x33b746=_0x1c7efc;logger[_0x33b746(0x104)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x33b746(0xf5)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x2166d2=config[_0x1c7efc(0x80)],_0x58ed5d=config['apiKey'],_0x492e17=config[_0x1c7efc(0x1b2)]){const _0x3eab54=_0x1c7efc;exchange&&await stopExchange();!supportedExchanges()[_0x3eab54(0xc7)](_0x2166d2)&&(logger['full'](_0x3eab54(0x68)+_0x2166d2+_0x3eab54(0x167)),killBot());const _0x473ad9=ccxt[_0x2166d2[_0x3eab54(0xf7)]()];exchange=new _0x473ad9({'apiKey':_0x58ed5d,'secret':_0x492e17,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x39d808=_0x1c7efc;let _0x316326=config[_0x39d808(0xf2)]==_0x39d808(0x1ae)?_0x39d808(0x1ae):_0x39d808(0x90),_0x91cc6=!allSymbols[_0x39d808(0xc7)](_0x316326+'/USD')?_0x39d808(0x8e):_0x39d808(0x11c),_0x4be4c9=!allSymbols[_0x39d808(0xc7)](_0x316326+_0x39d808(0x1a4))?_0x91cc6:_0x39d808(0x109);stablecoins={'eur':{'coin':''+_0x316326+_0x4be4c9,'symbol':_0x316326+'/'+_0x4be4c9},'usd':{'coin':''+_0x316326+_0x91cc6,'symbol':_0x316326+'/'+_0x91cc6}};}async function initwsCcxt(_0x5546e9){const _0x50db73=_0x1c7efc;_0x5546e9==null&&(_0x5546e9=[],currentCoins[_0x50db73(0x13a)](_0x7674c3=>{const _0x5947c0=_0x50db73;if(_0x7674c3['coin']!=config[_0x5947c0(0xf2)])_0x5546e9['push'](_0x7674c3[_0x5947c0(0x1b3)]);}));if(!_0x5546e9[_0x50db73(0xc7)](stablecoins[_0x50db73(0x7c)][_0x50db73(0x1b3)]))_0x5546e9[_0x50db73(0x1a6)](stablecoins['eur'][_0x50db73(0x1b3)]);if(!_0x5546e9[_0x50db73(0xc7)](stablecoins[_0x50db73(0xcd)][_0x50db73(0x1b3)]))_0x5546e9['push'](stablecoins[_0x50db73(0xcd)][_0x50db73(0x1b3)]);if(!_0x5546e9[_0x50db73(0xc7)](_0x50db73(0x12b)+config[_0x50db73(0xf2)]))_0x5546e9['push']('BNB/'+config[_0x50db73(0xf2)]);loadCoins(_0x5546e9);const _0x2572f7=async _0x13ff5a=>{const _0x2418b7=_0x50db73,_0x6a2a84=await exchange[_0x2418b7(0x6a)](_0x13ff5a);global[_0x2418b7(0x19a)][noslash(_0x6a2a84[_0x2418b7(0x1b3)])]=_0x6a2a84[_0x2418b7(0x99)];while(!![]){if(!botPaused)try{const _0xc21d88=await exchange['watchTrades'](_0x13ff5a);global[_0x2418b7(0x19a)][noslash(_0xc21d88[0x0][_0x2418b7(0x1b3)])]=_0xc21d88[0x0][_0x2418b7(0x122)],await sleep(0x3e8);}catch(_0x601e9b){if(!exchangeStopped)await handleError(_0x601e9b,_0x2418b7(0x133),_0x13ff5a);}else await sleep(0x3e8);}},_0x1137ef=async _0x18f3a5=>{const _0x1504dd=_0x50db73;while(!![]){if(!botPaused)try{const _0x248f17=await exchange['fetchTicker'](_0x18f3a5);global['change'][_0x248f17['symbol']]=_0x248f17[_0x1504dd(0xbc)],await sleep(0x2710);}catch(_0x351686){if(!exchangeStopped)await handleError(_0x351686,'fetchTickers',_0x18f3a5);}else await sleep(0x3e8);}},_0x5aa34d=async()=>{const _0x56cf30=_0x50db73;while(!![]){if(!botPaused)try{const _0x277f04=await exchange[_0x56cf30(0x10d)]();_0x277f04[_0x56cf30(0x13a)](_0x411f5a=>{updateNumberCoinsCcxt(_0x411f5a);});}catch(_0x1dfb9e){if(!exchangeStopped)await handleError(_0x1dfb9e,_0x56cf30(0x10d));}else await sleep(0x3e8);}};_0x5546e9[_0x50db73(0x13a)](async _0xc60d3b=>{_0x2572f7(_0xc60d3b),_0x1137ef(_0xc60d3b);}),!wsEventsSet&&(wsEventsSet=!![],_0x5aa34d());}async function loadSymbols(_0x1e931e=config['exchange']){const _0x453f0c=_0x1c7efc;if(allSymbols)return!![];let _0x1a1aff=![];try{markets=await exchange[_0x453f0c(0x1da)](),allSymbols=exchange[_0x453f0c(0x139)][_0x453f0c(0x145)](_0x43f22f=>{let _0x4048ed=![];const _0x42cbdf=exceptions[_0x1e931e['toLowerCase']()]||[];return _0x42cbdf['forEach'](_0x36769b=>{const _0x4b1221=_0x4886;if(_0x43f22f[_0x4b1221(0xc7)](_0x36769b))_0x4048ed=!![];}),!_0x4048ed;}),_0x1a1aff=!![];}catch(_0x5e1bdb){_0x1a1aff=![],handleError(_0x5e1bdb,_0x453f0c(0x14a));}return _0x1a1aff;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x3d3250=_0x1c7efc;proxyEmit(_0x3d3250(0xc8),emittedConfiguration()),proxyEmit(_0x3d3250(0x144),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5afeaa=getNormalizedPerformance();emitPerformance(_0x5afeaa),await getStartingBalances(_0x5afeaa);}async function toggleBotMode(){const _0x382974=_0x1c7efc;let _0x6ff73c=dbConfig[_0x382974(0x169)](_0x382974(0x195))[_0x382974(0x1ca)]({'botID':botID})[_0x382974(0xfa)]();if(_0x6ff73c){const _0x53ff38=!_0x6ff73c['headless'];dbConfig[_0x382974(0x169)]('bot')[_0x382974(0x1ca)]({'botID':botID})[_0x382974(0xc0)]({'headless':_0x53ff38})[_0x382974(0x1c5)](),config['headless']=_0x53ff38,proxyEmit(_0x382974(0xc8),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x213e08=_0x1c7efc;process[_0x213e08(0x95)]({'updatebotmanager':!![]},_0x4bd34e=>{});}async function loadCoins(_0x5eeb63){const _0x3de2f7=_0x1c7efc;let _0x3cd2d0,_0x315b8e=0x0;loading[_0x3de2f7(0x165)]=[];let _0x5e0d46=0x0;_0x5eeb63['forEach'](_0x23d453=>{const _0x4b7944=_0x3de2f7;loading[_0x4b7944(0x165)][_0x4b7944(0x1a6)](_0x23d453);}),loadingCanceled=![];let _0xe0633c=![];while(_0x3cd2d0!=_0x5eeb63[_0x3de2f7(0x6b)]){_0x3cd2d0=0x0,_0x5eeb63['forEach'](_0x3c1f4e=>{const _0x5681d2=_0x3de2f7;global[_0x5681d2(0x19a)][noslash(_0x3c1f4e)]&&(loading[_0x5681d2(0x165)]=loading[_0x5681d2(0x165)][_0x5681d2(0x145)](_0x18ec66=>_0x18ec66!=_0x3c1f4e),_0x3cd2d0++);}),loading[_0x3de2f7(0xec)]=Math[_0x3de2f7(0x96)](_0x3cd2d0/_0x5eeb63[_0x3de2f7(0x6b)]*0x64);loading['progress']!=0x64&&(_0x5e0d46>0x1e*0x5&&(loading[_0x3de2f7(0xfd)]=!![],emitLoadingProgress()),_0x5e0d46>0x78*0x5&&!_0xe0633c&&(loading[_0x3de2f7(0x1b8)]=!![],emitLoadingProgress(),_0xe0633c=!![],logHistory('error',_0x3de2f7(0xa1)+loading['remainingSymbols'][_0x3de2f7(0x124)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x3de2f7(0x197),_0x3de2f7(0x1a0)+loadCoinsRetryInterval/0xea60+_0x3de2f7(0x1a3)),pidCoinReloading=setTimeout(()=>{const _0x4f408a=_0x3de2f7;process[_0x4f408a(0x95)]({'stop':_0x4f408a(0x14f)},_0x5225f4=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x3de2f7(0x1b8)]=!![],emitLoadingProgress();break;}else _0x3cd2d0!=_0x315b8e&&(_0x315b8e=_0x3cd2d0,emitLoadingProgress()),_0x5e0d46++,await sleep(0xc8);}_0x3cd2d0==_0x5eeb63[_0x3de2f7(0x6b)]&&(coinsLoaded=!![],_0xe0633c&&logHistory('success',_0x3de2f7(0xf6)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){proxyEmit('configuration',{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x20c755=_0x1c7efc;proxyEmit(_0x20c755(0x181),loading);}async function getFiat(){const _0x47edfe=_0x1c7efc;let _0x4a222d=global[_0x47edfe(0x19a)][stablecoins[_0x47edfe(0x7c)]['coin']],_0x5b0263=global[_0x47edfe(0x19a)][stablecoins['usd']['coin']];return{'eur':Number(_0x4a222d),'usd':Number(_0x5b0263)};}function capitalize(_0x50fd60){const _0xc5931b=_0x1c7efc;return _0x50fd60[_0xc5931b(0x132)](0x0,0x1)['toUpperCase']()+_0x50fd60[_0xc5931b(0x132)](0x1);}function supportedExchanges(){const _0x3995c1=_0x1c7efc,_0x5d6602=[_0x3995c1(0x93),_0x3995c1(0x154),_0x3995c1(0xc9),_0x3995c1(0xf8),'Binanceusdm',_0x3995c1(0x1c3),_0x3995c1(0x1aa),_0x3995c1(0x10e),_0x3995c1(0xb0),'Bittrex',_0x3995c1(0x102),_0x3995c1(0x7d),_0x3995c1(0x84),'Coinbasepro',_0x3995c1(0x1d0),_0x3995c1(0xe0),_0x3995c1(0xed),_0x3995c1(0x198),_0x3995c1(0x1c0),_0x3995c1(0x18c),_0x3995c1(0x8a),_0x3995c1(0xba),'Idex','Kraken','Kucoin',_0x3995c1(0xae),_0x3995c1(0x16f),_0x3995c1(0xd1),_0x3995c1(0x100),_0x3995c1(0xa6)];return _0x5d6602;}function setStartDatePerformance(){const _0x423049=_0x1c7efc;if(config&&config['liquidity'][0x0][_0x423049(0x9b)][_0x423049(0x6b)]!=0x0){const _0x2323a5=config[_0x423049(0x148)][0x0]['changes'];dbPerformance[_0x423049(0x169)](_0x423049(0x11a))[_0x423049(0x1ca)]({'date':config[_0x423049(0x128)]})[_0x423049(0xc0)]({'coins':_0x2323a5})[_0x423049(0x1c5)]();}}async function recreateCoinResults(){const _0x5cdf96=_0x1c7efc;let _0x1d809f,_0x18e3bb=[];try{const _0x4634ff=fns[_0x5cdf96(0x7f)](fns['parseISO'](config[_0x5cdf96(0x128)][_0x5cdf96(0x15c)](/\//g,'-')),_0x5cdf96(0xe8));for(const _0x4165f6 of currentCoins){if(_0x4165f6[_0x5cdf96(0x12f)]!=config[_0x5cdf96(0xf2)]){let _0x3f8b8d=0x0,_0xd40653,_0xa99fb5;_0x1d809f=await getAllEventOrders(_0x4165f6[_0x5cdf96(0x1b3)]);if(_0x1d809f[_0x5cdf96(0x6b)]>0x0)_0x1d809f[_0x5cdf96(0x13a)](_0x6cb194=>{const _0x542f90=_0x5cdf96,_0x48d65e=_0x4165f6[_0x542f90(0x1b3)]['includes'](config[_0x542f90(0xf2)]+'/');_0x18e3bb['push']({'datetime':_0x6cb194['datetime'],'coin':_0x4165f6[_0x542f90(0x12f)],'symbol':_0x4165f6['symbol'],'side':_0x6cb194[_0x542f90(0x159)],'reverse':_0x48d65e,'amount':formatResult(_0x6cb194[_0x542f90(0x113)],0x8),'filled':formatResult(_0x6cb194[_0x542f90(0x113)],0x8),'price':formatResult(_0x6cb194[_0x542f90(0x122)],0x8)}),_0x3f8b8d=_0x6cb194[_0x542f90(0x159)]==_0x542f90(0xf0)?_0x3f8b8d+_0x6cb194[_0x542f90(0x113)]:_0x3f8b8d-_0x6cb194['filled'];if(!_0xa99fb5)_0xa99fb5=_0x6cb194['price'];});_0xd40653=_0x4165f6[_0x5cdf96(0x8d)]-_0x3f8b8d;let _0x3322e7;config[_0x5cdf96(0x148)][_0x5cdf96(0x13a)](_0x6d1698=>{const _0x4ac28a=_0x5cdf96;!_0x3322e7&&(_0x3322e7=_0x6d1698[_0x4ac28a(0x9b)][_0x4ac28a(0x1ca)](_0x5a06e2=>_0x5a06e2[_0x4ac28a(0x12f)]==_0x4165f6[_0x4ac28a(0x12f)]),_0x3322e7&&(_0xd40653=_0x3322e7[_0x4ac28a(0x8d)],_0xa99fb5=_0x3322e7[_0x4ac28a(0x122)]));});let _0x4ab5ce=dbCoinResults[_0x5cdf96(0x169)](_0x5cdf96(0x6c))[_0x5cdf96(0x1ca)]({'coin':_0x4165f6[_0x5cdf96(0x12f)]})[_0x5cdf96(0xfa)]();_0x4ab5ce={'coin':_0x4165f6['coin'],'number':_0xd40653,'breakeven':_0xa99fb5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x5cdf96(0x169)]('coins')['find']({'coin':_0x4165f6[_0x5cdf96(0x12f)]})[_0x5cdf96(0xc0)](_0x4ab5ce)[_0x5cdf96(0x1c5)]();}}_0x18e3bb['sort']((_0x35b8c3,_0x5f5c9d)=>_0x35b8c3['datetime']>_0x5f5c9d[_0x5cdf96(0xd9)]?0x1:_0x5f5c9d[_0x5cdf96(0xd9)]>_0x35b8c3[_0x5cdf96(0xd9)]?-0x1:0x0);let _0xc8e99a=0x0;for(let _0x50aa68 of _0x18e3bb){await updateCoinResults(_0x50aa68,!![]);}}catch(_0x53f4ba){await handleError(_0x53f4ba,_0x5cdf96(0x1ce));}}async function getAllEventOrders(_0xe30575){const _0x41a8aa=_0x1c7efc;let _0x2274c9=[],_0x6a69ca=dbLogs['get'](_0x41a8aa(0x138))[_0x41a8aa(0x145)](_0x4322c9=>{const _0x2b510f=_0x41a8aa,_0x436625=_0x4322c9[_0x2b510f(0x67)][_0x2b510f(0xf7)]();return _0x436625[_0x2b510f(0xc7)](_0xe30575[_0x2b510f(0xf7)]())&&(_0x436625[_0x2b510f(0xc7)](_0x2b510f(0x105))&&_0x436625[_0x2b510f(0xc7)](_0x2b510f(0x135))||_0x436625[_0x2b510f(0xc7)](_0x2b510f(0x113))&&_0x436625[_0x2b510f(0xc7)](_0x2b510f(0x135)));})[_0x41a8aa(0x156)]('time')[_0x41a8aa(0xfa)]();return _0x6a69ca[_0x41a8aa(0x13a)](_0x351022=>{const _0x4ab66a=_0x41a8aa,_0x4e0e2f=_0x351022[_0x4ab66a(0x67)]['includes'](_0x4ab66a(0x81))?_0x4ab66a(0x81):_0x4ab66a(0xf0),_0x5b63df=/#([0-9]|\.)+\s/i,_0x297658=Number(_0x5b63df[_0x4ab66a(0x1d5)](_0x351022[_0x4ab66a(0x67)])[0x0]['slice'](0x1)),_0xa1e30f=/@([0-9]|\.)+$/i,_0x371fdd=Number(_0xa1e30f[_0x4ab66a(0x1d5)](_0x351022[_0x4ab66a(0x67)])[0x0][_0x4ab66a(0x87)](0x1));_0x2274c9[_0x4ab66a(0x1a6)]({'datetime':_0x351022['time'],'coin':symbolToCoin(_0xe30575),'symbol':_0xe30575,'side':_0x4e0e2f,'amount':_0x297658,'filled':_0x297658,'price':_0x371fdd});}),_0x2274c9;}async function getAllOrders(_0x3abff0,_0x4ccf21){const _0x52919e=_0x1c7efc;let _0x4accac=[];while(_0x4ccf21<exchange[_0x52919e(0x91)]()){const _0xe8b33c=0x1f4,_0x2b3514=await exchange[_0x52919e(0x177)](_0x3abff0,_0x4ccf21,_0xe8b33c);if(_0x2b3514[_0x52919e(0x6b)])_0x4ccf21=_0x2b3514[_0x2b3514[_0x52919e(0x6b)]-0x1][_0x52919e(0xfb)]+0x1,_0x4accac=_0x4accac[_0x52919e(0xb3)](_0x2b3514);else break;}return _0x4accac;}async function validate24hChanges(){const _0x17761f=_0x1c7efc;for(const _0x209e12 of currentCoins){if(_0x209e12[_0x17761f(0x12f)]!=config['basecoin']){let _0xc8a850;_0x209e12[_0x17761f(0x164)]?_0xc8a850=formatResult((0x1/(global[_0x17761f(0xdc)][noslash(_0x209e12[_0x17761f(0x1b3)])]/0x64+0x1)-0x1)*0x64,0x3):_0xc8a850=global[_0x17761f(0xdc)][noslash(_0x209e12[_0x17761f(0x1b3)])],_0xc8a850<config[_0x17761f(0x82)]&&(logHistory(_0x17761f(0x197),_0x209e12[_0x17761f(0x12f)]+_0x17761f(0xd5)+_0xc8a850+'%'),logHistory(_0x17761f(0x197),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x17761f(0x197),_0x17761f(0x140)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x6e0d36,_0x242147){const _0x19efa9=_0x1c7efc;if(!_0x6e0d36)return!![];const _0x1f69e2=_0x242147['split']('.'),_0x240a0d=_0x6e0d36[_0x19efa9(0x6d)]('.');for(var _0x239c03=0x0;_0x239c03<_0x240a0d[_0x19efa9(0x6b)];_0x239c03++){const _0x4781e7=~~_0x240a0d[_0x239c03],_0x39a795=~~_0x1f69e2[_0x239c03];if(_0x4781e7<_0x39a795)return!![];if(_0x4781e7>_0x39a795)return![];}return![];}async function oneTimeMigration(){const _0x3df8bc=_0x1c7efc;let _0xd7f6e2=dbLogs[_0x3df8bc(0x169)](_0x3df8bc(0x15e))[_0x3df8bc(0xfa)]();if(isOlderVersion(_0xd7f6e2,_0x3df8bc(0x19e))){let _0x40cef3=[];const _0x533604=dbLogs[_0x3df8bc(0x169)](_0x3df8bc(0x138))[_0x3df8bc(0xfa)]();_0x533604[_0x3df8bc(0x13a)](_0x228060=>{const _0x3446a4=_0x3df8bc;_0x40cef3['push']({'time':_0x228060['time'],'type':_0x228060['type'],'event':_0x228060[_0x3446a4(0x67)]});}),dbLogs[_0x3df8bc(0x169)](_0x3df8bc(0x138))[_0x3df8bc(0xc0)](_0x40cef3)[_0x3df8bc(0x1c5)]();}let _0x1642f0=dbConfig[_0x3df8bc(0x169)](_0x3df8bc(0x15e))[_0x3df8bc(0xfa)]();if(isOlderVersion(_0x1642f0,'2.3.5')){let _0xf1411d=dbConfig[_0x3df8bc(0x169)](_0x3df8bc(0x195))['find']({'botID':botID})[_0x3df8bc(0xfa)]();if(_0xf1411d){let _0x296537=[];_0xf1411d['portfolio'][_0x3df8bc(0x13a)](_0xdd64eb=>{const _0x4e76b4=_0x3df8bc;_0x296537['push']({'coin':_0xdd64eb[_0x4e76b4(0x12f)],'number':_0xdd64eb['startnumber'],'price':_0xdd64eb[_0x4e76b4(0x186)]}),delete _0xdd64eb['startnumber'],delete _0xdd64eb[_0x4e76b4(0x186)];});if(_0x296537['length']!==0x0)fs['writeFile'](configbackuppath+('starting-balance-'+botID+_0x3df8bc(0xc2)),JSON[_0x3df8bc(0xb1)](_0x296537,null,0x4),function(_0x151dc4){if(_0x151dc4){}});const _0x58f87b=(_0x41fc21,_0x3551ae)=>{const _0xa4142b=_0x3df8bc;let _0x480252=[];_0x3551ae[_0xa4142b(0x13a)](_0x20ba94=>{const _0x1f214d=_0xa4142b,_0x3f3fba=_0x41fc21[_0x1f214d(0x1ca)](_0x1f2680=>_0x1f2680[_0x1f214d(0x12f)]==_0x20ba94[_0x1f214d(0x12f)]);if(!_0x3f3fba)_0x480252[_0x1f214d(0x1a6)](_0x20ba94);});let _0x4086c6=[];return _0x41fc21[_0xa4142b(0x13a)](_0x5b5d70=>{const _0x353978=_0xa4142b,_0x51d389=_0x3551ae[_0x353978(0x1ca)](_0x2fa345=>_0x2fa345[_0x353978(0x12f)]==_0x5b5d70[_0x353978(0x12f)]);if(!_0x51d389||_0x51d389[_0x353978(0x8d)]==0x0&&_0x5b5d70[_0x353978(0x8d)]!=0x0)_0x4086c6[_0x353978(0x1a6)](_0x5b5d70);}),{'missingDay1':_0x480252,'notInDay2':_0x4086c6};},_0x2eb00a=dbPerformance[_0x3df8bc(0x169)]('data')['cloneDeep']()[_0x3df8bc(0xfa)]();if(_0x2eb00a[_0x3df8bc(0x6b)]>0x1){const {missingDay1:_0x9d7843,notInDay2:_0x590f28}=_0x58f87b(_0x296537,_0x2eb00a[0x1]['coins']);_0x296537=[..._0x296537,..._0x9d7843],_0x590f28[_0x3df8bc(0x13a)](_0x2edc19=>{const _0xd4de4d=_0x3df8bc;let _0x56ce46=_0x296537[_0xd4de4d(0xa8)](_0x1595e4=>_0x1595e4[_0xd4de4d(0x12f)]==_0x2edc19[_0xd4de4d(0x12f)]);_0x56ce46!=-0x1&&_0x296537[_0xd4de4d(0x188)](_0x56ce46,0x1);});}_0x296537['sort']((_0x44b48e,_0x3cbb00)=>_0x44b48e[_0x3df8bc(0x12f)]>_0x3cbb00[_0x3df8bc(0x12f)]?0x1:_0x3cbb00[_0x3df8bc(0x12f)]>_0x44b48e[_0x3df8bc(0x12f)]?-0x1:0x0);let _0xa33121=[{'date':_0xf1411d[_0x3df8bc(0x128)],'changes':_0x296537}];_0x2eb00a[_0x3df8bc(0x6b)]>0x2&&_0x2eb00a[_0x3df8bc(0x13a)]((_0x470651,_0x6ba4ac)=>{const _0x18beaa=_0x3df8bc;if(_0x6ba4ac>0x0&&_0x6ba4ac<_0x2eb00a[_0x18beaa(0x6b)]-0x1){const {missingDay1:_0x3f75dc,notInDay2:_0x360a47}=_0x58f87b(_0x2eb00a[_0x6ba4ac][_0x18beaa(0x6c)],_0x2eb00a[_0x6ba4ac+0x1][_0x18beaa(0x6c)]);_0x296537=[],(_0x3f75dc[_0x18beaa(0x6b)]!=0x0||_0x360a47['length']!=0x0)&&(_0x3f75dc['length']!=0x0&&_0x296537[_0x18beaa(0x1a6)](..._0x3f75dc),_0x360a47[_0x18beaa(0x6b)]!=0x0&&(_0x360a47['forEach'](_0x4c6f8d=>{const _0x338949=_0x18beaa;_0x4c6f8d['number']=-_0x4c6f8d[_0x338949(0x8d)];}),_0x296537['push'](..._0x360a47)),_0x296537['sort']((_0x8a82a8,_0x15dd28)=>_0x8a82a8[_0x18beaa(0x12f)]>_0x15dd28[_0x18beaa(0x12f)]?0x1:_0x15dd28[_0x18beaa(0x12f)]>_0x8a82a8['coin']?-0x1:0x0),_0xa33121[_0x18beaa(0x1a6)]({'date':_0x2eb00a[_0x6ba4ac+0x1]['date'],'changes':_0x296537}));}}),dbConfig[_0x3df8bc(0x169)](_0x3df8bc(0x195))[_0x3df8bc(0x1ca)]({'botID':botID})['assign']({..._0xf1411d,'liquidity':_0xa33121})[_0x3df8bc(0x1c5)]();}}if(isOlderVersion(_0x1642f0,_0x3df8bc(0xbd))){let _0x40641=dbConfig[_0x3df8bc(0x169)](_0x3df8bc(0x195))[_0x3df8bc(0x1ca)]({'botID':botID})['value']();if(_0x40641){const _0x588f1d=_0x40641[_0x3df8bc(0x80)],_0x51cfeb=_0x588f1d?capitalize(_0x588f1d):_0x3df8bc(0x154);dbConfig['get'](_0x3df8bc(0x195))[_0x3df8bc(0x1ca)]({'botID':botID})[_0x3df8bc(0xc0)]({'exchange':_0x51cfeb})[_0x3df8bc(0x1c5)]();}}config=getConfiguration(botID);let _0x16575a=dbPerformance['get'](_0x3df8bc(0x15e))[_0x3df8bc(0xfa)]();isOlderVersion(_0x16575a,'2.3.5')&&setStartDatePerformance();let _0x3a093a=dbCoinResults[_0x3df8bc(0x169)](_0x3df8bc(0x15e))[_0x3df8bc(0xfa)]();if(isOlderVersion(_0x3a093a,_0x3df8bc(0x1b4))){let _0x544571=dbCoinResults[_0x3df8bc(0x169)](_0x3df8bc(0x6c))[_0x3df8bc(0xfa)]();if(_0x544571[_0x3df8bc(0x6b)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x23c948=_0x1c7efc;dbConfig[_0x23c948(0x121)]('version',serverversion)[_0x23c948(0x1c5)](),dbPerformance[_0x23c948(0x121)](_0x23c948(0x15e),serverversion)[_0x23c948(0x1c5)](),dbLogs['set'](_0x23c948(0x15e),serverversion)[_0x23c948(0x1c5)](),dbCoinResults[_0x23c948(0x121)](_0x23c948(0x15e),serverversion)['write']();}function getConfiguration(_0x3dc54c){const _0x255143=_0x1c7efc;let _0x235b3d=dbConfig[_0x255143(0x169)](_0x255143(0x195))[_0x255143(0x1ca)]({'botID':_0x3dc54c})[_0x255143(0xfa)]();if(_0x235b3d){let _0x4ac969=![];typeof _0x235b3d[_0x255143(0xaa)]==_0x255143(0x76)&&(_0x235b3d={..._0x235b3d,'threshold':Number(_0x235b3d[_0x255143(0xaa)])},_0x4ac969=!![]),_0x235b3d[_0x255143(0x82)]==null&&(_0x235b3d={..._0x235b3d,'change24h':-0x14},_0x4ac969=!![]),_0x4ac969&&(_0x235b3d={'botID':_0x235b3d[_0x255143(0x115)],'exchange':_0x235b3d[_0x255143(0x80)],'apiKey':_0x235b3d[_0x255143(0xeb)],'apiSecret':_0x235b3d['apiSecret'],'basecoin':_0x235b3d[_0x255143(0xf2)],'botname':_0x235b3d['botname'],'showname':_0x235b3d[_0x255143(0x12e)],'threshold':_0x235b3d[_0x255143(0xaa)],'ordertype':_0x235b3d[_0x255143(0x77)],'timeout':_0x235b3d[_0x255143(0xfd)],'startdate':_0x235b3d[_0x255143(0x128)],'recreate':_0x235b3d[_0x255143(0x1b5)],'timeshift':_0x235b3d['timeshift'],'headless':_0x235b3d['headless'],'cooldown':_0x235b3d[_0x255143(0xa0)],'change24h':_0x235b3d[_0x255143(0x82)],'emojibuy':_0x235b3d['emojibuy'],'emojisell':_0x235b3d[_0x255143(0x196)],'portfolio':_0x235b3d[_0x255143(0xb9)],'liquidity':_0x235b3d[_0x255143(0x148)]},dbConfig['get'](_0x255143(0x195))[_0x255143(0x103)]()[_0x255143(0x1c5)](),dbConfig[_0x255143(0x169)](_0x255143(0x195))[_0x255143(0x1a6)](_0x235b3d)[_0x255143(0x1c5)]());}else _0x235b3d={'botID':_0x3dc54c,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x3dc54c,'showname':![],'threshold':0x3,'ordertype':_0x255143(0x105),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x235b3d;}function emittedConfiguration(){const _0x4cdf30=_0x1c7efc;let _0x16a6a1;if(config[_0x4cdf30(0xeb)]=='')_0x16a6a1={...config,'configstate':'initial'};else config[_0x4cdf30(0xeb)]==_0x4cdf30(0x1c2)?_0x16a6a1={...config,'configstate':_0x4cdf30(0x1a9)}:_0x16a6a1={...config,'apiKey':_0x4cdf30(0xa9),'apiSecret':_0x4cdf30(0xa9)};return _0x16a6a1;}function getSettings(){const _0x37a2f9=_0x1c7efc;return dbSettings[_0x37a2f9(0x169)](_0x37a2f9(0x1cb))[_0x37a2f9(0xfa)]();}function getSecure(){const _0xfce8d1=_0x1c7efc;return dbSecure['get'](_0xfce8d1(0x1c9))[_0xfce8d1(0xfa)]()||{};}function updateTimeshift(_0x424e40){const _0x12fb2f=_0x1c7efc;let _0x2db483=dbConfig[_0x12fb2f(0x169)](_0x12fb2f(0x195))[_0x12fb2f(0x1ca)]({'botID':botID})[_0x12fb2f(0xfa)]();_0x2db483&&dbConfig[_0x12fb2f(0x169)](_0x12fb2f(0x195))['find']({'botID':botID})[_0x12fb2f(0xc0)]({'timeshift':_0x424e40})[_0x12fb2f(0x1c5)](),config[_0x12fb2f(0x182)]=_0x424e40,proxyEmit(_0x12fb2f(0xc8),emittedConfiguration());}async function storeConfiguration(_0x1b1e89){const _0xc7d56c=_0x1c7efc;let _0xe2857=[],_0x8c21f8=[];_0x1b1e89['portfolio'][_0xc7d56c(0x13a)](_0x57382a=>{const _0x45bad8=_0xc7d56c;if(!_0x57382a['excluded']&&_0x57382a['coin']!=_0x1b1e89[_0x45bad8(0xf2)])_0x8c21f8['push'](_0x57382a[_0x45bad8(0x1b3)]);});currentCoins['length']==0x0?_0xe2857=_0x8c21f8:_0x8c21f8[_0xc7d56c(0x13a)](_0xb32b3e=>{const _0x4fa6b6=_0xc7d56c,_0x1a199f=currentCoins[_0x4fa6b6(0x1ca)](_0x7dedfc=>_0x7dedfc[_0x4fa6b6(0x1b3)]==_0xb32b3e);!_0x1a199f&&_0xe2857[_0x4fa6b6(0x1a6)](_0xb32b3e);});let _0x5d5b64=dbConfig[_0xc7d56c(0x169)](_0xc7d56c(0x195))[_0xc7d56c(0x1ca)]({'botID':botID})[_0xc7d56c(0xfa)]();_0x1b1e89={..._0x1b1e89,'apiKey':crypt[_0xc7d56c(0xca)](secure[_0xc7d56c(0x185)],_0x1b1e89[_0xc7d56c(0xeb)])[_0xc7d56c(0x12d)],'apiSecret':crypt['decrypt'](secure[_0xc7d56c(0x185)],_0x1b1e89[_0xc7d56c(0x1b2)])[_0xc7d56c(0x12d)]};if(_0x5d5b64){if(_0x1b1e89[_0xc7d56c(0xeb)]==_0xc7d56c(0xa9))_0x1b1e89['apiKey']=config[_0xc7d56c(0xeb)];if(_0x1b1e89[_0xc7d56c(0x1b2)]=='************')_0x1b1e89[_0xc7d56c(0x1b2)]=config['apiSecret'];dbConfig[_0xc7d56c(0x169)](_0xc7d56c(0x195))[_0xc7d56c(0x1ca)]({'botID':botID})['assign'](_0x1b1e89)[_0xc7d56c(0x1c5)]();}else dbConfig[_0xc7d56c(0x169)](_0xc7d56c(0x195))[_0xc7d56c(0x1a6)](_0x1b1e89)['write'](),process[_0xc7d56c(0x95)]({'status':_0xc7d56c(0x7e),'live':'running'},_0x28d935=>{});config={..._0x1b1e89},setStartDatePerformance(),process[_0xc7d56c(0x95)]({'botname':_0x1b1e89[_0xc7d56c(0x14b)]},_0x4b6c25=>{}),updateBotManager();const _0xb97acd=getNormalizedPerformance();getStartingBalances(_0xb97acd),emitPerformance(_0xb97acd),proxyEmit(_0xc7d56c(0x17c)),await initCoinResults(),reset(_0xe2857);}async function storeHeadless(_0x3da077){const _0x193d6d=_0x1c7efc,_0xf60373={...config,'headless':_0x3da077[_0x193d6d(0xb8)]};let _0x78fc2c=dbConfig['get'](_0x193d6d(0x195))['find']({'botID':botID})[_0x193d6d(0xfa)]();_0x78fc2c&&dbConfig[_0x193d6d(0x169)](_0x193d6d(0x195))[_0x193d6d(0x1ca)]({'botID':botID})[_0x193d6d(0xc0)](_0xf60373)['write'](),config={..._0xf60373},updateBotManager(),proxyEmit(_0x193d6d(0xc8),emittedConfiguration());}function noslash(_0x3d5f82){const _0x54d8c2=_0x1c7efc;return _0x3d5f82[_0x54d8c2(0x15c)]('/','');}async function updateNumberCoinsCcxt(_0x4f68fe){const _0x48789f=_0x1c7efc;logger[_0x48789f(0x104)](_0x48789f(0x14e)+_0x4f68fe[_0x48789f(0x1b3)]+_0x48789f(0x15f)+_0x4f68fe['status']+_0x48789f(0x15f)+_0x4f68fe['id']+'\x20|\x20'+_0x4f68fe[_0x48789f(0xb7)]);let _0x4815a2=_0x4f68fe['status'],_0x330afe=![];currentCoins['forEach'](_0x42ae79=>{const _0x5d9338=_0x48789f;_0x42ae79['symbol']==_0x4f68fe[_0x5d9338(0x1b3)]&&(_0x330afe=!![]);});if(!_0x330afe)return;const _0x3e613f=currentCoins[_0x48789f(0x1ca)](_0x368a96=>_0x368a96[_0x48789f(0x1b3)]==_0x4f68fe[_0x48789f(0x1b3)]),_0xb814e0=_0xb79497=>{const _0x2e9c99=_0x48789f;if(_0x3e613f)_0x3e613f[_0x2e9c99(0x70)]=_0xb79497;};if(_0x4815a2==_0x48789f(0x149))_0xb814e0(_0x48789f(0x149));else{if(_0x4815a2=='canceled')_0xb814e0(_0x48789f(0x137)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x4815a2==_0x48789f(0x194)){logger[_0x48789f(0x104)](_0x48789f(0xc5)+_0x4f68fe[_0x48789f(0x1b3)]+_0x48789f(0x15f)+_0x4f68fe['filled']+'\x20|\x20'+_0x4f68fe['id']+_0x48789f(0x15f)+_0x4f68fe[_0x48789f(0xb7)]);let _0x4df7db=![];if(lastOrders)lastOrders[_0x48789f(0x13a)](async _0x4ec83a=>{const _0x5f0775=_0x48789f;if(_0x4ec83a[_0x5f0775(0x8f)]==_0x4f68fe[_0x5f0775(0xb7)]){logger[_0x5f0775(0x104)](_0x5f0775(0x10f)+_0x4f68fe[_0x5f0775(0xb7)]),_0x4df7db=!![];if(_0x4ec83a[_0x5f0775(0x113)]==0x0){logger[_0x5f0775(0x104)](_0x5f0775(0xfe)+_0x4f68fe[_0x5f0775(0xb7)]),_0x4ec83a[_0x5f0775(0x122)]=_0x4f68fe['average'],_0x4ec83a['filled']=_0x4f68fe['filled'],_0x4ec83a[_0x5f0775(0x193)]={'cost':_0x4f68fe[_0x5f0775(0x193)][_0x5f0775(0x7a)],'currency':_0x4f68fe[_0x5f0775(0x193)]['currency']},_0xb814e0('filled'),await validateOrders();if(lockOrders==ORDERS[_0x5f0775(0x152)])currentCoins=await getCoins();await updateCoinResults(_0x4ec83a);}}});!_0x4df7db&&(logger[_0x48789f(0x104)](_0x48789f(0x1a2)+_0x4f68fe['id']),_0xb814e0(_0x48789f(0x113)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x30964e=JSON['parse'](lastBalances[_0x48789f(0xb9)]);const _0x515fa5=_0x30964e[_0x48789f(0x1ca)](_0x31fcb0=>_0x31fcb0['symbol']==_0x4f68fe[_0x48789f(0x1b3)]);if(_0x515fa5){if(_0x4815a2==_0x48789f(0x149))_0x515fa5[_0x48789f(0x70)]=_0x515fa5[_0x48789f(0x70)]==_0x48789f(0x113)?_0x48789f(0x113):_0x48789f(0x149);else{if(_0x4815a2==_0x48789f(0x137))_0x515fa5[_0x48789f(0x70)]=_0x515fa5['orderstatus']==_0x48789f(0x113)?_0x48789f(0x113):_0x48789f(0x137);else _0x4815a2=='closed'&&(_0x515fa5['orderstatus']=_0x48789f(0x113));}}lastBalances={...lastBalances,'portfolio':JSON[_0x48789f(0xb1)](_0x30964e)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0xe7f2fe=![],_0x5813e5=!![],_0x3dbea6=config[_0x1c7efc(0xf2)]){const _0x57067f=_0x1c7efc;let _0x4138e2,_0x2b94eb=[],_0x47c8c1=[],_0x258635=[];try{_0x4138e2=await exchange[_0x57067f(0x172)](),mybalances=_0x4138e2[_0x57067f(0x191)];if(!_0x5813e5)for(const [_0x31c83a,_0x119c5e]of Object[_0x57067f(0x155)](mybalances)){_0x258635[_0x57067f(0x1a6)](_0x31c83a);}else config[_0x57067f(0xb9)][_0x57067f(0x13a)](_0x5abfbe=>{const _0x1ca75f=_0x57067f;if(!_0x5abfbe[_0x1ca75f(0x171)])_0x258635[_0x1ca75f(0x1a6)](_0x5abfbe['coin']);});if(_0x3dbea6=='')for(const [_0x392222,_0x28cd23]of Object['entries'](mybalances)){_0x28cd23['toString']()!=0x0&&_0x47c8c1[_0x57067f(0x1a6)]({'coin':_0x392222});}else{if(_0xe7f2fe)await getOpenOrders();let _0x3cf23c=![];for(const [_0x29758b,_0x13e920]of Object[_0x57067f(0x155)](mybalances)){if(_0x258635[_0x57067f(0xc7)](_0x29758b)){const _0x50bb01=config[_0x57067f(0xb9)][_0x57067f(0x1ca)](_0x2877fe=>_0x2877fe[_0x57067f(0x12f)]==_0x29758b),_0x2c0868=_0x29758b+'/'+_0x3dbea6,_0x282020=_0x3dbea6+'/'+_0x29758b,_0x19625b=currentCoins[_0x57067f(0x1ca)](_0x4cf7a1=>_0x4cf7a1[_0x57067f(0x12f)]==_0x29758b);_0x3cf23c=![];_0xe7f2fe&&(_0x3cf23c=allOpenOrders['find'](_0x5e1701=>_0x5e1701[_0x57067f(0x1b3)]==_0x50bb01[_0x57067f(0x1b3)]));if((_0x13e920[_0x57067f(0x14d)]()!=0x0||_0x50bb01)&&(allSymbols[_0x57067f(0xc7)](_0x2c0868)||_0x29758b==_0x3dbea6))_0x29758b!=_0x3dbea6&&_0x2b94eb[_0x57067f(0x1a6)](_0x2c0868),_0x47c8c1[_0x57067f(0x1a6)]({'coin':_0x29758b,'symbol':_0x2c0868,'reverse':![],'number':Math[_0x57067f(0xaf)](_0x13e920+(_0x50bb01&&_0x50bb01['offset']||0x0),0x0),'orderstatus':_0xe7f2fe?_0x3cf23c?_0x57067f(0x149):_0x57067f(0x1cf):_0x19625b?_0x19625b[_0x57067f(0x70)]:_0x57067f(0x1cf)});else(_0x13e920[_0x57067f(0x14d)]()!=0x0||_0x50bb01)&&allSymbols[_0x57067f(0xc7)](_0x282020)&&(_0x29758b!=_0x3dbea6&&_0x2b94eb[_0x57067f(0x1a6)](_0x282020),_0x47c8c1['push']({'coin':_0x29758b,'symbol':_0x282020,'reverse':!![],'number':Math['max'](_0x13e920+(_0x50bb01&&_0x50bb01[_0x57067f(0x15a)]||0x0),0x0),'orderstatus':_0xe7f2fe?_0x3cf23c?_0x57067f(0x149):_0x57067f(0x1cf):_0x19625b?_0x19625b[_0x57067f(0x70)]:_0x57067f(0x1cf)}));}}}}catch(_0x31bb62){if(!_0x5813e5)handleErrorNoStop(_0x31bb62,_0x57067f(0xf9));else await handleError(_0x31bb62,_0x57067f(0xf9));}return _0x47c8c1;}async function getCoinNumber(_0x31e99a){const _0x2bb727=_0x1c7efc;let _0x383b06;try{const _0x1417b5=await exchange[_0x2bb727(0x172)]();_0x383b06=_0x1417b5[_0x2bb727(0x191)][_0x31e99a];}catch(_0x5d8338){await handleError(_0x5d8338,_0x2bb727(0xea));}return _0x383b06;}async function getOpenOrders(){const _0x3c44a5=_0x1c7efc;let _0x58ee5a;allOpenOrders=[];try{for(const _0x283418 of config[_0x3c44a5(0xb9)]){!_0x283418[_0x3c44a5(0x171)]&&_0x283418[_0x3c44a5(0x12f)]!=config[_0x3c44a5(0xf2)]&&(_0x58ee5a=await exchange[_0x3c44a5(0x10b)](_0x283418['symbol']),_0x58ee5a[_0x3c44a5(0x6b)]>0x0&&allOpenOrders[_0x3c44a5(0x1a6)](_0x58ee5a[0x0]));}}catch(_0x8ba3d2){await handleError(_0x8ba3d2,_0x3c44a5(0xd3));}}async function handleOpenOrders(_0x44303b=0x0){const _0xe9e397=_0x1c7efc;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x44303b==0x0?(logger[_0xe9e397(0x104)](_0xe9e397(0xce)),_0x44303b++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0xe9e397(0xfc)),validateOrders(_0xe9e397(0x88))));}async function getPortfolio(_0x149162){const _0x2f66c5=_0x1c7efc;let _0x4aecaf=[],_0x3db65f=[],_0x51cacb,_0x5508cc=[],_0x406daa=![];if(_0x149162[_0x2f66c5(0xeb)]==='************'||_0x149162[_0x2f66c5(0x1b2)]===_0x2f66c5(0xa9))_0x406daa=!![];else{await initExchange(_0x149162['exchange'],_0x149162['apiKey'],_0x149162[_0x2f66c5(0x1b2)]);try{_0x406daa=await loadSymbols(_0x149162['exchange']);}catch(_0x3a79df){_0x406daa=![],handleErrorNoStop(_0x3a79df,_0x2f66c5(0x14a));}}if(_0x406daa){_0x5508cc=await getCoins(![],![],_0x149162[_0x2f66c5(0xf2)]);if(_0x5508cc===![])proxyEmit('portfolio',![]);else{if(_0x149162[_0x2f66c5(0xf2)]=='')proxyEmit(_0x2f66c5(0xb9),_0x5508cc);else{_0x5508cc[_0x2f66c5(0x13a)](_0x880400=>{const _0x85928c=_0x2f66c5;if(_0x880400[_0x85928c(0x12f)]!=_0x149162[_0x85928c(0xf2)])_0x4aecaf[_0x85928c(0x1a6)](_0x880400[_0x85928c(0x1b3)]);});try{_0x3db65f=await exchange['fetchTickers'](_0x4aecaf);}catch(_0x71d505){await handleError(_0x71d505,_0x2f66c5(0x97));}_0x5508cc[_0x2f66c5(0x13a)](_0x437744=>{const _0x13e94f=_0x2f66c5;_0x437744[_0x13e94f(0x12f)]!=_0x149162[_0x13e94f(0xf2)]?_0x51cacb=_0x437744['reverse']?0x1/_0x3db65f[_0x437744[_0x13e94f(0x1b3)]][_0x13e94f(0x99)]:_0x3db65f[_0x437744[_0x13e94f(0x1b3)]][_0x13e94f(0x99)]:_0x51cacb=0x1,_0x437744[_0x13e94f(0x122)]=formatResult(_0x51cacb,0x8);}),proxyEmit(_0x2f66c5(0xb9),_0x5508cc);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x2c154a){const _0x21c390=_0x1c7efc;let _0x43c982=!![];const _0x4033cf=!_0x2c154a[_0x21c390(0x164)]?markets[_0x2c154a[_0x21c390(0x1b3)]][_0x21c390(0x166)]['amount'][_0x21c390(0x18d)]:markets[_0x2c154a[_0x21c390(0x1b3)]][_0x21c390(0x166)]['cost'][_0x21c390(0x18d)],_0x1ff757=!_0x2c154a['reverse']?markets[_0x2c154a[_0x21c390(0x1b3)]][_0x21c390(0x166)]['cost'][_0x21c390(0x18d)]:markets[_0x2c154a['symbol']][_0x21c390(0x166)]['amount'][_0x21c390(0x18d)],_0x2a051d=markets[_0x2c154a['symbol']][_0x21c390(0x1ba)][_0x21c390(0xd0)];_0x2c154a[_0x21c390(0x1c4)]=formatResultTruncate(_0x2c154a['trade'],_0x2a051d);if(Math[_0x21c390(0x1b6)](_0x2c154a[_0x21c390(0x1c4)])<_0x4033cf)_0x43c982=![];if(Math[_0x21c390(0x1b6)](_0x2c154a['trade'])*_0x2c154a[_0x21c390(0x99)]<_0x1ff757)_0x43c982=![];if(_0x2c154a['side']==_0x21c390(0x81)){let _0x13e5c4=config[_0x21c390(0xb9)][_0x21c390(0x1ca)](_0x37c24a=>_0x37c24a[_0x21c390(0x12f)]==_0x2c154a[_0x21c390(0x12f)]);if(_0x13e5c4['offset']>0x0){if(Math[_0x21c390(0x1b6)](_0x2c154a[_0x21c390(0x1c4)])>_0x2c154a[_0x21c390(0x8d)]-_0x13e5c4[_0x21c390(0x15a)])_0x43c982=![];}else{if(Math[_0x21c390(0x1b6)](_0x2c154a[_0x21c390(0x1c4)])>_0x2c154a[_0x21c390(0x8d)])_0x43c982=![];}}if(_0x2c154a[_0x21c390(0x159)]=='buy'){let _0x45720f=config['portfolio'][_0x21c390(0x1ca)](_0x5ea8ee=>_0x5ea8ee['coin']==config[_0x21c390(0xf2)]),_0x51fa4d=currentCoins[_0x21c390(0x1ca)](_0x52416b=>_0x52416b[_0x21c390(0x12f)]==config[_0x21c390(0xf2)]);if(_0x45720f[_0x21c390(0x15a)]>0x0){if(Math[_0x21c390(0x1b6)](_0x2c154a[_0x21c390(0x1c4)])*_0x2c154a[_0x21c390(0x99)]>_0x51fa4d[_0x21c390(0x8d)]-_0x45720f[_0x21c390(0x15a)])_0x43c982=![];}else{if(Math[_0x21c390(0x1b6)](_0x2c154a['trade'])*_0x2c154a[_0x21c390(0x99)]>_0x51fa4d[_0x21c390(0x8d)])_0x43c982=![];}}return _0x43c982;}async function getBalances(){const _0x53159e=_0x1c7efc;let _0x23926a=0x0,_0x2d50b4;const _0x555745=config[_0x53159e(0xaa)];if(config[_0x53159e(0xb8)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x53159e(0x13a)](_0x812f94=>{const _0x2db984=_0x53159e;if(_0x812f94['coin']!=config[_0x2db984(0xf2)]){let _0xb37813=global[_0x2db984(0x19a)][noslash(_0x812f94[_0x2db984(0x1b3)])];_0x2d50b4=_0x812f94[_0x2db984(0x164)]?0x1/_0xb37813:_0xb37813;}else _0x2d50b4=0x1;let _0x3ad8b7=_0x812f94['number']*_0x2d50b4;_0x23926a+=_0x3ad8b7,_0x812f94[_0x2db984(0x99)]=formatResult(Number(_0x2d50b4),0x8),_0x812f94[_0x2db984(0xfa)]=_0x3ad8b7;}),currentCoins[_0x53159e(0x13a)](_0x43afe2=>{const _0x56738c=_0x53159e;let _0x5a6871=config[_0x56738c(0xb9)][_0x56738c(0x1ca)](_0x1377ff=>_0x1377ff[_0x56738c(0x12f)]==_0x43afe2[_0x56738c(0x12f)]),_0x24a7a3=Number(_0x5a6871['distribution']),_0xd3b4c5=_0x43afe2[_0x56738c(0xfa)]/_0x23926a*0x64,_0x3a1bb1=_0x24a7a3*_0x23926a/0x64/_0x43afe2[_0x56738c(0x99)]-_0x43afe2[_0x56738c(0x8d)];_0x43afe2['distribution']=formatResult(_0xd3b4c5,0x3),_0x43afe2[_0x56738c(0x86)]=formatResult(_0x24a7a3,0x3),_0x43afe2[_0x56738c(0x1c4)]=formatResult(_0x3a1bb1,0x8),_0x43afe2[_0x56738c(0x159)]='',_0x43afe2[_0x56738c(0xe1)]=![];if(_0x43afe2[_0x56738c(0x12f)]!=config[_0x56738c(0xf2)]){if(_0x43afe2[_0x56738c(0x16d)]>_0x24a7a3)_0x43afe2[_0x56738c(0x159)]=_0x56738c(0x81),_0x43afe2[_0x56738c(0xe1)]=checkMinimums(_0x43afe2);else _0x43afe2[_0x56738c(0x16d)]<_0x24a7a3&&(_0x43afe2[_0x56738c(0x159)]=_0x56738c(0xf0),_0x43afe2['valid']=checkMinimums(_0x43afe2));}_0x43afe2[_0x56738c(0x1af)]=_0x43afe2[_0x56738c(0x16d)]/_0x43afe2[_0x56738c(0x86)]-0x1;if(_0x43afe2[_0x56738c(0x70)]==_0x56738c(0x113)||_0x43afe2[_0x56738c(0x70)]=='canceled')_0x43afe2['orderstatus']='none';}),currentCoins[_0x53159e(0xe2)]((_0x4450e9,_0x467f1a)=>_0x4450e9['delta']<_0x467f1a[_0x53159e(0x1af)]?0x1:_0x467f1a[_0x53159e(0x1af)]<_0x4450e9['delta']?-0x1:0x0);const _0x167acb=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x167acb[_0x53159e(0x7c)],'usd':_0x167acb[_0x53159e(0xcd)],'portfolio':JSON[_0x53159e(0xb1)](currentCoins),'threshold':_0x555745},proxyEmit(_0x53159e(0x1bb),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x555745});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x555745});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x38d006=_0x1c7efc;if(!lastBalances)return;let _0x1d868a=[],_0x449049,_0x35cc4c=JSON[_0x38d006(0xc1)](lastBalances[_0x38d006(0xb9)]);_0x35cc4c['sort']((_0x4e872d,_0x6dc965)=>_0x4e872d['coin']>_0x6dc965[_0x38d006(0x12f)]?0x1:_0x6dc965['coin']>_0x4e872d['coin']?-0x1:0x0),_0x35cc4c[_0x38d006(0x13a)](_0x3c6d87=>{const _0x2cdb1f=_0x38d006;let _0x1aed00={'coin':_0x3c6d87['coin'],'number':_0x3c6d87[_0x2cdb1f(0x8d)],'price':_0x3c6d87[_0x2cdb1f(0x99)]};_0x1d868a['push'](_0x1aed00);});const _0xcbcc2b=await getFiat();_0x449049={'date':lastBalances['time'][_0x38d006(0x6d)]('\x20')[0x0],'eur':_0xcbcc2b[_0x38d006(0x7c)],'usd':_0xcbcc2b['usd'],'coins':_0x1d868a};let _0xe08143=dbPerformance[_0x38d006(0x169)](_0x38d006(0x11a))[_0x38d006(0x1ca)]({'date':_0x449049['date']})[_0x38d006(0xfa)]();_0xe08143?_0x449049[_0x38d006(0x78)]!=config['startdate']&&dbPerformance[_0x38d006(0x169)]('data')['find']({'date':_0x449049[_0x38d006(0x78)]})['assign'](_0x449049)[_0x38d006(0x1c5)]():dbPerformance[_0x38d006(0x169)]('data')[_0x38d006(0x1a6)](_0x449049)[_0x38d006(0x1c5)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0xd611f4=_0x1c7efc;let _0x208cde=[];if(dbPerformance['has']('data')[_0xd611f4(0xfa)]()){let _0x48c83f=dbPerformance['get'](_0xd611f4(0x11a))[_0xd611f4(0x1d7)]()['sortBy']('date')['value'](),_0x25013c=[...config['liquidity']];_0x25013c[_0xd611f4(0xe2)]((_0x1419bd,_0x3ed653)=>_0x1419bd['date']>_0x3ed653['date']?-0x1:_0x3ed653['date']>_0x1419bd[_0xd611f4(0x78)]?0x1:0x0);let _0x52d13a=0x1,_0x2861a0=[],_0x235296=0x0;_0x48c83f[_0xd611f4(0x87)]()[_0xd611f4(0x164)]()['forEach']((_0x23dafd,_0x33b623)=>{const _0x3d8323=_0xd611f4;if(_0x25013c[_0x235296]){if(_0x48c83f[_0x48c83f[_0x3d8323(0x6b)]-_0x33b623]&&_0x25013c[_0x235296]['date']==_0x48c83f[_0x48c83f['length']-_0x33b623][_0x3d8323(0x78)]){if(_0x33b623<_0x48c83f[_0x3d8323(0x6b)]){let _0x578209=0x0,_0x4b41a6=0x0;_0x48c83f[_0x48c83f[_0x3d8323(0x6b)]-_0x33b623][_0x3d8323(0x6c)][_0x3d8323(0x13a)](_0x1c966f=>{const _0x3d94c5=_0x3d8323;_0x4b41a6+=_0x1c966f['number']*_0x1c966f[_0x3d94c5(0x122)];}),_0x25013c[_0x235296][_0x3d8323(0x9b)][_0x3d8323(0x13a)](_0x56aff9=>{const _0x5eeede=_0x3d8323;_0x578209+=_0x56aff9[_0x5eeede(0x8d)]*_0x56aff9[_0x5eeede(0x122)];}),_0x52d13a*=_0x578209/(_0x4b41a6-_0x578209)+0x1;}_0x235296++;}}let _0x129751=0x0;_0x23dafd[_0x3d8323(0x6c)][_0x3d8323(0x13a)](_0x5ea51f=>{const _0x16ff2a=_0x3d8323;_0x129751+=_0x5ea51f[_0x16ff2a(0x8d)]*_0x5ea51f['price'];}),_0x2861a0[_0x48c83f['length']-_0x33b623-0x1]=_0x129751*(_0x52d13a-0x1);});let _0x5124e0=[];_0x25013c=[...config[_0xd611f4(0x148)]]||[];let _0x1d8d4c=0x0;_0x235296=0x0,_0x48c83f[_0xd611f4(0x13a)]((_0x48f5c2,_0x37745d)=>{const _0x42d195=_0xd611f4;if(_0x25013c[_0x235296]){const _0xbab23b=fns[_0x42d195(0xc1)](_0x25013c[_0x235296]['date'],_0x42d195(0x141),new Date()),_0xf6a906=fns['parse'](_0x48f5c2[_0x42d195(0x78)],_0x42d195(0x141),new Date());if(fns[_0x42d195(0x19f)](_0xbab23b,_0xf6a906)){let _0x22d34a=0x0;_0x25013c[_0x235296]['changes'][_0x42d195(0x13a)](_0x4e25f8=>{const _0x3040c6=_0x42d195;!_0x5124e0[_0x4e25f8[_0x3040c6(0x12f)]]?_0x5124e0[_0x4e25f8[_0x3040c6(0x12f)]]=_0x4e25f8['number']:(_0x22d34a=_0x5124e0[_0x4e25f8[_0x3040c6(0x12f)]],_0x5124e0[_0x4e25f8[_0x3040c6(0x12f)]]+=_0x4e25f8[_0x3040c6(0x8d)]);const _0x4f0dc9=_0x48f5c2[_0x3040c6(0x6c)][_0x3040c6(0x1ca)](_0x3c8600=>_0x3c8600[_0x3040c6(0x12f)]==_0x4e25f8[_0x3040c6(0x12f)]);(!_0x4f0dc9||_0x4f0dc9[_0x3040c6(0x8d)]==0x0)&&(_0x1d8d4c+=(-_0x4e25f8[_0x3040c6(0x8d)]-_0x22d34a)*_0x4e25f8[_0x3040c6(0x122)]);}),_0x235296++;}}_0x48f5c2[_0x42d195(0x6c)][_0x42d195(0x13a)]((_0x2528e8,_0x20e9af)=>{const _0x145990=_0x42d195;_0x5124e0[_0x2528e8[_0x145990(0x12f)]]&&(_0x2528e8={..._0x2528e8,'initial':_0x5124e0[_0x2528e8['coin']]}),_0x48f5c2[_0x145990(0x6c)][_0x20e9af]=_0x2528e8;}),_0x208cde[_0x42d195(0x1a6)]({'date':_0x48f5c2[_0x42d195(0x78)],'eur':_0x48f5c2[_0x42d195(0x7c)],'usd':_0x48f5c2[_0x42d195(0xcd)],'offset':_0x2861a0[_0x37745d],'netoffset':_0x1d8d4c,'coins':_0x48f5c2[_0x42d195(0x6c)]});});}return _0x208cde;}function emitPerformance(_0x5d2824){const _0x2370f9=_0x1c7efc;_0x5d2824['length']!==0x0?(proxyEmit(_0x2370f9(0x1d3),_0x5d2824),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x100502,_0x2f74b6){const _0x323d44=_0x1c7efc;let _0x2f83bd=0x0,_0x1cdc9e=0x0,_0x16a10e=0x0;_0x100502[_0x323d44(0x6c)][_0x323d44(0x13a)](_0x16429b=>{const _0x9973b3=_0x323d44;_0x2f83bd+=_0x16429b[_0x9973b3(0x8d)]*_0x16429b[_0x9973b3(0x122)];});_0x2f74b6&&(_0x2f83bd+=_0x100502[_0x323d44(0x15a)]);if(config['basecoin']==='BTC'||config[_0x323d44(0xf2)]===_0x323d44(0x1ae))_0x1cdc9e=_0x2f83bd*_0x100502[_0x323d44(0x7c)],_0x16a10e=_0x2f83bd*_0x100502[_0x323d44(0xcd)];else{if(config[_0x323d44(0xf2)]===_0x323d44(0x1d4)||config[_0x323d44(0xf2)]===_0x323d44(0x8e)||config[_0x323d44(0xf2)]===_0x323d44(0x11c))_0x1cdc9e=_0x2f83bd*_0x100502[_0x323d44(0x7c)]/_0x100502['usd'],_0x16a10e=_0x2f83bd;else config['basecoin']===_0x323d44(0x109)&&(_0x1cdc9e=_0x2f83bd,_0x16a10e=_0x2f83bd*_0x100502['usd']/_0x100502[_0x323d44(0x7c)]);}return[_0x2f83bd,_0x1cdc9e,_0x16a10e];}function getKPIs(_0x448f23,_0xea0a26=_0x1c7efc(0x109)){const _0x311cf3=_0x1c7efc,_0x5d2149=config['basecoin'],_0x377c66=config[_0x311cf3(0x1bb)],_0x291d7a=currentCoins,_0x2e62c9=getNormalizedPerformance(),_0x48113c=_0x448f23===_0x311cf3(0xf2)?_0x5d2149:_0x448f23==='fiat'||_0x448f23===_0x311cf3(0x18f)?_0xea0a26:_0x311cf3(0xda)+_0x5d2149,_0x50c14c=_0x448f23===_0x311cf3(0x173)?'Net\x20effect':_0x448f23==='net-fiat'?_0x311cf3(0xa4)+_0x48113c+')':_0x48113c+_0x311cf3(0x83),_0x4cb1f3=_0x448f23===_0x311cf3(0x173)||_0x448f23==='net-fiat'?_0x311cf3(0x1c7):_0x48113c+_0x311cf3(0x16b);let _0x8919d2=0x0;_0x291d7a[_0x311cf3(0x13a)](_0x5a6c22=>{const _0x499691=_0x311cf3;_0x8919d2+=_0x5a6c22[_0x499691(0x8d)]*_0x5a6c22[_0x499691(0x99)];});if(_0x448f23===_0x311cf3(0xcc)||_0x448f23===_0x311cf3(0x18f)){if(_0x5d2149===_0x311cf3(0x90)||_0x5d2149===_0x311cf3(0x1ae))_0x8919d2=_0x8919d2*(_0xea0a26===_0x311cf3(0x109)?_0x377c66[_0x311cf3(0x7c)]:_0x377c66[_0x311cf3(0xcd)]);else{if(_0x5d2149==='BUSD'||_0x5d2149===_0x311cf3(0x8e)||_0x5d2149===_0x311cf3(0x11c))_0x8919d2=_0x8919d2*(_0xea0a26===_0x311cf3(0x109)?_0x377c66[_0x311cf3(0x7c)]/_0x377c66[_0x311cf3(0xcd)]:0x1);else _0x5d2149===_0x311cf3(0x109)&&(_0x8919d2=_0x8919d2*(_0xea0a26===_0x311cf3(0x109)?0x1:_0x377c66[_0x311cf3(0xcd)]/_0x377c66[_0x311cf3(0x7c)]));}}let _0x308de5;if(_0x8919d2!==0x0){if(_0x448f23==='basecoin')_0x308de5=(_0x8919d2/startingBalances[_0x311cf3(0xf2)]-0x1)*0x64;else{if(_0xea0a26===_0x311cf3(0x109))_0x308de5=(_0x8919d2/startingBalances[_0x311cf3(0x7c)]-0x1)*0x64;else _0x308de5=(_0x8919d2/startingBalances[_0x311cf3(0xcd)]-0x1)*0x64;}let _0x55ae66=0x0;if(startingBalances[_0x311cf3(0x6c)])_0x291d7a['forEach'](_0x8e188e=>{const _0x39a175=_0x311cf3;let _0x498385=startingBalances[_0x39a175(0x6c)]['find'](_0x16d3b8=>_0x16d3b8[_0x39a175(0x12f)]===_0x8e188e['coin']);if(_0x498385&&_0x498385['coin']&&_0x8e188e[_0x39a175(0x8d)]!==0x0)_0x55ae66+=_0x498385[_0x39a175(0x8d)]*_0x8e188e['last'];});let _0x14fa5d=0x0;if(_0x2e62c9[_0x311cf3(0x6b)]!==0x0){let _0x56fca7=_0x2e62c9[_0x2e62c9[_0x311cf3(0x6b)]-0x1];_0x14fa5d=_0x56fca7[_0x311cf3(0x12a)];}_0x55ae66-=_0x14fa5d;_0x448f23===_0x311cf3(0x173)&&(_0x308de5=(_0x8919d2-_0x55ae66)/startingBalances[_0x311cf3(0xf2)]*0x64,_0x8919d2=_0x8919d2-_0x55ae66);if(_0x448f23===_0x311cf3(0x18f)){let _0x55c927=_0xea0a26==='EUR'?startingBalances[_0x311cf3(0x7c)]:startingBalances[_0x311cf3(0xcd)];if(_0x5d2149===_0x311cf3(0x90)||_0x5d2149===_0x311cf3(0x1ae))_0x55ae66=_0xea0a26===_0x311cf3(0x109)?_0x55ae66*_0x377c66[_0x311cf3(0x7c)]:_0x55ae66*_0x377c66[_0x311cf3(0xcd)];else{if(_0x5d2149===_0x311cf3(0x1d4)||_0x5d2149==='USDT'||_0x5d2149===_0x311cf3(0x11c))_0x55ae66=_0xea0a26===_0x311cf3(0x109)?_0x55ae66*_0x377c66[_0x311cf3(0x7c)]/_0x377c66[_0x311cf3(0xcd)]:_0x55ae66;else _0x5d2149===_0x311cf3(0x109)&&(_0x55ae66=_0xea0a26===_0x311cf3(0x109)?_0x55ae66:_0x55ae66*_0x377c66['usd']/_0x377c66[_0x311cf3(0x7c)]);}_0x308de5=(_0x8919d2-_0x55ae66)/_0x55c927*0x64,_0x8919d2=_0x8919d2-_0x55ae66;}if(_0x308de5){if(_0x308de5<0x64)_0x308de5=_0x308de5[_0x311cf3(0x190)](0x2);else{if(_0x308de5<0x3e8)_0x308de5=_0x308de5[_0x311cf3(0x190)](0x1);else _0x308de5=_0x308de5[_0x311cf3(0x190)](0x0);}}else _0x308de5=Number('0')[_0x311cf3(0x190)](0x2);if(_0x8919d2){if(Math[_0x311cf3(0x1b6)](_0x8919d2)<0.000001)_0x8919d2=_0x8919d2['toFixed'](0x2);else{if(Math[_0x311cf3(0x1b6)](_0x8919d2)<0.1)_0x8919d2=_0x8919d2[_0x311cf3(0x190)](0x6);else{if(Math[_0x311cf3(0x1b6)](_0x8919d2)<0x1)_0x8919d2=_0x8919d2[_0x311cf3(0x190)](0x5);else{if(Math[_0x311cf3(0x1b6)](_0x8919d2)<0xa)_0x8919d2=_0x8919d2[_0x311cf3(0x190)](0x4);else{if(Math['abs'](_0x8919d2)<0x64)_0x8919d2=_0x8919d2[_0x311cf3(0x190)](0x3);else{if(Math['abs'](_0x8919d2)<0x3e8)_0x8919d2=_0x8919d2[_0x311cf3(0x190)](0x2);else _0x8919d2=_0x8919d2[_0x311cf3(0x190)](0x2);}}}}}}else _0x8919d2=Number('0')[_0x311cf3(0x190)](0x2);}else _0x308de5=Number('0')['toFixed'](0x2);return{'value':_0x8919d2,'change':_0x308de5,'leftTxt':_0x50c14c,'rightTxt':_0x4cb1f3};}async function getStartingBalances(_0x142a4c,_0x3ac6aa=!![]){const _0x531f67=_0x1c7efc;if(_0x142a4c[_0x531f67(0x6b)]!==0x0){const [_0x32cd0d,_0x31b85f,_0x1711c7]=getPerf(_0x142a4c[0x0],!![]);let _0x49537f=[];config[_0x531f67(0xb9)][_0x531f67(0x13a)](_0x44a1ae=>{const _0x92b471=_0x531f67;let _0x3deec6=0x0,_0xa92516;config[_0x92b471(0x148)][_0x92b471(0x13a)](_0x32af06=>{const _0x494bf8=_0x92b471;let _0x9e3735=_0x32af06['changes']['find'](_0x4add70=>_0x4add70['coin']==_0x44a1ae['coin']);if(_0x9e3735){_0x3deec6+=_0x9e3735[_0x494bf8(0x8d)];if(!_0xa92516)_0xa92516=_0x9e3735[_0x494bf8(0x122)];}}),_0x49537f[_0x92b471(0x1a6)]({'coin':_0x44a1ae['coin'],'number':_0x3deec6,'initialprice':_0xa92516});});const _0x15b24e={'basecoin':_0x32cd0d,'eur':_0x31b85f,'usd':_0x1711c7,'coins':_0x49537f};if(_0x3ac6aa)proxyEmit(_0x531f67(0x10a),_0x15b24e);startingBalances=_0x15b24e;}}function headlessMode(_0x585de7){const _0x56a6bc=_0x1c7efc;let _0x749585=_0x585de7[_0x56a6bc(0xb9)],_0x2f14de=_0x585de7[_0x56a6bc(0xaa)],_0x52dafa=[];for(let _0x229b53 of _0x749585){if(_0x229b53[_0x56a6bc(0x12f)]!=config[_0x56a6bc(0xf2)]){if(_0x229b53[_0x56a6bc(0x1af)]>=_0x2f14de/0x64){if(_0x229b53['valid'])_0x52dafa[_0x56a6bc(0x1a6)](_0x229b53);}else{if(_0x229b53['delta']<=-_0x2f14de/0x64){if(_0x229b53[_0x56a6bc(0xe1)])_0x52dafa[_0x56a6bc(0x1a6)](_0x229b53);}}}}_0x52dafa[_0x56a6bc(0x6b)]>0x0&&placeOrder(_0x52dafa);}function notifyBalance(_0x397f34){const _0x3f9d62=_0x1c7efc;let _0xb27d74=_0x397f34['portfolio'],_0x10ed5c=_0x397f34['threshold'],_0x263b10=[];for(let _0x793442 of _0xb27d74){if(_0x793442[_0x3f9d62(0x12f)]!=config[_0x3f9d62(0xf2)]){if(_0x793442[_0x3f9d62(0x1af)]>=_0x10ed5c/0x64){if(_0x793442[_0x3f9d62(0xe1)])_0x263b10['push'](_0x793442);}else{if(_0x793442[_0x3f9d62(0x1af)]<=-_0x10ed5c/0x64){if(_0x793442[_0x3f9d62(0xe1)])_0x263b10['push'](_0x793442);}}}}if(_0x263b10[_0x3f9d62(0x6b)]>0x0){let _0x140388=_0x263b10['map'](_0x5dbe12=>_0x5dbe12[_0x3f9d62(0x12f)]);_0x140388[_0x3f9d62(0xe2)]();let _0xd19098=_0x140388[_0x3f9d62(0x124)](',\x20');if(!lastCoinsToBalance)logHistory(_0x3f9d62(0x73),_0x3f9d62(0x1cd));lastCoinsToBalance=_0xd19098;}}function symbolToCoin(_0x4bec00){const _0x500115=_0x1c7efc;let _0x5f36eb;if(_0x4bec00[_0x500115(0xc7)]('/'+config[_0x500115(0xf2)]))_0x5f36eb=_0x4bec00[_0x500115(0x15c)]('/'+config[_0x500115(0xf2)],'');if(_0x4bec00[_0x500115(0xc7)](config[_0x500115(0xf2)]+'/'))_0x5f36eb=_0x4bec00[_0x500115(0x15c)](config[_0x500115(0xf2)]+'/','');return _0x5f36eb;}async function unlockOrders(){const _0x49726a=_0x1c7efc;if(allOrdersPlaced&&lockOrders==ORDERS[_0x49726a(0x152)]){logger[_0x49726a(0x104)](_0x49726a(0x187)),lockOrders=ORDERS[_0x49726a(0xde)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x49726a(0xd4),persistOpenOrders([]),lockOrders=ORDERS[_0x49726a(0x11f)],logger[_0x49726a(0x104)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x10ea5c){const _0x2e3743=_0x1c7efc;if(_0x10ea5c)validateOrdersState=_0x10ea5c;logger['debug'](_0x2e3743(0xcf)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x2e3743(0x108):lockOrders==0x2?_0x2e3743(0x199):_0x2e3743(0xa5)));let _0x5d5acf=[],_0x50509e=config[_0x2e3743(0x77)]==_0x2e3743(0x105)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2e3743(0xfd)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2e3743(0x152)])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders['forEach'](_0x2f4bcc=>{const _0x1e9667=_0x2e3743;let _0x2bdb40=![];_0x2f4bcc['filled']>0x0&&(_0x2bdb40=!![]),_0x5d5acf[_0x1e9667(0x1a6)](_0x2bdb40),_0x2bdb40&&config[_0x1e9667(0x77)]!='market'&&logHistory(_0x1e9667(0x135),_0x1e9667(0x11b)+_0x2f4bcc[_0x1e9667(0x1b3)]+'\x20'+_0x2f4bcc[_0x1e9667(0x159)]+'\x20#'+formatResult(_0x2f4bcc[_0x1e9667(0x113)],0x8)+'\x20@'+formatResult(_0x2f4bcc['price'],0x8));}),_0x5d5acf['forEach']((_0x28d946,_0x35b787)=>{const _0x50dcd4=_0x2e3743;if(_0x28d946)lastOrders[_0x50dcd4(0x188)](_0x35b787,0x1);}),persistOpenOrders(lastOrders);const _0x15dd73=coolingDown?_0x2e3743(0x127):_0x2e3743(0x143);if(validateOrdersState==_0x2e3743(0xd4))validateOrdersState='ongoing',_0x5d5acf[_0x2e3743(0xc7)](![])?config[_0x2e3743(0x77)]==_0x2e3743(0x105)?logHistory(_0x2e3743(0x73),_0x2e3743(0xd7)):logHistory(_0x2e3743(0x73),_0x2e3743(0xe4)):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0x5d5acf[_0x2e3743(0xc7)](![])){}else allOrdersPlaced&&(config[_0x2e3743(0x77)]==_0x2e3743(0x105)?logHistory(_0x2e3743(0x98),'Order(s)\x20validated\x20-\x20'+_0x15dd73):logHistory('success',_0x2e3743(0xbe)+_0x15dd73),await unlockOrders());}else{if(validateOrdersState==_0x2e3743(0x13e))_0x5d5acf[_0x2e3743(0xc7)](![])&&(config[_0x2e3743(0x77)]=='market'?logHistory(_0x2e3743(0x98),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x2e3743(0x96)](_0x50509e*validateOrderInterval/0xea60)+_0x2e3743(0x9c)+_0x15dd73):(await cancelOrders(),logHistory(_0x2e3743(0x98),_0x2e3743(0x8c)+Math['round'](_0x50509e*validateOrderInterval/0xea60)+_0x2e3743(0x9c)+_0x15dd73))),await unlockOrders();else{if(validateOrdersState==_0x2e3743(0x88)){if(config['ordertype']!='market')logHistory(_0x2e3743(0x98),_0x2e3743(0x117)+_0x15dd73);await unlockOrders();}}}}}async function cancelOrders(){const _0x2af549=_0x1c7efc;lastOrders[_0x2af549(0x13a)](async _0x53c269=>{const _0x1d0f39=_0x2af549;try{const _0x219dc1=await exchange[_0x1d0f39(0xd6)](_0x53c269['orderId'],_0x53c269[_0x1d0f39(0x1b3)]);}catch(_0x3ddc2a){if(_0x3ddc2a[_0x1d0f39(0x14d)]()[_0x1d0f39(0xc7)](_0x1d0f39(0x1cc))){}else await handleError(_0x3ddc2a,_0x1d0f39(0x184));}});}async function initCoinResults(){const _0xc5d206=_0x1c7efc;let _0x19614f=[];config['portfolio']['forEach'](_0x11d773=>{const _0x3fbf59=_0x4886;if(!_0x11d773[_0x3fbf59(0x171)]&&_0x11d773[_0x3fbf59(0x12f)]!=config[_0x3fbf59(0xf2)]){let _0x7ee30=dbCoinResults[_0x3fbf59(0x169)](_0x3fbf59(0x6c))['find']({'coin':_0x11d773[_0x3fbf59(0x12f)]})[_0x3fbf59(0xfa)]();if(!_0x7ee30){const _0x186610=currentCoins[_0x3fbf59(0x1ca)](_0xeadfaf=>_0xeadfaf[_0x3fbf59(0x12f)]==_0x11d773[_0x3fbf59(0x12f)]),_0x29e8ea=global[_0x3fbf59(0x19a)][noslash(_0x11d773['symbol'])];let _0xc09355=_0x186610?_0x186610[_0x3fbf59(0x8d)]:null,_0x5dc84a=_0x11d773[_0x3fbf59(0x164)]?0x1/_0x29e8ea:_0x29e8ea,_0x287fa8;config[_0x3fbf59(0x148)][_0x3fbf59(0x13a)](_0x11c4fe=>{const _0x3454de=_0x3fbf59;!_0x287fa8&&(_0x287fa8=_0x11c4fe[_0x3454de(0x9b)][_0x3454de(0x1ca)](_0x62575d=>_0x62575d[_0x3454de(0x12f)]==_0x11d773[_0x3454de(0x12f)]),_0x287fa8&&(_0xc09355=_0x287fa8[_0x3454de(0x8d)],_0x5dc84a=_0x287fa8[_0x3454de(0x122)]));}),_0x19614f[_0x3fbf59(0x1a6)]({'coin':_0x11d773['coin'],'number':_0xc09355,'price':_0x5dc84a});}}}),_0x19614f[_0xc5d206(0x13a)](_0x25c580=>{const _0x4c4b2d=_0xc5d206,_0x553eec={'coin':_0x25c580[_0x4c4b2d(0x12f)],'number':_0x25c580[_0x4c4b2d(0x8d)],'breakeven':_0x25c580['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4c4b2d(0x169)](_0x4c4b2d(0x6c))[_0x4c4b2d(0x1a6)](_0x553eec)[_0x4c4b2d(0x1c5)]();});}async function updateCoinResults(_0x53b29a,_0x405a0d=![]){const _0x44cc55=_0x1c7efc;let _0x3897ae,_0x523e4b,_0x137379,_0xf35e39,_0x5952ed,_0x470ec7,_0x4a0c97=dbCoinResults[_0x44cc55(0x169)]('coins')[_0x44cc55(0x1ca)]({'coin':_0x53b29a[_0x44cc55(0x12f)]})[_0x44cc55(0xfa)]();!_0x4a0c97&&await initCoinResults();_0x53b29a[_0x44cc55(0x164)]&&(_0x470ec7={'filled':_0x53b29a[_0x44cc55(0x113)]*_0x53b29a[_0x44cc55(0x122)],'amount':_0x53b29a[_0x44cc55(0x113)]*_0x53b29a['price'],'side':_0x53b29a[_0x44cc55(0x159)]=='sell'?_0x44cc55(0xf0):_0x44cc55(0x81),'price':0x1/_0x53b29a[_0x44cc55(0x122)]},_0x53b29a={..._0x53b29a,..._0x470ec7});_0x405a0d?_0x523e4b=_0x53b29a['side']==_0x44cc55(0xf0)?_0x4a0c97[_0x44cc55(0x8d)]+_0x53b29a[_0x44cc55(0x113)]:_0x4a0c97[_0x44cc55(0x8d)]-_0x53b29a[_0x44cc55(0x113)]:_0x523e4b=await getCoinNumber(_0x53b29a[_0x44cc55(0x12f)]);if(_0x53b29a['fee']&&_0x53b29a['fee'][_0x44cc55(0x189)]==config[_0x44cc55(0xf2)])_0x3897ae=_0x53b29a['fee'][_0x44cc55(0x7a)];else{if(_0x53b29a[_0x44cc55(0x193)]&&_0x53b29a[_0x44cc55(0x193)]['currency']==_0x44cc55(0xd8)&&!_0x405a0d)_0x3897ae=_0x53b29a['fee'][_0x44cc55(0x7a)]*global[_0x44cc55(0x19a)][_0x44cc55(0xd8)+config[_0x44cc55(0xf2)]];else _0x3897ae=defaultFee*_0x53b29a[_0x44cc55(0x113)]*_0x53b29a[_0x44cc55(0x122)];}_0x53b29a[_0x44cc55(0x159)]==_0x44cc55(0xf0)?(_0x137379=_0x523e4b!=0x0?(_0x4a0c97[_0x44cc55(0x15b)]*_0x4a0c97[_0x44cc55(0x8d)]+_0x53b29a[_0x44cc55(0x122)]*(_0x523e4b-_0x4a0c97[_0x44cc55(0x8d)])+_0x3897ae)/_0x523e4b:0x0,_0xf35e39=_0x4a0c97[_0x44cc55(0x1d8)]):(_0x137379=_0x523e4b!=0x0?(_0x4a0c97[_0x44cc55(0x15b)]*_0x4a0c97[_0x44cc55(0x8d)]-_0x53b29a['price']*(_0x4a0c97['number']-_0x523e4b)+_0x3897ae)/_0x523e4b:0x0,_0xf35e39=_0x4a0c97[_0x44cc55(0x1d8)]+(_0x53b29a[_0x44cc55(0x122)]-_0x4a0c97['breakeven'])*_0x53b29a[_0x44cc55(0x113)]);_0x5952ed=(_0x53b29a[_0x44cc55(0x122)]-_0x137379-_0x3897ae/_0x53b29a[_0x44cc55(0x113)])*_0x523e4b;let _0x178a6e={'coin':_0x53b29a[_0x44cc55(0x12f)],'number':_0x523e4b,'breakeven':formatResult(_0x137379,0x8),'realized':formatResult(_0xf35e39,0x8),'unrealized':formatResult(_0x5952ed,0x8),'fees':formatResult(_0x4a0c97['fees']+_0x3897ae,0x8),'sells':_0x53b29a[_0x44cc55(0x159)]=='sell'?_0x4a0c97[_0x44cc55(0xf3)]+0x1:_0x4a0c97[_0x44cc55(0xf3)],'buys':_0x53b29a[_0x44cc55(0x159)]==_0x44cc55(0xf0)?_0x4a0c97[_0x44cc55(0x17b)]+0x1:_0x4a0c97[_0x44cc55(0x17b)]};dbCoinResults[_0x44cc55(0x169)]('coins')[_0x44cc55(0x1ca)]({'coin':_0x53b29a[_0x44cc55(0x12f)]})['assign'](_0x178a6e)[_0x44cc55(0x1c5)]();if(!_0x405a0d){if(_0x53b29a[_0x44cc55(0x193)]&&_0x53b29a['fee'][_0x44cc55(0x189)]=='BNB'){const _0x198310=currentCoins['find'](_0x2f464e=>_0x2f464e['coin']==_0x44cc55(0xd8));if(_0x198310){let _0x14e122=dbCoinResults[_0x44cc55(0x169)]('coins')[_0x44cc55(0x1ca)]({'coin':_0x44cc55(0xd8)})[_0x44cc55(0xfa)]();_0x178a6e={..._0x14e122,'number':_0x198310[_0x44cc55(0x8d)]},dbCoinResults[_0x44cc55(0x169)](_0x44cc55(0x6c))[_0x44cc55(0x1ca)]({'coin':_0x44cc55(0xd8)})['assign'](_0x178a6e)['write']();}}}}function _0x4886(_0x4ba9e4,_0xfcb2d2){const _0x1e3995=_0x2214();return _0x4886=function(_0x1e6cfa,_0x4dd596){_0x1e6cfa=_0x1e6cfa-0x67;let _0x2214de=_0x1e3995[_0x1e6cfa];return _0x2214de;},_0x4886(_0x4ba9e4,_0xfcb2d2);}async function placeOrder(_0x8611bb){const _0x287c6e=_0x1c7efc,_0x2a4047=config[_0x287c6e(0x77)]==_0x287c6e(0x105)?_0x287c6e(0x105):_0x287c6e(0xbf);if(lockOrders==ORDERS[_0x287c6e(0x11f)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x287c6e(0x152)],allOrdersPlaced=![],validateOrdersState=_0x287c6e(0xd4),lastOrders=[];for(const _0xde84dc of _0x8611bb){let _0x327f85,_0x4d86f4,_0x3935a0,_0x632711,_0x4e356e,_0x6749de=_0xde84dc[_0x287c6e(0x1b3)];try{const _0x5da1f5=await exchange[_0x287c6e(0x6a)](_0x6749de);_0x327f85=_0xde84dc['reverse']?0x1/_0xde84dc['last']:_0xde84dc[_0x287c6e(0x99)],_0x4d86f4=_0x5da1f5['bid'],_0x3935a0=_0x5da1f5['ask'];_0xde84dc[_0x287c6e(0x164)]?(_0x632711=_0xde84dc[_0x287c6e(0x159)]==_0x287c6e(0xf0)?_0x287c6e(0x81):_0x287c6e(0xf0),_0x4e356e=Math[_0x287c6e(0x1b6)](_0xde84dc[_0x287c6e(0x1c4)])/_0x327f85):(_0x632711=_0xde84dc[_0x287c6e(0x159)],_0x4e356e=Math[_0x287c6e(0x1b6)](_0xde84dc['trade']));_0x2a4047==_0x287c6e(0xbf)&&(config[_0x287c6e(0x77)]==_0x287c6e(0xdf)&&(_0x327f85=_0x632711==_0x287c6e(0xf0)?_0x4d86f4:_0x3935a0),config['ordertype']==_0x287c6e(0x168)&&(_0x327f85=_0x632711==_0x287c6e(0xf0)?_0x3935a0:_0x4d86f4));_0x4e356e=formatResult(_0x4e356e,0x8),_0x327f85=formatResult(_0x327f85,0x8);const _0x578f0e=_0x632711==_0x287c6e(0x81)?config[_0x287c6e(0x196)]?String[_0x287c6e(0x163)]('0x'+config[_0x287c6e(0x196)])+'\x20':'':config[_0x287c6e(0x11d)]?String[_0x287c6e(0x163)]('0x'+config['emojibuy'])+'\x20':'',_0x3b6611=_0x2a4047==_0x287c6e(0x105)?_0x287c6e(0x151):config[_0x287c6e(0x77)]==_0x287c6e(0xdf)?_0x287c6e(0x6e):'Limit\x20(low-margin)',_0x2b4bfb=new Date()[_0x287c6e(0x79)]()[_0x287c6e(0x14d)]()['slice'](-0x6)+'-'+Math[_0x287c6e(0x1d1)]()[_0x287c6e(0x14d)]()[_0x287c6e(0x87)](-0x6);lastOrders[_0x287c6e(0x1a6)]({'customId':_0x2b4bfb,'symbol':_0x6749de,'coin':_0xde84dc['coin'],'side':_0x632711,'reverse':_0xde84dc[_0x287c6e(0x164)],'filled':0x0});if(_0x2a4047==_0x287c6e(0x105))logHistory(_0x287c6e(0x135),''+_0x578f0e+_0x3b6611+'\x20order:\x20'+_0x6749de+'\x20'+_0x632711+'\x20#'+formatResult(_0x4e356e,0x8)+'\x20@'+formatResult(_0x327f85,0x8));else logHistory(_0x287c6e(0x135),''+_0x578f0e+_0x3b6611+_0x287c6e(0x1c8)+_0x6749de+'\x20'+_0x632711+'\x20#'+formatResult(_0x4e356e,0x8)+'\x20@'+formatResult(_0x327f85,0x8));const _0x445c07=await exchange[_0x287c6e(0x130)](_0x6749de,_0x2a4047,_0x632711,_0x4e356e,_0x327f85,{'clientOrderId':_0x2b4bfb}),_0x3bed41=lastOrders[_0x287c6e(0x6b)]-0x1;_0x3bed41>=0x0&&lastOrders[_0x3bed41]['customId']==_0x2b4bfb&&(lastOrders[_0x3bed41]={...lastOrders[_0x3bed41],'orderId':_0x445c07['id'],'amount':_0x445c07[_0x287c6e(0xd0)],'price':_0x445c07[_0x287c6e(0x122)],'fee':_0x445c07['fee']});if(config['cooldown']!=0x0){let _0x186733=null;if(cooldownTracker[_0x287c6e(0x6b)]==config[_0x287c6e(0xa0)]-0x1)_0x186733=cooldownTracker[_0x287c6e(0x74)]();const _0x224c33=getTimeStamp();cooldownTracker[_0x287c6e(0x1a6)](_0x224c33);if(_0x186733){const _0x466057=fns['differenceInSeconds'](new Date(_0x224c33),new Date(_0x186733));if(_0x466057<cooldownInterval){logHistory(_0x287c6e(0x197),_0x287c6e(0x136)+config[_0x287c6e(0xa0)]+_0x287c6e(0x75)+cooldownInterval/0x3c+_0x287c6e(0x120)+cooldownPeriod/(0xe10*0x3e8)+_0x287c6e(0xe7)),coolingDown=!![];break;}}}}catch(_0x272cc9){if(_0x272cc9[_0x287c6e(0x14d)]()[_0x287c6e(0xc7)](_0x287c6e(0x153)))lastOrders=lastOrders[_0x287c6e(0x145)](_0x20b79f=>_0x20b79f[_0x287c6e(0x1b3)]!=_0x6749de),logHistory('error',_0x287c6e(0x1c1)+_0x6749de);else _0x272cc9['toString']()[_0x287c6e(0xc7)](_0x287c6e(0x9a))?(lastOrders=lastOrders[_0x287c6e(0x145)](_0x189731=>_0x189731[_0x287c6e(0x1b3)]!=_0x6749de),logHistory('error',_0x287c6e(0x112)+_0x6749de)):(lastOrders=lastOrders[_0x287c6e(0x145)](_0x28c68b=>_0x28c68b['symbol']!=_0x6749de),await handleError(_0x272cc9,_0x287c6e(0x106),_0x6749de));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x287c6e(0x6b)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4edea7=config[_0x287c6e(0x77)]==_0x287c6e(0x105)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x22879a=_0x287c6e;validateOrders(_0x22879a(0x13e));},_0x4edea7);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x287c6e(0x98),_0x287c6e(0x1a1)));}else{if(coolingDown)!config[_0x287c6e(0xb8)]&&logHistory(_0x287c6e(0x197),_0x287c6e(0x89));else lockOrders!=ORDERS[_0x287c6e(0x11f)]&&(!config[_0x287c6e(0xb8)]&&(config[_0x287c6e(0x77)]=='market'?logHistory(_0x287c6e(0x197),_0x287c6e(0x69)):logHistory(_0x287c6e(0x197),_0x287c6e(0x107))));}}function persistOpenOrders(_0x18441d){const _0x40a49b=_0x1c7efc,_0x3507b4={...config,'openOrders':_0x18441d};let _0x40331d=dbConfig[_0x40a49b(0x169)](_0x40a49b(0x195))[_0x40a49b(0x1ca)]({'botID':botID})['value']();_0x40331d&&dbConfig[_0x40a49b(0x169)]('bot')[_0x40a49b(0x1ca)]({'botID':botID})[_0x40a49b(0xc0)](_0x3507b4)[_0x40a49b(0x1c5)]();}function restoreOrders(){const _0x4d7a21=_0x1c7efc;let _0xf041ef;config[_0x4d7a21(0xe5)]&&allOpenOrders[_0x4d7a21(0x13a)](_0x272ddd=>{const _0x37075b=_0x4d7a21,_0x238b17=config['openOrders']['find'](_0x458b43=>_0x458b43[_0x37075b(0x14c)]==_0x272ddd['id']);_0x238b17&&(lastOrders['push'](_0x238b17),_0xf041ef=_0x272ddd[_0x37075b(0xfb)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x4d7a21(0x152)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x48185a=new Date()['getTime'](),_0x26895a=config[_0x4d7a21(0x77)]==_0x4d7a21(0x105)?validateOrderTimeout*0x3c*0x3e8:config[_0x4d7a21(0xfd)]*0x3c*0x3e8;if(_0xf041ef+_0x26895a>_0x48185a){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x154490=_0x4d7a21;validateOrders(_0x154490(0x13e));},_0xf041ef+_0x26895a-_0x48185a);}else validateOrders(_0x4d7a21(0x13e));}}async function sendPortfolioTelegram(){const _0x49056f=_0x1c7efc;if(!coinsLoaded){process[_0x49056f(0x95)]({'telegrammsg':_0x49056f(0xe9)},_0x44fe75=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0xfeed5b=['EUR',_0x49056f(0x11c),'BUSD','USDT'],_0x1715aa=_0xfeed5b['includes'](config[_0x49056f(0xf2)])?0x2:0x8;let _0x418cda='';if(config[_0x49056f(0x12e)])_0x418cda='<b>'+config[_0x49056f(0x14b)]+_0x49056f(0x175);else _0x418cda=_0x49056f(0xc3)+botID+_0x49056f(0x175);const _0x18ea13=getKPIs('basecoin'),_0x3113aa=getKPIs(_0x49056f(0x173));_0x418cda+='<pre>',_0x418cda+=_0x18ea13[_0x49056f(0x147)]+_0x49056f(0xad)+_0x18ea13['value']+'\x20\x0a',_0x418cda+=_0x18ea13[_0x49056f(0x16a)]+':\x20'+_0x18ea13['change']+'%\x20\x0a',_0x418cda+=_0x3113aa[_0x49056f(0x147)]+':\x20'+_0x3113aa[_0x49056f(0xfa)]+'\x20'+config[_0x49056f(0xf2)]+'\x0a',_0x418cda+=_0x3113aa['rightTxt']+':\x20'+_0x3113aa['change']+_0x49056f(0x16e),_0x418cda+='\x0a',_0x418cda+=_0x49056f(0x10c),_0x418cda+=_0x49056f(0x9f),_0x418cda+='-------------------------------\x0a',currentCoins['forEach'](_0x31bca6=>{const _0x53cb1b=_0x49056f;_0x418cda+=_0x31bca6[_0x53cb1b(0x12f)]['padEnd'](0x7)+'|\x20'+formatPad(_0x31bca6['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x31bca6['target'],0x2,0x6)+'|\x20'+formatPad(_0x31bca6['delta']*0x64,0x2,0x6)+'\x0a';}),_0x418cda+=_0x49056f(0x146),process[_0x49056f(0x95)]({'telegrammsg':_0x418cda},_0x4e1aa9=>{});}function formatPad(_0x35d8bc,_0x4da35a,_0x32228d){const _0x4a11c2=formatResultString(_0x35d8bc,_0x4da35a);return _0x4a11c2?_0x4a11c2['padStart'](_0x32228d):''['padStart'](_0x32228d);}function logHistory(_0x1cb600,_0x1424aa,_0x2fc267=''){const _0xb47b81=_0x1c7efc;let _0x34a799={'time':getTimeStamp(),'type':_0x1cb600,'event':_0x1424aa};dbLogs[_0xb47b81(0x169)](_0xb47b81(0x138))['push'](_0x34a799)['write']();if(_0x2fc267=='')_0x2fc267=_0x1424aa;proxyEmit(_0xb47b81(0x67),{'log':_0x34a799,'summary':_0x2fc267}),process[_0xb47b81(0x95)]({'telegram':{..._0x34a799,'botname':config[_0xb47b81(0x14b)],'showname':config[_0xb47b81(0x12e)]}},_0x116640=>{}),logger[_0xb47b81(0xe6)](''+_0x34a799[_0xb47b81(0x67)]);}function emitHistory(_0x29de6b={}){const _0x2c5123=_0x1c7efc;Object[_0x2c5123(0x1db)](_0x29de6b)['length']==0x0&&(_0x29de6b={'type':['order','event'],'event':'','page':0x1});if(_0x29de6b['type'][_0x2c5123(0xc7)](_0x2c5123(0x67)))_0x29de6b[_0x2c5123(0xb6)][_0x2c5123(0x188)](_0x29de6b[_0x2c5123(0xb6)][_0x2c5123(0x1be)](_0x2c5123(0x67)),0x1,'error',_0x2c5123(0x98));if(dbLogs['has']('logs')[_0x2c5123(0xfa)]()){let _0x278b64=dbLogs['get'](_0x2c5123(0x138))['filter'](_0x1b0d9b=>{const _0x9dc497=_0x2c5123;if(_0x29de6b['type'][_0x9dc497(0x6b)]==0x0)return![];else return _0x29de6b['type']['includes'](_0x1b0d9b[_0x9dc497(0xb6)]);})['filter'](_0x3538bb=>{const _0x695e6f=_0x2c5123;if(_0x29de6b['event']=='')return!![];else return _0x3538bb['event'][_0x695e6f(0xf7)]()[_0x695e6f(0xc7)](_0x29de6b[_0x695e6f(0x67)][_0x695e6f(0xf7)]());})[_0x2c5123(0x156)]('time'),_0x2ec3dd=_0x278b64[_0x2c5123(0xfa)]()[_0x2c5123(0x6b)];_0x278b64=_0x278b64[_0x2c5123(0x164)]()['slice']((_0x29de6b[_0x2c5123(0xa7)]-0x1)*logPageSize,_0x29de6b[_0x2c5123(0xa7)]*logPageSize-0x1)[_0x2c5123(0x164)]()[_0x2c5123(0xfa)](),proxyEmit(_0x2c5123(0xdd),{'logs':_0x278b64,'total':_0x2ec3dd});}else proxyEmit(_0x2c5123(0xdd),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x47beb2){const _0x4cd81a=_0x1c7efc;if(dbLogs['has'](_0x4cd81a(0x138))[_0x4cd81a(0xfa)]()){const _0x18d8e5=dbLogs['get']('logs')[_0x4cd81a(0x156)](_0x4cd81a(0x1a8))['filter'](_0x4cdb3d=>{const _0x269a37=_0x4cd81a;return _0x4cdb3d['type']==_0x269a37(0x135);})[_0x4cd81a(0xfa)]();dbLogs[_0x4cd81a(0x169)](_0x4cd81a(0x138))['remove']()[_0x4cd81a(0x1c5)](),dbLogs[_0x4cd81a(0x169)]('logs')[_0x4cd81a(0xc0)](_0x18d8e5)[_0x4cd81a(0x1c5)](),emitHistory(_0x47beb2);}}async function pauseBot(_0x1b1601=''){const _0x2a6bcc=_0x1c7efc,_0x38f464=new Date()[_0x2a6bcc(0x79)]();if(!lastErrorShown||_0x38f464-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x38f464;!lastBotPause?(lastBotPause=_0x38f464,consecutivePauses=0x1):(_0x38f464-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x2a6bcc(0x95)]({'stop':_0x2a6bcc(0x14f)},_0x1c9ab3=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x2a6bcc(0x79)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x1b1601)_0x1b1601+=_0x2a6bcc(0x15f);logHistory('error',_0x1b1601+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x2a6bcc(0x1d6)),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){const _0x56fe50=_0x1c7efc;process[_0x56fe50(0x95)]({'stop':_0x56fe50(0xb2)},_0xefad18=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1afdb1,_0x3d2bcf){const _0x586aef=_0x1c7efc;if(_0x1afdb1[_0x586aef(0x14d)]()['includes'](_0x586aef(0x131)))return logHistory(_0x586aef(0x197),config['exchange']+_0x586aef(0x1ac)),![];else{if(_0x1afdb1[_0x586aef(0x14d)]()['includes'](_0x586aef(0x157)))return logHistory('error',config[_0x586aef(0x80)]+_0x586aef(0xc4)),![];else{if(_0x1afdb1['toString']()[_0x586aef(0xc7)](_0x586aef(0x101)))return logHistory(_0x586aef(0x197),config['exchange']+_0x586aef(0x179)+config[_0x586aef(0x80)]),![];else await handleError(_0x1afdb1,_0x3d2bcf);}}}async function handleError(_0x39fa01,_0x17d46f,_0x11061a=''){const _0x1c6715=_0x1c7efc;if(_0x39fa01['toString']()[_0x1c6715(0xc7)]('DDoSProtection'))await pauseBot(config[_0x1c6715(0x80)]+_0x1c6715(0x19d));else{if(_0x39fa01[_0x1c6715(0x14d)]()[_0x1c6715(0xc7)](_0x1c6715(0x158)))await pauseBot(config[_0x1c6715(0x80)]+_0x1c6715(0x176));else{if(_0x39fa01[_0x1c6715(0x14d)]()[_0x1c6715(0xc7)](_0x1c6715(0x6f)))await pauseBot(config[_0x1c6715(0x80)]+_0x1c6715(0x71));else{if(_0x39fa01[_0x1c6715(0x14d)]()[_0x1c6715(0xc7)](_0x1c6715(0x17f)))logHistory(_0x1c6715(0x197),_0x17d46f+_0x1c6715(0x183)),logHistory(_0x1c6715(0x197),_0x1c6715(0x160)),await killBot();else{if(_0x39fa01[_0x1c6715(0x14d)]()['includes']('InvalidNonce'))logHistory('error',_0x17d46f+_0x1c6715(0x85)),logHistory(_0x1c6715(0x197),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x39fa01[_0x1c6715(0x14d)]()['includes'](_0x1c6715(0x131)))logHistory(_0x1c6715(0x197),_0x17d46f+_0x1c6715(0x15f)+config[_0x1c6715(0x80)]+_0x1c6715(0x1ac)),logHistory('error',_0x1c6715(0x160)),await killBot();else{if(_0x39fa01[_0x1c6715(0x14d)]()[_0x1c6715(0xc7)](_0x1c6715(0x157)))logHistory(_0x1c6715(0x197),_0x17d46f+'\x20|\x20'+config['exchange']+_0x1c6715(0xc4)),logHistory(_0x1c6715(0x197),_0x1c6715(0x160)),await killBot();else{if(_0x39fa01['toString']()[_0x1c6715(0xc7)](_0x1c6715(0x101)))logHistory(_0x1c6715(0x197),_0x17d46f+_0x1c6715(0x15f)+config['exchange']+_0x1c6715(0xa2)+config['exchange']),logHistory(_0x1c6715(0x197),_0x1c6715(0x160)),await killBot();else _0x39fa01[_0x1c6715(0x14d)]()[_0x1c6715(0xc7)]('InsufficientFunds')?logHistory(_0x1c6715(0x197),_0x17d46f+_0x1c6715(0xb4)+_0x11061a):(logger[_0x1c6715(0xe6)](_0x17d46f+'\x20|\x20Error\x20details:\x20',_0x39fa01),await pauseBot(_0x1c6715(0x8b)));}}}}}}}}function formatResult(_0xea5922,_0x5adea4){const _0x2d1918=_0x1c7efc;return parseFloat(_0xea5922[_0x2d1918(0x190)](_0x5adea4));}function formatResultTruncate(_0x23eb21,_0x3bf466){let _0x2fa53e=formatResultString(_0x23eb21,0xa),_0x72d9ed=_0x2fa53e['indexOf']('.');return _0x72d9ed!=-0x1&&(_0x2fa53e=_0x2fa53e['slice'](0x0,_0x72d9ed+_0x3bf466+0x1)),Number(_0x2fa53e);}function formatResultString(_0x3b4d31,_0x2c10f1){const _0x36fe86=_0x1c7efc;let _0x592a0e;if(!(''+_0x3b4d31)[_0x36fe86(0xc7)]('e'))_0x592a0e=+(Math[_0x36fe86(0x96)](_0x3b4d31+'e+'+_0x2c10f1)+'e-'+_0x2c10f1);else{let _0x35adba=(''+_0x3b4d31)[_0x36fe86(0x6d)]('e'),_0x3fc79b='';+_0x35adba[0x1]+_0x2c10f1>0x0&&(_0x3fc79b='+'),_0x592a0e=+(Math[_0x36fe86(0x96)](+_0x35adba[0x0]+'e'+_0x3fc79b+(+_0x35adba[0x1]+_0x2c10f1))+'e-'+_0x2c10f1);}return Number(_0x592a0e)[_0x36fe86(0x190)](_0x2c10f1);}function getServerTime(){const _0x20464c=_0x1c7efc,_0x1284dc=new Date();return _0x1284dc[_0x20464c(0xcb)]()+'/'+(_0x1284dc[_0x20464c(0xee)]()+0x1)['toString']()[_0x20464c(0x13b)](0x2,'0')+'/'+_0x1284dc[_0x20464c(0x1a7)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x1284dc[_0x20464c(0x1c6)]()[_0x20464c(0x14d)]()[_0x20464c(0x13b)](0x2,'0')+':'+_0x1284dc[_0x20464c(0xe3)]()[_0x20464c(0x14d)]()[_0x20464c(0x13b)](0x2,'0')+':'+_0x1284dc[_0x20464c(0x162)]()[_0x20464c(0x14d)]()[_0x20464c(0x13b)](0x2,'0');}function getTimeStamp(){const _0x3bf52a=_0x1c7efc,_0x194478=shiftedTime();return _0x194478[_0x3bf52a(0xcb)]()+'/'+(_0x194478['getMonth']()+0x1)[_0x3bf52a(0x14d)]()['padStart'](0x2,'0')+'/'+_0x194478[_0x3bf52a(0x1a7)]()[_0x3bf52a(0x14d)]()[_0x3bf52a(0x13b)](0x2,'0')+'\x20'+_0x194478[_0x3bf52a(0x1c6)]()['toString']()['padStart'](0x2,'0')+':'+_0x194478[_0x3bf52a(0xe3)]()['toString']()[_0x3bf52a(0x13b)](0x2,'0')+':'+_0x194478['getSeconds']()[_0x3bf52a(0x14d)]()[_0x3bf52a(0x13b)](0x2,'0');}function getDate(){const _0x115db1=_0x1c7efc,_0x3d7043=shiftedTime();return _0x3d7043['getFullYear']()+'/'+(_0x3d7043[_0x115db1(0xee)]()+0x1)[_0x115db1(0x14d)]()['padStart'](0x2,'0')+'/'+_0x3d7043[_0x115db1(0x1a7)]()[_0x115db1(0x14d)]()['padStart'](0x2,'0');}function getHour(){const _0x1fe630=_0x1c7efc,_0x3a183d=shiftedTime();return _0x3a183d[_0x1fe630(0x1c6)]()[_0x1fe630(0x14d)]()[_0x1fe630(0x13b)](0x2,'0');}function sleep(_0x275d1b){return new Promise(_0x489f3e=>setTimeout(_0x489f3e,_0x275d1b));}function shiftedTime(){const _0x180c9c=_0x1c7efc,_0x3418be=new Date();let _0x116f42=_0x3418be;if(config&&config[_0x180c9c(0x182)]!==0x0)_0x116f42=fns[_0x180c9c(0xc6)](_0x3418be,{'hours':config[_0x180c9c(0x182)]});return _0x116f42;}function timer(_0x44f72d){const _0x44c9b0=_0x1c7efc,_0x36cbfe=new Date();!lasttime?console[_0x44c9b0(0x17e)](_0x44c9b0(0x118),_0x44f72d,_0x36cbfe):console[_0x44c9b0(0x17e)](_0x44c9b0(0x118),_0x44f72d,(_0x36cbfe-lasttime)/0x3e8),lasttime=_0x36cbfe;}function _0x2214(){const _0x9ebe67=['(((.+)+)+)+$','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','cooldown','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','lowdb/adapters/FileSync','Net\x20effect\x20(','ORDERS.UNLOCKED','Whitebit','page','findIndex','************','threshold','3424dmeOya','pro','\x20:\x20','Mexc','max','Bitmex','stringify','kill','concat','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','simple','type','clientOrderId','headless','portfolio','Huobipro','./logs/','percentage','2.6.0','Order(s)\x20filled\x20-\x20','limit','assign','parse','.json','<b>Bot\x20','\x20API\x20secret\x20is\x20invalid','1\x20-\x20FILLED:\x20','add','includes','configuration','Binancecoinm','decrypt','getFullYear','fiat','usd','1\x20-\x20Handle\x20open\x20orders','1\x20-\x20Validate\x20orders:\x20','amount','Okex','-results.json','getOpenOrders()','initial','\x20has\x20a\x2024h\x20drop\x20of\x20','cancelOrder','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','BNB','datetime','Net\x20','test','change','event-history','UNLOCKING','limit-high','Cryptocom','valid','sort','getMinutes','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','openOrders','full','\x20hour','yyyy-MM-dd\x27T\x27HH:mm:ss','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','getCoinNumber()','apiKey','progress','Deribit','getMonth','HOT/BTC','buy','placeOrder','basecoin','sells','cancelLoading','Executing\x20exchange\x20reload','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','toLowerCase','Binanceus','getCoins()','value','timestamp','2\x20-\x20Handled\x20open\x20orders','timeout','3\x20-\x20handling\x20FILLED\x20order:\x20','/backup/','Okx','AuthenticationError','Bybit','remove','debug','market','placeOrder()','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','ORDERS.LOCKED','EUR','starting-balances','fetchOpenOrders','-------------------------------\x0a','watchOrders','Bitmart','2\x20-\x20FILLED\x20known\x20order:\x20','2294520bqvGPC','1233072WTOfjY','Order\x20amount\x20is\x20invalid:\x20','filled','62750fBckOJ','botID','\x20>\x20','No\x20more\x20open\x20orders\x20-\x20','timer:','\x20>\x20[DEBUG]\x20','data','Order\x20filled:\x20','USD','emojibuy','args','UNLOCKED','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','set','price','Crypt','join','close','date-fns','balancing\x20resumes\x20when\x20cooldown\x20ends','startdate','319180tTvpXN','netoffset','BNB/','27379792TyflBA','message','showname','coin','createOrder','API-key\x20format\x20invalid','substring','watchTrades','freeze','order','Executed\x20','canceled','logs','symbols','forEach','padStart','Error:\x20Invalid\x20argument\x20',':\x20Bot\x20','final','ccxt','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','yyyy/MM/dd','storeConfiguration','balancing\x20resumed','exchanges','filter','</pre>','leftTxt','liquidity','open','loadSymbols()','botname','orderId','toString','0\x20-\x20EXECUTION:\x20','restart','bb-settings.json','Market','LOCKED','MIN_NOTIONAL','Binance','entries','sortBy','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','ExchangeNotAvailable','side','offset','breakeven','replace','defaults','version','\x20|\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','-performance.json','getSeconds','fromCodePoint','reverse','remainingSymbols','limits','\x20exchange','limit-low','get','rightTxt','\x20change','-config.json','distribution','%\x20\x0a','Okcoin','argv','excluded','fetchBalance','net-basecoin','apply','\x20portfolio:</b>\x20\x0a\x0a','\x20not\x20available','fetchClosedOrders','521VGZOAa','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','21kZXUvm','buys','configuration-stored','Reset\x20|\x20','log','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','DAI/','coin-loading-progress','timeshift','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','cancelOrders()','privateKey','startprice','1\x20-\x20Unlock\x20orders','splice','currency','./config/','getStartingBalances','Hollaex','min','NANO/','net-fiat','toFixed','total','RSA-OAEP','fee','closed','bot','emojisell','error','Gate','ORDERS.UNLOCKING','ticker','3432684JSXlNF','42hQgANA','\x20API\x20blocked\x20(DDoS\x20protection)','2.3.5','isEqual','Pausing\x20for\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','2\x20-\x20FILLED\x20unknown\x20order:\x20','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','/EUR','hybrid-crypto-js','push','getDate','time','recovery','Bitget','./version.json','\x20API\x20key\x20is\x20invalid','search','ETH','delta','function','yargs/yargs','apiSecret','symbol','2.5.0','recreate','abs','running','cancel','001','precision','balances','bb-secure.json','mkdirSync','indexOf','showConfig','Gateio','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','***','Bitfinex2','trade','write','getHours','Net\x20effect','\x20order:\x20','secure','find','settings','OrderNotFound','Manual\x20balancing\x20required','recreateCoinResults()','none','Coinex','random','initclient','performance','BUSD','exec','\x20minutes','cloneDeep','realized','emitHistory','loadMarkets','keys','existsSync','event','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','fetchTicker','length','coins','split','Limit\x20(high-margin)','RequestTimeout','orderstatus','\x20not\x20responding','765ZCFGQi','warning','shift','\x20orders\x20in\x20less\x20than\x20','string','ordertype','date','getTime','cost','bot-','eur','Cex','enabled','format','exchange','sell','change24h','\x20value','Coinbaseprime','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','target','slice','no\x20open\x20orders','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Huobi','Unknown\x20error\x20occured','Unfilled\x20order(s)\x20canceled\x20after\x20','number','USDT','customId','BTC','milliseconds','-events.json','Ascendex','getPortfolio','send','round','getPortfolio()','success','last','Invalid\x20quantity','changes','\x20minutes\x20-\x20','toggleBotMode'];_0x2214=function(){return _0x9ebe67;};return _0x2214();}