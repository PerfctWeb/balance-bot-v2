const _0x40c748=_0x1a68;(function(_0x206036,_0x2e3298){const _0x567183=_0x1a68,_0x3b4fdb=_0x206036();while(!![]){try{const _0x52ebdd=-parseInt(_0x567183(0x1de))/0x1*(parseInt(_0x567183(0x289))/0x2)+-parseInt(_0x567183(0x1cc))/0x3+-parseInt(_0x567183(0x1ab))/0x4*(-parseInt(_0x567183(0x19a))/0x5)+parseInt(_0x567183(0x17b))/0x6*(parseInt(_0x567183(0x27f))/0x7)+-parseInt(_0x567183(0x1a0))/0x8*(parseInt(_0x567183(0x11d))/0x9)+parseInt(_0x567183(0x12c))/0xa*(-parseInt(_0x567183(0x1b0))/0xb)+parseInt(_0x567183(0x211))/0xc*(parseInt(_0x567183(0x267))/0xd);if(_0x52ebdd===_0x2e3298)break;else _0x3b4fdb['push'](_0x3b4fdb['shift']());}catch(_0x5a3799){_0x3b4fdb['push'](_0x3b4fdb['shift']());}}}(_0x1364,0xb5463));const _0x546148=function(){let _0x4f6c5a=!![];return function(_0x550915,_0x1f99b0){const _0x50896b=_0x4f6c5a?function(){const _0x54989c=_0x1a68;if(_0x1f99b0){const _0x3fe4c4=_0x1f99b0[_0x54989c(0x25f)](_0x550915,arguments);return _0x1f99b0=null,_0x3fe4c4;}}:function(){};return _0x4f6c5a=![],_0x50896b;};}(),_0x244ba7=_0x546148(this,function(){const _0x505610=_0x1a68;return _0x244ba7[_0x505610(0x1f9)]()[_0x505610(0x1b1)](_0x505610(0x1a6))[_0x505610(0x1f9)]()[_0x505610(0x255)](_0x244ba7)[_0x505610(0x1b1)](_0x505610(0x1a6));});_0x244ba7();'use strict';const ccxt=require(_0x40c748(0x268))[_0x40c748(0x264)],low=require(_0x40c748(0x1f7)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x40c748(0x1dc)),Crypt=require(_0x40c748(0x22d))[_0x40c748(0x28b)],util=require(_0x40c748(0x125)),argv=require(_0x40c748(0x269))(process[_0x40c748(0x1cb)][_0x40c748(0x299)](0x2))[_0x40c748(0x1cb)],path=require(_0x40c748(0x19d));let exchange;global['ticker']={},global[_0x40c748(0x153)]={};const exceptions={'binance':[_0x40c748(0x188),'HOT/BTC','XEM/BUSD',_0x40c748(0x25e),_0x40c748(0x1c9)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x40c748(0x26e)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x40c748(0x11f))['version'],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x40c748(0x212)](botID)&&(console['log'](_0x40c748(0x15c)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process['argv'][0x3]||'',configpath=userID?'./config/'+userID+'/':'./config/',logspath=userID?_0x40c748(0x218)+userID+'/':_0x40c748(0x218),loggerfile=fs[_0x40c748(0x1bb)](logspath+_0x40c748(0x189),{'flags':'a'});!fs[_0x40c748(0x23a)](configpath)&&fs[_0x40c748(0x15e)](configpath);!fs[_0x40c748(0x23a)](logspath)&&fs[_0x40c748(0x15e)](logspath);const configfile=configpath+_0x40c748(0x139)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0x40c748(0x1e5),performancefile=configpath+_0x40c748(0x139)+botID+'-performance.json',coinresultsfile=configpath+_0x40c748(0x139)+botID+_0x40c748(0x1f4),settingsfile=configpath+_0x40c748(0x13e),securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x40c748(0x276)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x40c748(0x11a)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x40c748(0x276)]({'coins':[],'version':serverversion})[_0x40c748(0x11a)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x40c748(0x29a),'rsaStandard':_0x40c748(0x22f)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x273c0a=>{const _0x4de96e=_0x40c748;console[_0x4de96e(0x226)](_0x273c0a);},'simple':_0x4cd558=>{const _0x121c1e=_0x40c748;console[_0x121c1e(0x226)](_0x4cd558),loggerfile['write'](util[_0x121c1e(0x24d)](_0x4cd558)+'\x0a');},'full':async(_0x437e3f,_0x59c01a='')=>{const _0x52d227=_0x40c748;let _0x455c30;if(config['showname'])_0x455c30=getTimeStamp()+':\x20'+config[_0x52d227(0x1ec)]+_0x52d227(0x156)+_0x437e3f;else _0x455c30=getTimeStamp()+_0x52d227(0x1d3)+botID+_0x52d227(0x156)+_0x437e3f;console[_0x52d227(0x226)](_0x455c30),loggerfile[_0x52d227(0x11a)](util[_0x52d227(0x24d)](_0x455c30)+'\x0a'),_0x59c01a&&(console[_0x52d227(0x226)](_0x59c01a),loggerfile['write'](util['format'](_0x59c01a)+'\x0a'));},'debug':async(_0x15780e,_0x240c69='')=>{const _0x5e950d=_0x40c748;let _0x5a2cba;if(config['showname'])_0x5a2cba=getTimeStamp()+':\x20'+config[_0x5e950d(0x1ec)]+_0x5e950d(0x1d2)+_0x15780e;else _0x5a2cba=getTimeStamp()+_0x5e950d(0x1d3)+botID+'\x20>\x20[DEBUG]\x20'+_0x15780e;if(debugging)console['log'](_0x5a2cba);loggerfile['write'](util[_0x5e950d(0x24d)](_0x5a2cba)+'\x0a');if(_0x240c69){if(debugging)console[_0x5e950d(0x226)](_0x240c69);loggerfile[_0x5e950d(0x11a)](util['format'](_0x240c69)+'\x0a');}}};process['on'](_0x40c748(0x164),function(_0x28979e){const _0x495efe=_0x40c748;logger[_0x495efe(0x173)](_0x28979e);});settings[_0x40c748(0x15a)]!=config[_0x40c748(0x15a)]&&updateTimeshift(settings[_0x40c748(0x15a)]);settings[_0x40c748(0x281)]!=config[_0x40c748(0x281)]&&updateOnepagemode(settings[_0x40c748(0x281)]);process[_0x40c748(0x190)]({'started':_0x40c748(0x210)},_0x1d8014=>{}),initializeProcessListeners();function proxyEmit(_0x588ced,_0x437bfd=null){const _0x154b98=_0x40c748;process[_0x154b98(0x190)]({'function':_0x588ced,'args':_0x437bfd},_0x33c72c=>{});}function initializeProcessListeners(){const _0x596184=_0x40c748;process['on'](_0x596184(0x158),_0x2f07cf=>{const _0x4cda5f=_0x596184;switch(Object[_0x4cda5f(0x239)](_0x2f07cf)[0x0]){case _0x4cda5f(0x15a):_0x2f07cf['timeshift']!=undefined&&(settings[_0x4cda5f(0x15a)]=_0x2f07cf[_0x4cda5f(0x15a)],updateTimeshift(settings[_0x4cda5f(0x15a)]));break;case'onepagemode':_0x2f07cf[_0x4cda5f(0x281)]!=undefined&&(settings['onepagemode']=_0x2f07cf[_0x4cda5f(0x281)],updateOnepagemode(settings[_0x4cda5f(0x281)]));break;case _0x4cda5f(0x1dd):_0x2f07cf[_0x4cda5f(0x1dd)]!=undefined&&(bots=JSON[_0x4cda5f(0x146)](_0x2f07cf[_0x4cda5f(0x1dd)]),proxyEmit(_0x4cda5f(0x1dd),bots));break;case _0x4cda5f(0x236):switch(_0x2f07cf['function']){case _0x4cda5f(0x273):initclient();break;case _0x4cda5f(0x1e7):toggleBotMode();break;case _0x4cda5f(0x283):emitHistory(_0x2f07cf[_0x4cda5f(0x197)]);break;case _0x4cda5f(0x1e2):deleteHistoryAlerts(_0x2f07cf[_0x4cda5f(0x197)]);break;case _0x4cda5f(0x1c4):getPortfolio(_0x2f07cf[_0x4cda5f(0x197)]);break;case _0x4cda5f(0x246):storeConfiguration(_0x2f07cf[_0x4cda5f(0x197)]);break;case _0x4cda5f(0x21d):storeHeadless(_0x2f07cf['args']);break;case _0x4cda5f(0x280):storeFiat(_0x2f07cf[_0x4cda5f(0x197)]);break;case _0x4cda5f(0x1d8):resetHistory();break;case _0x4cda5f(0x123):getStartingBalances(getNormalizedPerformance());break;case _0x4cda5f(0x27d):placeOrder(_0x2f07cf[_0x4cda5f(0x197)]);break;case _0x4cda5f(0x1a5):cancelLoading();break;case _0x4cda5f(0x17c):showConfig();break;case _0x4cda5f(0x1d7):sendMetricsTelegram();break;case _0x4cda5f(0x233):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x152c52=null,_0x575415=![]){const _0x504d7e=_0x40c748;logger[_0x504d7e(0x1ba)]('Reset\x20|\x20'+(_0x152c52&&_0x152c52['length']>0x0?_0x504d7e(0x14d)+_0x152c52[_0x504d7e(0x145)](','):_0x504d7e(0x296))+_0x504d7e(0x207)+(_0x575415?_0x504d7e(0x169):_0x504d7e(0x242)));if(pidBalances)clearTimeout(pidBalances);if(!_0x575415)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x504d7e(0x26a)]!=''&&config[_0x504d7e(0x26a)]!='***'){if(_0x575415){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x51d8b3){handleErrorNoStop(_0x51d8b3,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x152c52);const _0x4fbcd5=await getCoins();[currentCoins,currentCoinsAll]=_0x4fbcd5,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x28cf0b=_0x40c748;exchangeStopped=!![],await exchange[_0x28cf0b(0x203)]();}async function reloadExchange(){const _0x124478=_0x40c748;logger[_0x124478(0x1ba)](_0x124478(0x196));while(lockOrders!=ORDERS[_0x124478(0x26e)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x124478(0x1ba)](_0x124478(0x1a3)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x22eaae=config[_0x40c748(0x1cd)],_0xd548c3=config[_0x40c748(0x26a)],_0x1c2794=config['apiSecret'],_0x5b474f=config[_0x40c748(0x19c)]){const _0x3865b1=_0x40c748;exchange&&await stopExchange();!supportedExchanges()[_0x3865b1(0x1f5)](_0x22eaae)&&(logHistory(_0x3865b1(0x266),_0x3865b1(0x132)+_0x22eaae+_0x3865b1(0x235)),killBot());const _0x364852=ccxt[_0x22eaae[_0x3865b1(0x1aa)]()];exchange=new _0x364852({'apiKey':_0xd548c3,'secret':_0x1c2794,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x5b474f)exchange[_0x3865b1(0x192)]=_0x5b474f;}function setStableCoins(){const _0x3f59d0=_0x40c748;let _0xb95e4f=config[_0x3f59d0(0x1ea)]==_0x3f59d0(0x13c)?'ETH':'BTC',_0x56cdf9=!allSymbols[_0x3f59d0(0x1f5)](_0xb95e4f+_0x3f59d0(0x1be))?_0x3f59d0(0x1c7):'USD',_0x191aa8=!allSymbols[_0x3f59d0(0x1f5)](_0xb95e4f+_0x3f59d0(0x24f))?_0x56cdf9:_0x3f59d0(0x138);stablecoins={'eur':{'coin':''+_0xb95e4f+_0x191aa8,'symbol':_0xb95e4f+'/'+_0x191aa8},'usd':{'coin':''+_0xb95e4f+_0x56cdf9,'symbol':_0xb95e4f+'/'+_0x56cdf9}};}async function initwsCcxt(_0x4f26d2){const _0x2ecfd6=_0x40c748;_0x4f26d2==null&&(_0x4f26d2=[],config[_0x2ecfd6(0x223)][_0x2ecfd6(0x198)](_0x479226=>{const _0x1d0578=_0x2ecfd6;if(!_0x479226[_0x1d0578(0x175)]&&_0x479226[_0x1d0578(0x1db)]!=config[_0x1d0578(0x1ea)])_0x4f26d2[_0x1d0578(0x13f)](_0x479226[_0x1d0578(0x199)]);}));if(!_0x4f26d2[_0x2ecfd6(0x1f5)](stablecoins[_0x2ecfd6(0x1b5)][_0x2ecfd6(0x199)]))_0x4f26d2[_0x2ecfd6(0x13f)](stablecoins[_0x2ecfd6(0x1b5)][_0x2ecfd6(0x199)]);if(!_0x4f26d2['includes'](stablecoins['usd'][_0x2ecfd6(0x199)]))_0x4f26d2['push'](stablecoins[_0x2ecfd6(0x279)][_0x2ecfd6(0x199)]);if(config['exchange']['startsWith'](_0x2ecfd6(0x28d))){if(!_0x4f26d2[_0x2ecfd6(0x1f5)](_0x2ecfd6(0x174)+config[_0x2ecfd6(0x1ea)]))_0x4f26d2['push'](_0x2ecfd6(0x174)+config['basecoin']);}loadCoins(_0x4f26d2);const _0x308e86=async _0x47c535=>{const _0x570c60=_0x2ecfd6,_0x1cd139=await exchange[_0x570c60(0x12a)](_0x47c535);global['ticker'][noslash(_0x1cd139[_0x570c60(0x199)])]=_0x1cd139[_0x570c60(0x230)];while(!![]){if(!botPaused)try{const _0x451eab=await exchange[_0x570c60(0x25b)](_0x47c535);global['ticker'][noslash(_0x451eab[0x0][_0x570c60(0x199)])]=_0x451eab[0x0][_0x570c60(0x122)],await sleep(0x3e8);}catch(_0xf05eab){if(!exchangeStopped)await handleError(_0xf05eab,_0x570c60(0x25b),_0x47c535);}else await sleep(0x3e8);}},_0x37d904=async _0x51ac21=>{const _0xcb9c8c=_0x2ecfd6;while(!![]){if(!botPaused)try{const _0x5e43bd=await exchange[_0xcb9c8c(0x12a)](_0x51ac21);global[_0xcb9c8c(0x153)][_0x5e43bd[_0xcb9c8c(0x199)]]=_0x5e43bd[_0xcb9c8c(0x1c5)],await sleep(0x3c*0x3e8);}catch(_0x3e8433){if(!exchangeStopped)await handleError(_0x3e8433,_0xcb9c8c(0x18b),_0x51ac21);}else await sleep(0x3e8);}},_0x39535c=async()=>{const _0x477f30=_0x2ecfd6;while(!![]){if(!botPaused)try{const _0x1010ff=await exchange['watchOrders']();_0x1010ff[_0x477f30(0x198)](_0x32a966=>{updateNumberCoinsCcxt(_0x32a966);});}catch(_0x4f948e){if(!exchangeStopped)await handleError(_0x4f948e,_0x477f30(0x168));}else await sleep(0x3e8);}};_0x4f26d2[_0x2ecfd6(0x198)](async _0x3a452f=>{_0x308e86(_0x3a452f),_0x37d904(_0x3a452f);}),!wsEventsSet&&(wsEventsSet=!![],_0x39535c(),watchTransactions());}async function watchTransactions(){const _0x32103c=_0x40c748;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x239e48=await getCoins(),[_0x3eb69e,_0x20097d]=_0x239e48;let _0x437c42=[];currentCoins[_0x32103c(0x198)](_0x25856b=>{const _0x163fb5=_0x32103c,_0x52e57f=_0x3eb69e[_0x163fb5(0x191)](_0x35db18=>_0x35db18[_0x163fb5(0x1db)]==_0x25856b[_0x163fb5(0x1db)]);_0x52e57f&&(_0x25856b[_0x163fb5(0x247)]!=_0x52e57f[_0x163fb5(0x247)]&&_0x437c42[_0x163fb5(0x13f)]({'coin':_0x25856b['coin'],'symbol':_0x25856b['symbol'],'number':Number(formatResult(_0x52e57f[_0x163fb5(0x247)]-_0x25856b[_0x163fb5(0x247)],0x8))}));});if(_0x437c42[_0x32103c(0x171)]==0x1&&!blockTransactionDetection){logger[_0x32103c(0x1ba)](_0x32103c(0x172)+lastFees[_0x32103c(0x151)]+_0x32103c(0x263)+lastFees[_0x32103c(0x130)]);if(!lastFees[_0x32103c(0x151)]||_0x437c42[0x0][_0x32103c(0x1db)]!=lastFees[_0x32103c(0x151)]||_0x437c42[0x0][_0x32103c(0x247)]>lastFees[_0x32103c(0x130)]){let _0x4ce9e1;if(_0x437c42[0x0][_0x32103c(0x1db)]!=config[_0x32103c(0x1ea)]){let _0x11507d=global[_0x32103c(0x205)][noslash(_0x437c42[0x0][_0x32103c(0x199)])];_0x4ce9e1=_0x437c42[0x0][_0x32103c(0x265)]?0x1/_0x11507d:_0x11507d;}else _0x4ce9e1=0x1;_0x437c42[0x0][_0x32103c(0x122)]=_0x4ce9e1,delete _0x437c42[0x0][_0x32103c(0x199)];let _0x246ae7=[],_0xc15a74=[...config[_0x32103c(0x215)]]||[],_0x47c30d=config[_0x32103c(0x215)];_0xc15a74[_0x32103c(0x261)]((_0x5cb7a6,_0x31b291)=>_0x5cb7a6[_0x32103c(0x16f)]>_0x31b291[_0x32103c(0x16f)]?-0x1:_0x31b291[_0x32103c(0x16f)]>_0x5cb7a6[_0x32103c(0x16f)]?0x1:0x0);const _0x5bcc99=getDate();if(_0xc15a74[0x0]){const _0x1cf97f=fns[_0x32103c(0x146)](_0xc15a74[0x0][_0x32103c(0x16f)],_0x32103c(0x228),new Date()),_0x51a55b=fns[_0x32103c(0x146)](_0x5bcc99,_0x32103c(0x228),new Date());if(fns[_0x32103c(0x1b4)](_0x1cf97f,_0x51a55b)){_0x246ae7=_0xc15a74[0x0][_0x32103c(0x17d)];const _0x401b2d=_0x246ae7[_0x32103c(0x191)](_0x250a4c=>_0x250a4c[_0x32103c(0x1db)]==_0x437c42[0x0]['coin']);_0x401b2d?(_0x401b2d[_0x32103c(0x247)]+=_0x437c42[0x0]['number'],_0x401b2d['number']==0x0&&(_0x246ae7=_0x246ae7[_0x32103c(0x291)](_0x52f98f=>{const _0x1016ad=_0x32103c;return _0x52f98f[_0x1016ad(0x1db)]!=_0x437c42[0x0]['coin'];}))):_0x246ae7[_0x32103c(0x13f)](_0x437c42[0x0]);const _0x18eceb=_0x47c30d['find'](_0x1687af=>_0x1687af[_0x32103c(0x16f)]==_0x5bcc99);_0x18eceb['changes']=_0x246ae7;}else _0x47c30d[_0x32103c(0x13f)]({'date':_0x5bcc99,'changes':[_0x437c42[0x0]]});}const _0x131cbd=_0x47c30d['find'](_0x62b4bf=>_0x62b4bf[_0x32103c(0x16f)]==_0x5bcc99);if(_0x131cbd){let _0x327792=!![];_0x131cbd[_0x32103c(0x17d)]['forEach'](_0x2f80a0=>{const _0x123261=_0x32103c;if(_0x2f80a0[_0x123261(0x247)]!=0x0)_0x327792=![];}),_0x327792&&(_0x47c30d=_0x47c30d[_0x32103c(0x291)](_0x28223a=>{const _0x1ae682=_0x32103c;return _0x28223a[_0x1ae682(0x16f)]!=_0x5bcc99;}));}let _0x3ae11b=dbConfig['get'](_0x32103c(0x277))[_0x32103c(0x191)]({'botID':botID})['value']();_0x3ae11b&&(dbConfig[_0x32103c(0x22c)](_0x32103c(0x277))[_0x32103c(0x191)]({'botID':botID})['assign']({'liquidity':_0x47c30d})[_0x32103c(0x11a)](),config[_0x32103c(0x215)]=_0x47c30d),logHistory('success',_0x32103c(0x12d)+Math[_0x32103c(0x144)](_0x437c42[0x0]['number'])+'\x20'+_0x437c42[0x0][_0x32103c(0x1db)]+'\x20'+(_0x437c42[0x0][_0x32103c(0x247)]>0x0?_0x32103c(0x181):_0x32103c(0x26f))+_0x32103c(0x135)),proxyEmit(_0x32103c(0x1c3),emittedConfiguration());}else logger[_0x32103c(0x1ba)](_0x32103c(0x21c)+Math[_0x32103c(0x144)](_0x437c42[0x0][_0x32103c(0x247)])+'\x20'+_0x437c42[0x0][_0x32103c(0x1db)]+'\x20'+(_0x437c42[0x0][_0x32103c(0x247)]>0x0?_0x32103c(0x181):_0x32103c(0x26f)));transactionDetected=!![],currentCoins=_0x3eb69e,currentCoinsAll=_0x20097d;}await sleep(watchTransactionsInterval);}catch(_0x2dab88){if(!exchangeStopped)await handleError(_0x2dab88,_0x32103c(0x202));}else await sleep(0x3e8);}}async function loadSymbols(_0x350ac1=config['exchange'],_0x570b3f=![]){const _0x267b53=_0x40c748;if(allSymbols&&!_0x570b3f)return;try{markets=await exchange[_0x267b53(0x262)](),allSymbols=exchange[_0x267b53(0x1c2)]['filter'](_0x325d97=>{const _0x22c258=_0x267b53;let _0x5d7006=![];const _0x18ddc8=exceptions[_0x350ac1[_0x22c258(0x1aa)]()]||[];return _0x18ddc8[_0x22c258(0x198)](_0x1e10ab=>{const _0xa9632b=_0x22c258;if(_0x325d97[_0xa9632b(0x1f5)](_0x1e10ab))_0x5d7006=!![];}),!_0x5d7006;});}catch(_0x8a585d){throw _0x8a585d;}}async function initclient(){const _0xf70f5b=_0x40c748;emitLoadingProgress(),proxyEmit(_0xf70f5b(0x1c3),emittedConfiguration()),proxyEmit(_0xf70f5b(0x243),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3bbc8c=getNormalizedPerformance();emitPerformance(_0x3bbc8c),getStartingBalances(_0x3bbc8c);}async function toggleBotMode(){const _0x3455b0=_0x40c748;let _0x245ecb=dbConfig['get'](_0x3455b0(0x277))[_0x3455b0(0x191)]({'botID':botID})[_0x3455b0(0x134)]();if(_0x245ecb){const _0xe6e35e=!_0x245ecb[_0x3455b0(0x17e)];dbConfig[_0x3455b0(0x22c)](_0x3455b0(0x277))[_0x3455b0(0x191)]({'botID':botID})[_0x3455b0(0x14e)]({'headless':_0xe6e35e})[_0x3455b0(0x11a)](),config[_0x3455b0(0x17e)]=_0xe6e35e,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x453f4e=_0x40c748;process[_0x453f4e(0x190)]({'updatebotmanager':!![]},_0x179ead=>{});}async function loadCoins(_0x46926c){const _0x124c99=_0x40c748;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x294ec6,_0x3a784f=0x0,_0x223448=0x0;_0x46926c[_0x124c99(0x198)](_0x56943a=>{const _0x519fa8=_0x124c99;loading[_0x519fa8(0x1df)][_0x519fa8(0x13f)](_0x56943a);}),loadingCanceled=![];let _0x47e335=![];while(_0x294ec6!=_0x46926c[_0x124c99(0x171)]){_0x294ec6=0x0,_0x46926c[_0x124c99(0x198)](_0x4d0b9f=>{const _0x42e9e9=_0x124c99;if(global[_0x42e9e9(0x205)][noslash(_0x4d0b9f)]){loading['remainingSymbols']=loading[_0x42e9e9(0x1df)][_0x42e9e9(0x291)](_0x276756=>_0x276756!=_0x4d0b9f);if(!watchedSymbols[_0x42e9e9(0x1f5)](_0x4d0b9f))watchedSymbols[_0x42e9e9(0x13f)](_0x4d0b9f);_0x294ec6++;}}),loading[_0x124c99(0x256)]=Math[_0x124c99(0x21f)](_0x294ec6/_0x46926c[_0x124c99(0x171)]*0x64);loading[_0x124c99(0x256)]!=0x64&&(_0x223448>0x1e*0x5&&(loading[_0x124c99(0x157)]=!![],emitLoadingProgress()),_0x223448>0x78*0x5&&!_0x47e335&&(loading[_0x124c99(0x1f8)]=!![],emitLoadingProgress(),_0x47e335=!![],logHistory(_0x124c99(0x266),_0x124c99(0x216)+loading['remainingSymbols'][_0x124c99(0x145)](',\x20')+_0x124c99(0x18a)),logHistory('error',_0x124c99(0x225)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{const _0x181d27=_0x124c99;process[_0x181d27(0x190)]({'stop':_0x181d27(0x224)},_0x43fa05=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x124c99(0x1f8)]=!![],emitLoadingProgress();break;}else _0x294ec6!=_0x3a784f&&(_0x3a784f=_0x294ec6,emitLoadingProgress()),_0x223448++,await sleep(0xc8);}_0x294ec6==_0x46926c['length']&&(coinsLoaded=!![],process['send']({'status':_0x124c99(0x214),'live':'running'},_0x4a7c2d=>{}),_0x47e335&&logHistory(_0x124c99(0x295),_0x124c99(0x1a2)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x348607=_0x40c748;proxyEmit(_0x348607(0x1c3),{...emittedConfiguration(),'configstate':_0x348607(0x1e8)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x1eb3e4=_0x40c748;let _0x232330=global[_0x1eb3e4(0x205)][stablecoins[_0x1eb3e4(0x1b5)]['coin']],_0x3b8c3d=global[_0x1eb3e4(0x205)][stablecoins['usd'][_0x1eb3e4(0x1db)]];return{'eur':Number(_0x232330),'usd':Number(_0x3b8c3d)};}function capitalize(_0x5e5f02){const _0x3b2fd7=_0x40c748;return _0x5e5f02['substring'](0x0,0x1)[_0x3b2fd7(0x12f)]()+_0x5e5f02[_0x3b2fd7(0x251)](0x1);}function supportedExchanges(){const _0x51d94c=_0x40c748,_0x5516bb=['ws','fetchTickers','fetchTicker',_0x51d94c(0x25b),_0x51d94c(0x168),_0x51d94c(0x140),_0x51d94c(0x23b),_0x51d94c(0x2a3),_0x51d94c(0x1ed),_0x51d94c(0x137)];let _0x406b71=[],_0x282d56=[],_0x4fd3c0=ccxt[_0x51d94c(0x243)];_0x4fd3c0[_0x51d94c(0x198)](_0x523830=>{const _0x39c6c0=_0x51d94c;try{const _0x3345b3=new ccxt[_0x523830]();if(_0x3345b3['has']['ws'])_0x282d56[_0x39c6c0(0x13f)](_0x3345b3);}catch(_0x44be64){}}),_0x282d56[_0x51d94c(0x198)](_0xdcbf88=>{const _0x2c42fb=_0x51d94c;let _0x7acbfb=0x0;_0x5516bb[_0x2c42fb(0x198)](_0x25705d=>{const _0x1ba118=_0x2c42fb;_0x25705d in _0xdcbf88[_0x1ba118(0x14f)]&&_0xdcbf88[_0x1ba118(0x14f)][_0x25705d]&&_0x7acbfb++;}),_0x7acbfb==_0x5516bb[_0x2c42fb(0x171)]&&_0x406b71['push'](capitalize(_0xdcbf88['id']));});let _0x126600=[];return _0x4fd3c0[_0x51d94c(0x198)](_0x59d755=>{const _0x3b40c4=_0x51d94c;_0x59d755=capitalize(_0x59d755);if(!_0x406b71['includes'](_0x59d755))_0x126600[_0x3b40c4(0x13f)](_0x59d755);}),_0x406b71;}function setStartDatePerformance(){const _0x2070a0=_0x40c748;if(config&&config['liquidity'][0x0]['changes']['length']!=0x0){const _0x307dc8=config[_0x2070a0(0x215)][0x0]['changes'];dbPerformance[_0x2070a0(0x22c)](_0x2070a0(0x159))[_0x2070a0(0x191)]({'date':config[_0x2070a0(0x1d0)]})[_0x2070a0(0x14e)]({'coins':_0x307dc8})[_0x2070a0(0x11a)]();}}async function recreateCoinResults(){const _0x4222fb=_0x40c748;let _0x446e52,_0x5c28ca=[];try{const _0x5c958c=fns[_0x4222fb(0x24d)](fns[_0x4222fb(0x1f1)](config['startdate']['replace'](/\//g,'-')),_0x4222fb(0x259));for(const _0x1889cb of currentCoins){if(_0x1889cb[_0x4222fb(0x1db)]!=config[_0x4222fb(0x1ea)]){let _0x317766=0x0,_0x44b515,_0x5ac106;_0x446e52=await getAllEventOrders(_0x1889cb[_0x4222fb(0x199)]);if(_0x446e52[_0x4222fb(0x171)]>0x0)_0x446e52['forEach'](_0x29deb2=>{const _0x55a88e=_0x4222fb,_0x464edc=_0x1889cb['symbol'][_0x55a88e(0x1f5)](config[_0x55a88e(0x1ea)]+'/');_0x5c28ca[_0x55a88e(0x13f)]({'datetime':_0x29deb2['datetime'],'coin':_0x1889cb['coin'],'symbol':_0x1889cb[_0x55a88e(0x199)],'side':_0x29deb2[_0x55a88e(0x1b9)],'reverse':_0x464edc,'amount':formatResult(_0x29deb2[_0x55a88e(0x22a)],0x8),'filled':formatResult(_0x29deb2[_0x55a88e(0x22a)],0x8),'price':formatResult(_0x29deb2['price'],0x8)}),_0x317766=_0x29deb2[_0x55a88e(0x1b9)]==_0x55a88e(0x12e)?_0x317766+_0x29deb2[_0x55a88e(0x22a)]:_0x317766-_0x29deb2[_0x55a88e(0x22a)];if(!_0x5ac106)_0x5ac106=_0x29deb2[_0x55a88e(0x122)];});_0x44b515=_0x1889cb[_0x4222fb(0x247)]-_0x317766;let _0x2e9f94;config[_0x4222fb(0x215)][_0x4222fb(0x198)](_0x555d92=>{const _0x3be24b=_0x4222fb;!_0x2e9f94&&(_0x2e9f94=_0x555d92[_0x3be24b(0x17d)][_0x3be24b(0x191)](_0x554b00=>_0x554b00['coin']==_0x1889cb[_0x3be24b(0x1db)]),_0x2e9f94&&(_0x44b515=_0x2e9f94['number'],_0x5ac106=_0x2e9f94[_0x3be24b(0x122)]));});let _0x36eb8f=dbCoinResults[_0x4222fb(0x22c)](_0x4222fb(0x258))[_0x4222fb(0x191)]({'coin':_0x1889cb[_0x4222fb(0x1db)]})[_0x4222fb(0x134)]();_0x36eb8f={'coin':_0x1889cb[_0x4222fb(0x1db)],'number':_0x44b515,'breakeven':_0x5ac106,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x4222fb(0x258))[_0x4222fb(0x191)]({'coin':_0x1889cb[_0x4222fb(0x1db)]})[_0x4222fb(0x14e)](_0x36eb8f)[_0x4222fb(0x11a)]();}}_0x5c28ca[_0x4222fb(0x261)]((_0x3ba7ef,_0x479df9)=>_0x3ba7ef[_0x4222fb(0x292)]>_0x479df9[_0x4222fb(0x292)]?0x1:_0x479df9['datetime']>_0x3ba7ef[_0x4222fb(0x292)]?-0x1:0x0);let _0x337639=0x0;for(let _0xbcffdb of _0x5c28ca){await updateCoinResults(_0xbcffdb,!![]);}}catch(_0xe16598){await handleError(_0xe16598,_0x4222fb(0x1f3));}}async function getAllEventOrders(_0x4e5d1e){const _0x292703=_0x40c748;let _0xa5623e=[],_0x21a4b3=dbLogs['get']('logs')[_0x292703(0x291)](_0x19ed17=>{const _0x148a05=_0x292703,_0x2edb7a=_0x19ed17[_0x148a05(0x1f0)][_0x148a05(0x1aa)]();return _0x2edb7a['includes'](_0x4e5d1e[_0x148a05(0x1aa)]())&&(_0x2edb7a[_0x148a05(0x1f5)](_0x148a05(0x254))&&_0x2edb7a[_0x148a05(0x1f5)](_0x148a05(0x220))||_0x2edb7a[_0x148a05(0x1f5)](_0x148a05(0x22a))&&_0x2edb7a['includes']('order'));})[_0x292703(0x22e)](_0x292703(0x19f))['value']();return _0x21a4b3[_0x292703(0x198)](_0x3dc67f=>{const _0x34823e=_0x292703,_0x5f2492=_0x3dc67f[_0x34823e(0x1f0)][_0x34823e(0x1f5)](_0x34823e(0x260))?'sell':'buy',_0x41aca5=/#([0-9]|\.)+\s/i,_0x575666=Number(_0x41aca5[_0x34823e(0x248)](_0x3dc67f[_0x34823e(0x1f0)])[0x0][_0x34823e(0x299)](0x1)),_0xda032c=/@([0-9]|\.)+$/i,_0x5b0d49=Number(_0xda032c[_0x34823e(0x248)](_0x3dc67f[_0x34823e(0x1f0)])[0x0][_0x34823e(0x299)](0x1));_0xa5623e[_0x34823e(0x13f)]({'datetime':_0x3dc67f['time'],'coin':symbolToCoin(_0x4e5d1e),'symbol':_0x4e5d1e,'side':_0x5f2492,'amount':_0x575666,'filled':_0x575666,'price':_0x5b0d49});}),_0xa5623e;}async function getAllOrders(_0xd01e39,_0x586671){const _0x56405f=_0x40c748;let _0x5eaca8=[];while(_0x586671<exchange[_0x56405f(0x29e)]()){const _0x44f799=0x1f4,_0x40e815=await exchange['fetchClosedOrders'](_0xd01e39,_0x586671,_0x44f799);if(_0x40e815[_0x56405f(0x171)])_0x586671=_0x40e815[_0x40e815['length']-0x1][_0x56405f(0x249)]+0x1,_0x5eaca8=_0x5eaca8[_0x56405f(0x290)](_0x40e815);else break;}return _0x5eaca8;}async function validate24hChanges(){const _0x447afc=_0x40c748;for(const _0x1abdb6 of currentCoins){if(_0x1abdb6[_0x447afc(0x1db)]!=config[_0x447afc(0x1ea)]){let _0x50a1e2;_0x1abdb6[_0x447afc(0x265)]?_0x50a1e2=formatResult((0x1/(global[_0x447afc(0x153)][noslash(_0x1abdb6[_0x447afc(0x199)])]/0x64+0x1)-0x1)*0x64,0x3):_0x50a1e2=global['change'][noslash(_0x1abdb6[_0x447afc(0x199)])],_0x50a1e2<config[_0x447afc(0x1e4)]&&(logHistory(_0x447afc(0x266),_0x1abdb6['coin']+_0x447afc(0x178)+_0x50a1e2+'%'),logHistory(_0x447afc(0x266),_0x447afc(0x1b6)),logHistory(_0x447afc(0x266),_0x447afc(0x1c0)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x2d8f7b,_0x185cc3){const _0x15c0eb=_0x40c748;if(!_0x2d8f7b)return!![];const _0x3f284c=_0x185cc3['split']('.'),_0x3ef4b9=_0x2d8f7b[_0x15c0eb(0x27e)]('.');for(var _0x1735df=0x0;_0x1735df<_0x3ef4b9[_0x15c0eb(0x171)];_0x1735df++){const _0x1fe3cf=~~_0x3ef4b9[_0x1735df],_0x1adcb1=~~_0x3f284c[_0x1735df];if(_0x1fe3cf<_0x1adcb1)return!![];if(_0x1fe3cf>_0x1adcb1)return![];}return![];}async function oneTimeMigration(){const _0x60006d=_0x40c748;let _0x774828=dbLogs[_0x60006d(0x22c)]('version')[_0x60006d(0x134)]();if(isOlderVersion(_0x774828,'2.3.5')){let _0x17ff36=[];const _0x4e4540=dbLogs[_0x60006d(0x22c)](_0x60006d(0x141))[_0x60006d(0x134)]();_0x4e4540[_0x60006d(0x198)](_0x34d84a=>{const _0x39a1b3=_0x60006d;_0x17ff36[_0x39a1b3(0x13f)]({'time':_0x34d84a[_0x39a1b3(0x19f)],'type':_0x34d84a[_0x39a1b3(0x20f)],'event':_0x34d84a[_0x39a1b3(0x1f0)]});}),dbLogs[_0x60006d(0x22c)](_0x60006d(0x141))[_0x60006d(0x14e)](_0x17ff36)[_0x60006d(0x11a)]();}let _0x24f156=dbConfig[_0x60006d(0x22c)](_0x60006d(0x1c1))['value']();if(isOlderVersion(_0x24f156,_0x60006d(0x1fb))){let _0x2110ee=dbConfig['get'](_0x60006d(0x277))['find']({'botID':botID})['value']();if(_0x2110ee){let _0x585863=[];_0x2110ee['portfolio'][_0x60006d(0x198)](_0x46751d=>{const _0x567419=_0x60006d;_0x585863[_0x567419(0x13f)]({'coin':_0x46751d['coin'],'number':_0x46751d[_0x567419(0x19b)],'price':_0x46751d['startprice']}),delete _0x46751d[_0x567419(0x19b)],delete _0x46751d['startprice'];});if(_0x585863[_0x60006d(0x171)]!==0x0)fs[_0x60006d(0x20e)](configbackuppath+('starting-balance-'+botID+'.json'),JSON[_0x60006d(0x28e)](_0x585863,null,0x4),function(_0x5885f0){if(_0x5885f0){}});const _0x47e0de=(_0x3d8ba1,_0x17ca6c)=>{const _0x47dc2b=_0x60006d;let _0xcbc13d=[];_0x17ca6c[_0x47dc2b(0x198)](_0x537b12=>{const _0x171701=_0x47dc2b,_0x5357a2=_0x3d8ba1[_0x171701(0x191)](_0x3ee6ee=>_0x3ee6ee[_0x171701(0x1db)]==_0x537b12[_0x171701(0x1db)]);if(!_0x5357a2)_0xcbc13d[_0x171701(0x13f)](_0x537b12);});let _0x1abb00=[];return _0x3d8ba1[_0x47dc2b(0x198)](_0x2df5be=>{const _0x32c056=_0x47dc2b,_0x2791d6=_0x17ca6c['find'](_0x2f71a3=>_0x2f71a3[_0x32c056(0x1db)]==_0x2df5be['coin']);if(!_0x2791d6||_0x2791d6[_0x32c056(0x247)]==0x0&&_0x2df5be[_0x32c056(0x247)]!=0x0)_0x1abb00['push'](_0x2df5be);}),{'missingDay1':_0xcbc13d,'notInDay2':_0x1abb00};},_0x3cafa8=dbPerformance[_0x60006d(0x22c)](_0x60006d(0x159))[_0x60006d(0x1bd)]()['value']();if(_0x3cafa8[_0x60006d(0x171)]>0x1){const {missingDay1:_0x48c432,notInDay2:_0x5433c8}=_0x47e0de(_0x585863,_0x3cafa8[0x1][_0x60006d(0x258)]);_0x585863=[..._0x585863,..._0x48c432],_0x5433c8['forEach'](_0x43d4ce=>{const _0x2ed21a=_0x60006d;let _0x504efd=_0x585863[_0x2ed21a(0x270)](_0x2d88b4=>_0x2d88b4[_0x2ed21a(0x1db)]==_0x43d4ce[_0x2ed21a(0x1db)]);_0x504efd!=-0x1&&_0x585863['splice'](_0x504efd,0x1);});}_0x585863[_0x60006d(0x261)]((_0x3baa3d,_0x8a59b5)=>_0x3baa3d[_0x60006d(0x1db)]>_0x8a59b5[_0x60006d(0x1db)]?0x1:_0x8a59b5['coin']>_0x3baa3d[_0x60006d(0x1db)]?-0x1:0x0);let _0x5efd1f=[{'date':_0x2110ee['startdate'],'changes':_0x585863}];_0x3cafa8[_0x60006d(0x171)]>0x2&&_0x3cafa8[_0x60006d(0x198)]((_0x4abc13,_0x544bb7)=>{const _0x39b5df=_0x60006d;if(_0x544bb7>0x0&&_0x544bb7<_0x3cafa8[_0x39b5df(0x171)]-0x1){const {missingDay1:_0x5cb5fd,notInDay2:_0x2be375}=_0x47e0de(_0x3cafa8[_0x544bb7]['coins'],_0x3cafa8[_0x544bb7+0x1][_0x39b5df(0x258)]);_0x585863=[],(_0x5cb5fd[_0x39b5df(0x171)]!=0x0||_0x2be375['length']!=0x0)&&(_0x5cb5fd[_0x39b5df(0x171)]!=0x0&&_0x585863['push'](..._0x5cb5fd),_0x2be375['length']!=0x0&&(_0x2be375[_0x39b5df(0x198)](_0x3b48a6=>{const _0x18a9c4=_0x39b5df;_0x3b48a6[_0x18a9c4(0x247)]=-_0x3b48a6[_0x18a9c4(0x247)];}),_0x585863[_0x39b5df(0x13f)](..._0x2be375)),_0x585863[_0x39b5df(0x261)]((_0x475bf8,_0xc7a93a)=>_0x475bf8[_0x39b5df(0x1db)]>_0xc7a93a[_0x39b5df(0x1db)]?0x1:_0xc7a93a[_0x39b5df(0x1db)]>_0x475bf8[_0x39b5df(0x1db)]?-0x1:0x0),_0x5efd1f[_0x39b5df(0x13f)]({'date':_0x3cafa8[_0x544bb7+0x1][_0x39b5df(0x16f)],'changes':_0x585863}));}}),dbConfig['get'](_0x60006d(0x277))[_0x60006d(0x191)]({'botID':botID})['assign']({..._0x2110ee,'liquidity':_0x5efd1f})['write']();}}if(isOlderVersion(_0x24f156,_0x60006d(0x1d9))){let _0x346767=dbConfig[_0x60006d(0x22c)](_0x60006d(0x277))[_0x60006d(0x191)]({'botID':botID})[_0x60006d(0x134)]();if(_0x346767){const _0x52150c=_0x346767[_0x60006d(0x1cd)],_0x243498=_0x52150c?capitalize(_0x52150c):'Binance';dbConfig[_0x60006d(0x22c)]('bot')[_0x60006d(0x191)]({'botID':botID})[_0x60006d(0x14e)]({'exchange':_0x243498})[_0x60006d(0x11a)]();}}let _0x37a979=dbPerformance[_0x60006d(0x22c)](_0x60006d(0x1c1))[_0x60006d(0x134)]();isOlderVersion(_0x37a979,_0x60006d(0x1fb))&&setStartDatePerformance();let _0x4f03bf=dbCoinResults['get'](_0x60006d(0x1c1))[_0x60006d(0x134)]();if(isOlderVersion(_0x4f03bf,_0x60006d(0x15f))){let _0x195661=dbCoinResults[_0x60006d(0x22c)](_0x60006d(0x258))[_0x60006d(0x134)]();if(_0x195661[_0x60006d(0x171)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x5c8db2=_0x40c748;dbConfig[_0x5c8db2(0x240)]('version',serverversion)[_0x5c8db2(0x11a)](),dbPerformance[_0x5c8db2(0x240)](_0x5c8db2(0x1c1),serverversion)['write'](),dbLogs['set']('version',serverversion)[_0x5c8db2(0x11a)](),dbCoinResults['set'](_0x5c8db2(0x1c1),serverversion)[_0x5c8db2(0x11a)]();}function getConfiguration(_0x358458){const _0x2bd443=_0x40c748;let _0xe633b9=dbConfig[_0x2bd443(0x22c)](_0x2bd443(0x277))[_0x2bd443(0x191)]({'botID':_0x358458})['value']();if(_0xe633b9){let _0x55be4b=![];typeof _0xe633b9[_0x2bd443(0x154)]==_0x2bd443(0x1d1)&&(_0xe633b9={..._0xe633b9,'threshold':Number(_0xe633b9[_0x2bd443(0x154)])},_0x55be4b=!![]),_0xe633b9[_0x2bd443(0x1e4)]==null&&(_0xe633b9={..._0xe633b9,'change24h':-0x14},_0x55be4b=!![]),!_0xe633b9[_0x2bd443(0x1c8)]&&(_0xe633b9={..._0xe633b9,'fiat':_0x2bd443(0x195)},_0x55be4b=!![]),!_0xe633b9[_0x2bd443(0x281)]&&(_0xe633b9={..._0xe633b9,'onepagemode':settings[_0x2bd443(0x281)]},_0x55be4b=!![]),_0x55be4b&&(_0xe633b9={'botID':_0xe633b9[_0x2bd443(0x136)],'exchange':_0xe633b9[_0x2bd443(0x1cd)],'apiKey':_0xe633b9['apiKey'],'apiSecret':_0xe633b9['apiSecret'],'apiPassword':_0xe633b9[_0x2bd443(0x19c)],'basecoin':_0xe633b9[_0x2bd443(0x1ea)],'botname':_0xe633b9[_0x2bd443(0x1ec)],'showname':_0xe633b9[_0x2bd443(0x25c)],'threshold':_0xe633b9[_0x2bd443(0x154)],'ordertype':_0xe633b9[_0x2bd443(0x1ee)],'timeout':_0xe633b9[_0x2bd443(0x157)],'fiat':_0xe633b9[_0x2bd443(0x1c8)],'startdate':_0xe633b9[_0x2bd443(0x1d0)],'recreate':_0xe633b9['recreate'],'timeshift':_0xe633b9['timeshift'],'onepagemode':_0xe633b9[_0x2bd443(0x281)],'headless':_0xe633b9[_0x2bd443(0x17e)],'cooldown':_0xe633b9[_0x2bd443(0x1d5)],'change24h':_0xe633b9[_0x2bd443(0x1e4)],'emojibuy':_0xe633b9[_0x2bd443(0x1fd)],'emojisell':_0xe633b9['emojisell'],'portfolio':_0xe633b9[_0x2bd443(0x223)],'liquidity':_0xe633b9[_0x2bd443(0x215)],'openOrders':_0xe633b9['openOrders']},dbConfig[_0x2bd443(0x22c)](_0x2bd443(0x277))[_0x2bd443(0x24b)]()[_0x2bd443(0x11a)](),dbConfig[_0x2bd443(0x22c)]('bot')[_0x2bd443(0x13f)](_0xe633b9)[_0x2bd443(0x11a)]());}else _0xe633b9={'botID':_0x358458,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x358458,'showname':![],'threshold':0x3,'ordertype':_0x2bd443(0x254),'timeout':0x14,'fiat':_0x2bd443(0x195),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2bd443(0x15a)],'onepagemode':settings[_0x2bd443(0x281)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xe633b9;}function emittedConfiguration(){const _0x25c4db=_0x40c748;let _0x3da0a3;if(config[_0x25c4db(0x26a)]=='')_0x3da0a3={...config,'configstate':_0x25c4db(0x241)};else config[_0x25c4db(0x26a)]=='***'?_0x3da0a3={...config,'configstate':'recovery'}:(_0x3da0a3={...config,'apiKey':_0x25c4db(0x13d),'apiSecret':_0x25c4db(0x13d)},config[_0x25c4db(0x19c)]&&(_0x3da0a3['apiPassword']=_0x25c4db(0x13d)));return _0x3da0a3;}function getSettings(){const _0x161463=_0x40c748;return dbSettings['get'](_0x161463(0x1bc))['value']();}function getSecure(){const _0xdbfa3e=_0x40c748;return dbSecure[_0xdbfa3e(0x22c)](_0xdbfa3e(0x2a5))[_0xdbfa3e(0x134)]()||{};}function updateTimeshift(_0x673e60){const _0x1337a6=_0x40c748;let _0x57c870=dbConfig['get'](_0x1337a6(0x277))[_0x1337a6(0x191)]({'botID':botID})[_0x1337a6(0x134)]();_0x57c870&&dbConfig[_0x1337a6(0x22c)]('bot')[_0x1337a6(0x191)]({'botID':botID})['assign']({'timeshift':_0x673e60})[_0x1337a6(0x11a)](),config[_0x1337a6(0x15a)]=_0x673e60,proxyEmit(_0x1337a6(0x1c3),emittedConfiguration());}function updateOnepagemode(_0x361a91){const _0x2e2d7b=_0x40c748;let _0x3c153d=dbConfig['get'](_0x2e2d7b(0x277))[_0x2e2d7b(0x191)]({'botID':botID})['value']();_0x3c153d&&dbConfig[_0x2e2d7b(0x22c)](_0x2e2d7b(0x277))[_0x2e2d7b(0x191)]({'botID':botID})[_0x2e2d7b(0x14e)]({'onepagemode':_0x361a91})[_0x2e2d7b(0x11a)](),config['onepagemode']=_0x361a91,proxyEmit(_0x2e2d7b(0x1c3),emittedConfiguration());}async function storeConfiguration(_0x3d1a97){const _0x1ed9ed=_0x40c748;logger[_0x1ed9ed(0x1ba)](_0x1ed9ed(0x275)),blockTransactionDetection=!![],logger[_0x1ed9ed(0x1ba)]('Transaction\x20detection\x20blocked');let _0xd2754d=[],_0x302d92=![],_0x5a91d0=[];_0x3d1a97[_0x1ed9ed(0x223)][_0x1ed9ed(0x198)](_0x3964f6=>{const _0x464dae=_0x1ed9ed;if(!_0x3964f6['excluded']&&_0x3964f6['coin']!=_0x3d1a97[_0x464dae(0x1ea)])_0x5a91d0[_0x464dae(0x13f)](_0x3964f6['symbol']);}),_0x5a91d0['forEach'](_0x49c85d=>{const _0x403ad9=_0x1ed9ed,_0x32c691=watchedSymbols[_0x403ad9(0x1f5)](_0x49c85d);!_0x32c691&&_0xd2754d[_0x403ad9(0x13f)](_0x49c85d);});_0xd2754d[_0x1ed9ed(0x171)]>0x0?_0x302d92=!![]:currentCoins[_0x1ed9ed(0x198)](_0x4a6713=>{const _0x4684f0=_0x1ed9ed;if(_0x4a6713[_0x4684f0(0x1db)]!=config[_0x4684f0(0x1ea)]){const _0x2b1ce2=_0x5a91d0['find'](_0x501f2e=>_0x501f2e==_0x4a6713[_0x4684f0(0x199)]);!_0x2b1ce2&&(_0x302d92=!![]);}});let _0x5b6974=dbConfig[_0x1ed9ed(0x22c)](_0x1ed9ed(0x277))[_0x1ed9ed(0x191)]({'botID':botID})[_0x1ed9ed(0x134)]();_0x3d1a97={..._0x3d1a97,'apiKey':crypt['decrypt'](secure[_0x1ed9ed(0x213)],_0x3d1a97['apiKey'])[_0x1ed9ed(0x158)],'apiSecret':crypt[_0x1ed9ed(0x27a)](secure[_0x1ed9ed(0x213)],_0x3d1a97[_0x1ed9ed(0x1b2)])['message']};_0x3d1a97[_0x1ed9ed(0x19c)]&&(_0x3d1a97['apiPassword']=crypt['decrypt'](secure['privateKey'],_0x3d1a97['apiPassword'])[_0x1ed9ed(0x158)]);let _0x4d32fe=![];_0x5b6974?(_0x3d1a97[_0x1ed9ed(0x26a)]=='************'?_0x3d1a97[_0x1ed9ed(0x26a)]=config['apiKey']:_0x4d32fe=!![],_0x3d1a97[_0x1ed9ed(0x1b2)]==_0x1ed9ed(0x13d)?_0x3d1a97[_0x1ed9ed(0x1b2)]=config[_0x1ed9ed(0x1b2)]:_0x4d32fe=!![],_0x3d1a97[_0x1ed9ed(0x19c)]==_0x1ed9ed(0x13d)?_0x3d1a97[_0x1ed9ed(0x19c)]=config['apiPassword']:_0x4d32fe=!![],dbConfig[_0x1ed9ed(0x22c)](_0x1ed9ed(0x277))[_0x1ed9ed(0x191)]({'botID':botID})['assign'](_0x3d1a97)['write']()):(dbConfig[_0x1ed9ed(0x22c)](_0x1ed9ed(0x277))['push'](_0x3d1a97)['write'](),_0x4d32fe=!![],process[_0x1ed9ed(0x190)]({'status':'enabled','live':'running'},_0x28448a=>{}));config={..._0x3d1a97},setStartDatePerformance(),process['send']({'botname':_0x3d1a97[_0x1ed9ed(0x1ec)]},_0x55ce82=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x1ed9ed(0x297)),await initCoinResults();if(_0x4d32fe)await reset(_0xd2754d,!![]);else{if(_0x302d92)await reset(_0xd2754d,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x1ed9ed(0x1ba)](_0x1ed9ed(0x19e));}async function storeHeadless(_0x12dcab){const _0x26999d=_0x40c748,_0x35beb6={...config,'headless':_0x12dcab[_0x26999d(0x17e)]};let _0x1f619a=dbConfig['get']('bot')[_0x26999d(0x191)]({'botID':botID})[_0x26999d(0x134)]();_0x1f619a&&dbConfig[_0x26999d(0x22c)]('bot')[_0x26999d(0x191)]({'botID':botID})[_0x26999d(0x14e)](_0x35beb6)[_0x26999d(0x11a)](),config={..._0x35beb6},updateBotManager(),proxyEmit(_0x26999d(0x1c3),emittedConfiguration());}async function storeFiat(_0x16aa82){const _0x222e76=_0x40c748,_0x758bc4={...config,'fiat':_0x16aa82};let _0x592fc5=dbConfig[_0x222e76(0x22c)](_0x222e76(0x277))[_0x222e76(0x191)]({'botID':botID})[_0x222e76(0x134)]();_0x592fc5&&dbConfig[_0x222e76(0x22c)]('bot')[_0x222e76(0x191)]({'botID':botID})['assign'](_0x758bc4)[_0x222e76(0x11a)](),config={..._0x758bc4},proxyEmit(_0x222e76(0x1c3),emittedConfiguration());}function resetHistory(){const _0x5d4f5f=_0x40c748;logger[_0x5d4f5f(0x222)](_0x5d4f5f(0x23c));try{if(fs[_0x5d4f5f(0x23a)](path[_0x5d4f5f(0x145)](configpath,'bot-'+botID+_0x5d4f5f(0x1e5))))fs[_0x5d4f5f(0x11e)](path[_0x5d4f5f(0x145)](configpath,_0x5d4f5f(0x139)+botID+_0x5d4f5f(0x1e5)));if(fs['existsSync'](path[_0x5d4f5f(0x145)](configpath,_0x5d4f5f(0x139)+botID+_0x5d4f5f(0x1ef))))fs[_0x5d4f5f(0x11e)](path[_0x5d4f5f(0x145)](configpath,'bot-'+botID+'-performance.json'));if(fs[_0x5d4f5f(0x23a)](path[_0x5d4f5f(0x145)](configpath,_0x5d4f5f(0x139)+botID+_0x5d4f5f(0x1f4))))fs[_0x5d4f5f(0x11e)](path['join'](configpath,_0x5d4f5f(0x139)+botID+_0x5d4f5f(0x1f4)));}catch(_0x5ddedd){if(_0x5ddedd)logger['full'](_0x5d4f5f(0x1fe),_0x5ddedd);}const _0x318d22=getDate();let _0x53574b=[];currentCoins[_0x5d4f5f(0x198)](_0x340418=>{const _0x25308f=_0x5d4f5f;_0x53574b[_0x25308f(0x13f)]({'coin':_0x340418[_0x25308f(0x1db)],'number':_0x340418['number'],'price':_0x340418['last']});});let _0x2d721a=dbConfig[_0x5d4f5f(0x22c)]('bot')[_0x5d4f5f(0x191)]({'botID':botID})[_0x5d4f5f(0x134)]();_0x2d721a&&(dbConfig[_0x5d4f5f(0x22c)](_0x5d4f5f(0x277))[_0x5d4f5f(0x191)]({'botID':botID})[_0x5d4f5f(0x14e)]({'liquidity':[{'date':_0x318d22,'changes':_0x53574b}]})['write'](),config[_0x5d4f5f(0x215)]=[]),process['send']({'stop':_0x5d4f5f(0x224)},_0x527351=>{});}function noslash(_0x553102){return _0x553102['replace']('/','');}function updateHighestFee(_0x4ba0f6,_0xfb6a33){const _0x47b8cd=_0x40c748;lastFees[_0x47b8cd(0x151)]=_0x4ba0f6,lastFees[_0x47b8cd(0x24e)]['length']===0x14&&lastFees[_0x47b8cd(0x24e)][_0x47b8cd(0x24c)](),lastFees[_0x47b8cd(0x24e)]['push'](_0xfb6a33),lastFees['highest']=Math[_0x47b8cd(0x22b)](...lastFees[_0x47b8cd(0x24e)]);}async function updateNumberCoinsCcxt(_0x3ce05a){const _0x1ab92e=_0x40c748;logger[_0x1ab92e(0x1ba)]('0\x20-\x20EXECUTION:\x20'+_0x3ce05a[_0x1ab92e(0x199)]+_0x1ab92e(0x207)+_0x3ce05a[_0x1ab92e(0x206)]+_0x1ab92e(0x207)+_0x3ce05a['id']+_0x1ab92e(0x207)+_0x3ce05a[_0x1ab92e(0x253)]);let _0x1e7d97=_0x3ce05a[_0x1ab92e(0x206)],_0x30fa5a=![];currentCoins[_0x1ab92e(0x198)](_0x28a56a=>{const _0x2ce7af=_0x1ab92e;_0x28a56a[_0x2ce7af(0x199)]==_0x3ce05a[_0x2ce7af(0x199)]&&(_0x30fa5a=!![]);});if(!_0x30fa5a)return;const _0x498411=currentCoins[_0x1ab92e(0x191)](_0x7135b2=>_0x7135b2[_0x1ab92e(0x199)]==_0x3ce05a[_0x1ab92e(0x199)]),_0x4b74d9=_0xd98485=>{const _0xa25830=_0x1ab92e;if(_0x498411)_0x498411[_0xa25830(0x1b7)]=_0xd98485;};if(_0x1e7d97=='open')_0x4b74d9('open');else{if(_0x1e7d97==_0x1ab92e(0x245)){_0x4b74d9(_0x1ab92e(0x245));const _0x1b4151=await getCoins();[currentCoins,currentCoinsAll]=_0x1b4151,await getOpenOrders(),handleOpenOrders();}else{if(_0x1e7d97==_0x1ab92e(0x217)){logger[_0x1ab92e(0x1ba)](_0x1ab92e(0x204)+_0x3ce05a[_0x1ab92e(0x199)]+_0x1ab92e(0x207)+_0x3ce05a['filled']+_0x1ab92e(0x207)+_0x3ce05a['id']+_0x1ab92e(0x207)+_0x3ce05a[_0x1ab92e(0x253)]);let _0x1ac962=![];if(lastOrders)lastOrders[_0x1ab92e(0x198)](async _0x298d8f=>{const _0x2d8ee0=_0x1ab92e;if(_0x298d8f[_0x2d8ee0(0x1b8)]==_0x3ce05a[_0x2d8ee0(0x253)]){logger['debug']('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x3ce05a[_0x2d8ee0(0x253)]),_0x1ac962=!![];if(_0x298d8f[_0x2d8ee0(0x22a)]==0x0){logger[_0x2d8ee0(0x1ba)](_0x2d8ee0(0x18e)+_0x3ce05a[_0x2d8ee0(0x253)]);_0x3ce05a[_0x2d8ee0(0x293)]?_0x298d8f[_0x2d8ee0(0x122)]=_0x3ce05a[_0x2d8ee0(0x293)]:_0x298d8f[_0x2d8ee0(0x122)]=_0x3ce05a[_0x2d8ee0(0x122)];_0x298d8f[_0x2d8ee0(0x22a)]=_0x3ce05a['filled'],_0x298d8f[_0x2d8ee0(0x184)]={'currency':_0x3ce05a[_0x2d8ee0(0x184)]?_0x3ce05a[_0x2d8ee0(0x184)]['currency']:null,'cost':_0x3ce05a[_0x2d8ee0(0x184)]?_0x3ce05a[_0x2d8ee0(0x184)][_0x2d8ee0(0x161)]:0x0},updateHighestFee(_0x298d8f[_0x2d8ee0(0x184)][_0x2d8ee0(0x151)],_0x298d8f[_0x2d8ee0(0x184)][_0x2d8ee0(0x161)]),_0x4b74d9(_0x2d8ee0(0x22a)),await validateOrders();if(lockOrders==ORDERS[_0x2d8ee0(0x1e3)]){const _0x580ef0=await getCoins();[currentCoins,currentCoinsAll]=_0x580ef0;}await updateCoinResults(_0x298d8f);}}});if(!_0x1ac962){logger[_0x1ab92e(0x1ba)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x3ce05a['id']),_0x4b74d9(_0x1ab92e(0x22a));const _0x19c96a=await getCoins();[currentCoins,currentCoinsAll]=_0x19c96a,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x23ea50=JSON[_0x1ab92e(0x146)](lastBalances[_0x1ab92e(0x223)]);const _0x5a3705=_0x23ea50[_0x1ab92e(0x191)](_0x53e87e=>_0x53e87e['symbol']==_0x3ce05a['symbol']);if(_0x5a3705){if(_0x1e7d97==_0x1ab92e(0x1c6))_0x5a3705[_0x1ab92e(0x1b7)]=_0x5a3705[_0x1ab92e(0x1b7)]=='filled'?_0x1ab92e(0x22a):'open';else{if(_0x1e7d97=='canceled')_0x5a3705['orderstatus']=_0x5a3705['orderstatus']==_0x1ab92e(0x22a)?'filled':_0x1ab92e(0x245);else _0x1e7d97==_0x1ab92e(0x217)&&(_0x5a3705[_0x1ab92e(0x1b7)]=_0x1ab92e(0x22a));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x23ea50)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x3a57ba=_0x40c748;await getOpenOrders();let _0x3a219d=![];currentCoins[_0x3a57ba(0x198)](_0x2a397f=>{const _0xdb287a=_0x3a57ba;_0x3a219d=allOpenOrders[_0xdb287a(0x191)](_0x102d7b=>_0x102d7b[_0xdb287a(0x199)]==_0x2a397f['symbol']),_0x2a397f[_0xdb287a(0x1b7)]=_0x3a219d?_0xdb287a(0x1c6):_0xdb287a(0x160);});}async function getCoins(_0x1fa695=!![],_0x2b2430=config[_0x40c748(0x1ea)]){const _0xbf45b0=_0x40c748;let _0xefdfc8,_0x365a58=[],_0x706d5d=[],_0x41ffe2=[],_0x3ca38e=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0xefdfc8=await exchange[_0xbf45b0(0x137)](),mybalances=_0xefdfc8[_0xbf45b0(0x1a7)];for(const [_0x1d1ddf,_0x5b28b2]of Object[_0xbf45b0(0x26b)](mybalances)){_0x3ca38e[_0xbf45b0(0x13f)](_0x1d1ddf);}if(_0x2b2430=='')for(const [_0x402f6a,_0x39092d]of Object[_0xbf45b0(0x26b)](mybalances)){_0x39092d[_0xbf45b0(0x1f9)]()!=0x0&&_0x706d5d[_0xbf45b0(0x13f)]({'coin':_0x402f6a});}else{let _0x61b50b=![];for(const [_0x20ebb7,_0x1edc62]of Object[_0xbf45b0(0x26b)](mybalances)){if(_0x3ca38e[_0xbf45b0(0x1f5)](_0x20ebb7)){const _0x3615fb=config[_0xbf45b0(0x223)]['find'](_0x5dc085=>_0x5dc085['coin']==_0x20ebb7),_0x2e66c2=_0x20ebb7+'/'+_0x2b2430,_0x116cbb=_0x2b2430+'/'+_0x20ebb7,_0x2fa467=currentCoins['find'](_0x2eba79=>_0x2eba79[_0xbf45b0(0x1db)]==_0x20ebb7);_0x61b50b=![];if((_0x1edc62['toString']()!=0x0||_0x3615fb)&&(allSymbols['includes'](_0x2e66c2)||_0x20ebb7==_0x2b2430))_0x20ebb7!=_0x2b2430&&_0x365a58[_0xbf45b0(0x13f)](_0x2e66c2),_0x706d5d[_0xbf45b0(0x13f)]({'coin':_0x20ebb7,'symbol':_0x2e66c2,'reverse':![],'number':Math[_0xbf45b0(0x22b)](_0x1edc62+(_0x3615fb&&_0x3615fb[_0xbf45b0(0x231)]||0x0),0x0),'orderstatus':_0x2fa467?_0x2fa467[_0xbf45b0(0x1b7)]:_0xbf45b0(0x160)});else(_0x1edc62['toString']()!=0x0||_0x3615fb)&&allSymbols[_0xbf45b0(0x1f5)](_0x116cbb)&&(_0x20ebb7!=_0x2b2430&&_0x365a58[_0xbf45b0(0x13f)](_0x116cbb),_0x706d5d[_0xbf45b0(0x13f)]({'coin':_0x20ebb7,'symbol':_0x116cbb,'reverse':!![],'number':Math[_0xbf45b0(0x22b)](_0x1edc62+(_0x3615fb&&_0x3615fb['offset']||0x0),0x0),'orderstatus':_0x2fa467?_0x2fa467[_0xbf45b0(0x1b7)]:'none'}));}}}}catch(_0x1ea63b){if(!_0x1fa695)handleErrorNoStop(_0x1ea63b,_0xbf45b0(0x179));else await handleError(_0x1ea63b,_0xbf45b0(0x179));}return _0x41ffe2=cloneDeep(_0x706d5d),_0x706d5d=_0x706d5d['filter'](_0x55be20=>{const _0x2d7891=_0xbf45b0,_0x4d7be1=config['portfolio'][_0x2d7891(0x191)](_0xdfeb3e=>_0xdfeb3e[_0x2d7891(0x1db)]==_0x55be20['coin']);return _0x4d7be1&&!_0x4d7be1[_0x2d7891(0x175)];}),[_0x706d5d,_0x41ffe2];}async function getCoinNumber(_0x5ca439){const _0x1fb793=_0x40c748;let _0x358d57;try{const _0x41b497=await exchange[_0x1fb793(0x137)]();_0x358d57=_0x41b497[_0x1fb793(0x1a7)][_0x5ca439];}catch(_0xb88af2){await handleError(_0xb88af2,_0x1fb793(0x27b));}return _0x358d57;}async function getOpenOrders(){const _0x5e8cc0=_0x40c748;let _0x4fbd36;allOpenOrders=[];try{for(const _0x7991fc of config[_0x5e8cc0(0x223)]){!_0x7991fc['excluded']&&_0x7991fc['coin']!=config[_0x5e8cc0(0x1ea)]&&(_0x4fbd36=await exchange[_0x5e8cc0(0x2a3)](_0x7991fc[_0x5e8cc0(0x199)]),_0x4fbd36[_0x5e8cc0(0x171)]>0x0&&allOpenOrders[_0x5e8cc0(0x13f)](_0x4fbd36[0x0]));}}catch(_0x34d307){await handleError(_0x34d307,'getOpenOrders()');}}async function handleOpenOrders(_0x201194=0x0){const _0x65353d=_0x40c748;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x65353d(0x1e3)]&&allOrdersPlaced&&(_0x201194==0x0?(logger[_0x65353d(0x1ba)](_0x65353d(0x1af)),_0x201194++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x65353d(0x1ba)](_0x65353d(0x29f)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x35908f){const _0x46c8dc=_0x40c748,_0x5d3c66=ccxt[_0x35908f['exchange'][_0x46c8dc(0x1aa)]()],_0x304991=new _0x5d3c66({'apiKey':_0x35908f[_0x46c8dc(0x26a)],'secret':_0x35908f[_0x46c8dc(0x1b2)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x35908f[_0x46c8dc(0x19c)])_0x304991[_0x46c8dc(0x192)]=_0x35908f[_0x46c8dc(0x19c)];try{await _0x304991[_0x46c8dc(0x262)]();}catch(_0x21a75c){throw _0x21a75c;}}function cloneDeep(_0xa6299d){const _0x30f721=_0x40c748;return JSON[_0x30f721(0x146)](JSON['stringify'](_0xa6299d));}async function getPortfolio(_0x3005ba){const _0x125e1e=_0x40c748;let _0x309b12=[],_0x9b9401=[],_0x352625=[],_0x5a07c8;if(_0x3005ba['apiKey']!==_0x125e1e(0x13d)||_0x3005ba[_0x125e1e(0x1b2)]!==_0x125e1e(0x13d)||_0x3005ba[_0x125e1e(0x19c)]&&_0x3005ba[_0x125e1e(0x19c)]!==_0x125e1e(0x13d)){if(config[_0x125e1e(0x1cd)]){if(_0x3005ba[_0x125e1e(0x26a)]==_0x125e1e(0x13d))_0x3005ba[_0x125e1e(0x26a)]=config['apiKey'];if(_0x3005ba[_0x125e1e(0x1b2)]=='************')_0x3005ba[_0x125e1e(0x1b2)]=config[_0x125e1e(0x1b2)];if(_0x3005ba['apiPassword']=='************')_0x3005ba[_0x125e1e(0x19c)]=config[_0x125e1e(0x19c)];try{await testAPI(_0x3005ba);}catch(_0x2d7887){if(_0x2d7887[_0x125e1e(0x1f9)]()['includes'](_0x125e1e(0x16b))){logger[_0x125e1e(0x1ba)](_0x125e1e(0x15b)),proxyEmit(_0x125e1e(0x223),![]);return;}else{handleError(_0x2d7887,_0x125e1e(0x288));return;}}}await initExchange(_0x3005ba[_0x125e1e(0x1cd)],_0x3005ba[_0x125e1e(0x26a)],_0x3005ba['apiSecret'],_0x3005ba[_0x125e1e(0x19c)]);try{await loadSymbols(_0x3005ba[_0x125e1e(0x1cd)],!![]);}catch(_0x27f08c){if(_0x27f08c['toString']()[_0x125e1e(0x1f5)](_0x125e1e(0x16b))){proxyEmit(_0x125e1e(0x223),![]);return;}else{handleError(_0x27f08c,'getPortfolio(1)');return;}}const _0x5e77bb=await getCoins(![],_0x3005ba['basecoin']);_0x352625=cloneDeep(_0x5e77bb[0x1]);}else _0x352625=cloneDeep(currentCoinsAll);if(_0x3005ba[_0x125e1e(0x1ea)]=='')proxyEmit(_0x125e1e(0x223),_0x352625);else{_0x352625['forEach'](_0x2cb0e4=>{const _0x3a727f=_0x125e1e;if(_0x2cb0e4['coin']!=_0x3005ba['basecoin'])_0x309b12[_0x3a727f(0x13f)](_0x2cb0e4[_0x3a727f(0x199)]);});try{_0x9b9401=await exchange[_0x125e1e(0x18b)](_0x309b12);}catch(_0x236d21){if(_0x236d21[_0x125e1e(0x1f9)]()[_0x125e1e(0x1f5)](_0x125e1e(0x16b))){proxyEmit(_0x125e1e(0x223),![]);return;}else{handleError(_0x236d21,_0x125e1e(0x298));return;}}_0x352625[_0x125e1e(0x198)](_0x5034f2=>{const _0x5a467f=_0x125e1e;_0x5034f2[_0x5a467f(0x1db)]!=_0x3005ba[_0x5a467f(0x1ea)]?_0x5a07c8=_0x5034f2[_0x5a467f(0x265)]?0x1/_0x9b9401[_0x5034f2['symbol']][_0x5a467f(0x230)]:_0x9b9401[_0x5034f2[_0x5a467f(0x199)]]['last']:_0x5a07c8=0x1,_0x5034f2[_0x5a467f(0x122)]=formatResult(_0x5a07c8,0x8);}),proxyEmit('portfolio',_0x352625);}}function truncateTradeAmount(_0x5ebefb,_0x866f25){let _0x38039d=0x0;try{_0x38039d=exchange['amountToPrecision'](_0x5ebefb,_0x866f25);}catch(_0x2afa01){}return _0x38039d;}function checkMinimums(_0xb83e21){const _0x23aa71=_0x40c748;let _0x59ec05=!![];const _0x40bc93=!_0xb83e21[_0x23aa71(0x265)]?markets[_0xb83e21[_0x23aa71(0x199)]][_0x23aa71(0x152)][_0x23aa71(0x176)]['min']:markets[_0xb83e21['symbol']][_0x23aa71(0x152)][_0x23aa71(0x161)][_0x23aa71(0x257)],_0x3b4f6c=!_0xb83e21['reverse']?markets[_0xb83e21['symbol']][_0x23aa71(0x152)][_0x23aa71(0x161)]['min']:markets[_0xb83e21[_0x23aa71(0x199)]][_0x23aa71(0x152)][_0x23aa71(0x176)]['min'],_0x11a069=truncateTradeAmount(_0xb83e21[_0x23aa71(0x199)],_0xb83e21[_0x23aa71(0x1cf)]);_0xb83e21['trade']=_0x11a069;if(Math[_0x23aa71(0x144)](_0x11a069)<_0x40bc93)_0x59ec05=![];if(Math[_0x23aa71(0x144)](_0x11a069)*_0xb83e21[_0x23aa71(0x230)]<_0x3b4f6c)_0x59ec05=![];if(_0xb83e21[_0x23aa71(0x1b9)]=='sell'){let _0x3f38c5=config[_0x23aa71(0x223)][_0x23aa71(0x191)](_0x671042=>_0x671042[_0x23aa71(0x1db)]==_0xb83e21[_0x23aa71(0x1db)]);if(_0x3f38c5[_0x23aa71(0x231)]>0x0){if(Math['abs'](_0x11a069)>_0xb83e21['number']-_0x3f38c5[_0x23aa71(0x231)])_0x59ec05=![];}else{if(Math['abs'](_0x11a069)>_0xb83e21[_0x23aa71(0x247)])_0x59ec05=![];}}if(_0xb83e21[_0x23aa71(0x1b9)]==_0x23aa71(0x12e)){let _0x2b05f4=config['portfolio'][_0x23aa71(0x191)](_0x2715a0=>_0x2715a0[_0x23aa71(0x1db)]==config[_0x23aa71(0x1ea)]),_0x4294f4=currentCoins['find'](_0x7d3e7=>_0x7d3e7[_0x23aa71(0x1db)]==config[_0x23aa71(0x1ea)]);if(_0x2b05f4[_0x23aa71(0x231)]>0x0){if(Math[_0x23aa71(0x144)](_0x11a069)*_0xb83e21[_0x23aa71(0x230)]>_0x4294f4[_0x23aa71(0x247)]-_0x2b05f4[_0x23aa71(0x231)])_0x59ec05=![];}else{if(Math[_0x23aa71(0x144)](_0x11a069)*_0xb83e21[_0x23aa71(0x230)]>_0x4294f4[_0x23aa71(0x247)])_0x59ec05=![];}}return _0x59ec05;}async function getBalances(){const _0x4fdb1e=_0x40c748;let _0x21f3d9=0x0,_0xb0864e;const _0x4b59de=config['threshold'];if(config[_0x4fdb1e(0x17e)]&&config[_0x4fdb1e(0x1e4)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x2d46a2=>{const _0x320ec0=_0x4fdb1e;if(_0x2d46a2[_0x320ec0(0x1db)]!=config[_0x320ec0(0x1ea)]){let _0x215948=global[_0x320ec0(0x205)][noslash(_0x2d46a2['symbol'])];_0xb0864e=_0x2d46a2[_0x320ec0(0x265)]?0x1/_0x215948:_0x215948;}else _0xb0864e=0x1;let _0x315887=_0x2d46a2[_0x320ec0(0x247)]*_0xb0864e;_0x21f3d9+=_0x315887,_0x2d46a2[_0x320ec0(0x230)]=formatResult(Number(_0xb0864e),0x8),_0x2d46a2[_0x320ec0(0x134)]=_0x315887;}),currentCoins['forEach'](_0xd63313=>{const _0x59492c=_0x4fdb1e;let _0x91325c=config[_0x59492c(0x223)]['find'](_0x47ae3a=>_0x47ae3a[_0x59492c(0x1db)]==_0xd63313[_0x59492c(0x1db)]),_0x5a28eb=Number(_0x91325c[_0x59492c(0x284)]),_0x2b9d00=_0xd63313[_0x59492c(0x134)]/_0x21f3d9*0x64,_0x7f2474=_0x5a28eb*_0x21f3d9/0x64/_0xd63313[_0x59492c(0x230)]-_0xd63313[_0x59492c(0x247)];_0xd63313[_0x59492c(0x284)]=formatResult(_0x2b9d00,0x3),_0xd63313[_0x59492c(0x147)]=formatResult(_0x5a28eb,0x3),_0xd63313[_0x59492c(0x1cf)]=formatResult(_0x7f2474,0x8),_0xd63313[_0x59492c(0x1b9)]='',_0xd63313[_0x59492c(0x17a)]=![];if(_0xd63313['coin']!=config[_0x59492c(0x1ea)]){if(_0xd63313[_0x59492c(0x284)]>_0x5a28eb)_0xd63313[_0x59492c(0x1b9)]=_0x59492c(0x260),_0xd63313[_0x59492c(0x17a)]=checkMinimums(_0xd63313);else _0xd63313[_0x59492c(0x284)]<_0x5a28eb&&(_0xd63313[_0x59492c(0x1b9)]=_0x59492c(0x12e),_0xd63313[_0x59492c(0x17a)]=checkMinimums(_0xd63313));}_0xd63313[_0x59492c(0x1ad)]=_0xd63313[_0x59492c(0x284)]/_0xd63313[_0x59492c(0x147)]-0x1;if(_0xd63313[_0x59492c(0x1b7)]==_0x59492c(0x22a)||_0xd63313[_0x59492c(0x1b7)]==_0x59492c(0x245))_0xd63313[_0x59492c(0x1b7)]=_0x59492c(0x160);}),currentCoins[_0x4fdb1e(0x261)]((_0x10f46d,_0x2752d9)=>_0x10f46d['delta']<_0x2752d9['delta']?0x1:_0x2752d9[_0x4fdb1e(0x1ad)]<_0x10f46d['delta']?-0x1:0x0);const _0x4cb352=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4cb352['eur'],'usd':_0x4cb352[_0x4fdb1e(0x279)],'portfolio':JSON[_0x4fdb1e(0x28e)](currentCoins),'threshold':_0x4b59de},proxyEmit(_0x4fdb1e(0x272),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x4fdb1e(0x17e)])headlessMode({'portfolio':currentCoins,'threshold':_0x4b59de});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4b59de});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x2b168e=getNormalizedPerformance();getStartingBalances(_0x2b168e),emitPerformance(_0x2b168e);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x13eef2=getNormalizedPerformance();emitPerformance(_0x13eef2),getStartingBalances(_0x13eef2),logger[_0x4fdb1e(0x1ba)](_0x4fdb1e(0x208));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x49b89a=_0x40c748;if(!lastBalances)return;let _0x5c0b82=[],_0x371328,_0x2a751f=JSON[_0x49b89a(0x146)](lastBalances[_0x49b89a(0x223)]);_0x2a751f[_0x49b89a(0x261)]((_0x18cc1f,_0x4a4f1e)=>_0x18cc1f['coin']>_0x4a4f1e['coin']?0x1:_0x4a4f1e[_0x49b89a(0x1db)]>_0x18cc1f[_0x49b89a(0x1db)]?-0x1:0x0),_0x2a751f[_0x49b89a(0x198)](_0x4cfa66=>{const _0x18d099=_0x49b89a;let _0x3b5ac7={'coin':_0x4cfa66[_0x18d099(0x1db)],'number':_0x4cfa66[_0x18d099(0x247)],'price':_0x4cfa66[_0x18d099(0x230)]};_0x5c0b82['push'](_0x3b5ac7);});const _0x3d92ba=await getFiat();_0x371328={'date':lastBalances['time'][_0x49b89a(0x27e)]('\x20')[0x0],'eur':_0x3d92ba['eur'],'usd':_0x3d92ba[_0x49b89a(0x279)],'coins':_0x5c0b82};let _0x1fbe52=dbPerformance[_0x49b89a(0x22c)](_0x49b89a(0x159))[_0x49b89a(0x191)]({'date':_0x371328['date']})[_0x49b89a(0x134)]();_0x1fbe52?_0x371328[_0x49b89a(0x16f)]!=config[_0x49b89a(0x1d0)]&&dbPerformance[_0x49b89a(0x22c)](_0x49b89a(0x159))[_0x49b89a(0x191)]({'date':_0x371328[_0x49b89a(0x16f)]})[_0x49b89a(0x14e)](_0x371328)['write']():dbPerformance[_0x49b89a(0x22c)](_0x49b89a(0x159))[_0x49b89a(0x13f)](_0x371328)[_0x49b89a(0x11a)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x192cf3=_0x40c748;let _0x354f7f=[];if(dbPerformance[_0x192cf3(0x14f)]('data')[_0x192cf3(0x134)]()){let _0x4a3e09=dbPerformance[_0x192cf3(0x22c)](_0x192cf3(0x159))['cloneDeep']()[_0x192cf3(0x22e)](_0x192cf3(0x16f))[_0x192cf3(0x134)](),_0x5b8b1e=[...config[_0x192cf3(0x215)]];_0x5b8b1e[_0x192cf3(0x261)]((_0x3a0cdb,_0x1e8a0f)=>_0x3a0cdb['date']>_0x1e8a0f[_0x192cf3(0x16f)]?-0x1:_0x1e8a0f[_0x192cf3(0x16f)]>_0x3a0cdb[_0x192cf3(0x16f)]?0x1:0x0);let _0x3ca1f0=0x1,_0x539f2a=[],_0x300594=0x0;_0x4a3e09[_0x192cf3(0x299)]()[_0x192cf3(0x265)]()['forEach']((_0x4ee53f,_0x1a2588)=>{const _0x1353c3=_0x192cf3;if(_0x5b8b1e[_0x300594]){if(_0x4a3e09[_0x4a3e09[_0x1353c3(0x171)]-_0x1a2588]&&_0x5b8b1e[_0x300594][_0x1353c3(0x16f)]==_0x4a3e09[_0x4a3e09[_0x1353c3(0x171)]-_0x1a2588][_0x1353c3(0x16f)]){if(_0x1a2588<_0x4a3e09[_0x1353c3(0x171)]){let _0x3dcfd1=0x0,_0x5564c8=0x0;_0x4a3e09[_0x4a3e09[_0x1353c3(0x171)]-_0x1a2588]['coins'][_0x1353c3(0x198)](_0x3b037d=>{const _0x39b5b5=_0x1353c3;_0x5564c8+=_0x3b037d[_0x39b5b5(0x247)]*_0x3b037d[_0x39b5b5(0x122)];}),_0x5b8b1e[_0x300594][_0x1353c3(0x17d)][_0x1353c3(0x198)](_0x31c538=>{const _0x2085df=_0x1353c3;_0x3dcfd1+=_0x31c538[_0x2085df(0x247)]*_0x31c538['price'];}),_0x3ca1f0*=_0x3dcfd1/(_0x5564c8-_0x3dcfd1)+0x1;}_0x300594++;}}let _0x21488d=0x0;_0x4ee53f['coins']['forEach'](_0x311a34=>{const _0x55e741=_0x1353c3;_0x21488d+=_0x311a34['number']*_0x311a34[_0x55e741(0x122)];}),_0x539f2a[_0x4a3e09[_0x1353c3(0x171)]-_0x1a2588-0x1]=_0x21488d*(_0x3ca1f0-0x1);});let _0x55d896=[];_0x5b8b1e=[...config['liquidity']]||[];let _0x39763b=0x0;_0x300594=0x0,_0x4a3e09[_0x192cf3(0x198)]((_0x2ff31d,_0x5de81c)=>{const _0x1bb7c6=_0x192cf3;if(_0x5b8b1e[_0x300594]){const _0x19006f=fns[_0x1bb7c6(0x146)](_0x5b8b1e[_0x300594]['date'],_0x1bb7c6(0x228),new Date()),_0x100e0e=fns[_0x1bb7c6(0x146)](_0x2ff31d[_0x1bb7c6(0x16f)],_0x1bb7c6(0x228),new Date());if(fns[_0x1bb7c6(0x1b4)](_0x19006f,_0x100e0e)){let _0x481f37=0x0;_0x5b8b1e[_0x300594][_0x1bb7c6(0x17d)][_0x1bb7c6(0x198)](_0x154f44=>{const _0x146fd3=_0x1bb7c6;!_0x55d896[_0x154f44[_0x146fd3(0x1db)]]?_0x55d896[_0x154f44[_0x146fd3(0x1db)]]=_0x154f44[_0x146fd3(0x247)]:(_0x481f37=_0x55d896[_0x154f44['coin']],_0x55d896[_0x154f44['coin']]+=_0x154f44[_0x146fd3(0x247)]);const _0x233161=_0x2ff31d[_0x146fd3(0x258)][_0x146fd3(0x191)](_0x15cd48=>_0x15cd48['coin']==_0x154f44[_0x146fd3(0x1db)]);(!_0x233161||_0x233161[_0x146fd3(0x247)]==0x0)&&(_0x39763b+=(-_0x154f44['number']-_0x481f37)*_0x154f44['price']);}),_0x300594++;}}_0x2ff31d[_0x1bb7c6(0x258)]['forEach']((_0x356d68,_0x48c39d)=>{const _0x3a90fc=_0x1bb7c6;_0x55d896[_0x356d68[_0x3a90fc(0x1db)]]&&(_0x356d68['initial']=_0x55d896[_0x356d68[_0x3a90fc(0x1db)]]);}),_0x354f7f[_0x1bb7c6(0x13f)]({'date':_0x2ff31d[_0x1bb7c6(0x16f)],'eur':_0x2ff31d[_0x1bb7c6(0x1b5)],'usd':_0x2ff31d['usd'],'offset':_0x539f2a[_0x5de81c],'netoffset':_0x39763b,'coins':_0x2ff31d['coins']});});}return _0x354f7f;}function _0x1a68(_0xd56a7,_0x4ac1ef){const _0x5b71c3=_0x1364();return _0x1a68=function(_0x244ba7,_0x546148){_0x244ba7=_0x244ba7-0x11a;let _0x13642c=_0x5b71c3[_0x244ba7];return _0x13642c;},_0x1a68(_0xd56a7,_0x4ac1ef);}function emitPerformance(_0x36419e){const _0x4734b9=_0x40c748;_0x36419e[_0x4734b9(0x171)]!==0x0?(proxyEmit(_0x4734b9(0x1fa),_0x36419e),lastPerformanceEmitted=getDate()):proxyEmit(_0x4734b9(0x1fa),[]);}function getPerf(_0x3d2add,_0x2b65fc){const _0xfc39fa=_0x40c748;let _0x97c7a6=0x0,_0xc376ef=0x0,_0x112d00=0x0;_0x3d2add[_0xfc39fa(0x258)]['forEach'](_0x1df338=>{const _0x126d4b=_0xfc39fa;_0x97c7a6+=_0x1df338[_0x126d4b(0x247)]*_0x1df338[_0x126d4b(0x122)];});_0x2b65fc&&(_0x97c7a6+=_0x3d2add[_0xfc39fa(0x231)]);if(config[_0xfc39fa(0x1ea)]===_0xfc39fa(0x185)||config[_0xfc39fa(0x1ea)]===_0xfc39fa(0x13c))_0xc376ef=_0x97c7a6*_0x3d2add[_0xfc39fa(0x1b5)],_0x112d00=_0x97c7a6*_0x3d2add[_0xfc39fa(0x279)];else{if(config['basecoin']==='BUSD'||config[_0xfc39fa(0x1ea)]==='USDT'||config[_0xfc39fa(0x1ea)]===_0xfc39fa(0x195))_0xc376ef=_0x97c7a6*_0x3d2add[_0xfc39fa(0x1b5)]/_0x3d2add['usd'],_0x112d00=_0x97c7a6;else config[_0xfc39fa(0x1ea)]==='EUR'&&(_0xc376ef=_0x97c7a6,_0x112d00=_0x97c7a6*_0x3d2add[_0xfc39fa(0x279)]/_0x3d2add[_0xfc39fa(0x1b5)]);}return[_0x97c7a6,_0xc376ef,_0x112d00];}function getKPIs(_0x5f5992,_0x35c0ba=_0x40c748(0x138)){const _0xf8f7b4=_0x40c748,_0x2fd3b5=config['basecoin'],_0x259835=lastBalances,_0x5d1c6e=currentCoins,_0x651a83=getNormalizedPerformance(),_0x5e57f5=_0x5f5992==='basecoin'?_0x2fd3b5:_0x5f5992===_0xf8f7b4(0x1c8)||_0x5f5992==='net-fiat'?_0x35c0ba:'Net\x20'+_0x2fd3b5,_0xf90327=_0x5f5992===_0xf8f7b4(0x14b)?'Net\x20effect':_0x5f5992===_0xf8f7b4(0x166)?_0xf8f7b4(0x28c):_0x5e57f5+_0xf8f7b4(0x282),_0x82d2af=_0x5f5992===_0xf8f7b4(0x14b)||_0x5f5992==='net-fiat'?_0xf8f7b4(0x28c):_0x5e57f5+_0xf8f7b4(0x193);let _0x5aef6c=0x0;_0x5d1c6e[_0xf8f7b4(0x198)](_0x21d2ee=>{const _0x29b3db=_0xf8f7b4;_0x5aef6c+=_0x21d2ee['number']*_0x21d2ee[_0x29b3db(0x230)];});if(_0x5f5992===_0xf8f7b4(0x1c8)||_0x5f5992===_0xf8f7b4(0x166)){if(_0x2fd3b5==='BTC'||_0x2fd3b5===_0xf8f7b4(0x13c))_0x5aef6c=_0x5aef6c*(_0x35c0ba===_0xf8f7b4(0x138)?_0x259835[_0xf8f7b4(0x1b5)]:_0x259835[_0xf8f7b4(0x279)]);else{if(_0x2fd3b5===_0xf8f7b4(0x237)||_0x2fd3b5===_0xf8f7b4(0x1c7)||_0x2fd3b5===_0xf8f7b4(0x195))_0x5aef6c=_0x5aef6c*(_0x35c0ba===_0xf8f7b4(0x138)?_0x259835[_0xf8f7b4(0x1b5)]/_0x259835['usd']:0x1);else _0x2fd3b5==='EUR'&&(_0x5aef6c=_0x5aef6c*(_0x35c0ba===_0xf8f7b4(0x138)?0x1:_0x259835[_0xf8f7b4(0x279)]/_0x259835[_0xf8f7b4(0x1b5)]));}}let _0x170720;if(_0x5aef6c!==0x0){if(_0x5f5992===_0xf8f7b4(0x1ea))_0x170720=(_0x5aef6c/startingBalances[_0xf8f7b4(0x1ea)]-0x1)*0x64;else{if(_0x35c0ba===_0xf8f7b4(0x138))_0x170720=(_0x5aef6c/startingBalances['eur']-0x1)*0x64;else _0x170720=(_0x5aef6c/startingBalances[_0xf8f7b4(0x279)]-0x1)*0x64;}let _0x4cd4f3=0x0;if(startingBalances['coins'])_0x5d1c6e[_0xf8f7b4(0x198)](_0x9bcd83=>{const _0x36b909=_0xf8f7b4;let _0x100bb7=startingBalances[_0x36b909(0x258)]['find'](_0x4de625=>_0x4de625[_0x36b909(0x1db)]===_0x9bcd83[_0x36b909(0x1db)]);if(_0x100bb7&&_0x100bb7[_0x36b909(0x1db)]&&_0x9bcd83[_0x36b909(0x247)]!==0x0)_0x4cd4f3+=_0x100bb7[_0x36b909(0x247)]*_0x9bcd83['last'];});let _0x2ba2f0=0x0;if(_0x651a83[_0xf8f7b4(0x171)]!==0x0){let _0x237188=_0x651a83[_0x651a83[_0xf8f7b4(0x171)]-0x1];_0x2ba2f0=_0x237188[_0xf8f7b4(0x294)];}_0x4cd4f3-=_0x2ba2f0;_0x5f5992===_0xf8f7b4(0x14b)&&(_0x170720=(_0x5aef6c-_0x4cd4f3)/startingBalances[_0xf8f7b4(0x1ea)]*0x64,_0x5aef6c=_0x5aef6c-_0x4cd4f3);if(_0x5f5992===_0xf8f7b4(0x166)){let _0x1c7a4c=_0x35c0ba===_0xf8f7b4(0x138)?startingBalances[_0xf8f7b4(0x1b5)]:startingBalances['usd'];if(_0x2fd3b5==='BTC'||_0x2fd3b5===_0xf8f7b4(0x13c))_0x4cd4f3=_0x35c0ba==='EUR'?_0x4cd4f3*_0x259835[_0xf8f7b4(0x1b5)]:_0x4cd4f3*_0x259835['usd'];else{if(_0x2fd3b5===_0xf8f7b4(0x237)||_0x2fd3b5===_0xf8f7b4(0x1c7)||_0x2fd3b5==='USD')_0x4cd4f3=_0x35c0ba===_0xf8f7b4(0x138)?_0x4cd4f3*_0x259835[_0xf8f7b4(0x1b5)]/_0x259835[_0xf8f7b4(0x279)]:_0x4cd4f3;else _0x2fd3b5===_0xf8f7b4(0x138)&&(_0x4cd4f3=_0x35c0ba===_0xf8f7b4(0x138)?_0x4cd4f3:_0x4cd4f3*_0x259835[_0xf8f7b4(0x279)]/_0x259835['eur']);}_0x170720=(_0x5aef6c-_0x4cd4f3)/_0x1c7a4c*0x64,_0x5aef6c=_0x5aef6c-_0x4cd4f3;}if(_0x170720){if(_0x170720<0x64)_0x170720=_0x170720['toFixed'](0x2);else{if(_0x170720<0x3e8)_0x170720=_0x170720[_0xf8f7b4(0x25d)](0x1);else _0x170720=_0x170720[_0xf8f7b4(0x25d)](0x0);}}else _0x170720=Number('0')[_0xf8f7b4(0x25d)](0x2);if(_0x5aef6c){if(Math['abs'](_0x5aef6c)<0.000001)_0x5aef6c=_0x5aef6c[_0xf8f7b4(0x25d)](0x2);else{if(Math['abs'](_0x5aef6c)<0.1)_0x5aef6c=_0x5aef6c['toFixed'](0x6);else{if(Math[_0xf8f7b4(0x144)](_0x5aef6c)<0x1)_0x5aef6c=_0x5aef6c[_0xf8f7b4(0x25d)](0x5);else{if(Math[_0xf8f7b4(0x144)](_0x5aef6c)<0xa)_0x5aef6c=_0x5aef6c['toFixed'](0x4);else{if(Math[_0xf8f7b4(0x144)](_0x5aef6c)<0x64)_0x5aef6c=_0x5aef6c[_0xf8f7b4(0x25d)](0x3);else{if(Math['abs'](_0x5aef6c)<0x3e8)_0x5aef6c=_0x5aef6c[_0xf8f7b4(0x25d)](0x2);else _0x5aef6c=_0x5aef6c[_0xf8f7b4(0x25d)](0x2);}}}}}}else _0x5aef6c=Number('0')[_0xf8f7b4(0x25d)](0x2);}else _0x170720=Number('0')[_0xf8f7b4(0x25d)](0x2);return{'value':_0x5aef6c,'change':_0x170720,'leftTxt':_0xf90327,'rightTxt':_0x82d2af};}async function getStartingBalances(_0x54eb53,_0x1628fa=!![]){const _0xb751d0=_0x40c748;if(_0x54eb53[_0xb751d0(0x171)]!==0x0){const [_0x24e1a3,_0x1ec78f,_0x1c6971]=getPerf(_0x54eb53[0x0],!![]);let _0x556493=[];config[_0xb751d0(0x223)][_0xb751d0(0x198)](_0x2a8f72=>{const _0x2c32b1=_0xb751d0;let _0xef5f35=0x0,_0x3c8ca8;config[_0x2c32b1(0x215)]['forEach'](_0x686244=>{const _0x48ac99=_0x2c32b1;let _0x4331d6=_0x686244[_0x48ac99(0x17d)]['find'](_0x37433c=>_0x37433c['coin']==_0x2a8f72[_0x48ac99(0x1db)]);if(_0x4331d6){_0xef5f35+=_0x4331d6['number'];if(!_0x3c8ca8)_0x3c8ca8=_0x4331d6[_0x48ac99(0x122)];}}),_0x556493['push']({'coin':_0x2a8f72['coin'],'number':_0xef5f35,'initialprice':_0x3c8ca8});});const _0x4b13f0={'basecoin':_0x24e1a3,'eur':_0x1ec78f,'usd':_0x1c6971,'coins':_0x556493};if(_0x1628fa)proxyEmit(_0xb751d0(0x244),_0x4b13f0);startingBalances=_0x4b13f0;}}function headlessMode(_0x229fe5){const _0x503ade=_0x40c748;let _0x2f2214=_0x229fe5[_0x503ade(0x223)],_0x19afe6=_0x229fe5[_0x503ade(0x154)],_0x6bbf03=[];for(let _0x3c93ff of _0x2f2214){if(_0x3c93ff['coin']!=config[_0x503ade(0x1ea)]){if(_0x3c93ff[_0x503ade(0x1ad)]>=_0x19afe6/0x64){if(_0x3c93ff['valid'])_0x6bbf03['push'](_0x3c93ff);}else{if(_0x3c93ff[_0x503ade(0x1ad)]<=-_0x19afe6/0x64){if(_0x3c93ff[_0x503ade(0x17a)])_0x6bbf03['push'](_0x3c93ff);}}}}_0x6bbf03[_0x503ade(0x171)]>0x0&&placeOrder(_0x6bbf03);}function notifyBalance(_0x1855a2){const _0x36be02=_0x40c748;let _0xe3b69c=_0x1855a2[_0x36be02(0x223)],_0x9012ad=_0x1855a2[_0x36be02(0x154)],_0x9fc921=[];for(let _0x3982ca of _0xe3b69c){if(_0x3982ca['coin']!=config[_0x36be02(0x1ea)]){if(_0x3982ca[_0x36be02(0x1ad)]>=_0x9012ad/0x64){if(_0x3982ca[_0x36be02(0x17a)])_0x9fc921[_0x36be02(0x13f)](_0x3982ca);}else{if(_0x3982ca[_0x36be02(0x1ad)]<=-_0x9012ad/0x64){if(_0x3982ca[_0x36be02(0x17a)])_0x9fc921[_0x36be02(0x13f)](_0x3982ca);}}}}if(_0x9fc921[_0x36be02(0x171)]>0x0){let _0xdc3319=_0x9fc921[_0x36be02(0x209)](_0x359e18=>_0x359e18[_0x36be02(0x1db)]);_0xdc3319['sort']();let _0x42f4c7=_0xdc3319[_0x36be02(0x145)](',\x20');if(!lastCoinsToBalance)logHistory(_0x36be02(0x229),_0x36be02(0x162));lastCoinsToBalance=_0x42f4c7;}}function symbolToCoin(_0x195ce4){const _0x465bc5=_0x40c748;let _0x1f5529;if(_0x195ce4[_0x465bc5(0x1f5)]('/'+config['basecoin']))_0x1f5529=_0x195ce4[_0x465bc5(0x1fc)]('/'+config[_0x465bc5(0x1ea)],'');if(_0x195ce4[_0x465bc5(0x1f5)](config[_0x465bc5(0x1ea)]+'/'))_0x1f5529=_0x195ce4['replace'](config[_0x465bc5(0x1ea)]+'/','');return _0x1f5529;}async function unlockOrders(){const _0x463158=_0x40c748;if(allOrdersPlaced&&lockOrders==ORDERS[_0x463158(0x1e3)]){logger[_0x463158(0x1ba)](_0x463158(0x1ca)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x54b7dc=await getCoins();[currentCoins,currentCoinsAll]=_0x54b7dc,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x463158(0x1ba)](_0x463158(0x18d));}}async function validateOrders(_0xd70cb2){const _0xc29b4f=_0x40c748;if(_0xd70cb2)validateOrdersState=_0xd70cb2;logger[_0xc29b4f(0x1ba)](_0xc29b4f(0x194)+validateOrdersState+_0xc29b4f(0x234)+(lockOrders==0x1?_0xc29b4f(0x16a):lockOrders==0x2?_0xc29b4f(0x29c):_0xc29b4f(0x1da)));let _0x1cfb48=[],_0x5163dd=config[_0xc29b4f(0x1ee)]==_0xc29b4f(0x254)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0xc29b4f(0x157)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0xc29b4f(0x1ba)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0xc29b4f(0x198)](_0xa26005=>{const _0x406a2d=_0xc29b4f;let _0x949e12=![];_0xa26005[_0x406a2d(0x22a)]>0x0&&(_0x949e12=!![]),_0x1cfb48[_0x406a2d(0x13f)](_0x949e12),_0x949e12&&config['ordertype']!=_0x406a2d(0x254)&&logHistory(_0x406a2d(0x220),_0x406a2d(0x285)+_0xa26005[_0x406a2d(0x199)]+'\x20'+_0xa26005[_0x406a2d(0x1b9)]+'\x20#'+formatResult(_0xa26005[_0x406a2d(0x22a)],0x8)+'\x20@'+formatResult(_0xa26005[_0x406a2d(0x122)],0x8));}),_0x1cfb48[_0xc29b4f(0x198)]((_0x4faa62,_0x83b27d)=>{const _0x3e336a=_0xc29b4f;if(_0x4faa62)lastOrders[_0x3e336a(0x200)](_0x83b27d,0x1);}),persistOpenOrders(lastOrders);const _0x139f6b=coolingDown?_0xc29b4f(0x1f2):_0xc29b4f(0x23f);if(validateOrdersState==_0xc29b4f(0x241)){validateOrdersState='ongoing';if(_0x1cfb48[_0xc29b4f(0x1f5)](![])){if(config['ordertype']==_0xc29b4f(0x254)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x1cfb48[_0xc29b4f(0x1f5)](![])){}else{if(allOrdersPlaced){if(config[_0xc29b4f(0x1ee)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x1cfb48[_0xc29b4f(0x1f5)](![])&&(config['ordertype']=='market'?logHistory('success',_0xc29b4f(0x21b)+Math[_0xc29b4f(0x21f)](_0x5163dd*validateOrderInterval/0xea60)+_0xc29b4f(0x24a)+_0x139f6b):(await cancelOrders(),logHistory(_0xc29b4f(0x295),_0xc29b4f(0x1a9)+Math[_0xc29b4f(0x21f)](_0x5163dd*validateOrderInterval/0xea60)+_0xc29b4f(0x24a)+_0x139f6b))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0xc29b4f(0x1ee)]!=_0xc29b4f(0x254))logHistory(_0xc29b4f(0x295),_0xc29b4f(0x1e0)+_0x139f6b);await unlockOrders();}}}}}async function cancelOrders(){const _0x425ef1=_0x40c748;lastOrders[_0x425ef1(0x198)](async _0x147393=>{const _0x4a7c8b=_0x425ef1;try{const _0x22ad97=await exchange[_0x4a7c8b(0x140)](_0x147393[_0x4a7c8b(0x1e6)],_0x147393[_0x4a7c8b(0x199)]);}catch(_0x3cd4e7){if(_0x3cd4e7[_0x4a7c8b(0x1f9)]()[_0x4a7c8b(0x1f5)](_0x4a7c8b(0x167))){}else await handleError(_0x3cd4e7,_0x4a7c8b(0x27c));}});}async function initCoinResults(){const _0x5b31d4=_0x40c748;let _0x273259=[];config[_0x5b31d4(0x223)][_0x5b31d4(0x198)](_0x3861fc=>{const _0x2a820d=_0x5b31d4;if(!_0x3861fc[_0x2a820d(0x175)]&&_0x3861fc['coin']!=config[_0x2a820d(0x1ea)]){let _0x10950b=dbCoinResults[_0x2a820d(0x22c)]('coins')[_0x2a820d(0x191)]({'coin':_0x3861fc['coin']})['value']();if(!_0x10950b){const _0x35d740=currentCoins['find'](_0x46278f=>_0x46278f[_0x2a820d(0x1db)]==_0x3861fc[_0x2a820d(0x1db)]),_0x486e8b=global[_0x2a820d(0x205)][noslash(_0x3861fc[_0x2a820d(0x199)])];let _0x141f62=_0x35d740?_0x35d740['number']:null,_0x1502b1=_0x3861fc['reverse']?0x1/_0x486e8b:_0x486e8b,_0x556d60;config[_0x2a820d(0x215)][_0x2a820d(0x198)](_0x313f71=>{const _0x40935b=_0x2a820d;!_0x556d60&&(_0x556d60=_0x313f71[_0x40935b(0x17d)][_0x40935b(0x191)](_0x508e49=>_0x508e49[_0x40935b(0x1db)]==_0x3861fc[_0x40935b(0x1db)]),_0x556d60&&(_0x141f62=_0x556d60[_0x40935b(0x247)],_0x1502b1=_0x556d60['price']));}),_0x273259['push']({'coin':_0x3861fc[_0x2a820d(0x1db)],'number':_0x141f62,'price':_0x1502b1});}}}),_0x273259['forEach'](_0x4ce9a6=>{const _0x110d20=_0x5b31d4,_0x1fcb04={'coin':_0x4ce9a6[_0x110d20(0x1db)],'number':_0x4ce9a6['number'],'breakeven':_0x4ce9a6['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x110d20(0x22c)](_0x110d20(0x258))['push'](_0x1fcb04)[_0x110d20(0x11a)]();});}async function updateCoinResults(_0x40b443,_0x541dc9=![]){const _0x35a764=_0x40c748;let _0x541002,_0x450bb3,_0x56fe55,_0x444178,_0xb6d395,_0x1fdbc0,_0x3983ab=dbCoinResults[_0x35a764(0x22c)]('coins')[_0x35a764(0x191)]({'coin':_0x40b443['coin']})[_0x35a764(0x134)]();!_0x3983ab&&await initCoinResults();_0x40b443[_0x35a764(0x265)]&&(_0x1fdbc0={'filled':_0x40b443[_0x35a764(0x22a)]*_0x40b443[_0x35a764(0x122)],'amount':_0x40b443[_0x35a764(0x22a)]*_0x40b443[_0x35a764(0x122)],'side':_0x40b443[_0x35a764(0x1b9)]==_0x35a764(0x260)?_0x35a764(0x12e):_0x35a764(0x260),'price':0x1/_0x40b443[_0x35a764(0x122)]},_0x40b443={..._0x40b443,..._0x1fdbc0});_0x541dc9?_0x450bb3=_0x40b443['side']==_0x35a764(0x12e)?_0x3983ab[_0x35a764(0x247)]+_0x40b443['filled']:_0x3983ab[_0x35a764(0x247)]-_0x40b443[_0x35a764(0x22a)]:_0x450bb3=await getCoinNumber(_0x40b443[_0x35a764(0x1db)]);if(_0x40b443['fee']&&_0x40b443[_0x35a764(0x184)][_0x35a764(0x151)]==config[_0x35a764(0x1ea)])_0x541002=_0x40b443[_0x35a764(0x184)][_0x35a764(0x161)];else{if(_0x40b443['fee']&&_0x40b443[_0x35a764(0x184)][_0x35a764(0x151)]==_0x35a764(0x21a)&&!_0x541dc9)_0x541002=_0x40b443[_0x35a764(0x184)][_0x35a764(0x161)]*global[_0x35a764(0x205)][_0x35a764(0x21a)+config['basecoin']];else _0x541002=defaultFee*_0x40b443[_0x35a764(0x22a)]*_0x40b443[_0x35a764(0x122)];}_0x40b443[_0x35a764(0x1b9)]==_0x35a764(0x12e)?(_0x56fe55=_0x450bb3!=0x0?(_0x3983ab['breakeven']*_0x3983ab[_0x35a764(0x247)]+_0x40b443[_0x35a764(0x122)]*(_0x450bb3-_0x3983ab[_0x35a764(0x247)])+_0x541002)/_0x450bb3:0x0,_0x444178=_0x3983ab[_0x35a764(0x1e1)]):(_0x56fe55=_0x450bb3!=0x0?(_0x3983ab[_0x35a764(0x238)]*_0x3983ab[_0x35a764(0x247)]-_0x40b443[_0x35a764(0x122)]*(_0x3983ab[_0x35a764(0x247)]-_0x450bb3)+_0x541002)/_0x450bb3:0x0,_0x444178=_0x3983ab[_0x35a764(0x1e1)]+(_0x40b443[_0x35a764(0x122)]-_0x3983ab[_0x35a764(0x238)])*_0x40b443['filled']);_0xb6d395=(_0x40b443[_0x35a764(0x122)]-_0x56fe55-_0x541002/_0x40b443['filled'])*_0x450bb3;let _0x21fee6={'coin':_0x40b443[_0x35a764(0x1db)],'number':_0x450bb3,'breakeven':formatResult(_0x56fe55,0x8),'realized':formatResult(_0x444178,0x8),'unrealized':formatResult(_0xb6d395,0x8),'fees':formatResult(_0x3983ab[_0x35a764(0x250)]+_0x541002,0x8),'sells':_0x40b443['side']==_0x35a764(0x260)?_0x3983ab['sells']+0x1:_0x3983ab[_0x35a764(0x126)],'buys':_0x40b443[_0x35a764(0x1b9)]==_0x35a764(0x12e)?_0x3983ab[_0x35a764(0x165)]+0x1:_0x3983ab[_0x35a764(0x165)]};dbCoinResults[_0x35a764(0x22c)](_0x35a764(0x258))[_0x35a764(0x191)]({'coin':_0x40b443['coin']})[_0x35a764(0x14e)](_0x21fee6)[_0x35a764(0x11a)]();if(!_0x541dc9){if(_0x40b443[_0x35a764(0x184)]&&_0x40b443['fee']['currency']==_0x35a764(0x21a)){const _0x4da703=currentCoins[_0x35a764(0x191)](_0x5d2529=>_0x5d2529[_0x35a764(0x1db)]=='BNB');if(_0x4da703){let _0x4d7d05=dbCoinResults[_0x35a764(0x22c)](_0x35a764(0x258))[_0x35a764(0x191)]({'coin':'BNB'})[_0x35a764(0x134)]();_0x21fee6={..._0x4d7d05,'number':_0x4da703[_0x35a764(0x247)]},dbCoinResults[_0x35a764(0x22c)](_0x35a764(0x258))[_0x35a764(0x191)]({'coin':'BNB'})[_0x35a764(0x14e)](_0x21fee6)[_0x35a764(0x11a)]();}}}}async function placeOrder(_0x306d2d){const _0x40ab65=_0x40c748,_0x437a8f=config[_0x40ab65(0x1ee)]=='market'?_0x40ab65(0x254):_0x40ab65(0x121);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x40ab65(0x1e3)],allOrdersPlaced=![],validateOrdersState=_0x40ab65(0x241);let _0x2a4eae=![];lastOrders=[];for(const _0x155580 of _0x306d2d){let _0x4d184a,_0xfdb940,_0x64b4ef,_0x2ddfbe,_0x328d18,_0xb311f1=_0x155580['symbol'];try{const _0x21f061=await exchange['fetchTicker'](_0xb311f1);_0x4d184a=_0x155580['reverse']?0x1/_0x155580[_0x40ab65(0x230)]:_0x155580[_0x40ab65(0x230)],_0xfdb940=_0x21f061[_0x40ab65(0x16d)],_0x64b4ef=_0x21f061[_0x40ab65(0x1d4)];_0x155580[_0x40ab65(0x265)]?(_0x2ddfbe=_0x155580[_0x40ab65(0x1b9)]==_0x40ab65(0x12e)?_0x40ab65(0x260):_0x40ab65(0x12e),_0x328d18=Math[_0x40ab65(0x144)](_0x155580[_0x40ab65(0x1cf)])/_0x4d184a):(_0x2ddfbe=_0x155580[_0x40ab65(0x1b9)],_0x328d18=Math[_0x40ab65(0x144)](_0x155580[_0x40ab65(0x1cf)]));_0x437a8f==_0x40ab65(0x121)&&(config[_0x40ab65(0x1ee)]==_0x40ab65(0x1d6)&&(_0x4d184a=_0x2ddfbe==_0x40ab65(0x12e)?_0xfdb940:_0x64b4ef),config['ordertype']==_0x40ab65(0x25a)&&(_0x4d184a=_0x2ddfbe==_0x40ab65(0x12e)?_0x64b4ef:_0xfdb940));_0x328d18=formatResult(_0x328d18,0x8),_0x4d184a=formatResult(_0x4d184a,0x8);const _0x1e09a3=_0x2ddfbe==_0x40ab65(0x260)?config[_0x40ab65(0x150)]?String[_0x40ab65(0x13b)]('0x'+config['emojisell'])+'\x20':'':config[_0x40ab65(0x1fd)]?String[_0x40ab65(0x13b)]('0x'+config[_0x40ab65(0x1fd)])+'\x20':'',_0x5c3d6f=_0x437a8f==_0x40ab65(0x254)?_0x40ab65(0x29d):config[_0x40ab65(0x1ee)]==_0x40ab65(0x1d6)?_0x40ab65(0x12b):_0x40ab65(0x120),_0x323bff=new Date()['getTime']()[_0x40ab65(0x1f9)]()['slice'](-0x6)+'-'+Math[_0x40ab65(0x1e9)]()[_0x40ab65(0x1f9)]()[_0x40ab65(0x299)](-0x6);lastOrders['push']({'customId':_0x323bff,'symbol':_0xb311f1,'coin':_0x155580[_0x40ab65(0x1db)],'side':_0x2ddfbe,'reverse':_0x155580[_0x40ab65(0x265)],'filled':0x0});if(_0x437a8f==_0x40ab65(0x254))logHistory('order',''+_0x1e09a3+_0x5c3d6f+_0x40ab65(0x26c)+_0xb311f1+'\x20'+_0x2ddfbe+'\x20#'+formatResult(_0x328d18,0x8)+'\x20@'+formatResult(_0x4d184a,0x8));else logHistory('order',''+_0x1e09a3+_0x5c3d6f+_0x40ab65(0x26c)+_0xb311f1+'\x20'+_0x2ddfbe+'\x20#'+formatResult(_0x328d18,0x8)+'\x20@'+formatResult(_0x4d184a,0x8));const _0x55d3d9=await exchange[_0x40ab65(0x23b)](_0xb311f1,_0x437a8f,_0x2ddfbe,_0x328d18,_0x4d184a,{'clientOrderId':_0x323bff}),_0x37577b=lastOrders[_0x40ab65(0x171)]-0x1;_0x37577b>=0x0&&lastOrders[_0x37577b][_0x40ab65(0x1b8)]==_0x323bff&&(lastOrders[_0x37577b]={...lastOrders[_0x37577b],'orderId':_0x55d3d9['id'],'amount':_0x55d3d9[_0x40ab65(0x176)],'price':_0x55d3d9[_0x40ab65(0x122)],'fee':_0x55d3d9['fee']});if(config[_0x40ab65(0x1d5)]!=0x0){let _0x3fc9e9=null;if(cooldownTracker['length']==config[_0x40ab65(0x1d5)]-0x1)_0x3fc9e9=cooldownTracker[_0x40ab65(0x24c)]();const _0x5d06c7=getTimeStamp();cooldownTracker[_0x40ab65(0x13f)](_0x5d06c7);if(_0x3fc9e9){const _0x3c814a=fns[_0x40ab65(0x183)](new Date(_0x5d06c7),new Date(_0x3fc9e9));if(_0x3c814a<cooldownInterval){logHistory('error',_0x40ab65(0x287)+config[_0x40ab65(0x1d5)]+_0x40ab65(0x227)+cooldownInterval/0x3c+_0x40ab65(0x278)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x579df0){if(_0x579df0['toString']()[_0x40ab65(0x1f5)](_0x40ab65(0x187)))lastOrders=lastOrders[_0x40ab65(0x291)](_0x1ce86e=>_0x1ce86e[_0x40ab65(0x199)]!=_0xb311f1),logHistory(_0x40ab65(0x266),_0x40ab65(0x15d)+_0xb311f1),_0x2a4eae=!![];else{if(_0x579df0[_0x40ab65(0x1f9)]()[_0x40ab65(0x1f5)](_0x40ab65(0x2a0)))lastOrders=lastOrders[_0x40ab65(0x291)](_0x2e29d9=>_0x2e29d9[_0x40ab65(0x199)]!=_0xb311f1),logHistory(_0x40ab65(0x266),'Order\x20amount\x20is\x20invalid:\x20'+_0xb311f1),_0x2a4eae=!![];else _0x579df0[_0x40ab65(0x1f9)]()['includes'](_0x40ab65(0x1a1))?(lastOrders=lastOrders['filter'](_0x17ec5a=>_0x17ec5a['symbol']!=_0xb311f1),logHistory('error',_0x40ab65(0x15d)+_0xb311f1),_0x2a4eae=!![]):(lastOrders=lastOrders['filter'](_0x311342=>_0x311342[_0x40ab65(0x199)]!=_0xb311f1),await handleError(_0x579df0,'placeOrder()',_0xb311f1));}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3717e5=config[_0x40ab65(0x1ee)]==_0x40ab65(0x254)?validateOrderTimeout*0x3c*0x3e8:config[_0x40ab65(0x157)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1838fd=_0x40ab65;validateOrders(_0x1838fd(0x1f6));},_0x3717e5);}else unlockOrders();_0x2a4eae&&config[_0x40ab65(0x17e)]&&await pauseBot(_0x40ab65(0x143)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x40ab65(0x1eb)));}else{if(coolingDown)!config[_0x40ab65(0x17e)]&&logHistory('error',_0x40ab65(0x129));else lockOrders!=ORDERS[_0x40ab65(0x26e)]&&(!config[_0x40ab65(0x17e)]&&(config[_0x40ab65(0x1ee)]==_0x40ab65(0x254)?logHistory(_0x40ab65(0x266),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x40ab65(0x266),_0x40ab65(0x252))));}}function persistOpenOrders(_0x347384){const _0x3dc352=_0x40c748,_0x53b82e={...config,'openOrders':_0x347384};let _0x291534=dbConfig['get']('bot')[_0x3dc352(0x191)]({'botID':botID})[_0x3dc352(0x134)]();_0x291534&&dbConfig[_0x3dc352(0x22c)]('bot')['find']({'botID':botID})[_0x3dc352(0x14e)](_0x53b82e)['write']();}function restoreOrders(){const _0x368449=_0x40c748;let _0x388e66;config[_0x368449(0x127)]&&allOpenOrders[_0x368449(0x198)](_0xadeaed=>{const _0x545ad1=_0x368449,_0x5f1d2d=config[_0x545ad1(0x127)][_0x545ad1(0x191)](_0x9b427d=>_0x9b427d[_0x545ad1(0x1e6)]==_0xadeaed['id']);_0x5f1d2d&&(lastOrders[_0x545ad1(0x13f)](_0x5f1d2d),_0x388e66=_0xadeaed['timestamp']);});if(lastOrders[_0x368449(0x171)]>0x0){lockOrders=ORDERS[_0x368449(0x1e3)],validateOrdersState=_0x368449(0x20d),allOrdersPlaced=!![];const _0x54fffd=new Date()[_0x368449(0x2a1)](),_0xdb2aa7=config['ordertype']==_0x368449(0x254)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x388e66+_0xdb2aa7>_0x54fffd){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2d80b7=_0x368449;validateOrders(_0x2d80b7(0x1f6));},_0x388e66+_0xdb2aa7-_0x54fffd);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x57ca3e=_0x40c748;if(!coinsLoaded){process[_0x57ca3e(0x190)]({'telegrammsg':_0x57ca3e(0x180)},_0x255cf9=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x528ebb='';if(config['showname'])_0x528ebb=_0x57ca3e(0x149)+config[_0x57ca3e(0x1ec)]+_0x57ca3e(0x23e);else _0x528ebb=_0x57ca3e(0x133)+botID+_0x57ca3e(0x23e);const _0x4f98e5=getKPIs(_0x57ca3e(0x1ea)),_0x386d12=getKPIs(_0x57ca3e(0x1c8),config[_0x57ca3e(0x1c8)]),_0x3356f4=getKPIs(_0x57ca3e(0x14b)),_0x264b73=getKPIs(_0x57ca3e(0x166),config[_0x57ca3e(0x1c8)]);_0x528ebb+=_0x57ca3e(0x1ac),_0x528ebb+=_0x4f98e5['leftTxt']+_0x57ca3e(0x1a8)+_0x4f98e5['value']+'\x0a',_0x528ebb+=_0x4f98e5[_0x57ca3e(0x20c)]+':\x20'+_0x4f98e5[_0x57ca3e(0x153)]+'%\x0a',_0x528ebb+=_0x386d12['leftTxt']+_0x57ca3e(0x1a8)+_0x386d12[_0x57ca3e(0x134)]+'\x0a',_0x528ebb+=_0x386d12['rightTxt']+':\x20'+_0x386d12[_0x57ca3e(0x153)]+'%\x0a',_0x528ebb+=_0x3356f4[_0x57ca3e(0x21e)]+':\x20'+_0x3356f4[_0x57ca3e(0x134)]+'\x20('+config[_0x57ca3e(0x1ea)]+')\x0a',_0x528ebb+=_0x3356f4[_0x57ca3e(0x20c)]+':\x20'+_0x3356f4['change']+_0x57ca3e(0x1a4)+config[_0x57ca3e(0x1ea)]+')\x0a',_0x528ebb+=_0x264b73['leftTxt']+':\x20'+_0x264b73[_0x57ca3e(0x134)]+'\x20('+config[_0x57ca3e(0x1c8)]+')\x0a',_0x528ebb+=_0x264b73['rightTxt']+':\x20'+_0x264b73[_0x57ca3e(0x153)]+'%\x20('+config[_0x57ca3e(0x1c8)]+')\x0a',_0x528ebb+='</pre>',process[_0x57ca3e(0x190)]({'telegrammsg':_0x528ebb},_0x1f7aa8=>{});}async function sendPortfolioTelegram(){const _0x4dbf2a=_0x40c748;if(!coinsLoaded){process[_0x4dbf2a(0x190)]({'telegrammsg':_0x4dbf2a(0x180)},_0x4da291=>{});return;}let _0x541751='';if(config['showname'])_0x541751=_0x4dbf2a(0x149)+config[_0x4dbf2a(0x1ec)]+_0x4dbf2a(0x11b);else _0x541751='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x541751+='<pre>',_0x541751+=_0x4dbf2a(0x163),_0x541751+=_0x4dbf2a(0x201),_0x541751+='-------------------------------\x0a',currentCoins[_0x4dbf2a(0x198)](_0x54a22a=>{const _0x31edb3=_0x4dbf2a;_0x541751+=_0x54a22a[_0x31edb3(0x1db)]['padEnd'](0x7)+'|\x20'+formatPad(_0x54a22a['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x54a22a[_0x31edb3(0x147)],0x2,0x6)+'|\x20'+formatPad(_0x54a22a[_0x31edb3(0x1ad)]*0x64,0x2,0x6)+'\x0a';}),_0x541751+=_0x4dbf2a(0x1b3),process[_0x4dbf2a(0x190)]({'telegrammsg':_0x541751},_0x24757f=>{});}function _0x1364(){const _0x31823a=['\x20order:\x20','getFullYear','UNLOCKED','removed','findIndex','getMonth','balances','initclient','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','Saving\x20configuration','defaults','bot','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','usd','decrypt','getCoinNumber()','cancelOrders()','placeOrder','split','14ArENWM','storeFiat','onepagemode','\x20value','emitHistory','distribution','Order\x20filled:\x20','\x20not\x20responding','Executed\x20','getPortfolio(0)','34YYpVDX','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Crypt','Net\x20effect','Binance','stringify','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','concat','filter','datetime','average','netoffset','success','no\x20additional\x20symbols','configuration-stored','getPortfolio(2)','slice','sha256','getMinutes','ORDERS.UNLOCKING','Market','milliseconds','2\x20-\x20Handled\x20open\x20orders','Invalid\x20quantity','getTime','\x20|\x20Error\x20details:\x20','fetchOpenOrders','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','secure','write','\x20portfolio:</b>\x20\x0a\x0a','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','315jkIKOl','unlinkSync','./version.json','Limit\x20(low-margin)','limit','price','getStartingBalances','\x20API\x20secret\x20is\x20invalid','util','sells','openOrders','event-history','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','fetchTicker','Limit\x20(high-margin)','35110kkDcIe','Portfolio\x20change\x20detected:\x20','buy','toUpperCase','highest','indexOf','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','<b>Bot\x20','value','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','botID','fetchBalance','EUR','bot-','InsufficientFunds','fromCodePoint','ETH','************','bb-settings.json','push','cancelOrder','logs','\x20API\x20key\x20is\x20invalid','Avoiding\x20continuous\x20order\x20attempts','abs','join','parse','target','add','<b>','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','net-basecoin','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','additional\x20symbols\x20','assign','has','emojisell','currency','limits','change','threshold','Unknown\x20error\x20occured','\x20>\x20','timeout','message','data','timeshift','Invalid\x20API\x20key\x20or\x20secret\x20entered','Error:\x20Invalid\x20argument\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','mkdirSync','2.5.0','none','cost','Manual\x20balancing\x20required','-------------------------------\x0a','uncaughtException','buys','net-fiat','OrderNotFound','watchOrders','exchange\x20reloaded','ORDERS.LOCKED','AuthenticationError','kill','bid','page','date','getSeconds','length','Fees\x20|\x20currency:\x20','simple','BNB/','excluded','amount','ExchangeNotAvailable','\x20has\x20a\x2024h\x20drop\x20of\x20','getCoins()','valid','1565376tdDiAB','showConfig','changes','headless','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','added','padStart','differenceInSeconds','fee','BTC','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','MIN_NOTIONAL','DAI/','/output-000.log','\x20-\x20bot\x20not\x20started','fetchTickers','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','2\x20-\x20Orders\x20unlocked','3\x20-\x20handling\x20FILLED\x20order:\x20','getHours','send','find','password','\x20change','1\x20-\x20Validate\x20orders:\x20','USD','Initiating\x20exchange\x20reload','args','forEach','symbol','6914285ylqiXb','startnumber','apiPassword','path','Transaction\x20detection\x20unblocked','time','68504IfVoyZ','must\x20be\x20greater\x20than\x20minimum\x20amount','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Executing\x20exchange\x20reload','%\x20(','cancelLoading','(((.+)+)+)+$','total','\x20:\x20','Unfilled\x20order(s)\x20canceled\x20after\x20','toLowerCase','4MuwUuA','<pre>','delta','\x20minutes','1\x20-\x20Handle\x20open\x20orders','165RQIgbI','search','apiSecret','</pre>','isEqual','eur','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','orderstatus','customId','side','debug','createWriteStream','settings','cloneDeep','/USD','getDate','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','version','symbols','configuration','getPortfolio','percentage','open','USDT','fiat','YOYOW/','1\x20-\x20Unlock\x20orders','argv','4091700NSdhJs','exchange','API-key\x20format\x20invalid','trade','startdate','string','\x20>\x20[DEBUG]\x20',':\x20Bot\x20','ask','cooldown','limit-high','sendMetricsTelegram','resetHistory','2.6.0','ORDERS.UNLOCKED','coin','date-fns','bots','48913xOHMTY','remainingSymbols','No\x20more\x20open\x20orders\x20-\x20','realized','deleteHistoryAlerts','LOCKED','change24h','-events.json','orderId','toggleBotMode','loading-canceled','random','basecoin','Cooldown\x20ended\x20-\x20balancing\x20resumed','botname','fetchClosedOrders','ordertype','-performance.json','event','parseISO','balancing\x20resumes\x20when\x20cooldown\x20ends','recreateCoinResults()','-results.json','includes','final','lowdb','cancel','toString','performance','2.3.5','replace','emojibuy','Error\x20while\x20deleting\x20files:\x20','InvalidNonce','splice','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','watchTransactions','close','1\x20-\x20FILLED:\x20','ticker','status','\x20|\x20','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','map','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','timer:','rightTxt','ongoing','writeFile','type','running','1068LOFBcG','test','privateKey','enabled','liquidity','Failed\x20to\x20load\x20coin\x20data\x20for\x20','closed','./logs/','Exchange','BNB','Order(s)\x20not\x20validated\x20after\x20','Fee\x20discount\x20refund\x20detected:\x20','storeHeadless','leftTxt','round','order','DDoSProtection','full','portfolio','restart','Pausing\x20for\x20','log','\x20orders\x20in\x20less\x20than\x20','yyyy/MM/dd','warning','filled','max','get','hybrid-crypto-js','sortBy','RSA-OAEP','last','offset','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','sendPortfolioTelegram','\x20|\x20lock\x20orders:\x20','\x20exchange','function','BUSD','breakeven','keys','existsSync','createOrder','Resetting\x20bot\x20history','\x20not\x20available','\x20metrics:</b>\x20\x0a\x0a','balancing\x20resumed','set','initial','exchange\x20not\x20reloaded','exchanges','starting-balances','canceled','storeConfiguration','number','exec','timestamp','\x20minutes\x20-\x20','remove','shift','format','recent20','/EUR','fees','substring','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','clientOrderId','market','constructor','progress','min','coins','yyyy-MM-dd\x27T\x27HH:mm:ss','limit-low','watchTrades','showname','toFixed','NANO/','apply','sell','sort','loadMarkets','\x20|\x20highest:\x20','pro','reverse','error','202397lkArPG','ccxt','yargs/yargs','apiKey','entries'];_0x1364=function(){return _0x31823a;};return _0x1364();}function formatPad(_0x7d52e4,_0x4b89f2,_0x58f2f7){const _0x3a646b=_0x40c748,_0x4f7a18=formatResultString(_0x7d52e4,_0x4b89f2);return _0x4f7a18?_0x4f7a18[_0x3a646b(0x182)](_0x58f2f7):''[_0x3a646b(0x182)](_0x58f2f7);}function logHistory(_0x55813b,_0x506c58,_0x4c2029=''){const _0x5f2468=_0x40c748;let _0xc03edc={'time':getTimeStamp(),'type':_0x55813b,'event':_0x506c58};dbLogs['get']('logs')[_0x5f2468(0x13f)](_0xc03edc)[_0x5f2468(0x11a)]();if(_0x4c2029=='')_0x4c2029=_0x506c58;proxyEmit(_0x5f2468(0x1f0),{'log':_0xc03edc,'summary':_0x4c2029}),process['send']({'telegram':{..._0xc03edc,'botname':config[_0x5f2468(0x1ec)],'showname':config[_0x5f2468(0x25c)]}},_0x59bb12=>{}),logger['full'](''+_0xc03edc[_0x5f2468(0x1f0)]);}function emitHistory(_0x57d780={}){const _0x25e47d=_0x40c748;Object[_0x25e47d(0x239)](_0x57d780)[_0x25e47d(0x171)]==0x0&&(_0x57d780={'type':[_0x25e47d(0x220),_0x25e47d(0x1f0)],'event':'','page':0x1});if(_0x57d780[_0x25e47d(0x20f)][_0x25e47d(0x1f5)]('event'))_0x57d780['type']['splice'](_0x57d780[_0x25e47d(0x20f)][_0x25e47d(0x131)]('event'),0x1,_0x25e47d(0x266),_0x25e47d(0x229),_0x25e47d(0x295));if(dbLogs[_0x25e47d(0x14f)]('logs')['value']()){let _0x5ee5bb=dbLogs['get'](_0x25e47d(0x141))['filter'](_0x56e753=>{const _0x199074=_0x25e47d;if(_0x57d780[_0x199074(0x20f)][_0x199074(0x171)]==0x0)return![];else return _0x57d780['type'][_0x199074(0x1f5)](_0x56e753[_0x199074(0x20f)]);})[_0x25e47d(0x291)](_0x7ca34a=>{const _0x1787fb=_0x25e47d;if(_0x57d780[_0x1787fb(0x1f0)]=='')return!![];else return _0x7ca34a[_0x1787fb(0x1f0)][_0x1787fb(0x1aa)]()[_0x1787fb(0x1f5)](_0x57d780[_0x1787fb(0x1f0)][_0x1787fb(0x1aa)]());})[_0x25e47d(0x22e)](_0x25e47d(0x19f)),_0x2980fe=_0x5ee5bb[_0x25e47d(0x134)]()[_0x25e47d(0x171)];_0x5ee5bb=_0x5ee5bb['reverse']()[_0x25e47d(0x299)]((_0x57d780[_0x25e47d(0x16e)]-0x1)*logPageSize,_0x57d780[_0x25e47d(0x16e)]*logPageSize-0x1)['reverse']()[_0x25e47d(0x134)](),proxyEmit(_0x25e47d(0x128),{'logs':_0x5ee5bb,'total':_0x2980fe});}else proxyEmit(_0x25e47d(0x128),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x17a505){const _0x34ed62=_0x40c748;if(dbLogs['has'](_0x34ed62(0x141))['value']()){const _0x5451c3=dbLogs[_0x34ed62(0x22c)]('logs')[_0x34ed62(0x22e)](_0x34ed62(0x19f))[_0x34ed62(0x291)](_0x2b02f7=>{const _0x340808=_0x34ed62;return _0x2b02f7[_0x340808(0x20f)]==_0x340808(0x220);})[_0x34ed62(0x134)]();dbLogs['get'](_0x34ed62(0x141))[_0x34ed62(0x24b)]()[_0x34ed62(0x11a)](),dbLogs[_0x34ed62(0x22c)](_0x34ed62(0x141))[_0x34ed62(0x14e)](_0x5451c3)[_0x34ed62(0x11a)](),emitHistory(_0x17a505);}}async function pauseBot(_0x4e3dfd=''){const _0x176a02=_0x40c748,_0xfc0676=new Date()[_0x176a02(0x2a1)]();if(!lastErrorShown||_0xfc0676-lastErrorShown>=pauseBotInterval){lastErrorShown=_0xfc0676;!lastBotPause?(lastBotPause=_0xfc0676,consecutivePauses=0x1):(_0xfc0676-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x176a02(0x190)]({'stop':_0x176a02(0x224)},_0x28040b=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x176a02(0x2a1)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x4e3dfd)_0x4e3dfd+=_0x176a02(0x207);logHistory(_0x176a02(0x266),_0x4e3dfd+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x176a02(0x1ae)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x4d438c=_0x40c748;process[_0x4d438c(0x190)]({'stop':_0x4d438c(0x16c)},_0x4ed0ef=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x24a5fe,_0x42c37d){const _0x2e64f9=_0x40c748;if(_0x24a5fe[_0x2e64f9(0x1f9)]()[_0x2e64f9(0x1f5)](_0x2e64f9(0x1ce)))return logHistory(_0x2e64f9(0x266),config['exchange']+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x24a5fe['toString']()[_0x2e64f9(0x1f5)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error',config[_0x2e64f9(0x1cd)]+_0x2e64f9(0x17f)),![];else{if(_0x24a5fe['toString']()[_0x2e64f9(0x1f5)](_0x2e64f9(0x16b)))return logHistory(_0x2e64f9(0x266),config['exchange']+_0x2e64f9(0x14c)),logHistory(_0x2e64f9(0x266),_0x2e64f9(0x28a)),![];else await handleError(_0x24a5fe,_0x42c37d);}}}async function handleError(_0xdeb02c,_0x245149,_0x1a36ed=''){const _0x5d2d9f=_0x40c748,_0x1015e4=config[_0x5d2d9f(0x1cd)]||_0x5d2d9f(0x219);if(_0xdeb02c[_0x5d2d9f(0x1f9)]()[_0x5d2d9f(0x1f5)](_0x5d2d9f(0x221)))await pauseBot(config[_0x5d2d9f(0x1cd)]+_0x5d2d9f(0x20a));else{if(_0xdeb02c[_0x5d2d9f(0x1f9)]()[_0x5d2d9f(0x1f5)](_0x5d2d9f(0x177)))await pauseBot(config[_0x5d2d9f(0x1cd)]+_0x5d2d9f(0x23d));else{if(_0xdeb02c[_0x5d2d9f(0x1f9)]()[_0x5d2d9f(0x1f5)]('RequestTimeout'))await pauseBot(config[_0x5d2d9f(0x1cd)]+_0x5d2d9f(0x286));else{if(_0xdeb02c[_0x5d2d9f(0x1f9)]()['includes'](_0x5d2d9f(0x274)))await pauseBot(config['exchange']+'\x20closed\x20the\x20connection');else{if(_0xdeb02c[_0x5d2d9f(0x1f9)]()[_0x5d2d9f(0x1f5)](_0x5d2d9f(0x14a)))logHistory(_0x5d2d9f(0x266),_0x245149+_0x5d2d9f(0x186)),logHistory(_0x5d2d9f(0x266),_0x5d2d9f(0x18c)),await killBot();else{if(_0xdeb02c[_0x5d2d9f(0x1f9)]()['includes'](_0x5d2d9f(0x1ff)))logHistory(_0x5d2d9f(0x266),_0x245149+_0x5d2d9f(0x2a4)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xdeb02c[_0x5d2d9f(0x1f9)]()['includes']('API-key\x20format\x20invalid'))logHistory('error',_0x245149+'\x20|\x20'+config[_0x5d2d9f(0x1cd)]+_0x5d2d9f(0x142)),logHistory(_0x5d2d9f(0x266),_0x5d2d9f(0x18c)),await killBot();else{if(_0xdeb02c['toString']()[_0x5d2d9f(0x1f5)](_0x5d2d9f(0x232)))logHistory(_0x5d2d9f(0x266),_0x245149+_0x5d2d9f(0x207)+config[_0x5d2d9f(0x1cd)]+_0x5d2d9f(0x124)),logHistory(_0x5d2d9f(0x266),_0x5d2d9f(0x18c)),await killBot();else{if(_0xdeb02c[_0x5d2d9f(0x1f9)]()[_0x5d2d9f(0x1f5)](_0x5d2d9f(0x16b)))logHistory('error',_0x245149+_0x5d2d9f(0x207)+config['exchange']+_0x5d2d9f(0x28f)),logHistory(_0x5d2d9f(0x266),_0x5d2d9f(0x18c)),await killBot();else _0xdeb02c[_0x5d2d9f(0x1f9)]()[_0x5d2d9f(0x1f5)](_0x5d2d9f(0x13a))?logHistory(_0x5d2d9f(0x266),_0x245149+_0x5d2d9f(0x11c)+_0x1a36ed):(logger[_0x5d2d9f(0x222)](_0x245149+_0x5d2d9f(0x2a2),_0xdeb02c),await pauseBot(_0x5d2d9f(0x155)));}}}}}}}}}function formatResult(_0x35e1f2,_0x39b97e){return parseFloat(_0x35e1f2['toFixed'](_0x39b97e));}function formatResultTruncate(_0x23fdbf,_0x5e1d0b){const _0x56c8e7=_0x40c748;let _0x3275dd=formatResultString(_0x23fdbf,0xa),_0x483df9=_0x3275dd[_0x56c8e7(0x131)]('.');return _0x483df9!=-0x1&&(_0x3275dd=_0x3275dd['slice'](0x0,_0x483df9+_0x5e1d0b+0x1)),Number(_0x3275dd);}function formatResultString(_0x1382bd,_0x357d42){const _0xe5fb57=_0x40c748;let _0x2b633f;if(!(''+_0x1382bd)[_0xe5fb57(0x1f5)]('e'))_0x2b633f=+(Math[_0xe5fb57(0x21f)](_0x1382bd+'e+'+_0x357d42)+'e-'+_0x357d42);else{let _0x1f4c76=(''+_0x1382bd)[_0xe5fb57(0x27e)]('e'),_0x5c08b2='';+_0x1f4c76[0x1]+_0x357d42>0x0&&(_0x5c08b2='+'),_0x2b633f=+(Math[_0xe5fb57(0x21f)](+_0x1f4c76[0x0]+'e'+_0x5c08b2+(+_0x1f4c76[0x1]+_0x357d42))+'e-'+_0x357d42);}return Number(_0x2b633f)['toFixed'](_0x357d42);}function getServerTime(){const _0xf014a3=_0x40c748,_0x2e6dfe=new Date();return _0x2e6dfe['getFullYear']()+'/'+(_0x2e6dfe['getMonth']()+0x1)[_0xf014a3(0x1f9)]()['padStart'](0x2,'0')+'/'+_0x2e6dfe[_0xf014a3(0x1bf)]()[_0xf014a3(0x1f9)]()['padStart'](0x2,'0')+'\x20'+_0x2e6dfe[_0xf014a3(0x18f)]()[_0xf014a3(0x1f9)]()[_0xf014a3(0x182)](0x2,'0')+':'+_0x2e6dfe[_0xf014a3(0x29b)]()[_0xf014a3(0x1f9)]()[_0xf014a3(0x182)](0x2,'0')+':'+_0x2e6dfe[_0xf014a3(0x170)]()['toString']()[_0xf014a3(0x182)](0x2,'0');}function getTimeStamp(){const _0xadcbd6=_0x40c748,_0x579e95=shiftedTime();return _0x579e95[_0xadcbd6(0x26d)]()+'/'+(_0x579e95['getMonth']()+0x1)['toString']()[_0xadcbd6(0x182)](0x2,'0')+'/'+_0x579e95[_0xadcbd6(0x1bf)]()[_0xadcbd6(0x1f9)]()[_0xadcbd6(0x182)](0x2,'0')+'\x20'+_0x579e95[_0xadcbd6(0x18f)]()['toString']()['padStart'](0x2,'0')+':'+_0x579e95[_0xadcbd6(0x29b)]()[_0xadcbd6(0x1f9)]()[_0xadcbd6(0x182)](0x2,'0')+':'+_0x579e95['getSeconds']()[_0xadcbd6(0x1f9)]()[_0xadcbd6(0x182)](0x2,'0');}function getDate(){const _0x4ebb29=_0x40c748,_0x3358c3=shiftedTime();return _0x3358c3[_0x4ebb29(0x26d)]()+'/'+(_0x3358c3[_0x4ebb29(0x271)]()+0x1)[_0x4ebb29(0x1f9)]()[_0x4ebb29(0x182)](0x2,'0')+'/'+_0x3358c3[_0x4ebb29(0x1bf)]()[_0x4ebb29(0x1f9)]()[_0x4ebb29(0x182)](0x2,'0');}function getHour(){const _0x16b8fc=_0x40c748,_0x5e08e3=shiftedTime();return _0x5e08e3['getHours']()[_0x16b8fc(0x1f9)]()[_0x16b8fc(0x182)](0x2,'0');}function sleep(_0xdbc114){return new Promise(_0x3e93bb=>setTimeout(_0x3e93bb,_0xdbc114));}function shiftedTime(){const _0x181bc=_0x40c748,_0x28bc79=new Date();let _0x4e33a8=_0x28bc79;if(config&&config['timeshift']!==0x0)_0x4e33a8=fns[_0x181bc(0x148)](_0x28bc79,{'hours':config['timeshift']});return _0x4e33a8;}function timer(_0x57a80b){const _0x248e12=_0x40c748,_0x5e8241=new Date();!lasttime?console[_0x248e12(0x226)](_0x248e12(0x20b),_0x57a80b,_0x5e8241):console['log'](_0x248e12(0x20b),_0x57a80b,(_0x5e8241-lasttime)/0x3e8),lasttime=_0x5e8241;}