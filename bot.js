const _0x51399b=_0x3ad7;(function(_0x31b739,_0x197c7b){const _0x18c531=_0x3ad7,_0x177427=_0x31b739();while(!![]){try{const _0x88135e=-parseInt(_0x18c531(0xbe))/0x1+-parseInt(_0x18c531(0x19d))/0x2*(-parseInt(_0x18c531(0x12b))/0x3)+parseInt(_0x18c531(0x12f))/0x4+-parseInt(_0x18c531(0x174))/0x5*(parseInt(_0x18c531(0x239))/0x6)+-parseInt(_0x18c531(0x209))/0x7*(-parseInt(_0x18c531(0x1c5))/0x8)+parseInt(_0x18c531(0xe0))/0x9+parseInt(_0x18c531(0x1d7))/0xa;if(_0x88135e===_0x197c7b)break;else _0x177427['push'](_0x177427['shift']());}catch(_0x1869a6){_0x177427['push'](_0x177427['shift']());}}}(_0x1ac9,0x6ced2));const _0x332a9a=function(){let _0x35b7ff=!![];return function(_0x368b61,_0x14e4e4){const _0x1a8756=_0x35b7ff?function(){const _0x2e8559=_0x3ad7;if(_0x14e4e4){const _0x81bafd=_0x14e4e4[_0x2e8559(0x127)](_0x368b61,arguments);return _0x14e4e4=null,_0x81bafd;}}:function(){};return _0x35b7ff=![],_0x1a8756;};}(),_0x323c17=_0x332a9a(this,function(){const _0x221c6d=_0x3ad7;return _0x323c17['toString']()['search'](_0x221c6d(0x1a9))[_0x221c6d(0x10d)]()[_0x221c6d(0x11f)](_0x323c17)[_0x221c6d(0x1b3)](_0x221c6d(0x1a9));});_0x323c17();'use strict';const ccxt=require('ccxt'),low=require(_0x51399b(0x234)),FileSync=require(_0x51399b(0x236)),fs=require('fs'),fns=require(_0x51399b(0x9a)),Crypt=require(_0x51399b(0x168))[_0x51399b(0xac)],util=require(_0x51399b(0x187)),argv=require(_0x51399b(0x1ed))(process[_0x51399b(0x1d4)][_0x51399b(0x1c7)](0x2))[_0x51399b(0x1d4)],path=require(_0x51399b(0x185)),axios=require(_0x51399b(0x118));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x51399b(0x18d),_0x51399b(0x1a1),_0x51399b(0xc9),_0x51399b(0x1c8),_0x51399b(0x151),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x51399b(0xf0)+pauseBotInterval/0xea60+_0x51399b(0x1f4),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x51399b(0x21a))[_0x51399b(0x203)],environment=require(_0x51399b(0x21a))['environment']||_0x51399b(0x195),botID=process['argv'][0x2]||_0x51399b(0x89),pattern=/^[0-9]{3}$/;!pattern[_0x51399b(0x1ae)](botID)&&(console[_0x51399b(0x87)](_0x51399b(0xfd)+botID+_0x51399b(0x165)),killBot());const userID=process[_0x51399b(0x1d4)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x51399b(0x155),logspath=userID?'./logs/'+userID+'/':_0x51399b(0x129),loggerfile=fs['createWriteStream'](logspath+_0x51399b(0x20f),{'flags':'a'});!fs[_0x51399b(0x11c)](configpath)&&fs[_0x51399b(0xa8)](configpath);!fs[_0x51399b(0x11c)](logspath)&&fs[_0x51399b(0xa8)](logspath);const configfile=configpath+_0x51399b(0x13e)+botID+_0x51399b(0x9f),logfile=configpath+_0x51399b(0x13e)+botID+_0x51399b(0x1d2),performancefile=configpath+'bot-'+botID+_0x51399b(0xa3),coinresultsfile=configpath+_0x51399b(0x13e)+botID+_0x51399b(0x243),settingsfile=configpath+_0x51399b(0xcb),securefile=configpath+_0x51399b(0x120),configbackuppath=configpath+_0x51399b(0xa2),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x51399b(0x1fb)]({'logs':[],'version':serverversion})[_0x51399b(0x18b)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x51399b(0x1fb)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x51399b(0x1fb)]({'bot':[],'version':serverversion})[_0x51399b(0x18b)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x51399b(0x242),'rsaStandard':_0x51399b(0x15f)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3589ee=>{const _0x4ff84b=_0x51399b;console[_0x4ff84b(0x87)](_0x3589ee);},'simple':_0xf47de0=>{const _0x467587=_0x51399b;console[_0x467587(0x87)](_0xf47de0),loggerfile[_0x467587(0x18b)](util[_0x467587(0xca)](_0xf47de0)+'\x0a');},'full':async(_0x2c55ac,_0x37ccf3='')=>{const _0x56e344=_0x51399b;let _0x57c13e;if(config[_0x56e344(0x17a)])_0x57c13e=getTimeStamp()+':\x20'+config[_0x56e344(0xa0)]+'\x20>\x20'+_0x2c55ac;else _0x57c13e=getTimeStamp()+_0x56e344(0x14e)+botID+_0x56e344(0x101)+_0x2c55ac;console['log'](_0x57c13e),loggerfile[_0x56e344(0x18b)](util[_0x56e344(0xca)](_0x57c13e)+'\x0a'),_0x37ccf3&&(console[_0x56e344(0x87)](_0x37ccf3),loggerfile[_0x56e344(0x18b)](util[_0x56e344(0xca)](_0x37ccf3)+'\x0a'));},'debug':async(_0x2df166,_0x4d8e9c='')=>{const _0x37d0f9=_0x51399b;let _0x51a844;if(config[_0x37d0f9(0x17a)])_0x51a844=getTimeStamp()+':\x20'+config[_0x37d0f9(0xa0)]+_0x37d0f9(0x206)+_0x2df166;else _0x51a844=getTimeStamp()+_0x37d0f9(0x14e)+botID+_0x37d0f9(0x206)+_0x2df166;if(debugging)console[_0x37d0f9(0x87)](_0x51a844);loggerfile[_0x37d0f9(0x18b)](util[_0x37d0f9(0xca)](_0x51a844)+'\x0a');if(_0x4d8e9c){if(debugging)console[_0x37d0f9(0x87)](_0x4d8e9c);loggerfile[_0x37d0f9(0x18b)](util[_0x37d0f9(0xca)](_0x4d8e9c)+'\x0a');}}};process['on'](_0x51399b(0xf4),function(_0x1912f3){const _0x2c544e=_0x51399b;handleError(_0x1912f3,_0x2c544e(0xf4));});settings['timeshift']!=config[_0x51399b(0x159)]&&updateTimeshift(settings[_0x51399b(0x159)]);settings[_0x51399b(0x1ab)]!=config[_0x51399b(0x1ab)]&&updateOnepagemode(settings[_0x51399b(0x1ab)]);(settings[_0x51399b(0xdd)]&&!config[_0x51399b(0xdd)]||!settings[_0x51399b(0xdd)]&&config[_0x51399b(0xdd)])&&updateMarketcapApi(settings['marketcapApi']);process[_0x51399b(0x1e9)]({'started':'running'},_0x2f434b=>{}),initializeProcessListeners();function proxyEmit(_0x5ff514,_0x24519f=null){const _0xc90adf=_0x51399b;process[_0xc90adf(0x1e9)]({'function':_0x5ff514,'args':_0x24519f},_0x3bb950=>{});}function initializeProcessListeners(){const _0x482b69=_0x51399b;process['on'](_0x482b69(0x116),_0x5a4376=>{const _0x3a73f6=_0x482b69;switch(Object[_0x3a73f6(0x1fa)](_0x5a4376)[0x0]){case'timeshift':_0x5a4376[_0x3a73f6(0x159)]!=undefined&&(settings[_0x3a73f6(0x159)]=_0x5a4376[_0x3a73f6(0x159)],updateTimeshift(settings[_0x3a73f6(0x159)]));break;case'onepagemode':_0x5a4376['onepagemode']!=undefined&&(settings[_0x3a73f6(0x1ab)]=_0x5a4376['onepagemode'],updateOnepagemode(settings[_0x3a73f6(0x1ab)]));break;case _0x3a73f6(0xdd):_0x5a4376['marketcapApi']!=undefined&&(settings[_0x3a73f6(0xdd)]=_0x5a4376['marketcapApi'],updateMarketcapApi(settings[_0x3a73f6(0xdd)]));break;case _0x3a73f6(0x1b7):_0x5a4376[_0x3a73f6(0x1b7)]!=undefined&&(bots=JSON[_0x3a73f6(0x219)](_0x5a4376['bots']),proxyEmit(_0x3a73f6(0x1b7),bots));break;case'function':switch(_0x5a4376['function']){case'initclient':initclient();break;case _0x3a73f6(0xf2):toggleBotMode();break;case _0x3a73f6(0xc6):emitHistory(_0x5a4376[_0x3a73f6(0x216)]);break;case _0x3a73f6(0x17b):deleteHistoryAlerts(_0x5a4376['args']);break;case _0x3a73f6(0x238):getPortfolio(_0x5a4376['args']);break;case _0x3a73f6(0x21c):storeConfiguration(_0x5a4376[_0x3a73f6(0x216)]);break;case _0x3a73f6(0x1af):storeHeadless(_0x5a4376[_0x3a73f6(0x216)]);break;case _0x3a73f6(0x12a):storeFiat(_0x5a4376['args']);break;case'resetHistory':resetHistory();break;case _0x3a73f6(0xe9):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x5a4376[_0x3a73f6(0x216)]);break;case _0x3a73f6(0x1cb):cancelLoading();break;case _0x3a73f6(0x8e):showConfig();break;case _0x3a73f6(0xe5):sendMetricsTelegram();break;case _0x3a73f6(0x1cc):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x3e74ee=![]){const _0x14c0a2=_0x51399b;logger[_0x14c0a2(0x1c4)](_0x14c0a2(0x240)+(_0x3e74ee?'exchange\x20reload':_0x14c0a2(0xea))+_0x14c0a2(0xed)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x3e74ee)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x14c0a2(0x22d)]!=''&&config['apiKey']!=_0x14c0a2(0x164)){loadingProgress=0x0;_0x3e74ee&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![]);const _0x2b9f2a=await getCoins();[currentCoins,currentCoinsAll]=_0x2b9f2a,setBlockTransactionDetection(![]),getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x14c0a2(0x1c4)](_0x14c0a2(0x198)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x14c0a2(0xef)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x167069=![]){const _0x2dad02=_0x51399b;logger[_0x2dad02(0x1c4)](_0x2dad02(0xd7)+(_0x167069?'quick':_0x2dad02(0x1a0))+_0x2dad02(0xaf)+config[_0x2dad02(0xb6)]);if(pidBalances)clearTimeout(pidBalances);if(_0x167069){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x2dad02(0x22d)]!=_0x2dad02(0x164)){loadingProgress=0x1;const _0x44bc1c=await getCoins();[currentCoins,currentCoinsAll]=_0x44bc1c,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x2dad02(0x1c4)](_0x2dad02(0x198)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x2dad02(0xef)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x298e8f){const _0x2b4070=_0x51399b;let _0x212f59=![];if(_0x298e8f)_0x212f59=!![];let _0x221bfe;_0x212f59?_0x221bfe=_0x298e8f[_0x2b4070(0x1d6)](_0x5022a0=>_0x5022a0[_0x2b4070(0x1de)]):_0x221bfe=currentCoinsAll[_0x2b4070(0x1d6)](_0x173d8c=>_0x173d8c[_0x2b4070(0x1de)]);if(!config[_0x2b4070(0xdd)]||!_0x212f59&&!config[_0x2b4070(0x14a)]||_0x221bfe[_0x2b4070(0xef)]==0x0)return;let _0x1db343=null;try{_0x1db343=await axios['get'](_0x2b4070(0x108),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x2b4070(0xdd)]},'params':{'symbol':_0x221bfe[_0x2b4070(0x10d)]()}});}catch(_0x120481){_0x1db343=null,_0x120481[_0x2b4070(0x10d)]()[_0x2b4070(0xcf)](_0x2b4070(0x1eb))?(config[_0x2b4070(0xdd)]=![],updateConfig(),proxyEmit(_0x2b4070(0x176),emittedConfiguration()),logHistory(_0x2b4070(0x147),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory('error','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0x2b4070(0x1f4)),logger[_0x2b4070(0x1c4)](_0x2b4070(0x244),_0x120481[_0x2b4070(0x10d)]()+'\x20-\x20'+_0x120481['code']));}if(_0x1db343){let _0x453a79=0x0;const _0x5e4e60=_0x1db343[_0x2b4070(0x92)];_0x221bfe['forEach'](_0x40b039=>{const _0x2fca2b=_0x2b4070;if(_0x5e4e60['data'][_0x40b039][0x0])_0x453a79+=_0x5e4e60[_0x2fca2b(0x92)][_0x40b039][0x0]['quote'][_0x2fca2b(0x18d)][_0x2fca2b(0xfc)];}),_0x221bfe[_0x2b4070(0x1a4)](_0x34d925=>{const _0x2ad4d0=_0x2b4070,_0x23f41d=_0x5e4e60['data'][_0x34d925][0x0]?_0x5e4e60[_0x2ad4d0(0x92)][_0x34d925][0x0][_0x2ad4d0(0x20c)]['USD'][_0x2ad4d0(0xfc)]:0x0;if(_0x212f59){const _0x2cba95=_0x298e8f['find'](_0x348e10=>_0x348e10[_0x2ad4d0(0x1de)]==_0x34d925);_0x2cba95&&(_0x2cba95[_0x2ad4d0(0x10f)]=_0x23f41d);}else{const _0x1e8d93=currentCoins['find'](_0x141340=>_0x141340['coin']==_0x34d925);_0x1e8d93&&(_0x1e8d93['marketcap']=_0x23f41d);const _0x52aaf7=currentCoinsAll[_0x2ad4d0(0xc0)](_0x15ac32=>_0x15ac32[_0x2ad4d0(0x1de)]==_0x34d925);_0x52aaf7&&(_0x52aaf7['marketcap']=_0x23f41d);}}),!_0x212f59&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x5ce8f0=_0x51399b,_0x539045=0x2;let _0x2fe1b9=0x0,_0x17f6c1=0x0,_0x856c00=0x0,_0x4fb8de=0x0,_0x4c267e=0x0;config['portfolio']['forEach'](_0x40bca5=>{const _0xf6be8b=_0x3ad7;if(!_0x40bca5['excluded']){_0x856c00++,_0x2fe1b9+=_0x40bca5[_0xf6be8b(0x107)];if(_0x40bca5[_0xf6be8b(0x107)]===-0x1){_0x2fe1b9++;const _0x3aed0d=currentCoinsAll[_0xf6be8b(0xc0)](_0x470093=>_0x470093[_0xf6be8b(0x1de)]==_0x40bca5[_0xf6be8b(0x1de)]);_0x3aed0d&&(_0x4fb8de+=_0x3aed0d['marketcap'],_0x4c267e+=Math[_0xf6be8b(0x13a)](_0x3aed0d[_0xf6be8b(0x10f)]));}if(_0x40bca5[_0xf6be8b(0x107)]!==-0x1)_0x17f6c1++;}});let _0x418f52;const _0x2e84b4=0x64-_0x2fe1b9,_0x348a33=_0x856c00-_0x17f6c1;_0x418f52=_0x348a33===0x0?_0x2fe1b9:Math[_0x5ce8f0(0x212)](0x64,_0x2fe1b9),config[_0x5ce8f0(0xf3)]['forEach'](_0xd8e501=>{const _0x4da964=_0x5ce8f0,_0x1160d0=currentCoinsAll['find'](_0x409979=>_0x409979[_0x4da964(0x1de)]==_0xd8e501[_0x4da964(0x1de)]);_0x1160d0&&(_0xd8e501[_0x4da964(0x10f)]=_0x1160d0['marketcap']);if(!_0xd8e501[_0x4da964(0x235)]){if(_0x418f52<=0x64){if(_0xd8e501[_0x4da964(0x107)]===-0x1){if(_0x4fb8de!==0x0&&config['marketcapEnabled']){if(_0x1160d0){if(config[_0x4da964(0x14a)]==_0x4da964(0x10f))_0xd8e501[_0x4da964(0x157)]=(_0x2e84b4/(_0x4fb8de/_0x1160d0['marketcap']))[_0x4da964(0x16c)](_0x539045);else config[_0x4da964(0x14a)]=='marketcapsqrt'&&(_0xd8e501['distribution']=(_0x2e84b4/(_0x4c267e/Math['sqrt'](_0x1160d0[_0x4da964(0x10f)])))[_0x4da964(0x16c)](_0x539045));}}}}}}),updateConfig();}function updateConfig(){const _0x5c46c7=_0x51399b;let _0x33f71c=dbConfig[_0x5c46c7(0xbb)](_0x5c46c7(0x1a8))[_0x5c46c7(0xc0)]({'botID':botID})['value']();_0x33f71c&&dbConfig['get'](_0x5c46c7(0x1a8))[_0x5c46c7(0xc0)]({'botID':botID})[_0x5c46c7(0x22c)](config)[_0x5c46c7(0x18b)]();}function logMemory(){const _0xb63d9b=_0x51399b;if(environment!='staging')return;const _0x48e8ce=process[_0xb63d9b(0x9d)]()[_0xb63d9b(0x102)]/0x400/0x400;logger['debug']('process\x20'+process[_0xb63d9b(0x196)]+_0xb63d9b(0x227)+formatResult(_0x48e8ce,0x1)+_0xb63d9b(0x1fd));}async function startScheduler(){const _0x429756=_0x51399b,_0x2aa344=shiftedTime()[_0x429756(0x1ca)]();getMarketCap(),_0x2aa344==0x1&&logMemory(),(_0x2aa344==0x2||_0x2aa344==0xe)&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x3c8151=![]){const _0x319f6f=_0x51399b;logger[_0x319f6f(0x1c4)]('Initiating\x20bot\x20restart');if(!_0x3c8151)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x319f6f(0x1e9)]({'stop':'restart'},_0x361612=>{});}async function initExchange(_0x36b151=config[_0x51399b(0xb6)],_0x428a3d=config[_0x51399b(0x22d)],_0x37cef7=config[_0x51399b(0x1bc)],_0x3a4a26=config['apiPassword']){const _0x386872=_0x51399b;if(exchange){logger['debug'](_0x386872(0x145));return;}logger[_0x386872(0x1c4)](_0x386872(0x19e));!supportedExchanges()[_0x386872(0xcf)](_0x36b151)&&(logHistory(_0x386872(0x147),_0x386872(0x193)+_0x36b151+_0x386872(0x1ad)),killBot());const _0x402d1c=ccxt['pro'][_0x36b151[_0x386872(0x173)]()];exchange=new _0x402d1c({'apiKey':_0x428a3d,'secret':_0x37cef7,'options':{'defaultType':'spot'}});if(_0x3a4a26)exchange['password']=_0x3a4a26;}function updateExchange(_0x3e175f,_0x342c6f,_0x1c1b4a=null){const _0xc84c59=_0x51399b;exchange['apiKey']=_0x3e175f,exchange[_0xc84c59(0x1bc)]=_0x342c6f,exchange[_0xc84c59(0x16a)]=_0x1c1b4a,logger[_0xc84c59(0x1c4)](_0xc84c59(0xf8));}function setStableCoins(){const _0x43d9f4=_0x51399b;let _0x502d12=config[_0x43d9f4(0xfb)]==_0x43d9f4(0x192)?_0x43d9f4(0x192):config[_0x43d9f4(0xfb)]=='PAXG'?_0x43d9f4(0x1b9):'BTC',_0x54501b=!allSymbols[_0x43d9f4(0xcf)](_0x502d12+_0x43d9f4(0x109))?'USDT':_0x43d9f4(0x18d),_0x2ade1d=!allSymbols[_0x43d9f4(0xcf)](_0x502d12+_0x43d9f4(0xe3))?_0x54501b:_0x43d9f4(0x143);stablecoins={'eur':{'coin':''+_0x502d12+_0x2ade1d,'symbol':_0x502d12+'/'+_0x2ade1d},'usd':{'coin':''+_0x502d12+_0x54501b,'symbol':_0x502d12+'/'+_0x54501b}};}async function initwsCcxt(){const _0x30055a=_0x51399b;initCycle++;const _0x1b544f=initCycle;let _0x1e2e1a=[];config[_0x30055a(0xf3)][_0x30055a(0x1a4)](_0xf2525a=>{const _0x50d895=_0x30055a;if(!_0xf2525a[_0x50d895(0x235)]&&_0xf2525a[_0x50d895(0x1de)]!=config[_0x50d895(0xfb)])_0x1e2e1a[_0x50d895(0xaa)](_0xf2525a[_0x50d895(0x21d)]);});if(!_0x1e2e1a['includes'](stablecoins['eur']['symbol']))_0x1e2e1a[_0x30055a(0xaa)](stablecoins['eur'][_0x30055a(0x21d)]);if(!_0x1e2e1a[_0x30055a(0xcf)](stablecoins[_0x30055a(0x97)]['symbol']))_0x1e2e1a[_0x30055a(0xaa)](stablecoins[_0x30055a(0x97)][_0x30055a(0x21d)]);if(config['exchange'][_0x30055a(0x163)](_0x30055a(0x1bd))&&config[_0x30055a(0xfb)]!=_0x30055a(0x1b9)){if(!_0x1e2e1a[_0x30055a(0xcf)](_0x30055a(0xff)+config[_0x30055a(0xfb)]))_0x1e2e1a[_0x30055a(0xaa)](_0x30055a(0xff)+config[_0x30055a(0xfb)]);}loadCoins(_0x1e2e1a),_0x1e2e1a=validateSymbols(_0x1e2e1a);const _0x3ad9c7=async _0x572682=>{const _0x540ec5=_0x30055a;let _0x35969c;try{const _0x195de1=await getTickers(_0x572682);Object[_0x540ec5(0x232)](_0x195de1)[_0x540ec5(0x1a4)](_0x2a9149=>{const _0x33fa2e=_0x540ec5;_0x35969c=_0x2a9149[0x1][_0x33fa2e(0x21d)],gTicker[noslash(_0x35969c)]=_0x2a9149[0x1][_0x33fa2e(0xde)],gChange[_0x35969c]=_0x2a9149[0x1]['percentage'];});}catch(_0x2bc220){await handleError(_0x2bc220,_0x540ec5(0xd9),_0x35969c);}},_0x312ef7=async _0xcb6e1e=>{const _0x4eb74a=_0x30055a;while(initCycle==_0x1b544f){if(!botPaused)try{const _0x3d1e26=await exchange['watchTrades'](_0xcb6e1e);gTicker[noslash(_0x3d1e26[0x0][_0x4eb74a(0x21d)])]=_0x3d1e26[0x0][_0x4eb74a(0xbc)];}catch(_0x560ce8){if(!exchangeStopped)await handleError(_0x560ce8,_0x4eb74a(0xd1),_0xcb6e1e);}else await sleep(0x64);}},_0x25f952=async _0x402f6d=>{const _0x14474e=_0x30055a;while(initCycle==_0x1b544f){if(!botPaused)try{const _0x592a8b=await exchange[_0x14474e(0x1d9)](_0x402f6d),_0x289c0e=_0x592a8b['pop']();gTicker[noslash(_0x289c0e[_0x14474e(0x21d)])]=_0x289c0e[_0x14474e(0xbc)];}catch(_0x83cb62){if(!exchangeStopped)await handleError(_0x83cb62,_0x14474e(0xfa),_0x402f6d[_0x14474e(0x10d)]());}else await sleep(0x64);}},_0x52f234=async _0x55e00f=>{const _0x229c6f=_0x30055a;while(initCycle==_0x1b544f){if(!botPaused){let _0x5897f6;try{await sleep(0x3c*0x3e8);const _0x59433f=await getTickers(_0x55e00f);Object[_0x229c6f(0x232)](_0x59433f)[_0x229c6f(0x1a4)](_0x18f2dc=>{const _0x40e649=_0x229c6f;_0x5897f6=_0x18f2dc[0x1][_0x40e649(0x21d)],gChange[_0x5897f6]=_0x18f2dc[0x1]['percentage'];});}catch(_0x4fc79c){if(!exchangeStopped)await handleError(_0x4fc79c,'fetchTickers()',_0x5897f6);}}else await sleep(0x64);}},_0x5defbc=async _0x3bf9c4=>{const _0x4ad392=_0x30055a;while(initCycle==_0x1b544f){if(!botPaused)try{const _0x171f0d=await exchange[_0x4ad392(0x208)](_0x3bf9c4);initCycle==_0x1b544f&&_0x171f0d['forEach'](_0x1565f5=>{updateNumberCoinsCcxt(_0x1565f5);});}catch(_0x590ba1){if(!exchangeStopped)await handleError(_0x590ba1,_0x4ad392(0xdc));}else await sleep(0x64);}};_0x3ad9c7(_0x1e2e1a),_0x52f234(_0x1e2e1a),exchange[_0x30055a(0xb3)]['watchTradesForSymbols']&&!(config['exchange']=='Bybit'&&_0x1e2e1a[_0x30055a(0xef)]>0xa)?_0x25f952(_0x1e2e1a):_0x1e2e1a[_0x30055a(0x1a4)](_0x2b63fe=>{_0x312ef7(_0x2b63fe);}),_0x1e2e1a[_0x30055a(0x1a4)](_0x469f5f=>{_0x5defbc(_0x469f5f);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x30adf7){const _0x4ace7b=_0x51399b;let _0xcce19d={};try{if(config[_0x4ace7b(0xb6)]!=_0x4ace7b(0x1e1))_0xcce19d=await exchange[_0x4ace7b(0x1b6)](_0x30adf7);else for(const _0x5193ae of _0x30adf7){const _0x48c12e=await exchange[_0x4ace7b(0x113)](_0x5193ae);_0xcce19d[_0x5193ae]=_0x48c12e;}return _0xcce19d;}catch(_0x303fbf){throw _0x303fbf;}}function setBlockTransactionDetection(_0x7c9403){const _0x12efaf=_0x51399b;blockTransactionDetection=_0x7c9403,logger[_0x12efaf(0x1c4)](_0x12efaf(0x137)+blockTransactionDetection);}async function detectLiquidityChange(_0x553fc2=0x0){const _0x336de8=_0x51399b;transactionDetectionOngoing=!![];try{const _0x8cb340=await getCoins(_0x553fc2),[_0x5cf0ef,_0x3466c5]=_0x8cb340;let _0x35bd45=[];currentCoins[_0x336de8(0x1a4)](_0x350e69=>{const _0x459ced=_0x336de8,_0x284d97=_0x5cf0ef[_0x459ced(0xc0)](_0x1c525a=>_0x1c525a[_0x459ced(0x1de)]==_0x350e69['coin']);if(_0x284d97){if(_0x350e69[_0x459ced(0x141)]!=_0x284d97[_0x459ced(0x141)]){let _0x2fc1ca;if(_0x350e69['coin']!=config[_0x459ced(0xfb)]){const _0x47f367=gTicker[noslash(_0x350e69[_0x459ced(0x21d)])];_0x2fc1ca=_0x350e69[_0x459ced(0x1c0)]?0x1/_0x47f367:_0x47f367;}else _0x2fc1ca=0x1;_0x35bd45[_0x459ced(0xaa)]({'coin':_0x350e69[_0x459ced(0x1de)],'symbol':_0x350e69[_0x459ced(0x21d)],'price':_0x2fc1ca,'number':Number(formatResult(_0x284d97[_0x459ced(0x141)]-_0x350e69[_0x459ced(0x141)],0x8)),'basecoinvalue':_0x2fc1ca*(_0x284d97[_0x459ced(0x141)]-_0x350e69[_0x459ced(0x141)])});}}});if(_0x35bd45[_0x336de8(0xef)]>0x0&&!blockTransactionDetection)for(const _0x1264e4 of _0x35bd45){if(config[_0x336de8(0x13f)]){logger[_0x336de8(0x1c4)](_0x336de8(0x1b1)+_0x1264e4[_0x336de8(0x207)]+_0x336de8(0x115)+lastFees[_0x336de8(0x10b)]);if(lastFees[_0x336de8(0x10b)]==0x0||Math[_0x336de8(0x146)](_0x1264e4['basecoinvalue'])>lastFees[_0x336de8(0x10b)]*1.2){if(config[_0x336de8(0x13f)]=='update-liquidity'){delete _0x1264e4['symbol'],delete _0x1264e4['basecoinvalue'];let _0xe9ca48=[],_0x188d7c=[...config[_0x336de8(0x181)]]||[],_0x2efc49=config[_0x336de8(0x181)];_0x188d7c[_0x336de8(0x23f)]((_0x14fcc8,_0x45c426)=>_0x14fcc8[_0x336de8(0x222)]>_0x45c426[_0x336de8(0x222)]?-0x1:_0x45c426[_0x336de8(0x222)]>_0x14fcc8[_0x336de8(0x222)]?0x1:0x0);const _0x715dee=getDate();if(_0x188d7c[0x0]){const _0x5dbd7d=fns['parse'](_0x188d7c[0x0][_0x336de8(0x222)],_0x336de8(0x18a),new Date()),_0x439a01=fns[_0x336de8(0x219)](_0x715dee,'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x5dbd7d,_0x439a01)){_0xe9ca48=_0x188d7c[0x0][_0x336de8(0x217)];const _0x24caa6=_0xe9ca48[_0x336de8(0xc0)](_0x292cc1=>_0x292cc1[_0x336de8(0x1de)]==_0x1264e4['coin']);_0x24caa6?(_0x24caa6['number']+=_0x1264e4['number'],_0x24caa6[_0x336de8(0x141)]==0x0&&(_0xe9ca48=_0xe9ca48[_0x336de8(0x215)](_0x2ad486=>{const _0xd6e765=_0x336de8;return _0x2ad486['coin']!=_0x1264e4[_0xd6e765(0x1de)];}))):_0xe9ca48['push'](_0x1264e4);const _0x4c85c7=_0x2efc49['find'](_0x5c80fd=>_0x5c80fd['date']==_0x715dee);_0x4c85c7['changes']=_0xe9ca48;}else _0x2efc49[_0x336de8(0xaa)]({'date':_0x715dee,'changes':[_0x1264e4]});}const _0x38d0a4=_0x2efc49[_0x336de8(0xc0)](_0xafac70=>_0xafac70[_0x336de8(0x222)]==_0x715dee);if(_0x38d0a4){let _0x5278ad=!![];_0x38d0a4[_0x336de8(0x217)][_0x336de8(0x1a4)](_0x346a1a=>{const _0x3e734e=_0x336de8;if(_0x346a1a[_0x3e734e(0x141)]!=0x0)_0x5278ad=![];}),_0x5278ad&&(_0x2efc49=_0x2efc49[_0x336de8(0x215)](_0x3a6a74=>{return _0x3a6a74['date']!=_0x715dee;}));}let _0x4c1e7a=dbConfig[_0x336de8(0xbb)](_0x336de8(0x1a8))['find']({'botID':botID})[_0x336de8(0xc4)]();_0x4c1e7a&&(dbConfig['get'](_0x336de8(0x1a8))[_0x336de8(0xc0)]({'botID':botID})[_0x336de8(0x22c)]({'liquidity':_0x2efc49})[_0x336de8(0x18b)](),config['liquidity']=_0x2efc49);logHistory(_0x336de8(0xe6),_0x336de8(0x172)+Math[_0x336de8(0x146)](_0x1264e4[_0x336de8(0x141)])+'\x20'+_0x1264e4[_0x336de8(0x1de)]+'\x20'+(_0x1264e4[_0x336de8(0x141)]>0x0?_0x336de8(0x1da):_0x336de8(0x161))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());const _0xcfc887=getNormalizedPerformance();emitPerformance(_0xcfc887),getStartingBalances(_0xcfc887),logger[_0x336de8(0x1c4)]('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x336de8(0x13f)]==_0x336de8(0xc5)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x336de8(0xe6),_0x336de8(0x172)+Math['abs'](_0x1264e4['number'])+'\x20'+_0x1264e4[_0x336de8(0x1de)]+'\x20'+(_0x1264e4[_0x336de8(0x141)]>0x0?_0x336de8(0x1da):_0x336de8(0x161))+_0x336de8(0x231))):logger[_0x336de8(0x1c4)](_0x336de8(0x172)+Math[_0x336de8(0x146)](_0x1264e4[_0x336de8(0x141)])+'\x20'+_0x1264e4[_0x336de8(0x1de)]+'\x20'+(_0x1264e4['number']>0x0?_0x336de8(0x1da):_0x336de8(0x161))+_0x336de8(0x1c9)));}else logger[_0x336de8(0x1c4)](_0x336de8(0x1cf)+Math[_0x336de8(0x146)](_0x1264e4[_0x336de8(0x141)])+'\x20'+_0x1264e4[_0x336de8(0x1de)]+'\x20'+(_0x1264e4[_0x336de8(0x141)]>0x0?_0x336de8(0x1da):'removed'));}else logger['debug'](_0x336de8(0x172)+Math[_0x336de8(0x146)](_0x1264e4[_0x336de8(0x141)])+'\x20'+_0x1264e4[_0x336de8(0x1de)]+'\x20'+(_0x1264e4[_0x336de8(0x141)]>0x0?'added':_0x336de8(0x161))+_0x336de8(0x16b));}currentCoins=_0x5cf0ef,currentCoinsAll=_0x3466c5;}catch(_0x362aa4){if(!exchangeStopped)await handleError(_0x362aa4,_0x336de8(0x122));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x35ed2f=_0x51399b;logger[_0x35ed2f(0x1c4)](_0x35ed2f(0x1ef));try{markets=await exchange[_0x35ed2f(0x189)]();}catch(_0x2ea44c){logger[_0x35ed2f(0x1c4)](_0x35ed2f(0x19b)+_0x2ea44c[_0x35ed2f(0x10d)]());if(markets){}else logHistory('error','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory(_0x35ed2f(0x147),_0x35ed2f(0x21e)+loadCoinsRetryInterval/0xea60+_0x35ed2f(0xd5)),logger[_0x35ed2f(0x1c4)](_0x35ed2f(0x244),_0x2ea44c),loading['cancel']=!![],emitLoadingProgress(),await sleep(loadCoinsRetryInterval),restartBot();}allSymbols=[],Object[_0x35ed2f(0x232)](markets)[_0x35ed2f(0x1a4)](_0x5eb71d=>{const _0x3dbe9f=_0x35ed2f;_0x5eb71d[0x1][_0x3dbe9f(0x136)]&&_0x5eb71d[0x1][_0x3dbe9f(0x1ee)]&&allSymbols[_0x3dbe9f(0xaa)](_0x5eb71d[0x0]);});}function validateSymbols(_0x28e1f5){const _0x1b5232=_0x51399b;let _0x2d7c72=[];return _0x28e1f5[_0x1b5232(0x1a4)](_0x26f9de=>{const _0x5117e8=_0x1b5232;!allSymbols[_0x5117e8(0xcf)](_0x26f9de)?logHistory('error',_0x5117e8(0xd8)+_0x26f9de+_0x5117e8(0xa4)):_0x2d7c72[_0x5117e8(0xaa)](_0x26f9de);}),_0x2d7c72;}async function initclient(){const _0x33bc74=_0x51399b;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x33bc74(0xce),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x33bc74(0x1be),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4db335=getNormalizedPerformance();emitPerformance(_0x4db335),getStartingBalances(_0x4db335);}async function toggleBotMode(){const _0x3c972d=_0x51399b;let _0x5e6076=dbConfig[_0x3c972d(0xbb)](_0x3c972d(0x1a8))[_0x3c972d(0xc0)]({'botID':botID})[_0x3c972d(0xc4)]();if(_0x5e6076){const _0x37535d=!_0x5e6076[_0x3c972d(0x178)];dbConfig[_0x3c972d(0xbb)](_0x3c972d(0x1a8))[_0x3c972d(0xc0)]({'botID':botID})['assign']({'headless':_0x37535d})['write'](),config['headless']=_0x37535d,proxyEmit(_0x3c972d(0x176),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x43e00b=_0x51399b;process['send']({'updatebotmanager':!![]},_0xc4cc41=>{}),logger['debug'](_0x43e00b(0x1bb)+config[_0x43e00b(0x178)]);}async function loadCoins(_0x592f84){const _0x1edafc=_0x51399b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x3a1b1c,_0x376f8a=0x0,_0x2ec14a=0x0;_0x592f84[_0x1edafc(0x1a4)](_0x20fc37=>{const _0x13d149=_0x1edafc;loading[_0x13d149(0x11d)]['push'](_0x20fc37);}),loadingCanceled=![];let _0x820b95=![];while(_0x3a1b1c!=_0x592f84[_0x1edafc(0xef)]+maxLoadingProgress){_0x3a1b1c=loadingProgress,_0x592f84['forEach'](_0x4ab35e=>{const _0x3cd400=_0x1edafc;if(gTicker[noslash(_0x4ab35e)]){loading[_0x3cd400(0x11d)]=loading['remainingSymbols']['filter'](_0x31e741=>_0x31e741!=_0x4ab35e);if(!watchedSymbols[_0x3cd400(0xcf)](_0x4ab35e))watchedSymbols[_0x3cd400(0xaa)](_0x4ab35e);_0x3a1b1c++;}}),loading[_0x1edafc(0x223)]=Math[_0x1edafc(0x1b4)](_0x3a1b1c/(_0x592f84[_0x1edafc(0xef)]+maxLoadingProgress)*0x64);loading[_0x1edafc(0x223)]!=0x64&&(_0x2ec14a>0x1e*0x5&&(loading[_0x1edafc(0x9b)]=!![],emitLoadingProgress()),_0x2ec14a>0x78*0x5&&!_0x820b95&&(_0x820b95=!![],logHistory('error',_0x1edafc(0x167)+loading[_0x1edafc(0x11d)][_0x1edafc(0x22e)](',\x20')+_0x1edafc(0x230)),logHistory(_0x1edafc(0x147),_0x1edafc(0x21e)+loadCoinsRetryInterval/0xea60+_0x1edafc(0xd5)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x1edafc(0x8b)]=!![],emitLoadingProgress();break;}else _0x376f8a!=loading['progress']&&(_0x376f8a=loading[_0x1edafc(0x223)],emitLoadingProgress()),_0x2ec14a++,await sleep(0xc8);}_0x3a1b1c==_0x592f84['length']+maxLoadingProgress&&(coinsLoaded=!![],process[_0x1edafc(0x1e9)]({'status':_0x1edafc(0x98),'live':_0x1edafc(0x8a)},_0x27b827=>{}),_0x820b95&&logHistory('success',_0x1edafc(0xe2)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x50b81d=_0x51399b;proxyEmit(_0x50b81d(0x176),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x5b2dbc=_0x51399b;proxyEmit(_0x5b2dbc(0x19a),loading);}async function getFiat(){const _0x3c2685=_0x51399b;let _0x5a534c=gTicker[stablecoins[_0x3c2685(0xb2)][_0x3c2685(0x1de)]],_0x1e63c6=gTicker[stablecoins[_0x3c2685(0x97)][_0x3c2685(0x1de)]];return{'eur':Number(_0x5a534c),'usd':Number(_0x1e63c6)};}function capitalize(_0x47a607){const _0x567bee=_0x51399b;return _0x47a607['substring'](0x0,0x1)['toUpperCase']()+_0x47a607[_0x567bee(0x19f)](0x1);}function _0x1ac9(){const _0x35d84f=['existsSync','remainingSymbols','1\x20-\x20Handle\x20open\x20orders','constructor','bb-secure.json','time','detectLiquidityChange()','%\x20(','event-history','order','fetchOpenOrders','apply','2\x20-\x20Orders\x20unlocked','./logs/','storeFiat','1693323uhahQs','net-basecoin','secure','writeFile','296840wqTZEx','splice','recent20','ID:\x20','portfolio2','target','full','active','Block\x20transaction\x20detection:\x20','padStart','amount','sqrt','floor','startprice','\x20|\x20','bot-','autoliquidity','0\x20-\x20EXECUTION:\x20','number','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','EUR','Symbol(s):\x20','Initializing\x20exchange:\x20already\x20done','abs','error','ongoing','MIN_NOTIONAL','marketcapEnabled','ORDERS.LOCKED','\x20>\x20details:','leftTxt',':\x20Bot\x20','DDoSProtection','threshold','USDC','change','average','<pre>','./config/','padEnd','distribution','set','timeshift','\x20API\x20secret\x20is\x20invalid','sortBy','update-liquidity','RETRY\x20-\x20Error\x20in\x20','\x20:\x20','RSA-OAEP','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','removed','currency','startsWith','***',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20API\x20key\x20is\x20invalid','Failed\x20to\x20load\x20coin\x20data\x20for\x20','hybrid-crypto-js','final','apiPassword','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','toFixed','<b>Bot\x20','Net\x20effect','RateLimitExceeded','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Portfolio\x20change\x20detected:\x20','toLowerCase','2002785daqFms','\x20value','configuration','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','headless','logs','showname','deleteHistoryAlerts','Manual\x20balancing\x20required','BNB','Unknown\x20error\x20-\x20check\x20logs','fiat','replace','liquidity','ExchangeError','OrderNotFound','initial','path','privateKey','util','coins','loadMarkets','yyyy/MM/dd','write','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','USD','RequestTimeout','getTime','add','cooldown','ETH','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','random','production','pid','AuthenticationError','Loading\x20completed','orderstatus','coin-loading-progress','Error\x20in\x20loadSymbols():\x20','net-fiat','2avhxDN','Initializing\x20exchange','substring','complete','BUSD','getFullYear','stringify','forEach','kill','red_yellow_blue','warning','bot','(((.+)+)+)+$','ORDERS.UNLOCKED','onepagemode','market','\x20exchange','test','storeHeadless','Order(s)\x20not\x20validated\x20after\x20','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','2\x20-\x20Validate\x20orders:\x20','search','round','Avoiding\x20continuous\x20order\x20attempts','fetchTickers','bots','closed','PAXG','settings','Headless:\x20','apiSecret','Binance','balances','offset','reverse','ordertype','Unknown\x20error:\x20','createOrder','debug','8XLqkQG','Net\x20','slice','USDT','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','getHours','cancelLoading','sendPortfolioTelegram','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','split','Fee\x20discount\x20refund\x20detected:\x20','getMonth','\x20/\x20','-events.json','rightTxt','argv','open','map','3727350XZHKuC','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','watchTradesForSymbols','added','Saving\x20configuration','indexOf','emojibuy','coin','Exchange','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','Cryptocom','************','InsufficientFunds','differenceInSeconds','2.5.0','Initializing\x20coin\x20results','fee','\x20order:\x20','send','token\x20is\x20expired','status\x20code\x20401','exec','yargs/yargs','spot','Loading\x20symbols','Huobi','shift','recreateCoinResults()','startdate','\x20minutes','realized','customId','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','delta','canceled','keys','defaults','\x20change','\x20MB','Resetting\x20coin\x20results:\x20','none','colorscheme','\x20network\x20error:\x20','bid','version','timestamp','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20>\x20[DEBUG]\x20','basecoinvalue','watchOrders','985964YNyuqj','2.6.23','getDate','quote','getSeconds','Insufficient\x20funds\x20to\x20execute\x20order:\x20','/output-000.log','UNLOCKING','decrypt','max','\x20hour','pro','filter','args','changes','2\x20-\x20Handled\x20open\x20orders','parse','./version.json','\x20minutes\x20-\x20','storeConfiguration','symbol','Pausing\x20for\x20','Executed\x20','\x20exchange\x20error:\x20','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','date','progress','trade','ask','Limit\x20(low-margin)','\x20uses\x20','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','getMinutes','<b>',':\x20timer\x20>','assign','apiKey','join','placeOrder()','\x20-\x20bot\x20not\x20started','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','entries','remove','lowdb','excluded','lowdb/adapters/FileSync','Error\x20in\x20testAPI():\x20','getPortfolio','12RHCCCa','</pre>','fetchBalance','NetworkError','BTC','performance','sort','Reset\x20|\x20','InvalidNonce','sha256','-results.json','Error\x20details:','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','log','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','001','running','cancel','UNLOCKED','getCoinNumber()','showConfig','Order\x20filled:\x20','botID','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','data','1\x20-\x20Unlock\x20orders','Cex','PermissionDenied','limits','usd','enabled','buys','date-fns','timeout','buy','memoryUsage','-------------------------------\x0a','-config.json','botname','\x20metrics:</b>\x20\x0a\x0a','/backup/','-performance.json','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','2.3.5','recovery','API-key\x20format\x20invalid','mkdirSync','password','push','string','Crypt','cloneDeep','cancelOrder',')\x20|\x20exchange:\x20','cost','Bybit','eur','has','breakeven','sell','exchange','ORDERS.UNLOCKING','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','limit','1\x20-\x20partially\x20FILLED\x20known\x20order:\x20','get','price','getCoins()','619955MwhZDm','datetime','find','startnumber','balancing\x20resumes\x20when\x20cooldown\x20ends','1\x20-\x20FILLED\x20known\x20order:\x20','value','switch-manual','emitHistory','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','TUSD','format','bb-settings.json','watchTrades','Huobipro','exchanges','includes','unlinkSync','watchTrades()','sells','min','Market','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','total','Resuming\x20(','Invalid\x20symbol:\x20','initTickers()','openOrders','Error\x20details\x20(1):','watchOrders()','marketcapApi','last','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','6434937heMrrl','OnMaintenance','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','/EUR','Exception\x20thrown\x20in\x20','sendMetricsTelegram','success','page','event','getStartingBalances','no\x20exchange\x20reloaded','Exchange\x20error\x20details:','change24h','\x20|\x20exchange:\x20','Error\x20details\x20(0):','length','\x20>\x20pausing\x20bot\x20for\x20','\x20attempts','toggleBotMode','portfolio','uncaughtException','LOCKED','type','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','Limit\x20(high-margin)','watchTradesForSymbols()','basecoin','market_cap','Error:\x20Invalid\x20argument\x20','side','BNB/','status','\x20>\x20','heapUsed','no\x20open\x20orders','limit-high','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','emojisell','slider','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','/USD','portfolio1','highest','filled','toString','Invalid\x20quantity','marketcap','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','2\x20-\x20handling\x20FILLED\x20order:\x20','Order\x20is\x20invalid:\x20','fetchTicker','orderId','\x20|\x20highest\x20fee:\x20','message','Cooldown\x20ended\x20-\x20balancing\x20resumed','axios','valid','\x20portfolio:</b>\x20\x0a\x0a','2.6.0'];_0x1ac9=function(){return _0x35d84f;};return _0x1ac9();}function supportedExchanges(){const _0x7ec6f5=_0x51399b,_0x377d4b=['ws',_0x7ec6f5(0x1b6),'fetchTicker',_0x7ec6f5(0xcc),_0x7ec6f5(0x208),'cancelOrder',_0x7ec6f5(0x1c3),'fetchOpenOrders',_0x7ec6f5(0x23b)];let _0x363a4f=[],_0x3fe90b=[],_0x1e9f5a=ccxt[_0x7ec6f5(0x214)][_0x7ec6f5(0xce)];_0x1e9f5a[_0x7ec6f5(0x1a4)](_0x20a4cb=>{const _0x1b7844=_0x7ec6f5;try{const _0x5eee58=new ccxt[(_0x1b7844(0x214))][_0x20a4cb]();_0x3fe90b[_0x1b7844(0xaa)](_0x5eee58);}catch(_0x158e8c){}}),_0x3fe90b[_0x7ec6f5(0x1a4)](_0x4d3c7f=>{const _0x150888=_0x7ec6f5;let _0x502ca1=0x0;_0x377d4b[_0x150888(0x1a4)](_0x4d2c79=>{const _0x5ed7f3=_0x150888;_0x4d2c79 in _0x4d3c7f[_0x5ed7f3(0xb3)]&&_0x4d3c7f['has'][_0x4d2c79]&&_0x502ca1++;}),_0x502ca1==_0x377d4b[_0x150888(0xef)]&&_0x363a4f[_0x150888(0xaa)](capitalize(_0x4d3c7f['id']));});let _0x102771=[];return _0x1e9f5a[_0x7ec6f5(0x1a4)](_0x22f631=>{const _0x471995=_0x7ec6f5;_0x22f631=capitalize(_0x22f631);if(!_0x363a4f[_0x471995(0xcf)](_0x22f631))_0x102771[_0x471995(0xaa)](_0x22f631);}),_0x363a4f;}function setStartDatePerformance(){const _0x2a05ad=_0x51399b;if(config&&config[_0x2a05ad(0x181)][0x0][_0x2a05ad(0x217)]['length']!=0x0){const _0x211d0d=config[_0x2a05ad(0x181)][0x0][_0x2a05ad(0x217)];dbPerformance['get'](_0x2a05ad(0x92))[_0x2a05ad(0xc0)]({'date':config[_0x2a05ad(0x1f3)]})[_0x2a05ad(0x22c)]({'coins':_0x211d0d})[_0x2a05ad(0x18b)]();}}async function recreateCoinResults(){const _0x2396ec=_0x51399b;recreationNeeded=![];let _0x4149ba,_0x42aa90=[];try{for(const _0x441be0 of currentCoins){if(_0x441be0[_0x2396ec(0x1de)]!=config[_0x2396ec(0xfb)]){let _0x32e892=0x0,_0x4e2e1a,_0x18df98;_0x4149ba=await getAllEventOrders(_0x441be0[_0x2396ec(0x21d)]);if(_0x4149ba[_0x2396ec(0xef)]>0x0)_0x4149ba[_0x2396ec(0x1a4)](_0x2a373b=>{const _0x4391c4=_0x2396ec,_0x4d8190=_0x441be0['symbol'][_0x4391c4(0xcf)](config[_0x4391c4(0xfb)]+'/');_0x42aa90['push']({'datetime':_0x2a373b[_0x4391c4(0xbf)],'coin':_0x441be0[_0x4391c4(0x1de)],'symbol':_0x441be0['symbol'],'side':_0x2a373b[_0x4391c4(0xfe)],'reverse':_0x4d8190,'amount':formatResult(_0x2a373b[_0x4391c4(0x10c)],0x8),'filled':formatResult(_0x2a373b['filled'],0x8),'price':formatResult(_0x2a373b[_0x4391c4(0xbc)],0x8)}),_0x32e892=_0x2a373b['side']==_0x4391c4(0x9c)?_0x32e892+_0x2a373b[_0x4391c4(0x10c)]:_0x32e892-_0x2a373b[_0x4391c4(0x10c)];if(!_0x18df98)_0x18df98=_0x2a373b['price'];});_0x4e2e1a=_0x441be0[_0x2396ec(0x141)]-_0x32e892;let _0x187145;config[_0x2396ec(0x181)][_0x2396ec(0x1a4)](_0x48c788=>{const _0x4a5886=_0x2396ec;!_0x187145&&(_0x187145=_0x48c788[_0x4a5886(0x217)][_0x4a5886(0xc0)](_0x470894=>_0x470894['coin']==_0x441be0[_0x4a5886(0x1de)]),_0x187145&&(_0x4e2e1a=_0x187145[_0x4a5886(0x141)],_0x18df98=_0x187145['price']));});let _0x14fa17=dbCoinResults['get'](_0x2396ec(0x188))[_0x2396ec(0xc0)]({'coin':_0x441be0[_0x2396ec(0x1de)]})[_0x2396ec(0xc4)]();_0x14fa17={'coin':_0x441be0[_0x2396ec(0x1de)],'number':_0x4e2e1a,'breakeven':_0x18df98,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2396ec(0xbb)]('coins')['find']({'coin':_0x441be0['coin']})[_0x2396ec(0x22c)](_0x14fa17)[_0x2396ec(0x18b)]();}}_0x42aa90[_0x2396ec(0x23f)]((_0x282b15,_0x549ca5)=>_0x282b15[_0x2396ec(0xbf)]>_0x549ca5[_0x2396ec(0xbf)]?0x1:_0x549ca5[_0x2396ec(0xbf)]>_0x282b15[_0x2396ec(0xbf)]?-0x1:0x0);let _0x17b7e5=0x0;for(let _0x53f4a7 of _0x42aa90){await updateCoinResults(_0x53f4a7,!![]);}}catch(_0x5944de){await handleError(_0x5944de,_0x2396ec(0x1f2));}}async function getAllEventOrders(_0x48b675){const _0x29ae99=_0x51399b;let _0x32ec0e=[],_0x4f74c4=dbLogs[_0x29ae99(0xbb)](_0x29ae99(0x179))['filter'](_0x1b2000=>{const _0x372558=_0x29ae99,_0x2ce700=_0x1b2000[_0x372558(0xe8)][_0x372558(0x173)]();return _0x2ce700[_0x372558(0xcf)](_0x48b675[_0x372558(0x173)]())&&(_0x2ce700[_0x372558(0xcf)](_0x372558(0x1ac))&&_0x2ce700['includes'](_0x372558(0x125))||_0x2ce700[_0x372558(0xcf)]('filled')&&_0x2ce700[_0x372558(0xcf)](_0x372558(0x125)));})[_0x29ae99(0x15b)]('time')[_0x29ae99(0xc4)]();return _0x4f74c4['forEach'](_0x1815ca=>{const _0x2f2b5a=_0x29ae99,_0x13b1a7=_0x1815ca[_0x2f2b5a(0xe8)][_0x2f2b5a(0xcf)](_0x2f2b5a(0xb5))?'sell':_0x2f2b5a(0x9c),_0xf89c3a=/#([0-9]|\.)+\s/i,_0x3306ec=Number(_0xf89c3a[_0x2f2b5a(0x1ec)](_0x1815ca[_0x2f2b5a(0xe8)])[0x0][_0x2f2b5a(0x1c7)](0x1)),_0x8abd22=/@([0-9]|\.)+$/i,_0x15bb81=Number(_0x8abd22[_0x2f2b5a(0x1ec)](_0x1815ca[_0x2f2b5a(0xe8)])[0x0]['slice'](0x1));_0x32ec0e[_0x2f2b5a(0xaa)]({'datetime':_0x1815ca[_0x2f2b5a(0x121)],'coin':symbolToCoin(_0x48b675),'symbol':_0x48b675,'side':_0x13b1a7,'amount':_0x3306ec,'filled':_0x3306ec,'price':_0x15bb81});}),_0x32ec0e;}async function validate24hChanges(){const _0x27a067=_0x51399b;for(const _0x32500f of currentCoins){if(_0x32500f[_0x27a067(0x1de)]!=config[_0x27a067(0xfb)]){let _0x3f4df3;_0x32500f[_0x27a067(0x1c0)]?_0x3f4df3=formatResult((0x1/(gChange[_0x32500f[_0x27a067(0x21d)]]/0x64+0x1)-0x1)*0x64,0x3):_0x3f4df3=gChange[_0x32500f['symbol']],_0x3f4df3<config[_0x27a067(0xec)]&&(logHistory('error',_0x32500f[_0x27a067(0x1de)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x3f4df3+'%'),logHistory(_0x27a067(0x147),_0x27a067(0x160)),logHistory(_0x27a067(0x147),_0x27a067(0x1cd)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x27fabb,_0x3b8e13){const _0x576217=_0x51399b;if(!_0x27fabb)return!![];const _0x4c7fec=_0x3b8e13[_0x576217(0x1ce)]('.'),_0x4f1edd=_0x27fabb[_0x576217(0x1ce)]('.');for(var _0x4e61dc=0x0;_0x4e61dc<_0x4f1edd[_0x576217(0xef)];_0x4e61dc++){const _0x1a0aff=~~_0x4f1edd[_0x4e61dc],_0x52ddb4=~~_0x4c7fec[_0x4e61dc];if(_0x1a0aff<_0x52ddb4)return!![];if(_0x1a0aff>_0x52ddb4)return![];}return![];}async function oneTimeMigration(){const _0x3ab5f4=_0x51399b;let _0x281970=dbLogs[_0x3ab5f4(0xbb)](_0x3ab5f4(0x203))[_0x3ab5f4(0xc4)]();if(isOlderVersion(_0x281970,_0x3ab5f4(0xa5))){let _0x11cd75=[];const _0x409d0c=dbLogs[_0x3ab5f4(0xbb)](_0x3ab5f4(0x179))[_0x3ab5f4(0xc4)]();_0x409d0c[_0x3ab5f4(0x1a4)](_0x30e8c1=>{const _0xd02e25=_0x3ab5f4;_0x11cd75[_0xd02e25(0xaa)]({'time':_0x30e8c1[_0xd02e25(0x121)],'type':_0x30e8c1[_0xd02e25(0xf6)],'event':_0x30e8c1['event']});}),dbLogs[_0x3ab5f4(0xbb)]('logs')['assign'](_0x11cd75)[_0x3ab5f4(0x18b)]();}let _0x40c49e=dbConfig['get'](_0x3ab5f4(0x203))['value']();if(isOlderVersion(_0x40c49e,_0x3ab5f4(0xa5))){let _0x27bdfb=dbConfig[_0x3ab5f4(0xbb)](_0x3ab5f4(0x1a8))['find']({'botID':botID})[_0x3ab5f4(0xc4)]();if(_0x27bdfb){let _0x466cc8=[];_0x27bdfb[_0x3ab5f4(0xf3)][_0x3ab5f4(0x1a4)](_0x88bfe8=>{const _0xd4113f=_0x3ab5f4;_0x466cc8[_0xd4113f(0xaa)]({'coin':_0x88bfe8[_0xd4113f(0x1de)],'number':_0x88bfe8[_0xd4113f(0xc1)],'price':_0x88bfe8[_0xd4113f(0x13c)]}),delete _0x88bfe8[_0xd4113f(0xc1)],delete _0x88bfe8[_0xd4113f(0x13c)];});if(_0x466cc8[_0x3ab5f4(0xef)]!==0x0)fs[_0x3ab5f4(0x12e)](configbackuppath+('starting-balance-'+botID+'.json'),JSON['stringify'](_0x466cc8,null,0x4),function(_0x501b54){if(_0x501b54){}});const _0x4efa71=(_0x190e84,_0x703f6e)=>{const _0x42d630=_0x3ab5f4;let _0x4d9cc8=[];_0x703f6e['forEach'](_0x5a3aa7=>{const _0x49d8f0=_0x3ad7,_0x13ee14=_0x190e84[_0x49d8f0(0xc0)](_0x88a13c=>_0x88a13c['coin']==_0x5a3aa7[_0x49d8f0(0x1de)]);if(!_0x13ee14)_0x4d9cc8['push'](_0x5a3aa7);});let _0x53e01a=[];return _0x190e84[_0x42d630(0x1a4)](_0x4546d6=>{const _0x40ff92=_0x42d630,_0x2d5109=_0x703f6e[_0x40ff92(0xc0)](_0x59568c=>_0x59568c[_0x40ff92(0x1de)]==_0x4546d6['coin']);if(!_0x2d5109||_0x2d5109[_0x40ff92(0x141)]==0x0&&_0x4546d6['number']!=0x0)_0x53e01a[_0x40ff92(0xaa)](_0x4546d6);}),{'missingDay1':_0x4d9cc8,'notInDay2':_0x53e01a};},_0x59abaa=dbPerformance['get']('data')[_0x3ab5f4(0xad)]()[_0x3ab5f4(0xc4)]();if(_0x59abaa[_0x3ab5f4(0xef)]>0x1){const {missingDay1:_0x1a6277,notInDay2:_0x5abdee}=_0x4efa71(_0x466cc8,_0x59abaa[0x1][_0x3ab5f4(0x188)]);_0x466cc8=[..._0x466cc8,..._0x1a6277],_0x5abdee[_0x3ab5f4(0x1a4)](_0x237408=>{const _0x1a2696=_0x3ab5f4;let _0x795973=_0x466cc8['findIndex'](_0x1f8d7d=>_0x1f8d7d['coin']==_0x237408[_0x1a2696(0x1de)]);_0x795973!=-0x1&&_0x466cc8[_0x1a2696(0x130)](_0x795973,0x1);});}_0x466cc8['sort']((_0x4e560a,_0x5f32ae)=>_0x4e560a[_0x3ab5f4(0x1de)]>_0x5f32ae['coin']?0x1:_0x5f32ae[_0x3ab5f4(0x1de)]>_0x4e560a[_0x3ab5f4(0x1de)]?-0x1:0x0);let _0x2266f6=[{'date':_0x27bdfb[_0x3ab5f4(0x1f3)],'changes':_0x466cc8}];_0x59abaa[_0x3ab5f4(0xef)]>0x2&&_0x59abaa[_0x3ab5f4(0x1a4)]((_0x50e603,_0x26f145)=>{const _0x5866bd=_0x3ab5f4;if(_0x26f145>0x0&&_0x26f145<_0x59abaa[_0x5866bd(0xef)]-0x1){const {missingDay1:_0x537eb4,notInDay2:_0x281ba4}=_0x4efa71(_0x59abaa[_0x26f145][_0x5866bd(0x188)],_0x59abaa[_0x26f145+0x1][_0x5866bd(0x188)]);_0x466cc8=[],(_0x537eb4[_0x5866bd(0xef)]!=0x0||_0x281ba4['length']!=0x0)&&(_0x537eb4[_0x5866bd(0xef)]!=0x0&&_0x466cc8[_0x5866bd(0xaa)](..._0x537eb4),_0x281ba4[_0x5866bd(0xef)]!=0x0&&(_0x281ba4[_0x5866bd(0x1a4)](_0x5c1501=>{const _0x3b0120=_0x5866bd;_0x5c1501[_0x3b0120(0x141)]=-_0x5c1501[_0x3b0120(0x141)];}),_0x466cc8['push'](..._0x281ba4)),_0x466cc8[_0x5866bd(0x23f)]((_0x1d5abc,_0x23bf76)=>_0x1d5abc[_0x5866bd(0x1de)]>_0x23bf76[_0x5866bd(0x1de)]?0x1:_0x23bf76[_0x5866bd(0x1de)]>_0x1d5abc[_0x5866bd(0x1de)]?-0x1:0x0),_0x2266f6['push']({'date':_0x59abaa[_0x26f145+0x1][_0x5866bd(0x222)],'changes':_0x466cc8}));}}),dbConfig[_0x3ab5f4(0xbb)]('bot')[_0x3ab5f4(0xc0)]({'botID':botID})['assign']({..._0x27bdfb,'liquidity':_0x2266f6})[_0x3ab5f4(0x18b)]();}}if(isOlderVersion(_0x40c49e,_0x3ab5f4(0x11b))){let _0x5013af=dbConfig[_0x3ab5f4(0xbb)](_0x3ab5f4(0x1a8))[_0x3ab5f4(0xc0)]({'botID':botID})[_0x3ab5f4(0xc4)]();if(_0x5013af){const _0x27d849=_0x5013af[_0x3ab5f4(0xb6)],_0x582e06=_0x27d849?capitalize(_0x27d849):_0x3ab5f4(0x1bd);dbConfig[_0x3ab5f4(0xbb)](_0x3ab5f4(0x1a8))[_0x3ab5f4(0xc0)]({'botID':botID})[_0x3ab5f4(0x22c)]({'exchange':_0x582e06})[_0x3ab5f4(0x18b)]();}}if(isOlderVersion(_0x40c49e,'2.6.22')){let _0x44e948=dbConfig['get'](_0x3ab5f4(0x1a8))['find']({'botID':botID})['value']();if(_0x44e948){const _0x2edac3=_0x44e948[_0x3ab5f4(0x14a)],_0x2ccc41=_0x2edac3?'marketcap':![];dbConfig[_0x3ab5f4(0xbb)](_0x3ab5f4(0x1a8))['find']({'botID':botID})['assign']({'marketcapEnabled':_0x2ccc41})[_0x3ab5f4(0x18b)]();}}if(isOlderVersion(_0x40c49e,_0x3ab5f4(0x20a))){let _0x32adba=dbConfig[_0x3ab5f4(0xbb)]('bot')['find']({'botID':botID})[_0x3ab5f4(0xc4)]();if(_0x32adba){const _0x5bb0b3=_0x32adba['autoliquidity'],_0x4095ad=_0x5bb0b3?_0x3ab5f4(0x15c):![];dbConfig['get'](_0x3ab5f4(0x1a8))['find']({'botID':botID})[_0x3ab5f4(0x22c)]({'autoliquidity':_0x4095ad})[_0x3ab5f4(0x18b)]();}}let _0x1ce0eb=dbPerformance['get'](_0x3ab5f4(0x203))[_0x3ab5f4(0xc4)]();isOlderVersion(_0x1ce0eb,_0x3ab5f4(0xa5))&&setStartDatePerformance();let _0x5cd1e6=dbCoinResults[_0x3ab5f4(0xbb)]('version')['value']();if(isOlderVersion(_0x5cd1e6,_0x3ab5f4(0x1e5))){let _0x22f5c8=dbCoinResults['get'](_0x3ab5f4(0x188))['value']();if(_0x22f5c8[_0x3ab5f4(0xef)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x4abaf6=_0x51399b;dbConfig[_0x4abaf6(0x158)](_0x4abaf6(0x203),serverversion)[_0x4abaf6(0x18b)](),dbPerformance['set'](_0x4abaf6(0x203),serverversion)[_0x4abaf6(0x18b)](),dbLogs[_0x4abaf6(0x158)]('version',serverversion)[_0x4abaf6(0x18b)](),dbCoinResults['set']('version',serverversion)[_0x4abaf6(0x18b)]();}function _0x3ad7(_0x58f1fa,_0x32f8da){const _0x357f85=_0x1ac9();return _0x3ad7=function(_0x323c17,_0x332a9a){_0x323c17=_0x323c17-0x87;let _0x1ac905=_0x357f85[_0x323c17];return _0x1ac905;},_0x3ad7(_0x58f1fa,_0x32f8da);}function getConfiguration(_0x47848d){const _0x819438=_0x51399b;let _0x24b754=dbConfig[_0x819438(0xbb)](_0x819438(0x1a8))[_0x819438(0xc0)]({'botID':_0x47848d})[_0x819438(0xc4)]();if(_0x24b754){let _0x433577=![];typeof _0x24b754[_0x819438(0x150)]==_0x819438(0xab)&&(_0x24b754={..._0x24b754,'threshold':Number(_0x24b754[_0x819438(0x150)])},_0x433577=!![]),_0x24b754[_0x819438(0xec)]==undefined&&(_0x24b754={..._0x24b754,'change24h':-0x14},_0x433577=!![]),_0x24b754[_0x819438(0x17f)]==undefined&&(_0x24b754={..._0x24b754,'fiat':'USD'},_0x433577=!![]),_0x24b754['onepagemode']==undefined&&(_0x24b754={..._0x24b754,'onepagemode':settings['onepagemode']},_0x433577=!![]),_0x24b754[_0x819438(0x200)]==undefined&&(_0x24b754={..._0x24b754,'colorscheme':'red_yellow_blue'},_0x433577=!![]),_0x24b754[_0x819438(0x13f)]==undefined&&(_0x24b754={..._0x24b754,'autoliquidity':_0x819438(0x15c)},_0x433577=!![]),_0x24b754['marketcapApi']==undefined&&(_0x24b754={..._0x24b754,'marketcapApi':settings[_0x819438(0xdd)]?!![]:![]},_0x433577=!![]),_0x24b754[_0x819438(0x14a)]==undefined&&(_0x24b754={..._0x24b754,'marketcapEnabled':![]},_0x433577=!![]),_0x433577&&(_0x24b754={'botID':_0x24b754[_0x819438(0x90)],'exchange':_0x24b754[_0x819438(0xb6)],'apiKey':_0x24b754['apiKey'],'apiSecret':_0x24b754[_0x819438(0x1bc)],'apiPassword':_0x24b754[_0x819438(0x16a)],'basecoin':_0x24b754[_0x819438(0xfb)],'botname':_0x24b754[_0x819438(0xa0)],'showname':_0x24b754[_0x819438(0x17a)],'threshold':_0x24b754['threshold'],'ordertype':_0x24b754[_0x819438(0x1c1)],'timeout':_0x24b754[_0x819438(0x9b)],'fiat':_0x24b754[_0x819438(0x17f)],'startdate':_0x24b754[_0x819438(0x1f3)],'recreate':_0x24b754['recreate'],'timeshift':_0x24b754['timeshift'],'onepagemode':_0x24b754[_0x819438(0x1ab)],'headless':_0x24b754['headless'],'cooldown':_0x24b754[_0x819438(0x191)],'change24h':_0x24b754[_0x819438(0xec)],'emojibuy':_0x24b754[_0x819438(0x1dd)],'emojisell':_0x24b754[_0x819438(0x106)],'colorscheme':_0x24b754[_0x819438(0x200)],'marketcapApi':_0x24b754[_0x819438(0xdd)],'marketcapEnabled':_0x24b754[_0x819438(0x14a)],'portfolio':_0x24b754[_0x819438(0xf3)],'autoliquidity':_0x24b754[_0x819438(0x13f)],'liquidity':_0x24b754['liquidity'],'openOrders':_0x24b754[_0x819438(0xda)]},dbConfig[_0x819438(0xbb)]('bot')[_0x819438(0x233)]()['write'](),dbConfig[_0x819438(0xbb)](_0x819438(0x1a8))[_0x819438(0xaa)](_0x24b754)[_0x819438(0x18b)]());}else _0x24b754={'botID':_0x47848d,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x47848d,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x819438(0x18d),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x819438(0x159)],'onepagemode':settings[_0x819438(0x1ab)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x819438(0x1a6),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x819438(0x15c),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x24b754;}function emittedConfiguration(){const _0x48b9ab=_0x51399b;let _0x369526;if(config[_0x48b9ab(0x22d)]=='')_0x369526={...config,'configstate':_0x48b9ab(0x184)};else config[_0x48b9ab(0x22d)]==_0x48b9ab(0x164)?_0x369526={...config,'configstate':_0x48b9ab(0xa6)}:(_0x369526={...config,'apiKey':'************','apiSecret':_0x48b9ab(0x1e2)},config[_0x48b9ab(0x16a)]&&(_0x369526['apiPassword']=_0x48b9ab(0x1e2)));return _0x369526;}function getSettings(){const _0x193a1e=_0x51399b;return dbSettings[_0x193a1e(0xbb)](_0x193a1e(0x1ba))[_0x193a1e(0xc4)]();}function getSecure(){const _0x41b987=_0x51399b;return dbSecure['get'](_0x41b987(0x12d))[_0x41b987(0xc4)]()||{};}function updateTimeshift(_0x7ecf03){const _0x356511=_0x51399b;let _0x16dc20=dbConfig[_0x356511(0xbb)]('bot')[_0x356511(0xc0)]({'botID':botID})[_0x356511(0xc4)]();_0x16dc20&&dbConfig[_0x356511(0xbb)]('bot')[_0x356511(0xc0)]({'botID':botID})[_0x356511(0x22c)]({'timeshift':_0x7ecf03})[_0x356511(0x18b)](),config[_0x356511(0x159)]=_0x7ecf03,proxyEmit(_0x356511(0x176),emittedConfiguration());}function updateOnepagemode(_0x1fa2c0){const _0x4e9aa3=_0x51399b;let _0xd85a2e=dbConfig[_0x4e9aa3(0xbb)](_0x4e9aa3(0x1a8))[_0x4e9aa3(0xc0)]({'botID':botID})['value']();_0xd85a2e&&dbConfig['get'](_0x4e9aa3(0x1a8))[_0x4e9aa3(0xc0)]({'botID':botID})[_0x4e9aa3(0x22c)]({'onepagemode':_0x1fa2c0})[_0x4e9aa3(0x18b)](),config['onepagemode']=_0x1fa2c0,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x169e83){const _0x2caa9d=_0x51399b,_0x2cc207=_0x169e83?!![]:![];let _0x5bc769=dbConfig[_0x2caa9d(0xbb)](_0x2caa9d(0x1a8))['find']({'botID':botID})['value']();_0x5bc769&&dbConfig['get'](_0x2caa9d(0x1a8))[_0x2caa9d(0xc0)]({'botID':botID})[_0x2caa9d(0x22c)]({'marketcapApi':_0x2cc207})[_0x2caa9d(0x18b)](),config[_0x2caa9d(0xdd)]=_0x2cc207,getMarketCap(),proxyEmit(_0x2caa9d(0x176),emittedConfiguration());}async function storeConfiguration(_0x11c922){const _0x57d764=_0x51399b;logger['debug'](_0x57d764(0x1db));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x2a34c5=![],_0x5e6acc=![],_0x2100c7=[];_0x11c922[_0x57d764(0xf3)][_0x57d764(0x1a4)](_0x462696=>{const _0x19cf6a=_0x57d764;if(!_0x462696[_0x19cf6a(0x235)]&&_0x462696[_0x19cf6a(0x1de)]!=_0x11c922['basecoin'])_0x2100c7['push'](_0x462696['symbol']);}),_0x2100c7[_0x57d764(0x1a4)](_0x23efd0=>{const _0x9f289d=_0x57d764,_0x5e21d7=currentCoins[_0x9f289d(0xc0)](_0x57d04d=>_0x57d04d[_0x9f289d(0x21d)]==_0x23efd0);!_0x5e21d7&&(_0x2a34c5=!![]);}),currentCoins[_0x57d764(0x1a4)](_0x5a4722=>{const _0x303239=_0x57d764;if(_0x5a4722[_0x303239(0x1de)]!=config['basecoin']){const _0x3218aa=_0x2100c7[_0x303239(0xc0)](_0x5ca846=>_0x5ca846==_0x5a4722['symbol']);!_0x3218aa&&(_0x2a34c5=!![]);}}),_0x11c922[_0x57d764(0xf3)]['forEach'](_0x4994fc=>{const _0x51baaa=_0x57d764,_0x5b652e=config['portfolio'][_0x51baaa(0xc0)](_0x1e1b3c=>_0x1e1b3c['coin']==_0x4994fc[_0x51baaa(0x1de)]);if(_0x5b652e&&_0x4994fc[_0x51baaa(0x1bf)]!=_0x5b652e['offset'])_0x5e6acc=!![];});let _0x5a0237=dbConfig[_0x57d764(0xbb)](_0x57d764(0x1a8))[_0x57d764(0xc0)]({'botID':botID})[_0x57d764(0xc4)]();_0x11c922={..._0x11c922,'apiKey':crypt['decrypt'](secure[_0x57d764(0x186)],_0x11c922[_0x57d764(0x22d)])[_0x57d764(0x116)],'apiSecret':crypt[_0x57d764(0x211)](secure[_0x57d764(0x186)],_0x11c922[_0x57d764(0x1bc)])[_0x57d764(0x116)]};_0x11c922[_0x57d764(0x16a)]&&(_0x11c922['apiPassword']=crypt[_0x57d764(0x211)](secure[_0x57d764(0x186)],_0x11c922[_0x57d764(0x16a)])[_0x57d764(0x116)]);let _0x2ba418=![];if(_0x5a0237){_0x11c922[_0x57d764(0x22d)]=='************'?_0x11c922[_0x57d764(0x22d)]=config[_0x57d764(0x22d)]:_0x2ba418=!![];_0x11c922['apiSecret']==_0x57d764(0x1e2)?_0x11c922[_0x57d764(0x1bc)]=config[_0x57d764(0x1bc)]:_0x2ba418=!![];if(_0x11c922[_0x57d764(0x16a)]=='************')_0x11c922[_0x57d764(0x16a)]=config[_0x57d764(0x16a)];else{if(_0x11c922[_0x57d764(0x16a)])_0x2ba418=!![];}dbConfig[_0x57d764(0xbb)](_0x57d764(0x1a8))['find']({'botID':botID})[_0x57d764(0x22c)](_0x11c922)[_0x57d764(0x18b)]();}else dbConfig[_0x57d764(0xbb)](_0x57d764(0x1a8))['push'](_0x11c922)['write'](),_0x2ba418=!![],process[_0x57d764(0x1e9)]({'status':_0x57d764(0x98),'live':_0x57d764(0x8a)},_0x13d99e=>{});process[_0x57d764(0x1e9)]({'botname':_0x11c922['botname']},_0x2f93b4=>{}),config={..._0x11c922},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x2ba418)!_0x5a0237?await reset(!![]):getBalances();else _0x2a34c5||_0x5e6acc?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x591993){const _0x250184=_0x51399b,_0x25d9f8={...config,'headless':_0x591993['headless']};let _0x255cf6=dbConfig[_0x250184(0xbb)]('bot')[_0x250184(0xc0)]({'botID':botID})[_0x250184(0xc4)]();_0x255cf6&&dbConfig[_0x250184(0xbb)](_0x250184(0x1a8))['find']({'botID':botID})[_0x250184(0x22c)](_0x25d9f8)['write'](),config={..._0x25d9f8},updateBotManager(),proxyEmit(_0x250184(0x176),emittedConfiguration());}async function storeFiat(_0x3f8023){const _0x1e09f3=_0x51399b,_0x39aff6={...config,'fiat':_0x3f8023};let _0x448b7e=dbConfig[_0x1e09f3(0xbb)](_0x1e09f3(0x1a8))[_0x1e09f3(0xc0)]({'botID':botID})[_0x1e09f3(0xc4)]();_0x448b7e&&dbConfig[_0x1e09f3(0xbb)](_0x1e09f3(0x1a8))['find']({'botID':botID})[_0x1e09f3(0x22c)](_0x39aff6)[_0x1e09f3(0x18b)](),config={..._0x39aff6},proxyEmit(_0x1e09f3(0x176),emittedConfiguration());}function resetHistory(){const _0x287aa4=_0x51399b;logger[_0x287aa4(0x135)]('Resetting\x20bot\x20history');try{if(fs[_0x287aa4(0x11c)](path[_0x287aa4(0x22e)](configpath,'bot-'+botID+_0x287aa4(0x1d2))))fs[_0x287aa4(0xd0)](path['join'](configpath,'bot-'+botID+_0x287aa4(0x1d2)));if(fs['existsSync'](path[_0x287aa4(0x22e)](configpath,_0x287aa4(0x13e)+botID+_0x287aa4(0xa3))))fs[_0x287aa4(0xd0)](path[_0x287aa4(0x22e)](configpath,_0x287aa4(0x13e)+botID+_0x287aa4(0xa3)));if(fs['existsSync'](path[_0x287aa4(0x22e)](configpath,_0x287aa4(0x13e)+botID+_0x287aa4(0x243))))fs[_0x287aa4(0xd0)](path[_0x287aa4(0x22e)](configpath,_0x287aa4(0x13e)+botID+_0x287aa4(0x243)));}catch(_0x123d98){if(_0x123d98)logger['full']('Error\x20while\x20deleting\x20files:\x20',_0x123d98);}const _0x61b4b=getDate();let _0x5f31e7=[];currentCoins[_0x287aa4(0x1a4)](_0x143337=>{const _0x245d18=_0x287aa4;_0x5f31e7['push']({'coin':_0x143337[_0x245d18(0x1de)],'number':_0x143337['number'],'price':_0x143337[_0x245d18(0xde)]});});let _0x48e740=dbConfig['get'](_0x287aa4(0x1a8))[_0x287aa4(0xc0)]({'botID':botID})[_0x287aa4(0xc4)]();_0x48e740&&(dbConfig[_0x287aa4(0xbb)]('bot')['find']({'botID':botID})[_0x287aa4(0x22c)]({'liquidity':[{'date':_0x61b4b,'changes':_0x5f31e7}]})[_0x287aa4(0x18b)](),config[_0x287aa4(0x181)]=[]),restartBot(!![]);}function noslash(_0x1d0f2a){return _0x1d0f2a['replace']('/','');}function updateHighestFee(_0x8f3f41){const _0x486b61=_0x51399b;if(_0x8f3f41[_0x486b61(0x1c0)]){let _0x26582b={'filled':_0x8f3f41[_0x486b61(0x10c)]*_0x8f3f41['price'],'amount':_0x8f3f41['filled']*_0x8f3f41['price'],'side':_0x8f3f41[_0x486b61(0xfe)]==_0x486b61(0xb5)?_0x486b61(0x9c):_0x486b61(0xb5),'price':0x1/_0x8f3f41[_0x486b61(0xbc)]};_0x8f3f41={..._0x8f3f41,..._0x26582b};}const _0x1e340f=defaultFee*_0x8f3f41['filled']*_0x8f3f41['price'];lastFees[_0x486b61(0x131)][_0x486b61(0xef)]===0x14&&lastFees[_0x486b61(0x131)]['shift'](),lastFees['recent20']['push'](_0x1e340f),lastFees['highest']=Math[_0x486b61(0x212)](...lastFees[_0x486b61(0x131)]);}async function updateNumberCoinsCcxt(_0x3a4d14){const _0x75cb72=_0x51399b;logger['debug'](_0x75cb72(0x140)+_0x3a4d14[_0x75cb72(0x21d)]+'\x20|\x20'+_0x3a4d14[_0x75cb72(0x100)]+_0x75cb72(0x13d)+_0x3a4d14[_0x75cb72(0x10c)]+_0x75cb72(0x1d1)+_0x3a4d14[_0x75cb72(0x139)]+_0x75cb72(0x13d)+_0x3a4d14['id']);let _0x1ae415=_0x3a4d14['status'],_0x573430=![];currentCoins[_0x75cb72(0x1a4)](_0x592115=>{const _0x5957c2=_0x75cb72;_0x592115['symbol']==_0x3a4d14[_0x5957c2(0x21d)]&&(_0x573430=!![]);});if(!_0x573430)return;const _0x3fdb42=currentCoins[_0x75cb72(0xc0)](_0x58d69f=>_0x58d69f[_0x75cb72(0x21d)]==_0x3a4d14[_0x75cb72(0x21d)]),_0x87f0be=_0x1cee94=>{const _0x268dee=_0x75cb72;if(_0x3fdb42)_0x3fdb42[_0x268dee(0x199)]=_0x1cee94;};let _0x1d47b4=![];for(const _0x10dc40 of lastOrders){const _0x30388c=0x64,_0x15ff40=0x1388;let _0x1961d3=0x0;while(!_0x10dc40[_0x75cb72(0x114)]&&_0x1961d3*_0x30388c<_0x15ff40){_0x1961d3++,await sleep(_0x30388c);}if(_0x1961d3>0x0)logger[_0x75cb72(0x1c4)]('Waited\x20'+_0x1961d3*_0x30388c/0x3e8+_0x75cb72(0x105));_0x10dc40['orderId']==_0x3a4d14['id']&&(_0x1d47b4=!![]);}if(_0x1ae415==_0x75cb72(0x1d5)){_0x87f0be(_0x75cb72(0x1d5));if(_0x3a4d14['filled']>0x0){if(_0x1d47b4){setBlockTransactionDetection(!![]),logger[_0x75cb72(0x1c4)](_0x75cb72(0xba)+_0x3a4d14['id']);const _0x349044=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x349044,setBlockTransactionDetection(![]);}else logger[_0x75cb72(0x1c4)]('1\x20-\x20partially\x20FILLED\x20unknown\x20order:\x20'+_0x3a4d14['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x1ae415==_0x75cb72(0x1f9)){_0x87f0be(_0x75cb72(0x1f9));const _0x55e82e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x55e82e,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x1ae415==_0x75cb72(0x1b8)){if(lastOrders)for(const _0x5e8142 of lastOrders){if(_0x5e8142[_0x75cb72(0x114)]==_0x3a4d14['id']){logger[_0x75cb72(0x1c4)](_0x75cb72(0xc3)+_0x3a4d14['id']),_0x1d47b4=!![];if(_0x5e8142[_0x75cb72(0x10c)]==0x0){setBlockTransactionDetection(!![]),logger[_0x75cb72(0x1c4)](_0x75cb72(0x111)+_0x3a4d14['id']);if(_0x3a4d14[_0x75cb72(0x153)])_0x5e8142['price']=_0x3a4d14['average'];else{if(_0x3a4d14[_0x75cb72(0xbc)])_0x5e8142[_0x75cb72(0xbc)]=_0x3a4d14[_0x75cb72(0xbc)];else{}}_0x5e8142[_0x75cb72(0x10c)]=_0x3a4d14[_0x75cb72(0x10c)],updateHighestFee(_0x5e8142),_0x87f0be('filled'),await validateOrders();if(lockOrders==ORDERS[_0x75cb72(0xf5)]){const _0x17c0d5=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x17c0d5,setBlockTransactionDetection(![]);}_0x5e8142[_0x75cb72(0x1e7)]={'currency':_0x3a4d14[_0x75cb72(0x1e7)]?_0x3a4d14['fee'][_0x75cb72(0x162)]:null,'cost':_0x3a4d14[_0x75cb72(0x1e7)]?_0x3a4d14[_0x75cb72(0x1e7)]['cost']:0x0},await updateCoinResults(_0x5e8142);}}}!_0x1d47b4&&(logger[_0x75cb72(0x1c4)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x3a4d14['id']),_0x87f0be(_0x75cb72(0x10c)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x2d2899=JSON[_0x75cb72(0x219)](lastBalances['portfolio']);const _0x40b76b=_0x2d2899[_0x75cb72(0xc0)](_0x5d76fc=>_0x5d76fc[_0x75cb72(0x21d)]==_0x3a4d14[_0x75cb72(0x21d)]);if(_0x40b76b){if(_0x1ae415==_0x75cb72(0x1d5))_0x40b76b[_0x75cb72(0x199)]=_0x40b76b[_0x75cb72(0x199)]==_0x75cb72(0x10c)?_0x75cb72(0x10c):_0x75cb72(0x1d5);else{if(_0x1ae415==_0x75cb72(0x1f9))_0x40b76b[_0x75cb72(0x199)]=_0x40b76b[_0x75cb72(0x199)]==_0x75cb72(0x10c)?_0x75cb72(0x10c):'canceled';else _0x1ae415==_0x75cb72(0x1b8)&&(_0x40b76b[_0x75cb72(0x199)]=_0x75cb72(0x10c));}}lastBalances={...lastBalances,'portfolio':JSON[_0x75cb72(0x1a3)](_0x2d2899)},proxyEmit(_0x75cb72(0x1be),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0xd9eed3=_0x51399b;await getOpenOrders();let _0x351df9=![];currentCoins[_0xd9eed3(0x1a4)](_0x3a3e46=>{const _0x7781ce=_0xd9eed3;_0x351df9=allOpenOrders['find'](_0x31b53f=>_0x31b53f['symbol']==_0x3a3e46[_0x7781ce(0x21d)]),_0x3a3e46['orderstatus']=_0x351df9?_0x7781ce(0x1d5):'none';});}async function getCoins(_0x30861a=0x0,_0x4653bf=!![],_0x49928b=config[_0x51399b(0xfb)]){const _0x875e49=_0x51399b;let _0x57f287,_0x42a319=[],_0xd66b72=[],_0x5d2b21=[];if(_0x30861a)await sleep(_0x30861a);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x57f287=await exchange['fetchBalance'](),mybalances=_0x57f287['total'];for(const [_0x3d162c,_0x1433c6]of Object[_0x875e49(0x232)](mybalances)){_0x5d2b21[_0x875e49(0xaa)](_0x3d162c);}config['portfolio'][_0x875e49(0x1a4)](_0x12551d=>{const _0x2e18e4=_0x875e49;!_0x5d2b21[_0x2e18e4(0xcf)](_0x12551d['coin'])&&(mybalances[_0x12551d['coin']]=0x0);});if(_0x49928b=='')for(const [_0x46e7be,_0x3a6c06]of Object[_0x875e49(0x232)](mybalances)){_0x3a6c06!=0x0&&_0x42a319['push']({'coin':_0x46e7be});}else for(const [_0x113ad3,_0x3d4f68]of Object[_0x875e49(0x232)](mybalances)){const _0x53faf8=config[_0x875e49(0xf3)][_0x875e49(0xc0)](_0x4aab5b=>_0x4aab5b[_0x875e49(0x1de)]==_0x113ad3),_0x21d455=_0x113ad3+'/'+_0x49928b,_0x521917=_0x49928b+'/'+_0x113ad3,_0x1e13c0=currentCoins[_0x875e49(0xc0)](_0x2c6c81=>_0x2c6c81[_0x875e49(0x1de)]==_0x113ad3);if((_0x3d4f68!=0x0||_0x53faf8)&&(allSymbols['includes'](_0x21d455)||_0x113ad3==_0x49928b))_0x1e13c0?_0x42a319[_0x875e49(0xaa)]({..._0x1e13c0,'number':Math[_0x875e49(0x212)](_0x3d4f68+(_0x53faf8&&_0x53faf8[_0x875e49(0x1bf)]||0x0),0x0)}):_0x42a319['push']({'coin':_0x113ad3,'symbol':_0x21d455,'reverse':![],'number':Math[_0x875e49(0x212)](_0x3d4f68+(_0x53faf8&&_0x53faf8[_0x875e49(0x1bf)]||0x0),0x0),'orderstatus':'none'});else{if((_0x3d4f68!=0x0||_0x53faf8)&&allSymbols['includes'](_0x521917))_0x1e13c0?_0x42a319[_0x875e49(0xaa)]({..._0x1e13c0,'number':Math['max'](_0x3d4f68+(_0x53faf8&&_0x53faf8[_0x875e49(0x1bf)]||0x0),0x0)}):_0x42a319[_0x875e49(0xaa)]({'coin':_0x113ad3,'symbol':_0x521917,'reverse':!![],'number':Math[_0x875e49(0x212)](_0x3d4f68+(_0x53faf8&&_0x53faf8[_0x875e49(0x1bf)]||0x0),0x0),'orderstatus':_0x875e49(0x1ff)});else _0x53faf8&&_0x42a319[_0x875e49(0xaa)]({'coin':_0x53faf8[_0x875e49(0x1de)],'symbol':_0x53faf8[_0x875e49(0x21d)],'reverse':_0x53faf8[_0x875e49(0x1c0)],'number':0x0,'orderstatus':'none'});}}}catch(_0x294ffc){if(!_0x4653bf)handleErrorNoStop(_0x294ffc,_0x875e49(0xbd));else await handleError(_0x294ffc,_0x875e49(0xbd));}return _0x42a319[_0x875e49(0x23f)]((_0x3caa26,_0x4b741d)=>_0x3caa26[_0x875e49(0x1f8)]<_0x4b741d[_0x875e49(0x1f8)]?0x1:_0x4b741d[_0x875e49(0x1f8)]<_0x3caa26[_0x875e49(0x1f8)]?-0x1:0x0),_0xd66b72=cloneDeep(_0x42a319),_0x42a319=_0x42a319[_0x875e49(0x215)](_0x4770e5=>{const _0x39ddc9=_0x875e49,_0x2eb98a=config['portfolio']['find'](_0x1e6707=>_0x1e6707[_0x39ddc9(0x1de)]==_0x4770e5[_0x39ddc9(0x1de)]);return _0x2eb98a&&!_0x2eb98a[_0x39ddc9(0x235)];}),[_0x42a319,_0xd66b72];}async function getCoinNumber(_0x10cae9){const _0x1cd8af=_0x51399b;let _0x4292b0;try{const _0xa53f35=await exchange[_0x1cd8af(0x23b)]();_0x4292b0=_0xa53f35[_0x1cd8af(0xd6)][_0x10cae9];}catch(_0x1b3b41){await handleError(_0x1b3b41,_0x1cd8af(0x8d));}return _0x4292b0;}async function getOpenOrders(){const _0x2e97a4=_0x51399b;let _0x2cb6c9;allOpenOrders=[];try{for(const _0x3209f4 of config['portfolio']){!_0x3209f4['excluded']&&_0x3209f4[_0x2e97a4(0x1de)]!=config['basecoin']&&(_0x2cb6c9=await exchange[_0x2e97a4(0x126)](_0x3209f4[_0x2e97a4(0x21d)]),_0x2cb6c9['length']>0x0&&allOpenOrders[_0x2e97a4(0xaa)](_0x2cb6c9[0x0]));}}catch(_0x375998){await handleError(_0x375998,'getOpenOrders()');}}async function handleOpenOrders(_0x31cd62=0x0){const _0xd2c86d=_0x51399b;allOpenOrders[_0xd2c86d(0xef)]==0x0&&lockOrders==ORDERS[_0xd2c86d(0xf5)]&&allOrdersPlaced&&(_0x31cd62==0x0?(logger['debug'](_0xd2c86d(0x11e)),_0x31cd62++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0xd2c86d(0x1c4)](_0xd2c86d(0x218)),validateOrders(_0xd2c86d(0x103))));}async function testAPI(_0x59e48b){const _0x345074=_0x51399b,_0x5abcaa=ccxt[_0x345074(0x214)][_0x59e48b['exchange'][_0x345074(0x173)]()],_0x407397=new _0x5abcaa({'apiKey':_0x59e48b[_0x345074(0x22d)],'secret':_0x59e48b['apiSecret'],'options':{'defaultType':_0x345074(0x1ee)}});if(_0x59e48b[_0x345074(0x16a)])_0x407397[_0x345074(0xa9)]=_0x59e48b['apiPassword'];try{await _0x407397['fetchBalance']();}catch(_0xee393e){logger[_0x345074(0x1c4)](_0x345074(0x237)+_0xee393e['toString']());throw _0xee393e;}}function cloneDeep(_0x31a8fc){const _0x61369f=_0x51399b;return JSON[_0x61369f(0x219)](JSON[_0x61369f(0x1a3)](_0x31a8fc));}async function getPortfolio(_0x194c0e){const _0x125e1e=_0x51399b;let _0x33bfa2=[],_0x4c2f54=[],_0x450eff=[],_0x3218c5;_0x194c0e[_0x125e1e(0x22d)]=crypt[_0x125e1e(0x211)](secure[_0x125e1e(0x186)],_0x194c0e[_0x125e1e(0x22d)])['message'],_0x194c0e[_0x125e1e(0x1bc)]=crypt[_0x125e1e(0x211)](secure['privateKey'],_0x194c0e[_0x125e1e(0x1bc)])[_0x125e1e(0x116)],_0x194c0e['apiPassword']=crypt[_0x125e1e(0x211)](secure[_0x125e1e(0x186)],_0x194c0e[_0x125e1e(0x16a)])[_0x125e1e(0x116)];if(_0x194c0e[_0x125e1e(0x22d)]!==_0x125e1e(0x1e2)||_0x194c0e[_0x125e1e(0x1bc)]!==_0x125e1e(0x1e2)||_0x194c0e[_0x125e1e(0x16a)]&&_0x194c0e[_0x125e1e(0x16a)]!=='************'){if(config[_0x125e1e(0xb6)]){if(_0x194c0e[_0x125e1e(0x22d)]==_0x125e1e(0x1e2))_0x194c0e[_0x125e1e(0x22d)]=config[_0x125e1e(0x22d)];if(_0x194c0e[_0x125e1e(0x1bc)]==_0x125e1e(0x1e2))_0x194c0e[_0x125e1e(0x1bc)]=config[_0x125e1e(0x1bc)];if(_0x194c0e[_0x125e1e(0x16a)]==_0x125e1e(0x1e2))_0x194c0e['apiPassword']=config[_0x125e1e(0x16a)];}try{await testAPI(_0x194c0e);}catch(_0x5c47ad){if(_0x5c47ad[_0x125e1e(0x10d)]()[_0x125e1e(0xcf)](_0x125e1e(0x197))){logHistory('error',_0x125e1e(0xb8)),proxyEmit('portfolio1',![]);return;}else{logHistory(_0x125e1e(0x147),_0x125e1e(0x17e)),logger['debug'](_0x125e1e(0xee),_0x5c47ad),proxyEmit('portfolio1',![]);return;}}exchange?updateExchange(_0x194c0e[_0x125e1e(0x22d)],_0x194c0e['apiSecret'],_0x194c0e['apiPassword']):await initExchange(_0x194c0e[_0x125e1e(0xb6)],_0x194c0e[_0x125e1e(0x22d)],_0x194c0e[_0x125e1e(0x1bc)],_0x194c0e[_0x125e1e(0x16a)]);await loadSymbols();const _0x43d2e2=await getCoins(0x0,![],_0x194c0e['basecoin']);_0x450eff=cloneDeep(_0x43d2e2[0x1]);}else{const _0x133ed5=await getCoins();_0x450eff=cloneDeep(_0x133ed5[0x1]);}if(_0x194c0e['basecoin']=='')proxyEmit(_0x125e1e(0x10a),!![]),proxyEmit('portfolio2',_0x450eff);else{_0x450eff[_0x125e1e(0x1a4)](_0x8f9046=>{const _0x204026=_0x125e1e;if(_0x8f9046['coin']!=_0x194c0e['basecoin']&&allSymbols['includes'](_0x8f9046[_0x204026(0x21d)]))_0x33bfa2[_0x204026(0xaa)](_0x8f9046['symbol']);});if(_0x33bfa2[_0x125e1e(0xef)]==0x0)logHistory('error',_0x125e1e(0x142));else{try{_0x4c2f54=await getTickers(_0x33bfa2);}catch(_0x178b86){logHistory(_0x125e1e(0x147),_0x125e1e(0x17e)),logger[_0x125e1e(0x1c4)](_0x125e1e(0xdb),_0x178b86),proxyEmit(_0x125e1e(0x10a),![]);return;}_0x450eff['forEach'](_0x3930fa=>{const _0x51a4d7=_0x125e1e;_0x3930fa[_0x51a4d7(0x1de)]!=_0x194c0e[_0x51a4d7(0xfb)]?_0x4c2f54[_0x3930fa[_0x51a4d7(0x21d)]]?_0x3218c5=_0x3930fa[_0x51a4d7(0x1c0)]?0x1/_0x4c2f54[_0x3930fa['symbol']][_0x51a4d7(0xde)]:_0x4c2f54[_0x3930fa['symbol']]['last']:_0x3218c5=0x0:_0x3218c5=0x1,_0x3930fa[_0x51a4d7(0xbc)]=formatResult(_0x3218c5,0x8);}),await getMarketCap(_0x450eff),proxyEmit('portfolio1',!![]),proxyEmit(_0x125e1e(0x133),_0x450eff);}}}function truncateTradeAmount(_0x5694a0,_0x5326ef){let _0x1bfb4a=0x0;try{_0x1bfb4a=exchange['amountToPrecision'](_0x5694a0,_0x5326ef);}catch(_0x25554f){}return _0x1bfb4a;}function checkMinimums(_0x3fd08a){const _0x359c1c=_0x51399b;let _0x494d65=!![];const _0x4d18fd=!_0x3fd08a[_0x359c1c(0x1c0)]?markets[_0x3fd08a[_0x359c1c(0x21d)]][_0x359c1c(0x96)]['amount'][_0x359c1c(0xd3)]:markets[_0x3fd08a[_0x359c1c(0x21d)]][_0x359c1c(0x96)]['cost']['min'],_0x41c00f=!_0x3fd08a[_0x359c1c(0x1c0)]?markets[_0x3fd08a[_0x359c1c(0x21d)]][_0x359c1c(0x96)][_0x359c1c(0xb0)][_0x359c1c(0xd3)]:markets[_0x3fd08a[_0x359c1c(0x21d)]][_0x359c1c(0x96)][_0x359c1c(0x139)][_0x359c1c(0xd3)],_0x4dd522=truncateTradeAmount(_0x3fd08a[_0x359c1c(0x21d)],_0x3fd08a[_0x359c1c(0x224)]);_0x3fd08a[_0x359c1c(0x224)]=_0x4dd522;if(Math['abs'](_0x4dd522)<_0x4d18fd)_0x494d65=![];if(Math['abs'](_0x4dd522)*_0x3fd08a[_0x359c1c(0xde)]<_0x41c00f)_0x494d65=![];if(_0x3fd08a['side']==_0x359c1c(0xb5)){let _0xd678=config[_0x359c1c(0xf3)][_0x359c1c(0xc0)](_0x2e3524=>_0x2e3524[_0x359c1c(0x1de)]==_0x3fd08a[_0x359c1c(0x1de)]);if(_0xd678[_0x359c1c(0x1bf)]>0x0){if(Math[_0x359c1c(0x146)](_0x4dd522)>_0x3fd08a[_0x359c1c(0x141)]-_0xd678[_0x359c1c(0x1bf)])_0x494d65=![];}else{if(Math[_0x359c1c(0x146)](_0x4dd522)>_0x3fd08a[_0x359c1c(0x141)])_0x494d65=![];}}if(_0x3fd08a['side']==_0x359c1c(0x9c)){let _0x5e8b31=config['portfolio'][_0x359c1c(0xc0)](_0x4ad0b0=>_0x4ad0b0['coin']==config[_0x359c1c(0xfb)]),_0x1f1512=currentCoins[_0x359c1c(0xc0)](_0x2cd349=>_0x2cd349[_0x359c1c(0x1de)]==config['basecoin']);if(_0x5e8b31[_0x359c1c(0x1bf)]>0x0){if(Math[_0x359c1c(0x146)](_0x4dd522)*_0x3fd08a[_0x359c1c(0xde)]>_0x1f1512[_0x359c1c(0x141)]-_0x5e8b31[_0x359c1c(0x1bf)])_0x494d65=![];}else{if(Math['abs'](_0x4dd522)*_0x3fd08a[_0x359c1c(0xde)]>_0x1f1512['number'])_0x494d65=![];}}return _0x494d65;}async function getBalances(_0x417da6=!![]){const _0x4bdb4b=_0x51399b;let _0x3d3660=0x0,_0x38b186;const _0x41fce5=config[_0x4bdb4b(0x150)];if(config[_0x4bdb4b(0x178)]&&config[_0x4bdb4b(0xec)]<0x0)await validate24hChanges();currentCoins[_0x4bdb4b(0x1a4)](_0x586542=>{const _0x2244ee=_0x4bdb4b;if(_0x586542['coin']!=config[_0x2244ee(0xfb)]){let _0x599293=gTicker[noslash(_0x586542['symbol'])];_0x38b186=_0x586542[_0x2244ee(0x1c0)]?0x1/_0x599293:_0x599293;}else _0x38b186=0x1;let _0x241dc4=_0x586542[_0x2244ee(0x141)]*_0x38b186;_0x3d3660+=_0x241dc4,_0x586542[_0x2244ee(0xde)]=formatResult(Number(_0x38b186),0x8),_0x586542['value']=_0x241dc4;}),currentCoins[_0x4bdb4b(0x1a4)](_0x7e9ddc=>{const _0x5f329a=_0x4bdb4b;let _0x3711d9=config[_0x5f329a(0xf3)]['find'](_0x243e92=>_0x243e92[_0x5f329a(0x1de)]==_0x7e9ddc[_0x5f329a(0x1de)]),_0x4e3664=Number(_0x3711d9[_0x5f329a(0x157)]),_0x4b2ed2=_0x7e9ddc[_0x5f329a(0xc4)]/_0x3d3660*0x64,_0x97eb58=_0x4e3664*_0x3d3660/0x64/_0x7e9ddc['last']-_0x7e9ddc['number'];_0x7e9ddc[_0x5f329a(0x157)]=formatResult(_0x4b2ed2,0x3),_0x7e9ddc['target']=formatResult(_0x4e3664,0x3),_0x7e9ddc[_0x5f329a(0x224)]=formatResult(_0x97eb58,0x8),_0x7e9ddc['side']='',_0x7e9ddc[_0x5f329a(0x119)]=![];if(_0x7e9ddc[_0x5f329a(0x1de)]!=config['basecoin']){if(_0x7e9ddc[_0x5f329a(0x157)]>_0x4e3664)_0x7e9ddc[_0x5f329a(0xfe)]=_0x5f329a(0xb5),_0x7e9ddc[_0x5f329a(0x119)]=checkMinimums(_0x7e9ddc);else _0x7e9ddc[_0x5f329a(0x157)]<_0x4e3664&&(_0x7e9ddc[_0x5f329a(0xfe)]=_0x5f329a(0x9c),_0x7e9ddc[_0x5f329a(0x119)]=checkMinimums(_0x7e9ddc));}_0x7e9ddc['delta']=_0x7e9ddc[_0x5f329a(0x157)]/_0x7e9ddc[_0x5f329a(0x134)]-0x1;if(_0x7e9ddc[_0x5f329a(0x199)]==_0x5f329a(0x10c)||_0x7e9ddc[_0x5f329a(0x199)]==_0x5f329a(0x1f9))_0x7e9ddc[_0x5f329a(0x199)]=_0x5f329a(0x1ff);}),currentCoins[_0x4bdb4b(0x23f)]((_0x2ca7d1,_0x2acd44)=>_0x2ca7d1[_0x4bdb4b(0x1f8)]<_0x2acd44[_0x4bdb4b(0x1f8)]?0x1:_0x2acd44['delta']<_0x2ca7d1[_0x4bdb4b(0x1f8)]?-0x1:0x0);const _0x1a19a5=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1a19a5[_0x4bdb4b(0xb2)],'usd':_0x1a19a5[_0x4bdb4b(0x97)],'portfolio':JSON[_0x4bdb4b(0x1a3)](currentCoins),'threshold':_0x41fce5},proxyEmit(_0x4bdb4b(0x1be),{'serverversion':serverversion,'balances':lastBalances});if(_0x417da6){if(config[_0x4bdb4b(0x178)])headlessMode({'portfolio':currentCoins,'threshold':_0x41fce5});else{if(lockOrders==ORDERS[_0x4bdb4b(0x8c)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x41fce5});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x19212a=getNormalizedPerformance();getStartingBalances(_0x19212a),emitPerformance(_0x19212a);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x393745=_0x51399b;if(!lastBalances)return;let _0x210be1=[],_0x3b33ac,_0x257153=JSON[_0x393745(0x219)](lastBalances['portfolio']);_0x257153[_0x393745(0x23f)]((_0x35ddf4,_0x32d1e3)=>_0x35ddf4[_0x393745(0x1de)]>_0x32d1e3[_0x393745(0x1de)]?0x1:_0x32d1e3['coin']>_0x35ddf4[_0x393745(0x1de)]?-0x1:0x0),_0x257153[_0x393745(0x1a4)](_0x441d28=>{const _0x3563e1=_0x393745;let _0x5a6b1f={'coin':_0x441d28[_0x3563e1(0x1de)],'number':_0x441d28[_0x3563e1(0x141)],'price':_0x441d28[_0x3563e1(0xde)]};_0x210be1[_0x3563e1(0xaa)](_0x5a6b1f);});const _0x1eeda6=await getFiat();_0x3b33ac={'date':lastBalances['time'][_0x393745(0x1ce)]('\x20')[0x0],'eur':_0x1eeda6[_0x393745(0xb2)],'usd':_0x1eeda6['usd'],'coins':_0x210be1};let _0x519042=dbPerformance[_0x393745(0xbb)]('data')[_0x393745(0xc0)]({'date':_0x3b33ac[_0x393745(0x222)]})['value']();_0x519042?_0x3b33ac[_0x393745(0x222)]!=config['startdate']&&dbPerformance[_0x393745(0xbb)](_0x393745(0x92))[_0x393745(0xc0)]({'date':_0x3b33ac['date']})['assign'](_0x3b33ac)[_0x393745(0x18b)]():dbPerformance['get'](_0x393745(0x92))['push'](_0x3b33ac)[_0x393745(0x18b)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4b615f=_0x51399b;let _0x5e0972=[];if(dbPerformance[_0x4b615f(0xb3)](_0x4b615f(0x92))[_0x4b615f(0xc4)]()){let _0x2d8146=dbPerformance[_0x4b615f(0xbb)]('data')[_0x4b615f(0xad)]()[_0x4b615f(0x215)](_0x46999b=>{if(_0x46999b['coins']['length']==0x0)return![];else return!![];})[_0x4b615f(0x15b)](_0x4b615f(0x222))[_0x4b615f(0xc4)](),_0xb5c9f3=[...config['liquidity']];_0xb5c9f3[_0x4b615f(0x23f)]((_0x3c60d0,_0x278a56)=>_0x3c60d0[_0x4b615f(0x222)]>_0x278a56[_0x4b615f(0x222)]?-0x1:_0x278a56[_0x4b615f(0x222)]>_0x3c60d0[_0x4b615f(0x222)]?0x1:0x0);let _0x107e30=0x1,_0xb4c327=[],_0x3b0023=0x0;_0x2d8146[_0x4b615f(0x1c7)]()[_0x4b615f(0x1c0)]()['forEach']((_0x14c943,_0x16e07e)=>{const _0x570336=_0x4b615f;if(_0xb5c9f3[_0x3b0023]){if(_0x2d8146[_0x2d8146[_0x570336(0xef)]-_0x16e07e]&&_0xb5c9f3[_0x3b0023][_0x570336(0x222)]==_0x2d8146[_0x2d8146[_0x570336(0xef)]-_0x16e07e][_0x570336(0x222)]){if(_0x16e07e<_0x2d8146[_0x570336(0xef)]){let _0x1175c5=0x0,_0x325d85=0x0;_0x2d8146[_0x2d8146[_0x570336(0xef)]-_0x16e07e][_0x570336(0x188)][_0x570336(0x1a4)](_0x10b82e=>{const _0x3f9536=_0x570336;_0x325d85+=_0x10b82e[_0x3f9536(0x141)]*_0x10b82e['price'];}),_0xb5c9f3[_0x3b0023][_0x570336(0x217)]['forEach'](_0xe181cb=>{const _0x35ad39=_0x570336;_0x1175c5+=_0xe181cb['number']*_0xe181cb[_0x35ad39(0xbc)];}),_0x107e30*=_0x1175c5/(_0x325d85-_0x1175c5)+0x1;}_0x3b0023++;}}let _0x44b1fb=0x0;_0x14c943[_0x570336(0x188)]['forEach'](_0x27cfe8=>{const _0x3d0dc6=_0x570336;_0x44b1fb+=_0x27cfe8[_0x3d0dc6(0x141)]*_0x27cfe8[_0x3d0dc6(0xbc)];}),_0xb4c327[_0x2d8146[_0x570336(0xef)]-_0x16e07e-0x1]=_0x44b1fb*(_0x107e30-0x1);});let _0x5ef793=[];_0xb5c9f3=[...config['liquidity']]||[];let _0x4fe238=0x0;_0x3b0023=0x0,_0x2d8146[_0x4b615f(0x1a4)]((_0x13490d,_0x3fa8d5)=>{const _0x799f85=_0x4b615f;if(_0xb5c9f3[_0x3b0023]){const _0x57782f=fns[_0x799f85(0x219)](_0xb5c9f3[_0x3b0023]['date'],'yyyy/MM/dd',new Date()),_0x47105c=fns[_0x799f85(0x219)](_0x13490d[_0x799f85(0x222)],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x57782f,_0x47105c)){let _0x2b8cad=0x0;_0xb5c9f3[_0x3b0023]['changes'][_0x799f85(0x1a4)](_0x159c54=>{const _0x4b8807=_0x799f85;!_0x5ef793[_0x159c54['coin']]?_0x5ef793[_0x159c54[_0x4b8807(0x1de)]]=_0x159c54[_0x4b8807(0x141)]:(_0x2b8cad=_0x5ef793[_0x159c54['coin']],_0x5ef793[_0x159c54[_0x4b8807(0x1de)]]+=_0x159c54[_0x4b8807(0x141)]);const _0x2ba92b=_0x13490d['coins']['find'](_0xf4194f=>_0xf4194f[_0x4b8807(0x1de)]==_0x159c54[_0x4b8807(0x1de)]);(!_0x2ba92b||_0x2ba92b[_0x4b8807(0x141)]==0x0)&&(_0x4fe238+=(-_0x159c54['number']-_0x2b8cad)*_0x159c54[_0x4b8807(0xbc)]);}),_0x3b0023++;}}_0x13490d[_0x799f85(0x188)][_0x799f85(0x1a4)]((_0x5c8b4f,_0x407ead)=>{const _0x3d76d3=_0x799f85;_0x5ef793[_0x5c8b4f[_0x3d76d3(0x1de)]]&&(_0x5c8b4f[_0x3d76d3(0x184)]=_0x5ef793[_0x5c8b4f[_0x3d76d3(0x1de)]]);}),_0x5e0972[_0x799f85(0xaa)]({'date':_0x13490d['date'],'eur':_0x13490d[_0x799f85(0xb2)],'usd':_0x13490d[_0x799f85(0x97)],'offset':_0xb4c327[_0x3fa8d5],'netoffset':_0x4fe238,'coins':_0x13490d[_0x799f85(0x188)]});});}return _0x5e0972;}function emitPerformance(_0xd08d82){const _0x2c776d=_0x51399b;_0xd08d82['length']!==0x0?(proxyEmit(_0x2c776d(0x23e),_0xd08d82),lastPerformanceEmitted=getDate()):proxyEmit(_0x2c776d(0x23e),[]);}function getPerf(_0x596008,_0x2109f6){const _0x75dda3=_0x51399b;let _0x259187=0x0,_0x1b7f41=0x0,_0x24c724=0x0;_0x596008[_0x75dda3(0x188)][_0x75dda3(0x1a4)](_0x47fbd7=>{const _0xe17694=_0x75dda3;_0x259187+=_0x47fbd7[_0xe17694(0x141)]*_0x47fbd7['price'];});_0x2109f6&&(_0x259187+=_0x596008[_0x75dda3(0x1bf)]);if(config[_0x75dda3(0xfb)]===_0x75dda3(0x23d)||config[_0x75dda3(0xfb)]==='ETH'||config[_0x75dda3(0xfb)]===_0x75dda3(0x1b9))_0x1b7f41=_0x259187*_0x596008[_0x75dda3(0xb2)],_0x24c724=_0x259187*_0x596008[_0x75dda3(0x97)];else{if(usdBasecoins[_0x75dda3(0xcf)](config[_0x75dda3(0xfb)]))_0x1b7f41=_0x259187*_0x596008[_0x75dda3(0xb2)]/_0x596008['usd'],_0x24c724=_0x259187;else config[_0x75dda3(0xfb)]===_0x75dda3(0x143)&&(_0x1b7f41=_0x259187,_0x24c724=_0x259187*_0x596008[_0x75dda3(0x97)]/_0x596008[_0x75dda3(0xb2)]);}return[_0x259187,_0x1b7f41,_0x24c724];}function getKPIs(_0xae1c91,_0x516ab7=_0x51399b(0x143)){const _0x543178=_0x51399b,_0x346624=config['basecoin'],_0x3cfd91=lastBalances,_0x3d8b8b=currentCoins,_0x57df2d=getNormalizedPerformance(),_0x130872=_0xae1c91===_0x543178(0xfb)?_0x346624:_0xae1c91==='fiat'||_0xae1c91===_0x543178(0x19c)?_0x516ab7:_0x543178(0x1c6)+_0x346624,_0x5486c8=_0xae1c91==='net-basecoin'?_0x543178(0x16e):_0xae1c91===_0x543178(0x19c)?_0x543178(0x16e):_0x130872+_0x543178(0x175),_0x1ad1c6=_0xae1c91===_0x543178(0x12c)||_0xae1c91===_0x543178(0x19c)?'Net\x20effect':_0x130872+_0x543178(0x1fc);let _0x5a085f=0x0;_0x3d8b8b[_0x543178(0x1a4)](_0x1a0ff1=>{const _0x22fe3b=_0x543178;_0x5a085f+=_0x1a0ff1[_0x22fe3b(0x141)]*_0x1a0ff1['last'];});if(_0xae1c91===_0x543178(0x17f)||_0xae1c91===_0x543178(0x19c)){if(_0x346624===_0x543178(0x23d)||_0x346624===_0x543178(0x192)||_0x346624===_0x543178(0x1b9))_0x5a085f=_0x5a085f*(_0x516ab7==='EUR'?_0x3cfd91['eur']:_0x3cfd91[_0x543178(0x97)]);else{if(usdBasecoins[_0x543178(0xcf)](_0x346624))_0x5a085f=_0x5a085f*(_0x516ab7==='EUR'?_0x3cfd91[_0x543178(0xb2)]/_0x3cfd91[_0x543178(0x97)]:0x1);else _0x346624===_0x543178(0x143)&&(_0x5a085f=_0x5a085f*(_0x516ab7==='EUR'?0x1:_0x3cfd91['usd']/_0x3cfd91[_0x543178(0xb2)]));}}let _0x36e163;if(_0x5a085f!==0x0){if(_0xae1c91===_0x543178(0xfb))_0x36e163=(_0x5a085f/startingBalances[_0x543178(0xfb)]-0x1)*0x64;else{if(_0x516ab7==='EUR')_0x36e163=(_0x5a085f/startingBalances['eur']-0x1)*0x64;else _0x36e163=(_0x5a085f/startingBalances['usd']-0x1)*0x64;}let _0x597cec=0x0;if(startingBalances[_0x543178(0x188)])_0x3d8b8b[_0x543178(0x1a4)](_0x441d29=>{const _0x587d1e=_0x543178;let _0x6962fd=startingBalances[_0x587d1e(0x188)][_0x587d1e(0xc0)](_0x3610dd=>_0x3610dd['coin']===_0x441d29[_0x587d1e(0x1de)]);if(_0x6962fd&&_0x6962fd[_0x587d1e(0x1de)]&&_0x441d29[_0x587d1e(0x141)]!==0x0)_0x597cec+=_0x6962fd[_0x587d1e(0x141)]*_0x441d29[_0x587d1e(0xde)];});let _0x379117=0x0;if(_0x57df2d[_0x543178(0xef)]!==0x0){let _0x395ad9=_0x57df2d[_0x57df2d[_0x543178(0xef)]-0x1];_0x379117=_0x395ad9['netoffset'];}_0x597cec-=_0x379117;_0xae1c91==='net-basecoin'&&(_0x36e163=(_0x5a085f-_0x597cec)/startingBalances['basecoin']*0x64,_0x5a085f=_0x5a085f-_0x597cec);if(_0xae1c91===_0x543178(0x19c)){let _0x1f36c6=_0x516ab7===_0x543178(0x143)?startingBalances['eur']:startingBalances[_0x543178(0x97)];if(_0x346624===_0x543178(0x23d)||_0x346624===_0x543178(0x192)||_0x346624==='PAXG')_0x597cec=_0x516ab7==='EUR'?_0x597cec*_0x3cfd91[_0x543178(0xb2)]:_0x597cec*_0x3cfd91[_0x543178(0x97)];else{if(usdBasecoins[_0x543178(0xcf)](_0x346624))_0x597cec=_0x516ab7===_0x543178(0x143)?_0x597cec*_0x3cfd91[_0x543178(0xb2)]/_0x3cfd91[_0x543178(0x97)]:_0x597cec;else _0x346624===_0x543178(0x143)&&(_0x597cec=_0x516ab7===_0x543178(0x143)?_0x597cec:_0x597cec*_0x3cfd91[_0x543178(0x97)]/_0x3cfd91[_0x543178(0xb2)]);}_0x36e163=(_0x5a085f-_0x597cec)/_0x1f36c6*0x64,_0x5a085f=_0x5a085f-_0x597cec;}if(_0x36e163){if(_0x36e163<0x64)_0x36e163=_0x36e163[_0x543178(0x16c)](0x2);else{if(_0x36e163<0x3e8)_0x36e163=_0x36e163[_0x543178(0x16c)](0x1);else _0x36e163=_0x36e163[_0x543178(0x16c)](0x0);}}else _0x36e163=Number('0')[_0x543178(0x16c)](0x2);if(_0x5a085f){if(Math[_0x543178(0x146)](_0x5a085f)<0.000001)_0x5a085f=_0x5a085f[_0x543178(0x16c)](0x2);else{if(Math['abs'](_0x5a085f)<0.1)_0x5a085f=_0x5a085f[_0x543178(0x16c)](0x6);else{if(Math['abs'](_0x5a085f)<0x1)_0x5a085f=_0x5a085f['toFixed'](0x5);else{if(Math[_0x543178(0x146)](_0x5a085f)<0xa)_0x5a085f=_0x5a085f['toFixed'](0x4);else{if(Math[_0x543178(0x146)](_0x5a085f)<0x64)_0x5a085f=_0x5a085f[_0x543178(0x16c)](0x3);else{if(Math[_0x543178(0x146)](_0x5a085f)<0x3e8)_0x5a085f=_0x5a085f[_0x543178(0x16c)](0x2);else _0x5a085f=_0x5a085f[_0x543178(0x16c)](0x2);}}}}}}else _0x5a085f=Number('0')[_0x543178(0x16c)](0x2);}else _0x36e163=Number('0')[_0x543178(0x16c)](0x2);return{'value':_0x5a085f,'change':_0x36e163,'leftTxt':_0x5486c8,'rightTxt':_0x1ad1c6};}async function getStartingBalances(_0x5d1dc0,_0x2a9957=!![]){const _0x3a6b57=_0x51399b;if(_0x5d1dc0[_0x3a6b57(0xef)]!==0x0){const [_0x101260,_0x240453,_0x5b1eb1]=getPerf(_0x5d1dc0[0x0],!![]);let _0x4700e6=[];config[_0x3a6b57(0xf3)][_0x3a6b57(0x1a4)](_0x5aa25b=>{const _0x12d5b0=_0x3a6b57;let _0x4c6a42=0x0,_0x9dd39;config[_0x12d5b0(0x181)][_0x12d5b0(0x1a4)](_0xb39f12=>{const _0xb15d33=_0x12d5b0;let _0x43dace=_0xb39f12[_0xb15d33(0x217)][_0xb15d33(0xc0)](_0x5b9275=>_0x5b9275[_0xb15d33(0x1de)]==_0x5aa25b[_0xb15d33(0x1de)]);if(_0x43dace){_0x4c6a42+=_0x43dace[_0xb15d33(0x141)];if(!_0x9dd39)_0x9dd39=_0x43dace[_0xb15d33(0xbc)];}}),_0x4700e6[_0x12d5b0(0xaa)]({'coin':_0x5aa25b['coin'],'number':_0x4c6a42,'initialprice':_0x9dd39});});const _0x33fe61={'basecoin':_0x101260,'eur':_0x240453,'usd':_0x5b1eb1,'coins':_0x4700e6};if(_0x2a9957)proxyEmit('starting-balances',_0x33fe61);startingBalances=_0x33fe61;}}function headlessMode(_0x18ce92){const _0x12c693=_0x51399b;let _0x2b955f=_0x18ce92['portfolio'],_0x13854d=_0x18ce92[_0x12c693(0x150)],_0x10f886=[];for(let _0x1a5537 of _0x2b955f){if(_0x1a5537[_0x12c693(0x1de)]!=config['basecoin']){if(_0x1a5537[_0x12c693(0x1f8)]>=_0x13854d/0x64){if(_0x1a5537[_0x12c693(0x119)])_0x10f886[_0x12c693(0xaa)](_0x1a5537);}else{if(_0x1a5537[_0x12c693(0x1f8)]<=-_0x13854d/0x64){if(_0x1a5537['valid'])_0x10f886[_0x12c693(0xaa)](_0x1a5537);}}}}_0x10f886['length']>0x0&&(lockOrders==ORDERS[_0x12c693(0x8c)]&&!coolingDown&&_0x10f886[_0x12c693(0x1a4)](_0x1de4ec=>{const _0x34103e=_0x12c693;logger[_0x34103e(0x1c4)]('Trigger:\x20'+_0x1de4ec['coin']+'\x20'+_0x1de4ec[_0x34103e(0x141)]+'\x20'+_0x1de4ec[_0x34103e(0xde)]+'\x20'+_0x1de4ec[_0x34103e(0x157)]+'%\x20'+_0x1de4ec['target']+'%\x20'+(0x64*_0x1de4ec[_0x34103e(0x1f8)])[_0x34103e(0x16c)](0x2)+_0x34103e(0x123)+_0x13854d[_0x34103e(0x16c)](0x2)+'%)');}),placeOrder(_0x10f886));}function notifyBalance(_0x412ac8){const _0x39a747=_0x51399b;let _0x28e19a=_0x412ac8[_0x39a747(0xf3)],_0x4089e4=_0x412ac8['threshold'],_0xa62b91=[];for(let _0x131435 of _0x28e19a){if(_0x131435['coin']!=config['basecoin']){if(_0x131435[_0x39a747(0x1f8)]>=_0x4089e4/0x64){if(_0x131435[_0x39a747(0x119)])_0xa62b91[_0x39a747(0xaa)](_0x131435);}else{if(_0x131435[_0x39a747(0x1f8)]<=-_0x4089e4/0x64){if(_0x131435[_0x39a747(0x119)])_0xa62b91[_0x39a747(0xaa)](_0x131435);}}}}if(_0xa62b91[_0x39a747(0xef)]>0x0){let _0xfd3147=_0xa62b91[_0x39a747(0x1d6)](_0x42685b=>_0x42685b[_0x39a747(0x1de)]);_0xfd3147[_0x39a747(0x23f)]();let _0x3d897d=_0xfd3147[_0x39a747(0x22e)](',\x20');if(!lastCoinsToBalance)logHistory(_0x39a747(0x1a7),_0x39a747(0x17c));lastCoinsToBalance=_0x3d897d;}}function symbolToCoin(_0x7bdf65){const _0x2c4b49=_0x51399b;let _0x54b65e;if(_0x7bdf65[_0x2c4b49(0xcf)]('/'+config[_0x2c4b49(0xfb)]))_0x54b65e=_0x7bdf65[_0x2c4b49(0x180)]('/'+config[_0x2c4b49(0xfb)],'');if(_0x7bdf65[_0x2c4b49(0xcf)](config['basecoin']+'/'))_0x54b65e=_0x7bdf65[_0x2c4b49(0x180)](config[_0x2c4b49(0xfb)]+'/','');return _0x54b65e;}async function unlockOrders(){const _0x5661ef=_0x51399b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x5661ef(0xf5)]){logger[_0x5661ef(0x1c4)](_0x5661ef(0x93)),lockOrders=ORDERS[_0x5661ef(0x210)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x5e5148=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5e5148,setBlockTransactionDetection(![]),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x5661ef(0x8c)],logger[_0x5661ef(0x1c4)](_0x5661ef(0x128));}}async function validateOrders(_0x3030bd){const _0x2b3114=_0x51399b;if(_0x3030bd)validateOrdersState=_0x3030bd;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x2b3114(0x14b):lockOrders==0x2?_0x2b3114(0xb7):_0x2b3114(0x1aa)));let _0x5211f8=[],_0x107c4d=config[_0x2b3114(0x1c1)]==_0x2b3114(0x1ac)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x2b3114(0x1c4)](_0x2b3114(0x1b2)+validateOrdersState),lastOrders[_0x2b3114(0x1a4)](_0x3aee1e=>{const _0x1b497d=_0x2b3114;let _0xfa661f=![];_0x3aee1e['filled']>0x0&&(_0xfa661f=!![]),_0x5211f8[_0x1b497d(0xaa)](_0xfa661f),_0xfa661f&&config[_0x1b497d(0x1c1)]!=_0x1b497d(0x1ac)&&logHistory(_0x1b497d(0x125),_0x1b497d(0x8f)+_0x3aee1e['symbol']+'\x20'+_0x3aee1e[_0x1b497d(0xfe)]+'\x20#'+formatResult(_0x3aee1e['filled'],0x8)+'\x20@'+formatResult(_0x3aee1e[_0x1b497d(0xbc)],0x8));}),_0x5211f8[_0x2b3114(0x1a4)]((_0x254f32,_0x5a0653)=>{if(_0x254f32)lastOrders['splice'](_0x5a0653,0x1);}),persistOpenOrders(lastOrders);const _0x860dd3=coolingDown?_0x2b3114(0xc2):'balancing\x20resumed';if(validateOrdersState==_0x2b3114(0x184)){validateOrdersState='ongoing';if(_0x5211f8['includes'](![])){if(config['ordertype']==_0x2b3114(0x1ac)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x2b3114(0x148)){if(_0x5211f8[_0x2b3114(0xcf)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x2b3114(0x1ac)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x5211f8[_0x2b3114(0xcf)](![])&&(config[_0x2b3114(0x1c1)]==_0x2b3114(0x1ac)?logHistory(_0x2b3114(0xe6),_0x2b3114(0x1b0)+Math[_0x2b3114(0x1b4)](_0x107c4d*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x860dd3):(await cancelOrders(),logHistory(_0x2b3114(0xe6),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x107c4d*validateOrderInterval/0xea60)+_0x2b3114(0x21b)+_0x860dd3))),await unlockOrders();else{if(validateOrdersState==_0x2b3114(0x103)){if(config[_0x2b3114(0x1c1)]!='market')logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x860dd3);await unlockOrders();}}}}}async function cancelOrders(){const _0x33f9a3=_0x51399b;lastOrders[_0x33f9a3(0x1a4)](async _0x196abb=>{const _0x5ee5ea=_0x33f9a3;try{const _0x395b44=await exchange[_0x5ee5ea(0xae)](_0x196abb['orderId'],_0x196abb[_0x5ee5ea(0x21d)]);}catch(_0x261625){if(_0x261625['toString']()[_0x5ee5ea(0xcf)](_0x5ee5ea(0x183))){}else await handleError(_0x261625,'cancelOrders()');}});}async function initCoinResults(_0x11f66a){const _0x44be3c=_0x51399b;_0x11f66a?logger[_0x44be3c(0x1c4)](_0x44be3c(0x1fe)+_0x11f66a):logger[_0x44be3c(0x1c4)](_0x44be3c(0x1e6)),config[_0x44be3c(0xf3)][_0x44be3c(0x1a4)](_0x4fddab=>{const _0xa7c449=_0x44be3c;if(!_0x4fddab[_0xa7c449(0x235)]&&_0x4fddab['coin']!=config[_0xa7c449(0xfb)]){const _0xd79361=currentCoins[_0xa7c449(0xc0)](_0x54d9ed=>_0x54d9ed[_0xa7c449(0x1de)]==_0x4fddab['coin']),_0x4657a2=gTicker[noslash(_0x4fddab[_0xa7c449(0x21d)])];let _0x57c8b7=_0xd79361?_0xd79361[_0xa7c449(0x141)]:null,_0x477bc1=_0x4fddab[_0xa7c449(0x1c0)]?0x1/_0x4657a2:_0x4657a2,_0x254501;config[_0xa7c449(0x181)][_0xa7c449(0x1a4)](_0x5a669d=>{const _0x594037=_0xa7c449;!_0x254501&&(_0x254501=_0x5a669d['changes'][_0x594037(0xc0)](_0x2ea252=>_0x2ea252[_0x594037(0x1de)]==_0x4fddab[_0x594037(0x1de)]),_0x254501&&(_0x57c8b7=_0x254501[_0x594037(0x141)],_0x477bc1=_0x254501[_0x594037(0xbc)]));});let _0x3a067f=dbCoinResults[_0xa7c449(0xbb)](_0xa7c449(0x188))[_0xa7c449(0xc0)]({'coin':_0x4fddab[_0xa7c449(0x1de)]})[_0xa7c449(0xc4)]();if(!_0x3a067f){const _0x4985f8={'coin':_0x4fddab[_0xa7c449(0x1de)],'number':_0x57c8b7,'breakeven':_0x477bc1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xa7c449(0xbb)](_0xa7c449(0x188))[_0xa7c449(0xaa)](_0x4985f8)[_0xa7c449(0x18b)]();}else{if(_0x11f66a&&_0x4fddab[_0xa7c449(0x1de)]==_0x11f66a){const _0xee9b8={'coin':_0x4fddab[_0xa7c449(0x1de)],'number':_0x57c8b7,'breakeven':_0x477bc1,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xa7c449(0xbb)](_0xa7c449(0x188))['find']({'coin':_0x4fddab[_0xa7c449(0x1de)]})[_0xa7c449(0x22c)](_0xee9b8)[_0xa7c449(0x18b)]();}}}});}async function updateCoinResults(_0x2a0803,_0x7fbc10=![]){const _0x7f0176=_0x51399b;let _0x5c369c,_0x38ee52,_0x18af4c,_0x2187d9,_0x4c71df,_0x1013de,_0x3ce0e8=dbCoinResults[_0x7f0176(0xbb)](_0x7f0176(0x188))[_0x7f0176(0xc0)]({'coin':_0x2a0803['coin']})[_0x7f0176(0xc4)](),_0x495b5a=![];_0x3ce0e8&&Object[_0x7f0176(0x232)](_0x3ce0e8)[_0x7f0176(0x1a4)](([_0x518b51,_0x587d1a])=>{if(_0x587d1a==null)_0x495b5a=!![];});(!_0x3ce0e8||_0x495b5a)&&(await initCoinResults(_0x2a0803['coin']),_0x3ce0e8=dbCoinResults['get'](_0x7f0176(0x188))[_0x7f0176(0xc0)]({'coin':_0x2a0803[_0x7f0176(0x1de)]})[_0x7f0176(0xc4)]());_0x2a0803[_0x7f0176(0x1c0)]&&(_0x1013de={'filled':_0x2a0803[_0x7f0176(0x10c)]*_0x2a0803[_0x7f0176(0xbc)],'amount':_0x2a0803[_0x7f0176(0x10c)]*_0x2a0803[_0x7f0176(0xbc)],'side':_0x2a0803[_0x7f0176(0xfe)]==_0x7f0176(0xb5)?_0x7f0176(0x9c):_0x7f0176(0xb5),'price':0x1/_0x2a0803[_0x7f0176(0xbc)]},_0x2a0803={..._0x2a0803,..._0x1013de});_0x7fbc10?_0x38ee52=_0x2a0803[_0x7f0176(0xfe)]=='buy'?_0x3ce0e8[_0x7f0176(0x141)]+_0x2a0803[_0x7f0176(0x10c)]:_0x3ce0e8[_0x7f0176(0x141)]-_0x2a0803[_0x7f0176(0x10c)]:_0x38ee52=await getCoinNumber(_0x2a0803[_0x7f0176(0x1de)]);if(_0x2a0803[_0x7f0176(0x1e7)]&&_0x2a0803[_0x7f0176(0x1e7)][_0x7f0176(0x162)]==config[_0x7f0176(0xfb)])_0x5c369c=Number(_0x2a0803[_0x7f0176(0x1e7)]['cost']);else{if(_0x2a0803['fee']&&_0x2a0803['fee'][_0x7f0176(0x162)]==_0x7f0176(0x17d)&&!_0x7fbc10&&config[_0x7f0176(0xfb)]!=_0x7f0176(0x1b9))_0x5c369c=Number(_0x2a0803[_0x7f0176(0x1e7)]['cost'])*gTicker[_0x7f0176(0x17d)+config[_0x7f0176(0xfb)]];else _0x5c369c=defaultFee*_0x2a0803['filled']*_0x2a0803[_0x7f0176(0xbc)];}_0x2a0803[_0x7f0176(0xfe)]==_0x7f0176(0x9c)?(_0x18af4c=_0x38ee52!=0x0?(_0x3ce0e8[_0x7f0176(0xb4)]*_0x3ce0e8[_0x7f0176(0x141)]+_0x2a0803[_0x7f0176(0xbc)]*(_0x38ee52-_0x3ce0e8['number'])+_0x5c369c)/_0x38ee52:0x0,_0x2187d9=_0x3ce0e8[_0x7f0176(0x1f5)]):(_0x18af4c=_0x38ee52!=0x0?(_0x3ce0e8[_0x7f0176(0xb4)]*_0x3ce0e8[_0x7f0176(0x141)]-_0x2a0803[_0x7f0176(0xbc)]*(_0x3ce0e8[_0x7f0176(0x141)]-_0x38ee52)+_0x5c369c)/_0x38ee52:0x0,_0x2187d9=_0x3ce0e8[_0x7f0176(0x1f5)]+(_0x2a0803[_0x7f0176(0xbc)]-_0x3ce0e8[_0x7f0176(0xb4)])*_0x2a0803[_0x7f0176(0x10c)]);_0x4c71df=(_0x2a0803[_0x7f0176(0xbc)]-_0x18af4c-_0x5c369c/_0x2a0803['filled'])*_0x38ee52;let _0x27ebea={'coin':_0x2a0803[_0x7f0176(0x1de)],'number':_0x38ee52,'breakeven':formatResult(_0x18af4c,0x8),'realized':formatResult(_0x2187d9,0x8),'unrealized':formatResult(_0x4c71df,0x8),'fees':formatResult(_0x3ce0e8['fees']+_0x5c369c,0x8),'sells':_0x2a0803['side']==_0x7f0176(0xb5)?_0x3ce0e8['sells']+0x1:_0x3ce0e8[_0x7f0176(0xd2)],'buys':_0x2a0803[_0x7f0176(0xfe)]==_0x7f0176(0x9c)?_0x3ce0e8[_0x7f0176(0x99)]+0x1:_0x3ce0e8[_0x7f0176(0x99)]};dbCoinResults[_0x7f0176(0xbb)](_0x7f0176(0x188))['find']({'coin':_0x2a0803[_0x7f0176(0x1de)]})[_0x7f0176(0x22c)](_0x27ebea)[_0x7f0176(0x18b)]();if(!_0x7fbc10){if(_0x2a0803[_0x7f0176(0x1e7)]&&_0x2a0803[_0x7f0176(0x1e7)][_0x7f0176(0x162)]==_0x7f0176(0x17d)){const _0x262b49=currentCoins[_0x7f0176(0xc0)](_0x50d4f6=>_0x50d4f6[_0x7f0176(0x1de)]==_0x7f0176(0x17d));if(_0x262b49){let _0x3c6b8e=dbCoinResults['get'](_0x7f0176(0x188))[_0x7f0176(0xc0)]({'coin':'BNB'})[_0x7f0176(0xc4)]();_0x27ebea={..._0x3c6b8e,'number':_0x262b49['number']},dbCoinResults[_0x7f0176(0xbb)](_0x7f0176(0x188))[_0x7f0176(0xc0)]({'coin':_0x7f0176(0x17d)})[_0x7f0176(0x22c)](_0x27ebea)['write']();}}}}async function placeOrder(_0x489528){const _0x5ca344=_0x51399b,_0x2e6cb1=config[_0x5ca344(0x1c1)]==_0x5ca344(0x1ac)?'market':_0x5ca344(0xb9);if(lockOrders==ORDERS[_0x5ca344(0x8c)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x5ca344(0xf5)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x5ca344(0x184);let _0xb03aa0=![];lastOrders=[];for(const _0x573c11 of _0x489528){let _0x83baaa,_0x199b6c,_0x396053,_0x1607ff,_0x5eeb6e,_0x4bd5d0=_0x573c11[_0x5ca344(0x21d)];try{const _0x28a153=await exchange[_0x5ca344(0x113)](_0x4bd5d0);_0x83baaa=_0x573c11[_0x5ca344(0x1c0)]?0x1/_0x573c11['last']:_0x573c11['last'],_0x199b6c=_0x28a153[_0x5ca344(0x202)],_0x396053=_0x28a153[_0x5ca344(0x225)];_0x573c11[_0x5ca344(0x1c0)]?(_0x1607ff=_0x573c11[_0x5ca344(0xfe)]==_0x5ca344(0x9c)?_0x5ca344(0xb5):_0x5ca344(0x9c),_0x5eeb6e=Math[_0x5ca344(0x146)](_0x573c11[_0x5ca344(0x224)])/_0x83baaa):(_0x1607ff=_0x573c11['side'],_0x5eeb6e=Math[_0x5ca344(0x146)](_0x573c11[_0x5ca344(0x224)]));_0x2e6cb1=='limit'&&(config[_0x5ca344(0x1c1)]==_0x5ca344(0x104)&&(_0x83baaa=_0x1607ff=='buy'?_0x199b6c:_0x396053),config['ordertype']=='limit-low'&&(_0x83baaa=_0x1607ff==_0x5ca344(0x9c)?_0x396053:_0x199b6c));_0x5eeb6e=formatResult(_0x5eeb6e,0x8),_0x83baaa=formatResult(_0x83baaa,0x8);const _0x3af539=_0x1607ff==_0x5ca344(0xb5)?config[_0x5ca344(0x106)]?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x5ca344(0x1dd)]?String['fromCodePoint']('0x'+config[_0x5ca344(0x1dd)])+'\x20':'',_0x3791f=_0x2e6cb1==_0x5ca344(0x1ac)?_0x5ca344(0xd4):config[_0x5ca344(0x1c1)]==_0x5ca344(0x104)?_0x5ca344(0xf9):_0x5ca344(0x226),_0x5ee6d9=(Math[_0x5ca344(0x13b)](Math[_0x5ca344(0x194)]()*0x35a4e900)+0x5f5e100)[_0x5ca344(0x10d)]();lastOrders[_0x5ca344(0xaa)]({'customId':_0x5ee6d9,'symbol':_0x4bd5d0,'coin':_0x573c11[_0x5ca344(0x1de)],'amount':_0x5eeb6e,'price':_0x83baaa,'side':_0x1607ff,'reverse':_0x573c11[_0x5ca344(0x1c0)],'filled':0x0});if(_0x2e6cb1==_0x5ca344(0x1ac))logHistory(_0x5ca344(0x125),''+_0x3af539+_0x3791f+'\x20order:\x20'+_0x4bd5d0+'\x20'+_0x1607ff+'\x20#'+formatResult(_0x5eeb6e,0x8)+'\x20@'+formatResult(_0x83baaa,0x8));else logHistory(_0x5ca344(0x125),''+_0x3af539+_0x3791f+_0x5ca344(0x1e8)+_0x4bd5d0+'\x20'+_0x1607ff+'\x20#'+formatResult(_0x5eeb6e,0x8)+'\x20@'+formatResult(_0x83baaa,0x8));let _0x20bf65;_0x2e6cb1==_0x5ca344(0x1ac)?_0x1607ff==_0x5ca344(0x9c)&&[_0x5ca344(0xb1),'Bitget',_0x5ca344(0x94),_0x5ca344(0x1f0),_0x5ca344(0xcd)][_0x5ca344(0xcf)](config[_0x5ca344(0xb6)])?_0x20bf65=await exchange[_0x5ca344(0x1c3)](_0x4bd5d0,_0x2e6cb1,_0x1607ff,_0x5eeb6e,_0x83baaa):_0x20bf65=await exchange['createOrder'](_0x4bd5d0,_0x2e6cb1,_0x1607ff,_0x5eeb6e,undefined):_0x20bf65=await exchange[_0x5ca344(0x1c3)](_0x4bd5d0,_0x2e6cb1,_0x1607ff,_0x5eeb6e,_0x83baaa);logger[_0x5ca344(0x1c4)](_0x5ca344(0x132)+_0x20bf65['id']+'\x20|\x20Custom\x20ID:\x20'+_0x5ee6d9);const _0x5b8bd9=lastOrders[_0x5ca344(0xef)]-0x1;if(_0x5b8bd9>=0x0&&lastOrders[_0x5b8bd9][_0x5ca344(0x1f6)]==_0x5ee6d9){lastOrders[_0x5b8bd9][_0x5ca344(0x114)]=_0x20bf65['id'];if(_0x20bf65['amount'])lastOrders[_0x5b8bd9][_0x5ca344(0x139)]=_0x20bf65['amount'];if(_0x20bf65[_0x5ca344(0xbc)])lastOrders[_0x5b8bd9][_0x5ca344(0xbc)]=_0x20bf65[_0x5ca344(0xbc)];lastOrders[_0x5b8bd9][_0x5ca344(0x1e7)]=_0x20bf65[_0x5ca344(0x1e7)];}if(config['cooldown']!=0x0){let _0x4ebe49=null;if(cooldownTracker[_0x5ca344(0xef)]==config['cooldown']-0x1)_0x4ebe49=cooldownTracker[_0x5ca344(0x1f1)]();const _0x4ae567=getTimeStamp();cooldownTracker[_0x5ca344(0xaa)](_0x4ae567);if(_0x4ebe49){const _0x86b361=fns[_0x5ca344(0x1e4)](new Date(_0x4ae567),new Date(_0x4ebe49));if(_0x86b361<cooldownInterval){logHistory('error',_0x5ca344(0x21f)+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x5ca344(0x110)+cooldownPeriod/(0xe10*0x3e8)+_0x5ca344(0x213)),coolingDown=!![];break;}}}}catch(_0x5c19de){if(_0x5c19de[_0x5ca344(0x10d)]()[_0x5ca344(0xcf)](_0x5ca344(0x149)))lastOrders=lastOrders['filter'](_0x15876a=>_0x15876a[_0x5ca344(0x21d)]!=_0x4bd5d0),logHistory(_0x5ca344(0x147),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4bd5d0),_0xb03aa0=!![];else{if(_0x5c19de[_0x5ca344(0x10d)]()[_0x5ca344(0xcf)](_0x5ca344(0x10e)))lastOrders=lastOrders[_0x5ca344(0x215)](_0x26d895=>_0x26d895[_0x5ca344(0x21d)]!=_0x4bd5d0),logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x4bd5d0),_0xb03aa0=!![];else{if(_0x5c19de[_0x5ca344(0x10d)]()[_0x5ca344(0xcf)]('InvalidOrder'))lastOrders=lastOrders['filter'](_0x4364d2=>_0x4364d2[_0x5ca344(0x21d)]!=_0x4bd5d0),logHistory(_0x5ca344(0x147),_0x5ca344(0x112)+_0x4bd5d0),logger[_0x5ca344(0x1c4)](_0x5c19de),_0xb03aa0=!![];else _0x5c19de['toString']()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x5ca344(0x215)](_0x16c562=>_0x16c562[_0x5ca344(0x21d)]!=_0x4bd5d0),logHistory('error',_0x5ca344(0x245)+_0x4bd5d0),_0xb03aa0=!![]):(lastOrders=lastOrders[_0x5ca344(0x215)](_0x50230e=>_0x50230e['symbol']!=_0x4bd5d0),await handleError(_0x5c19de,_0x5ca344(0x22f),_0x4bd5d0));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5ca344(0xef)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x434e3e=config[_0x5ca344(0x1c1)]==_0x5ca344(0x1ac)?validateOrderTimeout*0x3c*0x3e8:config[_0x5ca344(0x9b)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3b51d6=_0x5ca344;validateOrders(_0x3b51d6(0x169));},_0x434e3e);}else unlockOrders();_0xb03aa0&&config[_0x5ca344(0x178)]&&(logHistory(_0x5ca344(0x147),_0x5ca344(0x1b5)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5ca344(0xe6),_0x5ca344(0x117)));}else{if(coolingDown)!config[_0x5ca344(0x178)]&&logHistory(_0x5ca344(0x147),_0x5ca344(0x1d8));else lockOrders!=ORDERS[_0x5ca344(0x8c)]&&(!config[_0x5ca344(0x178)]&&(config['ordertype']==_0x5ca344(0x1ac)?logHistory(_0x5ca344(0x147),_0x5ca344(0xc7)):logHistory(_0x5ca344(0x147),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x2fa8f1){const _0xa1f0b4=_0x51399b,_0x1326cf={...config,'openOrders':_0x2fa8f1};let _0x146360=dbConfig['get'](_0xa1f0b4(0x1a8))[_0xa1f0b4(0xc0)]({'botID':botID})[_0xa1f0b4(0xc4)]();_0x146360&&dbConfig[_0xa1f0b4(0xbb)](_0xa1f0b4(0x1a8))[_0xa1f0b4(0xc0)]({'botID':botID})[_0xa1f0b4(0x22c)](_0x1326cf)[_0xa1f0b4(0x18b)]();}function restoreOrders(){const _0x22de01=_0x51399b;let _0x117485;config[_0x22de01(0xda)]&&allOpenOrders[_0x22de01(0x1a4)](_0x294c03=>{const _0x49b0f4=_0x22de01,_0x10b2fa=config[_0x49b0f4(0xda)][_0x49b0f4(0xc0)](_0x187419=>_0x187419[_0x49b0f4(0x114)]==_0x294c03['id']);_0x10b2fa&&(lastOrders[_0x49b0f4(0xaa)](_0x10b2fa),_0x117485=_0x294c03['timestamp']);});if(lastOrders[_0x22de01(0xef)]>0x0){lockOrders=ORDERS[_0x22de01(0xf5)],validateOrdersState=_0x22de01(0x148),allOrdersPlaced=!![];const _0x329505=new Date()[_0x22de01(0x18f)](),_0x10a54f=config[_0x22de01(0x1c1)]==_0x22de01(0x1ac)?validateOrderTimeout*0x3c*0x3e8:config[_0x22de01(0x9b)]*0x3c*0x3e8;if(_0x117485+_0x10a54f>_0x329505){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xf2f669=_0x22de01;validateOrders(_0xf2f669(0x169));},_0x117485+_0x10a54f-_0x329505);}else validateOrders(_0x22de01(0x169));}}async function sendMetricsTelegram(){const _0x59db69=_0x51399b;if(!coinsLoaded){process[_0x59db69(0x1e9)]({'telegrammsg':_0x59db69(0x170)},_0x5d4835=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x139001='';if(config[_0x59db69(0x17a)])_0x139001=_0x59db69(0x22a)+config[_0x59db69(0xa0)]+_0x59db69(0xa1);else _0x139001=_0x59db69(0x16d)+botID+_0x59db69(0xa1);const _0x374c4f=getKPIs(_0x59db69(0xfb)),_0x49ac4b=getKPIs(_0x59db69(0x17f),config[_0x59db69(0x17f)]),_0x52c770=getKPIs(_0x59db69(0x12c)),_0xb36e3e=getKPIs('net-fiat',config[_0x59db69(0x17f)]);_0x139001+=_0x59db69(0x154),_0x139001+=_0x374c4f[_0x59db69(0x14d)]+_0x59db69(0x15e)+_0x374c4f['value']+'\x0a',_0x139001+=_0x374c4f[_0x59db69(0x1d3)]+':\x20'+_0x374c4f[_0x59db69(0x152)]+'%\x0a',_0x139001+=_0x49ac4b[_0x59db69(0x14d)]+_0x59db69(0x15e)+_0x49ac4b[_0x59db69(0xc4)]+'\x0a',_0x139001+=_0x49ac4b[_0x59db69(0x1d3)]+':\x20'+_0x49ac4b[_0x59db69(0x152)]+'%\x0a',_0x139001+=_0x52c770[_0x59db69(0x14d)]+':\x20'+_0x52c770[_0x59db69(0xc4)]+'\x20('+config[_0x59db69(0xfb)]+')\x0a',_0x139001+=_0x52c770[_0x59db69(0x1d3)]+':\x20'+_0x52c770[_0x59db69(0x152)]+_0x59db69(0x123)+config[_0x59db69(0xfb)]+')\x0a',_0x139001+=_0xb36e3e[_0x59db69(0x14d)]+':\x20'+_0xb36e3e[_0x59db69(0xc4)]+'\x20('+config[_0x59db69(0x17f)]+')\x0a',_0x139001+=_0xb36e3e['rightTxt']+':\x20'+_0xb36e3e[_0x59db69(0x152)]+_0x59db69(0x123)+config['fiat']+')\x0a',_0x139001+='</pre>',process[_0x59db69(0x1e9)]({'telegrammsg':_0x139001},_0x2dbcaf=>{});}async function sendPortfolioTelegram(){const _0x3bf707=_0x51399b;if(!coinsLoaded||!currentCoins[0x0][_0x3bf707(0x157)]){process[_0x3bf707(0x1e9)]({'telegrammsg':_0x3bf707(0x170)},_0x1b781a=>{});return;}let _0x3b842c='';if(config[_0x3bf707(0x17a)])_0x3b842c='<b>'+config[_0x3bf707(0xa0)]+_0x3bf707(0x11a);else _0x3b842c=_0x3bf707(0x16d)+botID+_0x3bf707(0x11a);_0x3b842c+=_0x3bf707(0x154),_0x3b842c+='-------------------------------\x0a',_0x3b842c+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x3b842c+=_0x3bf707(0x9e),currentCoins['forEach'](_0x2312e2=>{const _0x342780=_0x3bf707;_0x3b842c+=_0x2312e2['coin'][_0x342780(0x156)](0x7)+'|\x20'+formatPad(_0x2312e2[_0x342780(0x157)],0x2,0x6)+'|\x20'+formatPad(_0x2312e2[_0x342780(0x134)],0x2,0x6)+'|\x20'+formatPad(_0x2312e2['delta']*0x64,0x2,0x6)+'\x0a';}),_0x3b842c+=_0x3bf707(0x23a),process[_0x3bf707(0x1e9)]({'telegrammsg':_0x3b842c},_0x252535=>{});}function formatPad(_0x110840,_0x2c3f23,_0x3f2999){const _0x5cf5db=_0x51399b,_0x2b45f0=formatResultString(_0x110840,_0x2c3f23);return _0x2b45f0?_0x2b45f0[_0x5cf5db(0x138)](_0x3f2999):''['padStart'](_0x3f2999);}function logHistory(_0x495773,_0x290e98,_0x143f00=''){const _0x5a7d4e=_0x51399b;logger['full'](''+_0x290e98);let _0x3f5bef={'time':getTimeStamp(),'type':_0x495773,'event':_0x290e98};dbLogs['get'](_0x5a7d4e(0x179))[_0x5a7d4e(0xaa)](_0x3f5bef)[_0x5a7d4e(0x18b)]();if(_0x143f00=='')_0x143f00=_0x290e98;proxyEmit(_0x5a7d4e(0xe8),{'log':_0x3f5bef,'summary':_0x143f00}),process['send']({'telegram':{..._0x3f5bef,'botname':config[_0x5a7d4e(0xa0)],'showname':config['showname']}},_0x20537f=>{});}function emitHistory(_0x3c6240={}){const _0x29a285=_0x51399b;Object[_0x29a285(0x1fa)](_0x3c6240)['length']==0x0&&(_0x3c6240={'type':[_0x29a285(0x125),_0x29a285(0xe8)],'event':'','page':0x1});if(_0x3c6240[_0x29a285(0xf6)][_0x29a285(0xcf)]('event'))_0x3c6240[_0x29a285(0xf6)][_0x29a285(0x130)](_0x3c6240['type'][_0x29a285(0x1dc)](_0x29a285(0xe8)),0x1,_0x29a285(0x147),_0x29a285(0x1a7),_0x29a285(0xe6));if(dbLogs[_0x29a285(0xb3)](_0x29a285(0x179))[_0x29a285(0xc4)]()){let _0x240a06=dbLogs[_0x29a285(0xbb)](_0x29a285(0x179))[_0x29a285(0x215)](_0x764190=>{const _0x3f9a66=_0x29a285;if(_0x3c6240[_0x3f9a66(0xf6)][_0x3f9a66(0xef)]==0x0)return![];else return _0x3c6240[_0x3f9a66(0xf6)][_0x3f9a66(0xcf)](_0x764190[_0x3f9a66(0xf6)]);})[_0x29a285(0x215)](_0x2f45ab=>{const _0x12b49a=_0x29a285;if(_0x3c6240[_0x12b49a(0xe8)]=='')return!![];else return _0x2f45ab['event']['toLowerCase']()[_0x12b49a(0xcf)](_0x3c6240['event']['toLowerCase']());})['sortBy']('time'),_0x5330fa=_0x240a06[_0x29a285(0xc4)]()['length'];_0x240a06=_0x240a06[_0x29a285(0x1c0)]()['slice']((_0x3c6240[_0x29a285(0xe7)]-0x1)*logPageSize,_0x3c6240[_0x29a285(0xe7)]*logPageSize-0x1)['reverse']()[_0x29a285(0xc4)](),proxyEmit('event-history',{'logs':_0x240a06,'total':_0x5330fa});}else proxyEmit(_0x29a285(0x124),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1d01ed){const _0x2f80b9=_0x51399b;if(dbLogs['has'](_0x2f80b9(0x179))[_0x2f80b9(0xc4)]()){const _0xa935c8=dbLogs[_0x2f80b9(0xbb)](_0x2f80b9(0x179))[_0x2f80b9(0x15b)]('time')['filter'](_0x259e50=>{const _0x838388=_0x2f80b9;return _0x259e50[_0x838388(0xf6)]=='order';})[_0x2f80b9(0xc4)]();dbLogs[_0x2f80b9(0xbb)](_0x2f80b9(0x179))['remove']()[_0x2f80b9(0x18b)](),dbLogs[_0x2f80b9(0xbb)](_0x2f80b9(0x179))[_0x2f80b9(0x22c)](_0xa935c8)[_0x2f80b9(0x18b)](),emitHistory(_0x1d01ed);}}async function pauseBot(_0xc8c53a=pauseBotIntervalShort,_0x487c80,_0x421f10,_0x163fa5=![]){const _0x45383b=_0x51399b,_0x19c41e=new Date()[_0x45383b(0x18f)]();if(!lastErrorShown||_0x19c41e-lastErrorShown>=_0xc8c53a){lastErrorShown=_0x19c41e;if(!lastBotPause)lastBotPause=_0x19c41e,consecutivePauses=0x1;else{if(_0x19c41e-lastBotPause-_0xc8c53a<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x163fa5){logHistory('error',_0x487c80+_0x45383b(0x88)),await killBot();return;}else logHistory(_0x45383b(0x147),_0x487c80+pauseBotMsg),_0xc8c53a=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x19c41e;}_0x421f10?logger[_0x45383b(0x1c4)]('('+consecutivePauses+')\x20'+_0x487c80+_0x45383b(0x14c),_0x421f10):logger[_0x45383b(0x1c4)]('('+consecutivePauses+')\x20'+_0x487c80);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0xc8c53a),botPaused=![],_0xc8c53a==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x13a1d7=_0x51399b;botPaused=!![],await sleep(0x3e8),process[_0x13a1d7(0x1e9)]({'stop':_0x13a1d7(0x1a5)},_0x888b0a=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5b38fc,_0xb84d5b){const _0x5512d9=_0x51399b;if(botPaused)return;const _0x5a5992=config[_0x5512d9(0xb6)]||_0x5512d9(0x1df);if(_0xb84d5b)logger['debug']('Exception\x20thrown\x20in\x20'+_0xb84d5b);const _0x47b152=()=>{const _0x239bcb=_0x5512d9;loading[_0x239bcb(0x147)]=!![],emitLoadingProgress();};if(_0x5b38fc[_0x5512d9(0x10d)]()[_0x5512d9(0xcf)](_0x5512d9(0xa7)))logHistory(_0x5512d9(0x147),_0x5a5992+_0x5512d9(0x91)),_0x47b152();else{if(_0x5b38fc[_0x5512d9(0x10d)]()[_0x5512d9(0xcf)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5512d9(0x147),_0x5a5992+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x47b152();else _0x5b38fc['toString']()[_0x5512d9(0xcf)](_0x5512d9(0x197))?(logHistory(_0x5512d9(0x147),_0x5a5992+_0x5512d9(0x177)),logHistory(_0x5512d9(0x147),_0x5512d9(0x18c)),_0x47b152()):await handleError(_0x5b38fc,null);}}async function handleError(_0x3a3216,_0xa17172,_0x3ebc05=''){const _0x493185=_0x51399b;if(botPaused)return;let _0x47e6a5;const _0x14e2fe=config[_0x493185(0xb6)]||_0x493185(0x1df);if(_0xa17172)logger[_0x493185(0x1c4)](_0x493185(0xe4)+_0xa17172);if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0x14f)))_0x47e6a5=_0x14e2fe+'\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0x16f)))_0x47e6a5=_0x14e2fe+_0x493185(0x171),await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)]('ExchangeNotAvailable')||_0x3a3216['toString']()[_0x493185(0xcf)](_0x493185(0xe1)))_0x47e6a5=_0x14e2fe+_0x493185(0x1f7),await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0x18e)))_0x47e6a5=_0x14e2fe+_0x493185(0x228),await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216['toString']()[_0x493185(0xcf)](_0x493185(0xc8)))_0x47e6a5=_0x14e2fe+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0x173)]()[_0x493185(0xcf)](_0x493185(0x204))||_0x3a3216[_0x493185(0x10d)]()['toLowerCase']()[_0x493185(0xcf)]('request-time'))_0x47e6a5='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0x241)))_0x47e6a5=_0x14e2fe+_0x493185(0xf7),await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216 instanceof ccxt[_0x493185(0x23c)])_0x47e6a5=_0x14e2fe+_0x493185(0x201)+_0x3a3216[_0x493185(0x10d)](),logger[_0x493185(0x1c4)]('Network\x20error\x20details:',_0x3a3216),await pauseBot(undefined,_0x47e6a5,_0x3a3216);else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0xa7)))logHistory(_0x493185(0x147),_0x14e2fe+_0x493185(0x166)),logHistory(_0x493185(0x147),_0x493185(0xdf)),await killBot();else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0x205)))logHistory(_0x493185(0x147),_0x14e2fe+_0x493185(0x15a)),logHistory(_0x493185(0x147),_0x493185(0xdf)),await killBot();else{if(_0x3a3216['toString']()['includes'](_0x493185(0x197))&&_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0x1ea)))_0x47e6a5=_0x14e2fe+_0x493185(0x1e0),await pauseBot(undefined,_0x47e6a5,_0x3a3216,!![]);else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)]('AuthenticationError'))config[_0x493185(0x16a)]?_0x47e6a5=_0x14e2fe+_0x493185(0x221):_0x47e6a5=_0x14e2fe+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x493185(0x147),_0x47e6a5),logHistory(_0x493185(0x147),_0x493185(0xdf)),await killBot();else{if(_0x3a3216[_0x493185(0x10d)]()['includes'](_0x493185(0x95)))logHistory(_0x493185(0x147),_0x14e2fe+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions'),logHistory(_0x493185(0x147),_0x493185(0xdf)),await killBot();else{if(_0x3a3216[_0x493185(0x10d)]()[_0x493185(0xcf)](_0x493185(0x1e3)))logHistory(_0x493185(0x147),_0x493185(0x20e)+_0x3ebc05);else{if(_0x3a3216 instanceof ccxt[_0x493185(0x182)]){_0x47e6a5=_0x14e2fe+_0x493185(0x220)+_0x3a3216[_0x493185(0x10d)](),logHistory(_0x493185(0x147),_0x47e6a5),logger[_0x493185(0x1c4)](_0x493185(0xeb),_0x3a3216);if(_0x3ebc05)logger['debug'](_0x493185(0x144)+_0x3ebc05);await pauseBot(undefined,_0x47e6a5,_0x3a3216);}else{_0x47e6a5=_0x493185(0x1c2)+_0x3a3216['toString'](),logHistory(_0x493185(0x147),_0x47e6a5),logger[_0x493185(0x1c4)](_0x47e6a5+_0x493185(0x14c),_0x3a3216);if(_0x3ebc05)logger[_0x493185(0x1c4)](_0x493185(0x144)+_0x3ebc05);await pauseBot(undefined,_0x47e6a5);}}}}}}}}}}}}}}}}async function withRetry(_0x566969,_0xcaa241){const _0x4518d4=_0x51399b;let _0x5d3e01=![],_0xf6e22f=0x0,_0x22e9d9,_0x2e5c54;while(_0xf6e22f<maxRetries){try{_0x22e9d9=await _0xcaa241();break;}catch(_0x87a481){_0x2e5c54=_0x87a481,!_0x5d3e01?(_0x5d3e01=!![],logger[_0x4518d4(0x1c4)](_0x4518d4(0x15d)+_0x566969+':',_0x87a481[_0x4518d4(0x10d)]())):await sleep(retryInterval);}_0xf6e22f++;}if(_0xf6e22f==0x0)return _0x22e9d9;if(_0xf6e22f>=maxRetries)throw _0x2e5c54;else return logger[_0x4518d4(0x1c4)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0xf6e22f+_0x4518d4(0xf1)),_0x22e9d9;}function formatResult(_0x33c77c,_0x13efa5){const _0x18a288=_0x51399b;return parseFloat(_0x33c77c[_0x18a288(0x16c)](_0x13efa5));}function formatResultTruncate(_0x206412,_0x5b7a97){const _0x27b679=_0x51399b;let _0x55eb4e=formatResultString(_0x206412,0xa),_0x20514e=_0x55eb4e['indexOf']('.');return _0x20514e!=-0x1&&(_0x55eb4e=_0x55eb4e[_0x27b679(0x1c7)](0x0,_0x20514e+_0x5b7a97+0x1)),Number(_0x55eb4e);}function formatResultString(_0x4318a3,_0x155441){const _0x20c2d0=_0x51399b;let _0x5c885c;if(!(''+_0x4318a3)['includes']('e'))_0x5c885c=+(Math['round'](_0x4318a3+'e+'+_0x155441)+'e-'+_0x155441);else{let _0x3935c4=(''+_0x4318a3)[_0x20c2d0(0x1ce)]('e'),_0x268017='';+_0x3935c4[0x1]+_0x155441>0x0&&(_0x268017='+'),_0x5c885c=+(Math[_0x20c2d0(0x1b4)](+_0x3935c4[0x0]+'e'+_0x268017+(+_0x3935c4[0x1]+_0x155441))+'e-'+_0x155441);}return Number(_0x5c885c)[_0x20c2d0(0x16c)](_0x155441);}function getServerTime(){const _0x983a1c=_0x51399b,_0x121307=new Date();return _0x121307[_0x983a1c(0x1a2)]()+'/'+(_0x121307[_0x983a1c(0x1d0)]()+0x1)['toString']()[_0x983a1c(0x138)](0x2,'0')+'/'+_0x121307[_0x983a1c(0x20b)]()[_0x983a1c(0x10d)]()['padStart'](0x2,'0')+'\x20'+_0x121307[_0x983a1c(0x1ca)]()[_0x983a1c(0x10d)]()[_0x983a1c(0x138)](0x2,'0')+':'+_0x121307[_0x983a1c(0x229)]()[_0x983a1c(0x10d)]()[_0x983a1c(0x138)](0x2,'0')+':'+_0x121307['getSeconds']()[_0x983a1c(0x10d)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x93504=_0x51399b,_0x1adb8f=shiftedTime();return _0x1adb8f[_0x93504(0x1a2)]()+'/'+(_0x1adb8f[_0x93504(0x1d0)]()+0x1)[_0x93504(0x10d)]()[_0x93504(0x138)](0x2,'0')+'/'+_0x1adb8f[_0x93504(0x20b)]()[_0x93504(0x10d)]()[_0x93504(0x138)](0x2,'0')+'\x20'+_0x1adb8f[_0x93504(0x1ca)]()[_0x93504(0x10d)]()[_0x93504(0x138)](0x2,'0')+':'+_0x1adb8f[_0x93504(0x229)]()['toString']()[_0x93504(0x138)](0x2,'0')+':'+_0x1adb8f[_0x93504(0x20d)]()[_0x93504(0x10d)]()[_0x93504(0x138)](0x2,'0');}function getDate(){const _0x2c48e1=_0x51399b,_0x14eabb=shiftedTime();return _0x14eabb[_0x2c48e1(0x1a2)]()+'/'+(_0x14eabb[_0x2c48e1(0x1d0)]()+0x1)['toString']()[_0x2c48e1(0x138)](0x2,'0')+'/'+_0x14eabb[_0x2c48e1(0x20b)]()['toString']()[_0x2c48e1(0x138)](0x2,'0');}function getHour(){const _0x11a799=_0x51399b,_0x247b2d=shiftedTime();return _0x247b2d[_0x11a799(0x1ca)]()[_0x11a799(0x10d)]()[_0x11a799(0x138)](0x2,'0');}function sleep(_0x35af6b){return new Promise(_0x28d54b=>setTimeout(_0x28d54b,_0x35af6b));}function shiftedTime(){const _0x3f2c56=_0x51399b,_0x169261=new Date();let _0x58ad78=_0x169261;if(config&&config[_0x3f2c56(0x159)]!==0x0)_0x58ad78=fns[_0x3f2c56(0x190)](_0x169261,{'hours':config[_0x3f2c56(0x159)]});return _0x58ad78;}function timer(_0x527971){const _0x580fe3=_0x51399b,_0x44ea49=new Date();!lasttime?console[_0x580fe3(0x87)](getTimeStamp()+_0x580fe3(0x22b),_0x527971,_0x44ea49):console[_0x580fe3(0x87)](getTimeStamp()+':\x20timer\x20>',_0x527971,(_0x44ea49-lasttime)/0x3e8),lasttime=_0x44ea49;}