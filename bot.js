const _0x27d600=_0x2dc8;(function(_0x2cc1cc,_0x1ed323){const _0x549aa=_0x2dc8,_0x2fa53c=_0x2cc1cc();while(!![]){try{const _0x37f2b3=parseInt(_0x549aa(0x1d3))/0x1+parseInt(_0x549aa(0xf2))/0x2+-parseInt(_0x549aa(0xfc))/0x3*(parseInt(_0x549aa(0x1b1))/0x4)+parseInt(_0x549aa(0xfe))/0x5*(parseInt(_0x549aa(0x1d2))/0x6)+-parseInt(_0x549aa(0x17a))/0x7+parseInt(_0x549aa(0xfb))/0x8*(-parseInt(_0x549aa(0x15d))/0x9)+-parseInt(_0x549aa(0x10d))/0xa*(-parseInt(_0x549aa(0x16c))/0xb);if(_0x37f2b3===_0x1ed323)break;else _0x2fa53c['push'](_0x2fa53c['shift']());}catch(_0x241581){_0x2fa53c['push'](_0x2fa53c['shift']());}}}(_0x96c4,0x1ac45));const _0x1c3cf4=function(){let _0x3a9d47=!![];return function(_0x134bdd,_0x219570){const _0x5d2130=_0x3a9d47?function(){const _0x39b5b0=_0x2dc8;if(_0x219570){const _0x164640=_0x219570[_0x39b5b0(0x104)](_0x134bdd,arguments);return _0x219570=null,_0x164640;}}:function(){};return _0x3a9d47=![],_0x5d2130;};}(),_0x360f3f=_0x1c3cf4(this,function(){const _0x4d13a1=_0x2dc8;return _0x360f3f['toString']()['search']('(((.+)+)+)+$')[_0x4d13a1(0x1d1)]()[_0x4d13a1(0x1ad)](_0x360f3f)[_0x4d13a1(0x190)](_0x4d13a1(0x1db));});_0x360f3f();'use strict';const ccxt=require(_0x27d600(0x19d)),low=require(_0x27d600(0x1b0)),FileSync=require(_0x27d600(0x140)),fs=require('fs'),fns=require(_0x27d600(0x177)),{WebsocketClient,DefaultLogger}=require('binance'),Crypt=require(_0x27d600(0x1c7))[_0x27d600(0x195)];let exchange,wsClient;global[_0x27d600(0x180)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x27d600(0x144))['version'],botID=process[_0x27d600(0x10a)][0x2]||_0x27d600(0x1d9),pattern=/^[0-9]{3}$/;if(!pattern[_0x27d600(0x1c5)](botID))return console['log'](_0x27d600(0x112)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x27d600(0xd0)](0x1);const userID=process[_0x27d600(0x10a)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x27d600(0x17e);!fs[_0x27d600(0x141)](configpath)&&fs['mkdirSync'](configpath);function _0x2dc8(_0x440b2c,_0xad3210){const _0x3c6741=_0x96c4();return _0x2dc8=function(_0x360f3f,_0x1c3cf4){_0x360f3f=_0x360f3f-0xbf;let _0x96c49d=_0x3c6741[_0x360f3f];return _0x96c49d;},_0x2dc8(_0x440b2c,_0xad3210);}const configfile=configpath+_0x27d600(0x134)+botID+_0x27d600(0x1b3),logfile=configpath+'bot-'+botID+_0x27d600(0x1b7),performancefile=configpath+'bot-'+botID+_0x27d600(0x12f),coinresultsfile=configpath+'bot-'+botID+_0x27d600(0x198),settingsfile=configpath+_0x27d600(0x149),securefile=configpath+_0x27d600(0xdc),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x27d600(0x191)]({'logs':[]})[_0x27d600(0x1c0)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x27d600(0x191)]({'data':[]})[_0x27d600(0x1c0)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x27d600(0x191)]({'bot':[]})[_0x27d600(0x1c0)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x27d600(0x191)]({'coins':[]})[_0x27d600(0x1c0)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x27d600(0x168),'symbol':_0x27d600(0xd9)},'usd':{'coin':_0x27d600(0x14c),'symbol':_0x27d600(0x142)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x763400)=>{},'debug':(..._0x40dbdd)=>{},'notice':(..._0x15bb96)=>{},'info':(..._0x50a8b8)=>{},'warning':(..._0x207e3c)=>{},'error':async function(..._0x5a3a73){const _0xca3816=_0x27d600,_0x259749=new Date()[_0xca3816(0x145)]();if(!lastErrorShown||_0x259749-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0xca3816(0x145)](),logHistory(_0xca3816(0x17c),'WebSockets('+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available');let _0x1a8668='';if(_0x5a3a73[0x0])_0x1a8668+=_0x5a3a73[0x0];if(_0x5a3a73[0x1]&&_0x5a3a73[0x1]['error']&&_0x5a3a73[0x1][_0xca3816(0x17c)][_0xca3816(0x125)])_0x1a8668+=_0xca3816(0x14d)+_0x5a3a73[0x1][_0xca3816(0x17c)][_0xca3816(0x125)];logging(_0xca3816(0x1be)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x1a8668),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x27d600(0x19e),'rsaStandard':_0x27d600(0x12e)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x27d600(0x1a2)]!=config['timeshift']&&updateTimeshift(settings[_0x27d600(0x1a2)]);process['send']({'started':'running'},_0x1734aa=>{}),initializeProcessListeners();function proxyEmit(_0x42d060,_0x1f0932=null){const _0x4526a7=_0x27d600;process[_0x4526a7(0x169)]({'function':_0x42d060,'args':_0x1f0932},_0x50ab58=>{});}function initializeProcessListeners(){process['on']('message',_0x2589c9=>{const _0x302168=_0x2dc8;switch(Object[_0x302168(0xd1)](_0x2589c9)[0x0]){case _0x302168(0x1a2):_0x2589c9[_0x302168(0x1a2)]!=undefined&&(settings[_0x302168(0x1a2)]=_0x2589c9[_0x302168(0x1a2)],updateTimeshift(settings[_0x302168(0x1a2)]));break;case _0x302168(0xf9):switch(_0x2589c9[_0x302168(0xf9)]){case _0x302168(0x1a4):initclient();break;case _0x302168(0xe5):emitHistory(_0x2589c9['args']);break;case _0x302168(0x10f):deleteHistoryAlerts(_0x2589c9[_0x302168(0x146)]);break;case'getPortfolio':getPortfolio(_0x2589c9[_0x302168(0x146)]);break;case _0x302168(0x115):storeConfiguration(_0x2589c9[_0x302168(0x146)]);break;case _0x302168(0x129):storeHeadless(_0x2589c9[_0x302168(0x146)]);break;case _0x302168(0xbf):getStartingBalances(getNormalizedPerformance());break;case _0x302168(0xdf):placeOrder(_0x2589c9['args']);break;case _0x302168(0x174):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x42912d=_0x27d600;if(pidBalances)clearTimeout(pidBalances);if(config[_0x42912d(0xcb)]!=''){await initExchange(config[_0x42912d(0xcb)],config[_0x42912d(0x155)]);let _0x318558=await loadSymbols();_0x318558&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x1b41e2,_0xd5d217){const _0x5ca5d6=_0x27d600,_0x57e8b1=ccxt[config[_0x5ca5d6(0x157)]];let _0xa39ce0;switch(config[_0x5ca5d6(0x157)]){case _0x5ca5d6(0x175):_0xa39ce0='wss://stream.binance.com:9443';break;case'binanceus':_0xa39ce0='wss://stream.binance.us:9443';break;default:_0xa39ce0=_0x5ca5d6(0x1d7);}exchange=new _0x57e8b1({'apiKey':_0x1b41e2,'secret':_0xd5d217,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x1b41e2,'api_secret':_0xd5d217,'beautify':!![],'wsUrl':_0xa39ce0},logger),config[_0x5ca5d6(0x157)]==_0x5ca5d6(0x181)&&(stablecoins={'eur':{'coin':_0x5ca5d6(0x167),'symbol':_0x5ca5d6(0x164)},'usd':{'coin':_0x5ca5d6(0x14c),'symbol':_0x5ca5d6(0x142)}});}async function loadSymbols(){const _0x92b7e7=_0x27d600;let _0x336ec6;try{markets=await exchange[_0x92b7e7(0x153)]();const _0x34f8c1=[_0x92b7e7(0xc4),'HOT/BTC',_0x92b7e7(0xfd)];allSymbols=exchange['symbols'][_0x92b7e7(0x19a)](_0x39989d=>{const _0x57a3e2=_0x92b7e7;let _0xe89776=![];return _0x34f8c1[_0x57a3e2(0x1da)](_0x1236de=>{const _0x3ad810=_0x57a3e2;if(_0x39989d[_0x3ad810(0xf3)](_0x1236de))_0xe89776=!![];}),!_0xe89776;}),_0x336ec6=!![];}catch(_0x55c58a){await handleError(_0x55c58a,_0x92b7e7(0xc5)),_0x336ec6=![];}return _0x336ec6;}async function initbot(){const _0x22a5d7=_0x27d600;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x5236f4=dbCoinResults[_0x22a5d7(0x178)](_0x22a5d7(0x11c))[_0x22a5d7(0x1a5)]();if(_0x5236f4[_0x22a5d7(0x17b)]==0x0)await resetCoinResults();}async function initclient(){const _0xd627e4=_0x27d600;proxyEmit(_0xd627e4(0x15f),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x59d78b=getNormalizedPerformance();emitPerformance(_0x59d78b),await getStartingBalances(_0x59d78b);}function cleanws(){const _0x39e092=_0x27d600;wsinitialized=![];ws1&&(ws1[_0x39e092(0x1da)](_0x25250a=>{const _0x5cd883=_0x39e092;try{wsClient[_0x5cd883(0x176)](_0x25250a);}catch(_0xf412c5){}}),ws1=[]);if(ws2){try{wsClient[_0x39e092(0x176)](ws2);}catch(_0x275f08){}ws2=null;}}async function initws(){const _0x4c67f2=_0x27d600;cleanws();let _0x1d6090=[];currentCoins[_0x4c67f2(0x1da)](_0x3d5165=>{const _0x59eb00=_0x4c67f2;if(_0x3d5165[_0x59eb00(0xc6)]!=config[_0x59eb00(0x105)])_0x1d6090[_0x59eb00(0x159)](noslash(_0x3d5165[_0x59eb00(0x186)]));});if(!_0x1d6090[_0x4c67f2(0xf3)](stablecoins[_0x4c67f2(0xe1)][_0x4c67f2(0xc6)]))_0x1d6090[_0x4c67f2(0x159)](stablecoins['eur'][_0x4c67f2(0xc6)]);if(!_0x1d6090[_0x4c67f2(0xf3)](stablecoins[_0x4c67f2(0x107)][_0x4c67f2(0xc6)]))_0x1d6090[_0x4c67f2(0x159)](stablecoins['usd'][_0x4c67f2(0xc6)]);if(!_0x1d6090['includes'](_0x4c67f2(0xf5)+config[_0x4c67f2(0x105)]))_0x1d6090[_0x4c67f2(0x159)](_0x4c67f2(0xf5)+config[_0x4c67f2(0x105)]);try{_0x1d6090[_0x4c67f2(0x1da)]((_0x40cfcf,_0x3f41bd)=>{ws1[_0x3f41bd]=wsClient['subscribeSpotKline'](_0x40cfcf,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x4c67f2(0xc0),_0x816dd1=>{const _0x245265=_0x4c67f2;if(!Array[_0x245265(0xe8)](_0x816dd1)&&!_0x816dd1[_0x245265(0x196)][_0x245265(0xf3)](_0x245265(0x15c))){if(_0x816dd1[_0x245265(0x18b)]===_0x245265(0x110)){global['ticker'][_0x816dd1[_0x245265(0x110)][_0x245265(0x186)]]=_0x816dd1[_0x245265(0x110)][_0x245265(0x182)];return;}}else{if(!Array['isArray'](_0x816dd1)&&_0x816dd1[_0x245265(0x196)][_0x245265(0xf3)](_0x245265(0x15c))){if(_0x816dd1['wsMarket'][_0x245265(0xf3)](_0x245265(0x19c))){updateNumberCoins(_0x816dd1);return;}}}}),wsClient['on'](_0x4c67f2(0x114),async _0x1c5418=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x54d9d3){await handleError(_0x54d9d3,_0x4c67f2(0x15a));}let _0x451550,_0x44d546=0x0;loading[_0x4c67f2(0x123)]=[];let _0x153753=0x0;currentCoins['forEach'](_0xcb0aa5=>{const _0x2e3e7b=_0x4c67f2;if(_0xcb0aa5[_0x2e3e7b(0xc6)]!=config[_0x2e3e7b(0x105)])loading[_0x2e3e7b(0x123)][_0x2e3e7b(0x159)](_0xcb0aa5[_0x2e3e7b(0x186)]);}),loadingCanceled=![];while(_0x451550!=currentCoins['length']-0x1){_0x451550=0x0,currentCoins[_0x4c67f2(0x1da)](_0x18018e=>{const _0x4cfc5c=_0x4c67f2;_0x18018e[_0x4cfc5c(0xc6)]!=config['basecoin']&&global[_0x4cfc5c(0x180)][noslash(_0x18018e[_0x4cfc5c(0x186)])]&&(loading[_0x4cfc5c(0x123)]=loading[_0x4cfc5c(0x123)]['filter'](_0x7c0c88=>_0x7c0c88!=_0x18018e[_0x4cfc5c(0x186)]),_0x451550++);}),loading[_0x4c67f2(0x103)]=Math[_0x4c67f2(0x192)](_0x451550/(currentCoins[_0x4c67f2(0x17b)]-0x1)*0x64);_0x153753>0x1e*0x5&&(loading[_0x4c67f2(0x1ab)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x4c67f2(0x113)]=!![],emitLoadingProgress();break;}else _0x451550!=_0x44d546&&(_0x44d546=_0x451550,emitLoadingProgress()),_0x153753++,await sleep(0xc8);}if(_0x451550==currentCoins['length']-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x23fe78=_0x27d600;proxyEmit(_0x23fe78(0xd6),loading);}async function getFiat(){const _0x576cfd=_0x27d600;let _0x30a976=0x0,_0x376db1=0x0;try{_0x30a976=global[_0x576cfd(0x180)][stablecoins[_0x576cfd(0xe1)]['coin']],_0x376db1=global['ticker'][stablecoins['usd'][_0x576cfd(0xc6)]];}catch(_0x46c8c0){await handleError(_0x46c8c0,_0x576cfd(0x11b));}return{'eur':Number(_0x30a976),'usd':Number(_0x376db1)};}function setStartDatePerformance(){const _0x38a8d5=_0x27d600;if(config&&config['liquidity'][0x0][_0x38a8d5(0x13f)]['length']!=0x0){const _0x3d4de8=config[_0x38a8d5(0xe6)][0x0]['changes'];dbPerformance[_0x38a8d5(0x178)](_0x38a8d5(0x14e))[_0x38a8d5(0x14f)]({'date':config[_0x38a8d5(0x1c9)]})['assign']({'coins':_0x3d4de8})['write']();}}async function recreateHistory(_0x2916c9){const _0xcb26c9=_0x27d600;let _0x575c93,_0x1b963c=[];logHistory('success',_0xcb26c9(0x13e)),_0x2916c9[_0xcb26c9(0x101)][_0xcb26c9(0x1da)](_0x2fc066=>{const _0x57f13c=_0xcb26c9;if(_0x2fc066[_0x57f13c(0xc6)]!=config[_0x57f13c(0x105)]&&!_0x2fc066[_0x57f13c(0x199)])_0x1b963c[_0x57f13c(0x159)]({'coin':_0x2fc066[_0x57f13c(0xc6)],'symbol':_0x2fc066[_0x57f13c(0x186)]});});let _0x24f94a=[];try{const _0x1077f9=fns[_0xcb26c9(0x18c)](fns[_0xcb26c9(0x16b)](_0x2916c9[_0xcb26c9(0x1c9)][_0xcb26c9(0xf7)](/\//g,'-')),_0xcb26c9(0xd3));for(const _0x3799cd of _0x1b963c){if(_0x3799cd['coin']!=config[_0xcb26c9(0x105)])_0x575c93=await exchange[_0xcb26c9(0x1cf)](_0x3799cd[_0xcb26c9(0x186)],Date['parse'](_0x1077f9));_0x575c93[_0xcb26c9(0x1da)](_0x25ab23=>{const _0x2cca84=_0xcb26c9,_0x484859=_0x3799cd['symbol']['includes'](config[_0x2cca84(0x105)]+'/'),_0x22cd5c=fns['format'](fns[_0x2cca84(0x16b)](_0x25ab23[_0x2cca84(0x171)]),'yyyy/MM/dd\x20HH:mm:ss'),_0xd2dcfc=fns[_0x2cca84(0x18c)](fns[_0x2cca84(0x16b)](_0x25ab23[_0x2cca84(0x171)]),'yyyy/MM/dd');let _0x5ac42b;if(_0x25ab23[_0x2cca84(0x136)]==_0x2cca84(0x1d5)&&_0x484859==![])_0x5ac42b=_0x25ab23[_0x2cca84(0x118)];if(_0x25ab23[_0x2cca84(0x136)]==_0x2cca84(0x1d5)&&_0x484859==!![])_0x5ac42b=-_0x25ab23['amount']*_0x25ab23['price'];if(_0x25ab23[_0x2cca84(0x136)]==_0x2cca84(0x1cb)&&_0x484859==![])_0x5ac42b=-_0x25ab23[_0x2cca84(0x118)];if(_0x25ab23['side']==_0x2cca84(0x1cb)&&_0x484859==!![])_0x5ac42b=_0x25ab23[_0x2cca84(0x118)]*_0x25ab23[_0x2cca84(0x1b9)];_0x24f94a[_0x2cca84(0x159)]({'timestamp':_0x22cd5c,'date':_0xd2dcfc,'coin':_0x3799cd[_0x2cca84(0xc6)],'symbol':_0x3799cd[_0x2cca84(0x186)],'type':_0x25ab23[_0x2cca84(0x19b)],'side':_0x25ab23['side'],'reverse':_0x484859,'amount':formatResult(_0x25ab23[_0x2cca84(0xe9)],0x8),'filled':formatResult(_0x25ab23[_0x2cca84(0xe9)],0x8),'coinamount':formatResult(_0x5ac42b,0x8),'price':formatResult(_0x25ab23[_0x2cca84(0x1b9)],0x8)});let _0x1a04be;if(_0x25ab23[_0x2cca84(0x136)]==_0x2cca84(0x1d5)&&_0x484859==![])_0x1a04be=-_0x25ab23[_0x2cca84(0x118)]*_0x25ab23[_0x2cca84(0x1b9)];if(_0x25ab23['side']==_0x2cca84(0x1d5)&&_0x484859==!![])_0x1a04be=_0x25ab23[_0x2cca84(0x118)];if(_0x25ab23['side']==_0x2cca84(0x1cb)&&_0x484859==![])_0x1a04be=_0x25ab23[_0x2cca84(0x118)]*_0x25ab23[_0x2cca84(0x1b9)];if(_0x25ab23[_0x2cca84(0x136)]=='sell'&&_0x484859==!![])_0x1a04be=-_0x25ab23[_0x2cca84(0x118)];_0x24f94a[_0x2cca84(0x159)]({'date':_0xd2dcfc,'coin':config[_0x2cca84(0x105)],'coinamount':formatResult(_0x1a04be,0x8)});});}_0x24f94a[_0xcb26c9(0x137)]((_0x321180,_0x19e979)=>_0x321180[_0xcb26c9(0xda)]>_0x19e979[_0xcb26c9(0xda)]?0x1:_0x19e979[_0xcb26c9(0xda)]>_0x321180[_0xcb26c9(0xda)]?-0x1:0x0),dbLogs[_0xcb26c9(0x178)](_0xcb26c9(0x1df))['remove']()['write'](),_0x24f94a['forEach'](_0x54c664=>{const _0x1f7710=_0xcb26c9;let _0x167c2a;_0x54c664['coin']!=config['basecoin']&&(_0x167c2a={'time':_0x54c664['timestamp'],'type':_0x1f7710(0x15b),'event':_0x1f7710(0x102)+_0x54c664[_0x1f7710(0x186)]+'\x20'+_0x54c664[_0x1f7710(0x136)]+'\x20#'+_0x54c664[_0x1f7710(0x118)]+'\x20@'+_0x54c664[_0x1f7710(0x1b9)]},dbLogs['get']('logs')[_0x1f7710(0x159)](_0x167c2a)[_0x1f7710(0x1c0)]());});const _0x36a41b=fns[_0xcb26c9(0xf8)]({'start':new Date(_0x2916c9['startdate']),'end':new Date()})[_0xcb26c9(0x1c8)](_0x941c34=>fns[_0xcb26c9(0x18c)](_0x941c34,_0xcb26c9(0x170)));let _0x5940b3=[];_0x2916c9[_0xcb26c9(0x101)][_0xcb26c9(0x1da)](_0x2739a1=>{const _0x5617c1=_0xcb26c9;if(!_0x2739a1[_0x5617c1(0x199)]){_0x5940b3[_0x2739a1['coin']]=[];let _0xb14500=_0x2739a1[_0x5617c1(0x11d)];_0x36a41b[_0x5617c1(0x1da)]((_0x71ca8a,_0x55a4d7)=>{const _0x34783a=_0x5617c1;let _0x3d9e94=_0x24f94a[_0x34783a(0x19a)](_0x432f60=>_0x432f60[_0x34783a(0xc6)]==_0x2739a1[_0x34783a(0xc6)]&&_0x432f60[_0x34783a(0x16f)]==_0x71ca8a);if(_0x3d9e94[_0x34783a(0x17b)]!=0x0){let _0x30920e=_0x3d9e94[_0x34783a(0x1b4)]((_0x1cd3e4,_0x40f74c)=>{const _0x15093f=_0x34783a;return _0x1cd3e4+=_0x40f74c[_0x15093f(0x14b)],_0x1cd3e4;},0x0);_0xb14500+=_0x30920e;}_0x5940b3[_0x2739a1[_0x34783a(0xc6)]][_0x71ca8a]=_0xb14500;});}});const _0x854496=[..._0x1b963c];_0x854496[_0xcb26c9(0x159)]({'coin':stablecoins[_0xcb26c9(0xe1)][_0xcb26c9(0xc6)],'symbol':stablecoins[_0xcb26c9(0xe1)]['symbol']}),_0x854496[_0xcb26c9(0x159)]({'coin':stablecoins[_0xcb26c9(0x107)][_0xcb26c9(0xc6)],'symbol':stablecoins['usd'][_0xcb26c9(0x186)]});let _0x5d7173=[];for(const _0x1798fb of _0x854496){_0x5d7173[_0x1798fb[_0xcb26c9(0xc6)]]=await getCloses(_0x1798fb['symbol'],new Date(_0x2916c9['startdate']));}dbPerformance[_0xcb26c9(0x178)]('data')[_0xcb26c9(0x1c1)]()['write'](),_0x36a41b[_0xcb26c9(0x1da)]((_0x10b7d5,_0x3bc915)=>{const _0xa38a50=_0xcb26c9;let _0x504076,_0x2b070c=[];_0x3bc915==0x0?(_0x2916c9['portfolio'][_0xa38a50(0x1da)](_0x133b1b=>{const _0x29c125=_0xa38a50;!_0x133b1b['excluded']&&_0x2b070c[_0x29c125(0x159)]({'coin':_0x133b1b['coin'],'number':_0x133b1b[_0x29c125(0x11d)],'price':_0x133b1b['startprice']});}),_0x504076={'date':_0x10b7d5,'eur':_0x5d7173[stablecoins[_0xa38a50(0xe1)][_0xa38a50(0xc6)]][_0x3bc915],'usd':_0x5d7173[stablecoins['usd'][_0xa38a50(0xc6)]][_0x3bc915],'coins':_0x2b070c}):(_0x2916c9[_0xa38a50(0x101)][_0xa38a50(0x1da)](_0x190f6b=>{const _0x97add6=_0xa38a50;!_0x190f6b[_0x97add6(0x199)]&&_0x2b070c['push']({'coin':_0x190f6b['coin'],'number':_0x5940b3[_0x190f6b[_0x97add6(0xc6)]][_0x10b7d5],'price':_0x190f6b[_0x97add6(0xc6)]==config[_0x97add6(0x105)]?0x1:_0x5d7173[_0x190f6b['coin']][_0x3bc915]});}),_0x504076={'date':_0x10b7d5,'eur':_0x5d7173[stablecoins['eur']['coin']][_0x3bc915],'usd':_0x5d7173[stablecoins['usd'][_0xa38a50(0xc6)]][_0x3bc915],'coins':_0x2b070c}),dbPerformance[_0xa38a50(0x178)](_0xa38a50(0x14e))[_0xa38a50(0x159)](_0x504076)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x47fc5b of _0x24f94a){_0x47fc5b[_0xcb26c9(0xc6)]!=config[_0xcb26c9(0x105)]&&await updateCoinResults(_0x47fc5b);}logHistory(_0xcb26c9(0x139),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x34d002){await handleError(_0x34d002,_0xcb26c9(0xcf));}}async function getCloses(_0x5a956e,_0xd9f74,_0x36bea0=undefined){const _0x3f9ead=_0x27d600,_0x2ee8d0='1d';let _0xf9ddc,_0x4dc513;const _0x24b3ab=fns[_0x3f9ead(0xfa)](new Date(),_0xd9f74)+0x1;try{const _0x4c00a4=exchange[_0x3f9ead(0x165)]()-_0x24b3ab*0x18*0xe10*0x3e8;_0xf9ddc=await exchange[_0x3f9ead(0xc2)](_0x5a956e,_0x2ee8d0,_0x4c00a4,_0x36bea0),_0x4dc513=await exchange[_0x3f9ead(0x1b5)](_0x5a956e);}catch(_0x3a3692){await handleError(_0x3a3692,_0x3f9ead(0x193));}let _0x3cdfbc=ohlcvToCloses(_0xf9ddc);return _0x3cdfbc['push'](_0x4dc513[_0x5a956e][_0x3f9ead(0x147)]),_0x3cdfbc;}function ohlcvToCloses(_0xb6d54e){const _0x5e7265=_0x27d600;let _0x41dc17=[];return _0xb6d54e[_0x5e7265(0x1da)](function(_0xa0290c){const _0x2395ba=_0x5e7265;_0x41dc17[_0x2395ba(0x159)](_0xa0290c[0x4]);}),_0x41dc17;}function oneTimeMigration(){const _0x1fe2ff=_0x27d600;let _0x38b0c8=dbLogs[_0x1fe2ff(0x178)](_0x1fe2ff(0x156))['value']();if(_0x38b0c8!='2.3.5'){dbLogs['set'](_0x1fe2ff(0x156),_0x1fe2ff(0x197))[_0x1fe2ff(0x1c0)]();let _0x13ed88=[];const _0xe60661=dbLogs[_0x1fe2ff(0x178)](_0x1fe2ff(0x1df))[_0x1fe2ff(0x1a5)]();_0xe60661[_0x1fe2ff(0x1da)](_0x484ae3=>{const _0x3d0cb3=_0x1fe2ff;_0x13ed88['push']({'time':_0x484ae3[_0x3d0cb3(0x1a0)],'type':_0x484ae3[_0x3d0cb3(0x19b)],'event':_0x484ae3[_0x3d0cb3(0x1aa)]});}),dbLogs[_0x1fe2ff(0x178)](_0x1fe2ff(0x1df))['assign'](_0x13ed88)[_0x1fe2ff(0x1c0)]();}let _0x42c5b7=dbConfig[_0x1fe2ff(0x178)]('version')['value']();if(_0x42c5b7!='2.3.5'){dbConfig[_0x1fe2ff(0x189)](_0x1fe2ff(0x156),_0x1fe2ff(0x197))[_0x1fe2ff(0x1c0)]();let _0x3a6fa5=dbConfig[_0x1fe2ff(0x178)]('bot')[_0x1fe2ff(0x14f)]({'botID':botID})['value']();if(_0x3a6fa5){let _0x53568a=[];_0x3a6fa5[_0x1fe2ff(0x101)]['forEach'](_0x3f03f0=>{const _0x5e1c30=_0x1fe2ff;_0x53568a['push']({'coin':_0x3f03f0[_0x5e1c30(0xc6)],'number':_0x3f03f0['startnumber'],'price':_0x3f03f0[_0x5e1c30(0xc9)]}),delete _0x3f03f0[_0x5e1c30(0x11d)],delete _0x3f03f0['startprice'];});if(_0x53568a[_0x1fe2ff(0x17b)]!==0x0)fs['writeFile'](configbackuppath+(_0x1fe2ff(0x1a6)+botID+_0x1fe2ff(0x109)),JSON[_0x1fe2ff(0xf4)](_0x53568a,null,0x4),function(_0x2d362f){if(_0x2d362f){}});const _0x2bac04=(_0x1fd64d,_0x170724)=>{const _0x382745=_0x1fe2ff;let _0x23a8c5=[];_0x170724[_0x382745(0x1da)](_0x14f623=>{const _0x20cefb=_0x382745,_0x6c4bfa=_0x1fd64d[_0x20cefb(0x14f)](_0x4c2470=>_0x4c2470[_0x20cefb(0xc6)]==_0x14f623[_0x20cefb(0xc6)]);if(!_0x6c4bfa)_0x23a8c5[_0x20cefb(0x159)](_0x14f623);});let _0x2176a7=[];return _0x1fd64d['forEach'](_0x10fe61=>{const _0x3062d9=_0x382745,_0x431222=_0x170724[_0x3062d9(0x14f)](_0x276662=>_0x276662[_0x3062d9(0xc6)]==_0x10fe61[_0x3062d9(0xc6)]);if(!_0x431222||_0x431222['number']==0x0&&_0x10fe61[_0x3062d9(0x10c)]!=0x0)_0x2176a7[_0x3062d9(0x159)](_0x10fe61);}),{'missingDay1':_0x23a8c5,'notInDay2':_0x2176a7};},_0xdf815=dbPerformance[_0x1fe2ff(0x178)](_0x1fe2ff(0x14e))[_0x1fe2ff(0x10e)]()[_0x1fe2ff(0x1a5)]();if(_0xdf815['length']>0x1){const {missingDay1:_0x3bd6a2,notInDay2:_0x402a99}=_0x2bac04(_0x53568a,_0xdf815[0x1][_0x1fe2ff(0x11c)]);_0x53568a=[..._0x53568a,..._0x3bd6a2],_0x402a99[_0x1fe2ff(0x1da)](_0xd7165b=>{const _0x402063=_0x1fe2ff;let _0x1d670e=_0x53568a[_0x402063(0x1a8)](_0x151714=>_0x151714[_0x402063(0xc6)]==_0xd7165b[_0x402063(0xc6)]);_0x1d670e!=-0x1&&_0x53568a[_0x402063(0x166)](_0x1d670e,0x1);});}_0x53568a[_0x1fe2ff(0x137)]((_0x414914,_0x17f9f3)=>_0x414914['coin']>_0x17f9f3[_0x1fe2ff(0xc6)]?0x1:_0x17f9f3[_0x1fe2ff(0xc6)]>_0x414914[_0x1fe2ff(0xc6)]?-0x1:0x0);let _0x128b55=[{'date':_0x3a6fa5[_0x1fe2ff(0x1c9)],'changes':_0x53568a}];_0xdf815[_0x1fe2ff(0x17b)]>0x2&&_0xdf815[_0x1fe2ff(0x1da)]((_0xce2d74,_0x2f98af)=>{const _0x510c80=_0x1fe2ff;if(_0x2f98af>0x0&&_0x2f98af<_0xdf815[_0x510c80(0x17b)]-0x1){const {missingDay1:_0x22af8e,notInDay2:_0x15e153}=_0x2bac04(_0xdf815[_0x2f98af][_0x510c80(0x11c)],_0xdf815[_0x2f98af+0x1][_0x510c80(0x11c)]);_0x53568a=[],(_0x22af8e[_0x510c80(0x17b)]!=0x0||_0x15e153[_0x510c80(0x17b)]!=0x0)&&(_0x22af8e[_0x510c80(0x17b)]!=0x0&&_0x53568a['push'](..._0x22af8e),_0x15e153['length']!=0x0&&(_0x15e153[_0x510c80(0x1da)](_0x115c0c=>{const _0x2470f2=_0x510c80;_0x115c0c[_0x2470f2(0x10c)]=-_0x115c0c[_0x2470f2(0x10c)];}),_0x53568a[_0x510c80(0x159)](..._0x15e153)),_0x53568a[_0x510c80(0x137)]((_0x189037,_0x5738ac)=>_0x189037[_0x510c80(0xc6)]>_0x5738ac[_0x510c80(0xc6)]?0x1:_0x5738ac['coin']>_0x189037[_0x510c80(0xc6)]?-0x1:0x0),_0x128b55['push']({'date':_0xdf815[_0x2f98af+0x1][_0x510c80(0x16f)],'changes':_0x53568a}));}}),dbConfig[_0x1fe2ff(0x178)](_0x1fe2ff(0x14a))['find']({'botID':botID})[_0x1fe2ff(0x151)]({..._0x3a6fa5,'liquidity':_0x128b55})[_0x1fe2ff(0x1c0)]();}}config=getConfiguration(botID);let _0xf13cfc=dbPerformance[_0x1fe2ff(0x178)]('version')[_0x1fe2ff(0x1a5)]();_0xf13cfc!=_0x1fe2ff(0x197)&&(dbPerformance[_0x1fe2ff(0x189)]('version',_0x1fe2ff(0x197))[_0x1fe2ff(0x1c0)](),setStartDatePerformance());let _0x51f7af=dbCoinResults[_0x1fe2ff(0x178)]('version')[_0x1fe2ff(0x1a5)]();_0x51f7af!=_0x1fe2ff(0x197)&&dbCoinResults['set']('version',_0x1fe2ff(0x197))['write']();}function getConfiguration(_0x3b2e66){const _0x2832b0=_0x27d600;let _0x372eaa=dbConfig[_0x2832b0(0x178)](_0x2832b0(0x14a))[_0x2832b0(0x14f)]({'botID':_0x3b2e66})[_0x2832b0(0x1a5)]();if(_0x372eaa){}else _0x372eaa={'botID':_0x3b2e66,'exchange':_0x2832b0(0x175),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x2832b0(0x1af)+_0x3b2e66,'showname':![],'threshold':'3','ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2832b0(0x1a2)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x372eaa;}function emittedConfiguration(){const _0x46d091=_0x27d600;let _0x3cf729;return config[_0x46d091(0xcb)]==''?_0x3cf729=config:_0x3cf729={...config,'apiKey':'************','apiSecret':_0x46d091(0x1bd)},_0x3cf729;}function getSettings(){const _0x54ae85=_0x27d600;return dbSettings[_0x54ae85(0x178)](_0x54ae85(0x17f))['value']();}function getSecure(){const _0x3cdc30=_0x27d600;return dbSecure[_0x3cdc30(0x178)](_0x3cdc30(0xd8))[_0x3cdc30(0x1a5)]()||{};}function updateTimeshift(_0x9c108b){const _0x409ebd=_0x27d600;let _0x3b0814=dbConfig['get'](_0x409ebd(0x14a))[_0x409ebd(0x14f)]({'botID':botID})[_0x409ebd(0x1a5)]();_0x3b0814&&dbConfig['get']('bot')[_0x409ebd(0x14f)]({'botID':botID})['assign']({'timeshift':_0x9c108b})['write'](),config[_0x409ebd(0x1a2)]=_0x9c108b,proxyEmit(_0x409ebd(0x15f),emittedConfiguration());}async function storeConfiguration(_0xe328b6){const _0x13a9ce=_0x27d600;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0xa29029=dbConfig[_0x13a9ce(0x178)](_0x13a9ce(0x14a))[_0x13a9ce(0x14f)]({'botID':botID})[_0x13a9ce(0x1a5)]();_0xe328b6={..._0xe328b6,'apiKey':crypt[_0x13a9ce(0x100)](secure[_0x13a9ce(0xf0)],_0xe328b6[_0x13a9ce(0xcb)])[_0x13a9ce(0x125)],'apiSecret':crypt[_0x13a9ce(0x100)](secure[_0x13a9ce(0xf0)],_0xe328b6[_0x13a9ce(0x155)])[_0x13a9ce(0x125)]};if(_0xa29029){if(_0xe328b6['apiKey']==_0x13a9ce(0x1bd))_0xe328b6[_0x13a9ce(0xcb)]=config[_0x13a9ce(0xcb)];if(_0xe328b6[_0x13a9ce(0x155)]=='************')_0xe328b6[_0x13a9ce(0x155)]=config[_0x13a9ce(0x155)];dbConfig[_0x13a9ce(0x178)]('bot')['find']({'botID':botID})[_0x13a9ce(0x151)](_0xe328b6)[_0x13a9ce(0x1c0)]();}else dbConfig[_0x13a9ce(0x178)](_0x13a9ce(0x14a))[_0x13a9ce(0x159)](_0xe328b6)[_0x13a9ce(0x1c0)](),process['send']({'status':_0x13a9ce(0x148),'live':'running'},_0x2d9508=>{});config={..._0xe328b6},setStartDatePerformance(),process[_0x13a9ce(0x169)]({'botname':_0xe328b6[_0x13a9ce(0x120)]},_0x1d89e6=>{});const _0x46481c=getNormalizedPerformance();getStartingBalances(_0x46481c),emitPerformance(_0x46481c),proxyEmit(_0x13a9ce(0x18d)),reset();}async function storeHeadless(_0x3ac7dd){const _0x377d19=_0x27d600,_0x4ec507={...config,'headless':_0x3ac7dd[_0x377d19(0x122)]};let _0x23f7f6=dbConfig[_0x377d19(0x178)](_0x377d19(0x14a))['find']({'botID':botID})[_0x377d19(0x1a5)]();_0x23f7f6&&dbConfig['get']('bot')[_0x377d19(0x14f)]({'botID':botID})[_0x377d19(0x151)](_0x4ec507)[_0x377d19(0x1c0)](),config={..._0x4ec507},proxyEmit('configuration',emittedConfiguration());}function noslash(_0x382eb8){return _0x382eb8['replace']('/','');}function updateNumberCoins(_0x4164d4){const _0xb47517=_0x27d600;_0x4164d4[_0xb47517(0x18b)]&&_0x4164d4[_0xb47517(0x18b)]==_0xb47517(0x1a9)&&_0x4164d4['balances']['forEach'](_0x55f5f4=>{const _0x5c1e3f=_0xb47517;let _0x667d3a=currentCoins[_0x5c1e3f(0x14f)](_0x192abb=>_0x192abb[_0x5c1e3f(0xc6)]==_0x55f5f4[_0x5c1e3f(0x18f)]),_0x906831=config[_0x5c1e3f(0x101)]['find'](_0x1d16af=>_0x1d16af[_0x5c1e3f(0xc6)]==_0x55f5f4[_0x5c1e3f(0x18f)]);if(_0x667d3a&&_0x906831)_0x667d3a[_0x5c1e3f(0x10c)]=Math[_0x5c1e3f(0x132)](Number(_0x55f5f4['availableBalance'])+(_0x906831['offset']||0x0),0x0);});if(_0x4164d4[_0xb47517(0x18b)]&&_0x4164d4[_0xb47517(0x18b)]==_0xb47517(0x1e0)){if(_0x4164d4[_0xb47517(0x138)]==_0xb47517(0x111)&&_0x4164d4[_0xb47517(0x1d6)]=='FILLED'){if(lastOrders)lastOrders[_0xb47517(0x1da)](_0x41c907=>{const _0xc40c7f=_0xb47517;if(_0x41c907[_0xc40c7f(0x16a)]==_0x4164d4[_0xc40c7f(0x16a)]){if(_0x41c907[_0xc40c7f(0x152)])_0x41c907[_0xc40c7f(0xe9)]=_0x4164d4[_0xc40c7f(0xd5)]*_0x41c907[_0xc40c7f(0x1b9)];else _0x41c907[_0xc40c7f(0xe9)]=_0x4164d4['accumulatedQuantity'];}});}}}async function getCoins(_0x173ae3=!![],_0x2e5f22=config[_0x27d600(0x105)]){const _0x25bfd7=_0x27d600;let _0x356374,_0x21b404=[],_0x14f6c1=[],_0x55bc93=[];try{_0x356374=await exchange['fetchBalance'](),mybalances=_0x356374['total'];if(!_0x173ae3)for(const [_0x15309e,_0x35ac74]of Object[_0x25bfd7(0x188)](mybalances)){_0x55bc93['push'](_0x15309e);}else config[_0x25bfd7(0x101)][_0x25bfd7(0x1da)](_0x569b82=>{const _0x14dbe9=_0x25bfd7;if(!_0x569b82[_0x14dbe9(0x199)])_0x55bc93[_0x14dbe9(0x159)](_0x569b82[_0x14dbe9(0xc6)]);});if(_0x2e5f22=='')for(const [_0x45e69d,_0x2ba3ca]of Object[_0x25bfd7(0x188)](mybalances)){_0x2ba3ca[_0x25bfd7(0x1d1)]()!=0x0&&_0x14f6c1[_0x25bfd7(0x159)]({'coin':_0x45e69d});}else for(const [_0x41f53a,_0x3f518d]of Object[_0x25bfd7(0x188)](mybalances)){if(_0x55bc93[_0x25bfd7(0xf3)](_0x41f53a)){const _0x4742bd=config['portfolio'][_0x25bfd7(0x14f)](_0x167821=>_0x167821[_0x25bfd7(0xc6)]==_0x41f53a);if((_0x3f518d['toString']()!=0x0||_0x4742bd)&&(allSymbols[_0x25bfd7(0xf3)](_0x41f53a+'/'+_0x2e5f22)||_0x41f53a==_0x2e5f22))_0x14f6c1[_0x25bfd7(0x159)]({'coin':_0x41f53a,'symbol':_0x41f53a+'/'+_0x2e5f22,'reverse':![],'number':Math['max'](_0x3f518d+(_0x4742bd&&_0x4742bd['offset']||0x0),0x0)}),_0x41f53a!=_0x2e5f22&&_0x21b404['push'](_0x41f53a+'/'+_0x2e5f22);else(_0x3f518d[_0x25bfd7(0x1d1)]()!=0x0||_0x4742bd)&&allSymbols[_0x25bfd7(0xf3)](_0x2e5f22+'/'+_0x41f53a)&&(_0x14f6c1[_0x25bfd7(0x159)]({'coin':_0x41f53a,'symbol':_0x2e5f22+'/'+_0x41f53a,'reverse':!![],'number':Math['max'](_0x3f518d+(_0x4742bd&&_0x4742bd[_0x25bfd7(0x130)]||0x0),0x0)}),_0x41f53a!=_0x2e5f22&&_0x21b404[_0x25bfd7(0x159)](_0x2e5f22+'/'+_0x41f53a));}}}catch(_0x90abc1){if(!_0x173ae3){if(_0x90abc1[_0x25bfd7(0x1d1)]()[_0x25bfd7(0xf3)](_0x25bfd7(0xc3)))return logHistory(_0x25bfd7(0x17c),_0x25bfd7(0x117)),![];else{if(_0x90abc1[_0x25bfd7(0x1d1)]()[_0x25bfd7(0xf3)](_0x25bfd7(0x160)))return logHistory('error','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x90abc1[_0x25bfd7(0x1d1)]()[_0x25bfd7(0xf3)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x25bfd7(0x17c),_0x25bfd7(0x1c6)),![];else await handleError(_0x90abc1,_0x25bfd7(0x194));}}}else await handleError(_0x90abc1,_0x25bfd7(0x194));}return _0x14f6c1;}async function getPortfolio(_0x208461){const _0x219ab2=_0x27d600;let _0x354ddf=[],_0x579f01=[],_0x42af9,_0x46008a=[],_0x3bf993,_0x574c42;_0x208461['apiKey']==='************'||_0x208461['apiSecret']===_0x219ab2(0x1bd)?(_0x3bf993=config[_0x219ab2(0xcb)],_0x574c42=config[_0x219ab2(0x155)]):(_0x3bf993=_0x208461[_0x219ab2(0xcb)],_0x574c42=_0x208461['apiSecret']);await initExchange(_0x3bf993,_0x574c42);let _0x833bf8=await loadSymbols();if(_0x833bf8){_0x46008a=await getCoins(![],_0x208461['basecoin']);if(_0x46008a===![])proxyEmit(_0x219ab2(0x101),![]);else{if(_0x208461[_0x219ab2(0x105)]=='')proxyEmit(_0x219ab2(0x101),_0x46008a);else{_0x46008a[_0x219ab2(0x1da)](_0x16b85c=>{const _0x307782=_0x219ab2;_0x354ddf['push'](_0x16b85c[_0x307782(0x186)]);});try{_0x579f01=await exchange[_0x219ab2(0x1b5)](_0x354ddf);}catch(_0x5df279){await handleError(_0x5df279,_0x219ab2(0x1c4));}_0x46008a['forEach'](_0x1a8b1d=>{const _0x724f06=_0x219ab2;_0x1a8b1d[_0x724f06(0xc6)]!=_0x208461[_0x724f06(0x105)]?_0x42af9=_0x1a8b1d[_0x724f06(0x152)]?0x1/_0x579f01[_0x1a8b1d[_0x724f06(0x186)]][_0x724f06(0x147)]:_0x579f01[_0x1a8b1d['symbol']][_0x724f06(0x147)]:_0x42af9=0x1,_0x1a8b1d[_0x724f06(0x1b9)]=formatResult(_0x42af9,0x8);}),proxyEmit('portfolio',_0x46008a);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x578231){const _0x32fd8c=_0x27d600;let _0x4a806b=!![];const _0x5a702c=!_0x578231[_0x32fd8c(0x152)]?markets[_0x578231[_0x32fd8c(0x186)]][_0x32fd8c(0x1c3)][_0x32fd8c(0x118)][_0x32fd8c(0xc1)]:markets[_0x578231[_0x32fd8c(0x186)]][_0x32fd8c(0x1c3)][_0x32fd8c(0x17d)][_0x32fd8c(0xc1)],_0x28360b=!_0x578231[_0x32fd8c(0x152)]?markets[_0x578231[_0x32fd8c(0x186)]]['limits'][_0x32fd8c(0x17d)][_0x32fd8c(0xc1)]:markets[_0x578231[_0x32fd8c(0x186)]][_0x32fd8c(0x1c3)][_0x32fd8c(0x118)][_0x32fd8c(0xc1)];if(Math[_0x32fd8c(0x163)](_0x578231[_0x32fd8c(0x108)])<_0x5a702c)_0x4a806b=![];if(Math['abs'](_0x578231[_0x32fd8c(0x108)])*_0x578231[_0x32fd8c(0x147)]<_0x28360b)_0x4a806b=![];if(_0x578231[_0x32fd8c(0x136)]==_0x32fd8c(0x1cb)){let _0x3d9057=config[_0x32fd8c(0x101)][_0x32fd8c(0x14f)](_0x4c508b=>_0x4c508b[_0x32fd8c(0xc6)]==_0x578231[_0x32fd8c(0xc6)]);if(Math['abs'](_0x578231[_0x32fd8c(0x108)])>_0x578231[_0x32fd8c(0x10c)]-_0x3d9057['offset'])_0x4a806b=![];}return _0x4a806b;}async function getBalances(){const _0x2b753b=_0x27d600;let _0x438e7b=0x0,_0x513210;const _0x3f01a2=config['threshold'];currentCoins['forEach'](_0x298a42=>{const _0x1e140d=_0x2dc8;if(_0x298a42[_0x1e140d(0xc6)]!=config[_0x1e140d(0x105)]){let _0x4e7d58=global['ticker'][noslash(_0x298a42[_0x1e140d(0x186)])];_0x513210=_0x298a42['reverse']?0x1/_0x4e7d58:_0x4e7d58;}else _0x513210=0x1;let _0x5a5a92=_0x298a42['number']*_0x513210;_0x438e7b+=_0x5a5a92,_0x298a42[_0x1e140d(0x147)]=formatResult(Number(_0x513210),0x8),_0x298a42[_0x1e140d(0x1a5)]=_0x5a5a92;}),currentCoins[_0x2b753b(0x1da)](_0x30660b=>{const _0x16d69b=_0x2b753b;let _0x2e56cf=config[_0x16d69b(0x101)][_0x16d69b(0x14f)](_0x35450f=>_0x35450f[_0x16d69b(0xc6)]==_0x30660b[_0x16d69b(0xc6)]),_0x2ea237=Number(_0x2e56cf[_0x16d69b(0x15e)]),_0x4ba78e=_0x30660b['value']/_0x438e7b*0x64,_0x421ad2=_0x2ea237*_0x438e7b/0x64/_0x30660b[_0x16d69b(0x147)]-_0x30660b['number'];_0x30660b[_0x16d69b(0x15e)]=formatResult(_0x4ba78e,0x3),_0x30660b[_0x16d69b(0x18a)]=formatResult(_0x2ea237,0x3),_0x30660b[_0x16d69b(0x108)]=formatResult(_0x421ad2,0x8),_0x30660b[_0x16d69b(0x136)]='',_0x30660b[_0x16d69b(0xea)]='';if(_0x30660b[_0x16d69b(0xc6)]!=config[_0x16d69b(0x105)]){if(_0x30660b['distribution']>_0x2ea237)_0x30660b['side']=_0x16d69b(0x1cb),_0x30660b[_0x16d69b(0xea)]=checkMinimums(_0x30660b);else _0x30660b['distribution']<_0x2ea237&&(_0x30660b[_0x16d69b(0x136)]=_0x16d69b(0x1d5),_0x30660b['valid']=checkMinimums(_0x30660b));}_0x30660b[_0x16d69b(0x106)]=_0x30660b[_0x16d69b(0x15e)]/_0x30660b[_0x16d69b(0x18a)]-0x1;}),currentCoins['sort']((_0x20d8c4,_0x400bb8)=>_0x20d8c4[_0x2b753b(0x106)]<_0x400bb8[_0x2b753b(0x106)]?0x1:_0x400bb8[_0x2b753b(0x106)]<_0x20d8c4[_0x2b753b(0x106)]?-0x1:0x0);const _0x4b9845=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4b9845['eur'],'usd':_0x4b9845['usd'],'portfolio':JSON[_0x2b753b(0xf4)](currentCoins),'threshold':_0x3f01a2},proxyEmit(_0x2b753b(0x1a7),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2b753b(0x122)])headlessMode({'portfolio':currentCoins,'threshold':_0x3f01a2});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x3f01a2});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3a1b1c=_0x27d600;if(!lastBalances)return;let _0x2a79ea=[],_0x14bf69,_0x5c0ed8=JSON[_0x3a1b1c(0x124)](lastBalances[_0x3a1b1c(0x101)]);_0x5c0ed8[_0x3a1b1c(0x137)]((_0xfd72a0,_0x1b6782)=>_0xfd72a0[_0x3a1b1c(0xc6)]>_0x1b6782[_0x3a1b1c(0xc6)]?0x1:_0x1b6782[_0x3a1b1c(0xc6)]>_0xfd72a0[_0x3a1b1c(0xc6)]?-0x1:0x0),_0x5c0ed8[_0x3a1b1c(0x1da)](_0x1e2096=>{const _0x2aaa70=_0x3a1b1c;let _0x590042={'coin':_0x1e2096[_0x2aaa70(0xc6)],'number':_0x1e2096[_0x2aaa70(0x10c)],'price':_0x1e2096[_0x2aaa70(0x147)]};_0x2a79ea[_0x2aaa70(0x159)](_0x590042);});const _0x31b761=await getFiat();_0x14bf69={'date':lastBalances[_0x3a1b1c(0x1a0)]['split']('\x20')[0x0],'eur':_0x31b761[_0x3a1b1c(0xe1)],'usd':_0x31b761[_0x3a1b1c(0x107)],'coins':_0x2a79ea};let _0x1da763=dbPerformance['get'](_0x3a1b1c(0x14e))[_0x3a1b1c(0x14f)]({'date':_0x14bf69[_0x3a1b1c(0x16f)]})['value']();_0x1da763?_0x14bf69[_0x3a1b1c(0x16f)]!=config[_0x3a1b1c(0x1c9)]&&dbPerformance[_0x3a1b1c(0x178)](_0x3a1b1c(0x14e))[_0x3a1b1c(0x14f)]({'date':_0x14bf69[_0x3a1b1c(0x16f)]})[_0x3a1b1c(0x151)](_0x14bf69)['write']():dbPerformance[_0x3a1b1c(0x178)](_0x3a1b1c(0x14e))['push'](_0x14bf69)[_0x3a1b1c(0x1c0)](),lastPerformanceStored=getHour();}function _0x96c4(){const _0x5b6a6d=['datetime','\x20minutes\x20-\x20balancing\x20resumed','indexOf','cancelLoading','binance','closeWs','date-fns','get','currency','616567fBznBW','length','error','cost','./config/','settings','ticker','binanceus','close','\x20>\x20','USDC','differenceInSeconds','symbol','Order\x20amount\x20is\x20invalid:\x20','entries','set','target','eventType','format','configuration-stored','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','asset','search','defaults','round','getCloses()','getCoins()','Crypt','wsKey','2.3.5','-results.json','excluded','filter','type','spot','ccxt','sha256','cancelOrder','time','getHours','timeshift','limit-low','initclient','value','starting-balance-','balances','findIndex','outboundAccountPosition','event','timeout','\x20|\x20Unknown\x20error\x20occured','constructor','ExchangeNotAvailable','Bot\x20','lowdb','4XxHHzi','Limit\x20(low-margin)','-config.json','reduce','fetchTickers','Order(s)\x20filled\x20-\x20balancing\x20resumed','-events.json','getDate','price','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Pausing\x20bot\x20for\x205\x20minutes\x20(','getFullYear','************','WebSockets(','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','write','remove','getMonth','limits','getPortfolio()','test','Binance\x20API\x20secret\x20is\x20invalid','hybrid-crypto-js','map','startdate','Unfilled\x20order(s)\x20canceled\x20after\x20','sell','threshold','ordertype','starting-balances','fetchOrders','\x20orders\x20in\x20less\x20than\x20','toString','33126usUCIY','150518nqgROZ','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','buy','orderStatus','wss://stream.binance.com:9443','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','001','forEach','(((.+)+)+)+$','log','fee','buys','logs','executionReport','getStartingBalances','formattedMessage','min','fetchOHLCV','API-key\x20format\x20invalid','DAI/','loadSymbols()','coin','RequestTimeout','market','startprice','Order\x20filled:\x20','apiKey','getMinutes',':\x20Bot\x20','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','recreateHistory()','exit','keys','BUSD','yyyy-MM-dd\x27T\x27HH:mm:ss','event-history','accumulatedQuantity','coin-loading-progress','sortBy','secure','BTC/EUR','timestamp','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','bb-secure.json','sells','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','placeOrder','\x20|\x20Error\x20details:\x20','eur','addDays','performance','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','emitHistory','liquidity','has','isArray','filled','valid','cooldown','Executed\x20','USDT','subDays','fees','privateKey','createOrder','99542AzYXpj','includes','stringify','BNB','Invalid\x20quantity','replace','eachDayOfInterval','function','differenceInCalendarDays','24KPdgqO','327819BnhYAp','HOT/EUR','20VPvLZE','fromCodePoint','decrypt','portfolio','Order:\x20','progress','apply','basecoin','delta','usd','trade','.json','argv','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','number','1909710QtSycV','cloneDeep','deleteHistoryAlerts','kline','LIMIT','Error:\x20Invalid\x20argument\x20','cancel','reconnected','storeConfiguration','BTC','Binance\x20API\x20key\x20is\x20invalid','amount','kill','DDoSProtection','getFiat()','coins','startnumber','Order(s)\x20not\x20validated\x20after\x20','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','botname','page','headless','remainingSymbols','parse','message','limit','realized','emojibuy','storeHeadless','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','Order(s)\x20validated\x20-\x20balancing\x20resumed','EUR','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','RSA-OAEP','-performance.json','offset','Market','max','MIN_NOTIONAL','bot-','padStart','side','sort','orderType','success','breakeven','\x20order:\x20','limit-high','InvalidNonce','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','changes','lowdb/adapters/FileSync','existsSync','BTC/USDT','showname','./version.json','getTime','args','last','enabled','bb-settings.json','bot','coinamount','BTCUSDT','\x20-\x20','data','find','toLowerCase','assign','reverse','loadMarkets','restart','apiSecret','version','exchange','isEqual','push','initws()','order','userData','319059iySElt','distribution','configuration','AuthenticationError','shift','getSeconds','abs','BTC/BUSD','milliseconds','splice','BTCBUSD','BTCEUR','send','orderId','parseISO','11aUbTVv','emojisell','slice','date','yyyy/MM/dd'];_0x96c4=function(){return _0x5b6a6d;};return _0x96c4();}function getNormalizedPerformance(){const _0x3cc1ff=_0x27d600;let _0x12a894=[];if(dbPerformance[_0x3cc1ff(0xe7)]('data')[_0x3cc1ff(0x1a5)]()){let _0x17a6f3=dbPerformance[_0x3cc1ff(0x178)](_0x3cc1ff(0x14e))[_0x3cc1ff(0x10e)]()[_0x3cc1ff(0xd7)](_0x3cc1ff(0x16f))[_0x3cc1ff(0x1a5)](),_0x24d7d0=[...config['liquidity']];_0x24d7d0['sort']((_0x288003,_0x3d5a41)=>_0x288003[_0x3cc1ff(0x16f)]>_0x3d5a41[_0x3cc1ff(0x16f)]?-0x1:_0x3d5a41[_0x3cc1ff(0x16f)]>_0x288003[_0x3cc1ff(0x16f)]?0x1:0x0);let _0x38607d=0x1,_0x41ab18=[],_0x4ae0e3=0x0;_0x17a6f3['slice']()['reverse']()[_0x3cc1ff(0x1da)]((_0xffd3da,_0x23a712)=>{const _0x43fe39=_0x3cc1ff;if(_0x24d7d0[_0x4ae0e3]){const _0x55098f=fns[_0x43fe39(0x124)](_0x24d7d0[_0x4ae0e3][_0x43fe39(0x16f)],_0x43fe39(0x170),new Date()),_0x1b7d82=fns[_0x43fe39(0x124)](_0xffd3da[_0x43fe39(0x16f)],_0x43fe39(0x170),new Date());if(fns['isEqual'](_0x55098f,fns[_0x43fe39(0xe2)](_0x1b7d82,0x1))){if(_0x23a712<_0x17a6f3[_0x43fe39(0x17b)]){let _0x1caf50=0x0,_0x48b1b6=0x0;_0x17a6f3[_0x17a6f3[_0x43fe39(0x17b)]-_0x23a712-0x1][_0x43fe39(0x11c)]['forEach'](_0x1af9dd=>{const _0xa89bf3=_0x43fe39;_0x48b1b6+=_0x1af9dd['number']*_0x1af9dd[_0xa89bf3(0x1b9)];}),_0x24d7d0[_0x4ae0e3][_0x43fe39(0x13f)][_0x43fe39(0x1da)](_0x262069=>{const _0xb7578f=_0x43fe39;_0x1caf50+=_0x262069[_0xb7578f(0x10c)]*_0x262069[_0xb7578f(0x1b9)];}),_0x38607d*=_0x1caf50/_0x48b1b6+0x1;}_0x4ae0e3++;}}let _0x5ad322=0x0;_0xffd3da[_0x43fe39(0x11c)][_0x43fe39(0x1da)](_0x2aeac3=>{const _0x2ef0da=_0x43fe39;_0x5ad322+=_0x2aeac3[_0x2ef0da(0x10c)]*_0x2aeac3[_0x2ef0da(0x1b9)];}),_0x41ab18[_0x17a6f3[_0x43fe39(0x17b)]-_0x23a712-0x1]=_0x5ad322*(_0x38607d-0x1);});let _0x1dc9d4=[];_0x24d7d0=[...config[_0x3cc1ff(0xe6)]]||[];let _0x2dcf39=0x0;_0x4ae0e3=0x0,_0x17a6f3[_0x3cc1ff(0x1da)]((_0x339f06,_0x3b7dd6)=>{const _0x5570a5=_0x3cc1ff;if(_0x24d7d0[_0x4ae0e3]){const _0x529bca=fns['parse'](_0x24d7d0[_0x4ae0e3][_0x5570a5(0x16f)],_0x5570a5(0x170),new Date()),_0x5e5d49=fns['parse'](_0x339f06['date'],_0x5570a5(0x170),new Date()),_0x43b0fa=fns['format'](fns[_0x5570a5(0xee)](_0x5e5d49,0x1),_0x5570a5(0x170));if(fns[_0x5570a5(0x158)](_0x529bca,_0x5e5d49)){let _0x205649=0x0;_0x24d7d0[_0x4ae0e3][_0x5570a5(0x13f)][_0x5570a5(0x1da)](_0x1935bb=>{const _0x3ac230=_0x5570a5;!_0x1dc9d4[_0x1935bb[_0x3ac230(0xc6)]]?_0x1dc9d4[_0x1935bb[_0x3ac230(0xc6)]]=_0x1935bb['number']:(_0x205649=_0x1dc9d4[_0x1935bb[_0x3ac230(0xc6)]],_0x1dc9d4[_0x1935bb[_0x3ac230(0xc6)]]+=_0x1935bb['number']);const _0x379cc8=_0x339f06[_0x3ac230(0x11c)]['find'](_0x4dea95=>_0x4dea95['coin']==_0x1935bb[_0x3ac230(0xc6)]);(!_0x379cc8||_0x379cc8['number']==0x0)&&(_0x2dcf39+=(-_0x1935bb[_0x3ac230(0x10c)]-_0x205649)*_0x1935bb[_0x3ac230(0x1b9)]);}),_0x4ae0e3++;}}_0x339f06['coins']['forEach']((_0x24a770,_0x38f8fb)=>{const _0x3ecb10=_0x5570a5;_0x1dc9d4[_0x24a770['coin']]&&(_0x24a770={..._0x24a770,'initial':_0x1dc9d4[_0x24a770[_0x3ecb10(0xc6)]]}),_0x339f06['coins'][_0x38f8fb]=_0x24a770;}),_0x12a894[_0x5570a5(0x159)]({'date':_0x339f06[_0x5570a5(0x16f)],'eur':_0x339f06[_0x5570a5(0xe1)],'usd':_0x339f06[_0x5570a5(0x107)],'offset':_0x41ab18[_0x3b7dd6],'netoffset':_0x2dcf39,'coins':_0x339f06[_0x5570a5(0x11c)]});});}return _0x12a894;}function emitPerformance(_0x44e5cf){const _0xa7c0d=_0x27d600;_0x44e5cf[_0xa7c0d(0x17b)]!==0x0?(proxyEmit('performance',_0x44e5cf),lastPerformanceEmitted=getDate()):proxyEmit(_0xa7c0d(0xe3),[]);}function getPerf(_0x4133c4,_0x5094d4){const _0x3b3f42=_0x27d600;let _0x269020=0x0,_0x53e945=0x0,_0x1b052b=0x0;_0x4133c4[_0x3b3f42(0x11c)][_0x3b3f42(0x1da)](_0x1bed9c=>{const _0x592c12=_0x3b3f42;_0x269020+=_0x1bed9c[_0x592c12(0x10c)]*_0x1bed9c['price'];});_0x5094d4&&(_0x269020+=_0x4133c4[_0x3b3f42(0x130)]);if(config[_0x3b3f42(0x105)]===_0x3b3f42(0x116))_0x53e945=_0x269020*_0x4133c4[_0x3b3f42(0xe1)],_0x1b052b=_0x269020*_0x4133c4[_0x3b3f42(0x107)];else{if(config[_0x3b3f42(0x105)]===_0x3b3f42(0xd2)||config[_0x3b3f42(0x105)]===_0x3b3f42(0xed)||config[_0x3b3f42(0x105)]===_0x3b3f42(0x184))_0x53e945=_0x269020*_0x4133c4[_0x3b3f42(0xe1)]/_0x4133c4['usd'],_0x1b052b=_0x269020;else config['basecoin']===_0x3b3f42(0x12c)&&(_0x53e945=_0x269020,_0x1b052b=_0x269020*_0x4133c4['usd']/_0x4133c4[_0x3b3f42(0xe1)]);}return[_0x269020,_0x53e945,_0x1b052b];}async function getStartingBalances(_0x4fda0b,_0x5e9a6e=!![]){const _0x54cb24=_0x27d600;if(_0x4fda0b[_0x54cb24(0x17b)]!==0x0){const [_0x2e116e,_0x3572ee,_0x507d66]=getPerf(_0x4fda0b[0x0],!![]);let _0xa5182c=[];config[_0x54cb24(0x101)][_0x54cb24(0x1da)](_0x5b21c3=>{const _0xb2464d=_0x54cb24;let _0x3b0d02=0x0;config[_0xb2464d(0xe6)][_0xb2464d(0x1da)](_0x4a2204=>{const _0x337f1d=_0xb2464d;let _0x2034af=_0x4a2204[_0x337f1d(0x13f)][_0x337f1d(0x14f)](_0x25c4ac=>_0x25c4ac[_0x337f1d(0xc6)]==_0x5b21c3[_0x337f1d(0xc6)]);if(_0x2034af)_0x3b0d02+=_0x2034af['number'];}),_0xa5182c[_0xb2464d(0x159)]({'coin':_0x5b21c3[_0xb2464d(0xc6)],'number':_0x3b0d02,'price':_0x5b21c3['price']});});const _0x56a66d={'basecoin':_0x2e116e,'eur':_0x3572ee,'usd':_0x507d66,'coins':_0xa5182c};if(_0x5e9a6e)proxyEmit(_0x54cb24(0x1ce),_0x56a66d);return _0x56a66d;}}function headlessMode(_0x332da8){const _0x3f11f5=_0x27d600;let _0x304a69=_0x332da8[_0x3f11f5(0x101)],_0x48eb43=_0x332da8['threshold'],_0x3541aa=[];for(let _0x427b13 of _0x304a69){if(_0x427b13[_0x3f11f5(0xc6)]!=config[_0x3f11f5(0x105)]){if(_0x427b13[_0x3f11f5(0x15e)]/_0x427b13[_0x3f11f5(0x18a)]-0x1>=_0x48eb43/0x64){if(_0x427b13[_0x3f11f5(0xea)])_0x3541aa[_0x3f11f5(0x159)](_0x427b13);}else{if(_0x427b13[_0x3f11f5(0x15e)]/_0x427b13['target']-0x1<=-_0x48eb43/0x64){if(_0x427b13[_0x3f11f5(0xea)])_0x3541aa[_0x3f11f5(0x159)](_0x427b13);}}}}_0x3541aa['length']>0x0&&placeOrder(_0x3541aa);}function notifyBalance(_0x3cfe86){const _0x459809=_0x27d600;let _0x2231f0=_0x3cfe86['portfolio'],_0x48e3da=_0x3cfe86[_0x459809(0x1cc)],_0x2ebcee=[];for(let _0x29dce9 of _0x2231f0){if(_0x29dce9[_0x459809(0xc6)]!=config[_0x459809(0x105)]){if(_0x29dce9['distribution']/_0x29dce9[_0x459809(0x18a)]-0x1>=_0x48e3da/0x64){if(_0x29dce9[_0x459809(0xea)])_0x2ebcee[_0x459809(0x159)](_0x29dce9);}else{if(_0x29dce9[_0x459809(0x15e)]/_0x29dce9[_0x459809(0x18a)]-0x1<=-_0x48e3da/0x64){if(_0x29dce9[_0x459809(0xea)])_0x2ebcee[_0x459809(0x159)](_0x29dce9);}}}}if(_0x2ebcee[_0x459809(0x17b)]>0x0){let _0x156228=_0x2ebcee[_0x459809(0x1c8)](_0x149415=>_0x149415[_0x459809(0xc6)]);_0x156228[_0x459809(0x137)]();let _0x1d4072=_0x156228['join'](',\x20');if(lastCoinsToBalance!==_0x1d4072)logHistory(_0x459809(0x139),'Manual\x20balancing\x20required:\x20'+_0x1d4072);lastCoinsToBalance=_0x1d4072;}}function symbolToCoin(_0x36e9d8){const _0xf97b10=_0x27d600;let _0x447351;if(_0x36e9d8['includes']('/'+config[_0xf97b10(0x105)]))_0x447351=_0x36e9d8[_0xf97b10(0xf7)]('/'+config[_0xf97b10(0x105)],'');if(_0x36e9d8[_0xf97b10(0xf3)](config['basecoin']+'/'))_0x447351=_0x36e9d8[_0xf97b10(0xf7)](config[_0xf97b10(0x105)]+'/','');return _0x447351;}async function validateOrders(_0x5173f5=0x0){const _0x437a67=_0x27d600;let _0x155442=[],_0x2f4aec=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x437a67(0x1ab)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x437a67(0x1da)](_0x5103c2=>{const _0x96262b=_0x437a67;let _0x159900=previousCoins['find'](_0x5c054b=>_0x5c054b[_0x96262b(0xc6)]==symbolToCoin(_0x5103c2[_0x96262b(0x186)])),_0x19a70d=currentCoins[_0x96262b(0x14f)](_0x27a0ea=>_0x27a0ea[_0x96262b(0xc6)]==symbolToCoin(_0x5103c2[_0x96262b(0x186)])),_0x3e8eb7,_0xd59aee;_0x5103c2[_0x96262b(0x136)]=='buy'&&!_0x5103c2[_0x96262b(0x152)]||_0x5103c2[_0x96262b(0x136)]==_0x96262b(0x1cb)&&_0x5103c2[_0x96262b(0x152)]?(_0x3e8eb7=_0x159900[_0x96262b(0x10c)]+0.9*_0x5103c2[_0x96262b(0xe9)],_0xd59aee=_0x159900[_0x96262b(0x10c)]+1.1*_0x5103c2['filled']):(_0x3e8eb7=_0x159900[_0x96262b(0x10c)]-1.1*_0x5103c2[_0x96262b(0xe9)],_0xd59aee=_0x159900[_0x96262b(0x10c)]-0.9*_0x5103c2[_0x96262b(0xe9)]);const _0x1d32ea=_0x5103c2['filled']!=0x0&&_0x19a70d[_0x96262b(0x10c)]>=_0x3e8eb7&&_0x19a70d[_0x96262b(0x10c)]<=_0xd59aee;_0x155442[_0x96262b(0x159)](_0x1d32ea);if(_0x1d32ea&&config[_0x96262b(0x1cd)]!=_0x96262b(0xc8)){if(_0x5103c2[_0x96262b(0x152)])logHistory(_0x96262b(0x15b),'Order\x20filled:\x20'+_0x5103c2['symbol']+'\x20'+_0x5103c2['side']+'\x20#'+formatResult(_0x5103c2[_0x96262b(0xe9)]/_0x5103c2[_0x96262b(0x1b9)],0x8)+'\x20@'+formatResult(_0x5103c2[_0x96262b(0x1b9)],0x8));else logHistory(_0x96262b(0x15b),_0x96262b(0xca)+_0x5103c2['symbol']+'\x20'+_0x5103c2['side']+'\x20#'+formatResult(_0x5103c2[_0x96262b(0xe9)],0x8)+'\x20@'+formatResult(_0x5103c2['price'],0x8));}}),_0x155442['forEach']((_0x272192,_0x1553ad)=>{if(_0x272192)lastOrders['splice'](_0x1553ad,0x1);});if(_0x5173f5<_0x2f4aec&&_0x155442[_0x437a67(0xf3)](![])){if(_0x5173f5==0x0){config['ordertype']==_0x437a67(0xc8)?logHistory(_0x437a67(0x17c),_0x437a67(0x11f)):logHistory('error',_0x437a67(0x10b));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5173f5);},0xa*0x3e8);}else{(_0x5173f5==0x1||_0x5173f5==Math['round'](_0x2f4aec/0x2)||_0x5173f5==_0x2f4aec-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5173f5);},validateOrderInterval);}}else{lockOrders=![];if(_0x5173f5>0x0&&!_0x155442['includes'](![]))config[_0x437a67(0x1cd)]==_0x437a67(0xc8)?logHistory(_0x437a67(0x139),_0x437a67(0x12b)):logHistory(_0x437a67(0x139),_0x437a67(0x1b6));else _0x5173f5>0x0&&_0x155442['includes'](![])&&(config[_0x437a67(0x1cd)]==_0x437a67(0xc8)?logHistory(_0x437a67(0x139),_0x437a67(0x11e)+Math[_0x437a67(0x192)](_0x2f4aec*validateOrderInterval/0xea60)+_0x437a67(0x172)):(lastOrders[_0x437a67(0x1da)](async _0x4313b1=>{const _0x361c11=_0x437a67;try{const _0x25cf8a=await exchange[_0x361c11(0x19f)](_0x4313b1['orderId'],_0x4313b1['symbol']);}catch(_0x3a7ab8){if(_0x3a7ab8['toString']()[_0x361c11(0xf3)]('OrderNotFound')){}else await handleError(_0x3a7ab8,'cancelOrder()');}}),logHistory(_0x437a67(0x139),_0x437a67(0x1ca)+Math[_0x437a67(0x192)](_0x2f4aec*validateOrderInterval/0xea60)+_0x437a67(0x172))));}}async function resetCoinResults(){const _0x338a87=_0x27d600;dbCoinResults[_0x338a87(0x178)](_0x338a87(0x11c))[_0x338a87(0x1c1)]()[_0x338a87(0x1c0)]();let _0x3694ed=await getStartingBalances(getNormalizedPerformance(),![]);_0x3694ed[_0x338a87(0x11c)][_0x338a87(0x1da)](_0x256134=>{const _0x476b19=_0x338a87;if(_0x256134['coin']!=config[_0x476b19(0x105)]){let _0x332c8b={'coin':_0x256134['coin'],'number':_0x256134['number'],'breakeven':_0x256134[_0x476b19(0x1b9)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x476b19(0x178)](_0x476b19(0x11c))[_0x476b19(0x159)](_0x332c8b)[_0x476b19(0x1c0)]();}});}async function updateCoinResults(_0x5f0dfb){const _0x44e38a=_0x27d600;let _0x585555,_0x3a111c,_0x178447,_0x23ce0a,_0xb070fc,_0x21e04e,_0x4f7c59=dbCoinResults['get'](_0x44e38a(0x11c))[_0x44e38a(0x14f)]({'coin':_0x5f0dfb[_0x44e38a(0xc6)]})[_0x44e38a(0x1a5)]();if(!_0x4f7c59)return;if(_0x5f0dfb[_0x44e38a(0x1dd)]&&_0x5f0dfb['fee'][_0x44e38a(0x179)]==config[_0x44e38a(0x105)])_0x585555=_0x5f0dfb[_0x44e38a(0x1dd)]['cost'];else{if(_0x5f0dfb[_0x44e38a(0x1dd)]&&_0x5f0dfb[_0x44e38a(0x1dd)][_0x44e38a(0x179)]==_0x44e38a(0xf5))_0x585555=_0x5f0dfb['fee'][_0x44e38a(0x17d)]*global[_0x44e38a(0x180)][_0x44e38a(0xf5)+config[_0x44e38a(0x105)]];else _0x585555=0.001*_0x5f0dfb[_0x44e38a(0xe9)];}const _0x4333f7=_0x5f0dfb[_0x44e38a(0x186)][_0x44e38a(0xf3)](config[_0x44e38a(0x105)]+'/');_0x4333f7&&(_0x21e04e={'coin':_0x5f0dfb[_0x44e38a(0xc6)],'symbol':_0x5f0dfb[_0x44e38a(0x186)],'filled':_0x5f0dfb[_0x44e38a(0xe9)]*_0x5f0dfb[_0x44e38a(0x1b9)],'side':_0x5f0dfb['side']==_0x44e38a(0x1cb)?_0x44e38a(0x1d5):_0x44e38a(0x1cb),'price':0x1/_0x5f0dfb[_0x44e38a(0x1b9)]},_0x5f0dfb={..._0x21e04e});_0x5f0dfb[_0x44e38a(0x136)]==_0x44e38a(0x1d5)?_0x178447=(_0x4f7c59[_0x44e38a(0x13a)]*_0x4f7c59[_0x44e38a(0x10c)]+_0x5f0dfb[_0x44e38a(0x1b9)]*_0x5f0dfb[_0x44e38a(0xe9)])/(_0x4f7c59['number']+_0x5f0dfb[_0x44e38a(0xe9)]):_0x178447=(_0x4f7c59['breakeven']*_0x4f7c59['number']-_0x5f0dfb['price']*_0x5f0dfb[_0x44e38a(0xe9)])/(_0x4f7c59[_0x44e38a(0x10c)]-_0x5f0dfb[_0x44e38a(0xe9)]);_0x5f0dfb[_0x44e38a(0x136)]=='buy'?_0x23ce0a=_0x4f7c59[_0x44e38a(0x127)]:_0x23ce0a=_0x4f7c59[_0x44e38a(0x127)]+(_0x5f0dfb[_0x44e38a(0x1b9)]-_0x4f7c59['breakeven'])*_0x5f0dfb['filled'];_0x3a111c=_0x5f0dfb[_0x44e38a(0x136)]==_0x44e38a(0x1cb)?_0x4f7c59[_0x44e38a(0x10c)]-_0x5f0dfb['filled']:_0x4f7c59['number']+_0x5f0dfb[_0x44e38a(0xe9)],_0xb070fc=(_0x5f0dfb[_0x44e38a(0x1b9)]-_0x178447)*_0x3a111c;let _0x15d937={'coin':_0x5f0dfb['coin'],'number':_0x3a111c,'breakeven':formatResult(_0x178447,0x8),'realized':formatResult(_0x23ce0a,0x8),'unrealized':formatResult(_0xb070fc,0x8),'fees':formatResult(_0x4f7c59[_0x44e38a(0xef)]+_0x585555,0x8),'sells':_0x5f0dfb['side']==_0x44e38a(0x1cb)?_0x4f7c59[_0x44e38a(0xdd)]+0x1:_0x4f7c59[_0x44e38a(0xdd)],'buys':_0x5f0dfb[_0x44e38a(0x136)]=='buy'?_0x4f7c59[_0x44e38a(0x1de)]+0x1:_0x4f7c59['buys']};dbCoinResults[_0x44e38a(0x178)](_0x44e38a(0x11c))['find']({'coin':_0x5f0dfb[_0x44e38a(0xc6)]})[_0x44e38a(0x151)](_0x15d937)['write']();}async function placeOrder(_0x4171b7){const _0x147b9c=_0x27d600,_0x48f048=config[_0x147b9c(0x1cd)]==_0x147b9c(0xc8)?_0x147b9c(0xc8):_0x147b9c(0x126);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x147b9c(0x124)](JSON[_0x147b9c(0xf4)](currentCoins));for(const _0x57393e of _0x4171b7){let _0x25e766,_0x111a4d,_0x192657,_0x355ec0,_0x3ae2b7,_0x50c3fa=_0x57393e[_0x147b9c(0x186)];try{const _0x4aa951=await exchange['fetchTickers'](_0x50c3fa),_0x2901aa=_0x4aa951[_0x50c3fa];_0x25e766=_0x2901aa[_0x147b9c(0x147)],_0x111a4d=_0x2901aa['bid'],_0x192657=_0x2901aa['ask'];_0x57393e[_0x147b9c(0x152)]?(_0x355ec0=_0x57393e[_0x147b9c(0x136)]==_0x147b9c(0x1d5)?_0x147b9c(0x1cb):_0x147b9c(0x1d5),_0x3ae2b7=Math['abs'](_0x57393e[_0x147b9c(0x108)])/_0x25e766):(_0x355ec0=_0x57393e[_0x147b9c(0x136)],_0x3ae2b7=Math[_0x147b9c(0x163)](_0x57393e['trade']));_0x48f048==_0x147b9c(0x126)&&(config['ordertype']==_0x147b9c(0x13c)&&(_0x25e766=_0x355ec0=='buy'?_0x111a4d:_0x192657),config[_0x147b9c(0x1cd)]==_0x147b9c(0x1a3)&&(_0x25e766=_0x355ec0==_0x147b9c(0x1d5)?_0x192657:_0x111a4d));_0x3ae2b7=formatResult(_0x3ae2b7,0x8),_0x25e766=formatResult(_0x25e766,0x8);const _0x2582fd=await exchange[_0x147b9c(0xf1)](_0x50c3fa,_0x48f048,_0x355ec0,_0x3ae2b7,_0x25e766);lastOrders['push']({'orderId':_0x2582fd['id'],'symbol':_0x50c3fa,'side':_0x355ec0,'reverse':_0x57393e[_0x147b9c(0x152)],'amount':_0x57393e[_0x147b9c(0x152)]?_0x2582fd[_0x147b9c(0x118)]*_0x2582fd[_0x147b9c(0x1b9)]:_0x2582fd[_0x147b9c(0x118)],'filled':_0x57393e[_0x147b9c(0x152)]?_0x2582fd['filled']*_0x2582fd[_0x147b9c(0x1b9)]:_0x2582fd[_0x147b9c(0xe9)],'price':_0x2582fd[_0x147b9c(0x1b9)]});const _0x146512=_0x355ec0==_0x147b9c(0x1cb)?config[_0x147b9c(0x16d)]?String[_0x147b9c(0xff)]('0x'+config['emojisell'])+'\x20':'':config[_0x147b9c(0x128)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x1be24a=_0x48f048==_0x147b9c(0xc8)?_0x147b9c(0x131):config['ordertype']==_0x147b9c(0x13c)?'Limit\x20(high-margin)':_0x147b9c(0x1b2);if(_0x48f048==_0x147b9c(0xc8))logHistory('order',''+_0x146512+_0x1be24a+'\x20order:\x20'+_0x50c3fa+'\x20'+_0x355ec0+'\x20#'+formatResult(_0x2582fd[_0x147b9c(0xe9)],0x8)+'\x20@'+formatResult(_0x2582fd[_0x147b9c(0x1b9)],0x8));else logHistory(_0x147b9c(0x15b),''+_0x146512+_0x1be24a+_0x147b9c(0x13b)+_0x50c3fa+'\x20'+_0x355ec0+'\x20#'+formatResult(_0x2582fd[_0x147b9c(0x118)],0x8)+'\x20@'+formatResult(_0x2582fd[_0x147b9c(0x1b9)],0x8));_0x2582fd[_0x147b9c(0xc6)]=_0x57393e[_0x147b9c(0xc6)],await updateCoinResults(_0x2582fd);if(config['cooldown']!=0x0){let _0x48e504=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x48e504=cooldownTracker[_0x147b9c(0x161)]();const _0x2a951a=getTimeStamp();cooldownTracker[_0x147b9c(0x159)](_0x2a951a);if(_0x48e504){const _0x5f70cb=fns[_0x147b9c(0x185)](new Date(_0x2a951a),new Date(_0x48e504));_0x5f70cb<cooldownInterval&&(logHistory(_0x147b9c(0x17c),_0x147b9c(0xec)+config[_0x147b9c(0xeb)]+_0x147b9c(0x1d0)+cooldownInterval/0x3c+_0x147b9c(0x1ba)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0xf7144c){if(_0xf7144c[_0x147b9c(0x1d1)]()[_0x147b9c(0xf3)](_0x147b9c(0x133)))logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x50c3fa);else{if(_0xf7144c[_0x147b9c(0x1d1)]()[_0x147b9c(0xf3)](_0x147b9c(0xf6)))logHistory(_0x147b9c(0x17c),_0x147b9c(0x187)+_0x50c3fa);else await handleError(_0xf7144c,'placeOrder()');}}}if(lastOrders[_0x147b9c(0x17b)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x147b9c(0x122)]&&(config[_0x147b9c(0x1cd)]==_0x147b9c(0xc8)?logHistory(_0x147b9c(0x17c),_0x147b9c(0x18e)):logHistory(_0x147b9c(0x17c),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config[_0x147b9c(0x122)]&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'));}}function logHistory(_0x17a3e8,_0x37a256,_0x307070=''){const _0x561bb5=_0x27d600;let _0x83f113={'time':getTimeStamp(),'type':_0x17a3e8,'event':_0x37a256};dbLogs['get'](_0x561bb5(0x1df))['push'](_0x83f113)[_0x561bb5(0x1c0)]();if(_0x307070=='')_0x307070=_0x37a256;proxyEmit(_0x561bb5(0x1aa),{'log':_0x83f113,'summary':_0x307070}),process[_0x561bb5(0x169)]({'telegram':{..._0x83f113,'botname':config[_0x561bb5(0x120)],'showname':config[_0x561bb5(0x143)]}},_0x32ac25=>{}),logging(''+_0x83f113[_0x561bb5(0x1aa)]);}function emitHistory(_0x4d1181={}){const _0x4d2a2d=_0x27d600;Object[_0x4d2a2d(0xd1)](_0x4d1181)[_0x4d2a2d(0x17b)]==0x0&&(_0x4d1181={'type':[_0x4d2a2d(0x15b),'event'],'event':'','page':0x1});if(_0x4d1181['type'][_0x4d2a2d(0xf3)]('event'))_0x4d1181[_0x4d2a2d(0x19b)][_0x4d2a2d(0x166)](_0x4d1181[_0x4d2a2d(0x19b)][_0x4d2a2d(0x173)](_0x4d2a2d(0x1aa)),0x1,_0x4d2a2d(0x17c),_0x4d2a2d(0x139));if(dbLogs[_0x4d2a2d(0xe7)](_0x4d2a2d(0x1df))[_0x4d2a2d(0x1a5)]()){let _0x44d4c2=dbLogs[_0x4d2a2d(0x178)]('logs')['filter'](_0x7957ec=>{const _0x2a4610=_0x4d2a2d;if(_0x4d1181[_0x2a4610(0x19b)][_0x2a4610(0x17b)]==0x0)return![];else return _0x4d1181[_0x2a4610(0x19b)][_0x2a4610(0xf3)](_0x7957ec[_0x2a4610(0x19b)]);})['filter'](_0x4c6d8d=>{const _0x3e2e94=_0x4d2a2d;if(_0x4d1181[_0x3e2e94(0x1aa)]=='')return!![];else return _0x4c6d8d[_0x3e2e94(0x1aa)][_0x3e2e94(0x150)]()['includes'](_0x4d1181[_0x3e2e94(0x1aa)]['toLowerCase']());})[_0x4d2a2d(0xd7)](_0x4d2a2d(0x1a0)),_0xbcc5f1=_0x44d4c2[_0x4d2a2d(0x1a5)]()[_0x4d2a2d(0x17b)];_0x44d4c2=_0x44d4c2[_0x4d2a2d(0x152)]()[_0x4d2a2d(0x16e)]((_0x4d1181[_0x4d2a2d(0x121)]-0x1)*logPageSize,_0x4d1181[_0x4d2a2d(0x121)]*logPageSize-0x1)[_0x4d2a2d(0x152)]()[_0x4d2a2d(0x1a5)](),proxyEmit(_0x4d2a2d(0xd4),{'logs':_0x44d4c2,'total':_0xbcc5f1});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x424048){const _0x1f16df=_0x27d600;if(dbLogs['has'](_0x1f16df(0x1df))[_0x1f16df(0x1a5)]()){const _0x6883be=dbLogs[_0x1f16df(0x178)](_0x1f16df(0x1df))[_0x1f16df(0xd7)](_0x1f16df(0x1a0))[_0x1f16df(0x19a)](_0x2b3603=>{const _0x2bc19c=_0x1f16df;return _0x2b3603[_0x2bc19c(0x19b)]==_0x2bc19c(0x15b);})[_0x1f16df(0x1a5)]();dbLogs[_0x1f16df(0x178)](_0x1f16df(0x1df))['remove']()['write'](),dbLogs[_0x1f16df(0x178)]('logs')[_0x1f16df(0x151)](_0x6883be)['write'](),emitHistory(_0x424048);}}async function pauseBot(_0x4ccd98){const _0x3888d9=_0x27d600,_0x1387c9=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x3888d9(0x145)](),consecutivePauses=0x1;else{if(_0x1387c9-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['send']({'stop':_0x3888d9(0x154)},_0x1cc674=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x3888d9(0x17c),_0x3888d9(0x1bb)+consecutivePauses+')'),await sleep(_0x4ccd98),botPaused=![],reset();}}async function handleError(_0x35585f,_0x201781,_0x353c45=''){const _0xb2851c=_0x27d600;if(_0x35585f['toString']()[_0xb2851c(0xf3)](_0xb2851c(0x11a)))logHistory(_0xb2851c(0x17c),_0x201781+_0xb2851c(0x12a)),await pauseBot(pauseBotInterval);else{if(_0x35585f[_0xb2851c(0x1d1)]()[_0xb2851c(0xf3)](_0xb2851c(0x1ae)))logHistory(_0xb2851c(0x17c),_0x201781+'\x20|\x20Binance\x20exchange\x20is\x20not\x20available'),await pauseBot(pauseBotInterval);else{if(_0x35585f[_0xb2851c(0x1d1)]()[_0xb2851c(0xf3)](_0xb2851c(0xc7)))logHistory(_0xb2851c(0x17c),_0x201781+_0xb2851c(0xdb)),await pauseBot(pauseBotInterval);else{if(_0x35585f[_0xb2851c(0x1d1)]()['includes'](_0xb2851c(0xc3)))logHistory('error',_0x201781+_0xb2851c(0xce)),logHistory(_0xb2851c(0x17c),_0xb2851c(0xe4)),process['send']({'stop':_0xb2851c(0x119)},_0xa3a55f=>{});else{if(_0x35585f[_0xb2851c(0x1d1)]()['includes'](_0xb2851c(0x160)))logHistory(_0xb2851c(0x17c),_0x201781+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0xb2851c(0x169)]({'stop':_0xb2851c(0x119)},_0x49cc83=>{});else{if(_0x35585f[_0xb2851c(0x1d1)]()['includes'](_0xb2851c(0x1bf)))logHistory(_0xb2851c(0x17c),_0x201781+_0xb2851c(0x12d)),logHistory(_0xb2851c(0x17c),_0xb2851c(0xe4)),process[_0xb2851c(0x169)]({'stop':_0xb2851c(0x119)},_0x402c42=>{});else{if(_0x35585f[_0xb2851c(0x1d1)]()['includes'](_0xb2851c(0x1d8)))logHistory(_0xb2851c(0x17c),_0x201781+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0xb2851c(0x17c),_0xb2851c(0xe4)),process['send']({'stop':'kill'},_0x5a5ab0=>{});else{if(_0x35585f[_0xb2851c(0x1d1)]()[_0xb2851c(0xf3)](_0xb2851c(0x13d)))logHistory('error',_0x201781+_0xb2851c(0x1d4)),await pauseBot(pauseBotInterval),process[_0xb2851c(0x169)]({'stop':'restart'},_0x2818de=>{});else _0x35585f['toString']()[_0xb2851c(0xf3)]('InsufficientFunds')?logHistory(_0xb2851c(0x17c),_0x201781+_0xb2851c(0xde)):(logHistory('error',_0x201781+_0xb2851c(0x1ac)),logging(_0x201781+_0xb2851c(0xe0),_0x35585f),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x14c19a,_0x21c82c){return parseFloat(_0x14c19a['toFixed'](_0x21c82c));}function logging(_0x5f23a1,_0xce645c=''){const _0x5be61e=_0x27d600;if(config[_0x5be61e(0x143)])console[_0x5be61e(0x1dc)](getTimeStamp()+':\x20'+config[_0x5be61e(0x120)]+_0x5be61e(0x183)+_0x5f23a1,_0xce645c);else console[_0x5be61e(0x1dc)](getTimeStamp()+_0x5be61e(0xcd)+botID+_0x5be61e(0x183)+_0x5f23a1,_0xce645c);}function getServerTime(){const _0x3f00d2=_0x27d600,_0x3967ea=new Date();return _0x3967ea[_0x3f00d2(0x1bc)]()+'/'+(_0x3967ea[_0x3f00d2(0x1c2)]()+0x1)['toString']()[_0x3f00d2(0x135)](0x2,'0')+'/'+_0x3967ea[_0x3f00d2(0x1b8)]()[_0x3f00d2(0x1d1)]()[_0x3f00d2(0x135)](0x2,'0')+'\x20'+_0x3967ea['getHours']()['toString']()[_0x3f00d2(0x135)](0x2,'0')+':'+_0x3967ea['getMinutes']()[_0x3f00d2(0x1d1)]()[_0x3f00d2(0x135)](0x2,'0')+':'+_0x3967ea['getSeconds']()[_0x3f00d2(0x1d1)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x2fad96=_0x27d600,_0x1429d1=shiftedTime();return _0x1429d1[_0x2fad96(0x1bc)]()+'/'+(_0x1429d1[_0x2fad96(0x1c2)]()+0x1)[_0x2fad96(0x1d1)]()[_0x2fad96(0x135)](0x2,'0')+'/'+_0x1429d1['getDate']()['toString']()[_0x2fad96(0x135)](0x2,'0')+'\x20'+_0x1429d1[_0x2fad96(0x1a1)]()[_0x2fad96(0x1d1)]()['padStart'](0x2,'0')+':'+_0x1429d1[_0x2fad96(0xcc)]()['toString']()[_0x2fad96(0x135)](0x2,'0')+':'+_0x1429d1[_0x2fad96(0x162)]()[_0x2fad96(0x1d1)]()[_0x2fad96(0x135)](0x2,'0');}function getDate(){const _0x260803=_0x27d600,_0x7d869a=shiftedTime();return _0x7d869a[_0x260803(0x1bc)]()+'/'+(_0x7d869a[_0x260803(0x1c2)]()+0x1)[_0x260803(0x1d1)]()[_0x260803(0x135)](0x2,'0')+'/'+_0x7d869a[_0x260803(0x1b8)]()[_0x260803(0x1d1)]()[_0x260803(0x135)](0x2,'0');}function getHour(){const _0x565822=_0x27d600,_0x22f7ff=shiftedTime();return _0x22f7ff[_0x565822(0x1a1)]()[_0x565822(0x1d1)]()[_0x565822(0x135)](0x2,'0');}function sleep(_0x12748f){return new Promise(_0x543b49=>setTimeout(_0x543b49,_0x12748f));}function shiftedTime(){const _0x29329b=_0x27d600,_0xd89f67=new Date();let _0x3e322d=_0xd89f67;if(config&&config['timeshift']!==0x0)_0x3e322d=fns['add'](_0xd89f67,{'hours':config[_0x29329b(0x1a2)]});return _0x3e322d;}