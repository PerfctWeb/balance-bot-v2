const _0x2267bb=_0x281b;(function(_0x16875d,_0x5ebc43){const _0xf5c4cc=_0x281b,_0x10c68b=_0x16875d();while(!![]){try{const _0x2f8ceb=-parseInt(_0xf5c4cc(0x1c8))/0x1*(parseInt(_0xf5c4cc(0x289))/0x2)+-parseInt(_0xf5c4cc(0x2ba))/0x3+-parseInt(_0xf5c4cc(0x16b))/0x4*(parseInt(_0xf5c4cc(0x1fa))/0x5)+parseInt(_0xf5c4cc(0x290))/0x6*(parseInt(_0xf5c4cc(0x1fe))/0x7)+parseInt(_0xf5c4cc(0x15f))/0x8*(-parseInt(_0xf5c4cc(0x206))/0x9)+-parseInt(_0xf5c4cc(0x1d9))/0xa+parseInt(_0xf5c4cc(0x22f))/0xb;if(_0x2f8ceb===_0x5ebc43)break;else _0x10c68b['push'](_0x10c68b['shift']());}catch(_0x941461){_0x10c68b['push'](_0x10c68b['shift']());}}}(_0x55b8,0x29f82));const _0x3b4358=function(){let _0x139a44=!![];return function(_0x184441,_0x8f2627){const _0x10e9d3=_0x139a44?function(){const _0x10a275=_0x281b;if(_0x8f2627){const _0x4ddf1c=_0x8f2627[_0x10a275(0x268)](_0x184441,arguments);return _0x8f2627=null,_0x4ddf1c;}}:function(){};return _0x139a44=![],_0x10e9d3;};}(),_0xc54e38=_0x3b4358(this,function(){const _0x120a9f=_0x281b;return _0xc54e38[_0x120a9f(0x1ba)]()[_0x120a9f(0x1e4)](_0x120a9f(0x24f))[_0x120a9f(0x1ba)]()[_0x120a9f(0x16e)](_0xc54e38)['search']('(((.+)+)+)+$');});_0xc54e38();'use strict';const ccxt=require(_0x2267bb(0x213))['pro'],low=require(_0x2267bb(0x1b2)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x2267bb(0x202))[_0x2267bb(0x295)],util=require(_0x2267bb(0x19d)),argv=require(_0x2267bb(0x27b))(process[_0x2267bb(0x1a3)][_0x2267bb(0x1b9)](0x2))['argv'],path=require(_0x2267bb(0x223));let exchange;global['ticker']={},global[_0x2267bb(0x201)]={};const exceptions={'binance':['DAI/',_0x2267bb(0x1e2),_0x2267bb(0x1f2),_0x2267bb(0x1c6),_0x2267bb(0x1ab)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x2267bb(0x1c5)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x2267bb(0x1b0))[_0x2267bb(0x287)],botID=process['argv'][0x2]||_0x2267bb(0x18e),pattern=/^[0-9]{3}$/;!pattern[_0x2267bb(0x293)](botID)&&(console['log'](_0x2267bb(0x1a5)+botID+_0x2267bb(0x174)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x2267bb(0x25e)+userID+'/':_0x2267bb(0x25e),logspath=userID?_0x2267bb(0x163)+userID+'/':_0x2267bb(0x163),loggerfile=fs[_0x2267bb(0x284)](logspath+_0x2267bb(0x157),{'flags':'a'});!fs[_0x2267bb(0x180)](configpath)&&fs[_0x2267bb(0x294)](configpath);!fs[_0x2267bb(0x180)](logspath)&&fs[_0x2267bb(0x294)](logspath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+_0x2267bb(0x2a2)+botID+_0x2267bb(0x17e),performancefile=configpath+_0x2267bb(0x2a2)+botID+_0x2267bb(0x1ca),coinresultsfile=configpath+_0x2267bb(0x2a2)+botID+_0x2267bb(0x197),settingsfile=configpath+_0x2267bb(0x282),securefile=configpath+_0x2267bb(0x1c4),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2267bb(0x252)]({'logs':[],'version':serverversion})[_0x2267bb(0x1fb)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2267bb(0x252)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2267bb(0x252)]({'bot':[],'version':serverversion})[_0x2267bb(0x1fb)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x2267bb(0x1fb)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x2267bb(0x286),'rsaStandard':_0x2267bb(0x16f)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x527cd6=>{const _0x50a136=_0x2267bb;console[_0x50a136(0x26c)](_0x527cd6);},'simple':_0x5a7614=>{const _0x3423d6=_0x2267bb;console[_0x3423d6(0x26c)](_0x5a7614),loggerfile[_0x3423d6(0x1fb)](util[_0x3423d6(0x199)](_0x5a7614)+'\x0a');},'full':async(_0x26a7ec,_0x4866bd='')=>{const _0x599bb1=_0x2267bb;let _0x51be3a;if(config[_0x599bb1(0x1ef)])_0x51be3a=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x26a7ec;else _0x51be3a=getTimeStamp()+_0x599bb1(0x187)+botID+_0x599bb1(0x267)+_0x26a7ec;console[_0x599bb1(0x26c)](_0x51be3a),loggerfile[_0x599bb1(0x1fb)](util[_0x599bb1(0x199)](_0x51be3a)+'\x0a'),_0x4866bd&&(console['log'](_0x4866bd),loggerfile[_0x599bb1(0x1fb)](util[_0x599bb1(0x199)](_0x4866bd)+'\x0a'));},'debug':async(_0x56544a,_0x15df2a='')=>{const _0x132dcd=_0x2267bb;let _0x17b9ef;if(config[_0x132dcd(0x1ef)])_0x17b9ef=getTimeStamp()+':\x20'+config[_0x132dcd(0x18a)]+_0x132dcd(0x23d)+_0x56544a;else _0x17b9ef=getTimeStamp()+_0x132dcd(0x187)+botID+'\x20>\x20[DEBUG]\x20'+_0x56544a;if(debugging)console[_0x132dcd(0x26c)](_0x17b9ef);loggerfile[_0x132dcd(0x1fb)](util[_0x132dcd(0x199)](_0x17b9ef)+'\x0a');if(_0x15df2a){if(debugging)console['log'](_0x15df2a);loggerfile[_0x132dcd(0x1fb)](util[_0x132dcd(0x199)](_0x15df2a)+'\x0a');}}};process['on']('uncaughtException',function(_0x5df74e){const _0x31e2e5=_0x2267bb;logger[_0x31e2e5(0x271)](_0x5df74e);});settings[_0x2267bb(0x1a8)]!=config[_0x2267bb(0x1a8)]&&updateTimeshift(settings[_0x2267bb(0x1a8)]);settings[_0x2267bb(0x170)]!=config['onepagemode']&&updateOnepagemode(settings[_0x2267bb(0x170)]);process[_0x2267bb(0x233)]({'started':_0x2267bb(0x1d3)},_0xad63e1=>{}),initializeProcessListeners();function proxyEmit(_0x392aa7,_0x325b38=null){const _0x362d88=_0x2267bb;process[_0x362d88(0x233)]({'function':_0x392aa7,'args':_0x325b38},_0x576b0c=>{});}function initializeProcessListeners(){const _0x52345e=_0x2267bb;process['on'](_0x52345e(0x1da),_0x2b6398=>{const _0x2aa06a=_0x52345e;switch(Object['keys'](_0x2b6398)[0x0]){case'timeshift':_0x2b6398[_0x2aa06a(0x1a8)]!=undefined&&(settings['timeshift']=_0x2b6398[_0x2aa06a(0x1a8)],updateTimeshift(settings[_0x2aa06a(0x1a8)]));break;case'onepagemode':_0x2b6398[_0x2aa06a(0x170)]!=undefined&&(settings[_0x2aa06a(0x170)]=_0x2b6398[_0x2aa06a(0x170)],updateOnepagemode(settings[_0x2aa06a(0x170)]));break;case _0x2aa06a(0x225):_0x2b6398['bots']!=undefined&&(bots=JSON[_0x2aa06a(0x203)](_0x2b6398['bots']),proxyEmit(_0x2aa06a(0x225),bots));break;case _0x2aa06a(0x1b6):switch(_0x2b6398[_0x2aa06a(0x1b6)]){case _0x2aa06a(0x29b):initclient();break;case _0x2aa06a(0x196):toggleBotMode();break;case _0x2aa06a(0x153):emitHistory(_0x2b6398[_0x2aa06a(0x167)]);break;case _0x2aa06a(0x214):deleteHistoryAlerts(_0x2b6398['args']);break;case _0x2aa06a(0x159):getPortfolio(_0x2b6398[_0x2aa06a(0x167)]);break;case _0x2aa06a(0x260):storeConfiguration(_0x2b6398[_0x2aa06a(0x167)]);break;case _0x2aa06a(0x1b3):storeHeadless(_0x2b6398[_0x2aa06a(0x167)]);break;case _0x2aa06a(0x149):storeFiat(_0x2b6398[_0x2aa06a(0x167)]);break;case'resetHistory':resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x2aa06a(0x194):placeOrder(_0x2b6398[_0x2aa06a(0x167)]);break;case _0x2aa06a(0x156):cancelLoading();break;case _0x2aa06a(0x29f):showConfig();break;case _0x2aa06a(0x2b3):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x26d148=null,_0xd8238=![]){const _0x321bfb=_0x2267bb;logger[_0x321bfb(0x16a)](_0x321bfb(0x172)+(_0x26d148&&_0x26d148['length']>0x0?_0x321bfb(0x298)+_0x26d148['join'](','):'no\x20additional\x20symbols')+_0x321bfb(0x1e9)+(_0xd8238?'exchange\x20reloaded':_0x321bfb(0x21e)));if(pidBalances)clearTimeout(pidBalances);if(!_0xd8238)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x321bfb(0x14d)]!=''&&config['apiKey']!=_0x321bfb(0x1f1)){if(_0xd8238){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x2a22f1){if(_0x2a22f1[_0x321bfb(0x1ba)]()[_0x321bfb(0x272)](_0x321bfb(0x1aa))){handleErrorNoStop(_0x2a22f1,'loadSymbols()');return;}else{handleError(_0x2a22f1,_0x321bfb(0x23a));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x26d148);const _0xbdb31f=await getCoins();[currentCoins,currentCoinsAll]=_0xbdb31f,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x321bfb(0x230)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x3b4eba=_0x2267bb;exchangeStopped=!![],await exchange[_0x3b4eba(0x1e5)]();}async function reloadExchange(){const _0x3dfaae=_0x2267bb;logger[_0x3dfaae(0x16a)](_0x3dfaae(0x19c));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x3dfaae(0x29e)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x1e1592=config['exchange'],_0x8fb4a5=config[_0x2267bb(0x14d)],_0x11cc38=config[_0x2267bb(0x15c)]){const _0x8c57c1=_0x2267bb;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x1e1592)&&(logHistory('error',_0x8c57c1(0x24e)+_0x1e1592+_0x8c57c1(0x1bb)),killBot());const _0x491596=ccxt[_0x1e1592[_0x8c57c1(0x19e)]()];exchange=new _0x491596({'apiKey':_0x8fb4a5,'secret':_0x11cc38,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x1dadad=_0x2267bb;let _0x4079fb=config[_0x1dadad(0x24a)]==_0x1dadad(0x181)?'ETH':_0x1dadad(0x276),_0x39dc3d=!allSymbols[_0x1dadad(0x272)](_0x4079fb+_0x1dadad(0x2ad))?_0x1dadad(0x2b0):_0x1dadad(0x27e),_0x1c7940=!allSymbols['includes'](_0x4079fb+_0x1dadad(0x263))?_0x39dc3d:_0x1dadad(0x26a);stablecoins={'eur':{'coin':''+_0x4079fb+_0x1c7940,'symbol':_0x4079fb+'/'+_0x1c7940},'usd':{'coin':''+_0x4079fb+_0x39dc3d,'symbol':_0x4079fb+'/'+_0x39dc3d}};}async function initwsCcxt(_0x5c41b1){const _0x3ed89c=_0x2267bb;_0x5c41b1==null&&(_0x5c41b1=[],config[_0x3ed89c(0x2a8)][_0x3ed89c(0x28d)](_0x3cc813=>{const _0x357d94=_0x3ed89c;if(!_0x3cc813[_0x357d94(0x2b7)]&&_0x3cc813['coin']!=config[_0x357d94(0x24a)])_0x5c41b1['push'](_0x3cc813[_0x357d94(0x1ad)]);}));if(!_0x5c41b1[_0x3ed89c(0x272)](stablecoins[_0x3ed89c(0x1b4)][_0x3ed89c(0x1ad)]))_0x5c41b1[_0x3ed89c(0x210)](stablecoins[_0x3ed89c(0x1b4)]['symbol']);if(!_0x5c41b1[_0x3ed89c(0x272)](stablecoins[_0x3ed89c(0x2a9)][_0x3ed89c(0x1ad)]))_0x5c41b1['push'](stablecoins[_0x3ed89c(0x2a9)][_0x3ed89c(0x1ad)]);if(!_0x5c41b1[_0x3ed89c(0x272)](_0x3ed89c(0x1e0)+config['basecoin']))_0x5c41b1['push']('BNB/'+config[_0x3ed89c(0x24a)]);loadCoins(_0x5c41b1);const _0x24098b=async _0x3dcc5b=>{const _0x28e8a1=_0x3ed89c,_0x29209d=await exchange['fetchTicker'](_0x3dcc5b);global[_0x28e8a1(0x221)][noslash(_0x29209d[_0x28e8a1(0x1ad)])]=_0x29209d[_0x28e8a1(0x2a3)];while(!![]){if(!botPaused)try{const _0x36bd50=await exchange[_0x28e8a1(0x297)](_0x3dcc5b);global[_0x28e8a1(0x221)][noslash(_0x36bd50[0x0][_0x28e8a1(0x1ad)])]=_0x36bd50[0x0]['price'],await sleep(0x3e8);}catch(_0x571498){if(!exchangeStopped)await handleError(_0x571498,_0x28e8a1(0x297),_0x3dcc5b);}else await sleep(0x3e8);}},_0x2ab8e1=async _0x593f6b=>{const _0x39a263=_0x3ed89c;while(!![]){if(!botPaused)try{const _0x15edc5=await exchange[_0x39a263(0x278)](_0x593f6b);global['change'][_0x15edc5[_0x39a263(0x1ad)]]=_0x15edc5[_0x39a263(0x1d8)],await sleep(0x3c*0x3e8);}catch(_0x2c23ac){if(!exchangeStopped)await handleError(_0x2c23ac,_0x39a263(0x16d),_0x593f6b);}else await sleep(0x3e8);}},_0x244642=async()=>{const _0x2ac970=_0x3ed89c;while(!![]){if(!botPaused)try{const _0x2a544c=await exchange[_0x2ac970(0x24b)]();_0x2a544c['forEach'](_0x445024=>{updateNumberCoinsCcxt(_0x445024);});}catch(_0x5642cf){if(!exchangeStopped)await handleError(_0x5642cf,_0x2ac970(0x24b));}else await sleep(0x3e8);}};_0x5c41b1[_0x3ed89c(0x28d)](async _0x1a7ef6=>{_0x24098b(_0x1a7ef6),_0x2ab8e1(_0x1a7ef6);}),!wsEventsSet&&(wsEventsSet=!![],_0x244642(),watchTransactions());}async function watchTransactions(){const _0x5ab076=_0x2267bb;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x4abcc2=await getCoins(),[_0x52c316,_0x4f5ee3]=_0x4abcc2;let _0x4f57c1=[];currentCoins[_0x5ab076(0x28d)](_0xc34a6c=>{const _0x3a57f1=_0x5ab076,_0x550363=_0x52c316[_0x3a57f1(0x25c)](_0x3963b8=>_0x3963b8['coin']==_0xc34a6c[_0x3a57f1(0x23e)]);_0x550363&&(_0xc34a6c[_0x3a57f1(0x226)]!=_0x550363[_0x3a57f1(0x226)]&&_0x4f57c1['push']({'coin':_0xc34a6c[_0x3a57f1(0x23e)],'symbol':_0xc34a6c[_0x3a57f1(0x1ad)],'number':Number(formatResult(_0x550363[_0x3a57f1(0x226)]-_0xc34a6c[_0x3a57f1(0x226)],0x8))}));});if(_0x4f57c1['length']==0x1&&!blockTransactionDetection){logger[_0x5ab076(0x16a)](_0x5ab076(0x2b8)+lastFees[_0x5ab076(0x1cb)]+_0x5ab076(0x23f)+lastFees['highest']);if(!lastFees[_0x5ab076(0x1cb)]||_0x4f57c1[0x0]['coin']!=lastFees[_0x5ab076(0x1cb)]||_0x4f57c1[0x0][_0x5ab076(0x226)]>lastFees[_0x5ab076(0x237)]){let _0x380024;if(_0x4f57c1[0x0][_0x5ab076(0x23e)]!=config['basecoin']){let _0x5901ab=global['ticker'][noslash(_0x4f57c1[0x0]['symbol'])];_0x380024=_0x4f57c1[0x0]['reverse']?0x1/_0x5901ab:_0x5901ab;}else _0x380024=0x1;_0x4f57c1[0x0]['price']=_0x380024,delete _0x4f57c1[0x0][_0x5ab076(0x1ad)];let _0x17d8b5=[],_0x51b57b=[...config['liquidity']]||[],_0x52d655=config[_0x5ab076(0x1a7)];_0x51b57b[_0x5ab076(0x1b5)]((_0x37f458,_0x95560c)=>_0x37f458[_0x5ab076(0x158)]>_0x95560c['date']?-0x1:_0x95560c[_0x5ab076(0x158)]>_0x37f458['date']?0x1:0x0);const _0x152a8b=getDate();if(_0x51b57b[0x0]){const _0x438afd=fns[_0x5ab076(0x203)](_0x51b57b[0x0][_0x5ab076(0x158)],_0x5ab076(0x261),new Date()),_0x302e78=fns[_0x5ab076(0x203)](_0x152a8b,_0x5ab076(0x261),new Date());if(fns['isEqual'](_0x438afd,_0x302e78)){_0x17d8b5=_0x51b57b[0x0][_0x5ab076(0x228)];const _0x432638=_0x17d8b5[_0x5ab076(0x25c)](_0x23f96f=>_0x23f96f[_0x5ab076(0x23e)]==_0x4f57c1[0x0]['coin']);_0x432638?(_0x432638[_0x5ab076(0x226)]+=_0x4f57c1[0x0][_0x5ab076(0x226)],_0x432638[_0x5ab076(0x226)]==0x0&&(_0x17d8b5=_0x17d8b5[_0x5ab076(0x207)](_0x362757=>{const _0x25a672=_0x5ab076;return _0x362757[_0x25a672(0x23e)]!=_0x4f57c1[0x0][_0x25a672(0x23e)];}))):_0x17d8b5[_0x5ab076(0x210)](_0x4f57c1[0x0]);const _0x86250d=_0x52d655[_0x5ab076(0x25c)](_0x3c2b83=>_0x3c2b83[_0x5ab076(0x158)]==_0x152a8b);_0x86250d[_0x5ab076(0x228)]=_0x17d8b5;}else _0x52d655[_0x5ab076(0x210)]({'date':_0x152a8b,'changes':[_0x4f57c1[0x0]]});}const _0x40006b=_0x52d655['find'](_0x490959=>_0x490959[_0x5ab076(0x158)]==_0x152a8b);if(_0x40006b){let _0x4e9a93=!![];_0x40006b[_0x5ab076(0x228)]['forEach'](_0xd9a7ac=>{const _0xdcedcc=_0x5ab076;if(_0xd9a7ac[_0xdcedcc(0x226)]!=0x0)_0x4e9a93=![];}),_0x4e9a93&&(_0x52d655=_0x52d655[_0x5ab076(0x207)](_0x3fb6ab=>{const _0xf140b9=_0x5ab076;return _0x3fb6ab[_0xf140b9(0x158)]!=_0x152a8b;}));}let _0x20b21a=dbConfig[_0x5ab076(0x191)](_0x5ab076(0x162))[_0x5ab076(0x25c)]({'botID':botID})[_0x5ab076(0x232)]();_0x20b21a&&(dbConfig[_0x5ab076(0x191)](_0x5ab076(0x162))[_0x5ab076(0x25c)]({'botID':botID})[_0x5ab076(0x208)]({'liquidity':_0x52d655})[_0x5ab076(0x1fb)](),config['liquidity']=_0x52d655),logHistory(_0x5ab076(0x15a),_0x5ab076(0x1c9)+Math[_0x5ab076(0x242)](_0x4f57c1[0x0][_0x5ab076(0x226)])+'\x20'+_0x4f57c1[0x0][_0x5ab076(0x23e)]+'\x20'+(_0x4f57c1[0x0][_0x5ab076(0x226)]>0x0?_0x5ab076(0x173):'removed')+_0x5ab076(0x27f)),proxyEmit(_0x5ab076(0x1dc),emittedConfiguration());}else logger['debug'](_0x5ab076(0x1ed)+Math[_0x5ab076(0x242)](_0x4f57c1[0x0][_0x5ab076(0x226)])+'\x20'+_0x4f57c1[0x0][_0x5ab076(0x23e)]+'\x20'+(_0x4f57c1[0x0]['number']>0x0?_0x5ab076(0x173):'removed'));transactionDetected=!![],currentCoins=_0x52c316,currentCoinsAll=_0x4f5ee3;}await sleep(watchTransactionsInterval);}catch(_0x502b45){if(!exchangeStopped)await handleError(_0x502b45,_0x5ab076(0x209));}else await sleep(0x3e8);}}async function loadSymbols(_0x5a4a7d=config['exchange'],_0xad4c44=![]){const _0x54ff7c=_0x2267bb;if(allSymbols&&!_0xad4c44)return;try{markets=await exchange[_0x54ff7c(0x1d4)](),allSymbols=exchange[_0x54ff7c(0x160)][_0x54ff7c(0x207)](_0x3dec80=>{const _0x3ef76c=_0x54ff7c;let _0x2fdd4c=![];const _0x5dc4d5=exceptions[_0x5a4a7d[_0x3ef76c(0x19e)]()]||[];return _0x5dc4d5[_0x3ef76c(0x28d)](_0x54ee00=>{const _0x3b051e=_0x3ef76c;if(_0x3dec80[_0x3b051e(0x272)](_0x54ee00))_0x2fdd4c=!![];}),!_0x2fdd4c;});}catch(_0x1a6748){throw _0x1a6748;}}async function initclient(){const _0xfbdcb2=_0x2267bb;emitLoadingProgress(),proxyEmit(_0xfbdcb2(0x1dc),emittedConfiguration()),proxyEmit(_0xfbdcb2(0x1d7),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xfbdcb2(0x1f5),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x49c5c8=getNormalizedPerformance();emitPerformance(_0x49c5c8),getStartingBalances(_0x49c5c8);}async function toggleBotMode(){const _0x57c6cc=_0x2267bb;let _0x49189d=dbConfig[_0x57c6cc(0x191)](_0x57c6cc(0x162))[_0x57c6cc(0x25c)]({'botID':botID})[_0x57c6cc(0x232)]();if(_0x49189d){const _0x4b4856=!_0x49189d[_0x57c6cc(0x262)];dbConfig[_0x57c6cc(0x191)](_0x57c6cc(0x162))[_0x57c6cc(0x25c)]({'botID':botID})[_0x57c6cc(0x208)]({'headless':_0x4b4856})[_0x57c6cc(0x1fb)](),config['headless']=_0x4b4856,proxyEmit(_0x57c6cc(0x1dc),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2b7a82=_0x2267bb;process[_0x2b7a82(0x233)]({'updatebotmanager':!![]},_0x4552f9=>{});}async function loadCoins(_0x24b4ab){const _0x2042bb=_0x2267bb;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0xdb3a64,_0x341930=0x0,_0x42a8b3=0x0;_0x24b4ab[_0x2042bb(0x28d)](_0x534205=>{const _0x8638f3=_0x2042bb;loading[_0x8638f3(0x251)][_0x8638f3(0x210)](_0x534205);}),loadingCanceled=![];let _0x519f8f=![];while(_0xdb3a64!=_0x24b4ab[_0x2042bb(0x230)]){_0xdb3a64=0x0,_0x24b4ab[_0x2042bb(0x28d)](_0x43eb8f=>{const _0x288f9a=_0x2042bb;if(global[_0x288f9a(0x221)][noslash(_0x43eb8f)]){loading[_0x288f9a(0x251)]=loading[_0x288f9a(0x251)][_0x288f9a(0x207)](_0x9ea064=>_0x9ea064!=_0x43eb8f);if(!watchedSymbols[_0x288f9a(0x272)](_0x43eb8f))watchedSymbols[_0x288f9a(0x210)](_0x43eb8f);_0xdb3a64++;}}),loading[_0x2042bb(0x241)]=Math[_0x2042bb(0x14f)](_0xdb3a64/_0x24b4ab[_0x2042bb(0x230)]*0x64);loading[_0x2042bb(0x241)]!=0x64&&(_0x42a8b3>0x1e*0x5&&(loading[_0x2042bb(0x15d)]=!![],emitLoadingProgress()),_0x42a8b3>0x78*0x5&&!_0x519f8f&&(loading['cancel']=!![],emitLoadingProgress(),_0x519f8f=!![],logHistory('error',_0x2042bb(0x291)+loading[_0x2042bb(0x251)][_0x2042bb(0x257)](',\x20')+_0x2042bb(0x283)),logHistory(_0x2042bb(0x22d),_0x2042bb(0x16c)+loadCoinsRetryInterval/0xea60+_0x2042bb(0x192)),pidCoinReloading=setTimeout(()=>{const _0x5a6895=_0x2042bb;process['send']({'stop':_0x5a6895(0x175)},_0x3fb1e9=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x2042bb(0x1f8)]=!![],emitLoadingProgress();break;}else _0xdb3a64!=_0x341930&&(_0x341930=_0xdb3a64,emitLoadingProgress()),_0x42a8b3++,await sleep(0xc8);}_0xdb3a64==_0x24b4ab[_0x2042bb(0x230)]&&(coinsLoaded=!![],process[_0x2042bb(0x233)]({'status':_0x2042bb(0x15b),'live':_0x2042bb(0x1d3)},_0x35e9d8=>{}),_0x519f8f&&logHistory(_0x2042bb(0x15a),_0x2042bb(0x21c)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0xe0c07a=_0x2267bb;proxyEmit(_0xe0c07a(0x1dc),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x11f6db=_0x2267bb;let _0x143f90=global[_0x11f6db(0x221)][stablecoins['eur'][_0x11f6db(0x23e)]],_0x4b38e5=global[_0x11f6db(0x221)][stablecoins[_0x11f6db(0x2a9)][_0x11f6db(0x23e)]];return{'eur':Number(_0x143f90),'usd':Number(_0x4b38e5)};}function capitalize(_0x1f455c){const _0x1c42fc=_0x2267bb;return _0x1f455c[_0x1c42fc(0x1bc)](0x0,0x1)['toUpperCase']()+_0x1f455c[_0x1c42fc(0x1bc)](0x1);}function supportedExchanges(){const _0xcbe8f5=_0x2267bb,_0x64f909=['ws','fetchTickers',_0xcbe8f5(0x278),_0xcbe8f5(0x297),_0xcbe8f5(0x24b),'cancelOrder','createOrder','fetchOpenOrders',_0xcbe8f5(0x20c),_0xcbe8f5(0x2b5)];let _0x5ab702=[],_0x234379=[],_0x142c53=ccxt[_0xcbe8f5(0x1d7)];_0x142c53[_0xcbe8f5(0x28d)](_0x22af9c=>{const _0x3e49ca=_0xcbe8f5;try{const _0x51196e=new ccxt[_0x22af9c]();if(_0x51196e[_0x3e49ca(0x164)]['ws'])_0x234379[_0x3e49ca(0x210)](_0x51196e);}catch(_0x36ee8b){}}),_0x234379[_0xcbe8f5(0x28d)](_0x5be79e=>{const _0x46fe1b=_0xcbe8f5;let _0x31c736=0x0;_0x64f909['forEach'](_0x5a6f5b=>{const _0x501cbc=_0x281b;_0x5a6f5b in _0x5be79e['has']&&_0x5be79e[_0x501cbc(0x164)][_0x5a6f5b]&&_0x31c736++;}),_0x31c736==_0x64f909[_0x46fe1b(0x230)]&&_0x5ab702[_0x46fe1b(0x210)](capitalize(_0x5be79e['id']));});let _0x41e349=[];return _0x142c53['forEach'](_0x3f3bbf=>{const _0x45e444=_0xcbe8f5;_0x3f3bbf=capitalize(_0x3f3bbf);if(!_0x5ab702[_0x45e444(0x272)](_0x3f3bbf))_0x41e349['push'](_0x3f3bbf);}),_0x5ab702;}function setStartDatePerformance(){const _0x40a181=_0x2267bb;if(config&&config[_0x40a181(0x1a7)][0x0]['changes']['length']!=0x0){const _0x2a1ca1=config[_0x40a181(0x1a7)][0x0][_0x40a181(0x228)];dbPerformance[_0x40a181(0x191)](_0x40a181(0x17c))[_0x40a181(0x25c)]({'date':config[_0x40a181(0x25f)]})[_0x40a181(0x208)]({'coins':_0x2a1ca1})[_0x40a181(0x1fb)]();}}async function recreateCoinResults(){const _0x18849a=_0x2267bb;let _0x1f3580,_0x2bd09b=[];try{const _0x24d101=fns[_0x18849a(0x199)](fns[_0x18849a(0x264)](config[_0x18849a(0x25f)][_0x18849a(0x254)](/\//g,'-')),_0x18849a(0x1de));for(const _0x2c9496 of currentCoins){if(_0x2c9496[_0x18849a(0x23e)]!=config['basecoin']){let _0x29e337=0x0,_0x2a0687,_0x3a909d;_0x1f3580=await getAllEventOrders(_0x2c9496[_0x18849a(0x1ad)]);if(_0x1f3580['length']>0x0)_0x1f3580['forEach'](_0x18b4f3=>{const _0x26f612=_0x18849a,_0x51bf81=_0x2c9496[_0x26f612(0x1ad)][_0x26f612(0x272)](config[_0x26f612(0x24a)]+'/');_0x2bd09b[_0x26f612(0x210)]({'datetime':_0x18b4f3[_0x26f612(0x28a)],'coin':_0x2c9496['coin'],'symbol':_0x2c9496['symbol'],'side':_0x18b4f3[_0x26f612(0x18d)],'reverse':_0x51bf81,'amount':formatResult(_0x18b4f3['filled'],0x8),'filled':formatResult(_0x18b4f3['filled'],0x8),'price':formatResult(_0x18b4f3[_0x26f612(0x161)],0x8)}),_0x29e337=_0x18b4f3['side']==_0x26f612(0x2ab)?_0x29e337+_0x18b4f3[_0x26f612(0x14c)]:_0x29e337-_0x18b4f3[_0x26f612(0x14c)];if(!_0x3a909d)_0x3a909d=_0x18b4f3[_0x26f612(0x161)];});_0x2a0687=_0x2c9496['number']-_0x29e337;let _0x473442;config[_0x18849a(0x1a7)]['forEach'](_0x1824cf=>{const _0x5bebce=_0x18849a;!_0x473442&&(_0x473442=_0x1824cf[_0x5bebce(0x228)][_0x5bebce(0x25c)](_0x123a18=>_0x123a18[_0x5bebce(0x23e)]==_0x2c9496[_0x5bebce(0x23e)]),_0x473442&&(_0x2a0687=_0x473442['number'],_0x3a909d=_0x473442[_0x5bebce(0x161)]));});let _0x4ab5ce=dbCoinResults['get'](_0x18849a(0x27a))[_0x18849a(0x25c)]({'coin':_0x2c9496[_0x18849a(0x23e)]})[_0x18849a(0x232)]();_0x4ab5ce={'coin':_0x2c9496[_0x18849a(0x23e)],'number':_0x2a0687,'breakeven':_0x3a909d,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x18849a(0x191)](_0x18849a(0x27a))[_0x18849a(0x25c)]({'coin':_0x2c9496[_0x18849a(0x23e)]})[_0x18849a(0x208)](_0x4ab5ce)['write']();}}_0x2bd09b[_0x18849a(0x1b5)]((_0x127565,_0xd4f50f)=>_0x127565['datetime']>_0xd4f50f['datetime']?0x1:_0xd4f50f[_0x18849a(0x28a)]>_0x127565['datetime']?-0x1:0x0);let _0x2f7118=0x0;for(let _0x211f0f of _0x2bd09b){await updateCoinResults(_0x211f0f,!![]);}}catch(_0xca9e58){await handleError(_0xca9e58,_0x18849a(0x270));}}async function getAllEventOrders(_0x4b0ab5){const _0x45a80a=_0x2267bb;let _0x1a680d=[],_0x5e6f64=dbLogs[_0x45a80a(0x191)](_0x45a80a(0x1e6))[_0x45a80a(0x207)](_0x42f899=>{const _0x408d79=_0x45a80a,_0x157dc5=_0x42f899[_0x408d79(0x240)][_0x408d79(0x19e)]();return _0x157dc5['includes'](_0x4b0ab5[_0x408d79(0x19e)]())&&(_0x157dc5['includes'](_0x408d79(0x274))&&_0x157dc5[_0x408d79(0x272)]('order')||_0x157dc5[_0x408d79(0x272)](_0x408d79(0x14c))&&_0x157dc5[_0x408d79(0x272)](_0x408d79(0x224)));})[_0x45a80a(0x2bd)](_0x45a80a(0x150))['value']();return _0x5e6f64[_0x45a80a(0x28d)](_0xf3b7de=>{const _0x5d7e2d=_0x45a80a,_0x3ad36a=_0xf3b7de[_0x5d7e2d(0x240)]['includes'](_0x5d7e2d(0x25d))?'sell':'buy',_0x22655d=/#([0-9]|\.)+\s/i,_0x7bdc9a=Number(_0x22655d[_0x5d7e2d(0x21f)](_0xf3b7de[_0x5d7e2d(0x240)])[0x0][_0x5d7e2d(0x1b9)](0x1)),_0x10b8d1=/@([0-9]|\.)+$/i,_0x26284c=Number(_0x10b8d1[_0x5d7e2d(0x21f)](_0xf3b7de['event'])[0x0][_0x5d7e2d(0x1b9)](0x1));_0x1a680d['push']({'datetime':_0xf3b7de[_0x5d7e2d(0x150)],'coin':symbolToCoin(_0x4b0ab5),'symbol':_0x4b0ab5,'side':_0x3ad36a,'amount':_0x7bdc9a,'filled':_0x7bdc9a,'price':_0x26284c});}),_0x1a680d;}async function getAllOrders(_0x359d8e,_0x24a52b){const _0x3a657a=_0x2267bb;let _0x1b4c3e=[];while(_0x24a52b<exchange[_0x3a657a(0x1e8)]()){const _0x435815=0x1f4,_0xb824cd=await exchange['fetchClosedOrders'](_0x359d8e,_0x24a52b,_0x435815);if(_0xb824cd['length'])_0x24a52b=_0xb824cd[_0xb824cd[_0x3a657a(0x230)]-0x1][_0x3a657a(0x2aa)]+0x1,_0x1b4c3e=_0x1b4c3e[_0x3a657a(0x231)](_0xb824cd);else break;}return _0x1b4c3e;}async function validate24hChanges(){const _0x1b04b5=_0x2267bb;for(const _0x5c1db8 of currentCoins){if(_0x5c1db8[_0x1b04b5(0x23e)]!=config[_0x1b04b5(0x24a)]){let _0x337a39;_0x5c1db8[_0x1b04b5(0x255)]?_0x337a39=formatResult((0x1/(global[_0x1b04b5(0x201)][noslash(_0x5c1db8[_0x1b04b5(0x1ad)])]/0x64+0x1)-0x1)*0x64,0x3):_0x337a39=global['change'][noslash(_0x5c1db8['symbol'])],_0x337a39<config[_0x1b04b5(0x195)]&&(logHistory(_0x1b04b5(0x22d),_0x5c1db8[_0x1b04b5(0x23e)]+_0x1b04b5(0x182)+_0x337a39+'%'),logHistory(_0x1b04b5(0x22d),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x1b04b5(0x22d),_0x1b04b5(0x185)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x49ee35,_0x506b82){const _0x3871f7=_0x2267bb;if(!_0x49ee35)return!![];const _0xb5fcd5=_0x506b82[_0x3871f7(0x2a5)]('.'),_0x243602=_0x49ee35['split']('.');for(var _0x1891fd=0x0;_0x1891fd<_0x243602[_0x3871f7(0x230)];_0x1891fd++){const _0x219d63=~~_0x243602[_0x1891fd],_0x353a08=~~_0xb5fcd5[_0x1891fd];if(_0x219d63<_0x353a08)return!![];if(_0x219d63>_0x353a08)return![];}return![];}async function oneTimeMigration(){const _0x10b46c=_0x2267bb;let _0x24e2fd=dbLogs[_0x10b46c(0x191)]('version')[_0x10b46c(0x232)]();if(isOlderVersion(_0x24e2fd,_0x10b46c(0x285))){let _0xd8a05e=[];const _0x20739e=dbLogs[_0x10b46c(0x191)]('logs')[_0x10b46c(0x232)]();_0x20739e[_0x10b46c(0x28d)](_0x156eb7=>{const _0x526351=_0x10b46c;_0xd8a05e[_0x526351(0x210)]({'time':_0x156eb7[_0x526351(0x150)],'type':_0x156eb7[_0x526351(0x277)],'event':_0x156eb7[_0x526351(0x240)]});}),dbLogs[_0x10b46c(0x191)](_0x10b46c(0x1e6))[_0x10b46c(0x208)](_0xd8a05e)['write']();}let _0x5c464a=dbConfig[_0x10b46c(0x191)]('version')['value']();if(isOlderVersion(_0x5c464a,'2.3.5')){let _0x2e01b8=dbConfig['get']('bot')[_0x10b46c(0x25c)]({'botID':botID})[_0x10b46c(0x232)]();if(_0x2e01b8){let _0x543e2a=[];_0x2e01b8['portfolio']['forEach'](_0x199d8f=>{const _0x1433c8=_0x10b46c;_0x543e2a[_0x1433c8(0x210)]({'coin':_0x199d8f[_0x1433c8(0x23e)],'number':_0x199d8f[_0x1433c8(0x1d1)],'price':_0x199d8f[_0x1433c8(0x1a1)]}),delete _0x199d8f[_0x1433c8(0x1d1)],delete _0x199d8f[_0x1433c8(0x1a1)];});if(_0x543e2a[_0x10b46c(0x230)]!==0x0)fs['writeFile'](configbackuppath+(_0x10b46c(0x2b9)+botID+'.json'),JSON[_0x10b46c(0x239)](_0x543e2a,null,0x4),function(_0x490a07){if(_0x490a07){}});const _0x166634=(_0x330aba,_0xecce06)=>{const _0x2779b4=_0x10b46c;let _0x34750e=[];_0xecce06[_0x2779b4(0x28d)](_0x3b4e60=>{const _0x299957=_0x2779b4,_0x3ba2d3=_0x330aba[_0x299957(0x25c)](_0x2c5ef3=>_0x2c5ef3['coin']==_0x3b4e60[_0x299957(0x23e)]);if(!_0x3ba2d3)_0x34750e[_0x299957(0x210)](_0x3b4e60);});let _0x16cd95=[];return _0x330aba[_0x2779b4(0x28d)](_0x3dbeec=>{const _0x3016f0=_0x2779b4,_0x53ee66=_0xecce06[_0x3016f0(0x25c)](_0x10a46e=>_0x10a46e['coin']==_0x3dbeec[_0x3016f0(0x23e)]);if(!_0x53ee66||_0x53ee66['number']==0x0&&_0x3dbeec[_0x3016f0(0x226)]!=0x0)_0x16cd95[_0x3016f0(0x210)](_0x3dbeec);}),{'missingDay1':_0x34750e,'notInDay2':_0x16cd95};},_0x587167=dbPerformance[_0x10b46c(0x191)]('data')[_0x10b46c(0x1a0)]()[_0x10b46c(0x232)]();if(_0x587167['length']>0x1){const {missingDay1:_0x479e3f,notInDay2:_0x23bf31}=_0x166634(_0x543e2a,_0x587167[0x1][_0x10b46c(0x27a)]);_0x543e2a=[..._0x543e2a,..._0x479e3f],_0x23bf31['forEach'](_0x4d1572=>{const _0x10c9b=_0x10b46c;let _0x54ccc6=_0x543e2a[_0x10c9b(0x2b6)](_0x4f0692=>_0x4f0692[_0x10c9b(0x23e)]==_0x4d1572[_0x10c9b(0x23e)]);_0x54ccc6!=-0x1&&_0x543e2a['splice'](_0x54ccc6,0x1);});}_0x543e2a['sort']((_0x337425,_0x470128)=>_0x337425[_0x10b46c(0x23e)]>_0x470128[_0x10b46c(0x23e)]?0x1:_0x470128[_0x10b46c(0x23e)]>_0x337425[_0x10b46c(0x23e)]?-0x1:0x0);let _0x15610c=[{'date':_0x2e01b8[_0x10b46c(0x25f)],'changes':_0x543e2a}];_0x587167[_0x10b46c(0x230)]>0x2&&_0x587167[_0x10b46c(0x28d)]((_0x3515ef,_0x791f1c)=>{const _0x1a4a97=_0x10b46c;if(_0x791f1c>0x0&&_0x791f1c<_0x587167[_0x1a4a97(0x230)]-0x1){const {missingDay1:_0x2ddc8,notInDay2:_0x2ae0ff}=_0x166634(_0x587167[_0x791f1c][_0x1a4a97(0x27a)],_0x587167[_0x791f1c+0x1][_0x1a4a97(0x27a)]);_0x543e2a=[],(_0x2ddc8[_0x1a4a97(0x230)]!=0x0||_0x2ae0ff[_0x1a4a97(0x230)]!=0x0)&&(_0x2ddc8['length']!=0x0&&_0x543e2a[_0x1a4a97(0x210)](..._0x2ddc8),_0x2ae0ff[_0x1a4a97(0x230)]!=0x0&&(_0x2ae0ff[_0x1a4a97(0x28d)](_0x2f8fe5=>{const _0x5398c2=_0x1a4a97;_0x2f8fe5[_0x5398c2(0x226)]=-_0x2f8fe5[_0x5398c2(0x226)];}),_0x543e2a[_0x1a4a97(0x210)](..._0x2ae0ff)),_0x543e2a['sort']((_0x26d1cf,_0x438517)=>_0x26d1cf[_0x1a4a97(0x23e)]>_0x438517['coin']?0x1:_0x438517['coin']>_0x26d1cf[_0x1a4a97(0x23e)]?-0x1:0x0),_0x15610c[_0x1a4a97(0x210)]({'date':_0x587167[_0x791f1c+0x1]['date'],'changes':_0x543e2a}));}}),dbConfig[_0x10b46c(0x191)](_0x10b46c(0x162))[_0x10b46c(0x25c)]({'botID':botID})[_0x10b46c(0x208)]({..._0x2e01b8,'liquidity':_0x15610c})[_0x10b46c(0x1fb)]();}}if(isOlderVersion(_0x5c464a,_0x10b46c(0x165))){let _0x5f5675=dbConfig[_0x10b46c(0x191)](_0x10b46c(0x162))['find']({'botID':botID})[_0x10b46c(0x232)]();if(_0x5f5675){const _0x5b3ad8=_0x5f5675[_0x10b46c(0x249)],_0x5728e8=_0x5b3ad8?capitalize(_0x5b3ad8):_0x10b46c(0x166);dbConfig[_0x10b46c(0x191)]('bot')['find']({'botID':botID})[_0x10b46c(0x208)]({'exchange':_0x5728e8})[_0x10b46c(0x1fb)]();}}let _0x289ee7=dbPerformance[_0x10b46c(0x191)](_0x10b46c(0x287))[_0x10b46c(0x232)]();isOlderVersion(_0x289ee7,_0x10b46c(0x285))&&setStartDatePerformance();let _0x1b80c9=dbCoinResults[_0x10b46c(0x191)](_0x10b46c(0x287))[_0x10b46c(0x232)]();if(isOlderVersion(_0x1b80c9,_0x10b46c(0x220))){let _0x2187d2=dbCoinResults[_0x10b46c(0x191)](_0x10b46c(0x27a))[_0x10b46c(0x232)]();if(_0x2187d2['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x351a3e=_0x2267bb;dbConfig[_0x351a3e(0x23c)](_0x351a3e(0x287),serverversion)[_0x351a3e(0x1fb)](),dbPerformance['set']('version',serverversion)[_0x351a3e(0x1fb)](),dbLogs['set'](_0x351a3e(0x287),serverversion)[_0x351a3e(0x1fb)](),dbCoinResults[_0x351a3e(0x23c)](_0x351a3e(0x287),serverversion)[_0x351a3e(0x1fb)]();}function getConfiguration(_0x90d637){const _0xbf3d06=_0x2267bb;let _0x48e41f=dbConfig[_0xbf3d06(0x191)](_0xbf3d06(0x162))[_0xbf3d06(0x25c)]({'botID':_0x90d637})['value']();if(_0x48e41f){let _0x1212ac=![];typeof _0x48e41f[_0xbf3d06(0x1a2)]=='string'&&(_0x48e41f={..._0x48e41f,'threshold':Number(_0x48e41f[_0xbf3d06(0x1a2)])},_0x1212ac=!![]),_0x48e41f[_0xbf3d06(0x195)]==null&&(_0x48e41f={..._0x48e41f,'change24h':-0x14},_0x1212ac=!![]),!_0x48e41f[_0xbf3d06(0x2be)]&&(_0x48e41f={..._0x48e41f,'fiat':_0xbf3d06(0x27e)},_0x1212ac=!![]),!_0x48e41f['onepagemode']&&(_0x48e41f={..._0x48e41f,'onepagemode':settings['onepagemode']},_0x1212ac=!![]),_0x1212ac&&(_0x48e41f={'botID':_0x48e41f[_0xbf3d06(0x229)],'exchange':_0x48e41f['exchange'],'apiKey':_0x48e41f['apiKey'],'apiSecret':_0x48e41f[_0xbf3d06(0x15c)],'basecoin':_0x48e41f[_0xbf3d06(0x24a)],'botname':_0x48e41f[_0xbf3d06(0x18a)],'showname':_0x48e41f[_0xbf3d06(0x1ef)],'threshold':_0x48e41f['threshold'],'ordertype':_0x48e41f[_0xbf3d06(0x1bd)],'timeout':_0x48e41f['timeout'],'fiat':_0x48e41f[_0xbf3d06(0x2be)],'startdate':_0x48e41f[_0xbf3d06(0x25f)],'recreate':_0x48e41f[_0xbf3d06(0x188)],'timeshift':_0x48e41f[_0xbf3d06(0x1a8)],'onepagemode':_0x48e41f[_0xbf3d06(0x170)],'headless':_0x48e41f[_0xbf3d06(0x262)],'cooldown':_0x48e41f[_0xbf3d06(0x1f3)],'change24h':_0x48e41f['change24h'],'emojibuy':_0x48e41f['emojibuy'],'emojisell':_0x48e41f[_0xbf3d06(0x20f)],'portfolio':_0x48e41f['portfolio'],'liquidity':_0x48e41f[_0xbf3d06(0x1a7)],'openOrders':_0x48e41f[_0xbf3d06(0x26b)]},dbConfig[_0xbf3d06(0x191)](_0xbf3d06(0x162))[_0xbf3d06(0x2a6)]()['write'](),dbConfig[_0xbf3d06(0x191)](_0xbf3d06(0x162))[_0xbf3d06(0x210)](_0x48e41f)[_0xbf3d06(0x1fb)]());}else _0x48e41f={'botID':_0x90d637,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x90d637,'showname':![],'threshold':0x3,'ordertype':_0xbf3d06(0x274),'timeout':0x14,'fiat':_0xbf3d06(0x27e),'startdate':getDate(),'recreate':![],'timeshift':settings[_0xbf3d06(0x1a8)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x48e41f;}function emittedConfiguration(){const _0xcf26a=_0x2267bb;let _0x2c379d;if(config[_0xcf26a(0x14d)]=='')_0x2c379d={...config,'configstate':'initial'};else config['apiKey']==_0xcf26a(0x1f1)?_0x2c379d={...config,'configstate':_0xcf26a(0x27c)}:_0x2c379d={...config,'apiKey':'************','apiSecret':_0xcf26a(0x28f)};return _0x2c379d;}function getSettings(){const _0x4f2968=_0x2267bb;return dbSettings[_0x4f2968(0x191)](_0x4f2968(0x22a))['value']();}function getSecure(){const _0x43f46a=_0x2267bb;return dbSecure[_0x43f46a(0x191)]('secure')['value']()||{};}function updateTimeshift(_0x9170f3){const _0x4d20e4=_0x2267bb;let _0x49b6f3=dbConfig[_0x4d20e4(0x191)](_0x4d20e4(0x162))[_0x4d20e4(0x25c)]({'botID':botID})[_0x4d20e4(0x232)]();_0x49b6f3&&dbConfig[_0x4d20e4(0x191)](_0x4d20e4(0x162))['find']({'botID':botID})[_0x4d20e4(0x208)]({'timeshift':_0x9170f3})[_0x4d20e4(0x1fb)](),config[_0x4d20e4(0x1a8)]=_0x9170f3,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0xf656c7){const _0x22af20=_0x2267bb;let _0x50ea41=dbConfig[_0x22af20(0x191)]('bot')[_0x22af20(0x25c)]({'botID':botID})[_0x22af20(0x232)]();_0x50ea41&&dbConfig[_0x22af20(0x191)](_0x22af20(0x162))['find']({'botID':botID})['assign']({'onepagemode':_0xf656c7})[_0x22af20(0x1fb)](),config['onepagemode']=_0xf656c7,proxyEmit(_0x22af20(0x1dc),emittedConfiguration());}async function storeConfiguration(_0x22a29b){const _0x360873=_0x2267bb;logger[_0x360873(0x16a)](_0x360873(0x2ae)),blockTransactionDetection=!![],logger[_0x360873(0x16a)](_0x360873(0x19f));let _0x13e5cb=[],_0x3f5d92=![],_0x3c9389=[];_0x22a29b[_0x360873(0x2a8)][_0x360873(0x28d)](_0x2ae84e=>{const _0x4a635c=_0x360873;if(!_0x2ae84e['excluded']&&_0x2ae84e['coin']!=_0x22a29b[_0x4a635c(0x24a)])_0x3c9389['push'](_0x2ae84e[_0x4a635c(0x1ad)]);}),_0x3c9389[_0x360873(0x28d)](_0x3538be=>{const _0x17ceda=_0x360873,_0x1d784a=watchedSymbols[_0x17ceda(0x272)](_0x3538be);!_0x1d784a&&_0x13e5cb[_0x17ceda(0x210)](_0x3538be);});_0x13e5cb[_0x360873(0x230)]>0x0?_0x3f5d92=!![]:currentCoins[_0x360873(0x28d)](_0xbcc343=>{const _0x28f334=_0x360873;if(_0xbcc343[_0x28f334(0x23e)]!=config['basecoin']){const _0x56ceae=_0x3c9389[_0x28f334(0x25c)](_0x57a6aa=>_0x57a6aa==_0xbcc343['symbol']);!_0x56ceae&&(_0x3f5d92=!![]);}});let _0x2f25a4=dbConfig[_0x360873(0x191)]('bot')[_0x360873(0x25c)]({'botID':botID})[_0x360873(0x232)]();_0x22a29b={..._0x22a29b,'apiKey':crypt[_0x360873(0x29d)](secure[_0x360873(0x247)],_0x22a29b[_0x360873(0x14d)])[_0x360873(0x1da)],'apiSecret':crypt[_0x360873(0x29d)](secure[_0x360873(0x247)],_0x22a29b['apiSecret'])[_0x360873(0x1da)]};let _0x56ca62=![];_0x2f25a4?(_0x22a29b[_0x360873(0x14d)]==_0x360873(0x28f)?_0x22a29b[_0x360873(0x14d)]=config[_0x360873(0x14d)]:_0x56ca62=!![],_0x22a29b[_0x360873(0x15c)]==_0x360873(0x28f)?_0x22a29b[_0x360873(0x15c)]=config[_0x360873(0x15c)]:_0x56ca62=!![],dbConfig[_0x360873(0x191)](_0x360873(0x162))['find']({'botID':botID})[_0x360873(0x208)](_0x22a29b)[_0x360873(0x1fb)]()):(dbConfig[_0x360873(0x191)](_0x360873(0x162))[_0x360873(0x210)](_0x22a29b)[_0x360873(0x1fb)](),_0x56ca62=!![],process['send']({'status':_0x360873(0x15b),'live':_0x360873(0x1d3)},_0x1649a8=>{}));config={..._0x22a29b},setStartDatePerformance(),process[_0x360873(0x233)]({'botname':_0x22a29b[_0x360873(0x18a)]},_0x40a92f=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x360873(0x265)),await initCoinResults();if(_0x56ca62)await reset(_0x13e5cb,!![]);else{if(_0x3f5d92)await reset(_0x13e5cb,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x360873(0x16a)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x4d752b){const _0x267c61=_0x2267bb,_0x2a6b81={...config,'headless':_0x4d752b[_0x267c61(0x262)]};let _0x54fe5e=dbConfig[_0x267c61(0x191)](_0x267c61(0x162))[_0x267c61(0x25c)]({'botID':botID})[_0x267c61(0x232)]();_0x54fe5e&&dbConfig[_0x267c61(0x191)](_0x267c61(0x162))[_0x267c61(0x25c)]({'botID':botID})[_0x267c61(0x208)](_0x2a6b81)[_0x267c61(0x1fb)](),config={..._0x2a6b81},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0xb3987){const _0x58a835=_0x2267bb,_0x541844={...config,'fiat':_0xb3987};let _0x46c64d=dbConfig[_0x58a835(0x191)](_0x58a835(0x162))[_0x58a835(0x25c)]({'botID':botID})[_0x58a835(0x232)]();_0x46c64d&&dbConfig[_0x58a835(0x191)](_0x58a835(0x162))['find']({'botID':botID})[_0x58a835(0x208)](_0x541844)[_0x58a835(0x1fb)](),config={..._0x541844},proxyEmit(_0x58a835(0x1dc),emittedConfiguration());}function resetHistory(){const _0x12a9ac=_0x2267bb;logger[_0x12a9ac(0x1ac)]('Resetting\x20bot\x20history');try{if(fs['existsSync'](path[_0x12a9ac(0x257)](configpath,_0x12a9ac(0x2a2)+botID+_0x12a9ac(0x17e))))fs[_0x12a9ac(0x1a6)](path['join'](configpath,_0x12a9ac(0x2a2)+botID+_0x12a9ac(0x17e)));if(fs[_0x12a9ac(0x180)](path[_0x12a9ac(0x257)](configpath,_0x12a9ac(0x2a2)+botID+_0x12a9ac(0x1ca))))fs[_0x12a9ac(0x1a6)](path[_0x12a9ac(0x257)](configpath,_0x12a9ac(0x2a2)+botID+_0x12a9ac(0x1ca)));if(fs[_0x12a9ac(0x180)](path[_0x12a9ac(0x257)](configpath,_0x12a9ac(0x2a2)+botID+_0x12a9ac(0x197))))fs['unlinkSync'](path[_0x12a9ac(0x257)](configpath,_0x12a9ac(0x2a2)+botID+_0x12a9ac(0x197)));}catch(_0x37b1b1){if(_0x37b1b1)logger[_0x12a9ac(0x1ac)](_0x12a9ac(0x2b1),_0x37b1b1);}const _0x5477d7=getDate();let _0x182e12=[];currentCoins[_0x12a9ac(0x28d)](_0x518d3d=>{const _0x2a16e4=_0x12a9ac;_0x182e12[_0x2a16e4(0x210)]({'coin':_0x518d3d[_0x2a16e4(0x23e)],'number':_0x518d3d['number'],'price':_0x518d3d[_0x2a16e4(0x2a3)]});});let _0x36d061=dbConfig[_0x12a9ac(0x191)](_0x12a9ac(0x162))['find']({'botID':botID})['value']();_0x36d061&&(dbConfig[_0x12a9ac(0x191)](_0x12a9ac(0x162))['find']({'botID':botID})[_0x12a9ac(0x208)]({'liquidity':[{'date':_0x5477d7,'changes':_0x182e12}]})[_0x12a9ac(0x1fb)](),config['liquidity']=[]),process[_0x12a9ac(0x233)]({'stop':_0x12a9ac(0x175)},_0x51e5a5=>{});}function noslash(_0x38ae09){return _0x38ae09['replace']('/','');}function updateHighestFee(_0x5d84d4,_0x52247c){const _0xf93741=_0x2267bb;lastFees['currency']=_0x5d84d4,lastFees['recent20'][_0xf93741(0x230)]===0x14&&lastFees['recent20']['shift'](),lastFees[_0xf93741(0x1ec)]['push'](_0x52247c),lastFees[_0xf93741(0x237)]=Math['max'](...lastFees[_0xf93741(0x1ec)]);}async function updateNumberCoinsCcxt(_0x5d3c44){const _0x52fed2=_0x2267bb;logger[_0x52fed2(0x16a)](_0x52fed2(0x1f9)+_0x5d3c44[_0x52fed2(0x1ad)]+_0x52fed2(0x1e9)+_0x5d3c44[_0x52fed2(0x227)]+_0x52fed2(0x1e9)+_0x5d3c44['id']+_0x52fed2(0x1e9)+_0x5d3c44[_0x52fed2(0x238)]);let _0x4bb0c9=_0x5d3c44[_0x52fed2(0x227)],_0x3f9146=![];currentCoins[_0x52fed2(0x28d)](_0x48f06e=>{const _0x5345ac=_0x52fed2;_0x48f06e[_0x5345ac(0x1ad)]==_0x5d3c44['symbol']&&(_0x3f9146=!![]);});if(!_0x3f9146)return;const _0x1c167c=currentCoins['find'](_0x2af03d=>_0x2af03d['symbol']==_0x5d3c44[_0x52fed2(0x1ad)]),_0x4182e8=_0x39324e=>{const _0x28f284=_0x52fed2;if(_0x1c167c)_0x1c167c[_0x28f284(0x1d0)]=_0x39324e;};if(_0x4bb0c9==_0x52fed2(0x2bc))_0x4182e8('open');else{if(_0x4bb0c9=='canceled'){_0x4182e8(_0x52fed2(0x1c7));const _0x4b0381=await getCoins();[currentCoins,currentCoinsAll]=_0x4b0381,await getOpenOrders(),handleOpenOrders();}else{if(_0x4bb0c9==_0x52fed2(0x212)){logger['debug']('1\x20-\x20FILLED:\x20'+_0x5d3c44['symbol']+_0x52fed2(0x1e9)+_0x5d3c44['filled']+_0x52fed2(0x1e9)+_0x5d3c44['id']+_0x52fed2(0x1e9)+_0x5d3c44['clientOrderId']);let _0x38ffd5=![];if(lastOrders)lastOrders[_0x52fed2(0x28d)](async _0x21edf0=>{const _0x1051a5=_0x52fed2;if(_0x21edf0[_0x1051a5(0x19a)]==_0x5d3c44[_0x1051a5(0x238)]){logger[_0x1051a5(0x16a)](_0x1051a5(0x183)+_0x5d3c44['clientOrderId']),_0x38ffd5=!![];if(_0x21edf0[_0x1051a5(0x14c)]==0x0){logger['debug'](_0x1051a5(0x1f4)+_0x5d3c44['clientOrderId']),_0x21edf0[_0x1051a5(0x161)]=_0x5d3c44[_0x1051a5(0x1fd)],_0x21edf0[_0x1051a5(0x14c)]=_0x5d3c44[_0x1051a5(0x14c)],_0x21edf0[_0x1051a5(0x205)]={'currency':_0x5d3c44['fee']?_0x5d3c44[_0x1051a5(0x205)][_0x1051a5(0x1cb)]:null,'cost':_0x5d3c44['fee']?_0x5d3c44['fee'][_0x1051a5(0x1a9)]:0x0},updateHighestFee(_0x21edf0[_0x1051a5(0x205)][_0x1051a5(0x1cb)],_0x21edf0[_0x1051a5(0x205)]['cost']),_0x4182e8('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x390571=await getCoins();[currentCoins,currentCoinsAll]=_0x390571;}await updateCoinResults(_0x21edf0);}}});if(!_0x38ffd5){logger['debug'](_0x52fed2(0x17f)+_0x5d3c44['id']),_0x4182e8('filled');const _0x119125=await getCoins();[currentCoins,currentCoinsAll]=_0x119125,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x40711a=JSON[_0x52fed2(0x203)](lastBalances[_0x52fed2(0x2a8)]);const _0xa1e3f6=_0x40711a[_0x52fed2(0x25c)](_0x434f10=>_0x434f10[_0x52fed2(0x1ad)]==_0x5d3c44['symbol']);if(_0xa1e3f6){if(_0x4bb0c9==_0x52fed2(0x2bc))_0xa1e3f6[_0x52fed2(0x1d0)]=_0xa1e3f6['orderstatus']==_0x52fed2(0x14c)?_0x52fed2(0x14c):_0x52fed2(0x2bc);else{if(_0x4bb0c9==_0x52fed2(0x1c7))_0xa1e3f6[_0x52fed2(0x1d0)]=_0xa1e3f6['orderstatus']=='filled'?_0x52fed2(0x14c):'canceled';else _0x4bb0c9==_0x52fed2(0x212)&&(_0xa1e3f6['orderstatus']='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x52fed2(0x239)](_0x40711a)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x43aba3=_0x2267bb;await getOpenOrders();let _0x4f264c=![];currentCoins[_0x43aba3(0x28d)](_0x567b54=>{const _0x174099=_0x43aba3;_0x4f264c=allOpenOrders[_0x174099(0x25c)](_0xd299a7=>_0xd299a7[_0x174099(0x1ad)]==_0x567b54[_0x174099(0x1ad)]),_0x567b54[_0x174099(0x1d0)]=_0x4f264c?_0x174099(0x2bc):_0x174099(0x176);});}async function getCoins(_0x27f0ac=!![],_0x376644=config[_0x2267bb(0x24a)]){const _0x344f69=_0x2267bb;let _0x5869ad,_0x30dc42=[],_0x54414f=[],_0x4fbf4f=[],_0x591978=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x5869ad=await exchange[_0x344f69(0x2b5)](),mybalances=_0x5869ad[_0x344f69(0x2a4)];for(const [_0x15cb3a,_0x52873a]of Object[_0x344f69(0x219)](mybalances)){_0x591978[_0x344f69(0x210)](_0x15cb3a);}if(_0x376644=='')for(const [_0x115f13,_0x4e29a5]of Object[_0x344f69(0x219)](mybalances)){_0x4e29a5[_0x344f69(0x1ba)]()!=0x0&&_0x54414f[_0x344f69(0x210)]({'coin':_0x115f13});}else{let _0x522d5c=![];for(const [_0x40a1fa,_0x1366b7]of Object[_0x344f69(0x219)](mybalances)){if(_0x591978['includes'](_0x40a1fa)){const _0x4d3c47=config['portfolio'][_0x344f69(0x25c)](_0x4c744e=>_0x4c744e['coin']==_0x40a1fa),_0x5424c4=_0x40a1fa+'/'+_0x376644,_0x3a42e0=_0x376644+'/'+_0x40a1fa,_0xbbf2b0=currentCoins[_0x344f69(0x25c)](_0xfdc503=>_0xfdc503[_0x344f69(0x23e)]==_0x40a1fa);_0x522d5c=![];if((_0x1366b7[_0x344f69(0x1ba)]()!=0x0||_0x4d3c47)&&(allSymbols[_0x344f69(0x272)](_0x5424c4)||_0x40a1fa==_0x376644))_0x40a1fa!=_0x376644&&_0x30dc42[_0x344f69(0x210)](_0x5424c4),_0x54414f['push']({'coin':_0x40a1fa,'symbol':_0x5424c4,'reverse':![],'number':Math[_0x344f69(0x1cc)](_0x1366b7+(_0x4d3c47&&_0x4d3c47[_0x344f69(0x178)]||0x0),0x0),'orderstatus':_0xbbf2b0?_0xbbf2b0[_0x344f69(0x1d0)]:_0x344f69(0x176)});else(_0x1366b7[_0x344f69(0x1ba)]()!=0x0||_0x4d3c47)&&allSymbols['includes'](_0x3a42e0)&&(_0x40a1fa!=_0x376644&&_0x30dc42[_0x344f69(0x210)](_0x3a42e0),_0x54414f['push']({'coin':_0x40a1fa,'symbol':_0x3a42e0,'reverse':!![],'number':Math[_0x344f69(0x1cc)](_0x1366b7+(_0x4d3c47&&_0x4d3c47[_0x344f69(0x178)]||0x0),0x0),'orderstatus':_0xbbf2b0?_0xbbf2b0[_0x344f69(0x1d0)]:_0x344f69(0x176)}));}}}}catch(_0x20af1a){if(!_0x27f0ac)handleErrorNoStop(_0x20af1a,_0x344f69(0x169));else await handleError(_0x20af1a,_0x344f69(0x169));}return _0x4fbf4f=cloneDeep(_0x54414f),_0x54414f=_0x54414f['filter'](_0x49edb7=>{const _0x15d65b=_0x344f69,_0x128782=config[_0x15d65b(0x2a8)][_0x15d65b(0x25c)](_0x19fee4=>_0x19fee4[_0x15d65b(0x23e)]==_0x49edb7[_0x15d65b(0x23e)]);return _0x128782&&!_0x128782[_0x15d65b(0x2b7)];}),[_0x54414f,_0x4fbf4f];}async function getCoinNumber(_0x10b8ad){const _0x3fd11f=_0x2267bb;let _0x2e0f20;try{const _0x4c646e=await exchange[_0x3fd11f(0x2b5)]();_0x2e0f20=_0x4c646e['total'][_0x10b8ad];}catch(_0x430cc0){await handleError(_0x430cc0,_0x3fd11f(0x258));}return _0x2e0f20;}async function getOpenOrders(){const _0x577f5c=_0x2267bb;let _0x537f9d;allOpenOrders=[];try{for(const _0x4c3f3c of config[_0x577f5c(0x2a8)]){!_0x4c3f3c[_0x577f5c(0x2b7)]&&_0x4c3f3c[_0x577f5c(0x23e)]!=config[_0x577f5c(0x24a)]&&(_0x537f9d=await exchange['fetchOpenOrders'](_0x4c3f3c[_0x577f5c(0x1ad)]),_0x537f9d[_0x577f5c(0x230)]>0x0&&allOpenOrders[_0x577f5c(0x210)](_0x537f9d[0x0]));}}catch(_0x515ec2){await handleError(_0x515ec2,_0x577f5c(0x18f));}}async function handleOpenOrders(_0x54ec60=0x0){const _0xa4ea96=_0x2267bb;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0xa4ea96(0x14a)]&&allOrdersPlaced&&(_0x54ec60==0x0?(logger['debug'](_0xa4ea96(0x236)),_0x54ec60++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0xa4ea96(0x16a)](_0xa4ea96(0x24c)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x19c3d9){const _0x2ef913=_0x2267bb,_0x14b740=ccxt[_0x19c3d9[_0x2ef913(0x249)][_0x2ef913(0x19e)]()],_0x1def38=new _0x14b740({'apiKey':_0x19c3d9[_0x2ef913(0x14d)],'secret':_0x19c3d9[_0x2ef913(0x15c)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x1def38[_0x2ef913(0x1d4)]();}catch(_0x343a0c){throw _0x343a0c;}}function cloneDeep(_0x1b7a51){const _0x25aae1=_0x2267bb;return JSON[_0x25aae1(0x203)](JSON[_0x25aae1(0x239)](_0x1b7a51));}function _0x281b(_0x2a6419,_0x260266){const _0x11602a=_0x55b8();return _0x281b=function(_0xc54e38,_0x3b4358){_0xc54e38=_0xc54e38-0x149;let _0x55b833=_0x11602a[_0xc54e38];return _0x55b833;},_0x281b(_0x2a6419,_0x260266);}async function getPortfolio(_0x48a6fa){const _0x2f2f4b=_0x2267bb;let _0x211c6e=[],_0x4ca6a4=[],_0x18cca1=[],_0x1edda0;if(_0x48a6fa['apiKey']!==_0x2f2f4b(0x28f)||_0x48a6fa['apiSecret']!==_0x2f2f4b(0x28f)){if(config[_0x2f2f4b(0x249)]){if(_0x48a6fa[_0x2f2f4b(0x14d)]==_0x2f2f4b(0x28f))_0x48a6fa[_0x2f2f4b(0x14d)]=config[_0x2f2f4b(0x14d)];if(_0x48a6fa[_0x2f2f4b(0x15c)]=='************')_0x48a6fa[_0x2f2f4b(0x15c)]=config[_0x2f2f4b(0x15c)];try{await testAPI(_0x48a6fa);}catch(_0x50b904){if(_0x50b904['toString']()[_0x2f2f4b(0x272)](_0x2f2f4b(0x1aa))){logger[_0x2f2f4b(0x16a)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x2f2f4b(0x2a8),![]);return;}else{handleError(_0x50b904,_0x2f2f4b(0x1c3));return;}}}await initExchange(_0x48a6fa[_0x2f2f4b(0x249)],_0x48a6fa[_0x2f2f4b(0x14d)],_0x48a6fa[_0x2f2f4b(0x15c)]);try{await loadSymbols(_0x48a6fa[_0x2f2f4b(0x249)],!![]);}catch(_0x4631db){if(_0x4631db[_0x2f2f4b(0x1ba)]()[_0x2f2f4b(0x272)]('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x4631db,'getPortfolio(1)');return;}}const _0x7dca16=await getCoins(![],_0x48a6fa[_0x2f2f4b(0x24a)]);_0x18cca1=cloneDeep(_0x7dca16[0x1]);}else _0x18cca1=cloneDeep(currentCoinsAll);if(_0x48a6fa[_0x2f2f4b(0x24a)]=='')proxyEmit('portfolio',_0x18cca1);else{_0x18cca1[_0x2f2f4b(0x28d)](_0x1b1a09=>{const _0xeed767=_0x2f2f4b;if(_0x1b1a09[_0xeed767(0x23e)]!=_0x48a6fa[_0xeed767(0x24a)])_0x211c6e['push'](_0x1b1a09['symbol']);});try{_0x4ca6a4=await exchange[_0x2f2f4b(0x16d)](_0x211c6e);}catch(_0x5670c2){if(_0x5670c2[_0x2f2f4b(0x1ba)]()[_0x2f2f4b(0x272)](_0x2f2f4b(0x1aa))){proxyEmit(_0x2f2f4b(0x2a8),![]);return;}else{handleError(_0x5670c2,_0x2f2f4b(0x155));return;}}_0x18cca1['forEach'](_0x539493=>{const _0x1904e2=_0x2f2f4b;_0x539493[_0x1904e2(0x23e)]!=_0x48a6fa[_0x1904e2(0x24a)]?_0x1edda0=_0x539493[_0x1904e2(0x255)]?0x1/_0x4ca6a4[_0x539493['symbol']][_0x1904e2(0x2a3)]:_0x4ca6a4[_0x539493[_0x1904e2(0x1ad)]][_0x1904e2(0x2a3)]:_0x1edda0=0x1,_0x539493[_0x1904e2(0x161)]=formatResult(_0x1edda0,0x8);}),proxyEmit(_0x2f2f4b(0x2a8),_0x18cca1);}}function checkMinimums(_0x440468){const _0x5635d0=_0x2267bb;let _0x13cd03=!![];const _0x4663e9=!_0x440468['reverse']?markets[_0x440468['symbol']]['limits']['amount']['min']:markets[_0x440468[_0x5635d0(0x1ad)]]['limits']['cost'][_0x5635d0(0x1c0)],_0xcd6ffc=!_0x440468[_0x5635d0(0x255)]?markets[_0x440468['symbol']][_0x5635d0(0x281)][_0x5635d0(0x1a9)][_0x5635d0(0x1c0)]:markets[_0x440468[_0x5635d0(0x1ad)]]['limits'][_0x5635d0(0x279)][_0x5635d0(0x1c0)],_0x2a6b06=markets[_0x440468[_0x5635d0(0x1ad)]][_0x5635d0(0x20e)][_0x5635d0(0x279)];_0x440468[_0x5635d0(0x215)]=formatResultTruncate(_0x440468[_0x5635d0(0x215)],_0x2a6b06);if(Math['abs'](_0x440468['trade'])<_0x4663e9)_0x13cd03=![];if(Math[_0x5635d0(0x242)](_0x440468[_0x5635d0(0x215)])*_0x440468[_0x5635d0(0x2a3)]<_0xcd6ffc)_0x13cd03=![];if(_0x440468['side']==_0x5635d0(0x25d)){let _0x3762b9=config[_0x5635d0(0x2a8)]['find'](_0x46feeb=>_0x46feeb[_0x5635d0(0x23e)]==_0x440468['coin']);if(_0x3762b9['offset']>0x0){if(Math[_0x5635d0(0x242)](_0x440468[_0x5635d0(0x215)])>_0x440468[_0x5635d0(0x226)]-_0x3762b9[_0x5635d0(0x178)])_0x13cd03=![];}else{if(Math[_0x5635d0(0x242)](_0x440468['trade'])>_0x440468[_0x5635d0(0x226)])_0x13cd03=![];}}if(_0x440468['side']=='buy'){let _0x861afd=config['portfolio'][_0x5635d0(0x25c)](_0x1d52fb=>_0x1d52fb['coin']==config[_0x5635d0(0x24a)]),_0x44ff55=currentCoins[_0x5635d0(0x25c)](_0x3d0057=>_0x3d0057[_0x5635d0(0x23e)]==config[_0x5635d0(0x24a)]);if(_0x861afd[_0x5635d0(0x178)]>0x0){if(Math[_0x5635d0(0x242)](_0x440468[_0x5635d0(0x215)])*_0x440468[_0x5635d0(0x2a3)]>_0x44ff55[_0x5635d0(0x226)]-_0x861afd[_0x5635d0(0x178)])_0x13cd03=![];}else{if(Math[_0x5635d0(0x242)](_0x440468[_0x5635d0(0x215)])*_0x440468[_0x5635d0(0x2a3)]>_0x44ff55[_0x5635d0(0x226)])_0x13cd03=![];}}return _0x13cd03;}async function getBalances(){const _0x366f2d=_0x2267bb;let _0x1c9e27=0x0,_0x18eab9;const _0x4a4693=config[_0x366f2d(0x1a2)];if(config[_0x366f2d(0x262)]&&config[_0x366f2d(0x195)]<0x0)await validate24hChanges();currentCoins[_0x366f2d(0x28d)](_0x3ccee2=>{const _0x2359b0=_0x366f2d;if(_0x3ccee2[_0x2359b0(0x23e)]!=config[_0x2359b0(0x24a)]){let _0x1a6253=global[_0x2359b0(0x221)][noslash(_0x3ccee2['symbol'])];_0x18eab9=_0x3ccee2[_0x2359b0(0x255)]?0x1/_0x1a6253:_0x1a6253;}else _0x18eab9=0x1;let _0x5c4946=_0x3ccee2[_0x2359b0(0x226)]*_0x18eab9;_0x1c9e27+=_0x5c4946,_0x3ccee2[_0x2359b0(0x2a3)]=formatResult(Number(_0x18eab9),0x8),_0x3ccee2[_0x2359b0(0x232)]=_0x5c4946;}),currentCoins[_0x366f2d(0x28d)](_0x48804a=>{const _0x1e7151=_0x366f2d;let _0x17b836=config[_0x1e7151(0x2a8)][_0x1e7151(0x25c)](_0x2bc9f8=>_0x2bc9f8[_0x1e7151(0x23e)]==_0x48804a[_0x1e7151(0x23e)]),_0x95a400=Number(_0x17b836['distribution']),_0x3ba94f=_0x48804a['value']/_0x1c9e27*0x64,_0x2a40e7=_0x95a400*_0x1c9e27/0x64/_0x48804a[_0x1e7151(0x2a3)]-_0x48804a['number'];_0x48804a[_0x1e7151(0x245)]=formatResult(_0x3ba94f,0x3),_0x48804a[_0x1e7151(0x243)]=formatResult(_0x95a400,0x3),_0x48804a['trade']=formatResult(_0x2a40e7,0x8),_0x48804a[_0x1e7151(0x18d)]='',_0x48804a['valid']=![];if(_0x48804a[_0x1e7151(0x23e)]!=config[_0x1e7151(0x24a)]){if(_0x48804a['distribution']>_0x95a400)_0x48804a[_0x1e7151(0x18d)]='sell',_0x48804a['valid']=checkMinimums(_0x48804a);else _0x48804a['distribution']<_0x95a400&&(_0x48804a[_0x1e7151(0x18d)]=_0x1e7151(0x2ab),_0x48804a[_0x1e7151(0x218)]=checkMinimums(_0x48804a));}_0x48804a[_0x1e7151(0x235)]=_0x48804a[_0x1e7151(0x245)]/_0x48804a[_0x1e7151(0x243)]-0x1;if(_0x48804a['orderstatus']==_0x1e7151(0x14c)||_0x48804a[_0x1e7151(0x1d0)]=='canceled')_0x48804a[_0x1e7151(0x1d0)]=_0x1e7151(0x176);}),currentCoins[_0x366f2d(0x1b5)]((_0x22f1d6,_0x2e1dd1)=>_0x22f1d6[_0x366f2d(0x235)]<_0x2e1dd1[_0x366f2d(0x235)]?0x1:_0x2e1dd1[_0x366f2d(0x235)]<_0x22f1d6[_0x366f2d(0x235)]?-0x1:0x0);const _0xb76066=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0xb76066['eur'],'usd':_0xb76066[_0x366f2d(0x2a9)],'portfolio':JSON[_0x366f2d(0x239)](currentCoins),'threshold':_0x4a4693},proxyEmit(_0x366f2d(0x1f5),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x4a4693});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4a4693});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1c933f=getNormalizedPerformance();getStartingBalances(_0x1c933f),emitPerformance(_0x1c933f);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x5b09e2=getNormalizedPerformance();emitPerformance(_0x5b09e2),getStartingBalances(_0x5b09e2),logger['debug'](_0x366f2d(0x154));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x35135e=_0x2267bb;if(!lastBalances)return;let _0x47674f=[],_0x9c07b7,_0x50efee=JSON['parse'](lastBalances['portfolio']);_0x50efee[_0x35135e(0x1b5)]((_0x24c3e9,_0x5cb89b)=>_0x24c3e9[_0x35135e(0x23e)]>_0x5cb89b['coin']?0x1:_0x5cb89b[_0x35135e(0x23e)]>_0x24c3e9[_0x35135e(0x23e)]?-0x1:0x0),_0x50efee[_0x35135e(0x28d)](_0x18d4e2=>{const _0x18b857=_0x35135e;let _0x11d977={'coin':_0x18d4e2[_0x18b857(0x23e)],'number':_0x18d4e2[_0x18b857(0x226)],'price':_0x18d4e2[_0x18b857(0x2a3)]};_0x47674f[_0x18b857(0x210)](_0x11d977);});const _0x3adf23=await getFiat();_0x9c07b7={'date':lastBalances['time'][_0x35135e(0x2a5)]('\x20')[0x0],'eur':_0x3adf23[_0x35135e(0x1b4)],'usd':_0x3adf23[_0x35135e(0x2a9)],'coins':_0x47674f};let _0x243d9b=dbPerformance['get'](_0x35135e(0x17c))[_0x35135e(0x25c)]({'date':_0x9c07b7[_0x35135e(0x158)]})[_0x35135e(0x232)]();_0x243d9b?_0x9c07b7['date']!=config[_0x35135e(0x25f)]&&dbPerformance[_0x35135e(0x191)](_0x35135e(0x17c))['find']({'date':_0x9c07b7[_0x35135e(0x158)]})[_0x35135e(0x208)](_0x9c07b7)[_0x35135e(0x1fb)]():dbPerformance[_0x35135e(0x191)](_0x35135e(0x17c))['push'](_0x9c07b7)[_0x35135e(0x1fb)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5a1c35=_0x2267bb;let _0x1d0c61=[];if(dbPerformance[_0x5a1c35(0x164)](_0x5a1c35(0x17c))[_0x5a1c35(0x232)]()){let _0x8e1c00=dbPerformance[_0x5a1c35(0x191)](_0x5a1c35(0x17c))[_0x5a1c35(0x1a0)]()[_0x5a1c35(0x2bd)](_0x5a1c35(0x158))[_0x5a1c35(0x232)](),_0x58704c=[...config[_0x5a1c35(0x1a7)]];_0x58704c[_0x5a1c35(0x1b5)]((_0x40be53,_0x2c25c1)=>_0x40be53[_0x5a1c35(0x158)]>_0x2c25c1[_0x5a1c35(0x158)]?-0x1:_0x2c25c1['date']>_0x40be53[_0x5a1c35(0x158)]?0x1:0x0);let _0x48c0e1=0x1,_0x527cfb=[],_0x5a73f1=0x0;_0x8e1c00[_0x5a1c35(0x1b9)]()[_0x5a1c35(0x255)]()[_0x5a1c35(0x28d)]((_0x4e5ef9,_0x32652b)=>{const _0x33b400=_0x5a1c35;if(_0x58704c[_0x5a73f1]){if(_0x8e1c00[_0x8e1c00[_0x33b400(0x230)]-_0x32652b]&&_0x58704c[_0x5a73f1][_0x33b400(0x158)]==_0x8e1c00[_0x8e1c00['length']-_0x32652b][_0x33b400(0x158)]){if(_0x32652b<_0x8e1c00[_0x33b400(0x230)]){let _0x498007=0x0,_0x3b57b3=0x0;_0x8e1c00[_0x8e1c00[_0x33b400(0x230)]-_0x32652b][_0x33b400(0x27a)][_0x33b400(0x28d)](_0xfdb0a1=>{const _0x5dfdcb=_0x33b400;_0x3b57b3+=_0xfdb0a1[_0x5dfdcb(0x226)]*_0xfdb0a1[_0x5dfdcb(0x161)];}),_0x58704c[_0x5a73f1][_0x33b400(0x228)][_0x33b400(0x28d)](_0x243b52=>{const _0x5d44f7=_0x33b400;_0x498007+=_0x243b52[_0x5d44f7(0x226)]*_0x243b52['price'];}),_0x48c0e1*=_0x498007/(_0x3b57b3-_0x498007)+0x1;}_0x5a73f1++;}}let _0x4be443=0x0;_0x4e5ef9['coins']['forEach'](_0xeed273=>{const _0x43f3fe=_0x33b400;_0x4be443+=_0xeed273[_0x43f3fe(0x226)]*_0xeed273[_0x43f3fe(0x161)];}),_0x527cfb[_0x8e1c00[_0x33b400(0x230)]-_0x32652b-0x1]=_0x4be443*(_0x48c0e1-0x1);});let _0x591091=[];_0x58704c=[...config['liquidity']]||[];let _0x205a07=0x0;_0x5a73f1=0x0,_0x8e1c00[_0x5a1c35(0x28d)]((_0x358cb6,_0x5ee9a1)=>{const _0x2e63b3=_0x5a1c35;if(_0x58704c[_0x5a73f1]){const _0x463815=fns[_0x2e63b3(0x203)](_0x58704c[_0x5a73f1][_0x2e63b3(0x158)],_0x2e63b3(0x261),new Date()),_0x3b5c89=fns[_0x2e63b3(0x203)](_0x358cb6[_0x2e63b3(0x158)],_0x2e63b3(0x261),new Date());if(fns['isEqual'](_0x463815,_0x3b5c89)){let _0x464ee3=0x0;_0x58704c[_0x5a73f1][_0x2e63b3(0x228)]['forEach'](_0x44d52e=>{const _0x7e2e06=_0x2e63b3;!_0x591091[_0x44d52e[_0x7e2e06(0x23e)]]?_0x591091[_0x44d52e[_0x7e2e06(0x23e)]]=_0x44d52e[_0x7e2e06(0x226)]:(_0x464ee3=_0x591091[_0x44d52e['coin']],_0x591091[_0x44d52e[_0x7e2e06(0x23e)]]+=_0x44d52e['number']);const _0x477cf8=_0x358cb6[_0x7e2e06(0x27a)][_0x7e2e06(0x25c)](_0x28885c=>_0x28885c[_0x7e2e06(0x23e)]==_0x44d52e['coin']);(!_0x477cf8||_0x477cf8[_0x7e2e06(0x226)]==0x0)&&(_0x205a07+=(-_0x44d52e[_0x7e2e06(0x226)]-_0x464ee3)*_0x44d52e[_0x7e2e06(0x161)]);}),_0x5a73f1++;}}_0x358cb6[_0x2e63b3(0x27a)][_0x2e63b3(0x28d)]((_0x276b11,_0x203ccb)=>{const _0x5b29bb=_0x2e63b3;_0x591091[_0x276b11[_0x5b29bb(0x23e)]]&&(_0x276b11[_0x5b29bb(0x1f6)]=_0x591091[_0x276b11[_0x5b29bb(0x23e)]]);}),_0x1d0c61[_0x2e63b3(0x210)]({'date':_0x358cb6[_0x2e63b3(0x158)],'eur':_0x358cb6[_0x2e63b3(0x1b4)],'usd':_0x358cb6[_0x2e63b3(0x2a9)],'offset':_0x527cfb[_0x5ee9a1],'netoffset':_0x205a07,'coins':_0x358cb6[_0x2e63b3(0x27a)]});});}return _0x1d0c61;}function emitPerformance(_0x39d2fd){const _0x29c353=_0x2267bb;_0x39d2fd['length']!==0x0?(proxyEmit(_0x29c353(0x204),_0x39d2fd),lastPerformanceEmitted=getDate()):proxyEmit(_0x29c353(0x204),[]);}function getPerf(_0x89cd39,_0x311fe5){const _0x51c600=_0x2267bb;let _0x44df7d=0x0,_0x35744c=0x0,_0x342394=0x0;_0x89cd39['coins'][_0x51c600(0x28d)](_0x139b2d=>{const _0x512d4e=_0x51c600;_0x44df7d+=_0x139b2d[_0x512d4e(0x226)]*_0x139b2d[_0x512d4e(0x161)];});_0x311fe5&&(_0x44df7d+=_0x89cd39[_0x51c600(0x178)]);if(config[_0x51c600(0x24a)]===_0x51c600(0x276)||config[_0x51c600(0x24a)]===_0x51c600(0x181))_0x35744c=_0x44df7d*_0x89cd39[_0x51c600(0x1b4)],_0x342394=_0x44df7d*_0x89cd39[_0x51c600(0x2a9)];else{if(config[_0x51c600(0x24a)]===_0x51c600(0x2a7)||config['basecoin']==='USDT'||config[_0x51c600(0x24a)]===_0x51c600(0x27e))_0x35744c=_0x44df7d*_0x89cd39['eur']/_0x89cd39[_0x51c600(0x2a9)],_0x342394=_0x44df7d;else config[_0x51c600(0x24a)]===_0x51c600(0x26a)&&(_0x35744c=_0x44df7d,_0x342394=_0x44df7d*_0x89cd39[_0x51c600(0x2a9)]/_0x89cd39[_0x51c600(0x1b4)]);}return[_0x44df7d,_0x35744c,_0x342394];}function getKPIs(_0x3c3849,_0x1c3ad0=_0x2267bb(0x26a)){const _0x6c4aa6=_0x2267bb,_0x273e17=config[_0x6c4aa6(0x24a)],_0x276319=lastBalances,_0xea1d52=currentCoins,_0xb228d2=getNormalizedPerformance(),_0x34c2d5=_0x3c3849===_0x6c4aa6(0x24a)?_0x273e17:_0x3c3849===_0x6c4aa6(0x2be)||_0x3c3849===_0x6c4aa6(0x14b)?_0x1c3ad0:_0x6c4aa6(0x244)+_0x273e17,_0xf7496=_0x3c3849===_0x6c4aa6(0x222)?'Net\x20effect':_0x3c3849===_0x6c4aa6(0x14b)?_0x6c4aa6(0x2b2):_0x34c2d5+'\x20value',_0x383b5a=_0x3c3849===_0x6c4aa6(0x222)||_0x3c3849===_0x6c4aa6(0x14b)?_0x6c4aa6(0x2b2):_0x34c2d5+_0x6c4aa6(0x15e);let _0x3cccd6=0x0;_0xea1d52[_0x6c4aa6(0x28d)](_0x2b8804=>{const _0x1a51fc=_0x6c4aa6;_0x3cccd6+=_0x2b8804[_0x1a51fc(0x226)]*_0x2b8804[_0x1a51fc(0x2a3)];});if(_0x3c3849===_0x6c4aa6(0x2be)||_0x3c3849===_0x6c4aa6(0x14b)){if(_0x273e17==='BTC'||_0x273e17==='ETH')_0x3cccd6=_0x3cccd6*(_0x1c3ad0===_0x6c4aa6(0x26a)?_0x276319[_0x6c4aa6(0x1b4)]:_0x276319[_0x6c4aa6(0x2a9)]);else{if(_0x273e17==='BUSD'||_0x273e17===_0x6c4aa6(0x2b0)||_0x273e17===_0x6c4aa6(0x27e))_0x3cccd6=_0x3cccd6*(_0x1c3ad0===_0x6c4aa6(0x26a)?_0x276319[_0x6c4aa6(0x1b4)]/_0x276319[_0x6c4aa6(0x2a9)]:0x1);else _0x273e17==='EUR'&&(_0x3cccd6=_0x3cccd6*(_0x1c3ad0===_0x6c4aa6(0x26a)?0x1:_0x276319[_0x6c4aa6(0x2a9)]/_0x276319[_0x6c4aa6(0x1b4)]));}}let _0x13d2dd;if(_0x3cccd6!==0x0){if(_0x3c3849===_0x6c4aa6(0x24a))_0x13d2dd=(_0x3cccd6/startingBalances['basecoin']-0x1)*0x64;else{if(_0x1c3ad0===_0x6c4aa6(0x26a))_0x13d2dd=(_0x3cccd6/startingBalances[_0x6c4aa6(0x1b4)]-0x1)*0x64;else _0x13d2dd=(_0x3cccd6/startingBalances[_0x6c4aa6(0x2a9)]-0x1)*0x64;}let _0x52565c=0x0;if(startingBalances[_0x6c4aa6(0x27a)])_0xea1d52[_0x6c4aa6(0x28d)](_0x1a4b11=>{const _0xe6481b=_0x6c4aa6;let _0x11d743=startingBalances[_0xe6481b(0x27a)][_0xe6481b(0x25c)](_0x4265de=>_0x4265de['coin']===_0x1a4b11['coin']);if(_0x11d743&&_0x11d743[_0xe6481b(0x23e)]&&_0x1a4b11[_0xe6481b(0x226)]!==0x0)_0x52565c+=_0x11d743[_0xe6481b(0x226)]*_0x1a4b11[_0xe6481b(0x2a3)];});let _0x35b171=0x0;if(_0xb228d2['length']!==0x0){let _0x3f81d3=_0xb228d2[_0xb228d2['length']-0x1];_0x35b171=_0x3f81d3[_0x6c4aa6(0x23b)];}_0x52565c-=_0x35b171;_0x3c3849===_0x6c4aa6(0x222)&&(_0x13d2dd=(_0x3cccd6-_0x52565c)/startingBalances[_0x6c4aa6(0x24a)]*0x64,_0x3cccd6=_0x3cccd6-_0x52565c);if(_0x3c3849===_0x6c4aa6(0x14b)){let _0x3529d1=_0x1c3ad0===_0x6c4aa6(0x26a)?startingBalances[_0x6c4aa6(0x1b4)]:startingBalances['usd'];if(_0x273e17==='BTC'||_0x273e17===_0x6c4aa6(0x181))_0x52565c=_0x1c3ad0==='EUR'?_0x52565c*_0x276319[_0x6c4aa6(0x1b4)]:_0x52565c*_0x276319['usd'];else{if(_0x273e17==='BUSD'||_0x273e17===_0x6c4aa6(0x2b0)||_0x273e17===_0x6c4aa6(0x27e))_0x52565c=_0x1c3ad0===_0x6c4aa6(0x26a)?_0x52565c*_0x276319[_0x6c4aa6(0x1b4)]/_0x276319[_0x6c4aa6(0x2a9)]:_0x52565c;else _0x273e17===_0x6c4aa6(0x26a)&&(_0x52565c=_0x1c3ad0===_0x6c4aa6(0x26a)?_0x52565c:_0x52565c*_0x276319['usd']/_0x276319[_0x6c4aa6(0x1b4)]);}_0x13d2dd=(_0x3cccd6-_0x52565c)/_0x3529d1*0x64,_0x3cccd6=_0x3cccd6-_0x52565c;}if(_0x13d2dd){if(_0x13d2dd<0x64)_0x13d2dd=_0x13d2dd[_0x6c4aa6(0x275)](0x2);else{if(_0x13d2dd<0x3e8)_0x13d2dd=_0x13d2dd['toFixed'](0x1);else _0x13d2dd=_0x13d2dd[_0x6c4aa6(0x275)](0x0);}}else _0x13d2dd=Number('0')[_0x6c4aa6(0x275)](0x2);if(_0x3cccd6){if(Math['abs'](_0x3cccd6)<0.000001)_0x3cccd6=_0x3cccd6['toFixed'](0x2);else{if(Math[_0x6c4aa6(0x242)](_0x3cccd6)<0.1)_0x3cccd6=_0x3cccd6[_0x6c4aa6(0x275)](0x6);else{if(Math[_0x6c4aa6(0x242)](_0x3cccd6)<0x1)_0x3cccd6=_0x3cccd6[_0x6c4aa6(0x275)](0x5);else{if(Math[_0x6c4aa6(0x242)](_0x3cccd6)<0xa)_0x3cccd6=_0x3cccd6['toFixed'](0x4);else{if(Math[_0x6c4aa6(0x242)](_0x3cccd6)<0x64)_0x3cccd6=_0x3cccd6['toFixed'](0x3);else{if(Math[_0x6c4aa6(0x242)](_0x3cccd6)<0x3e8)_0x3cccd6=_0x3cccd6['toFixed'](0x2);else _0x3cccd6=_0x3cccd6[_0x6c4aa6(0x275)](0x2);}}}}}}else _0x3cccd6=Number('0')[_0x6c4aa6(0x275)](0x2);}else _0x13d2dd=Number('0')['toFixed'](0x2);return{'value':_0x3cccd6,'change':_0x13d2dd,'leftTxt':_0xf7496,'rightTxt':_0x383b5a};}async function getStartingBalances(_0x2020e4,_0x11d54b=!![]){const _0x5862a9=_0x2267bb;if(_0x2020e4[_0x5862a9(0x230)]!==0x0){const [_0x3ecce7,_0x30d190,_0x5ed911]=getPerf(_0x2020e4[0x0],!![]);let _0x18b319=[];config[_0x5862a9(0x2a8)]['forEach'](_0x27bdc7=>{const _0x2d5b8c=_0x5862a9;let _0x5351f2=0x0,_0x4f7d5e;config[_0x2d5b8c(0x1a7)][_0x2d5b8c(0x28d)](_0x1d64cf=>{const _0x4cf0ac=_0x2d5b8c;let _0x484597=_0x1d64cf[_0x4cf0ac(0x228)]['find'](_0x3ca75e=>_0x3ca75e['coin']==_0x27bdc7[_0x4cf0ac(0x23e)]);if(_0x484597){_0x5351f2+=_0x484597[_0x4cf0ac(0x226)];if(!_0x4f7d5e)_0x4f7d5e=_0x484597['price'];}}),_0x18b319[_0x2d5b8c(0x210)]({'coin':_0x27bdc7[_0x2d5b8c(0x23e)],'number':_0x5351f2,'initialprice':_0x4f7d5e});});const _0x56eafc={'basecoin':_0x3ecce7,'eur':_0x30d190,'usd':_0x5ed911,'coins':_0x18b319};if(_0x11d54b)proxyEmit('starting-balances',_0x56eafc);startingBalances=_0x56eafc;}}function headlessMode(_0x5f7ef0){const _0x56ba6f=_0x2267bb;let _0xd47358=_0x5f7ef0[_0x56ba6f(0x2a8)],_0x561bee=_0x5f7ef0[_0x56ba6f(0x1a2)],_0x44cee4=[];for(let _0x32fd3a of _0xd47358){if(_0x32fd3a[_0x56ba6f(0x23e)]!=config[_0x56ba6f(0x24a)]){if(_0x32fd3a[_0x56ba6f(0x235)]>=_0x561bee/0x64){if(_0x32fd3a[_0x56ba6f(0x218)])_0x44cee4['push'](_0x32fd3a);}else{if(_0x32fd3a['delta']<=-_0x561bee/0x64){if(_0x32fd3a[_0x56ba6f(0x218)])_0x44cee4[_0x56ba6f(0x210)](_0x32fd3a);}}}}_0x44cee4[_0x56ba6f(0x230)]>0x0&&placeOrder(_0x44cee4);}function notifyBalance(_0x6cf384){const _0x728fb0=_0x2267bb;let _0x192789=_0x6cf384[_0x728fb0(0x2a8)],_0x314504=_0x6cf384[_0x728fb0(0x1a2)],_0x24c390=[];for(let _0x1ea0dc of _0x192789){if(_0x1ea0dc['coin']!=config[_0x728fb0(0x24a)]){if(_0x1ea0dc[_0x728fb0(0x235)]>=_0x314504/0x64){if(_0x1ea0dc[_0x728fb0(0x218)])_0x24c390['push'](_0x1ea0dc);}else{if(_0x1ea0dc[_0x728fb0(0x235)]<=-_0x314504/0x64){if(_0x1ea0dc[_0x728fb0(0x218)])_0x24c390['push'](_0x1ea0dc);}}}}if(_0x24c390[_0x728fb0(0x230)]>0x0){let _0x52612a=_0x24c390[_0x728fb0(0x25a)](_0x70204f=>_0x70204f[_0x728fb0(0x23e)]);_0x52612a['sort']();let _0x2120f6=_0x52612a['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x728fb0(0x256),_0x728fb0(0x20a));lastCoinsToBalance=_0x2120f6;}}function symbolToCoin(_0x493e56){const _0x306869=_0x2267bb;let _0x157eb6;if(_0x493e56[_0x306869(0x272)]('/'+config[_0x306869(0x24a)]))_0x157eb6=_0x493e56[_0x306869(0x254)]('/'+config[_0x306869(0x24a)],'');if(_0x493e56[_0x306869(0x272)](config[_0x306869(0x24a)]+'/'))_0x157eb6=_0x493e56[_0x306869(0x254)](config[_0x306869(0x24a)]+'/','');return _0x157eb6;}async function unlockOrders(){const _0x38a921=_0x2267bb;if(allOrdersPlaced&&lockOrders==ORDERS[_0x38a921(0x14a)]){logger[_0x38a921(0x16a)](_0x38a921(0x2ac)),lockOrders=ORDERS[_0x38a921(0x186)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x879072=await getCoins();[currentCoins,currentCoinsAll]=_0x879072,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x38a921(0x1c5)],logger[_0x38a921(0x16a)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x192ffe){const _0x5f51ba=_0x2267bb;if(_0x192ffe)validateOrdersState=_0x192ffe;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x5f51ba(0x27d):lockOrders==0x2?_0x5f51ba(0x1f0):'ORDERS.UNLOCKED'));let _0xa41fe2=[],_0x25f053=config['ordertype']==_0x5f51ba(0x274)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x5f51ba(0x15d)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x5f51ba(0x14a)])return;logger['debug'](_0x5f51ba(0x2af)+validateOrdersState),lastOrders[_0x5f51ba(0x28d)](_0x241570=>{const _0x6e0e72=_0x5f51ba;let _0x204afb=![];_0x241570[_0x6e0e72(0x14c)]>0x0&&(_0x204afb=!![]),_0xa41fe2[_0x6e0e72(0x210)](_0x204afb),_0x204afb&&config[_0x6e0e72(0x1bd)]!=_0x6e0e72(0x274)&&logHistory(_0x6e0e72(0x224),_0x6e0e72(0x259)+_0x241570['symbol']+'\x20'+_0x241570[_0x6e0e72(0x18d)]+'\x20#'+formatResult(_0x241570[_0x6e0e72(0x14c)],0x8)+'\x20@'+formatResult(_0x241570[_0x6e0e72(0x161)],0x8));}),_0xa41fe2['forEach']((_0x1b4864,_0x4193df)=>{const _0x5d6eb4=_0x5f51ba;if(_0x1b4864)lastOrders[_0x5d6eb4(0x280)](_0x4193df,0x1);}),persistOpenOrders(lastOrders);const _0x23c185=coolingDown?_0x5f51ba(0x1e7):_0x5f51ba(0x1be);if(validateOrdersState==_0x5f51ba(0x1f6)){validateOrdersState=_0x5f51ba(0x22b);if(_0xa41fe2[_0x5f51ba(0x272)](![])){if(config['ordertype']==_0x5f51ba(0x274)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x5f51ba(0x22b)){if(_0xa41fe2['includes'](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x5f51ba(0x274)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0xa41fe2['includes'](![])&&(config[_0x5f51ba(0x1bd)]=='market'?logHistory(_0x5f51ba(0x15a),_0x5f51ba(0x21a)+Math[_0x5f51ba(0x14f)](_0x25f053*validateOrderInterval/0xea60)+_0x5f51ba(0x193)+_0x23c185):(await cancelOrders(),logHistory(_0x5f51ba(0x15a),_0x5f51ba(0x1d5)+Math[_0x5f51ba(0x14f)](_0x25f053*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x23c185))),await unlockOrders();else{if(validateOrdersState==_0x5f51ba(0x273)){if(config[_0x5f51ba(0x1bd)]!=_0x5f51ba(0x274))logHistory(_0x5f51ba(0x15a),_0x5f51ba(0x2a1)+_0x23c185);await unlockOrders();}}}}}async function cancelOrders(){const _0x427af2=_0x2267bb;lastOrders[_0x427af2(0x28d)](async _0x3dcb37=>{const _0x479963=_0x427af2;try{const _0x48243c=await exchange[_0x479963(0x1e3)](_0x3dcb37['orderId'],_0x3dcb37['symbol']);}catch(_0x139577){if(_0x139577[_0x479963(0x1ba)]()[_0x479963(0x272)](_0x479963(0x234))){}else await handleError(_0x139577,_0x479963(0x14e));}});}async function initCoinResults(){const _0x45f351=_0x2267bb;let _0xcdd896=[];config[_0x45f351(0x2a8)]['forEach'](_0x23fd4a=>{const _0x5b132c=_0x45f351;if(!_0x23fd4a['excluded']&&_0x23fd4a[_0x5b132c(0x23e)]!=config['basecoin']){let _0x3e8593=dbCoinResults['get'](_0x5b132c(0x27a))[_0x5b132c(0x25c)]({'coin':_0x23fd4a[_0x5b132c(0x23e)]})['value']();if(!_0x3e8593){const _0x502ec7=currentCoins[_0x5b132c(0x25c)](_0x293c50=>_0x293c50[_0x5b132c(0x23e)]==_0x23fd4a[_0x5b132c(0x23e)]),_0x238041=global[_0x5b132c(0x221)][noslash(_0x23fd4a[_0x5b132c(0x1ad)])];let _0x120c17=_0x502ec7?_0x502ec7['number']:null,_0x3de8bd=_0x23fd4a[_0x5b132c(0x255)]?0x1/_0x238041:_0x238041,_0x28907f;config[_0x5b132c(0x1a7)]['forEach'](_0x16295e=>{const _0x5d3aba=_0x5b132c;!_0x28907f&&(_0x28907f=_0x16295e[_0x5d3aba(0x228)][_0x5d3aba(0x25c)](_0x1f1809=>_0x1f1809[_0x5d3aba(0x23e)]==_0x23fd4a[_0x5d3aba(0x23e)]),_0x28907f&&(_0x120c17=_0x28907f[_0x5d3aba(0x226)],_0x3de8bd=_0x28907f[_0x5d3aba(0x161)]));}),_0xcdd896[_0x5b132c(0x210)]({'coin':_0x23fd4a[_0x5b132c(0x23e)],'number':_0x120c17,'price':_0x3de8bd});}}}),_0xcdd896[_0x45f351(0x28d)](_0x232298=>{const _0xab36=_0x45f351,_0x2c043b={'coin':_0x232298['coin'],'number':_0x232298[_0xab36(0x226)],'breakeven':_0x232298[_0xab36(0x161)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0xab36(0x27a))[_0xab36(0x210)](_0x2c043b)[_0xab36(0x1fb)]();});}async function updateCoinResults(_0x33fa62,_0x2b63ed=![]){const _0xdea2ab=_0x2267bb;let _0x279ec2,_0x163ace,_0x56d2d3,_0x2ca0c6,_0x2a6900,_0x542379,_0x50eade=dbCoinResults['get'](_0xdea2ab(0x27a))[_0xdea2ab(0x25c)]({'coin':_0x33fa62['coin']})['value']();!_0x50eade&&await initCoinResults();_0x33fa62[_0xdea2ab(0x255)]&&(_0x542379={'filled':_0x33fa62[_0xdea2ab(0x14c)]*_0x33fa62[_0xdea2ab(0x161)],'amount':_0x33fa62['filled']*_0x33fa62[_0xdea2ab(0x161)],'side':_0x33fa62[_0xdea2ab(0x18d)]=='sell'?_0xdea2ab(0x2ab):_0xdea2ab(0x25d),'price':0x1/_0x33fa62['price']},_0x33fa62={..._0x33fa62,..._0x542379});_0x2b63ed?_0x163ace=_0x33fa62['side']==_0xdea2ab(0x2ab)?_0x50eade[_0xdea2ab(0x226)]+_0x33fa62[_0xdea2ab(0x14c)]:_0x50eade[_0xdea2ab(0x226)]-_0x33fa62[_0xdea2ab(0x14c)]:_0x163ace=await getCoinNumber(_0x33fa62[_0xdea2ab(0x23e)]);if(_0x33fa62[_0xdea2ab(0x205)]&&_0x33fa62[_0xdea2ab(0x205)][_0xdea2ab(0x1cb)]==config[_0xdea2ab(0x24a)])_0x279ec2=_0x33fa62[_0xdea2ab(0x205)][_0xdea2ab(0x1a9)];else{if(_0x33fa62['fee']&&_0x33fa62[_0xdea2ab(0x205)][_0xdea2ab(0x1cb)]==_0xdea2ab(0x28b)&&!_0x2b63ed)_0x279ec2=_0x33fa62[_0xdea2ab(0x205)][_0xdea2ab(0x1a9)]*global[_0xdea2ab(0x221)][_0xdea2ab(0x28b)+config[_0xdea2ab(0x24a)]];else _0x279ec2=defaultFee*_0x33fa62[_0xdea2ab(0x14c)]*_0x33fa62[_0xdea2ab(0x161)];}_0x33fa62[_0xdea2ab(0x18d)]=='buy'?(_0x56d2d3=_0x163ace!=0x0?(_0x50eade[_0xdea2ab(0x269)]*_0x50eade[_0xdea2ab(0x226)]+_0x33fa62[_0xdea2ab(0x161)]*(_0x163ace-_0x50eade[_0xdea2ab(0x226)])+_0x279ec2)/_0x163ace:0x0,_0x2ca0c6=_0x50eade['realized']):(_0x56d2d3=_0x163ace!=0x0?(_0x50eade[_0xdea2ab(0x269)]*_0x50eade[_0xdea2ab(0x226)]-_0x33fa62[_0xdea2ab(0x161)]*(_0x50eade[_0xdea2ab(0x226)]-_0x163ace)+_0x279ec2)/_0x163ace:0x0,_0x2ca0c6=_0x50eade[_0xdea2ab(0x1b8)]+(_0x33fa62[_0xdea2ab(0x161)]-_0x50eade[_0xdea2ab(0x269)])*_0x33fa62[_0xdea2ab(0x14c)]);_0x2a6900=(_0x33fa62[_0xdea2ab(0x161)]-_0x56d2d3-_0x279ec2/_0x33fa62[_0xdea2ab(0x14c)])*_0x163ace;let _0x3c1576={'coin':_0x33fa62[_0xdea2ab(0x23e)],'number':_0x163ace,'breakeven':formatResult(_0x56d2d3,0x8),'realized':formatResult(_0x2ca0c6,0x8),'unrealized':formatResult(_0x2a6900,0x8),'fees':formatResult(_0x50eade[_0xdea2ab(0x266)]+_0x279ec2,0x8),'sells':_0x33fa62[_0xdea2ab(0x18d)]==_0xdea2ab(0x25d)?_0x50eade[_0xdea2ab(0x288)]+0x1:_0x50eade[_0xdea2ab(0x288)],'buys':_0x33fa62['side']=='buy'?_0x50eade[_0xdea2ab(0x168)]+0x1:_0x50eade[_0xdea2ab(0x168)]};dbCoinResults[_0xdea2ab(0x191)](_0xdea2ab(0x27a))['find']({'coin':_0x33fa62[_0xdea2ab(0x23e)]})[_0xdea2ab(0x208)](_0x3c1576)['write']();if(!_0x2b63ed){if(_0x33fa62[_0xdea2ab(0x205)]&&_0x33fa62[_0xdea2ab(0x205)][_0xdea2ab(0x1cb)]==_0xdea2ab(0x28b)){const _0x5e9b33=currentCoins[_0xdea2ab(0x25c)](_0x4e14ad=>_0x4e14ad[_0xdea2ab(0x23e)]==_0xdea2ab(0x28b));if(_0x5e9b33){let _0x56fcfd=dbCoinResults['get'](_0xdea2ab(0x27a))[_0xdea2ab(0x25c)]({'coin':_0xdea2ab(0x28b)})['value']();_0x3c1576={..._0x56fcfd,'number':_0x5e9b33[_0xdea2ab(0x226)]},dbCoinResults[_0xdea2ab(0x191)](_0xdea2ab(0x27a))[_0xdea2ab(0x25c)]({'coin':_0xdea2ab(0x28b)})['assign'](_0x3c1576)[_0xdea2ab(0x1fb)]();}}}}async function placeOrder(_0x37b77a){const _0x1dd664=_0x2267bb,_0x17795d=config[_0x1dd664(0x1bd)]==_0x1dd664(0x274)?_0x1dd664(0x274):_0x1dd664(0x190);if(lockOrders==ORDERS[_0x1dd664(0x1c5)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x1dd664(0x14a)],allOrdersPlaced=![],validateOrdersState='initial';let _0x3c4458=![];lastOrders=[];for(const _0xafa45b of _0x37b77a){let _0x133495,_0x4bd025,_0x5e7028,_0x1c881e,_0x14852f,_0x226350=_0xafa45b['symbol'];try{const _0x4bd4a3=await exchange['fetchTicker'](_0x226350);_0x133495=_0xafa45b[_0x1dd664(0x255)]?0x1/_0xafa45b[_0x1dd664(0x2a3)]:_0xafa45b[_0x1dd664(0x2a3)],_0x4bd025=_0x4bd4a3['bid'],_0x5e7028=_0x4bd4a3['ask'];_0xafa45b[_0x1dd664(0x255)]?(_0x1c881e=_0xafa45b[_0x1dd664(0x18d)]==_0x1dd664(0x2ab)?_0x1dd664(0x25d):_0x1dd664(0x2ab),_0x14852f=Math[_0x1dd664(0x242)](_0xafa45b[_0x1dd664(0x215)])/_0x133495):(_0x1c881e=_0xafa45b[_0x1dd664(0x18d)],_0x14852f=Math[_0x1dd664(0x242)](_0xafa45b[_0x1dd664(0x215)]));_0x17795d==_0x1dd664(0x190)&&(config[_0x1dd664(0x1bd)]==_0x1dd664(0x1b7)&&(_0x133495=_0x1c881e==_0x1dd664(0x2ab)?_0x4bd025:_0x5e7028),config['ordertype']==_0x1dd664(0x2a0)&&(_0x133495=_0x1c881e==_0x1dd664(0x2ab)?_0x5e7028:_0x4bd025));_0x14852f=formatResult(_0x14852f,0x8),_0x133495=formatResult(_0x133495,0x8);const _0x45e247=_0x1c881e==_0x1dd664(0x25d)?config[_0x1dd664(0x20f)]?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x1dd664(0x292)]?String[_0x1dd664(0x26d)]('0x'+config[_0x1dd664(0x292)])+'\x20':'',_0xbc4c6e=_0x17795d==_0x1dd664(0x274)?_0x1dd664(0x184):config['ordertype']=='limit-high'?_0x1dd664(0x1d6):'Limit\x20(low-margin)',_0x52f16c=new Date()[_0x1dd664(0x1bf)]()[_0x1dd664(0x1ba)]()[_0x1dd664(0x1b9)](-0x6)+'-'+Math[_0x1dd664(0x28e)]()[_0x1dd664(0x1ba)]()[_0x1dd664(0x1b9)](-0x6);lastOrders[_0x1dd664(0x210)]({'customId':_0x52f16c,'symbol':_0x226350,'coin':_0xafa45b[_0x1dd664(0x23e)],'side':_0x1c881e,'reverse':_0xafa45b['reverse'],'filled':0x0});if(_0x17795d==_0x1dd664(0x274))logHistory(_0x1dd664(0x224),''+_0x45e247+_0xbc4c6e+_0x1dd664(0x1ea)+_0x226350+'\x20'+_0x1c881e+'\x20#'+formatResult(_0x14852f,0x8)+'\x20@'+formatResult(_0x133495,0x8));else logHistory('order',''+_0x45e247+_0xbc4c6e+'\x20order:\x20'+_0x226350+'\x20'+_0x1c881e+'\x20#'+formatResult(_0x14852f,0x8)+'\x20@'+formatResult(_0x133495,0x8));const _0x5681f2=await exchange['createOrder'](_0x226350,_0x17795d,_0x1c881e,_0x14852f,_0x133495,{'clientOrderId':_0x52f16c}),_0x1242e9=lastOrders[_0x1dd664(0x230)]-0x1;_0x1242e9>=0x0&&lastOrders[_0x1242e9][_0x1dd664(0x19a)]==_0x52f16c&&(lastOrders[_0x1242e9]={...lastOrders[_0x1242e9],'orderId':_0x5681f2['id'],'amount':_0x5681f2[_0x1dd664(0x279)],'price':_0x5681f2[_0x1dd664(0x161)],'fee':_0x5681f2[_0x1dd664(0x205)]});if(config[_0x1dd664(0x1f3)]!=0x0){let _0x3cd46b=null;if(cooldownTracker[_0x1dd664(0x230)]==config[_0x1dd664(0x1f3)]-0x1)_0x3cd46b=cooldownTracker[_0x1dd664(0x1ee)]();const _0xb488bd=getTimeStamp();cooldownTracker[_0x1dd664(0x210)](_0xb488bd);if(_0x3cd46b){const _0x4d526c=fns[_0x1dd664(0x1d2)](new Date(_0xb488bd),new Date(_0x3cd46b));if(_0x4d526c<cooldownInterval){logHistory(_0x1dd664(0x22d),_0x1dd664(0x28c)+config[_0x1dd664(0x1f3)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x5985eb){if(_0x5985eb[_0x1dd664(0x1ba)]()['includes'](_0x1dd664(0x1df)))lastOrders=lastOrders[_0x1dd664(0x207)](_0x1a17e7=>_0x1a17e7[_0x1dd664(0x1ad)]!=_0x226350),logHistory(_0x1dd664(0x22d),_0x1dd664(0x1cf)+_0x226350),_0x3c4458=!![];else _0x5985eb[_0x1dd664(0x1ba)]()[_0x1dd664(0x272)](_0x1dd664(0x21d))?(lastOrders=lastOrders[_0x1dd664(0x207)](_0x51786e=>_0x51786e[_0x1dd664(0x1ad)]!=_0x226350),logHistory(_0x1dd664(0x22d),'Order\x20amount\x20is\x20invalid:\x20'+_0x226350),_0x3c4458=!![]):(lastOrders=lastOrders[_0x1dd664(0x207)](_0x38e83f=>_0x38e83f['symbol']!=_0x226350),await handleError(_0x5985eb,_0x1dd664(0x29c),_0x226350));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x1dd664(0x230)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5a8246=config[_0x1dd664(0x1bd)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x1dd664(0x15d)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5a8246);}else unlockOrders();_0x3c4458&&config['headless']&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x1dd664(0x216)));}else{if(coolingDown)!config[_0x1dd664(0x262)]&&logHistory(_0x1dd664(0x22d),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x1dd664(0x262)]&&(config[_0x1dd664(0x1bd)]==_0x1dd664(0x274)?logHistory(_0x1dd664(0x22d),_0x1dd664(0x21b)):logHistory(_0x1dd664(0x22d),_0x1dd664(0x217))));}}function persistOpenOrders(_0x3d39aa){const _0x2fd71c=_0x2267bb,_0x251d65={...config,'openOrders':_0x3d39aa};let _0x2c8ca0=dbConfig[_0x2fd71c(0x191)](_0x2fd71c(0x162))[_0x2fd71c(0x25c)]({'botID':botID})[_0x2fd71c(0x232)]();_0x2c8ca0&&dbConfig[_0x2fd71c(0x191)](_0x2fd71c(0x162))[_0x2fd71c(0x25c)]({'botID':botID})[_0x2fd71c(0x208)](_0x251d65)['write']();}function restoreOrders(){const _0x4f0927=_0x2267bb;let _0x801960;config[_0x4f0927(0x26b)]&&allOpenOrders[_0x4f0927(0x28d)](_0x2e75bc=>{const _0xed80b7=_0x4f0927,_0x4f75c9=config[_0xed80b7(0x26b)][_0xed80b7(0x25c)](_0xb18e71=>_0xb18e71[_0xed80b7(0x18b)]==_0x2e75bc['id']);_0x4f75c9&&(lastOrders[_0xed80b7(0x210)](_0x4f75c9),_0x801960=_0x2e75bc[_0xed80b7(0x2aa)]);});if(lastOrders[_0x4f0927(0x230)]>0x0){lockOrders=ORDERS[_0x4f0927(0x14a)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x3a0048=new Date()[_0x4f0927(0x1bf)](),_0x5d49aa=config[_0x4f0927(0x1bd)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4f0927(0x15d)]*0x3c*0x3e8;if(_0x801960+_0x5d49aa>_0x3a0048){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x10ef58=_0x4f0927;validateOrders(_0x10ef58(0x19b));},_0x801960+_0x5d49aa-_0x3a0048);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0xc9bf99=_0x2267bb;if(!coinsLoaded){process['send']({'telegrammsg':_0xc9bf99(0x1db)},_0x1dc281=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3e1b3a='';if(config[_0xc9bf99(0x1ef)])_0x3e1b3a=_0xc9bf99(0x1ae)+config[_0xc9bf99(0x18a)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x3e1b3a='<b>Bot\x20'+botID+_0xc9bf99(0x1ff);const _0x1de1d4=getKPIs(_0xc9bf99(0x24a)),_0x38f22f=getKPIs('fiat',config[_0xc9bf99(0x2be)]),_0x53e4cb=getKPIs('net-basecoin'),_0x576ae3=getKPIs('net-fiat',config[_0xc9bf99(0x2be)]);_0x3e1b3a+=_0xc9bf99(0x24d),_0x3e1b3a+=_0x1de1d4[_0xc9bf99(0x1fc)]+_0xc9bf99(0x198)+_0x1de1d4[_0xc9bf99(0x232)]+'\x0a',_0x3e1b3a+=_0x1de1d4['rightTxt']+':\x20'+_0x1de1d4[_0xc9bf99(0x201)]+'%\x0a',_0x3e1b3a+=_0x38f22f[_0xc9bf99(0x1fc)]+'\x20:\x20'+_0x38f22f[_0xc9bf99(0x232)]+'\x0a',_0x3e1b3a+=_0x38f22f['rightTxt']+':\x20'+_0x38f22f[_0xc9bf99(0x201)]+'%\x0a',_0x3e1b3a+=_0x53e4cb[_0xc9bf99(0x1fc)]+':\x20'+_0x53e4cb['value']+'\x20('+config[_0xc9bf99(0x24a)]+')\x0a',_0x3e1b3a+=_0x53e4cb[_0xc9bf99(0x1c1)]+':\x20'+_0x53e4cb['change']+_0xc9bf99(0x18c)+config[_0xc9bf99(0x24a)]+')\x0a',_0x3e1b3a+=_0x576ae3[_0xc9bf99(0x1fc)]+':\x20'+_0x576ae3[_0xc9bf99(0x232)]+'\x20('+config[_0xc9bf99(0x2be)]+')\x0a',_0x3e1b3a+=_0x576ae3[_0xc9bf99(0x1c1)]+':\x20'+_0x576ae3['change']+'%\x20('+config[_0xc9bf99(0x2be)]+')\x0a',_0x3e1b3a+='</pre>',process[_0xc9bf99(0x233)]({'telegrammsg':_0x3e1b3a},_0x23c7e1=>{});}async function sendPortfolioTelegram(){const _0xf4b1f2=_0x2267bb;if(!coinsLoaded){process[_0xf4b1f2(0x233)]({'telegrammsg':_0xf4b1f2(0x1db)},_0x128503=>{});return;}let _0x449fe1='';if(config[_0xf4b1f2(0x1ef)])_0x449fe1=_0xf4b1f2(0x1ae)+config['botname']+_0xf4b1f2(0x250);else _0x449fe1='<b>Bot\x20'+botID+_0xf4b1f2(0x250);_0x449fe1+='<pre>',_0x449fe1+=_0xf4b1f2(0x25b),_0x449fe1+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x449fe1+='-------------------------------\x0a',currentCoins[_0xf4b1f2(0x28d)](_0x212754=>{const _0x14fd63=_0xf4b1f2;_0x449fe1+=_0x212754[_0x14fd63(0x23e)]['padEnd'](0x7)+'|\x20'+formatPad(_0x212754[_0x14fd63(0x245)],0x2,0x6)+'|\x20'+formatPad(_0x212754[_0x14fd63(0x243)],0x2,0x6)+'|\x20'+formatPad(_0x212754[_0x14fd63(0x235)]*0x64,0x2,0x6)+'\x0a';}),_0x449fe1+=_0xf4b1f2(0x2b4),process['send']({'telegrammsg':_0x449fe1},_0x142206=>{});}function formatPad(_0x3c338f,_0x5c6bf4,_0x5964b0){const _0x52f46b=_0x2267bb,_0x4e17c1=formatResultString(_0x3c338f,_0x5c6bf4);return _0x4e17c1?_0x4e17c1['padStart'](_0x5964b0):''[_0x52f46b(0x20b)](_0x5964b0);}function logHistory(_0x298d4e,_0xcf050c,_0x158344=''){const _0x2995e4=_0x2267bb;let _0x1775cd={'time':getTimeStamp(),'type':_0x298d4e,'event':_0xcf050c};dbLogs[_0x2995e4(0x191)](_0x2995e4(0x1e6))[_0x2995e4(0x210)](_0x1775cd)['write']();if(_0x158344=='')_0x158344=_0xcf050c;proxyEmit(_0x2995e4(0x240),{'log':_0x1775cd,'summary':_0x158344}),process['send']({'telegram':{..._0x1775cd,'botname':config[_0x2995e4(0x18a)],'showname':config[_0x2995e4(0x1ef)]}},_0x4cd747=>{}),logger[_0x2995e4(0x1ac)](''+_0x1775cd[_0x2995e4(0x240)]);}function emitHistory(_0x397eef={}){const _0x1bf923=_0x2267bb;Object['keys'](_0x397eef)['length']==0x0&&(_0x397eef={'type':[_0x1bf923(0x224),'event'],'event':'','page':0x1});if(_0x397eef[_0x1bf923(0x277)][_0x1bf923(0x272)]('event'))_0x397eef['type'][_0x1bf923(0x280)](_0x397eef['type'][_0x1bf923(0x2bb)](_0x1bf923(0x240)),0x1,_0x1bf923(0x22d),'warning',_0x1bf923(0x15a));if(dbLogs['has'](_0x1bf923(0x1e6))[_0x1bf923(0x232)]()){let _0x2bc8a6=dbLogs[_0x1bf923(0x191)](_0x1bf923(0x1e6))[_0x1bf923(0x207)](_0x1b91ba=>{const _0x5b3a9b=_0x1bf923;if(_0x397eef[_0x5b3a9b(0x277)][_0x5b3a9b(0x230)]==0x0)return![];else return _0x397eef[_0x5b3a9b(0x277)][_0x5b3a9b(0x272)](_0x1b91ba[_0x5b3a9b(0x277)]);})[_0x1bf923(0x207)](_0x4203a4=>{const _0x3e434c=_0x1bf923;if(_0x397eef['event']=='')return!![];else return _0x4203a4[_0x3e434c(0x240)][_0x3e434c(0x19e)]()['includes'](_0x397eef[_0x3e434c(0x240)][_0x3e434c(0x19e)]());})[_0x1bf923(0x2bd)](_0x1bf923(0x150)),_0x351767=_0x2bc8a6[_0x1bf923(0x232)]()[_0x1bf923(0x230)];_0x2bc8a6=_0x2bc8a6[_0x1bf923(0x255)]()[_0x1bf923(0x1b9)]((_0x397eef[_0x1bf923(0x26f)]-0x1)*logPageSize,_0x397eef[_0x1bf923(0x26f)]*logPageSize-0x1)[_0x1bf923(0x255)]()[_0x1bf923(0x232)](),proxyEmit(_0x1bf923(0x29a),{'logs':_0x2bc8a6,'total':_0x351767});}else proxyEmit(_0x1bf923(0x29a),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x580a04){const _0x29d055=_0x2267bb;if(dbLogs[_0x29d055(0x164)](_0x29d055(0x1e6))[_0x29d055(0x232)]()){const _0x59bea7=dbLogs[_0x29d055(0x191)](_0x29d055(0x1e6))[_0x29d055(0x2bd)](_0x29d055(0x150))['filter'](_0x3fc073=>{const _0x5c8083=_0x29d055;return _0x3fc073['type']==_0x5c8083(0x224);})[_0x29d055(0x232)]();dbLogs[_0x29d055(0x191)]('logs')[_0x29d055(0x2a6)]()[_0x29d055(0x1fb)](),dbLogs[_0x29d055(0x191)](_0x29d055(0x1e6))[_0x29d055(0x208)](_0x59bea7)['write'](),emitHistory(_0x580a04);}}async function pauseBot(_0x45c493=''){const _0x29d89a=_0x2267bb,_0x424d3a=new Date()[_0x29d89a(0x1bf)]();if(!lastErrorShown||_0x424d3a-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x424d3a;!lastBotPause?(lastBotPause=_0x424d3a,consecutivePauses=0x1):(_0x424d3a-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x29d89a(0x233)]({'stop':_0x29d89a(0x175)},_0x1a8d69=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x45c493)_0x45c493+=_0x29d89a(0x1e9);logHistory(_0x29d89a(0x22d),_0x45c493+_0x29d89a(0x16c)+pauseBotInterval/0xea60+_0x29d89a(0x1dd)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x38b448=_0x2267bb;process[_0x38b448(0x233)]({'stop':'kill'},_0x52b06d=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x37ce1d,_0x6da112){const _0x58bfa4=_0x2267bb;if(_0x37ce1d[_0x58bfa4(0x1ba)]()[_0x58bfa4(0x272)](_0x58bfa4(0x1c2)))return logHistory(_0x58bfa4(0x22d),config[_0x58bfa4(0x249)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x37ce1d[_0x58bfa4(0x1ba)]()[_0x58bfa4(0x272)](_0x58bfa4(0x179)))return logHistory(_0x58bfa4(0x22d),config['exchange']+_0x58bfa4(0x1e1)),![];else{if(_0x37ce1d[_0x58bfa4(0x1ba)]()['includes'](_0x58bfa4(0x1aa)))return logHistory(_0x58bfa4(0x22d),config[_0x58bfa4(0x249)]+_0x58bfa4(0x1b1)),logHistory(_0x58bfa4(0x22d),_0x58bfa4(0x189)),![];else await handleError(_0x37ce1d,_0x6da112);}}}async function handleError(_0x30f27a,_0x44ef22,_0x33d906=''){const _0x23a4d8=_0x2267bb,_0x1ffa84=config['exchange']||_0x23a4d8(0x1cd);if(_0x30f27a[_0x23a4d8(0x1ba)]()[_0x23a4d8(0x272)]('DDoSProtection'))await pauseBot(config[_0x23a4d8(0x249)]+_0x23a4d8(0x1f7));else{if(_0x30f27a[_0x23a4d8(0x1ba)]()[_0x23a4d8(0x272)](_0x23a4d8(0x152)))await pauseBot(config[_0x23a4d8(0x249)]+_0x23a4d8(0x17b));else{if(_0x30f27a['toString']()[_0x23a4d8(0x272)]('RequestTimeout'))await pauseBot(config[_0x23a4d8(0x249)]+_0x23a4d8(0x1a4));else{if(_0x30f27a[_0x23a4d8(0x1ba)]()['includes']('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006'))await pauseBot(config[_0x23a4d8(0x249)]+'\x20closed\x20the\x20connection');else{if(_0x30f27a[_0x23a4d8(0x1ba)]()['includes'](_0x23a4d8(0x246)))logHistory(_0x23a4d8(0x22d),_0x44ef22+_0x23a4d8(0x248)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x30f27a['toString']()[_0x23a4d8(0x272)](_0x23a4d8(0x22e)))logHistory('error',_0x44ef22+_0x23a4d8(0x200)),logHistory(_0x23a4d8(0x22d),_0x23a4d8(0x151)),await killBot();else{if(_0x30f27a['toString']()[_0x23a4d8(0x272)](_0x23a4d8(0x1c2)))logHistory(_0x23a4d8(0x22d),_0x44ef22+_0x23a4d8(0x1e9)+config[_0x23a4d8(0x249)]+_0x23a4d8(0x1eb)),logHistory(_0x23a4d8(0x22d),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x30f27a['toString']()['includes'](_0x23a4d8(0x179)))logHistory(_0x23a4d8(0x22d),_0x44ef22+_0x23a4d8(0x1e9)+config[_0x23a4d8(0x249)]+_0x23a4d8(0x1af)),logHistory(_0x23a4d8(0x22d),_0x23a4d8(0x151)),await killBot();else{if(_0x30f27a[_0x23a4d8(0x1ba)]()['includes'](_0x23a4d8(0x1aa)))logHistory(_0x23a4d8(0x22d),_0x44ef22+_0x23a4d8(0x1e9)+config[_0x23a4d8(0x249)]+_0x23a4d8(0x253)),logHistory(_0x23a4d8(0x22d),_0x23a4d8(0x151)),await killBot();else _0x30f27a[_0x23a4d8(0x1ba)]()[_0x23a4d8(0x272)]('InsufficientFunds')?logHistory(_0x23a4d8(0x22d),_0x44ef22+_0x23a4d8(0x1ce)+_0x33d906):(logger[_0x23a4d8(0x1ac)](_0x44ef22+_0x23a4d8(0x17a),_0x30f27a),await pauseBot(_0x23a4d8(0x20d)));}}}}}}}}}function formatResult(_0x337152,_0x4e7518){const _0x21f1b9=_0x2267bb;return parseFloat(_0x337152[_0x21f1b9(0x275)](_0x4e7518));}function formatResultTruncate(_0x58720d,_0x238bfd){const _0x58abe2=_0x2267bb;let _0x282690=formatResultString(_0x58720d,0xa),_0x8486b=_0x282690[_0x58abe2(0x2bb)]('.');return _0x8486b!=-0x1&&(_0x282690=_0x282690[_0x58abe2(0x1b9)](0x0,_0x8486b+_0x238bfd+0x1)),Number(_0x282690);}function formatResultString(_0x59a3a8,_0x5bc0b4){const _0x3ee6fb=_0x2267bb;let _0xa1f658;if(!(''+_0x59a3a8)[_0x3ee6fb(0x272)]('e'))_0xa1f658=+(Math[_0x3ee6fb(0x14f)](_0x59a3a8+'e+'+_0x5bc0b4)+'e-'+_0x5bc0b4);else{let _0x2a1448=(''+_0x59a3a8)[_0x3ee6fb(0x2a5)]('e'),_0x53519b='';+_0x2a1448[0x1]+_0x5bc0b4>0x0&&(_0x53519b='+'),_0xa1f658=+(Math[_0x3ee6fb(0x14f)](+_0x2a1448[0x0]+'e'+_0x53519b+(+_0x2a1448[0x1]+_0x5bc0b4))+'e-'+_0x5bc0b4);}return Number(_0xa1f658)[_0x3ee6fb(0x275)](_0x5bc0b4);}function getServerTime(){const _0x140fbe=_0x2267bb,_0xff5147=new Date();return _0xff5147[_0x140fbe(0x171)]()+'/'+(_0xff5147[_0x140fbe(0x296)]()+0x1)[_0x140fbe(0x1ba)]()[_0x140fbe(0x20b)](0x2,'0')+'/'+_0xff5147[_0x140fbe(0x17d)]()['toString']()[_0x140fbe(0x20b)](0x2,'0')+'\x20'+_0xff5147[_0x140fbe(0x22c)]()['toString']()[_0x140fbe(0x20b)](0x2,'0')+':'+_0xff5147[_0x140fbe(0x177)]()[_0x140fbe(0x1ba)]()[_0x140fbe(0x20b)](0x2,'0')+':'+_0xff5147['getSeconds']()['toString']()[_0x140fbe(0x20b)](0x2,'0');}function getTimeStamp(){const _0x271245=_0x2267bb,_0x47c640=shiftedTime();return _0x47c640[_0x271245(0x171)]()+'/'+(_0x47c640['getMonth']()+0x1)[_0x271245(0x1ba)]()[_0x271245(0x20b)](0x2,'0')+'/'+_0x47c640[_0x271245(0x17d)]()[_0x271245(0x1ba)]()[_0x271245(0x20b)](0x2,'0')+'\x20'+_0x47c640[_0x271245(0x22c)]()['toString']()[_0x271245(0x20b)](0x2,'0')+':'+_0x47c640[_0x271245(0x177)]()['toString']()['padStart'](0x2,'0')+':'+_0x47c640[_0x271245(0x211)]()[_0x271245(0x1ba)]()[_0x271245(0x20b)](0x2,'0');}function getDate(){const _0x115f68=_0x2267bb,_0x524b09=shiftedTime();return _0x524b09[_0x115f68(0x171)]()+'/'+(_0x524b09[_0x115f68(0x296)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x524b09[_0x115f68(0x17d)]()[_0x115f68(0x1ba)]()[_0x115f68(0x20b)](0x2,'0');}function getHour(){const _0x23bb5d=_0x2267bb,_0x30445b=shiftedTime();return _0x30445b[_0x23bb5d(0x22c)]()[_0x23bb5d(0x1ba)]()[_0x23bb5d(0x20b)](0x2,'0');}function _0x55b8(){const _0x57abaa=['open','sortBy','fiat','storeFiat','LOCKED','net-fiat','filled','apiKey','cancelOrders()','round','time','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','ExchangeNotAvailable','emitHistory','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','getPortfolio(2)','cancelLoading','/output-000.log','date','getPortfolio','success','enabled','apiSecret','timeout','\x20change','8JQabqg','symbols','price','bot','./logs/','has','2.6.0','Binance','args','buys','getCoins()','debug','956lgrRhw','Pausing\x20for\x20','fetchTickers','constructor','RSA-OAEP','onepagemode','getFullYear','Reset\x20|\x20','added',',\x20must\x20be\x20a\x203\x20digit\x20number','restart','none','getMinutes','offset','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20|\x20Error\x20details:\x20','\x20not\x20available','data','getDate','-events.json','2\x20-\x20FILLED\x20unknown\x20order:\x20','existsSync','ETH','\x20has\x20a\x2024h\x20drop\x20of\x20','2\x20-\x20FILLED\x20known\x20order:\x20','Market','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','UNLOCKING',':\x20Bot\x20','recreate','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','botname','orderId','%\x20(','side','001','getOpenOrders()','limit','get','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','\x20minutes\x20-\x20','placeOrder','change24h','toggleBotMode','-results.json','\x20:\x20','format','customId','final','Initiating\x20exchange\x20reload','util','toLowerCase','Transaction\x20detection\x20blocked','cloneDeep','startprice','threshold','argv','\x20not\x20responding','Error:\x20Invalid\x20argument\x20','unlinkSync','liquidity','timeshift','cost','AuthenticationError','YOYOW/','full','symbol','<b>','\x20API\x20secret\x20is\x20invalid','./version.json','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','lowdb','storeHeadless','eur','sort','function','limit-high','realized','slice','toString','\x20exchange','substring','ordertype','balancing\x20resumed','getTime','min','rightTxt','API-key\x20format\x20invalid','getPortfolio(0)','bb-secure.json','UNLOCKED','NANO/','canceled','33IEmFDl','Portfolio\x20change\x20detected:\x20','-performance.json','currency','max','Exchange','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','orderstatus','startnumber','differenceInSeconds','running','loadMarkets','Unfilled\x20order(s)\x20canceled\x20after\x20','Limit\x20(high-margin)','exchanges','percentage','436370GtiHwe','message','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','configuration','\x20minutes','yyyy-MM-dd\x27T\x27HH:mm:ss','MIN_NOTIONAL','BNB/','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','HOT/BTC','cancelOrder','search','close','logs','balancing\x20resumes\x20when\x20cooldown\x20ends','milliseconds','\x20|\x20','\x20order:\x20','\x20API\x20key\x20is\x20invalid','recent20','Fee\x20discount\x20refund\x20detected:\x20','shift','showname','ORDERS.UNLOCKING','***','XEM/BUSD','cooldown','3\x20-\x20handling\x20FILLED\x20order:\x20','balances','initial','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','cancel','0\x20-\x20EXECUTION:\x20','1775lWkvrN','write','leftTxt','average','469HcolVU','\x20metrics:</b>\x20\x0a\x0a','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','change','hybrid-crypto-js','parse','performance','fee','2001663gQHZHi','filter','assign','watchTransactions','Manual\x20balancing\x20required','padStart','fetchClosedOrders','Unknown\x20error\x20occured','precision','emojisell','push','getSeconds','closed','ccxt','deleteHistoryAlerts','trade','Cooldown\x20ended\x20-\x20balancing\x20resumed','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','valid','entries','Order(s)\x20not\x20validated\x20after\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Invalid\x20quantity','exchange\x20not\x20reloaded','exec','2.5.0','ticker','net-basecoin','path','order','bots','number','status','changes','botID','settings','ongoing','getHours','error','InvalidNonce','8312876DlvQBt','length','concat','value','send','OrderNotFound','delta','1\x20-\x20Handle\x20open\x20orders','highest','clientOrderId','stringify','loadSymbols()','netoffset','set','\x20>\x20[DEBUG]\x20','coin','\x20|\x20highest:\x20','event','progress','abs','target','Net\x20','distribution','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','privateKey','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','exchange','basecoin','watchOrders','2\x20-\x20Handled\x20open\x20orders','<pre>','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','(((.+)+)+)+$','\x20portfolio:</b>\x20\x0a\x0a','remainingSymbols','defaults','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','replace','reverse','warning','join','getCoinNumber()','Order\x20filled:\x20','map','-------------------------------\x0a','find','sell','./config/','startdate','storeConfiguration','yyyy/MM/dd','headless','/EUR','parseISO','configuration-stored','fees','\x20>\x20','apply','breakeven','EUR','openOrders','log','fromCodePoint','add','page','recreateCoinResults()','simple','includes','no\x20open\x20orders','market','toFixed','BTC','type','fetchTicker','amount','coins','yargs/yargs','recovery','ORDERS.LOCKED','USD','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','splice','limits','bb-settings.json','\x20-\x20bot\x20not\x20started','createWriteStream','2.3.5','sha256','version','sells','13418dsbnkw','datetime','BNB','Executed\x20','forEach','random','************','19428QPsEDX','Failed\x20to\x20load\x20coin\x20data\x20for\x20','emojibuy','test','mkdirSync','Crypt','getMonth','watchTrades','additional\x20symbols\x20','timer:','event-history','initclient','placeOrder()','decrypt','Executing\x20exchange\x20reload','showConfig','limit-low','No\x20more\x20open\x20orders\x20-\x20','bot-','last','total','split','remove','BUSD','portfolio','usd','timestamp','buy','1\x20-\x20Unlock\x20orders','/USD','Saving\x20configuration','2\x20-\x20Validate\x20orders:\x20','USDT','Error\x20while\x20deleting\x20files:\x20','Net\x20effect','sendMetricsTelegram','</pre>','fetchBalance','findIndex','excluded','Fees\x20|\x20currency:\x20','starting-balance-','685410jrstkf','indexOf'];_0x55b8=function(){return _0x57abaa;};return _0x55b8();}function sleep(_0xe11648){return new Promise(_0x549a0f=>setTimeout(_0x549a0f,_0xe11648));}function shiftedTime(){const _0x57768c=_0x2267bb,_0x28cd7d=new Date();let _0x1880db=_0x28cd7d;if(config&&config[_0x57768c(0x1a8)]!==0x0)_0x1880db=fns[_0x57768c(0x26e)](_0x28cd7d,{'hours':config[_0x57768c(0x1a8)]});return _0x1880db;}function timer(_0x1d8e05){const _0x45a7b3=_0x2267bb,_0x320f8c=new Date();!lasttime?console[_0x45a7b3(0x26c)](_0x45a7b3(0x299),_0x1d8e05,_0x320f8c):console[_0x45a7b3(0x26c)](_0x45a7b3(0x299),_0x1d8e05,(_0x320f8c-lasttime)/0x3e8),lasttime=_0x320f8c;}