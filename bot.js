const _0x4719a6=_0x2d05;(function(_0xa7583e,_0x19a5e4){const _0x4c84de=_0x2d05,_0x2a3168=_0xa7583e();while(!![]){try{const _0x4c2f70=-parseInt(_0x4c84de(0x15a))/0x1*(parseInt(_0x4c84de(0x1d5))/0x2)+-parseInt(_0x4c84de(0x99))/0x3+parseInt(_0x4c84de(0x142))/0x4*(parseInt(_0x4c84de(0x70))/0x5)+parseInt(_0x4c84de(0x10b))/0x6*(parseInt(_0x4c84de(0x10d))/0x7)+parseInt(_0x4c84de(0x167))/0x8*(parseInt(_0x4c84de(0x15d))/0x9)+-parseInt(_0x4c84de(0x12f))/0xa+-parseInt(_0x4c84de(0xfe))/0xb*(-parseInt(_0x4c84de(0x166))/0xc);if(_0x4c2f70===_0x19a5e4)break;else _0x2a3168['push'](_0x2a3168['shift']());}catch(_0xfcdb81){_0x2a3168['push'](_0x2a3168['shift']());}}}(_0x535b,0xd2113));const _0x481931=function(){let _0x572576=!![];return function(_0x1a18bd,_0x2077e2){const _0x40dd10=_0x572576?function(){const _0x5a13db=_0x2d05;if(_0x2077e2){const _0x1bbfb2=_0x2077e2[_0x5a13db(0x121)](_0x1a18bd,arguments);return _0x2077e2=null,_0x1bbfb2;}}:function(){};return _0x572576=![],_0x40dd10;};}(),_0x306f0e=_0x481931(this,function(){const _0x120945=_0x2d05;return _0x306f0e['toString']()[_0x120945(0xc6)]('(((.+)+)+)+$')[_0x120945(0x1e2)]()[_0x120945(0x74)](_0x306f0e)[_0x120945(0xc6)](_0x120945(0x126));});_0x306f0e();'use strict';const ccxt=require('ccxt')[_0x4719a6(0xd9)],low=require(_0x4719a6(0x8f)),FileSync=require(_0x4719a6(0x134)),fs=require('fs'),fns=require(_0x4719a6(0x98)),Crypt=require(_0x4719a6(0x153))[_0x4719a6(0xe7)],util=require(_0x4719a6(0x139)),argv=require(_0x4719a6(0x8b))(process['argv']['slice'](0x2))['argv'],path=require(_0x4719a6(0x19b));let exchange;global[_0x4719a6(0xd1)]={},global['change']={};const usdBasecoins=[_0x4719a6(0x18c),_0x4719a6(0xe8),_0x4719a6(0xaf),_0x4719a6(0xa9),_0x4719a6(0x1be),'USDP'],exceptions={'binance':[_0x4719a6(0x17b),_0x4719a6(0x15c),_0x4719a6(0x1c1),_0x4719a6(0x1b3),_0x4719a6(0xa0)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x4719a6(0x111)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x4719a6(0x1ec))[_0x4719a6(0x1a0)],botID=process[_0x4719a6(0x130)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x4719a6(0x6e)](botID)&&(console['log'](_0x4719a6(0x1c5)+botID+_0x4719a6(0x1b4)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x4719a6(0x1ef)+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0x4719a6(0x1c4),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs[_0x4719a6(0x1a9)](configpath)&&fs[_0x4719a6(0x163)](configpath);!fs[_0x4719a6(0x1a9)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x4719a6(0xce)+botID+_0x4719a6(0x12b),logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+'bot-'+botID+_0x4719a6(0xbe),coinresultsfile=configpath+_0x4719a6(0xce)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x4719a6(0x184),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x4719a6(0xa6)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x4719a6(0xed)]({'data':[],'version':serverversion})[_0x4719a6(0xa6)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x4719a6(0xed)]({'bot':[],'version':serverversion})[_0x4719a6(0xa6)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x4719a6(0xed)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x4719a6(0x1e3),'rsaStandard':_0x4719a6(0x12d)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x57206d=>{console['log'](_0x57206d);},'simple':_0x18e50f=>{const _0x25c5db=_0x4719a6;console[_0x25c5db(0x18f)](_0x18e50f),loggerfile[_0x25c5db(0xa6)](util[_0x25c5db(0x14d)](_0x18e50f)+'\x0a');},'full':async(_0x335cc7,_0xc624e='')=>{const _0x31a85c=_0x4719a6;let _0x49af53;if(config[_0x31a85c(0x1ca)])_0x49af53=getTimeStamp()+':\x20'+config['botname']+_0x31a85c(0xde)+_0x335cc7;else _0x49af53=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x335cc7;console[_0x31a85c(0x18f)](_0x49af53),loggerfile['write'](util[_0x31a85c(0x14d)](_0x49af53)+'\x0a'),_0xc624e&&(console['log'](_0xc624e),loggerfile[_0x31a85c(0xa6)](util[_0x31a85c(0x14d)](_0xc624e)+'\x0a'));},'debug':async(_0x1d7ea7,_0x59d208='')=>{const _0x29ecc9=_0x4719a6;let _0x230f9a;if(config['showname'])_0x230f9a=getTimeStamp()+':\x20'+config[_0x29ecc9(0x188)]+_0x29ecc9(0x1b7)+_0x1d7ea7;else _0x230f9a=getTimeStamp()+_0x29ecc9(0x123)+botID+'\x20>\x20[DEBUG]\x20'+_0x1d7ea7;if(debugging)console[_0x29ecc9(0x18f)](_0x230f9a);loggerfile['write'](util[_0x29ecc9(0x14d)](_0x230f9a)+'\x0a');if(_0x59d208){if(debugging)console[_0x29ecc9(0x18f)](_0x59d208);loggerfile[_0x29ecc9(0xa6)](util[_0x29ecc9(0x14d)](_0x59d208)+'\x0a');}}};process['on']('uncaughtException',function(_0x5434d8){const _0x81ebf2=_0x4719a6;logger[_0x81ebf2(0x13a)](_0x81ebf2(0x1c0),_0x5434d8);});settings[_0x4719a6(0x10f)]!=config[_0x4719a6(0x10f)]&&updateTimeshift(settings[_0x4719a6(0x10f)]);settings[_0x4719a6(0x1ce)]!=config[_0x4719a6(0x1ce)]&&updateOnepagemode(settings['onepagemode']);process['send']({'started':_0x4719a6(0x86)},_0x56689c=>{}),initializeProcessListeners();function proxyEmit(_0x5a987f,_0x317e86=null){const _0x5fa802=_0x4719a6;process[_0x5fa802(0x128)]({'function':_0x5a987f,'args':_0x317e86},_0x5090d2=>{});}function initializeProcessListeners(){const _0x5cad67=_0x4719a6;process['on'](_0x5cad67(0x185),_0x3d7959=>{const _0x2383d2=_0x5cad67;switch(Object['keys'](_0x3d7959)[0x0]){case _0x2383d2(0x10f):_0x3d7959[_0x2383d2(0x10f)]!=undefined&&(settings[_0x2383d2(0x10f)]=_0x3d7959[_0x2383d2(0x10f)],updateTimeshift(settings[_0x2383d2(0x10f)]));break;case _0x2383d2(0x1ce):_0x3d7959['onepagemode']!=undefined&&(settings[_0x2383d2(0x1ce)]=_0x3d7959['onepagemode'],updateOnepagemode(settings[_0x2383d2(0x1ce)]));break;case'bots':_0x3d7959[_0x2383d2(0x1bb)]!=undefined&&(bots=JSON['parse'](_0x3d7959[_0x2383d2(0x1bb)]),proxyEmit(_0x2383d2(0x1bb),bots));break;case'function':switch(_0x3d7959['function']){case'initclient':initclient();break;case _0x2383d2(0x1d4):toggleBotMode();break;case _0x2383d2(0xc5):emitHistory(_0x3d7959[_0x2383d2(0xc9)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x3d7959['args']);break;case _0x2383d2(0x17c):getPortfolio(_0x3d7959[_0x2383d2(0xc9)]);break;case'storeConfiguration':storeConfiguration(_0x3d7959[_0x2383d2(0xc9)]);break;case _0x2383d2(0x182):storeHeadless(_0x3d7959[_0x2383d2(0xc9)]);break;case _0x2383d2(0x12c):storeFiat(_0x3d7959[_0x2383d2(0xc9)]);break;case'resetHistory':resetHistory();break;case _0x2383d2(0x1ad):getStartingBalances(getNormalizedPerformance());break;case _0x2383d2(0x156):placeOrder(_0x3d7959[_0x2383d2(0xc9)]);break;case'cancelLoading':cancelLoading();break;case _0x2383d2(0x1e9):showConfig();break;case _0x2383d2(0xdb):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x57067d=null,_0x5e8592=![]){const _0x398873=_0x4719a6;logger[_0x398873(0x13a)](_0x398873(0x1bd)+(_0x57067d&&_0x57067d[_0x398873(0x85)]>0x0?_0x398873(0x118)+_0x57067d[_0x398873(0xe3)](','):'no\x20additional\x20symbols')+_0x398873(0x13f)+(_0x5e8592?_0x398873(0x109):_0x398873(0x103))+'\x20|\x20Exchange:\x20'+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x5e8592)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x398873(0x1b6)]!=''&&config[_0x398873(0x1b6)]!=_0x398873(0x78)){if(_0x5e8592){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x311a20){handleErrorNoStop(_0x311a20,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x57067d);const _0x127349=await getCoins();[currentCoins,currentCoinsAll]=_0x127349,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x398873(0x85)]==0x0&&allOpenOrders[_0x398873(0x85)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x9fca78=_0x4719a6;logger[_0x9fca78(0x13a)](_0x9fca78(0x71));while(lockOrders!=ORDERS[_0x9fca78(0x15b)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x9fca78(0x6c)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x1d0788=config[_0x4719a6(0x190)],_0xd17128=config[_0x4719a6(0x1b6)],_0x5855e0=config[_0x4719a6(0x13d)],_0x48c8e3=config[_0x4719a6(0xcb)]){const _0x7c45c0=_0x4719a6;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x1d0788)&&(logHistory(_0x7c45c0(0x1cd),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x1d0788+_0x7c45c0(0x9d)),killBot());const _0x3eefcd=ccxt[_0x1d0788['toLowerCase']()];exchange=new _0x3eefcd({'apiKey':_0xd17128,'secret':_0x5855e0,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});_0x1d0788==_0x7c45c0(0xc7)&&(exchange[_0x7c45c0(0x144)]={'defaultType':_0x7c45c0(0x1e8)});if(_0x48c8e3)exchange['password']=_0x48c8e3;}function setStableCoins(){const _0x21de0a=_0x4719a6;let _0x19941b=config[_0x21de0a(0x11c)]==_0x21de0a(0xee)?'ETH':'BTC',_0x334237=!allSymbols['includes'](_0x19941b+_0x21de0a(0x6f))?_0x21de0a(0xa9):'USD',_0x4e9375=!allSymbols[_0x21de0a(0x105)](_0x19941b+'/EUR')?_0x334237:_0x21de0a(0x178);stablecoins={'eur':{'coin':''+_0x19941b+_0x4e9375,'symbol':_0x19941b+'/'+_0x4e9375},'usd':{'coin':''+_0x19941b+_0x334237,'symbol':_0x19941b+'/'+_0x334237}};}async function initwsCcxt(_0x2c994f){const _0x95e7b7=_0x4719a6;_0x2c994f==null&&(_0x2c994f=[],config[_0x95e7b7(0x164)][_0x95e7b7(0x88)](_0x5de4bf=>{const _0x34d9ae=_0x95e7b7;if(!_0x5de4bf[_0x34d9ae(0x82)]&&_0x5de4bf[_0x34d9ae(0x1c7)]!=config['basecoin'])_0x2c994f[_0x34d9ae(0x183)](_0x5de4bf[_0x34d9ae(0x10a)]);}));if(!_0x2c994f[_0x95e7b7(0x105)](stablecoins[_0x95e7b7(0x180)]['symbol']))_0x2c994f['push'](stablecoins['eur']['symbol']);if(!_0x2c994f[_0x95e7b7(0x105)](stablecoins[_0x95e7b7(0xad)][_0x95e7b7(0x10a)]))_0x2c994f['push'](stablecoins[_0x95e7b7(0xad)][_0x95e7b7(0x10a)]);if(config[_0x95e7b7(0x190)][_0x95e7b7(0xec)]('Binance')){if(!_0x2c994f[_0x95e7b7(0x105)](_0x95e7b7(0x143)+config[_0x95e7b7(0x11c)]))_0x2c994f[_0x95e7b7(0x183)](_0x95e7b7(0x143)+config[_0x95e7b7(0x11c)]);}loadCoins(_0x2c994f);const _0x3912aa=async _0x459bf7=>{const _0x402874=_0x95e7b7,_0x1cfb2c=await exchange[_0x402874(0x1d2)](_0x459bf7);global[_0x402874(0xd1)][noslash(_0x1cfb2c[_0x402874(0x10a)])]=_0x1cfb2c['last'];while(!![]){if(!botPaused)try{const _0x5454aa=await exchange['watchTrades'](_0x459bf7);global[_0x402874(0xd1)][noslash(_0x5454aa[0x0][_0x402874(0x10a)])]=_0x5454aa[0x0]['price'],await sleep(0x3e8);}catch(_0x589798){if(!exchangeStopped)await handleError(_0x589798,_0x402874(0x18e),_0x459bf7);}else await sleep(0x64);}},_0x2ae3ac=async _0xac18c7=>{const _0x357115=_0x95e7b7;while(!![]){if(!botPaused)try{const _0x42d0c5=await exchange[_0x357115(0x1d2)](_0xac18c7);global[_0x357115(0xd5)][_0x42d0c5[_0x357115(0x10a)]]=_0x42d0c5['percentage'],await sleep(0x3c*0x3e8);}catch(_0x338495){if(!exchangeStopped)await handleError(_0x338495,_0x357115(0x96),_0xac18c7);}else await sleep(0x64);}},_0x336af2=async()=>{const _0x26d6ac=_0x95e7b7;while(!![]){if(!botPaused)try{const _0x586e82=await exchange[_0x26d6ac(0x8e)]();_0x586e82['forEach'](_0x11cd2f=>{updateNumberCoinsCcxt(_0x11cd2f);});}catch(_0x4c8c36){if(!exchangeStopped)await handleError(_0x4c8c36,_0x26d6ac(0x8e));}else await sleep(0x64);}};_0x2c994f[_0x95e7b7(0x88)](_0x5b8b0f=>{_0x3912aa(_0x5b8b0f),_0x2ae3ac(_0x5b8b0f);}),!wsEventsSet&&(wsEventsSet=!![],_0x336af2(),watchTransactions());}async function watchTransactions(){const _0x19b950=_0x4719a6;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x3488d5=await getCoins(),[_0x48190d,_0x4f06d1]=_0x3488d5;let _0x1ae105=[];currentCoins['forEach'](_0x1e19b0=>{const _0x2a21fc=_0x2d05,_0x211e71=_0x48190d[_0x2a21fc(0x179)](_0x4c233b=>_0x4c233b[_0x2a21fc(0x1c7)]==_0x1e19b0[_0x2a21fc(0x1c7)]);_0x211e71&&(_0x1e19b0[_0x2a21fc(0x1c9)]!=_0x211e71[_0x2a21fc(0x1c9)]&&_0x1ae105['push']({'coin':_0x1e19b0[_0x2a21fc(0x1c7)],'symbol':_0x1e19b0[_0x2a21fc(0x10a)],'number':Number(formatResult(_0x211e71[_0x2a21fc(0x1c9)]-_0x1e19b0[_0x2a21fc(0x1c9)],0x8))}));});if(_0x1ae105[_0x19b950(0x85)]==0x1&&!blockTransactionDetection){if(config['autoliquidity']){logger[_0x19b950(0x13a)](_0x19b950(0x1a3)+lastFees['currency']+'\x20|\x20highest:\x20'+lastFees['highest']);if(!lastFees['currency']||_0x1ae105[0x0][_0x19b950(0x1c7)]!=lastFees[_0x19b950(0x7a)]||_0x1ae105[0x0][_0x19b950(0x1c9)]>lastFees[_0x19b950(0x146)]){let _0x156a73;if(_0x1ae105[0x0][_0x19b950(0x1c7)]!=config[_0x19b950(0x11c)]){let _0x3292d5=global[_0x19b950(0xd1)][noslash(_0x1ae105[0x0][_0x19b950(0x10a)])];_0x156a73=_0x1ae105[0x0][_0x19b950(0x116)]?0x1/_0x3292d5:_0x3292d5;}else _0x156a73=0x1;_0x1ae105[0x0][_0x19b950(0x73)]=_0x156a73,delete _0x1ae105[0x0][_0x19b950(0x10a)];let _0x35a62f=[],_0x255f10=[...config[_0x19b950(0xcc)]]||[],_0x479642=config['liquidity'];_0x255f10['sort']((_0x5c6ac6,_0x1e89d9)=>_0x5c6ac6[_0x19b950(0xe0)]>_0x1e89d9['date']?-0x1:_0x1e89d9[_0x19b950(0xe0)]>_0x5c6ac6[_0x19b950(0xe0)]?0x1:0x0);const _0x5ed611=getDate();if(_0x255f10[0x0]){const _0x252544=fns[_0x19b950(0x104)](_0x255f10[0x0]['date'],'yyyy/MM/dd',new Date()),_0x419c24=fns['parse'](_0x5ed611,_0x19b950(0x9f),new Date());if(fns['isEqual'](_0x252544,_0x419c24)){_0x35a62f=_0x255f10[0x0]['changes'];const _0x2f9151=_0x35a62f[_0x19b950(0x179)](_0x218b8b=>_0x218b8b['coin']==_0x1ae105[0x0]['coin']);_0x2f9151?(_0x2f9151[_0x19b950(0x1c9)]+=_0x1ae105[0x0][_0x19b950(0x1c9)],_0x2f9151[_0x19b950(0x1c9)]==0x0&&(_0x35a62f=_0x35a62f['filter'](_0x1ccbea=>{const _0x1adac6=_0x19b950;return _0x1ccbea[_0x1adac6(0x1c7)]!=_0x1ae105[0x0]['coin'];}))):_0x35a62f[_0x19b950(0x183)](_0x1ae105[0x0]);const _0x4aeb7a=_0x479642[_0x19b950(0x179)](_0x9eaaca=>_0x9eaaca[_0x19b950(0xe0)]==_0x5ed611);_0x4aeb7a['changes']=_0x35a62f;}else _0x479642[_0x19b950(0x183)]({'date':_0x5ed611,'changes':[_0x1ae105[0x0]]});}const _0x1a1a12=_0x479642[_0x19b950(0x179)](_0x51266c=>_0x51266c['date']==_0x5ed611);if(_0x1a1a12){let _0x2a2bda=!![];_0x1a1a12[_0x19b950(0x7c)][_0x19b950(0x88)](_0x3f19e0=>{const _0x596a21=_0x19b950;if(_0x3f19e0[_0x596a21(0x1c9)]!=0x0)_0x2a2bda=![];}),_0x2a2bda&&(_0x479642=_0x479642['filter'](_0x2679b4=>{const _0x1499a9=_0x19b950;return _0x2679b4[_0x1499a9(0xe0)]!=_0x5ed611;}));}let _0x537523=dbConfig['get'](_0x19b950(0x1f0))['find']({'botID':botID})[_0x19b950(0x170)]();_0x537523&&(dbConfig[_0x19b950(0x10c)](_0x19b950(0x1f0))[_0x19b950(0x179)]({'botID':botID})[_0x19b950(0x1c3)]({'liquidity':_0x479642})[_0x19b950(0xa6)](),config[_0x19b950(0xcc)]=_0x479642),logHistory(_0x19b950(0x11b),_0x19b950(0x108)+Math[_0x19b950(0xf4)](_0x1ae105[0x0][_0x19b950(0x1c9)])+'\x20'+_0x1ae105[0x0][_0x19b950(0x1c7)]+'\x20'+(_0x1ae105[0x0]['number']>0x0?_0x19b950(0x16c):_0x19b950(0xc2))+_0x19b950(0xf3)),proxyEmit('configuration',emittedConfiguration());}else logger[_0x19b950(0x13a)](_0x19b950(0x18d)+Math[_0x19b950(0xf4)](_0x1ae105[0x0][_0x19b950(0x1c9)])+'\x20'+_0x1ae105[0x0][_0x19b950(0x1c7)]+'\x20'+(_0x1ae105[0x0][_0x19b950(0x1c9)]>0x0?_0x19b950(0x16c):_0x19b950(0xc2)));transactionDetected=!![],currentCoins=_0x48190d,currentCoinsAll=_0x4f06d1;}else logger[_0x19b950(0x13a)](_0x19b950(0x108)+Math[_0x19b950(0xf4)](_0x1ae105[0x0]['number'])+'\x20'+_0x1ae105[0x0]['coin']+'\x20'+(_0x1ae105[0x0][_0x19b950(0x1c9)]>0x0?'added':'removed')+_0x19b950(0x1b9)),currentCoins=_0x48190d,currentCoinsAll=_0x4f06d1;}await sleep(watchTransactionsInterval);}catch(_0x5d92b3){if(!exchangeStopped)await handleError(_0x5d92b3,_0x19b950(0xd6));}else await sleep(0x64);}}async function loadSymbols(_0x265a56=config['exchange'],_0x6dd591=![]){const _0x45f601=_0x4719a6;if(allSymbols&&!_0x6dd591)return;try{markets=await exchange[_0x45f601(0x131)](),allSymbols=exchange[_0x45f601(0x83)]['filter'](_0x59f012=>{const _0x1242bb=_0x45f601;let _0x5c44d2=![];const _0x33f9d5=exceptions[_0x265a56['toLowerCase']()]||[];return _0x33f9d5[_0x1242bb(0x88)](_0x17bedc=>{if(_0x59f012['includes'](_0x17bedc))_0x5c44d2=!![];}),!_0x5c44d2;});}catch(_0x3def58){throw _0x3def58;}}async function initclient(){const _0x148e1e=_0x4719a6;emitLoadingProgress(),proxyEmit(_0x148e1e(0x1ae),emittedConfiguration()),proxyEmit(_0x148e1e(0xc4),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x148e1e(0x1b0),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x320693=getNormalizedPerformance();emitPerformance(_0x320693),getStartingBalances(_0x320693);}async function toggleBotMode(){const _0x520e82=_0x4719a6;let _0x207d6a=dbConfig[_0x520e82(0x10c)](_0x520e82(0x1f0))[_0x520e82(0x179)]({'botID':botID})[_0x520e82(0x170)]();if(_0x207d6a){const _0x343db7=!_0x207d6a[_0x520e82(0x1dc)];dbConfig[_0x520e82(0x10c)](_0x520e82(0x1f0))[_0x520e82(0x179)]({'botID':botID})[_0x520e82(0x1c3)]({'headless':_0x343db7})[_0x520e82(0xa6)](),config[_0x520e82(0x1dc)]=_0x343db7,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x556699=_0x4719a6;process[_0x556699(0x128)]({'updatebotmanager':!![]},_0x60283=>{});}async function loadCoins(_0x133945){const _0x55923e=_0x4719a6;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x58781e,_0xfd9fc4=0x0,_0x2aa8e4=0x0;_0x133945['forEach'](_0x21bee5=>{const _0x41c29f=_0x2d05;loading[_0x41c29f(0xbc)][_0x41c29f(0x183)](_0x21bee5);}),loadingCanceled=![];let _0x354a54=![];while(_0x58781e!=_0x133945[_0x55923e(0x85)]){_0x58781e=0x0,_0x133945[_0x55923e(0x88)](_0x13c764=>{const _0xd33390=_0x55923e;if(global[_0xd33390(0xd1)][noslash(_0x13c764)]){loading['remainingSymbols']=loading[_0xd33390(0xbc)]['filter'](_0x8ec387=>_0x8ec387!=_0x13c764);if(!watchedSymbols[_0xd33390(0x105)](_0x13c764))watchedSymbols[_0xd33390(0x183)](_0x13c764);_0x58781e++;}}),loading['progress']=Math[_0x55923e(0x1d9)](_0x58781e/_0x133945['length']*0x64);loading[_0x55923e(0x14e)]!=0x64&&(_0x2aa8e4>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x2aa8e4>0x78*0x5&&!_0x354a54&&(loading[_0x55923e(0x1a8)]=!![],emitLoadingProgress(),_0x354a54=!![],logHistory(_0x55923e(0x1cd),_0x55923e(0x14c)+loading[_0x55923e(0xbc)][_0x55923e(0xe3)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x55923e(0x1cd),_0x55923e(0xc3)+loadCoinsRetryInterval/0xea60+_0x55923e(0x1e6)),pidCoinReloading=setTimeout(()=>{const _0x3c993d=_0x55923e;process[_0x3c993d(0x128)]({'stop':_0x3c993d(0x124)},_0x50e6ff=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x55923e(0x1a8)]=!![],emitLoadingProgress();break;}else _0x58781e!=_0xfd9fc4&&(_0xfd9fc4=_0x58781e,emitLoadingProgress()),_0x2aa8e4++,await sleep(0xc8);}_0x58781e==_0x133945['length']&&(coinsLoaded=!![],process[_0x55923e(0x128)]({'status':'enabled','live':'running'},_0x2c1343=>{}),_0x354a54&&logHistory('success',_0x55923e(0x1db)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x248538=_0x4719a6;proxyEmit(_0x248538(0x1ae),{...emittedConfiguration(),'configstate':_0x248538(0xff)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x2a8e49=_0x4719a6;let _0x35e4a2=global[_0x2a8e49(0xd1)][stablecoins[_0x2a8e49(0x180)][_0x2a8e49(0x1c7)]],_0x1054c2=global[_0x2a8e49(0xd1)][stablecoins[_0x2a8e49(0xad)][_0x2a8e49(0x1c7)]];return{'eur':Number(_0x35e4a2),'usd':Number(_0x1054c2)};}function capitalize(_0x432c1a){const _0x378960=_0x4719a6;return _0x432c1a[_0x378960(0xd3)](0x0,0x1)[_0x378960(0x140)]()+_0x432c1a[_0x378960(0xd3)](0x1);}function supportedExchanges(){const _0x1a05b5=_0x4719a6,_0x144fa3=['ws',_0x1a05b5(0x96),_0x1a05b5(0x1d2),_0x1a05b5(0x18e),_0x1a05b5(0x8e),_0x1a05b5(0x194),'createOrder',_0x1a05b5(0x93),_0x1a05b5(0x125),_0x1a05b5(0x110)];let _0x463f90=[],_0x35c0af=[],_0x5d85f4=ccxt[_0x1a05b5(0xc4)];_0x5d85f4[_0x1a05b5(0x88)](_0x558bd5=>{const _0x46e890=_0x1a05b5;try{const _0x23cacd=new ccxt[_0x558bd5]();if(_0x23cacd[_0x46e890(0x113)]['ws'])_0x35c0af['push'](_0x23cacd);}catch(_0x2262a9){}}),_0x35c0af[_0x1a05b5(0x88)](_0x5e117a=>{const _0x21f4bb=_0x1a05b5;let _0xf849f=0x0;_0x144fa3[_0x21f4bb(0x88)](_0x4dd7a3=>{const _0x2ceade=_0x21f4bb;_0x4dd7a3 in _0x5e117a[_0x2ceade(0x113)]&&_0x5e117a['has'][_0x4dd7a3]&&_0xf849f++;}),_0xf849f==_0x144fa3['length']&&_0x463f90['push'](capitalize(_0x5e117a['id']));});let _0xdf4b30=[];return _0x5d85f4[_0x1a05b5(0x88)](_0x7de5bb=>{const _0x4f28a3=_0x1a05b5;_0x7de5bb=capitalize(_0x7de5bb);if(!_0x463f90['includes'](_0x7de5bb))_0xdf4b30[_0x4f28a3(0x183)](_0x7de5bb);}),_0x463f90;}function setStartDatePerformance(){const _0x1704be=_0x4719a6;if(config&&config[_0x1704be(0xcc)][0x0][_0x1704be(0x7c)][_0x1704be(0x85)]!=0x0){const _0x39d29d=config['liquidity'][0x0][_0x1704be(0x7c)];dbPerformance[_0x1704be(0x10c)](_0x1704be(0x19e))[_0x1704be(0x179)]({'date':config[_0x1704be(0x1c6)]})['assign']({'coins':_0x39d29d})[_0x1704be(0xa6)]();}}async function recreateCoinResults(){const _0x4f7826=_0x4719a6;let _0x41d9e1,_0x54a877=[];try{const _0x5e23b3=fns[_0x4f7826(0x14d)](fns[_0x4f7826(0x122)](config[_0x4f7826(0x1c6)]['replace'](/\//g,'-')),_0x4f7826(0x1ea));for(const _0x3382ce of currentCoins){if(_0x3382ce[_0x4f7826(0x1c7)]!=config[_0x4f7826(0x11c)]){let _0x167c9e=0x0,_0x1d178b,_0x21abef;_0x41d9e1=await getAllEventOrders(_0x3382ce[_0x4f7826(0x10a)]);if(_0x41d9e1[_0x4f7826(0x85)]>0x0)_0x41d9e1[_0x4f7826(0x88)](_0x3bdfa4=>{const _0x17c320=_0x4f7826,_0x5cd280=_0x3382ce[_0x17c320(0x10a)][_0x17c320(0x105)](config[_0x17c320(0x11c)]+'/');_0x54a877[_0x17c320(0x183)]({'datetime':_0x3bdfa4[_0x17c320(0x1bf)],'coin':_0x3382ce[_0x17c320(0x1c7)],'symbol':_0x3382ce[_0x17c320(0x10a)],'side':_0x3bdfa4[_0x17c320(0x120)],'reverse':_0x5cd280,'amount':formatResult(_0x3bdfa4[_0x17c320(0x141)],0x8),'filled':formatResult(_0x3bdfa4['filled'],0x8),'price':formatResult(_0x3bdfa4['price'],0x8)}),_0x167c9e=_0x3bdfa4['side']==_0x17c320(0x119)?_0x167c9e+_0x3bdfa4[_0x17c320(0x141)]:_0x167c9e-_0x3bdfa4['filled'];if(!_0x21abef)_0x21abef=_0x3bdfa4[_0x17c320(0x73)];});_0x1d178b=_0x3382ce[_0x4f7826(0x1c9)]-_0x167c9e;let _0xb1a8da;config[_0x4f7826(0xcc)][_0x4f7826(0x88)](_0x2e3c00=>{const _0x4c0e73=_0x4f7826;!_0xb1a8da&&(_0xb1a8da=_0x2e3c00[_0x4c0e73(0x7c)][_0x4c0e73(0x179)](_0x5cead=>_0x5cead[_0x4c0e73(0x1c7)]==_0x3382ce[_0x4c0e73(0x1c7)]),_0xb1a8da&&(_0x1d178b=_0xb1a8da[_0x4c0e73(0x1c9)],_0x21abef=_0xb1a8da[_0x4c0e73(0x73)]));});let _0x4071b9=dbCoinResults[_0x4f7826(0x10c)]('coins')[_0x4f7826(0x179)]({'coin':_0x3382ce[_0x4f7826(0x1c7)]})[_0x4f7826(0x170)]();_0x4071b9={'coin':_0x3382ce[_0x4f7826(0x1c7)],'number':_0x1d178b,'breakeven':_0x21abef,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4f7826(0x10c)](_0x4f7826(0xb0))['find']({'coin':_0x3382ce['coin']})[_0x4f7826(0x1c3)](_0x4071b9)[_0x4f7826(0xa6)]();}}_0x54a877[_0x4f7826(0xb2)]((_0x246c7e,_0x1bc410)=>_0x246c7e['datetime']>_0x1bc410[_0x4f7826(0x1bf)]?0x1:_0x1bc410['datetime']>_0x246c7e['datetime']?-0x1:0x0);let _0x1a4d23=0x0;for(let _0x5cfb02 of _0x54a877){await updateCoinResults(_0x5cfb02,!![]);}}catch(_0x404649){await handleError(_0x404649,_0x4f7826(0x1ac));}}async function getAllEventOrders(_0x2038e3){const _0x436078=_0x4719a6;let _0x483e1b=[],_0x475052=dbLogs['get'](_0x436078(0x1b2))['filter'](_0xc363db=>{const _0xbf6228=_0x436078,_0xa07a24=_0xc363db[_0xbf6228(0x8d)]['toLowerCase']();return _0xa07a24[_0xbf6228(0x105)](_0x2038e3[_0xbf6228(0x149)]())&&(_0xa07a24['includes'](_0xbf6228(0x114))&&_0xa07a24[_0xbf6228(0x105)]('order')||_0xa07a24[_0xbf6228(0x105)](_0xbf6228(0x141))&&_0xa07a24[_0xbf6228(0x105)](_0xbf6228(0x195)));})[_0x436078(0x1d8)]('time')[_0x436078(0x170)]();return _0x475052[_0x436078(0x88)](_0x3728d9=>{const _0x2b1665=_0x436078,_0x535dfa=_0x3728d9[_0x2b1665(0x8d)][_0x2b1665(0x105)](_0x2b1665(0x16d))?_0x2b1665(0x16d):'buy',_0x4b8329=/#([0-9]|\.)+\s/i,_0x3d4f35=Number(_0x4b8329[_0x2b1665(0xe1)](_0x3728d9[_0x2b1665(0x8d)])[0x0][_0x2b1665(0x1cc)](0x1)),_0xa55c19=/@([0-9]|\.)+$/i,_0x5e67e9=Number(_0xa55c19[_0x2b1665(0xe1)](_0x3728d9['event'])[0x0][_0x2b1665(0x1cc)](0x1));_0x483e1b[_0x2b1665(0x183)]({'datetime':_0x3728d9[_0x2b1665(0x145)],'coin':symbolToCoin(_0x2038e3),'symbol':_0x2038e3,'side':_0x535dfa,'amount':_0x3d4f35,'filled':_0x3d4f35,'price':_0x5e67e9});}),_0x483e1b;}async function getAllOrders(_0x27e7cd,_0x45bcec){const _0x1888e8=_0x4719a6;let _0x30a756=[];while(_0x45bcec<exchange[_0x1888e8(0xd7)]()){const _0x113747=0x1f4,_0x3a22b9=await exchange[_0x1888e8(0x125)](_0x27e7cd,_0x45bcec,_0x113747);if(_0x3a22b9['length'])_0x45bcec=_0x3a22b9[_0x3a22b9[_0x1888e8(0x85)]-0x1]['timestamp']+0x1,_0x30a756=_0x30a756[_0x1888e8(0x10e)](_0x3a22b9);else break;}return _0x30a756;}async function validate24hChanges(){const _0x2213ac=_0x4719a6;for(const _0x5d5058 of currentCoins){if(_0x5d5058[_0x2213ac(0x1c7)]!=config[_0x2213ac(0x11c)]){let _0x542d0d;_0x5d5058[_0x2213ac(0x116)]?_0x542d0d=formatResult((0x1/(global[_0x2213ac(0xd5)][noslash(_0x5d5058[_0x2213ac(0x10a)])]/0x64+0x1)-0x1)*0x64,0x3):_0x542d0d=global['change'][noslash(_0x5d5058['symbol'])],_0x542d0d<config[_0x2213ac(0x94)]&&(logHistory(_0x2213ac(0x1cd),_0x5d5058['coin']+_0x2213ac(0x1e4)+_0x542d0d+'%'),logHistory(_0x2213ac(0x1cd),_0x2213ac(0xf7)),logHistory('error',_0x2213ac(0x1d6)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x7213ed,_0x4cd6c2){const _0x23ae57=_0x4719a6;if(!_0x7213ed)return!![];const _0x17a64c=_0x4cd6c2['split']('.'),_0x53e457=_0x7213ed[_0x23ae57(0xca)]('.');for(var _0x2c21a1=0x0;_0x2c21a1<_0x53e457[_0x23ae57(0x85)];_0x2c21a1++){const _0x4f4636=~~_0x53e457[_0x2c21a1],_0x363c04=~~_0x17a64c[_0x2c21a1];if(_0x4f4636<_0x363c04)return!![];if(_0x4f4636>_0x363c04)return![];}return![];}async function oneTimeMigration(){const _0x57caea=_0x4719a6;let _0x28f140=dbLogs[_0x57caea(0x10c)](_0x57caea(0x1a0))['value']();if(isOlderVersion(_0x28f140,_0x57caea(0x18a))){let _0x54d2e6=[];const _0xa2eab0=dbLogs[_0x57caea(0x10c)]('logs')['value']();_0xa2eab0[_0x57caea(0x88)](_0x54cfe4=>{const _0x2ecbdc=_0x57caea;_0x54d2e6[_0x2ecbdc(0x183)]({'time':_0x54cfe4[_0x2ecbdc(0x145)],'type':_0x54cfe4[_0x2ecbdc(0x1b5)],'event':_0x54cfe4[_0x2ecbdc(0x8d)]});}),dbLogs[_0x57caea(0x10c)](_0x57caea(0x1b2))['assign'](_0x54d2e6)[_0x57caea(0xa6)]();}let _0x1af064=dbConfig[_0x57caea(0x10c)](_0x57caea(0x1a0))['value']();if(isOlderVersion(_0x1af064,_0x57caea(0x18a))){let _0x26705c=dbConfig[_0x57caea(0x10c)](_0x57caea(0x1f0))['find']({'botID':botID})[_0x57caea(0x170)]();if(_0x26705c){let _0x40b828=[];_0x26705c['portfolio'][_0x57caea(0x88)](_0x298c7e=>{const _0x811bdf=_0x57caea;_0x40b828[_0x811bdf(0x183)]({'coin':_0x298c7e[_0x811bdf(0x1c7)],'number':_0x298c7e[_0x811bdf(0x89)],'price':_0x298c7e['startprice']}),delete _0x298c7e['startnumber'],delete _0x298c7e[_0x811bdf(0xf8)];});if(_0x40b828[_0x57caea(0x85)]!==0x0)fs[_0x57caea(0x1ee)](configbackuppath+(_0x57caea(0xcf)+botID+_0x57caea(0x191)),JSON[_0x57caea(0x162)](_0x40b828,null,0x4),function(_0x543cf8){if(_0x543cf8){}});const _0x1b273e=(_0x1f4d8d,_0x186f27)=>{const _0x17f8f0=_0x57caea;let _0x8991c0=[];_0x186f27[_0x17f8f0(0x88)](_0x113d82=>{const _0x2475f4=_0x17f8f0,_0x41aec1=_0x1f4d8d[_0x2475f4(0x179)](_0x197448=>_0x197448[_0x2475f4(0x1c7)]==_0x113d82[_0x2475f4(0x1c7)]);if(!_0x41aec1)_0x8991c0[_0x2475f4(0x183)](_0x113d82);});let _0x5803d8=[];return _0x1f4d8d['forEach'](_0x4421e2=>{const _0x331eb8=_0x17f8f0,_0x49cfb1=_0x186f27[_0x331eb8(0x179)](_0x2cae85=>_0x2cae85[_0x331eb8(0x1c7)]==_0x4421e2[_0x331eb8(0x1c7)]);if(!_0x49cfb1||_0x49cfb1[_0x331eb8(0x1c9)]==0x0&&_0x4421e2[_0x331eb8(0x1c9)]!=0x0)_0x5803d8[_0x331eb8(0x183)](_0x4421e2);}),{'missingDay1':_0x8991c0,'notInDay2':_0x5803d8};},_0x15bf7e=dbPerformance[_0x57caea(0x10c)]('data')[_0x57caea(0x87)]()[_0x57caea(0x170)]();if(_0x15bf7e[_0x57caea(0x85)]>0x1){const {missingDay1:_0x3cc0b1,notInDay2:_0x5bbfae}=_0x1b273e(_0x40b828,_0x15bf7e[0x1][_0x57caea(0xb0)]);_0x40b828=[..._0x40b828,..._0x3cc0b1],_0x5bbfae['forEach'](_0x43c6cc=>{const _0x23f02d=_0x57caea;let _0x18b18e=_0x40b828[_0x23f02d(0x173)](_0x5e2c27=>_0x5e2c27[_0x23f02d(0x1c7)]==_0x43c6cc['coin']);_0x18b18e!=-0x1&&_0x40b828['splice'](_0x18b18e,0x1);});}_0x40b828[_0x57caea(0xb2)]((_0x14ad86,_0x79feea)=>_0x14ad86['coin']>_0x79feea[_0x57caea(0x1c7)]?0x1:_0x79feea[_0x57caea(0x1c7)]>_0x14ad86[_0x57caea(0x1c7)]?-0x1:0x0);let _0x43a653=[{'date':_0x26705c[_0x57caea(0x1c6)],'changes':_0x40b828}];_0x15bf7e['length']>0x2&&_0x15bf7e[_0x57caea(0x88)]((_0x18f37f,_0x13026c)=>{const _0x388f6d=_0x57caea;if(_0x13026c>0x0&&_0x13026c<_0x15bf7e[_0x388f6d(0x85)]-0x1){const {missingDay1:_0xd47301,notInDay2:_0x1306c4}=_0x1b273e(_0x15bf7e[_0x13026c][_0x388f6d(0xb0)],_0x15bf7e[_0x13026c+0x1][_0x388f6d(0xb0)]);_0x40b828=[],(_0xd47301[_0x388f6d(0x85)]!=0x0||_0x1306c4['length']!=0x0)&&(_0xd47301[_0x388f6d(0x85)]!=0x0&&_0x40b828[_0x388f6d(0x183)](..._0xd47301),_0x1306c4[_0x388f6d(0x85)]!=0x0&&(_0x1306c4[_0x388f6d(0x88)](_0x184b03=>{const _0x7262e5=_0x388f6d;_0x184b03[_0x7262e5(0x1c9)]=-_0x184b03['number'];}),_0x40b828['push'](..._0x1306c4)),_0x40b828[_0x388f6d(0xb2)]((_0x29a222,_0x12b191)=>_0x29a222[_0x388f6d(0x1c7)]>_0x12b191[_0x388f6d(0x1c7)]?0x1:_0x12b191['coin']>_0x29a222[_0x388f6d(0x1c7)]?-0x1:0x0),_0x43a653[_0x388f6d(0x183)]({'date':_0x15bf7e[_0x13026c+0x1][_0x388f6d(0xe0)],'changes':_0x40b828}));}}),dbConfig[_0x57caea(0x10c)]('bot')['find']({'botID':botID})['assign']({..._0x26705c,'liquidity':_0x43a653})[_0x57caea(0xa6)]();}}if(isOlderVersion(_0x1af064,'2.6.0')){let _0x89d581=dbConfig[_0x57caea(0x10c)](_0x57caea(0x1f0))['find']({'botID':botID})['value']();if(_0x89d581){const _0x3ea5db=_0x89d581[_0x57caea(0x190)],_0x457903=_0x3ea5db?capitalize(_0x3ea5db):_0x57caea(0x19c);dbConfig[_0x57caea(0x10c)](_0x57caea(0x1f0))[_0x57caea(0x179)]({'botID':botID})[_0x57caea(0x1c3)]({'exchange':_0x457903})[_0x57caea(0xa6)]();}}let _0x23c4f2=dbPerformance[_0x57caea(0x10c)](_0x57caea(0x1a0))[_0x57caea(0x170)]();isOlderVersion(_0x23c4f2,_0x57caea(0x18a))&&setStartDatePerformance();let _0x4db9db=dbCoinResults['get'](_0x57caea(0x1a0))[_0x57caea(0x170)]();if(isOlderVersion(_0x4db9db,_0x57caea(0x1ed))){let _0x24c717=dbCoinResults[_0x57caea(0x10c)]('coins')[_0x57caea(0x170)]();if(_0x24c717[_0x57caea(0x85)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x33e256=_0x4719a6;dbConfig[_0x33e256(0xc0)](_0x33e256(0x1a0),serverversion)[_0x33e256(0xa6)](),dbPerformance[_0x33e256(0xc0)]('version',serverversion)[_0x33e256(0xa6)](),dbLogs[_0x33e256(0xc0)](_0x33e256(0x1a0),serverversion)[_0x33e256(0xa6)](),dbCoinResults['set'](_0x33e256(0x1a0),serverversion)['write']();}function getConfiguration(_0x2188e7){const _0x48772a=_0x4719a6;let _0x7b630e=dbConfig[_0x48772a(0x10c)](_0x48772a(0x1f0))[_0x48772a(0x179)]({'botID':_0x2188e7})[_0x48772a(0x170)]();if(_0x7b630e){let _0x21a1aa=![];typeof _0x7b630e[_0x48772a(0x1dd)]=='string'&&(_0x7b630e={..._0x7b630e,'threshold':Number(_0x7b630e[_0x48772a(0x1dd)])},_0x21a1aa=!![]),_0x7b630e['change24h']==null&&(_0x7b630e={..._0x7b630e,'change24h':-0x14},_0x21a1aa=!![]),!_0x7b630e[_0x48772a(0x1b1)]&&(_0x7b630e={..._0x7b630e,'fiat':_0x48772a(0x18c)},_0x21a1aa=!![]),!_0x7b630e[_0x48772a(0x1ce)]&&(_0x7b630e={..._0x7b630e,'onepagemode':settings[_0x48772a(0x1ce)]},_0x21a1aa=!![]),!_0x7b630e['colorscheme']&&(_0x7b630e={..._0x7b630e,'colorscheme':_0x48772a(0xbf)},_0x21a1aa=!![]),!_0x7b630e[_0x48772a(0xb6)]&&(_0x7b630e={..._0x7b630e,'autoliquidity':!![]},_0x21a1aa=!![]),_0x21a1aa&&(_0x7b630e={'botID':_0x7b630e['botID'],'exchange':_0x7b630e[_0x48772a(0x190)],'apiKey':_0x7b630e[_0x48772a(0x1b6)],'apiSecret':_0x7b630e['apiSecret'],'apiPassword':_0x7b630e[_0x48772a(0xcb)],'basecoin':_0x7b630e[_0x48772a(0x11c)],'botname':_0x7b630e['botname'],'showname':_0x7b630e[_0x48772a(0x1ca)],'threshold':_0x7b630e[_0x48772a(0x1dd)],'ordertype':_0x7b630e[_0x48772a(0xab)],'timeout':_0x7b630e[_0x48772a(0xda)],'fiat':_0x7b630e['fiat'],'startdate':_0x7b630e[_0x48772a(0x1c6)],'recreate':_0x7b630e['recreate'],'timeshift':_0x7b630e[_0x48772a(0x10f)],'onepagemode':_0x7b630e[_0x48772a(0x1ce)],'headless':_0x7b630e[_0x48772a(0x1dc)],'cooldown':_0x7b630e[_0x48772a(0xa3)],'change24h':_0x7b630e['change24h'],'emojibuy':_0x7b630e['emojibuy'],'emojisell':_0x7b630e[_0x48772a(0x17d)],'colorscheme':_0x7b630e[_0x48772a(0xf2)],'portfolio':_0x7b630e[_0x48772a(0x164)],'autoliquidity':_0x7b630e[_0x48772a(0xb6)],'liquidity':_0x7b630e[_0x48772a(0xcc)],'openOrders':_0x7b630e[_0x48772a(0x129)]},dbConfig['get'](_0x48772a(0x1f0))[_0x48772a(0x1df)]()['write'](),dbConfig[_0x48772a(0x10c)](_0x48772a(0x1f0))[_0x48772a(0x183)](_0x7b630e)[_0x48772a(0xa6)]());}else _0x7b630e={'botID':_0x2188e7,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x2188e7,'showname':![],'threshold':0x3,'ordertype':_0x48772a(0x114),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x48772a(0xbf),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x7b630e;}function emittedConfiguration(){const _0x524b18=_0x4719a6;let _0x1aac79;if(config[_0x524b18(0x1b6)]=='')_0x1aac79={...config,'configstate':_0x524b18(0xdc)};else config[_0x524b18(0x1b6)]==_0x524b18(0x78)?_0x1aac79={...config,'configstate':_0x524b18(0x176)}:(_0x1aac79={...config,'apiKey':_0x524b18(0xd0),'apiSecret':_0x524b18(0xd0)},config[_0x524b18(0xcb)]&&(_0x1aac79[_0x524b18(0xcb)]=_0x524b18(0xd0)));return _0x1aac79;}function getSettings(){const _0x1b6116=_0x4719a6;return dbSettings['get']('settings')[_0x1b6116(0x170)]();}function _0x535b(){const _0x49bd8a=['exchange\x20not\x20reloaded','parse','includes','limit-low','Market','Portfolio\x20change\x20detected:\x20','exchange\x20reloaded','symbol','6iWkAPf','get','2351167KuWxhR','concat','timeshift','fetchBalance','freeze','2\x20-\x20FILLED\x20unknown\x20order:\x20','has','market','InsufficientFunds','reverse','unlinkSync','additional\x20symbols\x20','buy','distribution','success','basecoin','\x20portfolio:</b>\x20\x0a\x0a','UNLOCKING','none','side','apply','parseISO',':\x20Bot\x20','restart','fetchClosedOrders','(((.+)+)+)+$','leftTxt','send','openOrders','replace','-config.json','storeFiat','RSA-OAEP','Transaction\x20detection\x20unblocked','8429980WikBfu','argv','loadMarkets','kill','1\x20-\x20FILLED:\x20','lowdb/adapters/FileSync','max','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','\x20API\x20secret\x20is\x20invalid','1\x20-\x20Unlock\x20orders','util','debug','<b>','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','apiSecret','breakeven','\x20|\x20','toUpperCase','filled','10004KLXCFn','BNB/','options','time','highest','customId','\x20value','toLowerCase','InvalidNonce','orderId','Failed\x20to\x20load\x20coin\x20data\x20for\x20','format','progress','status','event-history','\x20metrics:</b>\x20\x0a\x0a','average','hybrid-crypto-js','InvalidOrder','toFixed','placeOrder','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Executed\x20','Saving\x20configuration','18zUHLKP','UNLOCKED','HOT/BTC','8199ZKJXOw','page','Error\x20while\x20deleting\x20files:\x20','2\x20-\x20FILLED\x20known\x20order:\x20','getHours','stringify','mkdirSync','portfolio','getDate','52440PlEXrn','12328oeEplU','limits','%\x20(','splice','canceled','added','sell','padStart','entries','value','balancing\x20resumed','AuthenticationError','findIndex','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20not\x20responding','recovery','random','EUR','find','-------------------------------\x0a','DAI/','getPortfolio','emojisell','realized','recent20','eur','offset','storeHeadless','push','/backup/','message','privateKey','placeOrder()','botname','Cooldown\x20ended\x20-\x20balancing\x20resumed','2.3.5','orderstatus','USD','Fee\x20discount\x20refund\x20detected:\x20','watchTrades','log','exchange','.json','last','ExchangeNotAvailable','cancelOrder','order','ask','valid','OrderNotFound','keys','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','path','Binance','limit','data','ID:\x20','version','\x20not\x20available','\x20minutes\x20-\x20','Fees\x20|\x20currency:\x20','Net\x20','filter','indexOf','fee','cancel','existsSync','emojibuy','net-fiat','recreateCoinResults()','getStartingBalances','configuration','Avoiding\x20continuous\x20order\x20attempts','balances','fiat','logs','NANO/',',\x20must\x20be\x20a\x203\x20digit\x20number','type','apiKey','\x20>\x20[DEBUG]\x20','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','Order\x20is\x20invalid:\x20','bots','balancing\x20resumes\x20when\x20cooldown\x20ends','Reset\x20|\x20','USDC','datetime','Uncaught\x20Exception:','XEM/BUSD','limit-high','assign','./logs/','Error:\x20Invalid\x20argument\x20','startdate','coin','Order(s)\x20not\x20validated\x20after\x20','number','showname','isEqual','slice','error','onepagemode','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','<b>Bot\x20','1\x20-\x20Handle\x20open\x20orders','fetchTicker','MIN_NOTIONAL','toggleBotMode','149216INZZRe','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20:\x20','sortBy','round','API-key\x20format\x20invalid','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','headless','threshold','Resetting\x20coin\x20results:\x20','remove','closed','Limit\x20(low-margin)','toString','sha256','\x20has\x20a\x2024h\x20drop\x20of\x20','-events.json','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','add','spot','showConfig','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','./version.json','2.5.0','writeFile','./config/','bot','fromCodePoint','open','getFullYear','Executing\x20exchange\x20reload','Waited\x20','test','/USD','305cKdPaE','Initiating\x20exchange\x20reload','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','price','constructor','buys','getPortfolio(2)','no\x20open\x20orders','***','Resetting\x20bot\x20history','currency','configuration-stored','changes','Initializing\x20coin\x20results','Order\x20amount\x20is\x20invalid:\x20','getCoins()','timestamp','getTime','excluded','symbols','2\x20-\x20Orders\x20unlocked','length','running','cloneDeep','forEach','startnumber','amount','yargs/yargs','performance','event','watchOrders','lowdb','Unfilled\x20order(s)\x20canceled\x20after\x20','starting-balances','ORDERS.UNLOCKING','fetchOpenOrders','change24h','LOCKED','fetchTickers','Invalid\x20quantity','date-fns','3472938pTdoeD','getPortfolio(1)','Unknown\x20error\x20occured','sells','\x20exchange','min','yyyy/MM/dd','YOYOW/','\x20order:\x20','BNB','cooldown','getMonth','cost','write','<pre>','BTC','USDT','rightTxt','ordertype','\x20orders\x20in\x20less\x20than\x20','usd','createOrder','TUSD','coins','ORDERS.LOCKED','sort','decrypt','</pre>','getSeconds','autoliquidity','Exchange','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','floor','RequestTimeout','final','remainingSymbols','amountToPrecision','-performance.json','red_yellow_blue','set','bid','removed','Pausing\x20for\x20','exchanges','emitHistory','search','Bybit','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','args','split','apiPassword','liquidity','getPortfolio(0)','bot-','starting-balance-','************','ticker',':\x20timer\x20>','substring','fees','change','watchTransactions','milliseconds','trade','pro','timeout','sendMetricsTelegram','initial','shift','\x20>\x20','No\x20more\x20open\x20orders\x20-\x20','date','exec','warning','join','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','-results.json','Crypt','BUSD','getCoinNumber()','net-basecoin','target','startsWith','defaults','ETH','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','getMinutes','map','colorscheme','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','abs','1\x20-\x20Validate\x20orders:\x20','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','startprice','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','secure','2\x20-\x20Validate\x20orders:\x20','full','0\x20-\x20EXECUTION:\x20','5819UaRGqF','loading-canceled','enabled','ongoing','delta'];_0x535b=function(){return _0x49bd8a;};return _0x535b();}function getSecure(){const _0x4c50a8=_0x4719a6;return dbSecure[_0x4c50a8(0x10c)](_0x4c50a8(0xfa))[_0x4c50a8(0x170)]()||{};}function updateTimeshift(_0x28da99){const _0x238230=_0x4719a6;let _0xe56ad4=dbConfig[_0x238230(0x10c)]('bot')[_0x238230(0x179)]({'botID':botID})[_0x238230(0x170)]();_0xe56ad4&&dbConfig['get'](_0x238230(0x1f0))[_0x238230(0x179)]({'botID':botID})['assign']({'timeshift':_0x28da99})[_0x238230(0xa6)](),config['timeshift']=_0x28da99,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x47530e){const _0x5a59ee=_0x4719a6;let _0x4a19ea=dbConfig[_0x5a59ee(0x10c)]('bot')[_0x5a59ee(0x179)]({'botID':botID})[_0x5a59ee(0x170)]();_0x4a19ea&&dbConfig['get'](_0x5a59ee(0x1f0))['find']({'botID':botID})[_0x5a59ee(0x1c3)]({'onepagemode':_0x47530e})['write'](),config[_0x5a59ee(0x1ce)]=_0x47530e,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x5d2b98){const _0x729d83=_0x4719a6;logger[_0x729d83(0x13a)](_0x729d83(0x159));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x729d83(0x13a)]('Transaction\x20detection\x20blocked');let _0x178977=[],_0x3c5c5d=![],_0x32ef4e=![],_0x3e6da4=[];_0x5d2b98[_0x729d83(0x164)][_0x729d83(0x88)](_0x3f4a38=>{const _0x2a0db9=_0x729d83;if(!_0x3f4a38[_0x2a0db9(0x82)]&&_0x3f4a38[_0x2a0db9(0x1c7)]!=_0x5d2b98[_0x2a0db9(0x11c)])_0x3e6da4[_0x2a0db9(0x183)](_0x3f4a38[_0x2a0db9(0x10a)]);}),_0x3e6da4[_0x729d83(0x88)](_0x599413=>{const _0x11b6b6=_0x729d83,_0x4f10b2=watchedSymbols[_0x11b6b6(0x105)](_0x599413);!_0x4f10b2&&_0x178977['push'](_0x599413);}),_0x3e6da4[_0x729d83(0x88)](_0x18b993=>{const _0x8a5273=_0x729d83,_0x8f5f7b=currentCoins[_0x8a5273(0x179)](_0x5d46b3=>_0x5d46b3[_0x8a5273(0x10a)]==_0x18b993);!_0x8f5f7b&&(_0x3c5c5d=!![]);}),currentCoins[_0x729d83(0x88)](_0x174bd5=>{const _0x3c9a86=_0x729d83;if(_0x174bd5[_0x3c9a86(0x1c7)]!=config[_0x3c9a86(0x11c)]){const _0x2f4a45=_0x3e6da4[_0x3c9a86(0x179)](_0x39f443=>_0x39f443==_0x174bd5[_0x3c9a86(0x10a)]);!_0x2f4a45&&(_0x3c5c5d=!![]);}}),_0x5d2b98[_0x729d83(0x164)]['forEach'](_0x165e10=>{const _0x4bbd47=_0x729d83,_0x1e9707=config[_0x4bbd47(0x164)]['find'](_0x56e11d=>_0x56e11d[_0x4bbd47(0x1c7)]==_0x165e10['coin']);if(_0x1e9707&&_0x165e10['offset']!=_0x1e9707['offset'])_0x32ef4e=!![];});let _0x49c082=dbConfig[_0x729d83(0x10c)](_0x729d83(0x1f0))['find']({'botID':botID})[_0x729d83(0x170)]();_0x5d2b98={..._0x5d2b98,'apiKey':crypt[_0x729d83(0xb3)](secure[_0x729d83(0x186)],_0x5d2b98[_0x729d83(0x1b6)])[_0x729d83(0x185)],'apiSecret':crypt[_0x729d83(0xb3)](secure[_0x729d83(0x186)],_0x5d2b98[_0x729d83(0x13d)])['message']};_0x5d2b98[_0x729d83(0xcb)]&&(_0x5d2b98['apiPassword']=crypt[_0x729d83(0xb3)](secure[_0x729d83(0x186)],_0x5d2b98[_0x729d83(0xcb)])['message']);let _0x52780f=![];if(_0x49c082){_0x5d2b98['apiKey']=='************'?_0x5d2b98[_0x729d83(0x1b6)]=config[_0x729d83(0x1b6)]:_0x52780f=!![];_0x5d2b98[_0x729d83(0x13d)]==_0x729d83(0xd0)?_0x5d2b98['apiSecret']=config[_0x729d83(0x13d)]:_0x52780f=!![];if(_0x5d2b98[_0x729d83(0xcb)]==_0x729d83(0xd0))_0x5d2b98[_0x729d83(0xcb)]=config[_0x729d83(0xcb)];else{if(_0x5d2b98[_0x729d83(0xcb)])_0x52780f=!![];}dbConfig[_0x729d83(0x10c)]('bot')[_0x729d83(0x179)]({'botID':botID})['assign'](_0x5d2b98)[_0x729d83(0xa6)]();}else dbConfig['get'](_0x729d83(0x1f0))[_0x729d83(0x183)](_0x5d2b98)['write'](),_0x52780f=!![],process[_0x729d83(0x128)]({'status':_0x729d83(0x100),'live':_0x729d83(0x86)},_0x455e04=>{});process[_0x729d83(0x128)]({'botname':_0x5d2b98[_0x729d83(0x188)]},_0x1f7103=>{}),updateBotManager(),config={..._0x5d2b98},proxyEmit(_0x729d83(0x7b)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x52780f)await reset(_0x178977,!![]);else _0x3c5c5d||_0x32ef4e?await reset(_0x178977,![]):getBalances();blockTransactionDetection=![],logger['debug'](_0x729d83(0x12e));}async function storeHeadless(_0x15d5dc){const _0x4a27c0=_0x4719a6,_0x176cab={...config,'headless':_0x15d5dc['headless']};let _0x1cb28b=dbConfig[_0x4a27c0(0x10c)](_0x4a27c0(0x1f0))[_0x4a27c0(0x179)]({'botID':botID})[_0x4a27c0(0x170)]();_0x1cb28b&&dbConfig['get'](_0x4a27c0(0x1f0))['find']({'botID':botID})[_0x4a27c0(0x1c3)](_0x176cab)['write'](),config={..._0x176cab},updateBotManager(),proxyEmit(_0x4a27c0(0x1ae),emittedConfiguration());}async function storeFiat(_0x4608e5){const _0x4f62d9=_0x4719a6,_0xccdd06={...config,'fiat':_0x4608e5};let _0x3e0947=dbConfig[_0x4f62d9(0x10c)](_0x4f62d9(0x1f0))['find']({'botID':botID})[_0x4f62d9(0x170)]();_0x3e0947&&dbConfig[_0x4f62d9(0x10c)](_0x4f62d9(0x1f0))[_0x4f62d9(0x179)]({'botID':botID})[_0x4f62d9(0x1c3)](_0xccdd06)['write'](),config={..._0xccdd06},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x5aaf64=_0x4719a6;logger[_0x5aaf64(0xfc)](_0x5aaf64(0x79));try{if(fs[_0x5aaf64(0x1a9)](path['join'](configpath,_0x5aaf64(0xce)+botID+_0x5aaf64(0x1e5))))fs[_0x5aaf64(0x117)](path[_0x5aaf64(0xe3)](configpath,_0x5aaf64(0xce)+botID+_0x5aaf64(0x1e5)));if(fs[_0x5aaf64(0x1a9)](path[_0x5aaf64(0xe3)](configpath,_0x5aaf64(0xce)+botID+_0x5aaf64(0xbe))))fs[_0x5aaf64(0x117)](path[_0x5aaf64(0xe3)](configpath,_0x5aaf64(0xce)+botID+'-performance.json'));if(fs[_0x5aaf64(0x1a9)](path[_0x5aaf64(0xe3)](configpath,_0x5aaf64(0xce)+botID+_0x5aaf64(0xe6))))fs[_0x5aaf64(0x117)](path[_0x5aaf64(0xe3)](configpath,_0x5aaf64(0xce)+botID+_0x5aaf64(0xe6)));}catch(_0x246c6f){if(_0x246c6f)logger['full'](_0x5aaf64(0x15f),_0x246c6f);}const _0x3a1029=getDate();let _0x2d2e06=[];currentCoins[_0x5aaf64(0x88)](_0x1e14a2=>{const _0x4d10f6=_0x5aaf64;_0x2d2e06[_0x4d10f6(0x183)]({'coin':_0x1e14a2[_0x4d10f6(0x1c7)],'number':_0x1e14a2[_0x4d10f6(0x1c9)],'price':_0x1e14a2[_0x4d10f6(0x192)]});});let _0x35c7e3=dbConfig['get'](_0x5aaf64(0x1f0))[_0x5aaf64(0x179)]({'botID':botID})['value']();_0x35c7e3&&(dbConfig['get'](_0x5aaf64(0x1f0))[_0x5aaf64(0x179)]({'botID':botID})['assign']({'liquidity':[{'date':_0x3a1029,'changes':_0x2d2e06}]})[_0x5aaf64(0xa6)](),config['liquidity']=[]),process[_0x5aaf64(0x128)]({'stop':_0x5aaf64(0x124)},_0x58a9e4=>{});}function noslash(_0x4ba8ea){return _0x4ba8ea['replace']('/','');}function updateHighestFee(_0x5eda25,_0xc0ad19){const _0x3bd2e2=_0x4719a6;lastFees['currency']=_0x5eda25,lastFees[_0x3bd2e2(0x17f)][_0x3bd2e2(0x85)]===0x14&&lastFees['recent20']['shift'](),lastFees[_0x3bd2e2(0x17f)][_0x3bd2e2(0x183)](_0xc0ad19),lastFees[_0x3bd2e2(0x146)]=Math['max'](...lastFees[_0x3bd2e2(0x17f)]);}async function updateNumberCoinsCcxt(_0x23522d){const _0x13970d=_0x4719a6;logger['debug'](_0x13970d(0xfd)+_0x23522d['symbol']+_0x13970d(0x13f)+_0x23522d[_0x13970d(0x14f)]+_0x13970d(0x13f)+_0x23522d['id']);let _0x421b93=_0x23522d[_0x13970d(0x14f)],_0x514af8=![];currentCoins['forEach'](_0x3e8cae=>{const _0x8aef31=_0x13970d;_0x3e8cae['symbol']==_0x23522d[_0x8aef31(0x10a)]&&(_0x514af8=!![]);});if(!_0x514af8)return;const _0x5e3f6c=currentCoins[_0x13970d(0x179)](_0x15833f=>_0x15833f[_0x13970d(0x10a)]==_0x23522d[_0x13970d(0x10a)]),_0x5b601f=_0x52555a=>{const _0x24ea2c=_0x13970d;if(_0x5e3f6c)_0x5e3f6c[_0x24ea2c(0x18b)]=_0x52555a;};if(_0x421b93==_0x13970d(0x6a))_0x5b601f(_0x13970d(0x6a));else{if(_0x421b93==_0x13970d(0x16b)){_0x5b601f(_0x13970d(0x16b));const _0x15df40=await getCoins();[currentCoins,currentCoinsAll]=_0x15df40,await getOpenOrders(),handleOpenOrders();}else{if(_0x421b93==_0x13970d(0x1e0)){logger[_0x13970d(0x13a)](_0x13970d(0x133)+_0x23522d['symbol']+_0x13970d(0x13f)+_0x23522d[_0x13970d(0x141)]+_0x13970d(0x13f)+_0x23522d['id']);let _0x5ebf8d=![];if(lastOrders)for(const _0x4136f8 of lastOrders){const _0xba161e=0xc8,_0x53c4cb=0x1388;let _0x51eb35=0x0;while(!_0x4136f8[_0x13970d(0x14b)]&&_0x51eb35*_0xba161e<_0x53c4cb){_0x51eb35++,await sleep(_0xba161e);}if(_0x51eb35>0x0)logger['debug'](_0x13970d(0x6d)+_0x51eb35*_0xba161e/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x4136f8['orderId']==_0x23522d['id']){logger[_0x13970d(0x13a)](_0x13970d(0x160)+_0x23522d['id']),_0x5ebf8d=!![];if(_0x4136f8['filled']==0x0){logger[_0x13970d(0x13a)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x23522d['id']);if(_0x23522d[_0x13970d(0x152)])_0x4136f8[_0x13970d(0x73)]=_0x23522d[_0x13970d(0x152)];else{if(_0x23522d[_0x13970d(0x73)])_0x4136f8['price']=_0x23522d['price'];else{}}_0x4136f8['filled']=_0x23522d[_0x13970d(0x141)],_0x4136f8[_0x13970d(0x1a7)]={'currency':_0x23522d[_0x13970d(0x1a7)]?_0x23522d[_0x13970d(0x1a7)]['currency']:null,'cost':_0x23522d[_0x13970d(0x1a7)]?_0x23522d[_0x13970d(0x1a7)][_0x13970d(0xa5)]:0x0},updateHighestFee(_0x4136f8[_0x13970d(0x1a7)]['currency'],_0x4136f8[_0x13970d(0x1a7)]['cost']),_0x5b601f('filled'),await validateOrders();if(lockOrders==ORDERS[_0x13970d(0x95)]){const _0xccbcf2=await getCoins();[currentCoins,currentCoinsAll]=_0xccbcf2;}await updateCoinResults(_0x4136f8);}}}if(!_0x5ebf8d){logger[_0x13970d(0x13a)](_0x13970d(0x112)+_0x23522d['id']),_0x5b601f(_0x13970d(0x141));const _0xbe8263=await getCoins();[currentCoins,currentCoinsAll]=_0xbe8263,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1f6d25=JSON['parse'](lastBalances[_0x13970d(0x164)]);const _0x3fe66e=_0x1f6d25[_0x13970d(0x179)](_0x4b30ab=>_0x4b30ab[_0x13970d(0x10a)]==_0x23522d[_0x13970d(0x10a)]);if(_0x3fe66e){if(_0x421b93==_0x13970d(0x6a))_0x3fe66e['orderstatus']=_0x3fe66e[_0x13970d(0x18b)]==_0x13970d(0x141)?_0x13970d(0x141):'open';else{if(_0x421b93==_0x13970d(0x16b))_0x3fe66e[_0x13970d(0x18b)]=_0x3fe66e['orderstatus']==_0x13970d(0x141)?_0x13970d(0x141):'canceled';else _0x421b93==_0x13970d(0x1e0)&&(_0x3fe66e['orderstatus']=_0x13970d(0x141));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x1f6d25)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x335b06=_0x4719a6;await getOpenOrders();let _0x2070ae=![];currentCoins[_0x335b06(0x88)](_0x3df9e1=>{const _0x3a054e=_0x335b06;_0x2070ae=allOpenOrders[_0x3a054e(0x179)](_0x5d8532=>_0x5d8532[_0x3a054e(0x10a)]==_0x3df9e1[_0x3a054e(0x10a)]),_0x3df9e1[_0x3a054e(0x18b)]=_0x2070ae?'open':_0x3a054e(0x11f);});}async function getCoins(_0x520d4e=!![],_0x1e3067=config[_0x4719a6(0x11c)]){const _0x589234=_0x4719a6;let _0x416230,_0x550512=[],_0xbfb7c9=[],_0x5c55e8=[],_0x1deeed=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x416230=await exchange[_0x589234(0x110)](),mybalances=_0x416230['total'];for(const [_0x449743,_0x72d14c]of Object['entries'](mybalances)){_0x1deeed[_0x589234(0x183)](_0x449743);}if(_0x1e3067=='')for(const [_0x45daff,_0x3fcb01]of Object['entries'](mybalances)){_0x3fcb01!=0x0&&_0xbfb7c9[_0x589234(0x183)]({'coin':_0x45daff});}else{let _0xc6b5d8=![];for(const [_0x4a9b82,_0x2282e2]of Object[_0x589234(0x16f)](mybalances)){if(_0x1deeed[_0x589234(0x105)](_0x4a9b82)){const _0x343293=config['portfolio'][_0x589234(0x179)](_0x5da6a2=>_0x5da6a2[_0x589234(0x1c7)]==_0x4a9b82),_0x260824=_0x4a9b82+'/'+_0x1e3067,_0x1f9ad7=_0x1e3067+'/'+_0x4a9b82,_0x1a3a24=currentCoins[_0x589234(0x179)](_0x1cf62f=>_0x1cf62f['coin']==_0x4a9b82);_0xc6b5d8=![];if((_0x2282e2!=0x0||_0x343293)&&(allSymbols[_0x589234(0x105)](_0x260824)||_0x4a9b82==_0x1e3067))_0x4a9b82!=_0x1e3067&&_0x550512[_0x589234(0x183)](_0x260824),_0xbfb7c9['push']({'coin':_0x4a9b82,'symbol':_0x260824,'reverse':![],'number':Math[_0x589234(0x135)](_0x2282e2+(_0x343293&&_0x343293['offset']||0x0),0x0),'orderstatus':_0x1a3a24?_0x1a3a24[_0x589234(0x18b)]:_0x589234(0x11f)});else(_0x2282e2!=0x0||_0x343293)&&allSymbols[_0x589234(0x105)](_0x1f9ad7)&&(_0x4a9b82!=_0x1e3067&&_0x550512[_0x589234(0x183)](_0x1f9ad7),_0xbfb7c9[_0x589234(0x183)]({'coin':_0x4a9b82,'symbol':_0x1f9ad7,'reverse':!![],'number':Math[_0x589234(0x135)](_0x2282e2+(_0x343293&&_0x343293[_0x589234(0x181)]||0x0),0x0),'orderstatus':_0x1a3a24?_0x1a3a24[_0x589234(0x18b)]:_0x589234(0x11f)}));}}}}catch(_0x35b9e6){if(!_0x520d4e)handleErrorNoStop(_0x35b9e6,_0x589234(0x7f));else await handleError(_0x35b9e6,_0x589234(0x7f));}return _0x5c55e8=cloneDeep(_0xbfb7c9),_0xbfb7c9=_0xbfb7c9['filter'](_0xf43c6c=>{const _0x3eb6ef=_0x589234,_0xf0df78=config[_0x3eb6ef(0x164)][_0x3eb6ef(0x179)](_0xa523a8=>_0xa523a8[_0x3eb6ef(0x1c7)]==_0xf43c6c[_0x3eb6ef(0x1c7)]);return _0xf0df78&&!_0xf0df78[_0x3eb6ef(0x82)];}),[_0xbfb7c9,_0x5c55e8];}async function getCoinNumber(_0x3a3fc5){const _0x145c4f=_0x4719a6;let _0x46c950;try{const _0x415621=await exchange['fetchBalance']();_0x46c950=_0x415621['total'][_0x3a3fc5];}catch(_0x3d5865){await handleError(_0x3d5865,_0x145c4f(0xe9));}return _0x46c950;}async function getOpenOrders(){const _0x10a6d4=_0x4719a6;let _0x59a671;allOpenOrders=[];try{for(const _0x43ff03 of config['portfolio']){!_0x43ff03['excluded']&&_0x43ff03['coin']!=config[_0x10a6d4(0x11c)]&&(_0x59a671=await exchange[_0x10a6d4(0x93)](_0x43ff03[_0x10a6d4(0x10a)]),_0x59a671['length']>0x0&&allOpenOrders[_0x10a6d4(0x183)](_0x59a671[0x0]));}}catch(_0x5daed5){await handleError(_0x5daed5,'getOpenOrders()');}}async function handleOpenOrders(_0xd5501=0x0){const _0x3358f2=_0x4719a6;allOpenOrders[_0x3358f2(0x85)]==0x0&&lockOrders==ORDERS[_0x3358f2(0x95)]&&allOrdersPlaced&&(_0xd5501==0x0?(logger['debug'](_0x3358f2(0x1d1)),_0xd5501++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3358f2(0x13a)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x3358f2(0x77))));}async function testAPI(_0x183a83){const _0x31ba42=_0x4719a6,_0x2e71be=ccxt[_0x183a83[_0x31ba42(0x190)]['toLowerCase']()],_0x5dcfaa=new _0x2e71be({'apiKey':_0x183a83[_0x31ba42(0x1b6)],'secret':_0x183a83[_0x31ba42(0x13d)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});_0x183a83[_0x31ba42(0x190)]=='Bybit'&&(_0x5dcfaa[_0x31ba42(0x144)]={'defaultType':'spot'});if(_0x183a83[_0x31ba42(0xcb)])_0x5dcfaa['password']=_0x183a83[_0x31ba42(0xcb)];try{await _0x5dcfaa[_0x31ba42(0x131)]();}catch(_0x5d91cd){throw _0x5d91cd;}}function cloneDeep(_0x2ab0b3){const _0x1414c8=_0x4719a6;return JSON['parse'](JSON[_0x1414c8(0x162)](_0x2ab0b3));}async function getPortfolio(_0x3b5281){const _0x284cd6=_0x4719a6;let _0x1deaa9=[],_0x4e2d38=[],_0x3fd4f0=[],_0x2025b0;if(_0x3b5281[_0x284cd6(0x1b6)]!==_0x284cd6(0xd0)||_0x3b5281[_0x284cd6(0x13d)]!==_0x284cd6(0xd0)||_0x3b5281[_0x284cd6(0xcb)]&&_0x3b5281['apiPassword']!==_0x284cd6(0xd0)){if(config[_0x284cd6(0x190)]){if(_0x3b5281['apiKey']==_0x284cd6(0xd0))_0x3b5281[_0x284cd6(0x1b6)]=config['apiKey'];if(_0x3b5281['apiSecret']==_0x284cd6(0xd0))_0x3b5281[_0x284cd6(0x13d)]=config[_0x284cd6(0x13d)];if(_0x3b5281[_0x284cd6(0xcb)]==_0x284cd6(0xd0))_0x3b5281[_0x284cd6(0xcb)]=config[_0x284cd6(0xcb)];try{await testAPI(_0x3b5281);}catch(_0x327b09){if(_0x327b09[_0x284cd6(0x1e2)]()[_0x284cd6(0x105)](_0x284cd6(0x172))){logger['debug']('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x284cd6(0x164),![]);return;}else{handleError(_0x327b09,_0x284cd6(0xcd));return;}}}await initExchange(_0x3b5281[_0x284cd6(0x190)],_0x3b5281['apiKey'],_0x3b5281[_0x284cd6(0x13d)],_0x3b5281[_0x284cd6(0xcb)]);try{await loadSymbols(_0x3b5281[_0x284cd6(0x190)],!![]);}catch(_0x5f33fc){if(_0x5f33fc['toString']()[_0x284cd6(0x105)](_0x284cd6(0x172))){proxyEmit(_0x284cd6(0x164),![]);return;}else{handleError(_0x5f33fc,_0x284cd6(0x9a));return;}}const _0x38790f=await getCoins(![],_0x3b5281['basecoin']);_0x3fd4f0=cloneDeep(_0x38790f[0x1]);}else _0x3fd4f0=cloneDeep(currentCoinsAll);if(_0x3b5281[_0x284cd6(0x11c)]=='')proxyEmit('portfolio',_0x3fd4f0);else{_0x3fd4f0['forEach'](_0x110f88=>{const _0x2ddf3c=_0x284cd6;if(_0x110f88[_0x2ddf3c(0x1c7)]!=_0x3b5281['basecoin'])_0x1deaa9[_0x2ddf3c(0x183)](_0x110f88[_0x2ddf3c(0x10a)]);});try{_0x4e2d38=await exchange[_0x284cd6(0x96)](_0x1deaa9);}catch(_0x28e18b){if(_0x28e18b['toString']()[_0x284cd6(0x105)](_0x284cd6(0x172))){proxyEmit(_0x284cd6(0x164),![]);return;}else{handleError(_0x28e18b,_0x284cd6(0x76));return;}}_0x3fd4f0['forEach'](_0x434032=>{const _0x31843a=_0x284cd6;_0x434032['coin']!=_0x3b5281['basecoin']?_0x2025b0=_0x434032[_0x31843a(0x116)]?0x1/_0x4e2d38[_0x434032['symbol']]['last']:_0x4e2d38[_0x434032[_0x31843a(0x10a)]][_0x31843a(0x192)]:_0x2025b0=0x1,_0x434032[_0x31843a(0x73)]=formatResult(_0x2025b0,0x8);}),proxyEmit(_0x284cd6(0x164),_0x3fd4f0);}}function truncateTradeAmount(_0x1e7985,_0x33e24a){const _0x43e4b1=_0x4719a6;let _0x2d29fd=0x0;try{_0x2d29fd=exchange[_0x43e4b1(0xbd)](_0x1e7985,_0x33e24a);}catch(_0x4abc49){}return _0x2d29fd;}function checkMinimums(_0x1fb2c8){const _0x1fccc5=_0x4719a6;let _0x13cdfc=!![];const _0xdfb9a=!_0x1fb2c8[_0x1fccc5(0x116)]?markets[_0x1fb2c8[_0x1fccc5(0x10a)]]['limits']['amount'][_0x1fccc5(0x9e)]:markets[_0x1fb2c8['symbol']][_0x1fccc5(0x168)][_0x1fccc5(0xa5)][_0x1fccc5(0x9e)],_0x12ad60=!_0x1fb2c8['reverse']?markets[_0x1fb2c8[_0x1fccc5(0x10a)]][_0x1fccc5(0x168)][_0x1fccc5(0xa5)]['min']:markets[_0x1fb2c8[_0x1fccc5(0x10a)]][_0x1fccc5(0x168)][_0x1fccc5(0x8a)][_0x1fccc5(0x9e)],_0x2f81c0=truncateTradeAmount(_0x1fb2c8[_0x1fccc5(0x10a)],_0x1fb2c8[_0x1fccc5(0xd8)]);_0x1fb2c8['trade']=_0x2f81c0;if(Math[_0x1fccc5(0xf4)](_0x2f81c0)<_0xdfb9a)_0x13cdfc=![];if(Math[_0x1fccc5(0xf4)](_0x2f81c0)*_0x1fb2c8[_0x1fccc5(0x192)]<_0x12ad60)_0x13cdfc=![];if(_0x1fb2c8['side']==_0x1fccc5(0x16d)){let _0x530db8=config[_0x1fccc5(0x164)][_0x1fccc5(0x179)](_0x609658=>_0x609658[_0x1fccc5(0x1c7)]==_0x1fb2c8['coin']);if(_0x530db8[_0x1fccc5(0x181)]>0x0){if(Math[_0x1fccc5(0xf4)](_0x2f81c0)>_0x1fb2c8[_0x1fccc5(0x1c9)]-_0x530db8['offset'])_0x13cdfc=![];}else{if(Math[_0x1fccc5(0xf4)](_0x2f81c0)>_0x1fb2c8[_0x1fccc5(0x1c9)])_0x13cdfc=![];}}if(_0x1fb2c8[_0x1fccc5(0x120)]==_0x1fccc5(0x119)){let _0x3a305a=config[_0x1fccc5(0x164)][_0x1fccc5(0x179)](_0x2273c8=>_0x2273c8[_0x1fccc5(0x1c7)]==config[_0x1fccc5(0x11c)]),_0x300c92=currentCoins['find'](_0x5186ee=>_0x5186ee[_0x1fccc5(0x1c7)]==config[_0x1fccc5(0x11c)]);if(_0x3a305a['offset']>0x0){if(Math[_0x1fccc5(0xf4)](_0x2f81c0)*_0x1fb2c8[_0x1fccc5(0x192)]>_0x300c92[_0x1fccc5(0x1c9)]-_0x3a305a[_0x1fccc5(0x181)])_0x13cdfc=![];}else{if(Math[_0x1fccc5(0xf4)](_0x2f81c0)*_0x1fb2c8[_0x1fccc5(0x192)]>_0x300c92[_0x1fccc5(0x1c9)])_0x13cdfc=![];}}return _0x13cdfc;}async function getBalances(_0x1f4890=!![]){const _0x316153=_0x4719a6;let _0xcfd328=0x0,_0x3700e0;const _0xba4498=config['threshold'];if(config['headless']&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x316153(0x88)](_0x3276fe=>{const _0x1a9faa=_0x316153;if(_0x3276fe[_0x1a9faa(0x1c7)]!=config[_0x1a9faa(0x11c)]){let _0x3c3221=global[_0x1a9faa(0xd1)][noslash(_0x3276fe['symbol'])];_0x3700e0=_0x3276fe['reverse']?0x1/_0x3c3221:_0x3c3221;}else _0x3700e0=0x1;let _0x220f11=_0x3276fe[_0x1a9faa(0x1c9)]*_0x3700e0;_0xcfd328+=_0x220f11,_0x3276fe[_0x1a9faa(0x192)]=formatResult(Number(_0x3700e0),0x8),_0x3276fe[_0x1a9faa(0x170)]=_0x220f11;}),currentCoins[_0x316153(0x88)](_0x167ec8=>{const _0x4c2090=_0x316153;let _0x229dca=config[_0x4c2090(0x164)][_0x4c2090(0x179)](_0x1b31f2=>_0x1b31f2['coin']==_0x167ec8['coin']),_0x3ec19c=Number(_0x229dca[_0x4c2090(0x11a)]),_0x439dd8=_0x167ec8[_0x4c2090(0x170)]/_0xcfd328*0x64,_0x2a8a1e=_0x3ec19c*_0xcfd328/0x64/_0x167ec8['last']-_0x167ec8[_0x4c2090(0x1c9)];_0x167ec8[_0x4c2090(0x11a)]=formatResult(_0x439dd8,0x3),_0x167ec8[_0x4c2090(0xeb)]=formatResult(_0x3ec19c,0x3),_0x167ec8[_0x4c2090(0xd8)]=formatResult(_0x2a8a1e,0x8),_0x167ec8[_0x4c2090(0x120)]='',_0x167ec8[_0x4c2090(0x197)]=![];if(_0x167ec8[_0x4c2090(0x1c7)]!=config['basecoin']){if(_0x167ec8[_0x4c2090(0x11a)]>_0x3ec19c)_0x167ec8[_0x4c2090(0x120)]=_0x4c2090(0x16d),_0x167ec8[_0x4c2090(0x197)]=checkMinimums(_0x167ec8);else _0x167ec8[_0x4c2090(0x11a)]<_0x3ec19c&&(_0x167ec8[_0x4c2090(0x120)]=_0x4c2090(0x119),_0x167ec8[_0x4c2090(0x197)]=checkMinimums(_0x167ec8));}_0x167ec8[_0x4c2090(0x102)]=_0x167ec8[_0x4c2090(0x11a)]/_0x167ec8[_0x4c2090(0xeb)]-0x1;if(_0x167ec8[_0x4c2090(0x18b)]==_0x4c2090(0x141)||_0x167ec8['orderstatus']==_0x4c2090(0x16b))_0x167ec8[_0x4c2090(0x18b)]=_0x4c2090(0x11f);}),currentCoins[_0x316153(0xb2)]((_0x873200,_0x4dcf8a)=>_0x873200[_0x316153(0x102)]<_0x4dcf8a[_0x316153(0x102)]?0x1:_0x4dcf8a['delta']<_0x873200['delta']?-0x1:0x0);const _0x3c1f5d=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3c1f5d[_0x316153(0x180)],'usd':_0x3c1f5d['usd'],'portfolio':JSON[_0x316153(0x162)](currentCoins),'threshold':_0xba4498},proxyEmit(_0x316153(0x1b0),{'serverversion':serverversion,'balances':lastBalances});if(_0x1f4890){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0xba4498});else{if(lockOrders==ORDERS[_0x316153(0x15b)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0xba4498});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x2993d5=getNormalizedPerformance();getStartingBalances(_0x2993d5),emitPerformance(_0x2993d5);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x5e5926=getNormalizedPerformance();emitPerformance(_0x5e5926),getStartingBalances(_0x5e5926),logger[_0x316153(0x13a)](_0x316153(0x13c));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x362386=_0x4719a6;if(!lastBalances)return;let _0x5d55cd=[],_0x276f26,_0x3783c2=JSON[_0x362386(0x104)](lastBalances['portfolio']);_0x3783c2[_0x362386(0xb2)]((_0x2ab1a1,_0x5cdeeb)=>_0x2ab1a1[_0x362386(0x1c7)]>_0x5cdeeb[_0x362386(0x1c7)]?0x1:_0x5cdeeb['coin']>_0x2ab1a1[_0x362386(0x1c7)]?-0x1:0x0),_0x3783c2['forEach'](_0x5de8c7=>{const _0x387287=_0x362386;let _0x19f264={'coin':_0x5de8c7[_0x387287(0x1c7)],'number':_0x5de8c7[_0x387287(0x1c9)],'price':_0x5de8c7[_0x387287(0x192)]};_0x5d55cd[_0x387287(0x183)](_0x19f264);});const _0x542ec1=await getFiat();_0x276f26={'date':lastBalances[_0x362386(0x145)][_0x362386(0xca)]('\x20')[0x0],'eur':_0x542ec1['eur'],'usd':_0x542ec1[_0x362386(0xad)],'coins':_0x5d55cd};let _0x4159bc=dbPerformance[_0x362386(0x10c)](_0x362386(0x19e))[_0x362386(0x179)]({'date':_0x276f26[_0x362386(0xe0)]})['value']();_0x4159bc?_0x276f26[_0x362386(0xe0)]!=config[_0x362386(0x1c6)]&&dbPerformance[_0x362386(0x10c)]('data')[_0x362386(0x179)]({'date':_0x276f26[_0x362386(0xe0)]})['assign'](_0x276f26)[_0x362386(0xa6)]():dbPerformance['get'](_0x362386(0x19e))[_0x362386(0x183)](_0x276f26)[_0x362386(0xa6)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x267e83=_0x4719a6;let _0x559892=[];if(dbPerformance[_0x267e83(0x113)](_0x267e83(0x19e))[_0x267e83(0x170)]()){let _0x4561ca=dbPerformance['get'](_0x267e83(0x19e))[_0x267e83(0x87)]()[_0x267e83(0x1a5)](_0x40faf8=>{const _0xad73ad=_0x267e83;if(_0x40faf8[_0xad73ad(0xb0)]['length']==0x0)return![];else return!![];})['sortBy'](_0x267e83(0xe0))[_0x267e83(0x170)](),_0x20679d=[...config['liquidity']];_0x20679d[_0x267e83(0xb2)]((_0x4c072e,_0x26e963)=>_0x4c072e[_0x267e83(0xe0)]>_0x26e963[_0x267e83(0xe0)]?-0x1:_0x26e963[_0x267e83(0xe0)]>_0x4c072e[_0x267e83(0xe0)]?0x1:0x0);let _0x1da41e=0x1,_0x397d25=[],_0x10275b=0x0;_0x4561ca[_0x267e83(0x1cc)]()[_0x267e83(0x116)]()[_0x267e83(0x88)]((_0x209537,_0xb05a6f)=>{const _0x4361da=_0x267e83;if(_0x20679d[_0x10275b]){if(_0x4561ca[_0x4561ca['length']-_0xb05a6f]&&_0x20679d[_0x10275b][_0x4361da(0xe0)]==_0x4561ca[_0x4561ca['length']-_0xb05a6f]['date']){if(_0xb05a6f<_0x4561ca['length']){let _0x4f7216=0x0,_0x26b93d=0x0;_0x4561ca[_0x4561ca[_0x4361da(0x85)]-_0xb05a6f][_0x4361da(0xb0)][_0x4361da(0x88)](_0x3c6ed3=>{const _0x419d64=_0x4361da;_0x26b93d+=_0x3c6ed3[_0x419d64(0x1c9)]*_0x3c6ed3['price'];}),_0x20679d[_0x10275b][_0x4361da(0x7c)]['forEach'](_0x41a8a7=>{const _0x5681f7=_0x4361da;_0x4f7216+=_0x41a8a7[_0x5681f7(0x1c9)]*_0x41a8a7[_0x5681f7(0x73)];}),_0x1da41e*=_0x4f7216/(_0x26b93d-_0x4f7216)+0x1;}_0x10275b++;}}let _0x4960b9=0x0;_0x209537[_0x4361da(0xb0)][_0x4361da(0x88)](_0x193d53=>{const _0x3e549f=_0x4361da;_0x4960b9+=_0x193d53[_0x3e549f(0x1c9)]*_0x193d53[_0x3e549f(0x73)];}),_0x397d25[_0x4561ca[_0x4361da(0x85)]-_0xb05a6f-0x1]=_0x4960b9*(_0x1da41e-0x1);});let _0x5b159f=[];_0x20679d=[...config[_0x267e83(0xcc)]]||[];let _0x3b11e1=0x0;_0x10275b=0x0,_0x4561ca[_0x267e83(0x88)]((_0x6cd7f2,_0x50ec84)=>{const _0x5ac170=_0x267e83;if(_0x20679d[_0x10275b]){const _0x186248=fns[_0x5ac170(0x104)](_0x20679d[_0x10275b][_0x5ac170(0xe0)],_0x5ac170(0x9f),new Date()),_0x3d27db=fns[_0x5ac170(0x104)](_0x6cd7f2[_0x5ac170(0xe0)],'yyyy/MM/dd',new Date());if(fns[_0x5ac170(0x1cb)](_0x186248,_0x3d27db)){let _0x8f551e=0x0;_0x20679d[_0x10275b][_0x5ac170(0x7c)][_0x5ac170(0x88)](_0x9ff6cc=>{const _0x2979fa=_0x5ac170;!_0x5b159f[_0x9ff6cc[_0x2979fa(0x1c7)]]?_0x5b159f[_0x9ff6cc[_0x2979fa(0x1c7)]]=_0x9ff6cc['number']:(_0x8f551e=_0x5b159f[_0x9ff6cc[_0x2979fa(0x1c7)]],_0x5b159f[_0x9ff6cc['coin']]+=_0x9ff6cc['number']);const _0x1de132=_0x6cd7f2[_0x2979fa(0xb0)]['find'](_0x4a4880=>_0x4a4880[_0x2979fa(0x1c7)]==_0x9ff6cc[_0x2979fa(0x1c7)]);(!_0x1de132||_0x1de132[_0x2979fa(0x1c9)]==0x0)&&(_0x3b11e1+=(-_0x9ff6cc[_0x2979fa(0x1c9)]-_0x8f551e)*_0x9ff6cc[_0x2979fa(0x73)]);}),_0x10275b++;}}_0x6cd7f2[_0x5ac170(0xb0)][_0x5ac170(0x88)]((_0x4d5ffc,_0x5d9933)=>{const _0x5a8f06=_0x5ac170;_0x5b159f[_0x4d5ffc[_0x5a8f06(0x1c7)]]&&(_0x4d5ffc[_0x5a8f06(0xdc)]=_0x5b159f[_0x4d5ffc['coin']]);}),_0x559892[_0x5ac170(0x183)]({'date':_0x6cd7f2[_0x5ac170(0xe0)],'eur':_0x6cd7f2['eur'],'usd':_0x6cd7f2[_0x5ac170(0xad)],'offset':_0x397d25[_0x50ec84],'netoffset':_0x3b11e1,'coins':_0x6cd7f2[_0x5ac170(0xb0)]});});}return _0x559892;}function emitPerformance(_0x5e7a04){const _0x891262=_0x4719a6;_0x5e7a04['length']!==0x0?(proxyEmit(_0x891262(0x8c),_0x5e7a04),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x5d1f7a,_0x34acd0){const _0x3a771f=_0x4719a6;let _0x36cb7d=0x0,_0x235e2d=0x0,_0x12474e=0x0;_0x5d1f7a['coins'][_0x3a771f(0x88)](_0x3ee1bc=>{const _0x5e83eb=_0x3a771f;_0x36cb7d+=_0x3ee1bc[_0x5e83eb(0x1c9)]*_0x3ee1bc[_0x5e83eb(0x73)];});_0x34acd0&&(_0x36cb7d+=_0x5d1f7a[_0x3a771f(0x181)]);if(config['basecoin']===_0x3a771f(0xa8)||config[_0x3a771f(0x11c)]==='ETH')_0x235e2d=_0x36cb7d*_0x5d1f7a[_0x3a771f(0x180)],_0x12474e=_0x36cb7d*_0x5d1f7a[_0x3a771f(0xad)];else{if(usdBasecoins[_0x3a771f(0x105)](config[_0x3a771f(0x11c)]))_0x235e2d=_0x36cb7d*_0x5d1f7a[_0x3a771f(0x180)]/_0x5d1f7a[_0x3a771f(0xad)],_0x12474e=_0x36cb7d;else config[_0x3a771f(0x11c)]===_0x3a771f(0x178)&&(_0x235e2d=_0x36cb7d,_0x12474e=_0x36cb7d*_0x5d1f7a[_0x3a771f(0xad)]/_0x5d1f7a[_0x3a771f(0x180)]);}return[_0x36cb7d,_0x235e2d,_0x12474e];}function getKPIs(_0x418f63,_0x51f5bc='EUR'){const _0x307116=_0x4719a6,_0x1e09f1=config[_0x307116(0x11c)],_0x82ad19=lastBalances,_0x474ad6=currentCoins,_0x2f2425=getNormalizedPerformance(),_0x4b7ec1=_0x418f63===_0x307116(0x11c)?_0x1e09f1:_0x418f63==='fiat'||_0x418f63===_0x307116(0x1ab)?_0x51f5bc:_0x307116(0x1a4)+_0x1e09f1,_0x39f1b7=_0x418f63===_0x307116(0xea)?'Net\x20effect':_0x418f63===_0x307116(0x1ab)?'Net\x20effect':_0x4b7ec1+_0x307116(0x148),_0x22bfe2=_0x418f63===_0x307116(0xea)||_0x418f63===_0x307116(0x1ab)?'Net\x20effect':_0x4b7ec1+'\x20change';let _0x305e7d=0x0;_0x474ad6[_0x307116(0x88)](_0x58de8f=>{const _0x75b4bb=_0x307116;_0x305e7d+=_0x58de8f[_0x75b4bb(0x1c9)]*_0x58de8f['last'];});if(_0x418f63===_0x307116(0x1b1)||_0x418f63===_0x307116(0x1ab)){if(_0x1e09f1===_0x307116(0xa8)||_0x1e09f1===_0x307116(0xee))_0x305e7d=_0x305e7d*(_0x51f5bc===_0x307116(0x178)?_0x82ad19[_0x307116(0x180)]:_0x82ad19[_0x307116(0xad)]);else{if(usdBasecoins[_0x307116(0x105)](_0x1e09f1))_0x305e7d=_0x305e7d*(_0x51f5bc===_0x307116(0x178)?_0x82ad19['eur']/_0x82ad19[_0x307116(0xad)]:0x1);else _0x1e09f1===_0x307116(0x178)&&(_0x305e7d=_0x305e7d*(_0x51f5bc===_0x307116(0x178)?0x1:_0x82ad19[_0x307116(0xad)]/_0x82ad19[_0x307116(0x180)]));}}let _0x351889;if(_0x305e7d!==0x0){if(_0x418f63===_0x307116(0x11c))_0x351889=(_0x305e7d/startingBalances['basecoin']-0x1)*0x64;else{if(_0x51f5bc===_0x307116(0x178))_0x351889=(_0x305e7d/startingBalances[_0x307116(0x180)]-0x1)*0x64;else _0x351889=(_0x305e7d/startingBalances[_0x307116(0xad)]-0x1)*0x64;}let _0x1473a8=0x0;if(startingBalances['coins'])_0x474ad6[_0x307116(0x88)](_0x29f271=>{const _0x3da19a=_0x307116;let _0x31be4e=startingBalances['coins'][_0x3da19a(0x179)](_0x4c8a68=>_0x4c8a68[_0x3da19a(0x1c7)]===_0x29f271[_0x3da19a(0x1c7)]);if(_0x31be4e&&_0x31be4e[_0x3da19a(0x1c7)]&&_0x29f271['number']!==0x0)_0x1473a8+=_0x31be4e[_0x3da19a(0x1c9)]*_0x29f271['last'];});let _0x12aca4=0x0;if(_0x2f2425[_0x307116(0x85)]!==0x0){let _0x558964=_0x2f2425[_0x2f2425['length']-0x1];_0x12aca4=_0x558964['netoffset'];}_0x1473a8-=_0x12aca4;_0x418f63===_0x307116(0xea)&&(_0x351889=(_0x305e7d-_0x1473a8)/startingBalances['basecoin']*0x64,_0x305e7d=_0x305e7d-_0x1473a8);if(_0x418f63==='net-fiat'){let _0x5de763=_0x51f5bc==='EUR'?startingBalances['eur']:startingBalances[_0x307116(0xad)];if(_0x1e09f1==='BTC'||_0x1e09f1==='ETH')_0x1473a8=_0x51f5bc===_0x307116(0x178)?_0x1473a8*_0x82ad19[_0x307116(0x180)]:_0x1473a8*_0x82ad19['usd'];else{if(usdBasecoins['includes'](_0x1e09f1))_0x1473a8=_0x51f5bc==='EUR'?_0x1473a8*_0x82ad19[_0x307116(0x180)]/_0x82ad19[_0x307116(0xad)]:_0x1473a8;else _0x1e09f1===_0x307116(0x178)&&(_0x1473a8=_0x51f5bc===_0x307116(0x178)?_0x1473a8:_0x1473a8*_0x82ad19[_0x307116(0xad)]/_0x82ad19[_0x307116(0x180)]);}_0x351889=(_0x305e7d-_0x1473a8)/_0x5de763*0x64,_0x305e7d=_0x305e7d-_0x1473a8;}if(_0x351889){if(_0x351889<0x64)_0x351889=_0x351889[_0x307116(0x155)](0x2);else{if(_0x351889<0x3e8)_0x351889=_0x351889[_0x307116(0x155)](0x1);else _0x351889=_0x351889['toFixed'](0x0);}}else _0x351889=Number('0')[_0x307116(0x155)](0x2);if(_0x305e7d){if(Math['abs'](_0x305e7d)<0.000001)_0x305e7d=_0x305e7d[_0x307116(0x155)](0x2);else{if(Math['abs'](_0x305e7d)<0.1)_0x305e7d=_0x305e7d[_0x307116(0x155)](0x6);else{if(Math[_0x307116(0xf4)](_0x305e7d)<0x1)_0x305e7d=_0x305e7d[_0x307116(0x155)](0x5);else{if(Math['abs'](_0x305e7d)<0xa)_0x305e7d=_0x305e7d[_0x307116(0x155)](0x4);else{if(Math['abs'](_0x305e7d)<0x64)_0x305e7d=_0x305e7d[_0x307116(0x155)](0x3);else{if(Math[_0x307116(0xf4)](_0x305e7d)<0x3e8)_0x305e7d=_0x305e7d['toFixed'](0x2);else _0x305e7d=_0x305e7d['toFixed'](0x2);}}}}}}else _0x305e7d=Number('0')[_0x307116(0x155)](0x2);}else _0x351889=Number('0')[_0x307116(0x155)](0x2);return{'value':_0x305e7d,'change':_0x351889,'leftTxt':_0x39f1b7,'rightTxt':_0x22bfe2};}function _0x2d05(_0x19e78e,_0x1d08a5){const _0x24d695=_0x535b();return _0x2d05=function(_0x306f0e,_0x481931){_0x306f0e=_0x306f0e-0x69;let _0x535bc1=_0x24d695[_0x306f0e];return _0x535bc1;},_0x2d05(_0x19e78e,_0x1d08a5);}async function getStartingBalances(_0x2f8986,_0x1c12de=!![]){const _0x4ee8b3=_0x4719a6;if(_0x2f8986['length']!==0x0){const [_0x51261c,_0x4b826e,_0x596d7d]=getPerf(_0x2f8986[0x0],!![]);let _0x469253=[];config[_0x4ee8b3(0x164)][_0x4ee8b3(0x88)](_0x1a0c2e=>{const _0x3b1b32=_0x4ee8b3;let _0x4b2e0d=0x0,_0x5b5c9a;config[_0x3b1b32(0xcc)][_0x3b1b32(0x88)](_0x4f22d7=>{const _0x4efffa=_0x3b1b32;let _0x3846db=_0x4f22d7['changes'][_0x4efffa(0x179)](_0x490146=>_0x490146[_0x4efffa(0x1c7)]==_0x1a0c2e[_0x4efffa(0x1c7)]);if(_0x3846db){_0x4b2e0d+=_0x3846db[_0x4efffa(0x1c9)];if(!_0x5b5c9a)_0x5b5c9a=_0x3846db['price'];}}),_0x469253[_0x3b1b32(0x183)]({'coin':_0x1a0c2e[_0x3b1b32(0x1c7)],'number':_0x4b2e0d,'initialprice':_0x5b5c9a});});const _0x1b1042={'basecoin':_0x51261c,'eur':_0x4b826e,'usd':_0x596d7d,'coins':_0x469253};if(_0x1c12de)proxyEmit(_0x4ee8b3(0x91),_0x1b1042);startingBalances=_0x1b1042;}}function headlessMode(_0x2a8c0b){const _0xe08705=_0x4719a6;let _0x136ec1=_0x2a8c0b['portfolio'],_0x3884aa=_0x2a8c0b['threshold'],_0x5b22ce=[];for(let _0xa2662e of _0x136ec1){if(_0xa2662e[_0xe08705(0x1c7)]!=config[_0xe08705(0x11c)]){if(_0xa2662e['delta']>=_0x3884aa/0x64){if(_0xa2662e[_0xe08705(0x197)])_0x5b22ce[_0xe08705(0x183)](_0xa2662e);}else{if(_0xa2662e[_0xe08705(0x102)]<=-_0x3884aa/0x64){if(_0xa2662e[_0xe08705(0x197)])_0x5b22ce[_0xe08705(0x183)](_0xa2662e);}}}}_0x5b22ce[_0xe08705(0x85)]>0x0&&placeOrder(_0x5b22ce);}function notifyBalance(_0x47fc18){const _0x36e68f=_0x4719a6;let _0x2c3db2=_0x47fc18[_0x36e68f(0x164)],_0x2adb1f=_0x47fc18['threshold'],_0x2f5b6b=[];for(let _0x18e3e8 of _0x2c3db2){if(_0x18e3e8[_0x36e68f(0x1c7)]!=config['basecoin']){if(_0x18e3e8[_0x36e68f(0x102)]>=_0x2adb1f/0x64){if(_0x18e3e8[_0x36e68f(0x197)])_0x2f5b6b[_0x36e68f(0x183)](_0x18e3e8);}else{if(_0x18e3e8['delta']<=-_0x2adb1f/0x64){if(_0x18e3e8['valid'])_0x2f5b6b[_0x36e68f(0x183)](_0x18e3e8);}}}}if(_0x2f5b6b[_0x36e68f(0x85)]>0x0){let _0x402689=_0x2f5b6b[_0x36e68f(0xf1)](_0x5d058b=>_0x5d058b[_0x36e68f(0x1c7)]);_0x402689[_0x36e68f(0xb2)]();let _0x32095b=_0x402689[_0x36e68f(0xe3)](',\x20');if(!lastCoinsToBalance)logHistory(_0x36e68f(0xe2),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x32095b;}}function symbolToCoin(_0x42fae5){const _0x1a2c5c=_0x4719a6;let _0x5487ee;if(_0x42fae5[_0x1a2c5c(0x105)]('/'+config[_0x1a2c5c(0x11c)]))_0x5487ee=_0x42fae5[_0x1a2c5c(0x12a)]('/'+config[_0x1a2c5c(0x11c)],'');if(_0x42fae5[_0x1a2c5c(0x105)](config['basecoin']+'/'))_0x5487ee=_0x42fae5['replace'](config[_0x1a2c5c(0x11c)]+'/','');return _0x5487ee;}async function unlockOrders(){const _0x11ae0b=_0x4719a6;if(allOrdersPlaced&&lockOrders==ORDERS[_0x11ae0b(0x95)]){logger[_0x11ae0b(0x13a)](_0x11ae0b(0x138)),lockOrders=ORDERS[_0x11ae0b(0x11e)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x45817a=await getCoins();[currentCoins,currentCoinsAll]=_0x45817a,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x11ae0b(0x13a)](_0x11ae0b(0x84));}}async function validateOrders(_0x21cef1){const _0x3b7895=_0x4719a6;if(_0x21cef1)validateOrdersState=_0x21cef1;logger[_0x3b7895(0x13a)](_0x3b7895(0xf5)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x3b7895(0xb1):lockOrders==0x2?_0x3b7895(0x92):'ORDERS.UNLOCKED'));let _0x29a240=[],_0x4466fd=config[_0x3b7895(0xab)]==_0x3b7895(0x114)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x3b7895(0xda)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3b7895(0x95)])return;logger[_0x3b7895(0x13a)](_0x3b7895(0xfb)+validateOrdersState),lastOrders['forEach'](_0x3d3cd8=>{const _0x48be38=_0x3b7895;let _0x162371=![];_0x3d3cd8['filled']>0x0&&(_0x162371=!![]),_0x29a240[_0x48be38(0x183)](_0x162371),_0x162371&&config[_0x48be38(0xab)]!=_0x48be38(0x114)&&logHistory(_0x48be38(0x195),'Order\x20filled:\x20'+_0x3d3cd8[_0x48be38(0x10a)]+'\x20'+_0x3d3cd8['side']+'\x20#'+formatResult(_0x3d3cd8[_0x48be38(0x141)],0x8)+'\x20@'+formatResult(_0x3d3cd8[_0x48be38(0x73)],0x8));}),_0x29a240['forEach']((_0x27b02c,_0x12f8ff)=>{const _0x369e09=_0x3b7895;if(_0x27b02c)lastOrders[_0x369e09(0x16a)](_0x12f8ff,0x1);}),persistOpenOrders(lastOrders);const _0x543113=coolingDown?_0x3b7895(0x1bc):_0x3b7895(0x171);if(validateOrdersState==_0x3b7895(0xdc)){validateOrdersState=_0x3b7895(0x101);if(_0x29a240['includes'](![])){if(config['ordertype']==_0x3b7895(0x114)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x3b7895(0x101)){if(_0x29a240[_0x3b7895(0x105)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x3b7895(0x114)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x3b7895(0xbb))_0x29a240[_0x3b7895(0x105)](![])&&(config[_0x3b7895(0xab)]==_0x3b7895(0x114)?logHistory(_0x3b7895(0x11b),_0x3b7895(0x1c8)+Math[_0x3b7895(0x1d9)](_0x4466fd*validateOrderInterval/0xea60)+_0x3b7895(0x1a2)+_0x543113):(await cancelOrders(),logHistory(_0x3b7895(0x11b),_0x3b7895(0x90)+Math[_0x3b7895(0x1d9)](_0x4466fd*validateOrderInterval/0xea60)+_0x3b7895(0x1a2)+_0x543113))),await unlockOrders();else{if(validateOrdersState==_0x3b7895(0x77)){if(config['ordertype']!='market')logHistory(_0x3b7895(0x11b),_0x3b7895(0xdf)+_0x543113);await unlockOrders();}}}}}async function cancelOrders(){const _0xf3e139=_0x4719a6;lastOrders[_0xf3e139(0x88)](async _0xbf7356=>{const _0x287e70=_0xf3e139;try{const _0x37409b=await exchange['cancelOrder'](_0xbf7356[_0x287e70(0x14b)],_0xbf7356['symbol']);}catch(_0xdb9d30){if(_0xdb9d30[_0x287e70(0x1e2)]()['includes'](_0x287e70(0x198))){}else await handleError(_0xdb9d30,'cancelOrders()');}});}async function initCoinResults(_0x1bd8f6){const _0x32f351=_0x4719a6;_0x1bd8f6?logger[_0x32f351(0x13a)](_0x32f351(0x1de)+_0x1bd8f6):logger[_0x32f351(0x13a)](_0x32f351(0x7d)),config[_0x32f351(0x164)][_0x32f351(0x88)](_0x448569=>{const _0x3c96bd=_0x32f351;if(!_0x448569['excluded']&&_0x448569['coin']!=config[_0x3c96bd(0x11c)]){const _0x23c7a3=currentCoins[_0x3c96bd(0x179)](_0x2c411b=>_0x2c411b[_0x3c96bd(0x1c7)]==_0x448569[_0x3c96bd(0x1c7)]),_0x387f86=global[_0x3c96bd(0xd1)][noslash(_0x448569['symbol'])];let _0x203048=_0x23c7a3?_0x23c7a3[_0x3c96bd(0x1c9)]:null,_0x46891c=_0x448569[_0x3c96bd(0x116)]?0x1/_0x387f86:_0x387f86,_0x122a67;config[_0x3c96bd(0xcc)][_0x3c96bd(0x88)](_0x2780f1=>{const _0x8003e1=_0x3c96bd;!_0x122a67&&(_0x122a67=_0x2780f1['changes'][_0x8003e1(0x179)](_0x4cb553=>_0x4cb553[_0x8003e1(0x1c7)]==_0x448569[_0x8003e1(0x1c7)]),_0x122a67&&(_0x203048=_0x122a67['number'],_0x46891c=_0x122a67['price']));});let _0x527a23=dbCoinResults[_0x3c96bd(0x10c)](_0x3c96bd(0xb0))['find']({'coin':_0x448569[_0x3c96bd(0x1c7)]})['value']();if(!_0x527a23){const _0x42ae64={'coin':_0x448569[_0x3c96bd(0x1c7)],'number':_0x203048,'breakeven':_0x46891c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3c96bd(0x10c)](_0x3c96bd(0xb0))['push'](_0x42ae64)[_0x3c96bd(0xa6)]();}else{if(_0x1bd8f6&&_0x448569['coin']==_0x1bd8f6){const _0x115f56={'coin':_0x448569[_0x3c96bd(0x1c7)],'number':_0x203048,'breakeven':_0x46891c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3c96bd(0x10c)](_0x3c96bd(0xb0))[_0x3c96bd(0x179)]({'coin':_0x448569[_0x3c96bd(0x1c7)]})['assign'](_0x115f56)[_0x3c96bd(0xa6)]();}}}});}async function updateCoinResults(_0x100b2b,_0x1c8af6=![]){const _0xedd3d6=_0x4719a6;let _0x4ab599,_0x3ff3fe,_0x2d99d4,_0x3cec3d,_0x3e8e6d,_0xd2ce5c,_0x885f84=dbCoinResults['get']('coins')[_0xedd3d6(0x179)]({'coin':_0x100b2b[_0xedd3d6(0x1c7)]})[_0xedd3d6(0x170)](),_0x1d662d=![];Object[_0xedd3d6(0x16f)](_0x885f84)['forEach'](([_0x2c2a62,_0x4cd8d7])=>{if(_0x4cd8d7==null)_0x1d662d=!![];});(!_0x885f84||_0x1d662d)&&(await initCoinResults(_0x100b2b[_0xedd3d6(0x1c7)]),_0x885f84=dbCoinResults[_0xedd3d6(0x10c)]('coins')['find']({'coin':_0x100b2b[_0xedd3d6(0x1c7)]})[_0xedd3d6(0x170)]());_0x100b2b['reverse']&&(_0xd2ce5c={'filled':_0x100b2b['filled']*_0x100b2b['price'],'amount':_0x100b2b[_0xedd3d6(0x141)]*_0x100b2b[_0xedd3d6(0x73)],'side':_0x100b2b['side']==_0xedd3d6(0x16d)?_0xedd3d6(0x119):'sell','price':0x1/_0x100b2b[_0xedd3d6(0x73)]},_0x100b2b={..._0x100b2b,..._0xd2ce5c});_0x1c8af6?_0x3ff3fe=_0x100b2b['side']==_0xedd3d6(0x119)?_0x885f84[_0xedd3d6(0x1c9)]+_0x100b2b[_0xedd3d6(0x141)]:_0x885f84[_0xedd3d6(0x1c9)]-_0x100b2b[_0xedd3d6(0x141)]:_0x3ff3fe=await getCoinNumber(_0x100b2b['coin']);if(_0x100b2b[_0xedd3d6(0x1a7)]&&_0x100b2b['fee'][_0xedd3d6(0x7a)]==config['basecoin'])_0x4ab599=_0x100b2b['fee']['cost'];else{if(_0x100b2b[_0xedd3d6(0x1a7)]&&_0x100b2b[_0xedd3d6(0x1a7)][_0xedd3d6(0x7a)]==_0xedd3d6(0xa2)&&!_0x1c8af6)_0x4ab599=_0x100b2b[_0xedd3d6(0x1a7)][_0xedd3d6(0xa5)]*global['ticker']['BNB'+config[_0xedd3d6(0x11c)]];else _0x4ab599=defaultFee*_0x100b2b['filled']*_0x100b2b['price'];}_0x100b2b[_0xedd3d6(0x120)]==_0xedd3d6(0x119)?(_0x2d99d4=_0x3ff3fe!=0x0?(_0x885f84[_0xedd3d6(0x13e)]*_0x885f84[_0xedd3d6(0x1c9)]+_0x100b2b['price']*(_0x3ff3fe-_0x885f84[_0xedd3d6(0x1c9)])+_0x4ab599)/_0x3ff3fe:0x0,_0x3cec3d=_0x885f84[_0xedd3d6(0x17e)]):(_0x2d99d4=_0x3ff3fe!=0x0?(_0x885f84[_0xedd3d6(0x13e)]*_0x885f84['number']-_0x100b2b[_0xedd3d6(0x73)]*(_0x885f84[_0xedd3d6(0x1c9)]-_0x3ff3fe)+_0x4ab599)/_0x3ff3fe:0x0,_0x3cec3d=_0x885f84[_0xedd3d6(0x17e)]+(_0x100b2b[_0xedd3d6(0x73)]-_0x885f84[_0xedd3d6(0x13e)])*_0x100b2b[_0xedd3d6(0x141)]);_0x3e8e6d=(_0x100b2b[_0xedd3d6(0x73)]-_0x2d99d4-_0x4ab599/_0x100b2b['filled'])*_0x3ff3fe;let _0x513125={'coin':_0x100b2b[_0xedd3d6(0x1c7)],'number':_0x3ff3fe,'breakeven':formatResult(_0x2d99d4,0x8),'realized':formatResult(_0x3cec3d,0x8),'unrealized':formatResult(_0x3e8e6d,0x8),'fees':formatResult(_0x885f84[_0xedd3d6(0xd4)]+_0x4ab599,0x8),'sells':_0x100b2b['side']==_0xedd3d6(0x16d)?_0x885f84[_0xedd3d6(0x9c)]+0x1:_0x885f84['sells'],'buys':_0x100b2b['side']==_0xedd3d6(0x119)?_0x885f84[_0xedd3d6(0x75)]+0x1:_0x885f84[_0xedd3d6(0x75)]};dbCoinResults['get'](_0xedd3d6(0xb0))[_0xedd3d6(0x179)]({'coin':_0x100b2b['coin']})['assign'](_0x513125)['write']();if(!_0x1c8af6){if(_0x100b2b['fee']&&_0x100b2b[_0xedd3d6(0x1a7)][_0xedd3d6(0x7a)]==_0xedd3d6(0xa2)){const _0x57e43d=currentCoins['find'](_0x295b85=>_0x295b85[_0xedd3d6(0x1c7)]==_0xedd3d6(0xa2));if(_0x57e43d){let _0xf22617=dbCoinResults[_0xedd3d6(0x10c)](_0xedd3d6(0xb0))[_0xedd3d6(0x179)]({'coin':'BNB'})[_0xedd3d6(0x170)]();_0x513125={..._0xf22617,'number':_0x57e43d[_0xedd3d6(0x1c9)]},dbCoinResults['get']('coins')[_0xedd3d6(0x179)]({'coin':_0xedd3d6(0xa2)})['assign'](_0x513125)[_0xedd3d6(0xa6)]();}}}}async function placeOrder(_0x45c07d){const _0x427fe2=_0x4719a6,_0x1609b4=config['ordertype']==_0x427fe2(0x114)?_0x427fe2(0x114):_0x427fe2(0x19d);if(lockOrders==ORDERS[_0x427fe2(0x15b)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x427fe2(0x95)],allOrdersPlaced=![],validateOrdersState=_0x427fe2(0xdc);let _0x590eac=![];lastOrders=[];for(const _0x444896 of _0x45c07d){let _0x353db2,_0x4ba2b5,_0x987f29,_0x10b12c,_0x3e9497,_0x4954b3=_0x444896[_0x427fe2(0x10a)];try{const _0x2f265c=await exchange[_0x427fe2(0x1d2)](_0x4954b3);_0x353db2=_0x444896[_0x427fe2(0x116)]?0x1/_0x444896['last']:_0x444896[_0x427fe2(0x192)],_0x4ba2b5=_0x2f265c[_0x427fe2(0xc1)],_0x987f29=_0x2f265c[_0x427fe2(0x196)];_0x444896[_0x427fe2(0x116)]?(_0x10b12c=_0x444896[_0x427fe2(0x120)]=='buy'?_0x427fe2(0x16d):_0x427fe2(0x119),_0x3e9497=Math[_0x427fe2(0xf4)](_0x444896[_0x427fe2(0xd8)])/_0x353db2):(_0x10b12c=_0x444896[_0x427fe2(0x120)],_0x3e9497=Math['abs'](_0x444896['trade']));_0x1609b4==_0x427fe2(0x19d)&&(config[_0x427fe2(0xab)]==_0x427fe2(0x1c2)&&(_0x353db2=_0x10b12c=='buy'?_0x4ba2b5:_0x987f29),config['ordertype']==_0x427fe2(0x106)&&(_0x353db2=_0x10b12c==_0x427fe2(0x119)?_0x987f29:_0x4ba2b5));_0x3e9497=formatResult(_0x3e9497,0x8),_0x353db2=formatResult(_0x353db2,0x8);const _0x46dc89=_0x10b12c==_0x427fe2(0x16d)?config[_0x427fe2(0x17d)]?String[_0x427fe2(0x69)]('0x'+config[_0x427fe2(0x17d)])+'\x20':'':config['emojibuy']?String[_0x427fe2(0x69)]('0x'+config[_0x427fe2(0x1aa)])+'\x20':'',_0xc22c6e=_0x1609b4=='market'?_0x427fe2(0x107):config[_0x427fe2(0xab)]=='limit-high'?'Limit\x20(high-margin)':_0x427fe2(0x1e1),_0x53a342=(Math[_0x427fe2(0xb9)](Math[_0x427fe2(0x177)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders['push']({'customId':_0x53a342,'symbol':_0x4954b3,'coin':_0x444896[_0x427fe2(0x1c7)],'amount':_0x3e9497,'price':_0x353db2,'side':_0x10b12c,'reverse':_0x444896[_0x427fe2(0x116)],'filled':0x0});if(_0x1609b4==_0x427fe2(0x114))logHistory('order',''+_0x46dc89+_0xc22c6e+_0x427fe2(0xa1)+_0x4954b3+'\x20'+_0x10b12c+'\x20#'+formatResult(_0x3e9497,0x8)+'\x20@'+formatResult(_0x353db2,0x8));else logHistory(_0x427fe2(0x195),''+_0x46dc89+_0xc22c6e+_0x427fe2(0xa1)+_0x4954b3+'\x20'+_0x10b12c+'\x20#'+formatResult(_0x3e9497,0x8)+'\x20@'+formatResult(_0x353db2,0x8));const _0x547be6=await exchange[_0x427fe2(0xae)](_0x4954b3,_0x1609b4,_0x10b12c,_0x3e9497,_0x353db2);logger[_0x427fe2(0x13a)](_0x427fe2(0x19f)+_0x547be6['id']+'\x20|\x20Custom\x20ID:\x20'+_0x53a342);const _0x45fb9f=lastOrders[_0x427fe2(0x85)]-0x1;if(_0x45fb9f>=0x0&&lastOrders[_0x45fb9f][_0x427fe2(0x147)]==_0x53a342){lastOrders[_0x45fb9f]['orderId']=_0x547be6['id'];if(_0x547be6[_0x427fe2(0x8a)])lastOrders[_0x45fb9f][_0x427fe2(0x8a)]=_0x547be6['amount'];if(_0x547be6[_0x427fe2(0x73)])lastOrders[_0x45fb9f][_0x427fe2(0x73)]=_0x547be6[_0x427fe2(0x73)];lastOrders[_0x45fb9f][_0x427fe2(0x1a7)]=_0x547be6[_0x427fe2(0x1a7)];}if(config[_0x427fe2(0xa3)]!=0x0){let _0x51ad1a=null;if(cooldownTracker['length']==config[_0x427fe2(0xa3)]-0x1)_0x51ad1a=cooldownTracker[_0x427fe2(0xdd)]();const _0x1cb922=getTimeStamp();cooldownTracker['push'](_0x1cb922);if(_0x51ad1a){const _0x4644a1=fns['differenceInSeconds'](new Date(_0x1cb922),new Date(_0x51ad1a));if(_0x4644a1<cooldownInterval){logHistory(_0x427fe2(0x1cd),_0x427fe2(0x158)+config[_0x427fe2(0xa3)]+_0x427fe2(0xac)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0xf9832c){if(_0xf9832c[_0x427fe2(0x1e2)]()['includes'](_0x427fe2(0x1d3)))lastOrders=lastOrders[_0x427fe2(0x1a5)](_0x465ceb=>_0x465ceb['symbol']!=_0x4954b3),logHistory(_0x427fe2(0x1cd),_0x427fe2(0x1cf)+_0x4954b3),_0x590eac=!![];else{if(_0xf9832c[_0x427fe2(0x1e2)]()[_0x427fe2(0x105)](_0x427fe2(0x97)))lastOrders=lastOrders[_0x427fe2(0x1a5)](_0xeae0cd=>_0xeae0cd['symbol']!=_0x4954b3),logHistory(_0x427fe2(0x1cd),_0x427fe2(0x7e)+_0x4954b3),_0x590eac=!![];else{if(_0xf9832c[_0x427fe2(0x1e2)]()['includes'](_0x427fe2(0x154)))lastOrders=lastOrders[_0x427fe2(0x1a5)](_0x41bc48=>_0x41bc48[_0x427fe2(0x10a)]!=_0x4954b3),logHistory(_0x427fe2(0x1cd),_0x427fe2(0x1ba)+_0x4954b3),_0x590eac=!![];else _0xf9832c[_0x427fe2(0x1e2)]()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0xd4ee16=>_0xd4ee16[_0x427fe2(0x10a)]!=_0x4954b3),logHistory(_0x427fe2(0x1cd),_0x427fe2(0x1cf)+_0x4954b3),_0x590eac=!![]):(lastOrders=lastOrders['filter'](_0xd19fc0=>_0xd19fc0[_0x427fe2(0x10a)]!=_0x4954b3),await handleError(_0xf9832c,_0x427fe2(0x187),_0x4954b3));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x427fe2(0x85)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x260dce=config['ordertype']==_0x427fe2(0x114)?validateOrderTimeout*0x3c*0x3e8:config[_0x427fe2(0xda)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xd17d4f=_0x427fe2;validateOrders(_0xd17d4f(0xbb));},_0x260dce);}else unlockOrders();_0x590eac&&config[_0x427fe2(0x1dc)]&&await pauseBot(_0x427fe2(0x1af)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x427fe2(0x11b),_0x427fe2(0x189)));}else{if(coolingDown)!config[_0x427fe2(0x1dc)]&&logHistory(_0x427fe2(0x1cd),_0x427fe2(0xe5));else lockOrders!=ORDERS[_0x427fe2(0x15b)]&&(!config[_0x427fe2(0x1dc)]&&(config[_0x427fe2(0xab)]==_0x427fe2(0x114)?logHistory(_0x427fe2(0x1cd),_0x427fe2(0xef)):logHistory(_0x427fe2(0x1cd),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x2090e8){const _0x55512e=_0x4719a6,_0x19236e={...config,'openOrders':_0x2090e8};let _0x48715b=dbConfig[_0x55512e(0x10c)](_0x55512e(0x1f0))['find']({'botID':botID})[_0x55512e(0x170)]();_0x48715b&&dbConfig['get'](_0x55512e(0x1f0))[_0x55512e(0x179)]({'botID':botID})[_0x55512e(0x1c3)](_0x19236e)[_0x55512e(0xa6)]();}function restoreOrders(){const _0x33acc9=_0x4719a6;let _0x1c6dd4;config[_0x33acc9(0x129)]&&allOpenOrders['forEach'](_0x539d23=>{const _0x103d6f=_0x33acc9,_0x17de15=config[_0x103d6f(0x129)]['find'](_0x5d3224=>_0x5d3224[_0x103d6f(0x14b)]==_0x539d23['id']);_0x17de15&&(lastOrders['push'](_0x17de15),_0x1c6dd4=_0x539d23[_0x103d6f(0x80)]);});if(lastOrders[_0x33acc9(0x85)]>0x0){lockOrders=ORDERS[_0x33acc9(0x95)],validateOrdersState=_0x33acc9(0x101),allOrdersPlaced=!![];const _0x483d3d=new Date()[_0x33acc9(0x81)](),_0x12715e=config[_0x33acc9(0xab)]==_0x33acc9(0x114)?validateOrderTimeout*0x3c*0x3e8:config[_0x33acc9(0xda)]*0x3c*0x3e8;if(_0x1c6dd4+_0x12715e>_0x483d3d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xf183eb=_0x33acc9;validateOrders(_0xf183eb(0xbb));},_0x1c6dd4+_0x12715e-_0x483d3d);}else validateOrders(_0x33acc9(0xbb));}}async function sendMetricsTelegram(){const _0x1dd30e=_0x4719a6;if(!coinsLoaded){process[_0x1dd30e(0x128)]({'telegrammsg':_0x1dd30e(0xf6)},_0x3e7f42=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x5d6f6a='';if(config[_0x1dd30e(0x1ca)])_0x5d6f6a='<b>'+config[_0x1dd30e(0x188)]+_0x1dd30e(0x151);else _0x5d6f6a=_0x1dd30e(0x1d0)+botID+_0x1dd30e(0x151);const _0x358a69=getKPIs(_0x1dd30e(0x11c)),_0xa2c1da=getKPIs(_0x1dd30e(0x1b1),config[_0x1dd30e(0x1b1)]),_0x6af980=getKPIs(_0x1dd30e(0xea)),_0x4461d2=getKPIs(_0x1dd30e(0x1ab),config[_0x1dd30e(0x1b1)]);_0x5d6f6a+='<pre>',_0x5d6f6a+=_0x358a69[_0x1dd30e(0x127)]+_0x1dd30e(0x1d7)+_0x358a69[_0x1dd30e(0x170)]+'\x0a',_0x5d6f6a+=_0x358a69[_0x1dd30e(0xaa)]+':\x20'+_0x358a69[_0x1dd30e(0xd5)]+'%\x0a',_0x5d6f6a+=_0xa2c1da['leftTxt']+'\x20:\x20'+_0xa2c1da[_0x1dd30e(0x170)]+'\x0a',_0x5d6f6a+=_0xa2c1da['rightTxt']+':\x20'+_0xa2c1da[_0x1dd30e(0xd5)]+'%\x0a',_0x5d6f6a+=_0x6af980[_0x1dd30e(0x127)]+':\x20'+_0x6af980[_0x1dd30e(0x170)]+'\x20('+config[_0x1dd30e(0x11c)]+')\x0a',_0x5d6f6a+=_0x6af980['rightTxt']+':\x20'+_0x6af980[_0x1dd30e(0xd5)]+_0x1dd30e(0x169)+config[_0x1dd30e(0x11c)]+')\x0a',_0x5d6f6a+=_0x4461d2[_0x1dd30e(0x127)]+':\x20'+_0x4461d2['value']+'\x20('+config['fiat']+')\x0a',_0x5d6f6a+=_0x4461d2[_0x1dd30e(0xaa)]+':\x20'+_0x4461d2[_0x1dd30e(0xd5)]+_0x1dd30e(0x169)+config[_0x1dd30e(0x1b1)]+')\x0a',_0x5d6f6a+=_0x1dd30e(0xb4),process[_0x1dd30e(0x128)]({'telegrammsg':_0x5d6f6a},_0x1e2e64=>{});}async function sendPortfolioTelegram(){const _0x278d00=_0x4719a6;if(!coinsLoaded){process[_0x278d00(0x128)]({'telegrammsg':_0x278d00(0xf6)},_0x12ff1c=>{});return;}let _0x417b07='';if(config[_0x278d00(0x1ca)])_0x417b07=_0x278d00(0x13b)+config['botname']+_0x278d00(0x11d);else _0x417b07=_0x278d00(0x1d0)+botID+_0x278d00(0x11d);_0x417b07+=_0x278d00(0xa7),_0x417b07+='-------------------------------\x0a',_0x417b07+=_0x278d00(0x1b8),_0x417b07+=_0x278d00(0x17a),currentCoins[_0x278d00(0x88)](_0xd50794=>{const _0x2f5886=_0x278d00;_0x417b07+=_0xd50794[_0x2f5886(0x1c7)]['padEnd'](0x7)+'|\x20'+formatPad(_0xd50794['distribution'],0x2,0x6)+'|\x20'+formatPad(_0xd50794[_0x2f5886(0xeb)],0x2,0x6)+'|\x20'+formatPad(_0xd50794[_0x2f5886(0x102)]*0x64,0x2,0x6)+'\x0a';}),_0x417b07+=_0x278d00(0xb4),process[_0x278d00(0x128)]({'telegrammsg':_0x417b07},_0x1371c1=>{});}function formatPad(_0x3d5436,_0x276d59,_0x174aa1){const _0x4397f3=_0x4719a6,_0x9c7221=formatResultString(_0x3d5436,_0x276d59);return _0x9c7221?_0x9c7221[_0x4397f3(0x16e)](_0x174aa1):''['padStart'](_0x174aa1);}function logHistory(_0x363e52,_0x2158e6,_0x33496a=''){const _0x225d4f=_0x4719a6;let _0x5da633={'time':getTimeStamp(),'type':_0x363e52,'event':_0x2158e6};dbLogs[_0x225d4f(0x10c)](_0x225d4f(0x1b2))[_0x225d4f(0x183)](_0x5da633)[_0x225d4f(0xa6)]();if(_0x33496a=='')_0x33496a=_0x2158e6;proxyEmit(_0x225d4f(0x8d),{'log':_0x5da633,'summary':_0x33496a}),process[_0x225d4f(0x128)]({'telegram':{..._0x5da633,'botname':config['botname'],'showname':config[_0x225d4f(0x1ca)]}},_0x1e56f6=>{}),logger[_0x225d4f(0xfc)](''+_0x5da633[_0x225d4f(0x8d)]);}function emitHistory(_0x8908db={}){const _0xcda5c9=_0x4719a6;Object[_0xcda5c9(0x199)](_0x8908db)['length']==0x0&&(_0x8908db={'type':[_0xcda5c9(0x195),_0xcda5c9(0x8d)],'event':'','page':0x1});if(_0x8908db[_0xcda5c9(0x1b5)][_0xcda5c9(0x105)](_0xcda5c9(0x8d)))_0x8908db[_0xcda5c9(0x1b5)][_0xcda5c9(0x16a)](_0x8908db[_0xcda5c9(0x1b5)][_0xcda5c9(0x1a6)](_0xcda5c9(0x8d)),0x1,_0xcda5c9(0x1cd),_0xcda5c9(0xe2),_0xcda5c9(0x11b));if(dbLogs[_0xcda5c9(0x113)](_0xcda5c9(0x1b2))[_0xcda5c9(0x170)]()){let _0x413191=dbLogs[_0xcda5c9(0x10c)]('logs')[_0xcda5c9(0x1a5)](_0x261a6b=>{const _0x365dcc=_0xcda5c9;if(_0x8908db[_0x365dcc(0x1b5)][_0x365dcc(0x85)]==0x0)return![];else return _0x8908db['type'][_0x365dcc(0x105)](_0x261a6b[_0x365dcc(0x1b5)]);})[_0xcda5c9(0x1a5)](_0x2bdb96=>{const _0x532764=_0xcda5c9;if(_0x8908db[_0x532764(0x8d)]=='')return!![];else return _0x2bdb96[_0x532764(0x8d)][_0x532764(0x149)]()['includes'](_0x8908db[_0x532764(0x8d)][_0x532764(0x149)]());})[_0xcda5c9(0x1d8)]('time'),_0x5acd5e=_0x413191[_0xcda5c9(0x170)]()[_0xcda5c9(0x85)];_0x413191=_0x413191[_0xcda5c9(0x116)]()['slice']((_0x8908db['page']-0x1)*logPageSize,_0x8908db[_0xcda5c9(0x15e)]*logPageSize-0x1)[_0xcda5c9(0x116)]()[_0xcda5c9(0x170)](),proxyEmit('event-history',{'logs':_0x413191,'total':_0x5acd5e});}else proxyEmit(_0xcda5c9(0x150),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5b983e){const _0x444506=_0x4719a6;if(dbLogs[_0x444506(0x113)]('logs')[_0x444506(0x170)]()){const _0x371344=dbLogs[_0x444506(0x10c)](_0x444506(0x1b2))['sortBy']('time')[_0x444506(0x1a5)](_0x55d3ee=>{const _0x4fcd6c=_0x444506;return _0x55d3ee[_0x4fcd6c(0x1b5)]==_0x4fcd6c(0x195);})[_0x444506(0x170)]();dbLogs[_0x444506(0x10c)]('logs')['remove']()['write'](),dbLogs[_0x444506(0x10c)](_0x444506(0x1b2))[_0x444506(0x1c3)](_0x371344)[_0x444506(0xa6)](),emitHistory(_0x5b983e);}}async function pauseBot(_0xd1ef7f=''){const _0x2e8a2c=_0x4719a6,_0x32f333=new Date()[_0x2e8a2c(0x81)]();if(!lastErrorShown||_0x32f333-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x32f333;!lastBotPause?(lastBotPause=_0x32f333,consecutivePauses=0x1):(_0x32f333-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x2e8a2c(0x128)]({'stop':'restart'},_0x18b2c2=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x2e8a2c(0x81)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0xd1ef7f)_0xd1ef7f+=_0x2e8a2c(0x13f);logHistory(_0x2e8a2c(0x1cd),_0xd1ef7f+_0x2e8a2c(0xc3)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x2d684a=_0x4719a6;process[_0x2d684a(0x128)]({'stop':_0x2d684a(0x132)},_0x26a166=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3c2ccc,_0x50ff7d){const _0x2ddf00=_0x4719a6;if(_0x3c2ccc['toString']()[_0x2ddf00(0x105)](_0x2ddf00(0x1da)))return logHistory(_0x2ddf00(0x1cd),config[_0x2ddf00(0x190)]+_0x2ddf00(0x136)),![];else{if(_0x3c2ccc[_0x2ddf00(0x1e2)]()[_0x2ddf00(0x105)](_0x2ddf00(0x19a)))return logHistory(_0x2ddf00(0x1cd),config['exchange']+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x3c2ccc[_0x2ddf00(0x1e2)]()[_0x2ddf00(0x105)](_0x2ddf00(0x172)))return logHistory('error',config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x2ddf00(0x1cd),_0x2ddf00(0x174)),![];else await handleError(_0x3c2ccc,_0x50ff7d);}}}async function handleError(_0x3b1a3f,_0x296d3f,_0x31ef7d=''){const _0x52a228=_0x4719a6,_0x406431=config[_0x52a228(0x190)]||_0x52a228(0xb7);if(_0x3b1a3f[_0x52a228(0x1e2)]()[_0x52a228(0x105)]('DDoSProtection'))await pauseBot(config[_0x52a228(0x190)]+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x3b1a3f[_0x52a228(0x1e2)]()[_0x52a228(0x105)](_0x52a228(0x193)))await pauseBot(config[_0x52a228(0x190)]+_0x52a228(0x1a1));else{if(_0x3b1a3f['toString']()['includes'](_0x52a228(0xba)))await pauseBot(config[_0x52a228(0x190)]+_0x52a228(0x175));else{if(_0x3b1a3f[_0x52a228(0x1e2)]()['includes'](_0x52a228(0xb8)))await pauseBot(config[_0x52a228(0x190)]+'\x20closed\x20the\x20connection');else{if(_0x3b1a3f[_0x52a228(0x1e2)]()[_0x52a228(0x105)](_0x52a228(0xe4)))logHistory(_0x52a228(0x1cd),_0x296d3f+_0x52a228(0xf9)),logHistory(_0x52a228(0x1cd),_0x52a228(0x157)),await killBot();else{if(_0x3b1a3f[_0x52a228(0x1e2)]()['includes'](_0x52a228(0x14a)))logHistory(_0x52a228(0x1cd),_0x296d3f+_0x52a228(0x1eb)),logHistory(_0x52a228(0x1cd),_0x52a228(0x157)),await killBot();else{if(_0x3b1a3f[_0x52a228(0x1e2)]()['includes'](_0x52a228(0x1da)))logHistory(_0x52a228(0x1cd),_0x296d3f+_0x52a228(0x13f)+config['exchange']+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x52a228(0x1cd),_0x52a228(0x157)),await killBot();else{if(_0x3b1a3f[_0x52a228(0x1e2)]()['includes'](_0x52a228(0x19a)))logHistory(_0x52a228(0x1cd),_0x296d3f+_0x52a228(0x13f)+config[_0x52a228(0x190)]+_0x52a228(0x137)),logHistory('error',_0x52a228(0x157)),await killBot();else{if(_0x3b1a3f[_0x52a228(0x1e2)]()[_0x52a228(0x105)](_0x52a228(0x172)))logHistory(_0x52a228(0x1cd),_0x296d3f+_0x52a228(0x13f)+config[_0x52a228(0x190)]+_0x52a228(0x72)),logHistory('error',_0x52a228(0x157)),await killBot();else _0x3b1a3f[_0x52a228(0x1e2)]()[_0x52a228(0x105)](_0x52a228(0x115))?logHistory(_0x52a228(0x1cd),_0x296d3f+_0x52a228(0xc8)+_0x31ef7d):(logger[_0x52a228(0xfc)](_0x296d3f+'\x20|\x20Error\x20details:\x20',_0x3b1a3f),await pauseBot(_0x52a228(0x9b)));}}}}}}}}}function formatResult(_0x27a5aa,_0x40c170){return parseFloat(_0x27a5aa['toFixed'](_0x40c170));}function formatResultTruncate(_0x350900,_0x1bb684){const _0x31df57=_0x4719a6;let _0x4a0be9=formatResultString(_0x350900,0xa),_0x20bcbe=_0x4a0be9['indexOf']('.');return _0x20bcbe!=-0x1&&(_0x4a0be9=_0x4a0be9[_0x31df57(0x1cc)](0x0,_0x20bcbe+_0x1bb684+0x1)),Number(_0x4a0be9);}function formatResultString(_0xe46d2d,_0x23a213){const _0x276af7=_0x4719a6;let _0x184a8c;if(!(''+_0xe46d2d)[_0x276af7(0x105)]('e'))_0x184a8c=+(Math[_0x276af7(0x1d9)](_0xe46d2d+'e+'+_0x23a213)+'e-'+_0x23a213);else{let _0x22c4e0=(''+_0xe46d2d)[_0x276af7(0xca)]('e'),_0xc91fee='';+_0x22c4e0[0x1]+_0x23a213>0x0&&(_0xc91fee='+'),_0x184a8c=+(Math[_0x276af7(0x1d9)](+_0x22c4e0[0x0]+'e'+_0xc91fee+(+_0x22c4e0[0x1]+_0x23a213))+'e-'+_0x23a213);}return Number(_0x184a8c)[_0x276af7(0x155)](_0x23a213);}function getServerTime(){const _0x376b85=_0x4719a6,_0x14c1a7=new Date();return _0x14c1a7[_0x376b85(0x6b)]()+'/'+(_0x14c1a7['getMonth']()+0x1)['toString']()[_0x376b85(0x16e)](0x2,'0')+'/'+_0x14c1a7['getDate']()[_0x376b85(0x1e2)]()[_0x376b85(0x16e)](0x2,'0')+'\x20'+_0x14c1a7[_0x376b85(0x161)]()[_0x376b85(0x1e2)]()[_0x376b85(0x16e)](0x2,'0')+':'+_0x14c1a7[_0x376b85(0xf0)]()[_0x376b85(0x1e2)]()[_0x376b85(0x16e)](0x2,'0')+':'+_0x14c1a7[_0x376b85(0xb5)]()[_0x376b85(0x1e2)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x321245=_0x4719a6,_0x181fba=shiftedTime();return _0x181fba[_0x321245(0x6b)]()+'/'+(_0x181fba[_0x321245(0xa4)]()+0x1)[_0x321245(0x1e2)]()['padStart'](0x2,'0')+'/'+_0x181fba[_0x321245(0x165)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x181fba[_0x321245(0x161)]()[_0x321245(0x1e2)]()[_0x321245(0x16e)](0x2,'0')+':'+_0x181fba[_0x321245(0xf0)]()[_0x321245(0x1e2)]()[_0x321245(0x16e)](0x2,'0')+':'+_0x181fba[_0x321245(0xb5)]()[_0x321245(0x1e2)]()['padStart'](0x2,'0');}function getDate(){const _0x5ef95b=_0x4719a6,_0xfea1dc=shiftedTime();return _0xfea1dc[_0x5ef95b(0x6b)]()+'/'+(_0xfea1dc[_0x5ef95b(0xa4)]()+0x1)['toString']()[_0x5ef95b(0x16e)](0x2,'0')+'/'+_0xfea1dc[_0x5ef95b(0x165)]()['toString']()[_0x5ef95b(0x16e)](0x2,'0');}function getHour(){const _0x89110c=_0x4719a6,_0x1b87be=shiftedTime();return _0x1b87be['getHours']()[_0x89110c(0x1e2)]()['padStart'](0x2,'0');}function sleep(_0x4f709b){return new Promise(_0x3ecccd=>setTimeout(_0x3ecccd,_0x4f709b));}function shiftedTime(){const _0x14d34b=_0x4719a6,_0x25e3de=new Date();let _0x5baf09=_0x25e3de;if(config&&config['timeshift']!==0x0)_0x5baf09=fns[_0x14d34b(0x1e7)](_0x25e3de,{'hours':config[_0x14d34b(0x10f)]});return _0x5baf09;}function timer(_0x47bd48){const _0x3f4327=_0x4719a6,_0x1b77d3=new Date();!lasttime?console[_0x3f4327(0x18f)](getTimeStamp()+_0x3f4327(0xd2),_0x47bd48,_0x1b77d3):console[_0x3f4327(0x18f)](getTimeStamp()+_0x3f4327(0xd2),_0x47bd48,(_0x1b77d3-lasttime)/0x3e8),lasttime=_0x1b77d3;}