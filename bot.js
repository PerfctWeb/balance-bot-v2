const _0x60f999=_0x5713;(function(_0x4b783d,_0x644faa){const _0x3046ef=_0x5713,_0x195b7f=_0x4b783d();while(!![]){try{const _0x580e8e=parseInt(_0x3046ef(0x2a9))/0x1*(parseInt(_0x3046ef(0x278))/0x2)+parseInt(_0x3046ef(0x2db))/0x3+parseInt(_0x3046ef(0x298))/0x4+parseInt(_0x3046ef(0x283))/0x5*(-parseInt(_0x3046ef(0x1f9))/0x6)+-parseInt(_0x3046ef(0x2c2))/0x7*(-parseInt(_0x3046ef(0x253))/0x8)+parseInt(_0x3046ef(0x1f3))/0x9+-parseInt(_0x3046ef(0x25e))/0xa;if(_0x580e8e===_0x644faa)break;else _0x195b7f['push'](_0x195b7f['shift']());}catch(_0x3e7f7d){_0x195b7f['push'](_0x195b7f['shift']());}}}(_0x51ea,0xad1e1));const _0x37de2a=function(){let _0x32f42a=!![];return function(_0x3748b8,_0x56dcd9){const _0x48caaa=_0x32f42a?function(){const _0xe734fd=_0x5713;if(_0x56dcd9){const _0x3bbbb4=_0x56dcd9[_0xe734fd(0x2d2)](_0x3748b8,arguments);return _0x56dcd9=null,_0x3bbbb4;}}:function(){};return _0x32f42a=![],_0x48caaa;};}(),_0x26d1b0=_0x37de2a(this,function(){const _0x13f09e=_0x5713;return _0x26d1b0[_0x13f09e(0x20d)]()[_0x13f09e(0x2eb)](_0x13f09e(0x29b))[_0x13f09e(0x20d)]()[_0x13f09e(0x2e1)](_0x26d1b0)['search'](_0x13f09e(0x29b));});_0x26d1b0();'use strict';const ccxt=require(_0x60f999(0x299)),low=require(_0x60f999(0x209)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x60f999(0x2f6)),Crypt=require(_0x60f999(0x1f8))[_0x60f999(0x301)];let exchange,wsClient;global[_0x60f999(0x287)]={},global[_0x60f999(0x1e5)]={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/','HOT/BTC','HOT/EUR',_0x60f999(0x2af),_0x60f999(0x27e),_0x60f999(0x231)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],wstriggersset=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x60f999(0x213))[_0x60f999(0x24c)],botID=process[_0x60f999(0x203)][0x2]||_0x60f999(0x25b),pattern=/^[0-9]{3}$/;!pattern[_0x60f999(0x269)](botID)&&(console[_0x60f999(0x224)](_0x60f999(0x25f)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process['exit'](0x1));const userID=process[_0x60f999(0x203)][0x3]||'',configpath=userID?'./config/'+userID+'/':'./config/';!fs['existsSync'](configpath)&&fs[_0x60f999(0x23e)](configpath);const configfile=configpath+_0x60f999(0x219)+botID+_0x60f999(0x29e),logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+_0x60f999(0x219)+botID+_0x60f999(0x239),coinresultsfile=configpath+_0x60f999(0x219)+botID+_0x60f999(0x28a),settingsfile=configpath+_0x60f999(0x2e2),securefile=configpath+_0x60f999(0x21a),configbackuppath=configpath+_0x60f999(0x216),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x60f999(0x27b)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x60f999(0x26c)]({'data':[]})[_0x60f999(0x27b)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x60f999(0x26c)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x60f999(0x26c)]({'coins':[]})[_0x60f999(0x27b)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x37d6e2)=>{},'debug':(..._0x21e6ef)=>{},'notice':(..._0x50952c)=>{},'info':(..._0x1c061c)=>{},'warning':(..._0x4f60e2)=>{},'error':async function(..._0x320058){const _0x896795=_0x60f999,_0xe2c554=new Date()[_0x896795(0x2e9)]();if(!lastErrorShown||_0xe2c554-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x896795(0x2e9)]();let _0xde4b1c='';if(_0x320058[0x0])_0xde4b1c+=_0x320058[0x0];if(_0x320058[0x1]&&_0x320058[0x1][_0x896795(0x208)]&&_0x320058[0x1]['error'][_0x896795(0x245)])_0xde4b1c+=_0x896795(0x25d)+_0x320058[0x1]['error'][_0x896795(0x245)];logging(_0x896795(0x290)+consecutivePauses+_0x896795(0x304),''+_0xde4b1c),await pauseBot(_0x896795(0x2e8));}}},crypt=new Crypt({'md':'sha256','rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x60f999(0x223)]!=config[_0x60f999(0x223)]&&updateTimeshift(settings['timeshift']);process[_0x60f999(0x2aa)]({'started':_0x60f999(0x2b4)},_0x5313ca=>{}),initializeProcessListeners();function proxyEmit(_0x32f31b,_0xb4b7e8=null){process['send']({'function':_0x32f31b,'args':_0xb4b7e8},_0x540c3d=>{});}function initializeProcessListeners(){const _0x3936f5=_0x60f999;process['on'](_0x3936f5(0x245),_0x491c45=>{const _0xa29802=_0x3936f5;switch(Object['keys'](_0x491c45)[0x0]){case _0xa29802(0x223):_0x491c45[_0xa29802(0x223)]!=undefined&&(settings['timeshift']=_0x491c45[_0xa29802(0x223)],updateTimeshift(settings[_0xa29802(0x223)]));break;case _0xa29802(0x26d):switch(_0x491c45[_0xa29802(0x26d)]){case _0xa29802(0x28d):initclient();break;case _0xa29802(0x2c8):toggleBotMode();break;case _0xa29802(0x25c):emitHistory(_0x491c45[_0xa29802(0x2d0)]);break;case _0xa29802(0x277):deleteHistoryAlerts(_0x491c45[_0xa29802(0x2d0)]);break;case _0xa29802(0x207):getPortfolio(_0x491c45['args']);break;case _0xa29802(0x258):storeConfiguration(_0x491c45[_0xa29802(0x2d0)]);break;case _0xa29802(0x23b):storeHeadless(_0x491c45[_0xa29802(0x2d0)]);break;case _0xa29802(0x28b):getStartingBalances(getNormalizedPerformance());break;case _0xa29802(0x263):placeOrder(_0x491c45[_0xa29802(0x2d0)]);break;case _0xa29802(0x30f):cancelLoading();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x5f104e=_0x60f999;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x5f104e(0x234)],config[_0x5f104e(0x22d)]),await initWsEvents();let _0x410491=await loadSymbols();if(_0x410491){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x5f104e(0x1ea)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x3ef2c1,_0x2ff58d){const _0x27b82b=_0x60f999,_0x4e61fc=ccxt[config[_0x27b82b(0x206)]];let _0x395b94;switch(config[_0x27b82b(0x206)]){case _0x27b82b(0x2f6):_0x395b94=_0x27b82b(0x1ec);break;case _0x27b82b(0x205):_0x395b94='wss://stream.binance.us:9443';break;default:_0x395b94=_0x27b82b(0x1ec);}exchange=new _0x4e61fc({'apiKey':_0x3ef2c1,'secret':_0x2ff58d,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x3ef2c1,'api_secret':_0x2ff58d,'beautify':!![],'wsUrl':_0x395b94},logger);let _0x37a61d=config[_0x27b82b(0x206)]==_0x27b82b(0x205)?_0x27b82b(0x2cc):'EUR',_0xf68e2=config[_0x27b82b(0x286)]==_0x27b82b(0x220)?_0x27b82b(0x220):_0x27b82b(0x281);stablecoins={'eur':{'coin':''+_0xf68e2+_0x37a61d,'symbol':_0xf68e2+'/'+_0x37a61d},'usd':{'coin':_0xf68e2+_0x27b82b(0x2cc),'symbol':_0xf68e2+'/USDT'}};}async function initWsEvents(){const _0x29ebe9=_0x60f999;!wstriggersset&&(wstriggersset=!![],wsClient['on'](_0x29ebe9(0x1e9),_0x2e0083=>{const _0x3e3c3f=_0x29ebe9;if(isWsFormattedKline(_0x2e0083)){global[_0x3e3c3f(0x287)][_0x2e0083[_0x3e3c3f(0x2a2)][_0x3e3c3f(0x240)]]=_0x2e0083[_0x3e3c3f(0x2a2)]['close'];return;}else{if(isWsFormatted24hrTicker(_0x2e0083)){global[_0x3e3c3f(0x1e5)][_0x2e0083['symbol']]=_0x2e0083[_0x3e3c3f(0x2a7)];return;}else{if(!Array[_0x3e3c3f(0x1fd)](_0x2e0083)&&_0x2e0083[_0x3e3c3f(0x2a5)]['includes']('userData')){if(_0x2e0083[_0x3e3c3f(0x221)]['includes']('spot')){updateNumberCoins(_0x2e0083);return;}}}}}),wsClient['on'](_0x29ebe9(0x2fb),async _0x736d56=>{if(!botPaused)currentCoins=await getCoins(!![]);}));}async function loadSymbols(){const _0x763f62=_0x60f999;let _0x30b9ed;try{markets=await exchange[_0x763f62(0x22e)](),allSymbols=exchange[_0x763f62(0x21e)]['filter'](_0x19c81b=>{const _0x45f4fa=_0x763f62;let _0x887d50=![];return exceptions[_0x45f4fa(0x2e0)](_0x5f3dce=>{const _0x1c16f8=_0x45f4fa;if(_0x19c81b[_0x1c16f8(0x1f0)](_0x5f3dce))_0x887d50=!![];}),!_0x887d50;}),_0x30b9ed=!![];}catch(_0x5a0ef8){await handleError(_0x5a0ef8,_0x763f62(0x1fb)),_0x30b9ed=![];}return _0x30b9ed;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x937361=_0x60f999;proxyEmit(_0x937361(0x2cd),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x937361(0x21d),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x93df98=getNormalizedPerformance();emitPerformance(_0x93df98),await getStartingBalances(_0x93df98);}async function toggleBotMode(){const _0x5888aa=_0x60f999;let _0x91615a=dbConfig[_0x5888aa(0x2da)](_0x5888aa(0x2e7))[_0x5888aa(0x1ed)]({'botID':botID})[_0x5888aa(0x2f2)]();if(_0x91615a){const _0x27ecde=!_0x91615a[_0x5888aa(0x2f0)];dbConfig[_0x5888aa(0x2da)](_0x5888aa(0x2e7))['find']({'botID':botID})['assign']({'headless':_0x27ecde})[_0x5888aa(0x27b)](),config[_0x5888aa(0x2f0)]=_0x27ecde,proxyEmit(_0x5888aa(0x2cd),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x3229e5=>{});}function cleanws(){const _0x13b7f2=_0x60f999;wsinitialized=![];ws1&&(ws1[_0x13b7f2(0x2e0)](_0x380b0a=>{try{wsClient['close'](_0x380b0a);}catch(_0x659efd){}}),ws1=[]);if(ws2){try{wsClient[_0x13b7f2(0x2a3)](ws2);}catch(_0x5f5d09){}ws2=null;}ws3&&(ws3[_0x13b7f2(0x2e0)](_0x4ba2f3=>{const _0x3664c5=_0x13b7f2;try{wsClient[_0x3664c5(0x2a3)](_0x4ba2f3);}catch(_0x4c40a9){}}),ws3=[]);}async function initws(){const _0x526c62=_0x60f999;cleanws();let _0x19fa97=[];currentCoins[_0x526c62(0x2e0)](_0x42e44c=>{const _0x3b0194=_0x526c62;if(_0x42e44c['coin']!=config[_0x3b0194(0x286)])_0x19fa97[_0x3b0194(0x28f)](_0x42e44c[_0x3b0194(0x240)]);});if(!_0x19fa97['includes'](stablecoins[_0x526c62(0x2b3)]['symbol']))_0x19fa97[_0x526c62(0x28f)](stablecoins[_0x526c62(0x2b3)][_0x526c62(0x240)]);if(!_0x19fa97[_0x526c62(0x1f0)](stablecoins[_0x526c62(0x2c1)][_0x526c62(0x240)]))_0x19fa97['push'](stablecoins['usd']['symbol']);if(!_0x19fa97[_0x526c62(0x1f0)](_0x526c62(0x24a)+config[_0x526c62(0x286)]))_0x19fa97[_0x526c62(0x28f)]('BNB/'+config[_0x526c62(0x286)]);try{_0x19fa97[_0x526c62(0x2e0)]((_0x5eb8c6,_0x43f994)=>{const _0x2aeb29=_0x526c62;ws1[_0x43f994]=wsClient[_0x2aeb29(0x21f)](noslash(_0x5eb8c6),'1m'),ws3[_0x43f994]=wsClient[_0x2aeb29(0x306)](noslash(_0x5eb8c6),_0x2aeb29(0x2f1));}),ws2=wsClient[_0x526c62(0x215)]();}catch(_0x3de014){await handleError(_0x3de014,'initws()');}let _0x1c273d,_0x28987d=0x0;loading[_0x526c62(0x2df)]=[];let _0xbdbabd=0x0;_0x19fa97['forEach'](_0x210a6d=>{const _0x412d38=_0x526c62;loading[_0x412d38(0x2df)][_0x412d38(0x28f)](_0x210a6d);}),loadingCanceled=![];let _0x3af0d5=![];while(_0x1c273d!=_0x19fa97[_0x526c62(0x1ea)]){_0x1c273d=0x0,_0x19fa97[_0x526c62(0x2e0)](_0x5025b5=>{const _0x57f607=_0x526c62;global['ticker'][noslash(_0x5025b5)]&&(loading[_0x57f607(0x2df)]=loading['remainingSymbols'][_0x57f607(0x2ae)](_0x378f61=>_0x378f61!=_0x5025b5),_0x1c273d++);}),loading[_0x526c62(0x210)]=Math['round'](_0x1c273d/_0x19fa97['length']*0x64);loading['progress']!=0x64&&(_0xbdbabd>0x1e*0x5&&(loading[_0x526c62(0x30c)]=!![],emitLoadingProgress()),_0xbdbabd>0x3c*0x5&&!_0x3af0d5&&(_0x3af0d5=!![],logHistory(_0x526c62(0x208),_0x526c62(0x26e)+loading[_0x526c62(0x2df)][_0x526c62(0x246)](',\x20')+_0x526c62(0x242))));if(loadingCanceled){loading[_0x526c62(0x310)]=!![],emitLoadingProgress();break;}else _0x1c273d!=_0x28987d&&(_0x28987d=_0x1c273d,emitLoadingProgress()),_0xbdbabd++,await sleep(0xc8);}_0x3af0d5&&logHistory(_0x526c62(0x2d4),_0x526c62(0x2fe));if(_0x1c273d==_0x19fa97[_0x526c62(0x1ea)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x8b1ec5=_0x60f999;proxyEmit(_0x8b1ec5(0x29a),loading);}async function getFiat(){const _0x4506e1=_0x60f999;let _0xefc60d=0x0,_0xd52558=0x0;try{_0xefc60d=global[_0x4506e1(0x287)][stablecoins[_0x4506e1(0x2b3)]['coin']],_0xd52558=global[_0x4506e1(0x287)][stablecoins[_0x4506e1(0x2c1)][_0x4506e1(0x2c9)]];}catch(_0x2781d9){await handleError(_0x2781d9,'getFiat()');}return{'eur':Number(_0xefc60d),'usd':Number(_0xd52558)};}function setStartDatePerformance(){const _0x23ca3e=_0x60f999;if(config&&config[_0x23ca3e(0x20c)][0x0][_0x23ca3e(0x30b)][_0x23ca3e(0x1ea)]!=0x0){const _0x10e920=config[_0x23ca3e(0x20c)][0x0][_0x23ca3e(0x30b)];dbPerformance[_0x23ca3e(0x2da)](_0x23ca3e(0x233))[_0x23ca3e(0x1ed)]({'date':config[_0x23ca3e(0x275)]})['assign']({'coins':_0x10e920})[_0x23ca3e(0x27b)]();}}async function recreateCoinResults(){const _0x1a6f60=_0x60f999;let _0x49a2f6,_0xdb73c8=[];try{const _0x4e8b12=fns[_0x1a6f60(0x2b9)](fns[_0x1a6f60(0x228)](config[_0x1a6f60(0x275)][_0x1a6f60(0x2f5)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x24110a of currentCoins){if(_0x24110a['coin']!=config[_0x1a6f60(0x286)]){let _0x5f3074=0x0,_0x4d50fa,_0x330812;_0x49a2f6=await getAllEventOrders(_0x24110a[_0x1a6f60(0x240)]);if(_0x49a2f6[_0x1a6f60(0x1ea)]>0x0)_0x49a2f6[_0x1a6f60(0x2e0)](_0x151971=>{const _0x3e0992=_0x1a6f60,_0x25fa53=_0x24110a['symbol'][_0x3e0992(0x1f0)](config[_0x3e0992(0x286)]+'/');_0xdb73c8['push']({'datetime':_0x151971[_0x3e0992(0x25a)],'coin':_0x24110a[_0x3e0992(0x2c9)],'symbol':_0x24110a[_0x3e0992(0x240)],'side':_0x151971[_0x3e0992(0x293)],'reverse':_0x25fa53,'amount':formatResult(_0x151971[_0x3e0992(0x308)],0x8),'filled':formatResult(_0x151971[_0x3e0992(0x308)],0x8),'price':formatResult(_0x151971[_0x3e0992(0x2c0)],0x8)}),_0x5f3074=_0x151971['side']=='buy'?_0x5f3074+_0x151971[_0x3e0992(0x308)]:_0x5f3074-_0x151971['filled'];if(!_0x330812)_0x330812=_0x151971[_0x3e0992(0x2c0)];});_0x4d50fa=_0x24110a[_0x1a6f60(0x2d9)]-_0x5f3074;let _0x2bf78c;config[_0x1a6f60(0x20c)][_0x1a6f60(0x2e0)](_0x4da658=>{const _0x13dfb7=_0x1a6f60;!_0x2bf78c&&(_0x2bf78c=_0x4da658[_0x13dfb7(0x30b)]['find'](_0x19833c=>_0x19833c[_0x13dfb7(0x2c9)]==_0x24110a[_0x13dfb7(0x2c9)]),_0x2bf78c&&(_0x4d50fa=_0x2bf78c['number'],_0x330812=_0x2bf78c[_0x13dfb7(0x2c0)]));});let _0x4b9872=dbCoinResults[_0x1a6f60(0x2da)](_0x1a6f60(0x244))[_0x1a6f60(0x1ed)]({'coin':_0x24110a[_0x1a6f60(0x2c9)]})['value']();_0x4b9872={'coin':_0x24110a[_0x1a6f60(0x2c9)],'number':_0x4d50fa,'breakeven':_0x330812,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1a6f60(0x2da)]('coins')[_0x1a6f60(0x1ed)]({'coin':_0x24110a['coin']})[_0x1a6f60(0x271)](_0x4b9872)[_0x1a6f60(0x27b)]();}}_0xdb73c8[_0x1a6f60(0x1e7)]((_0x494a8e,_0x1b8d26)=>_0x494a8e['datetime']>_0x1b8d26[_0x1a6f60(0x25a)]?0x1:_0x1b8d26['datetime']>_0x494a8e[_0x1a6f60(0x25a)]?-0x1:0x0);let _0x19a5ff=0x0;for(let _0x2c9994 of _0xdb73c8){await updateCoinResults(_0x2c9994,!![]);}}catch(_0x3b8972){await handleError(_0x3b8972,_0x1a6f60(0x211));}}async function getAllEventOrders(_0x11c6c0){const _0x29960f=_0x60f999;let _0x21d79a=[],_0x2520a3=dbLogs[_0x29960f(0x2da)](_0x29960f(0x2bc))[_0x29960f(0x2ae)](_0x5f1595=>{const _0xf272c0=_0x29960f,_0xb7ba34=_0x5f1595['event']['toLowerCase']();return _0xb7ba34[_0xf272c0(0x1f0)](_0x11c6c0['toLowerCase']())&&(_0xb7ba34[_0xf272c0(0x1f0)](_0xf272c0(0x2d8))&&_0xb7ba34[_0xf272c0(0x1f0)](_0xf272c0(0x21c))||_0xb7ba34[_0xf272c0(0x1f0)](_0xf272c0(0x308))&&_0xb7ba34['includes']('order'));})['sortBy'](_0x29960f(0x252))[_0x29960f(0x2f2)]();return _0x2520a3['forEach'](_0x465cde=>{const _0xcde442=_0x29960f,_0x16e52b=_0x465cde[_0xcde442(0x2c5)][_0xcde442(0x1f0)](_0xcde442(0x256))?_0xcde442(0x256):_0xcde442(0x273),_0x5ae1d4=/#([0-9]|\.)+\s/i,_0x25a118=Number(_0x5ae1d4['exec'](_0x465cde['event'])[0x0][_0xcde442(0x23c)](0x1)),_0x81e548=/@([0-9]|\.)+$/i,_0x58b977=Number(_0x81e548[_0xcde442(0x2a0)](_0x465cde[_0xcde442(0x2c5)])[0x0][_0xcde442(0x23c)](0x1));_0x21d79a[_0xcde442(0x28f)]({'datetime':_0x465cde[_0xcde442(0x252)],'coin':symbolToCoin(_0x11c6c0),'symbol':_0x11c6c0,'side':_0x16e52b,'amount':_0x25a118,'filled':_0x25a118,'price':_0x58b977});}),_0x21d79a;}async function getAllOrders(_0x23af80,_0x42c88b){const _0x1d9aff=_0x60f999;let _0x1867cf=[];while(_0x42c88b<exchange[_0x1d9aff(0x2ed)]()){const _0x488170=0x1f4,_0x4edd09=await exchange[_0x1d9aff(0x268)](_0x23af80,_0x42c88b,_0x488170);if(_0x4edd09[_0x1d9aff(0x1ea)])_0x42c88b=_0x4edd09[_0x4edd09['length']-0x1][_0x1d9aff(0x2f4)]+0x1,_0x1867cf=_0x1867cf[_0x1d9aff(0x22c)](_0x4edd09);else break;}return _0x1867cf;}async function validate24hChanges(){const _0x24e369=_0x60f999;let _0x4d16c5;for(const _0x55ac02 of currentCoins){if(_0x55ac02[_0x24e369(0x2c9)]!=config[_0x24e369(0x286)]){let _0x2650ca;_0x55ac02['reverse']?_0x2650ca=formatResult((0x1/(global[_0x24e369(0x1e5)][noslash(_0x55ac02[_0x24e369(0x240)])]/0x64+0x1)-0x1)*0x64,0x3):_0x2650ca=global[_0x24e369(0x1e5)][noslash(_0x55ac02['symbol'])],_0x2650ca<config[_0x24e369(0x2ba)]&&(logHistory('error',_0x55ac02[_0x24e369(0x2c9)]+_0x24e369(0x232)+_0x2650ca+'%'),logHistory(_0x24e369(0x208),_0x24e369(0x2ea)),logHistory(_0x24e369(0x208),_0x24e369(0x260)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0xba6077=_0x60f999;let _0x3758ab=dbLogs['get'](_0xba6077(0x24c))[_0xba6077(0x2f2)]();if(_0x3758ab!=_0xba6077(0x1fe)){dbLogs[_0xba6077(0x2cb)]('version',_0xba6077(0x1fe))['write']();let _0x5f514d=[];const _0x2a6555=dbLogs[_0xba6077(0x2da)]('logs')[_0xba6077(0x2f2)]();_0x2a6555[_0xba6077(0x2e0)](_0xb38366=>{const _0x576bcb=_0xba6077;_0x5f514d[_0x576bcb(0x28f)]({'time':_0xb38366['time'],'type':_0xb38366[_0x576bcb(0x2e4)],'event':_0xb38366['event']});}),dbLogs[_0xba6077(0x2da)]('logs')[_0xba6077(0x271)](_0x5f514d)['write']();}let _0x25c35d=dbConfig['get']('version')[_0xba6077(0x2f2)]();if(_0x25c35d!=_0xba6077(0x1fe)){dbConfig[_0xba6077(0x2cb)](_0xba6077(0x24c),_0xba6077(0x1fe))[_0xba6077(0x27b)]();let _0x55f16a=dbConfig['get'](_0xba6077(0x2e7))[_0xba6077(0x1ed)]({'botID':botID})[_0xba6077(0x2f2)]();if(_0x55f16a){let _0x1b0a79=[];_0x55f16a[_0xba6077(0x2be)][_0xba6077(0x2e0)](_0x2f9d14=>{const _0x2524c8=_0xba6077;_0x1b0a79[_0x2524c8(0x28f)]({'coin':_0x2f9d14['coin'],'number':_0x2f9d14['startnumber'],'price':_0x2f9d14[_0x2524c8(0x2d7)]}),delete _0x2f9d14[_0x2524c8(0x20f)],delete _0x2f9d14[_0x2524c8(0x2d7)];});if(_0x1b0a79['length']!==0x0)fs[_0xba6077(0x23d)](configbackuppath+(_0xba6077(0x302)+botID+'.json'),JSON[_0xba6077(0x257)](_0x1b0a79,null,0x4),function(_0x4d1f08){if(_0x4d1f08){}});const _0x286600=(_0x4ceb96,_0x4bcbf9)=>{const _0x465d09=_0xba6077;let _0x97bdba=[];_0x4bcbf9[_0x465d09(0x2e0)](_0x5f4cec=>{const _0x2b6e41=_0x465d09,_0x95e6c5=_0x4ceb96[_0x2b6e41(0x1ed)](_0x138f76=>_0x138f76[_0x2b6e41(0x2c9)]==_0x5f4cec[_0x2b6e41(0x2c9)]);if(!_0x95e6c5)_0x97bdba[_0x2b6e41(0x28f)](_0x5f4cec);});let _0x4232f9=[];return _0x4ceb96[_0x465d09(0x2e0)](_0x39d39c=>{const _0x3ce888=_0x465d09,_0x22df3c=_0x4bcbf9[_0x3ce888(0x1ed)](_0x469dbb=>_0x469dbb['coin']==_0x39d39c[_0x3ce888(0x2c9)]);if(!_0x22df3c||_0x22df3c[_0x3ce888(0x2d9)]==0x0&&_0x39d39c['number']!=0x0)_0x4232f9[_0x3ce888(0x28f)](_0x39d39c);}),{'missingDay1':_0x97bdba,'notInDay2':_0x4232f9};},_0x35c6f8=dbPerformance[_0xba6077(0x2da)](_0xba6077(0x233))[_0xba6077(0x2ce)]()[_0xba6077(0x2f2)]();if(_0x35c6f8[_0xba6077(0x1ea)]>0x1){const {missingDay1:_0x4fab37,notInDay2:_0x2f680e}=_0x286600(_0x1b0a79,_0x35c6f8[0x1]['coins']);_0x1b0a79=[..._0x1b0a79,..._0x4fab37],_0x2f680e['forEach'](_0x31e3c5=>{const _0x3a536a=_0xba6077;let _0x4f0bb5=_0x1b0a79['findIndex'](_0x4244c8=>_0x4244c8[_0x3a536a(0x2c9)]==_0x31e3c5[_0x3a536a(0x2c9)]);_0x4f0bb5!=-0x1&&_0x1b0a79[_0x3a536a(0x218)](_0x4f0bb5,0x1);});}_0x1b0a79[_0xba6077(0x1e7)]((_0x3dc703,_0x50331e)=>_0x3dc703['coin']>_0x50331e['coin']?0x1:_0x50331e[_0xba6077(0x2c9)]>_0x3dc703[_0xba6077(0x2c9)]?-0x1:0x0);let _0x35eb4e=[{'date':_0x55f16a[_0xba6077(0x275)],'changes':_0x1b0a79}];_0x35c6f8['length']>0x2&&_0x35c6f8['forEach']((_0x4a0a2a,_0x17f3af)=>{const _0x5dda32=_0xba6077;if(_0x17f3af>0x0&&_0x17f3af<_0x35c6f8['length']-0x1){const {missingDay1:_0x168e8a,notInDay2:_0x43011d}=_0x286600(_0x35c6f8[_0x17f3af][_0x5dda32(0x244)],_0x35c6f8[_0x17f3af+0x1][_0x5dda32(0x244)]);_0x1b0a79=[],(_0x168e8a[_0x5dda32(0x1ea)]!=0x0||_0x43011d['length']!=0x0)&&(_0x168e8a[_0x5dda32(0x1ea)]!=0x0&&_0x1b0a79['push'](..._0x168e8a),_0x43011d['length']!=0x0&&(_0x43011d[_0x5dda32(0x2e0)](_0x419e30=>{const _0x3bd9d1=_0x5dda32;_0x419e30[_0x3bd9d1(0x2d9)]=-_0x419e30[_0x3bd9d1(0x2d9)];}),_0x1b0a79[_0x5dda32(0x28f)](..._0x43011d)),_0x1b0a79[_0x5dda32(0x1e7)]((_0xdded70,_0x17c69e)=>_0xdded70[_0x5dda32(0x2c9)]>_0x17c69e[_0x5dda32(0x2c9)]?0x1:_0x17c69e[_0x5dda32(0x2c9)]>_0xdded70[_0x5dda32(0x2c9)]?-0x1:0x0),_0x35eb4e[_0x5dda32(0x28f)]({'date':_0x35c6f8[_0x17f3af+0x1][_0x5dda32(0x1f4)],'changes':_0x1b0a79}));}}),dbConfig[_0xba6077(0x2da)](_0xba6077(0x2e7))[_0xba6077(0x1ed)]({'botID':botID})[_0xba6077(0x271)]({..._0x55f16a,'liquidity':_0x35eb4e})['write']();}}config=getConfiguration(botID);let _0xad3c01=dbPerformance[_0xba6077(0x2da)](_0xba6077(0x24c))['value']();_0xad3c01!=_0xba6077(0x1fe)&&(dbPerformance['set']('version',_0xba6077(0x1fe))[_0xba6077(0x27b)](),setStartDatePerformance());let _0x11feeb=dbCoinResults['get'](_0xba6077(0x24c))['value']();if(_0x11feeb!=_0xba6077(0x237)){dbCoinResults['set'](_0xba6077(0x24c),_0xba6077(0x237))[_0xba6077(0x27b)]();let _0x299ac0=dbCoinResults[_0xba6077(0x2da)](_0xba6077(0x244))[_0xba6077(0x2f2)]();if(_0x299ac0[_0xba6077(0x1ea)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x3ea2e5){const _0x41ebe6=_0x60f999;let _0x2fbc46=dbConfig[_0x41ebe6(0x2da)]('bot')['find']({'botID':_0x3ea2e5})[_0x41ebe6(0x2f2)]();if(_0x2fbc46){let _0x297f3b=![];typeof _0x2fbc46[_0x41ebe6(0x2e3)]=='string'&&(_0x2fbc46={..._0x2fbc46,'threshold':Number(_0x2fbc46['threshold'])},_0x297f3b=!![]),_0x2fbc46[_0x41ebe6(0x2ba)]==null&&(_0x2fbc46={..._0x2fbc46,'change24h':-0x14},_0x297f3b=!![]),_0x297f3b&&(_0x2fbc46={'botID':_0x2fbc46['botID'],'exchange':_0x2fbc46['exchange'],'apiKey':_0x2fbc46[_0x41ebe6(0x234)],'apiSecret':_0x2fbc46[_0x41ebe6(0x22d)],'basecoin':_0x2fbc46[_0x41ebe6(0x286)],'botname':_0x2fbc46[_0x41ebe6(0x230)],'showname':_0x2fbc46[_0x41ebe6(0x2e6)],'threshold':_0x2fbc46[_0x41ebe6(0x2e3)],'ordertype':_0x2fbc46[_0x41ebe6(0x249)],'timeout':_0x2fbc46[_0x41ebe6(0x30c)],'startdate':_0x2fbc46[_0x41ebe6(0x275)],'recreate':_0x2fbc46[_0x41ebe6(0x29f)],'timeshift':_0x2fbc46['timeshift'],'headless':_0x2fbc46['headless'],'cooldown':_0x2fbc46[_0x41ebe6(0x24f)],'change24h':_0x2fbc46['change24h'],'emojibuy':_0x2fbc46[_0x41ebe6(0x2ad)],'emojisell':_0x2fbc46[_0x41ebe6(0x2ab)],'portfolio':_0x2fbc46[_0x41ebe6(0x2be)],'liquidity':_0x2fbc46[_0x41ebe6(0x20c)]},dbConfig[_0x41ebe6(0x2da)]('bot')[_0x41ebe6(0x2ee)]()['write'](),dbConfig[_0x41ebe6(0x2da)](_0x41ebe6(0x2e7))[_0x41ebe6(0x28f)](_0x2fbc46)[_0x41ebe6(0x27b)]());}else _0x2fbc46={'botID':_0x3ea2e5,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x41ebe6(0x200)+_0x3ea2e5,'showname':![],'threshold':0x3,'ordertype':_0x41ebe6(0x2d8),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x41ebe6(0x223)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x2fbc46;}function emittedConfiguration(){const _0x562d4e=_0x60f999;let _0x143e07;return config['apiKey']==''?_0x143e07=config:_0x143e07={...config,'apiKey':_0x562d4e(0x267),'apiSecret':_0x562d4e(0x267)},_0x143e07;}function getSettings(){const _0x3d74b2=_0x60f999;return dbSettings['get']('settings')[_0x3d74b2(0x2f2)]();}function getSecure(){const _0x83177a=_0x60f999;return dbSecure[_0x83177a(0x2da)]('secure')[_0x83177a(0x2f2)]()||{};}function updateTimeshift(_0x2d2adc){const _0x44aa04=_0x60f999;let _0x42c01d=dbConfig[_0x44aa04(0x2da)](_0x44aa04(0x2e7))[_0x44aa04(0x1ed)]({'botID':botID})[_0x44aa04(0x2f2)]();_0x42c01d&&dbConfig[_0x44aa04(0x2da)](_0x44aa04(0x2e7))[_0x44aa04(0x1ed)]({'botID':botID})[_0x44aa04(0x271)]({'timeshift':_0x2d2adc})[_0x44aa04(0x27b)](),config[_0x44aa04(0x223)]=_0x2d2adc,proxyEmit(_0x44aa04(0x2cd),emittedConfiguration());}async function storeConfiguration(_0x254b7e){const _0x298ec9=_0x60f999;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x221ec6=dbConfig[_0x298ec9(0x2da)](_0x298ec9(0x2e7))[_0x298ec9(0x1ed)]({'botID':botID})[_0x298ec9(0x2f2)]();_0x254b7e={..._0x254b7e,'apiKey':crypt['decrypt'](secure[_0x298ec9(0x2dc)],_0x254b7e[_0x298ec9(0x234)])['message'],'apiSecret':crypt[_0x298ec9(0x1fc)](secure[_0x298ec9(0x2dc)],_0x254b7e['apiSecret'])[_0x298ec9(0x245)]};if(_0x221ec6){if(_0x254b7e[_0x298ec9(0x234)]==_0x298ec9(0x267))_0x254b7e[_0x298ec9(0x234)]=config[_0x298ec9(0x234)];if(_0x254b7e['apiSecret']=='************')_0x254b7e[_0x298ec9(0x22d)]=config[_0x298ec9(0x22d)];dbConfig[_0x298ec9(0x2da)](_0x298ec9(0x2e7))['find']({'botID':botID})[_0x298ec9(0x271)](_0x254b7e)[_0x298ec9(0x27b)]();}else dbConfig[_0x298ec9(0x2da)]('bot')[_0x298ec9(0x28f)](_0x254b7e)[_0x298ec9(0x27b)](),process[_0x298ec9(0x2aa)]({'status':_0x298ec9(0x248),'live':_0x298ec9(0x2b4)},_0x4d08e6=>{});config={..._0x254b7e},setStartDatePerformance(),process[_0x298ec9(0x2aa)]({'botname':_0x254b7e[_0x298ec9(0x230)]},_0x366a6b=>{}),updateBotManager();const _0x43fee0=getNormalizedPerformance();getStartingBalances(_0x43fee0),emitPerformance(_0x43fee0),proxyEmit(_0x298ec9(0x261)),await initCoinResults(),reset();}async function storeHeadless(_0x4aad8d){const _0x254d14=_0x60f999,_0xbb6a67={...config,'headless':_0x4aad8d[_0x254d14(0x2f0)]};let _0x50e09f=dbConfig['get']('bot')['find']({'botID':botID})[_0x254d14(0x2f2)]();_0x50e09f&&dbConfig[_0x254d14(0x2da)]('bot')[_0x254d14(0x1ed)]({'botID':botID})[_0x254d14(0x271)](_0xbb6a67)[_0x254d14(0x27b)](),config={..._0xbb6a67},updateBotManager(),proxyEmit(_0x254d14(0x2cd),emittedConfiguration());}function noslash(_0x24fa01){const _0x4a438a=_0x60f999;return _0x24fa01[_0x4a438a(0x2f5)]('/','');}async function updateNumberCoins(_0xc1647a){const _0x5e514c=_0x60f999;if(_0xc1647a[_0x5e514c(0x1f1)]&&_0xc1647a[_0x5e514c(0x1f1)]==_0x5e514c(0x26f)){if(_0xc1647a['eventTime']!=lastOutboundEventTime){lastOutboundEventTime=_0xc1647a[_0x5e514c(0x2c7)],currentCoins=await getCoins(!![]);if(lastBalances){let _0x1e74c5=JSON[_0x5e514c(0x229)](lastBalances[_0x5e514c(0x2be)]);_0x1e74c5[_0x5e514c(0x2e0)](_0x2bec35=>{const _0x5e2e07=_0x5e514c,_0xbb590d=currentCoins[_0x5e2e07(0x1ed)](_0x2871ac=>_0x2871ac[_0x5e2e07(0x2c9)]==_0x2bec35[_0x5e2e07(0x2c9)]);if(_0xbb590d['order'])_0x2bec35[_0x5e2e07(0x21c)]=_0xbb590d['order'];}),lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x1e74c5)},proxyEmit(_0x5e514c(0x21d),{'serverversion':serverversion,'balances':lastBalances});}}}if(_0xc1647a['eventType']&&_0xc1647a['eventType']=='executionReport'){if(_0xc1647a['orderStatus']=='FILLED'){if(lastOrders)lastOrders['forEach'](async _0xd436ed=>{const _0x230577=_0x5e514c;_0xd436ed[_0x230577(0x259)]==_0xc1647a['orderId']&&_0xd436ed[_0x230577(0x308)]==0x0&&(_0xd436ed['price']=_0xc1647a['cumulativeQuoteAssetTransactedQty']/_0xc1647a[_0x230577(0x305)],_0xd436ed['filled']=_0xc1647a[_0x230577(0x305)],_0xd436ed[_0x230577(0x251)]={'cost':_0xc1647a['commission'],'currency':_0xc1647a['commissionAsset']},await validateOrders(),await updateCoinResults(_0xd436ed));});}}}async function getCoins(_0x5cc4ab=![],_0x19c532=!![],_0x5e7a2a=config['basecoin']){const _0x180bc2=_0x60f999;let _0x36693c,_0x4e6ace=[],_0x5c705c=[],_0x484966=[];try{_0x36693c=await exchange[_0x180bc2(0x202)](),mybalances=_0x36693c[_0x180bc2(0x292)];if(!_0x19c532)for(const [_0x412415,_0x3069ef]of Object[_0x180bc2(0x23f)](mybalances)){_0x484966[_0x180bc2(0x28f)](_0x412415);}else config[_0x180bc2(0x2be)][_0x180bc2(0x2e0)](_0x5c602f=>{const _0x4d0c06=_0x180bc2;if(!_0x5c602f[_0x4d0c06(0x27f)])_0x484966['push'](_0x5c602f[_0x4d0c06(0x2c9)]);});if(_0x5e7a2a=='')for(const [_0x22a870,_0x2e7640]of Object[_0x180bc2(0x23f)](mybalances)){_0x2e7640['toString']()!=0x0&&_0x5c705c[_0x180bc2(0x28f)]({'coin':_0x22a870});}else{let _0x15517b=![],_0x5c1bd4;allOpenOrders=[];for(const [_0x2893a9,_0x3f38d9]of Object[_0x180bc2(0x23f)](mybalances)){if(_0x484966['includes'](_0x2893a9)){const _0x269c5a=config['portfolio'][_0x180bc2(0x1ed)](_0x55ce2c=>_0x55ce2c['coin']==_0x2893a9),_0x393f47=_0x2893a9+'/'+_0x5e7a2a,_0x1504ea=_0x5e7a2a+'/'+_0x2893a9;_0x15517b=![];if((_0x3f38d9['toString']()!=0x0||_0x269c5a)&&(allSymbols[_0x180bc2(0x1f0)](_0x393f47)||_0x2893a9==_0x5e7a2a))_0x2893a9!=_0x5e7a2a&&(_0x4e6ace[_0x180bc2(0x28f)](_0x393f47),_0x5cc4ab&&(_0x5c1bd4=await exchange['fetchOpenOrders'](_0x393f47),_0x5c1bd4[_0x180bc2(0x1ea)]>0x0&&(_0x15517b=!![]))),_0x5c705c[_0x180bc2(0x28f)]({'coin':_0x2893a9,'symbol':_0x393f47,'reverse':![],'number':Math[_0x180bc2(0x2b5)](_0x3f38d9+(_0x269c5a&&_0x269c5a[_0x180bc2(0x26a)]||0x0),0x0),'order':_0x15517b});else(_0x3f38d9[_0x180bc2(0x20d)]()!=0x0||_0x269c5a)&&allSymbols[_0x180bc2(0x1f0)](_0x1504ea)&&(_0x2893a9!=_0x5e7a2a&&(_0x4e6ace[_0x180bc2(0x28f)](_0x1504ea),_0x5cc4ab&&(_0x5c1bd4=await exchange['fetchOpenOrders'](_0x1504ea),_0x5c1bd4[_0x180bc2(0x1ea)]>0x0&&(_0x15517b=!![]))),_0x5c705c[_0x180bc2(0x28f)]({'coin':_0x2893a9,'symbol':_0x1504ea,'reverse':!![],'number':Math[_0x180bc2(0x2b5)](_0x3f38d9+(_0x269c5a&&_0x269c5a[_0x180bc2(0x26a)]||0x0),0x0),'order':_0x15517b}));}_0x15517b&&allOpenOrders[_0x180bc2(0x28f)](_0x5c1bd4[0x0]);}_0x5cc4ab&&allOpenOrders['length']==0x0&&allOrdersPlaced&&(lockOrders&&(await sleep(0x7d0),validateOrders(_0x180bc2(0x20e))));}}catch(_0x2ce7db){if(!_0x19c532){if(_0x2ce7db[_0x180bc2(0x20d)]()[_0x180bc2(0x1f0)](_0x180bc2(0x247)))return logHistory(_0x180bc2(0x208),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x2ce7db[_0x180bc2(0x20d)]()[_0x180bc2(0x1f0)](_0x180bc2(0x297)))return logHistory('error',_0x180bc2(0x2c4)),![];else{if(_0x2ce7db['toString']()[_0x180bc2(0x1f0)](_0x180bc2(0x227)))return logHistory(_0x180bc2(0x208),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x2ce7db,'getCoins()');}}}else await handleError(_0x2ce7db,_0x180bc2(0x2d3));}return _0x5c705c;}async function getPortfolio(_0x2bdd42){const _0x228943=_0x60f999;let _0x4d3c07=[],_0x241c68=[],_0x62dbb7,_0x1352ca=[],_0x3a9259,_0x476a62;_0x2bdd42[_0x228943(0x234)]===_0x228943(0x267)||_0x2bdd42[_0x228943(0x22d)]===_0x228943(0x267)?(_0x3a9259=config[_0x228943(0x234)],_0x476a62=config[_0x228943(0x22d)]):(_0x3a9259=_0x2bdd42[_0x228943(0x234)],_0x476a62=_0x2bdd42[_0x228943(0x22d)]);await initExchange(_0x3a9259,_0x476a62);let _0x56123b=await loadSymbols();if(_0x56123b){_0x1352ca=await getCoins(![],![],_0x2bdd42[_0x228943(0x286)]);if(_0x1352ca===![])proxyEmit(_0x228943(0x2be),![]);else{if(_0x2bdd42['basecoin']=='')proxyEmit(_0x228943(0x2be),_0x1352ca);else{_0x1352ca['forEach'](_0x473a79=>{const _0xb97476=_0x228943;if(_0x473a79['coin']!=_0x2bdd42[_0xb97476(0x286)])_0x4d3c07[_0xb97476(0x28f)](_0x473a79[_0xb97476(0x240)]);});try{_0x241c68=await exchange[_0x228943(0x2b2)](_0x4d3c07);}catch(_0x541389){await handleError(_0x541389,'getPortfolio()');}_0x1352ca[_0x228943(0x2e0)](_0x1c1090=>{const _0x3251a9=_0x228943;_0x1c1090[_0x3251a9(0x2c9)]!=_0x2bdd42[_0x3251a9(0x286)]?_0x62dbb7=_0x1c1090[_0x3251a9(0x2b0)]?0x1/_0x241c68[_0x1c1090[_0x3251a9(0x240)]][_0x3251a9(0x201)]:_0x241c68[_0x1c1090[_0x3251a9(0x240)]][_0x3251a9(0x201)]:_0x62dbb7=0x1,_0x1c1090[_0x3251a9(0x2c0)]=formatResult(_0x62dbb7,0x8);}),proxyEmit('portfolio',_0x1352ca);}}}else proxyEmit(_0x228943(0x2be),![]);}function checkMinimums(_0x5962a0){const _0x19a94d=_0x60f999;let _0x1ccc5c=!![];const _0xcd0711=!_0x5962a0['reverse']?markets[_0x5962a0['symbol']][_0x19a94d(0x300)][_0x19a94d(0x23a)]['min']:markets[_0x5962a0[_0x19a94d(0x240)]][_0x19a94d(0x300)][_0x19a94d(0x2a4)][_0x19a94d(0x1f5)],_0x420446=!_0x5962a0['reverse']?markets[_0x5962a0[_0x19a94d(0x240)]][_0x19a94d(0x300)]['cost'][_0x19a94d(0x1f5)]:markets[_0x5962a0[_0x19a94d(0x240)]]['limits']['amount'][_0x19a94d(0x1f5)],_0x4f6bc5=markets[_0x5962a0['symbol']][_0x19a94d(0x2c6)][_0x19a94d(0x23a)];_0x5962a0['trade']=formatResultTruncate(_0x5962a0['trade'],_0x4f6bc5);if(Math[_0x19a94d(0x212)](_0x5962a0[_0x19a94d(0x2f9)])<_0xcd0711)_0x1ccc5c=![];if(Math[_0x19a94d(0x212)](_0x5962a0[_0x19a94d(0x2f9)])*_0x5962a0[_0x19a94d(0x201)]<_0x420446)_0x1ccc5c=![];if(_0x5962a0[_0x19a94d(0x293)]==_0x19a94d(0x256)){let _0x2d1985=config['portfolio'][_0x19a94d(0x1ed)](_0x1c4d73=>_0x1c4d73[_0x19a94d(0x2c9)]==_0x5962a0[_0x19a94d(0x2c9)]);if(_0x2d1985[_0x19a94d(0x26a)]>0x0){if(Math[_0x19a94d(0x212)](_0x5962a0[_0x19a94d(0x2f9)])>_0x5962a0['number']-_0x2d1985['offset'])_0x1ccc5c=![];}else{if(Math[_0x19a94d(0x212)](_0x5962a0[_0x19a94d(0x2f9)])>_0x5962a0['number'])_0x1ccc5c=![];}}if(_0x5962a0[_0x19a94d(0x293)]=='buy'){let _0x411c6f=config[_0x19a94d(0x2be)][_0x19a94d(0x1ed)](_0x3e50ff=>_0x3e50ff['coin']==config[_0x19a94d(0x286)]),_0x41c665=currentCoins[_0x19a94d(0x1ed)](_0x1f0c92=>_0x1f0c92[_0x19a94d(0x2c9)]==config['basecoin']);if(_0x411c6f[_0x19a94d(0x26a)]>0x0){if(Math['abs'](_0x5962a0['trade'])*_0x5962a0['last']>_0x41c665[_0x19a94d(0x2d9)]-_0x411c6f[_0x19a94d(0x26a)])_0x1ccc5c=![];}else{if(Math[_0x19a94d(0x212)](_0x5962a0[_0x19a94d(0x2f9)])*_0x5962a0[_0x19a94d(0x201)]>_0x41c665[_0x19a94d(0x2d9)])_0x1ccc5c=![];}}return _0x1ccc5c;}async function getBalances(){const _0x3dd27d=_0x60f999;let _0x21a458=0x0,_0x2b5ea6;const _0x2c1b8c=config['threshold'];if(config[_0x3dd27d(0x2f0)]&&config[_0x3dd27d(0x2ba)]<0x0)await validate24hChanges();currentCoins[_0x3dd27d(0x2e0)](_0x3ea68e=>{const _0x265526=_0x3dd27d;if(_0x3ea68e[_0x265526(0x2c9)]!=config[_0x265526(0x286)]){let _0x586d4b=global['ticker'][noslash(_0x3ea68e[_0x265526(0x240)])];_0x2b5ea6=_0x3ea68e[_0x265526(0x2b0)]?0x1/_0x586d4b:_0x586d4b;}else _0x2b5ea6=0x1;let _0x8332df=_0x3ea68e[_0x265526(0x2d9)]*_0x2b5ea6;_0x21a458+=_0x8332df,_0x3ea68e[_0x265526(0x201)]=formatResult(Number(_0x2b5ea6),0x8),_0x3ea68e[_0x265526(0x2f2)]=_0x8332df;}),currentCoins['forEach'](_0x51292d=>{const _0x921a48=_0x3dd27d;let _0x3a9536=config[_0x921a48(0x2be)]['find'](_0x2470bb=>_0x2470bb[_0x921a48(0x2c9)]==_0x51292d[_0x921a48(0x2c9)]),_0x27dc88=Number(_0x3a9536['distribution']),_0x7a6d3=_0x51292d[_0x921a48(0x2f2)]/_0x21a458*0x64,_0xf6cb24=_0x27dc88*_0x21a458/0x64/_0x51292d[_0x921a48(0x201)]-_0x51292d['number'];_0x51292d[_0x921a48(0x2ec)]=formatResult(_0x7a6d3,0x3),_0x51292d['target']=formatResult(_0x27dc88,0x3),_0x51292d[_0x921a48(0x2f9)]=formatResult(_0xf6cb24,0x8),_0x51292d[_0x921a48(0x293)]='',_0x51292d['valid']=![];if(_0x51292d[_0x921a48(0x2c9)]!=config[_0x921a48(0x286)]){if(_0x51292d[_0x921a48(0x2ec)]>_0x27dc88)_0x51292d[_0x921a48(0x293)]=_0x921a48(0x256),_0x51292d['valid']=checkMinimums(_0x51292d);else _0x51292d['distribution']<_0x27dc88&&(_0x51292d[_0x921a48(0x293)]=_0x921a48(0x273),_0x51292d[_0x921a48(0x2d6)]=checkMinimums(_0x51292d));}_0x51292d[_0x921a48(0x30a)]=_0x51292d[_0x921a48(0x2ec)]/_0x51292d[_0x921a48(0x289)]-0x1;}),currentCoins[_0x3dd27d(0x1e7)]((_0x4f38b4,_0x16beae)=>_0x4f38b4[_0x3dd27d(0x30a)]<_0x16beae['delta']?0x1:_0x16beae[_0x3dd27d(0x30a)]<_0x4f38b4['delta']?-0x1:0x0);const _0x7a885b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x7a885b['eur'],'usd':_0x7a885b[_0x3dd27d(0x2c1)],'portfolio':JSON[_0x3dd27d(0x257)](currentCoins),'threshold':_0x2c1b8c},proxyEmit(_0x3dd27d(0x21d),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x3dd27d(0x2f0)])headlessMode({'portfolio':currentCoins,'threshold':_0x2c1b8c});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x2c1b8c});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2d1484=_0x60f999;if(!lastBalances)return;let _0x481568=[],_0x3f19b3,_0x572f25=JSON[_0x2d1484(0x229)](lastBalances[_0x2d1484(0x2be)]);_0x572f25[_0x2d1484(0x1e7)]((_0x82dadc,_0x27aa94)=>_0x82dadc[_0x2d1484(0x2c9)]>_0x27aa94[_0x2d1484(0x2c9)]?0x1:_0x27aa94['coin']>_0x82dadc[_0x2d1484(0x2c9)]?-0x1:0x0),_0x572f25[_0x2d1484(0x2e0)](_0xecfbcd=>{const _0x3586e2=_0x2d1484;let _0x42797b={'coin':_0xecfbcd[_0x3586e2(0x2c9)],'number':_0xecfbcd['number'],'price':_0xecfbcd[_0x3586e2(0x201)]};_0x481568[_0x3586e2(0x28f)](_0x42797b);});const _0x2fa011=await getFiat();_0x3f19b3={'date':lastBalances['time'][_0x2d1484(0x2cf)]('\x20')[0x0],'eur':_0x2fa011[_0x2d1484(0x2b3)],'usd':_0x2fa011[_0x2d1484(0x2c1)],'coins':_0x481568};let _0x1f044a=dbPerformance[_0x2d1484(0x2da)]('data')[_0x2d1484(0x1ed)]({'date':_0x3f19b3['date']})[_0x2d1484(0x2f2)]();_0x1f044a?_0x3f19b3['date']!=config[_0x2d1484(0x275)]&&dbPerformance[_0x2d1484(0x2da)](_0x2d1484(0x233))[_0x2d1484(0x1ed)]({'date':_0x3f19b3[_0x2d1484(0x1f4)]})[_0x2d1484(0x271)](_0x3f19b3)[_0x2d1484(0x27b)]():dbPerformance['get']('data')[_0x2d1484(0x28f)](_0x3f19b3)[_0x2d1484(0x27b)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3098a5=_0x60f999;let _0x2ab7db=[];if(dbPerformance[_0x3098a5(0x1f6)](_0x3098a5(0x233))[_0x3098a5(0x2f2)]()){let _0x78b59e=dbPerformance[_0x3098a5(0x2da)](_0x3098a5(0x233))[_0x3098a5(0x2ce)]()[_0x3098a5(0x235)](_0x3098a5(0x1f4))[_0x3098a5(0x2f2)](),_0x35849c=[...config[_0x3098a5(0x20c)]];_0x35849c['sort']((_0x43e3fb,_0x4c0d07)=>_0x43e3fb['date']>_0x4c0d07[_0x3098a5(0x1f4)]?-0x1:_0x4c0d07['date']>_0x43e3fb[_0x3098a5(0x1f4)]?0x1:0x0);let _0x4ff714=0x1,_0xb721b5=[],_0x946ee4=0x0;_0x78b59e[_0x3098a5(0x23c)]()[_0x3098a5(0x2b0)]()[_0x3098a5(0x2e0)]((_0xf65058,_0x39c26e)=>{const _0x363e68=_0x3098a5;if(_0x35849c[_0x946ee4]){if(_0x78b59e[_0x78b59e[_0x363e68(0x1ea)]-_0x39c26e]&&_0x35849c[_0x946ee4][_0x363e68(0x1f4)]==_0x78b59e[_0x78b59e[_0x363e68(0x1ea)]-_0x39c26e][_0x363e68(0x1f4)]){if(_0x39c26e<_0x78b59e[_0x363e68(0x1ea)]){let _0x3574e9=0x0,_0x4d924d=0x0;_0x78b59e[_0x78b59e['length']-_0x39c26e]['coins'][_0x363e68(0x2e0)](_0x9205ed=>{const _0x525be5=_0x363e68;_0x4d924d+=_0x9205ed['number']*_0x9205ed[_0x525be5(0x2c0)];}),_0x35849c[_0x946ee4]['changes']['forEach'](_0x41a3f1=>{const _0x36f6a2=_0x363e68;_0x3574e9+=_0x41a3f1[_0x36f6a2(0x2d9)]*_0x41a3f1['price'];}),_0x4ff714*=_0x3574e9/(_0x4d924d-_0x3574e9)+0x1;}_0x946ee4++;}}let _0x2e014f=0x0;_0xf65058[_0x363e68(0x244)][_0x363e68(0x2e0)](_0x17befc=>{_0x2e014f+=_0x17befc['number']*_0x17befc['price'];}),_0xb721b5[_0x78b59e[_0x363e68(0x1ea)]-_0x39c26e-0x1]=_0x2e014f*(_0x4ff714-0x1);});let _0x540b56=[];_0x35849c=[...config[_0x3098a5(0x20c)]]||[];let _0x5d1dae=0x0;_0x946ee4=0x0,_0x78b59e['forEach']((_0xfe38c7,_0x2d4cc4)=>{const _0x1d8571=_0x3098a5;if(_0x35849c[_0x946ee4]){const _0x1e83db=fns['parse'](_0x35849c[_0x946ee4][_0x1d8571(0x1f4)],_0x1d8571(0x296),new Date()),_0xb8c186=fns['parse'](_0xfe38c7[_0x1d8571(0x1f4)],_0x1d8571(0x296),new Date());if(fns[_0x1d8571(0x22f)](_0x1e83db,_0xb8c186)){let _0x407ed6=0x0;_0x35849c[_0x946ee4][_0x1d8571(0x30b)][_0x1d8571(0x2e0)](_0xc0b2fd=>{const _0x50d238=_0x1d8571;!_0x540b56[_0xc0b2fd['coin']]?_0x540b56[_0xc0b2fd[_0x50d238(0x2c9)]]=_0xc0b2fd[_0x50d238(0x2d9)]:(_0x407ed6=_0x540b56[_0xc0b2fd['coin']],_0x540b56[_0xc0b2fd[_0x50d238(0x2c9)]]+=_0xc0b2fd[_0x50d238(0x2d9)]);const _0x418dd4=_0xfe38c7[_0x50d238(0x244)]['find'](_0x24e21c=>_0x24e21c[_0x50d238(0x2c9)]==_0xc0b2fd[_0x50d238(0x2c9)]);(!_0x418dd4||_0x418dd4[_0x50d238(0x2d9)]==0x0)&&(_0x5d1dae+=(-_0xc0b2fd[_0x50d238(0x2d9)]-_0x407ed6)*_0xc0b2fd[_0x50d238(0x2c0)]);}),_0x946ee4++;}}_0xfe38c7[_0x1d8571(0x244)][_0x1d8571(0x2e0)]((_0x33c289,_0x19265b)=>{const _0x42cecb=_0x1d8571;_0x540b56[_0x33c289[_0x42cecb(0x2c9)]]&&(_0x33c289={..._0x33c289,'initial':_0x540b56[_0x33c289[_0x42cecb(0x2c9)]]}),_0xfe38c7[_0x42cecb(0x244)][_0x19265b]=_0x33c289;}),_0x2ab7db[_0x1d8571(0x28f)]({'date':_0xfe38c7[_0x1d8571(0x1f4)],'eur':_0xfe38c7[_0x1d8571(0x2b3)],'usd':_0xfe38c7[_0x1d8571(0x2c1)],'offset':_0xb721b5[_0x2d4cc4],'netoffset':_0x5d1dae,'coins':_0xfe38c7['coins']});});}return _0x2ab7db;}function emitPerformance(_0x28522a){const _0x2599f4=_0x60f999;_0x28522a['length']!==0x0?(proxyEmit('performance',_0x28522a),lastPerformanceEmitted=getDate()):proxyEmit(_0x2599f4(0x1eb),[]);}function getPerf(_0x2a6c2e,_0x249101){const _0xf93fb8=_0x60f999;let _0x5beae9=0x0,_0x454858=0x0,_0x49b89f=0x0;_0x2a6c2e[_0xf93fb8(0x244)]['forEach'](_0x48d49a=>{const _0x5dba84=_0xf93fb8;_0x5beae9+=_0x48d49a[_0x5dba84(0x2d9)]*_0x48d49a[_0x5dba84(0x2c0)];});_0x249101&&(_0x5beae9+=_0x2a6c2e[_0xf93fb8(0x26a)]);if(config[_0xf93fb8(0x286)]===_0xf93fb8(0x281)||config[_0xf93fb8(0x286)]==='ETH')_0x454858=_0x5beae9*_0x2a6c2e[_0xf93fb8(0x2b3)],_0x49b89f=_0x5beae9*_0x2a6c2e[_0xf93fb8(0x2c1)];else{if(config['basecoin']==='BUSD'||config[_0xf93fb8(0x286)]===_0xf93fb8(0x2cc))_0x454858=_0x5beae9*_0x2a6c2e[_0xf93fb8(0x2b3)]/_0x2a6c2e[_0xf93fb8(0x2c1)],_0x49b89f=_0x5beae9;else config[_0xf93fb8(0x286)]==='EUR'&&(_0x454858=_0x5beae9,_0x49b89f=_0x5beae9*_0x2a6c2e[_0xf93fb8(0x2c1)]/_0x2a6c2e[_0xf93fb8(0x2b3)]);}return[_0x5beae9,_0x454858,_0x49b89f];}async function getStartingBalances(_0x356877,_0xd1c5bd=!![]){const _0x154158=_0x60f999;if(_0x356877['length']!==0x0){const [_0x451688,_0x840095,_0x493830]=getPerf(_0x356877[0x0],!![]);let _0x145a70=[];config[_0x154158(0x2be)]['forEach'](_0x1d9cdd=>{const _0x293fdc=_0x154158;let _0x196d99=0x0,_0x3da504;config['liquidity'][_0x293fdc(0x2e0)](_0x433253=>{const _0x4a81c8=_0x293fdc;let _0x29e9a8=_0x433253['changes']['find'](_0x308387=>_0x308387[_0x4a81c8(0x2c9)]==_0x1d9cdd[_0x4a81c8(0x2c9)]);if(_0x29e9a8){_0x196d99+=_0x29e9a8[_0x4a81c8(0x2d9)];if(!_0x3da504)_0x3da504=_0x29e9a8[_0x4a81c8(0x2c0)];}}),_0x145a70[_0x293fdc(0x28f)]({'coin':_0x1d9cdd[_0x293fdc(0x2c9)],'number':_0x196d99,'initialprice':_0x3da504});});const _0x427a2a={'basecoin':_0x451688,'eur':_0x840095,'usd':_0x493830,'coins':_0x145a70};if(_0xd1c5bd)proxyEmit(_0x154158(0x285),_0x427a2a);return _0x427a2a;}}function headlessMode(_0x56e390){const _0x5588ab=_0x60f999;let _0x336427=_0x56e390['portfolio'],_0x3798f0=_0x56e390[_0x5588ab(0x2e3)],_0x386173=[];for(let _0x19a4e5 of _0x336427){if(_0x19a4e5[_0x5588ab(0x2c9)]!=config['basecoin']){if(_0x19a4e5[_0x5588ab(0x30a)]>=_0x3798f0/0x64){if(_0x19a4e5[_0x5588ab(0x2d6)])_0x386173[_0x5588ab(0x28f)](_0x19a4e5);}else{if(_0x19a4e5['delta']<=-_0x3798f0/0x64){if(_0x19a4e5[_0x5588ab(0x2d6)])_0x386173[_0x5588ab(0x28f)](_0x19a4e5);}}}}_0x386173[_0x5588ab(0x1ea)]>0x0&&(allOrdersPlaced=![],placeOrder(_0x386173));}function notifyBalance(_0x3d2340){const _0x2792c4=_0x60f999;let _0x10d360=_0x3d2340[_0x2792c4(0x2be)],_0x5d148a=_0x3d2340[_0x2792c4(0x2e3)],_0x12dd80=[];for(let _0x3302e0 of _0x10d360){if(_0x3302e0['coin']!=config[_0x2792c4(0x286)]){if(_0x3302e0[_0x2792c4(0x30a)]>=_0x5d148a/0x64){if(_0x3302e0[_0x2792c4(0x2d6)])_0x12dd80[_0x2792c4(0x28f)](_0x3302e0);}else{if(_0x3302e0[_0x2792c4(0x30a)]<=-_0x5d148a/0x64){if(_0x3302e0[_0x2792c4(0x2d6)])_0x12dd80['push'](_0x3302e0);}}}}if(_0x12dd80['length']>0x0){let _0x49bc66=_0x12dd80[_0x2792c4(0x2b8)](_0x33d442=>_0x33d442[_0x2792c4(0x2c9)]);_0x49bc66[_0x2792c4(0x1e7)]();let _0x408e37=_0x49bc66[_0x2792c4(0x246)](',\x20');if(lastCoinsToBalance!==_0x408e37)logHistory('success',_0x2792c4(0x241)+_0x408e37);lastCoinsToBalance=_0x408e37;}}function symbolToCoin(_0x278f75){const _0x4c6c61=_0x60f999;let _0x4bd68b;if(_0x278f75[_0x4c6c61(0x1f0)]('/'+config[_0x4c6c61(0x286)]))_0x4bd68b=_0x278f75[_0x4c6c61(0x2f5)]('/'+config[_0x4c6c61(0x286)],'');if(_0x278f75[_0x4c6c61(0x1f0)](config['basecoin']+'/'))_0x4bd68b=_0x278f75['replace'](config[_0x4c6c61(0x286)]+'/','');return _0x4bd68b;}async function unlockOrders(){const _0x41bdda=_0x60f999;currentCoins=await getCoins(),validateOrdersState=_0x41bdda(0x24e);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);lockOrders=![];}async function validateOrders(_0x55073b){const _0x4205ba=_0x60f999;if(_0x55073b)validateOrdersState=_0x55073b;let _0x7a0768=[],_0x2ef060=config[_0x4205ba(0x249)]==_0x4205ba(0x2d8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders[_0x4205ba(0x2e0)](_0x12b183=>{const _0x32b508=_0x4205ba;let _0x4bc122=![];_0x12b183[_0x32b508(0x308)]>0x0&&(_0x4bc122=!![]),_0x7a0768[_0x32b508(0x28f)](_0x4bc122),_0x4bc122&&config['ordertype']!=_0x32b508(0x2d8)&&logHistory('order',_0x32b508(0x238)+_0x12b183[_0x32b508(0x240)]+'\x20'+_0x12b183['side']+'\x20#'+formatResult(_0x12b183['filled'],0x8)+'\x20@'+formatResult(_0x12b183['price'],0x8));}),_0x7a0768[_0x4205ba(0x2e0)]((_0x367cb1,_0x28157a)=>{const _0x4626f3=_0x4205ba;if(_0x367cb1)lastOrders[_0x4626f3(0x218)](_0x28157a,0x1);});const _0x3bcbba=coolingDown?_0x4205ba(0x22a):'balancing\x20resumed';if(validateOrdersState=='initial')validateOrdersState='ongoing',_0x7a0768[_0x4205ba(0x1f0)](![])?config[_0x4205ba(0x249)]==_0x4205ba(0x2d8)?logHistory(_0x4205ba(0x208),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x4205ba(0x208),_0x4205ba(0x307)):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0x7a0768[_0x4205ba(0x1f0)](![])){}else config[_0x4205ba(0x249)]==_0x4205ba(0x2d8)?logHistory('success','Order(s)\x20validated\x20-\x20'+_0x3bcbba):logHistory(_0x4205ba(0x2d4),_0x4205ba(0x2bd)+_0x3bcbba),await unlockOrders();}else{if(validateOrdersState==_0x4205ba(0x303))_0x7a0768[_0x4205ba(0x1f0)](![])?config['ordertype']==_0x4205ba(0x2d8)?logHistory('success',_0x4205ba(0x2e5)+Math[_0x4205ba(0x20a)](_0x2ef060*validateOrderInterval/0xea60)+_0x4205ba(0x274)+_0x3bcbba):(await cancelOrders(),logHistory(_0x4205ba(0x2d4),_0x4205ba(0x2d5)+Math[_0x4205ba(0x20a)](_0x2ef060*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x3bcbba)):logHistory(_0x4205ba(0x2d4),_0x4205ba(0x29c)+_0x3bcbba),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x4205ba(0x249)]!=_0x4205ba(0x2d8))logHistory(_0x4205ba(0x2d4),_0x4205ba(0x29c)+_0x3bcbba);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x2acdb4=>{const _0x4f70d6=_0x5713;try{const _0x48f072=await exchange[_0x4f70d6(0x2f8)](_0x2acdb4[_0x4f70d6(0x259)],_0x2acdb4[_0x4f70d6(0x240)]);}catch(_0x549fa6){if(_0x549fa6[_0x4f70d6(0x20d)]()[_0x4f70d6(0x1f0)](_0x4f70d6(0x2de))){}else await handleError(_0x549fa6,'cancelOrders()');}});}async function initCoinResults(){const _0x663f80=_0x60f999;let _0x14f73c=[];config[_0x663f80(0x2be)][_0x663f80(0x2e0)](_0x572941=>{const _0x3b3b08=_0x663f80;if(!_0x572941[_0x3b3b08(0x27f)]&&_0x572941[_0x3b3b08(0x2c9)]!=config[_0x3b3b08(0x286)]){let _0x2a0d6d=dbCoinResults[_0x3b3b08(0x2da)](_0x3b3b08(0x244))[_0x3b3b08(0x1ed)]({'coin':_0x572941['coin']})[_0x3b3b08(0x2f2)]();if(!_0x2a0d6d){const _0x2bff9b=currentCoins[_0x3b3b08(0x1ed)](_0x172b02=>_0x172b02[_0x3b3b08(0x2c9)]==_0x572941[_0x3b3b08(0x2c9)]),_0x44047c=global['ticker'][noslash(_0x572941[_0x3b3b08(0x240)])];let _0xc167e=_0x2bff9b?_0x2bff9b[_0x3b3b08(0x2d9)]:null,_0x1b7b39=_0x572941[_0x3b3b08(0x2b0)]?0x1/_0x44047c:_0x44047c,_0x3a164e;config[_0x3b3b08(0x20c)]['forEach'](_0x984fd8=>{const _0x4c4992=_0x3b3b08;!_0x3a164e&&(_0x3a164e=_0x984fd8[_0x4c4992(0x30b)]['find'](_0xce94f8=>_0xce94f8[_0x4c4992(0x2c9)]==_0x572941[_0x4c4992(0x2c9)]),_0x3a164e&&(_0xc167e=_0x3a164e[_0x4c4992(0x2d9)],_0x1b7b39=_0x3a164e['price']));}),_0x14f73c[_0x3b3b08(0x28f)]({'coin':_0x572941[_0x3b3b08(0x2c9)],'number':_0xc167e,'price':_0x1b7b39});}}}),_0x14f73c[_0x663f80(0x2e0)](_0x42cc7f=>{const _0x34dd81=_0x663f80,_0x101ebc={'coin':_0x42cc7f['coin'],'number':_0x42cc7f['number'],'breakeven':_0x42cc7f[_0x34dd81(0x2c0)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x34dd81(0x2da)](_0x34dd81(0x244))[_0x34dd81(0x28f)](_0x101ebc)[_0x34dd81(0x27b)]();});}async function updateCoinResults(_0x7fb90c,_0x48c408=![]){const _0x3609b7=_0x60f999;let _0x8150ac,_0x1ad4b2,_0x1619f5,_0x183e95,_0x31411d,_0x38cdc9,_0x5cd706=dbCoinResults['get'](_0x3609b7(0x244))[_0x3609b7(0x1ed)]({'coin':_0x7fb90c[_0x3609b7(0x2c9)]})[_0x3609b7(0x2f2)]();!_0x5cd706&&await initCoinResults();_0x7fb90c[_0x3609b7(0x2b0)]&&(_0x38cdc9={'filled':_0x7fb90c[_0x3609b7(0x308)]*_0x7fb90c[_0x3609b7(0x2c0)],'amount':_0x7fb90c[_0x3609b7(0x308)]*_0x7fb90c[_0x3609b7(0x2c0)],'side':_0x7fb90c[_0x3609b7(0x293)]==_0x3609b7(0x256)?_0x3609b7(0x273):_0x3609b7(0x256),'price':0x1/_0x7fb90c['price']},_0x7fb90c={..._0x7fb90c,..._0x38cdc9});if(_0x48c408)_0x1ad4b2=_0x7fb90c[_0x3609b7(0x293)]==_0x3609b7(0x273)?_0x5cd706[_0x3609b7(0x2d9)]+_0x7fb90c[_0x3609b7(0x308)]:_0x5cd706[_0x3609b7(0x2d9)]-_0x7fb90c[_0x3609b7(0x308)];else{const _0x41a54c=currentCoins[_0x3609b7(0x1ed)](_0x534ad6=>_0x534ad6[_0x3609b7(0x2c9)]==_0x7fb90c[_0x3609b7(0x2c9)]);_0x1ad4b2=_0x41a54c[_0x3609b7(0x2d9)];}if(_0x7fb90c['fee']&&_0x7fb90c[_0x3609b7(0x251)][_0x3609b7(0x1e8)]==config['basecoin'])_0x8150ac=_0x7fb90c[_0x3609b7(0x251)]['cost'];else{if(_0x7fb90c[_0x3609b7(0x251)]&&_0x7fb90c['fee'][_0x3609b7(0x1e8)]==_0x3609b7(0x282)&&!_0x48c408)_0x8150ac=_0x7fb90c[_0x3609b7(0x251)][_0x3609b7(0x2a4)]*global[_0x3609b7(0x287)][_0x3609b7(0x282)+config[_0x3609b7(0x286)]];else _0x8150ac=defaultFee*_0x7fb90c[_0x3609b7(0x308)]*_0x7fb90c[_0x3609b7(0x2c0)];}_0x7fb90c[_0x3609b7(0x293)]==_0x3609b7(0x273)?(_0x1619f5=_0x1ad4b2!=0x0?(_0x5cd706[_0x3609b7(0x27c)]*_0x5cd706[_0x3609b7(0x2d9)]+_0x7fb90c['price']*(_0x1ad4b2-_0x5cd706[_0x3609b7(0x2d9)])+_0x8150ac)/_0x1ad4b2:0x0,_0x183e95=_0x5cd706[_0x3609b7(0x2fd)]):(_0x1619f5=_0x1ad4b2!=0x0?(_0x5cd706[_0x3609b7(0x27c)]*_0x5cd706[_0x3609b7(0x2d9)]-_0x7fb90c[_0x3609b7(0x2c0)]*(_0x5cd706[_0x3609b7(0x2d9)]-_0x1ad4b2)+_0x8150ac)/_0x1ad4b2:0x0,_0x183e95=_0x5cd706[_0x3609b7(0x2fd)]+(_0x7fb90c[_0x3609b7(0x2c0)]-_0x5cd706[_0x3609b7(0x27c)])*_0x7fb90c['filled']);_0x31411d=(_0x7fb90c[_0x3609b7(0x2c0)]-_0x1619f5-_0x8150ac/_0x7fb90c[_0x3609b7(0x308)])*_0x1ad4b2;let _0x2a7051={'coin':_0x7fb90c[_0x3609b7(0x2c9)],'number':_0x1ad4b2,'breakeven':formatResult(_0x1619f5,0x8),'realized':formatResult(_0x183e95,0x8),'unrealized':formatResult(_0x31411d,0x8),'fees':formatResult(_0x5cd706['fees']+_0x8150ac,0x8),'sells':_0x7fb90c[_0x3609b7(0x293)]=='sell'?_0x5cd706[_0x3609b7(0x24d)]+0x1:_0x5cd706['sells'],'buys':_0x7fb90c[_0x3609b7(0x293)]=='buy'?_0x5cd706[_0x3609b7(0x1fa)]+0x1:_0x5cd706[_0x3609b7(0x1fa)]};dbCoinResults[_0x3609b7(0x2da)](_0x3609b7(0x244))[_0x3609b7(0x1ed)]({'coin':_0x7fb90c[_0x3609b7(0x2c9)]})[_0x3609b7(0x271)](_0x2a7051)[_0x3609b7(0x27b)]();if(!_0x48c408){if(_0x7fb90c[_0x3609b7(0x251)]&&_0x7fb90c[_0x3609b7(0x251)][_0x3609b7(0x1e8)]=='BNB'){const _0x17b9d5=currentCoins[_0x3609b7(0x1ed)](_0x5fda60=>_0x5fda60[_0x3609b7(0x2c9)]==_0x3609b7(0x282));if(_0x17b9d5){let _0x64c66c=dbCoinResults[_0x3609b7(0x2da)](_0x3609b7(0x244))[_0x3609b7(0x1ed)]({'coin':_0x3609b7(0x282)})[_0x3609b7(0x2f2)]();_0x2a7051={..._0x64c66c,'number':_0x17b9d5['number']},dbCoinResults[_0x3609b7(0x2da)]('coins')['find']({'coin':_0x3609b7(0x282)})[_0x3609b7(0x271)](_0x2a7051)['write']();}}}}async function placeOrder(_0x32be86){const _0x177043=_0x60f999,_0x333c8f=config[_0x177043(0x249)]=='market'?_0x177043(0x2d8):_0x177043(0x204);if(!lockOrders&&!coolingDown){lastOrders=[];for(const _0x31fa6d of _0x32be86){let _0x42ce0d,_0x136202,_0x1b32bb,_0x5fce24,_0x17f22d,_0x31ad72=_0x31fa6d[_0x177043(0x240)];try{const _0x30a8d4=await exchange[_0x177043(0x2b2)]([_0x31ad72]),_0x150982=_0x30a8d4[_0x31ad72];_0x42ce0d=_0x31fa6d['reverse']?0x1/_0x31fa6d[_0x177043(0x201)]:_0x31fa6d['last'],_0x136202=_0x150982[_0x177043(0x24b)],_0x1b32bb=_0x150982['ask'];_0x31fa6d['reverse']?(_0x5fce24=_0x31fa6d[_0x177043(0x293)]==_0x177043(0x273)?_0x177043(0x256):_0x177043(0x273),_0x17f22d=Math[_0x177043(0x212)](_0x31fa6d[_0x177043(0x2f9)])/_0x42ce0d):(_0x5fce24=_0x31fa6d[_0x177043(0x293)],_0x17f22d=Math['abs'](_0x31fa6d[_0x177043(0x2f9)]));_0x333c8f=='limit'&&(config['ordertype']=='limit-high'&&(_0x42ce0d=_0x5fce24==_0x177043(0x273)?_0x136202:_0x1b32bb),config[_0x177043(0x249)]==_0x177043(0x1ff)&&(_0x42ce0d=_0x5fce24==_0x177043(0x273)?_0x1b32bb:_0x136202));_0x17f22d=formatResult(_0x17f22d,0x8),_0x42ce0d=formatResult(_0x42ce0d,0x8);const _0x2c6a89=await exchange[_0x177043(0x280)](_0x31ad72,_0x333c8f,_0x5fce24,_0x17f22d,_0x42ce0d);lastOrders[_0x177043(0x28f)]({'orderId':_0x2c6a89['id'],'symbol':_0x31ad72,'coin':_0x31fa6d[_0x177043(0x2c9)],'side':_0x5fce24,'reverse':_0x31fa6d[_0x177043(0x2b0)],'amount':_0x2c6a89[_0x177043(0x23a)],'filled':0x0,'price':_0x2c6a89[_0x177043(0x2c0)],'fee':_0x2c6a89[_0x177043(0x251)]});const _0x5d0cb8=_0x5fce24=='sell'?config[_0x177043(0x2ab)]?String[_0x177043(0x217)]('0x'+config['emojisell'])+'\x20':'':config[_0x177043(0x2ad)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x164f43=_0x333c8f==_0x177043(0x2d8)?_0x177043(0x2bf):config[_0x177043(0x249)]==_0x177043(0x22b)?_0x177043(0x30d):_0x177043(0x2ff);if(_0x333c8f==_0x177043(0x2d8))logHistory(_0x177043(0x21c),''+_0x5d0cb8+_0x164f43+_0x177043(0x309)+_0x31ad72+'\x20'+_0x5fce24+'\x20#'+formatResult(_0x2c6a89[_0x177043(0x308)],0x8)+'\x20@'+formatResult(_0x2c6a89['price'],0x8));else logHistory(_0x177043(0x21c),''+_0x5d0cb8+_0x164f43+_0x177043(0x309)+_0x31ad72+'\x20'+_0x5fce24+'\x20#'+formatResult(_0x2c6a89[_0x177043(0x23a)],0x8)+'\x20@'+formatResult(_0x2c6a89['price'],0x8));let _0x5b8f20=currentCoins[_0x177043(0x1ed)](_0x57e2a5=>_0x57e2a5[_0x177043(0x2c9)]==_0x31fa6d['coin']);_0x5b8f20[_0x177043(0x21c)]=!![];if(config['cooldown']!=0x0){let _0x366d7d=null;if(cooldownTracker[_0x177043(0x1ea)]==config[_0x177043(0x24f)]-0x1)_0x366d7d=cooldownTracker[_0x177043(0x265)]();const _0x582ae4=getTimeStamp();cooldownTracker[_0x177043(0x28f)](_0x582ae4);if(_0x366d7d){const _0x5bc691=fns[_0x177043(0x2b1)](new Date(_0x582ae4),new Date(_0x366d7d));if(_0x5bc691<cooldownInterval){logHistory(_0x177043(0x208),_0x177043(0x262)+config['cooldown']+_0x177043(0x2fc)+cooldownInterval/0x3c+_0x177043(0x1f7)+cooldownPeriod/(0xe10*0x3e8)+_0x177043(0x2ac)),coolingDown=!![];break;}}}}catch(_0x6c9ddb){if(_0x6c9ddb[_0x177043(0x20d)]()['includes'](_0x177043(0x2a1)))logHistory(_0x177043(0x208),_0x177043(0x2a8)+_0x31ad72);else{if(_0x6c9ddb[_0x177043(0x20d)]()[_0x177043(0x1f0)](_0x177043(0x279)))logHistory(_0x177043(0x208),'Order\x20amount\x20is\x20invalid:\x20'+_0x31ad72);else await handleError(_0x6c9ddb,_0x177043(0x28e),_0x31ad72);}}}allOrdersPlaced=!![];if(lastOrders[_0x177043(0x1ea)]!=0x0){lockOrders=!![],validateOrdersState=_0x177043(0x24e),setTimeout(function(){validateOrders();},0x1388);const _0x8372d=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5ce9fe=_0x177043;validateOrders(_0x5ce9fe(0x303));},_0x8372d);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x177043(0x2d4),_0x177043(0x2dd)));}else{if(coolingDown)!config[_0x177043(0x2f0)]&&logHistory(_0x177043(0x208),_0x177043(0x2ef));else lockOrders&&(!config[_0x177043(0x2f0)]&&(config['ordertype']==_0x177043(0x2d8)?logHistory(_0x177043(0x208),_0x177043(0x20b)):logHistory(_0x177043(0x208),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function restoreOrders(){const _0x1252f2=_0x60f999;let _0xa5f599;lockOrders=!![],validateOrdersState=_0x1252f2(0x255),currentCoins[_0x1252f2(0x2e0)](_0xebad0d=>{const _0x54cc65=_0x1252f2,_0x575b8=allOpenOrders[_0x54cc65(0x1ed)](_0x4ec818=>_0x4ec818['symbol']==_0xebad0d[_0x54cc65(0x240)]);_0x575b8&&(lastOrders[_0x54cc65(0x28f)]({'orderId':_0x575b8['id'],'symbol':_0xebad0d[_0x54cc65(0x240)],'coin':_0xebad0d[_0x54cc65(0x2c9)],'side':_0x575b8[_0x54cc65(0x293)],'reverse':_0xebad0d[_0x54cc65(0x2b0)],'amount':_0x575b8[_0x54cc65(0x23a)],'filled':0x0,'price':_0x575b8[_0x54cc65(0x2c0)],'fee':_0x575b8['fee']}),_0xebad0d[_0x54cc65(0x21c)]=!![],_0xa5f599=_0x575b8[_0x54cc65(0x2f4)]);});const _0x2d3107=new Date()['getTime'](),_0x600a18=config[_0x1252f2(0x249)]==_0x1252f2(0x2d8)?validateOrderTimeout*0x3c*0x3e8:config[_0x1252f2(0x30c)]*0x3c*0x3e8;if(_0xa5f599+_0x600a18>_0x2d3107){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x176a5f=_0x1252f2;validateOrders(_0x176a5f(0x303));},_0xa5f599+_0x600a18-_0x2d3107);}else validateOrders(_0x1252f2(0x303));}function sendPortfolioTelegram(){const _0x17fd13=_0x60f999,_0x4a85f1=['EUR',_0x17fd13(0x2a6),_0x17fd13(0x2cc)],_0x1a223a=_0x4a85f1['includes'](config[_0x17fd13(0x286)])?0x2:0x8;let _0x397700='';if(config['showname'])_0x397700=config['botname']+_0x17fd13(0x2d1);else _0x397700=_0x17fd13(0x200)+botID+'\x20portfolio:\x20\x0a\x0a';_0x397700+=_0x17fd13(0x272),_0x397700+=_0x17fd13(0x295),_0x397700+=_0x17fd13(0x222),currentCoins[_0x17fd13(0x2e0)](_0x26f24a=>{const _0x12a68a=_0x17fd13;_0x397700+=_0x26f24a[_0x12a68a(0x2c9)][_0x12a68a(0x266)](0x7)+'|\x20'+formatPad(_0x26f24a[_0x12a68a(0x2ec)],0x2,0x6)+'|\x20'+formatPad(_0x26f24a['target'],0x2,0x6)+'|\x20'+formatPad(_0x26f24a[_0x12a68a(0x30a)]*0x64,0x2,0x6)+'\x0a';}),_0x397700+=_0x17fd13(0x214),process[_0x17fd13(0x2aa)]({'telegrammsg':_0x397700},_0x3a6971=>{});}function formatPad(_0x4f1c9c,_0x312674,_0x400f8b){const _0x1da60d=_0x60f999,_0x1a22ef=formatResultString(_0x4f1c9c,_0x312674);return _0x1a22ef?_0x1a22ef[_0x1da60d(0x294)](_0x400f8b):''['padStart'](_0x400f8b);}function logHistory(_0x393200,_0x55988e,_0x37593d=''){const _0xef4f8c=_0x60f999;let _0x307173={'time':getTimeStamp(),'type':_0x393200,'event':_0x55988e};dbLogs['get']('logs')[_0xef4f8c(0x28f)](_0x307173)[_0xef4f8c(0x27b)]();if(_0x37593d=='')_0x37593d=_0x55988e;proxyEmit(_0xef4f8c(0x2c5),{'log':_0x307173,'summary':_0x37593d}),process['send']({'telegram':{..._0x307173,'botname':config[_0xef4f8c(0x230)],'showname':config[_0xef4f8c(0x2e6)]}},_0x42814b=>{}),logging(''+_0x307173[_0xef4f8c(0x2c5)]);}function emitHistory(_0x4b2f44={}){const _0x36e6ac=_0x60f999;Object['keys'](_0x4b2f44)['length']==0x0&&(_0x4b2f44={'type':[_0x36e6ac(0x21c),_0x36e6ac(0x2c5)],'event':'','page':0x1});if(_0x4b2f44['type']['includes'](_0x36e6ac(0x2c5)))_0x4b2f44[_0x36e6ac(0x2e4)][_0x36e6ac(0x218)](_0x4b2f44[_0x36e6ac(0x2e4)]['indexOf']('event'),0x1,'error','success');if(dbLogs[_0x36e6ac(0x1f6)](_0x36e6ac(0x2bc))[_0x36e6ac(0x2f2)]()){let _0x356428=dbLogs['get'](_0x36e6ac(0x2bc))[_0x36e6ac(0x2ae)](_0x1404e2=>{const _0x8cd94b=_0x36e6ac;if(_0x4b2f44['type'][_0x8cd94b(0x1ea)]==0x0)return![];else return _0x4b2f44[_0x8cd94b(0x2e4)][_0x8cd94b(0x1f0)](_0x1404e2['type']);})[_0x36e6ac(0x2ae)](_0x123078=>{const _0x4b4d0d=_0x36e6ac;if(_0x4b2f44['event']=='')return!![];else return _0x123078[_0x4b4d0d(0x2c5)][_0x4b4d0d(0x2b6)]()[_0x4b4d0d(0x1f0)](_0x4b2f44[_0x4b4d0d(0x2c5)][_0x4b4d0d(0x2b6)]());})[_0x36e6ac(0x235)]('time'),_0x1df5e5=_0x356428[_0x36e6ac(0x2f2)]()['length'];_0x356428=_0x356428[_0x36e6ac(0x2b0)]()[_0x36e6ac(0x23c)]((_0x4b2f44[_0x36e6ac(0x21b)]-0x1)*logPageSize,_0x4b2f44[_0x36e6ac(0x21b)]*logPageSize-0x1)[_0x36e6ac(0x2b0)]()['value'](),proxyEmit(_0x36e6ac(0x291),{'logs':_0x356428,'total':_0x1df5e5});}else proxyEmit(_0x36e6ac(0x291),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x96e1ee){const _0x24fc56=_0x60f999;if(dbLogs['has'](_0x24fc56(0x2bc))[_0x24fc56(0x2f2)]()){const _0x50f30d=dbLogs['get'](_0x24fc56(0x2bc))[_0x24fc56(0x235)](_0x24fc56(0x252))[_0x24fc56(0x2ae)](_0xe17b86=>{const _0x332600=_0x24fc56;return _0xe17b86[_0x332600(0x2e4)]==_0x332600(0x21c);})[_0x24fc56(0x2f2)]();dbLogs[_0x24fc56(0x2da)](_0x24fc56(0x2bc))[_0x24fc56(0x2ee)]()['write'](),dbLogs[_0x24fc56(0x2da)](_0x24fc56(0x2bc))['assign'](_0x50f30d)['write'](),emitHistory(_0x96e1ee);}}async function pauseBot(_0x26fb79=''){const _0x50dec9=_0x60f999,_0x16c6d9=new Date()[_0x50dec9(0x2e9)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x16c6d9-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x50dec9(0x225)},_0x412599=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x50dec9(0x2e9)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x26fb79)_0x26fb79+=_0x50dec9(0x2b7);logHistory(_0x50dec9(0x208),_0x26fb79+_0x50dec9(0x28c)+pauseBotInterval/0xea60+_0x50dec9(0x284)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x53b8c0=_0x60f999;process[_0x53b8c0(0x2aa)]({'stop':_0x53b8c0(0x264)},_0x26d15a=>{}),await sleep(0x7d0);}async function handleError(_0xae2d79,_0x426cdf,_0x38c04d=''){const _0x2a4b38=_0x60f999;if(_0xae2d79[_0x2a4b38(0x20d)]()['includes']('DDoSProtection'))await pauseBot('Binance\x20API\x20blocked');else{if(_0xae2d79[_0x2a4b38(0x20d)]()[_0x2a4b38(0x1f0)](_0x2a4b38(0x254)))await pauseBot(_0x2a4b38(0x30e));else{if(_0xae2d79['toString']()[_0x2a4b38(0x1f0)]('RequestTimeout'))await pauseBot(_0x2a4b38(0x1e6));else{if(_0xae2d79[_0x2a4b38(0x20d)]()[_0x2a4b38(0x1f0)](_0x2a4b38(0x247)))logHistory(_0x2a4b38(0x208),_0x426cdf+_0x2a4b38(0x2f7)),logHistory(_0x2a4b38(0x208),_0x2a4b38(0x29d)),await killBot();else{if(_0xae2d79[_0x2a4b38(0x20d)]()[_0x2a4b38(0x1f0)](_0x2a4b38(0x297)))logHistory('error',_0x426cdf+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x2a4b38(0x208),_0x2a4b38(0x29d)),await killBot();else{if(_0xae2d79[_0x2a4b38(0x20d)]()['includes'](_0x2a4b38(0x227)))logHistory(_0x2a4b38(0x208),_0x426cdf+_0x2a4b38(0x2fa)),logHistory(_0x2a4b38(0x208),_0x2a4b38(0x29d)),await killBot();else{if(_0xae2d79[_0x2a4b38(0x20d)]()[_0x2a4b38(0x1f0)](_0x2a4b38(0x1f2)))logHistory(_0x2a4b38(0x208),_0x426cdf+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x2a4b38(0x208),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0xae2d79[_0x2a4b38(0x20d)]()[_0x2a4b38(0x1f0)](_0x2a4b38(0x250)))await pauseBot(_0x2a4b38(0x243)),process[_0x2a4b38(0x2aa)]({'stop':'restart'},_0x293ae3=>{});else _0xae2d79['toString']()['includes'](_0x2a4b38(0x2bb))?logHistory('error',_0x426cdf+_0x2a4b38(0x276)+_0x38c04d):(logging(_0x426cdf+_0x2a4b38(0x2ca),_0xae2d79),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function _0x5713(_0x2caac7,_0x4d4d88){const _0x5985fc=_0x51ea();return _0x5713=function(_0x26d1b0,_0x37de2a){_0x26d1b0=_0x26d1b0-0x1e5;let _0x51eae3=_0x5985fc[_0x26d1b0];return _0x51eae3;},_0x5713(_0x2caac7,_0x4d4d88);}function formatResult(_0x46d651,_0x52e6f1){const _0x27195c=_0x60f999;return parseFloat(_0x46d651[_0x27195c(0x2f3)](_0x52e6f1));}function formatResultTruncate(_0x499b37,_0x4109a8){const _0x472302=_0x60f999;let _0x31448d=formatResultString(_0x499b37,0xa),_0x4132dc=_0x31448d[_0x472302(0x270)]('.');return _0x4132dc!=-0x1&&(_0x31448d=_0x31448d[_0x472302(0x23c)](0x0,_0x4132dc+_0x4109a8+0x1)),Number(_0x31448d);}function formatResultString(_0x34d7c1,_0x212c58){const _0x1b07ab=_0x60f999;let _0x20c335;if(!(''+_0x34d7c1)['includes']('e'))_0x20c335=+(Math[_0x1b07ab(0x20a)](_0x34d7c1+'e+'+_0x212c58)+'e-'+_0x212c58);else{let _0x14ee56=(''+_0x34d7c1)[_0x1b07ab(0x2cf)]('e'),_0x35fcc8='';+_0x14ee56[0x1]+_0x212c58>0x0&&(_0x35fcc8='+'),_0x20c335=+(Math[_0x1b07ab(0x20a)](+_0x14ee56[0x0]+'e'+_0x35fcc8+(+_0x14ee56[0x1]+_0x212c58))+'e-'+_0x212c58);}return Number(_0x20c335)['toFixed'](_0x212c58);}function logging(_0x56971a,_0x3466db=''){const _0x16dd2d=_0x60f999;if(config[_0x16dd2d(0x2e6)])console[_0x16dd2d(0x224)](getTimeStamp()+':\x20'+config[_0x16dd2d(0x230)]+_0x16dd2d(0x2c3)+_0x56971a,_0x3466db);else console['log'](getTimeStamp()+_0x16dd2d(0x1ee)+botID+_0x16dd2d(0x2c3)+_0x56971a,_0x3466db);}function getServerTime(){const _0x238ff4=_0x60f999,_0x5c0963=new Date();return _0x5c0963[_0x238ff4(0x288)]()+'/'+(_0x5c0963[_0x238ff4(0x27d)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x5c0963[_0x238ff4(0x27a)]()['toString']()[_0x238ff4(0x294)](0x2,'0')+'\x20'+_0x5c0963['getHours']()[_0x238ff4(0x20d)]()['padStart'](0x2,'0')+':'+_0x5c0963[_0x238ff4(0x226)]()[_0x238ff4(0x20d)]()[_0x238ff4(0x294)](0x2,'0')+':'+_0x5c0963[_0x238ff4(0x26b)]()[_0x238ff4(0x20d)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x48d6b6=_0x60f999,_0x210116=shiftedTime();return _0x210116[_0x48d6b6(0x288)]()+'/'+(_0x210116['getMonth']()+0x1)[_0x48d6b6(0x20d)]()[_0x48d6b6(0x294)](0x2,'0')+'/'+_0x210116['getDate']()[_0x48d6b6(0x20d)]()[_0x48d6b6(0x294)](0x2,'0')+'\x20'+_0x210116[_0x48d6b6(0x1ef)]()[_0x48d6b6(0x20d)]()['padStart'](0x2,'0')+':'+_0x210116[_0x48d6b6(0x226)]()['toString']()['padStart'](0x2,'0')+':'+_0x210116[_0x48d6b6(0x26b)]()[_0x48d6b6(0x20d)]()['padStart'](0x2,'0');}function getDate(){const _0x33bf0f=_0x60f999,_0x44d280=shiftedTime();return _0x44d280[_0x33bf0f(0x288)]()+'/'+(_0x44d280['getMonth']()+0x1)[_0x33bf0f(0x20d)]()['padStart'](0x2,'0')+'/'+_0x44d280[_0x33bf0f(0x27a)]()[_0x33bf0f(0x20d)]()['padStart'](0x2,'0');}function getHour(){const _0x416eb8=_0x60f999,_0x52e4be=shiftedTime();return _0x52e4be[_0x416eb8(0x1ef)]()['toString']()[_0x416eb8(0x294)](0x2,'0');}function _0x51ea(){const _0x3f3eb2=['getCoins()','success','Unfilled\x20order(s)\x20canceled\x20after\x20','valid','startprice','market','number','get','2707323thRaVv','privateKey','Cooldown\x20ended\x20-\x20balancing\x20resumed','OrderNotFound','remainingSymbols','forEach','constructor','bb-settings.json','threshold','type','Order(s)\x20not\x20validated\x20after\x20','showname','bot','Binance\x20not\x20available\x20(1)','getTime','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','search','distribution','milliseconds','remove','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','headless','spot','value','toFixed','timestamp','replace','binance','\x20|\x20Binance\x20API\x20key\x20invalid','cancelOrder','trade','\x20|\x20Binance\x20API\x20secret\x20invalid','reconnected','\x20orders\x20in\x20less\x20than\x20','realized','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Limit\x20(low-margin)','limits','Crypt','starting-balance-','final',')\x20|\x20Error\x20details:\x20','accumulatedQuantity','subscribeSymbol24hrTicker','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','filled','\x20order:\x20','delta','changes','timeout','Limit\x20(high-margin)','Binance\x20not\x20available\x20(2)','cancelLoading','cancel','change','Binance\x20not\x20responding','sort','currency','formattedMessage','length','performance','wss://stream.binance.com:9443','find',':\x20Bot\x20','getHours','includes','eventType','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','5934240ztMqmF','date','min','has','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','hybrid-crypto-js','3641238CrWjPr','buys','loadSymbols()','decrypt','isArray','2.3.5','limit-low','Bot\x20','last','fetchBalance','argv','limit','binanceus','exchange','getPortfolio','error','lowdb','round','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','liquidity','toString','no\x20open\x20orders','startnumber','progress','recreateCoinResults()','abs','./version.json','</pre>','subscribeSpotUserDataStream','/backup/','fromCodePoint','splice','bot-','bb-secure.json','page','order','balances','symbols','subscribeSpotKline','ETH','wsMarket','-------------------------------\x0a','timeshift','log','restart','getMinutes','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','parseISO','parse','balancing\x20resumes\x20when\x20cooldown\x20ends','limit-high','concat','apiSecret','loadMarkets','isEqual','botname','YOYOW/','\x20has\x20a\x2024h\x20drop\x20of\x20','data','apiKey','sortBy','add','2.5.0','Order\x20filled:\x20','-performance.json','amount','storeHeadless','slice','writeFile','mkdirSync','entries','symbol','Manual\x20balancing\x20required:\x20','\x20-\x20bot\x20not\x20started','API\x20or\x20clock\x20sync\x20issue','coins','message','join','API-key\x20format\x20invalid','enabled','ordertype','BNB/','bid','version','sells','initial','cooldown','InvalidNonce','fee','time','8bBCWCS','ExchangeNotAvailable','ongoing','sell','stringify','storeConfiguration','orderId','datetime','001','emitHistory','\x20-\x20','11538930pIvIKy','Error:\x20Invalid\x20argument\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','configuration-stored','Executed\x20','placeOrder','kill','shift','padEnd','************','fetchClosedOrders','test','offset','getSeconds','defaults','function','Failed\x20to\x20load\x20coin\x20data\x20for\x20','outboundAccountPosition','indexOf','assign','<pre>','buy','\x20minutes\x20-\x20','startdate','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','deleteHistoryAlerts','170TjcIkv','Invalid\x20quantity','getDate','write','breakeven','getMonth','NANO/','excluded','createOrder','BTC','BNB','10cGYOJT','\x20minutes','starting-balances','basecoin','ticker','getFullYear','target','-results.json','getStartingBalances','Pausing\x20for\x20','initclient','placeOrder()','push','WebSockets(','event-history','total','side','padStart','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','yyyy/MM/dd','AuthenticationError','4894312bggrfG','ccxt','coin-loading-progress','(((.+)+)+)+$','No\x20more\x20open\x20orders\x20-\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','-config.json','recreate','exec','MIN_NOTIONAL','kline','close','cost','wsKey','BUSD','priceChangePercent','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','2999ewzxlU','send','emojisell','\x20hour','emojibuy','filter','XEM/BUSD','reverse','differenceInSeconds','fetchTickers','eur','running','max','toLowerCase','\x20|\x20','map','format','change24h','InsufficientFunds','logs','Order(s)\x20filled\x20-\x20','portfolio','Market','price','usd','255038xTSRLk','\x20>\x20','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','event','precision','eventTime','toggleBotMode','coin','\x20|\x20Error\x20details:\x20','set','USDT','configuration','cloneDeep','split','args','\x20portfolio:\x20\x0a\x0a','apply'];_0x51ea=function(){return _0x3f3eb2;};return _0x51ea();}function sleep(_0x4759e6){return new Promise(_0x34164c=>setTimeout(_0x34164c,_0x4759e6));}function shiftedTime(){const _0x582378=_0x60f999,_0x2df483=new Date();let _0x558399=_0x2df483;if(config&&config[_0x582378(0x223)]!==0x0)_0x558399=fns[_0x582378(0x236)](_0x2df483,{'hours':config[_0x582378(0x223)]});return _0x558399;}