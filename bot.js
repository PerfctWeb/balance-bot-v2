const _0x50d134=_0x331f;(function(_0x33262d,_0x78bd68){const _0x317a09=_0x331f,_0x357299=_0x33262d();while(!![]){try{const _0x4c7d26=-parseInt(_0x317a09(0x2b3))/0x1*(-parseInt(_0x317a09(0x225))/0x2)+-parseInt(_0x317a09(0x2d8))/0x3+-parseInt(_0x317a09(0x1e4))/0x4*(-parseInt(_0x317a09(0x264))/0x5)+-parseInt(_0x317a09(0x232))/0x6+-parseInt(_0x317a09(0x216))/0x7+-parseInt(_0x317a09(0x1f4))/0x8*(-parseInt(_0x317a09(0x2a9))/0x9)+parseInt(_0x317a09(0x2a0))/0xa;if(_0x4c7d26===_0x78bd68)break;else _0x357299['push'](_0x357299['shift']());}catch(_0xd1e04e){_0x357299['push'](_0x357299['shift']());}}}(_0x2ab0,0x1be3b));const _0x21527b=function(){let _0x58f024=!![];return function(_0x409d41,_0x3ea900){const _0x340e9c=_0x58f024?function(){const _0x4e4de6=_0x331f;if(_0x3ea900){const _0x3a663d=_0x3ea900[_0x4e4de6(0x293)](_0x409d41,arguments);return _0x3ea900=null,_0x3a663d;}}:function(){};return _0x58f024=![],_0x340e9c;};}(),_0x36b6de=_0x21527b(this,function(){const _0x21ef87=_0x331f;return _0x36b6de[_0x21ef87(0x288)]()[_0x21ef87(0x28d)]('(((.+)+)+)+$')[_0x21ef87(0x288)]()[_0x21ef87(0x2e4)](_0x36b6de)[_0x21ef87(0x28d)](_0x21ef87(0x2bb));});_0x36b6de();'use strict';const ccxt=require(_0x50d134(0x29e)),low=require(_0x50d134(0x23e)),FileSync=require(_0x50d134(0x261)),fs=require('fs'),fns=require(_0x50d134(0x250)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x50d134(0x27d)),Crypt=require(_0x50d134(0x2f6))['Crypt'];let exchange,wsClient;global[_0x50d134(0x243)]={},global[_0x50d134(0x2d6)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x50d134(0x2c5),_0x50d134(0x2af),'HOT/EUR',_0x50d134(0x2be),'NANO/','YOYOW/'];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],wstriggersset=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,recreationNeeded=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x50d134(0x22b))['version'],botID=process[_0x50d134(0x2cd)][0x2]||_0x50d134(0x29c),pattern=/^[0-9]{3}$/;!pattern[_0x50d134(0x304)](botID)&&(console[_0x50d134(0x220)]('Error:\x20Invalid\x20argument\x20'+botID+_0x50d134(0x244)),process[_0x50d134(0x280)](0x1));const userID=process[_0x50d134(0x2cd)][0x3]||'',configpath=userID?'./config/'+userID+'/':'./config/';!fs[_0x50d134(0x29f)](configpath)&&fs[_0x50d134(0x290)](configpath);const configfile=configpath+_0x50d134(0x278)+botID+'-config.json',logfile=configpath+_0x50d134(0x278)+botID+_0x50d134(0x237),performancefile=configpath+'bot-'+botID+_0x50d134(0x234),coinresultsfile=configpath+_0x50d134(0x278)+botID+_0x50d134(0x27c),settingsfile=configpath+_0x50d134(0x1ea),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x50d134(0x2d3),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x50d134(0x223)]({'logs':[]})[_0x50d134(0x2bf)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x50d134(0x223)]({'data':[]})[_0x50d134(0x2bf)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x50d134(0x223)]({'bot':[]})[_0x50d134(0x2bf)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x50d134(0x2bf)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x4e241a)=>{},'debug':(..._0x2e4c00)=>{},'notice':(..._0x57cc67)=>{},'info':(..._0x55acdd)=>{},'warning':(..._0x1dad0f)=>{},'error':async function(..._0x4e9fba){const _0x457932=_0x50d134,_0x5cb773=new Date()[_0x457932(0x20b)]();if(!lastErrorShown||_0x5cb773-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x457932(0x20b)]();let _0x55c1bd='';if(_0x4e9fba[0x0])_0x55c1bd+=_0x4e9fba[0x0];if(_0x4e9fba[0x1]&&_0x4e9fba[0x1][_0x457932(0x238)]&&_0x4e9fba[0x1]['error'][_0x457932(0x1e6)])_0x55c1bd+=_0x457932(0x2cf)+_0x4e9fba[0x1][_0x457932(0x238)][_0x457932(0x1e6)];logging('WebSockets('+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x55c1bd),await pauseBot('Binance\x20not\x20available\x20(1)');}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x50d134(0x276)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x50d134(0x1e0)]!=config[_0x50d134(0x1e0)]&&updateTimeshift(settings[_0x50d134(0x1e0)]);process[_0x50d134(0x2bc)]({'started':_0x50d134(0x2e8)},_0x3ece30=>{}),initializeProcessListeners();function proxyEmit(_0x57fea1,_0x163fca=null){const _0x17bba7=_0x50d134;process[_0x17bba7(0x2bc)]({'function':_0x57fea1,'args':_0x163fca},_0x4a4bab=>{});}function initializeProcessListeners(){const _0x5a3580=_0x50d134;process['on'](_0x5a3580(0x1e6),_0x2f6e95=>{const _0x3639b1=_0x5a3580;switch(Object[_0x3639b1(0x2cc)](_0x2f6e95)[0x0]){case _0x3639b1(0x1e0):_0x2f6e95[_0x3639b1(0x1e0)]!=undefined&&(settings[_0x3639b1(0x1e0)]=_0x2f6e95[_0x3639b1(0x1e0)],updateTimeshift(settings['timeshift']));break;case'function':switch(_0x2f6e95[_0x3639b1(0x2ee)]){case'initclient':initclient();break;case _0x3639b1(0x246):toggleBotMode();break;case'emitHistory':emitHistory(_0x2f6e95[_0x3639b1(0x277)]);break;case _0x3639b1(0x21f):deleteHistoryAlerts(_0x2f6e95[_0x3639b1(0x277)]);break;case _0x3639b1(0x2a2):getPortfolio(_0x2f6e95[_0x3639b1(0x277)]);break;case'storeConfiguration':storeConfiguration(_0x2f6e95['args']);break;case _0x3639b1(0x226):storeHeadless(_0x2f6e95[_0x3639b1(0x277)]);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x3639b1(0x260):placeOrder(_0x2f6e95['args']);break;case _0x3639b1(0x203):cancelLoading();break;case _0x3639b1(0x2b9):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x5105c8=_0x50d134;if(pidBalances)clearTimeout(pidBalances);if(config[_0x5105c8(0x210)]!=''){await initExchange(config[_0x5105c8(0x210)],config[_0x5105c8(0x222)]);let _0x1e6ea0=await loadSymbols();if(_0x1e6ea0){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x5105c8(0x263)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x22cb6d,_0x51d6ef){const _0x1bef26=_0x50d134,_0x186b93=ccxt[config[_0x1bef26(0x2eb)]];let _0x3b60c1;switch(config[_0x1bef26(0x2eb)]){case _0x1bef26(0x27d):_0x3b60c1=_0x1bef26(0x29d);break;case _0x1bef26(0x1dc):_0x3b60c1=_0x1bef26(0x2b4);break;default:_0x3b60c1=_0x1bef26(0x29d);}exchange=new _0x186b93({'apiKey':_0x22cb6d,'secret':_0x51d6ef,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x22cb6d,'api_secret':_0x51d6ef,'beautify':!![],'wsUrl':_0x3b60c1},logger);!wstriggersset&&(wstriggersset=!![],wsClient['on']('formattedMessage',_0x1090bc=>{const _0x2321d3=_0x1bef26;if(isWsFormattedKline(_0x1090bc)){global['ticker'][_0x1090bc[_0x2321d3(0x213)]['symbol']]=_0x1090bc[_0x2321d3(0x213)][_0x2321d3(0x282)];return;}else{if(isWsFormatted24hrTicker(_0x1090bc)){global['change'][_0x1090bc[_0x2321d3(0x258)]]=_0x1090bc[_0x2321d3(0x2c8)];return;}else{if(!Array['isArray'](_0x1090bc)&&_0x1090bc['wsKey'][_0x2321d3(0x259)](_0x2321d3(0x298))){if(_0x1090bc[_0x2321d3(0x26a)]['includes']('spot')){updateNumberCoins(_0x1090bc);return;}}}}}),wsClient['on'](_0x1bef26(0x217),async _0x1f6529=>{if(!botPaused)currentCoins=await getCoins(!![]);}));let _0x5916b5=config[_0x1bef26(0x2eb)]=='binanceus'?_0x1bef26(0x2b0):_0x1bef26(0x268),_0x475f79=config['basecoin']==_0x1bef26(0x1fc)?_0x1bef26(0x1fc):_0x1bef26(0x2ad);stablecoins={'eur':{'coin':''+_0x475f79+_0x5916b5,'symbol':_0x475f79+'/'+_0x5916b5},'usd':{'coin':_0x475f79+'USDT','symbol':_0x475f79+_0x1bef26(0x299)}};}async function loadSymbols(){const _0x53d3de=_0x50d134;let _0x1c613b;try{markets=await exchange[_0x53d3de(0x1e3)](),allSymbols=exchange[_0x53d3de(0x29b)][_0x53d3de(0x20f)](_0xe7c648=>{const _0x521474=_0x53d3de;let _0x32e82d=![];return exceptions[_0x521474(0x2fe)](_0x58da0b=>{const _0x23cdbc=_0x521474;if(_0xe7c648[_0x23cdbc(0x259)](_0x58da0b))_0x32e82d=!![];}),!_0x32e82d;}),_0x1c613b=!![];}catch(_0x1d4c35){await handleError(_0x1d4c35,_0x53d3de(0x2b6)),_0x1c613b=![];}return _0x1c613b;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x358505=_0x50d134;proxyEmit(_0x358505(0x1e8),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x358505(0x2c9),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2dba28=getNormalizedPerformance();emitPerformance(_0x2dba28),await getStartingBalances(_0x2dba28);}async function toggleBotMode(){const _0x4d1869=_0x50d134;let _0x18f943=dbConfig[_0x4d1869(0x301)](_0x4d1869(0x1fe))['find']({'botID':botID})[_0x4d1869(0x2c3)]();if(_0x18f943){const _0x4b91ab=!_0x18f943[_0x4d1869(0x1f0)];dbConfig[_0x4d1869(0x301)](_0x4d1869(0x1fe))[_0x4d1869(0x2e2)]({'botID':botID})['assign']({'headless':_0x4b91ab})[_0x4d1869(0x2bf)](),config[_0x4d1869(0x1f0)]=_0x4b91ab,proxyEmit(_0x4d1869(0x1e8),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x226661=_0x50d134;process[_0x226661(0x2bc)]({'updatebotmanager':!![]},_0x1503b8=>{});}function cleanws(){const _0x324221=_0x50d134;wsinitialized=![];ws1&&(ws1[_0x324221(0x2fe)](_0x1f5832=>{const _0x30de3a=_0x324221;try{wsClient[_0x30de3a(0x282)](_0x1f5832);}catch(_0x3862b4){}}),ws1=[]);if(ws2){try{wsClient[_0x324221(0x282)](ws2);}catch(_0x24d148){}ws2=null;}ws3&&(ws3[_0x324221(0x2fe)](_0x2ee78f=>{try{wsClient['close'](_0x2ee78f);}catch(_0xed6677){}}),ws3=[]);}async function initws(){const _0x2cf476=_0x50d134;cleanws();let _0x46320d=[];currentCoins[_0x2cf476(0x2fe)](_0x43d5f8=>{const _0x2f435f=_0x2cf476;if(_0x43d5f8[_0x2f435f(0x235)]!=config[_0x2f435f(0x233)])_0x46320d[_0x2f435f(0x2cb)](_0x43d5f8['symbol']);});if(!_0x46320d[_0x2cf476(0x259)](stablecoins[_0x2cf476(0x21c)][_0x2cf476(0x258)]))_0x46320d[_0x2cf476(0x2cb)](stablecoins[_0x2cf476(0x21c)][_0x2cf476(0x258)]);if(!_0x46320d[_0x2cf476(0x259)](stablecoins[_0x2cf476(0x295)][_0x2cf476(0x258)]))_0x46320d[_0x2cf476(0x2cb)](stablecoins[_0x2cf476(0x295)][_0x2cf476(0x258)]);if(!_0x46320d[_0x2cf476(0x259)](_0x2cf476(0x28a)+config[_0x2cf476(0x233)]))_0x46320d[_0x2cf476(0x2cb)](_0x2cf476(0x28a)+config[_0x2cf476(0x233)]);try{_0x46320d[_0x2cf476(0x2fe)]((_0x7695be,_0x520c15)=>{const _0x222128=_0x2cf476;ws1[_0x520c15]=wsClient['subscribeSpotKline'](noslash(_0x7695be),'1m'),ws3[_0x520c15]=wsClient[_0x222128(0x2d5)](noslash(_0x7695be),_0x222128(0x1f8));}),ws2=wsClient[_0x2cf476(0x2b8)]();}catch(_0x509b60){await handleError(_0x509b60,_0x2cf476(0x240));}let _0x54f9f9,_0x23f897=0x0;loading[_0x2cf476(0x211)]=[];let _0x345ea1=0x0;_0x46320d[_0x2cf476(0x2fe)](_0x4a02a2=>{const _0x361296=_0x2cf476;loading[_0x361296(0x211)][_0x361296(0x2cb)](_0x4a02a2);}),loadingCanceled=![];let _0x38151b=![];while(_0x54f9f9!=_0x46320d[_0x2cf476(0x263)]){_0x54f9f9=0x0,_0x46320d[_0x2cf476(0x2fe)](_0x43bdb4=>{const _0x228c75=_0x2cf476;global[_0x228c75(0x243)][noslash(_0x43bdb4)]&&(loading[_0x228c75(0x211)]=loading[_0x228c75(0x211)][_0x228c75(0x20f)](_0x4ac90e=>_0x4ac90e!=_0x43bdb4),_0x54f9f9++);}),loading[_0x2cf476(0x200)]=Math['round'](_0x54f9f9/_0x46320d[_0x2cf476(0x263)]*0x64);loading[_0x2cf476(0x200)]!=0x64&&(_0x345ea1>0x1e*0x5&&(loading[_0x2cf476(0x262)]=!![],emitLoadingProgress()),_0x345ea1>0x3c*0x5&&!_0x38151b&&(_0x38151b=!![],logHistory(_0x2cf476(0x238),_0x2cf476(0x272)+loading['remainingSymbols']+_0x2cf476(0x25f))));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x54f9f9!=_0x23f897&&(_0x23f897=_0x54f9f9,emitLoadingProgress()),_0x345ea1++,await sleep(0xc8);}_0x38151b&&logHistory(_0x2cf476(0x273),_0x2cf476(0x2ac));if(_0x54f9f9==_0x46320d[_0x2cf476(0x263)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x6d921=_0x50d134;proxyEmit(_0x6d921(0x241),loading);}async function getFiat(){const _0x410b73=_0x50d134;let _0x1c258a=0x0,_0x4cf0d4=0x0;try{_0x1c258a=global[_0x410b73(0x243)][stablecoins[_0x410b73(0x21c)][_0x410b73(0x235)]],_0x4cf0d4=global[_0x410b73(0x243)][stablecoins[_0x410b73(0x295)][_0x410b73(0x235)]];}catch(_0x56cb1c){await handleError(_0x56cb1c,_0x410b73(0x306));}return{'eur':Number(_0x1c258a),'usd':Number(_0x4cf0d4)};}function setStartDatePerformance(){const _0xdf68dc=_0x50d134;if(config&&config[_0xdf68dc(0x2ff)][0x0][_0xdf68dc(0x297)][_0xdf68dc(0x263)]!=0x0){const _0x32478a=config[_0xdf68dc(0x2ff)][0x0][_0xdf68dc(0x297)];dbPerformance['get'](_0xdf68dc(0x251))[_0xdf68dc(0x2e2)]({'date':config[_0xdf68dc(0x2a5)]})[_0xdf68dc(0x1e2)]({'coins':_0x32478a})['write']();}}async function recreateCoinResults(){const _0x3d16d7=_0x50d134;let _0x77721b,_0x286386=[];try{const _0x2966a3=fns[_0x3d16d7(0x2e1)](fns['parseISO'](config[_0x3d16d7(0x2a5)][_0x3d16d7(0x212)](/\//g,'-')),_0x3d16d7(0x27b));for(const _0x145f1a of currentCoins){if(_0x145f1a[_0x3d16d7(0x235)]!=config[_0x3d16d7(0x233)]){let _0x4f4cef=0x0,_0x133f65,_0x5cc36d;_0x77721b=await getAllEventOrders(_0x145f1a[_0x3d16d7(0x258)]);if(_0x77721b[_0x3d16d7(0x263)]>0x0)_0x77721b[_0x3d16d7(0x2fe)](_0x4fabb2=>{const _0x201c09=_0x3d16d7,_0x2f04d5=_0x145f1a['symbol'][_0x201c09(0x259)](config['basecoin']+'/');_0x286386[_0x201c09(0x2cb)]({'datetime':_0x4fabb2[_0x201c09(0x1ec)],'coin':_0x145f1a[_0x201c09(0x235)],'symbol':_0x145f1a[_0x201c09(0x258)],'side':_0x4fabb2[_0x201c09(0x2da)],'reverse':_0x2f04d5,'amount':formatResult(_0x4fabb2['filled'],0x8),'filled':formatResult(_0x4fabb2[_0x201c09(0x248)],0x8),'price':formatResult(_0x4fabb2[_0x201c09(0x269)],0x8)}),_0x4f4cef=_0x4fabb2[_0x201c09(0x2da)]==_0x201c09(0x28e)?_0x4f4cef+_0x4fabb2[_0x201c09(0x248)]:_0x4f4cef-_0x4fabb2[_0x201c09(0x248)];if(!_0x5cc36d)_0x5cc36d=_0x4fabb2['price'];});_0x133f65=_0x145f1a[_0x3d16d7(0x2f2)]-_0x4f4cef;let _0x805b80;config['liquidity'][_0x3d16d7(0x2fe)](_0x371867=>{const _0x32241d=_0x3d16d7;!_0x805b80&&(_0x805b80=_0x371867['changes']['find'](_0x45ef98=>_0x45ef98[_0x32241d(0x235)]==_0x145f1a[_0x32241d(0x235)]),_0x805b80&&(_0x133f65=_0x805b80[_0x32241d(0x2f2)],_0x5cc36d=_0x805b80[_0x32241d(0x269)]));});let _0x352dd9=dbCoinResults[_0x3d16d7(0x301)](_0x3d16d7(0x29a))['find']({'coin':_0x145f1a[_0x3d16d7(0x235)]})[_0x3d16d7(0x2c3)]();_0x352dd9={'coin':_0x145f1a[_0x3d16d7(0x235)],'number':_0x133f65,'breakeven':_0x5cc36d,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3d16d7(0x301)](_0x3d16d7(0x29a))['find']({'coin':_0x145f1a['coin']})[_0x3d16d7(0x1e2)](_0x352dd9)[_0x3d16d7(0x2bf)]();}}_0x286386[_0x3d16d7(0x2bd)]((_0x336795,_0x5a95d9)=>_0x336795[_0x3d16d7(0x1ec)]>_0x5a95d9[_0x3d16d7(0x1ec)]?0x1:_0x5a95d9[_0x3d16d7(0x1ec)]>_0x336795[_0x3d16d7(0x1ec)]?-0x1:0x0);let _0x434cc5=0x0;for(let _0x32ebd3 of _0x286386){await updateCoinResults(_0x32ebd3,!![]);}}catch(_0x42d939){await handleError(_0x42d939,_0x3d16d7(0x245));}}async function getAllEventOrders(_0x14dd38){const _0x2a5371=_0x50d134;let _0x163f35=[],_0x468be2=dbLogs[_0x2a5371(0x301)](_0x2a5371(0x249))[_0x2a5371(0x20f)](_0x61802e=>{const _0x5dca4e=_0x2a5371,_0x2dd8fa=_0x61802e[_0x5dca4e(0x1f7)][_0x5dca4e(0x2c2)]();return _0x2dd8fa['includes'](_0x14dd38['toLowerCase']())&&(_0x2dd8fa[_0x5dca4e(0x259)](_0x5dca4e(0x2fc))&&_0x2dd8fa[_0x5dca4e(0x259)](_0x5dca4e(0x2e5))||_0x2dd8fa['includes']('filled')&&_0x2dd8fa['includes'](_0x5dca4e(0x2e5)));})[_0x2a5371(0x2e3)](_0x2a5371(0x1fa))[_0x2a5371(0x2c3)]();return _0x468be2['forEach'](_0x42e746=>{const _0x50157a=_0x2a5371,_0x5e8eab=_0x42e746[_0x50157a(0x1f7)][_0x50157a(0x259)](_0x50157a(0x23a))?_0x50157a(0x23a):'buy',_0x33eed4=/#([0-9]|\.)+\s/i,_0x38e061=Number(_0x33eed4[_0x50157a(0x2a6)](_0x42e746[_0x50157a(0x1f7)])[0x0][_0x50157a(0x202)](0x1)),_0xd714ef=/@([0-9]|\.)+$/i,_0x33a016=Number(_0xd714ef[_0x50157a(0x2a6)](_0x42e746[_0x50157a(0x1f7)])[0x0][_0x50157a(0x202)](0x1));_0x163f35[_0x50157a(0x2cb)]({'datetime':_0x42e746[_0x50157a(0x1fa)],'coin':symbolToCoin(_0x14dd38),'symbol':_0x14dd38,'side':_0x5e8eab,'amount':_0x38e061,'filled':_0x38e061,'price':_0x33a016});}),_0x163f35;}async function getAllOrders(_0x505c1c,_0x54ca55){const _0x32fa6d=_0x50d134;let _0x58d73c=[];while(_0x54ca55<exchange['milliseconds']()){const _0x1749a9=0x1f4,_0xb5cc98=await exchange[_0x32fa6d(0x2ef)](_0x505c1c,_0x54ca55,_0x1749a9);if(_0xb5cc98[_0x32fa6d(0x263)])_0x54ca55=_0xb5cc98[_0xb5cc98[_0x32fa6d(0x263)]-0x1][_0x32fa6d(0x26e)]+0x1,_0x58d73c=_0x58d73c['concat'](_0xb5cc98);else break;}return _0x58d73c;}async function validate24hChanges(){const _0x5f4aea=_0x50d134;let _0x382902;for(const _0x49e61b of currentCoins){if(_0x49e61b[_0x5f4aea(0x235)]!=config['basecoin']){let _0x542bd7;_0x49e61b[_0x5f4aea(0x1ff)]?_0x542bd7=formatResult((0x1/(global[_0x5f4aea(0x2d6)][noslash(_0x49e61b[_0x5f4aea(0x258)])]/0x64+0x1)-0x1)*0x64,0x3):_0x542bd7=global['change'][noslash(_0x49e61b[_0x5f4aea(0x258)])],_0x542bd7<config[_0x5f4aea(0x2e9)]&&(logHistory(_0x5f4aea(0x238),_0x49e61b['coin']+_0x5f4aea(0x229)+_0x542bd7+'%'),logHistory('error',_0x5f4aea(0x206)),logHistory(_0x5f4aea(0x238),_0x5f4aea(0x270)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x32dbed=_0x50d134;let _0x5d871d=dbLogs[_0x32dbed(0x301)](_0x32dbed(0x1eb))[_0x32dbed(0x2c3)]();if(_0x5d871d!='2.3.5'){dbLogs[_0x32dbed(0x2d2)](_0x32dbed(0x1eb),_0x32dbed(0x1f6))[_0x32dbed(0x2bf)]();let _0x56c46a=[];const _0x2a061a=dbLogs[_0x32dbed(0x301)](_0x32dbed(0x249))['value']();_0x2a061a[_0x32dbed(0x2fe)](_0x331de2=>{const _0x593b16=_0x32dbed;_0x56c46a['push']({'time':_0x331de2['time'],'type':_0x331de2[_0x593b16(0x1de)],'event':_0x331de2[_0x593b16(0x1f7)]});}),dbLogs['get'](_0x32dbed(0x249))[_0x32dbed(0x1e2)](_0x56c46a)[_0x32dbed(0x2bf)]();}let _0x7560=dbConfig[_0x32dbed(0x301)](_0x32dbed(0x1eb))[_0x32dbed(0x2c3)]();if(_0x7560!=_0x32dbed(0x1f6)){dbConfig[_0x32dbed(0x2d2)](_0x32dbed(0x1eb),'2.3.5')[_0x32dbed(0x2bf)]();let _0x10890c=dbConfig[_0x32dbed(0x301)]('bot')[_0x32dbed(0x2e2)]({'botID':botID})[_0x32dbed(0x2c3)]();if(_0x10890c){let _0x39e3dc=[];_0x10890c['portfolio']['forEach'](_0x158e47=>{const _0x11dd76=_0x32dbed;_0x39e3dc[_0x11dd76(0x2cb)]({'coin':_0x158e47[_0x11dd76(0x235)],'number':_0x158e47['startnumber'],'price':_0x158e47[_0x11dd76(0x23c)]}),delete _0x158e47[_0x11dd76(0x2d9)],delete _0x158e47[_0x11dd76(0x23c)];});if(_0x39e3dc[_0x32dbed(0x263)]!==0x0)fs['writeFile'](configbackuppath+(_0x32dbed(0x2f3)+botID+_0x32dbed(0x204)),JSON[_0x32dbed(0x2ae)](_0x39e3dc,null,0x4),function(_0x49464b){if(_0x49464b){}});const _0x335b6f=(_0x5a5e8e,_0x39b2da)=>{const _0x1a98c6=_0x32dbed;let _0x1065c5=[];_0x39b2da[_0x1a98c6(0x2fe)](_0x36a74b=>{const _0x2be7d7=_0x1a98c6,_0x350f35=_0x5a5e8e[_0x2be7d7(0x2e2)](_0x3ffe0b=>_0x3ffe0b[_0x2be7d7(0x235)]==_0x36a74b[_0x2be7d7(0x235)]);if(!_0x350f35)_0x1065c5['push'](_0x36a74b);});let _0x54d4ae=[];return _0x5a5e8e['forEach'](_0x2f08d0=>{const _0x52acf3=_0x1a98c6,_0xb6e807=_0x39b2da[_0x52acf3(0x2e2)](_0x48e925=>_0x48e925[_0x52acf3(0x235)]==_0x2f08d0[_0x52acf3(0x235)]);if(!_0xb6e807||_0xb6e807[_0x52acf3(0x2f2)]==0x0&&_0x2f08d0['number']!=0x0)_0x54d4ae[_0x52acf3(0x2cb)](_0x2f08d0);}),{'missingDay1':_0x1065c5,'notInDay2':_0x54d4ae};},_0x5c20bd=dbPerformance[_0x32dbed(0x301)]('data')[_0x32dbed(0x209)]()[_0x32dbed(0x2c3)]();if(_0x5c20bd[_0x32dbed(0x263)]>0x1){const {missingDay1:_0x3d9961,notInDay2:_0x546fec}=_0x335b6f(_0x39e3dc,_0x5c20bd[0x1][_0x32dbed(0x29a)]);_0x39e3dc=[..._0x39e3dc,..._0x3d9961],_0x546fec[_0x32dbed(0x2fe)](_0x532466=>{const _0x4f8f1d=_0x32dbed;let _0x2c1580=_0x39e3dc['findIndex'](_0x107b3c=>_0x107b3c[_0x4f8f1d(0x235)]==_0x532466[_0x4f8f1d(0x235)]);_0x2c1580!=-0x1&&_0x39e3dc[_0x4f8f1d(0x236)](_0x2c1580,0x1);});}_0x39e3dc[_0x32dbed(0x2bd)]((_0x4eae1e,_0x2c8cfb)=>_0x4eae1e[_0x32dbed(0x235)]>_0x2c8cfb[_0x32dbed(0x235)]?0x1:_0x2c8cfb['coin']>_0x4eae1e[_0x32dbed(0x235)]?-0x1:0x0);let _0x40901f=[{'date':_0x10890c['startdate'],'changes':_0x39e3dc}];_0x5c20bd[_0x32dbed(0x263)]>0x2&&_0x5c20bd[_0x32dbed(0x2fe)]((_0x2b276c,_0x5c68b5)=>{const _0x5b6616=_0x32dbed;if(_0x5c68b5>0x0&&_0x5c68b5<_0x5c20bd[_0x5b6616(0x263)]-0x1){const {missingDay1:_0x9ba80c,notInDay2:_0x5bcf17}=_0x335b6f(_0x5c20bd[_0x5c68b5][_0x5b6616(0x29a)],_0x5c20bd[_0x5c68b5+0x1][_0x5b6616(0x29a)]);_0x39e3dc=[],(_0x9ba80c[_0x5b6616(0x263)]!=0x0||_0x5bcf17['length']!=0x0)&&(_0x9ba80c['length']!=0x0&&_0x39e3dc[_0x5b6616(0x2cb)](..._0x9ba80c),_0x5bcf17[_0x5b6616(0x263)]!=0x0&&(_0x5bcf17[_0x5b6616(0x2fe)](_0x2439e5=>{const _0x589bd2=_0x5b6616;_0x2439e5[_0x589bd2(0x2f2)]=-_0x2439e5[_0x589bd2(0x2f2)];}),_0x39e3dc['push'](..._0x5bcf17)),_0x39e3dc[_0x5b6616(0x2bd)]((_0x348fdc,_0x42656a)=>_0x348fdc[_0x5b6616(0x235)]>_0x42656a[_0x5b6616(0x235)]?0x1:_0x42656a[_0x5b6616(0x235)]>_0x348fdc[_0x5b6616(0x235)]?-0x1:0x0),_0x40901f[_0x5b6616(0x2cb)]({'date':_0x5c20bd[_0x5c68b5+0x1][_0x5b6616(0x1e5)],'changes':_0x39e3dc}));}}),dbConfig['get'](_0x32dbed(0x1fe))[_0x32dbed(0x2e2)]({'botID':botID})[_0x32dbed(0x1e2)]({..._0x10890c,'liquidity':_0x40901f})['write']();}}config=getConfiguration(botID);let _0x59eefd=dbPerformance[_0x32dbed(0x301)](_0x32dbed(0x1eb))[_0x32dbed(0x2c3)]();_0x59eefd!=_0x32dbed(0x1f6)&&(dbPerformance[_0x32dbed(0x2d2)](_0x32dbed(0x1eb),_0x32dbed(0x1f6))[_0x32dbed(0x2bf)](),setStartDatePerformance());let _0x4dea06=dbCoinResults[_0x32dbed(0x301)]('version')[_0x32dbed(0x2c3)]();if(_0x4dea06!=_0x32dbed(0x2ed)){dbCoinResults[_0x32dbed(0x2d2)](_0x32dbed(0x1eb),'2.5.0')[_0x32dbed(0x2bf)]();let _0x2fe5d6=dbCoinResults[_0x32dbed(0x301)](_0x32dbed(0x29a))[_0x32dbed(0x2c3)]();if(_0x2fe5d6[_0x32dbed(0x263)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x540586){const _0x184484=_0x50d134;let _0x938b05=dbConfig[_0x184484(0x301)](_0x184484(0x1fe))[_0x184484(0x2e2)]({'botID':_0x540586})[_0x184484(0x2c3)]();if(_0x938b05){let _0x1713ad=![];typeof _0x938b05[_0x184484(0x2c1)]=='string'&&(_0x938b05={..._0x938b05,'threshold':Number(_0x938b05['threshold'])},_0x1713ad=!![]),_0x938b05[_0x184484(0x2e9)]==null&&(_0x938b05={..._0x938b05,'change24h':-0x14},_0x1713ad=!![]),_0x1713ad&&(_0x938b05={'botID':_0x938b05[_0x184484(0x2e7)],'exchange':_0x938b05[_0x184484(0x2eb)],'apiKey':_0x938b05[_0x184484(0x210)],'apiSecret':_0x938b05[_0x184484(0x222)],'basecoin':_0x938b05['basecoin'],'botname':_0x938b05[_0x184484(0x252)],'showname':_0x938b05[_0x184484(0x271)],'threshold':_0x938b05[_0x184484(0x2c1)],'ordertype':_0x938b05[_0x184484(0x219)],'timeout':_0x938b05[_0x184484(0x262)],'startdate':_0x938b05[_0x184484(0x2a5)],'recreate':_0x938b05[_0x184484(0x2a8)],'timeshift':_0x938b05[_0x184484(0x1e0)],'headless':_0x938b05[_0x184484(0x1f0)],'cooldown':_0x938b05[_0x184484(0x25e)],'change24h':_0x938b05[_0x184484(0x2e9)],'emojibuy':_0x938b05['emojibuy'],'emojisell':_0x938b05[_0x184484(0x1fd)],'portfolio':_0x938b05['portfolio'],'liquidity':_0x938b05[_0x184484(0x2ff)]},dbConfig[_0x184484(0x301)](_0x184484(0x1fe))[_0x184484(0x21a)]()[_0x184484(0x2bf)](),dbConfig['get'](_0x184484(0x1fe))[_0x184484(0x2cb)](_0x938b05)['write']());}else _0x938b05={'botID':_0x540586,'exchange':_0x184484(0x27d),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x184484(0x1f5)+_0x540586,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x184484(0x1e0)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x938b05;}function emittedConfiguration(){const _0x3542c0=_0x50d134;let _0x8bf8c9;return config[_0x3542c0(0x210)]==''?_0x8bf8c9=config:_0x8bf8c9={...config,'apiKey':_0x3542c0(0x1fb),'apiSecret':_0x3542c0(0x1fb)},_0x8bf8c9;}function getSettings(){const _0x2caec3=_0x50d134;return dbSettings[_0x2caec3(0x301)](_0x2caec3(0x23b))[_0x2caec3(0x2c3)]();}function getSecure(){const _0x23a4db=_0x50d134;return dbSecure[_0x23a4db(0x301)](_0x23a4db(0x20a))[_0x23a4db(0x2c3)]()||{};}function updateTimeshift(_0x56ebe0){const _0x180549=_0x50d134;let _0x3c367a=dbConfig[_0x180549(0x301)](_0x180549(0x1fe))[_0x180549(0x2e2)]({'botID':botID})[_0x180549(0x2c3)]();_0x3c367a&&dbConfig[_0x180549(0x301)](_0x180549(0x1fe))[_0x180549(0x2e2)]({'botID':botID})['assign']({'timeshift':_0x56ebe0})[_0x180549(0x2bf)](),config[_0x180549(0x1e0)]=_0x56ebe0,proxyEmit(_0x180549(0x1e8),emittedConfiguration());}async function storeConfiguration(_0x1e6ea2){const _0x32fdd8=_0x50d134;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x591f9d=dbConfig[_0x32fdd8(0x301)](_0x32fdd8(0x1fe))[_0x32fdd8(0x2e2)]({'botID':botID})[_0x32fdd8(0x2c3)]();_0x1e6ea2={..._0x1e6ea2,'apiKey':crypt[_0x32fdd8(0x274)](secure['privateKey'],_0x1e6ea2[_0x32fdd8(0x210)])['message'],'apiSecret':crypt['decrypt'](secure[_0x32fdd8(0x2b7)],_0x1e6ea2[_0x32fdd8(0x222)])[_0x32fdd8(0x1e6)]};if(_0x591f9d){if(_0x1e6ea2['apiKey']=='************')_0x1e6ea2[_0x32fdd8(0x210)]=config['apiKey'];if(_0x1e6ea2['apiSecret']==_0x32fdd8(0x1fb))_0x1e6ea2[_0x32fdd8(0x222)]=config[_0x32fdd8(0x222)];dbConfig[_0x32fdd8(0x301)](_0x32fdd8(0x1fe))['find']({'botID':botID})[_0x32fdd8(0x1e2)](_0x1e6ea2)[_0x32fdd8(0x2bf)]();}else dbConfig[_0x32fdd8(0x301)](_0x32fdd8(0x1fe))[_0x32fdd8(0x2cb)](_0x1e6ea2)[_0x32fdd8(0x2bf)](),process[_0x32fdd8(0x2bc)]({'status':_0x32fdd8(0x2db),'live':'running'},_0x49481f=>{});config={..._0x1e6ea2},setStartDatePerformance(),process[_0x32fdd8(0x2bc)]({'botname':_0x1e6ea2[_0x32fdd8(0x252)]},_0x386942=>{}),updateBotManager();const _0x2c6c0d=getNormalizedPerformance();getStartingBalances(_0x2c6c0d),emitPerformance(_0x2c6c0d),proxyEmit('configuration-stored'),await initCoinResults(),reset();}function _0x2ab0(){const _0x2518fb=['symbol','includes','\x20|\x20Binance\x20API\x20key\x20invalid','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','entries','join','cooldown','\x20-\x20bot\x20not\x20started','placeOrder','lowdb/adapters/FileSync','timeout','length','695llXUeg','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Binance\x20not\x20responding','Order(s)\x20validated\x20-\x20','EUR','price','wsMarket','distribution','precision','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','timestamp','currency','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','showname','Failed\x20to\x20load\x20coin\x20data\x20for\x20','success','decrypt','padEnd','RSA-OAEP','args','bot-','performance','target','yyyy-MM-dd\x27T\x27HH:mm:ss','-results.json','binance','Binance\x20API\x20key\x20is\x20invalid','</pre>','exit','MIN_NOTIONAL','close','has','Binance\x20API\x20secret\x20is\x20invalid','fetchTickers','API-key\x20format\x20invalid','Market','toString','InvalidNonce','BNB/','cancelOrders()','round','search','buy','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','mkdirSync','\x20>\x20','cost','apply','getMonth','usd','Unfilled\x20order(s)\x20canceled\x20after\x20','changes','userData','/USDT','coins','symbols','001','wss://stream.binance.com:9443','ccxt','existsSync','2224270idRQTS','getFullYear','getPortfolio','trade','map','startdate','exec','commission','recreate','36NeXkZv','valid','createOrder','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','BTC','stringify','HOT/BTC','USDT','ongoing','limit-low','1613HueeIB','wss://stream.binance.us:9443','\x20hour','loadSymbols()','privateKey','subscribeSpotUserDataStream','sendPortfolioTelegram','offset','(((.+)+)+)+$','send','sort','XEM/BUSD','write','last','threshold','toLowerCase','value','realized','DAI/','breakeven','balancing\x20resumed','priceChangePercent','balances','getSeconds','push','keys','argv','restart','\x20-\x20','starting-balances','-------------------------------\x0a','set','/backup/','amount','subscribeSymbol24hrTicker','change','portfolio','395295zzphWZ','startnumber','side','enabled','Order\x20amount\x20is\x20invalid:\x20',':\x20Bot\x20','cancelOrder','limit','fetchBalance','format','find','sortBy','constructor','order','RequestTimeout','botID','running','change24h','FILLED','exchange','BNB','2.5.0','function','fetchClosedOrders','padStart','getDate','number','starting-balance-','kill','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','hybrid-crypto-js','\x20|\x20','getMinutes','getCoins()','fee','Pausing\x20for\x20','market','\x20|\x20Binance\x20API\x20secret\x20invalid','forEach','liquidity','\x20|\x20Error\x20details:\x20','get','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','max','test','Limit\x20(low-margin)','getFiat()','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','toFixed','binanceus','emojibuy','type','initial','timeshift','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','assign','loadMarkets','4808GiEeKF','date','message','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','configuration','bid','bb-settings.json','version','datetime','abs','outboundAccountPosition','BUSD','headless','\x20portfolio:\x20\x0a\x0a','min','sells','169432WRhqQo','Bot\x20','2.3.5','event','spot','page','time','************','ETH','emojisell','bot','reverse','progress','getHours','slice','cancelLoading','.json','getPortfolio()','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','split','orderStatus','cloneDeep','secure','getTime','Cooldown\x20ended\x20-\x20balancing\x20resumed','yyyy/MM/dd','add','filter','apiKey','remainingSymbols','replace','kline','event-history','isEqual','1309763xjAxZb','reconnected','\x20minutes\x20-\x20','ordertype','remove','buys','eur','fees','Unknown\x20error\x20occured','deleteHistoryAlerts','log','\x20orders\x20in\x20less\x20than\x20','apiSecret','defaults','orderId','162MCabiG','storeHeadless','indexOf','fetchOpenOrders','\x20has\x20a\x2024h\x20drop\x20of\x20','ExchangeNotAvailable','./version.json','accumulatedQuantity','\x20minutes','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Executed\x20','final','1030590AvLdpo','basecoin','-performance.json','coin','splice','-events.json','error','no\x20open\x20orders','sell','settings','startprice','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','lowdb','eventTime','initws()','coin-loading-progress','delta','ticker',',\x20must\x20be\x20a\x203\x20digit\x20number','recreateCoinResults()','toggleBotMode','limit-high','filled','logs','limits','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20order:\x20','parse','eventType','date-fns','data','botname','AuthenticationError','commissionAsset','DDoSProtection','Order(s)\x20filled\x20-\x20','<pre>'];_0x2ab0=function(){return _0x2518fb;};return _0x2ab0();}function _0x331f(_0x55a7fa,_0x30974e){const _0x2be447=_0x2ab0();return _0x331f=function(_0x36b6de,_0x21527b){_0x36b6de=_0x36b6de-0x1db;let _0x2ab0c1=_0x2be447[_0x36b6de];return _0x2ab0c1;},_0x331f(_0x55a7fa,_0x30974e);}async function storeHeadless(_0x51abe4){const _0x3683e0=_0x50d134,_0x4eaa1f={...config,'headless':_0x51abe4['headless']};let _0x9f5117=dbConfig[_0x3683e0(0x301)](_0x3683e0(0x1fe))[_0x3683e0(0x2e2)]({'botID':botID})['value']();_0x9f5117&&dbConfig[_0x3683e0(0x301)](_0x3683e0(0x1fe))[_0x3683e0(0x2e2)]({'botID':botID})['assign'](_0x4eaa1f)['write'](),config={..._0x4eaa1f},updateBotManager(),proxyEmit(_0x3683e0(0x1e8),emittedConfiguration());}function noslash(_0x25244f){const _0xfba004=_0x50d134;return _0x25244f[_0xfba004(0x212)]('/','');}async function updateNumberCoins(_0x2bb49b){const _0x31ea11=_0x50d134;console['log'](_0x2bb49b);if(_0x2bb49b[_0x31ea11(0x24f)]&&_0x2bb49b[_0x31ea11(0x24f)]==_0x31ea11(0x1ee)){if(_0x2bb49b[_0x31ea11(0x23f)]!=lastOutboundEventTime){lastOutboundEventTime=_0x2bb49b[_0x31ea11(0x23f)],currentCoins=await getCoins(!![]);if(lastBalances){let _0x554e5c=JSON[_0x31ea11(0x24e)](lastBalances[_0x31ea11(0x2d7)]);_0x554e5c['forEach'](_0x5688d3=>{const _0x18bcf6=_0x31ea11,_0xec1a60=currentCoins['find'](_0x1a714a=>_0x1a714a['coin']==_0x5688d3[_0x18bcf6(0x235)]);if(_0xec1a60[_0x18bcf6(0x2e5)])_0x5688d3[_0x18bcf6(0x2e5)]=_0xec1a60[_0x18bcf6(0x2e5)];}),lastBalances={...lastBalances,'portfolio':JSON[_0x31ea11(0x2ae)](_0x554e5c)},proxyEmit(_0x31ea11(0x2c9),{'serverversion':serverversion,'balances':lastBalances});}}}if(_0x2bb49b['eventType']&&_0x2bb49b[_0x31ea11(0x24f)]=='executionReport'){if(_0x2bb49b[_0x31ea11(0x208)]==_0x31ea11(0x2ea)){if(lastOrders)lastOrders['forEach'](async _0x383007=>{const _0xa07cb1=_0x31ea11;_0x383007['orderId']==_0x2bb49b[_0xa07cb1(0x224)]&&_0x383007[_0xa07cb1(0x248)]==0x0&&(_0x383007[_0xa07cb1(0x269)]=_0x2bb49b['cumulativeQuoteAssetTransactedQty']/_0x2bb49b[_0xa07cb1(0x22c)],_0x383007[_0xa07cb1(0x248)]=_0x2bb49b[_0xa07cb1(0x22c)],_0x383007['fee']={'cost':_0x2bb49b[_0xa07cb1(0x2a7)],'currency':_0x2bb49b[_0xa07cb1(0x254)]},await validateOrders(),await updateCoinResults(_0x383007));});}}}async function getCoins(_0x443c25=![],_0x44938e=!![],_0x905f6b=config['basecoin']){const _0x1a821e=_0x50d134;let _0x237fd1,_0x57d2b0=[],_0x4bf6f2=[],_0x38e13a=[];try{_0x237fd1=await exchange[_0x1a821e(0x2e0)](),mybalances=_0x237fd1['total'];if(!_0x44938e)for(const [_0x500607,_0x26c0e3]of Object[_0x1a821e(0x25c)](mybalances)){_0x38e13a[_0x1a821e(0x2cb)](_0x500607);}else config[_0x1a821e(0x2d7)][_0x1a821e(0x2fe)](_0x5112c1=>{const _0xacadeb=_0x1a821e;if(!_0x5112c1['excluded'])_0x38e13a[_0xacadeb(0x2cb)](_0x5112c1[_0xacadeb(0x235)]);});if(_0x905f6b=='')for(const [_0x322751,_0x4a1a17]of Object[_0x1a821e(0x25c)](mybalances)){_0x4a1a17[_0x1a821e(0x288)]()!=0x0&&_0x4bf6f2['push']({'coin':_0x322751});}else{let _0x2bf894=![],_0x42ef03;allOpenOrders=[];for(const [_0x2954fa,_0x1e664b]of Object['entries'](mybalances)){if(_0x38e13a['includes'](_0x2954fa)){const _0x1f6475=config[_0x1a821e(0x2d7)][_0x1a821e(0x2e2)](_0x1b5ef0=>_0x1b5ef0['coin']==_0x2954fa),_0x5de78a=_0x2954fa+'/'+_0x905f6b,_0xd31f90=_0x905f6b+'/'+_0x2954fa;_0x2bf894=![];if((_0x1e664b['toString']()!=0x0||_0x1f6475)&&(allSymbols[_0x1a821e(0x259)](_0x5de78a)||_0x2954fa==_0x905f6b))_0x2954fa!=_0x905f6b&&(_0x57d2b0[_0x1a821e(0x2cb)](_0x5de78a),_0x443c25&&(_0x42ef03=await exchange[_0x1a821e(0x228)](_0x5de78a),_0x42ef03[_0x1a821e(0x263)]>0x0&&(_0x2bf894=!![]))),_0x4bf6f2['push']({'coin':_0x2954fa,'symbol':_0x5de78a,'reverse':![],'number':Math[_0x1a821e(0x303)](_0x1e664b+(_0x1f6475&&_0x1f6475['offset']||0x0),0x0),'order':_0x2bf894});else(_0x1e664b[_0x1a821e(0x288)]()!=0x0||_0x1f6475)&&allSymbols[_0x1a821e(0x259)](_0xd31f90)&&(_0x2954fa!=_0x905f6b&&(_0x57d2b0['push'](_0xd31f90),_0x443c25&&(_0x42ef03=await exchange[_0x1a821e(0x228)](_0xd31f90),_0x42ef03[_0x1a821e(0x263)]>0x0&&(_0x2bf894=!![]))),_0x4bf6f2[_0x1a821e(0x2cb)]({'coin':_0x2954fa,'symbol':_0xd31f90,'reverse':!![],'number':Math[_0x1a821e(0x303)](_0x1e664b+(_0x1f6475&&_0x1f6475[_0x1a821e(0x2ba)]||0x0),0x0),'order':_0x2bf894}));}_0x2bf894&&allOpenOrders[_0x1a821e(0x2cb)](_0x42ef03[0x0]);}_0x443c25&&allOpenOrders[_0x1a821e(0x263)]==0x0&&allOrdersPlaced&&(lockOrders&&(await sleep(0x7d0),validateOrders(_0x1a821e(0x239))));}}catch(_0x2f7835){if(!_0x44938e){if(_0x2f7835[_0x1a821e(0x288)]()[_0x1a821e(0x259)](_0x1a821e(0x286)))return logHistory(_0x1a821e(0x238),_0x1a821e(0x27e)),![];else{if(_0x2f7835[_0x1a821e(0x288)]()['includes']('AuthenticationError'))return logHistory(_0x1a821e(0x238),_0x1a821e(0x22e)),![];else{if(_0x2f7835[_0x1a821e(0x288)]()[_0x1a821e(0x259)](_0x1a821e(0x302)))return logHistory(_0x1a821e(0x238),_0x1a821e(0x284)),![];else await handleError(_0x2f7835,_0x1a821e(0x2f9));}}}else await handleError(_0x2f7835,_0x1a821e(0x2f9));}return _0x4bf6f2;}async function getPortfolio(_0x2830be){const _0x1b4784=_0x50d134;let _0x121fea=[],_0x3e6132=[],_0x10eb2e,_0x57ff11=[],_0x3e946b,_0x437668;_0x2830be[_0x1b4784(0x210)]===_0x1b4784(0x1fb)||_0x2830be['apiSecret']===_0x1b4784(0x1fb)?(_0x3e946b=config[_0x1b4784(0x210)],_0x437668=config['apiSecret']):(_0x3e946b=_0x2830be['apiKey'],_0x437668=_0x2830be[_0x1b4784(0x222)]);await initExchange(_0x3e946b,_0x437668);let _0x58d66c=await loadSymbols();if(_0x58d66c){_0x57ff11=await getCoins(![],![],_0x2830be[_0x1b4784(0x233)]);if(_0x57ff11===![])proxyEmit(_0x1b4784(0x2d7),![]);else{if(_0x2830be[_0x1b4784(0x233)]=='')proxyEmit('portfolio',_0x57ff11);else{_0x57ff11[_0x1b4784(0x2fe)](_0x25237e=>{const _0x446982=_0x1b4784;if(_0x25237e[_0x446982(0x235)]!=_0x2830be[_0x446982(0x233)])_0x121fea['push'](_0x25237e[_0x446982(0x258)]);});try{_0x3e6132=await exchange['fetchTickers'](_0x121fea);}catch(_0x2e8d3f){await handleError(_0x2e8d3f,_0x1b4784(0x205));}_0x57ff11[_0x1b4784(0x2fe)](_0x56b41a=>{const _0x525623=_0x1b4784;_0x56b41a[_0x525623(0x235)]!=_0x2830be[_0x525623(0x233)]?_0x10eb2e=_0x56b41a['reverse']?0x1/_0x3e6132[_0x56b41a[_0x525623(0x258)]][_0x525623(0x2c0)]:_0x3e6132[_0x56b41a['symbol']]['last']:_0x10eb2e=0x1,_0x56b41a['price']=formatResult(_0x10eb2e,0x8);}),proxyEmit(_0x1b4784(0x2d7),_0x57ff11);}}}else proxyEmit(_0x1b4784(0x2d7),![]);}function checkMinimums(_0x41fc3f){const _0x5d8f4e=_0x50d134;let _0x45f289=!![];const _0x2bd550=!_0x41fc3f[_0x5d8f4e(0x1ff)]?markets[_0x41fc3f[_0x5d8f4e(0x258)]][_0x5d8f4e(0x24a)][_0x5d8f4e(0x2d4)][_0x5d8f4e(0x1f2)]:markets[_0x41fc3f[_0x5d8f4e(0x258)]][_0x5d8f4e(0x24a)][_0x5d8f4e(0x292)]['min'],_0x2d9717=!_0x41fc3f['reverse']?markets[_0x41fc3f['symbol']]['limits'][_0x5d8f4e(0x292)]['min']:markets[_0x41fc3f['symbol']][_0x5d8f4e(0x24a)]['amount'][_0x5d8f4e(0x1f2)],_0x1f4380=markets[_0x41fc3f[_0x5d8f4e(0x258)]][_0x5d8f4e(0x26c)]['amount'];_0x41fc3f[_0x5d8f4e(0x2a3)]=formatResultTruncate(_0x41fc3f['trade'],_0x1f4380);if(Math[_0x5d8f4e(0x1ed)](_0x41fc3f[_0x5d8f4e(0x2a3)])<_0x2bd550)_0x45f289=![];if(Math['abs'](_0x41fc3f['trade'])*_0x41fc3f[_0x5d8f4e(0x2c0)]<_0x2d9717)_0x45f289=![];if(_0x41fc3f['side']=='sell'){let _0x3b802e=config[_0x5d8f4e(0x2d7)]['find'](_0xb5f350=>_0xb5f350[_0x5d8f4e(0x235)]==_0x41fc3f[_0x5d8f4e(0x235)]);if(_0x3b802e['offset']>0x0){if(Math[_0x5d8f4e(0x1ed)](_0x41fc3f['trade'])>_0x41fc3f[_0x5d8f4e(0x2f2)]-_0x3b802e['offset'])_0x45f289=![];}else{if(Math['abs'](_0x41fc3f[_0x5d8f4e(0x2a3)])>_0x41fc3f[_0x5d8f4e(0x2f2)])_0x45f289=![];}}if(_0x41fc3f[_0x5d8f4e(0x2da)]==_0x5d8f4e(0x28e)){let _0x5eba46=config[_0x5d8f4e(0x2d7)][_0x5d8f4e(0x2e2)](_0x428760=>_0x428760['coin']==config[_0x5d8f4e(0x233)]),_0x12a33c=currentCoins[_0x5d8f4e(0x2e2)](_0x1a69ec=>_0x1a69ec[_0x5d8f4e(0x235)]==config['basecoin']);if(_0x5eba46[_0x5d8f4e(0x2ba)]>0x0){if(Math[_0x5d8f4e(0x1ed)](_0x41fc3f[_0x5d8f4e(0x2a3)])*_0x41fc3f['last']>_0x12a33c[_0x5d8f4e(0x2f2)]-_0x5eba46[_0x5d8f4e(0x2ba)])_0x45f289=![];}else{if(Math[_0x5d8f4e(0x1ed)](_0x41fc3f[_0x5d8f4e(0x2a3)])*_0x41fc3f[_0x5d8f4e(0x2c0)]>_0x12a33c[_0x5d8f4e(0x2f2)])_0x45f289=![];}}return _0x45f289;}async function getBalances(){const _0x571238=_0x50d134;let _0x54ad35=0x0,_0x20fe15;const _0x2142a8=config[_0x571238(0x2c1)];if(config[_0x571238(0x1f0)]&&config[_0x571238(0x2e9)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x3e7013=>{const _0x4b825e=_0x571238;if(_0x3e7013[_0x4b825e(0x235)]!=config['basecoin']){let _0xcce007=global[_0x4b825e(0x243)][noslash(_0x3e7013[_0x4b825e(0x258)])];_0x20fe15=_0x3e7013[_0x4b825e(0x1ff)]?0x1/_0xcce007:_0xcce007;}else _0x20fe15=0x1;let _0x374ae9=_0x3e7013[_0x4b825e(0x2f2)]*_0x20fe15;_0x54ad35+=_0x374ae9,_0x3e7013[_0x4b825e(0x2c0)]=formatResult(Number(_0x20fe15),0x8),_0x3e7013[_0x4b825e(0x2c3)]=_0x374ae9;}),currentCoins['forEach'](_0x45497a=>{const _0x3233e9=_0x571238;let _0x3e0c94=config[_0x3233e9(0x2d7)][_0x3233e9(0x2e2)](_0x2945e8=>_0x2945e8[_0x3233e9(0x235)]==_0x45497a[_0x3233e9(0x235)]),_0x462af0=Number(_0x3e0c94['distribution']),_0x22738d=_0x45497a['value']/_0x54ad35*0x64,_0x4d7c39=_0x462af0*_0x54ad35/0x64/_0x45497a[_0x3233e9(0x2c0)]-_0x45497a[_0x3233e9(0x2f2)];_0x45497a['distribution']=formatResult(_0x22738d,0x3),_0x45497a[_0x3233e9(0x27a)]=formatResult(_0x462af0,0x3),_0x45497a[_0x3233e9(0x2a3)]=formatResult(_0x4d7c39,0x8),_0x45497a[_0x3233e9(0x2da)]='',_0x45497a[_0x3233e9(0x2aa)]=![];if(_0x45497a[_0x3233e9(0x235)]!=config['basecoin']){if(_0x45497a[_0x3233e9(0x26b)]>_0x462af0)_0x45497a['side']=_0x3233e9(0x23a),_0x45497a[_0x3233e9(0x2aa)]=checkMinimums(_0x45497a);else _0x45497a['distribution']<_0x462af0&&(_0x45497a['side']='buy',_0x45497a[_0x3233e9(0x2aa)]=checkMinimums(_0x45497a));}_0x45497a[_0x3233e9(0x242)]=_0x45497a[_0x3233e9(0x26b)]/_0x45497a[_0x3233e9(0x27a)]-0x1;}),currentCoins[_0x571238(0x2bd)]((_0x380dad,_0x47b790)=>_0x380dad[_0x571238(0x242)]<_0x47b790[_0x571238(0x242)]?0x1:_0x47b790[_0x571238(0x242)]<_0x380dad[_0x571238(0x242)]?-0x1:0x0);const _0x57de8f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x57de8f[_0x571238(0x21c)],'usd':_0x57de8f[_0x571238(0x295)],'portfolio':JSON[_0x571238(0x2ae)](currentCoins),'threshold':_0x2142a8},proxyEmit(_0x571238(0x2c9),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x571238(0x1f0)])headlessMode({'portfolio':currentCoins,'threshold':_0x2142a8});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x2142a8});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4e9611=_0x50d134;if(!lastBalances)return;let _0x1f7d13=[],_0xc28174,_0x178152=JSON[_0x4e9611(0x24e)](lastBalances['portfolio']);_0x178152[_0x4e9611(0x2bd)]((_0x310aff,_0x555a29)=>_0x310aff[_0x4e9611(0x235)]>_0x555a29[_0x4e9611(0x235)]?0x1:_0x555a29['coin']>_0x310aff[_0x4e9611(0x235)]?-0x1:0x0),_0x178152['forEach'](_0x3ea432=>{const _0xab12c6=_0x4e9611;let _0xf67760={'coin':_0x3ea432[_0xab12c6(0x235)],'number':_0x3ea432[_0xab12c6(0x2f2)],'price':_0x3ea432['last']};_0x1f7d13[_0xab12c6(0x2cb)](_0xf67760);});const _0x5dc258=await getFiat();_0xc28174={'date':lastBalances[_0x4e9611(0x1fa)][_0x4e9611(0x207)]('\x20')[0x0],'eur':_0x5dc258[_0x4e9611(0x21c)],'usd':_0x5dc258[_0x4e9611(0x295)],'coins':_0x1f7d13};let _0x3f8e2d=dbPerformance[_0x4e9611(0x301)](_0x4e9611(0x251))[_0x4e9611(0x2e2)]({'date':_0xc28174[_0x4e9611(0x1e5)]})[_0x4e9611(0x2c3)]();_0x3f8e2d?_0xc28174[_0x4e9611(0x1e5)]!=config[_0x4e9611(0x2a5)]&&dbPerformance[_0x4e9611(0x301)](_0x4e9611(0x251))[_0x4e9611(0x2e2)]({'date':_0xc28174['date']})[_0x4e9611(0x1e2)](_0xc28174)[_0x4e9611(0x2bf)]():dbPerformance['get'](_0x4e9611(0x251))[_0x4e9611(0x2cb)](_0xc28174)[_0x4e9611(0x2bf)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x58543c=_0x50d134;let _0x4df1eb=[];if(dbPerformance[_0x58543c(0x283)](_0x58543c(0x251))[_0x58543c(0x2c3)]()){let _0x2bcc62=dbPerformance['get'](_0x58543c(0x251))['cloneDeep']()[_0x58543c(0x2e3)](_0x58543c(0x1e5))[_0x58543c(0x2c3)](),_0x4fc1e0=[...config[_0x58543c(0x2ff)]];_0x4fc1e0[_0x58543c(0x2bd)]((_0x594dc9,_0x32b763)=>_0x594dc9['date']>_0x32b763[_0x58543c(0x1e5)]?-0x1:_0x32b763['date']>_0x594dc9[_0x58543c(0x1e5)]?0x1:0x0);let _0x4c1ddf=0x1,_0x321779=[],_0x4d13d0=0x0;_0x2bcc62['slice']()['reverse']()[_0x58543c(0x2fe)]((_0x3f6b09,_0x1fac1f)=>{const _0x1da295=_0x58543c;if(_0x4fc1e0[_0x4d13d0]){if(_0x2bcc62[_0x2bcc62[_0x1da295(0x263)]-_0x1fac1f]&&_0x4fc1e0[_0x4d13d0][_0x1da295(0x1e5)]==_0x2bcc62[_0x2bcc62[_0x1da295(0x263)]-_0x1fac1f][_0x1da295(0x1e5)]){if(_0x1fac1f<_0x2bcc62['length']){let _0x2b1e52=0x0,_0x20a04a=0x0;_0x2bcc62[_0x2bcc62['length']-_0x1fac1f][_0x1da295(0x29a)][_0x1da295(0x2fe)](_0x3815ab=>{const _0xfd53e2=_0x1da295;_0x20a04a+=_0x3815ab[_0xfd53e2(0x2f2)]*_0x3815ab['price'];}),_0x4fc1e0[_0x4d13d0][_0x1da295(0x297)][_0x1da295(0x2fe)](_0x19f6a2=>{const _0x1de91e=_0x1da295;_0x2b1e52+=_0x19f6a2[_0x1de91e(0x2f2)]*_0x19f6a2[_0x1de91e(0x269)];}),_0x4c1ddf*=_0x2b1e52/(_0x20a04a-_0x2b1e52)+0x1;}_0x4d13d0++;}}let _0x255f1a=0x0;_0x3f6b09[_0x1da295(0x29a)][_0x1da295(0x2fe)](_0x32b9d0=>{const _0x57090c=_0x1da295;_0x255f1a+=_0x32b9d0['number']*_0x32b9d0[_0x57090c(0x269)];}),_0x321779[_0x2bcc62['length']-_0x1fac1f-0x1]=_0x255f1a*(_0x4c1ddf-0x1);});let _0x1abf6e=[];_0x4fc1e0=[...config[_0x58543c(0x2ff)]]||[];let _0x823933=0x0;_0x4d13d0=0x0,_0x2bcc62['forEach']((_0x44383c,_0xaa1430)=>{const _0x177f07=_0x58543c;if(_0x4fc1e0[_0x4d13d0]){const _0x57c1ea=fns[_0x177f07(0x24e)](_0x4fc1e0[_0x4d13d0][_0x177f07(0x1e5)],_0x177f07(0x20d),new Date()),_0x31da26=fns['parse'](_0x44383c[_0x177f07(0x1e5)],_0x177f07(0x20d),new Date());if(fns[_0x177f07(0x215)](_0x57c1ea,_0x31da26)){let _0x550d23=0x0;_0x4fc1e0[_0x4d13d0][_0x177f07(0x297)][_0x177f07(0x2fe)](_0x19b891=>{const _0x465694=_0x177f07;!_0x1abf6e[_0x19b891[_0x465694(0x235)]]?_0x1abf6e[_0x19b891[_0x465694(0x235)]]=_0x19b891[_0x465694(0x2f2)]:(_0x550d23=_0x1abf6e[_0x19b891[_0x465694(0x235)]],_0x1abf6e[_0x19b891[_0x465694(0x235)]]+=_0x19b891[_0x465694(0x2f2)]);const _0x216b9a=_0x44383c[_0x465694(0x29a)][_0x465694(0x2e2)](_0x387bbb=>_0x387bbb[_0x465694(0x235)]==_0x19b891[_0x465694(0x235)]);(!_0x216b9a||_0x216b9a['number']==0x0)&&(_0x823933+=(-_0x19b891[_0x465694(0x2f2)]-_0x550d23)*_0x19b891[_0x465694(0x269)]);}),_0x4d13d0++;}}_0x44383c[_0x177f07(0x29a)][_0x177f07(0x2fe)]((_0x3b22ce,_0xdd7ebc)=>{const _0x238478=_0x177f07;_0x1abf6e[_0x3b22ce[_0x238478(0x235)]]&&(_0x3b22ce={..._0x3b22ce,'initial':_0x1abf6e[_0x3b22ce[_0x238478(0x235)]]}),_0x44383c[_0x238478(0x29a)][_0xdd7ebc]=_0x3b22ce;}),_0x4df1eb[_0x177f07(0x2cb)]({'date':_0x44383c[_0x177f07(0x1e5)],'eur':_0x44383c['eur'],'usd':_0x44383c[_0x177f07(0x295)],'offset':_0x321779[_0xaa1430],'netoffset':_0x823933,'coins':_0x44383c[_0x177f07(0x29a)]});});}return _0x4df1eb;}function emitPerformance(_0x31c25f){const _0x58502c=_0x50d134;_0x31c25f[_0x58502c(0x263)]!==0x0?(proxyEmit('performance',_0x31c25f),lastPerformanceEmitted=getDate()):proxyEmit(_0x58502c(0x279),[]);}function getPerf(_0x143ca3,_0x13633a){const _0x3f30a9=_0x50d134;let _0x409163=0x0,_0x2cb410=0x0,_0x483e8a=0x0;_0x143ca3[_0x3f30a9(0x29a)][_0x3f30a9(0x2fe)](_0x2d3fe7=>{const _0x2a3b5d=_0x3f30a9;_0x409163+=_0x2d3fe7[_0x2a3b5d(0x2f2)]*_0x2d3fe7['price'];});_0x13633a&&(_0x409163+=_0x143ca3[_0x3f30a9(0x2ba)]);if(config[_0x3f30a9(0x233)]==='BTC'||config[_0x3f30a9(0x233)]===_0x3f30a9(0x1fc))_0x2cb410=_0x409163*_0x143ca3[_0x3f30a9(0x21c)],_0x483e8a=_0x409163*_0x143ca3[_0x3f30a9(0x295)];else{if(config[_0x3f30a9(0x233)]===_0x3f30a9(0x1ef)||config[_0x3f30a9(0x233)]===_0x3f30a9(0x2b0))_0x2cb410=_0x409163*_0x143ca3[_0x3f30a9(0x21c)]/_0x143ca3[_0x3f30a9(0x295)],_0x483e8a=_0x409163;else config[_0x3f30a9(0x233)]===_0x3f30a9(0x268)&&(_0x2cb410=_0x409163,_0x483e8a=_0x409163*_0x143ca3[_0x3f30a9(0x295)]/_0x143ca3[_0x3f30a9(0x21c)]);}return[_0x409163,_0x2cb410,_0x483e8a];}async function getStartingBalances(_0x112034,_0x3eb4bb=!![]){const _0x1f7292=_0x50d134;if(_0x112034[_0x1f7292(0x263)]!==0x0){const [_0x533d55,_0x44d4da,_0x4033a4]=getPerf(_0x112034[0x0],!![]);let _0x59e698=[];config[_0x1f7292(0x2d7)]['forEach'](_0x12292d=>{const _0x1e2987=_0x1f7292;let _0x456fce=0x0,_0x37a646;config[_0x1e2987(0x2ff)][_0x1e2987(0x2fe)](_0x4e6baa=>{const _0x34f73e=_0x1e2987;let _0x2028c3=_0x4e6baa[_0x34f73e(0x297)][_0x34f73e(0x2e2)](_0x52b256=>_0x52b256[_0x34f73e(0x235)]==_0x12292d[_0x34f73e(0x235)]);if(_0x2028c3){_0x456fce+=_0x2028c3[_0x34f73e(0x2f2)];if(!_0x37a646)_0x37a646=_0x2028c3[_0x34f73e(0x269)];}}),_0x59e698[_0x1e2987(0x2cb)]({'coin':_0x12292d['coin'],'number':_0x456fce,'initialprice':_0x37a646});});const _0x24c367={'basecoin':_0x533d55,'eur':_0x44d4da,'usd':_0x4033a4,'coins':_0x59e698};if(_0x3eb4bb)proxyEmit(_0x1f7292(0x2d0),_0x24c367);return _0x24c367;}}function headlessMode(_0x525f18){const _0x19e8bd=_0x50d134;let _0x222b70=_0x525f18[_0x19e8bd(0x2d7)],_0x2f4ed6=_0x525f18[_0x19e8bd(0x2c1)],_0x8035f5=[];for(let _0x121c8d of _0x222b70){if(_0x121c8d[_0x19e8bd(0x235)]!=config[_0x19e8bd(0x233)]){if(_0x121c8d[_0x19e8bd(0x242)]>=_0x2f4ed6/0x64){if(_0x121c8d['valid'])_0x8035f5['push'](_0x121c8d);}else{if(_0x121c8d[_0x19e8bd(0x242)]<=-_0x2f4ed6/0x64){if(_0x121c8d[_0x19e8bd(0x2aa)])_0x8035f5[_0x19e8bd(0x2cb)](_0x121c8d);}}}}_0x8035f5[_0x19e8bd(0x263)]>0x0&&(allOrdersPlaced=![],placeOrder(_0x8035f5));}function notifyBalance(_0x21a1cd){const _0x1ec25b=_0x50d134;let _0x19cb2=_0x21a1cd[_0x1ec25b(0x2d7)],_0x2cce09=_0x21a1cd[_0x1ec25b(0x2c1)],_0x2a84aa=[];for(let _0x41a87f of _0x19cb2){if(_0x41a87f[_0x1ec25b(0x235)]!=config['basecoin']){if(_0x41a87f[_0x1ec25b(0x242)]>=_0x2cce09/0x64){if(_0x41a87f[_0x1ec25b(0x2aa)])_0x2a84aa[_0x1ec25b(0x2cb)](_0x41a87f);}else{if(_0x41a87f[_0x1ec25b(0x242)]<=-_0x2cce09/0x64){if(_0x41a87f[_0x1ec25b(0x2aa)])_0x2a84aa['push'](_0x41a87f);}}}}if(_0x2a84aa[_0x1ec25b(0x263)]>0x0){let _0x240de7=_0x2a84aa[_0x1ec25b(0x2a4)](_0x2e5385=>_0x2e5385[_0x1ec25b(0x235)]);_0x240de7['sort']();let _0x5839f6=_0x240de7[_0x1ec25b(0x25d)](',\x20');if(lastCoinsToBalance!==_0x5839f6)logHistory(_0x1ec25b(0x273),'Manual\x20balancing\x20required:\x20'+_0x5839f6);lastCoinsToBalance=_0x5839f6;}}function symbolToCoin(_0x23333e){const _0x15bd40=_0x50d134;let _0xffae3;if(_0x23333e[_0x15bd40(0x259)]('/'+config[_0x15bd40(0x233)]))_0xffae3=_0x23333e[_0x15bd40(0x212)]('/'+config['basecoin'],'');if(_0x23333e[_0x15bd40(0x259)](config[_0x15bd40(0x233)]+'/'))_0xffae3=_0x23333e[_0x15bd40(0x212)](config[_0x15bd40(0x233)]+'/','');return _0xffae3;}async function unlockOrders(){const _0x1f17b4=_0x50d134;currentCoins=await getCoins(),validateOrdersState=_0x1f17b4(0x1df);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);lockOrders=![];}async function validateOrders(_0x217f19){const _0x422f12=_0x50d134;if(_0x217f19)validateOrdersState=_0x217f19;let _0xb29dcc=[],_0x61cd22=config['ordertype']==_0x422f12(0x2fc)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x422f12(0x262)]*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;logging(validateOrdersState+_0x422f12(0x2cf)+_0x217f19),lastOrders[_0x422f12(0x2fe)](_0x2e914a=>{const _0x5f55a2=_0x422f12;let _0x3b7035=![];_0x2e914a[_0x5f55a2(0x248)]>0x0&&(_0x3b7035=!![]),_0xb29dcc[_0x5f55a2(0x2cb)](_0x3b7035),_0x3b7035&&config[_0x5f55a2(0x219)]!='market'&&logHistory(_0x5f55a2(0x2e5),'Order\x20filled:\x20'+_0x2e914a[_0x5f55a2(0x258)]+'\x20'+_0x2e914a[_0x5f55a2(0x2da)]+'\x20#'+formatResult(_0x2e914a['filled'],0x8)+'\x20@'+formatResult(_0x2e914a[_0x5f55a2(0x269)],0x8));}),_0xb29dcc[_0x422f12(0x2fe)]((_0x1dcd1c,_0x21c356)=>{const _0x3b40cf=_0x422f12;if(_0x1dcd1c)lastOrders[_0x3b40cf(0x236)](_0x21c356,0x1);});const _0x44ec26=coolingDown?_0x422f12(0x24c):_0x422f12(0x2c7);if(validateOrdersState=='initial')validateOrdersState=_0x422f12(0x2b1),_0xb29dcc[_0x422f12(0x259)](![])?config[_0x422f12(0x219)]==_0x422f12(0x2fc)?logHistory(_0x422f12(0x238),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x422f12(0x238),_0x422f12(0x25b)):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0xb29dcc[_0x422f12(0x259)](![])){}else config[_0x422f12(0x219)]==_0x422f12(0x2fc)?logHistory(_0x422f12(0x273),_0x422f12(0x267)+_0x44ec26):logHistory(_0x422f12(0x273),_0x422f12(0x256)+_0x44ec26),await unlockOrders();}else{if(validateOrdersState==_0x422f12(0x231))_0xb29dcc['includes'](![])?config[_0x422f12(0x219)]==_0x422f12(0x2fc)?logHistory(_0x422f12(0x273),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x422f12(0x28c)](_0x61cd22*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x44ec26):(await cancelOrders(),logHistory(_0x422f12(0x273),_0x422f12(0x296)+Math['round'](_0x61cd22*validateOrderInterval/0xea60)+_0x422f12(0x218)+_0x44ec26)):logHistory(_0x422f12(0x273),'No\x20more\x20open\x20orders\x20-\x20'+_0x44ec26),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!=_0x422f12(0x2fc))logHistory(_0x422f12(0x273),'No\x20more\x20open\x20orders\x20-\x20'+_0x44ec26);await unlockOrders();}}}}}async function cancelOrders(){const _0x3c3f81=_0x50d134;lastOrders[_0x3c3f81(0x2fe)](async _0x1221e9=>{const _0x40d8b9=_0x3c3f81;try{const _0x27be72=await exchange[_0x40d8b9(0x2de)](_0x1221e9['orderId'],_0x1221e9[_0x40d8b9(0x258)]);}catch(_0xa9185a){if(_0xa9185a[_0x40d8b9(0x288)]()['includes']('OrderNotFound')){}else await handleError(_0xa9185a,_0x40d8b9(0x28b));}});}async function initCoinResults(){const _0x1d63f6=_0x50d134;let _0x31c098=[];config[_0x1d63f6(0x2d7)][_0x1d63f6(0x2fe)](_0x54c63b=>{const _0x327b3b=_0x1d63f6;if(!_0x54c63b['excluded']&&_0x54c63b[_0x327b3b(0x235)]!=config[_0x327b3b(0x233)]){let _0x31bf02=dbCoinResults[_0x327b3b(0x301)](_0x327b3b(0x29a))[_0x327b3b(0x2e2)]({'coin':_0x54c63b[_0x327b3b(0x235)]})['value']();if(!_0x31bf02){const _0x276928=currentCoins[_0x327b3b(0x2e2)](_0x457468=>_0x457468['coin']==_0x54c63b[_0x327b3b(0x235)]),_0x5394c7=global[_0x327b3b(0x243)][noslash(_0x54c63b['symbol'])];let _0x4e6286=_0x276928?_0x276928[_0x327b3b(0x2f2)]:null,_0x39c56a=_0x54c63b['reverse']?0x1/_0x5394c7:_0x5394c7,_0x97f5b4;config[_0x327b3b(0x2ff)][_0x327b3b(0x2fe)](_0xe8a09b=>{const _0x4bbb7e=_0x327b3b;!_0x97f5b4&&(_0x97f5b4=_0xe8a09b[_0x4bbb7e(0x297)][_0x4bbb7e(0x2e2)](_0x196251=>_0x196251[_0x4bbb7e(0x235)]==_0x54c63b[_0x4bbb7e(0x235)]),_0x97f5b4&&(_0x4e6286=_0x97f5b4[_0x4bbb7e(0x2f2)],_0x39c56a=_0x97f5b4[_0x4bbb7e(0x269)]));}),_0x31c098[_0x327b3b(0x2cb)]({'coin':_0x54c63b[_0x327b3b(0x235)],'number':_0x4e6286,'price':_0x39c56a});}}}),_0x31c098['forEach'](_0x40ec4b=>{const _0x3aeca9=_0x1d63f6,_0x3f8dbc={'coin':_0x40ec4b[_0x3aeca9(0x235)],'number':_0x40ec4b[_0x3aeca9(0x2f2)],'breakeven':_0x40ec4b[_0x3aeca9(0x269)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3aeca9(0x301)](_0x3aeca9(0x29a))[_0x3aeca9(0x2cb)](_0x3f8dbc)[_0x3aeca9(0x2bf)]();});}async function updateCoinResults(_0x302045,_0x54f95b=![]){const _0xcdaefd=_0x50d134;let _0x2dfe77,_0x4e6668,_0x5e0294,_0x2dd34d,_0x53079f,_0x2d1815,_0x4d390f=dbCoinResults[_0xcdaefd(0x301)]('coins')[_0xcdaefd(0x2e2)]({'coin':_0x302045[_0xcdaefd(0x235)]})['value']();!_0x4d390f&&await initCoinResults();_0x302045[_0xcdaefd(0x1ff)]&&(_0x2d1815={'filled':_0x302045[_0xcdaefd(0x248)]*_0x302045['price'],'amount':_0x302045[_0xcdaefd(0x248)]*_0x302045[_0xcdaefd(0x269)],'side':_0x302045[_0xcdaefd(0x2da)]==_0xcdaefd(0x23a)?_0xcdaefd(0x28e):_0xcdaefd(0x23a),'price':0x1/_0x302045[_0xcdaefd(0x269)]},_0x302045={..._0x302045,..._0x2d1815});if(_0x54f95b)_0x4e6668=_0x302045[_0xcdaefd(0x2da)]=='buy'?_0x4d390f['number']+_0x302045[_0xcdaefd(0x248)]:_0x4d390f[_0xcdaefd(0x2f2)]-_0x302045[_0xcdaefd(0x248)];else{const _0x5960fe=currentCoins['find'](_0xd23b11=>_0xd23b11[_0xcdaefd(0x235)]==_0x302045[_0xcdaefd(0x235)]);_0x4e6668=_0x5960fe['number'];}if(_0x302045['fee']&&_0x302045['fee'][_0xcdaefd(0x26f)]==config[_0xcdaefd(0x233)])_0x2dfe77=_0x302045[_0xcdaefd(0x2fa)][_0xcdaefd(0x292)];else{if(_0x302045[_0xcdaefd(0x2fa)]&&_0x302045[_0xcdaefd(0x2fa)][_0xcdaefd(0x26f)]=='BNB'&&!_0x54f95b)_0x2dfe77=_0x302045[_0xcdaefd(0x2fa)]['cost']*global[_0xcdaefd(0x243)][_0xcdaefd(0x2ec)+config['basecoin']];else _0x2dfe77=defaultFee*_0x302045[_0xcdaefd(0x248)]*_0x302045['price'];}_0x302045['side']==_0xcdaefd(0x28e)?(_0x5e0294=_0x4e6668!=0x0?(_0x4d390f[_0xcdaefd(0x2c6)]*_0x4d390f[_0xcdaefd(0x2f2)]+_0x302045['price']*(_0x4e6668-_0x4d390f[_0xcdaefd(0x2f2)])+_0x2dfe77)/_0x4e6668:0x0,_0x2dd34d=_0x4d390f[_0xcdaefd(0x2c4)]):(_0x5e0294=_0x4e6668!=0x0?(_0x4d390f['breakeven']*_0x4d390f[_0xcdaefd(0x2f2)]-_0x302045['price']*(_0x4d390f[_0xcdaefd(0x2f2)]-_0x4e6668)+_0x2dfe77)/_0x4e6668:0x0,_0x2dd34d=_0x4d390f['realized']+(_0x302045['price']-_0x4d390f['breakeven'])*_0x302045[_0xcdaefd(0x248)]);_0x53079f=(_0x302045[_0xcdaefd(0x269)]-_0x5e0294-_0x2dfe77/_0x302045[_0xcdaefd(0x248)])*_0x4e6668;let _0x96f966={'coin':_0x302045[_0xcdaefd(0x235)],'number':_0x4e6668,'breakeven':formatResult(_0x5e0294,0x8),'realized':formatResult(_0x2dd34d,0x8),'unrealized':formatResult(_0x53079f,0x8),'fees':formatResult(_0x4d390f[_0xcdaefd(0x21d)]+_0x2dfe77,0x8),'sells':_0x302045[_0xcdaefd(0x2da)]==_0xcdaefd(0x23a)?_0x4d390f[_0xcdaefd(0x1f3)]+0x1:_0x4d390f[_0xcdaefd(0x1f3)],'buys':_0x302045['side']==_0xcdaefd(0x28e)?_0x4d390f[_0xcdaefd(0x21b)]+0x1:_0x4d390f[_0xcdaefd(0x21b)]};dbCoinResults['get'](_0xcdaefd(0x29a))['find']({'coin':_0x302045['coin']})[_0xcdaefd(0x1e2)](_0x96f966)[_0xcdaefd(0x2bf)]();if(!_0x54f95b){if(_0x302045[_0xcdaefd(0x2fa)]&&_0x302045[_0xcdaefd(0x2fa)][_0xcdaefd(0x26f)]==_0xcdaefd(0x2ec)){const _0x116cd4=currentCoins[_0xcdaefd(0x2e2)](_0x1767a2=>_0x1767a2[_0xcdaefd(0x235)]==_0xcdaefd(0x2ec));if(_0x116cd4){let _0x60e1a6=dbCoinResults[_0xcdaefd(0x301)](_0xcdaefd(0x29a))['find']({'coin':_0xcdaefd(0x2ec)})[_0xcdaefd(0x2c3)]();_0x96f966={..._0x60e1a6,'number':_0x116cd4[_0xcdaefd(0x2f2)]},dbCoinResults['get'](_0xcdaefd(0x29a))['find']({'coin':_0xcdaefd(0x2ec)})[_0xcdaefd(0x1e2)](_0x96f966)['write']();}}}}async function placeOrder(_0x124114){const _0x3ac3ff=_0x50d134,_0x3e6b83=config[_0x3ac3ff(0x219)]==_0x3ac3ff(0x2fc)?'market':'limit';if(!lockOrders&&!coolingDown){lastOrders=[];for(const _0x79d7ad of _0x124114){let _0x318024,_0xa4bacf,_0x1b9b24,_0x29b1d1,_0x5d2c78,_0x9c0469=_0x79d7ad[_0x3ac3ff(0x258)];try{const _0x338d53=await exchange[_0x3ac3ff(0x285)]([_0x9c0469]),_0x5a41dc=_0x338d53[_0x9c0469];_0x318024=_0x79d7ad['reverse']?0x1/_0x79d7ad['last']:_0x79d7ad[_0x3ac3ff(0x2c0)],_0xa4bacf=_0x5a41dc[_0x3ac3ff(0x1e9)],_0x1b9b24=_0x5a41dc['ask'];_0x79d7ad[_0x3ac3ff(0x1ff)]?(_0x29b1d1=_0x79d7ad[_0x3ac3ff(0x2da)]==_0x3ac3ff(0x28e)?_0x3ac3ff(0x23a):_0x3ac3ff(0x28e),_0x5d2c78=Math[_0x3ac3ff(0x1ed)](_0x79d7ad['trade'])/_0x318024):(_0x29b1d1=_0x79d7ad['side'],_0x5d2c78=Math[_0x3ac3ff(0x1ed)](_0x79d7ad[_0x3ac3ff(0x2a3)]));_0x3e6b83==_0x3ac3ff(0x2df)&&(config['ordertype']=='limit-high'&&(_0x318024=_0x29b1d1==_0x3ac3ff(0x28e)?_0xa4bacf:_0x1b9b24),config['ordertype']==_0x3ac3ff(0x2b2)&&(_0x318024=_0x29b1d1==_0x3ac3ff(0x28e)?_0x1b9b24:_0xa4bacf));_0x5d2c78=formatResult(_0x5d2c78,0x8),_0x318024=formatResult(_0x318024,0x8);const _0x3c3133=await exchange[_0x3ac3ff(0x2ab)](_0x9c0469,_0x3e6b83,_0x29b1d1,_0x5d2c78,_0x318024);lastOrders[_0x3ac3ff(0x2cb)]({'orderId':_0x3c3133['id'],'symbol':_0x9c0469,'coin':_0x79d7ad[_0x3ac3ff(0x235)],'side':_0x29b1d1,'reverse':_0x79d7ad[_0x3ac3ff(0x1ff)],'amount':_0x3c3133['amount'],'filled':0x0,'price':_0x3c3133['price'],'fee':_0x3c3133[_0x3ac3ff(0x2fa)]});const _0x17ce81=_0x29b1d1==_0x3ac3ff(0x23a)?config[_0x3ac3ff(0x1fd)]?String['fromCodePoint']('0x'+config[_0x3ac3ff(0x1fd)])+'\x20':'':config['emojibuy']?String['fromCodePoint']('0x'+config[_0x3ac3ff(0x1dd)])+'\x20':'',_0x25a01f=_0x3e6b83==_0x3ac3ff(0x2fc)?_0x3ac3ff(0x287):config[_0x3ac3ff(0x219)]==_0x3ac3ff(0x247)?'Limit\x20(high-margin)':_0x3ac3ff(0x305);if(_0x3e6b83=='market')logHistory(_0x3ac3ff(0x2e5),''+_0x17ce81+_0x25a01f+_0x3ac3ff(0x24d)+_0x9c0469+'\x20'+_0x29b1d1+'\x20#'+formatResult(_0x3c3133[_0x3ac3ff(0x248)],0x8)+'\x20@'+formatResult(_0x3c3133[_0x3ac3ff(0x269)],0x8));else logHistory(_0x3ac3ff(0x2e5),''+_0x17ce81+_0x25a01f+_0x3ac3ff(0x24d)+_0x9c0469+'\x20'+_0x29b1d1+'\x20#'+formatResult(_0x3c3133[_0x3ac3ff(0x2d4)],0x8)+'\x20@'+formatResult(_0x3c3133['price'],0x8));let _0x5487ca=currentCoins[_0x3ac3ff(0x2e2)](_0x22e56c=>_0x22e56c[_0x3ac3ff(0x235)]==_0x79d7ad[_0x3ac3ff(0x235)]);_0x5487ca['order']=!![];if(config['cooldown']!=0x0){let _0x474ed1=null;if(cooldownTracker[_0x3ac3ff(0x263)]==config[_0x3ac3ff(0x25e)]-0x1)_0x474ed1=cooldownTracker['shift']();const _0x536efe=getTimeStamp();cooldownTracker[_0x3ac3ff(0x2cb)](_0x536efe);if(_0x474ed1){const _0xb26c13=fns['differenceInSeconds'](new Date(_0x536efe),new Date(_0x474ed1));if(_0xb26c13<cooldownInterval){logHistory(_0x3ac3ff(0x238),_0x3ac3ff(0x230)+config[_0x3ac3ff(0x25e)]+_0x3ac3ff(0x221)+cooldownInterval/0x3c+_0x3ac3ff(0x22f)+cooldownPeriod/(0xe10*0x3e8)+_0x3ac3ff(0x2b5)),coolingDown=!![];break;}}}}catch(_0x2da865){if(_0x2da865[_0x3ac3ff(0x288)]()[_0x3ac3ff(0x259)](_0x3ac3ff(0x281)))logHistory('error',_0x3ac3ff(0x23d)+_0x9c0469);else{if(_0x2da865['toString']()['includes']('Invalid\x20quantity'))logHistory(_0x3ac3ff(0x238),_0x3ac3ff(0x2dc)+_0x9c0469);else await handleError(_0x2da865,'placeOrder()',_0x9c0469);}}}allOrdersPlaced=!![];if(lastOrders[_0x3ac3ff(0x263)]!=0x0){lockOrders=!![],validateOrdersState=_0x3ac3ff(0x1df),setTimeout(function(){validateOrders();},0x1388);const _0x598c1c=config[_0x3ac3ff(0x219)]==_0x3ac3ff(0x2fc)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x226e8e=_0x3ac3ff;validateOrders(_0x226e8e(0x231));},_0x598c1c);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x3ac3ff(0x273),_0x3ac3ff(0x20c)));}else{if(coolingDown)!config[_0x3ac3ff(0x1f0)]&&logHistory(_0x3ac3ff(0x238),_0x3ac3ff(0x1e1));else lockOrders&&(!config[_0x3ac3ff(0x1f0)]&&(config[_0x3ac3ff(0x219)]==_0x3ac3ff(0x2fc)?logHistory('error',_0x3ac3ff(0x2f5)):logHistory(_0x3ac3ff(0x238),_0x3ac3ff(0x265))));}}function restoreOrders(){const _0x4e9e0=_0x50d134;let _0x6abb44;lockOrders=!![],validateOrdersState=_0x4e9e0(0x2b1),currentCoins[_0x4e9e0(0x2fe)](_0x5ecb98=>{const _0x3de7ee=_0x4e9e0,_0x5dea3f=allOpenOrders[_0x3de7ee(0x2e2)](_0x2492f1=>_0x2492f1[_0x3de7ee(0x258)]==_0x5ecb98[_0x3de7ee(0x258)]);_0x5dea3f&&(lastOrders[_0x3de7ee(0x2cb)]({'orderId':_0x5dea3f['id'],'symbol':_0x5ecb98[_0x3de7ee(0x258)],'coin':_0x5ecb98['coin'],'side':_0x5dea3f[_0x3de7ee(0x2da)],'reverse':_0x5ecb98[_0x3de7ee(0x1ff)],'amount':_0x5dea3f['amount'],'filled':0x0,'price':_0x5dea3f[_0x3de7ee(0x269)],'fee':_0x5dea3f[_0x3de7ee(0x2fa)]}),_0x5ecb98[_0x3de7ee(0x2e5)]=!![],_0x6abb44=_0x5dea3f[_0x3de7ee(0x26e)]);});const _0x425188=new Date()[_0x4e9e0(0x20b)](),_0x7bbc1=config[_0x4e9e0(0x219)]==_0x4e9e0(0x2fc)?validateOrderTimeout*0x3c*0x3e8:config[_0x4e9e0(0x262)]*0x3c*0x3e8;if(_0x6abb44+_0x7bbc1>_0x425188){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x134a76=_0x4e9e0;validateOrders(_0x134a76(0x231));},_0x6abb44+_0x7bbc1-_0x425188);}else validateOrders(_0x4e9e0(0x231));}function sendPortfolioTelegram(){const _0xa00cc0=_0x50d134,_0x525581=['EUR',_0xa00cc0(0x1ef),_0xa00cc0(0x2b0)],_0x5c21a2=_0x525581[_0xa00cc0(0x259)](config[_0xa00cc0(0x233)])?0x2:0x8;let _0x261f9e='';if(config['showname'])_0x261f9e=config[_0xa00cc0(0x252)]+_0xa00cc0(0x1f1);else _0x261f9e=_0xa00cc0(0x1f5)+botID+_0xa00cc0(0x1f1);_0x261f9e+=_0xa00cc0(0x257),_0x261f9e+=_0xa00cc0(0x24b),_0x261f9e+=_0xa00cc0(0x2d1),currentCoins[_0xa00cc0(0x2fe)](_0x5f16ca=>{const _0xc087c1=_0xa00cc0;_0x261f9e+=_0x5f16ca['coin'][_0xc087c1(0x275)](0x7)+'|\x20'+formatPad(_0x5f16ca[_0xc087c1(0x26b)],0x2,0x6)+'|\x20'+formatPad(_0x5f16ca['target'],0x2,0x6)+'|\x20'+formatPad(_0x5f16ca[_0xc087c1(0x242)]*0x64,0x2,0x6)+'\x0a';}),_0x261f9e+=_0xa00cc0(0x27f),process[_0xa00cc0(0x2bc)]({'telegrammsg':_0x261f9e},_0x29b53c=>{});}function formatPad(_0x32841f,_0x29abc6,_0x2fcfb6){const _0x3be2c6=_0x50d134,_0x3e02ab=formatResultString(_0x32841f,_0x29abc6);return _0x3e02ab?_0x3e02ab[_0x3be2c6(0x2f0)](_0x2fcfb6):''[_0x3be2c6(0x2f0)](_0x2fcfb6);}function logHistory(_0x3cc981,_0x3b3d4d,_0x44aab8=''){const _0xa6d929=_0x50d134;let _0x169d46={'time':getTimeStamp(),'type':_0x3cc981,'event':_0x3b3d4d};dbLogs[_0xa6d929(0x301)](_0xa6d929(0x249))[_0xa6d929(0x2cb)](_0x169d46)[_0xa6d929(0x2bf)]();if(_0x44aab8=='')_0x44aab8=_0x3b3d4d;proxyEmit(_0xa6d929(0x1f7),{'log':_0x169d46,'summary':_0x44aab8}),process[_0xa6d929(0x2bc)]({'telegram':{..._0x169d46,'botname':config['botname'],'showname':config[_0xa6d929(0x271)]}},_0x2cbadc=>{}),logging(''+_0x169d46['event']);}function emitHistory(_0x367071={}){const _0x3d08e4=_0x50d134;Object[_0x3d08e4(0x2cc)](_0x367071)[_0x3d08e4(0x263)]==0x0&&(_0x367071={'type':[_0x3d08e4(0x2e5),_0x3d08e4(0x1f7)],'event':'','page':0x1});if(_0x367071[_0x3d08e4(0x1de)]['includes'](_0x3d08e4(0x1f7)))_0x367071[_0x3d08e4(0x1de)][_0x3d08e4(0x236)](_0x367071['type'][_0x3d08e4(0x227)](_0x3d08e4(0x1f7)),0x1,_0x3d08e4(0x238),_0x3d08e4(0x273));if(dbLogs['has']('logs')['value']()){let _0x3481bc=dbLogs[_0x3d08e4(0x301)](_0x3d08e4(0x249))['filter'](_0x4efa41=>{const _0x3201e5=_0x3d08e4;if(_0x367071[_0x3201e5(0x1de)][_0x3201e5(0x263)]==0x0)return![];else return _0x367071['type'][_0x3201e5(0x259)](_0x4efa41[_0x3201e5(0x1de)]);})[_0x3d08e4(0x20f)](_0x31e234=>{const _0x269ef4=_0x3d08e4;if(_0x367071['event']=='')return!![];else return _0x31e234[_0x269ef4(0x1f7)]['toLowerCase']()[_0x269ef4(0x259)](_0x367071[_0x269ef4(0x1f7)][_0x269ef4(0x2c2)]());})[_0x3d08e4(0x2e3)]('time'),_0x219d4d=_0x3481bc[_0x3d08e4(0x2c3)]()[_0x3d08e4(0x263)];_0x3481bc=_0x3481bc[_0x3d08e4(0x1ff)]()[_0x3d08e4(0x202)]((_0x367071[_0x3d08e4(0x1f9)]-0x1)*logPageSize,_0x367071[_0x3d08e4(0x1f9)]*logPageSize-0x1)[_0x3d08e4(0x1ff)]()[_0x3d08e4(0x2c3)](),proxyEmit(_0x3d08e4(0x214),{'logs':_0x3481bc,'total':_0x219d4d});}else proxyEmit(_0x3d08e4(0x214),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x19b76d){const _0x3f023f=_0x50d134;if(dbLogs[_0x3f023f(0x283)](_0x3f023f(0x249))[_0x3f023f(0x2c3)]()){const _0x3e7c64=dbLogs[_0x3f023f(0x301)](_0x3f023f(0x249))[_0x3f023f(0x2e3)](_0x3f023f(0x1fa))[_0x3f023f(0x20f)](_0xbe343d=>{const _0x3a0ee2=_0x3f023f;return _0xbe343d[_0x3a0ee2(0x1de)]==_0x3a0ee2(0x2e5);})['value']();dbLogs[_0x3f023f(0x301)](_0x3f023f(0x249))[_0x3f023f(0x21a)]()[_0x3f023f(0x2bf)](),dbLogs[_0x3f023f(0x301)]('logs')[_0x3f023f(0x1e2)](_0x3e7c64)[_0x3f023f(0x2bf)](),emitHistory(_0x19b76d);}}async function pauseBot(_0x4a6165=''){const _0x40b892=_0x50d134,_0x26f773=new Date()[_0x40b892(0x20b)]();if(!lastBotPause)lastBotPause=new Date()[_0x40b892(0x20b)](),consecutivePauses=0x1;else{if(_0x26f773-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x40b892(0x2ce)},_0x487a83=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x40b892(0x20b)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x4a6165)_0x4a6165+=_0x40b892(0x2f7);logHistory(_0x40b892(0x238),_0x4a6165+_0x40b892(0x2fb)+pauseBotInterval/0xea60+_0x40b892(0x22d)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x3836c9=_0x50d134;process[_0x3836c9(0x2bc)]({'stop':_0x3836c9(0x2f4)},_0x4016f2=>{}),await sleep(0x7d0);}async function handleError(_0x56911a,_0x596906,_0x82b28e=''){const _0x13769f=_0x50d134;if(_0x56911a[_0x13769f(0x288)]()[_0x13769f(0x259)](_0x13769f(0x255)))await pauseBot('Binance\x20API\x20blocked');else{if(_0x56911a[_0x13769f(0x288)]()['includes'](_0x13769f(0x22a)))await pauseBot('Binance\x20not\x20available\x20(2)');else{if(_0x56911a[_0x13769f(0x288)]()[_0x13769f(0x259)](_0x13769f(0x2e6)))await pauseBot(_0x13769f(0x266));else{if(_0x56911a[_0x13769f(0x288)]()[_0x13769f(0x259)](_0x13769f(0x286)))logHistory(_0x13769f(0x238),_0x596906+_0x13769f(0x25a)),logHistory('error',_0x13769f(0x28f)),await killBot();else{if(_0x56911a['toString']()[_0x13769f(0x259)](_0x13769f(0x253)))logHistory(_0x13769f(0x238),_0x596906+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory('error',_0x13769f(0x28f)),await killBot();else{if(_0x56911a[_0x13769f(0x288)]()['includes'](_0x13769f(0x302)))logHistory(_0x13769f(0x238),_0x596906+_0x13769f(0x2fd)),logHistory(_0x13769f(0x238),_0x13769f(0x28f)),await killBot();else{if(_0x56911a['toString']()['includes'](_0x13769f(0x26d)))logHistory(_0x13769f(0x238),_0x596906+_0x13769f(0x307)),logHistory(_0x13769f(0x238),_0x13769f(0x28f)),await killBot();else{if(_0x56911a[_0x13769f(0x288)]()[_0x13769f(0x259)](_0x13769f(0x289)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x13769f(0x2bc)]({'stop':_0x13769f(0x2ce)},_0x62e77e=>{});else _0x56911a[_0x13769f(0x288)]()[_0x13769f(0x259)]('InsufficientFunds')?logHistory(_0x13769f(0x238),_0x596906+_0x13769f(0x1e7)+_0x82b28e):(logging(_0x596906+_0x13769f(0x300),_0x56911a),await pauseBot(_0x13769f(0x21e)));}}}}}}}}function formatResult(_0x31f815,_0x3703e9){const _0xc22f1=_0x50d134;return parseFloat(_0x31f815[_0xc22f1(0x1db)](_0x3703e9));}function formatResultTruncate(_0x472b03,_0x13b493){const _0x393bc0=_0x50d134;let _0x1081e6=formatResultString(_0x472b03,0xa),_0x45a223=_0x1081e6[_0x393bc0(0x227)]('.');return _0x45a223!=-0x1&&(_0x1081e6=_0x1081e6[_0x393bc0(0x202)](0x0,_0x45a223+_0x13b493+0x1)),Number(_0x1081e6);}function formatResultString(_0x4fd91b,_0x1ed806){const _0x2afb02=_0x50d134;let _0x280e51;if(!(''+_0x4fd91b)[_0x2afb02(0x259)]('e'))_0x280e51=+(Math['round'](_0x4fd91b+'e+'+_0x1ed806)+'e-'+_0x1ed806);else{let _0x24bb32=(''+_0x4fd91b)[_0x2afb02(0x207)]('e'),_0x781f03='';+_0x24bb32[0x1]+_0x1ed806>0x0&&(_0x781f03='+'),_0x280e51=+(Math['round'](+_0x24bb32[0x0]+'e'+_0x781f03+(+_0x24bb32[0x1]+_0x1ed806))+'e-'+_0x1ed806);}return Number(_0x280e51)[_0x2afb02(0x1db)](_0x1ed806);}function logging(_0x5b3f50,_0x13927b=''){const _0x49adb2=_0x50d134;if(config['showname'])console[_0x49adb2(0x220)](getTimeStamp()+':\x20'+config[_0x49adb2(0x252)]+_0x49adb2(0x291)+_0x5b3f50,_0x13927b);else console[_0x49adb2(0x220)](getTimeStamp()+_0x49adb2(0x2dd)+botID+_0x49adb2(0x291)+_0x5b3f50,_0x13927b);}function getServerTime(){const _0x40f2f0=_0x50d134,_0x6130d5=new Date();return _0x6130d5[_0x40f2f0(0x2a1)]()+'/'+(_0x6130d5['getMonth']()+0x1)[_0x40f2f0(0x288)]()[_0x40f2f0(0x2f0)](0x2,'0')+'/'+_0x6130d5[_0x40f2f0(0x2f1)]()[_0x40f2f0(0x288)]()['padStart'](0x2,'0')+'\x20'+_0x6130d5[_0x40f2f0(0x201)]()[_0x40f2f0(0x288)]()[_0x40f2f0(0x2f0)](0x2,'0')+':'+_0x6130d5['getMinutes']()[_0x40f2f0(0x288)]()[_0x40f2f0(0x2f0)](0x2,'0')+':'+_0x6130d5['getSeconds']()[_0x40f2f0(0x288)]()[_0x40f2f0(0x2f0)](0x2,'0');}function getTimeStamp(){const _0x22ad74=_0x50d134,_0x4f1c51=shiftedTime();return _0x4f1c51[_0x22ad74(0x2a1)]()+'/'+(_0x4f1c51[_0x22ad74(0x294)]()+0x1)[_0x22ad74(0x288)]()[_0x22ad74(0x2f0)](0x2,'0')+'/'+_0x4f1c51[_0x22ad74(0x2f1)]()['toString']()[_0x22ad74(0x2f0)](0x2,'0')+'\x20'+_0x4f1c51['getHours']()['toString']()[_0x22ad74(0x2f0)](0x2,'0')+':'+_0x4f1c51[_0x22ad74(0x2f8)]()[_0x22ad74(0x288)]()['padStart'](0x2,'0')+':'+_0x4f1c51[_0x22ad74(0x2ca)]()[_0x22ad74(0x288)]()[_0x22ad74(0x2f0)](0x2,'0');}function getDate(){const _0x3624f5=_0x50d134,_0x2bf445=shiftedTime();return _0x2bf445[_0x3624f5(0x2a1)]()+'/'+(_0x2bf445['getMonth']()+0x1)[_0x3624f5(0x288)]()[_0x3624f5(0x2f0)](0x2,'0')+'/'+_0x2bf445['getDate']()[_0x3624f5(0x288)]()[_0x3624f5(0x2f0)](0x2,'0');}function getHour(){const _0x52596c=_0x50d134,_0x16c8ce=shiftedTime();return _0x16c8ce['getHours']()[_0x52596c(0x288)]()['padStart'](0x2,'0');}function sleep(_0x2aa82b){return new Promise(_0x3d7758=>setTimeout(_0x3d7758,_0x2aa82b));}function shiftedTime(){const _0x4ff92a=_0x50d134,_0x3098e2=new Date();let _0x32761d=_0x3098e2;if(config&&config[_0x4ff92a(0x1e0)]!==0x0)_0x32761d=fns[_0x4ff92a(0x20e)](_0x3098e2,{'hours':config['timeshift']});return _0x32761d;}