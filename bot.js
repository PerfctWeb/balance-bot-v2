const _0x4194f8=_0x2bfe;(function(_0x28b27d,_0x4ff1d9){const _0x41e6d7=_0x2bfe,_0x41b82d=_0x28b27d();while(!![]){try{const _0x2687ad=parseInt(_0x41e6d7(0x260))/0x1*(-parseInt(_0x41e6d7(0x237))/0x2)+parseInt(_0x41e6d7(0x1b6))/0x3+parseInt(_0x41e6d7(0x27f))/0x4+-parseInt(_0x41e6d7(0x2c7))/0x5+parseInt(_0x41e6d7(0x192))/0x6*(-parseInt(_0x41e6d7(0x28b))/0x7)+-parseInt(_0x41e6d7(0x1f7))/0x8+parseInt(_0x41e6d7(0x225))/0x9;if(_0x2687ad===_0x4ff1d9)break;else _0x41b82d['push'](_0x41b82d['shift']());}catch(_0x3d610a){_0x41b82d['push'](_0x41b82d['shift']());}}}(_0x5967,0x94f61));const _0x918101=function(){let _0x2e6b54=!![];return function(_0x1c0a00,_0x2f2e75){const _0x5b2425=_0x2e6b54?function(){const _0x2109f9=_0x2bfe;if(_0x2f2e75){const _0x5094f4=_0x2f2e75[_0x2109f9(0x21e)](_0x1c0a00,arguments);return _0x2f2e75=null,_0x5094f4;}}:function(){};return _0x2e6b54=![],_0x5b2425;};}(),_0x23a415=_0x918101(this,function(){const _0x530a0c=_0x2bfe;return _0x23a415[_0x530a0c(0x2e0)]()[_0x530a0c(0x1ba)](_0x530a0c(0x293))[_0x530a0c(0x2e0)]()[_0x530a0c(0x182)](_0x23a415)[_0x530a0c(0x1ba)]('(((.+)+)+)+$');});_0x23a415();'use strict';const ccxt=require(_0x4194f8(0x1f6)),low=require(_0x4194f8(0x22f)),FileSync=require(_0x4194f8(0x226)),fs=require('fs'),fns=require(_0x4194f8(0x2db)),Crypt=require(_0x4194f8(0x2d3))[_0x4194f8(0x258)],util=require(_0x4194f8(0x188)),argv=require('yargs/yargs')(process['argv'][_0x4194f8(0x166)](0x2))[_0x4194f8(0x27c)],path=require('path'),axios=require(_0x4194f8(0x246));let exchange;global[_0x4194f8(0x1f2)]={},global['change']={};const usdBasecoins=['USD',_0x4194f8(0x1ae),_0x4194f8(0x2d5),'USDT',_0x4194f8(0x1c1),_0x4194f8(0x2b9)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x4194f8(0x16b)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x4194f8(0x18e)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes',loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x4194f8(0x278))[_0x4194f8(0x1a2)],botID=process['argv'][0x2]||_0x4194f8(0x261),pattern=/^[0-9]{3}$/;!pattern[_0x4194f8(0x1db)](botID)&&(console[_0x4194f8(0x22a)](_0x4194f8(0x227)+botID+_0x4194f8(0x22e)),killBot());const userID=process[_0x4194f8(0x27c)][0x3]||'',configpath=userID?_0x4194f8(0x292)+userID+'/':_0x4194f8(0x292),logspath=userID?'./logs/'+userID+'/':'./logs/',loggerfile=fs[_0x4194f8(0x1d5)](logspath+_0x4194f8(0x28e),{'flags':'a'});!fs[_0x4194f8(0x177)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x4194f8(0x177)](logspath)&&fs[_0x4194f8(0x1e7)](logspath);const configfile=configpath+_0x4194f8(0x26b)+botID+_0x4194f8(0x24d),logfile=configpath+_0x4194f8(0x26b)+botID+_0x4194f8(0x1de),performancefile=configpath+_0x4194f8(0x26b)+botID+_0x4194f8(0x2f0),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+_0x4194f8(0x172),securefile=configpath+_0x4194f8(0x15c),configbackuppath=configpath+_0x4194f8(0x2eb),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x4194f8(0x24b)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x4194f8(0x24b)]({'data':[],'version':serverversion})[_0x4194f8(0x156)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x4194f8(0x24b)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x4194f8(0x156)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x4194f8(0x222),'rsaStandard':_0x4194f8(0x20f)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x413ed9=>{console['log'](_0x413ed9);},'simple':_0x5e7e19=>{const _0xb5894f=_0x4194f8;console[_0xb5894f(0x22a)](_0x5e7e19),loggerfile[_0xb5894f(0x156)](util[_0xb5894f(0x15a)](_0x5e7e19)+'\x0a');},'full':async(_0x20ee9a,_0x3cdb91='')=>{const _0x5db859=_0x4194f8;let _0x5b72e0;if(config['showname'])_0x5b72e0=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x20ee9a;else _0x5b72e0=getTimeStamp()+_0x5db859(0x2b5)+botID+_0x5db859(0x1b5)+_0x20ee9a;console['log'](_0x5b72e0),loggerfile['write'](util['format'](_0x5b72e0)+'\x0a'),_0x3cdb91&&(console[_0x5db859(0x22a)](_0x3cdb91),loggerfile[_0x5db859(0x156)](util[_0x5db859(0x15a)](_0x3cdb91)+'\x0a'));},'debug':async(_0xd5ebf,_0x1a6d89='')=>{const _0x5c96b1=_0x4194f8;let _0x52141f;if(config[_0x5c96b1(0x2a0)])_0x52141f=getTimeStamp()+':\x20'+config[_0x5c96b1(0x27e)]+'\x20>\x20[DEBUG]\x20'+_0xd5ebf;else _0x52141f=getTimeStamp()+_0x5c96b1(0x2b5)+botID+_0x5c96b1(0x208)+_0xd5ebf;if(debugging)console[_0x5c96b1(0x22a)](_0x52141f);loggerfile[_0x5c96b1(0x156)](util['format'](_0x52141f)+'\x0a');if(_0x1a6d89){if(debugging)console[_0x5c96b1(0x22a)](_0x1a6d89);loggerfile['write'](util[_0x5c96b1(0x15a)](_0x1a6d89)+'\x0a');}}};process['on'](_0x4194f8(0x29e),function(_0x53884a){const _0x2c7e61=_0x4194f8;handleError(_0x53884a,_0x2c7e61(0x29e));});settings['timeshift']!=config[_0x4194f8(0x2d6)]&&updateTimeshift(settings[_0x4194f8(0x2d6)]);settings['onepagemode']!=config[_0x4194f8(0x291)]&&updateOnepagemode(settings[_0x4194f8(0x291)]);(settings[_0x4194f8(0x214)]&&!config[_0x4194f8(0x214)]||!settings[_0x4194f8(0x214)]&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x4194f8(0x214)]);process[_0x4194f8(0x1be)]({'started':_0x4194f8(0x28d)},_0x529f22=>{}),initializeProcessListeners();function proxyEmit(_0xf83c2a,_0x156532=null){process['send']({'function':_0xf83c2a,'args':_0x156532},_0x53b29c=>{});}function initializeProcessListeners(){const _0x5375b2=_0x4194f8;process['on'](_0x5375b2(0x1f0),_0x4ad9c9=>{const _0x41d438=_0x5375b2;switch(Object[_0x41d438(0x186)](_0x4ad9c9)[0x0]){case _0x41d438(0x2d6):_0x4ad9c9['timeshift']!=undefined&&(settings[_0x41d438(0x2d6)]=_0x4ad9c9[_0x41d438(0x2d6)],updateTimeshift(settings[_0x41d438(0x2d6)]));break;case _0x41d438(0x291):_0x4ad9c9[_0x41d438(0x291)]!=undefined&&(settings[_0x41d438(0x291)]=_0x4ad9c9[_0x41d438(0x291)],updateOnepagemode(settings[_0x41d438(0x291)]));break;case _0x41d438(0x214):_0x4ad9c9[_0x41d438(0x214)]!=undefined&&(settings[_0x41d438(0x214)]=_0x4ad9c9[_0x41d438(0x214)],updateMarketcapApi(settings['marketcapApi']));break;case'bots':_0x4ad9c9[_0x41d438(0x203)]!=undefined&&(bots=JSON['parse'](_0x4ad9c9[_0x41d438(0x203)]),proxyEmit(_0x41d438(0x203),bots));break;case'function':switch(_0x4ad9c9[_0x41d438(0x196)]){case'initclient':initclient();break;case _0x41d438(0x2e8):toggleBotMode();break;case _0x41d438(0x19a):emitHistory(_0x4ad9c9['args']);break;case _0x41d438(0x21c):deleteHistoryAlerts(_0x4ad9c9[_0x41d438(0x274)]);break;case _0x41d438(0x22d):getPortfolio(_0x4ad9c9[_0x41d438(0x274)]);break;case _0x41d438(0x263):storeConfiguration(_0x4ad9c9[_0x41d438(0x274)]);break;case _0x41d438(0x26e):storeHeadless(_0x4ad9c9[_0x41d438(0x274)]);break;case'storeFiat':storeFiat(_0x4ad9c9[_0x41d438(0x274)]);break;case _0x41d438(0x185):resetHistory();break;case _0x41d438(0x254):getStartingBalances(getNormalizedPerformance());break;case _0x41d438(0x1d3):placeOrder(_0x4ad9c9[_0x41d438(0x274)]);break;case _0x41d438(0x267):cancelLoading();break;case _0x41d438(0x280):showConfig();break;case _0x41d438(0x1fa):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x151b99=![]){const _0x2e66fb=_0x4194f8;logger[_0x2e66fb(0x247)](_0x2e66fb(0x2ed)+(_0x151b99?_0x2e66fb(0x171):_0x2e66fb(0x154))+'\x20|\x20exchange:\x20'+config[_0x2e66fb(0x21b)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x151b99)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x2e66fb(0x20d)]!=''&&config[_0x2e66fb(0x20d)]!=_0x2e66fb(0x2c6)){loadingProgress=0x0;if(_0x151b99){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x4924b9){handleErrorNoStop(_0x4924b9,_0x2e66fb(0x25a));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x3a5068=await getCoins();[currentCoins,currentCoinsAll]=_0x3a5068,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x2e66fb(0x247)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2e66fb(0x295)]==0x0&&allOpenOrders[_0x2e66fb(0x295)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x28a88a){const _0x31de98=_0x4194f8;let _0x26ce33=![];if(_0x28a88a)_0x26ce33=!![];let _0x48ae9b;_0x26ce33?_0x48ae9b=_0x28a88a['map'](_0x56e855=>_0x56e855[_0x31de98(0x25f)]):_0x48ae9b=currentCoinsAll[_0x31de98(0x268)](_0x3a3465=>_0x3a3465['coin']);if(!config[_0x31de98(0x214)]||!_0x26ce33&&!config[_0x31de98(0x279)]||_0x48ae9b['length']==0x0)return;let _0x8732b=null;try{_0x8732b=await axios['get'](_0x31de98(0x2a2),{'headers':{'X-CMC_PRO_API_KEY':settings['marketcapApi']},'params':{'symbol':_0x48ae9b['toString']()}});}catch(_0x1d5902){_0x8732b=null,_0x1d5902[_0x31de98(0x2e0)]()[_0x31de98(0x1ec)]('status\x20code\x20401')?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x31de98(0x1f3),emittedConfiguration()),logHistory(_0x31de98(0x255),_0x31de98(0x1d8))):(logHistory(_0x31de98(0x255),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+marketCapInterval/(0x3c*0x3e8)+_0x31de98(0x2de)),logger['debug'](_0x31de98(0x1ad),_0x1d5902[_0x31de98(0x2e0)]()+_0x31de98(0x229)+_0x1d5902[_0x31de98(0x189)]));}if(_0x8732b){let _0x3c2237=0x0;const _0x478377=_0x8732b['data'];_0x48ae9b[_0x31de98(0x29f)](_0x577b3b=>{const _0x1eac05=_0x31de98;if(_0x478377['data'][_0x577b3b][0x0])_0x3c2237+=_0x478377[_0x1eac05(0x1b0)][_0x577b3b][0x0][_0x1eac05(0x28a)][_0x1eac05(0x259)][_0x1eac05(0x2fa)];}),_0x48ae9b[_0x31de98(0x29f)](_0xa378c8=>{const _0x459d51=_0x31de98,_0x200109=_0x478377[_0x459d51(0x1b0)][_0xa378c8][0x0]?_0x478377[_0x459d51(0x1b0)][_0xa378c8][0x0][_0x459d51(0x28a)][_0x459d51(0x259)][_0x459d51(0x2fa)]:0x0;if(_0x26ce33){const _0x147852=_0x28a88a[_0x459d51(0x1e0)](_0x16fd75=>_0x16fd75[_0x459d51(0x25f)]==_0xa378c8);_0x147852&&(_0x147852['marketcap']=_0x200109);}else{const _0x2d59ac=currentCoins[_0x459d51(0x1e0)](_0x30ace5=>_0x30ace5[_0x459d51(0x25f)]==_0xa378c8);_0x2d59ac&&(_0x2d59ac[_0x459d51(0x233)]=_0x200109);const _0x40c510=currentCoinsAll[_0x459d51(0x1e0)](_0x467bc8=>_0x467bc8['coin']==_0xa378c8);_0x40c510&&(_0x40c510[_0x459d51(0x233)]=_0x200109);}}),!_0x26ce33&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x13b289=_0x4194f8,_0x46655c=0x2;let _0x43c38b=0x0,_0x8a9b68=0x0,_0xacc46c=0x0,_0x2c7e2c=0x0;config[_0x13b289(0x1a7)][_0x13b289(0x29f)](_0x17ad58=>{const _0x36a18c=_0x13b289;if(!_0x17ad58[_0x36a18c(0x169)]){_0xacc46c++,_0x43c38b+=_0x17ad58[_0x36a18c(0x18a)];if(_0x17ad58[_0x36a18c(0x18a)]===-0x1){_0x43c38b++;const _0x1f0f7d=currentCoinsAll[_0x36a18c(0x1e0)](_0x53ad3d=>_0x53ad3d['coin']==_0x17ad58[_0x36a18c(0x25f)]);_0x1f0f7d&&(_0x2c7e2c+=_0x1f0f7d['marketcap']);}if(_0x17ad58[_0x36a18c(0x18a)]!==-0x1)_0x8a9b68++;}});let _0x23133e;const _0x1cf9e6=0x64-_0x43c38b,_0x4a347c=_0xacc46c-_0x8a9b68;_0x23133e=_0x4a347c===0x0?_0x43c38b:Math[_0x13b289(0x2d1)](0x64,_0x43c38b),config['portfolio']['forEach'](_0x54ba86=>{const _0x3f8604=_0x13b289,_0x10e6cc=currentCoinsAll[_0x3f8604(0x1e0)](_0x4f52ef=>_0x4f52ef[_0x3f8604(0x25f)]==_0x54ba86['coin']);_0x10e6cc&&(_0x54ba86[_0x3f8604(0x233)]=_0x10e6cc['marketcap']),!_0x54ba86[_0x3f8604(0x169)]&&(_0x23133e<=0x64&&(_0x54ba86['slider']===-0x1&&(_0x2c7e2c!==0x0&&config['marketcapEnabled']&&(_0x10e6cc&&(_0x54ba86['distribution']=(_0x1cf9e6/(_0x2c7e2c/_0x10e6cc[_0x3f8604(0x233)]))[_0x3f8604(0x23e)](_0x46655c))))));}),updateConfig();}function updateConfig(){const _0x1d76ec=_0x4194f8;let _0x2d44e5=dbConfig[_0x1d76ec(0x24c)](_0x1d76ec(0x2cb))['find']({'botID':botID})[_0x1d76ec(0x2c3)]();_0x2d44e5&&dbConfig[_0x1d76ec(0x24c)](_0x1d76ec(0x2cb))[_0x1d76ec(0x1e0)]({'botID':botID})[_0x1d76ec(0x2b1)](config)['write']();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x4dcaf2=_0x4194f8;exchangeStopped=!![];try{await exchange[_0x4dcaf2(0x2a1)]();}catch(_0x2a7b34){await handleError(_0x2a7b34,_0x4dcaf2(0x2c8));}}async function reloadExchange(){const _0x350475=_0x4194f8;while(lockOrders!=ORDERS[_0x350475(0x18e)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x350475(0x247)](_0x350475(0x191)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x1ef6c9=config['exchange'],_0x1ce14e=config[_0x4194f8(0x20d)],_0x89dc8a=config[_0x4194f8(0x209)],_0x2e3c98=config[_0x4194f8(0x29c)]){const _0x654474=_0x4194f8;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x1ef6c9)&&(logHistory(_0x654474(0x255),_0x654474(0x1bc)+_0x1ef6c9+_0x654474(0x251)),killBot());const _0x320db7=ccxt[_0x654474(0x29b)][_0x1ef6c9[_0x654474(0x1d6)]()];exchange=new _0x320db7({'apiKey':_0x1ce14e,'secret':_0x89dc8a,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x654474(0x220)}});if(_0x2e3c98)exchange[_0x654474(0x2c1)]=_0x2e3c98;}function setStableCoins(){const _0x37f518=_0x4194f8;let _0x4a7b97=config[_0x37f518(0x1b8)]==_0x37f518(0x1f9)?_0x37f518(0x1f9):config[_0x37f518(0x1b8)]==_0x37f518(0x2ef)?_0x37f518(0x2ef):_0x37f518(0x27d),_0x316c46=!allSymbols[_0x37f518(0x1ec)](_0x4a7b97+_0x37f518(0x2ec))?_0x37f518(0x236):'USD',_0x3871af=!allSymbols['includes'](_0x4a7b97+_0x37f518(0x26f))?_0x316c46:'EUR';stablecoins={'eur':{'coin':''+_0x4a7b97+_0x3871af,'symbol':_0x4a7b97+'/'+_0x3871af},'usd':{'coin':''+_0x4a7b97+_0x316c46,'symbol':_0x4a7b97+'/'+_0x316c46}};}async function initwsCcxt(){const _0x3009bc=_0x4194f8;initCycle++;const _0x398c6b=initCycle;let _0x426c92=[];config['portfolio'][_0x3009bc(0x29f)](_0x57d872=>{const _0x21cdbe=_0x3009bc;if(!_0x57d872[_0x21cdbe(0x169)]&&_0x57d872[_0x21cdbe(0x25f)]!=config[_0x21cdbe(0x1b8)])_0x426c92['push'](_0x57d872['symbol']);});if(!_0x426c92['includes'](stablecoins[_0x3009bc(0x20e)][_0x3009bc(0x193)]))_0x426c92['push'](stablecoins[_0x3009bc(0x20e)][_0x3009bc(0x193)]);if(!_0x426c92[_0x3009bc(0x1ec)](stablecoins[_0x3009bc(0x2f6)][_0x3009bc(0x193)]))_0x426c92[_0x3009bc(0x213)](stablecoins[_0x3009bc(0x2f6)][_0x3009bc(0x193)]);if(config[_0x3009bc(0x21b)][_0x3009bc(0x1af)](_0x3009bc(0x1a3))&&config[_0x3009bc(0x1b8)]!=_0x3009bc(0x2ef)){if(!_0x426c92['includes'](_0x3009bc(0x164)+config[_0x3009bc(0x1b8)]))_0x426c92['push'](_0x3009bc(0x164)+config['basecoin']);}loadCoins(_0x426c92),_0x426c92=validateSymbols(_0x426c92);const _0x1def1a=async _0x1b7400=>{const _0x5eaf04=_0x3009bc;let _0x142ab2;try{const _0x1681e0=await getTickers(_0x1b7400);Object[_0x5eaf04(0x211)](_0x1681e0)[_0x5eaf04(0x29f)](_0x376790=>{const _0x335a40=_0x5eaf04;_0x142ab2=_0x376790[0x1]['symbol'],global[_0x335a40(0x1f2)][noslash(_0x142ab2)]=_0x376790[0x1][_0x335a40(0x16c)],global['change'][_0x142ab2]=_0x376790[0x1]['percentage'];});}catch(_0x41c366){await handleError(_0x41c366,_0x5eaf04(0x161),_0x142ab2);}},_0x2ad605=async _0x5b833b=>{const _0x1bbcae=_0x3009bc;while(initCycle==_0x398c6b){if(!botPaused)try{const _0x357ce0=await exchange[_0x1bbcae(0x1dc)](_0x5b833b);global['ticker'][noslash(_0x357ce0[0x0]['symbol'])]=_0x357ce0[0x0][_0x1bbcae(0x1ff)],await sleep(0x3e8);}catch(_0x5ce660){if(!exchangeStopped)await handleError(_0x5ce660,_0x1bbcae(0x2c0),_0x5b833b);}else await sleep(0x64);}},_0x22e3af=async _0xef8731=>{const _0xcd5f90=_0x3009bc;while(initCycle==_0x398c6b){if(!botPaused){let _0x786981;try{await sleep(0x3c*0x3e8);const _0x536ff7=await getTickers(_0xef8731);Object[_0xcd5f90(0x211)](_0x536ff7)[_0xcd5f90(0x29f)](_0x25c78f=>{const _0x1775a2=_0xcd5f90;_0x786981=_0x25c78f[0x1][_0x1775a2(0x193)],global[_0x1775a2(0x2cf)][_0x786981]=_0x25c78f[0x1][_0x1775a2(0x1b7)];});}catch(_0x117505){if(!exchangeStopped)await handleError(_0x117505,_0xcd5f90(0x2f4),_0x786981);}}else await sleep(0x64);}},_0x2b3189=async _0x57e13d=>{const _0x90ee74=_0x3009bc;while(initCycle==_0x398c6b){if(!botPaused)try{const _0x4466c8=await exchange[_0x90ee74(0x252)](_0x57e13d);initCycle==_0x398c6b&&_0x4466c8[_0x90ee74(0x29f)](_0x1cc28d=>{updateNumberCoinsCcxt(_0x1cc28d);});}catch(_0xe57a3b){if(!exchangeStopped)await handleError(_0xe57a3b,_0x90ee74(0x158));}else await sleep(0x64);}};_0x1def1a(_0x426c92),_0x22e3af(_0x426c92),_0x426c92[_0x3009bc(0x29f)](_0x4ebe61=>{_0x2ad605(_0x4ebe61),_0x2b3189(_0x4ebe61);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x44c226){const _0xb434fc=_0x4194f8;let _0x140046={};try{if(config[_0xb434fc(0x21b)]!='Cryptocom')_0x140046=await exchange[_0xb434fc(0x223)](_0x44c226);else for(const _0x2bdc82 of _0x44c226){const _0x457e7e=await exchange[_0xb434fc(0x202)](_0x2bdc82);_0x140046[_0x2bdc82]=_0x457e7e;}return _0x140046;}catch(_0x3d2bd4){throw _0x3d2bd4;}}async function watchTransactions(){const _0x4695dd=_0x4194f8;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x1078b1=await getCoins(),[_0x277443,_0x39dda2]=_0x1078b1;let _0x2f5cfc=[];currentCoins[_0x4695dd(0x29f)](_0x4f29a1=>{const _0x3160d6=_0x4695dd,_0x2fb354=_0x277443[_0x3160d6(0x1e0)](_0x176463=>_0x176463[_0x3160d6(0x25f)]==_0x4f29a1[_0x3160d6(0x25f)]);if(_0x2fb354){if(_0x4f29a1[_0x3160d6(0x1b2)]!=_0x2fb354['number']){let _0x5c2998;if(_0x4f29a1[_0x3160d6(0x25f)]!=config[_0x3160d6(0x1b8)]){const _0x295aef=global['ticker'][noslash(_0x4f29a1[_0x3160d6(0x193)])];_0x5c2998=_0x4f29a1[_0x3160d6(0x200)]?0x1/_0x295aef:_0x295aef;}else _0x5c2998=0x1;_0x2f5cfc[_0x3160d6(0x213)]({'coin':_0x4f29a1[_0x3160d6(0x25f)],'symbol':_0x4f29a1[_0x3160d6(0x193)],'price':_0x5c2998,'number':Number(formatResult(_0x2fb354[_0x3160d6(0x1b2)]-_0x4f29a1[_0x3160d6(0x1b2)],0x8)),'basecoinvalue':_0x5c2998*(_0x2fb354[_0x3160d6(0x1b2)]-_0x4f29a1[_0x3160d6(0x1b2)])});}}});if(_0x2f5cfc[_0x4695dd(0x295)]==0x1&&!blockTransactionDetection){if(config[_0x4695dd(0x256)]){logger[_0x4695dd(0x247)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x2f5cfc[0x0][_0x4695dd(0x244)]+_0x4695dd(0x1b9)+lastFees[_0x4695dd(0x2cc)]);if(lastFees[_0x4695dd(0x2cc)]==0x0||Math[_0x4695dd(0x17a)](_0x2f5cfc[0x0][_0x4695dd(0x244)])>lastFees['highest']){delete _0x2f5cfc[0x0][_0x4695dd(0x193)],delete _0x2f5cfc[0x0][_0x4695dd(0x244)];let _0x1df92f=[],_0x3e060f=[...config[_0x4695dd(0x21f)]]||[],_0x45bfb0=config['liquidity'];_0x3e060f[_0x4695dd(0x205)]((_0x3b8eba,_0xac5017)=>_0x3b8eba['date']>_0xac5017[_0x4695dd(0x2bc)]?-0x1:_0xac5017['date']>_0x3b8eba['date']?0x1:0x0);const _0x3abb84=getDate();if(_0x3e060f[0x0]){const _0x412230=fns[_0x4695dd(0x2f5)](_0x3e060f[0x0][_0x4695dd(0x2bc)],_0x4695dd(0x2dd),new Date()),_0x496faa=fns[_0x4695dd(0x2f5)](_0x3abb84,_0x4695dd(0x2dd),new Date());if(fns[_0x4695dd(0x1bf)](_0x412230,_0x496faa)){_0x1df92f=_0x3e060f[0x0][_0x4695dd(0x1fc)];const _0xf1548a=_0x1df92f['find'](_0x3e7563=>_0x3e7563[_0x4695dd(0x25f)]==_0x2f5cfc[0x0][_0x4695dd(0x25f)]);_0xf1548a?(_0xf1548a[_0x4695dd(0x1b2)]+=_0x2f5cfc[0x0][_0x4695dd(0x1b2)],_0xf1548a[_0x4695dd(0x1b2)]==0x0&&(_0x1df92f=_0x1df92f['filter'](_0x350529=>{const _0x58f1e4=_0x4695dd;return _0x350529[_0x58f1e4(0x25f)]!=_0x2f5cfc[0x0]['coin'];}))):_0x1df92f[_0x4695dd(0x213)](_0x2f5cfc[0x0]);const _0x25918a=_0x45bfb0[_0x4695dd(0x1e0)](_0x4fcace=>_0x4fcace[_0x4695dd(0x2bc)]==_0x3abb84);_0x25918a[_0x4695dd(0x1fc)]=_0x1df92f;}else _0x45bfb0[_0x4695dd(0x213)]({'date':_0x3abb84,'changes':[_0x2f5cfc[0x0]]});}const _0x4ff41f=_0x45bfb0[_0x4695dd(0x1e0)](_0x5bb89=>_0x5bb89[_0x4695dd(0x2bc)]==_0x3abb84);if(_0x4ff41f){let _0x185872=!![];_0x4ff41f['changes'][_0x4695dd(0x29f)](_0x4e1a6a=>{const _0x576802=_0x4695dd;if(_0x4e1a6a[_0x576802(0x1b2)]!=0x0)_0x185872=![];}),_0x185872&&(_0x45bfb0=_0x45bfb0[_0x4695dd(0x1c0)](_0x10e772=>{const _0x3d2297=_0x4695dd;return _0x10e772[_0x3d2297(0x2bc)]!=_0x3abb84;}));}let _0x4a5b29=dbConfig[_0x4695dd(0x24c)](_0x4695dd(0x2cb))[_0x4695dd(0x1e0)]({'botID':botID})[_0x4695dd(0x2c3)]();_0x4a5b29&&(dbConfig[_0x4695dd(0x24c)](_0x4695dd(0x2cb))['find']({'botID':botID})[_0x4695dd(0x2b1)]({'liquidity':_0x45bfb0})[_0x4695dd(0x156)](),config[_0x4695dd(0x21f)]=_0x45bfb0),logHistory(_0x4695dd(0x1fd),_0x4695dd(0x190)+Math['abs'](_0x2f5cfc[0x0][_0x4695dd(0x1b2)])+'\x20'+_0x2f5cfc[0x0][_0x4695dd(0x25f)]+'\x20'+(_0x2f5cfc[0x0][_0x4695dd(0x1b2)]>0x0?_0x4695dd(0x28c):_0x4695dd(0x1a6))+_0x4695dd(0x25d)),proxyEmit(_0x4695dd(0x1f3),emittedConfiguration());}else logger['debug'](_0x4695dd(0x2aa)+Math[_0x4695dd(0x17a)](_0x2f5cfc[0x0]['number'])+'\x20'+_0x2f5cfc[0x0][_0x4695dd(0x25f)]+'\x20'+(_0x2f5cfc[0x0][_0x4695dd(0x1b2)]>0x0?_0x4695dd(0x28c):_0x4695dd(0x1a6)));transactionDetected=!![];}else logger[_0x4695dd(0x247)](_0x4695dd(0x190)+Math[_0x4695dd(0x17a)](_0x2f5cfc[0x0][_0x4695dd(0x1b2)])+'\x20'+_0x2f5cfc[0x0]['coin']+'\x20'+(_0x2f5cfc[0x0][_0x4695dd(0x1b2)]>0x0?_0x4695dd(0x28c):_0x4695dd(0x1a6))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x277443,currentCoinsAll=_0x39dda2,await sleep(watchTransactionsInterval);}catch(_0xcfbeb2){if(!exchangeStopped)await handleError(_0xcfbeb2,'watchTransactions()');}else await sleep(0x64);}}async function loadSymbols(){const _0x121904=_0x4194f8;try{markets=await exchange[_0x121904(0x21d)](),allSymbols=[],Object[_0x121904(0x211)](markets)['forEach'](_0x445ead=>{const _0x23c957=_0x121904;_0x445ead[0x1]['active']&&_0x445ead[0x1][_0x23c957(0x220)]&&allSymbols['push'](_0x445ead[0x0]);});}catch(_0x383f75){throw _0x383f75;}}function validateSymbols(_0x2cbf8c){let _0x3f3221=[];return _0x2cbf8c['forEach'](_0x296497=>{const _0x403b0f=_0x2bfe;!allSymbols[_0x403b0f(0x1ec)](_0x296497)?logHistory(_0x403b0f(0x255),_0x403b0f(0x298)+_0x296497+_0x403b0f(0x2a8)):_0x3f3221[_0x403b0f(0x213)](_0x296497);}),_0x3f3221;}async function initclient(){const _0x51a491=_0x4194f8;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x51a491(0x153),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x51a491(0x269),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x48abe4=getNormalizedPerformance();emitPerformance(_0x48abe4),getStartingBalances(_0x48abe4);}async function toggleBotMode(){const _0x2c8170=_0x4194f8;let _0x17ca88=dbConfig[_0x2c8170(0x24c)]('bot')[_0x2c8170(0x1e0)]({'botID':botID})[_0x2c8170(0x2c3)]();if(_0x17ca88){const _0x450b75=!_0x17ca88[_0x2c8170(0x26a)];dbConfig[_0x2c8170(0x24c)](_0x2c8170(0x2cb))[_0x2c8170(0x1e0)]({'botID':botID})['assign']({'headless':_0x450b75})[_0x2c8170(0x156)](),config[_0x2c8170(0x26a)]=_0x450b75,proxyEmit(_0x2c8170(0x1f3),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x44f1c4=_0x4194f8;process[_0x44f1c4(0x1be)]({'updatebotmanager':!![]},_0xd2b057=>{}),logger['debug'](_0x44f1c4(0x160)+config[_0x44f1c4(0x26a)]);}async function loadCoins(_0x34efdb){const _0x29d9d2=_0x4194f8;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x4e6b15,_0x1aa19a=0x0,_0x5338cc=0x0;_0x34efdb[_0x29d9d2(0x29f)](_0x539e9b=>{const _0x54782a=_0x29d9d2;loading[_0x54782a(0x162)][_0x54782a(0x213)](_0x539e9b);}),loadingCanceled=![];let _0x306bd0=![];while(_0x4e6b15!=_0x34efdb[_0x29d9d2(0x295)]+maxLoadingProgress){_0x4e6b15=loadingProgress,_0x34efdb['forEach'](_0x124c8d=>{const _0x42c365=_0x29d9d2;if(global['ticker'][noslash(_0x124c8d)]){loading['remainingSymbols']=loading[_0x42c365(0x162)][_0x42c365(0x1c0)](_0x5c3d70=>_0x5c3d70!=_0x124c8d);if(!watchedSymbols[_0x42c365(0x1ec)](_0x124c8d))watchedSymbols[_0x42c365(0x213)](_0x124c8d);_0x4e6b15++;}}),loading[_0x29d9d2(0x24a)]=Math['round'](_0x4e6b15/(_0x34efdb[_0x29d9d2(0x295)]+maxLoadingProgress)*0x64);loading[_0x29d9d2(0x24a)]!=0x64&&(_0x5338cc>0x1e*0x5&&(loading[_0x29d9d2(0x253)]=!![],emitLoadingProgress()),_0x5338cc>0x78*0x5&&!_0x306bd0&&(_0x306bd0=!![],logHistory(_0x29d9d2(0x255),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading['remainingSymbols'][_0x29d9d2(0x1cf)](',\x20')+_0x29d9d2(0x206)),logHistory('error',_0x29d9d2(0x18c)+loadCoinsRetryInterval/0xea60+_0x29d9d2(0x25e)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x28b17a=_0x29d9d2;process[_0x28b17a(0x1be)]({'stop':'restart'},_0xf064f4=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x29d9d2(0x1ee)]=!![],emitLoadingProgress();break;}else _0x1aa19a!=loading[_0x29d9d2(0x24a)]&&(_0x1aa19a=loading[_0x29d9d2(0x24a)],emitLoadingProgress()),_0x5338cc++,await sleep(0xc8);}_0x4e6b15==_0x34efdb['length']+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x29d9d2(0x1bd),'live':_0x29d9d2(0x28d)},_0x4671c9=>{}),_0x306bd0&&logHistory(_0x29d9d2(0x1fd),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x226829=_0x4194f8;proxyEmit(_0x226829(0x1f3),{...emittedConfiguration(),'configstate':_0x226829(0x1cc)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x1161d7=_0x4194f8;let _0x356adc=global[_0x1161d7(0x1f2)][stablecoins[_0x1161d7(0x20e)][_0x1161d7(0x25f)]],_0x5e7a5c=global[_0x1161d7(0x1f2)][stablecoins[_0x1161d7(0x2f6)]['coin']];return{'eur':Number(_0x356adc),'usd':Number(_0x5e7a5c)};}function capitalize(_0x3b9a7c){const _0x349a24=_0x4194f8;return _0x3b9a7c[_0x349a24(0x15b)](0x0,0x1)[_0x349a24(0x2bb)]()+_0x3b9a7c[_0x349a24(0x15b)](0x1);}function supportedExchanges(){const _0x496db8=_0x4194f8,_0x36d7ea=['ws',_0x496db8(0x223),_0x496db8(0x202),_0x496db8(0x1dc),_0x496db8(0x252),_0x496db8(0x296),_0x496db8(0x2a7),_0x496db8(0x285),'fetchClosedOrders',_0x496db8(0x2b6)];let _0x387c97=[],_0x833551=[],_0x328f45=ccxt[_0x496db8(0x29b)]['exchanges'];_0x328f45[_0x496db8(0x29f)](_0x440a23=>{const _0x5c3ef1=_0x496db8;try{const _0x66af46=new ccxt[(_0x5c3ef1(0x29b))][_0x440a23]();_0x833551[_0x5c3ef1(0x213)](_0x66af46);}catch(_0x132737){}}),_0x833551[_0x496db8(0x29f)](_0xce0104=>{const _0x2134d8=_0x496db8;let _0x8ff414=0x0;_0x36d7ea[_0x2134d8(0x29f)](_0x2ef861=>{const _0x46dadd=_0x2134d8;_0x2ef861 in _0xce0104[_0x46dadd(0x1a0)]&&_0xce0104['has'][_0x2ef861]&&_0x8ff414++;}),_0x8ff414==_0x36d7ea[_0x2134d8(0x295)]&&_0x387c97[_0x2134d8(0x213)](capitalize(_0xce0104['id']));});let _0x336595=[];return _0x328f45[_0x496db8(0x29f)](_0x3e99db=>{const _0x8b47ae=_0x496db8;_0x3e99db=capitalize(_0x3e99db);if(!_0x387c97[_0x8b47ae(0x1ec)](_0x3e99db))_0x336595['push'](_0x3e99db);}),_0x387c97;}function setStartDatePerformance(){const _0x2111c8=_0x4194f8;if(config&&config['liquidity'][0x0][_0x2111c8(0x1fc)][_0x2111c8(0x295)]!=0x0){const _0x4e465e=config[_0x2111c8(0x21f)][0x0][_0x2111c8(0x1fc)];dbPerformance['get']('data')[_0x2111c8(0x1e0)]({'date':config['startdate']})['assign']({'coins':_0x4e465e})[_0x2111c8(0x156)]();}}async function recreateCoinResults(){const _0xc54552=_0x4194f8;let _0x2968e9,_0x4bc172=[];try{const _0x4941db=fns[_0xc54552(0x15a)](fns['parseISO'](config[_0xc54552(0x299)]['replace'](/\//g,'-')),_0xc54552(0x1c6));for(const _0xdc51ff of currentCoins){if(_0xdc51ff['coin']!=config[_0xc54552(0x1b8)]){let _0x33c82b=0x0,_0xcc6054,_0x22d69a;_0x2968e9=await getAllEventOrders(_0xdc51ff[_0xc54552(0x193)]);if(_0x2968e9[_0xc54552(0x295)]>0x0)_0x2968e9[_0xc54552(0x29f)](_0x3b4174=>{const _0x3c70f4=_0xc54552,_0x58aaef=_0xdc51ff['symbol']['includes'](config[_0x3c70f4(0x1b8)]+'/');_0x4bc172['push']({'datetime':_0x3b4174[_0x3c70f4(0x290)],'coin':_0xdc51ff[_0x3c70f4(0x25f)],'symbol':_0xdc51ff[_0x3c70f4(0x193)],'side':_0x3b4174[_0x3c70f4(0x167)],'reverse':_0x58aaef,'amount':formatResult(_0x3b4174[_0x3c70f4(0x1a4)],0x8),'filled':formatResult(_0x3b4174[_0x3c70f4(0x1a4)],0x8),'price':formatResult(_0x3b4174[_0x3c70f4(0x1ff)],0x8)}),_0x33c82b=_0x3b4174[_0x3c70f4(0x167)]==_0x3c70f4(0x273)?_0x33c82b+_0x3b4174['filled']:_0x33c82b-_0x3b4174[_0x3c70f4(0x1a4)];if(!_0x22d69a)_0x22d69a=_0x3b4174[_0x3c70f4(0x1ff)];});_0xcc6054=_0xdc51ff[_0xc54552(0x1b2)]-_0x33c82b;let _0x75bae8;config[_0xc54552(0x21f)][_0xc54552(0x29f)](_0x41f30a=>{const _0xbb6941=_0xc54552;!_0x75bae8&&(_0x75bae8=_0x41f30a[_0xbb6941(0x1fc)][_0xbb6941(0x1e0)](_0x5f13b9=>_0x5f13b9['coin']==_0xdc51ff['coin']),_0x75bae8&&(_0xcc6054=_0x75bae8[_0xbb6941(0x1b2)],_0x22d69a=_0x75bae8['price']));});let _0x49c459=dbCoinResults[_0xc54552(0x24c)]('coins')['find']({'coin':_0xdc51ff[_0xc54552(0x25f)]})['value']();_0x49c459={'coin':_0xdc51ff[_0xc54552(0x25f)],'number':_0xcc6054,'breakeven':_0x22d69a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0xc54552(0x232))['find']({'coin':_0xdc51ff[_0xc54552(0x25f)]})[_0xc54552(0x2b1)](_0x49c459)[_0xc54552(0x156)]();}}_0x4bc172[_0xc54552(0x205)]((_0x2ed849,_0x5d9e75)=>_0x2ed849[_0xc54552(0x290)]>_0x5d9e75[_0xc54552(0x290)]?0x1:_0x5d9e75['datetime']>_0x2ed849[_0xc54552(0x290)]?-0x1:0x0);let _0x398d49=0x0;for(let _0x51b643 of _0x4bc172){await updateCoinResults(_0x51b643,!![]);}}catch(_0x38b41d){await handleError(_0x38b41d,_0xc54552(0x159));}}async function getAllEventOrders(_0x821768){const _0x21cead=_0x4194f8;let _0x4b9661=[],_0x1f9567=dbLogs[_0x21cead(0x24c)](_0x21cead(0x2ba))[_0x21cead(0x1c0)](_0x2e21e3=>{const _0x5d816d=_0x21cead,_0x6a3717=_0x2e21e3['event'][_0x5d816d(0x1d6)]();return _0x6a3717[_0x5d816d(0x1ec)](_0x821768[_0x5d816d(0x1d6)]())&&(_0x6a3717[_0x5d816d(0x1ec)]('market')&&_0x6a3717['includes'](_0x5d816d(0x234))||_0x6a3717[_0x5d816d(0x1ec)](_0x5d816d(0x1a4))&&_0x6a3717[_0x5d816d(0x1ec)]('order'));})[_0x21cead(0x15d)](_0x21cead(0x22c))[_0x21cead(0x2c3)]();return _0x1f9567[_0x21cead(0x29f)](_0x15d33b=>{const _0x390659=_0x21cead,_0x371aee=_0x15d33b[_0x390659(0x27a)][_0x390659(0x1ec)](_0x390659(0x2d7))?_0x390659(0x2d7):_0x390659(0x273),_0x46aefa=/#([0-9]|\.)+\s/i,_0x35fd92=Number(_0x46aefa[_0x390659(0x2dc)](_0x15d33b[_0x390659(0x27a)])[0x0][_0x390659(0x166)](0x1)),_0x7b24a2=/@([0-9]|\.)+$/i,_0x5756d1=Number(_0x7b24a2[_0x390659(0x2dc)](_0x15d33b['event'])[0x0][_0x390659(0x166)](0x1));_0x4b9661[_0x390659(0x213)]({'datetime':_0x15d33b['time'],'coin':symbolToCoin(_0x821768),'symbol':_0x821768,'side':_0x371aee,'amount':_0x35fd92,'filled':_0x35fd92,'price':_0x5756d1});}),_0x4b9661;}async function getAllOrders(_0x24eb4c,_0x45f68a){const _0xe370d2=_0x4194f8;let _0x1bd0a8=[];while(_0x45f68a<exchange[_0xe370d2(0x276)]()){const _0x252b6b=0x1f4;try{const _0x2becb0=await exchange[_0xe370d2(0x284)](_0x24eb4c,_0x45f68a,_0x252b6b);if(_0x2becb0[_0xe370d2(0x295)])_0x45f68a=_0x2becb0[_0x2becb0[_0xe370d2(0x295)]-0x1][_0xe370d2(0x175)]+0x1,_0x1bd0a8=_0x1bd0a8[_0xe370d2(0x2e4)](_0x2becb0);else break;}catch(_0x592b6c){await handleError(_0x592b6c,'getAllOrders()',_0x24eb4c);}}return _0x1bd0a8;}async function validate24hChanges(){const _0x24ec08=_0x4194f8;for(const _0x91edf1 of currentCoins){if(_0x91edf1[_0x24ec08(0x25f)]!=config[_0x24ec08(0x1b8)]){let _0x48ba02;_0x91edf1[_0x24ec08(0x200)]?_0x48ba02=formatResult((0x1/(global['change'][_0x91edf1['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x48ba02=global[_0x24ec08(0x2cf)][_0x91edf1[_0x24ec08(0x193)]],_0x48ba02<config['change24h']&&(logHistory(_0x24ec08(0x255),_0x91edf1[_0x24ec08(0x25f)]+_0x24ec08(0x25b)+_0x48ba02+'%'),logHistory(_0x24ec08(0x255),_0x24ec08(0x238)),logHistory(_0x24ec08(0x255),_0x24ec08(0x26c)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x54b62e,_0x519f83){const _0x5d5b64=_0x4194f8;if(!_0x54b62e)return!![];const _0xaf4b1b=_0x519f83[_0x5d5b64(0x179)]('.'),_0x44ef8b=_0x54b62e[_0x5d5b64(0x179)]('.');for(var _0x46dde3=0x0;_0x46dde3<_0x44ef8b[_0x5d5b64(0x295)];_0x46dde3++){const _0x1d7856=~~_0x44ef8b[_0x46dde3],_0x2de3f0=~~_0xaf4b1b[_0x46dde3];if(_0x1d7856<_0x2de3f0)return!![];if(_0x1d7856>_0x2de3f0)return![];}return![];}async function oneTimeMigration(){const _0x423fab=_0x4194f8;let _0x323197=dbLogs[_0x423fab(0x24c)](_0x423fab(0x1a2))[_0x423fab(0x2c3)]();if(isOlderVersion(_0x323197,_0x423fab(0x2f3))){let _0x3fd3c5=[];const _0x1ef5dd=dbLogs[_0x423fab(0x24c)](_0x423fab(0x2ba))[_0x423fab(0x2c3)]();_0x1ef5dd[_0x423fab(0x29f)](_0x51635e=>{const _0x5eb6f4=_0x423fab;_0x3fd3c5[_0x5eb6f4(0x213)]({'time':_0x51635e[_0x5eb6f4(0x22c)],'type':_0x51635e[_0x5eb6f4(0x1ef)],'event':_0x51635e[_0x5eb6f4(0x27a)]});}),dbLogs[_0x423fab(0x24c)](_0x423fab(0x2ba))['assign'](_0x3fd3c5)[_0x423fab(0x156)]();}let _0x4c66f1=dbConfig[_0x423fab(0x24c)]('version')[_0x423fab(0x2c3)]();if(isOlderVersion(_0x4c66f1,_0x423fab(0x2f3))){let _0x544eb4=dbConfig[_0x423fab(0x24c)](_0x423fab(0x2cb))[_0x423fab(0x1e0)]({'botID':botID})[_0x423fab(0x2c3)]();if(_0x544eb4){let _0x5635fd=[];_0x544eb4[_0x423fab(0x1a7)][_0x423fab(0x29f)](_0x1577ac=>{const _0x42ca9d=_0x423fab;_0x5635fd[_0x42ca9d(0x213)]({'coin':_0x1577ac[_0x42ca9d(0x25f)],'number':_0x1577ac[_0x42ca9d(0x2b3)],'price':_0x1577ac[_0x42ca9d(0x1ab)]}),delete _0x1577ac[_0x42ca9d(0x2b3)],delete _0x1577ac[_0x42ca9d(0x1ab)];});if(_0x5635fd[_0x423fab(0x295)]!==0x0)fs['writeFile'](configbackuppath+('starting-balance-'+botID+_0x423fab(0x257)),JSON['stringify'](_0x5635fd,null,0x4),function(_0x486037){if(_0x486037){}});const _0x2f2580=(_0x524f9c,_0x327ffa)=>{const _0x5cb258=_0x423fab;let _0x21859c=[];_0x327ffa[_0x5cb258(0x29f)](_0x3837a6=>{const _0x21c48f=_0x5cb258,_0x9f6d2=_0x524f9c[_0x21c48f(0x1e0)](_0x4ec5dd=>_0x4ec5dd[_0x21c48f(0x25f)]==_0x3837a6['coin']);if(!_0x9f6d2)_0x21859c[_0x21c48f(0x213)](_0x3837a6);});let _0x5167e5=[];return _0x524f9c[_0x5cb258(0x29f)](_0x39977c=>{const _0xc61d49=_0x5cb258,_0x3f41dc=_0x327ffa[_0xc61d49(0x1e0)](_0x20011f=>_0x20011f[_0xc61d49(0x25f)]==_0x39977c[_0xc61d49(0x25f)]);if(!_0x3f41dc||_0x3f41dc[_0xc61d49(0x1b2)]==0x0&&_0x39977c[_0xc61d49(0x1b2)]!=0x0)_0x5167e5[_0xc61d49(0x213)](_0x39977c);}),{'missingDay1':_0x21859c,'notInDay2':_0x5167e5};},_0x54978b=dbPerformance[_0x423fab(0x24c)](_0x423fab(0x1b0))['cloneDeep']()[_0x423fab(0x2c3)]();if(_0x54978b[_0x423fab(0x295)]>0x1){const {missingDay1:_0x1515fa,notInDay2:_0x454b81}=_0x2f2580(_0x5635fd,_0x54978b[0x1][_0x423fab(0x232)]);_0x5635fd=[..._0x5635fd,..._0x1515fa],_0x454b81[_0x423fab(0x29f)](_0x15fba1=>{const _0x1e367a=_0x423fab;let _0x499be2=_0x5635fd[_0x1e367a(0x215)](_0x3a75aa=>_0x3a75aa[_0x1e367a(0x25f)]==_0x15fba1[_0x1e367a(0x25f)]);_0x499be2!=-0x1&&_0x5635fd[_0x1e367a(0x2c4)](_0x499be2,0x1);});}_0x5635fd[_0x423fab(0x205)]((_0x392aa1,_0x2e0e23)=>_0x392aa1[_0x423fab(0x25f)]>_0x2e0e23[_0x423fab(0x25f)]?0x1:_0x2e0e23['coin']>_0x392aa1[_0x423fab(0x25f)]?-0x1:0x0);let _0x2672ae=[{'date':_0x544eb4['startdate'],'changes':_0x5635fd}];_0x54978b[_0x423fab(0x295)]>0x2&&_0x54978b[_0x423fab(0x29f)]((_0x527950,_0x1f63ed)=>{const _0x1e1a1a=_0x423fab;if(_0x1f63ed>0x0&&_0x1f63ed<_0x54978b[_0x1e1a1a(0x295)]-0x1){const {missingDay1:_0x172d0b,notInDay2:_0x4c2cdb}=_0x2f2580(_0x54978b[_0x1f63ed][_0x1e1a1a(0x232)],_0x54978b[_0x1f63ed+0x1][_0x1e1a1a(0x232)]);_0x5635fd=[],(_0x172d0b[_0x1e1a1a(0x295)]!=0x0||_0x4c2cdb['length']!=0x0)&&(_0x172d0b[_0x1e1a1a(0x295)]!=0x0&&_0x5635fd['push'](..._0x172d0b),_0x4c2cdb[_0x1e1a1a(0x295)]!=0x0&&(_0x4c2cdb['forEach'](_0x1ec150=>{const _0xc3176f=_0x1e1a1a;_0x1ec150[_0xc3176f(0x1b2)]=-_0x1ec150[_0xc3176f(0x1b2)];}),_0x5635fd[_0x1e1a1a(0x213)](..._0x4c2cdb)),_0x5635fd[_0x1e1a1a(0x205)]((_0x562e1a,_0x510ada)=>_0x562e1a[_0x1e1a1a(0x25f)]>_0x510ada[_0x1e1a1a(0x25f)]?0x1:_0x510ada[_0x1e1a1a(0x25f)]>_0x562e1a[_0x1e1a1a(0x25f)]?-0x1:0x0),_0x2672ae[_0x1e1a1a(0x213)]({'date':_0x54978b[_0x1f63ed+0x1]['date'],'changes':_0x5635fd}));}}),dbConfig[_0x423fab(0x24c)](_0x423fab(0x2cb))[_0x423fab(0x1e0)]({'botID':botID})[_0x423fab(0x2b1)]({..._0x544eb4,'liquidity':_0x2672ae})['write']();}}if(isOlderVersion(_0x4c66f1,_0x423fab(0x1a1))){let _0x118f9f=dbConfig['get'](_0x423fab(0x2cb))[_0x423fab(0x1e0)]({'botID':botID})[_0x423fab(0x2c3)]();if(_0x118f9f){const _0xb5fb7a=_0x118f9f[_0x423fab(0x21b)],_0x372f39=_0xb5fb7a?capitalize(_0xb5fb7a):'Binance';dbConfig['get'](_0x423fab(0x2cb))[_0x423fab(0x1e0)]({'botID':botID})[_0x423fab(0x2b1)]({'exchange':_0x372f39})[_0x423fab(0x156)]();}}let _0xbaf860=dbPerformance[_0x423fab(0x24c)]('version')['value']();isOlderVersion(_0xbaf860,_0x423fab(0x2f3))&&setStartDatePerformance();let _0x343b47=dbCoinResults[_0x423fab(0x24c)](_0x423fab(0x1a2))[_0x423fab(0x2c3)]();if(isOlderVersion(_0x343b47,_0x423fab(0x23c))){let _0x3ed7b5=dbCoinResults[_0x423fab(0x24c)](_0x423fab(0x232))['value']();if(_0x3ed7b5[_0x423fab(0x295)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x196c43=_0x4194f8;dbConfig[_0x196c43(0x1ac)]('version',serverversion)[_0x196c43(0x156)](),dbPerformance[_0x196c43(0x1ac)](_0x196c43(0x1a2),serverversion)['write'](),dbLogs[_0x196c43(0x1ac)]('version',serverversion)[_0x196c43(0x156)](),dbCoinResults[_0x196c43(0x1ac)](_0x196c43(0x1a2),serverversion)['write']();}function getConfiguration(_0x5233e6){const _0x14fd1a=_0x4194f8;let _0x3693ac=dbConfig[_0x14fd1a(0x24c)](_0x14fd1a(0x2cb))[_0x14fd1a(0x1e0)]({'botID':_0x5233e6})['value']();if(_0x3693ac){let _0x20e422=![];typeof _0x3693ac[_0x14fd1a(0x16f)]==_0x14fd1a(0x277)&&(_0x3693ac={..._0x3693ac,'threshold':Number(_0x3693ac['threshold'])},_0x20e422=!![]),_0x3693ac['change24h']==undefined&&(_0x3693ac={..._0x3693ac,'change24h':-0x14},_0x20e422=!![]),_0x3693ac['fiat']==undefined&&(_0x3693ac={..._0x3693ac,'fiat':'USD'},_0x20e422=!![]),_0x3693ac[_0x14fd1a(0x291)]==undefined&&(_0x3693ac={..._0x3693ac,'onepagemode':settings[_0x14fd1a(0x291)]},_0x20e422=!![]),_0x3693ac[_0x14fd1a(0x2b7)]==undefined&&(_0x3693ac={..._0x3693ac,'colorscheme':_0x14fd1a(0x2b0)},_0x20e422=!![]),_0x3693ac['autoliquidity']==undefined&&(_0x3693ac={..._0x3693ac,'autoliquidity':!![]},_0x20e422=!![]),_0x3693ac['marketcapApi']==undefined&&(_0x3693ac={..._0x3693ac,'marketcapApi':settings[_0x14fd1a(0x214)]?!![]:![]},_0x20e422=!![]),_0x3693ac[_0x14fd1a(0x279)]==undefined&&(_0x3693ac={..._0x3693ac,'marketcapEnabled':![]},_0x20e422=!![]),_0x20e422&&(_0x3693ac={'botID':_0x3693ac[_0x14fd1a(0x28f)],'exchange':_0x3693ac[_0x14fd1a(0x21b)],'apiKey':_0x3693ac[_0x14fd1a(0x20d)],'apiSecret':_0x3693ac[_0x14fd1a(0x209)],'apiPassword':_0x3693ac[_0x14fd1a(0x29c)],'basecoin':_0x3693ac[_0x14fd1a(0x1b8)],'botname':_0x3693ac['botname'],'showname':_0x3693ac['showname'],'threshold':_0x3693ac[_0x14fd1a(0x16f)],'ordertype':_0x3693ac[_0x14fd1a(0x23a)],'timeout':_0x3693ac[_0x14fd1a(0x253)],'fiat':_0x3693ac[_0x14fd1a(0x2ea)],'startdate':_0x3693ac['startdate'],'recreate':_0x3693ac[_0x14fd1a(0x1da)],'timeshift':_0x3693ac[_0x14fd1a(0x2d6)],'onepagemode':_0x3693ac['onepagemode'],'headless':_0x3693ac[_0x14fd1a(0x26a)],'cooldown':_0x3693ac['cooldown'],'change24h':_0x3693ac['change24h'],'emojibuy':_0x3693ac[_0x14fd1a(0x1bb)],'emojisell':_0x3693ac['emojisell'],'colorscheme':_0x3693ac[_0x14fd1a(0x2b7)],'marketcapApi':_0x3693ac[_0x14fd1a(0x214)],'marketcapEnabled':_0x3693ac[_0x14fd1a(0x279)],'portfolio':_0x3693ac[_0x14fd1a(0x1a7)],'autoliquidity':_0x3693ac[_0x14fd1a(0x256)],'liquidity':_0x3693ac['liquidity'],'openOrders':_0x3693ac['openOrders']},dbConfig['get'](_0x14fd1a(0x2cb))[_0x14fd1a(0x2a6)]()[_0x14fd1a(0x156)](),dbConfig[_0x14fd1a(0x24c)](_0x14fd1a(0x2cb))['push'](_0x3693ac)[_0x14fd1a(0x156)]());}else _0x3693ac={'botID':_0x5233e6,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x5233e6,'showname':![],'threshold':0x3,'ordertype':_0x14fd1a(0x1d0),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x14fd1a(0x2d6)],'onepagemode':settings[_0x14fd1a(0x291)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x14fd1a(0x214)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x3693ac;}function emittedConfiguration(){const _0x1aee52=_0x4194f8;let _0x22c490;if(config['apiKey']=='')_0x22c490={...config,'configstate':_0x1aee52(0x178)};else config[_0x1aee52(0x20d)]=='***'?_0x22c490={...config,'configstate':_0x1aee52(0x17b)}:(_0x22c490={...config,'apiKey':'************','apiSecret':_0x1aee52(0x1ea)},config[_0x1aee52(0x29c)]&&(_0x22c490['apiPassword']=_0x1aee52(0x1ea)));return _0x22c490;}function getSettings(){const _0x4c8a6c=_0x4194f8;return dbSettings['get'](_0x4c8a6c(0x1e5))[_0x4c8a6c(0x2c3)]();}function getSecure(){const _0x1cc16c=_0x4194f8;return dbSecure['get'](_0x1cc16c(0x283))[_0x1cc16c(0x2c3)]()||{};}function updateTimeshift(_0x18fb3f){const _0x59face=_0x4194f8;let _0x4bcf2d=dbConfig[_0x59face(0x24c)](_0x59face(0x2cb))[_0x59face(0x1e0)]({'botID':botID})[_0x59face(0x2c3)]();_0x4bcf2d&&dbConfig[_0x59face(0x24c)](_0x59face(0x2cb))[_0x59face(0x1e0)]({'botID':botID})[_0x59face(0x2b1)]({'timeshift':_0x18fb3f})[_0x59face(0x156)](),config['timeshift']=_0x18fb3f,proxyEmit(_0x59face(0x1f3),emittedConfiguration());}function updateOnepagemode(_0xb2bd83){const _0x5a9b90=_0x4194f8;let _0x261cbb=dbConfig[_0x5a9b90(0x24c)](_0x5a9b90(0x2cb))['find']({'botID':botID})[_0x5a9b90(0x2c3)]();_0x261cbb&&dbConfig[_0x5a9b90(0x24c)](_0x5a9b90(0x2cb))[_0x5a9b90(0x1e0)]({'botID':botID})[_0x5a9b90(0x2b1)]({'onepagemode':_0xb2bd83})['write'](),config[_0x5a9b90(0x291)]=_0xb2bd83,proxyEmit(_0x5a9b90(0x1f3),emittedConfiguration());}function updateMarketcapApi(_0x57eedd){const _0x1c6f9c=_0x4194f8,_0x5e668c=_0x57eedd?!![]:![];let _0x542a0e=dbConfig[_0x1c6f9c(0x24c)](_0x1c6f9c(0x2cb))['find']({'botID':botID})[_0x1c6f9c(0x2c3)]();_0x542a0e&&dbConfig[_0x1c6f9c(0x24c)](_0x1c6f9c(0x2cb))[_0x1c6f9c(0x1e0)]({'botID':botID})['assign']({'marketcapApi':_0x5e668c})[_0x1c6f9c(0x156)](),config[_0x1c6f9c(0x214)]=_0x5e668c,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x37d24d){const _0x244f72=_0x4194f8;logger[_0x244f72(0x247)](_0x244f72(0x2f1));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x244f72(0x247)]('Transaction\x20detection\x20blocked');let _0xe70acf=![],_0x144c34=![],_0x41b97a=[];_0x37d24d['portfolio'][_0x244f72(0x29f)](_0x288edd=>{const _0x4376d2=_0x244f72;if(!_0x288edd[_0x4376d2(0x169)]&&_0x288edd[_0x4376d2(0x25f)]!=_0x37d24d[_0x4376d2(0x1b8)])_0x41b97a[_0x4376d2(0x213)](_0x288edd[_0x4376d2(0x193)]);}),_0x41b97a[_0x244f72(0x29f)](_0x3bbb51=>{const _0x1a8e99=_0x244f72,_0x6d6a7e=currentCoins['find'](_0x5de688=>_0x5de688[_0x1a8e99(0x193)]==_0x3bbb51);!_0x6d6a7e&&(_0xe70acf=!![]);}),currentCoins[_0x244f72(0x29f)](_0x575f37=>{const _0x26b30b=_0x244f72;if(_0x575f37['coin']!=config['basecoin']){const _0x475e0a=_0x41b97a[_0x26b30b(0x1e0)](_0x3c99b0=>_0x3c99b0==_0x575f37[_0x26b30b(0x193)]);!_0x475e0a&&(_0xe70acf=!![]);}}),_0x37d24d[_0x244f72(0x1a7)][_0x244f72(0x29f)](_0x1c242c=>{const _0x5bfd10=_0x244f72,_0x5b2ea5=config['portfolio'][_0x5bfd10(0x1e0)](_0x4b876d=>_0x4b876d['coin']==_0x1c242c[_0x5bfd10(0x25f)]);if(_0x5b2ea5&&_0x1c242c[_0x5bfd10(0x1e9)]!=_0x5b2ea5[_0x5bfd10(0x1e9)])_0x144c34=!![];});let _0x41b5e0=dbConfig[_0x244f72(0x24c)](_0x244f72(0x2cb))[_0x244f72(0x1e0)]({'botID':botID})[_0x244f72(0x2c3)]();_0x37d24d={..._0x37d24d,'apiKey':crypt[_0x244f72(0x173)](secure[_0x244f72(0x2a9)],_0x37d24d[_0x244f72(0x20d)])[_0x244f72(0x1f0)],'apiSecret':crypt[_0x244f72(0x173)](secure[_0x244f72(0x2a9)],_0x37d24d['apiSecret'])[_0x244f72(0x1f0)]};_0x37d24d[_0x244f72(0x29c)]&&(_0x37d24d[_0x244f72(0x29c)]=crypt['decrypt'](secure['privateKey'],_0x37d24d[_0x244f72(0x29c)])['message']);let _0x3a8e5c=![];if(_0x41b5e0){_0x37d24d['apiKey']==_0x244f72(0x1ea)?_0x37d24d[_0x244f72(0x20d)]=config[_0x244f72(0x20d)]:_0x3a8e5c=!![];_0x37d24d[_0x244f72(0x209)]=='************'?_0x37d24d['apiSecret']=config[_0x244f72(0x209)]:_0x3a8e5c=!![];if(_0x37d24d[_0x244f72(0x29c)]=='************')_0x37d24d[_0x244f72(0x29c)]=config[_0x244f72(0x29c)];else{if(_0x37d24d['apiPassword'])_0x3a8e5c=!![];}dbConfig[_0x244f72(0x24c)](_0x244f72(0x2cb))[_0x244f72(0x1e0)]({'botID':botID})[_0x244f72(0x2b1)](_0x37d24d)[_0x244f72(0x156)]();}else dbConfig[_0x244f72(0x24c)]('bot')['push'](_0x37d24d)[_0x244f72(0x156)](),_0x3a8e5c=!![],process[_0x244f72(0x1be)]({'status':_0x244f72(0x1bd),'live':_0x244f72(0x28d)},_0x5d8ec0=>{});process['send']({'botname':_0x37d24d[_0x244f72(0x27e)]},_0x2d2a81=>{}),config={..._0x37d24d},updateBotManager(),proxyEmit(_0x244f72(0x2e2)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3a8e5c)await reset(!![]);else _0xe70acf||_0x144c34?await reset(![]):getBalances();blockTransactionDetection=![],logger['debug'](_0x244f72(0x2e9));}async function storeHeadless(_0x115628){const _0x2581ff=_0x4194f8,_0x28f8f0={...config,'headless':_0x115628[_0x2581ff(0x26a)]};let _0x1c4bbb=dbConfig['get'](_0x2581ff(0x2cb))['find']({'botID':botID})['value']();_0x1c4bbb&&dbConfig[_0x2581ff(0x24c)](_0x2581ff(0x2cb))[_0x2581ff(0x1e0)]({'botID':botID})[_0x2581ff(0x2b1)](_0x28f8f0)[_0x2581ff(0x156)](),config={..._0x28f8f0},updateBotManager(),proxyEmit(_0x2581ff(0x1f3),emittedConfiguration());}async function storeFiat(_0xcd8cba){const _0x18f770=_0x4194f8,_0xa89c41={...config,'fiat':_0xcd8cba};let _0x120032=dbConfig[_0x18f770(0x24c)](_0x18f770(0x2cb))[_0x18f770(0x1e0)]({'botID':botID})[_0x18f770(0x2c3)]();_0x120032&&dbConfig[_0x18f770(0x24c)](_0x18f770(0x2cb))[_0x18f770(0x1e0)]({'botID':botID})[_0x18f770(0x2b1)](_0xa89c41)[_0x18f770(0x156)](),config={..._0xa89c41},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x249155=_0x4194f8;logger[_0x249155(0x1c7)](_0x249155(0x17e));try{if(fs[_0x249155(0x177)](path['join'](configpath,_0x249155(0x26b)+botID+'-events.json')))fs[_0x249155(0x1fe)](path[_0x249155(0x1cf)](configpath,_0x249155(0x26b)+botID+_0x249155(0x1de)));if(fs['existsSync'](path[_0x249155(0x1cf)](configpath,_0x249155(0x26b)+botID+'-performance.json')))fs[_0x249155(0x1fe)](path['join'](configpath,_0x249155(0x26b)+botID+'-performance.json'));if(fs[_0x249155(0x177)](path[_0x249155(0x1cf)](configpath,_0x249155(0x26b)+botID+_0x249155(0x2d8))))fs[_0x249155(0x1fe)](path[_0x249155(0x1cf)](configpath,_0x249155(0x26b)+botID+_0x249155(0x2d8)));}catch(_0x18296e){if(_0x18296e)logger[_0x249155(0x1c7)](_0x249155(0x1c9),_0x18296e);}const _0x1a9733=getDate();let _0x16725d=[];currentCoins[_0x249155(0x29f)](_0x156748=>{const _0x55486=_0x249155;_0x16725d[_0x55486(0x213)]({'coin':_0x156748['coin'],'number':_0x156748[_0x55486(0x1b2)],'price':_0x156748['last']});});let _0x24f0bb=dbConfig[_0x249155(0x24c)](_0x249155(0x2cb))['find']({'botID':botID})[_0x249155(0x2c3)]();_0x24f0bb&&(dbConfig[_0x249155(0x24c)](_0x249155(0x2cb))[_0x249155(0x1e0)]({'botID':botID})[_0x249155(0x2b1)]({'liquidity':[{'date':_0x1a9733,'changes':_0x16725d}]})['write'](),config[_0x249155(0x21f)]=[]),process[_0x249155(0x1be)]({'stop':_0x249155(0x2bf)},_0x241e7a=>{});}function noslash(_0x48df6d){const _0x36ff19=_0x4194f8;return _0x48df6d[_0x36ff19(0x2c9)]('/','');}function updateHighestFee(_0x44a5de){const _0x35c8a7=_0x4194f8;if(_0x44a5de['reverse']){let _0x21b17a={'filled':_0x44a5de['filled']*_0x44a5de[_0x35c8a7(0x1ff)],'amount':_0x44a5de[_0x35c8a7(0x1a4)]*_0x44a5de[_0x35c8a7(0x1ff)],'side':_0x44a5de['side']==_0x35c8a7(0x2d7)?_0x35c8a7(0x273):_0x35c8a7(0x2d7),'price':0x1/_0x44a5de[_0x35c8a7(0x1ff)]};_0x44a5de={..._0x44a5de,..._0x21b17a};}const _0x4eac72=defaultFee*_0x44a5de[_0x35c8a7(0x1a4)]*_0x44a5de[_0x35c8a7(0x1ff)];lastFees[_0x35c8a7(0x1d7)][_0x35c8a7(0x295)]===0x14&&lastFees[_0x35c8a7(0x1d7)]['shift'](),lastFees[_0x35c8a7(0x1d7)]['push'](_0x4eac72),lastFees[_0x35c8a7(0x2cc)]=Math[_0x35c8a7(0x2d1)](...lastFees[_0x35c8a7(0x1d7)]);}function _0x5967(){const _0x2defd4=['warning','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20API\x20key\x20is\x20invalid','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','basecoinvalue','Unfilled\x20order(s)\x20canceled\x20after\x20','axios','debug','2\x20-\x20handling\x20FILLED\x20order:\x20','change24h','progress','defaults','get','-config.json','status','add','\x20metrics:</b>\x20\x0a\x0a','\x20exchange','watchOrders','timeout','getStartingBalances','error','autoliquidity','.json','Crypt','USD','loadSymbols()','\x20has\x20a\x2024h\x20drop\x20of\x20','No\x20more\x20open\x20orders\x20-\x20','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','coin','1HAvFoq','001','1\x20-\x20FILLED\x20unknown\x20order:\x20','storeConfiguration','\x20order:\x20','%\x20(','leftTxt','cancelLoading','map','balances','headless','bot-','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','open','storeHeadless','/EUR','getOpenOrders()','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','DDoSProtection','buy','args','cost','milliseconds','string','./version.json','marketcapEnabled','event','canceled','argv','BTC','botname','453356crjRap','showConfig','InvalidNonce','ask','secure','fetchClosedOrders','fetchOpenOrders','\x20exchange\x20error','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','ongoing','<b>','quote','7gVusEL','added','running','/output-000.log','botID','datetime','onepagemode','./config/','(((.+)+)+)+$','\x20/\x20','length','cancelOrder','ORDERS.UNLOCKING','Invalid\x20symbol:\x20','startdate','breakeven','pro','apiPassword','limits','uncaughtException','forEach','showname','close','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','balancing\x20resumes\x20when\x20cooldown\x20ends','limit-low','shift','remove','createOrder','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','privateKey','Fee\x20discount\x20refund\x20detected:\x20','Resetting\x20coin\x20results:\x20','AuthenticationError','Cooldown\x20ended\x20-\x20balancing\x20resumed','amountToPrecision','sells','red_yellow_blue','assign','Insufficient\x20funds\x20to\x20execute\x20order:\x20','startnumber','valid',':\x20Bot\x20','fetchBalance','colorscheme','1\x20-\x20Unlock\x20orders','USDP','logs','toUpperCase','date','RETRY\x20-\x20Problem\x20resolved\x20after\x20','indexOf','restart','watchTrades()','password','getDate','value','splice','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','***','5140735MZLEdq','stopExchange()','replace','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','bot','highest','trade','cancelOrders()','change','ID:\x20','max','getFullYear','hybrid-crypto-js','realized','TUSD','timeshift','sell','-results.json','OnMaintenance','UNLOCKING','date-fns','exec','yyyy/MM/dd','\x20minutes','LOCKED','toString','Invalid\x20quantity','configuration-stored','Huobi','concat','getCoinNumber()','getMinutes','\x20change','toggleBotMode','Transaction\x20detection\x20unblocked','fiat','/backup/','/USD','Reset\x20|\x20','getCoins()','PAXG','-performance.json','Saving\x20configuration','\x20:\x20','2.3.5','fetchTickers()','parse','usd','final','RequestTimeout','\x20minutes\x20-\x20','market_cap','exchanges','exchange\x20not\x20reloaded','Exception\x20thrown\x20in\x20','write','Order\x20is\x20invalid:\x20','watchOrders()','recreateCoinResults()','format','substring','bb-secure.json','sortBy','limit','fee','Headless:\x20','initTickers()','remainingSymbols','Net\x20effect','BNB/','EUR','slice','side','\x20API\x20secret\x20is\x20invalid','excluded','orderId','freeze','last','MIN_NOTIONAL','<b>Bot\x20','threshold','1\x20-\x20FILLED\x20known\x20order:\x20','exchange\x20reloaded','bb-settings.json','decrypt','no\x20open\x20orders','timestamp','rightTxt','existsSync','initial','split','abs','recovery','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Resetting\x20bot\x20history','Huobipro','2\x20-\x20Handled\x20open\x20orders','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','constructor','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Unknown\x20error\x20occured','resetHistory','keys','performance','util','code','slider','<pre>','Pausing\x20for\x20','openOrders','UNLOCKED','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Portfolio\x20change\x20detected:\x20','Executing\x20exchange\x20reload','4883034NRAWLi','symbol','limit-high','distribution','function','ORDERS.UNLOCKED','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','\x20portfolio:</b>\x20\x0a\x0a','emitHistory','balancing\x20resumed','2\x20-\x20Validate\x20orders:\x20','round','cooldown','net-basecoin','has','2.6.0','version','Binance','filled','\x20|\x20lock\x20orders:\x20','removed','portfolio','target','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','kill','startprice','set','Error\x20details:','BUSD','startsWith','data','average','number','random','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','\x20>\x20','3555558eODvJF','percentage','basecoin','\x20|\x20highest\x20fee:\x20','search','emojibuy','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','enabled','send','isEqual','filter','USDC','BNB','getMonth','Bybit','buys','yyyy-MM-dd\x27T\x27HH:mm:ss','full','orderstatus','Error\x20while\x20deleting\x20files:\x20','stringify','placeOrder()','loading-canceled','must\x20be\x20greater\x20than\x20minimum\x20amount','fromCodePoint','join','market','Exchange','starting-balances','placeOrder','Limit\x20(high-margin)','createWriteStream','toLowerCase','recent20','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','getHours','recreate','test','watchTrades','getSeconds','-events.json','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','find','currency','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','total','page','settings','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','mkdirSync','Order\x20amount\x20is\x20invalid:\x20','offset','************','fees','includes','-------------------------------\x0a','cancel','type','message','none','ticker','configuration',':\x20timer\x20>','getTime','ccxt','2731968AwPQaF','closed','ETH','sendMetricsTelegram','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','changes','success','unlinkSync','price','reverse','Bitget','fetchTicker','bots','padStart','sort','\x20-\x20bot\x20not\x20started','request-time','\x20>\x20[DEBUG]\x20','apiSecret','net-fiat','InvalidOrder','1\x20-\x20Validate\x20orders:\x20','apiKey','eur','RSA-OAEP','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','entries','Order(s)\x20not\x20validated\x20after\x20','push','marketcapApi','findIndex','emojisell','\x20|\x20Custom\x20ID:\x20','delta','floor','\x20hour','exchange','deleteHistoryAlerts','loadMarkets','apply','liquidity','spot','differenceInSeconds','sha256','fetchTickers','amount','20937159twrGVH','lowdb/adapters/FileSync','Error:\x20Invalid\x20argument\x20','min','\x20-\x20','log','\x20|\x20','time','getPortfolio',',\x20must\x20be\x20a\x203\x20digit\x20number','lowdb','getPortfolio(1)','Cex','coins','marketcap','order','Waited\x20','USDT','1662498wlucHz','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','ordertype','API-key\x20format\x20invalid','2.5.0','Manual\x20balancing\x20required','toFixed'];_0x5967=function(){return _0x2defd4;};return _0x5967();}async function updateNumberCoinsCcxt(_0x4b74ba){const _0x50dfba=_0x4194f8;logger['debug']('0\x20-\x20EXECUTION:\x20'+_0x4b74ba['symbol']+_0x50dfba(0x22b)+_0x4b74ba[_0x50dfba(0x24e)]+_0x50dfba(0x22b)+_0x4b74ba[_0x50dfba(0x1a4)]+_0x50dfba(0x294)+_0x4b74ba[_0x50dfba(0x224)]+_0x50dfba(0x22b)+_0x4b74ba['id']);let _0x5c2779=_0x4b74ba[_0x50dfba(0x24e)],_0xab38be=![];currentCoins[_0x50dfba(0x29f)](_0x2b6e8f=>{const _0x159b2d=_0x50dfba;_0x2b6e8f[_0x159b2d(0x193)]==_0x4b74ba[_0x159b2d(0x193)]&&(_0xab38be=!![]);});if(!_0xab38be)return;const _0x378140=currentCoins[_0x50dfba(0x1e0)](_0x557052=>_0x557052['symbol']==_0x4b74ba[_0x50dfba(0x193)]),_0x2a55ca=_0x516503=>{if(_0x378140)_0x378140['orderstatus']=_0x516503;};if(_0x5c2779=='open')_0x2a55ca(_0x50dfba(0x26d));else{if(_0x5c2779=='canceled'){_0x2a55ca(_0x50dfba(0x27b));const _0x2ed057=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2ed057,await getOpenOrders(),handleOpenOrders();}else{if(_0x5c2779==_0x50dfba(0x1f8)){let _0x4c0cb4=![];if(lastOrders)for(const _0x5b6260 of lastOrders){const _0x130a5d=0xc8,_0x33c8ca=0x1388;let _0x10e4eb=0x0;while(!_0x5b6260['orderId']&&_0x10e4eb*_0x130a5d<_0x33c8ca){_0x10e4eb++,await sleep(_0x130a5d);}if(_0x10e4eb>0x0)logger[_0x50dfba(0x247)](_0x50dfba(0x235)+_0x10e4eb*_0x130a5d/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x5b6260[_0x50dfba(0x16a)]==_0x4b74ba['id']){logger['debug'](_0x50dfba(0x170)+_0x4b74ba['id']),_0x4c0cb4=!![];if(_0x5b6260[_0x50dfba(0x1a4)]==0x0){logger[_0x50dfba(0x247)](_0x50dfba(0x248)+_0x4b74ba['id']);if(_0x4b74ba[_0x50dfba(0x1b1)])_0x5b6260['price']=_0x4b74ba[_0x50dfba(0x1b1)];else{if(_0x4b74ba[_0x50dfba(0x1ff)])_0x5b6260[_0x50dfba(0x1ff)]=_0x4b74ba[_0x50dfba(0x1ff)];else{}}_0x5b6260['filled']=_0x4b74ba[_0x50dfba(0x1a4)],updateHighestFee(_0x5b6260),_0x2a55ca(_0x50dfba(0x1a4)),await validateOrders();if(lockOrders==ORDERS[_0x50dfba(0x2df)]){const _0x108caf=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x108caf;}_0x5b6260[_0x50dfba(0x15f)]={'currency':_0x4b74ba['fee']?_0x4b74ba[_0x50dfba(0x15f)][_0x50dfba(0x1e1)]:null,'cost':_0x4b74ba[_0x50dfba(0x15f)]?_0x4b74ba['fee'][_0x50dfba(0x275)]:0x0},await updateCoinResults(_0x5b6260);}}}if(!_0x4c0cb4){logger[_0x50dfba(0x247)](_0x50dfba(0x262)+_0x4b74ba['id']),_0x2a55ca(_0x50dfba(0x1a4));const _0x9bb7d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x9bb7d,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x532cc6=JSON[_0x50dfba(0x2f5)](lastBalances[_0x50dfba(0x1a7)]);const _0x9dc249=_0x532cc6['find'](_0x58c8fa=>_0x58c8fa[_0x50dfba(0x193)]==_0x4b74ba[_0x50dfba(0x193)]);if(_0x9dc249){if(_0x5c2779==_0x50dfba(0x26d))_0x9dc249[_0x50dfba(0x1c8)]=_0x9dc249[_0x50dfba(0x1c8)]==_0x50dfba(0x1a4)?_0x50dfba(0x1a4):_0x50dfba(0x26d);else{if(_0x5c2779=='canceled')_0x9dc249[_0x50dfba(0x1c8)]=_0x9dc249['orderstatus']=='filled'?_0x50dfba(0x1a4):'canceled';else _0x5c2779==_0x50dfba(0x1f8)&&(_0x9dc249[_0x50dfba(0x1c8)]=_0x50dfba(0x1a4));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x532cc6)},proxyEmit(_0x50dfba(0x269),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x346686=_0x4194f8;await getOpenOrders();let _0x40d92b=![];currentCoins[_0x346686(0x29f)](_0x5efa18=>{const _0x38de3f=_0x346686;_0x40d92b=allOpenOrders['find'](_0x5e1038=>_0x5e1038['symbol']==_0x5efa18[_0x38de3f(0x193)]),_0x5efa18[_0x38de3f(0x1c8)]=_0x40d92b?_0x38de3f(0x26d):_0x38de3f(0x1f1);});}async function getCoins(_0x15cb48=0x0,_0x123b56=!![],_0x27ebbe=config[_0x4194f8(0x1b8)]){const _0xa437a1=_0x4194f8;let _0x46283a,_0x233161=[],_0x49ea4c=[],_0x3305b1=[];if(_0x15cb48)await sleep(_0x15cb48);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x46283a=await exchange[_0xa437a1(0x2b6)](),mybalances=_0x46283a[_0xa437a1(0x1e3)];for(const [_0x4e7657,_0x4cffd2]of Object[_0xa437a1(0x211)](mybalances)){_0x3305b1[_0xa437a1(0x213)](_0x4e7657);}config['portfolio'][_0xa437a1(0x29f)](_0x22e1fe=>{const _0x522bd7=_0xa437a1;!_0x3305b1[_0x522bd7(0x1ec)](_0x22e1fe[_0x522bd7(0x25f)])&&(mybalances[_0x22e1fe[_0x522bd7(0x25f)]]=0x0);});if(_0x27ebbe=='')for(const [_0x3fa1c0,_0xdc10dc]of Object[_0xa437a1(0x211)](mybalances)){_0xdc10dc!=0x0&&_0x233161[_0xa437a1(0x213)]({'coin':_0x3fa1c0});}else for(const [_0x36dcf6,_0x2e02ce]of Object[_0xa437a1(0x211)](mybalances)){const _0x5df752=config[_0xa437a1(0x1a7)][_0xa437a1(0x1e0)](_0x3d9e0c=>_0x3d9e0c[_0xa437a1(0x25f)]==_0x36dcf6),_0x12700f=_0x36dcf6+'/'+_0x27ebbe,_0x173f87=_0x27ebbe+'/'+_0x36dcf6,_0x1bc26a=currentCoins['find'](_0x50c90d=>_0x50c90d[_0xa437a1(0x25f)]==_0x36dcf6);if((_0x2e02ce!=0x0||_0x5df752)&&(allSymbols['includes'](_0x12700f)||_0x36dcf6==_0x27ebbe))_0x1bc26a?_0x233161[_0xa437a1(0x213)]({..._0x1bc26a,'number':Math[_0xa437a1(0x2d1)](_0x2e02ce+(_0x5df752&&_0x5df752[_0xa437a1(0x1e9)]||0x0),0x0)}):_0x233161[_0xa437a1(0x213)]({'coin':_0x36dcf6,'symbol':_0x12700f,'reverse':![],'number':Math[_0xa437a1(0x2d1)](_0x2e02ce+(_0x5df752&&_0x5df752[_0xa437a1(0x1e9)]||0x0),0x0),'orderstatus':_0xa437a1(0x1f1)});else{if((_0x2e02ce!=0x0||_0x5df752)&&allSymbols[_0xa437a1(0x1ec)](_0x173f87))_0x1bc26a?_0x233161[_0xa437a1(0x213)]({..._0x1bc26a,'number':Math[_0xa437a1(0x2d1)](_0x2e02ce+(_0x5df752&&_0x5df752['offset']||0x0),0x0)}):_0x233161[_0xa437a1(0x213)]({'coin':_0x36dcf6,'symbol':_0x173f87,'reverse':!![],'number':Math[_0xa437a1(0x2d1)](_0x2e02ce+(_0x5df752&&_0x5df752['offset']||0x0),0x0),'orderstatus':_0xa437a1(0x1f1)});else _0x5df752&&_0x233161[_0xa437a1(0x213)]({'coin':_0x5df752['coin'],'symbol':_0x5df752[_0xa437a1(0x193)],'reverse':_0x5df752[_0xa437a1(0x200)],'number':0x0,'orderstatus':'none'});}}}catch(_0x1aa189){if(!_0x123b56)handleErrorNoStop(_0x1aa189,_0xa437a1(0x2ee));else await handleError(_0x1aa189,'getCoins()');}return _0x233161['sort']((_0x103ac8,_0x2739cb)=>_0x103ac8['delta']<_0x2739cb[_0xa437a1(0x218)]?0x1:_0x2739cb[_0xa437a1(0x218)]<_0x103ac8['delta']?-0x1:0x0),_0x49ea4c=cloneDeep(_0x233161),_0x233161=_0x233161[_0xa437a1(0x1c0)](_0x329836=>{const _0x6752e5=_0xa437a1,_0x34f1d4=config['portfolio'][_0x6752e5(0x1e0)](_0x57df40=>_0x57df40[_0x6752e5(0x25f)]==_0x329836[_0x6752e5(0x25f)]);return _0x34f1d4&&!_0x34f1d4[_0x6752e5(0x169)];}),[_0x233161,_0x49ea4c];}async function getCoinNumber(_0x501988){const _0x395e8e=_0x4194f8;let _0x1e7b51;try{const _0x28a2c7=await exchange[_0x395e8e(0x2b6)]();_0x1e7b51=_0x28a2c7[_0x395e8e(0x1e3)][_0x501988];}catch(_0xfaeec7){await handleError(_0xfaeec7,_0x395e8e(0x2e5));}return _0x1e7b51;}async function getOpenOrders(){const _0x47e1ed=_0x4194f8;let _0x49dd25;allOpenOrders=[];try{for(const _0xf4b24e of config[_0x47e1ed(0x1a7)]){!_0xf4b24e['excluded']&&_0xf4b24e[_0x47e1ed(0x25f)]!=config[_0x47e1ed(0x1b8)]&&(_0x49dd25=await exchange[_0x47e1ed(0x285)](_0xf4b24e[_0x47e1ed(0x193)]),_0x49dd25[_0x47e1ed(0x295)]>0x0&&allOpenOrders[_0x47e1ed(0x213)](_0x49dd25[0x0]));}}catch(_0x152496){await handleError(_0x152496,_0x47e1ed(0x270));}}async function handleOpenOrders(_0x25b40e=0x0){const _0x99075d=_0x4194f8;allOpenOrders[_0x99075d(0x295)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x25b40e==0x0?(logger[_0x99075d(0x247)]('1\x20-\x20Handle\x20open\x20orders'),_0x25b40e++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x99075d(0x180)),validateOrders(_0x99075d(0x174))));}async function testAPI(_0x253866){const _0x394106=_0x4194f8,_0x4fcf42=ccxt[_0x394106(0x29b)][_0x253866[_0x394106(0x21b)][_0x394106(0x1d6)]()],_0x4bd3dd=new _0x4fcf42({'apiKey':_0x253866[_0x394106(0x20d)],'secret':_0x253866[_0x394106(0x209)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x394106(0x220)}});if(_0x253866[_0x394106(0x29c)])_0x4bd3dd[_0x394106(0x2c1)]=_0x253866[_0x394106(0x29c)];try{await _0x4bd3dd[_0x394106(0x21d)]();}catch(_0x36b31a){throw _0x36b31a;}}function cloneDeep(_0x1802b9){const _0x49912d=_0x4194f8;return JSON['parse'](JSON[_0x49912d(0x1ca)](_0x1802b9));}async function getPortfolio(_0x52ec58){const _0x45145b=_0x4194f8;let _0x261dfe=[],_0x162dc6=[],_0x2a066a=[],_0x298868;if(_0x52ec58[_0x45145b(0x20d)]!=='************'||_0x52ec58[_0x45145b(0x209)]!==_0x45145b(0x1ea)||_0x52ec58['apiPassword']&&_0x52ec58[_0x45145b(0x29c)]!==_0x45145b(0x1ea)){if(config[_0x45145b(0x21b)]){if(_0x52ec58['apiKey']==_0x45145b(0x1ea))_0x52ec58[_0x45145b(0x20d)]=config[_0x45145b(0x20d)];if(_0x52ec58[_0x45145b(0x209)]==_0x45145b(0x1ea))_0x52ec58[_0x45145b(0x209)]=config['apiSecret'];if(_0x52ec58[_0x45145b(0x29c)]==_0x45145b(0x1ea))_0x52ec58[_0x45145b(0x29c)]=config[_0x45145b(0x29c)];try{await testAPI(_0x52ec58);}catch(_0x3a282d){if(_0x3a282d[_0x45145b(0x2e0)]()[_0x45145b(0x1ec)](_0x45145b(0x2ac))){logger[_0x45145b(0x247)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x45145b(0x1a7),![]);return;}else{handleError(_0x3a282d,'getPortfolio(0)');return;}}}await initExchange(_0x52ec58[_0x45145b(0x21b)],_0x52ec58[_0x45145b(0x20d)],_0x52ec58[_0x45145b(0x209)],_0x52ec58[_0x45145b(0x29c)]);try{await loadSymbols();}catch(_0x2109db){if(_0x2109db[_0x45145b(0x2e0)]()[_0x45145b(0x1ec)](_0x45145b(0x2ac))){proxyEmit(_0x45145b(0x1a7),![]);return;}else{handleError(_0x2109db,_0x45145b(0x230));return;}}const _0x4d7d16=await getCoins(0x0,![],_0x52ec58[_0x45145b(0x1b8)]);_0x2a066a=cloneDeep(_0x4d7d16[0x1]);}else{const _0x16be06=await getCoins();_0x2a066a=cloneDeep(_0x16be06[0x1]);}if(_0x52ec58[_0x45145b(0x1b8)]=='')proxyEmit('portfolio',_0x2a066a);else{_0x2a066a[_0x45145b(0x29f)](_0x26599b=>{const _0x5e2b75=_0x45145b;if(_0x26599b[_0x5e2b75(0x25f)]!=_0x52ec58[_0x5e2b75(0x1b8)]&&allSymbols[_0x5e2b75(0x1ec)](_0x26599b[_0x5e2b75(0x193)]))_0x261dfe['push'](_0x26599b[_0x5e2b75(0x193)]);});if(_0x261dfe[_0x45145b(0x295)]==0x0)logHistory(_0x45145b(0x255),_0x45145b(0x1b4));else{try{_0x162dc6=await getTickers(_0x261dfe);}catch(_0x48e4b9){if(_0x48e4b9[_0x45145b(0x2e0)]()[_0x45145b(0x1ec)](_0x45145b(0x2ac))){proxyEmit('portfolio',![]);return;}else handleError(_0x48e4b9,'getPortfolio(2)');}_0x2a066a['forEach'](_0x2f7df5=>{const _0x211527=_0x45145b;_0x2f7df5['coin']!=_0x52ec58['basecoin']?_0x162dc6[_0x2f7df5[_0x211527(0x193)]]?_0x298868=_0x2f7df5[_0x211527(0x200)]?0x1/_0x162dc6[_0x2f7df5[_0x211527(0x193)]][_0x211527(0x16c)]:_0x162dc6[_0x2f7df5[_0x211527(0x193)]][_0x211527(0x16c)]:_0x298868=0x0:_0x298868=0x1,_0x2f7df5[_0x211527(0x1ff)]=formatResult(_0x298868,0x8);}),await getMarketCap(_0x2a066a),proxyEmit(_0x45145b(0x1a7),_0x2a066a);}}}function truncateTradeAmount(_0x563fe5,_0x407561){const _0x31caa1=_0x4194f8;let _0x232039=0x0;try{_0x232039=exchange[_0x31caa1(0x2ae)](_0x563fe5,_0x407561);}catch(_0x536228){}return _0x232039;}function checkMinimums(_0xd9e7b2){const _0x354a54=_0x4194f8;let _0x40c801=!![];const _0x2d8750=!_0xd9e7b2[_0x354a54(0x200)]?markets[_0xd9e7b2[_0x354a54(0x193)]][_0x354a54(0x29d)]['amount'][_0x354a54(0x228)]:markets[_0xd9e7b2[_0x354a54(0x193)]][_0x354a54(0x29d)][_0x354a54(0x275)][_0x354a54(0x228)],_0x3c14f0=!_0xd9e7b2[_0x354a54(0x200)]?markets[_0xd9e7b2[_0x354a54(0x193)]][_0x354a54(0x29d)][_0x354a54(0x275)][_0x354a54(0x228)]:markets[_0xd9e7b2[_0x354a54(0x193)]]['limits'][_0x354a54(0x224)]['min'],_0x56999a=truncateTradeAmount(_0xd9e7b2[_0x354a54(0x193)],_0xd9e7b2[_0x354a54(0x2cd)]);_0xd9e7b2[_0x354a54(0x2cd)]=_0x56999a;if(Math[_0x354a54(0x17a)](_0x56999a)<_0x2d8750)_0x40c801=![];if(Math['abs'](_0x56999a)*_0xd9e7b2['last']<_0x3c14f0)_0x40c801=![];if(_0xd9e7b2[_0x354a54(0x167)]=='sell'){let _0x42c4bd=config[_0x354a54(0x1a7)][_0x354a54(0x1e0)](_0x4f215f=>_0x4f215f['coin']==_0xd9e7b2[_0x354a54(0x25f)]);if(_0x42c4bd[_0x354a54(0x1e9)]>0x0){if(Math['abs'](_0x56999a)>_0xd9e7b2['number']-_0x42c4bd['offset'])_0x40c801=![];}else{if(Math['abs'](_0x56999a)>_0xd9e7b2['number'])_0x40c801=![];}}if(_0xd9e7b2[_0x354a54(0x167)]==_0x354a54(0x273)){let _0x578f53=config[_0x354a54(0x1a7)][_0x354a54(0x1e0)](_0x3695b1=>_0x3695b1['coin']==config[_0x354a54(0x1b8)]),_0x48dd4c=currentCoins['find'](_0x56a5d0=>_0x56a5d0[_0x354a54(0x25f)]==config[_0x354a54(0x1b8)]);if(_0x578f53['offset']>0x0){if(Math[_0x354a54(0x17a)](_0x56999a)*_0xd9e7b2[_0x354a54(0x16c)]>_0x48dd4c[_0x354a54(0x1b2)]-_0x578f53['offset'])_0x40c801=![];}else{if(Math[_0x354a54(0x17a)](_0x56999a)*_0xd9e7b2[_0x354a54(0x16c)]>_0x48dd4c[_0x354a54(0x1b2)])_0x40c801=![];}}return _0x40c801;}async function getBalances(_0x250567=!![]){const _0x4d76bc=_0x4194f8;let _0x3dc5da=0x0,_0x5aa060;const _0x5d1c55=config[_0x4d76bc(0x16f)];if(config[_0x4d76bc(0x26a)]&&config[_0x4d76bc(0x249)]<0x0)await validate24hChanges();currentCoins[_0x4d76bc(0x29f)](_0x133f3f=>{const _0x4ee3c7=_0x4d76bc;if(_0x133f3f[_0x4ee3c7(0x25f)]!=config['basecoin']){let _0x288145=global[_0x4ee3c7(0x1f2)][noslash(_0x133f3f[_0x4ee3c7(0x193)])];_0x5aa060=_0x133f3f[_0x4ee3c7(0x200)]?0x1/_0x288145:_0x288145;}else _0x5aa060=0x1;let _0x549225=_0x133f3f['number']*_0x5aa060;_0x3dc5da+=_0x549225,_0x133f3f['last']=formatResult(Number(_0x5aa060),0x8),_0x133f3f['value']=_0x549225;}),currentCoins[_0x4d76bc(0x29f)](_0x2cfe16=>{const _0x445e85=_0x4d76bc;let _0x319c17=config[_0x445e85(0x1a7)][_0x445e85(0x1e0)](_0x2ba17a=>_0x2ba17a[_0x445e85(0x25f)]==_0x2cfe16[_0x445e85(0x25f)]),_0xec832e=Number(_0x319c17['distribution']),_0x1a69cd=_0x2cfe16[_0x445e85(0x2c3)]/_0x3dc5da*0x64,_0x46dcc8=_0xec832e*_0x3dc5da/0x64/_0x2cfe16[_0x445e85(0x16c)]-_0x2cfe16[_0x445e85(0x1b2)];_0x2cfe16[_0x445e85(0x195)]=formatResult(_0x1a69cd,0x3),_0x2cfe16[_0x445e85(0x1a8)]=formatResult(_0xec832e,0x3),_0x2cfe16[_0x445e85(0x2cd)]=formatResult(_0x46dcc8,0x8),_0x2cfe16[_0x445e85(0x167)]='',_0x2cfe16[_0x445e85(0x2b4)]=![];if(_0x2cfe16[_0x445e85(0x25f)]!=config[_0x445e85(0x1b8)]){if(_0x2cfe16[_0x445e85(0x195)]>_0xec832e)_0x2cfe16[_0x445e85(0x167)]=_0x445e85(0x2d7),_0x2cfe16['valid']=checkMinimums(_0x2cfe16);else _0x2cfe16[_0x445e85(0x195)]<_0xec832e&&(_0x2cfe16['side']=_0x445e85(0x273),_0x2cfe16[_0x445e85(0x2b4)]=checkMinimums(_0x2cfe16));}_0x2cfe16['delta']=_0x2cfe16[_0x445e85(0x195)]/_0x2cfe16['target']-0x1;if(_0x2cfe16['orderstatus']==_0x445e85(0x1a4)||_0x2cfe16['orderstatus']=='canceled')_0x2cfe16['orderstatus']='none';}),currentCoins[_0x4d76bc(0x205)]((_0xc3a13f,_0x5bb8ed)=>_0xc3a13f['delta']<_0x5bb8ed[_0x4d76bc(0x218)]?0x1:_0x5bb8ed[_0x4d76bc(0x218)]<_0xc3a13f['delta']?-0x1:0x0);const _0x43c4f1=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x43c4f1[_0x4d76bc(0x20e)],'usd':_0x43c4f1[_0x4d76bc(0x2f6)],'portfolio':JSON[_0x4d76bc(0x1ca)](currentCoins),'threshold':_0x5d1c55},proxyEmit(_0x4d76bc(0x269),{'serverversion':serverversion,'balances':lastBalances});if(_0x250567){if(config[_0x4d76bc(0x26a)])headlessMode({'portfolio':currentCoins,'threshold':_0x5d1c55});else{if(lockOrders==ORDERS[_0x4d76bc(0x18e)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x5d1c55});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0xb32d96=getNormalizedPerformance();getStartingBalances(_0xb32d96),emitPerformance(_0xb32d96);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2e8a77=getNormalizedPerformance();emitPerformance(_0x2e8a77),getStartingBalances(_0x2e8a77),logger[_0x4d76bc(0x247)](_0x4d76bc(0x239));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x47d884=_0x4194f8;if(!lastBalances)return;let _0xedc604=[],_0x80e119,_0x1585ae=JSON[_0x47d884(0x2f5)](lastBalances[_0x47d884(0x1a7)]);_0x1585ae[_0x47d884(0x205)]((_0x3f05ea,_0x13e658)=>_0x3f05ea[_0x47d884(0x25f)]>_0x13e658[_0x47d884(0x25f)]?0x1:_0x13e658[_0x47d884(0x25f)]>_0x3f05ea['coin']?-0x1:0x0),_0x1585ae[_0x47d884(0x29f)](_0x88f555=>{const _0x2e7e7f=_0x47d884;let _0x182715={'coin':_0x88f555[_0x2e7e7f(0x25f)],'number':_0x88f555[_0x2e7e7f(0x1b2)],'price':_0x88f555[_0x2e7e7f(0x16c)]};_0xedc604[_0x2e7e7f(0x213)](_0x182715);});const _0x2156b8=await getFiat();_0x80e119={'date':lastBalances[_0x47d884(0x22c)]['split']('\x20')[0x0],'eur':_0x2156b8[_0x47d884(0x20e)],'usd':_0x2156b8['usd'],'coins':_0xedc604};let _0x1194d7=dbPerformance[_0x47d884(0x24c)](_0x47d884(0x1b0))['find']({'date':_0x80e119[_0x47d884(0x2bc)]})[_0x47d884(0x2c3)]();_0x1194d7?_0x80e119[_0x47d884(0x2bc)]!=config['startdate']&&dbPerformance[_0x47d884(0x24c)](_0x47d884(0x1b0))[_0x47d884(0x1e0)]({'date':_0x80e119[_0x47d884(0x2bc)]})[_0x47d884(0x2b1)](_0x80e119)[_0x47d884(0x156)]():dbPerformance[_0x47d884(0x24c)](_0x47d884(0x1b0))['push'](_0x80e119)[_0x47d884(0x156)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x160ae2=_0x4194f8;let _0x4f0504=[];if(dbPerformance[_0x160ae2(0x1a0)](_0x160ae2(0x1b0))['value']()){let _0x5d94f4=dbPerformance['get'](_0x160ae2(0x1b0))['cloneDeep']()[_0x160ae2(0x1c0)](_0x261455=>{const _0xf0905b=_0x160ae2;if(_0x261455[_0xf0905b(0x232)][_0xf0905b(0x295)]==0x0)return![];else return!![];})[_0x160ae2(0x15d)]('date')[_0x160ae2(0x2c3)](),_0x5398fb=[...config[_0x160ae2(0x21f)]];_0x5398fb[_0x160ae2(0x205)]((_0x542b2a,_0x3982b4)=>_0x542b2a[_0x160ae2(0x2bc)]>_0x3982b4[_0x160ae2(0x2bc)]?-0x1:_0x3982b4[_0x160ae2(0x2bc)]>_0x542b2a[_0x160ae2(0x2bc)]?0x1:0x0);let _0x3bbe6e=0x1,_0x1e373f=[],_0x38d2b3=0x0;_0x5d94f4[_0x160ae2(0x166)]()[_0x160ae2(0x200)]()[_0x160ae2(0x29f)]((_0x288f5f,_0x59aa3c)=>{const _0x5ca43e=_0x160ae2;if(_0x5398fb[_0x38d2b3]){if(_0x5d94f4[_0x5d94f4['length']-_0x59aa3c]&&_0x5398fb[_0x38d2b3][_0x5ca43e(0x2bc)]==_0x5d94f4[_0x5d94f4[_0x5ca43e(0x295)]-_0x59aa3c][_0x5ca43e(0x2bc)]){if(_0x59aa3c<_0x5d94f4[_0x5ca43e(0x295)]){let _0x5846d0=0x0,_0x175269=0x0;_0x5d94f4[_0x5d94f4['length']-_0x59aa3c][_0x5ca43e(0x232)]['forEach'](_0x370de2=>{const _0x1a4cd0=_0x5ca43e;_0x175269+=_0x370de2[_0x1a4cd0(0x1b2)]*_0x370de2[_0x1a4cd0(0x1ff)];}),_0x5398fb[_0x38d2b3]['changes']['forEach'](_0xd2871=>{const _0x119706=_0x5ca43e;_0x5846d0+=_0xd2871['number']*_0xd2871[_0x119706(0x1ff)];}),_0x3bbe6e*=_0x5846d0/(_0x175269-_0x5846d0)+0x1;}_0x38d2b3++;}}let _0x541d8f=0x0;_0x288f5f[_0x5ca43e(0x232)]['forEach'](_0x33a74c=>{const _0x5adad4=_0x5ca43e;_0x541d8f+=_0x33a74c[_0x5adad4(0x1b2)]*_0x33a74c[_0x5adad4(0x1ff)];}),_0x1e373f[_0x5d94f4[_0x5ca43e(0x295)]-_0x59aa3c-0x1]=_0x541d8f*(_0x3bbe6e-0x1);});let _0x43a173=[];_0x5398fb=[...config[_0x160ae2(0x21f)]]||[];let _0x48c5cd=0x0;_0x38d2b3=0x0,_0x5d94f4['forEach']((_0xedf0f1,_0x4abe18)=>{const _0x4872b2=_0x160ae2;if(_0x5398fb[_0x38d2b3]){const _0x58f674=fns[_0x4872b2(0x2f5)](_0x5398fb[_0x38d2b3]['date'],_0x4872b2(0x2dd),new Date()),_0x2e45e7=fns['parse'](_0xedf0f1[_0x4872b2(0x2bc)],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x58f674,_0x2e45e7)){let _0x29080a=0x0;_0x5398fb[_0x38d2b3][_0x4872b2(0x1fc)][_0x4872b2(0x29f)](_0x35e1f4=>{const _0x3fe844=_0x4872b2;!_0x43a173[_0x35e1f4['coin']]?_0x43a173[_0x35e1f4['coin']]=_0x35e1f4[_0x3fe844(0x1b2)]:(_0x29080a=_0x43a173[_0x35e1f4[_0x3fe844(0x25f)]],_0x43a173[_0x35e1f4[_0x3fe844(0x25f)]]+=_0x35e1f4[_0x3fe844(0x1b2)]);const _0x5e82cf=_0xedf0f1[_0x3fe844(0x232)][_0x3fe844(0x1e0)](_0x11da90=>_0x11da90[_0x3fe844(0x25f)]==_0x35e1f4[_0x3fe844(0x25f)]);(!_0x5e82cf||_0x5e82cf['number']==0x0)&&(_0x48c5cd+=(-_0x35e1f4[_0x3fe844(0x1b2)]-_0x29080a)*_0x35e1f4[_0x3fe844(0x1ff)]);}),_0x38d2b3++;}}_0xedf0f1[_0x4872b2(0x232)]['forEach']((_0x9bbcbd,_0x27e68d)=>{const _0x192a6b=_0x4872b2;_0x43a173[_0x9bbcbd['coin']]&&(_0x9bbcbd[_0x192a6b(0x178)]=_0x43a173[_0x9bbcbd[_0x192a6b(0x25f)]]);}),_0x4f0504[_0x4872b2(0x213)]({'date':_0xedf0f1['date'],'eur':_0xedf0f1['eur'],'usd':_0xedf0f1[_0x4872b2(0x2f6)],'offset':_0x1e373f[_0x4abe18],'netoffset':_0x48c5cd,'coins':_0xedf0f1[_0x4872b2(0x232)]});});}return _0x4f0504;}function emitPerformance(_0x3a5343){const _0xf119e8=_0x4194f8;_0x3a5343[_0xf119e8(0x295)]!==0x0?(proxyEmit(_0xf119e8(0x187),_0x3a5343),lastPerformanceEmitted=getDate()):proxyEmit(_0xf119e8(0x187),[]);}function getPerf(_0x527dfb,_0x3e437e){const _0x8dc80a=_0x4194f8;let _0x38c1eb=0x0,_0x29d522=0x0,_0x345605=0x0;_0x527dfb['coins']['forEach'](_0x2657c2=>{const _0x5a2fbd=_0x2bfe;_0x38c1eb+=_0x2657c2[_0x5a2fbd(0x1b2)]*_0x2657c2[_0x5a2fbd(0x1ff)];});_0x3e437e&&(_0x38c1eb+=_0x527dfb[_0x8dc80a(0x1e9)]);if(config['basecoin']===_0x8dc80a(0x27d)||config[_0x8dc80a(0x1b8)]===_0x8dc80a(0x1f9)||config[_0x8dc80a(0x1b8)]===_0x8dc80a(0x2ef))_0x29d522=_0x38c1eb*_0x527dfb[_0x8dc80a(0x20e)],_0x345605=_0x38c1eb*_0x527dfb[_0x8dc80a(0x2f6)];else{if(usdBasecoins[_0x8dc80a(0x1ec)](config[_0x8dc80a(0x1b8)]))_0x29d522=_0x38c1eb*_0x527dfb['eur']/_0x527dfb[_0x8dc80a(0x2f6)],_0x345605=_0x38c1eb;else config[_0x8dc80a(0x1b8)]==='EUR'&&(_0x29d522=_0x38c1eb,_0x345605=_0x38c1eb*_0x527dfb[_0x8dc80a(0x2f6)]/_0x527dfb[_0x8dc80a(0x20e)]);}return[_0x38c1eb,_0x29d522,_0x345605];}function getKPIs(_0x50305f,_0x433475=_0x4194f8(0x165)){const _0x2aaaad=_0x4194f8,_0x31599a=config[_0x2aaaad(0x1b8)],_0x1a80fc=lastBalances,_0x40cdde=currentCoins,_0x4dcb10=getNormalizedPerformance(),_0x375f39=_0x50305f==='basecoin'?_0x31599a:_0x50305f===_0x2aaaad(0x2ea)||_0x50305f===_0x2aaaad(0x20a)?_0x433475:'Net\x20'+_0x31599a,_0x57e81b=_0x50305f===_0x2aaaad(0x19f)?_0x2aaaad(0x163):_0x50305f===_0x2aaaad(0x20a)?_0x2aaaad(0x163):_0x375f39+'\x20value',_0x43b633=_0x50305f===_0x2aaaad(0x19f)||_0x50305f===_0x2aaaad(0x20a)?_0x2aaaad(0x163):_0x375f39+_0x2aaaad(0x2e7);let _0x2b1458=0x0;_0x40cdde[_0x2aaaad(0x29f)](_0x5253ca=>{const _0x371ea9=_0x2aaaad;_0x2b1458+=_0x5253ca[_0x371ea9(0x1b2)]*_0x5253ca[_0x371ea9(0x16c)];});if(_0x50305f===_0x2aaaad(0x2ea)||_0x50305f===_0x2aaaad(0x20a)){if(_0x31599a===_0x2aaaad(0x27d)||_0x31599a===_0x2aaaad(0x1f9)||_0x31599a===_0x2aaaad(0x2ef))_0x2b1458=_0x2b1458*(_0x433475===_0x2aaaad(0x165)?_0x1a80fc[_0x2aaaad(0x20e)]:_0x1a80fc['usd']);else{if(usdBasecoins[_0x2aaaad(0x1ec)](_0x31599a))_0x2b1458=_0x2b1458*(_0x433475===_0x2aaaad(0x165)?_0x1a80fc[_0x2aaaad(0x20e)]/_0x1a80fc[_0x2aaaad(0x2f6)]:0x1);else _0x31599a===_0x2aaaad(0x165)&&(_0x2b1458=_0x2b1458*(_0x433475===_0x2aaaad(0x165)?0x1:_0x1a80fc[_0x2aaaad(0x2f6)]/_0x1a80fc[_0x2aaaad(0x20e)]));}}let _0x427632;if(_0x2b1458!==0x0){if(_0x50305f===_0x2aaaad(0x1b8))_0x427632=(_0x2b1458/startingBalances[_0x2aaaad(0x1b8)]-0x1)*0x64;else{if(_0x433475==='EUR')_0x427632=(_0x2b1458/startingBalances[_0x2aaaad(0x20e)]-0x1)*0x64;else _0x427632=(_0x2b1458/startingBalances[_0x2aaaad(0x2f6)]-0x1)*0x64;}let _0x1bc4a2=0x0;if(startingBalances['coins'])_0x40cdde[_0x2aaaad(0x29f)](_0xe2130=>{const _0x504fa2=_0x2aaaad;let _0x434212=startingBalances[_0x504fa2(0x232)][_0x504fa2(0x1e0)](_0x406647=>_0x406647[_0x504fa2(0x25f)]===_0xe2130[_0x504fa2(0x25f)]);if(_0x434212&&_0x434212[_0x504fa2(0x25f)]&&_0xe2130[_0x504fa2(0x1b2)]!==0x0)_0x1bc4a2+=_0x434212[_0x504fa2(0x1b2)]*_0xe2130[_0x504fa2(0x16c)];});let _0x11fba9=0x0;if(_0x4dcb10[_0x2aaaad(0x295)]!==0x0){let _0xaf1f4f=_0x4dcb10[_0x4dcb10[_0x2aaaad(0x295)]-0x1];_0x11fba9=_0xaf1f4f['netoffset'];}_0x1bc4a2-=_0x11fba9;_0x50305f===_0x2aaaad(0x19f)&&(_0x427632=(_0x2b1458-_0x1bc4a2)/startingBalances[_0x2aaaad(0x1b8)]*0x64,_0x2b1458=_0x2b1458-_0x1bc4a2);if(_0x50305f===_0x2aaaad(0x20a)){let _0x47c24f=_0x433475===_0x2aaaad(0x165)?startingBalances['eur']:startingBalances[_0x2aaaad(0x2f6)];if(_0x31599a===_0x2aaaad(0x27d)||_0x31599a===_0x2aaaad(0x1f9)||_0x31599a==='PAXG')_0x1bc4a2=_0x433475===_0x2aaaad(0x165)?_0x1bc4a2*_0x1a80fc['eur']:_0x1bc4a2*_0x1a80fc['usd'];else{if(usdBasecoins[_0x2aaaad(0x1ec)](_0x31599a))_0x1bc4a2=_0x433475==='EUR'?_0x1bc4a2*_0x1a80fc['eur']/_0x1a80fc['usd']:_0x1bc4a2;else _0x31599a===_0x2aaaad(0x165)&&(_0x1bc4a2=_0x433475===_0x2aaaad(0x165)?_0x1bc4a2:_0x1bc4a2*_0x1a80fc['usd']/_0x1a80fc[_0x2aaaad(0x20e)]);}_0x427632=(_0x2b1458-_0x1bc4a2)/_0x47c24f*0x64,_0x2b1458=_0x2b1458-_0x1bc4a2;}if(_0x427632){if(_0x427632<0x64)_0x427632=_0x427632['toFixed'](0x2);else{if(_0x427632<0x3e8)_0x427632=_0x427632['toFixed'](0x1);else _0x427632=_0x427632[_0x2aaaad(0x23e)](0x0);}}else _0x427632=Number('0')[_0x2aaaad(0x23e)](0x2);if(_0x2b1458){if(Math[_0x2aaaad(0x17a)](_0x2b1458)<0.000001)_0x2b1458=_0x2b1458[_0x2aaaad(0x23e)](0x2);else{if(Math[_0x2aaaad(0x17a)](_0x2b1458)<0.1)_0x2b1458=_0x2b1458[_0x2aaaad(0x23e)](0x6);else{if(Math[_0x2aaaad(0x17a)](_0x2b1458)<0x1)_0x2b1458=_0x2b1458[_0x2aaaad(0x23e)](0x5);else{if(Math[_0x2aaaad(0x17a)](_0x2b1458)<0xa)_0x2b1458=_0x2b1458['toFixed'](0x4);else{if(Math[_0x2aaaad(0x17a)](_0x2b1458)<0x64)_0x2b1458=_0x2b1458['toFixed'](0x3);else{if(Math['abs'](_0x2b1458)<0x3e8)_0x2b1458=_0x2b1458[_0x2aaaad(0x23e)](0x2);else _0x2b1458=_0x2b1458[_0x2aaaad(0x23e)](0x2);}}}}}}else _0x2b1458=Number('0')[_0x2aaaad(0x23e)](0x2);}else _0x427632=Number('0')[_0x2aaaad(0x23e)](0x2);return{'value':_0x2b1458,'change':_0x427632,'leftTxt':_0x57e81b,'rightTxt':_0x43b633};}async function getStartingBalances(_0x310be8,_0xa26d9c=!![]){const _0x565397=_0x4194f8;if(_0x310be8[_0x565397(0x295)]!==0x0){const [_0x44071f,_0x3bba72,_0xa54ad2]=getPerf(_0x310be8[0x0],!![]);let _0x42bc22=[];config[_0x565397(0x1a7)]['forEach'](_0x58717b=>{const _0x1166ac=_0x565397;let _0x43fa93=0x0,_0xf1c90a;config[_0x1166ac(0x21f)][_0x1166ac(0x29f)](_0x19b684=>{const _0x3267cf=_0x1166ac;let _0x23f632=_0x19b684['changes'][_0x3267cf(0x1e0)](_0x566bf8=>_0x566bf8[_0x3267cf(0x25f)]==_0x58717b[_0x3267cf(0x25f)]);if(_0x23f632){_0x43fa93+=_0x23f632[_0x3267cf(0x1b2)];if(!_0xf1c90a)_0xf1c90a=_0x23f632[_0x3267cf(0x1ff)];}}),_0x42bc22[_0x1166ac(0x213)]({'coin':_0x58717b['coin'],'number':_0x43fa93,'initialprice':_0xf1c90a});});const _0x2f3bfb={'basecoin':_0x44071f,'eur':_0x3bba72,'usd':_0xa54ad2,'coins':_0x42bc22};if(_0xa26d9c)proxyEmit(_0x565397(0x1d2),_0x2f3bfb);startingBalances=_0x2f3bfb;}}function headlessMode(_0xe2ab20){const _0x233927=_0x4194f8;let _0x15aa66=_0xe2ab20['portfolio'],_0xc4136e=_0xe2ab20[_0x233927(0x16f)],_0x4f60b0=[];for(let _0x4999c5 of _0x15aa66){if(_0x4999c5['coin']!=config[_0x233927(0x1b8)]){if(_0x4999c5[_0x233927(0x218)]>=_0xc4136e/0x64){if(_0x4999c5[_0x233927(0x2b4)])_0x4f60b0['push'](_0x4999c5);}else{if(_0x4999c5['delta']<=-_0xc4136e/0x64){if(_0x4999c5['valid'])_0x4f60b0[_0x233927(0x213)](_0x4999c5);}}}}_0x4f60b0['length']>0x0&&(lockOrders==ORDERS[_0x233927(0x18e)]&&!coolingDown&&_0x4f60b0[_0x233927(0x29f)](_0x249950=>{const _0x49f9be=_0x233927;logger[_0x49f9be(0x247)]('Trigger:\x20'+_0x249950['coin']+'\x20'+_0x249950[_0x49f9be(0x1b2)]+'\x20'+_0x249950[_0x49f9be(0x16c)]+'\x20'+_0x249950[_0x49f9be(0x195)]+'%\x20'+_0x249950[_0x49f9be(0x1a8)]+'%\x20'+(0x64*_0x249950[_0x49f9be(0x218)])[_0x49f9be(0x23e)](0x2)+_0x49f9be(0x265)+_0xc4136e[_0x49f9be(0x23e)](0x2)+'%)');}),placeOrder(_0x4f60b0));}function notifyBalance(_0x3da02a){const _0x430ca7=_0x4194f8;let _0x5259aa=_0x3da02a[_0x430ca7(0x1a7)],_0x4ec8bc=_0x3da02a[_0x430ca7(0x16f)],_0x2cc66b=[];for(let _0x161629 of _0x5259aa){if(_0x161629[_0x430ca7(0x25f)]!=config[_0x430ca7(0x1b8)]){if(_0x161629['delta']>=_0x4ec8bc/0x64){if(_0x161629[_0x430ca7(0x2b4)])_0x2cc66b['push'](_0x161629);}else{if(_0x161629[_0x430ca7(0x218)]<=-_0x4ec8bc/0x64){if(_0x161629[_0x430ca7(0x2b4)])_0x2cc66b[_0x430ca7(0x213)](_0x161629);}}}}if(_0x2cc66b['length']>0x0){let _0x56357f=_0x2cc66b[_0x430ca7(0x268)](_0x5303f2=>_0x5303f2[_0x430ca7(0x25f)]);_0x56357f[_0x430ca7(0x205)]();let _0x633943=_0x56357f['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x430ca7(0x23f),_0x430ca7(0x23d));lastCoinsToBalance=_0x633943;}}function _0x2bfe(_0x4424bd,_0x5f03dc){const _0x4ec349=_0x5967();return _0x2bfe=function(_0x23a415,_0x918101){_0x23a415=_0x23a415-0x153;let _0x59676a=_0x4ec349[_0x23a415];return _0x59676a;},_0x2bfe(_0x4424bd,_0x5f03dc);}function symbolToCoin(_0x3d8086){const _0x3344f7=_0x4194f8;let _0x584b91;if(_0x3d8086['includes']('/'+config[_0x3344f7(0x1b8)]))_0x584b91=_0x3d8086[_0x3344f7(0x2c9)]('/'+config[_0x3344f7(0x1b8)],'');if(_0x3d8086[_0x3344f7(0x1ec)](config[_0x3344f7(0x1b8)]+'/'))_0x584b91=_0x3d8086[_0x3344f7(0x2c9)](config[_0x3344f7(0x1b8)]+'/','');return _0x584b91;}async function unlockOrders(){const _0x282e13=_0x4194f8;if(allOrdersPlaced&&lockOrders==ORDERS[_0x282e13(0x2df)]){logger[_0x282e13(0x247)](_0x282e13(0x2b8)),lockOrders=ORDERS[_0x282e13(0x2da)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x1c8afe=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1c8afe,validateOrdersState=_0x282e13(0x178),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x282e13(0x247)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x5edf45){const _0x368cf2=_0x4194f8;if(_0x5edf45)validateOrdersState=_0x5edf45;logger[_0x368cf2(0x247)](_0x368cf2(0x20c)+validateOrdersState+_0x368cf2(0x1a5)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x368cf2(0x297):_0x368cf2(0x197)));let _0x2eda19=[],_0x9bd671=config['ordertype']==_0x368cf2(0x1d0)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x368cf2(0x253)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger['debug'](_0x368cf2(0x19c)+validateOrdersState),lastOrders[_0x368cf2(0x29f)](_0x35afab=>{const _0x24fc86=_0x368cf2;let _0x28da6b=![];_0x35afab[_0x24fc86(0x1a4)]>0x0&&(_0x28da6b=!![]),_0x2eda19['push'](_0x28da6b),_0x28da6b&&config['ordertype']!='market'&&logHistory(_0x24fc86(0x234),'Order\x20filled:\x20'+_0x35afab['symbol']+'\x20'+_0x35afab[_0x24fc86(0x167)]+'\x20#'+formatResult(_0x35afab['filled'],0x8)+'\x20@'+formatResult(_0x35afab[_0x24fc86(0x1ff)],0x8));}),_0x2eda19[_0x368cf2(0x29f)]((_0x20727c,_0x2f220e)=>{const _0x34fcb4=_0x368cf2;if(_0x20727c)lastOrders[_0x34fcb4(0x2c4)](_0x2f220e,0x1);}),persistOpenOrders(lastOrders);const _0x104889=coolingDown?_0x368cf2(0x2a3):_0x368cf2(0x19b);if(validateOrdersState==_0x368cf2(0x178)){validateOrdersState='ongoing';if(_0x2eda19[_0x368cf2(0x1ec)](![])){if(config[_0x368cf2(0x23a)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x368cf2(0x288)){if(_0x2eda19[_0x368cf2(0x1ec)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x368cf2(0x1d0)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x368cf2(0x2f7))_0x2eda19[_0x368cf2(0x1ec)](![])&&(config[_0x368cf2(0x23a)]==_0x368cf2(0x1d0)?logHistory(_0x368cf2(0x1fd),_0x368cf2(0x212)+Math[_0x368cf2(0x19d)](_0x9bd671*validateOrderInterval/0xea60)+_0x368cf2(0x2f9)+_0x104889):(await cancelOrders(),logHistory(_0x368cf2(0x1fd),_0x368cf2(0x245)+Math[_0x368cf2(0x19d)](_0x9bd671*validateOrderInterval/0xea60)+_0x368cf2(0x2f9)+_0x104889))),await unlockOrders();else{if(validateOrdersState==_0x368cf2(0x174)){if(config[_0x368cf2(0x23a)]!='market')logHistory('success',_0x368cf2(0x25c)+_0x104889);await unlockOrders();}}}}}async function cancelOrders(){const _0x1f40c7=_0x4194f8;lastOrders[_0x1f40c7(0x29f)](async _0x23dcbf=>{const _0x577934=_0x1f40c7;try{const _0x2bcc2b=await exchange['cancelOrder'](_0x23dcbf[_0x577934(0x16a)],_0x23dcbf[_0x577934(0x193)]);}catch(_0x10d12e){if(_0x10d12e['toString']()[_0x577934(0x1ec)]('OrderNotFound')){}else await handleError(_0x10d12e,_0x577934(0x2ce));}});}async function initCoinResults(_0x1741d1){const _0x168242=_0x4194f8;_0x1741d1?logger[_0x168242(0x247)](_0x168242(0x2ab)+_0x1741d1):logger[_0x168242(0x247)]('Initializing\x20coin\x20results'),config[_0x168242(0x1a7)]['forEach'](_0x4d24c1=>{const _0x1182ad=_0x168242;if(!_0x4d24c1[_0x1182ad(0x169)]&&_0x4d24c1['coin']!=config[_0x1182ad(0x1b8)]){const _0x58648c=currentCoins[_0x1182ad(0x1e0)](_0x1b2099=>_0x1b2099[_0x1182ad(0x25f)]==_0x4d24c1['coin']),_0x3a7b6b=global[_0x1182ad(0x1f2)][noslash(_0x4d24c1['symbol'])];let _0x13d25e=_0x58648c?_0x58648c['number']:null,_0x4aa108=_0x4d24c1[_0x1182ad(0x200)]?0x1/_0x3a7b6b:_0x3a7b6b,_0x1b4c93;config['liquidity']['forEach'](_0x5bb1e5=>{const _0x1998f2=_0x1182ad;!_0x1b4c93&&(_0x1b4c93=_0x5bb1e5[_0x1998f2(0x1fc)]['find'](_0x320a68=>_0x320a68['coin']==_0x4d24c1['coin']),_0x1b4c93&&(_0x13d25e=_0x1b4c93[_0x1998f2(0x1b2)],_0x4aa108=_0x1b4c93[_0x1998f2(0x1ff)]));});let _0x10141d=dbCoinResults['get']('coins')[_0x1182ad(0x1e0)]({'coin':_0x4d24c1['coin']})[_0x1182ad(0x2c3)]();if(!_0x10141d){const _0xd982cb={'coin':_0x4d24c1[_0x1182ad(0x25f)],'number':_0x13d25e,'breakeven':_0x4aa108,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1182ad(0x24c)]('coins')[_0x1182ad(0x213)](_0xd982cb)[_0x1182ad(0x156)]();}else{if(_0x1741d1&&_0x4d24c1['coin']==_0x1741d1){const _0x7c44a3={'coin':_0x4d24c1[_0x1182ad(0x25f)],'number':_0x13d25e,'breakeven':_0x4aa108,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x1182ad(0x232))[_0x1182ad(0x1e0)]({'coin':_0x4d24c1[_0x1182ad(0x25f)]})[_0x1182ad(0x2b1)](_0x7c44a3)[_0x1182ad(0x156)]();}}}});}async function updateCoinResults(_0x5b6c02,_0x262864=![]){const _0x113694=_0x4194f8;let _0x48c580,_0x265b22,_0x3d405f,_0x2e3552,_0xfbda1,_0x4a109b,_0x176a76=dbCoinResults[_0x113694(0x24c)](_0x113694(0x232))[_0x113694(0x1e0)]({'coin':_0x5b6c02[_0x113694(0x25f)]})[_0x113694(0x2c3)](),_0x5767c9=![];_0x176a76&&Object[_0x113694(0x211)](_0x176a76)[_0x113694(0x29f)](([_0xc1af42,_0x30ae66])=>{if(_0x30ae66==null)_0x5767c9=!![];});(!_0x176a76||_0x5767c9)&&(await initCoinResults(_0x5b6c02[_0x113694(0x25f)]),_0x176a76=dbCoinResults[_0x113694(0x24c)]('coins')[_0x113694(0x1e0)]({'coin':_0x5b6c02[_0x113694(0x25f)]})['value']());_0x5b6c02[_0x113694(0x200)]&&(_0x4a109b={'filled':_0x5b6c02['filled']*_0x5b6c02[_0x113694(0x1ff)],'amount':_0x5b6c02[_0x113694(0x1a4)]*_0x5b6c02['price'],'side':_0x5b6c02[_0x113694(0x167)]==_0x113694(0x2d7)?_0x113694(0x273):'sell','price':0x1/_0x5b6c02[_0x113694(0x1ff)]},_0x5b6c02={..._0x5b6c02,..._0x4a109b});_0x262864?_0x265b22=_0x5b6c02[_0x113694(0x167)]==_0x113694(0x273)?_0x176a76[_0x113694(0x1b2)]+_0x5b6c02[_0x113694(0x1a4)]:_0x176a76['number']-_0x5b6c02[_0x113694(0x1a4)]:_0x265b22=await getCoinNumber(_0x5b6c02['coin']);if(_0x5b6c02[_0x113694(0x15f)]&&_0x5b6c02[_0x113694(0x15f)][_0x113694(0x1e1)]==config[_0x113694(0x1b8)])_0x48c580=Number(_0x5b6c02[_0x113694(0x15f)][_0x113694(0x275)]);else{if(_0x5b6c02['fee']&&_0x5b6c02['fee'][_0x113694(0x1e1)]==_0x113694(0x1c2)&&!_0x262864&&config[_0x113694(0x1b8)]!='PAXG')_0x48c580=Number(_0x5b6c02[_0x113694(0x15f)][_0x113694(0x275)])*global[_0x113694(0x1f2)][_0x113694(0x1c2)+config[_0x113694(0x1b8)]];else _0x48c580=defaultFee*_0x5b6c02['filled']*_0x5b6c02[_0x113694(0x1ff)];}_0x5b6c02[_0x113694(0x167)]==_0x113694(0x273)?(_0x3d405f=_0x265b22!=0x0?(_0x176a76[_0x113694(0x29a)]*_0x176a76[_0x113694(0x1b2)]+_0x5b6c02['price']*(_0x265b22-_0x176a76[_0x113694(0x1b2)])+_0x48c580)/_0x265b22:0x0,_0x2e3552=_0x176a76[_0x113694(0x2d4)]):(_0x3d405f=_0x265b22!=0x0?(_0x176a76[_0x113694(0x29a)]*_0x176a76[_0x113694(0x1b2)]-_0x5b6c02[_0x113694(0x1ff)]*(_0x176a76['number']-_0x265b22)+_0x48c580)/_0x265b22:0x0,_0x2e3552=_0x176a76['realized']+(_0x5b6c02[_0x113694(0x1ff)]-_0x176a76[_0x113694(0x29a)])*_0x5b6c02['filled']);_0xfbda1=(_0x5b6c02[_0x113694(0x1ff)]-_0x3d405f-_0x48c580/_0x5b6c02[_0x113694(0x1a4)])*_0x265b22;let _0x63b343={'coin':_0x5b6c02[_0x113694(0x25f)],'number':_0x265b22,'breakeven':formatResult(_0x3d405f,0x8),'realized':formatResult(_0x2e3552,0x8),'unrealized':formatResult(_0xfbda1,0x8),'fees':formatResult(_0x176a76[_0x113694(0x1eb)]+_0x48c580,0x8),'sells':_0x5b6c02[_0x113694(0x167)]==_0x113694(0x2d7)?_0x176a76[_0x113694(0x2af)]+0x1:_0x176a76[_0x113694(0x2af)],'buys':_0x5b6c02[_0x113694(0x167)]==_0x113694(0x273)?_0x176a76[_0x113694(0x1c5)]+0x1:_0x176a76[_0x113694(0x1c5)]};dbCoinResults['get'](_0x113694(0x232))['find']({'coin':_0x5b6c02[_0x113694(0x25f)]})['assign'](_0x63b343)[_0x113694(0x156)]();if(!_0x262864){if(_0x5b6c02['fee']&&_0x5b6c02['fee']['currency']=='BNB'){const _0x787602=currentCoins[_0x113694(0x1e0)](_0x238cdd=>_0x238cdd[_0x113694(0x25f)]==_0x113694(0x1c2));if(_0x787602){let _0x496538=dbCoinResults['get'](_0x113694(0x232))[_0x113694(0x1e0)]({'coin':'BNB'})['value']();_0x63b343={..._0x496538,'number':_0x787602[_0x113694(0x1b2)]},dbCoinResults[_0x113694(0x24c)]('coins')['find']({'coin':_0x113694(0x1c2)})[_0x113694(0x2b1)](_0x63b343)[_0x113694(0x156)]();}}}}async function placeOrder(_0x5d9a40){const _0x10b7b7=_0x4194f8,_0x52ff92=config[_0x10b7b7(0x23a)]==_0x10b7b7(0x1d0)?_0x10b7b7(0x1d0):'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x10b7b7(0x2df)],allOrdersPlaced=![],validateOrdersState=_0x10b7b7(0x178);let _0xb59744=![];lastOrders=[];for(const _0xfbd53d of _0x5d9a40){let _0x46a15c,_0x885f93,_0x1a8dd4,_0x23adfe,_0x4524c6,_0x1da133=_0xfbd53d[_0x10b7b7(0x193)];try{const _0x1c752a=await exchange[_0x10b7b7(0x202)](_0x1da133);_0x46a15c=_0xfbd53d[_0x10b7b7(0x200)]?0x1/_0xfbd53d[_0x10b7b7(0x16c)]:_0xfbd53d['last'],_0x885f93=_0x1c752a['bid'],_0x1a8dd4=_0x1c752a[_0x10b7b7(0x282)];_0xfbd53d[_0x10b7b7(0x200)]?(_0x23adfe=_0xfbd53d[_0x10b7b7(0x167)]==_0x10b7b7(0x273)?_0x10b7b7(0x2d7):_0x10b7b7(0x273),_0x4524c6=Math['abs'](_0xfbd53d[_0x10b7b7(0x2cd)])/_0x46a15c):(_0x23adfe=_0xfbd53d[_0x10b7b7(0x167)],_0x4524c6=Math[_0x10b7b7(0x17a)](_0xfbd53d['trade']));_0x52ff92==_0x10b7b7(0x15e)&&(config[_0x10b7b7(0x23a)]==_0x10b7b7(0x194)&&(_0x46a15c=_0x23adfe==_0x10b7b7(0x273)?_0x885f93:_0x1a8dd4),config[_0x10b7b7(0x23a)]==_0x10b7b7(0x2a4)&&(_0x46a15c=_0x23adfe=='buy'?_0x1a8dd4:_0x885f93));_0x4524c6=formatResult(_0x4524c6,0x8),_0x46a15c=formatResult(_0x46a15c,0x8);const _0x4416d5=_0x23adfe==_0x10b7b7(0x2d7)?config[_0x10b7b7(0x216)]?String[_0x10b7b7(0x1ce)]('0x'+config[_0x10b7b7(0x216)])+'\x20':'':config['emojibuy']?String[_0x10b7b7(0x1ce)]('0x'+config[_0x10b7b7(0x1bb)])+'\x20':'',_0x11d16b=_0x52ff92==_0x10b7b7(0x1d0)?'Market':config[_0x10b7b7(0x23a)]=='limit-high'?_0x10b7b7(0x1d4):'Limit\x20(low-margin)',_0x175432=(Math[_0x10b7b7(0x219)](Math[_0x10b7b7(0x1b3)]()*0x35a4e900)+0x5f5e100)[_0x10b7b7(0x2e0)]();lastOrders[_0x10b7b7(0x213)]({'customId':_0x175432,'symbol':_0x1da133,'coin':_0xfbd53d[_0x10b7b7(0x25f)],'amount':_0x4524c6,'price':_0x46a15c,'side':_0x23adfe,'reverse':_0xfbd53d['reverse'],'filled':0x0});if(_0x52ff92==_0x10b7b7(0x1d0))logHistory(_0x10b7b7(0x234),''+_0x4416d5+_0x11d16b+_0x10b7b7(0x264)+_0x1da133+'\x20'+_0x23adfe+'\x20#'+formatResult(_0x4524c6,0x8)+'\x20@'+formatResult(_0x46a15c,0x8));else logHistory(_0x10b7b7(0x234),''+_0x4416d5+_0x11d16b+_0x10b7b7(0x264)+_0x1da133+'\x20'+_0x23adfe+'\x20#'+formatResult(_0x4524c6,0x8)+'\x20@'+formatResult(_0x46a15c,0x8));let _0x2da281;_0x52ff92==_0x10b7b7(0x1d0)?_0x23adfe==_0x10b7b7(0x273)&&[_0x10b7b7(0x1c4),_0x10b7b7(0x201),_0x10b7b7(0x231),_0x10b7b7(0x2e3),_0x10b7b7(0x17f)][_0x10b7b7(0x1ec)](config['exchange'])?_0x2da281=await exchange[_0x10b7b7(0x2a7)](_0x1da133,_0x52ff92,_0x23adfe,_0x4524c6,_0x46a15c):_0x2da281=await exchange[_0x10b7b7(0x2a7)](_0x1da133,_0x52ff92,_0x23adfe,_0x4524c6,undefined):_0x2da281=await exchange[_0x10b7b7(0x2a7)](_0x1da133,_0x52ff92,_0x23adfe,_0x4524c6,_0x46a15c);logger[_0x10b7b7(0x247)](_0x10b7b7(0x2d0)+_0x2da281['id']+_0x10b7b7(0x217)+_0x175432);const _0x13bb5a=lastOrders[_0x10b7b7(0x295)]-0x1;if(_0x13bb5a>=0x0&&lastOrders[_0x13bb5a]['customId']==_0x175432){lastOrders[_0x13bb5a][_0x10b7b7(0x16a)]=_0x2da281['id'];if(_0x2da281[_0x10b7b7(0x224)])lastOrders[_0x13bb5a][_0x10b7b7(0x224)]=_0x2da281[_0x10b7b7(0x224)];if(_0x2da281[_0x10b7b7(0x1ff)])lastOrders[_0x13bb5a][_0x10b7b7(0x1ff)]=_0x2da281[_0x10b7b7(0x1ff)];lastOrders[_0x13bb5a]['fee']=_0x2da281[_0x10b7b7(0x15f)];}if(config['cooldown']!=0x0){let _0x2b291b=null;if(cooldownTracker['length']==config[_0x10b7b7(0x19e)]-0x1)_0x2b291b=cooldownTracker[_0x10b7b7(0x2a5)]();const _0x5289a5=getTimeStamp();cooldownTracker[_0x10b7b7(0x213)](_0x5289a5);if(_0x2b291b){const _0x4ceed4=fns[_0x10b7b7(0x221)](new Date(_0x5289a5),new Date(_0x2b291b));if(_0x4ceed4<cooldownInterval){logHistory(_0x10b7b7(0x255),'Executed\x20'+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x10b7b7(0x18f)+cooldownPeriod/(0xe10*0x3e8)+_0x10b7b7(0x21a)),coolingDown=!![];break;}}}}catch(_0x58630c){if(_0x58630c[_0x10b7b7(0x2e0)]()['includes'](_0x10b7b7(0x16d)))lastOrders=lastOrders[_0x10b7b7(0x1c0)](_0x2c678c=>_0x2c678c[_0x10b7b7(0x193)]!=_0x1da133),logHistory(_0x10b7b7(0x255),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x1da133),_0xb59744=!![];else{if(_0x58630c[_0x10b7b7(0x2e0)]()['includes'](_0x10b7b7(0x2e1)))lastOrders=lastOrders[_0x10b7b7(0x1c0)](_0x5dae6e=>_0x5dae6e[_0x10b7b7(0x193)]!=_0x1da133),logHistory(_0x10b7b7(0x255),_0x10b7b7(0x1e8)+_0x1da133),_0xb59744=!![];else{if(_0x58630c[_0x10b7b7(0x2e0)]()[_0x10b7b7(0x1ec)](_0x10b7b7(0x20b)))lastOrders=lastOrders[_0x10b7b7(0x1c0)](_0x28b66c=>_0x28b66c['symbol']!=_0x1da133),logHistory(_0x10b7b7(0x255),_0x10b7b7(0x157)+_0x1da133),logger[_0x10b7b7(0x247)](_0x58630c),_0xb59744=!![];else _0x58630c['toString']()['includes'](_0x10b7b7(0x1cd))?(lastOrders=lastOrders[_0x10b7b7(0x1c0)](_0x56eaae=>_0x56eaae[_0x10b7b7(0x193)]!=_0x1da133),logHistory(_0x10b7b7(0x255),_0x10b7b7(0x242)+_0x1da133),_0xb59744=!![]):(lastOrders=lastOrders[_0x10b7b7(0x1c0)](_0x2137e3=>_0x2137e3[_0x10b7b7(0x193)]!=_0x1da133),await handleError(_0x58630c,_0x10b7b7(0x1cb),_0x1da133));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x10b7b7(0x295)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x560bc1=config[_0x10b7b7(0x23a)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x560bc1);}else unlockOrders();_0xb59744&&config[_0x10b7b7(0x26a)]&&(logHistory(_0x10b7b7(0x255),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x10b7b7(0x1fd),_0x10b7b7(0x2ad)));}else{if(coolingDown)!config[_0x10b7b7(0x26a)]&&logHistory(_0x10b7b7(0x255),_0x10b7b7(0x17d));else lockOrders!=ORDERS[_0x10b7b7(0x18e)]&&(!config[_0x10b7b7(0x26a)]&&(config[_0x10b7b7(0x23a)]==_0x10b7b7(0x1d0)?logHistory('error',_0x10b7b7(0x183)):logHistory(_0x10b7b7(0x255),_0x10b7b7(0x1e6))));}}function persistOpenOrders(_0x3c1de3){const _0x300e6c=_0x4194f8,_0x4ff7fa={...config,'openOrders':_0x3c1de3};let _0x3e781e=dbConfig['get']('bot')[_0x300e6c(0x1e0)]({'botID':botID})[_0x300e6c(0x2c3)]();_0x3e781e&&dbConfig[_0x300e6c(0x24c)]('bot')[_0x300e6c(0x1e0)]({'botID':botID})[_0x300e6c(0x2b1)](_0x4ff7fa)[_0x300e6c(0x156)]();}function restoreOrders(){const _0x3f47bf=_0x4194f8;let _0x21d87b;config[_0x3f47bf(0x18d)]&&allOpenOrders['forEach'](_0x4c8905=>{const _0x5ed38c=_0x3f47bf,_0x373f4=config['openOrders'][_0x5ed38c(0x1e0)](_0x11704b=>_0x11704b[_0x5ed38c(0x16a)]==_0x4c8905['id']);_0x373f4&&(lastOrders[_0x5ed38c(0x213)](_0x373f4),_0x21d87b=_0x4c8905[_0x5ed38c(0x175)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x3f47bf(0x2df)],validateOrdersState=_0x3f47bf(0x288),allOrdersPlaced=!![];const _0x2d6664=new Date()['getTime'](),_0x29426f=config[_0x3f47bf(0x23a)]==_0x3f47bf(0x1d0)?validateOrderTimeout*0x3c*0x3e8:config[_0x3f47bf(0x253)]*0x3c*0x3e8;if(_0x21d87b+_0x29426f>_0x2d6664){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x7e6b2d=_0x3f47bf;validateOrders(_0x7e6b2d(0x2f7));},_0x21d87b+_0x29426f-_0x2d6664);}else validateOrders(_0x3f47bf(0x2f7));}}async function sendMetricsTelegram(){const _0x38ca09=_0x4194f8;if(!coinsLoaded){process[_0x38ca09(0x1be)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x4917c6=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x182a6a='';if(config[_0x38ca09(0x2a0)])_0x182a6a=_0x38ca09(0x289)+config[_0x38ca09(0x27e)]+_0x38ca09(0x250);else _0x182a6a=_0x38ca09(0x16e)+botID+_0x38ca09(0x250);const _0x5a21d0=getKPIs(_0x38ca09(0x1b8)),_0x4d9ca9=getKPIs('fiat',config[_0x38ca09(0x2ea)]),_0x2de4d4=getKPIs('net-basecoin'),_0x4c0eb2=getKPIs('net-fiat',config[_0x38ca09(0x2ea)]);_0x182a6a+=_0x38ca09(0x18b),_0x182a6a+=_0x5a21d0['leftTxt']+_0x38ca09(0x2f2)+_0x5a21d0['value']+'\x0a',_0x182a6a+=_0x5a21d0['rightTxt']+':\x20'+_0x5a21d0[_0x38ca09(0x2cf)]+'%\x0a',_0x182a6a+=_0x4d9ca9[_0x38ca09(0x266)]+'\x20:\x20'+_0x4d9ca9[_0x38ca09(0x2c3)]+'\x0a',_0x182a6a+=_0x4d9ca9[_0x38ca09(0x176)]+':\x20'+_0x4d9ca9[_0x38ca09(0x2cf)]+'%\x0a',_0x182a6a+=_0x2de4d4[_0x38ca09(0x266)]+':\x20'+_0x2de4d4[_0x38ca09(0x2c3)]+'\x20('+config[_0x38ca09(0x1b8)]+')\x0a',_0x182a6a+=_0x2de4d4[_0x38ca09(0x176)]+':\x20'+_0x2de4d4[_0x38ca09(0x2cf)]+'%\x20('+config[_0x38ca09(0x1b8)]+')\x0a',_0x182a6a+=_0x4c0eb2[_0x38ca09(0x266)]+':\x20'+_0x4c0eb2['value']+'\x20('+config[_0x38ca09(0x2ea)]+')\x0a',_0x182a6a+=_0x4c0eb2[_0x38ca09(0x176)]+':\x20'+_0x4c0eb2[_0x38ca09(0x2cf)]+'%\x20('+config[_0x38ca09(0x2ea)]+')\x0a',_0x182a6a+='</pre>',process[_0x38ca09(0x1be)]({'telegrammsg':_0x182a6a},_0x1a6d6e=>{});}async function sendPortfolioTelegram(){const _0x4942ba=_0x4194f8;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x4942ba(0x1be)]({'telegrammsg':_0x4942ba(0x287)},_0x5405aa=>{});return;}let _0x4b9095='';if(config['showname'])_0x4b9095=_0x4942ba(0x289)+config[_0x4942ba(0x27e)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x4b9095='<b>Bot\x20'+botID+_0x4942ba(0x199);_0x4b9095+=_0x4942ba(0x18b),_0x4b9095+=_0x4942ba(0x1ed),_0x4b9095+=_0x4942ba(0x240),_0x4b9095+=_0x4942ba(0x1ed),currentCoins[_0x4942ba(0x29f)](_0x529dd3=>{const _0x22fcb9=_0x4942ba;_0x4b9095+=_0x529dd3[_0x22fcb9(0x25f)]['padEnd'](0x7)+'|\x20'+formatPad(_0x529dd3[_0x22fcb9(0x195)],0x2,0x6)+'|\x20'+formatPad(_0x529dd3[_0x22fcb9(0x1a8)],0x2,0x6)+'|\x20'+formatPad(_0x529dd3[_0x22fcb9(0x218)]*0x64,0x2,0x6)+'\x0a';}),_0x4b9095+='</pre>',process['send']({'telegrammsg':_0x4b9095},_0x307684=>{});}function formatPad(_0x2cb33a,_0x2239a1,_0x4b10d2){const _0x426b75=_0x4194f8,_0x5c31c8=formatResultString(_0x2cb33a,_0x2239a1);return _0x5c31c8?_0x5c31c8['padStart'](_0x4b10d2):''[_0x426b75(0x204)](_0x4b10d2);}function logHistory(_0x515b90,_0x3ca234,_0x346fb9=''){const _0x1b8112=_0x4194f8;logger[_0x1b8112(0x1c7)](''+_0x3ca234);let _0x37b823={'time':getTimeStamp(),'type':_0x515b90,'event':_0x3ca234};dbLogs[_0x1b8112(0x24c)](_0x1b8112(0x2ba))[_0x1b8112(0x213)](_0x37b823)[_0x1b8112(0x156)]();if(_0x346fb9=='')_0x346fb9=_0x3ca234;proxyEmit(_0x1b8112(0x27a),{'log':_0x37b823,'summary':_0x346fb9}),process[_0x1b8112(0x1be)]({'telegram':{..._0x37b823,'botname':config[_0x1b8112(0x27e)],'showname':config['showname']}},_0x126444=>{});}function emitHistory(_0x4b1bb3={}){const _0x5b591c=_0x4194f8;Object[_0x5b591c(0x186)](_0x4b1bb3)['length']==0x0&&(_0x4b1bb3={'type':[_0x5b591c(0x234),_0x5b591c(0x27a)],'event':'','page':0x1});if(_0x4b1bb3[_0x5b591c(0x1ef)][_0x5b591c(0x1ec)](_0x5b591c(0x27a)))_0x4b1bb3['type']['splice'](_0x4b1bb3['type'][_0x5b591c(0x2be)](_0x5b591c(0x27a)),0x1,_0x5b591c(0x255),_0x5b591c(0x23f),_0x5b591c(0x1fd));if(dbLogs['has'](_0x5b591c(0x2ba))[_0x5b591c(0x2c3)]()){let _0x3ed1d4=dbLogs[_0x5b591c(0x24c)](_0x5b591c(0x2ba))[_0x5b591c(0x1c0)](_0x241b7d=>{const _0xfcf8b3=_0x5b591c;if(_0x4b1bb3[_0xfcf8b3(0x1ef)][_0xfcf8b3(0x295)]==0x0)return![];else return _0x4b1bb3[_0xfcf8b3(0x1ef)][_0xfcf8b3(0x1ec)](_0x241b7d['type']);})[_0x5b591c(0x1c0)](_0x53beb2=>{const _0x5ddabc=_0x5b591c;if(_0x4b1bb3[_0x5ddabc(0x27a)]=='')return!![];else return _0x53beb2['event'][_0x5ddabc(0x1d6)]()['includes'](_0x4b1bb3[_0x5ddabc(0x27a)]['toLowerCase']());})['sortBy']('time'),_0x339bb2=_0x3ed1d4[_0x5b591c(0x2c3)]()[_0x5b591c(0x295)];_0x3ed1d4=_0x3ed1d4[_0x5b591c(0x200)]()[_0x5b591c(0x166)]((_0x4b1bb3[_0x5b591c(0x1e4)]-0x1)*logPageSize,_0x4b1bb3[_0x5b591c(0x1e4)]*logPageSize-0x1)[_0x5b591c(0x200)]()['value'](),proxyEmit('event-history',{'logs':_0x3ed1d4,'total':_0x339bb2});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x33a5a9){const _0x43629c=_0x4194f8;if(dbLogs[_0x43629c(0x1a0)](_0x43629c(0x2ba))[_0x43629c(0x2c3)]()){const _0x10bc4a=dbLogs['get'](_0x43629c(0x2ba))[_0x43629c(0x15d)](_0x43629c(0x22c))[_0x43629c(0x1c0)](_0x58bcce=>{const _0x3b712a=_0x43629c;return _0x58bcce['type']==_0x3b712a(0x234);})[_0x43629c(0x2c3)]();dbLogs[_0x43629c(0x24c)](_0x43629c(0x2ba))['remove']()[_0x43629c(0x156)](),dbLogs[_0x43629c(0x24c)](_0x43629c(0x2ba))[_0x43629c(0x2b1)](_0x10bc4a)[_0x43629c(0x156)](),emitHistory(_0x33a5a9);}}async function pauseBot(_0xf30693=pauseBotInterval){const _0x20e286=_0x4194f8,_0x1884be=new Date()['getTime']();if(!lastErrorShown||_0x1884be-lastErrorShown>=_0xf30693){lastErrorShown=_0x1884be;!lastBotPause?(lastBotPause=_0x1884be,consecutivePauses=0x1):(_0x1884be-lastBotPause-_0xf30693<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0xd626c0=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x20e286(0x1f5)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0xf30693),botPaused=![],reset(!![]);}}}async function killBot(){const _0x538ef0=_0x4194f8;botPaused=!![],await sleep(0x3e8),process['send']({'stop':_0x538ef0(0x1aa)},_0x31d74e=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x18099d,_0x418ba9){const _0x1c79fe=_0x4194f8;if(botPaused)return;const _0x1d9649=config[_0x1c79fe(0x21b)]||_0x1c79fe(0x1d1);if(_0x418ba9)logger[_0x1c79fe(0x247)](_0x1c79fe(0x155)+_0x418ba9);const _0x1bab05=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x18099d['toString']()[_0x1c79fe(0x1ec)](_0x1c79fe(0x23b)))logHistory(_0x1c79fe(0x255),_0x1d9649+_0x1c79fe(0x243)),_0x1bab05();else{if(_0x18099d[_0x1c79fe(0x2e0)]()[_0x1c79fe(0x1ec)](_0x1c79fe(0x210)))logHistory(_0x1c79fe(0x255),_0x1d9649+_0x1c79fe(0x1a9)),_0x1bab05();else _0x18099d[_0x1c79fe(0x2e0)]()[_0x1c79fe(0x1ec)]('AuthenticationError')?(logHistory('error',_0x1d9649+_0x1c79fe(0x198)),logHistory(_0x1c79fe(0x255),_0x1c79fe(0x181)),_0x1bab05()):await handleError(_0x18099d,null);}}async function handleError(_0x3dae6f,_0x1bfd14,_0x1eca24=''){const _0x52998c=_0x4194f8;if(botPaused)return;const _0x56bfd9=config[_0x52998c(0x21b)]||_0x52998c(0x1d1);if(_0x1bfd14)logger['debug'](_0x52998c(0x155)+_0x1bfd14);if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)](_0x52998c(0x272)))logHistory(_0x52998c(0x255),_0x56bfd9+_0x52998c(0x17c)+pauseBotMsg),logger[_0x52998c(0x247)](_0x52998c(0x1ad),_0x3dae6f),await pauseBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)]('RateLimitExceeded'))logHistory(_0x52998c(0x255),_0x56bfd9+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading'+pauseBotMsg),logger[_0x52998c(0x247)](_0x52998c(0x1ad),_0x3dae6f),await pauseBot();else{if(_0x3dae6f['toString']()[_0x52998c(0x1ec)]('ExchangeNotAvailable')||_0x3dae6f[_0x52998c(0x2e0)]()['includes'](_0x52998c(0x2d9)))logHistory(_0x52998c(0x255),_0x56bfd9+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),await pauseBot();else{if(_0x3dae6f['toString']()[_0x52998c(0x1ec)](_0x52998c(0x2f8)))logHistory(_0x52998c(0x255),_0x56bfd9+_0x52998c(0x1fb)+pauseBotMsg),await pauseBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)](_0x52998c(0x271)))logHistory(_0x52998c(0x255),_0x56bfd9+_0x52998c(0x1e2)+pauseBotMsg),await pauseBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1d6)]()[_0x52998c(0x1ec)](_0x52998c(0x175))||_0x3dae6f['toString']()[_0x52998c(0x1d6)]()[_0x52998c(0x1ec)](_0x52998c(0x207)))logHistory('error','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'+pauseBotMsg),logger[_0x52998c(0x247)]('Error\x20details:',_0x3dae6f[_0x52998c(0x2e0)]()),await pauseBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)](_0x52998c(0x281)))logHistory(_0x52998c(0x255),_0x56bfd9+_0x52998c(0x1df)+pauseBotMsg),logger['debug'](_0x52998c(0x1ad),_0x3dae6f),await pauseBot();else{if(_0x3dae6f instanceof ccxt['NetworkError'])logHistory(_0x52998c(0x255),_0x56bfd9+'\x20network\x20error'+pauseBotMsg),logger[_0x52998c(0x247)]('Error\x20details:',_0x3dae6f),await pauseBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)]('API-key\x20format\x20invalid'))logHistory(_0x52998c(0x255),_0x56bfd9+_0x52998c(0x241)),logHistory(_0x52998c(0x255),_0x52998c(0x2c5)),await killBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)](_0x52998c(0x210)))logHistory('error',_0x56bfd9+_0x52998c(0x168)),logHistory(_0x52998c(0x255),_0x52998c(0x2c5)),await killBot();else{if(_0x3dae6f['toString']()[_0x52998c(0x1ec)](_0x52998c(0x2ac)))logHistory(_0x52998c(0x255),_0x56bfd9+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x52998c(0x255),_0x52998c(0x2c5)),await killBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)]('PermissionDenied'))logHistory('error',_0x56bfd9+_0x52998c(0x2ca)),logHistory(_0x52998c(0x255),_0x52998c(0x2c5)),await killBot();else{if(_0x3dae6f[_0x52998c(0x2e0)]()[_0x52998c(0x1ec)]('InsufficientFunds'))logHistory(_0x52998c(0x255),_0x52998c(0x2b2)+_0x1eca24);else _0x3dae6f instanceof ccxt['ExchangeError']?(logHistory(_0x52998c(0x255),_0x56bfd9+_0x52998c(0x286)),logger[_0x52998c(0x247)](_0x52998c(0x1ad),_0x3dae6f)):(logHistory(_0x52998c(0x255),_0x52998c(0x184)+pauseBotMsg),logger[_0x52998c(0x247)](_0x52998c(0x1ad),_0x3dae6f),await pauseBot());}}}}}}}}}}}}}async function withRetry(_0x50cfae,_0x1c9f2a){const _0x161978=_0x4194f8;let _0x38ca06=![],_0x37753f=0x0,_0x36dbdc,_0x3751f8;while(_0x37753f<maxRetries){try{_0x36dbdc=await _0x1c9f2a();break;}catch(_0x550736){_0x3751f8=_0x550736,!_0x38ca06?(_0x38ca06=!![],logger[_0x161978(0x247)]('RETRY\x20-\x20Error\x20in\x20'+_0x50cfae+':',_0x550736[_0x161978(0x2e0)]())):await sleep(retryInterval);}_0x37753f++;}if(_0x37753f==0x0)return _0x36dbdc;if(_0x37753f>=maxRetries)throw _0x3751f8;else return logger['debug'](_0x161978(0x2bd)+_0x37753f+'\x20attempts'),_0x36dbdc;}function formatResult(_0x426d57,_0x59f65b){const _0x45db84=_0x4194f8;return parseFloat(_0x426d57[_0x45db84(0x23e)](_0x59f65b));}function formatResultTruncate(_0x5d460a,_0x2bbc48){const _0x204705=_0x4194f8;let _0x5f4520=formatResultString(_0x5d460a,0xa),_0x332eff=_0x5f4520[_0x204705(0x2be)]('.');return _0x332eff!=-0x1&&(_0x5f4520=_0x5f4520[_0x204705(0x166)](0x0,_0x332eff+_0x2bbc48+0x1)),Number(_0x5f4520);}function formatResultString(_0x4bb336,_0x59c3d7){const _0x17759e=_0x4194f8;let _0x271597;if(!(''+_0x4bb336)['includes']('e'))_0x271597=+(Math[_0x17759e(0x19d)](_0x4bb336+'e+'+_0x59c3d7)+'e-'+_0x59c3d7);else{let _0x3d8675=(''+_0x4bb336)[_0x17759e(0x179)]('e'),_0xfd6fc7='';+_0x3d8675[0x1]+_0x59c3d7>0x0&&(_0xfd6fc7='+'),_0x271597=+(Math[_0x17759e(0x19d)](+_0x3d8675[0x0]+'e'+_0xfd6fc7+(+_0x3d8675[0x1]+_0x59c3d7))+'e-'+_0x59c3d7);}return Number(_0x271597)[_0x17759e(0x23e)](_0x59c3d7);}function getServerTime(){const _0x2c7fa7=_0x4194f8,_0x567aa3=new Date();return _0x567aa3[_0x2c7fa7(0x2d2)]()+'/'+(_0x567aa3[_0x2c7fa7(0x1c3)]()+0x1)[_0x2c7fa7(0x2e0)]()[_0x2c7fa7(0x204)](0x2,'0')+'/'+_0x567aa3[_0x2c7fa7(0x2c2)]()[_0x2c7fa7(0x2e0)]()[_0x2c7fa7(0x204)](0x2,'0')+'\x20'+_0x567aa3[_0x2c7fa7(0x1d9)]()['toString']()['padStart'](0x2,'0')+':'+_0x567aa3[_0x2c7fa7(0x2e6)]()[_0x2c7fa7(0x2e0)]()[_0x2c7fa7(0x204)](0x2,'0')+':'+_0x567aa3[_0x2c7fa7(0x1dd)]()[_0x2c7fa7(0x2e0)]()[_0x2c7fa7(0x204)](0x2,'0');}function getTimeStamp(){const _0x48b136=_0x4194f8,_0x360a16=shiftedTime();return _0x360a16[_0x48b136(0x2d2)]()+'/'+(_0x360a16['getMonth']()+0x1)[_0x48b136(0x2e0)]()['padStart'](0x2,'0')+'/'+_0x360a16[_0x48b136(0x2c2)]()[_0x48b136(0x2e0)]()['padStart'](0x2,'0')+'\x20'+_0x360a16[_0x48b136(0x1d9)]()[_0x48b136(0x2e0)]()['padStart'](0x2,'0')+':'+_0x360a16[_0x48b136(0x2e6)]()[_0x48b136(0x2e0)]()[_0x48b136(0x204)](0x2,'0')+':'+_0x360a16[_0x48b136(0x1dd)]()[_0x48b136(0x2e0)]()[_0x48b136(0x204)](0x2,'0');}function getDate(){const _0x55eeef=_0x4194f8,_0x4600e9=shiftedTime();return _0x4600e9[_0x55eeef(0x2d2)]()+'/'+(_0x4600e9['getMonth']()+0x1)[_0x55eeef(0x2e0)]()[_0x55eeef(0x204)](0x2,'0')+'/'+_0x4600e9['getDate']()[_0x55eeef(0x2e0)]()[_0x55eeef(0x204)](0x2,'0');}function getHour(){const _0xeb7394=_0x4194f8,_0xed0fbc=shiftedTime();return _0xed0fbc[_0xeb7394(0x1d9)]()[_0xeb7394(0x2e0)]()[_0xeb7394(0x204)](0x2,'0');}function sleep(_0x5b71c1){return new Promise(_0x36c3f7=>setTimeout(_0x36c3f7,_0x5b71c1));}function shiftedTime(){const _0x2f6506=_0x4194f8,_0x4cfa98=new Date();let _0x54c18c=_0x4cfa98;if(config&&config[_0x2f6506(0x2d6)]!==0x0)_0x54c18c=fns[_0x2f6506(0x24f)](_0x4cfa98,{'hours':config[_0x2f6506(0x2d6)]});return _0x54c18c;}function timer(_0x325c74){const _0xc7d2b9=_0x4194f8,_0x13c7b0=new Date();!lasttime?console[_0xc7d2b9(0x22a)](getTimeStamp()+_0xc7d2b9(0x1f4),_0x325c74,_0x13c7b0):console[_0xc7d2b9(0x22a)](getTimeStamp()+':\x20timer\x20>',_0x325c74,(_0x13c7b0-lasttime)/0x3e8),lasttime=_0x13c7b0;}