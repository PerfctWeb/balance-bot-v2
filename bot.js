const _0xd20222=_0xbdf4;function _0x2927(){const _0x26a24c=['round','basecoin','watchTransactions','split','parseISO','customId','\x20orders\x20in\x20less\x20than\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','order','UNLOCKING','watchTrades','\x20|\x20Error\x20details:\x20','recreateCoinResults()','1\x20-\x20Handle\x20open\x20orders','\x20exchange','BNB','starting-balances','breakeven','Initiating\x20exchange\x20reload','Portfolio\x20change\x20detected:\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','1093414bIlqvq','apiPassword','push','highest','closed','includes','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','time','Error\x20while\x20deleting\x20files:\x20','add','running','pro','\x20closed\x20the\x20connection','startnumber','getMonth','toFixed','RequestTimeout','\x20portfolio:</b>\x20\x0a\x0a','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20order:\x20','yyyy-MM-dd\x27T\x27HH:mm:ss','limit-high','Error:\x20Invalid\x20argument\x20','-events.json','-performance.json','status','Net\x20effect','target','progress','2\x20-\x20Validate\x20orders:\x20','Pausing\x20for\x20','cooldown','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','openOrders','sells','distribution','timeout','recent20','unlinkSync','fee','cost','join','1\x20-\x20Validate\x20orders:\x20','indexOf','filter','2\x20-\x20Orders\x20unlocked','assign','loading-canceled','performance','USD','Unknown\x20error\x20occured','orderId','valid','deleteHistoryAlerts','cloneDeep','page','cancelLoading','limit','threshold','\x20API\x20secret\x20is\x20invalid','NANO/','headless','BTC','coin','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','liquidity','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','getCoins()','send','0\x20-\x20EXECUTION:\x20','\x20not\x20available','offset','Net\x20','2.5.0','exchanges','EUR','initial','simple','abs','<b>Bot\x20','amount','remainingSymbols','getDate','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','recreate','existsSync','startprice','bot-','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','lowdb','success','buy','Bot\x20','/backup/','delta','ask','\x20change','findIndex','sha256','none','parse','netoffset','.json','/USD','string','last','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','YOYOW/','\x20value','configuration-stored','ORDERS.UNLOCKING','sendMetricsTelegram','timestamp','387NhAOFc','portfolio','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','fetchOpenOrders','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','1\x20-\x20FILLED:\x20','lowdb/adapters/FileSync','2\x20-\x20FILLED\x20known\x20order:\x20','bb-secure.json','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','getOpenOrders()','no\x20open\x20orders','************','event-history','market',':\x20timer\x20>','warning','currency','random','test','change','USDT','added','exchange\x20not\x20reloaded','fromCodePoint','defaults','writeFile','2.3.5','Market','slice','Limit\x20(high-margin)','***','getFullYear','createOrder','average','remove','write','sendPortfolioTelegram','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','stringify','ORDERS.UNLOCKED','bid','2\x20-\x20FILLED\x20unknown\x20order:\x20','percentage','Limit\x20(low-margin)','coins','DDoSProtection','balancing\x20resumed','%\x20(','fetchTicker','BUSD','length','BNB/','API-key\x20format\x20invalid','sort',',\x20must\x20be\x20a\x203\x20digit\x20number','Reset\x20|\x20','cancel','starting-balance-','\x20>\x20','filled','Failed\x20to\x20load\x20coin\x20data\x20for\x20','ordertype','canceled','enabled','<pre>','Fee\x20discount\x20refund\x20detected:\x20','recovery','isEqual','map','HOT/BTC','open','secure','version','getTime','emitHistory','fetchBalance','fetchTickers','(((.+)+)+)+$','apiKey','storeConfiguration','\x20metrics:</b>\x20\x0a\x0a','realized','exec','configuration','trade','Binance','MIN_NOTIONAL','InvalidNonce','symbols','no\x20additional\x20symbols','ongoing','rightTxt','fiat','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','AuthenticationError','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','reverse','exchange\x20reloaded','8MmOaik','sell','logs','getPortfolio(2)','log','full','toUpperCase','./logs/','startdate','splice','datetime','get','date','usd','apiSecret','leftTxt','startsWith','orderstatus','loadMarkets','\x20:\x20','Invalid\x20API\x20key\x20or\x20secret\x20entered','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','Transaction\x20detection\x20unblocked','price','showname','additional\x20symbols\x20','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','botname','3506110NRSFBs','total','getSeconds','UNLOCKED','81640XOVbTH','Invalid\x20quantity','min','bot','change24h','entries','Resetting\x20bot\x20history','onepagemode','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','privateKey','/EUR','replace','Order(s)\x20not\x20validated\x20after\x20','resetHistory','ETH','decrypt','side','\x20|\x20highest:\x20','constructor','changes','find','timeshift','ticker','function','data','RSA-OAEP','value','OrderNotFound','debug','getStartingBalances','watchOrders','4662318cZdnlR','event',':\x20Bot\x20','-results.json','args','error','concat','final','Avoiding\x20continuous\x20order\x20attempts','limit-low','excluded','restart','ORDERS.LOCKED','DAI/','showConfig','\x20|\x20','forEach','cancelOrder','placeOrder()','InsufficientFunds','format','getHours','XEM/BUSD','sortBy','symbol','Unfilled\x20order(s)\x20canceled\x20after\x20','1\x20-\x20Unlock\x20orders','Crypt','2wAVgeQ','2.6.0','shift','type','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','hybrid-crypto-js','/output-000.log','argv','LOCKED','7284YGWMtH','toString','5179460xmAwZM','balancing\x20resumes\x20when\x20cooldown\x20ends','removed','has','limits','<b>','fetchClosedOrders','Exchange','net-basecoin','exchange','buys','storeHeadless','coin-loading-progress','2823543QtXUJU','getCoinNumber()','set','clientOrderId','./config/','apply','getPortfolio(1)','balances','number','emojisell','max','eur','keys','</pre>','getMinutes','emojibuy','mkdirSync','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','toLowerCase','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','padStart','path','No\x20more\x20open\x20orders\x20-\x20','message','yyyy/MM/dd','bots','toggleBotMode','settings','net-fiat','\x20>\x20[DEBUG]\x20','11yUGGUX','padEnd','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a'];_0x2927=function(){return _0x26a24c;};return _0x2927();}(function(_0x261470,_0x5da73d){const _0x5a0717=_0xbdf4,_0x34d7e0=_0x261470();while(!![]){try{const _0x2b4d7f=parseInt(_0x5a0717(0xa6))/0x1*(parseInt(_0x5a0717(0xe1))/0x2)+-parseInt(_0x5a0717(0x1a3))/0x3*(-parseInt(_0x5a0717(0xea))/0x4)+-parseInt(_0x5a0717(0xec))/0x5+parseInt(_0x5a0717(0xc5))/0x6+-parseInt(_0x5a0717(0x130))/0x7+-parseInt(_0x5a0717(0x206))/0x8*(-parseInt(_0x5a0717(0xf9))/0x9)+parseInt(_0x5a0717(0xa2))/0xa*(parseInt(_0x5a0717(0x117))/0xb);if(_0x2b4d7f===_0x5da73d)break;else _0x34d7e0['push'](_0x34d7e0['shift']());}catch(_0x2e00d0){_0x34d7e0['push'](_0x34d7e0['shift']());}}}(_0x2927,0x8a256));const _0xfd8eec=function(){let _0x360191=!![];return function(_0x1ab766,_0x545843){const _0x2f4e46=_0x360191?function(){const _0x2b70f4=_0xbdf4;if(_0x545843){const _0x576dec=_0x545843[_0x2b70f4(0xfe)](_0x1ab766,arguments);return _0x545843=null,_0x576dec;}}:function(){};return _0x360191=![],_0x2f4e46;};}(),_0x18615d=_0xfd8eec(this,function(){const _0x384427=_0xbdf4;return _0x18615d['toString']()['search'](_0x384427(0x1f1))['toString']()[_0x384427(0xb8)](_0x18615d)['search'](_0x384427(0x1f1));});_0x18615d();'use strict';const ccxt=require('ccxt')[_0xd20222(0x13b)],low=require(_0xd20222(0x18b)),FileSync=require(_0xd20222(0x1a9)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0xd20222(0xe6))[_0xd20222(0xe0)],util=require('util'),argv=require('yargs/yargs')(process[_0xd20222(0xe8)][_0xd20222(0x1c0)](0x2))[_0xd20222(0xe8)],path=require(_0xd20222(0x10e));let exchange;function _0xbdf4(_0x4b124a,_0x501000){const _0x437b28=_0x2927();return _0xbdf4=function(_0x18615d,_0xfd8eec){_0x18615d=_0x18615d-0x95;let _0x2927a9=_0x437b28[_0x18615d];return _0x2927a9;},_0xbdf4(_0x4b124a,_0x501000);}global[_0xd20222(0xbc)]={},global[_0xd20222(0x1b7)]={};const exceptions={'binance':[_0xd20222(0xd2),_0xd20222(0x1e9),_0xd20222(0xdb),_0xd20222(0x16d),_0xd20222(0x19d)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0xd20222(0xa5)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')[_0xd20222(0x1ec)],botID=process[_0xd20222(0xe8)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0xd20222(0x1b6)](botID)&&(console[_0xd20222(0x20a)](_0xd20222(0x147)+botID+_0xd20222(0x1da)),killBot());const userID=process[_0xd20222(0xe8)][0x3]||'',configpath=userID?_0xd20222(0xfd)+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0xd20222(0x20d),loggerfile=fs['createWriteStream'](logspath+_0xd20222(0xe7),{'flags':'a'});!fs[_0xd20222(0x186)](configpath)&&fs[_0xd20222(0x109)](configpath);!fs[_0xd20222(0x186)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0xd20222(0x188)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0xd20222(0x148),performancefile=configpath+_0xd20222(0x188)+botID+_0xd20222(0x149),coinresultsfile=configpath+_0xd20222(0x188)+botID+_0xd20222(0xc8),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0xd20222(0x1ab),configbackuppath=configpath+_0xd20222(0x18f),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xd20222(0x1bc)]({'logs':[],'version':serverversion})[_0xd20222(0x1c7)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xd20222(0x1bc)]({'data':[],'version':serverversion})[_0xd20222(0x1c7)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xd20222(0x1bc)]({'bot':[],'version':serverversion})[_0xd20222(0x1c7)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xd20222(0x1bc)]({'coins':[],'version':serverversion})[_0xd20222(0x1c7)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0xd20222(0x194),'rsaStandard':_0xd20222(0xbf)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x25a59a=>{const _0x2441f7=_0xd20222;console[_0x2441f7(0x20a)](_0x25a59a);},'simple':_0x2862af=>{const _0x2af79b=_0xd20222;console[_0x2af79b(0x20a)](_0x2862af),loggerfile[_0x2af79b(0x1c7)](util[_0x2af79b(0xd9)](_0x2862af)+'\x0a');},'full':async(_0x2082fa,_0x15a2cc='')=>{const _0x5d44cb=_0xd20222;let _0x3dcc9f;if(config[_0x5d44cb(0x9e)])_0x3dcc9f=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x2082fa;else _0x3dcc9f=getTimeStamp()+_0x5d44cb(0xc7)+botID+_0x5d44cb(0x1de)+_0x2082fa;console[_0x5d44cb(0x20a)](_0x3dcc9f),loggerfile[_0x5d44cb(0x1c7)](util[_0x5d44cb(0xd9)](_0x3dcc9f)+'\x0a'),_0x15a2cc&&(console[_0x5d44cb(0x20a)](_0x15a2cc),loggerfile[_0x5d44cb(0x1c7)](util[_0x5d44cb(0xd9)](_0x15a2cc)+'\x0a'));},'debug':async(_0x4e0bf9,_0x1b407d='')=>{const _0x388e2e=_0xd20222;let _0x3d31ea;if(config['showname'])_0x3d31ea=getTimeStamp()+':\x20'+config[_0x388e2e(0xa1)]+_0x388e2e(0x116)+_0x4e0bf9;else _0x3d31ea=getTimeStamp()+':\x20Bot\x20'+botID+_0x388e2e(0x116)+_0x4e0bf9;if(debugging)console[_0x388e2e(0x20a)](_0x3d31ea);loggerfile[_0x388e2e(0x1c7)](util[_0x388e2e(0xd9)](_0x3d31ea)+'\x0a');if(_0x1b407d){if(debugging)console['log'](_0x1b407d);loggerfile['write'](util[_0x388e2e(0xd9)](_0x1b407d)+'\x0a');}}};process['on']('uncaughtException',function(_0x546f8a){const _0x109f34=_0xd20222;logger[_0x109f34(0x17e)](_0x546f8a);});settings[_0xd20222(0xbb)]!=config[_0xd20222(0xbb)]&&updateTimeshift(settings[_0xd20222(0xbb)]);settings['onepagemode']!=config['onepagemode']&&updateOnepagemode(settings[_0xd20222(0xad)]);process[_0xd20222(0x175)]({'started':_0xd20222(0x13a)},_0x49da90=>{}),initializeProcessListeners();function proxyEmit(_0x42e6b1,_0x35dfdd=null){const _0x4da375=_0xd20222;process[_0x4da375(0x175)]({'function':_0x42e6b1,'args':_0x35dfdd},_0x402351=>{});}function initializeProcessListeners(){const _0x391463=_0xd20222;process['on'](_0x391463(0x110),_0x20bf9c=>{const _0x227a15=_0x391463;switch(Object[_0x227a15(0x105)](_0x20bf9c)[0x0]){case _0x227a15(0xbb):_0x20bf9c[_0x227a15(0xbb)]!=undefined&&(settings[_0x227a15(0xbb)]=_0x20bf9c[_0x227a15(0xbb)],updateTimeshift(settings[_0x227a15(0xbb)]));break;case'onepagemode':_0x20bf9c[_0x227a15(0xad)]!=undefined&&(settings['onepagemode']=_0x20bf9c[_0x227a15(0xad)],updateOnepagemode(settings[_0x227a15(0xad)]));break;case _0x227a15(0x112):_0x20bf9c[_0x227a15(0x112)]!=undefined&&(bots=JSON[_0x227a15(0x196)](_0x20bf9c[_0x227a15(0x112)]),proxyEmit(_0x227a15(0x112),bots));break;case _0x227a15(0xbd):switch(_0x20bf9c['function']){case'initclient':initclient();break;case _0x227a15(0x113):toggleBotMode();break;case _0x227a15(0x1ee):emitHistory(_0x20bf9c[_0x227a15(0xc9)]);break;case _0x227a15(0x166):deleteHistoryAlerts(_0x20bf9c[_0x227a15(0xc9)]);break;case'getPortfolio':getPortfolio(_0x20bf9c[_0x227a15(0xc9)]);break;case _0x227a15(0x1f3):storeConfiguration(_0x20bf9c['args']);break;case _0x227a15(0xf7):storeHeadless(_0x20bf9c[_0x227a15(0xc9)]);break;case'storeFiat':storeFiat(_0x20bf9c[_0x227a15(0xc9)]);break;case _0x227a15(0xb3):resetHistory();break;case _0x227a15(0xc3):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x20bf9c[_0x227a15(0xc9)]);break;case _0x227a15(0x169):cancelLoading();break;case _0x227a15(0xd3):showConfig();break;case _0x227a15(0x1a1):sendMetricsTelegram();break;case _0x227a15(0x1c8):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x36a6a2=null,_0x12d577=![]){const _0x29904f=_0xd20222;logger[_0x29904f(0xc2)](_0x29904f(0x1db)+(_0x36a6a2&&_0x36a6a2[_0x29904f(0x1d6)]>0x0?_0x29904f(0x9f)+_0x36a6a2[_0x29904f(0x15a)](','):_0x29904f(0x1fd))+_0x29904f(0xd4)+(_0x12d577?_0x29904f(0x205):_0x29904f(0x1ba)));if(pidBalances)clearTimeout(pidBalances);if(!_0x12d577)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x29904f(0x1f2)]!=''&&config[_0x29904f(0x1f2)]!=_0x29904f(0x1c2)){if(_0x12d577){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x6192ef){handleErrorNoStop(_0x6192ef,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x36a6a2);const _0x37134c=await getCoins();[currentCoins,currentCoinsAll]=_0x37134c,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x29904f(0x1d6)]==0x0&&allOpenOrders[_0x29904f(0x1d6)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x346b26=_0xd20222;logger['debug'](_0x346b26(0x12d));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x346b26(0xc2)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x2a52e2=config[_0xd20222(0xf5)],_0x14be8a=config['apiKey'],_0x30d282=config['apiSecret'],_0x4ef28c=config['apiPassword']){const _0x20d57d=_0xd20222;exchange&&await stopExchange();!supportedExchanges()[_0x20d57d(0x135)](_0x2a52e2)&&(logHistory(_0x20d57d(0xca),_0x20d57d(0x10c)+_0x2a52e2+_0x20d57d(0x129)),killBot());const _0x560e19=ccxt[_0x2a52e2['toLowerCase']()];exchange=new _0x560e19({'apiKey':_0x14be8a,'secret':_0x30d282,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x4ef28c)exchange['password']=_0x4ef28c;}function setStableCoins(){const _0x87f7e5=_0xd20222;let _0xab3c63=config[_0x87f7e5(0x11c)]=='ETH'?_0x87f7e5(0xb4):_0x87f7e5(0x16f),_0x325074=!allSymbols['includes'](_0xab3c63+_0x87f7e5(0x199))?'USDT':_0x87f7e5(0x162),_0x3158c9=!allSymbols[_0x87f7e5(0x135)](_0xab3c63+_0x87f7e5(0xb0))?_0x325074:_0x87f7e5(0x17c);stablecoins={'eur':{'coin':''+_0xab3c63+_0x3158c9,'symbol':_0xab3c63+'/'+_0x3158c9},'usd':{'coin':''+_0xab3c63+_0x325074,'symbol':_0xab3c63+'/'+_0x325074}};}async function initwsCcxt(_0x125c11){const _0x5947bd=_0xd20222;_0x125c11==null&&(_0x125c11=[],config['portfolio'][_0x5947bd(0xd5)](_0x1976ba=>{const _0xac2667=_0x5947bd;if(!_0x1976ba['excluded']&&_0x1976ba[_0xac2667(0x170)]!=config[_0xac2667(0x11c)])_0x125c11[_0xac2667(0x132)](_0x1976ba[_0xac2667(0xdd)]);}));if(!_0x125c11[_0x5947bd(0x135)](stablecoins[_0x5947bd(0x104)][_0x5947bd(0xdd)]))_0x125c11[_0x5947bd(0x132)](stablecoins[_0x5947bd(0x104)][_0x5947bd(0xdd)]);if(!_0x125c11[_0x5947bd(0x135)](stablecoins['usd'][_0x5947bd(0xdd)]))_0x125c11['push'](stablecoins[_0x5947bd(0x213)][_0x5947bd(0xdd)]);if(config['exchange'][_0x5947bd(0x96)](_0x5947bd(0x1f9))){if(!_0x125c11[_0x5947bd(0x135)](_0x5947bd(0x1d7)+config[_0x5947bd(0x11c)]))_0x125c11['push']('BNB/'+config[_0x5947bd(0x11c)]);}loadCoins(_0x125c11);const _0x5724da=async _0x547693=>{const _0x2e8ee4=_0x5947bd,_0x339931=await exchange[_0x2e8ee4(0x1d4)](_0x547693);global['ticker'][noslash(_0x339931[_0x2e8ee4(0xdd)])]=_0x339931[_0x2e8ee4(0x19b)];while(!![]){if(!botPaused)try{const _0x87bf05=await exchange[_0x2e8ee4(0x125)](_0x547693);global[_0x2e8ee4(0xbc)][noslash(_0x87bf05[0x0][_0x2e8ee4(0xdd)])]=_0x87bf05[0x0][_0x2e8ee4(0x9d)],await sleep(0x3e8);}catch(_0x58bd32){if(!exchangeStopped)await handleError(_0x58bd32,_0x2e8ee4(0x125),_0x547693);}else await sleep(0x64);}},_0x2fbefc=async _0x3461a5=>{const _0x4efe26=_0x5947bd;while(!![]){if(!botPaused)try{const _0xabc362=await exchange[_0x4efe26(0x1d4)](_0x3461a5);global[_0x4efe26(0x1b7)][_0xabc362[_0x4efe26(0xdd)]]=_0xabc362[_0x4efe26(0x1ce)],await sleep(0x3c*0x3e8);}catch(_0x449df9){if(!exchangeStopped)await handleError(_0x449df9,'fetchTickers',_0x3461a5);}else await sleep(0x64);}},_0x557a4b=async()=>{const _0x6a421f=_0x5947bd;while(!![]){if(!botPaused)try{const _0x2050fd=await exchange[_0x6a421f(0xc4)]();_0x2050fd['forEach'](_0x203f21=>{updateNumberCoinsCcxt(_0x203f21);});}catch(_0x1a03f5){if(!exchangeStopped)await handleError(_0x1a03f5,_0x6a421f(0xc4));}else await sleep(0x64);}};_0x125c11[_0x5947bd(0xd5)](async _0x4aa87d=>{_0x5724da(_0x4aa87d),_0x2fbefc(_0x4aa87d);}),!wsEventsSet&&(wsEventsSet=!![],_0x557a4b(),watchTransactions());}async function watchTransactions(){const _0x28c652=_0xd20222;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x76f3ab=await getCoins(),[_0x175cd1,_0x155063]=_0x76f3ab;let _0xcf5a59=[];currentCoins[_0x28c652(0xd5)](_0x1e6633=>{const _0x126720=_0x28c652,_0x1e454e=_0x175cd1['find'](_0x4cefb9=>_0x4cefb9['coin']==_0x1e6633['coin']);_0x1e454e&&(_0x1e6633[_0x126720(0x101)]!=_0x1e454e['number']&&_0xcf5a59['push']({'coin':_0x1e6633[_0x126720(0x170)],'symbol':_0x1e6633[_0x126720(0xdd)],'number':Number(formatResult(_0x1e454e[_0x126720(0x101)]-_0x1e6633[_0x126720(0x101)],0x8))}));});if(_0xcf5a59[_0x28c652(0x1d6)]==0x1&&!blockTransactionDetection){logger[_0x28c652(0xc2)]('Fees\x20|\x20currency:\x20'+lastFees[_0x28c652(0x1b4)]+_0x28c652(0xb7)+lastFees[_0x28c652(0x133)]);if(!lastFees[_0x28c652(0x1b4)]||_0xcf5a59[0x0][_0x28c652(0x170)]!=lastFees['currency']||_0xcf5a59[0x0]['number']>lastFees[_0x28c652(0x133)]){let _0x4d3bb9;if(_0xcf5a59[0x0][_0x28c652(0x170)]!=config[_0x28c652(0x11c)]){let _0x2f1c97=global[_0x28c652(0xbc)][noslash(_0xcf5a59[0x0][_0x28c652(0xdd)])];_0x4d3bb9=_0xcf5a59[0x0][_0x28c652(0x204)]?0x1/_0x2f1c97:_0x2f1c97;}else _0x4d3bb9=0x1;_0xcf5a59[0x0][_0x28c652(0x9d)]=_0x4d3bb9,delete _0xcf5a59[0x0][_0x28c652(0xdd)];let _0x4f68ee=[],_0x5cff2f=[...config[_0x28c652(0x172)]]||[],_0x26d164=config[_0x28c652(0x172)];_0x5cff2f[_0x28c652(0x1d9)]((_0x1432d5,_0x1af789)=>_0x1432d5['date']>_0x1af789[_0x28c652(0x212)]?-0x1:_0x1af789[_0x28c652(0x212)]>_0x1432d5[_0x28c652(0x212)]?0x1:0x0);const _0x37877e=getDate();if(_0x5cff2f[0x0]){const _0x2ee098=fns[_0x28c652(0x196)](_0x5cff2f[0x0][_0x28c652(0x212)],_0x28c652(0x111),new Date()),_0x5b4db9=fns[_0x28c652(0x196)](_0x37877e,'yyyy/MM/dd',new Date());if(fns[_0x28c652(0x1e7)](_0x2ee098,_0x5b4db9)){_0x4f68ee=_0x5cff2f[0x0][_0x28c652(0xb9)];const _0x21e627=_0x4f68ee[_0x28c652(0xba)](_0x4fddec=>_0x4fddec[_0x28c652(0x170)]==_0xcf5a59[0x0][_0x28c652(0x170)]);_0x21e627?(_0x21e627[_0x28c652(0x101)]+=_0xcf5a59[0x0][_0x28c652(0x101)],_0x21e627['number']==0x0&&(_0x4f68ee=_0x4f68ee[_0x28c652(0x15d)](_0x4e93bd=>{const _0x36a023=_0x28c652;return _0x4e93bd[_0x36a023(0x170)]!=_0xcf5a59[0x0][_0x36a023(0x170)];}))):_0x4f68ee[_0x28c652(0x132)](_0xcf5a59[0x0]);const _0x387af8=_0x26d164[_0x28c652(0xba)](_0x3be53f=>_0x3be53f[_0x28c652(0x212)]==_0x37877e);_0x387af8[_0x28c652(0xb9)]=_0x4f68ee;}else _0x26d164['push']({'date':_0x37877e,'changes':[_0xcf5a59[0x0]]});}const _0xac9eaf=_0x26d164[_0x28c652(0xba)](_0x4b2461=>_0x4b2461[_0x28c652(0x212)]==_0x37877e);if(_0xac9eaf){let _0x2fee63=!![];_0xac9eaf[_0x28c652(0xb9)][_0x28c652(0xd5)](_0x269512=>{const _0x2a3290=_0x28c652;if(_0x269512[_0x2a3290(0x101)]!=0x0)_0x2fee63=![];}),_0x2fee63&&(_0x26d164=_0x26d164[_0x28c652(0x15d)](_0x4391fc=>{const _0x272859=_0x28c652;return _0x4391fc[_0x272859(0x212)]!=_0x37877e;}));}let _0x519559=dbConfig[_0x28c652(0x211)]('bot')[_0x28c652(0xba)]({'botID':botID})[_0x28c652(0xc0)]();_0x519559&&(dbConfig[_0x28c652(0x211)](_0x28c652(0xa9))['find']({'botID':botID})[_0x28c652(0x15f)]({'liquidity':_0x26d164})['write'](),config[_0x28c652(0x172)]=_0x26d164),logHistory(_0x28c652(0x18c),_0x28c652(0x12e)+Math[_0x28c652(0x17f)](_0xcf5a59[0x0][_0x28c652(0x101)])+'\x20'+_0xcf5a59[0x0][_0x28c652(0x170)]+'\x20'+(_0xcf5a59[0x0][_0x28c652(0x101)]>0x0?_0x28c652(0x1b9):_0x28c652(0xee))+_0x28c652(0x143)),proxyEmit(_0x28c652(0x1f7),emittedConfiguration());}else logger[_0x28c652(0xc2)](_0x28c652(0x1e5)+Math[_0x28c652(0x17f)](_0xcf5a59[0x0][_0x28c652(0x101)])+'\x20'+_0xcf5a59[0x0][_0x28c652(0x170)]+'\x20'+(_0xcf5a59[0x0][_0x28c652(0x101)]>0x0?_0x28c652(0x1b9):_0x28c652(0xee)));transactionDetected=!![],currentCoins=_0x175cd1,currentCoinsAll=_0x155063;}await sleep(watchTransactionsInterval);}catch(_0x3ef485){if(!exchangeStopped)await handleError(_0x3ef485,_0x28c652(0x11d));}else await sleep(0x64);}}async function loadSymbols(_0x4c7e5f=config[_0xd20222(0xf5)],_0x12ffb8=![]){const _0x526fe2=_0xd20222;if(allSymbols&&!_0x12ffb8)return;try{markets=await exchange[_0x526fe2(0x98)](),allSymbols=exchange[_0x526fe2(0x1fc)][_0x526fe2(0x15d)](_0x299069=>{const _0x50ac1d=_0x526fe2;let _0x25de6b=![];const _0x4cd20d=exceptions[_0x4c7e5f['toLowerCase']()]||[];return _0x4cd20d[_0x50ac1d(0xd5)](_0x57c180=>{const _0x44c840=_0x50ac1d;if(_0x299069[_0x44c840(0x135)](_0x57c180))_0x25de6b=!![];}),!_0x25de6b;});}catch(_0x164a6f){throw _0x164a6f;}}async function initclient(){const _0x1b4a66=_0xd20222;emitLoadingProgress(),proxyEmit(_0x1b4a66(0x1f7),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1b4a66(0x100),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4ae579=getNormalizedPerformance();emitPerformance(_0x4ae579),getStartingBalances(_0x4ae579);}async function toggleBotMode(){const _0x21e539=_0xd20222;let _0x4aabb5=dbConfig[_0x21e539(0x211)](_0x21e539(0xa9))[_0x21e539(0xba)]({'botID':botID})['value']();if(_0x4aabb5){const _0x26a037=!_0x4aabb5[_0x21e539(0x16e)];dbConfig[_0x21e539(0x211)]('bot')[_0x21e539(0xba)]({'botID':botID})[_0x21e539(0x15f)]({'headless':_0x26a037})[_0x21e539(0x1c7)](),config[_0x21e539(0x16e)]=_0x26a037,proxyEmit(_0x21e539(0x1f7),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x9a96b7=_0xd20222;process[_0x9a96b7(0x175)]({'updatebotmanager':!![]},_0x1ffe87=>{});}async function loadCoins(_0x111331){const _0x4a98a3=_0xd20222;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x5a94de,_0x84b9e4=0x0,_0x1d4ed6=0x0;_0x111331[_0x4a98a3(0xd5)](_0x5213cf=>{const _0x949fc2=_0x4a98a3;loading[_0x949fc2(0x182)][_0x949fc2(0x132)](_0x5213cf);}),loadingCanceled=![];let _0x3ff686=![];while(_0x5a94de!=_0x111331[_0x4a98a3(0x1d6)]){_0x5a94de=0x0,_0x111331[_0x4a98a3(0xd5)](_0x3cceed=>{const _0x42b890=_0x4a98a3;if(global['ticker'][noslash(_0x3cceed)]){loading[_0x42b890(0x182)]=loading[_0x42b890(0x182)][_0x42b890(0x15d)](_0x3f57f3=>_0x3f57f3!=_0x3cceed);if(!watchedSymbols[_0x42b890(0x135)](_0x3cceed))watchedSymbols[_0x42b890(0x132)](_0x3cceed);_0x5a94de++;}}),loading['progress']=Math[_0x4a98a3(0x11b)](_0x5a94de/_0x111331[_0x4a98a3(0x1d6)]*0x64);loading[_0x4a98a3(0x14d)]!=0x64&&(_0x1d4ed6>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x1d4ed6>0x78*0x5&&!_0x3ff686&&(loading[_0x4a98a3(0x1dc)]=!![],emitLoadingProgress(),_0x3ff686=!![],logHistory('error',_0x4a98a3(0x1e0)+loading[_0x4a98a3(0x182)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x4a98a3(0xca),_0x4a98a3(0x14f)+loadCoinsRetryInterval/0xea60+_0x4a98a3(0x1c9)),pidCoinReloading=setTimeout(()=>{const _0xdfb28b=_0x4a98a3;process[_0xdfb28b(0x175)]({'stop':_0xdfb28b(0xd0)},_0xff8978=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x5a94de!=_0x84b9e4&&(_0x84b9e4=_0x5a94de,emitLoadingProgress()),_0x1d4ed6++,await sleep(0xc8);}_0x5a94de==_0x111331[_0x4a98a3(0x1d6)]&&(coinsLoaded=!![],process['send']({'status':_0x4a98a3(0x1e3),'live':_0x4a98a3(0x13a)},_0x329e83=>{}),_0x3ff686&&logHistory('success',_0x4a98a3(0x1a7)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0xf0c2ff=_0xd20222;proxyEmit(_0xf0c2ff(0x1f7),{...emittedConfiguration(),'configstate':_0xf0c2ff(0x160)});}function emitLoadingProgress(){const _0x5ba4ca=_0xd20222;proxyEmit(_0x5ba4ca(0xf8),loading);}async function getFiat(){const _0x484a49=_0xd20222;let _0x4cdf68=global[_0x484a49(0xbc)][stablecoins[_0x484a49(0x104)][_0x484a49(0x170)]],_0x3b6cbe=global[_0x484a49(0xbc)][stablecoins[_0x484a49(0x213)][_0x484a49(0x170)]];return{'eur':Number(_0x4cdf68),'usd':Number(_0x3b6cbe)};}function capitalize(_0x156782){const _0x3b08ab=_0xd20222;return _0x156782['substring'](0x0,0x1)[_0x3b08ab(0x20c)]()+_0x156782['substring'](0x1);}function supportedExchanges(){const _0x57aa2c=_0xd20222,_0x2a7aac=['ws',_0x57aa2c(0x1f0),'fetchTicker',_0x57aa2c(0x125),'watchOrders','cancelOrder','createOrder','fetchOpenOrders',_0x57aa2c(0xf2),_0x57aa2c(0x1ef)];let _0x46e006=[],_0x302d79=[],_0x263342=ccxt[_0x57aa2c(0x17b)];_0x263342[_0x57aa2c(0xd5)](_0x3a5c17=>{const _0x2745b7=_0x57aa2c;try{const _0x440b7f=new ccxt[_0x3a5c17]();if(_0x440b7f['has']['ws'])_0x302d79[_0x2745b7(0x132)](_0x440b7f);}catch(_0x8e1437){}}),_0x302d79[_0x57aa2c(0xd5)](_0x26ad04=>{const _0x49308a=_0x57aa2c;let _0x3b2164=0x0;_0x2a7aac[_0x49308a(0xd5)](_0xc16db0=>{const _0x4b5e53=_0x49308a;_0xc16db0 in _0x26ad04[_0x4b5e53(0xef)]&&_0x26ad04[_0x4b5e53(0xef)][_0xc16db0]&&_0x3b2164++;}),_0x3b2164==_0x2a7aac[_0x49308a(0x1d6)]&&_0x46e006[_0x49308a(0x132)](capitalize(_0x26ad04['id']));});let _0x194383=[];return _0x263342[_0x57aa2c(0xd5)](_0x19ecec=>{const _0x232274=_0x57aa2c;_0x19ecec=capitalize(_0x19ecec);if(!_0x46e006[_0x232274(0x135)](_0x19ecec))_0x194383[_0x232274(0x132)](_0x19ecec);}),_0x46e006;}function setStartDatePerformance(){const _0x2328e4=_0xd20222;if(config&&config[_0x2328e4(0x172)][0x0]['changes']['length']!=0x0){const _0x38c990=config['liquidity'][0x0]['changes'];dbPerformance['get']('data')[_0x2328e4(0xba)]({'date':config[_0x2328e4(0x20e)]})[_0x2328e4(0x15f)]({'coins':_0x38c990})[_0x2328e4(0x1c7)]();}}async function recreateCoinResults(){const _0x370c12=_0xd20222;let _0x3ba57d,_0x42f10a=[];try{const _0x4e0371=fns[_0x370c12(0xd9)](fns[_0x370c12(0x11f)](config[_0x370c12(0x20e)][_0x370c12(0xb1)](/\//g,'-')),_0x370c12(0x145));for(const _0x5a5aee of currentCoins){if(_0x5a5aee[_0x370c12(0x170)]!=config[_0x370c12(0x11c)]){let _0x5603bc=0x0,_0x45c07c,_0x2efbae;_0x3ba57d=await getAllEventOrders(_0x5a5aee['symbol']);if(_0x3ba57d['length']>0x0)_0x3ba57d[_0x370c12(0xd5)](_0x430051=>{const _0x301917=_0x370c12,_0x41fcf2=_0x5a5aee['symbol'][_0x301917(0x135)](config[_0x301917(0x11c)]+'/');_0x42f10a['push']({'datetime':_0x430051[_0x301917(0x210)],'coin':_0x5a5aee[_0x301917(0x170)],'symbol':_0x5a5aee['symbol'],'side':_0x430051[_0x301917(0xb6)],'reverse':_0x41fcf2,'amount':formatResult(_0x430051[_0x301917(0x1df)],0x8),'filled':formatResult(_0x430051[_0x301917(0x1df)],0x8),'price':formatResult(_0x430051[_0x301917(0x9d)],0x8)}),_0x5603bc=_0x430051['side']==_0x301917(0x18d)?_0x5603bc+_0x430051[_0x301917(0x1df)]:_0x5603bc-_0x430051[_0x301917(0x1df)];if(!_0x2efbae)_0x2efbae=_0x430051[_0x301917(0x9d)];});_0x45c07c=_0x5a5aee['number']-_0x5603bc;let _0x3662d7;config[_0x370c12(0x172)]['forEach'](_0x35bad6=>{const _0xee0469=_0x370c12;!_0x3662d7&&(_0x3662d7=_0x35bad6[_0xee0469(0xb9)][_0xee0469(0xba)](_0x27bdfc=>_0x27bdfc['coin']==_0x5a5aee[_0xee0469(0x170)]),_0x3662d7&&(_0x45c07c=_0x3662d7[_0xee0469(0x101)],_0x2efbae=_0x3662d7[_0xee0469(0x9d)]));});let _0xbfe170=dbCoinResults[_0x370c12(0x211)](_0x370c12(0x1d0))[_0x370c12(0xba)]({'coin':_0x5a5aee[_0x370c12(0x170)]})[_0x370c12(0xc0)]();_0xbfe170={'coin':_0x5a5aee[_0x370c12(0x170)],'number':_0x45c07c,'breakeven':_0x2efbae,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x370c12(0x1d0))[_0x370c12(0xba)]({'coin':_0x5a5aee[_0x370c12(0x170)]})[_0x370c12(0x15f)](_0xbfe170)[_0x370c12(0x1c7)]();}}_0x42f10a[_0x370c12(0x1d9)]((_0xfc1a21,_0x895554)=>_0xfc1a21[_0x370c12(0x210)]>_0x895554[_0x370c12(0x210)]?0x1:_0x895554[_0x370c12(0x210)]>_0xfc1a21['datetime']?-0x1:0x0);let _0x36043a=0x0;for(let _0x4361f3 of _0x42f10a){await updateCoinResults(_0x4361f3,!![]);}}catch(_0x5b1ab6){await handleError(_0x5b1ab6,_0x370c12(0x127));}}async function getAllEventOrders(_0x3ab415){const _0x495ce1=_0xd20222;let _0x4ca8eb=[],_0x1929a2=dbLogs['get'](_0x495ce1(0x208))[_0x495ce1(0x15d)](_0xe06e95=>{const _0x43e667=_0x495ce1,_0x1b0c3d=_0xe06e95[_0x43e667(0xc6)][_0x43e667(0x10b)]();return _0x1b0c3d[_0x43e667(0x135)](_0x3ab415[_0x43e667(0x10b)]())&&(_0x1b0c3d[_0x43e667(0x135)](_0x43e667(0x1b1))&&_0x1b0c3d[_0x43e667(0x135)](_0x43e667(0x123))||_0x1b0c3d[_0x43e667(0x135)](_0x43e667(0x1df))&&_0x1b0c3d[_0x43e667(0x135)]('order'));})[_0x495ce1(0xdc)]('time')[_0x495ce1(0xc0)]();return _0x1929a2['forEach'](_0x28216d=>{const _0x5825b1=_0x495ce1,_0x56f93d=_0x28216d[_0x5825b1(0xc6)][_0x5825b1(0x135)](_0x5825b1(0x207))?'sell':_0x5825b1(0x18d),_0x5af925=/#([0-9]|\.)+\s/i,_0x177651=Number(_0x5af925['exec'](_0x28216d['event'])[0x0][_0x5825b1(0x1c0)](0x1)),_0x2b23a5=/@([0-9]|\.)+$/i,_0xbb9a13=Number(_0x2b23a5[_0x5825b1(0x1f6)](_0x28216d[_0x5825b1(0xc6)])[0x0][_0x5825b1(0x1c0)](0x1));_0x4ca8eb[_0x5825b1(0x132)]({'datetime':_0x28216d['time'],'coin':symbolToCoin(_0x3ab415),'symbol':_0x3ab415,'side':_0x56f93d,'amount':_0x177651,'filled':_0x177651,'price':_0xbb9a13});}),_0x4ca8eb;}async function getAllOrders(_0x2c8a14,_0x1d3970){const _0x22dc25=_0xd20222;let _0x31c36a=[];while(_0x1d3970<exchange['milliseconds']()){const _0x151eb7=0x1f4,_0x14425e=await exchange[_0x22dc25(0xf2)](_0x2c8a14,_0x1d3970,_0x151eb7);if(_0x14425e[_0x22dc25(0x1d6)])_0x1d3970=_0x14425e[_0x14425e[_0x22dc25(0x1d6)]-0x1][_0x22dc25(0x1a2)]+0x1,_0x31c36a=_0x31c36a[_0x22dc25(0xcb)](_0x14425e);else break;}return _0x31c36a;}async function validate24hChanges(){const _0x36fcd1=_0xd20222;for(const _0x170e6d of currentCoins){if(_0x170e6d[_0x36fcd1(0x170)]!=config[_0x36fcd1(0x11c)]){let _0x232dde;_0x170e6d[_0x36fcd1(0x204)]?_0x232dde=formatResult((0x1/(global[_0x36fcd1(0x1b7)][noslash(_0x170e6d[_0x36fcd1(0xdd)])]/0x64+0x1)-0x1)*0x64,0x3):_0x232dde=global['change'][noslash(_0x170e6d[_0x36fcd1(0xdd)])],_0x232dde<config['change24h']&&(logHistory(_0x36fcd1(0xca),_0x170e6d[_0x36fcd1(0x170)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x232dde+'%'),logHistory(_0x36fcd1(0xca),_0x36fcd1(0xa0)),logHistory(_0x36fcd1(0xca),_0x36fcd1(0x19c)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x1758c4,_0x572d4c){const _0x1012fa=_0xd20222;if(!_0x1758c4)return!![];const _0x3932c2=_0x572d4c['split']('.'),_0x53f08d=_0x1758c4[_0x1012fa(0x11e)]('.');for(var _0x2f87de=0x0;_0x2f87de<_0x53f08d[_0x1012fa(0x1d6)];_0x2f87de++){const _0x2954fc=~~_0x53f08d[_0x2f87de],_0x1a2bf9=~~_0x3932c2[_0x2f87de];if(_0x2954fc<_0x1a2bf9)return!![];if(_0x2954fc>_0x1a2bf9)return![];}return![];}async function oneTimeMigration(){const _0x5dae3b=_0xd20222;let _0x480b59=dbLogs[_0x5dae3b(0x211)](_0x5dae3b(0x1ec))[_0x5dae3b(0xc0)]();if(isOlderVersion(_0x480b59,_0x5dae3b(0x1be))){let _0x49a9f1=[];const _0x569230=dbLogs[_0x5dae3b(0x211)](_0x5dae3b(0x208))[_0x5dae3b(0xc0)]();_0x569230[_0x5dae3b(0xd5)](_0x44a09e=>{const _0x58fc72=_0x5dae3b;_0x49a9f1[_0x58fc72(0x132)]({'time':_0x44a09e[_0x58fc72(0x137)],'type':_0x44a09e['type'],'event':_0x44a09e[_0x58fc72(0xc6)]});}),dbLogs[_0x5dae3b(0x211)](_0x5dae3b(0x208))[_0x5dae3b(0x15f)](_0x49a9f1)[_0x5dae3b(0x1c7)]();}let _0x35e370=dbConfig[_0x5dae3b(0x211)](_0x5dae3b(0x1ec))[_0x5dae3b(0xc0)]();if(isOlderVersion(_0x35e370,_0x5dae3b(0x1be))){let _0x2af2f8=dbConfig[_0x5dae3b(0x211)](_0x5dae3b(0xa9))['find']({'botID':botID})[_0x5dae3b(0xc0)]();if(_0x2af2f8){let _0x3b28a1=[];_0x2af2f8['portfolio'][_0x5dae3b(0xd5)](_0x4609c3=>{const _0x1f428b=_0x5dae3b;_0x3b28a1[_0x1f428b(0x132)]({'coin':_0x4609c3[_0x1f428b(0x170)],'number':_0x4609c3['startnumber'],'price':_0x4609c3['startprice']}),delete _0x4609c3[_0x1f428b(0x13d)],delete _0x4609c3[_0x1f428b(0x187)];});if(_0x3b28a1[_0x5dae3b(0x1d6)]!==0x0)fs[_0x5dae3b(0x1bd)](configbackuppath+(_0x5dae3b(0x1dd)+botID+_0x5dae3b(0x198)),JSON['stringify'](_0x3b28a1,null,0x4),function(_0x1bc0c4){if(_0x1bc0c4){}});const _0x5d68cd=(_0x115010,_0x6bc88d)=>{const _0x38835e=_0x5dae3b;let _0x429622=[];_0x6bc88d[_0x38835e(0xd5)](_0x4b46c8=>{const _0x4527a4=_0x38835e,_0x5ba067=_0x115010['find'](_0x7238c6=>_0x7238c6[_0x4527a4(0x170)]==_0x4b46c8[_0x4527a4(0x170)]);if(!_0x5ba067)_0x429622[_0x4527a4(0x132)](_0x4b46c8);});let _0x4abe05=[];return _0x115010[_0x38835e(0xd5)](_0x268299=>{const _0x3a5977=_0x38835e,_0x769738=_0x6bc88d[_0x3a5977(0xba)](_0xf63dfc=>_0xf63dfc[_0x3a5977(0x170)]==_0x268299[_0x3a5977(0x170)]);if(!_0x769738||_0x769738[_0x3a5977(0x101)]==0x0&&_0x268299[_0x3a5977(0x101)]!=0x0)_0x4abe05['push'](_0x268299);}),{'missingDay1':_0x429622,'notInDay2':_0x4abe05};},_0x155c4a=dbPerformance[_0x5dae3b(0x211)]('data')[_0x5dae3b(0x167)]()[_0x5dae3b(0xc0)]();if(_0x155c4a[_0x5dae3b(0x1d6)]>0x1){const {missingDay1:_0x85c757,notInDay2:_0x4ceea5}=_0x5d68cd(_0x3b28a1,_0x155c4a[0x1][_0x5dae3b(0x1d0)]);_0x3b28a1=[..._0x3b28a1,..._0x85c757],_0x4ceea5[_0x5dae3b(0xd5)](_0x787bd2=>{const _0x21a178=_0x5dae3b;let _0x493bcb=_0x3b28a1[_0x21a178(0x193)](_0x4bbb05=>_0x4bbb05[_0x21a178(0x170)]==_0x787bd2[_0x21a178(0x170)]);_0x493bcb!=-0x1&&_0x3b28a1['splice'](_0x493bcb,0x1);});}_0x3b28a1[_0x5dae3b(0x1d9)]((_0x43640e,_0x29307b)=>_0x43640e[_0x5dae3b(0x170)]>_0x29307b['coin']?0x1:_0x29307b[_0x5dae3b(0x170)]>_0x43640e[_0x5dae3b(0x170)]?-0x1:0x0);let _0x2d47a7=[{'date':_0x2af2f8['startdate'],'changes':_0x3b28a1}];_0x155c4a[_0x5dae3b(0x1d6)]>0x2&&_0x155c4a[_0x5dae3b(0xd5)]((_0x251b65,_0x1938e0)=>{const _0x2c1edf=_0x5dae3b;if(_0x1938e0>0x0&&_0x1938e0<_0x155c4a[_0x2c1edf(0x1d6)]-0x1){const {missingDay1:_0x5499df,notInDay2:_0x12dc59}=_0x5d68cd(_0x155c4a[_0x1938e0]['coins'],_0x155c4a[_0x1938e0+0x1][_0x2c1edf(0x1d0)]);_0x3b28a1=[],(_0x5499df[_0x2c1edf(0x1d6)]!=0x0||_0x12dc59[_0x2c1edf(0x1d6)]!=0x0)&&(_0x5499df[_0x2c1edf(0x1d6)]!=0x0&&_0x3b28a1[_0x2c1edf(0x132)](..._0x5499df),_0x12dc59[_0x2c1edf(0x1d6)]!=0x0&&(_0x12dc59[_0x2c1edf(0xd5)](_0x5ebc73=>{const _0x2bc7ac=_0x2c1edf;_0x5ebc73[_0x2bc7ac(0x101)]=-_0x5ebc73[_0x2bc7ac(0x101)];}),_0x3b28a1['push'](..._0x12dc59)),_0x3b28a1['sort']((_0x1f5635,_0x14c4bd)=>_0x1f5635[_0x2c1edf(0x170)]>_0x14c4bd[_0x2c1edf(0x170)]?0x1:_0x14c4bd[_0x2c1edf(0x170)]>_0x1f5635['coin']?-0x1:0x0),_0x2d47a7[_0x2c1edf(0x132)]({'date':_0x155c4a[_0x1938e0+0x1][_0x2c1edf(0x212)],'changes':_0x3b28a1}));}}),dbConfig[_0x5dae3b(0x211)]('bot')[_0x5dae3b(0xba)]({'botID':botID})['assign']({..._0x2af2f8,'liquidity':_0x2d47a7})[_0x5dae3b(0x1c7)]();}}if(isOlderVersion(_0x35e370,_0x5dae3b(0xe2))){let _0xb2d8e7=dbConfig['get'](_0x5dae3b(0xa9))[_0x5dae3b(0xba)]({'botID':botID})[_0x5dae3b(0xc0)]();if(_0xb2d8e7){const _0x4d4be6=_0xb2d8e7[_0x5dae3b(0xf5)],_0x3fdc36=_0x4d4be6?capitalize(_0x4d4be6):_0x5dae3b(0x1f9);dbConfig[_0x5dae3b(0x211)]('bot')[_0x5dae3b(0xba)]({'botID':botID})[_0x5dae3b(0x15f)]({'exchange':_0x3fdc36})[_0x5dae3b(0x1c7)]();}}let _0x28fd6d=dbPerformance[_0x5dae3b(0x211)](_0x5dae3b(0x1ec))['value']();isOlderVersion(_0x28fd6d,'2.3.5')&&setStartDatePerformance();let _0x34a4b6=dbCoinResults[_0x5dae3b(0x211)](_0x5dae3b(0x1ec))['value']();if(isOlderVersion(_0x34a4b6,_0x5dae3b(0x17a))){let _0x52cf0a=dbCoinResults[_0x5dae3b(0x211)](_0x5dae3b(0x1d0))[_0x5dae3b(0xc0)]();if(_0x52cf0a[_0x5dae3b(0x1d6)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x414c94=_0xd20222;dbConfig['set'](_0x414c94(0x1ec),serverversion)[_0x414c94(0x1c7)](),dbPerformance[_0x414c94(0xfb)](_0x414c94(0x1ec),serverversion)[_0x414c94(0x1c7)](),dbLogs[_0x414c94(0xfb)](_0x414c94(0x1ec),serverversion)['write'](),dbCoinResults[_0x414c94(0xfb)](_0x414c94(0x1ec),serverversion)[_0x414c94(0x1c7)]();}function getConfiguration(_0x19e7cb){const _0x480e78=_0xd20222;let _0x2e14ce=dbConfig['get'](_0x480e78(0xa9))['find']({'botID':_0x19e7cb})[_0x480e78(0xc0)]();if(_0x2e14ce){let _0x2aaf41=![];typeof _0x2e14ce[_0x480e78(0x16b)]==_0x480e78(0x19a)&&(_0x2e14ce={..._0x2e14ce,'threshold':Number(_0x2e14ce[_0x480e78(0x16b)])},_0x2aaf41=!![]),_0x2e14ce[_0x480e78(0xaa)]==null&&(_0x2e14ce={..._0x2e14ce,'change24h':-0x14},_0x2aaf41=!![]),!_0x2e14ce[_0x480e78(0x200)]&&(_0x2e14ce={..._0x2e14ce,'fiat':_0x480e78(0x162)},_0x2aaf41=!![]),!_0x2e14ce[_0x480e78(0xad)]&&(_0x2e14ce={..._0x2e14ce,'onepagemode':settings[_0x480e78(0xad)]},_0x2aaf41=!![]),_0x2aaf41&&(_0x2e14ce={'botID':_0x2e14ce['botID'],'exchange':_0x2e14ce['exchange'],'apiKey':_0x2e14ce['apiKey'],'apiSecret':_0x2e14ce[_0x480e78(0x214)],'apiPassword':_0x2e14ce[_0x480e78(0x131)],'basecoin':_0x2e14ce['basecoin'],'botname':_0x2e14ce[_0x480e78(0xa1)],'showname':_0x2e14ce[_0x480e78(0x9e)],'threshold':_0x2e14ce[_0x480e78(0x16b)],'ordertype':_0x2e14ce[_0x480e78(0x1e1)],'timeout':_0x2e14ce[_0x480e78(0x155)],'fiat':_0x2e14ce['fiat'],'startdate':_0x2e14ce['startdate'],'recreate':_0x2e14ce[_0x480e78(0x185)],'timeshift':_0x2e14ce[_0x480e78(0xbb)],'onepagemode':_0x2e14ce['onepagemode'],'headless':_0x2e14ce[_0x480e78(0x16e)],'cooldown':_0x2e14ce[_0x480e78(0x150)],'change24h':_0x2e14ce['change24h'],'emojibuy':_0x2e14ce[_0x480e78(0x108)],'emojisell':_0x2e14ce[_0x480e78(0x102)],'portfolio':_0x2e14ce[_0x480e78(0x1a4)],'liquidity':_0x2e14ce['liquidity'],'openOrders':_0x2e14ce[_0x480e78(0x152)]},dbConfig[_0x480e78(0x211)]('bot')[_0x480e78(0x1c6)]()[_0x480e78(0x1c7)](),dbConfig[_0x480e78(0x211)](_0x480e78(0xa9))[_0x480e78(0x132)](_0x2e14ce)[_0x480e78(0x1c7)]());}else _0x2e14ce={'botID':_0x19e7cb,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x480e78(0x18e)+_0x19e7cb,'showname':![],'threshold':0x3,'ordertype':_0x480e78(0x1b1),'timeout':0x14,'fiat':_0x480e78(0x162),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x480e78(0xbb)],'onepagemode':settings[_0x480e78(0xad)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2e14ce;}function emittedConfiguration(){const _0x52fa91=_0xd20222;let _0x308a61;if(config[_0x52fa91(0x1f2)]=='')_0x308a61={...config,'configstate':_0x52fa91(0x17d)};else config[_0x52fa91(0x1f2)]=='***'?_0x308a61={...config,'configstate':_0x52fa91(0x1e6)}:(_0x308a61={...config,'apiKey':_0x52fa91(0x1af),'apiSecret':'************'},config[_0x52fa91(0x131)]&&(_0x308a61['apiPassword']='************'));return _0x308a61;}function getSettings(){const _0x4c8698=_0xd20222;return dbSettings[_0x4c8698(0x211)](_0x4c8698(0x114))[_0x4c8698(0xc0)]();}function getSecure(){const _0xe736dd=_0xd20222;return dbSecure[_0xe736dd(0x211)](_0xe736dd(0x1eb))['value']()||{};}function updateTimeshift(_0x44dc5e){const _0x25921b=_0xd20222;let _0x2963b3=dbConfig['get']('bot')['find']({'botID':botID})[_0x25921b(0xc0)]();_0x2963b3&&dbConfig[_0x25921b(0x211)]('bot')[_0x25921b(0xba)]({'botID':botID})[_0x25921b(0x15f)]({'timeshift':_0x44dc5e})['write'](),config[_0x25921b(0xbb)]=_0x44dc5e,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x3e5c69){const _0x3d3d22=_0xd20222;let _0x377669=dbConfig[_0x3d3d22(0x211)](_0x3d3d22(0xa9))[_0x3d3d22(0xba)]({'botID':botID})[_0x3d3d22(0xc0)]();_0x377669&&dbConfig[_0x3d3d22(0x211)](_0x3d3d22(0xa9))['find']({'botID':botID})[_0x3d3d22(0x15f)]({'onepagemode':_0x3e5c69})[_0x3d3d22(0x1c7)](),config[_0x3d3d22(0xad)]=_0x3e5c69,proxyEmit(_0x3d3d22(0x1f7),emittedConfiguration());}async function storeConfiguration(_0x22fb9d){const _0x1c3d2d=_0xd20222;logger[_0x1c3d2d(0xc2)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x1c3d2d(0xc2)]('Transaction\x20detection\x20blocked');let _0x5a68f8=[],_0x4b331b=![],_0x59cfc1=[];_0x22fb9d[_0x1c3d2d(0x1a4)][_0x1c3d2d(0xd5)](_0x3b1a0b=>{const _0x44de5e=_0x1c3d2d;if(!_0x3b1a0b[_0x44de5e(0xcf)]&&_0x3b1a0b[_0x44de5e(0x170)]!=_0x22fb9d[_0x44de5e(0x11c)])_0x59cfc1['push'](_0x3b1a0b[_0x44de5e(0xdd)]);}),_0x59cfc1[_0x1c3d2d(0xd5)](_0x58b0b8=>{const _0x54ec49=_0x1c3d2d,_0x3cab91=watchedSymbols[_0x54ec49(0x135)](_0x58b0b8);!_0x3cab91&&_0x5a68f8[_0x54ec49(0x132)](_0x58b0b8);});_0x5a68f8['length']>0x0?_0x4b331b=!![]:currentCoins[_0x1c3d2d(0xd5)](_0x5a0d57=>{const _0x5cee42=_0x1c3d2d;if(_0x5a0d57['coin']!=config[_0x5cee42(0x11c)]){const _0x5b8dba=_0x59cfc1[_0x5cee42(0xba)](_0x4694fa=>_0x4694fa==_0x5a0d57[_0x5cee42(0xdd)]);!_0x5b8dba&&(_0x4b331b=!![]);}});let _0x174ce5=dbConfig['get'](_0x1c3d2d(0xa9))[_0x1c3d2d(0xba)]({'botID':botID})[_0x1c3d2d(0xc0)]();_0x22fb9d={..._0x22fb9d,'apiKey':crypt['decrypt'](secure['privateKey'],_0x22fb9d[_0x1c3d2d(0x1f2)])[_0x1c3d2d(0x110)],'apiSecret':crypt['decrypt'](secure[_0x1c3d2d(0xaf)],_0x22fb9d[_0x1c3d2d(0x214)])[_0x1c3d2d(0x110)]};_0x22fb9d[_0x1c3d2d(0x131)]&&(_0x22fb9d['apiPassword']=crypt[_0x1c3d2d(0xb5)](secure[_0x1c3d2d(0xaf)],_0x22fb9d[_0x1c3d2d(0x131)])[_0x1c3d2d(0x110)]);let _0x3ddd62=![];if(_0x174ce5){_0x22fb9d[_0x1c3d2d(0x1f2)]==_0x1c3d2d(0x1af)?_0x22fb9d[_0x1c3d2d(0x1f2)]=config[_0x1c3d2d(0x1f2)]:_0x3ddd62=!![];_0x22fb9d[_0x1c3d2d(0x214)]==_0x1c3d2d(0x1af)?_0x22fb9d['apiSecret']=config[_0x1c3d2d(0x214)]:_0x3ddd62=!![];if(_0x22fb9d[_0x1c3d2d(0x131)]==_0x1c3d2d(0x1af))_0x22fb9d['apiPassword']=config['apiPassword'];else{if(_0x22fb9d[_0x1c3d2d(0x131)])_0x3ddd62=!![];}dbConfig[_0x1c3d2d(0x211)]('bot')[_0x1c3d2d(0xba)]({'botID':botID})[_0x1c3d2d(0x15f)](_0x22fb9d)[_0x1c3d2d(0x1c7)]();}else dbConfig[_0x1c3d2d(0x211)]('bot')[_0x1c3d2d(0x132)](_0x22fb9d)[_0x1c3d2d(0x1c7)](),_0x3ddd62=!![],process[_0x1c3d2d(0x175)]({'status':'enabled','live':_0x1c3d2d(0x13a)},_0x32c59f=>{});process['send']({'botname':_0x22fb9d['botname']},_0x714b97=>{}),updateBotManager(),config={..._0x22fb9d},proxyEmit(_0x1c3d2d(0x19f)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3ddd62)await reset(_0x5a68f8,!![]);else _0x4b331b?await reset(_0x5a68f8,![]):getBalances();blockTransactionDetection=![],logger[_0x1c3d2d(0xc2)](_0x1c3d2d(0x9c));}async function storeHeadless(_0x59a2e5){const _0x568299=_0xd20222,_0x3de3c2={...config,'headless':_0x59a2e5[_0x568299(0x16e)]};let _0x57cb10=dbConfig[_0x568299(0x211)](_0x568299(0xa9))[_0x568299(0xba)]({'botID':botID})[_0x568299(0xc0)]();_0x57cb10&&dbConfig[_0x568299(0x211)](_0x568299(0xa9))[_0x568299(0xba)]({'botID':botID})[_0x568299(0x15f)](_0x3de3c2)[_0x568299(0x1c7)](),config={..._0x3de3c2},updateBotManager(),proxyEmit(_0x568299(0x1f7),emittedConfiguration());}async function storeFiat(_0x491c43){const _0x2906d6=_0xd20222,_0xc0226={...config,'fiat':_0x491c43};let _0x3012dc=dbConfig[_0x2906d6(0x211)](_0x2906d6(0xa9))[_0x2906d6(0xba)]({'botID':botID})[_0x2906d6(0xc0)]();_0x3012dc&&dbConfig[_0x2906d6(0x211)](_0x2906d6(0xa9))['find']({'botID':botID})[_0x2906d6(0x15f)](_0xc0226)[_0x2906d6(0x1c7)](),config={..._0xc0226},proxyEmit(_0x2906d6(0x1f7),emittedConfiguration());}function resetHistory(){const _0x129479=_0xd20222;logger[_0x129479(0x20b)](_0x129479(0xac));try{if(fs[_0x129479(0x186)](path[_0x129479(0x15a)](configpath,'bot-'+botID+_0x129479(0x148))))fs[_0x129479(0x157)](path[_0x129479(0x15a)](configpath,_0x129479(0x188)+botID+_0x129479(0x148)));if(fs['existsSync'](path[_0x129479(0x15a)](configpath,_0x129479(0x188)+botID+_0x129479(0x149))))fs[_0x129479(0x157)](path['join'](configpath,'bot-'+botID+_0x129479(0x149)));if(fs['existsSync'](path['join'](configpath,_0x129479(0x188)+botID+_0x129479(0xc8))))fs[_0x129479(0x157)](path[_0x129479(0x15a)](configpath,_0x129479(0x188)+botID+_0x129479(0xc8)));}catch(_0x4c5c6c){if(_0x4c5c6c)logger[_0x129479(0x20b)](_0x129479(0x138),_0x4c5c6c);}const _0x572380=getDate();let _0xaefc3c=[];currentCoins[_0x129479(0xd5)](_0xfc78e5=>{const _0x1e43f2=_0x129479;_0xaefc3c[_0x1e43f2(0x132)]({'coin':_0xfc78e5[_0x1e43f2(0x170)],'number':_0xfc78e5['number'],'price':_0xfc78e5[_0x1e43f2(0x19b)]});});let _0x3130d9=dbConfig['get']('bot')[_0x129479(0xba)]({'botID':botID})[_0x129479(0xc0)]();_0x3130d9&&(dbConfig['get']('bot')[_0x129479(0xba)]({'botID':botID})['assign']({'liquidity':[{'date':_0x572380,'changes':_0xaefc3c}]})[_0x129479(0x1c7)](),config['liquidity']=[]),process[_0x129479(0x175)]({'stop':_0x129479(0xd0)},_0x461ac1=>{});}function noslash(_0x59bc96){const _0x1c957c=_0xd20222;return _0x59bc96[_0x1c957c(0xb1)]('/','');}function updateHighestFee(_0x5cfd49,_0x3d75cd){const _0x1b9d67=_0xd20222;lastFees['currency']=_0x5cfd49,lastFees[_0x1b9d67(0x156)][_0x1b9d67(0x1d6)]===0x14&&lastFees[_0x1b9d67(0x156)]['shift'](),lastFees[_0x1b9d67(0x156)][_0x1b9d67(0x132)](_0x3d75cd),lastFees[_0x1b9d67(0x133)]=Math[_0x1b9d67(0x103)](...lastFees[_0x1b9d67(0x156)]);}async function updateNumberCoinsCcxt(_0x57b39e){const _0x2f5426=_0xd20222;logger[_0x2f5426(0xc2)](_0x2f5426(0x176)+_0x57b39e['symbol']+_0x2f5426(0xd4)+_0x57b39e[_0x2f5426(0x14a)]+_0x2f5426(0xd4)+_0x57b39e['id']+_0x2f5426(0xd4)+_0x57b39e['clientOrderId']);let _0x3e56ac=_0x57b39e[_0x2f5426(0x14a)],_0x278b93=![];currentCoins[_0x2f5426(0xd5)](_0x177874=>{const _0x1a2b1a=_0x2f5426;_0x177874[_0x1a2b1a(0xdd)]==_0x57b39e[_0x1a2b1a(0xdd)]&&(_0x278b93=!![]);});if(!_0x278b93)return;const _0x2201cd=currentCoins[_0x2f5426(0xba)](_0x358c15=>_0x358c15[_0x2f5426(0xdd)]==_0x57b39e['symbol']),_0x3ce024=_0xcc337d=>{const _0x18ea85=_0x2f5426;if(_0x2201cd)_0x2201cd[_0x18ea85(0x97)]=_0xcc337d;};if(_0x3e56ac==_0x2f5426(0x1ea))_0x3ce024(_0x2f5426(0x1ea));else{if(_0x3e56ac==_0x2f5426(0x1e2)){_0x3ce024('canceled');const _0x3398e9=await getCoins();[currentCoins,currentCoinsAll]=_0x3398e9,await getOpenOrders(),handleOpenOrders();}else{if(_0x3e56ac==_0x2f5426(0x134)){logger[_0x2f5426(0xc2)](_0x2f5426(0x1a8)+_0x57b39e[_0x2f5426(0xdd)]+_0x2f5426(0xd4)+_0x57b39e[_0x2f5426(0x1df)]+_0x2f5426(0xd4)+_0x57b39e['id']+'\x20|\x20'+_0x57b39e[_0x2f5426(0xfc)]);let _0x3379e5=![];if(lastOrders)lastOrders[_0x2f5426(0xd5)](async _0x12f42b=>{const _0x385cb8=_0x2f5426;if(_0x12f42b[_0x385cb8(0x120)]==_0x57b39e[_0x385cb8(0xfc)]){logger['debug'](_0x385cb8(0x1aa)+_0x57b39e['clientOrderId']),_0x3379e5=!![];if(_0x12f42b[_0x385cb8(0x1df)]==0x0){logger[_0x385cb8(0xc2)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x57b39e['clientOrderId']);_0x57b39e[_0x385cb8(0x1c5)]?_0x12f42b[_0x385cb8(0x9d)]=_0x57b39e['average']:_0x12f42b[_0x385cb8(0x9d)]=_0x57b39e[_0x385cb8(0x9d)];_0x12f42b[_0x385cb8(0x1df)]=_0x57b39e[_0x385cb8(0x1df)],_0x12f42b[_0x385cb8(0x158)]={'currency':_0x57b39e[_0x385cb8(0x158)]?_0x57b39e[_0x385cb8(0x158)][_0x385cb8(0x1b4)]:null,'cost':_0x57b39e[_0x385cb8(0x158)]?_0x57b39e[_0x385cb8(0x158)][_0x385cb8(0x159)]:0x0},updateHighestFee(_0x12f42b[_0x385cb8(0x158)][_0x385cb8(0x1b4)],_0x12f42b['fee']['cost']),_0x3ce024('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0xf840bd=await getCoins();[currentCoins,currentCoinsAll]=_0xf840bd;}await updateCoinResults(_0x12f42b);}}});if(!_0x3379e5){logger[_0x2f5426(0xc2)](_0x2f5426(0x1cd)+_0x57b39e['id']),_0x3ce024(_0x2f5426(0x1df));const _0x22186f=await getCoins();[currentCoins,currentCoinsAll]=_0x22186f,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x4b825e=JSON[_0x2f5426(0x196)](lastBalances['portfolio']);const _0x2558e7=_0x4b825e[_0x2f5426(0xba)](_0x56704f=>_0x56704f[_0x2f5426(0xdd)]==_0x57b39e[_0x2f5426(0xdd)]);if(_0x2558e7){if(_0x3e56ac=='open')_0x2558e7[_0x2f5426(0x97)]=_0x2558e7[_0x2f5426(0x97)]==_0x2f5426(0x1df)?'filled':'open';else{if(_0x3e56ac==_0x2f5426(0x1e2))_0x2558e7[_0x2f5426(0x97)]=_0x2558e7[_0x2f5426(0x97)]=='filled'?_0x2f5426(0x1df):_0x2f5426(0x1e2);else _0x3e56ac=='closed'&&(_0x2558e7[_0x2f5426(0x97)]=_0x2f5426(0x1df));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2f5426(0x1ca)](_0x4b825e)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x2d9c0e=_0xd20222;await getOpenOrders();let _0x3a16a5=![];currentCoins[_0x2d9c0e(0xd5)](_0x4be092=>{const _0x3b0da5=_0x2d9c0e;_0x3a16a5=allOpenOrders[_0x3b0da5(0xba)](_0x3ccce5=>_0x3ccce5[_0x3b0da5(0xdd)]==_0x4be092['symbol']),_0x4be092[_0x3b0da5(0x97)]=_0x3a16a5?'open':_0x3b0da5(0x195);});}async function getCoins(_0x4bf6f7=!![],_0x2bff63=config[_0xd20222(0x11c)]){const _0x5cfc64=_0xd20222;let _0x24fe48,_0x5b27aa=[],_0x2f6493=[],_0x3d5f39=[],_0xacbf6c=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x24fe48=await exchange['fetchBalance'](),mybalances=_0x24fe48['total'];for(const [_0x37d298,_0x29f7eb]of Object[_0x5cfc64(0xab)](mybalances)){_0xacbf6c['push'](_0x37d298);}if(_0x2bff63=='')for(const [_0xa32553,_0xa0cb29]of Object[_0x5cfc64(0xab)](mybalances)){_0xa0cb29[_0x5cfc64(0xeb)]()!=0x0&&_0x2f6493[_0x5cfc64(0x132)]({'coin':_0xa32553});}else{let _0x2e8bbe=![];for(const [_0x1cd8c5,_0x327185]of Object[_0x5cfc64(0xab)](mybalances)){if(_0xacbf6c['includes'](_0x1cd8c5)){const _0x43a819=config[_0x5cfc64(0x1a4)][_0x5cfc64(0xba)](_0xf1606f=>_0xf1606f[_0x5cfc64(0x170)]==_0x1cd8c5),_0x49e4ee=_0x1cd8c5+'/'+_0x2bff63,_0x386da6=_0x2bff63+'/'+_0x1cd8c5,_0x5759fd=currentCoins[_0x5cfc64(0xba)](_0x4fc23f=>_0x4fc23f[_0x5cfc64(0x170)]==_0x1cd8c5);_0x2e8bbe=![];if((_0x327185[_0x5cfc64(0xeb)]()!=0x0||_0x43a819)&&(allSymbols['includes'](_0x49e4ee)||_0x1cd8c5==_0x2bff63))_0x1cd8c5!=_0x2bff63&&_0x5b27aa[_0x5cfc64(0x132)](_0x49e4ee),_0x2f6493[_0x5cfc64(0x132)]({'coin':_0x1cd8c5,'symbol':_0x49e4ee,'reverse':![],'number':Math[_0x5cfc64(0x103)](_0x327185+(_0x43a819&&_0x43a819[_0x5cfc64(0x178)]||0x0),0x0),'orderstatus':_0x5759fd?_0x5759fd[_0x5cfc64(0x97)]:'none'});else(_0x327185[_0x5cfc64(0xeb)]()!=0x0||_0x43a819)&&allSymbols[_0x5cfc64(0x135)](_0x386da6)&&(_0x1cd8c5!=_0x2bff63&&_0x5b27aa[_0x5cfc64(0x132)](_0x386da6),_0x2f6493[_0x5cfc64(0x132)]({'coin':_0x1cd8c5,'symbol':_0x386da6,'reverse':!![],'number':Math[_0x5cfc64(0x103)](_0x327185+(_0x43a819&&_0x43a819['offset']||0x0),0x0),'orderstatus':_0x5759fd?_0x5759fd[_0x5cfc64(0x97)]:'none'}));}}}}catch(_0x5dabae){if(!_0x4bf6f7)handleErrorNoStop(_0x5dabae,_0x5cfc64(0x174));else await handleError(_0x5dabae,'getCoins()');}return _0x3d5f39=cloneDeep(_0x2f6493),_0x2f6493=_0x2f6493[_0x5cfc64(0x15d)](_0x196f01=>{const _0x1baae5=_0x5cfc64,_0x98c2f6=config[_0x1baae5(0x1a4)][_0x1baae5(0xba)](_0x53ea42=>_0x53ea42['coin']==_0x196f01['coin']);return _0x98c2f6&&!_0x98c2f6[_0x1baae5(0xcf)];}),[_0x2f6493,_0x3d5f39];}async function getCoinNumber(_0x315e62){const _0x535d23=_0xd20222;let _0x57c6a1;try{const _0x4533c6=await exchange['fetchBalance']();_0x57c6a1=_0x4533c6[_0x535d23(0xa3)][_0x315e62];}catch(_0x105908){await handleError(_0x105908,_0x535d23(0xfa));}return _0x57c6a1;}async function getOpenOrders(){const _0x1ea145=_0xd20222;let _0x132905;allOpenOrders=[];try{for(const _0x15b975 of config[_0x1ea145(0x1a4)]){!_0x15b975[_0x1ea145(0xcf)]&&_0x15b975[_0x1ea145(0x170)]!=config[_0x1ea145(0x11c)]&&(_0x132905=await exchange[_0x1ea145(0x1a6)](_0x15b975[_0x1ea145(0xdd)]),_0x132905[_0x1ea145(0x1d6)]>0x0&&allOpenOrders[_0x1ea145(0x132)](_0x132905[0x0]));}}catch(_0x2c10e6){await handleError(_0x2c10e6,_0x1ea145(0x1ad));}}async function handleOpenOrders(_0x119c9c=0x0){const _0x551ac4=_0xd20222;allOpenOrders[_0x551ac4(0x1d6)]==0x0&&lockOrders==ORDERS[_0x551ac4(0xe9)]&&allOrdersPlaced&&(_0x119c9c==0x0?(logger[_0x551ac4(0xc2)](_0x551ac4(0x128)),_0x119c9c++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x551ac4(0x1ae))));}async function testAPI(_0x408ca6){const _0x3562b6=_0xd20222,_0x250aa2=ccxt[_0x408ca6[_0x3562b6(0xf5)]['toLowerCase']()],_0x202856=new _0x250aa2({'apiKey':_0x408ca6[_0x3562b6(0x1f2)],'secret':_0x408ca6[_0x3562b6(0x214)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x408ca6['apiPassword'])_0x202856['password']=_0x408ca6[_0x3562b6(0x131)];try{await _0x202856[_0x3562b6(0x98)]();}catch(_0x4d73bf){throw _0x4d73bf;}}function cloneDeep(_0x1e450d){const _0x5222d3=_0xd20222;return JSON[_0x5222d3(0x196)](JSON[_0x5222d3(0x1ca)](_0x1e450d));}async function getPortfolio(_0x2a2bf8){const _0x414aa2=_0xd20222;let _0x8d2dbd=[],_0x131c62=[],_0x266628=[],_0x5b0d7a;if(_0x2a2bf8[_0x414aa2(0x1f2)]!=='************'||_0x2a2bf8[_0x414aa2(0x214)]!==_0x414aa2(0x1af)||_0x2a2bf8[_0x414aa2(0x131)]&&_0x2a2bf8[_0x414aa2(0x131)]!==_0x414aa2(0x1af)){if(config[_0x414aa2(0xf5)]){if(_0x2a2bf8[_0x414aa2(0x1f2)]==_0x414aa2(0x1af))_0x2a2bf8['apiKey']=config[_0x414aa2(0x1f2)];if(_0x2a2bf8[_0x414aa2(0x214)]==_0x414aa2(0x1af))_0x2a2bf8['apiSecret']=config[_0x414aa2(0x214)];if(_0x2a2bf8['apiPassword']==_0x414aa2(0x1af))_0x2a2bf8[_0x414aa2(0x131)]=config['apiPassword'];try{await testAPI(_0x2a2bf8);}catch(_0x4c9f0d){if(_0x4c9f0d[_0x414aa2(0xeb)]()[_0x414aa2(0x135)]('AuthenticationError')){logger['debug'](_0x414aa2(0x9a)),proxyEmit(_0x414aa2(0x1a4),![]);return;}else{handleError(_0x4c9f0d,'getPortfolio(0)');return;}}}await initExchange(_0x2a2bf8[_0x414aa2(0xf5)],_0x2a2bf8[_0x414aa2(0x1f2)],_0x2a2bf8['apiSecret'],_0x2a2bf8[_0x414aa2(0x131)]);try{await loadSymbols(_0x2a2bf8[_0x414aa2(0xf5)],!![]);}catch(_0x3561c6){if(_0x3561c6[_0x414aa2(0xeb)]()[_0x414aa2(0x135)]('AuthenticationError')){proxyEmit(_0x414aa2(0x1a4),![]);return;}else{handleError(_0x3561c6,_0x414aa2(0xff));return;}}const _0x3bd641=await getCoins(![],_0x2a2bf8[_0x414aa2(0x11c)]);_0x266628=cloneDeep(_0x3bd641[0x1]);}else _0x266628=cloneDeep(currentCoinsAll);if(_0x2a2bf8[_0x414aa2(0x11c)]=='')proxyEmit('portfolio',_0x266628);else{_0x266628['forEach'](_0x2d9dc4=>{const _0x590005=_0x414aa2;if(_0x2d9dc4['coin']!=_0x2a2bf8[_0x590005(0x11c)])_0x8d2dbd[_0x590005(0x132)](_0x2d9dc4[_0x590005(0xdd)]);});try{_0x131c62=await exchange[_0x414aa2(0x1f0)](_0x8d2dbd);}catch(_0x3ed10f){if(_0x3ed10f['toString']()[_0x414aa2(0x135)](_0x414aa2(0x202))){proxyEmit(_0x414aa2(0x1a4),![]);return;}else{handleError(_0x3ed10f,_0x414aa2(0x209));return;}}_0x266628[_0x414aa2(0xd5)](_0x171103=>{const _0x564dde=_0x414aa2;_0x171103[_0x564dde(0x170)]!=_0x2a2bf8[_0x564dde(0x11c)]?_0x5b0d7a=_0x171103[_0x564dde(0x204)]?0x1/_0x131c62[_0x171103[_0x564dde(0xdd)]][_0x564dde(0x19b)]:_0x131c62[_0x171103[_0x564dde(0xdd)]]['last']:_0x5b0d7a=0x1,_0x171103[_0x564dde(0x9d)]=formatResult(_0x5b0d7a,0x8);}),proxyEmit('portfolio',_0x266628);}}function truncateTradeAmount(_0x3faf77,_0x385747){let _0x2fd12e=0x0;try{_0x2fd12e=exchange['amountToPrecision'](_0x3faf77,_0x385747);}catch(_0x37d67a){}return _0x2fd12e;}function checkMinimums(_0x51ba88){const _0x20ed96=_0xd20222;let _0x23ffad=!![];const _0x23ef77=!_0x51ba88[_0x20ed96(0x204)]?markets[_0x51ba88[_0x20ed96(0xdd)]][_0x20ed96(0xf0)][_0x20ed96(0x181)]['min']:markets[_0x51ba88[_0x20ed96(0xdd)]][_0x20ed96(0xf0)]['cost'][_0x20ed96(0xa8)],_0x29f69b=!_0x51ba88[_0x20ed96(0x204)]?markets[_0x51ba88[_0x20ed96(0xdd)]][_0x20ed96(0xf0)][_0x20ed96(0x159)][_0x20ed96(0xa8)]:markets[_0x51ba88[_0x20ed96(0xdd)]]['limits']['amount']['min'],_0x35844b=truncateTradeAmount(_0x51ba88[_0x20ed96(0xdd)],_0x51ba88[_0x20ed96(0x1f8)]);_0x51ba88[_0x20ed96(0x1f8)]=_0x35844b;if(Math[_0x20ed96(0x17f)](_0x35844b)<_0x23ef77)_0x23ffad=![];if(Math['abs'](_0x35844b)*_0x51ba88['last']<_0x29f69b)_0x23ffad=![];if(_0x51ba88[_0x20ed96(0xb6)]==_0x20ed96(0x207)){let _0x56cdee=config[_0x20ed96(0x1a4)][_0x20ed96(0xba)](_0x5844e2=>_0x5844e2[_0x20ed96(0x170)]==_0x51ba88[_0x20ed96(0x170)]);if(_0x56cdee[_0x20ed96(0x178)]>0x0){if(Math[_0x20ed96(0x17f)](_0x35844b)>_0x51ba88[_0x20ed96(0x101)]-_0x56cdee[_0x20ed96(0x178)])_0x23ffad=![];}else{if(Math[_0x20ed96(0x17f)](_0x35844b)>_0x51ba88[_0x20ed96(0x101)])_0x23ffad=![];}}if(_0x51ba88[_0x20ed96(0xb6)]==_0x20ed96(0x18d)){let _0xdc5751=config[_0x20ed96(0x1a4)][_0x20ed96(0xba)](_0x5dc895=>_0x5dc895[_0x20ed96(0x170)]==config[_0x20ed96(0x11c)]),_0x291956=currentCoins[_0x20ed96(0xba)](_0x32e837=>_0x32e837[_0x20ed96(0x170)]==config[_0x20ed96(0x11c)]);if(_0xdc5751[_0x20ed96(0x178)]>0x0){if(Math[_0x20ed96(0x17f)](_0x35844b)*_0x51ba88['last']>_0x291956[_0x20ed96(0x101)]-_0xdc5751[_0x20ed96(0x178)])_0x23ffad=![];}else{if(Math['abs'](_0x35844b)*_0x51ba88[_0x20ed96(0x19b)]>_0x291956[_0x20ed96(0x101)])_0x23ffad=![];}}return _0x23ffad;}async function getBalances(_0x3a0a34=!![]){const _0x33d637=_0xd20222;let _0x2205a6=0x0,_0x4a17d3;const _0x4e34b4=config['threshold'];if(config['headless']&&config[_0x33d637(0xaa)]<0x0)await validate24hChanges();currentCoins[_0x33d637(0xd5)](_0x504fe1=>{const _0x5de7e4=_0x33d637;if(_0x504fe1[_0x5de7e4(0x170)]!=config[_0x5de7e4(0x11c)]){let _0x259f69=global[_0x5de7e4(0xbc)][noslash(_0x504fe1[_0x5de7e4(0xdd)])];_0x4a17d3=_0x504fe1[_0x5de7e4(0x204)]?0x1/_0x259f69:_0x259f69;}else _0x4a17d3=0x1;let _0x46e509=_0x504fe1[_0x5de7e4(0x101)]*_0x4a17d3;_0x2205a6+=_0x46e509,_0x504fe1[_0x5de7e4(0x19b)]=formatResult(Number(_0x4a17d3),0x8),_0x504fe1[_0x5de7e4(0xc0)]=_0x46e509;}),currentCoins[_0x33d637(0xd5)](_0xf53434=>{const _0x45e158=_0x33d637;let _0x59d74c=config[_0x45e158(0x1a4)]['find'](_0x4cc1a0=>_0x4cc1a0[_0x45e158(0x170)]==_0xf53434['coin']),_0x23a993=Number(_0x59d74c[_0x45e158(0x154)]),_0x35d0be=_0xf53434[_0x45e158(0xc0)]/_0x2205a6*0x64,_0x1db42a=_0x23a993*_0x2205a6/0x64/_0xf53434['last']-_0xf53434['number'];_0xf53434[_0x45e158(0x154)]=formatResult(_0x35d0be,0x3),_0xf53434[_0x45e158(0x14c)]=formatResult(_0x23a993,0x3),_0xf53434[_0x45e158(0x1f8)]=formatResult(_0x1db42a,0x8),_0xf53434[_0x45e158(0xb6)]='',_0xf53434['valid']=![];if(_0xf53434[_0x45e158(0x170)]!=config[_0x45e158(0x11c)]){if(_0xf53434[_0x45e158(0x154)]>_0x23a993)_0xf53434[_0x45e158(0xb6)]='sell',_0xf53434[_0x45e158(0x165)]=checkMinimums(_0xf53434);else _0xf53434[_0x45e158(0x154)]<_0x23a993&&(_0xf53434[_0x45e158(0xb6)]=_0x45e158(0x18d),_0xf53434[_0x45e158(0x165)]=checkMinimums(_0xf53434));}_0xf53434['delta']=_0xf53434[_0x45e158(0x154)]/_0xf53434[_0x45e158(0x14c)]-0x1;if(_0xf53434[_0x45e158(0x97)]==_0x45e158(0x1df)||_0xf53434[_0x45e158(0x97)]==_0x45e158(0x1e2))_0xf53434[_0x45e158(0x97)]=_0x45e158(0x195);}),currentCoins['sort']((_0x16df39,_0x128c8f)=>_0x16df39[_0x33d637(0x190)]<_0x128c8f[_0x33d637(0x190)]?0x1:_0x128c8f[_0x33d637(0x190)]<_0x16df39['delta']?-0x1:0x0);const _0x103a10=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x103a10[_0x33d637(0x104)],'usd':_0x103a10[_0x33d637(0x213)],'portfolio':JSON[_0x33d637(0x1ca)](currentCoins),'threshold':_0x4e34b4},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x3a0a34){if(config[_0x33d637(0x16e)])headlessMode({'portfolio':currentCoins,'threshold':_0x4e34b4});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4e34b4});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x589ac2=getNormalizedPerformance();getStartingBalances(_0x589ac2),emitPerformance(_0x589ac2);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x176257=getNormalizedPerformance();emitPerformance(_0x176257),getStartingBalances(_0x176257),logger[_0x33d637(0xc2)](_0x33d637(0x1a5));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x282f26=_0xd20222;if(!lastBalances)return;let _0x2ce459=[],_0x50f26,_0x42d271=JSON['parse'](lastBalances[_0x282f26(0x1a4)]);_0x42d271[_0x282f26(0x1d9)]((_0x5361d2,_0x3f3c21)=>_0x5361d2[_0x282f26(0x170)]>_0x3f3c21[_0x282f26(0x170)]?0x1:_0x3f3c21[_0x282f26(0x170)]>_0x5361d2[_0x282f26(0x170)]?-0x1:0x0),_0x42d271[_0x282f26(0xd5)](_0x324890=>{const _0x44d44c=_0x282f26;let _0x416a90={'coin':_0x324890['coin'],'number':_0x324890[_0x44d44c(0x101)],'price':_0x324890[_0x44d44c(0x19b)]};_0x2ce459['push'](_0x416a90);});const _0xcb66be=await getFiat();_0x50f26={'date':lastBalances[_0x282f26(0x137)][_0x282f26(0x11e)]('\x20')[0x0],'eur':_0xcb66be['eur'],'usd':_0xcb66be[_0x282f26(0x213)],'coins':_0x2ce459};let _0x4873cc=dbPerformance[_0x282f26(0x211)](_0x282f26(0xbe))[_0x282f26(0xba)]({'date':_0x50f26[_0x282f26(0x212)]})[_0x282f26(0xc0)]();_0x4873cc?_0x50f26[_0x282f26(0x212)]!=config[_0x282f26(0x20e)]&&dbPerformance['get'](_0x282f26(0xbe))[_0x282f26(0xba)]({'date':_0x50f26['date']})[_0x282f26(0x15f)](_0x50f26)['write']():dbPerformance['get'](_0x282f26(0xbe))[_0x282f26(0x132)](_0x50f26)[_0x282f26(0x1c7)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x187207=_0xd20222;let _0x95cce8=[];if(dbPerformance[_0x187207(0xef)](_0x187207(0xbe))[_0x187207(0xc0)]()){let _0x344e1a=dbPerformance[_0x187207(0x211)](_0x187207(0xbe))[_0x187207(0x167)]()['sortBy'](_0x187207(0x212))[_0x187207(0xc0)](),_0x48d7af=[...config[_0x187207(0x172)]];_0x48d7af[_0x187207(0x1d9)]((_0x5ca8c7,_0x1d2e51)=>_0x5ca8c7[_0x187207(0x212)]>_0x1d2e51[_0x187207(0x212)]?-0x1:_0x1d2e51['date']>_0x5ca8c7[_0x187207(0x212)]?0x1:0x0);let _0x30542c=0x1,_0x2506b8=[],_0x2e7bf6=0x0;_0x344e1a['slice']()[_0x187207(0x204)]()[_0x187207(0xd5)]((_0x17dc52,_0x23e039)=>{const _0x4ba0b4=_0x187207;if(_0x48d7af[_0x2e7bf6]){if(_0x344e1a[_0x344e1a[_0x4ba0b4(0x1d6)]-_0x23e039]&&_0x48d7af[_0x2e7bf6][_0x4ba0b4(0x212)]==_0x344e1a[_0x344e1a['length']-_0x23e039]['date']){if(_0x23e039<_0x344e1a[_0x4ba0b4(0x1d6)]){let _0x59ee66=0x0,_0x241c8d=0x0;_0x344e1a[_0x344e1a['length']-_0x23e039]['coins']['forEach'](_0x2514f6=>{const _0x525f89=_0x4ba0b4;_0x241c8d+=_0x2514f6[_0x525f89(0x101)]*_0x2514f6['price'];}),_0x48d7af[_0x2e7bf6][_0x4ba0b4(0xb9)][_0x4ba0b4(0xd5)](_0x12cca4=>{const _0x1b262b=_0x4ba0b4;_0x59ee66+=_0x12cca4[_0x1b262b(0x101)]*_0x12cca4[_0x1b262b(0x9d)];}),_0x30542c*=_0x59ee66/(_0x241c8d-_0x59ee66)+0x1;}_0x2e7bf6++;}}let _0x9ee76c=0x0;_0x17dc52[_0x4ba0b4(0x1d0)][_0x4ba0b4(0xd5)](_0x4ae732=>{const _0x5be918=_0x4ba0b4;_0x9ee76c+=_0x4ae732[_0x5be918(0x101)]*_0x4ae732[_0x5be918(0x9d)];}),_0x2506b8[_0x344e1a[_0x4ba0b4(0x1d6)]-_0x23e039-0x1]=_0x9ee76c*(_0x30542c-0x1);});let _0x17730e=[];_0x48d7af=[...config[_0x187207(0x172)]]||[];let _0x333941=0x0;_0x2e7bf6=0x0,_0x344e1a[_0x187207(0xd5)]((_0x3cc0b1,_0x4141c1)=>{const _0x3a364b=_0x187207;if(_0x48d7af[_0x2e7bf6]){const _0x2a128c=fns[_0x3a364b(0x196)](_0x48d7af[_0x2e7bf6][_0x3a364b(0x212)],_0x3a364b(0x111),new Date()),_0x139233=fns[_0x3a364b(0x196)](_0x3cc0b1[_0x3a364b(0x212)],_0x3a364b(0x111),new Date());if(fns[_0x3a364b(0x1e7)](_0x2a128c,_0x139233)){let _0x55149b=0x0;_0x48d7af[_0x2e7bf6][_0x3a364b(0xb9)]['forEach'](_0x18903a=>{const _0x4d90c8=_0x3a364b;!_0x17730e[_0x18903a[_0x4d90c8(0x170)]]?_0x17730e[_0x18903a[_0x4d90c8(0x170)]]=_0x18903a[_0x4d90c8(0x101)]:(_0x55149b=_0x17730e[_0x18903a['coin']],_0x17730e[_0x18903a[_0x4d90c8(0x170)]]+=_0x18903a[_0x4d90c8(0x101)]);const _0x4e19e9=_0x3cc0b1[_0x4d90c8(0x1d0)][_0x4d90c8(0xba)](_0x504a4c=>_0x504a4c['coin']==_0x18903a[_0x4d90c8(0x170)]);(!_0x4e19e9||_0x4e19e9[_0x4d90c8(0x101)]==0x0)&&(_0x333941+=(-_0x18903a[_0x4d90c8(0x101)]-_0x55149b)*_0x18903a['price']);}),_0x2e7bf6++;}}_0x3cc0b1[_0x3a364b(0x1d0)]['forEach']((_0x250ba5,_0x36f50a)=>{const _0x500648=_0x3a364b;_0x17730e[_0x250ba5[_0x500648(0x170)]]&&(_0x250ba5['initial']=_0x17730e[_0x250ba5[_0x500648(0x170)]]);}),_0x95cce8['push']({'date':_0x3cc0b1['date'],'eur':_0x3cc0b1[_0x3a364b(0x104)],'usd':_0x3cc0b1[_0x3a364b(0x213)],'offset':_0x2506b8[_0x4141c1],'netoffset':_0x333941,'coins':_0x3cc0b1[_0x3a364b(0x1d0)]});});}return _0x95cce8;}function emitPerformance(_0x54903b){const _0x5775fc=_0xd20222;_0x54903b[_0x5775fc(0x1d6)]!==0x0?(proxyEmit(_0x5775fc(0x161),_0x54903b),lastPerformanceEmitted=getDate()):proxyEmit(_0x5775fc(0x161),[]);}function getPerf(_0x51fb47,_0x2c46af){const _0x37e446=_0xd20222;let _0x5e6459=0x0,_0x53fadc=0x0,_0xa697cd=0x0;_0x51fb47[_0x37e446(0x1d0)][_0x37e446(0xd5)](_0x2c9917=>{const _0x59e96e=_0x37e446;_0x5e6459+=_0x2c9917['number']*_0x2c9917[_0x59e96e(0x9d)];});_0x2c46af&&(_0x5e6459+=_0x51fb47['offset']);if(config[_0x37e446(0x11c)]==='BTC'||config[_0x37e446(0x11c)]==='ETH')_0x53fadc=_0x5e6459*_0x51fb47[_0x37e446(0x104)],_0xa697cd=_0x5e6459*_0x51fb47[_0x37e446(0x213)];else{if(config[_0x37e446(0x11c)]===_0x37e446(0x1d5)||config[_0x37e446(0x11c)]==='USDT'||config['basecoin']==='USD')_0x53fadc=_0x5e6459*_0x51fb47[_0x37e446(0x104)]/_0x51fb47[_0x37e446(0x213)],_0xa697cd=_0x5e6459;else config[_0x37e446(0x11c)]==='EUR'&&(_0x53fadc=_0x5e6459,_0xa697cd=_0x5e6459*_0x51fb47['usd']/_0x51fb47['eur']);}return[_0x5e6459,_0x53fadc,_0xa697cd];}function getKPIs(_0x313fb5,_0x575cc7='EUR'){const _0x3b653e=_0xd20222,_0x39c7e7=config[_0x3b653e(0x11c)],_0x5448d8=lastBalances,_0x324ea0=currentCoins,_0x2b806e=getNormalizedPerformance(),_0x28e3f8=_0x313fb5===_0x3b653e(0x11c)?_0x39c7e7:_0x313fb5===_0x3b653e(0x200)||_0x313fb5===_0x3b653e(0x115)?_0x575cc7:_0x3b653e(0x179)+_0x39c7e7,_0x1bea96=_0x313fb5===_0x3b653e(0xf4)?_0x3b653e(0x14b):_0x313fb5===_0x3b653e(0x115)?_0x3b653e(0x14b):_0x28e3f8+_0x3b653e(0x19e),_0x18c9ca=_0x313fb5===_0x3b653e(0xf4)||_0x313fb5===_0x3b653e(0x115)?_0x3b653e(0x14b):_0x28e3f8+_0x3b653e(0x192);let _0x221c2d=0x0;_0x324ea0[_0x3b653e(0xd5)](_0x1a757d=>{const _0x2d6c85=_0x3b653e;_0x221c2d+=_0x1a757d[_0x2d6c85(0x101)]*_0x1a757d[_0x2d6c85(0x19b)];});if(_0x313fb5==='fiat'||_0x313fb5===_0x3b653e(0x115)){if(_0x39c7e7==='BTC'||_0x39c7e7==='ETH')_0x221c2d=_0x221c2d*(_0x575cc7===_0x3b653e(0x17c)?_0x5448d8['eur']:_0x5448d8[_0x3b653e(0x213)]);else{if(_0x39c7e7==='BUSD'||_0x39c7e7===_0x3b653e(0x1b8)||_0x39c7e7===_0x3b653e(0x162))_0x221c2d=_0x221c2d*(_0x575cc7===_0x3b653e(0x17c)?_0x5448d8[_0x3b653e(0x104)]/_0x5448d8[_0x3b653e(0x213)]:0x1);else _0x39c7e7===_0x3b653e(0x17c)&&(_0x221c2d=_0x221c2d*(_0x575cc7===_0x3b653e(0x17c)?0x1:_0x5448d8[_0x3b653e(0x213)]/_0x5448d8['eur']));}}let _0x5c8398;if(_0x221c2d!==0x0){if(_0x313fb5===_0x3b653e(0x11c))_0x5c8398=(_0x221c2d/startingBalances[_0x3b653e(0x11c)]-0x1)*0x64;else{if(_0x575cc7===_0x3b653e(0x17c))_0x5c8398=(_0x221c2d/startingBalances['eur']-0x1)*0x64;else _0x5c8398=(_0x221c2d/startingBalances[_0x3b653e(0x213)]-0x1)*0x64;}let _0x33f225=0x0;if(startingBalances[_0x3b653e(0x1d0)])_0x324ea0[_0x3b653e(0xd5)](_0x439275=>{const _0x41e65f=_0x3b653e;let _0x5c972a=startingBalances[_0x41e65f(0x1d0)][_0x41e65f(0xba)](_0x4e701d=>_0x4e701d[_0x41e65f(0x170)]===_0x439275[_0x41e65f(0x170)]);if(_0x5c972a&&_0x5c972a[_0x41e65f(0x170)]&&_0x439275['number']!==0x0)_0x33f225+=_0x5c972a[_0x41e65f(0x101)]*_0x439275[_0x41e65f(0x19b)];});let _0x533d7a=0x0;if(_0x2b806e[_0x3b653e(0x1d6)]!==0x0){let _0x5ea2ba=_0x2b806e[_0x2b806e['length']-0x1];_0x533d7a=_0x5ea2ba[_0x3b653e(0x197)];}_0x33f225-=_0x533d7a;_0x313fb5==='net-basecoin'&&(_0x5c8398=(_0x221c2d-_0x33f225)/startingBalances['basecoin']*0x64,_0x221c2d=_0x221c2d-_0x33f225);if(_0x313fb5===_0x3b653e(0x115)){let _0x2a6815=_0x575cc7===_0x3b653e(0x17c)?startingBalances[_0x3b653e(0x104)]:startingBalances[_0x3b653e(0x213)];if(_0x39c7e7==='BTC'||_0x39c7e7===_0x3b653e(0xb4))_0x33f225=_0x575cc7===_0x3b653e(0x17c)?_0x33f225*_0x5448d8['eur']:_0x33f225*_0x5448d8[_0x3b653e(0x213)];else{if(_0x39c7e7===_0x3b653e(0x1d5)||_0x39c7e7==='USDT'||_0x39c7e7===_0x3b653e(0x162))_0x33f225=_0x575cc7===_0x3b653e(0x17c)?_0x33f225*_0x5448d8[_0x3b653e(0x104)]/_0x5448d8['usd']:_0x33f225;else _0x39c7e7===_0x3b653e(0x17c)&&(_0x33f225=_0x575cc7===_0x3b653e(0x17c)?_0x33f225:_0x33f225*_0x5448d8[_0x3b653e(0x213)]/_0x5448d8['eur']);}_0x5c8398=(_0x221c2d-_0x33f225)/_0x2a6815*0x64,_0x221c2d=_0x221c2d-_0x33f225;}if(_0x5c8398){if(_0x5c8398<0x64)_0x5c8398=_0x5c8398[_0x3b653e(0x13f)](0x2);else{if(_0x5c8398<0x3e8)_0x5c8398=_0x5c8398[_0x3b653e(0x13f)](0x1);else _0x5c8398=_0x5c8398[_0x3b653e(0x13f)](0x0);}}else _0x5c8398=Number('0')[_0x3b653e(0x13f)](0x2);if(_0x221c2d){if(Math[_0x3b653e(0x17f)](_0x221c2d)<0.000001)_0x221c2d=_0x221c2d['toFixed'](0x2);else{if(Math['abs'](_0x221c2d)<0.1)_0x221c2d=_0x221c2d[_0x3b653e(0x13f)](0x6);else{if(Math[_0x3b653e(0x17f)](_0x221c2d)<0x1)_0x221c2d=_0x221c2d[_0x3b653e(0x13f)](0x5);else{if(Math['abs'](_0x221c2d)<0xa)_0x221c2d=_0x221c2d[_0x3b653e(0x13f)](0x4);else{if(Math[_0x3b653e(0x17f)](_0x221c2d)<0x64)_0x221c2d=_0x221c2d[_0x3b653e(0x13f)](0x3);else{if(Math[_0x3b653e(0x17f)](_0x221c2d)<0x3e8)_0x221c2d=_0x221c2d[_0x3b653e(0x13f)](0x2);else _0x221c2d=_0x221c2d[_0x3b653e(0x13f)](0x2);}}}}}}else _0x221c2d=Number('0')[_0x3b653e(0x13f)](0x2);}else _0x5c8398=Number('0')[_0x3b653e(0x13f)](0x2);return{'value':_0x221c2d,'change':_0x5c8398,'leftTxt':_0x1bea96,'rightTxt':_0x18c9ca};}async function getStartingBalances(_0x305f3a,_0x1784e8=!![]){const _0xc2c51d=_0xd20222;if(_0x305f3a[_0xc2c51d(0x1d6)]!==0x0){const [_0x439506,_0x3d5d50,_0x341da6]=getPerf(_0x305f3a[0x0],!![]);let _0x157a70=[];config['portfolio']['forEach'](_0x6df5f=>{const _0x22a6cc=_0xc2c51d;let _0x434853=0x0,_0x35cbaa;config[_0x22a6cc(0x172)][_0x22a6cc(0xd5)](_0x36caa0=>{const _0x4e5342=_0x22a6cc;let _0x4d0c86=_0x36caa0[_0x4e5342(0xb9)][_0x4e5342(0xba)](_0x5e13b5=>_0x5e13b5['coin']==_0x6df5f[_0x4e5342(0x170)]);if(_0x4d0c86){_0x434853+=_0x4d0c86[_0x4e5342(0x101)];if(!_0x35cbaa)_0x35cbaa=_0x4d0c86['price'];}}),_0x157a70[_0x22a6cc(0x132)]({'coin':_0x6df5f[_0x22a6cc(0x170)],'number':_0x434853,'initialprice':_0x35cbaa});});const _0x584b8a={'basecoin':_0x439506,'eur':_0x3d5d50,'usd':_0x341da6,'coins':_0x157a70};if(_0x1784e8)proxyEmit(_0xc2c51d(0x12b),_0x584b8a);startingBalances=_0x584b8a;}}function headlessMode(_0x230a78){const _0xcb6966=_0xd20222;let _0x1a8207=_0x230a78[_0xcb6966(0x1a4)],_0x3c1dc0=_0x230a78[_0xcb6966(0x16b)],_0x147abf=[];for(let _0x4791a6 of _0x1a8207){if(_0x4791a6['coin']!=config[_0xcb6966(0x11c)]){if(_0x4791a6[_0xcb6966(0x190)]>=_0x3c1dc0/0x64){if(_0x4791a6[_0xcb6966(0x165)])_0x147abf[_0xcb6966(0x132)](_0x4791a6);}else{if(_0x4791a6[_0xcb6966(0x190)]<=-_0x3c1dc0/0x64){if(_0x4791a6[_0xcb6966(0x165)])_0x147abf[_0xcb6966(0x132)](_0x4791a6);}}}}_0x147abf[_0xcb6966(0x1d6)]>0x0&&placeOrder(_0x147abf);}function notifyBalance(_0x30e5a4){const _0x484b6c=_0xd20222;let _0x5d98c3=_0x30e5a4[_0x484b6c(0x1a4)],_0x5e4210=_0x30e5a4[_0x484b6c(0x16b)],_0x4b4f45=[];for(let _0x93bd3e of _0x5d98c3){if(_0x93bd3e[_0x484b6c(0x170)]!=config[_0x484b6c(0x11c)]){if(_0x93bd3e[_0x484b6c(0x190)]>=_0x5e4210/0x64){if(_0x93bd3e[_0x484b6c(0x165)])_0x4b4f45['push'](_0x93bd3e);}else{if(_0x93bd3e[_0x484b6c(0x190)]<=-_0x5e4210/0x64){if(_0x93bd3e[_0x484b6c(0x165)])_0x4b4f45[_0x484b6c(0x132)](_0x93bd3e);}}}}if(_0x4b4f45[_0x484b6c(0x1d6)]>0x0){let _0x3be512=_0x4b4f45[_0x484b6c(0x1e8)](_0xf9acc8=>_0xf9acc8[_0x484b6c(0x170)]);_0x3be512['sort']();let _0x3f412a=_0x3be512[_0x484b6c(0x15a)](',\x20');if(!lastCoinsToBalance)logHistory(_0x484b6c(0x1b3),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x3f412a;}}function symbolToCoin(_0x573483){const _0x2a9a87=_0xd20222;let _0x5ade84;if(_0x573483[_0x2a9a87(0x135)]('/'+config[_0x2a9a87(0x11c)]))_0x5ade84=_0x573483[_0x2a9a87(0xb1)]('/'+config[_0x2a9a87(0x11c)],'');if(_0x573483['includes'](config[_0x2a9a87(0x11c)]+'/'))_0x5ade84=_0x573483['replace'](config[_0x2a9a87(0x11c)]+'/','');return _0x5ade84;}async function unlockOrders(){const _0xf9262e=_0xd20222;if(allOrdersPlaced&&lockOrders==ORDERS[_0xf9262e(0xe9)]){logger['debug'](_0xf9262e(0xdf)),lockOrders=ORDERS[_0xf9262e(0x124)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3b3374=await getCoins();[currentCoins,currentCoinsAll]=_0x3b3374,validateOrdersState=_0xf9262e(0x17d),persistOpenOrders([]),lockOrders=ORDERS[_0xf9262e(0xa5)],logger['debug'](_0xf9262e(0x15e));}}async function validateOrders(_0x23d21b){const _0x1e7d49=_0xd20222;if(_0x23d21b)validateOrdersState=_0x23d21b;logger[_0x1e7d49(0xc2)](_0x1e7d49(0x15b)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x1e7d49(0xd1):lockOrders==0x2?_0x1e7d49(0x1a0):_0x1e7d49(0x1cb)));let _0x11267b=[],_0x2d9d6b=config[_0x1e7d49(0x1e1)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1e7d49(0xe9)])return;logger[_0x1e7d49(0xc2)](_0x1e7d49(0x14e)+validateOrdersState),lastOrders[_0x1e7d49(0xd5)](_0x4b9124=>{const _0x54751d=_0x1e7d49;let _0x202bfd=![];_0x4b9124[_0x54751d(0x1df)]>0x0&&(_0x202bfd=!![]),_0x11267b[_0x54751d(0x132)](_0x202bfd),_0x202bfd&&config[_0x54751d(0x1e1)]!=_0x54751d(0x1b1)&&logHistory(_0x54751d(0x123),'Order\x20filled:\x20'+_0x4b9124['symbol']+'\x20'+_0x4b9124['side']+'\x20#'+formatResult(_0x4b9124[_0x54751d(0x1df)],0x8)+'\x20@'+formatResult(_0x4b9124[_0x54751d(0x9d)],0x8));}),_0x11267b[_0x1e7d49(0xd5)]((_0x55633e,_0x4c2c1e)=>{const _0x42c9c6=_0x1e7d49;if(_0x55633e)lastOrders[_0x42c9c6(0x20f)](_0x4c2c1e,0x1);}),persistOpenOrders(lastOrders);const _0x1c93b5=coolingDown?_0x1e7d49(0xed):_0x1e7d49(0x1d2);if(validateOrdersState==_0x1e7d49(0x17d)){validateOrdersState=_0x1e7d49(0x1fe);if(_0x11267b[_0x1e7d49(0x135)](![])){if(config[_0x1e7d49(0x1e1)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x1e7d49(0x1fe)){if(_0x11267b[_0x1e7d49(0x135)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x1e7d49(0x1b1)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x1e7d49(0xcc))_0x11267b[_0x1e7d49(0x135)](![])&&(config[_0x1e7d49(0x1e1)]==_0x1e7d49(0x1b1)?logHistory(_0x1e7d49(0x18c),_0x1e7d49(0xb2)+Math[_0x1e7d49(0x11b)](_0x2d9d6b*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1c93b5):(await cancelOrders(),logHistory('success',_0x1e7d49(0xde)+Math[_0x1e7d49(0x11b)](_0x2d9d6b*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1c93b5))),await unlockOrders();else{if(validateOrdersState==_0x1e7d49(0x1ae)){if(config[_0x1e7d49(0x1e1)]!='market')logHistory(_0x1e7d49(0x18c),_0x1e7d49(0x10f)+_0x1c93b5);await unlockOrders();}}}}}async function cancelOrders(){const _0x2ffd83=_0xd20222;lastOrders[_0x2ffd83(0xd5)](async _0x41b850=>{const _0x475f07=_0x2ffd83;try{const _0x53153f=await exchange[_0x475f07(0xd6)](_0x41b850[_0x475f07(0x164)],_0x41b850[_0x475f07(0xdd)]);}catch(_0x1e2fb8){if(_0x1e2fb8[_0x475f07(0xeb)]()[_0x475f07(0x135)](_0x475f07(0xc1))){}else await handleError(_0x1e2fb8,'cancelOrders()');}});}async function initCoinResults(){const _0x166cea=_0xd20222;let _0x3b9d84=[];config[_0x166cea(0x1a4)][_0x166cea(0xd5)](_0x25c88e=>{const _0xd892f1=_0x166cea;if(!_0x25c88e[_0xd892f1(0xcf)]&&_0x25c88e[_0xd892f1(0x170)]!=config[_0xd892f1(0x11c)]){let _0x6816d8=dbCoinResults[_0xd892f1(0x211)](_0xd892f1(0x1d0))[_0xd892f1(0xba)]({'coin':_0x25c88e[_0xd892f1(0x170)]})['value']();if(!_0x6816d8){const _0x59b367=currentCoins['find'](_0x4c2f52=>_0x4c2f52['coin']==_0x25c88e[_0xd892f1(0x170)]),_0x2e0525=global[_0xd892f1(0xbc)][noslash(_0x25c88e[_0xd892f1(0xdd)])];let _0x246e16=_0x59b367?_0x59b367[_0xd892f1(0x101)]:null,_0x54b377=_0x25c88e[_0xd892f1(0x204)]?0x1/_0x2e0525:_0x2e0525,_0x25ebd1;config[_0xd892f1(0x172)][_0xd892f1(0xd5)](_0x2def3e=>{const _0x4858ce=_0xd892f1;!_0x25ebd1&&(_0x25ebd1=_0x2def3e['changes'][_0x4858ce(0xba)](_0x17b735=>_0x17b735[_0x4858ce(0x170)]==_0x25c88e['coin']),_0x25ebd1&&(_0x246e16=_0x25ebd1[_0x4858ce(0x101)],_0x54b377=_0x25ebd1['price']));}),_0x3b9d84[_0xd892f1(0x132)]({'coin':_0x25c88e[_0xd892f1(0x170)],'number':_0x246e16,'price':_0x54b377});}}}),_0x3b9d84[_0x166cea(0xd5)](_0x55a2c3=>{const _0x58d7cb=_0x166cea,_0x351483={'coin':_0x55a2c3[_0x58d7cb(0x170)],'number':_0x55a2c3[_0x58d7cb(0x101)],'breakeven':_0x55a2c3[_0x58d7cb(0x9d)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x58d7cb(0x211)]('coins')[_0x58d7cb(0x132)](_0x351483)[_0x58d7cb(0x1c7)]();});}async function updateCoinResults(_0x560a50,_0xb47461=![]){const _0x9801df=_0xd20222;let _0x1b0987,_0xdd3460,_0x375728,_0x5227e1,_0x1fc7b2,_0x1d0692,_0x494478=dbCoinResults[_0x9801df(0x211)](_0x9801df(0x1d0))[_0x9801df(0xba)]({'coin':_0x560a50[_0x9801df(0x170)]})['value']();!_0x494478&&await initCoinResults();_0x560a50['reverse']&&(_0x1d0692={'filled':_0x560a50[_0x9801df(0x1df)]*_0x560a50[_0x9801df(0x9d)],'amount':_0x560a50[_0x9801df(0x1df)]*_0x560a50[_0x9801df(0x9d)],'side':_0x560a50[_0x9801df(0xb6)]==_0x9801df(0x207)?_0x9801df(0x18d):_0x9801df(0x207),'price':0x1/_0x560a50[_0x9801df(0x9d)]},_0x560a50={..._0x560a50,..._0x1d0692});_0xb47461?_0xdd3460=_0x560a50[_0x9801df(0xb6)]==_0x9801df(0x18d)?_0x494478[_0x9801df(0x101)]+_0x560a50[_0x9801df(0x1df)]:_0x494478['number']-_0x560a50[_0x9801df(0x1df)]:_0xdd3460=await getCoinNumber(_0x560a50[_0x9801df(0x170)]);if(_0x560a50[_0x9801df(0x158)]&&_0x560a50[_0x9801df(0x158)][_0x9801df(0x1b4)]==config[_0x9801df(0x11c)])_0x1b0987=_0x560a50['fee'][_0x9801df(0x159)];else{if(_0x560a50['fee']&&_0x560a50[_0x9801df(0x158)][_0x9801df(0x1b4)]==_0x9801df(0x12a)&&!_0xb47461)_0x1b0987=_0x560a50[_0x9801df(0x158)][_0x9801df(0x159)]*global[_0x9801df(0xbc)][_0x9801df(0x12a)+config['basecoin']];else _0x1b0987=defaultFee*_0x560a50[_0x9801df(0x1df)]*_0x560a50['price'];}_0x560a50[_0x9801df(0xb6)]==_0x9801df(0x18d)?(_0x375728=_0xdd3460!=0x0?(_0x494478[_0x9801df(0x12c)]*_0x494478[_0x9801df(0x101)]+_0x560a50[_0x9801df(0x9d)]*(_0xdd3460-_0x494478['number'])+_0x1b0987)/_0xdd3460:0x0,_0x5227e1=_0x494478['realized']):(_0x375728=_0xdd3460!=0x0?(_0x494478['breakeven']*_0x494478[_0x9801df(0x101)]-_0x560a50[_0x9801df(0x9d)]*(_0x494478[_0x9801df(0x101)]-_0xdd3460)+_0x1b0987)/_0xdd3460:0x0,_0x5227e1=_0x494478[_0x9801df(0x1f5)]+(_0x560a50[_0x9801df(0x9d)]-_0x494478[_0x9801df(0x12c)])*_0x560a50[_0x9801df(0x1df)]);_0x1fc7b2=(_0x560a50[_0x9801df(0x9d)]-_0x375728-_0x1b0987/_0x560a50[_0x9801df(0x1df)])*_0xdd3460;let _0x5f05c2={'coin':_0x560a50[_0x9801df(0x170)],'number':_0xdd3460,'breakeven':formatResult(_0x375728,0x8),'realized':formatResult(_0x5227e1,0x8),'unrealized':formatResult(_0x1fc7b2,0x8),'fees':formatResult(_0x494478['fees']+_0x1b0987,0x8),'sells':_0x560a50['side']=='sell'?_0x494478[_0x9801df(0x153)]+0x1:_0x494478[_0x9801df(0x153)],'buys':_0x560a50['side']==_0x9801df(0x18d)?_0x494478[_0x9801df(0xf6)]+0x1:_0x494478['buys']};dbCoinResults[_0x9801df(0x211)](_0x9801df(0x1d0))[_0x9801df(0xba)]({'coin':_0x560a50['coin']})['assign'](_0x5f05c2)[_0x9801df(0x1c7)]();if(!_0xb47461){if(_0x560a50[_0x9801df(0x158)]&&_0x560a50[_0x9801df(0x158)][_0x9801df(0x1b4)]==_0x9801df(0x12a)){const _0x5929d2=currentCoins[_0x9801df(0xba)](_0xaa1f2d=>_0xaa1f2d['coin']=='BNB');if(_0x5929d2){let _0x571fd3=dbCoinResults[_0x9801df(0x211)]('coins')[_0x9801df(0xba)]({'coin':_0x9801df(0x12a)})['value']();_0x5f05c2={..._0x571fd3,'number':_0x5929d2[_0x9801df(0x101)]},dbCoinResults['get']('coins')[_0x9801df(0xba)]({'coin':_0x9801df(0x12a)})[_0x9801df(0x15f)](_0x5f05c2)[_0x9801df(0x1c7)]();}}}}async function placeOrder(_0x5e3cac){const _0x1dfd45=_0xd20222,_0x55ba92=config['ordertype']==_0x1dfd45(0x1b1)?_0x1dfd45(0x1b1):_0x1dfd45(0x16a);if(lockOrders==ORDERS[_0x1dfd45(0xa5)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x1dfd45(0xe9)],allOrdersPlaced=![],validateOrdersState='initial';let _0x2d8b65=![];lastOrders=[];for(const _0x114f1d of _0x5e3cac){let _0x5d19e4,_0x312103,_0xe6c18a,_0x1a3a2f,_0x28560e,_0x12cc7a=_0x114f1d[_0x1dfd45(0xdd)];try{const _0x21569d=await exchange[_0x1dfd45(0x1d4)](_0x12cc7a);_0x5d19e4=_0x114f1d[_0x1dfd45(0x204)]?0x1/_0x114f1d[_0x1dfd45(0x19b)]:_0x114f1d[_0x1dfd45(0x19b)],_0x312103=_0x21569d[_0x1dfd45(0x1cc)],_0xe6c18a=_0x21569d[_0x1dfd45(0x191)];_0x114f1d[_0x1dfd45(0x204)]?(_0x1a3a2f=_0x114f1d[_0x1dfd45(0xb6)]==_0x1dfd45(0x18d)?'sell':_0x1dfd45(0x18d),_0x28560e=Math[_0x1dfd45(0x17f)](_0x114f1d[_0x1dfd45(0x1f8)])/_0x5d19e4):(_0x1a3a2f=_0x114f1d[_0x1dfd45(0xb6)],_0x28560e=Math[_0x1dfd45(0x17f)](_0x114f1d[_0x1dfd45(0x1f8)]));_0x55ba92=='limit'&&(config[_0x1dfd45(0x1e1)]==_0x1dfd45(0x146)&&(_0x5d19e4=_0x1a3a2f==_0x1dfd45(0x18d)?_0x312103:_0xe6c18a),config['ordertype']==_0x1dfd45(0xce)&&(_0x5d19e4=_0x1a3a2f==_0x1dfd45(0x18d)?_0xe6c18a:_0x312103));_0x28560e=formatResult(_0x28560e,0x8),_0x5d19e4=formatResult(_0x5d19e4,0x8);const _0x39d6bf=_0x1a3a2f==_0x1dfd45(0x207)?config['emojisell']?String[_0x1dfd45(0x1bb)]('0x'+config['emojisell'])+'\x20':'':config[_0x1dfd45(0x108)]?String[_0x1dfd45(0x1bb)]('0x'+config[_0x1dfd45(0x108)])+'\x20':'',_0x440208=_0x55ba92==_0x1dfd45(0x1b1)?_0x1dfd45(0x1bf):config[_0x1dfd45(0x1e1)]==_0x1dfd45(0x146)?_0x1dfd45(0x1c1):_0x1dfd45(0x1cf),_0x126014=new Date()[_0x1dfd45(0x1ed)]()[_0x1dfd45(0xeb)]()['slice'](-0x6)+'-'+Math[_0x1dfd45(0x1b5)]()['toString']()[_0x1dfd45(0x1c0)](-0x6);lastOrders['push']({'customId':_0x126014,'symbol':_0x12cc7a,'coin':_0x114f1d[_0x1dfd45(0x170)],'side':_0x1a3a2f,'reverse':_0x114f1d[_0x1dfd45(0x204)],'filled':0x0});if(_0x55ba92==_0x1dfd45(0x1b1))logHistory(_0x1dfd45(0x123),''+_0x39d6bf+_0x440208+_0x1dfd45(0x144)+_0x12cc7a+'\x20'+_0x1a3a2f+'\x20#'+formatResult(_0x28560e,0x8)+'\x20@'+formatResult(_0x5d19e4,0x8));else logHistory('order',''+_0x39d6bf+_0x440208+_0x1dfd45(0x144)+_0x12cc7a+'\x20'+_0x1a3a2f+'\x20#'+formatResult(_0x28560e,0x8)+'\x20@'+formatResult(_0x5d19e4,0x8));const _0x20cec4=await exchange[_0x1dfd45(0x1c4)](_0x12cc7a,_0x55ba92,_0x1a3a2f,_0x28560e,_0x5d19e4,{'clientOrderId':_0x126014}),_0x532911=lastOrders[_0x1dfd45(0x1d6)]-0x1;_0x532911>=0x0&&lastOrders[_0x532911][_0x1dfd45(0x120)]==_0x126014&&(lastOrders[_0x532911]={...lastOrders[_0x532911],'orderId':_0x20cec4['id'],'amount':_0x20cec4[_0x1dfd45(0x181)],'price':_0x20cec4[_0x1dfd45(0x9d)],'fee':_0x20cec4[_0x1dfd45(0x158)]});if(config['cooldown']!=0x0){let _0x13c8e8=null;if(cooldownTracker[_0x1dfd45(0x1d6)]==config[_0x1dfd45(0x150)]-0x1)_0x13c8e8=cooldownTracker[_0x1dfd45(0xe3)]();const _0x466909=getTimeStamp();cooldownTracker['push'](_0x466909);if(_0x13c8e8){const _0x281edc=fns['differenceInSeconds'](new Date(_0x466909),new Date(_0x13c8e8));if(_0x281edc<cooldownInterval){logHistory(_0x1dfd45(0xca),'Executed\x20'+config[_0x1dfd45(0x150)]+_0x1dfd45(0x121)+cooldownInterval/0x3c+_0x1dfd45(0x203)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x964cfb){if(_0x964cfb['toString']()[_0x1dfd45(0x135)](_0x1dfd45(0x1fa)))lastOrders=lastOrders[_0x1dfd45(0x15d)](_0xed18aa=>_0xed18aa[_0x1dfd45(0xdd)]!=_0x12cc7a),logHistory('error',_0x1dfd45(0x142)+_0x12cc7a),_0x2d8b65=!![];else{if(_0x964cfb['toString']()[_0x1dfd45(0x135)](_0x1dfd45(0xa7)))lastOrders=lastOrders['filter'](_0x745cfd=>_0x745cfd[_0x1dfd45(0xdd)]!=_0x12cc7a),logHistory(_0x1dfd45(0xca),'Order\x20amount\x20is\x20invalid:\x20'+_0x12cc7a),_0x2d8b65=!![];else _0x964cfb['toString']()[_0x1dfd45(0x135)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0x380097=>_0x380097[_0x1dfd45(0xdd)]!=_0x12cc7a),logHistory(_0x1dfd45(0xca),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x12cc7a),_0x2d8b65=!![]):(lastOrders=lastOrders[_0x1dfd45(0x15d)](_0x3144c7=>_0x3144c7[_0x1dfd45(0xdd)]!=_0x12cc7a),await handleError(_0x964cfb,_0x1dfd45(0xd7),_0x12cc7a));}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x175ff5=config[_0x1dfd45(0x1e1)]==_0x1dfd45(0x1b1)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x484372=_0x1dfd45;validateOrders(_0x484372(0xcc));},_0x175ff5);}else unlockOrders();_0x2d8b65&&config[_0x1dfd45(0x16e)]&&await pauseBot(_0x1dfd45(0xcd)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1dfd45(0x18c),_0x1dfd45(0x12f)));}else{if(coolingDown)!config[_0x1dfd45(0x16e)]&&logHistory('error',_0x1dfd45(0x122));else lockOrders!=ORDERS[_0x1dfd45(0xa5)]&&(!config[_0x1dfd45(0x16e)]&&(config[_0x1dfd45(0x1e1)]=='market'?logHistory('error',_0x1dfd45(0xe5)):logHistory(_0x1dfd45(0xca),_0x1dfd45(0x189))));}}function persistOpenOrders(_0x26ebdc){const _0x4e5d21=_0xd20222,_0x42f8dc={...config,'openOrders':_0x26ebdc};let _0x1ede66=dbConfig[_0x4e5d21(0x211)](_0x4e5d21(0xa9))['find']({'botID':botID})[_0x4e5d21(0xc0)]();_0x1ede66&&dbConfig[_0x4e5d21(0x211)]('bot')['find']({'botID':botID})[_0x4e5d21(0x15f)](_0x42f8dc)[_0x4e5d21(0x1c7)]();}function restoreOrders(){const _0x4dc9d4=_0xd20222;let _0x596c3c;config[_0x4dc9d4(0x152)]&&allOpenOrders[_0x4dc9d4(0xd5)](_0x138675=>{const _0x2eaa52=_0x4dc9d4,_0x20ae21=config[_0x2eaa52(0x152)][_0x2eaa52(0xba)](_0x30a1e2=>_0x30a1e2[_0x2eaa52(0x164)]==_0x138675['id']);_0x20ae21&&(lastOrders[_0x2eaa52(0x132)](_0x20ae21),_0x596c3c=_0x138675[_0x2eaa52(0x1a2)]);});if(lastOrders[_0x4dc9d4(0x1d6)]>0x0){lockOrders=ORDERS[_0x4dc9d4(0xe9)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x2f7931=new Date()['getTime'](),_0x408cd1=config[_0x4dc9d4(0x1e1)]==_0x4dc9d4(0x1b1)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x596c3c+_0x408cd1>_0x2f7931){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xdbaa77=_0x4dc9d4;validateOrders(_0xdbaa77(0xcc));},_0x596c3c+_0x408cd1-_0x2f7931);}else validateOrders(_0x4dc9d4(0xcc));}}async function sendMetricsTelegram(){const _0x5af041=_0xd20222;if(!coinsLoaded){process[_0x5af041(0x175)]({'telegrammsg':_0x5af041(0x201)},_0x5a8371=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x24c60d='';if(config['showname'])_0x24c60d=_0x5af041(0xf1)+config[_0x5af041(0xa1)]+_0x5af041(0x1f4);else _0x24c60d=_0x5af041(0x180)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x331ca8=getKPIs(_0x5af041(0x11c)),_0x587315=getKPIs(_0x5af041(0x200),config[_0x5af041(0x200)]),_0xb3c22e=getKPIs('net-basecoin'),_0x17694b=getKPIs('net-fiat',config[_0x5af041(0x200)]);_0x24c60d+=_0x5af041(0x1e4),_0x24c60d+=_0x331ca8[_0x5af041(0x95)]+_0x5af041(0x99)+_0x331ca8[_0x5af041(0xc0)]+'\x0a',_0x24c60d+=_0x331ca8[_0x5af041(0x1ff)]+':\x20'+_0x331ca8['change']+'%\x0a',_0x24c60d+=_0x587315['leftTxt']+_0x5af041(0x99)+_0x587315[_0x5af041(0xc0)]+'\x0a',_0x24c60d+=_0x587315['rightTxt']+':\x20'+_0x587315[_0x5af041(0x1b7)]+'%\x0a',_0x24c60d+=_0xb3c22e['leftTxt']+':\x20'+_0xb3c22e[_0x5af041(0xc0)]+'\x20('+config[_0x5af041(0x11c)]+')\x0a',_0x24c60d+=_0xb3c22e[_0x5af041(0x1ff)]+':\x20'+_0xb3c22e[_0x5af041(0x1b7)]+_0x5af041(0x1d3)+config['basecoin']+')\x0a',_0x24c60d+=_0x17694b['leftTxt']+':\x20'+_0x17694b[_0x5af041(0xc0)]+'\x20('+config[_0x5af041(0x200)]+')\x0a',_0x24c60d+=_0x17694b[_0x5af041(0x1ff)]+':\x20'+_0x17694b[_0x5af041(0x1b7)]+_0x5af041(0x1d3)+config['fiat']+')\x0a',_0x24c60d+=_0x5af041(0x106),process[_0x5af041(0x175)]({'telegrammsg':_0x24c60d},_0x20fe55=>{});}async function sendPortfolioTelegram(){const _0x397da6=_0xd20222;if(!coinsLoaded){process[_0x397da6(0x175)]({'telegrammsg':_0x397da6(0x201)},_0x206043=>{});return;}let _0x502990='';if(config[_0x397da6(0x9e)])_0x502990=_0x397da6(0xf1)+config[_0x397da6(0xa1)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x502990='<b>Bot\x20'+botID+_0x397da6(0x141);_0x502990+=_0x397da6(0x1e4),_0x502990+='-------------------------------\x0a',_0x502990+=_0x397da6(0x11a),_0x502990+='-------------------------------\x0a',currentCoins[_0x397da6(0xd5)](_0x5db55e=>{const _0x3f2cb2=_0x397da6;_0x502990+=_0x5db55e[_0x3f2cb2(0x170)][_0x3f2cb2(0x118)](0x7)+'|\x20'+formatPad(_0x5db55e[_0x3f2cb2(0x154)],0x2,0x6)+'|\x20'+formatPad(_0x5db55e[_0x3f2cb2(0x14c)],0x2,0x6)+'|\x20'+formatPad(_0x5db55e[_0x3f2cb2(0x190)]*0x64,0x2,0x6)+'\x0a';}),_0x502990+='</pre>',process['send']({'telegrammsg':_0x502990},_0x53eb9a=>{});}function formatPad(_0x2d1d3b,_0x59cdef,_0x472937){const _0x5e7901=_0xd20222,_0x33ff3d=formatResultString(_0x2d1d3b,_0x59cdef);return _0x33ff3d?_0x33ff3d[_0x5e7901(0x10d)](_0x472937):''[_0x5e7901(0x10d)](_0x472937);}function logHistory(_0x479982,_0x32a5cf,_0x2a29a3=''){const _0x5e45d5=_0xd20222;let _0x396afa={'time':getTimeStamp(),'type':_0x479982,'event':_0x32a5cf};dbLogs[_0x5e45d5(0x211)](_0x5e45d5(0x208))['push'](_0x396afa)[_0x5e45d5(0x1c7)]();if(_0x2a29a3=='')_0x2a29a3=_0x32a5cf;proxyEmit('event',{'log':_0x396afa,'summary':_0x2a29a3}),process[_0x5e45d5(0x175)]({'telegram':{..._0x396afa,'botname':config[_0x5e45d5(0xa1)],'showname':config[_0x5e45d5(0x9e)]}},_0x3576c3=>{}),logger[_0x5e45d5(0x20b)](''+_0x396afa[_0x5e45d5(0xc6)]);}function emitHistory(_0x566b30={}){const _0xe12a85=_0xd20222;Object['keys'](_0x566b30)[_0xe12a85(0x1d6)]==0x0&&(_0x566b30={'type':['order',_0xe12a85(0xc6)],'event':'','page':0x1});if(_0x566b30['type'][_0xe12a85(0x135)](_0xe12a85(0xc6)))_0x566b30[_0xe12a85(0xe4)][_0xe12a85(0x20f)](_0x566b30[_0xe12a85(0xe4)][_0xe12a85(0x15c)]('event'),0x1,_0xe12a85(0xca),_0xe12a85(0x1b3),_0xe12a85(0x18c));if(dbLogs['has'](_0xe12a85(0x208))[_0xe12a85(0xc0)]()){let _0x36a41a=dbLogs[_0xe12a85(0x211)](_0xe12a85(0x208))[_0xe12a85(0x15d)](_0x1a626d=>{const _0x20853b=_0xe12a85;if(_0x566b30[_0x20853b(0xe4)][_0x20853b(0x1d6)]==0x0)return![];else return _0x566b30[_0x20853b(0xe4)][_0x20853b(0x135)](_0x1a626d['type']);})['filter'](_0x5e74a8=>{const _0x24cf90=_0xe12a85;if(_0x566b30[_0x24cf90(0xc6)]=='')return!![];else return _0x5e74a8[_0x24cf90(0xc6)]['toLowerCase']()[_0x24cf90(0x135)](_0x566b30[_0x24cf90(0xc6)][_0x24cf90(0x10b)]());})[_0xe12a85(0xdc)](_0xe12a85(0x137)),_0x1db3aa=_0x36a41a[_0xe12a85(0xc0)]()[_0xe12a85(0x1d6)];_0x36a41a=_0x36a41a[_0xe12a85(0x204)]()[_0xe12a85(0x1c0)]((_0x566b30[_0xe12a85(0x168)]-0x1)*logPageSize,_0x566b30['page']*logPageSize-0x1)[_0xe12a85(0x204)]()[_0xe12a85(0xc0)](),proxyEmit(_0xe12a85(0x1b0),{'logs':_0x36a41a,'total':_0x1db3aa});}else proxyEmit(_0xe12a85(0x1b0),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2289a7){const _0x3fc013=_0xd20222;if(dbLogs[_0x3fc013(0xef)](_0x3fc013(0x208))['value']()){const _0x7e4a7c=dbLogs[_0x3fc013(0x211)]('logs')[_0x3fc013(0xdc)](_0x3fc013(0x137))[_0x3fc013(0x15d)](_0x2a6ed5=>{const _0x33381b=_0x3fc013;return _0x2a6ed5[_0x33381b(0xe4)]==_0x33381b(0x123);})[_0x3fc013(0xc0)]();dbLogs[_0x3fc013(0x211)](_0x3fc013(0x208))[_0x3fc013(0x1c6)]()[_0x3fc013(0x1c7)](),dbLogs[_0x3fc013(0x211)](_0x3fc013(0x208))[_0x3fc013(0x15f)](_0x7e4a7c)[_0x3fc013(0x1c7)](),emitHistory(_0x2289a7);}}async function pauseBot(_0x26a2b3=''){const _0x172752=_0xd20222,_0x40b63b=new Date()[_0x172752(0x1ed)]();if(!lastErrorShown||_0x40b63b-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x40b63b;!lastBotPause?(lastBotPause=_0x40b63b,consecutivePauses=0x1):(_0x40b63b-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x172752(0x175)]({'stop':'restart'},_0x47e599=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x26a2b3)_0x26a2b3+=_0x172752(0xd4);logHistory(_0x172752(0xca),_0x26a2b3+_0x172752(0x14f)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){process['send']({'stop':'kill'},_0x3b2aa1=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x45f91e,_0x709dfd){const _0x4f9b38=_0xd20222;if(_0x45f91e[_0x4f9b38(0xeb)]()['includes'](_0x4f9b38(0x1d8)))return logHistory(_0x4f9b38(0xca),config[_0x4f9b38(0xf5)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x45f91e['toString']()[_0x4f9b38(0x135)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x4f9b38(0xca),config[_0x4f9b38(0xf5)]+_0x4f9b38(0x171)),![];else{if(_0x45f91e['toString']()[_0x4f9b38(0x135)](_0x4f9b38(0x202)))return logHistory('error',config[_0x4f9b38(0xf5)]+_0x4f9b38(0x9b)),logHistory(_0x4f9b38(0xca),_0x4f9b38(0x18a)),![];else await handleError(_0x45f91e,_0x709dfd);}}}async function handleError(_0xb05353,_0x245095,_0x106f64=''){const _0x1b8e3a=_0xd20222,_0x34e405=config[_0x1b8e3a(0xf5)]||_0x1b8e3a(0xf3);if(_0xb05353[_0x1b8e3a(0xeb)]()[_0x1b8e3a(0x135)](_0x1b8e3a(0x1d1)))await pauseBot(config['exchange']+_0x1b8e3a(0x136));else{if(_0xb05353[_0x1b8e3a(0xeb)]()[_0x1b8e3a(0x135)]('ExchangeNotAvailable'))await pauseBot(config['exchange']+_0x1b8e3a(0x177));else{if(_0xb05353['toString']()['includes'](_0x1b8e3a(0x140)))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0xb05353['toString']()[_0x1b8e3a(0x135)](_0x1b8e3a(0x119)))await pauseBot(config[_0x1b8e3a(0xf5)]+_0x1b8e3a(0x13c));else{if(_0xb05353[_0x1b8e3a(0xeb)]()[_0x1b8e3a(0x135)](_0x1b8e3a(0x10a)))logHistory('error',_0x245095+'\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x1b8e3a(0xca),_0x1b8e3a(0x1ac)),await killBot();else{if(_0xb05353[_0x1b8e3a(0xeb)]()[_0x1b8e3a(0x135)](_0x1b8e3a(0x1fb)))logHistory(_0x1b8e3a(0xca),_0x245095+_0x1b8e3a(0x173)),logHistory(_0x1b8e3a(0xca),_0x1b8e3a(0x1ac)),await killBot();else{if(_0xb05353[_0x1b8e3a(0xeb)]()[_0x1b8e3a(0x135)](_0x1b8e3a(0x1d8)))logHistory('error',_0x245095+_0x1b8e3a(0xd4)+config['exchange']+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x1b8e3a(0xca),_0x1b8e3a(0x1ac)),await killBot();else{if(_0xb05353['toString']()['includes'](_0x1b8e3a(0xae)))logHistory(_0x1b8e3a(0xca),_0x245095+_0x1b8e3a(0xd4)+config['exchange']+_0x1b8e3a(0x16c)),logHistory('error',_0x1b8e3a(0x1ac)),await killBot();else{if(_0xb05353['toString']()['includes'](_0x1b8e3a(0x202)))logHistory(_0x1b8e3a(0xca),_0x245095+_0x1b8e3a(0xd4)+config[_0x1b8e3a(0xf5)]+_0x1b8e3a(0x151)),logHistory(_0x1b8e3a(0xca),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0xb05353['toString']()[_0x1b8e3a(0x135)](_0x1b8e3a(0xd8))?logHistory(_0x1b8e3a(0xca),_0x245095+_0x1b8e3a(0x184)+_0x106f64):(logger[_0x1b8e3a(0x20b)](_0x245095+_0x1b8e3a(0x126),_0xb05353),await pauseBot(_0x1b8e3a(0x163)));}}}}}}}}}function formatResult(_0x3d8b6c,_0x8d9f0a){const _0x356ac0=_0xd20222;return parseFloat(_0x3d8b6c[_0x356ac0(0x13f)](_0x8d9f0a));}function formatResultTruncate(_0x39e53a,_0x1df008){const _0x4be457=_0xd20222;let _0x3d2c01=formatResultString(_0x39e53a,0xa),_0x376367=_0x3d2c01[_0x4be457(0x15c)]('.');return _0x376367!=-0x1&&(_0x3d2c01=_0x3d2c01[_0x4be457(0x1c0)](0x0,_0x376367+_0x1df008+0x1)),Number(_0x3d2c01);}function formatResultString(_0x6191c3,_0x56e281){const _0x9cf0da=_0xd20222;let _0x4e13ed;if(!(''+_0x6191c3)[_0x9cf0da(0x135)]('e'))_0x4e13ed=+(Math[_0x9cf0da(0x11b)](_0x6191c3+'e+'+_0x56e281)+'e-'+_0x56e281);else{let _0x143b0a=(''+_0x6191c3)[_0x9cf0da(0x11e)]('e'),_0x5c963d='';+_0x143b0a[0x1]+_0x56e281>0x0&&(_0x5c963d='+'),_0x4e13ed=+(Math[_0x9cf0da(0x11b)](+_0x143b0a[0x0]+'e'+_0x5c963d+(+_0x143b0a[0x1]+_0x56e281))+'e-'+_0x56e281);}return Number(_0x4e13ed)[_0x9cf0da(0x13f)](_0x56e281);}function getServerTime(){const _0x3bf562=_0xd20222,_0x3e18eb=new Date();return _0x3e18eb[_0x3bf562(0x1c3)]()+'/'+(_0x3e18eb[_0x3bf562(0x13e)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x3e18eb[_0x3bf562(0x183)]()[_0x3bf562(0xeb)]()[_0x3bf562(0x10d)](0x2,'0')+'\x20'+_0x3e18eb[_0x3bf562(0xda)]()['toString']()[_0x3bf562(0x10d)](0x2,'0')+':'+_0x3e18eb[_0x3bf562(0x107)]()['toString']()[_0x3bf562(0x10d)](0x2,'0')+':'+_0x3e18eb[_0x3bf562(0xa4)]()[_0x3bf562(0xeb)]()[_0x3bf562(0x10d)](0x2,'0');}function getTimeStamp(){const _0x4b8548=_0xd20222,_0x17711b=shiftedTime();return _0x17711b[_0x4b8548(0x1c3)]()+'/'+(_0x17711b[_0x4b8548(0x13e)]()+0x1)['toString']()[_0x4b8548(0x10d)](0x2,'0')+'/'+_0x17711b['getDate']()[_0x4b8548(0xeb)]()['padStart'](0x2,'0')+'\x20'+_0x17711b[_0x4b8548(0xda)]()['toString']()[_0x4b8548(0x10d)](0x2,'0')+':'+_0x17711b[_0x4b8548(0x107)]()[_0x4b8548(0xeb)]()[_0x4b8548(0x10d)](0x2,'0')+':'+_0x17711b[_0x4b8548(0xa4)]()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x1bf2c5=_0xd20222,_0x14df9f=shiftedTime();return _0x14df9f[_0x1bf2c5(0x1c3)]()+'/'+(_0x14df9f[_0x1bf2c5(0x13e)]()+0x1)[_0x1bf2c5(0xeb)]()[_0x1bf2c5(0x10d)](0x2,'0')+'/'+_0x14df9f['getDate']()[_0x1bf2c5(0xeb)]()[_0x1bf2c5(0x10d)](0x2,'0');}function getHour(){const _0x3bf692=_0xd20222,_0x80fe2=shiftedTime();return _0x80fe2['getHours']()[_0x3bf692(0xeb)]()[_0x3bf692(0x10d)](0x2,'0');}function sleep(_0x11b8cc){return new Promise(_0x15e71c=>setTimeout(_0x15e71c,_0x11b8cc));}function shiftedTime(){const _0x4e1954=_0xd20222,_0x4f959f=new Date();let _0xb92086=_0x4f959f;if(config&&config['timeshift']!==0x0)_0xb92086=fns[_0x4e1954(0x139)](_0x4f959f,{'hours':config[_0x4e1954(0xbb)]});return _0xb92086;}function timer(_0x5f8eec){const _0x29e13c=_0xd20222,_0x39efcf=new Date();!lasttime?console['log'](getTimeStamp()+_0x29e13c(0x1b2),_0x5f8eec,_0x39efcf):console['log'](getTimeStamp()+_0x29e13c(0x1b2),_0x5f8eec,(_0x39efcf-lasttime)/0x3e8),lasttime=_0x39efcf;}