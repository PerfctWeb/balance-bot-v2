const _0x25b5c2=_0x4361;(function(_0x468b31,_0x4bbb90){const _0x3002e6=_0x4361,_0x2b7aec=_0x468b31();while(!![]){try{const _0xdeacf6=-parseInt(_0x3002e6(0x1ac))/0x1*(-parseInt(_0x3002e6(0xc8))/0x2)+-parseInt(_0x3002e6(0x104))/0x3+-parseInt(_0x3002e6(0x18a))/0x4+parseInt(_0x3002e6(0x196))/0x5+-parseInt(_0x3002e6(0xde))/0x6+parseInt(_0x3002e6(0x12d))/0x7*(parseInt(_0x3002e6(0xe7))/0x8)+parseInt(_0x3002e6(0x10c))/0x9*(parseInt(_0x3002e6(0xce))/0xa);if(_0xdeacf6===_0x4bbb90)break;else _0x2b7aec['push'](_0x2b7aec['shift']());}catch(_0x556e92){_0x2b7aec['push'](_0x2b7aec['shift']());}}}(_0x3604,0xc465d));const _0x2ac2aa=function(){let _0x2262d1=!![];return function(_0x6c640f,_0x6d2ade){const _0x201ca0=_0x2262d1?function(){const _0x596d50=_0x4361;if(_0x6d2ade){const _0x11a707=_0x6d2ade[_0x596d50(0xeb)](_0x6c640f,arguments);return _0x6d2ade=null,_0x11a707;}}:function(){};return _0x2262d1=![],_0x201ca0;};}(),_0x5af1fe=_0x2ac2aa(this,function(){const _0xc8642f=_0x4361;return _0x5af1fe[_0xc8642f(0x11b)]()[_0xc8642f(0x137)]('(((.+)+)+)+$')[_0xc8642f(0x11b)]()['constructor'](_0x5af1fe)[_0xc8642f(0x137)](_0xc8642f(0x1a9));});_0x5af1fe();'use strict';const ccxt=require(_0x25b5c2(0x10b)),low=require('lowdb'),FileSync=require(_0x25b5c2(0x175)),fs=require('fs'),fns=require(_0x25b5c2(0x100)),{WebsocketClient,DefaultLogger}=require(_0x25b5c2(0x1a8)),Crypt=require(_0x25b5c2(0xd1))[_0x25b5c2(0x171)];let exchange,wsClient;global[_0x25b5c2(0xda)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![];const serverversion=require(_0x25b5c2(0x168))[_0x25b5c2(0xcc)],botID=process[_0x25b5c2(0x147)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x25b5c2(0x188)](botID))return console[_0x25b5c2(0x18d)](_0x25b5c2(0xf7)+botID+_0x25b5c2(0x10a)),process['exit'](0x1);const configpath=_0x25b5c2(0xae);!fs['existsSync'](configpath)&&fs[_0x25b5c2(0x155)](configpath);const configfile=configpath+'bot-'+botID+_0x25b5c2(0x166),logfile=configpath+_0x25b5c2(0x11c)+botID+_0x25b5c2(0x148),performancefile=configpath+_0x25b5c2(0x11c)+botID+_0x25b5c2(0x173),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x25b5c2(0x122),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x25b5c2(0x130)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x25b5c2(0x130)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x25b5c2(0xc6),'symbol':'BTC/EUR'},'usd':{'coin':_0x25b5c2(0x142),'symbol':_0x25b5c2(0xb0)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x3d5982)=>{},'debug':(..._0x18fc7d)=>{},'notice':(..._0x3406eb)=>{},'info':(..._0x491afe)=>{},'warning':(..._0x18f1cb)=>{},'error':async function(..._0x144c07){const _0x2e59f5=_0x25b5c2,_0x574447=new Date()[_0x2e59f5(0x153)]();if(!lastErrorShown||_0x574447-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x2e59f5(0x153)](),logHistory(_0x2e59f5(0x19e),_0x2e59f5(0xfb)+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available');let _0x6110d6='';if(_0x144c07[0x0])_0x6110d6+=_0x144c07[0x0];if(_0x144c07[0x1]&&_0x144c07[0x1][_0x2e59f5(0x19e)]&&_0x144c07[0x1][_0x2e59f5(0x19e)][_0x2e59f5(0x180)])_0x6110d6+='\x20-\x20'+_0x144c07[0x1][_0x2e59f5(0x19e)][_0x2e59f5(0x180)];logging(_0x2e59f5(0xfb)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x6110d6),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x25b5c2(0x114),'rsaStandard':_0x25b5c2(0xd7)});let settings=getSettings(),secure=getSecure();function _0x3604(){const _0x3b2753=['coin','search','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','parse','starting-balances','find','assign','EUR','\x20minutes\x20-\x20balancing\x20resumed','Order\x20amount\x20is\x20invalid:\x20','secure','limits','BTCUSDT','Limit\x20(low-margin)','excluded','wsKey','wss://stream.binance.com:9443','argv','-events.json','timeout','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Order(s)\x20validated\x20-\x20balancing\x20resumed','InsufficientFunds','side','closeWs','BNB','binanceus','eventType','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','getTime','differenceInSeconds','mkdirSync','getMinutes','limit-low','bid','differenceInCalendarDays','asset','DDoSProtection','min','date','fee','BTCBUSD','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','valid','delta','\x20orders\x20in\x20less\x20than\x20','LIMIT','OrderNotFound','-config.json','cost','./version.json','\x20>\x20','ordertype','args','showname','limit-high','running','trade','Order:\x20','Crypt','getSeconds','-performance.json','round','lowdb/adapters/FileSync','toFixed','Pausing\x20bot\x20for\x205\x20minutes\x20(','currency','yyyy-MM-dd\x27T\x27HH:mm:ss','USDC','Market','MIN_NOTIONAL','fromCodePoint','portfolio','Binance\x20API\x20secret\x20is\x20invalid','message','startdate','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','realized','\x20hour','RequestTimeout','shift','Invalid\x20quantity','test','InvalidNonce','3800216LValkw','limit','distribution','log','total','balances','padStart','availableBalance','recreateHistory()','event','forEach','getCoins()','3218300jlIMPM','yyyy/MM/dd\x20HH:mm:ss','amount','coinamount','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','decrypt','initclient','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','error','orderType','startprice','fetchOrders','getPortfolio()','order','getPortfolio','loadSymbols()','configuration-stored','fetchOHLCV','binance','(((.+)+)+)+$','logs','get','275BkVWVZ','stringify','placeOrder','getDate','parseISO','sortBy','./config/','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','BTC/USDT','startnumber','************','recreate','\x20order:\x20','restart','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','time','includes','subscribeSpotKline','getFiat()','getCloses()','usd','target','event-history','Order\x20filled:\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','placeOrder()','privateKey','emojibuy','last','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','BTCEUR','filter','8266TZRYgO','sort','split','yyyy/MM/dd','version','orderId','1590oThKXI','accumulatedQuantity','buys','hybrid-crypto-js','reduce','toLowerCase','page','number','Order(s)\x20not\x20validated\x20after\x20','RSA-OAEP','storeConfiguration','configuration','ticker','entries','FILLED','timestamp','8543568kzuBVn','breakeven','market','reverse','\x20|\x20Unknown\x20error\x20occured','length','apiSecret','DAI/','USDT','424VXPOua','eur','bot','price','apply','Bot\x20','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','coins','push','symbol','BTC','isArray',':\x20Bot\x20','slice','enabled','basecoin','Error:\x20Invalid\x20argument\x20','value','threshold','cooldown','WebSockets(','data','write','orderStatus','botname','date-fns','fetchTickers','exchange','BUSD','655560wOstfJ','datetime','fetchBalance','kill','sells','keys',',\x20must\x20be\x20a\x203\x20digit\x20number','ccxt','91467KKytDZ','Binance\x20API\x20key\x20is\x20invalid','milliseconds','sell','spot','timeshift','format','getMonth','sha256','BTC/BUSD','apiKey','ask','Limit\x20(high-margin)','buy','\x20|\x20Error\x20details:\x20','toString','bot-','send','has','cancelOrder','emojisell','Order(s)\x20filled\x20-\x20balancing\x20resumed','bb-secure.json','ExchangeNotAvailable','AuthenticationError','getHours','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','settings','type','success','filled','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','API-key\x20format\x20invalid','105XZnLOF','outboundAccountPosition','replace','defaults','map','remove','headless','kline','abs'];_0x3604=function(){return _0x3b2753;};return _0x3604();}config=getConfiguration(botID);settings[_0x25b5c2(0x111)]!=config[_0x25b5c2(0x111)]&&updateTimeshift(settings[_0x25b5c2(0x111)]);process[_0x25b5c2(0x11d)]({'started':_0x25b5c2(0x16e)}),initializeProcessListeners();function proxyEmit(_0x386cfb,_0x213655=null){process['send']({'function':_0x386cfb,'args':_0x213655});}function initializeProcessListeners(){const _0x550bba=_0x25b5c2;process['on'](_0x550bba(0x180),_0x226b9c=>{const _0x39b334=_0x550bba;switch(Object[_0x39b334(0x109)](_0x226b9c)[0x0]){case _0x39b334(0x111):_0x226b9c[_0x39b334(0x111)]!=undefined&&(settings[_0x39b334(0x111)]=_0x226b9c[_0x39b334(0x111)],updateTimeshift(settings[_0x39b334(0x111)]));break;case'function':switch(_0x226b9c['function']){case _0x39b334(0x19c):initclient();break;case'emitHistory':emitHistory(_0x226b9c[_0x39b334(0x16b)]);break;case _0x39b334(0x1a4):getPortfolio(_0x226b9c[_0x39b334(0x16b)]);break;case _0x39b334(0xd8):storeConfiguration(_0x226b9c[_0x39b334(0x16b)]);break;case'storeHeadless':storeHeadless(_0x226b9c[_0x39b334(0x16b)]);break;case'getStartingBalances':getStartingBalances();break;case _0x39b334(0x1ae):placeOrder(_0x226b9c[_0x39b334(0x16b)]);break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x32a757=_0x25b5c2;if(pidBalances)clearTimeout(pidBalances);if(config[_0x32a757(0x116)]!=''){await initExchange(config['apiKey'],config[_0x32a757(0xe4)]);let _0x58ff0d=await loadSymbols();_0x58ff0d&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x40b5b2,_0x563709){const _0x5d8b1f=_0x25b5c2,_0x3527a2=ccxt[config['exchange']];let _0x5739fa;switch(config[_0x5d8b1f(0x102)]){case'binance':_0x5739fa=_0x5d8b1f(0x146);break;case _0x5d8b1f(0x150):_0x5739fa='wss://stream.binance.us:9443';break;default:_0x5739fa='wss://stream.binance.com:9443';}exchange=new _0x3527a2({'apiKey':_0x40b5b2,'secret':_0x563709,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x40b5b2,'api_secret':_0x563709,'beautify':!![],'wsUrl':_0x5739fa},logger),config[_0x5d8b1f(0x102)]==_0x5d8b1f(0x150)&&(stablecoins={'eur':{'coin':_0x5d8b1f(0x15f),'symbol':_0x5d8b1f(0x115)},'usd':{'coin':_0x5d8b1f(0x142),'symbol':_0x5d8b1f(0xb0)}});}async function loadSymbols(){const _0x5adb7e=_0x25b5c2;let _0x4087ac;try{markets=await exchange['loadMarkets'](),allSymbols=exchange['symbols'][_0x5adb7e(0xc7)](_0x59612a=>{const _0x4ecab9=_0x5adb7e;return!_0x59612a['includes'](_0x4ecab9(0xe5));}),_0x4087ac=!![];}catch(_0x1731f4){await handleError(_0x1731f4,_0x5adb7e(0x1a5)),_0x4087ac=![];}return _0x4087ac;}async function initbot(){const _0x342322=_0x25b5c2;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x468821=dbCoinResults['get'](_0x342322(0xee))['value']();if(_0x468821[_0x342322(0xe3)]==0x0)await resetCoinResults();}async function initclient(){const _0x5ad7e7=_0x25b5c2;proxyEmit(_0x5ad7e7(0xd9),emittedConfiguration());while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x1fa991=_0x25b5c2;wsinitialized=![];ws1&&(ws1['forEach'](_0x4af91c=>{const _0x5d8d3b=_0x4361;try{wsClient[_0x5d8d3b(0x14e)](_0x4af91c);}catch(_0x1f1534){}}),ws1=[]);if(ws2){try{wsClient[_0x1fa991(0x14e)](ws2);}catch(_0x1571bf){}ws2=null;}}async function initws(){const _0x520dac=_0x25b5c2;cleanws();let _0x92338f=[];currentCoins['forEach'](_0xa45497=>{const _0x3dc993=_0x4361;if(_0xa45497[_0x3dc993(0x136)]!=config['basecoin'])_0x92338f['push'](noslash(_0xa45497['symbol']));});if(!_0x92338f['includes'](stablecoins[_0x520dac(0xe8)][_0x520dac(0x136)]))_0x92338f['push'](stablecoins['eur'][_0x520dac(0x136)]);if(!_0x92338f[_0x520dac(0xb8)](stablecoins[_0x520dac(0xbc)]['coin']))_0x92338f[_0x520dac(0xef)](stablecoins['usd'][_0x520dac(0x136)]);if(!_0x92338f['includes'](_0x520dac(0x14f)+config[_0x520dac(0xf6)]))_0x92338f[_0x520dac(0xef)](_0x520dac(0x14f)+config['basecoin']);try{_0x92338f['forEach']((_0x55b792,_0x3183d0)=>{const _0x22c343=_0x520dac;ws1[_0x3183d0]=wsClient[_0x22c343(0xb9)](_0x55b792,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on']('formattedMessage',_0x1d1bf5=>{const _0x2ac646=_0x520dac;if(!Array['isArray'](_0x1d1bf5)&&!_0x1d1bf5[_0x2ac646(0x145)]['includes']('userData')){if(_0x1d1bf5[_0x2ac646(0x151)]===_0x2ac646(0x134)){global['ticker'][_0x1d1bf5[_0x2ac646(0x134)][_0x2ac646(0xf0)]]=_0x1d1bf5[_0x2ac646(0x134)]['close'];return;}}else{if(!Array[_0x2ac646(0xf2)](_0x1d1bf5)&&_0x1d1bf5[_0x2ac646(0x145)][_0x2ac646(0xb8)]('userData')){if(_0x1d1bf5['wsMarket']['includes'](_0x2ac646(0x110))){updateNumberCoins(_0x1d1bf5);return;}}}}),wsClient['on']('reconnected',async _0x1a37d3=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x1fdf79){await handleError(_0x1fdf79,'initws()');}let _0x13802c;while(_0x13802c!=currentCoins['length']-0x1){_0x13802c=0x0,currentCoins[_0x520dac(0x194)](_0x54d0a6=>{const _0xfbceda=_0x520dac;if(_0x54d0a6[_0xfbceda(0x136)]!=config['basecoin']&&global[_0xfbceda(0xda)][noslash(_0x54d0a6[_0xfbceda(0xf0)])])_0x13802c++;});let _0x42b7fd=Math[_0x520dac(0x174)](_0x13802c/(currentCoins[_0x520dac(0xe3)]-0x1)*0x64);proxyEmit('coin-loading-progress',_0x42b7fd),await sleep(0xc8);}wsinitialized=!![];}async function getFiat(){const _0x167470=_0x25b5c2;let _0x369af9=0x0,_0x21cf8f=0x0;try{_0x369af9=global[_0x167470(0xda)][stablecoins[_0x167470(0xe8)][_0x167470(0x136)]],_0x21cf8f=global[_0x167470(0xda)][stablecoins[_0x167470(0xbc)][_0x167470(0x136)]];}catch(_0x35bcb3){await handleError(_0x35bcb3,_0x167470(0xba));}return{'eur':Number(_0x369af9),'usd':Number(_0x21cf8f)};}async function setStartDatePerformance(_0x3fd068){const _0x48d7d3=_0x25b5c2,_0x68c3ca=fns[_0x48d7d3(0x112)](new Date(_0x3fd068['startdate']),_0x48d7d3(0xcb));let _0x20bb63=[];_0x20bb63[stablecoins[_0x48d7d3(0xe8)][_0x48d7d3(0x136)]]=await getCloses(stablecoins[_0x48d7d3(0xe8)][_0x48d7d3(0xf0)],new Date(_0x3fd068[_0x48d7d3(0x181)]),0x1),_0x20bb63[stablecoins[_0x48d7d3(0xbc)][_0x48d7d3(0x136)]]=await getCloses(stablecoins[_0x48d7d3(0xbc)][_0x48d7d3(0xf0)],new Date(_0x3fd068[_0x48d7d3(0x181)]),0x1);let _0x314207,_0xbff7ed=[];_0x3fd068[_0x48d7d3(0x17e)][_0x48d7d3(0x194)](_0x4eafa9=>{const _0x3806ef=_0x48d7d3;!_0x4eafa9['excluded']&&_0xbff7ed['push']({'coin':_0x4eafa9[_0x3806ef(0x136)],'number':_0x4eafa9[_0x3806ef(0xb1)],'price':_0x4eafa9['startprice']});}),_0x314207={'date':_0x68c3ca,'eur':_0x20bb63[stablecoins[_0x48d7d3(0xe8)][_0x48d7d3(0x136)]][0x0],'usd':_0x20bb63[stablecoins[_0x48d7d3(0xbc)][_0x48d7d3(0x136)]][0x0],'coins':_0xbff7ed};let _0x48353b=dbPerformance[_0x48d7d3(0x1ab)](_0x48d7d3(0xfc))[_0x48d7d3(0x13b)]({'date':_0x68c3ca})[_0x48d7d3(0xf8)]();_0x48353b?dbPerformance[_0x48d7d3(0x1ab)]('data')[_0x48d7d3(0x13b)]({'date':_0x68c3ca})[_0x48d7d3(0x13c)](_0x314207)[_0x48d7d3(0xfd)]():dbPerformance[_0x48d7d3(0x1ab)](_0x48d7d3(0xfc))['push'](_0x314207)[_0x48d7d3(0xfd)](),_0x48353b=dbPerformance['get'](_0x48d7d3(0xfc))[_0x48d7d3(0xad)](_0x48d7d3(0x15d))[_0x48d7d3(0xf8)](),_0x48353b[_0x48d7d3(0x194)](_0x47e0a7=>{const _0x2de80b=_0x48d7d3;_0x47e0a7[_0x2de80b(0x15d)]<_0x68c3ca&&dbPerformance[_0x2de80b(0x1ab)](_0x2de80b(0xfc))[_0x2de80b(0x132)]({'date':_0x47e0a7['date']})[_0x2de80b(0xfd)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x14feee){const _0x510644=_0x25b5c2;let _0x156bfd,_0x4b9704=[];logHistory('success','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0x14feee[_0x510644(0x17e)][_0x510644(0x194)](_0x244e15=>{const _0x2ddad4=_0x510644;if(_0x244e15[_0x2ddad4(0x136)]!=config[_0x2ddad4(0xf6)]&&!_0x244e15[_0x2ddad4(0x144)])_0x4b9704['push']({'coin':_0x244e15[_0x2ddad4(0x136)],'symbol':_0x244e15[_0x2ddad4(0xf0)]});});let _0x1afcae=[];try{const _0x55431c=fns['format'](fns[_0x510644(0x1b0)](_0x14feee[_0x510644(0x181)][_0x510644(0x12f)](/\//g,'-')),_0x510644(0x179));for(const _0x546d44 of _0x4b9704){if(_0x546d44['coin']!=config['basecoin'])_0x156bfd=await exchange[_0x510644(0x1a1)](_0x546d44[_0x510644(0xf0)],Date['parse'](_0x55431c));_0x156bfd[_0x510644(0x194)](_0x1ec7aa=>{const _0x1c47ca=_0x510644,_0x2cff23=_0x546d44[_0x1c47ca(0xf0)][_0x1c47ca(0xb8)](config[_0x1c47ca(0xf6)]+'/'),_0x4ddf8b=fns[_0x1c47ca(0x112)](fns['parseISO'](_0x1ec7aa['datetime']),_0x1c47ca(0x197)),_0x279a95=fns[_0x1c47ca(0x112)](fns[_0x1c47ca(0x1b0)](_0x1ec7aa[_0x1c47ca(0x105)]),_0x1c47ca(0xcb));let _0x5ecbb9;if(_0x1ec7aa[_0x1c47ca(0x14d)]==_0x1c47ca(0x119)&&_0x2cff23==![])_0x5ecbb9=_0x1ec7aa[_0x1c47ca(0x198)];if(_0x1ec7aa[_0x1c47ca(0x14d)]==_0x1c47ca(0x119)&&_0x2cff23==!![])_0x5ecbb9=-_0x1ec7aa['amount']*_0x1ec7aa[_0x1c47ca(0xea)];if(_0x1ec7aa[_0x1c47ca(0x14d)]=='sell'&&_0x2cff23==![])_0x5ecbb9=-_0x1ec7aa[_0x1c47ca(0x198)];if(_0x1ec7aa[_0x1c47ca(0x14d)]==_0x1c47ca(0x10f)&&_0x2cff23==!![])_0x5ecbb9=_0x1ec7aa[_0x1c47ca(0x198)]*_0x1ec7aa[_0x1c47ca(0xea)];_0x1afcae[_0x1c47ca(0xef)]({'timestamp':_0x4ddf8b,'date':_0x279a95,'coin':_0x546d44['coin'],'symbol':_0x546d44[_0x1c47ca(0xf0)],'type':_0x1ec7aa[_0x1c47ca(0x128)],'side':_0x1ec7aa[_0x1c47ca(0x14d)],'reverse':_0x2cff23,'amount':formatResult(_0x1ec7aa['filled'],0x8),'filled':formatResult(_0x1ec7aa['filled'],0x8),'coinamount':formatResult(_0x5ecbb9,0x8),'price':formatResult(_0x1ec7aa[_0x1c47ca(0xea)],0x8)});let _0x46ab0f;if(_0x1ec7aa[_0x1c47ca(0x14d)]==_0x1c47ca(0x119)&&_0x2cff23==![])_0x46ab0f=-_0x1ec7aa[_0x1c47ca(0x198)]*_0x1ec7aa['price'];if(_0x1ec7aa[_0x1c47ca(0x14d)]=='buy'&&_0x2cff23==!![])_0x46ab0f=_0x1ec7aa[_0x1c47ca(0x198)];if(_0x1ec7aa[_0x1c47ca(0x14d)]==_0x1c47ca(0x10f)&&_0x2cff23==![])_0x46ab0f=_0x1ec7aa[_0x1c47ca(0x198)]*_0x1ec7aa[_0x1c47ca(0xea)];if(_0x1ec7aa[_0x1c47ca(0x14d)]==_0x1c47ca(0x10f)&&_0x2cff23==!![])_0x46ab0f=-_0x1ec7aa['amount'];_0x1afcae[_0x1c47ca(0xef)]({'date':_0x279a95,'coin':config[_0x1c47ca(0xf6)],'coinamount':formatResult(_0x46ab0f,0x8)});});}_0x1afcae[_0x510644(0xc9)]((_0x2a690e,_0x3f66e6)=>_0x2a690e[_0x510644(0xdd)]>_0x3f66e6[_0x510644(0xdd)]?0x1:_0x3f66e6['timestamp']>_0x2a690e[_0x510644(0xdd)]?-0x1:0x0),dbLogs['get'](_0x510644(0x1aa))[_0x510644(0x132)]()['write'](),_0x1afcae[_0x510644(0x194)](_0x11583d=>{const _0x584207=_0x510644;let _0x30de11;_0x11583d[_0x584207(0x136)]!=config[_0x584207(0xf6)]&&(_0x30de11={'time':_0x11583d[_0x584207(0xdd)],'type':_0x584207(0x1a3),'event':_0x584207(0x170)+_0x11583d[_0x584207(0xf0)]+'\x20'+_0x11583d[_0x584207(0x14d)]+'\x20#'+_0x11583d[_0x584207(0x198)]+'\x20@'+_0x11583d['price']},dbLogs['get'](_0x584207(0x1aa))[_0x584207(0xef)](_0x30de11)['write']());});const _0x223d81=fns['eachDayOfInterval']({'start':new Date(_0x14feee['startdate']),'end':new Date()})[_0x510644(0x131)](_0x541186=>fns[_0x510644(0x112)](_0x541186,_0x510644(0xcb)));let _0x21dbf0=[];_0x14feee[_0x510644(0x17e)][_0x510644(0x194)](_0x151ca1=>{const _0x40e19c=_0x510644;if(!_0x151ca1[_0x40e19c(0x144)]){_0x21dbf0[_0x151ca1[_0x40e19c(0x136)]]=[];let _0x37be6f=_0x151ca1[_0x40e19c(0xb1)];_0x223d81[_0x40e19c(0x194)]((_0x5d4f3e,_0x5adebf)=>{const _0x41eafe=_0x40e19c;let _0x33300d=_0x1afcae[_0x41eafe(0xc7)](_0x44a978=>_0x44a978[_0x41eafe(0x136)]==_0x151ca1[_0x41eafe(0x136)]&&_0x44a978[_0x41eafe(0x15d)]==_0x5d4f3e);if(_0x33300d[_0x41eafe(0xe3)]!=0x0){let _0x40e034=_0x33300d[_0x41eafe(0xd2)]((_0x59de85,_0x262d72)=>{const _0x4cc504=_0x41eafe;return _0x59de85+=_0x262d72[_0x4cc504(0x199)],_0x59de85;},0x0);_0x37be6f+=_0x40e034;}_0x21dbf0[_0x151ca1['coin']][_0x5d4f3e]=_0x37be6f;});}});const _0x394d72=[..._0x4b9704];_0x394d72['push']({'coin':stablecoins[_0x510644(0xe8)][_0x510644(0x136)],'symbol':stablecoins[_0x510644(0xe8)][_0x510644(0xf0)]}),_0x394d72['push']({'coin':stablecoins[_0x510644(0xbc)][_0x510644(0x136)],'symbol':stablecoins['usd']['symbol']});let _0x54cf15=[];for(const _0x5211dc of _0x394d72){_0x54cf15[_0x5211dc[_0x510644(0x136)]]=await getCloses(_0x5211dc['symbol'],new Date(_0x14feee[_0x510644(0x181)]));}dbPerformance['get'](_0x510644(0xfc))[_0x510644(0x132)]()[_0x510644(0xfd)](),_0x223d81[_0x510644(0x194)]((_0x6659ca,_0x5ac551)=>{const _0xae957f=_0x510644;let _0x493b3a,_0x7973d3=[];_0x5ac551==0x0?(_0x14feee[_0xae957f(0x17e)][_0xae957f(0x194)](_0x548e55=>{const _0x52869c=_0xae957f;!_0x548e55[_0x52869c(0x144)]&&_0x7973d3['push']({'coin':_0x548e55['coin'],'number':_0x548e55[_0x52869c(0xb1)],'price':_0x548e55['startprice']});}),_0x493b3a={'date':_0x6659ca,'eur':_0x54cf15[stablecoins[_0xae957f(0xe8)]['coin']][_0x5ac551],'usd':_0x54cf15[stablecoins['usd']['coin']][_0x5ac551],'coins':_0x7973d3}):(_0x14feee['portfolio'][_0xae957f(0x194)](_0x288d5c=>{const _0x548e63=_0xae957f;!_0x288d5c[_0x548e63(0x144)]&&_0x7973d3[_0x548e63(0xef)]({'coin':_0x288d5c['coin'],'number':_0x21dbf0[_0x288d5c['coin']][_0x6659ca],'price':_0x288d5c[_0x548e63(0x136)]==config[_0x548e63(0xf6)]?0x1:_0x54cf15[_0x288d5c[_0x548e63(0x136)]][_0x5ac551]});}),_0x493b3a={'date':_0x6659ca,'eur':_0x54cf15[stablecoins['eur'][_0xae957f(0x136)]][_0x5ac551],'usd':_0x54cf15[stablecoins['usd']['coin']][_0x5ac551],'coins':_0x7973d3}),dbPerformance[_0xae957f(0x1ab)](_0xae957f(0xfc))[_0xae957f(0xef)](_0x493b3a)['write']();}),emitPerformance(),await resetCoinResults();for(let _0x3a1868 of _0x1afcae){_0x3a1868[_0x510644(0x136)]!=config[_0x510644(0xf6)]&&await updateCoinResults(_0x3a1868);}logHistory('success','Performance\x20recreation\x20completed\x20successfully');}catch(_0x66836c){await handleError(_0x66836c,_0x510644(0x192));}}async function getCloses(_0x4b4211,_0xcac24d,_0x1f2e0f=undefined){const _0x1b7423=_0x25b5c2,_0x4b2266='1d';let _0x39fe14,_0x585215;const _0x247f65=fns[_0x1b7423(0x159)](new Date(),_0xcac24d)+0x1;try{const _0x33e4c1=exchange[_0x1b7423(0x10e)]()-_0x247f65*0x18*0xe10*0x3e8;_0x39fe14=await exchange[_0x1b7423(0x1a7)](_0x4b4211,_0x4b2266,_0x33e4c1,_0x1f2e0f),_0x585215=await exchange[_0x1b7423(0x101)](_0x4b4211);}catch(_0x383782){await handleError(_0x383782,_0x1b7423(0xbb));}let _0x4ef4d1=ohlcvToCloses(_0x39fe14);return _0x4ef4d1[_0x1b7423(0xef)](_0x585215[_0x4b4211][_0x1b7423(0xc4)]),_0x4ef4d1;}function ohlcvToCloses(_0x5f2d2e){const _0x2528df=_0x25b5c2;let _0x4a8114=[];return _0x5f2d2e[_0x2528df(0x194)](function(_0x2b2316){const _0x50b7ed=_0x2528df;_0x4a8114[_0x50b7ed(0xef)](_0x2b2316[0x4]);}),_0x4a8114;}function getConfiguration(_0x2ac8fe){const _0x5f220d=_0x25b5c2;let _0x45e5c9=dbConfig[_0x5f220d(0x1ab)](_0x5f220d(0xe9))[_0x5f220d(0x13b)]({'botID':_0x2ac8fe})[_0x5f220d(0xf8)]();if(_0x45e5c9){let _0x162bb9=![];!_0x45e5c9[_0x5f220d(0x102)]&&(_0x45e5c9={..._0x45e5c9,'exchange':_0x5f220d(0x1a8)},_0x162bb9=!![]),!_0x45e5c9[_0x5f220d(0xf6)]&&(_0x45e5c9={..._0x45e5c9,'basecoin':_0x5f220d(0xf1)},_0x162bb9=!![]),!_0x45e5c9[_0x5f220d(0x16a)]&&(_0x45e5c9={..._0x45e5c9,'ordertype':_0x5f220d(0xe0)},_0x162bb9=!![]),!_0x45e5c9[_0x5f220d(0x149)]&&(_0x45e5c9={..._0x45e5c9,'timeout':0x14},_0x162bb9=!![]),!_0x45e5c9['emojibuy']&&(_0x45e5c9={..._0x45e5c9,'emojibuy':''},_0x162bb9=!![]),!_0x45e5c9['emojisell']&&(_0x45e5c9={..._0x45e5c9,'emojisell':''},_0x162bb9=!![]),!_0x45e5c9[_0x5f220d(0x16c)]&&(_0x45e5c9={..._0x45e5c9,'showname':![]},_0x162bb9=!![]),_0x162bb9&&(_0x45e5c9={'botID':_0x45e5c9['botID'],'exchange':_0x45e5c9[_0x5f220d(0x102)],'apiKey':_0x45e5c9['apiKey'],'apiSecret':_0x45e5c9[_0x5f220d(0xe4)],'basecoin':_0x45e5c9['basecoin'],'botname':_0x45e5c9[_0x5f220d(0xff)],'showname':_0x45e5c9[_0x5f220d(0x16c)],'threshold':_0x45e5c9[_0x5f220d(0xf9)],'ordertype':_0x45e5c9['ordertype'],'timeout':_0x45e5c9[_0x5f220d(0x149)],'startdate':_0x45e5c9['startdate'],'recreate':_0x45e5c9[_0x5f220d(0xb3)],'timeshift':_0x45e5c9[_0x5f220d(0x111)],'headless':_0x45e5c9[_0x5f220d(0x133)],'cooldown':_0x45e5c9[_0x5f220d(0xfa)],'emojibuy':_0x45e5c9[_0x5f220d(0xc3)],'emojisell':_0x45e5c9[_0x5f220d(0x120)],'portfolio':_0x45e5c9[_0x5f220d(0x17e)]},dbConfig['get'](_0x5f220d(0xe9))[_0x5f220d(0x132)]()[_0x5f220d(0xfd)](),dbConfig[_0x5f220d(0x1ab)](_0x5f220d(0xe9))['push'](_0x45e5c9)['write']());}else _0x45e5c9={'botID':_0x2ac8fe,'exchange':_0x5f220d(0x1a8),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x5f220d(0xec)+_0x2ac8fe,'showname':![],'threshold':'3','ordertype':_0x5f220d(0xe0),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x5f220d(0x111)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x45e5c9;}function emittedConfiguration(){const _0x206ad9=_0x25b5c2;let _0x594c00;return config[_0x206ad9(0x116)]==''?_0x594c00=config:_0x594c00={...config,'apiKey':_0x206ad9(0xb2),'apiSecret':_0x206ad9(0xb2)},_0x594c00;}function getSettings(){const _0x4f561d=_0x25b5c2;return dbSettings[_0x4f561d(0x1ab)](_0x4f561d(0x127))[_0x4f561d(0xf8)]();}function getSecure(){const _0x1c0139=_0x25b5c2;return dbSecure[_0x1c0139(0x1ab)](_0x1c0139(0x140))[_0x1c0139(0xf8)]()||{};}function updateTimeshift(_0xf57e02){const _0x42c174=_0x25b5c2;let _0x4296b3=dbConfig[_0x42c174(0x1ab)]('bot')['find']({'botID':botID})[_0x42c174(0xf8)]();_0x4296b3&&dbConfig['get'](_0x42c174(0xe9))[_0x42c174(0x13b)]({'botID':botID})[_0x42c174(0x13c)]({'timeshift':_0xf57e02})['write'](),config[_0x42c174(0x111)]=_0xf57e02,proxyEmit(_0x42c174(0xd9),emittedConfiguration());}async function storeConfiguration(_0x4475f8){const _0x3874c0=_0x25b5c2;let _0x5a8d8c=dbConfig[_0x3874c0(0x1ab)](_0x3874c0(0xe9))[_0x3874c0(0x13b)]({'botID':botID})[_0x3874c0(0xf8)]();_0x4475f8={..._0x4475f8,'apiKey':crypt[_0x3874c0(0x19b)](secure['privateKey'],_0x4475f8['apiKey'])[_0x3874c0(0x180)],'apiSecret':crypt[_0x3874c0(0x19b)](secure[_0x3874c0(0xc2)],_0x4475f8[_0x3874c0(0xe4)])[_0x3874c0(0x180)]};if(_0x5a8d8c){if(_0x4475f8[_0x3874c0(0x116)]==_0x3874c0(0xb2))_0x4475f8['apiKey']=config[_0x3874c0(0x116)];if(_0x4475f8['apiSecret']==_0x3874c0(0xb2))_0x4475f8[_0x3874c0(0xe4)]=config[_0x3874c0(0xe4)];dbConfig[_0x3874c0(0x1ab)]('bot')[_0x3874c0(0x13b)]({'botID':botID})[_0x3874c0(0x13c)](_0x4475f8)[_0x3874c0(0xfd)]();}else dbConfig['get']('bot')['push'](_0x4475f8)['write'](),process[_0x3874c0(0x11d)]({'status':_0x3874c0(0xf5),'live':_0x3874c0(0x16e)});config={..._0x4475f8};if(config['recreate'])await recreateHistory(config);else await setStartDatePerformance(config);process['send']({'botname':_0x4475f8[_0x3874c0(0xff)]}),proxyEmit(_0x3874c0(0x1a6)),reset();}async function storeHeadless(_0x523f43){const _0x3d0ebc=_0x25b5c2,_0x3e834d={...config,'headless':_0x523f43[_0x3d0ebc(0x133)]};let _0x652907=dbConfig[_0x3d0ebc(0x1ab)](_0x3d0ebc(0xe9))[_0x3d0ebc(0x13b)]({'botID':botID})['value']();_0x652907&&dbConfig[_0x3d0ebc(0x1ab)]('bot')[_0x3d0ebc(0x13b)]({'botID':botID})[_0x3d0ebc(0x13c)](_0x3e834d)['write'](),config={..._0x3e834d},proxyEmit(_0x3d0ebc(0xd9),emittedConfiguration());}function noslash(_0x44bcd3){const _0x105542=_0x25b5c2;return _0x44bcd3[_0x105542(0x12f)]('/','');}function updateNumberCoins(_0x14a0fa){const _0x3486c9=_0x25b5c2;_0x14a0fa[_0x3486c9(0x151)]&&_0x14a0fa[_0x3486c9(0x151)]==_0x3486c9(0x12e)&&_0x14a0fa['balances'][_0x3486c9(0x194)](_0x1a158a=>{const _0x1ade06=_0x3486c9;let _0x4527db=currentCoins['find'](_0x1aee5d=>_0x1aee5d[_0x1ade06(0x136)]==_0x1a158a[_0x1ade06(0x15a)]);if(_0x4527db)_0x4527db['number']=Number(_0x1a158a[_0x1ade06(0x191)]);});if(_0x14a0fa[_0x3486c9(0x151)]&&_0x14a0fa[_0x3486c9(0x151)]=='executionReport'){if(_0x14a0fa[_0x3486c9(0x19f)]==_0x3486c9(0x164)&&_0x14a0fa[_0x3486c9(0xfe)]==_0x3486c9(0xdc)){if(lastOrders)lastOrders[_0x3486c9(0x194)](_0x487f6b=>{const _0x5a2c1d=_0x3486c9;if(_0x487f6b[_0x5a2c1d(0xcd)]==_0x14a0fa[_0x5a2c1d(0xcd)]){if(_0x487f6b[_0x5a2c1d(0xe1)])_0x487f6b[_0x5a2c1d(0x12a)]=_0x14a0fa[_0x5a2c1d(0xcf)]*_0x487f6b[_0x5a2c1d(0xea)];else _0x487f6b[_0x5a2c1d(0x12a)]=_0x14a0fa[_0x5a2c1d(0xcf)];}});}}}async function getCoins(_0x3f5055=!![],_0x48e85f=config[_0x25b5c2(0xf6)]){const _0x4da732=_0x25b5c2;let _0x13fc41,_0x363a35=[],_0x514e1b=[],_0x48d5ea=[];try{_0x13fc41=await exchange[_0x4da732(0x106)](),mybalances=_0x13fc41[_0x4da732(0x18e)];if(!_0x3f5055)for(const [_0x4baa1b,_0x2b5c34]of Object['entries'](mybalances)){_0x48d5ea['push'](_0x4baa1b);}else config[_0x4da732(0x17e)][_0x4da732(0x194)](_0x52ef06=>{const _0x4ef331=_0x4da732;if(!_0x52ef06[_0x4ef331(0x144)])_0x48d5ea[_0x4ef331(0xef)](_0x52ef06[_0x4ef331(0x136)]);});if(_0x48e85f=='')for(const [_0x175a52,_0x2c6f9f]of Object['entries'](mybalances)){_0x2c6f9f[_0x4da732(0x11b)]()!=0x0&&_0x514e1b[_0x4da732(0xef)]({'coin':_0x175a52});}else for(const [_0x224e99,_0x2882a9]of Object[_0x4da732(0xdb)](mybalances)){if(_0x48d5ea[_0x4da732(0xb8)](_0x224e99)){if((_0x2882a9[_0x4da732(0x11b)]()!=0x0||config[_0x4da732(0x17e)][_0x4da732(0x13b)](_0x1d9c98=>_0x1d9c98[_0x4da732(0x136)]==_0x224e99))&&(allSymbols['includes'](_0x224e99+'/'+_0x48e85f)||_0x224e99==_0x48e85f))_0x514e1b[_0x4da732(0xef)]({'coin':_0x224e99,'symbol':_0x224e99+'/'+_0x48e85f,'reverse':![],'number':_0x2882a9}),_0x224e99!=_0x48e85f&&_0x363a35[_0x4da732(0xef)](_0x224e99+'/'+_0x48e85f);else(_0x2882a9[_0x4da732(0x11b)]()!=0x0||config[_0x4da732(0x17e)]['find'](_0x16cb7d=>_0x16cb7d['coin']==_0x224e99))&&allSymbols[_0x4da732(0xb8)](_0x48e85f+'/'+_0x224e99)&&(_0x514e1b[_0x4da732(0xef)]({'coin':_0x224e99,'symbol':_0x48e85f+'/'+_0x224e99,'reverse':!![],'number':_0x2882a9}),_0x224e99!=_0x48e85f&&_0x363a35[_0x4da732(0xef)](_0x48e85f+'/'+_0x224e99));}}}catch(_0x8b8f51){if(!_0x3f5055){if(_0x8b8f51[_0x4da732(0x11b)]()[_0x4da732(0xb8)](_0x4da732(0x12c)))return logHistory(_0x4da732(0x19e),_0x4da732(0x10d)),![];else{if(_0x8b8f51[_0x4da732(0x11b)]()['includes'](_0x4da732(0x124)))return logHistory(_0x4da732(0x19e),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x8b8f51[_0x4da732(0x11b)]()[_0x4da732(0xb8)](_0x4da732(0xaf)))return logHistory('error',_0x4da732(0x17f)),![];else await handleError(_0x8b8f51,_0x4da732(0x195));}}}else await handleError(_0x8b8f51,_0x4da732(0x195));}return _0x514e1b;}async function getPortfolio(_0x3c1010){const _0x31f03d=_0x25b5c2;let _0x4ff110=[],_0x4c5544=[],_0x515cea,_0x1e7055=[],_0x2e3253,_0x33a233;_0x3c1010[_0x31f03d(0x116)]===_0x31f03d(0xb2)||_0x3c1010[_0x31f03d(0xe4)]===_0x31f03d(0xb2)?(_0x2e3253=config[_0x31f03d(0x116)],_0x33a233=config[_0x31f03d(0xe4)]):(_0x2e3253=_0x3c1010[_0x31f03d(0x116)],_0x33a233=_0x3c1010[_0x31f03d(0xe4)]);await initExchange(_0x2e3253,_0x33a233);let _0x16129e=await loadSymbols();if(_0x16129e){_0x1e7055=await getCoins(![],_0x3c1010[_0x31f03d(0xf6)]);if(_0x1e7055===![])proxyEmit(_0x31f03d(0x17e),![]);else{if(_0x3c1010[_0x31f03d(0xf6)]=='')proxyEmit(_0x31f03d(0x17e),_0x1e7055);else{_0x1e7055[_0x31f03d(0x194)](_0x399f96=>{const _0x55225f=_0x31f03d;_0x4ff110[_0x55225f(0xef)](_0x399f96[_0x55225f(0xf0)]);});try{_0x4c5544=await exchange[_0x31f03d(0x101)](_0x4ff110);}catch(_0x3358a6){await handleError(_0x3358a6,_0x31f03d(0x1a2));}_0x1e7055[_0x31f03d(0x194)](_0x1d102f=>{const _0x3ac7d9=_0x31f03d;_0x1d102f['coin']!=_0x3c1010[_0x3ac7d9(0xf6)]?_0x515cea=_0x1d102f[_0x3ac7d9(0xe1)]?0x1/_0x4c5544[_0x1d102f['symbol']]['last']:_0x4c5544[_0x1d102f[_0x3ac7d9(0xf0)]][_0x3ac7d9(0xc4)]:_0x515cea=0x1,_0x1d102f[_0x3ac7d9(0xea)]=formatResult(_0x515cea,0x8);}),proxyEmit(_0x31f03d(0x17e),_0x1e7055);}}}else proxyEmit(_0x31f03d(0x17e),![]);}function checkMinimums(_0x20a836){const _0x34d443=_0x25b5c2;let _0x51669c=!![];const _0x220c67=!_0x20a836[_0x34d443(0xe1)]?markets[_0x20a836[_0x34d443(0xf0)]]['limits'][_0x34d443(0x198)][_0x34d443(0x15c)]:markets[_0x20a836[_0x34d443(0xf0)]][_0x34d443(0x141)][_0x34d443(0x167)][_0x34d443(0x15c)],_0x33ec2c=!_0x20a836[_0x34d443(0xe1)]?markets[_0x20a836[_0x34d443(0xf0)]][_0x34d443(0x141)][_0x34d443(0x167)][_0x34d443(0x15c)]:markets[_0x20a836[_0x34d443(0xf0)]][_0x34d443(0x141)][_0x34d443(0x198)][_0x34d443(0x15c)];if(Math['abs'](_0x20a836[_0x34d443(0x16f)])<_0x220c67)_0x51669c=![];if(Math[_0x34d443(0x135)](_0x20a836[_0x34d443(0x16f)])*_0x20a836[_0x34d443(0xc4)]<_0x33ec2c)_0x51669c=![];return _0x51669c;}async function getBalances(){const _0x3fa0c4=_0x25b5c2;let _0x2a31a7=0x0,_0x3324fb;const _0x2f3d64=config[_0x3fa0c4(0xf9)];currentCoins['forEach'](_0x572d40=>{const _0xa178cd=_0x3fa0c4;if(_0x572d40[_0xa178cd(0x136)]!=config['basecoin']){let _0x12be96=global[_0xa178cd(0xda)][noslash(_0x572d40[_0xa178cd(0xf0)])];_0x3324fb=_0x572d40['reverse']?0x1/_0x12be96:_0x12be96;}else _0x3324fb=0x1;let _0x42952a=_0x572d40[_0xa178cd(0xd5)]*_0x3324fb;_0x2a31a7+=_0x42952a,_0x572d40[_0xa178cd(0xc4)]=formatResult(Number(_0x3324fb),0x8),_0x572d40[_0xa178cd(0xf8)]=_0x42952a;}),currentCoins[_0x3fa0c4(0x194)](_0x57c89e=>{const _0x38dff6=_0x3fa0c4;let _0x434211=config['portfolio'][_0x38dff6(0x13b)](_0x11990c=>_0x11990c[_0x38dff6(0x136)]==_0x57c89e['coin']),_0x585839=Number(_0x434211[_0x38dff6(0x18c)]),_0x447640=_0x57c89e[_0x38dff6(0xf8)]/_0x2a31a7*0x64,_0x258cb5=_0x585839*_0x2a31a7/0x64/_0x57c89e['last']-_0x57c89e[_0x38dff6(0xd5)];_0x57c89e[_0x38dff6(0x18c)]=formatResult(_0x447640,0x3),_0x57c89e['target']=formatResult(_0x585839,0x3),_0x57c89e[_0x38dff6(0x16f)]=formatResult(_0x258cb5,0x8),_0x57c89e[_0x38dff6(0x14d)]='',_0x57c89e[_0x38dff6(0x161)]='';if(_0x57c89e['coin']!=config['basecoin']){if(_0x57c89e[_0x38dff6(0x18c)]>_0x585839)_0x57c89e['side']=_0x38dff6(0x10f),_0x57c89e[_0x38dff6(0x161)]=checkMinimums(_0x57c89e);else _0x57c89e['distribution']<_0x585839&&(_0x57c89e['side']=_0x38dff6(0x119),_0x57c89e['valid']=checkMinimums(_0x57c89e));}_0x57c89e[_0x38dff6(0x162)]=_0x57c89e[_0x38dff6(0x18c)]/_0x57c89e[_0x38dff6(0xbd)]-0x1;}),currentCoins[_0x3fa0c4(0xc9)]((_0xc3dfdf,_0x36d86f)=>_0xc3dfdf[_0x3fa0c4(0x162)]<_0x36d86f[_0x3fa0c4(0x162)]?0x1:_0x36d86f[_0x3fa0c4(0x162)]<_0xc3dfdf['delta']?-0x1:0x0);const _0x3be877=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3be877[_0x3fa0c4(0xe8)],'usd':_0x3be877[_0x3fa0c4(0xbc)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x2f3d64},proxyEmit(_0x3fa0c4(0x18f),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x3fa0c4(0x133)])headlessMode({'portfolio':currentCoins,'threshold':_0x2f3d64});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x605a24=_0x25b5c2;if(!lastBalances)return;let _0x2aaee4=await getStartingBalances(![]),_0x4fb8ee=[],_0x955b9d=[],_0x9fab8c;JSON[_0x605a24(0x139)](lastBalances['portfolio'])['forEach'](_0x1bc6e1=>{const _0x19c31a=_0x605a24;let _0x2be2de={'coin':_0x1bc6e1['coin'],'number':_0x1bc6e1['number'],'price':_0x1bc6e1[_0x19c31a(0xc4)]};_0x4fb8ee['push'](_0x2be2de);if(!_0x2aaee4[_0x19c31a(0xee)]||!_0x2aaee4[_0x19c31a(0xee)]['find'](_0x31b7dc=>_0x31b7dc[_0x19c31a(0x136)]==_0x1bc6e1[_0x19c31a(0x136)]&&_0x31b7dc['number']!=0x0))_0x955b9d[_0x19c31a(0xef)](_0x2be2de);});const _0x539d49=await getFiat();_0x9fab8c={'date':lastBalances[_0x605a24(0xb7)][_0x605a24(0xca)]('\x20')[0x0],'eur':_0x539d49[_0x605a24(0xe8)],'usd':_0x539d49[_0x605a24(0xbc)],'coins':_0x4fb8ee};let _0x2497a1=dbPerformance[_0x605a24(0x1ab)](_0x605a24(0xfc))[_0x605a24(0x13b)]({'date':_0x9fab8c[_0x605a24(0x15d)]})[_0x605a24(0xf8)]();_0x2497a1?dbPerformance[_0x605a24(0x1ab)](_0x605a24(0xfc))[_0x605a24(0x13b)]({'date':_0x9fab8c[_0x605a24(0x15d)]})[_0x605a24(0x13c)](_0x9fab8c)[_0x605a24(0xfd)]():dbPerformance[_0x605a24(0x1ab)]('data')[_0x605a24(0xef)](_0x9fab8c)[_0x605a24(0xfd)](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x4722be=_0x25b5c2;if(dbPerformance[_0x4722be(0x11e)](_0x4722be(0xfc))[_0x4722be(0xf8)]()){let _0x585adf=dbPerformance[_0x4722be(0x1ab)](_0x4722be(0xfc))['sortBy'](_0x4722be(0x15d))[_0x4722be(0xf8)]();proxyEmit('performance',_0x585adf),lastPerformanceEmitted=getDate();}else proxyEmit('performance',[]);}async function getStartingBalances(_0x50379a=!![]){const _0x35953e=_0x25b5c2;let _0x5eb6bb=dbPerformance[_0x35953e(0x1ab)](_0x35953e(0xfc))[_0x35953e(0x13b)]({'date':config[_0x35953e(0x181)]})[_0x35953e(0xf8)]();config[_0x35953e(0x116)]!=''&&!_0x5eb6bb&&(await setStartDatePerformance(config),_0x5eb6bb=dbPerformance[_0x35953e(0x1ab)](_0x35953e(0xfc))[_0x35953e(0x13b)]({'date':config[_0x35953e(0x181)]})[_0x35953e(0xf8)]());if(config[_0x35953e(0x116)]==''||!_0x5eb6bb)return{};let _0x13f0b0=0x0,_0x35d817=0x0,_0x1c77ab=0x0,_0x4c94f8=[],_0x1d0eec=0x0;config[_0x35953e(0x17e)]['forEach'](_0x206c48=>{const _0x50ee21=_0x35953e;if(!_0x206c48[_0x50ee21(0x144)]){_0x4c94f8[_0x1d0eec]={'coin':_0x206c48['coin'],'symbol':_0x206c48['symbol'],'number':_0x206c48[_0x50ee21(0xb1)],'price':_0x206c48[_0x50ee21(0x1a0)]},_0x13f0b0+=_0x206c48[_0x50ee21(0x1a0)]*_0x206c48['startnumber'];if(config[_0x50ee21(0xf6)]==_0x50ee21(0xf1))_0x35d817+=_0x206c48[_0x50ee21(0x1a0)]*_0x206c48[_0x50ee21(0xb1)]*_0x5eb6bb[_0x50ee21(0xe8)],_0x1c77ab+=_0x206c48[_0x50ee21(0x1a0)]*_0x206c48['startnumber']*_0x5eb6bb[_0x50ee21(0xbc)];else{if(config[_0x50ee21(0xf6)]==_0x50ee21(0x103)||config[_0x50ee21(0xf6)]==_0x50ee21(0xe6)||config[_0x50ee21(0xf6)]==_0x50ee21(0x17a))_0x35d817+=_0x206c48[_0x50ee21(0x1a0)]*_0x206c48[_0x50ee21(0xb1)]*_0x5eb6bb[_0x50ee21(0xe8)]/_0x5eb6bb[_0x50ee21(0xbc)],_0x1c77ab+=_0x206c48[_0x50ee21(0x1a0)]*_0x206c48[_0x50ee21(0xb1)];else config[_0x50ee21(0xf6)]==_0x50ee21(0x13d)&&(_0x35d817+=_0x206c48['startprice']*_0x206c48[_0x50ee21(0xb1)],_0x1c77ab+=_0x206c48['startprice']*_0x206c48[_0x50ee21(0xb1)]*_0x5eb6bb['usd']/_0x5eb6bb[_0x50ee21(0xe8)]);}_0x1d0eec++;}});let _0x90dce7={'basecoin':_0x13f0b0,'eur':_0x35d817,'usd':_0x1c77ab,'coins':_0x4c94f8};if(_0x50379a)proxyEmit(_0x35953e(0x13a),_0x90dce7);return _0x90dce7;}function headlessMode(_0x448686){const _0x946513=_0x25b5c2;let _0x30ae33=_0x448686[_0x946513(0x17e)],_0x5dac98=_0x448686[_0x946513(0xf9)],_0x2d4d95=[];for(let _0x1268e3 of _0x30ae33){if(_0x1268e3[_0x946513(0x136)]!=config[_0x946513(0xf6)]){if(_0x1268e3[_0x946513(0x18c)]/_0x1268e3['target']-0x1>=_0x5dac98/0x64){if(_0x1268e3[_0x946513(0x161)])_0x2d4d95['push'](_0x1268e3);}else{if(_0x1268e3['distribution']/_0x1268e3[_0x946513(0xbd)]-0x1<=-_0x5dac98/0x64){if(_0x1268e3[_0x946513(0x161)])_0x2d4d95[_0x946513(0xef)](_0x1268e3);}}}}_0x2d4d95[_0x946513(0xe3)]>0x0&&placeOrder(_0x2d4d95);}function symbolToCoin(_0x32d5c8){const _0x1ec6a3=_0x25b5c2;let _0x5883cf;if(_0x32d5c8[_0x1ec6a3(0xb8)]('/'+config[_0x1ec6a3(0xf6)]))_0x5883cf=_0x32d5c8['replace']('/'+config[_0x1ec6a3(0xf6)],'');if(_0x32d5c8[_0x1ec6a3(0xb8)](config['basecoin']+'/'))_0x5883cf=_0x32d5c8[_0x1ec6a3(0x12f)](config[_0x1ec6a3(0xf6)]+'/','');return _0x5883cf;}async function validateOrders(_0x4d8036=0x0){const _0x1eecde=_0x25b5c2;let _0x5d0108=[],_0x50166b=config['ordertype']==_0x1eecde(0xe0)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x1eecde(0x149)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x1eecde(0x194)](_0x349bec=>{const _0x123fed=_0x1eecde;let _0x55038a=previousCoins[_0x123fed(0x13b)](_0x17106d=>_0x17106d[_0x123fed(0x136)]==symbolToCoin(_0x349bec[_0x123fed(0xf0)])),_0x9f92db=currentCoins[_0x123fed(0x13b)](_0x337650=>_0x337650[_0x123fed(0x136)]==symbolToCoin(_0x349bec[_0x123fed(0xf0)])),_0x4831e7,_0xaaeb96;_0x349bec[_0x123fed(0x14d)]=='buy'&&!_0x349bec[_0x123fed(0xe1)]||_0x349bec[_0x123fed(0x14d)]==_0x123fed(0x10f)&&_0x349bec[_0x123fed(0xe1)]?(_0x4831e7=_0x55038a[_0x123fed(0xd5)]+0.9*_0x349bec[_0x123fed(0x12a)],_0xaaeb96=_0x55038a[_0x123fed(0xd5)]+1.1*_0x349bec[_0x123fed(0x12a)]):(_0x4831e7=_0x55038a[_0x123fed(0xd5)]-1.1*_0x349bec[_0x123fed(0x12a)],_0xaaeb96=_0x55038a['number']-0.9*_0x349bec['filled']);const _0x44a2a4=_0x349bec[_0x123fed(0x12a)]!=0x0&&_0x9f92db[_0x123fed(0xd5)]>=_0x4831e7&&_0x9f92db[_0x123fed(0xd5)]<=_0xaaeb96;_0x5d0108['push'](_0x44a2a4);if(_0x44a2a4&&config[_0x123fed(0x16a)]!=_0x123fed(0xe0)){if(_0x349bec[_0x123fed(0xe1)])logHistory('order',_0x123fed(0xbf)+_0x349bec[_0x123fed(0xf0)]+'\x20'+_0x349bec[_0x123fed(0x14d)]+'\x20#'+formatResult(_0x349bec[_0x123fed(0x12a)]/_0x349bec[_0x123fed(0xea)],0x8)+'\x20@'+formatResult(_0x349bec['price'],0x8));else logHistory(_0x123fed(0x1a3),_0x123fed(0xbf)+_0x349bec[_0x123fed(0xf0)]+'\x20'+_0x349bec[_0x123fed(0x14d)]+'\x20#'+formatResult(_0x349bec[_0x123fed(0x12a)],0x8)+'\x20@'+formatResult(_0x349bec[_0x123fed(0xea)],0x8));}}),_0x5d0108['forEach']((_0x2d8799,_0x491fdf)=>{if(_0x2d8799)lastOrders['splice'](_0x491fdf,0x1);});if(_0x4d8036<_0x50166b&&_0x5d0108[_0x1eecde(0xb8)](![])){if(_0x4d8036==0x0){config[_0x1eecde(0x16a)]==_0x1eecde(0xe0)?logHistory(_0x1eecde(0x19e),_0x1eecde(0x152)):logHistory(_0x1eecde(0x19e),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused');if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4d8036);},0xa*0x3e8);}else{(_0x4d8036==0x1||_0x4d8036==Math[_0x1eecde(0x174)](_0x50166b/0x2)||_0x4d8036==_0x50166b-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4d8036);},validateOrderInterval);}}else{lockOrders=![];if(_0x4d8036>0x0&&!_0x5d0108['includes'](![]))config['ordertype']==_0x1eecde(0xe0)?logHistory(_0x1eecde(0x129),_0x1eecde(0x14b)):logHistory('success',_0x1eecde(0x121));else _0x4d8036>0x0&&_0x5d0108[_0x1eecde(0xb8)](![])&&(config[_0x1eecde(0x16a)]==_0x1eecde(0xe0)?logHistory(_0x1eecde(0x129),_0x1eecde(0xd6)+Math[_0x1eecde(0x174)](_0x50166b*validateOrderInterval/0xea60)+_0x1eecde(0x13e)):(lastOrders[_0x1eecde(0x194)](async _0x5b78c0=>{const _0x4d1539=_0x1eecde;try{const _0x35bbd7=await exchange[_0x4d1539(0x11f)](_0x5b78c0[_0x4d1539(0xcd)],_0x5b78c0[_0x4d1539(0xf0)]);}catch(_0x44d2e3){if(_0x44d2e3['toString']()['includes'](_0x4d1539(0x165))){}else await handleError(_0x44d2e3,'cancelOrder()');}}),logHistory(_0x1eecde(0x129),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x1eecde(0x174)](_0x50166b*validateOrderInterval/0xea60)+_0x1eecde(0x13e))));}}async function resetCoinResults(){const _0x185fba=_0x25b5c2;dbCoinResults[_0x185fba(0x1ab)](_0x185fba(0xee))['remove']()[_0x185fba(0xfd)]();let _0x450e8c=await getStartingBalances(![]);_0x450e8c[_0x185fba(0xee)]['forEach'](_0x3ebe3d=>{const _0x43eee5=_0x185fba,_0x4fe71f=_0x3ebe3d['symbol']['includes'](config[_0x43eee5(0xf6)]+'/');if(_0x3ebe3d[_0x43eee5(0x136)]!=config[_0x43eee5(0xf6)]){let _0x2ad19a={'coin':_0x3ebe3d['coin'],'number':_0x3ebe3d[_0x43eee5(0xd5)],'breakeven':_0x3ebe3d['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x43eee5(0x1ab)](_0x43eee5(0xee))[_0x43eee5(0xef)](_0x2ad19a)[_0x43eee5(0xfd)]();}});}async function updateCoinResults(_0x5e7216){const _0x439bb9=_0x25b5c2;let _0x361c4e,_0x2c35e4,_0x4f09fb,_0x1d4874,_0x198cc4,_0xaad9c4,_0xf1992d=dbCoinResults[_0x439bb9(0x1ab)](_0x439bb9(0xee))[_0x439bb9(0x13b)]({'coin':_0x5e7216[_0x439bb9(0x136)]})['value']();if(!_0xf1992d)return;if(_0x5e7216[_0x439bb9(0x15e)]&&_0x5e7216[_0x439bb9(0x15e)][_0x439bb9(0x178)]==config[_0x439bb9(0xf6)])_0x361c4e=_0x5e7216[_0x439bb9(0x15e)][_0x439bb9(0x167)];else{if(_0x5e7216[_0x439bb9(0x15e)]&&_0x5e7216['fee'][_0x439bb9(0x178)]=='BNB')_0x361c4e=_0x5e7216[_0x439bb9(0x15e)][_0x439bb9(0x167)]*global[_0x439bb9(0xda)][_0x439bb9(0x14f)+config['basecoin']];else _0x361c4e=0.001*_0x5e7216[_0x439bb9(0x12a)];}const _0x2d8bf8=_0x5e7216[_0x439bb9(0xf0)][_0x439bb9(0xb8)](config['basecoin']+'/');_0x2d8bf8&&(_0xaad9c4={'coin':_0x5e7216[_0x439bb9(0x136)],'symbol':_0x5e7216[_0x439bb9(0xf0)],'filled':_0x5e7216[_0x439bb9(0x12a)]*_0x5e7216[_0x439bb9(0xea)],'side':_0x5e7216['side']==_0x439bb9(0x10f)?_0x439bb9(0x119):'sell','price':0x1/_0x5e7216[_0x439bb9(0xea)]},_0x5e7216={..._0xaad9c4});_0x5e7216[_0x439bb9(0x14d)]==_0x439bb9(0x119)?_0x4f09fb=(_0xf1992d[_0x439bb9(0xdf)]*_0xf1992d[_0x439bb9(0xd5)]+_0x5e7216[_0x439bb9(0xea)]*_0x5e7216[_0x439bb9(0x12a)])/(_0xf1992d[_0x439bb9(0xd5)]+_0x5e7216['filled']):_0x4f09fb=(_0xf1992d[_0x439bb9(0xdf)]*_0xf1992d[_0x439bb9(0xd5)]-_0x5e7216[_0x439bb9(0xea)]*_0x5e7216[_0x439bb9(0x12a)])/(_0xf1992d[_0x439bb9(0xd5)]-_0x5e7216[_0x439bb9(0x12a)]);_0x5e7216[_0x439bb9(0x14d)]==_0x439bb9(0x119)?_0x1d4874=_0xf1992d['realized']:_0x1d4874=_0xf1992d[_0x439bb9(0x183)]+(_0x5e7216[_0x439bb9(0xea)]-_0xf1992d[_0x439bb9(0xdf)])*_0x5e7216[_0x439bb9(0x12a)];_0x2c35e4=_0x5e7216[_0x439bb9(0x14d)]==_0x439bb9(0x10f)?_0xf1992d[_0x439bb9(0xd5)]-_0x5e7216['filled']:_0xf1992d['number']+_0x5e7216[_0x439bb9(0x12a)],_0x198cc4=(_0x5e7216[_0x439bb9(0xea)]-_0x4f09fb)*_0x2c35e4;let _0x7bb7b8={'coin':_0x5e7216['coin'],'number':_0x2c35e4,'breakeven':formatResult(_0x4f09fb,0x8),'realized':formatResult(_0x1d4874,0x8),'unrealized':formatResult(_0x198cc4,0x8),'fees':formatResult(_0xf1992d['fees']+_0x361c4e,0x8),'sells':_0x5e7216[_0x439bb9(0x14d)]==_0x439bb9(0x10f)?_0xf1992d[_0x439bb9(0x108)]+0x1:_0xf1992d['sells'],'buys':_0x5e7216[_0x439bb9(0x14d)]==_0x439bb9(0x119)?_0xf1992d[_0x439bb9(0xd0)]+0x1:_0xf1992d[_0x439bb9(0xd0)]};dbCoinResults['get'](_0x439bb9(0xee))[_0x439bb9(0x13b)]({'coin':_0x5e7216[_0x439bb9(0x136)]})[_0x439bb9(0x13c)](_0x7bb7b8)['write']();}async function placeOrder(_0x2841d3){const _0x153448=_0x25b5c2,_0x5ec7d7=config[_0x153448(0x16a)]=='market'?'market':_0x153448(0x18b);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x153448(0x139)](JSON[_0x153448(0x1ad)](currentCoins));for(const _0x4d2849 of _0x2841d3){let _0x31aa9f,_0x167222,_0x47821a,_0x3e6e1f,_0x32057f,_0x4b3a71=_0x4d2849['symbol'];try{const _0xd180b7=await exchange['fetchTickers'](_0x4b3a71),_0x900c4c=_0xd180b7[_0x4b3a71];_0x31aa9f=_0x900c4c[_0x153448(0xc4)],_0x167222=_0x900c4c[_0x153448(0x158)],_0x47821a=_0x900c4c[_0x153448(0x117)];_0x4d2849[_0x153448(0xe1)]?(_0x3e6e1f=_0x4d2849[_0x153448(0x14d)]==_0x153448(0x119)?_0x153448(0x10f):_0x153448(0x119),_0x32057f=Math[_0x153448(0x135)](_0x4d2849[_0x153448(0x16f)])/_0x31aa9f):(_0x3e6e1f=_0x4d2849[_0x153448(0x14d)],_0x32057f=Math['abs'](_0x4d2849[_0x153448(0x16f)]));_0x5ec7d7=='limit'&&(config[_0x153448(0x16a)]==_0x153448(0x16d)&&(_0x31aa9f=_0x3e6e1f=='buy'?_0x167222:_0x47821a),config[_0x153448(0x16a)]==_0x153448(0x157)&&(_0x31aa9f=_0x3e6e1f=='buy'?_0x47821a:_0x167222));_0x32057f=formatResult(_0x32057f,0x8),_0x31aa9f=formatResult(_0x31aa9f,0x8);const _0x4f0438=await exchange['createOrder'](_0x4b3a71,_0x5ec7d7,_0x3e6e1f,_0x32057f,_0x31aa9f);lastOrders['push']({'orderId':_0x4f0438['id'],'symbol':_0x4b3a71,'side':_0x3e6e1f,'reverse':_0x4d2849[_0x153448(0xe1)],'amount':_0x4d2849[_0x153448(0xe1)]?_0x4f0438[_0x153448(0x198)]*_0x4f0438['price']:_0x4f0438[_0x153448(0x198)],'filled':_0x4d2849[_0x153448(0xe1)]?_0x4f0438[_0x153448(0x12a)]*_0x4f0438['price']:_0x4f0438[_0x153448(0x12a)],'price':_0x4f0438['price']});const _0x3e381c=_0x3e6e1f==_0x153448(0x10f)?config[_0x153448(0x120)]?String[_0x153448(0x17d)]('0x'+config['emojisell'])+'\x20':'':config[_0x153448(0xc3)]?String[_0x153448(0x17d)]('0x'+config['emojibuy'])+'\x20':'',_0xc75377=_0x5ec7d7==_0x153448(0xe0)?_0x153448(0x17b):config['ordertype']==_0x153448(0x16d)?_0x153448(0x118):_0x153448(0x143);if(_0x5ec7d7==_0x153448(0xe0))logHistory(_0x153448(0x1a3),''+_0x3e381c+_0xc75377+'\x20order:\x20'+_0x4b3a71+'\x20'+_0x3e6e1f+'\x20#'+formatResult(_0x4f0438[_0x153448(0x12a)],0x8)+'\x20@'+formatResult(_0x4f0438['price'],0x8));else logHistory('order',''+_0x3e381c+_0xc75377+_0x153448(0xb4)+_0x4b3a71+'\x20'+_0x3e6e1f+'\x20#'+formatResult(_0x4f0438['amount'],0x8)+'\x20@'+formatResult(_0x4f0438['price'],0x8));_0x4f0438[_0x153448(0x136)]=_0x4d2849[_0x153448(0x136)],await updateCoinResults(_0x4f0438);if(config[_0x153448(0xfa)]!=0x0){let _0x2e8a31=null;if(cooldownTracker[_0x153448(0xe3)]==config[_0x153448(0xfa)]-0x1)_0x2e8a31=cooldownTracker[_0x153448(0x186)]();const _0x564ee7=getTimeStamp();cooldownTracker[_0x153448(0xef)](_0x564ee7);if(_0x2e8a31){const _0x3eb43e=fns[_0x153448(0x154)](new Date(_0x564ee7),new Date(_0x2e8a31));_0x3eb43e<cooldownInterval&&(logHistory(_0x153448(0x19e),'Executed\x20'+config[_0x153448(0xfa)]+_0x153448(0x163)+cooldownInterval/0x3c+_0x153448(0xc5)+cooldownPeriod/(0xe10*0x3e8)+_0x153448(0x184)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x412b5c){if(_0x412b5c['toString']()[_0x153448(0xb8)](_0x153448(0x17c)))logHistory(_0x153448(0x19e),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4b3a71);else{if(_0x412b5c[_0x153448(0x11b)]()[_0x153448(0xb8)](_0x153448(0x187)))logHistory(_0x153448(0x19e),_0x153448(0x13f)+_0x4b3a71);else await handleError(_0x412b5c,_0x153448(0xc1));}}}if(lastOrders[_0x153448(0xe3)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config[_0x153448(0x16a)]==_0x153448(0xe0)?logHistory(_0x153448(0x19e),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x153448(0x19e),_0x153448(0x14a)));else coolingDown&&(!config[_0x153448(0x133)]&&logHistory(_0x153448(0x19e),_0x153448(0xc0)));}}function logHistory(_0x5a337e,_0x622274,_0x24989d=''){const _0x4a1820=_0x25b5c2;let _0x2715d3={'time':getTimeStamp(),'type':_0x5a337e,'event':_0x622274,'botname':config['botname'],'showname':config['showname']};dbLogs[_0x4a1820(0x1ab)](_0x4a1820(0x1aa))[_0x4a1820(0xef)](_0x2715d3)[_0x4a1820(0xfd)]();if(_0x24989d=='')_0x24989d=_0x622274;proxyEmit('event',{'log':_0x2715d3,'summary':_0x24989d}),process[_0x4a1820(0x11d)]({'telegram':_0x2715d3}),logging(''+_0x2715d3[_0x4a1820(0x193)]);}function emitHistory(_0x30c05d={}){const _0x1034de=_0x25b5c2;Object['keys'](_0x30c05d)[_0x1034de(0xe3)]==0x0&&(_0x30c05d={'type':['order',_0x1034de(0x193)],'event':'','page':0x1});if(_0x30c05d['type'][_0x1034de(0xb8)]('event'))_0x30c05d['type']['splice'](_0x30c05d['type']['indexOf'](_0x1034de(0x193)),0x1,_0x1034de(0x19e),_0x1034de(0x129));if(dbLogs[_0x1034de(0x11e)](_0x1034de(0x1aa))[_0x1034de(0xf8)]()){let _0x473192=dbLogs['get'](_0x1034de(0x1aa))[_0x1034de(0xc7)](_0x5dc291=>{const _0x3b84e1=_0x1034de;if(_0x30c05d[_0x3b84e1(0x128)][_0x3b84e1(0xe3)]==0x0)return![];else return _0x30c05d[_0x3b84e1(0x128)][_0x3b84e1(0xb8)](_0x5dc291[_0x3b84e1(0x128)]);})[_0x1034de(0xc7)](_0x499f8c=>{const _0xbc4b15=_0x1034de;if(_0x30c05d[_0xbc4b15(0x193)]=='')return!![];else return _0x499f8c[_0xbc4b15(0x193)][_0xbc4b15(0xd3)]()[_0xbc4b15(0xb8)](_0x30c05d[_0xbc4b15(0x193)][_0xbc4b15(0xd3)]());})[_0x1034de(0xad)](_0x1034de(0xb7)),_0x32a508=_0x473192[_0x1034de(0xf8)]()[_0x1034de(0xe3)];_0x473192=_0x473192[_0x1034de(0xe1)]()[_0x1034de(0xf4)]((_0x30c05d[_0x1034de(0xd4)]-0x1)*logPageSize,_0x30c05d['page']*logPageSize-0x1)[_0x1034de(0xe1)]()['value'](),proxyEmit(_0x1034de(0xbe),{'logs':_0x473192,'total':_0x32a508});}else proxyEmit(_0x1034de(0xbe),{'logs':[],'total':0x0});}function _0x4361(_0x3e9839,_0x36dbb7){const _0xf4b14e=_0x3604();return _0x4361=function(_0x5af1fe,_0x2ac2aa){_0x5af1fe=_0x5af1fe-0xad;let _0x360408=_0xf4b14e[_0x5af1fe];return _0x360408;},_0x4361(_0x3e9839,_0x36dbb7);}async function pauseBot(_0x549636){const _0x3c444d=_0x25b5c2,_0x50b7e0=new Date()[_0x3c444d(0x153)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x50b7e0-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x3c444d(0x11d)]({'stop':_0x3c444d(0xb5)});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x3c444d(0x19e),_0x3c444d(0x177)+consecutivePauses+')'),await sleep(_0x549636),botPaused=![],reset();}}async function handleError(_0x428a8e,_0x44bdc3,_0x47d433=''){const _0x219af1=_0x25b5c2;if(_0x428a8e[_0x219af1(0x11b)]()[_0x219af1(0xb8)](_0x219af1(0x15b)))logHistory(_0x219af1(0x19e),_0x44bdc3+_0x219af1(0x19d)),await pauseBot(pauseBotInterval);else{if(_0x428a8e[_0x219af1(0x11b)]()['includes'](_0x219af1(0x123)))logHistory(_0x219af1(0x19e),_0x44bdc3+_0x219af1(0x160)),await pauseBot(pauseBotInterval);else{if(_0x428a8e[_0x219af1(0x11b)]()['includes'](_0x219af1(0x185)))logHistory(_0x219af1(0x19e),_0x44bdc3+_0x219af1(0x182)),await pauseBot(pauseBotInterval);else{if(_0x428a8e[_0x219af1(0x11b)]()[_0x219af1(0xb8)]('API-key\x20format\x20invalid'))logHistory(_0x219af1(0x19e),_0x44bdc3+_0x219af1(0xed)),logHistory(_0x219af1(0x19e),_0x219af1(0x138)),process[_0x219af1(0x11d)]({'stop':'kill'});else{if(_0x428a8e['toString']()[_0x219af1(0xb8)]('AuthenticationError'))logHistory(_0x219af1(0x19e),_0x44bdc3+_0x219af1(0x12b)),logHistory(_0x219af1(0x19e),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0x219af1(0x11d)]({'stop':'kill'});else{if(_0x428a8e[_0x219af1(0x11b)]()[_0x219af1(0xb8)](_0x219af1(0xaf)))logHistory('error',_0x44bdc3+'\x20|\x20Binance\x20API\x20secret\x20is\x20invalid'),logHistory(_0x219af1(0x19e),_0x219af1(0x138)),process['send']({'stop':_0x219af1(0x107)});else{if(_0x428a8e[_0x219af1(0x11b)]()['includes'](_0x219af1(0xb6)))logHistory('error',_0x44bdc3+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x219af1(0x138)),process[_0x219af1(0x11d)]({'stop':_0x219af1(0x107)});else{if(_0x428a8e[_0x219af1(0x11b)]()[_0x219af1(0xb8)](_0x219af1(0x189)))logHistory('error',_0x44bdc3+_0x219af1(0x19a)),await pauseBot(pauseBotInterval),process['send']({'stop':'restart'});else _0x428a8e['toString']()[_0x219af1(0xb8)](_0x219af1(0x14c))?logHistory('error',_0x44bdc3+_0x219af1(0x126)):(logHistory(_0x219af1(0x19e),_0x44bdc3+_0x219af1(0xe2)),logging(_0x44bdc3+_0x219af1(0x11a),_0x428a8e),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x28339e,_0x4ef9ea){const _0x17b40a=_0x25b5c2;return parseFloat(_0x28339e[_0x17b40a(0x176)](_0x4ef9ea));}function logging(_0x6434b9,_0x19793f=''){const _0x4cead0=_0x25b5c2;if(config[_0x4cead0(0x16c)])console[_0x4cead0(0x18d)](getTimeStamp()+':\x20'+config[_0x4cead0(0xff)]+_0x4cead0(0x169)+_0x6434b9,_0x19793f);else console[_0x4cead0(0x18d)](getTimeStamp()+_0x4cead0(0xf3)+botID+'\x20>\x20'+_0x6434b9,_0x19793f);}function getServerTime(){const _0x46e8ec=_0x25b5c2,_0x3713c0=new Date();return _0x3713c0['getFullYear']()+'/'+(_0x3713c0[_0x46e8ec(0x113)]()+0x1)['toString']()[_0x46e8ec(0x190)](0x2,'0')+'/'+_0x3713c0['getDate']()[_0x46e8ec(0x11b)]()[_0x46e8ec(0x190)](0x2,'0')+'\x20'+_0x3713c0[_0x46e8ec(0x125)]()[_0x46e8ec(0x11b)]()[_0x46e8ec(0x190)](0x2,'0')+':'+_0x3713c0[_0x46e8ec(0x156)]()[_0x46e8ec(0x11b)]()[_0x46e8ec(0x190)](0x2,'0')+':'+_0x3713c0[_0x46e8ec(0x172)]()['toString']()[_0x46e8ec(0x190)](0x2,'0');}function getTimeStamp(){const _0x342fe5=_0x25b5c2,_0xdb4dd9=shiftedTime();return _0xdb4dd9['getFullYear']()+'/'+(_0xdb4dd9[_0x342fe5(0x113)]()+0x1)['toString']()[_0x342fe5(0x190)](0x2,'0')+'/'+_0xdb4dd9['getDate']()[_0x342fe5(0x11b)]()[_0x342fe5(0x190)](0x2,'0')+'\x20'+_0xdb4dd9['getHours']()[_0x342fe5(0x11b)]()[_0x342fe5(0x190)](0x2,'0')+':'+_0xdb4dd9[_0x342fe5(0x156)]()[_0x342fe5(0x11b)]()['padStart'](0x2,'0')+':'+_0xdb4dd9[_0x342fe5(0x172)]()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x1020e0=_0x25b5c2,_0x4a1d59=shiftedTime();return _0x4a1d59['getFullYear']()+'/'+(_0x4a1d59[_0x1020e0(0x113)]()+0x1)['toString']()[_0x1020e0(0x190)](0x2,'0')+'/'+_0x4a1d59[_0x1020e0(0x1af)]()[_0x1020e0(0x11b)]()['padStart'](0x2,'0');}function getHour(){const _0x3beb1b=_0x25b5c2,_0x40aff6=shiftedTime();return _0x40aff6[_0x3beb1b(0x125)]()[_0x3beb1b(0x11b)]()['padStart'](0x2,'0');}function sleep(_0x59ba14){return new Promise(_0x5b489c=>setTimeout(_0x5b489c,_0x59ba14));}function shiftedTime(){const _0x529694=_0x25b5c2,_0x594aab=new Date();let _0x3c48c7=_0x594aab;if(config&&config[_0x529694(0x111)]!==0x0)_0x3c48c7=fns['add'](_0x594aab,{'hours':config[_0x529694(0x111)]});return _0x3c48c7;}