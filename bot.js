const _0x1a3c80=_0x49eb;(function(_0x130061,_0x238724){const _0x2eef66=_0x49eb,_0x240b0a=_0x130061();while(!![]){try{const _0xa0480b=parseInt(_0x2eef66(0x245))/0x1+-parseInt(_0x2eef66(0x1be))/0x2+parseInt(_0x2eef66(0x289))/0x3+-parseInt(_0x2eef66(0x1b6))/0x4+parseInt(_0x2eef66(0x240))/0x5+-parseInt(_0x2eef66(0x19b))/0x6+-parseInt(_0x2eef66(0x226))/0x7;if(_0xa0480b===_0x238724)break;else _0x240b0a['push'](_0x240b0a['shift']());}catch(_0x23985a){_0x240b0a['push'](_0x240b0a['shift']());}}}(_0x4def,0x260a5));const _0xeffccd=function(){let _0x3eace=!![];return function(_0x4e6fb4,_0x1309be){const _0x5c0d2d=_0x3eace?function(){const _0x331c01=_0x49eb;if(_0x1309be){const _0x13ca82=_0x1309be[_0x331c01(0x1f2)](_0x4e6fb4,arguments);return _0x1309be=null,_0x13ca82;}}:function(){};return _0x3eace=![],_0x5c0d2d;};}(),_0x11c8ab=_0xeffccd(this,function(){const _0x17f010=_0x49eb;return _0x11c8ab['toString']()[_0x17f010(0x197)](_0x17f010(0x190))['toString']()['constructor'](_0x11c8ab)[_0x17f010(0x197)](_0x17f010(0x190));});_0x11c8ab();'use strict';function _0x4def(){const _0x28ba49=['apiSecret','Market','getTime','wss://stream.binance.com:9443','Binance\x20API\x20key\x20is\x20invalid','page','kill','cancel','value','BTCEUR','exit','fetchBalance','488019uOgTFN','getFullYear','round','privateKey','distribution','liquidity','USDT','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','event','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','showname','loadSymbols()','settings','subDays','amount','format','log','Unfilled\x20order(s)\x20canceled\x20after\x20','indexOf','timestamp','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','symbols','buys','/backup/','Performance\x20recreation\x20completed\x20successfully','Order(s)\x20not\x20validated\x20after\x20','711870TONYmn','coins','initws()','getDate','addDays','91832YyTChy','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','parse','kline','accumulatedQuantity','headless','buy','yyyy/MM/dd','remainingSymbols','\x20hour','stringify','orderId','min','price','bot','getPortfolio()','exchange','BTCBUSD','fetchTickers','loadMarkets','entries','logs','binanceus','startprice','userData','length','\x20-\x20','data','portfolio','breakeven','balances','MIN_NOTIONAL','./config/','send','args','USDC','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','get','BTC/USDT','HOT/EUR','datetime','\x20>\x20','configuration','error','HOT/BTC','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','type','emitHistory','fetchOHLCV','remove','API-key\x20format\x20invalid','max','-results.json','InvalidNonce','abs','getCloses()','BTCUSDT','subscribeSpotKline','cancelOrder()','market','restart','Order(s)\x20validated\x20-\x20balancing\x20resumed','realized','lowdb/adapters/FileSync','\x20order:\x20','date-fns','getMonth',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','749232wlcsIB','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','************','getFiat()','padStart','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','lowdb',')\x20|\x20Error\x20details:\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','starting-balances','total','date','limit-high','placeOrder()','differenceInSeconds','map','ordertype','2.3.5','find','startnumber','last','wsKey','orderType','emojibuy','includes','assign','bb-secure.json','progress','delta','timeout','coin-loading-progress','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','offset','botname','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','basecoin','(((.+)+)+)+$','\x20minutes\x20-\x20balancing\x20resumed','BUSD','filter','add','differenceInCalendarDays','sortBy','search','emojisell','yyyy/MM/dd\x20HH:mm:ss','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','791100akCSPK','success','limits','getMinutes','sha256','changes','InsufficientFunds','ask','EUR','running','fee','slice','target','findIndex','availableBalance','wss://stream.binance.us:9443','valid','function','toString','.json','getSeconds','number','bid','cloneDeep','trade','BNB','defaults','441216tcenMD','test','order','version','mkdirSync',',\x20must\x20be\x20a\x203\x20digit\x20number','Limit\x20(low-margin)','hybrid-crypto-js','32532SwyynN','BTC','fromCodePoint','getCoins()','event-history','side','cooldown','push','currency','subscribeSpotUserDataStream','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','FILLED','cancelOrder','Order:\x20','spot','splice','getStartingBalances','filled','timeshift','sells','closeWs','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Executed\x20','coin','wsMarket','replace','ticker','eur','DAI/','fees','createOrder','isEqual','Bot\x20','write','configuration-stored','binance','recreateHistory()','existsSync','shift','getHours','sell','apiKey','toLowerCase','threshold','milliseconds','message','writeFile','time','formattedMessage','close','isArray','forEach','apply','\x20|\x20Error\x20details:\x20','./version.json','storeConfiguration','set','yyyy-MM-dd\x27T\x27HH:mm:ss','Order\x20amount\x20is\x20invalid:\x20','-performance.json','keys','performance','orderStatus','cancelLoading','usd','Order\x20filled:\x20','Invalid\x20quantity','Pausing\x20bot\x20for\x205\x20minutes\x20(','eachDayOfInterval','Error:\x20Invalid\x20argument\x20','has','reverse','enabled','excluded','\x20|\x20Unknown\x20error\x20occured','getPortfolio','Binance\x20API\x20secret\x20is\x20invalid','BTC/BUSD','decrypt','eventType','bot-','symbol','starting-balance-','toFixed','Manual\x20balancing\x20required:\x20','parseISO','cost','startdate','sort','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','asset','AuthenticationError'];_0x4def=function(){return _0x28ba49;};return _0x4def();}const ccxt=require('ccxt'),low=require(_0x1a3c80(0x28f)),FileSync=require(_0x1a3c80(0x284)),fs=require('fs'),fns=require(_0x1a3c80(0x286)),{WebsocketClient,DefaultLogger}=require(_0x1a3c80(0x1e1)),Crypt=require(_0x1a3c80(0x1bd))['Crypt'];let exchange,wsClient;global['ticker']={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;function _0x49eb(_0x652d97,_0x4fe1aa){const _0x1f67bd=_0x4def();return _0x49eb=function(_0x11c8ab,_0xeffccd){_0x11c8ab=_0x11c8ab-0x176;let _0x4def87=_0x1f67bd[_0x11c8ab];return _0x4def87;},_0x49eb(_0x652d97,_0x4fe1aa);}let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x1a3c80(0x1f4))[_0x1a3c80(0x1b9)],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x1a3c80(0x1b7)](botID))return console['log'](_0x1a3c80(0x203)+botID+_0x1a3c80(0x1bb)),process[_0x1a3c80(0x224)](0x1);const userID=process['argv'][0x3]||'',configpath=userID?_0x1a3c80(0x265)+userID+'/':_0x1a3c80(0x265);!fs[_0x1a3c80(0x1e3)](configpath)&&fs[_0x1a3c80(0x1ba)](configpath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+_0x1a3c80(0x20e)+botID+'-events.json',performancefile=configpath+_0x1a3c80(0x20e)+botID+_0x1a3c80(0x1f9),coinresultsfile=configpath+_0x1a3c80(0x20e)+botID+_0x1a3c80(0x279),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x1a3c80(0x186),configbackuppath=configpath+_0x1a3c80(0x23d),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1a3c80(0x1b5)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x1a3c80(0x1df)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1a3c80(0x1b5)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x1a3c80(0x223),'symbol':'BTC/EUR'},'usd':{'coin':_0x1a3c80(0x27d),'symbol':_0x1a3c80(0x26b)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x307450)=>{},'debug':(..._0x5cb3f7)=>{},'notice':(..._0x324612)=>{},'info':(..._0x41f49e)=>{},'warning':(..._0x2b6f91)=>{},'error':async function(..._0x5c8cf8){const _0x1edc6d=_0x1a3c80,_0x50b408=new Date()[_0x1edc6d(0x21c)]();if(!lastErrorShown||_0x50b408-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x1edc6d(0x21c)](),logHistory(_0x1edc6d(0x270),'WebSockets('+consecutivePauses+_0x1edc6d(0x288));let _0xeabdd5='';if(_0x5c8cf8[0x0])_0xeabdd5+=_0x5c8cf8[0x0];if(_0x5c8cf8[0x1]&&_0x5c8cf8[0x1][_0x1edc6d(0x270)]&&_0x5c8cf8[0x1][_0x1edc6d(0x270)][_0x1edc6d(0x1eb)])_0xeabdd5+=_0x1edc6d(0x25f)+_0x5c8cf8[0x1][_0x1edc6d(0x270)][_0x1edc6d(0x1eb)];logging('WebSockets('+consecutivePauses+_0x1edc6d(0x290),''+_0xeabdd5),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x1a3c80(0x19f),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x1a3c80(0x1d0)]!=config[_0x1a3c80(0x1d0)]&&updateTimeshift(settings['timeshift']);process['send']({'started':_0x1a3c80(0x1a4)},_0x201cef=>{}),initializeProcessListeners();function proxyEmit(_0x2c70f6,_0x147faa=null){const _0x4294ac=_0x1a3c80;process[_0x4294ac(0x266)]({'function':_0x2c70f6,'args':_0x147faa},_0x4f0929=>{});}function initializeProcessListeners(){const _0x4541c7=_0x1a3c80;process['on'](_0x4541c7(0x1eb),_0x1cfed9=>{const _0x1b47ca=_0x4541c7;switch(Object[_0x1b47ca(0x1fa)](_0x1cfed9)[0x0]){case _0x1b47ca(0x1d0):_0x1cfed9[_0x1b47ca(0x1d0)]!=undefined&&(settings['timeshift']=_0x1cfed9[_0x1b47ca(0x1d0)],updateTimeshift(settings[_0x1b47ca(0x1d0)]));break;case _0x1b47ca(0x1ac):switch(_0x1cfed9[_0x1b47ca(0x1ac)]){case'initclient':initclient();break;case _0x1b47ca(0x274):emitHistory(_0x1cfed9[_0x1b47ca(0x267)]);break;case _0x1b47ca(0x209):getPortfolio(_0x1cfed9[_0x1b47ca(0x267)]);break;case _0x1b47ca(0x1f5):storeConfiguration(_0x1cfed9[_0x1b47ca(0x267)]);break;case'storeHeadless':storeHeadless(_0x1cfed9[_0x1b47ca(0x267)]);break;case _0x1b47ca(0x1ce):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x1cfed9['args']);break;case _0x1b47ca(0x1fd):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x431000=_0x1a3c80;if(pidBalances)clearTimeout(pidBalances);if(config[_0x431000(0x1e7)]!=''){await initExchange(config[_0x431000(0x1e7)],config['apiSecret']);let _0x3bfb4a=await loadSymbols();_0x3bfb4a&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x1203ba,_0x46c119){const _0xc00125=_0x1a3c80,_0x5761e4=ccxt[config[_0xc00125(0x255)]];let _0x17693a;switch(config[_0xc00125(0x255)]){case _0xc00125(0x1e1):_0x17693a=_0xc00125(0x21d);break;case _0xc00125(0x25b):_0x17693a=_0xc00125(0x1aa);break;default:_0x17693a=_0xc00125(0x21d);}exchange=new _0x5761e4({'apiKey':_0x1203ba,'secret':_0x46c119,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x1203ba,'api_secret':_0x46c119,'beautify':!![],'wsUrl':_0x17693a},logger),config[_0xc00125(0x255)]==_0xc00125(0x25b)&&(stablecoins={'eur':{'coin':_0xc00125(0x256),'symbol':_0xc00125(0x20b)},'usd':{'coin':_0xc00125(0x27d),'symbol':_0xc00125(0x26b)}});}async function loadSymbols(){const _0x25bbf4=_0x1a3c80;let _0x2794b3;try{markets=await exchange[_0x25bbf4(0x258)]();const _0x59513f=[_0x25bbf4(0x1da),_0x25bbf4(0x271),_0x25bbf4(0x26c)];allSymbols=exchange[_0x25bbf4(0x23b)]['filter'](_0x46f415=>{const _0x49c1cb=_0x25bbf4;let _0x2ff1ce=![];return _0x59513f[_0x49c1cb(0x1f1)](_0x1d5975=>{if(_0x46f415['includes'](_0x1d5975))_0x2ff1ce=!![];}),!_0x2ff1ce;}),_0x2794b3=!![];}catch(_0x1d2efd){await handleError(_0x1d2efd,_0x25bbf4(0x231)),_0x2794b3=![];}return _0x2794b3;}async function initbot(){const _0x1c3b90=_0x1a3c80;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x28f195=dbCoinResults[_0x1c3b90(0x26a)]('coins')[_0x1c3b90(0x222)]();if(_0x28f195['length']==0x0)await resetCoinResults();}async function initclient(){const _0x6e915=_0x1a3c80;proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x6e915(0x263),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3229f2=getNormalizedPerformance();emitPerformance(_0x3229f2),await getStartingBalances(_0x3229f2);}function cleanws(){const _0x445676=_0x1a3c80;wsinitialized=![];ws1&&(ws1[_0x445676(0x1f1)](_0x2e23c8=>{try{wsClient['closeWs'](_0x2e23c8);}catch(_0x5dc233){}}),ws1=[]);if(ws2){try{wsClient[_0x445676(0x1d2)](ws2);}catch(_0x232fcc){}ws2=null;}}async function initws(){const _0x9fcab8=_0x1a3c80;cleanws();let _0x20248d=[];currentCoins[_0x9fcab8(0x1f1)](_0x5ecd89=>{const _0x242991=_0x9fcab8;if(_0x5ecd89['coin']!=config[_0x242991(0x18f)])_0x20248d[_0x242991(0x1c5)](noslash(_0x5ecd89[_0x242991(0x20f)]));});if(!_0x20248d[_0x9fcab8(0x184)](stablecoins[_0x9fcab8(0x1d9)][_0x9fcab8(0x1d5)]))_0x20248d[_0x9fcab8(0x1c5)](stablecoins[_0x9fcab8(0x1d9)]['coin']);if(!_0x20248d[_0x9fcab8(0x184)](stablecoins[_0x9fcab8(0x1fe)]['coin']))_0x20248d['push'](stablecoins['usd'][_0x9fcab8(0x1d5)]);if(!_0x20248d[_0x9fcab8(0x184)](_0x9fcab8(0x1b4)+config['basecoin']))_0x20248d[_0x9fcab8(0x1c5)]('BNB'+config[_0x9fcab8(0x18f)]);try{_0x20248d[_0x9fcab8(0x1f1)]((_0x4becb6,_0x33e7a9)=>{const _0xb312f8=_0x9fcab8;ws1[_0x33e7a9]=wsClient[_0xb312f8(0x27e)](_0x4becb6,'1m');}),ws2=wsClient[_0x9fcab8(0x1c7)](),wsClient['on'](_0x9fcab8(0x1ee),_0x2fb486=>{const _0x3adc71=_0x9fcab8;if(!Array[_0x3adc71(0x1f0)](_0x2fb486)&&!_0x2fb486[_0x3adc71(0x181)][_0x3adc71(0x184)](_0x3adc71(0x25d))){if(_0x2fb486[_0x3adc71(0x20d)]===_0x3adc71(0x248)){global[_0x3adc71(0x1d8)][_0x2fb486[_0x3adc71(0x248)][_0x3adc71(0x20f)]]=_0x2fb486[_0x3adc71(0x248)][_0x3adc71(0x1ef)];return;}}else{if(!Array[_0x3adc71(0x1f0)](_0x2fb486)&&_0x2fb486[_0x3adc71(0x181)][_0x3adc71(0x184)](_0x3adc71(0x25d))){if(_0x2fb486[_0x3adc71(0x1d6)][_0x3adc71(0x184)](_0x3adc71(0x1cc))){updateNumberCoins(_0x2fb486);return;}}}}),wsClient['on']('reconnected',async _0x321d70=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x22952c){await handleError(_0x22952c,_0x9fcab8(0x242));}let _0x55acbd,_0x5ece75=0x0;loading[_0x9fcab8(0x24d)]=[];let _0x26693d=0x0;currentCoins[_0x9fcab8(0x1f1)](_0x47df9f=>{const _0x1ef5f3=_0x9fcab8;if(_0x47df9f['coin']!=config[_0x1ef5f3(0x18f)])loading['remainingSymbols'][_0x1ef5f3(0x1c5)](_0x47df9f[_0x1ef5f3(0x20f)]);}),loadingCanceled=![];while(_0x55acbd!=currentCoins[_0x9fcab8(0x25e)]-0x1){_0x55acbd=0x0,currentCoins[_0x9fcab8(0x1f1)](_0x66289b=>{const _0x19bd59=_0x9fcab8;_0x66289b[_0x19bd59(0x1d5)]!=config[_0x19bd59(0x18f)]&&global[_0x19bd59(0x1d8)][noslash(_0x66289b['symbol'])]&&(loading[_0x19bd59(0x24d)]=loading[_0x19bd59(0x24d)]['filter'](_0x1bac36=>_0x1bac36!=_0x66289b[_0x19bd59(0x20f)]),_0x55acbd++);}),loading[_0x9fcab8(0x187)]=Math[_0x9fcab8(0x228)](_0x55acbd/(currentCoins[_0x9fcab8(0x25e)]-0x1)*0x64);_0x26693d>0x1e*0x5&&(loading[_0x9fcab8(0x189)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x9fcab8(0x221)]=!![],emitLoadingProgress();break;}else _0x55acbd!=_0x5ece75&&(_0x5ece75=_0x55acbd,emitLoadingProgress()),_0x26693d++,await sleep(0xc8);}if(_0x55acbd==currentCoins[_0x9fcab8(0x25e)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x3029d8=_0x1a3c80;proxyEmit(_0x3029d8(0x18a),loading);}async function getFiat(){const _0xd31563=_0x1a3c80;let _0x539cd2=0x0,_0x4cefe3=0x0;try{_0x539cd2=global[_0xd31563(0x1d8)][stablecoins[_0xd31563(0x1d9)][_0xd31563(0x1d5)]],_0x4cefe3=global['ticker'][stablecoins['usd']['coin']];}catch(_0x13026e){await handleError(_0x13026e,_0xd31563(0x28c));}return{'eur':Number(_0x539cd2),'usd':Number(_0x4cefe3)};}function setStartDatePerformance(){const _0x254e1d=_0x1a3c80;if(config&&config['liquidity'][0x0][_0x254e1d(0x1a0)][_0x254e1d(0x25e)]!=0x0){const _0x39ee02=config[_0x254e1d(0x22b)][0x0][_0x254e1d(0x1a0)];dbPerformance[_0x254e1d(0x26a)](_0x254e1d(0x260))['find']({'date':config[_0x254e1d(0x215)]})['assign']({'coins':_0x39ee02})[_0x254e1d(0x1df)]();}}async function recreateHistory(_0x1bc5ed){const _0x4fc6f7=_0x1a3c80;let _0x2b3917,_0x2db73c=[];logHistory(_0x4fc6f7(0x19c),_0x4fc6f7(0x19a)),_0x1bc5ed[_0x4fc6f7(0x261)][_0x4fc6f7(0x1f1)](_0x48c9c5=>{const _0x318c97=_0x4fc6f7;if(_0x48c9c5[_0x318c97(0x1d5)]!=config[_0x318c97(0x18f)]&&!_0x48c9c5[_0x318c97(0x207)])_0x2db73c[_0x318c97(0x1c5)]({'coin':_0x48c9c5[_0x318c97(0x1d5)],'symbol':_0x48c9c5[_0x318c97(0x20f)]});});let _0x6a05e3=[];try{const _0x27801e=fns[_0x4fc6f7(0x235)](fns['parseISO'](_0x1bc5ed[_0x4fc6f7(0x215)][_0x4fc6f7(0x1d7)](/\//g,'-')),_0x4fc6f7(0x1f7));for(const _0x4ae371 of _0x2db73c){if(_0x4ae371[_0x4fc6f7(0x1d5)]!=config[_0x4fc6f7(0x18f)])_0x2b3917=await exchange['fetchOrders'](_0x4ae371[_0x4fc6f7(0x20f)],Date[_0x4fc6f7(0x247)](_0x27801e));_0x2b3917[_0x4fc6f7(0x1f1)](_0x164186=>{const _0x2a4a3d=_0x4fc6f7,_0x240f92=_0x4ae371['symbol']['includes'](config[_0x2a4a3d(0x18f)]+'/'),_0xd7c349=fns['format'](fns[_0x2a4a3d(0x213)](_0x164186['datetime']),_0x2a4a3d(0x199)),_0x38f86d=fns[_0x2a4a3d(0x235)](fns['parseISO'](_0x164186[_0x2a4a3d(0x26d)]),'yyyy/MM/dd');let _0x3e85e8;if(_0x164186[_0x2a4a3d(0x1c3)]==_0x2a4a3d(0x24b)&&_0x240f92==![])_0x3e85e8=_0x164186[_0x2a4a3d(0x234)];if(_0x164186[_0x2a4a3d(0x1c3)]==_0x2a4a3d(0x24b)&&_0x240f92==!![])_0x3e85e8=-_0x164186[_0x2a4a3d(0x234)]*_0x164186[_0x2a4a3d(0x252)];if(_0x164186['side']=='sell'&&_0x240f92==![])_0x3e85e8=-_0x164186[_0x2a4a3d(0x234)];if(_0x164186[_0x2a4a3d(0x1c3)]==_0x2a4a3d(0x1e6)&&_0x240f92==!![])_0x3e85e8=_0x164186[_0x2a4a3d(0x234)]*_0x164186[_0x2a4a3d(0x252)];_0x6a05e3[_0x2a4a3d(0x1c5)]({'timestamp':_0xd7c349,'date':_0x38f86d,'coin':_0x4ae371[_0x2a4a3d(0x1d5)],'symbol':_0x4ae371[_0x2a4a3d(0x20f)],'type':_0x164186[_0x2a4a3d(0x273)],'side':_0x164186[_0x2a4a3d(0x1c3)],'reverse':_0x240f92,'amount':formatResult(_0x164186[_0x2a4a3d(0x1cf)],0x8),'filled':formatResult(_0x164186[_0x2a4a3d(0x1cf)],0x8),'coinamount':formatResult(_0x3e85e8,0x8),'price':formatResult(_0x164186[_0x2a4a3d(0x252)],0x8)});let _0x116a0f;if(_0x164186[_0x2a4a3d(0x1c3)]=='buy'&&_0x240f92==![])_0x116a0f=-_0x164186[_0x2a4a3d(0x234)]*_0x164186[_0x2a4a3d(0x252)];if(_0x164186['side']=='buy'&&_0x240f92==!![])_0x116a0f=_0x164186[_0x2a4a3d(0x234)];if(_0x164186['side']==_0x2a4a3d(0x1e6)&&_0x240f92==![])_0x116a0f=_0x164186[_0x2a4a3d(0x234)]*_0x164186[_0x2a4a3d(0x252)];if(_0x164186[_0x2a4a3d(0x1c3)]==_0x2a4a3d(0x1e6)&&_0x240f92==!![])_0x116a0f=-_0x164186[_0x2a4a3d(0x234)];_0x6a05e3[_0x2a4a3d(0x1c5)]({'date':_0x38f86d,'coin':config[_0x2a4a3d(0x18f)],'coinamount':formatResult(_0x116a0f,0x8)});});}_0x6a05e3[_0x4fc6f7(0x216)]((_0x15b5bb,_0x26c5f7)=>_0x15b5bb[_0x4fc6f7(0x239)]>_0x26c5f7[_0x4fc6f7(0x239)]?0x1:_0x26c5f7['timestamp']>_0x15b5bb[_0x4fc6f7(0x239)]?-0x1:0x0),dbLogs['get']('logs')[_0x4fc6f7(0x276)]()[_0x4fc6f7(0x1df)](),_0x6a05e3[_0x4fc6f7(0x1f1)](_0x25b634=>{const _0x1ebf29=_0x4fc6f7;let _0x345299;_0x25b634[_0x1ebf29(0x1d5)]!=config[_0x1ebf29(0x18f)]&&(_0x345299={'time':_0x25b634[_0x1ebf29(0x239)],'type':_0x1ebf29(0x1b8),'event':_0x1ebf29(0x1cb)+_0x25b634[_0x1ebf29(0x20f)]+'\x20'+_0x25b634[_0x1ebf29(0x1c3)]+'\x20#'+_0x25b634['amount']+'\x20@'+_0x25b634['price']},dbLogs[_0x1ebf29(0x26a)]('logs')[_0x1ebf29(0x1c5)](_0x345299)[_0x1ebf29(0x1df)]());});const _0x5776d0=fns[_0x4fc6f7(0x202)]({'start':new Date(_0x1bc5ed['startdate']),'end':new Date()})[_0x4fc6f7(0x17b)](_0xd79ac8=>fns[_0x4fc6f7(0x235)](_0xd79ac8,'yyyy/MM/dd'));let _0x4c132b=[];_0x1bc5ed[_0x4fc6f7(0x261)][_0x4fc6f7(0x1f1)](_0x1aa4d9=>{const _0x1b2d2b=_0x4fc6f7;if(!_0x1aa4d9[_0x1b2d2b(0x207)]){_0x4c132b[_0x1aa4d9[_0x1b2d2b(0x1d5)]]=[];let _0x52a3de=_0x1aa4d9['startnumber'];_0x5776d0['forEach']((_0x3ffe72,_0x5b4c8e)=>{const _0x285465=_0x1b2d2b;let _0x3f61e7=_0x6a05e3[_0x285465(0x193)](_0x4fd0a1=>_0x4fd0a1[_0x285465(0x1d5)]==_0x1aa4d9[_0x285465(0x1d5)]&&_0x4fd0a1[_0x285465(0x177)]==_0x3ffe72);if(_0x3f61e7[_0x285465(0x25e)]!=0x0){let _0x38d9c6=_0x3f61e7['reduce']((_0x4a8083,_0x1c29b1)=>{return _0x4a8083+=_0x1c29b1['coinamount'],_0x4a8083;},0x0);_0x52a3de+=_0x38d9c6;}_0x4c132b[_0x1aa4d9[_0x285465(0x1d5)]][_0x3ffe72]=_0x52a3de;});}});const _0x125c17=[..._0x2db73c];_0x125c17[_0x4fc6f7(0x1c5)]({'coin':stablecoins[_0x4fc6f7(0x1d9)][_0x4fc6f7(0x1d5)],'symbol':stablecoins['eur']['symbol']}),_0x125c17['push']({'coin':stablecoins[_0x4fc6f7(0x1fe)][_0x4fc6f7(0x1d5)],'symbol':stablecoins[_0x4fc6f7(0x1fe)]['symbol']});let _0x1483f7=[];for(const _0x430596 of _0x125c17){_0x1483f7[_0x430596[_0x4fc6f7(0x1d5)]]=await getCloses(_0x430596[_0x4fc6f7(0x20f)],new Date(_0x1bc5ed[_0x4fc6f7(0x215)]));}dbPerformance[_0x4fc6f7(0x26a)](_0x4fc6f7(0x260))[_0x4fc6f7(0x276)]()['write'](),_0x5776d0[_0x4fc6f7(0x1f1)]((_0x511606,_0x275a96)=>{const _0x290c81=_0x4fc6f7;let _0x5ca44d,_0x526b98=[];_0x275a96==0x0?(_0x1bc5ed[_0x290c81(0x261)][_0x290c81(0x1f1)](_0x2d94d5=>{const _0x473d43=_0x290c81;!_0x2d94d5[_0x473d43(0x207)]&&_0x526b98[_0x473d43(0x1c5)]({'coin':_0x2d94d5[_0x473d43(0x1d5)],'number':_0x2d94d5[_0x473d43(0x17f)],'price':_0x2d94d5[_0x473d43(0x25c)]});}),_0x5ca44d={'date':_0x511606,'eur':_0x1483f7[stablecoins[_0x290c81(0x1d9)][_0x290c81(0x1d5)]][_0x275a96],'usd':_0x1483f7[stablecoins[_0x290c81(0x1fe)][_0x290c81(0x1d5)]][_0x275a96],'coins':_0x526b98}):(_0x1bc5ed[_0x290c81(0x261)]['forEach'](_0x3dd492=>{const _0x2a3337=_0x290c81;!_0x3dd492[_0x2a3337(0x207)]&&_0x526b98['push']({'coin':_0x3dd492[_0x2a3337(0x1d5)],'number':_0x4c132b[_0x3dd492[_0x2a3337(0x1d5)]][_0x511606],'price':_0x3dd492['coin']==config[_0x2a3337(0x18f)]?0x1:_0x1483f7[_0x3dd492[_0x2a3337(0x1d5)]][_0x275a96]});}),_0x5ca44d={'date':_0x511606,'eur':_0x1483f7[stablecoins[_0x290c81(0x1d9)][_0x290c81(0x1d5)]][_0x275a96],'usd':_0x1483f7[stablecoins['usd']['coin']][_0x275a96],'coins':_0x526b98}),dbPerformance[_0x290c81(0x26a)]('data')[_0x290c81(0x1c5)](_0x5ca44d)[_0x290c81(0x1df)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x5c0243 of _0x6a05e3){_0x5c0243[_0x4fc6f7(0x1d5)]!=config[_0x4fc6f7(0x18f)]&&await updateCoinResults(_0x5c0243);}logHistory(_0x4fc6f7(0x19c),_0x4fc6f7(0x23e));}catch(_0x3f2f31){await handleError(_0x3f2f31,_0x4fc6f7(0x1e2));}}async function getCloses(_0xc3822c,_0x4d27a2,_0x15eda2=undefined){const _0x2a0015=_0x1a3c80,_0x2a2abd='1d';let _0x1a01fb,_0x595607;const _0x338e8f=fns[_0x2a0015(0x195)](new Date(),_0x4d27a2)+0x1;try{const _0x258793=exchange[_0x2a0015(0x1ea)]()-_0x338e8f*0x18*0xe10*0x3e8;_0x1a01fb=await exchange[_0x2a0015(0x275)](_0xc3822c,_0x2a2abd,_0x258793,_0x15eda2),_0x595607=await exchange[_0x2a0015(0x257)](_0xc3822c);}catch(_0x5d9f9e){await handleError(_0x5d9f9e,_0x2a0015(0x27c));}let _0x97c02d=ohlcvToCloses(_0x1a01fb);return _0x97c02d[_0x2a0015(0x1c5)](_0x595607[_0xc3822c]['last']),_0x97c02d;}function ohlcvToCloses(_0x2c754f){let _0x1fa16b=[];return _0x2c754f['forEach'](function(_0x32e4ac){const _0x745422=_0x49eb;_0x1fa16b[_0x745422(0x1c5)](_0x32e4ac[0x4]);}),_0x1fa16b;}function oneTimeMigration(){const _0x781e84=_0x1a3c80;let _0x57988e=dbLogs[_0x781e84(0x26a)](_0x781e84(0x1b9))[_0x781e84(0x222)]();if(_0x57988e!=_0x781e84(0x17d)){dbLogs['set'](_0x781e84(0x1b9),_0x781e84(0x17d))[_0x781e84(0x1df)]();let _0x532831=[];const _0x13676b=dbLogs[_0x781e84(0x26a)](_0x781e84(0x25a))['value']();_0x13676b['forEach'](_0x24a7ea=>{const _0x199a62=_0x781e84;_0x532831[_0x199a62(0x1c5)]({'time':_0x24a7ea[_0x199a62(0x1ed)],'type':_0x24a7ea[_0x199a62(0x273)],'event':_0x24a7ea[_0x199a62(0x22e)]});}),dbLogs[_0x781e84(0x26a)](_0x781e84(0x25a))[_0x781e84(0x185)](_0x532831)['write']();}let _0x1f8bbf=dbConfig[_0x781e84(0x26a)](_0x781e84(0x1b9))[_0x781e84(0x222)]();if(_0x1f8bbf!=_0x781e84(0x17d)){dbConfig['set'](_0x781e84(0x1b9),'2.3.5')[_0x781e84(0x1df)]();let _0x433062=dbConfig['get'](_0x781e84(0x253))['find']({'botID':botID})[_0x781e84(0x222)]();if(_0x433062){let _0x5132d0=[];_0x433062[_0x781e84(0x261)]['forEach'](_0x3af31c=>{const _0x3773c2=_0x781e84;_0x5132d0[_0x3773c2(0x1c5)]({'coin':_0x3af31c[_0x3773c2(0x1d5)],'number':_0x3af31c[_0x3773c2(0x17f)],'price':_0x3af31c['startprice']}),delete _0x3af31c[_0x3773c2(0x17f)],delete _0x3af31c[_0x3773c2(0x25c)];});if(_0x5132d0[_0x781e84(0x25e)]!==0x0)fs[_0x781e84(0x1ec)](configbackuppath+(_0x781e84(0x210)+botID+_0x781e84(0x1ae)),JSON['stringify'](_0x5132d0,null,0x4),function(_0x53e4ed){if(_0x53e4ed){}});const _0x2a55fd=(_0x26bb31,_0x37abf5)=>{const _0x165391=_0x781e84;let _0x586202=[];_0x37abf5[_0x165391(0x1f1)](_0x12968a=>{const _0x22b802=_0x165391,_0x562690=_0x26bb31[_0x22b802(0x17e)](_0x2863c=>_0x2863c[_0x22b802(0x1d5)]==_0x12968a[_0x22b802(0x1d5)]);if(!_0x562690)_0x586202[_0x22b802(0x1c5)](_0x12968a);});let _0x234ab5=[];return _0x26bb31[_0x165391(0x1f1)](_0x20492e=>{const _0x333569=_0x165391,_0x49bd14=_0x37abf5[_0x333569(0x17e)](_0xd277=>_0xd277[_0x333569(0x1d5)]==_0x20492e['coin']);if(!_0x49bd14||_0x49bd14[_0x333569(0x1b0)]==0x0&&_0x20492e['number']!=0x0)_0x234ab5['push'](_0x20492e);}),{'missingDay1':_0x586202,'notInDay2':_0x234ab5};},_0x3fd2f4=dbPerformance[_0x781e84(0x26a)](_0x781e84(0x260))[_0x781e84(0x1b2)]()['value']();if(_0x3fd2f4[_0x781e84(0x25e)]>0x1){const {missingDay1:_0xb860fa,notInDay2:_0x45546d}=_0x2a55fd(_0x5132d0,_0x3fd2f4[0x1][_0x781e84(0x241)]);_0x5132d0=[..._0x5132d0,..._0xb860fa],_0x45546d[_0x781e84(0x1f1)](_0x40d940=>{const _0x1cb8ec=_0x781e84;let _0x246b2e=_0x5132d0[_0x1cb8ec(0x1a8)](_0xf948a9=>_0xf948a9['coin']==_0x40d940[_0x1cb8ec(0x1d5)]);_0x246b2e!=-0x1&&_0x5132d0['splice'](_0x246b2e,0x1);});}_0x5132d0[_0x781e84(0x216)]((_0x18167c,_0x58a321)=>_0x18167c[_0x781e84(0x1d5)]>_0x58a321['coin']?0x1:_0x58a321['coin']>_0x18167c[_0x781e84(0x1d5)]?-0x1:0x0);let _0x488bbc=[{'date':_0x433062[_0x781e84(0x215)],'changes':_0x5132d0}];_0x3fd2f4['length']>0x2&&_0x3fd2f4[_0x781e84(0x1f1)]((_0xd82925,_0x525cfd)=>{const _0x38437c=_0x781e84;if(_0x525cfd>0x0&&_0x525cfd<_0x3fd2f4[_0x38437c(0x25e)]-0x1){const {missingDay1:_0x1356d6,notInDay2:_0x518b8e}=_0x2a55fd(_0x3fd2f4[_0x525cfd]['coins'],_0x3fd2f4[_0x525cfd+0x1]['coins']);_0x5132d0=[],(_0x1356d6['length']!=0x0||_0x518b8e[_0x38437c(0x25e)]!=0x0)&&(_0x1356d6[_0x38437c(0x25e)]!=0x0&&_0x5132d0['push'](..._0x1356d6),_0x518b8e[_0x38437c(0x25e)]!=0x0&&(_0x518b8e[_0x38437c(0x1f1)](_0x226ef7=>{const _0x5465a6=_0x38437c;_0x226ef7[_0x5465a6(0x1b0)]=-_0x226ef7[_0x5465a6(0x1b0)];}),_0x5132d0[_0x38437c(0x1c5)](..._0x518b8e)),_0x5132d0['sort']((_0x3a599a,_0x21c6a7)=>_0x3a599a[_0x38437c(0x1d5)]>_0x21c6a7[_0x38437c(0x1d5)]?0x1:_0x21c6a7[_0x38437c(0x1d5)]>_0x3a599a[_0x38437c(0x1d5)]?-0x1:0x0),_0x488bbc[_0x38437c(0x1c5)]({'date':_0x3fd2f4[_0x525cfd+0x1][_0x38437c(0x177)],'changes':_0x5132d0}));}}),dbConfig[_0x781e84(0x26a)](_0x781e84(0x253))[_0x781e84(0x17e)]({'botID':botID})[_0x781e84(0x185)]({..._0x433062,'liquidity':_0x488bbc})[_0x781e84(0x1df)]();}}config=getConfiguration(botID);let _0x2963a8=dbPerformance[_0x781e84(0x26a)](_0x781e84(0x1b9))['value']();_0x2963a8!='2.3.5'&&(dbPerformance[_0x781e84(0x1f6)](_0x781e84(0x1b9),_0x781e84(0x17d))[_0x781e84(0x1df)](),setStartDatePerformance());let _0xd38af7=dbCoinResults[_0x781e84(0x26a)](_0x781e84(0x1b9))[_0x781e84(0x222)]();_0xd38af7!=_0x781e84(0x17d)&&dbCoinResults['set']('version',_0x781e84(0x17d))[_0x781e84(0x1df)]();}function getConfiguration(_0x9e5449){const _0x5844c2=_0x1a3c80;let _0xab4f27=dbConfig[_0x5844c2(0x26a)]('bot')[_0x5844c2(0x17e)]({'botID':_0x9e5449})[_0x5844c2(0x222)]();if(_0xab4f27){}else _0xab4f27={'botID':_0x9e5449,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x5844c2(0x1de)+_0x9e5449,'showname':![],'threshold':'3','ordertype':_0x5844c2(0x280),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x5844c2(0x1d0)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0xab4f27;}function emittedConfiguration(){const _0x3c94fc=_0x1a3c80;let _0x2f7639;return config[_0x3c94fc(0x1e7)]==''?_0x2f7639=config:_0x2f7639={...config,'apiKey':_0x3c94fc(0x28b),'apiSecret':_0x3c94fc(0x28b)},_0x2f7639;}function getSettings(){const _0x7feab7=_0x1a3c80;return dbSettings[_0x7feab7(0x26a)](_0x7feab7(0x232))['value']();}function getSecure(){const _0xc4250e=_0x1a3c80;return dbSecure['get']('secure')[_0xc4250e(0x222)]()||{};}function updateTimeshift(_0x2084d9){const _0x5e75aa=_0x1a3c80;let _0x220a20=dbConfig[_0x5e75aa(0x26a)](_0x5e75aa(0x253))[_0x5e75aa(0x17e)]({'botID':botID})[_0x5e75aa(0x222)]();_0x220a20&&dbConfig[_0x5e75aa(0x26a)](_0x5e75aa(0x253))[_0x5e75aa(0x17e)]({'botID':botID})[_0x5e75aa(0x185)]({'timeshift':_0x2084d9})[_0x5e75aa(0x1df)](),config[_0x5e75aa(0x1d0)]=_0x2084d9,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x3ad78b){const _0x4d6966=_0x1a3c80;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x1f74b4=dbConfig[_0x4d6966(0x26a)](_0x4d6966(0x253))[_0x4d6966(0x17e)]({'botID':botID})[_0x4d6966(0x222)]();_0x3ad78b={..._0x3ad78b,'apiKey':crypt[_0x4d6966(0x20c)](secure['privateKey'],_0x3ad78b[_0x4d6966(0x1e7)])[_0x4d6966(0x1eb)],'apiSecret':crypt['decrypt'](secure[_0x4d6966(0x229)],_0x3ad78b[_0x4d6966(0x21a)])['message']};if(_0x1f74b4){if(_0x3ad78b[_0x4d6966(0x1e7)]==_0x4d6966(0x28b))_0x3ad78b[_0x4d6966(0x1e7)]=config[_0x4d6966(0x1e7)];if(_0x3ad78b[_0x4d6966(0x21a)]==_0x4d6966(0x28b))_0x3ad78b['apiSecret']=config['apiSecret'];dbConfig[_0x4d6966(0x26a)](_0x4d6966(0x253))[_0x4d6966(0x17e)]({'botID':botID})[_0x4d6966(0x185)](_0x3ad78b)[_0x4d6966(0x1df)]();}else dbConfig[_0x4d6966(0x26a)](_0x4d6966(0x253))[_0x4d6966(0x1c5)](_0x3ad78b)[_0x4d6966(0x1df)](),process[_0x4d6966(0x266)]({'status':_0x4d6966(0x206),'live':'running'},_0x3a731a=>{});config={..._0x3ad78b},setStartDatePerformance(),process[_0x4d6966(0x266)]({'botname':_0x3ad78b[_0x4d6966(0x18d)]},_0x48e471=>{});const _0x3e0574=getNormalizedPerformance();getStartingBalances(_0x3e0574),emitPerformance(_0x3e0574),proxyEmit(_0x4d6966(0x1e0)),reset();}async function storeHeadless(_0xd5499){const _0x58ef07=_0x1a3c80,_0x16b475={...config,'headless':_0xd5499[_0x58ef07(0x24a)]};let _0x230902=dbConfig[_0x58ef07(0x26a)](_0x58ef07(0x253))['find']({'botID':botID})[_0x58ef07(0x222)]();_0x230902&&dbConfig[_0x58ef07(0x26a)]('bot')[_0x58ef07(0x17e)]({'botID':botID})[_0x58ef07(0x185)](_0x16b475)[_0x58ef07(0x1df)](),config={..._0x16b475},proxyEmit(_0x58ef07(0x26f),emittedConfiguration());}function noslash(_0x2d5510){const _0x2a07ec=_0x1a3c80;return _0x2d5510[_0x2a07ec(0x1d7)]('/','');}function updateNumberCoins(_0x5349dd){const _0x496016=_0x1a3c80;_0x5349dd[_0x496016(0x20d)]&&_0x5349dd[_0x496016(0x20d)]=='outboundAccountPosition'&&_0x5349dd[_0x496016(0x263)][_0x496016(0x1f1)](_0x33d821=>{const _0x1404b9=_0x496016;let _0x1110b7=currentCoins['find'](_0x1e9e73=>_0x1e9e73[_0x1404b9(0x1d5)]==_0x33d821[_0x1404b9(0x218)]),_0x30f7fd=config[_0x1404b9(0x261)][_0x1404b9(0x17e)](_0x2cffe4=>_0x2cffe4[_0x1404b9(0x1d5)]==_0x33d821[_0x1404b9(0x218)]);if(_0x1110b7&&_0x30f7fd)_0x1110b7[_0x1404b9(0x1b0)]=Math[_0x1404b9(0x278)](Number(_0x33d821[_0x1404b9(0x1a9)])+(_0x30f7fd[_0x1404b9(0x18c)]||0x0),0x0);});if(_0x5349dd[_0x496016(0x20d)]&&_0x5349dd['eventType']=='executionReport'){if(_0x5349dd[_0x496016(0x182)]=='LIMIT'&&_0x5349dd[_0x496016(0x1fc)]==_0x496016(0x1c9)){if(lastOrders)lastOrders[_0x496016(0x1f1)](_0xbca7fc=>{const _0x49d775=_0x496016;if(_0xbca7fc['orderId']==_0x5349dd[_0x49d775(0x250)]){if(_0xbca7fc[_0x49d775(0x205)])_0xbca7fc['filled']=_0x5349dd[_0x49d775(0x249)]*_0xbca7fc[_0x49d775(0x252)];else _0xbca7fc['filled']=_0x5349dd[_0x49d775(0x249)];}});}}}async function getCoins(_0xb4891b=!![],_0x446991=config[_0x1a3c80(0x18f)]){const _0x23c50c=_0x1a3c80;let _0x26a344,_0x17b079=[],_0x2bc07c=[],_0x25866f=[];try{_0x26a344=await exchange[_0x23c50c(0x225)](),mybalances=_0x26a344[_0x23c50c(0x176)];if(!_0xb4891b)for(const [_0x356b2c,_0x334e25]of Object[_0x23c50c(0x259)](mybalances)){_0x25866f['push'](_0x356b2c);}else config[_0x23c50c(0x261)][_0x23c50c(0x1f1)](_0x574e49=>{const _0x3afcd7=_0x23c50c;if(!_0x574e49['excluded'])_0x25866f[_0x3afcd7(0x1c5)](_0x574e49['coin']);});if(_0x446991=='')for(const [_0x2bdf18,_0x1d0bd3]of Object['entries'](mybalances)){_0x1d0bd3['toString']()!=0x0&&_0x2bc07c['push']({'coin':_0x2bdf18});}else for(const [_0x26d3e6,_0x56243a]of Object[_0x23c50c(0x259)](mybalances)){if(_0x25866f[_0x23c50c(0x184)](_0x26d3e6)){const _0xb8cb5a=config['portfolio']['find'](_0xd4ad02=>_0xd4ad02[_0x23c50c(0x1d5)]==_0x26d3e6);if((_0x56243a[_0x23c50c(0x1ad)]()!=0x0||_0xb8cb5a)&&(allSymbols['includes'](_0x26d3e6+'/'+_0x446991)||_0x26d3e6==_0x446991))_0x2bc07c['push']({'coin':_0x26d3e6,'symbol':_0x26d3e6+'/'+_0x446991,'reverse':![],'number':Math['max'](_0x56243a+(_0xb8cb5a&&_0xb8cb5a['offset']||0x0),0x0)}),_0x26d3e6!=_0x446991&&_0x17b079[_0x23c50c(0x1c5)](_0x26d3e6+'/'+_0x446991);else(_0x56243a[_0x23c50c(0x1ad)]()!=0x0||_0xb8cb5a)&&allSymbols[_0x23c50c(0x184)](_0x446991+'/'+_0x26d3e6)&&(_0x2bc07c[_0x23c50c(0x1c5)]({'coin':_0x26d3e6,'symbol':_0x446991+'/'+_0x26d3e6,'reverse':!![],'number':Math[_0x23c50c(0x278)](_0x56243a+(_0xb8cb5a&&_0xb8cb5a[_0x23c50c(0x18c)]||0x0),0x0)}),_0x26d3e6!=_0x446991&&_0x17b079[_0x23c50c(0x1c5)](_0x446991+'/'+_0x26d3e6));}}}catch(_0x184583){if(!_0xb4891b){if(_0x184583['toString']()[_0x23c50c(0x184)]('API-key\x20format\x20invalid'))return logHistory(_0x23c50c(0x270),_0x23c50c(0x21e)),![];else{if(_0x184583[_0x23c50c(0x1ad)]()[_0x23c50c(0x184)](_0x23c50c(0x219)))return logHistory('error','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x184583[_0x23c50c(0x1ad)]()['includes'](_0x23c50c(0x23a)))return logHistory('error',_0x23c50c(0x20a)),![];else await handleError(_0x184583,_0x23c50c(0x1c1));}}}else await handleError(_0x184583,'getCoins()');}return _0x2bc07c;}async function getPortfolio(_0x529831){const _0x5c67a1=_0x1a3c80;let _0x445754=[],_0x20c3c1=[],_0x325197,_0x4b3abc=[],_0x184af2,_0xd0b080;_0x529831[_0x5c67a1(0x1e7)]==='************'||_0x529831[_0x5c67a1(0x21a)]===_0x5c67a1(0x28b)?(_0x184af2=config[_0x5c67a1(0x1e7)],_0xd0b080=config[_0x5c67a1(0x21a)]):(_0x184af2=_0x529831[_0x5c67a1(0x1e7)],_0xd0b080=_0x529831[_0x5c67a1(0x21a)]);await initExchange(_0x184af2,_0xd0b080);let _0x47c125=await loadSymbols();if(_0x47c125){_0x4b3abc=await getCoins(![],_0x529831['basecoin']);if(_0x4b3abc===![])proxyEmit(_0x5c67a1(0x261),![]);else{if(_0x529831['basecoin']=='')proxyEmit(_0x5c67a1(0x261),_0x4b3abc);else{_0x4b3abc['forEach'](_0x3551c3=>{const _0x33f2a2=_0x5c67a1;_0x445754[_0x33f2a2(0x1c5)](_0x3551c3[_0x33f2a2(0x20f)]);});try{_0x20c3c1=await exchange[_0x5c67a1(0x257)](_0x445754);}catch(_0x415d14){await handleError(_0x415d14,_0x5c67a1(0x254));}_0x4b3abc[_0x5c67a1(0x1f1)](_0x5696ce=>{const _0x29df79=_0x5c67a1;_0x5696ce[_0x29df79(0x1d5)]!=_0x529831[_0x29df79(0x18f)]?_0x325197=_0x5696ce[_0x29df79(0x205)]?0x1/_0x20c3c1[_0x5696ce[_0x29df79(0x20f)]][_0x29df79(0x180)]:_0x20c3c1[_0x5696ce[_0x29df79(0x20f)]][_0x29df79(0x180)]:_0x325197=0x1,_0x5696ce['price']=formatResult(_0x325197,0x8);}),proxyEmit(_0x5c67a1(0x261),_0x4b3abc);}}}else proxyEmit(_0x5c67a1(0x261),![]);}function checkMinimums(_0x2263b4){const _0x6fee33=_0x1a3c80;let _0x2284f1=!![];const _0x4f0280=!_0x2263b4['reverse']?markets[_0x2263b4['symbol']][_0x6fee33(0x19d)][_0x6fee33(0x234)][_0x6fee33(0x251)]:markets[_0x2263b4[_0x6fee33(0x20f)]][_0x6fee33(0x19d)][_0x6fee33(0x214)][_0x6fee33(0x251)],_0x2abff2=!_0x2263b4[_0x6fee33(0x205)]?markets[_0x2263b4[_0x6fee33(0x20f)]][_0x6fee33(0x19d)]['cost'][_0x6fee33(0x251)]:markets[_0x2263b4['symbol']][_0x6fee33(0x19d)][_0x6fee33(0x234)][_0x6fee33(0x251)];if(Math['abs'](_0x2263b4['trade'])<_0x4f0280)_0x2284f1=![];if(Math[_0x6fee33(0x27b)](_0x2263b4[_0x6fee33(0x1b3)])*_0x2263b4[_0x6fee33(0x180)]<_0x2abff2)_0x2284f1=![];if(_0x2263b4[_0x6fee33(0x1c3)]==_0x6fee33(0x1e6)){let _0x4b2af5=config[_0x6fee33(0x261)]['find'](_0x551952=>_0x551952[_0x6fee33(0x1d5)]==_0x2263b4[_0x6fee33(0x1d5)]);if(Math[_0x6fee33(0x27b)](_0x2263b4[_0x6fee33(0x1b3)])>_0x2263b4[_0x6fee33(0x1b0)]-_0x4b2af5[_0x6fee33(0x18c)])_0x2284f1=![];}return _0x2284f1;}async function getBalances(){const _0x25dbec=_0x1a3c80;let _0x56fd75=0x0,_0x343bca;const _0x46f87f=config[_0x25dbec(0x1e9)];currentCoins[_0x25dbec(0x1f1)](_0x38cbdd=>{const _0x33cbef=_0x25dbec;if(_0x38cbdd[_0x33cbef(0x1d5)]!=config[_0x33cbef(0x18f)]){let _0x2bab90=global['ticker'][noslash(_0x38cbdd[_0x33cbef(0x20f)])];_0x343bca=_0x38cbdd['reverse']?0x1/_0x2bab90:_0x2bab90;}else _0x343bca=0x1;let _0x2be6c4=_0x38cbdd[_0x33cbef(0x1b0)]*_0x343bca;_0x56fd75+=_0x2be6c4,_0x38cbdd[_0x33cbef(0x180)]=formatResult(Number(_0x343bca),0x8),_0x38cbdd['value']=_0x2be6c4;}),currentCoins[_0x25dbec(0x1f1)](_0x176c9b=>{const _0x3a3afc=_0x25dbec;let _0x53d029=config[_0x3a3afc(0x261)][_0x3a3afc(0x17e)](_0xe950bb=>_0xe950bb[_0x3a3afc(0x1d5)]==_0x176c9b[_0x3a3afc(0x1d5)]),_0x3d9887=Number(_0x53d029['distribution']),_0x2cc3d8=_0x176c9b[_0x3a3afc(0x222)]/_0x56fd75*0x64,_0x27e9bf=_0x3d9887*_0x56fd75/0x64/_0x176c9b['last']-_0x176c9b[_0x3a3afc(0x1b0)];_0x176c9b[_0x3a3afc(0x22a)]=formatResult(_0x2cc3d8,0x3),_0x176c9b[_0x3a3afc(0x1a7)]=formatResult(_0x3d9887,0x3),_0x176c9b[_0x3a3afc(0x1b3)]=formatResult(_0x27e9bf,0x8),_0x176c9b[_0x3a3afc(0x1c3)]='',_0x176c9b[_0x3a3afc(0x1ab)]='';if(_0x176c9b[_0x3a3afc(0x1d5)]!=config['basecoin']){if(_0x176c9b[_0x3a3afc(0x22a)]>_0x3d9887)_0x176c9b[_0x3a3afc(0x1c3)]='sell',_0x176c9b[_0x3a3afc(0x1ab)]=checkMinimums(_0x176c9b);else _0x176c9b[_0x3a3afc(0x22a)]<_0x3d9887&&(_0x176c9b['side']=_0x3a3afc(0x24b),_0x176c9b[_0x3a3afc(0x1ab)]=checkMinimums(_0x176c9b));}_0x176c9b['delta']=_0x176c9b[_0x3a3afc(0x22a)]/_0x176c9b[_0x3a3afc(0x1a7)]-0x1;}),currentCoins['sort']((_0x32ad3e,_0x1dcde9)=>_0x32ad3e[_0x25dbec(0x188)]<_0x1dcde9[_0x25dbec(0x188)]?0x1:_0x1dcde9[_0x25dbec(0x188)]<_0x32ad3e['delta']?-0x1:0x0);const _0x4220c2=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4220c2['eur'],'usd':_0x4220c2[_0x25dbec(0x1fe)],'portfolio':JSON[_0x25dbec(0x24f)](currentCoins),'threshold':_0x46f87f},proxyEmit(_0x25dbec(0x263),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x46f87f});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x46f87f});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5a0575=_0x1a3c80;if(!lastBalances)return;let _0x54436f=[],_0x229a42,_0x1063c5=JSON['parse'](lastBalances[_0x5a0575(0x261)]);_0x1063c5[_0x5a0575(0x216)]((_0x4216a6,_0x484495)=>_0x4216a6[_0x5a0575(0x1d5)]>_0x484495[_0x5a0575(0x1d5)]?0x1:_0x484495[_0x5a0575(0x1d5)]>_0x4216a6['coin']?-0x1:0x0),_0x1063c5[_0x5a0575(0x1f1)](_0x108f7=>{const _0x3c54dc=_0x5a0575;let _0x29798e={'coin':_0x108f7['coin'],'number':_0x108f7[_0x3c54dc(0x1b0)],'price':_0x108f7['last']};_0x54436f[_0x3c54dc(0x1c5)](_0x29798e);});const _0x3f6b47=await getFiat();_0x229a42={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x3f6b47[_0x5a0575(0x1d9)],'usd':_0x3f6b47[_0x5a0575(0x1fe)],'coins':_0x54436f};let _0x3ce343=dbPerformance[_0x5a0575(0x26a)](_0x5a0575(0x260))[_0x5a0575(0x17e)]({'date':_0x229a42[_0x5a0575(0x177)]})['value']();_0x3ce343?_0x229a42[_0x5a0575(0x177)]!=config[_0x5a0575(0x215)]&&dbPerformance['get'](_0x5a0575(0x260))['find']({'date':_0x229a42[_0x5a0575(0x177)]})['assign'](_0x229a42)[_0x5a0575(0x1df)]():dbPerformance['get'](_0x5a0575(0x260))[_0x5a0575(0x1c5)](_0x229a42)[_0x5a0575(0x1df)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x318649=_0x1a3c80;let _0xda2d5a=[];if(dbPerformance[_0x318649(0x204)](_0x318649(0x260))[_0x318649(0x222)]()){let _0x3a8d6e=dbPerformance[_0x318649(0x26a)](_0x318649(0x260))['cloneDeep']()[_0x318649(0x196)](_0x318649(0x177))[_0x318649(0x222)](),_0x4bea1a=[...config[_0x318649(0x22b)]];_0x4bea1a[_0x318649(0x216)]((_0x36de00,_0x3fc69c)=>_0x36de00['date']>_0x3fc69c['date']?-0x1:_0x3fc69c[_0x318649(0x177)]>_0x36de00[_0x318649(0x177)]?0x1:0x0);let _0x1ed983=0x1,_0x3b27a3=[],_0x3d2236=0x0;_0x3a8d6e[_0x318649(0x1a6)]()['reverse']()[_0x318649(0x1f1)]((_0x1f0656,_0x57a0c8)=>{const _0x62c9e5=_0x318649;if(_0x4bea1a[_0x3d2236]){const _0x4d58a6=fns[_0x62c9e5(0x247)](_0x4bea1a[_0x3d2236][_0x62c9e5(0x177)],_0x62c9e5(0x24c),new Date()),_0xd3989a=fns['parse'](_0x1f0656[_0x62c9e5(0x177)],'yyyy/MM/dd',new Date());if(fns[_0x62c9e5(0x1dd)](_0x4d58a6,fns[_0x62c9e5(0x244)](_0xd3989a,0x1))){if(_0x57a0c8<_0x3a8d6e[_0x62c9e5(0x25e)]){let _0x5dcc3d=0x0,_0x1231b9=0x0;_0x3a8d6e[_0x3a8d6e['length']-_0x57a0c8-0x1]['coins'][_0x62c9e5(0x1f1)](_0x3f1b11=>{const _0x9235c3=_0x62c9e5;_0x1231b9+=_0x3f1b11[_0x9235c3(0x1b0)]*_0x3f1b11[_0x9235c3(0x252)];}),_0x4bea1a[_0x3d2236][_0x62c9e5(0x1a0)][_0x62c9e5(0x1f1)](_0x1755e6=>{const _0x1fe2b0=_0x62c9e5;_0x5dcc3d+=_0x1755e6[_0x1fe2b0(0x1b0)]*_0x1755e6[_0x1fe2b0(0x252)];}),_0x1ed983*=_0x5dcc3d/_0x1231b9+0x1;}_0x3d2236++;}}let _0x49dfae=0x0;_0x1f0656[_0x62c9e5(0x241)][_0x62c9e5(0x1f1)](_0x40d3ab=>{const _0x40bb43=_0x62c9e5;_0x49dfae+=_0x40d3ab[_0x40bb43(0x1b0)]*_0x40d3ab[_0x40bb43(0x252)];}),_0x3b27a3[_0x3a8d6e['length']-_0x57a0c8-0x1]=_0x49dfae*(_0x1ed983-0x1);});let _0x4bb29e=[];_0x4bea1a=[...config[_0x318649(0x22b)]]||[];let _0x4deeec=0x0;_0x3d2236=0x0,_0x3a8d6e[_0x318649(0x1f1)]((_0x47c171,_0x1eaac2)=>{const _0x15d454=_0x318649;if(_0x4bea1a[_0x3d2236]){const _0x36e85e=fns[_0x15d454(0x247)](_0x4bea1a[_0x3d2236][_0x15d454(0x177)],_0x15d454(0x24c),new Date()),_0x16426c=fns[_0x15d454(0x247)](_0x47c171[_0x15d454(0x177)],_0x15d454(0x24c),new Date()),_0x4e25c1=fns['format'](fns[_0x15d454(0x233)](_0x16426c,0x1),_0x15d454(0x24c));if(fns['isEqual'](_0x36e85e,_0x16426c)){let _0x190a95=0x0;_0x4bea1a[_0x3d2236][_0x15d454(0x1a0)][_0x15d454(0x1f1)](_0x45f531=>{const _0x129e87=_0x15d454;!_0x4bb29e[_0x45f531[_0x129e87(0x1d5)]]?_0x4bb29e[_0x45f531[_0x129e87(0x1d5)]]=_0x45f531[_0x129e87(0x1b0)]:(_0x190a95=_0x4bb29e[_0x45f531[_0x129e87(0x1d5)]],_0x4bb29e[_0x45f531[_0x129e87(0x1d5)]]+=_0x45f531['number']);const _0x3d83e0=_0x47c171[_0x129e87(0x241)][_0x129e87(0x17e)](_0x3c88e3=>_0x3c88e3[_0x129e87(0x1d5)]==_0x45f531['coin']);(!_0x3d83e0||_0x3d83e0[_0x129e87(0x1b0)]==0x0)&&(_0x4deeec+=(-_0x45f531[_0x129e87(0x1b0)]-_0x190a95)*_0x45f531['price']);}),_0x3d2236++;}}_0x47c171[_0x15d454(0x241)]['forEach']((_0x411da0,_0x3d5149)=>{const _0x310515=_0x15d454;_0x4bb29e[_0x411da0[_0x310515(0x1d5)]]&&(_0x411da0={..._0x411da0,'initial':_0x4bb29e[_0x411da0['coin']]}),_0x47c171[_0x310515(0x241)][_0x3d5149]=_0x411da0;}),_0xda2d5a[_0x15d454(0x1c5)]({'date':_0x47c171['date'],'eur':_0x47c171[_0x15d454(0x1d9)],'usd':_0x47c171[_0x15d454(0x1fe)],'offset':_0x3b27a3[_0x1eaac2],'netoffset':_0x4deeec,'coins':_0x47c171[_0x15d454(0x241)]});});}return _0xda2d5a;}function emitPerformance(_0x355771){const _0x152510=_0x1a3c80;_0x355771[_0x152510(0x25e)]!==0x0?(proxyEmit(_0x152510(0x1fb),_0x355771),lastPerformanceEmitted=getDate()):proxyEmit(_0x152510(0x1fb),[]);}function getPerf(_0x7d2871,_0x280cb2){const _0xa84340=_0x1a3c80;let _0x587a1c=0x0,_0x41849c=0x0,_0x4c5089=0x0;_0x7d2871['coins'][_0xa84340(0x1f1)](_0x2ce79c=>{const _0x3dde5f=_0xa84340;_0x587a1c+=_0x2ce79c[_0x3dde5f(0x1b0)]*_0x2ce79c['price'];});_0x280cb2&&(_0x587a1c+=_0x7d2871[_0xa84340(0x18c)]);if(config[_0xa84340(0x18f)]===_0xa84340(0x1bf))_0x41849c=_0x587a1c*_0x7d2871['eur'],_0x4c5089=_0x587a1c*_0x7d2871[_0xa84340(0x1fe)];else{if(config[_0xa84340(0x18f)]===_0xa84340(0x192)||config[_0xa84340(0x18f)]===_0xa84340(0x22c)||config[_0xa84340(0x18f)]===_0xa84340(0x268))_0x41849c=_0x587a1c*_0x7d2871[_0xa84340(0x1d9)]/_0x7d2871[_0xa84340(0x1fe)],_0x4c5089=_0x587a1c;else config[_0xa84340(0x18f)]===_0xa84340(0x1a3)&&(_0x41849c=_0x587a1c,_0x4c5089=_0x587a1c*_0x7d2871[_0xa84340(0x1fe)]/_0x7d2871[_0xa84340(0x1d9)]);}return[_0x587a1c,_0x41849c,_0x4c5089];}async function getStartingBalances(_0x5a17d6,_0x4b0d56=!![]){const _0x10a795=_0x1a3c80;if(_0x5a17d6[_0x10a795(0x25e)]!==0x0){const [_0x409395,_0x56b2f3,_0x178456]=getPerf(_0x5a17d6[0x0],!![]);let _0x2659a1=[];config[_0x10a795(0x261)][_0x10a795(0x1f1)](_0x271842=>{const _0x175bf2=_0x10a795;let _0x4ee145=0x0;config[_0x175bf2(0x22b)][_0x175bf2(0x1f1)](_0x3e5041=>{const _0x2936f7=_0x175bf2;let _0x4b3544=_0x3e5041[_0x2936f7(0x1a0)][_0x2936f7(0x17e)](_0x5491ba=>_0x5491ba[_0x2936f7(0x1d5)]==_0x271842['coin']);if(_0x4b3544)_0x4ee145+=_0x4b3544[_0x2936f7(0x1b0)];}),_0x2659a1[_0x175bf2(0x1c5)]({'coin':_0x271842[_0x175bf2(0x1d5)],'number':_0x4ee145,'price':_0x271842['price']});});const _0x1f7415={'basecoin':_0x409395,'eur':_0x56b2f3,'usd':_0x178456,'coins':_0x2659a1};if(_0x4b0d56)proxyEmit(_0x10a795(0x292),_0x1f7415);return _0x1f7415;}}function headlessMode(_0x1691f3){const _0x5cfdf4=_0x1a3c80;let _0x298bb6=_0x1691f3[_0x5cfdf4(0x261)],_0x32dfc9=_0x1691f3[_0x5cfdf4(0x1e9)],_0x571b13=[];for(let _0x53f92d of _0x298bb6){if(_0x53f92d['coin']!=config[_0x5cfdf4(0x18f)]){if(_0x53f92d[_0x5cfdf4(0x22a)]/_0x53f92d[_0x5cfdf4(0x1a7)]-0x1>=_0x32dfc9/0x64){if(_0x53f92d['valid'])_0x571b13[_0x5cfdf4(0x1c5)](_0x53f92d);}else{if(_0x53f92d[_0x5cfdf4(0x22a)]/_0x53f92d[_0x5cfdf4(0x1a7)]-0x1<=-_0x32dfc9/0x64){if(_0x53f92d[_0x5cfdf4(0x1ab)])_0x571b13[_0x5cfdf4(0x1c5)](_0x53f92d);}}}}_0x571b13[_0x5cfdf4(0x25e)]>0x0&&placeOrder(_0x571b13);}function notifyBalance(_0x372c8b){const _0x36e3af=_0x1a3c80;let _0x53c90e=_0x372c8b[_0x36e3af(0x261)],_0x46f6c7=_0x372c8b['threshold'],_0x23e8aa=[];for(let _0x6f1f81 of _0x53c90e){if(_0x6f1f81[_0x36e3af(0x1d5)]!=config[_0x36e3af(0x18f)]){if(_0x6f1f81[_0x36e3af(0x22a)]/_0x6f1f81[_0x36e3af(0x1a7)]-0x1>=_0x46f6c7/0x64){if(_0x6f1f81[_0x36e3af(0x1ab)])_0x23e8aa['push'](_0x6f1f81);}else{if(_0x6f1f81[_0x36e3af(0x22a)]/_0x6f1f81['target']-0x1<=-_0x46f6c7/0x64){if(_0x6f1f81[_0x36e3af(0x1ab)])_0x23e8aa[_0x36e3af(0x1c5)](_0x6f1f81);}}}}if(_0x23e8aa[_0x36e3af(0x25e)]>0x0){let _0x3a4e3a=_0x23e8aa['map'](_0x2c6f82=>_0x2c6f82['coin']);_0x3a4e3a[_0x36e3af(0x216)]();let _0x26c110=_0x3a4e3a['join'](',\x20');if(lastCoinsToBalance!==_0x26c110)logHistory(_0x36e3af(0x19c),_0x36e3af(0x212)+_0x26c110);lastCoinsToBalance=_0x26c110;}}function symbolToCoin(_0xd60b48){const _0x11f956=_0x1a3c80;let _0x5b7e5d;if(_0xd60b48['includes']('/'+config[_0x11f956(0x18f)]))_0x5b7e5d=_0xd60b48[_0x11f956(0x1d7)]('/'+config[_0x11f956(0x18f)],'');if(_0xd60b48['includes'](config[_0x11f956(0x18f)]+'/'))_0x5b7e5d=_0xd60b48['replace'](config[_0x11f956(0x18f)]+'/','');return _0x5b7e5d;}async function validateOrders(_0x33ecdc=0x0){const _0x5e8eb7=_0x1a3c80;let _0x2daa99=[],_0x2ea1e9=config['ordertype']==_0x5e8eb7(0x280)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x5e8eb7(0x189)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x5e8eb7(0x1f1)](_0x38efb9=>{const _0x449117=_0x5e8eb7;let _0x40af55=previousCoins['find'](_0x1ed019=>_0x1ed019[_0x449117(0x1d5)]==symbolToCoin(_0x38efb9[_0x449117(0x20f)])),_0xbca14f=currentCoins[_0x449117(0x17e)](_0x12f16e=>_0x12f16e[_0x449117(0x1d5)]==symbolToCoin(_0x38efb9[_0x449117(0x20f)])),_0x594360,_0x42ec37;_0x38efb9[_0x449117(0x1c3)]=='buy'&&!_0x38efb9[_0x449117(0x205)]||_0x38efb9[_0x449117(0x1c3)]==_0x449117(0x1e6)&&_0x38efb9[_0x449117(0x205)]?(_0x594360=_0x40af55[_0x449117(0x1b0)]+0.9*_0x38efb9[_0x449117(0x1cf)],_0x42ec37=_0x40af55[_0x449117(0x1b0)]+1.1*_0x38efb9[_0x449117(0x1cf)]):(_0x594360=_0x40af55['number']-1.1*_0x38efb9[_0x449117(0x1cf)],_0x42ec37=_0x40af55[_0x449117(0x1b0)]-0.9*_0x38efb9[_0x449117(0x1cf)]);const _0x9e27ff=_0x38efb9[_0x449117(0x1cf)]!=0x0&&_0xbca14f[_0x449117(0x1b0)]>=_0x594360&&_0xbca14f['number']<=_0x42ec37;_0x2daa99[_0x449117(0x1c5)](_0x9e27ff);if(_0x9e27ff&&config[_0x449117(0x17c)]!='market'){if(_0x38efb9[_0x449117(0x205)])logHistory('order',_0x449117(0x1ff)+_0x38efb9[_0x449117(0x20f)]+'\x20'+_0x38efb9['side']+'\x20#'+formatResult(_0x38efb9['filled']/_0x38efb9['price'],0x8)+'\x20@'+formatResult(_0x38efb9[_0x449117(0x252)],0x8));else logHistory(_0x449117(0x1b8),_0x449117(0x1ff)+_0x38efb9[_0x449117(0x20f)]+'\x20'+_0x38efb9[_0x449117(0x1c3)]+'\x20#'+formatResult(_0x38efb9['filled'],0x8)+'\x20@'+formatResult(_0x38efb9[_0x449117(0x252)],0x8));}}),_0x2daa99['forEach']((_0x558074,_0x3bb86c)=>{const _0x4410c4=_0x5e8eb7;if(_0x558074)lastOrders[_0x4410c4(0x1cd)](_0x3bb86c,0x1);});if(_0x33ecdc<_0x2ea1e9&&_0x2daa99[_0x5e8eb7(0x184)](![])){if(_0x33ecdc==0x0){config[_0x5e8eb7(0x17c)]=='market'?logHistory(_0x5e8eb7(0x270),_0x5e8eb7(0x28e)):logHistory('error',_0x5e8eb7(0x269));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x33ecdc);},0xa*0x3e8);}else{(_0x33ecdc==0x1||_0x33ecdc==Math[_0x5e8eb7(0x228)](_0x2ea1e9/0x2)||_0x33ecdc==_0x2ea1e9-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x33ecdc);},validateOrderInterval);}}else{lockOrders=![];if(_0x33ecdc>0x0&&!_0x2daa99['includes'](![]))config[_0x5e8eb7(0x17c)]==_0x5e8eb7(0x280)?logHistory(_0x5e8eb7(0x19c),_0x5e8eb7(0x282)):logHistory(_0x5e8eb7(0x19c),'Order(s)\x20filled\x20-\x20balancing\x20resumed');else _0x33ecdc>0x0&&_0x2daa99[_0x5e8eb7(0x184)](![])&&(config[_0x5e8eb7(0x17c)]=='market'?logHistory(_0x5e8eb7(0x19c),_0x5e8eb7(0x23f)+Math['round'](_0x2ea1e9*validateOrderInterval/0xea60)+_0x5e8eb7(0x191)):(lastOrders[_0x5e8eb7(0x1f1)](async _0x268487=>{const _0x41831c=_0x5e8eb7;try{const _0x5a16ff=await exchange[_0x41831c(0x1ca)](_0x268487[_0x41831c(0x250)],_0x268487[_0x41831c(0x20f)]);}catch(_0x1abf67){if(_0x1abf67['toString']()[_0x41831c(0x184)]('OrderNotFound')){}else await handleError(_0x1abf67,_0x41831c(0x27f));}}),logHistory(_0x5e8eb7(0x19c),_0x5e8eb7(0x237)+Math['round'](_0x2ea1e9*validateOrderInterval/0xea60)+_0x5e8eb7(0x191))));}}async function resetCoinResults(){const _0x1e3525=_0x1a3c80;dbCoinResults[_0x1e3525(0x26a)](_0x1e3525(0x241))[_0x1e3525(0x276)]()[_0x1e3525(0x1df)]();let _0x3e91f5=await getStartingBalances(getNormalizedPerformance(),![]);_0x3e91f5[_0x1e3525(0x241)][_0x1e3525(0x1f1)](_0x47d955=>{const _0x231fd0=_0x1e3525;if(_0x47d955[_0x231fd0(0x1d5)]!=config['basecoin']){let _0x338ff2={'coin':_0x47d955[_0x231fd0(0x1d5)],'number':_0x47d955[_0x231fd0(0x1b0)],'breakeven':_0x47d955[_0x231fd0(0x252)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x231fd0(0x241))[_0x231fd0(0x1c5)](_0x338ff2)[_0x231fd0(0x1df)]();}});}async function updateCoinResults(_0x3457e2){const _0x4f82ad=_0x1a3c80;let _0x45207f,_0x416eae,_0x1605c4,_0x2d2933,_0x5bbf34,_0x374844,_0x467982=dbCoinResults[_0x4f82ad(0x26a)]('coins')['find']({'coin':_0x3457e2[_0x4f82ad(0x1d5)]})[_0x4f82ad(0x222)]();if(!_0x467982)return;if(_0x3457e2[_0x4f82ad(0x1a5)]&&_0x3457e2[_0x4f82ad(0x1a5)][_0x4f82ad(0x1c6)]==config['basecoin'])_0x45207f=_0x3457e2['fee']['cost'];else{if(_0x3457e2[_0x4f82ad(0x1a5)]&&_0x3457e2[_0x4f82ad(0x1a5)][_0x4f82ad(0x1c6)]==_0x4f82ad(0x1b4))_0x45207f=_0x3457e2[_0x4f82ad(0x1a5)][_0x4f82ad(0x214)]*global['ticker'][_0x4f82ad(0x1b4)+config[_0x4f82ad(0x18f)]];else _0x45207f=0.001*_0x3457e2['filled'];}const _0x4e9393=_0x3457e2[_0x4f82ad(0x20f)][_0x4f82ad(0x184)](config[_0x4f82ad(0x18f)]+'/');_0x4e9393&&(_0x374844={'coin':_0x3457e2[_0x4f82ad(0x1d5)],'symbol':_0x3457e2[_0x4f82ad(0x20f)],'filled':_0x3457e2[_0x4f82ad(0x1cf)]*_0x3457e2[_0x4f82ad(0x252)],'side':_0x3457e2[_0x4f82ad(0x1c3)]==_0x4f82ad(0x1e6)?'buy':_0x4f82ad(0x1e6),'price':0x1/_0x3457e2[_0x4f82ad(0x252)]},_0x3457e2={..._0x374844});_0x3457e2[_0x4f82ad(0x1c3)]=='buy'?_0x1605c4=(_0x467982[_0x4f82ad(0x262)]*_0x467982['number']+_0x3457e2[_0x4f82ad(0x252)]*_0x3457e2[_0x4f82ad(0x1cf)])/(_0x467982[_0x4f82ad(0x1b0)]+_0x3457e2[_0x4f82ad(0x1cf)]):_0x1605c4=(_0x467982['breakeven']*_0x467982[_0x4f82ad(0x1b0)]-_0x3457e2['price']*_0x3457e2[_0x4f82ad(0x1cf)])/(_0x467982[_0x4f82ad(0x1b0)]-_0x3457e2[_0x4f82ad(0x1cf)]);_0x3457e2[_0x4f82ad(0x1c3)]==_0x4f82ad(0x24b)?_0x2d2933=_0x467982[_0x4f82ad(0x283)]:_0x2d2933=_0x467982[_0x4f82ad(0x283)]+(_0x3457e2['price']-_0x467982[_0x4f82ad(0x262)])*_0x3457e2['filled'];_0x416eae=_0x3457e2[_0x4f82ad(0x1c3)]==_0x4f82ad(0x1e6)?_0x467982[_0x4f82ad(0x1b0)]-_0x3457e2[_0x4f82ad(0x1cf)]:_0x467982[_0x4f82ad(0x1b0)]+_0x3457e2['filled'],_0x5bbf34=(_0x3457e2[_0x4f82ad(0x252)]-_0x1605c4)*_0x416eae;let _0x351b2e={'coin':_0x3457e2[_0x4f82ad(0x1d5)],'number':_0x416eae,'breakeven':formatResult(_0x1605c4,0x8),'realized':formatResult(_0x2d2933,0x8),'unrealized':formatResult(_0x5bbf34,0x8),'fees':formatResult(_0x467982[_0x4f82ad(0x1db)]+_0x45207f,0x8),'sells':_0x3457e2['side']=='sell'?_0x467982[_0x4f82ad(0x1d1)]+0x1:_0x467982[_0x4f82ad(0x1d1)],'buys':_0x3457e2[_0x4f82ad(0x1c3)]=='buy'?_0x467982['buys']+0x1:_0x467982[_0x4f82ad(0x23c)]};dbCoinResults[_0x4f82ad(0x26a)](_0x4f82ad(0x241))['find']({'coin':_0x3457e2['coin']})[_0x4f82ad(0x185)](_0x351b2e)[_0x4f82ad(0x1df)]();}async function placeOrder(_0x20eb13){const _0x23da28=_0x1a3c80,_0x3a4aef=config['ordertype']=='market'?_0x23da28(0x280):'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x23da28(0x24f)](currentCoins));for(const _0x24b06a of _0x20eb13){let _0x2d9594,_0x55403d,_0x5462da,_0x410b9a,_0xf727e3,_0x21f14e=_0x24b06a[_0x23da28(0x20f)];try{const _0x443428=await exchange[_0x23da28(0x257)](_0x21f14e),_0x3b48b9=_0x443428[_0x21f14e];_0x2d9594=_0x3b48b9[_0x23da28(0x180)],_0x55403d=_0x3b48b9[_0x23da28(0x1b1)],_0x5462da=_0x3b48b9[_0x23da28(0x1a2)];_0x24b06a[_0x23da28(0x205)]?(_0x410b9a=_0x24b06a[_0x23da28(0x1c3)]==_0x23da28(0x24b)?_0x23da28(0x1e6):_0x23da28(0x24b),_0xf727e3=Math[_0x23da28(0x27b)](_0x24b06a[_0x23da28(0x1b3)])/_0x2d9594):(_0x410b9a=_0x24b06a[_0x23da28(0x1c3)],_0xf727e3=Math[_0x23da28(0x27b)](_0x24b06a[_0x23da28(0x1b3)]));_0x3a4aef=='limit'&&(config['ordertype']==_0x23da28(0x178)&&(_0x2d9594=_0x410b9a==_0x23da28(0x24b)?_0x55403d:_0x5462da),config['ordertype']=='limit-low'&&(_0x2d9594=_0x410b9a==_0x23da28(0x24b)?_0x5462da:_0x55403d));_0xf727e3=formatResult(_0xf727e3,0x8),_0x2d9594=formatResult(_0x2d9594,0x8);const _0x19274b=await exchange[_0x23da28(0x1dc)](_0x21f14e,_0x3a4aef,_0x410b9a,_0xf727e3,_0x2d9594);lastOrders['push']({'orderId':_0x19274b['id'],'symbol':_0x21f14e,'side':_0x410b9a,'reverse':_0x24b06a[_0x23da28(0x205)],'amount':_0x24b06a[_0x23da28(0x205)]?_0x19274b['amount']*_0x19274b[_0x23da28(0x252)]:_0x19274b[_0x23da28(0x234)],'filled':_0x24b06a[_0x23da28(0x205)]?_0x19274b[_0x23da28(0x1cf)]*_0x19274b[_0x23da28(0x252)]:_0x19274b[_0x23da28(0x1cf)],'price':_0x19274b[_0x23da28(0x252)]});const _0x5efac5=_0x410b9a==_0x23da28(0x1e6)?config[_0x23da28(0x198)]?String[_0x23da28(0x1c0)]('0x'+config['emojisell'])+'\x20':'':config[_0x23da28(0x183)]?String[_0x23da28(0x1c0)]('0x'+config[_0x23da28(0x183)])+'\x20':'',_0x2183a5=_0x3a4aef==_0x23da28(0x280)?_0x23da28(0x21b):config['ordertype']==_0x23da28(0x178)?'Limit\x20(high-margin)':_0x23da28(0x1bc);if(_0x3a4aef==_0x23da28(0x280))logHistory('order',''+_0x5efac5+_0x2183a5+_0x23da28(0x285)+_0x21f14e+'\x20'+_0x410b9a+'\x20#'+formatResult(_0x19274b[_0x23da28(0x1cf)],0x8)+'\x20@'+formatResult(_0x19274b[_0x23da28(0x252)],0x8));else logHistory(_0x23da28(0x1b8),''+_0x5efac5+_0x2183a5+_0x23da28(0x285)+_0x21f14e+'\x20'+_0x410b9a+'\x20#'+formatResult(_0x19274b[_0x23da28(0x234)],0x8)+'\x20@'+formatResult(_0x19274b[_0x23da28(0x252)],0x8));_0x19274b[_0x23da28(0x1d5)]=_0x24b06a[_0x23da28(0x1d5)],await updateCoinResults(_0x19274b);if(config['cooldown']!=0x0){let _0x4767f5=null;if(cooldownTracker[_0x23da28(0x25e)]==config[_0x23da28(0x1c4)]-0x1)_0x4767f5=cooldownTracker[_0x23da28(0x1e4)]();const _0x3206df=getTimeStamp();cooldownTracker['push'](_0x3206df);if(_0x4767f5){const _0x188456=fns[_0x23da28(0x17a)](new Date(_0x3206df),new Date(_0x4767f5));_0x188456<cooldownInterval&&(logHistory(_0x23da28(0x270),_0x23da28(0x1d4)+config[_0x23da28(0x1c4)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x23da28(0x1c8)+cooldownPeriod/(0xe10*0x3e8)+_0x23da28(0x24e)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x161f5b){if(_0x161f5b[_0x23da28(0x1ad)]()[_0x23da28(0x184)](_0x23da28(0x264)))logHistory(_0x23da28(0x270),_0x23da28(0x28a)+_0x21f14e);else{if(_0x161f5b[_0x23da28(0x1ad)]()[_0x23da28(0x184)](_0x23da28(0x200)))logHistory('error',_0x23da28(0x1f8)+_0x21f14e);else await handleError(_0x161f5b,_0x23da28(0x179));}}}if(lastOrders[_0x23da28(0x25e)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x23da28(0x24a)]&&(config[_0x23da28(0x17c)]==_0x23da28(0x280)?logHistory(_0x23da28(0x270),_0x23da28(0x1d3)):logHistory(_0x23da28(0x270),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config[_0x23da28(0x24a)]&&logHistory(_0x23da28(0x270),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'));}}function logHistory(_0x28d474,_0x2c93f1,_0x2d3388=''){const _0x33c359=_0x1a3c80;let _0x19f546={'time':getTimeStamp(),'type':_0x28d474,'event':_0x2c93f1};dbLogs[_0x33c359(0x26a)](_0x33c359(0x25a))['push'](_0x19f546)[_0x33c359(0x1df)]();if(_0x2d3388=='')_0x2d3388=_0x2c93f1;proxyEmit(_0x33c359(0x22e),{'log':_0x19f546,'summary':_0x2d3388}),process[_0x33c359(0x266)]({'telegram':{..._0x19f546,'botname':config[_0x33c359(0x18d)],'showname':config[_0x33c359(0x230)]}},_0x24df39=>{}),logging(''+_0x19f546[_0x33c359(0x22e)]);}function emitHistory(_0x487cea={}){const _0x4f0c3f=_0x1a3c80;Object[_0x4f0c3f(0x1fa)](_0x487cea)[_0x4f0c3f(0x25e)]==0x0&&(_0x487cea={'type':[_0x4f0c3f(0x1b8),'event'],'event':'','page':0x1});if(_0x487cea[_0x4f0c3f(0x273)][_0x4f0c3f(0x184)](_0x4f0c3f(0x22e)))_0x487cea[_0x4f0c3f(0x273)][_0x4f0c3f(0x1cd)](_0x487cea[_0x4f0c3f(0x273)][_0x4f0c3f(0x238)](_0x4f0c3f(0x22e)),0x1,_0x4f0c3f(0x270),_0x4f0c3f(0x19c));if(dbLogs[_0x4f0c3f(0x204)](_0x4f0c3f(0x25a))[_0x4f0c3f(0x222)]()){let _0x43e4e0=dbLogs['get'](_0x4f0c3f(0x25a))['filter'](_0x43c594=>{const _0xd4a2d=_0x4f0c3f;if(_0x487cea['type'][_0xd4a2d(0x25e)]==0x0)return![];else return _0x487cea[_0xd4a2d(0x273)][_0xd4a2d(0x184)](_0x43c594[_0xd4a2d(0x273)]);})[_0x4f0c3f(0x193)](_0xf21440=>{const _0x331042=_0x4f0c3f;if(_0x487cea[_0x331042(0x22e)]=='')return!![];else return _0xf21440[_0x331042(0x22e)][_0x331042(0x1e8)]()[_0x331042(0x184)](_0x487cea['event'][_0x331042(0x1e8)]());})[_0x4f0c3f(0x196)](_0x4f0c3f(0x1ed)),_0x201d73=_0x43e4e0['value']()[_0x4f0c3f(0x25e)];_0x43e4e0=_0x43e4e0[_0x4f0c3f(0x205)]()[_0x4f0c3f(0x1a6)]((_0x487cea['page']-0x1)*logPageSize,_0x487cea[_0x4f0c3f(0x21f)]*logPageSize-0x1)[_0x4f0c3f(0x205)]()[_0x4f0c3f(0x222)](),proxyEmit(_0x4f0c3f(0x1c2),{'logs':_0x43e4e0,'total':_0x201d73});}else proxyEmit(_0x4f0c3f(0x1c2),{'logs':[],'total':0x0});}function deleteHistory(_0xd1b2bd={}){const _0x409af2=_0x1a3c80;Object[_0x409af2(0x1fa)](_0xd1b2bd)[_0x409af2(0x25e)]==0x0&&(_0xd1b2bd={'type':[_0x409af2(0x1b8),_0x409af2(0x22e)],'event':''});if(_0xd1b2bd[_0x409af2(0x273)][_0x409af2(0x184)]('event'))_0xd1b2bd[_0x409af2(0x273)]['splice'](_0xd1b2bd[_0x409af2(0x273)][_0x409af2(0x238)](_0x409af2(0x22e)),0x1,_0x409af2(0x270),'success');console[_0x409af2(0x236)](_0xd1b2bd);if(dbLogs['has']('logs')[_0x409af2(0x222)]()){let _0x16c3ba=dbLogs[_0x409af2(0x26a)](_0x409af2(0x25a))[_0x409af2(0x196)](_0x409af2(0x1ed))[_0x409af2(0x193)](_0x45590e=>{const _0x3ec785=_0x409af2;if(_0xd1b2bd[_0x3ec785(0x273)][_0x3ec785(0x25e)]==0x0)return!![];else return!_0xd1b2bd[_0x3ec785(0x273)][_0x3ec785(0x184)](_0x45590e[_0x3ec785(0x273)]);})[_0x409af2(0x193)](_0x49c41a=>{const _0x345df3=_0x409af2;if(_0xd1b2bd[_0x345df3(0x22e)]=='')return![];else return!_0x49c41a[_0x345df3(0x22e)][_0x345df3(0x1e8)]()[_0x345df3(0x184)](_0xd1b2bd[_0x345df3(0x22e)][_0x345df3(0x1e8)]());});console[_0x409af2(0x236)](JSON[_0x409af2(0x24f)](_0x16c3ba));}}async function pauseBot(_0x2c2cd8){const _0x53a1a9=_0x1a3c80,_0x47d68f=new Date()[_0x53a1a9(0x21c)]();if(!lastBotPause)lastBotPause=new Date()[_0x53a1a9(0x21c)](),consecutivePauses=0x1;else{if(_0x47d68f-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x53a1a9(0x266)]({'stop':_0x53a1a9(0x281)},_0x273966=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error',_0x53a1a9(0x201)+consecutivePauses+')'),await sleep(_0x2c2cd8),botPaused=![],reset();}}async function handleError(_0x272a8f,_0x43a6b6,_0x493562=''){const _0x57d30e=_0x1a3c80;if(_0x272a8f['toString']()[_0x57d30e(0x184)]('DDoSProtection'))logHistory('error',_0x43a6b6+_0x57d30e(0x22d)),await pauseBot(pauseBotInterval);else{if(_0x272a8f['toString']()[_0x57d30e(0x184)]('ExchangeNotAvailable'))logHistory(_0x57d30e(0x270),_0x43a6b6+'\x20|\x20Binance\x20exchange\x20is\x20not\x20available'),await pauseBot(pauseBotInterval);else{if(_0x272a8f[_0x57d30e(0x1ad)]()[_0x57d30e(0x184)]('RequestTimeout'))logHistory(_0x57d30e(0x270),_0x43a6b6+'\x20|\x20Binance\x20exchange\x20is\x20not\x20responding'),await pauseBot(pauseBotInterval);else{if(_0x272a8f[_0x57d30e(0x1ad)]()[_0x57d30e(0x184)](_0x57d30e(0x277)))logHistory(_0x57d30e(0x270),_0x43a6b6+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory(_0x57d30e(0x270),_0x57d30e(0x291)),process[_0x57d30e(0x266)]({'stop':_0x57d30e(0x220)},_0x3c505b=>{});else{if(_0x272a8f['toString']()[_0x57d30e(0x184)](_0x57d30e(0x219)))logHistory(_0x57d30e(0x270),_0x43a6b6+_0x57d30e(0x18b)),logHistory(_0x57d30e(0x270),_0x57d30e(0x291)),process[_0x57d30e(0x266)]({'stop':'kill'},_0x43fd88=>{});else{if(_0x272a8f[_0x57d30e(0x1ad)]()[_0x57d30e(0x184)](_0x57d30e(0x23a)))logHistory(_0x57d30e(0x270),_0x43a6b6+_0x57d30e(0x217)),logHistory(_0x57d30e(0x270),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['send']({'stop':_0x57d30e(0x220)},_0x30e787=>{});else{if(_0x272a8f[_0x57d30e(0x1ad)]()[_0x57d30e(0x184)](_0x57d30e(0x18e)))logHistory(_0x57d30e(0x270),_0x43a6b6+_0x57d30e(0x22f)),logHistory(_0x57d30e(0x270),_0x57d30e(0x291)),process[_0x57d30e(0x266)]({'stop':'kill'},_0x56241b=>{});else{if(_0x272a8f[_0x57d30e(0x1ad)]()['includes'](_0x57d30e(0x27a)))logHistory(_0x57d30e(0x270),_0x43a6b6+_0x57d30e(0x246)),await pauseBot(pauseBotInterval),process[_0x57d30e(0x266)]({'stop':_0x57d30e(0x281)},_0x303493=>{});else _0x272a8f[_0x57d30e(0x1ad)]()['includes'](_0x57d30e(0x1a1))?logHistory(_0x57d30e(0x270),_0x43a6b6+_0x57d30e(0x272)):(logHistory(_0x57d30e(0x270),_0x43a6b6+_0x57d30e(0x208)),logging(_0x43a6b6+_0x57d30e(0x1f3),_0x272a8f),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x1c0ea4,_0x1cdc22){const _0x48a2b1=_0x1a3c80;return parseFloat(_0x1c0ea4[_0x48a2b1(0x211)](_0x1cdc22));}function logging(_0x31bbb7,_0x312ce2=''){const _0x1ac619=_0x1a3c80;if(config[_0x1ac619(0x230)])console['log'](getTimeStamp()+':\x20'+config[_0x1ac619(0x18d)]+_0x1ac619(0x26e)+_0x31bbb7,_0x312ce2);else console[_0x1ac619(0x236)](getTimeStamp()+':\x20Bot\x20'+botID+_0x1ac619(0x26e)+_0x31bbb7,_0x312ce2);}function getServerTime(){const _0xc620c0=_0x1a3c80,_0x2c2ed2=new Date();return _0x2c2ed2[_0xc620c0(0x227)]()+'/'+(_0x2c2ed2[_0xc620c0(0x287)]()+0x1)[_0xc620c0(0x1ad)]()[_0xc620c0(0x28d)](0x2,'0')+'/'+_0x2c2ed2['getDate']()[_0xc620c0(0x1ad)]()[_0xc620c0(0x28d)](0x2,'0')+'\x20'+_0x2c2ed2[_0xc620c0(0x1e5)]()['toString']()[_0xc620c0(0x28d)](0x2,'0')+':'+_0x2c2ed2[_0xc620c0(0x19e)]()[_0xc620c0(0x1ad)]()[_0xc620c0(0x28d)](0x2,'0')+':'+_0x2c2ed2[_0xc620c0(0x1af)]()['toString']()[_0xc620c0(0x28d)](0x2,'0');}function getTimeStamp(){const _0x4d8e2f=_0x1a3c80,_0xd1d925=shiftedTime();return _0xd1d925['getFullYear']()+'/'+(_0xd1d925['getMonth']()+0x1)[_0x4d8e2f(0x1ad)]()[_0x4d8e2f(0x28d)](0x2,'0')+'/'+_0xd1d925['getDate']()[_0x4d8e2f(0x1ad)]()['padStart'](0x2,'0')+'\x20'+_0xd1d925[_0x4d8e2f(0x1e5)]()[_0x4d8e2f(0x1ad)]()[_0x4d8e2f(0x28d)](0x2,'0')+':'+_0xd1d925[_0x4d8e2f(0x19e)]()[_0x4d8e2f(0x1ad)]()['padStart'](0x2,'0')+':'+_0xd1d925[_0x4d8e2f(0x1af)]()[_0x4d8e2f(0x1ad)]()['padStart'](0x2,'0');}function getDate(){const _0x582987=_0x1a3c80,_0x38e818=shiftedTime();return _0x38e818['getFullYear']()+'/'+(_0x38e818[_0x582987(0x287)]()+0x1)[_0x582987(0x1ad)]()[_0x582987(0x28d)](0x2,'0')+'/'+_0x38e818[_0x582987(0x243)]()[_0x582987(0x1ad)]()[_0x582987(0x28d)](0x2,'0');}function getHour(){const _0x23633b=_0x1a3c80,_0x4df2af=shiftedTime();return _0x4df2af[_0x23633b(0x1e5)]()[_0x23633b(0x1ad)]()[_0x23633b(0x28d)](0x2,'0');}function sleep(_0x2a75a8){return new Promise(_0x49f1f3=>setTimeout(_0x49f1f3,_0x2a75a8));}function shiftedTime(){const _0x5d6945=_0x1a3c80,_0x2db438=new Date();let _0x34a02b=_0x2db438;if(config&&config[_0x5d6945(0x1d0)]!==0x0)_0x34a02b=fns[_0x5d6945(0x194)](_0x2db438,{'hours':config['timeshift']});return _0x34a02b;}