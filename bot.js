const _0x5b8255=_0x4148;(function(_0x47942f,_0x27da83){const _0x30f27e=_0x4148,_0x30d390=_0x47942f();while(!![]){try{const _0x533bf9=-parseInt(_0x30f27e(0x2c5))/0x1*(parseInt(_0x30f27e(0x1dc))/0x2)+-parseInt(_0x30f27e(0x1c8))/0x3+-parseInt(_0x30f27e(0x241))/0x4+-parseInt(_0x30f27e(0x21d))/0x5*(parseInt(_0x30f27e(0x2ea))/0x6)+-parseInt(_0x30f27e(0x2ab))/0x7+-parseInt(_0x30f27e(0x23e))/0x8+parseInt(_0x30f27e(0x1a4))/0x9*(parseInt(_0x30f27e(0x24f))/0xa);if(_0x533bf9===_0x27da83)break;else _0x30d390['push'](_0x30d390['shift']());}catch(_0x6403f1){_0x30d390['push'](_0x30d390['shift']());}}}(_0xd8f9,0x24744));const _0x3c9165=function(){let _0x9ec95b=!![];return function(_0x3ef2de,_0x59dfaa){const _0x5450cf=_0x9ec95b?function(){const _0x42d4a6=_0x4148;if(_0x59dfaa){const _0x20698e=_0x59dfaa[_0x42d4a6(0x2c0)](_0x3ef2de,arguments);return _0x59dfaa=null,_0x20698e;}}:function(){};return _0x9ec95b=![],_0x5450cf;};}(),_0x3d3f33=_0x3c9165(this,function(){const _0x53ed38=_0x4148;return _0x3d3f33[_0x53ed38(0x1dd)]()[_0x53ed38(0x1bb)](_0x53ed38(0x252))[_0x53ed38(0x1dd)]()[_0x53ed38(0x1b4)](_0x3d3f33)['search']('(((.+)+)+)+$');});_0x3d3f33();'use strict';const ccxt=require(_0x5b8255(0x24a)),low=require(_0x5b8255(0x1e7)),FileSync=require(_0x5b8255(0x1b6)),fs=require('fs'),fns=require(_0x5b8255(0x233)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x5b8255(0x293)),Crypt=require('hybrid-crypto-js')[_0x5b8255(0x2e6)],util=require('util');let exchange,wsClient;global[_0x5b8255(0x286)]={},global[_0x5b8255(0x1f5)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x5b8255(0x2b5),'HOT/BTC',_0x5b8255(0x2cc),_0x5b8255(0x1d3),_0x5b8255(0x283),_0x5b8255(0x276)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5b8255(0x29d)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5b8255(0x29a)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x5b8255(0x2a7))['version'],botID=process[_0x5b8255(0x1b7)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x5b8255(0x29b)](botID)&&(console[_0x5b8255(0x1ff)](_0x5b8255(0x2d4)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process['exit'](0x1));const userID=process['argv'][0x3]||'',configpath=userID?_0x5b8255(0x212)+userID+'/':'./config/',logspath=userID?_0x5b8255(0x2a2)+userID+'/':'./logs/',loggerfile=fs[_0x5b8255(0x210)](logspath+_0x5b8255(0x24e),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x5b8255(0x1f6)](configpath);!fs['existsSync'](logspath)&&fs[_0x5b8255(0x1f6)](logspath);const configfile=configpath+_0x5b8255(0x1d2)+botID+_0x5b8255(0x1ef),logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+_0x5b8255(0x1d2)+botID+_0x5b8255(0x280),settingsfile=configpath+_0x5b8255(0x297),securefile=configpath+_0x5b8255(0x2ed),configbackuppath=configpath+_0x5b8255(0x1e2),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x5b8255(0x240)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5b8255(0x2dc)]({'data':[]})[_0x5b8255(0x240)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5b8255(0x2dc)]({'bot':[]})[_0x5b8255(0x240)]();function _0x4148(_0x5762d9,_0x484579){const _0x4a7d78=_0xd8f9();return _0x4148=function(_0x3d3f33,_0x3c9165){_0x3d3f33=_0x3d3f33-0x194;let _0xd8f9d2=_0x4a7d78[_0x3d3f33];return _0xd8f9d2;},_0x4148(_0x5762d9,_0x484579);}const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5b8255(0x2dc)]({'coins':[]})[_0x5b8255(0x240)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x5c67e6)=>{},'debug':(..._0x50e22c)=>{},'notice':(..._0x55db81)=>{},'info':(..._0x1c5483)=>{},'warning':(..._0x216016)=>{},'error':async function(..._0x401c34){const _0x45c41a=_0x5b8255,_0x427b02=new Date()[_0x45c41a(0x28e)]();if(!lastErrorShown||_0x427b02-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x45c41a(0x28e)]();let _0x467bb0='';if(_0x401c34[0x0])_0x467bb0+=_0x401c34[0x0];if(_0x401c34[0x1]&&_0x401c34[0x1][_0x45c41a(0x1c0)]&&_0x401c34[0x1]['error'][_0x45c41a(0x21e)])_0x467bb0+='\x20-\x20'+_0x401c34[0x1][_0x45c41a(0x1c0)]['message'];logger[_0x45c41a(0x260)](_0x45c41a(0x28a)+consecutivePauses+_0x45c41a(0x1bc),''+_0x467bb0),await pauseBot('Binance\x20not\x20available\x20(1)');}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x5b8255(0x223),'rsaStandard':_0x5b8255(0x298)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x48e586=>{const _0x3c57dc=_0x5b8255;console[_0x3c57dc(0x1ff)](_0x48e586);},'simple':_0x47ab8c=>{const _0x47ec62=_0x5b8255;console['log'](_0x47ab8c),loggerfile[_0x47ec62(0x240)](util[_0x47ec62(0x274)](_0x47ab8c)+'\x0a');},'full':async(_0x177aef,_0x440180='')=>{const _0x2fa4a5=_0x5b8255;let _0x528f33;if(config[_0x2fa4a5(0x2e3)])_0x528f33=getTimeStamp()+':\x20'+config['botname']+_0x2fa4a5(0x26a)+_0x177aef;else _0x528f33=getTimeStamp()+':\x20Bot\x20'+botID+_0x2fa4a5(0x26a)+_0x177aef;console[_0x2fa4a5(0x1ff)](_0x528f33),loggerfile[_0x2fa4a5(0x240)](util[_0x2fa4a5(0x274)](_0x528f33)+'\x0a'),_0x440180&&(console['log'](_0x440180),loggerfile['write'](util[_0x2fa4a5(0x274)](_0x440180)+'\x0a'));}};process['on']('uncaughtException',function(_0x1e352e){const _0x54db80=_0x5b8255;logger[_0x54db80(0x1cd)](_0x1e352e);});settings[_0x5b8255(0x211)]!=config[_0x5b8255(0x211)]&&updateTimeshift(settings[_0x5b8255(0x211)]);process[_0x5b8255(0x289)]({'started':_0x5b8255(0x2bd)},_0x3f0384=>{}),initializeProcessListeners();function proxyEmit(_0x3687c0,_0x1a129=null){process['send']({'function':_0x3687c0,'args':_0x1a129},_0x1dd836=>{});}function initializeProcessListeners(){const _0x540b93=_0x5b8255;process['on'](_0x540b93(0x21e),_0x3839bb=>{const _0x4110da=_0x540b93;switch(Object[_0x4110da(0x2cf)](_0x3839bb)[0x0]){case _0x4110da(0x211):_0x3839bb[_0x4110da(0x211)]!=undefined&&(settings[_0x4110da(0x211)]=_0x3839bb['timeshift'],updateTimeshift(settings[_0x4110da(0x211)]));break;case'function':switch(_0x3839bb['function']){case _0x4110da(0x227):initclient();break;case _0x4110da(0x1bd):toggleBotMode();break;case _0x4110da(0x299):emitHistory(_0x3839bb['args']);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x3839bb[_0x4110da(0x231)]);break;case _0x4110da(0x203):getPortfolio(_0x3839bb[_0x4110da(0x231)]);break;case _0x4110da(0x1e9):storeConfiguration(_0x3839bb[_0x4110da(0x231)]);break;case _0x4110da(0x2b3):storeHeadless(_0x3839bb[_0x4110da(0x231)]);break;case _0x4110da(0x2c4):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x3839bb[_0x4110da(0x231)]);break;case'cancelLoading':cancelLoading();break;case _0x4110da(0x224):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0xb82f87=_0x5b8255;if(pidBalances)clearTimeout(pidBalances);if(config[_0xb82f87(0x213)]!=''&&config[_0xb82f87(0x213)]!='***'){await initExchange(config[_0xb82f87(0x213)],config[_0xb82f87(0x237)]),await initWsEvents();let _0x29560d=![];try{_0x29560d=await loadSymbols();}catch(_0x500618){handleError(_0x500618,_0xb82f87(0x1e4));}if(_0x29560d){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0xb82f87(0x2cd)]==0x0&&allOpenOrders[_0xb82f87(0x2cd)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x29b980,_0x159b2a){const _0x175cd7=_0x5b8255,_0x69f378=ccxt[config[_0x175cd7(0x1b8)]];let _0x39c923;switch(config['exchange']){case _0x175cd7(0x293):_0x39c923=_0x175cd7(0x1de);break;case _0x175cd7(0x23d):_0x39c923=_0x175cd7(0x263);break;default:_0x39c923=_0x175cd7(0x1de);}exchange=new _0x69f378({'apiKey':_0x29b980,'secret':_0x159b2a,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x175cd7(0x2b7)][_0x175cd7(0x2bb)]=_0x29b980,wsClient[_0x175cd7(0x2b7)][_0x175cd7(0x19b)]=_0x159b2a,wsClient[_0x175cd7(0x2b7)][_0x175cd7(0x2a5)]=_0x39c923;let _0x3f2323=config[_0x175cd7(0x1b8)]==_0x175cd7(0x23d)?_0x175cd7(0x1b0):_0x175cd7(0x21c),_0x42654e=config[_0x175cd7(0x20d)]==_0x175cd7(0x235)?_0x175cd7(0x235):_0x175cd7(0x257);stablecoins={'eur':{'coin':''+_0x42654e+_0x3f2323,'symbol':_0x42654e+'/'+_0x3f2323},'usd':{'coin':_0x42654e+'USDT','symbol':_0x42654e+'/USDT'}};}async function initWsEvents(){const _0x35d16b=_0x5b8255;!wsClient[_0x35d16b(0x1c2)][_0x35d16b(0x1a5)]&&wsClient['on']('formattedMessage',_0x3cb6f7=>{const _0x25cfd6=_0x35d16b;if(isWsFormattedKline(_0x3cb6f7)){global['ticker'][_0x3cb6f7[_0x25cfd6(0x288)]['symbol']]=_0x3cb6f7[_0x25cfd6(0x288)]['close'];return;}else{if(isWsFormatted24hrTicker(_0x3cb6f7)){global[_0x25cfd6(0x1f5)][_0x3cb6f7[_0x25cfd6(0x29f)]]=_0x3cb6f7[_0x25cfd6(0x25c)];return;}else{if(!Array[_0x25cfd6(0x1b3)](_0x3cb6f7)&&_0x3cb6f7[_0x25cfd6(0x19a)][_0x25cfd6(0x256)](_0x25cfd6(0x2db))){if(_0x3cb6f7[_0x25cfd6(0x1fb)]['includes'](_0x25cfd6(0x2b0))){updateNumberCoins(_0x3cb6f7);return;}}}}}),!wsClient[_0x35d16b(0x1c2)][_0x35d16b(0x2b2)]&&wsClient['on'](_0x35d16b(0x2b2),async _0x49389c=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x2ce252=_0x5b8255;let _0x1ba681=![];try{markets=await exchange[_0x2ce252(0x20e)](),allSymbols=exchange[_0x2ce252(0x198)][_0x2ce252(0x21a)](_0x2d0c49=>{const _0x1eb11e=_0x2ce252;let _0x542c66=![];return exceptions[_0x1eb11e(0x218)](_0x420ee8=>{const _0x4136ad=_0x1eb11e;if(_0x2d0c49[_0x4136ad(0x256)](_0x420ee8))_0x542c66=!![];}),!_0x542c66;}),_0x1ba681=!![];}catch(_0x4b5ee2){_0x1ba681=![];throw _0x4b5ee2;}return _0x1ba681;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x53a36f=_0x5b8255;proxyEmit(_0x53a36f(0x19e),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x53a36f(0x28d),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x33a2e1=getNormalizedPerformance();emitPerformance(_0x33a2e1),await getStartingBalances(_0x33a2e1);}async function toggleBotMode(){const _0x1f3f9b=_0x5b8255;let _0x203261=dbConfig[_0x1f3f9b(0x2e2)](_0x1f3f9b(0x202))[_0x1f3f9b(0x238)]({'botID':botID})[_0x1f3f9b(0x269)]();if(_0x203261){const _0x4e5552=!_0x203261['headless'];dbConfig[_0x1f3f9b(0x2e2)](_0x1f3f9b(0x202))['find']({'botID':botID})['assign']({'headless':_0x4e5552})[_0x1f3f9b(0x240)](),config[_0x1f3f9b(0x1af)]=_0x4e5552,proxyEmit(_0x1f3f9b(0x19e),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x30bc9c=>{});}function cleanws(){const _0x5b9a43=_0x5b8255;wsinitialized=![];ws1&&(ws1['forEach'](_0x596daf=>{try{wsClient['close'](_0x596daf);}catch(_0x256983){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x211583){}ws2=null;}ws3&&(ws3[_0x5b9a43(0x218)](_0x1a8a66=>{const _0x3aebd1=_0x5b9a43;try{wsClient[_0x3aebd1(0x1ab)](_0x1a8a66);}catch(_0x245003){}}),ws3=[]);}async function initws(){const _0x2d8472=_0x5b8255;cleanws();let _0x34ddb9=[];currentCoins[_0x2d8472(0x218)](_0x2d8026=>{const _0x2af1c0=_0x2d8472;if(_0x2d8026[_0x2af1c0(0x243)]!=config['basecoin'])_0x34ddb9['push'](_0x2d8026[_0x2af1c0(0x29f)]);});if(!_0x34ddb9[_0x2d8472(0x256)](stablecoins[_0x2d8472(0x236)]['symbol']))_0x34ddb9[_0x2d8472(0x23a)](stablecoins[_0x2d8472(0x236)][_0x2d8472(0x29f)]);if(!_0x34ddb9[_0x2d8472(0x256)](stablecoins[_0x2d8472(0x23f)]['symbol']))_0x34ddb9[_0x2d8472(0x23a)](stablecoins[_0x2d8472(0x23f)]['symbol']);if(!_0x34ddb9[_0x2d8472(0x256)](_0x2d8472(0x19f)+config[_0x2d8472(0x20d)]))_0x34ddb9[_0x2d8472(0x23a)]('BNB/'+config[_0x2d8472(0x20d)]);try{_0x34ddb9['forEach']((_0x329f29,_0x546563)=>{const _0x3419e7=_0x2d8472;ws1[_0x546563]=wsClient[_0x3419e7(0x1c3)](noslash(_0x329f29),'1m'),ws3[_0x546563]=wsClient[_0x3419e7(0x204)](noslash(_0x329f29),_0x3419e7(0x2b0));}),ws2=wsClient[_0x2d8472(0x29e)]();}catch(_0x3704aa){await handleError(_0x3704aa,_0x2d8472(0x2bf));}let _0xf3e350,_0x165b4c=0x0;loading['remainingSymbols']=[];let _0x151647=0x0;_0x34ddb9[_0x2d8472(0x218)](_0x598763=>{const _0x40f40d=_0x2d8472;loading[_0x40f40d(0x24b)][_0x40f40d(0x23a)](_0x598763);}),loadingCanceled=![];let _0x5d6aa2=![];while(_0xf3e350!=_0x34ddb9[_0x2d8472(0x2cd)]){_0xf3e350=0x0,_0x34ddb9[_0x2d8472(0x218)](_0x2b1a7b=>{const _0x10c0ad=_0x2d8472;global[_0x10c0ad(0x286)][noslash(_0x2b1a7b)]&&(loading[_0x10c0ad(0x24b)]=loading[_0x10c0ad(0x24b)][_0x10c0ad(0x21a)](_0x4e46fb=>_0x4e46fb!=_0x2b1a7b),_0xf3e350++);}),loading[_0x2d8472(0x1e1)]=Math['round'](_0xf3e350/_0x34ddb9[_0x2d8472(0x2cd)]*0x64);loading['progress']!=0x64&&(_0x151647>0x1e*0x5&&(loading[_0x2d8472(0x267)]=!![],emitLoadingProgress()),_0x151647>0x3c*0x5&&!_0x5d6aa2&&(_0x5d6aa2=!![],logHistory(_0x2d8472(0x1c0),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x2d8472(0x24b)][_0x2d8472(0x2df)](',\x20')+_0x2d8472(0x271)),logHistory(_0x2d8472(0x1c0),'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x2d8472(0x1a2)),await sleep(pauseBotInterval),process[_0x2d8472(0x289)]({'stop':_0x2d8472(0x1ac)},_0x487d22=>{})));if(loadingCanceled){loading[_0x2d8472(0x2d3)]=!![],emitLoadingProgress();break;}else _0xf3e350!=_0x165b4c&&(_0x165b4c=_0xf3e350,emitLoadingProgress()),_0x151647++,await sleep(0xc8);}_0x5d6aa2&&logHistory(_0x2d8472(0x1c1),_0x2d8472(0x279));if(_0xf3e350==_0x34ddb9[_0x2d8472(0x2cd)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x23e32e=_0x5b8255;proxyEmit(_0x23e32e(0x1ee),loading);}async function getFiat(){const _0x5cbd8a=_0x5b8255;let _0x457b31=0x0,_0x20ab4a=0x0;try{_0x457b31=global['ticker'][stablecoins[_0x5cbd8a(0x236)]['coin']],_0x20ab4a=global['ticker'][stablecoins[_0x5cbd8a(0x23f)][_0x5cbd8a(0x243)]];}catch(_0x2a8aa9){await handleError(_0x2a8aa9,'getFiat()');}return{'eur':Number(_0x457b31),'usd':Number(_0x20ab4a)};}function setStartDatePerformance(){const _0x4c43e6=_0x5b8255;if(config&&config[_0x4c43e6(0x249)][0x0][_0x4c43e6(0x1fe)][_0x4c43e6(0x2cd)]!=0x0){const _0xf23bfb=config[_0x4c43e6(0x249)][0x0][_0x4c43e6(0x1fe)];dbPerformance[_0x4c43e6(0x2e2)](_0x4c43e6(0x264))[_0x4c43e6(0x238)]({'date':config[_0x4c43e6(0x1be)]})['assign']({'coins':_0xf23bfb})['write']();}}async function recreateCoinResults(){const _0x322221=_0x5b8255;let _0x3e47ed,_0x3ea926=[];try{const _0x1db919=fns[_0x322221(0x274)](fns[_0x322221(0x1f0)](config[_0x322221(0x1be)][_0x322221(0x281)](/\//g,'-')),_0x322221(0x2c1));for(const _0x478c89 of currentCoins){if(_0x478c89['coin']!=config[_0x322221(0x20d)]){let _0x3fbf2b=0x0,_0x4d41f2,_0x314404;_0x3e47ed=await getAllEventOrders(_0x478c89[_0x322221(0x29f)]);if(_0x3e47ed[_0x322221(0x2cd)]>0x0)_0x3e47ed[_0x322221(0x218)](_0x1f30e0=>{const _0x129f1f=_0x322221,_0x2dc8a9=_0x478c89[_0x129f1f(0x29f)]['includes'](config[_0x129f1f(0x20d)]+'/');_0x3ea926[_0x129f1f(0x23a)]({'datetime':_0x1f30e0[_0x129f1f(0x1da)],'coin':_0x478c89[_0x129f1f(0x243)],'symbol':_0x478c89['symbol'],'side':_0x1f30e0[_0x129f1f(0x266)],'reverse':_0x2dc8a9,'amount':formatResult(_0x1f30e0['filled'],0x8),'filled':formatResult(_0x1f30e0[_0x129f1f(0x229)],0x8),'price':formatResult(_0x1f30e0['price'],0x8)}),_0x3fbf2b=_0x1f30e0[_0x129f1f(0x266)]==_0x129f1f(0x199)?_0x3fbf2b+_0x1f30e0[_0x129f1f(0x229)]:_0x3fbf2b-_0x1f30e0[_0x129f1f(0x229)];if(!_0x314404)_0x314404=_0x1f30e0[_0x129f1f(0x1c6)];});_0x4d41f2=_0x478c89[_0x322221(0x25e)]-_0x3fbf2b;let _0x2aa22a;config['liquidity'][_0x322221(0x218)](_0x37033d=>{const _0x50c1b3=_0x322221;!_0x2aa22a&&(_0x2aa22a=_0x37033d[_0x50c1b3(0x1fe)][_0x50c1b3(0x238)](_0x419c5e=>_0x419c5e['coin']==_0x478c89[_0x50c1b3(0x243)]),_0x2aa22a&&(_0x4d41f2=_0x2aa22a['number'],_0x314404=_0x2aa22a[_0x50c1b3(0x1c6)]));});let _0x27e013=dbCoinResults[_0x322221(0x2e2)](_0x322221(0x1d5))[_0x322221(0x238)]({'coin':_0x478c89[_0x322221(0x243)]})[_0x322221(0x269)]();_0x27e013={'coin':_0x478c89[_0x322221(0x243)],'number':_0x4d41f2,'breakeven':_0x314404,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x322221(0x2e2)](_0x322221(0x1d5))['find']({'coin':_0x478c89[_0x322221(0x243)]})[_0x322221(0x206)](_0x27e013)[_0x322221(0x240)]();}}_0x3ea926[_0x322221(0x2d5)]((_0x3f6971,_0x3be8d4)=>_0x3f6971['datetime']>_0x3be8d4[_0x322221(0x1da)]?0x1:_0x3be8d4[_0x322221(0x1da)]>_0x3f6971[_0x322221(0x1da)]?-0x1:0x0);let _0x222f40=0x0;for(let _0x10b4fd of _0x3ea926){await updateCoinResults(_0x10b4fd,!![]);}}catch(_0x542683){await handleError(_0x542683,_0x322221(0x278));}}async function getAllEventOrders(_0x276fc5){const _0x26ad0c=_0x5b8255;let _0x51d88f=[],_0x3a318b=dbLogs['get']('logs')[_0x26ad0c(0x21a)](_0x420b3b=>{const _0x2418db=_0x26ad0c,_0x51689f=_0x420b3b[_0x2418db(0x21f)]['toLowerCase']();return _0x51689f[_0x2418db(0x256)](_0x276fc5[_0x2418db(0x1eb)]())&&(_0x51689f[_0x2418db(0x256)](_0x2418db(0x290))&&_0x51689f['includes']('order')||_0x51689f[_0x2418db(0x256)]('filled')&&_0x51689f[_0x2418db(0x256)]('order'));})[_0x26ad0c(0x1c5)]('time')[_0x26ad0c(0x269)]();return _0x3a318b[_0x26ad0c(0x218)](_0x561429=>{const _0x4e857f=_0x26ad0c,_0x296804=_0x561429['event']['includes'](_0x4e857f(0x205))?_0x4e857f(0x205):_0x4e857f(0x199),_0x348685=/#([0-9]|\.)+\s/i,_0x49459b=Number(_0x348685[_0x4e857f(0x219)](_0x561429[_0x4e857f(0x21f)])[0x0][_0x4e857f(0x2a6)](0x1)),_0x2f1f04=/@([0-9]|\.)+$/i,_0x39f099=Number(_0x2f1f04[_0x4e857f(0x219)](_0x561429[_0x4e857f(0x21f)])[0x0]['slice'](0x1));_0x51d88f[_0x4e857f(0x23a)]({'datetime':_0x561429[_0x4e857f(0x2e0)],'coin':symbolToCoin(_0x276fc5),'symbol':_0x276fc5,'side':_0x296804,'amount':_0x49459b,'filled':_0x49459b,'price':_0x39f099});}),_0x51d88f;}async function getAllOrders(_0x42c1ac,_0x1414a4){const _0x187582=_0x5b8255;let _0xf85884=[];while(_0x1414a4<exchange[_0x187582(0x222)]()){const _0x542fed=0x1f4,_0x1201df=await exchange['fetchClosedOrders'](_0x42c1ac,_0x1414a4,_0x542fed);if(_0x1201df[_0x187582(0x2cd)])_0x1414a4=_0x1201df[_0x1201df['length']-0x1]['timestamp']+0x1,_0xf85884=_0xf85884[_0x187582(0x2b9)](_0x1201df);else break;}return _0xf85884;}async function validate24hChanges(){const _0x3db02c=_0x5b8255;let _0x5b47dc;for(const _0x2a4bfd of currentCoins){if(_0x2a4bfd['coin']!=config[_0x3db02c(0x20d)]){let _0x300a04;_0x2a4bfd[_0x3db02c(0x275)]?_0x300a04=formatResult((0x1/(global['change'][noslash(_0x2a4bfd['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x300a04=global[_0x3db02c(0x1f5)][noslash(_0x2a4bfd[_0x3db02c(0x29f)])],_0x300a04<config[_0x3db02c(0x285)]&&(logHistory(_0x3db02c(0x1c0),_0x2a4bfd[_0x3db02c(0x243)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x300a04+'%'),logHistory('error',_0x3db02c(0x22f)),logHistory('error',_0x3db02c(0x1a7)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x3afa96=_0x5b8255;let _0xb34cff=dbLogs[_0x3afa96(0x2e2)](_0x3afa96(0x246))['value']();if(_0xb34cff!=_0x3afa96(0x1f9)){dbLogs['set']('version',_0x3afa96(0x1f9))['write']();let _0x4add70=[];const _0x32ae94=dbLogs[_0x3afa96(0x2e2)]('logs')[_0x3afa96(0x269)]();_0x32ae94['forEach'](_0x51c6b1=>{const _0x182c87=_0x3afa96;_0x4add70[_0x182c87(0x23a)]({'time':_0x51c6b1[_0x182c87(0x2e0)],'type':_0x51c6b1[_0x182c87(0x22a)],'event':_0x51c6b1[_0x182c87(0x21f)]});}),dbLogs['get']('logs')['assign'](_0x4add70)[_0x3afa96(0x240)]();}let _0x1f53af=dbConfig[_0x3afa96(0x2e2)](_0x3afa96(0x246))[_0x3afa96(0x269)]();if(_0x1f53af!=_0x3afa96(0x1f9)){dbConfig['set'](_0x3afa96(0x246),'2.3.5')['write']();let _0x5393b4=dbConfig['get']('bot')[_0x3afa96(0x238)]({'botID':botID})[_0x3afa96(0x269)]();if(_0x5393b4){let _0x5efa35=[];_0x5393b4[_0x3afa96(0x23b)]['forEach'](_0x46fd0b=>{const _0xe98df7=_0x3afa96;_0x5efa35[_0xe98df7(0x23a)]({'coin':_0x46fd0b[_0xe98df7(0x243)],'number':_0x46fd0b[_0xe98df7(0x1b9)],'price':_0x46fd0b['startprice']}),delete _0x46fd0b['startnumber'],delete _0x46fd0b['startprice'];});if(_0x5efa35[_0x3afa96(0x2cd)]!==0x0)fs[_0x3afa96(0x1e3)](configbackuppath+(_0x3afa96(0x262)+botID+_0x3afa96(0x292)),JSON[_0x3afa96(0x1e5)](_0x5efa35,null,0x4),function(_0x1bbde3){if(_0x1bbde3){}});const _0x138bcc=(_0x57e971,_0x4c6f29)=>{const _0x12abec=_0x3afa96;let _0x3d348b=[];_0x4c6f29[_0x12abec(0x218)](_0x391e83=>{const _0x195779=_0x12abec,_0x246f53=_0x57e971[_0x195779(0x238)](_0x26a566=>_0x26a566[_0x195779(0x243)]==_0x391e83['coin']);if(!_0x246f53)_0x3d348b['push'](_0x391e83);});let _0x3fa8a1=[];return _0x57e971['forEach'](_0xedac8b=>{const _0x1f43cb=_0x12abec,_0x45adbe=_0x4c6f29['find'](_0x2467ed=>_0x2467ed[_0x1f43cb(0x243)]==_0xedac8b[_0x1f43cb(0x243)]);if(!_0x45adbe||_0x45adbe[_0x1f43cb(0x25e)]==0x0&&_0xedac8b[_0x1f43cb(0x25e)]!=0x0)_0x3fa8a1[_0x1f43cb(0x23a)](_0xedac8b);}),{'missingDay1':_0x3d348b,'notInDay2':_0x3fa8a1};},_0x4af16f=dbPerformance['get'](_0x3afa96(0x264))[_0x3afa96(0x1a9)]()[_0x3afa96(0x269)]();if(_0x4af16f[_0x3afa96(0x2cd)]>0x1){const {missingDay1:_0x37f3f3,notInDay2:_0x2a0002}=_0x138bcc(_0x5efa35,_0x4af16f[0x1]['coins']);_0x5efa35=[..._0x5efa35,..._0x37f3f3],_0x2a0002[_0x3afa96(0x218)](_0x5afce6=>{const _0x1cdbb2=_0x3afa96;let _0x3992cf=_0x5efa35[_0x1cdbb2(0x26d)](_0x573e4f=>_0x573e4f[_0x1cdbb2(0x243)]==_0x5afce6['coin']);_0x3992cf!=-0x1&&_0x5efa35[_0x1cdbb2(0x2af)](_0x3992cf,0x1);});}_0x5efa35['sort']((_0x7b6516,_0x30281d)=>_0x7b6516['coin']>_0x30281d[_0x3afa96(0x243)]?0x1:_0x30281d[_0x3afa96(0x243)]>_0x7b6516[_0x3afa96(0x243)]?-0x1:0x0);let _0x18d483=[{'date':_0x5393b4[_0x3afa96(0x1be)],'changes':_0x5efa35}];_0x4af16f[_0x3afa96(0x2cd)]>0x2&&_0x4af16f[_0x3afa96(0x218)]((_0x3b2ed1,_0x34a41f)=>{const _0x213922=_0x3afa96;if(_0x34a41f>0x0&&_0x34a41f<_0x4af16f[_0x213922(0x2cd)]-0x1){const {missingDay1:_0x5237d2,notInDay2:_0x247b0b}=_0x138bcc(_0x4af16f[_0x34a41f][_0x213922(0x1d5)],_0x4af16f[_0x34a41f+0x1][_0x213922(0x1d5)]);_0x5efa35=[],(_0x5237d2[_0x213922(0x2cd)]!=0x0||_0x247b0b[_0x213922(0x2cd)]!=0x0)&&(_0x5237d2['length']!=0x0&&_0x5efa35['push'](..._0x5237d2),_0x247b0b[_0x213922(0x2cd)]!=0x0&&(_0x247b0b[_0x213922(0x218)](_0x14cc9a=>{const _0x1ae07a=_0x213922;_0x14cc9a[_0x1ae07a(0x25e)]=-_0x14cc9a[_0x1ae07a(0x25e)];}),_0x5efa35['push'](..._0x247b0b)),_0x5efa35[_0x213922(0x2d5)]((_0x5a829c,_0x264e0d)=>_0x5a829c[_0x213922(0x243)]>_0x264e0d[_0x213922(0x243)]?0x1:_0x264e0d['coin']>_0x5a829c['coin']?-0x1:0x0),_0x18d483['push']({'date':_0x4af16f[_0x34a41f+0x1]['date'],'changes':_0x5efa35}));}}),dbConfig['get'](_0x3afa96(0x202))[_0x3afa96(0x238)]({'botID':botID})['assign']({..._0x5393b4,'liquidity':_0x18d483})['write']();}}config=getConfiguration(botID);let _0x13ffe8=dbPerformance['get'](_0x3afa96(0x246))['value']();_0x13ffe8!='2.3.5'&&(dbPerformance[_0x3afa96(0x1a3)]('version','2.3.5')[_0x3afa96(0x240)](),setStartDatePerformance());let _0x50a5a2=dbCoinResults[_0x3afa96(0x2e2)](_0x3afa96(0x246))[_0x3afa96(0x269)]();if(_0x50a5a2!=_0x3afa96(0x1d7)){dbCoinResults[_0x3afa96(0x1a3)](_0x3afa96(0x246),_0x3afa96(0x1d7))['write']();let _0x13a82e=dbCoinResults[_0x3afa96(0x2e2)]('coins')[_0x3afa96(0x269)]();if(_0x13a82e[_0x3afa96(0x2cd)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x548887){const _0x382f34=_0x5b8255;let _0x18b0ad=dbConfig['get'](_0x382f34(0x202))[_0x382f34(0x238)]({'botID':_0x548887})[_0x382f34(0x269)]();if(_0x18b0ad){let _0x3d2f9d=![];typeof _0x18b0ad[_0x382f34(0x2f0)]==_0x382f34(0x1db)&&(_0x18b0ad={..._0x18b0ad,'threshold':Number(_0x18b0ad['threshold'])},_0x3d2f9d=!![]),_0x18b0ad['change24h']==null&&(_0x18b0ad={..._0x18b0ad,'change24h':-0x14},_0x3d2f9d=!![]),_0x3d2f9d&&(_0x18b0ad={'botID':_0x18b0ad[_0x382f34(0x295)],'exchange':_0x18b0ad['exchange'],'apiKey':_0x18b0ad['apiKey'],'apiSecret':_0x18b0ad[_0x382f34(0x237)],'basecoin':_0x18b0ad[_0x382f34(0x20d)],'botname':_0x18b0ad[_0x382f34(0x2aa)],'showname':_0x18b0ad[_0x382f34(0x2e3)],'threshold':_0x18b0ad[_0x382f34(0x2f0)],'ordertype':_0x18b0ad['ordertype'],'timeout':_0x18b0ad[_0x382f34(0x267)],'startdate':_0x18b0ad[_0x382f34(0x1be)],'recreate':_0x18b0ad[_0x382f34(0x1df)],'timeshift':_0x18b0ad['timeshift'],'headless':_0x18b0ad[_0x382f34(0x1af)],'cooldown':_0x18b0ad[_0x382f34(0x230)],'change24h':_0x18b0ad[_0x382f34(0x285)],'emojibuy':_0x18b0ad[_0x382f34(0x2e7)],'emojisell':_0x18b0ad[_0x382f34(0x2e5)],'portfolio':_0x18b0ad[_0x382f34(0x23b)],'liquidity':_0x18b0ad[_0x382f34(0x249)]},dbConfig[_0x382f34(0x2e2)](_0x382f34(0x202))[_0x382f34(0x239)]()['write'](),dbConfig[_0x382f34(0x2e2)](_0x382f34(0x202))[_0x382f34(0x23a)](_0x18b0ad)[_0x382f34(0x240)]());}else _0x18b0ad={'botID':_0x548887,'exchange':_0x382f34(0x293),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x382f34(0x296)+_0x548887,'showname':![],'threshold':0x3,'ordertype':_0x382f34(0x290),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x382f34(0x211)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x18b0ad;}function emittedConfiguration(){const _0x17fb48=_0x5b8255;let _0x202d07;if(config[_0x17fb48(0x213)]=='')_0x202d07={...config,'configstate':_0x17fb48(0x200)};else config[_0x17fb48(0x213)]==_0x17fb48(0x254)?_0x202d07={...config,'configstate':_0x17fb48(0x2a4)}:_0x202d07={...config,'apiKey':_0x17fb48(0x1c9),'apiSecret':_0x17fb48(0x1c9)};return _0x202d07;}function getSettings(){const _0x401871=_0x5b8255;return dbSettings[_0x401871(0x2e2)]('settings')[_0x401871(0x269)]();}function getSecure(){return dbSecure['get']('secure')['value']()||{};}function updateTimeshift(_0x3dcab3){const _0x56bc4a=_0x5b8255;let _0x3ce2e1=dbConfig[_0x56bc4a(0x2e2)](_0x56bc4a(0x202))[_0x56bc4a(0x238)]({'botID':botID})['value']();_0x3ce2e1&&dbConfig['get'](_0x56bc4a(0x202))[_0x56bc4a(0x238)]({'botID':botID})[_0x56bc4a(0x206)]({'timeshift':_0x3dcab3})[_0x56bc4a(0x240)](),config[_0x56bc4a(0x211)]=_0x3dcab3,proxyEmit(_0x56bc4a(0x19e),emittedConfiguration());}async function storeConfiguration(_0x1f898f){const _0x414d08=_0x5b8255;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x7dc5f4=dbConfig[_0x414d08(0x2e2)](_0x414d08(0x202))['find']({'botID':botID})[_0x414d08(0x269)]();_0x1f898f={..._0x1f898f,'apiKey':crypt[_0x414d08(0x228)](secure[_0x414d08(0x2b1)],_0x1f898f[_0x414d08(0x213)])['message'],'apiSecret':crypt['decrypt'](secure[_0x414d08(0x2b1)],_0x1f898f[_0x414d08(0x237)])[_0x414d08(0x21e)]};if(_0x7dc5f4){if(_0x1f898f[_0x414d08(0x213)]==_0x414d08(0x1c9))_0x1f898f[_0x414d08(0x213)]=config[_0x414d08(0x213)];if(_0x1f898f[_0x414d08(0x237)]=='************')_0x1f898f[_0x414d08(0x237)]=config['apiSecret'];dbConfig[_0x414d08(0x2e2)]('bot')[_0x414d08(0x238)]({'botID':botID})[_0x414d08(0x206)](_0x1f898f)[_0x414d08(0x240)]();}else dbConfig[_0x414d08(0x2e2)](_0x414d08(0x202))[_0x414d08(0x23a)](_0x1f898f)[_0x414d08(0x240)](),process[_0x414d08(0x289)]({'status':_0x414d08(0x1ed),'live':_0x414d08(0x2bd)},_0x4c27c5=>{});config={..._0x1f898f},setStartDatePerformance(),process['send']({'botname':_0x1f898f[_0x414d08(0x2aa)]},_0x1f4043=>{}),updateBotManager();const _0x5d3703=getNormalizedPerformance();getStartingBalances(_0x5d3703),emitPerformance(_0x5d3703),proxyEmit('configuration-stored'),await initCoinResults(),reset();}async function storeHeadless(_0x111ef7){const _0x4b00a7=_0x5b8255,_0x1c1f23={...config,'headless':_0x111ef7[_0x4b00a7(0x1af)]};let _0x56733d=dbConfig[_0x4b00a7(0x2e2)](_0x4b00a7(0x202))[_0x4b00a7(0x238)]({'botID':botID})[_0x4b00a7(0x269)]();_0x56733d&&dbConfig[_0x4b00a7(0x2e2)](_0x4b00a7(0x202))[_0x4b00a7(0x238)]({'botID':botID})['assign'](_0x1c1f23)[_0x4b00a7(0x240)](),config={..._0x1c1f23},updateBotManager(),proxyEmit(_0x4b00a7(0x19e),emittedConfiguration());}function noslash(_0x23bee7){const _0x1ba247=_0x5b8255;return _0x23bee7[_0x1ba247(0x281)]('/','');}async function updateNumberCoins(_0x3e1444){const _0x16c084=_0x5b8255;if(_0x3e1444[_0x16c084(0x244)]&&_0x3e1444[_0x16c084(0x244)]==_0x16c084(0x28f)){let _0x31b713=_0x3e1444['orderStatus'],_0x27ac62=![];currentCoins[_0x16c084(0x218)](_0x3c7a4e=>{const _0x3bd9e6=_0x16c084;noslash(_0x3c7a4e[_0x3bd9e6(0x29f)])==_0x3e1444['symbol']&&(_0x27ac62=!![]);});if(!_0x27ac62)return;const _0x17c44f=currentCoins[_0x16c084(0x238)](_0xfadb92=>noslash(_0xfadb92[_0x16c084(0x29f)])==_0x3e1444[_0x16c084(0x29f)]),_0x4c2652=_0x58ffa4=>{const _0xe53e79=_0x16c084;if(_0x17c44f)_0x17c44f[_0xe53e79(0x209)]=_0x58ffa4;};if(_0x31b713==_0x16c084(0x1a1))_0x4c2652(_0x16c084(0x2d2));else{if(_0x31b713==_0x16c084(0x2d1))_0x4c2652(_0x16c084(0x2ce)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x31b713==_0x16c084(0x1d6)){let _0x4ac05d=![];if(lastOrders)lastOrders[_0x16c084(0x218)](async _0x386522=>{const _0x5362ae=_0x16c084;if(_0x386522[_0x5362ae(0x2ac)]==_0x3e1444[_0x5362ae(0x268)]){_0x4ac05d=!![];if(_0x386522['filled']==0x0){_0x386522[_0x5362ae(0x1c6)]=_0x3e1444[_0x5362ae(0x1ca)]/_0x3e1444['accumulatedQuantity'],_0x386522[_0x5362ae(0x229)]=_0x3e1444[_0x5362ae(0x22d)],_0x386522[_0x5362ae(0x1ae)]={'cost':_0x3e1444[_0x5362ae(0x1e6)],'currency':_0x3e1444[_0x5362ae(0x284)]},_0x4c2652(_0x5362ae(0x229)),await validateOrders();if(lockOrders==ORDERS[_0x5362ae(0x20c)])currentCoins=await getCoins();await updateCoinResults(_0x386522);}}});!_0x4ac05d&&(_0x4c2652('filled'),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x44836a=JSON[_0x16c084(0x25b)](lastBalances[_0x16c084(0x23b)]);const _0x4a7e3d=_0x44836a[_0x16c084(0x238)](_0x5af1ea=>noslash(_0x5af1ea['symbol'])==_0x3e1444[_0x16c084(0x29f)]);if(_0x4a7e3d){if(_0x31b713==_0x16c084(0x1a1))_0x4a7e3d[_0x16c084(0x209)]=_0x4a7e3d['orderstatus']==_0x16c084(0x229)?'filled':_0x16c084(0x2d2);else{if(_0x31b713==_0x16c084(0x2d1))_0x4a7e3d[_0x16c084(0x209)]=_0x4a7e3d[_0x16c084(0x209)]==_0x16c084(0x229)?_0x16c084(0x229):_0x16c084(0x2ce);else _0x31b713==_0x16c084(0x1d6)&&(_0x4a7e3d[_0x16c084(0x209)]=_0x16c084(0x229));}}lastBalances={...lastBalances,'portfolio':JSON[_0x16c084(0x1e5)](_0x44836a)},proxyEmit(_0x16c084(0x28d),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x5c33d7=![],_0x4adf76=!![],_0x50b6c9=config[_0x5b8255(0x20d)]){const _0x1d8366=_0x5b8255;let _0x2d1296,_0x468009=[],_0x4d6e29=[],_0x5db00e=[];try{_0x2d1296=await exchange[_0x1d8366(0x255)](),mybalances=_0x2d1296[_0x1d8366(0x217)];if(!_0x4adf76)for(const [_0x281c00,_0x320100]of Object[_0x1d8366(0x1ec)](mybalances)){_0x5db00e['push'](_0x281c00);}else config[_0x1d8366(0x23b)][_0x1d8366(0x218)](_0x50eeaa=>{const _0x1b2bc7=_0x1d8366;if(!_0x50eeaa[_0x1b2bc7(0x23c)])_0x5db00e['push'](_0x50eeaa[_0x1b2bc7(0x243)]);});if(_0x50b6c9=='')for(const [_0x3e9d04,_0x4ee07e]of Object[_0x1d8366(0x1ec)](mybalances)){_0x4ee07e[_0x1d8366(0x1dd)]()!=0x0&&_0x4d6e29[_0x1d8366(0x23a)]({'coin':_0x3e9d04});}else{if(_0x5c33d7)await getOpenOrders();let _0x2a5ae2=![];for(const [_0x6ca691,_0x43a6e8]of Object[_0x1d8366(0x1ec)](mybalances)){if(_0x5db00e[_0x1d8366(0x256)](_0x6ca691)){const _0x2afdd1=config['portfolio'][_0x1d8366(0x238)](_0x3ebb30=>_0x3ebb30[_0x1d8366(0x243)]==_0x6ca691),_0x379ddf=_0x6ca691+'/'+_0x50b6c9,_0x1634de=_0x50b6c9+'/'+_0x6ca691,_0x11d3fc=currentCoins['find'](_0x122609=>_0x122609[_0x1d8366(0x243)]==_0x6ca691);_0x2a5ae2=![];_0x5c33d7&&(_0x2a5ae2=allOpenOrders[_0x1d8366(0x238)](_0x1cdf1b=>_0x1cdf1b[_0x1d8366(0x29f)]==_0x2afdd1[_0x1d8366(0x29f)]));if((_0x43a6e8[_0x1d8366(0x1dd)]()!=0x0||_0x2afdd1)&&(allSymbols['includes'](_0x379ddf)||_0x6ca691==_0x50b6c9))_0x6ca691!=_0x50b6c9&&_0x468009[_0x1d8366(0x23a)](_0x379ddf),_0x4d6e29[_0x1d8366(0x23a)]({'coin':_0x6ca691,'symbol':_0x379ddf,'reverse':![],'number':Math[_0x1d8366(0x1ea)](_0x43a6e8+(_0x2afdd1&&_0x2afdd1[_0x1d8366(0x1d4)]||0x0),0x0),'orderstatus':_0x5c33d7?_0x2a5ae2?_0x1d8366(0x2d2):_0x1d8366(0x20a):_0x11d3fc?_0x11d3fc['orderstatus']:_0x1d8366(0x20a)});else(_0x43a6e8[_0x1d8366(0x1dd)]()!=0x0||_0x2afdd1)&&allSymbols['includes'](_0x1634de)&&(_0x6ca691!=_0x50b6c9&&_0x468009['push'](_0x1634de),_0x4d6e29[_0x1d8366(0x23a)]({'coin':_0x6ca691,'symbol':_0x1634de,'reverse':!![],'number':Math['max'](_0x43a6e8+(_0x2afdd1&&_0x2afdd1['offset']||0x0),0x0),'orderstatus':_0x5c33d7?_0x2a5ae2?_0x1d8366(0x2d2):_0x1d8366(0x20a):_0x11d3fc?_0x11d3fc['orderstatus']:_0x1d8366(0x20a)}));}}}}catch(_0x49ddce){if(!_0x4adf76)handleErrorNoStop(_0x49ddce,_0x1d8366(0x2e1));else await handleError(_0x49ddce,_0x1d8366(0x2e1));}return _0x4d6e29;}async function getCoinNumber(_0x5c4d22){const _0x3d492b=_0x5b8255;let _0x1540a3;try{const _0x1e8665=await exchange['fetchBalance']();_0x1540a3=_0x1e8665['total'][_0x5c4d22];}catch(_0x53b938){await handleError(_0x53b938,_0x3d492b(0x1f2));}return _0x1540a3;}async function getOpenOrders(){const _0x54b244=_0x5b8255;let _0x4b66fe;allOpenOrders=[];try{for(const _0x10f9fb of config[_0x54b244(0x23b)]){!_0x10f9fb[_0x54b244(0x23c)]&&_0x10f9fb[_0x54b244(0x243)]!=config['basecoin']&&(_0x4b66fe=await exchange[_0x54b244(0x2a0)](_0x10f9fb[_0x54b244(0x29f)]),_0x4b66fe['length']>0x0&&allOpenOrders[_0x54b244(0x23a)](_0x4b66fe[0x0]));}}catch(_0x12d53a){await handleError(_0x12d53a,_0x54b244(0x215));}}async function handleOpenOrders(_0x40df44=0x0){const _0x184385=_0x5b8255;allOpenOrders[_0x184385(0x2cd)]==0x0&&lockOrders==ORDERS[_0x184385(0x20c)]&&allOrdersPlaced&&(_0x40df44==0x0?(_0x40df44++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x184385(0x291)));}async function getPortfolio(_0x2ace5b){const _0x1f2a3f=_0x5b8255;let _0x1a1971=[],_0x5b3a65=[],_0x1ee990,_0x49249e=[],_0x505351,_0x494411;_0x2ace5b[_0x1f2a3f(0x213)]===_0x1f2a3f(0x1c9)||_0x2ace5b['apiSecret']==='************'?(_0x505351=config[_0x1f2a3f(0x213)],_0x494411=config[_0x1f2a3f(0x237)]):(_0x505351=_0x2ace5b[_0x1f2a3f(0x213)],_0x494411=_0x2ace5b[_0x1f2a3f(0x237)]);await initExchange(_0x505351,_0x494411);let _0x3fd9b9=![];try{_0x3fd9b9=await loadSymbols();}catch(_0x1b069b){_0x3fd9b9=![],handleErrorNoStop(_0x1b069b,_0x1f2a3f(0x1e4));}if(_0x3fd9b9){_0x49249e=await getCoins(![],![],_0x2ace5b[_0x1f2a3f(0x20d)]);if(_0x49249e===![])proxyEmit(_0x1f2a3f(0x23b),![]);else{if(_0x2ace5b['basecoin']=='')proxyEmit(_0x1f2a3f(0x23b),_0x49249e);else{_0x49249e[_0x1f2a3f(0x218)](_0x1bf788=>{const _0x49cbc2=_0x1f2a3f;if(_0x1bf788['coin']!=_0x2ace5b['basecoin'])_0x1a1971[_0x49cbc2(0x23a)](_0x1bf788['symbol']);});try{_0x5b3a65=await exchange[_0x1f2a3f(0x1fa)](_0x1a1971);}catch(_0x12f974){await handleError(_0x12f974,_0x1f2a3f(0x253));}_0x49249e[_0x1f2a3f(0x218)](_0x1cec0e=>{const _0x2c7b5b=_0x1f2a3f;_0x1cec0e['coin']!=_0x2ace5b[_0x2c7b5b(0x20d)]?_0x1ee990=_0x1cec0e['reverse']?0x1/_0x5b3a65[_0x1cec0e[_0x2c7b5b(0x29f)]][_0x2c7b5b(0x25d)]:_0x5b3a65[_0x1cec0e[_0x2c7b5b(0x29f)]]['last']:_0x1ee990=0x1,_0x1cec0e[_0x2c7b5b(0x1c6)]=formatResult(_0x1ee990,0x8);}),proxyEmit(_0x1f2a3f(0x23b),_0x49249e);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x331273){const _0x4a8a1e=_0x5b8255;let _0xe0288b=!![];const _0x51207f=!_0x331273[_0x4a8a1e(0x275)]?markets[_0x331273[_0x4a8a1e(0x29f)]][_0x4a8a1e(0x2da)]['amount'][_0x4a8a1e(0x2f1)]:markets[_0x331273['symbol']][_0x4a8a1e(0x2da)][_0x4a8a1e(0x26b)][_0x4a8a1e(0x2f1)],_0x2560e8=!_0x331273[_0x4a8a1e(0x275)]?markets[_0x331273['symbol']][_0x4a8a1e(0x2da)][_0x4a8a1e(0x26b)][_0x4a8a1e(0x2f1)]:markets[_0x331273[_0x4a8a1e(0x29f)]]['limits'][_0x4a8a1e(0x2c8)][_0x4a8a1e(0x2f1)],_0x1ac157=markets[_0x331273[_0x4a8a1e(0x29f)]][_0x4a8a1e(0x197)][_0x4a8a1e(0x2c8)];_0x331273[_0x4a8a1e(0x2b6)]=formatResultTruncate(_0x331273['trade'],_0x1ac157);if(Math[_0x4a8a1e(0x2c9)](_0x331273[_0x4a8a1e(0x2b6)])<_0x51207f)_0xe0288b=![];if(Math['abs'](_0x331273[_0x4a8a1e(0x2b6)])*_0x331273[_0x4a8a1e(0x25d)]<_0x2560e8)_0xe0288b=![];if(_0x331273['side']=='sell'){let _0x30c771=config[_0x4a8a1e(0x23b)]['find'](_0x798e2f=>_0x798e2f['coin']==_0x331273[_0x4a8a1e(0x243)]);if(_0x30c771['offset']>0x0){if(Math['abs'](_0x331273[_0x4a8a1e(0x2b6)])>_0x331273[_0x4a8a1e(0x25e)]-_0x30c771[_0x4a8a1e(0x1d4)])_0xe0288b=![];}else{if(Math[_0x4a8a1e(0x2c9)](_0x331273[_0x4a8a1e(0x2b6)])>_0x331273[_0x4a8a1e(0x25e)])_0xe0288b=![];}}if(_0x331273['side']=='buy'){let _0x391911=config[_0x4a8a1e(0x23b)][_0x4a8a1e(0x238)](_0x1a098b=>_0x1a098b[_0x4a8a1e(0x243)]==config[_0x4a8a1e(0x20d)]),_0x37d0fb=currentCoins[_0x4a8a1e(0x238)](_0x4170d3=>_0x4170d3[_0x4a8a1e(0x243)]==config[_0x4a8a1e(0x20d)]);if(_0x391911['offset']>0x0){if(Math['abs'](_0x331273[_0x4a8a1e(0x2b6)])*_0x331273[_0x4a8a1e(0x25d)]>_0x37d0fb[_0x4a8a1e(0x25e)]-_0x391911[_0x4a8a1e(0x1d4)])_0xe0288b=![];}else{if(Math[_0x4a8a1e(0x2c9)](_0x331273[_0x4a8a1e(0x2b6)])*_0x331273[_0x4a8a1e(0x25d)]>_0x37d0fb[_0x4a8a1e(0x25e)])_0xe0288b=![];}}return _0xe0288b;}async function getBalances(){const _0x434b3b=_0x5b8255;let _0x9fb1eb=0x0,_0x67b798;const _0x315543=config['threshold'];if(config[_0x434b3b(0x1af)]&&config[_0x434b3b(0x285)]<0x0)await validate24hChanges();currentCoins[_0x434b3b(0x218)](_0x40f4d5=>{const _0x3b6687=_0x434b3b;if(_0x40f4d5[_0x3b6687(0x243)]!=config['basecoin']){let _0x8a51a7=global[_0x3b6687(0x286)][noslash(_0x40f4d5[_0x3b6687(0x29f)])];_0x67b798=_0x40f4d5[_0x3b6687(0x275)]?0x1/_0x8a51a7:_0x8a51a7;}else _0x67b798=0x1;let _0x1e812c=_0x40f4d5['number']*_0x67b798;_0x9fb1eb+=_0x1e812c,_0x40f4d5['last']=formatResult(Number(_0x67b798),0x8),_0x40f4d5['value']=_0x1e812c;}),currentCoins[_0x434b3b(0x218)](_0xba57c5=>{const _0xcb21a6=_0x434b3b;let _0x104fa6=config[_0xcb21a6(0x23b)][_0xcb21a6(0x238)](_0x88f9ca=>_0x88f9ca[_0xcb21a6(0x243)]==_0xba57c5[_0xcb21a6(0x243)]),_0x1fb34c=Number(_0x104fa6[_0xcb21a6(0x247)]),_0x553eca=_0xba57c5['value']/_0x9fb1eb*0x64,_0x22d86c=_0x1fb34c*_0x9fb1eb/0x64/_0xba57c5[_0xcb21a6(0x25d)]-_0xba57c5[_0xcb21a6(0x25e)];_0xba57c5[_0xcb21a6(0x247)]=formatResult(_0x553eca,0x3),_0xba57c5['target']=formatResult(_0x1fb34c,0x3),_0xba57c5[_0xcb21a6(0x2b6)]=formatResult(_0x22d86c,0x8),_0xba57c5['side']='',_0xba57c5['valid']=![];if(_0xba57c5[_0xcb21a6(0x243)]!=config[_0xcb21a6(0x20d)]){if(_0xba57c5['distribution']>_0x1fb34c)_0xba57c5[_0xcb21a6(0x266)]=_0xcb21a6(0x205),_0xba57c5[_0xcb21a6(0x2c6)]=checkMinimums(_0xba57c5);else _0xba57c5['distribution']<_0x1fb34c&&(_0xba57c5[_0xcb21a6(0x266)]=_0xcb21a6(0x199),_0xba57c5['valid']=checkMinimums(_0xba57c5));}_0xba57c5[_0xcb21a6(0x270)]=_0xba57c5[_0xcb21a6(0x247)]/_0xba57c5['target']-0x1;if(_0xba57c5[_0xcb21a6(0x209)]==_0xcb21a6(0x229)||_0xba57c5['orderstatus']==_0xcb21a6(0x2ce))_0xba57c5[_0xcb21a6(0x209)]='none';}),currentCoins[_0x434b3b(0x2d5)]((_0x4c8d98,_0x252b62)=>_0x4c8d98[_0x434b3b(0x270)]<_0x252b62[_0x434b3b(0x270)]?0x1:_0x252b62[_0x434b3b(0x270)]<_0x4c8d98[_0x434b3b(0x270)]?-0x1:0x0);const _0x5a4679=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5a4679[_0x434b3b(0x236)],'usd':_0x5a4679[_0x434b3b(0x23f)],'portfolio':JSON[_0x434b3b(0x1e5)](currentCoins),'threshold':_0x315543},proxyEmit(_0x434b3b(0x28d),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x434b3b(0x1af)])headlessMode({'portfolio':currentCoins,'threshold':_0x315543});else{if(lockOrders==ORDERS[_0x434b3b(0x29a)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x315543});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1250db=_0x5b8255;if(!lastBalances)return;let _0x3d5742=[],_0x261065,_0x222672=JSON[_0x1250db(0x25b)](lastBalances[_0x1250db(0x23b)]);_0x222672[_0x1250db(0x2d5)]((_0x162f03,_0x26e864)=>_0x162f03[_0x1250db(0x243)]>_0x26e864['coin']?0x1:_0x26e864[_0x1250db(0x243)]>_0x162f03[_0x1250db(0x243)]?-0x1:0x0),_0x222672[_0x1250db(0x218)](_0x96d6e9=>{const _0xe06326=_0x1250db;let _0x39e902={'coin':_0x96d6e9['coin'],'number':_0x96d6e9[_0xe06326(0x25e)],'price':_0x96d6e9[_0xe06326(0x25d)]};_0x3d5742[_0xe06326(0x23a)](_0x39e902);});const _0x446f85=await getFiat();_0x261065={'date':lastBalances[_0x1250db(0x2e0)][_0x1250db(0x201)]('\x20')[0x0],'eur':_0x446f85[_0x1250db(0x236)],'usd':_0x446f85['usd'],'coins':_0x3d5742};let _0x278343=dbPerformance[_0x1250db(0x2e2)](_0x1250db(0x264))[_0x1250db(0x238)]({'date':_0x261065[_0x1250db(0x2c7)]})[_0x1250db(0x269)]();_0x278343?_0x261065[_0x1250db(0x2c7)]!=config[_0x1250db(0x1be)]&&dbPerformance[_0x1250db(0x2e2)](_0x1250db(0x264))[_0x1250db(0x238)]({'date':_0x261065[_0x1250db(0x2c7)]})[_0x1250db(0x206)](_0x261065)[_0x1250db(0x240)]():dbPerformance[_0x1250db(0x2e2)](_0x1250db(0x264))['push'](_0x261065)[_0x1250db(0x240)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x34cbad=_0x5b8255;let _0x444f31=[];if(dbPerformance[_0x34cbad(0x28c)](_0x34cbad(0x264))['value']()){let _0x1ed6c5=dbPerformance[_0x34cbad(0x2e2)]('data')[_0x34cbad(0x1a9)]()[_0x34cbad(0x1c5)](_0x34cbad(0x2c7))[_0x34cbad(0x269)](),_0x50af7d=[...config[_0x34cbad(0x249)]];_0x50af7d['sort']((_0x19f6a1,_0x309f8e)=>_0x19f6a1[_0x34cbad(0x2c7)]>_0x309f8e[_0x34cbad(0x2c7)]?-0x1:_0x309f8e[_0x34cbad(0x2c7)]>_0x19f6a1[_0x34cbad(0x2c7)]?0x1:0x0);let _0xc7f403=0x1,_0x3934ce=[],_0x5c7200=0x0;_0x1ed6c5[_0x34cbad(0x2a6)]()[_0x34cbad(0x275)]()[_0x34cbad(0x218)]((_0x217b8a,_0x3ef68c)=>{const _0xc196bf=_0x34cbad;if(_0x50af7d[_0x5c7200]){if(_0x1ed6c5[_0x1ed6c5[_0xc196bf(0x2cd)]-_0x3ef68c]&&_0x50af7d[_0x5c7200][_0xc196bf(0x2c7)]==_0x1ed6c5[_0x1ed6c5[_0xc196bf(0x2cd)]-_0x3ef68c][_0xc196bf(0x2c7)]){if(_0x3ef68c<_0x1ed6c5[_0xc196bf(0x2cd)]){let _0x38ba30=0x0,_0x412e82=0x0;_0x1ed6c5[_0x1ed6c5[_0xc196bf(0x2cd)]-_0x3ef68c][_0xc196bf(0x1d5)][_0xc196bf(0x218)](_0x301c99=>{const _0x470430=_0xc196bf;_0x412e82+=_0x301c99[_0x470430(0x25e)]*_0x301c99[_0x470430(0x1c6)];}),_0x50af7d[_0x5c7200][_0xc196bf(0x1fe)]['forEach'](_0x3198e9=>{const _0x5a109b=_0xc196bf;_0x38ba30+=_0x3198e9[_0x5a109b(0x25e)]*_0x3198e9['price'];}),_0xc7f403*=_0x38ba30/(_0x412e82-_0x38ba30)+0x1;}_0x5c7200++;}}let _0x28be65=0x0;_0x217b8a[_0xc196bf(0x1d5)][_0xc196bf(0x218)](_0x4c266e=>{const _0x4ad8f1=_0xc196bf;_0x28be65+=_0x4c266e[_0x4ad8f1(0x25e)]*_0x4c266e[_0x4ad8f1(0x1c6)];}),_0x3934ce[_0x1ed6c5[_0xc196bf(0x2cd)]-_0x3ef68c-0x1]=_0x28be65*(_0xc7f403-0x1);});let _0x1625e4=[];_0x50af7d=[...config['liquidity']]||[];let _0x50c502=0x0;_0x5c7200=0x0,_0x1ed6c5[_0x34cbad(0x218)]((_0x5db4ab,_0x677c60)=>{const _0x1bd7ac=_0x34cbad;if(_0x50af7d[_0x5c7200]){const _0x214500=fns['parse'](_0x50af7d[_0x5c7200]['date'],_0x1bd7ac(0x22b),new Date()),_0x37461b=fns['parse'](_0x5db4ab[_0x1bd7ac(0x2c7)],_0x1bd7ac(0x22b),new Date());if(fns['isEqual'](_0x214500,_0x37461b)){let _0x3b1938=0x0;_0x50af7d[_0x5c7200][_0x1bd7ac(0x1fe)]['forEach'](_0x433933=>{const _0x3cc245=_0x1bd7ac;!_0x1625e4[_0x433933['coin']]?_0x1625e4[_0x433933[_0x3cc245(0x243)]]=_0x433933[_0x3cc245(0x25e)]:(_0x3b1938=_0x1625e4[_0x433933['coin']],_0x1625e4[_0x433933[_0x3cc245(0x243)]]+=_0x433933['number']);const _0x5e8beb=_0x5db4ab[_0x3cc245(0x1d5)]['find'](_0x22e89e=>_0x22e89e[_0x3cc245(0x243)]==_0x433933[_0x3cc245(0x243)]);(!_0x5e8beb||_0x5e8beb[_0x3cc245(0x25e)]==0x0)&&(_0x50c502+=(-_0x433933[_0x3cc245(0x25e)]-_0x3b1938)*_0x433933[_0x3cc245(0x1c6)]);}),_0x5c7200++;}}_0x5db4ab[_0x1bd7ac(0x1d5)]['forEach']((_0x312f7f,_0x29ae1b)=>{const _0x2cc26f=_0x1bd7ac;_0x1625e4[_0x312f7f[_0x2cc26f(0x243)]]&&(_0x312f7f={..._0x312f7f,'initial':_0x1625e4[_0x312f7f[_0x2cc26f(0x243)]]}),_0x5db4ab[_0x2cc26f(0x1d5)][_0x29ae1b]=_0x312f7f;}),_0x444f31['push']({'date':_0x5db4ab[_0x1bd7ac(0x2c7)],'eur':_0x5db4ab['eur'],'usd':_0x5db4ab['usd'],'offset':_0x3934ce[_0x677c60],'netoffset':_0x50c502,'coins':_0x5db4ab[_0x1bd7ac(0x1d5)]});});}return _0x444f31;}function emitPerformance(_0x1b8363){const _0x183c11=_0x5b8255;_0x1b8363[_0x183c11(0x2cd)]!==0x0?(proxyEmit('performance',_0x1b8363),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x478bf8,_0x244a57){const _0x2e0cd4=_0x5b8255;let _0x45673a=0x0,_0x1a7088=0x0,_0x3b8707=0x0;_0x478bf8['coins']['forEach'](_0x256635=>{const _0x1a1bc8=_0x4148;_0x45673a+=_0x256635[_0x1a1bc8(0x25e)]*_0x256635['price'];});_0x244a57&&(_0x45673a+=_0x478bf8[_0x2e0cd4(0x1d4)]);if(config[_0x2e0cd4(0x20d)]===_0x2e0cd4(0x257)||config[_0x2e0cd4(0x20d)]==='ETH')_0x1a7088=_0x45673a*_0x478bf8['eur'],_0x3b8707=_0x45673a*_0x478bf8[_0x2e0cd4(0x23f)];else{if(config[_0x2e0cd4(0x20d)]===_0x2e0cd4(0x2cb)||config[_0x2e0cd4(0x20d)]===_0x2e0cd4(0x1b0))_0x1a7088=_0x45673a*_0x478bf8[_0x2e0cd4(0x236)]/_0x478bf8[_0x2e0cd4(0x23f)],_0x3b8707=_0x45673a;else config['basecoin']===_0x2e0cd4(0x21c)&&(_0x1a7088=_0x45673a,_0x3b8707=_0x45673a*_0x478bf8[_0x2e0cd4(0x23f)]/_0x478bf8[_0x2e0cd4(0x236)]);}return[_0x45673a,_0x1a7088,_0x3b8707];}function getKPIs(_0x1924b8,_0x3ea481=_0x5b8255(0x21c)){const _0x1e926e=_0x5b8255,_0x2e8f17=config[_0x1e926e(0x20d)],_0x44dfdd=config[_0x1e926e(0x28d)],_0x151a77=currentCoins,_0x1760f6=getNormalizedPerformance(),_0x3bb587=_0x1924b8===_0x1e926e(0x20d)?_0x2e8f17:_0x1924b8===_0x1e926e(0x1ce)||_0x1924b8===_0x1e926e(0x2c3)?_0x3ea481:_0x1e926e(0x216)+_0x2e8f17,_0x28b496=_0x1924b8==='net-basecoin'?'Net\x20effect':_0x1924b8===_0x1e926e(0x2c3)?_0x1e926e(0x26c)+_0x3bb587+')':_0x3bb587+_0x1e926e(0x1b2),_0x3cfa6e=_0x1924b8===_0x1e926e(0x1c7)||_0x1924b8===_0x1e926e(0x2c3)?_0x1e926e(0x214):_0x3bb587+_0x1e926e(0x1f3);let _0x4739a7=0x0;_0x151a77[_0x1e926e(0x218)](_0x5f424e=>{const _0xea6046=_0x1e926e;_0x4739a7+=_0x5f424e['number']*_0x5f424e[_0xea6046(0x25d)];});if(_0x1924b8===_0x1e926e(0x1ce)||_0x1924b8===_0x1e926e(0x2c3)){if(_0x2e8f17===_0x1e926e(0x257)||_0x2e8f17===_0x1e926e(0x235))_0x4739a7=_0x4739a7*(_0x3ea481===_0x1e926e(0x21c)?_0x44dfdd['eur']:_0x44dfdd['usd']);else{if(_0x2e8f17===_0x1e926e(0x2cb)||_0x2e8f17===_0x1e926e(0x1b0))_0x4739a7=_0x4739a7*(_0x3ea481===_0x1e926e(0x21c)?_0x44dfdd['eur']/_0x44dfdd['usd']:0x1);else _0x2e8f17==='EUR'&&(_0x4739a7=_0x4739a7*(_0x3ea481==='EUR'?0x1:_0x44dfdd['usd']/_0x44dfdd[_0x1e926e(0x236)]));}}let _0x3615cf;if(_0x4739a7!==0x0){if(_0x1924b8===_0x1e926e(0x20d))_0x3615cf=(_0x4739a7/startingBalances[_0x1e926e(0x20d)]-0x1)*0x64;else{if(_0x3ea481===_0x1e926e(0x21c))_0x3615cf=(_0x4739a7/startingBalances[_0x1e926e(0x236)]-0x1)*0x64;else _0x3615cf=(_0x4739a7/startingBalances[_0x1e926e(0x23f)]-0x1)*0x64;}let _0x1e0929=0x0;if(startingBalances[_0x1e926e(0x1d5)])_0x151a77['forEach'](_0x4aa2ad=>{const _0x571ad4=_0x1e926e;let _0x56c0ac=startingBalances['coins'][_0x571ad4(0x238)](_0xc64351=>_0xc64351['coin']===_0x4aa2ad[_0x571ad4(0x243)]);if(_0x56c0ac&&_0x56c0ac['coin']&&_0x4aa2ad[_0x571ad4(0x25e)]!==0x0)_0x1e0929+=_0x56c0ac[_0x571ad4(0x25e)]*_0x4aa2ad['last'];});let _0x3f03c5=0x0;if(_0x1760f6[_0x1e926e(0x2cd)]!==0x0){let _0x51e8c1=_0x1760f6[_0x1760f6['length']-0x1];_0x3f03c5=_0x51e8c1[_0x1e926e(0x251)];}_0x1e0929-=_0x3f03c5;_0x1924b8==='net-basecoin'&&(_0x3615cf=(_0x4739a7-_0x1e0929)/startingBalances['basecoin']*0x64,_0x4739a7=_0x4739a7-_0x1e0929);if(_0x1924b8==='net-fiat'){let _0x32176b=_0x3ea481===_0x1e926e(0x21c)?startingBalances[_0x1e926e(0x236)]:startingBalances[_0x1e926e(0x23f)];if(_0x2e8f17===_0x1e926e(0x257)||_0x2e8f17==='ETH')_0x1e0929=_0x3ea481==='EUR'?_0x1e0929*_0x44dfdd[_0x1e926e(0x236)]:_0x1e0929*_0x44dfdd[_0x1e926e(0x23f)];else{if(_0x2e8f17===_0x1e926e(0x2cb)||_0x2e8f17==='USDT')_0x1e0929=_0x3ea481===_0x1e926e(0x21c)?_0x1e0929*_0x44dfdd[_0x1e926e(0x236)]/_0x44dfdd[_0x1e926e(0x23f)]:_0x1e0929;else _0x2e8f17===_0x1e926e(0x21c)&&(_0x1e0929=_0x3ea481===_0x1e926e(0x21c)?_0x1e0929:_0x1e0929*_0x44dfdd[_0x1e926e(0x23f)]/_0x44dfdd[_0x1e926e(0x236)]);}_0x3615cf=(_0x4739a7-_0x1e0929)/_0x32176b*0x64,_0x4739a7=_0x4739a7-_0x1e0929;}if(_0x3615cf){if(_0x3615cf<0x64)_0x3615cf=_0x3615cf[_0x1e926e(0x27b)](0x2);else{if(_0x3615cf<0x3e8)_0x3615cf=_0x3615cf['toFixed'](0x1);else _0x3615cf=_0x3615cf['toFixed'](0x0);}}else _0x3615cf=Number('0')[_0x1e926e(0x27b)](0x2);if(_0x4739a7){if(Math[_0x1e926e(0x2c9)](_0x4739a7)<0.000001)_0x4739a7=_0x4739a7['toFixed'](0x2);else{if(Math[_0x1e926e(0x2c9)](_0x4739a7)<0.1)_0x4739a7=_0x4739a7[_0x1e926e(0x27b)](0x6);else{if(Math[_0x1e926e(0x2c9)](_0x4739a7)<0x1)_0x4739a7=_0x4739a7['toFixed'](0x5);else{if(Math[_0x1e926e(0x2c9)](_0x4739a7)<0xa)_0x4739a7=_0x4739a7[_0x1e926e(0x27b)](0x4);else{if(Math[_0x1e926e(0x2c9)](_0x4739a7)<0x64)_0x4739a7=_0x4739a7[_0x1e926e(0x27b)](0x3);else{if(Math[_0x1e926e(0x2c9)](_0x4739a7)<0x3e8)_0x4739a7=_0x4739a7['toFixed'](0x2);else _0x4739a7=_0x4739a7['toFixed'](0x2);}}}}}}else _0x4739a7=Number('0')[_0x1e926e(0x27b)](0x2);}else _0x3615cf=Number('0')[_0x1e926e(0x27b)](0x2);return{'value':_0x4739a7,'change':_0x3615cf,'leftTxt':_0x28b496,'rightTxt':_0x3cfa6e};}async function getStartingBalances(_0x35c192,_0x18955e=!![]){const _0x5df0ca=_0x5b8255;if(_0x35c192[_0x5df0ca(0x2cd)]!==0x0){const [_0x2bef94,_0xe177b7,_0x321103]=getPerf(_0x35c192[0x0],!![]);let _0x1c7201=[];config[_0x5df0ca(0x23b)][_0x5df0ca(0x218)](_0x451e8c=>{const _0x5e9b67=_0x5df0ca;let _0x3b3fbb=0x0,_0x28ffec;config[_0x5e9b67(0x249)][_0x5e9b67(0x218)](_0x4ca9e7=>{const _0x5e66a4=_0x5e9b67;let _0x240e6e=_0x4ca9e7['changes'][_0x5e66a4(0x238)](_0x117ce1=>_0x117ce1[_0x5e66a4(0x243)]==_0x451e8c['coin']);if(_0x240e6e){_0x3b3fbb+=_0x240e6e[_0x5e66a4(0x25e)];if(!_0x28ffec)_0x28ffec=_0x240e6e[_0x5e66a4(0x1c6)];}}),_0x1c7201[_0x5e9b67(0x23a)]({'coin':_0x451e8c[_0x5e9b67(0x243)],'number':_0x3b3fbb,'initialprice':_0x28ffec});});const _0x14e8f1={'basecoin':_0x2bef94,'eur':_0xe177b7,'usd':_0x321103,'coins':_0x1c7201};if(_0x18955e)proxyEmit(_0x5df0ca(0x1a6),_0x14e8f1);startingBalances=_0x14e8f1;}}function headlessMode(_0x7507d9){const _0x4dead9=_0x5b8255;let _0x2656e0=_0x7507d9[_0x4dead9(0x23b)],_0x1eeeef=_0x7507d9[_0x4dead9(0x2f0)],_0x3221c4=[];for(let _0xa1a6a5 of _0x2656e0){if(_0xa1a6a5[_0x4dead9(0x243)]!=config['basecoin']){if(_0xa1a6a5['delta']>=_0x1eeeef/0x64){if(_0xa1a6a5['valid'])_0x3221c4['push'](_0xa1a6a5);}else{if(_0xa1a6a5[_0x4dead9(0x270)]<=-_0x1eeeef/0x64){if(_0xa1a6a5[_0x4dead9(0x2c6)])_0x3221c4[_0x4dead9(0x23a)](_0xa1a6a5);}}}}_0x3221c4['length']>0x0&&placeOrder(_0x3221c4);}function notifyBalance(_0x3c193f){const _0x4b6356=_0x5b8255;let _0x236fa5=_0x3c193f['portfolio'],_0x390249=_0x3c193f['threshold'],_0x54641d=[];for(let _0x1954cc of _0x236fa5){if(_0x1954cc['coin']!=config['basecoin']){if(_0x1954cc[_0x4b6356(0x270)]>=_0x390249/0x64){if(_0x1954cc[_0x4b6356(0x2c6)])_0x54641d[_0x4b6356(0x23a)](_0x1954cc);}else{if(_0x1954cc[_0x4b6356(0x270)]<=-_0x390249/0x64){if(_0x1954cc[_0x4b6356(0x2c6)])_0x54641d[_0x4b6356(0x23a)](_0x1954cc);}}}}if(_0x54641d['length']>0x0){let _0x24cb73=_0x54641d[_0x4b6356(0x22c)](_0x223e8b=>_0x223e8b[_0x4b6356(0x243)]);_0x24cb73[_0x4b6356(0x2d5)]();let _0x1ca034=_0x24cb73[_0x4b6356(0x2df)](',\x20');if(!lastCoinsToBalance)logHistory(_0x4b6356(0x265),_0x4b6356(0x26f));lastCoinsToBalance=_0x1ca034;}}function symbolToCoin(_0x2bb22d){const _0x28ddaa=_0x5b8255;let _0x2e7bb1;if(_0x2bb22d[_0x28ddaa(0x256)]('/'+config['basecoin']))_0x2e7bb1=_0x2bb22d[_0x28ddaa(0x281)]('/'+config['basecoin'],'');if(_0x2bb22d[_0x28ddaa(0x256)](config[_0x28ddaa(0x20d)]+'/'))_0x2e7bb1=_0x2bb22d['replace'](config[_0x28ddaa(0x20d)]+'/','');return _0x2e7bb1;}async function unlockOrders(){const _0x315c36=_0x5b8255;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x315c36(0x29a)];}}async function validateOrders(_0x35d8bb){const _0x2deb1c=_0x5b8255;if(_0x35d8bb)validateOrdersState=_0x35d8bb;let _0x4f8cb4=[],_0x30a9da=config[_0x2deb1c(0x2b4)]==_0x2deb1c(0x290)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2deb1c(0x267)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2deb1c(0x20c)])return;lastOrders[_0x2deb1c(0x218)](_0x401ff1=>{const _0x3e57fb=_0x2deb1c;let _0x28883f=![];_0x401ff1['filled']>0x0&&(_0x28883f=!![]),_0x4f8cb4['push'](_0x28883f),_0x28883f&&config[_0x3e57fb(0x2b4)]!=_0x3e57fb(0x290)&&logHistory(_0x3e57fb(0x27c),'Order\x20filled:\x20'+_0x401ff1['symbol']+'\x20'+_0x401ff1['side']+'\x20#'+formatResult(_0x401ff1['filled'],0x8)+'\x20@'+formatResult(_0x401ff1[_0x3e57fb(0x1c6)],0x8));}),_0x4f8cb4[_0x2deb1c(0x218)]((_0x2005eb,_0xb5e5dd)=>{if(_0x2005eb)lastOrders['splice'](_0xb5e5dd,0x1);}),persistOpenOrders(lastOrders);const _0x14465d=coolingDown?_0x2deb1c(0x2ca):_0x2deb1c(0x208);if(validateOrdersState==_0x2deb1c(0x200))validateOrdersState=_0x2deb1c(0x245),_0x4f8cb4[_0x2deb1c(0x256)](![])?config[_0x2deb1c(0x2b4)]==_0x2deb1c(0x290)?logHistory(_0x2deb1c(0x265),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x2deb1c(0x265),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0x4f8cb4[_0x2deb1c(0x256)](![])){}else allOrdersPlaced&&(config[_0x2deb1c(0x2b4)]==_0x2deb1c(0x290)?logHistory(_0x2deb1c(0x1c1),_0x2deb1c(0x2be)+_0x14465d):logHistory(_0x2deb1c(0x1c1),'Order(s)\x20filled\x20-\x20'+_0x14465d),await unlockOrders());}else{if(validateOrdersState==_0x2deb1c(0x1ba))_0x4f8cb4[_0x2deb1c(0x256)](![])&&(config[_0x2deb1c(0x2b4)]==_0x2deb1c(0x290)?logHistory(_0x2deb1c(0x1c1),_0x2deb1c(0x1fc)+Math[_0x2deb1c(0x1ad)](_0x30a9da*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x14465d):(await cancelOrders(),logHistory('success',_0x2deb1c(0x2a8)+Math['round'](_0x30a9da*validateOrderInterval/0xea60)+_0x2deb1c(0x250)+_0x14465d))),await unlockOrders();else{if(validateOrdersState==_0x2deb1c(0x291)){if(config[_0x2deb1c(0x2b4)]!=_0x2deb1c(0x290))logHistory(_0x2deb1c(0x1c1),_0x2deb1c(0x1e8)+_0x14465d);await unlockOrders();}}}}}async function cancelOrders(){const _0xe27a22=_0x5b8255;lastOrders[_0xe27a22(0x218)](async _0x4bdca7=>{const _0x207ea5=_0xe27a22;try{const _0x3ac869=await exchange[_0x207ea5(0x2c2)](_0x4bdca7[_0x207ea5(0x2a1)],_0x4bdca7[_0x207ea5(0x29f)]);}catch(_0x5b474){if(_0x5b474[_0x207ea5(0x1dd)]()[_0x207ea5(0x256)](_0x207ea5(0x2ee))){}else await handleError(_0x5b474,_0x207ea5(0x28b));}});}function _0xd8f9(){const _0x1b4b01=['showname','Binance\x20not\x20responding','emojisell','Crypt','emojibuy','limit-high','add','582vfxoGp','\x20|\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','bb-secure.json','OrderNotFound','padEnd','threshold','min','limit-low','currency','\x20|\x20Binance\x20API\x20key\x20invalid','precision','symbols','buy','wsKey','api_secret','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','<b>Bot\x20','configuration','BNB/','AuthenticationError','NEW','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','set','10190250mgrhjB','formattedMessage','starting-balances','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','buys','cloneDeep','Order\x20amount\x20is\x20invalid:\x20','close','restart','round','fee','headless','USDT','InvalidNonce','\x20value','isArray','constructor','ExchangeNotAvailable','lowdb/adapters/FileSync','argv','exchange','startnumber','final','search',')\x20|\x20Error\x20details:\x20','toggleBotMode','startdate','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','error','success','_events','subscribeSpotKline','\x20:\x20','sortBy','price','net-basecoin','43692rbvjHf','************','cumulativeQuoteAssetTransactedQty','rightTxt','getDate','simple','fiat','\x20minutes','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','bot-','XEM/BUSD','offset','coins','FILLED','2.5.0','getSeconds','Invalid\x20quantity','datetime','string','26RAfTBT','toString','wss://stream.binance.com:9443','recreate','InsufficientFunds','progress','/backup/','writeFile','loadSymbols()','stringify','commission','lowdb','No\x20more\x20open\x20orders\x20-\x20','storeConfiguration','max','toLowerCase','entries','enabled','coin-loading-progress','-config.json','parseISO','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','getCoinNumber()','\x20change','padStart','change','mkdirSync','BNB','sells','2.3.5','fetchTickers','wsMarket','Order(s)\x20not\x20validated\x20after\x20','logs','changes','log','initial','split','bot','getPortfolio','subscribeSymbol24hrTicker','sell','assign','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','balancing\x20resumed','orderstatus','none','getFullYear','LOCKED','basecoin','loadMarkets','\x20orders\x20in\x20less\x20than\x20','createWriteStream','timeshift','./config/','apiKey','Net\x20effect','getOpenOrders()','Net\x20','total','forEach','exec','filter','placeOrder()','EUR','6415lPDOew','message','event','event-history','indexOf','milliseconds','sha256','sendPortfolioTelegram','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','getHours','initclient','decrypt','filled','type','yyyy/MM/dd','map','accumulatedQuantity','Market','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','cooldown','args','createOrder','date-fns','\x20order:\x20','ETH','eur','apiSecret','find','remove','push','portfolio','excluded','binanceus','1586256KfrUAK','usd','write','307932iZJthA','<pre>','coin','eventType','ongoing','version','distribution','Limit\x20(low-margin)','liquidity','ccxt','remainingSymbols','\x20hour','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','/output-000.log','10UMSOxu','\x20minutes\x20-\x20','netoffset','(((.+)+)+)+$','getPortfolio()','***','fetchBalance','includes','BTC','fromCodePoint','getMinutes','kill','parse','priceChangePercent','last','number','openOrders','full','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','starting-balance-','wss://stream.binance.us:9443','data','warning','side','timeout','newClientOrderId','value','\x20>\x20','cost','Net\x20effect\x20(','findIndex','API\x20or\x20clock\x20sync\x20issue','Manual\x20balancing\x20required','delta','\x20-\x20bot\x20not\x20started','random','\x20|\x20Error\x20details:\x20','format','reverse','YOYOW/','page','recreateCoinResults()','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','getMonth','toFixed','order','MIN_NOTIONAL','realized','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','-results.json','replace','Cooldown\x20ended\x20-\x20balancing\x20resumed','NANO/','commissionAsset','change24h','ticker','ask','kline','send','WebSockets(','cancelOrders()','has','balances','getTime','executionReport','market','no\x20open\x20orders','.json','binance','Binance\x20not\x20available\x20(2)','botID','Bot\x20','bb-settings.json','RSA-OAEP','emitHistory','UNLOCKED','test','Binance\x20API\x20blocked','freeze','subscribeSpotUserDataStream','symbol','fetchOpenOrders','orderId','./logs/','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','recovery','wsUrl','slice','./version.json','Unfilled\x20order(s)\x20canceled\x20after\x20','Binance\x20API\x20key\x20is\x20invalid','botname','1939084ddiJZW','customId','fees','limit','splice','spot','privateKey','reconnected','storeHeadless','ordertype','DAI/','trade','options','\x20portfolio:</b>\x20\x0a\x0a','concat','shift','api_key','-------------------------------\x0a','running','Order(s)\x20validated\x20-\x20','initws()','apply','yyyy-MM-dd\x27T\x27HH:mm:ss','cancelOrder','net-fiat','getStartingBalances','22434qgItTj','valid','date','amount','abs','balancing\x20resumes\x20when\x20cooldown\x20ends','BUSD','HOT/EUR','length','canceled','keys','</pre>','CANCELED','open','cancel','Error:\x20Invalid\x20argument\x20','sort','API-key\x20format\x20invalid','%\x20\x0a','Limit\x20(high-margin)','breakeven','limits','userData','defaults','target','DDoSProtection','join','time','getCoins()','get'];_0xd8f9=function(){return _0x1b4b01;};return _0xd8f9();}async function initCoinResults(){const _0x204d0c=_0x5b8255;let _0x3f439d=[];config['portfolio'][_0x204d0c(0x218)](_0x4798e3=>{const _0x3f546c=_0x204d0c;if(!_0x4798e3['excluded']&&_0x4798e3[_0x3f546c(0x243)]!=config['basecoin']){let _0x203271=dbCoinResults[_0x3f546c(0x2e2)]('coins')[_0x3f546c(0x238)]({'coin':_0x4798e3[_0x3f546c(0x243)]})[_0x3f546c(0x269)]();if(!_0x203271){const _0x4fa4b0=currentCoins[_0x3f546c(0x238)](_0x10c146=>_0x10c146[_0x3f546c(0x243)]==_0x4798e3[_0x3f546c(0x243)]),_0x29ab33=global[_0x3f546c(0x286)][noslash(_0x4798e3[_0x3f546c(0x29f)])];let _0x1f9b02=_0x4fa4b0?_0x4fa4b0['number']:null,_0x2789fe=_0x4798e3[_0x3f546c(0x275)]?0x1/_0x29ab33:_0x29ab33,_0x2a78a3;config[_0x3f546c(0x249)][_0x3f546c(0x218)](_0x5612a7=>{const _0x283402=_0x3f546c;!_0x2a78a3&&(_0x2a78a3=_0x5612a7[_0x283402(0x1fe)][_0x283402(0x238)](_0x2366ff=>_0x2366ff[_0x283402(0x243)]==_0x4798e3[_0x283402(0x243)]),_0x2a78a3&&(_0x1f9b02=_0x2a78a3[_0x283402(0x25e)],_0x2789fe=_0x2a78a3[_0x283402(0x1c6)]));}),_0x3f439d[_0x3f546c(0x23a)]({'coin':_0x4798e3[_0x3f546c(0x243)],'number':_0x1f9b02,'price':_0x2789fe});}}}),_0x3f439d['forEach'](_0x3278c7=>{const _0x1ff3f5=_0x204d0c,_0x546214={'coin':_0x3278c7[_0x1ff3f5(0x243)],'number':_0x3278c7['number'],'breakeven':_0x3278c7['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1ff3f5(0x2e2)](_0x1ff3f5(0x1d5))[_0x1ff3f5(0x23a)](_0x546214)['write']();});}async function updateCoinResults(_0x46856e,_0x1af39f=![]){const _0x2c671d=_0x5b8255;let _0x5fa4e6,_0x2fcd08,_0xb7489a,_0x5b152b,_0x212b42,_0x20dc88,_0x445960=dbCoinResults[_0x2c671d(0x2e2)]('coins')[_0x2c671d(0x238)]({'coin':_0x46856e[_0x2c671d(0x243)]})[_0x2c671d(0x269)]();!_0x445960&&await initCoinResults();_0x46856e[_0x2c671d(0x275)]&&(_0x20dc88={'filled':_0x46856e['filled']*_0x46856e[_0x2c671d(0x1c6)],'amount':_0x46856e['filled']*_0x46856e['price'],'side':_0x46856e['side']==_0x2c671d(0x205)?_0x2c671d(0x199):_0x2c671d(0x205),'price':0x1/_0x46856e['price']},_0x46856e={..._0x46856e,..._0x20dc88});_0x1af39f?_0x2fcd08=_0x46856e[_0x2c671d(0x266)]=='buy'?_0x445960[_0x2c671d(0x25e)]+_0x46856e[_0x2c671d(0x229)]:_0x445960[_0x2c671d(0x25e)]-_0x46856e[_0x2c671d(0x229)]:_0x2fcd08=await getCoinNumber(_0x46856e[_0x2c671d(0x243)]);if(_0x46856e[_0x2c671d(0x1ae)]&&_0x46856e[_0x2c671d(0x1ae)][_0x2c671d(0x195)]==config[_0x2c671d(0x20d)])_0x5fa4e6=_0x46856e[_0x2c671d(0x1ae)]['cost'];else{if(_0x46856e[_0x2c671d(0x1ae)]&&_0x46856e['fee']['currency']==_0x2c671d(0x1f7)&&!_0x1af39f)_0x5fa4e6=_0x46856e[_0x2c671d(0x1ae)]['cost']*global[_0x2c671d(0x286)][_0x2c671d(0x1f7)+config['basecoin']];else _0x5fa4e6=defaultFee*_0x46856e['filled']*_0x46856e[_0x2c671d(0x1c6)];}_0x46856e['side']==_0x2c671d(0x199)?(_0xb7489a=_0x2fcd08!=0x0?(_0x445960[_0x2c671d(0x2d9)]*_0x445960[_0x2c671d(0x25e)]+_0x46856e[_0x2c671d(0x1c6)]*(_0x2fcd08-_0x445960['number'])+_0x5fa4e6)/_0x2fcd08:0x0,_0x5b152b=_0x445960['realized']):(_0xb7489a=_0x2fcd08!=0x0?(_0x445960[_0x2c671d(0x2d9)]*_0x445960[_0x2c671d(0x25e)]-_0x46856e['price']*(_0x445960['number']-_0x2fcd08)+_0x5fa4e6)/_0x2fcd08:0x0,_0x5b152b=_0x445960[_0x2c671d(0x27e)]+(_0x46856e[_0x2c671d(0x1c6)]-_0x445960[_0x2c671d(0x2d9)])*_0x46856e[_0x2c671d(0x229)]);_0x212b42=(_0x46856e[_0x2c671d(0x1c6)]-_0xb7489a-_0x5fa4e6/_0x46856e['filled'])*_0x2fcd08;let _0x2b5e51={'coin':_0x46856e['coin'],'number':_0x2fcd08,'breakeven':formatResult(_0xb7489a,0x8),'realized':formatResult(_0x5b152b,0x8),'unrealized':formatResult(_0x212b42,0x8),'fees':formatResult(_0x445960[_0x2c671d(0x2ad)]+_0x5fa4e6,0x8),'sells':_0x46856e[_0x2c671d(0x266)]=='sell'?_0x445960['sells']+0x1:_0x445960[_0x2c671d(0x1f8)],'buys':_0x46856e[_0x2c671d(0x266)]=='buy'?_0x445960[_0x2c671d(0x1a8)]+0x1:_0x445960[_0x2c671d(0x1a8)]};dbCoinResults['get'](_0x2c671d(0x1d5))[_0x2c671d(0x238)]({'coin':_0x46856e[_0x2c671d(0x243)]})[_0x2c671d(0x206)](_0x2b5e51)[_0x2c671d(0x240)]();if(!_0x1af39f){if(_0x46856e[_0x2c671d(0x1ae)]&&_0x46856e[_0x2c671d(0x1ae)]['currency']==_0x2c671d(0x1f7)){const _0x23b430=currentCoins[_0x2c671d(0x238)](_0x1d6709=>_0x1d6709[_0x2c671d(0x243)]=='BNB');if(_0x23b430){let _0x1b496e=dbCoinResults['get'](_0x2c671d(0x1d5))['find']({'coin':_0x2c671d(0x1f7)})[_0x2c671d(0x269)]();_0x2b5e51={..._0x1b496e,'number':_0x23b430[_0x2c671d(0x25e)]},dbCoinResults[_0x2c671d(0x2e2)](_0x2c671d(0x1d5))[_0x2c671d(0x238)]({'coin':_0x2c671d(0x1f7)})[_0x2c671d(0x206)](_0x2b5e51)[_0x2c671d(0x240)]();}}}}async function placeOrder(_0x5d9660){const _0x4d5718=_0x5b8255,_0x499407=config[_0x4d5718(0x2b4)]==_0x4d5718(0x290)?_0x4d5718(0x290):_0x4d5718(0x2ae);if(lockOrders==ORDERS[_0x4d5718(0x29a)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x4d5718(0x20c)],allOrdersPlaced=![],validateOrdersState=_0x4d5718(0x200),lastOrders=[];for(const _0x310a27 of _0x5d9660){let _0x8cfed9,_0x555860,_0x3fcd23,_0x15579b,_0xa9b72f,_0x2d09ef=_0x310a27[_0x4d5718(0x29f)];try{const _0x3f6e55=await exchange[_0x4d5718(0x1fa)]([_0x2d09ef]),_0x322290=_0x3f6e55[_0x2d09ef];_0x8cfed9=_0x310a27['reverse']?0x1/_0x310a27[_0x4d5718(0x25d)]:_0x310a27[_0x4d5718(0x25d)],_0x555860=_0x322290['bid'],_0x3fcd23=_0x322290[_0x4d5718(0x287)];_0x310a27[_0x4d5718(0x275)]?(_0x15579b=_0x310a27['side']==_0x4d5718(0x199)?_0x4d5718(0x205):_0x4d5718(0x199),_0xa9b72f=Math[_0x4d5718(0x2c9)](_0x310a27[_0x4d5718(0x2b6)])/_0x8cfed9):(_0x15579b=_0x310a27[_0x4d5718(0x266)],_0xa9b72f=Math[_0x4d5718(0x2c9)](_0x310a27[_0x4d5718(0x2b6)]));_0x499407==_0x4d5718(0x2ae)&&(config[_0x4d5718(0x2b4)]==_0x4d5718(0x2e8)&&(_0x8cfed9=_0x15579b==_0x4d5718(0x199)?_0x555860:_0x3fcd23),config[_0x4d5718(0x2b4)]==_0x4d5718(0x194)&&(_0x8cfed9=_0x15579b=='buy'?_0x3fcd23:_0x555860));_0xa9b72f=formatResult(_0xa9b72f,0x8),_0x8cfed9=formatResult(_0x8cfed9,0x8);const _0xf9bac4=_0x15579b==_0x4d5718(0x205)?config[_0x4d5718(0x2e5)]?String[_0x4d5718(0x258)]('0x'+config['emojisell'])+'\x20':'':config[_0x4d5718(0x2e7)]?String[_0x4d5718(0x258)]('0x'+config[_0x4d5718(0x2e7)])+'\x20':'',_0x27d71f=_0x499407==_0x4d5718(0x290)?_0x4d5718(0x22e):config[_0x4d5718(0x2b4)]==_0x4d5718(0x2e8)?_0x4d5718(0x2d8):_0x4d5718(0x248),_0x598ff0=new Date()[_0x4d5718(0x28e)]()[_0x4d5718(0x1dd)]()['slice'](-0x6)+'-'+Math[_0x4d5718(0x272)]()[_0x4d5718(0x1dd)]()[_0x4d5718(0x2a6)](-0x6);lastOrders[_0x4d5718(0x23a)]({'customId':_0x598ff0,'symbol':_0x2d09ef,'coin':_0x310a27['coin'],'side':_0x15579b,'reverse':_0x310a27[_0x4d5718(0x275)],'filled':0x0});if(_0x499407==_0x4d5718(0x290))logHistory(_0x4d5718(0x27c),''+_0xf9bac4+_0x27d71f+_0x4d5718(0x234)+_0x2d09ef+'\x20'+_0x15579b+'\x20#'+formatResult(_0xa9b72f,0x8)+'\x20@'+formatResult(_0x8cfed9,0x8));else logHistory(_0x4d5718(0x27c),''+_0xf9bac4+_0x27d71f+_0x4d5718(0x234)+_0x2d09ef+'\x20'+_0x15579b+'\x20#'+formatResult(_0xa9b72f,0x8)+'\x20@'+formatResult(_0x8cfed9,0x8));const _0x5a7cc9=await exchange[_0x4d5718(0x232)](_0x2d09ef,_0x499407,_0x15579b,_0xa9b72f,_0x8cfed9,{'clientOrderId':_0x598ff0}),_0x25f661=lastOrders[_0x4d5718(0x2cd)]-0x1;_0x25f661>=0x0&&lastOrders[_0x25f661][_0x4d5718(0x2ac)]==_0x598ff0&&(lastOrders[_0x25f661]={...lastOrders[_0x25f661],'orderId':_0x5a7cc9['id'],'amount':_0x5a7cc9[_0x4d5718(0x2c8)],'price':_0x5a7cc9[_0x4d5718(0x1c6)],'fee':_0x5a7cc9[_0x4d5718(0x1ae)]});let _0x1dd600=currentCoins['find'](_0x8aeccd=>_0x8aeccd[_0x4d5718(0x243)]==_0x310a27['coin']);_0x1dd600[_0x4d5718(0x209)]=_0x4d5718(0x2d2);if(config[_0x4d5718(0x230)]!=0x0){let _0x534152=null;if(cooldownTracker[_0x4d5718(0x2cd)]==config[_0x4d5718(0x230)]-0x1)_0x534152=cooldownTracker[_0x4d5718(0x2ba)]();const _0x4ff4e4=getTimeStamp();cooldownTracker[_0x4d5718(0x23a)](_0x4ff4e4);if(_0x534152){const _0x6039c=fns['differenceInSeconds'](new Date(_0x4ff4e4),new Date(_0x534152));if(_0x6039c<cooldownInterval){logHistory('error','Executed\x20'+config['cooldown']+_0x4d5718(0x20f)+cooldownInterval/0x3c+_0x4d5718(0x1f1)+cooldownPeriod/(0xe10*0x3e8)+_0x4d5718(0x24c)),coolingDown=!![];break;}}}}catch(_0x1da925){if(_0x1da925[_0x4d5718(0x1dd)]()['includes'](_0x4d5718(0x27d)))lastOrders=lastOrders[_0x4d5718(0x21a)](_0x28af2a=>_0x28af2a[_0x4d5718(0x29f)]!=_0x2d09ef),logHistory(_0x4d5718(0x1c0),_0x4d5718(0x27f)+_0x2d09ef);else _0x1da925[_0x4d5718(0x1dd)]()[_0x4d5718(0x256)](_0x4d5718(0x1d9))?(lastOrders=lastOrders['filter'](_0x5ad71b=>_0x5ad71b[_0x4d5718(0x29f)]!=_0x2d09ef),logHistory(_0x4d5718(0x1c0),_0x4d5718(0x1aa)+_0x2d09ef)):(lastOrders=lastOrders[_0x4d5718(0x21a)](_0x363704=>_0x363704[_0x4d5718(0x29f)]!=_0x2d09ef),await handleError(_0x1da925,_0x4d5718(0x21b),_0x2d09ef));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x52b426=config[_0x4d5718(0x2b4)]==_0x4d5718(0x290)?validateOrderTimeout*0x3c*0x3e8:config[_0x4d5718(0x267)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2c3fe=_0x4d5718;validateOrders(_0x2c3fe(0x1ba));},_0x52b426);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4d5718(0x1c1),_0x4d5718(0x282)));}else{if(coolingDown)!config[_0x4d5718(0x1af)]&&logHistory(_0x4d5718(0x1c0),_0x4d5718(0x207));else lockOrders!=ORDERS[_0x4d5718(0x29a)]&&(!config[_0x4d5718(0x1af)]&&(config[_0x4d5718(0x2b4)]=='market'?logHistory('error',_0x4d5718(0x2a3)):logHistory(_0x4d5718(0x1c0),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x29b874){const _0x427db7=_0x5b8255,_0x450e98={...config,'openOrders':_0x29b874};let _0x8510ed=dbConfig[_0x427db7(0x2e2)](_0x427db7(0x202))[_0x427db7(0x238)]({'botID':botID})[_0x427db7(0x269)]();_0x8510ed&&dbConfig['get'](_0x427db7(0x202))[_0x427db7(0x238)]({'botID':botID})[_0x427db7(0x206)](_0x450e98)[_0x427db7(0x240)]();}function restoreOrders(){const _0x2240fb=_0x5b8255;let _0x3b0801;allOpenOrders[_0x2240fb(0x218)](_0x198c77=>{const _0x2f6499=_0x2240fb,_0x530780=config[_0x2f6499(0x25f)][_0x2f6499(0x238)](_0x43075f=>_0x43075f[_0x2f6499(0x2a1)]==_0x198c77['id']);_0x530780&&(lastOrders[_0x2f6499(0x23a)](_0x530780),_0x3b0801=_0x198c77['timestamp']);});if(lastOrders[_0x2240fb(0x2cd)]>0x0){lockOrders=ORDERS[_0x2240fb(0x20c)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x194a0f=new Date()[_0x2240fb(0x28e)](),_0x23ebc0=config[_0x2240fb(0x2b4)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x3b0801+_0x23ebc0>_0x194a0f){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x28cdec=_0x2240fb;validateOrders(_0x28cdec(0x1ba));},_0x3b0801+_0x23ebc0-_0x194a0f);}else validateOrders(_0x2240fb(0x1ba));}}async function sendPortfolioTelegram(){const _0x4e5279=_0x5b8255;if(loading[_0x4e5279(0x1e1)]!=0x64){process[_0x4e5279(0x289)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x43f9a8=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x3051c2=[_0x4e5279(0x21c),_0x4e5279(0x2cb),_0x4e5279(0x1b0)],_0x9da380=_0x3051c2[_0x4e5279(0x256)](config[_0x4e5279(0x20d)])?0x2:0x8;let _0x18be60='';if(config[_0x4e5279(0x2e3)])_0x18be60='<b>'+config[_0x4e5279(0x2aa)]+_0x4e5279(0x2b8);else _0x18be60=_0x4e5279(0x19d)+botID+_0x4e5279(0x2b8);const _0x2e5c5f=getKPIs(_0x4e5279(0x20d)),_0x114249=getKPIs('net-basecoin');_0x18be60+=_0x4e5279(0x242),_0x18be60+=_0x2e5c5f['leftTxt']+_0x4e5279(0x1c4)+_0x2e5c5f['value']+'\x20\x0a',_0x18be60+=_0x2e5c5f[_0x4e5279(0x1cb)]+':\x20'+_0x2e5c5f['change']+'%\x20\x0a',_0x18be60+=_0x114249['leftTxt']+':\x20'+_0x114249[_0x4e5279(0x269)]+'\x20'+config['basecoin']+'\x0a',_0x18be60+=_0x114249[_0x4e5279(0x1cb)]+':\x20'+_0x114249[_0x4e5279(0x1f5)]+_0x4e5279(0x2d7),_0x18be60+='\x0a',_0x18be60+=_0x4e5279(0x2bc),_0x18be60+=_0x4e5279(0x19c),_0x18be60+=_0x4e5279(0x2bc),currentCoins[_0x4e5279(0x218)](_0x143382=>{const _0x54ed45=_0x4e5279;_0x18be60+=_0x143382[_0x54ed45(0x243)][_0x54ed45(0x2ef)](0x7)+'|\x20'+formatPad(_0x143382[_0x54ed45(0x247)],0x2,0x6)+'|\x20'+formatPad(_0x143382[_0x54ed45(0x2dd)],0x2,0x6)+'|\x20'+formatPad(_0x143382['delta']*0x64,0x2,0x6)+'\x0a';}),_0x18be60+=_0x4e5279(0x2d0),process['send']({'telegrammsg':_0x18be60},_0x1a2706=>{});}function formatPad(_0x51ca60,_0x4b3cdf,_0x33de2c){const _0x3968dc=_0x5b8255,_0x1873b0=formatResultString(_0x51ca60,_0x4b3cdf);return _0x1873b0?_0x1873b0[_0x3968dc(0x1f4)](_0x33de2c):''[_0x3968dc(0x1f4)](_0x33de2c);}function logHistory(_0x5ce997,_0x5bf0fb,_0x5c9d86=''){const _0x451fc4=_0x5b8255;let _0x17d592={'time':getTimeStamp(),'type':_0x5ce997,'event':_0x5bf0fb};dbLogs[_0x451fc4(0x2e2)]('logs')[_0x451fc4(0x23a)](_0x17d592)[_0x451fc4(0x240)]();if(_0x5c9d86=='')_0x5c9d86=_0x5bf0fb;proxyEmit(_0x451fc4(0x21f),{'log':_0x17d592,'summary':_0x5c9d86}),process[_0x451fc4(0x289)]({'telegram':{..._0x17d592,'botname':config[_0x451fc4(0x2aa)],'showname':config[_0x451fc4(0x2e3)]}},_0x4c1228=>{}),logger[_0x451fc4(0x260)](''+_0x17d592[_0x451fc4(0x21f)]);}function emitHistory(_0x4d43a2={}){const _0x42da39=_0x5b8255;Object[_0x42da39(0x2cf)](_0x4d43a2)[_0x42da39(0x2cd)]==0x0&&(_0x4d43a2={'type':[_0x42da39(0x27c),'event'],'event':'','page':0x1});if(_0x4d43a2[_0x42da39(0x22a)][_0x42da39(0x256)](_0x42da39(0x21f)))_0x4d43a2[_0x42da39(0x22a)][_0x42da39(0x2af)](_0x4d43a2[_0x42da39(0x22a)][_0x42da39(0x221)](_0x42da39(0x21f)),0x1,_0x42da39(0x1c0),_0x42da39(0x1c1));if(dbLogs[_0x42da39(0x28c)](_0x42da39(0x1fd))['value']()){let _0x576f5c=dbLogs[_0x42da39(0x2e2)]('logs')[_0x42da39(0x21a)](_0x389160=>{const _0x486513=_0x42da39;if(_0x4d43a2['type'][_0x486513(0x2cd)]==0x0)return![];else return _0x4d43a2['type'][_0x486513(0x256)](_0x389160[_0x486513(0x22a)]);})[_0x42da39(0x21a)](_0x23c28f=>{const _0x550c1a=_0x42da39;if(_0x4d43a2[_0x550c1a(0x21f)]=='')return!![];else return _0x23c28f[_0x550c1a(0x21f)]['toLowerCase']()['includes'](_0x4d43a2[_0x550c1a(0x21f)]['toLowerCase']());})['sortBy']('time'),_0x4c435b=_0x576f5c[_0x42da39(0x269)]()[_0x42da39(0x2cd)];_0x576f5c=_0x576f5c[_0x42da39(0x275)]()[_0x42da39(0x2a6)]((_0x4d43a2[_0x42da39(0x277)]-0x1)*logPageSize,_0x4d43a2[_0x42da39(0x277)]*logPageSize-0x1)[_0x42da39(0x275)]()[_0x42da39(0x269)](),proxyEmit(_0x42da39(0x220),{'logs':_0x576f5c,'total':_0x4c435b});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x18ef39){const _0x5c904d=_0x5b8255;if(dbLogs[_0x5c904d(0x28c)](_0x5c904d(0x1fd))[_0x5c904d(0x269)]()){const _0x56c73d=dbLogs[_0x5c904d(0x2e2)](_0x5c904d(0x1fd))[_0x5c904d(0x1c5)](_0x5c904d(0x2e0))[_0x5c904d(0x21a)](_0x205233=>{const _0x4dff97=_0x5c904d;return _0x205233[_0x4dff97(0x22a)]==_0x4dff97(0x27c);})[_0x5c904d(0x269)]();dbLogs[_0x5c904d(0x2e2)]('logs')[_0x5c904d(0x239)]()[_0x5c904d(0x240)](),dbLogs[_0x5c904d(0x2e2)]('logs')[_0x5c904d(0x206)](_0x56c73d)[_0x5c904d(0x240)](),emitHistory(_0x18ef39);}}async function pauseBot(_0x21c251=''){const _0x377a15=_0x5b8255,_0x2a1979=new Date()[_0x377a15(0x28e)]();if(!lastBotPause)lastBotPause=new Date()[_0x377a15(0x28e)](),consecutivePauses=0x1;else{if(_0x2a1979-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x377a15(0x289)]({'stop':_0x377a15(0x1ac)},_0x87ef4b=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x21c251)_0x21c251+=_0x377a15(0x2eb);logHistory(_0x377a15(0x1c0),_0x21c251+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x377a15(0x1cf)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x240f30=_0x5b8255;process['send']({'stop':_0x240f30(0x25a)},_0x5cd5ec=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xd1dd49,_0x5899da){const _0x12001f=_0x5b8255;if(_0xd1dd49[_0x12001f(0x1dd)]()['includes'](_0x12001f(0x2d6)))return logHistory('error',_0x12001f(0x2a9)),![];else{if(_0xd1dd49['toString']()['includes']('AuthenticationError'))return logHistory(_0x12001f(0x1c0),_0x12001f(0x1d0)),![];else{if(_0xd1dd49[_0x12001f(0x1dd)]()[_0x12001f(0x256)](_0x12001f(0x24d)))return logHistory(_0x12001f(0x1c0),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0xd1dd49,_0x5899da);}}}async function handleError(_0x3036b3,_0x398e93,_0x37993a=''){const _0x2d5527=_0x5b8255;if(_0x3036b3[_0x2d5527(0x1dd)]()['includes'](_0x2d5527(0x2de)))await pauseBot(_0x2d5527(0x29c));else{if(_0x3036b3['toString']()[_0x2d5527(0x256)](_0x2d5527(0x1b5)))await pauseBot(_0x2d5527(0x294));else{if(_0x3036b3[_0x2d5527(0x1dd)]()[_0x2d5527(0x256)]('RequestTimeout'))await pauseBot(_0x2d5527(0x2e4));else{if(_0x3036b3['toString']()[_0x2d5527(0x256)](_0x2d5527(0x2d6)))logHistory(_0x2d5527(0x1c0),_0x398e93+_0x2d5527(0x196)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3036b3[_0x2d5527(0x1dd)]()[_0x2d5527(0x256)](_0x2d5527(0x1a0)))logHistory(_0x2d5527(0x1c0),_0x398e93+_0x2d5527(0x1bf)),logHistory(_0x2d5527(0x1c0),_0x2d5527(0x2ec)),await killBot();else{if(_0x3036b3['toString']()[_0x2d5527(0x256)](_0x2d5527(0x24d)))logHistory(_0x2d5527(0x1c0),_0x398e93+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory(_0x2d5527(0x1c0),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3036b3[_0x2d5527(0x1dd)]()[_0x2d5527(0x256)](_0x2d5527(0x1d1)))logHistory('error',_0x398e93+_0x2d5527(0x261)),logHistory(_0x2d5527(0x1c0),_0x2d5527(0x2ec)),await killBot();else{if(_0x3036b3[_0x2d5527(0x1dd)]()[_0x2d5527(0x256)](_0x2d5527(0x1b1)))await pauseBot(_0x2d5527(0x26e)),process[_0x2d5527(0x289)]({'stop':_0x2d5527(0x1ac)},_0x127675=>{});else _0x3036b3[_0x2d5527(0x1dd)]()[_0x2d5527(0x256)](_0x2d5527(0x1e0))?logHistory(_0x2d5527(0x1c0),_0x398e93+_0x2d5527(0x225)+_0x37993a):(logger[_0x2d5527(0x260)](_0x398e93+_0x2d5527(0x273),_0x3036b3),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x5919de,_0x8f85f){const _0x47b7fe=_0x5b8255;return parseFloat(_0x5919de[_0x47b7fe(0x27b)](_0x8f85f));}function formatResultTruncate(_0x58dc9a,_0x1be500){const _0x56e3f5=_0x5b8255;let _0x3e3c6c=formatResultString(_0x58dc9a,0xa),_0x432178=_0x3e3c6c['indexOf']('.');return _0x432178!=-0x1&&(_0x3e3c6c=_0x3e3c6c[_0x56e3f5(0x2a6)](0x0,_0x432178+_0x1be500+0x1)),Number(_0x3e3c6c);}function formatResultString(_0x347255,_0x4de1c8){const _0x482c51=_0x5b8255;let _0x310665;if(!(''+_0x347255)[_0x482c51(0x256)]('e'))_0x310665=+(Math[_0x482c51(0x1ad)](_0x347255+'e+'+_0x4de1c8)+'e-'+_0x4de1c8);else{let _0xf1648f=(''+_0x347255)['split']('e'),_0x277150='';+_0xf1648f[0x1]+_0x4de1c8>0x0&&(_0x277150='+'),_0x310665=+(Math[_0x482c51(0x1ad)](+_0xf1648f[0x0]+'e'+_0x277150+(+_0xf1648f[0x1]+_0x4de1c8))+'e-'+_0x4de1c8);}return Number(_0x310665)[_0x482c51(0x27b)](_0x4de1c8);}function getServerTime(){const _0x108eda=_0x5b8255,_0x32ee59=new Date();return _0x32ee59[_0x108eda(0x20b)]()+'/'+(_0x32ee59['getMonth']()+0x1)[_0x108eda(0x1dd)]()[_0x108eda(0x1f4)](0x2,'0')+'/'+_0x32ee59[_0x108eda(0x1cc)]()[_0x108eda(0x1dd)]()[_0x108eda(0x1f4)](0x2,'0')+'\x20'+_0x32ee59[_0x108eda(0x226)]()[_0x108eda(0x1dd)]()[_0x108eda(0x1f4)](0x2,'0')+':'+_0x32ee59[_0x108eda(0x259)]()[_0x108eda(0x1dd)]()[_0x108eda(0x1f4)](0x2,'0')+':'+_0x32ee59[_0x108eda(0x1d8)]()[_0x108eda(0x1dd)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x21f45=_0x5b8255,_0x49e800=shiftedTime();return _0x49e800[_0x21f45(0x20b)]()+'/'+(_0x49e800[_0x21f45(0x27a)]()+0x1)[_0x21f45(0x1dd)]()['padStart'](0x2,'0')+'/'+_0x49e800[_0x21f45(0x1cc)]()[_0x21f45(0x1dd)]()[_0x21f45(0x1f4)](0x2,'0')+'\x20'+_0x49e800[_0x21f45(0x226)]()[_0x21f45(0x1dd)]()[_0x21f45(0x1f4)](0x2,'0')+':'+_0x49e800[_0x21f45(0x259)]()[_0x21f45(0x1dd)]()[_0x21f45(0x1f4)](0x2,'0')+':'+_0x49e800[_0x21f45(0x1d8)]()[_0x21f45(0x1dd)]()[_0x21f45(0x1f4)](0x2,'0');}function getDate(){const _0x4365b6=_0x5b8255,_0x137038=shiftedTime();return _0x137038[_0x4365b6(0x20b)]()+'/'+(_0x137038['getMonth']()+0x1)[_0x4365b6(0x1dd)]()[_0x4365b6(0x1f4)](0x2,'0')+'/'+_0x137038[_0x4365b6(0x1cc)]()[_0x4365b6(0x1dd)]()['padStart'](0x2,'0');}function getHour(){const _0x2f5fa2=_0x5b8255,_0x45283e=shiftedTime();return _0x45283e[_0x2f5fa2(0x226)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x180645){return new Promise(_0x253321=>setTimeout(_0x253321,_0x180645));}function shiftedTime(){const _0x3cec04=_0x5b8255,_0x33bc2b=new Date();let _0x1e9272=_0x33bc2b;if(config&&config['timeshift']!==0x0)_0x1e9272=fns[_0x3cec04(0x2e9)](_0x33bc2b,{'hours':config[_0x3cec04(0x211)]});return _0x1e9272;}