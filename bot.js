const _0x357b7f=_0x55c3;(function(_0x403c53,_0x1747c6){const _0x4c80c0=_0x55c3,_0x53e4e8=_0x403c53();while(!![]){try{const _0x41130d=parseInt(_0x4c80c0(0x238))/0x1*(parseInt(_0x4c80c0(0x1ae))/0x2)+parseInt(_0x4c80c0(0x226))/0x3*(parseInt(_0x4c80c0(0x18e))/0x4)+-parseInt(_0x4c80c0(0x1ab))/0x5*(parseInt(_0x4c80c0(0x1aa))/0x6)+-parseInt(_0x4c80c0(0x120))/0x7*(-parseInt(_0x4c80c0(0x201))/0x8)+parseInt(_0x4c80c0(0x143))/0x9*(-parseInt(_0x4c80c0(0x202))/0xa)+-parseInt(_0x4c80c0(0x1b1))/0xb*(parseInt(_0x4c80c0(0x161))/0xc)+parseInt(_0x4c80c0(0x18a))/0xd*(parseInt(_0x4c80c0(0x1f7))/0xe);if(_0x41130d===_0x1747c6)break;else _0x53e4e8['push'](_0x53e4e8['shift']());}catch(_0x524db0){_0x53e4e8['push'](_0x53e4e8['shift']());}}}(_0x14e9,0xd4d39));const _0x390767=function(){let _0x382d40=!![];return function(_0x2f05a6,_0x274ea5){const _0x361323=_0x382d40?function(){const _0x5e3793=_0x55c3;if(_0x274ea5){const _0x7d9670=_0x274ea5[_0x5e3793(0x255)](_0x2f05a6,arguments);return _0x274ea5=null,_0x7d9670;}}:function(){};return _0x382d40=![],_0x361323;};}(),_0x2e29d7=_0x390767(this,function(){const _0x8bd029=_0x55c3;return _0x2e29d7[_0x8bd029(0xce)]()[_0x8bd029(0x1a7)](_0x8bd029(0x215))['toString']()[_0x8bd029(0x1fd)](_0x2e29d7)['search']('(((.+)+)+)+$');});_0x2e29d7();'use strict';const ccxt=require(_0x357b7f(0x1f5)),low=require('lowdb'),FileSync=require(_0x357b7f(0x1fc)),fs=require('fs'),fns=require(_0x357b7f(0x1c3)),Crypt=require(_0x357b7f(0x231))['Crypt'],util=require(_0x357b7f(0x1ea)),argv=require(_0x357b7f(0x24b))(process[_0x357b7f(0xc6)][_0x357b7f(0x162)](0x2))[_0x357b7f(0xc6)],path=require(_0x357b7f(0xc1));let exchange;global[_0x357b7f(0x216)]={},global[_0x357b7f(0x239)]={};const usdBasecoins=[_0x357b7f(0x150),_0x357b7f(0x203),_0x357b7f(0xde),_0x357b7f(0x142),_0x357b7f(0x16c),_0x357b7f(0x222)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x357b7f(0x23a)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x357b7f(0x170)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x357b7f(0xec)+pauseBotInterval/0xea60+_0x357b7f(0x1e3),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x357b7f(0x186))['version'],botID=process[_0x357b7f(0xc6)][0x2]||_0x357b7f(0xe2),pattern=/^[0-9]{3}$/;!pattern[_0x357b7f(0x15c)](botID)&&(console[_0x357b7f(0xc9)](_0x357b7f(0xe4)+botID+_0x357b7f(0x1d0)),killBot());const userID=process[_0x357b7f(0xc6)][0x3]||'',configpath=userID?_0x357b7f(0x1db)+userID+'/':_0x357b7f(0x1db),logspath=userID?_0x357b7f(0xdb)+userID+'/':_0x357b7f(0xdb),loggerfile=fs['createWriteStream'](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs['mkdirSync'](configpath);!fs[_0x357b7f(0x23d)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x357b7f(0x1c8)+botID+_0x357b7f(0x163),logfile=configpath+_0x357b7f(0x1c8)+botID+'-events.json',performancefile=configpath+_0x357b7f(0x1c8)+botID+_0x357b7f(0x23f),coinresultsfile=configpath+_0x357b7f(0x1c8)+botID+_0x357b7f(0x12e),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x357b7f(0xd5),configbackuppath=configpath+_0x357b7f(0x1ef),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x357b7f(0x124)]({'logs':[],'version':serverversion})[_0x357b7f(0x208)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x357b7f(0x124)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x357b7f(0x124)]({'bot':[],'version':serverversion})[_0x357b7f(0x208)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x357b7f(0x124)]({'coins':[],'version':serverversion})[_0x357b7f(0x208)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x357b7f(0x1e0),'rsaStandard':_0x357b7f(0x131)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x909f7d=>{const _0x1a552f=_0x357b7f;console[_0x1a552f(0xc9)](_0x909f7d);},'simple':_0x3096e7=>{const _0x4962a2=_0x357b7f;console['log'](_0x3096e7),loggerfile['write'](util[_0x4962a2(0x16e)](_0x3096e7)+'\x0a');},'full':async(_0xcfea0f,_0x1984f7='')=>{const _0x5acfed=_0x357b7f;let _0x46acb2;if(config['showname'])_0x46acb2=getTimeStamp()+':\x20'+config[_0x5acfed(0x1cc)]+_0x5acfed(0x1d3)+_0xcfea0f;else _0x46acb2=getTimeStamp()+':\x20Bot\x20'+botID+_0x5acfed(0x1d3)+_0xcfea0f;console['log'](_0x46acb2),loggerfile[_0x5acfed(0x208)](util[_0x5acfed(0x16e)](_0x46acb2)+'\x0a'),_0x1984f7&&(console[_0x5acfed(0xc9)](_0x1984f7),loggerfile[_0x5acfed(0x208)](util[_0x5acfed(0x16e)](_0x1984f7)+'\x0a'));},'debug':async(_0x1bf413,_0x5c4427='')=>{const _0x20d8dd=_0x357b7f;let _0x3a89d3;if(config[_0x20d8dd(0x11e)])_0x3a89d3=getTimeStamp()+':\x20'+config['botname']+_0x20d8dd(0x1f1)+_0x1bf413;else _0x3a89d3=getTimeStamp()+':\x20Bot\x20'+botID+_0x20d8dd(0x1f1)+_0x1bf413;if(debugging)console[_0x20d8dd(0xc9)](_0x3a89d3);loggerfile[_0x20d8dd(0x208)](util[_0x20d8dd(0x16e)](_0x3a89d3)+'\x0a');if(_0x5c4427){if(debugging)console[_0x20d8dd(0xc9)](_0x5c4427);loggerfile[_0x20d8dd(0x208)](util[_0x20d8dd(0x16e)](_0x5c4427)+'\x0a');}}};process['on'](_0x357b7f(0x15d),function(_0x218a96){const _0x522855=_0x357b7f;logHistory(_0x522855(0x12c),_0x522855(0x17f)),logger[_0x522855(0x137)](_0x522855(0x119),_0x218a96);});settings[_0x357b7f(0x1ba)]!=config[_0x357b7f(0x1ba)]&&updateTimeshift(settings[_0x357b7f(0x1ba)]);settings['onepagemode']!=config[_0x357b7f(0x22e)]&&updateOnepagemode(settings[_0x357b7f(0x22e)]);process[_0x357b7f(0xc2)]({'started':'running'},_0x2b87c7=>{}),initializeProcessListeners();function proxyEmit(_0x1c3800,_0x27ed45=null){const _0x798fd1=_0x357b7f;process[_0x798fd1(0xc2)]({'function':_0x1c3800,'args':_0x27ed45},_0x3844ac=>{});}function initializeProcessListeners(){const _0x2a9fa4=_0x357b7f;process['on'](_0x2a9fa4(0x13f),_0x4d42b4=>{const _0x4070b3=_0x2a9fa4;switch(Object[_0x4070b3(0x21a)](_0x4d42b4)[0x0]){case _0x4070b3(0x1ba):_0x4d42b4[_0x4070b3(0x1ba)]!=undefined&&(settings[_0x4070b3(0x1ba)]=_0x4d42b4['timeshift'],updateTimeshift(settings['timeshift']));break;case _0x4070b3(0x22e):_0x4d42b4[_0x4070b3(0x22e)]!=undefined&&(settings[_0x4070b3(0x22e)]=_0x4d42b4[_0x4070b3(0x22e)],updateOnepagemode(settings[_0x4070b3(0x22e)]));break;case _0x4070b3(0x157):_0x4d42b4[_0x4070b3(0x157)]!=undefined&&(bots=JSON[_0x4070b3(0x19d)](_0x4d42b4['bots']),proxyEmit(_0x4070b3(0x157),bots));break;case _0x4070b3(0x1f4):switch(_0x4d42b4[_0x4070b3(0x1f4)]){case _0x4070b3(0x246):initclient();break;case _0x4070b3(0x17b):toggleBotMode();break;case _0x4070b3(0x244):emitHistory(_0x4d42b4['args']);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x4d42b4['args']);break;case _0x4070b3(0x152):getPortfolio(_0x4d42b4[_0x4070b3(0x1e4)]);break;case _0x4070b3(0x194):storeConfiguration(_0x4d42b4['args']);break;case _0x4070b3(0xf4):storeHeadless(_0x4d42b4[_0x4070b3(0x1e4)]);break;case _0x4070b3(0xd8):storeFiat(_0x4d42b4[_0x4070b3(0x1e4)]);break;case _0x4070b3(0x12a):resetHistory();break;case _0x4070b3(0x230):getStartingBalances(getNormalizedPerformance());break;case _0x4070b3(0x1a0):placeOrder(_0x4d42b4[_0x4070b3(0x1e4)]);break;case _0x4070b3(0x220):cancelLoading();break;case _0x4070b3(0xf0):showConfig();break;case _0x4070b3(0x1c5):sendMetricsTelegram();break;case _0x4070b3(0x1ed):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x19752e=null,_0x3d005e=![]){const _0x40863e=_0x357b7f;logger[_0x40863e(0x137)](_0x40863e(0xe8)+(_0x19752e&&_0x19752e['length']>0x0?'additional\x20symbols\x20'+_0x19752e[_0x40863e(0x197)](','):_0x40863e(0x189))+_0x40863e(0x145)+(_0x3d005e?'exchange\x20reloaded':_0x40863e(0x1a1))+'\x20|\x20exchange:\x20'+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x3d005e)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x40863e(0x1eb)]!=''&&config[_0x40863e(0x1eb)]!='***'){loadingProgress=0x0;if(_0x3d005e){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x36a965){handleErrorNoStop(_0x36a965,_0x40863e(0x233));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x19752e);const _0x3f2cc4=await getCoins();[currentCoins,currentCoinsAll]=_0x3f2cc4,loadingProgress=maxLoadingProgress,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x40863e(0xf7)](_0x40863e(0x14d)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x40863e(0x251)]==0x0&&allOpenOrders[_0x40863e(0x251)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x49d25e=_0x357b7f;exchangeStopped=!![];try{await exchange['close']();}catch(_0x2f62ba){await handleError(_0x2f62ba,_0x49d25e(0x21b));}}async function reloadExchange(){const _0x2a6012=_0x357b7f;logger[_0x2a6012(0x137)](_0x2a6012(0x1f6));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x2a6012(0x137)](_0x2a6012(0x113)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x408c89=config[_0x357b7f(0x1e2)],_0x17e47b=config[_0x357b7f(0x1eb)],_0x52402c=config[_0x357b7f(0x1a5)],_0xf12295=config[_0x357b7f(0x20c)]){const _0x5d3962=_0x357b7f;exchange&&await stopExchange();!supportedExchanges()[_0x5d3962(0x21c)](_0x408c89)&&(logHistory(_0x5d3962(0x12c),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x408c89+'\x20exchange'),killBot());const _0x3997ac=ccxt[_0x5d3962(0x16f)][_0x408c89['toLowerCase']()];exchange=new _0x3997ac({'apiKey':_0x17e47b,'secret':_0x52402c,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5d3962(0x1b3)}});if(_0xf12295)exchange[_0x5d3962(0xfa)]=_0xf12295;}function setStableCoins(){const _0x3045bc=_0x357b7f;let _0x435db6=config[_0x3045bc(0xd3)]==_0x3045bc(0x20f)?'ETH':_0x3045bc(0x210),_0x2e418f=!allSymbols[_0x3045bc(0x21c)](_0x435db6+_0x3045bc(0x24f))?'USDT':_0x3045bc(0x150),_0x54feb5=!allSymbols[_0x3045bc(0x21c)](_0x435db6+'/EUR')?_0x2e418f:'EUR';stablecoins={'eur':{'coin':''+_0x435db6+_0x54feb5,'symbol':_0x435db6+'/'+_0x54feb5},'usd':{'coin':''+_0x435db6+_0x2e418f,'symbol':_0x435db6+'/'+_0x2e418f}};}async function initwsCcxt(_0x4809c4){const _0xc8da51=_0x357b7f;_0x4809c4==null&&(_0x4809c4=[],config[_0xc8da51(0x1ad)]['forEach'](_0x56fc13=>{const _0x5cc894=_0xc8da51;if(!_0x56fc13['excluded']&&_0x56fc13[_0x5cc894(0x154)]!=config[_0x5cc894(0xd3)])_0x4809c4[_0x5cc894(0x24d)](_0x56fc13[_0x5cc894(0x17e)]);}));if(!_0x4809c4[_0xc8da51(0x21c)](stablecoins[_0xc8da51(0xf2)][_0xc8da51(0x17e)]))_0x4809c4[_0xc8da51(0x24d)](stablecoins[_0xc8da51(0xf2)][_0xc8da51(0x17e)]);if(!_0x4809c4[_0xc8da51(0x21c)](stablecoins['usd'][_0xc8da51(0x17e)]))_0x4809c4['push'](stablecoins[_0xc8da51(0xdd)][_0xc8da51(0x17e)]);if(config[_0xc8da51(0x1e2)][_0xc8da51(0x132)](_0xc8da51(0x101))){if(!_0x4809c4[_0xc8da51(0x21c)](_0xc8da51(0x116)+config[_0xc8da51(0xd3)]))_0x4809c4[_0xc8da51(0x24d)]('BNB/'+config[_0xc8da51(0xd3)]);}loadCoins(_0x4809c4),_0x4809c4=validateSymbols(_0x4809c4);const _0x1dc7cf=async _0x52e488=>{const _0x52738c=_0xc8da51;let _0x3d1774;try{const _0x4de2f7=await exchange[_0x52738c(0xf6)](_0x52e488);Object[_0x52738c(0x1b7)](_0x4de2f7)[_0x52738c(0x175)](_0x5418c6=>{const _0x11b6bc=_0x52738c;_0x3d1774=_0x5418c6[0x1]['symbol'],global[_0x11b6bc(0x216)][noslash(_0x3d1774)]=_0x5418c6[0x1][_0x11b6bc(0xc5)];});}catch(_0x428a3a){await handleError(_0x428a3a,_0x52738c(0x17a),_0x3d1774);}},_0x26911b=async _0x3b75af=>{const _0x1d6b75=_0xc8da51;while(!![]){if(!botPaused)try{const _0x570841=await exchange[_0x1d6b75(0x1ce)](_0x3b75af);global[_0x1d6b75(0x216)][noslash(_0x570841[0x0][_0x1d6b75(0x17e)])]=_0x570841[0x0][_0x1d6b75(0x13e)],await sleep(0x3e8);}catch(_0xf4e2b7){if(!exchangeStopped)await handleError(_0xf4e2b7,_0x1d6b75(0x19b),_0x3b75af);}else await sleep(0x64);}},_0x17c07d=async _0x303f4d=>{const _0x1e8973=_0xc8da51;while(!![]){if(!botPaused)try{const _0x5927b0=await exchange[_0x1e8973(0x167)](_0x303f4d);global['change'][_0x5927b0[_0x1e8973(0x17e)]]=_0x5927b0[_0x1e8973(0x20d)],await sleep(0x3c*0x3e8);}catch(_0xf51e87){if(!exchangeStopped)await handleError(_0xf51e87,'fetchTickers()',_0x303f4d);}else await sleep(0x64);}},_0x1a869a=async _0x3ae691=>{const _0xfd7dc0=_0xc8da51;while(!![]){if(!botPaused)try{const _0x3b1f52=await exchange[_0xfd7dc0(0xee)](_0x3ae691);_0x3b1f52[_0xfd7dc0(0x175)](_0x4fbb3c=>{updateNumberCoinsCcxt(_0x4fbb3c);});}catch(_0x27afb5){if(!exchangeStopped)await handleError(_0x27afb5,_0xfd7dc0(0x1d8));}else await sleep(0x64);}};_0x1dc7cf(_0x4809c4),_0x4809c4['forEach'](_0xd3f9b2=>{_0x26911b(_0xd3f9b2),_0x17c07d(_0xd3f9b2),_0x1a869a(_0xd3f9b2);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function watchTransactions(){const _0x3d38e4=_0x357b7f;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x315872=await getCoins(),[_0x5623c0,_0x37fc62]=_0x315872;let _0x47fcc7=[];currentCoins[_0x3d38e4(0x175)](_0xadc3d3=>{const _0x44633c=_0x3d38e4,_0x2a0676=_0x5623c0['find'](_0x34e17c=>_0x34e17c[_0x44633c(0x154)]==_0xadc3d3['coin']);if(_0x2a0676){if(_0xadc3d3[_0x44633c(0x14a)]!=_0x2a0676[_0x44633c(0x14a)]){let _0x47b678;if(_0xadc3d3[_0x44633c(0x154)]!=config[_0x44633c(0xd3)]){const _0x55400a=global['ticker'][noslash(_0xadc3d3[_0x44633c(0x17e)])];_0x47b678=_0xadc3d3[_0x44633c(0x179)]?0x1/_0x55400a:_0x55400a;}else _0x47b678=0x1;_0x47fcc7['push']({'coin':_0xadc3d3['coin'],'symbol':_0xadc3d3['symbol'],'price':_0x47b678,'number':Number(formatResult(_0x2a0676[_0x44633c(0x14a)]-_0xadc3d3[_0x44633c(0x14a)],0x8)),'basecoinvalue':_0x47b678*(_0x2a0676['number']-_0xadc3d3['number'])});}}});if(_0x47fcc7[_0x3d38e4(0x251)]==0x1&&!blockTransactionDetection){if(config['autoliquidity']){logger[_0x3d38e4(0x137)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x47fcc7[0x0][_0x3d38e4(0x129)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x3d38e4(0x1af)]);if(lastFees[_0x3d38e4(0x1af)]==0x0||Math[_0x3d38e4(0x254)](_0x47fcc7[0x0][_0x3d38e4(0x129)])>lastFees[_0x3d38e4(0x1af)]){delete _0x47fcc7[0x0]['symbol'],delete _0x47fcc7[0x0][_0x3d38e4(0x129)];let _0x145369=[],_0x5a580b=[...config[_0x3d38e4(0x1e6)]]||[],_0x31c4fe=config[_0x3d38e4(0x1e6)];_0x5a580b['sort']((_0x29f5bd,_0x3f77a7)=>_0x29f5bd['date']>_0x3f77a7[_0x3d38e4(0x20b)]?-0x1:_0x3f77a7[_0x3d38e4(0x20b)]>_0x29f5bd['date']?0x1:0x0);const _0x59d9b9=getDate();if(_0x5a580b[0x0]){const _0x3c4828=fns['parse'](_0x5a580b[0x0][_0x3d38e4(0x20b)],'yyyy/MM/dd',new Date()),_0x236ab9=fns['parse'](_0x59d9b9,_0x3d38e4(0xf3),new Date());if(fns[_0x3d38e4(0x109)](_0x3c4828,_0x236ab9)){_0x145369=_0x5a580b[0x0][_0x3d38e4(0xed)];const _0x3e78e3=_0x145369[_0x3d38e4(0x207)](_0x342700=>_0x342700[_0x3d38e4(0x154)]==_0x47fcc7[0x0]['coin']);_0x3e78e3?(_0x3e78e3[_0x3d38e4(0x14a)]+=_0x47fcc7[0x0][_0x3d38e4(0x14a)],_0x3e78e3[_0x3d38e4(0x14a)]==0x0&&(_0x145369=_0x145369[_0x3d38e4(0xd4)](_0x2c0125=>{const _0xd838f5=_0x3d38e4;return _0x2c0125['coin']!=_0x47fcc7[0x0][_0xd838f5(0x154)];}))):_0x145369[_0x3d38e4(0x24d)](_0x47fcc7[0x0]);const _0x202909=_0x31c4fe[_0x3d38e4(0x207)](_0x30de5d=>_0x30de5d[_0x3d38e4(0x20b)]==_0x59d9b9);_0x202909[_0x3d38e4(0xed)]=_0x145369;}else _0x31c4fe[_0x3d38e4(0x24d)]({'date':_0x59d9b9,'changes':[_0x47fcc7[0x0]]});}const _0x2fa5ac=_0x31c4fe[_0x3d38e4(0x207)](_0x1dd8f9=>_0x1dd8f9[_0x3d38e4(0x20b)]==_0x59d9b9);if(_0x2fa5ac){let _0x85c516=!![];_0x2fa5ac[_0x3d38e4(0xed)][_0x3d38e4(0x175)](_0x4b3da6=>{const _0x2e4d1b=_0x3d38e4;if(_0x4b3da6[_0x2e4d1b(0x14a)]!=0x0)_0x85c516=![];}),_0x85c516&&(_0x31c4fe=_0x31c4fe[_0x3d38e4(0xd4)](_0x57e19b=>{const _0x94f69e=_0x3d38e4;return _0x57e19b[_0x94f69e(0x20b)]!=_0x59d9b9;}));}let _0x130a54=dbConfig[_0x3d38e4(0x13b)](_0x3d38e4(0x1e9))['find']({'botID':botID})['value']();_0x130a54&&(dbConfig[_0x3d38e4(0x13b)](_0x3d38e4(0x1e9))['find']({'botID':botID})[_0x3d38e4(0x21e)]({'liquidity':_0x31c4fe})[_0x3d38e4(0x208)](),config[_0x3d38e4(0x1e6)]=_0x31c4fe),logHistory(_0x3d38e4(0x23b),'Portfolio\x20change\x20detected:\x20'+Math[_0x3d38e4(0x254)](_0x47fcc7[0x0][_0x3d38e4(0x14a)])+'\x20'+_0x47fcc7[0x0][_0x3d38e4(0x154)]+'\x20'+(_0x47fcc7[0x0]['number']>0x0?'added':'removed')+_0x3d38e4(0xf8)),proxyEmit('configuration',emittedConfiguration());}else logger[_0x3d38e4(0x137)](_0x3d38e4(0x18f)+Math['abs'](_0x47fcc7[0x0]['number'])+'\x20'+_0x47fcc7[0x0][_0x3d38e4(0x154)]+'\x20'+(_0x47fcc7[0x0][_0x3d38e4(0x14a)]>0x0?_0x3d38e4(0x159):_0x3d38e4(0x10d)));transactionDetected=!![],currentCoins=_0x5623c0,currentCoinsAll=_0x37fc62;}else logger[_0x3d38e4(0x137)](_0x3d38e4(0x10c)+Math[_0x3d38e4(0x254)](_0x47fcc7[0x0][_0x3d38e4(0x14a)])+'\x20'+_0x47fcc7[0x0]['coin']+'\x20'+(_0x47fcc7[0x0][_0x3d38e4(0x14a)]>0x0?_0x3d38e4(0x159):_0x3d38e4(0x10d))+_0x3d38e4(0x221)),currentCoins=_0x5623c0,currentCoinsAll=_0x37fc62;}await sleep(watchTransactionsInterval);}catch(_0x1f47c7){if(!exchangeStopped)await handleError(_0x1f47c7,_0x3d38e4(0x191));}else await sleep(0x64);}}async function loadSymbols(){const _0x1d3d79=_0x357b7f;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object[_0x1d3d79(0x1b7)](markets)['forEach'](_0x63453=>{const _0x1485de=_0x1d3d79;_0x63453[0x1][_0x1485de(0x17c)]&&_0x63453[0x1][_0x1485de(0x1b3)]&&allSymbols[_0x1485de(0x24d)](_0x63453[0x0]);});}catch(_0xfebb7a){throw _0xfebb7a;}}function validateSymbols(_0x387587){const _0xe0fffa=_0x357b7f;let _0x5e2f0c=[];return _0x387587[_0xe0fffa(0x175)](_0x5bfa72=>{const _0x5d3c2e=_0xe0fffa;!allSymbols[_0x5d3c2e(0x21c)](_0x5bfa72)?logHistory(_0x5d3c2e(0x12c),'Invalid\x20symbol:\x20'+_0x5bfa72+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x5e2f0c[_0x5d3c2e(0x24d)](_0x5bfa72);}),_0x5e2f0c;}async function initclient(){const _0x4b1820=_0x357b7f;proxyEmit(_0x4b1820(0x169),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x226e67=getNormalizedPerformance();emitPerformance(_0x226e67),getStartingBalances(_0x226e67);}async function toggleBotMode(){const _0x44302a=_0x357b7f;let _0xfd5d15=dbConfig[_0x44302a(0x13b)](_0x44302a(0x1e9))[_0x44302a(0x207)]({'botID':botID})[_0x44302a(0x24e)]();if(_0xfd5d15){const _0x4314e9=!_0xfd5d15[_0x44302a(0x115)];dbConfig[_0x44302a(0x13b)]('bot')[_0x44302a(0x207)]({'botID':botID})[_0x44302a(0x21e)]({'headless':_0x4314e9})[_0x44302a(0x208)](),config[_0x44302a(0x115)]=_0x4314e9,proxyEmit(_0x44302a(0x169),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1412f6=_0x357b7f;process[_0x1412f6(0xc2)]({'updatebotmanager':!![]},_0x49bf67=>{});}async function loadCoins(_0x4d809b){const _0x267a56=_0x357b7f;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x3b3285,_0x2c32c7=0x0,_0x444146=0x0;_0x4d809b['forEach'](_0x4d6932=>{const _0x20ecc4=_0x55c3;loading[_0x20ecc4(0x14b)][_0x20ecc4(0x24d)](_0x4d6932);}),loadingCanceled=![];let _0x3e77b7=![];while(_0x3b3285!=_0x4d809b[_0x267a56(0x251)]+maxLoadingProgress){_0x3b3285=loadingProgress,_0x4d809b[_0x267a56(0x175)](_0x1042fc=>{const _0x38d3e7=_0x267a56;if(global[_0x38d3e7(0x216)][noslash(_0x1042fc)]){loading['remainingSymbols']=loading[_0x38d3e7(0x14b)][_0x38d3e7(0xd4)](_0xaaeb60=>_0xaaeb60!=_0x1042fc);if(!watchedSymbols['includes'](_0x1042fc))watchedSymbols[_0x38d3e7(0x24d)](_0x1042fc);_0x3b3285++;}}),loading[_0x267a56(0x1b9)]=Math['round'](_0x3b3285/(_0x4d809b['length']+maxLoadingProgress)*0x64);loading[_0x267a56(0x1b9)]!=0x64&&(_0x444146>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x444146>0x78*0x5&&!_0x3e77b7&&(loading[_0x267a56(0x144)]=!![],emitLoadingProgress(),_0x3e77b7=!![],logHistory(_0x267a56(0x12c),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x267a56(0x14b)][_0x267a56(0x197)](',\x20')+_0x267a56(0x252)),logHistory(_0x267a56(0x12c),_0x267a56(0x146)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x20e499=_0x267a56;process[_0x20e499(0xc2)]({'stop':'restart'},_0x46f2e9=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x267a56(0x144)]=!![],emitLoadingProgress();break;}else _0x2c32c7!=loading['progress']&&(_0x2c32c7=loading[_0x267a56(0x1b9)],emitLoadingProgress()),_0x444146++,await sleep(0xc8);}_0x3b3285==_0x4d809b[_0x267a56(0x251)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x267a56(0xc2)]({'status':_0x267a56(0xfc),'live':_0x267a56(0x183)},_0x5199ac=>{}),_0x3e77b7&&logHistory(_0x267a56(0x23b),_0x267a56(0x14f)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4b45ee=_0x357b7f;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x4b45ee(0x23e)});}function emitLoadingProgress(){const _0x1d4f11=_0x357b7f;proxyEmit(_0x1d4f11(0x1b6),loading);}async function getFiat(){const _0x1e4b84=_0x357b7f;let _0x351afc=global[_0x1e4b84(0x216)][stablecoins[_0x1e4b84(0xf2)][_0x1e4b84(0x154)]],_0x1ba791=global[_0x1e4b84(0x216)][stablecoins[_0x1e4b84(0xdd)][_0x1e4b84(0x154)]];return{'eur':Number(_0x351afc),'usd':Number(_0x1ba791)};}function capitalize(_0x5dd8c0){const _0x6a0d50=_0x357b7f;return _0x5dd8c0[_0x6a0d50(0x225)](0x0,0x1)[_0x6a0d50(0x1cb)]()+_0x5dd8c0['substring'](0x1);}function supportedExchanges(){const _0x104ec7=_0x357b7f,_0x4222d0=['ws',_0x104ec7(0xf6),_0x104ec7(0x167),_0x104ec7(0x1ce),_0x104ec7(0xee),_0x104ec7(0x1b8),_0x104ec7(0x22c),_0x104ec7(0x11a),_0x104ec7(0x256),_0x104ec7(0x123)];let _0x20035c=[],_0x5904cc=[],_0x307847=ccxt['pro'][_0x104ec7(0x104)];_0x307847[_0x104ec7(0x175)](_0x16cadf=>{const _0x19b74e=_0x104ec7;try{const _0x4bd725=new ccxt[(_0x19b74e(0x16f))][_0x16cadf]();_0x5904cc[_0x19b74e(0x24d)](_0x4bd725);}catch(_0x4893a7){}}),_0x5904cc[_0x104ec7(0x175)](_0x5097d7=>{const _0x4707ad=_0x104ec7;let _0x1caa48=0x0;_0x4222d0['forEach'](_0x1a10de=>{const _0x415a72=_0x55c3;_0x1a10de in _0x5097d7[_0x415a72(0x1df)]&&_0x5097d7[_0x415a72(0x1df)][_0x1a10de]&&_0x1caa48++;}),_0x1caa48==_0x4222d0[_0x4707ad(0x251)]&&_0x20035c['push'](capitalize(_0x5097d7['id']));});let _0x42f5f3=[];return _0x307847['forEach'](_0x3583ef=>{const _0x5e7d39=_0x104ec7;_0x3583ef=capitalize(_0x3583ef);if(!_0x20035c['includes'](_0x3583ef))_0x42f5f3[_0x5e7d39(0x24d)](_0x3583ef);}),_0x20035c;}function setStartDatePerformance(){const _0x4543c0=_0x357b7f;if(config&&config['liquidity'][0x0][_0x4543c0(0xed)][_0x4543c0(0x251)]!=0x0){const _0x187dff=config[_0x4543c0(0x1e6)][0x0]['changes'];dbPerformance[_0x4543c0(0x13b)](_0x4543c0(0xdc))['find']({'date':config['startdate']})['assign']({'coins':_0x187dff})[_0x4543c0(0x208)]();}}async function recreateCoinResults(){const _0x50ce96=_0x357b7f;let _0x54aff5,_0x4f6812=[];try{const _0x4680f1=fns['format'](fns[_0x50ce96(0x1c0)](config[_0x50ce96(0x22f)][_0x50ce96(0x232)](/\//g,'-')),_0x50ce96(0x1e1));for(const _0x19f7a1 of currentCoins){if(_0x19f7a1[_0x50ce96(0x154)]!=config['basecoin']){let _0x4aa986=0x0,_0x1095db,_0x7863fa;_0x54aff5=await getAllEventOrders(_0x19f7a1[_0x50ce96(0x17e)]);if(_0x54aff5[_0x50ce96(0x251)]>0x0)_0x54aff5[_0x50ce96(0x175)](_0x21888b=>{const _0x5db1ee=_0x50ce96,_0x19cb4b=_0x19f7a1[_0x5db1ee(0x17e)]['includes'](config[_0x5db1ee(0xd3)]+'/');_0x4f6812['push']({'datetime':_0x21888b[_0x5db1ee(0x23c)],'coin':_0x19f7a1[_0x5db1ee(0x154)],'symbol':_0x19f7a1['symbol'],'side':_0x21888b[_0x5db1ee(0x1a3)],'reverse':_0x19cb4b,'amount':formatResult(_0x21888b[_0x5db1ee(0x229)],0x8),'filled':formatResult(_0x21888b[_0x5db1ee(0x229)],0x8),'price':formatResult(_0x21888b['price'],0x8)}),_0x4aa986=_0x21888b[_0x5db1ee(0x1a3)]==_0x5db1ee(0xca)?_0x4aa986+_0x21888b[_0x5db1ee(0x229)]:_0x4aa986-_0x21888b[_0x5db1ee(0x229)];if(!_0x7863fa)_0x7863fa=_0x21888b[_0x5db1ee(0x13e)];});_0x1095db=_0x19f7a1[_0x50ce96(0x14a)]-_0x4aa986;let _0xb7f125;config[_0x50ce96(0x1e6)][_0x50ce96(0x175)](_0x37be83=>{const _0x24e802=_0x50ce96;!_0xb7f125&&(_0xb7f125=_0x37be83[_0x24e802(0xed)][_0x24e802(0x207)](_0x3f5c1b=>_0x3f5c1b[_0x24e802(0x154)]==_0x19f7a1[_0x24e802(0x154)]),_0xb7f125&&(_0x1095db=_0xb7f125['number'],_0x7863fa=_0xb7f125['price']));});let _0x1413a3=dbCoinResults[_0x50ce96(0x13b)]('coins')[_0x50ce96(0x207)]({'coin':_0x19f7a1[_0x50ce96(0x154)]})['value']();_0x1413a3={'coin':_0x19f7a1[_0x50ce96(0x154)],'number':_0x1095db,'breakeven':_0x7863fa,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')[_0x50ce96(0x207)]({'coin':_0x19f7a1['coin']})[_0x50ce96(0x21e)](_0x1413a3)[_0x50ce96(0x208)]();}}_0x4f6812[_0x50ce96(0xf9)]((_0x678db3,_0x2f26bc)=>_0x678db3['datetime']>_0x2f26bc[_0x50ce96(0x23c)]?0x1:_0x2f26bc[_0x50ce96(0x23c)]>_0x678db3[_0x50ce96(0x23c)]?-0x1:0x0);let _0x1a0d57=0x0;for(let _0x4110d1 of _0x4f6812){await updateCoinResults(_0x4110d1,!![]);}}catch(_0x2c220b){await handleError(_0x2c220b,_0x50ce96(0x176));}}async function getAllEventOrders(_0x2d8e85){const _0x39fc18=_0x357b7f;let _0x3f9961=[],_0x588c5b=dbLogs[_0x39fc18(0x13b)](_0x39fc18(0x164))[_0x39fc18(0xd4)](_0x6e82cb=>{const _0x385c86=_0x39fc18,_0xa4c47b=_0x6e82cb[_0x385c86(0x234)][_0x385c86(0x180)]();return _0xa4c47b[_0x385c86(0x21c)](_0x2d8e85[_0x385c86(0x180)]())&&(_0xa4c47b[_0x385c86(0x21c)](_0x385c86(0x1c7))&&_0xa4c47b['includes']('order')||_0xa4c47b['includes']('filled')&&_0xa4c47b[_0x385c86(0x21c)](_0x385c86(0x1da)));})[_0x39fc18(0x13a)](_0x39fc18(0x1b0))[_0x39fc18(0x24e)]();return _0x588c5b[_0x39fc18(0x175)](_0x2c716d=>{const _0x47e1a6=_0x39fc18,_0x204f18=_0x2c716d[_0x47e1a6(0x234)]['includes'](_0x47e1a6(0x166))?_0x47e1a6(0x166):'buy',_0x1c4293=/#([0-9]|\.)+\s/i,_0x1c9972=Number(_0x1c4293['exec'](_0x2c716d['event'])[0x0][_0x47e1a6(0x162)](0x1)),_0x82a46=/@([0-9]|\.)+$/i,_0x4dfab5=Number(_0x82a46[_0x47e1a6(0xff)](_0x2c716d[_0x47e1a6(0x234)])[0x0][_0x47e1a6(0x162)](0x1));_0x3f9961[_0x47e1a6(0x24d)]({'datetime':_0x2c716d['time'],'coin':symbolToCoin(_0x2d8e85),'symbol':_0x2d8e85,'side':_0x204f18,'amount':_0x1c9972,'filled':_0x1c9972,'price':_0x4dfab5});}),_0x3f9961;}async function getAllOrders(_0x1f1873,_0x4f7a30){const _0x30ad3f=_0x357b7f;let _0x57ceff=[];while(_0x4f7a30<exchange[_0x30ad3f(0x257)]()){const _0x49c699=0x1f4;try{const _0x444296=await exchange[_0x30ad3f(0x256)](_0x1f1873,_0x4f7a30,_0x49c699);if(_0x444296[_0x30ad3f(0x251)])_0x4f7a30=_0x444296[_0x444296[_0x30ad3f(0x251)]-0x1][_0x30ad3f(0xe3)]+0x1,_0x57ceff=_0x57ceff[_0x30ad3f(0x190)](_0x444296);else break;}catch(_0x3296a4){await handleError(_0x3296a4,_0x30ad3f(0x259),_0x1f1873);}}return _0x57ceff;}async function validate24hChanges(){const _0xe430fe=_0x357b7f;for(const _0x48c4d6 of currentCoins){if(_0x48c4d6[_0xe430fe(0x154)]!=config[_0xe430fe(0xd3)]){let _0x2cb65c;_0x48c4d6[_0xe430fe(0x179)]?_0x2cb65c=formatResult((0x1/(global[_0xe430fe(0x239)][noslash(_0x48c4d6[_0xe430fe(0x17e)])]/0x64+0x1)-0x1)*0x64,0x3):_0x2cb65c=global[_0xe430fe(0x239)][noslash(_0x48c4d6[_0xe430fe(0x17e)])],_0x2cb65c<config['change24h']&&(logHistory(_0xe430fe(0x12c),_0x48c4d6[_0xe430fe(0x154)]+_0xe430fe(0xfe)+_0x2cb65c+'%'),logHistory(_0xe430fe(0x12c),_0xe430fe(0xfb)),logHistory(_0xe430fe(0x12c),_0xe430fe(0x200)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x1a363e,_0x4bf4e7){const _0x5cdf22=_0x357b7f;if(!_0x1a363e)return!![];const _0xd82ef4=_0x4bf4e7[_0x5cdf22(0x155)]('.'),_0x510af=_0x1a363e[_0x5cdf22(0x155)]('.');for(var _0xa96d4b=0x0;_0xa96d4b<_0x510af[_0x5cdf22(0x251)];_0xa96d4b++){const _0x21dc87=~~_0x510af[_0xa96d4b],_0x39a562=~~_0xd82ef4[_0xa96d4b];if(_0x21dc87<_0x39a562)return!![];if(_0x21dc87>_0x39a562)return![];}return![];}async function oneTimeMigration(){const _0x1cbc61=_0x357b7f;let _0x7e7cd5=dbLogs[_0x1cbc61(0x13b)](_0x1cbc61(0x1dc))[_0x1cbc61(0x24e)]();if(isOlderVersion(_0x7e7cd5,_0x1cbc61(0x16a))){let _0x23b823=[];const _0x1dd526=dbLogs['get'](_0x1cbc61(0x164))[_0x1cbc61(0x24e)]();_0x1dd526['forEach'](_0x34cb13=>{const _0x21ad85=_0x1cbc61;_0x23b823[_0x21ad85(0x24d)]({'time':_0x34cb13['time'],'type':_0x34cb13[_0x21ad85(0x11f)],'event':_0x34cb13[_0x21ad85(0x234)]});}),dbLogs[_0x1cbc61(0x13b)](_0x1cbc61(0x164))[_0x1cbc61(0x21e)](_0x23b823)[_0x1cbc61(0x208)]();}let _0x13f37d=dbConfig['get'](_0x1cbc61(0x1dc))[_0x1cbc61(0x24e)]();if(isOlderVersion(_0x13f37d,_0x1cbc61(0x16a))){let _0x4983ce=dbConfig['get'](_0x1cbc61(0x1e9))['find']({'botID':botID})[_0x1cbc61(0x24e)]();if(_0x4983ce){let _0x1f39a0=[];_0x4983ce['portfolio'][_0x1cbc61(0x175)](_0x1e5833=>{const _0x561bc0=_0x1cbc61;_0x1f39a0[_0x561bc0(0x24d)]({'coin':_0x1e5833[_0x561bc0(0x154)],'number':_0x1e5833[_0x561bc0(0x1bb)],'price':_0x1e5833['startprice']}),delete _0x1e5833[_0x561bc0(0x1bb)],delete _0x1e5833['startprice'];});if(_0x1f39a0[_0x1cbc61(0x251)]!==0x0)fs['writeFile'](configbackuppath+(_0x1cbc61(0x121)+botID+_0x1cbc61(0x11d)),JSON[_0x1cbc61(0x1c9)](_0x1f39a0,null,0x4),function(_0x10a54b){if(_0x10a54b){}});const _0x54e12d=(_0x1c9d9b,_0x48a5fc)=>{const _0x310740=_0x1cbc61;let _0x1d895e=[];_0x48a5fc[_0x310740(0x175)](_0x242f29=>{const _0x5c2eee=_0x310740,_0x372453=_0x1c9d9b[_0x5c2eee(0x207)](_0x277c2c=>_0x277c2c['coin']==_0x242f29[_0x5c2eee(0x154)]);if(!_0x372453)_0x1d895e[_0x5c2eee(0x24d)](_0x242f29);});let _0x265d0f=[];return _0x1c9d9b[_0x310740(0x175)](_0x649ddd=>{const _0x3c7481=_0x310740,_0x1201ce=_0x48a5fc[_0x3c7481(0x207)](_0x34ca0b=>_0x34ca0b[_0x3c7481(0x154)]==_0x649ddd['coin']);if(!_0x1201ce||_0x1201ce[_0x3c7481(0x14a)]==0x0&&_0x649ddd[_0x3c7481(0x14a)]!=0x0)_0x265d0f[_0x3c7481(0x24d)](_0x649ddd);}),{'missingDay1':_0x1d895e,'notInDay2':_0x265d0f};},_0x3588f0=dbPerformance[_0x1cbc61(0x13b)](_0x1cbc61(0xdc))[_0x1cbc61(0x240)]()[_0x1cbc61(0x24e)]();if(_0x3588f0[_0x1cbc61(0x251)]>0x1){const {missingDay1:_0x1c562c,notInDay2:_0x2ec8b2}=_0x54e12d(_0x1f39a0,_0x3588f0[0x1][_0x1cbc61(0xe6)]);_0x1f39a0=[..._0x1f39a0,..._0x1c562c],_0x2ec8b2[_0x1cbc61(0x175)](_0x258531=>{const _0x5e58b3=_0x1cbc61;let _0x2e37ae=_0x1f39a0[_0x5e58b3(0x125)](_0x5ca270=>_0x5ca270[_0x5e58b3(0x154)]==_0x258531[_0x5e58b3(0x154)]);_0x2e37ae!=-0x1&&_0x1f39a0[_0x5e58b3(0x12f)](_0x2e37ae,0x1);});}_0x1f39a0['sort']((_0xf754ad,_0x514837)=>_0xf754ad[_0x1cbc61(0x154)]>_0x514837[_0x1cbc61(0x154)]?0x1:_0x514837[_0x1cbc61(0x154)]>_0xf754ad[_0x1cbc61(0x154)]?-0x1:0x0);let _0x5373cc=[{'date':_0x4983ce[_0x1cbc61(0x22f)],'changes':_0x1f39a0}];_0x3588f0[_0x1cbc61(0x251)]>0x2&&_0x3588f0['forEach']((_0x381104,_0x1ea7ee)=>{const _0x3e554b=_0x1cbc61;if(_0x1ea7ee>0x0&&_0x1ea7ee<_0x3588f0[_0x3e554b(0x251)]-0x1){const {missingDay1:_0x2d7819,notInDay2:_0x58d485}=_0x54e12d(_0x3588f0[_0x1ea7ee][_0x3e554b(0xe6)],_0x3588f0[_0x1ea7ee+0x1][_0x3e554b(0xe6)]);_0x1f39a0=[],(_0x2d7819['length']!=0x0||_0x58d485['length']!=0x0)&&(_0x2d7819[_0x3e554b(0x251)]!=0x0&&_0x1f39a0['push'](..._0x2d7819),_0x58d485[_0x3e554b(0x251)]!=0x0&&(_0x58d485['forEach'](_0x2b762c=>{const _0x3a2089=_0x3e554b;_0x2b762c[_0x3a2089(0x14a)]=-_0x2b762c[_0x3a2089(0x14a)];}),_0x1f39a0[_0x3e554b(0x24d)](..._0x58d485)),_0x1f39a0['sort']((_0x1d7c9e,_0x52445d)=>_0x1d7c9e[_0x3e554b(0x154)]>_0x52445d['coin']?0x1:_0x52445d[_0x3e554b(0x154)]>_0x1d7c9e['coin']?-0x1:0x0),_0x5373cc[_0x3e554b(0x24d)]({'date':_0x3588f0[_0x1ea7ee+0x1]['date'],'changes':_0x1f39a0}));}}),dbConfig[_0x1cbc61(0x13b)](_0x1cbc61(0x1e9))[_0x1cbc61(0x207)]({'botID':botID})['assign']({..._0x4983ce,'liquidity':_0x5373cc})[_0x1cbc61(0x208)]();}}if(isOlderVersion(_0x13f37d,_0x1cbc61(0x235))){let _0xa50bd=dbConfig[_0x1cbc61(0x13b)](_0x1cbc61(0x1e9))[_0x1cbc61(0x207)]({'botID':botID})[_0x1cbc61(0x24e)]();if(_0xa50bd){const _0x19f8d9=_0xa50bd[_0x1cbc61(0x1e2)],_0x2b75ff=_0x19f8d9?capitalize(_0x19f8d9):_0x1cbc61(0x101);dbConfig[_0x1cbc61(0x13b)](_0x1cbc61(0x1e9))['find']({'botID':botID})[_0x1cbc61(0x21e)]({'exchange':_0x2b75ff})[_0x1cbc61(0x208)]();}}let _0x21702d=dbPerformance['get'](_0x1cbc61(0x1dc))[_0x1cbc61(0x24e)]();isOlderVersion(_0x21702d,_0x1cbc61(0x16a))&&setStartDatePerformance();let _0x4e853a=dbCoinResults['get'](_0x1cbc61(0x1dc))['value']();if(isOlderVersion(_0x4e853a,'2.5.0')){let _0x39dc74=dbCoinResults['get']('coins')[_0x1cbc61(0x24e)]();if(_0x39dc74[_0x1cbc61(0x251)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x29064f=_0x357b7f;dbConfig[_0x29064f(0x107)]('version',serverversion)[_0x29064f(0x208)](),dbPerformance['set'](_0x29064f(0x1dc),serverversion)[_0x29064f(0x208)](),dbLogs['set'](_0x29064f(0x1dc),serverversion)[_0x29064f(0x208)](),dbCoinResults[_0x29064f(0x107)]('version',serverversion)[_0x29064f(0x208)]();}function getConfiguration(_0x26a3fc){const _0x56d8e9=_0x357b7f;let _0x5b9a2d=dbConfig[_0x56d8e9(0x13b)](_0x56d8e9(0x1e9))[_0x56d8e9(0x207)]({'botID':_0x26a3fc})[_0x56d8e9(0x24e)]();if(_0x5b9a2d){let _0x1cf8e9=![];typeof _0x5b9a2d[_0x56d8e9(0x16d)]==_0x56d8e9(0x139)&&(_0x5b9a2d={..._0x5b9a2d,'threshold':Number(_0x5b9a2d[_0x56d8e9(0x16d)])},_0x1cf8e9=!![]),_0x5b9a2d[_0x56d8e9(0x1bc)]==undefined&&(_0x5b9a2d={..._0x5b9a2d,'change24h':-0x14},_0x1cf8e9=!![]),_0x5b9a2d[_0x56d8e9(0x1dd)]==undefined&&(_0x5b9a2d={..._0x5b9a2d,'fiat':_0x56d8e9(0x150)},_0x1cf8e9=!![]),_0x5b9a2d['onepagemode']==undefined&&(_0x5b9a2d={..._0x5b9a2d,'onepagemode':settings[_0x56d8e9(0x22e)]},_0x1cf8e9=!![]),_0x5b9a2d[_0x56d8e9(0xd7)]==undefined&&(_0x5b9a2d={..._0x5b9a2d,'colorscheme':_0x56d8e9(0x1d9)},_0x1cf8e9=!![]),_0x5b9a2d[_0x56d8e9(0x250)]==undefined&&(_0x5b9a2d={..._0x5b9a2d,'autoliquidity':!![]},_0x1cf8e9=!![]),_0x1cf8e9&&(_0x5b9a2d={'botID':_0x5b9a2d[_0x56d8e9(0x212)],'exchange':_0x5b9a2d[_0x56d8e9(0x1e2)],'apiKey':_0x5b9a2d[_0x56d8e9(0x1eb)],'apiSecret':_0x5b9a2d[_0x56d8e9(0x1a5)],'apiPassword':_0x5b9a2d[_0x56d8e9(0x20c)],'basecoin':_0x5b9a2d[_0x56d8e9(0xd3)],'botname':_0x5b9a2d[_0x56d8e9(0x1cc)],'showname':_0x5b9a2d[_0x56d8e9(0x11e)],'threshold':_0x5b9a2d[_0x56d8e9(0x16d)],'ordertype':_0x5b9a2d[_0x56d8e9(0x148)],'timeout':_0x5b9a2d[_0x56d8e9(0xea)],'fiat':_0x5b9a2d[_0x56d8e9(0x1dd)],'startdate':_0x5b9a2d[_0x56d8e9(0x22f)],'recreate':_0x5b9a2d[_0x56d8e9(0x1cd)],'timeshift':_0x5b9a2d[_0x56d8e9(0x1ba)],'onepagemode':_0x5b9a2d[_0x56d8e9(0x22e)],'headless':_0x5b9a2d[_0x56d8e9(0x115)],'cooldown':_0x5b9a2d['cooldown'],'change24h':_0x5b9a2d[_0x56d8e9(0x1bc)],'emojibuy':_0x5b9a2d[_0x56d8e9(0x14e)],'emojisell':_0x5b9a2d[_0x56d8e9(0x1ca)],'colorscheme':_0x5b9a2d[_0x56d8e9(0xd7)],'portfolio':_0x5b9a2d[_0x56d8e9(0x1ad)],'autoliquidity':_0x5b9a2d[_0x56d8e9(0x250)],'liquidity':_0x5b9a2d[_0x56d8e9(0x1e6)],'openOrders':_0x5b9a2d[_0x56d8e9(0x1d4)]},dbConfig[_0x56d8e9(0x13b)](_0x56d8e9(0x1e9))[_0x56d8e9(0x130)]()[_0x56d8e9(0x208)](),dbConfig[_0x56d8e9(0x13b)](_0x56d8e9(0x1e9))[_0x56d8e9(0x24d)](_0x5b9a2d)['write']());}else _0x5b9a2d={'botID':_0x26a3fc,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x56d8e9(0x223)+_0x26a3fc,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x56d8e9(0x150),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x56d8e9(0x1ba)],'onepagemode':settings[_0x56d8e9(0x22e)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x56d8e9(0x1d9),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5b9a2d;}function emittedConfiguration(){const _0x54168a=_0x357b7f;let _0x55319b;if(config[_0x54168a(0x1eb)]=='')_0x55319b={...config,'configstate':'initial'};else config['apiKey']=='***'?_0x55319b={...config,'configstate':'recovery'}:(_0x55319b={...config,'apiKey':_0x54168a(0x21d),'apiSecret':_0x54168a(0x21d)},config[_0x54168a(0x20c)]&&(_0x55319b[_0x54168a(0x20c)]='************'));return _0x55319b;}function getSettings(){const _0x3a171=_0x357b7f;return dbSettings[_0x3a171(0x13b)](_0x3a171(0x1c2))['value']();}function getSecure(){const _0x520e17=_0x357b7f;return dbSecure[_0x520e17(0x13b)](_0x520e17(0x18b))[_0x520e17(0x24e)]()||{};}function updateTimeshift(_0xeb538b){const _0x11cf24=_0x357b7f;let _0x24027f=dbConfig[_0x11cf24(0x13b)](_0x11cf24(0x1e9))[_0x11cf24(0x207)]({'botID':botID})['value']();_0x24027f&&dbConfig[_0x11cf24(0x13b)](_0x11cf24(0x1e9))[_0x11cf24(0x207)]({'botID':botID})[_0x11cf24(0x21e)]({'timeshift':_0xeb538b})[_0x11cf24(0x208)](),config[_0x11cf24(0x1ba)]=_0xeb538b,proxyEmit(_0x11cf24(0x169),emittedConfiguration());}function updateOnepagemode(_0x1f4fa9){const _0x698da0=_0x357b7f;let _0x57e477=dbConfig['get']('bot')[_0x698da0(0x207)]({'botID':botID})[_0x698da0(0x24e)]();_0x57e477&&dbConfig[_0x698da0(0x13b)](_0x698da0(0x1e9))['find']({'botID':botID})['assign']({'onepagemode':_0x1f4fa9})['write'](),config[_0x698da0(0x22e)]=_0x1f4fa9,proxyEmit(_0x698da0(0x169),emittedConfiguration());}async function storeConfiguration(_0x5198d0){const _0x23958d=_0x357b7f;logger[_0x23958d(0x137)](_0x23958d(0x224));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug']('Transaction\x20detection\x20blocked');let _0x3ee232=[],_0x3430ce=![],_0x282a61=![],_0xc368c4=[];_0x5198d0['portfolio'][_0x23958d(0x175)](_0x240354=>{const _0x60f7ff=_0x23958d;if(!_0x240354[_0x60f7ff(0x1ee)]&&_0x240354['coin']!=_0x5198d0['basecoin'])_0xc368c4[_0x60f7ff(0x24d)](_0x240354['symbol']);}),_0xc368c4[_0x23958d(0x175)](_0x4720f9=>{const _0x5d3548=_0x23958d,_0x341ca7=watchedSymbols[_0x5d3548(0x21c)](_0x4720f9);!_0x341ca7&&_0x3ee232[_0x5d3548(0x24d)](_0x4720f9);}),_0xc368c4[_0x23958d(0x175)](_0x51e201=>{const _0x367bfe=_0x23958d,_0x21ecba=currentCoins[_0x367bfe(0x207)](_0xf38611=>_0xf38611[_0x367bfe(0x17e)]==_0x51e201);!_0x21ecba&&(_0x3430ce=!![]);}),currentCoins[_0x23958d(0x175)](_0x3faa17=>{const _0x3cd675=_0x23958d;if(_0x3faa17['coin']!=config['basecoin']){const _0x3e1717=_0xc368c4[_0x3cd675(0x207)](_0x125c45=>_0x125c45==_0x3faa17[_0x3cd675(0x17e)]);!_0x3e1717&&(_0x3430ce=!![]);}}),_0x5198d0['portfolio']['forEach'](_0xbd7bf1=>{const _0x1158b9=_0x23958d,_0x2471ad=config[_0x1158b9(0x1ad)]['find'](_0x4d4a43=>_0x4d4a43[_0x1158b9(0x154)]==_0xbd7bf1[_0x1158b9(0x154)]);if(_0x2471ad&&_0xbd7bf1[_0x1158b9(0xcb)]!=_0x2471ad[_0x1158b9(0xcb)])_0x282a61=!![];});let _0x28d0ae=dbConfig[_0x23958d(0x13b)](_0x23958d(0x1e9))['find']({'botID':botID})[_0x23958d(0x24e)]();_0x5198d0={..._0x5198d0,'apiKey':crypt[_0x23958d(0xcd)](secure[_0x23958d(0x1a8)],_0x5198d0[_0x23958d(0x1eb)])[_0x23958d(0x13f)],'apiSecret':crypt[_0x23958d(0xcd)](secure['privateKey'],_0x5198d0['apiSecret'])[_0x23958d(0x13f)]};_0x5198d0['apiPassword']&&(_0x5198d0[_0x23958d(0x20c)]=crypt[_0x23958d(0xcd)](secure['privateKey'],_0x5198d0[_0x23958d(0x20c)])[_0x23958d(0x13f)]);let _0x2cb38e=![];if(_0x28d0ae){_0x5198d0[_0x23958d(0x1eb)]==_0x23958d(0x21d)?_0x5198d0[_0x23958d(0x1eb)]=config[_0x23958d(0x1eb)]:_0x2cb38e=!![];_0x5198d0['apiSecret']==_0x23958d(0x21d)?_0x5198d0[_0x23958d(0x1a5)]=config[_0x23958d(0x1a5)]:_0x2cb38e=!![];if(_0x5198d0[_0x23958d(0x20c)]==_0x23958d(0x21d))_0x5198d0['apiPassword']=config[_0x23958d(0x20c)];else{if(_0x5198d0[_0x23958d(0x20c)])_0x2cb38e=!![];}dbConfig['get'](_0x23958d(0x1e9))[_0x23958d(0x207)]({'botID':botID})['assign'](_0x5198d0)['write']();}else dbConfig['get'](_0x23958d(0x1e9))['push'](_0x5198d0)[_0x23958d(0x208)](),_0x2cb38e=!![],process[_0x23958d(0xc2)]({'status':_0x23958d(0xfc),'live':_0x23958d(0x183)},_0x5cc429=>{});process['send']({'botname':_0x5198d0[_0x23958d(0x1cc)]},_0x100248=>{}),updateBotManager(),config={..._0x5198d0},proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x2cb38e)await reset(_0x3ee232,!![]);else _0x3430ce||_0x282a61?await reset(_0x3ee232,![]):getBalances();blockTransactionDetection=![],logger[_0x23958d(0x137)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x50666c){const _0x20e451=_0x357b7f,_0x20d2cb={...config,'headless':_0x50666c['headless']};let _0x28f4da=dbConfig[_0x20e451(0x13b)]('bot')[_0x20e451(0x207)]({'botID':botID})['value']();_0x28f4da&&dbConfig[_0x20e451(0x13b)]('bot')[_0x20e451(0x207)]({'botID':botID})[_0x20e451(0x21e)](_0x20d2cb)['write'](),config={..._0x20d2cb},updateBotManager(),proxyEmit(_0x20e451(0x169),emittedConfiguration());}async function storeFiat(_0x5a566f){const _0x54827e=_0x357b7f,_0xbf67be={...config,'fiat':_0x5a566f};let _0x10f3e5=dbConfig[_0x54827e(0x13b)](_0x54827e(0x1e9))[_0x54827e(0x207)]({'botID':botID})[_0x54827e(0x24e)]();_0x10f3e5&&dbConfig[_0x54827e(0x13b)](_0x54827e(0x1e9))['find']({'botID':botID})[_0x54827e(0x21e)](_0xbf67be)['write'](),config={..._0xbf67be},proxyEmit(_0x54827e(0x169),emittedConfiguration());}function resetHistory(){const _0x3c72fc=_0x357b7f;logger[_0x3c72fc(0xf7)](_0x3c72fc(0xf1));try{if(fs[_0x3c72fc(0x23d)](path[_0x3c72fc(0x197)](configpath,_0x3c72fc(0x1c8)+botID+_0x3c72fc(0x1c6))))fs[_0x3c72fc(0x15f)](path[_0x3c72fc(0x197)](configpath,'bot-'+botID+_0x3c72fc(0x1c6)));if(fs['existsSync'](path[_0x3c72fc(0x197)](configpath,_0x3c72fc(0x1c8)+botID+_0x3c72fc(0x23f))))fs[_0x3c72fc(0x15f)](path[_0x3c72fc(0x197)](configpath,'bot-'+botID+'-performance.json'));if(fs[_0x3c72fc(0x23d)](path[_0x3c72fc(0x197)](configpath,_0x3c72fc(0x1c8)+botID+_0x3c72fc(0x12e))))fs[_0x3c72fc(0x15f)](path['join'](configpath,'bot-'+botID+_0x3c72fc(0x12e)));}catch(_0x362110){if(_0x362110)logger[_0x3c72fc(0xf7)](_0x3c72fc(0xe7),_0x362110);}const _0xabb61=getDate();let _0xb1c906=[];currentCoins[_0x3c72fc(0x175)](_0x3f7c77=>{const _0xb20790=_0x3c72fc;_0xb1c906[_0xb20790(0x24d)]({'coin':_0x3f7c77['coin'],'number':_0x3f7c77[_0xb20790(0x14a)],'price':_0x3f7c77[_0xb20790(0xc5)]});});let _0x203555=dbConfig[_0x3c72fc(0x13b)](_0x3c72fc(0x1e9))[_0x3c72fc(0x207)]({'botID':botID})[_0x3c72fc(0x24e)]();_0x203555&&(dbConfig[_0x3c72fc(0x13b)](_0x3c72fc(0x1e9))['find']({'botID':botID})[_0x3c72fc(0x21e)]({'liquidity':[{'date':_0xabb61,'changes':_0xb1c906}]})[_0x3c72fc(0x208)](),config[_0x3c72fc(0x1e6)]=[]),process[_0x3c72fc(0xc2)]({'stop':'restart'},_0x1cf060=>{});}function noslash(_0x14519b){const _0x51669b=_0x357b7f;return _0x14519b[_0x51669b(0x232)]('/','');}function updateHighestFee(_0x20d6a7){const _0xac6f75=_0x357b7f;if(_0x20d6a7[_0xac6f75(0x179)]){let _0x56479a={'filled':_0x20d6a7['filled']*_0x20d6a7[_0xac6f75(0x13e)],'amount':_0x20d6a7['filled']*_0x20d6a7[_0xac6f75(0x13e)],'side':_0x20d6a7[_0xac6f75(0x1a3)]==_0xac6f75(0x166)?_0xac6f75(0xca):_0xac6f75(0x166),'price':0x1/_0x20d6a7[_0xac6f75(0x13e)]};_0x20d6a7={..._0x20d6a7,..._0x56479a};}const _0xdd5aa6=defaultFee*_0x20d6a7[_0xac6f75(0x229)]*_0x20d6a7[_0xac6f75(0x13e)];lastFees[_0xac6f75(0xe1)]['length']===0x14&&lastFees[_0xac6f75(0xe1)][_0xac6f75(0x1f2)](),lastFees['recent20'][_0xac6f75(0x24d)](_0xdd5aa6),lastFees[_0xac6f75(0x1af)]=Math[_0xac6f75(0x185)](...lastFees[_0xac6f75(0xe1)]);}async function updateNumberCoinsCcxt(_0x5d8d3a){const _0x3b4329=_0x357b7f;logger['debug'](_0x3b4329(0x18d)+_0x5d8d3a[_0x3b4329(0x17e)]+_0x3b4329(0x145)+_0x5d8d3a[_0x3b4329(0x16b)]+_0x3b4329(0x145)+_0x5d8d3a['id']);let _0x5e09b5=_0x5d8d3a[_0x3b4329(0x16b)],_0x725f00=![];currentCoins[_0x3b4329(0x175)](_0x1a4379=>{const _0x3ad3d3=_0x3b4329;_0x1a4379[_0x3ad3d3(0x17e)]==_0x5d8d3a[_0x3ad3d3(0x17e)]&&(_0x725f00=!![]);});if(!_0x725f00)return;const _0x340162=currentCoins[_0x3b4329(0x207)](_0x49802b=>_0x49802b[_0x3b4329(0x17e)]==_0x5d8d3a[_0x3b4329(0x17e)]),_0x213d28=_0x3b4940=>{if(_0x340162)_0x340162['orderstatus']=_0x3b4940;};if(_0x5e09b5==_0x3b4329(0x168))_0x213d28('open');else{if(_0x5e09b5=='canceled'){_0x213d28(_0x3b4329(0x10b));const _0xf3c9d1=await getCoins();[currentCoins,currentCoinsAll]=_0xf3c9d1,await getOpenOrders(),handleOpenOrders();}else{if(_0x5e09b5==_0x3b4329(0x19f)){logger[_0x3b4329(0x137)](_0x3b4329(0x24c)+_0x5d8d3a['symbol']+_0x3b4329(0x145)+_0x5d8d3a[_0x3b4329(0x229)]+_0x3b4329(0x145)+_0x5d8d3a['id']);let _0x2a94fc=![];if(lastOrders)for(const _0x433497 of lastOrders){const _0x553a47=0xc8,_0x44cfc2=0x1388;let _0x26cccd=0x0;while(!_0x433497[_0x3b4329(0xf5)]&&_0x26cccd*_0x553a47<_0x44cfc2){_0x26cccd++,await sleep(_0x553a47);}if(_0x26cccd>0x0)logger[_0x3b4329(0x137)](_0x3b4329(0x122)+_0x26cccd*_0x553a47/0x3e8+_0x3b4329(0x192));if(_0x433497[_0x3b4329(0xf5)]==_0x5d8d3a['id']){logger[_0x3b4329(0x137)](_0x3b4329(0x10a)+_0x5d8d3a['id']),_0x2a94fc=!![];if(_0x433497['filled']==0x0){logger[_0x3b4329(0x137)](_0x3b4329(0x15b)+_0x5d8d3a['id']);if(_0x5d8d3a['average'])_0x433497['price']=_0x5d8d3a['average'];else{if(_0x5d8d3a[_0x3b4329(0x13e)])_0x433497[_0x3b4329(0x13e)]=_0x5d8d3a[_0x3b4329(0x13e)];else{}}_0x433497[_0x3b4329(0x229)]=_0x5d8d3a[_0x3b4329(0x229)],updateHighestFee(_0x433497),_0x213d28(_0x3b4329(0x229)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x416947=await getCoins();[currentCoins,currentCoinsAll]=_0x416947;}_0x433497['fee']={'currency':_0x5d8d3a[_0x3b4329(0xcc)]?_0x5d8d3a[_0x3b4329(0xcc)][_0x3b4329(0xd2)]:null,'cost':_0x5d8d3a[_0x3b4329(0xcc)]?_0x5d8d3a['fee'][_0x3b4329(0x1f3)]:0x0},await updateCoinResults(_0x433497);}}}if(!_0x2a94fc){logger[_0x3b4329(0x137)](_0x3b4329(0x1e8)+_0x5d8d3a['id']),_0x213d28(_0x3b4329(0x229));const _0x3f697d=await getCoins();[currentCoins,currentCoinsAll]=_0x3f697d,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x52c3a5=JSON[_0x3b4329(0x19d)](lastBalances[_0x3b4329(0x1ad)]);const _0x400853=_0x52c3a5[_0x3b4329(0x207)](_0x58ff49=>_0x58ff49['symbol']==_0x5d8d3a[_0x3b4329(0x17e)]);if(_0x400853){if(_0x5e09b5=='open')_0x400853[_0x3b4329(0x160)]=_0x400853['orderstatus']=='filled'?_0x3b4329(0x229):_0x3b4329(0x168);else{if(_0x5e09b5==_0x3b4329(0x10b))_0x400853[_0x3b4329(0x160)]=_0x400853[_0x3b4329(0x160)]==_0x3b4329(0x229)?_0x3b4329(0x229):_0x3b4329(0x10b);else _0x5e09b5=='closed'&&(_0x400853[_0x3b4329(0x160)]=_0x3b4329(0x229));}}lastBalances={...lastBalances,'portfolio':JSON[_0x3b4329(0x1c9)](_0x52c3a5)},proxyEmit(_0x3b4329(0x1ac),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x26ca50=_0x357b7f;await getOpenOrders();let _0x3ebe31=![];currentCoins[_0x26ca50(0x175)](_0x4d6d25=>{const _0xe75e24=_0x26ca50;_0x3ebe31=allOpenOrders[_0xe75e24(0x207)](_0x38f946=>_0x38f946[_0xe75e24(0x17e)]==_0x4d6d25[_0xe75e24(0x17e)]),_0x4d6d25['orderstatus']=_0x3ebe31?_0xe75e24(0x168):_0xe75e24(0x247);});}function _0x55c3(_0x4febcf,_0x44dea0){const _0xb8c30=_0x14e9();return _0x55c3=function(_0x2e29d7,_0x390767){_0x2e29d7=_0x2e29d7-0xbf;let _0x14e904=_0xb8c30[_0x2e29d7];return _0x14e904;},_0x55c3(_0x4febcf,_0x44dea0);}async function getCoins(_0x51b6ec=!![],_0x2e2703=config[_0x357b7f(0xd3)]){const _0x55a30a=_0x357b7f;let _0x5243d9,_0x1ad1d2=[],_0x1b0ecc=[],_0x18f423=[],_0x206c94=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x5243d9=await exchange[_0x55a30a(0x123)](),mybalances=_0x5243d9[_0x55a30a(0xc7)];for(const [_0x4f908d,_0x3b97d1]of Object[_0x55a30a(0x1b7)](mybalances)){_0x206c94['push'](_0x4f908d);}config[_0x55a30a(0x1ad)][_0x55a30a(0x175)](_0x3b010b=>{const _0x4e7d84=_0x55a30a;!_0x206c94['includes'](_0x3b010b[_0x4e7d84(0x154)])&&(mybalances[_0x3b010b[_0x4e7d84(0x154)]]=0x0);});if(_0x2e2703=='')for(const [_0x12a172,_0x29171f]of Object[_0x55a30a(0x1b7)](mybalances)){_0x29171f!=0x0&&_0x1b0ecc[_0x55a30a(0x24d)]({'coin':_0x12a172});}else{let _0x18d398=![];for(const [_0x83dbe0,_0xe7f2f]of Object[_0x55a30a(0x1b7)](mybalances)){const _0x4a94e4=config[_0x55a30a(0x1ad)]['find'](_0x9031a=>_0x9031a['coin']==_0x83dbe0),_0xe82fa8=_0x83dbe0+'/'+_0x2e2703,_0x288ca8=_0x2e2703+'/'+_0x83dbe0,_0x1d785d=currentCoins[_0x55a30a(0x207)](_0x5bd0c9=>_0x5bd0c9[_0x55a30a(0x154)]==_0x83dbe0);_0x18d398=![];if((_0xe7f2f!=0x0||_0x4a94e4)&&(allSymbols[_0x55a30a(0x21c)](_0xe82fa8)||_0x83dbe0==_0x2e2703))_0x1b0ecc[_0x55a30a(0x24d)]({'coin':_0x83dbe0,'symbol':_0xe82fa8,'reverse':![],'number':Math[_0x55a30a(0x185)](_0xe7f2f+(_0x4a94e4&&_0x4a94e4[_0x55a30a(0xcb)]||0x0),0x0),'orderstatus':_0x1d785d?_0x1d785d[_0x55a30a(0x160)]:_0x55a30a(0x247)});else{if((_0xe7f2f!=0x0||_0x4a94e4)&&allSymbols[_0x55a30a(0x21c)](_0x288ca8))_0x1b0ecc[_0x55a30a(0x24d)]({'coin':_0x83dbe0,'symbol':_0x288ca8,'reverse':!![],'number':Math[_0x55a30a(0x185)](_0xe7f2f+(_0x4a94e4&&_0x4a94e4['offset']||0x0),0x0),'orderstatus':_0x1d785d?_0x1d785d[_0x55a30a(0x160)]:_0x55a30a(0x247)});else _0x4a94e4&&_0x1b0ecc[_0x55a30a(0x24d)]({'coin':_0x4a94e4['coin'],'symbol':_0x4a94e4[_0x55a30a(0x17e)],'reverse':_0x4a94e4[_0x55a30a(0x179)],'number':0x0,'orderstatus':_0x55a30a(0x247)});}}}}catch(_0x39ed43){if(!_0x51b6ec)handleErrorNoStop(_0x39ed43,_0x55a30a(0x19e));else await handleError(_0x39ed43,_0x55a30a(0x19e));}return _0x18f423=cloneDeep(_0x1b0ecc),_0x1b0ecc=_0x1b0ecc['filter'](_0x10709e=>{const _0x2caf09=_0x55a30a,_0x266a13=config[_0x2caf09(0x1ad)][_0x2caf09(0x207)](_0x529629=>_0x529629[_0x2caf09(0x154)]==_0x10709e[_0x2caf09(0x154)]);return _0x266a13&&!_0x266a13[_0x2caf09(0x1ee)];}),[_0x1b0ecc,_0x18f423];}async function getCoinNumber(_0x4f7999){const _0x2c5592=_0x357b7f;let _0x5bf8c5;try{const _0x411fc3=await exchange['fetchBalance']();_0x5bf8c5=_0x411fc3[_0x2c5592(0xc7)][_0x4f7999];}catch(_0x51ab62){await handleError(_0x51ab62,'getCoinNumber()');}return _0x5bf8c5;}async function getOpenOrders(){const _0xd6349b=_0x357b7f;let _0x22cab4;allOpenOrders=[];try{for(const _0x5b9674 of config[_0xd6349b(0x1ad)]){!_0x5b9674['excluded']&&_0x5b9674['coin']!=config[_0xd6349b(0xd3)]&&(_0x22cab4=await exchange['fetchOpenOrders'](_0x5b9674[_0xd6349b(0x17e)]),_0x22cab4[_0xd6349b(0x251)]>0x0&&allOpenOrders[_0xd6349b(0x24d)](_0x22cab4[0x0]));}}catch(_0x22a226){await handleError(_0x22a226,_0xd6349b(0x156));}}async function handleOpenOrders(_0x14ad41=0x0){const _0x4aac5a=_0x357b7f;allOpenOrders[_0x4aac5a(0x251)]==0x0&&lockOrders==ORDERS[_0x4aac5a(0x1d5)]&&allOrdersPlaced&&(_0x14ad41==0x0?(logger['debug'](_0x4aac5a(0x1a4)),_0x14ad41++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x4aac5a(0x137)](_0x4aac5a(0x1ff)),validateOrders(_0x4aac5a(0x18c))));}async function testAPI(_0x69ec3d){const _0x50ba98=_0x357b7f,_0x141bb0=ccxt[_0x50ba98(0x16f)][_0x69ec3d['exchange'][_0x50ba98(0x180)]()],_0x4c0875=new _0x141bb0({'apiKey':_0x69ec3d[_0x50ba98(0x1eb)],'secret':_0x69ec3d[_0x50ba98(0x1a5)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x50ba98(0x1b3)}});if(_0x69ec3d['apiPassword'])_0x4c0875[_0x50ba98(0xfa)]=_0x69ec3d[_0x50ba98(0x20c)];try{await _0x4c0875['loadMarkets']();}catch(_0x4d69b3){throw _0x4d69b3;}}function cloneDeep(_0x1876b9){const _0x1df1e5=_0x357b7f;return JSON[_0x1df1e5(0x19d)](JSON[_0x1df1e5(0x1c9)](_0x1876b9));}async function getPortfolio(_0x1db3ff){const _0x78e4d1=_0x357b7f;let _0x494a02=[],_0x1b4135=[],_0x2c9bbc=[],_0x5819a5;if(_0x1db3ff['apiKey']!=='************'||_0x1db3ff[_0x78e4d1(0x1a5)]!==_0x78e4d1(0x21d)||_0x1db3ff['apiPassword']&&_0x1db3ff['apiPassword']!=='************'){if(config[_0x78e4d1(0x1e2)]){if(_0x1db3ff['apiKey']=='************')_0x1db3ff[_0x78e4d1(0x1eb)]=config[_0x78e4d1(0x1eb)];if(_0x1db3ff[_0x78e4d1(0x1a5)]==_0x78e4d1(0x21d))_0x1db3ff[_0x78e4d1(0x1a5)]=config[_0x78e4d1(0x1a5)];if(_0x1db3ff[_0x78e4d1(0x20c)]==_0x78e4d1(0x21d))_0x1db3ff[_0x78e4d1(0x20c)]=config[_0x78e4d1(0x20c)];try{await testAPI(_0x1db3ff);}catch(_0x348643){if(_0x348643[_0x78e4d1(0xce)]()[_0x78e4d1(0x21c)](_0x78e4d1(0x245))){logger[_0x78e4d1(0x137)](_0x78e4d1(0x198)),proxyEmit(_0x78e4d1(0x1ad),![]);return;}else{handleError(_0x348643,'getPortfolio(0)');return;}}}await initExchange(_0x1db3ff[_0x78e4d1(0x1e2)],_0x1db3ff['apiKey'],_0x1db3ff[_0x78e4d1(0x1a5)],_0x1db3ff[_0x78e4d1(0x20c)]);try{await loadSymbols();}catch(_0x38e1c3){if(_0x38e1c3[_0x78e4d1(0xce)]()['includes'](_0x78e4d1(0x245))){proxyEmit(_0x78e4d1(0x1ad),![]);return;}else{handleError(_0x38e1c3,_0x78e4d1(0x1bd));return;}}const _0x4811c4=await getCoins(![],_0x1db3ff[_0x78e4d1(0xd3)]);_0x2c9bbc=cloneDeep(_0x4811c4[0x1]);}else _0x2c9bbc=cloneDeep(currentCoinsAll);if(_0x1db3ff[_0x78e4d1(0xd3)]=='')proxyEmit(_0x78e4d1(0x1ad),_0x2c9bbc);else{_0x2c9bbc[_0x78e4d1(0x175)](_0x50ae87=>{const _0x4b9a23=_0x78e4d1;if(_0x50ae87[_0x4b9a23(0x154)]!=_0x1db3ff[_0x4b9a23(0xd3)])_0x494a02[_0x4b9a23(0x24d)](_0x50ae87[_0x4b9a23(0x17e)]);});if(_0x494a02[_0x78e4d1(0x251)]==0x0)logHistory(_0x78e4d1(0x12c),_0x78e4d1(0x19a));else{try{_0x1b4135=await exchange[_0x78e4d1(0xf6)](_0x494a02);}catch(_0x1b7cb4){if(_0x1b7cb4['toString']()[_0x78e4d1(0x21c)](_0x78e4d1(0x245))){proxyEmit(_0x78e4d1(0x1ad),![]);return;}else{if(!_0x1b7cb4[_0x78e4d1(0xce)]()[_0x78e4d1(0x21c)]('BadSymbol'))handleError(_0x1b7cb4,_0x78e4d1(0x219));}}_0x2c9bbc['forEach'](_0x46ef18=>{const _0x2c862e=_0x78e4d1;_0x46ef18[_0x2c862e(0x154)]!=_0x1db3ff[_0x2c862e(0xd3)]?_0x1b4135[_0x46ef18[_0x2c862e(0x17e)]]?_0x5819a5=_0x46ef18[_0x2c862e(0x179)]?0x1/_0x1b4135[_0x46ef18[_0x2c862e(0x17e)]][_0x2c862e(0xc5)]:_0x1b4135[_0x46ef18[_0x2c862e(0x17e)]][_0x2c862e(0xc5)]:_0x5819a5=0x0:_0x5819a5=0x1,_0x46ef18[_0x2c862e(0x13e)]=formatResult(_0x5819a5,0x8);}),proxyEmit('portfolio',_0x2c9bbc);}}}function truncateTradeAmount(_0x5b5caa,_0x414fc4){let _0x530f17=0x0;try{_0x530f17=exchange['amountToPrecision'](_0x5b5caa,_0x414fc4);}catch(_0x1ee3a9){}return _0x530f17;}function checkMinimums(_0x51cdd6){const _0x5fcb86=_0x357b7f;let _0xab0bd5=!![];const _0x44e110=!_0x51cdd6[_0x5fcb86(0x179)]?markets[_0x51cdd6[_0x5fcb86(0x17e)]][_0x5fcb86(0x151)]['amount'][_0x5fcb86(0xe5)]:markets[_0x51cdd6[_0x5fcb86(0x17e)]]['limits']['cost'][_0x5fcb86(0xe5)],_0x5b0745=!_0x51cdd6[_0x5fcb86(0x179)]?markets[_0x51cdd6[_0x5fcb86(0x17e)]][_0x5fcb86(0x151)][_0x5fcb86(0x1f3)][_0x5fcb86(0xe5)]:markets[_0x51cdd6[_0x5fcb86(0x17e)]][_0x5fcb86(0x151)]['amount']['min'],_0x1b463b=truncateTradeAmount(_0x51cdd6[_0x5fcb86(0x17e)],_0x51cdd6[_0x5fcb86(0x1be)]);_0x51cdd6[_0x5fcb86(0x1be)]=_0x1b463b;if(Math[_0x5fcb86(0x254)](_0x1b463b)<_0x44e110)_0xab0bd5=![];if(Math['abs'](_0x1b463b)*_0x51cdd6['last']<_0x5b0745)_0xab0bd5=![];if(_0x51cdd6[_0x5fcb86(0x1a3)]==_0x5fcb86(0x166)){let _0x269424=config[_0x5fcb86(0x1ad)]['find'](_0x479438=>_0x479438[_0x5fcb86(0x154)]==_0x51cdd6[_0x5fcb86(0x154)]);if(_0x269424[_0x5fcb86(0xcb)]>0x0){if(Math[_0x5fcb86(0x254)](_0x1b463b)>_0x51cdd6[_0x5fcb86(0x14a)]-_0x269424['offset'])_0xab0bd5=![];}else{if(Math[_0x5fcb86(0x254)](_0x1b463b)>_0x51cdd6[_0x5fcb86(0x14a)])_0xab0bd5=![];}}if(_0x51cdd6[_0x5fcb86(0x1a3)]==_0x5fcb86(0xca)){let _0xc6bbe3=config['portfolio'][_0x5fcb86(0x207)](_0x4647f1=>_0x4647f1[_0x5fcb86(0x154)]==config[_0x5fcb86(0xd3)]),_0x201d45=currentCoins['find'](_0x1e9c46=>_0x1e9c46['coin']==config[_0x5fcb86(0xd3)]);if(_0xc6bbe3[_0x5fcb86(0xcb)]>0x0){if(Math[_0x5fcb86(0x254)](_0x1b463b)*_0x51cdd6[_0x5fcb86(0xc5)]>_0x201d45[_0x5fcb86(0x14a)]-_0xc6bbe3[_0x5fcb86(0xcb)])_0xab0bd5=![];}else{if(Math[_0x5fcb86(0x254)](_0x1b463b)*_0x51cdd6[_0x5fcb86(0xc5)]>_0x201d45['number'])_0xab0bd5=![];}}return _0xab0bd5;}async function getBalances(_0x4e6aac=!![]){const _0x4e17b8=_0x357b7f;let _0x3dbf50=0x0,_0x27088d;const _0x2a73d1=config[_0x4e17b8(0x16d)];if(config[_0x4e17b8(0x115)]&&config[_0x4e17b8(0x1bc)]<0x0)await validate24hChanges();currentCoins[_0x4e17b8(0x175)](_0x1db66e=>{const _0x4a4a73=_0x4e17b8;if(_0x1db66e[_0x4a4a73(0x154)]!=config[_0x4a4a73(0xd3)]){let _0x156a0d=global[_0x4a4a73(0x216)][noslash(_0x1db66e[_0x4a4a73(0x17e)])];_0x27088d=_0x1db66e['reverse']?0x1/_0x156a0d:_0x156a0d;}else _0x27088d=0x1;let _0xd6719f=_0x1db66e[_0x4a4a73(0x14a)]*_0x27088d;_0x3dbf50+=_0xd6719f,_0x1db66e[_0x4a4a73(0xc5)]=formatResult(Number(_0x27088d),0x8),_0x1db66e[_0x4a4a73(0x24e)]=_0xd6719f;}),currentCoins[_0x4e17b8(0x175)](_0x4aa339=>{const _0x2a5c30=_0x4e17b8;let _0x4d9908=config['portfolio'][_0x2a5c30(0x207)](_0x53c0c1=>_0x53c0c1['coin']==_0x4aa339[_0x2a5c30(0x154)]),_0x6ef9c5=Number(_0x4d9908[_0x2a5c30(0x134)]),_0x4e6f67=_0x4aa339[_0x2a5c30(0x24e)]/_0x3dbf50*0x64,_0x9d48dc=_0x6ef9c5*_0x3dbf50/0x64/_0x4aa339[_0x2a5c30(0xc5)]-_0x4aa339[_0x2a5c30(0x14a)];_0x4aa339[_0x2a5c30(0x134)]=formatResult(_0x4e6f67,0x3),_0x4aa339['target']=formatResult(_0x6ef9c5,0x3),_0x4aa339['trade']=formatResult(_0x9d48dc,0x8),_0x4aa339[_0x2a5c30(0x1a3)]='',_0x4aa339[_0x2a5c30(0xc0)]=![];if(_0x4aa339[_0x2a5c30(0x154)]!=config[_0x2a5c30(0xd3)]){if(_0x4aa339[_0x2a5c30(0x134)]>_0x6ef9c5)_0x4aa339['side']=_0x2a5c30(0x166),_0x4aa339[_0x2a5c30(0xc0)]=checkMinimums(_0x4aa339);else _0x4aa339['distribution']<_0x6ef9c5&&(_0x4aa339[_0x2a5c30(0x1a3)]=_0x2a5c30(0xca),_0x4aa339[_0x2a5c30(0xc0)]=checkMinimums(_0x4aa339));}_0x4aa339['delta']=_0x4aa339[_0x2a5c30(0x134)]/_0x4aa339[_0x2a5c30(0x12b)]-0x1;if(_0x4aa339[_0x2a5c30(0x160)]==_0x2a5c30(0x229)||_0x4aa339['orderstatus']==_0x2a5c30(0x10b))_0x4aa339['orderstatus']='none';}),currentCoins[_0x4e17b8(0xf9)]((_0x1f3f9a,_0x3782ec)=>_0x1f3f9a[_0x4e17b8(0x1cf)]<_0x3782ec[_0x4e17b8(0x1cf)]?0x1:_0x3782ec[_0x4e17b8(0x1cf)]<_0x1f3f9a[_0x4e17b8(0x1cf)]?-0x1:0x0);const _0x3a83a5=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3a83a5[_0x4e17b8(0xf2)],'usd':_0x3a83a5['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x2a73d1},proxyEmit(_0x4e17b8(0x1ac),{'serverversion':serverversion,'balances':lastBalances});if(_0x4e6aac){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x2a73d1});else{if(lockOrders==ORDERS[_0x4e17b8(0x170)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2a73d1});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x2cc10b=getNormalizedPerformance();getStartingBalances(_0x2cc10b),emitPerformance(_0x2cc10b);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2fcec8=getNormalizedPerformance();emitPerformance(_0x2fcec8),getStartingBalances(_0x2fcec8),logger[_0x4e17b8(0x137)](_0x4e17b8(0x172));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4f0ae1=_0x357b7f;if(!lastBalances)return;let _0x3a4631=[],_0x5f1208,_0x983851=JSON[_0x4f0ae1(0x19d)](lastBalances[_0x4f0ae1(0x1ad)]);_0x983851[_0x4f0ae1(0xf9)]((_0x1dfae3,_0x54f2f1)=>_0x1dfae3[_0x4f0ae1(0x154)]>_0x54f2f1['coin']?0x1:_0x54f2f1[_0x4f0ae1(0x154)]>_0x1dfae3[_0x4f0ae1(0x154)]?-0x1:0x0),_0x983851[_0x4f0ae1(0x175)](_0x3174c6=>{const _0x362fed=_0x4f0ae1;let _0x598d9b={'coin':_0x3174c6[_0x362fed(0x154)],'number':_0x3174c6[_0x362fed(0x14a)],'price':_0x3174c6[_0x362fed(0xc5)]};_0x3a4631[_0x362fed(0x24d)](_0x598d9b);});const _0x77e7a7=await getFiat();_0x5f1208={'date':lastBalances[_0x4f0ae1(0x1b0)]['split']('\x20')[0x0],'eur':_0x77e7a7[_0x4f0ae1(0xf2)],'usd':_0x77e7a7['usd'],'coins':_0x3a4631};let _0x124cf0=dbPerformance['get'](_0x4f0ae1(0xdc))[_0x4f0ae1(0x207)]({'date':_0x5f1208[_0x4f0ae1(0x20b)]})[_0x4f0ae1(0x24e)]();_0x124cf0?_0x5f1208[_0x4f0ae1(0x20b)]!=config[_0x4f0ae1(0x22f)]&&dbPerformance[_0x4f0ae1(0x13b)](_0x4f0ae1(0xdc))['find']({'date':_0x5f1208[_0x4f0ae1(0x20b)]})[_0x4f0ae1(0x21e)](_0x5f1208)[_0x4f0ae1(0x208)]():dbPerformance[_0x4f0ae1(0x13b)]('data')['push'](_0x5f1208)[_0x4f0ae1(0x208)](),lastPerformanceStored=getHour();}function _0x14e9(){const _0x7babd9=['secure','no\x20open\x20orders','0\x20-\x20EXECUTION:\x20','336DLWgze','Fee\x20discount\x20refund\x20detected:\x20','concat','watchTransactions()','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','storeConfiguration','ORDERS.UNLOCKING','\x20not\x20available','join','Invalid\x20API\x20key\x20or\x20secret\x20entered','rightTxt','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','watchTrades()','breakeven','parse','getCoins()','closed','placeOrder','exchange\x20not\x20reloaded','\x20network\x20error','side','1\x20-\x20Handle\x20open\x20orders','apiSecret','InsufficientFunds','search','privateKey','RateLimitExceeded','737886eqtcnT','40ckoXsx','balances','portfolio','16430IZlYhq','highest','time','28446hcHbFd','event-history','spot','warning','\x20orders\x20in\x20less\x20than\x20','coin-loading-progress','entries','cancelOrder','progress','timeshift','startnumber','change24h','getPortfolio(1)','trade','<b>Bot\x20','parseISO','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','settings','date-fns','initial','sendMetricsTelegram','-events.json','market','bot-','stringify','emojisell','toUpperCase','botname','recreate','watchTrades','delta',',\x20must\x20be\x20a\x203\x20digit\x20number','getFullYear','starting-balances','\x20>\x20','openOrders','LOCKED','Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','Error\x20details:','watchOrders()','red_yellow_blue','order','./config/','version','fiat','API-key\x20format\x20invalid','has','sha256','yyyy-MM-dd\x27T\x27HH:mm:ss','exchange','\x20minutes','args','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','liquidity','\x20minutes\x20-\x20','2\x20-\x20FILLED\x20unknown\x20order:\x20','bot','util','apiKey','Market','sendPortfolioTelegram','excluded','/backup/','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20>\x20[DEBUG]\x20','shift','cost','function','ccxt','Initiating\x20exchange\x20reload','2030ameHmY','\x20not\x20responding','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20metrics:</b>\x20\x0a\x0a','Insufficient\x20funds\x20to\x20execute\x20order:\x20','lowdb/adapters/FileSync','constructor','Net\x20','2\x20-\x20Handled\x20open\x20orders','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','32nFiAfO','290YVFUpv','BUSD','ExchangeError','ORDERS.UNLOCKED','realized','find','write','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','-------------------------------\x0a','date','apiPassword','percentage','leftTxt','ETH','BTC','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','botID',':\x20timer\x20>','<b>','(((.+)+)+)+$','ticker','Huobipro','2\x20-\x20Validate\x20orders:\x20','getPortfolio(2)','keys','stopExchange()','includes','************','assign','\x20portfolio:</b>\x20\x0a\x0a','cancelLoading','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','USDP','Bot\x20','Saving\x20configuration','substring','5262BqojPO','API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','restart','filled','net-basecoin','OrderNotFound','createOrder','No\x20more\x20open\x20orders\x20-\x20','onepagemode','startdate','getStartingBalances','hybrid-crypto-js','replace','loadSymbols()','event','2.6.0','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','88YYRCed','change','freeze','success','datetime','existsSync','loading-canceled','-performance.json','cloneDeep','BNB','Net\x20effect','\x20value','emitHistory','AuthenticationError','initclient','none','map','getMonth','\x20order:\x20','yargs/yargs','1\x20-\x20FILLED:\x20','push','value','/USD','autoliquidity','length','\x20-\x20bot\x20not\x20started','placeOrder()','abs','apply','fetchClosedOrders','milliseconds','fromCodePoint','getAllOrders()','Limit\x20(high-margin)','InvalidOrder','valid','path','send','getSeconds','2\x20-\x20Orders\x20unlocked','last','argv','total','round','log','buy','offset','fee','decrypt','toString','Resetting\x20coin\x20results:\x20','amount','Limit\x20(low-margin)','currency','basecoin','filter','bb-secure.json','customId','colorscheme','storeFiat','padEnd','MIN_NOTIONAL','./logs/','data','usd','TUSD','NetworkError','\x20exchange\x20error','recent20','001','timestamp','Error:\x20Invalid\x20argument\x20','min','coins','Error\x20while\x20deleting\x20files:\x20','Reset\x20|\x20','Cex','timeout','ID:\x20','\x20-\x20pausing\x20bot\x20for\x20','changes','watchOrders','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','showConfig','Resetting\x20bot\x20history','eur','yyyy/MM/dd','storeHeadless','orderId','fetchTickers','full','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','sort','password','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','enabled','RequestTimeout','\x20has\x20a\x2024h\x20drop\x20of\x20','exec','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','Binance','padStart','UNLOCKING','exchanges','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','Cooldown\x20ended\x20-\x20balancing\x20resumed','set','page','isEqual','2\x20-\x20FILLED\x20known\x20order:\x20','canceled','Portfolio\x20change\x20detected:\x20','removed','add','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','limit-high','Exception\x20thrown\x20in\x20','Executing\x20exchange\x20reload','limit-low','headless','BNB/','cooldown','InvalidNonce','Uncaught\x20Exception:','fetchOpenOrders','\x20|\x20lock\x20orders:\x20','getMinutes','.json','showname','type','2888263DLfdvc','starting-balance-','Waited\x20','fetchBalance','defaults','findIndex','\x20|\x20Custom\x20ID:\x20','\x20API\x20secret\x20is\x20invalid','final','basecoinvalue','resetHistory','target','error','1\x20-\x20Validate\x20orders:\x20','-results.json','splice','remove','RSA-OAEP','startsWith','ongoing','distribution','random','OnMaintenance','debug','<pre>','string','sortBy','get','Order(s)\x20not\x20validated\x20after\x20','Initializing\x20coin\x20results','price','message','Manual\x20balancing\x20required','fees','USDT','52443trCzPx','cancel','\x20|\x20','Pausing\x20for\x20','EUR','ordertype','balancing\x20resumed','number','remainingSymbols','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Loading\x20completed','emojibuy','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','USD','limits','getPortfolio','Avoiding\x20continuous\x20order\x20attempts','coin','split','getOpenOrders()','bots','Exchange','added','Order\x20filled:\x20','3\x20-\x20handling\x20FILLED\x20order:\x20','test','uncaughtException','net-fiat','unlinkSync','orderstatus','5688bhRzMM','slice','-config.json','logs','performance','sell','fetchTicker','open','configuration','2.3.5','status','USDC','threshold','format','pro','UNLOCKED','cancelOrders()','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','ask','\x20closed\x20the\x20connection','forEach','recreateCoinResults()','\x20:\x20','\x20API\x20key\x20is\x20invalid','reverse','initTickers()','toggleBotMode','active','getTime','symbol','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','toLowerCase','sells','getHours','running','limit','max','./version.json','toFixed','getDate','no\x20additional\x20symbols','65416UtbmPq'];_0x14e9=function(){return _0x7babd9;};return _0x14e9();}function getNormalizedPerformance(){const _0x4a17f8=_0x357b7f;let _0x400bbc=[];if(dbPerformance[_0x4a17f8(0x1df)](_0x4a17f8(0xdc))[_0x4a17f8(0x24e)]()){let _0x2f4e57=dbPerformance[_0x4a17f8(0x13b)](_0x4a17f8(0xdc))[_0x4a17f8(0x240)]()[_0x4a17f8(0xd4)](_0x149229=>{const _0x24dff7=_0x4a17f8;if(_0x149229['coins'][_0x24dff7(0x251)]==0x0)return![];else return!![];})[_0x4a17f8(0x13a)]('date')[_0x4a17f8(0x24e)](),_0xb5b45c=[...config[_0x4a17f8(0x1e6)]];_0xb5b45c[_0x4a17f8(0xf9)]((_0x38d9c1,_0x14607e)=>_0x38d9c1[_0x4a17f8(0x20b)]>_0x14607e[_0x4a17f8(0x20b)]?-0x1:_0x14607e[_0x4a17f8(0x20b)]>_0x38d9c1['date']?0x1:0x0);let _0x3164bf=0x1,_0x26df18=[],_0x9dac8f=0x0;_0x2f4e57[_0x4a17f8(0x162)]()[_0x4a17f8(0x179)]()[_0x4a17f8(0x175)]((_0x4854ab,_0xc2d8e0)=>{const _0x45e77b=_0x4a17f8;if(_0xb5b45c[_0x9dac8f]){if(_0x2f4e57[_0x2f4e57['length']-_0xc2d8e0]&&_0xb5b45c[_0x9dac8f]['date']==_0x2f4e57[_0x2f4e57[_0x45e77b(0x251)]-_0xc2d8e0]['date']){if(_0xc2d8e0<_0x2f4e57['length']){let _0x51e681=0x0,_0xeaacf3=0x0;_0x2f4e57[_0x2f4e57[_0x45e77b(0x251)]-_0xc2d8e0]['coins'][_0x45e77b(0x175)](_0x25f898=>{const _0x273abd=_0x45e77b;_0xeaacf3+=_0x25f898[_0x273abd(0x14a)]*_0x25f898['price'];}),_0xb5b45c[_0x9dac8f][_0x45e77b(0xed)][_0x45e77b(0x175)](_0x4a0642=>{const _0x40fdc1=_0x45e77b;_0x51e681+=_0x4a0642[_0x40fdc1(0x14a)]*_0x4a0642[_0x40fdc1(0x13e)];}),_0x3164bf*=_0x51e681/(_0xeaacf3-_0x51e681)+0x1;}_0x9dac8f++;}}let _0x4b2856=0x0;_0x4854ab[_0x45e77b(0xe6)][_0x45e77b(0x175)](_0x43f881=>{const _0x295cf8=_0x45e77b;_0x4b2856+=_0x43f881[_0x295cf8(0x14a)]*_0x43f881[_0x295cf8(0x13e)];}),_0x26df18[_0x2f4e57['length']-_0xc2d8e0-0x1]=_0x4b2856*(_0x3164bf-0x1);});let _0x1407f2=[];_0xb5b45c=[...config[_0x4a17f8(0x1e6)]]||[];let _0x225836=0x0;_0x9dac8f=0x0,_0x2f4e57['forEach']((_0xade017,_0x1cb38c)=>{const _0x5eac40=_0x4a17f8;if(_0xb5b45c[_0x9dac8f]){const _0x6b0590=fns[_0x5eac40(0x19d)](_0xb5b45c[_0x9dac8f][_0x5eac40(0x20b)],_0x5eac40(0xf3),new Date()),_0x3cea2f=fns[_0x5eac40(0x19d)](_0xade017[_0x5eac40(0x20b)],_0x5eac40(0xf3),new Date());if(fns[_0x5eac40(0x109)](_0x6b0590,_0x3cea2f)){let _0x2c8585=0x0;_0xb5b45c[_0x9dac8f][_0x5eac40(0xed)][_0x5eac40(0x175)](_0x413f56=>{const _0x20a7a6=_0x5eac40;!_0x1407f2[_0x413f56[_0x20a7a6(0x154)]]?_0x1407f2[_0x413f56[_0x20a7a6(0x154)]]=_0x413f56['number']:(_0x2c8585=_0x1407f2[_0x413f56[_0x20a7a6(0x154)]],_0x1407f2[_0x413f56[_0x20a7a6(0x154)]]+=_0x413f56[_0x20a7a6(0x14a)]);const _0x101900=_0xade017['coins']['find'](_0x51b455=>_0x51b455[_0x20a7a6(0x154)]==_0x413f56[_0x20a7a6(0x154)]);(!_0x101900||_0x101900[_0x20a7a6(0x14a)]==0x0)&&(_0x225836+=(-_0x413f56[_0x20a7a6(0x14a)]-_0x2c8585)*_0x413f56[_0x20a7a6(0x13e)]);}),_0x9dac8f++;}}_0xade017[_0x5eac40(0xe6)][_0x5eac40(0x175)]((_0xf29463,_0x228e66)=>{const _0x18d24a=_0x5eac40;_0x1407f2[_0xf29463[_0x18d24a(0x154)]]&&(_0xf29463[_0x18d24a(0x1c4)]=_0x1407f2[_0xf29463[_0x18d24a(0x154)]]);}),_0x400bbc[_0x5eac40(0x24d)]({'date':_0xade017['date'],'eur':_0xade017[_0x5eac40(0xf2)],'usd':_0xade017[_0x5eac40(0xdd)],'offset':_0x26df18[_0x1cb38c],'netoffset':_0x225836,'coins':_0xade017[_0x5eac40(0xe6)]});});}return _0x400bbc;}function emitPerformance(_0x2f40a7){const _0x33d57c=_0x357b7f;_0x2f40a7[_0x33d57c(0x251)]!==0x0?(proxyEmit(_0x33d57c(0x165),_0x2f40a7),lastPerformanceEmitted=getDate()):proxyEmit(_0x33d57c(0x165),[]);}function getPerf(_0x1697fe,_0x43cbe2){const _0x43898=_0x357b7f;let _0x539799=0x0,_0x67a1be=0x0,_0x5687a3=0x0;_0x1697fe[_0x43898(0xe6)][_0x43898(0x175)](_0x1a2f94=>{_0x539799+=_0x1a2f94['number']*_0x1a2f94['price'];});_0x43cbe2&&(_0x539799+=_0x1697fe['offset']);if(config[_0x43898(0xd3)]==='BTC'||config[_0x43898(0xd3)]===_0x43898(0x20f))_0x67a1be=_0x539799*_0x1697fe[_0x43898(0xf2)],_0x5687a3=_0x539799*_0x1697fe[_0x43898(0xdd)];else{if(usdBasecoins[_0x43898(0x21c)](config['basecoin']))_0x67a1be=_0x539799*_0x1697fe[_0x43898(0xf2)]/_0x1697fe[_0x43898(0xdd)],_0x5687a3=_0x539799;else config[_0x43898(0xd3)]==='EUR'&&(_0x67a1be=_0x539799,_0x5687a3=_0x539799*_0x1697fe[_0x43898(0xdd)]/_0x1697fe[_0x43898(0xf2)]);}return[_0x539799,_0x67a1be,_0x5687a3];}function getKPIs(_0x2b0db2,_0x39e04b=_0x357b7f(0x147)){const _0xe7d957=_0x357b7f,_0x3c5f10=config['basecoin'],_0x163213=lastBalances,_0xd76dd6=currentCoins,_0x180e1d=getNormalizedPerformance(),_0x54dd12=_0x2b0db2==='basecoin'?_0x3c5f10:_0x2b0db2===_0xe7d957(0x1dd)||_0x2b0db2==='net-fiat'?_0x39e04b:_0xe7d957(0x1fe)+_0x3c5f10,_0x3b3e57=_0x2b0db2===_0xe7d957(0x22a)?_0xe7d957(0x242):_0x2b0db2==='net-fiat'?_0xe7d957(0x242):_0x54dd12+_0xe7d957(0x243),_0x2a7fc7=_0x2b0db2===_0xe7d957(0x22a)||_0x2b0db2==='net-fiat'?_0xe7d957(0x242):_0x54dd12+'\x20change';let _0x4fce72=0x0;_0xd76dd6['forEach'](_0x40a095=>{_0x4fce72+=_0x40a095['number']*_0x40a095['last'];});if(_0x2b0db2===_0xe7d957(0x1dd)||_0x2b0db2===_0xe7d957(0x15e)){if(_0x3c5f10===_0xe7d957(0x210)||_0x3c5f10===_0xe7d957(0x20f))_0x4fce72=_0x4fce72*(_0x39e04b===_0xe7d957(0x147)?_0x163213[_0xe7d957(0xf2)]:_0x163213['usd']);else{if(usdBasecoins[_0xe7d957(0x21c)](_0x3c5f10))_0x4fce72=_0x4fce72*(_0x39e04b===_0xe7d957(0x147)?_0x163213[_0xe7d957(0xf2)]/_0x163213[_0xe7d957(0xdd)]:0x1);else _0x3c5f10===_0xe7d957(0x147)&&(_0x4fce72=_0x4fce72*(_0x39e04b==='EUR'?0x1:_0x163213['usd']/_0x163213[_0xe7d957(0xf2)]));}}let _0x3441d1;if(_0x4fce72!==0x0){if(_0x2b0db2===_0xe7d957(0xd3))_0x3441d1=(_0x4fce72/startingBalances[_0xe7d957(0xd3)]-0x1)*0x64;else{if(_0x39e04b===_0xe7d957(0x147))_0x3441d1=(_0x4fce72/startingBalances[_0xe7d957(0xf2)]-0x1)*0x64;else _0x3441d1=(_0x4fce72/startingBalances[_0xe7d957(0xdd)]-0x1)*0x64;}let _0x2cef0b=0x0;if(startingBalances[_0xe7d957(0xe6)])_0xd76dd6[_0xe7d957(0x175)](_0x247c54=>{const _0xf8f5b3=_0xe7d957;let _0x277a39=startingBalances[_0xf8f5b3(0xe6)]['find'](_0x441eb0=>_0x441eb0[_0xf8f5b3(0x154)]===_0x247c54[_0xf8f5b3(0x154)]);if(_0x277a39&&_0x277a39[_0xf8f5b3(0x154)]&&_0x247c54[_0xf8f5b3(0x14a)]!==0x0)_0x2cef0b+=_0x277a39['number']*_0x247c54[_0xf8f5b3(0xc5)];});let _0x2a2dec=0x0;if(_0x180e1d['length']!==0x0){let _0x3e8e7d=_0x180e1d[_0x180e1d[_0xe7d957(0x251)]-0x1];_0x2a2dec=_0x3e8e7d['netoffset'];}_0x2cef0b-=_0x2a2dec;_0x2b0db2===_0xe7d957(0x22a)&&(_0x3441d1=(_0x4fce72-_0x2cef0b)/startingBalances[_0xe7d957(0xd3)]*0x64,_0x4fce72=_0x4fce72-_0x2cef0b);if(_0x2b0db2==='net-fiat'){let _0x28ef08=_0x39e04b===_0xe7d957(0x147)?startingBalances[_0xe7d957(0xf2)]:startingBalances[_0xe7d957(0xdd)];if(_0x3c5f10===_0xe7d957(0x210)||_0x3c5f10===_0xe7d957(0x20f))_0x2cef0b=_0x39e04b===_0xe7d957(0x147)?_0x2cef0b*_0x163213[_0xe7d957(0xf2)]:_0x2cef0b*_0x163213[_0xe7d957(0xdd)];else{if(usdBasecoins['includes'](_0x3c5f10))_0x2cef0b=_0x39e04b==='EUR'?_0x2cef0b*_0x163213['eur']/_0x163213[_0xe7d957(0xdd)]:_0x2cef0b;else _0x3c5f10===_0xe7d957(0x147)&&(_0x2cef0b=_0x39e04b==='EUR'?_0x2cef0b:_0x2cef0b*_0x163213[_0xe7d957(0xdd)]/_0x163213[_0xe7d957(0xf2)]);}_0x3441d1=(_0x4fce72-_0x2cef0b)/_0x28ef08*0x64,_0x4fce72=_0x4fce72-_0x2cef0b;}if(_0x3441d1){if(_0x3441d1<0x64)_0x3441d1=_0x3441d1[_0xe7d957(0x187)](0x2);else{if(_0x3441d1<0x3e8)_0x3441d1=_0x3441d1['toFixed'](0x1);else _0x3441d1=_0x3441d1[_0xe7d957(0x187)](0x0);}}else _0x3441d1=Number('0')['toFixed'](0x2);if(_0x4fce72){if(Math[_0xe7d957(0x254)](_0x4fce72)<0.000001)_0x4fce72=_0x4fce72['toFixed'](0x2);else{if(Math[_0xe7d957(0x254)](_0x4fce72)<0.1)_0x4fce72=_0x4fce72[_0xe7d957(0x187)](0x6);else{if(Math[_0xe7d957(0x254)](_0x4fce72)<0x1)_0x4fce72=_0x4fce72[_0xe7d957(0x187)](0x5);else{if(Math['abs'](_0x4fce72)<0xa)_0x4fce72=_0x4fce72[_0xe7d957(0x187)](0x4);else{if(Math[_0xe7d957(0x254)](_0x4fce72)<0x64)_0x4fce72=_0x4fce72[_0xe7d957(0x187)](0x3);else{if(Math[_0xe7d957(0x254)](_0x4fce72)<0x3e8)_0x4fce72=_0x4fce72[_0xe7d957(0x187)](0x2);else _0x4fce72=_0x4fce72[_0xe7d957(0x187)](0x2);}}}}}}else _0x4fce72=Number('0')[_0xe7d957(0x187)](0x2);}else _0x3441d1=Number('0')[_0xe7d957(0x187)](0x2);return{'value':_0x4fce72,'change':_0x3441d1,'leftTxt':_0x3b3e57,'rightTxt':_0x2a7fc7};}async function getStartingBalances(_0x256bb7,_0x2a8a17=!![]){const _0x21f819=_0x357b7f;if(_0x256bb7[_0x21f819(0x251)]!==0x0){const [_0x897068,_0x2e50a4,_0x4cf2f9]=getPerf(_0x256bb7[0x0],!![]);let _0x5b0da7=[];config[_0x21f819(0x1ad)][_0x21f819(0x175)](_0xf276ee=>{const _0x5074c5=_0x21f819;let _0x3c3ab4=0x0,_0x15a7b4;config[_0x5074c5(0x1e6)][_0x5074c5(0x175)](_0xd22c7d=>{const _0xccaef5=_0x5074c5;let _0x1af02b=_0xd22c7d[_0xccaef5(0xed)][_0xccaef5(0x207)](_0x30dbf8=>_0x30dbf8[_0xccaef5(0x154)]==_0xf276ee[_0xccaef5(0x154)]);if(_0x1af02b){_0x3c3ab4+=_0x1af02b['number'];if(!_0x15a7b4)_0x15a7b4=_0x1af02b[_0xccaef5(0x13e)];}}),_0x5b0da7[_0x5074c5(0x24d)]({'coin':_0xf276ee[_0x5074c5(0x154)],'number':_0x3c3ab4,'initialprice':_0x15a7b4});});const _0x58c1d4={'basecoin':_0x897068,'eur':_0x2e50a4,'usd':_0x4cf2f9,'coins':_0x5b0da7};if(_0x2a8a17)proxyEmit(_0x21f819(0x1d2),_0x58c1d4);startingBalances=_0x58c1d4;}}function headlessMode(_0xa30c60){const _0x3bdd81=_0x357b7f;let _0x48e486=_0xa30c60[_0x3bdd81(0x1ad)],_0x9cf70b=_0xa30c60[_0x3bdd81(0x16d)],_0x175a41=[];for(let _0xb84eb0 of _0x48e486){if(_0xb84eb0[_0x3bdd81(0x154)]!=config['basecoin']){if(_0xb84eb0[_0x3bdd81(0x1cf)]>=_0x9cf70b/0x64){if(_0xb84eb0[_0x3bdd81(0xc0)])_0x175a41[_0x3bdd81(0x24d)](_0xb84eb0);}else{if(_0xb84eb0[_0x3bdd81(0x1cf)]<=-_0x9cf70b/0x64){if(_0xb84eb0[_0x3bdd81(0xc0)])_0x175a41[_0x3bdd81(0x24d)](_0xb84eb0);}}}}_0x175a41[_0x3bdd81(0x251)]>0x0&&placeOrder(_0x175a41);}function notifyBalance(_0x67097f){const _0x2cb9d3=_0x357b7f;let _0x19c6cc=_0x67097f[_0x2cb9d3(0x1ad)],_0x432064=_0x67097f['threshold'],_0x12460b=[];for(let _0x4abae0 of _0x19c6cc){if(_0x4abae0[_0x2cb9d3(0x154)]!=config[_0x2cb9d3(0xd3)]){if(_0x4abae0['delta']>=_0x432064/0x64){if(_0x4abae0[_0x2cb9d3(0xc0)])_0x12460b[_0x2cb9d3(0x24d)](_0x4abae0);}else{if(_0x4abae0[_0x2cb9d3(0x1cf)]<=-_0x432064/0x64){if(_0x4abae0['valid'])_0x12460b[_0x2cb9d3(0x24d)](_0x4abae0);}}}}if(_0x12460b['length']>0x0){let _0x1bddba=_0x12460b[_0x2cb9d3(0x248)](_0x3c6aa0=>_0x3c6aa0[_0x2cb9d3(0x154)]);_0x1bddba[_0x2cb9d3(0xf9)]();let _0x1411d9=_0x1bddba[_0x2cb9d3(0x197)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2cb9d3(0x1b4),_0x2cb9d3(0x140));lastCoinsToBalance=_0x1411d9;}}function symbolToCoin(_0x287fdd){const _0x356c3c=_0x357b7f;let _0x187c2a;if(_0x287fdd[_0x356c3c(0x21c)]('/'+config[_0x356c3c(0xd3)]))_0x187c2a=_0x287fdd[_0x356c3c(0x232)]('/'+config[_0x356c3c(0xd3)],'');if(_0x287fdd[_0x356c3c(0x21c)](config['basecoin']+'/'))_0x187c2a=_0x287fdd[_0x356c3c(0x232)](config[_0x356c3c(0xd3)]+'/','');return _0x187c2a;}async function unlockOrders(){const _0x1f7a68=_0x357b7f;if(allOrdersPlaced&&lockOrders==ORDERS[_0x1f7a68(0x1d5)]){logger[_0x1f7a68(0x137)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x1f7a68(0x103)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x24f151=await getCoins();[currentCoins,currentCoinsAll]=_0x24f151,validateOrdersState=_0x1f7a68(0x1c4),persistOpenOrders([]),lockOrders=ORDERS[_0x1f7a68(0x170)],logger[_0x1f7a68(0x137)](_0x1f7a68(0xc4));}}async function validateOrders(_0x681e42){const _0xf75ac9=_0x357b7f;if(_0x681e42)validateOrdersState=_0x681e42;logger[_0xf75ac9(0x137)](_0xf75ac9(0x12d)+validateOrdersState+_0xf75ac9(0x11b)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0xf75ac9(0x195):_0xf75ac9(0x205)));let _0x2b25f2=[],_0x196ce8=config[_0xf75ac9(0x148)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0xf75ac9(0xea)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0xf75ac9(0x1d5)])return;logger[_0xf75ac9(0x137)](_0xf75ac9(0x218)+validateOrdersState),lastOrders[_0xf75ac9(0x175)](_0x57a1e4=>{const _0x4003de=_0xf75ac9;let _0x3b1167=![];_0x57a1e4[_0x4003de(0x229)]>0x0&&(_0x3b1167=!![]),_0x2b25f2[_0x4003de(0x24d)](_0x3b1167),_0x3b1167&&config['ordertype']!=_0x4003de(0x1c7)&&logHistory('order',_0x4003de(0x15a)+_0x57a1e4[_0x4003de(0x17e)]+'\x20'+_0x57a1e4[_0x4003de(0x1a3)]+'\x20#'+formatResult(_0x57a1e4[_0x4003de(0x229)],0x8)+'\x20@'+formatResult(_0x57a1e4[_0x4003de(0x13e)],0x8));}),_0x2b25f2[_0xf75ac9(0x175)]((_0x2f7df8,_0x173c9a)=>{if(_0x2f7df8)lastOrders['splice'](_0x173c9a,0x1);}),persistOpenOrders(lastOrders);const _0xd70d27=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0xf75ac9(0x149);if(validateOrdersState==_0xf75ac9(0x1c4)){validateOrdersState=_0xf75ac9(0x133);if(_0x2b25f2[_0xf75ac9(0x21c)](![])){if(config[_0xf75ac9(0x148)]==_0xf75ac9(0x1c7)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0xf75ac9(0x133)){if(_0x2b25f2[_0xf75ac9(0x21c)](![])){}else{if(allOrdersPlaced){if(config[_0xf75ac9(0x148)]==_0xf75ac9(0x1c7)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0xf75ac9(0x128))_0x2b25f2[_0xf75ac9(0x21c)](![])&&(config['ordertype']==_0xf75ac9(0x1c7)?logHistory(_0xf75ac9(0x23b),_0xf75ac9(0x13c)+Math[_0xf75ac9(0xc8)](_0x196ce8*validateOrderInterval/0xea60)+_0xf75ac9(0x1e7)+_0xd70d27):(await cancelOrders(),logHistory(_0xf75ac9(0x23b),_0xf75ac9(0x1f9)+Math[_0xf75ac9(0xc8)](_0x196ce8*validateOrderInterval/0xea60)+_0xf75ac9(0x1e7)+_0xd70d27))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0xf75ac9(0x148)]!=_0xf75ac9(0x1c7))logHistory(_0xf75ac9(0x23b),_0xf75ac9(0x22d)+_0xd70d27);await unlockOrders();}}}}}async function cancelOrders(){const _0x5407c9=_0x357b7f;lastOrders[_0x5407c9(0x175)](async _0x5dab8e=>{const _0x45846a=_0x5407c9;try{const _0x410de4=await exchange['cancelOrder'](_0x5dab8e['orderId'],_0x5dab8e['symbol']);}catch(_0x3ee8db){if(_0x3ee8db[_0x45846a(0xce)]()['includes'](_0x45846a(0x22b))){}else await handleError(_0x3ee8db,_0x45846a(0x171));}});}async function initCoinResults(_0x5b8f5c){const _0x4f0d02=_0x357b7f;_0x5b8f5c?logger['debug'](_0x4f0d02(0xcf)+_0x5b8f5c):logger[_0x4f0d02(0x137)](_0x4f0d02(0x13d)),config[_0x4f0d02(0x1ad)][_0x4f0d02(0x175)](_0x148691=>{const _0x388d89=_0x4f0d02;if(!_0x148691['excluded']&&_0x148691['coin']!=config[_0x388d89(0xd3)]){const _0x45049f=currentCoins[_0x388d89(0x207)](_0xb7d5=>_0xb7d5[_0x388d89(0x154)]==_0x148691[_0x388d89(0x154)]),_0x2291e4=global[_0x388d89(0x216)][noslash(_0x148691[_0x388d89(0x17e)])];let _0x34ec3c=_0x45049f?_0x45049f['number']:null,_0xf46a87=_0x148691['reverse']?0x1/_0x2291e4:_0x2291e4,_0x980d71;config[_0x388d89(0x1e6)][_0x388d89(0x175)](_0x2c8f5d=>{const _0x238845=_0x388d89;!_0x980d71&&(_0x980d71=_0x2c8f5d[_0x238845(0xed)]['find'](_0x2c67a6=>_0x2c67a6[_0x238845(0x154)]==_0x148691[_0x238845(0x154)]),_0x980d71&&(_0x34ec3c=_0x980d71['number'],_0xf46a87=_0x980d71[_0x238845(0x13e)]));});let _0x16eb3b=dbCoinResults[_0x388d89(0x13b)]('coins')[_0x388d89(0x207)]({'coin':_0x148691[_0x388d89(0x154)]})[_0x388d89(0x24e)]();if(!_0x16eb3b){const _0x5d6241={'coin':_0x148691[_0x388d89(0x154)],'number':_0x34ec3c,'breakeven':_0xf46a87,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x388d89(0x13b)](_0x388d89(0xe6))['push'](_0x5d6241)[_0x388d89(0x208)]();}else{if(_0x5b8f5c&&_0x148691[_0x388d89(0x154)]==_0x5b8f5c){const _0x3129b8={'coin':_0x148691['coin'],'number':_0x34ec3c,'breakeven':_0xf46a87,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x388d89(0x13b)](_0x388d89(0xe6))[_0x388d89(0x207)]({'coin':_0x148691[_0x388d89(0x154)]})[_0x388d89(0x21e)](_0x3129b8)[_0x388d89(0x208)]();}}}});}async function updateCoinResults(_0x25ae72,_0x17da53=![]){const _0x59521d=_0x357b7f;let _0xf0237d,_0x31c78b,_0xeeb39b,_0x3db5a3,_0x50b42b,_0x33e743,_0x2cbb7e=dbCoinResults[_0x59521d(0x13b)]('coins')[_0x59521d(0x207)]({'coin':_0x25ae72[_0x59521d(0x154)]})['value'](),_0xdf982e=![];_0x2cbb7e&&Object['entries'](_0x2cbb7e)[_0x59521d(0x175)](([_0x13d40a,_0x135cd3])=>{if(_0x135cd3==null)_0xdf982e=!![];});(!_0x2cbb7e||_0xdf982e)&&(await initCoinResults(_0x25ae72[_0x59521d(0x154)]),_0x2cbb7e=dbCoinResults[_0x59521d(0x13b)](_0x59521d(0xe6))[_0x59521d(0x207)]({'coin':_0x25ae72['coin']})[_0x59521d(0x24e)]());_0x25ae72[_0x59521d(0x179)]&&(_0x33e743={'filled':_0x25ae72[_0x59521d(0x229)]*_0x25ae72['price'],'amount':_0x25ae72[_0x59521d(0x229)]*_0x25ae72[_0x59521d(0x13e)],'side':_0x25ae72[_0x59521d(0x1a3)]==_0x59521d(0x166)?_0x59521d(0xca):_0x59521d(0x166),'price':0x1/_0x25ae72[_0x59521d(0x13e)]},_0x25ae72={..._0x25ae72,..._0x33e743});_0x17da53?_0x31c78b=_0x25ae72['side']=='buy'?_0x2cbb7e[_0x59521d(0x14a)]+_0x25ae72[_0x59521d(0x229)]:_0x2cbb7e['number']-_0x25ae72[_0x59521d(0x229)]:_0x31c78b=await getCoinNumber(_0x25ae72[_0x59521d(0x154)]);if(_0x25ae72[_0x59521d(0xcc)]&&_0x25ae72[_0x59521d(0xcc)][_0x59521d(0xd2)]==config['basecoin'])_0xf0237d=_0x25ae72[_0x59521d(0xcc)][_0x59521d(0x1f3)];else{if(_0x25ae72[_0x59521d(0xcc)]&&_0x25ae72['fee'][_0x59521d(0xd2)]==_0x59521d(0x241)&&!_0x17da53)_0xf0237d=_0x25ae72[_0x59521d(0xcc)]['cost']*global['ticker'][_0x59521d(0x241)+config['basecoin']];else _0xf0237d=defaultFee*_0x25ae72[_0x59521d(0x229)]*_0x25ae72[_0x59521d(0x13e)];}_0x25ae72[_0x59521d(0x1a3)]==_0x59521d(0xca)?(_0xeeb39b=_0x31c78b!=0x0?(_0x2cbb7e[_0x59521d(0x19c)]*_0x2cbb7e[_0x59521d(0x14a)]+_0x25ae72['price']*(_0x31c78b-_0x2cbb7e['number'])+_0xf0237d)/_0x31c78b:0x0,_0x3db5a3=_0x2cbb7e[_0x59521d(0x206)]):(_0xeeb39b=_0x31c78b!=0x0?(_0x2cbb7e[_0x59521d(0x19c)]*_0x2cbb7e['number']-_0x25ae72[_0x59521d(0x13e)]*(_0x2cbb7e[_0x59521d(0x14a)]-_0x31c78b)+_0xf0237d)/_0x31c78b:0x0,_0x3db5a3=_0x2cbb7e[_0x59521d(0x206)]+(_0x25ae72[_0x59521d(0x13e)]-_0x2cbb7e[_0x59521d(0x19c)])*_0x25ae72[_0x59521d(0x229)]);_0x50b42b=(_0x25ae72['price']-_0xeeb39b-_0xf0237d/_0x25ae72[_0x59521d(0x229)])*_0x31c78b;let _0x4b0157={'coin':_0x25ae72['coin'],'number':_0x31c78b,'breakeven':formatResult(_0xeeb39b,0x8),'realized':formatResult(_0x3db5a3,0x8),'unrealized':formatResult(_0x50b42b,0x8),'fees':formatResult(_0x2cbb7e[_0x59521d(0x141)]+_0xf0237d,0x8),'sells':_0x25ae72['side']=='sell'?_0x2cbb7e[_0x59521d(0x181)]+0x1:_0x2cbb7e['sells'],'buys':_0x25ae72[_0x59521d(0x1a3)]==_0x59521d(0xca)?_0x2cbb7e['buys']+0x1:_0x2cbb7e['buys']};dbCoinResults[_0x59521d(0x13b)](_0x59521d(0xe6))['find']({'coin':_0x25ae72[_0x59521d(0x154)]})['assign'](_0x4b0157)[_0x59521d(0x208)]();if(!_0x17da53){if(_0x25ae72[_0x59521d(0xcc)]&&_0x25ae72[_0x59521d(0xcc)][_0x59521d(0xd2)]==_0x59521d(0x241)){const _0x50dbf3=currentCoins[_0x59521d(0x207)](_0x12ef27=>_0x12ef27['coin']==_0x59521d(0x241));if(_0x50dbf3){let _0x4ab65a=dbCoinResults[_0x59521d(0x13b)](_0x59521d(0xe6))[_0x59521d(0x207)]({'coin':_0x59521d(0x241)})[_0x59521d(0x24e)]();_0x4b0157={..._0x4ab65a,'number':_0x50dbf3[_0x59521d(0x14a)]},dbCoinResults['get'](_0x59521d(0xe6))[_0x59521d(0x207)]({'coin':'BNB'})['assign'](_0x4b0157)['write']();}}}}async function placeOrder(_0x361617){const _0x385322=_0x357b7f,_0x50b50b=config[_0x385322(0x148)]==_0x385322(0x1c7)?_0x385322(0x1c7):_0x385322(0x184);if(lockOrders==ORDERS[_0x385322(0x170)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x385322(0x1d5)],allOrdersPlaced=![],validateOrdersState=_0x385322(0x1c4);let _0x5e7e28=![];lastOrders=[];for(const _0x38984a of _0x361617){let _0x201ea9,_0x8ac887,_0x487ebc,_0xb3bcbe,_0x48563c,_0x2f271e=_0x38984a[_0x385322(0x17e)];try{const _0x558c96=await exchange[_0x385322(0x167)](_0x2f271e);_0x201ea9=_0x38984a[_0x385322(0x179)]?0x1/_0x38984a[_0x385322(0xc5)]:_0x38984a[_0x385322(0xc5)],_0x8ac887=_0x558c96['bid'],_0x487ebc=_0x558c96[_0x385322(0x173)];_0x38984a[_0x385322(0x179)]?(_0xb3bcbe=_0x38984a[_0x385322(0x1a3)]==_0x385322(0xca)?_0x385322(0x166):'buy',_0x48563c=Math[_0x385322(0x254)](_0x38984a[_0x385322(0x1be)])/_0x201ea9):(_0xb3bcbe=_0x38984a[_0x385322(0x1a3)],_0x48563c=Math[_0x385322(0x254)](_0x38984a[_0x385322(0x1be)]));_0x50b50b==_0x385322(0x184)&&(config[_0x385322(0x148)]==_0x385322(0x111)&&(_0x201ea9=_0xb3bcbe==_0x385322(0xca)?_0x8ac887:_0x487ebc),config[_0x385322(0x148)]==_0x385322(0x114)&&(_0x201ea9=_0xb3bcbe==_0x385322(0xca)?_0x487ebc:_0x8ac887));_0x48563c=formatResult(_0x48563c,0x8),_0x201ea9=formatResult(_0x201ea9,0x8);const _0x7f91e7=_0xb3bcbe=='sell'?config[_0x385322(0x1ca)]?String['fromCodePoint']('0x'+config[_0x385322(0x1ca)])+'\x20':'':config[_0x385322(0x14e)]?String[_0x385322(0x258)]('0x'+config[_0x385322(0x14e)])+'\x20':'',_0x5e143b=_0x50b50b=='market'?_0x385322(0x1ec):config[_0x385322(0x148)]==_0x385322(0x111)?_0x385322(0x25a):_0x385322(0xd1),_0x2a5542=(Math['floor'](Math[_0x385322(0x135)]()*0x35a4e900)+0x5f5e100)[_0x385322(0xce)]();lastOrders[_0x385322(0x24d)]({'customId':_0x2a5542,'symbol':_0x2f271e,'coin':_0x38984a[_0x385322(0x154)],'amount':_0x48563c,'price':_0x201ea9,'side':_0xb3bcbe,'reverse':_0x38984a[_0x385322(0x179)],'filled':0x0});if(_0x50b50b==_0x385322(0x1c7))logHistory(_0x385322(0x1da),''+_0x7f91e7+_0x5e143b+_0x385322(0x24a)+_0x2f271e+'\x20'+_0xb3bcbe+'\x20#'+formatResult(_0x48563c,0x8)+'\x20@'+formatResult(_0x201ea9,0x8));else logHistory(_0x385322(0x1da),''+_0x7f91e7+_0x5e143b+'\x20order:\x20'+_0x2f271e+'\x20'+_0xb3bcbe+'\x20#'+formatResult(_0x48563c,0x8)+'\x20@'+formatResult(_0x201ea9,0x8));let _0xf391b4;_0x50b50b==_0x385322(0x1c7)?_0xb3bcbe==_0x385322(0xca)&&['Bybit','Bitget',_0x385322(0xe9),'Huobi',_0x385322(0x217)][_0x385322(0x21c)](config[_0x385322(0x1e2)])?_0xf391b4=await exchange['createOrder'](_0x2f271e,_0x50b50b,_0xb3bcbe,_0x48563c,_0x201ea9):_0xf391b4=await exchange[_0x385322(0x22c)](_0x2f271e,_0x50b50b,_0xb3bcbe,_0x48563c,undefined):_0xf391b4=await exchange[_0x385322(0x22c)](_0x2f271e,_0x50b50b,_0xb3bcbe,_0x48563c,_0x201ea9);logger[_0x385322(0x137)](_0x385322(0xeb)+_0xf391b4['id']+_0x385322(0x126)+_0x2a5542);const _0xbcee80=lastOrders['length']-0x1;if(_0xbcee80>=0x0&&lastOrders[_0xbcee80][_0x385322(0xd6)]==_0x2a5542){lastOrders[_0xbcee80][_0x385322(0xf5)]=_0xf391b4['id'];if(_0xf391b4[_0x385322(0xd0)])lastOrders[_0xbcee80][_0x385322(0xd0)]=_0xf391b4['amount'];if(_0xf391b4[_0x385322(0x13e)])lastOrders[_0xbcee80][_0x385322(0x13e)]=_0xf391b4[_0x385322(0x13e)];lastOrders[_0xbcee80][_0x385322(0xcc)]=_0xf391b4[_0x385322(0xcc)];}if(config[_0x385322(0x117)]!=0x0){let _0x5854c1=null;if(cooldownTracker[_0x385322(0x251)]==config['cooldown']-0x1)_0x5854c1=cooldownTracker[_0x385322(0x1f2)]();const _0x2d5904=getTimeStamp();cooldownTracker['push'](_0x2d5904);if(_0x5854c1){const _0x5c860f=fns['differenceInSeconds'](new Date(_0x2d5904),new Date(_0x5854c1));if(_0x5c860f<cooldownInterval){logHistory(_0x385322(0x12c),'Executed\x20'+config[_0x385322(0x117)]+_0x385322(0x1b5)+cooldownInterval/0x3c+_0x385322(0x209)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x1f341a){if(_0x1f341a['toString']()[_0x385322(0x21c)](_0x385322(0xda)))lastOrders=lastOrders[_0x385322(0xd4)](_0x57c545=>_0x57c545[_0x385322(0x17e)]!=_0x2f271e),logHistory(_0x385322(0x12c),_0x385322(0x1e5)+_0x2f271e),_0x5e7e28=!![];else{if(_0x1f341a[_0x385322(0xce)]()[_0x385322(0x21c)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x385322(0xd4)](_0x57238f=>_0x57238f[_0x385322(0x17e)]!=_0x2f271e),logHistory(_0x385322(0x12c),'Order\x20amount\x20is\x20invalid:\x20'+_0x2f271e),_0x5e7e28=!![];else{if(_0x1f341a[_0x385322(0xce)]()['includes'](_0x385322(0xbf)))lastOrders=lastOrders[_0x385322(0xd4)](_0x22c212=>_0x22c212['symbol']!=_0x2f271e),logHistory(_0x385322(0x12c),'Order\x20is\x20invalid:\x20'+_0x2f271e),logger[_0x385322(0x137)](_0x1f341a),_0x5e7e28=!![];else _0x1f341a['toString']()[_0x385322(0x21c)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x385322(0xd4)](_0xaba793=>_0xaba793[_0x385322(0x17e)]!=_0x2f271e),logHistory('error',_0x385322(0x1e5)+_0x2f271e),_0x5e7e28=!![]):(lastOrders=lastOrders[_0x385322(0xd4)](_0x10ae3e=>_0x10ae3e[_0x385322(0x17e)]!=_0x2f271e),await handleError(_0x1f341a,_0x385322(0x253),_0x2f271e));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x15178e=config[_0x385322(0x148)]==_0x385322(0x1c7)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x9f074d=_0x385322;validateOrders(_0x9f074d(0x128));},_0x15178e);}else unlockOrders();_0x5e7e28&&config[_0x385322(0x115)]&&(logHistory('error',_0x385322(0x153)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x385322(0x106)));}else{if(coolingDown)!config[_0x385322(0x115)]&&logHistory(_0x385322(0x12c),_0x385322(0x10f));else lockOrders!=ORDERS[_0x385322(0x170)]&&(!config[_0x385322(0x115)]&&(config[_0x385322(0x148)]==_0x385322(0x1c7)?logHistory(_0x385322(0x12c),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x385322(0x12c),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x333b1b){const _0x32cc60=_0x357b7f,_0x1fa69b={...config,'openOrders':_0x333b1b};let _0x31e533=dbConfig[_0x32cc60(0x13b)](_0x32cc60(0x1e9))[_0x32cc60(0x207)]({'botID':botID})[_0x32cc60(0x24e)]();_0x31e533&&dbConfig[_0x32cc60(0x13b)](_0x32cc60(0x1e9))[_0x32cc60(0x207)]({'botID':botID})['assign'](_0x1fa69b)[_0x32cc60(0x208)]();}function restoreOrders(){const _0x12a3c3=_0x357b7f;let _0x16b4b2;config[_0x12a3c3(0x1d4)]&&allOpenOrders[_0x12a3c3(0x175)](_0x9496d6=>{const _0x1ad41f=_0x12a3c3,_0x450449=config[_0x1ad41f(0x1d4)][_0x1ad41f(0x207)](_0x4fd52d=>_0x4fd52d[_0x1ad41f(0xf5)]==_0x9496d6['id']);_0x450449&&(lastOrders[_0x1ad41f(0x24d)](_0x450449),_0x16b4b2=_0x9496d6['timestamp']);});if(lastOrders[_0x12a3c3(0x251)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x12a3c3(0x133),allOrdersPlaced=!![];const _0x293f3c=new Date()[_0x12a3c3(0x17d)](),_0x3f6161=config[_0x12a3c3(0x148)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x16b4b2+_0x3f6161>_0x293f3c){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x34988d=_0x12a3c3;validateOrders(_0x34988d(0x128));},_0x16b4b2+_0x3f6161-_0x293f3c);}else validateOrders(_0x12a3c3(0x128));}}async function sendMetricsTelegram(){const _0x59b364=_0x357b7f;if(!coinsLoaded){process[_0x59b364(0xc2)]({'telegrammsg':_0x59b364(0x100)},_0x1431c0=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x232104='';if(config[_0x59b364(0x11e)])_0x232104='<b>'+config[_0x59b364(0x1cc)]+_0x59b364(0x1fa);else _0x232104='<b>Bot\x20'+botID+_0x59b364(0x1fa);const _0x234729=getKPIs(_0x59b364(0xd3)),_0x2805be=getKPIs('fiat',config['fiat']),_0x3e1648=getKPIs(_0x59b364(0x22a)),_0x5940ed=getKPIs(_0x59b364(0x15e),config[_0x59b364(0x1dd)]);_0x232104+=_0x59b364(0x138),_0x232104+=_0x234729[_0x59b364(0x20e)]+_0x59b364(0x177)+_0x234729[_0x59b364(0x24e)]+'\x0a',_0x232104+=_0x234729['rightTxt']+':\x20'+_0x234729[_0x59b364(0x239)]+'%\x0a',_0x232104+=_0x2805be[_0x59b364(0x20e)]+_0x59b364(0x177)+_0x2805be[_0x59b364(0x24e)]+'\x0a',_0x232104+=_0x2805be[_0x59b364(0x199)]+':\x20'+_0x2805be['change']+'%\x0a',_0x232104+=_0x3e1648[_0x59b364(0x20e)]+':\x20'+_0x3e1648['value']+'\x20('+config[_0x59b364(0xd3)]+')\x0a',_0x232104+=_0x3e1648[_0x59b364(0x199)]+':\x20'+_0x3e1648['change']+'%\x20('+config[_0x59b364(0xd3)]+')\x0a',_0x232104+=_0x5940ed['leftTxt']+':\x20'+_0x5940ed['value']+'\x20('+config[_0x59b364(0x1dd)]+')\x0a',_0x232104+=_0x5940ed[_0x59b364(0x199)]+':\x20'+_0x5940ed[_0x59b364(0x239)]+'%\x20('+config[_0x59b364(0x1dd)]+')\x0a',_0x232104+='</pre>',process[_0x59b364(0xc2)]({'telegrammsg':_0x232104},_0x4c0a7e=>{});}async function sendPortfolioTelegram(){const _0x24114d=_0x357b7f;if(!coinsLoaded){process[_0x24114d(0xc2)]({'telegrammsg':_0x24114d(0x100)},_0x42686c=>{});return;}let _0x59d9a0='';if(config['showname'])_0x59d9a0=_0x24114d(0x214)+config[_0x24114d(0x1cc)]+_0x24114d(0x21f);else _0x59d9a0=_0x24114d(0x1bf)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x59d9a0+=_0x24114d(0x138),_0x59d9a0+=_0x24114d(0x20a),_0x59d9a0+=_0x24114d(0x1f0),_0x59d9a0+=_0x24114d(0x20a),currentCoins[_0x24114d(0x175)](_0x394eec=>{const _0x2740f9=_0x24114d;_0x59d9a0+=_0x394eec['coin'][_0x2740f9(0xd9)](0x7)+'|\x20'+formatPad(_0x394eec[_0x2740f9(0x134)],0x2,0x6)+'|\x20'+formatPad(_0x394eec['target'],0x2,0x6)+'|\x20'+formatPad(_0x394eec[_0x2740f9(0x1cf)]*0x64,0x2,0x6)+'\x0a';}),_0x59d9a0+='</pre>',process['send']({'telegrammsg':_0x59d9a0},_0x3e5b62=>{});}function formatPad(_0x2924fb,_0x54e50a,_0x2f12e3){const _0xf27bbb=_0x357b7f,_0x155063=formatResultString(_0x2924fb,_0x54e50a);return _0x155063?_0x155063[_0xf27bbb(0x102)](_0x2f12e3):''[_0xf27bbb(0x102)](_0x2f12e3);}function logHistory(_0xadd788,_0x1839ef,_0x3212e3=''){const _0x535a40=_0x357b7f;logger[_0x535a40(0xf7)](''+_0x1839ef);let _0x52302f={'time':getTimeStamp(),'type':_0xadd788,'event':_0x1839ef};dbLogs[_0x535a40(0x13b)](_0x535a40(0x164))[_0x535a40(0x24d)](_0x52302f)[_0x535a40(0x208)]();if(_0x3212e3=='')_0x3212e3=_0x1839ef;proxyEmit(_0x535a40(0x234),{'log':_0x52302f,'summary':_0x3212e3}),process['send']({'telegram':{..._0x52302f,'botname':config[_0x535a40(0x1cc)],'showname':config['showname']}},_0x33c0f4=>{});}function emitHistory(_0x52c1f4={}){const _0x17a0b8=_0x357b7f;Object[_0x17a0b8(0x21a)](_0x52c1f4)[_0x17a0b8(0x251)]==0x0&&(_0x52c1f4={'type':[_0x17a0b8(0x1da),_0x17a0b8(0x234)],'event':'','page':0x1});if(_0x52c1f4['type']['includes'](_0x17a0b8(0x234)))_0x52c1f4[_0x17a0b8(0x11f)][_0x17a0b8(0x12f)](_0x52c1f4[_0x17a0b8(0x11f)]['indexOf'](_0x17a0b8(0x234)),0x1,_0x17a0b8(0x12c),_0x17a0b8(0x1b4),'success');if(dbLogs[_0x17a0b8(0x1df)](_0x17a0b8(0x164))[_0x17a0b8(0x24e)]()){let _0x1edb2d=dbLogs[_0x17a0b8(0x13b)](_0x17a0b8(0x164))[_0x17a0b8(0xd4)](_0xa56095=>{const _0x42b0b0=_0x17a0b8;if(_0x52c1f4[_0x42b0b0(0x11f)]['length']==0x0)return![];else return _0x52c1f4['type']['includes'](_0xa56095[_0x42b0b0(0x11f)]);})['filter'](_0x41a029=>{const _0x110b2c=_0x17a0b8;if(_0x52c1f4['event']=='')return!![];else return _0x41a029[_0x110b2c(0x234)][_0x110b2c(0x180)]()[_0x110b2c(0x21c)](_0x52c1f4[_0x110b2c(0x234)]['toLowerCase']());})[_0x17a0b8(0x13a)](_0x17a0b8(0x1b0)),_0xeb5f28=_0x1edb2d[_0x17a0b8(0x24e)]()[_0x17a0b8(0x251)];_0x1edb2d=_0x1edb2d[_0x17a0b8(0x179)]()[_0x17a0b8(0x162)]((_0x52c1f4['page']-0x1)*logPageSize,_0x52c1f4[_0x17a0b8(0x108)]*logPageSize-0x1)[_0x17a0b8(0x179)]()[_0x17a0b8(0x24e)](),proxyEmit(_0x17a0b8(0x1b2),{'logs':_0x1edb2d,'total':_0xeb5f28});}else proxyEmit(_0x17a0b8(0x1b2),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4fc8d3){const _0x548712=_0x357b7f;if(dbLogs['has'](_0x548712(0x164))[_0x548712(0x24e)]()){const _0x2f5ab9=dbLogs[_0x548712(0x13b)](_0x548712(0x164))['sortBy']('time')['filter'](_0x4a9eda=>{const _0x97fb5c=_0x548712;return _0x4a9eda[_0x97fb5c(0x11f)]=='order';})[_0x548712(0x24e)]();dbLogs[_0x548712(0x13b)](_0x548712(0x164))[_0x548712(0x130)]()[_0x548712(0x208)](),dbLogs['get']('logs')[_0x548712(0x21e)](_0x2f5ab9)['write'](),emitHistory(_0x4fc8d3);}}async function pauseBot(){const _0x3a1528=_0x357b7f,_0x3287b2=new Date()[_0x3a1528(0x17d)]();if(!lastErrorShown||_0x3287b2-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x3287b2;!lastBotPause?(lastBotPause=_0x3287b2,consecutivePauses=0x1):(_0x3287b2-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x3a1528(0xc2)]({'stop':_0x3a1528(0x228)},_0x4e4d9c=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x3a1528(0x17d)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x18b85b=_0x357b7f;botPaused=!![],await sleep(0x3e8),process[_0x18b85b(0xc2)]({'stop':'kill'},_0x381931=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x597d65,_0x571ca6){const _0x1db29b=_0x357b7f;if(botPaused)return;const _0x3ccc35=config[_0x1db29b(0x1e2)]||_0x1db29b(0x158);if(_0x571ca6)logger[_0x1db29b(0x137)](_0x1db29b(0x112)+_0x571ca6);if(_0x597d65['toString']()['includes'](_0x1db29b(0x1de)))logHistory(_0x1db29b(0x12c),_0x3ccc35+_0x1db29b(0x110));else{if(_0x597d65['toString']()['includes'](_0x1db29b(0x236)))logHistory('error',_0x3ccc35+_0x1db29b(0x211));else _0x597d65[_0x1db29b(0xce)]()[_0x1db29b(0x21c)](_0x1db29b(0x245))?(logHistory('error',_0x3ccc35+_0x1db29b(0x237)),logHistory(_0x1db29b(0x12c),_0x1db29b(0x1c1))):await handleError(_0x597d65,null);}}async function handleError(_0x225de2,_0x281a9c,_0x1350db=''){const _0x59ef54=_0x357b7f;if(botPaused)return;const _0x1a64ea=config[_0x59ef54(0x1e2)]||_0x59ef54(0x158);if(_0x281a9c)logger[_0x59ef54(0x137)](_0x59ef54(0x112)+_0x281a9c);if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)]('DDoSProtection')||_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0x1a9)))logHistory(_0x59ef54(0x12c),_0x1a64ea+_0x59ef54(0xef)+pauseBotMsg),await pauseBot();else{if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)]('ExchangeNotAvailable')||_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0x136)))logHistory(_0x59ef54(0x12c),_0x1a64ea+_0x59ef54(0x196)+pauseBotMsg),await pauseBot();else{if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0xfd)))logHistory('error',_0x1a64ea+_0x59ef54(0x1f8)+pauseBotMsg),await pauseBot();else{if(_0x225de2[_0x59ef54(0xce)]()['includes']('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory(_0x59ef54(0x12c),_0x1a64ea+_0x59ef54(0x174)+pauseBotMsg),await pauseBot();else{if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0x105)))logHistory(_0x59ef54(0x12c),_0x59ef54(0x1d6)),logHistory(_0x59ef54(0x12c),_0x59ef54(0x14c)),await killBot();else{if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0x118)))logHistory(_0x59ef54(0x12c),_0x59ef54(0x227)),logHistory(_0x59ef54(0x12c),_0x59ef54(0x14c)),await killBot();else{if(_0x225de2 instanceof ccxt[_0x59ef54(0xdf)])logHistory(_0x59ef54(0x12c),_0x1a64ea+_0x59ef54(0x1a2)+pauseBotMsg),logger[_0x59ef54(0x137)](_0x59ef54(0x1d7),_0x225de2),await pauseBot();else{if(_0x225de2['toString']()['includes'](_0x59ef54(0x1de)))logHistory(_0x59ef54(0x12c),_0x1a64ea+_0x59ef54(0x178)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0x236)))logHistory('error',_0x1a64ea+_0x59ef54(0x127)),logHistory(_0x59ef54(0x12c),_0x59ef54(0x14c)),await killBot();else{if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0x245)))logHistory(_0x59ef54(0x12c),_0x1a64ea+_0x59ef54(0x193)),logHistory('error',_0x59ef54(0x14c)),await killBot();else{if(_0x225de2[_0x59ef54(0xce)]()[_0x59ef54(0x21c)](_0x59ef54(0x1a6)))logHistory(_0x59ef54(0x12c),_0x59ef54(0x1fb)+_0x1350db);else _0x225de2 instanceof ccxt[_0x59ef54(0x204)]?(logHistory(_0x59ef54(0x12c),_0x1a64ea+_0x59ef54(0xe0)),logger[_0x59ef54(0x137)](_0x59ef54(0x1d7),_0x225de2)):(logHistory(_0x59ef54(0x12c),'Unknown\x20error\x20occured'+pauseBotMsg),logger['debug']('Error\x20details:',_0x225de2),await pauseBot());}}}}}}}}}}}function formatResult(_0x5498f9,_0x421640){return parseFloat(_0x5498f9['toFixed'](_0x421640));}function formatResultTruncate(_0x8806b1,_0x1a7172){const _0x4f09e3=_0x357b7f;let _0x19818a=formatResultString(_0x8806b1,0xa),_0x396ab9=_0x19818a['indexOf']('.');return _0x396ab9!=-0x1&&(_0x19818a=_0x19818a[_0x4f09e3(0x162)](0x0,_0x396ab9+_0x1a7172+0x1)),Number(_0x19818a);}function formatResultString(_0x4d79d3,_0x25e6ac){const _0xe6161a=_0x357b7f;let _0x5b32bb;if(!(''+_0x4d79d3)[_0xe6161a(0x21c)]('e'))_0x5b32bb=+(Math['round'](_0x4d79d3+'e+'+_0x25e6ac)+'e-'+_0x25e6ac);else{let _0x16f419=(''+_0x4d79d3)[_0xe6161a(0x155)]('e'),_0x4a3621='';+_0x16f419[0x1]+_0x25e6ac>0x0&&(_0x4a3621='+'),_0x5b32bb=+(Math[_0xe6161a(0xc8)](+_0x16f419[0x0]+'e'+_0x4a3621+(+_0x16f419[0x1]+_0x25e6ac))+'e-'+_0x25e6ac);}return Number(_0x5b32bb)[_0xe6161a(0x187)](_0x25e6ac);}function getServerTime(){const _0x163799=_0x357b7f,_0x2fb215=new Date();return _0x2fb215[_0x163799(0x1d1)]()+'/'+(_0x2fb215[_0x163799(0x249)]()+0x1)[_0x163799(0xce)]()[_0x163799(0x102)](0x2,'0')+'/'+_0x2fb215[_0x163799(0x188)]()[_0x163799(0xce)]()[_0x163799(0x102)](0x2,'0')+'\x20'+_0x2fb215[_0x163799(0x182)]()[_0x163799(0xce)]()[_0x163799(0x102)](0x2,'0')+':'+_0x2fb215[_0x163799(0x11c)]()[_0x163799(0xce)]()['padStart'](0x2,'0')+':'+_0x2fb215['getSeconds']()['toString']()[_0x163799(0x102)](0x2,'0');}function getTimeStamp(){const _0x153b86=_0x357b7f,_0x1fe7dd=shiftedTime();return _0x1fe7dd[_0x153b86(0x1d1)]()+'/'+(_0x1fe7dd[_0x153b86(0x249)]()+0x1)['toString']()[_0x153b86(0x102)](0x2,'0')+'/'+_0x1fe7dd['getDate']()[_0x153b86(0xce)]()['padStart'](0x2,'0')+'\x20'+_0x1fe7dd[_0x153b86(0x182)]()[_0x153b86(0xce)]()[_0x153b86(0x102)](0x2,'0')+':'+_0x1fe7dd[_0x153b86(0x11c)]()[_0x153b86(0xce)]()['padStart'](0x2,'0')+':'+_0x1fe7dd[_0x153b86(0xc3)]()[_0x153b86(0xce)]()['padStart'](0x2,'0');}function getDate(){const _0x52fa99=_0x357b7f,_0x3d4d87=shiftedTime();return _0x3d4d87['getFullYear']()+'/'+(_0x3d4d87[_0x52fa99(0x249)]()+0x1)['toString']()[_0x52fa99(0x102)](0x2,'0')+'/'+_0x3d4d87[_0x52fa99(0x188)]()[_0x52fa99(0xce)]()[_0x52fa99(0x102)](0x2,'0');}function getHour(){const _0x39254c=_0x357b7f,_0x563c7c=shiftedTime();return _0x563c7c[_0x39254c(0x182)]()[_0x39254c(0xce)]()[_0x39254c(0x102)](0x2,'0');}function sleep(_0x2d4f6c){return new Promise(_0xf48f5b=>setTimeout(_0xf48f5b,_0x2d4f6c));}function shiftedTime(){const _0x7e793e=_0x357b7f,_0x2d45a7=new Date();let _0x156651=_0x2d45a7;if(config&&config['timeshift']!==0x0)_0x156651=fns[_0x7e793e(0x10e)](_0x2d45a7,{'hours':config[_0x7e793e(0x1ba)]});return _0x156651;}function timer(_0x59fc2d){const _0x10917c=_0x357b7f,_0x38d686=new Date();!lasttime?console[_0x10917c(0xc9)](getTimeStamp()+_0x10917c(0x213),_0x59fc2d,_0x38d686):console[_0x10917c(0xc9)](getTimeStamp()+_0x10917c(0x213),_0x59fc2d,(_0x38d686-lasttime)/0x3e8),lasttime=_0x38d686;}