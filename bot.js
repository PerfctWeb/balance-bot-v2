const _0xe8d69b=_0x4c5e;(function(_0x39b326,_0x404da2){const _0x19e032=_0x4c5e,_0x39747d=_0x39b326();while(!![]){try{const _0x5f0445=-parseInt(_0x19e032(0x1c2))/0x1*(-parseInt(_0x19e032(0x1dd))/0x2)+-parseInt(_0x19e032(0x228))/0x3*(-parseInt(_0x19e032(0x26e))/0x4)+-parseInt(_0x19e032(0x109))/0x5+-parseInt(_0x19e032(0x270))/0x6*(parseInt(_0x19e032(0x16c))/0x7)+-parseInt(_0x19e032(0x27e))/0x8+parseInt(_0x19e032(0x29c))/0x9*(parseInt(_0x19e032(0x26a))/0xa)+parseInt(_0x19e032(0x1bc))/0xb;if(_0x5f0445===_0x404da2)break;else _0x39747d['push'](_0x39747d['shift']());}catch(_0x4655a4){_0x39747d['push'](_0x39747d['shift']());}}}(_0x2868,0x825bb));const _0x2758c8=function(){let _0xec9600=!![];return function(_0x52ea96,_0x453b10){const _0x2e287d=_0xec9600?function(){const _0x3337ce=_0x4c5e;if(_0x453b10){const _0x4ca693=_0x453b10[_0x3337ce(0x18c)](_0x52ea96,arguments);return _0x453b10=null,_0x4ca693;}}:function(){};return _0xec9600=![],_0x2e287d;};}(),_0x54cf6e=_0x2758c8(this,function(){const _0x1077ef=_0x4c5e;return _0x54cf6e[_0x1077ef(0x1e7)]()['search'](_0x1077ef(0x19a))['toString']()['constructor'](_0x54cf6e)[_0x1077ef(0x196)]('(((.+)+)+)+$');});_0x54cf6e();'use strict';const ccxt=require(_0xe8d69b(0x1ae)),low=require(_0xe8d69b(0x18a)),FileSync=require(_0xe8d69b(0x25c)),fs=require('fs'),fns=require(_0xe8d69b(0x120)),forge=require(_0xe8d69b(0x106)),util=require(_0xe8d69b(0x15d)),argv=require(_0xe8d69b(0x26c))(process[_0xe8d69b(0x115)][_0xe8d69b(0x1e3)](0x2))[_0xe8d69b(0x115)],path=require(_0xe8d69b(0x263)),axios=require(_0xe8d69b(0x2a5));let exchange,gTicker={},gChange={};const usdBasecoins=[_0xe8d69b(0xf8),_0xe8d69b(0x1c3),_0xe8d69b(0x245),_0xe8d69b(0x123),_0xe8d69b(0x121),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xe8d69b(0x27c)]({'LOCKED':0x0,'UNLOCKING':0x1,'UNLOCKED':0x2});let lockOrders=ORDERS[_0xe8d69b(0x1a3)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20>\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0xe8d69b(0x261),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc,balanceUpdateRetries=0x5;let enableFiatToggle;const serverversion=require(_0xe8d69b(0xf0))[_0xe8d69b(0x23e)],environment=require(_0xe8d69b(0xf0))[_0xe8d69b(0x1da)]||_0xe8d69b(0x238),botID=process[_0xe8d69b(0x115)][0x2]||_0xe8d69b(0x195),pattern=/^[0-9]{3}$/;!pattern[_0xe8d69b(0x298)](botID)&&(console[_0xe8d69b(0x138)]('Error:\x20Invalid\x20argument\x20'+botID+_0xe8d69b(0x27a)),killBot());const userID=process[_0xe8d69b(0x115)][0x3]||'',configpath=userID?_0xe8d69b(0x204)+userID+'/':_0xe8d69b(0x204),logspath=userID?_0xe8d69b(0x129)+userID+'/':_0xe8d69b(0x129),loggerfile=fs[_0xe8d69b(0x2aa)](logspath+_0xe8d69b(0x29f),{'flags':'a'});!fs[_0xe8d69b(0x127)](configpath)&&fs['mkdirSync'](configpath);!fs[_0xe8d69b(0x127)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+'bot-'+botID+_0xe8d69b(0x1e6),performancefile=configpath+_0xe8d69b(0x281)+botID+_0xe8d69b(0x15e),coinresultsfile=configpath+_0xe8d69b(0x281)+botID+'-results.json',settingsfile=configpath+_0xe8d69b(0x16f),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0xe8d69b(0x15f),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xe8d69b(0x22b)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xe8d69b(0x22b)]({'data':[],'version':serverversion})[_0xe8d69b(0x1d5)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xe8d69b(0x22b)]({'bot':[],'version':serverversion})[_0xe8d69b(0x1d5)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);function _0x4c5e(_0x2257f8,_0x55a669){const _0xd20c76=_0x2868();return _0x4c5e=function(_0x54cf6e,_0x2758c8){_0x54cf6e=_0x54cf6e-0xf0;let _0x286852=_0xd20c76[_0x54cf6e];return _0x286852;},_0x4c5e(_0x2257f8,_0x55a669);}dbCoinResults[_0xe8d69b(0x22b)]({'coins':[],'version':serverversion})[_0xe8d69b(0x1d5)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x196bbf=>{const _0x5f2164=_0xe8d69b;console[_0x5f2164(0x138)](_0x196bbf);},'simple':_0x495384=>{const _0x5615f5=_0xe8d69b;console[_0x5615f5(0x138)](_0x495384),loggerfile[_0x5615f5(0x1d5)](util[_0x5615f5(0x2bb)](_0x495384)+'\x0a');},'full':async(_0x17d29c,_0x4083bf='')=>{const _0x1aa022=_0xe8d69b;let _0x4f06aa;if(config['showname'])_0x4f06aa=getTimeStamp()+':\x20'+config[_0x1aa022(0x2b1)]+_0x1aa022(0x214)+_0x17d29c;else _0x4f06aa=getTimeStamp()+':\x20Bot\x20'+botID+_0x1aa022(0x214)+_0x17d29c;console['log'](_0x4f06aa),loggerfile[_0x1aa022(0x1d5)](util['format'](_0x4f06aa)+'\x0a'),_0x4083bf&&(console[_0x1aa022(0x138)](_0x4083bf),loggerfile[_0x1aa022(0x1d5)](util['format'](_0x4083bf)+'\x0a'));},'debug':async(_0xc9b0d3,_0x1ca434='')=>{const _0x2cef92=_0xe8d69b;let _0x2eed18;if(config[_0x2cef92(0x2a0)])_0x2eed18=getTimeStamp()+':\x20'+config['botname']+_0x2cef92(0x148)+_0xc9b0d3;else _0x2eed18=getTimeStamp()+':\x20Bot\x20'+botID+_0x2cef92(0x148)+_0xc9b0d3;if(debugging)console[_0x2cef92(0x138)](_0x2eed18);loggerfile[_0x2cef92(0x1d5)](util[_0x2cef92(0x2bb)](_0x2eed18)+'\x0a');if(_0x1ca434){if(debugging)console['log'](_0x1ca434);loggerfile[_0x2cef92(0x1d5)](util[_0x2cef92(0x2bb)](_0x1ca434)+'\x0a');}}};process['on']('uncaughtException',function(_0x49eceb){handleError(_0x49eceb,'uncaughtException');});settings[_0xe8d69b(0x1fb)]!=config[_0xe8d69b(0x1fb)]&&updateTimeshift(settings[_0xe8d69b(0x1fb)]);settings['onepagemode']!=config[_0xe8d69b(0x2b3)]&&updateOnepagemode(settings[_0xe8d69b(0x2b3)]);(settings[_0xe8d69b(0x1d0)]&&!config[_0xe8d69b(0x1d0)]||!settings[_0xe8d69b(0x1d0)]&&config[_0xe8d69b(0x1d0)])&&updateMarketcapApi(settings[_0xe8d69b(0x1d0)]);process[_0xe8d69b(0x2ba)]({'started':_0xe8d69b(0x20a)},_0x1b0001=>{}),initializeProcessListeners();function proxyEmit(_0x4684dd,_0x1618fd=null){const _0x23c378=_0xe8d69b;process[_0x23c378(0x2ba)]({'function':_0x4684dd,'args':_0x1618fd},_0x254592=>{});}function initializeProcessListeners(){const _0x2a3fcf=_0xe8d69b;process['on'](_0x2a3fcf(0x225),_0x5a1673=>{const _0x550b6a=_0x2a3fcf;switch(Object[_0x550b6a(0x24b)](_0x5a1673)[0x0]){case _0x550b6a(0x1fb):_0x5a1673['timeshift']!=undefined&&(settings[_0x550b6a(0x1fb)]=_0x5a1673['timeshift'],updateTimeshift(settings[_0x550b6a(0x1fb)]));break;case'onepagemode':_0x5a1673[_0x550b6a(0x2b3)]!=undefined&&(settings['onepagemode']=_0x5a1673[_0x550b6a(0x2b3)],updateOnepagemode(settings[_0x550b6a(0x2b3)]));break;case _0x550b6a(0x1d0):_0x5a1673[_0x550b6a(0x1d0)]!=undefined&&(settings[_0x550b6a(0x1d0)]=_0x5a1673[_0x550b6a(0x1d0)],updateMarketcapApi(settings[_0x550b6a(0x1d0)]));break;case'bots':_0x5a1673[_0x550b6a(0x292)]!=undefined&&(bots=JSON[_0x550b6a(0x166)](_0x5a1673['bots']),proxyEmit('bots',bots));break;case _0x550b6a(0x269):switch(_0x5a1673[_0x550b6a(0x269)]){case _0x550b6a(0x233):initclient();break;case _0x550b6a(0x220):toggleBotMode();break;case _0x550b6a(0xff):emitHistory(_0x5a1673[_0x550b6a(0x1ee)]);break;case _0x550b6a(0x2b0):deleteHistoryAlerts(_0x5a1673['args']);break;case _0x550b6a(0x1c5):getPortfolio(_0x5a1673[_0x550b6a(0x1ee)]);break;case _0x550b6a(0x206):storeConfiguration(_0x5a1673[_0x550b6a(0x1ee)]);break;case _0x550b6a(0x13c):storeHeadless(_0x5a1673[_0x550b6a(0x1ee)]);break;case'storeFiat':storeFiat(_0x5a1673[_0x550b6a(0x1ee)]);break;case _0x550b6a(0xfe):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x550b6a(0x155):placeOrder(_0x5a1673[_0x550b6a(0x1ee)]);break;case _0x550b6a(0x26f):cancelLoading();break;case _0x550b6a(0x1d8):showConfig();break;case _0x550b6a(0x11f):sendMetricsTelegram();break;case _0x550b6a(0x28b):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x1481de=![]){const _0x3c08bb=_0xe8d69b;logger['debug']('Reset\x20|\x20'+(_0x1481de?_0x3c08bb(0x2af):_0x3c08bb(0x2b7))+'\x20|\x20exchange:\x20'+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x1481de)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x3c08bb(0x15b)]!=''&&config[_0x3c08bb(0x15b)]!=_0x3c08bb(0x260)){loadingProgress=0x0;_0x1481de&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x3c08bb(0x241),emittedConfiguration()),initialPerformanceStored=![]);const _0x2bba21=await getCoins();[currentCoins,currentCoinsAll]=_0x2bba21,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x3c08bb(0x169)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3c08bb(0x276)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x222313=![]){const _0x3b17cb=_0xe8d69b;logger[_0x3b17cb(0x1be)](_0x3b17cb(0x1af)+(_0x222313?_0x3b17cb(0x23f):_0x3b17cb(0x2ab))+_0x3b17cb(0x1d4)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0x222313){getBalances();return;}coinsLoaded=![];if(config[_0x3b17cb(0x15b)]!=''&&config[_0x3b17cb(0x15b)]!=_0x3b17cb(0x260)){loadingProgress=0x1;const _0xac065f=await getCoins();[currentCoins,currentCoinsAll]=_0xac065f,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x3b17cb(0x169)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3b17cb(0x276)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x1ab87c){const _0x39e4ef=_0xe8d69b;let _0x435b4e=![];if(_0x1ab87c)_0x435b4e=!![];let _0x10d099;_0x435b4e?_0x10d099=_0x1ab87c[_0x39e4ef(0x145)](_0xe07036=>_0xe07036['coin']):_0x10d099=currentCoinsAll['map'](_0x37c55a=>_0x37c55a[_0x39e4ef(0x12a)]);if(!config[_0x39e4ef(0x1d0)]||!_0x435b4e&&!config['marketcapEnabled']||_0x10d099['length']==0x0)return;let _0x3ba060=null;try{_0x3ba060=await axios['get'](_0x39e4ef(0x25a),{'headers':{'X-CMC_PRO_API_KEY':settings['marketcapApi']},'params':{'symbol':_0x10d099[_0x39e4ef(0x1e7)]()}});}catch(_0x4ae311){_0x3ba060=null,_0x4ae311[_0x39e4ef(0x1e7)]()[_0x39e4ef(0x2b5)](_0x39e4ef(0x1db))?(config[_0x39e4ef(0x1d0)]=![],updateConfig(),proxyEmit(_0x39e4ef(0x241),emittedConfiguration()),logHistory('error','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x39e4ef(0x229),'CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0x39e4ef(0x261)),logger['debug'](_0x39e4ef(0x1c6),_0x4ae311['toString']()+_0x39e4ef(0x2b4)+_0x4ae311[_0x39e4ef(0x2b8)]));}if(_0x3ba060){let _0x3285d8=0x0;const _0x30525c=_0x3ba060['data'];_0x10d099[_0x39e4ef(0x18e)](_0x32812e=>{const _0x47ca71=_0x39e4ef;if(_0x30525c[_0x47ca71(0x22f)][_0x32812e][0x0])_0x3285d8+=_0x30525c['data'][_0x32812e][0x0][_0x47ca71(0x287)][_0x47ca71(0xf8)][_0x47ca71(0x19f)];}),_0x10d099['forEach'](_0x3f4133=>{const _0x25de2e=_0x39e4ef,_0x14e4a8=_0x30525c['data'][_0x3f4133][0x0]?_0x30525c[_0x25de2e(0x22f)][_0x3f4133][0x0][_0x25de2e(0x287)]['USD']['market_cap']:0x0;if(_0x435b4e){const _0x386b4c=_0x1ab87c[_0x25de2e(0x17c)](_0x541b23=>_0x541b23[_0x25de2e(0x12a)]==_0x3f4133);_0x386b4c&&(_0x386b4c['marketcap']=_0x14e4a8);}else{const _0x17a236=currentCoins[_0x25de2e(0x17c)](_0xf3d2a7=>_0xf3d2a7[_0x25de2e(0x12a)]==_0x3f4133);_0x17a236&&(_0x17a236[_0x25de2e(0x272)]=_0x14e4a8);const _0x31303d=currentCoinsAll[_0x25de2e(0x17c)](_0x5bbe3c=>_0x5bbe3c[_0x25de2e(0x12a)]==_0x3f4133);_0x31303d&&(_0x31303d[_0x25de2e(0x272)]=_0x14e4a8);}}),!_0x435b4e&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1a7b24=_0xe8d69b,_0x590442=0x2;let _0x2b99b8=0x0,_0x4020f5=0x0,_0x20de28=0x0,_0x1cc3fc=0x0,_0x4766af=0x0;config[_0x1a7b24(0x288)][_0x1a7b24(0x18e)](_0x4e34c5=>{const _0x14d60c=_0x1a7b24;if(!_0x4e34c5[_0x14d60c(0x19e)]){_0x20de28++,_0x2b99b8+=_0x4e34c5[_0x14d60c(0x1ea)];if(_0x4e34c5[_0x14d60c(0x1ea)]===-0x1){_0x2b99b8++;const _0x5456e5=currentCoinsAll[_0x14d60c(0x17c)](_0x306086=>_0x306086[_0x14d60c(0x12a)]==_0x4e34c5['coin']);_0x5456e5&&(_0x1cc3fc+=_0x5456e5['marketcap'],_0x4766af+=Math[_0x14d60c(0x28e)](_0x5456e5[_0x14d60c(0x272)]));}if(_0x4e34c5[_0x14d60c(0x1ea)]!==-0x1)_0x4020f5++;}});let _0x244347;const _0xccaebd=0x64-_0x2b99b8,_0x12e9f8=_0x20de28-_0x4020f5;_0x244347=_0x12e9f8===0x0?_0x2b99b8:Math[_0x1a7b24(0x1e9)](0x64,_0x2b99b8),config[_0x1a7b24(0x288)][_0x1a7b24(0x18e)](_0xd5c11f=>{const _0x12e34b=_0x1a7b24,_0x3bc157=currentCoinsAll[_0x12e34b(0x17c)](_0x3c144b=>_0x3c144b['coin']==_0xd5c11f[_0x12e34b(0x12a)]);_0x3bc157&&(_0xd5c11f[_0x12e34b(0x272)]=_0x3bc157[_0x12e34b(0x272)]);if(!_0xd5c11f['excluded']){if(_0x244347<=0x64){if(_0xd5c11f[_0x12e34b(0x1ea)]===-0x1){if(_0x1cc3fc!==0x0&&config[_0x12e34b(0x215)]){if(_0x3bc157){if(config[_0x12e34b(0x215)]==_0x12e34b(0x272))_0xd5c11f[_0x12e34b(0x17d)]=(_0xccaebd/(_0x1cc3fc/_0x3bc157[_0x12e34b(0x272)]))[_0x12e34b(0x143)](_0x590442);else config[_0x12e34b(0x215)]==_0x12e34b(0x291)&&(_0xd5c11f[_0x12e34b(0x17d)]=(_0xccaebd/(_0x4766af/Math[_0x12e34b(0x28e)](_0x3bc157[_0x12e34b(0x272)])))[_0x12e34b(0x143)](_0x590442));}}}}}}),updateConfig();}function updateConfig(){const _0x50f6ae=_0xe8d69b;let _0x4f383a=dbConfig[_0x50f6ae(0x256)](_0x50f6ae(0x266))[_0x50f6ae(0x17c)]({'botID':botID})[_0x50f6ae(0x1b3)]();_0x4f383a&&dbConfig[_0x50f6ae(0x256)]('bot')[_0x50f6ae(0x17c)]({'botID':botID})[_0x50f6ae(0x230)](config)[_0x50f6ae(0x1d5)]();}function logMemory(){const _0xea15c6=_0xe8d69b;if(environment!=_0xea15c6(0x1f5))return;const _0x443553=process['memoryUsage']()[_0xea15c6(0x16d)]/0x400/0x400;logger[_0xea15c6(0x1be)](_0xea15c6(0x28c)+process[_0xea15c6(0x1f2)]+_0xea15c6(0x189)+formatResult(_0x443553,0x1)+_0xea15c6(0x203));}async function startScheduler(){const _0x5a29cd=_0xe8d69b,_0x5e04cf=shiftedTime()[_0x5a29cd(0x110)]();getMarketCap(),loadSymbols(),_0x5e04cf==0x1&&logMemory(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0xc2e364=![]){const _0x146048=_0xe8d69b;logger[_0x146048(0x1be)](_0x146048(0x111));if(!_0xc2e364)while(lockOrders!=ORDERS[_0x146048(0x1a3)]||coolingDown){await sleep(0x3e8);}process[_0x146048(0x2ba)]({'stop':_0x146048(0x2be)},_0x3d5858=>{});}async function initExchange(_0x20f8e2=config['exchange'],_0x2bbb33=config['apiKey'],_0x301b38=config[_0xe8d69b(0x1b1)],_0x1bac45=config[_0xe8d69b(0x1f1)]){const _0x10d3cc=_0xe8d69b;if(exchange){logger[_0x10d3cc(0x1be)]('Initializing\x20exchange:\x20already\x20done');return;}logger[_0x10d3cc(0x1be)](_0x10d3cc(0x139));!supportedExchanges()[_0x10d3cc(0x2b5)](_0x20f8e2)&&(logHistory(_0x10d3cc(0x229),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x20f8e2+'\x20exchange'),killBot());const _0x162571=ccxt[_0x10d3cc(0x231)][_0x20f8e2[_0x10d3cc(0x213)]()];exchange=new _0x162571({'apiKey':_0x2bbb33,'secret':_0x301b38,'options':{'defaultType':_0x10d3cc(0x1b7)}});if(_0x1bac45)exchange[_0x10d3cc(0x118)]=_0x1bac45;}function updateExchange(_0x548c62,_0x1724ac,_0x1064fd=null){const _0x39f920=_0xe8d69b;exchange[_0x39f920(0x15b)]=_0x548c62,exchange[_0x39f920(0x1b1)]=_0x1724ac,exchange[_0x39f920(0x1f1)]=_0x1064fd,logger['debug'](_0x39f920(0x158));}function setStableCoins(){const _0x2a8365=_0xe8d69b;let _0x54a85c=config['basecoin']==_0x2a8365(0x132)?_0x2a8365(0x132):config[_0x2a8365(0x156)]==_0x2a8365(0x29d)?'PAXG':_0x2a8365(0x295),_0x489691=allSymbols[_0x2a8365(0x2b5)](_0x54a85c+'/USD')?_0x2a8365(0xf8):allSymbols['includes'](_0x54a85c+_0x2a8365(0x29e))?_0x2a8365(0x123):_0x2a8365(0x1e8),_0x22b470=allSymbols['includes'](_0x54a85c+_0x2a8365(0x12c))?_0x2a8365(0x1e8):_0x489691;enableFiatToggle=!![],_0x489691==_0x2a8365(0x1e8)&&(enableFiatToggle=![],storeFiat(_0x2a8365(0x1e8))),_0x22b470!=_0x2a8365(0x1e8)&&(enableFiatToggle=![],storeFiat(_0x2a8365(0xf8))),stablecoins={'eur':{'coin':''+_0x54a85c+_0x22b470,'symbol':_0x54a85c+'/'+_0x22b470},'usd':{'coin':''+_0x54a85c+_0x489691,'symbol':_0x54a85c+'/'+_0x489691}};}async function initwsCcxt(){const _0x514051=_0xe8d69b;initCycle++;const _0x3e13bc=initCycle;let _0x343508=[];config[_0x514051(0x288)][_0x514051(0x18e)](_0x3429c3=>{const _0x21e3a5=_0x514051;if(!_0x3429c3['excluded']&&_0x3429c3['coin']!=config[_0x21e3a5(0x156)])_0x343508[_0x21e3a5(0x254)](_0x3429c3[_0x21e3a5(0x2ae)]);});if(!_0x343508[_0x514051(0x2b5)](stablecoins['eur'][_0x514051(0x2ae)]))_0x343508[_0x514051(0x254)](stablecoins[_0x514051(0x258)][_0x514051(0x2ae)]);if(!_0x343508[_0x514051(0x2b5)](stablecoins[_0x514051(0x176)][_0x514051(0x2ae)]))_0x343508[_0x514051(0x254)](stablecoins[_0x514051(0x176)][_0x514051(0x2ae)]);if(config[_0x514051(0x2a1)]['startsWith'](_0x514051(0x1dc))&&config['basecoin']!=_0x514051(0x29d)){if(!_0x343508[_0x514051(0x2b5)](_0x514051(0x14b)+config['basecoin']))_0x343508[_0x514051(0x254)]('BNB/'+config[_0x514051(0x156)]);}loadCoins(_0x343508),_0x343508=validateSymbols(_0x343508);const _0x3a49dc=async _0x41d51d=>{const _0x4f372c=_0x514051;let _0x2ce308;try{const _0x431e6d=await getTickers(_0x41d51d);Object['entries'](_0x431e6d)[_0x4f372c(0x18e)](_0x523767=>{const _0x4f0f41=_0x4f372c;_0x2ce308=_0x523767[0x1][_0x4f0f41(0x2ae)],gTicker[noslash(_0x2ce308)]=_0x523767[0x1]['last'],gChange[_0x2ce308]=_0x523767[0x1][_0x4f0f41(0x10d)];});}catch(_0x58535a){await handleError(_0x58535a,'initTickers()',_0x2ce308);}},_0x539db5=async _0x4fd48c=>{const _0x20f0a9=_0x514051;while(initCycle==_0x3e13bc){if(!botPaused)try{const _0x31630=await exchange[_0x20f0a9(0x12f)](_0x4fd48c);gTicker[noslash(_0x31630[0x0][_0x20f0a9(0x2ae)])]=_0x31630[0x0][_0x20f0a9(0x14d)];}catch(_0x95d55b){if(!exchangeStopped)await handleError(_0x95d55b,_0x20f0a9(0x141),_0x4fd48c);}else await sleep(0x64);}},_0x4b7f24=async _0x5669d1=>{const _0x3bbc49=_0x514051;while(initCycle==_0x3e13bc){if(!botPaused)try{const _0x534e15=await exchange[_0x3bbc49(0x293)](_0x5669d1),_0x59b510=_0x534e15['pop']();gTicker[noslash(_0x59b510[_0x3bbc49(0x2ae)])]=_0x59b510[_0x3bbc49(0x14d)];}catch(_0x19fc94){if(!exchangeStopped)await handleError(_0x19fc94,_0x3bbc49(0x10b),_0x5669d1['toString']());}else await sleep(0x64);}},_0x3ec787=async _0x2f213d=>{const _0x592d1f=_0x514051;while(initCycle==_0x3e13bc){if(!botPaused){let _0x29e464;try{await sleep(0x3c*0x3e8);const _0x4ff5cc=await getTickers(_0x2f213d);Object[_0x592d1f(0x15a)](_0x4ff5cc)[_0x592d1f(0x18e)](_0x2bb9d7=>{const _0x20cb35=_0x592d1f;_0x29e464=_0x2bb9d7[0x1][_0x20cb35(0x2ae)],gChange[_0x29e464]=_0x2bb9d7[0x1][_0x20cb35(0x10d)];});}catch(_0x4160e1){if(!exchangeStopped)await handleError(_0x4160e1,_0x592d1f(0xfa),_0x29e464);}}else await sleep(0x64);}},_0x4ba604=async _0x3fb559=>{const _0x12c97e=_0x514051;while(initCycle==_0x3e13bc){if(!botPaused)try{const _0x2a0d1b=await exchange[_0x12c97e(0x29b)](_0x3fb559);initCycle==_0x3e13bc&&_0x2a0d1b[_0x12c97e(0x18e)](_0x380ca1=>{updateNumberCoinsCcxt(_0x380ca1);});}catch(_0x4b3ca4){if(!exchangeStopped)await handleError(_0x4b3ca4,'watchOrders()');}else await sleep(0x64);}};_0x3a49dc(_0x343508),_0x3ec787(_0x343508),exchange[_0x514051(0x2bc)][_0x514051(0x293)]&&!(config[_0x514051(0x2a1)]=='Bybit'&&_0x343508['length']>0xa)?_0x4b7f24(_0x343508):_0x343508[_0x514051(0x18e)](_0x2ceb72=>{_0x539db5(_0x2ceb72);}),_0x343508[_0x514051(0x18e)](_0x5df7dc=>{_0x4ba604(_0x5df7dc);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x49bcb2){const _0x443574=_0xe8d69b;let _0x3e8f52={};try{if(config['exchange']!=_0x443574(0x1f9))_0x3e8f52=await exchange['fetchTickers'](_0x49bcb2);else for(const _0x3b3b17 of _0x49bcb2){const _0x5e5ffd=await exchange[_0x443574(0x175)](_0x3b3b17);_0x3e8f52[_0x3b3b17]=_0x5e5ffd;}return _0x3e8f52;}catch(_0xb954a2){throw _0xb954a2;}}function setBlockTransactionDetection(_0x21d6e2){const _0x180451=_0xe8d69b;blockTransactionDetection=_0x21d6e2,logger[_0x180451(0x1be)](_0x180451(0x21d)+blockTransactionDetection);}async function detectLiquidityChange(_0x10fdac=0x0){const _0x1931f9=_0xe8d69b;transactionDetectionOngoing=!![];try{const _0x4d4816=await getCoins(_0x10fdac),[_0x3d76e5,_0x5c3370]=_0x4d4816;let _0x1addfe=[];currentCoins[_0x1931f9(0x18e)](_0x40c371=>{const _0x2fb036=_0x1931f9,_0x581629=_0x3d76e5[_0x2fb036(0x17c)](_0x4ce5b5=>_0x4ce5b5[_0x2fb036(0x12a)]==_0x40c371['coin']);if(_0x581629){if(_0x40c371[_0x2fb036(0x240)]!=_0x581629['number']){let _0x2c9e47;if(_0x40c371[_0x2fb036(0x12a)]!=config[_0x2fb036(0x156)]){const _0x28d9b7=gTicker[noslash(_0x40c371['symbol'])];_0x2c9e47=_0x40c371['reverse']?0x1/_0x28d9b7:_0x28d9b7;}else _0x2c9e47=0x1;_0x1addfe['push']({'coin':_0x40c371[_0x2fb036(0x12a)],'symbol':_0x40c371[_0x2fb036(0x2ae)],'price':_0x2c9e47,'number':Number(formatResult(_0x581629[_0x2fb036(0x240)]-_0x40c371['number'],0x8)),'basecoinvalue':_0x2c9e47*(_0x581629['number']-_0x40c371[_0x2fb036(0x240)])});}}});if(_0x1addfe['length']>0x0&&!blockTransactionDetection){for(const _0x107a07 of _0x1addfe){if(config['autoliquidity']){logger[_0x1931f9(0x1be)](_0x1931f9(0x267)+_0x107a07[_0x1931f9(0x11b)]+_0x1931f9(0x16e)+lastFees[_0x1931f9(0x190)]);if(lastFees['highest']==0x0||Math[_0x1931f9(0xf7)](_0x107a07[_0x1931f9(0x11b)])>lastFees[_0x1931f9(0x190)]*0x3){if(config['autoliquidity']==_0x1931f9(0x107)){delete _0x107a07[_0x1931f9(0x2ae)],delete _0x107a07[_0x1931f9(0x11b)];let _0x23b645=[],_0x205902=[...config[_0x1931f9(0x209)]]||[],_0xbe695b=config['liquidity'];_0x205902[_0x1931f9(0x1d2)]((_0x3e5457,_0x187056)=>_0x3e5457['date']>_0x187056['date']?-0x1:_0x187056['date']>_0x3e5457[_0x1931f9(0x198)]?0x1:0x0);const _0x24ab64=getDate();if(_0x205902[0x0]){const _0x4bc548=fns['parse'](_0x205902[0x0]['date'],_0x1931f9(0x20d),new Date()),_0x196c13=fns[_0x1931f9(0x166)](_0x24ab64,_0x1931f9(0x20d),new Date());if(fns['isEqual'](_0x4bc548,_0x196c13)){_0x23b645=_0x205902[0x0][_0x1931f9(0x1d1)];const _0xe4a799=_0x23b645[_0x1931f9(0x17c)](_0x39e6bc=>_0x39e6bc[_0x1931f9(0x12a)]==_0x107a07[_0x1931f9(0x12a)]);_0xe4a799?(_0xe4a799[_0x1931f9(0x240)]+=_0x107a07[_0x1931f9(0x240)],_0xe4a799[_0x1931f9(0x240)]==0x0&&(_0x23b645=_0x23b645[_0x1931f9(0x1a7)](_0x31d2df=>{const _0x186511=_0x1931f9;return _0x31d2df[_0x186511(0x12a)]!=_0x107a07[_0x186511(0x12a)];}))):_0x23b645[_0x1931f9(0x254)](_0x107a07);const _0x308b48=_0xbe695b[_0x1931f9(0x17c)](_0x1485f4=>_0x1485f4[_0x1931f9(0x198)]==_0x24ab64);_0x308b48['changes']=_0x23b645;}else _0xbe695b[_0x1931f9(0x254)]({'date':_0x24ab64,'changes':[_0x107a07]});}const _0x462772=_0xbe695b[_0x1931f9(0x17c)](_0x1b388c=>_0x1b388c['date']==_0x24ab64);if(_0x462772){let _0x3f36fa=!![];_0x462772[_0x1931f9(0x1d1)]['forEach'](_0x180985=>{const _0x30aeed=_0x1931f9;if(_0x180985[_0x30aeed(0x240)]!=0x0)_0x3f36fa=![];}),_0x3f36fa&&(_0xbe695b=_0xbe695b[_0x1931f9(0x1a7)](_0x4d1bfc=>{const _0x764167=_0x1931f9;return _0x4d1bfc[_0x764167(0x198)]!=_0x24ab64;}));}let _0x3fa143=dbConfig[_0x1931f9(0x256)](_0x1931f9(0x266))[_0x1931f9(0x17c)]({'botID':botID})[_0x1931f9(0x1b3)]();_0x3fa143&&(dbConfig[_0x1931f9(0x256)](_0x1931f9(0x266))[_0x1931f9(0x17c)]({'botID':botID})['assign']({'liquidity':_0xbe695b})[_0x1931f9(0x1d5)](),config[_0x1931f9(0x209)]=_0xbe695b);logHistory(_0x1931f9(0x172),_0x1931f9(0x1c9)+Math[_0x1931f9(0xf7)](_0x107a07['number'])+'\x20'+_0x107a07[_0x1931f9(0x12a)]+'\x20'+(_0x107a07['number']>0x0?'added':_0x1931f9(0x1b8))+_0x1931f9(0x24a)),proxyEmit('configuration',emittedConfiguration());const _0x50a839=getNormalizedPerformance();emitPerformance(_0x50a839),getStartingBalances(_0x50a839),logger[_0x1931f9(0x1be)](_0x1931f9(0x217));}else config['autoliquidity']==_0x1931f9(0x12d)&&(config[_0x1931f9(0x2a6)]?(await storeHeadless({'headless':![]}),logHistory(_0x1931f9(0x172),'Portfolio\x20change\x20detected:\x20'+Math[_0x1931f9(0xf7)](_0x107a07[_0x1931f9(0x240)])+'\x20'+_0x107a07['coin']+'\x20'+(_0x107a07[_0x1931f9(0x240)]>0x0?_0x1931f9(0x234):'removed')+'\x20-\x20bot\x20switched\x20to\x20manual\x20mode')):logger[_0x1931f9(0x1be)](_0x1931f9(0x1c9)+Math['abs'](_0x107a07[_0x1931f9(0x240)])+'\x20'+_0x107a07['coin']+'\x20'+(_0x107a07[_0x1931f9(0x240)]>0x0?_0x1931f9(0x234):'removed')+_0x1931f9(0x22c)));}else logger[_0x1931f9(0x1be)](_0x1931f9(0x20c)+Math['abs'](_0x107a07[_0x1931f9(0x240)])+'\x20'+_0x107a07[_0x1931f9(0x12a)]+'\x20'+(_0x107a07[_0x1931f9(0x240)]>0x0?_0x1931f9(0x234):_0x1931f9(0x1b8)));}else logger[_0x1931f9(0x1be)](_0x1931f9(0x1c9)+Math['abs'](_0x107a07[_0x1931f9(0x240)])+'\x20'+_0x107a07[_0x1931f9(0x12a)]+'\x20'+(_0x107a07['number']>0x0?_0x1931f9(0x234):_0x1931f9(0x1b8))+_0x1931f9(0x23d));}currentCoins=_0x3d76e5,currentCoinsAll=_0x5c3370;}}catch(_0x569652){if(!exchangeStopped)await handleError(_0x569652,_0x1931f9(0x11c));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x1801d4=_0xe8d69b;try{markets=await exchange[_0x1801d4(0x105)](!![]),allSymbols=[],Object[_0x1801d4(0x15a)](markets)['forEach'](_0x87a45e=>{const _0x4bb5a5=_0x1801d4;_0x87a45e[0x1][_0x4bb5a5(0x1aa)]&&_0x87a45e[0x1]['spot']&&allSymbols[_0x4bb5a5(0x254)](_0x87a45e[0x0]);});}catch(_0x320e7c){markets?logger[_0x1801d4(0x1be)](_0x1801d4(0x1c0)+_0x320e7c[_0x1801d4(0x1e7)]()):(loading['cancel']=!![],emitLoadingProgress(),_0x320e7c['toString']()[_0x1801d4(0x213)]()[_0x1801d4(0x2b5)](_0x1801d4(0x119))||_0x320e7c[_0x1801d4(0x1e7)]()[_0x1801d4(0x213)]()[_0x1801d4(0x2b5)]('request-time')?logHistory(_0x1801d4(0x229),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'):handleErrorNoStop(_0x320e7c,_0x1801d4(0x242)),logHistory(_0x1801d4(0x229),'Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started'),logHistory(_0x1801d4(0x229),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x1801d4(0x178)),logger['debug'](_0x1801d4(0x1c6),_0x320e7c),botPaused=!![],await sleep(loadCoinsRetryInterval),restartBot());}}function validateSymbols(_0x47d8bc){const _0x317083=_0xe8d69b;let _0x529457=[];return _0x47d8bc[_0x317083(0x18e)](_0x2a377a=>{const _0x3b98cc=_0x317083;!allSymbols[_0x3b98cc(0x2b5)](_0x2a377a)?logHistory(_0x3b98cc(0x229),_0x3b98cc(0x21b)+_0x2a377a+_0x3b98cc(0x239)):_0x529457['push'](_0x2a377a);}),_0x529457;}async function initclient(){const _0x6d3ea=_0xe8d69b;proxyEmit(_0x6d3ea(0x241),emittedConfiguration()),proxyEmit(_0x6d3ea(0xf6),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x359510=getNormalizedPerformance();emitPerformance(_0x359510),getStartingBalances(_0x359510);}function _0x2868(){const _0x457af9=['privateKey','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','keys','InsufficientFunds','Unknown\x20error:\x20','getFullYear','differenceInSeconds','split','Order\x20is\x20invalid:\x20','rightTxt','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','push','portfolio2','get','AuthenticationError','eur','</pre>','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','remove','lowdb/adapters/FileSync','cancelOrders()','getMinutes','sortBy','***','\x20minutes','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','path','average','fiat','bot','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','1\x20-\x20Handle\x20open\x20orders','function','310xLZSMa','remainingSymbols','yargs/yargs','stringify','4nXQitI','cancelLoading','524334WsvYxm','\x20:\x20','marketcap','must\x20be\x20greater\x20than\x20minimum\x20amount','last','Placing\x20order\x20for:\x20','length','no\x20open\x20orders','offset','floor',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','freeze','1\x20-\x20Validate\x20orders:\x20','6859808AUdznQ','order','fromCodePoint','bot-','balancing\x20resumes\x20when\x20cooldown\x20ends','time','.json','Limit\x20(low-margin)','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','quote','portfolio','balances','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','sendPortfolioTelegram','process\x20','\x20hour','sqrt','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','startnumber','marketcapsqrt','bots','watchTradesForSymbols','2.3.5','BTC','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','trade','test','recent20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','watchOrders','37017SSXsOk','PAXG','/USDT','/output-000.log','showname','exchange','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','configuration-stored','startdate','axios','headless','status','Huobi','Invalid\x20quantity','createWriteStream','complete','settings','Limit\x20(high-margin)','symbol','exchange\x20reload','deleteHistoryAlerts','botname','Trigger:\x20','onepagemode','\x20-\x20','includes','unlinkSync','no\x20exchange\x20reloaded','code','create','send','format','has','2\x20-\x20handling\x20FILLED\x20order:\x20','restart','net-fiat','./version.json','BNB','getOpenOrders()','limit','Market','join','exchanges','abs','USD','Exchange','fetchTickers()','padEnd','************','2.6.0','resetHistory','emitHistory','\x20order:\x20','limits','change','logs','sha256','loadMarkets','node-forge','update-liquidity','Resetting\x20bot\x20history','216130Yjxusv','Exchange\x20permission\x20denied\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','watchTradesForSymbols()','Pausing\x20for\x20','percentage','Waited\x20','\x20|\x20','getHours','Initiating\x20bot\x20restart','ExchangeError','Unfilled\x20order(s)\x20canceled\x20after\x20','<pre>','argv','PermissionDenied','Headless:\x20','password','timestamp','fetchBalance','basecoinvalue','detectLiquidityChange()','\x20/\x20','0\x20-\x20EXECUTION:\x20','sendMetricsTelegram','date-fns','USDC','starting-balances','USDT','emojisell','\x20metrics:</b>\x20\x0a\x0a','min','existsSync','net-basecoin','./logs/','coin','isEqual','/EUR','switch-manual','filled','watchTrades','getMonth','performance','ETH','-------------------------------\x0a','Initializing\x20coin\x20results','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','createOrder','Symbol(s):\x20','log','Initializing\x20exchange','getSeconds','\x20API\x20key\x20is\x20invalid','storeHeadless','type','recreate','Net\x20','Bitget','watchTrades()','ask','toFixed','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','map','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','set','\x20>\x20[DEBUG]\x20','loading-canceled','splice','BNB/','\x20minutes\x20-\x20','price','Insufficient\x20funds\x20to\x20execute\x20order:\x20','amount','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','sell','initial','currency','canceled','placeOrder','basecoin','total','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','InvalidOrder','entries','apiKey','add','util','-performance.json','/backup/','change24h','colorscheme','indexOf','round','delta','cooldown','parse','\x20network\x20error:\x20','Stopped\x20fetching\x20balance\x20after\x20','Loading\x20completed','Error\x20in\x20testAPI():\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','7MxwhPO','heapUsed','\x20|\x20highest\x20fee:\x20','bb-settings.json','RequestTimeout','fee','success','2.5.0','Error\x20occurred:\x20','fetchTicker','usd','Invalid\x20balance\x20for\x20','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','replace','fetchBalance()','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','find','distribution','\x20portfolio:</b>\x20\x0a\x0a','\x20orders\x20in\x20less\x20than\x20','buy','-results.json','\x20API\x20secret\x20is\x20invalid','ordertype','breakeven','autoliquidity','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','LOCKED','Exception\x20thrown\x20in\x20','\x20uses\x20','lowdb','1\x20-\x20partially\x20FILLED\x20(','apply','request-time','forEach','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','highest','orderstatus','privateKeyFromPem','valid','datetime','001','search','2\x20-\x20Handled\x20open\x20orders','date','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','(((.+)+)+)+$','side','warning','threshold','excluded','market_cap','writeFile','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','decrypt','UNLOCKED','coins','market','%\x20(','filter','InvalidNonce','OnMaintenance','active','fetchOpenOrders','Resetting\x20coin\x20results:\x20','Net\x20effect','ccxt','Resuming\x20(','botID','apiSecret','balancing\x20resumed','value','string','shift','RETRY\x20-\x20Error\x20in\x20','spot','removed','cancelOrder','sells','bid','7257525ZYZSda','<b>','debug','limit-high','Error\x20in\x20loadSymbols():\x20','MIN_NOTIONAL','709aXDrJj','BUSD','portfolio1','getPortfolio','Error\x20details:','Manual\x20balancing\x20required','enabled','Portfolio\x20change\x20detected:\x20','padStart','timeout','buys','full','closed','\x20|\x20Custom\x20ID:\x20','marketcapApi','changes','sort','token\x20is\x20expired',')\x20|\x20exchange:\x20','write','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','DDoSProtection','showConfig','Huobipro','environment','status\x20code\x20401','Binance','1202BesYhJ','2.6.23','2.6.22','ongoing','fetchTickers','emojibuy','slice','target','1\x20-\x20FILLED\x20unknown\x20order:\x20','-events.json','toString','EUR','max','slider','ExchangeNotAvailable','getTime','Network\x20error\x20details:','args','(see:\x20hodlerhacks.com/fix/1)','progress','apiPassword','pid','toUpperCase','none','staging','Bybit','RSA-OAEP','<b>Bot\x20','Cryptocom','getDate','timeshift','coin-loading-progress','page','reverse','fees','Error\x20details:\x20','leftTxt','pki','\x20MB','./config/','\x20-\x20bot\x20not\x20started','storeConfiguration','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20value','liquidity','running','Avoiding\x20continuous\x20order\x20attempts','Fee\x20discount\x20refund\x20detected:\x20','yyyy/MM/dd','decode64','cancel','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','cloneDeep','ID:\x20','toLowerCase','\x20>\x20','marketcapEnabled','Cooldown\x20ended\x20-\x20balancing\x20resumed','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','substring','\x20has\x20a\x2024h\x20drop\x20of\x20','Invalid\x20symbol:\x20','secure','Block\x20transaction\x20detection:\x20','Cex','event','toggleBotMode','prevnumber','2\x20-\x20Validate\x20orders:\x20','realized','startprice','message','findIndex','openOrders','925953yiDqtN','error','red_yellow_blue','defaults','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','kill','UNLOCKING','data','assign','pro','amountToPrecision','initclient','added','\x20attempts','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','open','production','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','event-history','recovery','orderId','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','version','quick','number','configuration','loadSymbols()','final','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','TUSD','cost',':\x20timer\x20>'];_0x2868=function(){return _0x457af9;};return _0x2868();}async function toggleBotMode(){const _0x24cacd=_0xe8d69b;let _0x1bb948=dbConfig[_0x24cacd(0x256)](_0x24cacd(0x266))[_0x24cacd(0x17c)]({'botID':botID})['value']();if(_0x1bb948){const _0x4b0ab7=!_0x1bb948[_0x24cacd(0x2a6)];dbConfig['get'](_0x24cacd(0x266))[_0x24cacd(0x17c)]({'botID':botID})[_0x24cacd(0x230)]({'headless':_0x4b0ab7})[_0x24cacd(0x1d5)](),config[_0x24cacd(0x2a6)]=_0x4b0ab7,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0xf5c648=_0xe8d69b;process['send']({'updatebotmanager':!![]},_0x387036=>{}),logger[_0xf5c648(0x1be)](_0xf5c648(0x117)+config['headless']);}async function loadCoins(_0x330485){const _0x4ba8b8=_0xe8d69b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x240cc6,_0x4b21f9=0x0,_0x3df210=0x0;_0x330485[_0x4ba8b8(0x18e)](_0x339548=>{const _0x5fa260=_0x4ba8b8;loading[_0x5fa260(0x26b)][_0x5fa260(0x254)](_0x339548);}),loadingCanceled=![];let _0x177802=![];while(_0x240cc6!=_0x330485['length']+maxLoadingProgress){_0x240cc6=loadingProgress,_0x330485[_0x4ba8b8(0x18e)](_0x30f230=>{const _0x281914=_0x4ba8b8;if(gTicker[noslash(_0x30f230)]){loading[_0x281914(0x26b)]=loading['remainingSymbols']['filter'](_0xe6389a=>_0xe6389a!=_0x30f230);if(!watchedSymbols[_0x281914(0x2b5)](_0x30f230))watchedSymbols[_0x281914(0x254)](_0x30f230);_0x240cc6++;}}),loading[_0x4ba8b8(0x1f0)]=Math[_0x4ba8b8(0x163)](_0x240cc6/(_0x330485['length']+maxLoadingProgress)*0x64);loading[_0x4ba8b8(0x1f0)]!=0x64&&(_0x3df210>0x1e*0x5&&(loading[_0x4ba8b8(0x1cb)]=!![],emitLoadingProgress()),_0x3df210>0x78*0x5&&!_0x177802&&(_0x177802=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x4ba8b8(0x26b)][_0x4ba8b8(0xf5)](',\x20')+_0x4ba8b8(0x205)),logHistory('error',_0x4ba8b8(0x10c)+loadCoinsRetryInterval/0xea60+_0x4ba8b8(0x178)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x4ba8b8(0x20f)]=!![],emitLoadingProgress();break;}else _0x4b21f9!=loading[_0x4ba8b8(0x1f0)]&&(_0x4b21f9=loading['progress'],emitLoadingProgress()),_0x3df210++,await sleep(0xc8);}_0x240cc6==_0x330485[_0x4ba8b8(0x276)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x4ba8b8(0x2ba)]({'status':'enabled','live':_0x4ba8b8(0x20a)},_0xbca136=>{}),_0x177802&&logHistory('success',_0x4ba8b8(0x236)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x37e388=_0xe8d69b;proxyEmit(_0x37e388(0x241),{...emittedConfiguration(),'configstate':_0x37e388(0x149)});}function emitLoadingProgress(){const _0x223a9d=_0xe8d69b;proxyEmit(_0x223a9d(0x1fc),loading);}async function getFiat(){const _0x4a3efc=_0xe8d69b;let _0x1ddc4a=gTicker[stablecoins[_0x4a3efc(0x258)][_0x4a3efc(0x12a)]],_0x16b5ee=gTicker[stablecoins[_0x4a3efc(0x176)][_0x4a3efc(0x12a)]];return{'eur':Number(_0x1ddc4a),'usd':Number(_0x16b5ee)};}function capitalize(_0x1f8c1d){const _0x43f001=_0xe8d69b;return _0x1f8c1d['substring'](0x0,0x1)[_0x43f001(0x1f3)]()+_0x1f8c1d[_0x43f001(0x219)](0x1);}function supportedExchanges(){const _0x8b2a45=_0xe8d69b,_0x5ec90b=['ws',_0x8b2a45(0x1e1),'fetchTicker','watchTrades',_0x8b2a45(0x29b),_0x8b2a45(0x1b9),_0x8b2a45(0x136),_0x8b2a45(0x1ab),_0x8b2a45(0x11a)];let _0x1a23ed=[],_0x37cd06=[],_0x411ad0=ccxt[_0x8b2a45(0x231)][_0x8b2a45(0xf6)];_0x411ad0[_0x8b2a45(0x18e)](_0x2bd77e=>{const _0x273c13=_0x8b2a45;try{const _0x39b674=new ccxt[(_0x273c13(0x231))][_0x2bd77e]();_0x37cd06['push'](_0x39b674);}catch(_0x55a31a){}}),_0x37cd06[_0x8b2a45(0x18e)](_0x3c649f=>{const _0x482c3c=_0x8b2a45;let _0x186cd6=0x0;_0x5ec90b[_0x482c3c(0x18e)](_0x4cc3aa=>{const _0x59f34f=_0x482c3c;_0x4cc3aa in _0x3c649f[_0x59f34f(0x2bc)]&&_0x3c649f[_0x59f34f(0x2bc)][_0x4cc3aa]&&_0x186cd6++;}),_0x186cd6==_0x5ec90b['length']&&_0x1a23ed['push'](capitalize(_0x3c649f['id']));});let _0x5c9018=[];return _0x411ad0[_0x8b2a45(0x18e)](_0x39b3b7=>{const _0x7aa420=_0x8b2a45;_0x39b3b7=capitalize(_0x39b3b7);if(!_0x1a23ed[_0x7aa420(0x2b5)](_0x39b3b7))_0x5c9018[_0x7aa420(0x254)](_0x39b3b7);}),_0x1a23ed;}function setStartDatePerformance(){const _0x41830c=_0xe8d69b;if(config&&config[_0x41830c(0x209)][0x0][_0x41830c(0x1d1)][_0x41830c(0x276)]!=0x0){const _0x27d584=config[_0x41830c(0x209)][0x0][_0x41830c(0x1d1)];dbPerformance[_0x41830c(0x256)](_0x41830c(0x22f))[_0x41830c(0x17c)]({'date':config[_0x41830c(0x2a4)]})[_0x41830c(0x230)]({'coins':_0x27d584})['write']();}}async function recreateCoinResults(){const _0x4dc029=_0xe8d69b;recreationNeeded=![];let _0x16361b,_0x4f3d6b=[];try{for(const _0x109083 of currentCoins){if(_0x109083[_0x4dc029(0x12a)]!=config[_0x4dc029(0x156)]){let _0x12d721=0x0,_0xd0456e,_0x1f2bba;_0x16361b=await getAllEventOrders(_0x109083['symbol']);if(_0x16361b['length']>0x0)_0x16361b[_0x4dc029(0x18e)](_0x407038=>{const _0x420eb5=_0x4dc029,_0x4660c7=_0x109083[_0x420eb5(0x2ae)][_0x420eb5(0x2b5)](config[_0x420eb5(0x156)]+'/');_0x4f3d6b[_0x420eb5(0x254)]({'datetime':_0x407038['datetime'],'coin':_0x109083[_0x420eb5(0x12a)],'symbol':_0x109083[_0x420eb5(0x2ae)],'side':_0x407038[_0x420eb5(0x19b)],'reverse':_0x4660c7,'amount':formatResult(_0x407038[_0x420eb5(0x12e)],0x8),'filled':formatResult(_0x407038[_0x420eb5(0x12e)],0x8),'price':formatResult(_0x407038['price'],0x8)}),_0x12d721=_0x407038[_0x420eb5(0x19b)]==_0x420eb5(0x180)?_0x12d721+_0x407038[_0x420eb5(0x12e)]:_0x12d721-_0x407038[_0x420eb5(0x12e)];if(!_0x1f2bba)_0x1f2bba=_0x407038[_0x420eb5(0x14d)];});_0xd0456e=_0x109083[_0x4dc029(0x240)]-_0x12d721;let _0x211986;config[_0x4dc029(0x209)][_0x4dc029(0x18e)](_0x519bbf=>{const _0x2585a9=_0x4dc029;!_0x211986&&(_0x211986=_0x519bbf[_0x2585a9(0x1d1)][_0x2585a9(0x17c)](_0x52d690=>_0x52d690[_0x2585a9(0x12a)]==_0x109083[_0x2585a9(0x12a)]),_0x211986&&(_0xd0456e=_0x211986[_0x2585a9(0x240)],_0x1f2bba=_0x211986['price']));});let _0x5b2c36=dbCoinResults[_0x4dc029(0x256)](_0x4dc029(0x1a4))[_0x4dc029(0x17c)]({'coin':_0x109083[_0x4dc029(0x12a)]})[_0x4dc029(0x1b3)]();_0x5b2c36={'coin':_0x109083['coin'],'number':_0xd0456e,'breakeven':_0x1f2bba,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4dc029(0x256)]('coins')[_0x4dc029(0x17c)]({'coin':_0x109083[_0x4dc029(0x12a)]})[_0x4dc029(0x230)](_0x5b2c36)['write']();}}_0x4f3d6b[_0x4dc029(0x1d2)]((_0x2f94c2,_0x374842)=>_0x2f94c2[_0x4dc029(0x194)]>_0x374842[_0x4dc029(0x194)]?0x1:_0x374842[_0x4dc029(0x194)]>_0x2f94c2[_0x4dc029(0x194)]?-0x1:0x0);let _0x31f870=0x0;for(let _0x12e07a of _0x4f3d6b){await updateCoinResults(_0x12e07a,!![]);}}catch(_0x34e82b){await handleError(_0x34e82b,'recreateCoinResults()');}}async function getAllEventOrders(_0x1ad2c6){const _0x188a71=_0xe8d69b;let _0x3ff6fd=[],_0x1291c4=dbLogs[_0x188a71(0x256)]('logs')[_0x188a71(0x1a7)](_0x40473f=>{const _0x5e6827=_0x188a71,_0x129db8=_0x40473f[_0x5e6827(0x21f)]['toLowerCase']();return _0x129db8[_0x5e6827(0x2b5)](_0x1ad2c6['toLowerCase']())&&(_0x129db8['includes']('market')&&_0x129db8[_0x5e6827(0x2b5)](_0x5e6827(0x27f))||_0x129db8[_0x5e6827(0x2b5)](_0x5e6827(0x12e))&&_0x129db8[_0x5e6827(0x2b5)]('order'));})['sortBy']('time')['value']();return _0x1291c4[_0x188a71(0x18e)](_0x2d810e=>{const _0x267887=_0x188a71,_0x500d51=_0x2d810e[_0x267887(0x21f)][_0x267887(0x2b5)](_0x267887(0x151))?_0x267887(0x151):_0x267887(0x180),_0x1e2cd5=/#([0-9]|\.)+\s/i,_0x3ffa14=Number(_0x1e2cd5['exec'](_0x2d810e['event'])[0x0][_0x267887(0x1e3)](0x1)),_0x342ed3=/@([0-9]|\.)+$/i,_0x409361=Number(_0x342ed3['exec'](_0x2d810e[_0x267887(0x21f)])[0x0][_0x267887(0x1e3)](0x1));_0x3ff6fd[_0x267887(0x254)]({'datetime':_0x2d810e[_0x267887(0x283)],'coin':symbolToCoin(_0x1ad2c6),'symbol':_0x1ad2c6,'side':_0x500d51,'amount':_0x3ffa14,'filled':_0x3ffa14,'price':_0x409361});}),_0x3ff6fd;}async function validate24hChanges(){const _0x16e2bd=_0xe8d69b;for(const _0x45691c of currentCoins){if(_0x45691c['coin']!=config[_0x16e2bd(0x156)]){let _0x3cb558;_0x45691c[_0x16e2bd(0x1fe)]?_0x3cb558=formatResult((0x1/(gChange[_0x45691c[_0x16e2bd(0x2ae)]]/0x64+0x1)-0x1)*0x64,0x3):_0x3cb558=gChange[_0x45691c['symbol']],_0x3cb558<config[_0x16e2bd(0x160)]&&(logHistory(_0x16e2bd(0x229),_0x45691c[_0x16e2bd(0x12a)]+_0x16e2bd(0x21a)+_0x3cb558+'%'),logHistory(_0x16e2bd(0x229),_0x16e2bd(0x135)),logHistory(_0x16e2bd(0x229),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x3b9183,_0x581a01){const _0x278374=_0xe8d69b;if(!_0x3b9183)return!![];const _0x1b23e6=_0x581a01[_0x278374(0x250)]('.'),_0x387144=_0x3b9183[_0x278374(0x250)]('.');for(var _0x2b49a0=0x0;_0x2b49a0<_0x387144[_0x278374(0x276)];_0x2b49a0++){const _0x218bd4=~~_0x387144[_0x2b49a0],_0x4e2747=~~_0x1b23e6[_0x2b49a0];if(_0x218bd4<_0x4e2747)return!![];if(_0x218bd4>_0x4e2747)return![];}return![];}async function oneTimeMigration(){const _0x38cd4e=_0xe8d69b;let _0x4ff513=dbLogs[_0x38cd4e(0x256)](_0x38cd4e(0x23e))['value']();if(isOlderVersion(_0x4ff513,_0x38cd4e(0x294))){let _0x7c3896=[];const _0x4a2aaf=dbLogs[_0x38cd4e(0x256)](_0x38cd4e(0x103))['value']();_0x4a2aaf[_0x38cd4e(0x18e)](_0x55456c=>{const _0x51251a=_0x38cd4e;_0x7c3896[_0x51251a(0x254)]({'time':_0x55456c[_0x51251a(0x283)],'type':_0x55456c[_0x51251a(0x13d)],'event':_0x55456c['event']});}),dbLogs[_0x38cd4e(0x256)](_0x38cd4e(0x103))['assign'](_0x7c3896)['write']();}let _0x3c5738=dbConfig[_0x38cd4e(0x256)]('version')[_0x38cd4e(0x1b3)]();if(isOlderVersion(_0x3c5738,_0x38cd4e(0x294))){let _0x2f0dc0=dbConfig[_0x38cd4e(0x256)](_0x38cd4e(0x266))[_0x38cd4e(0x17c)]({'botID':botID})[_0x38cd4e(0x1b3)]();if(_0x2f0dc0){let _0x2da619=[];_0x2f0dc0[_0x38cd4e(0x288)][_0x38cd4e(0x18e)](_0x48ce7a=>{const _0x16bf6f=_0x38cd4e;_0x2da619['push']({'coin':_0x48ce7a[_0x16bf6f(0x12a)],'number':_0x48ce7a[_0x16bf6f(0x290)],'price':_0x48ce7a[_0x16bf6f(0x224)]}),delete _0x48ce7a[_0x16bf6f(0x290)],delete _0x48ce7a['startprice'];});if(_0x2da619[_0x38cd4e(0x276)]!==0x0)fs[_0x38cd4e(0x1a0)](configbackuppath+('starting-balance-'+botID+_0x38cd4e(0x284)),JSON[_0x38cd4e(0x26d)](_0x2da619,null,0x4),function(_0x24d108){if(_0x24d108){}});const _0x1c1338=(_0x2e5fa0,_0x1a2e21)=>{const _0xdee825=_0x38cd4e;let _0x2c952f=[];_0x1a2e21[_0xdee825(0x18e)](_0x3147a9=>{const _0x260d8b=_0xdee825,_0x3d2ca2=_0x2e5fa0[_0x260d8b(0x17c)](_0x5af7e0=>_0x5af7e0[_0x260d8b(0x12a)]==_0x3147a9[_0x260d8b(0x12a)]);if(!_0x3d2ca2)_0x2c952f[_0x260d8b(0x254)](_0x3147a9);});let _0x1f904a=[];return _0x2e5fa0[_0xdee825(0x18e)](_0x42bcba=>{const _0x27e3cf=_0xdee825,_0x41dfe4=_0x1a2e21[_0x27e3cf(0x17c)](_0x20cd04=>_0x20cd04['coin']==_0x42bcba[_0x27e3cf(0x12a)]);if(!_0x41dfe4||_0x41dfe4['number']==0x0&&_0x42bcba[_0x27e3cf(0x240)]!=0x0)_0x1f904a[_0x27e3cf(0x254)](_0x42bcba);}),{'missingDay1':_0x2c952f,'notInDay2':_0x1f904a};},_0x59ebde=dbPerformance['get'](_0x38cd4e(0x22f))[_0x38cd4e(0x211)]()[_0x38cd4e(0x1b3)]();if(_0x59ebde[_0x38cd4e(0x276)]>0x1){const {missingDay1:_0x212bc8,notInDay2:_0x1bce8c}=_0x1c1338(_0x2da619,_0x59ebde[0x1]['coins']);_0x2da619=[..._0x2da619,..._0x212bc8],_0x1bce8c[_0x38cd4e(0x18e)](_0x5b8670=>{const _0x56ba37=_0x38cd4e;let _0x54a944=_0x2da619[_0x56ba37(0x226)](_0x3bcb07=>_0x3bcb07[_0x56ba37(0x12a)]==_0x5b8670[_0x56ba37(0x12a)]);_0x54a944!=-0x1&&_0x2da619[_0x56ba37(0x14a)](_0x54a944,0x1);});}_0x2da619['sort']((_0x4bfd35,_0xad187)=>_0x4bfd35[_0x38cd4e(0x12a)]>_0xad187[_0x38cd4e(0x12a)]?0x1:_0xad187['coin']>_0x4bfd35[_0x38cd4e(0x12a)]?-0x1:0x0);let _0x570609=[{'date':_0x2f0dc0['startdate'],'changes':_0x2da619}];_0x59ebde[_0x38cd4e(0x276)]>0x2&&_0x59ebde[_0x38cd4e(0x18e)]((_0x3727b5,_0x405433)=>{const _0x5f24e5=_0x38cd4e;if(_0x405433>0x0&&_0x405433<_0x59ebde[_0x5f24e5(0x276)]-0x1){const {missingDay1:_0x5d2e99,notInDay2:_0x293b54}=_0x1c1338(_0x59ebde[_0x405433][_0x5f24e5(0x1a4)],_0x59ebde[_0x405433+0x1]['coins']);_0x2da619=[],(_0x5d2e99[_0x5f24e5(0x276)]!=0x0||_0x293b54[_0x5f24e5(0x276)]!=0x0)&&(_0x5d2e99[_0x5f24e5(0x276)]!=0x0&&_0x2da619[_0x5f24e5(0x254)](..._0x5d2e99),_0x293b54[_0x5f24e5(0x276)]!=0x0&&(_0x293b54[_0x5f24e5(0x18e)](_0x28d682=>{const _0xadf195=_0x5f24e5;_0x28d682['number']=-_0x28d682[_0xadf195(0x240)];}),_0x2da619[_0x5f24e5(0x254)](..._0x293b54)),_0x2da619['sort']((_0x2ebe92,_0x2d4d34)=>_0x2ebe92['coin']>_0x2d4d34[_0x5f24e5(0x12a)]?0x1:_0x2d4d34[_0x5f24e5(0x12a)]>_0x2ebe92[_0x5f24e5(0x12a)]?-0x1:0x0),_0x570609['push']({'date':_0x59ebde[_0x405433+0x1]['date'],'changes':_0x2da619}));}}),dbConfig[_0x38cd4e(0x256)](_0x38cd4e(0x266))['find']({'botID':botID})[_0x38cd4e(0x230)]({..._0x2f0dc0,'liquidity':_0x570609})[_0x38cd4e(0x1d5)]();}}if(isOlderVersion(_0x3c5738,_0x38cd4e(0xfd))){let _0x58041b=dbConfig[_0x38cd4e(0x256)](_0x38cd4e(0x266))[_0x38cd4e(0x17c)]({'botID':botID})[_0x38cd4e(0x1b3)]();if(_0x58041b){const _0x1da617=_0x58041b[_0x38cd4e(0x2a1)],_0x14960e=_0x1da617?capitalize(_0x1da617):'Binance';dbConfig[_0x38cd4e(0x256)](_0x38cd4e(0x266))[_0x38cd4e(0x17c)]({'botID':botID})[_0x38cd4e(0x230)]({'exchange':_0x14960e})['write']();}}if(isOlderVersion(_0x3c5738,_0x38cd4e(0x1df))){let _0x3a1548=dbConfig[_0x38cd4e(0x256)](_0x38cd4e(0x266))[_0x38cd4e(0x17c)]({'botID':botID})[_0x38cd4e(0x1b3)]();if(_0x3a1548){const _0x47a1d6=_0x3a1548['marketcapEnabled'],_0x24beab=_0x47a1d6?_0x38cd4e(0x272):![];dbConfig[_0x38cd4e(0x256)](_0x38cd4e(0x266))['find']({'botID':botID})['assign']({'marketcapEnabled':_0x24beab})[_0x38cd4e(0x1d5)]();}}if(isOlderVersion(_0x3c5738,_0x38cd4e(0x1de))){let _0x4a5db9=dbConfig['get'](_0x38cd4e(0x266))['find']({'botID':botID})['value']();if(_0x4a5db9){const _0x2e2fbb=_0x4a5db9[_0x38cd4e(0x185)],_0x2dc465=_0x2e2fbb?_0x38cd4e(0x107):![];dbConfig[_0x38cd4e(0x256)]('bot')[_0x38cd4e(0x17c)]({'botID':botID})[_0x38cd4e(0x230)]({'autoliquidity':_0x2dc465})[_0x38cd4e(0x1d5)]();}}let _0x1d6257=dbPerformance[_0x38cd4e(0x256)](_0x38cd4e(0x23e))[_0x38cd4e(0x1b3)]();isOlderVersion(_0x1d6257,_0x38cd4e(0x294))&&setStartDatePerformance();let _0x2528cc=dbCoinResults[_0x38cd4e(0x256)](_0x38cd4e(0x23e))['value']();if(isOlderVersion(_0x2528cc,_0x38cd4e(0x173))){let _0x1fced2=dbCoinResults[_0x38cd4e(0x256)](_0x38cd4e(0x1a4))[_0x38cd4e(0x1b3)]();if(_0x1fced2[_0x38cd4e(0x276)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x23d8c8=_0xe8d69b;dbConfig['set'](_0x23d8c8(0x23e),serverversion)['write'](),dbPerformance['set']('version',serverversion)[_0x23d8c8(0x1d5)](),dbLogs['set']('version',serverversion)[_0x23d8c8(0x1d5)](),dbCoinResults[_0x23d8c8(0x147)](_0x23d8c8(0x23e),serverversion)[_0x23d8c8(0x1d5)]();}function getConfiguration(_0x55e738){const _0x9d364e=_0xe8d69b;let _0x5a96ba=dbConfig['get'](_0x9d364e(0x266))[_0x9d364e(0x17c)]({'botID':_0x55e738})[_0x9d364e(0x1b3)]();if(_0x5a96ba){let _0x1d92ac=![];typeof _0x5a96ba['threshold']==_0x9d364e(0x1b4)&&(_0x5a96ba={..._0x5a96ba,'threshold':Number(_0x5a96ba[_0x9d364e(0x19d)])},_0x1d92ac=!![]),_0x5a96ba[_0x9d364e(0x160)]==undefined&&(_0x5a96ba={..._0x5a96ba,'change24h':-0x14},_0x1d92ac=!![]),_0x5a96ba[_0x9d364e(0x265)]==undefined&&(_0x5a96ba={..._0x5a96ba,'fiat':_0x9d364e(0xf8)},_0x1d92ac=!![]),_0x5a96ba[_0x9d364e(0x2b3)]==undefined&&(_0x5a96ba={..._0x5a96ba,'onepagemode':settings[_0x9d364e(0x2b3)]},_0x1d92ac=!![]),_0x5a96ba[_0x9d364e(0x161)]==undefined&&(_0x5a96ba={..._0x5a96ba,'colorscheme':_0x9d364e(0x22a)},_0x1d92ac=!![]),_0x5a96ba[_0x9d364e(0x185)]==undefined&&(_0x5a96ba={..._0x5a96ba,'autoliquidity':_0x9d364e(0x107)},_0x1d92ac=!![]),_0x5a96ba['marketcapApi']==undefined&&(_0x5a96ba={..._0x5a96ba,'marketcapApi':settings[_0x9d364e(0x1d0)]?!![]:![]},_0x1d92ac=!![]),_0x5a96ba[_0x9d364e(0x215)]==undefined&&(_0x5a96ba={..._0x5a96ba,'marketcapEnabled':![]},_0x1d92ac=!![]),_0x1d92ac&&(_0x5a96ba={'botID':_0x5a96ba[_0x9d364e(0x1b0)],'exchange':_0x5a96ba[_0x9d364e(0x2a1)],'apiKey':_0x5a96ba['apiKey'],'apiSecret':_0x5a96ba[_0x9d364e(0x1b1)],'apiPassword':_0x5a96ba[_0x9d364e(0x1f1)],'basecoin':_0x5a96ba[_0x9d364e(0x156)],'botname':_0x5a96ba['botname'],'showname':_0x5a96ba[_0x9d364e(0x2a0)],'threshold':_0x5a96ba[_0x9d364e(0x19d)],'ordertype':_0x5a96ba[_0x9d364e(0x183)],'timeout':_0x5a96ba[_0x9d364e(0x1cb)],'fiat':_0x5a96ba[_0x9d364e(0x265)],'startdate':_0x5a96ba[_0x9d364e(0x2a4)],'recreate':_0x5a96ba[_0x9d364e(0x13e)],'timeshift':_0x5a96ba[_0x9d364e(0x1fb)],'onepagemode':_0x5a96ba[_0x9d364e(0x2b3)],'headless':_0x5a96ba[_0x9d364e(0x2a6)],'cooldown':_0x5a96ba[_0x9d364e(0x165)],'change24h':_0x5a96ba['change24h'],'emojibuy':_0x5a96ba[_0x9d364e(0x1e2)],'emojisell':_0x5a96ba[_0x9d364e(0x124)],'colorscheme':_0x5a96ba[_0x9d364e(0x161)],'marketcapApi':_0x5a96ba[_0x9d364e(0x1d0)],'marketcapEnabled':_0x5a96ba[_0x9d364e(0x215)],'portfolio':_0x5a96ba['portfolio'],'autoliquidity':_0x5a96ba[_0x9d364e(0x185)],'liquidity':_0x5a96ba['liquidity'],'openOrders':_0x5a96ba[_0x9d364e(0x227)]},dbConfig[_0x9d364e(0x256)](_0x9d364e(0x266))['remove']()[_0x9d364e(0x1d5)](),dbConfig['get']('bot')[_0x9d364e(0x254)](_0x5a96ba)[_0x9d364e(0x1d5)]());}else _0x5a96ba={'botID':_0x55e738,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x55e738,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x9d364e(0x2b3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x9d364e(0x22a),'marketcapApi':settings[_0x9d364e(0x1d0)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x9d364e(0x107),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5a96ba;}function emittedConfiguration(){const _0x1b5a32=_0xe8d69b;let _0x2769a2;if(config[_0x1b5a32(0x15b)]=='')_0x2769a2={...config,'configstate':_0x1b5a32(0x152)};else config[_0x1b5a32(0x15b)]==_0x1b5a32(0x260)?_0x2769a2={...config,'configstate':_0x1b5a32(0x23b)}:(_0x2769a2={...config,'apiKey':_0x1b5a32(0xfc),'apiSecret':'************'},config['apiPassword']&&(_0x2769a2[_0x1b5a32(0x1f1)]=_0x1b5a32(0xfc)));return _0x2769a2['enableFiatToggle']=enableFiatToggle,_0x2769a2;}function getSettings(){const _0x104d40=_0xe8d69b;return dbSettings[_0x104d40(0x256)](_0x104d40(0x2ac))[_0x104d40(0x1b3)]();}function getSecure(){const _0x10fa27=_0xe8d69b;return dbSecure['get'](_0x10fa27(0x21c))[_0x10fa27(0x1b3)]()||{};}function updateTimeshift(_0x1a1be4){const _0x1de4a8=_0xe8d69b;let _0x2fcdff=dbConfig['get'](_0x1de4a8(0x266))[_0x1de4a8(0x17c)]({'botID':botID})[_0x1de4a8(0x1b3)]();_0x2fcdff&&dbConfig['get'](_0x1de4a8(0x266))[_0x1de4a8(0x17c)]({'botID':botID})[_0x1de4a8(0x230)]({'timeshift':_0x1a1be4})[_0x1de4a8(0x1d5)](),config['timeshift']=_0x1a1be4,proxyEmit(_0x1de4a8(0x241),emittedConfiguration());}function updateOnepagemode(_0xb29e1){const _0xdf03ec=_0xe8d69b;let _0x27d78a=dbConfig[_0xdf03ec(0x256)]('bot')['find']({'botID':botID})[_0xdf03ec(0x1b3)]();_0x27d78a&&dbConfig[_0xdf03ec(0x256)]('bot')[_0xdf03ec(0x17c)]({'botID':botID})[_0xdf03ec(0x230)]({'onepagemode':_0xb29e1})['write'](),config[_0xdf03ec(0x2b3)]=_0xb29e1,proxyEmit(_0xdf03ec(0x241),emittedConfiguration());}function updateMarketcapApi(_0x3e106e){const _0x23b6ef=_0xe8d69b,_0x217d1e=_0x3e106e?!![]:![];let _0x5e51e5=dbConfig[_0x23b6ef(0x256)]('bot')['find']({'botID':botID})[_0x23b6ef(0x1b3)]();_0x5e51e5&&dbConfig[_0x23b6ef(0x256)](_0x23b6ef(0x266))[_0x23b6ef(0x17c)]({'botID':botID})[_0x23b6ef(0x230)]({'marketcapApi':_0x217d1e})['write'](),config[_0x23b6ef(0x1d0)]=_0x217d1e,getMarketCap(),proxyEmit(_0x23b6ef(0x241),emittedConfiguration());}async function storeConfiguration(_0x253d97){const _0x3ea9f3=_0xe8d69b;logger['debug']('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x28f4db=![],_0x4cadea=![],_0xe1feda=[];_0x253d97[_0x3ea9f3(0x288)][_0x3ea9f3(0x18e)](_0x295332=>{const _0x804b3=_0x3ea9f3;if(!_0x295332[_0x804b3(0x19e)]&&_0x295332[_0x804b3(0x12a)]!=_0x253d97[_0x804b3(0x156)])_0xe1feda[_0x804b3(0x254)](_0x295332[_0x804b3(0x2ae)]);}),_0xe1feda['forEach'](_0x2ae0be=>{const _0x3854db=_0x3ea9f3,_0x25690d=currentCoins[_0x3854db(0x17c)](_0x398e9f=>_0x398e9f[_0x3854db(0x2ae)]==_0x2ae0be);!_0x25690d&&(_0x28f4db=!![]);}),currentCoins[_0x3ea9f3(0x18e)](_0x2ce4ee=>{const _0x5c20eb=_0x3ea9f3;if(_0x2ce4ee[_0x5c20eb(0x12a)]!=config[_0x5c20eb(0x156)]){const _0x14370d=_0xe1feda['find'](_0x5353cb=>_0x5353cb==_0x2ce4ee[_0x5c20eb(0x2ae)]);!_0x14370d&&(_0x28f4db=!![]);}}),_0x253d97['portfolio']['forEach'](_0xbbfe8f=>{const _0x1f26eb=_0x3ea9f3,_0x505cf9=config['portfolio'][_0x1f26eb(0x17c)](_0x20a312=>_0x20a312['coin']==_0xbbfe8f[_0x1f26eb(0x12a)]);if(_0x505cf9&&_0xbbfe8f['offset']!=_0x505cf9[_0x1f26eb(0x278)])_0x4cadea=!![];});let _0x217a2d=dbConfig[_0x3ea9f3(0x256)](_0x3ea9f3(0x266))[_0x3ea9f3(0x17c)]({'botID':botID})[_0x3ea9f3(0x1b3)]();_0x253d97={..._0x253d97,'apiKey':decryptRSA(secure[_0x3ea9f3(0x248)],_0x253d97[_0x3ea9f3(0x15b)]),'apiSecret':decryptRSA(secure[_0x3ea9f3(0x248)],_0x253d97['apiSecret'])};_0x253d97[_0x3ea9f3(0x1f1)]&&(_0x253d97['apiPassword']=decryptRSA(secure[_0x3ea9f3(0x248)],_0x253d97[_0x3ea9f3(0x1f1)]));let _0x3c49b1=![];if(_0x217a2d){_0x253d97[_0x3ea9f3(0x15b)]==_0x3ea9f3(0xfc)?_0x253d97[_0x3ea9f3(0x15b)]=config[_0x3ea9f3(0x15b)]:_0x3c49b1=!![];_0x253d97['apiSecret']=='************'?_0x253d97[_0x3ea9f3(0x1b1)]=config[_0x3ea9f3(0x1b1)]:_0x3c49b1=!![];if(_0x253d97[_0x3ea9f3(0x1f1)]==_0x3ea9f3(0xfc))_0x253d97[_0x3ea9f3(0x1f1)]=config[_0x3ea9f3(0x1f1)];else{if(_0x253d97[_0x3ea9f3(0x1f1)])_0x3c49b1=!![];}dbConfig[_0x3ea9f3(0x256)](_0x3ea9f3(0x266))[_0x3ea9f3(0x17c)]({'botID':botID})[_0x3ea9f3(0x230)](_0x253d97)['write']();}else dbConfig[_0x3ea9f3(0x256)](_0x3ea9f3(0x266))[_0x3ea9f3(0x254)](_0x253d97)['write'](),_0x3c49b1=!![],process['send']({'status':_0x3ea9f3(0x1c8),'live':_0x3ea9f3(0x20a)},_0x35fcbd=>{});process[_0x3ea9f3(0x2ba)]({'botname':_0x253d97[_0x3ea9f3(0x2b1)]},_0x4fe2c0=>{}),config={..._0x253d97},updateBotManager(),proxyEmit(_0x3ea9f3(0x2a3)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3c49b1)!_0x217a2d?await reset(!![]):getBalances();else _0x28f4db||_0x4cadea?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x2f8aa5){const _0x3f5c4b=_0xe8d69b,_0x3ebd3f={...config,'headless':_0x2f8aa5[_0x3f5c4b(0x2a6)]};let _0x44a540=dbConfig['get'](_0x3f5c4b(0x266))[_0x3f5c4b(0x17c)]({'botID':botID})[_0x3f5c4b(0x1b3)]();_0x44a540&&dbConfig['get'](_0x3f5c4b(0x266))[_0x3f5c4b(0x17c)]({'botID':botID})[_0x3f5c4b(0x230)](_0x3ebd3f)['write'](),config={..._0x3ebd3f},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x1d6c0a){const _0x44b496=_0xe8d69b,_0x1fd36d={...config,'fiat':_0x1d6c0a};let _0x11900c=dbConfig[_0x44b496(0x256)](_0x44b496(0x266))[_0x44b496(0x17c)]({'botID':botID})[_0x44b496(0x1b3)]();_0x11900c&&dbConfig['get']('bot')['find']({'botID':botID})[_0x44b496(0x230)](_0x1fd36d)[_0x44b496(0x1d5)](),config={..._0x1fd36d},proxyEmit(_0x44b496(0x241),emittedConfiguration());}function resetHistory(){const _0x4c2b58=_0xe8d69b;logger[_0x4c2b58(0x1cd)](_0x4c2b58(0x108));try{if(fs[_0x4c2b58(0x127)](path['join'](configpath,'bot-'+botID+'-events.json')))fs[_0x4c2b58(0x2b6)](path[_0x4c2b58(0xf5)](configpath,'bot-'+botID+_0x4c2b58(0x1e6)));if(fs[_0x4c2b58(0x127)](path[_0x4c2b58(0xf5)](configpath,'bot-'+botID+'-performance.json')))fs[_0x4c2b58(0x2b6)](path[_0x4c2b58(0xf5)](configpath,_0x4c2b58(0x281)+botID+'-performance.json'));if(fs[_0x4c2b58(0x127)](path['join'](configpath,_0x4c2b58(0x281)+botID+_0x4c2b58(0x181))))fs[_0x4c2b58(0x2b6)](path[_0x4c2b58(0xf5)](configpath,_0x4c2b58(0x281)+botID+_0x4c2b58(0x181)));}catch(_0x1b2223){if(_0x1b2223)logger[_0x4c2b58(0x1cd)]('Error\x20while\x20deleting\x20files:\x20',_0x1b2223);}const _0x39f24c=getDate();let _0x5d37f9=[];currentCoins['forEach'](_0x5d98a3=>{const _0x4a5967=_0x4c2b58;_0x5d37f9['push']({'coin':_0x5d98a3[_0x4a5967(0x12a)],'number':_0x5d98a3[_0x4a5967(0x240)],'price':_0x5d98a3[_0x4a5967(0x274)]});});let _0x50246e=dbConfig['get'](_0x4c2b58(0x266))[_0x4c2b58(0x17c)]({'botID':botID})[_0x4c2b58(0x1b3)]();_0x50246e&&(dbConfig[_0x4c2b58(0x256)]('bot')[_0x4c2b58(0x17c)]({'botID':botID})[_0x4c2b58(0x230)]({'liquidity':[{'date':_0x39f24c,'changes':_0x5d37f9}]})['write'](),config[_0x4c2b58(0x209)]=[]),restartBot(!![]);}function noslash(_0x4f9a61){const _0x34760f=_0xe8d69b;return _0x4f9a61[_0x34760f(0x179)]('/','');}function updateHighestFee(_0x5836a8){const _0x15294c=_0xe8d69b;if(_0x5836a8[_0x15294c(0x1fe)]){let _0x116f76={'filled':_0x5836a8[_0x15294c(0x12e)]*_0x5836a8[_0x15294c(0x14d)],'amount':_0x5836a8['filled']*_0x5836a8[_0x15294c(0x14d)],'side':_0x5836a8[_0x15294c(0x19b)]==_0x15294c(0x151)?_0x15294c(0x180):_0x15294c(0x151),'price':0x1/_0x5836a8[_0x15294c(0x14d)]};_0x5836a8={..._0x5836a8,..._0x116f76};}const _0x26940d=defaultFee*_0x5836a8[_0x15294c(0x12e)]*_0x5836a8['price'];lastFees['recent20'][_0x15294c(0x276)]===0x14&&lastFees['recent20'][_0x15294c(0x1b5)](),lastFees[_0x15294c(0x299)][_0x15294c(0x254)](_0x26940d),lastFees['highest']=Math[_0x15294c(0x1e9)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0xe6fb4a){const _0x16b157=_0xe8d69b;logger[_0x16b157(0x1be)](_0x16b157(0x11e)+_0xe6fb4a['symbol']+_0x16b157(0x10f)+_0xe6fb4a[_0x16b157(0x2a7)]+_0x16b157(0x10f)+_0xe6fb4a[_0x16b157(0x12e)]+_0x16b157(0x11d)+_0xe6fb4a[_0x16b157(0x14f)]+_0x16b157(0x10f)+_0xe6fb4a['id']);let _0x2f2c71=_0xe6fb4a[_0x16b157(0x2a7)],_0x5181b3=![];currentCoins[_0x16b157(0x18e)](_0x1ddea0=>{const _0x2f8826=_0x16b157;_0x1ddea0['symbol']==_0xe6fb4a[_0x2f8826(0x2ae)]&&(_0x5181b3=!![]);});if(!_0x5181b3)return;const _0x72080f=currentCoins[_0x16b157(0x17c)](_0x464e4a=>_0x464e4a[_0x16b157(0x2ae)]==_0xe6fb4a[_0x16b157(0x2ae)]),_0x24ecb8=_0x72080f['coin'],_0xb554f=_0x4ee552=>{const _0x1295e2=_0x16b157,_0x3285db=currentCoins['find'](_0x160e9f=>_0x160e9f['symbol']==_0xe6fb4a[_0x1295e2(0x2ae)]);if(_0x3285db)_0x3285db[_0x1295e2(0x191)]=_0x4ee552;};let _0x466821=![];for(const _0x5ab84a of lastOrders){const _0x5a4103=0x64,_0x2c0a9e=0x1388;let _0x536be9=0x0;while(!_0x5ab84a[_0x16b157(0x23c)]&&_0x536be9*_0x5a4103<_0x2c0a9e){_0x536be9++,await sleep(_0x5a4103);}if(_0x536be9>0x0)logger[_0x16b157(0x1be)](_0x16b157(0x10e)+_0x536be9*_0x5a4103/0x3e8+_0x16b157(0x28f));_0x5ab84a['orderId']==_0xe6fb4a['id']&&(_0x466821=!![]);}if(_0x2f2c71==_0x16b157(0x237)){_0xb554f(_0x16b157(0x237));if(_0xe6fb4a[_0x16b157(0x12e)]>0x0&&_0xe6fb4a['filled']<_0xe6fb4a['amount']){if(_0x466821){setBlockTransactionDetection(!![]),logger[_0x16b157(0x1be)](_0x16b157(0x18b)+_0xe6fb4a[_0x16b157(0x12e)]+')\x20known\x20order:\x20'+_0xe6fb4a['id']);const _0x1b1d4a=await getCoins(balanceUpdateDelay,undefined,undefined,_0x24ecb8);[currentCoins,currentCoinsAll]=_0x1b1d4a,setBlockTransactionDetection(![]);}else logger[_0x16b157(0x1be)](_0x16b157(0x18b)+_0xe6fb4a[_0x16b157(0x12e)]+')\x20unknown\x20order:\x20'+_0xe6fb4a['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x2f2c71=='canceled'){_0xb554f(_0x16b157(0x154)),lastOrders=lastOrders[_0x16b157(0x1a7)](_0x43f8d1=>_0x43f8d1[_0x16b157(0x2ae)]!=_0xe6fb4a[_0x16b157(0x2ae)]);const _0xd74510=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xd74510,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x2f2c71==_0x16b157(0x1ce)){if(lastOrders)for(const _0x2f4681 of lastOrders){if(_0x2f4681[_0x16b157(0x23c)]==_0xe6fb4a['id']){logger[_0x16b157(0x1be)]('1\x20-\x20FILLED\x20known\x20order:\x20'+_0xe6fb4a['id']),_0x466821=!![];if(_0x2f4681['filled']==0x0){setBlockTransactionDetection(!![]),logger[_0x16b157(0x1be)](_0x16b157(0x2bd)+_0xe6fb4a['id']);if(_0xe6fb4a[_0x16b157(0x264)])_0x2f4681[_0x16b157(0x14d)]=_0xe6fb4a[_0x16b157(0x264)];else{if(_0xe6fb4a[_0x16b157(0x14d)])_0x2f4681[_0x16b157(0x14d)]=_0xe6fb4a[_0x16b157(0x14d)];else{}}_0x2f4681[_0x16b157(0x12e)]=_0xe6fb4a[_0x16b157(0x12e)],updateHighestFee(_0x2f4681);const _0x309839=await getCoins(balanceUpdateDelay,undefined,undefined,_0x24ecb8);[currentCoins,currentCoinsAll]=_0x309839,setBlockTransactionDetection(![]),await validateOrders(),_0xb554f(_0x16b157(0x12e)),_0x2f4681['fee']={'currency':_0xe6fb4a[_0x16b157(0x171)]?_0xe6fb4a[_0x16b157(0x171)][_0x16b157(0x153)]:null,'cost':_0xe6fb4a[_0x16b157(0x171)]?_0xe6fb4a[_0x16b157(0x171)]['cost']:0x0},await updateCoinResults(_0x2f4681);}}}!_0x466821&&(logger[_0x16b157(0x1be)](_0x16b157(0x1e5)+_0xe6fb4a['id']),_0xb554f('filled'),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x24a7b1=JSON['parse'](lastBalances[_0x16b157(0x288)]);const _0x49f975=_0x24a7b1[_0x16b157(0x17c)](_0x1d34af=>_0x1d34af['symbol']==_0xe6fb4a['symbol']);if(_0x49f975){if(_0x2f2c71==_0x16b157(0x237))_0x49f975['orderstatus']=_0x49f975['orderstatus']=='filled'?_0x16b157(0x12e):_0x16b157(0x237);else{if(_0x2f2c71==_0x16b157(0x154))_0x49f975[_0x16b157(0x191)]=_0x49f975['orderstatus']=='filled'?'filled':_0x16b157(0x154);else _0x2f2c71==_0x16b157(0x1ce)&&(_0x49f975[_0x16b157(0x191)]=_0x16b157(0x12e));}}lastBalances={...lastBalances,'portfolio':JSON[_0x16b157(0x26d)](_0x24a7b1)},proxyEmit(_0x16b157(0x289),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x3d2f5c=_0xe8d69b;await getOpenOrders();let _0x358988=![];currentCoins[_0x3d2f5c(0x18e)](_0x34df49=>{const _0x2fb056=_0x3d2f5c;_0x358988=allOpenOrders[_0x2fb056(0x17c)](_0x3468da=>_0x3468da[_0x2fb056(0x2ae)]==_0x34df49['symbol']),_0x34df49[_0x2fb056(0x191)]=_0x358988?_0x2fb056(0x237):_0x2fb056(0x1f4);});}async function fetchBalance(_0x3cf628=!![]){const _0x2d4539=_0xe8d69b;let _0x4d43c5,_0x1d73f8;try{return _0x4d43c5=await exchange[_0x2d4539(0x11a)](),_0x1d73f8=_0x4d43c5[_0x2d4539(0x157)],_0x1d73f8;}catch(_0x16ebe7){return!_0x3cf628?handleErrorNoStop(_0x16ebe7,_0x2d4539(0x17a)):await handleError(_0x16ebe7,'fetchBalance()'),![];}}async function getCoins(_0x4435e4=0x0,_0x2c674b=!![],_0x1b310a=config[_0xe8d69b(0x156)],_0x5e6b5b){const _0x349752=_0xe8d69b;let _0x2958e6=[],_0x359438=[],_0x59f242=[],_0x6a3d59;if(_0x4435e4)await sleep(_0x4435e4);if(botPaused)return[currentCoins,currentCoinsAll];let _0x46dc93=![],_0x448156=0x0,_0x134354,_0x1fc86c;_0x5e6b5b&&(_0x134354=currentCoins['find'](_0x1e8c7b=>_0x1e8c7b[_0x349752(0x12a)]==_0x5e6b5b),_0x134354&&(_0x1fc86c=_0x134354[_0x349752(0x221)],delete _0x134354[_0x349752(0x221)]));while(!_0x46dc93){_0x6a3d59=await fetchBalance(_0x2c674b);if(_0x6a3d59){if(_0x5e6b5b){if(_0x6a3d59[_0x5e6b5b]!=_0x1fc86c)logger[_0x349752(0x1be)]('Valid\x20balance\x20for\x20'+_0x5e6b5b+':\x20'+_0x6a3d59[_0x5e6b5b]+'\x20('+_0x1fc86c+')'),_0x46dc93=!![];else{logger['debug'](_0x349752(0x177)+_0x5e6b5b+':\x20'+_0x6a3d59[_0x5e6b5b]+'\x20('+_0x1fc86c+')'),_0x448156++;if(_0x448156<balanceUpdateRetries)await sleep(balanceUpdateDelay);else{logger[_0x349752(0x1be)](_0x349752(0x168)+_0x448156+'\x20attempts');break;}}}else break;}else return[currentCoins,currentCoinsAll];}for(const [_0x3c4f45,_0x4624ec]of Object[_0x349752(0x15a)](_0x6a3d59)){_0x59f242[_0x349752(0x254)](_0x3c4f45);}config[_0x349752(0x288)][_0x349752(0x18e)](_0x2ef2d2=>{const _0x62eb3e=_0x349752;!_0x59f242[_0x62eb3e(0x2b5)](_0x2ef2d2[_0x62eb3e(0x12a)])&&(_0x6a3d59[_0x2ef2d2[_0x62eb3e(0x12a)]]=0x0);});if(_0x1b310a=='')for(const [_0x135980,_0xce124]of Object['entries'](_0x6a3d59)){_0xce124!=0x0&&_0x2958e6[_0x349752(0x254)]({'coin':_0x135980});}else for(const [_0x352545,_0x98d072]of Object['entries'](_0x6a3d59)){const _0x502ff4=config[_0x349752(0x288)][_0x349752(0x17c)](_0x3b4b15=>_0x3b4b15['coin']==_0x352545),_0x416402=_0x352545+'/'+_0x1b310a,_0x5a2cd8=_0x1b310a+'/'+_0x352545,_0x5d3556=currentCoins['find'](_0x4e7ef2=>_0x4e7ef2[_0x349752(0x12a)]==_0x352545);if((_0x98d072!=0x0||_0x502ff4)&&(allSymbols[_0x349752(0x2b5)](_0x416402)||_0x352545==_0x1b310a))_0x5d3556?_0x2958e6['push']({..._0x5d3556,'number':Math[_0x349752(0x1e9)](_0x98d072+(_0x502ff4&&_0x502ff4[_0x349752(0x278)]||0x0),0x0)}):_0x2958e6[_0x349752(0x254)]({'coin':_0x352545,'symbol':_0x416402,'reverse':![],'number':Math[_0x349752(0x1e9)](_0x98d072+(_0x502ff4&&_0x502ff4[_0x349752(0x278)]||0x0),0x0),'orderstatus':_0x349752(0x1f4)});else{if((_0x98d072!=0x0||_0x502ff4)&&allSymbols[_0x349752(0x2b5)](_0x5a2cd8))_0x5d3556?_0x2958e6[_0x349752(0x254)]({..._0x5d3556,'number':Math[_0x349752(0x1e9)](_0x98d072+(_0x502ff4&&_0x502ff4['offset']||0x0),0x0)}):_0x2958e6[_0x349752(0x254)]({'coin':_0x352545,'symbol':_0x5a2cd8,'reverse':!![],'number':Math[_0x349752(0x1e9)](_0x98d072+(_0x502ff4&&_0x502ff4[_0x349752(0x278)]||0x0),0x0),'orderstatus':_0x349752(0x1f4)});else _0x502ff4&&_0x2958e6[_0x349752(0x254)]({'coin':_0x502ff4[_0x349752(0x12a)],'symbol':_0x502ff4[_0x349752(0x2ae)],'reverse':_0x502ff4[_0x349752(0x1fe)],'number':0x0,'orderstatus':_0x349752(0x1f4)});}}return _0x2958e6[_0x349752(0x1d2)]((_0x4fd78d,_0x41f622)=>_0x4fd78d[_0x349752(0x164)]<_0x41f622[_0x349752(0x164)]?0x1:_0x41f622[_0x349752(0x164)]<_0x4fd78d[_0x349752(0x164)]?-0x1:0x0),_0x359438=cloneDeep(_0x2958e6),_0x2958e6=_0x2958e6['filter'](_0x1ed68a=>{const _0x97d96e=_0x349752,_0x56f4df=config[_0x97d96e(0x288)][_0x97d96e(0x17c)](_0x362ffa=>_0x362ffa[_0x97d96e(0x12a)]==_0x1ed68a['coin']);return _0x56f4df&&!_0x56f4df[_0x97d96e(0x19e)];}),[_0x2958e6,_0x359438];}async function getCoinNumber(_0x5a2dd4){const _0x121d79=_0xe8d69b;let _0x43f11e;try{const _0x380900=await exchange[_0x121d79(0x11a)]();_0x43f11e=_0x380900[_0x121d79(0x157)][_0x5a2dd4];}catch(_0x89522c){await handleError(_0x89522c,'getCoinNumber()');}return _0x43f11e;}async function getOpenOrders(){const _0x12815f=_0xe8d69b;let _0x20e14e;allOpenOrders=[];try{for(const _0x18460e of config['portfolio']){!_0x18460e[_0x12815f(0x19e)]&&_0x18460e[_0x12815f(0x12a)]!=config[_0x12815f(0x156)]&&(_0x20e14e=await exchange['fetchOpenOrders'](_0x18460e[_0x12815f(0x2ae)]),_0x20e14e[_0x12815f(0x276)]>0x0&&allOpenOrders[_0x12815f(0x254)](_0x20e14e[0x0]));}}catch(_0x5c4c93){await handleError(_0x5c4c93,_0x12815f(0xf2));}}async function handleOpenOrders(_0x25580e=0x0){const _0xc15d91=_0xe8d69b;allOpenOrders[_0xc15d91(0x276)]==0x0&&lockOrders==ORDERS[_0xc15d91(0x187)]&&allOrdersPlaced&&(_0x25580e==0x0?(logger['debug'](_0xc15d91(0x268)),_0x25580e++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0xc15d91(0x1be)](_0xc15d91(0x197)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x41e467){const _0x2690f=_0xe8d69b,_0x1bcebd=ccxt[_0x2690f(0x231)][_0x41e467[_0x2690f(0x2a1)][_0x2690f(0x213)]()],_0x524d91=new _0x1bcebd({'apiKey':_0x41e467[_0x2690f(0x15b)],'secret':_0x41e467[_0x2690f(0x1b1)],'options':{'defaultType':_0x2690f(0x1b7)}});if(_0x41e467[_0x2690f(0x1f1)])_0x524d91[_0x2690f(0x118)]=_0x41e467['apiPassword'];try{await _0x524d91[_0x2690f(0x11a)]();}catch(_0x2041d3){logger['debug'](_0x2690f(0x16a)+_0x2041d3[_0x2690f(0x1e7)]());throw _0x2041d3;}}function cloneDeep(_0x4a0ce4){const _0x223de6=_0xe8d69b;return JSON[_0x223de6(0x166)](JSON['stringify'](_0x4a0ce4));}async function getPortfolio(_0x992624){const _0x11e01=_0xe8d69b;let _0x1ba51d=[],_0x5a856b=[],_0x197613=[],_0x404ead;_0x992624[_0x11e01(0x15b)]=decryptRSA(secure[_0x11e01(0x248)],_0x992624[_0x11e01(0x15b)]),_0x992624['apiSecret']=decryptRSA(secure[_0x11e01(0x248)],_0x992624[_0x11e01(0x1b1)]);if(_0x992624[_0x11e01(0x1f1)])_0x992624[_0x11e01(0x1f1)]=decryptRSA(secure[_0x11e01(0x248)],_0x992624[_0x11e01(0x1f1)]);if(_0x992624['apiKey']!=='************'||_0x992624[_0x11e01(0x1b1)]!==_0x11e01(0xfc)||_0x992624['apiPassword']&&_0x992624[_0x11e01(0x1f1)]!==_0x11e01(0xfc)){if(config[_0x11e01(0x2a1)]){if(_0x992624[_0x11e01(0x15b)]==_0x11e01(0xfc))_0x992624[_0x11e01(0x15b)]=config[_0x11e01(0x15b)];if(_0x992624['apiSecret']=='************')_0x992624[_0x11e01(0x1b1)]=config['apiSecret'];if(_0x992624[_0x11e01(0x1f1)]=='************')_0x992624[_0x11e01(0x1f1)]=config[_0x11e01(0x1f1)];}try{await testAPI(_0x992624);}catch(_0x5a901d){if(_0x5a901d['toString']()[_0x11e01(0x2b5)]('AuthenticationError')){logHistory(_0x11e01(0x229),_0x11e01(0x1d6)),logHistory(_0x11e01(0x229),'Error\x20details:\x20'+_0x5a901d[_0x11e01(0x1e7)]()),proxyEmit(_0x11e01(0x1c4),![]);return;}else{if(_0x5a901d[_0x11e01(0x1e7)]()['includes'](_0x11e01(0x116))){logHistory(_0x11e01(0x229),_0x11e01(0x10a)),logHistory(_0x11e01(0x229),_0x11e01(0x200)+_0x5a901d['toString']()),proxyEmit(_0x11e01(0x1c4),![]);return;}else{logHistory(_0x11e01(0x229),_0x11e01(0x174)+_0x5a901d[_0x11e01(0x1e7)]()),logger[_0x11e01(0x1be)](_0x11e01(0x1c6),_0x5a901d),proxyEmit(_0x11e01(0x1c4),![]);return;}}}exchange?updateExchange(_0x992624['apiKey'],_0x992624[_0x11e01(0x1b1)],_0x992624[_0x11e01(0x1f1)]):await initExchange(_0x992624[_0x11e01(0x2a1)],_0x992624[_0x11e01(0x15b)],_0x992624['apiSecret'],_0x992624[_0x11e01(0x1f1)]);await loadSymbols();const _0x53a44c=await getCoins(0x0,![],_0x992624[_0x11e01(0x156)]);_0x197613=cloneDeep(_0x53a44c[0x1]);}else{const _0x390e93=await getCoins();_0x197613=cloneDeep(_0x390e93[0x1]);}if(_0x992624[_0x11e01(0x156)]=='')proxyEmit('portfolio1',!![]),proxyEmit(_0x11e01(0x255),_0x197613);else{_0x197613[_0x11e01(0x18e)](_0x2317f1=>{const _0xe03f94=_0x11e01;if(_0x2317f1[_0xe03f94(0x12a)]!=_0x992624['basecoin']&&allSymbols[_0xe03f94(0x2b5)](_0x2317f1[_0xe03f94(0x2ae)]))_0x1ba51d[_0xe03f94(0x254)](_0x2317f1[_0xe03f94(0x2ae)]);});if(_0x1ba51d[_0x11e01(0x276)]==0x0)logHistory(_0x11e01(0x229),_0x11e01(0x150));else{try{_0x5a856b=await getTickers(_0x1ba51d);}catch(_0x124cbb){logHistory(_0x11e01(0x229),'Unknown\x20error\x20-\x20check\x20logs'),logger[_0x11e01(0x1be)]('Error\x20details:',_0x124cbb),proxyEmit(_0x11e01(0x1c4),![]);return;}_0x197613[_0x11e01(0x18e)](_0x46f954=>{const _0x2a02d2=_0x11e01;_0x46f954['coin']!=_0x992624[_0x2a02d2(0x156)]?_0x5a856b[_0x46f954[_0x2a02d2(0x2ae)]]?_0x404ead=_0x46f954['reverse']?0x1/_0x5a856b[_0x46f954[_0x2a02d2(0x2ae)]][_0x2a02d2(0x274)]:_0x5a856b[_0x46f954[_0x2a02d2(0x2ae)]][_0x2a02d2(0x274)]:_0x404ead=0x0:_0x404ead=0x1,_0x46f954[_0x2a02d2(0x14d)]=formatResult(_0x404ead,0x8);}),await getMarketCap(_0x197613),proxyEmit(_0x11e01(0x1c4),!![]),proxyEmit('portfolio2',_0x197613);}}}function truncateTradeAmount(_0x35b9ec,_0x42b209){const _0x2aa8ff=_0xe8d69b;let _0x38d0a4=0x0;try{_0x38d0a4=exchange[_0x2aa8ff(0x232)](_0x35b9ec,_0x42b209);}catch(_0x56e200){}return _0x38d0a4;}function checkMinimums(_0x24a948){const _0x1f281d=_0xe8d69b;let _0x4bd0b1=!![];const _0x1bdf86=!_0x24a948[_0x1f281d(0x1fe)]?markets[_0x24a948[_0x1f281d(0x2ae)]][_0x1f281d(0x101)]['amount'][_0x1f281d(0x126)]:markets[_0x24a948[_0x1f281d(0x2ae)]][_0x1f281d(0x101)][_0x1f281d(0x246)]['min'],_0xb44b6c=!_0x24a948['reverse']?markets[_0x24a948[_0x1f281d(0x2ae)]]['limits']['cost'][_0x1f281d(0x126)]:markets[_0x24a948[_0x1f281d(0x2ae)]][_0x1f281d(0x101)]['amount']['min'],_0x469c09=truncateTradeAmount(_0x24a948[_0x1f281d(0x2ae)],_0x24a948[_0x1f281d(0x297)]);_0x24a948[_0x1f281d(0x297)]=_0x469c09;if(Math[_0x1f281d(0xf7)](_0x469c09)<_0x1bdf86)_0x4bd0b1=![];if(Math['abs'](_0x469c09)*_0x24a948[_0x1f281d(0x274)]<_0xb44b6c)_0x4bd0b1=![];if(_0x24a948['side']==_0x1f281d(0x151)){let _0x2fb881=config[_0x1f281d(0x288)]['find'](_0x3349ee=>_0x3349ee[_0x1f281d(0x12a)]==_0x24a948[_0x1f281d(0x12a)]);if(_0x2fb881[_0x1f281d(0x278)]>0x0){if(Math['abs'](_0x469c09)>_0x24a948[_0x1f281d(0x240)]-_0x2fb881[_0x1f281d(0x278)])_0x4bd0b1=![];}else{if(Math['abs'](_0x469c09)>_0x24a948[_0x1f281d(0x240)])_0x4bd0b1=![];}}if(_0x24a948[_0x1f281d(0x19b)]==_0x1f281d(0x180)){let _0x4fe15d=config['portfolio'][_0x1f281d(0x17c)](_0x5b6912=>_0x5b6912[_0x1f281d(0x12a)]==config[_0x1f281d(0x156)]),_0x5938fc=currentCoins[_0x1f281d(0x17c)](_0x4bd318=>_0x4bd318[_0x1f281d(0x12a)]==config['basecoin']);if(_0x4fe15d[_0x1f281d(0x278)]>0x0){if(Math[_0x1f281d(0xf7)](_0x469c09)*_0x24a948['last']>_0x5938fc[_0x1f281d(0x240)]-_0x4fe15d[_0x1f281d(0x278)])_0x4bd0b1=![];}else{if(Math[_0x1f281d(0xf7)](_0x469c09)*_0x24a948['last']>_0x5938fc[_0x1f281d(0x240)])_0x4bd0b1=![];}}return _0x4bd0b1;}async function getBalances(_0x3da954=!![]){const _0x3fbdbf=_0xe8d69b;if(botPaused)return;let _0x21f222=0x0,_0x544088;const _0xb15b44=config[_0x3fbdbf(0x19d)];if(config['headless']&&config[_0x3fbdbf(0x160)]<0x0)await validate24hChanges();currentCoins[_0x3fbdbf(0x18e)](_0x743be8=>{const _0x16e0b8=_0x3fbdbf;if(_0x743be8[_0x16e0b8(0x12a)]!=config[_0x16e0b8(0x156)]){let _0x2150e2=gTicker[noslash(_0x743be8['symbol'])];_0x544088=_0x743be8[_0x16e0b8(0x1fe)]?0x1/_0x2150e2:_0x2150e2;}else _0x544088=0x1;let _0x14f3ee=_0x743be8[_0x16e0b8(0x240)]*_0x544088;_0x21f222+=_0x14f3ee,_0x743be8[_0x16e0b8(0x274)]=formatResult(Number(_0x544088),0x8),_0x743be8[_0x16e0b8(0x1b3)]=_0x14f3ee;}),currentCoins[_0x3fbdbf(0x18e)](_0x5d7d14=>{const _0x535a4c=_0x3fbdbf;let _0x299a64=config['portfolio'][_0x535a4c(0x17c)](_0x453b99=>_0x453b99[_0x535a4c(0x12a)]==_0x5d7d14[_0x535a4c(0x12a)]),_0x3e9d0f=Number(_0x299a64['distribution']),_0x3230d8=_0x5d7d14['value']/_0x21f222*0x64,_0x17ac36=_0x3e9d0f*_0x21f222/0x64/_0x5d7d14[_0x535a4c(0x274)]-_0x5d7d14[_0x535a4c(0x240)];_0x5d7d14[_0x535a4c(0x17d)]=formatResult(_0x3230d8,0x3),_0x5d7d14[_0x535a4c(0x1e4)]=formatResult(_0x3e9d0f,0x3),_0x5d7d14[_0x535a4c(0x297)]=formatResult(_0x17ac36,0x8),_0x5d7d14[_0x535a4c(0x19b)]='',_0x5d7d14[_0x535a4c(0x193)]=![];if(_0x5d7d14[_0x535a4c(0x12a)]!=config[_0x535a4c(0x156)]){if(_0x5d7d14[_0x535a4c(0x17d)]>_0x3e9d0f)_0x5d7d14[_0x535a4c(0x19b)]=_0x535a4c(0x151),_0x5d7d14[_0x535a4c(0x193)]=checkMinimums(_0x5d7d14);else _0x5d7d14[_0x535a4c(0x17d)]<_0x3e9d0f&&(_0x5d7d14['side']='buy',_0x5d7d14[_0x535a4c(0x193)]=checkMinimums(_0x5d7d14));}_0x5d7d14['delta']=_0x5d7d14[_0x535a4c(0x17d)]/_0x5d7d14[_0x535a4c(0x1e4)]-0x1;if(_0x5d7d14['orderstatus']==_0x535a4c(0x12e)||_0x5d7d14[_0x535a4c(0x191)]==_0x535a4c(0x154))_0x5d7d14[_0x535a4c(0x191)]=_0x535a4c(0x1f4);}),currentCoins[_0x3fbdbf(0x1d2)]((_0x3e33c3,_0x125ecd)=>_0x3e33c3[_0x3fbdbf(0x164)]<_0x125ecd['delta']?0x1:_0x125ecd[_0x3fbdbf(0x164)]<_0x3e33c3['delta']?-0x1:0x0);const _0x12dce9=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x12dce9['eur'],'usd':_0x12dce9['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0xb15b44},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x3da954){if(config[_0x3fbdbf(0x2a6)])headlessMode({'portfolio':currentCoins,'threshold':_0xb15b44});else lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&notifyBalance({'portfolio':currentCoins,'threshold':_0xb15b44});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4f66b3=getNormalizedPerformance();getStartingBalances(_0x4f66b3),emitPerformance(_0x4f66b3);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x304e03=_0xe8d69b;if(!lastBalances)return;let _0x21a119=[],_0x350ad5,_0xd643c8=JSON[_0x304e03(0x166)](lastBalances['portfolio']);_0xd643c8[_0x304e03(0x1d2)]((_0x66a61d,_0xaea788)=>_0x66a61d[_0x304e03(0x12a)]>_0xaea788[_0x304e03(0x12a)]?0x1:_0xaea788[_0x304e03(0x12a)]>_0x66a61d['coin']?-0x1:0x0),_0xd643c8[_0x304e03(0x18e)](_0x4ac950=>{const _0x3e83b4=_0x304e03;let _0x49eb77={'coin':_0x4ac950[_0x3e83b4(0x12a)],'number':_0x4ac950[_0x3e83b4(0x240)],'price':_0x4ac950[_0x3e83b4(0x274)]};_0x21a119['push'](_0x49eb77);});const _0x1779d6=await getFiat();_0x350ad5={'date':lastBalances['time'][_0x304e03(0x250)]('\x20')[0x0],'eur':_0x1779d6[_0x304e03(0x258)],'usd':_0x1779d6[_0x304e03(0x176)],'coins':_0x21a119};let _0x28dec5=dbPerformance[_0x304e03(0x256)]('data')[_0x304e03(0x17c)]({'date':_0x350ad5[_0x304e03(0x198)]})[_0x304e03(0x1b3)]();_0x28dec5?_0x350ad5[_0x304e03(0x198)]!=config['startdate']&&dbPerformance[_0x304e03(0x256)](_0x304e03(0x22f))[_0x304e03(0x17c)]({'date':_0x350ad5[_0x304e03(0x198)]})[_0x304e03(0x230)](_0x350ad5)[_0x304e03(0x1d5)]():dbPerformance[_0x304e03(0x256)](_0x304e03(0x22f))[_0x304e03(0x254)](_0x350ad5)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x54ee5f=_0xe8d69b;let _0x40b6a2=[];if(dbPerformance[_0x54ee5f(0x2bc)](_0x54ee5f(0x22f))['value']()){let _0x3d917c=dbPerformance[_0x54ee5f(0x256)](_0x54ee5f(0x22f))['cloneDeep']()[_0x54ee5f(0x1a7)](_0x33dba3=>{const _0x5e73f9=_0x54ee5f;if(_0x33dba3[_0x5e73f9(0x1a4)][_0x5e73f9(0x276)]==0x0)return![];else return!![];})[_0x54ee5f(0x25f)](_0x54ee5f(0x198))[_0x54ee5f(0x1b3)](),_0x1a2730=[...config[_0x54ee5f(0x209)]];_0x1a2730[_0x54ee5f(0x1d2)]((_0x28dee7,_0x1a48a5)=>_0x28dee7[_0x54ee5f(0x198)]>_0x1a48a5['date']?-0x1:_0x1a48a5[_0x54ee5f(0x198)]>_0x28dee7[_0x54ee5f(0x198)]?0x1:0x0);let _0x79d2da=0x1,_0x3ec908=[],_0x40d443=0x0;_0x3d917c[_0x54ee5f(0x1e3)]()[_0x54ee5f(0x1fe)]()[_0x54ee5f(0x18e)]((_0x339255,_0x38eeda)=>{const _0xa6795c=_0x54ee5f;if(_0x1a2730[_0x40d443]){if(_0x3d917c[_0x3d917c[_0xa6795c(0x276)]-_0x38eeda]&&_0x1a2730[_0x40d443][_0xa6795c(0x198)]==_0x3d917c[_0x3d917c[_0xa6795c(0x276)]-_0x38eeda]['date']){if(_0x38eeda<_0x3d917c['length']){let _0x336832=0x0,_0x504c81=0x0;_0x3d917c[_0x3d917c[_0xa6795c(0x276)]-_0x38eeda]['coins'][_0xa6795c(0x18e)](_0x175f58=>{const _0x35b760=_0xa6795c;_0x504c81+=_0x175f58[_0x35b760(0x240)]*_0x175f58[_0x35b760(0x14d)];}),_0x1a2730[_0x40d443]['changes'][_0xa6795c(0x18e)](_0x24f818=>{const _0x3e42eb=_0xa6795c;_0x336832+=_0x24f818[_0x3e42eb(0x240)]*_0x24f818[_0x3e42eb(0x14d)];}),_0x79d2da*=_0x336832/(_0x504c81-_0x336832)+0x1;}_0x40d443++;}}let _0x194335=0x0;_0x339255['coins'][_0xa6795c(0x18e)](_0x5ebe7c=>{const _0x106f9d=_0xa6795c;_0x194335+=_0x5ebe7c[_0x106f9d(0x240)]*_0x5ebe7c[_0x106f9d(0x14d)];}),_0x3ec908[_0x3d917c[_0xa6795c(0x276)]-_0x38eeda-0x1]=_0x194335*(_0x79d2da-0x1);});let _0x1603df=[];_0x1a2730=[...config[_0x54ee5f(0x209)]]||[];let _0x4ed6e1=0x0;_0x40d443=0x0,_0x3d917c[_0x54ee5f(0x18e)]((_0x3650ed,_0x3508ec)=>{const _0x11afc6=_0x54ee5f;if(_0x1a2730[_0x40d443]){const _0x257f5d=fns[_0x11afc6(0x166)](_0x1a2730[_0x40d443][_0x11afc6(0x198)],_0x11afc6(0x20d),new Date()),_0xa47b2=fns[_0x11afc6(0x166)](_0x3650ed['date'],_0x11afc6(0x20d),new Date());if(fns[_0x11afc6(0x12b)](_0x257f5d,_0xa47b2)){let _0x625e18=0x0;_0x1a2730[_0x40d443][_0x11afc6(0x1d1)][_0x11afc6(0x18e)](_0x19f3e4=>{const _0x5aba67=_0x11afc6;!_0x1603df[_0x19f3e4['coin']]?_0x1603df[_0x19f3e4[_0x5aba67(0x12a)]]=_0x19f3e4[_0x5aba67(0x240)]:(_0x625e18=_0x1603df[_0x19f3e4[_0x5aba67(0x12a)]],_0x1603df[_0x19f3e4['coin']]+=_0x19f3e4[_0x5aba67(0x240)]);const _0xfdd2d1=_0x3650ed['coins'][_0x5aba67(0x17c)](_0x1876ce=>_0x1876ce['coin']==_0x19f3e4[_0x5aba67(0x12a)]);(!_0xfdd2d1||_0xfdd2d1['number']==0x0)&&(_0x4ed6e1+=(-_0x19f3e4[_0x5aba67(0x240)]-_0x625e18)*_0x19f3e4[_0x5aba67(0x14d)]);}),_0x40d443++;}}_0x3650ed['coins'][_0x11afc6(0x18e)]((_0x339951,_0x257d3e)=>{const _0x573099=_0x11afc6;_0x1603df[_0x339951['coin']]&&(_0x339951['initial']=_0x1603df[_0x339951[_0x573099(0x12a)]]);}),_0x40b6a2[_0x11afc6(0x254)]({'date':_0x3650ed[_0x11afc6(0x198)],'eur':_0x3650ed[_0x11afc6(0x258)],'usd':_0x3650ed['usd'],'offset':_0x3ec908[_0x3508ec],'netoffset':_0x4ed6e1,'coins':_0x3650ed[_0x11afc6(0x1a4)]});});}return _0x40b6a2;}function emitPerformance(_0x1d9182){const _0x33df7f=_0xe8d69b;_0x1d9182['length']!==0x0?(proxyEmit(_0x33df7f(0x131),_0x1d9182),lastPerformanceEmitted=getDate()):proxyEmit(_0x33df7f(0x131),[]);}function getPerf(_0x4e2f52,_0x210f06){const _0x526a3f=_0xe8d69b;let _0x4d6a29=0x0,_0x36d26b=0x0,_0x2b8a7a=0x0;_0x4e2f52[_0x526a3f(0x1a4)][_0x526a3f(0x18e)](_0x2b3bd8=>{const _0x2817a7=_0x526a3f;_0x4d6a29+=_0x2b3bd8[_0x2817a7(0x240)]*_0x2b3bd8[_0x2817a7(0x14d)];});_0x210f06&&(_0x4d6a29+=_0x4e2f52[_0x526a3f(0x278)]);if(config[_0x526a3f(0x156)]===_0x526a3f(0x295)||config['basecoin']===_0x526a3f(0x132)||config[_0x526a3f(0x156)]==='PAXG')_0x36d26b=_0x4d6a29*_0x4e2f52['eur'],_0x2b8a7a=_0x4d6a29*_0x4e2f52[_0x526a3f(0x176)];else{if(usdBasecoins[_0x526a3f(0x2b5)](config['basecoin']))_0x36d26b=_0x4d6a29*_0x4e2f52[_0x526a3f(0x258)]/_0x4e2f52[_0x526a3f(0x176)],_0x2b8a7a=_0x4d6a29;else config[_0x526a3f(0x156)]===_0x526a3f(0x1e8)&&(_0x36d26b=_0x4d6a29,_0x2b8a7a=_0x4d6a29*_0x4e2f52['usd']/_0x4e2f52[_0x526a3f(0x258)]);}return[_0x4d6a29,_0x36d26b,_0x2b8a7a];}function getKPIs(_0x15c4c9,_0x3261b3=_0xe8d69b(0x1e8)){const _0x2df190=_0xe8d69b,_0xb7c27f=config[_0x2df190(0x156)],_0x42b987=lastBalances,_0x4464d3=currentCoins,_0x428dc1=getNormalizedPerformance(),_0x1f84b3=_0x15c4c9===_0x2df190(0x156)?_0xb7c27f:_0x15c4c9==='fiat'||_0x15c4c9===_0x2df190(0x2bf)?_0x3261b3:_0x2df190(0x13f)+_0xb7c27f,_0x1f2822=_0x15c4c9===_0x2df190(0x128)?_0x2df190(0x1ad):_0x15c4c9===_0x2df190(0x2bf)?'Net\x20effect':_0x1f84b3+_0x2df190(0x208),_0x122379=_0x15c4c9===_0x2df190(0x128)||_0x15c4c9===_0x2df190(0x2bf)?_0x2df190(0x1ad):_0x1f84b3+'\x20change';let _0x1721c2=0x0;_0x4464d3[_0x2df190(0x18e)](_0x5be78a=>{_0x1721c2+=_0x5be78a['number']*_0x5be78a['last'];});if(_0x15c4c9==='fiat'||_0x15c4c9===_0x2df190(0x2bf)){if(_0xb7c27f===_0x2df190(0x295)||_0xb7c27f===_0x2df190(0x132)||_0xb7c27f===_0x2df190(0x29d))_0x1721c2=_0x1721c2*(_0x3261b3===_0x2df190(0x1e8)?_0x42b987[_0x2df190(0x258)]:_0x42b987[_0x2df190(0x176)]);else{if(usdBasecoins[_0x2df190(0x2b5)](_0xb7c27f))_0x1721c2=_0x1721c2*(_0x3261b3===_0x2df190(0x1e8)?_0x42b987[_0x2df190(0x258)]/_0x42b987[_0x2df190(0x176)]:0x1);else _0xb7c27f==='EUR'&&(_0x1721c2=_0x1721c2*(_0x3261b3==='EUR'?0x1:_0x42b987[_0x2df190(0x176)]/_0x42b987[_0x2df190(0x258)]));}}let _0x7d1f4b;if(_0x1721c2!==0x0){if(_0x15c4c9===_0x2df190(0x156))_0x7d1f4b=(_0x1721c2/startingBalances[_0x2df190(0x156)]-0x1)*0x64;else{if(_0x3261b3===_0x2df190(0x1e8))_0x7d1f4b=(_0x1721c2/startingBalances[_0x2df190(0x258)]-0x1)*0x64;else _0x7d1f4b=(_0x1721c2/startingBalances[_0x2df190(0x176)]-0x1)*0x64;}let _0x4e5e6f=0x0;if(startingBalances[_0x2df190(0x1a4)])_0x4464d3['forEach'](_0x28a3fa=>{const _0x4a0e7c=_0x2df190;let _0x4a5fbc=startingBalances[_0x4a0e7c(0x1a4)]['find'](_0x566663=>_0x566663[_0x4a0e7c(0x12a)]===_0x28a3fa[_0x4a0e7c(0x12a)]);if(_0x4a5fbc&&_0x4a5fbc[_0x4a0e7c(0x12a)]&&_0x28a3fa[_0x4a0e7c(0x240)]!==0x0)_0x4e5e6f+=_0x4a5fbc['number']*_0x28a3fa['last'];});let _0x2e6521=0x0;if(_0x428dc1[_0x2df190(0x276)]!==0x0){let _0x3dcbda=_0x428dc1[_0x428dc1['length']-0x1];_0x2e6521=_0x3dcbda['netoffset'];}_0x4e5e6f-=_0x2e6521;_0x15c4c9===_0x2df190(0x128)&&(_0x7d1f4b=(_0x1721c2-_0x4e5e6f)/startingBalances['basecoin']*0x64,_0x1721c2=_0x1721c2-_0x4e5e6f);if(_0x15c4c9===_0x2df190(0x2bf)){let _0x13250a=_0x3261b3==='EUR'?startingBalances[_0x2df190(0x258)]:startingBalances[_0x2df190(0x176)];if(_0xb7c27f==='BTC'||_0xb7c27f===_0x2df190(0x132)||_0xb7c27f===_0x2df190(0x29d))_0x4e5e6f=_0x3261b3===_0x2df190(0x1e8)?_0x4e5e6f*_0x42b987[_0x2df190(0x258)]:_0x4e5e6f*_0x42b987[_0x2df190(0x176)];else{if(usdBasecoins[_0x2df190(0x2b5)](_0xb7c27f))_0x4e5e6f=_0x3261b3==='EUR'?_0x4e5e6f*_0x42b987[_0x2df190(0x258)]/_0x42b987['usd']:_0x4e5e6f;else _0xb7c27f===_0x2df190(0x1e8)&&(_0x4e5e6f=_0x3261b3===_0x2df190(0x1e8)?_0x4e5e6f:_0x4e5e6f*_0x42b987['usd']/_0x42b987['eur']);}_0x7d1f4b=(_0x1721c2-_0x4e5e6f)/_0x13250a*0x64,_0x1721c2=_0x1721c2-_0x4e5e6f;}if(_0x7d1f4b){if(_0x7d1f4b<0x64)_0x7d1f4b=_0x7d1f4b[_0x2df190(0x143)](0x2);else{if(_0x7d1f4b<0x3e8)_0x7d1f4b=_0x7d1f4b[_0x2df190(0x143)](0x1);else _0x7d1f4b=_0x7d1f4b[_0x2df190(0x143)](0x0);}}else _0x7d1f4b=Number('0')[_0x2df190(0x143)](0x2);if(_0x1721c2){if(Math[_0x2df190(0xf7)](_0x1721c2)<0.000001)_0x1721c2=_0x1721c2[_0x2df190(0x143)](0x2);else{if(Math[_0x2df190(0xf7)](_0x1721c2)<0.1)_0x1721c2=_0x1721c2['toFixed'](0x6);else{if(Math[_0x2df190(0xf7)](_0x1721c2)<0x1)_0x1721c2=_0x1721c2[_0x2df190(0x143)](0x5);else{if(Math['abs'](_0x1721c2)<0xa)_0x1721c2=_0x1721c2[_0x2df190(0x143)](0x4);else{if(Math[_0x2df190(0xf7)](_0x1721c2)<0x64)_0x1721c2=_0x1721c2['toFixed'](0x3);else{if(Math[_0x2df190(0xf7)](_0x1721c2)<0x3e8)_0x1721c2=_0x1721c2['toFixed'](0x2);else _0x1721c2=_0x1721c2[_0x2df190(0x143)](0x2);}}}}}}else _0x1721c2=Number('0')['toFixed'](0x2);}else _0x7d1f4b=Number('0')[_0x2df190(0x143)](0x2);return{'value':_0x1721c2,'change':_0x7d1f4b,'leftTxt':_0x1f2822,'rightTxt':_0x122379};}async function getStartingBalances(_0x5bb572,_0x2cca6c=!![]){const _0x5beeed=_0xe8d69b;if(_0x5bb572[_0x5beeed(0x276)]!==0x0){const [_0x3b1587,_0x13dd30,_0x53e2f0]=getPerf(_0x5bb572[0x0],!![]);let _0x569e00=[];config['portfolio'][_0x5beeed(0x18e)](_0x4874a4=>{const _0x12ee49=_0x5beeed;let _0x432d80=0x0,_0x59682d;config['liquidity'][_0x12ee49(0x18e)](_0x10cd58=>{const _0x179439=_0x12ee49;let _0x39d485=_0x10cd58['changes'][_0x179439(0x17c)](_0x484c07=>_0x484c07[_0x179439(0x12a)]==_0x4874a4[_0x179439(0x12a)]);if(_0x39d485){_0x432d80+=_0x39d485[_0x179439(0x240)];if(!_0x59682d)_0x59682d=_0x39d485[_0x179439(0x14d)];}}),_0x569e00[_0x12ee49(0x254)]({'coin':_0x4874a4[_0x12ee49(0x12a)],'number':_0x432d80,'initialprice':_0x59682d});});const _0x5d89cc={'basecoin':_0x3b1587,'eur':_0x13dd30,'usd':_0x53e2f0,'coins':_0x569e00};if(_0x2cca6c)proxyEmit(_0x5beeed(0x122),_0x5d89cc);startingBalances=_0x5d89cc;}}function headlessMode(_0x99f9a4){const _0x446324=_0xe8d69b;let _0x1a694b=_0x99f9a4[_0x446324(0x288)],_0x47085b=_0x99f9a4[_0x446324(0x19d)],_0xdda71f=[];for(let _0x29e557 of _0x1a694b){if(_0x29e557[_0x446324(0x12a)]!=config[_0x446324(0x156)]){if(_0x29e557[_0x446324(0x164)]>=_0x47085b/0x64){if(_0x29e557['valid'])_0xdda71f[_0x446324(0x254)](_0x29e557);}else{if(_0x29e557[_0x446324(0x164)]<=-_0x47085b/0x64){if(_0x29e557[_0x446324(0x193)])_0xdda71f[_0x446324(0x254)](_0x29e557);}}}}_0xdda71f[_0x446324(0x276)]>0x0&&placeOrder(_0xdda71f);}function notifyBalance(_0x313645){const _0x52de51=_0xe8d69b;let _0x374224=_0x313645['portfolio'],_0x1115d1=_0x313645[_0x52de51(0x19d)],_0x30e28c=[];for(let _0x38c03a of _0x374224){if(_0x38c03a[_0x52de51(0x12a)]!=config['basecoin']){if(_0x38c03a[_0x52de51(0x164)]>=_0x1115d1/0x64){if(_0x38c03a[_0x52de51(0x193)])_0x30e28c['push'](_0x38c03a);}else{if(_0x38c03a[_0x52de51(0x164)]<=-_0x1115d1/0x64){if(_0x38c03a[_0x52de51(0x193)])_0x30e28c[_0x52de51(0x254)](_0x38c03a);}}}}if(_0x30e28c[_0x52de51(0x276)]>0x0){let _0x3bd567=_0x30e28c['map'](_0x15e52c=>_0x15e52c[_0x52de51(0x12a)]);_0x3bd567[_0x52de51(0x1d2)]();let _0x51b0e0=_0x3bd567[_0x52de51(0xf5)](',\x20');if(!lastCoinsToBalance)logHistory(_0x52de51(0x19c),_0x52de51(0x1c7));lastCoinsToBalance=_0x51b0e0;}}function symbolToCoin(_0x49bff6){const _0x23e4dd=_0xe8d69b;let _0x277bfe;if(_0x49bff6[_0x23e4dd(0x2b5)]('/'+config[_0x23e4dd(0x156)]))_0x277bfe=_0x49bff6[_0x23e4dd(0x179)]('/'+config[_0x23e4dd(0x156)],'');if(_0x49bff6[_0x23e4dd(0x2b5)](config['basecoin']+'/'))_0x277bfe=_0x49bff6[_0x23e4dd(0x179)](config[_0x23e4dd(0x156)]+'/','');return _0x277bfe;}function setLockOrders(_0x29eed1){const _0x427672=_0xe8d69b;lockOrders=_0x29eed1,logger[_0x427672(0x1be)]('Set\x20lock\x20orders\x20to:\x20'+Object[_0x427672(0x24b)](ORDERS)[lockOrders]);}async function unlockOrders(_0x4ce15b=![]){const _0x32b872=_0xe8d69b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x32b872(0x187)]){setLockOrders(ORDERS[_0x32b872(0x22e)]);if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x4ce15b){const _0x31b978=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x31b978,setBlockTransactionDetection(![]);}validateOrdersState=_0x32b872(0x152),persistOpenOrders([]),setLockOrders(ORDERS[_0x32b872(0x1a3)]);}}async function validateOrders(_0x63f0a5){const _0x551643=_0xe8d69b;if(_0x63f0a5)validateOrdersState=_0x63f0a5;logger[_0x551643(0x1be)](_0x551643(0x27d)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+Object[_0x551643(0x24b)](ORDERS)[lockOrders]);let _0x5a16d6=[],_0x9eb738=config['ordertype']==_0x551643(0x1a5)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x551643(0x1cb)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x551643(0x187)])return;logger[_0x551643(0x1be)](_0x551643(0x222)+validateOrdersState);for(let _0x387a69=lastOrders[_0x551643(0x276)]-0x1;_0x387a69>=0x0;_0x387a69--){let _0x49bb80=lastOrders[_0x387a69],_0x1deb3e=![];_0x49bb80[_0x551643(0x12e)]>0x0&&(_0x1deb3e=!![]),_0x5a16d6[_0x551643(0x254)](_0x1deb3e),_0x1deb3e&&config[_0x551643(0x183)]!=_0x551643(0x1a5)&&logHistory(_0x551643(0x27f),'Order\x20filled:\x20'+_0x49bb80['symbol']+'\x20'+_0x49bb80[_0x551643(0x19b)]+'\x20#'+formatResult(_0x49bb80[_0x551643(0x12e)],0x8)+'\x20@'+formatResult(_0x49bb80[_0x551643(0x14d)],0x8)),_0x1deb3e&&lastOrders['splice'](_0x387a69,0x1);}persistOpenOrders(lastOrders);const _0x4e47d3=coolingDown?_0x551643(0x282):_0x551643(0x1b2);if(validateOrdersState==_0x551643(0x152)){validateOrdersState=_0x551643(0x1e0);if(_0x5a16d6[_0x551643(0x2b5)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x551643(0x1e0)){if(_0x5a16d6[_0x551643(0x2b5)](![])){}else await unlockOrders();}else{if(validateOrdersState==_0x551643(0x243))_0x5a16d6[_0x551643(0x2b5)](![])&&(config[_0x551643(0x183)]==_0x551643(0x1a5)?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math[_0x551643(0x163)](_0x9eb738*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x4e47d3):(await cancelOrders(),logHistory(_0x551643(0x172),_0x551643(0x113)+Math[_0x551643(0x163)](_0x9eb738*validateOrderInterval/0xea60)+_0x551643(0x14c)+_0x4e47d3))),await unlockOrders(!![]);else{if(validateOrdersState==_0x551643(0x277)){if(config[_0x551643(0x183)]!=_0x551643(0x1a5))logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x4e47d3);await unlockOrders(!![]);}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x437207=>{const _0x38494f=_0x4c5e;try{const _0x30af1a=await exchange[_0x38494f(0x1b9)](_0x437207[_0x38494f(0x23c)],_0x437207[_0x38494f(0x2ae)]);}catch(_0x13f100){if(_0x13f100['toString']()[_0x38494f(0x2b5)]('OrderNotFound')){}else await handleError(_0x13f100,_0x38494f(0x25d));}});}async function initCoinResults(_0x3a7765){const _0x456c13=_0xe8d69b;_0x3a7765?logger['debug'](_0x456c13(0x1ac)+_0x3a7765):logger[_0x456c13(0x1be)](_0x456c13(0x134)),config[_0x456c13(0x288)][_0x456c13(0x18e)](_0xa64e84=>{const _0x2ee269=_0x456c13;if(!_0xa64e84[_0x2ee269(0x19e)]&&_0xa64e84[_0x2ee269(0x12a)]!=config[_0x2ee269(0x156)]){const _0x1d64e4=currentCoins[_0x2ee269(0x17c)](_0x77be04=>_0x77be04[_0x2ee269(0x12a)]==_0xa64e84[_0x2ee269(0x12a)]),_0x4d6fe4=gTicker[noslash(_0xa64e84[_0x2ee269(0x2ae)])];let _0x2bc7b7=_0x1d64e4?_0x1d64e4['number']:null,_0x3e8dcc=_0xa64e84[_0x2ee269(0x1fe)]?0x1/_0x4d6fe4:_0x4d6fe4,_0x3a99b1;config['liquidity'][_0x2ee269(0x18e)](_0x5d9efc=>{const _0x2952c7=_0x2ee269;!_0x3a99b1&&(_0x3a99b1=_0x5d9efc[_0x2952c7(0x1d1)][_0x2952c7(0x17c)](_0x413ac5=>_0x413ac5[_0x2952c7(0x12a)]==_0xa64e84[_0x2952c7(0x12a)]),_0x3a99b1&&(_0x2bc7b7=_0x3a99b1[_0x2952c7(0x240)],_0x3e8dcc=_0x3a99b1['price']));});let _0x45eca7=dbCoinResults[_0x2ee269(0x256)](_0x2ee269(0x1a4))[_0x2ee269(0x17c)]({'coin':_0xa64e84[_0x2ee269(0x12a)]})[_0x2ee269(0x1b3)]();if(!_0x45eca7){const _0x19166e={'coin':_0xa64e84['coin'],'number':_0x2bc7b7,'breakeven':_0x3e8dcc,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2ee269(0x256)]('coins')[_0x2ee269(0x254)](_0x19166e)[_0x2ee269(0x1d5)]();}else{if(_0x3a7765&&_0xa64e84['coin']==_0x3a7765){const _0x3ff2f9={'coin':_0xa64e84['coin'],'number':_0x2bc7b7,'breakeven':_0x3e8dcc,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2ee269(0x256)]('coins')['find']({'coin':_0xa64e84[_0x2ee269(0x12a)]})[_0x2ee269(0x230)](_0x3ff2f9)[_0x2ee269(0x1d5)]();}}}});}async function updateCoinResults(_0x2c6d90,_0x25f5a=![]){const _0x13b3e9=_0xe8d69b;let _0x32e32c,_0x4fddbd,_0x9b7c05,_0x50f27f,_0xba2a60,_0x306334,_0x5a98b0=dbCoinResults[_0x13b3e9(0x256)](_0x13b3e9(0x1a4))[_0x13b3e9(0x17c)]({'coin':_0x2c6d90['coin']})[_0x13b3e9(0x1b3)](),_0xd07d6d=![];_0x5a98b0&&Object[_0x13b3e9(0x15a)](_0x5a98b0)['forEach'](([_0x162e15,_0x43349b])=>{if(_0x43349b==null)_0xd07d6d=!![];});(!_0x5a98b0||_0xd07d6d)&&(await initCoinResults(_0x2c6d90[_0x13b3e9(0x12a)]),_0x5a98b0=dbCoinResults[_0x13b3e9(0x256)](_0x13b3e9(0x1a4))['find']({'coin':_0x2c6d90[_0x13b3e9(0x12a)]})[_0x13b3e9(0x1b3)]());_0x2c6d90['reverse']&&(_0x306334={'filled':_0x2c6d90[_0x13b3e9(0x12e)]*_0x2c6d90['price'],'amount':_0x2c6d90['filled']*_0x2c6d90[_0x13b3e9(0x14d)],'side':_0x2c6d90['side']=='sell'?_0x13b3e9(0x180):_0x13b3e9(0x151),'price':0x1/_0x2c6d90['price']},_0x2c6d90={..._0x2c6d90,..._0x306334});_0x25f5a?_0x4fddbd=_0x2c6d90['side']==_0x13b3e9(0x180)?_0x5a98b0[_0x13b3e9(0x240)]+_0x2c6d90['filled']:_0x5a98b0['number']-_0x2c6d90[_0x13b3e9(0x12e)]:_0x4fddbd=await getCoinNumber(_0x2c6d90[_0x13b3e9(0x12a)]);if(_0x2c6d90[_0x13b3e9(0x171)]&&_0x2c6d90[_0x13b3e9(0x171)][_0x13b3e9(0x153)]==config['basecoin'])_0x32e32c=Number(_0x2c6d90[_0x13b3e9(0x171)][_0x13b3e9(0x246)]);else{if(_0x2c6d90[_0x13b3e9(0x171)]&&_0x2c6d90['fee'][_0x13b3e9(0x153)]==_0x13b3e9(0xf1)&&!_0x25f5a&&config[_0x13b3e9(0x156)]!='PAXG')_0x32e32c=Number(_0x2c6d90[_0x13b3e9(0x171)][_0x13b3e9(0x246)])*gTicker[_0x13b3e9(0xf1)+config[_0x13b3e9(0x156)]];else _0x32e32c=defaultFee*_0x2c6d90[_0x13b3e9(0x12e)]*_0x2c6d90[_0x13b3e9(0x14d)];}_0x2c6d90[_0x13b3e9(0x19b)]==_0x13b3e9(0x180)?(_0x9b7c05=_0x4fddbd!=0x0?(_0x5a98b0[_0x13b3e9(0x184)]*_0x5a98b0[_0x13b3e9(0x240)]+_0x2c6d90['price']*(_0x4fddbd-_0x5a98b0[_0x13b3e9(0x240)])+_0x32e32c)/_0x4fddbd:0x0,_0x50f27f=_0x5a98b0['realized']):(_0x9b7c05=_0x4fddbd!=0x0?(_0x5a98b0[_0x13b3e9(0x184)]*_0x5a98b0[_0x13b3e9(0x240)]-_0x2c6d90[_0x13b3e9(0x14d)]*(_0x5a98b0[_0x13b3e9(0x240)]-_0x4fddbd)+_0x32e32c)/_0x4fddbd:0x0,_0x50f27f=_0x5a98b0[_0x13b3e9(0x223)]+(_0x2c6d90[_0x13b3e9(0x14d)]-_0x5a98b0[_0x13b3e9(0x184)])*_0x2c6d90[_0x13b3e9(0x12e)]);_0xba2a60=(_0x2c6d90[_0x13b3e9(0x14d)]-_0x9b7c05-_0x32e32c/_0x2c6d90[_0x13b3e9(0x12e)])*_0x4fddbd;let _0x2ddf45={'coin':_0x2c6d90[_0x13b3e9(0x12a)],'number':_0x4fddbd,'breakeven':formatResult(_0x9b7c05,0x8),'realized':formatResult(_0x50f27f,0x8),'unrealized':formatResult(_0xba2a60,0x8),'fees':formatResult(_0x5a98b0[_0x13b3e9(0x1ff)]+_0x32e32c,0x8),'sells':_0x2c6d90[_0x13b3e9(0x19b)]==_0x13b3e9(0x151)?_0x5a98b0[_0x13b3e9(0x1ba)]+0x1:_0x5a98b0[_0x13b3e9(0x1ba)],'buys':_0x2c6d90[_0x13b3e9(0x19b)]=='buy'?_0x5a98b0[_0x13b3e9(0x1cc)]+0x1:_0x5a98b0[_0x13b3e9(0x1cc)]};dbCoinResults[_0x13b3e9(0x256)]('coins')['find']({'coin':_0x2c6d90[_0x13b3e9(0x12a)]})[_0x13b3e9(0x230)](_0x2ddf45)[_0x13b3e9(0x1d5)]();if(!_0x25f5a){if(_0x2c6d90['fee']&&_0x2c6d90[_0x13b3e9(0x171)][_0x13b3e9(0x153)]=='BNB'){const _0x5c565c=currentCoins[_0x13b3e9(0x17c)](_0x506050=>_0x506050[_0x13b3e9(0x12a)]==_0x13b3e9(0xf1));if(_0x5c565c){let _0x2da3f0=dbCoinResults['get'](_0x13b3e9(0x1a4))[_0x13b3e9(0x17c)]({'coin':_0x13b3e9(0xf1)})['value']();_0x2ddf45={..._0x2da3f0,'number':_0x5c565c[_0x13b3e9(0x240)]},dbCoinResults[_0x13b3e9(0x256)](_0x13b3e9(0x1a4))[_0x13b3e9(0x17c)]({'coin':'BNB'})[_0x13b3e9(0x230)](_0x2ddf45)[_0x13b3e9(0x1d5)]();}}}}async function placeOrder(_0x3d70a5){const _0x500cfd=_0xe8d69b,_0x56da72=config[_0x500cfd(0x183)]==_0x500cfd(0x1a5)?_0x500cfd(0x1a5):'limit';if(lockOrders==ORDERS[_0x500cfd(0x1a3)]&&!coolingDown){setLockOrders(ORDERS[_0x500cfd(0x187)]);while(transactionDetectionOngoing){await sleep(0x64);}logger[_0x500cfd(0x1be)](_0x500cfd(0x275)+_0x3d70a5['map'](_0x327bd8=>_0x327bd8[_0x500cfd(0x12a)])['join'](',\x20')),lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x500cfd(0x152);let _0x4e0d68=![];lastOrders=[];const _0x3622e7=config['threshold'];for(const _0x52f671 of _0x3d70a5){let _0x432a93,_0x30c11d,_0x2b9142,_0x28c16e,_0x2f8e72,_0x402071=_0x52f671[_0x500cfd(0x2ae)];logger[_0x500cfd(0x1be)](_0x500cfd(0x2b2)+_0x52f671[_0x500cfd(0x12a)]+'\x20'+_0x52f671[_0x500cfd(0x240)]+'\x20'+_0x52f671['last']+'\x20'+_0x52f671['distribution']+'%\x20'+_0x52f671[_0x500cfd(0x1e4)]+'%\x20'+(0x64*_0x52f671[_0x500cfd(0x164)])[_0x500cfd(0x143)](0x2)+_0x500cfd(0x1a6)+_0x3622e7['toFixed'](0x2)+'%)');const _0x4c5df6=currentCoins[_0x500cfd(0x17c)](_0x1707f2=>_0x1707f2[_0x500cfd(0x12a)]==_0x52f671['coin']);_0x4c5df6&&(_0x4c5df6['prevnumber']=_0x52f671[_0x500cfd(0x240)]);try{const _0x328590=await exchange[_0x500cfd(0x175)](_0x402071);_0x432a93=_0x52f671[_0x500cfd(0x1fe)]?0x1/_0x52f671[_0x500cfd(0x274)]:_0x52f671[_0x500cfd(0x274)],_0x30c11d=_0x328590[_0x500cfd(0x1bb)],_0x2b9142=_0x328590[_0x500cfd(0x142)];_0x52f671[_0x500cfd(0x1fe)]?(_0x28c16e=_0x52f671[_0x500cfd(0x19b)]==_0x500cfd(0x180)?_0x500cfd(0x151):'buy',_0x2f8e72=Math[_0x500cfd(0xf7)](_0x52f671[_0x500cfd(0x297)])/_0x432a93):(_0x28c16e=_0x52f671[_0x500cfd(0x19b)],_0x2f8e72=Math[_0x500cfd(0xf7)](_0x52f671[_0x500cfd(0x297)]));_0x56da72==_0x500cfd(0xf3)&&(config['ordertype']==_0x500cfd(0x1bf)&&(_0x432a93=_0x28c16e==_0x500cfd(0x180)?_0x30c11d:_0x2b9142),config[_0x500cfd(0x183)]=='limit-low'&&(_0x432a93=_0x28c16e==_0x500cfd(0x180)?_0x2b9142:_0x30c11d));_0x2f8e72=formatResult(_0x2f8e72,0x8),_0x432a93=formatResult(_0x432a93,0x8);const _0x43a8ba=_0x28c16e==_0x500cfd(0x151)?config[_0x500cfd(0x124)]?String[_0x500cfd(0x280)]('0x'+config[_0x500cfd(0x124)])+'\x20':'':config[_0x500cfd(0x1e2)]?String[_0x500cfd(0x280)]('0x'+config[_0x500cfd(0x1e2)])+'\x20':'',_0x31e492=_0x56da72==_0x500cfd(0x1a5)?_0x500cfd(0xf4):config[_0x500cfd(0x183)]==_0x500cfd(0x1bf)?_0x500cfd(0x2ad):_0x500cfd(0x285),_0x53e586=(Math[_0x500cfd(0x279)](Math['random']()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x500cfd(0x254)]({'customId':_0x53e586,'symbol':_0x402071,'coin':_0x52f671[_0x500cfd(0x12a)],'amount':_0x2f8e72,'price':_0x432a93,'side':_0x28c16e,'reverse':_0x52f671[_0x500cfd(0x1fe)],'filled':0x0});if(_0x56da72==_0x500cfd(0x1a5))logHistory('order',''+_0x43a8ba+_0x31e492+_0x500cfd(0x100)+_0x402071+'\x20'+_0x28c16e+'\x20#'+formatResult(_0x2f8e72,0x8)+'\x20@'+formatResult(_0x432a93,0x8));else logHistory(_0x500cfd(0x27f),''+_0x43a8ba+_0x31e492+_0x500cfd(0x100)+_0x402071+'\x20'+_0x28c16e+'\x20#'+formatResult(_0x2f8e72,0x8)+'\x20@'+formatResult(_0x432a93,0x8));let _0x59343d;_0x56da72==_0x500cfd(0x1a5)?_0x28c16e=='buy'&&[_0x500cfd(0x1f6),_0x500cfd(0x140),_0x500cfd(0x21e),_0x500cfd(0x2a8),_0x500cfd(0x1d9)]['includes'](config[_0x500cfd(0x2a1)])?_0x59343d=await exchange[_0x500cfd(0x136)](_0x402071,_0x56da72,_0x28c16e,_0x2f8e72,_0x432a93):_0x59343d=await exchange['createOrder'](_0x402071,_0x56da72,_0x28c16e,_0x2f8e72,undefined):_0x59343d=await exchange[_0x500cfd(0x136)](_0x402071,_0x56da72,_0x28c16e,_0x2f8e72,_0x432a93);logger[_0x500cfd(0x1be)](_0x500cfd(0x212)+_0x59343d['id']+_0x500cfd(0x1cf)+_0x53e586);const _0x483956=lastOrders[_0x500cfd(0x276)]-0x1;if(_0x483956>=0x0&&lastOrders[_0x483956]['customId']==_0x53e586){lastOrders[_0x483956][_0x500cfd(0x23c)]=_0x59343d['id'];if(_0x59343d['amount'])lastOrders[_0x483956]['amount']=_0x59343d[_0x500cfd(0x14f)];if(_0x59343d[_0x500cfd(0x14d)])lastOrders[_0x483956][_0x500cfd(0x14d)]=_0x59343d['price'];lastOrders[_0x483956][_0x500cfd(0x171)]=_0x59343d[_0x500cfd(0x171)];}if(config[_0x500cfd(0x165)]!=0x0){let _0x2dd052=null;if(cooldownTracker['length']==config[_0x500cfd(0x165)]-0x1)_0x2dd052=cooldownTracker[_0x500cfd(0x1b5)]();const _0xbcab6=getTimeStamp();cooldownTracker['push'](_0xbcab6);if(_0x2dd052){const _0x57c452=fns[_0x500cfd(0x24f)](new Date(_0xbcab6),new Date(_0x2dd052));if(_0x57c452<cooldownInterval){logHistory(_0x500cfd(0x229),'Executed\x20'+config[_0x500cfd(0x165)]+_0x500cfd(0x17f)+cooldownInterval/0x3c+_0x500cfd(0x199)+cooldownPeriod/(0xe10*0x3e8)+_0x500cfd(0x28d)),coolingDown=!![];break;}}}}catch(_0x440a67){if(_0x440a67[_0x500cfd(0x1e7)]()[_0x500cfd(0x2b5)](_0x500cfd(0x1c1)))lastOrders=lastOrders[_0x500cfd(0x1a7)](_0x32ab3f=>_0x32ab3f[_0x500cfd(0x2ae)]!=_0x402071),logHistory(_0x500cfd(0x229),_0x500cfd(0x286)+_0x402071),_0x4e0d68=!![];else{if(_0x440a67['toString']()[_0x500cfd(0x2b5)](_0x500cfd(0x2a9)))lastOrders=lastOrders[_0x500cfd(0x1a7)](_0x3d153f=>_0x3d153f[_0x500cfd(0x2ae)]!=_0x402071),logHistory(_0x500cfd(0x229),'Order\x20amount\x20is\x20invalid:\x20'+_0x402071),_0x4e0d68=!![];else{if(_0x440a67[_0x500cfd(0x1e7)]()[_0x500cfd(0x2b5)](_0x500cfd(0x159)))lastOrders=lastOrders['filter'](_0x4682d9=>_0x4682d9[_0x500cfd(0x2ae)]!=_0x402071),logHistory('error',_0x500cfd(0x251)+_0x402071),logger[_0x500cfd(0x1be)](_0x440a67),_0x4e0d68=!![];else _0x440a67[_0x500cfd(0x1e7)]()[_0x500cfd(0x2b5)](_0x500cfd(0x273))?(lastOrders=lastOrders[_0x500cfd(0x1a7)](_0x20a84e=>_0x20a84e[_0x500cfd(0x2ae)]!=_0x402071),logHistory('error',_0x500cfd(0x286)+_0x402071),_0x4e0d68=!![]):(lastOrders=lastOrders[_0x500cfd(0x1a7)](_0xd3143a=>_0xd3143a[_0x500cfd(0x2ae)]!=_0x402071),await handleError(_0x440a67,'placeOrder()',_0x402071));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x500cfd(0x276)]>0x0){const _0x46de33=config[_0x500cfd(0x183)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x500cfd(0x1cb)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3b51cd=_0x500cfd;validateOrders(_0x3b51cd(0x243));},_0x46de33);}else unlockOrders();_0x4e0d68&&config[_0x500cfd(0x2a6)]&&(logHistory(_0x500cfd(0x229),_0x500cfd(0x20b)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x500cfd(0x172),_0x500cfd(0x216)));}else{if(coolingDown)!config[_0x500cfd(0x2a6)]&&logHistory(_0x500cfd(0x229),_0x500cfd(0x1a1));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x500cfd(0x2a6)]&&(config['ordertype']==_0x500cfd(0x1a5)?logHistory(_0x500cfd(0x229),_0x500cfd(0x16b)):logHistory(_0x500cfd(0x229),_0x500cfd(0x146))));}}function persistOpenOrders(_0x4dc413){const _0x208555=_0xe8d69b,_0x25b178={...config,'openOrders':_0x4dc413};let _0x1dcf47=dbConfig[_0x208555(0x256)](_0x208555(0x266))[_0x208555(0x17c)]({'botID':botID})[_0x208555(0x1b3)]();_0x1dcf47&&dbConfig[_0x208555(0x256)](_0x208555(0x266))[_0x208555(0x17c)]({'botID':botID})['assign'](_0x25b178)['write']();}function restoreOrders(){const _0x53f5be=_0xe8d69b;let _0x28cf2a;config[_0x53f5be(0x227)]&&allOpenOrders[_0x53f5be(0x18e)](_0x140fdf=>{const _0x5cca40=_0x53f5be,_0x183bb7=config[_0x5cca40(0x227)][_0x5cca40(0x17c)](_0x13b688=>_0x13b688[_0x5cca40(0x23c)]==_0x140fdf['id']);_0x183bb7&&(lastOrders[_0x5cca40(0x254)](_0x183bb7),_0x28cf2a=_0x140fdf[_0x5cca40(0x119)]);});if(lastOrders[_0x53f5be(0x276)]>0x0){setLockOrders(ORDERS[_0x53f5be(0x187)]),validateOrdersState=_0x53f5be(0x1e0),allOrdersPlaced=!![];const _0x1e9a04=new Date()[_0x53f5be(0x1ec)](),_0x32a24a=config[_0x53f5be(0x183)]==_0x53f5be(0x1a5)?validateOrderTimeout*0x3c*0x3e8:config[_0x53f5be(0x1cb)]*0x3c*0x3e8;if(_0x28cf2a+_0x32a24a>_0x1e9a04){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x28cf2a+_0x32a24a-_0x1e9a04);}else validateOrders(_0x53f5be(0x243));}}async function sendMetricsTelegram(){const _0x5f1fc5=_0xe8d69b;if(!coinsLoaded){process[_0x5f1fc5(0x2ba)]({'telegrammsg':_0x5f1fc5(0x296)},_0x32ffca=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x5d5d17='';if(config[_0x5f1fc5(0x2a0)])_0x5d5d17=_0x5f1fc5(0x1bd)+config[_0x5f1fc5(0x2b1)]+_0x5f1fc5(0x125);else _0x5d5d17=_0x5f1fc5(0x1f8)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x329f53=getKPIs(_0x5f1fc5(0x156)),_0x2a3008=getKPIs(_0x5f1fc5(0x265),config[_0x5f1fc5(0x265)]),_0x2a10cf=getKPIs(_0x5f1fc5(0x128)),_0x447ffe=getKPIs(_0x5f1fc5(0x2bf),config[_0x5f1fc5(0x265)]);_0x5d5d17+=_0x5f1fc5(0x114),_0x5d5d17+=_0x329f53[_0x5f1fc5(0x201)]+_0x5f1fc5(0x271)+_0x329f53[_0x5f1fc5(0x1b3)]+'\x0a',_0x5d5d17+=_0x329f53[_0x5f1fc5(0x252)]+':\x20'+_0x329f53[_0x5f1fc5(0x102)]+'%\x0a',_0x5d5d17+=_0x2a3008[_0x5f1fc5(0x201)]+_0x5f1fc5(0x271)+_0x2a3008[_0x5f1fc5(0x1b3)]+'\x0a',_0x5d5d17+=_0x2a3008['rightTxt']+':\x20'+_0x2a3008[_0x5f1fc5(0x102)]+'%\x0a',_0x5d5d17+=_0x2a10cf[_0x5f1fc5(0x201)]+':\x20'+_0x2a10cf['value']+'\x20('+config['basecoin']+')\x0a',_0x5d5d17+=_0x2a10cf['rightTxt']+':\x20'+_0x2a10cf[_0x5f1fc5(0x102)]+_0x5f1fc5(0x1a6)+config[_0x5f1fc5(0x156)]+')\x0a',_0x5d5d17+=_0x447ffe[_0x5f1fc5(0x201)]+':\x20'+_0x447ffe[_0x5f1fc5(0x1b3)]+'\x20('+config[_0x5f1fc5(0x265)]+')\x0a',_0x5d5d17+=_0x447ffe['rightTxt']+':\x20'+_0x447ffe[_0x5f1fc5(0x102)]+_0x5f1fc5(0x1a6)+config[_0x5f1fc5(0x265)]+')\x0a',_0x5d5d17+=_0x5f1fc5(0x259),process[_0x5f1fc5(0x2ba)]({'telegrammsg':_0x5d5d17},_0x116a5d=>{});}async function sendPortfolioTelegram(){const _0x5081af=_0xe8d69b;if(!coinsLoaded||!currentCoins[0x0][_0x5081af(0x17d)]){process['send']({'telegrammsg':_0x5081af(0x296)},_0x382155=>{});return;}let _0x40ca6a='';if(config[_0x5081af(0x2a0)])_0x40ca6a=_0x5081af(0x1bd)+config['botname']+'\x20portfolio:</b>\x20\x0a\x0a';else _0x40ca6a=_0x5081af(0x1f8)+botID+_0x5081af(0x17e);_0x40ca6a+='<pre>',_0x40ca6a+='-------------------------------\x0a',_0x40ca6a+=_0x5081af(0x2a2),_0x40ca6a+=_0x5081af(0x133),currentCoins['forEach'](_0x427497=>{const _0x23d201=_0x5081af;_0x40ca6a+=_0x427497[_0x23d201(0x12a)][_0x23d201(0xfb)](0x7)+'|\x20'+formatPad(_0x427497[_0x23d201(0x17d)],0x2,0x6)+'|\x20'+formatPad(_0x427497['target'],0x2,0x6)+'|\x20'+formatPad(_0x427497['delta']*0x64,0x2,0x6)+'\x0a';}),_0x40ca6a+=_0x5081af(0x259),process[_0x5081af(0x2ba)]({'telegrammsg':_0x40ca6a},_0x6ce55f=>{});}function formatPad(_0x5a1e68,_0x3b667e,_0x4966e3){const _0x18235f=_0xe8d69b,_0x221baa=formatResultString(_0x5a1e68,_0x3b667e);return _0x221baa?_0x221baa[_0x18235f(0x1ca)](_0x4966e3):''['padStart'](_0x4966e3);}function logHistory(_0x51ba1c,_0x51e182,_0x48a005=''){const _0xafb7f3=_0xe8d69b;logger['full'](''+_0x51e182);let _0x2fffe4={'time':getTimeStamp(),'type':_0x51ba1c,'event':_0x51e182};dbLogs[_0xafb7f3(0x256)](_0xafb7f3(0x103))[_0xafb7f3(0x254)](_0x2fffe4)[_0xafb7f3(0x1d5)]();if(_0x48a005=='')_0x48a005=_0x51e182;proxyEmit(_0xafb7f3(0x21f),{'log':_0x2fffe4,'summary':_0x48a005}),process[_0xafb7f3(0x2ba)]({'telegram':{..._0x2fffe4,'botname':config['botname'],'showname':config[_0xafb7f3(0x2a0)]}},_0x36d21a=>{});}function emitHistory(_0x438047={}){const _0x5ab342=_0xe8d69b;Object[_0x5ab342(0x24b)](_0x438047)[_0x5ab342(0x276)]==0x0&&(_0x438047={'type':[_0x5ab342(0x27f),_0x5ab342(0x21f)],'event':'','page':0x1});if(_0x438047[_0x5ab342(0x13d)][_0x5ab342(0x2b5)](_0x5ab342(0x21f)))_0x438047['type'][_0x5ab342(0x14a)](_0x438047[_0x5ab342(0x13d)][_0x5ab342(0x162)](_0x5ab342(0x21f)),0x1,_0x5ab342(0x229),_0x5ab342(0x19c),'success');if(dbLogs[_0x5ab342(0x2bc)](_0x5ab342(0x103))[_0x5ab342(0x1b3)]()){let _0x23b3a5=dbLogs[_0x5ab342(0x256)]('logs')[_0x5ab342(0x1a7)](_0x48f979=>{const _0x1f33bf=_0x5ab342;if(_0x438047[_0x1f33bf(0x13d)]['length']==0x0)return![];else return _0x438047[_0x1f33bf(0x13d)]['includes'](_0x48f979[_0x1f33bf(0x13d)]);})[_0x5ab342(0x1a7)](_0x22ce32=>{const _0x559b95=_0x5ab342;if(_0x438047[_0x559b95(0x21f)]=='')return!![];else return _0x22ce32[_0x559b95(0x21f)]['toLowerCase']()[_0x559b95(0x2b5)](_0x438047['event']['toLowerCase']());})[_0x5ab342(0x25f)]('time'),_0x51f384=_0x23b3a5[_0x5ab342(0x1b3)]()[_0x5ab342(0x276)];_0x23b3a5=_0x23b3a5[_0x5ab342(0x1fe)]()[_0x5ab342(0x1e3)]((_0x438047[_0x5ab342(0x1fd)]-0x1)*logPageSize,_0x438047[_0x5ab342(0x1fd)]*logPageSize-0x1)['reverse']()[_0x5ab342(0x1b3)](),proxyEmit(_0x5ab342(0x23a),{'logs':_0x23b3a5,'total':_0x51f384});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x26bfb5){const _0x422e50=_0xe8d69b;if(dbLogs[_0x422e50(0x2bc)](_0x422e50(0x103))['value']()){const _0x14b862=dbLogs[_0x422e50(0x256)]('logs')[_0x422e50(0x25f)]('time')['filter'](_0x34f2d5=>{const _0x3bd01b=_0x422e50;return _0x34f2d5[_0x3bd01b(0x13d)]=='order';})[_0x422e50(0x1b3)]();dbLogs['get'](_0x422e50(0x103))[_0x422e50(0x25b)]()[_0x422e50(0x1d5)](),dbLogs[_0x422e50(0x256)](_0x422e50(0x103))[_0x422e50(0x230)](_0x14b862)[_0x422e50(0x1d5)](),emitHistory(_0x26bfb5);}}async function pauseBot(_0x1c7432=pauseBotIntervalShort,_0x2a36f2,_0x23138a,_0x5bfe78=![]){const _0x465154=_0xe8d69b,_0x12eb28=new Date()[_0x465154(0x1ec)]();if(!lastErrorShown||_0x12eb28-lastErrorShown>=_0x1c7432){lastErrorShown=_0x12eb28;if(!lastBotPause)lastBotPause=_0x12eb28,consecutivePauses=0x1;else{if(_0x12eb28-lastBotPause-_0x1c7432<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x5bfe78){logHistory(_0x465154(0x229),_0x2a36f2+_0x465154(0x262)),await killBot();return;}else logHistory(_0x465154(0x229),_0x2a36f2+pauseBotMsg),_0x1c7432=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x12eb28;}_0x23138a?logger[_0x465154(0x1be)]('('+consecutivePauses+')\x20'+_0x2a36f2+'\x20>\x20details:',_0x23138a):logger[_0x465154(0x1be)]('('+consecutivePauses+')\x20'+_0x2a36f2);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x1c7432),botPaused=![],_0x1c7432==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x575434=_0xe8d69b;botPaused=!![],await sleep(0x3e8),process['send']({'stop':_0x575434(0x22d)},_0x1ffdfe=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x4e85f2,_0x4a7cd8){const _0x4c5640=_0xe8d69b;if(botPaused)return;const _0xc53ff0=config[_0x4c5640(0x2a1)]||_0x4c5640(0xf9);if(_0x4a7cd8)logger[_0x4c5640(0x1be)](_0x4c5640(0x188)+_0x4a7cd8);const _0x2d78c0=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x4e85f2['toString']()['includes']('API-key\x20format\x20invalid'))logHistory(_0x4c5640(0x229),_0xc53ff0+_0x4c5640(0x17b)),_0x2d78c0();else{if(_0x4e85f2['toString']()[_0x4c5640(0x2b5)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x4c5640(0x229),_0xc53ff0+_0x4c5640(0x28a)),_0x2d78c0();else{if(_0x4e85f2['toString']()['includes'](_0x4c5640(0x257)))config[_0x4c5640(0x1f1)]?errormsg=_0xc53ff0+_0x4c5640(0x18f):errormsg=_0xc53ff0+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',logHistory(_0x4c5640(0x229),errormsg+_0x4c5640(0x1ef)),_0x2d78c0();else _0x4e85f2[_0x4c5640(0x1e7)]()[_0x4c5640(0x2b5)](_0x4c5640(0x116))?(logHistory(_0x4c5640(0x229),_0xc53ff0+_0x4c5640(0x253)),_0x2d78c0()):await handleError(_0x4e85f2,null);}}}async function handleError(_0x2243c8,_0x2ecb20,_0x154045=''){const _0x20f5b2=_0xe8d69b;if(botPaused)return;let _0x45e02b;const _0x7f473a=config['exchange']||'Exchange';if(_0x2ecb20)logger[_0x20f5b2(0x1be)](_0x20f5b2(0x188)+_0x2ecb20);if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x1d7)))_0x45e02b=_0x7f473a+_0x20f5b2(0x207),await pauseBot(undefined,_0x45e02b,_0x2243c8);else{if(_0x2243c8['toString']()[_0x20f5b2(0x2b5)]('RateLimitExceeded'))_0x45e02b=_0x7f473a+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x45e02b,_0x2243c8);else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x1eb))||_0x2243c8[_0x20f5b2(0x1e7)]()['includes'](_0x20f5b2(0x1a9)))_0x45e02b=_0x7f473a+_0x20f5b2(0x27b),await pauseBot(undefined,_0x45e02b,_0x2243c8[_0x20f5b2(0x1e7)]());else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x170)))_0x45e02b=_0x7f473a+_0x20f5b2(0x244),await pauseBot(undefined,_0x45e02b,_0x2243c8[_0x20f5b2(0x1e7)]());else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x45e02b=_0x7f473a+_0x20f5b2(0x210),await pauseBot(undefined,_0x45e02b,_0x2243c8[_0x20f5b2(0x1e7)]());else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x213)]()[_0x20f5b2(0x2b5)]('timestamp')||_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x213)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x18d)))_0x45e02b=_0x20f5b2(0x249),await pauseBot(undefined,_0x45e02b,_0x2243c8['toString']());else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x1a8)))_0x45e02b=_0x7f473a+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',await pauseBot(undefined,_0x45e02b,_0x2243c8[_0x20f5b2(0x1e7)]());else{if(_0x2243c8 instanceof ccxt['NetworkError'])_0x45e02b=_0x7f473a+_0x20f5b2(0x167)+_0x2243c8[_0x20f5b2(0x1e7)](),logger[_0x20f5b2(0x1be)](_0x20f5b2(0x1ed),_0x2243c8),await pauseBot(undefined,_0x45e02b,_0x2243c8);else{if(_0x2243c8[_0x20f5b2(0x1e7)]()['includes']('API-key\x20format\x20invalid'))logHistory(_0x20f5b2(0x229),_0x7f473a+_0x20f5b2(0x13b)),logHistory(_0x20f5b2(0x229),_0x20f5b2(0x144)),await killBot();else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x29a)))logHistory(_0x20f5b2(0x229),_0x7f473a+_0x20f5b2(0x182)),logHistory(_0x20f5b2(0x229),_0x20f5b2(0x144)),await killBot();else{if(_0x2243c8[_0x20f5b2(0x1e7)]()['includes'](_0x20f5b2(0x257))&&_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x1d3)))_0x45e02b=_0x7f473a+_0x20f5b2(0x186),await pauseBot(undefined,_0x45e02b,_0x2243c8,!![]);else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x257)))config[_0x20f5b2(0x1f1)]?_0x45e02b=_0x7f473a+_0x20f5b2(0x18f):_0x45e02b=_0x7f473a+_0x20f5b2(0x218),logHistory(_0x20f5b2(0x229),_0x45e02b),logHistory(_0x20f5b2(0x229),_0x20f5b2(0x144)),await killBot();else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x116)))logHistory(_0x20f5b2(0x229),_0x7f473a+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions\x20and\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x20f5b2(0x229),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x2243c8[_0x20f5b2(0x1e7)]()[_0x20f5b2(0x2b5)](_0x20f5b2(0x24c)))logHistory(_0x20f5b2(0x229),_0x20f5b2(0x14e)+_0x154045),logger[_0x20f5b2(0x1be)](_0x20f5b2(0x1c6),_0x2243c8);else{if(_0x2243c8 instanceof ccxt[_0x20f5b2(0x112)]){_0x45e02b=_0x7f473a+'\x20exchange\x20error:\x20'+_0x2243c8[_0x20f5b2(0x1e7)](),logHistory(_0x20f5b2(0x229),_0x45e02b),logger[_0x20f5b2(0x1be)]('Exchange\x20error\x20details:',_0x2243c8);if(_0x154045)logger[_0x20f5b2(0x1be)]('Symbol(s):\x20'+_0x154045);await pauseBot(undefined,_0x45e02b,_0x2243c8);}else{_0x45e02b=_0x20f5b2(0x24d)+_0x2243c8[_0x20f5b2(0x1e7)](),logHistory(_0x20f5b2(0x229),_0x45e02b),logger['debug'](_0x45e02b+'\x20>\x20details:',_0x2243c8);if(_0x154045)logger[_0x20f5b2(0x1be)](_0x20f5b2(0x137)+_0x154045);await pauseBot(undefined,_0x45e02b);}}}}}}}}}}}}}}}}function decryptRSA(_0x4d913f,_0x5efcc4){const _0xcb32b4=_0xe8d69b,_0x5064ab=forge[_0xcb32b4(0x202)][_0xcb32b4(0x192)](_0x4d913f),_0xe67a66=_0x5064ab[_0xcb32b4(0x1a2)](forge['util'][_0xcb32b4(0x20e)](_0x5efcc4),_0xcb32b4(0x1f7),{'md':forge['md']['sha256'][_0xcb32b4(0x2b9)](),'mgf1':{'md':forge['md'][_0xcb32b4(0x104)][_0xcb32b4(0x2b9)]()}});return _0xe67a66;}async function withRetry(_0x41117a,_0xc5e843){const _0x2a4f90=_0xe8d69b;let _0x4d95dc=![],_0x3b1784=0x0,_0x35011f,_0x33adef;while(_0x3b1784<maxRetries){try{_0x35011f=await _0xc5e843();break;}catch(_0x5e390d){_0x33adef=_0x5e390d,!_0x4d95dc?(_0x4d95dc=!![],logger[_0x2a4f90(0x1be)](_0x2a4f90(0x1b6)+_0x41117a+':',_0x5e390d[_0x2a4f90(0x1e7)]())):await sleep(retryInterval);}_0x3b1784++;}if(_0x3b1784==0x0)return _0x35011f;if(_0x3b1784>=maxRetries)throw _0x33adef;else return logger[_0x2a4f90(0x1be)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x3b1784+_0x2a4f90(0x235)),_0x35011f;}function formatResult(_0x12de53,_0xe1e911){const _0x4e8603=_0xe8d69b;return parseFloat(_0x12de53[_0x4e8603(0x143)](_0xe1e911));}function formatResultTruncate(_0x91993c,_0x36c517){const _0x22211d=_0xe8d69b;let _0x54a8b4=formatResultString(_0x91993c,0xa),_0x3ddd9d=_0x54a8b4['indexOf']('.');return _0x3ddd9d!=-0x1&&(_0x54a8b4=_0x54a8b4[_0x22211d(0x1e3)](0x0,_0x3ddd9d+_0x36c517+0x1)),Number(_0x54a8b4);}function formatResultString(_0x5167da,_0xb1657b){const _0x1e04ff=_0xe8d69b;let _0x3d67da;if(!(''+_0x5167da)['includes']('e'))_0x3d67da=+(Math[_0x1e04ff(0x163)](_0x5167da+'e+'+_0xb1657b)+'e-'+_0xb1657b);else{let _0x4c9cd3=(''+_0x5167da)[_0x1e04ff(0x250)]('e'),_0x3d6245='';+_0x4c9cd3[0x1]+_0xb1657b>0x0&&(_0x3d6245='+'),_0x3d67da=+(Math[_0x1e04ff(0x163)](+_0x4c9cd3[0x0]+'e'+_0x3d6245+(+_0x4c9cd3[0x1]+_0xb1657b))+'e-'+_0xb1657b);}return Number(_0x3d67da)[_0x1e04ff(0x143)](_0xb1657b);}function getServerTime(){const _0xa43477=_0xe8d69b,_0x42c58b=new Date();return _0x42c58b[_0xa43477(0x24e)]()+'/'+(_0x42c58b[_0xa43477(0x130)]()+0x1)[_0xa43477(0x1e7)]()[_0xa43477(0x1ca)](0x2,'0')+'/'+_0x42c58b[_0xa43477(0x1fa)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x42c58b[_0xa43477(0x110)]()[_0xa43477(0x1e7)]()[_0xa43477(0x1ca)](0x2,'0')+':'+_0x42c58b[_0xa43477(0x25e)]()[_0xa43477(0x1e7)]()['padStart'](0x2,'0')+':'+_0x42c58b[_0xa43477(0x13a)]()[_0xa43477(0x1e7)]()[_0xa43477(0x1ca)](0x2,'0');}function getTimeStamp(){const _0x53980f=_0xe8d69b,_0x1ed419=shiftedTime();return _0x1ed419['getFullYear']()+'/'+(_0x1ed419[_0x53980f(0x130)]()+0x1)[_0x53980f(0x1e7)]()[_0x53980f(0x1ca)](0x2,'0')+'/'+_0x1ed419[_0x53980f(0x1fa)]()[_0x53980f(0x1e7)]()[_0x53980f(0x1ca)](0x2,'0')+'\x20'+_0x1ed419[_0x53980f(0x110)]()['toString']()[_0x53980f(0x1ca)](0x2,'0')+':'+_0x1ed419[_0x53980f(0x25e)]()[_0x53980f(0x1e7)]()['padStart'](0x2,'0')+':'+_0x1ed419[_0x53980f(0x13a)]()['toString']()[_0x53980f(0x1ca)](0x2,'0');}function getDate(){const _0x1fd5c4=_0xe8d69b,_0x43a003=shiftedTime();return _0x43a003[_0x1fd5c4(0x24e)]()+'/'+(_0x43a003['getMonth']()+0x1)['toString']()[_0x1fd5c4(0x1ca)](0x2,'0')+'/'+_0x43a003[_0x1fd5c4(0x1fa)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x1b82a9=_0xe8d69b,_0x4a57f9=shiftedTime();return _0x4a57f9['getHours']()[_0x1b82a9(0x1e7)]()[_0x1b82a9(0x1ca)](0x2,'0');}function sleep(_0x22c0c9){return new Promise(_0x1e91e4=>setTimeout(_0x1e91e4,_0x22c0c9));}function shiftedTime(){const _0x3909e6=_0xe8d69b,_0x41f963=new Date();let _0x4b5c6b=_0x41f963;if(config&&config['timeshift']!==0x0)_0x4b5c6b=fns[_0x3909e6(0x15c)](_0x41f963,{'hours':config['timeshift']});return _0x4b5c6b;}function timer(_0xea05ec){const _0x59076d=_0xe8d69b,_0x52d648=new Date();!lasttime?console['log'](getTimeStamp()+_0x59076d(0x247),_0xea05ec,_0x52d648):console[_0x59076d(0x138)](getTimeStamp()+_0x59076d(0x247),_0xea05ec,(_0x52d648-lasttime)/0x3e8),lasttime=_0x52d648;}