const _0x5441c3=_0x4d2a;(function(_0x43efbb,_0x222632){const _0x267bb4=_0x4d2a,_0x20e5a0=_0x43efbb();while(!![]){try{const _0x1ade38=parseInt(_0x267bb4(0x2d8))/0x1+-parseInt(_0x267bb4(0x26a))/0x2*(parseInt(_0x267bb4(0x20d))/0x3)+parseInt(_0x267bb4(0x1ee))/0x4+-parseInt(_0x267bb4(0x1e7))/0x5+parseInt(_0x267bb4(0x238))/0x6*(parseInt(_0x267bb4(0x2a6))/0x7)+parseInt(_0x267bb4(0x206))/0x8*(parseInt(_0x267bb4(0x2fa))/0x9)+-parseInt(_0x267bb4(0x305))/0xa*(-parseInt(_0x267bb4(0x283))/0xb);if(_0x1ade38===_0x222632)break;else _0x20e5a0['push'](_0x20e5a0['shift']());}catch(_0x15bca0){_0x20e5a0['push'](_0x20e5a0['shift']());}}}(_0x2919,0x4012e));const _0x10132a=function(){let _0x1d31bd=!![];return function(_0x10fdcb,_0x2e690f){const _0x998b1=_0x1d31bd?function(){if(_0x2e690f){const _0x3d9c62=_0x2e690f['apply'](_0x10fdcb,arguments);return _0x2e690f=null,_0x3d9c62;}}:function(){};return _0x1d31bd=![],_0x998b1;};}(),_0x3209b2=_0x10132a(this,function(){const _0x5d797a=_0x4d2a;return _0x3209b2[_0x5d797a(0x28c)]()['search'](_0x5d797a(0x2f6))['toString']()['constructor'](_0x3209b2)[_0x5d797a(0x2b8)](_0x5d797a(0x2f6));});_0x3209b2();'use strict';const ccxt=require(_0x5441c3(0x1fe)),low=require('lowdb'),FileSync=require(_0x5441c3(0x1df)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x5441c3(0x21f)),Crypt=require(_0x5441c3(0x275))[_0x5441c3(0x203)];let exchange,wsClient;global['ticker']={},global[_0x5441c3(0x247)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x5441c3(0x1d7),_0x5441c3(0x2f1),_0x5441c3(0x2a8),_0x5441c3(0x25f),_0x5441c3(0x29e),_0x5441c3(0x242)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,allOpenOrders,lastOrders=[],cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x5441c3(0x28b))[_0x5441c3(0x1db)],botID=process['argv'][0x2]||_0x5441c3(0x212),pattern=/^[0-9]{3}$/;!pattern[_0x5441c3(0x287)](botID)&&(console[_0x5441c3(0x2e7)](_0x5441c3(0x201)+botID+_0x5441c3(0x235)),process[_0x5441c3(0x1da)](0x1));const userID=process[_0x5441c3(0x304)][0x3]||'',configpath=userID?_0x5441c3(0x1e1)+userID+'/':_0x5441c3(0x1e1);!fs[_0x5441c3(0x28e)](configpath)&&fs[_0x5441c3(0x236)](configpath);const configfile=configpath+'bot-'+botID+_0x5441c3(0x2af),logfile=configpath+_0x5441c3(0x310)+botID+_0x5441c3(0x2a9),performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+_0x5441c3(0x310)+botID+_0x5441c3(0x219),settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x5441c3(0x1fd),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5441c3(0x257)]({'logs':[]})[_0x5441c3(0x291)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5441c3(0x257)]({'data':[]})[_0x5441c3(0x291)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5441c3(0x257)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5441c3(0x257)]({'coins':[]})[_0x5441c3(0x291)]();function _0x2919(){const _0x2cf41e=['fetchOHLCV','entries','side','startprice','remove','4pbUHFO','<pre>','total','sha256','initialprice','filled','commissionAsset','coin','\x20|\x20Binance\x20API\x20key\x20invalid','recreateHistory()','timeout','hybrid-crypto-js','error','RSA-OAEP','threshold','symbol','userData','toFixed','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20hour','deleteHistoryAlerts','valid','cooldown','event-history','Cooldown\x20ended\x20-\x20balancing\x20resumed','5056161BflCos','indexOf','amount','fetchOrders','test','last','orderId','cancelLoading','./version.json','toString','yyyy/MM/dd\x20HH:mm:ss','existsSync',')\x20|\x20Error\x20details:\x20','BTC','write','InvalidNonce','price','accumulatedQuantity','keys','\x20has\x20a\x2024h\x20drop\x20of\x20','differenceInCalendarDays','getHours','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','************','\x20|\x20','wsMarket','NANO/','wsKey','success','getCoins()','settings','</pre>','BNB/','closeWs','1361619AoGvUl','bid','HOT/EUR','-events.json','ticker','startdate','kill','BUSD','fetchBalance','-config.json','API-key\x20format\x20invalid','message','cumulativeQuoteAssetTransactedQty','Invalid\x20quantity','Order\x20filled:\x20','fetchOpenOrders','getSeconds','sell','search','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','2.3.5','Performance\x20recreation\x20completed\x20successfully','ongoing','Order(s)\x20filled\x20-\x20','splice','realized','enabled','parseISO','ask','logs','excluded','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','slice','min','emitHistory','changes','wss://stream.binance.us:9443','Limit\x20(low-margin)','placeOrder()','showname','function','\x20|\x20Binance\x20API\x20secret\x20invalid','max','limit-low','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','progress','OrderNotFound','FILLED','coins','ordertype','37032EQzWcf','market','getStartingBalances','getMinutes','coin-loading-progress','spot','change24h','starting-balances','find','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','cancelOrders()','format','buys','currency','delta','log','basecoin','findIndex','trade','getPortfolio','final','No\x20more\x20open\x20orders\x20-\x20','BNB','placeOrder','portfolio','HOT/BTC','Unfilled\x20order(s)\x20canceled\x20after\x20','sells','remainingSymbols','sort','(((.+)+)+)+$','number','close','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','871011gQwlcg','has','initws()','usd','eventType','parse','Bot\x20','round','offset','storeHeadless','argv','10WRxByB','MIN_NOTIONAL','.json','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','getFiat()','padEnd','liquidity','set','date','cancelOrder','abs','bot-','limit-high','DAI/','time','ETH','exit','version','startnumber','-------------------------------\x0a','balances','lowdb/adapters/FileSync','includes','./config/','running','datetime','yyyy-MM-dd\x27T\x27HH:mm:ss','botname','no\x20open\x20orders','2257135cPLcGu','binanceus','apiKey','buy','commission','privateKey','bot','1403592YpFEgi','Pausing\x20for\x20','padStart','getFullYear','Manual\x20balancing\x20required:\x20','recreate','target','toLowerCase','USDC','symbols','eventTime','event','stringify','reduce','DDoSProtection','/backup/','ccxt','subscribeSymbol24hrTicker','\x20minutes\x20-\x20','Error:\x20Invalid\x20argument\x20','limit','Crypt','storeConfiguration','reconnected','8cdlHxa','RequestTimeout','emojisell','milliseconds','getPortfolio()','data','outboundAccountPosition','637506FeHqYX','subscribeSpotUserDataStream','distribution','fetchTickers','\x20>\x20','001','isArray','EUR','send','AuthenticationError','eur','headless','-results.json','fees','kline','Binance\x20API\x20blocked','push','emojibuy','binance','performance','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20-\x20','get','split','coinamount','orderStatus','decrypt','apiSecret','Binance\x20API\x20secret\x20is\x20invalid','timestamp','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','args','subscribeSpotKline','formattedMessage','InsufficientFunds','initial','yyyy/MM/dd','initclient','restart','Unknown\x20error\x20occured',',\x20must\x20be\x20a\x203\x20digit\x20number','mkdirSync','getMonth','6HyziTk','map','Order\x20amount\x20is\x20invalid:\x20','Binance\x20not\x20available\x20(1)','exchange','cancel','configuration','Order(s)\x20not\x20validated\x20after\x20','ExchangeNotAvailable','\x20order:\x20','YOYOW/','fee','toggleBotMode','writeFile','Limit\x20(high-margin)','change','order','length','configuration-stored','timeshift','replace','getTime','forEach','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','type','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','sortBy',':\x20Bot\x20','assign','fromCodePoint','defaults','wss://stream.binance.com:9443','value','filter','priceChangePercent','reverse','sendPortfolioTelegram','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','XEM/BUSD','cost','USDT','limits','\x20minutes','Market'];_0x2919=function(){return _0x2cf41e;};return _0x2919();}const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x378ece)=>{},'debug':(..._0x4bdf86)=>{},'notice':(..._0x35d014)=>{},'info':(..._0x119350)=>{},'warning':(..._0x548754)=>{},'error':async function(..._0x4aee5a){const _0x5d0654=_0x5441c3,_0x536473=new Date()[_0x5d0654(0x24d)]();if(!lastErrorShown||_0x536473-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x23863e='';if(_0x4aee5a[0x0])_0x23863e+=_0x4aee5a[0x0];if(_0x4aee5a[0x1]&&_0x4aee5a[0x1]['error']&&_0x4aee5a[0x1][_0x5d0654(0x276)]['message'])_0x23863e+=_0x5d0654(0x222)+_0x4aee5a[0x1]['error'][_0x5d0654(0x2b1)];logging('WebSockets('+consecutivePauses+_0x5d0654(0x28f),''+_0x23863e),await pauseBot(_0x5d0654(0x23b));}}},crypt=new Crypt({'md':_0x5441c3(0x26d),'rsaStandard':_0x5441c3(0x277)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config[_0x5441c3(0x24b)]&&updateTimeshift(settings[_0x5441c3(0x24b)]);process[_0x5441c3(0x215)]({'started':_0x5441c3(0x1e2)},_0x47725b=>{}),initializeProcessListeners();function proxyEmit(_0x1b470d,_0xb61ad8=null){const _0x14ed6b=_0x5441c3;process[_0x14ed6b(0x215)]({'function':_0x1b470d,'args':_0xb61ad8},_0x4579de=>{});}function initializeProcessListeners(){const _0x5a2505=_0x5441c3;process['on'](_0x5a2505(0x2b1),_0x4c8e23=>{const _0x13675f=_0x5a2505;switch(Object[_0x13675f(0x295)](_0x4c8e23)[0x0]){case _0x13675f(0x24b):_0x4c8e23[_0x13675f(0x24b)]!=undefined&&(settings['timeshift']=_0x4c8e23[_0x13675f(0x24b)],updateTimeshift(settings[_0x13675f(0x24b)]));break;case _0x13675f(0x2ce):switch(_0x4c8e23['function']){case _0x13675f(0x232):initclient();break;case _0x13675f(0x244):toggleBotMode();break;case _0x13675f(0x2c8):emitHistory(_0x4c8e23['args']);break;case _0x13675f(0x27e):deleteHistoryAlerts(_0x4c8e23['args']);break;case _0x13675f(0x2eb):getPortfolio(_0x4c8e23[_0x13675f(0x22c)]);break;case _0x13675f(0x204):storeConfiguration(_0x4c8e23[_0x13675f(0x22c)]);break;case _0x13675f(0x303):storeHeadless(_0x4c8e23[_0x13675f(0x22c)]);break;case _0x13675f(0x2da):getStartingBalances(getNormalizedPerformance());break;case _0x13675f(0x2ef):placeOrder(_0x4c8e23[_0x13675f(0x22c)]);break;case _0x13675f(0x28a):cancelLoading();break;case _0x13675f(0x25d):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x17cdee=_0x5441c3;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x17cdee(0x1e9)],config[_0x17cdee(0x228)]);let _0xefe440=await loadSymbols();if(_0xefe440){currentCoins=await getCoins(),await initws();if(allOpenOrders[_0x17cdee(0x249)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x168e77,_0x34f99e){const _0x2bad4f=_0x5441c3,_0x270734=ccxt[config['exchange']];let _0x363ba5;switch(config[_0x2bad4f(0x23c)]){case _0x2bad4f(0x21f):_0x363ba5=_0x2bad4f(0x258);break;case _0x2bad4f(0x1e8):_0x363ba5=_0x2bad4f(0x2ca);break;default:_0x363ba5=_0x2bad4f(0x258);}exchange=new _0x270734({'apiKey':_0x168e77,'secret':_0x34f99e,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x168e77,'api_secret':_0x34f99e,'beautify':!![],'wsUrl':_0x363ba5},logger);let _0x3d9d3d=config['exchange']=='binanceus'?_0x2bad4f(0x261):'EUR',_0x5a9dbe=config['basecoin']=='ETH'?_0x2bad4f(0x1d9):_0x2bad4f(0x290);stablecoins={'eur':{'coin':''+_0x5a9dbe+_0x3d9d3d,'symbol':_0x5a9dbe+'/'+_0x3d9d3d},'usd':{'coin':_0x5a9dbe+_0x2bad4f(0x261),'symbol':_0x5a9dbe+'/USDT'}};}async function loadSymbols(){const _0xc403eb=_0x5441c3;let _0x523148;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0xc403eb(0x1f7)]['filter'](_0x103c3e=>{const _0x1e7b2c=_0xc403eb;let _0x56c681=![];return exceptions[_0x1e7b2c(0x24e)](_0x247798=>{const _0x14c606=_0x1e7b2c;if(_0x103c3e[_0x14c606(0x1e0)](_0x247798))_0x56c681=!![];}),!_0x56c681;}),_0x523148=!![];}catch(_0x1d857e){await handleError(_0x1d857e,'loadSymbols()'),_0x523148=![];}return _0x523148;}async function initbot(){const _0xa1161c=_0x5441c3;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x415c5e=dbCoinResults[_0xa1161c(0x223)](_0xa1161c(0x2d6))[_0xa1161c(0x259)]();if(_0x415c5e[_0xa1161c(0x249)]==0x0)await resetCoinResults();}async function initclient(){const _0x35bfe8=_0x5441c3;proxyEmit(_0x35bfe8(0x23e),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x35bfe8(0x1de),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3a7c7d=getNormalizedPerformance();emitPerformance(_0x3a7c7d),await getStartingBalances(_0x3a7c7d);}async function toggleBotMode(){const _0xd50d7d=_0x5441c3;let _0x396e68=dbConfig[_0xd50d7d(0x223)](_0xd50d7d(0x1ed))[_0xd50d7d(0x2e0)]({'botID':botID})[_0xd50d7d(0x259)]();if(_0x396e68){const _0x3d847d=!_0x396e68[_0xd50d7d(0x218)];dbConfig['get'](_0xd50d7d(0x1ed))['find']({'botID':botID})[_0xd50d7d(0x255)]({'headless':_0x3d847d})['write'](),config[_0xd50d7d(0x218)]=_0x3d847d,proxyEmit(_0xd50d7d(0x23e),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x409a1f=_0x5441c3;process[_0x409a1f(0x215)]({'updatebotmanager':!![]},_0x573504=>{});}function cleanws(){const _0x38fb2f=_0x5441c3;wsinitialized=![];ws1&&(ws1[_0x38fb2f(0x24e)](_0x2df8b6=>{const _0x36f500=_0x38fb2f;try{wsClient[_0x36f500(0x2a5)](_0x2df8b6);}catch(_0x46f55e){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x1be73b){}ws2=null;}ws3&&(ws3[_0x38fb2f(0x24e)](_0x1a59ea=>{try{wsClient['closeWs'](_0x1a59ea);}catch(_0x469e09){}}),ws3=[]);}async function initws(){const _0x2c0063=_0x5441c3;cleanws();let _0x39b90f=[];currentCoins[_0x2c0063(0x24e)](_0x56345b=>{const _0x3f417d=_0x2c0063;if(_0x56345b[_0x3f417d(0x271)]!=config[_0x3f417d(0x2e8)])_0x39b90f[_0x3f417d(0x21d)](_0x56345b['symbol']);});if(!_0x39b90f[_0x2c0063(0x1e0)](stablecoins['eur'][_0x2c0063(0x279)]))_0x39b90f[_0x2c0063(0x21d)](stablecoins['eur']['symbol']);if(!_0x39b90f[_0x2c0063(0x1e0)](stablecoins[_0x2c0063(0x2fd)]['symbol']))_0x39b90f[_0x2c0063(0x21d)](stablecoins[_0x2c0063(0x2fd)]['symbol']);if(!_0x39b90f[_0x2c0063(0x1e0)]('BNB/'+config['basecoin']))_0x39b90f[_0x2c0063(0x21d)](_0x2c0063(0x2a4)+config[_0x2c0063(0x2e8)]);try{_0x39b90f[_0x2c0063(0x24e)]((_0x1eaac9,_0x168e90)=>{const _0x1a07a3=_0x2c0063;ws1[_0x168e90]=wsClient[_0x1a07a3(0x22d)](noslash(_0x1eaac9),'1m'),ws3[_0x168e90]=wsClient[_0x1a07a3(0x1ff)](noslash(_0x1eaac9),_0x1a07a3(0x2dd));}),ws2=wsClient[_0x2c0063(0x20e)](),wsClient['on'](_0x2c0063(0x22e),_0x486073=>{const _0x49d4bc=_0x2c0063;if(isWsFormattedKline(_0x486073)){global[_0x49d4bc(0x2aa)][_0x486073[_0x49d4bc(0x21b)]['symbol']]=_0x486073['kline'][_0x49d4bc(0x2f8)];return;}else{if(isWsFormatted24hrTicker(_0x486073)){global[_0x49d4bc(0x247)][_0x486073['symbol']]=_0x486073[_0x49d4bc(0x25b)];return;}else{if(!Array[_0x49d4bc(0x213)](_0x486073)&&_0x486073[_0x49d4bc(0x29f)][_0x49d4bc(0x1e0)](_0x49d4bc(0x27a))){if(_0x486073[_0x49d4bc(0x29d)][_0x49d4bc(0x1e0)]('spot')){updateNumberCoins(_0x486073);return;}}}}}),wsClient['on'](_0x2c0063(0x205),async _0x326abc=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x148c4a){await handleError(_0x148c4a,_0x2c0063(0x2fc));}let _0x401707,_0xcbbdaa=0x0;loading[_0x2c0063(0x2f4)]=[];let _0x2b6a0c=0x0;_0x39b90f[_0x2c0063(0x24e)](_0x1666e1=>{loading['remainingSymbols']['push'](_0x1666e1);}),loadingCanceled=![];while(_0x401707!=_0x39b90f[_0x2c0063(0x249)]){_0x401707=0x0,_0x39b90f[_0x2c0063(0x24e)](_0x12e7c9=>{const _0x429875=_0x2c0063;global[_0x429875(0x2aa)][noslash(_0x12e7c9)]&&(loading[_0x429875(0x2f4)]=loading['remainingSymbols'][_0x429875(0x25a)](_0x527e25=>_0x527e25!=_0x12e7c9),_0x401707++);}),loading[_0x2c0063(0x2d3)]=Math[_0x2c0063(0x301)](_0x401707/_0x39b90f['length']*0x64);_0x2b6a0c>0x1e*0x5&&(loading[_0x2c0063(0x274)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x2c0063(0x23d)]=!![],emitLoadingProgress();break;}else _0x401707!=_0xcbbdaa&&(_0xcbbdaa=_0x401707,emitLoadingProgress()),_0x2b6a0c++,await sleep(0xc8);}if(_0x401707==_0x39b90f[_0x2c0063(0x249)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x18abd5=_0x5441c3;proxyEmit(_0x18abd5(0x2dc),loading);}async function getFiat(){const _0x3a28b8=_0x5441c3;let _0xca938d=0x0,_0x9cb24f=0x0;try{_0xca938d=global[_0x3a28b8(0x2aa)][stablecoins['eur'][_0x3a28b8(0x271)]],_0x9cb24f=global['ticker'][stablecoins['usd'][_0x3a28b8(0x271)]];}catch(_0x5bfb60){await handleError(_0x5bfb60,_0x3a28b8(0x309));}return{'eur':Number(_0xca938d),'usd':Number(_0x9cb24f)};}function setStartDatePerformance(){const _0xa0e4bf=_0x5441c3;if(config&&config['liquidity'][0x0]['changes'][_0xa0e4bf(0x249)]!=0x0){const _0x108f4f=config[_0xa0e4bf(0x30b)][0x0][_0xa0e4bf(0x2c9)];dbPerformance[_0xa0e4bf(0x223)](_0xa0e4bf(0x20b))['find']({'date':config['startdate']})['assign']({'coins':_0x108f4f})[_0xa0e4bf(0x291)]();}}async function recreateHistory(_0x319237){const _0x5d466f=_0x5441c3;let _0x35b57f,_0x102aef=[];logHistory(_0x5d466f(0x2a0),_0x5d466f(0x24f)),_0x319237[_0x5d466f(0x2f0)][_0x5d466f(0x24e)](_0x3ad62e=>{const _0x586228=_0x5d466f;if(_0x3ad62e[_0x586228(0x271)]!=config[_0x586228(0x2e8)]&&!_0x3ad62e['excluded'])_0x102aef[_0x586228(0x21d)]({'coin':_0x3ad62e[_0x586228(0x271)],'symbol':_0x3ad62e['symbol']});});let _0x1ec71b=[];try{const _0x3ce830=fns[_0x5d466f(0x2e3)](fns[_0x5d466f(0x2c1)](_0x319237[_0x5d466f(0x2ab)][_0x5d466f(0x24c)](/\//g,'-')),_0x5d466f(0x1e4));for(const _0x2f6aed of _0x102aef){if(_0x2f6aed['coin']!=config['basecoin'])_0x35b57f=await exchange[_0x5d466f(0x286)](_0x2f6aed[_0x5d466f(0x279)],Date[_0x5d466f(0x2ff)](_0x3ce830));_0x35b57f['forEach'](_0x4dd143=>{const _0x470db1=_0x5d466f,_0x560fc8=_0x2f6aed[_0x470db1(0x279)][_0x470db1(0x1e0)](config[_0x470db1(0x2e8)]+'/'),_0x4c8e8a=fns[_0x470db1(0x2e3)](fns[_0x470db1(0x2c1)](_0x4dd143[_0x470db1(0x1e3)]),_0x470db1(0x28d)),_0x464d41=fns['format'](fns[_0x470db1(0x2c1)](_0x4dd143[_0x470db1(0x1e3)]),_0x470db1(0x231));let _0x4bb4fc;if(_0x4dd143[_0x470db1(0x267)]==_0x470db1(0x1ea)&&_0x560fc8==![])_0x4bb4fc=_0x4dd143[_0x470db1(0x285)];if(_0x4dd143['side']=='buy'&&_0x560fc8==!![])_0x4bb4fc=-_0x4dd143[_0x470db1(0x285)]*_0x4dd143['price'];if(_0x4dd143[_0x470db1(0x267)]==_0x470db1(0x2b7)&&_0x560fc8==![])_0x4bb4fc=-_0x4dd143['amount'];if(_0x4dd143[_0x470db1(0x267)]=='sell'&&_0x560fc8==!![])_0x4bb4fc=_0x4dd143[_0x470db1(0x285)]*_0x4dd143['price'];_0x1ec71b[_0x470db1(0x21d)]({'timestamp':_0x4c8e8a,'date':_0x464d41,'coin':_0x2f6aed[_0x470db1(0x271)],'symbol':_0x2f6aed['symbol'],'type':_0x4dd143[_0x470db1(0x250)],'side':_0x4dd143[_0x470db1(0x267)],'reverse':_0x560fc8,'amount':formatResult(_0x4dd143[_0x470db1(0x26f)],0x8),'filled':formatResult(_0x4dd143['filled'],0x8),'coinamount':formatResult(_0x4bb4fc,0x8),'price':formatResult(_0x4dd143[_0x470db1(0x293)],0x8)});let _0x449459;if(_0x4dd143['side']==_0x470db1(0x1ea)&&_0x560fc8==![])_0x449459=-_0x4dd143[_0x470db1(0x285)]*_0x4dd143[_0x470db1(0x293)];if(_0x4dd143[_0x470db1(0x267)]==_0x470db1(0x1ea)&&_0x560fc8==!![])_0x449459=_0x4dd143[_0x470db1(0x285)];if(_0x4dd143[_0x470db1(0x267)]=='sell'&&_0x560fc8==![])_0x449459=_0x4dd143[_0x470db1(0x285)]*_0x4dd143[_0x470db1(0x293)];if(_0x4dd143[_0x470db1(0x267)]==_0x470db1(0x2b7)&&_0x560fc8==!![])_0x449459=-_0x4dd143['amount'];_0x1ec71b[_0x470db1(0x21d)]({'date':_0x464d41,'coin':config['basecoin'],'coinamount':formatResult(_0x449459,0x8)});});}_0x1ec71b[_0x5d466f(0x2f5)]((_0x3463fd,_0x3e3450)=>_0x3463fd['timestamp']>_0x3e3450[_0x5d466f(0x22a)]?0x1:_0x3e3450[_0x5d466f(0x22a)]>_0x3463fd[_0x5d466f(0x22a)]?-0x1:0x0),dbLogs[_0x5d466f(0x223)](_0x5d466f(0x2c3))[_0x5d466f(0x269)]()[_0x5d466f(0x291)](),_0x1ec71b[_0x5d466f(0x24e)](_0x461700=>{const _0x1675a2=_0x5d466f;let _0x4cbe5a;_0x461700[_0x1675a2(0x271)]!=config[_0x1675a2(0x2e8)]&&(_0x4cbe5a={'time':_0x461700['timestamp'],'type':_0x1675a2(0x248),'event':'Order:\x20'+_0x461700[_0x1675a2(0x279)]+'\x20'+_0x461700[_0x1675a2(0x267)]+'\x20#'+_0x461700[_0x1675a2(0x285)]+'\x20@'+_0x461700[_0x1675a2(0x293)]},dbLogs['get'](_0x1675a2(0x2c3))[_0x1675a2(0x21d)](_0x4cbe5a)[_0x1675a2(0x291)]());});const _0x21e8b9=fns['eachDayOfInterval']({'start':new Date(_0x319237['startdate']),'end':new Date()})['map'](_0x5a3dbd=>fns['format'](_0x5a3dbd,_0x5d466f(0x231)));let _0x354d55=[];_0x319237['portfolio']['forEach'](_0x25dd46=>{const _0x5ad153=_0x5d466f;if(!_0x25dd46[_0x5ad153(0x2c4)]){_0x354d55[_0x25dd46[_0x5ad153(0x271)]]=[];let _0x3e6ca3=_0x25dd46['startnumber'];_0x21e8b9[_0x5ad153(0x24e)]((_0x168d93,_0x15633f)=>{const _0x3be38d=_0x5ad153;let _0x3c9186=_0x1ec71b['filter'](_0x41dbb6=>_0x41dbb6[_0x3be38d(0x271)]==_0x25dd46['coin']&&_0x41dbb6['date']==_0x168d93);if(_0x3c9186[_0x3be38d(0x249)]!=0x0){let _0x4dd872=_0x3c9186[_0x3be38d(0x1fb)]((_0x36bed7,_0x40f82a)=>{const _0x39e769=_0x3be38d;return _0x36bed7+=_0x40f82a[_0x39e769(0x225)],_0x36bed7;},0x0);_0x3e6ca3+=_0x4dd872;}_0x354d55[_0x25dd46[_0x3be38d(0x271)]][_0x168d93]=_0x3e6ca3;});}});const _0x2629dd=[..._0x102aef];_0x2629dd[_0x5d466f(0x21d)]({'coin':stablecoins[_0x5d466f(0x217)]['coin'],'symbol':stablecoins[_0x5d466f(0x217)]['symbol']}),_0x2629dd[_0x5d466f(0x21d)]({'coin':stablecoins['usd'][_0x5d466f(0x271)],'symbol':stablecoins[_0x5d466f(0x2fd)]['symbol']});let _0x41f895=[];for(const _0x55e891 of _0x2629dd){_0x41f895[_0x55e891[_0x5d466f(0x271)]]=await getCloses(_0x55e891[_0x5d466f(0x279)],new Date(_0x319237[_0x5d466f(0x2ab)]));}dbPerformance[_0x5d466f(0x223)](_0x5d466f(0x20b))[_0x5d466f(0x269)]()[_0x5d466f(0x291)](),_0x21e8b9[_0x5d466f(0x24e)]((_0x2f50b1,_0x469aae)=>{const _0x4a464c=_0x5d466f;let _0x48eed9,_0xa50cd3=[];_0x469aae==0x0?(_0x319237['portfolio'][_0x4a464c(0x24e)](_0x29c65f=>{const _0x32a5d7=_0x4a464c;!_0x29c65f[_0x32a5d7(0x2c4)]&&_0xa50cd3['push']({'coin':_0x29c65f[_0x32a5d7(0x271)],'number':_0x29c65f[_0x32a5d7(0x1dc)],'price':_0x29c65f[_0x32a5d7(0x268)]});}),_0x48eed9={'date':_0x2f50b1,'eur':_0x41f895[stablecoins[_0x4a464c(0x217)][_0x4a464c(0x271)]][_0x469aae],'usd':_0x41f895[stablecoins[_0x4a464c(0x2fd)][_0x4a464c(0x271)]][_0x469aae],'coins':_0xa50cd3}):(_0x319237[_0x4a464c(0x2f0)][_0x4a464c(0x24e)](_0x26d772=>{const _0x224e7a=_0x4a464c;!_0x26d772[_0x224e7a(0x2c4)]&&_0xa50cd3[_0x224e7a(0x21d)]({'coin':_0x26d772[_0x224e7a(0x271)],'number':_0x354d55[_0x26d772[_0x224e7a(0x271)]][_0x2f50b1],'price':_0x26d772[_0x224e7a(0x271)]==config[_0x224e7a(0x2e8)]?0x1:_0x41f895[_0x26d772[_0x224e7a(0x271)]][_0x469aae]});}),_0x48eed9={'date':_0x2f50b1,'eur':_0x41f895[stablecoins['eur']['coin']][_0x469aae],'usd':_0x41f895[stablecoins[_0x4a464c(0x2fd)][_0x4a464c(0x271)]][_0x469aae],'coins':_0xa50cd3}),dbPerformance['get'](_0x4a464c(0x20b))[_0x4a464c(0x21d)](_0x48eed9)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x2446f3 of _0x1ec71b){_0x2446f3[_0x5d466f(0x271)]!=config['basecoin']&&await updateCoinResults(_0x2446f3);}logHistory('success',_0x5d466f(0x2bb));}catch(_0xe96df5){await handleError(_0xe96df5,_0x5d466f(0x273));}}async function validate24hChanges(){const _0x33fc20=_0x5441c3;let _0x5dd84c;for(const _0x139110 of currentCoins){if(_0x139110[_0x33fc20(0x271)]!=config[_0x33fc20(0x2e8)]){let _0x37ecab;_0x139110[_0x33fc20(0x25c)]?_0x37ecab=formatResult((0x1/(global[_0x33fc20(0x247)][noslash(_0x139110[_0x33fc20(0x279)])]/0x64+0x1)-0x1)*0x64,0x3):_0x37ecab=global[_0x33fc20(0x247)][noslash(_0x139110['symbol'])],_0x37ecab<config[_0x33fc20(0x2de)]&&(logHistory(_0x33fc20(0x276),_0x139110[_0x33fc20(0x271)]+_0x33fc20(0x296)+_0x37ecab+'%'),logHistory(_0x33fc20(0x276),_0x33fc20(0x308)),logHistory(_0x33fc20(0x276),_0x33fc20(0x29a)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x239271,_0xca0884,_0x165899=undefined){const _0x43d29d=_0x5441c3,_0x33d021='1d';let _0x1c380a,_0x1f54e2;const _0xfa6717=fns[_0x43d29d(0x297)](new Date(),_0xca0884)+0x1;try{const _0xa6f58e=exchange[_0x43d29d(0x209)]()-_0xfa6717*0x18*0xe10*0x3e8;_0x1c380a=await exchange[_0x43d29d(0x265)](_0x239271,_0x33d021,_0xa6f58e,_0x165899),_0x1f54e2=await exchange[_0x43d29d(0x210)](_0x239271);}catch(_0x15b391){await handleError(_0x15b391,'getCloses()');}let _0x59d2e5=ohlcvToCloses(_0x1c380a);return _0x59d2e5[_0x43d29d(0x21d)](_0x1f54e2[_0x239271][_0x43d29d(0x288)]),_0x59d2e5;}function ohlcvToCloses(_0x5a6eb9){let _0x4dce0b=[];return _0x5a6eb9['forEach'](function(_0x4400a3){const _0x9ea149=_0x4d2a;_0x4dce0b[_0x9ea149(0x21d)](_0x4400a3[0x4]);}),_0x4dce0b;}function oneTimeMigration(){const _0x166405=_0x5441c3;let _0x2a6ca1=dbLogs[_0x166405(0x223)]('version')[_0x166405(0x259)]();if(_0x2a6ca1!='2.3.5'){dbLogs['set'](_0x166405(0x1db),_0x166405(0x2ba))['write']();let _0x1c0b45=[];const _0x483e98=dbLogs[_0x166405(0x223)](_0x166405(0x2c3))[_0x166405(0x259)]();_0x483e98[_0x166405(0x24e)](_0x17cb8c=>{const _0x3e40d1=_0x166405;_0x1c0b45['push']({'time':_0x17cb8c['time'],'type':_0x17cb8c[_0x3e40d1(0x250)],'event':_0x17cb8c['event']});}),dbLogs[_0x166405(0x223)]('logs')[_0x166405(0x255)](_0x1c0b45)['write']();}let _0x2ab676=dbConfig[_0x166405(0x223)](_0x166405(0x1db))['value']();if(_0x2ab676!=_0x166405(0x2ba)){dbConfig[_0x166405(0x30c)](_0x166405(0x1db),_0x166405(0x2ba))[_0x166405(0x291)]();let _0x1805b3=dbConfig[_0x166405(0x223)](_0x166405(0x1ed))[_0x166405(0x2e0)]({'botID':botID})[_0x166405(0x259)]();if(_0x1805b3){let _0x4a70ca=[];_0x1805b3['portfolio'][_0x166405(0x24e)](_0x47d429=>{const _0x5aba3a=_0x166405;_0x4a70ca['push']({'coin':_0x47d429['coin'],'number':_0x47d429[_0x5aba3a(0x1dc)],'price':_0x47d429[_0x5aba3a(0x268)]}),delete _0x47d429[_0x5aba3a(0x1dc)],delete _0x47d429[_0x5aba3a(0x268)];});if(_0x4a70ca['length']!==0x0)fs[_0x166405(0x245)](configbackuppath+('starting-balance-'+botID+_0x166405(0x307)),JSON[_0x166405(0x1fa)](_0x4a70ca,null,0x4),function(_0x18c736){if(_0x18c736){}});const _0x33c7ae=(_0x29730d,_0x44cf27)=>{const _0x1055e6=_0x166405;let _0x25c0cf=[];_0x44cf27[_0x1055e6(0x24e)](_0x3093e3=>{const _0x2e6d81=_0x1055e6,_0x291369=_0x29730d[_0x2e6d81(0x2e0)](_0x562502=>_0x562502[_0x2e6d81(0x271)]==_0x3093e3[_0x2e6d81(0x271)]);if(!_0x291369)_0x25c0cf[_0x2e6d81(0x21d)](_0x3093e3);});let _0x33dfa2=[];return _0x29730d[_0x1055e6(0x24e)](_0x557bad=>{const _0x3a73a9=_0x1055e6,_0x2a0d5=_0x44cf27['find'](_0x47976e=>_0x47976e[_0x3a73a9(0x271)]==_0x557bad['coin']);if(!_0x2a0d5||_0x2a0d5[_0x3a73a9(0x2f7)]==0x0&&_0x557bad['number']!=0x0)_0x33dfa2[_0x3a73a9(0x21d)](_0x557bad);}),{'missingDay1':_0x25c0cf,'notInDay2':_0x33dfa2};},_0x47bae3=dbPerformance[_0x166405(0x223)]('data')['cloneDeep']()[_0x166405(0x259)]();if(_0x47bae3[_0x166405(0x249)]>0x1){const {missingDay1:_0x4094e3,notInDay2:_0x46d6d3}=_0x33c7ae(_0x4a70ca,_0x47bae3[0x1]['coins']);_0x4a70ca=[..._0x4a70ca,..._0x4094e3],_0x46d6d3[_0x166405(0x24e)](_0x22ddb9=>{const _0x379459=_0x166405;let _0x4d8e32=_0x4a70ca[_0x379459(0x2e9)](_0x5df5d9=>_0x5df5d9['coin']==_0x22ddb9[_0x379459(0x271)]);_0x4d8e32!=-0x1&&_0x4a70ca[_0x379459(0x2be)](_0x4d8e32,0x1);});}_0x4a70ca[_0x166405(0x2f5)]((_0x3daedd,_0x5b3574)=>_0x3daedd['coin']>_0x5b3574['coin']?0x1:_0x5b3574[_0x166405(0x271)]>_0x3daedd[_0x166405(0x271)]?-0x1:0x0);let _0x55c04f=[{'date':_0x1805b3[_0x166405(0x2ab)],'changes':_0x4a70ca}];_0x47bae3[_0x166405(0x249)]>0x2&&_0x47bae3['forEach']((_0x18e002,_0x3cd198)=>{const _0x2cfe5a=_0x166405;if(_0x3cd198>0x0&&_0x3cd198<_0x47bae3[_0x2cfe5a(0x249)]-0x1){const {missingDay1:_0x433d56,notInDay2:_0x33ed9a}=_0x33c7ae(_0x47bae3[_0x3cd198][_0x2cfe5a(0x2d6)],_0x47bae3[_0x3cd198+0x1][_0x2cfe5a(0x2d6)]);_0x4a70ca=[],(_0x433d56[_0x2cfe5a(0x249)]!=0x0||_0x33ed9a['length']!=0x0)&&(_0x433d56[_0x2cfe5a(0x249)]!=0x0&&_0x4a70ca[_0x2cfe5a(0x21d)](..._0x433d56),_0x33ed9a[_0x2cfe5a(0x249)]!=0x0&&(_0x33ed9a[_0x2cfe5a(0x24e)](_0x230c3a=>{_0x230c3a['number']=-_0x230c3a['number'];}),_0x4a70ca[_0x2cfe5a(0x21d)](..._0x33ed9a)),_0x4a70ca['sort']((_0x335aa5,_0x1b648e)=>_0x335aa5[_0x2cfe5a(0x271)]>_0x1b648e[_0x2cfe5a(0x271)]?0x1:_0x1b648e['coin']>_0x335aa5[_0x2cfe5a(0x271)]?-0x1:0x0),_0x55c04f[_0x2cfe5a(0x21d)]({'date':_0x47bae3[_0x3cd198+0x1][_0x2cfe5a(0x30d)],'changes':_0x4a70ca}));}}),dbConfig[_0x166405(0x223)](_0x166405(0x1ed))[_0x166405(0x2e0)]({'botID':botID})[_0x166405(0x255)]({..._0x1805b3,'liquidity':_0x55c04f})[_0x166405(0x291)]();}}config=getConfiguration(botID);let _0x5ee82b=dbPerformance[_0x166405(0x223)](_0x166405(0x1db))['value']();_0x5ee82b!='2.3.5'&&(dbPerformance[_0x166405(0x30c)](_0x166405(0x1db),'2.3.5')[_0x166405(0x291)](),setStartDatePerformance());let _0x233407=dbCoinResults['get'](_0x166405(0x1db))[_0x166405(0x259)]();_0x233407!=_0x166405(0x2ba)&&dbCoinResults[_0x166405(0x30c)]('version','2.3.5')[_0x166405(0x291)]();}function getConfiguration(_0x428bb9){const _0x3da910=_0x5441c3;let _0x19c74b=dbConfig[_0x3da910(0x223)](_0x3da910(0x1ed))['find']({'botID':_0x428bb9})['value']();if(_0x19c74b){let _0x46d0d3=![];typeof _0x19c74b['threshold']=='string'&&(_0x19c74b={..._0x19c74b,'threshold':Number(_0x19c74b['threshold'])},_0x46d0d3=!![]),_0x19c74b[_0x3da910(0x2de)]==null&&(_0x19c74b={..._0x19c74b,'change24h':-0x14},_0x46d0d3=!![]),_0x46d0d3&&(_0x19c74b={'botID':_0x19c74b['botID'],'exchange':_0x19c74b[_0x3da910(0x23c)],'apiKey':_0x19c74b['apiKey'],'apiSecret':_0x19c74b[_0x3da910(0x228)],'basecoin':_0x19c74b[_0x3da910(0x2e8)],'botname':_0x19c74b['botname'],'showname':_0x19c74b[_0x3da910(0x2cd)],'threshold':_0x19c74b['threshold'],'ordertype':_0x19c74b[_0x3da910(0x2d7)],'timeout':_0x19c74b['timeout'],'startdate':_0x19c74b[_0x3da910(0x2ab)],'recreate':_0x19c74b[_0x3da910(0x1f3)],'timeshift':_0x19c74b['timeshift'],'headless':_0x19c74b['headless'],'cooldown':_0x19c74b[_0x3da910(0x280)],'change24h':_0x19c74b['change24h'],'emojibuy':_0x19c74b[_0x3da910(0x21e)],'emojisell':_0x19c74b[_0x3da910(0x208)],'portfolio':_0x19c74b[_0x3da910(0x2f0)],'liquidity':_0x19c74b[_0x3da910(0x30b)]},dbConfig[_0x3da910(0x223)]('bot')['remove']()['write'](),dbConfig[_0x3da910(0x223)](_0x3da910(0x1ed))[_0x3da910(0x21d)](_0x19c74b)[_0x3da910(0x291)]());}else _0x19c74b={'botID':_0x428bb9,'exchange':_0x3da910(0x21f),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x3da910(0x300)+_0x428bb9,'showname':![],'threshold':0x3,'ordertype':_0x3da910(0x2d9),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3da910(0x24b)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x19c74b;}function emittedConfiguration(){const _0x5c0c7f=_0x5441c3;let _0x3fe27b;return config[_0x5c0c7f(0x1e9)]==''?_0x3fe27b=config:_0x3fe27b={...config,'apiKey':_0x5c0c7f(0x29b),'apiSecret':'************'},_0x3fe27b;}function getSettings(){const _0x166e63=_0x5441c3;return dbSettings[_0x166e63(0x223)](_0x166e63(0x2a2))['value']();}function getSecure(){const _0x196828=_0x5441c3;return dbSecure['get']('secure')[_0x196828(0x259)]()||{};}function updateTimeshift(_0x1a3483){const _0xb5aef4=_0x5441c3;let _0x15d027=dbConfig[_0xb5aef4(0x223)]('bot')[_0xb5aef4(0x2e0)]({'botID':botID})[_0xb5aef4(0x259)]();_0x15d027&&dbConfig[_0xb5aef4(0x223)](_0xb5aef4(0x1ed))[_0xb5aef4(0x2e0)]({'botID':botID})[_0xb5aef4(0x255)]({'timeshift':_0x1a3483})[_0xb5aef4(0x291)](),config[_0xb5aef4(0x24b)]=_0x1a3483,proxyEmit(_0xb5aef4(0x23e),emittedConfiguration());}async function storeConfiguration(_0x349559){const _0x3713a7=_0x5441c3;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x586813=dbConfig[_0x3713a7(0x223)]('bot')[_0x3713a7(0x2e0)]({'botID':botID})[_0x3713a7(0x259)]();_0x349559={..._0x349559,'apiKey':crypt[_0x3713a7(0x227)](secure[_0x3713a7(0x1ec)],_0x349559[_0x3713a7(0x1e9)])[_0x3713a7(0x2b1)],'apiSecret':crypt[_0x3713a7(0x227)](secure['privateKey'],_0x349559[_0x3713a7(0x228)])[_0x3713a7(0x2b1)]};if(_0x586813){if(_0x349559[_0x3713a7(0x1e9)]=='************')_0x349559['apiKey']=config['apiKey'];if(_0x349559[_0x3713a7(0x228)]==_0x3713a7(0x29b))_0x349559[_0x3713a7(0x228)]=config['apiSecret'];dbConfig[_0x3713a7(0x223)](_0x3713a7(0x1ed))[_0x3713a7(0x2e0)]({'botID':botID})[_0x3713a7(0x255)](_0x349559)[_0x3713a7(0x291)]();}else dbConfig['get'](_0x3713a7(0x1ed))['push'](_0x349559)[_0x3713a7(0x291)](),process[_0x3713a7(0x215)]({'status':_0x3713a7(0x2c0),'live':'running'},_0x3c74ae=>{});config={..._0x349559},setStartDatePerformance(),process['send']({'botname':_0x349559['botname']},_0x268e9f=>{}),updateBotManager();const _0x53ba54=getNormalizedPerformance();getStartingBalances(_0x53ba54),emitPerformance(_0x53ba54),proxyEmit(_0x3713a7(0x24a)),reset();}async function storeHeadless(_0x211084){const _0x248602=_0x5441c3,_0x51f178={...config,'headless':_0x211084[_0x248602(0x218)]};let _0x1b1d6f=dbConfig[_0x248602(0x223)](_0x248602(0x1ed))[_0x248602(0x2e0)]({'botID':botID})[_0x248602(0x259)]();_0x1b1d6f&&dbConfig['get'](_0x248602(0x1ed))[_0x248602(0x2e0)]({'botID':botID})[_0x248602(0x255)](_0x51f178)[_0x248602(0x291)](),config={..._0x51f178},updateBotManager(),proxyEmit(_0x248602(0x23e),emittedConfiguration());}function noslash(_0xf1b1d4){const _0x3fa956=_0x5441c3;return _0xf1b1d4[_0x3fa956(0x24c)]('/','');}async function updateNumberCoins(_0x18996d){const _0x5f3140=_0x5441c3;_0x18996d[_0x5f3140(0x2fe)]&&_0x18996d[_0x5f3140(0x2fe)]==_0x5f3140(0x20c)&&(_0x18996d[_0x5f3140(0x1f8)]!=lastOutboundEventTime&&(lastOutboundEventTime=_0x18996d[_0x5f3140(0x1f8)],currentCoins=await getCoins(),validateOrders()));if(_0x18996d[_0x5f3140(0x2fe)]&&_0x18996d[_0x5f3140(0x2fe)]=='executionReport'){if(_0x18996d[_0x5f3140(0x226)]==_0x5f3140(0x2d5)){if(lastOrders)lastOrders['forEach'](async _0x4a77bf=>{const _0x206721=_0x5f3140;_0x4a77bf[_0x206721(0x289)]==_0x18996d[_0x206721(0x289)]&&_0x4a77bf['filled']==0x0&&(_0x4a77bf[_0x206721(0x293)]=_0x18996d[_0x206721(0x2b2)]/_0x18996d[_0x206721(0x294)],_0x4a77bf[_0x206721(0x26f)]=_0x18996d[_0x206721(0x294)],_0x4a77bf[_0x206721(0x243)]={'cost':_0x18996d[_0x206721(0x1eb)],'currency':_0x18996d[_0x206721(0x270)]},validateOrders(),currentCoins=await getCoins(),await updateCoinResults(_0x4a77bf));});}}}async function getCoins(_0x21e45e=!![],_0x29fa9a=config[_0x5441c3(0x2e8)]){const _0x490055=_0x5441c3;let _0x4ad8dd,_0x44b81b=[],_0x3956f0=[],_0x53adf5=[];try{_0x4ad8dd=await exchange[_0x490055(0x2ae)](),mybalances=_0x4ad8dd[_0x490055(0x26c)];if(!_0x21e45e)for(const [_0x5c5f15,_0x5b788e]of Object[_0x490055(0x266)](mybalances)){_0x53adf5['push'](_0x5c5f15);}else config[_0x490055(0x2f0)][_0x490055(0x24e)](_0x484bea=>{const _0x3ea634=_0x490055;if(!_0x484bea[_0x3ea634(0x2c4)])_0x53adf5['push'](_0x484bea[_0x3ea634(0x271)]);});if(_0x29fa9a=='')for(const [_0x481964,_0x468a90]of Object[_0x490055(0x266)](mybalances)){_0x468a90['toString']()!=0x0&&_0x3956f0[_0x490055(0x21d)]({'coin':_0x481964});}else{let _0x3dfb00=![],_0x12e8c3;allOpenOrders=[];for(const [_0x4a51d5,_0x4ff95d]of Object[_0x490055(0x266)](mybalances)){if(_0x53adf5['includes'](_0x4a51d5)){const _0x14814a=config[_0x490055(0x2f0)][_0x490055(0x2e0)](_0x4135d9=>_0x4135d9[_0x490055(0x271)]==_0x4a51d5),_0x5757dc=_0x4a51d5+'/'+_0x29fa9a,_0x5bfbe1=_0x29fa9a+'/'+_0x4a51d5;_0x3dfb00=![];if((_0x4ff95d['toString']()!=0x0||_0x14814a)&&(allSymbols[_0x490055(0x1e0)](_0x5757dc)||_0x4a51d5==_0x29fa9a))_0x4a51d5!=_0x29fa9a&&(_0x44b81b['push'](_0x5757dc),_0x12e8c3=await exchange[_0x490055(0x2b5)](_0x5757dc),_0x12e8c3[_0x490055(0x249)]>0x0&&(_0x3dfb00=!![])),_0x3956f0[_0x490055(0x21d)]({'coin':_0x4a51d5,'symbol':_0x5757dc,'reverse':![],'number':Math[_0x490055(0x2d0)](_0x4ff95d+(_0x14814a&&_0x14814a[_0x490055(0x302)]||0x0),0x0),'order':_0x3dfb00});else(_0x4ff95d[_0x490055(0x28c)]()!=0x0||_0x14814a)&&allSymbols[_0x490055(0x1e0)](_0x5bfbe1)&&(_0x4a51d5!=_0x29fa9a&&(_0x44b81b[_0x490055(0x21d)](_0x5bfbe1),_0x12e8c3=await exchange[_0x490055(0x2b5)](_0x5bfbe1),_0x12e8c3[_0x490055(0x249)]>0x0&&(_0x3dfb00=!![])),_0x3956f0[_0x490055(0x21d)]({'coin':_0x4a51d5,'symbol':_0x5bfbe1,'reverse':!![],'number':Math[_0x490055(0x2d0)](_0x4ff95d+(_0x14814a&&_0x14814a[_0x490055(0x302)]||0x0),0x0),'order':_0x3dfb00}));}_0x3dfb00&&allOpenOrders['push'](_0x12e8c3[0x0]);}allOpenOrders[_0x490055(0x249)]==0x0&&(lockOrders&&validateOrders('no\x20open\x20orders'));}}catch(_0x1f8bfb){if(!_0x21e45e){if(_0x1f8bfb[_0x490055(0x28c)]()['includes']('API-key\x20format\x20invalid'))return logHistory(_0x490055(0x276),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x1f8bfb['toString']()['includes']('AuthenticationError'))return logHistory(_0x490055(0x276),_0x490055(0x2c5)),![];else{if(_0x1f8bfb[_0x490055(0x28c)]()[_0x490055(0x1e0)](_0x490055(0x2f9)))return logHistory(_0x490055(0x276),_0x490055(0x229)),![];else await handleError(_0x1f8bfb,_0x490055(0x2a1));}}}else await handleError(_0x1f8bfb,'getCoins()');}return _0x3956f0;}async function getPortfolio(_0x5698b0){const _0x2695c0=_0x5441c3;let _0x313f8a=[],_0x37a44b=[],_0x238ad8,_0xc66af2=[],_0x26d8a9,_0xfa0de0;_0x5698b0[_0x2695c0(0x1e9)]===_0x2695c0(0x29b)||_0x5698b0['apiSecret']===_0x2695c0(0x29b)?(_0x26d8a9=config['apiKey'],_0xfa0de0=config[_0x2695c0(0x228)]):(_0x26d8a9=_0x5698b0[_0x2695c0(0x1e9)],_0xfa0de0=_0x5698b0[_0x2695c0(0x228)]);await initExchange(_0x26d8a9,_0xfa0de0);let _0x1500ea=await loadSymbols();if(_0x1500ea){_0xc66af2=await getCoins(![],_0x5698b0[_0x2695c0(0x2e8)]);if(_0xc66af2===![])proxyEmit('portfolio',![]);else{if(_0x5698b0[_0x2695c0(0x2e8)]=='')proxyEmit('portfolio',_0xc66af2);else{_0xc66af2[_0x2695c0(0x24e)](_0x4ae9d2=>{const _0x945464=_0x2695c0;if(_0x4ae9d2[_0x945464(0x271)]!=_0x5698b0['basecoin'])_0x313f8a[_0x945464(0x21d)](_0x4ae9d2[_0x945464(0x279)]);});try{_0x37a44b=await exchange[_0x2695c0(0x210)](_0x313f8a);}catch(_0x13c13b){await handleError(_0x13c13b,_0x2695c0(0x20a));}_0xc66af2[_0x2695c0(0x24e)](_0x390ab0=>{const _0x9c3618=_0x2695c0;_0x390ab0[_0x9c3618(0x271)]!=_0x5698b0['basecoin']?_0x238ad8=_0x390ab0[_0x9c3618(0x25c)]?0x1/_0x37a44b[_0x390ab0[_0x9c3618(0x279)]][_0x9c3618(0x288)]:_0x37a44b[_0x390ab0[_0x9c3618(0x279)]][_0x9c3618(0x288)]:_0x238ad8=0x1,_0x390ab0[_0x9c3618(0x293)]=formatResult(_0x238ad8,0x8);}),proxyEmit('portfolio',_0xc66af2);}}}else proxyEmit(_0x2695c0(0x2f0),![]);}function checkMinimums(_0x19bc4c){const _0x3f9ae8=_0x5441c3;let _0x5eb497=!![];const _0xebab8=!_0x19bc4c['reverse']?markets[_0x19bc4c[_0x3f9ae8(0x279)]]['limits']['amount'][_0x3f9ae8(0x2c7)]:markets[_0x19bc4c[_0x3f9ae8(0x279)]]['limits'][_0x3f9ae8(0x260)][_0x3f9ae8(0x2c7)],_0x36e1ef=!_0x19bc4c['reverse']?markets[_0x19bc4c[_0x3f9ae8(0x279)]][_0x3f9ae8(0x262)][_0x3f9ae8(0x260)]['min']:markets[_0x19bc4c[_0x3f9ae8(0x279)]][_0x3f9ae8(0x262)]['amount'][_0x3f9ae8(0x2c7)];if(Math['abs'](_0x19bc4c['trade'])<_0xebab8)_0x5eb497=![];if(Math['abs'](_0x19bc4c[_0x3f9ae8(0x2ea)])*_0x19bc4c[_0x3f9ae8(0x288)]<_0x36e1ef)_0x5eb497=![];if(_0x19bc4c[_0x3f9ae8(0x267)]==_0x3f9ae8(0x2b7)){let _0x5c391a=config['portfolio'][_0x3f9ae8(0x2e0)](_0x9b5662=>_0x9b5662[_0x3f9ae8(0x271)]==_0x19bc4c['coin']);if(_0x5c391a[_0x3f9ae8(0x302)]>0x0){if(Math['abs'](_0x19bc4c[_0x3f9ae8(0x2ea)])>_0x19bc4c['number']-_0x5c391a[_0x3f9ae8(0x302)])_0x5eb497=![];}else{if(Math['abs'](_0x19bc4c[_0x3f9ae8(0x2ea)])>_0x19bc4c[_0x3f9ae8(0x2f7)])_0x5eb497=![];}}if(_0x19bc4c[_0x3f9ae8(0x267)]=='buy'){let _0x21a79b=config['portfolio'][_0x3f9ae8(0x2e0)](_0x55a8a3=>_0x55a8a3[_0x3f9ae8(0x271)]==config[_0x3f9ae8(0x2e8)]),_0x1c31b5=currentCoins[_0x3f9ae8(0x2e0)](_0x374af9=>_0x374af9[_0x3f9ae8(0x271)]==config[_0x3f9ae8(0x2e8)]);if(_0x21a79b['offset']>0x0){if(Math[_0x3f9ae8(0x30f)](_0x19bc4c['trade'])*_0x19bc4c[_0x3f9ae8(0x288)]>_0x1c31b5[_0x3f9ae8(0x2f7)]-_0x21a79b['offset'])_0x5eb497=![];}else{if(Math[_0x3f9ae8(0x30f)](_0x19bc4c[_0x3f9ae8(0x2ea)])*_0x19bc4c[_0x3f9ae8(0x288)]>_0x1c31b5[_0x3f9ae8(0x2f7)])_0x5eb497=![];}}return _0x5eb497;}async function getBalances(){const _0xf23487=_0x5441c3;let _0xf79a77=0x0,_0x4e259b;const _0x187819=config['threshold'];if(config[_0xf23487(0x218)]&&config[_0xf23487(0x2de)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x2cc14b=>{const _0x5844ad=_0xf23487;if(_0x2cc14b[_0x5844ad(0x271)]!=config[_0x5844ad(0x2e8)]){let _0x5dde2b=global[_0x5844ad(0x2aa)][noslash(_0x2cc14b[_0x5844ad(0x279)])];_0x4e259b=_0x2cc14b[_0x5844ad(0x25c)]?0x1/_0x5dde2b:_0x5dde2b;}else _0x4e259b=0x1;let _0xc3727=_0x2cc14b[_0x5844ad(0x2f7)]*_0x4e259b;_0xf79a77+=_0xc3727,_0x2cc14b['last']=formatResult(Number(_0x4e259b),0x8),_0x2cc14b[_0x5844ad(0x259)]=_0xc3727;}),currentCoins[_0xf23487(0x24e)](_0x4be82a=>{const _0x5851a3=_0xf23487;let _0x1a45f4=config[_0x5851a3(0x2f0)][_0x5851a3(0x2e0)](_0x20df4e=>_0x20df4e[_0x5851a3(0x271)]==_0x4be82a[_0x5851a3(0x271)]),_0x8949f=Number(_0x1a45f4[_0x5851a3(0x20f)]),_0x541574=_0x4be82a['value']/_0xf79a77*0x64,_0x3adda5=_0x8949f*_0xf79a77/0x64/_0x4be82a['last']-_0x4be82a[_0x5851a3(0x2f7)];_0x4be82a[_0x5851a3(0x20f)]=formatResult(_0x541574,0x3),_0x4be82a['target']=formatResult(_0x8949f,0x3),_0x4be82a['trade']=formatResult(_0x3adda5,0x8),_0x4be82a[_0x5851a3(0x267)]='',_0x4be82a[_0x5851a3(0x27f)]=![];if(_0x4be82a['coin']!=config[_0x5851a3(0x2e8)]){if(_0x4be82a[_0x5851a3(0x20f)]>_0x8949f)_0x4be82a[_0x5851a3(0x267)]='sell',_0x4be82a[_0x5851a3(0x27f)]=checkMinimums(_0x4be82a);else _0x4be82a[_0x5851a3(0x20f)]<_0x8949f&&(_0x4be82a[_0x5851a3(0x267)]='buy',_0x4be82a[_0x5851a3(0x27f)]=checkMinimums(_0x4be82a));}_0x4be82a['delta']=_0x4be82a['distribution']/_0x4be82a['target']-0x1;}),currentCoins[_0xf23487(0x2f5)]((_0x2ad6e2,_0x41c04e)=>_0x2ad6e2[_0xf23487(0x2e6)]<_0x41c04e['delta']?0x1:_0x41c04e[_0xf23487(0x2e6)]<_0x2ad6e2[_0xf23487(0x2e6)]?-0x1:0x0);const _0x2c054f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2c054f[_0xf23487(0x217)],'usd':_0x2c054f[_0xf23487(0x2fd)],'portfolio':JSON[_0xf23487(0x1fa)](currentCoins),'threshold':_0x187819},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0xf23487(0x218)])headlessMode({'portfolio':currentCoins,'threshold':_0x187819});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x187819});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2a249f=_0x5441c3;if(!lastBalances)return;let _0x281492=[],_0x5a37ce,_0x56bb87=JSON[_0x2a249f(0x2ff)](lastBalances[_0x2a249f(0x2f0)]);_0x56bb87[_0x2a249f(0x2f5)]((_0x40783e,_0x320ffb)=>_0x40783e[_0x2a249f(0x271)]>_0x320ffb[_0x2a249f(0x271)]?0x1:_0x320ffb[_0x2a249f(0x271)]>_0x40783e[_0x2a249f(0x271)]?-0x1:0x0),_0x56bb87[_0x2a249f(0x24e)](_0x5c5d63=>{const _0x381db6=_0x2a249f;let _0x7b9373={'coin':_0x5c5d63[_0x381db6(0x271)],'number':_0x5c5d63[_0x381db6(0x2f7)],'price':_0x5c5d63['last']};_0x281492[_0x381db6(0x21d)](_0x7b9373);});const _0x44dba8=await getFiat();_0x5a37ce={'date':lastBalances[_0x2a249f(0x1d8)][_0x2a249f(0x224)]('\x20')[0x0],'eur':_0x44dba8[_0x2a249f(0x217)],'usd':_0x44dba8[_0x2a249f(0x2fd)],'coins':_0x281492};let _0x36c363=dbPerformance[_0x2a249f(0x223)](_0x2a249f(0x20b))[_0x2a249f(0x2e0)]({'date':_0x5a37ce[_0x2a249f(0x30d)]})[_0x2a249f(0x259)]();_0x36c363?_0x5a37ce[_0x2a249f(0x30d)]!=config[_0x2a249f(0x2ab)]&&dbPerformance['get']('data')[_0x2a249f(0x2e0)]({'date':_0x5a37ce[_0x2a249f(0x30d)]})['assign'](_0x5a37ce)[_0x2a249f(0x291)]():dbPerformance[_0x2a249f(0x223)](_0x2a249f(0x20b))[_0x2a249f(0x21d)](_0x5a37ce)[_0x2a249f(0x291)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x34436b=_0x5441c3;let _0xf5651f=[];if(dbPerformance[_0x34436b(0x2fb)](_0x34436b(0x20b))['value']()){let _0xb91c69=dbPerformance[_0x34436b(0x223)]('data')['cloneDeep']()[_0x34436b(0x253)]('date')[_0x34436b(0x259)](),_0x104947=[...config['liquidity']];_0x104947[_0x34436b(0x2f5)]((_0x3714c3,_0x2cca6b)=>_0x3714c3[_0x34436b(0x30d)]>_0x2cca6b[_0x34436b(0x30d)]?-0x1:_0x2cca6b['date']>_0x3714c3[_0x34436b(0x30d)]?0x1:0x0);let _0x51f315=0x1,_0x28b498=[],_0x2fb978=0x0;_0xb91c69[_0x34436b(0x2c6)]()[_0x34436b(0x25c)]()[_0x34436b(0x24e)]((_0x326deb,_0xbfbe22)=>{const _0x18681d=_0x34436b;if(_0x104947[_0x2fb978]){if(_0xb91c69[_0xb91c69[_0x18681d(0x249)]-_0xbfbe22]&&_0x104947[_0x2fb978][_0x18681d(0x30d)]==_0xb91c69[_0xb91c69['length']-_0xbfbe22][_0x18681d(0x30d)]){if(_0xbfbe22<_0xb91c69[_0x18681d(0x249)]){let _0x1ef91a=0x0,_0x1949da=0x0;_0xb91c69[_0xb91c69['length']-_0xbfbe22][_0x18681d(0x2d6)]['forEach'](_0x26dd3e=>{const _0x4366ad=_0x18681d;_0x1949da+=_0x26dd3e['number']*_0x26dd3e[_0x4366ad(0x293)];}),_0x104947[_0x2fb978][_0x18681d(0x2c9)][_0x18681d(0x24e)](_0x31426f=>{const _0x54a269=_0x18681d;_0x1ef91a+=_0x31426f[_0x54a269(0x2f7)]*_0x31426f[_0x54a269(0x293)];}),_0x51f315*=_0x1ef91a/(_0x1949da-_0x1ef91a)+0x1;}_0x2fb978++;}}let _0x5dc980=0x0;_0x326deb[_0x18681d(0x2d6)][_0x18681d(0x24e)](_0x2db03c=>{const _0x1fdf65=_0x18681d;_0x5dc980+=_0x2db03c[_0x1fdf65(0x2f7)]*_0x2db03c[_0x1fdf65(0x293)];}),_0x28b498[_0xb91c69[_0x18681d(0x249)]-_0xbfbe22-0x1]=_0x5dc980*(_0x51f315-0x1);});let _0x3639aa=[];_0x104947=[...config[_0x34436b(0x30b)]]||[];let _0x4ae245=0x0;_0x2fb978=0x0,_0xb91c69['forEach']((_0x3e14e5,_0x2129a9)=>{const _0x1a59af=_0x34436b;if(_0x104947[_0x2fb978]){const _0x7f3735=fns[_0x1a59af(0x2ff)](_0x104947[_0x2fb978]['date'],_0x1a59af(0x231),new Date()),_0x29e142=fns[_0x1a59af(0x2ff)](_0x3e14e5['date'],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x7f3735,_0x29e142)){let _0x4527ea=0x0;_0x104947[_0x2fb978]['changes'][_0x1a59af(0x24e)](_0x177dc5=>{const _0x141052=_0x1a59af;!_0x3639aa[_0x177dc5[_0x141052(0x271)]]?_0x3639aa[_0x177dc5[_0x141052(0x271)]]=_0x177dc5[_0x141052(0x2f7)]:(_0x4527ea=_0x3639aa[_0x177dc5['coin']],_0x3639aa[_0x177dc5[_0x141052(0x271)]]+=_0x177dc5[_0x141052(0x2f7)]);const _0x527d86=_0x3e14e5['coins']['find'](_0x576077=>_0x576077[_0x141052(0x271)]==_0x177dc5[_0x141052(0x271)]);(!_0x527d86||_0x527d86[_0x141052(0x2f7)]==0x0)&&(_0x4ae245+=(-_0x177dc5['number']-_0x4527ea)*_0x177dc5['price']);}),_0x2fb978++;}}_0x3e14e5[_0x1a59af(0x2d6)][_0x1a59af(0x24e)]((_0x5e511a,_0x4a6938)=>{const _0x3ecd24=_0x1a59af;_0x3639aa[_0x5e511a[_0x3ecd24(0x271)]]&&(_0x5e511a={..._0x5e511a,'initial':_0x3639aa[_0x5e511a[_0x3ecd24(0x271)]]}),_0x3e14e5[_0x3ecd24(0x2d6)][_0x4a6938]=_0x5e511a;}),_0xf5651f[_0x1a59af(0x21d)]({'date':_0x3e14e5['date'],'eur':_0x3e14e5[_0x1a59af(0x217)],'usd':_0x3e14e5['usd'],'offset':_0x28b498[_0x2129a9],'netoffset':_0x4ae245,'coins':_0x3e14e5['coins']});});}return _0xf5651f;}function emitPerformance(_0x3bbe2b){const _0x14b3e6=_0x5441c3;_0x3bbe2b[_0x14b3e6(0x249)]!==0x0?(proxyEmit(_0x14b3e6(0x220),_0x3bbe2b),lastPerformanceEmitted=getDate()):proxyEmit(_0x14b3e6(0x220),[]);}function getPerf(_0x2e7055,_0x4c8cf3){const _0x2ded6c=_0x5441c3;let _0x2ceb66=0x0,_0x5ef23d=0x0,_0x253bbc=0x0;_0x2e7055['coins'][_0x2ded6c(0x24e)](_0x44864d=>{const _0xe6d689=_0x2ded6c;_0x2ceb66+=_0x44864d[_0xe6d689(0x2f7)]*_0x44864d[_0xe6d689(0x293)];});_0x4c8cf3&&(_0x2ceb66+=_0x2e7055[_0x2ded6c(0x302)]);if(config[_0x2ded6c(0x2e8)]===_0x2ded6c(0x290)||config[_0x2ded6c(0x2e8)]==='ETH')_0x5ef23d=_0x2ceb66*_0x2e7055[_0x2ded6c(0x217)],_0x253bbc=_0x2ceb66*_0x2e7055[_0x2ded6c(0x2fd)];else{if(config[_0x2ded6c(0x2e8)]===_0x2ded6c(0x2ad)||config['basecoin']===_0x2ded6c(0x261)||config[_0x2ded6c(0x2e8)]===_0x2ded6c(0x1f6))_0x5ef23d=_0x2ceb66*_0x2e7055[_0x2ded6c(0x217)]/_0x2e7055[_0x2ded6c(0x2fd)],_0x253bbc=_0x2ceb66;else config[_0x2ded6c(0x2e8)]==='EUR'&&(_0x5ef23d=_0x2ceb66,_0x253bbc=_0x2ceb66*_0x2e7055[_0x2ded6c(0x2fd)]/_0x2e7055[_0x2ded6c(0x217)]);}return[_0x2ceb66,_0x5ef23d,_0x253bbc];}async function getStartingBalances(_0x42b298,_0x538cc4=!![]){const _0xf2e3e=_0x5441c3;if(_0x42b298[_0xf2e3e(0x249)]!==0x0){const [_0x535b64,_0x24ab09,_0x283eee]=getPerf(_0x42b298[0x0],!![]);let _0x1cb0a3=[];config[_0xf2e3e(0x2f0)][_0xf2e3e(0x24e)](_0x467f82=>{const _0x237341=_0xf2e3e;let _0x590046=0x0,_0x1f73bd;config['liquidity'][_0x237341(0x24e)](_0x520d15=>{const _0x222a0e=_0x237341;let _0x353fac=_0x520d15['changes'][_0x222a0e(0x2e0)](_0x455752=>_0x455752[_0x222a0e(0x271)]==_0x467f82[_0x222a0e(0x271)]);if(_0x353fac){_0x590046+=_0x353fac[_0x222a0e(0x2f7)];if(!_0x1f73bd)_0x1f73bd=_0x353fac[_0x222a0e(0x293)];}}),_0x1cb0a3[_0x237341(0x21d)]({'coin':_0x467f82[_0x237341(0x271)],'number':_0x590046,'initialprice':_0x1f73bd});});const _0x46d476={'basecoin':_0x535b64,'eur':_0x24ab09,'usd':_0x283eee,'coins':_0x1cb0a3};if(_0x538cc4)proxyEmit(_0xf2e3e(0x2df),_0x46d476);return _0x46d476;}}function headlessMode(_0x2be2ef){const _0x5ab7d6=_0x5441c3;let _0x22ba7e=_0x2be2ef[_0x5ab7d6(0x2f0)],_0x1ffca2=_0x2be2ef[_0x5ab7d6(0x278)],_0x293c29=[];for(let _0x44d7fe of _0x22ba7e){if(_0x44d7fe[_0x5ab7d6(0x271)]!=config[_0x5ab7d6(0x2e8)]){if(_0x44d7fe[_0x5ab7d6(0x2e6)]>=_0x1ffca2/0x64){if(_0x44d7fe[_0x5ab7d6(0x27f)])_0x293c29['push'](_0x44d7fe);}else{if(_0x44d7fe[_0x5ab7d6(0x2e6)]<=-_0x1ffca2/0x64){if(_0x44d7fe[_0x5ab7d6(0x27f)])_0x293c29[_0x5ab7d6(0x21d)](_0x44d7fe);}}}}_0x293c29[_0x5ab7d6(0x249)]>0x0&&placeOrder(_0x293c29);}function notifyBalance(_0x5800dc){const _0x2ce5e4=_0x5441c3;let _0x49c047=_0x5800dc['portfolio'],_0x1deb85=_0x5800dc[_0x2ce5e4(0x278)],_0x3453f6=[];for(let _0x58e90b of _0x49c047){if(_0x58e90b[_0x2ce5e4(0x271)]!=config[_0x2ce5e4(0x2e8)]){if(_0x58e90b['delta']>=_0x1deb85/0x64){if(_0x58e90b[_0x2ce5e4(0x27f)])_0x3453f6[_0x2ce5e4(0x21d)](_0x58e90b);}else{if(_0x58e90b[_0x2ce5e4(0x2e6)]<=-_0x1deb85/0x64){if(_0x58e90b['valid'])_0x3453f6[_0x2ce5e4(0x21d)](_0x58e90b);}}}}if(_0x3453f6[_0x2ce5e4(0x249)]>0x0){let _0x524792=_0x3453f6[_0x2ce5e4(0x239)](_0x150372=>_0x150372[_0x2ce5e4(0x271)]);_0x524792['sort']();let _0x3c863e=_0x524792['join'](',\x20');if(lastCoinsToBalance!==_0x3c863e)logHistory(_0x2ce5e4(0x2a0),_0x2ce5e4(0x1f2)+_0x3c863e);lastCoinsToBalance=_0x3c863e;}}function symbolToCoin(_0x16e06e){const _0x3f3ee7=_0x5441c3;let _0x382925;if(_0x16e06e[_0x3f3ee7(0x1e0)]('/'+config[_0x3f3ee7(0x2e8)]))_0x382925=_0x16e06e[_0x3f3ee7(0x24c)]('/'+config[_0x3f3ee7(0x2e8)],'');if(_0x16e06e['includes'](config[_0x3f3ee7(0x2e8)]+'/'))_0x382925=_0x16e06e[_0x3f3ee7(0x24c)](config['basecoin']+'/','');return _0x382925;}async function validateOrders(_0xb9ff24){const _0x2343e0=_0x5441c3;if(_0xb9ff24)validateOrdersState=_0xb9ff24;let _0x2c5fad=[],_0x302133=config[_0x2343e0(0x2d7)]==_0x2343e0(0x2d9)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders[_0x2343e0(0x24e)](_0x1059f3=>{const _0x2c5de4=_0x2343e0;let _0x3e4f0e=![];_0x1059f3[_0x2c5de4(0x26f)]>0x0&&(_0x3e4f0e=!![]),_0x2c5fad[_0x2c5de4(0x21d)](_0x3e4f0e),_0x3e4f0e&&config[_0x2c5de4(0x2d7)]!=_0x2c5de4(0x2d9)&&logHistory('order',_0x2c5de4(0x2b4)+_0x1059f3[_0x2c5de4(0x279)]+'\x20'+_0x1059f3[_0x2c5de4(0x267)]+'\x20#'+formatResult(_0x1059f3[_0x2c5de4(0x26f)],0x8)+'\x20@'+formatResult(_0x1059f3[_0x2c5de4(0x293)],0x8));}),_0x2c5fad[_0x2343e0(0x24e)]((_0x50ff87,_0x3d2ca7)=>{const _0x36c9a4=_0x2343e0;if(_0x50ff87)lastOrders[_0x36c9a4(0x2be)](_0x3d2ca7,0x1);});const _0x249b52=coolingDown?_0x2343e0(0x221):'balancing\x20resumed';if(validateOrdersState==_0x2343e0(0x230))validateOrdersState=_0x2343e0(0x2bc),_0x2c5fad[_0x2343e0(0x1e0)](![])?config[_0x2343e0(0x2d7)]=='market'?logHistory(_0x2343e0(0x276),_0x2343e0(0x2b9)):logHistory(_0x2343e0(0x276),_0x2343e0(0x2e1)):lockOrders=![];else{if(validateOrdersState==_0x2343e0(0x2bc)){if(_0x2c5fad[_0x2343e0(0x1e0)](![])){}else lockOrders=![],config[_0x2343e0(0x2d7)]=='market'?logHistory(_0x2343e0(0x2a0),'Order(s)\x20validated\x20-\x20'+_0x249b52):logHistory('success',_0x2343e0(0x2bd)+_0x249b52);}else{if(validateOrdersState==_0x2343e0(0x2ec))lockOrders=![],_0x2c5fad[_0x2343e0(0x1e0)](![])?config[_0x2343e0(0x2d7)]=='market'?logHistory(_0x2343e0(0x2a0),_0x2343e0(0x23f)+Math[_0x2343e0(0x301)](_0x302133*validateOrderInterval/0xea60)+_0x2343e0(0x200)+_0x249b52):(await cancelOrders(),logHistory(_0x2343e0(0x2a0),_0x2343e0(0x2f2)+Math[_0x2343e0(0x301)](_0x302133*validateOrderInterval/0xea60)+_0x2343e0(0x200)+_0x249b52)):logHistory(_0x2343e0(0x2a0),_0x2343e0(0x2ed)+_0x249b52),currentCoins=await getCoins();else{if(validateOrdersState==_0x2343e0(0x1e6)){lockOrders=![];if(config['ordertype']!=_0x2343e0(0x2d9))logHistory(_0x2343e0(0x2a0),'No\x20more\x20open\x20orders\x20-\x20'+_0x249b52);}}}}}async function cancelOrders(){const _0x141d81=_0x5441c3;lastOrders[_0x141d81(0x24e)](async _0x1bf2c2=>{const _0x1cd393=_0x141d81;try{const _0x2a6de5=await exchange[_0x1cd393(0x30e)](_0x1bf2c2[_0x1cd393(0x289)],_0x1bf2c2[_0x1cd393(0x279)]);}catch(_0x5ae191){if(_0x5ae191[_0x1cd393(0x28c)]()[_0x1cd393(0x1e0)](_0x1cd393(0x2d4))){}else await handleError(_0x5ae191,_0x1cd393(0x2e2));}});}async function resetCoinResults(){const _0x56aff8=_0x5441c3;dbCoinResults['get']('coins')[_0x56aff8(0x269)]()['write']();let _0x409d61=await getStartingBalances(getNormalizedPerformance(),![]);_0x409d61['coins'][_0x56aff8(0x24e)](_0x1e35b4=>{const _0x3b3c59=_0x56aff8;if(_0x1e35b4[_0x3b3c59(0x271)]!=config['basecoin']){let _0x306222={'coin':_0x1e35b4[_0x3b3c59(0x271)],'number':_0x1e35b4[_0x3b3c59(0x2f7)],'breakeven':formatResult(_0x1e35b4[_0x3b3c59(0x26e)],0x8),'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x3b3c59(0x2d6))[_0x3b3c59(0x21d)](_0x306222)[_0x3b3c59(0x291)]();}});}async function updateCoinResults(_0x10227e){const _0x39c6c0=_0x5441c3;let _0x40338b,_0x5d3acb,_0x23952b,_0x186614,_0x3da4ad,_0x3bd551,_0x1dce44=dbCoinResults[_0x39c6c0(0x223)]('coins')['find']({'coin':_0x10227e[_0x39c6c0(0x271)]})[_0x39c6c0(0x259)]();if(!_0x1dce44)return;if(_0x10227e[_0x39c6c0(0x243)]&&_0x10227e[_0x39c6c0(0x243)]['currency']==config['basecoin'])_0x40338b=_0x10227e[_0x39c6c0(0x243)][_0x39c6c0(0x260)];else{if(_0x10227e[_0x39c6c0(0x243)]&&_0x10227e[_0x39c6c0(0x243)][_0x39c6c0(0x2e5)]==_0x39c6c0(0x2ee))_0x40338b=_0x10227e[_0x39c6c0(0x243)][_0x39c6c0(0x260)]*global[_0x39c6c0(0x2aa)][_0x39c6c0(0x2ee)+config[_0x39c6c0(0x2e8)]];else _0x40338b=defaultFee*_0x10227e[_0x39c6c0(0x26f)];}_0x10227e[_0x39c6c0(0x25c)]&&(_0x3bd551={'coin':_0x10227e[_0x39c6c0(0x271)],'symbol':_0x10227e[_0x39c6c0(0x279)],'filled':_0x10227e[_0x39c6c0(0x26f)]*_0x10227e['price'],'amount':_0x10227e[_0x39c6c0(0x26f)]*_0x10227e['price'],'side':_0x10227e[_0x39c6c0(0x267)]=='sell'?_0x39c6c0(0x1ea):_0x39c6c0(0x2b7),'price':0x1/_0x10227e[_0x39c6c0(0x293)]},_0x10227e={..._0x10227e,..._0x3bd551});_0x10227e[_0x39c6c0(0x267)]=='buy'?_0x23952b=(_0x1dce44['breakeven']*_0x1dce44[_0x39c6c0(0x2f7)]+_0x10227e[_0x39c6c0(0x293)]*_0x10227e[_0x39c6c0(0x26f)])/(_0x1dce44['number']+_0x10227e['filled']):_0x23952b=(_0x1dce44['breakeven']*_0x1dce44['number']-_0x10227e[_0x39c6c0(0x293)]*_0x10227e['filled'])/(_0x1dce44[_0x39c6c0(0x2f7)]-_0x10227e[_0x39c6c0(0x26f)]);_0x10227e[_0x39c6c0(0x267)]=='buy'?_0x186614=_0x1dce44['realized']:_0x186614=_0x1dce44[_0x39c6c0(0x2bf)]+(_0x10227e[_0x39c6c0(0x293)]-_0x1dce44['breakeven'])*_0x10227e[_0x39c6c0(0x26f)];const _0x5d702c=currentCoins['find'](_0x2ff6c2=>_0x2ff6c2[_0x39c6c0(0x271)]==_0x10227e['coin']);_0x5d3acb=_0x5d702c[_0x39c6c0(0x2f7)],_0x3da4ad=(_0x10227e[_0x39c6c0(0x293)]-_0x23952b)*_0x5d3acb;let _0x228b46={'coin':_0x10227e[_0x39c6c0(0x271)],'number':_0x5d3acb,'breakeven':formatResult(_0x23952b,0x8),'realized':formatResult(_0x186614,0x8),'unrealized':formatResult(_0x3da4ad,0x8),'fees':formatResult(_0x1dce44[_0x39c6c0(0x21a)]+_0x40338b,0x8),'sells':_0x10227e[_0x39c6c0(0x267)]==_0x39c6c0(0x2b7)?_0x1dce44[_0x39c6c0(0x2f3)]+0x1:_0x1dce44['sells'],'buys':_0x10227e['side']==_0x39c6c0(0x1ea)?_0x1dce44[_0x39c6c0(0x2e4)]+0x1:_0x1dce44[_0x39c6c0(0x2e4)]};dbCoinResults[_0x39c6c0(0x223)](_0x39c6c0(0x2d6))[_0x39c6c0(0x2e0)]({'coin':_0x10227e[_0x39c6c0(0x271)]})[_0x39c6c0(0x255)](_0x228b46)['write']();if(_0x10227e[_0x39c6c0(0x243)]&&_0x10227e[_0x39c6c0(0x243)][_0x39c6c0(0x2e5)]=='BNB'){const _0x518be0=currentCoins['find'](_0x14aa07=>_0x14aa07['coin']==_0x39c6c0(0x2ee));if(_0x518be0){_0x5d3acb=_0x518be0[_0x39c6c0(0x2f7)];let _0x3a8a2a=dbCoinResults[_0x39c6c0(0x223)](_0x39c6c0(0x2d6))['find']({'coin':_0x39c6c0(0x2ee)})[_0x39c6c0(0x259)]();_0x228b46={..._0x3a8a2a,'number':_0x5d3acb},dbCoinResults[_0x39c6c0(0x223)](_0x39c6c0(0x2d6))[_0x39c6c0(0x2e0)]({'coin':_0x39c6c0(0x2ee)})[_0x39c6c0(0x255)](_0x228b46)[_0x39c6c0(0x291)]();}}}async function placeOrder(_0x2b75e3){const _0x5b1681=_0x5441c3,_0x5a0457=config[_0x5b1681(0x2d7)]==_0x5b1681(0x2d9)?_0x5b1681(0x2d9):_0x5b1681(0x202);if(!lockOrders&&!coolingDown){lastOrders=[];for(const _0x5d2b50 of _0x2b75e3){let _0x476d5f,_0x29f8b3,_0x20d57e,_0x2733b6,_0x2ee984,_0x165161=_0x5d2b50[_0x5b1681(0x279)];try{const _0x2f09d5=await exchange[_0x5b1681(0x210)]([_0x165161]),_0x5e31c5=_0x2f09d5[_0x165161];_0x476d5f=_0x5d2b50[_0x5b1681(0x25c)]?0x1/_0x5d2b50[_0x5b1681(0x288)]:_0x5d2b50[_0x5b1681(0x288)],_0x29f8b3=_0x5e31c5[_0x5b1681(0x2a7)],_0x20d57e=_0x5e31c5[_0x5b1681(0x2c2)];_0x5d2b50[_0x5b1681(0x25c)]?(_0x2733b6=_0x5d2b50['side']==_0x5b1681(0x1ea)?_0x5b1681(0x2b7):_0x5b1681(0x1ea),_0x2ee984=Math[_0x5b1681(0x30f)](_0x5d2b50[_0x5b1681(0x2ea)])/_0x476d5f):(_0x2733b6=_0x5d2b50[_0x5b1681(0x267)],_0x2ee984=Math[_0x5b1681(0x30f)](_0x5d2b50[_0x5b1681(0x2ea)]));_0x5a0457==_0x5b1681(0x202)&&(config[_0x5b1681(0x2d7)]=='limit-high'&&(_0x476d5f=_0x2733b6==_0x5b1681(0x1ea)?_0x29f8b3:_0x20d57e),config[_0x5b1681(0x2d7)]==_0x5b1681(0x2d1)&&(_0x476d5f=_0x2733b6=='buy'?_0x20d57e:_0x29f8b3));_0x2ee984=formatResult(_0x2ee984,0x8),_0x476d5f=formatResult(_0x476d5f,0x8);const _0x406fc3=await exchange['createOrder'](_0x165161,_0x5a0457,_0x2733b6,_0x2ee984,_0x476d5f);lastOrders[_0x5b1681(0x21d)]({'orderId':_0x406fc3['id'],'symbol':_0x165161,'coin':_0x5d2b50[_0x5b1681(0x271)],'side':_0x2733b6,'reverse':_0x5d2b50['reverse'],'amount':_0x406fc3[_0x5b1681(0x285)],'filled':0x0,'price':_0x406fc3[_0x5b1681(0x293)],'fee':_0x406fc3[_0x5b1681(0x243)]});const _0xbf4540=_0x2733b6==_0x5b1681(0x2b7)?config[_0x5b1681(0x208)]?String[_0x5b1681(0x256)]('0x'+config[_0x5b1681(0x208)])+'\x20':'':config[_0x5b1681(0x21e)]?String['fromCodePoint']('0x'+config[_0x5b1681(0x21e)])+'\x20':'',_0x2dd9dc=_0x5a0457==_0x5b1681(0x2d9)?_0x5b1681(0x264):config[_0x5b1681(0x2d7)]==_0x5b1681(0x1d6)?_0x5b1681(0x246):_0x5b1681(0x2cb);if(_0x5a0457==_0x5b1681(0x2d9))logHistory(_0x5b1681(0x248),''+_0xbf4540+_0x2dd9dc+'\x20order:\x20'+_0x165161+'\x20'+_0x2733b6+'\x20#'+formatResult(_0x406fc3['filled'],0x8)+'\x20@'+formatResult(_0x406fc3[_0x5b1681(0x293)],0x8));else logHistory('order',''+_0xbf4540+_0x2dd9dc+_0x5b1681(0x241)+_0x165161+'\x20'+_0x2733b6+'\x20#'+formatResult(_0x406fc3['amount'],0x8)+'\x20@'+formatResult(_0x406fc3[_0x5b1681(0x293)],0x8));let _0x185a21=currentCoins[_0x5b1681(0x2e0)](_0x59ed9e=>_0x59ed9e[_0x5b1681(0x271)]==_0x5d2b50[_0x5b1681(0x271)]);_0x185a21['order']=!![];if(config[_0x5b1681(0x280)]!=0x0){let _0x594c9f=null;if(cooldownTracker['length']==config['cooldown']-0x1)_0x594c9f=cooldownTracker['shift']();const _0x27bcb2=getTimeStamp();cooldownTracker[_0x5b1681(0x21d)](_0x27bcb2);if(_0x594c9f){const _0x284410=fns['differenceInSeconds'](new Date(_0x27bcb2),new Date(_0x594c9f));if(_0x284410<cooldownInterval){logHistory(_0x5b1681(0x276),'Executed\x20'+config[_0x5b1681(0x280)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x5b1681(0x27c)+cooldownPeriod/(0xe10*0x3e8)+_0x5b1681(0x27d)),coolingDown=!![];break;}}}}catch(_0xff914b){if(_0xff914b[_0x5b1681(0x28c)]()[_0x5b1681(0x1e0)](_0x5b1681(0x306)))logHistory(_0x5b1681(0x276),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x165161);else{if(_0xff914b['toString']()[_0x5b1681(0x1e0)](_0x5b1681(0x2b3)))logHistory(_0x5b1681(0x276),_0x5b1681(0x23a)+_0x165161);else await handleError(_0xff914b,_0x5b1681(0x2cc),_0x165161);}}}if(lastOrders['length']!=0x0){lockOrders=!![],validateOrdersState=_0x5b1681(0x230);const _0x4034fa=config[_0x5b1681(0x2d7)]==_0x5b1681(0x2d9)?validateOrderTimeout*0x3c*0x3e8:config[_0x5b1681(0x274)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x712c1e=_0x5b1681;validateOrders(_0x712c1e(0x2ec));},_0x4034fa);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5b1681(0x2a0),_0x5b1681(0x282)));}else{if(coolingDown)!config[_0x5b1681(0x218)]&&logHistory(_0x5b1681(0x276),_0x5b1681(0x2d2));else lockOrders&&(!config[_0x5b1681(0x218)]&&(config[_0x5b1681(0x2d7)]=='market'?logHistory(_0x5b1681(0x276),_0x5b1681(0x22b)):logHistory(_0x5b1681(0x276),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function restoreOrders(){const _0x5a0f63=_0x5441c3;let _0x312987;lockOrders=!![],validateOrdersState=_0x5a0f63(0x2bc),currentCoins['forEach'](_0x17c087=>{const _0x213c11=_0x5a0f63,_0x308371=allOpenOrders[_0x213c11(0x2e0)](_0x39ab5e=>_0x39ab5e[_0x213c11(0x279)]==_0x17c087[_0x213c11(0x279)]);_0x308371&&(lastOrders[_0x213c11(0x21d)]({'orderId':_0x308371['id'],'symbol':_0x17c087['symbol'],'coin':_0x17c087[_0x213c11(0x271)],'side':_0x308371[_0x213c11(0x267)],'reverse':_0x17c087[_0x213c11(0x25c)],'amount':_0x308371[_0x213c11(0x285)],'filled':0x0,'price':_0x308371['price'],'fee':_0x308371[_0x213c11(0x243)]}),_0x17c087[_0x213c11(0x248)]=!![],_0x312987=_0x308371[_0x213c11(0x22a)]);});const _0xa5348b=new Date()[_0x5a0f63(0x24d)](),_0x3678d9=config[_0x5a0f63(0x2d7)]==_0x5a0f63(0x2d9)?validateOrderTimeout*0x3c*0x3e8:config[_0x5a0f63(0x274)]*0x3c*0x3e8;if(_0x312987+_0x3678d9>_0xa5348b){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x312987+_0x3678d9-_0xa5348b);}else validateOrders(_0x5a0f63(0x2ec));}function sendPortfolioTelegram(){const _0xc8b80e=_0x5441c3,_0x37991b=[_0xc8b80e(0x214),_0xc8b80e(0x2ad),_0xc8b80e(0x261),_0xc8b80e(0x1f6)],_0x43447f=_0x37991b[_0xc8b80e(0x1e0)](config[_0xc8b80e(0x2e8)])?0x2:0x8;let _0x1742c2=_0xc8b80e(0x26b);_0x1742c2+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x1742c2+=_0xc8b80e(0x1dd),currentCoins[_0xc8b80e(0x24e)](_0x3eab3d=>{const _0x4934e3=_0xc8b80e;_0x1742c2+=_0x3eab3d[_0x4934e3(0x271)][_0x4934e3(0x30a)](0x7)+'|\x20'+formatPad(_0x3eab3d['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x3eab3d[_0x4934e3(0x1f4)],0x2,0x6)+'|\x20'+formatPad(_0x3eab3d[_0x4934e3(0x2e6)]*0x64,0x2,0x6)+'\x0a';}),_0x1742c2+=_0xc8b80e(0x2a3),process[_0xc8b80e(0x215)]({'telegrammsg':_0x1742c2},_0x593368=>{});}function formatPad(_0x361ef6,_0x4a3a5a,_0x37f245){const _0x1d31cd=_0x5441c3,_0x1cb928=formatResultString(_0x361ef6,_0x4a3a5a);return _0x1cb928?_0x1cb928[_0x1d31cd(0x1f0)](_0x37f245):''[_0x1d31cd(0x1f0)](_0x37f245);}function logHistory(_0x50a078,_0x225194,_0x1c2df7=''){const _0x1dbcab=_0x5441c3;let _0x14470a={'time':getTimeStamp(),'type':_0x50a078,'event':_0x225194};dbLogs[_0x1dbcab(0x223)](_0x1dbcab(0x2c3))[_0x1dbcab(0x21d)](_0x14470a)[_0x1dbcab(0x291)]();if(_0x1c2df7=='')_0x1c2df7=_0x225194;proxyEmit(_0x1dbcab(0x1f9),{'log':_0x14470a,'summary':_0x1c2df7}),process[_0x1dbcab(0x215)]({'telegram':{..._0x14470a,'botname':config[_0x1dbcab(0x1e5)],'showname':config[_0x1dbcab(0x2cd)]}},_0x55cd39=>{}),logging(''+_0x14470a[_0x1dbcab(0x1f9)]);}function emitHistory(_0x4d7123={}){const _0x424016=_0x5441c3;Object[_0x424016(0x295)](_0x4d7123)[_0x424016(0x249)]==0x0&&(_0x4d7123={'type':[_0x424016(0x248),_0x424016(0x1f9)],'event':'','page':0x1});if(_0x4d7123['type'][_0x424016(0x1e0)]('event'))_0x4d7123[_0x424016(0x250)][_0x424016(0x2be)](_0x4d7123[_0x424016(0x250)][_0x424016(0x284)](_0x424016(0x1f9)),0x1,'error',_0x424016(0x2a0));if(dbLogs[_0x424016(0x2fb)](_0x424016(0x2c3))[_0x424016(0x259)]()){let _0x263b52=dbLogs[_0x424016(0x223)]('logs')[_0x424016(0x25a)](_0x55afba=>{const _0x2c64d5=_0x424016;if(_0x4d7123['type'][_0x2c64d5(0x249)]==0x0)return![];else return _0x4d7123[_0x2c64d5(0x250)][_0x2c64d5(0x1e0)](_0x55afba['type']);})[_0x424016(0x25a)](_0x29075b=>{const _0x4f3d6b=_0x424016;if(_0x4d7123[_0x4f3d6b(0x1f9)]=='')return!![];else return _0x29075b[_0x4f3d6b(0x1f9)]['toLowerCase']()['includes'](_0x4d7123[_0x4f3d6b(0x1f9)][_0x4f3d6b(0x1f5)]());})[_0x424016(0x253)](_0x424016(0x1d8)),_0x262138=_0x263b52[_0x424016(0x259)]()['length'];_0x263b52=_0x263b52['reverse']()[_0x424016(0x2c6)]((_0x4d7123['page']-0x1)*logPageSize,_0x4d7123['page']*logPageSize-0x1)['reverse']()[_0x424016(0x259)](),proxyEmit(_0x424016(0x281),{'logs':_0x263b52,'total':_0x262138});}else proxyEmit(_0x424016(0x281),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5e93a1){const _0x569faf=_0x5441c3;if(dbLogs['has'](_0x569faf(0x2c3))['value']()){const _0x2887e6=dbLogs[_0x569faf(0x223)]('logs')[_0x569faf(0x253)](_0x569faf(0x1d8))[_0x569faf(0x25a)](_0x43ccff=>{const _0x58be9e=_0x569faf;return _0x43ccff[_0x58be9e(0x250)]=='order';})[_0x569faf(0x259)]();dbLogs['get'](_0x569faf(0x2c3))[_0x569faf(0x269)]()[_0x569faf(0x291)](),dbLogs['get'](_0x569faf(0x2c3))['assign'](_0x2887e6)[_0x569faf(0x291)](),emitHistory(_0x5e93a1);}}async function pauseBot(_0x104405=''){const _0x309cd5=_0x5441c3,_0x26313a=new Date()[_0x309cd5(0x24d)]();if(!lastBotPause)lastBotPause=new Date()[_0x309cd5(0x24d)](),consecutivePauses=0x1;else{if(_0x26313a-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x309cd5(0x215)]({'stop':_0x309cd5(0x233)},_0x386de9=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x309cd5(0x24d)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x104405)_0x104405+=_0x309cd5(0x29c);logHistory(_0x309cd5(0x276),_0x104405+_0x309cd5(0x1ef)+pauseBotInterval/0xea60+_0x309cd5(0x263)),await sleep(pauseBotInterval),botPaused=![],reset();}}function _0x4d2a(_0x4afa25,_0x27cd2a){const _0x1ff436=_0x2919();return _0x4d2a=function(_0x3209b2,_0x10132a){_0x3209b2=_0x3209b2-0x1d6;let _0x2919fc=_0x1ff436[_0x3209b2];return _0x2919fc;},_0x4d2a(_0x4afa25,_0x27cd2a);}async function killBot(){const _0x1b6af0=_0x5441c3;process['send']({'stop':_0x1b6af0(0x2ac)},_0xb07bb0=>{}),await sleep(0x7d0);}async function handleError(_0x56bd09,_0x23dfbb,_0x2ad22b=''){const _0x211571=_0x5441c3;if(_0x56bd09[_0x211571(0x28c)]()['includes'](_0x211571(0x1fc)))await pauseBot(_0x211571(0x21c));else{if(_0x56bd09[_0x211571(0x28c)]()[_0x211571(0x1e0)](_0x211571(0x240)))await pauseBot('Binance\x20not\x20available\x20(2)');else{if(_0x56bd09[_0x211571(0x28c)]()[_0x211571(0x1e0)](_0x211571(0x207)))await pauseBot('Binance\x20not\x20responding');else{if(_0x56bd09['toString']()[_0x211571(0x1e0)](_0x211571(0x2b0)))logHistory(_0x211571(0x276),_0x23dfbb+_0x211571(0x272)),logHistory(_0x211571(0x276),_0x211571(0x25e)),await killBot();else{if(_0x56bd09['toString']()[_0x211571(0x1e0)](_0x211571(0x216)))logHistory(_0x211571(0x276),_0x23dfbb+_0x211571(0x252)),logHistory(_0x211571(0x276),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x56bd09[_0x211571(0x28c)]()[_0x211571(0x1e0)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x211571(0x276),_0x23dfbb+_0x211571(0x2cf)),logHistory(_0x211571(0x276),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x56bd09[_0x211571(0x28c)]()['includes'](_0x211571(0x299)))logHistory(_0x211571(0x276),_0x23dfbb+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x211571(0x276),_0x211571(0x25e)),await killBot();else{if(_0x56bd09[_0x211571(0x28c)]()[_0x211571(0x1e0)](_0x211571(0x292)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x211571(0x215)]({'stop':_0x211571(0x233)},_0x12743f=>{});else _0x56bd09[_0x211571(0x28c)]()['includes'](_0x211571(0x22f))?logHistory('error',_0x23dfbb+_0x211571(0x251)+_0x2ad22b):(logging(_0x23dfbb+'\x20|\x20Error\x20details:\x20',_0x56bd09),await pauseBot(_0x211571(0x234)));}}}}}}}}function formatResult(_0x2c7f52,_0x4ced91){const _0x1d714a=_0x5441c3;return _0x2c7f52?parseFloat(_0x2c7f52[_0x1d714a(0x27b)](_0x4ced91)):null;}function formatResultString(_0x1f4987,_0x5348d2){const _0x369070=_0x5441c3;if(!_0x1f4987)return null;let _0x118d47;if(!(''+_0x1f4987)[_0x369070(0x1e0)]('e'))_0x118d47=+(Math[_0x369070(0x301)](_0x1f4987+'e+'+_0x5348d2)+'e-'+_0x5348d2);else{let _0x5d39ed=(''+_0x1f4987)[_0x369070(0x224)]('e'),_0x1ca409='';+_0x5d39ed[0x1]+_0x5348d2>0x0&&(_0x1ca409='+'),_0x118d47=+(Math[_0x369070(0x301)](+_0x5d39ed[0x0]+'e'+_0x1ca409+(+_0x5d39ed[0x1]+_0x5348d2))+'e-'+_0x5348d2);}return Number(_0x118d47)[_0x369070(0x27b)](_0x5348d2);}function logging(_0x33161b,_0x33e208=''){const _0x4441a9=_0x5441c3;if(config[_0x4441a9(0x2cd)])console[_0x4441a9(0x2e7)](getTimeStamp()+':\x20'+config[_0x4441a9(0x1e5)]+_0x4441a9(0x211)+_0x33161b,_0x33e208);else console[_0x4441a9(0x2e7)](getTimeStamp()+_0x4441a9(0x254)+botID+_0x4441a9(0x211)+_0x33161b,_0x33e208);}function getServerTime(){const _0x547d2d=_0x5441c3,_0x4ce1f8=new Date();return _0x4ce1f8['getFullYear']()+'/'+(_0x4ce1f8[_0x547d2d(0x237)]()+0x1)['toString']()[_0x547d2d(0x1f0)](0x2,'0')+'/'+_0x4ce1f8['getDate']()[_0x547d2d(0x28c)]()[_0x547d2d(0x1f0)](0x2,'0')+'\x20'+_0x4ce1f8[_0x547d2d(0x298)]()[_0x547d2d(0x28c)]()[_0x547d2d(0x1f0)](0x2,'0')+':'+_0x4ce1f8['getMinutes']()[_0x547d2d(0x28c)]()[_0x547d2d(0x1f0)](0x2,'0')+':'+_0x4ce1f8[_0x547d2d(0x2b6)]()[_0x547d2d(0x28c)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x334198=_0x5441c3,_0x2c73fd=shiftedTime();return _0x2c73fd[_0x334198(0x1f1)]()+'/'+(_0x2c73fd[_0x334198(0x237)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x2c73fd['getDate']()[_0x334198(0x28c)]()[_0x334198(0x1f0)](0x2,'0')+'\x20'+_0x2c73fd[_0x334198(0x298)]()[_0x334198(0x28c)]()[_0x334198(0x1f0)](0x2,'0')+':'+_0x2c73fd[_0x334198(0x2db)]()['toString']()[_0x334198(0x1f0)](0x2,'0')+':'+_0x2c73fd[_0x334198(0x2b6)]()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x54dd33=_0x5441c3,_0x36fa20=shiftedTime();return _0x36fa20[_0x54dd33(0x1f1)]()+'/'+(_0x36fa20[_0x54dd33(0x237)]()+0x1)[_0x54dd33(0x28c)]()[_0x54dd33(0x1f0)](0x2,'0')+'/'+_0x36fa20['getDate']()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x36d32d=_0x5441c3,_0x4a57ea=shiftedTime();return _0x4a57ea['getHours']()[_0x36d32d(0x28c)]()['padStart'](0x2,'0');}function sleep(_0x349cd7){return new Promise(_0x48442=>setTimeout(_0x48442,_0x349cd7));}function shiftedTime(){const _0x348284=_0x5441c3,_0x1746cd=new Date();let _0x4d5436=_0x1746cd;if(config&&config[_0x348284(0x24b)]!==0x0)_0x4d5436=fns['add'](_0x1746cd,{'hours':config[_0x348284(0x24b)]});return _0x4d5436;}