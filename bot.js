const _0x5ccaf5=_0x4ddd;(function(_0x3201c8,_0x226dab){const _0x21f261=_0x4ddd,_0x474443=_0x3201c8();while(!![]){try{const _0x222354=-parseInt(_0x21f261(0x1a4))/0x1+parseInt(_0x21f261(0x11f))/0x2*(parseInt(_0x21f261(0x218))/0x3)+parseInt(_0x21f261(0x238))/0x4+parseInt(_0x21f261(0x175))/0x5*(-parseInt(_0x21f261(0x192))/0x6)+-parseInt(_0x21f261(0x22f))/0x7+-parseInt(_0x21f261(0x101))/0x8+parseInt(_0x21f261(0x114))/0x9;if(_0x222354===_0x226dab)break;else _0x474443['push'](_0x474443['shift']());}catch(_0x383bca){_0x474443['push'](_0x474443['shift']());}}}(_0xe9a9,0x18bb2));const _0x300f9c=function(){let _0x4bf550=!![];return function(_0x13885c,_0xa87f04){const _0x1b188d=_0x4bf550?function(){const _0x2a3de3=_0x4ddd;if(_0xa87f04){const _0x1206c4=_0xa87f04[_0x2a3de3(0x132)](_0x13885c,arguments);return _0xa87f04=null,_0x1206c4;}}:function(){};return _0x4bf550=![],_0x1b188d;};}(),_0xf01293=_0x300f9c(this,function(){const _0x50ceed=_0x4ddd;return _0xf01293[_0x50ceed(0x21a)]()[_0x50ceed(0xf3)](_0x50ceed(0x14f))['toString']()[_0x50ceed(0x1ed)](_0xf01293)[_0x50ceed(0xf3)](_0x50ceed(0x14f));});_0xf01293();'use strict';const ccxt=require(_0x5ccaf5(0x1b1))[_0x5ccaf5(0x13c)],low=require(_0x5ccaf5(0x18f)),FileSync=require(_0x5ccaf5(0x18b)),fs=require('fs'),fns=require(_0x5ccaf5(0x1b5)),Crypt=require('hybrid-crypto-js')[_0x5ccaf5(0x1e9)],util=require(_0x5ccaf5(0x207)),argv=require(_0x5ccaf5(0x1c7))(process[_0x5ccaf5(0x16c)]['slice'](0x2))['argv'],path=require('path');let exchange;global[_0x5ccaf5(0xee)]={},global[_0x5ccaf5(0x113)]={};const exceptions={'binance':[_0x5ccaf5(0x137),_0x5ccaf5(0x229),_0x5ccaf5(0x130),_0x5ccaf5(0x1e7),'YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});function _0x4ddd(_0x22e5fc,_0x53e379){const _0x2e05cf=_0xe9a9();return _0x4ddd=function(_0xf01293,_0x300f9c){_0xf01293=_0xf01293-0xcc;let _0xe9a97a=_0x2e05cf[_0xf01293];return _0xe9a97a;},_0x4ddd(_0x22e5fc,_0x53e379);}let lockOrders=ORDERS[_0x5ccaf5(0xe1)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x5ccaf5(0x120))[_0x5ccaf5(0x13f)],botID=process['argv'][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x5ccaf5(0x121)](botID)&&(console[_0x5ccaf5(0x185)]('Error:\x20Invalid\x20argument\x20'+botID+_0x5ccaf5(0x1ae)),killBot());const userID=process[_0x5ccaf5(0x16c)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x5ccaf5(0x164),logspath=userID?_0x5ccaf5(0x108)+userID+'/':_0x5ccaf5(0x108),loggerfile=fs[_0x5ccaf5(0x141)](logspath+_0x5ccaf5(0x20c),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x5ccaf5(0x1bb)](configpath);!fs[_0x5ccaf5(0x21b)](logspath)&&fs[_0x5ccaf5(0x1bb)](logspath);const configfile=configpath+_0x5ccaf5(0x10e)+botID+_0x5ccaf5(0x1a5),logfile=configpath+_0x5ccaf5(0x10e)+botID+_0x5ccaf5(0x110),performancefile=configpath+_0x5ccaf5(0x10e)+botID+'-performance.json',coinresultsfile=configpath+_0x5ccaf5(0x10e)+botID+_0x5ccaf5(0x100),settingsfile=configpath+_0x5ccaf5(0x186),securefile=configpath+_0x5ccaf5(0x14e),configbackuppath=configpath+_0x5ccaf5(0x23b),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5ccaf5(0x103)]({'logs':[],'version':serverversion})[_0x5ccaf5(0x180)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5ccaf5(0x103)]({'data':[],'version':serverversion})[_0x5ccaf5(0x180)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x5ccaf5(0x180)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5ccaf5(0x103)]({'coins':[],'version':serverversion})[_0x5ccaf5(0x180)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5ccaf5(0x1e5),'rsaStandard':_0x5ccaf5(0x1ba)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x53ebcb=>{console['log'](_0x53ebcb);},'simple':_0x31bc5a=>{const _0x204afc=_0x5ccaf5;console[_0x204afc(0x185)](_0x31bc5a),loggerfile[_0x204afc(0x180)](util[_0x204afc(0x223)](_0x31bc5a)+'\x0a');},'full':async(_0x69808d,_0x3fcb8c='')=>{const _0x5104ad=_0x5ccaf5;let _0x417b41;if(config[_0x5104ad(0x138)])_0x417b41=getTimeStamp()+':\x20'+config[_0x5104ad(0x106)]+_0x5104ad(0xfd)+_0x69808d;else _0x417b41=getTimeStamp()+_0x5104ad(0x149)+botID+_0x5104ad(0xfd)+_0x69808d;console['log'](_0x417b41),loggerfile['write'](util[_0x5104ad(0x223)](_0x417b41)+'\x0a'),_0x3fcb8c&&(console['log'](_0x3fcb8c),loggerfile[_0x5104ad(0x180)](util[_0x5104ad(0x223)](_0x3fcb8c)+'\x0a'));},'debug':async(_0x3b588b,_0x4fad18='')=>{const _0x5befb8=_0x5ccaf5;let _0x35f0cd;if(config[_0x5befb8(0x138)])_0x35f0cd=getTimeStamp()+':\x20'+config[_0x5befb8(0x106)]+_0x5befb8(0xe6)+_0x3b588b;else _0x35f0cd=getTimeStamp()+':\x20Bot\x20'+botID+_0x5befb8(0xe6)+_0x3b588b;if(debugging)console[_0x5befb8(0x185)](_0x35f0cd);loggerfile[_0x5befb8(0x180)](util[_0x5befb8(0x223)](_0x35f0cd)+'\x0a');if(_0x4fad18){if(debugging)console['log'](_0x4fad18);loggerfile[_0x5befb8(0x180)](util[_0x5befb8(0x223)](_0x4fad18)+'\x0a');}}};process['on'](_0x5ccaf5(0x1a9),function(_0x29d532){const _0x2a169e=_0x5ccaf5;logger[_0x2a169e(0x217)](_0x29d532);});settings[_0x5ccaf5(0x219)]!=config['timeshift']&&updateTimeshift(settings[_0x5ccaf5(0x219)]);settings[_0x5ccaf5(0x187)]!=config[_0x5ccaf5(0x187)]&&updateOnepagemode(settings[_0x5ccaf5(0x187)]);process[_0x5ccaf5(0x173)]({'started':_0x5ccaf5(0x159)},_0x490267=>{}),initializeProcessListeners();function proxyEmit(_0x4e556d,_0x3f43fb=null){const _0x3d0adf=_0x5ccaf5;process[_0x3d0adf(0x173)]({'function':_0x4e556d,'args':_0x3f43fb},_0x393ce5=>{});}function initializeProcessListeners(){process['on']('message',_0x3fa08d=>{const _0x2369c0=_0x4ddd;switch(Object['keys'](_0x3fa08d)[0x0]){case _0x2369c0(0x219):_0x3fa08d[_0x2369c0(0x219)]!=undefined&&(settings[_0x2369c0(0x219)]=_0x3fa08d[_0x2369c0(0x219)],updateTimeshift(settings['timeshift']));break;case _0x2369c0(0x187):_0x3fa08d[_0x2369c0(0x187)]!=undefined&&(settings[_0x2369c0(0x187)]=_0x3fa08d['onepagemode'],updateOnepagemode(settings[_0x2369c0(0x187)]));break;case'bots':_0x3fa08d[_0x2369c0(0x17e)]!=undefined&&(bots=JSON[_0x2369c0(0x18c)](_0x3fa08d['bots']),proxyEmit(_0x2369c0(0x17e),bots));break;case _0x2369c0(0x111):switch(_0x3fa08d['function']){case _0x2369c0(0x168):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x2369c0(0x1da):emitHistory(_0x3fa08d[_0x2369c0(0x124)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x3fa08d[_0x2369c0(0x124)]);break;case'getPortfolio':getPortfolio(_0x3fa08d[_0x2369c0(0x124)]);break;case'storeConfiguration':storeConfiguration(_0x3fa08d[_0x2369c0(0x124)]);break;case'storeHeadless':storeHeadless(_0x3fa08d['args']);break;case _0x2369c0(0x22c):storeFiat(_0x3fa08d['args']);break;case _0x2369c0(0x202):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x3fa08d[_0x2369c0(0x124)]);break;case _0x2369c0(0x123):cancelLoading();break;case'showConfig':showConfig();break;case _0x2369c0(0x18d):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x200267=null,_0x44ece7=![]){const _0x3d4529=_0x5ccaf5;logger[_0x3d4529(0x21f)](_0x3d4529(0xf6)+(_0x200267&&_0x200267[_0x3d4529(0x119)]>0x0?_0x3d4529(0x102)+_0x200267['join'](','):_0x3d4529(0x1cc))+_0x3d4529(0x1d1)+(_0x44ece7?'exchange\x20reloaded':_0x3d4529(0x11b)));if(pidBalances)clearTimeout(pidBalances);if(!_0x44ece7)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x3d4529(0xef)]!=_0x3d4529(0x214)){if(_0x44ece7){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x259c20){handleErrorNoStop(_0x259c20,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x200267);const _0x1f9461=await getCoins();[currentCoins,currentCoinsAll]=_0x1f9461,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x3d4529(0x119)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x57128c=_0x5ccaf5;exchangeStopped=!![],await exchange[_0x57128c(0x158)]();}async function reloadExchange(){const _0x1b8eec=_0x5ccaf5;logger[_0x1b8eec(0x21f)](_0x1b8eec(0x153));while(lockOrders!=ORDERS[_0x1b8eec(0xe1)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x1b8eec(0x21f)](_0x1b8eec(0x19e)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x17a9de=config[_0x5ccaf5(0x129)],_0x42b005=config['apiKey'],_0x4b9a85=config[_0x5ccaf5(0x170)],_0x444e75=config[_0x5ccaf5(0x1f8)]){const _0x412ef1=_0x5ccaf5;exchange&&await stopExchange();!supportedExchanges()[_0x412ef1(0x181)](_0x17a9de)&&(logHistory(_0x412ef1(0x1ff),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x17a9de+'\x20exchange'),killBot());const _0x43c549=ccxt[_0x17a9de['toLowerCase']()];exchange=new _0x43c549({'apiKey':_0x42b005,'secret':_0x4b9a85,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x444e75)exchange[_0x412ef1(0x118)]=_0x444e75;}function setStableCoins(){const _0x5180e0=_0x5ccaf5;let _0x1ea272=config[_0x5180e0(0x1f0)]==_0x5180e0(0x22a)?_0x5180e0(0x22a):_0x5180e0(0x150),_0x113bf1=!allSymbols[_0x5180e0(0x181)](_0x1ea272+_0x5180e0(0x1db))?_0x5180e0(0x183):'USD',_0x322948=!allSymbols[_0x5180e0(0x181)](_0x1ea272+_0x5180e0(0x1f2))?_0x113bf1:_0x5180e0(0x227);stablecoins={'eur':{'coin':''+_0x1ea272+_0x322948,'symbol':_0x1ea272+'/'+_0x322948},'usd':{'coin':''+_0x1ea272+_0x113bf1,'symbol':_0x1ea272+'/'+_0x113bf1}};}async function initwsCcxt(_0x3c4f9f){const _0xf5d710=_0x5ccaf5;_0x3c4f9f==null&&(_0x3c4f9f=[],config[_0xf5d710(0x10f)][_0xf5d710(0xd6)](_0x49eecc=>{const _0x2e67f6=_0xf5d710;if(!_0x49eecc[_0x2e67f6(0xe8)]&&_0x49eecc[_0x2e67f6(0x21e)]!=config[_0x2e67f6(0x1f0)])_0x3c4f9f[_0x2e67f6(0x18e)](_0x49eecc[_0x2e67f6(0x16b)]);}));if(!_0x3c4f9f[_0xf5d710(0x181)](stablecoins[_0xf5d710(0xce)][_0xf5d710(0x16b)]))_0x3c4f9f[_0xf5d710(0x18e)](stablecoins[_0xf5d710(0xce)]['symbol']);if(!_0x3c4f9f['includes'](stablecoins[_0xf5d710(0x21c)]['symbol']))_0x3c4f9f[_0xf5d710(0x18e)](stablecoins[_0xf5d710(0x21c)][_0xf5d710(0x16b)]);if(config[_0xf5d710(0x129)][_0xf5d710(0x234)]('Binance')){if(!_0x3c4f9f[_0xf5d710(0x181)](_0xf5d710(0x23e)+config[_0xf5d710(0x1f0)]))_0x3c4f9f[_0xf5d710(0x18e)](_0xf5d710(0x23e)+config['basecoin']);}loadCoins(_0x3c4f9f);const _0x415741=async _0xcf22fe=>{const _0x5619e1=_0xf5d710,_0x421a6b=await exchange['fetchTicker'](_0xcf22fe);global['ticker'][noslash(_0x421a6b['symbol'])]=_0x421a6b[_0x5619e1(0x1fa)];while(!![]){if(!botPaused)try{const _0x233c69=await exchange[_0x5619e1(0xf0)](_0xcf22fe);global[_0x5619e1(0xee)][noslash(_0x233c69[0x0][_0x5619e1(0x16b)])]=_0x233c69[0x0][_0x5619e1(0x1f9)],await sleep(0x3e8);}catch(_0x17546a){if(!exchangeStopped)await handleError(_0x17546a,_0x5619e1(0xf0),_0xcf22fe);}else await sleep(0x3e8);}},_0x30199e=async _0x56770c=>{const _0x4e5cca=_0xf5d710;while(!![]){if(!botPaused)try{const _0x4d4714=await exchange[_0x4e5cca(0x10a)](_0x56770c);global[_0x4e5cca(0x113)][_0x4d4714['symbol']]=_0x4d4714[_0x4e5cca(0xdf)],await sleep(0x3c*0x3e8);}catch(_0xff4b40){if(!exchangeStopped)await handleError(_0xff4b40,_0x4e5cca(0xff),_0x56770c);}else await sleep(0x3e8);}},_0xbd8be5=async()=>{const _0x4dea8c=_0xf5d710;while(!![]){if(!botPaused)try{const _0x77c750=await exchange[_0x4dea8c(0xd4)]();_0x77c750[_0x4dea8c(0xd6)](_0x3d8e43=>{updateNumberCoinsCcxt(_0x3d8e43);});}catch(_0x42b5e1){if(!exchangeStopped)await handleError(_0x42b5e1,_0x4dea8c(0xd4));}else await sleep(0x3e8);}};_0x3c4f9f[_0xf5d710(0xd6)](async _0x3d6338=>{_0x415741(_0x3d6338),_0x30199e(_0x3d6338);}),!wsEventsSet&&(wsEventsSet=!![],_0xbd8be5(),watchTransactions());}async function watchTransactions(){const _0x361a3d=_0x5ccaf5;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xbe4363=await getCoins(),[_0x256918,_0x1704fc]=_0xbe4363;let _0x1eef0e=[];currentCoins[_0x361a3d(0xd6)](_0x42bdb3=>{const _0x11ef2b=_0x361a3d,_0x3e40e7=_0x256918[_0x11ef2b(0x1a3)](_0x444fbc=>_0x444fbc['coin']==_0x42bdb3['coin']);_0x3e40e7&&(_0x42bdb3[_0x11ef2b(0x1ee)]!=_0x3e40e7['number']&&_0x1eef0e[_0x11ef2b(0x18e)]({'coin':_0x42bdb3[_0x11ef2b(0x21e)],'symbol':_0x42bdb3[_0x11ef2b(0x16b)],'number':Number(formatResult(_0x3e40e7[_0x11ef2b(0x1ee)]-_0x42bdb3['number'],0x8))}));});if(_0x1eef0e[_0x361a3d(0x119)]==0x1&&!blockTransactionDetection){logger[_0x361a3d(0x21f)](_0x361a3d(0x10d)+lastFees[_0x361a3d(0x1d6)]+_0x361a3d(0x23a)+lastFees[_0x361a3d(0x11d)]);if(!lastFees[_0x361a3d(0x1d6)]||_0x1eef0e[0x0][_0x361a3d(0x21e)]!=lastFees[_0x361a3d(0x1d6)]||_0x1eef0e[0x0][_0x361a3d(0x1ee)]>lastFees['highest']){let _0x131958;if(_0x1eef0e[0x0][_0x361a3d(0x21e)]!=config[_0x361a3d(0x1f0)]){let _0xbb2b30=global[_0x361a3d(0xee)][noslash(_0x1eef0e[0x0]['symbol'])];_0x131958=_0x1eef0e[0x0][_0x361a3d(0x1f6)]?0x1/_0xbb2b30:_0xbb2b30;}else _0x131958=0x1;_0x1eef0e[0x0][_0x361a3d(0x1f9)]=_0x131958,delete _0x1eef0e[0x0][_0x361a3d(0x16b)];let _0x12a38e=[],_0x410909=[...config[_0x361a3d(0x165)]]||[],_0x59219f=config[_0x361a3d(0x165)];_0x410909[_0x361a3d(0x20f)]((_0x201809,_0x147940)=>_0x201809['date']>_0x147940[_0x361a3d(0x179)]?-0x1:_0x147940[_0x361a3d(0x179)]>_0x201809[_0x361a3d(0x179)]?0x1:0x0);const _0x839135=getDate();if(_0x410909[0x0]){const _0x1d64e4=fns[_0x361a3d(0x18c)](_0x410909[0x0][_0x361a3d(0x179)],_0x361a3d(0x20a),new Date()),_0x1e4916=fns['parse'](_0x839135,_0x361a3d(0x20a),new Date());if(fns[_0x361a3d(0x15d)](_0x1d64e4,_0x1e4916)){_0x12a38e=_0x410909[0x0][_0x361a3d(0x235)];const _0x326757=_0x12a38e['find'](_0x3a946c=>_0x3a946c[_0x361a3d(0x21e)]==_0x1eef0e[0x0][_0x361a3d(0x21e)]);_0x326757?(_0x326757[_0x361a3d(0x1ee)]+=_0x1eef0e[0x0][_0x361a3d(0x1ee)],_0x326757[_0x361a3d(0x1ee)]==0x0&&(_0x12a38e=_0x12a38e[_0x361a3d(0x160)](_0x296597=>{const _0x556566=_0x361a3d;return _0x296597[_0x556566(0x21e)]!=_0x1eef0e[0x0][_0x556566(0x21e)];}))):_0x12a38e[_0x361a3d(0x18e)](_0x1eef0e[0x0]);const _0x2f2e95=_0x59219f[_0x361a3d(0x1a3)](_0x5ab4fb=>_0x5ab4fb['date']==_0x839135);_0x2f2e95[_0x361a3d(0x235)]=_0x12a38e;}else _0x59219f[_0x361a3d(0x18e)]({'date':_0x839135,'changes':[_0x1eef0e[0x0]]});}const _0x444af0=_0x59219f[_0x361a3d(0x1a3)](_0xe2ac1a=>_0xe2ac1a['date']==_0x839135);if(_0x444af0){let _0x5ddbee=!![];_0x444af0['changes'][_0x361a3d(0xd6)](_0x598701=>{const _0xca16c8=_0x361a3d;if(_0x598701[_0xca16c8(0x1ee)]!=0x0)_0x5ddbee=![];}),_0x5ddbee&&(_0x59219f=_0x59219f['filter'](_0x17c829=>{return _0x17c829['date']!=_0x839135;}));}let _0x4f2ed8=dbConfig[_0x361a3d(0x213)](_0x361a3d(0xf4))[_0x361a3d(0x1a3)]({'botID':botID})[_0x361a3d(0x161)]();_0x4f2ed8&&(dbConfig[_0x361a3d(0x213)]('bot')[_0x361a3d(0x1a3)]({'botID':botID})[_0x361a3d(0x1d7)]({'liquidity':_0x59219f})[_0x361a3d(0x180)](),config['liquidity']=_0x59219f),logHistory(_0x361a3d(0x184),'Portfolio\x20change\x20detected:\x20'+Math[_0x361a3d(0x1e2)](_0x1eef0e[0x0]['number'])+'\x20'+_0x1eef0e[0x0][_0x361a3d(0x21e)]+'\x20'+(_0x1eef0e[0x0][_0x361a3d(0x1ee)]>0x0?_0x361a3d(0x1b0):_0x361a3d(0x1e1))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());}else logger[_0x361a3d(0x21f)](_0x361a3d(0x1e3)+Math[_0x361a3d(0x1e2)](_0x1eef0e[0x0]['number'])+'\x20'+_0x1eef0e[0x0][_0x361a3d(0x21e)]+'\x20'+(_0x1eef0e[0x0][_0x361a3d(0x1ee)]>0x0?_0x361a3d(0x1b0):_0x361a3d(0x1e1)));transactionDetected=!![],currentCoins=_0x256918,currentCoinsAll=_0x1704fc;}await sleep(watchTransactionsInterval);}catch(_0x23acd5){if(!exchangeStopped)await handleError(_0x23acd5,_0x361a3d(0x163));}else await sleep(0x3e8);}}async function loadSymbols(_0x4ed110=config[_0x5ccaf5(0x129)],_0x256fd8=![]){const _0x4374eb=_0x5ccaf5;if(allSymbols&&!_0x256fd8)return;try{markets=await exchange[_0x4374eb(0x105)](),allSymbols=exchange[_0x4374eb(0x193)][_0x4374eb(0x160)](_0x5a82a7=>{const _0x17aab0=_0x4374eb;let _0x48d48e=![];const _0x39a61c=exceptions[_0x4ed110[_0x17aab0(0x14d)]()]||[];return _0x39a61c[_0x17aab0(0xd6)](_0x34a4fd=>{const _0xfb3117=_0x17aab0;if(_0x5a82a7[_0xfb3117(0x181)](_0x34a4fd))_0x48d48e=!![];}),!_0x48d48e;});}catch(_0x3c10d2){throw _0x3c10d2;}}async function initclient(){const _0x45ca83=_0x5ccaf5;emitLoadingProgress(),proxyEmit(_0x45ca83(0xe4),emittedConfiguration()),proxyEmit(_0x45ca83(0x152),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x45ca83(0x1b9),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1f715e=getNormalizedPerformance();emitPerformance(_0x1f715e),getStartingBalances(_0x1f715e);}async function toggleBotMode(){const _0x4e1db0=_0x5ccaf5;let _0x35ca4f=dbConfig['get'](_0x4e1db0(0xf4))[_0x4e1db0(0x1a3)]({'botID':botID})[_0x4e1db0(0x161)]();if(_0x35ca4f){const _0x4914b1=!_0x35ca4f[_0x4e1db0(0x226)];dbConfig[_0x4e1db0(0x213)]('bot')[_0x4e1db0(0x1a3)]({'botID':botID})[_0x4e1db0(0x1d7)]({'headless':_0x4914b1})[_0x4e1db0(0x180)](),config[_0x4e1db0(0x226)]=_0x4914b1,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x380d77=_0x5ccaf5;process[_0x380d77(0x173)]({'updatebotmanager':!![]},_0x1be806=>{});}async function loadCoins(_0x1e2d4c){const _0xebf01d=_0x5ccaf5;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x5b722b,_0x568198=0x0,_0x406afb=0x0;_0x1e2d4c[_0xebf01d(0xd6)](_0x4d7f8c=>{const _0x4cf510=_0xebf01d;loading[_0x4cf510(0x19f)][_0x4cf510(0x18e)](_0x4d7f8c);}),loadingCanceled=![];let _0xb459bc=![];while(_0x5b722b!=_0x1e2d4c['length']){_0x5b722b=0x0,_0x1e2d4c[_0xebf01d(0xd6)](_0x2d939f=>{const _0x386739=_0xebf01d;if(global['ticker'][noslash(_0x2d939f)]){loading[_0x386739(0x19f)]=loading[_0x386739(0x19f)][_0x386739(0x160)](_0x15fd6e=>_0x15fd6e!=_0x2d939f);if(!watchedSymbols[_0x386739(0x181)](_0x2d939f))watchedSymbols[_0x386739(0x18e)](_0x2d939f);_0x5b722b++;}}),loading[_0xebf01d(0x15e)]=Math[_0xebf01d(0x176)](_0x5b722b/_0x1e2d4c[_0xebf01d(0x119)]*0x64);loading['progress']!=0x64&&(_0x406afb>0x1e*0x5&&(loading[_0xebf01d(0xfa)]=!![],emitLoadingProgress()),_0x406afb>0x78*0x5&&!_0xb459bc&&(loading[_0xebf01d(0x13a)]=!![],emitLoadingProgress(),_0xb459bc=!![],logHistory(_0xebf01d(0x1ff),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0xebf01d(0x19f)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0xebf01d(0x1ff),_0xebf01d(0x146)+loadCoinsRetryInterval/0xea60+_0xebf01d(0x13d)),pidCoinReloading=setTimeout(()=>{const _0x30f0c2=_0xebf01d;process[_0x30f0c2(0x173)]({'stop':'restart'},_0x535adc=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0xebf01d(0x13a)]=!![],emitLoadingProgress();break;}else _0x5b722b!=_0x568198&&(_0x568198=_0x5b722b,emitLoadingProgress()),_0x406afb++,await sleep(0xc8);}_0x5b722b==_0x1e2d4c['length']&&(coinsLoaded=!![],process[_0xebf01d(0x173)]({'status':_0xebf01d(0xd3),'live':_0xebf01d(0x159)},_0xf33c97=>{}),_0xb459bc&&logHistory(_0xebf01d(0x184),_0xebf01d(0x225)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x5d6ec5=_0x5ccaf5;proxyEmit(_0x5d6ec5(0xe4),{...emittedConfiguration(),'configstate':_0x5d6ec5(0x172)});}function emitLoadingProgress(){const _0x42186f=_0x5ccaf5;proxyEmit(_0x42186f(0x127),loading);}async function getFiat(){const _0x1f307a=_0x5ccaf5;let _0x4077bd=global[_0x1f307a(0xee)][stablecoins[_0x1f307a(0xce)][_0x1f307a(0x21e)]],_0x5d4fe2=global['ticker'][stablecoins[_0x1f307a(0x21c)][_0x1f307a(0x21e)]];return{'eur':Number(_0x4077bd),'usd':Number(_0x5d4fe2)};}function capitalize(_0x53a429){const _0x5f08d5=_0x5ccaf5;return _0x53a429['substring'](0x0,0x1)[_0x5f08d5(0x20b)]()+_0x53a429[_0x5f08d5(0x15b)](0x1);}function supportedExchanges(){const _0x5cc0f9=_0x5ccaf5,_0x2d6ac4=['ws',_0x5cc0f9(0xff),_0x5cc0f9(0x10a),_0x5cc0f9(0xf0),_0x5cc0f9(0xd4),_0x5cc0f9(0x18a),_0x5cc0f9(0x1e4),'fetchOpenOrders',_0x5cc0f9(0xda),'fetchBalance'];let _0x1f0fcc=[],_0x3008c6=[],_0x39c28d=ccxt[_0x5cc0f9(0x152)];_0x39c28d[_0x5cc0f9(0xd6)](_0x2856e7=>{try{const _0x250ed8=new ccxt[_0x2856e7]();if(_0x250ed8['has']['ws'])_0x3008c6['push'](_0x250ed8);}catch(_0x3d2268){}}),_0x3008c6['forEach'](_0x12eb09=>{const _0x34be1b=_0x5cc0f9;let _0x2c93cb=0x0;_0x2d6ac4['forEach'](_0x4d439c=>{const _0x26cdbc=_0x4ddd;_0x4d439c in _0x12eb09[_0x26cdbc(0x12f)]&&_0x12eb09['has'][_0x4d439c]&&_0x2c93cb++;}),_0x2c93cb==_0x2d6ac4[_0x34be1b(0x119)]&&_0x1f0fcc[_0x34be1b(0x18e)](capitalize(_0x12eb09['id']));});let _0x5b93f0=[];return _0x39c28d['forEach'](_0x13b752=>{const _0x1a4975=_0x5cc0f9;_0x13b752=capitalize(_0x13b752);if(!_0x1f0fcc[_0x1a4975(0x181)](_0x13b752))_0x5b93f0[_0x1a4975(0x18e)](_0x13b752);}),_0x1f0fcc;}function setStartDatePerformance(){const _0x60988e=_0x5ccaf5;if(config&&config[_0x60988e(0x165)][0x0][_0x60988e(0x235)]['length']!=0x0){const _0x5d659e=config['liquidity'][0x0]['changes'];dbPerformance['get'](_0x60988e(0x135))[_0x60988e(0x1a3)]({'date':config[_0x60988e(0x232)]})[_0x60988e(0x1d7)]({'coins':_0x5d659e})['write']();}}async function recreateCoinResults(){const _0x4a3d8b=_0x5ccaf5;let _0x2356b2,_0x3f01bb=[];try{const _0x3f8471=fns['format'](fns[_0x4a3d8b(0x233)](config[_0x4a3d8b(0x232)][_0x4a3d8b(0x133)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x43ac44 of currentCoins){if(_0x43ac44['coin']!=config['basecoin']){let _0x2f8cf8=0x0,_0xe3bba2,_0x535440;_0x2356b2=await getAllEventOrders(_0x43ac44['symbol']);if(_0x2356b2[_0x4a3d8b(0x119)]>0x0)_0x2356b2[_0x4a3d8b(0xd6)](_0x2af886=>{const _0x13e6b1=_0x4a3d8b,_0x5d3eea=_0x43ac44[_0x13e6b1(0x16b)][_0x13e6b1(0x181)](config[_0x13e6b1(0x1f0)]+'/');_0x3f01bb[_0x13e6b1(0x18e)]({'datetime':_0x2af886[_0x13e6b1(0x16a)],'coin':_0x43ac44['coin'],'symbol':_0x43ac44[_0x13e6b1(0x16b)],'side':_0x2af886[_0x13e6b1(0x144)],'reverse':_0x5d3eea,'amount':formatResult(_0x2af886[_0x13e6b1(0x22b)],0x8),'filled':formatResult(_0x2af886[_0x13e6b1(0x22b)],0x8),'price':formatResult(_0x2af886[_0x13e6b1(0x1f9)],0x8)}),_0x2f8cf8=_0x2af886[_0x13e6b1(0x144)]=='buy'?_0x2f8cf8+_0x2af886[_0x13e6b1(0x22b)]:_0x2f8cf8-_0x2af886['filled'];if(!_0x535440)_0x535440=_0x2af886['price'];});_0xe3bba2=_0x43ac44[_0x4a3d8b(0x1ee)]-_0x2f8cf8;let _0x15ce55;config[_0x4a3d8b(0x165)][_0x4a3d8b(0xd6)](_0x3a0c4f=>{const _0xcc00d8=_0x4a3d8b;!_0x15ce55&&(_0x15ce55=_0x3a0c4f[_0xcc00d8(0x235)]['find'](_0x51fb7f=>_0x51fb7f[_0xcc00d8(0x21e)]==_0x43ac44[_0xcc00d8(0x21e)]),_0x15ce55&&(_0xe3bba2=_0x15ce55[_0xcc00d8(0x1ee)],_0x535440=_0x15ce55['price']));});let _0x3e1e30=dbCoinResults[_0x4a3d8b(0x213)](_0x4a3d8b(0x1dc))[_0x4a3d8b(0x1a3)]({'coin':_0x43ac44[_0x4a3d8b(0x21e)]})[_0x4a3d8b(0x161)]();_0x3e1e30={'coin':_0x43ac44[_0x4a3d8b(0x21e)],'number':_0xe3bba2,'breakeven':_0x535440,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')[_0x4a3d8b(0x1a3)]({'coin':_0x43ac44[_0x4a3d8b(0x21e)]})[_0x4a3d8b(0x1d7)](_0x3e1e30)[_0x4a3d8b(0x180)]();}}_0x3f01bb[_0x4a3d8b(0x20f)]((_0x4d6ab7,_0x59eb6b)=>_0x4d6ab7[_0x4a3d8b(0x16a)]>_0x59eb6b[_0x4a3d8b(0x16a)]?0x1:_0x59eb6b[_0x4a3d8b(0x16a)]>_0x4d6ab7[_0x4a3d8b(0x16a)]?-0x1:0x0);let _0x19d5e1=0x0;for(let _0x370c13 of _0x3f01bb){await updateCoinResults(_0x370c13,!![]);}}catch(_0x315c9d){await handleError(_0x315c9d,_0x4a3d8b(0xdc));}}async function getAllEventOrders(_0x2350c0){const _0x15c0a5=_0x5ccaf5;let _0x1edfc4=[],_0x3e14e1=dbLogs[_0x15c0a5(0x213)](_0x15c0a5(0x1b8))[_0x15c0a5(0x160)](_0x2b82df=>{const _0x30dcf5=_0x15c0a5,_0x20f7d2=_0x2b82df[_0x30dcf5(0x15f)][_0x30dcf5(0x14d)]();return _0x20f7d2[_0x30dcf5(0x181)](_0x2350c0['toLowerCase']())&&(_0x20f7d2[_0x30dcf5(0x181)](_0x30dcf5(0x1d3))&&_0x20f7d2[_0x30dcf5(0x181)](_0x30dcf5(0x16d))||_0x20f7d2['includes'](_0x30dcf5(0x22b))&&_0x20f7d2[_0x30dcf5(0x181)]('order'));})[_0x15c0a5(0x1fe)](_0x15c0a5(0x14c))[_0x15c0a5(0x161)]();return _0x3e14e1[_0x15c0a5(0xd6)](_0x301d38=>{const _0x4ecb36=_0x15c0a5,_0x41ad3b=_0x301d38[_0x4ecb36(0x15f)][_0x4ecb36(0x181)](_0x4ecb36(0x1f5))?_0x4ecb36(0x1f5):_0x4ecb36(0x240),_0x1757f6=/#([0-9]|\.)+\s/i,_0x445ff7=Number(_0x1757f6[_0x4ecb36(0x178)](_0x301d38[_0x4ecb36(0x15f)])[0x0][_0x4ecb36(0x1d9)](0x1)),_0x2cb62c=/@([0-9]|\.)+$/i,_0x58a0cf=Number(_0x2cb62c[_0x4ecb36(0x178)](_0x301d38[_0x4ecb36(0x15f)])[0x0][_0x4ecb36(0x1d9)](0x1));_0x1edfc4[_0x4ecb36(0x18e)]({'datetime':_0x301d38[_0x4ecb36(0x14c)],'coin':symbolToCoin(_0x2350c0),'symbol':_0x2350c0,'side':_0x41ad3b,'amount':_0x445ff7,'filled':_0x445ff7,'price':_0x58a0cf});}),_0x1edfc4;}async function getAllOrders(_0x3f1d8c,_0x569be1){const _0x54d4ab=_0x5ccaf5;let _0x381b46=[];while(_0x569be1<exchange[_0x54d4ab(0xd5)]()){const _0x384711=0x1f4,_0xcc265d=await exchange[_0x54d4ab(0xda)](_0x3f1d8c,_0x569be1,_0x384711);if(_0xcc265d[_0x54d4ab(0x119)])_0x569be1=_0xcc265d[_0xcc265d[_0x54d4ab(0x119)]-0x1][_0x54d4ab(0x1ec)]+0x1,_0x381b46=_0x381b46[_0x54d4ab(0x1ce)](_0xcc265d);else break;}return _0x381b46;}async function validate24hChanges(){const _0x15ad4e=_0x5ccaf5;for(const _0x3a203a of currentCoins){if(_0x3a203a[_0x15ad4e(0x21e)]!=config[_0x15ad4e(0x1f0)]){let _0x248b2d;_0x3a203a[_0x15ad4e(0x1f6)]?_0x248b2d=formatResult((0x1/(global['change'][noslash(_0x3a203a[_0x15ad4e(0x16b)])]/0x64+0x1)-0x1)*0x64,0x3):_0x248b2d=global[_0x15ad4e(0x113)][noslash(_0x3a203a[_0x15ad4e(0x16b)])],_0x248b2d<config[_0x15ad4e(0x1be)]&&(logHistory('error',_0x3a203a[_0x15ad4e(0x21e)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x248b2d+'%'),logHistory(_0x15ad4e(0x1ff),_0x15ad4e(0x190)),logHistory(_0x15ad4e(0x1ff),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x587546,_0x50f75c){const _0x5457e3=_0x5ccaf5;if(!_0x587546)return!![];const _0x588ff7=_0x50f75c['split']('.'),_0x2a0e10=_0x587546[_0x5457e3(0x17d)]('.');for(var _0x486c56=0x0;_0x486c56<_0x2a0e10[_0x5457e3(0x119)];_0x486c56++){const _0x253bcc=~~_0x2a0e10[_0x486c56],_0x52c07c=~~_0x588ff7[_0x486c56];if(_0x253bcc<_0x52c07c)return!![];if(_0x253bcc>_0x52c07c)return![];}return![];}async function oneTimeMigration(){const _0x38b088=_0x5ccaf5;let _0x27c1b8=dbLogs[_0x38b088(0x213)](_0x38b088(0x13f))['value']();if(isOlderVersion(_0x27c1b8,_0x38b088(0x126))){let _0x47fcbe=[];const _0x2fa13a=dbLogs[_0x38b088(0x213)](_0x38b088(0x1b8))['value']();_0x2fa13a['forEach'](_0x51b725=>{const _0x5ba0c2=_0x38b088;_0x47fcbe[_0x5ba0c2(0x18e)]({'time':_0x51b725[_0x5ba0c2(0x14c)],'type':_0x51b725['type'],'event':_0x51b725[_0x5ba0c2(0x15f)]});}),dbLogs[_0x38b088(0x213)]('logs')[_0x38b088(0x1d7)](_0x47fcbe)[_0x38b088(0x180)]();}let _0x434e9d=dbConfig[_0x38b088(0x213)]('version')[_0x38b088(0x161)]();if(isOlderVersion(_0x434e9d,_0x38b088(0x126))){let _0x1d4273=dbConfig['get'](_0x38b088(0xf4))[_0x38b088(0x1a3)]({'botID':botID})[_0x38b088(0x161)]();if(_0x1d4273){let _0x104b80=[];_0x1d4273[_0x38b088(0x10f)][_0x38b088(0xd6)](_0x430aa6=>{const _0x322f5d=_0x38b088;_0x104b80['push']({'coin':_0x430aa6[_0x322f5d(0x21e)],'number':_0x430aa6['startnumber'],'price':_0x430aa6[_0x322f5d(0x157)]}),delete _0x430aa6[_0x322f5d(0x22d)],delete _0x430aa6[_0x322f5d(0x157)];});if(_0x104b80['length']!==0x0)fs['writeFile'](configbackuppath+(_0x38b088(0x1bf)+botID+'.json'),JSON[_0x38b088(0x1f3)](_0x104b80,null,0x4),function(_0x207a51){if(_0x207a51){}});const _0x1a3b70=(_0x2c68b5,_0x1aec23)=>{const _0x44c47e=_0x38b088;let _0x4789ec=[];_0x1aec23[_0x44c47e(0xd6)](_0x34406f=>{const _0x5035ec=_0x44c47e,_0xd10bf3=_0x2c68b5['find'](_0x52339a=>_0x52339a['coin']==_0x34406f[_0x5035ec(0x21e)]);if(!_0xd10bf3)_0x4789ec[_0x5035ec(0x18e)](_0x34406f);});let _0x2cc206=[];return _0x2c68b5[_0x44c47e(0xd6)](_0x413b46=>{const _0x51813b=_0x44c47e,_0x13d24e=_0x1aec23[_0x51813b(0x1a3)](_0x5463cd=>_0x5463cd['coin']==_0x413b46[_0x51813b(0x21e)]);if(!_0x13d24e||_0x13d24e[_0x51813b(0x1ee)]==0x0&&_0x413b46[_0x51813b(0x1ee)]!=0x0)_0x2cc206['push'](_0x413b46);}),{'missingDay1':_0x4789ec,'notInDay2':_0x2cc206};},_0x50e65c=dbPerformance['get'](_0x38b088(0x135))[_0x38b088(0x145)]()[_0x38b088(0x161)]();if(_0x50e65c['length']>0x1){const {missingDay1:_0x1bb268,notInDay2:_0x3101a2}=_0x1a3b70(_0x104b80,_0x50e65c[0x1][_0x38b088(0x1dc)]);_0x104b80=[..._0x104b80,..._0x1bb268],_0x3101a2[_0x38b088(0xd6)](_0x2a8ddf=>{const _0xeaad61=_0x38b088;let _0x292da1=_0x104b80[_0xeaad61(0x1f7)](_0x4f8b9f=>_0x4f8b9f[_0xeaad61(0x21e)]==_0x2a8ddf['coin']);_0x292da1!=-0x1&&_0x104b80[_0xeaad61(0x1df)](_0x292da1,0x1);});}_0x104b80[_0x38b088(0x20f)]((_0x5e5d06,_0xf13001)=>_0x5e5d06[_0x38b088(0x21e)]>_0xf13001[_0x38b088(0x21e)]?0x1:_0xf13001[_0x38b088(0x21e)]>_0x5e5d06[_0x38b088(0x21e)]?-0x1:0x0);let _0x4f0622=[{'date':_0x1d4273[_0x38b088(0x232)],'changes':_0x104b80}];_0x50e65c[_0x38b088(0x119)]>0x2&&_0x50e65c[_0x38b088(0xd6)]((_0x43b251,_0x542704)=>{const _0x183e32=_0x38b088;if(_0x542704>0x0&&_0x542704<_0x50e65c[_0x183e32(0x119)]-0x1){const {missingDay1:_0x14d283,notInDay2:_0x545f24}=_0x1a3b70(_0x50e65c[_0x542704][_0x183e32(0x1dc)],_0x50e65c[_0x542704+0x1][_0x183e32(0x1dc)]);_0x104b80=[],(_0x14d283[_0x183e32(0x119)]!=0x0||_0x545f24[_0x183e32(0x119)]!=0x0)&&(_0x14d283[_0x183e32(0x119)]!=0x0&&_0x104b80[_0x183e32(0x18e)](..._0x14d283),_0x545f24[_0x183e32(0x119)]!=0x0&&(_0x545f24[_0x183e32(0xd6)](_0x4d3d2a=>{const _0x593362=_0x183e32;_0x4d3d2a[_0x593362(0x1ee)]=-_0x4d3d2a[_0x593362(0x1ee)];}),_0x104b80[_0x183e32(0x18e)](..._0x545f24)),_0x104b80['sort']((_0x10197f,_0x2c17e7)=>_0x10197f['coin']>_0x2c17e7['coin']?0x1:_0x2c17e7[_0x183e32(0x21e)]>_0x10197f[_0x183e32(0x21e)]?-0x1:0x0),_0x4f0622[_0x183e32(0x18e)]({'date':_0x50e65c[_0x542704+0x1][_0x183e32(0x179)],'changes':_0x104b80}));}}),dbConfig[_0x38b088(0x213)](_0x38b088(0xf4))['find']({'botID':botID})[_0x38b088(0x1d7)]({..._0x1d4273,'liquidity':_0x4f0622})[_0x38b088(0x180)]();}}if(isOlderVersion(_0x434e9d,'2.6.0')){let _0x451b84=dbConfig[_0x38b088(0x213)](_0x38b088(0xf4))[_0x38b088(0x1a3)]({'botID':botID})['value']();if(_0x451b84){const _0x34bcbf=_0x451b84[_0x38b088(0x129)],_0x140ffb=_0x34bcbf?capitalize(_0x34bcbf):_0x38b088(0x182);dbConfig[_0x38b088(0x213)](_0x38b088(0xf4))['find']({'botID':botID})[_0x38b088(0x1d7)]({'exchange':_0x140ffb})[_0x38b088(0x180)]();}}let _0x1f7272=dbPerformance[_0x38b088(0x213)](_0x38b088(0x13f))[_0x38b088(0x161)]();isOlderVersion(_0x1f7272,_0x38b088(0x126))&&setStartDatePerformance();let _0x380dbb=dbCoinResults['get'](_0x38b088(0x13f))['value']();if(isOlderVersion(_0x380dbb,_0x38b088(0x12b))){let _0x1f5f89=dbCoinResults[_0x38b088(0x213)]('coins')[_0x38b088(0x161)]();if(_0x1f5f89[_0x38b088(0x119)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x536b66=_0x5ccaf5;dbConfig['set'](_0x536b66(0x13f),serverversion)[_0x536b66(0x180)](),dbPerformance[_0x536b66(0x209)](_0x536b66(0x13f),serverversion)[_0x536b66(0x180)](),dbLogs[_0x536b66(0x209)](_0x536b66(0x13f),serverversion)[_0x536b66(0x180)](),dbCoinResults['set'](_0x536b66(0x13f),serverversion)['write']();}function getConfiguration(_0x210b57){const _0x1e53ce=_0x5ccaf5;let _0x2a147d=dbConfig[_0x1e53ce(0x213)](_0x1e53ce(0xf4))[_0x1e53ce(0x1a3)]({'botID':_0x210b57})[_0x1e53ce(0x161)]();if(_0x2a147d){let _0x23f7f7=![];typeof _0x2a147d[_0x1e53ce(0x10c)]==_0x1e53ce(0xf8)&&(_0x2a147d={..._0x2a147d,'threshold':Number(_0x2a147d['threshold'])},_0x23f7f7=!![]),_0x2a147d['change24h']==null&&(_0x2a147d={..._0x2a147d,'change24h':-0x14},_0x23f7f7=!![]),!_0x2a147d[_0x1e53ce(0x231)]&&(_0x2a147d={..._0x2a147d,'fiat':_0x1e53ce(0x220)},_0x23f7f7=!![]),!_0x2a147d[_0x1e53ce(0x187)]&&(_0x2a147d={..._0x2a147d,'onepagemode':settings['onepagemode']},_0x23f7f7=!![]),_0x23f7f7&&(_0x2a147d={'botID':_0x2a147d['botID'],'exchange':_0x2a147d[_0x1e53ce(0x129)],'apiKey':_0x2a147d[_0x1e53ce(0xef)],'apiSecret':_0x2a147d[_0x1e53ce(0x170)],'apiPassword':_0x2a147d['apiPassword'],'basecoin':_0x2a147d[_0x1e53ce(0x1f0)],'botname':_0x2a147d[_0x1e53ce(0x106)],'showname':_0x2a147d['showname'],'threshold':_0x2a147d[_0x1e53ce(0x10c)],'ordertype':_0x2a147d[_0x1e53ce(0x19c)],'timeout':_0x2a147d[_0x1e53ce(0xfa)],'fiat':_0x2a147d[_0x1e53ce(0x231)],'startdate':_0x2a147d[_0x1e53ce(0x232)],'recreate':_0x2a147d['recreate'],'timeshift':_0x2a147d['timeshift'],'onepagemode':_0x2a147d[_0x1e53ce(0x187)],'headless':_0x2a147d[_0x1e53ce(0x226)],'cooldown':_0x2a147d[_0x1e53ce(0xd9)],'change24h':_0x2a147d[_0x1e53ce(0x1be)],'emojibuy':_0x2a147d[_0x1e53ce(0x1c8)],'emojisell':_0x2a147d[_0x1e53ce(0x11e)],'portfolio':_0x2a147d[_0x1e53ce(0x10f)],'liquidity':_0x2a147d[_0x1e53ce(0x165)],'openOrders':_0x2a147d[_0x1e53ce(0x148)]},dbConfig['get'](_0x1e53ce(0xf4))['remove']()['write'](),dbConfig[_0x1e53ce(0x213)](_0x1e53ce(0xf4))[_0x1e53ce(0x18e)](_0x2a147d)[_0x1e53ce(0x180)]());}else _0x2a147d={'botID':_0x210b57,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x1e53ce(0x17b)+_0x210b57,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x1e53ce(0x220),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1e53ce(0x219)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2a147d;}function emittedConfiguration(){const _0x31ac36=_0x5ccaf5;let _0x54879d;if(config[_0x31ac36(0xef)]=='')_0x54879d={...config,'configstate':_0x31ac36(0x19a)};else config['apiKey']==_0x31ac36(0x214)?_0x54879d={...config,'configstate':_0x31ac36(0xfb)}:(_0x54879d={...config,'apiKey':'************','apiSecret':_0x31ac36(0x1cd)},config[_0x31ac36(0x1f8)]&&(_0x54879d[_0x31ac36(0x1f8)]=_0x31ac36(0x1cd)));return _0x54879d;}function getSettings(){const _0x292204=_0x5ccaf5;return dbSettings[_0x292204(0x213)](_0x292204(0xe0))[_0x292204(0x161)]();}function getSecure(){const _0x3cd668=_0x5ccaf5;return dbSecure[_0x3cd668(0x213)](_0x3cd668(0x201))[_0x3cd668(0x161)]()||{};}function updateTimeshift(_0x233d53){const _0x290a2b=_0x5ccaf5;let _0x7c0b51=dbConfig[_0x290a2b(0x213)](_0x290a2b(0xf4))[_0x290a2b(0x1a3)]({'botID':botID})[_0x290a2b(0x161)]();_0x7c0b51&&dbConfig[_0x290a2b(0x213)](_0x290a2b(0xf4))[_0x290a2b(0x1a3)]({'botID':botID})[_0x290a2b(0x1d7)]({'timeshift':_0x233d53})[_0x290a2b(0x180)](),config[_0x290a2b(0x219)]=_0x233d53,proxyEmit(_0x290a2b(0xe4),emittedConfiguration());}function updateOnepagemode(_0x2c3bcc){const _0x5a028c=_0x5ccaf5;let _0x1fac45=dbConfig['get'](_0x5a028c(0xf4))['find']({'botID':botID})[_0x5a028c(0x161)]();_0x1fac45&&dbConfig['get'](_0x5a028c(0xf4))[_0x5a028c(0x1a3)]({'botID':botID})['assign']({'onepagemode':_0x2c3bcc})[_0x5a028c(0x180)](),config[_0x5a028c(0x187)]=_0x2c3bcc,proxyEmit(_0x5a028c(0xe4),emittedConfiguration());}async function storeConfiguration(_0x86a4c4){const _0x44d531=_0x5ccaf5;logger[_0x44d531(0x21f)](_0x44d531(0x1ef)),blockTransactionDetection=!![],logger[_0x44d531(0x21f)](_0x44d531(0xf7));let _0x5c58d5=[],_0x1a1db4=![],_0x5c5e9d=[];_0x86a4c4[_0x44d531(0x10f)][_0x44d531(0xd6)](_0x7e548e=>{const _0x292395=_0x44d531;if(!_0x7e548e['excluded']&&_0x7e548e['coin']!=_0x86a4c4[_0x292395(0x1f0)])_0x5c5e9d[_0x292395(0x18e)](_0x7e548e[_0x292395(0x16b)]);}),_0x5c5e9d[_0x44d531(0xd6)](_0x42b01e=>{const _0x510210=_0x44d531,_0x2eefa5=watchedSymbols[_0x510210(0x181)](_0x42b01e);!_0x2eefa5&&_0x5c58d5[_0x510210(0x18e)](_0x42b01e);});_0x5c58d5[_0x44d531(0x119)]>0x0?_0x1a1db4=!![]:currentCoins[_0x44d531(0xd6)](_0x1e3f05=>{const _0x58e430=_0x44d531;if(_0x1e3f05[_0x58e430(0x21e)]!=config['basecoin']){const _0x555c27=_0x5c5e9d[_0x58e430(0x1a3)](_0x21da30=>_0x21da30==_0x1e3f05[_0x58e430(0x16b)]);!_0x555c27&&(_0x1a1db4=!![]);}});let _0x26bcdd=dbConfig[_0x44d531(0x213)]('bot')[_0x44d531(0x1a3)]({'botID':botID})[_0x44d531(0x161)]();_0x86a4c4={..._0x86a4c4,'apiKey':crypt[_0x44d531(0x1a8)](secure[_0x44d531(0x1c0)],_0x86a4c4[_0x44d531(0xef)])[_0x44d531(0xe9)],'apiSecret':crypt[_0x44d531(0x1a8)](secure['privateKey'],_0x86a4c4['apiSecret'])['message']};_0x86a4c4[_0x44d531(0x1f8)]&&(_0x86a4c4[_0x44d531(0x1f8)]=crypt[_0x44d531(0x1a8)](secure[_0x44d531(0x1c0)],_0x86a4c4[_0x44d531(0x1f8)])[_0x44d531(0xe9)]);let _0x3a35ed=![];_0x26bcdd?(_0x86a4c4[_0x44d531(0xef)]==_0x44d531(0x1cd)?_0x86a4c4[_0x44d531(0xef)]=config[_0x44d531(0xef)]:_0x3a35ed=!![],_0x86a4c4['apiSecret']==_0x44d531(0x1cd)?_0x86a4c4[_0x44d531(0x170)]=config['apiSecret']:_0x3a35ed=!![],_0x86a4c4[_0x44d531(0x1f8)]==_0x44d531(0x1cd)?_0x86a4c4[_0x44d531(0x1f8)]=config['apiPassword']:_0x3a35ed=!![],dbConfig[_0x44d531(0x213)](_0x44d531(0xf4))[_0x44d531(0x1a3)]({'botID':botID})[_0x44d531(0x1d7)](_0x86a4c4)[_0x44d531(0x180)]()):(dbConfig[_0x44d531(0x213)](_0x44d531(0xf4))[_0x44d531(0x18e)](_0x86a4c4)['write'](),_0x3a35ed=!![],process[_0x44d531(0x173)]({'status':_0x44d531(0xd3),'live':_0x44d531(0x159)},_0x4f6d8c=>{}));config={..._0x86a4c4},setStartDatePerformance(),process[_0x44d531(0x173)]({'botname':_0x86a4c4[_0x44d531(0x106)]},_0x2b6968=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x44d531(0xd7)),await initCoinResults();if(_0x3a35ed)await reset(_0x5c58d5,!![]);else{if(_0x1a1db4)await reset(_0x5c58d5,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x44d531(0x21f)](_0x44d531(0x12c));}async function storeHeadless(_0x36bc50){const _0x3b6f0a=_0x5ccaf5,_0x1bb988={...config,'headless':_0x36bc50[_0x3b6f0a(0x226)]};let _0x12f798=dbConfig[_0x3b6f0a(0x213)](_0x3b6f0a(0xf4))[_0x3b6f0a(0x1a3)]({'botID':botID})[_0x3b6f0a(0x161)]();_0x12f798&&dbConfig[_0x3b6f0a(0x213)](_0x3b6f0a(0xf4))['find']({'botID':botID})[_0x3b6f0a(0x1d7)](_0x1bb988)[_0x3b6f0a(0x180)](),config={..._0x1bb988},updateBotManager(),proxyEmit(_0x3b6f0a(0xe4),emittedConfiguration());}async function storeFiat(_0x342b99){const _0x5d3289=_0x5ccaf5,_0x43948e={...config,'fiat':_0x342b99};let _0x5ca7c9=dbConfig[_0x5d3289(0x213)](_0x5d3289(0xf4))[_0x5d3289(0x1a3)]({'botID':botID})[_0x5d3289(0x161)]();_0x5ca7c9&&dbConfig[_0x5d3289(0x213)](_0x5d3289(0xf4))[_0x5d3289(0x1a3)]({'botID':botID})[_0x5d3289(0x1d7)](_0x43948e)[_0x5d3289(0x180)](),config={..._0x43948e},proxyEmit(_0x5d3289(0xe4),emittedConfiguration());}function resetHistory(){const _0x4ffd07=_0x5ccaf5;logger[_0x4ffd07(0x171)](_0x4ffd07(0xec));try{if(fs[_0x4ffd07(0x21b)](path[_0x4ffd07(0x1c1)](configpath,_0x4ffd07(0x10e)+botID+_0x4ffd07(0x110))))fs[_0x4ffd07(0x204)](path[_0x4ffd07(0x1c1)](configpath,_0x4ffd07(0x10e)+botID+_0x4ffd07(0x110)));if(fs[_0x4ffd07(0x21b)](path[_0x4ffd07(0x1c1)](configpath,'bot-'+botID+_0x4ffd07(0x1c9))))fs[_0x4ffd07(0x204)](path[_0x4ffd07(0x1c1)](configpath,_0x4ffd07(0x10e)+botID+_0x4ffd07(0x1c9)));if(fs[_0x4ffd07(0x21b)](path[_0x4ffd07(0x1c1)](configpath,_0x4ffd07(0x10e)+botID+_0x4ffd07(0x100))))fs[_0x4ffd07(0x204)](path['join'](configpath,_0x4ffd07(0x10e)+botID+_0x4ffd07(0x100)));}catch(_0x378eda){if(_0x378eda)logger['full'](_0x4ffd07(0x15a),_0x378eda);}const _0x48c250=getDate();let _0x12570a=[];currentCoins['forEach'](_0x32c443=>{const _0x28eb4c=_0x4ffd07;_0x12570a[_0x28eb4c(0x18e)]({'coin':_0x32c443['coin'],'number':_0x32c443[_0x28eb4c(0x1ee)],'price':_0x32c443[_0x28eb4c(0x1fa)]});});let _0x22de5d=dbConfig['get'](_0x4ffd07(0xf4))[_0x4ffd07(0x1a3)]({'botID':botID})[_0x4ffd07(0x161)]();_0x22de5d&&(dbConfig['get'](_0x4ffd07(0xf4))[_0x4ffd07(0x1a3)]({'botID':botID})[_0x4ffd07(0x1d7)]({'liquidity':[{'date':_0x48c250,'changes':_0x12570a}]})[_0x4ffd07(0x180)](),config[_0x4ffd07(0x165)]=[]),process[_0x4ffd07(0x173)]({'stop':_0x4ffd07(0xe2)},_0x55e491=>{});}function noslash(_0x215d8f){return _0x215d8f['replace']('/','');}function updateHighestFee(_0x2ee339,_0x467c66){const _0x22c6c5=_0x5ccaf5;lastFees['currency']=_0x2ee339,lastFees[_0x22c6c5(0x112)][_0x22c6c5(0x119)]===0x14&&lastFees[_0x22c6c5(0x112)][_0x22c6c5(0x1d8)](),lastFees[_0x22c6c5(0x112)][_0x22c6c5(0x18e)](_0x467c66),lastFees[_0x22c6c5(0x11d)]=Math[_0x22c6c5(0xf9)](...lastFees[_0x22c6c5(0x112)]);}async function updateNumberCoinsCcxt(_0x3c17be){const _0x269a83=_0x5ccaf5;logger[_0x269a83(0x21f)]('0\x20-\x20EXECUTION:\x20'+_0x3c17be[_0x269a83(0x16b)]+_0x269a83(0x1d1)+_0x3c17be[_0x269a83(0x147)]+_0x269a83(0x1d1)+_0x3c17be['id']+_0x269a83(0x1d1)+_0x3c17be[_0x269a83(0x224)]);let _0x16846c=_0x3c17be[_0x269a83(0x147)],_0x501d30=![];currentCoins['forEach'](_0x21cfcc=>{const _0x9f92f5=_0x269a83;_0x21cfcc[_0x9f92f5(0x16b)]==_0x3c17be['symbol']&&(_0x501d30=!![]);});if(!_0x501d30)return;const _0x18baf5=currentCoins[_0x269a83(0x1a3)](_0x4eca3b=>_0x4eca3b[_0x269a83(0x16b)]==_0x3c17be[_0x269a83(0x16b)]),_0x7a8341=_0x102d3b=>{const _0x2bc864=_0x269a83;if(_0x18baf5)_0x18baf5[_0x2bc864(0x1c5)]=_0x102d3b;};if(_0x16846c==_0x269a83(0x107))_0x7a8341(_0x269a83(0x107));else{if(_0x16846c==_0x269a83(0x1bc)){_0x7a8341('canceled');const _0x3428d4=await getCoins();[currentCoins,currentCoinsAll]=_0x3428d4,await getOpenOrders(),handleOpenOrders();}else{if(_0x16846c==_0x269a83(0x222)){logger[_0x269a83(0x21f)]('1\x20-\x20FILLED:\x20'+_0x3c17be['symbol']+_0x269a83(0x1d1)+_0x3c17be[_0x269a83(0x22b)]+_0x269a83(0x1d1)+_0x3c17be['id']+'\x20|\x20'+_0x3c17be['clientOrderId']);let _0x33769a=![];if(lastOrders)lastOrders[_0x269a83(0xd6)](async _0x187026=>{const _0x62eda6=_0x269a83;if(_0x187026[_0x62eda6(0x211)]==_0x3c17be[_0x62eda6(0x224)]){logger[_0x62eda6(0x21f)](_0x62eda6(0x1ea)+_0x3c17be[_0x62eda6(0x224)]),_0x33769a=!![];if(_0x187026['filled']==0x0){logger[_0x62eda6(0x21f)](_0x62eda6(0x206)+_0x3c17be[_0x62eda6(0x224)]);_0x3c17be[_0x62eda6(0x215)]?_0x187026['price']=_0x3c17be[_0x62eda6(0x215)]:_0x187026[_0x62eda6(0x1f9)]=_0x3c17be[_0x62eda6(0x1f9)];_0x187026[_0x62eda6(0x22b)]=_0x3c17be[_0x62eda6(0x22b)],_0x187026[_0x62eda6(0x17a)]={'currency':_0x3c17be['fee']?_0x3c17be[_0x62eda6(0x17a)][_0x62eda6(0x1d6)]:null,'cost':_0x3c17be[_0x62eda6(0x17a)]?_0x3c17be['fee'][_0x62eda6(0x1cb)]:0x0},updateHighestFee(_0x187026[_0x62eda6(0x17a)][_0x62eda6(0x1d6)],_0x187026[_0x62eda6(0x17a)][_0x62eda6(0x1cb)]),_0x7a8341(_0x62eda6(0x22b)),await validateOrders();if(lockOrders==ORDERS[_0x62eda6(0x237)]){const _0x34ca2f=await getCoins();[currentCoins,currentCoinsAll]=_0x34ca2f;}await updateCoinResults(_0x187026);}}});if(!_0x33769a){logger[_0x269a83(0x21f)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x3c17be['id']),_0x7a8341('filled');const _0x357b72=await getCoins();[currentCoins,currentCoinsAll]=_0x357b72,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x30caab=JSON[_0x269a83(0x18c)](lastBalances[_0x269a83(0x10f)]);const _0x537741=_0x30caab[_0x269a83(0x1a3)](_0x8d2a7d=>_0x8d2a7d[_0x269a83(0x16b)]==_0x3c17be[_0x269a83(0x16b)]);if(_0x537741){if(_0x16846c==_0x269a83(0x107))_0x537741['orderstatus']=_0x537741[_0x269a83(0x1c5)]==_0x269a83(0x22b)?_0x269a83(0x22b):_0x269a83(0x107);else{if(_0x16846c==_0x269a83(0x1bc))_0x537741[_0x269a83(0x1c5)]=_0x537741[_0x269a83(0x1c5)]==_0x269a83(0x22b)?_0x269a83(0x22b):'canceled';else _0x16846c==_0x269a83(0x222)&&(_0x537741[_0x269a83(0x1c5)]=_0x269a83(0x22b));}}lastBalances={...lastBalances,'portfolio':JSON[_0x269a83(0x1f3)](_0x30caab)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x2b641d=_0x5ccaf5;await getOpenOrders();let _0x441c86=![];currentCoins[_0x2b641d(0xd6)](_0x4483ee=>{const _0x1703c7=_0x2b641d;_0x441c86=allOpenOrders[_0x1703c7(0x1a3)](_0x2df43b=>_0x2df43b[_0x1703c7(0x16b)]==_0x4483ee[_0x1703c7(0x16b)]),_0x4483ee[_0x1703c7(0x1c5)]=_0x441c86?'open':_0x1703c7(0x197);});}async function getCoins(_0x58fa6b=!![],_0x2a1f66=config[_0x5ccaf5(0x1f0)]){const _0x19b384=_0x5ccaf5;let _0x314e6d,_0x356ad3=[],_0x53313d=[],_0x34bdf8=[],_0x24e35d=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x314e6d=await exchange[_0x19b384(0x1d2)](),mybalances=_0x314e6d['total'];for(const [_0x845265,_0x27013b]of Object[_0x19b384(0x154)](mybalances)){_0x24e35d['push'](_0x845265);}if(_0x2a1f66=='')for(const [_0x5c31d1,_0x7508e9]of Object['entries'](mybalances)){_0x7508e9[_0x19b384(0x21a)]()!=0x0&&_0x53313d[_0x19b384(0x18e)]({'coin':_0x5c31d1});}else{let _0x4eb247=![];for(const [_0x773f5,_0xa9d37a]of Object[_0x19b384(0x154)](mybalances)){if(_0x24e35d[_0x19b384(0x181)](_0x773f5)){const _0x2d9dc=config[_0x19b384(0x10f)][_0x19b384(0x1a3)](_0x16d2e2=>_0x16d2e2[_0x19b384(0x21e)]==_0x773f5),_0x3e33de=_0x773f5+'/'+_0x2a1f66,_0x35adde=_0x2a1f66+'/'+_0x773f5,_0x5117b0=currentCoins['find'](_0x2e2f6f=>_0x2e2f6f[_0x19b384(0x21e)]==_0x773f5);_0x4eb247=![];if((_0xa9d37a['toString']()!=0x0||_0x2d9dc)&&(allSymbols[_0x19b384(0x181)](_0x3e33de)||_0x773f5==_0x2a1f66))_0x773f5!=_0x2a1f66&&_0x356ad3['push'](_0x3e33de),_0x53313d['push']({'coin':_0x773f5,'symbol':_0x3e33de,'reverse':![],'number':Math[_0x19b384(0xf9)](_0xa9d37a+(_0x2d9dc&&_0x2d9dc[_0x19b384(0x109)]||0x0),0x0),'orderstatus':_0x5117b0?_0x5117b0[_0x19b384(0x1c5)]:_0x19b384(0x197)});else(_0xa9d37a[_0x19b384(0x21a)]()!=0x0||_0x2d9dc)&&allSymbols[_0x19b384(0x181)](_0x35adde)&&(_0x773f5!=_0x2a1f66&&_0x356ad3['push'](_0x35adde),_0x53313d[_0x19b384(0x18e)]({'coin':_0x773f5,'symbol':_0x35adde,'reverse':!![],'number':Math[_0x19b384(0xf9)](_0xa9d37a+(_0x2d9dc&&_0x2d9dc[_0x19b384(0x109)]||0x0),0x0),'orderstatus':_0x5117b0?_0x5117b0['orderstatus']:_0x19b384(0x197)}));}}}}catch(_0xd169d){if(!_0x58fa6b)handleErrorNoStop(_0xd169d,_0x19b384(0xdb));else await handleError(_0xd169d,_0x19b384(0xdb));}return _0x34bdf8=cloneDeep(_0x53313d),_0x53313d=_0x53313d[_0x19b384(0x160)](_0x5ae706=>{const _0x3cd5c7=_0x19b384,_0x7172e6=config['portfolio']['find'](_0xa6f0f1=>_0xa6f0f1[_0x3cd5c7(0x21e)]==_0x5ae706[_0x3cd5c7(0x21e)]);return _0x7172e6&&!_0x7172e6[_0x3cd5c7(0xe8)];}),[_0x53313d,_0x34bdf8];}async function getCoinNumber(_0x241aeb){const _0xa34444=_0x5ccaf5;let _0x41309b;try{const _0xbe8cf2=await exchange['fetchBalance']();_0x41309b=_0xbe8cf2[_0xa34444(0x198)][_0x241aeb];}catch(_0x1cff10){await handleError(_0x1cff10,_0xa34444(0xcf));}return _0x41309b;}async function getOpenOrders(){const _0x43892c=_0x5ccaf5;let _0x45bb97;allOpenOrders=[];try{for(const _0x85820d of config['portfolio']){!_0x85820d['excluded']&&_0x85820d[_0x43892c(0x21e)]!=config[_0x43892c(0x1f0)]&&(_0x45bb97=await exchange[_0x43892c(0x1bd)](_0x85820d[_0x43892c(0x16b)]),_0x45bb97['length']>0x0&&allOpenOrders[_0x43892c(0x18e)](_0x45bb97[0x0]));}}catch(_0x140cd7){await handleError(_0x140cd7,'getOpenOrders()');}}async function handleOpenOrders(_0x25b6e5=0x0){const _0x214b95=_0x5ccaf5;allOpenOrders[_0x214b95(0x119)]==0x0&&lockOrders==ORDERS[_0x214b95(0x237)]&&allOrdersPlaced&&(_0x25b6e5==0x0?(logger[_0x214b95(0x21f)](_0x214b95(0xf5)),_0x25b6e5++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x214b95(0x21f)](_0x214b95(0x228)),validateOrders(_0x214b95(0x125))));}async function testAPI(_0x579835){const _0x383834=_0x5ccaf5,_0x3ce507=ccxt[_0x579835[_0x383834(0x129)][_0x383834(0x14d)]()],_0x5f3013=new _0x3ce507({'apiKey':_0x579835['apiKey'],'secret':_0x579835[_0x383834(0x170)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x579835[_0x383834(0x1f8)])_0x5f3013[_0x383834(0x118)]=_0x579835[_0x383834(0x1f8)];try{await _0x5f3013[_0x383834(0x105)]();}catch(_0x253e84){throw _0x253e84;}}function cloneDeep(_0x3ac0b6){return JSON['parse'](JSON['stringify'](_0x3ac0b6));}async function getPortfolio(_0x524b50){const _0x8aab36=_0x5ccaf5;let _0x12a848=[],_0x41afe6=[],_0x423b4d=[],_0x10212e;if(_0x524b50[_0x8aab36(0xef)]!==_0x8aab36(0x1cd)||_0x524b50[_0x8aab36(0x170)]!=='************'||_0x524b50[_0x8aab36(0x1f8)]&&_0x524b50[_0x8aab36(0x1f8)]!==_0x8aab36(0x1cd)){if(config['exchange']){if(_0x524b50[_0x8aab36(0xef)]==_0x8aab36(0x1cd))_0x524b50[_0x8aab36(0xef)]=config['apiKey'];if(_0x524b50[_0x8aab36(0x170)]==_0x8aab36(0x1cd))_0x524b50[_0x8aab36(0x170)]=config['apiSecret'];if(_0x524b50[_0x8aab36(0x1f8)]==_0x8aab36(0x1cd))_0x524b50[_0x8aab36(0x1f8)]=config[_0x8aab36(0x1f8)];try{await testAPI(_0x524b50);}catch(_0x3404a1){if(_0x3404a1[_0x8aab36(0x21a)]()[_0x8aab36(0x181)](_0x8aab36(0x23d))){logger[_0x8aab36(0x21f)](_0x8aab36(0x239)),proxyEmit(_0x8aab36(0x10f),![]);return;}else{handleError(_0x3404a1,_0x8aab36(0x1eb));return;}}}await initExchange(_0x524b50[_0x8aab36(0x129)],_0x524b50[_0x8aab36(0xef)],_0x524b50[_0x8aab36(0x170)],_0x524b50[_0x8aab36(0x1f8)]);try{await loadSymbols(_0x524b50[_0x8aab36(0x129)],!![]);}catch(_0x527feb){if(_0x527feb[_0x8aab36(0x21a)]()['includes'](_0x8aab36(0x23d))){proxyEmit(_0x8aab36(0x10f),![]);return;}else{handleError(_0x527feb,'getPortfolio(1)');return;}}const _0x4a426b=await getCoins(![],_0x524b50[_0x8aab36(0x1f0)]);_0x423b4d=cloneDeep(_0x4a426b[0x1]);}else _0x423b4d=cloneDeep(currentCoinsAll);if(_0x524b50[_0x8aab36(0x1f0)]=='')proxyEmit('portfolio',_0x423b4d);else{_0x423b4d['forEach'](_0x38a8e9=>{const _0x31742a=_0x8aab36;if(_0x38a8e9[_0x31742a(0x21e)]!=_0x524b50[_0x31742a(0x1f0)])_0x12a848[_0x31742a(0x18e)](_0x38a8e9['symbol']);});try{_0x41afe6=await exchange[_0x8aab36(0xff)](_0x12a848);}catch(_0x5239ce){if(_0x5239ce['toString']()[_0x8aab36(0x181)](_0x8aab36(0x23d))){proxyEmit(_0x8aab36(0x10f),![]);return;}else{handleError(_0x5239ce,_0x8aab36(0x15c));return;}}_0x423b4d[_0x8aab36(0xd6)](_0x5bc7cf=>{const _0xf82415=_0x8aab36;_0x5bc7cf[_0xf82415(0x21e)]!=_0x524b50[_0xf82415(0x1f0)]?_0x10212e=_0x5bc7cf[_0xf82415(0x1f6)]?0x1/_0x41afe6[_0x5bc7cf[_0xf82415(0x16b)]]['last']:_0x41afe6[_0x5bc7cf['symbol']][_0xf82415(0x1fa)]:_0x10212e=0x1,_0x5bc7cf[_0xf82415(0x1f9)]=formatResult(_0x10212e,0x8);}),proxyEmit(_0x8aab36(0x10f),_0x423b4d);}}function truncateTradeAmount(_0x322db2,_0x4662be){const _0x249a9a=_0x5ccaf5;let _0x49f383=0x0;try{_0x49f383=exchange[_0x249a9a(0x188)](_0x322db2,_0x4662be);}catch(_0x33703b){}return _0x49f383;}function checkMinimums(_0x383dd6){const _0x434aec=_0x5ccaf5;let _0x4b69d1=!![];const _0x22c828=!_0x383dd6['reverse']?markets[_0x383dd6['symbol']]['limits'][_0x434aec(0x1de)][_0x434aec(0x13e)]:markets[_0x383dd6[_0x434aec(0x16b)]][_0x434aec(0x1c6)][_0x434aec(0x1cb)][_0x434aec(0x13e)],_0x3625d8=!_0x383dd6[_0x434aec(0x1f6)]?markets[_0x383dd6[_0x434aec(0x16b)]][_0x434aec(0x1c6)][_0x434aec(0x1cb)]['min']:markets[_0x383dd6[_0x434aec(0x16b)]][_0x434aec(0x1c6)][_0x434aec(0x1de)]['min'],_0x1dee49=truncateTradeAmount(_0x383dd6[_0x434aec(0x16b)],_0x383dd6[_0x434aec(0x131)]);_0x383dd6[_0x434aec(0x131)]=_0x1dee49;if(Math[_0x434aec(0x1e2)](_0x1dee49)<_0x22c828)_0x4b69d1=![];if(Math[_0x434aec(0x1e2)](_0x1dee49)*_0x383dd6['last']<_0x3625d8)_0x4b69d1=![];if(_0x383dd6['side']==_0x434aec(0x1f5)){let _0x5a121=config['portfolio'][_0x434aec(0x1a3)](_0x1265b7=>_0x1265b7[_0x434aec(0x21e)]==_0x383dd6[_0x434aec(0x21e)]);if(_0x5a121[_0x434aec(0x109)]>0x0){if(Math['abs'](_0x1dee49)>_0x383dd6[_0x434aec(0x1ee)]-_0x5a121['offset'])_0x4b69d1=![];}else{if(Math[_0x434aec(0x1e2)](_0x1dee49)>_0x383dd6['number'])_0x4b69d1=![];}}if(_0x383dd6[_0x434aec(0x144)]==_0x434aec(0x240)){let _0x4f3aa3=config[_0x434aec(0x10f)]['find'](_0x2ef124=>_0x2ef124[_0x434aec(0x21e)]==config['basecoin']),_0x3d0be6=currentCoins[_0x434aec(0x1a3)](_0x2aaf46=>_0x2aaf46[_0x434aec(0x21e)]==config[_0x434aec(0x1f0)]);if(_0x4f3aa3[_0x434aec(0x109)]>0x0){if(Math[_0x434aec(0x1e2)](_0x1dee49)*_0x383dd6[_0x434aec(0x1fa)]>_0x3d0be6[_0x434aec(0x1ee)]-_0x4f3aa3[_0x434aec(0x109)])_0x4b69d1=![];}else{if(Math['abs'](_0x1dee49)*_0x383dd6[_0x434aec(0x1fa)]>_0x3d0be6[_0x434aec(0x1ee)])_0x4b69d1=![];}}return _0x4b69d1;}async function getBalances(){const _0x1f7563=_0x5ccaf5;let _0x5e6d7e=0x0,_0x2383f3;const _0x4e29e8=config[_0x1f7563(0x10c)];if(config['headless']&&config[_0x1f7563(0x1be)]<0x0)await validate24hChanges();currentCoins[_0x1f7563(0xd6)](_0x27e4dc=>{const _0x4fdcdd=_0x1f7563;if(_0x27e4dc[_0x4fdcdd(0x21e)]!=config[_0x4fdcdd(0x1f0)]){let _0x5cbfa8=global[_0x4fdcdd(0xee)][noslash(_0x27e4dc[_0x4fdcdd(0x16b)])];_0x2383f3=_0x27e4dc[_0x4fdcdd(0x1f6)]?0x1/_0x5cbfa8:_0x5cbfa8;}else _0x2383f3=0x1;let _0x3e8207=_0x27e4dc['number']*_0x2383f3;_0x5e6d7e+=_0x3e8207,_0x27e4dc['last']=formatResult(Number(_0x2383f3),0x8),_0x27e4dc[_0x4fdcdd(0x161)]=_0x3e8207;}),currentCoins[_0x1f7563(0xd6)](_0x162b43=>{const _0x5cac15=_0x1f7563;let _0xfb2c33=config[_0x5cac15(0x10f)][_0x5cac15(0x1a3)](_0x153b7c=>_0x153b7c[_0x5cac15(0x21e)]==_0x162b43['coin']),_0x28dce8=Number(_0xfb2c33['distribution']),_0x45f616=_0x162b43[_0x5cac15(0x161)]/_0x5e6d7e*0x64,_0x34db62=_0x28dce8*_0x5e6d7e/0x64/_0x162b43[_0x5cac15(0x1fa)]-_0x162b43[_0x5cac15(0x1ee)];_0x162b43[_0x5cac15(0x203)]=formatResult(_0x45f616,0x3),_0x162b43[_0x5cac15(0x1b3)]=formatResult(_0x28dce8,0x3),_0x162b43[_0x5cac15(0x131)]=formatResult(_0x34db62,0x8),_0x162b43[_0x5cac15(0x144)]='',_0x162b43[_0x5cac15(0x142)]=![];if(_0x162b43['coin']!=config['basecoin']){if(_0x162b43['distribution']>_0x28dce8)_0x162b43[_0x5cac15(0x144)]=_0x5cac15(0x1f5),_0x162b43['valid']=checkMinimums(_0x162b43);else _0x162b43[_0x5cac15(0x203)]<_0x28dce8&&(_0x162b43[_0x5cac15(0x144)]=_0x5cac15(0x240),_0x162b43['valid']=checkMinimums(_0x162b43));}_0x162b43[_0x5cac15(0x156)]=_0x162b43[_0x5cac15(0x203)]/_0x162b43[_0x5cac15(0x1b3)]-0x1;if(_0x162b43[_0x5cac15(0x1c5)]==_0x5cac15(0x22b)||_0x162b43[_0x5cac15(0x1c5)]=='canceled')_0x162b43['orderstatus']=_0x5cac15(0x197);}),currentCoins[_0x1f7563(0x20f)]((_0x29cf12,_0x40345d)=>_0x29cf12[_0x1f7563(0x156)]<_0x40345d['delta']?0x1:_0x40345d['delta']<_0x29cf12['delta']?-0x1:0x0);const _0x2bae43=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2bae43[_0x1f7563(0xce)],'usd':_0x2bae43[_0x1f7563(0x21c)],'portfolio':JSON[_0x1f7563(0x1f3)](currentCoins),'threshold':_0x4e29e8},proxyEmit(_0x1f7563(0x1b9),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x1f7563(0x226)])headlessMode({'portfolio':currentCoins,'threshold':_0x4e29e8});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4e29e8});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x20156a=getNormalizedPerformance();getStartingBalances(_0x20156a),emitPerformance(_0x20156a);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x54edd5=getNormalizedPerformance();emitPerformance(_0x54edd5),getStartingBalances(_0x54edd5),logger[_0x1f7563(0x21f)](_0x1f7563(0x128));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x263999=_0x5ccaf5;if(!lastBalances)return;let _0x3c7721=[],_0x183699,_0x4efd51=JSON[_0x263999(0x18c)](lastBalances['portfolio']);_0x4efd51['sort']((_0xe44667,_0x46c25f)=>_0xe44667[_0x263999(0x21e)]>_0x46c25f[_0x263999(0x21e)]?0x1:_0x46c25f[_0x263999(0x21e)]>_0xe44667['coin']?-0x1:0x0),_0x4efd51[_0x263999(0xd6)](_0x16c9c7=>{const _0xfcd189=_0x263999;let _0x3e5721={'coin':_0x16c9c7[_0xfcd189(0x21e)],'number':_0x16c9c7[_0xfcd189(0x1ee)],'price':_0x16c9c7[_0xfcd189(0x1fa)]};_0x3c7721[_0xfcd189(0x18e)](_0x3e5721);});const _0x2996cb=await getFiat();_0x183699={'date':lastBalances[_0x263999(0x14c)]['split']('\x20')[0x0],'eur':_0x2996cb[_0x263999(0xce)],'usd':_0x2996cb[_0x263999(0x21c)],'coins':_0x3c7721};let _0x498b95=dbPerformance[_0x263999(0x213)](_0x263999(0x135))[_0x263999(0x1a3)]({'date':_0x183699[_0x263999(0x179)]})[_0x263999(0x161)]();_0x498b95?_0x183699['date']!=config[_0x263999(0x232)]&&dbPerformance[_0x263999(0x213)](_0x263999(0x135))[_0x263999(0x1a3)]({'date':_0x183699[_0x263999(0x179)]})[_0x263999(0x1d7)](_0x183699)['write']():dbPerformance[_0x263999(0x213)]('data')[_0x263999(0x18e)](_0x183699)[_0x263999(0x180)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3d7f07=_0x5ccaf5;let _0x2eba2e=[];if(dbPerformance['has'](_0x3d7f07(0x135))[_0x3d7f07(0x161)]()){let _0x12ab93=dbPerformance[_0x3d7f07(0x213)]('data')[_0x3d7f07(0x145)]()[_0x3d7f07(0x1fe)](_0x3d7f07(0x179))['value'](),_0xda4e52=[...config[_0x3d7f07(0x165)]];_0xda4e52[_0x3d7f07(0x20f)]((_0x55bd2a,_0x3e3166)=>_0x55bd2a[_0x3d7f07(0x179)]>_0x3e3166['date']?-0x1:_0x3e3166[_0x3d7f07(0x179)]>_0x55bd2a['date']?0x1:0x0);let _0x19958f=0x1,_0x5ac489=[],_0x107b5e=0x0;_0x12ab93[_0x3d7f07(0x1d9)]()['reverse']()['forEach']((_0x4f6e08,_0x547dd7)=>{const _0x309cb0=_0x3d7f07;if(_0xda4e52[_0x107b5e]){if(_0x12ab93[_0x12ab93[_0x309cb0(0x119)]-_0x547dd7]&&_0xda4e52[_0x107b5e]['date']==_0x12ab93[_0x12ab93[_0x309cb0(0x119)]-_0x547dd7][_0x309cb0(0x179)]){if(_0x547dd7<_0x12ab93['length']){let _0x5421c5=0x0,_0x2ac1c9=0x0;_0x12ab93[_0x12ab93['length']-_0x547dd7]['coins'][_0x309cb0(0xd6)](_0x43af1d=>{const _0x5c2359=_0x309cb0;_0x2ac1c9+=_0x43af1d['number']*_0x43af1d[_0x5c2359(0x1f9)];}),_0xda4e52[_0x107b5e]['changes'][_0x309cb0(0xd6)](_0xe77d10=>{const _0x35308c=_0x309cb0;_0x5421c5+=_0xe77d10[_0x35308c(0x1ee)]*_0xe77d10[_0x35308c(0x1f9)];}),_0x19958f*=_0x5421c5/(_0x2ac1c9-_0x5421c5)+0x1;}_0x107b5e++;}}let _0x1b8e9b=0x0;_0x4f6e08[_0x309cb0(0x1dc)]['forEach'](_0x3bb6ec=>{const _0x3d8d93=_0x309cb0;_0x1b8e9b+=_0x3bb6ec[_0x3d8d93(0x1ee)]*_0x3bb6ec['price'];}),_0x5ac489[_0x12ab93[_0x309cb0(0x119)]-_0x547dd7-0x1]=_0x1b8e9b*(_0x19958f-0x1);});let _0x3b5508=[];_0xda4e52=[...config[_0x3d7f07(0x165)]]||[];let _0x187fca=0x0;_0x107b5e=0x0,_0x12ab93[_0x3d7f07(0xd6)]((_0x507297,_0x1eb1e6)=>{const _0x4368ae=_0x3d7f07;if(_0xda4e52[_0x107b5e]){const _0x3e4240=fns[_0x4368ae(0x18c)](_0xda4e52[_0x107b5e][_0x4368ae(0x179)],_0x4368ae(0x20a),new Date()),_0x58af0b=fns['parse'](_0x507297[_0x4368ae(0x179)],_0x4368ae(0x20a),new Date());if(fns[_0x4368ae(0x15d)](_0x3e4240,_0x58af0b)){let _0x288980=0x0;_0xda4e52[_0x107b5e]['changes'][_0x4368ae(0xd6)](_0x4ed565=>{const _0x1f1c15=_0x4368ae;!_0x3b5508[_0x4ed565[_0x1f1c15(0x21e)]]?_0x3b5508[_0x4ed565[_0x1f1c15(0x21e)]]=_0x4ed565[_0x1f1c15(0x1ee)]:(_0x288980=_0x3b5508[_0x4ed565[_0x1f1c15(0x21e)]],_0x3b5508[_0x4ed565[_0x1f1c15(0x21e)]]+=_0x4ed565[_0x1f1c15(0x1ee)]);const _0x21800c=_0x507297[_0x1f1c15(0x1dc)]['find'](_0x2bde7f=>_0x2bde7f[_0x1f1c15(0x21e)]==_0x4ed565[_0x1f1c15(0x21e)]);(!_0x21800c||_0x21800c[_0x1f1c15(0x1ee)]==0x0)&&(_0x187fca+=(-_0x4ed565[_0x1f1c15(0x1ee)]-_0x288980)*_0x4ed565[_0x1f1c15(0x1f9)]);}),_0x107b5e++;}}_0x507297[_0x4368ae(0x1dc)][_0x4368ae(0xd6)]((_0x15a3d7,_0x9b07ab)=>{const _0x495079=_0x4368ae;_0x3b5508[_0x15a3d7[_0x495079(0x21e)]]&&(_0x15a3d7[_0x495079(0x19a)]=_0x3b5508[_0x15a3d7[_0x495079(0x21e)]]);}),_0x2eba2e[_0x4368ae(0x18e)]({'date':_0x507297[_0x4368ae(0x179)],'eur':_0x507297[_0x4368ae(0xce)],'usd':_0x507297['usd'],'offset':_0x5ac489[_0x1eb1e6],'netoffset':_0x187fca,'coins':_0x507297[_0x4368ae(0x1dc)]});});}return _0x2eba2e;}function emitPerformance(_0x178bfb){const _0x504ea5=_0x5ccaf5;_0x178bfb[_0x504ea5(0x119)]!==0x0?(proxyEmit(_0x504ea5(0x23c),_0x178bfb),lastPerformanceEmitted=getDate()):proxyEmit(_0x504ea5(0x23c),[]);}function getPerf(_0x5ae0b5,_0x1837b2){const _0x5a9964=_0x5ccaf5;let _0x16ebb6=0x0,_0x46a7ff=0x0,_0x1971d1=0x0;_0x5ae0b5[_0x5a9964(0x1dc)][_0x5a9964(0xd6)](_0x5b6677=>{const _0x558c7e=_0x5a9964;_0x16ebb6+=_0x5b6677[_0x558c7e(0x1ee)]*_0x5b6677[_0x558c7e(0x1f9)];});_0x1837b2&&(_0x16ebb6+=_0x5ae0b5[_0x5a9964(0x109)]);if(config[_0x5a9964(0x1f0)]==='BTC'||config[_0x5a9964(0x1f0)]===_0x5a9964(0x22a))_0x46a7ff=_0x16ebb6*_0x5ae0b5[_0x5a9964(0xce)],_0x1971d1=_0x16ebb6*_0x5ae0b5[_0x5a9964(0x21c)];else{if(config[_0x5a9964(0x1f0)]==='BUSD'||config[_0x5a9964(0x1f0)]==='USDT'||config['basecoin']===_0x5a9964(0x220))_0x46a7ff=_0x16ebb6*_0x5ae0b5[_0x5a9964(0xce)]/_0x5ae0b5[_0x5a9964(0x21c)],_0x1971d1=_0x16ebb6;else config[_0x5a9964(0x1f0)]===_0x5a9964(0x227)&&(_0x46a7ff=_0x16ebb6,_0x1971d1=_0x16ebb6*_0x5ae0b5[_0x5a9964(0x21c)]/_0x5ae0b5[_0x5a9964(0xce)]);}return[_0x16ebb6,_0x46a7ff,_0x1971d1];}function getKPIs(_0x19cccb,_0x163d8d=_0x5ccaf5(0x227)){const _0xf96466=_0x5ccaf5,_0x5a4a91=config['basecoin'],_0xd2ae9d=lastBalances,_0x1350ff=currentCoins,_0x30ad61=getNormalizedPerformance(),_0x58b270=_0x19cccb==='basecoin'?_0x5a4a91:_0x19cccb===_0xf96466(0x231)||_0x19cccb==='net-fiat'?_0x163d8d:_0xf96466(0x17c)+_0x5a4a91,_0x5df4a3=_0x19cccb===_0xf96466(0x19b)?_0xf96466(0x20e):_0x19cccb===_0xf96466(0x104)?_0xf96466(0x20e):_0x58b270+'\x20value',_0x4c8dbc=_0x19cccb===_0xf96466(0x19b)||_0x19cccb===_0xf96466(0x104)?_0xf96466(0x20e):_0x58b270+'\x20change';let _0x1699ba=0x0;_0x1350ff['forEach'](_0x5675fd=>{const _0x2d5007=_0xf96466;_0x1699ba+=_0x5675fd[_0x2d5007(0x1ee)]*_0x5675fd[_0x2d5007(0x1fa)];});if(_0x19cccb==='fiat'||_0x19cccb===_0xf96466(0x104)){if(_0x5a4a91==='BTC'||_0x5a4a91===_0xf96466(0x22a))_0x1699ba=_0x1699ba*(_0x163d8d==='EUR'?_0xd2ae9d[_0xf96466(0xce)]:_0xd2ae9d[_0xf96466(0x21c)]);else{if(_0x5a4a91===_0xf96466(0x17f)||_0x5a4a91===_0xf96466(0x183)||_0x5a4a91==='USD')_0x1699ba=_0x1699ba*(_0x163d8d==='EUR'?_0xd2ae9d['eur']/_0xd2ae9d['usd']:0x1);else _0x5a4a91===_0xf96466(0x227)&&(_0x1699ba=_0x1699ba*(_0x163d8d===_0xf96466(0x227)?0x1:_0xd2ae9d[_0xf96466(0x21c)]/_0xd2ae9d[_0xf96466(0xce)]));}}let _0x1fd746;if(_0x1699ba!==0x0){if(_0x19cccb===_0xf96466(0x1f0))_0x1fd746=(_0x1699ba/startingBalances[_0xf96466(0x1f0)]-0x1)*0x64;else{if(_0x163d8d===_0xf96466(0x227))_0x1fd746=(_0x1699ba/startingBalances[_0xf96466(0xce)]-0x1)*0x64;else _0x1fd746=(_0x1699ba/startingBalances['usd']-0x1)*0x64;}let _0x2cba9a=0x0;if(startingBalances[_0xf96466(0x1dc)])_0x1350ff['forEach'](_0x4a30ff=>{const _0x3946c8=_0xf96466;let _0x480651=startingBalances[_0x3946c8(0x1dc)][_0x3946c8(0x1a3)](_0x359e4e=>_0x359e4e['coin']===_0x4a30ff[_0x3946c8(0x21e)]);if(_0x480651&&_0x480651[_0x3946c8(0x21e)]&&_0x4a30ff[_0x3946c8(0x1ee)]!==0x0)_0x2cba9a+=_0x480651[_0x3946c8(0x1ee)]*_0x4a30ff[_0x3946c8(0x1fa)];});let _0x4c7350=0x0;if(_0x30ad61[_0xf96466(0x119)]!==0x0){let _0x2e6ad0=_0x30ad61[_0x30ad61[_0xf96466(0x119)]-0x1];_0x4c7350=_0x2e6ad0[_0xf96466(0x19d)];}_0x2cba9a-=_0x4c7350;_0x19cccb===_0xf96466(0x19b)&&(_0x1fd746=(_0x1699ba-_0x2cba9a)/startingBalances[_0xf96466(0x1f0)]*0x64,_0x1699ba=_0x1699ba-_0x2cba9a);if(_0x19cccb==='net-fiat'){let _0x510185=_0x163d8d===_0xf96466(0x227)?startingBalances[_0xf96466(0xce)]:startingBalances[_0xf96466(0x21c)];if(_0x5a4a91===_0xf96466(0x150)||_0x5a4a91===_0xf96466(0x22a))_0x2cba9a=_0x163d8d===_0xf96466(0x227)?_0x2cba9a*_0xd2ae9d[_0xf96466(0xce)]:_0x2cba9a*_0xd2ae9d[_0xf96466(0x21c)];else{if(_0x5a4a91===_0xf96466(0x17f)||_0x5a4a91===_0xf96466(0x183)||_0x5a4a91==='USD')_0x2cba9a=_0x163d8d===_0xf96466(0x227)?_0x2cba9a*_0xd2ae9d['eur']/_0xd2ae9d[_0xf96466(0x21c)]:_0x2cba9a;else _0x5a4a91===_0xf96466(0x227)&&(_0x2cba9a=_0x163d8d===_0xf96466(0x227)?_0x2cba9a:_0x2cba9a*_0xd2ae9d['usd']/_0xd2ae9d[_0xf96466(0xce)]);}_0x1fd746=(_0x1699ba-_0x2cba9a)/_0x510185*0x64,_0x1699ba=_0x1699ba-_0x2cba9a;}if(_0x1fd746){if(_0x1fd746<0x64)_0x1fd746=_0x1fd746[_0xf96466(0x1e0)](0x2);else{if(_0x1fd746<0x3e8)_0x1fd746=_0x1fd746[_0xf96466(0x1e0)](0x1);else _0x1fd746=_0x1fd746[_0xf96466(0x1e0)](0x0);}}else _0x1fd746=Number('0')['toFixed'](0x2);if(_0x1699ba){if(Math[_0xf96466(0x1e2)](_0x1699ba)<0.000001)_0x1699ba=_0x1699ba[_0xf96466(0x1e0)](0x2);else{if(Math[_0xf96466(0x1e2)](_0x1699ba)<0.1)_0x1699ba=_0x1699ba['toFixed'](0x6);else{if(Math[_0xf96466(0x1e2)](_0x1699ba)<0x1)_0x1699ba=_0x1699ba['toFixed'](0x5);else{if(Math['abs'](_0x1699ba)<0xa)_0x1699ba=_0x1699ba[_0xf96466(0x1e0)](0x4);else{if(Math['abs'](_0x1699ba)<0x64)_0x1699ba=_0x1699ba['toFixed'](0x3);else{if(Math[_0xf96466(0x1e2)](_0x1699ba)<0x3e8)_0x1699ba=_0x1699ba[_0xf96466(0x1e0)](0x2);else _0x1699ba=_0x1699ba[_0xf96466(0x1e0)](0x2);}}}}}}else _0x1699ba=Number('0')[_0xf96466(0x1e0)](0x2);}else _0x1fd746=Number('0')[_0xf96466(0x1e0)](0x2);return{'value':_0x1699ba,'change':_0x1fd746,'leftTxt':_0x5df4a3,'rightTxt':_0x4c8dbc};}async function getStartingBalances(_0x208ddc,_0x2e08c4=!![]){const _0x3478dc=_0x5ccaf5;if(_0x208ddc[_0x3478dc(0x119)]!==0x0){const [_0x3fe808,_0x4e544e,_0xeef7b6]=getPerf(_0x208ddc[0x0],!![]);let _0x3df591=[];config['portfolio'][_0x3478dc(0xd6)](_0x3d8381=>{const _0x1fe59e=_0x3478dc;let _0x1e93e5=0x0,_0x3bed9b;config[_0x1fe59e(0x165)][_0x1fe59e(0xd6)](_0x1bcbb1=>{const _0x306199=_0x1fe59e;let _0x43670a=_0x1bcbb1[_0x306199(0x235)][_0x306199(0x1a3)](_0x2c1e55=>_0x2c1e55[_0x306199(0x21e)]==_0x3d8381['coin']);if(_0x43670a){_0x1e93e5+=_0x43670a['number'];if(!_0x3bed9b)_0x3bed9b=_0x43670a[_0x306199(0x1f9)];}}),_0x3df591['push']({'coin':_0x3d8381['coin'],'number':_0x1e93e5,'initialprice':_0x3bed9b});});const _0x5abea6={'basecoin':_0x3fe808,'eur':_0x4e544e,'usd':_0xeef7b6,'coins':_0x3df591};if(_0x2e08c4)proxyEmit(_0x3478dc(0x236),_0x5abea6);startingBalances=_0x5abea6;}}function headlessMode(_0x356995){const _0x34c7ea=_0x5ccaf5;let _0x1adb21=_0x356995[_0x34c7ea(0x10f)],_0xf04ef9=_0x356995[_0x34c7ea(0x10c)],_0x4dbc68=[];for(let _0x10577c of _0x1adb21){if(_0x10577c[_0x34c7ea(0x21e)]!=config[_0x34c7ea(0x1f0)]){if(_0x10577c[_0x34c7ea(0x156)]>=_0xf04ef9/0x64){if(_0x10577c['valid'])_0x4dbc68[_0x34c7ea(0x18e)](_0x10577c);}else{if(_0x10577c[_0x34c7ea(0x156)]<=-_0xf04ef9/0x64){if(_0x10577c[_0x34c7ea(0x142)])_0x4dbc68[_0x34c7ea(0x18e)](_0x10577c);}}}}_0x4dbc68[_0x34c7ea(0x119)]>0x0&&placeOrder(_0x4dbc68);}function notifyBalance(_0x3b3f76){const _0x321f94=_0x5ccaf5;let _0x1d04b1=_0x3b3f76['portfolio'],_0xf96cc5=_0x3b3f76[_0x321f94(0x10c)],_0x3b4d37=[];for(let _0x45914e of _0x1d04b1){if(_0x45914e[_0x321f94(0x21e)]!=config[_0x321f94(0x1f0)]){if(_0x45914e[_0x321f94(0x156)]>=_0xf96cc5/0x64){if(_0x45914e['valid'])_0x3b4d37['push'](_0x45914e);}else{if(_0x45914e[_0x321f94(0x156)]<=-_0xf96cc5/0x64){if(_0x45914e[_0x321f94(0x142)])_0x3b4d37[_0x321f94(0x18e)](_0x45914e);}}}}if(_0x3b4d37[_0x321f94(0x119)]>0x0){let _0x514c00=_0x3b4d37['map'](_0x1c8df9=>_0x1c8df9[_0x321f94(0x21e)]);_0x514c00[_0x321f94(0x20f)]();let _0x20f28e=_0x514c00[_0x321f94(0x1c1)](',\x20');if(!lastCoinsToBalance)logHistory(_0x321f94(0x212),_0x321f94(0xd2));lastCoinsToBalance=_0x20f28e;}}function symbolToCoin(_0xe3955){const _0x3ddb52=_0x5ccaf5;let _0x489adf;if(_0xe3955[_0x3ddb52(0x181)]('/'+config['basecoin']))_0x489adf=_0xe3955[_0x3ddb52(0x133)]('/'+config[_0x3ddb52(0x1f0)],'');if(_0xe3955['includes'](config[_0x3ddb52(0x1f0)]+'/'))_0x489adf=_0xe3955[_0x3ddb52(0x133)](config[_0x3ddb52(0x1f0)]+'/','');return _0x489adf;}async function unlockOrders(){const _0x12acef=_0x5ccaf5;if(allOrdersPlaced&&lockOrders==ORDERS[_0x12acef(0x237)]){logger[_0x12acef(0x21f)](_0x12acef(0x1aa)),lockOrders=ORDERS[_0x12acef(0x1c4)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x6c0a=await getCoins();[currentCoins,currentCoinsAll]=_0x6c0a,validateOrdersState=_0x12acef(0x19a),persistOpenOrders([]),lockOrders=ORDERS[_0x12acef(0xe1)],logger['debug'](_0x12acef(0x14a));}}async function validateOrders(_0x17057d){const _0x33a4f2=_0x5ccaf5;if(_0x17057d)validateOrdersState=_0x17057d;logger[_0x33a4f2(0x21f)](_0x33a4f2(0xfc)+validateOrdersState+_0x33a4f2(0x139)+(lockOrders==0x1?_0x33a4f2(0xf1):lockOrders==0x2?_0x33a4f2(0x16e):_0x33a4f2(0x20d)));let _0x925df5=[],_0x3e4b5b=config[_0x33a4f2(0x19c)]==_0x33a4f2(0x1d3)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x33a4f2(0xfa)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders['forEach'](_0x195be7=>{const _0x599f84=_0x33a4f2;let _0x1b1359=![];_0x195be7[_0x599f84(0x22b)]>0x0&&(_0x1b1359=!![]),_0x925df5[_0x599f84(0x18e)](_0x1b1359),_0x1b1359&&config[_0x599f84(0x19c)]!=_0x599f84(0x1d3)&&logHistory(_0x599f84(0x16d),'Order\x20filled:\x20'+_0x195be7[_0x599f84(0x16b)]+'\x20'+_0x195be7[_0x599f84(0x144)]+'\x20#'+formatResult(_0x195be7['filled'],0x8)+'\x20@'+formatResult(_0x195be7[_0x599f84(0x1f9)],0x8));}),_0x925df5[_0x33a4f2(0xd6)]((_0x2566d7,_0x32fcef)=>{const _0x2390dd=_0x33a4f2;if(_0x2566d7)lastOrders[_0x2390dd(0x1df)](_0x32fcef,0x1);}),persistOpenOrders(lastOrders);const _0x1940fe=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':'balancing\x20resumed';if(validateOrdersState=='initial'){validateOrdersState=_0x33a4f2(0x1d5);if(_0x925df5[_0x33a4f2(0x181)](![])){if(config[_0x33a4f2(0x19c)]==_0x33a4f2(0x1d3)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x33a4f2(0x1d5)){if(_0x925df5['includes'](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x33a4f2(0x1d3)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x33a4f2(0x116))_0x925df5[_0x33a4f2(0x181)](![])&&(config[_0x33a4f2(0x19c)]==_0x33a4f2(0x1d3)?logHistory(_0x33a4f2(0x184),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x33a4f2(0x176)](_0x3e4b5b*validateOrderInterval/0xea60)+_0x33a4f2(0xd8)+_0x1940fe):(await cancelOrders(),logHistory(_0x33a4f2(0x184),_0x33a4f2(0x1b7)+Math[_0x33a4f2(0x176)](_0x3e4b5b*validateOrderInterval/0xea60)+_0x33a4f2(0xd8)+_0x1940fe))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x33a4f2(0x19c)]!=_0x33a4f2(0x1d3))logHistory(_0x33a4f2(0x184),_0x33a4f2(0x12e)+_0x1940fe);await unlockOrders();}}}}}async function cancelOrders(){const _0x2f6f17=_0x5ccaf5;lastOrders[_0x2f6f17(0xd6)](async _0x60ac44=>{const _0x7d13c1=_0x2f6f17;try{const _0xa0d0cb=await exchange[_0x7d13c1(0x18a)](_0x60ac44[_0x7d13c1(0x208)],_0x60ac44[_0x7d13c1(0x16b)]);}catch(_0x381ced){if(_0x381ced[_0x7d13c1(0x21a)]()[_0x7d13c1(0x181)]('OrderNotFound')){}else await handleError(_0x381ced,'cancelOrders()');}});}async function initCoinResults(){const _0x149dcb=_0x5ccaf5;let _0x220f26=[];config[_0x149dcb(0x10f)][_0x149dcb(0xd6)](_0x17db70=>{const _0x33bec5=_0x149dcb;if(!_0x17db70['excluded']&&_0x17db70[_0x33bec5(0x21e)]!=config[_0x33bec5(0x1f0)]){let _0x368694=dbCoinResults[_0x33bec5(0x213)](_0x33bec5(0x1dc))[_0x33bec5(0x1a3)]({'coin':_0x17db70[_0x33bec5(0x21e)]})['value']();if(!_0x368694){const _0x4d5c20=currentCoins[_0x33bec5(0x1a3)](_0x1e676f=>_0x1e676f[_0x33bec5(0x21e)]==_0x17db70[_0x33bec5(0x21e)]),_0x54b404=global[_0x33bec5(0xee)][noslash(_0x17db70['symbol'])];let _0xff47de=_0x4d5c20?_0x4d5c20[_0x33bec5(0x1ee)]:null,_0x3033de=_0x17db70['reverse']?0x1/_0x54b404:_0x54b404,_0x5a80e8;config['liquidity'][_0x33bec5(0xd6)](_0x342e22=>{const _0x55a695=_0x33bec5;!_0x5a80e8&&(_0x5a80e8=_0x342e22[_0x55a695(0x235)]['find'](_0x11a922=>_0x11a922['coin']==_0x17db70['coin']),_0x5a80e8&&(_0xff47de=_0x5a80e8[_0x55a695(0x1ee)],_0x3033de=_0x5a80e8['price']));}),_0x220f26[_0x33bec5(0x18e)]({'coin':_0x17db70[_0x33bec5(0x21e)],'number':_0xff47de,'price':_0x3033de});}}}),_0x220f26[_0x149dcb(0xd6)](_0x27a71e=>{const _0x44e3d7=_0x149dcb,_0x163f5e={'coin':_0x27a71e['coin'],'number':_0x27a71e['number'],'breakeven':_0x27a71e[_0x44e3d7(0x1f9)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x44e3d7(0x213)](_0x44e3d7(0x1dc))[_0x44e3d7(0x18e)](_0x163f5e)['write']();});}async function updateCoinResults(_0x284083,_0xf8a062=![]){const _0x2da424=_0x5ccaf5;let _0xc04d0d,_0x2490dc,_0x458b48,_0x29e066,_0x519b44,_0x2c738b,_0x467d71=dbCoinResults[_0x2da424(0x213)](_0x2da424(0x1dc))[_0x2da424(0x1a3)]({'coin':_0x284083[_0x2da424(0x21e)]})[_0x2da424(0x161)]();!_0x467d71&&await initCoinResults();_0x284083[_0x2da424(0x1f6)]&&(_0x2c738b={'filled':_0x284083['filled']*_0x284083[_0x2da424(0x1f9)],'amount':_0x284083[_0x2da424(0x22b)]*_0x284083[_0x2da424(0x1f9)],'side':_0x284083[_0x2da424(0x144)]==_0x2da424(0x1f5)?'buy':_0x2da424(0x1f5),'price':0x1/_0x284083['price']},_0x284083={..._0x284083,..._0x2c738b});_0xf8a062?_0x2490dc=_0x284083[_0x2da424(0x144)]==_0x2da424(0x240)?_0x467d71[_0x2da424(0x1ee)]+_0x284083[_0x2da424(0x22b)]:_0x467d71['number']-_0x284083[_0x2da424(0x22b)]:_0x2490dc=await getCoinNumber(_0x284083[_0x2da424(0x21e)]);if(_0x284083[_0x2da424(0x17a)]&&_0x284083[_0x2da424(0x17a)]['currency']==config['basecoin'])_0xc04d0d=_0x284083[_0x2da424(0x17a)][_0x2da424(0x1cb)];else{if(_0x284083['fee']&&_0x284083['fee'][_0x2da424(0x1d6)]==_0x2da424(0xdd)&&!_0xf8a062)_0xc04d0d=_0x284083[_0x2da424(0x17a)][_0x2da424(0x1cb)]*global['ticker']['BNB'+config[_0x2da424(0x1f0)]];else _0xc04d0d=defaultFee*_0x284083[_0x2da424(0x22b)]*_0x284083[_0x2da424(0x1f9)];}_0x284083['side']=='buy'?(_0x458b48=_0x2490dc!=0x0?(_0x467d71[_0x2da424(0x1af)]*_0x467d71['number']+_0x284083['price']*(_0x2490dc-_0x467d71['number'])+_0xc04d0d)/_0x2490dc:0x0,_0x29e066=_0x467d71[_0x2da424(0x195)]):(_0x458b48=_0x2490dc!=0x0?(_0x467d71[_0x2da424(0x1af)]*_0x467d71['number']-_0x284083[_0x2da424(0x1f9)]*(_0x467d71['number']-_0x2490dc)+_0xc04d0d)/_0x2490dc:0x0,_0x29e066=_0x467d71[_0x2da424(0x195)]+(_0x284083[_0x2da424(0x1f9)]-_0x467d71['breakeven'])*_0x284083[_0x2da424(0x22b)]);_0x519b44=(_0x284083[_0x2da424(0x1f9)]-_0x458b48-_0xc04d0d/_0x284083['filled'])*_0x2490dc;let _0x1cd6ea={'coin':_0x284083[_0x2da424(0x21e)],'number':_0x2490dc,'breakeven':formatResult(_0x458b48,0x8),'realized':formatResult(_0x29e066,0x8),'unrealized':formatResult(_0x519b44,0x8),'fees':formatResult(_0x467d71[_0x2da424(0x169)]+_0xc04d0d,0x8),'sells':_0x284083[_0x2da424(0x144)]==_0x2da424(0x1f5)?_0x467d71['sells']+0x1:_0x467d71[_0x2da424(0x115)],'buys':_0x284083['side']==_0x2da424(0x240)?_0x467d71['buys']+0x1:_0x467d71[_0x2da424(0x205)]};dbCoinResults[_0x2da424(0x213)](_0x2da424(0x1dc))[_0x2da424(0x1a3)]({'coin':_0x284083[_0x2da424(0x21e)]})[_0x2da424(0x1d7)](_0x1cd6ea)['write']();if(!_0xf8a062){if(_0x284083[_0x2da424(0x17a)]&&_0x284083[_0x2da424(0x17a)]['currency']==_0x2da424(0xdd)){const _0x3d4e88=currentCoins[_0x2da424(0x1a3)](_0x3a8079=>_0x3a8079[_0x2da424(0x21e)]==_0x2da424(0xdd));if(_0x3d4e88){let _0x1503b2=dbCoinResults[_0x2da424(0x213)](_0x2da424(0x1dc))[_0x2da424(0x1a3)]({'coin':_0x2da424(0xdd)})[_0x2da424(0x161)]();_0x1cd6ea={..._0x1503b2,'number':_0x3d4e88[_0x2da424(0x1ee)]},dbCoinResults['get'](_0x2da424(0x1dc))[_0x2da424(0x1a3)]({'coin':_0x2da424(0xdd)})[_0x2da424(0x1d7)](_0x1cd6ea)[_0x2da424(0x180)]();}}}}async function placeOrder(_0xcf16f){const _0x1039bf=_0x5ccaf5,_0x42d809=config[_0x1039bf(0x19c)]==_0x1039bf(0x1d3)?'market':_0x1039bf(0x191);if(lockOrders==ORDERS[_0x1039bf(0xe1)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x1039bf(0x237)],allOrdersPlaced=![],validateOrdersState='initial';let _0x3efb42=![];lastOrders=[];for(const _0x1c6108 of _0xcf16f){let _0x2270ba,_0x417fce,_0x3a3ce2,_0x59cb7e,_0x407d81,_0x2bd673=_0x1c6108[_0x1039bf(0x16b)];try{const _0x253ce6=await exchange[_0x1039bf(0x10a)](_0x2bd673);_0x2270ba=_0x1c6108[_0x1039bf(0x1f6)]?0x1/_0x1c6108[_0x1039bf(0x1fa)]:_0x1c6108['last'],_0x417fce=_0x253ce6['bid'],_0x3a3ce2=_0x253ce6['ask'];_0x1c6108[_0x1039bf(0x1f6)]?(_0x59cb7e=_0x1c6108[_0x1039bf(0x144)]=='buy'?_0x1039bf(0x1f5):'buy',_0x407d81=Math[_0x1039bf(0x1e2)](_0x1c6108[_0x1039bf(0x131)])/_0x2270ba):(_0x59cb7e=_0x1c6108[_0x1039bf(0x144)],_0x407d81=Math[_0x1039bf(0x1e2)](_0x1c6108[_0x1039bf(0x131)]));_0x42d809=='limit'&&(config[_0x1039bf(0x19c)]=='limit-high'&&(_0x2270ba=_0x59cb7e==_0x1039bf(0x240)?_0x417fce:_0x3a3ce2),config[_0x1039bf(0x19c)]=='limit-low'&&(_0x2270ba=_0x59cb7e==_0x1039bf(0x240)?_0x3a3ce2:_0x417fce));_0x407d81=formatResult(_0x407d81,0x8),_0x2270ba=formatResult(_0x2270ba,0x8);const _0x3c0d6f=_0x59cb7e==_0x1039bf(0x1f5)?config[_0x1039bf(0x11e)]?String[_0x1039bf(0x162)]('0x'+config[_0x1039bf(0x11e)])+'\x20':'':config[_0x1039bf(0x1c8)]?String['fromCodePoint']('0x'+config[_0x1039bf(0x1c8)])+'\x20':'',_0x57a46f=_0x42d809==_0x1039bf(0x1d3)?_0x1039bf(0x189):config['ordertype']==_0x1039bf(0xea)?_0x1039bf(0x1f4):_0x1039bf(0x1c2),_0x250c7e=new Date()['getTime']()['toString']()[_0x1039bf(0x1d9)](-0x6)+'-'+Math[_0x1039bf(0xd0)]()[_0x1039bf(0x21a)]()['slice'](-0x6);lastOrders['push']({'customId':_0x250c7e,'symbol':_0x2bd673,'coin':_0x1c6108['coin'],'side':_0x59cb7e,'reverse':_0x1c6108[_0x1039bf(0x1f6)],'filled':0x0});if(_0x42d809==_0x1039bf(0x1d3))logHistory('order',''+_0x3c0d6f+_0x57a46f+_0x1039bf(0x1a1)+_0x2bd673+'\x20'+_0x59cb7e+'\x20#'+formatResult(_0x407d81,0x8)+'\x20@'+formatResult(_0x2270ba,0x8));else logHistory('order',''+_0x3c0d6f+_0x57a46f+_0x1039bf(0x1a1)+_0x2bd673+'\x20'+_0x59cb7e+'\x20#'+formatResult(_0x407d81,0x8)+'\x20@'+formatResult(_0x2270ba,0x8));const _0x177660=await exchange['createOrder'](_0x2bd673,_0x42d809,_0x59cb7e,_0x407d81,_0x2270ba,{'clientOrderId':_0x250c7e}),_0x5bcaed=lastOrders[_0x1039bf(0x119)]-0x1;_0x5bcaed>=0x0&&lastOrders[_0x5bcaed]['customId']==_0x250c7e&&(lastOrders[_0x5bcaed]={...lastOrders[_0x5bcaed],'orderId':_0x177660['id'],'amount':_0x177660[_0x1039bf(0x1de)],'price':_0x177660[_0x1039bf(0x1f9)],'fee':_0x177660[_0x1039bf(0x17a)]});if(config[_0x1039bf(0xd9)]!=0x0){let _0x5e23c8=null;if(cooldownTracker[_0x1039bf(0x119)]==config[_0x1039bf(0xd9)]-0x1)_0x5e23c8=cooldownTracker[_0x1039bf(0x1d8)]();const _0xa07fe8=getTimeStamp();cooldownTracker[_0x1039bf(0x18e)](_0xa07fe8);if(_0x5e23c8){const _0x1170ef=fns[_0x1039bf(0x12a)](new Date(_0xa07fe8),new Date(_0x5e23c8));if(_0x1170ef<cooldownInterval){logHistory(_0x1039bf(0x1ff),'Executed\x20'+config['cooldown']+_0x1039bf(0xcd)+cooldownInterval/0x3c+_0x1039bf(0x166)+cooldownPeriod/(0xe10*0x3e8)+_0x1039bf(0x11c)),coolingDown=!![];break;}}}}catch(_0x298173){if(_0x298173[_0x1039bf(0x21a)]()[_0x1039bf(0x181)](_0x1039bf(0xe7)))lastOrders=lastOrders[_0x1039bf(0x160)](_0x457990=>_0x457990[_0x1039bf(0x16b)]!=_0x2bd673),logHistory(_0x1039bf(0x1ff),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x2bd673),_0x3efb42=!![];else{if(_0x298173[_0x1039bf(0x21a)]()[_0x1039bf(0x181)](_0x1039bf(0x1cf)))lastOrders=lastOrders[_0x1039bf(0x160)](_0x430f47=>_0x430f47[_0x1039bf(0x16b)]!=_0x2bd673),logHistory(_0x1039bf(0x1ff),_0x1039bf(0x1ab)+_0x2bd673),_0x3efb42=!![];else _0x298173[_0x1039bf(0x21a)]()[_0x1039bf(0x181)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0x460994=>_0x460994['symbol']!=_0x2bd673),logHistory(_0x1039bf(0x1ff),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x2bd673),_0x3efb42=!![]):(lastOrders=lastOrders[_0x1039bf(0x160)](_0x3cf94a=>_0x3cf94a['symbol']!=_0x2bd673),await handleError(_0x298173,_0x1039bf(0x1e6),_0x2bd673));}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x1039bf(0x119)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x507c08=config[_0x1039bf(0x19c)]==_0x1039bf(0x1d3)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1c1be8=_0x1039bf;validateOrders(_0x1c1be8(0x116));},_0x507c08);}else unlockOrders();_0x3efb42&&config[_0x1039bf(0x226)]&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1039bf(0x184),_0x1039bf(0x167)));}else{if(coolingDown)!config[_0x1039bf(0x226)]&&logHistory(_0x1039bf(0x1ff),_0x1039bf(0x151));else lockOrders!=ORDERS[_0x1039bf(0xe1)]&&(!config['headless']&&(config[_0x1039bf(0x19c)]==_0x1039bf(0x1d3)?logHistory(_0x1039bf(0x1ff),_0x1039bf(0x16f)):logHistory('error',_0x1039bf(0x14b))));}}function persistOpenOrders(_0x47f232){const _0x26eff9=_0x5ccaf5,_0x52024e={...config,'openOrders':_0x47f232};let _0x254dea=dbConfig['get'](_0x26eff9(0xf4))['find']({'botID':botID})[_0x26eff9(0x161)]();_0x254dea&&dbConfig[_0x26eff9(0x213)](_0x26eff9(0xf4))['find']({'botID':botID})[_0x26eff9(0x1d7)](_0x52024e)['write']();}function restoreOrders(){const _0x18b329=_0x5ccaf5;let _0x56941c;config[_0x18b329(0x148)]&&allOpenOrders[_0x18b329(0xd6)](_0x274468=>{const _0x567461=_0x18b329,_0x5e10b2=config[_0x567461(0x148)][_0x567461(0x1a3)](_0x33a551=>_0x33a551[_0x567461(0x208)]==_0x274468['id']);_0x5e10b2&&(lastOrders[_0x567461(0x18e)](_0x5e10b2),_0x56941c=_0x274468[_0x567461(0x1ec)]);});if(lastOrders[_0x18b329(0x119)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x18b329(0x1d5),allOrdersPlaced=!![];const _0x51970b=new Date()[_0x18b329(0x174)](),_0x228094=config[_0x18b329(0x19c)]==_0x18b329(0x1d3)?validateOrderTimeout*0x3c*0x3e8:config[_0x18b329(0xfa)]*0x3c*0x3e8;if(_0x56941c+_0x228094>_0x51970b){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2d48f5=_0x18b329;validateOrders(_0x2d48f5(0x116));},_0x56941c+_0x228094-_0x51970b);}else validateOrders(_0x18b329(0x116));}}async function sendMetricsTelegram(){const _0x5c3e32=_0x5ccaf5;if(!coinsLoaded){process['send']({'telegrammsg':_0x5c3e32(0x1b4)},_0x343a3e=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x2c23f0='';if(config['showname'])_0x2c23f0=_0x5c3e32(0x196)+config[_0x5c3e32(0x106)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x2c23f0=_0x5c3e32(0x11a)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x136d52=getKPIs(_0x5c3e32(0x1f0)),_0xdb4b6b=getKPIs(_0x5c3e32(0x231),config[_0x5c3e32(0x231)]),_0xa57164=getKPIs('net-basecoin'),_0xcd9e39=getKPIs('net-fiat',config[_0x5c3e32(0x231)]);_0x2c23f0+='<pre>',_0x2c23f0+=_0x136d52['leftTxt']+'\x20:\x20'+_0x136d52[_0x5c3e32(0x161)]+'\x0a',_0x2c23f0+=_0x136d52[_0x5c3e32(0x1fc)]+':\x20'+_0x136d52[_0x5c3e32(0x113)]+'%\x0a',_0x2c23f0+=_0xdb4b6b[_0x5c3e32(0x12d)]+_0x5c3e32(0xe5)+_0xdb4b6b[_0x5c3e32(0x161)]+'\x0a',_0x2c23f0+=_0xdb4b6b['rightTxt']+':\x20'+_0xdb4b6b[_0x5c3e32(0x113)]+'%\x0a',_0x2c23f0+=_0xa57164[_0x5c3e32(0x12d)]+':\x20'+_0xa57164[_0x5c3e32(0x161)]+'\x20('+config[_0x5c3e32(0x1f0)]+')\x0a',_0x2c23f0+=_0xa57164[_0x5c3e32(0x1fc)]+':\x20'+_0xa57164['change']+_0x5c3e32(0x155)+config[_0x5c3e32(0x1f0)]+')\x0a',_0x2c23f0+=_0xcd9e39['leftTxt']+':\x20'+_0xcd9e39[_0x5c3e32(0x161)]+'\x20('+config[_0x5c3e32(0x231)]+')\x0a',_0x2c23f0+=_0xcd9e39[_0x5c3e32(0x1fc)]+':\x20'+_0xcd9e39['change']+_0x5c3e32(0x155)+config['fiat']+')\x0a',_0x2c23f0+='</pre>',process[_0x5c3e32(0x173)]({'telegrammsg':_0x2c23f0},_0x516631=>{});}async function sendPortfolioTelegram(){const _0x1dd74e=_0x5ccaf5;if(!coinsLoaded){process['send']({'telegrammsg':_0x1dd74e(0x1b4)},_0x5c59f4=>{});return;}let _0x29ef83='';if(config[_0x1dd74e(0x138)])_0x29ef83=_0x1dd74e(0x196)+config['botname']+_0x1dd74e(0x230);else _0x29ef83=_0x1dd74e(0x11a)+botID+_0x1dd74e(0x230);_0x29ef83+=_0x1dd74e(0x194),_0x29ef83+='-------------------------------\x0a',_0x29ef83+=_0x1dd74e(0x21d),_0x29ef83+=_0x1dd74e(0x200),currentCoins[_0x1dd74e(0xd6)](_0x3767ed=>{const _0x16cf8b=_0x1dd74e;_0x29ef83+=_0x3767ed[_0x16cf8b(0x21e)][_0x16cf8b(0x1ac)](0x7)+'|\x20'+formatPad(_0x3767ed[_0x16cf8b(0x203)],0x2,0x6)+'|\x20'+formatPad(_0x3767ed[_0x16cf8b(0x1b3)],0x2,0x6)+'|\x20'+formatPad(_0x3767ed['delta']*0x64,0x2,0x6)+'\x0a';}),_0x29ef83+=_0x1dd74e(0x1d0),process[_0x1dd74e(0x173)]({'telegrammsg':_0x29ef83},_0x5d7689=>{});}function formatPad(_0x47f54b,_0x9e7107,_0x17537f){const _0x135b49=_0x5ccaf5,_0x287e83=formatResultString(_0x47f54b,_0x9e7107);return _0x287e83?_0x287e83[_0x135b49(0x1e8)](_0x17537f):''[_0x135b49(0x1e8)](_0x17537f);}function logHistory(_0x455793,_0x21d3ae,_0x7f9359=''){const _0x3e8f62=_0x5ccaf5;let _0x158f00={'time':getTimeStamp(),'type':_0x455793,'event':_0x21d3ae};dbLogs[_0x3e8f62(0x213)]('logs')['push'](_0x158f00)['write']();if(_0x7f9359=='')_0x7f9359=_0x21d3ae;proxyEmit(_0x3e8f62(0x15f),{'log':_0x158f00,'summary':_0x7f9359}),process[_0x3e8f62(0x173)]({'telegram':{..._0x158f00,'botname':config[_0x3e8f62(0x106)],'showname':config[_0x3e8f62(0x138)]}},_0xc9908e=>{}),logger[_0x3e8f62(0x171)](''+_0x158f00[_0x3e8f62(0x15f)]);}function emitHistory(_0x1ae772={}){const _0x262e6f=_0x5ccaf5;Object[_0x262e6f(0x210)](_0x1ae772)[_0x262e6f(0x119)]==0x0&&(_0x1ae772={'type':[_0x262e6f(0x16d),_0x262e6f(0x15f)],'event':'','page':0x1});if(_0x1ae772[_0x262e6f(0x143)][_0x262e6f(0x181)](_0x262e6f(0x15f)))_0x1ae772['type'][_0x262e6f(0x1df)](_0x1ae772['type']['indexOf'](_0x262e6f(0x15f)),0x1,_0x262e6f(0x1ff),_0x262e6f(0x212),_0x262e6f(0x184));if(dbLogs[_0x262e6f(0x12f)]('logs')[_0x262e6f(0x161)]()){let _0x12ae56=dbLogs[_0x262e6f(0x213)](_0x262e6f(0x1b8))[_0x262e6f(0x160)](_0x36a202=>{const _0x46dc03=_0x262e6f;if(_0x1ae772[_0x46dc03(0x143)][_0x46dc03(0x119)]==0x0)return![];else return _0x1ae772[_0x46dc03(0x143)][_0x46dc03(0x181)](_0x36a202[_0x46dc03(0x143)]);})[_0x262e6f(0x160)](_0x320df9=>{const _0x2bc10a=_0x262e6f;if(_0x1ae772[_0x2bc10a(0x15f)]=='')return!![];else return _0x320df9[_0x2bc10a(0x15f)][_0x2bc10a(0x14d)]()[_0x2bc10a(0x181)](_0x1ae772['event'][_0x2bc10a(0x14d)]());})[_0x262e6f(0x1fe)](_0x262e6f(0x14c)),_0x3ef4c9=_0x12ae56[_0x262e6f(0x161)]()[_0x262e6f(0x119)];_0x12ae56=_0x12ae56['reverse']()[_0x262e6f(0x1d9)]((_0x1ae772['page']-0x1)*logPageSize,_0x1ae772[_0x262e6f(0x117)]*logPageSize-0x1)[_0x262e6f(0x1f6)]()[_0x262e6f(0x161)](),proxyEmit(_0x262e6f(0xde),{'logs':_0x12ae56,'total':_0x3ef4c9});}else proxyEmit(_0x262e6f(0xde),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0xd667a8){const _0x438a60=_0x5ccaf5;if(dbLogs[_0x438a60(0x12f)](_0x438a60(0x1b8))['value']()){const _0x29a916=dbLogs[_0x438a60(0x213)](_0x438a60(0x1b8))[_0x438a60(0x1fe)](_0x438a60(0x14c))[_0x438a60(0x160)](_0x30892e=>{const _0x5d53c9=_0x438a60;return _0x30892e['type']==_0x5d53c9(0x16d);})['value']();dbLogs[_0x438a60(0x213)](_0x438a60(0x1b8))[_0x438a60(0x221)]()['write'](),dbLogs['get'](_0x438a60(0x1b8))[_0x438a60(0x1d7)](_0x29a916)['write'](),emitHistory(_0xd667a8);}}async function pauseBot(_0x2b9e7c=''){const _0x194222=_0x5ccaf5,_0x93a28b=new Date()[_0x194222(0x174)]();if(!lastErrorShown||_0x93a28b-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x93a28b;!lastBotPause?(lastBotPause=_0x93a28b,consecutivePauses=0x1):(_0x93a28b-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0x194222(0xe2)},_0x3ae64e=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x194222(0x174)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x2b9e7c)_0x2b9e7c+=_0x194222(0x1d1);logHistory(_0x194222(0x1ff),_0x2b9e7c+_0x194222(0x146)+pauseBotInterval/0xea60+_0x194222(0x1fd)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x504c40=_0x5ccaf5;process[_0x504c40(0x173)]({'stop':_0x504c40(0x1dd)},_0x18943b=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x248f58,_0x2e7e5f){const _0x59d0a5=_0x5ccaf5;if(_0x248f58[_0x59d0a5(0x21a)]()[_0x59d0a5(0x181)]('API-key\x20format\x20invalid'))return logHistory(_0x59d0a5(0x1ff),config[_0x59d0a5(0x129)]+_0x59d0a5(0x1c3)),![];else{if(_0x248f58['toString']()[_0x59d0a5(0x181)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x59d0a5(0x1ff),config[_0x59d0a5(0x129)]+_0x59d0a5(0xed)),![];else{if(_0x248f58['toString']()[_0x59d0a5(0x181)](_0x59d0a5(0x23d)))return logHistory(_0x59d0a5(0x1ff),config[_0x59d0a5(0x129)]+_0x59d0a5(0x122)),logHistory(_0x59d0a5(0x1ff),_0x59d0a5(0xd1)),![];else await handleError(_0x248f58,_0x2e7e5f);}}}async function handleError(_0x26b4d2,_0x46c869,_0x3b0ee0=''){const _0x448cfe=_0x5ccaf5,_0x5e53d6=config[_0x448cfe(0x129)]||_0x448cfe(0xf2);if(_0x26b4d2[_0x448cfe(0x21a)]()['includes'](_0x448cfe(0x1d4)))await pauseBot(config['exchange']+_0x448cfe(0x199));else{if(_0x26b4d2['toString']()[_0x448cfe(0x181)](_0x448cfe(0x134)))await pauseBot(config[_0x448cfe(0x129)]+_0x448cfe(0x1a6));else{if(_0x26b4d2['toString']()[_0x448cfe(0x181)]('RequestTimeout'))await pauseBot(config['exchange']+'\x20not\x20responding');else{if(_0x26b4d2[_0x448cfe(0x21a)]()[_0x448cfe(0x181)](_0x448cfe(0x140)))await pauseBot(config[_0x448cfe(0x129)]+_0x448cfe(0x1a0));else{if(_0x26b4d2['toString']()[_0x448cfe(0x181)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x448cfe(0x1ff),_0x46c869+_0x448cfe(0x136)),logHistory(_0x448cfe(0x1ff),_0x448cfe(0xe3)),await killBot();else{if(_0x26b4d2[_0x448cfe(0x21a)]()[_0x448cfe(0x181)](_0x448cfe(0xeb)))logHistory(_0x448cfe(0x1ff),_0x46c869+_0x448cfe(0x1a7)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x26b4d2[_0x448cfe(0x21a)]()[_0x448cfe(0x181)]('API-key\x20format\x20invalid'))logHistory(_0x448cfe(0x1ff),_0x46c869+_0x448cfe(0x1d1)+config['exchange']+_0x448cfe(0x1fb)),logHistory(_0x448cfe(0x1ff),_0x448cfe(0xe3)),await killBot();else{if(_0x26b4d2[_0x448cfe(0x21a)]()['includes'](_0x448cfe(0x1f1)))logHistory(_0x448cfe(0x1ff),_0x46c869+_0x448cfe(0x1d1)+config[_0x448cfe(0x129)]+_0x448cfe(0x1b6)),logHistory(_0x448cfe(0x1ff),_0x448cfe(0xe3)),await killBot();else{if(_0x26b4d2[_0x448cfe(0x21a)]()[_0x448cfe(0x181)]('AuthenticationError'))logHistory('error',_0x46c869+_0x448cfe(0x1d1)+config[_0x448cfe(0x129)]+_0x448cfe(0x1ad)),logHistory('error',_0x448cfe(0xe3)),await killBot();else _0x26b4d2[_0x448cfe(0x21a)]()[_0x448cfe(0x181)](_0x448cfe(0x22e))?logHistory(_0x448cfe(0x1ff),_0x46c869+_0x448cfe(0x216)+_0x3b0ee0):(logger['full'](_0x46c869+'\x20|\x20Error\x20details:\x20',_0x26b4d2),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}}function formatResult(_0x5afffe,_0x1c36ae){const _0x2f9f38=_0x5ccaf5;return parseFloat(_0x5afffe[_0x2f9f38(0x1e0)](_0x1c36ae));}function formatResultTruncate(_0x20d9f0,_0x974ecc){const _0x588a04=_0x5ccaf5;let _0x43be21=formatResultString(_0x20d9f0,0xa),_0x4477ac=_0x43be21[_0x588a04(0x23f)]('.');return _0x4477ac!=-0x1&&(_0x43be21=_0x43be21[_0x588a04(0x1d9)](0x0,_0x4477ac+_0x974ecc+0x1)),Number(_0x43be21);}function formatResultString(_0x2151d7,_0x151552){const _0x34589e=_0x5ccaf5;let _0x2bb7a5;if(!(''+_0x2151d7)[_0x34589e(0x181)]('e'))_0x2bb7a5=+(Math[_0x34589e(0x176)](_0x2151d7+'e+'+_0x151552)+'e-'+_0x151552);else{let _0x338892=(''+_0x2151d7)[_0x34589e(0x17d)]('e'),_0x4f7590='';+_0x338892[0x1]+_0x151552>0x0&&(_0x4f7590='+'),_0x2bb7a5=+(Math['round'](+_0x338892[0x0]+'e'+_0x4f7590+(+_0x338892[0x1]+_0x151552))+'e-'+_0x151552);}return Number(_0x2bb7a5)[_0x34589e(0x1e0)](_0x151552);}function getServerTime(){const _0x868d81=_0x5ccaf5,_0x20b483=new Date();return _0x20b483[_0x868d81(0x177)]()+'/'+(_0x20b483['getMonth']()+0x1)[_0x868d81(0x21a)]()[_0x868d81(0x1e8)](0x2,'0')+'/'+_0x20b483[_0x868d81(0xfe)]()[_0x868d81(0x21a)]()[_0x868d81(0x1e8)](0x2,'0')+'\x20'+_0x20b483['getHours']()[_0x868d81(0x21a)]()[_0x868d81(0x1e8)](0x2,'0')+':'+_0x20b483[_0x868d81(0x13b)]()[_0x868d81(0x21a)]()['padStart'](0x2,'0')+':'+_0x20b483[_0x868d81(0x1b2)]()[_0x868d81(0x21a)]()[_0x868d81(0x1e8)](0x2,'0');}function _0xe9a9(){const _0x1b7cd6=['isEqual','progress','event','filter','value','fromCodePoint','watchTransactions','./config/','liquidity','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','initclient','fees','datetime','symbol','argv','order','ORDERS.UNLOCKING','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','apiSecret','full','loading-canceled','send','getTime','1045cQcysW','round','getFullYear','exec','date','fee','Bot\x20','Net\x20','split','bots','BUSD','write','includes','Binance','USDT','success','log','bb-settings.json','onepagemode','amountToPrecision','Market','cancelOrder','lowdb/adapters/FileSync','parse','sendMetricsTelegram','push','lowdb','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','limit','1362NXNUib','symbols','<pre>','realized','<b>','none','total','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','initial','net-basecoin','ordertype','netoffset','Executing\x20exchange\x20reload','remainingSymbols','\x20closed\x20the\x20connection','\x20order:\x20','add','find','166996udsVRn','-config.json','\x20not\x20available','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','decrypt','uncaughtException','1\x20-\x20Unlock\x20orders','Order\x20amount\x20is\x20invalid:\x20','padEnd','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange',',\x20must\x20be\x20a\x203\x20digit\x20number','breakeven','added','ccxt','getSeconds','target','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','date-fns','\x20API\x20secret\x20is\x20invalid','Unfilled\x20order(s)\x20canceled\x20after\x20','logs','balances','RSA-OAEP','mkdirSync','canceled','fetchOpenOrders','change24h','starting-balance-','privateKey','join','Limit\x20(low-margin)','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','UNLOCKING','orderstatus','limits','yargs/yargs','emojibuy','-performance.json','getHours','cost','no\x20additional\x20symbols','************','concat','Invalid\x20quantity','</pre>','\x20|\x20','fetchBalance','market','DDoSProtection','ongoing','currency','assign','shift','slice','emitHistory','/USD','coins','kill','amount','splice','toFixed','removed','abs','Fee\x20discount\x20refund\x20detected:\x20','createOrder','sha256','placeOrder()','NANO/','padStart','Crypt','2\x20-\x20FILLED\x20known\x20order:\x20','getPortfolio(0)','timestamp','constructor','number','Saving\x20configuration','basecoin','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','/EUR','stringify','Limit\x20(high-margin)','sell','reverse','findIndex','apiPassword','price','last','\x20API\x20key\x20is\x20invalid','rightTxt','\x20minutes','sortBy','error','-------------------------------\x0a','secure','resetHistory','distribution','unlinkSync','buys','3\x20-\x20handling\x20FILLED\x20order:\x20','util','orderId','set','yyyy/MM/dd','toUpperCase','/output-000.log','ORDERS.UNLOCKED','Net\x20effect','sort','keys','customId','warning','get','***','average','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','simple','15213CaAryo','timeshift','toString','existsSync','usd','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','coin','debug','USD','remove','closed','format','clientOrderId','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','headless','EUR','2\x20-\x20Handled\x20open\x20orders','HOT/BTC','ETH','filled','storeFiat','startnumber','InsufficientFunds','1076012OKZGLp','\x20portfolio:</b>\x20\x0a\x0a','fiat','startdate','parseISO','startsWith','changes','starting-balances','LOCKED','210216skJfsK','Invalid\x20API\x20key\x20or\x20secret\x20entered','\x20|\x20highest:\x20','/backup/','performance','AuthenticationError','BNB/','indexOf','buy','getMonth','\x20orders\x20in\x20less\x20than\x20','eur','getCoinNumber()','random','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Manual\x20balancing\x20required','enabled','watchOrders','milliseconds','forEach','configuration-stored','\x20minutes\x20-\x20','cooldown','fetchClosedOrders','getCoins()','recreateCoinResults()','BNB','event-history','percentage','settings','UNLOCKED','restart','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','configuration','\x20:\x20','\x20>\x20[DEBUG]\x20','MIN_NOTIONAL','excluded','message','limit-high','InvalidNonce','Resetting\x20bot\x20history','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','ticker','apiKey','watchTrades','ORDERS.LOCKED','Exchange','search','bot','1\x20-\x20Handle\x20open\x20orders','Reset\x20|\x20','Transaction\x20detection\x20blocked','string','max','timeout','recovery','1\x20-\x20Validate\x20orders:\x20','\x20>\x20','getDate','fetchTickers','-results.json','824856yfrwjO','additional\x20symbols\x20','defaults','net-fiat','loadMarkets','botname','open','./logs/','offset','fetchTicker','timer:','threshold','Fees\x20|\x20currency:\x20','bot-','portfolio','-events.json','function','recent20','change','4588776mpRrVH','sells','final','page','password','length','<b>Bot\x20','exchange\x20not\x20reloaded','\x20hour','highest','emojisell','4rsYari','./version.json','test','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','cancelLoading','args','no\x20open\x20orders','2.3.5','coin-loading-progress','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','exchange','differenceInSeconds','2.5.0','Transaction\x20detection\x20unblocked','leftTxt','No\x20more\x20open\x20orders\x20-\x20','has','XEM/BUSD','trade','apply','replace','ExchangeNotAvailable','data','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','DAI/','showname','\x20|\x20lock\x20orders:\x20','cancel','getMinutes','pro','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','min','version','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','createWriteStream','valid','type','side','cloneDeep','Pausing\x20for\x20','status','openOrders',':\x20Bot\x20','2\x20-\x20Orders\x20unlocked','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','time','toLowerCase','bb-secure.json','(((.+)+)+)+$','BTC','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','exchanges','Initiating\x20exchange\x20reload','entries','%\x20(','delta','startprice','close','running','Error\x20while\x20deleting\x20files:\x20','substring','getPortfolio(2)'];_0xe9a9=function(){return _0x1b7cd6;};return _0xe9a9();}function getTimeStamp(){const _0x1c611b=_0x5ccaf5,_0x5cb6c7=shiftedTime();return _0x5cb6c7[_0x1c611b(0x177)]()+'/'+(_0x5cb6c7[_0x1c611b(0xcc)]()+0x1)[_0x1c611b(0x21a)]()[_0x1c611b(0x1e8)](0x2,'0')+'/'+_0x5cb6c7[_0x1c611b(0xfe)]()[_0x1c611b(0x21a)]()[_0x1c611b(0x1e8)](0x2,'0')+'\x20'+_0x5cb6c7[_0x1c611b(0x1ca)]()[_0x1c611b(0x21a)]()[_0x1c611b(0x1e8)](0x2,'0')+':'+_0x5cb6c7[_0x1c611b(0x13b)]()[_0x1c611b(0x21a)]()[_0x1c611b(0x1e8)](0x2,'0')+':'+_0x5cb6c7['getSeconds']()[_0x1c611b(0x21a)]()[_0x1c611b(0x1e8)](0x2,'0');}function getDate(){const _0x29fc61=_0x5ccaf5,_0x486310=shiftedTime();return _0x486310[_0x29fc61(0x177)]()+'/'+(_0x486310[_0x29fc61(0xcc)]()+0x1)[_0x29fc61(0x21a)]()[_0x29fc61(0x1e8)](0x2,'0')+'/'+_0x486310['getDate']()[_0x29fc61(0x21a)]()[_0x29fc61(0x1e8)](0x2,'0');}function getHour(){const _0x43f87f=_0x5ccaf5,_0x38db14=shiftedTime();return _0x38db14[_0x43f87f(0x1ca)]()[_0x43f87f(0x21a)]()[_0x43f87f(0x1e8)](0x2,'0');}function sleep(_0x233c21){return new Promise(_0x4a8a5f=>setTimeout(_0x4a8a5f,_0x233c21));}function shiftedTime(){const _0x393e32=_0x5ccaf5,_0x4e6b8d=new Date();let _0x2cf8b7=_0x4e6b8d;if(config&&config['timeshift']!==0x0)_0x2cf8b7=fns[_0x393e32(0x1a2)](_0x4e6b8d,{'hours':config['timeshift']});return _0x2cf8b7;}function timer(_0x8b36b2){const _0x12b061=_0x5ccaf5,_0x1b223b=new Date();!lasttime?console['log'](_0x12b061(0x10b),_0x8b36b2,_0x1b223b):console['log'](_0x12b061(0x10b),_0x8b36b2,(_0x1b223b-lasttime)/0x3e8),lasttime=_0x1b223b;}