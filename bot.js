const _0x3fea31=_0x5264;(function(_0x513749,_0x252bdf){const _0x5c27ca=_0x5264,_0x5782f6=_0x513749();while(!![]){try{const _0x176ff8=-parseInt(_0x5c27ca(0x276))/0x1+-parseInt(_0x5c27ca(0x248))/0x2+-parseInt(_0x5c27ca(0x1b0))/0x3*(parseInt(_0x5c27ca(0x2b0))/0x4)+-parseInt(_0x5c27ca(0x155))/0x5*(-parseInt(_0x5c27ca(0x2ad))/0x6)+parseInt(_0x5c27ca(0x18d))/0x7+-parseInt(_0x5c27ca(0x222))/0x8*(-parseInt(_0x5c27ca(0x1ef))/0x9)+-parseInt(_0x5c27ca(0x202))/0xa;if(_0x176ff8===_0x252bdf)break;else _0x5782f6['push'](_0x5782f6['shift']());}catch(_0x81758c){_0x5782f6['push'](_0x5782f6['shift']());}}}(_0x3669,0xaaef6));const _0x564aba=function(){let _0x531b29=!![];return function(_0x19b0df,_0x538a18){const _0x595f6e=_0x531b29?function(){const _0x569019=_0x5264;if(_0x538a18){const _0x593e77=_0x538a18[_0x569019(0x228)](_0x19b0df,arguments);return _0x538a18=null,_0x593e77;}}:function(){};return _0x531b29=![],_0x595f6e;};}(),_0x4c11f2=_0x564aba(this,function(){const _0x860685=_0x5264;return _0x4c11f2[_0x860685(0x156)]()[_0x860685(0x2a6)]('(((.+)+)+)+$')[_0x860685(0x156)]()[_0x860685(0x1b3)](_0x4c11f2)['search'](_0x860685(0x27d));});_0x4c11f2();'use strict';const ccxt=require(_0x3fea31(0x1fc))[_0x3fea31(0x1a3)],low=require('lowdb'),FileSync=require(_0x3fea31(0x1ad)),fs=require('fs'),fns=require(_0x3fea31(0x2c1)),Crypt=require(_0x3fea31(0x294))[_0x3fea31(0x1ca)],util=require(_0x3fea31(0x16c)),argv=require(_0x3fea31(0x252))(process['argv'][_0x3fea31(0x255)](0x2))[_0x3fea31(0x16b)],path=require(_0x3fea31(0x297));let exchange;global[_0x3fea31(0x181)]={},global[_0x3fea31(0x23d)]={};const exceptions={'binance':[_0x3fea31(0x296),'HOT/BTC',_0x3fea31(0x236),'NANO/','YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x3fea31(0x2bf)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x3fea31(0x1f6)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')['version'],botID=process['argv'][0x2]||_0x3fea31(0x19a),pattern=/^[0-9]{3}$/;!pattern[_0x3fea31(0x1bb)](botID)&&(console[_0x3fea31(0x233)](_0x3fea31(0x299)+botID+_0x3fea31(0x2b1)),killBot());const userID=process[_0x3fea31(0x16b)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x3fea31(0x179),logspath=userID?_0x3fea31(0x23f)+userID+'/':'./logs/',loggerfile=fs[_0x3fea31(0x212)](logspath+_0x3fea31(0x2c5),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x3fea31(0x211)](configpath);!fs[_0x3fea31(0x226)](logspath)&&fs[_0x3fea31(0x211)](logspath);const configfile=configpath+_0x3fea31(0x2a9)+botID+'-config.json',logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+_0x3fea31(0x2a9)+botID+_0x3fea31(0x2c9),coinresultsfile=configpath+_0x3fea31(0x2a9)+botID+'-results.json',settingsfile=configpath+_0x3fea31(0x25e),securefile=configpath+_0x3fea31(0x216),configbackuppath=configpath+_0x3fea31(0x1c2),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3fea31(0x1f3)]({'logs':[],'version':serverversion})[_0x3fea31(0x1f9)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x3fea31(0x1f9)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3fea31(0x1f3)]({'coins':[],'version':serverversion})[_0x3fea31(0x1f9)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x3fea31(0x20a)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x832072=>{const _0x285308=_0x3fea31;console[_0x285308(0x233)](_0x832072);},'simple':_0x174d96=>{const _0x7c55a9=_0x3fea31;console[_0x7c55a9(0x233)](_0x174d96),loggerfile[_0x7c55a9(0x1f9)](util[_0x7c55a9(0x2b4)](_0x174d96)+'\x0a');},'full':async(_0x4d4c64,_0x2575cd='')=>{const _0x454e91=_0x3fea31;let _0x32792c;if(config['showname'])_0x32792c=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x4d4c64;else _0x32792c=getTimeStamp()+':\x20Bot\x20'+botID+_0x454e91(0x24e)+_0x4d4c64;console['log'](_0x32792c),loggerfile['write'](util[_0x454e91(0x2b4)](_0x32792c)+'\x0a'),_0x2575cd&&(console['log'](_0x2575cd),loggerfile['write'](util[_0x454e91(0x2b4)](_0x2575cd)+'\x0a'));},'debug':async(_0x2e13ab,_0x1c4495='')=>{const _0xdb3945=_0x3fea31;let _0x1a2b43;if(config[_0xdb3945(0x2c7)])_0x1a2b43=getTimeStamp()+':\x20'+config[_0xdb3945(0x21e)]+'\x20>\x20[DEBUG]\x20'+_0x2e13ab;else _0x1a2b43=getTimeStamp()+':\x20Bot\x20'+botID+_0xdb3945(0x1e7)+_0x2e13ab;if(debugging)console[_0xdb3945(0x233)](_0x1a2b43);loggerfile[_0xdb3945(0x1f9)](util['format'](_0x1a2b43)+'\x0a');if(_0x1c4495){if(debugging)console[_0xdb3945(0x233)](_0x1c4495);loggerfile[_0xdb3945(0x1f9)](util[_0xdb3945(0x2b4)](_0x1c4495)+'\x0a');}}};process['on'](_0x3fea31(0x28c),function(_0x4b8909){const _0x224b54=_0x3fea31;logger[_0x224b54(0x15f)](_0x4b8909);});settings[_0x3fea31(0x1f4)]!=config['timeshift']&&updateTimeshift(settings[_0x3fea31(0x1f4)]);settings[_0x3fea31(0x268)]!=config[_0x3fea31(0x268)]&&updateOnepagemode(settings[_0x3fea31(0x268)]);process[_0x3fea31(0x17d)]({'started':'running'},_0x553324=>{}),initializeProcessListeners();function proxyEmit(_0x4981a2,_0x3f7ca7=null){const _0x4b37c0=_0x3fea31;process[_0x4b37c0(0x17d)]({'function':_0x4981a2,'args':_0x3f7ca7},_0x186c6c=>{});}function initializeProcessListeners(){process['on']('message',_0x5177aa=>{const _0x1d90bf=_0x5264;switch(Object[_0x1d90bf(0x1b6)](_0x5177aa)[0x0]){case _0x1d90bf(0x1f4):_0x5177aa['timeshift']!=undefined&&(settings[_0x1d90bf(0x1f4)]=_0x5177aa[_0x1d90bf(0x1f4)],updateTimeshift(settings[_0x1d90bf(0x1f4)]));break;case'onepagemode':_0x5177aa[_0x1d90bf(0x268)]!=undefined&&(settings[_0x1d90bf(0x268)]=_0x5177aa[_0x1d90bf(0x268)],updateOnepagemode(settings[_0x1d90bf(0x268)]));break;case _0x1d90bf(0x244):_0x5177aa[_0x1d90bf(0x244)]!=undefined&&(bots=JSON[_0x1d90bf(0x185)](_0x5177aa[_0x1d90bf(0x244)]),proxyEmit(_0x1d90bf(0x244),bots));break;case'function':switch(_0x5177aa['function']){case _0x1d90bf(0x253):initclient();break;case'toggleBotMode':toggleBotMode();break;case'emitHistory':emitHistory(_0x5177aa['args']);break;case _0x1d90bf(0x22e):deleteHistoryAlerts(_0x5177aa[_0x1d90bf(0x190)]);break;case _0x1d90bf(0x246):getPortfolio(_0x5177aa[_0x1d90bf(0x190)]);break;case'storeConfiguration':storeConfiguration(_0x5177aa[_0x1d90bf(0x190)]);break;case _0x1d90bf(0x1b7):storeHeadless(_0x5177aa['args']);break;case _0x1d90bf(0x1ea):storeFiat(_0x5177aa['args']);break;case _0x1d90bf(0x29b):resetHistory();break;case _0x1d90bf(0x2ce):getStartingBalances(getNormalizedPerformance());break;case _0x1d90bf(0x1ae):placeOrder(_0x5177aa[_0x1d90bf(0x190)]);break;case'cancelLoading':cancelLoading();break;case _0x1d90bf(0x1d7):showConfig();break;case _0x1d90bf(0x223):sendMetricsTelegram();break;case _0x1d90bf(0x152):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x386c33=null,_0x558365=![]){const _0x242076=_0x3fea31;logger[_0x242076(0x16a)](_0x242076(0x25a)+(_0x386c33&&_0x386c33[_0x242076(0x1b1)]>0x0?_0x242076(0x290)+_0x386c33[_0x242076(0x232)](','):_0x242076(0x1c9))+'\x20|\x20'+(_0x558365?_0x242076(0x191):_0x242076(0x158)));if(pidBalances)clearTimeout(pidBalances);if(!_0x558365)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x242076(0x192)]!=''&&config['apiKey']!='***'){if(_0x558365){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x5cd7dc){if(_0x5cd7dc[_0x242076(0x156)]()['includes'](_0x242076(0x29f))){handleErrorNoStop(_0x5cd7dc,'loadSymbols()');return;}else{handleError(_0x5cd7dc,_0x242076(0x27a));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x386c33);const _0x13057f=await getCoins();[currentCoins,currentCoinsAll]=_0x13057f,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x242076(0x1b1)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x1e15bf=_0x3fea31;exchangeStopped=!![],await exchange[_0x1e15bf(0x1a7)]();}async function reloadExchange(){const _0x18dc07=_0x3fea31;logger[_0x18dc07(0x16a)](_0x18dc07(0x208));while(lockOrders!=ORDERS[_0x18dc07(0x1f6)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x18dc07(0x16a)](_0x18dc07(0x231)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x4a82f2=config[_0x3fea31(0x1fb)],_0x84d14b=config[_0x3fea31(0x192)],_0x4aa84f=config['apiSecret']){const _0x809f08=_0x3fea31;exchange&&await stopExchange();!supportedExchanges()[_0x809f08(0x29c)](_0x4a82f2)&&(logHistory('error','Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x4a82f2+_0x809f08(0x235)),killBot());const _0x46da96=ccxt[_0x4a82f2[_0x809f08(0x275)]()];exchange=new _0x46da96({'apiKey':_0x84d14b,'secret':_0x4aa84f,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x728295=_0x3fea31;let _0x2c79c1=config[_0x728295(0x1dc)]==_0x728295(0x24f)?'ETH':_0x728295(0x17a),_0x76d5ca=!allSymbols[_0x728295(0x29c)](_0x2c79c1+_0x728295(0x1ed))?_0x728295(0x1bc):_0x728295(0x1da),_0x282756=!allSymbols[_0x728295(0x29c)](_0x2c79c1+_0x728295(0x1a2))?_0x76d5ca:_0x728295(0x150);stablecoins={'eur':{'coin':''+_0x2c79c1+_0x282756,'symbol':_0x2c79c1+'/'+_0x282756},'usd':{'coin':''+_0x2c79c1+_0x76d5ca,'symbol':_0x2c79c1+'/'+_0x76d5ca}};}async function initwsCcxt(_0x1f17f5){const _0x38df59=_0x3fea31;_0x1f17f5==null&&(_0x1f17f5=[],config[_0x38df59(0x254)][_0x38df59(0x25b)](_0x3faae4=>{const _0x220bcf=_0x38df59;if(!_0x3faae4['excluded']&&_0x3faae4['coin']!=config['basecoin'])_0x1f17f5['push'](_0x3faae4[_0x220bcf(0x1ce)]);}));if(!_0x1f17f5[_0x38df59(0x29c)](stablecoins[_0x38df59(0x245)][_0x38df59(0x1ce)]))_0x1f17f5[_0x38df59(0x2b9)](stablecoins[_0x38df59(0x245)][_0x38df59(0x1ce)]);if(!_0x1f17f5[_0x38df59(0x29c)](stablecoins[_0x38df59(0x214)][_0x38df59(0x1ce)]))_0x1f17f5[_0x38df59(0x2b9)](stablecoins[_0x38df59(0x214)][_0x38df59(0x1ce)]);if(!_0x1f17f5['includes'](_0x38df59(0x1c4)+config[_0x38df59(0x1dc)]))_0x1f17f5[_0x38df59(0x2b9)](_0x38df59(0x1c4)+config[_0x38df59(0x1dc)]);loadCoins(_0x1f17f5);const _0x38ce83=async _0x1658df=>{const _0x53c305=_0x38df59,_0x3ac08d=await exchange[_0x53c305(0x186)](_0x1658df);global[_0x53c305(0x181)][noslash(_0x3ac08d[_0x53c305(0x1ce)])]=_0x3ac08d[_0x53c305(0x193)];while(!![]){if(!botPaused)try{const _0x513817=await exchange[_0x53c305(0x292)](_0x1658df);global[_0x53c305(0x181)][noslash(_0x513817[0x0][_0x53c305(0x1ce)])]=_0x513817[0x0][_0x53c305(0x206)],await sleep(0x3e8);}catch(_0x27def7){if(!exchangeStopped)await handleError(_0x27def7,_0x53c305(0x292),_0x1658df);}else await sleep(0x3e8);}},_0x567765=async _0x6a6f17=>{const _0x56ba76=_0x38df59;while(!![]){if(!botPaused)try{const _0xe1f49a=await exchange[_0x56ba76(0x186)](_0x6a6f17);global[_0x56ba76(0x23d)][_0xe1f49a['symbol']]=_0xe1f49a['percentage'],await sleep(0x3c*0x3e8);}catch(_0xdeb310){if(!exchangeStopped)await handleError(_0xdeb310,_0x56ba76(0x159),_0x6a6f17);}else await sleep(0x3e8);}},_0x51f02b=async()=>{const _0x5d220d=_0x38df59;while(!![]){if(!botPaused)try{const _0x5cecee=await exchange[_0x5d220d(0x1f1)]();_0x5cecee['forEach'](_0x49c281=>{updateNumberCoinsCcxt(_0x49c281);});}catch(_0x5226a1){if(!exchangeStopped)await handleError(_0x5226a1,_0x5d220d(0x1f1));}else await sleep(0x3e8);}};_0x1f17f5[_0x38df59(0x25b)](async _0x290161=>{_0x38ce83(_0x290161),_0x567765(_0x290161);}),!wsEventsSet&&(wsEventsSet=!![],_0x51f02b(),watchTransactions());}async function watchTransactions(){const _0x18c91e=_0x3fea31;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x25acef=await getCoins(),[_0x17e160,_0x1e747c]=_0x25acef;let _0x25ac9a=[];currentCoins['forEach'](_0x539e55=>{const _0x39a64c=_0x5264,_0x5e155f=_0x17e160['find'](_0x4fa63c=>_0x4fa63c[_0x39a64c(0x1c6)]==_0x539e55[_0x39a64c(0x1c6)]);_0x5e155f&&(_0x539e55['number']!=_0x5e155f[_0x39a64c(0x205)]&&_0x25ac9a['push']({'coin':_0x539e55[_0x39a64c(0x1c6)],'symbol':_0x539e55[_0x39a64c(0x1ce)],'number':Number(formatResult(_0x5e155f['number']-_0x539e55[_0x39a64c(0x205)],0x8))}));});if(_0x25ac9a['length']==0x1&&!blockTransactionDetection){logger[_0x18c91e(0x16a)](_0x18c91e(0x1af)+lastFees[_0x18c91e(0x237)]+_0x18c91e(0x1a6)+lastFees[_0x18c91e(0x295)]);if(!lastFees[_0x18c91e(0x237)]||_0x25ac9a[0x0][_0x18c91e(0x1c6)]!=lastFees[_0x18c91e(0x237)]||_0x25ac9a[0x0][_0x18c91e(0x205)]>lastFees[_0x18c91e(0x295)]){let _0x5b6afe;if(_0x25ac9a[0x0][_0x18c91e(0x1c6)]!=config[_0x18c91e(0x1dc)]){let _0x336ec5=global[_0x18c91e(0x181)][noslash(_0x25ac9a[0x0][_0x18c91e(0x1ce)])];_0x5b6afe=_0x25ac9a[0x0][_0x18c91e(0x25f)]?0x1/_0x336ec5:_0x336ec5;}else _0x5b6afe=0x1;_0x25ac9a[0x0][_0x18c91e(0x206)]=_0x5b6afe,delete _0x25ac9a[0x0][_0x18c91e(0x1ce)];let _0x4769d7=[],_0x330156=[...config[_0x18c91e(0x2ae)]]||[],_0x5c8287=config[_0x18c91e(0x2ae)];_0x330156[_0x18c91e(0x167)]((_0x23f236,_0x6c00eb)=>_0x23f236[_0x18c91e(0x242)]>_0x6c00eb[_0x18c91e(0x242)]?-0x1:_0x6c00eb[_0x18c91e(0x242)]>_0x23f236['date']?0x1:0x0);const _0x2b92e0=getDate();if(_0x330156[0x0]){const _0x23e9a9=fns['parse'](_0x330156[0x0]['date'],_0x18c91e(0x16f),new Date()),_0x1d940d=fns[_0x18c91e(0x185)](_0x2b92e0,_0x18c91e(0x16f),new Date());if(fns[_0x18c91e(0x1e6)](_0x23e9a9,_0x1d940d)){_0x4769d7=_0x330156[0x0]['changes'];const _0x56015d=_0x4769d7[_0x18c91e(0x1a0)](_0x1b1a9b=>_0x1b1a9b[_0x18c91e(0x1c6)]==_0x25ac9a[0x0][_0x18c91e(0x1c6)]);_0x56015d?(_0x56015d['number']+=_0x25ac9a[0x0]['number'],_0x56015d[_0x18c91e(0x205)]==0x0&&(_0x4769d7=_0x4769d7[_0x18c91e(0x224)](_0x12d0a6=>{const _0x43f8b6=_0x18c91e;return _0x12d0a6[_0x43f8b6(0x1c6)]!=_0x25ac9a[0x0][_0x43f8b6(0x1c6)];}))):_0x4769d7['push'](_0x25ac9a[0x0]);const _0x2cae7b=_0x5c8287[_0x18c91e(0x1a0)](_0x331594=>_0x331594['date']==_0x2b92e0);_0x2cae7b[_0x18c91e(0x1cf)]=_0x4769d7;}else _0x5c8287[_0x18c91e(0x2b9)]({'date':_0x2b92e0,'changes':[_0x25ac9a[0x0]]});}const _0x4b3028=_0x5c8287[_0x18c91e(0x1a0)](_0x292f89=>_0x292f89['date']==_0x2b92e0);if(_0x4b3028){let _0x10701d=!![];_0x4b3028['changes'][_0x18c91e(0x25b)](_0x1338e9=>{const _0x2125a=_0x18c91e;if(_0x1338e9[_0x2125a(0x205)]!=0x0)_0x10701d=![];}),_0x10701d&&(_0x5c8287=_0x5c8287[_0x18c91e(0x224)](_0x5a7a6b=>{const _0x4be92d=_0x18c91e;return _0x5a7a6b[_0x4be92d(0x242)]!=_0x2b92e0;}));}let _0x25409a=dbConfig[_0x18c91e(0x215)](_0x18c91e(0x195))[_0x18c91e(0x1a0)]({'botID':botID})[_0x18c91e(0x1d4)]();_0x25409a&&(dbConfig[_0x18c91e(0x215)]('bot')['find']({'botID':botID})['assign']({'liquidity':_0x5c8287})[_0x18c91e(0x1f9)](),config['liquidity']=_0x5c8287),logHistory(_0x18c91e(0x189),_0x18c91e(0x27e)+Math[_0x18c91e(0x247)](_0x25ac9a[0x0][_0x18c91e(0x205)])+'\x20'+_0x25ac9a[0x0][_0x18c91e(0x1c6)]+'\x20'+(_0x25ac9a[0x0][_0x18c91e(0x205)]>0x0?_0x18c91e(0x284):'removed')+_0x18c91e(0x1ff)),proxyEmit(_0x18c91e(0x23e),emittedConfiguration());}else logger['debug'](_0x18c91e(0x1de)+Math[_0x18c91e(0x247)](_0x25ac9a[0x0][_0x18c91e(0x205)])+'\x20'+_0x25ac9a[0x0][_0x18c91e(0x1c6)]+'\x20'+(_0x25ac9a[0x0][_0x18c91e(0x205)]>0x0?'added':_0x18c91e(0x23c)));transactionDetected=!![],currentCoins=_0x17e160,currentCoinsAll=_0x1e747c;}await sleep(watchTransactionsInterval);}catch(_0x35c755){if(!exchangeStopped)await handleError(_0x35c755,_0x18c91e(0x26c));}else await sleep(0x3e8);}}async function loadSymbols(_0x36febd=config['exchange'],_0x549abd=![]){const _0x115426=_0x3fea31;if(allSymbols&&!_0x549abd)return;try{markets=await exchange[_0x115426(0x166)](),allSymbols=exchange[_0x115426(0x1c8)][_0x115426(0x224)](_0x3249aa=>{const _0x250c85=_0x115426;let _0x4ebc00=![];const _0x8e1b24=exceptions[_0x36febd[_0x250c85(0x275)]()]||[];return _0x8e1b24[_0x250c85(0x25b)](_0x3cc07f=>{if(_0x3249aa['includes'](_0x3cc07f))_0x4ebc00=!![];}),!_0x4ebc00;});}catch(_0x15cc4f){throw _0x15cc4f;}}async function initclient(){const _0x2c2347=_0x3fea31;emitLoadingProgress(),proxyEmit(_0x2c2347(0x23e),emittedConfiguration()),proxyEmit(_0x2c2347(0x151),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2c2347(0x1b9),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2e9f92=getNormalizedPerformance();emitPerformance(_0x2e9f92),getStartingBalances(_0x2e9f92);}async function toggleBotMode(){const _0x25fbda=_0x3fea31;let _0x3fce22=dbConfig[_0x25fbda(0x215)](_0x25fbda(0x195))[_0x25fbda(0x1a0)]({'botID':botID})[_0x25fbda(0x1d4)]();if(_0x3fce22){const _0x2ce11a=!_0x3fce22[_0x25fbda(0x18a)];dbConfig[_0x25fbda(0x215)](_0x25fbda(0x195))[_0x25fbda(0x1a0)]({'botID':botID})[_0x25fbda(0x24b)]({'headless':_0x2ce11a})[_0x25fbda(0x1f9)](),config[_0x25fbda(0x18a)]=_0x2ce11a,proxyEmit(_0x25fbda(0x23e),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0xdd5460=_0x3fea31;process[_0xdd5460(0x17d)]({'updatebotmanager':!![]},_0x5e1f9c=>{});}async function loadCoins(_0x481c9b){const _0x1c1b64=_0x3fea31;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x529e45,_0x26b5c3=0x0,_0x5eb66d=0x0;_0x481c9b[_0x1c1b64(0x25b)](_0xf53328=>{const _0x1b261a=_0x1c1b64;loading[_0x1b261a(0x2ab)][_0x1b261a(0x2b9)](_0xf53328);}),loadingCanceled=![];let _0x3def3a=![];while(_0x529e45!=_0x481c9b[_0x1c1b64(0x1b1)]){_0x529e45=0x0,_0x481c9b[_0x1c1b64(0x25b)](_0x5ac850=>{const _0x1f9ab3=_0x1c1b64;if(global[_0x1f9ab3(0x181)][noslash(_0x5ac850)]){loading[_0x1f9ab3(0x2ab)]=loading['remainingSymbols'][_0x1f9ab3(0x224)](_0x37801e=>_0x37801e!=_0x5ac850);if(!watchedSymbols[_0x1f9ab3(0x29c)](_0x5ac850))watchedSymbols['push'](_0x5ac850);_0x529e45++;}}),loading[_0x1c1b64(0x29e)]=Math['round'](_0x529e45/_0x481c9b[_0x1c1b64(0x1b1)]*0x64);loading[_0x1c1b64(0x29e)]!=0x64&&(_0x5eb66d>0x1e*0x5&&(loading[_0x1c1b64(0x2c3)]=!![],emitLoadingProgress()),_0x5eb66d>0x78*0x5&&!_0x3def3a&&(loading['cancel']=!![],emitLoadingProgress(),_0x3def3a=!![],logHistory(_0x1c1b64(0x2a2),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x1c1b64(0x2ab)]['join'](',\x20')+_0x1c1b64(0x23b)),logHistory('error',_0x1c1b64(0x239)+loadCoinsRetryInterval/0xea60+_0x1c1b64(0x1d9)),pidCoinReloading=setTimeout(()=>{const _0xf09a00=_0x1c1b64;process['send']({'stop':_0xf09a00(0x2a8)},_0xbad912=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x1c1b64(0x182)]=!![],emitLoadingProgress();break;}else _0x529e45!=_0x26b5c3&&(_0x26b5c3=_0x529e45,emitLoadingProgress()),_0x5eb66d++,await sleep(0xc8);}_0x529e45==_0x481c9b[_0x1c1b64(0x1b1)]&&(coinsLoaded=!![],process['send']({'status':_0x1c1b64(0x1fa),'live':_0x1c1b64(0x241)},_0xe65d54=>{}),_0x3def3a&&logHistory(_0x1c1b64(0x189),_0x1c1b64(0x217)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){proxyEmit('configuration',{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x3bf12e=_0x3fea31;let _0x435b36=global[_0x3bf12e(0x181)][stablecoins['eur'][_0x3bf12e(0x1c6)]],_0x2ae70f=global['ticker'][stablecoins[_0x3bf12e(0x214)][_0x3bf12e(0x1c6)]];return{'eur':Number(_0x435b36),'usd':Number(_0x2ae70f)};}function capitalize(_0x4f62a8){const _0x1a6eb5=_0x3fea31;return _0x4f62a8[_0x1a6eb5(0x1f5)](0x0,0x1)[_0x1a6eb5(0x1e9)]()+_0x4f62a8[_0x1a6eb5(0x1f5)](0x1);}function supportedExchanges(){const _0x4d69ea=_0x3fea31,_0x3b0b45=['ws',_0x4d69ea(0x159),_0x4d69ea(0x186),_0x4d69ea(0x292),_0x4d69ea(0x1f1),'cancelOrder',_0x4d69ea(0x19e),_0x4d69ea(0x1db),_0x4d69ea(0x160),'fetchBalance'];let _0x557c3e=[],_0x423e81=[],_0x417ca2=ccxt[_0x4d69ea(0x151)];_0x417ca2[_0x4d69ea(0x25b)](_0x58edd8=>{const _0x30e700=_0x4d69ea;try{const _0x4f3f18=new ccxt[_0x58edd8]();if(_0x4f3f18['has']['ws'])_0x423e81[_0x30e700(0x2b9)](_0x4f3f18);}catch(_0x245639){}}),_0x423e81[_0x4d69ea(0x25b)](_0x3d6246=>{let _0x4a4c88=0x0;_0x3b0b45['forEach'](_0x544f7b=>{const _0x38c53a=_0x5264;_0x544f7b in _0x3d6246[_0x38c53a(0x1b4)]&&_0x3d6246[_0x38c53a(0x1b4)][_0x544f7b]&&_0x4a4c88++;}),_0x4a4c88==_0x3b0b45['length']&&_0x557c3e['push'](capitalize(_0x3d6246['id']));});let _0x55d1bf=[];return _0x417ca2[_0x4d69ea(0x25b)](_0x1c67bc=>{const _0x27cb74=_0x4d69ea;_0x1c67bc=capitalize(_0x1c67bc);if(!_0x557c3e[_0x27cb74(0x29c)](_0x1c67bc))_0x55d1bf[_0x27cb74(0x2b9)](_0x1c67bc);}),_0x557c3e;}function setStartDatePerformance(){const _0x5cd542=_0x3fea31;if(config&&config[_0x5cd542(0x2ae)][0x0][_0x5cd542(0x1cf)]['length']!=0x0){const _0x5ed9a9=config[_0x5cd542(0x2ae)][0x0][_0x5cd542(0x1cf)];dbPerformance[_0x5cd542(0x215)](_0x5cd542(0x277))[_0x5cd542(0x1a0)]({'date':config[_0x5cd542(0x1d1)]})[_0x5cd542(0x24b)]({'coins':_0x5ed9a9})[_0x5cd542(0x1f9)]();}}async function recreateCoinResults(){const _0x9b2aeb=_0x3fea31;let _0x4d3575,_0x2a306c=[];try{const _0x13918d=fns[_0x9b2aeb(0x2b4)](fns[_0x9b2aeb(0x1b2)](config[_0x9b2aeb(0x1d1)]['replace'](/\//g,'-')),_0x9b2aeb(0x1d8));for(const _0x14ac7e of currentCoins){if(_0x14ac7e[_0x9b2aeb(0x1c6)]!=config['basecoin']){let _0x2ca6cb=0x0,_0x156fbf,_0x522892;_0x4d3575=await getAllEventOrders(_0x14ac7e[_0x9b2aeb(0x1ce)]);if(_0x4d3575[_0x9b2aeb(0x1b1)]>0x0)_0x4d3575[_0x9b2aeb(0x25b)](_0x2810dc=>{const _0xc18225=_0x9b2aeb,_0x3adf33=_0x14ac7e['symbol'][_0xc18225(0x29c)](config[_0xc18225(0x1dc)]+'/');_0x2a306c[_0xc18225(0x2b9)]({'datetime':_0x2810dc['datetime'],'coin':_0x14ac7e[_0xc18225(0x1c6)],'symbol':_0x14ac7e[_0xc18225(0x1ce)],'side':_0x2810dc['side'],'reverse':_0x3adf33,'amount':formatResult(_0x2810dc[_0xc18225(0x172)],0x8),'filled':formatResult(_0x2810dc[_0xc18225(0x172)],0x8),'price':formatResult(_0x2810dc['price'],0x8)}),_0x2ca6cb=_0x2810dc[_0xc18225(0x218)]==_0xc18225(0x261)?_0x2ca6cb+_0x2810dc[_0xc18225(0x172)]:_0x2ca6cb-_0x2810dc[_0xc18225(0x172)];if(!_0x522892)_0x522892=_0x2810dc['price'];});_0x156fbf=_0x14ac7e[_0x9b2aeb(0x205)]-_0x2ca6cb;let _0x21fb28;config[_0x9b2aeb(0x2ae)]['forEach'](_0xb78a88=>{const _0x21b4f3=_0x9b2aeb;!_0x21fb28&&(_0x21fb28=_0xb78a88[_0x21b4f3(0x1cf)][_0x21b4f3(0x1a0)](_0x2574a8=>_0x2574a8[_0x21b4f3(0x1c6)]==_0x14ac7e['coin']),_0x21fb28&&(_0x156fbf=_0x21fb28[_0x21b4f3(0x205)],_0x522892=_0x21fb28[_0x21b4f3(0x206)]));});let _0x447af6=dbCoinResults['get'](_0x9b2aeb(0x1dd))[_0x9b2aeb(0x1a0)]({'coin':_0x14ac7e['coin']})[_0x9b2aeb(0x1d4)]();_0x447af6={'coin':_0x14ac7e[_0x9b2aeb(0x1c6)],'number':_0x156fbf,'breakeven':_0x522892,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x9b2aeb(0x215)](_0x9b2aeb(0x1dd))['find']({'coin':_0x14ac7e['coin']})[_0x9b2aeb(0x24b)](_0x447af6)['write']();}}_0x2a306c[_0x9b2aeb(0x167)]((_0x5a0eef,_0x5e1119)=>_0x5a0eef[_0x9b2aeb(0x1e5)]>_0x5e1119[_0x9b2aeb(0x1e5)]?0x1:_0x5e1119[_0x9b2aeb(0x1e5)]>_0x5a0eef[_0x9b2aeb(0x1e5)]?-0x1:0x0);let _0xc7a3a=0x0;for(let _0x470fb7 of _0x2a306c){await updateCoinResults(_0x470fb7,!![]);}}catch(_0xecfe6a){await handleError(_0xecfe6a,_0x9b2aeb(0x207));}}async function getAllEventOrders(_0x4df8fc){const _0x219eec=_0x3fea31;let _0x167be6=[],_0x21774c=dbLogs[_0x219eec(0x215)](_0x219eec(0x164))[_0x219eec(0x224)](_0x1a1afc=>{const _0x4650da=_0x219eec,_0x59e486=_0x1a1afc[_0x4650da(0x18b)][_0x4650da(0x275)]();return _0x59e486['includes'](_0x4df8fc['toLowerCase']())&&(_0x59e486[_0x4650da(0x29c)]('market')&&_0x59e486[_0x4650da(0x29c)]('order')||_0x59e486['includes'](_0x4650da(0x172))&&_0x59e486['includes'](_0x4650da(0x2cf)));})[_0x219eec(0x259)](_0x219eec(0x20d))[_0x219eec(0x1d4)]();return _0x21774c['forEach'](_0x1db232=>{const _0x210654=_0x219eec,_0x385e90=_0x1db232['event'][_0x210654(0x29c)](_0x210654(0x1d3))?_0x210654(0x1d3):_0x210654(0x261),_0x481871=/#([0-9]|\.)+\s/i,_0x22aac8=Number(_0x481871['exec'](_0x1db232[_0x210654(0x18b)])[0x0]['slice'](0x1)),_0x5b7e1f=/@([0-9]|\.)+$/i,_0x15a5d9=Number(_0x5b7e1f[_0x210654(0x1a8)](_0x1db232[_0x210654(0x18b)])[0x0]['slice'](0x1));_0x167be6[_0x210654(0x2b9)]({'datetime':_0x1db232['time'],'coin':symbolToCoin(_0x4df8fc),'symbol':_0x4df8fc,'side':_0x385e90,'amount':_0x22aac8,'filled':_0x22aac8,'price':_0x15a5d9});}),_0x167be6;}async function getAllOrders(_0x23f572,_0x24dfb4){const _0x1a706d=_0x3fea31;let _0x5c2835=[];while(_0x24dfb4<exchange[_0x1a706d(0x1e0)]()){const _0xbfdb71=0x1f4,_0x45dcf7=await exchange[_0x1a706d(0x160)](_0x23f572,_0x24dfb4,_0xbfdb71);if(_0x45dcf7['length'])_0x24dfb4=_0x45dcf7[_0x45dcf7[_0x1a706d(0x1b1)]-0x1][_0x1a706d(0x1fd)]+0x1,_0x5c2835=_0x5c2835['concat'](_0x45dcf7);else break;}return _0x5c2835;}async function validate24hChanges(){const _0x2d1434=_0x3fea31;for(const _0x33322b of currentCoins){if(_0x33322b[_0x2d1434(0x1c6)]!=config[_0x2d1434(0x1dc)]){let _0x251c2e;_0x33322b['reverse']?_0x251c2e=formatResult((0x1/(global['change'][noslash(_0x33322b[_0x2d1434(0x1ce)])]/0x64+0x1)-0x1)*0x64,0x3):_0x251c2e=global['change'][noslash(_0x33322b['symbol'])],_0x251c2e<config[_0x2d1434(0x2c0)]&&(logHistory('error',_0x33322b[_0x2d1434(0x1c6)]+_0x2d1434(0x19f)+_0x251c2e+'%'),logHistory(_0x2d1434(0x2a2),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x2d1434(0x2a2),_0x2d1434(0x1ab)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x5400a2,_0x423350){const _0x3c4f5a=_0x3fea31;if(!_0x5400a2)return!![];const _0x5c8351=_0x423350[_0x3c4f5a(0x1a5)]('.'),_0x81a94f=_0x5400a2[_0x3c4f5a(0x1a5)]('.');for(var _0x54b29c=0x0;_0x54b29c<_0x81a94f['length'];_0x54b29c++){const _0x26b392=~~_0x81a94f[_0x54b29c],_0x39dcb6=~~_0x5c8351[_0x54b29c];if(_0x26b392<_0x39dcb6)return!![];if(_0x26b392>_0x39dcb6)return![];}return![];}async function oneTimeMigration(){const _0x33fde0=_0x3fea31;let _0x459392=dbLogs[_0x33fde0(0x215)](_0x33fde0(0x20e))[_0x33fde0(0x1d4)]();if(isOlderVersion(_0x459392,_0x33fde0(0x15d))){let _0x1122d0=[];const _0x531742=dbLogs[_0x33fde0(0x215)](_0x33fde0(0x164))['value']();_0x531742[_0x33fde0(0x25b)](_0x13beed=>{const _0x540e8b=_0x33fde0;_0x1122d0[_0x540e8b(0x2b9)]({'time':_0x13beed[_0x540e8b(0x20d)],'type':_0x13beed['type'],'event':_0x13beed[_0x540e8b(0x18b)]});}),dbLogs[_0x33fde0(0x215)](_0x33fde0(0x164))[_0x33fde0(0x24b)](_0x1122d0)[_0x33fde0(0x1f9)]();}let _0x5368e1=dbConfig[_0x33fde0(0x215)](_0x33fde0(0x20e))[_0x33fde0(0x1d4)]();if(isOlderVersion(_0x5368e1,_0x33fde0(0x15d))){let _0x3321ec=dbConfig[_0x33fde0(0x215)](_0x33fde0(0x195))[_0x33fde0(0x1a0)]({'botID':botID})['value']();if(_0x3321ec){let _0x1ef1d2=[];_0x3321ec[_0x33fde0(0x254)][_0x33fde0(0x25b)](_0x2cd255=>{const _0xd597c5=_0x33fde0;_0x1ef1d2[_0xd597c5(0x2b9)]({'coin':_0x2cd255['coin'],'number':_0x2cd255['startnumber'],'price':_0x2cd255[_0xd597c5(0x2cb)]}),delete _0x2cd255[_0xd597c5(0x1aa)],delete _0x2cd255[_0xd597c5(0x2cb)];});if(_0x1ef1d2[_0x33fde0(0x1b1)]!==0x0)fs[_0x33fde0(0x2ca)](configbackuppath+('starting-balance-'+botID+_0x33fde0(0x2b7)),JSON[_0x33fde0(0x184)](_0x1ef1d2,null,0x4),function(_0x1b744b){if(_0x1b744b){}});const _0x37f97d=(_0x5ac336,_0x2df949)=>{const _0x1e52f7=_0x33fde0;let _0x141b2f=[];_0x2df949['forEach'](_0x198f0a=>{const _0x1dfe73=_0x5264,_0xc64ad=_0x5ac336[_0x1dfe73(0x1a0)](_0x2931fc=>_0x2931fc[_0x1dfe73(0x1c6)]==_0x198f0a[_0x1dfe73(0x1c6)]);if(!_0xc64ad)_0x141b2f[_0x1dfe73(0x2b9)](_0x198f0a);});let _0x5db684=[];return _0x5ac336[_0x1e52f7(0x25b)](_0x231ac5=>{const _0x446d1a=_0x1e52f7,_0x38e2f6=_0x2df949['find'](_0x2891ca=>_0x2891ca['coin']==_0x231ac5[_0x446d1a(0x1c6)]);if(!_0x38e2f6||_0x38e2f6[_0x446d1a(0x205)]==0x0&&_0x231ac5[_0x446d1a(0x205)]!=0x0)_0x5db684[_0x446d1a(0x2b9)](_0x231ac5);}),{'missingDay1':_0x141b2f,'notInDay2':_0x5db684};},_0x64b58b=dbPerformance[_0x33fde0(0x215)](_0x33fde0(0x277))[_0x33fde0(0x154)]()[_0x33fde0(0x1d4)]();if(_0x64b58b[_0x33fde0(0x1b1)]>0x1){const {missingDay1:_0x338630,notInDay2:_0x18470a}=_0x37f97d(_0x1ef1d2,_0x64b58b[0x1]['coins']);_0x1ef1d2=[..._0x1ef1d2,..._0x338630],_0x18470a[_0x33fde0(0x25b)](_0x160482=>{const _0x224c19=_0x33fde0;let _0x5caaf6=_0x1ef1d2['findIndex'](_0x275c65=>_0x275c65['coin']==_0x160482['coin']);_0x5caaf6!=-0x1&&_0x1ef1d2[_0x224c19(0x1d2)](_0x5caaf6,0x1);});}_0x1ef1d2[_0x33fde0(0x167)]((_0x19ec28,_0x1abd09)=>_0x19ec28[_0x33fde0(0x1c6)]>_0x1abd09['coin']?0x1:_0x1abd09['coin']>_0x19ec28[_0x33fde0(0x1c6)]?-0x1:0x0);let _0x580856=[{'date':_0x3321ec[_0x33fde0(0x1d1)],'changes':_0x1ef1d2}];_0x64b58b[_0x33fde0(0x1b1)]>0x2&&_0x64b58b[_0x33fde0(0x25b)]((_0x4d3224,_0x45d38e)=>{const _0x5cf35d=_0x33fde0;if(_0x45d38e>0x0&&_0x45d38e<_0x64b58b['length']-0x1){const {missingDay1:_0x1a2702,notInDay2:_0x330555}=_0x37f97d(_0x64b58b[_0x45d38e][_0x5cf35d(0x1dd)],_0x64b58b[_0x45d38e+0x1]['coins']);_0x1ef1d2=[],(_0x1a2702[_0x5cf35d(0x1b1)]!=0x0||_0x330555[_0x5cf35d(0x1b1)]!=0x0)&&(_0x1a2702[_0x5cf35d(0x1b1)]!=0x0&&_0x1ef1d2['push'](..._0x1a2702),_0x330555[_0x5cf35d(0x1b1)]!=0x0&&(_0x330555['forEach'](_0x312b80=>{const _0x3de07f=_0x5cf35d;_0x312b80[_0x3de07f(0x205)]=-_0x312b80[_0x3de07f(0x205)];}),_0x1ef1d2[_0x5cf35d(0x2b9)](..._0x330555)),_0x1ef1d2[_0x5cf35d(0x167)]((_0x2a885d,_0x45d9f4)=>_0x2a885d[_0x5cf35d(0x1c6)]>_0x45d9f4['coin']?0x1:_0x45d9f4[_0x5cf35d(0x1c6)]>_0x2a885d['coin']?-0x1:0x0),_0x580856['push']({'date':_0x64b58b[_0x45d38e+0x1][_0x5cf35d(0x242)],'changes':_0x1ef1d2}));}}),dbConfig[_0x33fde0(0x215)]('bot')[_0x33fde0(0x1a0)]({'botID':botID})[_0x33fde0(0x24b)]({..._0x3321ec,'liquidity':_0x580856})[_0x33fde0(0x1f9)]();}}if(isOlderVersion(_0x5368e1,_0x33fde0(0x175))){let _0x5151ba=dbConfig[_0x33fde0(0x215)](_0x33fde0(0x195))[_0x33fde0(0x1a0)]({'botID':botID})['value']();if(_0x5151ba){const _0x4583d3=_0x5151ba['exchange'],_0x38d8bd=_0x4583d3?capitalize(_0x4583d3):_0x33fde0(0x19b);dbConfig[_0x33fde0(0x215)](_0x33fde0(0x195))[_0x33fde0(0x1a0)]({'botID':botID})[_0x33fde0(0x24b)]({'exchange':_0x38d8bd})['write']();}}let _0x4895ad=dbPerformance[_0x33fde0(0x215)]('version')[_0x33fde0(0x1d4)]();isOlderVersion(_0x4895ad,'2.3.5')&&setStartDatePerformance();let _0x5b8676=dbCoinResults[_0x33fde0(0x215)](_0x33fde0(0x20e))[_0x33fde0(0x1d4)]();if(isOlderVersion(_0x5b8676,_0x33fde0(0x168))){let _0x3fe9f4=dbCoinResults[_0x33fde0(0x215)](_0x33fde0(0x1dd))[_0x33fde0(0x1d4)]();if(_0x3fe9f4[_0x33fde0(0x1b1)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x2d8a2c=_0x3fea31;dbConfig[_0x2d8a2c(0x234)](_0x2d8a2c(0x20e),serverversion)['write'](),dbPerformance[_0x2d8a2c(0x234)]('version',serverversion)[_0x2d8a2c(0x1f9)](),dbLogs[_0x2d8a2c(0x234)](_0x2d8a2c(0x20e),serverversion)[_0x2d8a2c(0x1f9)](),dbCoinResults[_0x2d8a2c(0x234)](_0x2d8a2c(0x20e),serverversion)[_0x2d8a2c(0x1f9)]();}function getConfiguration(_0xe57545){const _0x4d3b15=_0x3fea31;let _0x124b68=dbConfig[_0x4d3b15(0x215)]('bot')[_0x4d3b15(0x1a0)]({'botID':_0xe57545})[_0x4d3b15(0x1d4)]();if(_0x124b68){let _0x1a4017=![];typeof _0x124b68['threshold']=='string'&&(_0x124b68={..._0x124b68,'threshold':Number(_0x124b68[_0x4d3b15(0x1c7)])},_0x1a4017=!![]),_0x124b68[_0x4d3b15(0x2c0)]==null&&(_0x124b68={..._0x124b68,'change24h':-0x14},_0x1a4017=!![]),!_0x124b68[_0x4d3b15(0x263)]&&(_0x124b68={..._0x124b68,'fiat':_0x4d3b15(0x1da)},_0x1a4017=!![]),!_0x124b68[_0x4d3b15(0x268)]&&(_0x124b68={..._0x124b68,'onepagemode':settings[_0x4d3b15(0x268)]},_0x1a4017=!![]),_0x1a4017&&(_0x124b68={'botID':_0x124b68[_0x4d3b15(0x1f7)],'exchange':_0x124b68['exchange'],'apiKey':_0x124b68[_0x4d3b15(0x192)],'apiSecret':_0x124b68[_0x4d3b15(0x201)],'basecoin':_0x124b68[_0x4d3b15(0x1dc)],'botname':_0x124b68[_0x4d3b15(0x21e)],'showname':_0x124b68['showname'],'threshold':_0x124b68[_0x4d3b15(0x1c7)],'ordertype':_0x124b68[_0x4d3b15(0x213)],'timeout':_0x124b68[_0x4d3b15(0x2c3)],'fiat':_0x124b68['fiat'],'startdate':_0x124b68[_0x4d3b15(0x1d1)],'recreate':_0x124b68[_0x4d3b15(0x16e)],'timeshift':_0x124b68[_0x4d3b15(0x1f4)],'onepagemode':_0x124b68[_0x4d3b15(0x268)],'headless':_0x124b68['headless'],'cooldown':_0x124b68[_0x4d3b15(0x178)],'change24h':_0x124b68['change24h'],'emojibuy':_0x124b68[_0x4d3b15(0x28a)],'emojisell':_0x124b68[_0x4d3b15(0x19c)],'portfolio':_0x124b68[_0x4d3b15(0x254)],'liquidity':_0x124b68[_0x4d3b15(0x2ae)],'openOrders':_0x124b68['openOrders']},dbConfig[_0x4d3b15(0x215)]('bot')[_0x4d3b15(0x177)]()['write'](),dbConfig[_0x4d3b15(0x215)](_0x4d3b15(0x195))[_0x4d3b15(0x2b9)](_0x124b68)[_0x4d3b15(0x1f9)]());}else _0x124b68={'botID':_0xe57545,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x4d3b15(0x2af)+_0xe57545,'showname':![],'threshold':0x3,'ordertype':_0x4d3b15(0x227),'timeout':0x14,'fiat':_0x4d3b15(0x1da),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x4d3b15(0x1f4)],'onepagemode':settings[_0x4d3b15(0x268)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x124b68;}function emittedConfiguration(){const _0xaed5c7=_0x3fea31;let _0x3427ef;if(config[_0xaed5c7(0x192)]=='')_0x3427ef={...config,'configstate':_0xaed5c7(0x251)};else config[_0xaed5c7(0x192)]=='***'?_0x3427ef={...config,'configstate':_0xaed5c7(0x2a3)}:_0x3427ef={...config,'apiKey':_0xaed5c7(0x17c),'apiSecret':_0xaed5c7(0x17c)};return _0x3427ef;}function getSettings(){const _0x331b7a=_0x3fea31;return dbSettings[_0x331b7a(0x215)](_0x331b7a(0x15e))[_0x331b7a(0x1d4)]();}function getSecure(){const _0x56c6f9=_0x3fea31;return dbSecure['get'](_0x56c6f9(0x22a))[_0x56c6f9(0x1d4)]()||{};}function updateTimeshift(_0x205775){const _0x133e04=_0x3fea31;let _0x4e5ea1=dbConfig[_0x133e04(0x215)](_0x133e04(0x195))[_0x133e04(0x1a0)]({'botID':botID})[_0x133e04(0x1d4)]();_0x4e5ea1&&dbConfig[_0x133e04(0x215)](_0x133e04(0x195))['find']({'botID':botID})[_0x133e04(0x24b)]({'timeshift':_0x205775})[_0x133e04(0x1f9)](),config[_0x133e04(0x1f4)]=_0x205775,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x418484){const _0x1f1a0a=_0x3fea31;let _0x29bdb2=dbConfig[_0x1f1a0a(0x215)](_0x1f1a0a(0x195))[_0x1f1a0a(0x1a0)]({'botID':botID})['value']();_0x29bdb2&&dbConfig[_0x1f1a0a(0x215)]('bot')[_0x1f1a0a(0x1a0)]({'botID':botID})[_0x1f1a0a(0x24b)]({'onepagemode':_0x418484})[_0x1f1a0a(0x1f9)](),config[_0x1f1a0a(0x268)]=_0x418484,proxyEmit(_0x1f1a0a(0x23e),emittedConfiguration());}async function storeConfiguration(_0x2ee9f2){const _0x305abf=_0x3fea31;logger[_0x305abf(0x16a)]('Saving\x20configuration'),blockTransactionDetection=!![],logger[_0x305abf(0x16a)]('Transaction\x20detection\x20blocked');let _0x191f4a=[],_0x33b249=![],_0x24afdb=[];_0x2ee9f2[_0x305abf(0x254)][_0x305abf(0x25b)](_0x57f7c5=>{const _0x1c5629=_0x305abf;if(!_0x57f7c5['excluded']&&_0x57f7c5[_0x1c5629(0x1c6)]!=_0x2ee9f2[_0x1c5629(0x1dc)])_0x24afdb[_0x1c5629(0x2b9)](_0x57f7c5['symbol']);}),_0x24afdb[_0x305abf(0x25b)](_0x5bf890=>{const _0x446c28=_0x305abf,_0x58aec=watchedSymbols['includes'](_0x5bf890);!_0x58aec&&_0x191f4a[_0x446c28(0x2b9)](_0x5bf890);});_0x191f4a[_0x305abf(0x1b1)]>0x0?_0x33b249=!![]:currentCoins[_0x305abf(0x25b)](_0x85f076=>{const _0xe43f2c=_0x305abf;if(_0x85f076[_0xe43f2c(0x1c6)]!=config['basecoin']){const _0x5f0196=_0x24afdb[_0xe43f2c(0x1a0)](_0x300c22=>_0x300c22==_0x85f076[_0xe43f2c(0x1ce)]);!_0x5f0196&&(_0x33b249=!![]);}});let _0x4f575f=dbConfig[_0x305abf(0x215)](_0x305abf(0x195))[_0x305abf(0x1a0)]({'botID':botID})['value']();_0x2ee9f2={..._0x2ee9f2,'apiKey':crypt[_0x305abf(0x2c2)](secure[_0x305abf(0x243)],_0x2ee9f2[_0x305abf(0x192)])[_0x305abf(0x2a7)],'apiSecret':crypt['decrypt'](secure[_0x305abf(0x243)],_0x2ee9f2['apiSecret'])['message']};let _0x4fbac8=![];_0x4f575f?(_0x2ee9f2[_0x305abf(0x192)]==_0x305abf(0x17c)?_0x2ee9f2[_0x305abf(0x192)]=config[_0x305abf(0x192)]:_0x4fbac8=!![],_0x2ee9f2['apiSecret']==_0x305abf(0x17c)?_0x2ee9f2[_0x305abf(0x201)]=config[_0x305abf(0x201)]:_0x4fbac8=!![],dbConfig['get'](_0x305abf(0x195))[_0x305abf(0x1a0)]({'botID':botID})['assign'](_0x2ee9f2)[_0x305abf(0x1f9)]()):(dbConfig[_0x305abf(0x215)](_0x305abf(0x195))[_0x305abf(0x2b9)](_0x2ee9f2)[_0x305abf(0x1f9)](),_0x4fbac8=!![],process[_0x305abf(0x17d)]({'status':'enabled','live':_0x305abf(0x241)},_0x266b36=>{}));config={..._0x2ee9f2},setStartDatePerformance(),process['send']({'botname':_0x2ee9f2[_0x305abf(0x21e)]},_0x31ede9=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x305abf(0x220)),await initCoinResults();if(_0x4fbac8)await reset(_0x191f4a,!![]);else{if(_0x33b249)await reset(_0x191f4a,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger['debug'](_0x305abf(0x188));}async function storeHeadless(_0x3aeefb){const _0x366852=_0x3fea31,_0x41ebb1={...config,'headless':_0x3aeefb['headless']};let _0x55111e=dbConfig[_0x366852(0x215)]('bot')[_0x366852(0x1a0)]({'botID':botID})['value']();_0x55111e&&dbConfig[_0x366852(0x215)]('bot')[_0x366852(0x1a0)]({'botID':botID})[_0x366852(0x24b)](_0x41ebb1)[_0x366852(0x1f9)](),config={..._0x41ebb1},updateBotManager(),proxyEmit(_0x366852(0x23e),emittedConfiguration());}async function storeFiat(_0x184737){const _0x4262e6=_0x3fea31,_0x51fef1={...config,'fiat':_0x184737};let _0x1d3658=dbConfig[_0x4262e6(0x215)]('bot')[_0x4262e6(0x1a0)]({'botID':botID})[_0x4262e6(0x1d4)]();_0x1d3658&&dbConfig[_0x4262e6(0x215)](_0x4262e6(0x195))['find']({'botID':botID})[_0x4262e6(0x24b)](_0x51fef1)[_0x4262e6(0x1f9)](),config={..._0x51fef1},proxyEmit(_0x4262e6(0x23e),emittedConfiguration());}function resetHistory(){const _0x581f90=_0x3fea31;logger['full'](_0x581f90(0x278));try{if(fs['existsSync'](path['join'](configpath,_0x581f90(0x2a9)+botID+_0x581f90(0x18e))))fs[_0x581f90(0x2aa)](path[_0x581f90(0x232)](configpath,'bot-'+botID+_0x581f90(0x18e)));if(fs[_0x581f90(0x226)](path['join'](configpath,'bot-'+botID+_0x581f90(0x2c9))))fs[_0x581f90(0x2aa)](path[_0x581f90(0x232)](configpath,'bot-'+botID+_0x581f90(0x2c9)));if(fs[_0x581f90(0x226)](path[_0x581f90(0x232)](configpath,'bot-'+botID+_0x581f90(0x2b6))))fs[_0x581f90(0x2aa)](path[_0x581f90(0x232)](configpath,_0x581f90(0x2a9)+botID+_0x581f90(0x2b6)));}catch(_0x1f4e61){if(_0x1f4e61)logger[_0x581f90(0x2c4)](_0x581f90(0x22d),_0x1f4e61);}const _0x14be3a=getDate();let _0x12f0dd=[];currentCoins[_0x581f90(0x25b)](_0x18f701=>{const _0x30d08b=_0x581f90;_0x12f0dd['push']({'coin':_0x18f701[_0x30d08b(0x1c6)],'number':_0x18f701[_0x30d08b(0x205)],'price':_0x18f701[_0x30d08b(0x193)]});});let _0x5e526d=dbConfig[_0x581f90(0x215)](_0x581f90(0x195))[_0x581f90(0x1a0)]({'botID':botID})[_0x581f90(0x1d4)]();_0x5e526d&&(dbConfig[_0x581f90(0x215)](_0x581f90(0x195))[_0x581f90(0x1a0)]({'botID':botID})[_0x581f90(0x24b)]({'liquidity':[{'date':_0x14be3a,'changes':_0x12f0dd}]})[_0x581f90(0x1f9)](),config['liquidity']=[]),process[_0x581f90(0x17d)]({'stop':_0x581f90(0x2a8)},_0x5bbc6b=>{});}function noslash(_0x384097){const _0x1dd16f=_0x3fea31;return _0x384097[_0x1dd16f(0x24d)]('/','');}function updateHighestFee(_0x43e284,_0x1f9ddd){const _0x214f16=_0x3fea31;lastFees[_0x214f16(0x237)]=_0x43e284,lastFees['recent20'][_0x214f16(0x1b1)]===0x14&&lastFees[_0x214f16(0x180)][_0x214f16(0x162)](),lastFees[_0x214f16(0x180)][_0x214f16(0x2b9)](_0x1f9ddd),lastFees[_0x214f16(0x295)]=Math[_0x214f16(0x165)](...lastFees[_0x214f16(0x180)]);}async function updateNumberCoinsCcxt(_0x328d90){const _0x44da5d=_0x3fea31;logger[_0x44da5d(0x16a)](_0x44da5d(0x209)+_0x328d90[_0x44da5d(0x1ce)]+_0x44da5d(0x221)+_0x328d90[_0x44da5d(0x287)]+_0x44da5d(0x221)+_0x328d90['id']+_0x44da5d(0x221)+_0x328d90[_0x44da5d(0x2a5)]);let _0x39c1e2=_0x328d90[_0x44da5d(0x287)],_0x3edd40=![];currentCoins['forEach'](_0x5397b0=>{const _0x23debe=_0x44da5d;_0x5397b0[_0x23debe(0x1ce)]==_0x328d90[_0x23debe(0x1ce)]&&(_0x3edd40=!![]);});if(!_0x3edd40)return;const _0x153673=currentCoins[_0x44da5d(0x1a0)](_0x4050ba=>_0x4050ba[_0x44da5d(0x1ce)]==_0x328d90[_0x44da5d(0x1ce)]),_0x236573=_0x2b9aae=>{const _0x30d917=_0x44da5d;if(_0x153673)_0x153673[_0x30d917(0x1d5)]=_0x2b9aae;};if(_0x39c1e2==_0x44da5d(0x2ac))_0x236573('open');else{if(_0x39c1e2==_0x44da5d(0x183)){_0x236573('canceled');const _0xa8b022=await getCoins();[currentCoins,currentCoinsAll]=_0xa8b022,await getOpenOrders(),handleOpenOrders();}else{if(_0x39c1e2==_0x44da5d(0x288)){logger[_0x44da5d(0x16a)](_0x44da5d(0x298)+_0x328d90[_0x44da5d(0x1ce)]+_0x44da5d(0x221)+_0x328d90[_0x44da5d(0x172)]+'\x20|\x20'+_0x328d90['id']+_0x44da5d(0x221)+_0x328d90[_0x44da5d(0x2a5)]);let _0x76ec51=![];if(lastOrders)lastOrders['forEach'](async _0x2b0813=>{const _0x3843cf=_0x44da5d;if(_0x2b0813[_0x3843cf(0x1a1)]==_0x328d90['clientOrderId']){logger['debug'](_0x3843cf(0x266)+_0x328d90[_0x3843cf(0x2a5)]),_0x76ec51=!![];if(_0x2b0813[_0x3843cf(0x172)]==0x0){logger[_0x3843cf(0x16a)](_0x3843cf(0x2a4)+_0x328d90[_0x3843cf(0x2a5)]),_0x2b0813[_0x3843cf(0x206)]=_0x328d90[_0x3843cf(0x28e)],_0x2b0813[_0x3843cf(0x172)]=_0x328d90[_0x3843cf(0x172)],_0x2b0813[_0x3843cf(0x1b8)]={'currency':_0x328d90[_0x3843cf(0x1b8)]?_0x328d90[_0x3843cf(0x1b8)][_0x3843cf(0x237)]:null,'cost':_0x328d90[_0x3843cf(0x1b8)]?_0x328d90[_0x3843cf(0x1b8)][_0x3843cf(0x15a)]:0x0},updateHighestFee(_0x2b0813[_0x3843cf(0x1b8)][_0x3843cf(0x237)],_0x2b0813[_0x3843cf(0x1b8)][_0x3843cf(0x15a)]),_0x236573(_0x3843cf(0x172)),await validateOrders();if(lockOrders==ORDERS[_0x3843cf(0x1d6)]){const _0x28af99=await getCoins();[currentCoins,currentCoinsAll]=_0x28af99;}await updateCoinResults(_0x2b0813);}}});if(!_0x76ec51){logger['debug']('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x328d90['id']),_0x236573(_0x44da5d(0x172));const _0xb7a772=await getCoins();[currentCoins,currentCoinsAll]=_0xb7a772,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x5e36c1=JSON['parse'](lastBalances[_0x44da5d(0x254)]);const _0x6c74c8=_0x5e36c1[_0x44da5d(0x1a0)](_0x30c0c7=>_0x30c0c7['symbol']==_0x328d90['symbol']);if(_0x6c74c8){if(_0x39c1e2==_0x44da5d(0x2ac))_0x6c74c8[_0x44da5d(0x1d5)]=_0x6c74c8[_0x44da5d(0x1d5)]==_0x44da5d(0x172)?'filled':'open';else{if(_0x39c1e2=='canceled')_0x6c74c8[_0x44da5d(0x1d5)]=_0x6c74c8[_0x44da5d(0x1d5)]==_0x44da5d(0x172)?_0x44da5d(0x172):_0x44da5d(0x183);else _0x39c1e2==_0x44da5d(0x288)&&(_0x6c74c8['orderstatus']=_0x44da5d(0x172));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x5e36c1)},proxyEmit(_0x44da5d(0x1b9),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x4c6b42=![];currentCoins['forEach'](_0x51d5fc=>{const _0x3a54ba=_0x5264;_0x4c6b42=allOpenOrders['find'](_0x22fb41=>_0x22fb41[_0x3a54ba(0x1ce)]==_0x51d5fc['symbol']),_0x51d5fc['orderstatus']=_0x4c6b42?_0x3a54ba(0x2ac):'none';});}async function getCoins(_0x3476ce=!![],_0x3d7d80=config[_0x3fea31(0x1dc)]){const _0xb00c6=_0x3fea31;let _0x987976,_0x4cacc8=[],_0xd36b16=[],_0x4ecfa2=[],_0x550970=[];try{_0x987976=await exchange[_0xb00c6(0x1df)](),mybalances=_0x987976['total'];for(const [_0x2d9959,_0x46e088]of Object[_0xb00c6(0x1ee)](mybalances)){_0x550970['push'](_0x2d9959);}if(_0x3d7d80=='')for(const [_0x4c30fd,_0x407a9c]of Object['entries'](mybalances)){_0x407a9c[_0xb00c6(0x156)]()!=0x0&&_0xd36b16[_0xb00c6(0x2b9)]({'coin':_0x4c30fd});}else{let _0x231045=![];for(const [_0x347f52,_0x523849]of Object[_0xb00c6(0x1ee)](mybalances)){if(_0x550970[_0xb00c6(0x29c)](_0x347f52)){const _0x16f688=config[_0xb00c6(0x254)]['find'](_0x52422e=>_0x52422e[_0xb00c6(0x1c6)]==_0x347f52),_0x2a62d2=_0x347f52+'/'+_0x3d7d80,_0x42a629=_0x3d7d80+'/'+_0x347f52,_0x3598db=currentCoins[_0xb00c6(0x1a0)](_0x30c36e=>_0x30c36e[_0xb00c6(0x1c6)]==_0x347f52);_0x231045=![];if((_0x523849['toString']()!=0x0||_0x16f688)&&(allSymbols[_0xb00c6(0x29c)](_0x2a62d2)||_0x347f52==_0x3d7d80))_0x347f52!=_0x3d7d80&&_0x4cacc8[_0xb00c6(0x2b9)](_0x2a62d2),_0xd36b16['push']({'coin':_0x347f52,'symbol':_0x2a62d2,'reverse':![],'number':Math['max'](_0x523849+(_0x16f688&&_0x16f688['offset']||0x0),0x0),'orderstatus':_0x3598db?_0x3598db['orderstatus']:_0xb00c6(0x26e)});else(_0x523849['toString']()!=0x0||_0x16f688)&&allSymbols[_0xb00c6(0x29c)](_0x42a629)&&(_0x347f52!=_0x3d7d80&&_0x4cacc8['push'](_0x42a629),_0xd36b16[_0xb00c6(0x2b9)]({'coin':_0x347f52,'symbol':_0x42a629,'reverse':!![],'number':Math[_0xb00c6(0x165)](_0x523849+(_0x16f688&&_0x16f688[_0xb00c6(0x15b)]||0x0),0x0),'orderstatus':_0x3598db?_0x3598db['orderstatus']:_0xb00c6(0x26e)}));}}}}catch(_0x439277){if(!_0x3476ce)handleErrorNoStop(_0x439277,'getCoins()');else await handleError(_0x439277,_0xb00c6(0x27f));}return _0x4ecfa2=cloneDeep(_0xd36b16),_0xd36b16=_0xd36b16[_0xb00c6(0x224)](_0x5d55f6=>{const _0x20f7b8=_0xb00c6,_0x4b21da=config[_0x20f7b8(0x254)][_0x20f7b8(0x1a0)](_0x44c1ca=>_0x44c1ca[_0x20f7b8(0x1c6)]==_0x5d55f6[_0x20f7b8(0x1c6)]);return _0x4b21da&&!_0x4b21da[_0x20f7b8(0x274)];}),[_0xd36b16,_0x4ecfa2];}async function getCoinNumber(_0x586c48){const _0x544d5f=_0x3fea31;let _0x5d71cd;try{const _0x16410f=await exchange[_0x544d5f(0x1df)]();_0x5d71cd=_0x16410f[_0x544d5f(0x1cb)][_0x586c48];}catch(_0x48eec5){await handleError(_0x48eec5,'getCoinNumber()');}return _0x5d71cd;}async function getOpenOrders(){const _0x447d13=_0x3fea31;let _0x2dbc1b;allOpenOrders=[];try{for(const _0x44c463 of config[_0x447d13(0x254)]){!_0x44c463['excluded']&&_0x44c463[_0x447d13(0x1c6)]!=config[_0x447d13(0x1dc)]&&(_0x2dbc1b=await exchange[_0x447d13(0x1db)](_0x44c463['symbol']),_0x2dbc1b[_0x447d13(0x1b1)]>0x0&&allOpenOrders[_0x447d13(0x2b9)](_0x2dbc1b[0x0]));}}catch(_0x1bda8d){await handleError(_0x1bda8d,_0x447d13(0x29d));}}async function handleOpenOrders(_0x1c9fa2=0x0){const _0x49e227=_0x3fea31;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x49e227(0x1d6)]&&allOrdersPlaced&&(_0x1c9fa2==0x0?(logger['debug'](_0x49e227(0x173)),_0x1c9fa2++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x49e227(0x293)),validateOrders(_0x49e227(0x204))));}async function testAPI(_0x4a7393){const _0x512238=_0x3fea31,_0x3c7148=ccxt[_0x4a7393[_0x512238(0x1fb)]['toLowerCase']()],_0x73f686=new _0x3c7148({'apiKey':_0x4a7393['apiKey'],'secret':_0x4a7393[_0x512238(0x201)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x73f686['loadMarkets']();}catch(_0x1e248f){throw _0x1e248f;}}function cloneDeep(_0x1aaa2b){const _0x507a34=_0x3fea31;return JSON[_0x507a34(0x185)](JSON['stringify'](_0x1aaa2b));}async function getPortfolio(_0x5e00ac){const _0x2f43c2=_0x3fea31;let _0x27fb80=[],_0x109eee=[],_0x285a9e=[],_0x7b9be3;if(_0x5e00ac[_0x2f43c2(0x192)]!==_0x2f43c2(0x17c)||_0x5e00ac['apiSecret']!=='************'){if(config['exchange']){if(_0x5e00ac[_0x2f43c2(0x192)]==_0x2f43c2(0x17c))_0x5e00ac[_0x2f43c2(0x192)]=config[_0x2f43c2(0x192)];if(_0x5e00ac[_0x2f43c2(0x201)]=='************')_0x5e00ac[_0x2f43c2(0x201)]=config[_0x2f43c2(0x201)];try{await testAPI(_0x5e00ac);}catch(_0x1913f0){if(_0x1913f0[_0x2f43c2(0x156)]()[_0x2f43c2(0x29c)]('AuthenticationError')){logger[_0x2f43c2(0x16a)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x2f43c2(0x254),![]);return;}else{handleError(_0x1913f0,'getPortfolio(0)');return;}}}await initExchange(_0x5e00ac[_0x2f43c2(0x1fb)],_0x5e00ac['apiKey'],_0x5e00ac[_0x2f43c2(0x201)]);try{await loadSymbols(_0x5e00ac[_0x2f43c2(0x1fb)],!![]);}catch(_0x4c7e7f){if(_0x4c7e7f['toString']()[_0x2f43c2(0x29c)]('AuthenticationError')){proxyEmit(_0x2f43c2(0x254),![]);return;}else{handleError(_0x4c7e7f,_0x2f43c2(0x198));return;}}const _0x27c42c=await getCoins(![],_0x5e00ac['basecoin']);_0x285a9e=cloneDeep(_0x27c42c[0x1]);}else _0x285a9e=cloneDeep(currentCoinsAll);if(_0x5e00ac[_0x2f43c2(0x1dc)]=='')proxyEmit(_0x2f43c2(0x254),_0x285a9e);else{_0x285a9e['forEach'](_0x1556c6=>{const _0x4f6187=_0x2f43c2;if(_0x1556c6[_0x4f6187(0x1c6)]!=_0x5e00ac[_0x4f6187(0x1dc)])_0x27fb80['push'](_0x1556c6[_0x4f6187(0x1ce)]);});try{_0x109eee=await exchange[_0x2f43c2(0x159)](_0x27fb80);}catch(_0x111eb2){if(_0x111eb2[_0x2f43c2(0x156)]()['includes']('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x111eb2,'getPortfolio(2)');return;}}_0x285a9e[_0x2f43c2(0x25b)](_0x3e2946=>{const _0x4c0e91=_0x2f43c2;_0x3e2946['coin']!=_0x5e00ac[_0x4c0e91(0x1dc)]?_0x7b9be3=_0x3e2946[_0x4c0e91(0x25f)]?0x1/_0x109eee[_0x3e2946[_0x4c0e91(0x1ce)]][_0x4c0e91(0x193)]:_0x109eee[_0x3e2946[_0x4c0e91(0x1ce)]][_0x4c0e91(0x193)]:_0x7b9be3=0x1,_0x3e2946[_0x4c0e91(0x206)]=formatResult(_0x7b9be3,0x8);}),proxyEmit(_0x2f43c2(0x254),_0x285a9e);}}function checkMinimums(_0x2f57be){const _0x843fa2=_0x3fea31;let _0x291075=!![];const _0x539ca7=!_0x2f57be['reverse']?markets[_0x2f57be[_0x843fa2(0x1ce)]][_0x843fa2(0x23a)]['amount']['min']:markets[_0x2f57be[_0x843fa2(0x1ce)]][_0x843fa2(0x23a)][_0x843fa2(0x15a)]['min'],_0x54f65d=!_0x2f57be[_0x843fa2(0x25f)]?markets[_0x2f57be[_0x843fa2(0x1ce)]][_0x843fa2(0x23a)][_0x843fa2(0x15a)][_0x843fa2(0x1f8)]:markets[_0x2f57be[_0x843fa2(0x1ce)]]['limits'][_0x843fa2(0x1fe)][_0x843fa2(0x1f8)],_0x4d8668=markets[_0x2f57be[_0x843fa2(0x1ce)]][_0x843fa2(0x1b5)][_0x843fa2(0x1fe)];_0x2f57be['trade']=formatResultTruncate(_0x2f57be[_0x843fa2(0x200)],_0x4d8668);if(Math[_0x843fa2(0x247)](_0x2f57be['trade'])<_0x539ca7)_0x291075=![];if(Math[_0x843fa2(0x247)](_0x2f57be[_0x843fa2(0x200)])*_0x2f57be[_0x843fa2(0x193)]<_0x54f65d)_0x291075=![];if(_0x2f57be['side']==_0x843fa2(0x1d3)){let _0x1827ec=config[_0x843fa2(0x254)][_0x843fa2(0x1a0)](_0x3505b2=>_0x3505b2['coin']==_0x2f57be[_0x843fa2(0x1c6)]);if(_0x1827ec[_0x843fa2(0x15b)]>0x0){if(Math['abs'](_0x2f57be['trade'])>_0x2f57be[_0x843fa2(0x205)]-_0x1827ec['offset'])_0x291075=![];}else{if(Math[_0x843fa2(0x247)](_0x2f57be[_0x843fa2(0x200)])>_0x2f57be[_0x843fa2(0x205)])_0x291075=![];}}if(_0x2f57be[_0x843fa2(0x218)]==_0x843fa2(0x261)){let _0x38062a=config[_0x843fa2(0x254)]['find'](_0x5e379e=>_0x5e379e['coin']==config['basecoin']),_0x52bcbd=currentCoins[_0x843fa2(0x1a0)](_0x4b334a=>_0x4b334a[_0x843fa2(0x1c6)]==config['basecoin']);if(_0x38062a['offset']>0x0){if(Math['abs'](_0x2f57be[_0x843fa2(0x200)])*_0x2f57be['last']>_0x52bcbd[_0x843fa2(0x205)]-_0x38062a[_0x843fa2(0x15b)])_0x291075=![];}else{if(Math[_0x843fa2(0x247)](_0x2f57be[_0x843fa2(0x200)])*_0x2f57be[_0x843fa2(0x193)]>_0x52bcbd[_0x843fa2(0x205)])_0x291075=![];}}return _0x291075;}async function getBalances(){const _0x33f0f2=_0x3fea31;let _0x4bf11e=0x0,_0x273890;const _0x3e7892=config[_0x33f0f2(0x1c7)];if(config[_0x33f0f2(0x18a)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x33f0f2(0x25b)](_0xb44f7b=>{const _0x235777=_0x33f0f2;if(_0xb44f7b[_0x235777(0x1c6)]!=config[_0x235777(0x1dc)]){let _0x281ac6=global[_0x235777(0x181)][noslash(_0xb44f7b[_0x235777(0x1ce)])];_0x273890=_0xb44f7b[_0x235777(0x25f)]?0x1/_0x281ac6:_0x281ac6;}else _0x273890=0x1;let _0x1d7821=_0xb44f7b[_0x235777(0x205)]*_0x273890;_0x4bf11e+=_0x1d7821,_0xb44f7b[_0x235777(0x193)]=formatResult(Number(_0x273890),0x8),_0xb44f7b[_0x235777(0x1d4)]=_0x1d7821;}),currentCoins[_0x33f0f2(0x25b)](_0x40f496=>{const _0x58e26d=_0x33f0f2;let _0x446e37=config['portfolio'][_0x58e26d(0x1a0)](_0x5078be=>_0x5078be['coin']==_0x40f496[_0x58e26d(0x1c6)]),_0x2bdafb=Number(_0x446e37['distribution']),_0x489563=_0x40f496[_0x58e26d(0x1d4)]/_0x4bf11e*0x64,_0x5287f6=_0x2bdafb*_0x4bf11e/0x64/_0x40f496[_0x58e26d(0x193)]-_0x40f496['number'];_0x40f496[_0x58e26d(0x1ac)]=formatResult(_0x489563,0x3),_0x40f496['target']=formatResult(_0x2bdafb,0x3),_0x40f496[_0x58e26d(0x200)]=formatResult(_0x5287f6,0x8),_0x40f496[_0x58e26d(0x218)]='',_0x40f496[_0x58e26d(0x1ba)]=![];if(_0x40f496[_0x58e26d(0x1c6)]!=config[_0x58e26d(0x1dc)]){if(_0x40f496[_0x58e26d(0x1ac)]>_0x2bdafb)_0x40f496[_0x58e26d(0x218)]=_0x58e26d(0x1d3),_0x40f496[_0x58e26d(0x1ba)]=checkMinimums(_0x40f496);else _0x40f496[_0x58e26d(0x1ac)]<_0x2bdafb&&(_0x40f496[_0x58e26d(0x218)]=_0x58e26d(0x261),_0x40f496[_0x58e26d(0x1ba)]=checkMinimums(_0x40f496));}_0x40f496[_0x58e26d(0x25d)]=_0x40f496[_0x58e26d(0x1ac)]/_0x40f496[_0x58e26d(0x28f)]-0x1;if(_0x40f496['orderstatus']==_0x58e26d(0x172)||_0x40f496['orderstatus']==_0x58e26d(0x183))_0x40f496[_0x58e26d(0x1d5)]=_0x58e26d(0x26e);}),currentCoins[_0x33f0f2(0x167)]((_0x19c475,_0x1c636c)=>_0x19c475['delta']<_0x1c636c[_0x33f0f2(0x25d)]?0x1:_0x1c636c['delta']<_0x19c475[_0x33f0f2(0x25d)]?-0x1:0x0);const _0x377b7c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x377b7c[_0x33f0f2(0x245)],'usd':_0x377b7c[_0x33f0f2(0x214)],'portfolio':JSON[_0x33f0f2(0x184)](currentCoins),'threshold':_0x3e7892},proxyEmit(_0x33f0f2(0x1b9),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x3e7892});else{if(lockOrders==ORDERS[_0x33f0f2(0x1f6)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3e7892});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x31c6fd=getNormalizedPerformance();getStartingBalances(_0x31c6fd),emitPerformance(_0x31c6fd);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x1590a6=getNormalizedPerformance();emitPerformance(_0x1590a6),getStartingBalances(_0x1590a6),logger[_0x33f0f2(0x16a)](_0x33f0f2(0x15c));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x105721=_0x3fea31;if(!lastBalances)return;let _0xf2ba18=[],_0x3f904f,_0x455305=JSON['parse'](lastBalances[_0x105721(0x254)]);_0x455305[_0x105721(0x167)]((_0x4e6fad,_0x5a5ca3)=>_0x4e6fad[_0x105721(0x1c6)]>_0x5a5ca3['coin']?0x1:_0x5a5ca3[_0x105721(0x1c6)]>_0x4e6fad[_0x105721(0x1c6)]?-0x1:0x0),_0x455305['forEach'](_0x23b0f3=>{const _0x14d59a=_0x105721;let _0x4e7056={'coin':_0x23b0f3[_0x14d59a(0x1c6)],'number':_0x23b0f3[_0x14d59a(0x205)],'price':_0x23b0f3[_0x14d59a(0x193)]};_0xf2ba18[_0x14d59a(0x2b9)](_0x4e7056);});const _0x1a7119=await getFiat();_0x3f904f={'date':lastBalances['time'][_0x105721(0x1a5)]('\x20')[0x0],'eur':_0x1a7119[_0x105721(0x245)],'usd':_0x1a7119[_0x105721(0x214)],'coins':_0xf2ba18};let _0x53a5bb=dbPerformance[_0x105721(0x215)](_0x105721(0x277))[_0x105721(0x1a0)]({'date':_0x3f904f['date']})[_0x105721(0x1d4)]();_0x53a5bb?_0x3f904f[_0x105721(0x242)]!=config['startdate']&&dbPerformance[_0x105721(0x215)](_0x105721(0x277))[_0x105721(0x1a0)]({'date':_0x3f904f['date']})[_0x105721(0x24b)](_0x3f904f)['write']():dbPerformance[_0x105721(0x215)]('data')['push'](_0x3f904f)[_0x105721(0x1f9)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x19bfc9=_0x3fea31;let _0x2d953b=[];if(dbPerformance[_0x19bfc9(0x1b4)](_0x19bfc9(0x277))[_0x19bfc9(0x1d4)]()){let _0x8cc7e0=dbPerformance[_0x19bfc9(0x215)]('data')[_0x19bfc9(0x154)]()[_0x19bfc9(0x259)](_0x19bfc9(0x242))[_0x19bfc9(0x1d4)](),_0xe7899b=[...config[_0x19bfc9(0x2ae)]];_0xe7899b[_0x19bfc9(0x167)]((_0x6ce275,_0x3d66f2)=>_0x6ce275['date']>_0x3d66f2[_0x19bfc9(0x242)]?-0x1:_0x3d66f2[_0x19bfc9(0x242)]>_0x6ce275[_0x19bfc9(0x242)]?0x1:0x0);let _0x56c0e5=0x1,_0x5cd2ae=[],_0x4119ca=0x0;_0x8cc7e0[_0x19bfc9(0x255)]()[_0x19bfc9(0x25f)]()[_0x19bfc9(0x25b)]((_0x977577,_0x332564)=>{const _0x17545c=_0x19bfc9;if(_0xe7899b[_0x4119ca]){if(_0x8cc7e0[_0x8cc7e0[_0x17545c(0x1b1)]-_0x332564]&&_0xe7899b[_0x4119ca]['date']==_0x8cc7e0[_0x8cc7e0['length']-_0x332564][_0x17545c(0x242)]){if(_0x332564<_0x8cc7e0[_0x17545c(0x1b1)]){let _0x12a560=0x0,_0x4cfa69=0x0;_0x8cc7e0[_0x8cc7e0['length']-_0x332564]['coins']['forEach'](_0x22be7d=>{const _0x6a6fb6=_0x17545c;_0x4cfa69+=_0x22be7d[_0x6a6fb6(0x205)]*_0x22be7d['price'];}),_0xe7899b[_0x4119ca][_0x17545c(0x1cf)][_0x17545c(0x25b)](_0x12a3e4=>{const _0x209906=_0x17545c;_0x12a560+=_0x12a3e4[_0x209906(0x205)]*_0x12a3e4[_0x209906(0x206)];}),_0x56c0e5*=_0x12a560/(_0x4cfa69-_0x12a560)+0x1;}_0x4119ca++;}}let _0x1cfb81=0x0;_0x977577[_0x17545c(0x1dd)][_0x17545c(0x25b)](_0x24e7ac=>{const _0x1d00d2=_0x17545c;_0x1cfb81+=_0x24e7ac[_0x1d00d2(0x205)]*_0x24e7ac['price'];}),_0x5cd2ae[_0x8cc7e0[_0x17545c(0x1b1)]-_0x332564-0x1]=_0x1cfb81*(_0x56c0e5-0x1);});let _0x17e808=[];_0xe7899b=[...config[_0x19bfc9(0x2ae)]]||[];let _0x2b2850=0x0;_0x4119ca=0x0,_0x8cc7e0[_0x19bfc9(0x25b)]((_0x5bd487,_0x4c0aa2)=>{const _0x169ff2=_0x19bfc9;if(_0xe7899b[_0x4119ca]){const _0x254481=fns[_0x169ff2(0x185)](_0xe7899b[_0x4119ca]['date'],_0x169ff2(0x16f),new Date()),_0x34389c=fns[_0x169ff2(0x185)](_0x5bd487[_0x169ff2(0x242)],_0x169ff2(0x16f),new Date());if(fns[_0x169ff2(0x1e6)](_0x254481,_0x34389c)){let _0x3ee7e3=0x0;_0xe7899b[_0x4119ca][_0x169ff2(0x1cf)][_0x169ff2(0x25b)](_0xd2802c=>{const _0x106f48=_0x169ff2;!_0x17e808[_0xd2802c['coin']]?_0x17e808[_0xd2802c['coin']]=_0xd2802c[_0x106f48(0x205)]:(_0x3ee7e3=_0x17e808[_0xd2802c[_0x106f48(0x1c6)]],_0x17e808[_0xd2802c[_0x106f48(0x1c6)]]+=_0xd2802c[_0x106f48(0x205)]);const _0x18ea20=_0x5bd487[_0x106f48(0x1dd)][_0x106f48(0x1a0)](_0x6dcf49=>_0x6dcf49['coin']==_0xd2802c[_0x106f48(0x1c6)]);(!_0x18ea20||_0x18ea20[_0x106f48(0x205)]==0x0)&&(_0x2b2850+=(-_0xd2802c['number']-_0x3ee7e3)*_0xd2802c[_0x106f48(0x206)]);}),_0x4119ca++;}}_0x5bd487['coins'][_0x169ff2(0x25b)]((_0x188a95,_0x24aed1)=>{const _0x405623=_0x169ff2;_0x17e808[_0x188a95['coin']]&&(_0x188a95[_0x405623(0x251)]=_0x17e808[_0x188a95['coin']]);}),_0x2d953b['push']({'date':_0x5bd487[_0x169ff2(0x242)],'eur':_0x5bd487['eur'],'usd':_0x5bd487['usd'],'offset':_0x5cd2ae[_0x4c0aa2],'netoffset':_0x2b2850,'coins':_0x5bd487[_0x169ff2(0x1dd)]});});}return _0x2d953b;}function emitPerformance(_0x4e0f23){const _0x6e3d13=_0x3fea31;_0x4e0f23[_0x6e3d13(0x1b1)]!==0x0?(proxyEmit('performance',_0x4e0f23),lastPerformanceEmitted=getDate()):proxyEmit(_0x6e3d13(0x2ba),[]);}function getPerf(_0x47b045,_0x484841){const _0x281dce=_0x3fea31;let _0x39b1d7=0x0,_0x483a75=0x0,_0x353221=0x0;_0x47b045['coins']['forEach'](_0x2d75de=>{const _0x9e88e=_0x5264;_0x39b1d7+=_0x2d75de[_0x9e88e(0x205)]*_0x2d75de[_0x9e88e(0x206)];});_0x484841&&(_0x39b1d7+=_0x47b045['offset']);if(config['basecoin']==='BTC'||config[_0x281dce(0x1dc)]==='ETH')_0x483a75=_0x39b1d7*_0x47b045[_0x281dce(0x245)],_0x353221=_0x39b1d7*_0x47b045[_0x281dce(0x214)];else{if(config[_0x281dce(0x1dc)]===_0x281dce(0x260)||config[_0x281dce(0x1dc)]===_0x281dce(0x1bc)||config['basecoin']===_0x281dce(0x1da))_0x483a75=_0x39b1d7*_0x47b045[_0x281dce(0x245)]/_0x47b045['usd'],_0x353221=_0x39b1d7;else config[_0x281dce(0x1dc)]===_0x281dce(0x150)&&(_0x483a75=_0x39b1d7,_0x353221=_0x39b1d7*_0x47b045[_0x281dce(0x214)]/_0x47b045[_0x281dce(0x245)]);}return[_0x39b1d7,_0x483a75,_0x353221];}function getKPIs(_0x50043a,_0x222bc6=_0x3fea31(0x150)){const _0x3641e8=_0x3fea31,_0x3e367f=config[_0x3641e8(0x1dc)],_0x13d842=lastBalances,_0x2aa75e=currentCoins,_0x2cd490=getNormalizedPerformance(),_0x4930d7=_0x50043a===_0x3641e8(0x1dc)?_0x3e367f:_0x50043a===_0x3641e8(0x263)||_0x50043a==='net-fiat'?_0x222bc6:_0x3641e8(0x194)+_0x3e367f,_0x57b91a=_0x50043a===_0x3641e8(0x203)?'Net\x20effect':_0x50043a===_0x3641e8(0x28b)?'Net\x20effect':_0x4930d7+_0x3641e8(0x272),_0x37e370=_0x50043a==='net-basecoin'||_0x50043a==='net-fiat'?_0x3641e8(0x273):_0x4930d7+_0x3641e8(0x26a);let _0x8936ce=0x0;_0x2aa75e[_0x3641e8(0x25b)](_0x370379=>{const _0x28dbdf=_0x3641e8;_0x8936ce+=_0x370379['number']*_0x370379[_0x28dbdf(0x193)];});if(_0x50043a===_0x3641e8(0x263)||_0x50043a===_0x3641e8(0x28b)){if(_0x3e367f===_0x3641e8(0x17a)||_0x3e367f===_0x3641e8(0x24f))_0x8936ce=_0x8936ce*(_0x222bc6===_0x3641e8(0x150)?_0x13d842[_0x3641e8(0x245)]:_0x13d842[_0x3641e8(0x214)]);else{if(_0x3e367f===_0x3641e8(0x260)||_0x3e367f===_0x3641e8(0x1bc)||_0x3e367f==='USD')_0x8936ce=_0x8936ce*(_0x222bc6===_0x3641e8(0x150)?_0x13d842[_0x3641e8(0x245)]/_0x13d842[_0x3641e8(0x214)]:0x1);else _0x3e367f===_0x3641e8(0x150)&&(_0x8936ce=_0x8936ce*(_0x222bc6===_0x3641e8(0x150)?0x1:_0x13d842[_0x3641e8(0x214)]/_0x13d842[_0x3641e8(0x245)]));}}let _0x3f13cd;if(_0x8936ce!==0x0){if(_0x50043a===_0x3641e8(0x1dc))_0x3f13cd=(_0x8936ce/startingBalances[_0x3641e8(0x1dc)]-0x1)*0x64;else{if(_0x222bc6===_0x3641e8(0x150))_0x3f13cd=(_0x8936ce/startingBalances[_0x3641e8(0x245)]-0x1)*0x64;else _0x3f13cd=(_0x8936ce/startingBalances[_0x3641e8(0x214)]-0x1)*0x64;}let _0x4845aa=0x0;if(startingBalances[_0x3641e8(0x1dd)])_0x2aa75e[_0x3641e8(0x25b)](_0x521263=>{const _0x319f92=_0x3641e8;let _0x4167e2=startingBalances[_0x319f92(0x1dd)][_0x319f92(0x1a0)](_0x59e535=>_0x59e535[_0x319f92(0x1c6)]===_0x521263[_0x319f92(0x1c6)]);if(_0x4167e2&&_0x4167e2[_0x319f92(0x1c6)]&&_0x521263[_0x319f92(0x205)]!==0x0)_0x4845aa+=_0x4167e2['number']*_0x521263['last'];});let _0x42f0cb=0x0;if(_0x2cd490[_0x3641e8(0x1b1)]!==0x0){let _0x494b7a=_0x2cd490[_0x2cd490[_0x3641e8(0x1b1)]-0x1];_0x42f0cb=_0x494b7a[_0x3641e8(0x265)];}_0x4845aa-=_0x42f0cb;_0x50043a===_0x3641e8(0x203)&&(_0x3f13cd=(_0x8936ce-_0x4845aa)/startingBalances[_0x3641e8(0x1dc)]*0x64,_0x8936ce=_0x8936ce-_0x4845aa);if(_0x50043a===_0x3641e8(0x28b)){let _0x3fdb3d=_0x222bc6==='EUR'?startingBalances[_0x3641e8(0x245)]:startingBalances['usd'];if(_0x3e367f===_0x3641e8(0x17a)||_0x3e367f===_0x3641e8(0x24f))_0x4845aa=_0x222bc6===_0x3641e8(0x150)?_0x4845aa*_0x13d842[_0x3641e8(0x245)]:_0x4845aa*_0x13d842[_0x3641e8(0x214)];else{if(_0x3e367f===_0x3641e8(0x260)||_0x3e367f===_0x3641e8(0x1bc)||_0x3e367f===_0x3641e8(0x1da))_0x4845aa=_0x222bc6===_0x3641e8(0x150)?_0x4845aa*_0x13d842[_0x3641e8(0x245)]/_0x13d842['usd']:_0x4845aa;else _0x3e367f==='EUR'&&(_0x4845aa=_0x222bc6===_0x3641e8(0x150)?_0x4845aa:_0x4845aa*_0x13d842['usd']/_0x13d842[_0x3641e8(0x245)]);}_0x3f13cd=(_0x8936ce-_0x4845aa)/_0x3fdb3d*0x64,_0x8936ce=_0x8936ce-_0x4845aa;}if(_0x3f13cd){if(_0x3f13cd<0x64)_0x3f13cd=_0x3f13cd[_0x3641e8(0x291)](0x2);else{if(_0x3f13cd<0x3e8)_0x3f13cd=_0x3f13cd['toFixed'](0x1);else _0x3f13cd=_0x3f13cd[_0x3641e8(0x291)](0x0);}}else _0x3f13cd=Number('0')['toFixed'](0x2);if(_0x8936ce){if(Math[_0x3641e8(0x247)](_0x8936ce)<0.000001)_0x8936ce=_0x8936ce[_0x3641e8(0x291)](0x2);else{if(Math[_0x3641e8(0x247)](_0x8936ce)<0.1)_0x8936ce=_0x8936ce[_0x3641e8(0x291)](0x6);else{if(Math[_0x3641e8(0x247)](_0x8936ce)<0x1)_0x8936ce=_0x8936ce[_0x3641e8(0x291)](0x5);else{if(Math['abs'](_0x8936ce)<0xa)_0x8936ce=_0x8936ce[_0x3641e8(0x291)](0x4);else{if(Math[_0x3641e8(0x247)](_0x8936ce)<0x64)_0x8936ce=_0x8936ce[_0x3641e8(0x291)](0x3);else{if(Math[_0x3641e8(0x247)](_0x8936ce)<0x3e8)_0x8936ce=_0x8936ce[_0x3641e8(0x291)](0x2);else _0x8936ce=_0x8936ce[_0x3641e8(0x291)](0x2);}}}}}}else _0x8936ce=Number('0')['toFixed'](0x2);}else _0x3f13cd=Number('0')[_0x3641e8(0x291)](0x2);return{'value':_0x8936ce,'change':_0x3f13cd,'leftTxt':_0x57b91a,'rightTxt':_0x37e370};}async function getStartingBalances(_0x16e750,_0x2c4dd9=!![]){const _0xc1c664=_0x3fea31;if(_0x16e750[_0xc1c664(0x1b1)]!==0x0){const [_0x1693ee,_0x44f8c0,_0x461549]=getPerf(_0x16e750[0x0],!![]);let _0x5eb50d=[];config[_0xc1c664(0x254)][_0xc1c664(0x25b)](_0x566020=>{const _0x477c77=_0xc1c664;let _0xc94ee8=0x0,_0x4c2887;config[_0x477c77(0x2ae)]['forEach'](_0x2a3146=>{const _0x15b807=_0x477c77;let _0x4396c1=_0x2a3146['changes']['find'](_0x2fece9=>_0x2fece9['coin']==_0x566020[_0x15b807(0x1c6)]);if(_0x4396c1){_0xc94ee8+=_0x4396c1['number'];if(!_0x4c2887)_0x4c2887=_0x4396c1[_0x15b807(0x206)];}}),_0x5eb50d[_0x477c77(0x2b9)]({'coin':_0x566020[_0x477c77(0x1c6)],'number':_0xc94ee8,'initialprice':_0x4c2887});});const _0x5ab551={'basecoin':_0x1693ee,'eur':_0x44f8c0,'usd':_0x461549,'coins':_0x5eb50d};if(_0x2c4dd9)proxyEmit(_0xc1c664(0x1eb),_0x5ab551);startingBalances=_0x5ab551;}}function _0x3669(){const _0xacffc1=['1\x20-\x20FILLED:\x20','Error:\x20Invalid\x20argument\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','resetHistory','includes','getOpenOrders()','progress','AuthenticationError','getSeconds','\x20portfolio:</b>\x20\x0a\x0a','error','recovery','3\x20-\x20handling\x20FILLED\x20order:\x20','clientOrderId','search','message','restart','bot-','unlinkSync','remainingSymbols','open','154212iNrFqD','liquidity','Bot\x20','8936eeIQJQ',',\x20must\x20be\x20a\x203\x20digit\x20number','rightTxt','<pre>','format','padEnd','-results.json','.json','indexOf','push','performance','sells','balancing\x20resumed','Cooldown\x20ended\x20-\x20balancing\x20resumed','page','freeze','change24h','date-fns','decrypt','timeout','full','/output-000.log','2\x20-\x20Orders\x20unlocked','showname','2\x20-\x20Validate\x20orders:\x20','-performance.json','writeFile','startprice','realized','round','getStartingBalances','order','getTime','add','EUR','exchanges','sendPortfolioTelegram','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','cloneDeep','95hVvvRn','toString','padStart','exchange\x20not\x20reloaded','fetchTickers','cost','offset','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','2.3.5','settings','simple','fetchClosedOrders','kill','shift','breakeven','logs','max','loadMarkets','sort','2.5.0','Executed\x20','debug','argv','util','getDate','recreate','yyyy/MM/dd','balancing\x20resumes\x20when\x20cooldown\x20ends','Unfilled\x20order(s)\x20canceled\x20after\x20','filled','1\x20-\x20Handle\x20open\x20orders','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','2.6.0','API-key\x20format\x20invalid','remove','cooldown','./config/','BTC','timer:','************','send','MIN_NOTIONAL','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','recent20','ticker','cancel','canceled','stringify','parse','fetchTicker','cancelOrders()','Transaction\x20detection\x20unblocked','success','headless','event','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','3868865wsBmbX','-events.json','DDoSProtection','args','exchange\x20reloaded','apiKey','last','Net\x20','bot','\x20API\x20secret\x20is\x20invalid','bid','getPortfolio(1)','\x20orders\x20in\x20less\x20than\x20','001','Binance','emojisell','buys','createOrder','\x20has\x20a\x2024h\x20drop\x20of\x20','find','customId','/EUR','pro','\x20|\x20Error\x20details:\x20','split','\x20|\x20highest:\x20','close','exec','UNLOCKING','startnumber','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','distribution','lowdb/adapters/FileSync','placeOrder','Fees\x20|\x20currency:\x20','24ZHUsvQ','length','parseISO','constructor','has','precision','keys','storeHeadless','fee','balances','valid','test','USDT','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20:\x20','Market','ORDERS.UNLOCKING','limit-high','/backup/','getFullYear','BNB/','event-history','coin','threshold','symbols','no\x20additional\x20symbols','Crypt','total','\x20metrics:</b>\x20\x0a\x0a','%\x20(','symbol','changes','warning','startdate','splice','sell','value','orderstatus','LOCKED','showConfig','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','USD','fetchOpenOrders','basecoin','coins','Fee\x20discount\x20refund\x20detected:\x20','fetchBalance','milliseconds','RequestTimeout','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','1\x20-\x20Validate\x20orders:\x20','<b>Bot\x20','datetime','isEqual','\x20>\x20[DEBUG]\x20','ExchangeNotAvailable','toUpperCase','storeFiat','starting-balances','getMonth','/USD','entries','5086602uyFtbQ','fromCodePoint','watchOrders','random','defaults','timeshift','substring','UNLOCKED','botID','min','write','enabled','exchange','ccxt','timestamp','amount','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','trade','apiSecret','1008650tfiGau','net-basecoin','no\x20open\x20orders','number','price','recreateCoinResults()','Initiating\x20exchange\x20reload','0\x20-\x20EXECUTION:\x20','RSA-OAEP','<b>','\x20not\x20responding','time','version','\x20hour','type','mkdirSync','createWriteStream','ordertype','usd','get','bb-secure.json','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','side','differenceInSeconds','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','getHours','map','Invalid\x20quantity','botname','Exchange','configuration-stored','\x20|\x20','16SHpUUE','sendMetricsTelegram','filter','Order\x20amount\x20is\x20invalid:\x20','existsSync','market','apply','\x20not\x20available','secure','ORDERS.LOCKED','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Error\x20while\x20deleting\x20files:\x20','deleteHistoryAlerts','fees','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','Executing\x20exchange\x20reload','join','log','set','\x20exchange','XEM/BUSD','currency','leftTxt','Pausing\x20for\x20','limits','\x20-\x20bot\x20not\x20started','removed','change','configuration','./logs/','ORDERS.UNLOCKED','running','date','privateKey','bots','eur','getPortfolio','abs','2602934SsuJSj','Unknown\x20error\x20occured','\x20minutes\x20-\x20','assign','limit','replace','\x20>\x20','ETH','getMinutes','initial','yargs/yargs','initclient','portfolio','slice','placeOrder()','limit-low','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','sortBy','Reset\x20|\x20','forEach','Manual\x20balancing\x20required','delta','bb-settings.json','reverse','BUSD','buy','\x20|\x20lock\x20orders:\x20','fiat','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','netoffset','2\x20-\x20FILLED\x20known\x20order:\x20','</pre>','onepagemode','openOrders','\x20change','ongoing','watchTransactions','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','none','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','orderId','Limit\x20(low-margin)','\x20value','Net\x20effect','excluded','toLowerCase','51035omvbMH','data','Resetting\x20bot\x20history','OrderNotFound','loadSymbols()','-------------------------------\x0a','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','(((.+)+)+)+$','Portfolio\x20change\x20detected:\x20','getCoins()','\x20minutes','Order\x20filled:\x20','BNB','cancelOrder','added','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20order:\x20','status','closed','final','emojibuy','net-fiat','uncaughtException','InvalidNonce','average','target','additional\x20symbols\x20','toFixed','watchTrades','2\x20-\x20Handled\x20open\x20orders','hybrid-crypto-js','highest','DAI/','path'];_0x3669=function(){return _0xacffc1;};return _0x3669();}function headlessMode(_0x5bb43a){const _0x13d3e9=_0x3fea31;let _0x373ffe=_0x5bb43a[_0x13d3e9(0x254)],_0x545622=_0x5bb43a[_0x13d3e9(0x1c7)],_0x1bf86d=[];for(let _0x26fc17 of _0x373ffe){if(_0x26fc17[_0x13d3e9(0x1c6)]!=config[_0x13d3e9(0x1dc)]){if(_0x26fc17[_0x13d3e9(0x25d)]>=_0x545622/0x64){if(_0x26fc17[_0x13d3e9(0x1ba)])_0x1bf86d[_0x13d3e9(0x2b9)](_0x26fc17);}else{if(_0x26fc17['delta']<=-_0x545622/0x64){if(_0x26fc17[_0x13d3e9(0x1ba)])_0x1bf86d[_0x13d3e9(0x2b9)](_0x26fc17);}}}}_0x1bf86d[_0x13d3e9(0x1b1)]>0x0&&placeOrder(_0x1bf86d);}function notifyBalance(_0x119444){const _0x2c211c=_0x3fea31;let _0x28740d=_0x119444[_0x2c211c(0x254)],_0x3676f0=_0x119444[_0x2c211c(0x1c7)],_0x2997cb=[];for(let _0x1ae8b6 of _0x28740d){if(_0x1ae8b6[_0x2c211c(0x1c6)]!=config['basecoin']){if(_0x1ae8b6[_0x2c211c(0x25d)]>=_0x3676f0/0x64){if(_0x1ae8b6[_0x2c211c(0x1ba)])_0x2997cb[_0x2c211c(0x2b9)](_0x1ae8b6);}else{if(_0x1ae8b6[_0x2c211c(0x25d)]<=-_0x3676f0/0x64){if(_0x1ae8b6[_0x2c211c(0x1ba)])_0x2997cb['push'](_0x1ae8b6);}}}}if(_0x2997cb['length']>0x0){let _0x4bb1c8=_0x2997cb[_0x2c211c(0x21c)](_0x26ed79=>_0x26ed79[_0x2c211c(0x1c6)]);_0x4bb1c8[_0x2c211c(0x167)]();let _0x56f5d5=_0x4bb1c8[_0x2c211c(0x232)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2c211c(0x1d0),_0x2c211c(0x25c));lastCoinsToBalance=_0x56f5d5;}}function symbolToCoin(_0x5959a4){const _0x14b17a=_0x3fea31;let _0x99fc30;if(_0x5959a4[_0x14b17a(0x29c)]('/'+config[_0x14b17a(0x1dc)]))_0x99fc30=_0x5959a4[_0x14b17a(0x24d)]('/'+config[_0x14b17a(0x1dc)],'');if(_0x5959a4[_0x14b17a(0x29c)](config[_0x14b17a(0x1dc)]+'/'))_0x99fc30=_0x5959a4[_0x14b17a(0x24d)](config[_0x14b17a(0x1dc)]+'/','');return _0x99fc30;}async function unlockOrders(){const _0x5b681d=_0x3fea31;if(allOrdersPlaced&&lockOrders==ORDERS[_0x5b681d(0x1d6)]){logger[_0x5b681d(0x16a)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x5b681d(0x1a9)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0xcd3040=await getCoins();[currentCoins,currentCoinsAll]=_0xcd3040,validateOrdersState=_0x5b681d(0x251),persistOpenOrders([]),lockOrders=ORDERS[_0x5b681d(0x1f6)],logger[_0x5b681d(0x16a)](_0x5b681d(0x2c6));}}async function validateOrders(_0x528e94){const _0x3a5849=_0x3fea31;if(_0x528e94)validateOrdersState=_0x528e94;logger['debug'](_0x3a5849(0x1e3)+validateOrdersState+_0x3a5849(0x262)+(lockOrders==0x1?_0x3a5849(0x22b):lockOrders==0x2?_0x3a5849(0x1c0):_0x3a5849(0x240)));let _0x477796=[],_0x22030c=config[_0x3a5849(0x213)]==_0x3a5849(0x227)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x3a5849(0x2c3)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3a5849(0x1d6)])return;logger[_0x3a5849(0x16a)](_0x3a5849(0x2c8)+validateOrdersState),lastOrders['forEach'](_0x38431c=>{const _0x59587a=_0x3a5849;let _0x2d9d86=![];_0x38431c['filled']>0x0&&(_0x2d9d86=!![]),_0x477796[_0x59587a(0x2b9)](_0x2d9d86),_0x2d9d86&&config[_0x59587a(0x213)]!=_0x59587a(0x227)&&logHistory(_0x59587a(0x2cf),_0x59587a(0x281)+_0x38431c[_0x59587a(0x1ce)]+'\x20'+_0x38431c[_0x59587a(0x218)]+'\x20#'+formatResult(_0x38431c['filled'],0x8)+'\x20@'+formatResult(_0x38431c[_0x59587a(0x206)],0x8));}),_0x477796[_0x3a5849(0x25b)]((_0x372632,_0x18f36e)=>{const _0x3f957d=_0x3a5849;if(_0x372632)lastOrders[_0x3f957d(0x1d2)](_0x18f36e,0x1);}),persistOpenOrders(lastOrders);const _0x8abdda=coolingDown?_0x3a5849(0x170):_0x3a5849(0x2bc);if(validateOrdersState==_0x3a5849(0x251)){validateOrdersState=_0x3a5849(0x26b);if(_0x477796[_0x3a5849(0x29c)](![])){if(config[_0x3a5849(0x213)]==_0x3a5849(0x227)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x477796[_0x3a5849(0x29c)](![])){}else{if(allOrdersPlaced){if(config[_0x3a5849(0x213)]==_0x3a5849(0x227)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x3a5849(0x289))_0x477796[_0x3a5849(0x29c)](![])&&(config[_0x3a5849(0x213)]=='market'?logHistory('success','Order(s)\x20not\x20validated\x20after\x20'+Math[_0x3a5849(0x2cd)](_0x22030c*validateOrderInterval/0xea60)+_0x3a5849(0x24a)+_0x8abdda):(await cancelOrders(),logHistory('success',_0x3a5849(0x171)+Math[_0x3a5849(0x2cd)](_0x22030c*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x8abdda))),await unlockOrders();else{if(validateOrdersState==_0x3a5849(0x204)){if(config[_0x3a5849(0x213)]!='market')logHistory(_0x3a5849(0x189),'No\x20more\x20open\x20orders\x20-\x20'+_0x8abdda);await unlockOrders();}}}}}async function cancelOrders(){const _0x11a294=_0x3fea31;lastOrders[_0x11a294(0x25b)](async _0x1220bb=>{const _0x176c84=_0x11a294;try{const _0x4574ee=await exchange[_0x176c84(0x283)](_0x1220bb[_0x176c84(0x270)],_0x1220bb[_0x176c84(0x1ce)]);}catch(_0x2e7587){if(_0x2e7587[_0x176c84(0x156)]()[_0x176c84(0x29c)](_0x176c84(0x279))){}else await handleError(_0x2e7587,_0x176c84(0x187));}});}async function initCoinResults(){const _0x5a62a7=_0x3fea31;let _0x1ee7a=[];config[_0x5a62a7(0x254)][_0x5a62a7(0x25b)](_0x2a5493=>{const _0x163026=_0x5a62a7;if(!_0x2a5493['excluded']&&_0x2a5493[_0x163026(0x1c6)]!=config[_0x163026(0x1dc)]){let _0x5ef80f=dbCoinResults[_0x163026(0x215)](_0x163026(0x1dd))[_0x163026(0x1a0)]({'coin':_0x2a5493[_0x163026(0x1c6)]})[_0x163026(0x1d4)]();if(!_0x5ef80f){const _0x4e7d46=currentCoins[_0x163026(0x1a0)](_0x5f2d89=>_0x5f2d89[_0x163026(0x1c6)]==_0x2a5493[_0x163026(0x1c6)]),_0x228865=global[_0x163026(0x181)][noslash(_0x2a5493[_0x163026(0x1ce)])];let _0x113474=_0x4e7d46?_0x4e7d46[_0x163026(0x205)]:null,_0x5f29ad=_0x2a5493[_0x163026(0x25f)]?0x1/_0x228865:_0x228865,_0x5cad74;config[_0x163026(0x2ae)]['forEach'](_0x5160e6=>{const _0x23587f=_0x163026;!_0x5cad74&&(_0x5cad74=_0x5160e6[_0x23587f(0x1cf)][_0x23587f(0x1a0)](_0x2648b0=>_0x2648b0[_0x23587f(0x1c6)]==_0x2a5493['coin']),_0x5cad74&&(_0x113474=_0x5cad74[_0x23587f(0x205)],_0x5f29ad=_0x5cad74['price']));}),_0x1ee7a[_0x163026(0x2b9)]({'coin':_0x2a5493[_0x163026(0x1c6)],'number':_0x113474,'price':_0x5f29ad});}}}),_0x1ee7a['forEach'](_0x46e7f6=>{const _0x255871=_0x5a62a7,_0x273d09={'coin':_0x46e7f6['coin'],'number':_0x46e7f6[_0x255871(0x205)],'breakeven':_0x46e7f6[_0x255871(0x206)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x255871(0x215)]('coins')[_0x255871(0x2b9)](_0x273d09)['write']();});}async function updateCoinResults(_0x2f0c6a,_0x408ee8=![]){const _0xb18717=_0x3fea31;let _0xc4197d,_0x5dd683,_0x2daf5a,_0x1c220c,_0xaa8f0a,_0x50c16c,_0x48c68e=dbCoinResults[_0xb18717(0x215)](_0xb18717(0x1dd))['find']({'coin':_0x2f0c6a[_0xb18717(0x1c6)]})[_0xb18717(0x1d4)]();!_0x48c68e&&await initCoinResults();_0x2f0c6a['reverse']&&(_0x50c16c={'filled':_0x2f0c6a['filled']*_0x2f0c6a[_0xb18717(0x206)],'amount':_0x2f0c6a[_0xb18717(0x172)]*_0x2f0c6a[_0xb18717(0x206)],'side':_0x2f0c6a[_0xb18717(0x218)]=='sell'?'buy':_0xb18717(0x1d3),'price':0x1/_0x2f0c6a[_0xb18717(0x206)]},_0x2f0c6a={..._0x2f0c6a,..._0x50c16c});_0x408ee8?_0x5dd683=_0x2f0c6a['side']==_0xb18717(0x261)?_0x48c68e['number']+_0x2f0c6a[_0xb18717(0x172)]:_0x48c68e['number']-_0x2f0c6a['filled']:_0x5dd683=await getCoinNumber(_0x2f0c6a['coin']);if(_0x2f0c6a[_0xb18717(0x1b8)]&&_0x2f0c6a[_0xb18717(0x1b8)][_0xb18717(0x237)]==config[_0xb18717(0x1dc)])_0xc4197d=_0x2f0c6a[_0xb18717(0x1b8)]['cost'];else{if(_0x2f0c6a[_0xb18717(0x1b8)]&&_0x2f0c6a[_0xb18717(0x1b8)][_0xb18717(0x237)]==_0xb18717(0x282)&&!_0x408ee8)_0xc4197d=_0x2f0c6a[_0xb18717(0x1b8)][_0xb18717(0x15a)]*global[_0xb18717(0x181)][_0xb18717(0x282)+config[_0xb18717(0x1dc)]];else _0xc4197d=defaultFee*_0x2f0c6a['filled']*_0x2f0c6a[_0xb18717(0x206)];}_0x2f0c6a[_0xb18717(0x218)]==_0xb18717(0x261)?(_0x2daf5a=_0x5dd683!=0x0?(_0x48c68e[_0xb18717(0x163)]*_0x48c68e['number']+_0x2f0c6a[_0xb18717(0x206)]*(_0x5dd683-_0x48c68e[_0xb18717(0x205)])+_0xc4197d)/_0x5dd683:0x0,_0x1c220c=_0x48c68e[_0xb18717(0x2cc)]):(_0x2daf5a=_0x5dd683!=0x0?(_0x48c68e[_0xb18717(0x163)]*_0x48c68e[_0xb18717(0x205)]-_0x2f0c6a[_0xb18717(0x206)]*(_0x48c68e[_0xb18717(0x205)]-_0x5dd683)+_0xc4197d)/_0x5dd683:0x0,_0x1c220c=_0x48c68e[_0xb18717(0x2cc)]+(_0x2f0c6a['price']-_0x48c68e[_0xb18717(0x163)])*_0x2f0c6a[_0xb18717(0x172)]);_0xaa8f0a=(_0x2f0c6a[_0xb18717(0x206)]-_0x2daf5a-_0xc4197d/_0x2f0c6a[_0xb18717(0x172)])*_0x5dd683;let _0x1d69a3={'coin':_0x2f0c6a[_0xb18717(0x1c6)],'number':_0x5dd683,'breakeven':formatResult(_0x2daf5a,0x8),'realized':formatResult(_0x1c220c,0x8),'unrealized':formatResult(_0xaa8f0a,0x8),'fees':formatResult(_0x48c68e[_0xb18717(0x22f)]+_0xc4197d,0x8),'sells':_0x2f0c6a[_0xb18717(0x218)]=='sell'?_0x48c68e[_0xb18717(0x2bb)]+0x1:_0x48c68e['sells'],'buys':_0x2f0c6a['side']=='buy'?_0x48c68e[_0xb18717(0x19d)]+0x1:_0x48c68e['buys']};dbCoinResults[_0xb18717(0x215)](_0xb18717(0x1dd))[_0xb18717(0x1a0)]({'coin':_0x2f0c6a[_0xb18717(0x1c6)]})[_0xb18717(0x24b)](_0x1d69a3)[_0xb18717(0x1f9)]();if(!_0x408ee8){if(_0x2f0c6a['fee']&&_0x2f0c6a[_0xb18717(0x1b8)][_0xb18717(0x237)]=='BNB'){const _0x187276=currentCoins[_0xb18717(0x1a0)](_0xd04349=>_0xd04349[_0xb18717(0x1c6)]==_0xb18717(0x282));if(_0x187276){let _0x59dab3=dbCoinResults[_0xb18717(0x215)](_0xb18717(0x1dd))['find']({'coin':'BNB'})['value']();_0x1d69a3={..._0x59dab3,'number':_0x187276['number']},dbCoinResults['get'](_0xb18717(0x1dd))['find']({'coin':'BNB'})[_0xb18717(0x24b)](_0x1d69a3)['write']();}}}}async function placeOrder(_0x265279){const _0x500cfe=_0x3fea31,_0x1a1ddf=config['ordertype']==_0x500cfe(0x227)?_0x500cfe(0x227):_0x500cfe(0x24c);if(lockOrders==ORDERS[_0x500cfe(0x1f6)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x500cfe(0x251),lastOrders=[];for(const _0x3092c0 of _0x265279){let _0x23eef3,_0x2cbffb,_0x183573,_0xde6ea7,_0x493cf3,_0x1df43e=_0x3092c0[_0x500cfe(0x1ce)];try{const _0x580cea=await exchange[_0x500cfe(0x186)](_0x1df43e);_0x23eef3=_0x3092c0['reverse']?0x1/_0x3092c0['last']:_0x3092c0[_0x500cfe(0x193)],_0x2cbffb=_0x580cea[_0x500cfe(0x197)],_0x183573=_0x580cea['ask'];_0x3092c0[_0x500cfe(0x25f)]?(_0xde6ea7=_0x3092c0['side']==_0x500cfe(0x261)?'sell':_0x500cfe(0x261),_0x493cf3=Math[_0x500cfe(0x247)](_0x3092c0[_0x500cfe(0x200)])/_0x23eef3):(_0xde6ea7=_0x3092c0[_0x500cfe(0x218)],_0x493cf3=Math[_0x500cfe(0x247)](_0x3092c0[_0x500cfe(0x200)]));_0x1a1ddf==_0x500cfe(0x24c)&&(config[_0x500cfe(0x213)]==_0x500cfe(0x1c1)&&(_0x23eef3=_0xde6ea7=='buy'?_0x2cbffb:_0x183573),config[_0x500cfe(0x213)]==_0x500cfe(0x257)&&(_0x23eef3=_0xde6ea7==_0x500cfe(0x261)?_0x183573:_0x2cbffb));_0x493cf3=formatResult(_0x493cf3,0x8),_0x23eef3=formatResult(_0x23eef3,0x8);const _0x328ad1=_0xde6ea7=='sell'?config[_0x500cfe(0x19c)]?String[_0x500cfe(0x1f0)]('0x'+config[_0x500cfe(0x19c)])+'\x20':'':config['emojibuy']?String[_0x500cfe(0x1f0)]('0x'+config[_0x500cfe(0x28a)])+'\x20':'',_0x8c1a=_0x1a1ddf==_0x500cfe(0x227)?_0x500cfe(0x1bf):config[_0x500cfe(0x213)]=='limit-high'?'Limit\x20(high-margin)':_0x500cfe(0x271),_0x32f57f=new Date()[_0x500cfe(0x14e)]()[_0x500cfe(0x156)]()[_0x500cfe(0x255)](-0x6)+'-'+Math[_0x500cfe(0x1f2)]()[_0x500cfe(0x156)]()[_0x500cfe(0x255)](-0x6);lastOrders['push']({'customId':_0x32f57f,'symbol':_0x1df43e,'coin':_0x3092c0[_0x500cfe(0x1c6)],'side':_0xde6ea7,'reverse':_0x3092c0['reverse'],'filled':0x0});if(_0x1a1ddf=='market')logHistory(_0x500cfe(0x2cf),''+_0x328ad1+_0x8c1a+'\x20order:\x20'+_0x1df43e+'\x20'+_0xde6ea7+'\x20#'+formatResult(_0x493cf3,0x8)+'\x20@'+formatResult(_0x23eef3,0x8));else logHistory(_0x500cfe(0x2cf),''+_0x328ad1+_0x8c1a+_0x500cfe(0x286)+_0x1df43e+'\x20'+_0xde6ea7+'\x20#'+formatResult(_0x493cf3,0x8)+'\x20@'+formatResult(_0x23eef3,0x8));const _0xe255e2=await exchange[_0x500cfe(0x19e)](_0x1df43e,_0x1a1ddf,_0xde6ea7,_0x493cf3,_0x23eef3,{'clientOrderId':_0x32f57f}),_0x20a50f=lastOrders[_0x500cfe(0x1b1)]-0x1;_0x20a50f>=0x0&&lastOrders[_0x20a50f][_0x500cfe(0x1a1)]==_0x32f57f&&(lastOrders[_0x20a50f]={...lastOrders[_0x20a50f],'orderId':_0xe255e2['id'],'amount':_0xe255e2[_0x500cfe(0x1fe)],'price':_0xe255e2[_0x500cfe(0x206)],'fee':_0xe255e2['fee']});if(config['cooldown']!=0x0){let _0x477270=null;if(cooldownTracker[_0x500cfe(0x1b1)]==config[_0x500cfe(0x178)]-0x1)_0x477270=cooldownTracker[_0x500cfe(0x162)]();const _0x28f9cf=getTimeStamp();cooldownTracker[_0x500cfe(0x2b9)](_0x28f9cf);if(_0x477270){const _0x5b5061=fns[_0x500cfe(0x219)](new Date(_0x28f9cf),new Date(_0x477270));if(_0x5b5061<cooldownInterval){logHistory(_0x500cfe(0x2a2),_0x500cfe(0x169)+config[_0x500cfe(0x178)]+_0x500cfe(0x199)+cooldownInterval/0x3c+_0x500cfe(0x27c)+cooldownPeriod/(0xe10*0x3e8)+_0x500cfe(0x20f)),coolingDown=!![];break;}}}}catch(_0x2fc302){if(_0x2fc302['toString']()[_0x500cfe(0x29c)](_0x500cfe(0x17e)))lastOrders=lastOrders[_0x500cfe(0x224)](_0x57b52d=>_0x57b52d[_0x500cfe(0x1ce)]!=_0x1df43e),await pauseBot(_0x500cfe(0x174)+_0x1df43e);else _0x2fc302[_0x500cfe(0x156)]()[_0x500cfe(0x29c)](_0x500cfe(0x21d))?(lastOrders=lastOrders[_0x500cfe(0x224)](_0x4c44f8=>_0x4c44f8[_0x500cfe(0x1ce)]!=_0x1df43e),await pauseBot(_0x500cfe(0x225)+_0x1df43e)):(lastOrders=lastOrders[_0x500cfe(0x224)](_0x3e9275=>_0x3e9275[_0x500cfe(0x1ce)]!=_0x1df43e),await handleError(_0x2fc302,_0x500cfe(0x256),_0x1df43e));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x500cfe(0x1b1)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3c4666=config[_0x500cfe(0x213)]==_0x500cfe(0x227)?validateOrderTimeout*0x3c*0x3e8:config[_0x500cfe(0x2c3)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x596692=_0x500cfe;validateOrders(_0x596692(0x289));},_0x3c4666);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x500cfe(0x189),_0x500cfe(0x2bd)));}else{if(coolingDown)!config[_0x500cfe(0x18a)]&&logHistory(_0x500cfe(0x2a2),_0x500cfe(0x1bd));else lockOrders!=ORDERS[_0x500cfe(0x1f6)]&&(!config['headless']&&(config[_0x500cfe(0x213)]==_0x500cfe(0x227)?logHistory(_0x500cfe(0x2a2),_0x500cfe(0x153)):logHistory(_0x500cfe(0x2a2),_0x500cfe(0x21a))));}}function persistOpenOrders(_0x2627e1){const _0x33efaf=_0x3fea31,_0x41a73b={...config,'openOrders':_0x2627e1};let _0x353a85=dbConfig[_0x33efaf(0x215)](_0x33efaf(0x195))['find']({'botID':botID})[_0x33efaf(0x1d4)]();_0x353a85&&dbConfig[_0x33efaf(0x215)](_0x33efaf(0x195))['find']({'botID':botID})['assign'](_0x41a73b)[_0x33efaf(0x1f9)]();}function restoreOrders(){const _0x4d0059=_0x3fea31;let _0x5ef911;config[_0x4d0059(0x269)]&&allOpenOrders[_0x4d0059(0x25b)](_0x1ddd5b=>{const _0x2ca1d7=_0x4d0059,_0x56e4a0=config[_0x2ca1d7(0x269)][_0x2ca1d7(0x1a0)](_0x52d4b3=>_0x52d4b3[_0x2ca1d7(0x270)]==_0x1ddd5b['id']);_0x56e4a0&&(lastOrders[_0x2ca1d7(0x2b9)](_0x56e4a0),_0x5ef911=_0x1ddd5b[_0x2ca1d7(0x1fd)]);});if(lastOrders[_0x4d0059(0x1b1)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x4d0059(0x26b),allOrdersPlaced=!![];const _0x398eb7=new Date()[_0x4d0059(0x14e)](),_0x26f985=config['ordertype']==_0x4d0059(0x227)?validateOrderTimeout*0x3c*0x3e8:config[_0x4d0059(0x2c3)]*0x3c*0x3e8;if(_0x5ef911+_0x26f985>_0x398eb7){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5ef911+_0x26f985-_0x398eb7);}else validateOrders(_0x4d0059(0x289));}}async function sendMetricsTelegram(){const _0x4cd79b=_0x3fea31;if(!coinsLoaded){process['send']({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x59b74a=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x208f4c='';if(config[_0x4cd79b(0x2c7)])_0x208f4c=_0x4cd79b(0x20b)+config[_0x4cd79b(0x21e)]+_0x4cd79b(0x1cc);else _0x208f4c='<b>Bot\x20'+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x1b7b82=getKPIs('basecoin'),_0x484524=getKPIs(_0x4cd79b(0x263),config[_0x4cd79b(0x263)]),_0x327ac1=getKPIs(_0x4cd79b(0x203)),_0x46d2d1=getKPIs('net-fiat',config['fiat']);_0x208f4c+=_0x4cd79b(0x2b3),_0x208f4c+=_0x1b7b82[_0x4cd79b(0x238)]+_0x4cd79b(0x1be)+_0x1b7b82[_0x4cd79b(0x1d4)]+'\x0a',_0x208f4c+=_0x1b7b82[_0x4cd79b(0x2b2)]+':\x20'+_0x1b7b82['change']+'%\x0a',_0x208f4c+=_0x484524['leftTxt']+'\x20:\x20'+_0x484524[_0x4cd79b(0x1d4)]+'\x0a',_0x208f4c+=_0x484524[_0x4cd79b(0x2b2)]+':\x20'+_0x484524['change']+'%\x0a',_0x208f4c+=_0x327ac1[_0x4cd79b(0x238)]+':\x20'+_0x327ac1[_0x4cd79b(0x1d4)]+'\x20('+config[_0x4cd79b(0x1dc)]+')\x0a',_0x208f4c+=_0x327ac1[_0x4cd79b(0x2b2)]+':\x20'+_0x327ac1['change']+_0x4cd79b(0x1cd)+config[_0x4cd79b(0x1dc)]+')\x0a',_0x208f4c+=_0x46d2d1['leftTxt']+':\x20'+_0x46d2d1[_0x4cd79b(0x1d4)]+'\x20('+config['fiat']+')\x0a',_0x208f4c+=_0x46d2d1[_0x4cd79b(0x2b2)]+':\x20'+_0x46d2d1['change']+_0x4cd79b(0x1cd)+config[_0x4cd79b(0x263)]+')\x0a',_0x208f4c+=_0x4cd79b(0x267),process[_0x4cd79b(0x17d)]({'telegrammsg':_0x208f4c},_0x3f7042=>{});}async function sendPortfolioTelegram(){const _0xe080a0=_0x3fea31;if(!coinsLoaded){process[_0xe080a0(0x17d)]({'telegrammsg':_0xe080a0(0x26d)},_0x474e3a=>{});return;}let _0x3205fc='';if(config[_0xe080a0(0x2c7)])_0x3205fc='<b>'+config[_0xe080a0(0x21e)]+_0xe080a0(0x2a1);else _0x3205fc=_0xe080a0(0x1e4)+botID+_0xe080a0(0x2a1);_0x3205fc+=_0xe080a0(0x2b3),_0x3205fc+=_0xe080a0(0x27b),_0x3205fc+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x3205fc+=_0xe080a0(0x27b),currentCoins[_0xe080a0(0x25b)](_0x1ae62b=>{const _0x150187=_0xe080a0;_0x3205fc+=_0x1ae62b[_0x150187(0x1c6)][_0x150187(0x2b5)](0x7)+'|\x20'+formatPad(_0x1ae62b['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x1ae62b[_0x150187(0x28f)],0x2,0x6)+'|\x20'+formatPad(_0x1ae62b[_0x150187(0x25d)]*0x64,0x2,0x6)+'\x0a';}),_0x3205fc+=_0xe080a0(0x267),process[_0xe080a0(0x17d)]({'telegrammsg':_0x3205fc},_0x333077=>{});}function formatPad(_0x16f926,_0x76165c,_0x98e313){const _0x48595b=_0x3fea31,_0x41e30a=formatResultString(_0x16f926,_0x76165c);return _0x41e30a?_0x41e30a[_0x48595b(0x157)](_0x98e313):''[_0x48595b(0x157)](_0x98e313);}function logHistory(_0x3d2ed5,_0x405325,_0x22e34e=''){const _0x35391b=_0x3fea31;let _0x565059={'time':getTimeStamp(),'type':_0x3d2ed5,'event':_0x405325};dbLogs[_0x35391b(0x215)](_0x35391b(0x164))[_0x35391b(0x2b9)](_0x565059)[_0x35391b(0x1f9)]();if(_0x22e34e=='')_0x22e34e=_0x405325;proxyEmit(_0x35391b(0x18b),{'log':_0x565059,'summary':_0x22e34e}),process[_0x35391b(0x17d)]({'telegram':{..._0x565059,'botname':config['botname'],'showname':config['showname']}},_0x1b67a6=>{}),logger[_0x35391b(0x2c4)](''+_0x565059['event']);}function _0x5264(_0x176b96,_0xccd344){const _0x4a370c=_0x3669();return _0x5264=function(_0x4c11f2,_0x564aba){_0x4c11f2=_0x4c11f2-0x14e;let _0x366910=_0x4a370c[_0x4c11f2];return _0x366910;},_0x5264(_0x176b96,_0xccd344);}function emitHistory(_0x430bf5={}){const _0x217209=_0x3fea31;Object[_0x217209(0x1b6)](_0x430bf5)['length']==0x0&&(_0x430bf5={'type':[_0x217209(0x2cf),_0x217209(0x18b)],'event':'','page':0x1});if(_0x430bf5[_0x217209(0x210)][_0x217209(0x29c)](_0x217209(0x18b)))_0x430bf5[_0x217209(0x210)][_0x217209(0x1d2)](_0x430bf5[_0x217209(0x210)][_0x217209(0x2b8)](_0x217209(0x18b)),0x1,_0x217209(0x2a2),_0x217209(0x1d0),'success');if(dbLogs[_0x217209(0x1b4)]('logs')[_0x217209(0x1d4)]()){let _0x1bfd47=dbLogs[_0x217209(0x215)](_0x217209(0x164))[_0x217209(0x224)](_0x452b80=>{const _0x43bba5=_0x217209;if(_0x430bf5[_0x43bba5(0x210)][_0x43bba5(0x1b1)]==0x0)return![];else return _0x430bf5[_0x43bba5(0x210)][_0x43bba5(0x29c)](_0x452b80[_0x43bba5(0x210)]);})[_0x217209(0x224)](_0x202cad=>{const _0x25d42e=_0x217209;if(_0x430bf5[_0x25d42e(0x18b)]=='')return!![];else return _0x202cad[_0x25d42e(0x18b)][_0x25d42e(0x275)]()['includes'](_0x430bf5[_0x25d42e(0x18b)][_0x25d42e(0x275)]());})[_0x217209(0x259)](_0x217209(0x20d)),_0x2ba7a0=_0x1bfd47[_0x217209(0x1d4)]()[_0x217209(0x1b1)];_0x1bfd47=_0x1bfd47[_0x217209(0x25f)]()[_0x217209(0x255)]((_0x430bf5[_0x217209(0x2be)]-0x1)*logPageSize,_0x430bf5[_0x217209(0x2be)]*logPageSize-0x1)['reverse']()[_0x217209(0x1d4)](),proxyEmit(_0x217209(0x1c5),{'logs':_0x1bfd47,'total':_0x2ba7a0});}else proxyEmit(_0x217209(0x1c5),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x7319a6){const _0x27d06e=_0x3fea31;if(dbLogs['has'](_0x27d06e(0x164))[_0x27d06e(0x1d4)]()){const _0x4b5dd7=dbLogs[_0x27d06e(0x215)](_0x27d06e(0x164))['sortBy'](_0x27d06e(0x20d))[_0x27d06e(0x224)](_0x22a9bc=>{const _0x1710d8=_0x27d06e;return _0x22a9bc['type']==_0x1710d8(0x2cf);})[_0x27d06e(0x1d4)]();dbLogs[_0x27d06e(0x215)](_0x27d06e(0x164))['remove']()[_0x27d06e(0x1f9)](),dbLogs[_0x27d06e(0x215)]('logs')[_0x27d06e(0x24b)](_0x4b5dd7)[_0x27d06e(0x1f9)](),emitHistory(_0x7319a6);}}async function pauseBot(_0x54879b=''){const _0x2a05b6=_0x3fea31,_0x5e993e=new Date()[_0x2a05b6(0x14e)]();if(!lastErrorShown||_0x5e993e-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x5e993e;!lastBotPause?(lastBotPause=_0x5e993e,consecutivePauses=0x1):(_0x5e993e-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x2a05b6(0x17d)]({'stop':_0x2a05b6(0x2a8)},_0x4d0a0f=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x2a05b6(0x14e)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x54879b)_0x54879b+=_0x2a05b6(0x221);logHistory('error',_0x54879b+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x2a05b6(0x280)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x50447e=_0x3fea31;process[_0x50447e(0x17d)]({'stop':_0x50447e(0x161)},_0x2d2c9b=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2dca8e,_0x2f6c5d){const _0x5b646d=_0x3fea31;if(_0x2dca8e['toString']()[_0x5b646d(0x29c)](_0x5b646d(0x176)))return logHistory(_0x5b646d(0x2a2),config['exchange']+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0x2dca8e[_0x5b646d(0x156)]()[_0x5b646d(0x29c)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error',config[_0x5b646d(0x1fb)]+_0x5b646d(0x264)),![];else{if(_0x2dca8e[_0x5b646d(0x156)]()[_0x5b646d(0x29c)]('AuthenticationError'))return logHistory('error',config['exchange']+_0x5b646d(0x1e2)),logHistory(_0x5b646d(0x2a2),_0x5b646d(0x258)),![];else await handleError(_0x2dca8e,_0x2f6c5d);}}}async function handleError(_0x55c589,_0x1c3289,_0x3fbbe0=''){const _0x47a0fc=_0x3fea31,_0x3c3c86=config[_0x47a0fc(0x1fb)]||_0x47a0fc(0x21f);if(_0x55c589[_0x47a0fc(0x156)]()[_0x47a0fc(0x29c)](_0x47a0fc(0x18f)))await pauseBot(config['exchange']+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x55c589['toString']()[_0x47a0fc(0x29c)](_0x47a0fc(0x1e8)))await pauseBot(config[_0x47a0fc(0x1fb)]+_0x47a0fc(0x229));else{if(_0x55c589[_0x47a0fc(0x156)]()[_0x47a0fc(0x29c)](_0x47a0fc(0x1e1)))await pauseBot(config['exchange']+_0x47a0fc(0x20c));else{if(_0x55c589[_0x47a0fc(0x156)]()['includes'](_0x47a0fc(0x230)))await pauseBot(config[_0x47a0fc(0x1fb)]+'\x20closed\x20the\x20connection');else{if(_0x55c589['toString']()[_0x47a0fc(0x29c)](_0x47a0fc(0x26f)))logHistory('error',_0x1c3289+_0x47a0fc(0x18c)),logHistory(_0x47a0fc(0x2a2),_0x47a0fc(0x285)),await killBot();else{if(_0x55c589['toString']()[_0x47a0fc(0x29c)](_0x47a0fc(0x28d)))logHistory(_0x47a0fc(0x2a2),_0x1c3289+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x47a0fc(0x2a2),_0x47a0fc(0x285)),await killBot();else{if(_0x55c589[_0x47a0fc(0x156)]()[_0x47a0fc(0x29c)](_0x47a0fc(0x176)))logHistory(_0x47a0fc(0x2a2),_0x1c3289+_0x47a0fc(0x221)+config[_0x47a0fc(0x1fb)]+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x47a0fc(0x2a2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x55c589['toString']()[_0x47a0fc(0x29c)](_0x47a0fc(0x17f)))logHistory(_0x47a0fc(0x2a2),_0x1c3289+_0x47a0fc(0x221)+config[_0x47a0fc(0x1fb)]+_0x47a0fc(0x196)),logHistory(_0x47a0fc(0x2a2),_0x47a0fc(0x285)),await killBot();else{if(_0x55c589[_0x47a0fc(0x156)]()[_0x47a0fc(0x29c)](_0x47a0fc(0x29f)))logHistory('error',_0x1c3289+'\x20|\x20'+config['exchange']+_0x47a0fc(0x29a)),logHistory(_0x47a0fc(0x2a2),_0x47a0fc(0x285)),await killBot();else _0x55c589[_0x47a0fc(0x156)]()['includes']('InsufficientFunds')?logHistory(_0x47a0fc(0x2a2),_0x1c3289+_0x47a0fc(0x22c)+_0x3fbbe0):(logger['full'](_0x1c3289+_0x47a0fc(0x1a4),_0x55c589),await pauseBot(_0x47a0fc(0x249)));}}}}}}}}}function formatResult(_0x35f087,_0x4d66f6){const _0x68b164=_0x3fea31;return parseFloat(_0x35f087[_0x68b164(0x291)](_0x4d66f6));}function formatResultTruncate(_0x1f3f6f,_0x193a0){const _0x376bd6=_0x3fea31;let _0x96f6e7=formatResultString(_0x1f3f6f,0xa),_0x2aea06=_0x96f6e7['indexOf']('.');return _0x2aea06!=-0x1&&(_0x96f6e7=_0x96f6e7[_0x376bd6(0x255)](0x0,_0x2aea06+_0x193a0+0x1)),Number(_0x96f6e7);}function formatResultString(_0x5579e5,_0x293a66){const _0x45033f=_0x3fea31;let _0x5db087;if(!(''+_0x5579e5)[_0x45033f(0x29c)]('e'))_0x5db087=+(Math[_0x45033f(0x2cd)](_0x5579e5+'e+'+_0x293a66)+'e-'+_0x293a66);else{let _0x2c5809=(''+_0x5579e5)[_0x45033f(0x1a5)]('e'),_0x4f0257='';+_0x2c5809[0x1]+_0x293a66>0x0&&(_0x4f0257='+'),_0x5db087=+(Math[_0x45033f(0x2cd)](+_0x2c5809[0x0]+'e'+_0x4f0257+(+_0x2c5809[0x1]+_0x293a66))+'e-'+_0x293a66);}return Number(_0x5db087)[_0x45033f(0x291)](_0x293a66);}function getServerTime(){const _0xe28e53=_0x3fea31,_0x13b14d=new Date();return _0x13b14d[_0xe28e53(0x1c3)]()+'/'+(_0x13b14d[_0xe28e53(0x1ec)]()+0x1)[_0xe28e53(0x156)]()[_0xe28e53(0x157)](0x2,'0')+'/'+_0x13b14d['getDate']()[_0xe28e53(0x156)]()['padStart'](0x2,'0')+'\x20'+_0x13b14d[_0xe28e53(0x21b)]()['toString']()[_0xe28e53(0x157)](0x2,'0')+':'+_0x13b14d[_0xe28e53(0x250)]()[_0xe28e53(0x156)]()['padStart'](0x2,'0')+':'+_0x13b14d[_0xe28e53(0x2a0)]()['toString']()[_0xe28e53(0x157)](0x2,'0');}function getTimeStamp(){const _0x5e9f68=_0x3fea31,_0x19f455=shiftedTime();return _0x19f455[_0x5e9f68(0x1c3)]()+'/'+(_0x19f455['getMonth']()+0x1)[_0x5e9f68(0x156)]()[_0x5e9f68(0x157)](0x2,'0')+'/'+_0x19f455['getDate']()[_0x5e9f68(0x156)]()[_0x5e9f68(0x157)](0x2,'0')+'\x20'+_0x19f455[_0x5e9f68(0x21b)]()['toString']()[_0x5e9f68(0x157)](0x2,'0')+':'+_0x19f455['getMinutes']()[_0x5e9f68(0x156)]()[_0x5e9f68(0x157)](0x2,'0')+':'+_0x19f455[_0x5e9f68(0x2a0)]()[_0x5e9f68(0x156)]()[_0x5e9f68(0x157)](0x2,'0');}function getDate(){const _0x33ab33=_0x3fea31,_0x5399e5=shiftedTime();return _0x5399e5[_0x33ab33(0x1c3)]()+'/'+(_0x5399e5[_0x33ab33(0x1ec)]()+0x1)['toString']()[_0x33ab33(0x157)](0x2,'0')+'/'+_0x5399e5[_0x33ab33(0x16d)]()['toString']()[_0x33ab33(0x157)](0x2,'0');}function getHour(){const _0x5d65f2=_0x3fea31,_0x383da4=shiftedTime();return _0x383da4[_0x5d65f2(0x21b)]()[_0x5d65f2(0x156)]()[_0x5d65f2(0x157)](0x2,'0');}function sleep(_0x45095b){return new Promise(_0x3f08a0=>setTimeout(_0x3f08a0,_0x45095b));}function shiftedTime(){const _0x39477a=_0x3fea31,_0x439fb4=new Date();let _0x1d9f03=_0x439fb4;if(config&&config[_0x39477a(0x1f4)]!==0x0)_0x1d9f03=fns[_0x39477a(0x14f)](_0x439fb4,{'hours':config[_0x39477a(0x1f4)]});return _0x1d9f03;}function timer(_0x222deb){const _0x57f43f=_0x3fea31,_0x4fb592=new Date();!lasttime?console['log'](_0x57f43f(0x17b),_0x222deb,_0x4fb592):console[_0x57f43f(0x233)](_0x57f43f(0x17b),_0x222deb,(_0x4fb592-lasttime)/0x3e8),lasttime=_0x4fb592;}