const _0x2a5e1f=_0x43d4;(function(_0x5097e3,_0x2b06c8){const _0x331370=_0x43d4,_0x3f0a5a=_0x5097e3();while(!![]){try{const _0x141ec7=parseInt(_0x331370(0x1d3))/0x1*(parseInt(_0x331370(0x197))/0x2)+parseInt(_0x331370(0x17a))/0x3*(-parseInt(_0x331370(0x1aa))/0x4)+parseInt(_0x331370(0x262))/0x5*(-parseInt(_0x331370(0x1ba))/0x6)+parseInt(_0x331370(0x1e3))/0x7*(-parseInt(_0x331370(0x1d5))/0x8)+parseInt(_0x331370(0x173))/0x9+parseInt(_0x331370(0x1ac))/0xa*(parseInt(_0x331370(0x1f8))/0xb)+-parseInt(_0x331370(0x1f9))/0xc*(-parseInt(_0x331370(0x1c2))/0xd);if(_0x141ec7===_0x2b06c8)break;else _0x3f0a5a['push'](_0x3f0a5a['shift']());}catch(_0x55b9fa){_0x3f0a5a['push'](_0x3f0a5a['shift']());}}}(_0x3f04,0xcdcc4));const _0x379aec=function(){let _0x2ff8a0=!![];return function(_0x27ad1a,_0x262b91){const _0x149b3d=_0x2ff8a0?function(){const _0x10f964=_0x43d4;if(_0x262b91){const _0x4a70cf=_0x262b91[_0x10f964(0x185)](_0x27ad1a,arguments);return _0x262b91=null,_0x4a70cf;}}:function(){};return _0x2ff8a0=![],_0x149b3d;};}(),_0x437788=_0x379aec(this,function(){const _0x113985=_0x43d4;return _0x437788[_0x113985(0x199)]()[_0x113985(0x1c6)]('(((.+)+)+)+$')[_0x113985(0x199)]()[_0x113985(0x164)](_0x437788)[_0x113985(0x1c6)](_0x113985(0x218));});_0x437788();'use strict';const ccxt=require(_0x2a5e1f(0x1cd)),low=require(_0x2a5e1f(0x20b)),FileSync=require(_0x2a5e1f(0x15c)),fs=require('fs'),fns=require(_0x2a5e1f(0x144)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x2a5e1f(0x1f0)),Crypt=require(_0x2a5e1f(0x252))[_0x2a5e1f(0x14a)];let exchange,wsClient;global[_0x2a5e1f(0x1e2)]={},global[_0x2a5e1f(0x1d8)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x2a5e1f(0x1cb),_0x2a5e1f(0x196),_0x2a5e1f(0x1da),'XEM/BUSD',_0x2a5e1f(0x13e),'YOYOW/'];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x2a5e1f(0x191))[_0x2a5e1f(0x25a)],botID=process[_0x2a5e1f(0x1b5)][0x2]||_0x2a5e1f(0x23c),pattern=/^[0-9]{3}$/;!pattern[_0x2a5e1f(0x22d)](botID)&&(console['log'](_0x2a5e1f(0x15a)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x2a5e1f(0x156)](0x1));const userID=process[_0x2a5e1f(0x1b5)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x2a5e1f(0x215);!fs[_0x2a5e1f(0x207)](configpath)&&fs[_0x2a5e1f(0x1c4)](configpath);const configfile=configpath+_0x2a5e1f(0x1fc)+botID+'-config.json',logfile=configpath+_0x2a5e1f(0x1fc)+botID+'-events.json',performancefile=configpath+_0x2a5e1f(0x1fc)+botID+_0x2a5e1f(0x23f),coinresultsfile=configpath+_0x2a5e1f(0x1fc)+botID+_0x2a5e1f(0x1c8),settingsfile=configpath+_0x2a5e1f(0x184),securefile=configpath+_0x2a5e1f(0x23a),configbackuppath=configpath+_0x2a5e1f(0x266),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2a5e1f(0x21d)]({'logs':[]})[_0x2a5e1f(0x179)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2a5e1f(0x21d)]({'data':[]})[_0x2a5e1f(0x179)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2a5e1f(0x21d)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x2a5e1f(0x179)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x2a5e1f(0x180),'symbol':_0x2a5e1f(0x1cf)},'usd':{'coin':_0x2a5e1f(0x150),'symbol':_0x2a5e1f(0x268)}},lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x57172e)=>{},'debug':(..._0x5c66dd)=>{},'notice':(..._0xdde674)=>{},'info':(..._0x419559)=>{},'warning':(..._0x5831dc)=>{},'error':async function(..._0x1e5271){const _0x373870=_0x2a5e1f,_0x13d309=new Date()['getTime']();if(!lastErrorShown||_0x13d309-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x373870(0x15b)]();let _0x1dcc59='';if(_0x1e5271[0x0])_0x1dcc59+=_0x1e5271[0x0];if(_0x1e5271[0x1]&&_0x1e5271[0x1][_0x373870(0x140)]&&_0x1e5271[0x1]['error'][_0x373870(0x21c)])_0x1dcc59+='\x20-\x20'+_0x1e5271[0x1]['error']['message'];logging('WebSockets('+consecutivePauses+_0x373870(0x15d),''+_0x1dcc59),await pauseBot(_0x373870(0x15e));}}},crypt=new Crypt({'md':_0x2a5e1f(0x147),'rsaStandard':'RSA-OAEP'});function _0x43d4(_0x13a638,_0x5f2156){const _0x30025e=_0x3f04();return _0x43d4=function(_0x437788,_0x379aec){_0x437788=_0x437788-0x136;let _0x3f04b8=_0x30025e[_0x437788];return _0x3f04b8;},_0x43d4(_0x13a638,_0x5f2156);}let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x2a5e1f(0x23d)]!=config[_0x2a5e1f(0x23d)]&&updateTimeshift(settings[_0x2a5e1f(0x23d)]);process[_0x2a5e1f(0x260)]({'started':_0x2a5e1f(0x17f)},_0x130178=>{}),initializeProcessListeners();function proxyEmit(_0x2bfdb5,_0x26ff65=null){const _0x571024=_0x2a5e1f;process[_0x571024(0x260)]({'function':_0x2bfdb5,'args':_0x26ff65},_0x26272d=>{});}function initializeProcessListeners(){process['on']('message',_0x4302a9=>{const _0x484c1b=_0x43d4;switch(Object[_0x484c1b(0x146)](_0x4302a9)[0x0]){case _0x484c1b(0x23d):_0x4302a9['timeshift']!=undefined&&(settings[_0x484c1b(0x23d)]=_0x4302a9['timeshift'],updateTimeshift(settings['timeshift']));break;case _0x484c1b(0x21b):switch(_0x4302a9[_0x484c1b(0x21b)]){case _0x484c1b(0x21a):initclient();break;case _0x484c1b(0x1de):toggleBotMode();break;case _0x484c1b(0x247):emitHistory(_0x4302a9[_0x484c1b(0x1d9)]);break;case _0x484c1b(0x142):deleteHistoryAlerts(_0x4302a9['args']);break;case _0x484c1b(0x20e):getPortfolio(_0x4302a9['args']);break;case'storeConfiguration':storeConfiguration(_0x4302a9[_0x484c1b(0x1d9)]);break;case _0x484c1b(0x188):storeHeadless(_0x4302a9[_0x484c1b(0x1d9)]);break;case _0x484c1b(0x160):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x4302a9[_0x484c1b(0x1d9)]);break;case _0x484c1b(0x168):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x5814b6=_0x2a5e1f;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x5814b6(0x26b)],config[_0x5814b6(0x241)]);let _0x1c3b3d=await loadSymbols();_0x1c3b3d&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x2c928b,_0x548858){const _0x48fa64=_0x2a5e1f,_0x3219d5=ccxt[config[_0x48fa64(0x230)]];let _0x13fc61;switch(config[_0x48fa64(0x230)]){case _0x48fa64(0x1f0):_0x13fc61='wss://stream.binance.com:9443';break;case'binanceus':_0x13fc61=_0x48fa64(0x20c);break;default:_0x13fc61=_0x48fa64(0x1d1);}exchange=new _0x3219d5({'apiKey':_0x2c928b,'secret':_0x548858,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x2c928b,'api_secret':_0x548858,'beautify':!![],'wsUrl':_0x13fc61},logger),config['exchange']==_0x48fa64(0x1f5)&&(stablecoins={'eur':{'coin':_0x48fa64(0x194),'symbol':_0x48fa64(0x22b)},'usd':{'coin':_0x48fa64(0x150),'symbol':'BTC/USDT'}});}async function loadSymbols(){const _0x536fc7=_0x2a5e1f;let _0x2cfbe1;try{markets=await exchange['loadMarkets'](),allSymbols=exchange['symbols'][_0x536fc7(0x1ce)](_0x3f0ff6=>{const _0x5c3d16=_0x536fc7;let _0x567729=![];return exceptions[_0x5c3d16(0x13d)](_0x3f41cb=>{const _0x34ae6c=_0x5c3d16;if(_0x3f0ff6[_0x34ae6c(0x21f)](_0x3f41cb))_0x567729=!![];}),!_0x567729;}),_0x2cfbe1=!![];}catch(_0x1ebe08){await handleError(_0x1ebe08,_0x536fc7(0x1d7)),_0x2cfbe1=![];}return _0x2cfbe1;}async function initbot(){const _0x3c93bd=_0x2a5e1f;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x5053f0=dbCoinResults['get']('coins')[_0x3c93bd(0x1b4)]();if(_0x5053f0[_0x3c93bd(0x236)]==0x0)await resetCoinResults();}async function initclient(){const _0x240392=_0x2a5e1f;proxyEmit(_0x240392(0x256),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x41bfce=getNormalizedPerformance();emitPerformance(_0x41bfce),await getStartingBalances(_0x41bfce);}async function toggleBotMode(){const _0xb1bd1c=_0x2a5e1f;let _0x42489b=dbConfig[_0xb1bd1c(0x182)]('bot')[_0xb1bd1c(0x265)]({'botID':botID})[_0xb1bd1c(0x1b4)]();if(_0x42489b){const _0x1f489f=!_0x42489b[_0xb1bd1c(0x251)];dbConfig[_0xb1bd1c(0x182)](_0xb1bd1c(0x18f))[_0xb1bd1c(0x265)]({'botID':botID})[_0xb1bd1c(0x217)]({'headless':_0x1f489f})[_0xb1bd1c(0x179)](),config[_0xb1bd1c(0x251)]=_0x1f489f,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x4ae3a7=>{});}function cleanws(){const _0x3512a2=_0x2a5e1f;wsinitialized=![];ws1&&(ws1['forEach'](_0x284652=>{const _0x4001e9=_0x43d4;try{wsClient[_0x4001e9(0x18e)](_0x284652);}catch(_0x2b10f8){}}),ws1=[]);if(ws2){try{wsClient[_0x3512a2(0x18e)](ws2);}catch(_0x1ffe42){}ws2=null;}ws3&&(ws3['forEach'](_0x2801a6=>{const _0x473547=_0x3512a2;try{wsClient[_0x473547(0x18e)](_0x2801a6);}catch(_0x4fd12a){}}),ws3=[]);}async function initws(){const _0x4fbc6c=_0x2a5e1f;cleanws();let _0x363463=[];currentCoins[_0x4fbc6c(0x13d)](_0x12ee67=>{const _0x166775=_0x4fbc6c;if(_0x12ee67[_0x166775(0x16a)]!=config['basecoin'])_0x363463[_0x166775(0x1dc)](_0x12ee67[_0x166775(0x1ab)]);});if(!_0x363463['includes'](stablecoins[_0x4fbc6c(0x211)][_0x4fbc6c(0x1ab)]))_0x363463['push'](stablecoins['eur'][_0x4fbc6c(0x1ab)]);if(!_0x363463['includes'](stablecoins[_0x4fbc6c(0x206)][_0x4fbc6c(0x1ab)]))_0x363463[_0x4fbc6c(0x1dc)](stablecoins['usd'][_0x4fbc6c(0x1ab)]);if(!_0x363463[_0x4fbc6c(0x21f)]('BNB/'+config[_0x4fbc6c(0x1c7)]))_0x363463[_0x4fbc6c(0x1dc)](_0x4fbc6c(0x1c0)+config[_0x4fbc6c(0x1c7)]);try{_0x363463['forEach']((_0xa19e3c,_0x43d5a6)=>{const _0x813237=_0x4fbc6c;ws1[_0x43d5a6]=wsClient[_0x813237(0x264)](noslash(_0xa19e3c),'1m'),ws3[_0x43d5a6]=wsClient[_0x813237(0x170)](noslash(_0xa19e3c),_0x813237(0x212));}),ws2=wsClient[_0x4fbc6c(0x227)](),wsClient['on']('formattedMessage',_0x54720e=>{const _0x3c37ee=_0x4fbc6c;if(isWsFormattedKline(_0x54720e)){global[_0x3c37ee(0x1e2)][_0x54720e[_0x3c37ee(0x220)][_0x3c37ee(0x1ab)]]=_0x54720e[_0x3c37ee(0x220)][_0x3c37ee(0x139)];return;}else{if(isWsFormatted24hrTicker(_0x54720e)){global[_0x3c37ee(0x1d8)][_0x54720e[_0x3c37ee(0x1ab)]]=_0x54720e['priceChangePercent'];return;}else{if(!Array[_0x3c37ee(0x1ee)](_0x54720e)&&_0x54720e['wsKey'][_0x3c37ee(0x21f)]('userData')){if(_0x54720e[_0x3c37ee(0x18c)]['includes'](_0x3c37ee(0x212))){updateNumberCoins(_0x54720e);return;}}}}}),wsClient['on'](_0x4fbc6c(0x181),async _0x586865=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x334f05){await handleError(_0x334f05,_0x4fbc6c(0x19a));}let _0x544011,_0x712311=0x0;loading[_0x4fbc6c(0x1a1)]=[];let _0x37df95=0x0;_0x363463['forEach'](_0xee33cc=>{const _0x3d56ec=_0x4fbc6c;loading[_0x3d56ec(0x1a1)]['push'](_0xee33cc);}),loadingCanceled=![];while(_0x544011!=_0x363463[_0x4fbc6c(0x236)]){_0x544011=0x0,_0x363463[_0x4fbc6c(0x13d)](_0x3ede24=>{const _0x5b4ec1=_0x4fbc6c;global[_0x5b4ec1(0x1e2)][noslash(_0x3ede24)]&&(loading[_0x5b4ec1(0x1a1)]=loading[_0x5b4ec1(0x1a1)]['filter'](_0x40ed9e=>_0x40ed9e!=_0x3ede24),_0x544011++);}),loading[_0x4fbc6c(0x14c)]=Math[_0x4fbc6c(0x240)](_0x544011/_0x363463['length']*0x64);_0x37df95>0x1e*0x5&&(loading[_0x4fbc6c(0x1eb)]=!![],emitLoadingProgress());if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x544011!=_0x712311&&(_0x712311=_0x544011,emitLoadingProgress()),_0x37df95++,await sleep(0xc8);}if(_0x544011==_0x363463[_0x4fbc6c(0x236)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x4e4cf8=_0x2a5e1f;proxyEmit(_0x4e4cf8(0x214),loading);}async function getFiat(){const _0x43f503=_0x2a5e1f;let _0x2b5e5f=0x0,_0x298ac0=0x0;try{_0x2b5e5f=global[_0x43f503(0x1e2)][stablecoins['eur'][_0x43f503(0x16a)]],_0x298ac0=global[_0x43f503(0x1e2)][stablecoins[_0x43f503(0x206)][_0x43f503(0x16a)]];}catch(_0xfb2fa1){await handleError(_0xfb2fa1,_0x43f503(0x24e));}return{'eur':Number(_0x2b5e5f),'usd':Number(_0x298ac0)};}function setStartDatePerformance(){const _0x16f1cc=_0x2a5e1f;if(config&&config[_0x16f1cc(0x239)][0x0][_0x16f1cc(0x1d0)][_0x16f1cc(0x236)]!=0x0){const _0x26cfa7=config[_0x16f1cc(0x239)][0x0][_0x16f1cc(0x1d0)];dbPerformance[_0x16f1cc(0x182)](_0x16f1cc(0x244))['find']({'date':config[_0x16f1cc(0x13b)]})[_0x16f1cc(0x217)]({'coins':_0x26cfa7})[_0x16f1cc(0x179)]();}}async function recreateHistory(_0x4a4521){const _0x5450cd=_0x2a5e1f;let _0x464d62,_0x59d3dc=[];logHistory(_0x5450cd(0x238),_0x5450cd(0x1e1)),_0x4a4521['portfolio']['forEach'](_0x38921f=>{const _0x38c335=_0x5450cd;if(_0x38921f[_0x38c335(0x16a)]!=config['basecoin']&&!_0x38921f[_0x38c335(0x23b)])_0x59d3dc[_0x38c335(0x1dc)]({'coin':_0x38921f[_0x38c335(0x16a)],'symbol':_0x38921f[_0x38c335(0x1ab)]});});let _0x58e646=[];try{const _0x37c9f1=fns[_0x5450cd(0x176)](fns[_0x5450cd(0x169)](_0x4a4521[_0x5450cd(0x13b)][_0x5450cd(0x1e9)](/\//g,'-')),_0x5450cd(0x1d2));for(const _0x3e4c3c of _0x59d3dc){if(_0x3e4c3c['coin']!=config[_0x5450cd(0x1c7)])_0x464d62=await exchange[_0x5450cd(0x1c3)](_0x3e4c3c[_0x5450cd(0x1ab)],Date['parse'](_0x37c9f1));_0x464d62[_0x5450cd(0x13d)](_0x654631=>{const _0x7b5721=_0x5450cd,_0x5a596f=_0x3e4c3c[_0x7b5721(0x1ab)]['includes'](config[_0x7b5721(0x1c7)]+'/'),_0x3ec071=fns[_0x7b5721(0x176)](fns[_0x7b5721(0x169)](_0x654631[_0x7b5721(0x228)]),_0x7b5721(0x1b3)),_0x5df119=fns[_0x7b5721(0x176)](fns[_0x7b5721(0x169)](_0x654631[_0x7b5721(0x228)]),'yyyy/MM/dd');let _0x3a2b42;if(_0x654631[_0x7b5721(0x219)]==_0x7b5721(0x1b7)&&_0x5a596f==![])_0x3a2b42=_0x654631[_0x7b5721(0x153)];if(_0x654631[_0x7b5721(0x219)]=='buy'&&_0x5a596f==!![])_0x3a2b42=-_0x654631[_0x7b5721(0x153)]*_0x654631[_0x7b5721(0x224)];if(_0x654631[_0x7b5721(0x219)]==_0x7b5721(0x22c)&&_0x5a596f==![])_0x3a2b42=-_0x654631[_0x7b5721(0x153)];if(_0x654631[_0x7b5721(0x219)]=='sell'&&_0x5a596f==!![])_0x3a2b42=_0x654631[_0x7b5721(0x153)]*_0x654631['price'];_0x58e646[_0x7b5721(0x1dc)]({'timestamp':_0x3ec071,'date':_0x5df119,'coin':_0x3e4c3c[_0x7b5721(0x16a)],'symbol':_0x3e4c3c['symbol'],'type':_0x654631[_0x7b5721(0x178)],'side':_0x654631[_0x7b5721(0x219)],'reverse':_0x5a596f,'amount':formatResult(_0x654631[_0x7b5721(0x20d)],0x8),'filled':formatResult(_0x654631[_0x7b5721(0x20d)],0x8),'coinamount':formatResult(_0x3a2b42,0x8),'price':formatResult(_0x654631[_0x7b5721(0x224)],0x8)});let _0x32e157;if(_0x654631[_0x7b5721(0x219)]=='buy'&&_0x5a596f==![])_0x32e157=-_0x654631[_0x7b5721(0x153)]*_0x654631[_0x7b5721(0x224)];if(_0x654631[_0x7b5721(0x219)]==_0x7b5721(0x1b7)&&_0x5a596f==!![])_0x32e157=_0x654631[_0x7b5721(0x153)];if(_0x654631[_0x7b5721(0x219)]==_0x7b5721(0x22c)&&_0x5a596f==![])_0x32e157=_0x654631[_0x7b5721(0x153)]*_0x654631[_0x7b5721(0x224)];if(_0x654631['side']==_0x7b5721(0x22c)&&_0x5a596f==!![])_0x32e157=-_0x654631[_0x7b5721(0x153)];_0x58e646[_0x7b5721(0x1dc)]({'date':_0x5df119,'coin':config[_0x7b5721(0x1c7)],'coinamount':formatResult(_0x32e157,0x8)});});}_0x58e646[_0x5450cd(0x22f)]((_0x561b70,_0xd2dd63)=>_0x561b70[_0x5450cd(0x1f3)]>_0xd2dd63['timestamp']?0x1:_0xd2dd63[_0x5450cd(0x1f3)]>_0x561b70[_0x5450cd(0x1f3)]?-0x1:0x0),dbLogs[_0x5450cd(0x182)]('logs')[_0x5450cd(0x24d)]()[_0x5450cd(0x179)](),_0x58e646[_0x5450cd(0x13d)](_0x41fa79=>{const _0x20c67d=_0x5450cd;let _0x4acdc2;_0x41fa79[_0x20c67d(0x16a)]!=config[_0x20c67d(0x1c7)]&&(_0x4acdc2={'time':_0x41fa79[_0x20c67d(0x1f3)],'type':_0x20c67d(0x1bf),'event':_0x20c67d(0x1af)+_0x41fa79['symbol']+'\x20'+_0x41fa79[_0x20c67d(0x219)]+'\x20#'+_0x41fa79[_0x20c67d(0x153)]+'\x20@'+_0x41fa79[_0x20c67d(0x224)]},dbLogs[_0x20c67d(0x182)](_0x20c67d(0x263))[_0x20c67d(0x1dc)](_0x4acdc2)[_0x20c67d(0x179)]());});const _0x4c531e=fns[_0x5450cd(0x1a9)]({'start':new Date(_0x4a4521['startdate']),'end':new Date()})[_0x5450cd(0x1df)](_0x4b0fc0=>fns[_0x5450cd(0x176)](_0x4b0fc0,'yyyy/MM/dd'));let _0x1266ae=[];_0x4a4521[_0x5450cd(0x1e6)]['forEach'](_0x5af4d9=>{const _0x545c04=_0x5450cd;if(!_0x5af4d9[_0x545c04(0x23b)]){_0x1266ae[_0x5af4d9[_0x545c04(0x16a)]]=[];let _0xfcbeb2=_0x5af4d9[_0x545c04(0x138)];_0x4c531e[_0x545c04(0x13d)]((_0x471b7a,_0x484a96)=>{const _0x3afb2c=_0x545c04;let _0x463cab=_0x58e646[_0x3afb2c(0x1ce)](_0x2526e2=>_0x2526e2[_0x3afb2c(0x16a)]==_0x5af4d9[_0x3afb2c(0x16a)]&&_0x2526e2[_0x3afb2c(0x1ed)]==_0x471b7a);if(_0x463cab[_0x3afb2c(0x236)]!=0x0){let _0xc76383=_0x463cab['reduce']((_0x51b082,_0x1bfd07)=>{const _0x2e8feb=_0x3afb2c;return _0x51b082+=_0x1bfd07[_0x2e8feb(0x221)],_0x51b082;},0x0);_0xfcbeb2+=_0xc76383;}_0x1266ae[_0x5af4d9[_0x3afb2c(0x16a)]][_0x471b7a]=_0xfcbeb2;});}});const _0x819259=[..._0x59d3dc];_0x819259['push']({'coin':stablecoins['eur']['coin'],'symbol':stablecoins[_0x5450cd(0x211)][_0x5450cd(0x1ab)]}),_0x819259['push']({'coin':stablecoins[_0x5450cd(0x206)]['coin'],'symbol':stablecoins[_0x5450cd(0x206)]['symbol']});let _0x2342f=[];for(const _0x470ddc of _0x819259){_0x2342f[_0x470ddc['coin']]=await getCloses(_0x470ddc[_0x5450cd(0x1ab)],new Date(_0x4a4521[_0x5450cd(0x13b)]));}dbPerformance[_0x5450cd(0x182)](_0x5450cd(0x244))[_0x5450cd(0x24d)]()['write'](),_0x4c531e[_0x5450cd(0x13d)]((_0x3492ec,_0x227806)=>{const _0x2208fb=_0x5450cd;let _0x51a2fa,_0xd9607e=[];_0x227806==0x0?(_0x4a4521[_0x2208fb(0x1e6)]['forEach'](_0x32f8fa=>{const _0x4e216f=_0x2208fb;!_0x32f8fa['excluded']&&_0xd9607e[_0x4e216f(0x1dc)]({'coin':_0x32f8fa[_0x4e216f(0x16a)],'number':_0x32f8fa[_0x4e216f(0x138)],'price':_0x32f8fa['startprice']});}),_0x51a2fa={'date':_0x3492ec,'eur':_0x2342f[stablecoins[_0x2208fb(0x211)][_0x2208fb(0x16a)]][_0x227806],'usd':_0x2342f[stablecoins[_0x2208fb(0x206)][_0x2208fb(0x16a)]][_0x227806],'coins':_0xd9607e}):(_0x4a4521['portfolio']['forEach'](_0x2bd988=>{const _0x2da111=_0x2208fb;!_0x2bd988[_0x2da111(0x23b)]&&_0xd9607e[_0x2da111(0x1dc)]({'coin':_0x2bd988['coin'],'number':_0x1266ae[_0x2bd988[_0x2da111(0x16a)]][_0x3492ec],'price':_0x2bd988['coin']==config[_0x2da111(0x1c7)]?0x1:_0x2342f[_0x2bd988[_0x2da111(0x16a)]][_0x227806]});}),_0x51a2fa={'date':_0x3492ec,'eur':_0x2342f[stablecoins['eur'][_0x2208fb(0x16a)]][_0x227806],'usd':_0x2342f[stablecoins[_0x2208fb(0x206)][_0x2208fb(0x16a)]][_0x227806],'coins':_0xd9607e}),dbPerformance[_0x2208fb(0x182)]('data')[_0x2208fb(0x1dc)](_0x51a2fa)[_0x2208fb(0x179)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x2e9f79 of _0x58e646){_0x2e9f79[_0x5450cd(0x16a)]!=config[_0x5450cd(0x1c7)]&&await updateCoinResults(_0x2e9f79);}logHistory(_0x5450cd(0x238),_0x5450cd(0x23e));}catch(_0x1ab919){await handleError(_0x1ab919,_0x5450cd(0x269));}}async function validate24hChanges(){const _0x149b39=_0x2a5e1f;let _0x4e9516;for(const _0x34efcc of currentCoins){if(_0x34efcc[_0x149b39(0x16a)]!=config[_0x149b39(0x1c7)]){let _0x5cf052;_0x34efcc[_0x149b39(0x14b)]?_0x5cf052=formatResult((0x1/(global[_0x149b39(0x1d8)][noslash(_0x34efcc['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x5cf052=global[_0x149b39(0x1d8)][noslash(_0x34efcc[_0x149b39(0x1ab)])],_0x5cf052<config[_0x149b39(0x183)]&&(logHistory(_0x149b39(0x140),_0x34efcc['coin']+_0x149b39(0x19f)+_0x5cf052+'%'),logHistory(_0x149b39(0x140),_0x149b39(0x1f6)),logHistory(_0x149b39(0x140),_0x149b39(0x1bb)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x24bc13,_0xec28c3,_0x3b122b=undefined){const _0x912938=_0x2a5e1f,_0x39a2b4='1d';let _0x1739aa,_0x45946b;const _0x32b44f=fns[_0x912938(0x242)](new Date(),_0xec28c3)+0x1;try{const _0x3dadae=exchange[_0x912938(0x1c1)]()-_0x32b44f*0x18*0xe10*0x3e8;_0x1739aa=await exchange[_0x912938(0x195)](_0x24bc13,_0x39a2b4,_0x3dadae,_0x3b122b),_0x45946b=await exchange[_0x912938(0x20a)](_0x24bc13);}catch(_0x46f153){await handleError(_0x46f153,_0x912938(0x235));}let _0x3c828e=ohlcvToCloses(_0x1739aa);return _0x3c828e[_0x912938(0x1dc)](_0x45946b[_0x24bc13][_0x912938(0x234)]),_0x3c828e;}function ohlcvToCloses(_0x35fdbc){const _0x2a0c59=_0x2a5e1f;let _0x2d8a5d=[];return _0x35fdbc[_0x2a0c59(0x13d)](function(_0x41f27c){const _0x197055=_0x2a0c59;_0x2d8a5d[_0x197055(0x1dc)](_0x41f27c[0x4]);}),_0x2d8a5d;}function oneTimeMigration(){const _0x134e82=_0x2a5e1f;let _0x5d66e4=dbLogs[_0x134e82(0x182)](_0x134e82(0x25a))[_0x134e82(0x1b4)]();if(_0x5d66e4!=_0x134e82(0x21e)){dbLogs[_0x134e82(0x19b)](_0x134e82(0x25a),_0x134e82(0x21e))[_0x134e82(0x179)]();let _0x11ac49=[];const _0xfc5219=dbLogs[_0x134e82(0x182)](_0x134e82(0x263))[_0x134e82(0x1b4)]();_0xfc5219['forEach'](_0x3cf4cc=>{const _0x430db3=_0x134e82;_0x11ac49[_0x430db3(0x1dc)]({'time':_0x3cf4cc[_0x430db3(0x16c)],'type':_0x3cf4cc[_0x430db3(0x178)],'event':_0x3cf4cc['event']});}),dbLogs[_0x134e82(0x182)](_0x134e82(0x263))['assign'](_0x11ac49)[_0x134e82(0x179)]();}let _0x274a4f=dbConfig['get']('version')[_0x134e82(0x1b4)]();if(_0x274a4f!=_0x134e82(0x21e)){dbConfig[_0x134e82(0x19b)](_0x134e82(0x25a),_0x134e82(0x21e))[_0x134e82(0x179)]();let _0x2a5215=dbConfig['get']('bot')['find']({'botID':botID})[_0x134e82(0x1b4)]();if(_0x2a5215){let _0x52d5e7=[];_0x2a5215[_0x134e82(0x1e6)][_0x134e82(0x13d)](_0x28a988=>{const _0x542275=_0x134e82;_0x52d5e7[_0x542275(0x1dc)]({'coin':_0x28a988[_0x542275(0x16a)],'number':_0x28a988[_0x542275(0x138)],'price':_0x28a988[_0x542275(0x1a7)]}),delete _0x28a988[_0x542275(0x138)],delete _0x28a988[_0x542275(0x1a7)];});if(_0x52d5e7[_0x134e82(0x236)]!==0x0)fs[_0x134e82(0x1bc)](configbackuppath+(_0x134e82(0x159)+botID+_0x134e82(0x26a)),JSON[_0x134e82(0x253)](_0x52d5e7,null,0x4),function(_0x53809f){if(_0x53809f){}});const _0x4212f1=(_0x3e57ee,_0x4e2363)=>{const _0xa66881=_0x134e82;let _0x5c7d70=[];_0x4e2363[_0xa66881(0x13d)](_0xd8cd65=>{const _0x4b8e5c=_0xa66881,_0x5934ba=_0x3e57ee[_0x4b8e5c(0x265)](_0x2186b8=>_0x2186b8[_0x4b8e5c(0x16a)]==_0xd8cd65[_0x4b8e5c(0x16a)]);if(!_0x5934ba)_0x5c7d70[_0x4b8e5c(0x1dc)](_0xd8cd65);});let _0x2f3902=[];return _0x3e57ee['forEach'](_0x4884a8=>{const _0x35cae9=_0xa66881,_0x4d5239=_0x4e2363[_0x35cae9(0x265)](_0x3fc55a=>_0x3fc55a[_0x35cae9(0x16a)]==_0x4884a8[_0x35cae9(0x16a)]);if(!_0x4d5239||_0x4d5239[_0x35cae9(0x17b)]==0x0&&_0x4884a8[_0x35cae9(0x17b)]!=0x0)_0x2f3902[_0x35cae9(0x1dc)](_0x4884a8);}),{'missingDay1':_0x5c7d70,'notInDay2':_0x2f3902};},_0xe3544a=dbPerformance[_0x134e82(0x182)](_0x134e82(0x244))[_0x134e82(0x198)]()['value']();if(_0xe3544a[_0x134e82(0x236)]>0x1){const {missingDay1:_0x1b0eca,notInDay2:_0x29c07d}=_0x4212f1(_0x52d5e7,_0xe3544a[0x1][_0x134e82(0x16f)]);_0x52d5e7=[..._0x52d5e7,..._0x1b0eca],_0x29c07d['forEach'](_0x165b9e=>{let _0x2eaaa0=_0x52d5e7['findIndex'](_0x4a3d45=>_0x4a3d45['coin']==_0x165b9e['coin']);_0x2eaaa0!=-0x1&&_0x52d5e7['splice'](_0x2eaaa0,0x1);});}_0x52d5e7['sort']((_0x1fc6c9,_0xfb7fa4)=>_0x1fc6c9['coin']>_0xfb7fa4[_0x134e82(0x16a)]?0x1:_0xfb7fa4[_0x134e82(0x16a)]>_0x1fc6c9[_0x134e82(0x16a)]?-0x1:0x0);let _0x599fcc=[{'date':_0x2a5215['startdate'],'changes':_0x52d5e7}];_0xe3544a['length']>0x2&&_0xe3544a[_0x134e82(0x13d)]((_0x1c513e,_0x4d927d)=>{const _0xc9f98=_0x134e82;if(_0x4d927d>0x0&&_0x4d927d<_0xe3544a[_0xc9f98(0x236)]-0x1){const {missingDay1:_0x3c627f,notInDay2:_0x36f59c}=_0x4212f1(_0xe3544a[_0x4d927d]['coins'],_0xe3544a[_0x4d927d+0x1][_0xc9f98(0x16f)]);_0x52d5e7=[],(_0x3c627f[_0xc9f98(0x236)]!=0x0||_0x36f59c['length']!=0x0)&&(_0x3c627f['length']!=0x0&&_0x52d5e7[_0xc9f98(0x1dc)](..._0x3c627f),_0x36f59c[_0xc9f98(0x236)]!=0x0&&(_0x36f59c[_0xc9f98(0x13d)](_0x27b509=>{const _0x3e179f=_0xc9f98;_0x27b509['number']=-_0x27b509[_0x3e179f(0x17b)];}),_0x52d5e7[_0xc9f98(0x1dc)](..._0x36f59c)),_0x52d5e7[_0xc9f98(0x22f)]((_0x3a82b7,_0x5358b0)=>_0x3a82b7[_0xc9f98(0x16a)]>_0x5358b0[_0xc9f98(0x16a)]?0x1:_0x5358b0[_0xc9f98(0x16a)]>_0x3a82b7['coin']?-0x1:0x0),_0x599fcc[_0xc9f98(0x1dc)]({'date':_0xe3544a[_0x4d927d+0x1][_0xc9f98(0x1ed)],'changes':_0x52d5e7}));}}),dbConfig[_0x134e82(0x182)](_0x134e82(0x18f))['find']({'botID':botID})[_0x134e82(0x217)]({..._0x2a5215,'liquidity':_0x599fcc})[_0x134e82(0x179)]();}}config=getConfiguration(botID);let _0x3c8b5c=dbPerformance['get'](_0x134e82(0x25a))[_0x134e82(0x1b4)]();_0x3c8b5c!=_0x134e82(0x21e)&&(dbPerformance[_0x134e82(0x19b)](_0x134e82(0x25a),_0x134e82(0x21e))['write'](),setStartDatePerformance());let _0x22fcc4=dbCoinResults[_0x134e82(0x182)]('version')['value']();_0x22fcc4!='2.3.5'&&dbCoinResults[_0x134e82(0x19b)](_0x134e82(0x25a),_0x134e82(0x21e))[_0x134e82(0x179)]();}function getConfiguration(_0x5ed5bc){const _0x20847b=_0x2a5e1f;let _0x4d65ff=dbConfig[_0x20847b(0x182)](_0x20847b(0x18f))[_0x20847b(0x265)]({'botID':_0x5ed5bc})[_0x20847b(0x1b4)]();if(_0x4d65ff){let _0x1e0aa8=![];typeof _0x4d65ff[_0x20847b(0x1fa)]==_0x20847b(0x17d)&&(_0x4d65ff={..._0x4d65ff,'threshold':Number(_0x4d65ff['threshold'])},_0x1e0aa8=!![]),_0x4d65ff[_0x20847b(0x183)]==null&&(_0x4d65ff={..._0x4d65ff,'change24h':-0x14},_0x1e0aa8=!![]),_0x1e0aa8&&(_0x4d65ff={'botID':_0x4d65ff[_0x20847b(0x162)],'exchange':_0x4d65ff[_0x20847b(0x230)],'apiKey':_0x4d65ff['apiKey'],'apiSecret':_0x4d65ff[_0x20847b(0x241)],'basecoin':_0x4d65ff['basecoin'],'botname':_0x4d65ff[_0x20847b(0x1b0)],'showname':_0x4d65ff[_0x20847b(0x148)],'threshold':_0x4d65ff[_0x20847b(0x1fa)],'ordertype':_0x4d65ff['ordertype'],'timeout':_0x4d65ff[_0x20847b(0x1eb)],'startdate':_0x4d65ff['startdate'],'recreate':_0x4d65ff[_0x20847b(0x1d4)],'timeshift':_0x4d65ff[_0x20847b(0x23d)],'headless':_0x4d65ff[_0x20847b(0x251)],'cooldown':_0x4d65ff[_0x20847b(0x1b6)],'change24h':_0x4d65ff[_0x20847b(0x183)],'emojibuy':_0x4d65ff[_0x20847b(0x1e0)],'emojisell':_0x4d65ff[_0x20847b(0x1b2)],'portfolio':_0x4d65ff[_0x20847b(0x1e6)],'liquidity':_0x4d65ff[_0x20847b(0x239)]},dbConfig[_0x20847b(0x182)](_0x20847b(0x18f))[_0x20847b(0x24d)]()[_0x20847b(0x179)](),dbConfig[_0x20847b(0x182)]('bot')[_0x20847b(0x1dc)](_0x4d65ff)[_0x20847b(0x179)]());}else _0x4d65ff={'botID':_0x5ed5bc,'exchange':_0x20847b(0x1f0),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x20847b(0x166)+_0x5ed5bc,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x20847b(0x23d)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x4d65ff;}function emittedConfiguration(){const _0x53f7d4=_0x2a5e1f;let _0x3dcf0a;return config[_0x53f7d4(0x26b)]==''?_0x3dcf0a=config:_0x3dcf0a={...config,'apiKey':_0x53f7d4(0x248),'apiSecret':_0x53f7d4(0x248)},_0x3dcf0a;}function getSettings(){const _0x228cec=_0x2a5e1f;return dbSettings[_0x228cec(0x182)](_0x228cec(0x233))[_0x228cec(0x1b4)]();}function getSecure(){const _0x238d4e=_0x2a5e1f;return dbSecure[_0x238d4e(0x182)](_0x238d4e(0x1cc))[_0x238d4e(0x1b4)]()||{};}function updateTimeshift(_0x3e51d0){const _0x2a5104=_0x2a5e1f;let _0x3ae135=dbConfig['get']('bot')['find']({'botID':botID})[_0x2a5104(0x1b4)]();_0x3ae135&&dbConfig[_0x2a5104(0x182)](_0x2a5104(0x18f))[_0x2a5104(0x265)]({'botID':botID})[_0x2a5104(0x217)]({'timeshift':_0x3e51d0})[_0x2a5104(0x179)](),config[_0x2a5104(0x23d)]=_0x3e51d0,proxyEmit(_0x2a5104(0x256),emittedConfiguration());}async function storeConfiguration(_0x19e5c3){const _0x4c3523=_0x2a5e1f;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x5120bf=dbConfig[_0x4c3523(0x182)]('bot')[_0x4c3523(0x265)]({'botID':botID})[_0x4c3523(0x1b4)]();_0x19e5c3={..._0x19e5c3,'apiKey':crypt['decrypt'](secure[_0x4c3523(0x1ff)],_0x19e5c3[_0x4c3523(0x26b)])[_0x4c3523(0x21c)],'apiSecret':crypt[_0x4c3523(0x204)](secure[_0x4c3523(0x1ff)],_0x19e5c3[_0x4c3523(0x241)])[_0x4c3523(0x21c)]};if(_0x5120bf){if(_0x19e5c3[_0x4c3523(0x26b)]==_0x4c3523(0x248))_0x19e5c3[_0x4c3523(0x26b)]=config[_0x4c3523(0x26b)];if(_0x19e5c3['apiSecret']==_0x4c3523(0x248))_0x19e5c3[_0x4c3523(0x241)]=config[_0x4c3523(0x241)];dbConfig[_0x4c3523(0x182)]('bot')['find']({'botID':botID})[_0x4c3523(0x217)](_0x19e5c3)[_0x4c3523(0x179)]();}else dbConfig[_0x4c3523(0x182)](_0x4c3523(0x18f))[_0x4c3523(0x1dc)](_0x19e5c3)[_0x4c3523(0x179)](),process[_0x4c3523(0x260)]({'status':_0x4c3523(0x25d),'live':'running'},_0x398510=>{});config={..._0x19e5c3},setStartDatePerformance(),process['send']({'botname':_0x19e5c3[_0x4c3523(0x1b0)]},_0x48e367=>{}),updateBotManager();const _0x926164=getNormalizedPerformance();getStartingBalances(_0x926164),emitPerformance(_0x926164),proxyEmit(_0x4c3523(0x216)),reset();}async function storeHeadless(_0xdf7816){const _0x14e4a0=_0x2a5e1f,_0x3d4e23={...config,'headless':_0xdf7816['headless']};let _0x300f37=dbConfig['get'](_0x14e4a0(0x18f))['find']({'botID':botID})[_0x14e4a0(0x1b4)]();_0x300f37&&dbConfig[_0x14e4a0(0x182)]('bot')['find']({'botID':botID})['assign'](_0x3d4e23)[_0x14e4a0(0x179)](),config={..._0x3d4e23},updateBotManager(),proxyEmit(_0x14e4a0(0x256),emittedConfiguration());}function noslash(_0x26f89c){const _0x11efcb=_0x2a5e1f;return _0x26f89c[_0x11efcb(0x1e9)]('/','');}function updateNumberCoins(_0x41a32d){const _0x41f30b=_0x2a5e1f;_0x41a32d[_0x41f30b(0x200)]&&_0x41a32d[_0x41f30b(0x200)]==_0x41f30b(0x20f)&&_0x41a32d[_0x41f30b(0x1fe)]['forEach'](_0x49c046=>{const _0x4cf7ca=_0x41f30b;let _0x992cf9=currentCoins['find'](_0x1227ab=>_0x1227ab[_0x4cf7ca(0x16a)]==_0x49c046['asset']),_0x21a247=config[_0x4cf7ca(0x1e6)][_0x4cf7ca(0x265)](_0x2afff7=>_0x2afff7[_0x4cf7ca(0x16a)]==_0x49c046[_0x4cf7ca(0x24c)]);if(_0x992cf9&&_0x21a247)_0x992cf9[_0x4cf7ca(0x17b)]=Math['max'](Number(_0x49c046[_0x4cf7ca(0x254)])+(_0x21a247['offset']||0x0),0x0);});if(_0x41a32d[_0x41f30b(0x200)]&&_0x41a32d[_0x41f30b(0x200)]==_0x41f30b(0x154)){if(_0x41a32d[_0x41f30b(0x1e8)]==_0x41f30b(0x223)&&_0x41a32d[_0x41f30b(0x15f)]=='FILLED'){if(lastOrders)lastOrders[_0x41f30b(0x13d)](_0x1930ab=>{const _0x4282f9=_0x41f30b;if(_0x1930ab['orderId']==_0x41a32d[_0x4282f9(0x258)]){if(_0x1930ab['reverse'])_0x1930ab['filled']=_0x41a32d[_0x4282f9(0x210)]*_0x1930ab[_0x4282f9(0x224)];else _0x1930ab[_0x4282f9(0x20d)]=_0x41a32d[_0x4282f9(0x210)];}});}}}async function getCoins(_0x48e00b=!![],_0x250262=config['basecoin']){const _0x5caa49=_0x2a5e1f;let _0x451406,_0xa491bf=[],_0x49336c=[],_0x5d72f4=[];try{_0x451406=await exchange[_0x5caa49(0x1ca)](),mybalances=_0x451406[_0x5caa49(0x202)];if(!_0x48e00b)for(const [_0x3a5b7d,_0x2b37a2]of Object[_0x5caa49(0x1ec)](mybalances)){_0x5d72f4[_0x5caa49(0x1dc)](_0x3a5b7d);}else config[_0x5caa49(0x1e6)][_0x5caa49(0x13d)](_0x13de4a=>{const _0x16a36f=_0x5caa49;if(!_0x13de4a[_0x16a36f(0x23b)])_0x5d72f4[_0x16a36f(0x1dc)](_0x13de4a[_0x16a36f(0x16a)]);});if(_0x250262=='')for(const [_0x145d27,_0x4888f0]of Object['entries'](mybalances)){_0x4888f0[_0x5caa49(0x199)]()!=0x0&&_0x49336c[_0x5caa49(0x1dc)]({'coin':_0x145d27});}else for(const [_0x113836,_0x587cf5]of Object[_0x5caa49(0x1ec)](mybalances)){if(_0x5d72f4[_0x5caa49(0x21f)](_0x113836)){const _0xdcd96c=config[_0x5caa49(0x1e6)]['find'](_0x3db8f0=>_0x3db8f0[_0x5caa49(0x16a)]==_0x113836);if((_0x587cf5['toString']()!=0x0||_0xdcd96c)&&(allSymbols[_0x5caa49(0x21f)](_0x113836+'/'+_0x250262)||_0x113836==_0x250262))_0x49336c['push']({'coin':_0x113836,'symbol':_0x113836+'/'+_0x250262,'reverse':![],'number':Math[_0x5caa49(0x246)](_0x587cf5+(_0xdcd96c&&_0xdcd96c[_0x5caa49(0x1ad)]||0x0),0x0)}),_0x113836!=_0x250262&&_0xa491bf[_0x5caa49(0x1dc)](_0x113836+'/'+_0x250262);else(_0x587cf5[_0x5caa49(0x199)]()!=0x0||_0xdcd96c)&&allSymbols[_0x5caa49(0x21f)](_0x250262+'/'+_0x113836)&&(_0x49336c['push']({'coin':_0x113836,'symbol':_0x250262+'/'+_0x113836,'reverse':!![],'number':Math[_0x5caa49(0x246)](_0x587cf5+(_0xdcd96c&&_0xdcd96c[_0x5caa49(0x1ad)]||0x0),0x0)}),_0x113836!=_0x250262&&_0xa491bf[_0x5caa49(0x1dc)](_0x250262+'/'+_0x113836));}}}catch(_0x3dc3d0){if(!_0x48e00b){if(_0x3dc3d0[_0x5caa49(0x199)]()[_0x5caa49(0x21f)](_0x5caa49(0x1b8)))return logHistory('error','Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x3dc3d0[_0x5caa49(0x199)]()[_0x5caa49(0x21f)](_0x5caa49(0x149)))return logHistory(_0x5caa49(0x140),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x3dc3d0['toString']()[_0x5caa49(0x21f)](_0x5caa49(0x189)))return logHistory(_0x5caa49(0x140),_0x5caa49(0x18d)),![];else await handleError(_0x3dc3d0,_0x5caa49(0x1a0));}}}else await handleError(_0x3dc3d0,_0x5caa49(0x1a0));}return _0x49336c;}async function getPortfolio(_0x288608){const _0x93c6c4=_0x2a5e1f;let _0x2567c4=[],_0x191733=[],_0x25abee,_0x308ae9=[],_0xf43ff7,_0x2684bf;_0x288608['apiKey']===_0x93c6c4(0x248)||_0x288608['apiSecret']===_0x93c6c4(0x248)?(_0xf43ff7=config[_0x93c6c4(0x26b)],_0x2684bf=config[_0x93c6c4(0x241)]):(_0xf43ff7=_0x288608['apiKey'],_0x2684bf=_0x288608[_0x93c6c4(0x241)]);await initExchange(_0xf43ff7,_0x2684bf);let _0x4f7f8d=await loadSymbols();if(_0x4f7f8d){_0x308ae9=await getCoins(![],_0x288608['basecoin']);if(_0x308ae9===![])proxyEmit(_0x93c6c4(0x1e6),![]);else{if(_0x288608[_0x93c6c4(0x1c7)]=='')proxyEmit(_0x93c6c4(0x1e6),_0x308ae9);else{_0x308ae9[_0x93c6c4(0x13d)](_0x238acc=>{const _0x1635ea=_0x93c6c4;_0x2567c4[_0x1635ea(0x1dc)](_0x238acc['symbol']);});try{_0x191733=await exchange['fetchTickers'](_0x2567c4);}catch(_0x15c9ae){await handleError(_0x15c9ae,_0x93c6c4(0x1f2));}_0x308ae9[_0x93c6c4(0x13d)](_0x25eb27=>{const _0x107db4=_0x93c6c4;_0x25eb27[_0x107db4(0x16a)]!=_0x288608[_0x107db4(0x1c7)]?_0x25abee=_0x25eb27[_0x107db4(0x14b)]?0x1/_0x191733[_0x25eb27[_0x107db4(0x1ab)]][_0x107db4(0x234)]:_0x191733[_0x25eb27[_0x107db4(0x1ab)]][_0x107db4(0x234)]:_0x25abee=0x1,_0x25eb27[_0x107db4(0x224)]=formatResult(_0x25abee,0x8);}),proxyEmit(_0x93c6c4(0x1e6),_0x308ae9);}}}else proxyEmit(_0x93c6c4(0x1e6),![]);}function checkMinimums(_0xf7a9f1){const _0x535237=_0x2a5e1f;let _0x365a52=!![];const _0x1fcbb0=!_0xf7a9f1[_0x535237(0x14b)]?markets[_0xf7a9f1[_0x535237(0x1ab)]][_0x535237(0x1b1)][_0x535237(0x153)][_0x535237(0x24a)]:markets[_0xf7a9f1['symbol']]['limits']['cost'][_0x535237(0x24a)],_0x1f84db=!_0xf7a9f1[_0x535237(0x14b)]?markets[_0xf7a9f1[_0x535237(0x1ab)]][_0x535237(0x1b1)][_0x535237(0x226)][_0x535237(0x24a)]:markets[_0xf7a9f1[_0x535237(0x1ab)]][_0x535237(0x1b1)][_0x535237(0x153)][_0x535237(0x24a)];if(Math[_0x535237(0x17e)](_0xf7a9f1[_0x535237(0x186)])<_0x1fcbb0)_0x365a52=![];if(Math[_0x535237(0x17e)](_0xf7a9f1[_0x535237(0x186)])*_0xf7a9f1[_0x535237(0x234)]<_0x1f84db)_0x365a52=![];if(_0xf7a9f1[_0x535237(0x219)]==_0x535237(0x22c)){let _0x2a6b7c=config['portfolio'][_0x535237(0x265)](_0x4ac3e7=>_0x4ac3e7[_0x535237(0x16a)]==_0xf7a9f1[_0x535237(0x16a)]);if(Math[_0x535237(0x17e)](_0xf7a9f1[_0x535237(0x186)])>_0xf7a9f1['number']-_0x2a6b7c[_0x535237(0x1ad)])_0x365a52=![];}return _0x365a52;}async function getBalances(){const _0x575b5a=_0x2a5e1f;let _0x3fadb5=0x0,_0x2f9249;const _0x217335=config[_0x575b5a(0x1fa)];if(config[_0x575b5a(0x251)]&&config['change24h']<0x0)await validate24hChanges();currentCoins['forEach'](_0x557cdc=>{const _0x3eb1f1=_0x575b5a;if(_0x557cdc[_0x3eb1f1(0x16a)]!=config['basecoin']){let _0x2af2b7=global['ticker'][noslash(_0x557cdc['symbol'])];_0x2f9249=_0x557cdc[_0x3eb1f1(0x14b)]?0x1/_0x2af2b7:_0x2af2b7;}else _0x2f9249=0x1;let _0x517453=_0x557cdc[_0x3eb1f1(0x17b)]*_0x2f9249;_0x3fadb5+=_0x517453,_0x557cdc[_0x3eb1f1(0x234)]=formatResult(Number(_0x2f9249),0x8),_0x557cdc[_0x3eb1f1(0x1b4)]=_0x517453;}),currentCoins[_0x575b5a(0x13d)](_0x3d2a20=>{const _0x36895b=_0x575b5a;let _0x58e31c=config[_0x36895b(0x1e6)][_0x36895b(0x265)](_0x27e3b7=>_0x27e3b7[_0x36895b(0x16a)]==_0x3d2a20[_0x36895b(0x16a)]),_0x36965c=Number(_0x58e31c[_0x36895b(0x237)]),_0x1ee8e5=_0x3d2a20[_0x36895b(0x1b4)]/_0x3fadb5*0x64,_0x46bf0f=_0x36965c*_0x3fadb5/0x64/_0x3d2a20[_0x36895b(0x234)]-_0x3d2a20[_0x36895b(0x17b)];_0x3d2a20[_0x36895b(0x237)]=formatResult(_0x1ee8e5,0x3),_0x3d2a20[_0x36895b(0x205)]=formatResult(_0x36965c,0x3),_0x3d2a20[_0x36895b(0x186)]=formatResult(_0x46bf0f,0x8),_0x3d2a20['side']='',_0x3d2a20[_0x36895b(0x19d)]=![];if(_0x3d2a20[_0x36895b(0x16a)]!=config[_0x36895b(0x1c7)]){if(_0x3d2a20[_0x36895b(0x237)]>_0x36965c)_0x3d2a20[_0x36895b(0x219)]=_0x36895b(0x22c),_0x3d2a20[_0x36895b(0x19d)]=checkMinimums(_0x3d2a20);else _0x3d2a20[_0x36895b(0x237)]<_0x36965c&&(_0x3d2a20[_0x36895b(0x219)]='buy',_0x3d2a20[_0x36895b(0x19d)]=checkMinimums(_0x3d2a20));}_0x3d2a20['delta']=_0x3d2a20[_0x36895b(0x237)]/_0x3d2a20[_0x36895b(0x205)]-0x1;}),currentCoins[_0x575b5a(0x22f)]((_0x1693bb,_0x7a9b60)=>_0x1693bb[_0x575b5a(0x1c9)]<_0x7a9b60['delta']?0x1:_0x7a9b60['delta']<_0x1693bb['delta']?-0x1:0x0);const _0x5a9cf7=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5a9cf7[_0x575b5a(0x211)],'usd':_0x5a9cf7['usd'],'portfolio':JSON[_0x575b5a(0x253)](currentCoins),'threshold':_0x217335},proxyEmit(_0x575b5a(0x1fe),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x575b5a(0x251)])headlessMode({'portfolio':currentCoins,'threshold':_0x217335});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x217335});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x6a04a6=_0x2a5e1f;if(!lastBalances)return;let _0x377c41=[],_0x16b380,_0x4ab1cb=JSON['parse'](lastBalances['portfolio']);_0x4ab1cb[_0x6a04a6(0x22f)]((_0x5075e2,_0x4bacfd)=>_0x5075e2[_0x6a04a6(0x16a)]>_0x4bacfd['coin']?0x1:_0x4bacfd[_0x6a04a6(0x16a)]>_0x5075e2[_0x6a04a6(0x16a)]?-0x1:0x0),_0x4ab1cb[_0x6a04a6(0x13d)](_0x58b021=>{const _0xc52922=_0x6a04a6;let _0x44331e={'coin':_0x58b021[_0xc52922(0x16a)],'number':_0x58b021[_0xc52922(0x17b)],'price':_0x58b021['last']};_0x377c41[_0xc52922(0x1dc)](_0x44331e);});const _0x3df33b=await getFiat();_0x16b380={'date':lastBalances[_0x6a04a6(0x16c)][_0x6a04a6(0x17c)]('\x20')[0x0],'eur':_0x3df33b[_0x6a04a6(0x211)],'usd':_0x3df33b[_0x6a04a6(0x206)],'coins':_0x377c41};let _0xf78222=dbPerformance['get'](_0x6a04a6(0x244))[_0x6a04a6(0x265)]({'date':_0x16b380[_0x6a04a6(0x1ed)]})[_0x6a04a6(0x1b4)]();_0xf78222?_0x16b380[_0x6a04a6(0x1ed)]!=config['startdate']&&dbPerformance[_0x6a04a6(0x182)](_0x6a04a6(0x244))['find']({'date':_0x16b380[_0x6a04a6(0x1ed)]})['assign'](_0x16b380)[_0x6a04a6(0x179)]():dbPerformance[_0x6a04a6(0x182)](_0x6a04a6(0x244))[_0x6a04a6(0x1dc)](_0x16b380)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x17bf6b=_0x2a5e1f;let _0x43faa2=[];if(dbPerformance[_0x17bf6b(0x25e)](_0x17bf6b(0x244))[_0x17bf6b(0x1b4)]()){let _0x42e12b=dbPerformance[_0x17bf6b(0x182)](_0x17bf6b(0x244))[_0x17bf6b(0x198)]()['sortBy'](_0x17bf6b(0x1ed))[_0x17bf6b(0x1b4)](),_0x6ea81c=[...config['liquidity']];_0x6ea81c[_0x17bf6b(0x22f)]((_0x274dd5,_0x50e9c7)=>_0x274dd5[_0x17bf6b(0x1ed)]>_0x50e9c7[_0x17bf6b(0x1ed)]?-0x1:_0x50e9c7['date']>_0x274dd5[_0x17bf6b(0x1ed)]?0x1:0x0);let _0x74107d=0x1,_0x3000a7=[],_0x511ebb=0x0;_0x42e12b['slice']()[_0x17bf6b(0x14b)]()['forEach']((_0x302e52,_0x104edb)=>{const _0x5a962f=_0x17bf6b;if(_0x6ea81c[_0x511ebb]){if(_0x42e12b[_0x42e12b[_0x5a962f(0x236)]-_0x104edb]&&_0x6ea81c[_0x511ebb][_0x5a962f(0x1ed)]==_0x42e12b[_0x42e12b[_0x5a962f(0x236)]-_0x104edb][_0x5a962f(0x1ed)]){if(_0x104edb<_0x42e12b[_0x5a962f(0x236)]){let _0x2c9da1=0x0,_0x3666f5=0x0;_0x42e12b[_0x42e12b['length']-_0x104edb][_0x5a962f(0x16f)][_0x5a962f(0x13d)](_0x5b1b48=>{const _0x477797=_0x5a962f;_0x3666f5+=_0x5b1b48['number']*_0x5b1b48[_0x477797(0x224)];}),_0x6ea81c[_0x511ebb][_0x5a962f(0x1d0)][_0x5a962f(0x13d)](_0xfa3f8c=>{const _0x5e0fcc=_0x5a962f;_0x2c9da1+=_0xfa3f8c['number']*_0xfa3f8c[_0x5e0fcc(0x224)];}),_0x74107d*=_0x2c9da1/(_0x3666f5-_0x2c9da1)+0x1;}_0x511ebb++;}}let _0xc0e6db=0x0;_0x302e52['coins'][_0x5a962f(0x13d)](_0x5c8f02=>{const _0x5425ef=_0x5a962f;_0xc0e6db+=_0x5c8f02[_0x5425ef(0x17b)]*_0x5c8f02[_0x5425ef(0x224)];}),_0x3000a7[_0x42e12b[_0x5a962f(0x236)]-_0x104edb-0x1]=_0xc0e6db*(_0x74107d-0x1);});let _0x9c9554=[];_0x6ea81c=[...config[_0x17bf6b(0x239)]]||[];let _0x4bb8fd=0x0;_0x511ebb=0x0,_0x42e12b[_0x17bf6b(0x13d)]((_0x391b34,_0x5c3ec4)=>{const _0x26fd2b=_0x17bf6b;if(_0x6ea81c[_0x511ebb]){const _0x36f6ef=fns[_0x26fd2b(0x1f4)](_0x6ea81c[_0x511ebb][_0x26fd2b(0x1ed)],_0x26fd2b(0x243),new Date()),_0x19b5b1=fns['parse'](_0x391b34['date'],_0x26fd2b(0x243),new Date());if(fns[_0x26fd2b(0x255)](_0x36f6ef,_0x19b5b1)){let _0xe4937b=0x0;_0x6ea81c[_0x511ebb][_0x26fd2b(0x1d0)][_0x26fd2b(0x13d)](_0x5badd1=>{const _0x3fa7b8=_0x26fd2b;!_0x9c9554[_0x5badd1[_0x3fa7b8(0x16a)]]?_0x9c9554[_0x5badd1['coin']]=_0x5badd1[_0x3fa7b8(0x17b)]:(_0xe4937b=_0x9c9554[_0x5badd1['coin']],_0x9c9554[_0x5badd1[_0x3fa7b8(0x16a)]]+=_0x5badd1['number']);const _0x261569=_0x391b34['coins'][_0x3fa7b8(0x265)](_0xf60719=>_0xf60719[_0x3fa7b8(0x16a)]==_0x5badd1[_0x3fa7b8(0x16a)]);(!_0x261569||_0x261569[_0x3fa7b8(0x17b)]==0x0)&&(_0x4bb8fd+=(-_0x5badd1[_0x3fa7b8(0x17b)]-_0xe4937b)*_0x5badd1['price']);}),_0x511ebb++;}}_0x391b34[_0x26fd2b(0x16f)][_0x26fd2b(0x13d)]((_0x480159,_0x1f6ec3)=>{const _0x3e84f6=_0x26fd2b;_0x9c9554[_0x480159[_0x3e84f6(0x16a)]]&&(_0x480159={..._0x480159,'initial':_0x9c9554[_0x480159['coin']]}),_0x391b34[_0x3e84f6(0x16f)][_0x1f6ec3]=_0x480159;}),_0x43faa2['push']({'date':_0x391b34['date'],'eur':_0x391b34[_0x26fd2b(0x211)],'usd':_0x391b34[_0x26fd2b(0x206)],'offset':_0x3000a7[_0x5c3ec4],'netoffset':_0x4bb8fd,'coins':_0x391b34[_0x26fd2b(0x16f)]});});}return _0x43faa2;}function emitPerformance(_0x3b58a1){const _0x1b4c5d=_0x2a5e1f;_0x3b58a1[_0x1b4c5d(0x236)]!==0x0?(proxyEmit(_0x1b4c5d(0x208),_0x3b58a1),lastPerformanceEmitted=getDate()):proxyEmit(_0x1b4c5d(0x208),[]);}function getPerf(_0x106a73,_0x34c7b2){const _0x14bbd6=_0x2a5e1f;let _0x1b754e=0x0,_0x214cab=0x0,_0x58b69d=0x0;_0x106a73[_0x14bbd6(0x16f)][_0x14bbd6(0x13d)](_0x1fc343=>{_0x1b754e+=_0x1fc343['number']*_0x1fc343['price'];});_0x34c7b2&&(_0x1b754e+=_0x106a73[_0x14bbd6(0x1ad)]);if(config['basecoin']===_0x14bbd6(0x155))_0x214cab=_0x1b754e*_0x106a73[_0x14bbd6(0x211)],_0x58b69d=_0x1b754e*_0x106a73['usd'];else{if(config[_0x14bbd6(0x1c7)]===_0x14bbd6(0x1ae)||config[_0x14bbd6(0x1c7)]===_0x14bbd6(0x157)||config[_0x14bbd6(0x1c7)]===_0x14bbd6(0x1b9))_0x214cab=_0x1b754e*_0x106a73[_0x14bbd6(0x211)]/_0x106a73[_0x14bbd6(0x206)],_0x58b69d=_0x1b754e;else config[_0x14bbd6(0x1c7)]===_0x14bbd6(0x16b)&&(_0x214cab=_0x1b754e,_0x58b69d=_0x1b754e*_0x106a73['usd']/_0x106a73[_0x14bbd6(0x211)]);}return[_0x1b754e,_0x214cab,_0x58b69d];}async function getStartingBalances(_0xe3c470,_0x22ead7=!![]){const _0x572755=_0x2a5e1f;if(_0xe3c470['length']!==0x0){const [_0x10ec3d,_0x44b0bb,_0x321be2]=getPerf(_0xe3c470[0x0],!![]);let _0x5be5df=[];config['portfolio']['forEach'](_0x2e8df7=>{const _0x146d86=_0x43d4;let _0x4a3d9e=0x0;config[_0x146d86(0x239)]['forEach'](_0x22f3c4=>{const _0x39c855=_0x146d86;let _0x4690e9=_0x22f3c4[_0x39c855(0x1d0)]['find'](_0x545850=>_0x545850[_0x39c855(0x16a)]==_0x2e8df7['coin']);if(_0x4690e9)_0x4a3d9e+=_0x4690e9[_0x39c855(0x17b)];}),_0x5be5df['push']({'coin':_0x2e8df7[_0x146d86(0x16a)],'number':_0x4a3d9e,'price':_0x2e8df7['price']});});const _0x156568={'basecoin':_0x10ec3d,'eur':_0x44b0bb,'usd':_0x321be2,'coins':_0x5be5df};if(_0x22ead7)proxyEmit(_0x572755(0x141),_0x156568);return _0x156568;}}function headlessMode(_0x42bd17){const _0x1c60a9=_0x2a5e1f;let _0x43cfb5=_0x42bd17[_0x1c60a9(0x1e6)],_0xf9a5b0=_0x42bd17['threshold'],_0x3c984b=[];for(let _0x5e6a63 of _0x43cfb5){if(_0x5e6a63[_0x1c60a9(0x16a)]!=config[_0x1c60a9(0x1c7)]){if(_0x5e6a63[_0x1c60a9(0x237)]/_0x5e6a63['target']-0x1>=_0xf9a5b0/0x64){if(_0x5e6a63[_0x1c60a9(0x19d)])_0x3c984b[_0x1c60a9(0x1dc)](_0x5e6a63);}else{if(_0x5e6a63[_0x1c60a9(0x237)]/_0x5e6a63[_0x1c60a9(0x205)]-0x1<=-_0xf9a5b0/0x64){if(_0x5e6a63[_0x1c60a9(0x19d)])_0x3c984b[_0x1c60a9(0x1dc)](_0x5e6a63);}}}}_0x3c984b[_0x1c60a9(0x236)]>0x0&&placeOrder(_0x3c984b);}function notifyBalance(_0x18f129){const _0x37c872=_0x2a5e1f;let _0x32b819=_0x18f129[_0x37c872(0x1e6)],_0x3cf9e4=_0x18f129[_0x37c872(0x1fa)],_0x32c6b6=[];for(let _0x131236 of _0x32b819){if(_0x131236['coin']!=config[_0x37c872(0x1c7)]){if(_0x131236[_0x37c872(0x237)]/_0x131236[_0x37c872(0x205)]-0x1>=_0x3cf9e4/0x64){if(_0x131236[_0x37c872(0x19d)])_0x32c6b6[_0x37c872(0x1dc)](_0x131236);}else{if(_0x131236[_0x37c872(0x237)]/_0x131236[_0x37c872(0x205)]-0x1<=-_0x3cf9e4/0x64){if(_0x131236[_0x37c872(0x19d)])_0x32c6b6['push'](_0x131236);}}}}if(_0x32c6b6[_0x37c872(0x236)]>0x0){let _0x3e3bfb=_0x32c6b6[_0x37c872(0x1df)](_0x4115cd=>_0x4115cd['coin']);_0x3e3bfb[_0x37c872(0x22f)]();let _0x3d6fd3=_0x3e3bfb[_0x37c872(0x232)](',\x20');if(lastCoinsToBalance!==_0x3d6fd3)logHistory('success','Manual\x20balancing\x20required:\x20'+_0x3d6fd3);lastCoinsToBalance=_0x3d6fd3;}}function symbolToCoin(_0x4e9ffa){const _0xd0a369=_0x2a5e1f;let _0x554acd;if(_0x4e9ffa[_0xd0a369(0x21f)]('/'+config[_0xd0a369(0x1c7)]))_0x554acd=_0x4e9ffa[_0xd0a369(0x1e9)]('/'+config['basecoin'],'');if(_0x4e9ffa[_0xd0a369(0x21f)](config[_0xd0a369(0x1c7)]+'/'))_0x554acd=_0x4e9ffa[_0xd0a369(0x1e9)](config['basecoin']+'/','');return _0x554acd;}async function validateOrders(_0x1e21a1=0x0){const _0xbb43a4=_0x2a5e1f;let _0x55840e=[],_0x43e597=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0xbb43a4(0x1eb)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0xbb43a4(0x13d)](_0x80afa=>{const _0x3be5ed=_0xbb43a4;let _0x3a0947=previousCoins[_0x3be5ed(0x265)](_0x3dc4a8=>_0x3dc4a8[_0x3be5ed(0x16a)]==symbolToCoin(_0x80afa[_0x3be5ed(0x1ab)])),_0xf621a8=currentCoins[_0x3be5ed(0x265)](_0x4d8871=>_0x4d8871[_0x3be5ed(0x16a)]==symbolToCoin(_0x80afa[_0x3be5ed(0x1ab)])),_0x3a4a9a,_0x3b7dc9;_0x80afa[_0x3be5ed(0x219)]=='buy'&&!_0x80afa[_0x3be5ed(0x14b)]||_0x80afa['side']=='sell'&&_0x80afa['reverse']?(_0x3a4a9a=_0x3a0947['number']+0.9*_0x80afa['filled'],_0x3b7dc9=_0x3a0947[_0x3be5ed(0x17b)]+1.1*_0x80afa[_0x3be5ed(0x20d)]):(_0x3a4a9a=_0x3a0947[_0x3be5ed(0x17b)]-1.1*_0x80afa['filled'],_0x3b7dc9=_0x3a0947[_0x3be5ed(0x17b)]-0.9*_0x80afa[_0x3be5ed(0x20d)]);const _0x2b510e=_0x80afa[_0x3be5ed(0x20d)]!=0x0&&_0xf621a8[_0x3be5ed(0x17b)]>=_0x3a4a9a&&_0xf621a8[_0x3be5ed(0x17b)]<=_0x3b7dc9;_0x55840e['push'](_0x2b510e);if(_0x2b510e&&config[_0x3be5ed(0x1ef)]!=_0x3be5ed(0x1d6)){if(_0x80afa[_0x3be5ed(0x14b)])logHistory(_0x3be5ed(0x1bf),_0x3be5ed(0x1bd)+_0x80afa[_0x3be5ed(0x1ab)]+'\x20'+_0x80afa[_0x3be5ed(0x219)]+'\x20#'+formatResult(_0x80afa[_0x3be5ed(0x20d)]/_0x80afa[_0x3be5ed(0x224)],0x8)+'\x20@'+formatResult(_0x80afa[_0x3be5ed(0x224)],0x8));else logHistory('order',_0x3be5ed(0x1bd)+_0x80afa[_0x3be5ed(0x1ab)]+'\x20'+_0x80afa['side']+'\x20#'+formatResult(_0x80afa['filled'],0x8)+'\x20@'+formatResult(_0x80afa[_0x3be5ed(0x224)],0x8));}}),_0x55840e[_0xbb43a4(0x13d)]((_0x21082a,_0x596922)=>{const _0x597f21=_0xbb43a4;if(_0x21082a)lastOrders[_0x597f21(0x158)](_0x596922,0x1);});if(_0x1e21a1<_0x43e597&&_0x55840e[_0xbb43a4(0x21f)](![])){if(_0x1e21a1==0x0){config[_0xbb43a4(0x1ef)]=='market'?logHistory(_0xbb43a4(0x140),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0xbb43a4(0x140),_0xbb43a4(0x25f));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x1e21a1);},0xa*0x3e8);}else{(_0x1e21a1==0x1||_0x1e21a1==Math[_0xbb43a4(0x240)](_0x43e597/0x2)||_0x1e21a1==_0x43e597-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x1e21a1);},validateOrderInterval);}}else{lockOrders=![];if(_0x1e21a1>0x0&&!_0x55840e['includes'](![]))config[_0xbb43a4(0x1ef)]==_0xbb43a4(0x1d6)?logHistory(_0xbb43a4(0x238),_0xbb43a4(0x22a)):logHistory('success',_0xbb43a4(0x24b));else _0x1e21a1>0x0&&_0x55840e[_0xbb43a4(0x21f)](![])&&(config[_0xbb43a4(0x1ef)]==_0xbb43a4(0x1d6)?logHistory('success',_0xbb43a4(0x213)+Math['round'](_0x43e597*validateOrderInterval/0xea60)+_0xbb43a4(0x203)):(lastOrders['forEach'](async _0x233b04=>{const _0x6b2f8d=_0xbb43a4;try{const _0x88ea9b=await exchange[_0x6b2f8d(0x14f)](_0x233b04[_0x6b2f8d(0x258)],_0x233b04[_0x6b2f8d(0x1ab)]);}catch(_0x352368){if(_0x352368['toString']()['includes'](_0x6b2f8d(0x1a6))){}else await handleError(_0x352368,_0x6b2f8d(0x1fb));}}),logHistory(_0xbb43a4(0x238),_0xbb43a4(0x152)+Math[_0xbb43a4(0x240)](_0x43e597*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed')));}}async function resetCoinResults(){const _0x3f3e38=_0x2a5e1f;dbCoinResults[_0x3f3e38(0x182)]('coins')[_0x3f3e38(0x24d)]()[_0x3f3e38(0x179)]();let _0x2821b3=await getStartingBalances(getNormalizedPerformance(),![]);_0x2821b3[_0x3f3e38(0x16f)][_0x3f3e38(0x13d)](_0x309a42=>{const _0x327ee9=_0x3f3e38;if(_0x309a42['coin']!=config[_0x327ee9(0x1c7)]){let _0x109575={'coin':_0x309a42['coin'],'number':_0x309a42[_0x327ee9(0x17b)],'breakeven':_0x309a42[_0x327ee9(0x224)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x327ee9(0x16f))['push'](_0x109575)[_0x327ee9(0x179)]();}});}async function updateCoinResults(_0x4dff9f){const _0x592e86=_0x2a5e1f;let _0x43d5f1,_0x5247c1,_0x2598ee,_0x22bbab,_0x4c2cec,_0x2a58cd,_0x105dcf=dbCoinResults[_0x592e86(0x182)]('coins')[_0x592e86(0x265)]({'coin':_0x4dff9f['coin']})[_0x592e86(0x1b4)]();if(!_0x105dcf)return;if(_0x4dff9f['fee']&&_0x4dff9f[_0x592e86(0x209)][_0x592e86(0x161)]==config[_0x592e86(0x1c7)])_0x43d5f1=_0x4dff9f['fee'][_0x592e86(0x226)];else{if(_0x4dff9f['fee']&&_0x4dff9f[_0x592e86(0x209)][_0x592e86(0x161)]==_0x592e86(0x1a8))_0x43d5f1=_0x4dff9f['fee'][_0x592e86(0x226)]*global['ticker'][_0x592e86(0x1a8)+config[_0x592e86(0x1c7)]];else _0x43d5f1=0.001*_0x4dff9f[_0x592e86(0x20d)];}const _0x2c514f=_0x4dff9f[_0x592e86(0x1ab)][_0x592e86(0x21f)](config['basecoin']+'/');_0x2c514f&&(_0x2a58cd={'coin':_0x4dff9f['coin'],'symbol':_0x4dff9f[_0x592e86(0x1ab)],'filled':_0x4dff9f['filled']*_0x4dff9f[_0x592e86(0x224)],'side':_0x4dff9f[_0x592e86(0x219)]=='sell'?_0x592e86(0x1b7):_0x592e86(0x22c),'price':0x1/_0x4dff9f[_0x592e86(0x224)]},_0x4dff9f={..._0x2a58cd});_0x4dff9f[_0x592e86(0x219)]==_0x592e86(0x1b7)?_0x2598ee=(_0x105dcf[_0x592e86(0x187)]*_0x105dcf[_0x592e86(0x17b)]+_0x4dff9f[_0x592e86(0x224)]*_0x4dff9f[_0x592e86(0x20d)])/(_0x105dcf[_0x592e86(0x17b)]+_0x4dff9f[_0x592e86(0x20d)]):_0x2598ee=(_0x105dcf[_0x592e86(0x187)]*_0x105dcf[_0x592e86(0x17b)]-_0x4dff9f['price']*_0x4dff9f[_0x592e86(0x20d)])/(_0x105dcf[_0x592e86(0x17b)]-_0x4dff9f[_0x592e86(0x20d)]);_0x4dff9f[_0x592e86(0x219)]==_0x592e86(0x1b7)?_0x22bbab=_0x105dcf[_0x592e86(0x171)]:_0x22bbab=_0x105dcf[_0x592e86(0x171)]+(_0x4dff9f[_0x592e86(0x224)]-_0x105dcf[_0x592e86(0x187)])*_0x4dff9f[_0x592e86(0x20d)];_0x5247c1=_0x4dff9f[_0x592e86(0x219)]==_0x592e86(0x22c)?_0x105dcf[_0x592e86(0x17b)]-_0x4dff9f[_0x592e86(0x20d)]:_0x105dcf[_0x592e86(0x17b)]+_0x4dff9f[_0x592e86(0x20d)],_0x4c2cec=(_0x4dff9f[_0x592e86(0x224)]-_0x2598ee)*_0x5247c1;let _0x2bd817={'coin':_0x4dff9f['coin'],'number':_0x5247c1,'breakeven':formatResult(_0x2598ee,0x8),'realized':formatResult(_0x22bbab,0x8),'unrealized':formatResult(_0x4c2cec,0x8),'fees':formatResult(_0x105dcf['fees']+_0x43d5f1,0x8),'sells':_0x4dff9f[_0x592e86(0x219)]=='sell'?_0x105dcf[_0x592e86(0x14e)]+0x1:_0x105dcf[_0x592e86(0x14e)],'buys':_0x4dff9f[_0x592e86(0x219)]=='buy'?_0x105dcf['buys']+0x1:_0x105dcf[_0x592e86(0x16e)]};dbCoinResults[_0x592e86(0x182)]('coins')[_0x592e86(0x265)]({'coin':_0x4dff9f[_0x592e86(0x16a)]})[_0x592e86(0x217)](_0x2bd817)[_0x592e86(0x179)]();}async function placeOrder(_0xeb7761){const _0x51b484=_0x2a5e1f,_0x176488=config[_0x51b484(0x1ef)]==_0x51b484(0x1d6)?_0x51b484(0x1d6):_0x51b484(0x174);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x51b484(0x1f4)](JSON[_0x51b484(0x253)](currentCoins));for(const _0x4a7324 of _0xeb7761){let _0x1939ff,_0x13d5af,_0x22ef3a,_0x28b636,_0xf97dbd,_0x1ed6ce=_0x4a7324[_0x51b484(0x1ab)];try{const _0x4100df=await exchange[_0x51b484(0x20a)](_0x1ed6ce),_0x1ee48e=_0x4100df[_0x1ed6ce];_0x1939ff=_0x4a7324[_0x51b484(0x14b)]?0x1/_0x4a7324['last']:_0x4a7324[_0x51b484(0x234)],_0x13d5af=_0x1ee48e[_0x51b484(0x1db)],_0x22ef3a=_0x1ee48e[_0x51b484(0x1a5)];_0x4a7324['reverse']?(_0x28b636=_0x4a7324[_0x51b484(0x219)]==_0x51b484(0x1b7)?_0x51b484(0x22c):_0x51b484(0x1b7),_0xf97dbd=Math[_0x51b484(0x17e)](_0x4a7324[_0x51b484(0x186)])/_0x1939ff):(_0x28b636=_0x4a7324[_0x51b484(0x219)],_0xf97dbd=Math[_0x51b484(0x17e)](_0x4a7324[_0x51b484(0x186)]));_0x176488==_0x51b484(0x174)&&(config[_0x51b484(0x1ef)]==_0x51b484(0x201)&&(_0x1939ff=_0x28b636==_0x51b484(0x1b7)?_0x13d5af:_0x22ef3a),config[_0x51b484(0x1ef)]=='limit-low'&&(_0x1939ff=_0x28b636=='buy'?_0x22ef3a:_0x13d5af));_0xf97dbd=formatResult(_0xf97dbd,0x8),_0x1939ff=formatResult(_0x1939ff,0x8);const _0x23f962=await exchange['createOrder'](_0x1ed6ce,_0x176488,_0x28b636,_0xf97dbd,_0x1939ff);lastOrders[_0x51b484(0x1dc)]({'orderId':_0x23f962['id'],'symbol':_0x1ed6ce,'side':_0x28b636,'reverse':_0x4a7324['reverse'],'amount':_0x4a7324[_0x51b484(0x14b)]?_0x23f962[_0x51b484(0x153)]*_0x23f962[_0x51b484(0x224)]:_0x23f962['amount'],'filled':_0x4a7324[_0x51b484(0x14b)]?_0x23f962[_0x51b484(0x20d)]*_0x23f962[_0x51b484(0x224)]:_0x23f962['filled'],'price':_0x23f962['price']});const _0x4b5e0f=_0x28b636==_0x51b484(0x22c)?config[_0x51b484(0x1b2)]?String[_0x51b484(0x192)]('0x'+config[_0x51b484(0x1b2)])+'\x20':'':config['emojibuy']?String[_0x51b484(0x192)]('0x'+config[_0x51b484(0x1e0)])+'\x20':'',_0x50a48b=_0x176488==_0x51b484(0x1d6)?_0x51b484(0x231):config[_0x51b484(0x1ef)]=='limit-high'?_0x51b484(0x19e):_0x51b484(0x1e4);if(_0x176488==_0x51b484(0x1d6))logHistory(_0x51b484(0x1bf),''+_0x4b5e0f+_0x50a48b+_0x51b484(0x14d)+_0x1ed6ce+'\x20'+_0x28b636+'\x20#'+formatResult(_0x23f962[_0x51b484(0x20d)],0x8)+'\x20@'+formatResult(_0x23f962[_0x51b484(0x224)],0x8));else logHistory(_0x51b484(0x1bf),''+_0x4b5e0f+_0x50a48b+_0x51b484(0x14d)+_0x1ed6ce+'\x20'+_0x28b636+'\x20#'+formatResult(_0x23f962['amount'],0x8)+'\x20@'+formatResult(_0x23f962[_0x51b484(0x224)],0x8));_0x23f962[_0x51b484(0x16a)]=_0x4a7324[_0x51b484(0x16a)],await updateCoinResults(_0x23f962);if(config[_0x51b484(0x1b6)]!=0x0){let _0x4ea9d8=null;if(cooldownTracker[_0x51b484(0x236)]==config[_0x51b484(0x1b6)]-0x1)_0x4ea9d8=cooldownTracker[_0x51b484(0x16d)]();const _0x22d5e7=getTimeStamp();cooldownTracker[_0x51b484(0x1dc)](_0x22d5e7);if(_0x4ea9d8){const _0x364b8a=fns[_0x51b484(0x1ea)](new Date(_0x22d5e7),new Date(_0x4ea9d8));_0x364b8a<cooldownInterval&&(logHistory(_0x51b484(0x140),_0x51b484(0x1a3)+config[_0x51b484(0x1b6)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x51b484(0x1dd)+cooldownPeriod/(0xe10*0x3e8)+_0x51b484(0x163)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x33cb65){if(_0x33cb65[_0x51b484(0x199)]()['includes']('MIN_NOTIONAL'))logHistory(_0x51b484(0x140),_0x51b484(0x1c5)+_0x1ed6ce);else{if(_0x33cb65[_0x51b484(0x199)]()[_0x51b484(0x21f)](_0x51b484(0x261)))logHistory(_0x51b484(0x140),_0x51b484(0x25c)+_0x1ed6ce);else await handleError(_0x33cb65,_0x51b484(0x177));}}}if(lastOrders[_0x51b484(0x236)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config['ordertype']==_0x51b484(0x1d6)?logHistory(_0x51b484(0x140),_0x51b484(0x13f)):logHistory('error',_0x51b484(0x18b)));else coolingDown&&(!config[_0x51b484(0x251)]&&logHistory(_0x51b484(0x140),_0x51b484(0x267)));}}function logHistory(_0x2c3a5e,_0x4ee010,_0x3aa446=''){const _0x4e6601=_0x2a5e1f;let _0x5ee11e={'time':getTimeStamp(),'type':_0x2c3a5e,'event':_0x4ee010};dbLogs[_0x4e6601(0x182)](_0x4e6601(0x263))[_0x4e6601(0x1dc)](_0x5ee11e)[_0x4e6601(0x179)]();if(_0x3aa446=='')_0x3aa446=_0x4ee010;proxyEmit(_0x4e6601(0x1f1),{'log':_0x5ee11e,'summary':_0x3aa446}),process[_0x4e6601(0x260)]({'telegram':{..._0x5ee11e,'botname':config[_0x4e6601(0x1b0)],'showname':config[_0x4e6601(0x148)]}},_0x3ae9ee=>{}),logging(''+_0x5ee11e[_0x4e6601(0x1f1)]);}function _0x3f04(){const _0x3f0bb4=['eur','spot','Order(s)\x20not\x20validated\x20after\x20','coin-loading-progress','./config/','configuration-stored','assign','(((.+)+)+)+$','side','initclient','function','message','defaults','2.3.5','includes','kline','coinamount','slice','LIMIT','price','InvalidNonce','cost','subscribeSpotUserDataStream','datetime','toFixed','Order(s)\x20validated\x20-\x20balancing\x20resumed','BTC/BUSD','sell','test','kill','sort','exchange','Market','join','settings','last','getCloses()','length','distribution','success','liquidity','bb-secure.json','excluded','001','timeshift','Performance\x20recreation\x20completed\x20successfully','-performance.json','round','apiSecret','differenceInCalendarDays','yyyy/MM/dd','data','\x20|\x20','max','emitHistory','************','page','min','Order(s)\x20filled\x20-\x20balancing\x20resumed','asset','remove','getFiat()','getDate','DDoSProtection','headless','hybrid-crypto-js','stringify','availableBalance','isEqual','configuration','Binance\x20not\x20available\x20(2)','orderId','log','version','getFullYear','Order\x20amount\x20is\x20invalid:\x20','enabled','has','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','send','Invalid\x20quantity','5kYSzmH','logs','subscribeSpotKline','find','/backup/','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','BTC/USDT','recreateHistory()','.json','apiKey',':\x20Bot\x20','restart','startnumber','close','getSeconds','startdate','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','forEach','NANO/','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','error','starting-balances','deleteHistoryAlerts','Pausing\x20for\x20','date-fns','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','keys','sha256','showname','AuthenticationError','Crypt','reverse','progress','\x20order:\x20','sells','cancelOrder','BTCUSDT','getMonth','Unfilled\x20order(s)\x20canceled\x20after\x20','amount','executionReport','BTC','exit','USDT','splice','starting-balance-','Error:\x20Invalid\x20argument\x20','getTime','lowdb/adapters/FileSync',')\x20|\x20Error\x20details:\x20','Binance\x20not\x20available\x20(1)','orderStatus','getStartingBalances','currency','botID','\x20hour','constructor','padStart','Bot\x20','event-history','cancelLoading','parseISO','coin','EUR','time','shift','buys','coins','subscribeSymbol24hrTicker','realized','Binance\x20not\x20responding','4114431EushmH','limit','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','format','placeOrder()','type','write','29439eNGTDh','number','split','string','abs','running','BTCEUR','reconnected','get','change24h','bb-settings.json','apply','trade','breakeven','storeHeadless','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','wsMarket','Binance\x20API\x20secret\x20is\x20invalid','closeWs','bot','\x20>\x20','./version.json','fromCodePoint','RequestTimeout','BTCBUSD','fetchOHLCV','HOT/BTC','7006TygzpJ','cloneDeep','toString','initws()','set','getHours','valid','Limit\x20(high-margin)','\x20has\x20a\x2024h\x20drop\x20of\x20','getCoins()','remainingSymbols','\x20|\x20Binance\x20API\x20key\x20invalid','Executed\x20','sortBy','ask','OrderNotFound','startprice','BNB','eachDayOfInterval','216rFzqYx','symbol','1690STRrHN','offset','BUSD','Order:\x20','botname','limits','emojisell','yyyy/MM/dd\x20HH:mm:ss','value','argv','cooldown','buy','API-key\x20format\x20invalid','USDC','6520266Trsaly','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','writeFile','Order\x20filled:\x20','getMinutes','order','BNB/','milliseconds','735969PyYsqH','fetchOrders','mkdirSync','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','search','basecoin','-results.json','delta','fetchBalance','DAI/','secure','ccxt','filter','BTC/EUR','changes','wss://stream.binance.com:9443','yyyy-MM-dd\x27T\x27HH:mm:ss','427QuvukN','recreate','8FdTSVq','market','loadSymbols()','change','args','HOT/EUR','bid','push','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','toggleBotMode','map','emojibuy','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','ticker','7105301neDCfN','Limit\x20(low-margin)','Binance\x20API\x20blocked','portfolio','toLowerCase','orderType','replace','differenceInSeconds','timeout','entries','date','isArray','ordertype','binance','event','getPortfolio()','timestamp','parse','binanceus','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','add','76934cdmxmQ','72UOzdoQ','threshold','cancelOrder()','bot-','Unknown\x20error\x20occured','balances','privateKey','eventType','limit-high','total','\x20minutes\x20-\x20balancing\x20resumed','decrypt','target','usd','existsSync','performance','fee','fetchTickers','lowdb','wss://stream.binance.us:9443','filled','getPortfolio','outboundAccountPosition','accumulatedQuantity'];_0x3f04=function(){return _0x3f0bb4;};return _0x3f04();}function emitHistory(_0x405347={}){const _0x4a959c=_0x2a5e1f;Object['keys'](_0x405347)[_0x4a959c(0x236)]==0x0&&(_0x405347={'type':['order',_0x4a959c(0x1f1)],'event':'','page':0x1});if(_0x405347['type'][_0x4a959c(0x21f)](_0x4a959c(0x1f1)))_0x405347[_0x4a959c(0x178)][_0x4a959c(0x158)](_0x405347[_0x4a959c(0x178)]['indexOf']('event'),0x1,_0x4a959c(0x140),_0x4a959c(0x238));if(dbLogs['has'](_0x4a959c(0x263))[_0x4a959c(0x1b4)]()){let _0x20c94a=dbLogs['get']('logs')[_0x4a959c(0x1ce)](_0x4ab0b3=>{const _0x26e618=_0x4a959c;if(_0x405347[_0x26e618(0x178)]['length']==0x0)return![];else return _0x405347[_0x26e618(0x178)][_0x26e618(0x21f)](_0x4ab0b3[_0x26e618(0x178)]);})['filter'](_0x383ba3=>{const _0x188861=_0x4a959c;if(_0x405347[_0x188861(0x1f1)]=='')return!![];else return _0x383ba3[_0x188861(0x1f1)][_0x188861(0x1e7)]()[_0x188861(0x21f)](_0x405347['event'][_0x188861(0x1e7)]());})[_0x4a959c(0x1a4)](_0x4a959c(0x16c)),_0x1100d4=_0x20c94a[_0x4a959c(0x1b4)]()[_0x4a959c(0x236)];_0x20c94a=_0x20c94a[_0x4a959c(0x14b)]()[_0x4a959c(0x222)]((_0x405347[_0x4a959c(0x249)]-0x1)*logPageSize,_0x405347[_0x4a959c(0x249)]*logPageSize-0x1)[_0x4a959c(0x14b)]()['value'](),proxyEmit(_0x4a959c(0x167),{'logs':_0x20c94a,'total':_0x1100d4});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x57d237){const _0x1e7ad0=_0x2a5e1f;if(dbLogs[_0x1e7ad0(0x25e)](_0x1e7ad0(0x263))[_0x1e7ad0(0x1b4)]()){const _0x55d593=dbLogs[_0x1e7ad0(0x182)](_0x1e7ad0(0x263))['sortBy'](_0x1e7ad0(0x16c))[_0x1e7ad0(0x1ce)](_0x378883=>{const _0x26b075=_0x1e7ad0;return _0x378883[_0x26b075(0x178)]==_0x26b075(0x1bf);})['value']();dbLogs[_0x1e7ad0(0x182)](_0x1e7ad0(0x263))['remove']()[_0x1e7ad0(0x179)](),dbLogs[_0x1e7ad0(0x182)](_0x1e7ad0(0x263))['assign'](_0x55d593)['write'](),emitHistory(_0x57d237);}}async function pauseBot(_0x3838b4=''){const _0x59d1b1=_0x2a5e1f,_0x35add8=new Date()[_0x59d1b1(0x15b)]();if(!lastBotPause)lastBotPause=new Date()[_0x59d1b1(0x15b)](),consecutivePauses=0x1;else{if(_0x35add8-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x59d1b1(0x137)},_0x4b12f7=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x59d1b1(0x15b)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x3838b4)_0x3838b4+=_0x59d1b1(0x245);logHistory(_0x59d1b1(0x140),_0x3838b4+_0x59d1b1(0x143)+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x1cb209=_0x2a5e1f;process['send']({'stop':_0x1cb209(0x22e)},_0x3270bd=>{}),await sleep(0x7d0);}async function handleError(_0x2182f8,_0x548303,_0x2a37d0=''){const _0x383f0e=_0x2a5e1f;if(_0x2182f8['toString']()[_0x383f0e(0x21f)](_0x383f0e(0x250)))await pauseBot(_0x383f0e(0x1e5));else{if(_0x2182f8[_0x383f0e(0x199)]()['includes']('ExchangeNotAvailable'))await pauseBot(_0x383f0e(0x257));else{if(_0x2182f8[_0x383f0e(0x199)]()[_0x383f0e(0x21f)](_0x383f0e(0x193)))await pauseBot(_0x383f0e(0x172));else{if(_0x2182f8[_0x383f0e(0x199)]()['includes']('API-key\x20format\x20invalid'))logHistory('error',_0x548303+_0x383f0e(0x1a2)),logHistory(_0x383f0e(0x140),_0x383f0e(0x145)),await killBot();else{if(_0x2182f8['toString']()[_0x383f0e(0x21f)](_0x383f0e(0x149)))logHistory('error',_0x548303+_0x383f0e(0x18a)),logHistory('error',_0x383f0e(0x145)),await killBot();else{if(_0x2182f8['toString']()[_0x383f0e(0x21f)](_0x383f0e(0x189)))logHistory(_0x383f0e(0x140),_0x548303+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory(_0x383f0e(0x140),_0x383f0e(0x145)),await killBot();else{if(_0x2182f8['toString']()[_0x383f0e(0x21f)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x383f0e(0x140),_0x548303+_0x383f0e(0x13c)),logHistory(_0x383f0e(0x140),_0x383f0e(0x145)),await killBot();else{if(_0x2182f8[_0x383f0e(0x199)]()[_0x383f0e(0x21f)](_0x383f0e(0x225)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x383f0e(0x260)]({'stop':'restart'},_0xe47d52=>{});else _0x2182f8[_0x383f0e(0x199)]()[_0x383f0e(0x21f)]('InsufficientFunds')?logHistory(_0x383f0e(0x140),_0x548303+_0x383f0e(0x175)):(logging(_0x548303+'\x20|\x20Error\x20details:\x20',_0x2182f8),await pauseBot(_0x383f0e(0x1fd)));}}}}}}}}function formatResult(_0x250504,_0x32ba20){const _0x205645=_0x2a5e1f;return parseFloat(_0x250504[_0x205645(0x229)](_0x32ba20));}function logging(_0x1fd36a,_0x1cc4ac=''){const _0x1b2ade=_0x2a5e1f;if(config[_0x1b2ade(0x148)])console[_0x1b2ade(0x259)](getTimeStamp()+':\x20'+config[_0x1b2ade(0x1b0)]+_0x1b2ade(0x190)+_0x1fd36a,_0x1cc4ac);else console['log'](getTimeStamp()+_0x1b2ade(0x136)+botID+'\x20>\x20'+_0x1fd36a,_0x1cc4ac);}function getServerTime(){const _0x5376ec=_0x2a5e1f,_0xbf1dbe=new Date();return _0xbf1dbe[_0x5376ec(0x25b)]()+'/'+(_0xbf1dbe['getMonth']()+0x1)[_0x5376ec(0x199)]()['padStart'](0x2,'0')+'/'+_0xbf1dbe[_0x5376ec(0x24f)]()['toString']()[_0x5376ec(0x165)](0x2,'0')+'\x20'+_0xbf1dbe[_0x5376ec(0x19c)]()[_0x5376ec(0x199)]()[_0x5376ec(0x165)](0x2,'0')+':'+_0xbf1dbe['getMinutes']()[_0x5376ec(0x199)]()[_0x5376ec(0x165)](0x2,'0')+':'+_0xbf1dbe[_0x5376ec(0x13a)]()[_0x5376ec(0x199)]()[_0x5376ec(0x165)](0x2,'0');}function getTimeStamp(){const _0x1450aa=_0x2a5e1f,_0x37321d=shiftedTime();return _0x37321d[_0x1450aa(0x25b)]()+'/'+(_0x37321d[_0x1450aa(0x151)]()+0x1)[_0x1450aa(0x199)]()[_0x1450aa(0x165)](0x2,'0')+'/'+_0x37321d[_0x1450aa(0x24f)]()[_0x1450aa(0x199)]()[_0x1450aa(0x165)](0x2,'0')+'\x20'+_0x37321d[_0x1450aa(0x19c)]()[_0x1450aa(0x199)]()[_0x1450aa(0x165)](0x2,'0')+':'+_0x37321d[_0x1450aa(0x1be)]()[_0x1450aa(0x199)]()[_0x1450aa(0x165)](0x2,'0')+':'+_0x37321d[_0x1450aa(0x13a)]()[_0x1450aa(0x199)]()[_0x1450aa(0x165)](0x2,'0');}function getDate(){const _0x31c1d7=_0x2a5e1f,_0xa36e5d=shiftedTime();return _0xa36e5d[_0x31c1d7(0x25b)]()+'/'+(_0xa36e5d[_0x31c1d7(0x151)]()+0x1)[_0x31c1d7(0x199)]()[_0x31c1d7(0x165)](0x2,'0')+'/'+_0xa36e5d[_0x31c1d7(0x24f)]()['toString']()[_0x31c1d7(0x165)](0x2,'0');}function getHour(){const _0x22bd1e=_0x2a5e1f,_0x3e0b19=shiftedTime();return _0x3e0b19['getHours']()[_0x22bd1e(0x199)]()[_0x22bd1e(0x165)](0x2,'0');}function sleep(_0x4a4334){return new Promise(_0x344bef=>setTimeout(_0x344bef,_0x4a4334));}function shiftedTime(){const _0x48fa8a=_0x2a5e1f,_0x5c3217=new Date();let _0x1688a5=_0x5c3217;if(config&&config['timeshift']!==0x0)_0x1688a5=fns[_0x48fa8a(0x1f7)](_0x5c3217,{'hours':config[_0x48fa8a(0x23d)]});return _0x1688a5;}