const _0x5cc98a=_0x3ebe;(function(_0x29b5c6,_0x913c97){const _0x30370b=_0x3ebe,_0x5afb78=_0x29b5c6();while(!![]){try{const _0x72fbd6=-parseInt(_0x30370b(0x2b4))/0x1+parseInt(_0x30370b(0x26a))/0x2+-parseInt(_0x30370b(0x305))/0x3*(-parseInt(_0x30370b(0x21e))/0x4)+-parseInt(_0x30370b(0x284))/0x5+-parseInt(_0x30370b(0x236))/0x6*(parseInt(_0x30370b(0x2d0))/0x7)+parseInt(_0x30370b(0x256))/0x8*(-parseInt(_0x30370b(0x2ff))/0x9)+parseInt(_0x30370b(0x252))/0xa;if(_0x72fbd6===_0x913c97)break;else _0x5afb78['push'](_0x5afb78['shift']());}catch(_0x56da79){_0x5afb78['push'](_0x5afb78['shift']());}}}(_0x8109,0x39d84));const _0x32be6f=function(){let _0x410bdb=!![];return function(_0x2b6f7b,_0x404f10){const _0x39704b=_0x410bdb?function(){const _0x4e74b7=_0x3ebe;if(_0x404f10){const _0x3fbb99=_0x404f10[_0x4e74b7(0x23d)](_0x2b6f7b,arguments);return _0x404f10=null,_0x3fbb99;}}:function(){};return _0x410bdb=![],_0x39704b;};}(),_0x365cff=_0x32be6f(this,function(){const _0x1cc80e=_0x3ebe;return _0x365cff[_0x1cc80e(0x1f5)]()['search'](_0x1cc80e(0x254))[_0x1cc80e(0x1f5)]()[_0x1cc80e(0x300)](_0x365cff)[_0x1cc80e(0x260)]('(((.+)+)+)+$');});_0x365cff();'use strict';const ccxt=require(_0x5cc98a(0x24c)),low=require('lowdb'),FileSync=require(_0x5cc98a(0x295)),fs=require('fs'),fns=require(_0x5cc98a(0x250)),{WebsocketClient,DefaultLogger}=require(_0x5cc98a(0x234)),Crypt=require(_0x5cc98a(0x2b0))['Crypt'];let exchange,wsClient;global[_0x5cc98a(0x1f6)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x5cc98a(0x27f))[_0x5cc98a(0x224)],botID=process[_0x5cc98a(0x26b)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x5cc98a(0x2b2)](botID))return console[_0x5cc98a(0x1f9)](_0x5cc98a(0x2b8)+botID+_0x5cc98a(0x2b7)),process[_0x5cc98a(0x258)](0x1);const userID=process[_0x5cc98a(0x26b)][0x3]||'',configpath=userID?_0x5cc98a(0x2f0)+userID+'/':_0x5cc98a(0x2f0);!fs[_0x5cc98a(0x2e4)](configpath)&&fs['mkdirSync'](configpath);const configfile=configpath+_0x5cc98a(0x21f)+botID+'-config.json',logfile=configpath+_0x5cc98a(0x21f)+botID+_0x5cc98a(0x285),performancefile=configpath+_0x5cc98a(0x21f)+botID+_0x5cc98a(0x2a2),coinresultsfile=configpath+_0x5cc98a(0x21f)+botID+_0x5cc98a(0x1ee),settingsfile=configpath+_0x5cc98a(0x273),securefile=configpath+_0x5cc98a(0x2e7),configbackuppath=configpath+_0x5cc98a(0x2ce),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5cc98a(0x226)]({'logs':[]})[_0x5cc98a(0x2d2)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5cc98a(0x226)]({'data':[]})[_0x5cc98a(0x2d2)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5cc98a(0x226)]({'bot':[]})['write']();function _0x8109(){const _0x136cc5=['kline','length','ordertype','getFullYear','eachDayOfInterval','configuration-stored','43893eaHDOL','constructor','padStart','symbols','WebSockets(','getMonth','90igreHW','yyyy/MM/dd','storeHeadless','format','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','function','\x20|\x20Unknown\x20error\x20occured','replace','-results.json','datetime','sha256','getMinutes','performance','getPortfolio','startprice','toString','ticker','outboundAccountPosition','type','log','symbol','coinamount','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','BTC/BUSD','startdate','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','MIN_NOTIONAL','sell','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','push','last','abs','starting-balances','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','writeFile','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','FILLED','\x20order:\x20','wss://stream.binance.com:9443','cloneDeep','sort','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','exchange','sells','entries','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','value','side','liquidity','orderId','currency','Invalid\x20quantity','decrypt','timestamp','HOT/BTC','8012tEXMpx','bot-','emojisell','assign','privateKey','date','version','get','defaults','EUR','basecoin','\x20-\x20','progress','milliseconds','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','BTC/EUR','trade','differenceInSeconds','remainingSymbols','.json','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','getTime','binance','timeout','18CKRkdy','Bot\x20','loadSymbols()','coin-loading-progress','fetchBalance','placeOrder','message','apply','filled','DAI/','breakeven','reverse','has','time','error',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','price','close','join','wsKey','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','target','ccxt','Manual\x20balancing\x20required:\x20','binanceus','eventType','date-fns','accumulatedQuantity','5110270qPiYKE','parseISO','(((.+)+)+)+$','send','488RaOhWG','loadMarkets','exit','Order\x20filled:\x20','event','\x20minutes\x20-\x20balancing\x20resumed','apiSecret','filter','isArray','max','search','includes','yyyy/MM/dd\x20HH:mm:ss','orderType','args','BTC','availableBalance','reduce','BTC/USDT','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','796512tUeNVY','argv','emojibuy','executionReport','timeshift','startnumber','Order\x20amount\x20is\x20invalid:\x20','offset','cost','bb-settings.json','kill','recreateHistory()','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Binance\x20API\x20secret\x20is\x20invalid','addDays','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','threshold','emitHistory','buy','configuration','Order(s)\x20validated\x20-\x20balancing\x20resumed','./version.json','fetchTickers','Executed\x20','Performance\x20recreation\x20completed\x20successfully','sortBy','1213405jvGHVu','-events.json','BUSD','balances','toLowerCase','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','limits','Limit\x20(high-margin)','\x20>\x20','BTCEUR','bot','excluded','wsMarket','cooldown','add','page','USDT','lowdb/adapters/FileSync','Limit\x20(low-margin)','\x20|\x20Error\x20details:\x20','API-key\x20format\x20invalid','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','remove','getDate','fee','reconnected','logs','buys','orderStatus','showname','-performance.json','BTCBUSD','secure','find','************','USDC','order','headless','coins','round','success',')\x20|\x20Error\x20details:\x20','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','settings','hybrid-crypto-js','Binance\x20API\x20key\x20is\x20invalid','test','Order:\x20','51365pAqxIA','market','fetchOrders',',\x20must\x20be\x20a\x203\x20digit\x20number','Error:\x20Invalid\x20argument\x20','AuthenticationError','getHours','BNB','limit','portfolio','map','min','getCoins()','limit-high','apiKey','coin','2.3.5','closeWs','forEach','cancelLoading','BTCUSDT','delta','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Order(s)\x20not\x20validated\x20after\x20','DDoSProtection','RequestTimeout','/backup/','stringify','328762eRigEF','initws()','write','subscribeSpotUserDataStream','total','Order(s)\x20filled\x20-\x20balancing\x20resumed','slice','deleteHistoryAlerts','botname','amount','distribution','usd','InsufficientFunds','starting-balance-','\x20hour','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','set','userData','number','getFiat()','existsSync','eur','HOT/EUR','bb-secure.json','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','data','parse','fees','cancelOrder','changes','getSeconds','keys','./config/','getPortfolio()','fetchOHLCV','splice','asset','cancelOrder()','restart','realized','valid'];_0x8109=function(){return _0x136cc5;};return _0x8109();}const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5cc98a(0x226)]({'coins':[]})[_0x5cc98a(0x2d2)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x5cc98a(0x28d),'symbol':_0x5cc98a(0x22d)},'usd':{'coin':_0x5cc98a(0x2c8),'symbol':_0x5cc98a(0x268)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x32c4ca)=>{},'debug':(..._0x27fa61)=>{},'notice':(..._0x301241)=>{},'info':(..._0x39f715)=>{},'warning':(..._0x2dc6e5)=>{},'error':async function(..._0xacf205){const _0x357b56=_0x5cc98a,_0x29cb9e=new Date()[_0x357b56(0x233)]();if(!lastErrorShown||_0x29cb9e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x357b56(0x233)](),logHistory(_0x357b56(0x244),_0x357b56(0x303)+consecutivePauses+_0x357b56(0x245));let _0x2245db='';if(_0xacf205[0x0])_0x2245db+=_0xacf205[0x0];if(_0xacf205[0x1]&&_0xacf205[0x1]['error']&&_0xacf205[0x1][_0x357b56(0x244)][_0x357b56(0x23c)])_0x2245db+=_0x357b56(0x229)+_0xacf205[0x1][_0x357b56(0x244)]['message'];logging(_0x357b56(0x303)+consecutivePauses+_0x357b56(0x2ad),''+_0x2245db),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x5cc98a(0x1f0),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config[_0x5cc98a(0x26e)]&&updateTimeshift(settings['timeshift']);process[_0x5cc98a(0x255)]({'started':'running'},_0x5c440a=>{}),initializeProcessListeners();function proxyEmit(_0x55fba0,_0x34c96e=null){process['send']({'function':_0x55fba0,'args':_0x34c96e},_0x2ec555=>{});}function initializeProcessListeners(){const _0xbe00b5=_0x5cc98a;process['on'](_0xbe00b5(0x23c),_0x47cb44=>{const _0x56e138=_0xbe00b5;switch(Object[_0x56e138(0x2ef)](_0x47cb44)[0x0]){case _0x56e138(0x26e):_0x47cb44[_0x56e138(0x26e)]!=undefined&&(settings[_0x56e138(0x26e)]=_0x47cb44['timeshift'],updateTimeshift(settings[_0x56e138(0x26e)]));break;case _0x56e138(0x1eb):switch(_0x47cb44[_0x56e138(0x1eb)]){case'initclient':initclient();break;case _0x56e138(0x27b):emitHistory(_0x47cb44[_0x56e138(0x264)]);break;case _0x56e138(0x2d7):deleteHistoryAlerts(_0x47cb44[_0x56e138(0x264)]);break;case _0x56e138(0x1f3):getPortfolio(_0x47cb44[_0x56e138(0x264)]);break;case'storeConfiguration':storeConfiguration(_0x47cb44[_0x56e138(0x264)]);break;case _0x56e138(0x307):storeHeadless(_0x47cb44[_0x56e138(0x264)]);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x56e138(0x23b):placeOrder(_0x47cb44[_0x56e138(0x264)]);break;case _0x56e138(0x2c7):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x5228af=_0x5cc98a;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x5228af(0x2c2)],config[_0x5228af(0x25c)]);let _0x246a37=await loadSymbols();_0x246a37&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x15f85f,_0x2974ad){const _0x2d27f5=_0x5cc98a,_0x2ca472=ccxt[config[_0x2d27f5(0x211)]];let _0x384d3f;switch(config['exchange']){case _0x2d27f5(0x234):_0x384d3f=_0x2d27f5(0x20d);break;case _0x2d27f5(0x24e):_0x384d3f='wss://stream.binance.us:9443';break;default:_0x384d3f='wss://stream.binance.com:9443';}exchange=new _0x2ca472({'apiKey':_0x15f85f,'secret':_0x2974ad,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x15f85f,'api_secret':_0x2974ad,'beautify':!![],'wsUrl':_0x384d3f},logger),config[_0x2d27f5(0x211)]==_0x2d27f5(0x24e)&&(stablecoins={'eur':{'coin':_0x2d27f5(0x2a3),'symbol':_0x2d27f5(0x1fd)},'usd':{'coin':_0x2d27f5(0x2c8),'symbol':_0x2d27f5(0x268)}});}async function loadSymbols(){const _0x2f1a51=_0x5cc98a;let _0xb85a4f;try{markets=await exchange[_0x2f1a51(0x257)]();const _0x42734a=[_0x2f1a51(0x23f),_0x2f1a51(0x21d),_0x2f1a51(0x2e6)];allSymbols=exchange[_0x2f1a51(0x302)][_0x2f1a51(0x25d)](_0x4742ed=>{const _0x3dba9e=_0x2f1a51;let _0x31fe06=![];return _0x42734a[_0x3dba9e(0x2c6)](_0x24f84b=>{if(_0x4742ed['includes'](_0x24f84b))_0x31fe06=!![];}),!_0x31fe06;}),_0xb85a4f=!![];}catch(_0x3c7a4e){await handleError(_0x3c7a4e,_0x2f1a51(0x238)),_0xb85a4f=![];}return _0xb85a4f;}async function initbot(){const _0x37f7dc=_0x5cc98a;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x4b5029=dbCoinResults[_0x37f7dc(0x225)]('coins')[_0x37f7dc(0x215)]();if(_0x4b5029[_0x37f7dc(0x2fa)]==0x0)await resetCoinResults();}async function initclient(){const _0x572085=_0x5cc98a;proxyEmit(_0x572085(0x27d),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x572085(0x287),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xfbd294=getNormalizedPerformance();emitPerformance(_0xfbd294),await getStartingBalances(_0xfbd294);}function cleanws(){const _0x17c803=_0x5cc98a;wsinitialized=![];ws1&&(ws1[_0x17c803(0x2c6)](_0x1b9f81=>{const _0x3f4288=_0x17c803;try{wsClient[_0x3f4288(0x2c5)](_0x1b9f81);}catch(_0xab1872){}}),ws1=[]);if(ws2){try{wsClient[_0x17c803(0x2c5)](ws2);}catch(_0x1c6fe7){}ws2=null;}}async function initws(){const _0x228f30=_0x5cc98a;cleanws();let _0x3da8a4=[];currentCoins[_0x228f30(0x2c6)](_0x389a44=>{const _0x4fd2d9=_0x228f30;if(_0x389a44[_0x4fd2d9(0x2c3)]!=config['basecoin'])_0x3da8a4[_0x4fd2d9(0x203)](noslash(_0x389a44[_0x4fd2d9(0x1fa)]));});if(!_0x3da8a4['includes'](stablecoins['eur'][_0x228f30(0x2c3)]))_0x3da8a4[_0x228f30(0x203)](stablecoins[_0x228f30(0x2e5)][_0x228f30(0x2c3)]);if(!_0x3da8a4['includes'](stablecoins[_0x228f30(0x2db)][_0x228f30(0x2c3)]))_0x3da8a4[_0x228f30(0x203)](stablecoins[_0x228f30(0x2db)][_0x228f30(0x2c3)]);if(!_0x3da8a4[_0x228f30(0x261)]('BNB'+config[_0x228f30(0x228)]))_0x3da8a4[_0x228f30(0x203)]('BNB'+config[_0x228f30(0x228)]);try{_0x3da8a4[_0x228f30(0x2c6)]((_0x83a5a5,_0x1b9a46)=>{ws1[_0x1b9a46]=wsClient['subscribeSpotKline'](_0x83a5a5,'1m');}),ws2=wsClient[_0x228f30(0x2d3)](),wsClient['on']('formattedMessage',_0x4dfd70=>{const _0x5585a3=_0x228f30;if(!Array[_0x5585a3(0x25e)](_0x4dfd70)&&!_0x4dfd70[_0x5585a3(0x249)]['includes'](_0x5585a3(0x2e1))){if(_0x4dfd70[_0x5585a3(0x24f)]===_0x5585a3(0x2f9)){global[_0x5585a3(0x1f6)][_0x4dfd70[_0x5585a3(0x2f9)][_0x5585a3(0x1fa)]]=_0x4dfd70[_0x5585a3(0x2f9)][_0x5585a3(0x247)];return;}}else{if(!Array[_0x5585a3(0x25e)](_0x4dfd70)&&_0x4dfd70[_0x5585a3(0x249)][_0x5585a3(0x261)](_0x5585a3(0x2e1))){if(_0x4dfd70[_0x5585a3(0x290)][_0x5585a3(0x261)]('spot')){updateNumberCoins(_0x4dfd70);return;}}}}),wsClient['on'](_0x228f30(0x29d),async _0x82948a=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x111fd8){await handleError(_0x111fd8,_0x228f30(0x2d1));}let _0x57431d,_0x5a9d12=0x0;loading['remainingSymbols']=[];let _0x9a14ed=0x0;currentCoins[_0x228f30(0x2c6)](_0x107239=>{const _0x51bd12=_0x228f30;if(_0x107239[_0x51bd12(0x2c3)]!=config[_0x51bd12(0x228)])loading['remainingSymbols'][_0x51bd12(0x203)](_0x107239[_0x51bd12(0x1fa)]);}),loadingCanceled=![];while(_0x57431d!=currentCoins[_0x228f30(0x2fa)]-0x1){_0x57431d=0x0,currentCoins[_0x228f30(0x2c6)](_0x5e2bb9=>{const _0x1e6f6f=_0x228f30;_0x5e2bb9[_0x1e6f6f(0x2c3)]!=config[_0x1e6f6f(0x228)]&&global[_0x1e6f6f(0x1f6)][noslash(_0x5e2bb9[_0x1e6f6f(0x1fa)])]&&(loading['remainingSymbols']=loading[_0x1e6f6f(0x230)][_0x1e6f6f(0x25d)](_0x10e08f=>_0x10e08f!=_0x5e2bb9[_0x1e6f6f(0x1fa)]),_0x57431d++);}),loading[_0x228f30(0x22a)]=Math[_0x228f30(0x2ab)](_0x57431d/(currentCoins[_0x228f30(0x2fa)]-0x1)*0x64);_0x9a14ed>0x1e*0x5&&(loading[_0x228f30(0x235)]=!![],emitLoadingProgress());if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x57431d!=_0x5a9d12&&(_0x5a9d12=_0x57431d,emitLoadingProgress()),_0x9a14ed++,await sleep(0xc8);}if(_0x57431d==currentCoins['length']-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x3aa343=_0x5cc98a;proxyEmit(_0x3aa343(0x239),loading);}async function getFiat(){const _0x529a75=_0x5cc98a;let _0x266d6f=0x0,_0x50b748=0x0;try{_0x266d6f=global[_0x529a75(0x1f6)][stablecoins['eur'][_0x529a75(0x2c3)]],_0x50b748=global[_0x529a75(0x1f6)][stablecoins[_0x529a75(0x2db)][_0x529a75(0x2c3)]];}catch(_0x246d6d){await handleError(_0x246d6d,_0x529a75(0x2e3));}return{'eur':Number(_0x266d6f),'usd':Number(_0x50b748)};}function setStartDatePerformance(){const _0x2bca73=_0x5cc98a;if(config&&config[_0x2bca73(0x217)][0x0][_0x2bca73(0x2ed)][_0x2bca73(0x2fa)]!=0x0){const _0x1be6d6=config[_0x2bca73(0x217)][0x0][_0x2bca73(0x2ed)];dbPerformance[_0x2bca73(0x225)]('data')[_0x2bca73(0x2a5)]({'date':config['startdate']})[_0x2bca73(0x221)]({'coins':_0x1be6d6})[_0x2bca73(0x2d2)]();}}async function recreateHistory(_0x3706f6){const _0x25ae09=_0x5cc98a;let _0x59c3bd,_0x1d45fc=[];logHistory('success',_0x25ae09(0x207)),_0x3706f6[_0x25ae09(0x2bd)][_0x25ae09(0x2c6)](_0x1fe1ab=>{const _0x109905=_0x25ae09;if(_0x1fe1ab[_0x109905(0x2c3)]!=config['basecoin']&&!_0x1fe1ab[_0x109905(0x28f)])_0x1d45fc[_0x109905(0x203)]({'coin':_0x1fe1ab['coin'],'symbol':_0x1fe1ab[_0x109905(0x1fa)]});});let _0x43366b=[];try{const _0x42c8d7=fns['format'](fns[_0x25ae09(0x253)](_0x3706f6[_0x25ae09(0x1fe)][_0x25ae09(0x1ed)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x4c2d7a of _0x1d45fc){if(_0x4c2d7a[_0x25ae09(0x2c3)]!=config[_0x25ae09(0x228)])_0x59c3bd=await exchange[_0x25ae09(0x2b6)](_0x4c2d7a[_0x25ae09(0x1fa)],Date[_0x25ae09(0x2ea)](_0x42c8d7));_0x59c3bd[_0x25ae09(0x2c6)](_0x3ac3e3=>{const _0x47bb12=_0x25ae09,_0x47e8da=_0x4c2d7a[_0x47bb12(0x1fa)]['includes'](config['basecoin']+'/'),_0x1ff79a=fns[_0x47bb12(0x308)](fns['parseISO'](_0x3ac3e3[_0x47bb12(0x1ef)]),_0x47bb12(0x262)),_0x775a92=fns[_0x47bb12(0x308)](fns[_0x47bb12(0x253)](_0x3ac3e3[_0x47bb12(0x1ef)]),_0x47bb12(0x306));let _0x49111c;if(_0x3ac3e3[_0x47bb12(0x216)]==_0x47bb12(0x27c)&&_0x47e8da==![])_0x49111c=_0x3ac3e3[_0x47bb12(0x2d9)];if(_0x3ac3e3[_0x47bb12(0x216)]==_0x47bb12(0x27c)&&_0x47e8da==!![])_0x49111c=-_0x3ac3e3[_0x47bb12(0x2d9)]*_0x3ac3e3[_0x47bb12(0x246)];if(_0x3ac3e3[_0x47bb12(0x216)]==_0x47bb12(0x201)&&_0x47e8da==![])_0x49111c=-_0x3ac3e3['amount'];if(_0x3ac3e3[_0x47bb12(0x216)]=='sell'&&_0x47e8da==!![])_0x49111c=_0x3ac3e3[_0x47bb12(0x2d9)]*_0x3ac3e3[_0x47bb12(0x246)];_0x43366b[_0x47bb12(0x203)]({'timestamp':_0x1ff79a,'date':_0x775a92,'coin':_0x4c2d7a['coin'],'symbol':_0x4c2d7a['symbol'],'type':_0x3ac3e3[_0x47bb12(0x1f8)],'side':_0x3ac3e3[_0x47bb12(0x216)],'reverse':_0x47e8da,'amount':formatResult(_0x3ac3e3[_0x47bb12(0x23e)],0x8),'filled':formatResult(_0x3ac3e3[_0x47bb12(0x23e)],0x8),'coinamount':formatResult(_0x49111c,0x8),'price':formatResult(_0x3ac3e3[_0x47bb12(0x246)],0x8)});let _0x37d011;if(_0x3ac3e3[_0x47bb12(0x216)]==_0x47bb12(0x27c)&&_0x47e8da==![])_0x37d011=-_0x3ac3e3[_0x47bb12(0x2d9)]*_0x3ac3e3['price'];if(_0x3ac3e3['side']=='buy'&&_0x47e8da==!![])_0x37d011=_0x3ac3e3[_0x47bb12(0x2d9)];if(_0x3ac3e3['side']==_0x47bb12(0x201)&&_0x47e8da==![])_0x37d011=_0x3ac3e3[_0x47bb12(0x2d9)]*_0x3ac3e3['price'];if(_0x3ac3e3[_0x47bb12(0x216)]==_0x47bb12(0x201)&&_0x47e8da==!![])_0x37d011=-_0x3ac3e3[_0x47bb12(0x2d9)];_0x43366b[_0x47bb12(0x203)]({'date':_0x775a92,'coin':config[_0x47bb12(0x228)],'coinamount':formatResult(_0x37d011,0x8)});});}_0x43366b['sort']((_0x1701ce,_0x33f29e)=>_0x1701ce[_0x25ae09(0x21c)]>_0x33f29e[_0x25ae09(0x21c)]?0x1:_0x33f29e['timestamp']>_0x1701ce[_0x25ae09(0x21c)]?-0x1:0x0),dbLogs['get'](_0x25ae09(0x29e))['remove']()[_0x25ae09(0x2d2)](),_0x43366b[_0x25ae09(0x2c6)](_0x10d7a4=>{const _0x492dbb=_0x25ae09;let _0x1a7f81;_0x10d7a4[_0x492dbb(0x2c3)]!=config['basecoin']&&(_0x1a7f81={'time':_0x10d7a4[_0x492dbb(0x21c)],'type':_0x492dbb(0x2a8),'event':_0x492dbb(0x2b3)+_0x10d7a4[_0x492dbb(0x1fa)]+'\x20'+_0x10d7a4['side']+'\x20#'+_0x10d7a4['amount']+'\x20@'+_0x10d7a4[_0x492dbb(0x246)]},dbLogs[_0x492dbb(0x225)](_0x492dbb(0x29e))['push'](_0x1a7f81)[_0x492dbb(0x2d2)]());});const _0x34213d=fns[_0x25ae09(0x2fd)]({'start':new Date(_0x3706f6[_0x25ae09(0x1fe)]),'end':new Date()})[_0x25ae09(0x2be)](_0x1dcffc=>fns[_0x25ae09(0x308)](_0x1dcffc,_0x25ae09(0x306)));let _0x47d4fc=[];_0x3706f6['portfolio'][_0x25ae09(0x2c6)](_0x3cd408=>{const _0x143ee1=_0x25ae09;if(!_0x3cd408[_0x143ee1(0x28f)]){_0x47d4fc[_0x3cd408[_0x143ee1(0x2c3)]]=[];let _0x48c61b=_0x3cd408[_0x143ee1(0x26f)];_0x34213d[_0x143ee1(0x2c6)]((_0x339c7e,_0x46cb9b)=>{const _0x288011=_0x143ee1;let _0x4665d5=_0x43366b[_0x288011(0x25d)](_0x2adb89=>_0x2adb89[_0x288011(0x2c3)]==_0x3cd408['coin']&&_0x2adb89['date']==_0x339c7e);if(_0x4665d5[_0x288011(0x2fa)]!=0x0){let _0x2af4dc=_0x4665d5[_0x288011(0x267)]((_0x3ca001,_0x56f5c9)=>{const _0x4c44d1=_0x288011;return _0x3ca001+=_0x56f5c9[_0x4c44d1(0x1fb)],_0x3ca001;},0x0);_0x48c61b+=_0x2af4dc;}_0x47d4fc[_0x3cd408[_0x288011(0x2c3)]][_0x339c7e]=_0x48c61b;});}});const _0x486eb3=[..._0x1d45fc];_0x486eb3[_0x25ae09(0x203)]({'coin':stablecoins[_0x25ae09(0x2e5)][_0x25ae09(0x2c3)],'symbol':stablecoins['eur']['symbol']}),_0x486eb3[_0x25ae09(0x203)]({'coin':stablecoins[_0x25ae09(0x2db)]['coin'],'symbol':stablecoins[_0x25ae09(0x2db)][_0x25ae09(0x1fa)]});let _0x3a51ac=[];for(const _0x5046d2 of _0x486eb3){_0x3a51ac[_0x5046d2['coin']]=await getCloses(_0x5046d2[_0x25ae09(0x1fa)],new Date(_0x3706f6[_0x25ae09(0x1fe)]));}dbPerformance[_0x25ae09(0x225)](_0x25ae09(0x2e9))[_0x25ae09(0x29a)]()[_0x25ae09(0x2d2)](),_0x34213d['forEach']((_0x5dfc55,_0x3f7f22)=>{const _0x20f365=_0x25ae09;let _0x5b519f,_0x517a40=[];_0x3f7f22==0x0?(_0x3706f6[_0x20f365(0x2bd)][_0x20f365(0x2c6)](_0x692968=>{const _0x5d2044=_0x20f365;!_0x692968[_0x5d2044(0x28f)]&&_0x517a40[_0x5d2044(0x203)]({'coin':_0x692968[_0x5d2044(0x2c3)],'number':_0x692968[_0x5d2044(0x26f)],'price':_0x692968[_0x5d2044(0x1f4)]});}),_0x5b519f={'date':_0x5dfc55,'eur':_0x3a51ac[stablecoins['eur']['coin']][_0x3f7f22],'usd':_0x3a51ac[stablecoins[_0x20f365(0x2db)][_0x20f365(0x2c3)]][_0x3f7f22],'coins':_0x517a40}):(_0x3706f6[_0x20f365(0x2bd)][_0x20f365(0x2c6)](_0x414c45=>{const _0x269f16=_0x20f365;!_0x414c45[_0x269f16(0x28f)]&&_0x517a40[_0x269f16(0x203)]({'coin':_0x414c45[_0x269f16(0x2c3)],'number':_0x47d4fc[_0x414c45[_0x269f16(0x2c3)]][_0x5dfc55],'price':_0x414c45[_0x269f16(0x2c3)]==config['basecoin']?0x1:_0x3a51ac[_0x414c45[_0x269f16(0x2c3)]][_0x3f7f22]});}),_0x5b519f={'date':_0x5dfc55,'eur':_0x3a51ac[stablecoins[_0x20f365(0x2e5)][_0x20f365(0x2c3)]][_0x3f7f22],'usd':_0x3a51ac[stablecoins['usd']['coin']][_0x3f7f22],'coins':_0x517a40}),dbPerformance[_0x20f365(0x225)]('data')[_0x20f365(0x203)](_0x5b519f)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x5109a5 of _0x43366b){_0x5109a5[_0x25ae09(0x2c3)]!=config['basecoin']&&await updateCoinResults(_0x5109a5);}logHistory('success',_0x25ae09(0x282));}catch(_0x4e5216){await handleError(_0x4e5216,_0x25ae09(0x275));}}async function getCloses(_0x1d8e96,_0x3723c,_0x2b8d61=undefined){const _0x565b93=_0x5cc98a,_0x569018='1d';let _0x2b4879,_0x58c67e;const _0x13c501=fns['differenceInCalendarDays'](new Date(),_0x3723c)+0x1;try{const _0x1d73db=exchange[_0x565b93(0x22b)]()-_0x13c501*0x18*0xe10*0x3e8;_0x2b4879=await exchange[_0x565b93(0x2f2)](_0x1d8e96,_0x569018,_0x1d73db,_0x2b8d61),_0x58c67e=await exchange[_0x565b93(0x280)](_0x1d8e96);}catch(_0x91af24){await handleError(_0x91af24,'getCloses()');}let _0xee3a5=ohlcvToCloses(_0x2b4879);return _0xee3a5['push'](_0x58c67e[_0x1d8e96][_0x565b93(0x204)]),_0xee3a5;}function ohlcvToCloses(_0x50f79b){const _0x1bf8be=_0x5cc98a;let _0x262e7b=[];return _0x50f79b[_0x1bf8be(0x2c6)](function(_0x34f28f){const _0xba9e48=_0x1bf8be;_0x262e7b[_0xba9e48(0x203)](_0x34f28f[0x4]);}),_0x262e7b;}function oneTimeMigration(){const _0x43a1d2=_0x5cc98a;let _0x59d795=dbLogs[_0x43a1d2(0x225)](_0x43a1d2(0x224))[_0x43a1d2(0x215)]();if(_0x59d795!=_0x43a1d2(0x2c4)){dbLogs[_0x43a1d2(0x2e0)]('version',_0x43a1d2(0x2c4))[_0x43a1d2(0x2d2)]();let _0x46bccb=[];const _0x9d2396=dbLogs['get'](_0x43a1d2(0x29e))[_0x43a1d2(0x215)]();_0x9d2396[_0x43a1d2(0x2c6)](_0x386042=>{const _0x37a9d3=_0x43a1d2;_0x46bccb[_0x37a9d3(0x203)]({'time':_0x386042[_0x37a9d3(0x243)],'type':_0x386042['type'],'event':_0x386042[_0x37a9d3(0x25a)]});}),dbLogs[_0x43a1d2(0x225)](_0x43a1d2(0x29e))[_0x43a1d2(0x221)](_0x46bccb)[_0x43a1d2(0x2d2)]();}let _0x4e7e42=dbConfig['get']('version')[_0x43a1d2(0x215)]();if(_0x4e7e42!=_0x43a1d2(0x2c4)){dbConfig[_0x43a1d2(0x2e0)](_0x43a1d2(0x224),_0x43a1d2(0x2c4))[_0x43a1d2(0x2d2)]();let _0x187796=dbConfig[_0x43a1d2(0x225)](_0x43a1d2(0x28e))[_0x43a1d2(0x2a5)]({'botID':botID})[_0x43a1d2(0x215)]();if(_0x187796){let _0x134604=[];_0x187796[_0x43a1d2(0x2bd)][_0x43a1d2(0x2c6)](_0xd150aa=>{const _0x4c3908=_0x43a1d2;_0x134604['push']({'coin':_0xd150aa[_0x4c3908(0x2c3)],'number':_0xd150aa[_0x4c3908(0x26f)],'price':_0xd150aa[_0x4c3908(0x1f4)]}),delete _0xd150aa[_0x4c3908(0x26f)],delete _0xd150aa[_0x4c3908(0x1f4)];});if(_0x134604['length']!==0x0)fs[_0x43a1d2(0x209)](configbackuppath+(_0x43a1d2(0x2dd)+botID+_0x43a1d2(0x231)),JSON[_0x43a1d2(0x2cf)](_0x134604,null,0x4),function(_0x2df2cc){if(_0x2df2cc){}});const _0x339ebc=(_0x75bea8,_0x1d7c90)=>{const _0x548d47=_0x43a1d2;let _0x35c771=[];_0x1d7c90[_0x548d47(0x2c6)](_0x4e16db=>{const _0x484577=_0x548d47,_0x355e3f=_0x75bea8['find'](_0x324aa9=>_0x324aa9[_0x484577(0x2c3)]==_0x4e16db[_0x484577(0x2c3)]);if(!_0x355e3f)_0x35c771['push'](_0x4e16db);});let _0xbd63ca=[];return _0x75bea8[_0x548d47(0x2c6)](_0x4a053a=>{const _0x47ddd9=_0x548d47,_0x94c3f1=_0x1d7c90[_0x47ddd9(0x2a5)](_0x36702d=>_0x36702d[_0x47ddd9(0x2c3)]==_0x4a053a[_0x47ddd9(0x2c3)]);if(!_0x94c3f1||_0x94c3f1[_0x47ddd9(0x2e2)]==0x0&&_0x4a053a[_0x47ddd9(0x2e2)]!=0x0)_0xbd63ca['push'](_0x4a053a);}),{'missingDay1':_0x35c771,'notInDay2':_0xbd63ca};},_0x25fb63=dbPerformance[_0x43a1d2(0x225)](_0x43a1d2(0x2e9))[_0x43a1d2(0x20e)]()[_0x43a1d2(0x215)]();if(_0x25fb63[_0x43a1d2(0x2fa)]>0x1){const {missingDay1:_0x4ebbc5,notInDay2:_0x21123e}=_0x339ebc(_0x134604,_0x25fb63[0x1][_0x43a1d2(0x2aa)]);_0x134604=[..._0x134604,..._0x4ebbc5],_0x21123e[_0x43a1d2(0x2c6)](_0x11a0d6=>{const _0x51c99b=_0x43a1d2;let _0x4ba6b8=_0x134604['findIndex'](_0x39abd8=>_0x39abd8['coin']==_0x11a0d6[_0x51c99b(0x2c3)]);_0x4ba6b8!=-0x1&&_0x134604[_0x51c99b(0x2f3)](_0x4ba6b8,0x1);});}_0x134604[_0x43a1d2(0x20f)]((_0x2068fe,_0x419ee4)=>_0x2068fe[_0x43a1d2(0x2c3)]>_0x419ee4['coin']?0x1:_0x419ee4['coin']>_0x2068fe[_0x43a1d2(0x2c3)]?-0x1:0x0);let _0x91ecae=[{'date':_0x187796[_0x43a1d2(0x1fe)],'changes':_0x134604}];_0x25fb63[_0x43a1d2(0x2fa)]>0x2&&_0x25fb63[_0x43a1d2(0x2c6)]((_0x1b3171,_0x5942ca)=>{const _0x2cfac5=_0x43a1d2;if(_0x5942ca>0x0&&_0x5942ca<_0x25fb63[_0x2cfac5(0x2fa)]-0x1){const {missingDay1:_0x5a926b,notInDay2:_0x1de83b}=_0x339ebc(_0x25fb63[_0x5942ca][_0x2cfac5(0x2aa)],_0x25fb63[_0x5942ca+0x1][_0x2cfac5(0x2aa)]);_0x134604=[],(_0x5a926b['length']!=0x0||_0x1de83b[_0x2cfac5(0x2fa)]!=0x0)&&(_0x5a926b[_0x2cfac5(0x2fa)]!=0x0&&_0x134604[_0x2cfac5(0x203)](..._0x5a926b),_0x1de83b['length']!=0x0&&(_0x1de83b[_0x2cfac5(0x2c6)](_0xf88997=>{const _0x2500ff=_0x2cfac5;_0xf88997[_0x2500ff(0x2e2)]=-_0xf88997[_0x2500ff(0x2e2)];}),_0x134604['push'](..._0x1de83b)),_0x134604['sort']((_0x59bc9d,_0xe4e8ac)=>_0x59bc9d[_0x2cfac5(0x2c3)]>_0xe4e8ac['coin']?0x1:_0xe4e8ac[_0x2cfac5(0x2c3)]>_0x59bc9d['coin']?-0x1:0x0),_0x91ecae['push']({'date':_0x25fb63[_0x5942ca+0x1][_0x2cfac5(0x223)],'changes':_0x134604}));}}),dbConfig['get'](_0x43a1d2(0x28e))[_0x43a1d2(0x2a5)]({'botID':botID})[_0x43a1d2(0x221)]({..._0x187796,'liquidity':_0x91ecae})[_0x43a1d2(0x2d2)]();}}config=getConfiguration(botID);let _0x53b6c5=dbPerformance[_0x43a1d2(0x225)]('version')['value']();_0x53b6c5!=_0x43a1d2(0x2c4)&&(dbPerformance[_0x43a1d2(0x2e0)](_0x43a1d2(0x224),'2.3.5')[_0x43a1d2(0x2d2)](),setStartDatePerformance());let _0xd5525e=dbCoinResults[_0x43a1d2(0x225)](_0x43a1d2(0x224))[_0x43a1d2(0x215)]();_0xd5525e!=_0x43a1d2(0x2c4)&&dbCoinResults[_0x43a1d2(0x2e0)](_0x43a1d2(0x224),_0x43a1d2(0x2c4))[_0x43a1d2(0x2d2)]();}function getConfiguration(_0x4baa7f){const _0x33b67a=_0x5cc98a;let _0x3a9bda=dbConfig[_0x33b67a(0x225)](_0x33b67a(0x28e))[_0x33b67a(0x2a5)]({'botID':_0x4baa7f})['value']();if(_0x3a9bda){}else _0x3a9bda={'botID':_0x4baa7f,'exchange':_0x33b67a(0x234),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x33b67a(0x237)+_0x4baa7f,'showname':![],'threshold':'3','ordertype':_0x33b67a(0x2b5),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x33b67a(0x26e)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x3a9bda;}function emittedConfiguration(){const _0x193791=_0x5cc98a;let _0x4c33a6;return config['apiKey']==''?_0x4c33a6=config:_0x4c33a6={...config,'apiKey':_0x193791(0x2a6),'apiSecret':_0x193791(0x2a6)},_0x4c33a6;}function getSettings(){const _0x59c199=_0x5cc98a;return dbSettings[_0x59c199(0x225)](_0x59c199(0x2af))[_0x59c199(0x215)]();}function getSecure(){const _0x51ef4d=_0x5cc98a;return dbSecure[_0x51ef4d(0x225)](_0x51ef4d(0x2a4))[_0x51ef4d(0x215)]()||{};}function updateTimeshift(_0x14aa1e){const _0x1e0e00=_0x5cc98a;let _0x3fbfda=dbConfig[_0x1e0e00(0x225)]('bot')[_0x1e0e00(0x2a5)]({'botID':botID})[_0x1e0e00(0x215)]();_0x3fbfda&&dbConfig[_0x1e0e00(0x225)]('bot')[_0x1e0e00(0x2a5)]({'botID':botID})['assign']({'timeshift':_0x14aa1e})['write'](),config['timeshift']=_0x14aa1e,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x149bc9){const _0x3f1dc1=_0x5cc98a;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x150ae9=dbConfig[_0x3f1dc1(0x225)](_0x3f1dc1(0x28e))[_0x3f1dc1(0x2a5)]({'botID':botID})[_0x3f1dc1(0x215)]();_0x149bc9={..._0x149bc9,'apiKey':crypt[_0x3f1dc1(0x21b)](secure['privateKey'],_0x149bc9[_0x3f1dc1(0x2c2)])[_0x3f1dc1(0x23c)],'apiSecret':crypt[_0x3f1dc1(0x21b)](secure[_0x3f1dc1(0x222)],_0x149bc9[_0x3f1dc1(0x25c)])[_0x3f1dc1(0x23c)]};if(_0x150ae9){if(_0x149bc9[_0x3f1dc1(0x2c2)]==_0x3f1dc1(0x2a6))_0x149bc9['apiKey']=config[_0x3f1dc1(0x2c2)];if(_0x149bc9[_0x3f1dc1(0x25c)]==_0x3f1dc1(0x2a6))_0x149bc9[_0x3f1dc1(0x25c)]=config[_0x3f1dc1(0x25c)];dbConfig[_0x3f1dc1(0x225)](_0x3f1dc1(0x28e))[_0x3f1dc1(0x2a5)]({'botID':botID})['assign'](_0x149bc9)[_0x3f1dc1(0x2d2)]();}else dbConfig[_0x3f1dc1(0x225)]('bot')[_0x3f1dc1(0x203)](_0x149bc9)[_0x3f1dc1(0x2d2)](),process[_0x3f1dc1(0x255)]({'status':'enabled','live':'running'},_0x55a836=>{});config={..._0x149bc9},setStartDatePerformance(),process[_0x3f1dc1(0x255)]({'botname':_0x149bc9[_0x3f1dc1(0x2d8)]},_0x5800f9=>{});const _0x40fb44=getNormalizedPerformance();getStartingBalances(_0x40fb44),emitPerformance(_0x40fb44),proxyEmit(_0x3f1dc1(0x2fe)),reset();}async function storeHeadless(_0x26fc0c){const _0x49f043=_0x5cc98a,_0x9a002e={...config,'headless':_0x26fc0c[_0x49f043(0x2a9)]};let _0x44263d=dbConfig[_0x49f043(0x225)](_0x49f043(0x28e))[_0x49f043(0x2a5)]({'botID':botID})[_0x49f043(0x215)]();_0x44263d&&dbConfig[_0x49f043(0x225)](_0x49f043(0x28e))[_0x49f043(0x2a5)]({'botID':botID})[_0x49f043(0x221)](_0x9a002e)[_0x49f043(0x2d2)](),config={..._0x9a002e},proxyEmit('configuration',emittedConfiguration());}function noslash(_0x40a966){const _0x301bf6=_0x5cc98a;return _0x40a966[_0x301bf6(0x1ed)]('/','');}function updateNumberCoins(_0x1d6d24){const _0x50728a=_0x5cc98a;_0x1d6d24[_0x50728a(0x24f)]&&_0x1d6d24[_0x50728a(0x24f)]==_0x50728a(0x1f7)&&_0x1d6d24['balances'][_0x50728a(0x2c6)](_0x1f7795=>{const _0x32fe11=_0x50728a;let _0x351fff=currentCoins['find'](_0x1973ae=>_0x1973ae['coin']==_0x1f7795['asset']),_0x5f91c3=config[_0x32fe11(0x2bd)]['find'](_0xd36e27=>_0xd36e27[_0x32fe11(0x2c3)]==_0x1f7795[_0x32fe11(0x2f4)]);if(_0x351fff&&_0x5f91c3)_0x351fff[_0x32fe11(0x2e2)]=Math[_0x32fe11(0x25f)](Number(_0x1f7795[_0x32fe11(0x266)])+(_0x5f91c3['offset']||0x0),0x0);});if(_0x1d6d24['eventType']&&_0x1d6d24[_0x50728a(0x24f)]==_0x50728a(0x26d)){if(_0x1d6d24[_0x50728a(0x263)]=='LIMIT'&&_0x1d6d24[_0x50728a(0x2a0)]==_0x50728a(0x20b)){if(lastOrders)lastOrders[_0x50728a(0x2c6)](_0x3500ab=>{const _0x149c47=_0x50728a;if(_0x3500ab[_0x149c47(0x218)]==_0x1d6d24[_0x149c47(0x218)]){if(_0x3500ab[_0x149c47(0x241)])_0x3500ab[_0x149c47(0x23e)]=_0x1d6d24['accumulatedQuantity']*_0x3500ab[_0x149c47(0x246)];else _0x3500ab[_0x149c47(0x23e)]=_0x1d6d24[_0x149c47(0x251)];}});}}}async function getCoins(_0xb2c035=!![],_0x3463d4=config[_0x5cc98a(0x228)]){const _0x1c16d2=_0x5cc98a;let _0x251a88,_0x3c9b49=[],_0x3011b3=[],_0x41fc7c=[];try{_0x251a88=await exchange[_0x1c16d2(0x23a)](),mybalances=_0x251a88[_0x1c16d2(0x2d4)];if(!_0xb2c035)for(const [_0x5498d4,_0xc874c9]of Object[_0x1c16d2(0x213)](mybalances)){_0x41fc7c[_0x1c16d2(0x203)](_0x5498d4);}else config[_0x1c16d2(0x2bd)][_0x1c16d2(0x2c6)](_0x2b66c1=>{const _0x261cc5=_0x1c16d2;if(!_0x2b66c1[_0x261cc5(0x28f)])_0x41fc7c['push'](_0x2b66c1[_0x261cc5(0x2c3)]);});if(_0x3463d4=='')for(const [_0x3e8e2b,_0x3636bc]of Object[_0x1c16d2(0x213)](mybalances)){_0x3636bc[_0x1c16d2(0x1f5)]()!=0x0&&_0x3011b3[_0x1c16d2(0x203)]({'coin':_0x3e8e2b});}else for(const [_0x42e57a,_0x4ec203]of Object['entries'](mybalances)){if(_0x41fc7c[_0x1c16d2(0x261)](_0x42e57a)){const _0x294925=config[_0x1c16d2(0x2bd)][_0x1c16d2(0x2a5)](_0x14c13c=>_0x14c13c[_0x1c16d2(0x2c3)]==_0x42e57a);if((_0x4ec203['toString']()!=0x0||_0x294925)&&(allSymbols[_0x1c16d2(0x261)](_0x42e57a+'/'+_0x3463d4)||_0x42e57a==_0x3463d4))_0x3011b3['push']({'coin':_0x42e57a,'symbol':_0x42e57a+'/'+_0x3463d4,'reverse':![],'number':Math[_0x1c16d2(0x25f)](_0x4ec203+(_0x294925&&_0x294925[_0x1c16d2(0x271)]||0x0),0x0)}),_0x42e57a!=_0x3463d4&&_0x3c9b49[_0x1c16d2(0x203)](_0x42e57a+'/'+_0x3463d4);else(_0x4ec203[_0x1c16d2(0x1f5)]()!=0x0||_0x294925)&&allSymbols[_0x1c16d2(0x261)](_0x3463d4+'/'+_0x42e57a)&&(_0x3011b3[_0x1c16d2(0x203)]({'coin':_0x42e57a,'symbol':_0x3463d4+'/'+_0x42e57a,'reverse':!![],'number':Math['max'](_0x4ec203+(_0x294925&&_0x294925[_0x1c16d2(0x271)]||0x0),0x0)}),_0x42e57a!=_0x3463d4&&_0x3c9b49[_0x1c16d2(0x203)](_0x3463d4+'/'+_0x42e57a));}}}catch(_0x481de9){if(!_0xb2c035){if(_0x481de9['toString']()['includes'](_0x1c16d2(0x298)))return logHistory(_0x1c16d2(0x244),_0x1c16d2(0x2b1)),![];else{if(_0x481de9[_0x1c16d2(0x1f5)]()[_0x1c16d2(0x261)](_0x1c16d2(0x2b9)))return logHistory(_0x1c16d2(0x244),_0x1c16d2(0x208)),![];else{if(_0x481de9[_0x1c16d2(0x1f5)]()['includes'](_0x1c16d2(0x2e8)))return logHistory(_0x1c16d2(0x244),_0x1c16d2(0x277)),![];else await handleError(_0x481de9,_0x1c16d2(0x2c0));}}}else await handleError(_0x481de9,'getCoins()');}return _0x3011b3;}async function getPortfolio(_0x2e2cf7){const _0x100455=_0x5cc98a;let _0x4ee9f7=[],_0x391955=[],_0xc54d8f,_0x31b456=[],_0x8dfaa8,_0x404609;_0x2e2cf7[_0x100455(0x2c2)]==='************'||_0x2e2cf7[_0x100455(0x25c)]===_0x100455(0x2a6)?(_0x8dfaa8=config['apiKey'],_0x404609=config[_0x100455(0x25c)]):(_0x8dfaa8=_0x2e2cf7[_0x100455(0x2c2)],_0x404609=_0x2e2cf7[_0x100455(0x25c)]);await initExchange(_0x8dfaa8,_0x404609);let _0x334bda=await loadSymbols();if(_0x334bda){_0x31b456=await getCoins(![],_0x2e2cf7[_0x100455(0x228)]);if(_0x31b456===![])proxyEmit(_0x100455(0x2bd),![]);else{if(_0x2e2cf7[_0x100455(0x228)]=='')proxyEmit(_0x100455(0x2bd),_0x31b456);else{_0x31b456[_0x100455(0x2c6)](_0x40be1f=>{const _0x56ede5=_0x100455;_0x4ee9f7[_0x56ede5(0x203)](_0x40be1f[_0x56ede5(0x1fa)]);});try{_0x391955=await exchange[_0x100455(0x280)](_0x4ee9f7);}catch(_0x506126){await handleError(_0x506126,_0x100455(0x2f1));}_0x31b456[_0x100455(0x2c6)](_0x439f12=>{const _0x2c561b=_0x100455;_0x439f12[_0x2c561b(0x2c3)]!=_0x2e2cf7[_0x2c561b(0x228)]?_0xc54d8f=_0x439f12[_0x2c561b(0x241)]?0x1/_0x391955[_0x439f12['symbol']]['last']:_0x391955[_0x439f12[_0x2c561b(0x1fa)]][_0x2c561b(0x204)]:_0xc54d8f=0x1,_0x439f12[_0x2c561b(0x246)]=formatResult(_0xc54d8f,0x8);}),proxyEmit(_0x100455(0x2bd),_0x31b456);}}}else proxyEmit(_0x100455(0x2bd),![]);}function _0x3ebe(_0x57e5df,_0x4b9156){const _0x97688=_0x8109();return _0x3ebe=function(_0x365cff,_0x32be6f){_0x365cff=_0x365cff-0x1ea;let _0x8109ad=_0x97688[_0x365cff];return _0x8109ad;},_0x3ebe(_0x57e5df,_0x4b9156);}function checkMinimums(_0x2137e7){const _0x14d2cd=_0x5cc98a;let _0x3f278b=!![];const _0x2a9d05=!_0x2137e7[_0x14d2cd(0x241)]?markets[_0x2137e7[_0x14d2cd(0x1fa)]][_0x14d2cd(0x28a)]['amount'][_0x14d2cd(0x2bf)]:markets[_0x2137e7[_0x14d2cd(0x1fa)]]['limits'][_0x14d2cd(0x272)][_0x14d2cd(0x2bf)],_0x5416f9=!_0x2137e7[_0x14d2cd(0x241)]?markets[_0x2137e7['symbol']][_0x14d2cd(0x28a)][_0x14d2cd(0x272)][_0x14d2cd(0x2bf)]:markets[_0x2137e7['symbol']][_0x14d2cd(0x28a)]['amount'][_0x14d2cd(0x2bf)];if(Math[_0x14d2cd(0x205)](_0x2137e7[_0x14d2cd(0x22e)])<_0x2a9d05)_0x3f278b=![];if(Math['abs'](_0x2137e7['trade'])*_0x2137e7[_0x14d2cd(0x204)]<_0x5416f9)_0x3f278b=![];if(_0x2137e7['side']=='sell'){let _0x5523c7=config[_0x14d2cd(0x2bd)][_0x14d2cd(0x2a5)](_0x4ac80c=>_0x4ac80c['coin']==_0x2137e7['coin']);if(Math[_0x14d2cd(0x205)](_0x2137e7['trade'])>_0x2137e7[_0x14d2cd(0x2e2)]-_0x5523c7[_0x14d2cd(0x271)])_0x3f278b=![];}return _0x3f278b;}async function getBalances(){const _0x530a49=_0x5cc98a;let _0x1d09dd=0x0,_0x227e9d;const _0xad8273=config[_0x530a49(0x27a)];currentCoins['forEach'](_0x3fa3b9=>{const _0x445ec0=_0x530a49;if(_0x3fa3b9[_0x445ec0(0x2c3)]!=config[_0x445ec0(0x228)]){let _0x1d374c=global[_0x445ec0(0x1f6)][noslash(_0x3fa3b9[_0x445ec0(0x1fa)])];_0x227e9d=_0x3fa3b9[_0x445ec0(0x241)]?0x1/_0x1d374c:_0x1d374c;}else _0x227e9d=0x1;let _0x32e771=_0x3fa3b9[_0x445ec0(0x2e2)]*_0x227e9d;_0x1d09dd+=_0x32e771,_0x3fa3b9[_0x445ec0(0x204)]=formatResult(Number(_0x227e9d),0x8),_0x3fa3b9[_0x445ec0(0x215)]=_0x32e771;}),currentCoins[_0x530a49(0x2c6)](_0x2fced4=>{const _0x567760=_0x530a49;let _0x3d1a70=config[_0x567760(0x2bd)][_0x567760(0x2a5)](_0x12dd32=>_0x12dd32['coin']==_0x2fced4[_0x567760(0x2c3)]),_0x2161da=Number(_0x3d1a70[_0x567760(0x2da)]),_0x41f705=_0x2fced4[_0x567760(0x215)]/_0x1d09dd*0x64,_0x11238b=_0x2161da*_0x1d09dd/0x64/_0x2fced4[_0x567760(0x204)]-_0x2fced4[_0x567760(0x2e2)];_0x2fced4[_0x567760(0x2da)]=formatResult(_0x41f705,0x3),_0x2fced4[_0x567760(0x24b)]=formatResult(_0x2161da,0x3),_0x2fced4[_0x567760(0x22e)]=formatResult(_0x11238b,0x8),_0x2fced4['side']='',_0x2fced4[_0x567760(0x2f8)]='';if(_0x2fced4[_0x567760(0x2c3)]!=config[_0x567760(0x228)]){if(_0x2fced4[_0x567760(0x2da)]>_0x2161da)_0x2fced4[_0x567760(0x216)]=_0x567760(0x201),_0x2fced4['valid']=checkMinimums(_0x2fced4);else _0x2fced4[_0x567760(0x2da)]<_0x2161da&&(_0x2fced4['side']=_0x567760(0x27c),_0x2fced4['valid']=checkMinimums(_0x2fced4));}_0x2fced4[_0x567760(0x2c9)]=_0x2fced4[_0x567760(0x2da)]/_0x2fced4[_0x567760(0x24b)]-0x1;}),currentCoins[_0x530a49(0x20f)]((_0x14de75,_0x4eaf3e)=>_0x14de75[_0x530a49(0x2c9)]<_0x4eaf3e['delta']?0x1:_0x4eaf3e['delta']<_0x14de75[_0x530a49(0x2c9)]?-0x1:0x0);const _0x1f0c8e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1f0c8e[_0x530a49(0x2e5)],'usd':_0x1f0c8e[_0x530a49(0x2db)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0xad8273},proxyEmit(_0x530a49(0x287),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x530a49(0x2a9)])headlessMode({'portfolio':currentCoins,'threshold':_0xad8273});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0xad8273});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x28fcdd=_0x5cc98a;if(!lastBalances)return;let _0x82d4a9=[],_0x173741,_0x71bb3c=JSON[_0x28fcdd(0x2ea)](lastBalances[_0x28fcdd(0x2bd)]);_0x71bb3c[_0x28fcdd(0x20f)]((_0x332a8b,_0x1288d8)=>_0x332a8b['coin']>_0x1288d8[_0x28fcdd(0x2c3)]?0x1:_0x1288d8[_0x28fcdd(0x2c3)]>_0x332a8b[_0x28fcdd(0x2c3)]?-0x1:0x0),_0x71bb3c['forEach'](_0x1a34a2=>{const _0x154a5f=_0x28fcdd;let _0x116d22={'coin':_0x1a34a2[_0x154a5f(0x2c3)],'number':_0x1a34a2['number'],'price':_0x1a34a2['last']};_0x82d4a9[_0x154a5f(0x203)](_0x116d22);});const _0x1cbd9d=await getFiat();_0x173741={'date':lastBalances[_0x28fcdd(0x243)]['split']('\x20')[0x0],'eur':_0x1cbd9d[_0x28fcdd(0x2e5)],'usd':_0x1cbd9d[_0x28fcdd(0x2db)],'coins':_0x82d4a9};let _0x2b963b=dbPerformance[_0x28fcdd(0x225)](_0x28fcdd(0x2e9))[_0x28fcdd(0x2a5)]({'date':_0x173741[_0x28fcdd(0x223)]})[_0x28fcdd(0x215)]();_0x2b963b?_0x173741[_0x28fcdd(0x223)]!=config[_0x28fcdd(0x1fe)]&&dbPerformance['get']('data')[_0x28fcdd(0x2a5)]({'date':_0x173741['date']})[_0x28fcdd(0x221)](_0x173741)[_0x28fcdd(0x2d2)]():dbPerformance[_0x28fcdd(0x225)](_0x28fcdd(0x2e9))[_0x28fcdd(0x203)](_0x173741)[_0x28fcdd(0x2d2)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x449349=_0x5cc98a;let _0x4ee56c=[];if(dbPerformance[_0x449349(0x242)]('data')[_0x449349(0x215)]()){let _0x3e0bbf=dbPerformance[_0x449349(0x225)](_0x449349(0x2e9))['cloneDeep']()['sortBy'](_0x449349(0x223))[_0x449349(0x215)](),_0x43cc97=[...config['liquidity']];_0x43cc97['sort']((_0x5542f6,_0x3e12ef)=>_0x5542f6['date']>_0x3e12ef[_0x449349(0x223)]?-0x1:_0x3e12ef[_0x449349(0x223)]>_0x5542f6[_0x449349(0x223)]?0x1:0x0);let _0x401fcc=0x1,_0x526601=[],_0x410ba8=0x0;_0x3e0bbf[_0x449349(0x2d6)]()[_0x449349(0x241)]()['forEach']((_0x437b86,_0x107bfc)=>{const _0x4b3e7e=_0x449349;if(_0x43cc97[_0x410ba8]){const _0x17849c=fns[_0x4b3e7e(0x2ea)](_0x43cc97[_0x410ba8]['date'],'yyyy/MM/dd',new Date()),_0x25c036=fns[_0x4b3e7e(0x2ea)](_0x437b86[_0x4b3e7e(0x223)],_0x4b3e7e(0x306),new Date());if(fns['isEqual'](_0x17849c,fns[_0x4b3e7e(0x278)](_0x25c036,0x1))){if(_0x107bfc<_0x3e0bbf[_0x4b3e7e(0x2fa)]){let _0x33b329=0x0,_0x41f966=0x0;_0x3e0bbf[_0x3e0bbf[_0x4b3e7e(0x2fa)]-_0x107bfc-0x1][_0x4b3e7e(0x2aa)][_0x4b3e7e(0x2c6)](_0x5362f0=>{const _0xf3e36a=_0x4b3e7e;_0x41f966+=_0x5362f0[_0xf3e36a(0x2e2)]*_0x5362f0[_0xf3e36a(0x246)];}),_0x43cc97[_0x410ba8][_0x4b3e7e(0x2ed)][_0x4b3e7e(0x2c6)](_0x5e4345=>{const _0x5da8d1=_0x4b3e7e;_0x33b329+=_0x5e4345[_0x5da8d1(0x2e2)]*_0x5e4345[_0x5da8d1(0x246)];}),_0x401fcc*=_0x33b329/_0x41f966+0x1;}_0x410ba8++;}}let _0x37adc9=0x0;_0x437b86[_0x4b3e7e(0x2aa)][_0x4b3e7e(0x2c6)](_0x205cbd=>{const _0x40dc47=_0x4b3e7e;_0x37adc9+=_0x205cbd[_0x40dc47(0x2e2)]*_0x205cbd['price'];}),_0x526601[_0x3e0bbf[_0x4b3e7e(0x2fa)]-_0x107bfc-0x1]=_0x37adc9*(_0x401fcc-0x1);});let _0x1150bd=[];_0x43cc97=[...config[_0x449349(0x217)]]||[];let _0x2073a3=0x0;_0x410ba8=0x0,_0x3e0bbf['forEach']((_0x137554,_0x31333a)=>{const _0x55f41f=_0x449349;if(_0x43cc97[_0x410ba8]){const _0x26bd98=fns[_0x55f41f(0x2ea)](_0x43cc97[_0x410ba8]['date'],'yyyy/MM/dd',new Date()),_0x3520ec=fns[_0x55f41f(0x2ea)](_0x137554[_0x55f41f(0x223)],_0x55f41f(0x306),new Date()),_0x1dfbf0=fns['format'](fns['subDays'](_0x3520ec,0x1),'yyyy/MM/dd');if(fns['isEqual'](_0x26bd98,_0x3520ec)){let _0x49d521=0x0;_0x43cc97[_0x410ba8][_0x55f41f(0x2ed)][_0x55f41f(0x2c6)](_0x20aad0=>{const _0x40d052=_0x55f41f;!_0x1150bd[_0x20aad0[_0x40d052(0x2c3)]]?_0x1150bd[_0x20aad0['coin']]=_0x20aad0['number']:(_0x49d521=_0x1150bd[_0x20aad0['coin']],_0x1150bd[_0x20aad0[_0x40d052(0x2c3)]]+=_0x20aad0[_0x40d052(0x2e2)]);const _0x90bc92=_0x137554[_0x40d052(0x2aa)][_0x40d052(0x2a5)](_0x442b2d=>_0x442b2d['coin']==_0x20aad0['coin']);(!_0x90bc92||_0x90bc92[_0x40d052(0x2e2)]==0x0)&&(_0x2073a3+=(-_0x20aad0[_0x40d052(0x2e2)]-_0x49d521)*_0x20aad0['price']);}),_0x410ba8++;}}_0x137554[_0x55f41f(0x2aa)][_0x55f41f(0x2c6)]((_0x2f0990,_0x2dff38)=>{const _0x4c5acc=_0x55f41f;_0x1150bd[_0x2f0990['coin']]&&(_0x2f0990={..._0x2f0990,'initial':_0x1150bd[_0x2f0990[_0x4c5acc(0x2c3)]]}),_0x137554[_0x4c5acc(0x2aa)][_0x2dff38]=_0x2f0990;}),_0x4ee56c[_0x55f41f(0x203)]({'date':_0x137554[_0x55f41f(0x223)],'eur':_0x137554[_0x55f41f(0x2e5)],'usd':_0x137554[_0x55f41f(0x2db)],'offset':_0x526601[_0x31333a],'netoffset':_0x2073a3,'coins':_0x137554[_0x55f41f(0x2aa)]});});}return _0x4ee56c;}function emitPerformance(_0x2cd869){const _0x3018d5=_0x5cc98a;_0x2cd869[_0x3018d5(0x2fa)]!==0x0?(proxyEmit(_0x3018d5(0x1f2),_0x2cd869),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x1619bb,_0x2b2524){const _0x4ece02=_0x5cc98a;let _0x5a4cd7=0x0,_0x544e50=0x0,_0x54ee6d=0x0;_0x1619bb['coins'][_0x4ece02(0x2c6)](_0xa2204=>{const _0x1e21d9=_0x4ece02;_0x5a4cd7+=_0xa2204['number']*_0xa2204[_0x1e21d9(0x246)];});_0x2b2524&&(_0x5a4cd7+=_0x1619bb[_0x4ece02(0x271)]);if(config[_0x4ece02(0x228)]===_0x4ece02(0x265))_0x544e50=_0x5a4cd7*_0x1619bb[_0x4ece02(0x2e5)],_0x54ee6d=_0x5a4cd7*_0x1619bb[_0x4ece02(0x2db)];else{if(config[_0x4ece02(0x228)]===_0x4ece02(0x286)||config[_0x4ece02(0x228)]===_0x4ece02(0x294)||config[_0x4ece02(0x228)]===_0x4ece02(0x2a7))_0x544e50=_0x5a4cd7*_0x1619bb[_0x4ece02(0x2e5)]/_0x1619bb[_0x4ece02(0x2db)],_0x54ee6d=_0x5a4cd7;else config[_0x4ece02(0x228)]===_0x4ece02(0x227)&&(_0x544e50=_0x5a4cd7,_0x54ee6d=_0x5a4cd7*_0x1619bb[_0x4ece02(0x2db)]/_0x1619bb[_0x4ece02(0x2e5)]);}return[_0x5a4cd7,_0x544e50,_0x54ee6d];}async function getStartingBalances(_0x2a9db2,_0x1c89e8=!![]){const _0x35c3f0=_0x5cc98a;if(_0x2a9db2[_0x35c3f0(0x2fa)]!==0x0){const [_0x227e44,_0x50c572,_0x5c7dcd]=getPerf(_0x2a9db2[0x0],!![]);let _0x1caa82=[];config[_0x35c3f0(0x2bd)][_0x35c3f0(0x2c6)](_0x566bd4=>{const _0x545fd8=_0x35c3f0;let _0x26bca6=0x0;config[_0x545fd8(0x217)]['forEach'](_0x1fc872=>{const _0x433da9=_0x545fd8;let _0x10e932=_0x1fc872[_0x433da9(0x2ed)][_0x433da9(0x2a5)](_0xdd6565=>_0xdd6565[_0x433da9(0x2c3)]==_0x566bd4[_0x433da9(0x2c3)]);if(_0x10e932)_0x26bca6+=_0x10e932[_0x433da9(0x2e2)];}),_0x1caa82[_0x545fd8(0x203)]({'coin':_0x566bd4[_0x545fd8(0x2c3)],'number':_0x26bca6,'price':_0x566bd4['price']});});const _0x295de3={'basecoin':_0x227e44,'eur':_0x50c572,'usd':_0x5c7dcd,'coins':_0x1caa82};if(_0x1c89e8)proxyEmit(_0x35c3f0(0x206),_0x295de3);return _0x295de3;}}function headlessMode(_0x45f054){const _0x196f6d=_0x5cc98a;let _0x2c5f5b=_0x45f054[_0x196f6d(0x2bd)],_0x39c584=_0x45f054['threshold'],_0x3423c2=[];for(let _0x2d5f5f of _0x2c5f5b){if(_0x2d5f5f[_0x196f6d(0x2c3)]!=config[_0x196f6d(0x228)]){if(_0x2d5f5f[_0x196f6d(0x2da)]/_0x2d5f5f[_0x196f6d(0x24b)]-0x1>=_0x39c584/0x64){if(_0x2d5f5f['valid'])_0x3423c2[_0x196f6d(0x203)](_0x2d5f5f);}else{if(_0x2d5f5f[_0x196f6d(0x2da)]/_0x2d5f5f[_0x196f6d(0x24b)]-0x1<=-_0x39c584/0x64){if(_0x2d5f5f[_0x196f6d(0x2f8)])_0x3423c2[_0x196f6d(0x203)](_0x2d5f5f);}}}}_0x3423c2['length']>0x0&&placeOrder(_0x3423c2);}function notifyBalance(_0x50b2ea){const _0x29edec=_0x5cc98a;let _0x25bebe=_0x50b2ea['portfolio'],_0x3d1110=_0x50b2ea[_0x29edec(0x27a)],_0xc7a147=[];for(let _0x205e1c of _0x25bebe){if(_0x205e1c[_0x29edec(0x2c3)]!=config[_0x29edec(0x228)]){if(_0x205e1c['distribution']/_0x205e1c[_0x29edec(0x24b)]-0x1>=_0x3d1110/0x64){if(_0x205e1c['valid'])_0xc7a147[_0x29edec(0x203)](_0x205e1c);}else{if(_0x205e1c[_0x29edec(0x2da)]/_0x205e1c['target']-0x1<=-_0x3d1110/0x64){if(_0x205e1c[_0x29edec(0x2f8)])_0xc7a147[_0x29edec(0x203)](_0x205e1c);}}}}if(_0xc7a147['length']>0x0){let _0x16f0e6=_0xc7a147[_0x29edec(0x2be)](_0x4a5164=>_0x4a5164[_0x29edec(0x2c3)]);_0x16f0e6['sort']();let _0x1a86b2=_0x16f0e6[_0x29edec(0x248)](',\x20');if(lastCoinsToBalance!==_0x1a86b2)logHistory('success',_0x29edec(0x24d)+_0x1a86b2);lastCoinsToBalance=_0x1a86b2;}}function symbolToCoin(_0x42a000){const _0x31460b=_0x5cc98a;let _0x3230ad;if(_0x42a000[_0x31460b(0x261)]('/'+config[_0x31460b(0x228)]))_0x3230ad=_0x42a000[_0x31460b(0x1ed)]('/'+config['basecoin'],'');if(_0x42a000[_0x31460b(0x261)](config[_0x31460b(0x228)]+'/'))_0x3230ad=_0x42a000[_0x31460b(0x1ed)](config[_0x31460b(0x228)]+'/','');return _0x3230ad;}async function validateOrders(_0x1e1fd9=0x0){const _0x45324f=_0x5cc98a;let _0x41120c=[],_0x520c50=config[_0x45324f(0x2fb)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x45324f(0x235)]*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x21681b=>{const _0x343c04=_0x45324f;let _0x38d2b0=previousCoins[_0x343c04(0x2a5)](_0x1ad046=>_0x1ad046[_0x343c04(0x2c3)]==symbolToCoin(_0x21681b[_0x343c04(0x1fa)])),_0x5506f4=currentCoins[_0x343c04(0x2a5)](_0x2ef5e9=>_0x2ef5e9[_0x343c04(0x2c3)]==symbolToCoin(_0x21681b['symbol'])),_0x3061f0,_0x63498c;_0x21681b['side']==_0x343c04(0x27c)&&!_0x21681b[_0x343c04(0x241)]||_0x21681b[_0x343c04(0x216)]==_0x343c04(0x201)&&_0x21681b['reverse']?(_0x3061f0=_0x38d2b0[_0x343c04(0x2e2)]+0.9*_0x21681b[_0x343c04(0x23e)],_0x63498c=_0x38d2b0[_0x343c04(0x2e2)]+1.1*_0x21681b[_0x343c04(0x23e)]):(_0x3061f0=_0x38d2b0[_0x343c04(0x2e2)]-1.1*_0x21681b[_0x343c04(0x23e)],_0x63498c=_0x38d2b0['number']-0.9*_0x21681b['filled']);const _0x3456a7=_0x21681b[_0x343c04(0x23e)]!=0x0&&_0x5506f4[_0x343c04(0x2e2)]>=_0x3061f0&&_0x5506f4[_0x343c04(0x2e2)]<=_0x63498c;_0x41120c['push'](_0x3456a7);if(_0x3456a7&&config['ordertype']!=_0x343c04(0x2b5)){if(_0x21681b[_0x343c04(0x241)])logHistory('order',_0x343c04(0x259)+_0x21681b['symbol']+'\x20'+_0x21681b['side']+'\x20#'+formatResult(_0x21681b[_0x343c04(0x23e)]/_0x21681b[_0x343c04(0x246)],0x8)+'\x20@'+formatResult(_0x21681b[_0x343c04(0x246)],0x8));else logHistory(_0x343c04(0x2a8),_0x343c04(0x259)+_0x21681b[_0x343c04(0x1fa)]+'\x20'+_0x21681b['side']+'\x20#'+formatResult(_0x21681b[_0x343c04(0x23e)],0x8)+'\x20@'+formatResult(_0x21681b[_0x343c04(0x246)],0x8));}}),_0x41120c[_0x45324f(0x2c6)]((_0x5913e6,_0x749e6b)=>{const _0x2b89d0=_0x45324f;if(_0x5913e6)lastOrders[_0x2b89d0(0x2f3)](_0x749e6b,0x1);});if(_0x1e1fd9<_0x520c50&&_0x41120c[_0x45324f(0x261)](![])){if(_0x1e1fd9==0x0){config[_0x45324f(0x2fb)]==_0x45324f(0x2b5)?logHistory('error',_0x45324f(0x232)):logHistory('error',_0x45324f(0x1fc));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x1e1fd9);},0xa*0x3e8);}else{(_0x1e1fd9==0x1||_0x1e1fd9==Math[_0x45324f(0x2ab)](_0x520c50/0x2)||_0x1e1fd9==_0x520c50-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x1e1fd9);},validateOrderInterval);}}else{lockOrders=![];if(_0x1e1fd9>0x0&&!_0x41120c[_0x45324f(0x261)](![]))config[_0x45324f(0x2fb)]==_0x45324f(0x2b5)?logHistory(_0x45324f(0x2ac),_0x45324f(0x27e)):logHistory('success',_0x45324f(0x2d5));else _0x1e1fd9>0x0&&_0x41120c[_0x45324f(0x261)](![])&&(config[_0x45324f(0x2fb)]==_0x45324f(0x2b5)?logHistory(_0x45324f(0x2ac),_0x45324f(0x2cb)+Math[_0x45324f(0x2ab)](_0x520c50*validateOrderInterval/0xea60)+_0x45324f(0x25b)):(lastOrders[_0x45324f(0x2c6)](async _0x8fd36c=>{const _0x3d4db3=_0x45324f;try{const _0x44173c=await exchange[_0x3d4db3(0x2ec)](_0x8fd36c[_0x3d4db3(0x218)],_0x8fd36c[_0x3d4db3(0x1fa)]);}catch(_0x572190){if(_0x572190[_0x3d4db3(0x1f5)]()['includes']('OrderNotFound')){}else await handleError(_0x572190,_0x3d4db3(0x2f5));}}),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x45324f(0x2ab)](_0x520c50*validateOrderInterval/0xea60)+_0x45324f(0x25b))));}}async function resetCoinResults(){const _0x40d3db=_0x5cc98a;dbCoinResults['get'](_0x40d3db(0x2aa))[_0x40d3db(0x29a)]()[_0x40d3db(0x2d2)]();let _0x2b8647=await getStartingBalances(getNormalizedPerformance(),![]);_0x2b8647[_0x40d3db(0x2aa)][_0x40d3db(0x2c6)](_0x5aee53=>{const _0x1bcf32=_0x40d3db;if(_0x5aee53[_0x1bcf32(0x2c3)]!=config['basecoin']){let _0x40cf9d={'coin':_0x5aee53['coin'],'number':_0x5aee53[_0x1bcf32(0x2e2)],'breakeven':_0x5aee53['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1bcf32(0x225)](_0x1bcf32(0x2aa))[_0x1bcf32(0x203)](_0x40cf9d)['write']();}});}async function updateCoinResults(_0x4b945b){const _0x2b319b=_0x5cc98a;let _0x6aa11d,_0x390075,_0x18083d,_0x4d4669,_0xae960a,_0x2314f7,_0x5bd5b5=dbCoinResults[_0x2b319b(0x225)]('coins')[_0x2b319b(0x2a5)]({'coin':_0x4b945b[_0x2b319b(0x2c3)]})[_0x2b319b(0x215)]();if(!_0x5bd5b5)return;if(_0x4b945b['fee']&&_0x4b945b[_0x2b319b(0x29c)][_0x2b319b(0x219)]==config[_0x2b319b(0x228)])_0x6aa11d=_0x4b945b[_0x2b319b(0x29c)][_0x2b319b(0x272)];else{if(_0x4b945b['fee']&&_0x4b945b['fee'][_0x2b319b(0x219)]==_0x2b319b(0x2bb))_0x6aa11d=_0x4b945b[_0x2b319b(0x29c)][_0x2b319b(0x272)]*global['ticker'][_0x2b319b(0x2bb)+config['basecoin']];else _0x6aa11d=0.001*_0x4b945b[_0x2b319b(0x23e)];}const _0x382478=_0x4b945b['symbol'][_0x2b319b(0x261)](config[_0x2b319b(0x228)]+'/');_0x382478&&(_0x2314f7={'coin':_0x4b945b[_0x2b319b(0x2c3)],'symbol':_0x4b945b[_0x2b319b(0x1fa)],'filled':_0x4b945b[_0x2b319b(0x23e)]*_0x4b945b[_0x2b319b(0x246)],'side':_0x4b945b[_0x2b319b(0x216)]==_0x2b319b(0x201)?_0x2b319b(0x27c):'sell','price':0x1/_0x4b945b['price']},_0x4b945b={..._0x2314f7});_0x4b945b[_0x2b319b(0x216)]=='buy'?_0x18083d=(_0x5bd5b5['breakeven']*_0x5bd5b5['number']+_0x4b945b[_0x2b319b(0x246)]*_0x4b945b['filled'])/(_0x5bd5b5[_0x2b319b(0x2e2)]+_0x4b945b[_0x2b319b(0x23e)]):_0x18083d=(_0x5bd5b5[_0x2b319b(0x240)]*_0x5bd5b5[_0x2b319b(0x2e2)]-_0x4b945b[_0x2b319b(0x246)]*_0x4b945b[_0x2b319b(0x23e)])/(_0x5bd5b5[_0x2b319b(0x2e2)]-_0x4b945b['filled']);_0x4b945b[_0x2b319b(0x216)]==_0x2b319b(0x27c)?_0x4d4669=_0x5bd5b5[_0x2b319b(0x2f7)]:_0x4d4669=_0x5bd5b5[_0x2b319b(0x2f7)]+(_0x4b945b[_0x2b319b(0x246)]-_0x5bd5b5[_0x2b319b(0x240)])*_0x4b945b[_0x2b319b(0x23e)];_0x390075=_0x4b945b[_0x2b319b(0x216)]==_0x2b319b(0x201)?_0x5bd5b5[_0x2b319b(0x2e2)]-_0x4b945b['filled']:_0x5bd5b5[_0x2b319b(0x2e2)]+_0x4b945b[_0x2b319b(0x23e)],_0xae960a=(_0x4b945b[_0x2b319b(0x246)]-_0x18083d)*_0x390075;let _0xadd565={'coin':_0x4b945b[_0x2b319b(0x2c3)],'number':_0x390075,'breakeven':formatResult(_0x18083d,0x8),'realized':formatResult(_0x4d4669,0x8),'unrealized':formatResult(_0xae960a,0x8),'fees':formatResult(_0x5bd5b5[_0x2b319b(0x2eb)]+_0x6aa11d,0x8),'sells':_0x4b945b[_0x2b319b(0x216)]==_0x2b319b(0x201)?_0x5bd5b5[_0x2b319b(0x212)]+0x1:_0x5bd5b5[_0x2b319b(0x212)],'buys':_0x4b945b['side']=='buy'?_0x5bd5b5['buys']+0x1:_0x5bd5b5[_0x2b319b(0x29f)]};dbCoinResults['get'](_0x2b319b(0x2aa))['find']({'coin':_0x4b945b[_0x2b319b(0x2c3)]})[_0x2b319b(0x221)](_0xadd565)[_0x2b319b(0x2d2)]();}async function placeOrder(_0x3214e6){const _0x178bc3=_0x5cc98a,_0x5938c2=config['ordertype']=='market'?_0x178bc3(0x2b5):_0x178bc3(0x2bc);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x178bc3(0x2ea)](JSON[_0x178bc3(0x2cf)](currentCoins));for(const _0x5eceb8 of _0x3214e6){let _0x506d53,_0x501753,_0x3c4fce,_0x2e548d,_0xce9b97,_0x219002=_0x5eceb8[_0x178bc3(0x1fa)];try{const _0x4ca9cd=await exchange['fetchTickers'](_0x219002),_0x4d8b29=_0x4ca9cd[_0x219002];_0x506d53=_0x4d8b29['last'],_0x501753=_0x4d8b29['bid'],_0x3c4fce=_0x4d8b29['ask'];_0x5eceb8[_0x178bc3(0x241)]?(_0x2e548d=_0x5eceb8[_0x178bc3(0x216)]==_0x178bc3(0x27c)?_0x178bc3(0x201):_0x178bc3(0x27c),_0xce9b97=Math['abs'](_0x5eceb8[_0x178bc3(0x22e)])/_0x506d53):(_0x2e548d=_0x5eceb8[_0x178bc3(0x216)],_0xce9b97=Math['abs'](_0x5eceb8['trade']));_0x5938c2==_0x178bc3(0x2bc)&&(config[_0x178bc3(0x2fb)]==_0x178bc3(0x2c1)&&(_0x506d53=_0x2e548d==_0x178bc3(0x27c)?_0x501753:_0x3c4fce),config[_0x178bc3(0x2fb)]=='limit-low'&&(_0x506d53=_0x2e548d==_0x178bc3(0x27c)?_0x3c4fce:_0x501753));_0xce9b97=formatResult(_0xce9b97,0x8),_0x506d53=formatResult(_0x506d53,0x8);const _0x332276=await exchange['createOrder'](_0x219002,_0x5938c2,_0x2e548d,_0xce9b97,_0x506d53);lastOrders[_0x178bc3(0x203)]({'orderId':_0x332276['id'],'symbol':_0x219002,'side':_0x2e548d,'reverse':_0x5eceb8[_0x178bc3(0x241)],'amount':_0x5eceb8[_0x178bc3(0x241)]?_0x332276[_0x178bc3(0x2d9)]*_0x332276[_0x178bc3(0x246)]:_0x332276['amount'],'filled':_0x5eceb8[_0x178bc3(0x241)]?_0x332276[_0x178bc3(0x23e)]*_0x332276[_0x178bc3(0x246)]:_0x332276[_0x178bc3(0x23e)],'price':_0x332276[_0x178bc3(0x246)]});const _0x55cf22=_0x2e548d==_0x178bc3(0x201)?config[_0x178bc3(0x220)]?String['fromCodePoint']('0x'+config[_0x178bc3(0x220)])+'\x20':'':config[_0x178bc3(0x26c)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x2ee675=_0x5938c2=='market'?'Market':config[_0x178bc3(0x2fb)]=='limit-high'?_0x178bc3(0x28b):_0x178bc3(0x296);if(_0x5938c2==_0x178bc3(0x2b5))logHistory(_0x178bc3(0x2a8),''+_0x55cf22+_0x2ee675+_0x178bc3(0x20c)+_0x219002+'\x20'+_0x2e548d+'\x20#'+formatResult(_0x332276[_0x178bc3(0x23e)],0x8)+'\x20@'+formatResult(_0x332276[_0x178bc3(0x246)],0x8));else logHistory(_0x178bc3(0x2a8),''+_0x55cf22+_0x2ee675+_0x178bc3(0x20c)+_0x219002+'\x20'+_0x2e548d+'\x20#'+formatResult(_0x332276[_0x178bc3(0x2d9)],0x8)+'\x20@'+formatResult(_0x332276[_0x178bc3(0x246)],0x8));_0x332276['coin']=_0x5eceb8[_0x178bc3(0x2c3)],await updateCoinResults(_0x332276);if(config[_0x178bc3(0x291)]!=0x0){let _0xae588b=null;if(cooldownTracker[_0x178bc3(0x2fa)]==config[_0x178bc3(0x291)]-0x1)_0xae588b=cooldownTracker['shift']();const _0x596cf3=getTimeStamp();cooldownTracker[_0x178bc3(0x203)](_0x596cf3);if(_0xae588b){const _0xf4ae24=fns[_0x178bc3(0x22f)](new Date(_0x596cf3),new Date(_0xae588b));_0xf4ae24<cooldownInterval&&(logHistory(_0x178bc3(0x244),_0x178bc3(0x281)+config[_0x178bc3(0x291)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x178bc3(0x1ea)+cooldownPeriod/(0xe10*0x3e8)+_0x178bc3(0x2de)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x29fff9){if(_0x29fff9[_0x178bc3(0x1f5)]()[_0x178bc3(0x261)](_0x178bc3(0x200)))logHistory('error',_0x178bc3(0x20a)+_0x219002);else{if(_0x29fff9['toString']()[_0x178bc3(0x261)](_0x178bc3(0x21a)))logHistory(_0x178bc3(0x244),_0x178bc3(0x270)+_0x219002);else await handleError(_0x29fff9,'placeOrder()');}}}if(lastOrders[_0x178bc3(0x2fa)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config['headless']&&(config[_0x178bc3(0x2fb)]==_0x178bc3(0x2b5)?logHistory(_0x178bc3(0x244),_0x178bc3(0x1ff)):logHistory(_0x178bc3(0x244),_0x178bc3(0x276)));else coolingDown&&(!config[_0x178bc3(0x2a9)]&&logHistory('error',_0x178bc3(0x2ca)));}}function logHistory(_0x466c36,_0x49741c,_0x2d9bf4=''){const _0x5ee3ff=_0x5cc98a;let _0x1d6835={'time':getTimeStamp(),'type':_0x466c36,'event':_0x49741c};dbLogs['get']('logs')[_0x5ee3ff(0x203)](_0x1d6835)[_0x5ee3ff(0x2d2)]();if(_0x2d9bf4=='')_0x2d9bf4=_0x49741c;proxyEmit(_0x5ee3ff(0x25a),{'log':_0x1d6835,'summary':_0x2d9bf4}),process['send']({'telegram':{..._0x1d6835,'botname':config[_0x5ee3ff(0x2d8)],'showname':config[_0x5ee3ff(0x2a1)]}},_0x30324b=>{}),logging(''+_0x1d6835[_0x5ee3ff(0x25a)]);}function emitHistory(_0x26290a={}){const _0x54d3d9=_0x5cc98a;Object['keys'](_0x26290a)[_0x54d3d9(0x2fa)]==0x0&&(_0x26290a={'type':[_0x54d3d9(0x2a8),_0x54d3d9(0x25a)],'event':'','page':0x1});if(_0x26290a['type']['includes'](_0x54d3d9(0x25a)))_0x26290a['type'][_0x54d3d9(0x2f3)](_0x26290a['type']['indexOf']('event'),0x1,_0x54d3d9(0x244),_0x54d3d9(0x2ac));if(dbLogs[_0x54d3d9(0x242)]('logs')[_0x54d3d9(0x215)]()){let _0x4a69cc=dbLogs[_0x54d3d9(0x225)](_0x54d3d9(0x29e))['filter'](_0x292b70=>{const _0x23f166=_0x54d3d9;if(_0x26290a['type'][_0x23f166(0x2fa)]==0x0)return![];else return _0x26290a['type'][_0x23f166(0x261)](_0x292b70[_0x23f166(0x1f8)]);})[_0x54d3d9(0x25d)](_0x1954ff=>{const _0x7a69a=_0x54d3d9;if(_0x26290a[_0x7a69a(0x25a)]=='')return!![];else return _0x1954ff[_0x7a69a(0x25a)][_0x7a69a(0x288)]()[_0x7a69a(0x261)](_0x26290a[_0x7a69a(0x25a)]['toLowerCase']());})[_0x54d3d9(0x283)](_0x54d3d9(0x243)),_0x556770=_0x4a69cc['value']()[_0x54d3d9(0x2fa)];_0x4a69cc=_0x4a69cc[_0x54d3d9(0x241)]()[_0x54d3d9(0x2d6)]((_0x26290a[_0x54d3d9(0x293)]-0x1)*logPageSize,_0x26290a[_0x54d3d9(0x293)]*logPageSize-0x1)[_0x54d3d9(0x241)]()['value'](),proxyEmit('event-history',{'logs':_0x4a69cc,'total':_0x556770});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2b7132){const _0x538e22=_0x5cc98a;if(dbLogs[_0x538e22(0x242)](_0x538e22(0x29e))[_0x538e22(0x215)]()){const _0x105e39=dbLogs[_0x538e22(0x225)](_0x538e22(0x29e))[_0x538e22(0x283)](_0x538e22(0x243))[_0x538e22(0x25d)](_0x58883d=>{const _0x25ea05=_0x538e22;return _0x58883d['type']==_0x25ea05(0x2a8);})[_0x538e22(0x215)]();dbLogs['get']('logs')[_0x538e22(0x29a)]()[_0x538e22(0x2d2)](),dbLogs[_0x538e22(0x225)](_0x538e22(0x29e))[_0x538e22(0x221)](_0x105e39)[_0x538e22(0x2d2)](),emitHistory(_0x2b7132);}}async function pauseBot(_0xe0d3f2){const _0x3ae299=_0x5cc98a,_0x484e9c=new Date()[_0x3ae299(0x233)]();if(!lastBotPause)lastBotPause=new Date()[_0x3ae299(0x233)](),consecutivePauses=0x1;else{if(_0x484e9c-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x3ae299(0x255)]({'stop':'restart'},_0x36824c=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x3ae299(0x233)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x3ae299(0x244),'Pausing\x20bot\x20for\x205\x20minutes\x20('+consecutivePauses+')'),await sleep(_0xe0d3f2),botPaused=![],reset();}}async function handleError(_0x730232,_0x22e13f,_0x2d21a6=''){const _0x53eca0=_0x5cc98a;if(_0x730232['toString']()[_0x53eca0(0x261)](_0x53eca0(0x2cc)))logHistory('error',_0x22e13f+_0x53eca0(0x279)),await pauseBot(pauseBotInterval);else{if(_0x730232[_0x53eca0(0x1f5)]()[_0x53eca0(0x261)]('ExchangeNotAvailable'))logHistory(_0x53eca0(0x244),_0x22e13f+_0x53eca0(0x22c)),await pauseBot(pauseBotInterval);else{if(_0x730232['toString']()[_0x53eca0(0x261)](_0x53eca0(0x2cd)))logHistory(_0x53eca0(0x244),_0x22e13f+_0x53eca0(0x2df)),await pauseBot(pauseBotInterval);else{if(_0x730232[_0x53eca0(0x1f5)]()[_0x53eca0(0x261)](_0x53eca0(0x298)))logHistory(_0x53eca0(0x244),_0x22e13f+_0x53eca0(0x210)),logHistory(_0x53eca0(0x244),_0x53eca0(0x214)),process[_0x53eca0(0x255)]({'stop':_0x53eca0(0x274)},_0x3f6596=>{});else{if(_0x730232[_0x53eca0(0x1f5)]()[_0x53eca0(0x261)](_0x53eca0(0x2b9)))logHistory(_0x53eca0(0x244),_0x22e13f+_0x53eca0(0x202)),logHistory('error',_0x53eca0(0x214)),process[_0x53eca0(0x255)]({'stop':_0x53eca0(0x274)},_0x464b16=>{});else{if(_0x730232[_0x53eca0(0x1f5)]()['includes'](_0x53eca0(0x2e8)))logHistory(_0x53eca0(0x244),_0x22e13f+_0x53eca0(0x2ae)),logHistory(_0x53eca0(0x244),_0x53eca0(0x214)),process[_0x53eca0(0x255)]({'stop':'kill'},_0x5c7a76=>{});else{if(_0x730232[_0x53eca0(0x1f5)]()[_0x53eca0(0x261)](_0x53eca0(0x269)))logHistory('error',_0x22e13f+_0x53eca0(0x24a)),logHistory(_0x53eca0(0x244),_0x53eca0(0x214)),process[_0x53eca0(0x255)]({'stop':'kill'},_0x26d65d=>{});else{if(_0x730232[_0x53eca0(0x1f5)]()[_0x53eca0(0x261)]('InvalidNonce'))logHistory(_0x53eca0(0x244),_0x22e13f+_0x53eca0(0x289)),await pauseBot(pauseBotInterval),process[_0x53eca0(0x255)]({'stop':_0x53eca0(0x2f6)},_0x536892=>{});else _0x730232['toString']()[_0x53eca0(0x261)](_0x53eca0(0x2dc))?logHistory(_0x53eca0(0x244),_0x22e13f+_0x53eca0(0x299)):(logHistory('error',_0x22e13f+_0x53eca0(0x1ec)),logging(_0x22e13f+_0x53eca0(0x297),_0x730232),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x16ffa0,_0x322dd2){return parseFloat(_0x16ffa0['toFixed'](_0x322dd2));}function logging(_0x4a62d4,_0x1b683c=''){const _0x370d92=_0x5cc98a;if(config['showname'])console[_0x370d92(0x1f9)](getTimeStamp()+':\x20'+config[_0x370d92(0x2d8)]+_0x370d92(0x28c)+_0x4a62d4,_0x1b683c);else console[_0x370d92(0x1f9)](getTimeStamp()+':\x20Bot\x20'+botID+_0x370d92(0x28c)+_0x4a62d4,_0x1b683c);}function getServerTime(){const _0xd37a5c=_0x5cc98a,_0x14bf7e=new Date();return _0x14bf7e[_0xd37a5c(0x2fc)]()+'/'+(_0x14bf7e[_0xd37a5c(0x304)]()+0x1)[_0xd37a5c(0x1f5)]()[_0xd37a5c(0x301)](0x2,'0')+'/'+_0x14bf7e[_0xd37a5c(0x29b)]()['toString']()[_0xd37a5c(0x301)](0x2,'0')+'\x20'+_0x14bf7e[_0xd37a5c(0x2ba)]()[_0xd37a5c(0x1f5)]()[_0xd37a5c(0x301)](0x2,'0')+':'+_0x14bf7e[_0xd37a5c(0x1f1)]()[_0xd37a5c(0x1f5)]()['padStart'](0x2,'0')+':'+_0x14bf7e[_0xd37a5c(0x2ee)]()[_0xd37a5c(0x1f5)]()[_0xd37a5c(0x301)](0x2,'0');}function getTimeStamp(){const _0x5ddddd=_0x5cc98a,_0x56ad6b=shiftedTime();return _0x56ad6b['getFullYear']()+'/'+(_0x56ad6b['getMonth']()+0x1)[_0x5ddddd(0x1f5)]()['padStart'](0x2,'0')+'/'+_0x56ad6b[_0x5ddddd(0x29b)]()[_0x5ddddd(0x1f5)]()[_0x5ddddd(0x301)](0x2,'0')+'\x20'+_0x56ad6b['getHours']()[_0x5ddddd(0x1f5)]()['padStart'](0x2,'0')+':'+_0x56ad6b['getMinutes']()[_0x5ddddd(0x1f5)]()[_0x5ddddd(0x301)](0x2,'0')+':'+_0x56ad6b['getSeconds']()[_0x5ddddd(0x1f5)]()[_0x5ddddd(0x301)](0x2,'0');}function getDate(){const _0xc084d=_0x5cc98a,_0x3d5c4c=shiftedTime();return _0x3d5c4c[_0xc084d(0x2fc)]()+'/'+(_0x3d5c4c[_0xc084d(0x304)]()+0x1)[_0xc084d(0x1f5)]()[_0xc084d(0x301)](0x2,'0')+'/'+_0x3d5c4c['getDate']()[_0xc084d(0x1f5)]()[_0xc084d(0x301)](0x2,'0');}function getHour(){const _0x4a771a=_0x5cc98a,_0xc7512b=shiftedTime();return _0xc7512b[_0x4a771a(0x2ba)]()[_0x4a771a(0x1f5)]()[_0x4a771a(0x301)](0x2,'0');}function sleep(_0x5cc01c){return new Promise(_0x3aa290=>setTimeout(_0x3aa290,_0x5cc01c));}function shiftedTime(){const _0x87121c=_0x5cc98a,_0xc57b0a=new Date();let _0x453f65=_0xc57b0a;if(config&&config['timeshift']!==0x0)_0x453f65=fns[_0x87121c(0x292)](_0xc57b0a,{'hours':config[_0x87121c(0x26e)]});return _0x453f65;}