const _0x5132c3=_0x566a;(function(_0x372644,_0x391697){const _0x57698e=_0x566a,_0x5a199e=_0x372644();while(!![]){try{const _0x4c0719=-parseInt(_0x57698e(0x15d))/0x1+-parseInt(_0x57698e(0x201))/0x2+parseInt(_0x57698e(0x210))/0x3+-parseInt(_0x57698e(0x20c))/0x4*(-parseInt(_0x57698e(0x128))/0x5)+parseInt(_0x57698e(0xc3))/0x6+parseInt(_0x57698e(0xc5))/0x7*(parseInt(_0x57698e(0x1fc))/0x8)+parseInt(_0x57698e(0x106))/0x9*(-parseInt(_0x57698e(0x211))/0xa);if(_0x4c0719===_0x391697)break;else _0x5a199e['push'](_0x5a199e['shift']());}catch(_0x27b92b){_0x5a199e['push'](_0x5a199e['shift']());}}}(_0x2ba7,0x92e1d));const _0x568f2d=function(){let _0x2fda10=!![];return function(_0x2d5beb,_0x50bb87){const _0xacd0bb=_0x2fda10?function(){const _0x395ae9=_0x566a;if(_0x50bb87){const _0x55ad1a=_0x50bb87[_0x395ae9(0xe3)](_0x2d5beb,arguments);return _0x50bb87=null,_0x55ad1a;}}:function(){};return _0x2fda10=![],_0xacd0bb;};}(),_0x4d5396=_0x568f2d(this,function(){const _0x41d465=_0x566a;return _0x4d5396['toString']()[_0x41d465(0x1f7)](_0x41d465(0xd4))[_0x41d465(0x1f1)]()[_0x41d465(0x123)](_0x4d5396)[_0x41d465(0x1f7)]('(((.+)+)+)+$');});_0x4d5396();function _0x2ba7(){const _0x5c8c7d=['restart','wss://stream.binance.us:9443','API\x20or\x20clock\x20sync\x20issue','NEW','startnumber','\x20>\x20[DEBUG]\x20','getStartingBalances','createWriteStream','cloneDeep','findIndex','ORDERS.UNLOCKING','settings','loadSymbols()','coin','close','assign','fiat','leftTxt','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','privateKey','loading-canceled','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','LOCKED','constructor','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','find','userData','liquidity','10HvGpDu','<pre>','performance','net-fiat','toLowerCase','\x20-\x20bot\x20not\x20started','initial','filled','BNB/','loadMarkets','-------------------------------\x0a','min','yyyy-MM-dd\x27T\x27HH:mm:ss','fromCodePoint','Bot\x20','symbol','001','USDT','hybrid-crypto-js','time','net-basecoin','differenceInSeconds','cancelLoading','date','version','realized','API-key\x20format\x20invalid','formattedMessage','\x20|\x20','ongoing','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','emojibuy','total','\x20-\x20','exit','toggleBotMode','showConfig','trade','-results.json','limit-low','\x20value','number','3\x20-\x20handling\x20FILLED\x20order:\x20','format','sell','currency','BTC','ask','\x20order:\x20','parseISO','balancing\x20resumes\x20when\x20cooldown\x20ends','date-fns','sort','761864lULlzR','bot','secure','InsufficientFunds','Order\x20filled:\x20','subscribeSpotUserDataStream','binance','split','configuration-stored','logs','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','2\x20-\x20FILLED\x20known\x20order:\x20','\x20:\x20','buys','exec','startdate','rightTxt','Executed\x20','max','************','event','parse','remove','existsSync','bot-','getTime','remainingSymbols','lowdb','DDoSProtection','recreateCoinResults()','getDate','toFixed','getSeconds','push','/output-000.log','datetime','initclient','replace','padStart','add','BUSD','subscribeSpotKline','freeze','kill','filter','threshold','ticker','customId','argv','timeshift','fetchOpenOrders','event-history','Manual\x20balancing\x20required','getOpenOrders()','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','Crypt','wsKey','has','apiSecret','progress','options','showname','Binance\x20not\x20available\x20(2)','canceled','eur','cancelOrder','set','abs','Order\x20amount\x20is\x20invalid:\x20','initws()','distribution','startprice','Market','DAI/','botname','getFiat()','join','getPortfolio','reconnected','getMinutes','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','UNLOCKING','changes','WebSockets(','amount','commission','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','limits','side','basecoin','ETH','EUR','write','openOrders','getHours','2.3.5','isEqual','buy','keys','\x20portfolio:</b>\x20\x0a\x0a','eventType','orderStatus','fetchTickers','Cooldown\x20ended\x20-\x20balancing\x20resumed','ORDERS.LOCKED','Order(s)\x20filled\x20-\x20','orderId','.json','wsMarket','length','starting-balance-','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','wss://stream.binance.com:9443','Limit\x20(low-margin)','lowdb/adapters/FileSync','-performance.json','delta','bid','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','open','2.5.0','accumulatedQuantity','balancing\x20resumed','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','portfolio','limit-high','Binance\x20API\x20secret\x20is\x20invalid','cumulativeQuoteAssetTransactedQty','starting-balances','\x20orders\x20in\x20less\x20than\x20','coin-loading-progress','send','storeHeadless','args','AuthenticationError','Binance\x20API\x20key\x20is\x20invalid','fetchBalance','ExchangeNotAvailable','HOT/BTC','stringify','cooldown','decrypt','spot','\x20|\x20Binance\x20API\x20secret\x20invalid','timeout','indexOf','priceChangePercent','deleteHistoryAlerts','toString','RequestTimeout','storeConfiguration','BNB','1\x20-\x20Handle\x20open\x20orders','slice','search','Net\x20effect','UNLOCKED','isArray','warning','4952lZSIFW','data','newClientOrderId','market','Binance\x20API\x20blocked','1376672rOAkRL','XEM/BUSD','ORDERS.UNLOCKED','value',':\x20Bot\x20','\x20change','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','Binance\x20not\x20responding','message','</pre>','2\x20-\x20FILLED\x20unknown\x20order:\x20','2178916dZcpfR','round','2\x20-\x20Handled\x20open\x20orders','\x20|\x20Binance\x20API\x20key\x20invalid','1258233wAIIKT','10iEKXsn','fee','NANO/','yyyy/MM/dd','change','excluded','splice','breakeven','page','fees','no\x20open\x20orders','createOrder','full','-events.json','Failed\x20to\x20load\x20coin\x20data\x20for\x20','./config/','usd','\x20>\x20','sortBy','coins','util','cancelOrders()','price','recreate','/USDT','forEach','reverse','order','writeFile','headless','3073860DjclHQ','includes','5124PHbTON','log','target','./logs/','1\x20-\x20FILLED:\x20','getCoins()','***','none','\x20minutes','entries','getFullYear','last','balances','test','FILLED','(((.+)+)+)+$','CANCELED','api_key','wsUrl','botID','valid','\x20|\x20Error\x20details:\x20','map','get','ordertype','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','HOT/EUR','Unknown\x20error\x20occured','cost','\x20|\x20lock\x20orders:\x20','apply','offset','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','kline','_events','final','configuration','apiKey','%\x20\x0a','binanceus','cancel','Order(s)\x20not\x20validated\x20after\x20','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','exchange','2\x20-\x20Validate\x20orders:\x20','change24h','<b>','function','type','0\x20-\x20EXECUTION:\x20','Binance\x20not\x20available\x20(1)','RSA-OAEP','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','defaults','\x20hour','precision','error','orderstatus','limit','getMonth','enabled','Unfilled\x20order(s)\x20canceled\x20after\x20','getPortfolio()','success','emojisell','3802122vbJEyd','symbols','debug','fetchClosedOrders','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','uncaughtException'];_0x2ba7=function(){return _0x5c8c7d;};return _0x2ba7();}'use strict';const ccxt=require('ccxt'),low=require(_0x5132c3(0x178)),FileSync=require(_0x5132c3(0x1cf)),fs=require('fs'),fns=require(_0x5132c3(0x15b)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x5132c3(0x163)),Crypt=require(_0x5132c3(0x13a))[_0x5132c3(0x194)],util=require(_0x5132c3(0xb9));let exchange,wsClient;global[_0x5132c3(0x18b)]={},global[_0x5132c3(0x215)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x5132c3(0x1a6),_0x5132c3(0x1e7),_0x5132c3(0xdf),_0x5132c3(0x202),_0x5132c3(0x213),'YOYOW/'];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5132c3(0x187)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5132c3(0x1f9)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')['version'],botID=process['argv'][0x2]||_0x5132c3(0x138),pattern=/^[0-9]{3}$/;!pattern[_0x5132c3(0xd2)](botID)&&(console[_0x5132c3(0xc6)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x5132c3(0x14a)](0x1));const userID=process[_0x5132c3(0x18d)][0x3]||'',configpath=userID?_0x5132c3(0xb4)+userID+'/':_0x5132c3(0xb4),logspath=userID?_0x5132c3(0xc8)+userID+'/':_0x5132c3(0xc8),loggerfile=fs[_0x5132c3(0x113)](logspath+_0x5132c3(0x17f),{'flags':'a'});!fs[_0x5132c3(0x174)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x5132c3(0x174)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+_0x5132c3(0x175)+botID+_0x5132c3(0xb2),performancefile=configpath+_0x5132c3(0x175)+botID+_0x5132c3(0x1d0),coinresultsfile=configpath+_0x5132c3(0x175)+botID+_0x5132c3(0x14e),settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x5132c3(0x1b9)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5132c3(0xfa)]({'data':[]})[_0x5132c3(0x1b9)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x5132c3(0x1b9)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5132c3(0xfa)]({'coins':[]})[_0x5132c3(0x1b9)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0xec8f11)=>{},'debug':(..._0x2c016b)=>{},'notice':(..._0x531df6)=>{},'info':(..._0x42ec74)=>{},'warning':(..._0x24fb2f)=>{},'error':async function(..._0x38d452){const _0x506707=_0x5132c3,_0x3815b2=new Date()[_0x506707(0x176)]();if(!lastErrorShown||_0x3815b2-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x506707(0x176)]();let _0x49e099='';if(_0x38d452[0x0])_0x49e099+=_0x38d452[0x0];if(_0x38d452[0x1]&&_0x38d452[0x1][_0x506707(0xfd)]&&_0x38d452[0x1][_0x506707(0xfd)][_0x506707(0x209)])_0x49e099+=_0x506707(0x149)+_0x38d452[0x1][_0x506707(0xfd)]['message'];logger[_0x506707(0xb1)](_0x506707(0x1b0)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x49e099),await pauseBot(_0x506707(0xf7));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':'sha256','rsaStandard':_0x5132c3(0xf8)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x245f32=>{const _0x14190a=_0x5132c3;console[_0x14190a(0xc6)](_0x245f32);},'simple':_0x4bcd8a=>{const _0x813118=_0x5132c3;console[_0x813118(0xc6)](_0x4bcd8a),loggerfile[_0x813118(0x1b9)](util[_0x813118(0x153)](_0x4bcd8a)+'\x0a');},'full':async(_0x5abfc3,_0x5a6d04='')=>{const _0x43567d=_0x5132c3;let _0x390ab0;if(config[_0x43567d(0x19a)])_0x390ab0=getTimeStamp()+':\x20'+config['botname']+_0x43567d(0xb6)+_0x5abfc3;else _0x390ab0=getTimeStamp()+':\x20Bot\x20'+botID+_0x43567d(0xb6)+_0x5abfc3;console[_0x43567d(0xc6)](_0x390ab0),loggerfile[_0x43567d(0x1b9)](util[_0x43567d(0x153)](_0x390ab0)+'\x0a'),_0x5a6d04&&(console[_0x43567d(0xc6)](_0x5a6d04),loggerfile[_0x43567d(0x1b9)](util[_0x43567d(0x153)](_0x5a6d04)+'\x0a'));},'debug':async(_0x43bd6e,_0x441cc2='')=>{const _0x408be5=_0x5132c3;let _0x5de542;if(config['showname'])_0x5de542=getTimeStamp()+':\x20'+config['botname']+_0x408be5(0x111)+_0x43bd6e;else _0x5de542=getTimeStamp()+_0x408be5(0x205)+botID+_0x408be5(0x111)+_0x43bd6e;if(debugLoggingScreen)console[_0x408be5(0xc6)](_0x5de542);loggerfile[_0x408be5(0x1b9)](util[_0x408be5(0x153)](_0x5de542)+'\x0a');if(_0x441cc2){if(debugLoggingScreen)console[_0x408be5(0xc6)](_0x441cc2);loggerfile[_0x408be5(0x1b9)](util['format'](_0x441cc2)+'\x0a');}}};process['on'](_0x5132c3(0x10b),function(_0x4f619e){logger['simple'](_0x4f619e);});settings['timeshift']!=config[_0x5132c3(0x18e)]&&updateTimeshift(settings[_0x5132c3(0x18e)]);process[_0x5132c3(0x1e0)]({'started':'running'},_0x131408=>{}),initializeProcessListeners();function proxyEmit(_0x1f4d56,_0x2fdd0f=null){process['send']({'function':_0x1f4d56,'args':_0x2fdd0f},_0x1e11f4=>{});}function initializeProcessListeners(){const _0x46adb1=_0x5132c3;process['on'](_0x46adb1(0x209),_0x4c22e4=>{const _0x59f462=_0x46adb1;switch(Object[_0x59f462(0x1bf)](_0x4c22e4)[0x0]){case _0x59f462(0x18e):_0x4c22e4[_0x59f462(0x18e)]!=undefined&&(settings[_0x59f462(0x18e)]=_0x4c22e4['timeshift'],updateTimeshift(settings['timeshift']));break;case'function':switch(_0x4c22e4[_0x59f462(0xf4)]){case _0x59f462(0x181):initclient();break;case _0x59f462(0x14b):toggleBotMode();break;case'emitHistory':emitHistory(_0x4c22e4['args']);break;case _0x59f462(0x1f0):deleteHistoryAlerts(_0x4c22e4[_0x59f462(0x1e2)]);break;case _0x59f462(0x1aa):getPortfolio(_0x4c22e4['args']);break;case _0x59f462(0x1f3):storeConfiguration(_0x4c22e4[_0x59f462(0x1e2)]);break;case _0x59f462(0x1e1):storeHeadless(_0x4c22e4[_0x59f462(0x1e2)]);break;case _0x59f462(0x112):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x4c22e4['args']);break;case _0x59f462(0x13e):cancelLoading();break;case _0x59f462(0x14c):showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x4fb244=_0x5132c3;if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(config[_0x4fb244(0xea)]!=''&&config[_0x4fb244(0xea)]!=_0x4fb244(0xcb)){await initExchange(config['apiKey'],config[_0x4fb244(0x197)]),await initWsEvents();let _0xadb529=![];try{_0xadb529=await loadSymbols();}catch(_0x566979){handleError(_0x566979,_0x4fb244(0x118));}if(_0xadb529){currentCoins=await getCoins(!![]),await initws();if(lastOrders['length']==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x397947,_0x2f26b){const _0x3a2da1=_0x5132c3,_0x507b1c=ccxt[config[_0x3a2da1(0xf0)]];let _0x2e2f18;switch(config[_0x3a2da1(0xf0)]){case _0x3a2da1(0x163):_0x2e2f18=_0x3a2da1(0x1cd);break;case _0x3a2da1(0xec):_0x2e2f18=_0x3a2da1(0x10d);break;default:_0x2e2f18=_0x3a2da1(0x1cd);}exchange=new _0x507b1c({'apiKey':_0x397947,'secret':_0x2f26b,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x3a2da1(0x199)][_0x3a2da1(0xd6)]=_0x397947,wsClient['options']['api_secret']=_0x2f26b,wsClient[_0x3a2da1(0x199)][_0x3a2da1(0xd7)]=_0x2e2f18;let _0x5450aa=config['exchange']==_0x3a2da1(0xec)?_0x3a2da1(0x139):_0x3a2da1(0x1b8),_0x41a4ed=config[_0x3a2da1(0x1b6)]=='ETH'?_0x3a2da1(0x1b7):'BTC';stablecoins={'eur':{'coin':''+_0x41a4ed+_0x5450aa,'symbol':_0x41a4ed+'/'+_0x5450aa},'usd':{'coin':_0x41a4ed+_0x3a2da1(0x139),'symbol':_0x41a4ed+_0x3a2da1(0xbd)}};}async function initWsEvents(){const _0x1bddd2=_0x5132c3;!wsClient[_0x1bddd2(0xe7)]['formattedMessage']&&wsClient['on'](_0x1bddd2(0x143),_0x458422=>{const _0x3c38da=_0x1bddd2;if(isWsFormattedKline(_0x458422)){global['ticker'][_0x458422[_0x3c38da(0xe6)][_0x3c38da(0x137)]]=_0x458422[_0x3c38da(0xe6)][_0x3c38da(0x11a)];return;}else{if(isWsFormatted24hrTicker(_0x458422)){global['change'][_0x458422['symbol']]=_0x458422[_0x3c38da(0x1ef)];return;}else{if(!Array[_0x3c38da(0x1fa)](_0x458422)&&_0x458422[_0x3c38da(0x195)][_0x3c38da(0xc4)](_0x3c38da(0x126))){if(_0x458422[_0x3c38da(0x1c9)]['includes'](_0x3c38da(0x1eb))){updateNumberCoins(_0x458422);return;}}}}}),!wsClient[_0x1bddd2(0xe7)][_0x1bddd2(0x1ab)]&&wsClient['on'](_0x1bddd2(0x1ab),async _0x300560=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x2a9be4=_0x5132c3;let _0x34ca82=![];try{markets=await exchange[_0x2a9be4(0x131)](),allSymbols=exchange[_0x2a9be4(0x107)][_0x2a9be4(0x189)](_0x5c2551=>{let _0x5585bd=![];return exceptions['forEach'](_0xf7e2c5=>{const _0x53f2c6=_0x566a;if(_0x5c2551[_0x53f2c6(0xc4)](_0xf7e2c5))_0x5585bd=!![];}),!_0x5585bd;}),_0x34ca82=!![];}catch(_0x1bf7c3){_0x34ca82=![];throw _0x1bf7c3;}return _0x34ca82;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x27e27e=getNormalizedPerformance();emitPerformance(_0x27e27e),await getStartingBalances(_0x27e27e);}async function toggleBotMode(){const _0x33a75f=_0x5132c3;let _0x362174=dbConfig['get'](_0x33a75f(0x15e))[_0x33a75f(0x125)]({'botID':botID})[_0x33a75f(0x204)]();if(_0x362174){const _0x356095=!_0x362174[_0x33a75f(0xc2)];dbConfig['get']('bot')[_0x33a75f(0x125)]({'botID':botID})[_0x33a75f(0x11b)]({'headless':_0x356095})[_0x33a75f(0x1b9)](),config[_0x33a75f(0xc2)]=_0x356095,proxyEmit(_0x33a75f(0xe9),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x12a2de=_0x5132c3;process[_0x12a2de(0x1e0)]({'updatebotmanager':!![]},_0x4ffbee=>{});}function cleanws(){const _0x43d533=_0x5132c3;wsinitialized=![];ws1&&(ws1[_0x43d533(0xbe)](_0x3a3266=>{const _0x5e82b4=_0x43d533;try{wsClient[_0x5e82b4(0x11a)](_0x3a3266);}catch(_0x2e8c11){}}),ws1=[]);if(ws2){try{wsClient[_0x43d533(0x11a)](ws2);}catch(_0x26b881){}ws2=null;}ws3&&(ws3[_0x43d533(0xbe)](_0x4baf14=>{try{wsClient['close'](_0x4baf14);}catch(_0x44538a){}}),ws3=[]);}async function initws(){const _0x3a2fd8=_0x5132c3;cleanws();let _0x6fd5a8=[];currentCoins[_0x3a2fd8(0xbe)](_0x24d9c4=>{const _0x2b734d=_0x3a2fd8;if(_0x24d9c4['coin']!=config[_0x2b734d(0x1b6)])_0x6fd5a8[_0x2b734d(0x17e)](_0x24d9c4[_0x2b734d(0x137)]);});if(!_0x6fd5a8[_0x3a2fd8(0xc4)](stablecoins['eur'][_0x3a2fd8(0x137)]))_0x6fd5a8[_0x3a2fd8(0x17e)](stablecoins[_0x3a2fd8(0x19d)][_0x3a2fd8(0x137)]);if(!_0x6fd5a8['includes'](stablecoins[_0x3a2fd8(0xb5)]['symbol']))_0x6fd5a8[_0x3a2fd8(0x17e)](stablecoins[_0x3a2fd8(0xb5)]['symbol']);if(!_0x6fd5a8[_0x3a2fd8(0xc4)](_0x3a2fd8(0x130)+config['basecoin']))_0x6fd5a8['push']('BNB/'+config[_0x3a2fd8(0x1b6)]);try{_0x6fd5a8[_0x3a2fd8(0xbe)]((_0x51f225,_0x4f69ef)=>{const _0x3f72a6=_0x3a2fd8;ws1[_0x4f69ef]=wsClient[_0x3f72a6(0x186)](noslash(_0x51f225),'1m'),ws3[_0x4f69ef]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x51f225),_0x3f72a6(0x1eb));}),ws2=wsClient[_0x3a2fd8(0x162)]();}catch(_0x972be3){await handleError(_0x972be3,_0x3a2fd8(0x1a2));}let _0x59aac9,_0x51e21f=0x0;loading[_0x3a2fd8(0x177)]=[];let _0x5c7771=0x0;_0x6fd5a8[_0x3a2fd8(0xbe)](_0x44c2b6=>{const _0xc743d2=_0x3a2fd8;loading[_0xc743d2(0x177)]['push'](_0x44c2b6);}),loadingCanceled=![];let _0x10f5a3=![];while(_0x59aac9!=_0x6fd5a8['length']){_0x59aac9=0x0,_0x6fd5a8[_0x3a2fd8(0xbe)](_0x19ca53=>{const _0x2161c0=_0x3a2fd8;global[_0x2161c0(0x18b)][noslash(_0x19ca53)]&&(loading[_0x2161c0(0x177)]=loading[_0x2161c0(0x177)]['filter'](_0x1443d9=>_0x1443d9!=_0x19ca53),_0x59aac9++);}),loading[_0x3a2fd8(0x198)]=Math[_0x3a2fd8(0x20d)](_0x59aac9/_0x6fd5a8['length']*0x64);loading[_0x3a2fd8(0x198)]!=0x64&&(_0x5c7771>0x1e*0x5&&(loading[_0x3a2fd8(0x1ed)]=!![],emitLoadingProgress()),_0x5c7771>0x78*0x5&&!_0x10f5a3&&(loading[_0x3a2fd8(0xed)]=!![],emitLoadingProgress(),_0x10f5a3=!![],logHistory(_0x3a2fd8(0xfd),_0x3a2fd8(0xb3)+loading[_0x3a2fd8(0x177)]['join'](',\x20')+_0x3a2fd8(0x12d)),logHistory(_0x3a2fd8(0xfd),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x3a2fd8(0x124)),pidCoinReloading=setTimeout(()=>{const _0xf41b48=_0x3a2fd8;process['send']({'stop':_0xf41b48(0x10c)},_0x4c3333=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x3a2fd8(0xed)]=!![],emitLoadingProgress();break;}else _0x59aac9!=_0x51e21f&&(_0x51e21f=_0x59aac9,emitLoadingProgress()),_0x5c7771++,await sleep(0xc8);}_0x59aac9==_0x6fd5a8[_0x3a2fd8(0x1ca)]&&(wsinitialized=!![],_0x10f5a3&&logHistory(_0x3a2fd8(0x104),_0x3a2fd8(0x1ad)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2698c7=_0x5132c3;proxyEmit(_0x2698c7(0xe9),{...emittedConfiguration(),'configstate':_0x2698c7(0x120)});}function emitLoadingProgress(){const _0x8e75dd=_0x5132c3;proxyEmit(_0x8e75dd(0x1df),loading);}async function getFiat(){const _0x17f0d6=_0x5132c3;let _0x2d961a=0x0,_0xe78de7=0x0;try{_0x2d961a=global['ticker'][stablecoins[_0x17f0d6(0x19d)][_0x17f0d6(0x119)]],_0xe78de7=global[_0x17f0d6(0x18b)][stablecoins[_0x17f0d6(0xb5)][_0x17f0d6(0x119)]];}catch(_0x200957){await handleError(_0x200957,_0x17f0d6(0x1a8));}return{'eur':Number(_0x2d961a),'usd':Number(_0xe78de7)};}function setStartDatePerformance(){const _0x51a90b=_0x5132c3;if(config&&config['liquidity'][0x0][_0x51a90b(0x1af)]['length']!=0x0){const _0x296979=config[_0x51a90b(0x127)][0x0][_0x51a90b(0x1af)];dbPerformance[_0x51a90b(0xdc)](_0x51a90b(0x1fd))['find']({'date':config['startdate']})[_0x51a90b(0x11b)]({'coins':_0x296979})[_0x51a90b(0x1b9)]();}}async function recreateCoinResults(){const _0x57bdf2=_0x5132c3;let _0x3898c0,_0x545078=[];try{const _0x2ef8ee=fns['format'](fns[_0x57bdf2(0x159)](config[_0x57bdf2(0x16c)][_0x57bdf2(0x182)](/\//g,'-')),_0x57bdf2(0x134));for(const _0x39ec15 of currentCoins){if(_0x39ec15['coin']!=config['basecoin']){let _0x2a5ccd=0x0,_0x2fdba9,_0x2ea3ca;_0x3898c0=await getAllEventOrders(_0x39ec15['symbol']);if(_0x3898c0[_0x57bdf2(0x1ca)]>0x0)_0x3898c0[_0x57bdf2(0xbe)](_0x36307c=>{const _0x5ce874=_0x57bdf2,_0x3d9e28=_0x39ec15[_0x5ce874(0x137)][_0x5ce874(0xc4)](config[_0x5ce874(0x1b6)]+'/');_0x545078['push']({'datetime':_0x36307c[_0x5ce874(0x180)],'coin':_0x39ec15[_0x5ce874(0x119)],'symbol':_0x39ec15['symbol'],'side':_0x36307c[_0x5ce874(0x1b5)],'reverse':_0x3d9e28,'amount':formatResult(_0x36307c[_0x5ce874(0x12f)],0x8),'filled':formatResult(_0x36307c[_0x5ce874(0x12f)],0x8),'price':formatResult(_0x36307c[_0x5ce874(0xbb)],0x8)}),_0x2a5ccd=_0x36307c[_0x5ce874(0x1b5)]==_0x5ce874(0x1be)?_0x2a5ccd+_0x36307c[_0x5ce874(0x12f)]:_0x2a5ccd-_0x36307c[_0x5ce874(0x12f)];if(!_0x2ea3ca)_0x2ea3ca=_0x36307c[_0x5ce874(0xbb)];});_0x2fdba9=_0x39ec15['number']-_0x2a5ccd;let _0x20c255;config['liquidity']['forEach'](_0x3b1594=>{const _0x52eb5f=_0x57bdf2;!_0x20c255&&(_0x20c255=_0x3b1594[_0x52eb5f(0x1af)][_0x52eb5f(0x125)](_0x1fdfe0=>_0x1fdfe0[_0x52eb5f(0x119)]==_0x39ec15[_0x52eb5f(0x119)]),_0x20c255&&(_0x2fdba9=_0x20c255['number'],_0x2ea3ca=_0x20c255[_0x52eb5f(0xbb)]));});let _0x290b31=dbCoinResults[_0x57bdf2(0xdc)]('coins')[_0x57bdf2(0x125)]({'coin':_0x39ec15[_0x57bdf2(0x119)]})[_0x57bdf2(0x204)]();_0x290b31={'coin':_0x39ec15[_0x57bdf2(0x119)],'number':_0x2fdba9,'breakeven':_0x2ea3ca,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x57bdf2(0xdc)]('coins')[_0x57bdf2(0x125)]({'coin':_0x39ec15[_0x57bdf2(0x119)]})['assign'](_0x290b31)[_0x57bdf2(0x1b9)]();}}_0x545078[_0x57bdf2(0x15c)]((_0xb76b9b,_0x1daa06)=>_0xb76b9b[_0x57bdf2(0x180)]>_0x1daa06['datetime']?0x1:_0x1daa06[_0x57bdf2(0x180)]>_0xb76b9b[_0x57bdf2(0x180)]?-0x1:0x0);let _0x300167=0x0;for(let _0x965338 of _0x545078){await updateCoinResults(_0x965338,!![]);}}catch(_0x2cd53a){await handleError(_0x2cd53a,_0x57bdf2(0x17a));}}async function getAllEventOrders(_0xc0037a){const _0xed2378=_0x5132c3;let _0x19cb6d=[],_0x130aac=dbLogs['get'](_0xed2378(0x166))[_0xed2378(0x189)](_0x5b20b2=>{const _0x184c5a=_0xed2378,_0x49b5a8=_0x5b20b2[_0x184c5a(0x171)][_0x184c5a(0x12c)]();return _0x49b5a8[_0x184c5a(0xc4)](_0xc0037a[_0x184c5a(0x12c)]())&&(_0x49b5a8['includes'](_0x184c5a(0x1ff))&&_0x49b5a8[_0x184c5a(0xc4)](_0x184c5a(0xc0))||_0x49b5a8['includes']('filled')&&_0x49b5a8['includes']('order'));})[_0xed2378(0xb7)](_0xed2378(0x13b))[_0xed2378(0x204)]();return _0x130aac[_0xed2378(0xbe)](_0x4c9bc2=>{const _0x204538=_0xed2378,_0x1e367d=_0x4c9bc2[_0x204538(0x171)][_0x204538(0xc4)](_0x204538(0x154))?_0x204538(0x154):_0x204538(0x1be),_0xe106b5=/#([0-9]|\.)+\s/i,_0x14bbef=Number(_0xe106b5['exec'](_0x4c9bc2['event'])[0x0][_0x204538(0x1f6)](0x1)),_0x57df2f=/@([0-9]|\.)+$/i,_0x3f3f51=Number(_0x57df2f[_0x204538(0x16b)](_0x4c9bc2['event'])[0x0][_0x204538(0x1f6)](0x1));_0x19cb6d[_0x204538(0x17e)]({'datetime':_0x4c9bc2[_0x204538(0x13b)],'coin':symbolToCoin(_0xc0037a),'symbol':_0xc0037a,'side':_0x1e367d,'amount':_0x14bbef,'filled':_0x14bbef,'price':_0x3f3f51});}),_0x19cb6d;}async function getAllOrders(_0x350a28,_0x5916d4){const _0x18bee8=_0x5132c3;let _0x4cb22a=[];while(_0x5916d4<exchange['milliseconds']()){const _0x5e4954=0x1f4,_0x51af8e=await exchange[_0x18bee8(0x109)](_0x350a28,_0x5916d4,_0x5e4954);if(_0x51af8e[_0x18bee8(0x1ca)])_0x5916d4=_0x51af8e[_0x51af8e[_0x18bee8(0x1ca)]-0x1]['timestamp']+0x1,_0x4cb22a=_0x4cb22a['concat'](_0x51af8e);else break;}return _0x4cb22a;}async function validate24hChanges(){const _0x2ac651=_0x5132c3;let _0x31f44e;for(const _0x33a49c of currentCoins){if(_0x33a49c[_0x2ac651(0x119)]!=config[_0x2ac651(0x1b6)]){let _0x2b4081;_0x33a49c[_0x2ac651(0xbf)]?_0x2b4081=formatResult((0x1/(global['change'][noslash(_0x33a49c[_0x2ac651(0x137)])]/0x64+0x1)-0x1)*0x64,0x3):_0x2b4081=global[_0x2ac651(0x215)][noslash(_0x33a49c['symbol'])],_0x2b4081<config[_0x2ac651(0xf2)]&&(logHistory(_0x2ac651(0xfd),_0x33a49c[_0x2ac651(0x119)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x2b4081+'%'),logHistory('error',_0x2ac651(0x1d8)),logHistory('error',_0x2ac651(0xde)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x2776cd=_0x5132c3;let _0x7393cd=dbLogs['get'](_0x2776cd(0x140))['value']();if(_0x7393cd!=_0x2776cd(0x1bc)){dbLogs['set']('version',_0x2776cd(0x1bc))[_0x2776cd(0x1b9)]();let _0x45fc6f=[];const _0x1b4583=dbLogs[_0x2776cd(0xdc)](_0x2776cd(0x166))[_0x2776cd(0x204)]();_0x1b4583['forEach'](_0x325738=>{const _0x4cf0d6=_0x2776cd;_0x45fc6f['push']({'time':_0x325738[_0x4cf0d6(0x13b)],'type':_0x325738[_0x4cf0d6(0xf5)],'event':_0x325738[_0x4cf0d6(0x171)]});}),dbLogs[_0x2776cd(0xdc)](_0x2776cd(0x166))[_0x2776cd(0x11b)](_0x45fc6f)[_0x2776cd(0x1b9)]();}let _0x171a14=dbConfig[_0x2776cd(0xdc)](_0x2776cd(0x140))['value']();if(_0x171a14!=_0x2776cd(0x1bc)){dbConfig[_0x2776cd(0x19f)](_0x2776cd(0x140),_0x2776cd(0x1bc))[_0x2776cd(0x1b9)]();let _0x57f7de=dbConfig[_0x2776cd(0xdc)](_0x2776cd(0x15e))[_0x2776cd(0x125)]({'botID':botID})['value']();if(_0x57f7de){let _0x595919=[];_0x57f7de['portfolio'][_0x2776cd(0xbe)](_0x3f2757=>{const _0x5a531b=_0x2776cd;_0x595919[_0x5a531b(0x17e)]({'coin':_0x3f2757[_0x5a531b(0x119)],'number':_0x3f2757[_0x5a531b(0x110)],'price':_0x3f2757[_0x5a531b(0x1a4)]}),delete _0x3f2757[_0x5a531b(0x110)],delete _0x3f2757[_0x5a531b(0x1a4)];});if(_0x595919['length']!==0x0)fs[_0x2776cd(0xc1)](configbackuppath+(_0x2776cd(0x1cb)+botID+_0x2776cd(0x1c8)),JSON['stringify'](_0x595919,null,0x4),function(_0x3095cb){if(_0x3095cb){}});const _0x519007=(_0x493000,_0x45fa4a)=>{const _0x45feaf=_0x2776cd;let _0x2530e8=[];_0x45fa4a[_0x45feaf(0xbe)](_0x4654e6=>{const _0x5f22d0=_0x45feaf,_0x47efdf=_0x493000['find'](_0x231460=>_0x231460[_0x5f22d0(0x119)]==_0x4654e6[_0x5f22d0(0x119)]);if(!_0x47efdf)_0x2530e8[_0x5f22d0(0x17e)](_0x4654e6);});let _0x499c1f=[];return _0x493000[_0x45feaf(0xbe)](_0x514562=>{const _0x197e52=_0x45feaf,_0x5b629a=_0x45fa4a[_0x197e52(0x125)](_0x3932b9=>_0x3932b9[_0x197e52(0x119)]==_0x514562[_0x197e52(0x119)]);if(!_0x5b629a||_0x5b629a['number']==0x0&&_0x514562[_0x197e52(0x151)]!=0x0)_0x499c1f[_0x197e52(0x17e)](_0x514562);}),{'missingDay1':_0x2530e8,'notInDay2':_0x499c1f};},_0x1e9fb2=dbPerformance['get'](_0x2776cd(0x1fd))[_0x2776cd(0x114)]()[_0x2776cd(0x204)]();if(_0x1e9fb2[_0x2776cd(0x1ca)]>0x1){const {missingDay1:_0x6632e4,notInDay2:_0x53e777}=_0x519007(_0x595919,_0x1e9fb2[0x1]['coins']);_0x595919=[..._0x595919,..._0x6632e4],_0x53e777[_0x2776cd(0xbe)](_0x42e3e7=>{const _0x502a39=_0x2776cd;let _0x42e419=_0x595919[_0x502a39(0x115)](_0x1bd65f=>_0x1bd65f['coin']==_0x42e3e7['coin']);_0x42e419!=-0x1&&_0x595919['splice'](_0x42e419,0x1);});}_0x595919['sort']((_0x2e0778,_0x152bc1)=>_0x2e0778[_0x2776cd(0x119)]>_0x152bc1[_0x2776cd(0x119)]?0x1:_0x152bc1[_0x2776cd(0x119)]>_0x2e0778[_0x2776cd(0x119)]?-0x1:0x0);let _0xa6e1d0=[{'date':_0x57f7de[_0x2776cd(0x16c)],'changes':_0x595919}];_0x1e9fb2[_0x2776cd(0x1ca)]>0x2&&_0x1e9fb2['forEach']((_0x4bc487,_0x149155)=>{const _0x2db7a0=_0x2776cd;if(_0x149155>0x0&&_0x149155<_0x1e9fb2[_0x2db7a0(0x1ca)]-0x1){const {missingDay1:_0x2133e1,notInDay2:_0x296aab}=_0x519007(_0x1e9fb2[_0x149155][_0x2db7a0(0xb8)],_0x1e9fb2[_0x149155+0x1][_0x2db7a0(0xb8)]);_0x595919=[],(_0x2133e1[_0x2db7a0(0x1ca)]!=0x0||_0x296aab[_0x2db7a0(0x1ca)]!=0x0)&&(_0x2133e1[_0x2db7a0(0x1ca)]!=0x0&&_0x595919[_0x2db7a0(0x17e)](..._0x2133e1),_0x296aab[_0x2db7a0(0x1ca)]!=0x0&&(_0x296aab[_0x2db7a0(0xbe)](_0x5be442=>{const _0x30b28c=_0x2db7a0;_0x5be442[_0x30b28c(0x151)]=-_0x5be442['number'];}),_0x595919[_0x2db7a0(0x17e)](..._0x296aab)),_0x595919[_0x2db7a0(0x15c)]((_0x17692f,_0x2448a9)=>_0x17692f['coin']>_0x2448a9[_0x2db7a0(0x119)]?0x1:_0x2448a9[_0x2db7a0(0x119)]>_0x17692f[_0x2db7a0(0x119)]?-0x1:0x0),_0xa6e1d0[_0x2db7a0(0x17e)]({'date':_0x1e9fb2[_0x149155+0x1][_0x2db7a0(0x13f)],'changes':_0x595919}));}}),dbConfig['get']('bot')[_0x2776cd(0x125)]({'botID':botID})[_0x2776cd(0x11b)]({..._0x57f7de,'liquidity':_0xa6e1d0})[_0x2776cd(0x1b9)]();}}config=getConfiguration(botID);let _0x2abf40=dbPerformance[_0x2776cd(0xdc)](_0x2776cd(0x140))['value']();_0x2abf40!=_0x2776cd(0x1bc)&&(dbPerformance[_0x2776cd(0x19f)]('version','2.3.5')[_0x2776cd(0x1b9)](),setStartDatePerformance());let _0xf9f8e0=dbCoinResults[_0x2776cd(0xdc)](_0x2776cd(0x140))['value']();if(_0xf9f8e0!='2.5.0'){dbCoinResults[_0x2776cd(0x19f)](_0x2776cd(0x140),_0x2776cd(0x1d5))[_0x2776cd(0x1b9)]();let _0xead0ea=dbCoinResults[_0x2776cd(0xdc)]('coins')['value']();if(_0xead0ea[_0x2776cd(0x1ca)]!=0x0)recreationNeeded=!![];}}function _0x566a(_0x100ea3,_0x366a70){const _0x45b445=_0x2ba7();return _0x566a=function(_0x4d5396,_0x568f2d){_0x4d5396=_0x4d5396-0xab;let _0x2ba7ba=_0x45b445[_0x4d5396];return _0x2ba7ba;},_0x566a(_0x100ea3,_0x366a70);}function getConfiguration(_0x8cde85){const _0x49206a=_0x5132c3;let _0x57b7c7=dbConfig[_0x49206a(0xdc)]('bot')['find']({'botID':_0x8cde85})[_0x49206a(0x204)]();if(_0x57b7c7){let _0x27aad0=![];typeof _0x57b7c7[_0x49206a(0x18a)]=='string'&&(_0x57b7c7={..._0x57b7c7,'threshold':Number(_0x57b7c7['threshold'])},_0x27aad0=!![]),_0x57b7c7[_0x49206a(0xf2)]==null&&(_0x57b7c7={..._0x57b7c7,'change24h':-0x14},_0x27aad0=!![]),_0x27aad0&&(_0x57b7c7={'botID':_0x57b7c7[_0x49206a(0xd8)],'exchange':_0x57b7c7[_0x49206a(0xf0)],'apiKey':_0x57b7c7['apiKey'],'apiSecret':_0x57b7c7[_0x49206a(0x197)],'basecoin':_0x57b7c7['basecoin'],'botname':_0x57b7c7[_0x49206a(0x1a7)],'showname':_0x57b7c7[_0x49206a(0x19a)],'threshold':_0x57b7c7['threshold'],'ordertype':_0x57b7c7[_0x49206a(0xdd)],'timeout':_0x57b7c7[_0x49206a(0x1ed)],'startdate':_0x57b7c7[_0x49206a(0x16c)],'recreate':_0x57b7c7[_0x49206a(0xbc)],'timeshift':_0x57b7c7[_0x49206a(0x18e)],'headless':_0x57b7c7['headless'],'cooldown':_0x57b7c7[_0x49206a(0x1e9)],'change24h':_0x57b7c7['change24h'],'emojibuy':_0x57b7c7['emojibuy'],'emojisell':_0x57b7c7[_0x49206a(0x105)],'portfolio':_0x57b7c7[_0x49206a(0x1d9)],'liquidity':_0x57b7c7[_0x49206a(0x127)]},dbConfig[_0x49206a(0xdc)](_0x49206a(0x15e))[_0x49206a(0x173)]()[_0x49206a(0x1b9)](),dbConfig[_0x49206a(0xdc)](_0x49206a(0x15e))[_0x49206a(0x17e)](_0x57b7c7)[_0x49206a(0x1b9)]());}else _0x57b7c7={'botID':_0x8cde85,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x49206a(0x136)+_0x8cde85,'showname':![],'threshold':0x3,'ordertype':_0x49206a(0x1ff),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x57b7c7;}function emittedConfiguration(){const _0x2d30cc=_0x5132c3;let _0xdb71a7;if(config['apiKey']=='')_0xdb71a7={...config,'configstate':_0x2d30cc(0x12e)};else config[_0x2d30cc(0xea)]==_0x2d30cc(0xcb)?_0xdb71a7={...config,'configstate':'recovery'}:_0xdb71a7={...config,'apiKey':_0x2d30cc(0x170),'apiSecret':_0x2d30cc(0x170)};return _0xdb71a7;}function getSettings(){const _0x3a5f3a=_0x5132c3;return dbSettings['get'](_0x3a5f3a(0x117))[_0x3a5f3a(0x204)]();}function getSecure(){const _0x36a054=_0x5132c3;return dbSecure[_0x36a054(0xdc)](_0x36a054(0x15f))[_0x36a054(0x204)]()||{};}function updateTimeshift(_0x3bf42f){const _0x5cf780=_0x5132c3;let _0x46d0c8=dbConfig[_0x5cf780(0xdc)](_0x5cf780(0x15e))['find']({'botID':botID})[_0x5cf780(0x204)]();_0x46d0c8&&dbConfig[_0x5cf780(0xdc)](_0x5cf780(0x15e))['find']({'botID':botID})[_0x5cf780(0x11b)]({'timeshift':_0x3bf42f})[_0x5cf780(0x1b9)](),config['timeshift']=_0x3bf42f,proxyEmit(_0x5cf780(0xe9),emittedConfiguration());}async function storeConfiguration(_0xcda59f){const _0x567ca4=_0x5132c3;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x50474b=dbConfig[_0x567ca4(0xdc)]('bot')[_0x567ca4(0x125)]({'botID':botID})['value']();_0xcda59f={..._0xcda59f,'apiKey':crypt[_0x567ca4(0x1ea)](secure['privateKey'],_0xcda59f[_0x567ca4(0xea)])[_0x567ca4(0x209)],'apiSecret':crypt['decrypt'](secure[_0x567ca4(0x11f)],_0xcda59f['apiSecret'])[_0x567ca4(0x209)]};if(_0x50474b){if(_0xcda59f[_0x567ca4(0xea)]=='************')_0xcda59f[_0x567ca4(0xea)]=config[_0x567ca4(0xea)];if(_0xcda59f[_0x567ca4(0x197)]==_0x567ca4(0x170))_0xcda59f[_0x567ca4(0x197)]=config['apiSecret'];dbConfig[_0x567ca4(0xdc)](_0x567ca4(0x15e))[_0x567ca4(0x125)]({'botID':botID})[_0x567ca4(0x11b)](_0xcda59f)['write']();}else dbConfig['get']('bot')['push'](_0xcda59f)['write'](),process[_0x567ca4(0x1e0)]({'status':_0x567ca4(0x101),'live':'running'},_0x62ddf4=>{});config={..._0xcda59f},setStartDatePerformance(),process['send']({'botname':_0xcda59f['botname']},_0x34d991=>{}),updateBotManager();const _0x5b7444=getNormalizedPerformance();getStartingBalances(_0x5b7444),emitPerformance(_0x5b7444),proxyEmit(_0x567ca4(0x165)),await initCoinResults(),reset();}async function storeHeadless(_0x5baadb){const _0x5999e0=_0x5132c3,_0x3a0a4d={...config,'headless':_0x5baadb[_0x5999e0(0xc2)]};let _0x15b26c=dbConfig[_0x5999e0(0xdc)](_0x5999e0(0x15e))[_0x5999e0(0x125)]({'botID':botID})[_0x5999e0(0x204)]();_0x15b26c&&dbConfig[_0x5999e0(0xdc)](_0x5999e0(0x15e))[_0x5999e0(0x125)]({'botID':botID})[_0x5999e0(0x11b)](_0x3a0a4d)['write'](),config={..._0x3a0a4d},updateBotManager(),proxyEmit(_0x5999e0(0xe9),emittedConfiguration());}function noslash(_0x167bfa){return _0x167bfa['replace']('/','');}async function updateNumberCoins(_0x385869){const _0x1880d1=_0x5132c3;if(_0x385869[_0x1880d1(0x1c1)]&&_0x385869[_0x1880d1(0x1c1)]=='executionReport'){logger[_0x1880d1(0x108)](_0x1880d1(0xf6)+_0x385869[_0x1880d1(0x137)]+'\x20|\x20'+_0x385869['orderStatus']+_0x1880d1(0x144)+_0x385869[_0x1880d1(0x1c7)]+_0x1880d1(0x144)+_0x385869[_0x1880d1(0x1fe)]);let _0x29153e=_0x385869[_0x1880d1(0x1c2)],_0x157afd=![];currentCoins[_0x1880d1(0xbe)](_0x95a4eb=>{const _0x4af590=_0x1880d1;noslash(_0x95a4eb[_0x4af590(0x137)])==_0x385869[_0x4af590(0x137)]&&(_0x157afd=!![]);});if(!_0x157afd)return;const _0x2894c0=currentCoins[_0x1880d1(0x125)](_0x365ae0=>noslash(_0x365ae0['symbol'])==_0x385869[_0x1880d1(0x137)]),_0x1ad322=_0x3fd051=>{if(_0x2894c0)_0x2894c0['orderstatus']=_0x3fd051;};if(_0x29153e==_0x1880d1(0x10f))_0x1ad322(_0x1880d1(0x1d4));else{if(_0x29153e==_0x1880d1(0xd5))_0x1ad322(_0x1880d1(0x19c)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x29153e==_0x1880d1(0xd3)){logger[_0x1880d1(0x108)](_0x1880d1(0xc9)+_0x385869[_0x1880d1(0x137)]+_0x1880d1(0x144)+_0x385869[_0x1880d1(0x1d6)]+'\x20|\x20'+_0x385869[_0x1880d1(0x1c7)]+'\x20|\x20'+_0x385869[_0x1880d1(0x1fe)]);let _0x2f4eaf=![];if(lastOrders)lastOrders[_0x1880d1(0xbe)](async _0x19556d=>{const _0x3b497b=_0x1880d1;if(_0x19556d[_0x3b497b(0x18c)]==_0x385869[_0x3b497b(0x1fe)]){logger['debug'](_0x3b497b(0x168)+_0x385869[_0x3b497b(0x1fe)]),_0x2f4eaf=!![];if(_0x19556d[_0x3b497b(0x12f)]==0x0){logger['debug'](_0x3b497b(0x152)+_0x385869[_0x3b497b(0x1fe)]),_0x19556d[_0x3b497b(0xbb)]=_0x385869[_0x3b497b(0x1dc)]/_0x385869['accumulatedQuantity'],_0x19556d[_0x3b497b(0x12f)]=_0x385869[_0x3b497b(0x1d6)],_0x19556d[_0x3b497b(0x212)]={'cost':_0x385869[_0x3b497b(0x1b2)],'currency':_0x385869['commissionAsset']},_0x1ad322(_0x3b497b(0x12f)),await validateOrders();if(lockOrders==ORDERS[_0x3b497b(0x122)])currentCoins=await getCoins();await updateCoinResults(_0x19556d);}}});!_0x2f4eaf&&(logger[_0x1880d1(0x108)](_0x1880d1(0x20b)+_0x385869[_0x1880d1(0x1c7)]),_0x1ad322(_0x1880d1(0x12f)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x4a8a2b=JSON[_0x1880d1(0x172)](lastBalances[_0x1880d1(0x1d9)]);const _0xe9d7d5=_0x4a8a2b['find'](_0x92a05=>noslash(_0x92a05[_0x1880d1(0x137)])==_0x385869[_0x1880d1(0x137)]);if(_0xe9d7d5){if(_0x29153e==_0x1880d1(0x10f))_0xe9d7d5[_0x1880d1(0xfe)]=_0xe9d7d5[_0x1880d1(0xfe)]==_0x1880d1(0x12f)?_0x1880d1(0x12f):'open';else{if(_0x29153e=='CANCELED')_0xe9d7d5['orderstatus']=_0xe9d7d5[_0x1880d1(0xfe)]==_0x1880d1(0x12f)?'filled':_0x1880d1(0x19c);else _0x29153e=='FILLED'&&(_0xe9d7d5[_0x1880d1(0xfe)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x1880d1(0x1e8)](_0x4a8a2b)},proxyEmit(_0x1880d1(0xd1),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x50e54a=![],_0x12b0fa=!![],_0x3ac8cc=config[_0x5132c3(0x1b6)]){const _0x3b2af1=_0x5132c3;let _0x34dd22,_0x10ac4d=[],_0x223bc0=[],_0x3a02e5=[];try{_0x34dd22=await exchange['fetchBalance'](),mybalances=_0x34dd22[_0x3b2af1(0x148)];if(!_0x12b0fa)for(const [_0x3abe6f,_0x884e8]of Object['entries'](mybalances)){_0x3a02e5[_0x3b2af1(0x17e)](_0x3abe6f);}else config[_0x3b2af1(0x1d9)][_0x3b2af1(0xbe)](_0x229d03=>{const _0x30a899=_0x3b2af1;if(!_0x229d03[_0x30a899(0x216)])_0x3a02e5[_0x30a899(0x17e)](_0x229d03['coin']);});if(_0x3ac8cc=='')for(const [_0x4a810e,_0x501eae]of Object[_0x3b2af1(0xce)](mybalances)){_0x501eae['toString']()!=0x0&&_0x223bc0[_0x3b2af1(0x17e)]({'coin':_0x4a810e});}else{if(_0x50e54a)await getOpenOrders();let _0x44057c=![];for(const [_0x5267e7,_0x2c7ab2]of Object[_0x3b2af1(0xce)](mybalances)){if(_0x3a02e5[_0x3b2af1(0xc4)](_0x5267e7)){const _0x5b6b29=config[_0x3b2af1(0x1d9)][_0x3b2af1(0x125)](_0x16224e=>_0x16224e[_0x3b2af1(0x119)]==_0x5267e7),_0x179c68=_0x5267e7+'/'+_0x3ac8cc,_0x599a7e=_0x3ac8cc+'/'+_0x5267e7,_0x5c629d=currentCoins[_0x3b2af1(0x125)](_0x4e81ef=>_0x4e81ef[_0x3b2af1(0x119)]==_0x5267e7);_0x44057c=![];_0x50e54a&&(_0x44057c=allOpenOrders[_0x3b2af1(0x125)](_0x2c3cb5=>_0x2c3cb5['symbol']==_0x5b6b29['symbol']));if((_0x2c7ab2['toString']()!=0x0||_0x5b6b29)&&(allSymbols['includes'](_0x179c68)||_0x5267e7==_0x3ac8cc))_0x5267e7!=_0x3ac8cc&&_0x10ac4d['push'](_0x179c68),_0x223bc0[_0x3b2af1(0x17e)]({'coin':_0x5267e7,'symbol':_0x179c68,'reverse':![],'number':Math[_0x3b2af1(0x16f)](_0x2c7ab2+(_0x5b6b29&&_0x5b6b29[_0x3b2af1(0xe4)]||0x0),0x0),'orderstatus':_0x50e54a?_0x44057c?'open':_0x3b2af1(0xcc):_0x5c629d?_0x5c629d[_0x3b2af1(0xfe)]:_0x3b2af1(0xcc)});else(_0x2c7ab2[_0x3b2af1(0x1f1)]()!=0x0||_0x5b6b29)&&allSymbols[_0x3b2af1(0xc4)](_0x599a7e)&&(_0x5267e7!=_0x3ac8cc&&_0x10ac4d[_0x3b2af1(0x17e)](_0x599a7e),_0x223bc0[_0x3b2af1(0x17e)]({'coin':_0x5267e7,'symbol':_0x599a7e,'reverse':!![],'number':Math['max'](_0x2c7ab2+(_0x5b6b29&&_0x5b6b29[_0x3b2af1(0xe4)]||0x0),0x0),'orderstatus':_0x50e54a?_0x44057c?'open':'none':_0x5c629d?_0x5c629d['orderstatus']:_0x3b2af1(0xcc)}));}}}}catch(_0x3420af){if(!_0x12b0fa)handleErrorNoStop(_0x3420af,_0x3b2af1(0xca));else await handleError(_0x3420af,_0x3b2af1(0xca));}return _0x223bc0;}async function getCoinNumber(_0x4472f6){const _0x21be31=_0x5132c3;let _0x425c9e;try{const _0x4cfe37=await exchange[_0x21be31(0x1e5)]();_0x425c9e=_0x4cfe37['total'][_0x4472f6];}catch(_0x23983e){await handleError(_0x23983e,'getCoinNumber()');}return _0x425c9e;}async function getOpenOrders(){const _0x51a6f2=_0x5132c3;let _0x474034;allOpenOrders=[];try{for(const _0x730ea1 of config[_0x51a6f2(0x1d9)]){!_0x730ea1[_0x51a6f2(0x216)]&&_0x730ea1[_0x51a6f2(0x119)]!=config[_0x51a6f2(0x1b6)]&&(_0x474034=await exchange[_0x51a6f2(0x18f)](_0x730ea1['symbol']),_0x474034[_0x51a6f2(0x1ca)]>0x0&&allOpenOrders[_0x51a6f2(0x17e)](_0x474034[0x0]));}}catch(_0x38e0b1){await handleError(_0x38e0b1,_0x51a6f2(0x192));}}async function handleOpenOrders(_0x1733dd=0x0){const _0x313543=_0x5132c3;allOpenOrders[_0x313543(0x1ca)]==0x0&&lockOrders==ORDERS[_0x313543(0x122)]&&allOrdersPlaced&&(_0x1733dd==0x0?(logger['debug'](_0x313543(0x1f5)),_0x1733dd++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x313543(0x108)](_0x313543(0x20e)),validateOrders(_0x313543(0xaf))));}async function getPortfolio(_0x987385){const _0x1d95eb=_0x5132c3;let _0x378d22=[],_0x4628de=[],_0x42d8f4,_0x4769fb=[],_0x3ae10b,_0x23aaf7;_0x987385[_0x1d95eb(0xea)]===_0x1d95eb(0x170)||_0x987385[_0x1d95eb(0x197)]==='************'?(_0x3ae10b=config[_0x1d95eb(0xea)],_0x23aaf7=config[_0x1d95eb(0x197)]):(_0x3ae10b=_0x987385['apiKey'],_0x23aaf7=_0x987385['apiSecret']);await initExchange(_0x3ae10b,_0x23aaf7);let _0x4a4c9a=![];try{_0x4a4c9a=await loadSymbols();}catch(_0x5b86ec){_0x4a4c9a=![],handleErrorNoStop(_0x5b86ec,_0x1d95eb(0x118));}if(_0x4a4c9a){_0x4769fb=await getCoins(![],![],_0x987385[_0x1d95eb(0x1b6)]);if(_0x4769fb===![])proxyEmit(_0x1d95eb(0x1d9),![]);else{if(_0x987385[_0x1d95eb(0x1b6)]=='')proxyEmit(_0x1d95eb(0x1d9),_0x4769fb);else{_0x4769fb['forEach'](_0x6174fc=>{const _0x28b451=_0x1d95eb;if(_0x6174fc['coin']!=_0x987385[_0x28b451(0x1b6)])_0x378d22[_0x28b451(0x17e)](_0x6174fc[_0x28b451(0x137)]);});try{_0x4628de=await exchange[_0x1d95eb(0x1c3)](_0x378d22);}catch(_0x5879a3){await handleError(_0x5879a3,_0x1d95eb(0x103));}_0x4769fb[_0x1d95eb(0xbe)](_0x4c3cea=>{const _0x275f70=_0x1d95eb;_0x4c3cea['coin']!=_0x987385[_0x275f70(0x1b6)]?_0x42d8f4=_0x4c3cea[_0x275f70(0xbf)]?0x1/_0x4628de[_0x4c3cea[_0x275f70(0x137)]][_0x275f70(0xd0)]:_0x4628de[_0x4c3cea[_0x275f70(0x137)]][_0x275f70(0xd0)]:_0x42d8f4=0x1,_0x4c3cea['price']=formatResult(_0x42d8f4,0x8);}),proxyEmit(_0x1d95eb(0x1d9),_0x4769fb);}}}else proxyEmit(_0x1d95eb(0x1d9),![]);}function checkMinimums(_0x1beed4){const _0x35fd2c=_0x5132c3;let _0xa33648=!![];const _0x58de0f=!_0x1beed4[_0x35fd2c(0xbf)]?markets[_0x1beed4[_0x35fd2c(0x137)]][_0x35fd2c(0x1b4)]['amount'][_0x35fd2c(0x133)]:markets[_0x1beed4[_0x35fd2c(0x137)]][_0x35fd2c(0x1b4)][_0x35fd2c(0xe1)][_0x35fd2c(0x133)],_0x3496af=!_0x1beed4[_0x35fd2c(0xbf)]?markets[_0x1beed4[_0x35fd2c(0x137)]][_0x35fd2c(0x1b4)]['cost'][_0x35fd2c(0x133)]:markets[_0x1beed4[_0x35fd2c(0x137)]][_0x35fd2c(0x1b4)]['amount'][_0x35fd2c(0x133)],_0x98a424=markets[_0x1beed4[_0x35fd2c(0x137)]][_0x35fd2c(0xfc)]['amount'];_0x1beed4[_0x35fd2c(0x14d)]=formatResultTruncate(_0x1beed4[_0x35fd2c(0x14d)],_0x98a424);if(Math[_0x35fd2c(0x1a0)](_0x1beed4[_0x35fd2c(0x14d)])<_0x58de0f)_0xa33648=![];if(Math[_0x35fd2c(0x1a0)](_0x1beed4[_0x35fd2c(0x14d)])*_0x1beed4[_0x35fd2c(0xd0)]<_0x3496af)_0xa33648=![];if(_0x1beed4[_0x35fd2c(0x1b5)]==_0x35fd2c(0x154)){let _0x22a3eb=config[_0x35fd2c(0x1d9)]['find'](_0x2a1959=>_0x2a1959[_0x35fd2c(0x119)]==_0x1beed4[_0x35fd2c(0x119)]);if(_0x22a3eb['offset']>0x0){if(Math[_0x35fd2c(0x1a0)](_0x1beed4[_0x35fd2c(0x14d)])>_0x1beed4[_0x35fd2c(0x151)]-_0x22a3eb[_0x35fd2c(0xe4)])_0xa33648=![];}else{if(Math[_0x35fd2c(0x1a0)](_0x1beed4['trade'])>_0x1beed4[_0x35fd2c(0x151)])_0xa33648=![];}}if(_0x1beed4['side']=='buy'){let _0x322a9a=config[_0x35fd2c(0x1d9)][_0x35fd2c(0x125)](_0x556eb8=>_0x556eb8[_0x35fd2c(0x119)]==config['basecoin']),_0x36c938=currentCoins[_0x35fd2c(0x125)](_0xf4dee1=>_0xf4dee1[_0x35fd2c(0x119)]==config['basecoin']);if(_0x322a9a[_0x35fd2c(0xe4)]>0x0){if(Math['abs'](_0x1beed4[_0x35fd2c(0x14d)])*_0x1beed4['last']>_0x36c938[_0x35fd2c(0x151)]-_0x322a9a[_0x35fd2c(0xe4)])_0xa33648=![];}else{if(Math[_0x35fd2c(0x1a0)](_0x1beed4['trade'])*_0x1beed4[_0x35fd2c(0xd0)]>_0x36c938[_0x35fd2c(0x151)])_0xa33648=![];}}return _0xa33648;}async function getBalances(){const _0x542df9=_0x5132c3;let _0x18fed8=0x0,_0xeec0b9;const _0x36b86f=config[_0x542df9(0x18a)];if(config['headless']&&config[_0x542df9(0xf2)]<0x0)await validate24hChanges();currentCoins[_0x542df9(0xbe)](_0x1a03ed=>{const _0x55a5ec=_0x542df9;if(_0x1a03ed['coin']!=config[_0x55a5ec(0x1b6)]){let _0x2a2af1=global['ticker'][noslash(_0x1a03ed[_0x55a5ec(0x137)])];_0xeec0b9=_0x1a03ed['reverse']?0x1/_0x2a2af1:_0x2a2af1;}else _0xeec0b9=0x1;let _0x219ef1=_0x1a03ed[_0x55a5ec(0x151)]*_0xeec0b9;_0x18fed8+=_0x219ef1,_0x1a03ed[_0x55a5ec(0xd0)]=formatResult(Number(_0xeec0b9),0x8),_0x1a03ed[_0x55a5ec(0x204)]=_0x219ef1;}),currentCoins[_0x542df9(0xbe)](_0x1addbd=>{const _0x376c25=_0x542df9;let _0x478c05=config[_0x376c25(0x1d9)][_0x376c25(0x125)](_0x2ee76c=>_0x2ee76c[_0x376c25(0x119)]==_0x1addbd[_0x376c25(0x119)]),_0x56500d=Number(_0x478c05[_0x376c25(0x1a3)]),_0x590f36=_0x1addbd['value']/_0x18fed8*0x64,_0x1b12b3=_0x56500d*_0x18fed8/0x64/_0x1addbd[_0x376c25(0xd0)]-_0x1addbd[_0x376c25(0x151)];_0x1addbd['distribution']=formatResult(_0x590f36,0x3),_0x1addbd[_0x376c25(0xc7)]=formatResult(_0x56500d,0x3),_0x1addbd[_0x376c25(0x14d)]=formatResult(_0x1b12b3,0x8),_0x1addbd['side']='',_0x1addbd[_0x376c25(0xd9)]=![];if(_0x1addbd[_0x376c25(0x119)]!=config[_0x376c25(0x1b6)]){if(_0x1addbd[_0x376c25(0x1a3)]>_0x56500d)_0x1addbd[_0x376c25(0x1b5)]='sell',_0x1addbd[_0x376c25(0xd9)]=checkMinimums(_0x1addbd);else _0x1addbd[_0x376c25(0x1a3)]<_0x56500d&&(_0x1addbd['side']=_0x376c25(0x1be),_0x1addbd[_0x376c25(0xd9)]=checkMinimums(_0x1addbd));}_0x1addbd[_0x376c25(0x1d1)]=_0x1addbd['distribution']/_0x1addbd[_0x376c25(0xc7)]-0x1;if(_0x1addbd[_0x376c25(0xfe)]==_0x376c25(0x12f)||_0x1addbd[_0x376c25(0xfe)]==_0x376c25(0x19c))_0x1addbd[_0x376c25(0xfe)]=_0x376c25(0xcc);}),currentCoins[_0x542df9(0x15c)]((_0x5b2d51,_0x47e369)=>_0x5b2d51[_0x542df9(0x1d1)]<_0x47e369['delta']?0x1:_0x47e369[_0x542df9(0x1d1)]<_0x5b2d51[_0x542df9(0x1d1)]?-0x1:0x0);const _0x30c038=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x30c038['eur'],'usd':_0x30c038[_0x542df9(0xb5)],'portfolio':JSON[_0x542df9(0x1e8)](currentCoins),'threshold':_0x36b86f},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x542df9(0xc2)])headlessMode({'portfolio':currentCoins,'threshold':_0x36b86f});else{if(lockOrders==ORDERS[_0x542df9(0x1f9)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x36b86f});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5ca32b=_0x5132c3;if(!lastBalances)return;let _0x440148=[],_0x138934,_0x36fe85=JSON[_0x5ca32b(0x172)](lastBalances[_0x5ca32b(0x1d9)]);_0x36fe85['sort']((_0x1bdaa7,_0x2d9bb5)=>_0x1bdaa7[_0x5ca32b(0x119)]>_0x2d9bb5['coin']?0x1:_0x2d9bb5[_0x5ca32b(0x119)]>_0x1bdaa7[_0x5ca32b(0x119)]?-0x1:0x0),_0x36fe85[_0x5ca32b(0xbe)](_0x36a860=>{const _0x603179=_0x5ca32b;let _0x2a04d6={'coin':_0x36a860['coin'],'number':_0x36a860[_0x603179(0x151)],'price':_0x36a860[_0x603179(0xd0)]};_0x440148[_0x603179(0x17e)](_0x2a04d6);});const _0x483d65=await getFiat();_0x138934={'date':lastBalances[_0x5ca32b(0x13b)][_0x5ca32b(0x164)]('\x20')[0x0],'eur':_0x483d65[_0x5ca32b(0x19d)],'usd':_0x483d65[_0x5ca32b(0xb5)],'coins':_0x440148};let _0x3fb037=dbPerformance[_0x5ca32b(0xdc)]('data')[_0x5ca32b(0x125)]({'date':_0x138934['date']})[_0x5ca32b(0x204)]();_0x3fb037?_0x138934[_0x5ca32b(0x13f)]!=config[_0x5ca32b(0x16c)]&&dbPerformance['get']('data')['find']({'date':_0x138934['date']})[_0x5ca32b(0x11b)](_0x138934)[_0x5ca32b(0x1b9)]():dbPerformance[_0x5ca32b(0xdc)](_0x5ca32b(0x1fd))['push'](_0x138934)[_0x5ca32b(0x1b9)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1c12d6=_0x5132c3;let _0x2453b9=[];if(dbPerformance[_0x1c12d6(0x196)](_0x1c12d6(0x1fd))[_0x1c12d6(0x204)]()){let _0x238981=dbPerformance[_0x1c12d6(0xdc)](_0x1c12d6(0x1fd))[_0x1c12d6(0x114)]()[_0x1c12d6(0xb7)]('date')[_0x1c12d6(0x204)](),_0x247b43=[...config[_0x1c12d6(0x127)]];_0x247b43[_0x1c12d6(0x15c)]((_0x38c2e6,_0x172f63)=>_0x38c2e6['date']>_0x172f63['date']?-0x1:_0x172f63[_0x1c12d6(0x13f)]>_0x38c2e6[_0x1c12d6(0x13f)]?0x1:0x0);let _0xe142a7=0x1,_0x4ec186=[],_0x29de5e=0x0;_0x238981[_0x1c12d6(0x1f6)]()[_0x1c12d6(0xbf)]()['forEach']((_0x49b7e4,_0x3d354a)=>{const _0x14fd5e=_0x1c12d6;if(_0x247b43[_0x29de5e]){if(_0x238981[_0x238981[_0x14fd5e(0x1ca)]-_0x3d354a]&&_0x247b43[_0x29de5e][_0x14fd5e(0x13f)]==_0x238981[_0x238981[_0x14fd5e(0x1ca)]-_0x3d354a][_0x14fd5e(0x13f)]){if(_0x3d354a<_0x238981[_0x14fd5e(0x1ca)]){let _0x3d0e6b=0x0,_0x34d32b=0x0;_0x238981[_0x238981[_0x14fd5e(0x1ca)]-_0x3d354a][_0x14fd5e(0xb8)][_0x14fd5e(0xbe)](_0x538572=>{const _0x11b6f5=_0x14fd5e;_0x34d32b+=_0x538572[_0x11b6f5(0x151)]*_0x538572[_0x11b6f5(0xbb)];}),_0x247b43[_0x29de5e]['changes'][_0x14fd5e(0xbe)](_0x133054=>{const _0x5150bd=_0x14fd5e;_0x3d0e6b+=_0x133054[_0x5150bd(0x151)]*_0x133054[_0x5150bd(0xbb)];}),_0xe142a7*=_0x3d0e6b/(_0x34d32b-_0x3d0e6b)+0x1;}_0x29de5e++;}}let _0x306a09=0x0;_0x49b7e4[_0x14fd5e(0xb8)][_0x14fd5e(0xbe)](_0x18cec6=>{const _0xd61e77=_0x14fd5e;_0x306a09+=_0x18cec6[_0xd61e77(0x151)]*_0x18cec6[_0xd61e77(0xbb)];}),_0x4ec186[_0x238981[_0x14fd5e(0x1ca)]-_0x3d354a-0x1]=_0x306a09*(_0xe142a7-0x1);});let _0x3c9dae=[];_0x247b43=[...config['liquidity']]||[];let _0x2a8742=0x0;_0x29de5e=0x0,_0x238981['forEach']((_0x3c202c,_0x47a900)=>{const _0x3d3d96=_0x1c12d6;if(_0x247b43[_0x29de5e]){const _0x4f94e5=fns['parse'](_0x247b43[_0x29de5e][_0x3d3d96(0x13f)],_0x3d3d96(0x214),new Date()),_0x215051=fns[_0x3d3d96(0x172)](_0x3c202c[_0x3d3d96(0x13f)],_0x3d3d96(0x214),new Date());if(fns[_0x3d3d96(0x1bd)](_0x4f94e5,_0x215051)){let _0x822cbd=0x0;_0x247b43[_0x29de5e]['changes']['forEach'](_0xa37fe2=>{const _0x2e1ae1=_0x3d3d96;!_0x3c9dae[_0xa37fe2['coin']]?_0x3c9dae[_0xa37fe2[_0x2e1ae1(0x119)]]=_0xa37fe2[_0x2e1ae1(0x151)]:(_0x822cbd=_0x3c9dae[_0xa37fe2[_0x2e1ae1(0x119)]],_0x3c9dae[_0xa37fe2[_0x2e1ae1(0x119)]]+=_0xa37fe2['number']);const _0x36d752=_0x3c202c[_0x2e1ae1(0xb8)][_0x2e1ae1(0x125)](_0x1ccfe5=>_0x1ccfe5[_0x2e1ae1(0x119)]==_0xa37fe2[_0x2e1ae1(0x119)]);(!_0x36d752||_0x36d752['number']==0x0)&&(_0x2a8742+=(-_0xa37fe2[_0x2e1ae1(0x151)]-_0x822cbd)*_0xa37fe2[_0x2e1ae1(0xbb)]);}),_0x29de5e++;}}_0x3c202c[_0x3d3d96(0xb8)]['forEach']((_0x1c96fc,_0x463812)=>{const _0x14eb71=_0x3d3d96;_0x3c9dae[_0x1c96fc[_0x14eb71(0x119)]]&&(_0x1c96fc={..._0x1c96fc,'initial':_0x3c9dae[_0x1c96fc[_0x14eb71(0x119)]]}),_0x3c202c[_0x14eb71(0xb8)][_0x463812]=_0x1c96fc;}),_0x2453b9[_0x3d3d96(0x17e)]({'date':_0x3c202c['date'],'eur':_0x3c202c['eur'],'usd':_0x3c202c['usd'],'offset':_0x4ec186[_0x47a900],'netoffset':_0x2a8742,'coins':_0x3c202c[_0x3d3d96(0xb8)]});});}return _0x2453b9;}function emitPerformance(_0x311e16){const _0x37f55b=_0x5132c3;_0x311e16[_0x37f55b(0x1ca)]!==0x0?(proxyEmit(_0x37f55b(0x12a),_0x311e16),lastPerformanceEmitted=getDate()):proxyEmit(_0x37f55b(0x12a),[]);}function getPerf(_0x1241aa,_0x377926){const _0x2eb67c=_0x5132c3;let _0x3c63d9=0x0,_0x189e1a=0x0,_0x32eab0=0x0;_0x1241aa[_0x2eb67c(0xb8)][_0x2eb67c(0xbe)](_0x5788e2=>{const _0x1bc63d=_0x2eb67c;_0x3c63d9+=_0x5788e2[_0x1bc63d(0x151)]*_0x5788e2[_0x1bc63d(0xbb)];});_0x377926&&(_0x3c63d9+=_0x1241aa['offset']);if(config[_0x2eb67c(0x1b6)]==='BTC'||config[_0x2eb67c(0x1b6)]==='ETH')_0x189e1a=_0x3c63d9*_0x1241aa[_0x2eb67c(0x19d)],_0x32eab0=_0x3c63d9*_0x1241aa['usd'];else{if(config['basecoin']===_0x2eb67c(0x185)||config[_0x2eb67c(0x1b6)]==='USDT')_0x189e1a=_0x3c63d9*_0x1241aa[_0x2eb67c(0x19d)]/_0x1241aa[_0x2eb67c(0xb5)],_0x32eab0=_0x3c63d9;else config[_0x2eb67c(0x1b6)]===_0x2eb67c(0x1b8)&&(_0x189e1a=_0x3c63d9,_0x32eab0=_0x3c63d9*_0x1241aa[_0x2eb67c(0xb5)]/_0x1241aa[_0x2eb67c(0x19d)]);}return[_0x3c63d9,_0x189e1a,_0x32eab0];}function getKPIs(_0x199cf0,_0x4bff2b=_0x5132c3(0x1b8)){const _0x41227d=_0x5132c3,_0x2f2840=config[_0x41227d(0x1b6)],_0x5d85a3=config[_0x41227d(0xd1)],_0x325b50=currentCoins,_0x4bbc7c=getNormalizedPerformance(),_0x5d14c9=_0x199cf0===_0x41227d(0x1b6)?_0x2f2840:_0x199cf0===_0x41227d(0x11c)||_0x199cf0==='net-fiat'?_0x4bff2b:'Net\x20'+_0x2f2840,_0x21c5c3=_0x199cf0===_0x41227d(0x13c)?'Net\x20effect':_0x199cf0===_0x41227d(0x12b)?'Net\x20effect\x20('+_0x5d14c9+')':_0x5d14c9+_0x41227d(0x150),_0x30a879=_0x199cf0===_0x41227d(0x13c)||_0x199cf0===_0x41227d(0x12b)?_0x41227d(0x1f8):_0x5d14c9+_0x41227d(0x206);let _0x336981=0x0;_0x325b50['forEach'](_0x3b3e0f=>{const _0x1ba1ad=_0x41227d;_0x336981+=_0x3b3e0f[_0x1ba1ad(0x151)]*_0x3b3e0f[_0x1ba1ad(0xd0)];});if(_0x199cf0===_0x41227d(0x11c)||_0x199cf0===_0x41227d(0x12b)){if(_0x2f2840===_0x41227d(0x156)||_0x2f2840==='ETH')_0x336981=_0x336981*(_0x4bff2b==='EUR'?_0x5d85a3[_0x41227d(0x19d)]:_0x5d85a3[_0x41227d(0xb5)]);else{if(_0x2f2840===_0x41227d(0x185)||_0x2f2840===_0x41227d(0x139))_0x336981=_0x336981*(_0x4bff2b===_0x41227d(0x1b8)?_0x5d85a3['eur']/_0x5d85a3[_0x41227d(0xb5)]:0x1);else _0x2f2840===_0x41227d(0x1b8)&&(_0x336981=_0x336981*(_0x4bff2b===_0x41227d(0x1b8)?0x1:_0x5d85a3[_0x41227d(0xb5)]/_0x5d85a3[_0x41227d(0x19d)]));}}let _0x1ff1e6;if(_0x336981!==0x0){if(_0x199cf0===_0x41227d(0x1b6))_0x1ff1e6=(_0x336981/startingBalances[_0x41227d(0x1b6)]-0x1)*0x64;else{if(_0x4bff2b===_0x41227d(0x1b8))_0x1ff1e6=(_0x336981/startingBalances['eur']-0x1)*0x64;else _0x1ff1e6=(_0x336981/startingBalances[_0x41227d(0xb5)]-0x1)*0x64;}let _0x3d364e=0x0;if(startingBalances[_0x41227d(0xb8)])_0x325b50[_0x41227d(0xbe)](_0x24263e=>{const _0x3815c2=_0x41227d;let _0x536132=startingBalances[_0x3815c2(0xb8)][_0x3815c2(0x125)](_0x2f5680=>_0x2f5680[_0x3815c2(0x119)]===_0x24263e[_0x3815c2(0x119)]);if(_0x536132&&_0x536132['coin']&&_0x24263e['number']!==0x0)_0x3d364e+=_0x536132['number']*_0x24263e[_0x3815c2(0xd0)];});let _0x491df8=0x0;if(_0x4bbc7c[_0x41227d(0x1ca)]!==0x0){let _0x32022e=_0x4bbc7c[_0x4bbc7c[_0x41227d(0x1ca)]-0x1];_0x491df8=_0x32022e['netoffset'];}_0x3d364e-=_0x491df8;_0x199cf0===_0x41227d(0x13c)&&(_0x1ff1e6=(_0x336981-_0x3d364e)/startingBalances[_0x41227d(0x1b6)]*0x64,_0x336981=_0x336981-_0x3d364e);if(_0x199cf0==='net-fiat'){let _0x5d004c=_0x4bff2b===_0x41227d(0x1b8)?startingBalances['eur']:startingBalances[_0x41227d(0xb5)];if(_0x2f2840===_0x41227d(0x156)||_0x2f2840===_0x41227d(0x1b7))_0x3d364e=_0x4bff2b===_0x41227d(0x1b8)?_0x3d364e*_0x5d85a3[_0x41227d(0x19d)]:_0x3d364e*_0x5d85a3[_0x41227d(0xb5)];else{if(_0x2f2840==='BUSD'||_0x2f2840===_0x41227d(0x139))_0x3d364e=_0x4bff2b===_0x41227d(0x1b8)?_0x3d364e*_0x5d85a3[_0x41227d(0x19d)]/_0x5d85a3['usd']:_0x3d364e;else _0x2f2840===_0x41227d(0x1b8)&&(_0x3d364e=_0x4bff2b==='EUR'?_0x3d364e:_0x3d364e*_0x5d85a3[_0x41227d(0xb5)]/_0x5d85a3[_0x41227d(0x19d)]);}_0x1ff1e6=(_0x336981-_0x3d364e)/_0x5d004c*0x64,_0x336981=_0x336981-_0x3d364e;}if(_0x1ff1e6){if(_0x1ff1e6<0x64)_0x1ff1e6=_0x1ff1e6[_0x41227d(0x17c)](0x2);else{if(_0x1ff1e6<0x3e8)_0x1ff1e6=_0x1ff1e6[_0x41227d(0x17c)](0x1);else _0x1ff1e6=_0x1ff1e6['toFixed'](0x0);}}else _0x1ff1e6=Number('0')[_0x41227d(0x17c)](0x2);if(_0x336981){if(Math[_0x41227d(0x1a0)](_0x336981)<0.000001)_0x336981=_0x336981[_0x41227d(0x17c)](0x2);else{if(Math[_0x41227d(0x1a0)](_0x336981)<0.1)_0x336981=_0x336981[_0x41227d(0x17c)](0x6);else{if(Math[_0x41227d(0x1a0)](_0x336981)<0x1)_0x336981=_0x336981[_0x41227d(0x17c)](0x5);else{if(Math[_0x41227d(0x1a0)](_0x336981)<0xa)_0x336981=_0x336981[_0x41227d(0x17c)](0x4);else{if(Math['abs'](_0x336981)<0x64)_0x336981=_0x336981[_0x41227d(0x17c)](0x3);else{if(Math[_0x41227d(0x1a0)](_0x336981)<0x3e8)_0x336981=_0x336981[_0x41227d(0x17c)](0x2);else _0x336981=_0x336981[_0x41227d(0x17c)](0x2);}}}}}}else _0x336981=Number('0')['toFixed'](0x2);}else _0x1ff1e6=Number('0')[_0x41227d(0x17c)](0x2);return{'value':_0x336981,'change':_0x1ff1e6,'leftTxt':_0x21c5c3,'rightTxt':_0x30a879};}async function getStartingBalances(_0x102942,_0x477979=!![]){const _0x229aaf=_0x5132c3;if(_0x102942['length']!==0x0){const [_0x468de7,_0x848c7d,_0x256e1c]=getPerf(_0x102942[0x0],!![]);let _0x215627=[];config['portfolio'][_0x229aaf(0xbe)](_0x1b0bc7=>{const _0xd184d8=_0x229aaf;let _0x3768c6=0x0,_0x3d8065;config[_0xd184d8(0x127)][_0xd184d8(0xbe)](_0x1d3592=>{const _0x5d5ecc=_0xd184d8;let _0xcae561=_0x1d3592['changes'][_0x5d5ecc(0x125)](_0x20807f=>_0x20807f['coin']==_0x1b0bc7[_0x5d5ecc(0x119)]);if(_0xcae561){_0x3768c6+=_0xcae561[_0x5d5ecc(0x151)];if(!_0x3d8065)_0x3d8065=_0xcae561['price'];}}),_0x215627[_0xd184d8(0x17e)]({'coin':_0x1b0bc7[_0xd184d8(0x119)],'number':_0x3768c6,'initialprice':_0x3d8065});});const _0x1f223d={'basecoin':_0x468de7,'eur':_0x848c7d,'usd':_0x256e1c,'coins':_0x215627};if(_0x477979)proxyEmit(_0x229aaf(0x1dd),_0x1f223d);startingBalances=_0x1f223d;}}function headlessMode(_0x5e2964){const _0xaeb4c=_0x5132c3;let _0x4f1724=_0x5e2964[_0xaeb4c(0x1d9)],_0x42da6f=_0x5e2964[_0xaeb4c(0x18a)],_0x261944=[];for(let _0x5b23bf of _0x4f1724){if(_0x5b23bf['coin']!=config[_0xaeb4c(0x1b6)]){if(_0x5b23bf['delta']>=_0x42da6f/0x64){if(_0x5b23bf[_0xaeb4c(0xd9)])_0x261944[_0xaeb4c(0x17e)](_0x5b23bf);}else{if(_0x5b23bf[_0xaeb4c(0x1d1)]<=-_0x42da6f/0x64){if(_0x5b23bf[_0xaeb4c(0xd9)])_0x261944['push'](_0x5b23bf);}}}}_0x261944[_0xaeb4c(0x1ca)]>0x0&&placeOrder(_0x261944);}function notifyBalance(_0x5bf272){const _0xdda919=_0x5132c3;let _0x2e1f24=_0x5bf272[_0xdda919(0x1d9)],_0x66cb01=_0x5bf272[_0xdda919(0x18a)],_0x3c1ada=[];for(let _0x34c307 of _0x2e1f24){if(_0x34c307[_0xdda919(0x119)]!=config['basecoin']){if(_0x34c307['delta']>=_0x66cb01/0x64){if(_0x34c307[_0xdda919(0xd9)])_0x3c1ada[_0xdda919(0x17e)](_0x34c307);}else{if(_0x34c307['delta']<=-_0x66cb01/0x64){if(_0x34c307['valid'])_0x3c1ada[_0xdda919(0x17e)](_0x34c307);}}}}if(_0x3c1ada['length']>0x0){let _0x2caaf4=_0x3c1ada[_0xdda919(0xdb)](_0x4517a7=>_0x4517a7[_0xdda919(0x119)]);_0x2caaf4[_0xdda919(0x15c)]();let _0x10b32d=_0x2caaf4[_0xdda919(0x1a9)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0xdda919(0x191));lastCoinsToBalance=_0x10b32d;}}function symbolToCoin(_0x3967db){const _0x36f5d9=_0x5132c3;let _0x15c9a9;if(_0x3967db['includes']('/'+config['basecoin']))_0x15c9a9=_0x3967db[_0x36f5d9(0x182)]('/'+config[_0x36f5d9(0x1b6)],'');if(_0x3967db['includes'](config['basecoin']+'/'))_0x15c9a9=_0x3967db['replace'](config[_0x36f5d9(0x1b6)]+'/','');return _0x15c9a9;}async function unlockOrders(){const _0x1f3e3c=_0x5132c3;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x1f3e3c(0x1ae)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x1f3e3c(0x12e),persistOpenOrders([]),lockOrders=ORDERS[_0x1f3e3c(0x1f9)],logger[_0x1f3e3c(0x108)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x48ac34){const _0x7bd407=_0x5132c3;if(_0x48ac34)validateOrdersState=_0x48ac34;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x7bd407(0xe2)+(lockOrders==0x1?_0x7bd407(0x1c5):lockOrders==0x2?_0x7bd407(0x116):_0x7bd407(0x203)));let _0x3f9ea1=[],_0x53e469=config[_0x7bd407(0xdd)]==_0x7bd407(0x1ff)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x7bd407(0x1ed)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x7bd407(0x122)])return;logger[_0x7bd407(0x108)](_0x7bd407(0xf1)+validateOrdersState),lastOrders['forEach'](_0x2fc4de=>{const _0x297e12=_0x7bd407;let _0x472f9e=![];_0x2fc4de['filled']>0x0&&(_0x472f9e=!![]),_0x3f9ea1['push'](_0x472f9e),_0x472f9e&&config[_0x297e12(0xdd)]!=_0x297e12(0x1ff)&&logHistory(_0x297e12(0xc0),_0x297e12(0x161)+_0x2fc4de[_0x297e12(0x137)]+'\x20'+_0x2fc4de[_0x297e12(0x1b5)]+'\x20#'+formatResult(_0x2fc4de[_0x297e12(0x12f)],0x8)+'\x20@'+formatResult(_0x2fc4de[_0x297e12(0xbb)],0x8));}),_0x3f9ea1[_0x7bd407(0xbe)]((_0x53939a,_0x4ebc04)=>{const _0x3ecca6=_0x7bd407;if(_0x53939a)lastOrders[_0x3ecca6(0xab)](_0x4ebc04,0x1);}),persistOpenOrders(lastOrders);const _0x345394=coolingDown?_0x7bd407(0x15a):_0x7bd407(0x1d7);if(validateOrdersState=='initial')validateOrdersState=_0x7bd407(0x145),_0x3f9ea1[_0x7bd407(0xc4)](![])?config[_0x7bd407(0xdd)]==_0x7bd407(0x1ff)?logHistory(_0x7bd407(0x1fb),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x7bd407(0x1fb),_0x7bd407(0xf9)):await unlockOrders();else{if(validateOrdersState==_0x7bd407(0x145)){if(_0x3f9ea1[_0x7bd407(0xc4)](![])){}else allOrdersPlaced&&(config['ordertype']=='market'?logHistory(_0x7bd407(0x104),'Order(s)\x20validated\x20-\x20'+_0x345394):logHistory('success',_0x7bd407(0x1c6)+_0x345394),await unlockOrders());}else{if(validateOrdersState==_0x7bd407(0xe8))_0x3f9ea1['includes'](![])&&(config[_0x7bd407(0xdd)]==_0x7bd407(0x1ff)?logHistory(_0x7bd407(0x104),_0x7bd407(0xee)+Math[_0x7bd407(0x20d)](_0x53e469*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x345394):(await cancelOrders(),logHistory(_0x7bd407(0x104),_0x7bd407(0x102)+Math[_0x7bd407(0x20d)](_0x53e469*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x345394))),await unlockOrders();else{if(validateOrdersState==_0x7bd407(0xaf)){if(config[_0x7bd407(0xdd)]!=_0x7bd407(0x1ff))logHistory(_0x7bd407(0x104),'No\x20more\x20open\x20orders\x20-\x20'+_0x345394);await unlockOrders();}}}}}async function cancelOrders(){const _0x10121b=_0x5132c3;lastOrders[_0x10121b(0xbe)](async _0x3c5156=>{const _0x2712ac=_0x10121b;try{const _0x53a1b4=await exchange[_0x2712ac(0x19e)](_0x3c5156[_0x2712ac(0x1c7)],_0x3c5156[_0x2712ac(0x137)]);}catch(_0x568e2f){if(_0x568e2f[_0x2712ac(0x1f1)]()[_0x2712ac(0xc4)]('OrderNotFound')){}else await handleError(_0x568e2f,_0x2712ac(0xba));}});}async function initCoinResults(){const _0x15db28=_0x5132c3;let _0x18a744=[];config['portfolio'][_0x15db28(0xbe)](_0x5e2320=>{const _0x2a5267=_0x15db28;if(!_0x5e2320[_0x2a5267(0x216)]&&_0x5e2320[_0x2a5267(0x119)]!=config['basecoin']){let _0x1f98cd=dbCoinResults[_0x2a5267(0xdc)](_0x2a5267(0xb8))[_0x2a5267(0x125)]({'coin':_0x5e2320[_0x2a5267(0x119)]})[_0x2a5267(0x204)]();if(!_0x1f98cd){const _0x5dbcb7=currentCoins[_0x2a5267(0x125)](_0x328e07=>_0x328e07['coin']==_0x5e2320[_0x2a5267(0x119)]),_0x4f2437=global[_0x2a5267(0x18b)][noslash(_0x5e2320['symbol'])];let _0x15ec4e=_0x5dbcb7?_0x5dbcb7[_0x2a5267(0x151)]:null,_0x5976d8=_0x5e2320[_0x2a5267(0xbf)]?0x1/_0x4f2437:_0x4f2437,_0x2a5ed3;config[_0x2a5267(0x127)][_0x2a5267(0xbe)](_0xfd6630=>{const _0x9080c8=_0x2a5267;!_0x2a5ed3&&(_0x2a5ed3=_0xfd6630[_0x9080c8(0x1af)][_0x9080c8(0x125)](_0x237dfb=>_0x237dfb[_0x9080c8(0x119)]==_0x5e2320['coin']),_0x2a5ed3&&(_0x15ec4e=_0x2a5ed3[_0x9080c8(0x151)],_0x5976d8=_0x2a5ed3['price']));}),_0x18a744[_0x2a5267(0x17e)]({'coin':_0x5e2320['coin'],'number':_0x15ec4e,'price':_0x5976d8});}}}),_0x18a744[_0x15db28(0xbe)](_0x2473f5=>{const _0x4b3768=_0x15db28,_0x4ce564={'coin':_0x2473f5[_0x4b3768(0x119)],'number':_0x2473f5[_0x4b3768(0x151)],'breakeven':_0x2473f5[_0x4b3768(0xbb)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4b3768(0xdc)](_0x4b3768(0xb8))[_0x4b3768(0x17e)](_0x4ce564)[_0x4b3768(0x1b9)]();});}async function updateCoinResults(_0xe1f3b3,_0x4ae5df=![]){const _0xbb009e=_0x5132c3;let _0x5a24d0,_0x356ba3,_0x1a80e6,_0x24f59d,_0x59f8d6,_0x5007c5,_0x470379=dbCoinResults['get'](_0xbb009e(0xb8))[_0xbb009e(0x125)]({'coin':_0xe1f3b3[_0xbb009e(0x119)]})['value']();!_0x470379&&await initCoinResults();_0xe1f3b3[_0xbb009e(0xbf)]&&(_0x5007c5={'filled':_0xe1f3b3[_0xbb009e(0x12f)]*_0xe1f3b3[_0xbb009e(0xbb)],'amount':_0xe1f3b3[_0xbb009e(0x12f)]*_0xe1f3b3['price'],'side':_0xe1f3b3[_0xbb009e(0x1b5)]=='sell'?_0xbb009e(0x1be):_0xbb009e(0x154),'price':0x1/_0xe1f3b3[_0xbb009e(0xbb)]},_0xe1f3b3={..._0xe1f3b3,..._0x5007c5});_0x4ae5df?_0x356ba3=_0xe1f3b3['side']==_0xbb009e(0x1be)?_0x470379[_0xbb009e(0x151)]+_0xe1f3b3[_0xbb009e(0x12f)]:_0x470379[_0xbb009e(0x151)]-_0xe1f3b3['filled']:_0x356ba3=await getCoinNumber(_0xe1f3b3['coin']);if(_0xe1f3b3[_0xbb009e(0x212)]&&_0xe1f3b3['fee'][_0xbb009e(0x155)]==config[_0xbb009e(0x1b6)])_0x5a24d0=_0xe1f3b3['fee'][_0xbb009e(0xe1)];else{if(_0xe1f3b3[_0xbb009e(0x212)]&&_0xe1f3b3[_0xbb009e(0x212)]['currency']==_0xbb009e(0x1f4)&&!_0x4ae5df)_0x5a24d0=_0xe1f3b3['fee'][_0xbb009e(0xe1)]*global[_0xbb009e(0x18b)][_0xbb009e(0x1f4)+config['basecoin']];else _0x5a24d0=defaultFee*_0xe1f3b3[_0xbb009e(0x12f)]*_0xe1f3b3['price'];}_0xe1f3b3[_0xbb009e(0x1b5)]==_0xbb009e(0x1be)?(_0x1a80e6=_0x356ba3!=0x0?(_0x470379[_0xbb009e(0xac)]*_0x470379[_0xbb009e(0x151)]+_0xe1f3b3['price']*(_0x356ba3-_0x470379[_0xbb009e(0x151)])+_0x5a24d0)/_0x356ba3:0x0,_0x24f59d=_0x470379[_0xbb009e(0x141)]):(_0x1a80e6=_0x356ba3!=0x0?(_0x470379[_0xbb009e(0xac)]*_0x470379[_0xbb009e(0x151)]-_0xe1f3b3[_0xbb009e(0xbb)]*(_0x470379[_0xbb009e(0x151)]-_0x356ba3)+_0x5a24d0)/_0x356ba3:0x0,_0x24f59d=_0x470379[_0xbb009e(0x141)]+(_0xe1f3b3['price']-_0x470379['breakeven'])*_0xe1f3b3['filled']);_0x59f8d6=(_0xe1f3b3[_0xbb009e(0xbb)]-_0x1a80e6-_0x5a24d0/_0xe1f3b3[_0xbb009e(0x12f)])*_0x356ba3;let _0x170f1a={'coin':_0xe1f3b3['coin'],'number':_0x356ba3,'breakeven':formatResult(_0x1a80e6,0x8),'realized':formatResult(_0x24f59d,0x8),'unrealized':formatResult(_0x59f8d6,0x8),'fees':formatResult(_0x470379[_0xbb009e(0xae)]+_0x5a24d0,0x8),'sells':_0xe1f3b3[_0xbb009e(0x1b5)]==_0xbb009e(0x154)?_0x470379['sells']+0x1:_0x470379['sells'],'buys':_0xe1f3b3['side']==_0xbb009e(0x1be)?_0x470379[_0xbb009e(0x16a)]+0x1:_0x470379[_0xbb009e(0x16a)]};dbCoinResults[_0xbb009e(0xdc)](_0xbb009e(0xb8))[_0xbb009e(0x125)]({'coin':_0xe1f3b3['coin']})[_0xbb009e(0x11b)](_0x170f1a)[_0xbb009e(0x1b9)]();if(!_0x4ae5df){if(_0xe1f3b3[_0xbb009e(0x212)]&&_0xe1f3b3[_0xbb009e(0x212)][_0xbb009e(0x155)]==_0xbb009e(0x1f4)){const _0x56a4e1=currentCoins[_0xbb009e(0x125)](_0x3f60c8=>_0x3f60c8[_0xbb009e(0x119)]=='BNB');if(_0x56a4e1){let _0x2daed9=dbCoinResults[_0xbb009e(0xdc)](_0xbb009e(0xb8))['find']({'coin':_0xbb009e(0x1f4)})['value']();_0x170f1a={..._0x2daed9,'number':_0x56a4e1[_0xbb009e(0x151)]},dbCoinResults['get'](_0xbb009e(0xb8))['find']({'coin':_0xbb009e(0x1f4)})['assign'](_0x170f1a)[_0xbb009e(0x1b9)]();}}}}async function placeOrder(_0x5768f2){const _0x1a89ac=_0x5132c3,_0x39a531=config['ordertype']==_0x1a89ac(0x1ff)?_0x1a89ac(0x1ff):_0x1a89ac(0xff);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x1a89ac(0x122)],allOrdersPlaced=![],validateOrdersState=_0x1a89ac(0x12e),lastOrders=[];for(const _0xa4a5d of _0x5768f2){let _0x3414b7,_0x2fa076,_0x42d078,_0x290903,_0x2d5657,_0x38373a=_0xa4a5d[_0x1a89ac(0x137)];try{const _0xdd8e22=await exchange['fetchTickers']([_0x38373a]),_0x412614=_0xdd8e22[_0x38373a];_0x3414b7=_0xa4a5d['reverse']?0x1/_0xa4a5d['last']:_0xa4a5d[_0x1a89ac(0xd0)],_0x2fa076=_0x412614[_0x1a89ac(0x1d2)],_0x42d078=_0x412614[_0x1a89ac(0x157)];_0xa4a5d[_0x1a89ac(0xbf)]?(_0x290903=_0xa4a5d[_0x1a89ac(0x1b5)]==_0x1a89ac(0x1be)?_0x1a89ac(0x154):_0x1a89ac(0x1be),_0x2d5657=Math['abs'](_0xa4a5d[_0x1a89ac(0x14d)])/_0x3414b7):(_0x290903=_0xa4a5d[_0x1a89ac(0x1b5)],_0x2d5657=Math[_0x1a89ac(0x1a0)](_0xa4a5d['trade']));_0x39a531==_0x1a89ac(0xff)&&(config[_0x1a89ac(0xdd)]=='limit-high'&&(_0x3414b7=_0x290903=='buy'?_0x2fa076:_0x42d078),config[_0x1a89ac(0xdd)]==_0x1a89ac(0x14f)&&(_0x3414b7=_0x290903==_0x1a89ac(0x1be)?_0x42d078:_0x2fa076));_0x2d5657=formatResult(_0x2d5657,0x8),_0x3414b7=formatResult(_0x3414b7,0x8);const _0x406bc0=_0x290903==_0x1a89ac(0x154)?config['emojisell']?String[_0x1a89ac(0x135)]('0x'+config[_0x1a89ac(0x105)])+'\x20':'':config[_0x1a89ac(0x147)]?String[_0x1a89ac(0x135)]('0x'+config['emojibuy'])+'\x20':'',_0x183721=_0x39a531==_0x1a89ac(0x1ff)?_0x1a89ac(0x1a5):config[_0x1a89ac(0xdd)]==_0x1a89ac(0x1da)?'Limit\x20(high-margin)':_0x1a89ac(0x1ce),_0x49e8e3=new Date()[_0x1a89ac(0x176)]()[_0x1a89ac(0x1f1)]()[_0x1a89ac(0x1f6)](-0x6)+'-'+Math['random']()['toString']()[_0x1a89ac(0x1f6)](-0x6);lastOrders['push']({'customId':_0x49e8e3,'symbol':_0x38373a,'coin':_0xa4a5d[_0x1a89ac(0x119)],'side':_0x290903,'reverse':_0xa4a5d[_0x1a89ac(0xbf)],'filled':0x0});if(_0x39a531==_0x1a89ac(0x1ff))logHistory(_0x1a89ac(0xc0),''+_0x406bc0+_0x183721+'\x20order:\x20'+_0x38373a+'\x20'+_0x290903+'\x20#'+formatResult(_0x2d5657,0x8)+'\x20@'+formatResult(_0x3414b7,0x8));else logHistory(_0x1a89ac(0xc0),''+_0x406bc0+_0x183721+_0x1a89ac(0x158)+_0x38373a+'\x20'+_0x290903+'\x20#'+formatResult(_0x2d5657,0x8)+'\x20@'+formatResult(_0x3414b7,0x8));const _0x133dca=await exchange[_0x1a89ac(0xb0)](_0x38373a,_0x39a531,_0x290903,_0x2d5657,_0x3414b7,{'clientOrderId':_0x49e8e3}),_0x4b6861=lastOrders['length']-0x1;_0x4b6861>=0x0&&lastOrders[_0x4b6861]['customId']==_0x49e8e3&&(lastOrders[_0x4b6861]={...lastOrders[_0x4b6861],'orderId':_0x133dca['id'],'amount':_0x133dca[_0x1a89ac(0x1b1)],'price':_0x133dca[_0x1a89ac(0xbb)],'fee':_0x133dca['fee']});if(config['cooldown']!=0x0){let _0x4a2c38=null;if(cooldownTracker[_0x1a89ac(0x1ca)]==config[_0x1a89ac(0x1e9)]-0x1)_0x4a2c38=cooldownTracker['shift']();const _0x483a0c=getTimeStamp();cooldownTracker['push'](_0x483a0c);if(_0x4a2c38){const _0x8e8b70=fns[_0x1a89ac(0x13d)](new Date(_0x483a0c),new Date(_0x4a2c38));if(_0x8e8b70<cooldownInterval){logHistory(_0x1a89ac(0xfd),_0x1a89ac(0x16e)+config[_0x1a89ac(0x1e9)]+_0x1a89ac(0x1de)+cooldownInterval/0x3c+_0x1a89ac(0x167)+cooldownPeriod/(0xe10*0x3e8)+_0x1a89ac(0xfb)),coolingDown=!![];break;}}}}catch(_0x319ac8){if(_0x319ac8[_0x1a89ac(0x1f1)]()[_0x1a89ac(0xc4)]('MIN_NOTIONAL'))lastOrders=lastOrders[_0x1a89ac(0x189)](_0x301197=>_0x301197['symbol']!=_0x38373a),logHistory(_0x1a89ac(0xfd),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x38373a);else _0x319ac8['toString']()['includes']('Invalid\x20quantity')?(lastOrders=lastOrders[_0x1a89ac(0x189)](_0x437b91=>_0x437b91[_0x1a89ac(0x137)]!=_0x38373a),logHistory('error',_0x1a89ac(0x1a1)+_0x38373a)):(lastOrders=lastOrders[_0x1a89ac(0x189)](_0x3dd46e=>_0x3dd46e[_0x1a89ac(0x137)]!=_0x38373a),await handleError(_0x319ac8,'placeOrder()',_0x38373a));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x52dde9=config['ordertype']==_0x1a89ac(0x1ff)?validateOrderTimeout*0x3c*0x3e8:config[_0x1a89ac(0x1ed)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x52dde9);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1a89ac(0x104),_0x1a89ac(0x1c4)));}else{if(coolingDown)!config['headless']&&logHistory(_0x1a89ac(0xfd),_0x1a89ac(0x10a));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x1a89ac(0xc2)]&&(config[_0x1a89ac(0xdd)]==_0x1a89ac(0x1ff)?logHistory(_0x1a89ac(0xfd),_0x1a89ac(0x1b3)):logHistory(_0x1a89ac(0xfd),_0x1a89ac(0x1cc))));}}function persistOpenOrders(_0x2b8001){const _0x276220=_0x5132c3,_0x39d7d6={...config,'openOrders':_0x2b8001};let _0xe9c94d=dbConfig[_0x276220(0xdc)]('bot')[_0x276220(0x125)]({'botID':botID})[_0x276220(0x204)]();_0xe9c94d&&dbConfig['get'](_0x276220(0x15e))[_0x276220(0x125)]({'botID':botID})[_0x276220(0x11b)](_0x39d7d6)[_0x276220(0x1b9)]();}function restoreOrders(){const _0x47dd00=_0x5132c3;let _0x29aed7;config['openOrders']&&allOpenOrders[_0x47dd00(0xbe)](_0x5bd6a5=>{const _0x5baa3a=_0x47dd00,_0x5da685=config[_0x5baa3a(0x1ba)][_0x5baa3a(0x125)](_0x11efab=>_0x11efab[_0x5baa3a(0x1c7)]==_0x5bd6a5['id']);_0x5da685&&(lastOrders[_0x5baa3a(0x17e)](_0x5da685),_0x29aed7=_0x5bd6a5['timestamp']);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x47dd00(0x122)],validateOrdersState=_0x47dd00(0x145),allOrdersPlaced=!![];const _0x28e87a=new Date()[_0x47dd00(0x176)](),_0x59346f=config[_0x47dd00(0xdd)]==_0x47dd00(0x1ff)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x29aed7+_0x59346f>_0x28e87a){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xdd3441=_0x47dd00;validateOrders(_0xdd3441(0xe8));},_0x29aed7+_0x59346f-_0x28e87a);}else validateOrders(_0x47dd00(0xe8));}}async function sendPortfolioTelegram(){const _0x164f73=_0x5132c3;if(loading[_0x164f73(0x198)]!=0x64){process[_0x164f73(0x1e0)]({'telegrammsg':_0x164f73(0xe5)},_0x3c1323=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x94597b=[_0x164f73(0x1b8),_0x164f73(0x185),_0x164f73(0x139)],_0x3c2402=_0x94597b[_0x164f73(0xc4)](config[_0x164f73(0x1b6)])?0x2:0x8;let _0x228fb2='';if(config[_0x164f73(0x19a)])_0x228fb2=_0x164f73(0xf3)+config[_0x164f73(0x1a7)]+_0x164f73(0x1c0);else _0x228fb2='<b>Bot\x20'+botID+_0x164f73(0x1c0);const _0x498b0e=getKPIs('basecoin'),_0x555b1f=getKPIs(_0x164f73(0x13c));_0x228fb2+=_0x164f73(0x129),_0x228fb2+=_0x498b0e[_0x164f73(0x11d)]+_0x164f73(0x169)+_0x498b0e[_0x164f73(0x204)]+'\x20\x0a',_0x228fb2+=_0x498b0e['rightTxt']+':\x20'+_0x498b0e[_0x164f73(0x215)]+_0x164f73(0xeb),_0x228fb2+=_0x555b1f[_0x164f73(0x11d)]+':\x20'+_0x555b1f[_0x164f73(0x204)]+'\x20'+config[_0x164f73(0x1b6)]+'\x0a',_0x228fb2+=_0x555b1f[_0x164f73(0x16d)]+':\x20'+_0x555b1f[_0x164f73(0x215)]+_0x164f73(0xeb),_0x228fb2+='\x0a',_0x228fb2+='-------------------------------\x0a',_0x228fb2+=_0x164f73(0x146),_0x228fb2+=_0x164f73(0x132),currentCoins[_0x164f73(0xbe)](_0x34126d=>{const _0x37d2a2=_0x164f73;_0x228fb2+=_0x34126d[_0x37d2a2(0x119)]['padEnd'](0x7)+'|\x20'+formatPad(_0x34126d['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x34126d['target'],0x2,0x6)+'|\x20'+formatPad(_0x34126d['delta']*0x64,0x2,0x6)+'\x0a';}),_0x228fb2+=_0x164f73(0x20a),process[_0x164f73(0x1e0)]({'telegrammsg':_0x228fb2},_0x3f279d=>{});}function formatPad(_0x45de35,_0x28f729,_0x59f0d0){const _0x4aa40a=_0x5132c3,_0x2d3f36=formatResultString(_0x45de35,_0x28f729);return _0x2d3f36?_0x2d3f36[_0x4aa40a(0x183)](_0x59f0d0):''[_0x4aa40a(0x183)](_0x59f0d0);}function logHistory(_0x1f22b4,_0x343e92,_0x34a6e2=''){const _0x3d0222=_0x5132c3;let _0x328326={'time':getTimeStamp(),'type':_0x1f22b4,'event':_0x343e92};dbLogs[_0x3d0222(0xdc)](_0x3d0222(0x166))[_0x3d0222(0x17e)](_0x328326)['write']();if(_0x34a6e2=='')_0x34a6e2=_0x343e92;proxyEmit('event',{'log':_0x328326,'summary':_0x34a6e2}),process[_0x3d0222(0x1e0)]({'telegram':{..._0x328326,'botname':config['botname'],'showname':config[_0x3d0222(0x19a)]}},_0x4d3a2b=>{}),logger[_0x3d0222(0xb1)](''+_0x328326[_0x3d0222(0x171)]);}function emitHistory(_0x3dabeb={}){const _0x147195=_0x5132c3;Object[_0x147195(0x1bf)](_0x3dabeb)[_0x147195(0x1ca)]==0x0&&(_0x3dabeb={'type':[_0x147195(0xc0),_0x147195(0x171)],'event':'','page':0x1});if(_0x3dabeb[_0x147195(0xf5)][_0x147195(0xc4)](_0x147195(0x171)))_0x3dabeb[_0x147195(0xf5)][_0x147195(0xab)](_0x3dabeb[_0x147195(0xf5)][_0x147195(0x1ee)](_0x147195(0x171)),0x1,_0x147195(0xfd),_0x147195(0x104));if(dbLogs['has'](_0x147195(0x166))[_0x147195(0x204)]()){let _0x2d6a58=dbLogs['get']('logs')['filter'](_0x1558d8=>{const _0x480d3e=_0x147195;if(_0x3dabeb[_0x480d3e(0xf5)][_0x480d3e(0x1ca)]==0x0)return![];else return _0x3dabeb['type']['includes'](_0x1558d8[_0x480d3e(0xf5)]);})['filter'](_0x17bc16=>{const _0x2fe338=_0x147195;if(_0x3dabeb[_0x2fe338(0x171)]=='')return!![];else return _0x17bc16[_0x2fe338(0x171)][_0x2fe338(0x12c)]()['includes'](_0x3dabeb[_0x2fe338(0x171)][_0x2fe338(0x12c)]());})[_0x147195(0xb7)](_0x147195(0x13b)),_0x4a4e23=_0x2d6a58[_0x147195(0x204)]()[_0x147195(0x1ca)];_0x2d6a58=_0x2d6a58[_0x147195(0xbf)]()[_0x147195(0x1f6)]((_0x3dabeb[_0x147195(0xad)]-0x1)*logPageSize,_0x3dabeb['page']*logPageSize-0x1)[_0x147195(0xbf)]()[_0x147195(0x204)](),proxyEmit(_0x147195(0x190),{'logs':_0x2d6a58,'total':_0x4a4e23});}else proxyEmit(_0x147195(0x190),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4480d7){const _0x5a9cf3=_0x5132c3;if(dbLogs['has'](_0x5a9cf3(0x166))[_0x5a9cf3(0x204)]()){const _0x526498=dbLogs[_0x5a9cf3(0xdc)](_0x5a9cf3(0x166))[_0x5a9cf3(0xb7)](_0x5a9cf3(0x13b))['filter'](_0xdd949f=>{const _0xa90400=_0x5a9cf3;return _0xdd949f[_0xa90400(0xf5)]=='order';})[_0x5a9cf3(0x204)]();dbLogs['get'](_0x5a9cf3(0x166))[_0x5a9cf3(0x173)]()[_0x5a9cf3(0x1b9)](),dbLogs['get'](_0x5a9cf3(0x166))['assign'](_0x526498)['write'](),emitHistory(_0x4480d7);}}async function pauseBot(_0x551bf6=''){const _0x45b51d=_0x5132c3,_0x3cc045=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x45b51d(0x176)](),consecutivePauses=0x1;else{if(_0x3cc045-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x45b51d(0x10c)},_0x5e94dd=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x45b51d(0x176)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x551bf6)_0x551bf6+=_0x45b51d(0x144);logHistory(_0x45b51d(0xfd),_0x551bf6+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x45b51d(0xcd)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x2a8bc1=_0x5132c3;process['send']({'stop':_0x2a8bc1(0x188)},_0x3ea97f=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xb22146,_0x21e7b5){const _0x256eb8=_0x5132c3;if(_0xb22146[_0x256eb8(0x1f1)]()['includes']('API-key\x20format\x20invalid'))return logHistory(_0x256eb8(0xfd),_0x256eb8(0x1e4)),![];else{if(_0xb22146[_0x256eb8(0x1f1)]()[_0x256eb8(0xc4)]('AuthenticationError'))return logHistory(_0x256eb8(0xfd),_0x256eb8(0x207)),![];else{if(_0xb22146[_0x256eb8(0x1f1)]()[_0x256eb8(0xc4)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error',_0x256eb8(0x1db)),![];else await handleError(_0xb22146,_0x21e7b5);}}}async function handleError(_0x4dc8a9,_0xc978c5,_0x50e61c=''){const _0x36d230=_0x5132c3;if(_0x4dc8a9[_0x36d230(0x1f1)]()['includes'](_0x36d230(0x179)))await pauseBot(_0x36d230(0x200));else{if(_0x4dc8a9[_0x36d230(0x1f1)]()[_0x36d230(0xc4)](_0x36d230(0x1e6)))await pauseBot(_0x36d230(0x19b));else{if(_0x4dc8a9[_0x36d230(0x1f1)]()['includes'](_0x36d230(0x1f2)))await pauseBot(_0x36d230(0x208));else{if(_0x4dc8a9[_0x36d230(0x1f1)]()['includes'](_0x36d230(0x142)))logHistory(_0x36d230(0xfd),_0xc978c5+_0x36d230(0x20f)),logHistory(_0x36d230(0xfd),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4dc8a9[_0x36d230(0x1f1)]()[_0x36d230(0xc4)](_0x36d230(0x1e3)))logHistory(_0x36d230(0xfd),_0xc978c5+_0x36d230(0xef)),logHistory(_0x36d230(0xfd),_0x36d230(0x121)),await killBot();else{if(_0x4dc8a9['toString']()[_0x36d230(0xc4)](_0x36d230(0x11e)))logHistory('error',_0xc978c5+_0x36d230(0x1ec)),logHistory(_0x36d230(0xfd),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x4dc8a9[_0x36d230(0x1f1)]()[_0x36d230(0xc4)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x36d230(0xfd),_0xc978c5+_0x36d230(0x1d3)),logHistory(_0x36d230(0xfd),_0x36d230(0x121)),await killBot();else{if(_0x4dc8a9[_0x36d230(0x1f1)]()[_0x36d230(0xc4)]('InvalidNonce'))await pauseBot(_0x36d230(0x10e)),process[_0x36d230(0x1e0)]({'stop':'restart'},_0x33c2ec=>{});else _0x4dc8a9[_0x36d230(0x1f1)]()[_0x36d230(0xc4)](_0x36d230(0x160))?logHistory(_0x36d230(0xfd),_0xc978c5+_0x36d230(0x193)+_0x50e61c):(logger[_0x36d230(0xb1)](_0xc978c5+_0x36d230(0xda),_0x4dc8a9),await pauseBot(_0x36d230(0xe0)));}}}}}}}}function formatResult(_0x2fe000,_0x2b5549){const _0x76cf9a=_0x5132c3;return parseFloat(_0x2fe000[_0x76cf9a(0x17c)](_0x2b5549));}function formatResultTruncate(_0x70a4a9,_0x3a5af1){const _0x1d37a0=_0x5132c3;let _0x2dc425=formatResultString(_0x70a4a9,0xa),_0x5839c2=_0x2dc425[_0x1d37a0(0x1ee)]('.');return _0x5839c2!=-0x1&&(_0x2dc425=_0x2dc425['slice'](0x0,_0x5839c2+_0x3a5af1+0x1)),Number(_0x2dc425);}function formatResultString(_0x145fd7,_0x29b8f3){const _0x3c790d=_0x5132c3;let _0xd7564d;if(!(''+_0x145fd7)[_0x3c790d(0xc4)]('e'))_0xd7564d=+(Math[_0x3c790d(0x20d)](_0x145fd7+'e+'+_0x29b8f3)+'e-'+_0x29b8f3);else{let _0x13c4f9=(''+_0x145fd7)[_0x3c790d(0x164)]('e'),_0x382027='';+_0x13c4f9[0x1]+_0x29b8f3>0x0&&(_0x382027='+'),_0xd7564d=+(Math[_0x3c790d(0x20d)](+_0x13c4f9[0x0]+'e'+_0x382027+(+_0x13c4f9[0x1]+_0x29b8f3))+'e-'+_0x29b8f3);}return Number(_0xd7564d)['toFixed'](_0x29b8f3);}function getServerTime(){const _0x241091=_0x5132c3,_0x29b3e7=new Date();return _0x29b3e7[_0x241091(0xcf)]()+'/'+(_0x29b3e7['getMonth']()+0x1)['toString']()[_0x241091(0x183)](0x2,'0')+'/'+_0x29b3e7[_0x241091(0x17b)]()[_0x241091(0x1f1)]()['padStart'](0x2,'0')+'\x20'+_0x29b3e7[_0x241091(0x1bb)]()[_0x241091(0x1f1)]()[_0x241091(0x183)](0x2,'0')+':'+_0x29b3e7[_0x241091(0x1ac)]()[_0x241091(0x1f1)]()['padStart'](0x2,'0')+':'+_0x29b3e7[_0x241091(0x17d)]()[_0x241091(0x1f1)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x15c7be=_0x5132c3,_0x454360=shiftedTime();return _0x454360[_0x15c7be(0xcf)]()+'/'+(_0x454360[_0x15c7be(0x100)]()+0x1)[_0x15c7be(0x1f1)]()[_0x15c7be(0x183)](0x2,'0')+'/'+_0x454360[_0x15c7be(0x17b)]()[_0x15c7be(0x1f1)]()[_0x15c7be(0x183)](0x2,'0')+'\x20'+_0x454360[_0x15c7be(0x1bb)]()[_0x15c7be(0x1f1)]()[_0x15c7be(0x183)](0x2,'0')+':'+_0x454360[_0x15c7be(0x1ac)]()[_0x15c7be(0x1f1)]()[_0x15c7be(0x183)](0x2,'0')+':'+_0x454360[_0x15c7be(0x17d)]()['toString']()[_0x15c7be(0x183)](0x2,'0');}function getDate(){const _0x3728b6=_0x5132c3,_0x5df6c8=shiftedTime();return _0x5df6c8[_0x3728b6(0xcf)]()+'/'+(_0x5df6c8[_0x3728b6(0x100)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x5df6c8['getDate']()[_0x3728b6(0x1f1)]()['padStart'](0x2,'0');}function getHour(){const _0x215bb6=_0x5132c3,_0x75f9ea=shiftedTime();return _0x75f9ea[_0x215bb6(0x1bb)]()[_0x215bb6(0x1f1)]()['padStart'](0x2,'0');}function sleep(_0x15e8a6){return new Promise(_0x483bfe=>setTimeout(_0x483bfe,_0x15e8a6));}function shiftedTime(){const _0x52418f=_0x5132c3,_0x174215=new Date();let _0x43f75f=_0x174215;if(config&&config['timeshift']!==0x0)_0x43f75f=fns[_0x52418f(0x184)](_0x174215,{'hours':config[_0x52418f(0x18e)]});return _0x43f75f;}